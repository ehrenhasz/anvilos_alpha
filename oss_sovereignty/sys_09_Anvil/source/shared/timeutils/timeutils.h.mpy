{
  "module_name": "timeutils.h",
  "hash_id": "f25e85dbd4c514c7a53d02263df7db6cc7640b8b357dc1f0dcd472991af1dd2b",
  "original_prompt": "Ingested from sys_09_Anvil/source/shared/timeutils/timeutils.h",
  "human_readable_source": " \n#ifndef MICROPY_INCLUDED_LIB_TIMEUTILS_TIMEUTILS_H\n#define MICROPY_INCLUDED_LIB_TIMEUTILS_TIMEUTILS_H\n\n\n\n#define TIMEUTILS_SECONDS_1970_TO_2000 (946684800ULL)\n\ntypedef struct _timeutils_struct_time_t {\n    uint16_t tm_year;       \n    uint8_t tm_mon;         \n    uint8_t tm_mday;        \n    uint8_t tm_hour;        \n    uint8_t tm_min;         \n    uint8_t tm_sec;         \n    uint8_t tm_wday;        \n    uint16_t tm_yday;       \n} timeutils_struct_time_t;\n\nbool timeutils_is_leap_year(mp_uint_t year);\nmp_uint_t timeutils_days_in_month(mp_uint_t year, mp_uint_t month);\nmp_uint_t timeutils_year_day(mp_uint_t year, mp_uint_t month, mp_uint_t date);\n\nvoid timeutils_seconds_since_2000_to_struct_time(mp_uint_t t,\n    timeutils_struct_time_t *tm);\n\nmp_uint_t timeutils_seconds_since_2000(mp_uint_t year, mp_uint_t month,\n    mp_uint_t date, mp_uint_t hour, mp_uint_t minute, mp_uint_t second);\n\nmp_uint_t timeutils_mktime_2000(mp_uint_t year, mp_int_t month, mp_int_t mday,\n    mp_int_t hours, mp_int_t minutes, mp_int_t seconds);\n\n\n#if MICROPY_EPOCH_IS_1970\n\nstatic inline void timeutils_seconds_since_epoch_to_struct_time(uint64_t t, timeutils_struct_time_t *tm) {\n    \n    timeutils_seconds_since_2000_to_struct_time(t - TIMEUTILS_SECONDS_1970_TO_2000, tm);\n}\n\nstatic inline uint64_t timeutils_mktime(mp_uint_t year, mp_int_t month, mp_int_t mday, mp_int_t hours, mp_int_t minutes, mp_int_t seconds) {\n    return timeutils_mktime_2000(year, month, mday, hours, minutes, seconds) + TIMEUTILS_SECONDS_1970_TO_2000;\n}\n\nstatic inline uint64_t timeutils_seconds_since_epoch(mp_uint_t year, mp_uint_t month,\n    mp_uint_t date, mp_uint_t hour, mp_uint_t minute, mp_uint_t second) {\n    \n    return timeutils_seconds_since_2000(year, month, date, hour, minute, second) + TIMEUTILS_SECONDS_1970_TO_2000;\n}\n\nstatic inline mp_uint_t timeutils_seconds_since_epoch_from_nanoseconds_since_1970(uint64_t ns) {\n    return ns / 1000000000ULL;\n}\n\nstatic inline uint64_t timeutils_nanoseconds_since_epoch_to_nanoseconds_since_1970(uint64_t ns) {\n    return ns;\n}\n\n#else \n\n#define timeutils_seconds_since_epoch_to_struct_time timeutils_seconds_since_2000_to_struct_time\n#define timeutils_seconds_since_epoch timeutils_seconds_since_2000\n#define timeutils_mktime timeutils_mktime_2000\n\nstatic inline uint64_t timeutils_seconds_since_epoch_to_nanoseconds_since_1970(mp_uint_t s) {\n    return ((uint64_t)s + TIMEUTILS_SECONDS_1970_TO_2000) * 1000000000ULL;\n}\n\nstatic inline mp_uint_t timeutils_seconds_since_epoch_from_nanoseconds_since_1970(uint64_t ns) {\n    return ns / 1000000000ULL - TIMEUTILS_SECONDS_1970_TO_2000;\n}\n\nstatic inline int64_t timeutils_nanoseconds_since_epoch_to_nanoseconds_since_1970(int64_t ns) {\n    return ns + TIMEUTILS_SECONDS_1970_TO_2000 * 1000000000ULL;\n}\n\n#endif\n\nint timeutils_calc_weekday(int y, int m, int d);\n\n#endif \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}