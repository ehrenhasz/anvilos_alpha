{
  "module_name": "string0.c",
  "hash_id": "e7857bba23afbedd7e5dec211e7117a7681b20000d31d0fb4cced8510e78e4e5",
  "original_prompt": "Ingested from sys_09_Anvil/source/shared/libc/string0.c",
  "human_readable_source": " \n\n#include <stdint.h>\n#include <stddef.h>\n\n#define likely(x) __builtin_expect((x), 1)\n\nvoid *memcpy(void *dst, const void *src, size_t n) {\n    if (likely(!(((uintptr_t)dst) & 3) && !(((uintptr_t)src) & 3))) {\n        \n        uint32_t *d = dst;\n        const uint32_t *s = src;\n\n        \n        for (size_t i = (n >> 2); i; i--) {\n            *d++ = *s++;\n        }\n\n        if (n & 2) {\n            \n            *(uint16_t*)d = *(const uint16_t*)s;\n            d = (uint32_t*)((uint16_t*)d + 1);\n            s = (const uint32_t*)((const uint16_t*)s + 1);\n        }\n\n        if (n & 1) {\n            \n            *((uint8_t*)d) = *((const uint8_t*)s);\n        }\n    } else {\n        \n        uint8_t *d = dst;\n        const uint8_t *s = src;\n\n        for (; n; n--) {\n            *d++ = *s++;\n        }\n    }\n\n    return dst;\n}\n\nvoid *__memcpy_chk(void *dest, const void *src, size_t len, size_t slen) {\n    if (len > slen) {\n        return NULL;\n    }\n    return memcpy(dest, src, len);\n}\n\nvoid *memmove(void *dest, const void *src, size_t n) {\n    if (src < dest && (uint8_t*)dest < (const uint8_t*)src + n) {\n        \n        uint8_t *d = (uint8_t*)dest + n - 1;\n        const uint8_t *s = (const uint8_t*)src + n - 1;\n        for (; n > 0; n--) {\n            *d-- = *s--;\n        }\n        return dest;\n    } else {\n        \n        return memcpy(dest, src, n);\n    }\n}\n\nvoid *memset(void *s, int c, size_t n) {\n    if (c == 0 && ((uintptr_t)s & 3) == 0) {\n        \n        uint32_t *s32 = s;\n        for (size_t i = n >> 2; i > 0; i--) {\n            *s32++ = 0;\n        }\n        if (n & 2) {\n            *((uint16_t*)s32) = 0;\n            s32 = (uint32_t*)((uint16_t*)s32 + 1);\n        }\n        if (n & 1) {\n            *((uint8_t*)s32) = 0;\n        }\n    } else {\n        uint8_t *s2 = s;\n        for (; n > 0; n--) {\n            *s2++ = c;\n        }\n    }\n    return s;\n}\n\nint memcmp(const void *s1, const void *s2, size_t n) {\n    const uint8_t *s1_8 = s1;\n    const uint8_t *s2_8 = s2;\n    while (n--) {\n        char c1 = *s1_8++;\n        char c2 = *s2_8++;\n        if (c1 < c2) return -1;\n        else if (c1 > c2) return 1;\n    }\n    return 0;\n}\n\nvoid *memchr(const void *s, int c, size_t n) {\n    if (n != 0) {\n        const unsigned char *p = s;\n\n        do {\n            if (*p++ == c)\n                return ((void *)(p - 1));\n        } while (--n != 0);\n    }\n    return 0;\n}\n\nsize_t strlen(const char *str) {\n    int len = 0;\n    for (const char *s = str; *s; s++) {\n        len += 1;\n    }\n    return len;\n}\n\nint strcmp(const char *s1, const char *s2) {\n    while (*s1 && *s2) {\n        char c1 = *s1++; \n        char c2 = *s2++; \n        if (c1 < c2) return -1;\n        else if (c1 > c2) return 1;\n    }\n    if (*s2) return -1;\n    else if (*s1) return 1;\n    else return 0;\n}\n\nint strncmp(const char *s1, const char *s2, size_t n) {\n    while (n > 0 && *s1 && *s2) {\n        char c1 = *s1++; \n        char c2 = *s2++; \n        n--;\n        if (c1 < c2) return -1;\n        else if (c1 > c2) return 1;\n    }\n    if (n == 0) return 0;\n    else if (*s2) return -1;\n    else if (*s1) return 1;\n    else return 0;\n}\n\nchar *strcpy(char *dest, const char *src) {\n    char *d = dest;\n    while (*src) {\n        *d++ = *src++;\n    }\n    *d = '\\0';\n    return dest;\n}\n\n\n\nchar *strncpy(char *s1, const char *s2, size_t n) {\n     char *dst = s1;\n     const char *src = s2;\n      \n     while (n > 0) {\n         n--;\n         if ((*dst++ = *src++) == '\\0') {\n              \n             memset(dst, '\\0', n);\n             break;\n         }\n     }\n     return s1;\n }\n\n\nchar *stpcpy(char *dest, const char *src) {\n    while (*src) {\n        *dest++ = *src++;\n    }\n    *dest = '\\0';\n    return dest;\n}\n\nchar *strcat(char *dest, const char *src) {\n    char *d = dest;\n    while (*d) {\n        d++;\n    }\n    while (*src) {\n        *d++ = *src++;\n    }\n    *d = '\\0';\n    return dest;\n}\n\n\n\nchar *strchr(const char *s, int c)\n{\n     \n    while (*s != '\\0' && *s != (char)c)\n        s++;\n    return ((*s == c) ? (char *) s : 0);\n}\n\n\n\n\nchar *strstr(const char *haystack, const char *needle)\n{\n    size_t needlelen;\n     \n    if (*needle == '\\0')\n        return (char *) haystack;\n    needlelen = strlen(needle);\n    for (; (haystack = strchr(haystack, *needle)) != 0; haystack++)\n        if (strncmp(haystack, needle, needlelen) == 0)\n            return (char *) haystack;\n    return 0;\n}\n\nsize_t strspn(const char *s, const char *accept) {\n    const char *ss = s;\n    while (*s && strchr(accept, *s) != NULL) {\n        ++s;\n    }\n    return s - ss;\n}\n\nsize_t strcspn(const char *s, const char *reject) {\n    const char *ss = s;\n    while (*s && strchr(reject, *s) == NULL) {\n        ++s;\n    }\n    return s - ss;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}