{
  "module_name": "nlrthumb.c",
  "hash_id": "73cf0a33748080261539c880cc3abc62e1efc2c57b89898e5a952edbae61462f",
  "original_prompt": "Ingested from sys_09_Anvil/source/py/nlrthumb.c",
  "human_readable_source": " \n\n#include \"py/mpstate.h\"\n\n#if MICROPY_NLR_THUMB\n\n#undef nlr_push\n\n\n\n\n\n\n\n__attribute__((naked)) unsigned int nlr_push(nlr_buf_t *nlr) {\n\n    \n    \n    \n    \n    \n    \n    \n    \n    __asm volatile (\n        \"str    r4, [r0, #12]       \\n\" \n        \"str    r5, [r0, #16]       \\n\" \n        \"str    r6, [r0, #20]       \\n\" \n        \"str    r7, [r0, #24]       \\n\" \n\n        #if !defined(__thumb2__)\n        \"mov    r1, r8              \\n\"\n        \"str    r1, [r0, #28]       \\n\" \n        \"mov    r1, r9              \\n\"\n        \"str    r1, [r0, #32]       \\n\" \n        \"mov    r1, r10             \\n\"\n        \"str    r1, [r0, #36]       \\n\" \n        \"mov    r1, r11             \\n\"\n        \"str    r1, [r0, #40]       \\n\" \n        \"mov    r1, r13             \\n\"\n        \"str    r1, [r0, #44]       \\n\" \n        \"mov    r1, lr              \\n\"\n        \"str    r1, [r0, #8]        \\n\" \n        #else\n        \"str    r8, [r0, #28]       \\n\" \n        \"str    r9, [r0, #32]       \\n\" \n        \"str    r10, [r0, #36]      \\n\" \n        \"str    r11, [r0, #40]      \\n\" \n        \"str    r13, [r0, #44]      \\n\" \n        #if MICROPY_NLR_NUM_REGS == 16\n        \"vstr   d8, [r0, #48]       \\n\" \n        \"vstr   d9, [r0, #56]       \\n\" \n        \"vstr   d10, [r0, #64]      \\n\" \n        #endif\n        \"str    lr, [r0, #8]        \\n\" \n        #endif\n\n        #if MICROPY_NLR_THUMB_USE_LONG_JUMP\n        \"ldr    r1, nlr_push_tail_var \\n\"\n        \"bx     r1                  \\n\" \n        \".align 2                   \\n\"\n        \"nlr_push_tail_var: .word nlr_push_tail \\n\"\n        #else\n        #if defined(__APPLE__) || defined(__MACH__)\n        \"b      _nlr_push_tail      \\n\" \n        #else\n        \"b      nlr_push_tail       \\n\" \n        #endif\n        #endif\n        );\n\n    #if !defined(__clang__) && defined(__GNUC__) && (__GNUC__ < 4 || (__GNUC__ == 4 && __GNUC_MINOR__ < 8))\n    \n    \n    return 0;\n    #endif\n}\n\nNORETURN void nlr_jump(void *val) {\n    MP_NLR_JUMP_HEAD(val, top)\n\n    __asm volatile (\n        \"mov    r0, %0              \\n\" \n        \"ldr    r4, [r0, #12]       \\n\" \n        \"ldr    r5, [r0, #16]       \\n\" \n        \"ldr    r6, [r0, #20]       \\n\" \n        \"ldr    r7, [r0, #24]       \\n\" \n\n        #if !defined(__thumb2__)\n        \"ldr    r1, [r0, #28]       \\n\" \n        \"mov    r8, r1              \\n\"\n        \"ldr    r1, [r0, #32]       \\n\" \n        \"mov    r9, r1              \\n\"\n        \"ldr    r1, [r0, #36]       \\n\" \n        \"mov    r10, r1             \\n\"\n        \"ldr    r1, [r0, #40]       \\n\" \n        \"mov    r11, r1             \\n\"\n        \"ldr    r1, [r0, #44]       \\n\" \n        \"mov    r13, r1             \\n\"\n        \"ldr    r1, [r0, #8]        \\n\" \n        \"mov    lr, r1              \\n\"\n        #else\n        \"ldr    r8, [r0, #28]       \\n\" \n        \"ldr    r9, [r0, #32]       \\n\" \n        \"ldr    r10, [r0, #36]      \\n\" \n        \"ldr    r11, [r0, #40]      \\n\" \n        \"ldr    r13, [r0, #44]      \\n\" \n        #if MICROPY_NLR_NUM_REGS == 16\n        \"vldr   d8, [r0, #48]       \\n\" \n        \"vldr   d9, [r0, #56]       \\n\" \n        \"vldr   d10, [r0, #64]      \\n\" \n        #endif\n        \"ldr    lr, [r0, #8]        \\n\" \n        #endif\n        \"movs   r0, #1              \\n\" \n        \"bx     lr                  \\n\" \n        :                           \n        : \"r\" (top)                 \n        : \"memory\"                  \n        );\n\n    MP_UNREACHABLE\n}\n\n#endif \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}