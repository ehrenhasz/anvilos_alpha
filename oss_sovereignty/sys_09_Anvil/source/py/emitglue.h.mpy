{
  "module_name": "emitglue.h",
  "hash_id": "c8d4f8d22ba7c4eb9cf4d6ebad9b5fd5195a136658b861f0c6eb1923ba8c4d3f",
  "original_prompt": "Ingested from sys_09_Anvil/source/py/emitglue.h",
  "human_readable_source": " \n#ifndef MICROPY_INCLUDED_PY_EMITGLUE_H\n#define MICROPY_INCLUDED_PY_EMITGLUE_H\n\n#include \"py/obj.h\"\n#include \"py/bc.h\"\n\n\n\n\n\n#define MP_PROTO_FUN_INDICATOR_RAW_CODE_0 (0)\n#define MP_PROTO_FUN_INDICATOR_RAW_CODE_1 (0)\n\n\nenum {\n    MP_EMIT_OPT_NONE,\n    MP_EMIT_OPT_BYTECODE,\n    MP_EMIT_OPT_NATIVE_PYTHON,\n    MP_EMIT_OPT_VIPER,\n    MP_EMIT_OPT_ASM,\n};\n\ntypedef enum {\n    MP_CODE_UNUSED,\n    MP_CODE_RESERVED,\n    MP_CODE_BYTECODE,\n    MP_CODE_NATIVE_PY,\n    MP_CODE_NATIVE_VIPER,\n    MP_CODE_NATIVE_ASM,\n} mp_raw_code_kind_t;\n\n\n\n\ntypedef const void *mp_proto_fun_t;\n\n\n\n\nstatic inline bool mp_proto_fun_is_bytecode(mp_proto_fun_t proto_fun) {\n    const uint8_t *header = (const uint8_t *)proto_fun;\n    return (header[0] | (header[1] << 8)) != (MP_PROTO_FUN_INDICATOR_RAW_CODE_0 | (MP_PROTO_FUN_INDICATOR_RAW_CODE_1 << 8));\n}\n\n\n\n\n\ntypedef struct _mp_raw_code_t {\n    uint8_t proto_fun_indicator[2];\n    uint8_t kind; \n    bool is_generator;\n    const void *fun_data;\n    struct _mp_raw_code_t **children;\n    #if MICROPY_PERSISTENT_CODE_SAVE\n    uint32_t fun_data_len; \n    uint16_t n_children;\n    #if MICROPY_EMIT_MACHINE_CODE\n    uint16_t prelude_offset;\n    #endif\n    #if MICROPY_PY_SYS_SETTRACE\n    \n    \n    \n    \n    uint32_t line_of_definition;\n    mp_bytecode_prelude_t prelude;\n    #endif\n    #endif\n    #if MICROPY_EMIT_INLINE_ASM\n    uint32_t asm_n_pos_args : 8;\n    uint32_t asm_type_sig : 24; \n    #endif\n} mp_raw_code_t;\n\n\n\n\ntypedef struct _mp_raw_code_truncated_t {\n    uint8_t proto_fun_indicator[2];\n    uint8_t kind;\n    bool is_generator;\n    const void *fun_data;\n    struct _mp_raw_code_t **children;\n    #if MICROPY_PERSISTENT_CODE_SAVE\n    uint32_t fun_data_len;\n    uint16_t n_children;\n    #if MICROPY_EMIT_MACHINE_CODE\n    uint16_t prelude_offset;\n    #endif\n    #if MICROPY_PY_SYS_SETTRACE\n    uint32_t line_of_definition;\n    mp_bytecode_prelude_t prelude;\n    #endif\n    #endif\n} mp_raw_code_truncated_t;\n\nmp_raw_code_t *mp_emit_glue_new_raw_code(void);\n\nvoid mp_emit_glue_assign_bytecode(mp_raw_code_t *rc, const byte *code,\n    mp_raw_code_t **children,\n    #if MICROPY_PERSISTENT_CODE_SAVE\n    size_t len,\n    uint16_t n_children,\n    #endif\n    uint16_t scope_flags);\n\nvoid mp_emit_glue_assign_native(mp_raw_code_t *rc, mp_raw_code_kind_t kind, const void *fun_data, mp_uint_t fun_len,\n    mp_raw_code_t **children,\n    #if MICROPY_PERSISTENT_CODE_SAVE\n    uint16_t n_children,\n    uint16_t prelude_offset,\n    #endif\n    uint16_t scope_flags, uint32_t asm_n_pos_args, uint32_t asm_type_sig);\n\nmp_obj_t mp_make_function_from_proto_fun(mp_proto_fun_t proto_fun, const mp_module_context_t *context, const mp_obj_t *def_args);\nmp_obj_t mp_make_closure_from_proto_fun(mp_proto_fun_t proto_fun, const mp_module_context_t *context, mp_uint_t n_closed_over, const mp_obj_t *args);\n\n#endif \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}