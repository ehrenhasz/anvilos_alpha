{
  "module_name": "asmarm.h",
  "hash_id": "4495e101960285126357147f29f58d43b1e61755f7513b2b10808d5bf4298634",
  "original_prompt": "Ingested from sys_09_Anvil/source/py/asmarm.h",
  "human_readable_source": " \n#ifndef MICROPY_INCLUDED_PY_ASMARM_H\n#define MICROPY_INCLUDED_PY_ASMARM_H\n\n#include \"py/misc.h\"\n#include \"py/asmbase.h\"\n\n#define ASM_ARM_REG_R0  (0)\n#define ASM_ARM_REG_R1  (1)\n#define ASM_ARM_REG_R2  (2)\n#define ASM_ARM_REG_R3  (3)\n#define ASM_ARM_REG_R4  (4)\n#define ASM_ARM_REG_R5  (5)\n#define ASM_ARM_REG_R6  (6)\n#define ASM_ARM_REG_R7  (7)\n#define ASM_ARM_REG_R8  (8)\n#define ASM_ARM_REG_R9  (9)\n#define ASM_ARM_REG_R10 (10)\n#define ASM_ARM_REG_R11 (11)\n#define ASM_ARM_REG_R12 (12)\n#define ASM_ARM_REG_R13 (13)\n#define ASM_ARM_REG_R14 (14)\n#define ASM_ARM_REG_R15 (15)\n#define ASM_ARM_REG_SP  (ASM_ARM_REG_R13)\n#define ASM_ARM_REG_LR  (ASM_ARM_REG_R14)\n#define ASM_ARM_REG_PC  (ASM_ARM_REG_R15)\n\n#define ASM_ARM_CC_EQ (0x0 << 28)\n#define ASM_ARM_CC_NE (0x1 << 28)\n#define ASM_ARM_CC_CS (0x2 << 28)\n#define ASM_ARM_CC_CC (0x3 << 28)\n#define ASM_ARM_CC_MI (0x4 << 28)\n#define ASM_ARM_CC_PL (0x5 << 28)\n#define ASM_ARM_CC_VS (0x6 << 28)\n#define ASM_ARM_CC_VC (0x7 << 28)\n#define ASM_ARM_CC_HI (0x8 << 28)\n#define ASM_ARM_CC_LS (0x9 << 28)\n#define ASM_ARM_CC_GE (0xa << 28)\n#define ASM_ARM_CC_LT (0xb << 28)\n#define ASM_ARM_CC_GT (0xc << 28)\n#define ASM_ARM_CC_LE (0xd << 28)\n#define ASM_ARM_CC_AL (0xe << 28)\n\ntypedef struct _asm_arm_t {\n    mp_asm_base_t base;\n    uint push_reglist;\n    uint stack_adjust;\n} asm_arm_t;\n\nstatic inline void asm_arm_end_pass(asm_arm_t *as) {\n    (void)as;\n}\n\nvoid asm_arm_entry(asm_arm_t *as, int num_locals);\nvoid asm_arm_exit(asm_arm_t *as);\n\nvoid asm_arm_bkpt(asm_arm_t *as);\n\n\nvoid asm_arm_mov_reg_reg(asm_arm_t *as, uint reg_dest, uint reg_src);\nsize_t asm_arm_mov_reg_i32(asm_arm_t *as, uint rd, int imm);\nvoid asm_arm_mov_reg_i32_optimised(asm_arm_t *as, uint rd, int imm);\nvoid asm_arm_mov_local_reg(asm_arm_t *as, int local_num, uint rd);\nvoid asm_arm_mov_reg_local(asm_arm_t *as, uint rd, int local_num);\nvoid asm_arm_setcc_reg(asm_arm_t *as, uint rd, uint cond);\n\n\nvoid asm_arm_cmp_reg_i8(asm_arm_t *as, uint rd, int imm);\nvoid asm_arm_cmp_reg_reg(asm_arm_t *as, uint rd, uint rn);\n\n\nvoid asm_arm_mvn_reg_reg(asm_arm_t *as, uint rd, uint rm);\nvoid asm_arm_add_reg_reg_reg(asm_arm_t *as, uint rd, uint rn, uint rm);\nvoid asm_arm_sub_reg_reg_reg(asm_arm_t *as, uint rd, uint rn, uint rm);\nvoid asm_arm_rsb_reg_reg_imm(asm_arm_t *as, uint rd, uint rn, uint imm);\nvoid asm_arm_mul_reg_reg_reg(asm_arm_t *as, uint rd, uint rn, uint rm);\nvoid asm_arm_and_reg_reg_reg(asm_arm_t *as, uint rd, uint rn, uint rm);\nvoid asm_arm_eor_reg_reg_reg(asm_arm_t *as, uint rd, uint rn, uint rm);\nvoid asm_arm_orr_reg_reg_reg(asm_arm_t *as, uint rd, uint rn, uint rm);\nvoid asm_arm_mov_reg_local_addr(asm_arm_t *as, uint rd, int local_num);\nvoid asm_arm_mov_reg_pcrel(asm_arm_t *as, uint reg_dest, uint label);\nvoid asm_arm_lsl_reg_reg(asm_arm_t *as, uint rd, uint rs);\nvoid asm_arm_lsr_reg_reg(asm_arm_t *as, uint rd, uint rs);\nvoid asm_arm_asr_reg_reg(asm_arm_t *as, uint rd, uint rs);\n\n\nvoid asm_arm_ldr_reg_reg(asm_arm_t *as, uint rd, uint rn, uint byte_offset);\nvoid asm_arm_ldrh_reg_reg(asm_arm_t *as, uint rd, uint rn);\nvoid asm_arm_ldrh_reg_reg_offset(asm_arm_t *as, uint rd, uint rn, uint byte_offset);\nvoid asm_arm_ldrb_reg_reg(asm_arm_t *as, uint rd, uint rn);\nvoid asm_arm_str_reg_reg(asm_arm_t *as, uint rd, uint rm, uint byte_offset);\nvoid asm_arm_strh_reg_reg(asm_arm_t *as, uint rd, uint rm);\nvoid asm_arm_strb_reg_reg(asm_arm_t *as, uint rd, uint rm);\n\nvoid asm_arm_str_reg_reg_reg(asm_arm_t *as, uint rd, uint rm, uint rn);\nvoid asm_arm_strh_reg_reg_reg(asm_arm_t *as, uint rd, uint rm, uint rn);\nvoid asm_arm_strb_reg_reg_reg(asm_arm_t *as, uint rd, uint rm, uint rn);\n\n\nvoid asm_arm_push(asm_arm_t *as, uint reglist);\nvoid asm_arm_pop(asm_arm_t *as, uint reglist);\n\n\nvoid asm_arm_bcc_label(asm_arm_t *as, int cond, uint label);\nvoid asm_arm_b_label(asm_arm_t *as, uint label);\nvoid asm_arm_bl_ind(asm_arm_t *as, uint fun_id, uint reg_temp);\nvoid asm_arm_bx_reg(asm_arm_t *as, uint reg_src);\n\n\n#define ASM_ARM_REG_FUN_TABLE ASM_ARM_REG_R7\n\n#if GENERIC_ASM_API\n\n\n\n\n#define ASM_WORD_SIZE (4)\n\n#define REG_RET ASM_ARM_REG_R0\n#define REG_ARG_1 ASM_ARM_REG_R0\n#define REG_ARG_2 ASM_ARM_REG_R1\n#define REG_ARG_3 ASM_ARM_REG_R2\n#define REG_ARG_4 ASM_ARM_REG_R3\n\n#define REG_TEMP0 ASM_ARM_REG_R0\n#define REG_TEMP1 ASM_ARM_REG_R1\n#define REG_TEMP2 ASM_ARM_REG_R2\n\n#define REG_LOCAL_1 ASM_ARM_REG_R4\n#define REG_LOCAL_2 ASM_ARM_REG_R5\n#define REG_LOCAL_3 ASM_ARM_REG_R6\n#define REG_LOCAL_NUM (3)\n\n\n#define REG_FUN_TABLE ASM_ARM_REG_FUN_TABLE\n\n#define ASM_T               asm_arm_t\n#define ASM_END_PASS        asm_arm_end_pass\n#define ASM_ENTRY           asm_arm_entry\n#define ASM_EXIT            asm_arm_exit\n\n#define ASM_JUMP            asm_arm_b_label\n#define ASM_JUMP_IF_REG_ZERO(as, reg, label, bool_test) \\\n    do { \\\n        asm_arm_cmp_reg_i8(as, reg, 0); \\\n        asm_arm_bcc_label(as, ASM_ARM_CC_EQ, label); \\\n    } while (0)\n#define ASM_JUMP_IF_REG_NONZERO(as, reg, label, bool_test) \\\n    do { \\\n        asm_arm_cmp_reg_i8(as, reg, 0); \\\n        asm_arm_bcc_label(as, ASM_ARM_CC_NE, label); \\\n    } while (0)\n#define ASM_JUMP_IF_REG_EQ(as, reg1, reg2, label) \\\n    do { \\\n        asm_arm_cmp_reg_reg(as, reg1, reg2); \\\n        asm_arm_bcc_label(as, ASM_ARM_CC_EQ, label); \\\n    } while (0)\n#define ASM_JUMP_REG(as, reg) asm_arm_bx_reg((as), (reg))\n#define ASM_CALL_IND(as, idx) asm_arm_bl_ind(as, idx, ASM_ARM_REG_R3)\n\n#define ASM_MOV_LOCAL_REG(as, local_num, reg_src) asm_arm_mov_local_reg((as), (local_num), (reg_src))\n#define ASM_MOV_REG_IMM(as, reg_dest, imm) asm_arm_mov_reg_i32_optimised((as), (reg_dest), (imm))\n#define ASM_MOV_REG_LOCAL(as, reg_dest, local_num) asm_arm_mov_reg_local((as), (reg_dest), (local_num))\n#define ASM_MOV_REG_REG(as, reg_dest, reg_src) asm_arm_mov_reg_reg((as), (reg_dest), (reg_src))\n#define ASM_MOV_REG_LOCAL_ADDR(as, reg_dest, local_num) asm_arm_mov_reg_local_addr((as), (reg_dest), (local_num))\n#define ASM_MOV_REG_PCREL(as, reg_dest, label) asm_arm_mov_reg_pcrel((as), (reg_dest), (label))\n\n#define ASM_NOT_REG(as, reg_dest) asm_arm_mvn_reg_reg((as), (reg_dest), (reg_dest))\n#define ASM_NEG_REG(as, reg_dest) asm_arm_rsb_reg_reg_imm((as), (reg_dest), (reg_dest), 0)\n#define ASM_LSL_REG_REG(as, reg_dest, reg_shift) asm_arm_lsl_reg_reg((as), (reg_dest), (reg_shift))\n#define ASM_LSR_REG_REG(as, reg_dest, reg_shift) asm_arm_lsr_reg_reg((as), (reg_dest), (reg_shift))\n#define ASM_ASR_REG_REG(as, reg_dest, reg_shift) asm_arm_asr_reg_reg((as), (reg_dest), (reg_shift))\n#define ASM_OR_REG_REG(as, reg_dest, reg_src) asm_arm_orr_reg_reg_reg((as), (reg_dest), (reg_dest), (reg_src))\n#define ASM_XOR_REG_REG(as, reg_dest, reg_src) asm_arm_eor_reg_reg_reg((as), (reg_dest), (reg_dest), (reg_src))\n#define ASM_AND_REG_REG(as, reg_dest, reg_src) asm_arm_and_reg_reg_reg((as), (reg_dest), (reg_dest), (reg_src))\n#define ASM_ADD_REG_REG(as, reg_dest, reg_src) asm_arm_add_reg_reg_reg((as), (reg_dest), (reg_dest), (reg_src))\n#define ASM_SUB_REG_REG(as, reg_dest, reg_src) asm_arm_sub_reg_reg_reg((as), (reg_dest), (reg_dest), (reg_src))\n#define ASM_MUL_REG_REG(as, reg_dest, reg_src) asm_arm_mul_reg_reg_reg((as), (reg_dest), (reg_dest), (reg_src))\n\n#define ASM_LOAD_REG_REG(as, reg_dest, reg_base) asm_arm_ldr_reg_reg((as), (reg_dest), (reg_base), 0)\n#define ASM_LOAD_REG_REG_OFFSET(as, reg_dest, reg_base, word_offset) asm_arm_ldr_reg_reg((as), (reg_dest), (reg_base), 4 * (word_offset))\n#define ASM_LOAD8_REG_REG(as, reg_dest, reg_base) asm_arm_ldrb_reg_reg((as), (reg_dest), (reg_base))\n#define ASM_LOAD16_REG_REG(as, reg_dest, reg_base) asm_arm_ldrh_reg_reg((as), (reg_dest), (reg_base))\n#define ASM_LOAD16_REG_REG_OFFSET(as, reg_dest, reg_base, uint16_offset) asm_arm_ldrh_reg_reg_offset((as), (reg_dest), (reg_base), 2 * (uint16_offset))\n#define ASM_LOAD32_REG_REG(as, reg_dest, reg_base) asm_arm_ldr_reg_reg((as), (reg_dest), (reg_base), 0)\n\n#define ASM_STORE_REG_REG(as, reg_value, reg_base) asm_arm_str_reg_reg((as), (reg_value), (reg_base), 0)\n#define ASM_STORE_REG_REG_OFFSET(as, reg_dest, reg_base, word_offset) asm_arm_str_reg_reg((as), (reg_dest), (reg_base), 4 * (word_offset))\n#define ASM_STORE8_REG_REG(as, reg_value, reg_base) asm_arm_strb_reg_reg((as), (reg_value), (reg_base))\n#define ASM_STORE16_REG_REG(as, reg_value, reg_base) asm_arm_strh_reg_reg((as), (reg_value), (reg_base))\n#define ASM_STORE32_REG_REG(as, reg_value, reg_base) asm_arm_str_reg_reg((as), (reg_value), (reg_base), 0)\n\n#endif \n\n#endif \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}