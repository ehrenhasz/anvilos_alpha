{
  "module_name": "extmod.cmake",
  "hash_id": "f8caec7299ef943e2dbfae31120b8e44cf3dc2b47e1ece126638e479c1c0bf11",
  "original_prompt": "Ingested from sys_09_Anvil/source/extmod/extmod.cmake",
  "human_readable_source": "# CMake fragment for MicroPython extmod component\n\nset(MICROPY_EXTMOD_DIR \"${MICROPY_DIR}/extmod\")\nset(MICROPY_OOFATFS_DIR \"${MICROPY_DIR}/lib/oofatfs\")\n\nset(MICROPY_SOURCE_EXTMOD\n    ${MICROPY_DIR}/shared/libc/abort_.c\n    ${MICROPY_DIR}/shared/libc/printf.c\n    ${MICROPY_EXTMOD_DIR}/btstack/modbluetooth_btstack.c\n    ${MICROPY_EXTMOD_DIR}/machine_adc.c\n    ${MICROPY_EXTMOD_DIR}/machine_adc_block.c\n    ${MICROPY_EXTMOD_DIR}/machine_bitstream.c\n    ${MICROPY_EXTMOD_DIR}/machine_i2c.c\n    ${MICROPY_EXTMOD_DIR}/machine_i2s.c\n    ${MICROPY_EXTMOD_DIR}/machine_mem.c\n    ${MICROPY_EXTMOD_DIR}/machine_pulse.c\n    ${MICROPY_EXTMOD_DIR}/machine_pwm.c\n    ${MICROPY_EXTMOD_DIR}/machine_signal.c\n    ${MICROPY_EXTMOD_DIR}/machine_spi.c\n    ${MICROPY_EXTMOD_DIR}/machine_uart.c\n    ${MICROPY_EXTMOD_DIR}/machine_usb_device.c\n    ${MICROPY_EXTMOD_DIR}/machine_wdt.c\n    ${MICROPY_EXTMOD_DIR}/modbluetooth.c\n    ${MICROPY_EXTMOD_DIR}/modframebuf.c\n    ${MICROPY_EXTMOD_DIR}/modlwip.c\n    ${MICROPY_EXTMOD_DIR}/modmachine.c\n    ${MICROPY_EXTMOD_DIR}/modnetwork.c\n    ${MICROPY_EXTMOD_DIR}/modonewire.c\n    ${MICROPY_EXTMOD_DIR}/modasyncio.c\n    ${MICROPY_EXTMOD_DIR}/modbinascii.c\n    ${MICROPY_EXTMOD_DIR}/modcryptolib.c\n    ${MICROPY_EXTMOD_DIR}/moductypes.c\n    ${MICROPY_EXTMOD_DIR}/moddeflate.c\n    ${MICROPY_EXTMOD_DIR}/modhashlib.c\n    ${MICROPY_EXTMOD_DIR}/modheapq.c\n    ${MICROPY_EXTMOD_DIR}/modjson.c\n    ${MICROPY_EXTMOD_DIR}/modos.c\n    ${MICROPY_EXTMOD_DIR}/modplatform.c\n    ${MICROPY_EXTMOD_DIR}/modrandom.c\n    ${MICROPY_EXTMOD_DIR}/modre.c\n    ${MICROPY_EXTMOD_DIR}/modselect.c\n    ${MICROPY_EXTMOD_DIR}/modsocket.c\n    ${MICROPY_EXTMOD_DIR}/modtls_axtls.c\n    ${MICROPY_EXTMOD_DIR}/modtls_mbedtls.c\n    ${MICROPY_EXTMOD_DIR}/modtime.c\n    ${MICROPY_EXTMOD_DIR}/modvfs.c\n    ${MICROPY_EXTMOD_DIR}/modwebsocket.c\n    ${MICROPY_EXTMOD_DIR}/modwebrepl.c\n    ${MICROPY_EXTMOD_DIR}/network_cyw43.c\n    ${MICROPY_EXTMOD_DIR}/network_lwip.c\n    ${MICROPY_EXTMOD_DIR}/network_ninaw10.c\n    ${MICROPY_EXTMOD_DIR}/network_wiznet5k.c\n    ${MICROPY_EXTMOD_DIR}/os_dupterm.c\n    ${MICROPY_EXTMOD_DIR}/vfs.c\n    ${MICROPY_EXTMOD_DIR}/vfs_blockdev.c\n    ${MICROPY_EXTMOD_DIR}/vfs_fat.c\n    ${MICROPY_EXTMOD_DIR}/vfs_fat_diskio.c\n    ${MICROPY_EXTMOD_DIR}/vfs_fat_file.c\n    ${MICROPY_EXTMOD_DIR}/vfs_lfs.c\n    ${MICROPY_EXTMOD_DIR}/vfs_posix.c\n    ${MICROPY_EXTMOD_DIR}/vfs_posix_file.c\n    ${MICROPY_EXTMOD_DIR}/vfs_reader.c\n    ${MICROPY_EXTMOD_DIR}/virtpin.c\n    ${MICROPY_EXTMOD_DIR}/nimble/modbluetooth_nimble.c\n)\n\n# Single-precision libm math library.\n\nset(MICROPY_SOURCE_LIB_LIBM\n    ${MICROPY_DIR}/lib/libm/acoshf.c\n    ${MICROPY_DIR}/lib/libm/asinfacosf.c\n    ${MICROPY_DIR}/lib/libm/asinhf.c\n    ${MICROPY_DIR}/lib/libm/atan2f.c\n    ${MICROPY_DIR}/lib/libm/atanf.c\n    ${MICROPY_DIR}/lib/libm/atanhf.c\n    ${MICROPY_DIR}/lib/libm/ef_rem_pio2.c\n    ${MICROPY_DIR}/lib/libm/erf_lgamma.c\n    ${MICROPY_DIR}/lib/libm/fmodf.c\n    ${MICROPY_DIR}/lib/libm/kf_cos.c\n    ${MICROPY_DIR}/lib/libm/kf_rem_pio2.c\n    ${MICROPY_DIR}/lib/libm/kf_sin.c\n    ${MICROPY_DIR}/lib/libm/kf_tan.c\n    ${MICROPY_DIR}/lib/libm/log1pf.c\n    ${MICROPY_DIR}/lib/libm/math.c\n    ${MICROPY_DIR}/lib/libm/nearbyintf.c\n    ${MICROPY_DIR}/lib/libm/roundf.c\n    ${MICROPY_DIR}/lib/libm/sf_cos.c\n    ${MICROPY_DIR}/lib/libm/sf_erf.c\n    ${MICROPY_DIR}/lib/libm/sf_frexp.c\n    ${MICROPY_DIR}/lib/libm/sf_ldexp.c\n    ${MICROPY_DIR}/lib/libm/sf_modf.c\n    ${MICROPY_DIR}/lib/libm/sf_sin.c\n    ${MICROPY_DIR}/lib/libm/sf_tan.c\n    ${MICROPY_DIR}/lib/libm/wf_lgamma.c\n    ${MICROPY_DIR}/lib/libm/wf_tgamma.c\n)\n\n# Choose only one of these sqrt implementations, software or hardware.\nset(MICROPY_SOURCE_LIB_LIBM_SQRT_SW ${MICROPY_DIR}/lib/libm/ef_sqrt.c)\nset(MICROPY_SOURCE_LIB_LIBM_SQRT_HW ${MICROPY_DIR}/lib/libm/thumb_vfp_sqrtf.c)\n\n# Library for btree module and associated code\n\nif(MICROPY_PY_BTREE)\n    set(MICROPY_LIB_BERKELEY_DIR \"${MICROPY_DIR}/lib/berkeley-db-1.xx\")\n    string(CONCAT GIT_SUBMODULES \"${GIT_SUBMODULES} \" lib/berkeley-db-1.xx)\n\n    if(ECHO_SUBMODULES)\n        # No-op, we're just doing submodule/variant discovery.\n        # Cannot run the add_library/target_include_directories rules (even though\n        # the build won't run) because IDF will attempt verify the files exist.\n    elseif(NOT EXISTS ${MICROPY_LIB_BERKELEY_DIR}/README)\n        # Regular build, submodule not initialised -- fail with a clear error.\n        message(FATAL_ERROR \" MICROPY_PY_BTREE is enabled but the berkeley-db submodule is not initialised.\\n Run 'make BOARD=${MICROPY_BOARD} submodules'\")\n    else()\n        # Regular build, we have the submodule.\n        add_library(micropy_extmod_btree OBJECT\n            ${MICROPY_LIB_BERKELEY_DIR}/btree/bt_close.c\n            ${MICROPY_LIB_BERKELEY_DIR}/btree/bt_conv.c\n            ${MICROPY_LIB_BERKELEY_DIR}/btree/bt_debug.c\n            ${MICROPY_LIB_BERKELEY_DIR}/btree/bt_delete.c\n            ${MICROPY_LIB_BERKELEY_DIR}/btree/bt_get.c\n            ${MICROPY_LIB_BERKELEY_DIR}/btree/bt_open.c\n            ${MICROPY_LIB_BERKELEY_DIR}/btree/bt_overflow.c\n            ${MICROPY_LIB_BERKELEY_DIR}/btree/bt_page.c\n            ${MICROPY_LIB_BERKELEY_DIR}/btree/bt_put.c\n            ${MICROPY_LIB_BERKELEY_DIR}/btree/bt_search.c\n            ${MICROPY_LIB_BERKELEY_DIR}/btree/bt_seq.c\n            ${MICROPY_LIB_BERKELEY_DIR}/btree/bt_split.c\n            ${MICROPY_LIB_BERKELEY_DIR}/btree/bt_utils.c\n            ${MICROPY_LIB_BERKELEY_DIR}/mpool/mpool.c\n        )\n\n        target_include_directories(micropy_extmod_btree PRIVATE\n            ${MICROPY_LIB_BERKELEY_DIR}/include\n        )\n\n        if(NOT BERKELEY_DB_CONFIG_FILE)\n            set(BERKELEY_DB_CONFIG_FILE \"${MICROPY_DIR}/extmod/berkeley-db/berkeley_db_config_port.h\")\n        endif()\n\n        target_compile_definitions(micropy_extmod_btree PRIVATE\n            BERKELEY_DB_CONFIG_FILE=\"${BERKELEY_DB_CONFIG_FILE}\"\n        )\n\n        # The include directories and compile definitions below are needed to build\n        # modbtree.c and should be added to the main MicroPython target.\n\n        list(APPEND MICROPY_INC_CORE\n            \"${MICROPY_LIB_BERKELEY_DIR}/include\"\n        )\n\n        list(APPEND MICROPY_DEF_CORE\n            MICROPY_PY_BTREE=1\n            BERKELEY_DB_CONFIG_FILE=\"${BERKELEY_DB_CONFIG_FILE}\"\n        )\n\n        list(APPEND MICROPY_SOURCE_EXTMOD\n            ${MICROPY_EXTMOD_DIR}/modbtree.c\n        )\n    endif()\nendif()\n\n# Library for mbedtls\n\nif(MICROPY_SSL_MBEDTLS)\n    add_library(micropy_lib_mbedtls INTERFACE)\n\n    set(MICROPY_LIB_MBEDTLS_DIR \"${MICROPY_DIR}/lib/mbedtls\")\n\n    target_include_directories(micropy_lib_mbedtls INTERFACE\n        ${MICROPY_LIB_MBEDTLS_DIR}/include\n    )\n\n    target_sources(micropy_lib_mbedtls INTERFACE\n        ${MICROPY_DIR}/lib/mbedtls_errors/mp_mbedtls_errors.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/aes.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/aesni.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/asn1parse.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/asn1write.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/base64.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/bignum_core.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/bignum_mod.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/bignum_mod_raw.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/bignum.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/camellia.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/ccm.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/chacha20.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/chachapoly.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/cipher.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/cipher_wrap.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/nist_kw.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/aria.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/cmac.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/mps_reader.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/mps_trace.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/ctr_drbg.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/debug.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/des.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/dhm.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/ecdh.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/ecdsa.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/ecjpake.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/ecp.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/ecp_curves.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/entropy.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/entropy_poll.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/gcm.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/hmac_drbg.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/md5.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/md.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/oid.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/padlock.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/pem.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/pk.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/pkcs12.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/pkcs5.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/pkparse.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/pk_wrap.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/pkwrite.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/platform.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/platform_util.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/poly1305.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/ripemd160.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/rsa.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/rsa_alt_helpers.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/sha1.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/sha256.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/sha512.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/ssl_cache.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/ssl_ciphersuites.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/ssl_tls12_client.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/ssl_tls12_server.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/ssl_client.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/ssl_cookie.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/ssl_debug_helpers_generated.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/ssl_msg.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/ssl_ticket.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/ssl_tls.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/timing.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/constant_time.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/x509.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/x509_create.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/x509_crl.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/x509_crt.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/x509_csr.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/x509write_crt.c\n        ${MICROPY_LIB_MBEDTLS_DIR}/library/x509write_csr.c\n    )\n\n    if(NOT MBEDTLS_CONFIG_FILE)\n        set(MBEDTLS_CONFIG_FILE \"${MICROPY_PORT_DIR}/mbedtls/mbedtls_config_port.h\")\n    endif()\n\n    target_compile_definitions(micropy_lib_mbedtls INTERFACE\n        MBEDTLS_CONFIG_FILE=\"${MBEDTLS_CONFIG_FILE}\"\n    )\n\n    list(APPEND MICROPY_INC_CORE\n        \"${MICROPY_LIB_MBEDTLS_DIR}/include\"\n    )\nendif()\n\n# Library for lwIP network stack\n\nif(MICROPY_PY_LWIP)\n    add_library(micropy_lib_lwip INTERFACE)\n\n    set(MICROPY_LIB_LWIP_DIR \"${MICROPY_DIR}/lib/lwip/src\")\n\n    target_include_directories(micropy_lib_lwip INTERFACE\n        ${MICROPY_LIB_LWIP_DIR}/include\n    )\n\n    target_sources(micropy_lib_lwip INTERFACE\n        ${MICROPY_DIR}/shared/netutils/netutils.c\n        ${MICROPY_LIB_LWIP_DIR}/apps/mdns/mdns.c\n        ${MICROPY_LIB_LWIP_DIR}/core/def.c\n        ${MICROPY_LIB_LWIP_DIR}/core/dns.c\n        ${MICROPY_LIB_LWIP_DIR}/core/inet_chksum.c\n        ${MICROPY_LIB_LWIP_DIR}/core/init.c\n        ${MICROPY_LIB_LWIP_DIR}/core/ip.c\n        ${MICROPY_LIB_LWIP_DIR}/core/ipv4/autoip.c\n        ${MICROPY_LIB_LWIP_DIR}/core/ipv4/dhcp.c\n        ${MICROPY_LIB_LWIP_DIR}/core/ipv4/etharp.c\n        ${MICROPY_LIB_LWIP_DIR}/core/ipv4/icmp.c\n        ${MICROPY_LIB_LWIP_DIR}/core/ipv4/igmp.c\n        ${MICROPY_LIB_LWIP_DIR}/core/ipv4/ip4.c\n        ${MICROPY_LIB_LWIP_DIR}/core/ipv4/ip4_addr.c\n        ${MICROPY_LIB_LWIP_DIR}/core/ipv4/ip4_frag.c\n        ${MICROPY_LIB_LWIP_DIR}/core/ipv6/dhcp6.c\n        ${MICROPY_LIB_LWIP_DIR}/core/ipv6/ethip6.c\n        ${MICROPY_LIB_LWIP_DIR}/core/ipv6/icmp6.c\n        ${MICROPY_LIB_LWIP_DIR}/core/ipv6/inet6.c\n        ${MICROPY_LIB_LWIP_DIR}/core/ipv6/ip6.c\n        ${MICROPY_LIB_LWIP_DIR}/core/ipv6/ip6_addr.c\n        ${MICROPY_LIB_LWIP_DIR}/core/ipv6/ip6_frag.c\n        ${MICROPY_LIB_LWIP_DIR}/core/ipv6/mld6.c\n        ${MICROPY_LIB_LWIP_DIR}/core/ipv6/nd6.c\n        ${MICROPY_LIB_LWIP_DIR}/core/mem.c\n        ${MICROPY_LIB_LWIP_DIR}/core/memp.c\n        ${MICROPY_LIB_LWIP_DIR}/core/netif.c\n        ${MICROPY_LIB_LWIP_DIR}/core/pbuf.c\n        ${MICROPY_LIB_LWIP_DIR}/core/raw.c\n        ${MICROPY_LIB_LWIP_DIR}/core/stats.c\n        ${MICROPY_LIB_LWIP_DIR}/core/sys.c\n        ${MICROPY_LIB_LWIP_DIR}/core/tcp.c\n        ${MICROPY_LIB_LWIP_DIR}/core/tcp_in.c\n        ${MICROPY_LIB_LWIP_DIR}/core/tcp_out.c\n        ${MICROPY_LIB_LWIP_DIR}/core/timeouts.c\n        ${MICROPY_LIB_LWIP_DIR}/core/udp.c\n        ${MICROPY_LIB_LWIP_DIR}/netif/ethernet.c\n    )\n\n    list(APPEND MICROPY_INC_CORE\n        ${MICROPY_LIB_LWIP_DIR}/include\n    )\n\n    string(CONCAT GIT_SUBMODULES \"${GIT_SUBMODULES} \" lib/lwip)\nendif()\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}