{
  "module_name": "modnetwork.h",
  "hash_id": "dc5e57ee1da4db66087537a7e815c5bc5352018dc5d06aa81bee017154eeae4c",
  "original_prompt": "Ingested from sys_09_Anvil/source/extmod/modnetwork.h",
  "human_readable_source": " \n#ifndef MICROPY_INCLUDED_MODNETWORK_H\n#define MICROPY_INCLUDED_MODNETWORK_H\n\n#define MOD_NETWORK_IPADDR_BUF_SIZE (4)\n\n#define MOD_NETWORK_AF_INET (2)\n#define MOD_NETWORK_AF_INET6 (10)\n\n#define MOD_NETWORK_SOCK_STREAM (1)\n#define MOD_NETWORK_SOCK_DGRAM (2)\n#define MOD_NETWORK_SOCK_RAW (3)\n\n#define MOD_NETWORK_STA_IF (0)\n#define MOD_NETWORK_AP_IF (1)\n\n\n#define MOD_NETWORK_SOL_SOCKET      (0x0FFF)\n\n\n#define MOD_NETWORK_SO_REUSEADDR    (0x0004)\n#define MOD_NETWORK_SO_BROADCAST    (0x0020)\n#define MOD_NETWORK_SO_KEEPALIVE    (0x0008)\n#define MOD_NETWORK_SO_SNDTIMEO     (0x1005)\n#define MOD_NETWORK_SO_RCVTIMEO     (0x1006)\n\n#define MOD_NETWORK_SS_NEW          (0)\n#define MOD_NETWORK_SS_LISTENING    (1)\n#define MOD_NETWORK_SS_CONNECTED    (2)\n#define MOD_NETWORK_SS_CLOSED       (3)\n\nextern char mod_network_country_code[2];\n\n#ifndef MICROPY_PY_NETWORK_HOSTNAME_MAX_LEN\n\n#define MICROPY_PY_NETWORK_HOSTNAME_MAX_LEN (32)\n#endif\n\n\nextern char mod_network_hostname_data[MICROPY_PY_NETWORK_HOSTNAME_MAX_LEN + 1];\n\n\n\n\nmp_obj_t mod_network_hostname(size_t n_args, const mp_obj_t *args);\n\n#if MICROPY_PY_LWIP\n\n#include \"lwip/init.h\"\n\nstruct netif;\nvoid mod_network_lwip_init(void);\nvoid mod_network_lwip_poll_wrapper(uint32_t ticks_ms);\nmp_obj_t mod_network_nic_ifconfig(struct netif *netif, size_t n_args, const mp_obj_t *args);\n#if LWIP_VERSION_MAJOR >= 2\nmp_obj_t mod_network_ipconfig(size_t n_args, const mp_obj_t *args, mp_map_t *kwargs);\nmp_obj_t mod_network_nic_ipconfig(struct netif *netif, size_t n_args, const mp_obj_t *args, mp_map_t *kwargs);\nextern int mp_mod_network_prefer_dns_use_ip_version;\n#endif\n#elif defined(MICROPY_PORT_NETWORK_INTERFACES)\n\nstruct _mod_network_socket_obj_t;\n\ntypedef struct _mod_network_nic_protocol_t {\n    \n    int (*gethostbyname)(mp_obj_t nic, const char *name, mp_uint_t len, uint8_t *ip_out);\n    void (*deinit)(void);\n\n    \n    int (*socket)(struct _mod_network_socket_obj_t *socket, int *_errno);\n    void (*close)(struct _mod_network_socket_obj_t *socket);\n    int (*bind)(struct _mod_network_socket_obj_t *socket, byte *ip, mp_uint_t port, int *_errno);\n    int (*listen)(struct _mod_network_socket_obj_t *socket, mp_int_t backlog, int *_errno);\n    int (*accept)(struct _mod_network_socket_obj_t *socket, struct _mod_network_socket_obj_t *socket2, byte *ip, mp_uint_t *port, int *_errno);\n    int (*connect)(struct _mod_network_socket_obj_t *socket, byte *ip, mp_uint_t port, int *_errno);\n    mp_uint_t (*send)(struct _mod_network_socket_obj_t *socket, const byte *buf, mp_uint_t len, int *_errno);\n    mp_uint_t (*recv)(struct _mod_network_socket_obj_t *socket, byte *buf, mp_uint_t len, int *_errno);\n    mp_uint_t (*sendto)(struct _mod_network_socket_obj_t *socket, const byte *buf, mp_uint_t len, byte *ip, mp_uint_t port, int *_errno);\n    mp_uint_t (*recvfrom)(struct _mod_network_socket_obj_t *socket, byte *buf, mp_uint_t len, byte *ip, mp_uint_t *port, int *_errno);\n    int (*setsockopt)(struct _mod_network_socket_obj_t *socket, mp_uint_t level, mp_uint_t opt, const void *optval, mp_uint_t optlen, int *_errno);\n    int (*settimeout)(struct _mod_network_socket_obj_t *socket, mp_uint_t timeout_ms, int *_errno);\n    int (*ioctl)(struct _mod_network_socket_obj_t *socket, mp_uint_t request, mp_uint_t arg, int *_errno);\n} mod_network_nic_protocol_t;\n\ntypedef struct _mod_network_socket_obj_t {\n    mp_obj_base_t base;\n    mp_obj_t nic;\n    mod_network_nic_protocol_t *nic_protocol;\n    uint32_t domain : 5;\n    uint32_t type   : 5;\n    uint32_t proto  : 5;\n    uint32_t bound  : 1;\n    int32_t fileno  : 16;\n    int32_t timeout;\n    mp_obj_t callback;\n    int32_t state   : 8;\n    #if MICROPY_PY_SOCKET_EXTENDED_STATE\n    \n    void *_private;\n    #endif\n} mod_network_socket_obj_t;\n\n#endif \n\n#ifdef MICROPY_PORT_NETWORK_INTERFACES\nvoid mod_network_init(void);\nvoid mod_network_deinit(void);\nvoid mod_network_register_nic(mp_obj_t nic);\nmp_obj_t mod_network_find_nic(const uint8_t *ip);\n#endif\n\n#endif \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}