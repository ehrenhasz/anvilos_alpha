{
  "module_name": "tinytest_macros.h",
  "hash_id": "55dea90b81cd78749ee2c7ede4c5d22bc536ae3ba28960e5d703ede4652995e5",
  "original_prompt": "Ingested from sys_09_Anvil/source/lib/tinytest/tinytest_macros.h",
  "human_readable_source": " \n\n#ifndef TINYTEST_MACROS_H_INCLUDED_\n#define TINYTEST_MACROS_H_INCLUDED_\n\n \n#define TT_STMT_BEGIN do {\n#define TT_STMT_END } while (0)\n\n \n#ifndef TT_EXIT_TEST_FUNCTION\n#define TT_EXIT_TEST_FUNCTION TT_STMT_BEGIN goto end; TT_STMT_END\n#endif\n\n \n#ifndef TT_DECLARE\n#define TT_DECLARE(prefix, args)\t\t\t\t\\\n\tTT_STMT_BEGIN\t\t\t\t\t\t\\\n\tprintf(\"\\n  %s %s:%d: \",prefix,__FILE__,__LINE__);\t\\\n\tprintf args ;\t\t\t\t\t\t\\\n\tTT_STMT_END\n#endif\n\n \n#define TT_GRIPE(args) TT_DECLARE(\"FAIL\", args)\n\n \n#define TT_BLATHER(args)\t\t\t\t\t\t\\\n\tTT_STMT_BEGIN\t\t\t\t\t\t\t\\\n\tif (tinytest_get_verbosity_()>1) TT_DECLARE(\"  OK\", args);\t\\\n\tTT_STMT_END\n\n#define TT_DIE(args)\t\t\t\t\t\t\\\n\tTT_STMT_BEGIN\t\t\t\t\t\t\\\n\ttinytest_set_test_failed_();\t\t\t\t\\\n\tTT_GRIPE(args);\t\t\t\t\t\t\\\n\tTT_EXIT_TEST_FUNCTION;\t\t\t\t\t\\\n\tTT_STMT_END\n\n#define TT_FAIL(args)\t\t\t\t\\\n\tTT_STMT_BEGIN\t\t\t\t\t\t\\\n\ttinytest_set_test_failed_();\t\t\t\t\\\n\tTT_GRIPE(args);\t\t\t\t\t\t\\\n\tTT_STMT_END\n\n \n#define tt_abort_printf(msg) TT_DIE(msg)\n#define tt_abort_perror(op) TT_DIE((\"%s: %s [%d]\",(op),strerror(errno), errno))\n#define tt_abort_msg(msg) TT_DIE((\"%s\", msg))\n#define tt_abort() TT_DIE((\"%s\", \"(Failed.)\"))\n\n \n#define tt_failprint_f(msg) TT_FAIL(msg)\n#define tt_fail_perror(op) TT_FAIL((\"%s: %s [%d]\",(op),strerror(errno), errno))\n#define tt_fail_msg(msg) TT_FAIL((\"%s\", msg))\n#define tt_fail() TT_FAIL((\"%s\", \"(Failed.)\"))\n\n \n#define tt_skip()\t\t\t\t\t\t\\\n\tTT_STMT_BEGIN\t\t\t\t\t\t\\\n\ttinytest_set_test_skipped_();\t\t\t\t\\\n\tTT_EXIT_TEST_FUNCTION;\t\t\t\t\t\\\n\tTT_STMT_END\n\n#define tt_want_(b, msg, fail)\t\t\t\t\\\n\tTT_STMT_BEGIN\t\t\t\t\t\\\n\tif (!(b)) {\t\t\t\t\t\\\n\t\ttinytest_set_test_failed_();\t\t\\\n\t\tTT_GRIPE((\"%s\",msg));\t\t\t\\\n\t\tfail;\t\t\t\t\t\\\n\t} else {\t\t\t\t\t\\\n\t\tTT_BLATHER((\"%s\",msg));\t\t\t\\\n\t}\t\t\t\t\t\t\\\n\tTT_STMT_END\n\n \n#define tt_want_msg(b, msg)\t\t\t\\\n\ttt_want_(b, msg, );\n\n \n#define tt_assert_msg(b, msg)\t\t\t\\\n\ttt_want_(b, msg, TT_EXIT_TEST_FUNCTION);\n\n \n#define tt_want(b)   tt_want_msg( (b), \"want(\"#b\")\")\n \n#define tt_assert(b) tt_assert_msg((b), \"assert(\"#b\")\")\n\n#define tt_assert_test_fmt_type(a,b,str_test,type,test,printf_type,printf_fmt, \\\n    setup_block,cleanup_block,die_on_fail)\t\t\t\t\\\n\tTT_STMT_BEGIN\t\t\t\t\t\t\t\\\n\ttype val1_ = (type)(a);\t\t\t\t\t\t\\\n\ttype val2_ = (type)(b);\t\t\t\t\t\t\\\n\tint tt_status_ = (test);\t\t\t\t\t\\\n\tif (!tt_status_ || tinytest_get_verbosity_()>1)\t{\t\t\\\n\t\tprintf_type print_;\t\t\t\t\t\\\n\t\tprintf_type print1_;\t\t\t\t\t\\\n\t\tprintf_type print2_;\t\t\t\t\t\\\n\t\ttype value_ = val1_;\t\t\t\t\t\\\n\t\tsetup_block;\t\t\t\t\t\t\\\n\t\tprint1_ = print_;\t\t\t\t\t\\\n\t\tvalue_ = val2_;\t\t\t\t\t\t\\\n\t\tsetup_block;\t\t\t\t\t\t\\\n\t\tprint2_ = print_;\t\t\t\t\t\\\n\t\tTT_DECLARE(tt_status_?\"\t OK\":\"FAIL\",\t\t\t\\\n\t\t\t   (\"assert(%s): \"printf_fmt\" vs \"printf_fmt,\t\\\n\t\t\t    str_test, print1_, print2_));\t\t\\\n\t\tprint_ = print1_;\t\t\t\t\t\\\n\t\tcleanup_block;\t\t\t\t\t\t\\\n\t\tprint_ = print2_;\t\t\t\t\t\\\n\t\tcleanup_block;\t\t\t\t\t\t\\\n\t\tif (!tt_status_) {\t\t\t\t\t\\\n\t\t\ttinytest_set_test_failed_();\t\t\t\\\n\t\t\tdie_on_fail ;\t\t\t\t\t\\\n\t\t}\t\t\t\t\t\t\t\\\n\t}\t\t\t\t\t\t\t\t\\\n\tTT_STMT_END\n\n#define tt_assert_test_type(a,b,str_test,type,test,fmt,die_on_fail)\t\\\n\ttt_assert_test_fmt_type(a,b,str_test,type,test,type,fmt,\t\\\n\t    {print_=value_;},{},die_on_fail)\n\n \n#define tt_assert_op_type(a,op,b,type,fmt)\t\t\t\t\\\n\ttt_assert_test_type(a,b,#a\" \"#op\" \"#b,type,(val1_ op val2_),fmt, \\\n\t    TT_EXIT_TEST_FUNCTION)\n\n#define tt_int_op(a,op,b)\t\t\t\\\n\ttt_assert_test_type(a,b,#a\" \"#op\" \"#b,long,(val1_ op val2_), \\\n\t    \"%ld\",TT_EXIT_TEST_FUNCTION)\n\n#define tt_uint_op(a,op,b)\t\t\t\t\t\t\\\n\ttt_assert_test_type(a,b,#a\" \"#op\" \"#b,unsigned long,\t\t\\\n\t    (val1_ op val2_),\"%lu\",TT_EXIT_TEST_FUNCTION)\n\n#define tt_ptr_op(a,op,b)\t\t\t\t\t\t\\\n\ttt_assert_test_type(a,b,#a\" \"#op\" \"#b,void*,\t\t\t\\\n\t    (val1_ op val2_),\"%p\",TT_EXIT_TEST_FUNCTION)\n\n#define tt_str_op(a,op,b)\t\t\t\t\t\t\\\n\ttt_assert_test_type(a,b,#a\" \"#op\" \"#b,const char *,\t\t\\\n\t    (strcmp(val1_,val2_) op 0),\"<%s>\",TT_EXIT_TEST_FUNCTION)\n\n#define tt_want_int_op(a,op,b)\t\t\t\t\t\t\\\n\ttt_assert_test_type(a,b,#a\" \"#op\" \"#b,long,(val1_ op val2_),\"%ld\",(void)0)\n\n#define tt_want_uint_op(a,op,b)\t\t\t\t\t\t\\\n\ttt_assert_test_type(a,b,#a\" \"#op\" \"#b,unsigned long,\t\t\\\n\t    (val1_ op val2_),\"%lu\",(void)0)\n\n#define tt_want_ptr_op(a,op,b)\t\t\t\t\t\t\\\n\ttt_assert_test_type(a,b,#a\" \"#op\" \"#b,void*,\t\t\t\\\n\t    (val1_ op val2_),\"%p\",(void)0)\n\n#define tt_want_str_op(a,op,b)\t\t\t\t\t\t\\\n\ttt_assert_test_type(a,b,#a\" \"#op\" \"#b,const char *,\t\t\\\n\t    (strcmp(val1_,val2_) op 0),\"<%s>\",(void)0)\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}