{
  "module_name": "__rem_pio2.c",
  "hash_id": "680a348adf5325597b3ff26408d94607d4e859790d4f994f8e2309d15a26b3ce",
  "original_prompt": "Ingested from sys_09_Anvil/source/lib/libm_dbl/__rem_pio2.c",
  "human_readable_source": " \n \n \n\n#include \"libm.h\"\n\n#if FLT_EVAL_METHOD==0 || FLT_EVAL_METHOD==1\n#define EPS DBL_EPSILON\n#elif FLT_EVAL_METHOD==2\n#define EPS LDBL_EPSILON\n#endif\n\n \nstatic const double\ntoint   = 1.5/EPS,\ninvpio2 = 6.36619772367581382433e-01,  \npio2_1  = 1.57079632673412561417e+00,  \npio2_1t = 6.07710050650619224932e-11,  \npio2_2  = 6.07710050630396597660e-11,  \npio2_2t = 2.02226624879595063154e-21,  \npio2_3  = 2.02226624871116645580e-21,  \npio2_3t = 8.47842766036889956997e-32;  \n\n \nint __rem_pio2(double x, double *y)\n{\n\tunion {double f; uint64_t i;} u = {x};\n\tdouble_t z,w,t,r,fn;\n\tdouble tx[3],ty[2];\n\tuint32_t ix;\n\tint sign, n, ex, ey, i;\n\n\tsign = u.i>>63;\n\tix = u.i>>32 & 0x7fffffff;\n\tif (ix <= 0x400f6a7a) {   \n\t\tif ((ix & 0xfffff) == 0x921fb)   \n\t\t\tgoto medium;   \n\t\tif (ix <= 0x4002d97c) {   \n\t\t\tif (!sign) {\n\t\t\t\tz = x - pio2_1;   \n\t\t\t\ty[0] = z - pio2_1t;\n\t\t\t\ty[1] = (z-y[0]) - pio2_1t;\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\tz = x + pio2_1;\n\t\t\t\ty[0] = z + pio2_1t;\n\t\t\t\ty[1] = (z-y[0]) + pio2_1t;\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t} else {\n\t\t\tif (!sign) {\n\t\t\t\tz = x - 2*pio2_1;\n\t\t\t\ty[0] = z - 2*pio2_1t;\n\t\t\t\ty[1] = (z-y[0]) - 2*pio2_1t;\n\t\t\t\treturn 2;\n\t\t\t} else {\n\t\t\t\tz = x + 2*pio2_1;\n\t\t\t\ty[0] = z + 2*pio2_1t;\n\t\t\t\ty[1] = (z-y[0]) + 2*pio2_1t;\n\t\t\t\treturn -2;\n\t\t\t}\n\t\t}\n\t}\n\tif (ix <= 0x401c463b) {   \n\t\tif (ix <= 0x4015fdbc) {   \n\t\t\tif (ix == 0x4012d97c)   \n\t\t\t\tgoto medium;\n\t\t\tif (!sign) {\n\t\t\t\tz = x - 3*pio2_1;\n\t\t\t\ty[0] = z - 3*pio2_1t;\n\t\t\t\ty[1] = (z-y[0]) - 3*pio2_1t;\n\t\t\t\treturn 3;\n\t\t\t} else {\n\t\t\t\tz = x + 3*pio2_1;\n\t\t\t\ty[0] = z + 3*pio2_1t;\n\t\t\t\ty[1] = (z-y[0]) + 3*pio2_1t;\n\t\t\t\treturn -3;\n\t\t\t}\n\t\t} else {\n\t\t\tif (ix == 0x401921fb)   \n\t\t\t\tgoto medium;\n\t\t\tif (!sign) {\n\t\t\t\tz = x - 4*pio2_1;\n\t\t\t\ty[0] = z - 4*pio2_1t;\n\t\t\t\ty[1] = (z-y[0]) - 4*pio2_1t;\n\t\t\t\treturn 4;\n\t\t\t} else {\n\t\t\t\tz = x + 4*pio2_1;\n\t\t\t\ty[0] = z + 4*pio2_1t;\n\t\t\t\ty[1] = (z-y[0]) + 4*pio2_1t;\n\t\t\t\treturn -4;\n\t\t\t}\n\t\t}\n\t}\n\tif (ix < 0x413921fb) {   \nmedium:\n\t\t \n\t\tfn = (double_t)x*invpio2 + toint - toint;\n\t\tn = (int32_t)fn;\n\t\tr = x - fn*pio2_1;\n\t\tw = fn*pio2_1t;   \n\t\ty[0] = r - w;\n\t\tu.f = y[0];\n\t\tey = u.i>>52 & 0x7ff;\n\t\tex = ix>>20;\n\t\tif (ex - ey > 16) {  \n\t\t\tt = r;\n\t\t\tw = fn*pio2_2;\n\t\t\tr = t - w;\n\t\t\tw = fn*pio2_2t - ((t-r)-w);\n\t\t\ty[0] = r - w;\n\t\t\tu.f = y[0];\n\t\t\tey = u.i>>52 & 0x7ff;\n\t\t\tif (ex - ey > 49) {   \n\t\t\t\tt = r;\n\t\t\t\tw = fn*pio2_3;\n\t\t\t\tr = t - w;\n\t\t\t\tw = fn*pio2_3t - ((t-r)-w);\n\t\t\t\ty[0] = r - w;\n\t\t\t}\n\t\t}\n\t\ty[1] = (r - y[0]) - w;\n\t\treturn n;\n\t}\n\t \n\tif (ix >= 0x7ff00000) {   \n\t\ty[0] = y[1] = x - x;\n\t\treturn 0;\n\t}\n\t \n\tu.f = x;\n\tu.i &= (uint64_t)-1>>12;\n\tu.i |= (uint64_t)(0x3ff + 23)<<52;\n\tz = u.f;\n\tfor (i=0; i < 2; i++) {\n\t\ttx[i] = (double)(int32_t)z;\n\t\tz     = (z-tx[i])*0x1p24;\n\t}\n\ttx[i] = z;\n\t \n\twhile (tx[i] == 0.0)\n\t\ti--;\n\tn = __rem_pio2_large(tx,ty,(int)(ix>>20)-(0x3ff+23),i+1,1);\n\tif (sign) {\n\t\ty[0] = -ty[0];\n\t\ty[1] = -ty[1];\n\t\treturn -n;\n\t}\n\ty[0] = ty[0];\n\ty[1] = ty[1];\n\treturn n;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}