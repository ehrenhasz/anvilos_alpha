{
  "module_name": "mpu_armv7.h",
  "hash_id": "eeedd53ea951dd1694af6901c72529c3766e871e92bd3313179f6df3f1deef68",
  "original_prompt": "Ingested from sys_09_Anvil/source/lib/cmsis/inc/mpu_armv7.h",
  "human_readable_source": " \n \n \n#if   defined ( __ICCARM__ )\n  #pragma system_include          \n#elif defined (__clang__)\n  #pragma clang system_header     \n#endif\n \n#ifndef ARM_MPU_ARMV7_H\n#define ARM_MPU_ARMV7_H\n\n#define ARM_MPU_REGION_SIZE_32B      ((uint8_t)0x04U) \n#define ARM_MPU_REGION_SIZE_64B      ((uint8_t)0x05U) \n#define ARM_MPU_REGION_SIZE_128B     ((uint8_t)0x06U) \n#define ARM_MPU_REGION_SIZE_256B     ((uint8_t)0x07U) \n#define ARM_MPU_REGION_SIZE_512B     ((uint8_t)0x08U) \n#define ARM_MPU_REGION_SIZE_1KB      ((uint8_t)0x09U) \n#define ARM_MPU_REGION_SIZE_2KB      ((uint8_t)0x0AU) \n#define ARM_MPU_REGION_SIZE_4KB      ((uint8_t)0x0BU) \n#define ARM_MPU_REGION_SIZE_8KB      ((uint8_t)0x0CU) \n#define ARM_MPU_REGION_SIZE_16KB     ((uint8_t)0x0DU) \n#define ARM_MPU_REGION_SIZE_32KB     ((uint8_t)0x0EU) \n#define ARM_MPU_REGION_SIZE_64KB     ((uint8_t)0x0FU) \n#define ARM_MPU_REGION_SIZE_128KB    ((uint8_t)0x10U) \n#define ARM_MPU_REGION_SIZE_256KB    ((uint8_t)0x11U) \n#define ARM_MPU_REGION_SIZE_512KB    ((uint8_t)0x12U) \n#define ARM_MPU_REGION_SIZE_1MB      ((uint8_t)0x13U) \n#define ARM_MPU_REGION_SIZE_2MB      ((uint8_t)0x14U) \n#define ARM_MPU_REGION_SIZE_4MB      ((uint8_t)0x15U) \n#define ARM_MPU_REGION_SIZE_8MB      ((uint8_t)0x16U) \n#define ARM_MPU_REGION_SIZE_16MB     ((uint8_t)0x17U) \n#define ARM_MPU_REGION_SIZE_32MB     ((uint8_t)0x18U) \n#define ARM_MPU_REGION_SIZE_64MB     ((uint8_t)0x19U) \n#define ARM_MPU_REGION_SIZE_128MB    ((uint8_t)0x1AU) \n#define ARM_MPU_REGION_SIZE_256MB    ((uint8_t)0x1BU) \n#define ARM_MPU_REGION_SIZE_512MB    ((uint8_t)0x1CU) \n#define ARM_MPU_REGION_SIZE_1GB      ((uint8_t)0x1DU) \n#define ARM_MPU_REGION_SIZE_2GB      ((uint8_t)0x1EU) \n#define ARM_MPU_REGION_SIZE_4GB      ((uint8_t)0x1FU) \n\n#define ARM_MPU_AP_NONE 0U \n#define ARM_MPU_AP_PRIV 1U \n#define ARM_MPU_AP_URO  2U \n#define ARM_MPU_AP_FULL 3U \n#define ARM_MPU_AP_PRO  5U \n#define ARM_MPU_AP_RO   6U \n\n \n#define ARM_MPU_RBAR(Region, BaseAddress) \\\n  (((BaseAddress) & MPU_RBAR_ADDR_Msk) |  \\\n   ((Region) & MPU_RBAR_REGION_Msk)    |  \\\n   (MPU_RBAR_VALID_Msk))\n\n   \n#define ARM_MPU_ACCESS_(TypeExtField, IsShareable, IsCacheable, IsBufferable)   \\\n  ((((TypeExtField) << MPU_RASR_TEX_Pos) & MPU_RASR_TEX_Msk)                  | \\\n   (((IsShareable)  << MPU_RASR_S_Pos)   & MPU_RASR_S_Msk)                    | \\\n   (((IsCacheable)  << MPU_RASR_C_Pos)   & MPU_RASR_C_Msk)                    | \\\n   (((IsBufferable) << MPU_RASR_B_Pos)   & MPU_RASR_B_Msk))\n\n \n#define ARM_MPU_RASR_EX(DisableExec, AccessPermission, AccessAttributes, SubRegionDisable, Size)    \\\n  ((((DisableExec)      << MPU_RASR_XN_Pos)   & MPU_RASR_XN_Msk)                                  | \\\n   (((AccessPermission) << MPU_RASR_AP_Pos)   & MPU_RASR_AP_Msk)                                  | \\\n   (((AccessAttributes) & (MPU_RASR_TEX_Msk | MPU_RASR_S_Msk | MPU_RASR_C_Msk | MPU_RASR_B_Msk))) | \\\n   (((SubRegionDisable) << MPU_RASR_SRD_Pos)  & MPU_RASR_SRD_Msk)                                 | \\\n   (((Size)             << MPU_RASR_SIZE_Pos) & MPU_RASR_SIZE_Msk)                                | \\\n   (((MPU_RASR_ENABLE_Msk))))\n\n                          \n#define ARM_MPU_RASR(DisableExec, AccessPermission, TypeExtField, IsShareable, IsCacheable, IsBufferable, SubRegionDisable, Size) \\\n  ARM_MPU_RASR_EX(DisableExec, AccessPermission, ARM_MPU_ACCESS_(TypeExtField, IsShareable, IsCacheable, IsBufferable), SubRegionDisable, Size)\n\n  \n#define ARM_MPU_ACCESS_ORDERED ARM_MPU_ACCESS_(0U, 1U, 0U, 0U)\n\n  \n#define ARM_MPU_ACCESS_DEVICE(IsShareable) ((IsShareable) ? ARM_MPU_ACCESS_(0U, 1U, 0U, 1U) : ARM_MPU_ACCESS_(2U, 0U, 0U, 0U))\n\n  \n#define ARM_MPU_ACCESS_NORMAL(OuterCp, InnerCp, IsShareable) ARM_MPU_ACCESS_((4U | (OuterCp)), IsShareable, ((InnerCp) >> 1U), ((InnerCp) & 1U))\n\n \n#define ARM_MPU_CACHEP_NOCACHE 0U\n\n \n#define ARM_MPU_CACHEP_WB_WRA 1U\n\n \n#define ARM_MPU_CACHEP_WT_NWA 2U\n\n \n#define ARM_MPU_CACHEP_WB_NWA 3U\n\n\n \ntypedef struct {\n  uint32_t RBAR; \n  uint32_t RASR; \n} ARM_MPU_Region_t;\n    \n \n__STATIC_INLINE void ARM_MPU_Enable(uint32_t MPU_Control)\n{\n  __DMB();\n  MPU->CTRL = MPU_Control | MPU_CTRL_ENABLE_Msk;\n#ifdef SCB_SHCSR_MEMFAULTENA_Msk\n  SCB->SHCSR |= SCB_SHCSR_MEMFAULTENA_Msk;\n#endif\n  __DSB();\n  __ISB();\n}\n\n \n__STATIC_INLINE void ARM_MPU_Disable(void)\n{\n  __DMB();\n#ifdef SCB_SHCSR_MEMFAULTENA_Msk\n  SCB->SHCSR &= ~SCB_SHCSR_MEMFAULTENA_Msk;\n#endif\n  MPU->CTRL  &= ~MPU_CTRL_ENABLE_Msk;\n  __DSB();\n  __ISB();\n}\n\n \n__STATIC_INLINE void ARM_MPU_ClrRegion(uint32_t rnr)\n{\n  MPU->RNR = rnr;\n  MPU->RASR = 0U;\n}\n\n    \n__STATIC_INLINE void ARM_MPU_SetRegion(uint32_t rbar, uint32_t rasr)\n{\n  MPU->RBAR = rbar;\n  MPU->RASR = rasr;\n}\n\n    \n__STATIC_INLINE void ARM_MPU_SetRegionEx(uint32_t rnr, uint32_t rbar, uint32_t rasr)\n{\n  MPU->RNR = rnr;\n  MPU->RBAR = rbar;\n  MPU->RASR = rasr;\n}\n\n \n__STATIC_INLINE void ARM_MPU_OrderedMemcpy(volatile uint32_t* dst, const uint32_t* __RESTRICT src, uint32_t len)\n{\n  uint32_t i;\n  for (i = 0U; i < len; ++i) \n  {\n    dst[i] = src[i];\n  }\n}\n\n \n__STATIC_INLINE void ARM_MPU_Load(ARM_MPU_Region_t const* table, uint32_t cnt) \n{\n  const uint32_t rowWordSize = sizeof(ARM_MPU_Region_t)/4U;\n  while (cnt > MPU_TYPE_RALIASES) {\n    ARM_MPU_OrderedMemcpy(&(MPU->RBAR), &(table->RBAR), MPU_TYPE_RALIASES*rowWordSize);\n    table += MPU_TYPE_RALIASES;\n    cnt -= MPU_TYPE_RALIASES;\n  }\n  ARM_MPU_OrderedMemcpy(&(MPU->RBAR), &(table->RBAR), cnt*rowWordSize);\n}\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}