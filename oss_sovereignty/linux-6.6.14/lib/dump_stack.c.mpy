{
  "module_name": "dump_stack.c",
  "hash_id": "eaf661685313d2bd866c674ed0c69149580e7f724bd5d8a2fb0a9da9fcc81006",
  "original_prompt": "Ingested from linux-6.6.14/lib/dump_stack.c",
  "human_readable_source": "\n \n\n#include <linux/kernel.h>\n#include <linux/buildid.h>\n#include <linux/export.h>\n#include <linux/sched.h>\n#include <linux/sched/debug.h>\n#include <linux/smp.h>\n#include <linux/atomic.h>\n#include <linux/kexec.h>\n#include <linux/utsname.h>\n#include <linux/stop_machine.h>\n\nstatic char dump_stack_arch_desc_str[128];\n\n \nvoid __init dump_stack_set_arch_desc(const char *fmt, ...)\n{\n\tva_list args;\n\n\tva_start(args, fmt);\n\tvsnprintf(dump_stack_arch_desc_str, sizeof(dump_stack_arch_desc_str),\n\t\t  fmt, args);\n\tva_end(args);\n}\n\n#if IS_ENABLED(CONFIG_STACKTRACE_BUILD_ID)\n#define BUILD_ID_FMT \" %20phN\"\n#define BUILD_ID_VAL vmlinux_build_id\n#else\n#define BUILD_ID_FMT \"%s\"\n#define BUILD_ID_VAL \"\"\n#endif\n\n \nvoid dump_stack_print_info(const char *log_lvl)\n{\n\tprintk(\"%sCPU: %d PID: %d Comm: %.20s %s%s %s %.*s\" BUILD_ID_FMT \"\\n\",\n\t       log_lvl, raw_smp_processor_id(), current->pid, current->comm,\n\t       kexec_crash_loaded() ? \"Kdump: loaded \" : \"\",\n\t       print_tainted(),\n\t       init_utsname()->release,\n\t       (int)strcspn(init_utsname()->version, \" \"),\n\t       init_utsname()->version, BUILD_ID_VAL);\n\n\tif (dump_stack_arch_desc_str[0] != '\\0')\n\t\tprintk(\"%sHardware name: %s\\n\",\n\t\t       log_lvl, dump_stack_arch_desc_str);\n\n\tprint_worker_info(log_lvl, current);\n\tprint_stop_info(log_lvl, current);\n}\n\n \nvoid show_regs_print_info(const char *log_lvl)\n{\n\tdump_stack_print_info(log_lvl);\n}\n\nstatic void __dump_stack(const char *log_lvl)\n{\n\tdump_stack_print_info(log_lvl);\n\tshow_stack(NULL, NULL, log_lvl);\n}\n\n \nasmlinkage __visible void dump_stack_lvl(const char *log_lvl)\n{\n\tunsigned long flags;\n\n\t \n\tprintk_cpu_sync_get_irqsave(flags);\n\t__dump_stack(log_lvl);\n\tprintk_cpu_sync_put_irqrestore(flags);\n}\nEXPORT_SYMBOL(dump_stack_lvl);\n\nasmlinkage __visible void dump_stack(void)\n{\n\tdump_stack_lvl(KERN_DEFAULT);\n}\nEXPORT_SYMBOL(dump_stack);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}