{
  "module_name": "recov_neon.c",
  "hash_id": "b697a32964e0742553865406b19fb4a28f2865af4d70dffbf360804a2826b52f",
  "original_prompt": "Ingested from linux-6.6.14/lib/raid6/recov_neon.c",
  "human_readable_source": "\n \n\n#include <linux/raid/pq.h>\n\n#ifdef __KERNEL__\n#include <asm/neon.h>\n#include \"neon.h\"\n#else\n#define kernel_neon_begin()\n#define kernel_neon_end()\n#define cpu_has_neon()\t\t(1)\n#endif\n\nstatic int raid6_has_neon(void)\n{\n\treturn cpu_has_neon();\n}\n\nstatic void raid6_2data_recov_neon(int disks, size_t bytes, int faila,\n\t\tint failb, void **ptrs)\n{\n\tu8 *p, *q, *dp, *dq;\n\tconst u8 *pbmul;\t \n\tconst u8 *qmul;\t\t \n\n\tp = (u8 *)ptrs[disks - 2];\n\tq = (u8 *)ptrs[disks - 1];\n\n\t \n\tdp = (u8 *)ptrs[faila];\n\tptrs[faila] = (void *)raid6_empty_zero_page;\n\tptrs[disks - 2] = dp;\n\tdq = (u8 *)ptrs[failb];\n\tptrs[failb] = (void *)raid6_empty_zero_page;\n\tptrs[disks - 1] = dq;\n\n\traid6_call.gen_syndrome(disks, bytes, ptrs);\n\n\t \n\tptrs[faila]     = dp;\n\tptrs[failb]     = dq;\n\tptrs[disks - 2] = p;\n\tptrs[disks - 1] = q;\n\n\t \n\tpbmul = raid6_vgfmul[raid6_gfexi[failb-faila]];\n\tqmul  = raid6_vgfmul[raid6_gfinv[raid6_gfexp[faila] ^\n\t\t\t\t\t raid6_gfexp[failb]]];\n\n\tkernel_neon_begin();\n\t__raid6_2data_recov_neon(bytes, p, q, dp, dq, pbmul, qmul);\n\tkernel_neon_end();\n}\n\nstatic void raid6_datap_recov_neon(int disks, size_t bytes, int faila,\n\t\tvoid **ptrs)\n{\n\tu8 *p, *q, *dq;\n\tconst u8 *qmul;\t\t \n\n\tp = (u8 *)ptrs[disks - 2];\n\tq = (u8 *)ptrs[disks - 1];\n\n\t \n\tdq = (u8 *)ptrs[faila];\n\tptrs[faila] = (void *)raid6_empty_zero_page;\n\tptrs[disks - 1] = dq;\n\n\traid6_call.gen_syndrome(disks, bytes, ptrs);\n\n\t \n\tptrs[faila]     = dq;\n\tptrs[disks - 1] = q;\n\n\t \n\tqmul = raid6_vgfmul[raid6_gfinv[raid6_gfexp[faila]]];\n\n\tkernel_neon_begin();\n\t__raid6_datap_recov_neon(bytes, p, q, dq, qmul);\n\tkernel_neon_end();\n}\n\nconst struct raid6_recov_calls raid6_recov_neon = {\n\t.data2\t\t= raid6_2data_recov_neon,\n\t.datap\t\t= raid6_datap_recov_neon,\n\t.valid\t\t= raid6_has_neon,\n\t.name\t\t= \"neon\",\n\t.priority\t= 10,\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}