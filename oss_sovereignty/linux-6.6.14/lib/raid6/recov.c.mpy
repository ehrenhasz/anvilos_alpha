{
  "module_name": "recov.c",
  "hash_id": "5c9d243ff943bfffdc4da73d29be6af7ca4859092be605b7436d80789cd14e31",
  "original_prompt": "Ingested from linux-6.6.14/lib/raid6/recov.c",
  "human_readable_source": "\n \n\n \n\n#include <linux/raid/pq.h>\n\n \nstatic void raid6_2data_recov_intx1(int disks, size_t bytes, int faila,\n\t\tint failb, void **ptrs)\n{\n\tu8 *p, *q, *dp, *dq;\n\tu8 px, qx, db;\n\tconst u8 *pbmul;\t \n\tconst u8 *qmul;\t\t \n\n\tp = (u8 *)ptrs[disks-2];\n\tq = (u8 *)ptrs[disks-1];\n\n\t \n\tdp = (u8 *)ptrs[faila];\n\tptrs[faila] = (void *)raid6_empty_zero_page;\n\tptrs[disks-2] = dp;\n\tdq = (u8 *)ptrs[failb];\n\tptrs[failb] = (void *)raid6_empty_zero_page;\n\tptrs[disks-1] = dq;\n\n\traid6_call.gen_syndrome(disks, bytes, ptrs);\n\n\t \n\tptrs[faila]   = dp;\n\tptrs[failb]   = dq;\n\tptrs[disks-2] = p;\n\tptrs[disks-1] = q;\n\n\t \n\tpbmul = raid6_gfmul[raid6_gfexi[failb-faila]];\n\tqmul  = raid6_gfmul[raid6_gfinv[raid6_gfexp[faila]^raid6_gfexp[failb]]];\n\n\t \n\twhile ( bytes-- ) {\n\t\tpx    = *p ^ *dp;\n\t\tqx    = qmul[*q ^ *dq];\n\t\t*dq++ = db = pbmul[px] ^ qx;  \n\t\t*dp++ = db ^ px;  \n\t\tp++; q++;\n\t}\n}\n\n \nstatic void raid6_datap_recov_intx1(int disks, size_t bytes, int faila,\n\t\tvoid **ptrs)\n{\n\tu8 *p, *q, *dq;\n\tconst u8 *qmul;\t\t \n\n\tp = (u8 *)ptrs[disks-2];\n\tq = (u8 *)ptrs[disks-1];\n\n\t \n\tdq = (u8 *)ptrs[faila];\n\tptrs[faila] = (void *)raid6_empty_zero_page;\n\tptrs[disks-1] = dq;\n\n\traid6_call.gen_syndrome(disks, bytes, ptrs);\n\n\t \n\tptrs[faila]   = dq;\n\tptrs[disks-1] = q;\n\n\t \n\tqmul  = raid6_gfmul[raid6_gfinv[raid6_gfexp[faila]]];\n\n\t \n\twhile ( bytes-- ) {\n\t\t*p++ ^= *dq = qmul[*q ^ *dq];\n\t\tq++; dq++;\n\t}\n}\n\n\nconst struct raid6_recov_calls raid6_recov_intx1 = {\n\t.data2 = raid6_2data_recov_intx1,\n\t.datap = raid6_datap_recov_intx1,\n\t.valid = NULL,\n\t.name = \"intx1\",\n\t.priority = 0,\n};\n\n#ifndef __KERNEL__\n \n\n \nvoid raid6_dual_recov(int disks, size_t bytes, int faila, int failb, void **ptrs)\n{\n\tif ( faila > failb ) {\n\t\tint tmp = faila;\n\t\tfaila = failb;\n\t\tfailb = tmp;\n\t}\n\n\tif ( failb == disks-1 ) {\n\t\tif ( faila == disks-2 ) {\n\t\t\t \n\t\t\traid6_call.gen_syndrome(disks, bytes, ptrs);\n\t\t} else {\n\t\t\t \n\t\t\t \n\t\t}\n\t} else {\n\t\tif ( failb == disks-2 ) {\n\t\t\t \n\t\t\traid6_datap_recov(disks, bytes, faila, ptrs);\n\t\t} else {\n\t\t\t \n\t\t\traid6_2data_recov(disks, bytes, faila, failb, ptrs);\n\t\t}\n\t}\n}\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}