{
  "module_name": "recov_neon_inner.c",
  "hash_id": "4b149ed6e8aeedfa4ff32810ff08a06afce0b8c156339f1b0d28214d14c7c66d",
  "original_prompt": "Ingested from linux-6.6.14/lib/raid6/recov_neon_inner.c",
  "human_readable_source": "\n \n\n#include <arm_neon.h>\n#include \"neon.h\"\n\n#ifdef CONFIG_ARM\n \nstatic uint8x16_t vqtbl1q_u8(uint8x16_t a, uint8x16_t b)\n{\n\tunion {\n\t\tuint8x16_t\tval;\n\t\tuint8x8x2_t\tpair;\n\t} __a = { a };\n\n\treturn vcombine_u8(vtbl2_u8(__a.pair, vget_low_u8(b)),\n\t\t\t   vtbl2_u8(__a.pair, vget_high_u8(b)));\n}\n#endif\n\nvoid __raid6_2data_recov_neon(int bytes, uint8_t *p, uint8_t *q, uint8_t *dp,\n\t\t\t      uint8_t *dq, const uint8_t *pbmul,\n\t\t\t      const uint8_t *qmul)\n{\n\tuint8x16_t pm0 = vld1q_u8(pbmul);\n\tuint8x16_t pm1 = vld1q_u8(pbmul + 16);\n\tuint8x16_t qm0 = vld1q_u8(qmul);\n\tuint8x16_t qm1 = vld1q_u8(qmul + 16);\n\tuint8x16_t x0f = vdupq_n_u8(0x0f);\n\n\t \n\n\twhile (bytes) {\n\t\tuint8x16_t vx, vy, px, qx, db;\n\n\t\tpx = veorq_u8(vld1q_u8(p), vld1q_u8(dp));\n\t\tvx = veorq_u8(vld1q_u8(q), vld1q_u8(dq));\n\n\t\tvy = vshrq_n_u8(vx, 4);\n\t\tvx = vqtbl1q_u8(qm0, vandq_u8(vx, x0f));\n\t\tvy = vqtbl1q_u8(qm1, vy);\n\t\tqx = veorq_u8(vx, vy);\n\n\t\tvy = vshrq_n_u8(px, 4);\n\t\tvx = vqtbl1q_u8(pm0, vandq_u8(px, x0f));\n\t\tvy = vqtbl1q_u8(pm1, vy);\n\t\tvx = veorq_u8(vx, vy);\n\t\tdb = veorq_u8(vx, qx);\n\n\t\tvst1q_u8(dq, db);\n\t\tvst1q_u8(dp, veorq_u8(db, px));\n\n\t\tbytes -= 16;\n\t\tp += 16;\n\t\tq += 16;\n\t\tdp += 16;\n\t\tdq += 16;\n\t}\n}\n\nvoid __raid6_datap_recov_neon(int bytes, uint8_t *p, uint8_t *q, uint8_t *dq,\n\t\t\t      const uint8_t *qmul)\n{\n\tuint8x16_t qm0 = vld1q_u8(qmul);\n\tuint8x16_t qm1 = vld1q_u8(qmul + 16);\n\tuint8x16_t x0f = vdupq_n_u8(0x0f);\n\n\t \n\n\twhile (bytes) {\n\t\tuint8x16_t vx, vy;\n\n\t\tvx = veorq_u8(vld1q_u8(q), vld1q_u8(dq));\n\n\t\tvy = vshrq_n_u8(vx, 4);\n\t\tvx = vqtbl1q_u8(qm0, vandq_u8(vx, x0f));\n\t\tvy = vqtbl1q_u8(qm1, vy);\n\t\tvx = veorq_u8(vx, vy);\n\t\tvy = veorq_u8(vx, vld1q_u8(p));\n\n\t\tvst1q_u8(dq, vx);\n\t\tvst1q_u8(p, vy);\n\n\t\tbytes -= 16;\n\t\tp += 16;\n\t\tq += 16;\n\t\tdq += 16;\n\t}\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}