{
  "module_name": "fonts.c",
  "hash_id": "9c742f32094fc12f885a1dafb0e7bd34446fb99794f7ca55dbbbcea8bcc4c2c1",
  "original_prompt": "Ingested from linux-6.6.14/lib/fonts/fonts.c",
  "human_readable_source": " \n\n#include <linux/module.h>\n#include <linux/types.h>\n#include <linux/string.h>\n#if defined(__mc68000__)\n#include <asm/setup.h>\n#endif\n#include <linux/font.h>\n\nstatic const struct font_desc *fonts[] = {\n#ifdef CONFIG_FONT_8x8\n\t&font_vga_8x8,\n#endif\n#ifdef CONFIG_FONT_8x16\n\t&font_vga_8x16,\n#endif\n#ifdef CONFIG_FONT_6x11\n\t&font_vga_6x11,\n#endif\n#ifdef CONFIG_FONT_7x14\n\t&font_7x14,\n#endif\n#ifdef CONFIG_FONT_SUN8x16\n\t&font_sun_8x16,\n#endif\n#ifdef CONFIG_FONT_SUN12x22\n\t&font_sun_12x22,\n#endif\n#ifdef CONFIG_FONT_10x18\n\t&font_10x18,\n#endif\n#ifdef CONFIG_FONT_ACORN_8x8\n\t&font_acorn_8x8,\n#endif\n#ifdef CONFIG_FONT_PEARL_8x8\n\t&font_pearl_8x8,\n#endif\n#ifdef CONFIG_FONT_MINI_4x6\n\t&font_mini_4x6,\n#endif\n#ifdef CONFIG_FONT_6x10\n\t&font_6x10,\n#endif\n#ifdef CONFIG_FONT_TER16x32\n\t&font_ter_16x32,\n#endif\n#ifdef CONFIG_FONT_6x8\n\t&font_6x8,\n#endif\n};\n\n#define num_fonts ARRAY_SIZE(fonts)\n\n#ifdef NO_FONTS\n#error No fonts configured.\n#endif\n\n\n \nconst struct font_desc *find_font(const char *name)\n{\n\tunsigned int i;\n\n\tBUILD_BUG_ON(!num_fonts);\n\tfor (i = 0; i < num_fonts; i++)\n\t\tif (!strcmp(fonts[i]->name, name))\n\t\t\treturn fonts[i];\n\treturn NULL;\n}\nEXPORT_SYMBOL(find_font);\n\n\n \nconst struct font_desc *get_default_font(int xres, int yres, u32 font_w,\n\t\t\t\t\t u32 font_h)\n{\n\tint i, c, cc, res;\n\tconst struct font_desc *f, *g;\n\n\tg = NULL;\n\tcc = -10000;\n\tfor (i = 0; i < num_fonts; i++) {\n\t\tf = fonts[i];\n\t\tc = f->pref;\n#if defined(__mc68000__)\n#ifdef CONFIG_FONT_PEARL_8x8\n\t\tif (MACH_IS_AMIGA && f->idx == PEARL8x8_IDX)\n\t\t\tc = 100;\n#endif\n#ifdef CONFIG_FONT_6x11\n\t\tif (MACH_IS_MAC && xres < 640 && f->idx == VGA6x11_IDX)\n\t\t\tc = 100;\n#endif\n#endif\n\t\tif ((yres < 400) == (f->height <= 8))\n\t\t\tc += 1000;\n\n\t\t \n\t\tres = (xres / f->width) * (yres / f->height) / 1000;\n\t\tif (res > 20)\n\t\t\tc += 20 - res;\n\n\t\tif ((font_w & (1U << (f->width - 1))) &&\n\t\t    (font_h & (1U << (f->height - 1))))\n\t\t\tc += 1000;\n\n\t\tif (c > cc) {\n\t\t\tcc = c;\n\t\t\tg = f;\n\t\t}\n\t}\n\treturn g;\n}\nEXPORT_SYMBOL(get_default_font);\n\nMODULE_AUTHOR(\"James Simmons <jsimmons@users.sf.net>\");\nMODULE_DESCRIPTION(\"Console Fonts\");\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}