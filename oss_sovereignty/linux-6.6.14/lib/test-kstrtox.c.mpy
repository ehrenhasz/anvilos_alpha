{
  "module_name": "test-kstrtox.c",
  "hash_id": "4eb8a4f5244b3402864749093d8d53c8674d6d1120a5cd25f036b5e132a5f626",
  "original_prompt": "Ingested from linux-6.6.14/lib/test-kstrtox.c",
  "human_readable_source": "#include <linux/init.h>\n#include <linux/kernel.h>\n#include <linux/module.h>\n\n#define for_each_test(i, test)\t\\\n\tfor (i = 0; i < ARRAY_SIZE(test); i++)\n\nstruct test_fail {\n\tconst char *str;\n\tunsigned int base;\n};\n\n#define DEFINE_TEST_FAIL(test)\t\\\n\tconst struct test_fail test[] __initconst\n\n#define DECLARE_TEST_OK(type, test_type)\t\\\n\ttest_type {\t\t\t\t\\\n\t\tconst char *str;\t\t\\\n\t\tunsigned int base;\t\t\\\n\t\ttype expected_res;\t\t\\\n\t}\n\n#define DEFINE_TEST_OK(type, test)\t\\\n\tconst type test[] __initconst\n\n#define TEST_FAIL(fn, type, fmt, test)\t\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\\\n\tunsigned int i;\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\tfor_each_test(i, test) {\t\t\t\t\t\\\n\t\tconst struct test_fail *t = &test[i];\t\t\t\\\n\t\ttype tmp;\t\t\t\t\t\t\\\n\t\tint rv;\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\t\ttmp = 0;\t\t\t\t\t\t\\\n\t\trv = fn(t->str, t->base, &tmp);\t\t\t\t\\\n\t\tif (rv >= 0) {\t\t\t\t\t\t\\\n\t\t\tWARN(1, \"str '%s', base %u, expected -E, got %d/\" fmt \"\\n\",\t\\\n\t\t\t\tt->str, t->base, rv, tmp);\t\t\\\n\t\t\tcontinue;\t\t\t\t\t\\\n\t\t}\t\t\t\t\t\t\t\\\n\t}\t\t\t\t\t\t\t\t\\\n}\n\n#define TEST_OK(fn, type, fmt, test)\t\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\\\n\tunsigned int i;\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\tfor_each_test(i, test) {\t\t\t\t\t\\\n\t\tconst typeof(test[0]) *t = &test[i];\t\t\t\\\n\t\ttype res;\t\t\t\t\t\t\\\n\t\tint rv;\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\t\trv = fn(t->str, t->base, &res);\t\t\t\t\\\n\t\tif (rv != 0) {\t\t\t\t\t\t\\\n\t\t\tWARN(1, \"str '%s', base %u, expected 0/\" fmt \", got %d\\n\",\t\\\n\t\t\t\tt->str, t->base, t->expected_res, rv);\t\\\n\t\t\tcontinue;\t\t\t\t\t\\\n\t\t}\t\t\t\t\t\t\t\\\n\t\tif (res != t->expected_res) {\t\t\t\t\\\n\t\t\tWARN(1, \"str '%s', base %u, expected \" fmt \", got \" fmt \"\\n\",\t\\\n\t\t\t\tt->str, t->base, t->expected_res, res);\t\\\n\t\t\tcontinue;\t\t\t\t\t\\\n\t\t}\t\t\t\t\t\t\t\\\n\t}\t\t\t\t\t\t\t\t\\\n}\n\nstatic void __init test_kstrtoull_ok(void)\n{\n\tDECLARE_TEST_OK(unsigned long long, struct test_ull);\n\tstatic DEFINE_TEST_OK(struct test_ull, test_ull_ok) = {\n\t\t{\"0\",\t10,\t0ULL},\n\t\t{\"1\",\t10,\t1ULL},\n\t\t{\"127\",\t10,\t127ULL},\n\t\t{\"128\",\t10,\t128ULL},\n\t\t{\"129\",\t10,\t129ULL},\n\t\t{\"255\",\t10,\t255ULL},\n\t\t{\"256\",\t10,\t256ULL},\n\t\t{\"257\",\t10,\t257ULL},\n\t\t{\"32767\",\t10,\t32767ULL},\n\t\t{\"32768\",\t10,\t32768ULL},\n\t\t{\"32769\",\t10,\t32769ULL},\n\t\t{\"65535\",\t10,\t65535ULL},\n\t\t{\"65536\",\t10,\t65536ULL},\n\t\t{\"65537\",\t10,\t65537ULL},\n\t\t{\"2147483647\",\t10,\t2147483647ULL},\n\t\t{\"2147483648\",\t10,\t2147483648ULL},\n\t\t{\"2147483649\",\t10,\t2147483649ULL},\n\t\t{\"4294967295\",\t10,\t4294967295ULL},\n\t\t{\"4294967296\",\t10,\t4294967296ULL},\n\t\t{\"4294967297\",\t10,\t4294967297ULL},\n\t\t{\"9223372036854775807\",\t10,\t9223372036854775807ULL},\n\t\t{\"9223372036854775808\",\t10,\t9223372036854775808ULL},\n\t\t{\"9223372036854775809\",\t10,\t9223372036854775809ULL},\n\t\t{\"18446744073709551614\",\t10,\t18446744073709551614ULL},\n\t\t{\"18446744073709551615\",\t10,\t18446744073709551615ULL},\n\n\t\t{\"00\",\t\t8,\t00ULL},\n\t\t{\"01\",\t\t8,\t01ULL},\n\t\t{\"0177\",\t8,\t0177ULL},\n\t\t{\"0200\",\t8,\t0200ULL},\n\t\t{\"0201\",\t8,\t0201ULL},\n\t\t{\"0377\",\t8,\t0377ULL},\n\t\t{\"0400\",\t8,\t0400ULL},\n\t\t{\"0401\",\t8,\t0401ULL},\n\t\t{\"077777\",\t8,\t077777ULL},\n\t\t{\"0100000\",\t8,\t0100000ULL},\n\t\t{\"0100001\",\t8,\t0100001ULL},\n\t\t{\"0177777\",\t8,\t0177777ULL},\n\t\t{\"0200000\",\t8,\t0200000ULL},\n\t\t{\"0200001\",\t8,\t0200001ULL},\n\t\t{\"017777777777\",\t8,\t017777777777ULL},\n\t\t{\"020000000000\",\t8,\t020000000000ULL},\n\t\t{\"020000000001\",\t8,\t020000000001ULL},\n\t\t{\"037777777777\",\t8,\t037777777777ULL},\n\t\t{\"040000000000\",\t8,\t040000000000ULL},\n\t\t{\"040000000001\",\t8,\t040000000001ULL},\n\t\t{\"0777777777777777777777\",\t8,\t0777777777777777777777ULL},\n\t\t{\"01000000000000000000000\",\t8,\t01000000000000000000000ULL},\n\t\t{\"01000000000000000000001\",\t8,\t01000000000000000000001ULL},\n\t\t{\"01777777777777777777776\",\t8,\t01777777777777777777776ULL},\n\t\t{\"01777777777777777777777\",\t8,\t01777777777777777777777ULL},\n\n\t\t{\"0x0\",\t\t16,\t0x0ULL},\n\t\t{\"0x1\",\t\t16,\t0x1ULL},\n\t\t{\"0x7f\",\t16,\t0x7fULL},\n\t\t{\"0x80\",\t16,\t0x80ULL},\n\t\t{\"0x81\",\t16,\t0x81ULL},\n\t\t{\"0xff\",\t16,\t0xffULL},\n\t\t{\"0x100\",\t16,\t0x100ULL},\n\t\t{\"0x101\",\t16,\t0x101ULL},\n\t\t{\"0x7fff\",\t16,\t0x7fffULL},\n\t\t{\"0x8000\",\t16,\t0x8000ULL},\n\t\t{\"0x8001\",\t16,\t0x8001ULL},\n\t\t{\"0xffff\",\t16,\t0xffffULL},\n\t\t{\"0x10000\",\t16,\t0x10000ULL},\n\t\t{\"0x10001\",\t16,\t0x10001ULL},\n\t\t{\"0x7fffffff\",\t16,\t0x7fffffffULL},\n\t\t{\"0x80000000\",\t16,\t0x80000000ULL},\n\t\t{\"0x80000001\",\t16,\t0x80000001ULL},\n\t\t{\"0xffffffff\",\t16,\t0xffffffffULL},\n\t\t{\"0x100000000\",\t16,\t0x100000000ULL},\n\t\t{\"0x100000001\",\t16,\t0x100000001ULL},\n\t\t{\"0x7fffffffffffffff\",\t16,\t0x7fffffffffffffffULL},\n\t\t{\"0x8000000000000000\",\t16,\t0x8000000000000000ULL},\n\t\t{\"0x8000000000000001\",\t16,\t0x8000000000000001ULL},\n\t\t{\"0xfffffffffffffffe\",\t16,\t0xfffffffffffffffeULL},\n\t\t{\"0xffffffffffffffff\",\t16,\t0xffffffffffffffffULL},\n\n\t\t{\"0\\n\",\t0,\t0ULL},\n\t};\n\tTEST_OK(kstrtoull, unsigned long long, \"%llu\", test_ull_ok);\n}\n\nstatic void __init test_kstrtoull_fail(void)\n{\n\tstatic DEFINE_TEST_FAIL(test_ull_fail) = {\n\t\t{\"\",\t0},\n\t\t{\"\",\t8},\n\t\t{\"\",\t10},\n\t\t{\"\",\t16},\n\t\t{\"\\n\",\t0},\n\t\t{\"\\n\",\t8},\n\t\t{\"\\n\",\t10},\n\t\t{\"\\n\",\t16},\n\t\t{\"\\n0\",\t0},\n\t\t{\"\\n0\",\t8},\n\t\t{\"\\n0\",\t10},\n\t\t{\"\\n0\",\t16},\n\t\t{\"+\",\t0},\n\t\t{\"+\",\t8},\n\t\t{\"+\",\t10},\n\t\t{\"+\",\t16},\n\t\t{\"-\",\t0},\n\t\t{\"-\",\t8},\n\t\t{\"-\",\t10},\n\t\t{\"-\",\t16},\n\t\t{\"0x\",\t0},\n\t\t{\"0x\",\t16},\n\t\t{\"0X\",\t0},\n\t\t{\"0X\",\t16},\n\t\t{\"0 \",\t0},\n\t\t{\"1+\",\t0},\n\t\t{\"1-\",\t0},\n\t\t{\" 2\",\t0},\n\t\t \n\t\t{\"0x0z\",\t0},\n\t\t{\"0z\",\t\t0},\n\t\t{\"a\",\t\t0},\n\t\t \n\t\t{\"2\",\t2},\n\t\t{\"8\",\t8},\n\t\t{\"a\",\t10},\n\t\t{\"A\",\t10},\n\t\t{\"g\",\t16},\n\t\t{\"G\",\t16},\n\t\t \n\t\t{\"10000000000000000000000000000000000000000000000000000000000000000\",\t2},\n\t\t{\"2000000000000000000000\",\t8},\n\t\t{\"18446744073709551616\",\t10},\n\t\t{\"10000000000000000\",\t16},\n\t\t \n\t\t{\"-0\", 0},\n\t\t{\"-0\", 8},\n\t\t{\"-0\", 10},\n\t\t{\"-0\", 16},\n\t\t{\"-1\", 0},\n\t\t{\"-1\", 8},\n\t\t{\"-1\", 10},\n\t\t{\"-1\", 16},\n\t\t \n\t\t{\"-+1\", 0},\n\t\t{\"-+1\", 8},\n\t\t{\"-+1\", 10},\n\t\t{\"-+1\", 16},\n\t\t \n\t\t{\"0\\n0\", 0},\n\t\t{\"0\\n0\", 8},\n\t\t{\"0\\n0\", 10},\n\t\t{\"0\\n0\", 16},\n\t\t{\"0\\n+\", 0},\n\t\t{\"0\\n+\", 8},\n\t\t{\"0\\n+\", 10},\n\t\t{\"0\\n+\", 16},\n\t\t{\"0\\n-\", 0},\n\t\t{\"0\\n-\", 8},\n\t\t{\"0\\n-\", 10},\n\t\t{\"0\\n-\", 16},\n\t\t{\"0\\n \", 0},\n\t\t{\"0\\n \", 8},\n\t\t{\"0\\n \", 10},\n\t\t{\"0\\n \", 16},\n\t};\n\tTEST_FAIL(kstrtoull, unsigned long long, \"%llu\", test_ull_fail);\n}\n\nstatic void __init test_kstrtoll_ok(void)\n{\n\tDECLARE_TEST_OK(long long, struct test_ll);\n\tstatic DEFINE_TEST_OK(struct test_ll, test_ll_ok) = {\n\t\t{\"0\",\t10,\t0LL},\n\t\t{\"1\",\t10,\t1LL},\n\t\t{\"127\",\t10,\t127LL},\n\t\t{\"128\",\t10,\t128LL},\n\t\t{\"129\",\t10,\t129LL},\n\t\t{\"255\",\t10,\t255LL},\n\t\t{\"256\",\t10,\t256LL},\n\t\t{\"257\",\t10,\t257LL},\n\t\t{\"32767\",\t10,\t32767LL},\n\t\t{\"32768\",\t10,\t32768LL},\n\t\t{\"32769\",\t10,\t32769LL},\n\t\t{\"65535\",\t10,\t65535LL},\n\t\t{\"65536\",\t10,\t65536LL},\n\t\t{\"65537\",\t10,\t65537LL},\n\t\t{\"2147483647\",\t10,\t2147483647LL},\n\t\t{\"2147483648\",\t10,\t2147483648LL},\n\t\t{\"2147483649\",\t10,\t2147483649LL},\n\t\t{\"4294967295\",\t10,\t4294967295LL},\n\t\t{\"4294967296\",\t10,\t4294967296LL},\n\t\t{\"4294967297\",\t10,\t4294967297LL},\n\t\t{\"9223372036854775807\",\t10,\t9223372036854775807LL},\n\n\t\t{\"-0\",\t10,\t0LL},\n\t\t{\"-1\",\t10,\t-1LL},\n\t\t{\"-2\",\t10,\t-2LL},\n\t\t{\"-9223372036854775808\",\t10,\tLLONG_MIN},\n\t};\n\tTEST_OK(kstrtoll, long long, \"%lld\", test_ll_ok);\n}\n\nstatic void __init test_kstrtoll_fail(void)\n{\n\tstatic DEFINE_TEST_FAIL(test_ll_fail) = {\n\t\t{\"9223372036854775808\",\t10},\n\t\t{\"9223372036854775809\",\t10},\n\t\t{\"18446744073709551614\",\t10},\n\t\t{\"18446744073709551615\",\t10},\n\t\t{\"-9223372036854775809\",\t10},\n\t\t{\"-18446744073709551614\",\t10},\n\t\t{\"-18446744073709551615\",\t10},\n\t\t \n\t\t{\"-+1\", 0},\n\t\t{\"-+1\", 8},\n\t\t{\"-+1\", 10},\n\t\t{\"-+1\", 16},\n\t};\n\tTEST_FAIL(kstrtoll, long long, \"%lld\", test_ll_fail);\n}\n\nstatic void __init test_kstrtou64_ok(void)\n{\n\tDECLARE_TEST_OK(u64, struct test_u64);\n\tstatic DEFINE_TEST_OK(struct test_u64, test_u64_ok) = {\n\t\t{\"0\",\t10,\t0},\n\t\t{\"1\",\t10,\t1},\n\t\t{\"126\",\t10,\t126},\n\t\t{\"127\",\t10,\t127},\n\t\t{\"128\",\t10,\t128},\n\t\t{\"129\",\t10,\t129},\n\t\t{\"254\",\t10,\t254},\n\t\t{\"255\",\t10,\t255},\n\t\t{\"256\",\t10,\t256},\n\t\t{\"257\",\t10,\t257},\n\t\t{\"32766\",\t10,\t32766},\n\t\t{\"32767\",\t10,\t32767},\n\t\t{\"32768\",\t10,\t32768},\n\t\t{\"32769\",\t10,\t32769},\n\t\t{\"65534\",\t10,\t65534},\n\t\t{\"65535\",\t10,\t65535},\n\t\t{\"65536\",\t10,\t65536},\n\t\t{\"65537\",\t10,\t65537},\n\t\t{\"2147483646\",\t10,\t2147483646},\n\t\t{\"2147483647\",\t10,\t2147483647},\n\t\t{\"2147483648\",\t10,\t2147483648ULL},\n\t\t{\"2147483649\",\t10,\t2147483649ULL},\n\t\t{\"4294967294\",\t10,\t4294967294ULL},\n\t\t{\"4294967295\",\t10,\t4294967295ULL},\n\t\t{\"4294967296\",\t10,\t4294967296ULL},\n\t\t{\"4294967297\",\t10,\t4294967297ULL},\n\t\t{\"9223372036854775806\",\t10,\t9223372036854775806ULL},\n\t\t{\"9223372036854775807\",\t10,\t9223372036854775807ULL},\n\t\t{\"9223372036854775808\",\t10,\t9223372036854775808ULL},\n\t\t{\"9223372036854775809\",\t10,\t9223372036854775809ULL},\n\t\t{\"18446744073709551614\",\t10,\t18446744073709551614ULL},\n\t\t{\"18446744073709551615\",\t10,\t18446744073709551615ULL},\n\t};\n\tTEST_OK(kstrtou64, u64, \"%llu\", test_u64_ok);\n}\n\nstatic void __init test_kstrtou64_fail(void)\n{\n\tstatic DEFINE_TEST_FAIL(test_u64_fail) = {\n\t\t{\"-2\",\t10},\n\t\t{\"-1\",\t10},\n\t\t{\"18446744073709551616\",\t10},\n\t\t{\"18446744073709551617\",\t10},\n\t};\n\tTEST_FAIL(kstrtou64, u64, \"%llu\", test_u64_fail);\n}\n\nstatic void __init test_kstrtos64_ok(void)\n{\n\tDECLARE_TEST_OK(s64, struct test_s64);\n\tstatic DEFINE_TEST_OK(struct test_s64, test_s64_ok) = {\n\t\t{\"-128\",\t10,\t-128},\n\t\t{\"-127\",\t10,\t-127},\n\t\t{\"-1\",\t10,\t-1},\n\t\t{\"0\",\t10,\t0},\n\t\t{\"1\",\t10,\t1},\n\t\t{\"126\",\t10,\t126},\n\t\t{\"127\",\t10,\t127},\n\t\t{\"128\",\t10,\t128},\n\t\t{\"129\",\t10,\t129},\n\t\t{\"254\",\t10,\t254},\n\t\t{\"255\",\t10,\t255},\n\t\t{\"256\",\t10,\t256},\n\t\t{\"257\",\t10,\t257},\n\t\t{\"32766\",\t10,\t32766},\n\t\t{\"32767\",\t10,\t32767},\n\t\t{\"32768\",\t10,\t32768},\n\t\t{\"32769\",\t10,\t32769},\n\t\t{\"65534\",\t10,\t65534},\n\t\t{\"65535\",\t10,\t65535},\n\t\t{\"65536\",\t10,\t65536},\n\t\t{\"65537\",\t10,\t65537},\n\t\t{\"2147483646\",\t10,\t2147483646},\n\t\t{\"2147483647\",\t10,\t2147483647},\n\t\t{\"2147483648\",\t10,\t2147483648LL},\n\t\t{\"2147483649\",\t10,\t2147483649LL},\n\t\t{\"4294967294\",\t10,\t4294967294LL},\n\t\t{\"4294967295\",\t10,\t4294967295LL},\n\t\t{\"4294967296\",\t10,\t4294967296LL},\n\t\t{\"4294967297\",\t10,\t4294967297LL},\n\t\t{\"9223372036854775806\",\t10,\t9223372036854775806LL},\n\t\t{\"9223372036854775807\",\t10,\t9223372036854775807LL},\n\t};\n\tTEST_OK(kstrtos64, s64, \"%lld\", test_s64_ok);\n}\n\nstatic void __init test_kstrtos64_fail(void)\n{\n\tstatic DEFINE_TEST_FAIL(test_s64_fail) = {\n\t\t{\"9223372036854775808\",\t10},\n\t\t{\"9223372036854775809\",\t10},\n\t\t{\"18446744073709551614\",\t10},\n\t\t{\"18446744073709551615\",\t10},\n\t\t{\"18446744073709551616\",\t10},\n\t\t{\"18446744073709551617\",\t10},\n\t};\n\tTEST_FAIL(kstrtos64, s64, \"%lld\", test_s64_fail);\n}\n\nstatic void __init test_kstrtou32_ok(void)\n{\n\tDECLARE_TEST_OK(u32, struct test_u32);\n\tstatic DEFINE_TEST_OK(struct test_u32, test_u32_ok) = {\n\t\t{\"0\",\t10,\t0},\n\t\t{\"1\",\t10,\t1},\n\t\t{\"126\",\t10,\t126},\n\t\t{\"127\",\t10,\t127},\n\t\t{\"128\",\t10,\t128},\n\t\t{\"129\",\t10,\t129},\n\t\t{\"254\",\t10,\t254},\n\t\t{\"255\",\t10,\t255},\n\t\t{\"256\",\t10,\t256},\n\t\t{\"257\",\t10,\t257},\n\t\t{\"32766\",\t10,\t32766},\n\t\t{\"32767\",\t10,\t32767},\n\t\t{\"32768\",\t10,\t32768},\n\t\t{\"32769\",\t10,\t32769},\n\t\t{\"65534\",\t10,\t65534},\n\t\t{\"65535\",\t10,\t65535},\n\t\t{\"65536\",\t10,\t65536},\n\t\t{\"65537\",\t10,\t65537},\n\t\t{\"2147483646\",\t10,\t2147483646},\n\t\t{\"2147483647\",\t10,\t2147483647},\n\t\t{\"2147483648\",\t10,\t2147483648U},\n\t\t{\"2147483649\",\t10,\t2147483649U},\n\t\t{\"4294967294\",\t10,\t4294967294U},\n\t\t{\"4294967295\",\t10,\t4294967295U},\n\t};\n\tTEST_OK(kstrtou32, u32, \"%u\", test_u32_ok);\n}\n\nstatic void __init test_kstrtou32_fail(void)\n{\n\tstatic DEFINE_TEST_FAIL(test_u32_fail) = {\n\t\t{\"-2\",\t10},\n\t\t{\"-1\",\t10},\n\t\t{\"4294967296\",\t10},\n\t\t{\"4294967297\",\t10},\n\t\t{\"9223372036854775806\",\t10},\n\t\t{\"9223372036854775807\",\t10},\n\t\t{\"9223372036854775808\",\t10},\n\t\t{\"9223372036854775809\",\t10},\n\t\t{\"18446744073709551614\",\t10},\n\t\t{\"18446744073709551615\",\t10},\n\t\t{\"18446744073709551616\",\t10},\n\t\t{\"18446744073709551617\",\t10},\n\t};\n\tTEST_FAIL(kstrtou32, u32, \"%u\", test_u32_fail);\n}\n\nstatic void __init test_kstrtos32_ok(void)\n{\n\tDECLARE_TEST_OK(s32, struct test_s32);\n\tstatic DEFINE_TEST_OK(struct test_s32, test_s32_ok) = {\n\t\t{\"-128\",\t10,\t-128},\n\t\t{\"-127\",\t10,\t-127},\n\t\t{\"-1\",\t10,\t-1},\n\t\t{\"0\",\t10,\t0},\n\t\t{\"1\",\t10,\t1},\n\t\t{\"126\",\t10,\t126},\n\t\t{\"127\",\t10,\t127},\n\t\t{\"128\",\t10,\t128},\n\t\t{\"129\",\t10,\t129},\n\t\t{\"254\",\t10,\t254},\n\t\t{\"255\",\t10,\t255},\n\t\t{\"256\",\t10,\t256},\n\t\t{\"257\",\t10,\t257},\n\t\t{\"32766\",\t10,\t32766},\n\t\t{\"32767\",\t10,\t32767},\n\t\t{\"32768\",\t10,\t32768},\n\t\t{\"32769\",\t10,\t32769},\n\t\t{\"65534\",\t10,\t65534},\n\t\t{\"65535\",\t10,\t65535},\n\t\t{\"65536\",\t10,\t65536},\n\t\t{\"65537\",\t10,\t65537},\n\t\t{\"2147483646\",\t10,\t2147483646},\n\t\t{\"2147483647\",\t10,\t2147483647},\n\t};\n\tTEST_OK(kstrtos32, s32, \"%d\", test_s32_ok);\n}\n\nstatic void __init test_kstrtos32_fail(void)\n{\n\tstatic DEFINE_TEST_FAIL(test_s32_fail) = {\n\t\t{\"2147483648\",\t10},\n\t\t{\"2147483649\",\t10},\n\t\t{\"4294967294\",\t10},\n\t\t{\"4294967295\",\t10},\n\t\t{\"4294967296\",\t10},\n\t\t{\"4294967297\",\t10},\n\t\t{\"9223372036854775806\",\t10},\n\t\t{\"9223372036854775807\",\t10},\n\t\t{\"9223372036854775808\",\t10},\n\t\t{\"9223372036854775809\",\t10},\n\t\t{\"18446744073709551614\",\t10},\n\t\t{\"18446744073709551615\",\t10},\n\t\t{\"18446744073709551616\",\t10},\n\t\t{\"18446744073709551617\",\t10},\n\t};\n\tTEST_FAIL(kstrtos32, s32, \"%d\", test_s32_fail);\n}\n\nstatic void __init test_kstrtou16_ok(void)\n{\n\tDECLARE_TEST_OK(u16, struct test_u16);\n\tstatic DEFINE_TEST_OK(struct test_u16, test_u16_ok) = {\n\t\t{\"0\",\t10,\t0},\n\t\t{\"1\",\t10,\t1},\n\t\t{\"126\",\t10,\t126},\n\t\t{\"127\",\t10,\t127},\n\t\t{\"128\",\t10,\t128},\n\t\t{\"129\",\t10,\t129},\n\t\t{\"254\",\t10,\t254},\n\t\t{\"255\",\t10,\t255},\n\t\t{\"256\",\t10,\t256},\n\t\t{\"257\",\t10,\t257},\n\t\t{\"32766\",\t10,\t32766},\n\t\t{\"32767\",\t10,\t32767},\n\t\t{\"32768\",\t10,\t32768},\n\t\t{\"32769\",\t10,\t32769},\n\t\t{\"65534\",\t10,\t65534},\n\t\t{\"65535\",\t10,\t65535},\n\t};\n\tTEST_OK(kstrtou16, u16, \"%hu\", test_u16_ok);\n}\n\nstatic void __init test_kstrtou16_fail(void)\n{\n\tstatic DEFINE_TEST_FAIL(test_u16_fail) = {\n\t\t{\"-2\",\t10},\n\t\t{\"-1\",\t10},\n\t\t{\"65536\",\t10},\n\t\t{\"65537\",\t10},\n\t\t{\"2147483646\",\t10},\n\t\t{\"2147483647\",\t10},\n\t\t{\"2147483648\",\t10},\n\t\t{\"2147483649\",\t10},\n\t\t{\"4294967294\",\t10},\n\t\t{\"4294967295\",\t10},\n\t\t{\"4294967296\",\t10},\n\t\t{\"4294967297\",\t10},\n\t\t{\"9223372036854775806\",\t10},\n\t\t{\"9223372036854775807\",\t10},\n\t\t{\"9223372036854775808\",\t10},\n\t\t{\"9223372036854775809\",\t10},\n\t\t{\"18446744073709551614\",\t10},\n\t\t{\"18446744073709551615\",\t10},\n\t\t{\"18446744073709551616\",\t10},\n\t\t{\"18446744073709551617\",\t10},\n\t};\n\tTEST_FAIL(kstrtou16, u16, \"%hu\", test_u16_fail);\n}\n\nstatic void __init test_kstrtos16_ok(void)\n{\n\tDECLARE_TEST_OK(s16, struct test_s16);\n\tstatic DEFINE_TEST_OK(struct test_s16, test_s16_ok) = {\n\t\t{\"-130\",\t10,\t-130},\n\t\t{\"-129\",\t10,\t-129},\n\t\t{\"-128\",\t10,\t-128},\n\t\t{\"-127\",\t10,\t-127},\n\t\t{\"-1\",\t10,\t-1},\n\t\t{\"0\",\t10,\t0},\n\t\t{\"1\",\t10,\t1},\n\t\t{\"126\",\t10,\t126},\n\t\t{\"127\",\t10,\t127},\n\t\t{\"128\",\t10,\t128},\n\t\t{\"129\",\t10,\t129},\n\t\t{\"254\",\t10,\t254},\n\t\t{\"255\",\t10,\t255},\n\t\t{\"256\",\t10,\t256},\n\t\t{\"257\",\t10,\t257},\n\t\t{\"32766\",\t10,\t32766},\n\t\t{\"32767\",\t10,\t32767},\n\t};\n\tTEST_OK(kstrtos16, s16, \"%hd\", test_s16_ok);\n}\n\nstatic void __init test_kstrtos16_fail(void)\n{\n\tstatic DEFINE_TEST_FAIL(test_s16_fail) = {\n\t\t{\"32768\",\t10},\n\t\t{\"32769\",\t10},\n\t\t{\"65534\",\t10},\n\t\t{\"65535\",\t10},\n\t\t{\"65536\",\t10},\n\t\t{\"65537\",\t10},\n\t\t{\"2147483646\",\t10},\n\t\t{\"2147483647\",\t10},\n\t\t{\"2147483648\",\t10},\n\t\t{\"2147483649\",\t10},\n\t\t{\"4294967294\",\t10},\n\t\t{\"4294967295\",\t10},\n\t\t{\"4294967296\",\t10},\n\t\t{\"4294967297\",\t10},\n\t\t{\"9223372036854775806\",\t10},\n\t\t{\"9223372036854775807\",\t10},\n\t\t{\"9223372036854775808\",\t10},\n\t\t{\"9223372036854775809\",\t10},\n\t\t{\"18446744073709551614\",\t10},\n\t\t{\"18446744073709551615\",\t10},\n\t\t{\"18446744073709551616\",\t10},\n\t\t{\"18446744073709551617\",\t10},\n\t};\n\tTEST_FAIL(kstrtos16, s16, \"%hd\", test_s16_fail);\n}\n\nstatic void __init test_kstrtou8_ok(void)\n{\n\tDECLARE_TEST_OK(u8, struct test_u8);\n\tstatic DEFINE_TEST_OK(struct test_u8, test_u8_ok) = {\n\t\t{\"0\",\t10,\t0},\n\t\t{\"1\",\t10,\t1},\n\t\t{\"126\",\t10,\t126},\n\t\t{\"127\",\t10,\t127},\n\t\t{\"128\",\t10,\t128},\n\t\t{\"129\",\t10,\t129},\n\t\t{\"254\",\t10,\t254},\n\t\t{\"255\",\t10,\t255},\n\t};\n\tTEST_OK(kstrtou8, u8, \"%hhu\", test_u8_ok);\n}\n\nstatic void __init test_kstrtou8_fail(void)\n{\n\tstatic DEFINE_TEST_FAIL(test_u8_fail) = {\n\t\t{\"-2\",\t10},\n\t\t{\"-1\",\t10},\n\t\t{\"256\",\t10},\n\t\t{\"257\",\t10},\n\t\t{\"32766\",\t10},\n\t\t{\"32767\",\t10},\n\t\t{\"32768\",\t10},\n\t\t{\"32769\",\t10},\n\t\t{\"65534\",\t10},\n\t\t{\"65535\",\t10},\n\t\t{\"65536\",\t10},\n\t\t{\"65537\",\t10},\n\t\t{\"2147483646\",\t10},\n\t\t{\"2147483647\",\t10},\n\t\t{\"2147483648\",\t10},\n\t\t{\"2147483649\",\t10},\n\t\t{\"4294967294\",\t10},\n\t\t{\"4294967295\",\t10},\n\t\t{\"4294967296\",\t10},\n\t\t{\"4294967297\",\t10},\n\t\t{\"9223372036854775806\",\t10},\n\t\t{\"9223372036854775807\",\t10},\n\t\t{\"9223372036854775808\",\t10},\n\t\t{\"9223372036854775809\",\t10},\n\t\t{\"18446744073709551614\",\t10},\n\t\t{\"18446744073709551615\",\t10},\n\t\t{\"18446744073709551616\",\t10},\n\t\t{\"18446744073709551617\",\t10},\n\t};\n\tTEST_FAIL(kstrtou8, u8, \"%hhu\", test_u8_fail);\n}\n\nstatic void __init test_kstrtos8_ok(void)\n{\n\tDECLARE_TEST_OK(s8, struct test_s8);\n\tstatic DEFINE_TEST_OK(struct test_s8, test_s8_ok) = {\n\t\t{\"-128\",\t10,\t-128},\n\t\t{\"-127\",\t10,\t-127},\n\t\t{\"-1\",\t10,\t-1},\n\t\t{\"0\",\t10,\t0},\n\t\t{\"1\",\t10,\t1},\n\t\t{\"126\",\t10,\t126},\n\t\t{\"127\",\t10,\t127},\n\t};\n\tTEST_OK(kstrtos8, s8, \"%hhd\", test_s8_ok);\n}\n\nstatic void __init test_kstrtos8_fail(void)\n{\n\tstatic DEFINE_TEST_FAIL(test_s8_fail) = {\n\t\t{\"-130\",\t10},\n\t\t{\"-129\",\t10},\n\t\t{\"128\",\t10},\n\t\t{\"129\",\t10},\n\t\t{\"254\",\t10},\n\t\t{\"255\",\t10},\n\t\t{\"256\",\t10},\n\t\t{\"257\",\t10},\n\t\t{\"32766\",\t10},\n\t\t{\"32767\",\t10},\n\t\t{\"32768\",\t10},\n\t\t{\"32769\",\t10},\n\t\t{\"65534\",\t10},\n\t\t{\"65535\",\t10},\n\t\t{\"65536\",\t10},\n\t\t{\"65537\",\t10},\n\t\t{\"2147483646\",\t10},\n\t\t{\"2147483647\",\t10},\n\t\t{\"2147483648\",\t10},\n\t\t{\"2147483649\",\t10},\n\t\t{\"4294967294\",\t10},\n\t\t{\"4294967295\",\t10},\n\t\t{\"4294967296\",\t10},\n\t\t{\"4294967297\",\t10},\n\t\t{\"9223372036854775806\",\t10},\n\t\t{\"9223372036854775807\",\t10},\n\t\t{\"9223372036854775808\",\t10},\n\t\t{\"9223372036854775809\",\t10},\n\t\t{\"18446744073709551614\",\t10},\n\t\t{\"18446744073709551615\",\t10},\n\t\t{\"18446744073709551616\",\t10},\n\t\t{\"18446744073709551617\",\t10},\n\t};\n\tTEST_FAIL(kstrtos8, s8, \"%hhd\", test_s8_fail);\n}\n\nstatic int __init test_kstrtox_init(void)\n{\n\ttest_kstrtoull_ok();\n\ttest_kstrtoull_fail();\n\ttest_kstrtoll_ok();\n\ttest_kstrtoll_fail();\n\n\ttest_kstrtou64_ok();\n\ttest_kstrtou64_fail();\n\ttest_kstrtos64_ok();\n\ttest_kstrtos64_fail();\n\n\ttest_kstrtou32_ok();\n\ttest_kstrtou32_fail();\n\ttest_kstrtos32_ok();\n\ttest_kstrtos32_fail();\n\n\ttest_kstrtou16_ok();\n\ttest_kstrtou16_fail();\n\ttest_kstrtos16_ok();\n\ttest_kstrtos16_fail();\n\n\ttest_kstrtou8_ok();\n\ttest_kstrtou8_fail();\n\ttest_kstrtos8_ok();\n\ttest_kstrtos8_fail();\n\treturn -EINVAL;\n}\nmodule_init(test_kstrtox_init);\nMODULE_LICENSE(\"Dual BSD/GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}