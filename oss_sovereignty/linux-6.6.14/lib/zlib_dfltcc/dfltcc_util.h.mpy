{
  "module_name": "dfltcc_util.h",
  "hash_id": "217f3f0d8e059a95d1e0d3361fef4ebd193863377e86ca31dd2978dccd349dc8",
  "original_prompt": "Ingested from linux-6.6.14/lib/zlib_dfltcc/dfltcc_util.h",
  "human_readable_source": "\n#ifndef DFLTCC_UTIL_H\n#define DFLTCC_UTIL_H\n\n#include <linux/zutil.h>\n\n \ntypedef enum {\n    DFLTCC_CC_OK = 0,\n    DFLTCC_CC_OP1_TOO_SHORT = 1,\n    DFLTCC_CC_OP2_TOO_SHORT = 2,\n    DFLTCC_CC_OP2_CORRUPT = 2,\n    DFLTCC_CC_AGAIN = 3,\n} dfltcc_cc;\n\n#define DFLTCC_QAF 0\n#define DFLTCC_GDHT 1\n#define DFLTCC_CMPR 2\n#define DFLTCC_XPND 4\n#define HBT_CIRCULAR (1 << 7)\n#define HB_BITS 15\n#define HB_SIZE (1 << HB_BITS)\n\nstatic inline dfltcc_cc dfltcc(\n    int fn,\n    void *param,\n    Byte **op1,\n    size_t *len1,\n    const Byte **op2,\n    size_t *len2,\n    void *hist\n)\n{\n    Byte *t2 = op1 ? *op1 : NULL;\n    size_t t3 = len1 ? *len1 : 0;\n    const Byte *t4 = op2 ? *op2 : NULL;\n    size_t t5 = len2 ? *len2 : 0;\n    register int r0 __asm__(\"r0\") = fn;\n    register void *r1 __asm__(\"r1\") = param;\n    register Byte *r2 __asm__(\"r2\") = t2;\n    register size_t r3 __asm__(\"r3\") = t3;\n    register const Byte *r4 __asm__(\"r4\") = t4;\n    register size_t r5 __asm__(\"r5\") = t5;\n    int cc;\n\n    __asm__ volatile(\n                     \".insn rrf,0xb9390000,%[r2],%[r4],%[hist],0\\n\"\n                     \"ipm %[cc]\\n\"\n                     : [r2] \"+r\" (r2)\n                     , [r3] \"+r\" (r3)\n                     , [r4] \"+r\" (r4)\n                     , [r5] \"+r\" (r5)\n                     , [cc] \"=r\" (cc)\n                     : [r0] \"r\" (r0)\n                     , [r1] \"r\" (r1)\n                     , [hist] \"r\" (hist)\n                     : \"cc\", \"memory\");\n    t2 = r2; t3 = r3; t4 = r4; t5 = r5;\n\n    if (op1)\n        *op1 = t2;\n    if (len1)\n        *len1 = t3;\n    if (op2)\n        *op2 = t4;\n    if (len2)\n        *len2 = t5;\n    return (cc >> 28) & 3;\n}\n\nstatic inline int is_bit_set(\n    const char *bits,\n    int n\n)\n{\n    return bits[n / 8] & (1 << (7 - (n % 8)));\n}\n\nstatic inline void turn_bit_off(\n    char *bits,\n    int n\n)\n{\n    bits[n / 8] &= ~(1 << (7 - (n % 8)));\n}\n\nstatic inline int dfltcc_are_params_ok(\n    int level,\n    uInt window_bits,\n    int strategy,\n    uLong level_mask\n)\n{\n    return (level_mask & (1 << level)) != 0 &&\n        (window_bits == HB_BITS) &&\n        (strategy == Z_DEFAULT_STRATEGY);\n}\n\nchar *oesc_msg(char *buf, int oesc);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}