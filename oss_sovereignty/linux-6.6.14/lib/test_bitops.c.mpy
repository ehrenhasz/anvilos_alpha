{
  "module_name": "test_bitops.c",
  "hash_id": "63ba5f2835e52cd13d23855cebb9da6611415d27e3994993eef3e7f98e86cab9",
  "original_prompt": "Ingested from linux-6.6.14/lib/test_bitops.c",
  "human_readable_source": "\n \n\n#define pr_fmt(fmt) KBUILD_MODNAME \": \" fmt\n\n#include <linux/init.h>\n#include <linux/module.h>\n#include <linux/printk.h>\n\n \n\n \nenum bitops_fun {\n\tBITOPS_4 = 4,\n\tBITOPS_7 = 7,\n\tBITOPS_11 = 11,\n\tBITOPS_31 = 31,\n\tBITOPS_88 = 88,\n\tBITOPS_LAST = 255,\n\tBITOPS_LENGTH = 256\n};\n\nstatic DECLARE_BITMAP(g_bitmap, BITOPS_LENGTH);\n\nstatic unsigned int order_comb[][2] = {\n\t{0x00000003,  2},\n\t{0x00000004,  2},\n\t{0x00001fff, 13},\n\t{0x00002000, 13},\n\t{0x50000000, 31},\n\t{0x80000000, 31},\n\t{0x80003000, 32},\n};\n\n#ifdef CONFIG_64BIT\nstatic unsigned long order_comb_long[][2] = {\n\t{0x0000000300000000, 34},\n\t{0x0000000400000000, 34},\n\t{0x00001fff00000000, 45},\n\t{0x0000200000000000, 45},\n\t{0x5000000000000000, 63},\n\t{0x8000000000000000, 63},\n\t{0x8000300000000000, 64},\n};\n#endif\n\nstatic int __init test_bitops_startup(void)\n{\n\tint i, bit_set;\n\n\tpr_info(\"Starting bitops test\\n\");\n\tset_bit(BITOPS_4, g_bitmap);\n\tset_bit(BITOPS_7, g_bitmap);\n\tset_bit(BITOPS_11, g_bitmap);\n\tset_bit(BITOPS_31, g_bitmap);\n\tset_bit(BITOPS_88, g_bitmap);\n\n\tfor (i = 0; i < ARRAY_SIZE(order_comb); i++) {\n\t\tif (order_comb[i][1] != get_count_order(order_comb[i][0]))\n\t\t\tpr_warn(\"get_count_order wrong for %x\\n\",\n\t\t\t\t       order_comb[i][0]);\n\t}\n\n\tfor (i = 0; i < ARRAY_SIZE(order_comb); i++) {\n\t\tif (order_comb[i][1] != get_count_order_long(order_comb[i][0]))\n\t\t\tpr_warn(\"get_count_order_long wrong for %x\\n\",\n\t\t\t\t       order_comb[i][0]);\n\t}\n\n#ifdef CONFIG_64BIT\n\tfor (i = 0; i < ARRAY_SIZE(order_comb_long); i++) {\n\t\tif (order_comb_long[i][1] !=\n\t\t\t       get_count_order_long(order_comb_long[i][0]))\n\t\t\tpr_warn(\"get_count_order_long wrong for %lx\\n\",\n\t\t\t\t       order_comb_long[i][0]);\n\t}\n#endif\n\n\tbarrier();\n\n\tclear_bit(BITOPS_4, g_bitmap);\n\tclear_bit(BITOPS_7, g_bitmap);\n\tclear_bit(BITOPS_11, g_bitmap);\n\tclear_bit(BITOPS_31, g_bitmap);\n\tclear_bit(BITOPS_88, g_bitmap);\n\n\tbit_set = find_first_bit(g_bitmap, BITOPS_LAST);\n\tif (bit_set != BITOPS_LAST)\n\t\tpr_err(\"ERROR: FOUND SET BIT %d\\n\", bit_set);\n\n\tpr_info(\"Completed bitops test\\n\");\n\n\treturn 0;\n}\n\nstatic void __exit test_bitops_unstartup(void)\n{\n}\n\nmodule_init(test_bitops_startup);\nmodule_exit(test_bitops_unstartup);\n\nMODULE_AUTHOR(\"Jesse Brandeburg <jesse.brandeburg@intel.com>, Wei Yang <richard.weiyang@gmail.com>\");\nMODULE_LICENSE(\"GPL\");\nMODULE_DESCRIPTION(\"Bit testing module\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}