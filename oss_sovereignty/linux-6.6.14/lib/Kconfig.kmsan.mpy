{
  "module_name": "Kconfig.kmsan",
  "hash_id": "09a281d3da22596456ecfe454c410175f087b4595da6d5dc814e5077703cd5f5",
  "original_prompt": "Ingested from linux-6.6.14/lib/Kconfig.kmsan",
  "human_readable_source": "# SPDX-License-Identifier: GPL-2.0-only\nconfig HAVE_ARCH_KMSAN\n\tbool\n\nconfig HAVE_KMSAN_COMPILER\n\t# Clang versions <14.0.0 also support -fsanitize=kernel-memory, but not\n\t# all the features necessary to build the kernel with KMSAN.\n\tdepends on CC_IS_CLANG && CLANG_VERSION >= 140000\n\tdef_bool $(cc-option,-fsanitize=kernel-memory -mllvm -msan-disable-checks=1)\n\nconfig KMSAN\n\tbool \"KMSAN: detector of uninitialized values use\"\n\tdepends on HAVE_ARCH_KMSAN && HAVE_KMSAN_COMPILER\n\tdepends on SLUB && DEBUG_KERNEL && !KASAN && !KCSAN\n\tdepends on !PREEMPT_RT\n\tselect STACKDEPOT\n\tselect STACKDEPOT_ALWAYS_INIT\n\thelp\n\t  KernelMemorySanitizer (KMSAN) is a dynamic detector of uses of\n\t  uninitialized values in the kernel. It is based on compiler\n\t  instrumentation provided by Clang and thus requires Clang to build.\n\n\t  An important note is that KMSAN is not intended for production use,\n\t  because it drastically increases kernel memory footprint and slows\n\t  the whole system down.\n\n\t  See <file:Documentation/dev-tools/kmsan.rst> for more details.\n\nif KMSAN\n\nconfig HAVE_KMSAN_PARAM_RETVAL\n\t# -fsanitize-memory-param-retval is supported only by Clang >= 14.\n\tdepends on HAVE_KMSAN_COMPILER\n\tdef_bool $(cc-option,-fsanitize=kernel-memory -fsanitize-memory-param-retval)\n\nconfig KMSAN_CHECK_PARAM_RETVAL\n\tbool \"Check for uninitialized values passed to and returned from functions\"\n\tdefault y\n\tdepends on HAVE_KMSAN_PARAM_RETVAL\n\thelp\n\t  If the compiler supports -fsanitize-memory-param-retval, KMSAN will\n\t  eagerly check every function parameter passed by value and every\n\t  function return value.\n\n\t  Disabling KMSAN_CHECK_PARAM_RETVAL will result in tracking shadow for\n\t  function parameters and return values across function borders. This\n\t  is a more relaxed mode, but it generates more instrumentation code and\n\t  may potentially report errors in corner cases when non-instrumented\n\t  functions call instrumented ones.\n\nconfig KMSAN_KUNIT_TEST\n\ttristate \"KMSAN integration test suite\" if !KUNIT_ALL_TESTS\n\tdefault KUNIT_ALL_TESTS\n\tdepends on TRACEPOINTS && KUNIT\n\thelp\n\t  Test suite for KMSAN, testing various error detection scenarios,\n\t  and checking that reports are correctly output to console.\n\n\t  Say Y here if you want the test to be built into the kernel and run\n\t  during boot; say M if you want the test to build as a module; say N\n\t  if you are unsure.\n\nendif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}