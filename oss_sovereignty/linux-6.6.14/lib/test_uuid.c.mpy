{
  "module_name": "test_uuid.c",
  "hash_id": "1782eaf06b700bbab781327489a5de429457255f69dc0dd1b6204ef2ccb24024",
  "original_prompt": "Ingested from linux-6.6.14/lib/test_uuid.c",
  "human_readable_source": " \n#define pr_fmt(fmt) KBUILD_MODNAME \": \" fmt\n\n#include <linux/init.h>\n#include <linux/kernel.h>\n#include <linux/module.h>\n#include <linux/string.h>\n#include <linux/uuid.h>\n\nstruct test_uuid_data {\n\tconst char *uuid;\n\tguid_t le;\n\tuuid_t be;\n};\n\nstatic const struct test_uuid_data test_uuid_test_data[] = {\n\t{\n\t\t.uuid = \"c33f4995-3701-450e-9fbf-206a2e98e576\",\n\t\t.le = GUID_INIT(0xc33f4995, 0x3701, 0x450e, 0x9f, 0xbf, 0x20, 0x6a, 0x2e, 0x98, 0xe5, 0x76),\n\t\t.be = UUID_INIT(0xc33f4995, 0x3701, 0x450e, 0x9f, 0xbf, 0x20, 0x6a, 0x2e, 0x98, 0xe5, 0x76),\n\t},\n\t{\n\t\t.uuid = \"64b4371c-77c1-48f9-8221-29f054fc023b\",\n\t\t.le = GUID_INIT(0x64b4371c, 0x77c1, 0x48f9, 0x82, 0x21, 0x29, 0xf0, 0x54, 0xfc, 0x02, 0x3b),\n\t\t.be = UUID_INIT(0x64b4371c, 0x77c1, 0x48f9, 0x82, 0x21, 0x29, 0xf0, 0x54, 0xfc, 0x02, 0x3b),\n\t},\n\t{\n\t\t.uuid = \"0cb4ddff-a545-4401-9d06-688af53e7f84\",\n\t\t.le = GUID_INIT(0x0cb4ddff, 0xa545, 0x4401, 0x9d, 0x06, 0x68, 0x8a, 0xf5, 0x3e, 0x7f, 0x84),\n\t\t.be = UUID_INIT(0x0cb4ddff, 0xa545, 0x4401, 0x9d, 0x06, 0x68, 0x8a, 0xf5, 0x3e, 0x7f, 0x84),\n\t},\n};\n\nstatic const char * const test_uuid_wrong_data[] = {\n\t\"c33f4995-3701-450e-9fbf206a2e98e576 \",\t \n\t\"64b4371c-77c1-48f9-8221-29f054XX023b\",\t \n\t\"0cb4ddff-a545-4401-9d06-688af53e\",\t \n};\n\nstatic unsigned total_tests __initdata;\nstatic unsigned failed_tests __initdata;\n\nstatic void __init test_uuid_failed(const char *prefix, bool wrong, bool be,\n\t\t\t\t    const char *data, const char *actual)\n{\n\tpr_err(\"%s test #%u %s %s data: '%s'\\n\",\n\t       prefix,\n\t       total_tests,\n\t       wrong ? \"passed on wrong\" : \"failed on\",\n\t       be ? \"BE\" : \"LE\",\n\t       data);\n\tif (actual && *actual)\n\t\tpr_err(\"%s test #%u actual data: '%s'\\n\",\n\t\t       prefix,\n\t\t       total_tests,\n\t\t       actual);\n\tfailed_tests++;\n}\n\nstatic void __init test_uuid_test(const struct test_uuid_data *data)\n{\n\tguid_t le;\n\tuuid_t be;\n\tchar buf[48];\n\n\t \n\ttotal_tests++;\n\tif (guid_parse(data->uuid, &le))\n\t\ttest_uuid_failed(\"conversion\", false, false, data->uuid, NULL);\n\n\ttotal_tests++;\n\tif (!guid_equal(&data->le, &le)) {\n\t\tsprintf(buf, \"%pUl\", &le);\n\t\ttest_uuid_failed(\"cmp\", false, false, data->uuid, buf);\n\t}\n\n\t \n\ttotal_tests++;\n\tif (uuid_parse(data->uuid, &be))\n\t\ttest_uuid_failed(\"conversion\", false, true, data->uuid, NULL);\n\n\ttotal_tests++;\n\tif (!uuid_equal(&data->be, &be)) {\n\t\tsprintf(buf, \"%pUb\", &be);\n\t\ttest_uuid_failed(\"cmp\", false, true, data->uuid, buf);\n\t}\n}\n\nstatic void __init test_uuid_wrong(const char *data)\n{\n\tguid_t le;\n\tuuid_t be;\n\n\t \n\ttotal_tests++;\n\tif (!guid_parse(data, &le))\n\t\ttest_uuid_failed(\"negative\", true, false, data, NULL);\n\n\t \n\ttotal_tests++;\n\tif (!uuid_parse(data, &be))\n\t\ttest_uuid_failed(\"negative\", true, true, data, NULL);\n}\n\nstatic int __init test_uuid_init(void)\n{\n\tunsigned int i;\n\n\tfor (i = 0; i < ARRAY_SIZE(test_uuid_test_data); i++)\n\t\ttest_uuid_test(&test_uuid_test_data[i]);\n\n\tfor (i = 0; i < ARRAY_SIZE(test_uuid_wrong_data); i++)\n\t\ttest_uuid_wrong(test_uuid_wrong_data[i]);\n\n\tif (failed_tests == 0)\n\t\tpr_info(\"all %u tests passed\\n\", total_tests);\n\telse\n\t\tpr_err(\"failed %u out of %u tests\\n\", failed_tests, total_tests);\n\n\treturn failed_tests ? -EINVAL : 0;\n}\nmodule_init(test_uuid_init);\n\nstatic void __exit test_uuid_exit(void)\n{\n\t \n}\nmodule_exit(test_uuid_exit);\n\nMODULE_AUTHOR(\"Andy Shevchenko <andriy.shevchenko@linux.intel.com>\");\nMODULE_LICENSE(\"Dual BSD/GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}