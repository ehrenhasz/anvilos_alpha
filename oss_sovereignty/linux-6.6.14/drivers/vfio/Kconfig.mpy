{
  "module_name": "Kconfig",
  "hash_id": "cd2889358b6eb59724a99e5f085f948db4cee5002e4e82a6d9a8147b7ea086ee",
  "original_prompt": "Ingested from linux-6.6.14/drivers/vfio/Kconfig",
  "human_readable_source": "# SPDX-License-Identifier: GPL-2.0-only\nmenuconfig VFIO\n\ttristate \"VFIO Non-Privileged userspace driver framework\"\n\tselect IOMMU_API\n\tdepends on IOMMUFD || !IOMMUFD\n\tselect INTERVAL_TREE\n\tselect VFIO_GROUP if SPAPR_TCE_IOMMU || IOMMUFD=n\n\tselect VFIO_DEVICE_CDEV if !VFIO_GROUP\n\tselect VFIO_CONTAINER if IOMMUFD=n\n\thelp\n\t  VFIO provides a framework for secure userspace device drivers.\n\t  See Documentation/driver-api/vfio.rst for more details.\n\n\t  If you don't know what to do here, say N.\n\nif VFIO\nconfig VFIO_DEVICE_CDEV\n\tbool \"Support for the VFIO cdev /dev/vfio/devices/vfioX\"\n\tdepends on IOMMUFD && !SPAPR_TCE_IOMMU\n\tdefault !VFIO_GROUP\n\thelp\n\t  The VFIO device cdev is another way for userspace to get device\n\t  access. Userspace gets device fd by opening device cdev under\n\t  /dev/vfio/devices/vfioX, and then bind the device fd with an iommufd\n\t  to set up secure DMA context for device access.  This interface does\n\t  not support noiommu.\n\n\t  If you don't know what to do here, say N.\n\nconfig VFIO_GROUP\n\tbool \"Support for the VFIO group /dev/vfio/$group_id\"\n\tdefault y\n\thelp\n\t   VFIO group support provides the traditional model for accessing\n\t   devices through VFIO and is used by the majority of userspace\n\t   applications and drivers making use of VFIO.\n\n\t   If you don't know what to do here, say Y.\n\nconfig VFIO_CONTAINER\n\tbool \"Support for the VFIO container /dev/vfio/vfio\"\n\tselect VFIO_IOMMU_TYPE1 if MMU && (X86 || S390 || ARM || ARM64)\n\tdepends on VFIO_GROUP\n\tdefault y\n\thelp\n\t  The VFIO container is the classic interface to VFIO for establishing\n\t  IOMMU mappings. If N is selected here then IOMMUFD must be used to\n\t  manage the mappings.\n\n\t  Unless testing IOMMUFD say Y here.\n\nif VFIO_CONTAINER\nconfig VFIO_IOMMU_TYPE1\n\ttristate\n\tdefault n\n\nconfig VFIO_IOMMU_SPAPR_TCE\n\ttristate\n\tdepends on SPAPR_TCE_IOMMU\n\tdefault VFIO\nendif\n\nconfig VFIO_NOIOMMU\n\tbool \"VFIO No-IOMMU support\"\n\tdepends on VFIO_GROUP\n\thelp\n\t  VFIO is built on the ability to isolate devices using the IOMMU.\n\t  Only with an IOMMU can userspace access to DMA capable devices be\n\t  considered secure.  VFIO No-IOMMU mode enables IOMMU groups for\n\t  devices without IOMMU backing for the purpose of re-using the VFIO\n\t  infrastructure in a non-secure mode.  Use of this mode will result\n\t  in an unsupportable kernel and will therefore taint the kernel.\n\t  Device assignment to virtual machines is also not possible with\n\t  this mode since there is no IOMMU to provide DMA translation.\n\n\t  If you don't know what to do here, say N.\n\nconfig VFIO_VIRQFD\n\tbool\n\tselect EVENTFD\n\tdefault n\n\nsource \"drivers/vfio/pci/Kconfig\"\nsource \"drivers/vfio/platform/Kconfig\"\nsource \"drivers/vfio/mdev/Kconfig\"\nsource \"drivers/vfio/fsl-mc/Kconfig\"\nsource \"drivers/vfio/cdx/Kconfig\"\nendif\n\nsource \"virt/lib/Kconfig\"\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}