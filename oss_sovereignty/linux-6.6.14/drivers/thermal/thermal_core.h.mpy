{
  "module_name": "thermal_core.h",
  "hash_id": "672847f5ee0fe66b8135646a734b720cdf8a4562d7e2f6b1a77ace0237cd2bf6",
  "original_prompt": "Ingested from linux-6.6.14/drivers/thermal/thermal_core.h",
  "human_readable_source": " \n \n\n#ifndef __THERMAL_CORE_H__\n#define __THERMAL_CORE_H__\n\n#include <linux/device.h>\n#include <linux/thermal.h>\n\n#include \"thermal_netlink.h\"\n\n \n#if defined(CONFIG_THERMAL_DEFAULT_GOV_STEP_WISE)\n#define DEFAULT_THERMAL_GOVERNOR       \"step_wise\"\n#elif defined(CONFIG_THERMAL_DEFAULT_GOV_FAIR_SHARE)\n#define DEFAULT_THERMAL_GOVERNOR       \"fair_share\"\n#elif defined(CONFIG_THERMAL_DEFAULT_GOV_USER_SPACE)\n#define DEFAULT_THERMAL_GOVERNOR       \"user_space\"\n#elif defined(CONFIG_THERMAL_DEFAULT_GOV_POWER_ALLOCATOR)\n#define DEFAULT_THERMAL_GOVERNOR       \"power_allocator\"\n#elif defined(CONFIG_THERMAL_DEFAULT_GOV_BANG_BANG)\n#define DEFAULT_THERMAL_GOVERNOR       \"bang_bang\"\n#endif\n\n \n#define THERMAL_NO_TARGET -1UL\n\n \nextern struct thermal_governor *__governor_thermal_table[];\nextern struct thermal_governor *__governor_thermal_table_end[];\n\n#define THERMAL_TABLE_ENTRY(table, name)\t\t\t\\\n\tstatic typeof(name) *__thermal_table_entry_##name\t\\\n\t__used __section(\"__\" #table \"_thermal_table\") = &name\n\n#define THERMAL_GOVERNOR_DECLARE(name)\tTHERMAL_TABLE_ENTRY(governor, name)\n\n#define for_each_governor_table(__governor)\t\t\\\n\tfor (__governor = __governor_thermal_table;\t\\\n\t     __governor < __governor_thermal_table_end;\t\\\n\t     __governor++)\n\nint for_each_thermal_zone(int (*cb)(struct thermal_zone_device *, void *),\n\t\t\t  void *);\n\nint for_each_thermal_cooling_device(int (*cb)(struct thermal_cooling_device *,\n\t\t\t\t\t      void *), void *);\n\nint for_each_thermal_governor(int (*cb)(struct thermal_governor *, void *),\n\t\t\t      void *thermal_governor);\n\nstruct thermal_zone_device *thermal_zone_get_by_id(int id);\n\nstruct thermal_attr {\n\tstruct device_attribute attr;\n\tchar name[THERMAL_NAME_LENGTH];\n};\n\nstatic inline bool cdev_is_power_actor(struct thermal_cooling_device *cdev)\n{\n\treturn cdev->ops->get_requested_power && cdev->ops->state2power &&\n\t\tcdev->ops->power2state;\n}\n\nvoid thermal_cdev_update(struct thermal_cooling_device *);\nvoid __thermal_cdev_update(struct thermal_cooling_device *cdev);\n\nint get_tz_trend(struct thermal_zone_device *tz, int trip_index);\n\nstruct thermal_instance *\nget_thermal_instance(struct thermal_zone_device *tz,\n\t\t     struct thermal_cooling_device *cdev,\n\t\t     int trip);\n\n \nstruct thermal_instance {\n\tint id;\n\tchar name[THERMAL_NAME_LENGTH];\n\tstruct thermal_zone_device *tz;\n\tstruct thermal_cooling_device *cdev;\n\tint trip;\n\tbool initialized;\n\tunsigned long upper;\t \n\tunsigned long lower;\t \n\tunsigned long target;\t \n\tchar attr_name[THERMAL_NAME_LENGTH];\n\tstruct device_attribute attr;\n\tchar weight_attr_name[THERMAL_NAME_LENGTH];\n\tstruct device_attribute weight_attr;\n\tstruct list_head tz_node;  \n\tstruct list_head cdev_node;  \n\tunsigned int weight;  \n\tbool upper_no_limit;\n};\n\n#define to_thermal_zone(_dev) \\\n\tcontainer_of(_dev, struct thermal_zone_device, device)\n\n#define to_cooling_device(_dev)\t\\\n\tcontainer_of(_dev, struct thermal_cooling_device, device)\n\nint thermal_register_governor(struct thermal_governor *);\nvoid thermal_unregister_governor(struct thermal_governor *);\nint thermal_zone_device_set_policy(struct thermal_zone_device *, char *);\nint thermal_build_list_of_policies(char *buf);\nvoid __thermal_zone_device_update(struct thermal_zone_device *tz,\n\t\t\t\t  enum thermal_notify_event event);\n\n \nvoid __thermal_zone_set_trips(struct thermal_zone_device *tz);\nint __thermal_zone_get_trip(struct thermal_zone_device *tz, int trip_id,\n\t\t\t    struct thermal_trip *trip);\nint __thermal_zone_get_temp(struct thermal_zone_device *tz, int *temp);\n\n \nint thermal_zone_create_device_groups(struct thermal_zone_device *, int);\nvoid thermal_zone_destroy_device_groups(struct thermal_zone_device *);\nvoid thermal_cooling_device_setup_sysfs(struct thermal_cooling_device *);\nvoid thermal_cooling_device_destroy_sysfs(struct thermal_cooling_device *cdev);\nvoid thermal_cooling_device_stats_reinit(struct thermal_cooling_device *cdev);\n \nssize_t trip_point_show(struct device *, struct device_attribute *, char *);\nssize_t weight_show(struct device *, struct device_attribute *, char *);\nssize_t weight_store(struct device *, struct device_attribute *, const char *,\n\t\t     size_t);\n\n#ifdef CONFIG_THERMAL_STATISTICS\nvoid thermal_cooling_device_stats_update(struct thermal_cooling_device *cdev,\n\t\t\t\t\t unsigned long new_state);\n#else\nstatic inline void\nthermal_cooling_device_stats_update(struct thermal_cooling_device *cdev,\n\t\t\t\t    unsigned long new_state) {}\n#endif  \n\n \nint thermal_zone_device_is_enabled(struct thermal_zone_device *tz);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}