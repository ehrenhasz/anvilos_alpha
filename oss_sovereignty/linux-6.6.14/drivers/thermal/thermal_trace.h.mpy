{
  "module_name": "thermal_trace.h",
  "hash_id": "4cc332ccf3073598b11874fd37a97fa45e01cc43738fca91f011d0f7173ee6f9",
  "original_prompt": "Ingested from linux-6.6.14/drivers/thermal/thermal_trace.h",
  "human_readable_source": " \n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM thermal\n\n#if !defined(_TRACE_THERMAL_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _TRACE_THERMAL_H\n\n#include <linux/devfreq.h>\n#include <linux/thermal.h>\n#include <linux/tracepoint.h>\n\nTRACE_DEFINE_ENUM(THERMAL_TRIP_CRITICAL);\nTRACE_DEFINE_ENUM(THERMAL_TRIP_HOT);\nTRACE_DEFINE_ENUM(THERMAL_TRIP_PASSIVE);\nTRACE_DEFINE_ENUM(THERMAL_TRIP_ACTIVE);\n\n#define show_tzt_type(type)\t\t\t\t\t\\\n\t__print_symbolic(type,\t\t\t\t\t\\\n\t\t\t { THERMAL_TRIP_CRITICAL, \"CRITICAL\"},\t\\\n\t\t\t { THERMAL_TRIP_HOT,      \"HOT\"},\t\\\n\t\t\t { THERMAL_TRIP_PASSIVE,  \"PASSIVE\"},\t\\\n\t\t\t { THERMAL_TRIP_ACTIVE,   \"ACTIVE\"})\n\nTRACE_EVENT(thermal_temperature,\n\n\tTP_PROTO(struct thermal_zone_device *tz),\n\n\tTP_ARGS(tz),\n\n\tTP_STRUCT__entry(\n\t\t__string(thermal_zone, tz->type)\n\t\t__field(int, id)\n\t\t__field(int, temp_prev)\n\t\t__field(int, temp)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(thermal_zone, tz->type);\n\t\t__entry->id = tz->id;\n\t\t__entry->temp_prev = tz->last_temperature;\n\t\t__entry->temp = tz->temperature;\n\t),\n\n\tTP_printk(\"thermal_zone=%s id=%d temp_prev=%d temp=%d\",\n\t\t__get_str(thermal_zone), __entry->id, __entry->temp_prev,\n\t\t__entry->temp)\n);\n\nTRACE_EVENT(cdev_update,\n\n\tTP_PROTO(struct thermal_cooling_device *cdev, unsigned long target),\n\n\tTP_ARGS(cdev, target),\n\n\tTP_STRUCT__entry(\n\t\t__string(type, cdev->type)\n\t\t__field(unsigned long, target)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(type, cdev->type);\n\t\t__entry->target = target;\n\t),\n\n\tTP_printk(\"type=%s target=%lu\", __get_str(type), __entry->target)\n);\n\nTRACE_EVENT(thermal_zone_trip,\n\n\tTP_PROTO(struct thermal_zone_device *tz, int trip,\n\t\tenum thermal_trip_type trip_type),\n\n\tTP_ARGS(tz, trip, trip_type),\n\n\tTP_STRUCT__entry(\n\t\t__string(thermal_zone, tz->type)\n\t\t__field(int, id)\n\t\t__field(int, trip)\n\t\t__field(enum thermal_trip_type, trip_type)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(thermal_zone, tz->type);\n\t\t__entry->id = tz->id;\n\t\t__entry->trip = trip;\n\t\t__entry->trip_type = trip_type;\n\t),\n\n\tTP_printk(\"thermal_zone=%s id=%d trip=%d trip_type=%s\",\n\t\t__get_str(thermal_zone), __entry->id, __entry->trip,\n\t\tshow_tzt_type(__entry->trip_type))\n);\n\n#ifdef CONFIG_CPU_THERMAL\nTRACE_EVENT(thermal_power_cpu_get_power_simple,\n\tTP_PROTO(int cpu, u32 power),\n\n\tTP_ARGS(cpu, power),\n\n\tTP_STRUCT__entry(\n\t\t__field(int, cpu)\n\t\t__field(u32, power)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->cpu = cpu;\n\t\t__entry->power = power;\n\t),\n\n\tTP_printk(\"cpu=%d power=%u\", __entry->cpu, __entry->power)\n);\n\nTRACE_EVENT(thermal_power_cpu_limit,\n\tTP_PROTO(const struct cpumask *cpus, unsigned int freq,\n\t\tunsigned long cdev_state, u32 power),\n\n\tTP_ARGS(cpus, freq, cdev_state, power),\n\n\tTP_STRUCT__entry(\n\t\t__bitmask(cpumask, num_possible_cpus())\n\t\t__field(unsigned int,  freq      )\n\t\t__field(unsigned long, cdev_state)\n\t\t__field(u32,           power     )\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_bitmask(cpumask, cpumask_bits(cpus),\n\t\t\t\tnum_possible_cpus());\n\t\t__entry->freq = freq;\n\t\t__entry->cdev_state = cdev_state;\n\t\t__entry->power = power;\n\t),\n\n\tTP_printk(\"cpus=%s freq=%u cdev_state=%lu power=%u\",\n\t\t__get_bitmask(cpumask), __entry->freq, __entry->cdev_state,\n\t\t__entry->power)\n);\n#endif  \n\n#ifdef CONFIG_DEVFREQ_THERMAL\nTRACE_EVENT(thermal_power_devfreq_get_power,\n\tTP_PROTO(struct thermal_cooling_device *cdev,\n\t\t struct devfreq_dev_status *status, unsigned long freq,\n\t\tu32 power),\n\n\tTP_ARGS(cdev, status,  freq, power),\n\n\tTP_STRUCT__entry(\n\t\t__string(type,         cdev->type    )\n\t\t__field(unsigned long, freq          )\n\t\t__field(u32,           busy_time)\n\t\t__field(u32,           total_time)\n\t\t__field(u32,           power)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(type, cdev->type);\n\t\t__entry->freq = freq;\n\t\t__entry->busy_time = status->busy_time;\n\t\t__entry->total_time = status->total_time;\n\t\t__entry->power = power;\n\t),\n\n\tTP_printk(\"type=%s freq=%lu load=%u power=%u\",\n\t\t__get_str(type), __entry->freq,\n\t\t__entry->total_time == 0 ? 0 :\n\t\t\t(100 * __entry->busy_time) / __entry->total_time,\n\t\t__entry->power)\n);\n\nTRACE_EVENT(thermal_power_devfreq_limit,\n\tTP_PROTO(struct thermal_cooling_device *cdev, unsigned long freq,\n\t\tunsigned long cdev_state, u32 power),\n\n\tTP_ARGS(cdev, freq, cdev_state, power),\n\n\tTP_STRUCT__entry(\n\t\t__string(type,         cdev->type)\n\t\t__field(unsigned int,  freq      )\n\t\t__field(unsigned long, cdev_state)\n\t\t__field(u32,           power     )\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(type, cdev->type);\n\t\t__entry->freq = freq;\n\t\t__entry->cdev_state = cdev_state;\n\t\t__entry->power = power;\n\t),\n\n\tTP_printk(\"type=%s freq=%u cdev_state=%lu power=%u\",\n\t\t__get_str(type), __entry->freq, __entry->cdev_state,\n\t\t__entry->power)\n);\n#endif  \n#endif  \n\n#undef TRACE_INCLUDE_PATH\n#define TRACE_INCLUDE_PATH .\n\n#undef TRACE_INCLUDE_FILE\n#define TRACE_INCLUDE_FILE thermal_trace\n\n \n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}