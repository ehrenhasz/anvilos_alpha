{
  "module_name": "omap3-thermal-data.c",
  "hash_id": "400da744963a56caffbfed3cc869e9ae7232a05e1c24983875c742770f298dad",
  "original_prompt": "Ingested from linux-6.6.14/drivers/thermal/ti-soc-thermal/omap3-thermal-data.c",
  "human_readable_source": "\n \n\n#include \"ti-thermal.h\"\n#include \"ti-bandgap.h\"\n\n \nstatic struct temp_sensor_registers\nomap34xx_mpu_temp_sensor_registers = {\n\t.temp_sensor_ctrl = 0,\n\t.bgap_soc_mask = BIT(8),\n\t.bgap_eocz_mask = BIT(7),\n\t.bgap_dtemp_mask = 0x7f,\n\n\t.bgap_mode_ctrl = 0,\n\t.mode_ctrl_mask = BIT(9),\n};\n\n \nstatic struct temp_sensor_data omap34xx_mpu_temp_sensor_data = {\n\t.min_freq = 32768,\n\t.max_freq = 32768,\n};\n\n \nstatic const int\nomap34xx_adc_to_temp[128] = {\n\t-40000, -40000, -40000, -40000, -40000, -39000, -38000, -36000,\n\t-34000, -32000, -31000,\t-29000, -28000, -26000, -25000, -24000,\n\t-22000, -21000, -19000, -18000, -17000, -15000,\t-14000, -12000,\n\t-11000, -9000, -8000, -7000, -5000, -4000, -2000, -1000, 0000,\n\t1000, 3000, 4000, 5000, 7000, 8000, 10000, 11000, 13000, 14000,\n\t15000, 17000, 18000, 20000, 21000, 22000, 24000, 25000, 27000,\n\t28000, 30000, 31000, 32000, 34000, 35000, 37000, 38000, 39000,\n\t41000, 42000, 44000, 45000, 47000, 48000, 49000, 51000, 52000,\n\t53000, 55000, 56000, 58000, 59000, 60000, 62000, 63000, 65000,\n\t66000, 67000, 69000, 70000, 72000, 73000, 74000, 76000, 77000,\n\t79000, 80000, 81000, 83000, 84000, 85000, 87000, 88000, 89000,\n\t91000, 92000, 94000, 95000, 96000, 98000, 99000, 100000,\n\t102000, 103000, 105000, 106000, 107000, 109000, 110000, 111000,\n\t113000, 114000, 116000, 117000, 118000, 120000, 121000, 122000,\n\t124000, 124000, 125000, 125000, 125000, 125000,\t125000\n};\n\n \nconst struct ti_bandgap_data omap34xx_data = {\n\t.features = TI_BANDGAP_FEATURE_CLK_CTRL | TI_BANDGAP_FEATURE_UNRELIABLE,\n\t.fclock_name = \"ts_fck\",\n\t.div_ck_name = \"ts_fck\",\n\t.conv_table = omap34xx_adc_to_temp,\n\t.adc_start_val = 0,\n\t.adc_end_val = 127,\n\t.expose_sensor = ti_thermal_expose_sensor,\n\t.remove_sensor = ti_thermal_remove_sensor,\n\n\t.sensors = {\n\t\t{\n\t\t.registers = &omap34xx_mpu_temp_sensor_registers,\n\t\t.ts_data = &omap34xx_mpu_temp_sensor_data,\n\t\t.domain = \"cpu\",\n\t\t.slope_pcb = 0,\n\t\t.constant_pcb = 20000,\n\t\t.register_cooling = NULL,\n\t\t.unregister_cooling = NULL,\n\t\t},\n\t},\n\t.sensor_count = 1,\n};\n\n \nstatic struct temp_sensor_registers\nomap36xx_mpu_temp_sensor_registers = {\n\t.temp_sensor_ctrl = 0,\n\t.bgap_soc_mask = BIT(9),\n\t.bgap_eocz_mask = BIT(8),\n\t.bgap_dtemp_mask = 0xFF,\n\n\t.bgap_mode_ctrl = 0,\n\t.mode_ctrl_mask = BIT(10),\n};\n\n \nstatic struct temp_sensor_data omap36xx_mpu_temp_sensor_data = {\n\t.min_freq = 32768,\n\t.max_freq = 32768,\n};\n\n \nstatic const int\nomap36xx_adc_to_temp[128] = {\n\t-40000, -40000, -40000, -40000, -40000, -40000, -40000, -40000,\n\t-40000, -40000, -40000,\t-40000, -40000, -38000, -35000, -34000,\n\t-32000, -30000, -28000, -26000, -24000, -22000,\t-20000, -18500,\n\t-17000, -15000, -13500, -12000, -10000, -8000, -6500, -5000, -3500,\n\t-1500, 0, 2000, 3500, 5000, 6500, 8500, 10000, 12000, 13500,\n\t15000, 17000, 19000, 21000, 23000, 25000, 27000, 28500, 30000,\n\t32000, 33500, 35000, 37000, 38500, 40000, 42000, 43500, 45000,\n\t47000, 48500, 50000, 52000, 53500, 55000, 57000, 58500, 60000,\n\t62000, 64000, 66000, 68000, 70000, 71500, 73500, 75000, 77000,\n\t78500, 80000, 82000, 83500, 85000, 87000, 88500, 90000, 92000,\n\t93500, 95000, 97000, 98500, 100000, 102000, 103500, 105000, 107000,\n\t109000, 111000, 113000, 115000, 117000, 118500, 120000, 122000,\n\t123500, 125000, 125000, 125000, 125000, 125000, 125000, 125000,\n\t125000, 125000, 125000, 125000, 125000, 125000, 125000, 125000,\n\t125000, 125000, 125000, 125000, 125000, 125000,\t125000\n};\n\n \nconst struct ti_bandgap_data omap36xx_data = {\n\t.features = TI_BANDGAP_FEATURE_CLK_CTRL | TI_BANDGAP_FEATURE_UNRELIABLE,\n\t.fclock_name = \"ts_fck\",\n\t.div_ck_name = \"ts_fck\",\n\t.conv_table = omap36xx_adc_to_temp,\n\t.adc_start_val = 0,\n\t.adc_end_val = 127,\n\t.expose_sensor = ti_thermal_expose_sensor,\n\t.remove_sensor = ti_thermal_remove_sensor,\n\n\t.sensors = {\n\t\t{\n\t\t.registers = &omap36xx_mpu_temp_sensor_registers,\n\t\t.ts_data = &omap36xx_mpu_temp_sensor_data,\n\t\t.domain = \"cpu\",\n\t\t.slope_pcb = 0,\n\t\t.constant_pcb = 20000,\n\t\t.register_cooling = NULL,\n\t\t.unregister_cooling = NULL,\n\t\t},\n\t},\n\t.sensor_count = 1,\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}