{
  "module_name": "soctherm.h",
  "hash_id": "dad81e363ade6c7ee892f064254dc3e558f26010e11ee86e70c4acbe8237d155",
  "original_prompt": "Ingested from linux-6.6.14/drivers/thermal/tegra/soctherm.h",
  "human_readable_source": " \n \n\n#ifndef __DRIVERS_THERMAL_TEGRA_SOCTHERM_H\n#define __DRIVERS_THERMAL_TEGRA_SOCTHERM_H\n\n#define THERMCTL_LEVEL0_GROUP_CPU               0x0\n#define THERMCTL_LEVEL0_GROUP_GPU\t\t0x4\n#define THERMCTL_LEVEL0_GROUP_MEM\t\t0x8\n#define THERMCTL_LEVEL0_GROUP_TSENSE\t\t0xc\n\n#define SENSOR_CONFIG2                          8\n#define SENSOR_CONFIG2_THERMA_MASK\t\t(0xffff << 16)\n#define SENSOR_CONFIG2_THERMA_SHIFT\t\t16\n#define SENSOR_CONFIG2_THERMB_MASK\t\t0xffff\n#define SENSOR_CONFIG2_THERMB_SHIFT\t\t0\n\n#define THERMCTL_THERMTRIP_CTL\t\t\t0x80\n \n\n#define THERMCTL_INTR_ENABLE\t\t\t0x88\n#define THERMCTL_INTR_DISABLE\t\t\t0x8c\n#define TH_INTR_UP_DN_EN\t\t\t0x3\n#define THERM_IRQ_MEM_MASK\t\t\t(TH_INTR_UP_DN_EN << 24)\n#define THERM_IRQ_GPU_MASK\t\t\t(TH_INTR_UP_DN_EN << 16)\n#define THERM_IRQ_CPU_MASK\t\t\t(TH_INTR_UP_DN_EN << 8)\n#define THERM_IRQ_TSENSE_MASK\t\t\t(TH_INTR_UP_DN_EN << 0)\n\n#define SENSOR_PDIV\t\t\t\t0x1c0\n#define SENSOR_PDIV_CPU_MASK\t\t\t(0xf << 12)\n#define SENSOR_PDIV_GPU_MASK\t\t\t(0xf << 8)\n#define SENSOR_PDIV_MEM_MASK\t\t\t(0xf << 4)\n#define SENSOR_PDIV_PLLX_MASK\t\t\t(0xf << 0)\n\n#define SENSOR_HOTSPOT_OFF\t\t\t0x1c4\n#define SENSOR_HOTSPOT_CPU_MASK\t\t\t(0xff << 16)\n#define SENSOR_HOTSPOT_GPU_MASK\t\t\t(0xff << 8)\n#define SENSOR_HOTSPOT_MEM_MASK\t\t\t(0xff << 0)\n\n#define SENSOR_TEMP1\t\t\t\t0x1c8\n#define SENSOR_TEMP1_CPU_TEMP_MASK\t\t(0xffff << 16)\n#define SENSOR_TEMP1_GPU_TEMP_MASK\t\t0xffff\n#define SENSOR_TEMP2\t\t\t\t0x1cc\n#define SENSOR_TEMP2_MEM_TEMP_MASK\t\t(0xffff << 16)\n#define SENSOR_TEMP2_PLLX_TEMP_MASK\t\t0xffff\n\n \nstruct tegra_tsensor_group {\n\tconst char *name;\n\tu8 id;\n\tu16 sensor_temp_offset;\n\tu32 sensor_temp_mask;\n\tu32 pdiv, pdiv_ate, pdiv_mask;\n\tu32 pllx_hotspot_diff, pllx_hotspot_mask;\n\tu32 thermtrip_enable_mask;\n\tu32 thermtrip_any_en_mask;\n\tu32 thermtrip_threshold_mask;\n\tu32 thermctl_isr_mask;\n\tu16 thermctl_lvl0_offset;\n\tu32 thermctl_lvl0_up_thresh_mask;\n\tu32 thermctl_lvl0_dn_thresh_mask;\n};\n\nstruct tegra_tsensor_configuration {\n\tu32 tall, tiddq_en, ten_count, pdiv, pdiv_ate, tsample, tsample_ate;\n};\n\nstruct tegra_tsensor {\n\tconst char *name;\n\tconst u32 base;\n\tconst struct tegra_tsensor_configuration *config;\n\tconst u32 calib_fuse_offset;\n\t \n\tconst s32 fuse_corr_alpha, fuse_corr_beta;\n\tconst struct tegra_tsensor_group *group;\n};\n\nstruct tsensor_group_thermtrips {\n\tu8 id;\n\tu32 temp;\n};\n\nstruct tegra_soctherm_fuse {\n\tu32 fuse_base_cp_mask, fuse_base_cp_shift;\n\tu32 fuse_base_ft_mask, fuse_base_ft_shift;\n\tu32 fuse_shift_ft_mask, fuse_shift_ft_shift;\n\tu32 fuse_spare_realignment;\n};\n\nstruct tsensor_shared_calib {\n\tu32 base_cp, base_ft;\n\tu32 actual_temp_cp, actual_temp_ft;\n};\n\nstruct tegra_soctherm_soc {\n\tconst struct tegra_tsensor *tsensors;\n\tconst unsigned int num_tsensors;\n\tconst struct tegra_tsensor_group **ttgs;\n\tconst unsigned int num_ttgs;\n\tconst struct tegra_soctherm_fuse *tfuse;\n\tconst int thresh_grain;\n\tconst unsigned int bptt;\n\tconst bool use_ccroc;\n\tstruct tsensor_group_thermtrips *thermtrips;\n};\n\nint tegra_calc_shared_calib(const struct tegra_soctherm_fuse *tfuse,\n\t\t\t    struct tsensor_shared_calib *shared);\nint tegra_calc_tsensor_calib(const struct tegra_tsensor *sensor,\n\t\t\t     const struct tsensor_shared_calib *shared,\n\t\t\t     u32 *calib);\n\n#ifdef CONFIG_ARCH_TEGRA_124_SOC\nextern const struct tegra_soctherm_soc tegra124_soctherm;\n#endif\n\n#ifdef CONFIG_ARCH_TEGRA_132_SOC\nextern const struct tegra_soctherm_soc tegra132_soctherm;\n#endif\n\n#ifdef CONFIG_ARCH_TEGRA_210_SOC\nextern const struct tegra_soctherm_soc tegra210_soctherm;\n#endif\n\n#endif\n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}