{
  "module_name": "int3401_thermal.c",
  "hash_id": "d7db7f9277f8e3216ca695bf589431fa577e4dc6515b8fc7d12423d741b838ce",
  "original_prompt": "Ingested from linux-6.6.14/drivers/thermal/intel/int340x_thermal/int3401_thermal.c",
  "human_readable_source": "\n \n#include <linux/acpi.h>\n#include <linux/kernel.h>\n#include <linux/module.h>\n#include <linux/platform_device.h>\n#include <linux/thermal.h>\n\n#include \"int340x_thermal_zone.h\"\n#include \"processor_thermal_device.h\"\n\nstatic const struct acpi_device_id int3401_device_ids[] = {\n\t{\"INT3401\", 0},\n\t{\"\", 0},\n};\nMODULE_DEVICE_TABLE(acpi, int3401_device_ids);\n\nstatic int int3401_add(struct platform_device *pdev)\n{\n\tstruct proc_thermal_device *proc_priv;\n\tint ret;\n\n\tproc_priv = devm_kzalloc(&pdev->dev, sizeof(*proc_priv), GFP_KERNEL);\n\tif (!proc_priv)\n\t\treturn -ENOMEM;\n\n\tret = proc_thermal_add(&pdev->dev, proc_priv);\n\tif (ret)\n\t\treturn ret;\n\n\tplatform_set_drvdata(pdev, proc_priv);\n\n\treturn ret;\n}\n\nstatic int int3401_remove(struct platform_device *pdev)\n{\n\tproc_thermal_remove(platform_get_drvdata(pdev));\n\n\treturn 0;\n}\n\n#ifdef CONFIG_PM_SLEEP\nstatic int int3401_thermal_suspend(struct device *dev)\n{\n\treturn proc_thermal_suspend(dev);\n}\nstatic int int3401_thermal_resume(struct device *dev)\n{\n\treturn proc_thermal_resume(dev);\n}\n#else\n#define int3401_thermal_suspend NULL\n#define int3401_thermal_resume NULL\n#endif\n\nstatic SIMPLE_DEV_PM_OPS(int3401_proc_thermal_pm, int3401_thermal_suspend,\n\t\t\t int3401_thermal_resume);\n\nstatic struct platform_driver int3401_driver = {\n\t.probe = int3401_add,\n\t.remove = int3401_remove,\n\t.driver = {\n\t\t.name = \"int3401 thermal\",\n\t\t.acpi_match_table = int3401_device_ids,\n\t\t.pm = &int3401_proc_thermal_pm,\n\t},\n};\n\nmodule_platform_driver(int3401_driver);\n\nMODULE_AUTHOR(\"Srinivas Pandruvada <srinivas.pandruvada@linux.intel.com>\");\nMODULE_DESCRIPTION(\"Processor Thermal Reporting Device Driver\");\nMODULE_LICENSE(\"GPL v2\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}