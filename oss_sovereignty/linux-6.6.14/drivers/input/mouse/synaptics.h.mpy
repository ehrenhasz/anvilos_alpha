{
  "module_name": "synaptics.h",
  "hash_id": "b24745932c516f95f2b32531ce07bd8d06e5291b6086d1069c70115b897e15f4",
  "original_prompt": "Ingested from linux-6.6.14/drivers/input/mouse/synaptics.h",
  "human_readable_source": " \n \n\n#ifndef _SYNAPTICS_H\n#define _SYNAPTICS_H\n\n \n#define SYN_QUE_IDENTIFY\t\t0x00\n#define SYN_QUE_MODES\t\t\t0x01\n#define SYN_QUE_CAPABILITIES\t\t0x02\n#define SYN_QUE_MODEL\t\t\t0x03\n#define SYN_QUE_SERIAL_NUMBER_PREFIX\t0x06\n#define SYN_QUE_SERIAL_NUMBER_SUFFIX\t0x07\n#define SYN_QUE_RESOLUTION\t\t0x08\n#define SYN_QUE_EXT_CAPAB\t\t0x09\n#define SYN_QUE_FIRMWARE_ID\t\t0x0a\n#define SYN_QUE_EXT_CAPAB_0C\t\t0x0c\n#define SYN_QUE_EXT_MAX_COORDS\t\t0x0d\n#define SYN_QUE_EXT_MIN_COORDS\t\t0x0f\n#define SYN_QUE_MEXT_CAPAB_10\t\t0x10\n\n \n#define SYN_BIT_ABSOLUTE_MODE\t\tBIT(7)\n#define SYN_BIT_HIGH_RATE\t\tBIT(6)\n#define SYN_BIT_SLEEP_MODE\t\tBIT(3)\n#define SYN_BIT_DISABLE_GESTURE\t\tBIT(2)\n#define SYN_BIT_FOUR_BYTE_CLIENT\tBIT(1)\n#define SYN_BIT_W_MODE\t\t\tBIT(0)\n\n \n#define SYN_MODEL_ROT180(m)\t\t((m) & BIT(23))\n#define SYN_MODEL_PORTRAIT(m)\t\t((m) & BIT(22))\n#define SYN_MODEL_SENSOR(m)\t\t(((m) & GENMASK(21, 16)) >> 16)\n#define SYN_MODEL_HARDWARE(m)\t\t(((m) & GENMASK(15, 9)) >> 9)\n#define SYN_MODEL_NEWABS(m)\t\t((m) & BIT(7))\n#define SYN_MODEL_PEN(m)\t\t((m) & BIT(6))\n#define SYN_MODEL_SIMPLIC(m)\t\t((m) & BIT(5))\n#define SYN_MODEL_GEOMETRY(m)\t\t((m) & GENMASK(3, 0))\n\n \n#define SYN_CAP_EXTENDED(c)\t\t((c) & BIT(23))\n#define SYN_CAP_MIDDLE_BUTTON(c)\t((c) & BIT(18))\n#define SYN_CAP_PASS_THROUGH(c)\t\t((c) & BIT(7))\n#define SYN_CAP_SLEEP(c)\t\t((c) & BIT(4))\n#define SYN_CAP_FOUR_BUTTON(c)\t\t((c) & BIT(3))\n#define SYN_CAP_MULTIFINGER(c)\t\t((c) & BIT(1))\n#define SYN_CAP_PALMDETECT(c)\t\t((c) & BIT(0))\n#define SYN_CAP_SUBMODEL_ID(c)\t\t(((c) & GENMASK(15, 8)) >> 8)\n#define SYN_EXT_CAP_REQUESTS(c)\t\t(((c) & GENMASK(22, 20)) >> 20)\n#define SYN_CAP_MB_MASK\t\t\tGENMASK(15, 12)\n#define SYN_CAP_MULTI_BUTTON_NO(ec)\t(((ec) & SYN_CAP_MB_MASK) >> 12)\n#define SYN_CAP_PRODUCT_ID(ec)\t\t(((ec) & GENMASK(23, 16)) >> 16)\n#define SYN_MEXT_CAP_BIT(m)\t\t((m) & BIT(1))\n\n \n#define SYN_CAP_CLICKPAD(ex0c)\t\t((ex0c) & BIT(20))  \n#define SYN_CAP_CLICKPAD2BTN(ex0c)\t((ex0c) & BIT(8))   \n#define SYN_CAP_MAX_DIMENSIONS(ex0c)\t((ex0c) & BIT(17))\n#define SYN_CAP_MIN_DIMENSIONS(ex0c)\t((ex0c) & BIT(13))\n#define SYN_CAP_ADV_GESTURE(ex0c)\t((ex0c) & BIT(19))\n#define SYN_CAP_REDUCED_FILTERING(ex0c)\t((ex0c) & BIT(10))\n#define SYN_CAP_IMAGE_SENSOR(ex0c)\t((ex0c) & BIT(11))\n#define SYN_CAP_INTERTOUCH(ex0c)\t((ex0c) & BIT(14))\n\n \n#define SYN_CAP_EXT_BUTTONS_STICK(ex10)\t((ex10) & BIT(16))\n#define SYN_CAP_SECUREPAD(ex10)\t\t((ex10) & BIT(17))\n\n#define SYN_EXT_BUTTON_STICK_L(eb)\t(((eb) & BIT(0)) >> 0)\n#define SYN_EXT_BUTTON_STICK_M(eb)\t(((eb) & BIT(1)) >> 1)\n#define SYN_EXT_BUTTON_STICK_R(eb)\t(((eb) & BIT(2)) >> 2)\n\n \n#define SYN_MODE_ABSOLUTE(m)\t\t((m) & BIT(7))\n#define SYN_MODE_RATE(m)\t\t((m) & BIT(6))\n#define SYN_MODE_BAUD_SLEEP(m)\t\t((m) & BIT(3))\n#define SYN_MODE_DISABLE_GESTURE(m)\t((m) & BIT(2))\n#define SYN_MODE_PACKSIZE(m)\t\t((m) & BIT(1))\n#define SYN_MODE_WMODE(m)\t\t((m) & BIT(0))\n\n \n#define SYN_ID_MODEL(i)\t\t\t(((i) & GENMASK(7, 4)) >> 4)\n#define SYN_ID_MAJOR(i)\t\t\t(((i) & GENMASK(3, 0)) >> 0)\n#define SYN_ID_MINOR(i)\t\t\t(((i) & GENMASK(23, 16)) >> 16)\n#define SYN_ID_FULL(i)\t\t\t((SYN_ID_MAJOR(i) << 8) | SYN_ID_MINOR(i))\n#define SYN_ID_IS_SYNAPTICS(i)\t\t(((i) & GENMASK(15, 8)) == 0x004700U)\n#define SYN_ID_DISGEST_SUPPORTED(i)\t(SYN_ID_MAJOR(i) >= 4)\n\n \n#define SYN_PS_SET_MODE2\t\t0x14\n#define SYN_PS_CLIENT_CMD\t\t0x28\n\n \n#define SYN_REDUCED_FILTER_FUZZ\t\t8\n\n \nenum synaptics_pkt_type {\n\tSYN_NEWABS,\n\tSYN_NEWABS_STRICT,\n\tSYN_NEWABS_RELAXED,\n\tSYN_OLDABS,\n};\n\n \nstruct synaptics_hw_state {\n\tint x;\n\tint y;\n\tint z;\n\tint w;\n\tunsigned int left:1;\n\tunsigned int right:1;\n\tunsigned int middle:1;\n\tunsigned int up:1;\n\tunsigned int down:1;\n\tu8 ext_buttons;\n\ts8 scroll;\n};\n\n \nstruct synaptics_device_info {\n\tu32 model_id;\t\t \n\tu32 firmware_id;\t \n\tu32 board_id;\t\t \n\tu32 capabilities;\t \n\tu32 ext_cap;\t\t \n\tu32 ext_cap_0c;\t\t \n\tu32 ext_cap_10;\t\t \n\tu32 identity;\t\t \n\tu32 x_res, y_res;\t \n\tu32 x_max, y_max;\t \n\tu32 x_min, y_min;\t \n};\n\nstruct synaptics_data {\n\tstruct synaptics_device_info info;\n\n\tenum synaptics_pkt_type pkt_type;\t \n\tu8 mode;\t\t\t\t \n\tint scroll;\n\n\tbool absolute_mode;\t\t\t \n\tbool disable_gesture;\t\t\t \n\n\tstruct serio *pt_port;\t\t\t \n\n\t \n\tstruct synaptics_hw_state agm;\n\tunsigned int agm_count;\t\t\t \n\n\t \n\tunsigned long\t\t\t\tpress_start;\n\tbool\t\t\t\t\tpress;\n\tbool\t\t\t\t\treport_press;\n\tbool\t\t\t\t\tis_forcepad;\n};\n\nvoid synaptics_module_init(void);\nint synaptics_detect(struct psmouse *psmouse, bool set_properties);\nint synaptics_init_absolute(struct psmouse *psmouse);\nint synaptics_init_relative(struct psmouse *psmouse);\nint synaptics_init_smbus(struct psmouse *psmouse);\nint synaptics_init(struct psmouse *psmouse);\nvoid synaptics_reset(struct psmouse *psmouse);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}