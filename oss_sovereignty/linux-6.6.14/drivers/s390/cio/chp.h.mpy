{
  "module_name": "chp.h",
  "hash_id": "855af1a9fc339d7cbbe6fee924c20bb0396558c1bea4dc8dfac22d5f03ccec14",
  "original_prompt": "Ingested from linux-6.6.14/drivers/s390/cio/chp.h",
  "human_readable_source": " \n \n\n#ifndef S390_CHP_H\n#define S390_CHP_H\n\n#include <linux/types.h>\n#include <linux/device.h>\n#include <linux/mutex.h>\n#include <asm/chpid.h>\n#include \"chsc.h\"\n#include \"css.h\"\n\n#define CHP_STATUS_STANDBY\t\t0\n#define CHP_STATUS_CONFIGURED\t\t1\n#define CHP_STATUS_RESERVED\t\t2\n#define CHP_STATUS_NOT_RECOGNIZED\t3\n\n#define CHP_ONLINE 0\n#define CHP_OFFLINE 1\n#define CHP_VARY_ON 2\n#define CHP_VARY_OFF 3\n#define CHP_FCES_EVENT 4\n\nstruct chp_link {\n\tstruct chp_id chpid;\n\tu32 fla_mask;\n\tu16 fla;\n};\n\nstatic inline int chp_test_bit(u8 *bitmap, int num)\n{\n\tint byte = num >> 3;\n\tint mask = 128 >> (num & 7);\n\n\treturn (bitmap[byte] & mask) ? 1 : 0;\n}\n\n\nstruct channel_path {\n\tstruct device dev;\n\tstruct chp_id chpid;\n\tstruct mutex lock;  \n\tint state;\n\tstruct channel_path_desc_fmt0 desc;\n\tstruct channel_path_desc_fmt1 desc_fmt1;\n\tstruct channel_path_desc_fmt3 desc_fmt3;\n\t \n\tint cmg;\n\tint shared;\n\tstruct cmg_chars cmg_chars;\n};\n\n \nstatic inline struct channel_path *chpid_to_chp(struct chp_id chpid)\n{\n\treturn css_by_id(chpid.cssid)->chps[chpid.id];\n}\n\nint chp_get_status(struct chp_id chpid);\nu8 chp_get_sch_opm(struct subchannel *sch);\nint chp_is_registered(struct chp_id chpid);\nstruct channel_path_desc_fmt0 *chp_get_chp_desc(struct chp_id chpid);\nvoid chp_remove_cmg_attr(struct channel_path *chp);\nint chp_add_cmg_attr(struct channel_path *chp);\nint chp_update_desc(struct channel_path *chp);\nint chp_new(struct chp_id chpid);\nvoid chp_cfg_schedule(struct chp_id chpid, int configure);\nvoid chp_cfg_cancel_deconfigure(struct chp_id chpid);\nint chp_info_get_status(struct chp_id chpid);\nint chp_ssd_get_mask(struct chsc_ssd_info *, struct chp_link *);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}