{
  "module_name": "chsc.h",
  "hash_id": "c63ea6c7912803278eddde1b509c4d8400e14577294a902cc590ed70fc8d2eb3",
  "original_prompt": "Ingested from linux-6.6.14/drivers/s390/cio/chsc.h",
  "human_readable_source": " \n#ifndef S390_CHSC_H\n#define S390_CHSC_H\n\n#include <linux/types.h>\n#include <linux/device.h>\n#include <asm/css_chars.h>\n#include <asm/chpid.h>\n#include <asm/chsc.h>\n#include <asm/schid.h>\n#include <asm/qdio.h>\n\n#define CHSC_SDA_OC_MSS   0x2\n\n#define NR_MEASUREMENT_CHARS 5\nstruct cmg_chars {\n\tu32 values[NR_MEASUREMENT_CHARS];\n};\n\n#define NR_MEASUREMENT_ENTRIES 8\nstruct cmg_entry {\n\tu32 values[NR_MEASUREMENT_ENTRIES];\n};\n\nstruct channel_path_desc_fmt1 {\n\tu8 flags;\n\tu8 lsn;\n\tu8 desc;\n\tu8 chpid;\n\tu32:16;\n\tu8 esc;\n\tu8 chpp;\n\tu32 unused[2];\n\tu16 chid;\n\tu32:16;\n\tu16 mdc;\n\tu16:13;\n\tu8 r:1;\n\tu8 s:1;\n\tu8 f:1;\n\tu32 zeros[2];\n};\n\nstruct channel_path_desc_fmt3 {\n\tstruct channel_path_desc_fmt1 fmt1_desc;\n\tu8 util_str[64];\n};\n\nstruct channel_path;\n\nstruct css_chsc_char {\n\tu64 res;\n\tu64 : 20;\n\tu32 secm : 1;  \n\tu32 : 1;\n\tu32 scmc : 1;  \n\tu32 : 20;\n\tu32 scssc : 1;   \n\tu32 scsscf : 1;  \n\tu32:7;\n\tu32 pnso:1;  \n\tu32:11;\n} __packed;\n\nextern struct css_chsc_char css_chsc_characteristics;\n\nstruct chsc_ssd_info {\n\tu8 path_mask;\n\tu8 fla_valid_mask;\n\tstruct chp_id chpid[8];\n\tu16 fla[8];\n};\n\nstruct chsc_ssqd_area {\n\tstruct chsc_header request;\n\tu16:10;\n\tu8 ssid:2;\n\tu8 fmt:4;\n\tu16 first_sch;\n\tu16:16;\n\tu16 last_sch;\n\tu32:32;\n\tstruct chsc_header response;\n\tu32:32;\n\tstruct qdio_ssqd_desc qdio_ssqd;\n} __packed __aligned(PAGE_SIZE);\n\nstruct chsc_scssc_area {\n\tstruct chsc_header request;\n\tu16 operation_code;\n\tu16:16;\n\tu32:32;\n\tu32:32;\n\tu64 summary_indicator_addr;\n\tu64 subchannel_indicator_addr;\n\tu32 ks:4;\n\tu32 kc:4;\n\tu32:21;\n\tu32 isc:3;\n\tu32 word_with_d_bit;\n\tu32:32;\n\tstruct subchannel_id schid;\n\tu32 reserved[1004];\n\tstruct chsc_header response;\n\tu32:32;\n} __packed __aligned(PAGE_SIZE);\n\nstruct chsc_scpd {\n\tstruct chsc_header request;\n\tu32:2;\n\tu32 m:1;\n\tu32 c:1;\n\tu32 fmt:4;\n\tu32 cssid:8;\n\tu32:4;\n\tu32 rfmt:4;\n\tu32 first_chpid:8;\n\tu32:24;\n\tu32 last_chpid:8;\n\tu32 zeroes1;\n\tstruct chsc_header response;\n\tu32:32;\n\tu8 data[];\n} __packed __aligned(PAGE_SIZE);\n\nstruct chsc_sda_area {\n\tstruct chsc_header request;\n\tu8 :4;\n\tu8 format:4;\n\tu8 :8;\n\tu16 operation_code;\n\tu32 :32;\n\tu32 :32;\n\tu32 operation_data_area[252];\n\tstruct chsc_header response;\n\tu32 :4;\n\tu32 format2:4;\n\tu32 :24;\n} __packed __aligned(PAGE_SIZE);\n\nextern int chsc_get_ssd_info(struct subchannel_id schid,\n\t\t\t     struct chsc_ssd_info *ssd);\nextern int chsc_determine_css_characteristics(void);\nextern int chsc_init(void);\nextern void chsc_init_cleanup(void);\n\nint __chsc_enable_facility(struct chsc_sda_area *sda_area, int operation_code);\nextern int chsc_enable_facility(int);\nstruct channel_subsystem;\nextern int chsc_secm(struct channel_subsystem *, int);\nint __chsc_do_secm(struct channel_subsystem *css, int enable);\n\nint chsc_chp_vary(struct chp_id chpid, int on);\nint chsc_determine_channel_path_desc(struct chp_id chpid, int fmt, int rfmt,\n\t\t\t\t     int c, int m, void *page);\nint chsc_determine_fmt0_channel_path_desc(struct chp_id chpid,\n\t\t\t\t\t  struct channel_path_desc_fmt0 *desc);\nint chsc_determine_fmt1_channel_path_desc(struct chp_id chpid,\n\t\t\t\t\t  struct channel_path_desc_fmt1 *desc);\nint chsc_determine_fmt3_channel_path_desc(struct chp_id chpid,\n\t\t\t\t\t  struct channel_path_desc_fmt3 *desc);\nvoid chsc_chp_online(struct chp_id chpid);\nvoid chsc_chp_offline(struct chp_id chpid);\nint chsc_get_channel_measurement_chars(struct channel_path *chp);\nint chsc_ssqd(struct subchannel_id schid, struct chsc_ssqd_area *ssqd);\nint chsc_sadc(struct subchannel_id schid, struct chsc_scssc_area *scssc,\n\t      u64 summary_indicator_addr, u64 subchannel_indicator_addr,\n\t      u8 isc);\nint chsc_sgib(u32 origin);\nint chsc_error_from_response(int response);\n\nint chsc_siosl(struct subchannel_id schid);\n\n \nstruct sale {\n\tu64 sa;\n\tu32 p:4;\n\tu32 op_state:4;\n\tu32 data_state:4;\n\tu32 rank:4;\n\tu32 r:1;\n\tu32:7;\n\tu32 rid:8;\n\tu32:32;\n} __packed;\n\nstruct chsc_scm_info {\n\tstruct chsc_header request;\n\tu32:32;\n\tu64 reqtok;\n\tu32 reserved1[4];\n\tstruct chsc_header response;\n\tu64:56;\n\tu8 rq;\n\tu32 mbc;\n\tu64 msa;\n\tu16 is;\n\tu16 mmc;\n\tu32 mci;\n\tu64 nr_scm_ini;\n\tu64 nr_scm_unini;\n\tu32 reserved2[10];\n\tu64 restok;\n\tstruct sale scmal[248];\n} __packed __aligned(PAGE_SIZE);\n\nint chsc_scm_info(struct chsc_scm_info *scm_area, u64 token);\n\nint chsc_pnso(struct subchannel_id schid, struct chsc_pnso_area *pnso_area,\n\t      u8 oc, struct chsc_pnso_resume_token resume_token, int cnc);\n\nint __init chsc_get_cssid_iid(int idx, u8 *cssid, u8 *iid);\n\n#ifdef CONFIG_SCM_BUS\nint scm_update_information(void);\nint scm_process_availability_information(void);\n#else  \nstatic inline int scm_update_information(void) { return 0; }\nstatic inline int scm_process_availability_information(void) { return 0; }\n#endif  \n\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}