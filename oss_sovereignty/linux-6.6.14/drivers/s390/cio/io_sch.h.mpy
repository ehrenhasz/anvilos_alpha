{
  "module_name": "io_sch.h",
  "hash_id": "331a037a093515c9bb2a7feb9fee848f54f0f8963fd73e1368375827644a5403",
  "original_prompt": "Ingested from linux-6.6.14/drivers/s390/cio/io_sch.h",
  "human_readable_source": " \n#ifndef S390_IO_SCH_H\n#define S390_IO_SCH_H\n\n#include <linux/types.h>\n#include <asm/schid.h>\n#include <asm/ccwdev.h>\n#include <asm/irq.h>\n#include \"css.h\"\n#include \"orb.h\"\n\nstruct io_subchannel_dma_area {\n\tstruct ccw1 sense_ccw;\t \n};\n\nstruct io_subchannel_private {\n\tunion orb orb;\t\t \n\tstruct ccw_device *cdev; \n\tstruct {\n\t\tunsigned int suspend:1;\t \n\t\tunsigned int prefetch:1; \n\t\tunsigned int inter:1;\t \n\t} __packed options;\n\tstruct io_subchannel_dma_area *dma_area;\n\tdma_addr_t dma_area_dma;\n} __aligned(8);\n\n#define to_io_private(n) ((struct io_subchannel_private *) \\\n\t\t\t  dev_get_drvdata(&(n)->dev))\n#define set_io_private(n, p) (dev_set_drvdata(&(n)->dev, p))\n\nstatic inline struct ccw_device *sch_get_cdev(struct subchannel *sch)\n{\n\tstruct io_subchannel_private *priv = to_io_private(sch);\n\treturn priv ? priv->cdev : NULL;\n}\n\nstatic inline void sch_set_cdev(struct subchannel *sch,\n\t\t\t\tstruct ccw_device *cdev)\n{\n\tstruct io_subchannel_private *priv = to_io_private(sch);\n\tif (priv)\n\t\tpriv->cdev = cdev;\n}\n\n#define MAX_CIWS 8\n\n \nenum io_status {\n\tIO_DONE,\n\tIO_RUNNING,\n\tIO_STATUS_ERROR,\n\tIO_PATH_ERROR,\n\tIO_REJECTED,\n\tIO_KILLED\n};\n\n \nstruct ccw_request {\n\tstruct ccw1 *cp;\n\tunsigned long timeout;\n\tu16 maxretries;\n\tu8 lpm;\n\tint (*check)(struct ccw_device *, void *);\n\tenum io_status (*filter)(struct ccw_device *, void *, struct irb *,\n\t\t\t\t enum io_status);\n\tvoid (*callback)(struct ccw_device *, void *, int);\n\tvoid *data;\n\tunsigned int singlepath:1;\n\t \n\tunsigned int cancel:1;\n\tunsigned int done:1;\n\tu16 mask;\n\tu16 retries;\n\tint drc;\n} __attribute__((packed));\n\n \nstruct senseid {\n\t \n\tu8  reserved;\t \n\tu16 cu_type;\t \n\tu8  cu_model;\t \n\tu16 dev_type;\t \n\tu8  dev_model;\t \n\tu8  unused;\t \n\t \n\tstruct ciw ciw[MAX_CIWS];\t \n}  __attribute__ ((packed, aligned(4)));\n\nenum cdev_todo {\n\tCDEV_TODO_NOTHING,\n\tCDEV_TODO_ENABLE_CMF,\n\tCDEV_TODO_REBIND,\n\tCDEV_TODO_REGISTER,\n\tCDEV_TODO_UNREG,\n\tCDEV_TODO_UNREG_EVAL,\n};\n\n#define FAKE_CMD_IRB\t1\n#define FAKE_TM_IRB\t2\n\nstruct ccw_device_dma_area {\n\tstruct senseid senseid;\t \n\tstruct ccw1 iccws[2];\t \n\tstruct irb irb;\t\t \n\tstruct pgid pgid[8];\t \n};\n\nstruct ccw_device_private {\n\tstruct ccw_device *cdev;\n\tstruct subchannel *sch;\n\tint state;\t\t \n\tatomic_t onoff;\n\tstruct ccw_dev_id dev_id;\t \n\tstruct ccw_request req;\t\t \n\tint iretry;\n\tu8 pgid_valid_mask;\t \n\tu8 pgid_todo_mask;\t \n\tu8 pgid_reset_mask;\t \n\tu8 path_noirq_mask;\t \n\tu8 path_notoper_mask;\t \n\tu8 path_gone_mask;\t \n\tu8 path_new_mask;\t \n\tu8 path_broken_mask;\t \n\tstruct {\n\t\tunsigned int fast:1;\t \n\t\tunsigned int repall:1;\t \n\t\tunsigned int pgroup:1;\t \n\t\tunsigned int force:1;\t \n\t\tunsigned int mpath:1;\t \n\t} __attribute__ ((packed)) options;\n\tstruct {\n\t\tunsigned int esid:1;\t     \n\t\tunsigned int dosense:1;\t     \n\t\tunsigned int doverify:1;     \n\t\tunsigned int donotify:1;     \n\t\tunsigned int recog_done:1;   \n\t\tunsigned int fake_irb:2;     \n\t\tunsigned int pgroup:1;\t     \n\t\tunsigned int mpath:1;\t     \n\t\tunsigned int pgid_unknown:1; \n\t\tunsigned int initialized:1;  \n\t} __attribute__((packed)) flags;\n\tunsigned long intparm;\t \n\tstruct qdio_irq *qdio_data;\n\tint async_kill_io_rc;\n\tstruct work_struct todo_work;\n\tenum cdev_todo todo;\n\twait_queue_head_t wait_q;\n\tstruct timer_list timer;\n\tvoid *cmb;\t\t\t \n\tstruct list_head cmb_list;\t \n\tu64 cmb_start_time;\t\t \n\tvoid *cmb_wait;\t\t\t \n\tstruct gen_pool *dma_pool;\n\tstruct ccw_device_dma_area *dma_area;\n\tenum interruption_class int_class;\n};\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}