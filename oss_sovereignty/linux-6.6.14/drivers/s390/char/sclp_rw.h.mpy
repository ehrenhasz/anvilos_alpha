{
  "module_name": "sclp_rw.h",
  "hash_id": "55dc76b089fb233f98f1f56b5979178f79ca0497027070b6216d87610cafde0b",
  "original_prompt": "Ingested from linux-6.6.14/drivers/s390/char/sclp_rw.h",
  "human_readable_source": " \n \n\n#ifndef __SCLP_RW_H__\n#define __SCLP_RW_H__\n\n#include <linux/list.h>\n\nstruct mto {\n\tu16 length;\n\tu16 type;\n\tu16 line_type_flags;\n\tu8  alarm_control;\n\tu8  _reserved[3];\n} __attribute__((packed));\n\nstruct go {\n\tu16 length;\n\tu16 type;\n\tu32 domid;\n\tu8  hhmmss_time[8];\n\tu8  th_time[3];\n\tu8  reserved_0;\n\tu8  dddyyyy_date[7];\n\tu8  _reserved_1;\n\tu16 general_msg_flags;\n\tu8  _reserved_2[10];\n\tu8  originating_system_name[8];\n\tu8  job_guest_name[8];\n} __attribute__((packed));\n\nstruct mdb_header {\n\tu16 length;\n\tu16 type;\n\tu32 tag;\n\tu32 revision_code;\n} __attribute__((packed));\n\nstruct mdb {\n\tstruct mdb_header header;\n\tstruct go go;\n\tstruct mto mto;\n} __attribute__((packed));\n\nstruct msg_buf {\n\tstruct evbuf_header header;\n\tstruct mdb mdb;\n} __attribute__((packed));\n\n \n#define NR_EMPTY_MSG_PER_SCCB ((PAGE_SIZE - sizeof(struct sclp_buffer) - \\\n\t\t\tsizeof(struct sccb_header)) / sizeof(struct msg_buf))\n\n \nstruct sclp_buffer {\n\tstruct list_head list;\t\t \n\tstruct sclp_req request;\n\tvoid *sccb;\n\tstruct msg_buf *current_msg;\n\tchar *current_line;\n\tint current_length;\n\tint retry_count;\n\t \n\tunsigned short columns;\n\tunsigned short htab;\n\t \n\tunsigned int char_sum;\t\t \n\tunsigned int messages;\t\t \n\t \n\tvoid (*callback)(struct sclp_buffer *, int);\n};\n\nint sclp_rw_init(void);\nstruct sclp_buffer *sclp_make_buffer(void *, unsigned short, unsigned short);\nvoid *sclp_unmake_buffer(struct sclp_buffer *);\nint sclp_buffer_space(struct sclp_buffer *);\nint sclp_write(struct sclp_buffer *buffer, const unsigned char *, int);\nint sclp_emit_buffer(struct sclp_buffer *,void (*)(struct sclp_buffer *,int));\nunsigned int sclp_chars_in_buffer(struct sclp_buffer *);\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}