{
  "module_name": "raw3270.h",
  "hash_id": "acfe8e52688f6e8c88a64b7f586a9c33024a28c1a8e93d4958a956c133e6c752",
  "original_prompt": "Ingested from linux-6.6.14/drivers/s390/char/raw3270.h",
  "human_readable_source": " \n \n\n#include <uapi/asm/raw3270.h>\n#include <asm/idals.h>\n#include <asm/ioctl.h>\n\nstruct raw3270;\nstruct raw3270_view;\nextern struct class *class3270;\n\n \nstruct raw3270_request {\n\tstruct list_head list;\t\t \n\tstruct raw3270_view *view;\t \n\tstruct ccw1 ccw;\t\t \n\tvoid *buffer;\t\t\t \n\tsize_t size;\t\t\t \n\tint rescnt;\t\t\t \n\tint rc;\t\t\t\t \n\n\t \n\tvoid (*callback)(struct raw3270_request *rq, void *data);\n\tvoid *callback_data;\n};\n\nstruct raw3270_request *raw3270_request_alloc(size_t size);\nvoid raw3270_request_free(struct raw3270_request *rq);\nint raw3270_request_reset(struct raw3270_request *rq);\nvoid raw3270_request_set_cmd(struct raw3270_request *rq, u8 cmd);\nint  raw3270_request_add_data(struct raw3270_request *rq, void *data, size_t size);\nvoid raw3270_request_set_data(struct raw3270_request *rq, void *data, size_t size);\nvoid raw3270_request_set_idal(struct raw3270_request *rq, struct idal_buffer *ib);\n\nstatic inline int\nraw3270_request_final(struct raw3270_request *rq)\n{\n\treturn list_empty(&rq->list);\n}\n\nvoid raw3270_buffer_address(struct raw3270 *, char *, int, int);\n\n \nstruct raw3270_fn {\n\tint  (*activate)(struct raw3270_view *rq);\n\tvoid (*deactivate)(struct raw3270_view *rq);\n\tvoid (*intv)(struct raw3270_view *view,\n\t\t     struct raw3270_request *rq, struct irb *ib);\n\tvoid (*release)(struct raw3270_view *view);\n\tvoid (*free)(struct raw3270_view *view);\n\tvoid (*resize)(struct raw3270_view *view,\n\t\t       int new_model, int new_cols, int new_rows,\n\t\t       int old_model, int old_cols, int old_rows);\n};\n\n \nstruct raw3270_view {\n\tstruct list_head list;\n\tspinlock_t lock;  \n#define RAW3270_VIEW_LOCK_IRQ\t0\n#define RAW3270_VIEW_LOCK_BH\t1\n\tatomic_t ref_count;\n\tstruct raw3270 *dev;\n\tstruct raw3270_fn *fn;\n\tunsigned int model;\n\tunsigned int rows, cols;\t \n\tunsigned char *ascebc;\t\t \n};\n\nint raw3270_add_view(struct raw3270_view *view, struct raw3270_fn *fn, int minor, int subclass);\nint raw3270_view_lock_unavailable(struct raw3270_view *view);\nint raw3270_activate_view(struct raw3270_view *view);\nvoid raw3270_del_view(struct raw3270_view *view);\nvoid raw3270_deactivate_view(struct raw3270_view *view);\nstruct raw3270_view *raw3270_find_view(struct raw3270_fn *fn, int minor);\nint raw3270_start(struct raw3270_view *view, struct raw3270_request *rq);\nint raw3270_start_locked(struct raw3270_view *view, struct raw3270_request *rq);\nint raw3270_start_irq(struct raw3270_view *view, struct raw3270_request *rq);\nint raw3270_reset(struct raw3270_view *view);\nstruct raw3270_view *raw3270_view(struct raw3270_view *view);\nint raw3270_view_active(struct raw3270_view *view);\nint raw3270_start_request(struct raw3270_view *view, struct raw3270_request *rq,\n\t\t\t  int cmd, void *data, size_t len);\nvoid raw3270_read_modified_cb(struct raw3270_request *rq, void *data);\n\n \nstatic inline void\nraw3270_get_view(struct raw3270_view *view)\n{\n\tatomic_inc(&view->ref_count);\n}\n\nextern wait_queue_head_t raw3270_wait_queue;\n\nstatic inline void\nraw3270_put_view(struct raw3270_view *view)\n{\n\tif (atomic_dec_return(&view->ref_count) == 0)\n\t\twake_up(&raw3270_wait_queue);\n}\n\nstruct raw3270 *raw3270_setup_console(void);\nvoid raw3270_wait_cons_dev(struct raw3270 *rp);\n\n \nstruct raw3270_notifier {\n\tstruct list_head list;\n\tvoid (*create)(int minor);\n\tvoid (*destroy)(int minor);\n};\n\nint raw3270_register_notifier(struct raw3270_notifier *notifier);\nvoid raw3270_unregister_notifier(struct raw3270_notifier *notifier);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}