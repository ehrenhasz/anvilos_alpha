{
  "module_name": "ctcm_dbug.c",
  "hash_id": "e48864fef5d2482d3aa8ef40c59bef132e8d378584dbbb94c23a0ff60932d4b8",
  "original_prompt": "Ingested from linux-6.6.14/drivers/s390/net/ctcm_dbug.c",
  "human_readable_source": "\n \n\n#include <linux/stddef.h>\n#include <linux/string.h>\n#include <linux/kernel.h>\n#include <linux/errno.h>\n#include <linux/ctype.h>\n#include <linux/sysctl.h>\n#include <linux/module.h>\n#include <linux/init.h>\n#include <linux/fs.h>\n#include <linux/debugfs.h>\n#include \"ctcm_dbug.h\"\n\n \n\nstruct ctcm_dbf_info ctcm_dbf[CTCM_DBF_INFOS] = {\n\t[CTCM_DBF_SETUP]     = {\"ctc_setup\", 8, 1, 64, CTC_DBF_INFO, NULL},\n\t[CTCM_DBF_ERROR]     = {\"ctc_error\", 8, 1, 64, CTC_DBF_ERROR, NULL},\n\t[CTCM_DBF_TRACE]     = {\"ctc_trace\", 8, 1, 64, CTC_DBF_ERROR, NULL},\n\t[CTCM_DBF_MPC_SETUP] = {\"mpc_setup\", 8, 1, 80, CTC_DBF_INFO, NULL},\n\t[CTCM_DBF_MPC_ERROR] = {\"mpc_error\", 8, 1, 80, CTC_DBF_ERROR, NULL},\n\t[CTCM_DBF_MPC_TRACE] = {\"mpc_trace\", 8, 1, 80, CTC_DBF_ERROR, NULL},\n};\n\nvoid ctcm_unregister_dbf_views(void)\n{\n\tint x;\n\tfor (x = 0; x < CTCM_DBF_INFOS; x++) {\n\t\tdebug_unregister(ctcm_dbf[x].id);\n\t\tctcm_dbf[x].id = NULL;\n\t}\n}\n\nint ctcm_register_dbf_views(void)\n{\n\tint x;\n\tfor (x = 0; x < CTCM_DBF_INFOS; x++) {\n\t\t \n\t\tctcm_dbf[x].id = debug_register(ctcm_dbf[x].name,\n\t\t\t\t\t\tctcm_dbf[x].pages,\n\t\t\t\t\t\tctcm_dbf[x].areas,\n\t\t\t\t\t\tctcm_dbf[x].len);\n\t\tif (ctcm_dbf[x].id == NULL) {\n\t\t\tctcm_unregister_dbf_views();\n\t\t\treturn -ENOMEM;\n\t\t}\n\n\t\t \n\t\tdebug_register_view(ctcm_dbf[x].id, &debug_hex_ascii_view);\n\t\t \n\t\tdebug_set_level(ctcm_dbf[x].id, ctcm_dbf[x].level);\n\t}\n\n\treturn 0;\n}\n\nvoid ctcm_dbf_longtext(enum ctcm_dbf_names dbf_nix, int level, char *fmt, ...)\n{\n\tchar dbf_txt_buf[64];\n\tva_list args;\n\n\tif (!debug_level_enabled(ctcm_dbf[dbf_nix].id, level))\n\t\treturn;\n\tva_start(args, fmt);\n\tvscnprintf(dbf_txt_buf, sizeof(dbf_txt_buf), fmt, args);\n\tva_end(args);\n\n\tdebug_text_event(ctcm_dbf[dbf_nix].id, level, dbf_txt_buf);\n}\n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}