{
  "module_name": "qeth_core_mpc.h",
  "hash_id": "bf1fa25d481e4e2d606416948b92891f1baf48d746cbaa342699f613c6899636",
  "original_prompt": "Ingested from linux-6.6.14/drivers/s390/net/qeth_core_mpc.h",
  "human_readable_source": " \n \n\n#ifndef __QETH_CORE_MPC_H__\n#define __QETH_CORE_MPC_H__\n\n#include <asm/qeth.h>\n#include <uapi/linux/if_ether.h>\n#include <uapi/linux/in6.h>\n\nextern const unsigned char IPA_PDU_HEADER[];\n#define IPA_PDU_HEADER_SIZE\t0x40\n#define QETH_IPA_PDU_LEN_TOTAL(buffer) (buffer + 0x0e)\n#define QETH_IPA_PDU_LEN_PDU1(buffer) (buffer + 0x26)\n#define QETH_IPA_PDU_LEN_PDU2(buffer) (buffer + 0x29)\n#define QETH_IPA_PDU_LEN_PDU3(buffer) (buffer + 0x3a)\n\n#define QETH_IPA_CMD_DEST_ADDR(buffer) (buffer + 0x2c)\n\n#define QETH_SEQ_NO_LENGTH\t4\n#define QETH_MPC_TOKEN_LENGTH\t4\n#define QETH_MCL_LENGTH\t\t4\n\n#define QETH_TIMEOUT\t\t(10 * HZ)\n#define QETH_IPA_TIMEOUT\t(45 * HZ)\n\n \n \n \n#define IPA_CMD_INITIATOR_HOST  0x00\n#define IPA_CMD_INITIATOR_OSA   0x01\n#define IPA_CMD_PRIM_VERSION_NO 0x01\n\nstruct qeth_ipa_caps {\n\tu32 supported;\n\tu32 enabled;\n};\n\nstatic inline bool qeth_ipa_caps_supported(struct qeth_ipa_caps *caps, u32 mask)\n{\n\treturn (caps->supported & mask) == mask;\n}\n\nstatic inline bool qeth_ipa_caps_enabled(struct qeth_ipa_caps *caps, u32 mask)\n{\n\treturn (caps->enabled & mask) == mask;\n}\n\n#define qeth_adp_supported(c, f) \\\n\tqeth_ipa_caps_supported(&c->options.adp, f)\n#define qeth_is_supported(c, f) \\\n\tqeth_ipa_caps_supported(&c->options.ipa4, f)\n#define qeth_is_supported6(c, f) \\\n\tqeth_ipa_caps_supported(&c->options.ipa6, f)\n#define qeth_is_ipafunc_supported(c, prot, f) \\\n\t ((prot == QETH_PROT_IPV6) ? qeth_is_supported6(c, f) : \\\n\t\t\t\t     qeth_is_supported(c, f))\n\nenum qeth_card_types {\n\tQETH_CARD_TYPE_OSD     = 1,\n\tQETH_CARD_TYPE_IQD     = 5,\n\tQETH_CARD_TYPE_OSM     = 3,\n\tQETH_CARD_TYPE_OSX     = 2,\n};\n\n#define IS_IQD(card)\t((card)->info.type == QETH_CARD_TYPE_IQD)\n#define IS_OSD(card)\t((card)->info.type == QETH_CARD_TYPE_OSD)\n#define IS_OSM(card)\t((card)->info.type == QETH_CARD_TYPE_OSM)\n\n#ifdef CONFIG_QETH_OSX\n#define IS_OSX(card)\t((card)->info.type == QETH_CARD_TYPE_OSX)\n#else\n#define IS_OSX(card)\tfalse\n#endif\n\n#define IS_VM_NIC(card)\t((card)->info.is_vm_nic)\n\n#define QETH_MPC_DIFINFO_LEN_INDICATES_LINK_TYPE 0x18\n \nenum qeth_link_types {\n\tQETH_LINK_TYPE_FAST_ETH     = 0x01,\n\tQETH_LINK_TYPE_HSTR         = 0x02,\n\tQETH_LINK_TYPE_GBIT_ETH     = 0x03,\n\tQETH_LINK_TYPE_10GBIT_ETH   = 0x10,\n\tQETH_LINK_TYPE_25GBIT_ETH   = 0x12,\n\tQETH_LINK_TYPE_LANE_ETH100  = 0x81,\n\tQETH_LINK_TYPE_LANE_TR      = 0x82,\n\tQETH_LINK_TYPE_LANE_ETH1000 = 0x83,\n\tQETH_LINK_TYPE_LANE         = 0x88,\n};\n\nenum qeth_routing_types {\n\t \n\tNO_ROUTER\t\t= 0,\n\tPRIMARY_ROUTER\t\t= 1,\n\tSECONDARY_ROUTER\t= 2,\n\tMULTICAST_ROUTER\t= 3,\n\tPRIMARY_CONNECTOR\t= 4,\n\tSECONDARY_CONNECTOR\t= 5,\n};\n\n \nenum qeth_ipa_cmds {\n\tIPA_CMD_STARTLAN\t\t= 0x01,\n\tIPA_CMD_STOPLAN\t\t\t= 0x02,\n\tIPA_CMD_SETVMAC\t\t\t= 0x21,\n\tIPA_CMD_DELVMAC\t\t\t= 0x22,\n\tIPA_CMD_SETGMAC\t\t\t= 0x23,\n\tIPA_CMD_DELGMAC\t\t\t= 0x24,\n\tIPA_CMD_SETVLAN\t\t\t= 0x25,\n\tIPA_CMD_DELVLAN\t\t\t= 0x26,\n\tIPA_CMD_VNICC\t\t\t= 0x2a,\n\tIPA_CMD_SETBRIDGEPORT_OSA\t= 0x2b,\n\tIPA_CMD_SETIP\t\t\t= 0xb1,\n\tIPA_CMD_QIPASSIST\t\t= 0xb2,\n\tIPA_CMD_SETASSPARMS\t\t= 0xb3,\n\tIPA_CMD_SETIPM\t\t\t= 0xb4,\n\tIPA_CMD_DELIPM\t\t\t= 0xb5,\n\tIPA_CMD_SETRTG\t\t\t= 0xb6,\n\tIPA_CMD_DELIP\t\t\t= 0xb7,\n\tIPA_CMD_SETADAPTERPARMS\t\t= 0xb8,\n\tIPA_CMD_SET_DIAG_ASS\t\t= 0xb9,\n\tIPA_CMD_SETBRIDGEPORT_IQD\t= 0xbe,\n\tIPA_CMD_CREATE_ADDR\t\t= 0xc3,\n\tIPA_CMD_DESTROY_ADDR\t\t= 0xc4,\n\tIPA_CMD_REGISTER_LOCAL_ADDR\t= 0xd1,\n\tIPA_CMD_UNREGISTER_LOCAL_ADDR\t= 0xd2,\n\tIPA_CMD_ADDRESS_CHANGE_NOTIF\t= 0xd3,\n\tIPA_CMD_UNKNOWN\t\t\t= 0x00\n};\n\nenum qeth_ip_ass_cmds {\n\tIPA_CMD_ASS_START\t= 0x0001,\n\tIPA_CMD_ASS_STOP\t= 0x0002,\n\tIPA_CMD_ASS_CONFIGURE\t= 0x0003,\n\tIPA_CMD_ASS_ENABLE\t= 0x0004,\n};\n\nenum qeth_arp_process_subcmds {\n\tIPA_CMD_ASS_ARP_SET_NO_ENTRIES\t= 0x0003,\n\tIPA_CMD_ASS_ARP_QUERY_CACHE\t= 0x0004,\n\tIPA_CMD_ASS_ARP_ADD_ENTRY\t= 0x0005,\n\tIPA_CMD_ASS_ARP_REMOVE_ENTRY\t= 0x0006,\n\tIPA_CMD_ASS_ARP_FLUSH_CACHE\t= 0x0007,\n\tIPA_CMD_ASS_ARP_QUERY_INFO\t= 0x0104,\n\tIPA_CMD_ASS_ARP_QUERY_STATS\t= 0x0204,\n};\n\n\n \n\nenum qeth_ipa_return_codes {\n\tIPA_RC_SUCCESS\t\t\t= 0x0000,\n\tIPA_RC_NOTSUPP\t\t\t= 0x0001,\n\tIPA_RC_IP_TABLE_FULL\t\t= 0x0002,\n\tIPA_RC_UNKNOWN_ERROR\t\t= 0x0003,\n\tIPA_RC_UNSUPPORTED_COMMAND\t= 0x0004,\n\tIPA_RC_TRACE_ALREADY_ACTIVE\t= 0x0005,\n\tIPA_RC_INVALID_FORMAT\t\t= 0x0006,\n\tIPA_RC_DUP_IPV6_REMOTE\t\t= 0x0008,\n\tIPA_RC_SBP_IQD_NOT_CONFIGURED\t= 0x000C,\n\tIPA_RC_DUP_IPV6_HOME\t\t= 0x0010,\n\tIPA_RC_UNREGISTERED_ADDR\t= 0x0011,\n\tIPA_RC_NO_ID_AVAILABLE\t\t= 0x0012,\n\tIPA_RC_ID_NOT_FOUND\t\t= 0x0013,\n\tIPA_RC_SBP_IQD_ANO_DEV_PRIMARY\t= 0x0014,\n\tIPA_RC_SBP_IQD_CURRENT_SECOND\t= 0x0018,\n\tIPA_RC_SBP_IQD_LIMIT_SECOND\t= 0x001C,\n\tIPA_RC_INVALID_IP_VERSION\t= 0x0020,\n\tIPA_RC_SBP_IQD_CURRENT_PRIMARY\t= 0x0024,\n\tIPA_RC_LAN_FRAME_MISMATCH\t= 0x0040,\n\tIPA_RC_SBP_IQD_NO_QDIO_QUEUES\t= 0x00EB,\n\tIPA_RC_L2_UNSUPPORTED_CMD\t= 0x2003,\n\tIPA_RC_L2_DUP_MAC\t\t= 0x2005,\n\tIPA_RC_L2_ADDR_TABLE_FULL\t= 0x2006,\n\tIPA_RC_L2_DUP_LAYER3_MAC\t= 0x200a,\n\tIPA_RC_L2_GMAC_NOT_FOUND\t= 0x200b,\n\tIPA_RC_L2_MAC_NOT_AUTH_BY_HYP\t= 0x200c,\n\tIPA_RC_L2_MAC_NOT_AUTH_BY_ADP\t= 0x200d,\n\tIPA_RC_L2_MAC_NOT_FOUND\t\t= 0x2010,\n\tIPA_RC_L2_INVALID_VLAN_ID\t= 0x2015,\n\tIPA_RC_L2_DUP_VLAN_ID\t\t= 0x2016,\n\tIPA_RC_L2_VLAN_ID_NOT_FOUND\t= 0x2017,\n\tIPA_RC_L2_VLAN_ID_NOT_ALLOWED\t= 0x2050,\n\tIPA_RC_VNICC_VNICBP\t\t= 0x20B0,\n\tIPA_RC_SBP_OSA_NOT_CONFIGURED\t= 0x2B0C,\n\tIPA_RC_SBP_OSA_OS_MISMATCH\t= 0x2B10,\n\tIPA_RC_SBP_OSA_ANO_DEV_PRIMARY\t= 0x2B14,\n\tIPA_RC_SBP_OSA_CURRENT_SECOND\t= 0x2B18,\n\tIPA_RC_SBP_OSA_LIMIT_SECOND\t= 0x2B1C,\n\tIPA_RC_SBP_OSA_NOT_AUTHD_BY_ZMAN = 0x2B20,\n\tIPA_RC_SBP_OSA_CURRENT_PRIMARY\t= 0x2B24,\n\tIPA_RC_SBP_OSA_NO_QDIO_QUEUES\t= 0x2BEB,\n\tIPA_RC_DATA_MISMATCH\t\t= 0xe001,\n\tIPA_RC_INVALID_MTU_SIZE\t\t= 0xe002,\n\tIPA_RC_INVALID_LANTYPE\t\t= 0xe003,\n\tIPA_RC_INVALID_LANNUM\t\t= 0xe004,\n\tIPA_RC_DUPLICATE_IP_ADDRESS\t= 0xe005,\n\tIPA_RC_IP_ADDR_TABLE_FULL\t= 0xe006,\n\tIPA_RC_LAN_PORT_STATE_ERROR\t= 0xe007,\n\tIPA_RC_SETIP_NO_STARTLAN\t= 0xe008,\n\tIPA_RC_SETIP_ALREADY_RECEIVED\t= 0xe009,\n\tIPA_RC_IP_ADDR_ALREADY_USED\t= 0xe00a,\n\tIPA_RC_MC_ADDR_NOT_FOUND\t= 0xe00b,\n\tIPA_RC_SETIP_INVALID_VERSION\t= 0xe00d,\n\tIPA_RC_UNSUPPORTED_SUBCMD\t= 0xe00e,\n\tIPA_RC_ARP_ASSIST_NO_ENABLE\t= 0xe00f,\n\tIPA_RC_PRIMARY_ALREADY_DEFINED\t= 0xe010,\n\tIPA_RC_SECOND_ALREADY_DEFINED\t= 0xe011,\n\tIPA_RC_INVALID_SETRTG_INDICATOR\t= 0xe012,\n\tIPA_RC_MC_ADDR_ALREADY_DEFINED\t= 0xe013,\n\tIPA_RC_LAN_OFFLINE\t\t= 0xe080,\n\tIPA_RC_VEPA_TO_VEB_TRANSITION\t= 0xe090,\n\tIPA_RC_INVALID_IP_VERSION2\t= 0xf001,\n\tIPA_RC_FFFF\t\t\t= 0xffff\n};\n \n#define IPA_RC_VNICC_OOSEQ 0x0005\n\n \n#define IPA_RC_INVALID_SUBCMD\t\tIPA_RC_IP_TABLE_FULL\n#define IPA_RC_HARDWARE_AUTH_ERROR\tIPA_RC_UNKNOWN_ERROR\n\n \n#define IPA_RC_SBP_IQD_OS_MISMATCH\t IPA_RC_DUP_IPV6_HOME\n#define IPA_RC_SBP_IQD_NOT_AUTHD_BY_ZMAN IPA_RC_INVALID_IP_VERSION\n\n \nenum qeth_ipa_funcs {\n\tIPA_ARP_PROCESSING      = 0x00000001L,\n\tIPA_INBOUND_CHECKSUM    = 0x00000002L,\n\tIPA_OUTBOUND_CHECKSUM   = 0x00000004L,\n\t \n\tIPA_FILTERING           = 0x00000010L,\n\tIPA_IPV6                = 0x00000020L,\n\tIPA_MULTICASTING        = 0x00000040L,\n\tIPA_IP_REASSEMBLY       = 0x00000080L,\n\tIPA_QUERY_ARP_COUNTERS  = 0x00000100L,\n\tIPA_QUERY_ARP_ADDR_INFO = 0x00000200L,\n\tIPA_SETADAPTERPARMS     = 0x00000400L,\n\tIPA_VLAN_PRIO           = 0x00000800L,\n\tIPA_PASSTHRU            = 0x00001000L,\n\tIPA_FLUSH_ARP_SUPPORT   = 0x00002000L,\n\tIPA_FULL_VLAN           = 0x00004000L,\n\tIPA_INBOUND_PASSTHRU    = 0x00008000L,\n\tIPA_SOURCE_MAC          = 0x00010000L,\n\tIPA_OSA_MC_ROUTER       = 0x00020000L,\n\tIPA_QUERY_ARP_ASSIST\t= 0x00040000L,\n\tIPA_INBOUND_TSO         = 0x00080000L,\n\tIPA_OUTBOUND_TSO        = 0x00100000L,\n\tIPA_INBOUND_CHECKSUM_V6 = 0x00400000L,\n\tIPA_OUTBOUND_CHECKSUM_V6 = 0x00800000L,\n};\n\n \nenum qeth_ipa_setdelip_flags {\n\tQETH_IPA_SETDELIP_DEFAULT          = 0x00L,  \n\tQETH_IPA_SETIP_VIPA_FLAG           = 0x01L,  \n\tQETH_IPA_SETIP_TAKEOVER_FLAG       = 0x02L,  \n\tQETH_IPA_DELIP_ADDR_2_B_TAKEN_OVER = 0x20L,\n\tQETH_IPA_DELIP_VIPA_FLAG           = 0x40L,\n\tQETH_IPA_DELIP_ADDR_NEEDS_SETIP    = 0x80L,\n};\n\n \nenum qeth_ipa_setadp_cmd {\n\tIPA_SETADP_QUERY_COMMANDS_SUPPORTED\t= 0x00000001L,\n\tIPA_SETADP_ALTER_MAC_ADDRESS\t\t= 0x00000002L,\n\tIPA_SETADP_ADD_DELETE_GROUP_ADDRESS\t= 0x00000004L,\n\tIPA_SETADP_ADD_DELETE_FUNCTIONAL_ADDR\t= 0x00000008L,\n\tIPA_SETADP_SET_ADDRESSING_MODE\t\t= 0x00000010L,\n\tIPA_SETADP_SET_CONFIG_PARMS\t\t= 0x00000020L,\n\tIPA_SETADP_SET_CONFIG_PARMS_EXTENDED\t= 0x00000040L,\n\tIPA_SETADP_SET_BROADCAST_MODE\t\t= 0x00000080L,\n\tIPA_SETADP_SEND_OSA_MESSAGE\t\t= 0x00000100L,\n\tIPA_SETADP_SET_SNMP_CONTROL\t\t= 0x00000200L,\n\tIPA_SETADP_QUERY_CARD_INFO\t\t= 0x00000400L,\n\tIPA_SETADP_SET_PROMISC_MODE\t\t= 0x00000800L,\n\tIPA_SETADP_SET_DIAG_ASSIST\t\t= 0x00002000L,\n\tIPA_SETADP_SET_ACCESS_CONTROL\t\t= 0x00010000L,\n\tIPA_SETADP_QUERY_OAT\t\t\t= 0x00080000L,\n\tIPA_SETADP_QUERY_SWITCH_ATTRIBUTES\t= 0x00100000L,\n};\nenum qeth_ipa_mac_ops {\n\tCHANGE_ADDR_READ_MAC\t\t= 0,\n\tCHANGE_ADDR_REPLACE_MAC\t\t= 1,\n\tCHANGE_ADDR_ADD_MAC\t\t= 2,\n\tCHANGE_ADDR_DEL_MAC\t\t= 4,\n\tCHANGE_ADDR_RESET_MAC\t\t= 8,\n};\nenum qeth_ipa_addr_ops {\n\tCHANGE_ADDR_READ_ADDR\t\t= 0,\n\tCHANGE_ADDR_ADD_ADDR\t\t= 1,\n\tCHANGE_ADDR_DEL_ADDR\t\t= 2,\n\tCHANGE_ADDR_FLUSH_ADDR_TABLE\t= 4,\n};\nenum qeth_ipa_promisc_modes {\n\tSET_PROMISC_MODE_OFF\t\t= 0,\n\tSET_PROMISC_MODE_ON\t\t= 1,\n};\nenum qeth_ipa_isolation_modes {\n\tISOLATION_MODE_NONE\t\t= 0x00000000L,\n\tISOLATION_MODE_FWD\t\t= 0x00000001L,\n\tISOLATION_MODE_DROP\t\t= 0x00000002L,\n};\nenum qeth_ipa_set_access_mode_rc {\n\tSET_ACCESS_CTRL_RC_SUCCESS\t\t= 0x0000,\n\tSET_ACCESS_CTRL_RC_NOT_SUPPORTED\t= 0x0004,\n\tSET_ACCESS_CTRL_RC_ALREADY_NOT_ISOLATED\t= 0x0008,\n\tSET_ACCESS_CTRL_RC_ALREADY_ISOLATED\t= 0x0010,\n\tSET_ACCESS_CTRL_RC_NONE_SHARED_ADAPTER\t= 0x0014,\n\tSET_ACCESS_CTRL_RC_ACTIVE_CHECKSUM_OFF\t= 0x0018,\n\tSET_ACCESS_CTRL_RC_REFLREL_UNSUPPORTED\t= 0x0022,\n\tSET_ACCESS_CTRL_RC_REFLREL_FAILED\t= 0x0024,\n\tSET_ACCESS_CTRL_RC_REFLREL_DEACT_FAILED\t= 0x0028,\n};\nenum qeth_card_info_card_type {\n\tCARD_INFO_TYPE_1G_COPPER_A\t= 0x61,\n\tCARD_INFO_TYPE_1G_FIBRE_A\t= 0x71,\n\tCARD_INFO_TYPE_10G_FIBRE_A\t= 0x91,\n\tCARD_INFO_TYPE_1G_COPPER_B\t= 0xb1,\n\tCARD_INFO_TYPE_1G_FIBRE_B\t= 0xa1,\n\tCARD_INFO_TYPE_10G_FIBRE_B\t= 0xc1,\n};\nenum qeth_card_info_port_mode {\n\tCARD_INFO_PORTM_HALFDUPLEX\t= 0x0002,\n\tCARD_INFO_PORTM_FULLDUPLEX\t= 0x0003,\n};\nenum qeth_card_info_port_speed {\n\tCARD_INFO_PORTS_10M\t\t= 0x00000005,\n\tCARD_INFO_PORTS_100M\t\t= 0x00000006,\n\tCARD_INFO_PORTS_1G\t\t= 0x00000007,\n\tCARD_INFO_PORTS_10G\t\t= 0x00000008,\n\tCARD_INFO_PORTS_25G\t\t= 0x0000000A,\n};\n\n \nstruct qeth_ipacmd_setdelip4 {\n\t__be32 addr;\n\t__be32 mask;\n\t__u32  flags;\n} __attribute__ ((packed));\n\nstruct qeth_ipacmd_setdelip6 {\n\tstruct in6_addr addr;\n\tstruct in6_addr prefix;\n\t__u32  flags;\n} __attribute__ ((packed));\n\nstruct qeth_ipacmd_setdelipm {\n\t__u8 mac[6];\n\t__u8 padding[2];\n\tstruct in6_addr ip;\n} __attribute__ ((packed));\n\nstruct qeth_ipacmd_layer2setdelmac {\n\t__u32 mac_length;\n\t__u8 mac[6];\n} __attribute__ ((packed));\n\nstruct qeth_ipacmd_layer2setdelvlan {\n\t__u16 vlan_id;\n} __attribute__ ((packed));\n\nstruct qeth_ipacmd_setassparms_hdr {\n\t__u16 length;\n\t__u16 command_code;\n\t__u16 return_code;\n\t__u8 number_of_replies;\n\t__u8 seq_no;\n} __attribute__((packed));\n\nstruct qeth_arp_query_data {\n\t__u16 request_bits;\n\t__u16 reply_bits;\n\t__u32 no_entries;\n\tchar data;  \n} __attribute__((packed));\n\n \nstruct qeth_arp_query_info {\n\t__u32 udata_len;\n\t__u16 mask_bits;\n\t__u32 udata_offset;\n\t__u32 no_entries;\n\tchar *udata;\n};\n\n \nenum qeth_ipa_checksum_bits {\n\tQETH_IPA_CHECKSUM_IP_HDR\t= 0x0002,\n\tQETH_IPA_CHECKSUM_UDP\t\t= 0x0008,\n\tQETH_IPA_CHECKSUM_TCP\t\t= 0x0010,\n\tQETH_IPA_CHECKSUM_LP2LP\t\t= 0x0020\n};\n\nenum qeth_ipa_large_send_caps {\n\tQETH_IPA_LARGE_SEND_TCP\t\t= 0x00000001,\n};\n\nstruct qeth_tso_start_data {\n\tu32 mss;\n\tu32 supported;\n};\n\n \nstruct qeth_ipacmd_setassparms {\n\tu32 assist_no;\n\tstruct qeth_ipacmd_setassparms_hdr hdr;\n\tunion {\n\t\t__u32 flags_32bit;\n\t\tstruct qeth_ipa_caps caps;\n\t\tstruct qeth_arp_cache_entry arp_entry;\n\t\tstruct qeth_arp_query_data query_arp;\n\t\tstruct qeth_tso_start_data tso;\n\t} data;\n} __attribute__ ((packed));\n\n#define SETASS_DATA_SIZEOF(field) sizeof_field(struct qeth_ipacmd_setassparms,\\\n\t\t\t\t\t       data.field)\n\n \nstruct qeth_set_routing {\n\t__u8 type;\n};\n\n \nstruct qeth_query_cmds_supp {\n\t__u32 no_lantypes_supp;\n\t__u8 lan_type;\n\t__u8 reserved1[3];\n\t__u32 supported_cmds;\n\t__u8 reserved2[8];\n} __attribute__ ((packed));\n\nstruct qeth_change_addr {\n\tu32 cmd;\n\tu32 addr_size;\n\tu32 no_macs;\n\tu8 addr[ETH_ALEN];\n};\n\nstruct qeth_snmp_cmd {\n\t__u8  token[16];\n\t__u32 request;\n\t__u32 interface;\n\t__u32 returncode;\n\t__u32 firmwarelevel;\n\t__u32 seqno;\n\t__u8  data;\n} __attribute__ ((packed));\n\nstruct qeth_snmp_ureq_hdr {\n\t__u32   data_len;\n\t__u32   req_len;\n\t__u32   reserved1;\n\t__u32   reserved2;\n} __attribute__ ((packed));\n\nstruct qeth_snmp_ureq {\n\tstruct qeth_snmp_ureq_hdr hdr;\n\tstruct qeth_snmp_cmd cmd;\n} __attribute__((packed));\n\n \nstruct qeth_set_access_ctrl {\n\t__u32 subcmd_code;\n\t__u8 reserved[8];\n} __attribute__((packed));\n\n#define QETH_QOAT_PHYS_SPEED_UNKNOWN\t\t0x00\n#define QETH_QOAT_PHYS_SPEED_10M_HALF\t\t0x01\n#define QETH_QOAT_PHYS_SPEED_10M_FULL\t\t0x02\n#define QETH_QOAT_PHYS_SPEED_100M_HALF\t\t0x03\n#define QETH_QOAT_PHYS_SPEED_100M_FULL\t\t0x04\n#define QETH_QOAT_PHYS_SPEED_1000M_HALF\t\t0x05\n#define QETH_QOAT_PHYS_SPEED_1000M_FULL\t\t0x06\n\n#define QETH_QOAT_PHYS_SPEED_10G_FULL\t\t0x08\n\n#define QETH_QOAT_PHYS_SPEED_25G_FULL\t\t0x0A\n\n#define QETH_QOAT_PHYS_MEDIA_COPPER\t\t0x01\n#define QETH_QOAT_PHYS_MEDIA_FIBRE_SHORT\t0x02\n#define QETH_QOAT_PHYS_MEDIA_FIBRE_LONG\t\t0x04\n\nstruct qeth_query_oat_physical_if {\n\tu8 res_head[33];\n\tu8 speed_duplex;\n\tu8 media_type;\n\tu8 res_tail[29];\n};\n\n#define QETH_QOAT_REPLY_TYPE_PHYS_IF\t\t0x0004\n\nstruct qeth_query_oat_reply {\n\tu16 type;\n\tu16 length;\n\tu16 version;\n\tu8 res[10];\n\tstruct qeth_query_oat_physical_if phys_if;\n};\n\n#define QETH_QOAT_SCOPE_INTERFACE\t\t0x00000001\n\nstruct qeth_query_oat {\n\tu32 subcmd_code;\n\tu8 reserved[12];\n\tstruct qeth_query_oat_reply reply[];\n} __packed;\n\nstruct qeth_qoat_priv {\n\t__u32 buffer_len;\n\t__u32 response_len;\n\tchar *buffer;\n};\n\nstruct qeth_query_card_info {\n\t__u8\tcard_type;\n\t__u8\treserved1;\n\t__u16\tport_mode;\n\t__u32\tport_speed;\n\t__u32\treserved2;\n};\n\n#define QETH_SWITCH_FORW_802_1\t\t0x00000001\n#define QETH_SWITCH_FORW_REFL_RELAY\t0x00000002\n#define QETH_SWITCH_CAP_RTE\t\t0x00000004\n#define QETH_SWITCH_CAP_ECP\t\t0x00000008\n#define QETH_SWITCH_CAP_VDP\t\t0x00000010\n\nstruct qeth_query_switch_attributes {\n\t__u8  version;\n\t__u8  reserved1;\n\t__u16 reserved2;\n\t__u32 capabilities;\n\t__u32 settings;\n\t__u8  reserved3[8];\n};\n\n#define QETH_SETADP_FLAGS_VIRTUAL_MAC\t0x80\t \n\nstruct qeth_ipacmd_setadpparms_hdr {\n\tu16 cmdlength;\n\tu16 reserved2;\n\tu32 command_code;\n\tu16 return_code;\n\tu8 used_total;\n\tu8 seq_no;\n\tu8 flags;\n\tu8 reserved3[3];\n};\n\nstruct qeth_ipacmd_setadpparms {\n\tstruct qeth_ipa_caps hw_cmds;\n\tstruct qeth_ipacmd_setadpparms_hdr hdr;\n\tunion {\n\t\tstruct qeth_query_cmds_supp query_cmds_supp;\n\t\tstruct qeth_change_addr change_addr;\n\t\tstruct qeth_snmp_cmd snmp;\n\t\tstruct qeth_set_access_ctrl set_access_ctrl;\n\t\tstruct qeth_query_oat query_oat;\n\t\tstruct qeth_query_card_info card_info;\n\t\tstruct qeth_query_switch_attributes query_switch_attributes;\n\t\t__u32 mode;\n\t} data;\n} __attribute__ ((packed));\n\n#define SETADP_DATA_SIZEOF(field) sizeof_field(struct qeth_ipacmd_setadpparms,\\\n\t\t\t\t\t       data.field)\n\n \nstruct qeth_create_destroy_address {\n\tu8 mac_addr[ETH_ALEN];\n\tu16 uid;\n};\n\n \n\nenum qeth_diags_cmds {\n\tQETH_DIAGS_CMD_QUERY\t= 0x0001,\n\tQETH_DIAGS_CMD_TRAP\t= 0x0002,\n\tQETH_DIAGS_CMD_TRACE\t= 0x0004,\n\tQETH_DIAGS_CMD_NOLOG\t= 0x0008,\n\tQETH_DIAGS_CMD_DUMP\t= 0x0010,\n};\n\nenum qeth_diags_trace_types {\n\tQETH_DIAGS_TYPE_HIPERSOCKET\t= 0x02,\n};\n\nenum qeth_diags_trace_cmds {\n\tQETH_DIAGS_CMD_TRACE_ENABLE\t= 0x0001,\n\tQETH_DIAGS_CMD_TRACE_DISABLE\t= 0x0002,\n\tQETH_DIAGS_CMD_TRACE_MODIFY\t= 0x0004,\n\tQETH_DIAGS_CMD_TRACE_REPLACE\t= 0x0008,\n\tQETH_DIAGS_CMD_TRACE_QUERY\t= 0x0010,\n};\n\nenum qeth_diags_trap_action {\n\tQETH_DIAGS_TRAP_ARM\t= 0x01,\n\tQETH_DIAGS_TRAP_DISARM\t= 0x02,\n\tQETH_DIAGS_TRAP_CAPTURE = 0x04,\n};\n\nstruct qeth_ipacmd_diagass {\n\t__u32  host_tod2;\n\t__u32:32;\n\t__u16  subcmd_len;\n\t__u16:16;\n\t__u32  subcmd;\n\t__u8   type;\n\t__u8   action;\n\t__u16  options;\n\t__u32  ext;\n\t__u8   cdata[64];\n} __attribute__ ((packed));\n\n#define DIAG_HDR_LEN\t\toffsetofend(struct qeth_ipacmd_diagass, ext)\n#define DIAG_SUB_HDR_LEN\t(offsetofend(struct qeth_ipacmd_diagass, ext) -\\\n\t\t\t\t offsetof(struct qeth_ipacmd_diagass, \\\n\t\t\t\t\t  subcmd_len))\n\n \n \n#define IPA_VNICC_QUERY_CHARS\t\t0x00000000L\n#define IPA_VNICC_QUERY_CMDS\t\t0x00000001L\n#define IPA_VNICC_ENABLE\t\t0x00000002L\n#define IPA_VNICC_DISABLE\t\t0x00000004L\n#define IPA_VNICC_SET_TIMEOUT\t\t0x00000008L\n#define IPA_VNICC_GET_TIMEOUT\t\t0x00000010L\n\n \n#define QETH_VNICC_FLOODING\t\t0x80000000\n#define QETH_VNICC_MCAST_FLOODING\t0x40000000\n#define QETH_VNICC_LEARNING\t\t0x20000000\n#define QETH_VNICC_TAKEOVER_SETVMAC\t0x10000000\n#define QETH_VNICC_TAKEOVER_LEARNING\t0x08000000\n#define QETH_VNICC_BRIDGE_INVISIBLE\t0x04000000\n#define QETH_VNICC_RX_BCAST\t\t0x02000000\n\n \n#define QETH_VNICC_ALL\t\t\t0xff000000\n#define QETH_VNICC_DEFAULT\t\tQETH_VNICC_RX_BCAST\n \n#define QETH_VNICC_DEFAULT_TIMEOUT\t600\n\n \nstruct qeth_ipacmd_vnicc_hdr {\n\tu16 data_length;\n\tu16 reserved;\n\tu32 sub_command;\n};\n\n \nstruct qeth_vnicc_query_cmds {\n\tu32 vnic_char;\n\tu32 sup_cmds;\n};\n\n \nstruct qeth_vnicc_set_char {\n\tu32 vnic_char;\n};\n\n \nstruct qeth_vnicc_getset_timeout {\n\tu32 vnic_char;\n\tu32 timeout;\n};\n\n \nstruct qeth_ipacmd_vnicc {\n\tstruct qeth_ipa_caps vnicc_cmds;\n\tstruct qeth_ipacmd_vnicc_hdr hdr;\n\tunion {\n\t\tstruct qeth_vnicc_query_cmds query_cmds;\n\t\tstruct qeth_vnicc_set_char set_char;\n\t\tstruct qeth_vnicc_getset_timeout getset_timeout;\n\t} data;\n};\n\n#define VNICC_DATA_SIZEOF(field)\tsizeof_field(struct qeth_ipacmd_vnicc,\\\n\t\t\t\t\t\t     data.field)\n\n \nenum qeth_ipa_sbp_cmd {\n\tIPA_SBP_QUERY_COMMANDS_SUPPORTED\t= 0x00000000L,\n\tIPA_SBP_RESET_BRIDGE_PORT_ROLE\t\t= 0x00000001L,\n\tIPA_SBP_SET_PRIMARY_BRIDGE_PORT\t\t= 0x00000002L,\n\tIPA_SBP_SET_SECONDARY_BRIDGE_PORT\t= 0x00000004L,\n\tIPA_SBP_QUERY_BRIDGE_PORTS\t\t= 0x00000008L,\n\tIPA_SBP_BRIDGE_PORT_STATE_CHANGE\t= 0x00000010L,\n};\n\nstruct net_if_token {\n\t__u16 devnum;\n\t__u8 cssid;\n\t__u8 iid;\n\t__u8 ssid;\n\t__u8 chpid;\n\t__u16 chid;\n} __packed;\n\nstruct mac_addr_lnid {\n\t__u8 mac[6];\n\t__u16 lnid;\n} __packed;\n\nstruct qeth_ipacmd_sbp_hdr {\n\t__u16 cmdlength;\n\t__u16 reserved1;\n\t__u32 command_code;\n\t__u16 return_code;\n\t__u8  used_total;\n\t__u8  seq_no;\n\t__u32 reserved2;\n} __packed;\n\nstruct qeth_sbp_query_cmds_supp {\n\t__u32 supported_cmds;\n\t__u32 reserved;\n} __packed;\n\nstruct qeth_sbp_set_primary {\n\tstruct net_if_token token;\n} __packed;\n\nstruct qeth_sbp_port_entry {\n\t\t__u8 role;\n\t\t__u8 state;\n\t\t__u8 reserved1;\n\t\t__u8 reserved2;\n\t\tstruct net_if_token token;\n} __packed;\n\n \nstruct qeth_sbp_port_data {\n\t__u8 primary_bp_supported;\n\t__u8 secondary_bp_supported;\n\t__u8 num_entries;\n\t__u8 entry_length;\n\tstruct qeth_sbp_port_entry entry[];\n} __packed;\n\nstruct qeth_ipacmd_setbridgeport {\n\tstruct qeth_ipa_caps sbp_cmds;\n\tstruct qeth_ipacmd_sbp_hdr hdr;\n\tunion {\n\t\tstruct qeth_sbp_query_cmds_supp query_cmds_supp;\n\t\tstruct qeth_sbp_set_primary set_primary;\n\t\tstruct qeth_sbp_port_data port_data;\n\t} data;\n} __packed;\n\n#define SBP_DATA_SIZEOF(field)\tsizeof_field(struct qeth_ipacmd_setbridgeport,\\\n\t\t\t\t\t     data.field)\n\n \n \nenum qeth_ipa_addr_change_code {\n\tIPA_ADDR_CHANGE_CODE_VLANID\t\t= 0x01,\n\tIPA_ADDR_CHANGE_CODE_MACADDR\t\t= 0x02,\n\tIPA_ADDR_CHANGE_CODE_REMOVAL\t\t= 0x80,\t \n};\n\nstruct qeth_ipacmd_addr_change_entry {\n\tstruct net_if_token token;\n\tstruct mac_addr_lnid addr_lnid;\n\t__u8 change_code;\n\t__u8 reserved1;\n\t__u16 reserved2;\n} __packed;\n\nstruct qeth_ipacmd_addr_change {\n\t__u8 lost_event_mask;\n\t__u8 reserved;\n\t__u16 num_entries;\n\tstruct qeth_ipacmd_addr_change_entry entry[];\n} __packed;\n\n \nstruct qeth_ipacmd_local_addr4 {\n\t__be32 addr;\n\tu32 flags;\n};\n\nstruct qeth_ipacmd_local_addrs4 {\n\tu32 count;\n\tu32 addr_length;\n\tstruct qeth_ipacmd_local_addr4 addrs[];\n};\n\nstruct qeth_ipacmd_local_addr6 {\n\tstruct in6_addr addr;\n\tu32 flags;\n};\n\nstruct qeth_ipacmd_local_addrs6 {\n\tu32 count;\n\tu32 addr_length;\n\tstruct qeth_ipacmd_local_addr6 addrs[];\n};\n\n \nstruct qeth_ipacmd_hdr {\n\t__u8   command;\n\t__u8   initiator;\n\t__u16  seqno;\n\t__u16  return_code;\n\t__u8   adapter_type;\n\t__u8   rel_adapter_no;\n\t__u8   prim_version_no;\n\t__u8   param_count;\n\t__u16  prot_version;\n\tstruct qeth_ipa_caps assists;\n} __attribute__ ((packed));\n\n \nstruct qeth_ipa_cmd {\n\tstruct qeth_ipacmd_hdr hdr;\n\tunion {\n\t\tstruct qeth_ipacmd_setdelip4\t\tsetdelip4;\n\t\tstruct qeth_ipacmd_setdelip6\t\tsetdelip6;\n\t\tstruct qeth_ipacmd_setdelipm\t\tsetdelipm;\n\t\tstruct qeth_ipacmd_setassparms\t\tsetassparms;\n\t\tstruct qeth_ipacmd_layer2setdelmac\tsetdelmac;\n\t\tstruct qeth_ipacmd_layer2setdelvlan\tsetdelvlan;\n\t\tstruct qeth_create_destroy_address\tcreate_destroy_addr;\n\t\tstruct qeth_ipacmd_setadpparms\t\tsetadapterparms;\n\t\tstruct qeth_set_routing\t\t\tsetrtg;\n\t\tstruct qeth_ipacmd_diagass\t\tdiagass;\n\t\tstruct qeth_ipacmd_setbridgeport\tsbp;\n\t\tstruct qeth_ipacmd_addr_change\t\taddrchange;\n\t\tstruct qeth_ipacmd_vnicc\t\tvnicc;\n\t\tstruct qeth_ipacmd_local_addrs4\t\tlocal_addrs4;\n\t\tstruct qeth_ipacmd_local_addrs6\t\tlocal_addrs6;\n\t} data;\n} __attribute__ ((packed));\n\n#define IPA_DATA_SIZEOF(field)\tsizeof_field(struct qeth_ipa_cmd, data.field)\n\n \nenum qeth_ipa_arp_return_codes {\n\tQETH_IPA_ARP_RC_SUCCESS      = 0x0000,\n\tQETH_IPA_ARP_RC_FAILED       = 0x0001,\n\tQETH_IPA_ARP_RC_NOTSUPP      = 0x0002,\n\tQETH_IPA_ARP_RC_OUT_OF_RANGE = 0x0003,\n\tQETH_IPA_ARP_RC_Q_NOTSUPP    = 0x0004,\n\tQETH_IPA_ARP_RC_Q_NO_DATA    = 0x0008,\n};\n\nextern const char *qeth_get_ipa_msg(enum qeth_ipa_return_codes rc);\nextern const char *qeth_get_ipa_cmd_name(enum qeth_ipa_cmds cmd);\n\n \n#define IS_IPA_REPLY(cmd) ((cmd)->hdr.initiator == IPA_CMD_INITIATOR_HOST)\n\n \n \n \n\nextern const unsigned char CM_ENABLE[];\n#define CM_ENABLE_SIZE 0x63\n#define QETH_CM_ENABLE_ISSUER_RM_TOKEN(buffer) (buffer + 0x2c)\n#define QETH_CM_ENABLE_FILTER_TOKEN(buffer) (buffer + 0x53)\n#define QETH_CM_ENABLE_USER_DATA(buffer) (buffer + 0x5b)\n\n#define QETH_CM_ENABLE_RESP_FILTER_TOKEN(buffer) \\\n\t\t(PDU_ENCAPSULATION(buffer) + 0x13)\n\n\nextern const unsigned char CM_SETUP[];\n#define CM_SETUP_SIZE 0x64\n#define QETH_CM_SETUP_DEST_ADDR(buffer) (buffer + 0x2c)\n#define QETH_CM_SETUP_CONNECTION_TOKEN(buffer) (buffer + 0x51)\n#define QETH_CM_SETUP_FILTER_TOKEN(buffer) (buffer + 0x5a)\n\n#define QETH_CM_SETUP_RESP_DEST_ADDR(buffer) \\\n\t\t(PDU_ENCAPSULATION(buffer) + 0x1a)\n\nextern const unsigned char ULP_ENABLE[];\n#define ULP_ENABLE_SIZE 0x6b\n#define QETH_ULP_ENABLE_LINKNUM(buffer) (buffer + 0x61)\n#define QETH_ULP_ENABLE_DEST_ADDR(buffer) (buffer + 0x2c)\n#define QETH_ULP_ENABLE_FILTER_TOKEN(buffer) (buffer + 0x53)\n#define QETH_ULP_ENABLE_PORTNAME_AND_LL(buffer) (buffer + 0x62)\n#define QETH_ULP_ENABLE_RESP_FILTER_TOKEN(buffer) \\\n\t\t(PDU_ENCAPSULATION(buffer) + 0x13)\n#define QETH_ULP_ENABLE_RESP_MAX_MTU(buffer) \\\n\t\t(PDU_ENCAPSULATION(buffer) + 0x1f)\n#define QETH_ULP_ENABLE_RESP_DIFINFO_LEN(buffer) \\\n\t\t(PDU_ENCAPSULATION(buffer) + 0x17)\n#define QETH_ULP_ENABLE_RESP_LINK_TYPE(buffer) \\\n\t\t(PDU_ENCAPSULATION(buffer) + 0x2b)\n\n#define QETH_MPC_PROT_L2\t0x08\n#define QETH_MPC_PROT_L3\t0x03\n#define QETH_ULP_ENABLE_PROT_TYPE(buffer) (buffer + 0x50)\n#define QETH_IPA_CMD_PROT_TYPE(buffer) (buffer + 0x19)\n\nextern const unsigned char ULP_SETUP[];\n#define ULP_SETUP_SIZE 0x6c\n#define QETH_ULP_SETUP_DEST_ADDR(buffer) (buffer + 0x2c)\n#define QETH_ULP_SETUP_CONNECTION_TOKEN(buffer) (buffer + 0x51)\n#define QETH_ULP_SETUP_FILTER_TOKEN(buffer) (buffer + 0x5a)\n#define QETH_ULP_SETUP_CUA(buffer) (buffer + 0x68)\n#define QETH_ULP_SETUP_REAL_DEVADDR(buffer) (buffer + 0x6a)\n\n#define QETH_ULP_SETUP_RESP_CONNECTION_TOKEN(buffer) \\\n\t\t(PDU_ENCAPSULATION(buffer) + 0x1a)\n\n\nextern const unsigned char DM_ACT[];\n#define DM_ACT_SIZE 0x55\n#define QETH_DM_ACT_DEST_ADDR(buffer) (buffer + 0x2c)\n#define QETH_DM_ACT_CONNECTION_TOKEN(buffer) (buffer + 0x51)\n\n\n\n#define QETH_TRANSPORT_HEADER_SEQ_NO(buffer) (buffer + 4)\n#define QETH_PDU_HEADER_SEQ_NO(buffer) (buffer + 0x1c)\n#define QETH_PDU_HEADER_ACK_SEQ_NO(buffer) (buffer + 0x20)\n\nextern const unsigned char IDX_ACTIVATE_READ[];\nextern const unsigned char IDX_ACTIVATE_WRITE[];\n#define IDX_ACTIVATE_SIZE\t0x22\n#define QETH_IDX_ACT_PNO(buffer) (buffer+0x0b)\n#define QETH_IDX_ACT_ISSUER_RM_TOKEN(buffer) (buffer + 0x0c)\n#define QETH_IDX_ACT_INVAL_FRAME\t0x40\n#define QETH_IDX_NO_PORTNAME_REQUIRED(buffer) ((buffer)[0x0b] & 0x80)\n#define QETH_IDX_ACT_FUNC_LEVEL(buffer) (buffer + 0x10)\n#define QETH_IDX_ACT_DATASET_NAME(buffer) (buffer + 0x16)\n#define QETH_IDX_ACT_QDIO_DEV_CUA(buffer) (buffer + 0x1e)\n#define QETH_IDX_ACT_QDIO_DEV_REALADDR(buffer) (buffer + 0x20)\n#define QETH_IS_IDX_ACT_POS_REPLY(buffer) (((buffer)[0x08] & 3) == 2)\n#define QETH_IDX_REPLY_LEVEL(buffer) (buffer + 0x12)\n#define QETH_IDX_ACT_CAUSE_CODE(buffer) (buffer)[0x09]\n#define QETH_IDX_ACT_ERR_EXCL\t\t0x19\n#define QETH_IDX_ACT_ERR_AUTH\t\t0x1E\n#define QETH_IDX_ACT_ERR_AUTH_USER\t0x20\n\n#define QETH_IDX_TERMINATE\t\t0xc0\n#define QETH_IDX_TERMINATE_MASK\t\t0xc0\n#define QETH_IDX_TERM_BAD_TRANSPORT\t0x41\n#define QETH_IDX_TERM_BAD_TRANSPORT_VM\t0xf6\n\n#define PDU_ENCAPSULATION(buffer) \\\n\t(buffer + *(buffer + (*(buffer + 0x0b)) + \\\n\t *(buffer + *(buffer + 0x0b) + 0x11) + 0x07))\n\n#define IS_IPA(buffer) \\\n\t((buffer) && \\\n\t (*(buffer + ((*(buffer + 0x0b)) + 4)) == 0xc1))\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}