{
  "module_name": "ato.c",
  "hash_id": "e55dc18323eb713a801508a78bd887230215d753907b3e45bc13daa33f67f90b",
  "original_prompt": "Ingested from linux-6.6.14/drivers/mtd/nand/spi/ato.c",
  "human_readable_source": "\n \n\n#include <linux/device.h>\n#include <linux/kernel.h>\n#include <linux/mtd/spinand.h>\n\n\n#define SPINAND_MFR_ATO\t\t0x9b\n\n\nstatic SPINAND_OP_VARIANTS(read_cache_variants,\n\t\tSPINAND_PAGE_READ_FROM_CACHE_X4_OP(0, 1, NULL, 0),\n\t\tSPINAND_PAGE_READ_FROM_CACHE_OP(true, 0, 1, NULL, 0),\n\t\tSPINAND_PAGE_READ_FROM_CACHE_OP(false, 0, 1, NULL, 0));\n\nstatic SPINAND_OP_VARIANTS(write_cache_variants,\n\t\tSPINAND_PROG_LOAD_X4(true, 0, NULL, 0),\n\t\tSPINAND_PROG_LOAD(true, 0, NULL, 0));\n\nstatic SPINAND_OP_VARIANTS(update_cache_variants,\n\t\tSPINAND_PROG_LOAD_X4(false, 0, NULL, 0),\n\t\tSPINAND_PROG_LOAD(false, 0, NULL, 0));\n\n\nstatic int ato25d1ga_ooblayout_ecc(struct mtd_info *mtd, int section,\n\t\t\t\t   struct mtd_oob_region *region)\n{\n\tif (section > 3)\n\t\treturn -ERANGE;\n\n\tregion->offset = (16 * section) + 8;\n\tregion->length = 8;\n\treturn 0;\n}\n\nstatic int ato25d1ga_ooblayout_free(struct mtd_info *mtd, int section,\n\t\t\t\t   struct mtd_oob_region *region)\n{\n\tif (section > 3)\n\t\treturn -ERANGE;\n\n\tif (section) {\n\t\tregion->offset = (16 * section);\n\t\tregion->length = 8;\n\t} else {\n\t\t \n\t\tregion->offset = 1;\n\t\tregion->length = 7;\n\t}\n\n\treturn 0;\n}\n\nstatic const struct mtd_ooblayout_ops ato25d1ga_ooblayout = {\n\t.ecc = ato25d1ga_ooblayout_ecc,\n\t.free = ato25d1ga_ooblayout_free,\n};\n\n\nstatic const struct spinand_info ato_spinand_table[] = {\n\tSPINAND_INFO(\"ATO25D1GA\",\n\t\t     SPINAND_ID(SPINAND_READID_METHOD_OPCODE_ADDR, 0x12),\n\t\t     NAND_MEMORG(1, 2048, 64, 64, 1024, 20, 1, 1, 1),\n\t\t     NAND_ECCREQ(1, 512),\n\t\t     SPINAND_INFO_OP_VARIANTS(&read_cache_variants,\n\t\t\t\t\t      &write_cache_variants,\n\t\t\t\t\t      &update_cache_variants),\n\t\t     SPINAND_HAS_QE_BIT,\n\t\t     SPINAND_ECCINFO(&ato25d1ga_ooblayout, NULL)),\n};\n\nstatic const struct spinand_manufacturer_ops ato_spinand_manuf_ops = {\n};\n\nconst struct spinand_manufacturer ato_spinand_manufacturer = {\n\t.id = SPINAND_MFR_ATO,\n\t.name = \"ATO\",\n\t.chips = ato_spinand_table,\n\t.nchips = ARRAY_SIZE(ato_spinand_table),\n\t.ops = &ato_spinand_manuf_ops,\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}