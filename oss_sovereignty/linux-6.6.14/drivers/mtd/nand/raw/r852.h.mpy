{
  "module_name": "r852.h",
  "hash_id": "add7185b0c8d2dfec8b0f1200b92d7ae80fb1c1c3c6b1844f1c8842e78dddfe4",
  "original_prompt": "Ingested from linux-6.6.14/drivers/mtd/nand/raw/r852.h",
  "human_readable_source": " \n \n\n#include <linux/pci.h>\n#include <linux/completion.h>\n#include <linux/workqueue.h>\n#include <linux/mtd/rawnand.h>\n#include <linux/spinlock.h>\n\n\n \n#define\tR852_DATALINE\t\t0x00\n\n \n#define R852_CTL\t\t0x04\n#define R852_CTL_COMMAND \t0x01\t \n#define R852_CTL_DATA\t\t0x02\t \n#define R852_CTL_ON\t\t0x04\t \n\t\t\t\t\t \n#define R852_CTL_RESET\t\t0x08\t \n#define R852_CTL_CARDENABLE\t0x10\t \n#define R852_CTL_ECC_ENABLE\t0x20\t \n#define R852_CTL_ECC_ACCESS\t0x40\t \n#define R852_CTL_WRITE\t\t0x80\t \n\n \n#define R852_CARD_STA\t\t0x05\n\n#define R852_CARD_STA_CD\t0x01\t \n#define R852_CARD_STA_RO\t0x02\t \n#define R852_CARD_STA_PRESENT\t0x04\t \n#define R852_CARD_STA_ABSENT\t0x08\t \n#define R852_CARD_STA_BUSY\t0x80\t \n\n \n#define R852_CARD_IRQ_STA\t0x06\t \n#define R852_CARD_IRQ_ENABLE\t0x07\t \n\n#define R852_CARD_IRQ_CD\t0x01\t \n#define R852_CARD_IRQ_REMOVE\t0x04\t \n#define R852_CARD_IRQ_INSERT\t0x08\t \n#define R852_CARD_IRQ_UNK1\t0x10\t \n#define R852_CARD_IRQ_GENABLE\t0x80\t \n#define R852_CARD_IRQ_MASK\t0x1D\n\n\n\n \n#define R852_HW\t\t\t0x08\n#define R852_HW_ENABLED\t\t0x01\t \n#define R852_HW_UNKNOWN\t\t0x80\n\n\n \n#define R852_DMA_CAP\t\t0x09\n#define R852_SMBIT\t\t0x20\t \n\t\t\t\t\t \n#define R852_DMA1\t\t0x40\t \n#define R852_DMA2\t\t0x80\t \n\n\n \n#define R852_DMA_ADDR\t\t0x0C\n\n\n \n#define R852_DMA_SETTINGS\t0x10\n#define R852_DMA_MEMORY\t\t0x01\t \n#define R852_DMA_READ\t\t0x02\t \n#define R852_DMA_INTERNAL\t0x04\t \n\n \n#define R852_DMA_IRQ_STA\t\t0x14\n\n \n#define R852_DMA_IRQ_ENABLE\t0x18\n\n#define R852_DMA_IRQ_MEMORY\t0x01\t \n#define R852_DMA_IRQ_ERROR\t0x02\t \n#define R852_DMA_IRQ_INTERNAL\t0x04\t \n#define R852_DMA_IRQ_MASK\t0x07\t \n\n\n \n#define R852_ECC_ERR_BIT_MSK\t0x07\t \n#define R852_ECC_CORRECT\t\t0x10\t \n#define R852_ECC_CORRECTABLE\t0x20\t \n#define R852_ECC_FAIL\t\t0x40\t \n\n#define R852_DMA_LEN\t\t512\n\n#define DMA_INTERNAL\t0\n#define DMA_MEMORY\t1\n\nstruct r852_device {\n\tstruct nand_controller\t\tcontroller;\n\tvoid __iomem *mmio;\t\t \n\tstruct nand_chip *chip;\t\t \n\tstruct pci_dev *pci_dev;\t \n\n\t \n\tdma_addr_t phys_dma_addr;\t \n\tstruct completion dma_done;\t \n\n\tdma_addr_t phys_bounce_buffer;\t \n\tuint8_t *bounce_buffer;\t\t \n\n\tint dma_dir;\t\t\t \n\tint dma_stage;\t\t\t \n\n\tint dma_state;\t\t\t \n\tint dma_error;\t\t\t \n\tint dma_usable;\t\t\t \n\n\t \n\tstruct delayed_work card_detect_work;\n\tstruct workqueue_struct *card_workqueue;\n\tint card_registered;\t\t \n\tint card_detected;\t\t \n\tint card_unstable;\t\t \n\tint readonly;\t\t\t \n\tint sm;\t\t\t\t \n\n\t \n\tspinlock_t irqlock;\t\t \n\tint irq;\t\t\t \n\t \n\tvoid *tmp_buffer;\t\t \n\tuint8_t ctlreg;\t\t\t \n};\n\n#define dbg(format, ...) \\\n\tif (debug) \\\n\t\tpr_debug(format \"\\n\", ## __VA_ARGS__)\n\n#define dbg_verbose(format, ...) \\\n\tif (debug > 1) \\\n\t\tpr_debug(format \"\\n\", ## __VA_ARGS__)\n\n\n#define message(format, ...) \\\n\tpr_info(format \"\\n\", ## __VA_ARGS__)\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}