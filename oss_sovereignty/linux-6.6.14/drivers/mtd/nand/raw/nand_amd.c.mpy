{
  "module_name": "nand_amd.c",
  "hash_id": "8f9cc3db4e01df8502abeec140a0e6cd3efdfe8cb0ef0d8c6323e795ceb69ea3",
  "original_prompt": "Ingested from linux-6.6.14/drivers/mtd/nand/raw/nand_amd.c",
  "human_readable_source": "\n \n\n#include \"internals.h\"\n\nstatic void amd_nand_decode_id(struct nand_chip *chip)\n{\n\tstruct mtd_info *mtd = nand_to_mtd(chip);\n\tstruct nand_memory_organization *memorg;\n\n\tmemorg = nanddev_get_memorg(&chip->base);\n\n\tnand_decode_ext_id(chip);\n\n\t \n\tif (chip->id.data[4] != 0x00 && chip->id.data[5] == 0x00 &&\n\t    chip->id.data[6] == 0x00 && chip->id.data[7] == 0x00 &&\n\t    memorg->pagesize == 512) {\n\t\tmemorg->pages_per_eraseblock = 256;\n\t\tmemorg->pages_per_eraseblock <<= ((chip->id.data[3] & 0x03) << 1);\n\t\tmtd->erasesize = memorg->pages_per_eraseblock *\n\t\t\t\t memorg->pagesize;\n\t}\n}\n\nstatic int amd_nand_init(struct nand_chip *chip)\n{\n\tif (nand_is_slc(chip))\n\t\t \n\t\tchip->options |= NAND_BBM_FIRSTPAGE | NAND_BBM_SECONDPAGE |\n\t\t\t\t NAND_BBM_LASTPAGE;\n\n\treturn 0;\n}\n\nconst struct nand_manufacturer_ops amd_nand_manuf_ops = {\n\t.detect = amd_nand_decode_id,\n\t.init = amd_nand_init,\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}