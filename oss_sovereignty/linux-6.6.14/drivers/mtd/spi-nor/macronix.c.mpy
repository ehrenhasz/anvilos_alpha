{
  "module_name": "macronix.c",
  "hash_id": "9d02301c88f2973ab90ec1a11f85fe4e06da808a4bb5a12ed6f1557e7078000c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/mtd/spi-nor/macronix.c",
  "human_readable_source": "\n \n\n#include <linux/mtd/spi-nor.h>\n\n#include \"core.h\"\n\nstatic int\nmx25l25635_post_bfpt_fixups(struct spi_nor *nor,\n\t\t\t    const struct sfdp_parameter_header *bfpt_header,\n\t\t\t    const struct sfdp_bfpt *bfpt)\n{\n\t \n\tif (bfpt->dwords[SFDP_DWORD(5)] & BFPT_DWORD5_FAST_READ_4_4_4)\n\t\tnor->flags |= SNOR_F_4B_OPCODES;\n\n\treturn 0;\n}\n\nstatic const struct spi_nor_fixups mx25l25635_fixups = {\n\t.post_bfpt = mx25l25635_post_bfpt_fixups,\n};\n\nstatic const struct flash_info macronix_nor_parts[] = {\n\t \n\t{ \"mx25l512e\",   INFO(0xc22010, 0, 64 * 1024,   1)\n\t\tNO_SFDP_FLAGS(SECT_4K) },\n\t{ \"mx25l2005a\",  INFO(0xc22012, 0, 64 * 1024,   4)\n\t\tNO_SFDP_FLAGS(SECT_4K) },\n\t{ \"mx25l4005a\",  INFO(0xc22013, 0, 64 * 1024,   8)\n\t\tNO_SFDP_FLAGS(SECT_4K) },\n\t{ \"mx25l8005\",   INFO(0xc22014, 0, 64 * 1024,  16) },\n\t{ \"mx25l1606e\",  INFO(0xc22015, 0, 64 * 1024,  32)\n\t\tNO_SFDP_FLAGS(SECT_4K) },\n\t{ \"mx25l3205d\",  INFO(0xc22016, 0, 64 * 1024,  64)\n\t\tNO_SFDP_FLAGS(SECT_4K) },\n\t{ \"mx25l3255e\",  INFO(0xc29e16, 0, 64 * 1024,  64)\n\t\tNO_SFDP_FLAGS(SECT_4K) },\n\t{ \"mx25l6405d\",  INFO(0xc22017, 0, 64 * 1024, 128)\n\t\tNO_SFDP_FLAGS(SECT_4K) },\n\t{ \"mx25u2033e\",  INFO(0xc22532, 0, 64 * 1024,   4)\n\t\tNO_SFDP_FLAGS(SECT_4K) },\n\t{ \"mx25u3235f\",\t INFO(0xc22536, 0, 64 * 1024,  64)\n\t\tNO_SFDP_FLAGS(SECT_4K | SPI_NOR_DUAL_READ |\n\t\t\t      SPI_NOR_QUAD_READ) },\n\t{ \"mx25u4035\",   INFO(0xc22533, 0, 64 * 1024,   8)\n\t\tNO_SFDP_FLAGS(SECT_4K) },\n\t{ \"mx25u8035\",   INFO(0xc22534, 0, 64 * 1024,  16)\n\t\tNO_SFDP_FLAGS(SECT_4K) },\n\t{ \"mx25u6435f\",  INFO(0xc22537, 0, 64 * 1024, 128)\n\t\tNO_SFDP_FLAGS(SECT_4K) },\n\t{ \"mx25l12805d\", INFO(0xc22018, 0, 64 * 1024, 256)\n\t\tFLAGS(SPI_NOR_HAS_LOCK | SPI_NOR_4BIT_BP)\n\t\tNO_SFDP_FLAGS(SECT_4K) },\n\t{ \"mx25l12855e\", INFO(0xc22618, 0, 64 * 1024, 256) },\n\t{ \"mx25r1635f\",  INFO(0xc22815, 0, 64 * 1024,  32)\n\t\tNO_SFDP_FLAGS(SECT_4K | SPI_NOR_DUAL_READ |\n\t\t\t      SPI_NOR_QUAD_READ) },\n\t{ \"mx25r3235f\",  INFO(0xc22816, 0, 64 * 1024,  64)\n\t\tNO_SFDP_FLAGS(SECT_4K | SPI_NOR_DUAL_READ |\n\t\t\t      SPI_NOR_QUAD_READ) },\n\t{ \"mx25u12835f\", INFO(0xc22538, 0, 64 * 1024, 256)\n\t\tNO_SFDP_FLAGS(SECT_4K | SPI_NOR_DUAL_READ |\n\t\t\t      SPI_NOR_QUAD_READ) },\n\t{ \"mx25l25635e\", INFO(0xc22019, 0, 64 * 1024, 512)\n\t\tNO_SFDP_FLAGS(SPI_NOR_DUAL_READ | SPI_NOR_QUAD_READ)\n\t\t.fixups = &mx25l25635_fixups },\n\t{ \"mx25u25635f\", INFO(0xc22539, 0, 64 * 1024, 512)\n\t\tNO_SFDP_FLAGS(SECT_4K)\n\t\tFIXUP_FLAGS(SPI_NOR_4B_OPCODES) },\n\t{ \"mx25u51245g\", INFO(0xc2253a, 0, 64 * 1024, 1024)\n\t\tNO_SFDP_FLAGS(SECT_4K | SPI_NOR_DUAL_READ | SPI_NOR_QUAD_READ)\n\t\tFIXUP_FLAGS(SPI_NOR_4B_OPCODES) },\n\t{ \"mx25uw51245g\", INFOB(0xc2813a, 0, 0, 0, 4)\n\t\tPARSE_SFDP\n\t\tFLAGS(SPI_NOR_RWW) },\n\t{ \"mx25v8035f\",  INFO(0xc22314, 0, 64 * 1024,  16)\n\t\tNO_SFDP_FLAGS(SECT_4K | SPI_NOR_DUAL_READ |\n\t\t\t      SPI_NOR_QUAD_READ) },\n\t{ \"mx25l25655e\", INFO(0xc22619, 0, 64 * 1024, 512) },\n\t{ \"mx66l51235f\", INFO(0xc2201a, 0, 64 * 1024, 1024)\n\t\tNO_SFDP_FLAGS(SPI_NOR_DUAL_READ | SPI_NOR_QUAD_READ)\n\t\tFIXUP_FLAGS(SPI_NOR_4B_OPCODES) },\n\t{ \"mx66u51235f\", INFO(0xc2253a, 0, 64 * 1024, 1024)\n\t\tNO_SFDP_FLAGS(SECT_4K | SPI_NOR_DUAL_READ | SPI_NOR_QUAD_READ)\n\t\tFIXUP_FLAGS(SPI_NOR_4B_OPCODES) },\n\t{ \"mx66l1g45g\",  INFO(0xc2201b, 0, 64 * 1024, 2048)\n\t\tNO_SFDP_FLAGS(SECT_4K | SPI_NOR_DUAL_READ |\n\t\t\t      SPI_NOR_QUAD_READ) },\n\t{ \"mx66l1g55g\",  INFO(0xc2261b, 0, 64 * 1024, 2048)\n\t\tNO_SFDP_FLAGS(SPI_NOR_QUAD_READ) },\n\t{ \"mx66u2g45g\",\t INFO(0xc2253c, 0, 64 * 1024, 4096)\n\t\tNO_SFDP_FLAGS(SECT_4K | SPI_NOR_DUAL_READ | SPI_NOR_QUAD_READ)\n\t\tFIXUP_FLAGS(SPI_NOR_4B_OPCODES) },\n};\n\nstatic void macronix_nor_default_init(struct spi_nor *nor)\n{\n\tnor->params->quad_enable = spi_nor_sr1_bit6_quad_enable;\n}\n\nstatic int macronix_nor_late_init(struct spi_nor *nor)\n{\n\tif (!nor->params->set_4byte_addr_mode)\n\t\tnor->params->set_4byte_addr_mode = spi_nor_set_4byte_addr_mode_en4b_ex4b;\n\n\treturn 0;\n}\n\nstatic const struct spi_nor_fixups macronix_nor_fixups = {\n\t.default_init = macronix_nor_default_init,\n\t.late_init = macronix_nor_late_init,\n};\n\nconst struct spi_nor_manufacturer spi_nor_macronix = {\n\t.name = \"macronix\",\n\t.parts = macronix_nor_parts,\n\t.nparts = ARRAY_SIZE(macronix_nor_parts),\n\t.fixups = &macronix_nor_fixups,\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}