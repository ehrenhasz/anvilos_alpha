{
  "module_name": "jedec_probe.c",
  "hash_id": "be6a5875be84f6b83c284f3262a3a69de869053f134f49e1d66b6912587163e6",
  "original_prompt": "Ingested from linux-6.6.14/drivers/mtd/chips/jedec_probe.c",
  "human_readable_source": "\n \n\n#include <linux/module.h>\n#include <linux/init.h>\n#include <linux/types.h>\n#include <linux/kernel.h>\n#include <asm/io.h>\n#include <asm/byteorder.h>\n#include <linux/errno.h>\n#include <linux/slab.h>\n#include <linux/interrupt.h>\n\n#include <linux/mtd/mtd.h>\n#include <linux/mtd/map.h>\n#include <linux/mtd/cfi.h>\n#include <linux/mtd/gen_probe.h>\n\n \n#define AM29DL800BB\t0x22CB\n#define AM29DL800BT\t0x224A\n\n#define AM29F800BB\t0x2258\n#define AM29F800BT\t0x22D6\n#define AM29LV400BB\t0x22BA\n#define AM29LV400BT\t0x22B9\n#define AM29LV800BB\t0x225B\n#define AM29LV800BT\t0x22DA\n#define AM29LV160DT\t0x22C4\n#define AM29LV160DB\t0x2249\n#define AM29F017D\t0x003D\n#define AM29F016D\t0x00AD\n#define AM29F080\t0x00D5\n#define AM29F040\t0x00A4\n#define AM29LV040B\t0x004F\n#define AM29F032B\t0x0041\n#define AM29F002T\t0x00B0\n#define AM29SL800DB\t0x226B\n#define AM29SL800DT\t0x22EA\n\n \n#define AT49BV512\t0x0003\n#define AT29LV512\t0x003d\n#define AT49BV16X\t0x00C0\n#define AT49BV16XT\t0x00C2\n#define AT49BV32X\t0x00C8\n#define AT49BV32XT\t0x00C9\n\n \n#define EN29LV400AT\t0x22B9\n#define EN29LV400AB\t0x22BA\n#define EN29SL800BB\t0x226B\n#define EN29SL800BT\t0x22EA\n\n \n#define MBM29F040C\t0x00A4\n#define MBM29F800BA\t0x2258\n#define MBM29LV650UE\t0x22D7\n#define MBM29LV320TE\t0x22F6\n#define MBM29LV320BE\t0x22F9\n#define MBM29LV160TE\t0x22C4\n#define MBM29LV160BE\t0x2249\n#define MBM29LV800BA\t0x225B\n#define MBM29LV800TA\t0x22DA\n#define MBM29LV400TC\t0x22B9\n#define MBM29LV400BC\t0x22BA\n\n \n#define HY29F002T\t0x00B0\n\n \n#define I28F004B3T\t0x00d4\n#define I28F004B3B\t0x00d5\n#define I28F400B3T\t0x8894\n#define I28F400B3B\t0x8895\n#define I28F008S5\t0x00a6\n#define I28F016S5\t0x00a0\n#define I28F008SA\t0x00a2\n#define I28F008B3T\t0x00d2\n#define I28F008B3B\t0x00d3\n#define I28F800B3T\t0x8892\n#define I28F800B3B\t0x8893\n#define I28F016S3\t0x00aa\n#define I28F016B3T\t0x00d0\n#define I28F016B3B\t0x00d1\n#define I28F160B3T\t0x8890\n#define I28F160B3B\t0x8891\n#define I28F320B3T\t0x8896\n#define I28F320B3B\t0x8897\n#define I28F640B3T\t0x8898\n#define I28F640B3B\t0x8899\n#define I28F640C3B\t0x88CD\n#define I28F160F3T\t0x88F3\n#define I28F160F3B\t0x88F4\n#define I28F160C3T\t0x88C2\n#define I28F160C3B\t0x88C3\n#define I82802AB\t0x00ad\n#define I82802AC\t0x00ac\n\n \n#define MX29LV040C\t0x004F\n#define MX29LV160T\t0x22C4\n#define MX29LV160B\t0x2249\n#define MX29F040\t0x00A4\n#define MX29F016\t0x00AD\n#define MX29F002T\t0x00B0\n#define MX29F004T\t0x0045\n#define MX29F004B\t0x0046\n\n \n#define UPD29F064115\t0x221C\n\n \n#define PM49FL002\t0x006D\n#define PM49FL004\t0x006E\n#define PM49FL008\t0x006A\n\n \n#define LH28F640BF\t0x00B0\n\n \n#define M29F800AB\t0x0058\n#define M29W800DT\t0x22D7\n#define M29W800DB\t0x225B\n#define M29W400DT\t0x00EE\n#define M29W400DB\t0x00EF\n#define M29W160DT\t0x22C4\n#define M29W160DB\t0x2249\n#define M29W040B\t0x00E3\n#define M50FW040\t0x002C\n#define M50FW080\t0x002D\n#define M50FW016\t0x002E\n#define M50LPW080       0x002F\n#define M50FLW080A\t0x0080\n#define M50FLW080B\t0x0081\n#define PSD4256G6V\t0x00e9\n\n \n#define SST29EE020\t0x0010\n#define SST29LE020\t0x0012\n#define SST29EE512\t0x005d\n#define SST29LE512\t0x003d\n#define SST39LF800\t0x2781\n#define SST39LF160\t0x2782\n#define SST39VF1601\t0x234b\n#define SST39VF3201\t0x235b\n#define SST39WF1601\t0x274b\n#define SST39WF1602\t0x274a\n#define SST39LF512\t0x00D4\n#define SST39LF010\t0x00D5\n#define SST39LF020\t0x00D6\n#define SST39LF040\t0x00D7\n#define SST39SF010A\t0x00B5\n#define SST39SF020A\t0x00B6\n#define SST39SF040\t0x00B7\n#define SST49LF004B\t0x0060\n#define SST49LF040B\t0x0050\n#define SST49LF008A\t0x005a\n#define SST49LF030A\t0x001C\n#define SST49LF040A\t0x0051\n#define SST49LF080A\t0x005B\n#define SST36VF3203\t0x7354\n\n \n#define TC58FVT160\t0x00C2\n#define TC58FVB160\t0x0043\n#define TC58FVT321\t0x009A\n#define TC58FVB321\t0x009C\n#define TC58FVT641\t0x0093\n#define TC58FVB641\t0x0095\n\n \n#define W49V002A\t0x00b0\n\n\n \nenum uaddr {\n\tMTD_UADDR_NOT_SUPPORTED = 0,\t \n\tMTD_UADDR_0x0555_0x02AA,\n\tMTD_UADDR_0x0555_0x0AAA,\n\tMTD_UADDR_0x5555_0x2AAA,\n\tMTD_UADDR_0x0AAA_0x0554,\n\tMTD_UADDR_0x0AAA_0x0555,\n\tMTD_UADDR_0xAAAA_0x5555,\n\tMTD_UADDR_DONT_CARE,\t\t \n\tMTD_UADDR_UNNECESSARY,\t\t \n};\n\n\nstruct unlock_addr {\n\tuint32_t addr1;\n\tuint32_t addr2;\n};\n\n\n \nstatic const struct unlock_addr  unlock_addrs[] = {\n\t[MTD_UADDR_NOT_SUPPORTED] = {\n\t\t.addr1 = 0xffff,\n\t\t.addr2 = 0xffff\n\t},\n\n\t[MTD_UADDR_0x0555_0x02AA] = {\n\t\t.addr1 = 0x0555,\n\t\t.addr2 = 0x02aa\n\t},\n\n\t[MTD_UADDR_0x0555_0x0AAA] = {\n\t\t.addr1 = 0x0555,\n\t\t.addr2 = 0x0aaa\n\t},\n\n\t[MTD_UADDR_0x5555_0x2AAA] = {\n\t\t.addr1 = 0x5555,\n\t\t.addr2 = 0x2aaa\n\t},\n\n\t[MTD_UADDR_0x0AAA_0x0554] = {\n\t\t.addr1 = 0x0AAA,\n\t\t.addr2 = 0x0554\n\t},\n\n\t[MTD_UADDR_0x0AAA_0x0555] = {\n\t\t.addr1 = 0x0AAA,\n\t\t.addr2 = 0x0555\n\t},\n\n\t[MTD_UADDR_0xAAAA_0x5555] = {\n\t\t.addr1 = 0xaaaa,\n\t\t.addr2 = 0x5555\n\t},\n\n\t[MTD_UADDR_DONT_CARE] = {\n\t\t.addr1 = 0x0000,       \n\t\t.addr2 = 0x0000        \n\t},\n\n\t[MTD_UADDR_UNNECESSARY] = {\n\t\t.addr1 = 0x0000,\n\t\t.addr2 = 0x0000\n\t}\n};\n\nstruct amd_flash_info {\n\tconst char *name;\n\tconst uint16_t mfr_id;\n\tconst uint16_t dev_id;\n\tconst uint8_t dev_size;\n\tconst uint8_t nr_regions;\n\tconst uint16_t cmd_set;\n\tconst uint32_t regions[6];\n\tconst uint8_t devtypes;\t\t \n\tconst uint8_t uaddr;\t\t \n};\n\n#define ERASEINFO(size,blocks) (size<<8)|(blocks-1)\n\n#define SIZE_64KiB  16\n#define SIZE_128KiB 17\n#define SIZE_256KiB 18\n#define SIZE_512KiB 19\n#define SIZE_1MiB   20\n#define SIZE_2MiB   21\n#define SIZE_4MiB   22\n#define SIZE_8MiB   23\n\n\n \nstatic const struct amd_flash_info jedec_table[] = {\n\t{\n\t\t.mfr_id\t\t= CFI_MFR_AMD,\n\t\t.dev_id\t\t= AM29F032B,\n\t\t.name\t\t= \"AMD AM29F032B\",\n\t\t.uaddr\t\t= MTD_UADDR_0x0555_0x02AA,\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.dev_size\t= SIZE_4MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,64)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_AMD,\n\t\t.dev_id\t\t= AM29LV160DT,\n\t\t.name\t\t= \"AMD AM29LV160DT\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,31),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x04000,1)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_AMD,\n\t\t.dev_id\t\t= AM29LV160DB,\n\t\t.name\t\t= \"AMD AM29LV160DB\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x04000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x10000,31)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_AMD,\n\t\t.dev_id\t\t= AM29LV400BB,\n\t\t.name\t\t= \"AMD AM29LV400BB\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x04000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x10000,7)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_AMD,\n\t\t.dev_id\t\t= AM29LV400BT,\n\t\t.name\t\t= \"AMD AM29LV400BT\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,7),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x04000,1)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_AMD,\n\t\t.dev_id\t\t= AM29LV800BB,\n\t\t.name\t\t= \"AMD AM29LV800BB\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x04000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x10000,15),\n\t\t}\n\t}, {\n \n\t\t.mfr_id\t\t= CFI_MFR_AMD,\n\t\t.dev_id\t\t= AM29DL800BB,\n\t\t.name\t\t= \"AMD AM29DL800BB\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 6,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x04000,1),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x02000,4),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x04000,1),\n\t\t\tERASEINFO(0x10000,14)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_AMD,\n\t\t.dev_id\t\t= AM29DL800BT,\n\t\t.name\t\t= \"AMD AM29DL800BT\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 6,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,14),\n\t\t\tERASEINFO(0x04000,1),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x02000,4),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x04000,1)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_AMD,\n\t\t.dev_id\t\t= AM29F800BB,\n\t\t.name\t\t= \"AMD AM29F800BB\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x04000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x10000,15),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_AMD,\n\t\t.dev_id\t\t= AM29LV800BT,\n\t\t.name\t\t= \"AMD AM29LV800BT\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,15),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x04000,1)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_AMD,\n\t\t.dev_id\t\t= AM29F800BT,\n\t\t.name\t\t= \"AMD AM29F800BT\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,15),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x04000,1)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_AMD,\n\t\t.dev_id\t\t= AM29F017D,\n\t\t.name\t\t= \"AMD AM29F017D\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_DONT_CARE,\n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,32),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_AMD,\n\t\t.dev_id\t\t= AM29F016D,\n\t\t.name\t\t= \"AMD AM29F016D\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0555_0x02AA,\n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,32),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_AMD,\n\t\t.dev_id\t\t= AM29F080,\n\t\t.name\t\t= \"AMD AM29F080\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0555_0x02AA,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,16),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_AMD,\n\t\t.dev_id\t\t= AM29F040,\n\t\t.name\t\t= \"AMD AM29F040\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0555_0x02AA,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,8),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_AMD,\n\t\t.dev_id\t\t= AM29LV040B,\n\t\t.name\t\t= \"AMD AM29LV040B\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0555_0x02AA,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,8),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_AMD,\n\t\t.dev_id\t\t= AM29F002T,\n\t\t.name\t\t= \"AMD AM29F002T\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0555_0x02AA,\n\t\t.dev_size\t= SIZE_256KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,3),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x04000,1),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_AMD,\n\t\t.dev_id\t\t= AM29SL800DT,\n\t\t.name\t\t= \"AMD AM29SL800DT\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,15),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x04000,1),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_AMD,\n\t\t.dev_id\t\t= AM29SL800DB,\n\t\t.name\t\t= \"AMD AM29SL800DB\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x04000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x10000,15),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_ATMEL,\n\t\t.dev_id\t\t= AT49BV512,\n\t\t.name\t\t= \"Atmel AT49BV512\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x5555_0x2AAA,\n\t\t.dev_size\t= SIZE_64KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,1)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_ATMEL,\n\t\t.dev_id\t\t= AT29LV512,\n\t\t.name\t\t= \"Atmel AT29LV512\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x5555_0x2AAA,\n\t\t.dev_size\t= SIZE_64KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x80,256),\n\t\t\tERASEINFO(0x80,256)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_ATMEL,\n\t\t.dev_id\t\t= AT49BV16X,\n\t\t.name\t\t= \"Atmel AT49BV16X\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0555_0x0AAA,\t \n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x02000,8),\n\t\t\tERASEINFO(0x10000,31)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_ATMEL,\n\t\t.dev_id\t\t= AT49BV16XT,\n\t\t.name\t\t= \"Atmel AT49BV16XT\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0555_0x0AAA,\t \n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,31),\n\t\t\tERASEINFO(0x02000,8)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_ATMEL,\n\t\t.dev_id\t\t= AT49BV32X,\n\t\t.name\t\t= \"Atmel AT49BV32X\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0555_0x0AAA,\t \n\t\t.dev_size\t= SIZE_4MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x02000,8),\n\t\t\tERASEINFO(0x10000,63)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_ATMEL,\n\t\t.dev_id\t\t= AT49BV32XT,\n\t\t.name\t\t= \"Atmel AT49BV32XT\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0555_0x0AAA,\t \n\t\t.dev_size\t= SIZE_4MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,63),\n\t\t\tERASEINFO(0x02000,8)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_EON,\n\t\t.dev_id\t\t= EN29LV400AT,\n\t\t.name\t\t= \"Eon EN29LV400AT\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,7),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x04000,1),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_EON,\n\t\t.dev_id\t\t= EN29LV400AB,\n\t\t.name\t\t= \"Eon EN29LV400AB\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x04000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x10000,7),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_EON,\n\t\t.dev_id\t\t= EN29SL800BT,\n\t\t.name\t\t= \"Eon EN29SL800BT\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,15),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x04000,1),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_EON,\n\t\t.dev_id\t\t= EN29SL800BB,\n\t\t.name\t\t= \"Eon EN29SL800BB\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x04000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x10000,15),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_FUJITSU,\n\t\t.dev_id\t\t= MBM29F040C,\n\t\t.name\t\t= \"Fujitsu MBM29F040C\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,8)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_FUJITSU,\n\t\t.dev_id\t\t= MBM29F800BA,\n\t\t.name\t\t= \"Fujitsu MBM29F800BA\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x04000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x10000,15),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_FUJITSU,\n\t\t.dev_id\t\t= MBM29LV650UE,\n\t\t.name\t\t= \"Fujitsu MBM29LV650UE\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_DONT_CARE,\n\t\t.dev_size\t= SIZE_8MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,128)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_FUJITSU,\n\t\t.dev_id\t\t= MBM29LV320TE,\n\t\t.name\t\t= \"Fujitsu MBM29LV320TE\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_4MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,63),\n\t\t\tERASEINFO(0x02000,8)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_FUJITSU,\n\t\t.dev_id\t\t= MBM29LV320BE,\n\t\t.name\t\t= \"Fujitsu MBM29LV320BE\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_4MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x02000,8),\n\t\t\tERASEINFO(0x10000,63)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_FUJITSU,\n\t\t.dev_id\t\t= MBM29LV160TE,\n\t\t.name\t\t= \"Fujitsu MBM29LV160TE\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,31),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x04000,1)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_FUJITSU,\n\t\t.dev_id\t\t= MBM29LV160BE,\n\t\t.name\t\t= \"Fujitsu MBM29LV160BE\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x04000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x10000,31)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_FUJITSU,\n\t\t.dev_id\t\t= MBM29LV800BA,\n\t\t.name\t\t= \"Fujitsu MBM29LV800BA\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x04000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x10000,15)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_FUJITSU,\n\t\t.dev_id\t\t= MBM29LV800TA,\n\t\t.name\t\t= \"Fujitsu MBM29LV800TA\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,15),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x04000,1)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_FUJITSU,\n\t\t.dev_id\t\t= MBM29LV400BC,\n\t\t.name\t\t= \"Fujitsu MBM29LV400BC\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x04000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x10000,7)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_FUJITSU,\n\t\t.dev_id\t\t= MBM29LV400TC,\n\t\t.name\t\t= \"Fujitsu MBM29LV400TC\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,7),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x04000,1)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_HYUNDAI,\n\t\t.dev_id\t\t= HY29F002T,\n\t\t.name\t\t= \"Hyundai HY29F002T\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0555_0x02AA,\n\t\t.dev_size\t= SIZE_256KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,3),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x04000,1),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_INTEL,\n\t\t.dev_id\t\t= I28F004B3B,\n\t\t.name\t\t= \"Intel 28F004B3B\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_INTEL_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x02000, 8),\n\t\t\tERASEINFO(0x10000, 7),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_INTEL,\n\t\t.dev_id\t\t= I28F004B3T,\n\t\t.name\t\t= \"Intel 28F004B3T\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_INTEL_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000, 7),\n\t\t\tERASEINFO(0x02000, 8),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_INTEL,\n\t\t.dev_id\t\t= I28F400B3B,\n\t\t.name\t\t= \"Intel 28F400B3B\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_INTEL_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x02000, 8),\n\t\t\tERASEINFO(0x10000, 7),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_INTEL,\n\t\t.dev_id\t\t= I28F400B3T,\n\t\t.name\t\t= \"Intel 28F400B3T\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_INTEL_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000, 7),\n\t\t\tERASEINFO(0x02000, 8),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_INTEL,\n\t\t.dev_id\t\t= I28F008B3B,\n\t\t.name\t\t= \"Intel 28F008B3B\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_INTEL_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x02000, 8),\n\t\t\tERASEINFO(0x10000, 15),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_INTEL,\n\t\t.dev_id\t\t= I28F008B3T,\n\t\t.name\t\t= \"Intel 28F008B3T\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_INTEL_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000, 15),\n\t\t\tERASEINFO(0x02000, 8),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_INTEL,\n\t\t.dev_id\t\t= I28F008S5,\n\t\t.name\t\t= \"Intel 28F008S5\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_INTEL_EXT,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,16),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_INTEL,\n\t\t.dev_id\t\t= I28F016S5,\n\t\t.name\t\t= \"Intel 28F016S5\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_INTEL_EXT,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,32),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_INTEL,\n\t\t.dev_id\t\t= I28F008SA,\n\t\t.name\t\t= \"Intel 28F008SA\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_INTEL_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000, 16),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_INTEL,\n\t\t.dev_id\t\t= I28F800B3B,\n\t\t.name\t\t= \"Intel 28F800B3B\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_INTEL_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x02000, 8),\n\t\t\tERASEINFO(0x10000, 15),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_INTEL,\n\t\t.dev_id\t\t= I28F800B3T,\n\t\t.name\t\t= \"Intel 28F800B3T\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_INTEL_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000, 15),\n\t\t\tERASEINFO(0x02000, 8),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_INTEL,\n\t\t.dev_id\t\t= I28F016B3B,\n\t\t.name\t\t= \"Intel 28F016B3B\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_INTEL_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x02000, 8),\n\t\t\tERASEINFO(0x10000, 31),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_INTEL,\n\t\t.dev_id\t\t= I28F016S3,\n\t\t.name\t\t= \"Intel I28F016S3\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_INTEL_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000, 32),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_INTEL,\n\t\t.dev_id\t\t= I28F016B3T,\n\t\t.name\t\t= \"Intel 28F016B3T\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_INTEL_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000, 31),\n\t\t\tERASEINFO(0x02000, 8),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_INTEL,\n\t\t.dev_id\t\t= I28F160B3B,\n\t\t.name\t\t= \"Intel 28F160B3B\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_INTEL_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x02000, 8),\n\t\t\tERASEINFO(0x10000, 31),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_INTEL,\n\t\t.dev_id\t\t= I28F160B3T,\n\t\t.name\t\t= \"Intel 28F160B3T\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_INTEL_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000, 31),\n\t\t\tERASEINFO(0x02000, 8),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_INTEL,\n\t\t.dev_id\t\t= I28F320B3B,\n\t\t.name\t\t= \"Intel 28F320B3B\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_4MiB,\n\t\t.cmd_set\t= P_ID_INTEL_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x02000, 8),\n\t\t\tERASEINFO(0x10000, 63),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_INTEL,\n\t\t.dev_id\t\t= I28F320B3T,\n\t\t.name\t\t= \"Intel 28F320B3T\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_4MiB,\n\t\t.cmd_set\t= P_ID_INTEL_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000, 63),\n\t\t\tERASEINFO(0x02000, 8),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_INTEL,\n\t\t.dev_id\t\t= I28F640B3B,\n\t\t.name\t\t= \"Intel 28F640B3B\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_8MiB,\n\t\t.cmd_set\t= P_ID_INTEL_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x02000, 8),\n\t\t\tERASEINFO(0x10000, 127),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_INTEL,\n\t\t.dev_id\t\t= I28F640B3T,\n\t\t.name\t\t= \"Intel 28F640B3T\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_8MiB,\n\t\t.cmd_set\t= P_ID_INTEL_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000, 127),\n\t\t\tERASEINFO(0x02000, 8),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_INTEL,\n\t\t.dev_id\t\t= I28F640C3B,\n\t\t.name\t\t= \"Intel 28F640C3B\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_8MiB,\n\t\t.cmd_set\t= P_ID_INTEL_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x02000, 8),\n\t\t\tERASEINFO(0x10000, 127),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_INTEL,\n\t\t.dev_id\t\t= I82802AB,\n\t\t.name\t\t= \"Intel 82802AB\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_INTEL_EXT,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,8),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_INTEL,\n\t\t.dev_id\t\t= I82802AC,\n\t\t.name\t\t= \"Intel 82802AC\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_INTEL_EXT,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,16),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_MACRONIX,\n\t\t.dev_id\t\t= MX29LV040C,\n\t\t.name\t\t= \"Macronix MX29LV040C\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0555_0x02AA,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,8),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_MACRONIX,\n\t\t.dev_id\t\t= MX29LV160T,\n\t\t.name\t\t= \"MXIC MX29LV160T\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,31),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x04000,1)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_NEC,\n\t\t.dev_id\t\t= UPD29F064115,\n\t\t.name\t\t= \"NEC uPD29F064115\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16,\n\t\t.uaddr\t\t= MTD_UADDR_0xAAAA_0x5555,\n\t\t.dev_size\t= SIZE_8MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 3,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x2000,8),\n\t\t\tERASEINFO(0x10000,126),\n\t\t\tERASEINFO(0x2000,8),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_MACRONIX,\n\t\t.dev_id\t\t= MX29LV160B,\n\t\t.name\t\t= \"MXIC MX29LV160B\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x04000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x10000,31)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_MACRONIX,\n\t\t.dev_id\t\t= MX29F040,\n\t\t.name\t\t= \"Macronix MX29F040\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0555_0x02AA,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,8),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_MACRONIX,\n\t\t.dev_id\t\t= MX29F016,\n\t\t.name\t\t= \"Macronix MX29F016\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0555_0x02AA,\n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,32),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_MACRONIX,\n\t\t.dev_id\t\t= MX29F004T,\n\t\t.name\t\t= \"Macronix MX29F004T\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0555_0x02AA,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,7),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x04000,1),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_MACRONIX,\n\t\t.dev_id\t\t= MX29F004B,\n\t\t.name\t\t= \"Macronix MX29F004B\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0555_0x02AA,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x04000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x10000,7),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_MACRONIX,\n\t\t.dev_id\t\t= MX29F002T,\n\t\t.name\t\t= \"Macronix MX29F002T\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0555_0x02AA,\n\t\t.dev_size\t= SIZE_256KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,3),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x04000,1),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_PMC,\n\t\t.dev_id\t\t= PM49FL002,\n\t\t.name\t\t= \"PMC Pm49FL002\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x5555_0x2AAA,\n\t\t.dev_size\t= SIZE_256KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO( 0x01000, 64 )\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_PMC,\n\t\t.dev_id\t\t= PM49FL004,\n\t\t.name\t\t= \"PMC Pm49FL004\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x5555_0x2AAA,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO( 0x01000, 128 )\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_PMC,\n\t\t.dev_id\t\t= PM49FL008,\n\t\t.name\t\t= \"PMC Pm49FL008\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x5555_0x2AAA,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO( 0x01000, 256 )\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_SHARP,\n\t\t.dev_id\t\t= LH28F640BF,\n\t\t.name\t\t= \"LH28F640BF\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_8MiB,\n\t\t.cmd_set\t= P_ID_INTEL_EXT,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000, 127),\n\t\t\tERASEINFO(0x02000, 8),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_SST,\n\t\t.dev_id\t\t= SST39LF512,\n\t\t.name\t\t= \"SST 39LF512\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x5555_0x2AAA,\n\t\t.dev_size\t= SIZE_64KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x01000,16),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_SST,\n\t\t.dev_id\t\t= SST39LF010,\n\t\t.name\t\t= \"SST 39LF010\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x5555_0x2AAA,\n\t\t.dev_size\t= SIZE_128KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x01000,32),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_SST,\n\t\t.dev_id\t\t= SST29EE020,\n\t\t.name\t\t= \"SST 29EE020\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x5555_0x2AAA,\n\t\t.dev_size\t= SIZE_256KiB,\n\t\t.cmd_set\t= P_ID_SST_PAGE,\n\t\t.nr_regions\t= 1,\n\t\t.regions = {ERASEINFO(0x01000,64),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_SST,\n\t\t.dev_id\t\t= SST29LE020,\n\t\t.name\t\t= \"SST 29LE020\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x5555_0x2AAA,\n\t\t.dev_size\t= SIZE_256KiB,\n\t\t.cmd_set\t= P_ID_SST_PAGE,\n\t\t.nr_regions\t= 1,\n\t\t.regions = {ERASEINFO(0x01000,64),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_SST,\n\t\t.dev_id\t\t= SST39LF020,\n\t\t.name\t\t= \"SST 39LF020\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x5555_0x2AAA,\n\t\t.dev_size\t= SIZE_256KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x01000,64),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_SST,\n\t\t.dev_id\t\t= SST39LF040,\n\t\t.name\t\t= \"SST 39LF040\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x5555_0x2AAA,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x01000,128),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_SST,\n\t\t.dev_id\t\t= SST39SF010A,\n\t\t.name\t\t= \"SST 39SF010A\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x5555_0x2AAA,\n\t\t.dev_size\t= SIZE_128KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x01000,32),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_SST,\n\t\t.dev_id\t\t= SST39SF020A,\n\t\t.name\t\t= \"SST 39SF020A\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x5555_0x2AAA,\n\t\t.dev_size\t= SIZE_256KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x01000,64),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_SST,\n\t\t.dev_id\t\t= SST39SF040,\n\t\t.name\t\t= \"SST 39SF040\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x5555_0x2AAA,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x01000,128),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_SST,\n\t\t.dev_id\t\t= SST49LF040B,\n\t\t.name\t\t= \"SST 49LF040B\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x5555_0x2AAA,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x01000,128),\n\t\t}\n\t}, {\n\n\t\t.mfr_id\t\t= CFI_MFR_SST,\n\t\t.dev_id\t\t= SST49LF004B,\n\t\t.name\t\t= \"SST 49LF004B\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x5555_0x2AAA,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x01000,128),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_SST,\n\t\t.dev_id\t\t= SST49LF008A,\n\t\t.name\t\t= \"SST 49LF008A\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x5555_0x2AAA,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x01000,256),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_SST,\n\t\t.dev_id\t\t= SST49LF030A,\n\t\t.name\t\t= \"SST 49LF030A\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x5555_0x2AAA,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x01000,96),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_SST,\n\t\t.dev_id\t\t= SST49LF040A,\n\t\t.name\t\t= \"SST 49LF040A\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x5555_0x2AAA,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x01000,128),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_SST,\n\t\t.dev_id\t\t= SST49LF080A,\n\t\t.name\t\t= \"SST 49LF080A\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x5555_0x2AAA,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x01000,256),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_SST,      \n\t\t.dev_id\t\t= SST39LF160,\n\t\t.name\t\t= \"SST 39LF160\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16,\n\t\t.uaddr\t\t= MTD_UADDR_0xAAAA_0x5555,\n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x1000,256),\n\t\t\tERASEINFO(0x1000,256)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_SST,      \n\t\t.dev_id\t\t= SST39VF1601,\n\t\t.name\t\t= \"SST 39VF1601\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16,\n\t\t.uaddr\t\t= MTD_UADDR_0xAAAA_0x5555,\n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x1000,256),\n\t\t\tERASEINFO(0x1000,256)\n\t\t}\n\t}, {\n\t\t \n\t\t.mfr_id\t\t= CFI_MFR_SST,\n\t\t.dev_id\t\t= SST39WF1601,\n\t\t.name\t\t= \"SST 39WF1601\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16,\n\t\t.uaddr\t\t= MTD_UADDR_0xAAAA_0x5555,\n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x1000,256),\n\t\t\tERASEINFO(0x1000,256)\n\t\t}\n\t}, {\n\t\t \n\t\t.mfr_id\t\t= CFI_MFR_SST,\n\t\t.dev_id\t\t= SST39WF1602,\n\t\t.name\t\t= \"SST 39WF1602\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16,\n\t\t.uaddr\t\t= MTD_UADDR_0xAAAA_0x5555,\n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x1000,256),\n\t\t\tERASEINFO(0x1000,256)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_SST,      \n\t\t.dev_id\t\t= SST39VF3201,\n\t\t.name\t\t= \"SST 39VF3201\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16,\n\t\t.uaddr\t\t= MTD_UADDR_0xAAAA_0x5555,\n\t\t.dev_size\t= SIZE_4MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x1000,256),\n\t\t\tERASEINFO(0x1000,256),\n\t\t\tERASEINFO(0x1000,256),\n\t\t\tERASEINFO(0x1000,256)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_SST,\n\t\t.dev_id\t\t= SST36VF3203,\n\t\t.name\t\t= \"SST 36VF3203\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_4MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,64),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_ST,\n\t\t.dev_id\t\t= M29F800AB,\n\t\t.name\t\t= \"ST M29F800AB\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x04000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x10000,15),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_ST,\t \n\t\t.dev_id\t\t= M29W800DT,\n\t\t.name\t\t= \"ST M29W800DT\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,15),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x04000,1)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_ST,\t \n\t\t.dev_id\t\t= M29W800DB,\n\t\t.name\t\t= \"ST M29W800DB\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x04000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x10000,15)\n\t\t}\n\t},  {\n\t\t.mfr_id         = CFI_MFR_ST,\n\t\t.dev_id         = M29W400DT,\n\t\t.name           = \"ST M29W400DT\",\n\t\t.devtypes       = CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr          = MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size       = SIZE_512KiB,\n\t\t.cmd_set        = P_ID_AMD_STD,\n\t\t.nr_regions     = 4,\n\t\t.regions        = {\n\t\t\tERASEINFO(0x04000,7),\n\t\t\tERASEINFO(0x02000,1),\n\t\t\tERASEINFO(0x08000,2),\n\t\t\tERASEINFO(0x10000,1)\n\t\t}\n\t}, {\n\t\t.mfr_id         = CFI_MFR_ST,\n\t\t.dev_id         = M29W400DB,\n\t\t.name           = \"ST M29W400DB\",\n\t\t.devtypes       = CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr          = MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size       = SIZE_512KiB,\n\t\t.cmd_set        = P_ID_AMD_STD,\n\t\t.nr_regions     = 4,\n\t\t.regions        = {\n\t\t\tERASEINFO(0x04000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x10000,7)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_ST,\t \n\t\t.dev_id\t\t= M29W160DT,\n\t\t.name\t\t= \"ST M29W160DT\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0555_0x02AA,\t \n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,31),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x04000,1)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_ST,\t \n\t\t.dev_id\t\t= M29W160DB,\n\t\t.name\t\t= \"ST M29W160DB\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0555_0x02AA,\t \n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x04000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x10000,31)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_ST,\n\t\t.dev_id\t\t= M29W040B,\n\t\t.name\t\t= \"ST M29W040B\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0555_0x02AA,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,8),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_ST,\n\t\t.dev_id\t\t= M50FW040,\n\t\t.name\t\t= \"ST M50FW040\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_512KiB,\n\t\t.cmd_set\t= P_ID_INTEL_EXT,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,8),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_ST,\n\t\t.dev_id\t\t= M50FW080,\n\t\t.name\t\t= \"ST M50FW080\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_INTEL_EXT,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,16),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_ST,\n\t\t.dev_id\t\t= M50FW016,\n\t\t.name\t\t= \"ST M50FW016\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_INTEL_EXT,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,32),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_ST,\n\t\t.dev_id\t\t= M50LPW080,\n\t\t.name\t\t= \"ST M50LPW080\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_INTEL_EXT,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,16),\n\t\t},\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_ST,\n\t\t.dev_id\t\t= M50FLW080A,\n\t\t.name\t\t= \"ST M50FLW080A\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_INTEL_EXT,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x1000,16),\n\t\t\tERASEINFO(0x10000,13),\n\t\t\tERASEINFO(0x1000,16),\n\t\t\tERASEINFO(0x1000,16),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_ST,\n\t\t.dev_id\t\t= M50FLW080B,\n\t\t.name\t\t= \"ST M50FLW080B\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_UNNECESSARY,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_INTEL_EXT,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x1000,16),\n\t\t\tERASEINFO(0x1000,16),\n\t\t\tERASEINFO(0x10000,13),\n\t\t\tERASEINFO(0x1000,16),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= 0xff00 | CFI_MFR_ST,\n\t\t.dev_id\t\t= 0xff00 | PSD4256G6V,\n\t\t.name\t\t= \"ST PSD4256G6V\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0554,\n\t\t.dev_size\t= SIZE_1MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 1,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,16),\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_TOSHIBA,\n\t\t.dev_id\t\t= TC58FVT160,\n\t\t.name\t\t= \"Toshiba TC58FVT160\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,31),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x04000,1)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_TOSHIBA,\n\t\t.dev_id\t\t= TC58FVB160,\n\t\t.name\t\t= \"Toshiba TC58FVB160\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_2MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x04000,1),\n\t\t\tERASEINFO(0x02000,2),\n\t\t\tERASEINFO(0x08000,1),\n\t\t\tERASEINFO(0x10000,31)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_TOSHIBA,\n\t\t.dev_id\t\t= TC58FVB321,\n\t\t.name\t\t= \"Toshiba TC58FVB321\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_4MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x02000,8),\n\t\t\tERASEINFO(0x10000,63)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_TOSHIBA,\n\t\t.dev_id\t\t= TC58FVT321,\n\t\t.name\t\t= \"Toshiba TC58FVT321\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_4MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,63),\n\t\t\tERASEINFO(0x02000,8)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_TOSHIBA,\n\t\t.dev_id\t\t= TC58FVB641,\n\t\t.name\t\t= \"Toshiba TC58FVB641\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_8MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x02000,8),\n\t\t\tERASEINFO(0x10000,127)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_TOSHIBA,\n\t\t.dev_id\t\t= TC58FVT641,\n\t\t.name\t\t= \"Toshiba TC58FVT641\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X16|CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x0AAA_0x0555,\n\t\t.dev_size\t= SIZE_8MiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 2,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000,127),\n\t\t\tERASEINFO(0x02000,8)\n\t\t}\n\t}, {\n\t\t.mfr_id\t\t= CFI_MFR_WINBOND,\n\t\t.dev_id\t\t= W49V002A,\n\t\t.name\t\t= \"Winbond W49V002A\",\n\t\t.devtypes\t= CFI_DEVICETYPE_X8,\n\t\t.uaddr\t\t= MTD_UADDR_0x5555_0x2AAA,\n\t\t.dev_size\t= SIZE_256KiB,\n\t\t.cmd_set\t= P_ID_AMD_STD,\n\t\t.nr_regions\t= 4,\n\t\t.regions\t= {\n\t\t\tERASEINFO(0x10000, 3),\n\t\t\tERASEINFO(0x08000, 1),\n\t\t\tERASEINFO(0x02000, 2),\n\t\t\tERASEINFO(0x04000, 1),\n\t\t}\n\t}\n};\n\nstatic inline u32 jedec_read_mfr(struct map_info *map, uint32_t base,\n\tstruct cfi_private *cfi)\n{\n\tmap_word result;\n\tunsigned long mask;\n\tint bank = 0;\n\n\t \n\tdo {\n\t\tuint32_t ofs = cfi_build_cmd_addr(0 + (bank << 8), map, cfi);\n\t\tmask = (1 << (cfi->device_type * 8)) - 1;\n\t\tif (ofs >= map->size)\n\t\t\treturn 0;\n\t\tresult = map_read(map, base + ofs);\n\t\tbank++;\n\t} while ((result.x[0] & mask) == CFI_MFR_CONTINUATION);\n\n\treturn result.x[0] & mask;\n}\n\nstatic inline u32 jedec_read_id(struct map_info *map, uint32_t base,\n\tstruct cfi_private *cfi)\n{\n\tmap_word result;\n\tunsigned long mask;\n\tu32 ofs = cfi_build_cmd_addr(1, map, cfi);\n\tmask = (1 << (cfi->device_type * 8)) -1;\n\tresult = map_read(map, base + ofs);\n\treturn result.x[0] & mask;\n}\n\nstatic void jedec_reset(u32 base, struct map_info *map, struct cfi_private *cfi)\n{\n\t \n\n\t \n\tif (cfi->addr_unlock1) {\n\t\tpr_debug( \"reset unlock called %x %x \\n\",\n\t\t       cfi->addr_unlock1,cfi->addr_unlock2);\n\t\tcfi_send_gen_cmd(0xaa, cfi->addr_unlock1, base, map, cfi, cfi->device_type, NULL);\n\t\tcfi_send_gen_cmd(0x55, cfi->addr_unlock2, base, map, cfi, cfi->device_type, NULL);\n\t}\n\n\tcfi_send_gen_cmd(0xF0, cfi->addr_unlock1, base, map, cfi, cfi->device_type, NULL);\n\t \n\tcfi_send_gen_cmd(0xFF, 0, base, map, cfi, cfi->device_type, NULL);\n\t \n}\n\n\nstatic int cfi_jedec_setup(struct map_info *map, struct cfi_private *cfi, int index)\n{\n\tint i,num_erase_regions;\n\tuint8_t uaddr;\n\n\tif (!(jedec_table[index].devtypes & cfi->device_type)) {\n\t\tpr_debug(\"Rejecting potential %s with incompatible %d-bit device type\\n\",\n\t\t      jedec_table[index].name, 4 * (1<<cfi->device_type));\n\t\treturn 0;\n\t}\n\n\tprintk(KERN_INFO \"Found: %s\\n\",jedec_table[index].name);\n\n\tnum_erase_regions = jedec_table[index].nr_regions;\n\n\tcfi->cfiq = kmalloc(sizeof(struct cfi_ident) + num_erase_regions * 4, GFP_KERNEL);\n\tif (!cfi->cfiq) {\n\t\t\n\t\treturn 0;\n\t}\n\n\tmemset(cfi->cfiq, 0, sizeof(struct cfi_ident));\n\n\tcfi->cfiq->P_ID = jedec_table[index].cmd_set;\n\tcfi->cfiq->NumEraseRegions = jedec_table[index].nr_regions;\n\tcfi->cfiq->DevSize = jedec_table[index].dev_size;\n\tcfi->cfi_mode = CFI_MODE_JEDEC;\n\tcfi->sector_erase_cmd = CMD(0x30);\n\n\tfor (i=0; i<num_erase_regions; i++){\n\t\tcfi->cfiq->EraseRegionInfo[i] = jedec_table[index].regions[i];\n\t}\n\tcfi->cmdset_priv = NULL;\n\n\t \n\tcfi->mfr = jedec_table[index].mfr_id;\n\tcfi->id = jedec_table[index].dev_id;\n\n\tuaddr = jedec_table[index].uaddr;\n\n\t \n\tcfi->addr_unlock1 = unlock_addrs[uaddr].addr1 / cfi->device_type;\n\tcfi->addr_unlock2 = unlock_addrs[uaddr].addr2 / cfi->device_type;\n\n\treturn 1;\t \n}\n\n\n \nstatic inline int jedec_match( uint32_t base,\n\t\t\t       struct map_info *map,\n\t\t\t       struct cfi_private *cfi,\n\t\t\t       const struct amd_flash_info *finfo )\n{\n\tint rc = 0;            \n\tu32 mfr, id;\n\tuint8_t uaddr;\n\n\t \n\tswitch (cfi->device_type) {\n\tcase CFI_DEVICETYPE_X8:\n\t\tmfr = (uint8_t)finfo->mfr_id;\n\t\tid = (uint8_t)finfo->dev_id;\n\n\t\t \n\t\tif (finfo->dev_id > 0xff) {\n\t\t\tpr_debug(\"%s(): ID is not 8bit\\n\",\n\t\t\t       __func__);\n\t\t\tgoto match_done;\n\t\t}\n\t\tbreak;\n\tcase CFI_DEVICETYPE_X16:\n\t\tmfr = (uint16_t)finfo->mfr_id;\n\t\tid = (uint16_t)finfo->dev_id;\n\t\tbreak;\n\tcase CFI_DEVICETYPE_X32:\n\t\tmfr = (uint16_t)finfo->mfr_id;\n\t\tid = (uint32_t)finfo->dev_id;\n\t\tbreak;\n\tdefault:\n\t\tprintk(KERN_WARNING\n\t\t       \"MTD %s(): Unsupported device type %d\\n\",\n\t\t       __func__, cfi->device_type);\n\t\tgoto match_done;\n\t}\n\tif ( cfi->mfr != mfr || cfi->id != id ) {\n\t\tgoto match_done;\n\t}\n\n\t \n\tpr_debug(\"MTD %s(): Check fit 0x%.8x + 0x%.8x = 0x%.8x\\n\",\n\t       __func__, base, 1 << finfo->dev_size, base + (1 << finfo->dev_size) );\n\tif ( base + cfi_interleave(cfi) * ( 1 << finfo->dev_size ) > map->size ) {\n\t\tpr_debug(\"MTD %s(): 0x%.4x 0x%.4x %dKiB doesn't fit\\n\",\n\t\t       __func__, finfo->mfr_id, finfo->dev_id,\n\t\t       1 << finfo->dev_size );\n\t\tgoto match_done;\n\t}\n\n\tif (! (finfo->devtypes & cfi->device_type))\n\t\tgoto match_done;\n\n\tuaddr = finfo->uaddr;\n\n\tpr_debug(\"MTD %s(): check unlock addrs 0x%.4x 0x%.4x\\n\",\n\t       __func__, cfi->addr_unlock1, cfi->addr_unlock2 );\n\tif ( MTD_UADDR_UNNECESSARY != uaddr && MTD_UADDR_DONT_CARE != uaddr\n\t     && ( unlock_addrs[uaddr].addr1 / cfi->device_type != cfi->addr_unlock1 ||\n\t\t  unlock_addrs[uaddr].addr2 / cfi->device_type != cfi->addr_unlock2 ) ) {\n\t\tpr_debug(\"MTD %s(): 0x%.4x 0x%.4x did not match\\n\",\n\t\t\t__func__,\n\t\t\tunlock_addrs[uaddr].addr1,\n\t\t\tunlock_addrs[uaddr].addr2);\n\t\tgoto match_done;\n\t}\n\n\t \n\tpr_debug(\"MTD %s(): check ID's disappear when not in ID mode\\n\",\n\t       __func__ );\n\tjedec_reset( base, map, cfi );\n\tmfr = jedec_read_mfr( map, base, cfi );\n\tid = jedec_read_id( map, base, cfi );\n\tif ( mfr == cfi->mfr && id == cfi->id ) {\n\t\tpr_debug(\"MTD %s(): ID 0x%.2x:0x%.2x did not change after reset:\\n\"\n\t\t       \"You might need to manually specify JEDEC parameters.\\n\",\n\t\t\t__func__, cfi->mfr, cfi->id );\n\t\tgoto match_done;\n\t}\n\n\t \n\trc = 1;\n\n\t \n\tpr_debug(\"MTD %s(): return to ID mode\\n\", __func__ );\n\tif (cfi->addr_unlock1) {\n\t\tcfi_send_gen_cmd(0xaa, cfi->addr_unlock1, base, map, cfi, cfi->device_type, NULL);\n\t\tcfi_send_gen_cmd(0x55, cfi->addr_unlock2, base, map, cfi, cfi->device_type, NULL);\n\t}\n\tcfi_send_gen_cmd(0x90, cfi->addr_unlock1, base, map, cfi, cfi->device_type, NULL);\n\t \n\n match_done:\n\treturn rc;\n}\n\n\nstatic int jedec_probe_chip(struct map_info *map, __u32 base,\n\t\t\t    unsigned long *chip_map, struct cfi_private *cfi)\n{\n\tint i;\n\tenum uaddr uaddr_idx = MTD_UADDR_NOT_SUPPORTED;\n\tu32 probe_offset1, probe_offset2;\n\n retry:\n\tif (!cfi->numchips) {\n\t\tuaddr_idx++;\n\n\t\tif (MTD_UADDR_UNNECESSARY == uaddr_idx)\n\t\t\treturn 0;\n\n\t\tcfi->addr_unlock1 = unlock_addrs[uaddr_idx].addr1 / cfi->device_type;\n\t\tcfi->addr_unlock2 = unlock_addrs[uaddr_idx].addr2 / cfi->device_type;\n\t}\n\n\t \n\tif (base >= map->size) {\n\t\tprintk(KERN_NOTICE\n\t\t\t\"Probe at base(0x%08x) past the end of the map(0x%08lx)\\n\",\n\t\t\tbase, map->size -1);\n\t\treturn 0;\n\n\t}\n\t \n\tprobe_offset1 = cfi_build_cmd_addr(cfi->addr_unlock1, map, cfi);\n\tprobe_offset2 = cfi_build_cmd_addr(cfi->addr_unlock2, map, cfi);\n\tif (\t((base + probe_offset1 + map_bankwidth(map)) >= map->size) ||\n\t\t((base + probe_offset2 + map_bankwidth(map)) >= map->size))\n\t\tgoto retry;\n\n\t \n\tjedec_reset(base, map, cfi);\n\n\t \n\tif(cfi->addr_unlock1) {\n\t\tcfi_send_gen_cmd(0xaa, cfi->addr_unlock1, base, map, cfi, cfi->device_type, NULL);\n\t\tcfi_send_gen_cmd(0x55, cfi->addr_unlock2, base, map, cfi, cfi->device_type, NULL);\n\t}\n\tcfi_send_gen_cmd(0x90, cfi->addr_unlock1, base, map, cfi, cfi->device_type, NULL);\n\t \n\n\tif (!cfi->numchips) {\n\t\t \n\n\t\tcfi->mfr = jedec_read_mfr(map, base, cfi);\n\t\tcfi->id = jedec_read_id(map, base, cfi);\n\t\tpr_debug(\"Search for id:(%02x %02x) interleave(%d) type(%d)\\n\",\n\t\t\tcfi->mfr, cfi->id, cfi_interleave(cfi), cfi->device_type);\n\t\tfor (i = 0; i < ARRAY_SIZE(jedec_table); i++) {\n\t\t\tif ( jedec_match( base, map, cfi, &jedec_table[i] ) ) {\n\t\t\t\tpr_debug(\"MTD %s(): matched device 0x%x,0x%x unlock_addrs: 0x%.4x 0x%.4x\\n\",\n\t\t\t\t       __func__, cfi->mfr, cfi->id,\n\t\t\t\t       cfi->addr_unlock1, cfi->addr_unlock2 );\n\t\t\t\tif (!cfi_jedec_setup(map, cfi, i))\n\t\t\t\t\treturn 0;\n\t\t\t\tgoto ok_out;\n\t\t\t}\n\t\t}\n\t\tgoto retry;\n\t} else {\n\t\tuint16_t mfr;\n\t\tuint16_t id;\n\n\t\t \n\t\tmfr = jedec_read_mfr(map, base, cfi);\n\t\tid = jedec_read_id(map, base, cfi);\n\n\t\tif ((mfr != cfi->mfr) || (id != cfi->id)) {\n\t\t\tprintk(KERN_DEBUG \"%s: Found different chip or no chip at all (mfr 0x%x, id 0x%x) at 0x%x\\n\",\n\t\t\t       map->name, mfr, id, base);\n\t\t\tjedec_reset(base, map, cfi);\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\t \n\tfor (i=0; i < (base >> cfi->chipshift); i++) {\n\t\tunsigned long start;\n\t\tif(!test_bit(i, chip_map)) {\n\t\t\tcontinue;  \n\t\t}\n\t\tstart = i << cfi->chipshift;\n\t\tif (jedec_read_mfr(map, start, cfi) == cfi->mfr &&\n\t\t    jedec_read_id(map, start, cfi) == cfi->id) {\n\t\t\t \n\t\t\tjedec_reset(start, map, cfi);\n\n\t\t\t \n\t\t\tif (jedec_read_mfr(map, base, cfi) != cfi->mfr ||\n\t\t\t    jedec_read_id(map, base, cfi) != cfi->id) {\n\t\t\t\tprintk(KERN_DEBUG \"%s: Found an alias at 0x%x for the chip at 0x%lx\\n\",\n\t\t\t\t       map->name, base, start);\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\t \n\t\t\t \n\t\t\tjedec_reset(base, map, cfi);\n\t\t\tif (jedec_read_mfr(map, base, cfi) == cfi->mfr &&\n\t\t\t    jedec_read_id(map, base, cfi) == cfi->id) {\n\t\t\t\tprintk(KERN_DEBUG \"%s: Found an alias at 0x%x for the chip at 0x%lx\\n\",\n\t\t\t\t       map->name, base, start);\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t \n\tset_bit((base >> cfi->chipshift), chip_map);  \n\tcfi->numchips++;\n\nok_out:\n\t \n\tjedec_reset(base, map, cfi);\n\n\tprintk(KERN_INFO \"%s: Found %d x%d devices at 0x%x in %d-bit bank\\n\",\n\t       map->name, cfi_interleave(cfi), cfi->device_type*8, base,\n\t       map->bankwidth*8);\n\n\treturn 1;\n}\n\nstatic struct chip_probe jedec_chip_probe = {\n\t.name = \"JEDEC\",\n\t.probe_chip = jedec_probe_chip\n};\n\nstatic struct mtd_info *jedec_probe(struct map_info *map)\n{\n\t \n\treturn mtd_do_chip_probe(map, &jedec_chip_probe);\n}\n\nstatic struct mtd_chip_driver jedec_chipdrv = {\n\t.probe\t= jedec_probe,\n\t.name\t= \"jedec_probe\",\n\t.module\t= THIS_MODULE\n};\n\nstatic int __init jedec_probe_init(void)\n{\n\tregister_mtd_chip_driver(&jedec_chipdrv);\n\treturn 0;\n}\n\nstatic void __exit jedec_probe_exit(void)\n{\n\tunregister_mtd_chip_driver(&jedec_chipdrv);\n}\n\nmodule_init(jedec_probe_init);\nmodule_exit(jedec_probe_exit);\n\nMODULE_LICENSE(\"GPL\");\nMODULE_AUTHOR(\"Erwin Authried <eauth@softsys.co.at> et al.\");\nMODULE_DESCRIPTION(\"Probe code for JEDEC-compliant flash chips\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}