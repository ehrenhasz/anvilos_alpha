{
  "module_name": "map_absent.c",
  "hash_id": "0c965e9b19b2da57c3ae1a6dcd8abcced1e398654ff44cd54d446606574bd620",
  "original_prompt": "Ingested from linux-6.6.14/drivers/mtd/chips/map_absent.c",
  "human_readable_source": "\n \n\n#include <linux/module.h>\n#include <linux/types.h>\n#include <linux/kernel.h>\n#include <linux/errno.h>\n#include <linux/slab.h>\n#include <linux/init.h>\n#include <linux/mtd/mtd.h>\n#include <linux/mtd/map.h>\n\nstatic int map_absent_read (struct mtd_info *, loff_t, size_t, size_t *, u_char *);\nstatic int map_absent_write (struct mtd_info *, loff_t, size_t, size_t *, const u_char *);\nstatic int map_absent_erase (struct mtd_info *, struct erase_info *);\nstatic void map_absent_sync (struct mtd_info *);\nstatic struct mtd_info *map_absent_probe(struct map_info *map);\nstatic void map_absent_destroy (struct mtd_info *);\n\n\nstatic struct mtd_chip_driver map_absent_chipdrv = {\n\t.probe\t\t= map_absent_probe,\n\t.destroy\t= map_absent_destroy,\n\t.name\t\t= \"map_absent\",\n\t.module\t\t= THIS_MODULE\n};\n\nstatic struct mtd_info *map_absent_probe(struct map_info *map)\n{\n\tstruct mtd_info *mtd;\n\n\tmtd = kzalloc(sizeof(*mtd), GFP_KERNEL);\n\tif (!mtd) {\n\t\treturn NULL;\n\t}\n\n\tmap->fldrv \t= &map_absent_chipdrv;\n\tmtd->priv \t= map;\n\tmtd->name \t= map->name;\n\tmtd->type \t= MTD_ABSENT;\n\tmtd->size \t= map->size;\n\tmtd->_erase \t= map_absent_erase;\n\tmtd->_read \t= map_absent_read;\n\tmtd->_write \t= map_absent_write;\n\tmtd->_sync \t= map_absent_sync;\n\tmtd->flags \t= 0;\n\tmtd->erasesize  = PAGE_SIZE;\n\tmtd->writesize  = 1;\n\n\t__module_get(THIS_MODULE);\n\treturn mtd;\n}\n\n\nstatic int map_absent_read(struct mtd_info *mtd, loff_t from, size_t len, size_t *retlen, u_char *buf)\n{\n\treturn -ENODEV;\n}\n\nstatic int map_absent_write(struct mtd_info *mtd, loff_t to, size_t len, size_t *retlen, const u_char *buf)\n{\n\treturn -ENODEV;\n}\n\nstatic int map_absent_erase(struct mtd_info *mtd, struct erase_info *instr)\n{\n\treturn -ENODEV;\n}\n\nstatic void map_absent_sync(struct mtd_info *mtd)\n{\n\t \n}\n\nstatic void map_absent_destroy(struct mtd_info *mtd)\n{\n\t \n}\n\nstatic int __init map_absent_init(void)\n{\n\tregister_mtd_chip_driver(&map_absent_chipdrv);\n\treturn 0;\n}\n\nstatic void __exit map_absent_exit(void)\n{\n\tunregister_mtd_chip_driver(&map_absent_chipdrv);\n}\n\nmodule_init(map_absent_init);\nmodule_exit(map_absent_exit);\n\nMODULE_LICENSE(\"GPL\");\nMODULE_AUTHOR(\"Resilience Corporation - Eric Brower <ebrower@resilience.com>\");\nMODULE_DESCRIPTION(\"Placeholder MTD chip driver for 'absent' chips\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}