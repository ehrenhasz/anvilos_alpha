{
  "module_name": "debug.h",
  "hash_id": "dda35c7d35a237614ae3d3cff513cff0dfabef96103f540afebbf9ba0dd66a4e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/mtd/ubi/debug.h",
  "human_readable_source": " \n \n\n#ifndef __UBI_DEBUG_H__\n#define __UBI_DEBUG_H__\n\nvoid ubi_dump_flash(struct ubi_device *ubi, int pnum, int offset, int len);\nvoid ubi_dump_ec_hdr(const struct ubi_ec_hdr *ec_hdr);\nvoid ubi_dump_vid_hdr(const struct ubi_vid_hdr *vid_hdr);\n\n#include <linux/random.h>\n\n#define ubi_assert(expr)  do {                                               \\\n\tif (unlikely(!(expr))) {                                             \\\n\t\tpr_crit(\"UBI assert failed in %s at %u (pid %d)\\n\",          \\\n\t\t       __func__, __LINE__, current->pid);                    \\\n\t\tdump_stack();                                                \\\n\t}                                                                    \\\n} while (0)\n\n#define ubi_dbg_print_hex_dump(l, ps, pt, r, g, b, len, a)                   \\\n\t\tprint_hex_dump(l, ps, pt, r, g, b, len, a)\n\n#define ubi_dbg_msg(type, fmt, ...) \\\n\tpr_debug(\"UBI DBG \" type \" (pid %d): \" fmt \"\\n\", current->pid,       \\\n\t\t ##__VA_ARGS__)\n\n \n#define dbg_gen(fmt, ...) ubi_dbg_msg(\"gen\", fmt, ##__VA_ARGS__)\n \n#define dbg_eba(fmt, ...) ubi_dbg_msg(\"eba\", fmt, ##__VA_ARGS__)\n \n#define dbg_wl(fmt, ...)  ubi_dbg_msg(\"wl\", fmt, ##__VA_ARGS__)\n \n#define dbg_io(fmt, ...)  ubi_dbg_msg(\"io\", fmt, ##__VA_ARGS__)\n \n#define dbg_bld(fmt, ...) ubi_dbg_msg(\"bld\", fmt, ##__VA_ARGS__)\n\nvoid ubi_dump_vol_info(const struct ubi_volume *vol);\nvoid ubi_dump_vtbl_record(const struct ubi_vtbl_record *r, int idx);\nvoid ubi_dump_av(const struct ubi_ainf_volume *av);\nvoid ubi_dump_aeb(const struct ubi_ainf_peb *aeb, int type);\nvoid ubi_dump_mkvol_req(const struct ubi_mkvol_req *req);\nint ubi_self_check_all_ff(struct ubi_device *ubi, int pnum, int offset,\n\t\t\t  int len);\nint ubi_debugfs_init(void);\nvoid ubi_debugfs_exit(void);\nint ubi_debugfs_init_dev(struct ubi_device *ubi);\nvoid ubi_debugfs_exit_dev(struct ubi_device *ubi);\n\n \nstatic inline int ubi_dbg_is_bgt_disabled(const struct ubi_device *ubi)\n{\n\treturn ubi->dbg.disable_bgt;\n}\n\n \nstatic inline int ubi_dbg_is_bitflip(const struct ubi_device *ubi)\n{\n\tif (ubi->dbg.emulate_bitflips)\n\t\treturn !get_random_u32_below(200);\n\treturn 0;\n}\n\n \nstatic inline int ubi_dbg_is_write_failure(const struct ubi_device *ubi)\n{\n\tif (ubi->dbg.emulate_io_failures)\n\t\treturn !get_random_u32_below(500);\n\treturn 0;\n}\n\n \nstatic inline int ubi_dbg_is_erase_failure(const struct ubi_device *ubi)\n{\n\tif (ubi->dbg.emulate_io_failures)\n\t\treturn !get_random_u32_below(400);\n\treturn 0;\n}\n\nstatic inline int ubi_dbg_chk_io(const struct ubi_device *ubi)\n{\n\treturn ubi->dbg.chk_io;\n}\n\nstatic inline int ubi_dbg_chk_gen(const struct ubi_device *ubi)\n{\n\treturn ubi->dbg.chk_gen;\n}\n\nstatic inline int ubi_dbg_chk_fastmap(const struct ubi_device *ubi)\n{\n\treturn ubi->dbg.chk_fastmap;\n}\n\nstatic inline void ubi_enable_dbg_chk_fastmap(struct ubi_device *ubi)\n{\n\tubi->dbg.chk_fastmap = 1;\n}\n\nint ubi_dbg_power_cut(struct ubi_device *ubi, int caller);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}