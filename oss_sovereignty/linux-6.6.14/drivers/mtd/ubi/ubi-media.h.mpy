{
  "module_name": "ubi-media.h",
  "hash_id": "965b335b2f6a9419302964d0aecafccb1d5a0c5e0a91ec4de635271f36c1c500",
  "original_prompt": "Ingested from linux-6.6.14/drivers/mtd/ubi/ubi-media.h",
  "human_readable_source": " \n \n\n#ifndef __UBI_MEDIA_H__\n#define __UBI_MEDIA_H__\n\n#include <asm/byteorder.h>\n\n \n#define UBI_VERSION 1\n\n \n#define UBI_MAX_ERASECOUNTER 0x7FFFFFFF\n\n \n#define UBI_CRC32_INIT 0xFFFFFFFFU\n\n \n#define UBI_EC_HDR_MAGIC  0x55424923\n \n#define UBI_VID_HDR_MAGIC 0x55424921\n\n \nenum {\n\tUBI_VID_DYNAMIC = 1,\n\tUBI_VID_STATIC  = 2\n};\n\n \nenum {\n\tUBI_VTBL_AUTORESIZE_FLG = 0x01,\n\tUBI_VTBL_SKIP_CRC_CHECK_FLG = 0x02,\n};\n\n \nenum {\n\tUBI_COMPAT_DELETE   = 1,\n\tUBI_COMPAT_RO       = 2,\n\tUBI_COMPAT_PRESERVE = 4,\n\tUBI_COMPAT_REJECT   = 5\n};\n\n \n#define UBI_EC_HDR_SIZE  sizeof(struct ubi_ec_hdr)\n#define UBI_VID_HDR_SIZE sizeof(struct ubi_vid_hdr)\n\n \n#define UBI_EC_HDR_SIZE_CRC  (UBI_EC_HDR_SIZE  - sizeof(__be32))\n#define UBI_VID_HDR_SIZE_CRC (UBI_VID_HDR_SIZE - sizeof(__be32))\n\n \nstruct ubi_ec_hdr {\n\t__be32  magic;\n\t__u8    version;\n\t__u8    padding1[3];\n\t__be64  ec;  \n\t__be32  vid_hdr_offset;\n\t__be32  data_offset;\n\t__be32  image_seq;\n\t__u8    padding2[32];\n\t__be32  hdr_crc;\n} __packed;\n\n \nstruct ubi_vid_hdr {\n\t__be32  magic;\n\t__u8    version;\n\t__u8    vol_type;\n\t__u8    copy_flag;\n\t__u8    compat;\n\t__be32  vol_id;\n\t__be32  lnum;\n\t__u8    padding1[4];\n\t__be32  data_size;\n\t__be32  used_ebs;\n\t__be32  data_pad;\n\t__be32  data_crc;\n\t__u8    padding2[4];\n\t__be64  sqnum;\n\t__u8    padding3[12];\n\t__be32  hdr_crc;\n} __packed;\n\n \n#define UBI_INT_VOL_COUNT 1\n\n \n#define UBI_INTERNAL_VOL_START (0x7FFFFFFF - 4096)\n\n \n\n#define UBI_LAYOUT_VOLUME_ID     UBI_INTERNAL_VOL_START\n#define UBI_LAYOUT_VOLUME_TYPE   UBI_VID_DYNAMIC\n#define UBI_LAYOUT_VOLUME_ALIGN  1\n#define UBI_LAYOUT_VOLUME_EBS    2\n#define UBI_LAYOUT_VOLUME_NAME   \"layout volume\"\n#define UBI_LAYOUT_VOLUME_COMPAT UBI_COMPAT_REJECT\n\n \n#define UBI_MAX_VOLUMES 128\n\n \n#define UBI_VOL_NAME_MAX 127\n\n \n#define UBI_VTBL_RECORD_SIZE sizeof(struct ubi_vtbl_record)\n\n \n#define UBI_VTBL_RECORD_SIZE_CRC (UBI_VTBL_RECORD_SIZE - sizeof(__be32))\n\n \nstruct ubi_vtbl_record {\n\t__be32  reserved_pebs;\n\t__be32  alignment;\n\t__be32  data_pad;\n\t__u8    vol_type;\n\t__u8    upd_marker;\n\t__be16  name_len;\n\t__u8    name[UBI_VOL_NAME_MAX+1];\n\t__u8    flags;\n\t__u8    padding[23];\n\t__be32  crc;\n} __packed;\n\n \n\n#define UBI_FM_SB_VOLUME_ID\t(UBI_LAYOUT_VOLUME_ID + 1)\n#define UBI_FM_DATA_VOLUME_ID\t(UBI_LAYOUT_VOLUME_ID + 2)\n\n \n#define UBI_FM_FMT_VERSION\t1\n\n#define UBI_FM_SB_MAGIC\t\t0x7B11D69F\n#define UBI_FM_HDR_MAGIC\t0xD4B82EF7\n#define UBI_FM_VHDR_MAGIC\t0xFA370ED1\n#define UBI_FM_POOL_MAGIC\t0x67AF4D08\n#define UBI_FM_EBA_MAGIC\t0xf0c040a8\n\n \n#define UBI_FM_MAX_START\t64\n\n \n#define UBI_FM_MAX_BLOCKS\t32\n\n \n#define UBI_FM_MIN_POOL_SIZE\t8\n#define UBI_FM_MAX_POOL_SIZE\t256\n\n \nstruct ubi_fm_sb {\n\t__be32 magic;\n\t__u8 version;\n\t__u8 padding1[3];\n\t__be32 data_crc;\n\t__be32 used_blocks;\n\t__be32 block_loc[UBI_FM_MAX_BLOCKS];\n\t__be32 block_ec[UBI_FM_MAX_BLOCKS];\n\t__be64 sqnum;\n\t__u8 padding2[32];\n} __packed;\n\n \nstruct ubi_fm_hdr {\n\t__be32 magic;\n\t__be32 free_peb_count;\n\t__be32 used_peb_count;\n\t__be32 scrub_peb_count;\n\t__be32 bad_peb_count;\n\t__be32 erase_peb_count;\n\t__be32 vol_count;\n\t__u8 padding[4];\n} __packed;\n\n \n\n \nstruct ubi_fm_scan_pool {\n\t__be32 magic;\n\t__be16 size;\n\t__be16 max_size;\n\t__be32 pebs[UBI_FM_MAX_POOL_SIZE];\n\t__be32 padding[4];\n} __packed;\n\n \n\n \nstruct ubi_fm_ec {\n\t__be32 pnum;\n\t__be32 ec;\n} __packed;\n\n \nstruct ubi_fm_volhdr {\n\t__be32 magic;\n\t__be32 vol_id;\n\t__u8 vol_type;\n\t__u8 padding1[3];\n\t__be32 data_pad;\n\t__be32 used_ebs;\n\t__be32 last_eb_bytes;\n\t__u8 padding2[8];\n} __packed;\n\n \n\n \nstruct ubi_fm_eba {\n\t__be32 magic;\n\t__be32 reserved_pebs;\n\t__be32 pnum[];\n} __packed;\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}