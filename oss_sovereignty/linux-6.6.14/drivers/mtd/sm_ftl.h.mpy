{
  "module_name": "sm_ftl.h",
  "hash_id": "def1d43e1c2042a349593d94abe2a17c91704d59137dd0f79e1cb83fc8f72f9a",
  "original_prompt": "Ingested from linux-6.6.14/drivers/mtd/sm_ftl.h",
  "human_readable_source": " \n \n\n#include <linux/mtd/blktrans.h>\n#include <linux/kfifo.h>\n#include <linux/sched.h>\n#include <linux/completion.h>\n#include <linux/mtd/mtd.h>\n\n\n\nstruct ftl_zone {\n\tbool initialized;\n\tint16_t *lba_to_phys_table;\t\t \n\tstruct kfifo free_sectors;\t \n};\n\nstruct sm_ftl {\n\tstruct mtd_blktrans_dev *trans;\n\n\tstruct mutex mutex;\t\t \n\tstruct ftl_zone *zones;\t\t \n\n\t \n\tint block_size;\t\t\t \n\tint zone_size;\t\t\t \n\tint zone_count;\t\t\t \n\tint max_lba;\t\t\t \n\tint smallpagenand;\t\t \n\tbool readonly;\t\t\t \n\tbool unstable;\n\tint cis_block;\t\t\t \n\tint cis_boffset;\t\t \n\tint cis_page_offset;\t\t \n\tvoid *cis_buffer;\t\t \n\n\t \n\tint cache_block;\t\t \n\tint cache_zone;\t\t\t \n\tunsigned char *cache_data;\t \n\tlong unsigned int cache_data_invalid_bitmap;\n\tbool cache_clean;\n\tstruct work_struct flush_work;\n\tstruct timer_list timer;\n\n\t \n\tint heads;\n\tint sectors;\n\tint cylinders;\n\n\tstruct attribute_group *disk_attributes;\n};\n\nstruct chs_entry {\n\tunsigned long size;\n\tunsigned short cyl;\n\tunsigned char head;\n\tunsigned char sec;\n};\n\n\n#define SM_FTL_PARTN_BITS\t3\n\n#define sm_printk(format, ...) \\\n\tprintk(KERN_WARNING \"sm_ftl\" \": \" format \"\\n\", ## __VA_ARGS__)\n\n#define dbg(format, ...) \\\n\tif (debug) \\\n\t\tprintk(KERN_DEBUG \"sm_ftl\" \": \" format \"\\n\", ## __VA_ARGS__)\n\n#define dbg_verbose(format, ...) \\\n\tif (debug > 1) \\\n\t\tprintk(KERN_DEBUG \"sm_ftl\" \": \" format \"\\n\", ## __VA_ARGS__)\n\n\nstatic int sm_erase_block(struct sm_ftl *ftl, int zone_num, uint16_t block,\n\t\t\t\t\t\t\t\tint put_free);\nstatic void sm_mark_block_bad(struct sm_ftl *ftl, int zone_num, int block);\n\nstatic int sm_recheck_media(struct sm_ftl *ftl);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}