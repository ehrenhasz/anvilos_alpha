{
  "module_name": "tcm_fc.h",
  "hash_id": "f4225e034a26a8fa40d01822735b4a76b14dd0ae4a47c14a67f4d81dc16b1847",
  "original_prompt": "Ingested from linux-6.6.14/drivers/target/tcm_fc/tcm_fc.h",
  "human_readable_source": " \n \n#ifndef __TCM_FC_H__\n#define __TCM_FC_H__\n\n#include <linux/types.h>\n#include <target/target_core_base.h>\n\n#define FT_VERSION \"0.4\"\n\n#define FT_NAMELEN 32\t\t \n#define FT_TPG_NAMELEN 32\t \n#define FT_LUN_NAMELEN 32\t \n#define TCM_FC_DEFAULT_TAGS 512\t \n\nstruct ft_transport_id {\n\t__u8\tformat;\n\t__u8\t__resvd1[7];\n\t__u8\twwpn[8];\n\t__u8\t__resvd2[8];\n} __attribute__((__packed__));\n\n \nstruct ft_sess {\n\tu32 port_id;\t\t\t \n\tu32 params;\n\tu16 max_frame;\t\t\t \n\tu64 port_name;\t\t\t \n\tstruct ft_tport *tport;\n\tstruct se_session *se_sess;\n\tstruct hlist_node hash;\t\t \n\tstruct rcu_head rcu;\n\tstruct kref kref;\t\t \n};\n\n \n#define\tFT_SESS_HASH_BITS\t6\n#define\tFT_SESS_HASH_SIZE\t(1 << FT_SESS_HASH_BITS)\n\n \nstruct ft_tport {\n\tstruct fc_lport *lport;\n\tstruct ft_tpg *tpg;\t\t \n\tu32\tsess_count;\t\t \n\tstruct rcu_head rcu;\n\tstruct hlist_head hash[FT_SESS_HASH_SIZE];\t \n};\n\n \nstruct ft_node_auth {\n\tu64\tport_name;\n\tu64\tnode_name;\n};\n\n \nstruct ft_node_acl {\n\tstruct se_node_acl se_node_acl;\n\tstruct ft_node_auth node_auth;\n};\n\nstruct ft_lun {\n\tu32 index;\n\tchar name[FT_LUN_NAMELEN];\n};\n\n \nstruct ft_tpg {\n\tu32 index;\n\tstruct ft_lport_wwn *lport_wwn;\n\tstruct ft_tport *tport;\t\t \n\tstruct list_head lun_list;\t \n\tstruct se_portal_group se_tpg;\n\tstruct workqueue_struct *workqueue;\n};\n\nstruct ft_lport_wwn {\n\tu64 wwpn;\n\tchar name[FT_NAMELEN];\n\tstruct list_head ft_wwn_node;\n\tstruct ft_tpg *tpg;\n\tstruct se_wwn se_wwn;\n};\n\n \nstruct ft_cmd {\n\tstruct ft_sess *sess;\t\t \n\tstruct fc_seq *seq;\t\t \n\tstruct se_cmd se_cmd;\t\t \n\tstruct fc_frame *req_frame;\n\tu32 write_data_len;\t\t \n\tstruct work_struct work;\n\t \n\tunsigned char ft_sense_buffer[TRANSPORT_SENSE_BUFFER];\n\tu32 was_ddp_setup:1;\t\t \n\tu32 aborted:1;\t\t\t \n\tstruct scatterlist *sg;\t\t \n\tu32 sg_cnt;\t\t\t \n};\n\nextern struct mutex ft_lport_lock;\nextern struct fc4_prov ft_prov;\nextern unsigned int ft_debug_logging;\n\n \n\n \nvoid ft_sess_put(struct ft_sess *);\nvoid ft_sess_close(struct se_session *);\nu32 ft_sess_get_index(struct se_session *);\nu32 ft_sess_get_port_name(struct se_session *, unsigned char *, u32);\n\nvoid ft_lport_add(struct fc_lport *, void *);\nvoid ft_lport_del(struct fc_lport *, void *);\nint ft_lport_notify(struct notifier_block *, unsigned long, void *);\n\n \nint ft_check_stop_free(struct se_cmd *);\nvoid ft_release_cmd(struct se_cmd *);\nint ft_queue_status(struct se_cmd *);\nint ft_queue_data_in(struct se_cmd *);\nint ft_write_pending(struct se_cmd *);\nvoid ft_queue_tm_resp(struct se_cmd *);\nvoid ft_aborted_task(struct se_cmd *);\n\n \nvoid ft_recv_req(struct ft_sess *, struct fc_frame *);\nstruct ft_tpg *ft_lport_find_tpg(struct fc_lport *);\n\nvoid ft_recv_write_data(struct ft_cmd *, struct fc_frame *);\nvoid ft_dump_cmd(struct ft_cmd *, const char *caller);\n\nssize_t ft_format_wwn(char *, size_t, u64);\n\n \nvoid ft_invl_hw_context(struct ft_cmd *);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}