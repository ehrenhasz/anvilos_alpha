{
  "module_name": "target_core_internal.h",
  "hash_id": "90779277f798d048120fc3bc14ec4ad20632f995ea74ad3884b946a59fad3eb3",
  "original_prompt": "Ingested from linux-6.6.14/drivers/target/target_core_internal.h",
  "human_readable_source": " \n#ifndef TARGET_CORE_INTERNAL_H\n#define TARGET_CORE_INTERNAL_H\n\n#include <linux/configfs.h>\n#include <linux/list.h>\n#include <linux/types.h>\n#include <target/target_core_base.h>\n\n#define TARGET_CORE_NAME_MAX_LEN\t64\n#define TARGET_FABRIC_NAME_SIZE\t\t32\n\nstruct target_backend {\n\tstruct list_head list;\n\n\tconst struct target_backend_ops *ops;\n\n\tstruct config_item_type tb_dev_cit;\n\tstruct config_item_type tb_dev_attrib_cit;\n\tstruct config_item_type tb_dev_action_cit;\n\tstruct config_item_type tb_dev_pr_cit;\n\tstruct config_item_type tb_dev_wwn_cit;\n\tstruct config_item_type tb_dev_alua_tg_pt_gps_cit;\n\tstruct config_item_type tb_dev_stat_cit;\n};\n\nstruct target_fabric_configfs {\n\tatomic_t\t\ttf_access_cnt;\n\tstruct list_head\ttf_list;\n\tstruct config_group\ttf_group;\n\tstruct config_group\ttf_disc_group;\n\tconst struct target_core_fabric_ops *tf_ops;\n\n\tstruct config_item_type tf_discovery_cit;\n\tstruct config_item_type\ttf_wwn_cit;\n\tstruct config_item_type tf_wwn_fabric_stats_cit;\n\tstruct config_item_type tf_wwn_param_cit;\n\tstruct config_item_type tf_tpg_cit;\n\tstruct config_item_type tf_tpg_base_cit;\n\tstruct config_item_type tf_tpg_lun_cit;\n\tstruct config_item_type tf_tpg_port_cit;\n\tstruct config_item_type tf_tpg_port_stat_cit;\n\tstruct config_item_type tf_tpg_np_cit;\n\tstruct config_item_type tf_tpg_np_base_cit;\n\tstruct config_item_type tf_tpg_attrib_cit;\n\tstruct config_item_type tf_tpg_auth_cit;\n\tstruct config_item_type tf_tpg_param_cit;\n\tstruct config_item_type tf_tpg_nacl_cit;\n\tstruct config_item_type tf_tpg_nacl_base_cit;\n\tstruct config_item_type tf_tpg_nacl_attrib_cit;\n\tstruct config_item_type tf_tpg_nacl_auth_cit;\n\tstruct config_item_type tf_tpg_nacl_param_cit;\n\tstruct config_item_type tf_tpg_nacl_stat_cit;\n\tstruct config_item_type tf_tpg_mappedlun_cit;\n\tstruct config_item_type tf_tpg_mappedlun_stat_cit;\n};\n\n \nextern struct t10_alua_lu_gp *default_lu_gp;\n\n \nstruct se_dev_entry *core_get_se_deve_from_rtpi(struct se_node_acl *, u16);\nvoid\ttarget_pr_kref_release(struct kref *);\nvoid\tcore_free_device_list_for_node(struct se_node_acl *,\n\t\tstruct se_portal_group *);\nvoid\tcore_update_device_list_access(u64, bool, struct se_node_acl *);\nstruct se_dev_entry *target_nacl_find_deve(struct se_node_acl *, u64);\nint\tcore_enable_device_list_for_node(struct se_lun *, struct se_lun_acl *,\n\t\tu64, bool, struct se_node_acl *, struct se_portal_group *);\nvoid\tcore_disable_device_list_for_node(struct se_lun *, struct se_dev_entry *,\n\t\tstruct se_node_acl *, struct se_portal_group *);\nvoid\tcore_clear_lun_from_tpg(struct se_lun *, struct se_portal_group *);\nint\tcore_dev_add_lun(struct se_portal_group *, struct se_device *,\n\t\tstruct se_lun *lun);\nvoid\tcore_dev_del_lun(struct se_portal_group *, struct se_lun *);\nstruct se_lun_acl *core_dev_init_initiator_node_lun_acl(struct se_portal_group *,\n\t\tstruct se_node_acl *, u64, int *);\nint\tcore_dev_add_initiator_node_lun_acl(struct se_portal_group *,\n\t\tstruct se_lun_acl *, struct se_lun *lun, bool);\nint\tcore_dev_del_initiator_node_lun_acl(struct se_lun *,\n\t\tstruct se_lun_acl *);\nvoid\tcore_dev_free_initiator_node_lun_acl(struct se_portal_group *,\n\t\tstruct se_lun_acl *lacl);\nint\tcore_dev_setup_virtual_lun0(void);\nvoid\tcore_dev_release_virtual_lun0(void);\nstruct se_device *target_alloc_device(struct se_hba *hba, const char *name);\nint\ttarget_configure_device(struct se_device *dev);\nvoid\ttarget_free_device(struct se_device *);\nint\ttarget_for_each_device(int (*fn)(struct se_device *dev, void *data),\n\t\t\t       void *data);\nvoid\ttarget_dev_ua_allocate(struct se_device *dev, u8 asc, u8 ascq);\n\n \nextern struct configfs_item_operations target_core_dev_item_ops;\nvoid\ttarget_setup_backend_cits(struct target_backend *);\n\n \nint\ttarget_fabric_setup_cits(struct target_fabric_configfs *);\n\n \nint\ttarget_get_pr_transport_id_len(struct se_node_acl *nacl,\n\t\tstruct t10_pr_registration *pr_reg, int *format_code);\nint\ttarget_get_pr_transport_id(struct se_node_acl *nacl,\n\t\tstruct t10_pr_registration *pr_reg, int *format_code,\n\t\tunsigned char *buf);\nconst char *target_parse_pr_out_transport_id(struct se_portal_group *tpg,\n\t\tchar *buf, u32 *out_tid_len, char **port_nexus_ptr);\n\n \nstruct se_hba *core_alloc_hba(const char *, u32, u32);\nint\tcore_delete_hba(struct se_hba *);\n\n \nvoid\tcore_tmr_abort_task(struct se_device *, struct se_tmr_req *,\n\t\t\tstruct se_session *);\nint\tcore_tmr_lun_reset(struct se_device *, struct se_tmr_req *,\n\t\tstruct list_head *, struct se_cmd *);\n\n \nextern struct se_device *g_lun0_dev;\n\nstruct se_node_acl *__core_tpg_get_initiator_node_acl(struct se_portal_group *tpg,\n\t\tconst char *);\nvoid\tcore_tpg_add_node_to_devs(struct se_node_acl *, struct se_portal_group *,\n\t\t\t\t  struct se_lun *);\nvoid\tcore_tpg_wait_for_nacl_pr_ref(struct se_node_acl *);\nstruct se_lun *core_tpg_alloc_lun(struct se_portal_group *, u64);\nint\tcore_tpg_add_lun(struct se_portal_group *, struct se_lun *,\n\t\tbool, struct se_device *);\nvoid core_tpg_remove_lun(struct se_portal_group *, struct se_lun *);\nstruct se_node_acl *core_tpg_add_initiator_node_acl(struct se_portal_group *tpg,\n\t\tconst char *initiatorname);\nvoid core_tpg_del_initiator_node_acl(struct se_node_acl *acl);\nint target_tpg_enable(struct se_portal_group *se_tpg);\nint target_tpg_disable(struct se_portal_group *se_tpg);\n\n \nint\tinit_se_kmem_caches(void);\nvoid\trelease_se_kmem_caches(void);\nu32\tscsi_get_new_index(scsi_index_t);\nvoid\ttransport_subsystem_check_init(void);\nunsigned char *transport_dump_cmd_direction(struct se_cmd *);\nvoid\ttransport_dump_dev_state(struct se_device *, char *, int *);\nvoid\ttransport_dump_dev_info(struct se_device *, struct se_lun *,\n\t\tunsigned long long, char *, int *);\nvoid\ttransport_dump_vpd_proto_id(struct t10_vpd *, unsigned char *, int);\nint\ttransport_dump_vpd_assoc(struct t10_vpd *, unsigned char *, int);\nint\ttransport_dump_vpd_ident_type(struct t10_vpd *, unsigned char *, int);\nint\ttransport_dump_vpd_ident(struct t10_vpd *, unsigned char *, int);\nvoid\ttransport_clear_lun_ref(struct se_lun *);\nsense_reason_t\ttarget_cmd_size_check(struct se_cmd *cmd, unsigned int size);\nvoid\ttarget_qf_do_work(struct work_struct *work);\nvoid\ttarget_do_delayed_work(struct work_struct *work);\nbool\ttarget_check_wce(struct se_device *dev);\nbool\ttarget_check_fua(struct se_device *dev);\nvoid\t__target_execute_cmd(struct se_cmd *, bool);\nvoid\ttarget_queued_submit_work(struct work_struct *work);\n\n \nvoid\ttarget_stat_setup_dev_default_groups(struct se_device *);\nvoid\ttarget_stat_setup_port_default_groups(struct se_lun *);\nvoid\ttarget_stat_setup_mappedlun_default_groups(struct se_lun_acl *);\n\n \nextern struct se_portal_group xcopy_pt_tpg;\n\n \n#define DB_ROOT_LEN\t\t4096\n#define\tDB_ROOT_DEFAULT\t\t\"/var/target\"\n#define\tDB_ROOT_PREFERRED\t\"/etc/target\"\n\nextern char db_root[];\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}