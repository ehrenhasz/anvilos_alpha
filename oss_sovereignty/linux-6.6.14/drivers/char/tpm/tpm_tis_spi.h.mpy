{
  "module_name": "tpm_tis_spi.h",
  "hash_id": "bc67bfb50280e60316c9dd5ad0b50e97a6644cd968ba7ee6c74f9b7402aec25d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/char/tpm/tpm_tis_spi.h",
  "human_readable_source": " \n \n\n#ifndef TPM_TIS_SPI_H\n#define TPM_TIS_SPI_H\n\n#include \"tpm_tis_core.h\"\n\nstruct tpm_tis_spi_phy {\n\tstruct tpm_tis_data priv;\n\tstruct spi_device *spi_device;\n\tint (*flow_control)(struct tpm_tis_spi_phy *phy,\n\t\t\t     struct spi_transfer *xfer);\n\tstruct completion ready;\n\tunsigned long wake_after;\n\n\tu8 *iobuf;\n};\n\nstatic inline struct tpm_tis_spi_phy *to_tpm_tis_spi_phy(struct tpm_tis_data *data)\n{\n\treturn container_of(data, struct tpm_tis_spi_phy, priv);\n}\n\nextern int tpm_tis_spi_init(struct spi_device *spi, struct tpm_tis_spi_phy *phy,\n\t\t\t    int irq, const struct tpm_tis_phy_ops *phy_ops);\n\nextern int tpm_tis_spi_transfer(struct tpm_tis_data *data, u32 addr, u16 len,\n\t\t\t\tu8 *in, const u8 *out);\n\n#ifdef CONFIG_TCG_TIS_SPI_CR50\nextern int cr50_spi_probe(struct spi_device *spi);\n#else\nstatic inline int cr50_spi_probe(struct spi_device *spi)\n{\n\treturn -ENODEV;\n}\n#endif\n\n#if defined(CONFIG_PM_SLEEP) && defined(CONFIG_TCG_TIS_SPI_CR50)\nextern int tpm_tis_spi_resume(struct device *dev);\n#else\n#define tpm_tis_spi_resume\tNULL\n#endif\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}