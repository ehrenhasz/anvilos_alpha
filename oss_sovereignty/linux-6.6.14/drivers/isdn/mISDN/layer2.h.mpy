{
  "module_name": "layer2.h",
  "hash_id": "b648fc0803424fe7c3db7d38d0644e8d2621ab6e82b4905d3cf9364f8cb5d00d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/isdn/mISDN/layer2.h",
  "human_readable_source": " \n \n\n#include <linux/mISDNif.h>\n#include <linux/skbuff.h>\n#include \"fsm.h\"\n\n#define MAX_WINDOW\t8\n\nstruct manager {\n\tstruct mISDNchannel\tch;\n\tstruct mISDNchannel\tbcast;\n\tu_long\t\t\toptions;\n\tstruct list_head\tlayer2;\n\trwlock_t\t\tlock;\n\tstruct FsmInst\t\tdeact;\n\tstruct FsmTimer\t\tdatimer;\n\tstruct sk_buff_head\tsendq;\n\tstruct mISDNchannel\t*up;\n\tu_int\t\t\tnextid;\n\tu_int\t\t\tlastid;\n};\n\nstruct teimgr {\n\tint\t\t\tri;\n\tint\t\t\trcnt;\n\tstruct FsmInst\t\ttei_m;\n\tstruct FsmTimer\t\ttimer;\n\tint\t\t\ttval, nval;\n\tstruct layer2\t\t*l2;\n\tstruct manager\t\t*mgr;\n};\n\nstruct laddr {\n\tu_char\tA;\n\tu_char\tB;\n};\n\nstruct layer2 {\n\tstruct list_head\tlist;\n\tstruct mISDNchannel\tch;\n\tu_long\t\t\tflag;\n\tint\t\t\tid;\n\tstruct mISDNchannel\t*up;\n\tsigned char\t\tsapi;\n\tsigned char\t\ttei;\n\tstruct laddr\t\taddr;\n\tu_int\t\t\tmaxlen;\n\tstruct teimgr\t\t*tm;\n\tu_int\t\t\tvs, va, vr;\n\tint\t\t\trc;\n\tu_int\t\t\twindow;\n\tu_int\t\t\tsow;\n\tstruct FsmInst\t\tl2m;\n\tstruct FsmTimer\t\tt200, t203;\n\tint\t\t\tT200, N200, T203;\n\tu_int\t\t\tnext_id;\n\tu_int\t\t\tdown_id;\n\tstruct sk_buff\t\t*windowar[MAX_WINDOW];\n\tstruct sk_buff_head\ti_queue;\n\tstruct sk_buff_head\tui_queue;\n\tstruct sk_buff_head\tdown_queue;\n\tstruct sk_buff_head\ttmp_queue;\n};\n\nenum {\n\tST_L2_1,\n\tST_L2_2,\n\tST_L2_3,\n\tST_L2_4,\n\tST_L2_5,\n\tST_L2_6,\n\tST_L2_7,\n\tST_L2_8,\n};\n\n#define L2_STATE_COUNT (ST_L2_8 + 1)\n\nextern struct layer2\t*create_l2(struct mISDNchannel *, u_int,\n\t\t\t\t   u_long, int, int);\nextern int\t\ttei_l2(struct layer2 *, u_int, u_long arg);\n\n\n \nextern int\t\tl2_tei(struct layer2 *, u_int, u_long arg);\nextern void\t\tTEIrelease(struct layer2 *);\nextern int\t\tTEIInit(u_int *);\nextern void\t\tTEIFree(void);\n\n#define MAX_L2HEADER_LEN 4\n\n#define RR\t0x01\n#define RNR\t0x05\n#define REJ\t0x09\n#define SABME\t0x6f\n#define SABM\t0x2f\n#define DM\t0x0f\n#define UI\t0x03\n#define DISC\t0x43\n#define UA\t0x63\n#define FRMR\t0x87\n#define XID\t0xaf\n\n#define CMD\t0\n#define RSP\t1\n\n#define LC_FLUSH_WAIT 1\n\n#define FLG_LAPB\t0\n#define FLG_LAPD\t1\n#define FLG_ORIG\t2\n#define FLG_MOD128\t3\n#define FLG_PEND_REL\t4\n#define FLG_L3_INIT\t5\n#define FLG_T200_RUN\t6\n#define FLG_ACK_PEND\t7\n#define FLG_REJEXC\t8\n#define FLG_OWN_BUSY\t9\n#define FLG_PEER_BUSY\t10\n#define FLG_DCHAN_BUSY\t11\n#define FLG_L1_ACTIV\t12\n#define FLG_ESTAB_PEND\t13\n#define FLG_PTP\t\t14\n#define FLG_FIXED_TEI\t15\n#define FLG_L2BLOCK\t16\n#define FLG_L1_NOTREADY\t17\n#define FLG_LAPD_NET\t18\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}