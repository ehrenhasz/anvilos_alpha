{
  "module_name": "kcapi.h",
  "hash_id": "14cbd27a9b3402b6020da9ce6e3bd9e67ff5a8f7fc10d9168e541b825151f317",
  "original_prompt": "Ingested from linux-6.6.14/drivers/isdn/capi/kcapi.h",
  "human_readable_source": " \n\n\n#include <linux/kernel.h>\n#include <linux/spinlock.h>\n#include <linux/list.h>\n#include <linux/isdn/capilli.h>\n\n#ifdef KCAPI_DEBUG\n#define DBG(format, arg...) do {\t\t\t\t\t\\\n\t\tprintk(KERN_DEBUG \"%s: \" format \"\\n\" , __func__ , ## arg); \\\n\t} while (0)\n#else\n#define DBG(format, arg...)  \n#endif\n\nenum {\n\tCAPI_CTR_DETACHED = 0,\n\tCAPI_CTR_DETECTED = 1,\n\tCAPI_CTR_LOADING  = 2,\n\tCAPI_CTR_RUNNING  = 3,\n};\n\nextern struct capi_ctr *capi_controller[CAPI_MAXCONTR];\nextern struct mutex capi_controller_lock;\n\nextern struct capi20_appl *capi_applications[CAPI_MAXAPPL];\n\nvoid kcapi_proc_init(void);\nvoid kcapi_proc_exit(void);\n\nstruct capi20_appl {\n\tu16 applid;\n\tcapi_register_params rparam;\n\tvoid (*recv_message)(struct capi20_appl *ap, struct sk_buff *skb);\n\tvoid *private;\n\n\t \n\tunsigned long nrecvctlpkt;\n\tunsigned long nrecvdatapkt;\n\tunsigned long nsentctlpkt;\n\tunsigned long nsentdatapkt;\n\tstruct mutex recv_mtx;\n\tstruct sk_buff_head recv_queue;\n\tstruct work_struct recv_work;\n\tint release_in_progress;\n};\n\nu16 capi20_isinstalled(void);\nu16 capi20_register(struct capi20_appl *ap);\nu16 capi20_release(struct capi20_appl *ap);\nu16 capi20_put_message(struct capi20_appl *ap, struct sk_buff *skb);\nu16 capi20_get_manufacturer(u32 contr, u8 buf[CAPI_MANUFACTURER_LEN]);\nu16 capi20_get_version(u32 contr, struct capi_version *verp);\nu16 capi20_get_serial(u32 contr, u8 serial[CAPI_SERIAL_LEN]);\nu16 capi20_get_profile(u32 contr, struct capi_profile *profp);\nint capi20_manufacturer(unsigned long cmd, void __user *data);\n\n#define CAPICTR_UP\t\t\t0\n#define CAPICTR_DOWN\t\t\t1\n\nint kcapi_init(void);\nvoid kcapi_exit(void);\n\n \n\ntypedef __u8 *_cstruct;\n\ntypedef enum {\n\tCAPI_COMPOSE,\n\tCAPI_DEFAULT\n} _cmstruct;\n\n \n\ntypedef struct {\n\t \n\t__u16 ApplId;\n\t__u8 Command;\n\t__u8 Subcommand;\n\t__u16 Messagenumber;\n\n\t \n\tunion {\n\t\t__u32 adrController;\n\t\t__u32 adrPLCI;\n\t\t__u32 adrNCCI;\n\t} adr;\n\n\t_cmstruct AdditionalInfo;\n\t_cstruct B1configuration;\n\t__u16 B1protocol;\n\t_cstruct B2configuration;\n\t__u16 B2protocol;\n\t_cstruct B3configuration;\n\t__u16 B3protocol;\n\t_cstruct BC;\n\t_cstruct BChannelinformation;\n\t_cmstruct BProtocol;\n\t_cstruct CalledPartyNumber;\n\t_cstruct CalledPartySubaddress;\n\t_cstruct CallingPartyNumber;\n\t_cstruct CallingPartySubaddress;\n\t__u32 CIPmask;\n\t__u32 CIPmask2;\n\t__u16 CIPValue;\n\t__u32 Class;\n\t_cstruct ConnectedNumber;\n\t_cstruct ConnectedSubaddress;\n\t__u32 Data;\n\t__u16 DataHandle;\n\t__u16 DataLength;\n\t_cstruct FacilityConfirmationParameter;\n\t_cstruct Facilitydataarray;\n\t_cstruct FacilityIndicationParameter;\n\t_cstruct FacilityRequestParameter;\n\t__u16 FacilitySelector;\n\t__u16 Flags;\n\t__u32 Function;\n\t_cstruct HLC;\n\t__u16 Info;\n\t_cstruct InfoElement;\n\t__u32 InfoMask;\n\t__u16 InfoNumber;\n\t_cstruct Keypadfacility;\n\t_cstruct LLC;\n\t_cstruct ManuData;\n\t__u32 ManuID;\n\t_cstruct NCPI;\n\t__u16 Reason;\n\t__u16 Reason_B3;\n\t__u16 Reject;\n\t_cstruct Useruserdata;\n\n\t \n\tunsigned l, p;\n\tunsigned char *par;\n\t__u8 *m;\n\n\t \n\t__u8 buf[180];\n\n} _cmsg;\n\n \n\n \n\nchar *capi_cmd2str(__u8 cmd, __u8 subcmd);\n\ntypedef struct {\n\tu_char\t*buf;\n\tu_char\t*p;\n\tsize_t\tsize;\n\tsize_t\tpos;\n} _cdebbuf;\n\n#define\tCDEBUG_SIZE\t1024\n#define\tCDEBUG_GSIZE\t4096\n\nvoid cdebbuf_free(_cdebbuf *cdb);\nint cdebug_init(void);\nvoid cdebug_exit(void);\n\n_cdebbuf *capi_message2str(__u8 *msg);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}