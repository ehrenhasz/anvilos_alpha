{
  "module_name": "cadence_master.h",
  "hash_id": "ebbb4104fdd5f239e142517a5fde52b60efc5d637c21f3477292d0f1485c22bd",
  "original_prompt": "Ingested from linux-6.6.14/drivers/soundwire/cadence_master.h",
  "human_readable_source": " \n \n#include <sound/soc.h>\n\n#ifndef __SDW_CADENCE_H\n#define __SDW_CADENCE_H\n\n#define SDW_CADENCE_GSYNC_KHZ\t\t4  \n#define SDW_CADENCE_GSYNC_HZ\t\t(SDW_CADENCE_GSYNC_KHZ * 1000)\n\n \n#define CDNS_MCP_IP_MAX_CMD_LEN\t\t32\n\n#define SDW_CADENCE_MCP_IP_OFFSET\t0x4000\n\n \nstruct sdw_cdns_pdi {\n\tint num;\n\tint intel_alh_id;\n\tint l_ch_num;\n\tint h_ch_num;\n\tint ch_count;\n\tenum sdw_data_direction dir;\n\tenum sdw_stream_type type;\n};\n\n \nstruct sdw_cdns_streams {\n\tunsigned int num_bd;\n\tunsigned int num_in;\n\tunsigned int num_out;\n\tunsigned int num_ch_bd;\n\tunsigned int num_ch_in;\n\tunsigned int num_ch_out;\n\tunsigned int num_pdi;\n\tstruct sdw_cdns_pdi *bd;\n\tstruct sdw_cdns_pdi *in;\n\tstruct sdw_cdns_pdi *out;\n};\n\n \nstruct sdw_cdns_stream_config {\n\tunsigned int pcm_bd;\n\tunsigned int pcm_in;\n\tunsigned int pcm_out;\n};\n\n \nstruct sdw_cdns_dai_runtime {\n\tchar *name;\n\tstruct sdw_stream_runtime *stream;\n\tstruct sdw_cdns_pdi *pdi;\n\tstruct sdw_bus *bus;\n\tenum sdw_stream_type stream_type;\n\tint link_id;\n\tbool suspended;\n\tbool paused;\n\tint direction;\n};\n\n \nstruct sdw_cdns {\n\tstruct device *dev;\n\tstruct sdw_bus bus;\n\tunsigned int instance;\n\n\tu32 ip_offset;\n\n\t \n\tu32 response_buf[CDNS_MCP_IP_MAX_CMD_LEN + 2];\n\n\tstruct completion tx_complete;\n\n\tstruct sdw_cdns_port *ports;\n\tint num_ports;\n\n\tstruct sdw_cdns_streams pcm;\n\n\tint pdi_loopback_source;\n\tint pdi_loopback_target;\n\n\tvoid __iomem *registers;\n\n\tbool link_up;\n\tunsigned int msg_count;\n\tbool interrupt_enabled;\n\n\tstruct work_struct work;\n\n\tstruct list_head list;\n\n\tstruct sdw_cdns_dai_runtime **dai_runtime_array;\n};\n\n#define bus_to_cdns(_bus) container_of(_bus, struct sdw_cdns, bus)\n\n \n\nint sdw_cdns_probe(struct sdw_cdns *cdns);\n\nirqreturn_t sdw_cdns_irq(int irq, void *dev_id);\nirqreturn_t sdw_cdns_thread(int irq, void *dev_id);\n\nint sdw_cdns_init(struct sdw_cdns *cdns);\nint sdw_cdns_pdi_init(struct sdw_cdns *cdns,\n\t\t      struct sdw_cdns_stream_config config);\nint sdw_cdns_exit_reset(struct sdw_cdns *cdns);\nint sdw_cdns_enable_interrupt(struct sdw_cdns *cdns, bool state);\n\nbool sdw_cdns_is_clock_stop(struct sdw_cdns *cdns);\nint sdw_cdns_clock_stop(struct sdw_cdns *cdns, bool block_wake);\nint sdw_cdns_clock_restart(struct sdw_cdns *cdns, bool bus_reset);\n\n#ifdef CONFIG_DEBUG_FS\nvoid sdw_cdns_debugfs_init(struct sdw_cdns *cdns, struct dentry *root);\n#endif\n\nstruct sdw_cdns_pdi *sdw_cdns_alloc_pdi(struct sdw_cdns *cdns,\n\t\t\t\t\tstruct sdw_cdns_streams *stream,\n\t\t\t\t\tu32 ch, u32 dir, int dai_id);\nvoid sdw_cdns_config_stream(struct sdw_cdns *cdns,\n\t\t\t    u32 ch, u32 dir, struct sdw_cdns_pdi *pdi);\n\nenum sdw_command_response\ncdns_xfer_msg(struct sdw_bus *bus, struct sdw_msg *msg);\n\nenum sdw_command_response\ncdns_xfer_msg_defer(struct sdw_bus *bus);\n\nu32 cdns_read_ping_status(struct sdw_bus *bus);\n\nint cdns_bus_conf(struct sdw_bus *bus, struct sdw_bus_params *params);\n\nint cdns_set_sdw_stream(struct snd_soc_dai *dai,\n\t\t\tvoid *stream, int direction);\n\nvoid sdw_cdns_check_self_clearing_bits(struct sdw_cdns *cdns, const char *string,\n\t\t\t\t       bool initial_delay, int reset_iterations);\n\nvoid sdw_cdns_config_update(struct sdw_cdns *cdns);\nint sdw_cdns_config_update_set_wait(struct sdw_cdns *cdns);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}