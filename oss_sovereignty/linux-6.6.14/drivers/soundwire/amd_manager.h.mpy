{
  "module_name": "amd_manager.h",
  "hash_id": "4dd3be4649c28f9d352cd316288d7b2dba0075299f119584fc53b80450ad3736",
  "original_prompt": "Ingested from linux-6.6.14/drivers/soundwire/amd_manager.h",
  "human_readable_source": " \n \n\n#ifndef __AMD_MANAGER_H\n#define __AMD_MANAGER_H\n\n#include <linux/soundwire/sdw_amd.h>\n\n#define SDW_MANAGER_REG_OFFSET\t\t\t\t0xc00\n#define AMD_SDW_DEFAULT_ROWS\t\t\t\t50\n#define AMD_SDW_DEFAULT_COLUMNS\t\t\t\t10\n#define ACP_PAD_PULLDOWN_CTRL\t\t\t\t0x0001448\n#define ACP_SW_PAD_KEEPER_EN\t\t\t\t0x0001454\n#define ACP_SW0_WAKE_EN\t\t\t\t\t0x0001458\n#define ACP_EXTERNAL_INTR_CNTL0\t\t\t\t0x0001a04\n#define ACP_EXTERNAL_INTR_STAT0\t\t\t\t0x0001a0c\n#define ACP_EXTERNAL_INTR_CNTL(i)\t\t\t(ACP_EXTERNAL_INTR_CNTL0 + ((i) * 4))\n#define ACP_EXTERNAL_INTR_STAT(i)\t\t\t(ACP_EXTERNAL_INTR_STAT0 + ((i) * 4))\n#define ACP_SW_WAKE_EN(i)\t\t\t\t(ACP_SW0_WAKE_EN + ((i) * 8))\n\n#define ACP_SW_EN\t\t\t\t\t0x0003000\n#define ACP_SW_EN_STATUS\t\t\t\t0x0003004\n#define ACP_SW_FRAMESIZE\t\t\t\t0x0003008\n#define ACP_SW_SSP_COUNTER\t\t\t\t0x000300c\n#define ACP_SW_AUDIO0_TX_EN\t\t\t\t0x0003010\n#define ACP_SW_AUDIO0_TX_EN_STATUS\t\t\t0x0003014\n#define ACP_SW_AUDIO0_TX_FRAME_FORMAT\t\t\t0x0003018\n#define ACP_SW_AUDIO0_TX_SAMPLEINTERVAL\t\t\t0x000301c\n#define ACP_SW_AUDIO0_TX_HCTRL_DP0\t\t\t0x0003020\n#define ACP_SW_AUDIO0_TX_HCTRL_DP1\t\t\t0x0003024\n#define ACP_SW_AUDIO0_TX_HCTRL_DP2\t\t\t0x0003028\n#define ACP_SW_AUDIO0_TX_HCTRL_DP3\t\t\t0x000302c\n#define ACP_SW_AUDIO0_TX_OFFSET_DP0\t\t\t0x0003030\n#define ACP_SW_AUDIO0_TX_OFFSET_DP1\t\t\t0x0003034\n#define ACP_SW_AUDIO0_TX_OFFSET_DP2\t\t\t0x0003038\n#define ACP_SW_AUDIO0_TX_OFFSET_DP3\t\t\t0x000303c\n#define ACP_SW_AUDIO0_TX_CHANNEL_ENABLE_DP0\t\t0x0003040\n#define ACP_SW_AUDIO0_TX_CHANNEL_ENABLE_DP1\t\t0x0003044\n#define ACP_SW_AUDIO0_TX_CHANNEL_ENABLE_DP2\t\t0x0003048\n#define ACP_SW_AUDIO0_TX_CHANNEL_ENABLE_DP3\t\t0x000304c\n#define ACP_SW_AUDIO1_TX_EN\t\t\t\t0x0003050\n#define ACP_SW_AUDIO1_TX_EN_STATUS\t\t\t0x0003054\n#define ACP_SW_AUDIO1_TX_FRAME_FORMAT\t\t\t0x0003058\n#define ACP_SW_AUDIO1_TX_SAMPLEINTERVAL\t\t\t0x000305c\n#define ACP_SW_AUDIO1_TX_HCTRL\t\t\t\t0x0003060\n#define ACP_SW_AUDIO1_TX_OFFSET\t\t\t\t0x0003064\n#define ACP_SW_AUDIO1_TX_CHANNEL_ENABLE_DP0\t\t0x0003068\n#define ACP_SW_AUDIO2_TX_EN\t\t\t\t0x000306c\n#define ACP_SW_AUDIO2_TX_EN_STATUS\t\t\t0x0003070\n#define ACP_SW_AUDIO2_TX_FRAME_FORMAT\t\t\t0x0003074\n#define ACP_SW_AUDIO2_TX_SAMPLEINTERVAL\t\t\t0x0003078\n#define ACP_SW_AUDIO2_TX_HCTRL\t\t\t\t0x000307c\n#define ACP_SW_AUDIO2_TX_OFFSET\t\t\t\t0x0003080\n#define ACP_SW_AUDIO2_TX_CHANNEL_ENABLE_DP0\t\t0x0003084\n#define ACP_SW_AUDIO0_RX_EN\t\t\t\t0x0003088\n#define ACP_SW_AUDIO0_RX_EN_STATUS\t\t\t0x000308c\n#define ACP_SW_AUDIO0_RX_FRAME_FORMAT\t\t\t0x0003090\n#define ACP_SW_AUDIO0_RX_SAMPLEINTERVAL\t\t\t0x0003094\n#define ACP_SW_AUDIO0_RX_HCTRL_DP0\t\t\t0x0003098\n#define ACP_SW_AUDIO0_RX_HCTRL_DP1\t\t\t0x000309c\n#define ACP_SW_AUDIO0_RX_HCTRL_DP2\t\t\t0x0003100\n#define ACP_SW_AUDIO0_RX_HCTRL_DP3\t\t\t0x0003104\n#define ACP_SW_AUDIO0_RX_OFFSET_DP0\t\t\t0x0003108\n#define ACP_SW_AUDIO0_RX_OFFSET_DP1\t\t\t0x000310c\n#define ACP_SW_AUDIO0_RX_OFFSET_DP2\t\t\t0x0003110\n#define ACP_SW_AUDIO0_RX_OFFSET_DP3\t\t\t0x0003114\n#define ACP_SW_AUDIO0_RX_CHANNEL_ENABLE_DP0\t\t0x0003118\n#define ACP_SW_AUDIO0_RX_CHANNEL_ENABLE_DP1\t\t0x000311c\n#define ACP_SW_AUDIO0_RX_CHANNEL_ENABLE_DP2\t\t0x0003120\n#define ACP_SW_AUDIO0_RX_CHANNEL_ENABLE_DP3\t\t0x0003124\n#define ACP_SW_AUDIO1_RX_EN\t\t\t\t0x0003128\n#define ACP_SW_AUDIO1_RX_EN_STATUS\t\t\t0x000312c\n#define ACP_SW_AUDIO1_RX_FRAME_FORMAT\t\t\t0x0003130\n#define ACP_SW_AUDIO1_RX_SAMPLEINTERVAL\t\t\t0x0003134\n#define ACP_SW_AUDIO1_RX_HCTRL\t\t\t\t0x0003138\n#define ACP_SW_AUDIO1_RX_OFFSET\t\t\t\t0x000313c\n#define ACP_SW_AUDIO1_RX_CHANNEL_ENABLE_DP0\t\t0x0003140\n#define ACP_SW_AUDIO2_RX_EN\t\t\t\t0x0003144\n#define ACP_SW_AUDIO2_RX_EN_STATUS\t\t\t0x0003148\n#define ACP_SW_AUDIO2_RX_FRAME_FORMAT\t\t\t0x000314c\n#define ACP_SW_AUDIO2_RX_SAMPLEINTERVAL\t\t\t0x0003150\n#define ACP_SW_AUDIO2_RX_HCTRL\t\t\t\t0x0003154\n#define ACP_SW_AUDIO2_RX_OFFSET\t\t\t\t0x0003158\n#define ACP_SW_AUDIO2_RX_CHANNEL_ENABLE_DP0\t\t0x000315c\n#define ACP_SW_BPT_PORT_EN\t\t\t\t0x0003160\n#define ACP_SW_BPT_PORT_EN_STATUS\t\t\t0x0003164\n#define ACP_SW_BPT_PORT_FRAME_FORMAT\t\t\t0x0003168\n#define ACP_SW_BPT_PORT_SAMPLEINTERVAL\t\t\t0x000316c\n#define ACP_SW_BPT_PORT_HCTRL\t\t\t\t0x0003170\n#define ACP_SW_BPT_PORT_OFFSET\t\t\t\t0x0003174\n#define ACP_SW_BPT_PORT_CHANNEL_ENABLE\t\t\t0x0003178\n#define ACP_SW_BPT_PORT_FIRST_BYTE_ADDR\t\t\t0x000317c\n#define ACP_SW_CLK_RESUME_CTRL\t\t\t\t0x0003180\n#define ACP_SW_CLK_RESUME_DELAY_CNTR\t\t\t0x0003184\n#define ACP_SW_BUS_RESET_CTRL\t\t\t\t0x0003188\n#define ACP_SW_PRBS_ERR_STATUS\t\t\t\t0x000318c\n#define ACP_SW_IMM_CMD_UPPER_WORD\t\t\t0x0003230\n#define ACP_SW_IMM_CMD_LOWER_QWORD\t\t\t0x0003234\n#define ACP_SW_IMM_RESP_UPPER_WORD\t\t\t0x0003238\n#define ACP_SW_IMM_RESP_LOWER_QWORD\t\t\t0x000323c\n#define ACP_SW_IMM_CMD_STS\t\t\t\t0x0003240\n#define ACP_SW_BRA_BASE_ADDRESS\t\t\t\t0x0003244\n#define ACP_SW_BRA_TRANSFER_SIZE\t\t\t0x0003248\n#define ACP_SW_BRA_DMA_BUSY\t\t\t\t0x000324c\n#define ACP_SW_BRA_RESP\t\t\t\t\t0x0003250\n#define ACP_SW_BRA_RESP_FRAME_ADDR\t\t\t0x0003254\n#define ACP_SW_BRA_CURRENT_TRANSFER_SIZE\t\t0x0003258\n#define ACP_SW_STATE_CHANGE_STATUS_0TO7\t\t\t0x000325c\n#define ACP_SW_STATE_CHANGE_STATUS_8TO11\t\t0x0003260\n#define ACP_SW_STATE_CHANGE_STATUS_MASK_0TO7\t\t0x0003264\n#define ACP_SW_STATE_CHANGE_STATUS_MASK_8TO11\t\t0x0003268\n#define ACP_SW_CLK_FREQUENCY_CTRL\t\t\t0x000326c\n#define ACP_SW_ERROR_INTR_MASK\t\t\t\t0x0003270\n#define ACP_SW_PHY_TEST_MODE_DATA_OFF\t\t\t0x0003274\n\n#define ACP_DELAY_US\t\t\t\t\t10\n#define AMD_SDW_TIMEOUT\t\t\t\t\t1000\n#define AMD_SDW_DEFAULT_CLK_FREQ\t\t\t12000000\n\n#define AMD_SDW_MCP_RESP_ACK\t\t\t\tBIT(0)\n#define AMD_SDW_MCP_RESP_NACK\t\t\t\tBIT(1)\n#define AMD_SDW_MCP_RESP_RDATA\t\t\t\tGENMASK(14, 7)\n\n#define AMD_SDW_MCP_CMD_SSP_TAG\t\t\t\tBIT(31)\n#define AMD_SDW_MCP_CMD_COMMAND\t\t\t\tGENMASK(14, 12)\n#define AMD_SDW_MCP_CMD_DEV_ADDR\t\t\tGENMASK(11, 8)\n#define AMD_SDW_MCP_CMD_REG_ADDR_HIGH\t\t\tGENMASK(7, 0)\n#define AMD_SDW_MCP_CMD_REG_ADDR_LOW\t\t\tGENMASK(31, 24)\n#define AMD_SDW_MCP_CMD_REG_DATA\t\t\tGENMASK(14, 7)\n#define AMD_SDW_MCP_SLAVE_STAT_0_3\t\t\tGENMASK(14, 7)\n#define AMD_SDW_MCP_SLAVE_STAT_4_11\t\t\tGENMASK_ULL(39, 24)\n#define AMD_SDW_MCP_SLAVE_STATUS_MASK\t\t\tGENMASK(1, 0)\n#define AMD_SDW_MCP_SLAVE_STATUS_BITS\t\t\tGENMASK(3, 2)\n#define AMD_SDW_MCP_SLAVE_STATUS_8TO_11\t\t\tGENMASK_ULL(15, 0)\n#define AMD_SDW_MCP_SLAVE_STATUS_VALID_MASK(x)\t\tBIT(((x) * 4))\n#define AMD_SDW_MCP_SLAVE_STAT_SHIFT_MASK(x)\t\t(((x) * 4) + 1)\n\n#define AMD_SDW_MASTER_SUSPEND_DELAY_MS\t\t\t2000\n#define AMD_SDW_QUIRK_MASK_BUS_ENABLE\t\t\tBIT(0)\n\n#define AMD_SDW_IMM_RES_VALID\t\t1\n#define AMD_SDW_IMM_CMD_BUSY\t\t2\n#define AMD_SDW_ENABLE\t\t\t1\n#define AMD_SDW_DISABLE\t\t\t0\n#define AMD_SDW_BUS_RESET_CLEAR_REQ\t0\n#define AMD_SDW_BUS_RESET_REQ\t\t1\n#define AMD_SDW_BUS_RESET_DONE\t\t2\n#define AMD_SDW_BUS_BASE_FREQ\t\t24000000\n\n#define AMD_SDW0_EXT_INTR_MASK\t\t0x200000\n#define AMD_SDW1_EXT_INTR_MASK\t\t4\n#define AMD_SDW_IRQ_MASK_0TO7\t\t0x77777777\n#define AMD_SDW_IRQ_MASK_8TO11\t\t0x000d7777\n#define AMD_SDW_IRQ_ERROR_MASK\t\t0xff\n#define AMD_SDW_MAX_FREQ_NUM\t\t1\n#define AMD_SDW0_MAX_TX_PORTS\t\t3\n#define AMD_SDW0_MAX_RX_PORTS\t\t3\n#define AMD_SDW1_MAX_TX_PORTS\t\t1\n#define AMD_SDW1_MAX_RX_PORTS\t\t1\n#define AMD_SDW0_MAX_DAI\t\t6\n#define AMD_SDW1_MAX_DAI\t\t2\n#define AMD_SDW_SLAVE_0_ATTACHED\t5\n#define AMD_SDW_SSP_COUNTER_VAL\t\t3\n\n#define AMD_DPN_FRAME_FMT_PFM\t\t\t\tGENMASK(1, 0)\n#define AMD_DPN_FRAME_FMT_PDM\t\t\t\tGENMASK(3, 2)\n#define AMD_DPN_FRAME_FMT_BLK_PKG_MODE\t\t\tBIT(4)\n#define AMD_DPN_FRAME_FMT_BLK_GRP_CTRL\t\t\tGENMASK(6, 5)\n#define AMD_DPN_FRAME_FMT_WORD_LEN\t\t\tGENMASK(12, 7)\n#define AMD_DPN_FRAME_FMT_PCM_OR_PDM\t\t\tBIT(13)\n#define AMD_DPN_HCTRL_HSTOP\t\t\t\tGENMASK(3, 0)\n#define AMD_DPN_HCTRL_HSTART\t\t\t\tGENMASK(7, 4)\n#define AMD_DPN_OFFSET_CTRL_1\t\t\t\tGENMASK(7, 0)\n#define AMD_DPN_OFFSET_CTRL_2\t\t\t\tGENMASK(15, 8)\n#define AMD_DPN_CH_EN_LCTRL\t\t\t\tGENMASK(2, 0)\n#define AMD_DPN_CH_EN_CHMASK\t\t\t\tGENMASK(10, 3)\n#define AMD_SDW_STAT_MAX_RETRY_COUNT\t\t\t100\n#define AMD_SDW0_PAD_PULLDOWN_CTRL_ENABLE_MASK\t\t0x7f9f\n#define AMD_SDW1_PAD_PULLDOWN_CTRL_ENABLE_MASK\t\t0x7ffa\n#define AMD_SDW0_PAD_PULLDOWN_CTRL_DISABLE_MASK\t\t0x60\n#define AMD_SDW1_PAD_PULLDOWN_CTRL_DISABLE_MASK\t\t5\n#define AMD_SDW0_PAD_KEEPER_EN_MASK\t\t\t1\n#define AMD_SDW1_PAD_KEEPER_EN_MASK\t\t\t0x10\n#define AMD_SDW0_PAD_KEEPER_DISABLE_MASK\t\t0x1e\n#define AMD_SDW1_PAD_KEEPER_DISABLE_MASK\t\t0xf\n#define AMD_SDW_PREQ_INTR_STAT\t\t\t\tBIT(19)\n#define AMD_SDW_CLK_STOP_DONE\t\t\t\t1\n#define AMD_SDW_CLK_RESUME_REQ\t\t\t\t2\n#define AMD_SDW_CLK_RESUME_DONE\t\t\t\t3\n#define AMD_SDW_WAKE_STAT_MASK\t\t\t\tBIT(16)\n\nstatic u32 amd_sdw_freq_tbl[AMD_SDW_MAX_FREQ_NUM] = {\n\tAMD_SDW_DEFAULT_CLK_FREQ,\n};\n\nstruct sdw_manager_dp_reg {\n\tu32 frame_fmt_reg;\n\tu32 sample_int_reg;\n\tu32 hctrl_dp0_reg;\n\tu32 offset_reg;\n\tu32 lane_ctrl_ch_en_reg;\n};\n\n \n\nstatic struct sdw_manager_dp_reg sdw0_manager_dp_reg[AMD_SDW0_MAX_DAI] =  {\n\t{ACP_SW_AUDIO0_TX_FRAME_FORMAT, ACP_SW_AUDIO0_TX_SAMPLEINTERVAL, ACP_SW_AUDIO0_TX_HCTRL_DP0,\n\t ACP_SW_AUDIO0_TX_OFFSET_DP0, ACP_SW_AUDIO0_TX_CHANNEL_ENABLE_DP0},\n\t{ACP_SW_AUDIO1_TX_FRAME_FORMAT, ACP_SW_AUDIO1_TX_SAMPLEINTERVAL, ACP_SW_AUDIO1_TX_HCTRL,\n\t ACP_SW_AUDIO1_TX_OFFSET, ACP_SW_AUDIO1_TX_CHANNEL_ENABLE_DP0},\n\t{ACP_SW_AUDIO2_TX_FRAME_FORMAT, ACP_SW_AUDIO2_TX_SAMPLEINTERVAL, ACP_SW_AUDIO2_TX_HCTRL,\n\t ACP_SW_AUDIO2_TX_OFFSET, ACP_SW_AUDIO2_TX_CHANNEL_ENABLE_DP0},\n\t{ACP_SW_AUDIO0_RX_FRAME_FORMAT, ACP_SW_AUDIO0_RX_SAMPLEINTERVAL, ACP_SW_AUDIO0_RX_HCTRL_DP0,\n\t ACP_SW_AUDIO0_RX_OFFSET_DP0, ACP_SW_AUDIO0_RX_CHANNEL_ENABLE_DP0},\n\t{ACP_SW_AUDIO1_RX_FRAME_FORMAT, ACP_SW_AUDIO1_RX_SAMPLEINTERVAL, ACP_SW_AUDIO1_RX_HCTRL,\n\t ACP_SW_AUDIO1_RX_OFFSET, ACP_SW_AUDIO1_RX_CHANNEL_ENABLE_DP0},\n\t{ACP_SW_AUDIO2_RX_FRAME_FORMAT, ACP_SW_AUDIO2_RX_SAMPLEINTERVAL, ACP_SW_AUDIO2_RX_HCTRL,\n\t ACP_SW_AUDIO2_RX_OFFSET, ACP_SW_AUDIO2_RX_CHANNEL_ENABLE_DP0},\n};\n\nstatic struct sdw_manager_dp_reg sdw1_manager_dp_reg[AMD_SDW1_MAX_DAI] =  {\n\t{ACP_SW_AUDIO1_TX_FRAME_FORMAT, ACP_SW_AUDIO1_TX_SAMPLEINTERVAL, ACP_SW_AUDIO1_TX_HCTRL,\n\t ACP_SW_AUDIO1_TX_OFFSET, ACP_SW_AUDIO1_TX_CHANNEL_ENABLE_DP0},\n\t{ACP_SW_AUDIO1_RX_FRAME_FORMAT, ACP_SW_AUDIO1_RX_SAMPLEINTERVAL, ACP_SW_AUDIO1_RX_HCTRL,\n\t ACP_SW_AUDIO1_RX_OFFSET, ACP_SW_AUDIO1_RX_CHANNEL_ENABLE_DP0}\n};\n\nstatic struct sdw_manager_reg_mask sdw_manager_reg_mask_array[2] =  {\n\t{\n\t\tAMD_SDW0_PAD_KEEPER_EN_MASK,\n\t\tAMD_SDW0_PAD_PULLDOWN_CTRL_ENABLE_MASK,\n\t\tAMD_SDW0_EXT_INTR_MASK\n\t},\n\t{\n\t\tAMD_SDW1_PAD_KEEPER_EN_MASK,\n\t\tAMD_SDW1_PAD_PULLDOWN_CTRL_ENABLE_MASK,\n\t\tAMD_SDW1_EXT_INTR_MASK\n\t}\n};\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}