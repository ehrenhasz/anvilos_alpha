{
  "module_name": "dmi-quirks.c",
  "hash_id": "f9a7f585da68bff8619482a39ef70227bb36cd8436874b1011dd9f282547c71a",
  "original_prompt": "Ingested from linux-6.6.14/drivers/soundwire/dmi-quirks.c",
  "human_readable_source": "\n\n\n \n\n#include <linux/device.h>\n#include <linux/dmi.h>\n#include <linux/soundwire/sdw.h>\n#include \"bus.h\"\n\nstruct adr_remap {\n\tu64 adr;\n\tu64 remapped_adr;\n};\n\n \nstatic const struct adr_remap intel_tgl_bios[] = {\n\t{\n\t\t0x000010025D070100ull,\n\t\t0x000020025D071100ull\n\t},\n\t{\n\t\t0x000110025d070100ull,\n\t\t0x000120025D130800ull\n\t},\n\t{}\n};\n\n \nstatic const struct adr_remap dell_sku_0A3E[] = {\n\t \n\t{\n\t\t0x00020025d071100ull,\n\t\t0x00021025d071500ull\n\t},\n\t \n\t{\n\t\t0x000120025d130800ull,\n\t\t0x000120025d071100ull,\n\t},\n\t \n\t{\n\t\t0x000220025d071500ull,\n\t\t0x000220025d130800ull\n\t},\n\t{}\n};\n\n \nstatic const struct adr_remap hp_omen_16[] = {\n\t \n\t{\n\t\t0x000020025d071100ull,\n\t\t0x000030025d071101ull\n\t},\n\t \n\t{\n\t\t0x000120025d071100ull,\n\t\t0x000330025d131601ull\n\t},\n\t{}\n};\n\n \nstatic const struct adr_remap intel_rooks_county[] = {\n\t \n\t{\n\t\t0x000020025d071100ull,\n\t\t0x000030025d071101ull\n\t},\n\t \n\t{\n\t\t0x000120025d071100ull,\n\t\t0x000230025d131601ull\n\t},\n\t{}\n};\n\nstatic const struct dmi_system_id adr_remap_quirk_table[] = {\n\t \n\t{\n\t\t.matches = {\n\t\t\tDMI_MATCH(DMI_SYS_VENDOR, \"HP\"),\n\t\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"HP Spectre x360 Conv\"),\n\t\t},\n\t\t.driver_data = (void *)intel_tgl_bios,\n\t},\n\t{\n\t\t.matches = {\n\t\t\tDMI_MATCH(DMI_SYS_VENDOR, \"HP\"),\n\t\t\tDMI_MATCH(DMI_BOARD_NAME, \"8709\"),\n\t\t},\n\t\t.driver_data = (void *)intel_tgl_bios,\n\t},\n\t{\n\t\t \n\t\t.matches = {\n\t\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Intel(R) Client Systems\"),\n\t\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"LAPBC\"),\n\t\t},\n\t\t.driver_data = (void *)intel_tgl_bios,\n\t},\n\t{\n\t\t \n\t\t.matches = {\n\t\t\tDMI_MATCH(DMI_BOARD_VENDOR, \"Intel Corporation\"),\n\t\t\tDMI_MATCH(DMI_BOARD_NAME, \"LAPBC710\"),\n\t\t},\n\t\t.driver_data = (void *)intel_tgl_bios,\n\t},\n\t{\n\t\t \n\t\t.matches = {\n\t\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Intel(R) Client Systems\"),\n\t\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"LAPRC\"),\n\t\t},\n\t\t.driver_data = (void *)intel_rooks_county,\n\t},\n\t{\n\t\t.matches = {\n\t\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Dell Inc\"),\n\t\t\tDMI_EXACT_MATCH(DMI_PRODUCT_SKU, \"0A3E\")\n\t\t},\n\t\t.driver_data = (void *)dell_sku_0A3E,\n\t},\n\t \n\t{\n\t\t.matches = {\n\t\t\tDMI_MATCH(DMI_SYS_VENDOR, \"HP\"),\n\t\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"OMEN by HP Gaming Laptop 16\"),\n\t\t},\n\t\t.driver_data = (void *)hp_omen_16,\n\t},\n\t{}\n};\n\nu64 sdw_dmi_override_adr(struct sdw_bus *bus, u64 addr)\n{\n\tconst struct dmi_system_id *dmi_id;\n\n\t \n\tdmi_id = dmi_first_match(adr_remap_quirk_table);\n\tif (dmi_id) {\n\t\tstruct adr_remap *map;\n\n\t\tfor (map = dmi_id->driver_data; map->adr; map++) {\n\t\t\tif (map->adr == addr) {\n\t\t\t\tdev_dbg(bus->dev, \"remapped _ADR 0x%llx as 0x%llx\\n\",\n\t\t\t\t\taddr, map->remapped_adr);\n\t\t\t\taddr = map->remapped_adr;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn addr;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}