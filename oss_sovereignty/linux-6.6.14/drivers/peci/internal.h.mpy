{
  "module_name": "internal.h",
  "hash_id": "65ce8c815e13fbe3aca9f2c2ea21302769029996118fc8007c7aaaa0425a5464",
  "original_prompt": "Ingested from linux-6.6.14/drivers/peci/internal.h",
  "human_readable_source": " \n \n\n#ifndef __PECI_INTERNAL_H\n#define __PECI_INTERNAL_H\n\n#include <linux/device.h>\n#include <linux/types.h>\n\nstruct peci_controller;\nstruct attribute_group;\nstruct peci_device;\nstruct peci_request;\n\n \n#define PECI_BASE_ADDR\t\t0x30\n#define PECI_DEVICE_NUM_MAX\t8\n\nstruct peci_request *peci_request_alloc(struct peci_device *device, u8 tx_len, u8 rx_len);\nvoid peci_request_free(struct peci_request *req);\n\nint peci_request_status(struct peci_request *req);\n\nu64 peci_request_dib_read(struct peci_request *req);\ns16 peci_request_temp_read(struct peci_request *req);\n\nu8 peci_request_data_readb(struct peci_request *req);\nu16 peci_request_data_readw(struct peci_request *req);\nu32 peci_request_data_readl(struct peci_request *req);\nu64 peci_request_data_readq(struct peci_request *req);\n\nstruct peci_request *peci_xfer_get_dib(struct peci_device *device);\nstruct peci_request *peci_xfer_get_temp(struct peci_device *device);\n\nstruct peci_request *peci_xfer_pkg_cfg_readb(struct peci_device *device, u8 index, u16 param);\nstruct peci_request *peci_xfer_pkg_cfg_readw(struct peci_device *device, u8 index, u16 param);\nstruct peci_request *peci_xfer_pkg_cfg_readl(struct peci_device *device, u8 index, u16 param);\nstruct peci_request *peci_xfer_pkg_cfg_readq(struct peci_device *device, u8 index, u16 param);\n\nstruct peci_request *peci_xfer_pci_cfg_local_readb(struct peci_device *device,\n\t\t\t\t\t\t   u8 bus, u8 dev, u8 func, u16 reg);\nstruct peci_request *peci_xfer_pci_cfg_local_readw(struct peci_device *device,\n\t\t\t\t\t\t   u8 bus, u8 dev, u8 func, u16 reg);\nstruct peci_request *peci_xfer_pci_cfg_local_readl(struct peci_device *device,\n\t\t\t\t\t\t   u8 bus, u8 dev, u8 func, u16 reg);\n\nstruct peci_request *peci_xfer_ep_pci_cfg_local_readb(struct peci_device *device, u8 seg,\n\t\t\t\t\t\t      u8 bus, u8 dev, u8 func, u16 reg);\nstruct peci_request *peci_xfer_ep_pci_cfg_local_readw(struct peci_device *device, u8 seg,\n\t\t\t\t\t\t      u8 bus, u8 dev, u8 func, u16 reg);\nstruct peci_request *peci_xfer_ep_pci_cfg_local_readl(struct peci_device *device, u8 seg,\n\t\t\t\t\t\t      u8 bus, u8 dev, u8 func, u16 reg);\n\nstruct peci_request *peci_xfer_ep_pci_cfg_readb(struct peci_device *device, u8 seg,\n\t\t\t\t\t\tu8 bus, u8 dev, u8 func, u16 reg);\nstruct peci_request *peci_xfer_ep_pci_cfg_readw(struct peci_device *device, u8 seg,\n\t\t\t\t\t\tu8 bus, u8 dev, u8 func, u16 reg);\nstruct peci_request *peci_xfer_ep_pci_cfg_readl(struct peci_device *device, u8 seg,\n\t\t\t\t\t\tu8 bus, u8 dev, u8 func, u16 reg);\n\nstruct peci_request *peci_xfer_ep_mmio32_readl(struct peci_device *device, u8 bar, u8 seg,\n\t\t\t\t\t       u8 bus, u8 dev, u8 func, u64 offset);\n\nstruct peci_request *peci_xfer_ep_mmio64_readl(struct peci_device *device, u8 bar, u8 seg,\n\t\t\t\t\t       u8 bus, u8 dev, u8 func, u64 offset);\n \nstruct peci_device_id {\n\tconst void *data;\n\tu16 family;\n\tu8 model;\n};\n\nextern struct device_type peci_device_type;\nextern const struct attribute_group *peci_device_groups[];\n\nint peci_device_create(struct peci_controller *controller, u8 addr);\nvoid peci_device_destroy(struct peci_device *device);\n\nextern struct bus_type peci_bus_type;\nextern const struct attribute_group *peci_bus_groups[];\n\n \nstruct peci_driver {\n\tstruct device_driver driver;\n\tint (*probe)(struct peci_device *device, const struct peci_device_id *id);\n\tvoid (*remove)(struct peci_device *device);\n\tconst struct peci_device_id *id_table;\n};\n\nstatic inline struct peci_driver *to_peci_driver(struct device_driver *d)\n{\n\treturn container_of(d, struct peci_driver, driver);\n}\n\nint __peci_driver_register(struct peci_driver *driver, struct module *owner,\n\t\t\t   const char *mod_name);\n \n#define peci_driver_register(driver) \\\n\t__peci_driver_register(driver, THIS_MODULE, KBUILD_MODNAME)\nvoid peci_driver_unregister(struct peci_driver *driver);\n\n \n#define module_peci_driver(__peci_driver) \\\n\tmodule_driver(__peci_driver, peci_driver_register, peci_driver_unregister)\n\nextern struct device_type peci_controller_type;\n\nint peci_controller_scan_devices(struct peci_controller *controller);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}