{
  "module_name": "hv_trace.h",
  "hash_id": "50c0b2b92e975220f3d491797af1ef52c8d457cee5f8259f43ac2d8483d6d935",
  "original_prompt": "Ingested from linux-6.6.14/drivers/hv/hv_trace.h",
  "human_readable_source": " \n\n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM hyperv\n\n#if !defined(_HV_TRACE_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _HV_TRACE_H\n\n#include <linux/tracepoint.h>\n\nDECLARE_EVENT_CLASS(vmbus_hdr_msg,\n\tTP_PROTO(const struct vmbus_channel_message_header *hdr),\n\tTP_ARGS(hdr),\n\tTP_STRUCT__entry(__field(unsigned int, msgtype)),\n\tTP_fast_assign(__entry->msgtype = hdr->msgtype;),\n\tTP_printk(\"msgtype=%u\", __entry->msgtype)\n);\n\nDEFINE_EVENT(vmbus_hdr_msg, vmbus_on_msg_dpc,\n\tTP_PROTO(const struct vmbus_channel_message_header *hdr),\n\tTP_ARGS(hdr)\n);\n\nDEFINE_EVENT(vmbus_hdr_msg, vmbus_on_message,\n\tTP_PROTO(const struct vmbus_channel_message_header *hdr),\n\tTP_ARGS(hdr)\n);\n\nTRACE_EVENT(vmbus_onoffer,\n\t    TP_PROTO(const struct vmbus_channel_offer_channel *offer),\n\t    TP_ARGS(offer),\n\t    TP_STRUCT__entry(\n\t\t    __field(u32, child_relid)\n\t\t    __field(u8, monitorid)\n\t\t    __field(u16, is_ddc_int)\n\t\t    __field(u32, connection_id)\n\t\t    __array(char, if_type, 16)\n\t\t    __array(char, if_instance, 16)\n\t\t    __field(u16, chn_flags)\n\t\t    __field(u16, mmio_mb)\n\t\t    __field(u16, sub_idx)\n\t\t    ),\n\t    TP_fast_assign(__entry->child_relid = offer->child_relid;\n\t\t\t   __entry->monitorid = offer->monitorid;\n\t\t\t   __entry->is_ddc_int = offer->is_dedicated_interrupt;\n\t\t\t   __entry->connection_id = offer->connection_id;\n\t\t\t   export_guid(__entry->if_type, &offer->offer.if_type);\n\t\t\t   export_guid(__entry->if_instance, &offer->offer.if_instance);\n\t\t\t   __entry->chn_flags = offer->offer.chn_flags;\n\t\t\t   __entry->mmio_mb = offer->offer.mmio_megabytes;\n\t\t\t   __entry->sub_idx = offer->offer.sub_channel_index;\n\t\t    ),\n\t    TP_printk(\"child_relid 0x%x, monitorid 0x%x, is_dedicated %d, \"\n\t\t      \"connection_id 0x%x, if_type %pUl, if_instance %pUl, \"\n\t\t      \"chn_flags 0x%x, mmio_megabytes %d, sub_channel_index %d\",\n\t\t      __entry->child_relid, __entry->monitorid,\n\t\t      __entry->is_ddc_int, __entry->connection_id,\n\t\t      __entry->if_type, __entry->if_instance,\n\t\t      __entry->chn_flags, __entry->mmio_mb,\n\t\t      __entry->sub_idx\n\t\t    )\n\t);\n\nTRACE_EVENT(vmbus_onoffer_rescind,\n\t    TP_PROTO(const struct vmbus_channel_rescind_offer *offer),\n\t    TP_ARGS(offer),\n\t    TP_STRUCT__entry(__field(u32, child_relid)),\n\t    TP_fast_assign(__entry->child_relid = offer->child_relid),\n\t    TP_printk(\"child_relid 0x%x\", __entry->child_relid)\n\t);\n\nTRACE_EVENT(vmbus_onopen_result,\n\t    TP_PROTO(const struct vmbus_channel_open_result *result),\n\t    TP_ARGS(result),\n\t    TP_STRUCT__entry(\n\t\t    __field(u32, child_relid)\n\t\t    __field(u32, openid)\n\t\t    __field(u32, status)\n\t\t    ),\n\t    TP_fast_assign(__entry->child_relid = result->child_relid;\n\t\t\t   __entry->openid = result->openid;\n\t\t\t   __entry->status = result->status;\n\t\t    ),\n\t    TP_printk(\"child_relid 0x%x, openid %d, status %d\",\n\t\t      __entry->child_relid,  __entry->openid,  __entry->status\n\t\t    )\n\t);\n\nTRACE_EVENT(vmbus_ongpadl_created,\n\t    TP_PROTO(const struct vmbus_channel_gpadl_created *gpadlcreated),\n\t    TP_ARGS(gpadlcreated),\n\t    TP_STRUCT__entry(\n\t\t    __field(u32, child_relid)\n\t\t    __field(u32, gpadl)\n\t\t    __field(u32, status)\n\t\t    ),\n\t    TP_fast_assign(__entry->child_relid = gpadlcreated->child_relid;\n\t\t\t   __entry->gpadl = gpadlcreated->gpadl;\n\t\t\t   __entry->status = gpadlcreated->creation_status;\n\t\t    ),\n\t    TP_printk(\"child_relid 0x%x, gpadl 0x%x, creation_status %d\",\n\t\t      __entry->child_relid,  __entry->gpadl,  __entry->status\n\t\t    )\n\t);\n\nTRACE_EVENT(vmbus_onmodifychannel_response,\n\t    TP_PROTO(const struct vmbus_channel_modifychannel_response *response),\n\t    TP_ARGS(response),\n\t    TP_STRUCT__entry(\n\t\t    __field(u32, child_relid)\n\t\t    __field(u32, status)\n\t\t    ),\n\t    TP_fast_assign(__entry->child_relid = response->child_relid;\n\t\t\t   __entry->status = response->status;\n\t\t    ),\n\t    TP_printk(\"child_relid 0x%x, status %d\",\n\t\t      __entry->child_relid,  __entry->status\n\t\t    )\n\t);\n\nTRACE_EVENT(vmbus_ongpadl_torndown,\n\t    TP_PROTO(const struct vmbus_channel_gpadl_torndown *gpadltorndown),\n\t    TP_ARGS(gpadltorndown),\n\t    TP_STRUCT__entry(__field(u32, gpadl)),\n\t    TP_fast_assign(__entry->gpadl = gpadltorndown->gpadl),\n\t    TP_printk(\"gpadl 0x%x\", __entry->gpadl)\n\t);\n\nTRACE_EVENT(vmbus_onversion_response,\n\t    TP_PROTO(const struct vmbus_channel_version_response *response),\n\t    TP_ARGS(response),\n\t    TP_STRUCT__entry(\n\t\t    __field(u8, ver)\n\t\t    ),\n\t    TP_fast_assign(__entry->ver = response->version_supported;\n\t\t    ),\n\t    TP_printk(\"version_supported %d\", __entry->ver)\n\t);\n\nTRACE_EVENT(vmbus_request_offers,\n\t    TP_PROTO(int ret),\n\t    TP_ARGS(ret),\n\t    TP_STRUCT__entry(__field(int, ret)),\n\t    TP_fast_assign(__entry->ret = ret),\n\t    TP_printk(\"sending ret %d\", __entry->ret)\n\t);\n\nTRACE_EVENT(vmbus_open,\n\t    TP_PROTO(const struct vmbus_channel_open_channel *msg, int ret),\n\t    TP_ARGS(msg, ret),\n\t    TP_STRUCT__entry(\n\t\t    __field(u32, child_relid)\n\t\t    __field(u32, openid)\n\t\t    __field(u32, gpadlhandle)\n\t\t    __field(u32, target_vp)\n\t\t    __field(u32, offset)\n\t\t    __field(int, ret)\n\t\t    ),\n\t    TP_fast_assign(\n\t\t    __entry->child_relid = msg->child_relid;\n\t\t    __entry->openid = msg->openid;\n\t\t    __entry->gpadlhandle = msg->ringbuffer_gpadlhandle;\n\t\t    __entry->target_vp = msg->target_vp;\n\t\t    __entry->offset = msg->downstream_ringbuffer_pageoffset;\n\t\t    __entry->ret = ret;\n\t\t    ),\n\t    TP_printk(\"sending child_relid 0x%x, openid %d, \"\n\t\t      \"gpadlhandle 0x%x, target_vp 0x%x, offset 0x%x, ret %d\",\n\t\t      __entry->child_relid,  __entry->openid,\n\t\t      __entry->gpadlhandle, __entry->target_vp,\n\t\t      __entry->offset, __entry->ret\n\t\t    )\n\t);\n\nTRACE_EVENT(vmbus_close_internal,\n\t    TP_PROTO(const struct vmbus_channel_close_channel *msg, int ret),\n\t    TP_ARGS(msg, ret),\n\t    TP_STRUCT__entry(\n\t\t    __field(u32, child_relid)\n\t\t    __field(int, ret)\n\t\t    ),\n\t    TP_fast_assign(\n\t\t    __entry->child_relid = msg->child_relid;\n\t\t    __entry->ret = ret;\n\t\t    ),\n\t    TP_printk(\"sending child_relid 0x%x, ret %d\", __entry->child_relid,\n\t\t    __entry->ret)\n\t);\n\nTRACE_EVENT(vmbus_establish_gpadl_header,\n\t    TP_PROTO(const struct vmbus_channel_gpadl_header *msg, int ret),\n\t    TP_ARGS(msg, ret),\n\t    TP_STRUCT__entry(\n\t\t    __field(u32, child_relid)\n\t\t    __field(u32, gpadl)\n\t\t    __field(u16, range_buflen)\n\t\t    __field(u16, rangecount)\n\t\t    __field(int, ret)\n\t\t    ),\n\t    TP_fast_assign(\n\t\t    __entry->child_relid = msg->child_relid;\n\t\t    __entry->gpadl = msg->gpadl;\n\t\t    __entry->range_buflen = msg->range_buflen;\n\t\t    __entry->rangecount = msg->rangecount;\n\t\t    __entry->ret = ret;\n\t\t    ),\n\t    TP_printk(\"sending child_relid 0x%x, gpadl 0x%x, range_buflen %d \"\n\t\t      \"rangecount %d, ret %d\",\n\t\t      __entry->child_relid, __entry->gpadl,\n\t\t      __entry->range_buflen, __entry->rangecount, __entry->ret\n\t\t    )\n\t);\n\nTRACE_EVENT(vmbus_establish_gpadl_body,\n\t    TP_PROTO(const struct vmbus_channel_gpadl_body *msg, int ret),\n\t    TP_ARGS(msg, ret),\n\t    TP_STRUCT__entry(\n\t\t    __field(u32, msgnumber)\n\t\t    __field(u32, gpadl)\n\t\t    __field(int, ret)\n\t\t    ),\n\t    TP_fast_assign(\n\t\t    __entry->msgnumber = msg->msgnumber;\n\t\t    __entry->gpadl = msg->gpadl;\n\t\t    __entry->ret = ret;\n\t\t    ),\n\t    TP_printk(\"sending msgnumber %d, gpadl 0x%x, ret %d\",\n\t\t      __entry->msgnumber, __entry->gpadl, __entry->ret\n\t\t    )\n\t);\n\nTRACE_EVENT(vmbus_teardown_gpadl,\n\t    TP_PROTO(const struct vmbus_channel_gpadl_teardown *msg, int ret),\n\t    TP_ARGS(msg, ret),\n\t    TP_STRUCT__entry(\n\t\t    __field(u32, child_relid)\n\t\t    __field(u32, gpadl)\n\t\t    __field(int, ret)\n\t\t    ),\n\t    TP_fast_assign(\n\t\t    __entry->child_relid = msg->child_relid;\n\t\t    __entry->gpadl = msg->gpadl;\n\t\t    __entry->ret = ret;\n\t\t    ),\n\t    TP_printk(\"sending child_relid 0x%x, gpadl 0x%x, ret %d\",\n\t\t      __entry->child_relid, __entry->gpadl, __entry->ret\n\t\t    )\n\t);\n\nTRACE_EVENT(vmbus_negotiate_version,\n\t    TP_PROTO(const struct vmbus_channel_initiate_contact *msg, int ret),\n\t    TP_ARGS(msg, ret),\n\t    TP_STRUCT__entry(\n\t\t    __field(u32, ver)\n\t\t    __field(u32, target_vcpu)\n\t\t    __field(int, ret)\n\t\t    __field(u64, int_page)\n\t\t    __field(u64, mon_page1)\n\t\t    __field(u64, mon_page2)\n\t\t    ),\n\t    TP_fast_assign(\n\t\t    __entry->ver = msg->vmbus_version_requested;\n\t\t    __entry->target_vcpu = msg->target_vcpu;\n\t\t    __entry->int_page = msg->interrupt_page;\n\t\t    __entry->mon_page1 = msg->monitor_page1;\n\t\t    __entry->mon_page2 = msg->monitor_page2;\n\t\t    __entry->ret = ret;\n\t\t    ),\n\t    TP_printk(\"sending vmbus_version_requested %d, target_vcpu 0x%x, \"\n\t\t      \"pages %llx:%llx:%llx, ret %d\",\n\t\t      __entry->ver, __entry->target_vcpu, __entry->int_page,\n\t\t      __entry->mon_page1, __entry->mon_page2, __entry->ret\n\t\t    )\n\t);\n\nTRACE_EVENT(vmbus_release_relid,\n\t    TP_PROTO(const struct vmbus_channel_relid_released *msg, int ret),\n\t    TP_ARGS(msg, ret),\n\t    TP_STRUCT__entry(\n\t\t    __field(u32, child_relid)\n\t\t    __field(int, ret)\n\t\t    ),\n\t    TP_fast_assign(\n\t\t    __entry->child_relid = msg->child_relid;\n\t\t    __entry->ret = ret;\n\t\t    ),\n\t    TP_printk(\"sending child_relid 0x%x, ret %d\",\n\t\t      __entry->child_relid, __entry->ret\n\t\t    )\n\t);\n\nTRACE_EVENT(vmbus_send_tl_connect_request,\n\t    TP_PROTO(const struct vmbus_channel_tl_connect_request *msg,\n\t\t     int ret),\n\t    TP_ARGS(msg, ret),\n\t    TP_STRUCT__entry(\n\t\t    __array(char, guest_id, 16)\n\t\t    __array(char, host_id, 16)\n\t\t    __field(int, ret)\n\t\t    ),\n\t    TP_fast_assign(\n\t\t    export_guid(__entry->guest_id, &msg->guest_endpoint_id);\n\t\t    export_guid(__entry->host_id, &msg->host_service_id);\n\t\t    __entry->ret = ret;\n\t\t    ),\n\t    TP_printk(\"sending guest_endpoint_id %pUl, host_service_id %pUl, \"\n\t\t      \"ret %d\",\n\t\t      __entry->guest_id, __entry->host_id, __entry->ret\n\t\t    )\n\t);\n\nTRACE_EVENT(vmbus_send_modifychannel,\n\t    TP_PROTO(const struct vmbus_channel_modifychannel *msg,\n\t\t     int ret),\n\t    TP_ARGS(msg, ret),\n\t    TP_STRUCT__entry(\n\t\t    __field(u32, child_relid)\n\t\t    __field(u32, target_vp)\n\t\t    __field(int, ret)\n\t\t    ),\n\t    TP_fast_assign(\n\t\t    __entry->child_relid = msg->child_relid;\n\t\t    __entry->target_vp = msg->target_vp;\n\t\t    __entry->ret = ret;\n\t\t    ),\n\t    TP_printk(\"binding child_relid 0x%x to target_vp 0x%x, ret %d\",\n\t\t      __entry->child_relid, __entry->target_vp, __entry->ret\n\t\t    )\n\t);\n\nDECLARE_EVENT_CLASS(vmbus_channel,\n\tTP_PROTO(const struct vmbus_channel *channel),\n\tTP_ARGS(channel),\n\tTP_STRUCT__entry(__field(u32, relid)),\n\tTP_fast_assign(__entry->relid = channel->offermsg.child_relid),\n\tTP_printk(\"relid 0x%x\", __entry->relid)\n);\n\nDEFINE_EVENT(vmbus_channel, vmbus_chan_sched,\n\t    TP_PROTO(const struct vmbus_channel *channel),\n\t    TP_ARGS(channel)\n);\n\nDEFINE_EVENT(vmbus_channel, vmbus_setevent,\n\t    TP_PROTO(const struct vmbus_channel *channel),\n\t    TP_ARGS(channel)\n);\n\nDEFINE_EVENT(vmbus_channel, vmbus_on_event,\n\t    TP_PROTO(const struct vmbus_channel *channel),\n\t    TP_ARGS(channel)\n);\n\n#undef TRACE_INCLUDE_PATH\n#define TRACE_INCLUDE_PATH .\n#undef TRACE_INCLUDE_FILE\n#define TRACE_INCLUDE_FILE hv_trace\n#endif  \n\n \n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}