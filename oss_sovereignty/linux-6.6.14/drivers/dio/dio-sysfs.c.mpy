{
  "module_name": "dio-sysfs.c",
  "hash_id": "d748f8d2c55210b0ce36d3ee316916fbf2b519f8a9edf4557fe61db5ff32bf3b",
  "original_prompt": "Ingested from linux-6.6.14/drivers/dio/dio-sysfs.c",
  "human_readable_source": " \n\n\n#include <linux/kernel.h>\n#include <linux/dio.h>\n#include <linux/stat.h>\n\n \n\nstatic ssize_t dio_show_id(struct device *dev, struct device_attribute *attr, char *buf)\n{\n\tstruct dio_dev *d;\n\n\td = to_dio_dev(dev);\n\treturn sprintf(buf, \"0x%02x\\n\", (d->id & 0xff));\n}\nstatic DEVICE_ATTR(id, S_IRUGO, dio_show_id, NULL);\n\nstatic ssize_t dio_show_ipl(struct device *dev, struct device_attribute *attr, char *buf)\n{\n\tstruct dio_dev *d;\n\n\td = to_dio_dev(dev);\n\treturn sprintf(buf, \"0x%02x\\n\", d->ipl);\n}\nstatic DEVICE_ATTR(ipl, S_IRUGO, dio_show_ipl, NULL);\n\nstatic ssize_t dio_show_secid(struct device *dev, struct device_attribute *attr, char *buf)\n{\n\tstruct dio_dev *d;\n\n\td = to_dio_dev(dev);\n\treturn sprintf(buf, \"0x%02x\\n\", ((d->id >> 8)& 0xff));\n}\nstatic DEVICE_ATTR(secid, S_IRUGO, dio_show_secid, NULL);\n\nstatic ssize_t dio_show_name(struct device *dev, struct device_attribute *attr, char *buf)\n{\n\tstruct dio_dev *d;\n\n\td = to_dio_dev(dev);\n\treturn sprintf(buf, \"%s\\n\", d->name);\n}\nstatic DEVICE_ATTR(name, S_IRUGO, dio_show_name, NULL);\n\nstatic ssize_t dio_show_resource(struct device *dev, struct device_attribute *attr, char *buf)\n{\n\tstruct dio_dev *d = to_dio_dev(dev);\n\n\treturn sprintf(buf, \"0x%08lx 0x%08lx 0x%08lx\\n\",\n\t\t       (unsigned long)dio_resource_start(d),\n\t\t       (unsigned long)dio_resource_end(d),\n\t\t       dio_resource_flags(d));\n}\nstatic DEVICE_ATTR(resource, S_IRUGO, dio_show_resource, NULL);\n\nint dio_create_sysfs_dev_files(struct dio_dev *d)\n{\n\tstruct device *dev = &d->dev;\n\tint error;\n\n\t \n\tif ((error = device_create_file(dev, &dev_attr_id)) ||\n\t    (error = device_create_file(dev, &dev_attr_ipl)) ||\n\t    (error = device_create_file(dev, &dev_attr_secid)) ||\n\t    (error = device_create_file(dev, &dev_attr_name)) ||\n\t    (error = device_create_file(dev, &dev_attr_resource)))\n\t\treturn error;\n\n\treturn 0;\n}\n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}