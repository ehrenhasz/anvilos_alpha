{
  "module_name": "raid1.h",
  "hash_id": "4b0e0fa743d4ce7c48f5c4a234ee1fd93dd58e96464f0087cec04fc7044ae0ac",
  "original_prompt": "Ingested from linux-6.6.14/drivers/md/raid1.h",
  "human_readable_source": " \n#ifndef _RAID1_H\n#define _RAID1_H\n\n \n#define BARRIER_UNIT_SECTOR_BITS\t17\n#define BARRIER_UNIT_SECTOR_SIZE\t(1<<17)\n \n#define BARRIER_BUCKETS_NR_BITS\t\t(PAGE_SHIFT - ilog2(sizeof(atomic_t)))\n#define BARRIER_BUCKETS_NR\t\t(1<<BARRIER_BUCKETS_NR_BITS)\n\n \n\nstruct raid1_info {\n\tstruct md_rdev\t*rdev;\n\tsector_t\thead_position;\n\n\t \n\tsector_t\tnext_seq_sect;\n\tsector_t\tseq_start;\n};\n\n \n\nstruct pool_info {\n\tstruct mddev *mddev;\n\tint\traid_disks;\n};\n\nstruct r1conf {\n\tstruct mddev\t\t*mddev;\n\tstruct raid1_info\t*mirrors;\t \n\tint\t\t\traid_disks;\n\n\tspinlock_t\t\tdevice_lock;\n\n\t \n\tstruct list_head\tretry_list;\n\t \n\tstruct list_head\tbio_end_io_list;\n\n\t \n\tstruct bio_list\t\tpending_bio_list;\n\n\t \n\twait_queue_head_t\twait_barrier;\n\tspinlock_t\t\tresync_lock;\n\tatomic_t\t\tnr_sync_pending;\n\tatomic_t\t\t*nr_pending;\n\tatomic_t\t\t*nr_waiting;\n\tatomic_t\t\t*nr_queued;\n\tatomic_t\t\t*barrier;\n\tint\t\t\tarray_frozen;\n\n\t \n\tint\t\t\tfullsync;\n\n\t \n\tint\t\t\trecovery_disabled;\n\n\t \n\tstruct pool_info\t*poolinfo;\n\tmempool_t\t\tr1bio_pool;\n\tmempool_t\t\tr1buf_pool;\n\n\tstruct bio_set\t\tbio_split;\n\n\t \n\tstruct page\t\t*tmppage;\n\n\t \n\tstruct md_thread __rcu\t*thread;\n\n\t \n\tsector_t\t\tcluster_sync_low;\n\tsector_t\t\tcluster_sync_high;\n\n};\n\n \n\nstruct r1bio {\n\tatomic_t\t\tremaining;  \n\tatomic_t\t\tbehind_remaining;  \n\tsector_t\t\tsector;\n\tint\t\t\tsectors;\n\tunsigned long\t\tstate;\n\tstruct mddev\t\t*mddev;\n\t \n\tstruct bio\t\t*master_bio;\n\t \n\tint\t\t\tread_disk;\n\n\tstruct list_head\tretry_list;\n\n\t \n\tstruct bio\t\t*behind_master_bio;\n\n\t \n\tstruct bio\t\t*bios[];\n\t \n};\n\n \nenum r1bio_state {\n\tR1BIO_Uptodate,\n\tR1BIO_IsSync,\n\tR1BIO_Degraded,\n\tR1BIO_BehindIO,\n \n\tR1BIO_ReadError,\n \n\tR1BIO_Returned,\n \n\tR1BIO_MadeGood,\n\tR1BIO_WriteError,\n\tR1BIO_FailFast,\n};\n\nstatic inline int sector_to_idx(sector_t sector)\n{\n\treturn hash_long(sector >> BARRIER_UNIT_SECTOR_BITS,\n\t\t\t BARRIER_BUCKETS_NR_BITS);\n}\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}