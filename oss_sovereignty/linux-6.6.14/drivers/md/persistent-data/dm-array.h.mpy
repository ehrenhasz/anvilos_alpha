{
  "module_name": "dm-array.h",
  "hash_id": "9f90dc39dab0cafc78111293b16c562685af2e1c888a270923defbaf4d9c1aa3",
  "original_prompt": "Ingested from linux-6.6.14/drivers/md/persistent-data/dm-array.h",
  "human_readable_source": " \n \n#ifndef _LINUX_DM_ARRAY_H\n#define _LINUX_DM_ARRAY_H\n\n#include \"dm-btree.h\"\n\n \n\n \n\n \nstruct dm_array_info {\n\tstruct dm_transaction_manager *tm;\n\tstruct dm_btree_value_type value_type;\n\tstruct dm_btree_info btree_info;\n};\n\n \nvoid dm_array_info_init(struct dm_array_info *info,\n\t\t\tstruct dm_transaction_manager *tm,\n\t\t\tstruct dm_btree_value_type *vt);\n\n \nint dm_array_empty(struct dm_array_info *info, dm_block_t *root);\n\n \nint dm_array_resize(struct dm_array_info *info, dm_block_t root,\n\t\t    uint32_t old_size, uint32_t new_size,\n\t\t    const void *value, dm_block_t *new_root)\n\t__dm_written_to_disk(value);\n\n \ntypedef int (*value_fn)(uint32_t index, void *value_le, void *context);\nint dm_array_new(struct dm_array_info *info, dm_block_t *root,\n\t\t uint32_t size, value_fn fn, void *context);\n\n \nint dm_array_del(struct dm_array_info *info, dm_block_t root);\n\n \nint dm_array_get_value(struct dm_array_info *info, dm_block_t root,\n\t\t       uint32_t index, void *value);\n\n \nint dm_array_set_value(struct dm_array_info *info, dm_block_t root,\n\t\t       uint32_t index, const void *value, dm_block_t *new_root)\n\t__dm_written_to_disk(value);\n\n \nint dm_array_walk(struct dm_array_info *info, dm_block_t root,\n\t\t  int (*fn)(void *context, uint64_t key, void *leaf),\n\t\t  void *context);\n\n \n\n \nstruct dm_array_cursor {\n\tstruct dm_array_info *info;\n\tstruct dm_btree_cursor cursor;\n\n\tstruct dm_block *block;\n\tstruct array_block *ab;\n\tunsigned int index;\n};\n\nint dm_array_cursor_begin(struct dm_array_info *info,\n\t\t\t  dm_block_t root, struct dm_array_cursor *c);\nvoid dm_array_cursor_end(struct dm_array_cursor *c);\n\nuint32_t dm_array_cursor_index(struct dm_array_cursor *c);\nint dm_array_cursor_next(struct dm_array_cursor *c);\nint dm_array_cursor_skip(struct dm_array_cursor *c, uint32_t count);\n\n \nvoid dm_array_cursor_get_value(struct dm_array_cursor *c, void **value_le);\n\n \n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}