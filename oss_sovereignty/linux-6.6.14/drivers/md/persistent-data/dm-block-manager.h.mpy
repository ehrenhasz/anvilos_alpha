{
  "module_name": "dm-block-manager.h",
  "hash_id": "e0bbdc0becfe49e9171098092a5cb6956475d334e185f7c3eea8261169e11e83",
  "original_prompt": "Ingested from linux-6.6.14/drivers/md/persistent-data/dm-block-manager.h",
  "human_readable_source": " \n \n\n#ifndef _LINUX_DM_BLOCK_MANAGER_H\n#define _LINUX_DM_BLOCK_MANAGER_H\n\n#include <linux/types.h>\n#include <linux/blkdev.h>\n\n \n\n \ntypedef uint64_t dm_block_t;\nstruct dm_block;\n\ndm_block_t dm_block_location(struct dm_block *b);\nvoid *dm_block_data(struct dm_block *b);\n\n \n\n \nstruct dm_block_manager;\nstruct dm_block_manager *dm_block_manager_create(\n\tstruct block_device *bdev, unsigned int block_size,\n\tunsigned int max_held_per_thread);\nvoid dm_block_manager_destroy(struct dm_block_manager *bm);\nvoid dm_block_manager_reset(struct dm_block_manager *bm);\n\nunsigned int dm_bm_block_size(struct dm_block_manager *bm);\ndm_block_t dm_bm_nr_blocks(struct dm_block_manager *bm);\n\n \n\n \nstruct dm_block_validator {\n\tconst char *name;\n\tvoid (*prepare_for_write)(struct dm_block_validator *v, struct dm_block *b, size_t block_size);\n\n\t \n\tint (*check)(struct dm_block_validator *v, struct dm_block *b, size_t block_size);\n};\n\n \n\n \n\n \nint dm_bm_read_lock(struct dm_block_manager *bm, dm_block_t b,\n\t\t    struct dm_block_validator *v,\n\t\t    struct dm_block **result);\n\nint dm_bm_write_lock(struct dm_block_manager *bm, dm_block_t b,\n\t\t     struct dm_block_validator *v,\n\t\t     struct dm_block **result);\n\n \nint dm_bm_read_try_lock(struct dm_block_manager *bm, dm_block_t b,\n\t\t\tstruct dm_block_validator *v,\n\t\t\tstruct dm_block **result);\n\n \nint dm_bm_write_lock_zero(struct dm_block_manager *bm, dm_block_t b,\n\t\t\t  struct dm_block_validator *v,\n\t\t\t  struct dm_block **result);\n\nvoid dm_bm_unlock(struct dm_block *b);\n\n \nint dm_bm_flush(struct dm_block_manager *bm);\n\n \nvoid dm_bm_prefetch(struct dm_block_manager *bm, dm_block_t b);\n\n \nbool dm_bm_is_read_only(struct dm_block_manager *bm);\nvoid dm_bm_set_read_only(struct dm_block_manager *bm);\nvoid dm_bm_set_read_write(struct dm_block_manager *bm);\n\nu32 dm_bm_checksum(const void *data, size_t len, u32 init_xor);\n\n \n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}