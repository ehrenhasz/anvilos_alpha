{
  "module_name": "dm-transaction-manager.h",
  "hash_id": "4430b52b797ec3ff244e64d73b13196529461b5029766a00366ee1a4845f39d2",
  "original_prompt": "Ingested from linux-6.6.14/drivers/md/persistent-data/dm-transaction-manager.h",
  "human_readable_source": " \n \n\n#ifndef _LINUX_DM_TRANSACTION_MANAGER_H\n#define _LINUX_DM_TRANSACTION_MANAGER_H\n\n#include \"dm-block-manager.h\"\n\nstruct dm_transaction_manager;\nstruct dm_space_map;\n\n \n\n \n\nvoid dm_tm_destroy(struct dm_transaction_manager *tm);\n\n \nstruct dm_transaction_manager *dm_tm_create_non_blocking_clone(struct dm_transaction_manager *real);\n\n \nint dm_tm_pre_commit(struct dm_transaction_manager *tm);\nint dm_tm_commit(struct dm_transaction_manager *tm, struct dm_block *superblock);\n\n \n\n \nint dm_tm_new_block(struct dm_transaction_manager *tm,\n\t\t    struct dm_block_validator *v,\n\t\t    struct dm_block **result);\n\n \nint dm_tm_shadow_block(struct dm_transaction_manager *tm, dm_block_t orig,\n\t\t       struct dm_block_validator *v,\n\t\t       struct dm_block **result, int *inc_children);\n\n \nint dm_tm_read_lock(struct dm_transaction_manager *tm, dm_block_t b,\n\t\t    struct dm_block_validator *v,\n\t\t    struct dm_block **result);\n\nvoid dm_tm_unlock(struct dm_transaction_manager *tm, struct dm_block *b);\n\n \nvoid dm_tm_inc(struct dm_transaction_manager *tm, dm_block_t b);\nvoid dm_tm_inc_range(struct dm_transaction_manager *tm, dm_block_t b, dm_block_t e);\nvoid dm_tm_dec(struct dm_transaction_manager *tm, dm_block_t b);\nvoid dm_tm_dec_range(struct dm_transaction_manager *tm, dm_block_t b, dm_block_t e);\n\n \ntypedef void (*dm_tm_run_fn)(struct dm_transaction_manager *, dm_block_t, dm_block_t);\nvoid dm_tm_with_runs(struct dm_transaction_manager *tm,\n\t\t     const __le64 *value_le, unsigned int count, dm_tm_run_fn fn);\n\nint dm_tm_ref(struct dm_transaction_manager *tm, dm_block_t b, uint32_t *result);\n\n \nint dm_tm_block_is_shared(struct dm_transaction_manager *tm, dm_block_t b,\n\t\t\t  int *result);\n\nstruct dm_block_manager *dm_tm_get_bm(struct dm_transaction_manager *tm);\n\n \nvoid dm_tm_issue_prefetches(struct dm_transaction_manager *tm);\n\n \nint dm_tm_create_with_sm(struct dm_block_manager *bm, dm_block_t sb_location,\n\t\t\t struct dm_transaction_manager **tm,\n\t\t\t struct dm_space_map **sm);\n\nint dm_tm_open_with_sm(struct dm_block_manager *bm, dm_block_t sb_location,\n\t\t       void *sm_root, size_t root_len,\n\t\t       struct dm_transaction_manager **tm,\n\t\t       struct dm_space_map **sm);\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}