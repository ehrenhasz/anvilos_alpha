{
  "module_name": "smtinit.c",
  "hash_id": "8b73cd699d86a4d3b4f6ab949bc82308908d89484e3758a4adf125babc5da6f6",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/fddi/skfp/smtinit.c",
  "human_readable_source": "\n \n\n \n\n#include \"h/types.h\"\n#include \"h/fddi.h\"\n#include \"h/smc.h\"\n\nvoid init_fddi_driver(struct s_smc *smc, const u_char *mac_addr);\n\n \n#if defined(DEBUG) && !defined(DEBUG_BRD)\nstruct smt_debug debug;\n#endif\n\n#ifndef MULT_OEM\n#define OEMID(smc,i)\toem_id[i]\n\textern u_char\toem_id[] ;\n#else\t \n#define OEMID(smc,i)\tsmc->hw.oem_id->oi_mark[i]\n\textern struct s_oem_ids\toem_ids[] ;\n#endif\t \n\n \nstatic void set_oem_spec_val(struct s_smc *smc)\n{\n\tstruct fddi_mib *mib ;\n\n\tmib = &smc->mib ;\n\n\t \n\tif (OEMID(smc,0) == 'I') {\n\t\tmib->fddiSMTConnectionPolicy = POLICY_MM ;\n\t}\n}\n\n \nint init_smt(struct s_smc *smc, const u_char *mac_addr)\n \n{\n\tint\tp ;\n\n#if defined(DEBUG) && !defined(DEBUG_BRD)\n\tdebug.d_smt = 0 ;\n\tdebug.d_smtf = 0 ;\n\tdebug.d_rmt = 0 ;\n\tdebug.d_ecm = 0 ;\n\tdebug.d_pcm = 0 ;\n\tdebug.d_cfm = 0 ;\n\n\tdebug.d_plc = 0 ;\n#ifdef\tESS\n\tdebug.d_ess = 0 ;\n#endif\n#ifdef\tSBA\n\tdebug.d_sba = 0 ;\n#endif\n#endif\t \n\n\t \n\tfor ( p = 0; p < NUMPHYS; p ++ ) {\n\t\tsmc->y[p].mib = & smc->mib.p[p] ;\n\t}\n\n\tset_oem_spec_val(smc) ;\t\n\t(void) smt_set_mac_opvalues(smc) ;\n\tinit_fddi_driver(smc,mac_addr) ;\t \n\tsmt_fixup_mib(smc) ;\t\t \n\n\tev_init(smc) ;\t\t\t \n#ifndef\tSLIM_SMT\n\tsmt_init_evc(smc) ;\t\t \n#endif\t \n\tsmt_timer_init(smc) ;\t\t \n\tsmt_agent_init(smc) ;\t\t \n\n\tpcm_init(smc) ;\t\t\t \n\tecm_init(smc) ;\t\t\t \n\tcfm_init(smc) ;\t\t\t \n\trmt_init(smc) ;\t\t\t \n\n\tfor (p = 0 ; p < NUMPHYS ; p++) {\n\t\tpcm(smc,p,0) ;\t\t \n\t}\n\tecm(smc,0) ;\t\t\t \n\tcfm(smc,0) ;\t\t\t \n\trmt(smc,0) ;\t\t\t \n\n\tsmt_agent_task(smc) ;\t\t \n\n        PNMI_INIT(smc) ;                 \n\n\treturn 0;\n}\n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}