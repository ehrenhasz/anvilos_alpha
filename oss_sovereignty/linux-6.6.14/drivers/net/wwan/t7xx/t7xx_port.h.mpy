{
  "module_name": "t7xx_port.h",
  "hash_id": "8ac88aa0cefbd088249d70ca803ed84ced6c6092a567ae71f07315683a853d08",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wwan/t7xx/t7xx_port.h",
  "human_readable_source": " \n\n#ifndef __T7XX_PORT_H__\n#define __T7XX_PORT_H__\n\n#include <linux/bits.h>\n#include <linux/device.h>\n#include <linux/mutex.h>\n#include <linux/sched.h>\n#include <linux/skbuff.h>\n#include <linux/spinlock.h>\n#include <linux/types.h>\n#include <linux/wait.h>\n#include <linux/wwan.h>\n\n#include \"t7xx_hif_cldma.h\"\n#include \"t7xx_pci.h\"\n\n#define PORT_CH_ID_MASK\t\tGENMASK(7, 0)\n\n \nenum port_ch {\n\t \n\tPORT_CH_AP_CONTROL_RX = 0x1000,\n\tPORT_CH_AP_CONTROL_TX = 0x1001,\n\n\t \n\tPORT_CH_CONTROL_RX = 0x2000,\n\tPORT_CH_CONTROL_TX = 0x2001,\n\tPORT_CH_UART1_RX = 0x2006,\t \n\tPORT_CH_UART1_TX = 0x2008,\n\tPORT_CH_UART2_RX = 0x200a,\t \n\tPORT_CH_UART2_TX = 0x200c,\n\tPORT_CH_MD_LOG_RX = 0x202a,\t \n\tPORT_CH_MD_LOG_TX = 0x202b,\n\tPORT_CH_LB_IT_RX = 0x203e,\t \n\tPORT_CH_LB_IT_TX = 0x203f,\n\tPORT_CH_STATUS_RX = 0x2043,\t \n\tPORT_CH_MIPC_RX = 0x20ce,\t \n\tPORT_CH_MIPC_TX = 0x20cf,\n\tPORT_CH_MBIM_RX = 0x20d0,\n\tPORT_CH_MBIM_TX = 0x20d1,\n\tPORT_CH_DSS0_RX = 0x20d2,\n\tPORT_CH_DSS0_TX = 0x20d3,\n\tPORT_CH_DSS1_RX = 0x20d4,\n\tPORT_CH_DSS1_TX = 0x20d5,\n\tPORT_CH_DSS2_RX = 0x20d6,\n\tPORT_CH_DSS2_TX = 0x20d7,\n\tPORT_CH_DSS3_RX = 0x20d8,\n\tPORT_CH_DSS3_TX = 0x20d9,\n\tPORT_CH_DSS4_RX = 0x20da,\n\tPORT_CH_DSS4_TX = 0x20db,\n\tPORT_CH_DSS5_RX = 0x20dc,\n\tPORT_CH_DSS5_TX = 0x20dd,\n\tPORT_CH_DSS6_RX = 0x20de,\n\tPORT_CH_DSS6_TX = 0x20df,\n\tPORT_CH_DSS7_RX = 0x20e0,\n\tPORT_CH_DSS7_TX = 0x20e1,\n};\n\nstruct t7xx_port;\nstruct port_ops {\n\tint (*init)(struct t7xx_port *port);\n\tint (*recv_skb)(struct t7xx_port *port, struct sk_buff *skb);\n\tvoid (*md_state_notify)(struct t7xx_port *port, unsigned int md_state);\n\tvoid (*uninit)(struct t7xx_port *port);\n\tint (*enable_chl)(struct t7xx_port *port);\n\tint (*disable_chl)(struct t7xx_port *port);\n};\n\nstruct t7xx_port_conf {\n\tenum port_ch\t\ttx_ch;\n\tenum port_ch\t\trx_ch;\n\tunsigned char\t\ttxq_index;\n\tunsigned char\t\trxq_index;\n\tunsigned char\t\ttxq_exp_index;\n\tunsigned char\t\trxq_exp_index;\n\tenum cldma_id\t\tpath_id;\n\tstruct port_ops\t\t*ops;\n\tchar\t\t\t*name;\n\tenum wwan_port_type\tport_type;\n};\n\nstruct t7xx_port {\n\t \n\tconst struct t7xx_port_conf\t*port_conf;\n\tstruct t7xx_pci_dev\t\t*t7xx_dev;\n\tstruct device\t\t\t*dev;\n\tu16\t\t\t\tseq_nums[2];\t \n\tatomic_t\t\t\tusage_cnt;\n\tstruct\t\t\t\tlist_head entry;\n\tstruct\t\t\t\tlist_head queue_entry;\n\t \n\tstruct sk_buff_head\t\trx_skb_list;\n\tspinlock_t\t\t\tport_update_lock;  \n\twait_queue_head_t\t\trx_wq;\n\tint\t\t\t\trx_length_th;\n\tbool\t\t\t\tchan_enable;\n\tstruct task_struct\t\t*thread;\n\tunion {\n\t\tstruct {\n\t\t\tstruct wwan_port\t\t*wwan_port;\n\t\t} wwan;\n\t\tstruct {\n\t\t\tstruct rchan\t\t\t*relaych;\n\t\t} log;\n\t};\n};\n\nstruct sk_buff *t7xx_port_alloc_skb(int payload);\nstruct sk_buff *t7xx_ctrl_alloc_skb(int payload);\nint t7xx_port_enqueue_skb(struct t7xx_port *port, struct sk_buff *skb);\nint t7xx_port_send_skb(struct t7xx_port *port, struct sk_buff *skb, unsigned int pkt_header,\n\t\t       unsigned int ex_msg);\nint t7xx_port_send_ctl_skb(struct t7xx_port *port, struct sk_buff *skb, unsigned int msg,\n\t\t\t   unsigned int ex_msg);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}