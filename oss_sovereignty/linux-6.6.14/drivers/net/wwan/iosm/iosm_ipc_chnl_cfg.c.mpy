{
  "module_name": "iosm_ipc_chnl_cfg.c",
  "hash_id": "eb739553369132bc23c716f43e37f57d8ad0b51453b7fd91e8e90f947a49befa",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wwan/iosm/iosm_ipc_chnl_cfg.c",
  "human_readable_source": "\n \n\n#include <linux/wwan.h>\n\n#include \"iosm_ipc_chnl_cfg.h\"\n\n \n#define IPC_MEM_MAX_DL_FLASH_BUF_SIZE (64 * 1024)\n#define IPC_MEM_MAX_DL_LOOPBACK_SIZE (1 * 1024 * 1024)\n#define IPC_MEM_MAX_DL_AT_BUF_SIZE 2048\n#define IPC_MEM_MAX_DL_RPC_BUF_SIZE (32 * 1024)\n#define IPC_MEM_MAX_DL_MBIM_BUF_SIZE IPC_MEM_MAX_DL_RPC_BUF_SIZE\n\n \n#define IPC_MEM_MAX_TDS_FLASH_DL 3\n#define IPC_MEM_MAX_TDS_FLASH_UL 6\n#define IPC_MEM_MAX_TDS_AT 4\n#define IPC_MEM_MAX_TDS_RPC 4\n#define IPC_MEM_MAX_TDS_MBIM IPC_MEM_MAX_TDS_RPC\n#define IPC_MEM_MAX_TDS_LOOPBACK 11\n\n \n#define IRQ_ACC_BACKOFF_OFF 0\n\n \n#define IRQ_ACC_BACKOFF_MUX 1000\n\n \nstatic struct ipc_chnl_cfg modem_cfg[] = {\n\t \n\t{ IPC_MEM_IP_CHL_ID_0, IPC_MEM_PIPE_0, IPC_MEM_PIPE_1,\n\t  IPC_MEM_MAX_TDS_MUX_LITE_UL, IPC_MEM_MAX_TDS_MUX_LITE_DL,\n\t  IPC_MEM_MAX_DL_MUX_LITE_BUF_SIZE, WWAN_PORT_UNKNOWN },\n\t \n\t{ IPC_MEM_CTRL_CHL_ID_1, IPC_MEM_PIPE_2, IPC_MEM_PIPE_3,\n\t  IPC_MEM_MAX_TDS_RPC, IPC_MEM_MAX_TDS_RPC,\n\t  IPC_MEM_MAX_DL_RPC_BUF_SIZE, WWAN_PORT_XMMRPC },\n\t \n\t{ IPC_MEM_CTRL_CHL_ID_2, IPC_MEM_PIPE_4, IPC_MEM_PIPE_5,\n\t  IPC_MEM_MAX_TDS_AT, IPC_MEM_MAX_TDS_AT, IPC_MEM_MAX_DL_AT_BUF_SIZE,\n\t  WWAN_PORT_AT },\n\t \n\t{ IPC_MEM_CTRL_CHL_ID_3, IPC_MEM_PIPE_6, IPC_MEM_PIPE_7,\n\t  IPC_MEM_TDS_TRC, IPC_MEM_TDS_TRC, IPC_MEM_MAX_DL_TRC_BUF_SIZE,\n\t  WWAN_PORT_UNKNOWN },\n\t \n\t{ IPC_MEM_CTRL_CHL_ID_4, IPC_MEM_PIPE_8, IPC_MEM_PIPE_9,\n\t  IPC_MEM_MAX_TDS_AT, IPC_MEM_MAX_TDS_AT, IPC_MEM_MAX_DL_AT_BUF_SIZE,\n\t  WWAN_PORT_AT },\n\t \n\t{ IPC_MEM_CTRL_CHL_ID_5, IPC_MEM_PIPE_10, IPC_MEM_PIPE_11,\n\t  IPC_MEM_MAX_TDS_LOOPBACK, IPC_MEM_MAX_TDS_LOOPBACK,\n\t  IPC_MEM_MAX_DL_LOOPBACK_SIZE, WWAN_PORT_UNKNOWN },\n\t \n\t{ IPC_MEM_CTRL_CHL_ID_6, IPC_MEM_PIPE_12, IPC_MEM_PIPE_13,\n\t  IPC_MEM_MAX_TDS_MBIM, IPC_MEM_MAX_TDS_MBIM,\n\t  IPC_MEM_MAX_DL_MBIM_BUF_SIZE, WWAN_PORT_MBIM },\n\t \n\t{ IPC_MEM_CTRL_CHL_ID_7, IPC_MEM_PIPE_0, IPC_MEM_PIPE_1,\n\t  IPC_MEM_MAX_TDS_FLASH_UL, IPC_MEM_MAX_TDS_FLASH_DL,\n\t  IPC_MEM_MAX_DL_FLASH_BUF_SIZE, WWAN_PORT_UNKNOWN },\n};\n\nint ipc_chnl_cfg_get(struct ipc_chnl_cfg *chnl_cfg, int index)\n{\n\tif (index >= ARRAY_SIZE(modem_cfg)) {\n\t\tpr_err(\"index: %d and array size %zu\", index,\n\t\t       ARRAY_SIZE(modem_cfg));\n\t\treturn -ECHRNG;\n\t}\n\n\tif (index == IPC_MEM_MUX_IP_CH_IF_ID)\n\t\tchnl_cfg->accumulation_backoff = IRQ_ACC_BACKOFF_MUX;\n\telse\n\t\tchnl_cfg->accumulation_backoff = IRQ_ACC_BACKOFF_OFF;\n\n\tchnl_cfg->ul_nr_of_entries = modem_cfg[index].ul_nr_of_entries;\n\tchnl_cfg->dl_nr_of_entries = modem_cfg[index].dl_nr_of_entries;\n\tchnl_cfg->dl_buf_size = modem_cfg[index].dl_buf_size;\n\tchnl_cfg->id = modem_cfg[index].id;\n\tchnl_cfg->ul_pipe = modem_cfg[index].ul_pipe;\n\tchnl_cfg->dl_pipe = modem_cfg[index].dl_pipe;\n\tchnl_cfg->wwan_port_type = modem_cfg[index].wwan_port_type;\n\n\treturn 0;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}