{
  "module_name": "iosm_ipc_mmio.h",
  "hash_id": "95337041ad2d1c6f6ce657d53a3a2a99aee5b446b1eecbb79031a88ea819a578",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wwan/iosm/iosm_ipc_mmio.h",
  "human_readable_source": " \n\n#ifndef IOSM_IPC_MMIO_H\n#define IOSM_IPC_MMIO_H\n\n \n#define IOSM_CP_VERSION 0x0100UL\n\n \n#define DL_AGGR BIT(9)\n\n \n#define UL_AGGR BIT(8)\n\n \n#define UL_FLOW_CREDIT BIT(21)\n\n \nenum ipc_mem_device_ipc_state {\n\tIPC_MEM_DEVICE_IPC_UNINIT,\n\tIPC_MEM_DEVICE_IPC_INIT,\n\tIPC_MEM_DEVICE_IPC_RUNNING,\n\tIPC_MEM_DEVICE_IPC_RECOVERY,\n\tIPC_MEM_DEVICE_IPC_ERROR,\n\tIPC_MEM_DEVICE_IPC_DONT_CARE,\n\tIPC_MEM_DEVICE_IPC_INVALID = -1\n};\n\n \nenum rom_exit_code {\n\tIMEM_ROM_EXIT_OPEN_EXT = 0x01,\n\tIMEM_ROM_EXIT_OPEN_MEM = 0x02,\n\tIMEM_ROM_EXIT_CERT_EXT = 0x10,\n\tIMEM_ROM_EXIT_CERT_MEM = 0x20,\n\tIMEM_ROM_EXIT_FAIL = 0xFF\n};\n\n \nenum ipc_mem_exec_stage {\n\tIPC_MEM_EXEC_STAGE_RUN = 0x600DF00D,\n\tIPC_MEM_EXEC_STAGE_CRASH = 0x8BADF00D,\n\tIPC_MEM_EXEC_STAGE_CD_READY = 0xBADC0DED,\n\tIPC_MEM_EXEC_STAGE_BOOT = 0xFEEDB007,\n\tIPC_MEM_EXEC_STAGE_PSI = 0xFEEDBEEF,\n\tIPC_MEM_EXEC_STAGE_EBL = 0xFEEDCAFE,\n\tIPC_MEM_EXEC_STAGE_INVALID = 0xFFFFFFFF\n};\n\n \nstruct mmio_offset {\n\tint exec_stage;\n\tint chip_info;\n\tint rom_exit_code;\n\tint psi_address;\n\tint psi_size;\n\tint ipc_status;\n\tint context_info;\n\tint ap_win_base;\n\tint ap_win_end;\n\tint cp_version;\n\tint cp_capability;\n};\n\n \nstruct iosm_mmio {\n\tunsigned char __iomem *base;\n\tstruct device *dev;\n\tstruct mmio_offset offset;\n\tphys_addr_t context_info_addr;\n\tunsigned int chip_info_version;\n\tunsigned int chip_info_size;\n\tu32 mux_protocol;\n\tu8 has_ul_flow_credit:1,\n\t   has_slp_no_prot:1,\n\t   has_mcr_support:1;\n};\n\n \nstruct iosm_mmio *ipc_mmio_init(void __iomem *mmio_addr, struct device *dev);\n\n \nvoid ipc_mmio_set_psi_addr_and_size(struct iosm_mmio *ipc_mmio, dma_addr_t addr,\n\t\t\t\t    u32 size);\n\n \nvoid ipc_mmio_set_contex_info_addr(struct iosm_mmio *ipc_mmio,\n\t\t\t\t   phys_addr_t addr);\n\n \nint ipc_mmio_get_cp_version(struct iosm_mmio *ipc_mmio);\n\n \nenum rom_exit_code ipc_mmio_get_rom_exit_code(struct iosm_mmio *ipc_mmio);\n\n \nenum ipc_mem_exec_stage ipc_mmio_get_exec_stage(struct iosm_mmio *ipc_mmio);\n\n \nenum ipc_mem_device_ipc_state\nipc_mmio_get_ipc_state(struct iosm_mmio *ipc_mmio);\n\n \nvoid ipc_mmio_copy_chip_info(struct iosm_mmio *ipc_mmio, void *dest,\n\t\t\t     size_t size);\n\n \nvoid ipc_mmio_config(struct iosm_mmio *ipc_mmio);\n\n \nvoid ipc_mmio_update_cp_capability(struct iosm_mmio *ipc_mmio);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}