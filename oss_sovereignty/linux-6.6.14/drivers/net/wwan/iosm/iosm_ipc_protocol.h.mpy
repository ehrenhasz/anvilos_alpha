{
  "module_name": "iosm_ipc_protocol.h",
  "hash_id": "c8d983f89f4ccccd538237b034f167b30ee4ffab8d794417c8b1e79c743d0090",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wwan/iosm/iosm_ipc_protocol.h",
  "human_readable_source": " \n\n#ifndef IOSM_IPC_PROTOCOL_H\n#define IOSM_IPC_PROTOCOL_H\n\n#include \"iosm_ipc_imem.h\"\n#include \"iosm_ipc_pm.h\"\n#include \"iosm_ipc_protocol_ops.h\"\n\n \n#define IPC_DOORBELL_IRQ_HPDA 0\n#define IPC_DOORBELL_IRQ_IPC 1\n#define IPC_DOORBELL_IRQ_SLEEP 2\n\n \n#define IPC_DEVICE_IRQ_VECTOR 0\n#define IPC_MSG_IRQ_VECTOR 0\n#define IPC_UL_PIPE_IRQ_VECTOR 0\n#define IPC_DL_PIPE_IRQ_VECTOR 0\n\n#define IPC_MEM_MSG_ENTRIES 128\n\n \n#define IPC_MSG_COMPLETE_RUN_DEFAULT_TIMEOUT 500  \n\n \n#define IPC_MSG_COMPLETE_BOOT_DEFAULT_TIMEOUT 500  \n\n \nstruct ipc_protocol_context_info {\n\tphys_addr_t device_info_addr;\n\tphys_addr_t head_array;\n\tphys_addr_t tail_array;\n\tphys_addr_t msg_head;\n\tphys_addr_t msg_tail;\n\tphys_addr_t msg_ring_addr;\n\t__le16 msg_ring_entries;\n\tu8 msg_irq_vector;\n\tu8 device_info_irq_vector;\n};\n\n \nstruct ipc_protocol_device_info {\n\t__le32 execution_stage;\n\t__le32 ipc_status;\n\t__le32 device_sleep_notification;\n};\n\n \nstruct ipc_protocol_ap_shm {\n\tstruct ipc_protocol_context_info ci;\n\tstruct ipc_protocol_device_info device_info;\n\t__le32 msg_head;\n\t__le32 head_array[IPC_MEM_MAX_PIPES];\n\t__le32 msg_tail;\n\t__le32 tail_array[IPC_MEM_MAX_PIPES];\n\tunion ipc_mem_msg_entry msg_ring[IPC_MEM_MSG_ENTRIES];\n};\n\n \nstruct iosm_protocol {\n\tstruct ipc_protocol_ap_shm *p_ap_shm;\n\tstruct iosm_pm pm;\n\tstruct iosm_pcie *pcie;\n\tstruct iosm_imem *imem;\n\tstruct ipc_rsp *rsp_ring[IPC_MEM_MSG_ENTRIES];\n\tstruct device *dev;\n\tdma_addr_t phy_ap_shm;\n\tu32 old_msg_tail;\n};\n\n \nstruct ipc_call_msg_send_args {\n\tunion ipc_msg_prep_args *prep_args;\n\tstruct ipc_rsp *response;\n\tenum ipc_msg_prep_type msg_type;\n};\n\n \nint ipc_protocol_tq_msg_send(struct iosm_protocol *ipc_protocol,\n\t\t\t     enum ipc_msg_prep_type msg_type,\n\t\t\t     union ipc_msg_prep_args *prep_args,\n\t\t\t     struct ipc_rsp *response);\n\n \nint ipc_protocol_msg_send(struct iosm_protocol *ipc_protocol,\n\t\t\t  enum ipc_msg_prep_type prep,\n\t\t\t  union ipc_msg_prep_args *prep_args);\n\n \nbool ipc_protocol_suspend(struct iosm_protocol *ipc_protocol);\n\n \nvoid ipc_protocol_s2idle_sleep(struct iosm_protocol *ipc_protocol, bool sleep);\n\n \nbool ipc_protocol_resume(struct iosm_protocol *ipc_protocol);\n\n \nbool ipc_protocol_pm_dev_sleep_handle(struct iosm_protocol *ipc_protocol);\n\n \nvoid ipc_protocol_doorbell_trigger(struct iosm_protocol *ipc_protocol,\n\t\t\t\t   u32 identifier);\n\n \nconst char *\nipc_protocol_sleep_notification_string(struct iosm_protocol *ipc_protocol);\n\n \nstruct iosm_protocol *ipc_protocol_init(struct iosm_imem *ipc_imem);\n\n \nvoid ipc_protocol_deinit(struct iosm_protocol *ipc_protocol);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}