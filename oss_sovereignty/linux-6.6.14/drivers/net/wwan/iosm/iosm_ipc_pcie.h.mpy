{
  "module_name": "iosm_ipc_pcie.h",
  "hash_id": "8cc34619a29fba8d4393092e2ccbbb58bbf56312f4c72ff422dddb6e306d4661",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wwan/iosm/iosm_ipc_pcie.h",
  "human_readable_source": " \n\n#ifndef IOSM_IPC_PCIE_H\n#define IOSM_IPC_PCIE_H\n\n#include <linux/device.h>\n#include <linux/pci.h>\n#include <linux/skbuff.h>\n\n#include \"iosm_ipc_irq.h\"\n\n \n#define INTEL_CP_DEVICE_7560_ID 0x7560\n#define INTEL_CP_DEVICE_7360_ID 0x7360\n\n \n#define IPC_DOORBELL_BAR0 0\n#define IPC_SCRATCHPAD_BAR2 2\n\n \n#define IPC_DOORBELL_CH_OFFSET BIT(5)\n#define IPC_WRITE_PTR_REG_0 BIT(4)\n#define IPC_CAPTURE_PTR_REG_0 BIT(3)\n\n \n#define IPC_MSI_VECTORS 1\n\n \n#define IPC_IRQ_VECTORS IPC_MSI_VECTORS\n\n \nenum ipc_pcie_sleep_state {\n\tIPC_PCIE_D0L12,\n\tIPC_PCIE_D3L2,\n};\n\n \nstruct iosm_pcie {\n\tstruct pci_dev *pci;\n\tstruct device *dev;\n\tvoid __iomem *ipc_regs;\n\tvoid __iomem *scratchpad;\n\tstruct iosm_imem *imem;\n\tint ipc_regs_bar_nr;\n\tint scratchpad_bar_nr;\n\tint nvec;\n\tu32 doorbell_reg_offset;\n\tu32 doorbell_write;\n\tu32 doorbell_capture;\n\tunsigned long suspend;\n\tenum ipc_pcie_sleep_state d3l2_support;\n};\n\n \nstruct ipc_skb_cb {\n\tdma_addr_t mapping;\n\tint direction;\n\tint len;\n\tu8 op_type;\n};\n\n \nenum ipc_ul_usr_op {\n\tUL_USR_OP_BLOCKED,\n\tUL_MUX_OP_ADB,\n\tUL_DEFAULT,\n};\n\n \nint ipc_pcie_addr_map(struct iosm_pcie *ipc_pcie, unsigned char *data,\n\t\t      size_t size, dma_addr_t *mapping, int direction);\n\n \nvoid ipc_pcie_addr_unmap(struct iosm_pcie *ipc_pcie, size_t size,\n\t\t\t dma_addr_t mapping, int direction);\n\n \nstruct sk_buff *ipc_pcie_alloc_skb(struct iosm_pcie *ipc_pcie, size_t size,\n\t\t\t\t   gfp_t flags, dma_addr_t *mapping,\n\t\t\t\t   int direction, size_t headroom);\n\n \nstruct sk_buff *ipc_pcie_alloc_local_skb(struct iosm_pcie *ipc_pcie,\n\t\t\t\t\t gfp_t flags, size_t size);\n\n \nvoid ipc_pcie_kfree_skb(struct iosm_pcie *ipc_pcie, struct sk_buff *skb);\n\n \nbool ipc_pcie_check_data_link_active(struct iosm_pcie *ipc_pcie);\n\n \nint ipc_pcie_suspend(struct iosm_pcie *ipc_pcie);\n\n \nint ipc_pcie_resume(struct iosm_pcie *ipc_pcie);\n\n \nbool ipc_pcie_check_aspm_enabled(struct iosm_pcie *ipc_pcie,\n\t\t\t\t bool parent);\n \nvoid ipc_pcie_config_aspm(struct iosm_pcie *ipc_pcie);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}