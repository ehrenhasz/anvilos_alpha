{
  "module_name": "iosm_ipc_pm.h",
  "hash_id": "3d33ed309e3a90db1005ede70d1dbc68977123707b68b6cdfec13a56402e8ab2",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wwan/iosm/iosm_ipc_pm.h",
  "human_readable_source": " \n\n#ifndef IOSM_IPC_PM_H\n#define IOSM_IPC_PM_H\n\n \n#define ipc_cp_irq_sleep_control(ipc_pcie, data)                               \\\n\tipc_doorbell_fire(ipc_pcie, IPC_DOORBELL_IRQ_SLEEP, data)\n\n \n#define ipc_cp_irq_hpda_update(ipc_pcie, data)                                 \\\n\tipc_doorbell_fire(ipc_pcie, IPC_DOORBELL_IRQ_HPDA, 0xFF & (data))\n\n \nunion ipc_pm_cond {\n\tunsigned int raw;\n\n\tstruct {\n\t\tunsigned int irq:1,\n\t\t\t     hs:1,\n\t\t\t     link:1;\n\t};\n};\n\n \nenum ipc_mem_host_pm_state {\n\tIPC_MEM_HOST_PM_ACTIVE,\n\tIPC_MEM_HOST_PM_ACTIVE_WAIT,\n\tIPC_MEM_HOST_PM_SLEEP_WAIT_IDLE,\n\tIPC_MEM_HOST_PM_SLEEP_WAIT_D3,\n\tIPC_MEM_HOST_PM_SLEEP,\n\tIPC_MEM_HOST_PM_SLEEP_WAIT_EXIT_SLEEP,\n};\n\n \nenum ipc_mem_dev_pm_state {\n\tIPC_MEM_DEV_PM_ACTIVE,\n\tIPC_MEM_DEV_PM_SLEEP,\n\tIPC_MEM_DEV_PM_WAKEUP,\n\tIPC_MEM_DEV_PM_HOST_SLEEP,\n\tIPC_MEM_DEV_PM_ACTIVE_WAIT,\n\tIPC_MEM_DEV_PM_FORCE_SLEEP = 7,\n\tIPC_MEM_DEV_PM_FORCE_ACTIVE,\n};\n\n \nstruct iosm_pm {\n\tstruct iosm_pcie *pcie;\n\tstruct device *dev;\n\tenum ipc_mem_host_pm_state host_pm_state;\n\tunsigned long host_sleep_pend;\n\tstruct completion host_sleep_complete;\n\tunion ipc_pm_cond pm_cond;\n\tenum ipc_mem_dev_pm_state ap_state;\n\tenum ipc_mem_dev_pm_state cp_state;\n\tu32 device_sleep_notification;\n\tu8 pending_hpda_update:1;\n};\n\n \nenum ipc_pm_unit {\n\tIPC_PM_UNIT_IRQ,\n\tIPC_PM_UNIT_HS,\n\tIPC_PM_UNIT_LINK,\n};\n\n \nvoid ipc_pm_init(struct iosm_protocol *ipc_protocol);\n\n \nvoid ipc_pm_deinit(struct iosm_protocol *ipc_protocol);\n\n \nbool ipc_pm_dev_slp_notification(struct iosm_pm *ipc_pm,\n\t\t\t\t u32 sleep_notification);\n\n \nvoid ipc_pm_set_s2idle_sleep(struct iosm_pm *ipc_pm, bool sleep);\n\n \nbool ipc_pm_prepare_host_sleep(struct iosm_pm *ipc_pm);\n\n \nbool ipc_pm_prepare_host_active(struct iosm_pm *ipc_pm);\n\n \nbool ipc_pm_wait_for_device_active(struct iosm_pm *ipc_pm);\n\n \nvoid ipc_pm_signal_hpda_doorbell(struct iosm_pm *ipc_pm, u32 identifier,\n\t\t\t\t bool host_slp_check);\n \nbool ipc_pm_trigger(struct iosm_pm *ipc_pm, enum ipc_pm_unit unit, bool active);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}