{
  "module_name": "asix.h",
  "hash_id": "fb535ed36bb0821c864ef0628076af0227002dac47425ea40711b48ad180637e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/usb/asix.h",
  "human_readable_source": " \n \n\n#ifndef _ASIX_H\n#define _ASIX_H\n\n\n\n\n#include <linux/module.h>\n#include <linux/kmod.h>\n#include <linux/netdevice.h>\n#include <linux/etherdevice.h>\n#include <linux/ethtool.h>\n#include <linux/workqueue.h>\n#include <linux/mii.h>\n#include <linux/usb.h>\n#include <linux/crc32.h>\n#include <linux/usb/usbnet.h>\n#include <linux/slab.h>\n#include <linux/if_vlan.h>\n#include <linux/phy.h>\n#include <net/selftests.h>\n#include <linux/phylink.h>\n\n#define DRIVER_VERSION \"22-Dec-2011\"\n#define DRIVER_NAME \"asix\"\n\n \n\n#define AX_CMD_SET_SW_MII\t\t0x06\n#define AX_CMD_READ_MII_REG\t\t0x07\n#define AX_CMD_WRITE_MII_REG\t\t0x08\n#define AX_CMD_STATMNGSTS_REG\t\t0x09\n#define AX_CMD_SET_HW_MII\t\t0x0a\n#define AX_CMD_READ_EEPROM\t\t0x0b\n#define AX_CMD_WRITE_EEPROM\t\t0x0c\n#define AX_CMD_WRITE_ENABLE\t\t0x0d\n#define AX_CMD_WRITE_DISABLE\t\t0x0e\n#define AX_CMD_READ_RX_CTL\t\t0x0f\n#define AX_CMD_WRITE_RX_CTL\t\t0x10\n#define AX_CMD_READ_IPG012\t\t0x11\n#define AX_CMD_WRITE_IPG0\t\t0x12\n#define AX_CMD_WRITE_IPG1\t\t0x13\n#define AX_CMD_READ_NODE_ID\t\t0x13\n#define AX_CMD_WRITE_NODE_ID\t\t0x14\n#define AX_CMD_WRITE_IPG2\t\t0x14\n#define AX_CMD_WRITE_MULTI_FILTER\t0x16\n#define AX88172_CMD_READ_NODE_ID\t0x17\n#define AX_CMD_READ_PHY_ID\t\t0x19\n#define AX_CMD_READ_MEDIUM_STATUS\t0x1a\n#define AX_CMD_WRITE_MEDIUM_MODE\t0x1b\n#define AX_CMD_READ_MONITOR_MODE\t0x1c\n#define AX_CMD_WRITE_MONITOR_MODE\t0x1d\n#define AX_CMD_READ_GPIOS\t\t0x1e\n#define AX_CMD_WRITE_GPIOS\t\t0x1f\n#define AX_CMD_SW_RESET\t\t\t0x20\n#define AX_CMD_SW_PHY_STATUS\t\t0x21\n#define AX_CMD_SW_PHY_SELECT\t\t0x22\n#define AX_QCTCTRL\t\t\t0x2A\n\n#define AX_CHIPCODE_MASK\t\t0x70\n#define AX_AX88772_CHIPCODE\t\t0x00\n#define AX_AX88772A_CHIPCODE\t\t0x10\n#define AX_AX88772B_CHIPCODE\t\t0x20\n#define AX_HOST_EN\t\t\t0x01\n\n#define AX_PHYSEL_PSEL\t\t\t0x01\n#define AX_PHYSEL_SSMII\t\t\t0\n#define AX_PHYSEL_SSEN\t\t\t0x10\n\n#define AX_PHY_SELECT_MASK\t\t(BIT(3) | BIT(2))\n#define AX_PHY_SELECT_INTERNAL\t\t0\n#define AX_PHY_SELECT_EXTERNAL\t\tBIT(2)\n\n#define AX_MONITOR_MODE\t\t\t0x01\n#define AX_MONITOR_LINK\t\t\t0x02\n#define AX_MONITOR_MAGIC\t\t0x04\n#define AX_MONITOR_HSFS\t\t\t0x10\n\n \n#define AX88172_MEDIUM_FD\t\t0x02\n#define AX88172_MEDIUM_TX\t\t0x04\n#define AX88172_MEDIUM_FC\t\t0x10\n#define AX88172_MEDIUM_DEFAULT \\\n\t\t( AX88172_MEDIUM_FD | AX88172_MEDIUM_TX | AX88172_MEDIUM_FC )\n\n#define AX_MCAST_FILTER_SIZE\t\t8\n#define AX_MAX_MCAST\t\t\t64\n\n#define AX_SWRESET_CLEAR\t\t0x00\n#define AX_SWRESET_RR\t\t\t0x01\n#define AX_SWRESET_RT\t\t\t0x02\n#define AX_SWRESET_PRTE\t\t\t0x04\n#define AX_SWRESET_PRL\t\t\t0x08\n#define AX_SWRESET_BZ\t\t\t0x10\n#define AX_SWRESET_IPRL\t\t\t0x20\n#define AX_SWRESET_IPPD\t\t\t0x40\n\n#define AX88772_IPG0_DEFAULT\t\t0x15\n#define AX88772_IPG1_DEFAULT\t\t0x0c\n#define AX88772_IPG2_DEFAULT\t\t0x12\n\n \n#define AX_MEDIUM_PF\t\t0x0080\n#define AX_MEDIUM_JFE\t\t0x0040\n#define AX_MEDIUM_TFC\t\t0x0020\n#define AX_MEDIUM_RFC\t\t0x0010\n#define AX_MEDIUM_ENCK\t\t0x0008\n#define AX_MEDIUM_AC\t\t0x0004\n#define AX_MEDIUM_FD\t\t0x0002\n#define AX_MEDIUM_GM\t\t0x0001\n#define AX_MEDIUM_SM\t\t0x1000\n#define AX_MEDIUM_SBP\t\t0x0800\n#define AX_MEDIUM_PS\t\t0x0200\n#define AX_MEDIUM_RE\t\t0x0100\n\n#define AX88178_MEDIUM_DEFAULT\t\\\n\t(AX_MEDIUM_PS | AX_MEDIUM_FD | AX_MEDIUM_AC | \\\n\t AX_MEDIUM_RFC | AX_MEDIUM_TFC | AX_MEDIUM_JFE | \\\n\t AX_MEDIUM_RE)\n\n#define AX88772_MEDIUM_DEFAULT\t\\\n\t(AX_MEDIUM_FD | AX_MEDIUM_PS | \\\n\t AX_MEDIUM_AC | AX_MEDIUM_RE)\n\n \n#define AX_RX_CTL_SO\t\t0x0080\n#define AX_RX_CTL_AP\t\t0x0020\n#define AX_RX_CTL_AM\t\t0x0010\n#define AX_RX_CTL_AB\t\t0x0008\n#define AX_RX_CTL_SEP\t\t0x0004\n#define AX_RX_CTL_AMALL\t\t0x0002\n#define AX_RX_CTL_PRO\t\t0x0001\n#define AX_RX_CTL_MFB_2048\t0x0000\n#define AX_RX_CTL_MFB_4096\t0x0100\n#define AX_RX_CTL_MFB_8192\t0x0200\n#define AX_RX_CTL_MFB_16384\t0x0300\n\n#define AX_DEFAULT_RX_CTL\t(AX_RX_CTL_SO | AX_RX_CTL_AB)\n\n \n#define AX_GPIO_GPO0EN\t\t0x01\t \n#define AX_GPIO_GPO_0\t\t0x02\t \n#define AX_GPIO_GPO1EN\t\t0x04\t \n#define AX_GPIO_GPO_1\t\t0x08\t \n#define AX_GPIO_GPO2EN\t\t0x10\t \n#define AX_GPIO_GPO_2\t\t0x20\t \n#define AX_GPIO_RESERVED\t0x40\t \n#define AX_GPIO_RSE\t\t0x80\t \n\n#define AX_EEPROM_MAGIC\t\t0xdeadbeef\n#define AX_EEPROM_LEN\t\t0x200\n\n#define AX_EMBD_PHY_ADDR\t0x10\n\n \nstruct asix_data {\n\tu8 multi_filter[AX_MCAST_FILTER_SIZE];\n\tu8 mac_addr[ETH_ALEN];\n\tu8 phymode;\n\tu8 ledmode;\n\tu8 res;\n};\n\nstruct asix_rx_fixup_info {\n\tstruct sk_buff *ax_skb;\n\tu32 header;\n\tu16 remaining;\n\tbool split_head;\n};\n\nstruct asix_common_private {\n\tvoid (*resume)(struct usbnet *dev);\n\tvoid (*suspend)(struct usbnet *dev);\n\tint (*reset)(struct usbnet *dev, int in_pm);\n\tu16 presvd_phy_advertise;\n\tu16 presvd_phy_bmcr;\n\tstruct asix_rx_fixup_info rx_fixup_info;\n\tstruct mii_bus *mdio;\n\tstruct phy_device *phydev;\n\tstruct phy_device *phydev_int;\n\tstruct phylink *phylink;\n\tstruct phylink_config phylink_config;\n\tu16 phy_addr;\n\tbool embd_phy;\n\tu8 chipcode;\n};\n\nextern const struct driver_info ax88172a_info;\n\n \n#define FLAG_EEPROM_MAC\t\t(1UL << 0)   \n\nint __must_check asix_read_cmd(struct usbnet *dev, u8 cmd, u16 value, u16 index,\n\t\t\t       u16 size, void *data, int in_pm);\n\nint asix_write_cmd(struct usbnet *dev, u8 cmd, u16 value, u16 index,\n\t\t   u16 size, void *data, int in_pm);\n\nvoid asix_write_cmd_async(struct usbnet *dev, u8 cmd, u16 value,\n\t\t\t  u16 index, u16 size, void *data);\n\nint asix_rx_fixup_internal(struct usbnet *dev, struct sk_buff *skb,\n\t\t\t   struct asix_rx_fixup_info *rx);\nint asix_rx_fixup_common(struct usbnet *dev, struct sk_buff *skb);\nvoid asix_rx_fixup_common_free(struct asix_common_private *dp);\n\nstruct sk_buff *asix_tx_fixup(struct usbnet *dev, struct sk_buff *skb,\n\t\t\t      gfp_t flags);\n\nint asix_read_phy_addr(struct usbnet *dev, bool internal);\n\nint asix_sw_reset(struct usbnet *dev, u8 flags, int in_pm);\n\nu16 asix_read_rx_ctl(struct usbnet *dev, int in_pm);\nint asix_write_rx_ctl(struct usbnet *dev, u16 mode, int in_pm);\n\nu16 asix_read_medium_status(struct usbnet *dev, int in_pm);\nint asix_write_medium_mode(struct usbnet *dev, u16 mode, int in_pm);\nvoid asix_adjust_link(struct net_device *netdev);\n\nint asix_write_gpio(struct usbnet *dev, u16 value, int sleep, int in_pm);\n\nvoid asix_set_multicast(struct net_device *net);\n\nint asix_mdio_read(struct net_device *netdev, int phy_id, int loc);\nvoid asix_mdio_write(struct net_device *netdev, int phy_id, int loc, int val);\n\nint asix_mdio_bus_read(struct mii_bus *bus, int phy_id, int regnum);\nint asix_mdio_bus_write(struct mii_bus *bus, int phy_id, int regnum, u16 val);\n\nint asix_mdio_read_nopm(struct net_device *netdev, int phy_id, int loc);\nvoid asix_mdio_write_nopm(struct net_device *netdev, int phy_id, int loc,\n\t\t\t  int val);\n\nvoid asix_get_wol(struct net_device *net, struct ethtool_wolinfo *wolinfo);\nint asix_set_wol(struct net_device *net, struct ethtool_wolinfo *wolinfo);\n\nint asix_get_eeprom_len(struct net_device *net);\nint asix_get_eeprom(struct net_device *net, struct ethtool_eeprom *eeprom,\n\t\t    u8 *data);\nint asix_set_eeprom(struct net_device *net, struct ethtool_eeprom *eeprom,\n\t\t    u8 *data);\n\nvoid asix_get_drvinfo(struct net_device *net, struct ethtool_drvinfo *info);\n\nint asix_set_mac_address(struct net_device *net, void *p);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}