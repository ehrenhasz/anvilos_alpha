{
  "module_name": "gsi_trans.h",
  "hash_id": "e534efaee4c6168006247356708f9a34661db10cb9670bf086ff80833b877826",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ipa/gsi_trans.h",
  "human_readable_source": " \n\n \n#ifndef _GSI_TRANS_H_\n#define _GSI_TRANS_H_\n\n#include <linux/types.h>\n#include <linux/refcount.h>\n#include <linux/completion.h>\n#include <linux/dma-direction.h>\n\n#include \"ipa_cmd.h\"\n\nstruct page;\nstruct scatterlist;\nstruct device;\nstruct sk_buff;\n\nstruct gsi;\nstruct gsi_trans;\nstruct gsi_trans_pool;\n\n \n#define IPA_COMMAND_TRANS_TRE_MAX\t8\n\n \nstruct gsi_trans {\n\tstruct gsi *gsi;\n\tu8 channel_id;\n\n\tbool cancelled;\t\t\t \n\n\tu8 rsvd_count;\t\t\t \n\tu8 used_count;\t\t\t \n\tu32 len;\t\t\t \n\n\tunion {\n\t\tvoid *data;\n\t\tu8 cmd_opcode[IPA_COMMAND_TRANS_TRE_MAX];\n\t};\n\tstruct scatterlist *sgl;\n\tenum dma_data_direction direction;\n\n\trefcount_t refcount;\n\tstruct completion completion;\n\n\tu64 byte_count;\t\t\t \n\tu64 trans_count;\t\t \n};\n\n \nint gsi_trans_pool_init(struct gsi_trans_pool *pool, size_t size, u32 count,\n\t\t\tu32 max_alloc);\n\n \nvoid *gsi_trans_pool_alloc(struct gsi_trans_pool *pool, u32 count);\n\n \nvoid gsi_trans_pool_exit(struct gsi_trans_pool *pool);\n\n \nint gsi_trans_pool_init_dma(struct device *dev, struct gsi_trans_pool *pool,\n\t\t\t    size_t size, u32 count, u32 max_alloc);\n\n \nvoid *gsi_trans_pool_alloc_dma(struct gsi_trans_pool *pool, dma_addr_t *addr);\n\n \nvoid gsi_trans_pool_exit_dma(struct device *dev, struct gsi_trans_pool *pool);\n\n \nbool gsi_channel_trans_idle(struct gsi *gsi, u32 channel_id);\n\n \nstruct gsi_trans *gsi_channel_trans_alloc(struct gsi *gsi, u32 channel_id,\n\t\t\t\t\t  u32 tre_count,\n\t\t\t\t\t  enum dma_data_direction direction);\n\n \nvoid gsi_trans_free(struct gsi_trans *trans);\n\n \nvoid gsi_trans_cmd_add(struct gsi_trans *trans, void *buf, u32 size,\n\t\t       dma_addr_t addr, enum ipa_cmd_opcode opcode);\n\n \nint gsi_trans_page_add(struct gsi_trans *trans, struct page *page, u32 size,\n\t\t       u32 offset);\n\n \nint gsi_trans_skb_add(struct gsi_trans *trans, struct sk_buff *skb);\n\n \nvoid gsi_trans_commit(struct gsi_trans *trans, bool ring_db);\n\n \nvoid gsi_trans_commit_wait(struct gsi_trans *trans);\n\n \nint gsi_trans_read_byte(struct gsi *gsi, u32 channel_id, dma_addr_t addr);\n\n \nvoid gsi_trans_read_byte_done(struct gsi *gsi, u32 channel_id);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}