{
  "module_name": "scan.h",
  "hash_id": "a45f8e2e051768b66d2b35d94468698f8d1d42e6b428bab5f5c8d13b09bfabf9",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ti/wlcore/scan.h",
  "human_readable_source": " \n \n\n#ifndef __SCAN_H__\n#define __SCAN_H__\n\n#include \"wlcore.h\"\n\nint wlcore_scan(struct wl1271 *wl, struct ieee80211_vif *vif,\n\t\tconst u8 *ssid, size_t ssid_len,\n\t\tstruct cfg80211_scan_request *req);\nint wl1271_scan_build_probe_req(struct wl1271 *wl,\n\t\t\t\tconst u8 *ssid, size_t ssid_len,\n\t\t\t\tconst u8 *ie, size_t ie_len, u8 band);\nvoid wl1271_scan_stm(struct wl1271 *wl, struct wl12xx_vif *wlvif);\nvoid wl1271_scan_complete_work(struct work_struct *work);\nint wl1271_scan_sched_scan_config(struct wl1271 *wl,\n\t\t\t\t     struct wl12xx_vif *wlvif,\n\t\t\t\t     struct cfg80211_sched_scan_request *req,\n\t\t\t\t     struct ieee80211_scan_ies *ies);\nint wl1271_scan_sched_scan_start(struct wl1271 *wl, struct wl12xx_vif *wlvif);\nvoid wlcore_scan_sched_scan_results(struct wl1271 *wl);\n\n#define WL1271_SCAN_MAX_CHANNELS       24\n#define WL1271_SCAN_DEFAULT_TAG        1\n#define WL1271_SCAN_CURRENT_TX_PWR     0\n#define WL1271_SCAN_OPT_ACTIVE         0\n#define WL1271_SCAN_OPT_PASSIVE\t       1\n#define WL1271_SCAN_OPT_SPLIT_SCAN     2\n#define WL1271_SCAN_OPT_PRIORITY_HIGH  4\n \n#define WL1271_SCAN_OPT_FORCE          8\n#define WL1271_SCAN_BAND_2_4_GHZ 0\n#define WL1271_SCAN_BAND_5_GHZ 1\n\n#define WL1271_SCAN_TIMEOUT    30000  \n\nenum {\n\tWL1271_SCAN_STATE_IDLE,\n\tWL1271_SCAN_STATE_2GHZ_ACTIVE,\n\tWL1271_SCAN_STATE_2GHZ_PASSIVE,\n\tWL1271_SCAN_STATE_5GHZ_ACTIVE,\n\tWL1271_SCAN_STATE_5GHZ_PASSIVE,\n\tWL1271_SCAN_STATE_DONE\n};\n\nstruct wl1271_cmd_trigger_scan_to {\n\tstruct wl1271_cmd_header header;\n\n\t__le32 timeout;\n} __packed;\n\n#define MAX_CHANNELS_2GHZ\t14\n#define MAX_CHANNELS_4GHZ\t4\n\n \n#define MAX_CHANNELS_5GHZ\t42\n\n#define SCAN_MAX_CYCLE_INTERVALS 16\n\n \n#define SCAN_MAX_SHORT_INTERVALS (SCAN_MAX_CYCLE_INTERVALS - 2)\n#define SCAN_MAX_BANDS 3\n\nenum {\n\tSCAN_SSID_FILTER_ANY      = 0,\n\tSCAN_SSID_FILTER_SPECIFIC = 1,\n\tSCAN_SSID_FILTER_LIST     = 2,\n\tSCAN_SSID_FILTER_DISABLED = 3\n};\n\nenum {\n\tSCAN_BSS_TYPE_INDEPENDENT,\n\tSCAN_BSS_TYPE_INFRASTRUCTURE,\n\tSCAN_BSS_TYPE_ANY,\n};\n\n#define SCAN_CHANNEL_FLAGS_DFS\t\tBIT(0)  \n#define SCAN_CHANNEL_FLAGS_DFS_ENABLED\tBIT(1)\n\nstruct conn_scan_ch_params {\n\t__le16 min_duration;\n\t__le16 max_duration;\n\t__le16 passive_duration;\n\n\tu8  channel;\n\tu8  tx_power_att;\n\n\t \n\tu8  flags;\n\n\tu8  padding[3];\n} __packed;\n\n#define SCHED_SCAN_MAX_SSIDS 16\n\nenum {\n\tSCAN_SSID_TYPE_PUBLIC = 0,\n\tSCAN_SSID_TYPE_HIDDEN = 1,\n};\n\nstruct wl1271_ssid {\n\tu8 type;\n\tu8 len;\n\tu8 ssid[IEEE80211_MAX_SSID_LEN];\n\t \n} __packed;\n\nstruct wl1271_cmd_sched_scan_ssid_list {\n\tstruct wl1271_cmd_header header;\n\n\tu8 n_ssids;\n\tstruct wl1271_ssid ssids[SCHED_SCAN_MAX_SSIDS];\n\tu8 role_id;\n\tu8 padding[2];\n} __packed;\n\nstruct wlcore_scan_channels {\n\tu8 passive[SCAN_MAX_BANDS];  \n\tu8 active[SCAN_MAX_BANDS];   \n\tu8 dfs;\t\t    \n\tu8 passive_active;  \n\n\tstruct conn_scan_ch_params channels_2[MAX_CHANNELS_2GHZ];\n\tstruct conn_scan_ch_params channels_5[MAX_CHANNELS_5GHZ];\n\tstruct conn_scan_ch_params channels_4[MAX_CHANNELS_4GHZ];\n};\n\nenum {\n\tSCAN_TYPE_SEARCH\t= 0,\n\tSCAN_TYPE_PERIODIC\t= 1,\n\tSCAN_TYPE_TRACKING\t= 2,\n};\n\nbool\nwlcore_set_scan_chan_params(struct wl1271 *wl,\n\t\t\t    struct wlcore_scan_channels *cfg,\n\t\t\t    struct ieee80211_channel *channels[],\n\t\t\t    u32 n_channels,\n\t\t\t    u32 n_ssids,\n\t\t\t    int scan_type);\n\nint\nwlcore_scan_sched_scan_ssid_list(struct wl1271 *wl,\n\t\t\t\t struct wl12xx_vif *wlvif,\n\t\t\t\t struct cfg80211_sched_scan_request *req);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}