{
  "module_name": "cmd.h",
  "hash_id": "e5429a174b11bb12db236074fa90020bc9d85d7dac63072cd6120e372f17cf64",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ti/wl1251/cmd.h",
  "human_readable_source": " \n \n\n#ifndef __WL1251_CMD_H__\n#define __WL1251_CMD_H__\n\n#include \"wl1251.h\"\n\n#include <net/cfg80211.h>\n\nstruct acx_header;\n\nint wl1251_cmd_send(struct wl1251 *wl, u16 type, void *buf, size_t buf_len);\nint wl1251_cmd_test(struct wl1251 *wl, void *buf, size_t buf_len, u8 answer);\nint wl1251_cmd_interrogate(struct wl1251 *wl, u16 id, void *buf, size_t len);\nint wl1251_cmd_configure(struct wl1251 *wl, u16 id, void *buf, size_t len);\nint wl1251_cmd_vbm(struct wl1251 *wl, u8 identity,\n\t\t   void *bitmap, u16 bitmap_len, u8 bitmap_control);\nint wl1251_cmd_data_path_rx(struct wl1251 *wl, u8 channel, bool enable);\nint wl1251_cmd_data_path_tx(struct wl1251 *wl, u8 channel, bool enable);\nint wl1251_cmd_join(struct wl1251 *wl, u8 bss_type, u8 channel,\n\t\t    u16 beacon_interval, u8 dtim_interval);\nint wl1251_cmd_ps_mode(struct wl1251 *wl, u8 ps_mode);\nint wl1251_cmd_read_memory(struct wl1251 *wl, u32 addr, void *answer,\n\t\t\t   size_t len);\nint wl1251_cmd_template_set(struct wl1251 *wl, u16 cmd_id,\n\t\t\t    void *buf, size_t buf_len);\nint wl1251_cmd_scan(struct wl1251 *wl, u8 *ssid, size_t ssid_len,\n\t\t    struct ieee80211_channel *channels[],\n\t\t    unsigned int n_channels, unsigned int n_probes);\nint wl1251_cmd_trigger_scan_to(struct wl1251 *wl, u32 timeout);\n\n \n#define WL1251_COMMAND_TIMEOUT 2000\n\nenum wl1251_commands {\n\tCMD_RESET           = 0,\n\tCMD_INTERROGATE     = 1,     \n\tCMD_CONFIGURE       = 2,     \n\tCMD_ENABLE_RX       = 3,\n\tCMD_ENABLE_TX       = 4,\n\tCMD_DISABLE_RX      = 5,\n\tCMD_DISABLE_TX      = 6,\n\tCMD_SCAN            = 8,\n\tCMD_STOP_SCAN       = 9,\n\tCMD_VBM             = 10,\n\tCMD_START_JOIN      = 11,\n\tCMD_SET_KEYS        = 12,\n\tCMD_READ_MEMORY     = 13,\n\tCMD_WRITE_MEMORY    = 14,\n\tCMD_BEACON          = 19,\n\tCMD_PROBE_RESP      = 20,\n\tCMD_NULL_DATA       = 21,\n\tCMD_PROBE_REQ       = 22,\n\tCMD_TEST            = 23,\n\tCMD_RADIO_CALIBRATE     = 25,    \n\tCMD_ENABLE_RX_PATH      = 27,    \n\tCMD_NOISE_HIST      = 28,\n\tCMD_RX_RESET        = 29,\n\tCMD_PS_POLL         = 30,\n\tCMD_QOS_NULL_DATA   = 31,\n\tCMD_LNA_CONTROL     = 32,\n\tCMD_SET_BCN_MODE    = 33,\n\tCMD_MEASUREMENT      = 34,\n\tCMD_STOP_MEASUREMENT = 35,\n\tCMD_DISCONNECT       = 36,\n\tCMD_SET_PS_MODE      = 37,\n\tCMD_CHANNEL_SWITCH   = 38,\n\tCMD_STOP_CHANNEL_SWICTH = 39,\n\tCMD_AP_DISCOVERY     = 40,\n\tCMD_STOP_AP_DISCOVERY = 41,\n\tCMD_SPS_SCAN = 42,\n\tCMD_STOP_SPS_SCAN = 43,\n\tCMD_HEALTH_CHECK     = 45,\n\tCMD_DEBUG            = 46,\n\tCMD_TRIGGER_SCAN_TO  = 47,\n\n\tNUM_COMMANDS,\n\tMAX_COMMAND_ID = 0xFFFF,\n};\n\n#define MAX_CMD_PARAMS 572\n\nstruct wl1251_cmd_header {\n\tu16 id;\n\tu16 status;\n\t \n\tu8 data[];\n} __packed;\n\nstruct  wl1251_command {\n\tstruct wl1251_cmd_header header;\n\tu8  parameters[MAX_CMD_PARAMS];\n} __packed;\n\nenum {\n\tCMD_MAILBOX_IDLE              \t\t=  0,\n\tCMD_STATUS_SUCCESS            \t\t=  1,\n\tCMD_STATUS_UNKNOWN_CMD        \t\t=  2,\n\tCMD_STATUS_UNKNOWN_IE         \t\t=  3,\n\tCMD_STATUS_REJECT_MEAS_SG_ACTIVE \t= 11,\n\tCMD_STATUS_RX_BUSY            \t\t= 13,\n\tCMD_STATUS_INVALID_PARAM      \t\t= 14,\n\tCMD_STATUS_TEMPLATE_TOO_LARGE \t\t= 15,\n\tCMD_STATUS_OUT_OF_MEMORY      \t\t= 16,\n\tCMD_STATUS_STA_TABLE_FULL     \t\t= 17,\n\tCMD_STATUS_RADIO_ERROR        \t\t= 18,\n\tCMD_STATUS_WRONG_NESTING      \t\t= 19,\n\tCMD_STATUS_TIMEOUT            \t\t= 21,  \n\tCMD_STATUS_FW_RESET           \t\t= 22,  \n\tMAX_COMMAND_STATUS            \t\t= 0xff\n};\n\n\n \n \n#define MAX_READ_SIZE 256\n\nstruct cmd_read_write_memory {\n\tstruct wl1251_cmd_header header;\n\n\t \n\tu32 addr;\n\n\t \n\tu32 size;\n\n\t \n\tu8 value[MAX_READ_SIZE];\n} __packed;\n\n#define CMDMBOX_HEADER_LEN 4\n#define CMDMBOX_INFO_ELEM_HEADER_LEN 4\n\n#define WL1251_SCAN_OPT_PASSIVE\t\t1\n#define WL1251_SCAN_OPT_5GHZ_BAND\t2\n#define WL1251_SCAN_OPT_TRIGGERD_SCAN\t4\n#define WL1251_SCAN_OPT_PRIORITY_HIGH\t8\n\n#define WL1251_SCAN_MIN_DURATION 30000\n#define WL1251_SCAN_MAX_DURATION 60000\n\n#define WL1251_SCAN_NUM_PROBES 3\n\nstruct wl1251_scan_parameters {\n\t__le32 rx_config_options;\n\t__le32 rx_filter_options;\n\n\t \n\t__le16 scan_options;\n\n\t \n\tu8 num_channels;\n\n\t \n\tu8 num_probe_requests;\n\n\t \n\t__le16 tx_rate;\n\n\tu8 tid_trigger;\n\tu8 ssid_len;\n\tu8 ssid[32];\n\n} __packed;\n\nstruct wl1251_scan_ch_parameters {\n\t__le32 min_duration;  \n\t__le32 max_duration;  \n\tu32 bssid_lsb;\n\tu16 bssid_msb;\n\n\t \n\tu8 early_termination;\n\n\tu8 tx_power_att;\n\tu8 channel;\n\tu8 pad[3];\n} __packed;\n\n \n#define SCAN_MAX_NUM_OF_CHANNELS 16\n\nstruct wl1251_cmd_scan {\n\tstruct wl1251_cmd_header header;\n\n\tstruct wl1251_scan_parameters params;\n\tstruct wl1251_scan_ch_parameters channels[SCAN_MAX_NUM_OF_CHANNELS];\n} __packed;\n\nenum {\n\tBSS_TYPE_IBSS = 0,\n\tBSS_TYPE_STA_BSS = 2,\n\tBSS_TYPE_AP_BSS = 3,\n\tMAX_BSS_TYPE = 0xFF\n};\n\n#define JOIN_CMD_CTRL_TX_FLUSH             0x80  \n#define JOIN_CMD_CTRL_EARLY_WAKEUP_ENABLE  0x01  \n\n\nstruct cmd_join {\n\tstruct wl1251_cmd_header header;\n\n\tu32 bssid_lsb;\n\tu16 bssid_msb;\n\tu16 beacon_interval;  \n\tu32 rx_config_options;\n\tu32 rx_filter_options;\n\n\t \n\tu16 basic_rate_set;\n\tu8 dtim_interval;\n\tu8 tx_ctrl_frame_rate;  \n\tu8 tx_ctrl_frame_mod;   \n\t \n\tu8 bss_type;\n\tu8 channel;\n\tu8 ssid_len;\n\tu8 ssid[IEEE80211_MAX_SSID_LEN];\n\tu8 ctrl;  \n\tu8 tx_mgt_frame_rate;  \n\tu8 tx_mgt_frame_mod;   \n\tu8 reserved;\n} __packed;\n\nstruct cmd_enabledisable_path {\n\tstruct wl1251_cmd_header header;\n\n\tu8 channel;\n\tu8 padding[3];\n} __packed;\n\n#define WL1251_MAX_TEMPLATE_SIZE 300\n\nstruct wl1251_cmd_packet_template {\n\tstruct wl1251_cmd_header header;\n\n\t__le16 size;\n\tu8 data[];\n} __packed;\n\n#define TIM_ELE_ID    5\n#define PARTIAL_VBM_MAX    251\n\nstruct wl1251_tim {\n\tu8 identity;\n\tu8 length;\n\tu8 dtim_count;\n\tu8 dtim_period;\n\tu8 bitmap_ctrl;\n\tu8 pvb_field[PARTIAL_VBM_MAX];  \n} __packed;\n\n \nstruct wl1251_cmd_vbm_update {\n\tstruct wl1251_cmd_header header;\n\t__le16 len;\n\tu8  padding[2];\n\tstruct wl1251_tim tim;\n} __packed;\n\nenum wl1251_cmd_ps_mode {\n\tCHIP_ACTIVE_MODE,\n\tCHIP_POWER_SAVE_MODE\n};\n\nstruct wl1251_cmd_ps_params {\n\tstruct wl1251_cmd_header header;\n\n\tu8 ps_mode;  \n\tu8 send_null_data;  \n\tu8 retries;  \n\n\t  \n\tu8 hang_over_period;\n\tu16 null_data_rate;\n\tu8 pad[2];\n} __packed;\n\nstruct wl1251_cmd_trigger_scan_to {\n\tstruct wl1251_cmd_header header;\n\n\tu32 timeout;\n} __packed;\n\n \n#define NUM_ACCESS_CATEGORIES_COPY 4\n#define MAX_KEY_SIZE 32\n\n \n#define DF_ENCRYPTION_DISABLE      0x01\n \n#define DF_SNIFF_MODE_ENABLE       0x80\n\nenum wl1251_cmd_key_action {\n\tKEY_ADD_OR_REPLACE = 1,\n\tKEY_REMOVE         = 2,\n\tKEY_SET_ID         = 3,\n\tMAX_KEY_ACTION     = 0xffff,\n};\n\nenum wl1251_cmd_key_type {\n\tKEY_WEP_DEFAULT       = 0,\n\tKEY_WEP_ADDR          = 1,\n\tKEY_AES_GROUP         = 4,\n\tKEY_AES_PAIRWISE      = 5,\n\tKEY_WEP_GROUP         = 6,\n\tKEY_TKIP_MIC_GROUP    = 10,\n\tKEY_TKIP_MIC_PAIRWISE = 11,\n};\n\n \n\nstruct wl1251_cmd_set_keys {\n\tstruct wl1251_cmd_header header;\n\n\t \n\tu8 addr[ETH_ALEN];\n\n\t \n\tu16 key_action;\n\n\tu16 reserved_1;\n\n\t \n\tu8 key_size;\n\n\t \n\tu8 key_type;\n\tu8 ssid_profile;\n\n\t \n\tu8 id;\n\tu8 reserved_2[6];\n\tu8 key[MAX_KEY_SIZE];\n\tu16 ac_seq_num16[NUM_ACCESS_CATEGORIES_COPY];\n\tu32 ac_seq_num32[NUM_ACCESS_CATEGORIES_COPY];\n} __packed;\n\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}