{
  "module_name": "4965-debug.c",
  "hash_id": "0886420213bf3daaea76b41de36531f0544052137be08b078f61822b7e788d99",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/intel/iwlegacy/4965-debug.c",
  "human_readable_source": "\n \n#include \"common.h\"\n#include \"4965.h\"\n\nstatic const char *fmt_value = \"  %-30s %10u\\n\";\nstatic const char *fmt_table = \"  %-30s %10u  %10u  %10u  %10u\\n\";\nstatic const char *fmt_header =\n    \"%-32s    current  cumulative       delta         max\\n\";\n\nstatic int\nil4965_stats_flag(struct il_priv *il, char *buf, int bufsz)\n{\n\tint p = 0;\n\tu32 flag;\n\n\tflag = le32_to_cpu(il->_4965.stats.flag);\n\n\tp += scnprintf(buf + p, bufsz - p, \"Statistics Flag(0x%X):\\n\", flag);\n\tif (flag & UCODE_STATS_CLEAR_MSK)\n\t\tp += scnprintf(buf + p, bufsz - p,\n\t\t\t       \"\\tStatistics have been cleared\\n\");\n\tp += scnprintf(buf + p, bufsz - p, \"\\tOperational Frequency: %s\\n\",\n\t\t       (flag & UCODE_STATS_FREQUENCY_MSK) ? \"2.4 GHz\" :\n\t\t       \"5.2 GHz\");\n\tp += scnprintf(buf + p, bufsz - p, \"\\tTGj Narrow Band: %s\\n\",\n\t\t       (flag & UCODE_STATS_NARROW_BAND_MSK) ? \"enabled\" :\n\t\t       \"disabled\");\n\n\treturn p;\n}\n\nstatic ssize_t\nil4965_ucode_rx_stats_read(struct file *file, char __user *user_buf,\n\t\t\t   size_t count, loff_t *ppos)\n{\n\tstruct il_priv *il = file->private_data;\n\tint pos = 0;\n\tchar *buf;\n\tint bufsz =\n\t    sizeof(struct stats_rx_phy) * 40 +\n\t    sizeof(struct stats_rx_non_phy) * 40 +\n\t    sizeof(struct stats_rx_ht_phy) * 40 + 400;\n\tssize_t ret;\n\tstruct stats_rx_phy *ofdm, *accum_ofdm, *delta_ofdm, *max_ofdm;\n\tstruct stats_rx_phy *cck, *accum_cck, *delta_cck, *max_cck;\n\tstruct stats_rx_non_phy *general, *accum_general;\n\tstruct stats_rx_non_phy *delta_general, *max_general;\n\tstruct stats_rx_ht_phy *ht, *accum_ht, *delta_ht, *max_ht;\n\n\tif (!il_is_alive(il))\n\t\treturn -EAGAIN;\n\n\tbuf = kzalloc(bufsz, GFP_KERNEL);\n\tif (!buf) {\n\t\tIL_ERR(\"Can not allocate Buffer\\n\");\n\t\treturn -ENOMEM;\n\t}\n\n\t \n\tofdm = &il->_4965.stats.rx.ofdm;\n\tcck = &il->_4965.stats.rx.cck;\n\tgeneral = &il->_4965.stats.rx.general;\n\tht = &il->_4965.stats.rx.ofdm_ht;\n\taccum_ofdm = &il->_4965.accum_stats.rx.ofdm;\n\taccum_cck = &il->_4965.accum_stats.rx.cck;\n\taccum_general = &il->_4965.accum_stats.rx.general;\n\taccum_ht = &il->_4965.accum_stats.rx.ofdm_ht;\n\tdelta_ofdm = &il->_4965.delta_stats.rx.ofdm;\n\tdelta_cck = &il->_4965.delta_stats.rx.cck;\n\tdelta_general = &il->_4965.delta_stats.rx.general;\n\tdelta_ht = &il->_4965.delta_stats.rx.ofdm_ht;\n\tmax_ofdm = &il->_4965.max_delta.rx.ofdm;\n\tmax_cck = &il->_4965.max_delta.rx.cck;\n\tmax_general = &il->_4965.max_delta.rx.general;\n\tmax_ht = &il->_4965.max_delta.rx.ofdm_ht;\n\n\tpos += il4965_stats_flag(il, buf, bufsz);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_header,\n\t\t      \"Statistics_Rx - OFDM:\");\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"ina_cnt:\",\n\t\t      le32_to_cpu(ofdm->ina_cnt), accum_ofdm->ina_cnt,\n\t\t      delta_ofdm->ina_cnt, max_ofdm->ina_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"fina_cnt:\",\n\t\t      le32_to_cpu(ofdm->fina_cnt), accum_ofdm->fina_cnt,\n\t\t      delta_ofdm->fina_cnt, max_ofdm->fina_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"plcp_err:\",\n\t\t      le32_to_cpu(ofdm->plcp_err), accum_ofdm->plcp_err,\n\t\t      delta_ofdm->plcp_err, max_ofdm->plcp_err);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"crc32_err:\",\n\t\t      le32_to_cpu(ofdm->crc32_err), accum_ofdm->crc32_err,\n\t\t      delta_ofdm->crc32_err, max_ofdm->crc32_err);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"overrun_err:\",\n\t\t      le32_to_cpu(ofdm->overrun_err), accum_ofdm->overrun_err,\n\t\t      delta_ofdm->overrun_err, max_ofdm->overrun_err);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"early_overrun_err:\",\n\t\t      le32_to_cpu(ofdm->early_overrun_err),\n\t\t      accum_ofdm->early_overrun_err,\n\t\t      delta_ofdm->early_overrun_err,\n\t\t      max_ofdm->early_overrun_err);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"crc32_good:\",\n\t\t      le32_to_cpu(ofdm->crc32_good), accum_ofdm->crc32_good,\n\t\t      delta_ofdm->crc32_good, max_ofdm->crc32_good);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"false_alarm_cnt:\",\n\t\t      le32_to_cpu(ofdm->false_alarm_cnt),\n\t\t      accum_ofdm->false_alarm_cnt, delta_ofdm->false_alarm_cnt,\n\t\t      max_ofdm->false_alarm_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"fina_sync_err_cnt:\",\n\t\t      le32_to_cpu(ofdm->fina_sync_err_cnt),\n\t\t      accum_ofdm->fina_sync_err_cnt,\n\t\t      delta_ofdm->fina_sync_err_cnt,\n\t\t      max_ofdm->fina_sync_err_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"sfd_timeout:\",\n\t\t      le32_to_cpu(ofdm->sfd_timeout), accum_ofdm->sfd_timeout,\n\t\t      delta_ofdm->sfd_timeout, max_ofdm->sfd_timeout);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"fina_timeout:\",\n\t\t      le32_to_cpu(ofdm->fina_timeout), accum_ofdm->fina_timeout,\n\t\t      delta_ofdm->fina_timeout, max_ofdm->fina_timeout);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"unresponded_rts:\",\n\t\t      le32_to_cpu(ofdm->unresponded_rts),\n\t\t      accum_ofdm->unresponded_rts, delta_ofdm->unresponded_rts,\n\t\t      max_ofdm->unresponded_rts);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"rxe_frame_lmt_ovrun:\",\n\t\t      le32_to_cpu(ofdm->rxe_frame_limit_overrun),\n\t\t      accum_ofdm->rxe_frame_limit_overrun,\n\t\t      delta_ofdm->rxe_frame_limit_overrun,\n\t\t      max_ofdm->rxe_frame_limit_overrun);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"sent_ack_cnt:\",\n\t\t      le32_to_cpu(ofdm->sent_ack_cnt), accum_ofdm->sent_ack_cnt,\n\t\t      delta_ofdm->sent_ack_cnt, max_ofdm->sent_ack_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"sent_cts_cnt:\",\n\t\t      le32_to_cpu(ofdm->sent_cts_cnt), accum_ofdm->sent_cts_cnt,\n\t\t      delta_ofdm->sent_cts_cnt, max_ofdm->sent_cts_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"sent_ba_rsp_cnt:\",\n\t\t      le32_to_cpu(ofdm->sent_ba_rsp_cnt),\n\t\t      accum_ofdm->sent_ba_rsp_cnt, delta_ofdm->sent_ba_rsp_cnt,\n\t\t      max_ofdm->sent_ba_rsp_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"dsp_self_kill:\",\n\t\t      le32_to_cpu(ofdm->dsp_self_kill),\n\t\t      accum_ofdm->dsp_self_kill, delta_ofdm->dsp_self_kill,\n\t\t      max_ofdm->dsp_self_kill);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"mh_format_err:\",\n\t\t      le32_to_cpu(ofdm->mh_format_err),\n\t\t      accum_ofdm->mh_format_err, delta_ofdm->mh_format_err,\n\t\t      max_ofdm->mh_format_err);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table,\n\t\t      \"re_acq_main_rssi_sum:\",\n\t\t      le32_to_cpu(ofdm->re_acq_main_rssi_sum),\n\t\t      accum_ofdm->re_acq_main_rssi_sum,\n\t\t      delta_ofdm->re_acq_main_rssi_sum,\n\t\t      max_ofdm->re_acq_main_rssi_sum);\n\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_header,\n\t\t      \"Statistics_Rx - CCK:\");\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"ina_cnt:\",\n\t\t      le32_to_cpu(cck->ina_cnt), accum_cck->ina_cnt,\n\t\t      delta_cck->ina_cnt, max_cck->ina_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"fina_cnt:\",\n\t\t      le32_to_cpu(cck->fina_cnt), accum_cck->fina_cnt,\n\t\t      delta_cck->fina_cnt, max_cck->fina_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"plcp_err:\",\n\t\t      le32_to_cpu(cck->plcp_err), accum_cck->plcp_err,\n\t\t      delta_cck->plcp_err, max_cck->plcp_err);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"crc32_err:\",\n\t\t      le32_to_cpu(cck->crc32_err), accum_cck->crc32_err,\n\t\t      delta_cck->crc32_err, max_cck->crc32_err);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"overrun_err:\",\n\t\t      le32_to_cpu(cck->overrun_err), accum_cck->overrun_err,\n\t\t      delta_cck->overrun_err, max_cck->overrun_err);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"early_overrun_err:\",\n\t\t      le32_to_cpu(cck->early_overrun_err),\n\t\t      accum_cck->early_overrun_err,\n\t\t      delta_cck->early_overrun_err, max_cck->early_overrun_err);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"crc32_good:\",\n\t\t      le32_to_cpu(cck->crc32_good), accum_cck->crc32_good,\n\t\t      delta_cck->crc32_good, max_cck->crc32_good);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"false_alarm_cnt:\",\n\t\t      le32_to_cpu(cck->false_alarm_cnt),\n\t\t      accum_cck->false_alarm_cnt, delta_cck->false_alarm_cnt,\n\t\t      max_cck->false_alarm_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"fina_sync_err_cnt:\",\n\t\t      le32_to_cpu(cck->fina_sync_err_cnt),\n\t\t      accum_cck->fina_sync_err_cnt,\n\t\t      delta_cck->fina_sync_err_cnt, max_cck->fina_sync_err_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"sfd_timeout:\",\n\t\t      le32_to_cpu(cck->sfd_timeout), accum_cck->sfd_timeout,\n\t\t      delta_cck->sfd_timeout, max_cck->sfd_timeout);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"fina_timeout:\",\n\t\t      le32_to_cpu(cck->fina_timeout), accum_cck->fina_timeout,\n\t\t      delta_cck->fina_timeout, max_cck->fina_timeout);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"unresponded_rts:\",\n\t\t      le32_to_cpu(cck->unresponded_rts),\n\t\t      accum_cck->unresponded_rts, delta_cck->unresponded_rts,\n\t\t      max_cck->unresponded_rts);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"rxe_frame_lmt_ovrun:\",\n\t\t      le32_to_cpu(cck->rxe_frame_limit_overrun),\n\t\t      accum_cck->rxe_frame_limit_overrun,\n\t\t      delta_cck->rxe_frame_limit_overrun,\n\t\t      max_cck->rxe_frame_limit_overrun);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"sent_ack_cnt:\",\n\t\t      le32_to_cpu(cck->sent_ack_cnt), accum_cck->sent_ack_cnt,\n\t\t      delta_cck->sent_ack_cnt, max_cck->sent_ack_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"sent_cts_cnt:\",\n\t\t      le32_to_cpu(cck->sent_cts_cnt), accum_cck->sent_cts_cnt,\n\t\t      delta_cck->sent_cts_cnt, max_cck->sent_cts_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"sent_ba_rsp_cnt:\",\n\t\t      le32_to_cpu(cck->sent_ba_rsp_cnt),\n\t\t      accum_cck->sent_ba_rsp_cnt, delta_cck->sent_ba_rsp_cnt,\n\t\t      max_cck->sent_ba_rsp_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"dsp_self_kill:\",\n\t\t      le32_to_cpu(cck->dsp_self_kill), accum_cck->dsp_self_kill,\n\t\t      delta_cck->dsp_self_kill, max_cck->dsp_self_kill);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"mh_format_err:\",\n\t\t      le32_to_cpu(cck->mh_format_err), accum_cck->mh_format_err,\n\t\t      delta_cck->mh_format_err, max_cck->mh_format_err);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table,\n\t\t      \"re_acq_main_rssi_sum:\",\n\t\t      le32_to_cpu(cck->re_acq_main_rssi_sum),\n\t\t      accum_cck->re_acq_main_rssi_sum,\n\t\t      delta_cck->re_acq_main_rssi_sum,\n\t\t      max_cck->re_acq_main_rssi_sum);\n\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_header,\n\t\t      \"Statistics_Rx - GENERAL:\");\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"bogus_cts:\",\n\t\t      le32_to_cpu(general->bogus_cts), accum_general->bogus_cts,\n\t\t      delta_general->bogus_cts, max_general->bogus_cts);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"bogus_ack:\",\n\t\t      le32_to_cpu(general->bogus_ack), accum_general->bogus_ack,\n\t\t      delta_general->bogus_ack, max_general->bogus_ack);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"non_bssid_frames:\",\n\t\t      le32_to_cpu(general->non_bssid_frames),\n\t\t      accum_general->non_bssid_frames,\n\t\t      delta_general->non_bssid_frames,\n\t\t      max_general->non_bssid_frames);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"filtered_frames:\",\n\t\t      le32_to_cpu(general->filtered_frames),\n\t\t      accum_general->filtered_frames,\n\t\t      delta_general->filtered_frames,\n\t\t      max_general->filtered_frames);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"non_channel_beacons:\",\n\t\t      le32_to_cpu(general->non_channel_beacons),\n\t\t      accum_general->non_channel_beacons,\n\t\t      delta_general->non_channel_beacons,\n\t\t      max_general->non_channel_beacons);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"channel_beacons:\",\n\t\t      le32_to_cpu(general->channel_beacons),\n\t\t      accum_general->channel_beacons,\n\t\t      delta_general->channel_beacons,\n\t\t      max_general->channel_beacons);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"num_missed_bcon:\",\n\t\t      le32_to_cpu(general->num_missed_bcon),\n\t\t      accum_general->num_missed_bcon,\n\t\t      delta_general->num_missed_bcon,\n\t\t      max_general->num_missed_bcon);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table,\n\t\t      \"adc_rx_saturation_time:\",\n\t\t      le32_to_cpu(general->adc_rx_saturation_time),\n\t\t      accum_general->adc_rx_saturation_time,\n\t\t      delta_general->adc_rx_saturation_time,\n\t\t      max_general->adc_rx_saturation_time);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table,\n\t\t      \"ina_detect_search_tm:\",\n\t\t      le32_to_cpu(general->ina_detection_search_time),\n\t\t      accum_general->ina_detection_search_time,\n\t\t      delta_general->ina_detection_search_time,\n\t\t      max_general->ina_detection_search_time);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table,\n\t\t      \"beacon_silence_rssi_a:\",\n\t\t      le32_to_cpu(general->beacon_silence_rssi_a),\n\t\t      accum_general->beacon_silence_rssi_a,\n\t\t      delta_general->beacon_silence_rssi_a,\n\t\t      max_general->beacon_silence_rssi_a);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table,\n\t\t      \"beacon_silence_rssi_b:\",\n\t\t      le32_to_cpu(general->beacon_silence_rssi_b),\n\t\t      accum_general->beacon_silence_rssi_b,\n\t\t      delta_general->beacon_silence_rssi_b,\n\t\t      max_general->beacon_silence_rssi_b);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table,\n\t\t      \"beacon_silence_rssi_c:\",\n\t\t      le32_to_cpu(general->beacon_silence_rssi_c),\n\t\t      accum_general->beacon_silence_rssi_c,\n\t\t      delta_general->beacon_silence_rssi_c,\n\t\t      max_general->beacon_silence_rssi_c);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table,\n\t\t      \"interference_data_flag:\",\n\t\t      le32_to_cpu(general->interference_data_flag),\n\t\t      accum_general->interference_data_flag,\n\t\t      delta_general->interference_data_flag,\n\t\t      max_general->interference_data_flag);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"channel_load:\",\n\t\t      le32_to_cpu(general->channel_load),\n\t\t      accum_general->channel_load, delta_general->channel_load,\n\t\t      max_general->channel_load);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"dsp_false_alarms:\",\n\t\t      le32_to_cpu(general->dsp_false_alarms),\n\t\t      accum_general->dsp_false_alarms,\n\t\t      delta_general->dsp_false_alarms,\n\t\t      max_general->dsp_false_alarms);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"beacon_rssi_a:\",\n\t\t      le32_to_cpu(general->beacon_rssi_a),\n\t\t      accum_general->beacon_rssi_a,\n\t\t      delta_general->beacon_rssi_a, max_general->beacon_rssi_a);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"beacon_rssi_b:\",\n\t\t      le32_to_cpu(general->beacon_rssi_b),\n\t\t      accum_general->beacon_rssi_b,\n\t\t      delta_general->beacon_rssi_b, max_general->beacon_rssi_b);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"beacon_rssi_c:\",\n\t\t      le32_to_cpu(general->beacon_rssi_c),\n\t\t      accum_general->beacon_rssi_c,\n\t\t      delta_general->beacon_rssi_c, max_general->beacon_rssi_c);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"beacon_energy_a:\",\n\t\t      le32_to_cpu(general->beacon_energy_a),\n\t\t      accum_general->beacon_energy_a,\n\t\t      delta_general->beacon_energy_a,\n\t\t      max_general->beacon_energy_a);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"beacon_energy_b:\",\n\t\t      le32_to_cpu(general->beacon_energy_b),\n\t\t      accum_general->beacon_energy_b,\n\t\t      delta_general->beacon_energy_b,\n\t\t      max_general->beacon_energy_b);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"beacon_energy_c:\",\n\t\t      le32_to_cpu(general->beacon_energy_c),\n\t\t      accum_general->beacon_energy_c,\n\t\t      delta_general->beacon_energy_c,\n\t\t      max_general->beacon_energy_c);\n\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_header,\n\t\t      \"Statistics_Rx - OFDM_HT:\");\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"plcp_err:\",\n\t\t      le32_to_cpu(ht->plcp_err), accum_ht->plcp_err,\n\t\t      delta_ht->plcp_err, max_ht->plcp_err);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"overrun_err:\",\n\t\t      le32_to_cpu(ht->overrun_err), accum_ht->overrun_err,\n\t\t      delta_ht->overrun_err, max_ht->overrun_err);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"early_overrun_err:\",\n\t\t      le32_to_cpu(ht->early_overrun_err),\n\t\t      accum_ht->early_overrun_err, delta_ht->early_overrun_err,\n\t\t      max_ht->early_overrun_err);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"crc32_good:\",\n\t\t      le32_to_cpu(ht->crc32_good), accum_ht->crc32_good,\n\t\t      delta_ht->crc32_good, max_ht->crc32_good);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"crc32_err:\",\n\t\t      le32_to_cpu(ht->crc32_err), accum_ht->crc32_err,\n\t\t      delta_ht->crc32_err, max_ht->crc32_err);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"mh_format_err:\",\n\t\t      le32_to_cpu(ht->mh_format_err), accum_ht->mh_format_err,\n\t\t      delta_ht->mh_format_err, max_ht->mh_format_err);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"agg_crc32_good:\",\n\t\t      le32_to_cpu(ht->agg_crc32_good), accum_ht->agg_crc32_good,\n\t\t      delta_ht->agg_crc32_good, max_ht->agg_crc32_good);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"agg_mpdu_cnt:\",\n\t\t      le32_to_cpu(ht->agg_mpdu_cnt), accum_ht->agg_mpdu_cnt,\n\t\t      delta_ht->agg_mpdu_cnt, max_ht->agg_mpdu_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"agg_cnt:\",\n\t\t      le32_to_cpu(ht->agg_cnt), accum_ht->agg_cnt,\n\t\t      delta_ht->agg_cnt, max_ht->agg_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"unsupport_mcs:\",\n\t\t      le32_to_cpu(ht->unsupport_mcs), accum_ht->unsupport_mcs,\n\t\t      delta_ht->unsupport_mcs, max_ht->unsupport_mcs);\n\n\tret = simple_read_from_buffer(user_buf, count, ppos, buf, pos);\n\tkfree(buf);\n\treturn ret;\n}\n\nstatic ssize_t\nil4965_ucode_tx_stats_read(struct file *file, char __user *user_buf,\n\t\t\t   size_t count, loff_t *ppos)\n{\n\tstruct il_priv *il = file->private_data;\n\tint pos = 0;\n\tchar *buf;\n\tint bufsz = (sizeof(struct stats_tx) * 48) + 250;\n\tssize_t ret;\n\tstruct stats_tx *tx, *accum_tx, *delta_tx, *max_tx;\n\n\tif (!il_is_alive(il))\n\t\treturn -EAGAIN;\n\n\tbuf = kzalloc(bufsz, GFP_KERNEL);\n\tif (!buf) {\n\t\tIL_ERR(\"Can not allocate Buffer\\n\");\n\t\treturn -ENOMEM;\n\t}\n\n\t \n\ttx = &il->_4965.stats.tx;\n\taccum_tx = &il->_4965.accum_stats.tx;\n\tdelta_tx = &il->_4965.delta_stats.tx;\n\tmax_tx = &il->_4965.max_delta.tx;\n\n\tpos += il4965_stats_flag(il, buf, bufsz);\n\tpos += scnprintf(buf + pos, bufsz - pos, fmt_header, \"Statistics_Tx:\");\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"preamble:\",\n\t\t      le32_to_cpu(tx->preamble_cnt), accum_tx->preamble_cnt,\n\t\t      delta_tx->preamble_cnt, max_tx->preamble_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"rx_detected_cnt:\",\n\t\t      le32_to_cpu(tx->rx_detected_cnt),\n\t\t      accum_tx->rx_detected_cnt, delta_tx->rx_detected_cnt,\n\t\t      max_tx->rx_detected_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"bt_prio_defer_cnt:\",\n\t\t      le32_to_cpu(tx->bt_prio_defer_cnt),\n\t\t      accum_tx->bt_prio_defer_cnt, delta_tx->bt_prio_defer_cnt,\n\t\t      max_tx->bt_prio_defer_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"bt_prio_kill_cnt:\",\n\t\t      le32_to_cpu(tx->bt_prio_kill_cnt),\n\t\t      accum_tx->bt_prio_kill_cnt, delta_tx->bt_prio_kill_cnt,\n\t\t      max_tx->bt_prio_kill_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"few_bytes_cnt:\",\n\t\t      le32_to_cpu(tx->few_bytes_cnt), accum_tx->few_bytes_cnt,\n\t\t      delta_tx->few_bytes_cnt, max_tx->few_bytes_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"cts_timeout:\",\n\t\t      le32_to_cpu(tx->cts_timeout), accum_tx->cts_timeout,\n\t\t      delta_tx->cts_timeout, max_tx->cts_timeout);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"ack_timeout:\",\n\t\t      le32_to_cpu(tx->ack_timeout), accum_tx->ack_timeout,\n\t\t      delta_tx->ack_timeout, max_tx->ack_timeout);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"expected_ack_cnt:\",\n\t\t      le32_to_cpu(tx->expected_ack_cnt),\n\t\t      accum_tx->expected_ack_cnt, delta_tx->expected_ack_cnt,\n\t\t      max_tx->expected_ack_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"actual_ack_cnt:\",\n\t\t      le32_to_cpu(tx->actual_ack_cnt), accum_tx->actual_ack_cnt,\n\t\t      delta_tx->actual_ack_cnt, max_tx->actual_ack_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"dump_msdu_cnt:\",\n\t\t      le32_to_cpu(tx->dump_msdu_cnt), accum_tx->dump_msdu_cnt,\n\t\t      delta_tx->dump_msdu_cnt, max_tx->dump_msdu_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table,\n\t\t      \"abort_nxt_frame_mismatch:\",\n\t\t      le32_to_cpu(tx->burst_abort_next_frame_mismatch_cnt),\n\t\t      accum_tx->burst_abort_next_frame_mismatch_cnt,\n\t\t      delta_tx->burst_abort_next_frame_mismatch_cnt,\n\t\t      max_tx->burst_abort_next_frame_mismatch_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table,\n\t\t      \"abort_missing_nxt_frame:\",\n\t\t      le32_to_cpu(tx->burst_abort_missing_next_frame_cnt),\n\t\t      accum_tx->burst_abort_missing_next_frame_cnt,\n\t\t      delta_tx->burst_abort_missing_next_frame_cnt,\n\t\t      max_tx->burst_abort_missing_next_frame_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table,\n\t\t      \"cts_timeout_collision:\",\n\t\t      le32_to_cpu(tx->cts_timeout_collision),\n\t\t      accum_tx->cts_timeout_collision,\n\t\t      delta_tx->cts_timeout_collision,\n\t\t      max_tx->cts_timeout_collision);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table,\n\t\t      \"ack_ba_timeout_collision:\",\n\t\t      le32_to_cpu(tx->ack_or_ba_timeout_collision),\n\t\t      accum_tx->ack_or_ba_timeout_collision,\n\t\t      delta_tx->ack_or_ba_timeout_collision,\n\t\t      max_tx->ack_or_ba_timeout_collision);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"agg ba_timeout:\",\n\t\t      le32_to_cpu(tx->agg.ba_timeout), accum_tx->agg.ba_timeout,\n\t\t      delta_tx->agg.ba_timeout, max_tx->agg.ba_timeout);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table,\n\t\t      \"agg ba_resched_frames:\",\n\t\t      le32_to_cpu(tx->agg.ba_reschedule_frames),\n\t\t      accum_tx->agg.ba_reschedule_frames,\n\t\t      delta_tx->agg.ba_reschedule_frames,\n\t\t      max_tx->agg.ba_reschedule_frames);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table,\n\t\t      \"agg scd_query_agg_frame:\",\n\t\t      le32_to_cpu(tx->agg.scd_query_agg_frame_cnt),\n\t\t      accum_tx->agg.scd_query_agg_frame_cnt,\n\t\t      delta_tx->agg.scd_query_agg_frame_cnt,\n\t\t      max_tx->agg.scd_query_agg_frame_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table,\n\t\t      \"agg scd_query_no_agg:\",\n\t\t      le32_to_cpu(tx->agg.scd_query_no_agg),\n\t\t      accum_tx->agg.scd_query_no_agg,\n\t\t      delta_tx->agg.scd_query_no_agg,\n\t\t      max_tx->agg.scd_query_no_agg);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"agg scd_query_agg:\",\n\t\t      le32_to_cpu(tx->agg.scd_query_agg),\n\t\t      accum_tx->agg.scd_query_agg, delta_tx->agg.scd_query_agg,\n\t\t      max_tx->agg.scd_query_agg);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table,\n\t\t      \"agg scd_query_mismatch:\",\n\t\t      le32_to_cpu(tx->agg.scd_query_mismatch),\n\t\t      accum_tx->agg.scd_query_mismatch,\n\t\t      delta_tx->agg.scd_query_mismatch,\n\t\t      max_tx->agg.scd_query_mismatch);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"agg frame_not_ready:\",\n\t\t      le32_to_cpu(tx->agg.frame_not_ready),\n\t\t      accum_tx->agg.frame_not_ready,\n\t\t      delta_tx->agg.frame_not_ready,\n\t\t      max_tx->agg.frame_not_ready);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"agg underrun:\",\n\t\t      le32_to_cpu(tx->agg.underrun), accum_tx->agg.underrun,\n\t\t      delta_tx->agg.underrun, max_tx->agg.underrun);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"agg bt_prio_kill:\",\n\t\t      le32_to_cpu(tx->agg.bt_prio_kill),\n\t\t      accum_tx->agg.bt_prio_kill, delta_tx->agg.bt_prio_kill,\n\t\t      max_tx->agg.bt_prio_kill);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"agg rx_ba_rsp_cnt:\",\n\t\t      le32_to_cpu(tx->agg.rx_ba_rsp_cnt),\n\t\t      accum_tx->agg.rx_ba_rsp_cnt, delta_tx->agg.rx_ba_rsp_cnt,\n\t\t      max_tx->agg.rx_ba_rsp_cnt);\n\n\tret = simple_read_from_buffer(user_buf, count, ppos, buf, pos);\n\tkfree(buf);\n\treturn ret;\n}\n\nstatic ssize_t\nil4965_ucode_general_stats_read(struct file *file, char __user *user_buf,\n\t\t\t\tsize_t count, loff_t *ppos)\n{\n\tstruct il_priv *il = file->private_data;\n\tint pos = 0;\n\tchar *buf;\n\tint bufsz = sizeof(struct stats_general) * 10 + 300;\n\tssize_t ret;\n\tstruct stats_general_common *general, *accum_general;\n\tstruct stats_general_common *delta_general, *max_general;\n\tstruct stats_dbg *dbg, *accum_dbg, *delta_dbg, *max_dbg;\n\tstruct stats_div *div, *accum_div, *delta_div, *max_div;\n\n\tif (!il_is_alive(il))\n\t\treturn -EAGAIN;\n\n\tbuf = kzalloc(bufsz, GFP_KERNEL);\n\tif (!buf) {\n\t\tIL_ERR(\"Can not allocate Buffer\\n\");\n\t\treturn -ENOMEM;\n\t}\n\n\t \n\tgeneral = &il->_4965.stats.general.common;\n\tdbg = &il->_4965.stats.general.common.dbg;\n\tdiv = &il->_4965.stats.general.common.div;\n\taccum_general = &il->_4965.accum_stats.general.common;\n\taccum_dbg = &il->_4965.accum_stats.general.common.dbg;\n\taccum_div = &il->_4965.accum_stats.general.common.div;\n\tdelta_general = &il->_4965.delta_stats.general.common;\n\tmax_general = &il->_4965.max_delta.general.common;\n\tdelta_dbg = &il->_4965.delta_stats.general.common.dbg;\n\tmax_dbg = &il->_4965.max_delta.general.common.dbg;\n\tdelta_div = &il->_4965.delta_stats.general.common.div;\n\tmax_div = &il->_4965.max_delta.general.common.div;\n\n\tpos += il4965_stats_flag(il, buf, bufsz);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_header,\n\t\t      \"Statistics_General:\");\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_value, \"temperature:\",\n\t\t      le32_to_cpu(general->temperature));\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_value, \"ttl_timestamp:\",\n\t\t      le32_to_cpu(general->ttl_timestamp));\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"burst_check:\",\n\t\t      le32_to_cpu(dbg->burst_check), accum_dbg->burst_check,\n\t\t      delta_dbg->burst_check, max_dbg->burst_check);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"burst_count:\",\n\t\t      le32_to_cpu(dbg->burst_count), accum_dbg->burst_count,\n\t\t      delta_dbg->burst_count, max_dbg->burst_count);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table,\n\t\t      \"wait_for_silence_timeout_count:\",\n\t\t      le32_to_cpu(dbg->wait_for_silence_timeout_cnt),\n\t\t      accum_dbg->wait_for_silence_timeout_cnt,\n\t\t      delta_dbg->wait_for_silence_timeout_cnt,\n\t\t      max_dbg->wait_for_silence_timeout_cnt);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"sleep_time:\",\n\t\t      le32_to_cpu(general->sleep_time),\n\t\t      accum_general->sleep_time, delta_general->sleep_time,\n\t\t      max_general->sleep_time);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"slots_out:\",\n\t\t      le32_to_cpu(general->slots_out), accum_general->slots_out,\n\t\t      delta_general->slots_out, max_general->slots_out);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"slots_idle:\",\n\t\t      le32_to_cpu(general->slots_idle),\n\t\t      accum_general->slots_idle, delta_general->slots_idle,\n\t\t      max_general->slots_idle);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"tx_on_a:\",\n\t\t      le32_to_cpu(div->tx_on_a), accum_div->tx_on_a,\n\t\t      delta_div->tx_on_a, max_div->tx_on_a);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"tx_on_b:\",\n\t\t      le32_to_cpu(div->tx_on_b), accum_div->tx_on_b,\n\t\t      delta_div->tx_on_b, max_div->tx_on_b);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"exec_time:\",\n\t\t      le32_to_cpu(div->exec_time), accum_div->exec_time,\n\t\t      delta_div->exec_time, max_div->exec_time);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"probe_time:\",\n\t\t      le32_to_cpu(div->probe_time), accum_div->probe_time,\n\t\t      delta_div->probe_time, max_div->probe_time);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"rx_enable_counter:\",\n\t\t      le32_to_cpu(general->rx_enable_counter),\n\t\t      accum_general->rx_enable_counter,\n\t\t      delta_general->rx_enable_counter,\n\t\t      max_general->rx_enable_counter);\n\tpos +=\n\t    scnprintf(buf + pos, bufsz - pos, fmt_table, \"num_of_sos_states:\",\n\t\t      le32_to_cpu(general->num_of_sos_states),\n\t\t      accum_general->num_of_sos_states,\n\t\t      delta_general->num_of_sos_states,\n\t\t      max_general->num_of_sos_states);\n\tret = simple_read_from_buffer(user_buf, count, ppos, buf, pos);\n\tkfree(buf);\n\treturn ret;\n}\n\nconst struct il_debugfs_ops il4965_debugfs_ops = {\n\t.rx_stats_read = il4965_ucode_rx_stats_read,\n\t.tx_stats_read = il4965_ucode_tx_stats_read,\n\t.general_stats_read = il4965_ucode_general_stats_read,\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}