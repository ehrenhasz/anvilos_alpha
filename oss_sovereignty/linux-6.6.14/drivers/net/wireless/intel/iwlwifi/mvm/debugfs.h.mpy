{
  "module_name": "debugfs.h",
  "hash_id": "2b404e3c197a96dbd911646c8f9fb2c92631a007f814cc428a33cecddace2fa2",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/intel/iwlwifi/mvm/debugfs.h",
  "human_readable_source": " \n \n#define MVM_DEBUGFS_READ_FILE_OPS(name)\t\t\t\t\t\\\nstatic const struct file_operations iwl_dbgfs_##name##_ops = {\t\t\\\n\t.read = iwl_dbgfs_##name##_read,\t\t\t\t\\\n\t.open = simple_open,\t\t\t\t\t\t\\\n\t.llseek = generic_file_llseek,\t\t\t\t\t\\\n}\n\n#define MVM_DEBUGFS_WRITE_WRAPPER(name, buflen, argtype)\t\t\\\nstatic ssize_t _iwl_dbgfs_##name##_write(struct file *file,\t\t\\\n\t\t\t\t\t const char __user *user_buf,\t\\\n\t\t\t\t\t size_t count, loff_t *ppos)\t\\\n{\t\t\t\t\t\t\t\t\t\\\n\targtype *arg = file->private_data;\t\t\t\t\\\n\tchar buf[buflen] = {};\t\t\t\t\t\t\\\n\tsize_t buf_size = min(count, sizeof(buf) -  1);\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\tif (copy_from_user(buf, user_buf, buf_size))\t\t\t\\\n\t\treturn -EFAULT;\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\treturn iwl_dbgfs_##name##_write(arg, buf, buf_size, ppos);\t\\\n}\t\t\t\t\t\t\t\t\t\\\n\n#define _MVM_DEBUGFS_READ_WRITE_FILE_OPS(name, buflen, argtype)\t\t\\\nMVM_DEBUGFS_WRITE_WRAPPER(name, buflen, argtype)\t\t\t\\\nstatic const struct file_operations iwl_dbgfs_##name##_ops = {\t\t\\\n\t.write = _iwl_dbgfs_##name##_write,\t\t\t\t\\\n\t.read = iwl_dbgfs_##name##_read,\t\t\t\t\\\n\t.open = simple_open,\t\t\t\t\t\t\\\n\t.llseek = generic_file_llseek,\t\t\t\t\t\\\n};\n\n#define _MVM_DEBUGFS_WRITE_FILE_OPS(name, buflen, argtype)\t\t\\\nMVM_DEBUGFS_WRITE_WRAPPER(name, buflen, argtype)\t\t\t\\\nstatic const struct file_operations iwl_dbgfs_##name##_ops = {\t\t\\\n\t.write = _iwl_dbgfs_##name##_write,\t\t\t\t\\\n\t.open = simple_open,\t\t\t\t\t\t\\\n\t.llseek = generic_file_llseek,\t\t\t\t\t\\\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}