{
  "module_name": "iwl-devtrace.h",
  "hash_id": "17afc506d3637ef06971b67690d573fd7b62d4f2283b74f39e78590c2ca0d666",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/intel/iwlwifi/iwl-devtrace.h",
  "human_readable_source": " \n \n\n#ifndef __IWLWIFI_DEVICE_TRACE\n#include <linux/skbuff.h>\n#include <linux/ieee80211.h>\n#include <net/cfg80211.h>\n#include \"iwl-trans.h\"\n#if !defined(__IWLWIFI_DEVICE_TRACE)\nstatic inline bool iwl_trace_data(struct sk_buff *skb)\n{\n\tstruct ieee80211_hdr *hdr = (void *)skb->data;\n\t__le16 fc = hdr->frame_control;\n\tint offs = 24;  \n\n\tif (!ieee80211_is_data(fc))\n\t\treturn false;\n\n\t \n\n\tif (ieee80211_has_a4(fc))\n\t\toffs += 6;\n\tif (ieee80211_is_data_qos(fc))\n\t\toffs += 2;\n\t \n\n\t \n\toffs += 6;\n\n\treturn skb->len <= offs + 2 ||\n\t\t*(__be16 *)(skb->data + offs) != cpu_to_be16(ETH_P_PAE);\n}\n\nstatic inline size_t iwl_rx_trace_len(const struct iwl_trans *trans,\n\t\t\t\t      void *rxbuf, size_t len,\n\t\t\t\t      size_t *out_hdr_offset)\n{\n\tstruct iwl_cmd_header *cmd = (void *)((u8 *)rxbuf + sizeof(__le32));\n\tstruct ieee80211_hdr *hdr = NULL;\n\tsize_t hdr_offset;\n\n\tif (cmd->cmd != trans->rx_mpdu_cmd)\n\t\treturn len;\n\n\thdr_offset = sizeof(struct iwl_cmd_header) +\n\t\t     trans->rx_mpdu_cmd_hdr_size;\n\n\tif (out_hdr_offset)\n\t\t*out_hdr_offset = hdr_offset;\n\n\thdr = (void *)((u8 *)cmd + hdr_offset);\n\tif (!ieee80211_is_data(hdr->frame_control))\n\t\treturn len;\n\t \n\treturn sizeof(__le32) + sizeof(*cmd) + trans->rx_mpdu_cmd_hdr_size +\n\t\tieee80211_hdrlen(hdr->frame_control);\n}\n#endif\n\n#define __IWLWIFI_DEVICE_TRACE\n\n#include <linux/tracepoint.h>\n#include <linux/device.h>\n\n\n#if !defined(CONFIG_IWLWIFI_DEVICE_TRACING) || defined(__CHECKER__)\n#undef TRACE_EVENT\n#define TRACE_EVENT(name, proto, ...) \\\nstatic inline void trace_ ## name(proto) {}\n#undef DECLARE_EVENT_CLASS\n#define DECLARE_EVENT_CLASS(...)\n#undef DEFINE_EVENT\n#define DEFINE_EVENT(evt_class, name, proto, ...) \\\nstatic inline void trace_ ## name(proto) {}\n#endif\n\n#define DEV_ENTRY\t__string(dev, dev_name(dev))\n#define DEV_ASSIGN\t__assign_str(dev, dev_name(dev))\n\n#include \"iwl-devtrace-io.h\"\n#include \"iwl-devtrace-ucode.h\"\n#include \"iwl-devtrace-msg.h\"\n#include \"iwl-devtrace-data.h\"\n#include \"iwl-devtrace-iwlwifi.h\"\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}