{
  "module_name": "iwl-context-info-gen3.h",
  "hash_id": "b8ef185b7538f0fdb2acd79e7fd5f8952725a1d5120527c4594f644a561c005c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/intel/iwlwifi/iwl-context-info-gen3.h",
  "human_readable_source": " \n \n#ifndef __iwl_context_info_file_gen3_h__\n#define __iwl_context_info_file_gen3_h__\n\n#include \"iwl-context-info.h\"\n\n#define CSR_CTXT_INFO_BOOT_CTRL         0x0\n#define CSR_CTXT_INFO_ADDR              0x118\n#define CSR_IML_DATA_ADDR               0x120\n#define CSR_IML_SIZE_ADDR               0x128\n#define CSR_IML_RESP_ADDR               0x12c\n\n#define UNFRAGMENTED_PNVM_PAYLOADS_NUMBER 2\n\n \n#define CSR_AUTO_FUNC_BOOT_ENA          BIT(1)\n \n#define CSR_AUTO_FUNC_INIT              BIT(7)\n\n \nenum iwl_prph_scratch_mtr_format {\n\tIWL_PRPH_MTR_FORMAT_16B = 0x0,\n\tIWL_PRPH_MTR_FORMAT_32B = 0x40000,\n\tIWL_PRPH_MTR_FORMAT_64B = 0x80000,\n\tIWL_PRPH_MTR_FORMAT_256B = 0xC0000,\n};\n\n \nenum iwl_prph_scratch_flags {\n\tIWL_PRPH_SCRATCH_IMR_DEBUG_EN\t\t= BIT(1),\n\tIWL_PRPH_SCRATCH_EARLY_DEBUG_EN\t\t= BIT(4),\n\tIWL_PRPH_SCRATCH_EDBG_DEST_DRAM\t\t= BIT(8),\n\tIWL_PRPH_SCRATCH_EDBG_DEST_INTERNAL\t= BIT(9),\n\tIWL_PRPH_SCRATCH_EDBG_DEST_ST_ARBITER\t= BIT(10),\n\tIWL_PRPH_SCRATCH_EDBG_DEST_TB22DTF\t= BIT(11),\n\tIWL_PRPH_SCRATCH_RB_SIZE_4K\t\t= BIT(16),\n\tIWL_PRPH_SCRATCH_MTR_MODE\t\t= BIT(17),\n\tIWL_PRPH_SCRATCH_MTR_FORMAT\t\t= BIT(18) | BIT(19),\n\tIWL_PRPH_SCRATCH_RB_SIZE_EXT_MASK\t= 0xf << 20,\n\tIWL_PRPH_SCRATCH_RB_SIZE_EXT_8K\t\t= 8 << 20,\n\tIWL_PRPH_SCRATCH_RB_SIZE_EXT_12K\t= 9 << 20,\n\tIWL_PRPH_SCRATCH_RB_SIZE_EXT_16K\t= 10 << 20,\n};\n\n \nstruct iwl_prph_scratch_version {\n\t__le16 mac_id;\n\t__le16 version;\n\t__le16 size;\n\t__le16 reserved;\n} __packed;  \n\n \nstruct iwl_prph_scratch_control {\n\t__le32 control_flags;\n\t__le32 reserved;\n} __packed;  \n\n \nstruct iwl_prph_scratch_pnvm_cfg {\n\t__le64 pnvm_base_addr;\n\t__le32 pnvm_size;\n\t__le32 reserved;\n} __packed;  \n\n \nstruct iwl_prph_scrath_mem_desc_addr_array {\n\t__le64 mem_descs[IPC_DRAM_MAP_ENTRY_NUM_MAX];\n} __packed;  \n \nstruct iwl_prph_scratch_hwm_cfg {\n\t__le64 hwm_base_addr;\n\t__le32 hwm_size;\n\t__le32 debug_token_config;\n} __packed;  \n\n \nstruct iwl_prph_scratch_rbd_cfg {\n\t__le64 free_rbd_addr;\n\t__le32 reserved;\n} __packed;  \n\n \nstruct iwl_prph_scratch_uefi_cfg {\n\t__le64 base_addr;\n\t__le32 size;\n\t__le32 reserved;\n} __packed;  \n\n \n\nstruct iwl_prph_scratch_step_cfg {\n\t__le32 mbx_addr_0;\n\t__le32 mbx_addr_1;\n} __packed;\n\n \nstruct iwl_prph_scratch_ctrl_cfg {\n\tstruct iwl_prph_scratch_version version;\n\tstruct iwl_prph_scratch_control control;\n\tstruct iwl_prph_scratch_pnvm_cfg pnvm_cfg;\n\tstruct iwl_prph_scratch_hwm_cfg hwm_cfg;\n\tstruct iwl_prph_scratch_rbd_cfg rbd_cfg;\n\tstruct iwl_prph_scratch_uefi_cfg reduce_power_cfg;\n\tstruct iwl_prph_scratch_step_cfg step_cfg;\n} __packed;  \n\n \nstruct iwl_prph_scratch {\n\tstruct iwl_prph_scratch_ctrl_cfg ctrl_cfg;\n\t__le32 reserved[10];\n\tstruct iwl_context_info_dram dram;\n} __packed;  \n\n \nstruct iwl_prph_info {\n\t__le32 boot_stage_mirror;\n\t__le32 ipc_status_mirror;\n\t__le32 sleep_notif;\n\t__le32 reserved;\n} __packed;  \n\n \nstruct iwl_context_info_gen3 {\n\t__le16 version;\n\t__le16 size;\n\t__le32 config;\n\t__le64 prph_info_base_addr;\n\t__le64 cr_head_idx_arr_base_addr;\n\t__le64 tr_tail_idx_arr_base_addr;\n\t__le64 cr_tail_idx_arr_base_addr;\n\t__le64 tr_head_idx_arr_base_addr;\n\t__le16 cr_idx_arr_size;\n\t__le16 tr_idx_arr_size;\n\t__le64 mtr_base_addr;\n\t__le64 mcr_base_addr;\n\t__le16 mtr_size;\n\t__le16 mcr_size;\n\t__le16 mtr_doorbell_vec;\n\t__le16 mcr_doorbell_vec;\n\t__le16 mtr_msi_vec;\n\t__le16 mcr_msi_vec;\n\tu8 mtr_opt_header_size;\n\tu8 mtr_opt_footer_size;\n\tu8 mcr_opt_header_size;\n\tu8 mcr_opt_footer_size;\n\t__le16 msg_rings_ctrl_flags;\n\t__le16 prph_info_msi_vec;\n\t__le64 prph_scratch_base_addr;\n\t__le32 prph_scratch_size;\n\t__le32 reserved;\n} __packed;  \n\nint iwl_pcie_ctxt_info_gen3_init(struct iwl_trans *trans,\n\t\t\t\t const struct fw_img *fw);\nvoid iwl_pcie_ctxt_info_gen3_free(struct iwl_trans *trans, bool alive);\n\nint iwl_trans_pcie_ctx_info_gen3_load_pnvm(struct iwl_trans *trans,\n\t\t\t\t\t   const struct iwl_pnvm_image *pnvm_payloads,\n\t\t\t\t\t   const struct iwl_ucode_capabilities *capa);\nvoid iwl_trans_pcie_ctx_info_gen3_set_pnvm(struct iwl_trans *trans,\n\t\t\t\t\t   const struct iwl_ucode_capabilities *capa);\nint\niwl_trans_pcie_ctx_info_gen3_load_reduce_power(struct iwl_trans *trans,\n\t\t\t\t\t       const struct iwl_pnvm_image *payloads,\n\t\t\t\t\t       const struct iwl_ucode_capabilities *capa);\nvoid\niwl_trans_pcie_ctx_info_gen3_set_reduce_power(struct iwl_trans *trans,\n\t\t\t\t\t      const struct iwl_ucode_capabilities *capa);\nint iwl_trans_pcie_ctx_info_gen3_set_step(struct iwl_trans *trans,\n\t\t\t\t\t  u32 mbx_addr_0_step, u32 mbx_addr_1_step);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}