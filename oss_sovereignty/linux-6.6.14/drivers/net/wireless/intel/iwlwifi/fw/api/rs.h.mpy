{
  "module_name": "rs.h",
  "hash_id": "7a129725cc80b8a007ef3727697d8b1f22782e9d8c1508bbf24c5670d2d5b5a6",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/intel/iwlwifi/fw/api/rs.h",
  "human_readable_source": " \n \n#ifndef __iwl_fw_api_rs_h__\n#define __iwl_fw_api_rs_h__\n\n#include \"mac.h\"\n\n \nenum iwl_tlc_mng_cfg_flags {\n\tIWL_TLC_MNG_CFG_FLAGS_STBC_MSK\t\t\t= BIT(0),\n\tIWL_TLC_MNG_CFG_FLAGS_LDPC_MSK\t\t\t= BIT(1),\n\tIWL_TLC_MNG_CFG_FLAGS_HE_STBC_160MHZ_MSK\t= BIT(2),\n\tIWL_TLC_MNG_CFG_FLAGS_HE_DCM_NSS_1_MSK\t\t= BIT(3),\n\tIWL_TLC_MNG_CFG_FLAGS_HE_DCM_NSS_2_MSK\t\t= BIT(4),\n\tIWL_TLC_MNG_CFG_FLAGS_EHT_EXTRA_LTF_MSK\t\t= BIT(6),\n};\n\n \nenum iwl_tlc_mng_cfg_cw {\n\tIWL_TLC_MNG_CH_WIDTH_20MHZ,\n\tIWL_TLC_MNG_CH_WIDTH_40MHZ,\n\tIWL_TLC_MNG_CH_WIDTH_80MHZ,\n\tIWL_TLC_MNG_CH_WIDTH_160MHZ,\n\tIWL_TLC_MNG_CH_WIDTH_320MHZ,\n};\n\n \nenum iwl_tlc_mng_cfg_chains {\n\tIWL_TLC_MNG_CHAIN_A_MSK = BIT(0),\n\tIWL_TLC_MNG_CHAIN_B_MSK = BIT(1),\n};\n\n \nenum iwl_tlc_mng_cfg_mode {\n\tIWL_TLC_MNG_MODE_CCK = 0,\n\tIWL_TLC_MNG_MODE_OFDM_NON_HT = IWL_TLC_MNG_MODE_CCK,\n\tIWL_TLC_MNG_MODE_NON_HT = IWL_TLC_MNG_MODE_CCK,\n\tIWL_TLC_MNG_MODE_HT,\n\tIWL_TLC_MNG_MODE_VHT,\n\tIWL_TLC_MNG_MODE_HE,\n\tIWL_TLC_MNG_MODE_EHT,\n};\n\n \nenum iwl_tlc_mng_ht_rates {\n\tIWL_TLC_MNG_HT_RATE_MCS0 = 0,\n\tIWL_TLC_MNG_HT_RATE_MCS1,\n\tIWL_TLC_MNG_HT_RATE_MCS2,\n\tIWL_TLC_MNG_HT_RATE_MCS3,\n\tIWL_TLC_MNG_HT_RATE_MCS4,\n\tIWL_TLC_MNG_HT_RATE_MCS5,\n\tIWL_TLC_MNG_HT_RATE_MCS6,\n\tIWL_TLC_MNG_HT_RATE_MCS7,\n\tIWL_TLC_MNG_HT_RATE_MCS8,\n\tIWL_TLC_MNG_HT_RATE_MCS9,\n\tIWL_TLC_MNG_HT_RATE_MCS10,\n\tIWL_TLC_MNG_HT_RATE_MCS11,\n\tIWL_TLC_MNG_HT_RATE_MAX = IWL_TLC_MNG_HT_RATE_MCS11,\n};\n\nenum IWL_TLC_MNG_NSS {\n\tIWL_TLC_NSS_1,\n\tIWL_TLC_NSS_2,\n\tIWL_TLC_NSS_MAX\n};\n\n \nenum IWL_TLC_MCS_PER_BW {\n\tIWL_TLC_MCS_PER_BW_80,\n\tIWL_TLC_MCS_PER_BW_160,\n\tIWL_TLC_MCS_PER_BW_320,\n\tIWL_TLC_MCS_PER_BW_NUM_V3 = IWL_TLC_MCS_PER_BW_160 + 1,\n\tIWL_TLC_MCS_PER_BW_NUM_V4 = IWL_TLC_MCS_PER_BW_320 + 1,\n};\n\n \nstruct iwl_tlc_config_cmd_v3 {\n\tu8 sta_id;\n\tu8 reserved1[3];\n\tu8 max_ch_width;\n\tu8 mode;\n\tu8 chains;\n\tu8 amsdu;\n\t__le16 flags;\n\t__le16 non_ht_rates;\n\t__le16 ht_rates[IWL_TLC_NSS_MAX][IWL_TLC_MCS_PER_BW_NUM_V3];\n\t__le16 max_mpdu_len;\n\tu8 sgi_ch_width_supp;\n\tu8 reserved2;\n\t__le32 max_tx_op;\n} __packed;  \n\n \nstruct iwl_tlc_config_cmd_v4 {\n\tu8 sta_id;\n\tu8 reserved1[3];\n\tu8 max_ch_width;\n\tu8 mode;\n\tu8 chains;\n\tu8 sgi_ch_width_supp;\n\t__le16 flags;\n\t__le16 non_ht_rates;\n\t__le16 ht_rates[IWL_TLC_NSS_MAX][IWL_TLC_MCS_PER_BW_NUM_V4];\n\t__le16 max_mpdu_len;\n\t__le16 max_tx_op;\n} __packed;  \n\n \nenum iwl_tlc_update_flags {\n\tIWL_TLC_NOTIF_FLAG_RATE  = BIT(0),\n\tIWL_TLC_NOTIF_FLAG_AMSDU = BIT(1),\n};\n\n \nstruct iwl_tlc_update_notif {\n\tu8 sta_id;\n\tu8 reserved[3];\n\t__le32 flags;\n\t__le32 rate;\n\t__le32 amsdu_size;\n\t__le32 amsdu_enabled;\n} __packed;  \n\n\n#define IWL_MAX_MCS_DISPLAY_SIZE        12\n\nstruct iwl_rate_mcs_info {\n\tchar    mbps[IWL_MAX_MCS_DISPLAY_SIZE];\n\tchar    mcs[IWL_MAX_MCS_DISPLAY_SIZE];\n};\n\n \nenum {\n\tIWL_RATE_1M_INDEX = 0,\n\tIWL_FIRST_CCK_RATE = IWL_RATE_1M_INDEX,\n\tIWL_RATE_2M_INDEX,\n\tIWL_RATE_5M_INDEX,\n\tIWL_RATE_11M_INDEX,\n\tIWL_LAST_CCK_RATE = IWL_RATE_11M_INDEX,\n\tIWL_RATE_6M_INDEX,\n\tIWL_FIRST_OFDM_RATE = IWL_RATE_6M_INDEX,\n\tIWL_RATE_MCS_0_INDEX = IWL_RATE_6M_INDEX,\n\tIWL_FIRST_HT_RATE = IWL_RATE_MCS_0_INDEX,\n\tIWL_FIRST_VHT_RATE = IWL_RATE_MCS_0_INDEX,\n\tIWL_RATE_9M_INDEX,\n\tIWL_RATE_12M_INDEX,\n\tIWL_RATE_MCS_1_INDEX = IWL_RATE_12M_INDEX,\n\tIWL_RATE_18M_INDEX,\n\tIWL_RATE_MCS_2_INDEX = IWL_RATE_18M_INDEX,\n\tIWL_RATE_24M_INDEX,\n\tIWL_RATE_MCS_3_INDEX = IWL_RATE_24M_INDEX,\n\tIWL_RATE_36M_INDEX,\n\tIWL_RATE_MCS_4_INDEX = IWL_RATE_36M_INDEX,\n\tIWL_RATE_48M_INDEX,\n\tIWL_RATE_MCS_5_INDEX = IWL_RATE_48M_INDEX,\n\tIWL_RATE_54M_INDEX,\n\tIWL_RATE_MCS_6_INDEX = IWL_RATE_54M_INDEX,\n\tIWL_LAST_NON_HT_RATE = IWL_RATE_54M_INDEX,\n\tIWL_RATE_60M_INDEX,\n\tIWL_RATE_MCS_7_INDEX = IWL_RATE_60M_INDEX,\n\tIWL_LAST_HT_RATE = IWL_RATE_MCS_7_INDEX,\n\tIWL_RATE_MCS_8_INDEX,\n\tIWL_RATE_MCS_9_INDEX,\n\tIWL_LAST_VHT_RATE = IWL_RATE_MCS_9_INDEX,\n\tIWL_RATE_MCS_10_INDEX,\n\tIWL_RATE_MCS_11_INDEX,\n\tIWL_LAST_HE_RATE = IWL_RATE_MCS_11_INDEX,\n\tIWL_RATE_COUNT_LEGACY = IWL_LAST_NON_HT_RATE + 1,\n\tIWL_RATE_COUNT = IWL_LAST_HE_RATE + 1,\n\tIWL_RATE_INVM_INDEX = IWL_RATE_COUNT,\n\tIWL_RATE_INVALID = IWL_RATE_COUNT,\n};\n\n#define IWL_RATE_BIT_MSK(r) BIT(IWL_RATE_##r##M_INDEX)\n\n \nenum {\n\tIWL_RATE_6M_PLCP  = 13,\n\tIWL_RATE_9M_PLCP  = 15,\n\tIWL_RATE_12M_PLCP = 5,\n\tIWL_RATE_18M_PLCP = 7,\n\tIWL_RATE_24M_PLCP = 9,\n\tIWL_RATE_36M_PLCP = 11,\n\tIWL_RATE_48M_PLCP = 1,\n\tIWL_RATE_54M_PLCP = 3,\n\tIWL_RATE_1M_PLCP  = 10,\n\tIWL_RATE_2M_PLCP  = 20,\n\tIWL_RATE_5M_PLCP  = 55,\n\tIWL_RATE_11M_PLCP = 110,\n\tIWL_RATE_INVM_PLCP = -1,\n};\n\n \n\n \n#define RATE_MCS_HT_POS 8\n#define RATE_MCS_HT_MSK_V1 BIT(RATE_MCS_HT_POS)\n\n \n#define RATE_MCS_CCK_POS_V1 9\n#define RATE_MCS_CCK_MSK_V1 BIT(RATE_MCS_CCK_POS_V1)\n\n \n#define RATE_MCS_VHT_POS_V1 26\n#define RATE_MCS_VHT_MSK_V1 BIT(RATE_MCS_VHT_POS_V1)\n\n\n \n#define RATE_HT_MCS_RATE_CODE_MSK_V1\t0x7\n#define RATE_HT_MCS_NSS_POS_V1          3\n#define RATE_HT_MCS_NSS_MSK_V1          (3 << RATE_HT_MCS_NSS_POS_V1)\n#define RATE_HT_MCS_MIMO2_MSK\t\tBIT(RATE_HT_MCS_NSS_POS_V1)\n\n \n#define RATE_HT_MCS_GF_POS\t\t10\n#define RATE_HT_MCS_GF_MSK\t\t(1 << RATE_HT_MCS_GF_POS)\n\n#define RATE_HT_MCS_INDEX_MSK_V1\t0x3f\n\n \n\n \n#define RATE_VHT_MCS_RATE_CODE_MSK\t0xf\n\n \n#define RATE_LEGACY_RATE_MSK_V1 0xff\n\n \n#define RATE_MCS_HE_POS_V1\t10\n#define RATE_MCS_HE_MSK_V1\tBIT(RATE_MCS_HE_POS_V1)\n\n \n#define RATE_MCS_CHAN_WIDTH_POS\t\t11\n#define RATE_MCS_CHAN_WIDTH_MSK_V1\t(3 << RATE_MCS_CHAN_WIDTH_POS)\n\n \n#define RATE_MCS_SGI_POS_V1\t\t13\n#define RATE_MCS_SGI_MSK_V1\t\tBIT(RATE_MCS_SGI_POS_V1)\n\n \n#define RATE_MCS_ANT_POS\t\t14\n#define RATE_MCS_ANT_A_MSK\t\t(1 << RATE_MCS_ANT_POS)\n#define RATE_MCS_ANT_B_MSK\t\t(2 << RATE_MCS_ANT_POS)\n#define RATE_MCS_ANT_AB_MSK\t\t(RATE_MCS_ANT_A_MSK | \\\n\t\t\t\t\t RATE_MCS_ANT_B_MSK)\n#define RATE_MCS_ANT_MSK\t\tRATE_MCS_ANT_AB_MSK\n\n \n#define RATE_MCS_STBC_POS\t\t17\n#define RATE_MCS_STBC_MSK\t\tBIT(RATE_MCS_STBC_POS)\n\n \n#define RATE_HE_DUAL_CARRIER_MODE\t18\n#define RATE_HE_DUAL_CARRIER_MODE_MSK\tBIT(RATE_HE_DUAL_CARRIER_MODE)\n\n \n#define RATE_MCS_BF_POS\t\t\t19\n#define RATE_MCS_BF_MSK\t\t\t(1 << RATE_MCS_BF_POS)\n\n \n#define RATE_MCS_HE_GI_LTF_POS\t\t20\n#define RATE_MCS_HE_GI_LTF_MSK_V1\t\t(3 << RATE_MCS_HE_GI_LTF_POS)\n\n \n#define RATE_MCS_HE_TYPE_POS_V1\t\t22\n#define RATE_MCS_HE_TYPE_SU_V1\t\t(0 << RATE_MCS_HE_TYPE_POS_V1)\n#define RATE_MCS_HE_TYPE_EXT_SU_V1\t\tBIT(RATE_MCS_HE_TYPE_POS_V1)\n#define RATE_MCS_HE_TYPE_MU_V1\t\t(2 << RATE_MCS_HE_TYPE_POS_V1)\n#define RATE_MCS_HE_TYPE_TRIG_V1\t(3 << RATE_MCS_HE_TYPE_POS_V1)\n#define RATE_MCS_HE_TYPE_MSK_V1\t\t(3 << RATE_MCS_HE_TYPE_POS_V1)\n\n \n#define RATE_MCS_DUP_POS_V1\t\t24\n#define RATE_MCS_DUP_MSK_V1\t\t(3 << RATE_MCS_DUP_POS_V1)\n\n \n#define RATE_MCS_LDPC_POS_V1\t\t27\n#define RATE_MCS_LDPC_MSK_V1\t\tBIT(RATE_MCS_LDPC_POS_V1)\n\n \n#define RATE_MCS_HE_106T_POS_V1\t\t28\n#define RATE_MCS_HE_106T_MSK_V1\t\tBIT(RATE_MCS_HE_106T_POS_V1)\n\n \n#define RATE_MCS_RTS_REQUIRED_POS  (30)\n#define RATE_MCS_RTS_REQUIRED_MSK  (0x1 << RATE_MCS_RTS_REQUIRED_POS)\n\n#define RATE_MCS_CTS_REQUIRED_POS  (31)\n#define RATE_MCS_CTS_REQUIRED_MSK  (0x1 << RATE_MCS_CTS_REQUIRED_POS)\n\n \n\n \n#define RATE_MCS_MOD_TYPE_POS\t\t8\n#define RATE_MCS_MOD_TYPE_MSK\t\t(0x7 << RATE_MCS_MOD_TYPE_POS)\n#define RATE_MCS_CCK_MSK\t\t(0 << RATE_MCS_MOD_TYPE_POS)\n#define RATE_MCS_LEGACY_OFDM_MSK\t(1 << RATE_MCS_MOD_TYPE_POS)\n#define RATE_MCS_HT_MSK\t\t\t(2 << RATE_MCS_MOD_TYPE_POS)\n#define RATE_MCS_VHT_MSK\t\t(3 << RATE_MCS_MOD_TYPE_POS)\n#define RATE_MCS_HE_MSK\t\t\t(4 << RATE_MCS_MOD_TYPE_POS)\n#define RATE_MCS_EHT_MSK\t\t(5 << RATE_MCS_MOD_TYPE_POS)\n\n \n#define RATE_LEGACY_RATE_MSK\t\t0x7\n\n \n#define RATE_HT_MCS_CODE_MSK\t\t0x7\n#define RATE_MCS_NSS_POS\t\t4\n#define RATE_MCS_NSS_MSK\t\t(1 << RATE_MCS_NSS_POS)\n#define RATE_MCS_CODE_MSK\t\t0xf\n#define RATE_HT_MCS_INDEX(r)\t\t((((r) & RATE_MCS_NSS_MSK) >> 1) | \\\n\t\t\t\t\t ((r) & RATE_HT_MCS_CODE_MSK))\n\n \n\n \n#define RATE_MCS_CHAN_WIDTH_MSK\t\t(0x7 << RATE_MCS_CHAN_WIDTH_POS)\n#define RATE_MCS_CHAN_WIDTH_20_VAL\t0\n#define RATE_MCS_CHAN_WIDTH_20\t\t(RATE_MCS_CHAN_WIDTH_20_VAL << RATE_MCS_CHAN_WIDTH_POS)\n#define RATE_MCS_CHAN_WIDTH_40_VAL\t1\n#define RATE_MCS_CHAN_WIDTH_40\t\t(RATE_MCS_CHAN_WIDTH_40_VAL << RATE_MCS_CHAN_WIDTH_POS)\n#define RATE_MCS_CHAN_WIDTH_80_VAL\t2\n#define RATE_MCS_CHAN_WIDTH_80\t\t(RATE_MCS_CHAN_WIDTH_80_VAL << RATE_MCS_CHAN_WIDTH_POS)\n#define RATE_MCS_CHAN_WIDTH_160_VAL\t3\n#define RATE_MCS_CHAN_WIDTH_160\t\t(RATE_MCS_CHAN_WIDTH_160_VAL << RATE_MCS_CHAN_WIDTH_POS)\n#define RATE_MCS_CHAN_WIDTH_320_VAL\t4\n#define RATE_MCS_CHAN_WIDTH_320\t\t(RATE_MCS_CHAN_WIDTH_320_VAL << RATE_MCS_CHAN_WIDTH_POS)\n\n \n\n \n#define RATE_MCS_LDPC_POS\t16\n#define RATE_MCS_LDPC_MSK\t(1 << RATE_MCS_LDPC_POS)\n\n \n\n \n\n \n\n \n#define RATE_MCS_HE_GI_LTF_MSK\t\t(0x7 << RATE_MCS_HE_GI_LTF_POS)\n#define RATE_MCS_SGI_POS\t\tRATE_MCS_HE_GI_LTF_POS\n#define RATE_MCS_SGI_MSK\t\t(1 << RATE_MCS_SGI_POS)\n#define RATE_MCS_HE_SU_4_LTF\t\t3\n#define RATE_MCS_HE_SU_4_LTF_08_GI\t4\n\n \n#define RATE_MCS_HE_TYPE_POS\t\t23\n#define RATE_MCS_HE_TYPE_SU\t\t(0 << RATE_MCS_HE_TYPE_POS)\n#define RATE_MCS_HE_TYPE_EXT_SU\t\t(1 << RATE_MCS_HE_TYPE_POS)\n#define RATE_MCS_HE_TYPE_MU\t\t(2 << RATE_MCS_HE_TYPE_POS)\n#define RATE_MCS_HE_TYPE_TRIG\t\t(3 << RATE_MCS_HE_TYPE_POS)\n#define RATE_MCS_HE_TYPE_MSK\t\t(3 << RATE_MCS_HE_TYPE_POS)\n\n \n#define RATE_MCS_DUP_POS\t\t25\n#define RATE_MCS_DUP_MSK\t\t(1 << RATE_MCS_DUP_POS)\n\n \n#define RATE_MCS_HE_106T_POS\t\t26\n#define RATE_MCS_HE_106T_MSK\t\t(1 << RATE_MCS_HE_106T_POS)\n\n \n#define RATE_MCS_EHT_EXTRA_LTF_POS\t27\n#define RATE_MCS_EHT_EXTRA_LTF_MSK\t(1 << RATE_MCS_EHT_EXTRA_LTF_POS)\n\n \n\n \n\n \n#define  LQ_MAX_RETRY_NUM 16\n\n \n\n \n#define LQ_FLAG_USE_RTS_POS             0\n#define LQ_FLAG_USE_RTS_MSK\t        (1 << LQ_FLAG_USE_RTS_POS)\n\n \n#define LQ_FLAG_COLOR_POS               1\n#define LQ_FLAG_COLOR_MSK               (7 << LQ_FLAG_COLOR_POS)\n#define LQ_FLAG_COLOR_GET(_f)\t\t(((_f) & LQ_FLAG_COLOR_MSK) >>\\\n\t\t\t\t\t LQ_FLAG_COLOR_POS)\n#define LQ_FLAGS_COLOR_INC(_c)\t\t((((_c) + 1) << LQ_FLAG_COLOR_POS) &\\\n\t\t\t\t\t LQ_FLAG_COLOR_MSK)\n#define LQ_FLAG_COLOR_SET(_f, _c)\t((_c) | ((_f) & ~LQ_FLAG_COLOR_MSK))\n\n \n#define LQ_FLAG_RTS_BW_SIG_POS          4\n#define LQ_FLAG_RTS_BW_SIG_NONE         (0 << LQ_FLAG_RTS_BW_SIG_POS)\n#define LQ_FLAG_RTS_BW_SIG_STATIC       (1 << LQ_FLAG_RTS_BW_SIG_POS)\n#define LQ_FLAG_RTS_BW_SIG_DYNAMIC      (2 << LQ_FLAG_RTS_BW_SIG_POS)\n\n \n#define LQ_FLAG_DYNAMIC_BW_POS          6\n#define LQ_FLAG_DYNAMIC_BW_MSK          (1 << LQ_FLAG_DYNAMIC_BW_POS)\n\n \n\n \n#define LQ_SS_STBC_ALLOWED_POS          0\n#define LQ_SS_STBC_ALLOWED_MSK\t\t(3 << LQ_SS_STBC_ALLOWED_MSK)\n\n \n#define LQ_SS_STBC_1SS_ALLOWED\t\t(1 << LQ_SS_STBC_ALLOWED_POS)\n\n \n#define LQ_SS_BFER_ALLOWED_POS\t\t2\n#define LQ_SS_BFER_ALLOWED\t\t(1 << LQ_SS_BFER_ALLOWED_POS)\n\n \n#define LQ_SS_FORCE_POS\t\t\t3\n#define LQ_SS_FORCE\t\t\t(1 << LQ_SS_FORCE_POS)\n\n \n#define LQ_SS_PARAMS_VALID_POS\t\t31\n#define LQ_SS_PARAMS_VALID\t\t(1 << LQ_SS_PARAMS_VALID_POS)\n\n \nstruct iwl_lq_cmd {\n\tu8 sta_id;\n\tu8 reduced_tpc;\n\t__le16 control;\n\t \n\tu8 flags;\n\tu8 mimo_delim;\n\tu8 single_stream_ant_msk;\n\tu8 dual_stream_ant_msk;\n\tu8 initial_rate_index[AC_NUM];\n\t \n\t__le16 agg_time_limit;\n\tu8 agg_disable_start_th;\n\tu8 agg_frame_cnt_limit;\n\t__le32 reserved2;\n\t__le32 rs_table[LQ_MAX_RETRY_NUM];\n\t__le32 ss_params;\n};  \n\nu8 iwl_fw_rate_idx_to_plcp(int idx);\nu32 iwl_new_rate_from_v1(u32 rate_v1);\nconst struct iwl_rate_mcs_info *iwl_rate_mcs(int idx);\nconst char *iwl_rs_pretty_ant(u8 ant);\nconst char *iwl_rs_pretty_bw(int bw);\nint rs_pretty_print_rate(char *buf, int bufsz, const u32 rate);\nbool iwl_he_is_sgi(u32 rate_n_flags);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}