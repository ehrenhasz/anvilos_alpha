{
  "module_name": "img.c",
  "hash_id": "dbe28f1b727bc2ff2bd62e71075bcef94bebd1f8ad96de01d74350e9c46a3676",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/intel/iwlwifi/fw/img.c",
  "human_readable_source": "\n \n#include <fw/api/commands.h>\n#include \"img.h\"\n\nu8 iwl_fw_lookup_cmd_ver(const struct iwl_fw *fw, u32 cmd_id, u8 def)\n{\n\tconst struct iwl_fw_cmd_version *entry;\n\tunsigned int i;\n\t \n\tu8 grp = iwl_cmd_groupid(cmd_id) ?: LONG_GROUP;\n\tu8 cmd = iwl_cmd_opcode(cmd_id);\n\n\tif (!fw->ucode_capa.cmd_versions ||\n\t    !fw->ucode_capa.n_cmd_versions)\n\t\treturn def;\n\n\tentry = fw->ucode_capa.cmd_versions;\n\tfor (i = 0; i < fw->ucode_capa.n_cmd_versions; i++, entry++) {\n\t\tif (entry->group == grp && entry->cmd == cmd) {\n\t\t\tif (entry->cmd_ver == IWL_FW_CMD_VER_UNKNOWN)\n\t\t\t\treturn def;\n\t\t\treturn entry->cmd_ver;\n\t\t}\n\t}\n\n\treturn def;\n}\nEXPORT_SYMBOL_GPL(iwl_fw_lookup_cmd_ver);\n\nu8 iwl_fw_lookup_notif_ver(const struct iwl_fw *fw, u8 grp, u8 cmd, u8 def)\n{\n\tconst struct iwl_fw_cmd_version *entry;\n\tunsigned int i;\n\n\tif (!fw->ucode_capa.cmd_versions ||\n\t    !fw->ucode_capa.n_cmd_versions)\n\t\treturn def;\n\n\tentry = fw->ucode_capa.cmd_versions;\n\tfor (i = 0; i < fw->ucode_capa.n_cmd_versions; i++, entry++) {\n\t\tif (entry->group == grp && entry->cmd == cmd) {\n\t\t\tif (entry->notif_ver == IWL_FW_CMD_VER_UNKNOWN)\n\t\t\t\treturn def;\n\t\t\treturn entry->notif_ver;\n\t\t}\n\t}\n\n\treturn def;\n}\nEXPORT_SYMBOL_GPL(iwl_fw_lookup_notif_ver);\n\nstatic const struct {\n\tconst char *name;\n\tu32 num;\n} advanced_lookup[] = {\n\t{ \"NMI_INTERRUPT_WDG\", 0x34 },\n\t{ \"SYSASSERT\", 0x35 },\n\t{ \"UCODE_VERSION_MISMATCH\", 0x37 },\n\t{ \"BAD_COMMAND\", 0x38 },\n\t{ \"BAD_COMMAND\", 0x39 },\n\t{ \"NMI_INTERRUPT_DATA_ACTION_PT\", 0x3C },\n\t{ \"FATAL_ERROR\", 0x3D },\n\t{ \"NMI_TRM_HW_ERR\", 0x46 },\n\t{ \"NMI_INTERRUPT_TRM\", 0x4C },\n\t{ \"NMI_INTERRUPT_BREAK_POINT\", 0x54 },\n\t{ \"NMI_INTERRUPT_WDG_RXF_FULL\", 0x5C },\n\t{ \"NMI_INTERRUPT_WDG_NO_RBD_RXF_FULL\", 0x64 },\n\t{ \"NMI_INTERRUPT_HOST\", 0x66 },\n\t{ \"NMI_INTERRUPT_LMAC_FATAL\", 0x70 },\n\t{ \"NMI_INTERRUPT_UMAC_FATAL\", 0x71 },\n\t{ \"NMI_INTERRUPT_OTHER_LMAC_FATAL\", 0x73 },\n\t{ \"NMI_INTERRUPT_ACTION_PT\", 0x7C },\n\t{ \"NMI_INTERRUPT_UNKNOWN\", 0x84 },\n\t{ \"NMI_INTERRUPT_INST_ACTION_PT\", 0x86 },\n\t{ \"PNVM_MISSING\", FW_SYSASSERT_PNVM_MISSING },\n\t{ \"ADVANCED_SYSASSERT\", 0 },\n};\n\nconst char *iwl_fw_lookup_assert_desc(u32 num)\n{\n\tint i;\n\n\tfor (i = 0; i < ARRAY_SIZE(advanced_lookup) - 1; i++)\n\t\tif (advanced_lookup[i].num == (num & ~FW_SYSASSERT_CPU_MASK))\n\t\t\treturn advanced_lookup[i].name;\n\n\t \n\treturn advanced_lookup[i].name;\n}\nEXPORT_SYMBOL_GPL(iwl_fw_lookup_assert_desc);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}