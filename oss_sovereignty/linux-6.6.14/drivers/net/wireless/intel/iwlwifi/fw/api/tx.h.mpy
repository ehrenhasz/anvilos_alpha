{
  "module_name": "tx.h",
  "hash_id": "b27a0bf8b46fa4a73d9b130cd6e6ab715b2bdd25d5214d1103f1b5b1a1762b10",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/intel/iwlwifi/fw/api/tx.h",
  "human_readable_source": " \n \n#ifndef __iwl_fw_api_tx_h__\n#define __iwl_fw_api_tx_h__\n#include <linux/ieee80211.h>\n\n \nenum iwl_tx_flags {\n\tTX_CMD_FLG_PROT_REQUIRE\t\t= BIT(0),\n\tTX_CMD_FLG_WRITE_TX_POWER\t= BIT(1),\n\tTX_CMD_FLG_ACK\t\t\t= BIT(3),\n\tTX_CMD_FLG_STA_RATE\t\t= BIT(4),\n\tTX_CMD_FLG_BAR\t\t\t= BIT(6),\n\tTX_CMD_FLG_TXOP_PROT\t\t= BIT(7),\n\tTX_CMD_FLG_VHT_NDPA\t\t= BIT(8),\n\tTX_CMD_FLG_HT_NDPA\t\t= BIT(9),\n\tTX_CMD_FLG_CSI_FDBK2HOST\t= BIT(10),\n\tTX_CMD_FLG_BT_PRIO_POS\t\t= 11,\n\tTX_CMD_FLG_BT_PRIO_MASK\t\t= BIT(11) | BIT(12),\n\tTX_CMD_FLG_BT_DIS\t\t= BIT(12),\n\tTX_CMD_FLG_SEQ_CTL\t\t= BIT(13),\n\tTX_CMD_FLG_MORE_FRAG\t\t= BIT(14),\n\tTX_CMD_FLG_TSF\t\t\t= BIT(16),\n\tTX_CMD_FLG_CALIB\t\t= BIT(17),\n\tTX_CMD_FLG_KEEP_SEQ_CTL\t\t= BIT(18),\n\tTX_CMD_FLG_MH_PAD\t\t= BIT(20),\n\tTX_CMD_FLG_RESP_TO_DRV\t\t= BIT(21),\n\tTX_CMD_FLG_TKIP_MIC_DONE\t= BIT(23),\n\tTX_CMD_FLG_DUR\t\t\t= BIT(25),\n\tTX_CMD_FLG_FW_DROP\t\t= BIT(26),\n\tTX_CMD_FLG_EXEC_PAPD\t\t= BIT(27),\n\tTX_CMD_FLG_PAPD_TYPE\t\t= BIT(28),\n\tTX_CMD_FLG_HCCA_CHUNK\t\t= BIT(31)\n};  \n\n \nenum iwl_tx_cmd_flags {\n\tIWL_TX_FLAGS_CMD_RATE\t\t= BIT(0),\n\tIWL_TX_FLAGS_ENCRYPT_DIS\t= BIT(1),\n\tIWL_TX_FLAGS_HIGH_PRI\t\t= BIT(2),\n\t \n\tIWL_TX_FLAGS_RTS\t\t= BIT(3),\n\tIWL_TX_FLAGS_CTS\t\t= BIT(4),\n};  \n\n \nenum iwl_tx_pm_timeouts {\n\tPM_FRAME_NONE\t\t= 0,\n\tPM_FRAME_MGMT\t\t= 2,\n\tPM_FRAME_ASSOC\t\t= 3,\n};\n\n#define TX_CMD_SEC_MSK\t\t\t0x07\n#define TX_CMD_SEC_WEP_KEY_IDX_POS\t6\n#define TX_CMD_SEC_WEP_KEY_IDX_MSK\t0xc0\n\n \nenum iwl_tx_cmd_sec_ctrl {\n\tTX_CMD_SEC_WEP\t\t\t= 0x01,\n\tTX_CMD_SEC_CCM\t\t\t= 0x02,\n\tTX_CMD_SEC_TKIP\t\t\t= 0x03,\n\tTX_CMD_SEC_EXT\t\t\t= 0x04,\n\tTX_CMD_SEC_GCMP\t\t\t= 0x05,\n\tTX_CMD_SEC_KEY128\t\t= 0x08,\n\tTX_CMD_SEC_KEY_FROM_TABLE\t= 0x10,\n};\n\n \n#define TX_CMD_LIFE_TIME_INFINITE\t0xFFFFFFFF\n#define TX_CMD_LIFE_TIME_DEFAULT\t2000000  \n#define TX_CMD_LIFE_TIME_PROBE_RESP\t40000  \n#define TX_CMD_LIFE_TIME_EXPIRED_FRAME\t0\n\n \n#define IWL_TID_NON_QOS\t0\n\n \n#define IWL_DEFAULT_TX_RETRY\t\t\t15\n#define IWL_MGMT_DFAULT_RETRY_LIMIT\t\t3\n#define IWL_RTS_DFAULT_RETRY_LIMIT\t\t60\n#define IWL_BAR_DFAULT_RETRY_LIMIT\t\t60\n#define IWL_LOW_RETRY_LIMIT\t\t\t7\n\n \nenum iwl_tx_offload_assist_flags_pos {\n\tTX_CMD_OFFLD_IP_HDR =\t\t0,\n\tTX_CMD_OFFLD_L4_EN =\t\t6,\n\tTX_CMD_OFFLD_L3_EN =\t\t7,\n\tTX_CMD_OFFLD_MH_SIZE =\t\t8,\n\tTX_CMD_OFFLD_PAD =\t\t13,\n\tTX_CMD_OFFLD_AMSDU =\t\t14,\n};\n\n#define IWL_TX_CMD_OFFLD_MH_MASK\t0x1f\n#define IWL_TX_CMD_OFFLD_IP_HDR_MASK\t0x3f\n\n \n \nstruct iwl_tx_cmd {\n\t__le16 len;\n\t__le16 offload_assist;\n\t__le32 tx_flags;\n\tstruct {\n\t\tu8 try_cnt;\n\t\tu8 btkill_cnt;\n\t\t__le16 reserved;\n\t} scratch;  \n\t__le32 rate_n_flags;\n\tu8 sta_id;\n\tu8 sec_ctl;\n\tu8 initial_rate_index;\n\tu8 reserved2;\n\tu8 key[16];\n\t__le32 reserved3;\n\t__le32 life_time;\n\t__le32 dram_lsb_ptr;\n\tu8 dram_msb_ptr;\n\tu8 rts_retry_limit;\n\tu8 data_retry_limit;\n\tu8 tid_tspec;\n\t__le16 pm_frame_timeout;\n\t__le16 reserved4;\n\tunion {\n\t\tDECLARE_FLEX_ARRAY(u8, payload);\n\t\tDECLARE_FLEX_ARRAY(struct ieee80211_hdr, hdr);\n\t};\n} __packed;  \n\nstruct iwl_dram_sec_info {\n\t__le32 pn_low;\n\t__le16 pn_high;\n\t__le16 aux_info;\n} __packed;  \n\n \nstruct iwl_tx_cmd_gen2 {\n\t__le16 len;\n\t__le16 offload_assist;\n\t__le32 flags;\n\tstruct iwl_dram_sec_info dram_info;\n\t__le32 rate_n_flags;\n\tstruct ieee80211_hdr hdr[];\n} __packed;  \n\n \nstruct iwl_tx_cmd_gen3 {\n\t__le16 len;\n\t__le16 flags;\n\t__le32 offload_assist;\n\tstruct iwl_dram_sec_info dram_info;\n\t__le32 rate_n_flags;\n\tu8 reserved[8];\n\tstruct ieee80211_hdr hdr[];\n} __packed;  \n\n \n\n \nenum iwl_tx_status {\n\tTX_STATUS_MSK = 0x000000ff,\n\tTX_STATUS_SUCCESS = 0x01,\n\tTX_STATUS_DIRECT_DONE = 0x02,\n\t \n\tTX_STATUS_POSTPONE_DELAY = 0x40,\n\tTX_STATUS_POSTPONE_FEW_BYTES = 0x41,\n\tTX_STATUS_POSTPONE_BT_PRIO = 0x42,\n\tTX_STATUS_POSTPONE_QUIET_PERIOD = 0x43,\n\tTX_STATUS_POSTPONE_CALC_TTAK = 0x44,\n\t \n\tTX_STATUS_FAIL_INTERNAL_CROSSED_RETRY = 0x81,\n\tTX_STATUS_FAIL_SHORT_LIMIT = 0x82,\n\tTX_STATUS_FAIL_LONG_LIMIT = 0x83,\n\tTX_STATUS_FAIL_UNDERRUN = 0x84,\n\tTX_STATUS_FAIL_DRAIN_FLOW = 0x85,\n\tTX_STATUS_FAIL_RFKILL_FLUSH = 0x86,\n\tTX_STATUS_FAIL_LIFE_EXPIRE = 0x87,\n\tTX_STATUS_FAIL_DEST_PS = 0x88,\n\tTX_STATUS_FAIL_HOST_ABORTED = 0x89,\n\tTX_STATUS_FAIL_BT_RETRY = 0x8a,\n\tTX_STATUS_FAIL_STA_INVALID = 0x8b,\n\tTX_STATUS_FAIL_FRAG_DROPPED = 0x8c,\n\tTX_STATUS_FAIL_TID_DISABLE = 0x8d,\n\tTX_STATUS_FAIL_FIFO_FLUSHED = 0x8e,\n\tTX_STATUS_FAIL_SMALL_CF_POLL = 0x8f,\n\tTX_STATUS_FAIL_FW_DROP = 0x90,\n\tTX_STATUS_FAIL_STA_COLOR_MISMATCH = 0x91,\n\tTX_STATUS_INTERNAL_ABORT = 0x92,\n\tTX_MODE_MSK = 0x00000f00,\n\tTX_MODE_NO_BURST = 0x00000000,\n\tTX_MODE_IN_BURST_SEQ = 0x00000100,\n\tTX_MODE_FIRST_IN_BURST = 0x00000200,\n\tTX_QUEUE_NUM_MSK = 0x0001f000,\n\tTX_NARROW_BW_MSK = 0x00060000,\n\tTX_NARROW_BW_1DIV2 = 0x00020000,\n\tTX_NARROW_BW_1DIV4 = 0x00040000,\n\tTX_NARROW_BW_1DIV8 = 0x00060000,\n};\n\n \nenum iwl_tx_agg_status {\n\tAGG_TX_STATE_STATUS_MSK = 0x00fff,\n\tAGG_TX_STATE_TRANSMITTED = 0x000,\n\tAGG_TX_STATE_UNDERRUN = 0x001,\n\tAGG_TX_STATE_BT_PRIO = 0x002,\n\tAGG_TX_STATE_FEW_BYTES = 0x004,\n\tAGG_TX_STATE_ABORT = 0x008,\n\tAGG_TX_STATE_TX_ON_AIR_DROP = 0x010,\n\tAGG_TX_STATE_LAST_SENT_TRY_CNT = 0x020,\n\tAGG_TX_STATE_LAST_SENT_BT_KILL = 0x040,\n\tAGG_TX_STATE_SCD_QUERY = 0x080,\n\tAGG_TX_STATE_TEST_BAD_CRC32 = 0x0100,\n\tAGG_TX_STATE_RESPONSE = 0x1ff,\n\tAGG_TX_STATE_DUMP_TX = 0x200,\n\tAGG_TX_STATE_DELAY_TX = 0x400,\n\tAGG_TX_STATE_TRY_CNT_POS = 12,\n\tAGG_TX_STATE_TRY_CNT_MSK = 0xf << AGG_TX_STATE_TRY_CNT_POS,\n};\n\n \n#define AGG_TX_STAT_FRAME_NOT_SENT (AGG_TX_STATE_FEW_BYTES | \\\n\t\t\t\t    AGG_TX_STATE_ABORT | \\\n\t\t\t\t    AGG_TX_STATE_SCD_QUERY)\n\n \n\n \nstruct agg_tx_status {\n\t__le16 status;\n\t__le16 sequence;\n} __packed;\n\n \n#define TX_RES_INIT_RATE_INDEX_MSK 0x0f\n#define TX_RES_RATE_TABLE_COLOR_POS 4\n#define TX_RES_RATE_TABLE_COLOR_MSK 0x70\n#define TX_RES_INV_RATE_INDEX_MSK 0x80\n#define TX_RES_RATE_TABLE_COL_GET(_f) (((_f) & TX_RES_RATE_TABLE_COLOR_MSK) >>\\\n\t\t\t\t       TX_RES_RATE_TABLE_COLOR_POS)\n\n#define IWL_MVM_TX_RES_GET_TID(_ra_tid) ((_ra_tid) & 0x0f)\n#define IWL_MVM_TX_RES_GET_RA(_ra_tid) ((_ra_tid) >> 4)\n\n \nstruct iwl_mvm_tx_resp_v3 {\n\tu8 frame_count;\n\tu8 bt_kill_count;\n\tu8 failure_rts;\n\tu8 failure_frame;\n\t__le32 initial_rate;\n\t__le16 wireless_media_time;\n\n\tu8 pa_status;\n\tu8 pa_integ_res_a[3];\n\tu8 pa_integ_res_b[3];\n\tu8 pa_integ_res_c[3];\n\t__le16 measurement_req_id;\n\tu8 reduced_tpc;\n\tu8 reserved;\n\n\t__le32 tfd_info;\n\t__le16 seq_ctl;\n\t__le16 byte_cnt;\n\tu8 tlc_info;\n\tu8 ra_tid;\n\t__le16 frame_ctrl;\n\tstruct agg_tx_status status[];\n} __packed;  \n\n \nstruct iwl_mvm_tx_resp {\n\tu8 frame_count;\n\tu8 bt_kill_count;\n\tu8 failure_rts;\n\tu8 failure_frame;\n\t__le32 initial_rate;\n\t__le16 wireless_media_time;\n\n\tu8 pa_status;\n\tu8 pa_integ_res_a[3];\n\tu8 pa_integ_res_b[3];\n\tu8 pa_integ_res_c[3];\n\t__le16 measurement_req_id;\n\tu8 reduced_tpc;\n\tu8 reserved;\n\n\t__le32 tfd_info;\n\t__le16 seq_ctl;\n\t__le16 byte_cnt;\n\tu8 tlc_info;\n\tu8 ra_tid;\n\t__le16 frame_ctrl;\n\t__le16 tx_queue;\n\t__le16 reserved2;\n\tstruct agg_tx_status status;\n} __packed;  \n\n \nstruct iwl_mvm_ba_notif {\n\tu8 sta_addr[ETH_ALEN];\n\t__le16 reserved;\n\n\tu8 sta_id;\n\tu8 tid;\n\t__le16 seq_ctl;\n\t__le64 bitmap;\n\t__le16 scd_flow;\n\t__le16 scd_ssn;\n\tu8 txed;\n\tu8 txed_2_done;\n\tu8 reduced_txp;\n\tu8 reserved1;\n} __packed;\n\n \nstruct iwl_mvm_compressed_ba_tfd {\n\t__le16 q_num;\n\t__le16 tfd_index;\n\tu8 scd_queue;\n\tu8 tid;\n\tu8 reserved[2];\n} __packed;  \n\n \nstruct iwl_mvm_compressed_ba_ratid {\n\tu8 q_num;\n\tu8 tid;\n\t__le16 ssn;\n} __packed;  \n\n \nenum iwl_mvm_ba_resp_flags {\n\tIWL_MVM_BA_RESP_TX_AGG,\n\tIWL_MVM_BA_RESP_TX_BAR,\n\tIWL_MVM_BA_RESP_TX_AGG_FAIL,\n\tIWL_MVM_BA_RESP_TX_UNDERRUN,\n\tIWL_MVM_BA_RESP_TX_BT_KILL,\n\tIWL_MVM_BA_RESP_TX_DSP_TIMEOUT\n};\n\n \nstruct iwl_mvm_compressed_ba_notif {\n\t__le32 flags;\n\tu8 sta_id;\n\tu8 reduced_txp;\n\tu8 tlc_rate_info;\n\tu8 retry_cnt;\n\t__le32 query_byte_cnt;\n\t__le16 query_frame_cnt;\n\t__le16 txed;\n\t__le16 done;\n\t__le16 reserved;\n\t__le32 wireless_time;\n\t__le32 tx_rate;\n\t__le16 tfd_cnt;\n\t__le16 ra_tid_cnt;\n\tunion {\n\t\tDECLARE_FLEX_ARRAY(struct iwl_mvm_compressed_ba_ratid, ra_tid);\n\t\tDECLARE_FLEX_ARRAY(struct iwl_mvm_compressed_ba_tfd, tfd);\n\t};\n} __packed;  \n\n \nstruct iwl_mac_beacon_cmd_v6 {\n\tstruct iwl_tx_cmd tx;\n\t__le32 template_id;\n\t__le32 tim_idx;\n\t__le32 tim_size;\n\tstruct ieee80211_hdr frame[];\n} __packed;  \n\n \nstruct iwl_mac_beacon_cmd_v7 {\n\tstruct iwl_tx_cmd tx;\n\t__le32 template_id;\n\t__le32 tim_idx;\n\t__le32 tim_size;\n\t__le32 ecsa_offset;\n\t__le32 csa_offset;\n\tstruct ieee80211_hdr frame[];\n} __packed;  \n\n \nenum iwl_mac_beacon_flags_v1 {\n\tIWL_MAC_BEACON_CCK_V1\t= BIT(8),\n\tIWL_MAC_BEACON_ANT_A_V1 = BIT(9),\n\tIWL_MAC_BEACON_ANT_B_V1 = BIT(10),\n\tIWL_MAC_BEACON_FILS_V1\t= BIT(12),\n};\n\n \nenum iwl_mac_beacon_flags {\n\tIWL_MAC_BEACON_CCK\t= BIT(5),\n\tIWL_MAC_BEACON_ANT_A\t= BIT(6),\n\tIWL_MAC_BEACON_ANT_B\t= BIT(7),\n\tIWL_MAC_BEACON_FILS\t= BIT(8),\n};\n\n \nstruct iwl_mac_beacon_cmd {\n\t__le16 byte_cnt;\n\t__le16 flags;\n\t__le32 short_ssid;\n\t__le32 reserved;\n\t__le32 link_id;\n\t__le32 tim_idx;\n\t__le32 tim_size;\n\t__le32 ecsa_offset;\n\t__le32 csa_offset;\n\tstruct ieee80211_hdr frame[];\n} __packed;  \n\nstruct iwl_beacon_notif {\n\tstruct iwl_mvm_tx_resp beacon_notify_hdr;\n\t__le64 tsf;\n\t__le32 ibss_mgr_status;\n} __packed;\n\n \nstruct iwl_extended_beacon_notif_v5 {\n\tstruct iwl_mvm_tx_resp beacon_notify_hdr;\n\t__le64 tsf;\n\t__le32 ibss_mgr_status;\n\t__le32 gp2;\n} __packed;  \n\n \nstruct iwl_extended_beacon_notif {\n\t__le32 status;\n\t__le64 tsf;\n\t__le32 ibss_mgr_status;\n\t__le32 gp2;\n} __packed;  \n\n \nenum iwl_dump_control {\n\tDUMP_TX_FIFO_FLUSH\t= BIT(1),\n};\n\n \nstruct iwl_tx_path_flush_cmd_v1 {\n\t__le32 queues_ctl;\n\t__le16 flush_ctl;\n\t__le16 reserved;\n} __packed;  \n\n \nstruct iwl_tx_path_flush_cmd {\n\t__le32 sta_id;\n\t__le16 tid_mask;\n\t__le16 reserved;\n} __packed;  \n\n#define IWL_TX_FLUSH_QUEUE_RSP 16\n\n \nstruct iwl_flush_queue_info {\n\t__le16 tid;\n\t__le16 queue_num;\n\t__le16 read_before_flush;\n\t__le16 read_after_flush;\n} __packed;  \n\n \nstruct iwl_tx_path_flush_cmd_rsp {\n\t__le16 sta_id;\n\t__le16 num_flushed_queues;\n\tstruct iwl_flush_queue_info queues[IWL_TX_FLUSH_QUEUE_RSP];\n} __packed;  \n\n \nenum iwl_scd_cfg_actions {\n\tSCD_CFG_DISABLE_QUEUE\t\t= 0x0,\n\tSCD_CFG_ENABLE_QUEUE\t\t= 0x1,\n\tSCD_CFG_UPDATE_QUEUE_TID\t= 0x2,\n};\n\n \nstruct iwl_scd_txq_cfg_cmd {\n\tu8 token;\n\tu8 sta_id;\n\tu8 tid;\n\tu8 scd_queue;\n\tu8 action;\n\tu8 aggregate;\n\tu8 tx_fifo;\n\tu8 window;\n\t__le16 ssn;\n\t__le16 reserved;\n} __packed;  \n\n \nstruct iwl_scd_txq_cfg_rsp {\n\tu8 token;\n\tu8 sta_id;\n\tu8 tid;\n\tu8 scd_queue;\n} __packed;  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}