{
  "module_name": "notif-wait.h",
  "hash_id": "a5a421e4fbb93a3ca15b589d426d32670a22eb320bfd887ff0da5d3eec77fd96",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/intel/iwlwifi/fw/notif-wait.h",
  "human_readable_source": " \n \n#ifndef __iwl_notif_wait_h__\n#define __iwl_notif_wait_h__\n\n#include <linux/wait.h>\n\n#include \"iwl-trans.h\"\n\nstruct iwl_notif_wait_data {\n\tstruct list_head notif_waits;\n\tspinlock_t notif_wait_lock;\n\twait_queue_head_t notif_waitq;\n};\n\n#define MAX_NOTIF_CMDS\t5\n\n \nstruct iwl_notification_wait {\n\tstruct list_head list;\n\n\tbool (*fn)(struct iwl_notif_wait_data *notif_data,\n\t\t   struct iwl_rx_packet *pkt, void *data);\n\tvoid *fn_data;\n\n\tu16 cmds[MAX_NOTIF_CMDS];\n\tu8 n_cmds;\n\tbool triggered, aborted;\n};\n\n\n \nvoid iwl_notification_wait_init(struct iwl_notif_wait_data *notif_data);\nbool iwl_notification_wait(struct iwl_notif_wait_data *notif_data,\n\t\t\t   struct iwl_rx_packet *pkt);\nvoid iwl_abort_notification_waits(struct iwl_notif_wait_data *notif_data);\n\nstatic inline void\niwl_notification_notify(struct iwl_notif_wait_data *notif_data)\n{\n\twake_up_all(&notif_data->notif_waitq);\n}\n\nstatic inline void\niwl_notification_wait_notify(struct iwl_notif_wait_data *notif_data,\n\t\t\t     struct iwl_rx_packet *pkt)\n{\n\tif (iwl_notification_wait(notif_data, pkt))\n\t\tiwl_notification_notify(notif_data);\n}\n\n \nvoid __acquires(wait_entry)\niwl_init_notification_wait(struct iwl_notif_wait_data *notif_data,\n\t\t\t   struct iwl_notification_wait *wait_entry,\n\t\t\t   const u16 *cmds, int n_cmds,\n\t\t\t   bool (*fn)(struct iwl_notif_wait_data *notif_data,\n\t\t\t\t      struct iwl_rx_packet *pkt, void *data),\n\t\t\t   void *fn_data);\n\nint __must_check __releases(wait_entry)\niwl_wait_notification(struct iwl_notif_wait_data *notif_data,\n\t\t      struct iwl_notification_wait *wait_entry,\n\t\t      unsigned long timeout);\n\nvoid __releases(wait_entry)\niwl_remove_notification(struct iwl_notif_wait_data *notif_data,\n\t\t\tstruct iwl_notification_wait *wait_entry);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}