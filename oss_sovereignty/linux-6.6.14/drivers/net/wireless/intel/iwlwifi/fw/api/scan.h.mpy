{
  "module_name": "scan.h",
  "hash_id": "12c553788fd2192a27c76b84f173a180e75db2c5179a3771fc9ab6e0581257d9",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/intel/iwlwifi/fw/api/scan.h",
  "human_readable_source": " \n \n#ifndef __iwl_fw_api_scan_h__\n#define __iwl_fw_api_scan_h__\n\n \n\n \nenum iwl_scan_subcmd_ids {\n\t \n\tOFFLOAD_MATCH_INFO_NOTIF = 0xFC,\n};\n\n \n#define PROBE_OPTION_MAX\t\t20\n\n#define SCAN_SHORT_SSID_MAX_SIZE        8\n#define SCAN_BSSID_MAX_SIZE             16\n\n \nstruct iwl_ssid_ie {\n\tu8 id;\n\tu8 len;\n\tu8 ssid[IEEE80211_MAX_SSID_LEN];\n} __packed;  \n\n \n#define IWL_SCAN_MAX_BLACKLIST_LEN\t64\n#define IWL_SCAN_SHORT_BLACKLIST_LEN\t16\n#define IWL_SCAN_MAX_PROFILES\t\t11\n#define IWL_SCAN_MAX_PROFILES_V2\t8\n#define SCAN_OFFLOAD_PROBE_REQ_SIZE\t512\n#define SCAN_NUM_BAND_PROBE_DATA_V_1\t2\n#define SCAN_NUM_BAND_PROBE_DATA_V_2\t3\n\n \n#define IWL_SCHED_SCAN_WATCHDOG cpu_to_le16(15000)\n\n#define IWL_GOOD_CRC_TH_DEFAULT cpu_to_le16(1)\n#define CAN_ABORT_STATUS 1\n\n#define IWL_FULL_SCAN_MULTIPLIER 5\n#define IWL_FAST_SCHED_SCAN_ITERATIONS 3\n#define IWL_MAX_SCHED_SCAN_PLANS 2\n\nenum scan_framework_client {\n\tSCAN_CLIENT_SCHED_SCAN\t\t= BIT(0),\n\tSCAN_CLIENT_NETDETECT\t\t= BIT(1),\n\tSCAN_CLIENT_ASSET_TRACKING\t= BIT(2),\n};\n\n \nstruct iwl_scan_offload_blocklist {\n\tu8 ssid[ETH_ALEN];\n\tu8 reported_rssi;\n\tu8 client_bitmap;\n} __packed;\n\nenum iwl_scan_offload_network_type {\n\tIWL_NETWORK_TYPE_BSS\t= 1,\n\tIWL_NETWORK_TYPE_IBSS\t= 2,\n\tIWL_NETWORK_TYPE_ANY\t= 3,\n};\n\nenum iwl_scan_offload_band_selection {\n\tIWL_SCAN_OFFLOAD_SELECT_2_4\t= 0x4,\n\tIWL_SCAN_OFFLOAD_SELECT_5_2\t= 0x8,\n\tIWL_SCAN_OFFLOAD_SELECT_ANY\t= 0xc,\n};\n\nenum iwl_scan_offload_auth_alg {\n\tIWL_AUTH_ALGO_UNSUPPORTED  = 0x00,\n\tIWL_AUTH_ALGO_NONE         = 0x01,\n\tIWL_AUTH_ALGO_PSK          = 0x02,\n\tIWL_AUTH_ALGO_8021X        = 0x04,\n\tIWL_AUTH_ALGO_SAE          = 0x08,\n\tIWL_AUTH_ALGO_8021X_SHA384 = 0x10,\n\tIWL_AUTH_ALGO_OWE          = 0x20,\n};\n\n \nstruct iwl_scan_offload_profile {\n\tu8 ssid_index;\n\tu8 unicast_cipher;\n\tu8 auth_alg;\n\tu8 network_type;\n\tu8 band_selection;\n\tu8 client_bitmap;\n\tu8 reserved[2];\n} __packed;\n\n \nstruct iwl_scan_offload_profile_cfg_data {\n\tu8 blocklist_len;\n\tu8 num_profiles;\n\tu8 match_notify;\n\tu8 pass_match;\n\tu8 active_clients;\n\tu8 any_beacon_notify;\n\tu8 reserved[2];\n} __packed;\n\n \nstruct iwl_scan_offload_profile_cfg_v1 {\n\tstruct iwl_scan_offload_profile profiles[IWL_SCAN_MAX_PROFILES];\n\tstruct iwl_scan_offload_profile_cfg_data data;\n} __packed;  \n\n \nstruct iwl_scan_offload_profile_cfg {\n\tstruct iwl_scan_offload_profile profiles[IWL_SCAN_MAX_PROFILES_V2];\n\tstruct iwl_scan_offload_profile_cfg_data data;\n} __packed;  \n\n \nstruct iwl_scan_schedule_lmac {\n\t__le16 delay;\n\tu8 iterations;\n\tu8 full_scan_mul;\n} __packed;  \n\nenum iwl_scan_offload_complete_status {\n\tIWL_SCAN_OFFLOAD_COMPLETED\t= 1,\n\tIWL_SCAN_OFFLOAD_ABORTED\t= 2,\n};\n\nenum iwl_scan_ebs_status {\n\tIWL_SCAN_EBS_SUCCESS,\n\tIWL_SCAN_EBS_FAILED,\n\tIWL_SCAN_EBS_CHAN_NOT_FOUND,\n\tIWL_SCAN_EBS_INACTIVE,\n};\n\n \nstruct iwl_scan_req_tx_cmd {\n\t__le32 tx_flags;\n\t__le32 rate_n_flags;\n\tu8 sta_id;\n\tu8 reserved[3];\n} __packed;\n\nenum iwl_scan_channel_flags_lmac {\n\tIWL_UNIFIED_SCAN_CHANNEL_FULL\t\t= BIT(27),\n\tIWL_UNIFIED_SCAN_CHANNEL_PARTIAL\t= BIT(28),\n};\n\n \nstruct iwl_scan_channel_cfg_lmac {\n\t__le32 flags;\n\t__le16 channel_num;\n\t__le16 iter_count;\n\t__le32 iter_interval;\n} __packed;\n\n \nstruct iwl_scan_probe_segment {\n\t__le16 offset;\n\t__le16 len;\n} __packed;\n\n \nstruct iwl_scan_probe_req_v1 {\n\tstruct iwl_scan_probe_segment mac_header;\n\tstruct iwl_scan_probe_segment band_data[SCAN_NUM_BAND_PROBE_DATA_V_1];\n\tstruct iwl_scan_probe_segment common_data;\n\tu8 buf[SCAN_OFFLOAD_PROBE_REQ_SIZE];\n} __packed;\n\n \nstruct iwl_scan_probe_req {\n\tstruct iwl_scan_probe_segment mac_header;\n\tstruct iwl_scan_probe_segment band_data[SCAN_NUM_BAND_PROBE_DATA_V_2];\n\tstruct iwl_scan_probe_segment common_data;\n\tu8 buf[SCAN_OFFLOAD_PROBE_REQ_SIZE];\n} __packed;\n\nenum iwl_scan_channel_flags {\n\tIWL_SCAN_CHANNEL_FLAG_EBS\t\t= BIT(0),\n\tIWL_SCAN_CHANNEL_FLAG_EBS_ACCURATE\t= BIT(1),\n\tIWL_SCAN_CHANNEL_FLAG_CACHE_ADD\t\t= BIT(2),\n\tIWL_SCAN_CHANNEL_FLAG_EBS_FRAG\t\t= BIT(3),\n\tIWL_SCAN_CHANNEL_FLAG_FORCE_EBS         = BIT(4),\n\tIWL_SCAN_CHANNEL_FLAG_ENABLE_CHAN_ORDER = BIT(5),\n\tIWL_SCAN_CHANNEL_FLAG_6G_PSC_NO_FILTER  = BIT(6),\n};\n\n \nstruct iwl_scan_channel_opt {\n\t__le16 flags;\n\t__le16 non_ebs_ratio;\n} __packed;\n\n \nenum iwl_mvm_lmac_scan_flags {\n\tIWL_MVM_LMAC_SCAN_FLAG_PASS_ALL\t\t= BIT(0),\n\tIWL_MVM_LMAC_SCAN_FLAG_PASSIVE\t\t= BIT(1),\n\tIWL_MVM_LMAC_SCAN_FLAG_PRE_CONNECTION\t= BIT(2),\n\tIWL_MVM_LMAC_SCAN_FLAG_ITER_COMPLETE\t= BIT(3),\n\tIWL_MVM_LMAC_SCAN_FLAG_MULTIPLE_SSIDS\t= BIT(4),\n\tIWL_MVM_LMAC_SCAN_FLAG_FRAGMENTED\t= BIT(5),\n\tIWL_MVM_LMAC_SCAN_FLAGS_RRM_ENABLED\t= BIT(6),\n\tIWL_MVM_LMAC_SCAN_FLAG_EXTENDED_DWELL\t= BIT(7),\n\tIWL_MVM_LMAC_SCAN_FLAG_MATCH\t\t= BIT(9),\n};\n\nenum iwl_scan_priority {\n\tIWL_SCAN_PRIORITY_LOW,\n\tIWL_SCAN_PRIORITY_MEDIUM,\n\tIWL_SCAN_PRIORITY_HIGH,\n};\n\nenum iwl_scan_priority_ext {\n\tIWL_SCAN_PRIORITY_EXT_0_LOWEST,\n\tIWL_SCAN_PRIORITY_EXT_1,\n\tIWL_SCAN_PRIORITY_EXT_2,\n\tIWL_SCAN_PRIORITY_EXT_3,\n\tIWL_SCAN_PRIORITY_EXT_4,\n\tIWL_SCAN_PRIORITY_EXT_5,\n\tIWL_SCAN_PRIORITY_EXT_6,\n\tIWL_SCAN_PRIORITY_EXT_7_HIGHEST,\n};\n\n \nstruct iwl_scan_req_lmac {\n\t \n\t__le32 reserved1;\n\tu8 n_channels;\n\tu8 active_dwell;\n\tu8 passive_dwell;\n\tu8 fragmented_dwell;\n\tu8 extended_dwell;\n\tu8 reserved2;\n\t__le16 rx_chain_select;\n\t__le32 scan_flags;\n\t__le32 max_out_time;\n\t__le32 suspend_time;\n\t \n\t__le32 flags;\n\t__le32 filter_flags;\n\tstruct iwl_scan_req_tx_cmd tx_cmd[2];\n\tstruct iwl_ssid_ie direct_scan[PROBE_OPTION_MAX];\n\t__le32 scan_prio;\n\t \n\t__le32 iter_num;\n\t__le32 delay;\n\tstruct iwl_scan_schedule_lmac schedule[IWL_MAX_SCHED_SCAN_PLANS];\n\tstruct iwl_scan_channel_opt channel_opt[2];\n\tu8 data[];\n} __packed;\n\n \nstruct iwl_scan_results_notif {\n\tu8 channel;\n\tu8 band;\n\tu8 probe_status;\n\tu8 num_probe_not_sent;\n\t__le32 duration;\n} __packed;\n\n \nstruct iwl_lmac_scan_complete_notif {\n\tu8 scanned_channels;\n\tu8 status;\n\tu8 bt_status;\n\tu8 last_channel;\n\t__le32 tsf_low;\n\t__le32 tsf_high;\n\tstruct iwl_scan_results_notif results[];\n} __packed;\n\n \nstruct iwl_periodic_scan_complete {\n\tu8 last_schedule_line;\n\tu8 last_schedule_iteration;\n\tu8 status;\n\tu8 ebs_status;\n\t__le32 time_after_last_iter;\n\t__le32 reserved;\n} __packed;\n\n \n\n \n#define IWL_MVM_MAX_UMAC_SCANS 4\n#define IWL_MVM_MAX_LMAC_SCANS 1\n\nenum scan_config_flags {\n\tSCAN_CONFIG_FLAG_ACTIVATE\t\t\t= BIT(0),\n\tSCAN_CONFIG_FLAG_DEACTIVATE\t\t\t= BIT(1),\n\tSCAN_CONFIG_FLAG_FORBID_CHUB_REQS\t\t= BIT(2),\n\tSCAN_CONFIG_FLAG_ALLOW_CHUB_REQS\t\t= BIT(3),\n\tSCAN_CONFIG_FLAG_SET_TX_CHAINS\t\t\t= BIT(8),\n\tSCAN_CONFIG_FLAG_SET_RX_CHAINS\t\t\t= BIT(9),\n\tSCAN_CONFIG_FLAG_SET_AUX_STA_ID\t\t\t= BIT(10),\n\tSCAN_CONFIG_FLAG_SET_ALL_TIMES\t\t\t= BIT(11),\n\tSCAN_CONFIG_FLAG_SET_EFFECTIVE_TIMES\t\t= BIT(12),\n\tSCAN_CONFIG_FLAG_SET_CHANNEL_FLAGS\t\t= BIT(13),\n\tSCAN_CONFIG_FLAG_SET_LEGACY_RATES\t\t= BIT(14),\n\tSCAN_CONFIG_FLAG_SET_MAC_ADDR\t\t\t= BIT(15),\n\tSCAN_CONFIG_FLAG_SET_FRAGMENTED\t\t\t= BIT(16),\n\tSCAN_CONFIG_FLAG_CLEAR_FRAGMENTED\t\t= BIT(17),\n\tSCAN_CONFIG_FLAG_SET_CAM_MODE\t\t\t= BIT(18),\n\tSCAN_CONFIG_FLAG_CLEAR_CAM_MODE\t\t\t= BIT(19),\n\tSCAN_CONFIG_FLAG_SET_PROMISC_MODE\t\t= BIT(20),\n\tSCAN_CONFIG_FLAG_CLEAR_PROMISC_MODE\t\t= BIT(21),\n\tSCAN_CONFIG_FLAG_SET_LMAC2_FRAGMENTED\t\t= BIT(22),\n\tSCAN_CONFIG_FLAG_CLEAR_LMAC2_FRAGMENTED\t\t= BIT(23),\n\n\t \n#define SCAN_CONFIG_N_CHANNELS(n) ((n) << 26)\n};\n\nenum scan_config_rates {\n\t \n\tSCAN_CONFIG_RATE_6M\t= BIT(0),\n\tSCAN_CONFIG_RATE_9M\t= BIT(1),\n\tSCAN_CONFIG_RATE_12M\t= BIT(2),\n\tSCAN_CONFIG_RATE_18M\t= BIT(3),\n\tSCAN_CONFIG_RATE_24M\t= BIT(4),\n\tSCAN_CONFIG_RATE_36M\t= BIT(5),\n\tSCAN_CONFIG_RATE_48M\t= BIT(6),\n\tSCAN_CONFIG_RATE_54M\t= BIT(7),\n\t \n\tSCAN_CONFIG_RATE_1M\t= BIT(8),\n\tSCAN_CONFIG_RATE_2M\t= BIT(9),\n\tSCAN_CONFIG_RATE_5M\t= BIT(10),\n\tSCAN_CONFIG_RATE_11M\t= BIT(11),\n\n\t \n#define SCAN_CONFIG_SUPPORTED_RATE(rate)\t((rate) << 16)\n};\n\nenum iwl_channel_flags {\n\tIWL_CHANNEL_FLAG_EBS\t\t\t\t= BIT(0),\n\tIWL_CHANNEL_FLAG_ACCURATE_EBS\t\t\t= BIT(1),\n\tIWL_CHANNEL_FLAG_EBS_ADD\t\t\t= BIT(2),\n\tIWL_CHANNEL_FLAG_PRE_SCAN_PASSIVE2ACTIVE\t= BIT(3),\n};\n\nenum iwl_uhb_chan_cfg_flags {\n\tIWL_UHB_CHAN_CFG_FLAG_UNSOLICITED_PROBE_RES = BIT(24),\n\tIWL_UHB_CHAN_CFG_FLAG_PSC_CHAN_NO_LISTEN    = BIT(25),\n\tIWL_UHB_CHAN_CFG_FLAG_FORCE_PASSIVE         = BIT(26),\n};\n \nstruct iwl_scan_dwell {\n\tu8 active;\n\tu8 passive;\n\tu8 fragmented;\n\tu8 extended;\n} __packed;\n\n \nstruct iwl_scan_config_v1 {\n\t__le32 flags;\n\t__le32 tx_chains;\n\t__le32 rx_chains;\n\t__le32 legacy_rates;\n\t__le32 out_of_channel_time;\n\t__le32 suspend_time;\n\tstruct iwl_scan_dwell dwell;\n\tu8 mac_addr[ETH_ALEN];\n\tu8 bcast_sta_id;\n\tu8 channel_flags;\n\tu8 channel_array[];\n} __packed;  \n\n#define SCAN_TWO_LMACS 2\n#define SCAN_LB_LMAC_IDX 0\n#define SCAN_HB_LMAC_IDX 1\n\n \nstruct iwl_scan_config_v2 {\n\t__le32 flags;\n\t__le32 tx_chains;\n\t__le32 rx_chains;\n\t__le32 legacy_rates;\n\t__le32 out_of_channel_time[SCAN_TWO_LMACS];\n\t__le32 suspend_time[SCAN_TWO_LMACS];\n\tstruct iwl_scan_dwell dwell;\n\tu8 mac_addr[ETH_ALEN];\n\tu8 bcast_sta_id;\n\tu8 channel_flags;\n\tu8 channel_array[];\n} __packed;  \n\n \nstruct iwl_scan_config {\n\tu8 enable_cam_mode;\n\tu8 enable_promiscouos_mode;\n\tu8 bcast_sta_id;\n\tu8 reserved;\n\t__le32 tx_chains;\n\t__le32 rx_chains;\n} __packed;  \n\n \nenum iwl_umac_scan_flags {\n\tIWL_UMAC_SCAN_FLAG_PREEMPTIVE\t\t= BIT(0),\n\tIWL_UMAC_SCAN_FLAG_START_NOTIF\t\t= BIT(1),\n};\n\nenum iwl_umac_scan_uid_offsets {\n\tIWL_UMAC_SCAN_UID_TYPE_OFFSET\t\t= 0,\n\tIWL_UMAC_SCAN_UID_SEQ_OFFSET\t\t= 8,\n};\n\nenum iwl_umac_scan_general_flags {\n\tIWL_UMAC_SCAN_GEN_FLAGS_PERIODIC\t\t= BIT(0),\n\tIWL_UMAC_SCAN_GEN_FLAGS_OVER_BT\t\t\t= BIT(1),\n\tIWL_UMAC_SCAN_GEN_FLAGS_PASS_ALL\t\t= BIT(2),\n\tIWL_UMAC_SCAN_GEN_FLAGS_PASSIVE\t\t\t= BIT(3),\n\tIWL_UMAC_SCAN_GEN_FLAGS_PRE_CONNECT\t\t= BIT(4),\n\tIWL_UMAC_SCAN_GEN_FLAGS_ITER_COMPLETE\t\t= BIT(5),\n\tIWL_UMAC_SCAN_GEN_FLAGS_MULTIPLE_SSID\t\t= BIT(6),\n\tIWL_UMAC_SCAN_GEN_FLAGS_FRAGMENTED\t\t= BIT(7),\n\tIWL_UMAC_SCAN_GEN_FLAGS_RRM_ENABLED\t\t= BIT(8),\n\tIWL_UMAC_SCAN_GEN_FLAGS_MATCH\t\t\t= BIT(9),\n\tIWL_UMAC_SCAN_GEN_FLAGS_EXTENDED_DWELL\t\t= BIT(10),\n\t \n\tIWL_UMAC_SCAN_GEN_FLAGS_PROB_REQ_DEFER_SUPP\t= BIT(10),\n\tIWL_UMAC_SCAN_GEN_FLAGS_LMAC2_FRAGMENTED\t= BIT(11),\n\tIWL_UMAC_SCAN_GEN_FLAGS_ADAPTIVE_DWELL\t\t= BIT(13),\n\tIWL_UMAC_SCAN_GEN_FLAGS_MAX_CHNL_TIME\t\t= BIT(14),\n\tIWL_UMAC_SCAN_GEN_FLAGS_PROB_REQ_HIGH_TX_RATE\t= BIT(15),\n};\n\n \nenum iwl_umac_scan_general_flags2 {\n\tIWL_UMAC_SCAN_GEN_FLAGS2_NOTIF_PER_CHNL\t\t= BIT(0),\n\tIWL_UMAC_SCAN_GEN_FLAGS2_ALLOW_CHNL_REORDER\t= BIT(1),\n};\n\n \nenum iwl_umac_scan_general_flags_v2 {\n\tIWL_UMAC_SCAN_GEN_FLAGS_V2_PERIODIC             = BIT(0),\n\tIWL_UMAC_SCAN_GEN_FLAGS_V2_PASS_ALL             = BIT(1),\n\tIWL_UMAC_SCAN_GEN_FLAGS_V2_NTFY_ITER_COMPLETE   = BIT(2),\n\tIWL_UMAC_SCAN_GEN_FLAGS_V2_FRAGMENTED_LMAC1     = BIT(3),\n\tIWL_UMAC_SCAN_GEN_FLAGS_V2_FRAGMENTED_LMAC2     = BIT(4),\n\tIWL_UMAC_SCAN_GEN_FLAGS_V2_MATCH                = BIT(5),\n\tIWL_UMAC_SCAN_GEN_FLAGS_V2_USE_ALL_RX_CHAINS    = BIT(6),\n\tIWL_UMAC_SCAN_GEN_FLAGS_V2_ADAPTIVE_DWELL       = BIT(7),\n\tIWL_UMAC_SCAN_GEN_FLAGS_V2_PREEMPTIVE           = BIT(8),\n\tIWL_UMAC_SCAN_GEN_FLAGS_V2_NTF_START            = BIT(9),\n\tIWL_UMAC_SCAN_GEN_FLAGS_V2_MULTI_SSID           = BIT(10),\n\tIWL_UMAC_SCAN_GEN_FLAGS_V2_FORCE_PASSIVE        = BIT(11),\n\tIWL_UMAC_SCAN_GEN_FLAGS_V2_TRIGGER_UHB_SCAN     = BIT(12),\n\tIWL_UMAC_SCAN_GEN_FLAGS_V2_6GHZ_PASSIVE_SCAN    = BIT(13),\n\tIWL_UMAC_SCAN_GEN_FLAGS_V2_6GHZ_PASSIVE_SCAN_FILTER_IN = BIT(14),\n\tIWL_UMAC_SCAN_GEN_FLAGS_V2_OCE                  = BIT(15),\n};\n\n \nenum iwl_umac_scan_general_params_flags2 {\n\tIWL_UMAC_SCAN_GEN_PARAMS_FLAGS2_RESPECT_P2P_GO_LB = BIT(0),\n\tIWL_UMAC_SCAN_GEN_PARAMS_FLAGS2_RESPECT_P2P_GO_HB = BIT(1),\n\tIWL_UMAC_SCAN_GEN_PARAMS_FLAGS2_DONT_TOGGLE_ANT   = BIT(2),\n};\n\n \nstruct  iwl_scan_channel_cfg_umac {\n#define IWL_CHAN_CFG_FLAGS_BAND_POS 30\n\t__le32 flags;\n\n\t \n\tunion {\n\t\tstruct {\n\t\t\tu8 channel_num;\n\t\t\tu8 iter_count;\n\t\t\t__le16 iter_interval;\n\t\t} v1;   \n\t\tstruct {\n\t\t\tu8 channel_num;\n\t\t\tu8 band;\n\t\t\tu8 iter_count;\n\t\t\tu8 iter_interval;\n\t\t } v2;  \n\t\tstruct {\n\t\t\tu8 channel_num;\n\t\t\tu8 psd_20;\n\t\t\tu8 iter_count;\n\t\t\tu8 iter_interval;\n\t\t} v5;   \n\t};\n} __packed;\n\n \nstruct iwl_scan_umac_schedule {\n\t__le16 interval;\n\tu8 iter_count;\n\tu8 reserved;\n} __packed;  \n\nstruct iwl_scan_req_umac_tail_v1 {\n\t \n\tstruct iwl_scan_umac_schedule schedule[IWL_MAX_SCHED_SCAN_PLANS];\n\t__le16 delay;\n\t__le16 reserved;\n\t \n\tstruct iwl_scan_probe_req_v1 preq;\n\tstruct iwl_ssid_ie direct_scan[PROBE_OPTION_MAX];\n} __packed;\n\n \nstruct iwl_scan_req_umac_tail_v2 {\n\t \n\tstruct iwl_scan_umac_schedule schedule[IWL_MAX_SCHED_SCAN_PLANS];\n\t__le16 delay;\n\t__le16 reserved;\n\t \n\tstruct iwl_scan_probe_req preq;\n\tstruct iwl_ssid_ie direct_scan[PROBE_OPTION_MAX];\n} __packed;\n\n \nstruct iwl_scan_umac_chan_param {\n\tu8 flags;\n\tu8 count;\n\t__le16 reserved;\n} __packed;  \n\n \nstruct iwl_scan_req_umac {\n\t__le32 flags;\n\t__le32 uid;\n\t__le32 ooc_priority;\n\t__le16 general_flags;\n\tu8 reserved;\n\tu8 scan_start_mac_id;\n\tunion {\n\t\tstruct {\n\t\t\tu8 extended_dwell;\n\t\t\tu8 active_dwell;\n\t\t\tu8 passive_dwell;\n\t\t\tu8 fragmented_dwell;\n\t\t\t__le32 max_out_time;\n\t\t\t__le32 suspend_time;\n\t\t\t__le32 scan_priority;\n\t\t\tstruct iwl_scan_umac_chan_param channel;\n\t\t\tu8 data[];\n\t\t} v1;  \n\t\tstruct {\n\t\t\tu8 extended_dwell;\n\t\t\tu8 active_dwell;\n\t\t\tu8 passive_dwell;\n\t\t\tu8 fragmented_dwell;\n\t\t\t__le32 max_out_time[SCAN_TWO_LMACS];\n\t\t\t__le32 suspend_time[SCAN_TWO_LMACS];\n\t\t\t__le32 scan_priority;\n\t\t\tstruct iwl_scan_umac_chan_param channel;\n\t\t\tu8 data[];\n\t\t} v6;  \n\t\tstruct {\n\t\t\tu8 active_dwell;\n\t\t\tu8 passive_dwell;\n\t\t\tu8 fragmented_dwell;\n\t\t\tu8 adwell_default_n_aps;\n\t\t\tu8 adwell_default_n_aps_social;\n\t\t\tu8 reserved3;\n\t\t\t__le16 adwell_max_budget;\n\t\t\t__le32 max_out_time[SCAN_TWO_LMACS];\n\t\t\t__le32 suspend_time[SCAN_TWO_LMACS];\n\t\t\t__le32 scan_priority;\n\t\t\tstruct iwl_scan_umac_chan_param channel;\n\t\t\tu8 data[];\n\t\t} v7;  \n\t\tstruct {\n\t\t\tu8 active_dwell[SCAN_TWO_LMACS];\n\t\t\tu8 reserved2;\n\t\t\tu8 adwell_default_n_aps;\n\t\t\tu8 adwell_default_n_aps_social;\n\t\t\tu8 general_flags2;\n\t\t\t__le16 adwell_max_budget;\n\t\t\t__le32 max_out_time[SCAN_TWO_LMACS];\n\t\t\t__le32 suspend_time[SCAN_TWO_LMACS];\n\t\t\t__le32 scan_priority;\n\t\t\tu8 passive_dwell[SCAN_TWO_LMACS];\n\t\t\tu8 num_of_fragments[SCAN_TWO_LMACS];\n\t\t\tstruct iwl_scan_umac_chan_param channel;\n\t\t\tu8 data[];\n\t\t} v8;  \n\t\tstruct {\n\t\t\tu8 active_dwell[SCAN_TWO_LMACS];\n\t\t\tu8 adwell_default_hb_n_aps;\n\t\t\tu8 adwell_default_lb_n_aps;\n\t\t\tu8 adwell_default_n_aps_social;\n\t\t\tu8 general_flags2;\n\t\t\t__le16 adwell_max_budget;\n\t\t\t__le32 max_out_time[SCAN_TWO_LMACS];\n\t\t\t__le32 suspend_time[SCAN_TWO_LMACS];\n\t\t\t__le32 scan_priority;\n\t\t\tu8 passive_dwell[SCAN_TWO_LMACS];\n\t\t\tu8 num_of_fragments[SCAN_TWO_LMACS];\n\t\t\tstruct iwl_scan_umac_chan_param channel;\n\t\t\tu8 data[];\n\t\t} v9;  \n\t};\n} __packed;\n\n#define IWL_SCAN_REQ_UMAC_SIZE_V8 sizeof(struct iwl_scan_req_umac)\n#define IWL_SCAN_REQ_UMAC_SIZE_V7 48\n#define IWL_SCAN_REQ_UMAC_SIZE_V6 44\n#define IWL_SCAN_REQ_UMAC_SIZE_V1 36\n\n \nstruct iwl_scan_probe_params_v3 {\n\tstruct iwl_scan_probe_req preq;\n\tu8 ssid_num;\n\tu8 short_ssid_num;\n\tu8 bssid_num;\n\tu8 reserved;\n\tstruct iwl_ssid_ie direct_scan[PROBE_OPTION_MAX];\n\t__le32 short_ssid[SCAN_SHORT_SSID_MAX_SIZE];\n\tu8 bssid_array[SCAN_BSSID_MAX_SIZE][ETH_ALEN];\n} __packed;  \n\n \nstruct iwl_scan_probe_params_v4 {\n\tstruct iwl_scan_probe_req preq;\n\tu8 short_ssid_num;\n\tu8 bssid_num;\n\t__le16 reserved;\n\tstruct iwl_ssid_ie direct_scan[PROBE_OPTION_MAX];\n\t__le32 short_ssid[SCAN_SHORT_SSID_MAX_SIZE];\n\tu8 bssid_array[SCAN_BSSID_MAX_SIZE][ETH_ALEN];\n} __packed;  \n\n#define SCAN_MAX_NUM_CHANS_V3 67\n\n \nstruct iwl_scan_channel_params_v4 {\n\tu8 flags;\n\tu8 count;\n\tu8 num_of_aps_override;\n\tu8 reserved;\n\tstruct iwl_scan_channel_cfg_umac channel_config[SCAN_MAX_NUM_CHANS_V3];\n\tu8 adwell_ch_override_bitmap[16];\n} __packed;  \n\n \nstruct iwl_scan_channel_params_v7 {\n\tu8 flags;\n\tu8 count;\n\tu8 n_aps_override[2];\n\tstruct iwl_scan_channel_cfg_umac channel_config[SCAN_MAX_NUM_CHANS_V3];\n} __packed;  \n\n \nstruct iwl_scan_general_params_v11 {\n\t__le16 flags;\n\tu8 reserved;\n\tu8 scan_start_mac_or_link_id;\n\tu8 active_dwell[SCAN_TWO_LMACS];\n\tu8 adwell_default_2g;\n\tu8 adwell_default_5g;\n\tu8 adwell_default_social_chn;\n\tu8 flags2;\n\t__le16 adwell_max_budget;\n\t__le32 max_out_of_time[SCAN_TWO_LMACS];\n\t__le32 suspend_time[SCAN_TWO_LMACS];\n\t__le32 scan_priority;\n\tu8 passive_dwell[SCAN_TWO_LMACS];\n\tu8 num_of_fragments[SCAN_TWO_LMACS];\n} __packed;  \n\n \nstruct iwl_scan_periodic_parms_v1 {\n\tstruct iwl_scan_umac_schedule schedule[IWL_MAX_SCHED_SCAN_PLANS];\n\t__le16 delay;\n\t__le16 reserved;\n} __packed;  \n\n \nstruct iwl_scan_req_params_v12 {\n\tstruct iwl_scan_general_params_v11 general_params;\n\tstruct iwl_scan_channel_params_v4 channel_params;\n\tstruct iwl_scan_periodic_parms_v1 periodic_params;\n\tstruct iwl_scan_probe_params_v3 probe_params;\n} __packed;  \n\n \nstruct iwl_scan_req_params_v17 {\n\tstruct iwl_scan_general_params_v11 general_params;\n\tstruct iwl_scan_channel_params_v7 channel_params;\n\tstruct iwl_scan_periodic_parms_v1 periodic_params;\n\tstruct iwl_scan_probe_params_v4 probe_params;\n} __packed;  \n\n \nstruct iwl_scan_req_umac_v12 {\n\t__le32 uid;\n\t__le32 ooc_priority;\n\tstruct iwl_scan_req_params_v12 scan_params;\n} __packed;  \n\n \nstruct iwl_scan_req_umac_v17 {\n\t__le32 uid;\n\t__le32 ooc_priority;\n\tstruct iwl_scan_req_params_v17 scan_params;\n} __packed;  \n\n \nstruct iwl_umac_scan_abort {\n\t__le32 uid;\n\t__le32 flags;\n} __packed;  \n\n \nstruct iwl_umac_scan_complete {\n\t__le32 uid;\n\tu8 last_schedule;\n\tu8 last_iter;\n\tu8 status;\n\tu8 ebs_status;\n\t__le32 time_from_last_iter;\n\t__le32 reserved;\n} __packed;  \n\n#define SCAN_OFFLOAD_MATCHING_CHANNELS_LEN_V1 5\n#define SCAN_OFFLOAD_MATCHING_CHANNELS_LEN    7\n\n \nstruct iwl_scan_offload_profile_match_v1 {\n\tu8 bssid[ETH_ALEN];\n\t__le16 reserved;\n\tu8 channel;\n\tu8 energy;\n\tu8 matching_feature;\n\tu8 matching_channels[SCAN_OFFLOAD_MATCHING_CHANNELS_LEN_V1];\n} __packed;  \n\n \nstruct iwl_scan_offload_profiles_query_v1 {\n\t__le32 matched_profiles;\n\t__le32 last_scan_age;\n\t__le32 n_scans_done;\n\t__le32 gp2_d0u;\n\t__le32 gp2_invoked;\n\tu8 resume_while_scanning;\n\tu8 self_recovery;\n\t__le16 reserved;\n\tstruct iwl_scan_offload_profile_match_v1 matches[];\n} __packed;  \n\n \nstruct iwl_scan_offload_profile_match {\n\tu8 bssid[ETH_ALEN];\n\t__le16 reserved;\n\tu8 channel;\n\tu8 energy;\n\tu8 matching_feature;\n\tu8 matching_channels[SCAN_OFFLOAD_MATCHING_CHANNELS_LEN];\n} __packed;  \n\n \nstruct iwl_scan_offload_match_info {\n\t__le32 matched_profiles;\n\t__le32 last_scan_age;\n\t__le32 n_scans_done;\n\t__le32 gp2_d0u;\n\t__le32 gp2_invoked;\n\tu8 resume_while_scanning;\n\tu8 self_recovery;\n\t__le16 reserved;\n\tstruct iwl_scan_offload_profile_match matches[];\n} __packed;  \n\n \nstruct iwl_umac_scan_iter_complete_notif {\n\t__le32 uid;\n\tu8 scanned_channels;\n\tu8 status;\n\tu8 bt_status;\n\tu8 last_channel;\n\t__le64 start_tsf;\n\tstruct iwl_scan_results_notif results[];\n} __packed;  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}