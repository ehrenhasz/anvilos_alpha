{
  "module_name": "iwl-op-mode.h",
  "hash_id": "7fc09c31f9bc70c62525bfda13f0829f645641856179c19dd59cf7cc9f00f2f6",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/intel/iwlwifi/iwl-op-mode.h",
  "human_readable_source": " \n \n#ifndef __iwl_op_mode_h__\n#define __iwl_op_mode_h__\n\n#include <linux/netdevice.h>\n#include <linux/debugfs.h>\n#include \"iwl-dbg-tlv.h\"\n\nstruct iwl_op_mode;\nstruct iwl_trans;\nstruct sk_buff;\nstruct iwl_device_cmd;\nstruct iwl_rx_cmd_buffer;\nstruct iwl_fw;\nstruct iwl_cfg;\n\n \n\n \n\n \nstruct iwl_op_mode_ops {\n\tstruct iwl_op_mode *(*start)(struct iwl_trans *trans,\n\t\t\t\t     const struct iwl_cfg *cfg,\n\t\t\t\t     const struct iwl_fw *fw,\n\t\t\t\t     struct dentry *dbgfs_dir);\n\tvoid (*stop)(struct iwl_op_mode *op_mode);\n\tvoid (*rx)(struct iwl_op_mode *op_mode, struct napi_struct *napi,\n\t\t   struct iwl_rx_cmd_buffer *rxb);\n\tvoid (*rx_rss)(struct iwl_op_mode *op_mode, struct napi_struct *napi,\n\t\t       struct iwl_rx_cmd_buffer *rxb, unsigned int queue);\n\tvoid (*async_cb)(struct iwl_op_mode *op_mode,\n\t\t\t const struct iwl_device_cmd *cmd);\n\tvoid (*queue_full)(struct iwl_op_mode *op_mode, int queue);\n\tvoid (*queue_not_full)(struct iwl_op_mode *op_mode, int queue);\n\tbool (*hw_rf_kill)(struct iwl_op_mode *op_mode, bool state);\n\tvoid (*free_skb)(struct iwl_op_mode *op_mode, struct sk_buff *skb);\n\tvoid (*nic_error)(struct iwl_op_mode *op_mode, bool sync);\n\tvoid (*cmd_queue_full)(struct iwl_op_mode *op_mode);\n\tvoid (*nic_config)(struct iwl_op_mode *op_mode);\n\tvoid (*wimax_active)(struct iwl_op_mode *op_mode);\n\tvoid (*time_point)(struct iwl_op_mode *op_mode,\n\t\t\t   enum iwl_fw_ini_time_point tp_id,\n\t\t\t   union iwl_dbg_tlv_tp_data *tp_data);\n};\n\nint iwl_opmode_register(const char *name, const struct iwl_op_mode_ops *ops);\nvoid iwl_opmode_deregister(const char *name);\n\n \nstruct iwl_op_mode {\n\tconst struct iwl_op_mode_ops *ops;\n\n\tchar op_mode_specific[] __aligned(sizeof(void *));\n};\n\nstatic inline void iwl_op_mode_stop(struct iwl_op_mode *op_mode)\n{\n\tmight_sleep();\n\top_mode->ops->stop(op_mode);\n}\n\nstatic inline void iwl_op_mode_rx(struct iwl_op_mode *op_mode,\n\t\t\t\t  struct napi_struct *napi,\n\t\t\t\t  struct iwl_rx_cmd_buffer *rxb)\n{\n\treturn op_mode->ops->rx(op_mode, napi, rxb);\n}\n\nstatic inline void iwl_op_mode_rx_rss(struct iwl_op_mode *op_mode,\n\t\t\t\t      struct napi_struct *napi,\n\t\t\t\t      struct iwl_rx_cmd_buffer *rxb,\n\t\t\t\t      unsigned int queue)\n{\n\top_mode->ops->rx_rss(op_mode, napi, rxb, queue);\n}\n\nstatic inline void iwl_op_mode_async_cb(struct iwl_op_mode *op_mode,\n\t\t\t\t\tconst struct iwl_device_cmd *cmd)\n{\n\tif (op_mode->ops->async_cb)\n\t\top_mode->ops->async_cb(op_mode, cmd);\n}\n\nstatic inline void iwl_op_mode_queue_full(struct iwl_op_mode *op_mode,\n\t\t\t\t\t  int queue)\n{\n\top_mode->ops->queue_full(op_mode, queue);\n}\n\nstatic inline void iwl_op_mode_queue_not_full(struct iwl_op_mode *op_mode,\n\t\t\t\t\t      int queue)\n{\n\top_mode->ops->queue_not_full(op_mode, queue);\n}\n\nstatic inline bool __must_check\niwl_op_mode_hw_rf_kill(struct iwl_op_mode *op_mode, bool state)\n{\n\tmight_sleep();\n\treturn op_mode->ops->hw_rf_kill(op_mode, state);\n}\n\nstatic inline void iwl_op_mode_free_skb(struct iwl_op_mode *op_mode,\n\t\t\t\t\tstruct sk_buff *skb)\n{\n\tif (WARN_ON_ONCE(!op_mode))\n\t\treturn;\n\top_mode->ops->free_skb(op_mode, skb);\n}\n\nstatic inline void iwl_op_mode_nic_error(struct iwl_op_mode *op_mode, bool sync)\n{\n\top_mode->ops->nic_error(op_mode, sync);\n}\n\nstatic inline void iwl_op_mode_cmd_queue_full(struct iwl_op_mode *op_mode)\n{\n\top_mode->ops->cmd_queue_full(op_mode);\n}\n\nstatic inline void iwl_op_mode_nic_config(struct iwl_op_mode *op_mode)\n{\n\tmight_sleep();\n\top_mode->ops->nic_config(op_mode);\n}\n\nstatic inline void iwl_op_mode_wimax_active(struct iwl_op_mode *op_mode)\n{\n\tmight_sleep();\n\top_mode->ops->wimax_active(op_mode);\n}\n\nstatic inline void iwl_op_mode_time_point(struct iwl_op_mode *op_mode,\n\t\t\t\t\t  enum iwl_fw_ini_time_point tp_id,\n\t\t\t\t\t  union iwl_dbg_tlv_tp_data *tp_data)\n{\n\tif (!op_mode || !op_mode->ops || !op_mode->ops->time_point)\n\t\treturn;\n\top_mode->ops->time_point(op_mode, tp_id, tp_data);\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}