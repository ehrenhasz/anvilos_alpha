{
  "module_name": "iwl-debug.c",
  "hash_id": "26d6fbd23ff58f5eb15925fcd078d670ff93ef1c43b433d88099d5c7aca7a23a",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/intel/iwlwifi/iwl-debug.c",
  "human_readable_source": "\n \n#include <linux/device.h>\n#include <linux/interrupt.h>\n#include <linux/export.h>\n#include \"iwl-drv.h\"\n#include \"iwl-debug.h\"\n#include \"iwl-devtrace.h\"\n\n#define __iwl_fn(fn)\t\t\t\t\t\t\\\nvoid __iwl_ ##fn(struct device *dev, const char *fmt, ...)\t\\\n{\t\t\t\t\t\t\t\t\\\n\tstruct va_format vaf = {\t\t\t\t\\\n\t\t.fmt = fmt,\t\t\t\t\t\\\n\t};\t\t\t\t\t\t\t\\\n\tva_list args;\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\\\n\tva_start(args, fmt);\t\t\t\t\t\\\n\tvaf.va = &args;\t\t\t\t\t\t\\\n\tdev_ ##fn(dev, \"%pV\", &vaf);\t\t\t\t\\\n\ttrace_iwlwifi_ ##fn(&vaf);\t\t\t\t\\\n\tva_end(args);\t\t\t\t\t\t\\\n}\n\n__iwl_fn(warn)\nIWL_EXPORT_SYMBOL(__iwl_warn);\n__iwl_fn(info)\nIWL_EXPORT_SYMBOL(__iwl_info);\n__iwl_fn(crit)\nIWL_EXPORT_SYMBOL(__iwl_crit);\n\nvoid __iwl_err(struct device *dev, enum iwl_err_mode mode, const char *fmt, ...)\n{\n\tstruct va_format vaf = {\n\t\t.fmt = fmt,\n\t};\n\tva_list args, args2;\n\n\tva_start(args, fmt);\n\tswitch (mode) {\n\tcase IWL_ERR_MODE_RATELIMIT:\n\t\tif (net_ratelimit())\n\t\t\tbreak;\n\t\tfallthrough;\n\tcase IWL_ERR_MODE_REGULAR:\n\tcase IWL_ERR_MODE_RFKILL:\n\t\tva_copy(args2, args);\n\t\tvaf.va = &args2;\n\t\tif (mode == IWL_ERR_MODE_RFKILL)\n\t\t\tdev_err(dev, \"(RFKILL) %pV\", &vaf);\n\t\telse\n\t\t\tdev_err(dev, \"%pV\", &vaf);\n\t\tva_end(args2);\n\t\tbreak;\n\tdefault:\n\t\tbreak;\n\t}\n\tvaf.va = &args;\n\ttrace_iwlwifi_err(&vaf);\n\tva_end(args);\n}\nIWL_EXPORT_SYMBOL(__iwl_err);\n\n#if defined(CONFIG_IWLWIFI_DEBUG) || defined(CONFIG_IWLWIFI_DEVICE_TRACING)\nvoid __iwl_dbg(struct device *dev,\n\t       u32 level, bool limit, const char *function,\n\t       const char *fmt, ...)\n{\n\tstruct va_format vaf = {\n\t\t.fmt = fmt,\n\t};\n\tva_list args;\n\n\tva_start(args, fmt);\n\tvaf.va = &args;\n#ifdef CONFIG_IWLWIFI_DEBUG\n\tif (iwl_have_debug_level(level) &&\n\t    (!limit || net_ratelimit()))\n\t\tdev_printk(KERN_DEBUG, dev, \"%s %pV\", function, &vaf);\n#endif\n\ttrace_iwlwifi_dbg(level, function, &vaf);\n\tva_end(args);\n}\nIWL_EXPORT_SYMBOL(__iwl_dbg);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}