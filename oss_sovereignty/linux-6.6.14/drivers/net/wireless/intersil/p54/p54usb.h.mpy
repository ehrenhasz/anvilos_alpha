{
  "module_name": "p54usb.h",
  "hash_id": "4c3fc9bd6e932d2390fc2592a5b4ea495227976a5c5508d669e23f2233124c38",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/intersil/p54/p54usb.h",
  "human_readable_source": " \n#ifndef P54USB_H\n#define P54USB_H\n\n \n\n \n#include \"p54pci.h\"\n#include <linux/usb/net2280.h>\n\n \n#define NET2280_BASE\t\t0x10000000\n#define NET2280_BASE2\t\t0x20000000\n\n \n#define P54U_BRG_POWER_UP\t(1 << GPIO0_DATA)\n#define P54U_BRG_POWER_DOWN\t(1 << GPIO1_DATA)\n\n \n#define NET2280_CLK_4Mhz\t(15 << LOCAL_CLOCK_FREQUENCY)\n#define NET2280_CLK_30Mhz\t(2 << LOCAL_CLOCK_FREQUENCY)\n#define NET2280_CLK_60Mhz\t(1 << LOCAL_CLOCK_FREQUENCY)\n#define NET2280_CLK_STOP\t(0 << LOCAL_CLOCK_FREQUENCY)\n#define NET2280_PCI_ENABLE\t(1 << PCI_ENABLE)\n#define NET2280_PCI_SOFT_RESET\t(1 << PCI_SOFT_RESET)\n\n \n#define NET2280_CLEAR_NAK_OUT_PACKETS_MODE\t(1 << CLEAR_NAK_OUT_PACKETS_MODE)\n#define NET2280_FIFO_FLUSH\t\t\t(1 << FIFO_FLUSH)\n\n \n#define NET2280_USB_INTERRUPT_ENABLE\t\t(1 << USB_INTERRUPT_ENABLE)\n#define NET2280_PCI_INTA_INTERRUPT\t\t(1 << PCI_INTA_INTERRUPT)\n#define NET2280_PCI_INTA_INTERRUPT_ENABLE\t(1 << PCI_INTA_INTERRUPT_ENABLE)\n\n \n#define NET2280_DEVINIT\t\t0x00\n#define NET2280_USBIRQENB1\t0x24\n#define NET2280_IRQSTAT1\t0x2c\n#define NET2280_FIFOCTL         0x38\n#define NET2280_GPIOCTL\t\t0x50\n#define NET2280_RELNUM\t\t0x88\n#define NET2280_EPA_RSP\t\t0x324\n#define NET2280_EPA_STAT\t0x32c\n#define NET2280_EPB_STAT\t0x34c\n#define NET2280_EPC_RSP\t\t0x364\n#define NET2280_EPC_STAT\t0x36c\n#define NET2280_EPD_STAT\t0x38c\n\n#define NET2280_EPA_CFG     0x320\n#define NET2280_EPB_CFG     0x340\n#define NET2280_EPC_CFG     0x360\n#define NET2280_EPD_CFG     0x380\n#define NET2280_EPE_CFG     0x3A0\n#define NET2280_EPF_CFG     0x3C0\n#define P54U_DEV_BASE 0x40000000\n\nstruct net2280_tx_hdr {\n\t__le32 device_addr;\n\t__le16 len;\n\t__le16 follower;\t \n\tu8 padding[8];\n} __packed;\n\nstruct lm87_tx_hdr {\n\t__le32 device_addr;\n\t__le32 chksum;\n} __packed;\n\n \n#define ISL38XX_DMA_STATUS_DONE\t\t\t0x00000001\n#define ISL38XX_DMA_STATUS_READY\t\t0x00000002\n#define NET2280_EPA_FIFO_PCI_ADDR\t\t0x20000000\n#define ISL38XX_DMA_MASTER_CONTROL_TRIGGER\t0x00000004\n\nenum net2280_op_type {\n\tNET2280_BRG_U32\t\t= 0x001F,\n\tNET2280_BRG_CFG_U32\t= 0x000F,\n\tNET2280_BRG_CFG_U16\t= 0x0003,\n\tNET2280_DEV_U32\t\t= 0x080F,\n\tNET2280_DEV_CFG_U32\t= 0x088F,\n\tNET2280_DEV_CFG_U16\t= 0x0883\n};\n\nstruct net2280_reg_write {\n\t__le16 port;\n\t__le32 addr;\n\t__le32 val;\n} __packed;\n\nstruct net2280_reg_read {\n\t__le16 port;\n\t__le32 addr;\n} __packed;\n\n#define P54U_FW_BLOCK 2048\n\n#define X2_SIGNATURE \"x2  \"\n#define X2_SIGNATURE_SIZE 4\n\nstruct x2_header {\n\tu8 signature[X2_SIGNATURE_SIZE];\n\t__le32 fw_load_addr;\n\t__le32 fw_length;\n\t__le32 crc;\n} __packed;\n\n \n#define P54U_PIPE_NUMBER 9\n\nenum p54u_pipe_addr {\n        P54U_PIPE_DATA = 0x01,\n        P54U_PIPE_MGMT = 0x02,\n        P54U_PIPE_3 = 0x03,\n        P54U_PIPE_4 = 0x04,\n        P54U_PIPE_BRG = 0x0d,\n        P54U_PIPE_DEV = 0x0e,\n        P54U_PIPE_INT = 0x0f\n};\n\nstruct p54u_rx_info {\n\tstruct urb *urb;\n\tstruct ieee80211_hw *dev;\n};\n\nenum p54u_hw_type {\n\tP54U_INVALID_HW,\n\tP54U_NET2280,\n\tP54U_3887,\n\n\t \n\t__NUM_P54U_HWTYPES,\n};\n\nstruct p54u_priv {\n\tstruct p54_common common;\n\tstruct usb_device *udev;\n\tstruct usb_interface *intf;\n\tint (*upload_fw)(struct ieee80211_hw *dev);\n\n\tenum p54u_hw_type hw_type;\n\tspinlock_t lock;\n\tstruct sk_buff_head rx_queue;\n\tstruct usb_anchor submitted;\n\tconst struct firmware *fw;\n\n\t \n\tstruct completion fw_wait_load;\n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}