{
  "module_name": "if_usb.h",
  "hash_id": "54afed6a48509a5b6fbe3632486b96ce550a2e915b406bf1c8cdbf272defad2d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/marvell/libertas_tf/if_usb.h",
  "human_readable_source": " \n \n#include <linux/wait.h>\n#include <linux/timer.h>\n\nstruct lbtf_private;\n\n \n#define CMD_TYPE_REQUEST\t\t0xF00DFACE\n#define CMD_TYPE_DATA\t\t\t0xBEADC0DE\n#define CMD_TYPE_INDICATION\t\t0xBEEFFACE\n\n#define BOOT_CMD_FW_BY_USB\t\t0x01\n#define BOOT_CMD_FW_IN_EEPROM\t\t0x02\n#define BOOT_CMD_UPDATE_BOOT2\t\t0x03\n#define BOOT_CMD_UPDATE_FW\t\t0x04\n#define BOOT_CMD_MAGIC_NUMBER\t\t0x4C56524D    \n\nstruct bootcmd {\n\t__le32\tmagic;\n\tuint8_t\tcmd;\n\tuint8_t\tpad[11];\n};\n\n#define BOOT_CMD_RESP_OK\t\t0x0001\n#define BOOT_CMD_RESP_FAIL\t\t0x0000\n\nstruct bootcmdresp {\n\t__le32\tmagic;\n\tuint8_t\tcmd;\n\tuint8_t\tresult;\n\tuint8_t\tpad[2];\n};\n\n \nstruct if_usb_card {\n\tstruct usb_device *udev;\n\tstruct urb *rx_urb, *tx_urb, *cmd_urb;\n\tstruct lbtf_private *priv;\n\n\tstruct sk_buff *rx_skb;\n\n\tuint8_t ep_in;\n\tuint8_t ep_out;\n\n\tint8_t bootcmdresp;\n\n\tint ep_in_size;\n\n\tvoid *ep_out_buf;\n\tint ep_out_size;\n\n\tconst struct firmware *fw;\n\tstruct timer_list fw_timeout;\n\twait_queue_head_t fw_wq;\n\tuint32_t fwseqnum;\n\tuint32_t totalbytes;\n\tuint32_t fwlastblksent;\n\tuint8_t CRC_OK;\n\tuint8_t fwdnldover;\n\tuint8_t fwfinalblk;\n\n\t__le16 boot2_version;\n};\n\n \nstruct fwheader {\n\t__le32 dnldcmd;\n\t__le32 baseaddr;\n\t__le32 datalength;\n\t__le32 CRC;\n};\n\n#define FW_MAX_DATA_BLK_SIZE\t600\n \nstruct fwdata {\n\tstruct fwheader hdr;\n\t__le32 seqnum;\n\tuint8_t data[];\n};\n\n \nstruct fwsyncheader {\n\t__le32 cmd;\n\t__le32 seqnum;\n};\n\n#define FW_HAS_DATA_TO_RECV\t\t0x00000001\n#define FW_HAS_LAST_BLOCK\t\t0x00000004\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}