{
  "module_name": "dev.h",
  "hash_id": "f9d7fe959dc2089b82729109782db4e1cd200a6793328e31532a37c5693ce42b",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/marvell/libertas/dev.h",
  "human_readable_source": " \n \n#ifndef _LBS_DEV_H_\n#define _LBS_DEV_H_\n\n#include \"defs.h\"\n#include \"decl.h\"\n#include \"host.h\"\n\n#include <linux/kfifo.h>\n\n \nstruct sleep_params {\n\tuint16_t sp_error;\n\tuint16_t sp_offset;\n\tuint16_t sp_stabletime;\n\tuint8_t  sp_calcontrol;\n\tuint8_t  sp_extsleepclk;\n\tuint16_t sp_reserved;\n};\n\n \nstruct lbs_mesh_stats {\n\tu32\tfwd_bcast_cnt;\t\t \n\tu32\tfwd_unicast_cnt;\t \n\tu32\tfwd_drop_ttl;\t\t \n\tu32\tfwd_drop_rbt;\t\t \n\tu32\tfwd_drop_noroute; \t \n\tu32\tfwd_drop_nobuf;\t\t \n\tu32\tdrop_blind;\t\t \n\tu32\ttx_failed_cnt;\t\t \n};\n\n \nstruct lbs_private {\n\n\t \n\tstruct net_device *dev;\n\tu32 connect_status;\n\tstruct work_struct mcast_work;\n\tu32 nr_of_multicastmacaddr;\n\tu8 multicastlist[MRVDRV_MAX_MULTICAST_LIST_SIZE][ETH_ALEN];\n\n\t \n\tstruct wireless_dev *wdev;\n\tbool wiphy_registered;\n\tstruct cfg80211_scan_request *scan_req;\n\tu8 assoc_bss[ETH_ALEN];\n\tu8 country_code[IEEE80211_COUNTRY_STRING_LEN];\n\tu8 disassoc_reason;\n\n\t \n\tstruct net_device *mesh_dev;  \n#ifdef CONFIG_LIBERTAS_MESH\n\tstruct lbs_mesh_stats mstats;\n\tuint16_t mesh_tlv;\n\tu8 mesh_channel;\n#endif\n\n\t \n\tstruct dentry *debugfs_dir;\n\tstruct dentry *debugfs_debug;\n\tstruct dentry *debugfs_files[6];\n\tstruct dentry *events_dir;\n\tstruct dentry *debugfs_events_files[6];\n\tstruct dentry *regs_dir;\n\tstruct dentry *debugfs_regs_files[6];\n\n\t \n\tu32 mac_offset;\n\tu32 bbp_offset;\n\tu32 rf_offset;\n\n\t \n\tu16 psmode;\n\tu32 psstate;\n\tu8 needtowakeup;\n\n\t \n\tint is_deep_sleep;\n\tint deep_sleep_required;\n\tint is_auto_deep_sleep_enabled;\n\tint wakeup_dev_required;\n\tint is_activity_detected;\n\tint auto_deep_sleep_timeout;  \n\twait_queue_head_t ds_awake_q;\n\tstruct timer_list auto_deepsleep_timer;\n\n\t \n\tint is_host_sleep_configured;\n\tint is_host_sleep_activated;\n\twait_queue_head_t host_sleep_q;\n\n\t \n\tvoid *card;\n\tbool iface_running;\n\tu8 is_polling;  \n\tu8 fw_ready;\n\tu8 surpriseremoved;\n\tu8 setup_fw_on_resume;\n\tu8 power_up_on_resume;\n\tint (*hw_host_to_card) (struct lbs_private *priv, u8 type, u8 *payload, u16 nb);\n\tvoid (*reset_card) (struct lbs_private *priv);\n\tint (*power_save) (struct lbs_private *priv);\n\tint (*power_restore) (struct lbs_private *priv);\n\tint (*enter_deep_sleep) (struct lbs_private *priv);\n\tint (*exit_deep_sleep) (struct lbs_private *priv);\n\tint (*reset_deep_sleep_wakeup) (struct lbs_private *priv);\n\n\t \n\tu32 fwrelease;\n\tu32 fwcapinfo;\n\tu16 regioncode;\n\tu8 current_addr[ETH_ALEN];\n\tu8 copied_hwaddr;\n\n\t \n\tu8 dnld_sent;\n\t \n\tu16 seqnum;\n\tstruct cmd_ctrl_node *cmd_array;\n\tstruct cmd_ctrl_node *cur_cmd;\n\tstruct list_head cmdfreeq;     \n\tstruct list_head cmdpendingq;  \n\tstruct timer_list command_timer;\n\tint cmd_timed_out;\n\n\t \n\tu8 resp_idx;\n\tu8 resp_buf[2][LBS_UPLD_SIZE];\n\tu32 resp_len[2];\n\n\t \n\tstruct kfifo event_fifo;\n\n\t \n\tstruct task_struct *main_thread;\n\twait_queue_head_t waitq;\n\tstruct workqueue_struct *work_thread;\n\n\t \n\tu8 authtype_auto;\n\tu8 wep_tx_key;\n\tu8 wep_key[4][WLAN_KEY_LEN_WEP104];\n\tu8 wep_key_len[4];\n\n\t \n\tuint32_t wol_criteria;\n\tuint8_t wol_gpio;\n\tuint8_t wol_gap;\n\tbool ehs_remove_supported;\n\n\t \n\tint tx_pending_len;\t\t \n\tu8 tx_pending_buf[LBS_UPLD_SIZE];\n\t \n\tu8 txretrycount;\n\tstruct sk_buff *currenttxskb;\n\tstruct timer_list tx_lockup_timer;\n\n\t \n\tstruct mutex lock;\n\tspinlock_t driver_lock;\n\n\t \n\tu16 mac_control;\n\tu8 radio_on;\n\tu8 cur_rate;\n\tu8 channel;\n\ts16 txpower_cur;\n\ts16 txpower_min;\n\ts16 txpower_max;\n\n\t \n\tstruct delayed_work scan_work;\n\tint scan_channel;\n\t \n\twait_queue_head_t scan_q;\n\t \n\tbool internal_scan;\n\n\t \n\tu32 fw_model;\n\twait_queue_head_t fw_waitq;\n\tstruct device *fw_device;\n\tconst struct firmware *helper_fw;\n\tconst struct lbs_fw_table *fw_table;\n\tconst struct lbs_fw_table *fw_iter;\n\tlbs_fw_cb fw_callback;\n};\n\nextern struct cmd_confirm_sleep confirm_sleep;\n\n \nstatic inline int lbs_iface_active(struct lbs_private *priv)\n{\n\tint r;\n\n\tr = netif_running(priv->dev);\n\tif (priv->mesh_dev)\n\t\tr |= netif_running(priv->mesh_dev);\n\n\treturn r;\n}\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}