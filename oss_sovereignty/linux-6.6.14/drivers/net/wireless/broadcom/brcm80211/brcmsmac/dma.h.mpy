{
  "module_name": "dma.h",
  "hash_id": "0230599110399d7ddad0c606e4f29a81bce8fb42f46f3de654a4e8362c07bab0",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/broadcom/brcm80211/brcmsmac/dma.h",
  "human_readable_source": " \n\n#ifndef\t_BRCM_DMA_H_\n#define\t_BRCM_DMA_H_\n\n#include <linux/delay.h>\n#include <linux/skbuff.h>\n#include \"types.h\"\t\t \n\n \n#define\tDMA_TX\t1\t\t \n#define\tDMA_RX\t2\t\t \n\n \n\n \n\nstruct dma32diag {\t \n\tu32 fifoaddr;\t \n\tu32 fifodatalow;\t \n\tu32 fifodatahigh;\t \n\tu32 pad;\t\t \n};\n\n \n\n \nstruct dma64regs {\n\tu32 control;\t \n\tu32 ptr;\t \n\tu32 addrlow;\t \n\tu32 addrhigh;\t \n\tu32 status0;\t \n\tu32 status1;\t \n};\n\n \nenum txd_range {\n\tDMA_RANGE_ALL = 1,\n\tDMA_RANGE_TRANSMITTED,\n\tDMA_RANGE_TRANSFERED\n};\n\n \n \nstruct dma_pub {\n\tuint txavail;\t\t \n\tuint dmactrlflags;\t \n\n\t \n\tuint rxgiants;\t\t \n\tuint rxnobuf;\t\t \n\t \n\tuint txnobuf;\t\t \n};\n\nextern struct dma_pub *dma_attach(char *name, struct brcms_c_info *wlc,\n\t\t\t\t  uint txregbase, uint rxregbase,\n\t\t\t\t  uint ntxd, uint nrxd,\n\t\t\t\t  uint rxbufsize, int rxextheadroom,\n\t\t\t\t  uint nrxpost, uint rxoffset);\n\nvoid dma_rxinit(struct dma_pub *pub);\nint dma_rx(struct dma_pub *pub, struct sk_buff_head *skb_list);\nbool dma_rxfill(struct dma_pub *pub);\nbool dma_rxreset(struct dma_pub *pub);\nbool dma_txreset(struct dma_pub *pub);\nvoid dma_txinit(struct dma_pub *pub);\nint dma_txfast(struct brcms_c_info *wlc, struct dma_pub *pub,\n\t       struct sk_buff *p0);\nvoid dma_txflush(struct dma_pub *pub);\nint dma_txpending(struct dma_pub *pub);\nvoid dma_kick_tx(struct dma_pub *pub);\nvoid dma_txsuspend(struct dma_pub *pub);\nbool dma_txsuspended(struct dma_pub *pub);\nvoid dma_txresume(struct dma_pub *pub);\nvoid dma_txreclaim(struct dma_pub *pub, enum txd_range range);\nvoid dma_rxreclaim(struct dma_pub *pub);\nvoid dma_detach(struct dma_pub *pub);\nunsigned long dma_getvar(struct dma_pub *pub, const char *name);\nstruct sk_buff *dma_getnexttxp(struct dma_pub *pub, enum txd_range range);\nvoid dma_counterreset(struct dma_pub *pub);\n\nvoid dma_walk_packets(struct dma_pub *dmah, void (*callback_fnc)\n\t\t      (void *pkt, void *arg_a), void *arg_a);\n\n \nstatic inline void dma_spin_for_len(uint len, struct sk_buff *head)\n{\n#if defined(CONFIG_BCM47XX)\n\tif (!len) {\n\t\twhile (!(len = *(u16 *) KSEG1ADDR(head->data)))\n\t\t\tudelay(1);\n\n\t\t*(u16 *) (head->data) = cpu_to_le16((u16) len);\n\t}\n#endif\t\t\t\t \n}\n\n#endif\t\t\t\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}