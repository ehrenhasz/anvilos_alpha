{
  "module_name": "tracepoint.h",
  "hash_id": "29f3fb3f24048d31c979aacccc65c60b147fc4aa0d347b34548315f6d61c00f2",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/broadcom/brcm80211/brcmfmac/tracepoint.h",
  "human_readable_source": "\n \n#if !defined(BRCMF_TRACEPOINT_H_) || defined(TRACE_HEADER_MULTI_READ)\n#define BRCMF_TRACEPOINT_H_\n\n#include <linux/types.h>\n#include <linux/tracepoint.h>\n\n#ifndef CONFIG_BRCM_TRACING\n\n#undef TRACE_EVENT\n#define TRACE_EVENT(name, proto, ...) \\\nstatic inline void trace_ ## name(proto) {}\n\n#undef DECLARE_EVENT_CLASS\n#define DECLARE_EVENT_CLASS(...)\n\n#undef DEFINE_EVENT\n#define DEFINE_EVENT(evt_class, name, proto, ...) \\\nstatic inline void trace_ ## name(proto) {}\n\n#endif  \n\n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM\tbrcmfmac\n\n#define MAX_MSG_LEN\t\t100\n\n#pragma GCC diagnostic push\n#ifndef __clang__\n#pragma GCC diagnostic ignored \"-Wsuggest-attribute=format\"\n#endif\n\nTRACE_EVENT(brcmf_err,\n\tTP_PROTO(const char *func, struct va_format *vaf),\n\tTP_ARGS(func, vaf),\n\tTP_STRUCT__entry(\n\t\t__string(func, func)\n\t\t__vstring(msg, vaf->fmt, vaf->va)\n\t),\n\tTP_fast_assign(\n\t\t__assign_str(func, func);\n\t\t__assign_vstr(msg, vaf->fmt, vaf->va);\n\t),\n\tTP_printk(\"%s: %s\", __get_str(func), __get_str(msg))\n);\n\nTRACE_EVENT(brcmf_dbg,\n\tTP_PROTO(u32 level, const char *func, struct va_format *vaf),\n\tTP_ARGS(level, func, vaf),\n\tTP_STRUCT__entry(\n\t\t__field(u32, level)\n\t\t__string(func, func)\n\t\t__vstring(msg, vaf->fmt, vaf->va)\n\t),\n\tTP_fast_assign(\n\t\t__entry->level = level;\n\t\t__assign_str(func, func);\n\t\t__assign_vstr(msg, vaf->fmt, vaf->va);\n\t),\n\tTP_printk(\"%s: %s\", __get_str(func), __get_str(msg))\n);\n\nTRACE_EVENT(brcmf_hexdump,\n\tTP_PROTO(void *data, size_t len),\n\tTP_ARGS(data, len),\n\tTP_STRUCT__entry(\n\t\t__field(unsigned long, len)\n\t\t__field(unsigned long, addr)\n\t\t__dynamic_array(u8, hdata, len)\n\t),\n\tTP_fast_assign(\n\t\t__entry->len = len;\n\t\t__entry->addr = (unsigned long)data;\n\t\tmemcpy(__get_dynamic_array(hdata), data, len);\n\t),\n\tTP_printk(\"hexdump [addr=%lx, length=%lu]\", __entry->addr, __entry->len)\n);\n\nTRACE_EVENT(brcmf_bcdchdr,\n\tTP_PROTO(void *data),\n\tTP_ARGS(data),\n\tTP_STRUCT__entry(\n\t\t__field(u8, flags)\n\t\t__field(u8, prio)\n\t\t__field(u8, flags2)\n\t\t__field(u32, siglen)\n\t\t__dynamic_array(u8, signal, *((u8 *)data + 3) * 4)\n\t),\n\tTP_fast_assign(\n\t\t__entry->flags = *(u8 *)data;\n\t\t__entry->prio = *((u8 *)data + 1);\n\t\t__entry->flags2 = *((u8 *)data + 2);\n\t\t__entry->siglen = *((u8 *)data + 3) * 4;\n\t\tmemcpy(__get_dynamic_array(signal),\n\t\t       (u8 *)data + 4, __entry->siglen);\n\t),\n\tTP_printk(\"bcdc: prio=%d siglen=%d\", __entry->prio, __entry->siglen)\n);\n\n#ifndef SDPCM_RX\n#define SDPCM_RX\t0\n#endif\n#ifndef SDPCM_TX\n#define SDPCM_TX\t1\n#endif\n#ifndef SDPCM_GLOM\n#define SDPCM_GLOM\t2\n#endif\n\nTRACE_EVENT(brcmf_sdpcm_hdr,\n\tTP_PROTO(u8 dir, void *data),\n\tTP_ARGS(dir, data),\n\tTP_STRUCT__entry(\n\t\t__field(u8, dir)\n\t\t__field(u16, len)\n\t\t__dynamic_array(u8, hdr, dir == SDPCM_GLOM ? 20 : 12)\n\t),\n\tTP_fast_assign(\n\t\tmemcpy(__get_dynamic_array(hdr), data, dir == SDPCM_GLOM ? 20 : 12);\n\t\t__entry->len = *(u8 *)data | (*((u8 *)data + 1) << 8);\n\t\t__entry->dir = dir;\n\t),\n\tTP_printk(\"sdpcm: %s len %u, seq %d\",\n\t\t  __entry->dir == SDPCM_RX ? \"RX\" : \"TX\",\n\t\t  __entry->len, ((u8 *)__get_dynamic_array(hdr))[4])\n);\n\n#pragma GCC diagnostic pop\n\n#ifdef CONFIG_BRCM_TRACING\n\n#undef TRACE_INCLUDE_PATH\n#define TRACE_INCLUDE_PATH .\n#undef TRACE_INCLUDE_FILE\n#define TRACE_INCLUDE_FILE tracepoint\n\n#include <trace/define_trace.h>\n\n#endif  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}