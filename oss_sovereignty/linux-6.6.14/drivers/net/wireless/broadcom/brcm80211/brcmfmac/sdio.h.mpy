{
  "module_name": "sdio.h",
  "hash_id": "c925cb29acf44bbac541ef34656bad9f2e17951fb486bb7cfef60ff85c3e114d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/broadcom/brcm80211/brcmfmac/sdio.h",
  "human_readable_source": "\n \n\n#ifndef\tBRCMFMAC_SDIO_H\n#define\tBRCMFMAC_SDIO_H\n\n#include <linux/skbuff.h>\n#include <linux/firmware.h>\n#include \"firmware.h\"\n\n#define SDIOD_FBR_SIZE\t\t0x100\n\n \n#define SDIO_FUNC_ENABLE_1\t0x02\n#define SDIO_FUNC_ENABLE_2\t0x04\n\n \n#define SDIO_FUNC_READY_1\t0x02\n#define SDIO_FUNC_READY_2\t0x04\n\n \n#define INTR_STATUS_FUNC1\t0x2\n#define INTR_STATUS_FUNC2\t0x4\n\n \n#define REG_F0_REG_MASK\t\t0x7FF\n#define REG_F1_MISC_MASK\t0x1FFFF\n\n \n\n#define SDIO_CCCR_BRCM_CARDCAP\t\t\t0xf0\n#define SDIO_CCCR_BRCM_CARDCAP_CMD14_SUPPORT\tBIT(1)\n#define SDIO_CCCR_BRCM_CARDCAP_CMD14_EXT\tBIT(2)\n#define SDIO_CCCR_BRCM_CARDCAP_CMD_NODEC\tBIT(3)\n\n \n#define SDIO_CCCR_IEN_FUNC0\t\t\tBIT(0)\n#define SDIO_CCCR_IEN_FUNC1\t\t\tBIT(1)\n#define SDIO_CCCR_IEN_FUNC2\t\t\tBIT(2)\n\n#define SDIO_CCCR_BRCM_CARDCTRL\t\t\t0xf1\n#define SDIO_CCCR_BRCM_CARDCTRL_WLANRESET\tBIT(1)\n\n#define SDIO_CCCR_BRCM_SEPINT\t\t\t0xf2\n#define SDIO_CCCR_BRCM_SEPINT_MASK\t\tBIT(0)\n#define SDIO_CCCR_BRCM_SEPINT_OE\t\tBIT(1)\n#define SDIO_CCCR_BRCM_SEPINT_ACT_HI\t\tBIT(2)\n\n \n\n \n#define SBSDIO_SPROM_CS\t\t\t0x10000\n \n#define SBSDIO_SPROM_INFO\t\t0x10001\n \n#define SBSDIO_SPROM_DATA_LOW\t\t0x10002\n \n#define SBSDIO_SPROM_DATA_HIGH\t\t0x10003\n \n#define SBSDIO_SPROM_ADDR_LOW\t\t0x10004\n \n#define SBSDIO_GPIO_SELECT\t\t0x10005\n \n#define SBSDIO_GPIO_OUT\t\t\t0x10006\n \n#define SBSDIO_GPIO_EN\t\t\t0x10007\n \n#define SBSDIO_WATERMARK\t\t0x10008\n \n#define SBSDIO_DEVICE_CTL\t\t0x10009\n\n \n#define SBSDIO_FUNC1_SBADDRLOW\t\t0x1000A\n \n#define SBSDIO_FUNC1_SBADDRMID\t\t0x1000B\n \n#define SBSDIO_FUNC1_SBADDRHIGH\t\t0x1000C\n \n#define SBSDIO_FUNC1_FRAMECTRL\t\t0x1000D\n \n#define SBSDIO_FUNC1_CHIPCLKCSR\t\t0x1000E\n \n#define SBSDIO_FUNC1_SDIOPULLUP\t\t0x1000F\n \n#define SBSDIO_FUNC1_WFRAMEBCLO\t\t0x10019\n \n#define SBSDIO_FUNC1_WFRAMEBCHI\t\t0x1001A\n \n#define SBSDIO_FUNC1_RFRAMEBCLO\t\t0x1001B\n \n#define SBSDIO_FUNC1_RFRAMEBCHI\t\t0x1001C\n \n#define SBSDIO_FUNC1_MESBUSYCTRL\t0x1001D\n \n#define SBSDIO_MESBUSY_RXFIFO_WM_MASK\t0x7F\n#define SBSDIO_MESBUSY_RXFIFO_WM_SHIFT\t0\n \n#define SBSDIO_MESBUSYCTRL_ENAB\t\t0x80\n#define SBSDIO_MESBUSYCTRL_ENAB_SHIFT\t7\n\n \n#define SBSDIO_FUNC1_WAKEUPCTRL\t\t0x1001E\n#define SBSDIO_FUNC1_WCTRL_ALPWAIT_MASK\t\t0x1\n#define SBSDIO_FUNC1_WCTRL_ALPWAIT_SHIFT\t0\n#define SBSDIO_FUNC1_WCTRL_HTWAIT_MASK\t\t0x2\n#define SBSDIO_FUNC1_WCTRL_HTWAIT_SHIFT\t\t1\n#define SBSDIO_FUNC1_SLEEPCSR\t\t0x1001F\n#define SBSDIO_FUNC1_SLEEPCSR_KSO_MASK\t\t0x1\n#define SBSDIO_FUNC1_SLEEPCSR_KSO_SHIFT\t\t0\n#define SBSDIO_FUNC1_SLEEPCSR_KSO_EN\t\t1\n#define SBSDIO_FUNC1_SLEEPCSR_DEVON_MASK\t0x2\n#define SBSDIO_FUNC1_SLEEPCSR_DEVON_SHIFT\t1\n\n#define SBSDIO_FUNC1_MISC_REG_START\t0x10000\t \n#define SBSDIO_FUNC1_MISC_REG_LIMIT\t0x1001F\t \n\n \n\n \n#define SBSDIO_SB_OFT_ADDR_MASK\t\t0x07FFF\n#define SBSDIO_SB_OFT_ADDR_LIMIT\t0x08000\n \n#define SBSDIO_SB_ACCESS_2_4B_FLAG\t0x08000\n\n \n#define SBSDIO_SBWINDOW_MASK\t\t0xffff8000\n\n#define SDIOH_READ              0\t \n#define SDIOH_WRITE             1\t \n\n#define SDIOH_DATA_FIX          0\t \n#define SDIOH_DATA_INC          1\t \n\n \n#define SUCCESS\t0\n#define ERROR\t1\n\n \n#define BRCMF_SDALIGN\t(1 << 6)\n\n \n#define BRCMF_WD_POLL\tmsecs_to_jiffies(10)\n\n \nenum brcmf_sdiod_state {\n\tBRCMF_SDIOD_DOWN,\n\tBRCMF_SDIOD_DATA,\n\tBRCMF_SDIOD_NOMEDIUM\n};\n\nstruct brcmf_sdreg {\n\tint func;\n\tint offset;\n\tint value;\n};\n\nstruct brcmf_sdio;\nstruct brcmf_sdiod_freezer;\n\nstruct brcmf_sdio_dev {\n\tstruct sdio_func *func1;\n\tstruct sdio_func *func2;\n\tu32 sbwad;\t\t\t \n\tstruct brcmf_core *cc_core;\t \n\tstruct brcmf_sdio *bus;\n\tstruct device *dev;\n\tstruct brcmf_bus *bus_if;\n\tstruct brcmf_mp_device *settings;\n\tbool oob_irq_requested;\n\tbool sd_irq_requested;\n\tbool irq_en;\t\t\t \n\tspinlock_t irq_en_lock;\n\tbool sg_support;\n\tuint max_request_size;\n\tushort max_segment_count;\n\tuint max_segment_size;\n\tuint txglomsz;\n\tstruct sg_table sgtable;\n\tchar fw_name[BRCMF_FW_NAME_LEN];\n\tchar nvram_name[BRCMF_FW_NAME_LEN];\n\tchar clm_name[BRCMF_FW_NAME_LEN];\n\tbool wowl_enabled;\n\tbool func1_power_manageable;\n\tbool func2_power_manageable;\n\tenum brcmf_sdiod_state state;\n\tstruct brcmf_sdiod_freezer *freezer;\n\tconst struct firmware *clm_fw;\n};\n\n \nstruct sdpcmd_regs {\n\tu32 corecontrol;\t\t \n\tu32 corestatus;\t\t\t \n\tu32 PAD[1];\n\tu32 biststatus;\t\t\t \n\n\t \n\tu16 pcmciamesportaladdr;\t \n\tu16 PAD[1];\n\tu16 pcmciamesportalmask;\t \n\tu16 PAD[1];\n\tu16 pcmciawrframebc;\t\t \n\tu16 PAD[1];\n\tu16 pcmciaunderflowtimer;\t \n\tu16 PAD[1];\n\n\t \n\tu32 intstatus;\t\t\t \n\tu32 hostintmask;\t\t \n\tu32 intmask;\t\t\t \n\tu32 sbintstatus;\t\t \n\tu32 sbintmask;\t\t\t \n\tu32 funcintmask;\t\t \n\tu32 PAD[2];\n\tu32 tosbmailbox;\t\t \n\tu32 tohostmailbox;\t\t \n\tu32 tosbmailboxdata;\t\t \n\tu32 tohostmailboxdata;\t\t \n\n\t \n\tu32 sdioaccess;\t\t\t \n\tu32 PAD[3];\n\n\t \n\tu8 pcmciaframectrl;\t\t \n\tu8 PAD[3];\n\tu8 pcmciawatermark;\t\t \n\tu8 PAD[155];\n\n\t \n\tu32 intrcvlazy;\t\t\t \n\tu32 PAD[3];\n\n\t \n\tu32 cmd52rd;\t\t\t \n\tu32 cmd52wr;\t\t\t \n\tu32 cmd53rd;\t\t\t \n\tu32 cmd53wr;\t\t\t \n\tu32 abort;\t\t\t \n\tu32 datacrcerror;\t\t \n\tu32 rdoutofsync;\t\t \n\tu32 wroutofsync;\t\t \n\tu32 writebusy;\t\t\t \n\tu32 readwait;\t\t\t \n\tu32 readterm;\t\t\t \n\tu32 writeterm;\t\t\t \n\tu32 PAD[40];\n\tu32 clockctlstatus;\t\t \n\tu32 PAD[7];\n\n\tu32 PAD[128];\t\t\t \n\n\t \n\tchar cis[512];\t\t\t \n\n\t \n\tchar pcmciafcr[256];\t\t \n\tu16 PAD[55];\n\n\t \n\tu16 backplanecsr;\t\t \n\tu16 backplaneaddr0;\t\t \n\tu16 backplaneaddr1;\t\t \n\tu16 backplaneaddr2;\t\t \n\tu16 backplaneaddr3;\t\t \n\tu16 backplanedata0;\t\t \n\tu16 backplanedata1;\t\t \n\tu16 backplanedata2;\t\t \n\tu16 backplanedata3;\t\t \n\tu16 PAD[31];\n\n\t \n\tu16 spromstatus;\t\t \n\tu32 PAD[464];\n\n\tu16 PAD[0x80];\n};\n\n \nint brcmf_sdiod_intr_register(struct brcmf_sdio_dev *sdiodev);\nvoid brcmf_sdiod_intr_unregister(struct brcmf_sdio_dev *sdiodev);\n\n \n \n#define brcmf_sdiod_func0_rb(sdiodev, addr, r) \\\n\tsdio_f0_readb((sdiodev)->func1, (addr), (r))\n\n#define brcmf_sdiod_func0_wb(sdiodev, addr, v, ret) \\\n\tsdio_f0_writeb((sdiodev)->func1, (v), (addr), (ret))\n\n \n#define brcmf_sdiod_readb(sdiodev, addr, r) \\\n\tsdio_readb((sdiodev)->func1, (addr), (r))\n\n#define brcmf_sdiod_writeb(sdiodev, addr, v, ret) \\\n\tsdio_writeb((sdiodev)->func1, (v), (addr), (ret))\n\nu32 brcmf_sdiod_readl(struct brcmf_sdio_dev *sdiodev, u32 addr, int *ret);\nvoid brcmf_sdiod_writel(struct brcmf_sdio_dev *sdiodev, u32 addr, u32 data,\n\t\t\tint *ret);\n\n \nint brcmf_sdiod_send_pkt(struct brcmf_sdio_dev *sdiodev,\n\t\t\t struct sk_buff_head *pktq);\nint brcmf_sdiod_send_buf(struct brcmf_sdio_dev *sdiodev, u8 *buf, uint nbytes);\n\nint brcmf_sdiod_recv_pkt(struct brcmf_sdio_dev *sdiodev, struct sk_buff *pkt);\nint brcmf_sdiod_recv_buf(struct brcmf_sdio_dev *sdiodev, u8 *buf, uint nbytes);\nint brcmf_sdiod_recv_chain(struct brcmf_sdio_dev *sdiodev,\n\t\t\t   struct sk_buff_head *pktq, uint totlen);\n\n \n\n \n#define SDIO_REQ_4BYTE\t0x1\n \n#define SDIO_REQ_FIXED\t0x2\n\n \nint brcmf_sdiod_ramrw(struct brcmf_sdio_dev *sdiodev, bool write, u32 address,\n\t\t      u8 *data, uint size);\n\n \nint brcmf_sdiod_abort(struct brcmf_sdio_dev *sdiodev, struct sdio_func *func);\n\nvoid brcmf_sdiod_sgtable_alloc(struct brcmf_sdio_dev *sdiodev);\nvoid brcmf_sdiod_change_state(struct brcmf_sdio_dev *sdiodev,\n\t\t\t      enum brcmf_sdiod_state state);\nbool brcmf_sdiod_freezing(struct brcmf_sdio_dev *sdiodev);\nvoid brcmf_sdiod_try_freeze(struct brcmf_sdio_dev *sdiodev);\nvoid brcmf_sdiod_freezer_count(struct brcmf_sdio_dev *sdiodev);\nvoid brcmf_sdiod_freezer_uncount(struct brcmf_sdio_dev *sdiodev);\n\nint brcmf_sdiod_probe(struct brcmf_sdio_dev *sdiodev);\nint brcmf_sdiod_remove(struct brcmf_sdio_dev *sdiodev);\n\nstruct brcmf_sdio *brcmf_sdio_probe(struct brcmf_sdio_dev *sdiodev);\nvoid brcmf_sdio_remove(struct brcmf_sdio *bus);\nvoid brcmf_sdio_isr(struct brcmf_sdio *bus, bool in_isr);\n\nvoid brcmf_sdio_wd_timer(struct brcmf_sdio *bus, bool active);\nvoid brcmf_sdio_wowl_config(struct device *dev, bool enabled);\nint brcmf_sdio_sleep(struct brcmf_sdio *bus, bool sleep);\nvoid brcmf_sdio_trigger_dpc(struct brcmf_sdio *bus);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}