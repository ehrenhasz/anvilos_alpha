{
  "module_name": "phy_common.h",
  "hash_id": "54c5b545009f92710c538bb069d6e065e00f78a26795b24ad2daf5fca21aec1f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/broadcom/b43/phy_common.h",
  "human_readable_source": " \n#ifndef LINUX_B43_PHY_COMMON_H_\n#define LINUX_B43_PHY_COMMON_H_\n\n#include <linux/types.h>\n#include <linux/nl80211.h>\n\nstruct b43_wldev;\n\n \n#define B43_PHYROUTE\t\t\t0x0C00  \n#define  B43_PHYROUTE_BASE\t\t0x0000  \n#define  B43_PHYROUTE_OFDM_GPHY\t\t0x0400  \n#define  B43_PHYROUTE_EXT_GPHY\t\t0x0800  \n#define  B43_PHYROUTE_N_BMODE\t\t0x0C00  \n\n \n#define B43_PHY_CCK(reg)\t\t((reg) | B43_PHYROUTE_BASE)\n \n#define B43_PHY_N(reg)\t\t\t((reg) | B43_PHYROUTE_BASE)\n \n#define B43_PHY_N_BMODE(reg)\t\t((reg) | B43_PHYROUTE_N_BMODE)\n \n#define B43_PHY_OFDM(reg)\t\t((reg) | B43_PHYROUTE_OFDM_GPHY)\n \n#define B43_PHY_EXTG(reg)\t\t((reg) | B43_PHYROUTE_EXT_GPHY)\n\n\n \n#define B43_PHYVER_ANALOG\t\t0xF000\n#define B43_PHYVER_ANALOG_SHIFT\t\t12\n#define B43_PHYVER_TYPE\t\t\t0x0F00\n#define B43_PHYVER_TYPE_SHIFT\t\t8\n#define B43_PHYVER_VERSION\t\t0x00FF\n\n \n#define B43_MAX_WRITES_IN_ROW\t\t24\n\n \nenum b43_interference_mitigation {\n\tB43_INTERFMODE_NONE,\n\tB43_INTERFMODE_NONWLAN,\n\tB43_INTERFMODE_MANUALWLAN,\n\tB43_INTERFMODE_AUTOWLAN,\n};\n\n \nenum {\n\tB43_ANTENNA0 = 0,\t \n\tB43_ANTENNA1 = 1,\t \n\tB43_ANTENNA_AUTO0 = 2,\t \n\tB43_ANTENNA_AUTO1 = 3,\t \n\tB43_ANTENNA2 = 4,\n\tB43_ANTENNA3 = 8,\n\n\tB43_ANTENNA_AUTO = B43_ANTENNA_AUTO0,\n\tB43_ANTENNA_DEFAULT = B43_ANTENNA_AUTO,\n};\n\n \nenum b43_txpwr_result {\n\tB43_TXPWR_RES_NEED_ADJUST,\n\tB43_TXPWR_RES_DONE,\n};\n\n \nstruct b43_phy_operations {\n\t \n\tint (*allocate)(struct b43_wldev *dev);\n\tvoid (*free)(struct b43_wldev *dev);\n\tvoid (*prepare_structs)(struct b43_wldev *dev);\n\tint (*prepare_hardware)(struct b43_wldev *dev);\n\tint (*init)(struct b43_wldev *dev);\n\tvoid (*exit)(struct b43_wldev *dev);\n\n\t \n\tu16 (*phy_read)(struct b43_wldev *dev, u16 reg);\n\tvoid (*phy_write)(struct b43_wldev *dev, u16 reg, u16 value);\n\tvoid (*phy_maskset)(struct b43_wldev *dev, u16 reg, u16 mask, u16 set);\n\tu16 (*radio_read)(struct b43_wldev *dev, u16 reg);\n\tvoid (*radio_write)(struct b43_wldev *dev, u16 reg, u16 value);\n\n\t \n\tbool (*supports_hwpctl)(struct b43_wldev *dev);\n\tvoid (*software_rfkill)(struct b43_wldev *dev, bool blocked);\n\tvoid (*switch_analog)(struct b43_wldev *dev, bool on);\n\tint (*switch_channel)(struct b43_wldev *dev, unsigned int new_channel);\n\tunsigned int (*get_default_chan)(struct b43_wldev *dev);\n\tvoid (*set_rx_antenna)(struct b43_wldev *dev, int antenna);\n\tint (*interf_mitigation)(struct b43_wldev *dev,\n\t\t\t\t enum b43_interference_mitigation new_mode);\n\n\t \n\tenum b43_txpwr_result (*recalc_txpower)(struct b43_wldev *dev,\n\t\t\t\t\t\tbool ignore_tssi);\n\tvoid (*adjust_txpower)(struct b43_wldev *dev);\n\n\t \n\tvoid (*pwork_15sec)(struct b43_wldev *dev);\n\tvoid (*pwork_60sec)(struct b43_wldev *dev);\n};\n\nstruct b43_phy_g;\nstruct b43_phy_n;\nstruct b43_phy_lp;\nstruct b43_phy_ht;\nstruct b43_phy_lcn;\n\nstruct b43_phy {\n\t \n\tconst struct b43_phy_operations *ops;\n\n\t \n#ifdef CONFIG_B43_DEBUG\n\t \n\tstruct {\n#else\n\tunion {\n#endif\n\t\t \n\t\tstruct b43_phy_g *g;\n\t\t \n\t\tstruct b43_phy_n *n;\n\t\t \n\t\tstruct b43_phy_lp *lp;\n\t\t \n\t\tstruct b43_phy_ht *ht;\n\t\t \n\t\tstruct b43_phy_lcn *lcn;\n\t\t \n\t\tstruct b43_phy_ac *ac;\n\t};\n\n\t \n\tbool supports_2ghz;\n\tbool supports_5ghz;\n\n\t \n\tbool gmode;\n\n\t \n\tbool do_full_init;\n\n\t \n\tu8 analog;\n\t \n\tu8 type;\n\t \n\tu8 rev;\n\n\t \n\tu8 writes_counter;\n\n\t \n\tu16 radio_manuf;\t \n\tu16 radio_ver;\t\t \n\tu8 radio_rev;\t\t \n\n\t \n\tbool radio_on;\n\n\t \n\tint desired_txpower;\n\n\t \n\tbool hardware_power_control;\n\n\t \n\tunsigned long next_txpwr_check_time;\n\n\t \n\tstruct cfg80211_chan_def *chandef;\n\tunsigned int channel;\n\n\t \n\tatomic_t txerr_cnt;\n\n#ifdef CONFIG_B43_DEBUG\n\t \n\tbool phy_locked;\n\t \n\tbool radio_locked;\n#endif  \n};\n\n\n \nint b43_phy_allocate(struct b43_wldev *dev);\n\n \nvoid b43_phy_free(struct b43_wldev *dev);\n\n \nint b43_phy_init(struct b43_wldev *dev);\n\n \nvoid b43_phy_exit(struct b43_wldev *dev);\n\n \nbool b43_has_hardware_pctl(struct b43_wldev *dev);\n\n \nu16 b43_phy_read(struct b43_wldev *dev, u16 reg);\n\n \nvoid b43_phy_write(struct b43_wldev *dev, u16 reg, u16 value);\n\n \nvoid b43_phy_copy(struct b43_wldev *dev, u16 destreg, u16 srcreg);\n\n \nvoid b43_phy_mask(struct b43_wldev *dev, u16 offset, u16 mask);\n\n \nvoid b43_phy_set(struct b43_wldev *dev, u16 offset, u16 set);\n\n \nvoid b43_phy_maskset(struct b43_wldev *dev, u16 offset, u16 mask, u16 set);\n\n \nu16 b43_radio_read(struct b43_wldev *dev, u16 reg);\n#define b43_radio_read16\tb43_radio_read  \n\n \nvoid b43_radio_write(struct b43_wldev *dev, u16 reg, u16 value);\n#define b43_radio_write16\tb43_radio_write  \n\n \nvoid b43_radio_mask(struct b43_wldev *dev, u16 offset, u16 mask);\n\n \nvoid b43_radio_set(struct b43_wldev *dev, u16 offset, u16 set);\n\n \nvoid b43_radio_maskset(struct b43_wldev *dev, u16 offset, u16 mask, u16 set);\n\n \nbool b43_radio_wait_value(struct b43_wldev *dev, u16 offset, u16 mask,\n\t\t\t  u16 value, int delay, int timeout);\n\n \nvoid b43_radio_lock(struct b43_wldev *dev);\n\n \nvoid b43_radio_unlock(struct b43_wldev *dev);\n\n \nvoid b43_phy_lock(struct b43_wldev *dev);\n\n \nvoid b43_phy_unlock(struct b43_wldev *dev);\n\nvoid b43_phy_put_into_reset(struct b43_wldev *dev);\nvoid b43_phy_take_out_of_reset(struct b43_wldev *dev);\n\n \nint b43_switch_channel(struct b43_wldev *dev, unsigned int new_channel);\n\n \nvoid b43_software_rfkill(struct b43_wldev *dev, bool blocked);\n\n \nvoid b43_phy_txpower_check(struct b43_wldev *dev, unsigned int flags);\n \nenum b43_phy_txpower_check_flags {\n\tB43_TXPWR_IGNORE_TIME\t\t= (1 << 0),\n\tB43_TXPWR_IGNORE_TSSI\t\t= (1 << 1),\n};\n\nstruct work_struct;\nvoid b43_phy_txpower_adjust_work(struct work_struct *work);\n\n \nint b43_phy_shm_tssi_read(struct b43_wldev *dev, u16 shm_offset);\n\n \nvoid b43_phyop_switch_analog_generic(struct b43_wldev *dev, bool on);\n\nbool b43_is_40mhz(struct b43_wldev *dev);\n\nvoid b43_phy_force_clock(struct b43_wldev *dev, bool force);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}