{
  "module_name": "phy_ac.c",
  "hash_id": "93a3e5848e347e63382a2256fedbb472174b780a8789084719a06fdf3e776213",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/broadcom/b43/phy_ac.c",
  "human_readable_source": "\n \n\n#include \"b43.h\"\n#include \"phy_ac.h\"\n\n \n\nstatic int b43_phy_ac_op_allocate(struct b43_wldev *dev)\n{\n\tstruct b43_phy_ac *phy_ac;\n\n\tphy_ac = kzalloc(sizeof(*phy_ac), GFP_KERNEL);\n\tif (!phy_ac)\n\t\treturn -ENOMEM;\n\tdev->phy.ac = phy_ac;\n\n\treturn 0;\n}\n\nstatic void b43_phy_ac_op_free(struct b43_wldev *dev)\n{\n\tstruct b43_phy *phy = &dev->phy;\n\tstruct b43_phy_ac *phy_ac = phy->ac;\n\n\tkfree(phy_ac);\n\tphy->ac = NULL;\n}\n\nstatic void b43_phy_ac_op_maskset(struct b43_wldev *dev, u16 reg, u16 mask,\n\t\t\t\t  u16 set)\n{\n\tb43_write16f(dev, B43_MMIO_PHY_CONTROL, reg);\n\tb43_write16(dev, B43_MMIO_PHY_DATA,\n\t\t    (b43_read16(dev, B43_MMIO_PHY_DATA) & mask) | set);\n}\n\nstatic u16 b43_phy_ac_op_radio_read(struct b43_wldev *dev, u16 reg)\n{\n\tb43_write16f(dev, B43_MMIO_RADIO24_CONTROL, reg);\n\treturn b43_read16(dev, B43_MMIO_RADIO24_DATA);\n}\n\nstatic void b43_phy_ac_op_radio_write(struct b43_wldev *dev, u16 reg,\n\t\t\t\t      u16 value)\n{\n\tb43_write16f(dev, B43_MMIO_RADIO24_CONTROL, reg);\n\tb43_write16(dev, B43_MMIO_RADIO24_DATA, value);\n}\n\nstatic unsigned int b43_phy_ac_op_get_default_chan(struct b43_wldev *dev)\n{\n\tif (b43_current_band(dev->wl) == NL80211_BAND_2GHZ)\n\t\treturn 11;\n\treturn 36;\n}\n\nstatic enum b43_txpwr_result\nb43_phy_ac_op_recalc_txpower(struct b43_wldev *dev, bool ignore_tssi)\n{\n\treturn B43_TXPWR_RES_DONE;\n}\n\nstatic void b43_phy_ac_op_adjust_txpower(struct b43_wldev *dev)\n{\n}\n\n \n\nconst struct b43_phy_operations b43_phyops_ac = {\n\t.allocate\t\t= b43_phy_ac_op_allocate,\n\t.free\t\t\t= b43_phy_ac_op_free,\n\t.phy_maskset\t\t= b43_phy_ac_op_maskset,\n\t.radio_read\t\t= b43_phy_ac_op_radio_read,\n\t.radio_write\t\t= b43_phy_ac_op_radio_write,\n\t.get_default_chan\t= b43_phy_ac_op_get_default_chan,\n\t.recalc_txpower\t\t= b43_phy_ac_op_recalc_txpower,\n\t.adjust_txpower\t\t= b43_phy_ac_op_adjust_txpower,\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}