{
  "module_name": "bus.h",
  "hash_id": "18bc3a02fd20a7a78b9c33ad1172c384b34ea340a9de18aec1601407076d400c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/broadcom/b43/bus.h",
  "human_readable_source": " \n#ifndef B43_BUS_H_\n#define B43_BUS_H_\n\nenum b43_bus_type {\n#ifdef CONFIG_B43_BCMA\n\tB43_BUS_BCMA,\n#endif\n#ifdef CONFIG_B43_SSB\n\tB43_BUS_SSB,\n#endif\n};\n\nstruct b43_bus_dev {\n\tenum b43_bus_type bus_type;\n\tunion {\n\t\tstruct bcma_device *bdev;\n\t\tstruct ssb_device *sdev;\n\t};\n\n\tint (*bus_may_powerdown)(struct b43_bus_dev *dev);\n\tint (*bus_powerup)(struct b43_bus_dev *dev, bool dynamic_pctl);\n\tint (*device_is_enabled)(struct b43_bus_dev *dev);\n\tvoid (*device_enable)(struct b43_bus_dev *dev,\n\t\t\t      u32 core_specific_flags);\n\tvoid (*device_disable)(struct b43_bus_dev *dev,\n\t\t\t       u32 core_specific_flags);\n\n\tu16 (*read16)(struct b43_bus_dev *dev, u16 offset);\n\tu32 (*read32)(struct b43_bus_dev *dev, u16 offset);\n\tvoid (*write16)(struct b43_bus_dev *dev, u16 offset, u16 value);\n\tvoid (*write32)(struct b43_bus_dev *dev, u16 offset, u32 value);\n\tvoid (*block_read)(struct b43_bus_dev *dev, void *buffer,\n\t\t\t   size_t count, u16 offset, u8 reg_width);\n\tvoid (*block_write)(struct b43_bus_dev *dev, const void *buffer,\n\t\t\t    size_t count, u16 offset, u8 reg_width);\n\tbool flush_writes;\n\n\tstruct device *dev;\n\tstruct device *dma_dev;\n\tunsigned int irq;\n\n\tu16 board_vendor;\n\tu16 board_type;\n\tu16 board_rev;\n\n\tu16 chip_id;\n\tu8 chip_rev;\n\tu8 chip_pkg;\n\n\tstruct ssb_sprom *bus_sprom;\n\n\tu16 core_id;\n\tu8 core_rev;\n};\n\nstatic inline bool b43_bus_host_is_pcmcia(struct b43_bus_dev *dev)\n{\n#ifdef CONFIG_B43_SSB\n\treturn (dev->bus_type == B43_BUS_SSB &&\n\t\tdev->sdev->bus->bustype == SSB_BUSTYPE_PCMCIA);\n#else\n\treturn false;\n#endif\n};\n\nstatic inline bool b43_bus_host_is_pci(struct b43_bus_dev *dev)\n{\n#ifdef CONFIG_B43_BCMA\n\tif (dev->bus_type == B43_BUS_BCMA)\n\t\treturn (dev->bdev->bus->hosttype == BCMA_HOSTTYPE_PCI);\n#endif\n#ifdef CONFIG_B43_SSB\n\tif (dev->bus_type == B43_BUS_SSB)\n\t\treturn (dev->sdev->bus->bustype == SSB_BUSTYPE_PCI);\n#endif\n\treturn false;\n}\n\nstatic inline bool b43_bus_host_is_sdio(struct b43_bus_dev *dev)\n{\n#ifdef CONFIG_B43_SSB\n\treturn (dev->bus_type == B43_BUS_SSB &&\n\t\tdev->sdev->bus->bustype == SSB_BUSTYPE_SDIO);\n#else\n\treturn false;\n#endif\n}\n\nstruct b43_bus_dev *b43_bus_dev_bcma_init(struct bcma_device *core);\nstruct b43_bus_dev *b43_bus_dev_ssb_init(struct ssb_device *sdev);\n\nvoid *b43_bus_get_wldev(struct b43_bus_dev *dev);\nvoid b43_bus_set_wldev(struct b43_bus_dev *dev, void *data);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}