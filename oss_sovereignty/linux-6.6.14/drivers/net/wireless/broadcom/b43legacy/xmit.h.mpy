{
  "module_name": "xmit.h",
  "hash_id": "afc20abd2eacefa251176be4d7607bfb5402ead3ed82450e2c209dbd1aeac7c8",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/broadcom/b43legacy/xmit.h",
  "human_readable_source": " \n#ifndef B43legacy_XMIT_H_\n#define B43legacy_XMIT_H_\n\n#include \"main.h\"\n\n\n#define _b43legacy_declare_plcp_hdr(size)\t\\\n\tstruct b43legacy_plcp_hdr##size {\t\\\n\t\tunion {\t\t\t\t\\\n\t\t\t__le32 data;\t\t\\\n\t\t\t__u8 raw[size];\t\t\\\n\t\t} __packed;\t\\\n\t} __packed\n\n \n_b43legacy_declare_plcp_hdr(4);\n \n_b43legacy_declare_plcp_hdr(6);\n\n#undef _b43legacy_declare_plcp_hdr\n\n\n \nstruct b43legacy_txhdr_fw3 {\n\t__le32 mac_ctl;\t\t\t\t \n\t__le16 mac_frame_ctl;\t\t\t \n\t__le16 tx_fes_time_norm;\t\t \n\t__le16 phy_ctl;\t\t\t\t \n\t__u8 iv[16];\t\t\t\t \n\t__u8 tx_receiver[6];\t\t\t \n\t__le16 tx_fes_time_fb;\t\t\t \n\tstruct b43legacy_plcp_hdr4 rts_plcp_fb;\t \n\t__le16 rts_dur_fb;\t\t\t \n\tstruct b43legacy_plcp_hdr4 plcp_fb;\t \n\t__le16 dur_fb;\t\t\t\t \n\tPAD_BYTES(2);\n\t__le16 cookie;\n\t__le16 unknown_scb_stuff;\n\tstruct b43legacy_plcp_hdr6 rts_plcp;\t \n\t__u8 rts_frame[18];\t\t\t \n\tstruct b43legacy_plcp_hdr6 plcp;\n} __packed;\n\n \n#define B43legacy_TX4_MAC_KEYIDX\t0x0FF00000  \n#define B43legacy_TX4_MAC_KEYIDX_SHIFT\t20\n#define B43legacy_TX4_MAC_KEYALG\t0x00070000  \n#define B43legacy_TX4_MAC_KEYALG_SHIFT\t16\n#define B43legacy_TX4_MAC_LIFETIME\t0x00001000\n#define B43legacy_TX4_MAC_FRAMEBURST\t0x00000800\n#define B43legacy_TX4_MAC_SENDCTS\t0x00000400\n#define B43legacy_TX4_MAC_AMPDU\t\t0x00000300\n#define B43legacy_TX4_MAC_AMPDU_SHIFT\t8\n#define B43legacy_TX4_MAC_CTSFALLBACKOFDM\t0x00000200\n#define B43legacy_TX4_MAC_FALLBACKOFDM\t0x00000100\n#define B43legacy_TX4_MAC_5GHZ\t\t0x00000080\n#define B43legacy_TX4_MAC_IGNPMQ\t0x00000020\n#define B43legacy_TX4_MAC_HWSEQ\t\t0x00000010  \n#define B43legacy_TX4_MAC_STMSDU\t0x00000008  \n#define B43legacy_TX4_MAC_SENDRTS\t0x00000004\n#define B43legacy_TX4_MAC_LONGFRAME\t0x00000002\n#define B43legacy_TX4_MAC_ACK\t\t0x00000001\n\n \n#define B43legacy_TX4_EFT_FBOFDM\t0x0001  \n#define B43legacy_TX4_EFT_RTSOFDM\t0x0004  \n#define B43legacy_TX4_EFT_RTSFBOFDM\t0x0010  \n\n \n#define B43legacy_TX4_PHY_ENC\t\t0x0003  \n#define B43legacy_TX4_PHY_ENC_CCK\t0x0000  \n#define B43legacy_TX4_PHY_ENC_OFDM\t0x0001  \n#define B43legacy_TX4_PHY_SHORTPRMBL\t0x0010  \n#define B43legacy_TX4_PHY_ANT\t\t0x03C0  \n#define  B43legacy_TX4_PHY_ANT0\t\t0x0000  \n#define  B43legacy_TX4_PHY_ANT1\t\t0x0100  \n#define  B43legacy_TX4_PHY_ANTLAST\t0x0300  \n\n\n\nint b43legacy_generate_txhdr(struct b43legacy_wldev *dev,\n\t\t\t      u8 *txhdr,\n\t\t\t      const unsigned char *fragment_data,\n\t\t\t      unsigned int fragment_len,\n\t\t\t      struct ieee80211_tx_info *info,\n\t\t\t      u16 cookie);\n\n\n \nstruct b43legacy_txstatus {\n\tu16 cookie;\t \n\tu16 seq;\t \n\tu8 phy_stat;\t \n\tu8 frame_count;\t \n\tu8 rts_count;\t \n\tu8 supp_reason;\t \n\t \n\tu8 pm_indicated; \n\tu8 intermediate; \n\tu8 for_ampdu;\t \n\tu8 acked;\t \n};\n\n \nenum {\n\tB43legacy_TXST_SUPP_NONE,\t \n\tB43legacy_TXST_SUPP_PMQ,\t \n\tB43legacy_TXST_SUPP_FLUSH,\t \n\tB43legacy_TXST_SUPP_PREV,\t \n\tB43legacy_TXST_SUPP_CHAN,\t \n\tB43legacy_TXST_SUPP_LIFE,\t \n\tB43legacy_TXST_SUPP_UNDER,\t \n\tB43legacy_TXST_SUPP_ABNACK,\t \n};\n\n \nstruct b43legacy_hwtxstatus {\n\tPAD_BYTES(4);\n\t__le16 cookie;\n\tu8 flags;\n\tu8 count;\n\tPAD_BYTES(2);\n\t__le16 seq;\n\tu8 phy_stat;\n\tPAD_BYTES(1);\n} __packed;\n\n\n \nstruct b43legacy_rxhdr_fw3 {\n\t__le16 frame_len;\t \n\tPAD_BYTES(2);\n\t__le16 phy_status0;\t \n\t__u8 jssi;\t\t \n\t__u8 sig_qual;\t\t \n\tPAD_BYTES(2);\t\t \n\t__le16 phy_status3;\t \n\t__le16 mac_status;\t \n\t__le16 mac_time;\n\t__le16 channel;\n} __packed;\n\n\n \n#define B43legacy_RX_PHYST0_GAINCTL\t0x4000  \n#define B43legacy_RX_PHYST0_PLCPHCF\t0x0200\n#define B43legacy_RX_PHYST0_PLCPFV\t0x0100\n#define B43legacy_RX_PHYST0_SHORTPRMBL\t0x0080  \n#define B43legacy_RX_PHYST0_LCRS\t0x0040\n#define B43legacy_RX_PHYST0_ANT\t\t0x0020  \n#define B43legacy_RX_PHYST0_UNSRATE\t0x0010\n#define B43legacy_RX_PHYST0_CLIP\t0x000C\n#define B43legacy_RX_PHYST0_CLIP_SHIFT\t2\n#define B43legacy_RX_PHYST0_FTYPE\t0x0003  \n#define  B43legacy_RX_PHYST0_CCK\t0x0000  \n#define  B43legacy_RX_PHYST0_OFDM\t0x0001  \n#define  B43legacy_RX_PHYST0_PRE_N\t0x0002  \n#define  B43legacy_RX_PHYST0_STD_N\t0x0003  \n\n \n#define B43legacy_RX_PHYST2_LNAG\t0xC000  \n#define B43legacy_RX_PHYST2_LNAG_SHIFT\t14\n#define B43legacy_RX_PHYST2_PNAG\t0x3C00  \n#define B43legacy_RX_PHYST2_PNAG_SHIFT\t10\n#define B43legacy_RX_PHYST2_FOFF\t0x03FF  \n\n \n#define B43legacy_RX_PHYST3_DIGG\t0x1800  \n#define B43legacy_RX_PHYST3_DIGG_SHIFT\t11\n#define B43legacy_RX_PHYST3_TRSTATE\t0x0400  \n\n \n#define B43legacy_RX_MAC_BEACONSENT\t0x00008000  \n#define B43legacy_RX_MAC_KEYIDX\t\t0x000007E0  \n#define B43legacy_RX_MAC_KEYIDX_SHIFT\t5\n#define B43legacy_RX_MAC_DECERR\t\t0x00000010  \n#define B43legacy_RX_MAC_DEC\t\t0x00000008  \n#define B43legacy_RX_MAC_PADDING\t0x00000004  \n#define B43legacy_RX_MAC_RESP\t\t0x00000002  \n#define B43legacy_RX_MAC_FCSERR\t\t0x00000001  \n\n \n#define B43legacy_RX_CHAN_GAIN\t\t0xFC00  \n#define B43legacy_RX_CHAN_GAIN_SHIFT\t10\n#define B43legacy_RX_CHAN_ID\t\t0x03FC  \n#define B43legacy_RX_CHAN_ID_SHIFT\t2\n#define B43legacy_RX_CHAN_PHYTYPE\t0x0003  \n\n\n\nu8 b43legacy_plcp_get_ratecode_cck(const u8 bitrate);\nu8 b43legacy_plcp_get_ratecode_ofdm(const u8 bitrate);\n\nvoid b43legacy_generate_plcp_hdr(struct b43legacy_plcp_hdr4 *plcp,\n\t\t\t       const u16 octets, const u8 bitrate);\n\nvoid b43legacy_rx(struct b43legacy_wldev *dev,\n\t\tstruct sk_buff *skb,\n\t\tconst void *_rxhdr);\n\nvoid b43legacy_handle_txstatus(struct b43legacy_wldev *dev,\n\t\t\t       const struct b43legacy_txstatus *status);\n\nvoid b43legacy_handle_hwtxstatus(struct b43legacy_wldev *dev,\n\t\t\t\t const struct b43legacy_hwtxstatus *hw);\n\nvoid b43legacy_tx_suspend(struct b43legacy_wldev *dev);\nvoid b43legacy_tx_resume(struct b43legacy_wldev *dev);\n\n\n#define B43legacy_NR_QOSPARMS\t22\nenum {\n\tB43legacy_QOSPARM_TXOP = 0,\n\tB43legacy_QOSPARM_CWMIN,\n\tB43legacy_QOSPARM_CWMAX,\n\tB43legacy_QOSPARM_CWCUR,\n\tB43legacy_QOSPARM_AIFS,\n\tB43legacy_QOSPARM_BSLOTS,\n\tB43legacy_QOSPARM_REGGAP,\n\tB43legacy_QOSPARM_STATUS,\n};\n\nvoid b43legacy_qos_init(struct b43legacy_wldev *dev);\n\n\n \nstatic inline\nint b43legacy_new_kidx_api(struct b43legacy_wldev *dev)\n{\n\t \n\treturn (dev->fw.rev >= 351);\n}\nstatic inline\nu8 b43legacy_kidx_to_fw(struct b43legacy_wldev *dev, u8 raw_kidx)\n{\n\tu8 firmware_kidx;\n\tif (b43legacy_new_kidx_api(dev))\n\t\tfirmware_kidx = raw_kidx;\n\telse {\n\t\tif (raw_kidx >= 4)  \n\t\t\tfirmware_kidx = raw_kidx - 4;\n\t\telse\n\t\t\tfirmware_kidx = raw_kidx;  \n\t}\n\treturn firmware_kidx;\n}\nstatic inline\nu8 b43legacy_kidx_to_raw(struct b43legacy_wldev *dev, u8 firmware_kidx)\n{\n\tu8 raw_kidx;\n\tif (b43legacy_new_kidx_api(dev))\n\t\traw_kidx = firmware_kidx;\n\telse\n\t\t \n\t\traw_kidx = firmware_kidx + 4;\n\treturn raw_kidx;\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}