{
  "module_name": "zd_chip.h",
  "hash_id": "92479c0b294c52a48e399665c373b2d79791b0e5ecc9bfe273001a1820e5e171",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/zydas/zd1211rw/zd_chip.h",
  "human_readable_source": " \n \n\n#ifndef _ZD_CHIP_H\n#define _ZD_CHIP_H\n\n#include <net/mac80211.h>\n\n#include \"zd_rf.h\"\n#include \"zd_usb.h\"\n\n \n\n \nenum {\n\t \n\tCR_START\t\t\t= 0x9000,\n\n\n\t \n\tFW_START\t\t\t= 0xee00,\n\n\n\t \n\tE2P_START\t\t\t= 0xf800,\n\tE2P_LEN\t\t\t\t= 0x800,\n\n\t \n\tE2P_LOAD_CODE_LEN\t\t= 0xe,\t\t \n\tE2P_LOAD_VECT_LEN\t\t= 0x9,\t\t \n\t \n\tE2P_DATA_LEN\t\t\t= 0x7e,\t\t \n\tE2P_BOOT_CODE_LEN\t\t= 0x760,\t \n\tE2P_INTR_VECT_LEN\t\t= 0xb,\t\t \n\n\t \n\tE2P_DATA_OFFSET\t\t\t= E2P_LOAD_CODE_LEN + E2P_LOAD_VECT_LEN,\n\tE2P_BOOT_CODE_OFFSET\t\t= E2P_DATA_OFFSET + E2P_DATA_LEN,\n};\n\n#define CTL_REG(offset) ((zd_addr_t)(CR_START + (offset)))\n#define E2P_DATA(offset) ((zd_addr_t)(E2P_START + E2P_DATA_OFFSET + (offset)))\n#define FWRAW_DATA(offset) ((zd_addr_t)(FW_START + (offset)))\n\n \n#define ZD_CR0   CTL_REG(0x0000)\n#define ZD_CR1   CTL_REG(0x0004)\n#define ZD_CR2   CTL_REG(0x0008)\n#define ZD_CR3   CTL_REG(0x000C)\n\n#define ZD_CR5   CTL_REG(0x0010)\n \n#define ZD_CR6   CTL_REG(0x0014)\n#define ZD_CR7   CTL_REG(0x0018)\n#define ZD_CR8   CTL_REG(0x001C)\n\n#define ZD_CR4   CTL_REG(0x0020)\n\n#define ZD_CR9   CTL_REG(0x0024)\n \n#define ZD_CR10  CTL_REG(0x0028)\n \n#define ZD_CR11  CTL_REG(0x002C)\n \n#define ZD_CR12  CTL_REG(0x0030)\n#define ZD_CR13  CTL_REG(0x0034)\n#define ZD_CR14  CTL_REG(0x0038)\n#define ZD_CR15  CTL_REG(0x003C)\n#define ZD_CR16  CTL_REG(0x0040)\n#define ZD_CR17  CTL_REG(0x0044)\n#define ZD_CR18  CTL_REG(0x0048)\n#define ZD_CR19  CTL_REG(0x004C)\n#define ZD_CR20  CTL_REG(0x0050)\n#define ZD_CR21  CTL_REG(0x0054)\n#define ZD_CR22  CTL_REG(0x0058)\n#define ZD_CR23  CTL_REG(0x005C)\n#define ZD_CR24  CTL_REG(0x0060)\t \n#define ZD_CR25  CTL_REG(0x0064)\n#define ZD_CR26  CTL_REG(0x0068)\n#define ZD_CR27  CTL_REG(0x006C)\n#define ZD_CR28  CTL_REG(0x0070)\n#define ZD_CR29  CTL_REG(0x0074)\n#define ZD_CR30  CTL_REG(0x0078)\n#define ZD_CR31  CTL_REG(0x007C)\t \n#define ZD_CR32  CTL_REG(0x0080)\n#define ZD_CR33  CTL_REG(0x0084)\n#define ZD_CR34  CTL_REG(0x0088)\n#define ZD_CR35  CTL_REG(0x008C)\n#define ZD_CR36  CTL_REG(0x0090)\n#define ZD_CR37  CTL_REG(0x0094)\n#define ZD_CR38  CTL_REG(0x0098)\n#define ZD_CR39  CTL_REG(0x009C)\n#define ZD_CR40  CTL_REG(0x00A0)\n#define ZD_CR41  CTL_REG(0x00A4)\n#define ZD_CR42  CTL_REG(0x00A8)\n#define ZD_CR43  CTL_REG(0x00AC)\n#define ZD_CR44  CTL_REG(0x00B0)\n#define ZD_CR45  CTL_REG(0x00B4)\n#define ZD_CR46  CTL_REG(0x00B8)\n#define ZD_CR47  CTL_REG(0x00BC)\t \n#define ZD_CR48  CTL_REG(0x00C0)\n#define ZD_CR49  CTL_REG(0x00C4)\n#define ZD_CR50  CTL_REG(0x00C8)\n#define ZD_CR51  CTL_REG(0x00CC)\t \n#define ZD_CR52  CTL_REG(0x00D0)\t \n#define ZD_CR53  CTL_REG(0x00D4)\t \n#define ZD_CR54  CTL_REG(0x00D8)\n#define ZD_CR55  CTL_REG(0x00DC)\n#define ZD_CR56  CTL_REG(0x00E0)\n#define ZD_CR57  CTL_REG(0x00E4)\n#define ZD_CR58  CTL_REG(0x00E8)\n#define ZD_CR59  CTL_REG(0x00EC)\n#define ZD_CR60  CTL_REG(0x00F0)\n#define ZD_CR61  CTL_REG(0x00F4)\n#define ZD_CR62  CTL_REG(0x00F8)\n#define ZD_CR63  CTL_REG(0x00FC)\n#define ZD_CR64  CTL_REG(0x0100)\n#define ZD_CR65  CTL_REG(0x0104)  \n#define ZD_CR66  CTL_REG(0x0108)  \n#define ZD_CR67  CTL_REG(0x010C)  \n#define ZD_CR68  CTL_REG(0x0110)  \n#define ZD_CR69  CTL_REG(0x0114)\n#define ZD_CR70  CTL_REG(0x0118)\n#define ZD_CR71  CTL_REG(0x011C)\n#define ZD_CR72  CTL_REG(0x0120)\n#define ZD_CR73  CTL_REG(0x0124)\n#define ZD_CR74  CTL_REG(0x0128)\n#define ZD_CR75  CTL_REG(0x012C)\n#define ZD_CR76  CTL_REG(0x0130)\n#define ZD_CR77  CTL_REG(0x0134)\n#define ZD_CR78  CTL_REG(0x0138)\n#define ZD_CR79  CTL_REG(0x013C)\n#define ZD_CR80  CTL_REG(0x0140)\n#define ZD_CR81  CTL_REG(0x0144)\n#define ZD_CR82  CTL_REG(0x0148)\n#define ZD_CR83  CTL_REG(0x014C)\n#define ZD_CR84  CTL_REG(0x0150)\n#define ZD_CR85  CTL_REG(0x0154)\n#define ZD_CR86  CTL_REG(0x0158)\n#define ZD_CR87  CTL_REG(0x015C)\n#define ZD_CR88  CTL_REG(0x0160)\n#define ZD_CR89  CTL_REG(0x0164)\n#define ZD_CR90  CTL_REG(0x0168)\n#define ZD_CR91  CTL_REG(0x016C)\n#define ZD_CR92  CTL_REG(0x0170)\n#define ZD_CR93  CTL_REG(0x0174)\n#define ZD_CR94  CTL_REG(0x0178)\n#define ZD_CR95  CTL_REG(0x017C)\n#define ZD_CR96  CTL_REG(0x0180)\n#define ZD_CR97  CTL_REG(0x0184)\n#define ZD_CR98  CTL_REG(0x0188)\n#define ZD_CR99  CTL_REG(0x018C)\n#define ZD_CR100 CTL_REG(0x0190)\n#define ZD_CR101 CTL_REG(0x0194)\n#define ZD_CR102 CTL_REG(0x0198)\n#define ZD_CR103 CTL_REG(0x019C)\n#define ZD_CR104 CTL_REG(0x01A0)\n#define ZD_CR105 CTL_REG(0x01A4)\n#define ZD_CR106 CTL_REG(0x01A8)\n#define ZD_CR107 CTL_REG(0x01AC)\n#define ZD_CR108 CTL_REG(0x01B0)\n#define ZD_CR109 CTL_REG(0x01B4)\n#define ZD_CR110 CTL_REG(0x01B8)\n#define ZD_CR111 CTL_REG(0x01BC)\n#define ZD_CR112 CTL_REG(0x01C0)\n#define ZD_CR113 CTL_REG(0x01C4)\n#define ZD_CR114 CTL_REG(0x01C8)\n#define ZD_CR115 CTL_REG(0x01CC)\n#define ZD_CR116 CTL_REG(0x01D0)\n#define ZD_CR117 CTL_REG(0x01D4)\n#define ZD_CR118 CTL_REG(0x01D8)\n#define ZD_CR119 CTL_REG(0x01DC)\n#define ZD_CR120 CTL_REG(0x01E0)\n#define ZD_CR121 CTL_REG(0x01E4)\n#define ZD_CR122 CTL_REG(0x01E8)\n#define ZD_CR123 CTL_REG(0x01EC)\n#define ZD_CR124 CTL_REG(0x01F0)\n#define ZD_CR125 CTL_REG(0x01F4)\n#define ZD_CR126 CTL_REG(0x01F8)\n#define ZD_CR127 CTL_REG(0x01FC)\n#define ZD_CR128 CTL_REG(0x0200)\n#define ZD_CR129 CTL_REG(0x0204)\n#define ZD_CR130 CTL_REG(0x0208)\n#define ZD_CR131 CTL_REG(0x020C)\n#define ZD_CR132 CTL_REG(0x0210)\n#define ZD_CR133 CTL_REG(0x0214)\n#define ZD_CR134 CTL_REG(0x0218)\n#define ZD_CR135 CTL_REG(0x021C)\n#define ZD_CR136 CTL_REG(0x0220)\n#define ZD_CR137 CTL_REG(0x0224)\n#define ZD_CR138 CTL_REG(0x0228)\n#define ZD_CR139 CTL_REG(0x022C)\n#define ZD_CR140 CTL_REG(0x0230)\n#define ZD_CR141 CTL_REG(0x0234)\n#define ZD_CR142 CTL_REG(0x0238)\n#define ZD_CR143 CTL_REG(0x023C)\n#define ZD_CR144 CTL_REG(0x0240)\n#define ZD_CR145 CTL_REG(0x0244)\n#define ZD_CR146 CTL_REG(0x0248)\n#define ZD_CR147 CTL_REG(0x024C)\n#define ZD_CR148 CTL_REG(0x0250)\n#define ZD_CR149 CTL_REG(0x0254)\n#define ZD_CR150 CTL_REG(0x0258)\n#define ZD_CR151 CTL_REG(0x025C)\n#define ZD_CR152 CTL_REG(0x0260)\n#define ZD_CR153 CTL_REG(0x0264)\n#define ZD_CR154 CTL_REG(0x0268)\n#define ZD_CR155 CTL_REG(0x026C)\n#define ZD_CR156 CTL_REG(0x0270)\n#define ZD_CR157 CTL_REG(0x0274)\n#define ZD_CR158 CTL_REG(0x0278)\n#define ZD_CR159 CTL_REG(0x027C)\n#define ZD_CR160 CTL_REG(0x0280)\n#define ZD_CR161 CTL_REG(0x0284)\n#define ZD_CR162 CTL_REG(0x0288)\n#define ZD_CR163 CTL_REG(0x028C)\n#define ZD_CR164 CTL_REG(0x0290)\n#define ZD_CR165 CTL_REG(0x0294)\n#define ZD_CR166 CTL_REG(0x0298)\n#define ZD_CR167 CTL_REG(0x029C)\n#define ZD_CR168 CTL_REG(0x02A0)\n#define ZD_CR169 CTL_REG(0x02A4)\n#define ZD_CR170 CTL_REG(0x02A8)\n#define ZD_CR171 CTL_REG(0x02AC)\n#define ZD_CR172 CTL_REG(0x02B0)\n#define ZD_CR173 CTL_REG(0x02B4)\n#define ZD_CR174 CTL_REG(0x02B8)\n#define ZD_CR175 CTL_REG(0x02BC)\n#define ZD_CR176 CTL_REG(0x02C0)\n#define ZD_CR177 CTL_REG(0x02C4)\n#define ZD_CR178 CTL_REG(0x02C8)\n#define ZD_CR179 CTL_REG(0x02CC)\n#define ZD_CR180 CTL_REG(0x02D0)\n#define ZD_CR181 CTL_REG(0x02D4)\n#define ZD_CR182 CTL_REG(0x02D8)\n#define ZD_CR183 CTL_REG(0x02DC)\n#define ZD_CR184 CTL_REG(0x02E0)\n#define ZD_CR185 CTL_REG(0x02E4)\n#define ZD_CR186 CTL_REG(0x02E8)\n#define ZD_CR187 CTL_REG(0x02EC)\n#define ZD_CR188 CTL_REG(0x02F0)\n#define ZD_CR189 CTL_REG(0x02F4)\n#define ZD_CR190 CTL_REG(0x02F8)\n#define ZD_CR191 CTL_REG(0x02FC)\n#define ZD_CR192 CTL_REG(0x0300)\n#define ZD_CR193 CTL_REG(0x0304)\n#define ZD_CR194 CTL_REG(0x0308)\n#define ZD_CR195 CTL_REG(0x030C)\n#define ZD_CR196 CTL_REG(0x0310)\n#define ZD_CR197 CTL_REG(0x0314)\n#define ZD_CR198 CTL_REG(0x0318)\n#define ZD_CR199 CTL_REG(0x031C)\n#define ZD_CR200 CTL_REG(0x0320)\n#define ZD_CR201 CTL_REG(0x0324)\n#define ZD_CR202 CTL_REG(0x0328)\n#define ZD_CR203 CTL_REG(0x032C)\t \n#define ZD_CR204 CTL_REG(0x0330)\n#define ZD_CR205 CTL_REG(0x0334)\n#define ZD_CR206 CTL_REG(0x0338)\n#define ZD_CR207 CTL_REG(0x033C)\n#define ZD_CR208 CTL_REG(0x0340)\n#define ZD_CR209 CTL_REG(0x0344)\n#define ZD_CR210 CTL_REG(0x0348)\n#define ZD_CR211 CTL_REG(0x034C)\n#define ZD_CR212 CTL_REG(0x0350)\n#define ZD_CR213 CTL_REG(0x0354)\n#define ZD_CR214 CTL_REG(0x0358)\n#define ZD_CR215 CTL_REG(0x035C)\n#define ZD_CR216 CTL_REG(0x0360)\n#define ZD_CR217 CTL_REG(0x0364)\n#define ZD_CR218 CTL_REG(0x0368)\n#define ZD_CR219 CTL_REG(0x036C)\n#define ZD_CR220 CTL_REG(0x0370)\n#define ZD_CR221 CTL_REG(0x0374)\n#define ZD_CR222 CTL_REG(0x0378)\n#define ZD_CR223 CTL_REG(0x037C)\n#define ZD_CR224 CTL_REG(0x0380)\n#define ZD_CR225 CTL_REG(0x0384)\n#define ZD_CR226 CTL_REG(0x0388)\n#define ZD_CR227 CTL_REG(0x038C)\n#define ZD_CR228 CTL_REG(0x0390)\n#define ZD_CR229 CTL_REG(0x0394)\n#define ZD_CR230 CTL_REG(0x0398)\n#define ZD_CR231 CTL_REG(0x039C)\n#define ZD_CR232 CTL_REG(0x03A0)\n#define ZD_CR233 CTL_REG(0x03A4)\n#define ZD_CR234 CTL_REG(0x03A8)\n#define ZD_CR235 CTL_REG(0x03AC)\n#define ZD_CR236 CTL_REG(0x03B0)\n\n#define ZD_CR240 CTL_REG(0x03C0)\n \n#define ZD_CR241 CTL_REG(0x03C4)\n#define ZD_CR242 CTL_REG(0x03C8)\n#define ZD_CR243 CTL_REG(0x03CC)\n#define ZD_CR244 CTL_REG(0x03D0)\n#define ZD_CR245 CTL_REG(0x03D4)\n\n#define ZD_CR251 CTL_REG(0x03EC)\t \n#define ZD_CR252 CTL_REG(0x03F0)\n#define ZD_CR253 CTL_REG(0x03F4)\n#define ZD_CR254 CTL_REG(0x03F8)\n#define ZD_CR255 CTL_REG(0x03FC)\n\n#define CR_MAX_PHY_REG 255\n\n \n\n#define CR_RF_IF_CLK\t\t\tCTL_REG(0x0400)\n#define CR_RF_IF_DATA\t\t\tCTL_REG(0x0404)\n#define CR_PE1_PE2\t\t\tCTL_REG(0x0408)\n#define CR_PE2_DLY\t\t\tCTL_REG(0x040C)\n#define CR_LE1\t\t\t\tCTL_REG(0x0410)\n#define CR_LE2\t\t\t\tCTL_REG(0x0414)\n \n#define CR_GPI_EN\t\t\tCTL_REG(0x0418)\n#define CR_RADIO_PD\t\t\tCTL_REG(0x042C)\n#define CR_RF2948_PD\t\t\tCTL_REG(0x042C)\n#define CR_ENABLE_PS_MANUAL_AGC\t\tCTL_REG(0x043C)\n#define CR_CONFIG_PHILIPS\t\tCTL_REG(0x0440)\n#define CR_SA2400_SER_AP\t\tCTL_REG(0x0444)\n#define CR_I2C_WRITE\t\t\tCTL_REG(0x0444)\n#define CR_SA2400_SER_RP\t\tCTL_REG(0x0448)\n#define CR_RADIO_PE\t\t\tCTL_REG(0x0458)\n#define CR_RST_BUS_MASTER\t\tCTL_REG(0x045C)\n#define CR_RFCFG\t\t\tCTL_REG(0x0464)\n#define CR_HSTSCHG\t\t\tCTL_REG(0x046C)\n#define CR_PHY_ON\t\t\tCTL_REG(0x0474)\n#define CR_RX_DELAY\t\t\tCTL_REG(0x0478)\n#define CR_RX_PE_DELAY\t\t\tCTL_REG(0x047C)\n#define CR_GPIO_1\t\t\tCTL_REG(0x0490)\n#define CR_GPIO_2\t\t\tCTL_REG(0x0494)\n#define CR_EncryBufMux\t\t\tCTL_REG(0x04A8)\n#define CR_PS_CTRL\t\t\tCTL_REG(0x0500)\n#define CR_ADDA_PWR_DWN\t\t\tCTL_REG(0x0504)\n#define CR_ADDA_MBIAS_WARMTIME\t\tCTL_REG(0x0508)\n#define CR_MAC_PS_STATE\t\t\tCTL_REG(0x050C)\n\n#define CR_INTERRUPT\t\t\tCTL_REG(0x0510)\n#define INT_TX_COMPLETE\t\t\t(1 <<  0)\n#define INT_RX_COMPLETE\t\t\t(1 <<  1)\n#define INT_RETRY_FAIL\t\t\t(1 <<  2)\n#define INT_WAKEUP\t\t\t(1 <<  3)\n#define INT_DTIM_NOTIFY\t\t\t(1 <<  5)\n#define INT_CFG_NEXT_BCN\t\t(1 <<  6)\n#define INT_BUS_ABORT\t\t\t(1 <<  7)\n#define INT_TX_FIFO_READY\t\t(1 <<  8)\n#define INT_UART\t\t\t(1 <<  9)\n#define INT_TX_COMPLETE_EN\t\t(1 << 16)\n#define INT_RX_COMPLETE_EN\t\t(1 << 17)\n#define INT_RETRY_FAIL_EN\t\t(1 << 18)\n#define INT_WAKEUP_EN\t\t\t(1 << 19)\n#define INT_DTIM_NOTIFY_EN\t\t(1 << 21)\n#define INT_CFG_NEXT_BCN_EN\t\t(1 << 22)\n#define INT_BUS_ABORT_EN\t\t(1 << 23)\n#define INT_TX_FIFO_READY_EN\t\t(1 << 24)\n#define INT_UART_EN\t\t\t(1 << 25)\n\n#define CR_TSF_LOW_PART\t\t\tCTL_REG(0x0514)\n#define CR_TSF_HIGH_PART\t\tCTL_REG(0x0518)\n\n \n#define CR_ATIM_WND_PERIOD\t\tCTL_REG(0x051C)\n#define CR_BCN_INTERVAL\t\t\tCTL_REG(0x0520)\n#define CR_PRE_TBTT\t\t\tCTL_REG(0x0524)\n \n\n \n#define CR_UART_RBR_THR_DLL\t\tCTL_REG(0x0540)\n#define CR_UART_DLM_IER\t\t\tCTL_REG(0x0544)\n#define CR_UART_IIR_FCR\t\t\tCTL_REG(0x0548)\n#define CR_UART_LCR\t\t\tCTL_REG(0x054c)\n#define CR_UART_MCR\t\t\tCTL_REG(0x0550)\n#define CR_UART_LSR\t\t\tCTL_REG(0x0554)\n#define CR_UART_MSR\t\t\tCTL_REG(0x0558)\n#define CR_UART_ECR\t\t\tCTL_REG(0x055c)\n#define CR_UART_STATUS\t\t\tCTL_REG(0x0560)\n\n#define CR_PCI_TX_ADDR_P1\t\tCTL_REG(0x0600)\n#define CR_PCI_TX_AddR_P2\t\tCTL_REG(0x0604)\n#define CR_PCI_RX_AddR_P1\t\tCTL_REG(0x0608)\n#define CR_PCI_RX_AddR_P2\t\tCTL_REG(0x060C)\n\n \n#define CR_MAC_ADDR_P1\t\t\tCTL_REG(0x0610)\n#define CR_MAC_ADDR_P2\t\t\tCTL_REG(0x0614)\n#define CR_BSSID_P1\t\t\tCTL_REG(0x0618)\n#define CR_BSSID_P2\t\t\tCTL_REG(0x061C)\n#define CR_BCN_PLCP_CFG\t\t\tCTL_REG(0x0620)\n\n \n#define CR_GROUP_HASH_P1\t\tCTL_REG(0x0624)\n#define CR_GROUP_HASH_P2\t\tCTL_REG(0x0628)\n\n#define CR_RX_TIMEOUT\t\t\tCTL_REG(0x062C)\n\n \n#define CR_BASIC_RATE_TBL\t\tCTL_REG(0x0630)\n#define CR_RATE_1M\t(1 <<  0)\t \n#define CR_RATE_2M\t(1 <<  1)\t \n#define CR_RATE_5_5M\t(1 <<  2)\t \n#define CR_RATE_11M\t(1 <<  3)\t \n#define CR_RATE_6M      (1 <<  8)\t \n#define CR_RATE_9M      (1 <<  9)\t \n#define CR_RATE_12M\t(1 << 10)\t \n#define CR_RATE_18M\t(1 << 11)\t \n#define CR_RATE_24M     (1 << 12)\t \n#define CR_RATE_36M     (1 << 13)\t \n#define CR_RATE_48M     (1 << 14)\t \n#define CR_RATE_54M     (1 << 15)\t \n#define CR_RATES_80211G\t0xff00\n#define CR_RATES_80211B\t0x000f\n\n \n#define CR_MANDATORY_RATE_TBL\t\tCTL_REG(0x0634)\n#define CR_RTS_CTS_RATE\t\t\tCTL_REG(0x0638)\n\n \n#define RTSCTS_SH_RTS_RATE\t\t0\n#define RTSCTS_SH_EXP_CTS_RATE\t\t4\n#define RTSCTS_SH_RTS_MOD_TYPE\t\t8\n#define RTSCTS_SH_RTS_PMB_TYPE\t\t9\n#define RTSCTS_SH_CTS_RATE\t\t16\n#define RTSCTS_SH_CTS_MOD_TYPE\t\t24\n#define RTSCTS_SH_CTS_PMB_TYPE\t\t25\n\n#define CR_WEP_PROTECT\t\t\tCTL_REG(0x063C)\n#define CR_RX_THRESHOLD\t\t\tCTL_REG(0x0640)\n\n \n#define CR_LED\t\t\t\tCTL_REG(0x0644)\n \n#define LED1\t\t\t\t(1 <<  8)\n#define LED2\t\t\t\t(1 <<  9)\n#define LED_SW\t\t\t\t(1 << 10)\n\n \n#define CR_AFTER_PNP\t\t\tCTL_REG(0x0648)\n#define CR_ACK_TIME_80211\t\tCTL_REG(0x0658)\n\n#define CR_RX_OFFSET\t\t\tCTL_REG(0x065c)\n\n#define CR_BCN_LENGTH\t\t\tCTL_REG(0x0664)\n#define CR_PHY_DELAY\t\t\tCTL_REG(0x066C)\n#define CR_BCN_FIFO\t\t\tCTL_REG(0x0670)\n#define CR_SNIFFER_ON\t\t\tCTL_REG(0x0674)\n\n#define CR_ENCRYPTION_TYPE\t\tCTL_REG(0x0678)\n#define NO_WEP\t\t\t\t0\n#define WEP64\t\t\t\t1\n#define WEP128\t\t\t\t5\n#define WEP256\t\t\t\t6\n#define ENC_SNIFFER\t\t\t8\n\n#define CR_ZD1211_RETRY_MAX\t\tCTL_REG(0x067C)\n\n#define CR_REG1\t\t\t\tCTL_REG(0x0680)\n \n#define UNLOCK_PHY_REGS\t\t\t(1 << 7)\n\n#define CR_DEVICE_STATE\t\t\tCTL_REG(0x0684)\n#define CR_UNDERRUN_CNT\t\t\tCTL_REG(0x0688)\n\n#define CR_RX_FILTER\t\t\tCTL_REG(0x068c)\n#define RX_FILTER_ASSOC_REQUEST\t\t(1 <<  0)\n#define RX_FILTER_ASSOC_RESPONSE\t(1 <<  1)\n#define RX_FILTER_REASSOC_REQUEST\t(1 <<  2)\n#define RX_FILTER_REASSOC_RESPONSE\t(1 <<  3)\n#define RX_FILTER_PROBE_REQUEST\t\t(1 <<  4)\n#define RX_FILTER_PROBE_RESPONSE\t(1 <<  5)\n \n#define RX_FILTER_BEACON\t\t(1 <<  8)\n#define RX_FILTER_ATIM\t\t\t(1 <<  9)\n#define RX_FILTER_DISASSOC\t\t(1 << 10)\n#define RX_FILTER_AUTH\t\t\t(1 << 11)\n#define RX_FILTER_DEAUTH\t\t(1 << 12)\n#define RX_FILTER_PSPOLL\t\t(1 << 26)\n#define RX_FILTER_RTS\t\t\t(1 << 27)\n#define RX_FILTER_CTS\t\t\t(1 << 28)\n#define RX_FILTER_ACK\t\t\t(1 << 29)\n#define RX_FILTER_CFEND\t\t\t(1 << 30)\n#define RX_FILTER_CFACK\t\t\t(1 << 31)\n\n \n#define STA_RX_FILTER\t(RX_FILTER_ASSOC_REQUEST | RX_FILTER_ASSOC_RESPONSE | \\\n\tRX_FILTER_REASSOC_REQUEST | RX_FILTER_REASSOC_RESPONSE | \\\n\tRX_FILTER_PROBE_REQUEST | RX_FILTER_PROBE_RESPONSE | \\\n\t(0x3 << 6)   | \\\n\tRX_FILTER_BEACON | RX_FILTER_ATIM | RX_FILTER_DISASSOC | \\\n\tRX_FILTER_AUTH | RX_FILTER_DEAUTH | \\\n\t(0x7 << 13)   | \\\n\tRX_FILTER_PSPOLL | RX_FILTER_ACK)  \n\n#define RX_FILTER_CTRL (RX_FILTER_RTS | RX_FILTER_CTS | \\\n\tRX_FILTER_CFEND | RX_FILTER_CFACK)\n\n#define BCN_MODE_AP\t\t\t0x1000000\n#define BCN_MODE_IBSS\t\t\t0x2000000\n\n \n\n#define CR_ACK_TIMEOUT_EXT\t\tCTL_REG(0x0690)\n#define CR_BCN_FIFO_SEMAPHORE\t\tCTL_REG(0x0694)\n\n#define CR_IFS_VALUE\t\t\tCTL_REG(0x0698)\n#define IFS_VALUE_DIFS_SH\t\t0\n#define IFS_VALUE_EIFS_SH\t\t12\n#define IFS_VALUE_SIFS_SH\t\t24\n#define IFS_VALUE_DEFAULT\t\t((  50 << IFS_VALUE_DIFS_SH) | \\\n\t\t\t\t\t (1148 << IFS_VALUE_EIFS_SH) | \\\n\t\t\t\t\t (  10 << IFS_VALUE_SIFS_SH))\n\n#define CR_RX_TIME_OUT\t\t\tCTL_REG(0x069C)\n#define CR_TOTAL_RX_FRM\t\t\tCTL_REG(0x06A0)\n#define CR_CRC32_CNT\t\t\tCTL_REG(0x06A4)\n#define CR_CRC16_CNT\t\t\tCTL_REG(0x06A8)\n#define CR_DECRYPTION_ERR_UNI\t\tCTL_REG(0x06AC)\n#define CR_RX_FIFO_OVERRUN\t\tCTL_REG(0x06B0)\n\n#define CR_DECRYPTION_ERR_MUL\t\tCTL_REG(0x06BC)\n\n#define CR_NAV_CNT\t\t\tCTL_REG(0x06C4)\n#define CR_NAV_CCA\t\t\tCTL_REG(0x06C8)\n#define CR_RETRY_CNT\t\t\tCTL_REG(0x06CC)\n\n#define CR_READ_TCB_ADDR\t\tCTL_REG(0x06E8)\n#define CR_READ_RFD_ADDR\t\tCTL_REG(0x06EC)\n#define CR_CWMIN_CWMAX\t\t\tCTL_REG(0x06F0)\n#define CR_TOTAL_TX_FRM\t\t\tCTL_REG(0x06F4)\n\n \n#define CR_CAM_MODE\t\t\tCTL_REG(0x0700)\n#define MODE_IBSS\t\t\t0x0\n#define MODE_AP\t\t\t\t0x1\n#define MODE_STA\t\t\t0x2\n#define MODE_AP_WDS\t\t\t0x3\n\n#define CR_CAM_ROLL_TB_LOW\t\tCTL_REG(0x0704)\n#define CR_CAM_ROLL_TB_HIGH\t\tCTL_REG(0x0708)\n#define CR_CAM_ADDRESS\t\t\tCTL_REG(0x070C)\n#define CR_CAM_DATA\t\t\tCTL_REG(0x0710)\n\n#define CR_ROMDIR\t\t\tCTL_REG(0x0714)\n\n#define CR_DECRY_ERR_FLG_LOW\t\tCTL_REG(0x0714)\n#define CR_DECRY_ERR_FLG_HIGH\t\tCTL_REG(0x0718)\n\n#define CR_WEPKEY0\t\t\tCTL_REG(0x0720)\n#define CR_WEPKEY1\t\t\tCTL_REG(0x0724)\n#define CR_WEPKEY2\t\t\tCTL_REG(0x0728)\n#define CR_WEPKEY3\t\t\tCTL_REG(0x072C)\n#define CR_WEPKEY4\t\t\tCTL_REG(0x0730)\n#define CR_WEPKEY5\t\t\tCTL_REG(0x0734)\n#define CR_WEPKEY6\t\t\tCTL_REG(0x0738)\n#define CR_WEPKEY7\t\t\tCTL_REG(0x073C)\n#define CR_WEPKEY8\t\t\tCTL_REG(0x0740)\n#define CR_WEPKEY9\t\t\tCTL_REG(0x0744)\n#define CR_WEPKEY10\t\t\tCTL_REG(0x0748)\n#define CR_WEPKEY11\t\t\tCTL_REG(0x074C)\n#define CR_WEPKEY12\t\t\tCTL_REG(0x0750)\n#define CR_WEPKEY13\t\t\tCTL_REG(0x0754)\n#define CR_WEPKEY14\t\t\tCTL_REG(0x0758)\n#define CR_WEPKEY15\t\t\tCTL_REG(0x075c)\n#define CR_TKIP_MODE\t\t\tCTL_REG(0x0760)\n\n#define CR_EEPROM_PROTECT0\t\tCTL_REG(0x0758)\n#define CR_EEPROM_PROTECT1\t\tCTL_REG(0x075C)\n\n#define CR_DBG_FIFO_RD\t\t\tCTL_REG(0x0800)\n#define CR_DBG_SELECT\t\t\tCTL_REG(0x0804)\n#define CR_FIFO_Length\t\t\tCTL_REG(0x0808)\n\n\n#define CR_RSSI_MGC\t\t\tCTL_REG(0x0810)\n\n#define CR_PON\t\t\t\tCTL_REG(0x0818)\n#define CR_RX_ON\t\t\tCTL_REG(0x081C)\n#define CR_TX_ON\t\t\tCTL_REG(0x0820)\n#define CR_CHIP_EN\t\t\tCTL_REG(0x0824)\n#define CR_LO_SW\t\t\tCTL_REG(0x0828)\n#define CR_TXRX_SW\t\t\tCTL_REG(0x082C)\n#define CR_S_MD\t\t\t\tCTL_REG(0x0830)\n\n#define CR_USB_DEBUG_PORT\t\tCTL_REG(0x0888)\n#define CR_ZD1211B_CWIN_MAX_MIN_AC0\tCTL_REG(0x0b00)\n#define CR_ZD1211B_CWIN_MAX_MIN_AC1\tCTL_REG(0x0b04)\n#define CR_ZD1211B_CWIN_MAX_MIN_AC2\tCTL_REG(0x0b08)\n#define CR_ZD1211B_CWIN_MAX_MIN_AC3\tCTL_REG(0x0b0c)\n#define CR_ZD1211B_AIFS_CTL1\t\tCTL_REG(0x0b10)\n#define CR_ZD1211B_AIFS_CTL2\t\tCTL_REG(0x0b14)\n#define CR_ZD1211B_TXOP\t\t\tCTL_REG(0x0b20)\n#define CR_ZD1211B_RETRY_MAX\t\tCTL_REG(0x0b28)\n\n \n#define\tZD1211_RETRY_COUNT\t\t0\n#define\tZD1211B_RETRY_COUNT\t\\\n\t(ZD1211_RETRY_COUNT <<  0)|\t\\\n\t(ZD1211_RETRY_COUNT <<  8)|\t\\\n\t(ZD1211_RETRY_COUNT << 16)|\t\\\n\t(ZD1211_RETRY_COUNT << 24)\n\n \n#define UW2453_INTR_REG\t\t\t((zd_addr_t)0x85c1)\n\n#define CWIN_SIZE\t\t\t0x007f043f\n\n\n#define HWINT_ENABLED\t\t\t\\\n\t(INT_TX_COMPLETE_EN|\t\t\\\n\t INT_RX_COMPLETE_EN|\t\t\\\n\t INT_RETRY_FAIL_EN|\t\t\\\n\t INT_WAKEUP_EN|\t\t\t\\\n\t INT_CFG_NEXT_BCN_EN)\n\n#define HWINT_DISABLED\t\t\t0\n\n#define E2P_PWR_INT_GUARD\t\t8\n#define E2P_CHANNEL_COUNT\t\t14\n\n \n\n \n#define E2P_SUBID\t\tE2P_DATA(0x00)\n#define E2P_POD\t\t\tE2P_DATA(0x02)\n#define E2P_MAC_ADDR_P1\t\tE2P_DATA(0x04)\n#define E2P_MAC_ADDR_P2\t\tE2P_DATA(0x06)\n#define E2P_PWR_CAL_VALUE1\tE2P_DATA(0x08)\n#define E2P_PWR_CAL_VALUE2\tE2P_DATA(0x0a)\n#define E2P_PWR_CAL_VALUE3\tE2P_DATA(0x0c)\n#define E2P_PWR_CAL_VALUE4      E2P_DATA(0x0e)\n#define E2P_PWR_INT_VALUE1\tE2P_DATA(0x10)\n#define E2P_PWR_INT_VALUE2\tE2P_DATA(0x12)\n#define E2P_PWR_INT_VALUE3\tE2P_DATA(0x14)\n#define E2P_PWR_INT_VALUE4\tE2P_DATA(0x16)\n\n \n#define E2P_ALLOWED_CHANNEL\tE2P_DATA(0x18)\n\n#define E2P_DEVICE_VER\t\tE2P_DATA(0x20)\n#define E2P_PHY_REG\t\tE2P_DATA(0x25)\n#define E2P_36M_CAL_VALUE1\tE2P_DATA(0x28)\n#define E2P_36M_CAL_VALUE2      E2P_DATA(0x2a)\n#define E2P_36M_CAL_VALUE3      E2P_DATA(0x2c)\n#define E2P_36M_CAL_VALUE4\tE2P_DATA(0x2e)\n#define E2P_11A_INT_VALUE1\tE2P_DATA(0x30)\n#define E2P_11A_INT_VALUE2\tE2P_DATA(0x32)\n#define E2P_11A_INT_VALUE3\tE2P_DATA(0x34)\n#define E2P_11A_INT_VALUE4\tE2P_DATA(0x36)\n#define E2P_48M_CAL_VALUE1\tE2P_DATA(0x38)\n#define E2P_48M_CAL_VALUE2\tE2P_DATA(0x3a)\n#define E2P_48M_CAL_VALUE3\tE2P_DATA(0x3c)\n#define E2P_48M_CAL_VALUE4\tE2P_DATA(0x3e)\n#define E2P_48M_INT_VALUE1\tE2P_DATA(0x40)\n#define E2P_48M_INT_VALUE2\tE2P_DATA(0x42)\n#define E2P_48M_INT_VALUE3\tE2P_DATA(0x44)\n#define E2P_48M_INT_VALUE4\tE2P_DATA(0x46)\n#define E2P_54M_CAL_VALUE1\tE2P_DATA(0x48)\t \n#define E2P_54M_CAL_VALUE2\tE2P_DATA(0x4a)\n#define E2P_54M_CAL_VALUE3\tE2P_DATA(0x4c)\n#define E2P_54M_CAL_VALUE4\tE2P_DATA(0x4e)\n#define E2P_54M_INT_VALUE1\tE2P_DATA(0x50)\n#define E2P_54M_INT_VALUE2\tE2P_DATA(0x52)\n#define E2P_54M_INT_VALUE3\tE2P_DATA(0x54)\n#define E2P_54M_INT_VALUE4\tE2P_DATA(0x56)\n\n \n#define FWRAW_REGS_ADDR\t\tFWRAW_DATA(0x1d)\n\n \nenum {\n\tFW_REG_FIRMWARE_VER\t= 0,\n\t \n\tFW_REG_USB_SPEED\t= 1,\n\tFW_REG_FIX_TX_RATE\t= 2,\n\t \n\tFW_REG_LED_LINK_STATUS\t= 3,\n\tFW_REG_SOFT_RESET\t= 4,\n\tFW_REG_FLASH_CHK\t= 5,\n};\n\n \n#define FW_LINK_OFF\t\t0x0\n#define FW_LINK_TX\t\t0x1\n \n\nenum {\n\t \n\tOFDM_36M_INDEX = 0,\n\tOFDM_48M_INDEX = 1,\n\tOFDM_54M_INDEX = 2,\n};\n\nstruct zd_chip {\n\tstruct zd_usb usb;\n\tstruct zd_rf rf;\n\tstruct mutex mutex;\n\t \n\tzd_addr_t fw_regs_base;\n\t \n\tu8 pwr_cal_values[E2P_CHANNEL_COUNT];\n\t \n\tu8 pwr_int_values[E2P_CHANNEL_COUNT];\n\t \n\tu8 ofdm_cal_values[3][E2P_CHANNEL_COUNT];\n\tu16 link_led;\n\tunsigned int pa_type:4,\n\t\tpatch_cck_gain:1, patch_cr157:1, patch_6m_band_edge:1,\n\t\tnew_phy_layout:1, al2230s_bit:1,\n\t\tsupports_tx_led:1;\n};\n\nstatic inline struct zd_chip *zd_usb_to_chip(struct zd_usb *usb)\n{\n\treturn container_of(usb, struct zd_chip, usb);\n}\n\nstatic inline struct zd_chip *zd_rf_to_chip(struct zd_rf *rf)\n{\n\treturn container_of(rf, struct zd_chip, rf);\n}\n\n#define zd_chip_dev(chip) (&(chip)->usb.intf->dev)\n\nvoid zd_chip_init(struct zd_chip *chip,\n\t         struct ieee80211_hw *hw,\n\t         struct usb_interface *intf);\nvoid zd_chip_clear(struct zd_chip *chip);\nint zd_chip_read_mac_addr_fw(struct zd_chip *chip, u8 *addr);\nint zd_chip_init_hw(struct zd_chip *chip);\nint zd_chip_reset(struct zd_chip *chip);\n\nstatic inline int zd_chip_is_zd1211b(struct zd_chip *chip)\n{\n\treturn chip->usb.is_zd1211b;\n}\n\nstatic inline int zd_ioread16v_locked(struct zd_chip *chip, u16 *values,\n\t                              const zd_addr_t *addresses,\n\t\t\t\t      unsigned int count)\n{\n\tZD_ASSERT(mutex_is_locked(&chip->mutex));\n\treturn zd_usb_ioread16v(&chip->usb, values, addresses, count);\n}\n\nstatic inline int zd_ioread16_locked(struct zd_chip *chip, u16 *value,\n\t                             const zd_addr_t addr)\n{\n\tZD_ASSERT(mutex_is_locked(&chip->mutex));\n\treturn zd_usb_ioread16(&chip->usb, value, addr);\n}\n\nint zd_ioread32v_locked(struct zd_chip *chip, u32 *values,\n\t                const zd_addr_t *addresses, unsigned int count);\n\nstatic inline int zd_ioread32_locked(struct zd_chip *chip, u32 *value,\n\t                             const zd_addr_t addr)\n{\n\treturn zd_ioread32v_locked(chip, value, &addr, 1);\n}\n\nstatic inline int zd_iowrite16_locked(struct zd_chip *chip, u16 value,\n\t                              zd_addr_t addr)\n{\n\tstruct zd_ioreq16 ioreq;\n\n\tZD_ASSERT(mutex_is_locked(&chip->mutex));\n\tioreq.addr = addr;\n\tioreq.value = value;\n\n\treturn zd_usb_iowrite16v(&chip->usb, &ioreq, 1);\n}\n\nint zd_iowrite16a_locked(struct zd_chip *chip,\n                         const struct zd_ioreq16 *ioreqs, unsigned int count);\n\nint _zd_iowrite32v_locked(struct zd_chip *chip, const struct zd_ioreq32 *ioreqs,\n\t\t\t  unsigned int count);\n\nstatic inline int zd_iowrite32_locked(struct zd_chip *chip, u32 value,\n\t                              zd_addr_t addr)\n{\n\tstruct zd_ioreq32 ioreq;\n\n\tioreq.addr = addr;\n\tioreq.value = value;\n\n\treturn _zd_iowrite32v_locked(chip, &ioreq, 1);\n}\n\nint zd_iowrite32a_locked(struct zd_chip *chip,\n\t                 const struct zd_ioreq32 *ioreqs, unsigned int count);\n\nstatic inline int zd_rfwrite_locked(struct zd_chip *chip, u32 value, u8 bits)\n{\n\tZD_ASSERT(mutex_is_locked(&chip->mutex));\n\treturn zd_usb_rfwrite(&chip->usb, value, bits);\n}\n\nint zd_rfwrite_cr_locked(struct zd_chip *chip, u32 value);\n\nint zd_rfwritev_locked(struct zd_chip *chip,\n\t               const u32* values, unsigned int count, u8 bits);\nint zd_rfwritev_cr_locked(struct zd_chip *chip,\n\t                  const u32* values, unsigned int count);\n\n \nint zd_ioread16(struct zd_chip *chip, zd_addr_t addr, u16 *value);\nint zd_iowrite16(struct zd_chip *chip, zd_addr_t addr, u16 value);\nint zd_ioread32(struct zd_chip *chip, zd_addr_t addr, u32 *value);\nint zd_iowrite32(struct zd_chip *chip, zd_addr_t addr, u32 value);\nint zd_ioread32v(struct zd_chip *chip, const zd_addr_t *addresses,\n\t          u32 *values, unsigned int count);\nint zd_iowrite32a(struct zd_chip *chip, const struct zd_ioreq32 *ioreqs,\n\t           unsigned int count);\n\nint zd_chip_set_channel(struct zd_chip *chip, u8 channel);\nstatic inline u8 _zd_chip_get_channel(struct zd_chip *chip)\n{\n\treturn chip->rf.channel;\n}\nu8  zd_chip_get_channel(struct zd_chip *chip);\nint zd_read_regdomain(struct zd_chip *chip, u8 *regdomain);\nint zd_write_mac_addr(struct zd_chip *chip, const u8 *mac_addr);\nint zd_write_bssid(struct zd_chip *chip, const u8 *bssid);\nint zd_chip_switch_radio_on(struct zd_chip *chip);\nint zd_chip_switch_radio_off(struct zd_chip *chip);\nint zd_chip_enable_int(struct zd_chip *chip);\nvoid zd_chip_disable_int(struct zd_chip *chip);\nint zd_chip_enable_rxtx(struct zd_chip *chip);\nvoid zd_chip_disable_rxtx(struct zd_chip *chip);\nint zd_chip_enable_hwint(struct zd_chip *chip);\nint zd_chip_disable_hwint(struct zd_chip *chip);\nint zd_chip_generic_patch_6m_band(struct zd_chip *chip, int channel);\nint zd_chip_set_rts_cts_rate_locked(struct zd_chip *chip, int preamble);\n\nstatic inline int zd_get_encryption_type(struct zd_chip *chip, u32 *type)\n{\n\treturn zd_ioread32(chip, CR_ENCRYPTION_TYPE, type);\n}\n\nstatic inline int zd_set_encryption_type(struct zd_chip *chip, u32 type)\n{\n\treturn zd_iowrite32(chip, CR_ENCRYPTION_TYPE, type);\n}\n\nstatic inline int zd_chip_get_basic_rates(struct zd_chip *chip, u16 *cr_rates)\n{\n\treturn zd_ioread16(chip, CR_BASIC_RATE_TBL, cr_rates);\n}\n\nint zd_chip_set_basic_rates(struct zd_chip *chip, u16 cr_rates);\n\nint zd_chip_lock_phy_regs(struct zd_chip *chip);\nint zd_chip_unlock_phy_regs(struct zd_chip *chip);\n\nenum led_status {\n\tZD_LED_OFF = 0,\n\tZD_LED_SCANNING = 1,\n\tZD_LED_ASSOCIATED = 2,\n};\n\nint zd_chip_control_leds(struct zd_chip *chip, enum led_status status);\n\nint zd_set_beacon_interval(struct zd_chip *chip, u16 interval, u8 dtim_period,\n\t\t\t   int type);\n\nstatic inline int zd_get_beacon_interval(struct zd_chip *chip, u32 *interval)\n{\n\treturn zd_ioread32(chip, CR_BCN_INTERVAL, interval);\n}\n\nstruct rx_status;\n\nu8 zd_rx_rate(const void *rx_frame, const struct rx_status *status);\n\nstruct zd_mc_hash {\n\tu32 low;\n\tu32 high;\n};\n\nstatic inline void zd_mc_clear(struct zd_mc_hash *hash)\n{\n\thash->low = 0;\n\t \n\thash->high = 0x80000000;\n}\n\nstatic inline void zd_mc_add_all(struct zd_mc_hash *hash)\n{\n\thash->low = hash->high = 0xffffffff;\n}\n\nstatic inline void zd_mc_add_addr(struct zd_mc_hash *hash, u8 *addr)\n{\n\tunsigned int i = addr[5] >> 2;\n\tif (i < 32) {\n\t\thash->low |= 1 << i;\n\t} else {\n\t\thash->high |= 1 << (i-32);\n\t}\n}\n\nint zd_chip_set_multicast_hash(struct zd_chip *chip,\n\t                       struct zd_mc_hash *hash);\n\nu64 zd_chip_get_tsf(struct zd_chip *chip);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}