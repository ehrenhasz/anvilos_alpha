{
  "module_name": "rsi_common.h",
  "hash_id": "f6db15ec47bffa2e09c3049f70938c0fd7497e3c91f9c0efad2388fc567c1954",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/rsi/rsi_common.h",
  "human_readable_source": " \n\n#ifndef __RSI_COMMON_H__\n#define __RSI_COMMON_H__\n\n#include <linux/kthread.h>\n\n#define EVENT_WAIT_FOREVER              0\n#define FIRMWARE_RSI9113                \"rs9113_wlan_qspi.rps\"\n#define QUEUE_NOT_FULL                  1\n#define QUEUE_FULL                      0\n\nstatic inline int rsi_init_event(struct rsi_event *pevent)\n{\n\tatomic_set(&pevent->event_condition, 1);\n\tinit_waitqueue_head(&pevent->event_queue);\n\treturn 0;\n}\n\nstatic inline int rsi_wait_event(struct rsi_event *event, u32 timeout)\n{\n\tint status = 0;\n\n\tif (!timeout)\n\t\tstatus = wait_event_interruptible(event->event_queue,\n\t\t\t\t(atomic_read(&event->event_condition) == 0));\n\telse\n\t\tstatus = wait_event_interruptible_timeout(event->event_queue,\n\t\t\t\t(atomic_read(&event->event_condition) == 0),\n\t\t\t\ttimeout);\n\treturn status;\n}\n\nstatic inline void rsi_set_event(struct rsi_event *event)\n{\n\tatomic_set(&event->event_condition, 0);\n\twake_up_interruptible(&event->event_queue);\n}\n\nstatic inline void rsi_reset_event(struct rsi_event *event)\n{\n\tatomic_set(&event->event_condition, 1);\n}\n\nstatic inline int rsi_create_kthread(struct rsi_common *common,\n\t\t\t\t     struct rsi_thread *thread,\n\t\t\t\t     void *func_ptr,\n\t\t\t\t     u8 *name)\n{\n\tinit_completion(&thread->completion);\n\tatomic_set(&thread->thread_done, 0);\n\tthread->task = kthread_run(func_ptr, common, \"%s\", name);\n\tif (IS_ERR(thread->task))\n\t\treturn (int)PTR_ERR(thread->task);\n\n\treturn 0;\n}\n\nstatic inline int rsi_kill_thread(struct rsi_thread *handle)\n{\n\tatomic_inc(&handle->thread_done);\n\trsi_set_event(&handle->event);\n\n\treturn kthread_stop(handle->task);\n}\n\nvoid rsi_mac80211_detach(struct rsi_hw *hw);\nu16 rsi_get_connected_channel(struct ieee80211_vif *vif);\nstruct rsi_hw *rsi_91x_init(u16 oper_mode);\nvoid rsi_91x_deinit(struct rsi_hw *adapter);\nint rsi_read_pkt(struct rsi_common *common, u8 *rx_pkt, s32 rcv_pkt_len);\n#ifdef CONFIG_PM\nint rsi_config_wowlan(struct rsi_hw *adapter, struct cfg80211_wowlan *wowlan);\n#endif\nstruct rsi_sta *rsi_find_sta(struct rsi_common *common, u8 *mac_addr);\nstruct ieee80211_vif *rsi_get_vif(struct rsi_hw *adapter, u8 *mac);\nvoid rsi_roc_timeout(struct timer_list *t);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}