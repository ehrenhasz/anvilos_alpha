{
  "module_name": "rsi_hal.h",
  "hash_id": "4a9d4c82e7684f4c18c4273ad7b05cf0e970a47f9f4ac3984480a78e33b1558d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/rsi/rsi_hal.h",
  "human_readable_source": " \n\n#ifndef __RSI_HAL_H__\n#define __RSI_HAL_H__\n\n \n#define DEV_OPMODE_WIFI_ALONE\t\t1\n#define DEV_OPMODE_BT_ALONE\t\t4\n#define DEV_OPMODE_BT_LE_ALONE\t\t8\n#define DEV_OPMODE_BT_DUAL\t\t12\n#define DEV_OPMODE_STA_BT\t\t5\n#define DEV_OPMODE_STA_BT_LE\t\t9\n#define DEV_OPMODE_STA_BT_DUAL\t\t13\n#define DEV_OPMODE_AP_BT\t\t6\n#define DEV_OPMODE_AP_BT_DUAL\t\t14\n\n#define DEV_OPMODE_PARAM_DESC\t\t\\\n\t__stringify(DEV_OPMODE_WIFI_ALONE)\t\"[Wi-Fi alone], \"\t\\\n\t__stringify(DEV_OPMODE_BT_ALONE)\t\"[BT classic alone], \"\t\\\n\t__stringify(DEV_OPMODE_BT_LE_ALONE)\t\"[BT LE alone], \"\t\\\n\t__stringify(DEV_OPMODE_BT_DUAL)\t\t\"[BT classic + BT LE alone], \" \\\n\t__stringify(DEV_OPMODE_STA_BT)\t\t\"[Wi-Fi STA + BT classic], \" \\\n\t__stringify(DEV_OPMODE_STA_BT_LE)\t\"[Wi-Fi STA + BT LE], \"\t\\\n\t__stringify(DEV_OPMODE_STA_BT_DUAL)\t\"[Wi-Fi STA + BT classic + BT LE], \" \\\n\t__stringify(DEV_OPMODE_AP_BT)\t\t\"[Wi-Fi AP + BT classic], \"\t\\\n\t__stringify(DEV_OPMODE_AP_BT_DUAL)\t\"[Wi-Fi AP + BT classic + BT LE]\"\n\n#define FLASH_WRITE_CHUNK_SIZE\t\t(4 * 1024)\n#define FLASH_SECTOR_SIZE\t\t(4 * 1024)\n\n#define FLASH_SIZE_ADDR\t\t\t0x04000016\n#define PING_BUFFER_ADDRESS\t\t0x19000\n#define PONG_BUFFER_ADDRESS\t\t0x1a000\n#define SWBL_REGIN\t\t\t0x41050034\n#define SWBL_REGOUT\t\t\t0x4105003c\n#define PING_WRITE\t\t\t0x1\n#define PONG_WRITE\t\t\t0x2\n\n#define BL_CMD_TIMEOUT\t\t\t2000\n#define BL_BURN_TIMEOUT\t\t\t(50 * 1000)\n\n#define REGIN_VALID\t\t\t0xA\n#define REGIN_INPUT\t\t\t0xA0\n#define REGOUT_VALID\t\t\t0xAB\n#define REGOUT_INVALID\t\t\t(~0xAB)\n#define CMD_PASS\t\t\t0xAA\n#define CMD_FAIL\t\t\t0xCC\n\n#define LOAD_HOSTED_FW\t\t\t'A'\n#define BURN_HOSTED_FW\t\t\t'B'\n#define PING_VALID\t\t\t'I'\n#define PONG_VALID\t\t\t'O'\n#define PING_AVAIL\t\t\t'I'\n#define PONG_AVAIL\t\t\t'O'\n#define EOF_REACHED\t\t\t'E'\n#define CHECK_CRC\t\t\t'K'\n#define POLLING_MODE\t\t\t'P'\n#define AUTO_READ_MODE\t\t\t'R'\n#define JUMP_TO_ZERO_PC\t\t\t'J'\n#define FW_LOADING_SUCCESSFUL\t\t'S'\n#define LOADING_INITIATED\t\t'1'\n\n#define RSI_ULP_RESET_REG\t\t0x161\n#define RSI_WATCH_DOG_TIMER_1\t\t0x16c\n#define RSI_WATCH_DOG_TIMER_2\t\t0x16d\n#define RSI_WATCH_DOG_DELAY_TIMER_1\t\t0x16e\n#define RSI_WATCH_DOG_DELAY_TIMER_2\t\t0x16f\n#define RSI_WATCH_DOG_TIMER_ENABLE\t\t0x170\n\n \n#define NWP_AHB_BASE_ADDR\t\t0x41300000\n#define NWP_WWD_INTERRUPT_TIMER\t\t(NWP_AHB_BASE_ADDR + 0x300)\n#define NWP_WWD_SYSTEM_RESET_TIMER\t(NWP_AHB_BASE_ADDR + 0x304)\n#define NWP_WWD_WINDOW_TIMER\t\t(NWP_AHB_BASE_ADDR + 0x308)\n#define NWP_WWD_TIMER_SETTINGS\t\t(NWP_AHB_BASE_ADDR + 0x30C)\n#define NWP_WWD_MODE_AND_RSTART\t\t(NWP_AHB_BASE_ADDR + 0x310)\n#define NWP_WWD_RESET_BYPASS\t\t(NWP_AHB_BASE_ADDR + 0x314)\n#define NWP_FSM_INTR_MASK_REG\t\t(NWP_AHB_BASE_ADDR + 0x104)\n\n \n#define NWP_WWD_INT_TIMER_CLKS\t\t5\n#define NWP_WWD_SYS_RESET_TIMER_CLKS\t4\n#define NWP_WWD_TIMER_DISABLE\t\t0xAA0001\n\n#define RSI_ULP_WRITE_0\t\t\t00\n#define RSI_ULP_WRITE_2\t\t\t02\n#define RSI_ULP_WRITE_50\t\t50\n\n#define RSI_RESTART_WDT\t\t\tBIT(11)\n#define RSI_BYPASS_ULP_ON_WDT\t\tBIT(1)\n\n#define RSI_ULP_TIMER_ENABLE\t\t((0xaa000) | RSI_RESTART_WDT |\t\\\n\t\t\t\t\t RSI_BYPASS_ULP_ON_WDT)\n#define RSI_RF_SPI_PROG_REG_BASE_ADDR\t0x40080000\n\n#define RSI_GSPI_CTRL_REG0\t\t(RSI_RF_SPI_PROG_REG_BASE_ADDR)\n#define RSI_GSPI_CTRL_REG1\t\t(RSI_RF_SPI_PROG_REG_BASE_ADDR + 0x2)\n#define RSI_GSPI_DATA_REG0\t\t(RSI_RF_SPI_PROG_REG_BASE_ADDR + 0x4)\n#define RSI_GSPI_DATA_REG1\t\t(RSI_RF_SPI_PROG_REG_BASE_ADDR + 0x6)\n#define RSI_GSPI_DATA_REG2\t\t(RSI_RF_SPI_PROG_REG_BASE_ADDR + 0x8)\n\n#define RSI_GSPI_CTRL_REG0_VALUE\t\t0x340\n\n#define RSI_GSPI_DMA_MODE\t\t\tBIT(13)\n\n#define RSI_GSPI_2_ULP\t\t\tBIT(12)\n#define RSI_GSPI_TRIG\t\t\tBIT(7)\n#define RSI_GSPI_READ\t\t\tBIT(6)\n#define RSI_GSPI_RF_SPI_ACTIVE\t\tBIT(8)\n\n \n#define SEND_RPS_FILE\t\t\t'2'\n\n#define FW_IMAGE_MIN_ADDRESS\t\t(68 * 1024)\n#define MAX_FLASH_FILE_SIZE\t\t(400 * 1024) \n#define FLASH_START_ADDRESS\t\t16\n\n#define COMMON_HAL_CARD_READY_IND\t0x0\n\n#define COMMAN_HAL_WAIT_FOR_CARD_READY\t1\n\n#define RSI_DEV_OPMODE_WIFI_ALONE\t1\n#define RSI_DEV_COEX_MODE_WIFI_ALONE\t1\n\n#define BBP_INFO_40MHZ 0x6\n\n#define FW_FLASH_OFFSET\t\t\t0x820\n#define LMAC_VER_OFFSET_9113\t\t(FW_FLASH_OFFSET + 0x200)\n#define LMAC_VER_OFFSET_9116\t\t0x22C2\n#define MAX_DWORD_ALIGN_BYTES\t\t64\n#define RSI_COMMON_REG_SIZE\t\t2\n#define RSI_9116_REG_SIZE\t\t4\n#define FW_ALIGN_SIZE\t\t\t4\n#define RSI_9116_FW_MAGIC_WORD\t\t0x5aa5\n\n#define MEM_ACCESS_CTRL_FROM_HOST\t0x41300000\n#define RAM_384K_ACCESS_FROM_TA\t\t(BIT(2) | BIT(3) | BIT(4) | BIT(5) | \\\n\t\t\t\t\t BIT(20) | BIT(21) | BIT(22) | \\\n\t\t\t\t\t BIT(23) | BIT(24) | BIT(25))\n\nstruct bl_header {\n\t__le32 flags;\n\t__le32 image_no;\n\t__le32 check_sum;\n\t__le32 flash_start_address;\n\t__le32 flash_len;\n} __packed;\n\nstruct ta_metadata {\n\tchar *name;\n\tunsigned int address;\n};\n\n#define RSI_BL_CTRL_LEN_MASK\t\t\t0xFFFFFF\n#define RSI_BL_CTRL_SPI_32BIT_MODE\t\tBIT(27)\n#define RSI_BL_CTRL_REL_TA_SOFTRESET\t\tBIT(28)\n#define RSI_BL_CTRL_START_FROM_ROM_PC\t\tBIT(29)\n#define RSI_BL_CTRL_SPI_8BIT_MODE\t\tBIT(30)\n#define RSI_BL_CTRL_LAST_ENTRY\t\t\tBIT(31)\nstruct bootload_entry {\n\t__le32 control;\n\t__le32 dst_addr;\n} __packed;\n\nstruct bootload_ds {\n\t__le16 fixed_pattern;\n\t__le16 offset;\n\t__le32 reserved;\n\tstruct bootload_entry bl_entry[7];\n} __packed;\n\nstruct rsi_mgmt_desc {\n\t__le16 len_qno;\n\tu8 frame_type;\n\tu8 misc_flags;\n\tu8 xtend_desc_size;\n\tu8 header_len;\n\t__le16 frame_info;\n\t__le16 rate_info;\n\t__le16 bbp_info;\n\t__le16 seq_ctrl;\n\tu8 reserved2;\n\tu8 sta_id;\n} __packed;\n\nstruct rsi_data_desc {\n\t__le16 len_qno;\n\tu8 cfm_frame_type;\n\tu8 misc_flags;\n\tu8 xtend_desc_size;\n\tu8 header_len;\n\t__le16 frame_info;\n\t__le16 rate_info;\n\t__le16 bbp_info;\n\t__le16 mac_flags;\n\tu8 qid_tid;\n\tu8 sta_id;\n} __packed;\n\nstruct rsi_bt_desc {\n\t__le16 len_qno;\n\t__le16 reserved1;\n\t__le32 reserved2;\n\t__le32 reserved3;\n\t__le16 reserved4;\n\t__le16 bt_pkt_type;\n} __packed;\n\nint rsi_hal_device_init(struct rsi_hw *adapter);\nint rsi_prepare_mgmt_desc(struct rsi_common *common, struct sk_buff *skb);\nint rsi_prepare_data_desc(struct rsi_common *common, struct sk_buff *skb);\nint rsi_prepare_beacon(struct rsi_common *common, struct sk_buff *skb);\nint rsi_send_pkt_to_bus(struct rsi_common *common, struct sk_buff *skb);\nint rsi_send_bt_pkt(struct rsi_common *common, struct sk_buff *skb);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}