{
  "module_name": "bmi.h",
  "hash_id": "59bee46c355ac4f44c44358e4533e4d0c41ca8972271e0f30fe8179604b008f8",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/ath6kl/bmi.h",
  "human_readable_source": " \n\n#ifndef BMI_H\n#define BMI_H\n\n \n\n \n\n#define BMI_NO_COMMAND                      0\n\n#define BMI_DONE                            1\n \n\n#define BMI_READ_MEMORY                     2\n \n\n#define BMI_WRITE_MEMORY                    3\n \n\n#define BMI_EXECUTE                         4\n \n\n#define BMI_SET_APP_START                   5\n \n\n#define BMI_READ_SOC_REGISTER               6\n \n\n#define BMI_WRITE_SOC_REGISTER              7\n \n\n#define BMI_GET_TARGET_ID                  8\n#define BMI_GET_TARGET_INFO                8\n \n\n#define TARGET_VERSION_SENTINAL 0xffffffff\n#define TARGET_TYPE_AR6003      3\n#define TARGET_TYPE_AR6004      5\n#define BMI_ROMPATCH_INSTALL               9\n \n\n#define BMI_ROMPATCH_UNINSTALL             10\n \n\n#define BMI_ROMPATCH_ACTIVATE              11\n \n\n#define BMI_ROMPATCH_DEACTIVATE            12\n \n\n\n#define BMI_LZ_STREAM_START                13\n \n\n#define BMI_LZ_DATA                        14\n \n\n#define BMI_COMMUNICATION_TIMEOUT       1000  \n\nstruct ath6kl;\nstruct ath6kl_bmi_target_info {\n\t__le32 byte_count;    \n\t__le32 version;       \n\t__le32 type;          \n} __packed;\n\n#define ath6kl_bmi_write_hi32(ar, item, val)\t\t\t\t\\\n\t({\t\t\t\t\t\t\t\t\\\n\t\tu32 addr;\t\t\t\t\t\t\\\n\t\t__le32 v;\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\t\taddr = ath6kl_get_hi_item_addr(ar, HI_ITEM(item));\t\\\n\t\tv = cpu_to_le32(val);\t\t\t\t\t\\\n\t\tath6kl_bmi_write(ar, addr, (u8 *) &v, sizeof(v));\t\\\n\t})\n\n#define ath6kl_bmi_read_hi32(ar, item, val)\t\t\t\t\\\n\t({\t\t\t\t\t\t\t\t\\\n\t\tu32 addr, *check_type = val;\t\t\t\t\\\n\t\t__le32 tmp;\t\t\t\t\t\t\\\n\t\tint ret;\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\t\t(void) (check_type == val);\t\t\t\t\\\n\t\taddr = ath6kl_get_hi_item_addr(ar, HI_ITEM(item));\t\\\n\t\tret = ath6kl_bmi_read(ar, addr, (u8 *) &tmp, 4);\t\\\n\t\tif (!ret)\t\t\t\t\t\t\\\n\t\t\t*val = le32_to_cpu(tmp);\t\t\t\\\n\t\tret;\t\t\t\t\t\t\t\\\n\t})\n\nint ath6kl_bmi_init(struct ath6kl *ar);\nvoid ath6kl_bmi_cleanup(struct ath6kl *ar);\nvoid ath6kl_bmi_reset(struct ath6kl *ar);\n\nint ath6kl_bmi_done(struct ath6kl *ar);\nint ath6kl_bmi_get_target_info(struct ath6kl *ar,\n\t\t\t       struct ath6kl_bmi_target_info *targ_info);\nint ath6kl_bmi_read(struct ath6kl *ar, u32 addr, u8 *buf, u32 len);\nint ath6kl_bmi_write(struct ath6kl *ar, u32 addr, u8 *buf, u32 len);\nint ath6kl_bmi_execute(struct ath6kl *ar,\n\t\t       u32 addr, u32 *param);\nint ath6kl_bmi_set_app_start(struct ath6kl *ar,\n\t\t\t     u32 addr);\nint ath6kl_bmi_reg_read(struct ath6kl *ar, u32 addr, u32 *param);\nint ath6kl_bmi_reg_write(struct ath6kl *ar, u32 addr, u32 param);\nint ath6kl_bmi_lz_data(struct ath6kl *ar,\n\t\t       u8 *buf, u32 len);\nint ath6kl_bmi_lz_stream_start(struct ath6kl *ar,\n\t\t\t       u32 addr);\nint ath6kl_bmi_fast_download(struct ath6kl *ar,\n\t\t\t     u32 addr, u8 *buf, u32 len);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}