{
  "module_name": "ce.h",
  "hash_id": "7ea4579f43aec7d3dccaa62629fe26d119687f7283f2414016f9c1a42f187f4f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/ath11k/ce.h",
  "human_readable_source": " \n \n\n#ifndef ATH11K_CE_H\n#define ATH11K_CE_H\n\n#define CE_COUNT_MAX 12\n\n \n#define CE_ATTR_BYTE_SWAP_DATA 2\n\n \n#define CE_ATTR_DIS_INTR\t\t8\n\n \n#ifdef __BIG_ENDIAN\n#define CE_ATTR_FLAGS CE_ATTR_BYTE_SWAP_DATA\n#else\n#define CE_ATTR_FLAGS 0\n#endif\n\n \n#define ATH11K_CE_USAGE_THRESHOLD 32\n\nvoid ath11k_ce_byte_swap(void *mem, u32 len);\n\n \n#define PIPEDIR_NONE\t\t0\n#define PIPEDIR_IN\t\t1  \n#define PIPEDIR_OUT\t\t2  \n#define PIPEDIR_INOUT\t\t3  \n#define PIPEDIR_INOUT_H2H\t4  \n\n \n#define CE_HOST_IE_ADDRESS\t0x00A1803C\n#define CE_HOST_IE_2_ADDRESS\t0x00A18040\n#define CE_HOST_IE_3_ADDRESS\tCE_HOST_IE_ADDRESS\n\n \n#define CE_HOST_IPQ5018_IE_ADDRESS\t\t0x0841804C\n#define CE_HOST_IPQ5018_IE_2_ADDRESS\t\t0x08418050\n#define CE_HOST_IPQ5018_IE_3_ADDRESS\t\tCE_HOST_IPQ5018_IE_ADDRESS\n\n#define CE_HOST_IE_3_SHIFT\t0xC\n\n#define CE_RING_IDX_INCR(nentries_mask, idx) (((idx) + 1) & (nentries_mask))\n\n#define ATH11K_CE_RX_POST_RETRY_JIFFIES 50\n\nstruct ath11k_base;\n\n \nstruct service_to_pipe {\n\t__le32 service_id;\n\t__le32 pipedir;\n\t__le32 pipenum;\n};\n\n \nstruct ce_pipe_config {\n\t__le32 pipenum;\n\t__le32 pipedir;\n\t__le32 nentries;\n\t__le32 nbytes_max;\n\t__le32 flags;\n\t__le32 reserved;\n};\n\nstruct ce_ie_addr {\n\tu32 ie1_reg_addr;\n\tu32 ie2_reg_addr;\n\tu32 ie3_reg_addr;\n};\n\nstruct ce_remap {\n\tu32 base;\n\tu32 size;\n};\n\nstruct ce_attr {\n\t \n\tunsigned int flags;\n\n\t \n\tunsigned int src_nentries;\n\n\t \n\tunsigned int src_sz_max;\n\n\t \n\tunsigned int dest_nentries;\n\n\tvoid (*recv_cb)(struct ath11k_base *, struct sk_buff *);\n\tvoid (*send_cb)(struct ath11k_base *, struct sk_buff *);\n};\n\n#define CE_DESC_RING_ALIGN 8\n\nstruct ath11k_ce_ring {\n\t \n\tunsigned int nentries;\n\tunsigned int nentries_mask;\n\n\t \n\tunsigned int sw_index;\n\t \n\tunsigned int write_index;\n\n\t \n\t \n\tvoid *base_addr_owner_space_unaligned;\n\t \n\tu32 base_addr_ce_space_unaligned;\n\n\t \n\t \n\tvoid *base_addr_owner_space;\n\n\t \n\tu32 base_addr_ce_space;\n\n\t \n\tu32 hal_ring_id;\n\n\t \n\tstruct sk_buff *skb[];\n};\n\nstruct ath11k_ce_pipe {\n\tstruct ath11k_base *ab;\n\tu16 pipe_num;\n\tunsigned int attr_flags;\n\tunsigned int buf_sz;\n\tunsigned int rx_buf_needed;\n\n\tvoid (*send_cb)(struct ath11k_base *, struct sk_buff *);\n\tvoid (*recv_cb)(struct ath11k_base *, struct sk_buff *);\n\n\tstruct tasklet_struct intr_tq;\n\tstruct ath11k_ce_ring *src_ring;\n\tstruct ath11k_ce_ring *dest_ring;\n\tstruct ath11k_ce_ring *status_ring;\n\tu64 timestamp;\n};\n\nstruct ath11k_ce {\n\tstruct ath11k_ce_pipe ce_pipe[CE_COUNT_MAX];\n\t \n\tspinlock_t ce_lock;\n\tstruct ath11k_hp_update_timer hp_timer[CE_COUNT_MAX];\n};\n\nextern const struct ce_attr ath11k_host_ce_config_ipq8074[];\nextern const struct ce_attr ath11k_host_ce_config_qca6390[];\nextern const struct ce_attr ath11k_host_ce_config_qcn9074[];\n\nvoid ath11k_ce_cleanup_pipes(struct ath11k_base *ab);\nvoid ath11k_ce_rx_replenish_retry(struct timer_list *t);\nvoid ath11k_ce_per_engine_service(struct ath11k_base *ab, u16 ce_id);\nint ath11k_ce_send(struct ath11k_base *ab, struct sk_buff *skb, u8 pipe_id,\n\t\t   u16 transfer_id);\nvoid ath11k_ce_rx_post_buf(struct ath11k_base *ab);\nint ath11k_ce_init_pipes(struct ath11k_base *ab);\nint ath11k_ce_alloc_pipes(struct ath11k_base *ab);\nvoid ath11k_ce_free_pipes(struct ath11k_base *ab);\nint ath11k_ce_get_attr_flags(struct ath11k_base *ab, int ce_id);\nvoid ath11k_ce_poll_send_completed(struct ath11k_base *ab, u8 pipe_id);\nvoid ath11k_ce_get_shadow_config(struct ath11k_base *ab,\n\t\t\t\t u32 **shadow_cfg, u32 *shadow_cfg_len);\nvoid ath11k_ce_stop_shadow_timers(struct ath11k_base *ab);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}