{
  "module_name": "debugfs_htt_stats.c",
  "hash_id": "85fda683b5ad03f1dacf9dece709d05641919d6b46bf4e3a37ca171bd87c0bdc",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/ath11k/debugfs_htt_stats.c",
  "human_readable_source": "\n \n\n#include <linux/vmalloc.h>\n#include \"core.h\"\n#include \"dp_tx.h\"\n#include \"dp_rx.h\"\n#include \"debug.h\"\n#include \"debugfs_htt_stats.h\"\n\n#define HTT_MAX_PRINT_CHAR_PER_ELEM 15\n\n#define HTT_TLV_HDR_LEN 4\n\n#define PRINT_ARRAY_TO_BUF(out, buflen, arr, str, len, newline)\t\t\t\t\\\n\tdo {\t\t\t\t\t\t\t\t\t\t\\\n\t\tint index = 0; u8 i; const char *str_val = str;\t\t\t\t\\\n\t\tconst char *new_line = newline;\t\t\t\t\t\t\\\n\t\tif (str_val) {\t\t\t\t\t\t\t\t\\\n\t\t\tindex += scnprintf((out + buflen),\t\t\t\t\\\n\t\t\t\t (ATH11K_HTT_STATS_BUF_SIZE - buflen),\t\t\t\\\n\t\t\t\t \"%s = \", str_val);\t\t\t\t\t\\\n\t\t}\t\t\t\t\t\t\t\t\t\\\n\t\tfor (i = 0; i < len; i++) {\t\t\t\t\t\t\\\n\t\t\tindex += scnprintf((out + buflen) + index,\t\t\t\\\n\t\t\t\t (ATH11K_HTT_STATS_BUF_SIZE - buflen) - index,\t\t\\\n\t\t\t\t \" %u:%u,\", i, arr[i]);\t\t\t\t\t\\\n\t\t}\t\t\t\t\t\t\t\t\t\\\n\t\tindex += scnprintf((out + buflen) + index,\t\t\t\t\\\n\t\t\t (ATH11K_HTT_STATS_BUF_SIZE - buflen) - index,\t\t\t\\\n\t\t\t  \"%s\", new_line);\t\t\t\t\t\t\\\n\t\tbuflen += index;\t\t\t\t\t\t\t\\\n\t} while (0)\n\nstatic inline void htt_print_stats_string_tlv(const void *tag_buf,\n\t\t\t\t\t      u16 tag_len,\n\t\t\t\t\t      struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_stats_string_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu8  i;\n\n\ttag_len = tag_len >> 2;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_STATS_STRING_TLV:\\n\");\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"data = \");\n\tfor (i = 0; i < tag_len; i++) {\n\t\tlen += scnprintf(buf + len,\n\t\t\t\t buf_len - len,\n\t\t\t\t \"%.*s\", 4, (char *)&(htt_stats_buf->data[i]));\n\t}\n\t \n\tlen += scnprintf(buf + len, buf_len - len, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_tx_pdev_stats_cmn_tlv(const void *tag_buf,\n\t\t\t\t\t\t   struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_pdev_stats_cmn_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_PDEV_STATS_CMN_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"mac_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_STATS_MAC_ID, htt_stats_buf->mac_id__word));\n\tlen += scnprintf(buf + len, buf_len - len, \"hw_queued = %u\\n\",\n\t\t\t htt_stats_buf->hw_queued);\n\tlen += scnprintf(buf + len, buf_len - len, \"hw_reaped = %u\\n\",\n\t\t\t htt_stats_buf->hw_reaped);\n\tlen += scnprintf(buf + len, buf_len - len, \"underrun = %u\\n\",\n\t\t\t htt_stats_buf->underrun);\n\tlen += scnprintf(buf + len, buf_len - len, \"hw_paused = %u\\n\",\n\t\t\t htt_stats_buf->hw_paused);\n\tlen += scnprintf(buf + len, buf_len - len, \"hw_flush = %u\\n\",\n\t\t\t htt_stats_buf->hw_flush);\n\tlen += scnprintf(buf + len, buf_len - len, \"hw_filt = %u\\n\",\n\t\t\t htt_stats_buf->hw_filt);\n\tlen += scnprintf(buf + len, buf_len - len, \"tx_abort = %u\\n\",\n\t\t\t htt_stats_buf->tx_abort);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdu_requeued = %u\\n\",\n\t\t\t htt_stats_buf->mpdu_requeued);\n\tlen += scnprintf(buf + len, buf_len - len, \"tx_xretry = %u\\n\",\n\t\t\t htt_stats_buf->tx_xretry);\n\tlen += scnprintf(buf + len, buf_len - len, \"data_rc = %u\\n\",\n\t\t\t htt_stats_buf->data_rc);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdu_dropped_xretry = %u\\n\",\n\t\t\t htt_stats_buf->mpdu_dropped_xretry);\n\tlen += scnprintf(buf + len, buf_len - len, \"illegal_rate_phy_err = %u\\n\",\n\t\t\t htt_stats_buf->illgl_rate_phy_err);\n\tlen += scnprintf(buf + len, buf_len - len, \"cont_xretry = %u\\n\",\n\t\t\t htt_stats_buf->cont_xretry);\n\tlen += scnprintf(buf + len, buf_len - len, \"tx_timeout = %u\\n\",\n\t\t\t htt_stats_buf->tx_timeout);\n\tlen += scnprintf(buf + len, buf_len - len, \"pdev_resets = %u\\n\",\n\t\t\t htt_stats_buf->pdev_resets);\n\tlen += scnprintf(buf + len, buf_len - len, \"phy_underrun = %u\\n\",\n\t\t\t htt_stats_buf->phy_underrun);\n\tlen += scnprintf(buf + len, buf_len - len, \"txop_ovf = %u\\n\",\n\t\t\t htt_stats_buf->txop_ovf);\n\tlen += scnprintf(buf + len, buf_len - len, \"seq_posted = %u\\n\",\n\t\t\t htt_stats_buf->seq_posted);\n\tlen += scnprintf(buf + len, buf_len - len, \"seq_failed_queueing = %u\\n\",\n\t\t\t htt_stats_buf->seq_failed_queueing);\n\tlen += scnprintf(buf + len, buf_len - len, \"seq_completed = %u\\n\",\n\t\t\t htt_stats_buf->seq_completed);\n\tlen += scnprintf(buf + len, buf_len - len, \"seq_restarted = %u\\n\",\n\t\t\t htt_stats_buf->seq_restarted);\n\tlen += scnprintf(buf + len, buf_len - len, \"mu_seq_posted = %u\\n\",\n\t\t\t htt_stats_buf->mu_seq_posted);\n\tlen += scnprintf(buf + len, buf_len - len, \"seq_switch_hw_paused = %u\\n\",\n\t\t\t htt_stats_buf->seq_switch_hw_paused);\n\tlen += scnprintf(buf + len, buf_len - len, \"next_seq_posted_dsr = %u\\n\",\n\t\t\t htt_stats_buf->next_seq_posted_dsr);\n\tlen += scnprintf(buf + len, buf_len - len, \"seq_posted_isr = %u\\n\",\n\t\t\t htt_stats_buf->seq_posted_isr);\n\tlen += scnprintf(buf + len, buf_len - len, \"seq_ctrl_cached = %u\\n\",\n\t\t\t htt_stats_buf->seq_ctrl_cached);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdu_count_tqm = %u\\n\",\n\t\t\t htt_stats_buf->mpdu_count_tqm);\n\tlen += scnprintf(buf + len, buf_len - len, \"msdu_count_tqm = %u\\n\",\n\t\t\t htt_stats_buf->msdu_count_tqm);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdu_removed_tqm = %u\\n\",\n\t\t\t htt_stats_buf->mpdu_removed_tqm);\n\tlen += scnprintf(buf + len, buf_len - len, \"msdu_removed_tqm = %u\\n\",\n\t\t\t htt_stats_buf->msdu_removed_tqm);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdus_sw_flush = %u\\n\",\n\t\t\t htt_stats_buf->mpdus_sw_flush);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdus_hw_filter = %u\\n\",\n\t\t\t htt_stats_buf->mpdus_hw_filter);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdus_truncated = %u\\n\",\n\t\t\t htt_stats_buf->mpdus_truncated);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdus_ack_failed = %u\\n\",\n\t\t\t htt_stats_buf->mpdus_ack_failed);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdus_expired = %u\\n\",\n\t\t\t htt_stats_buf->mpdus_expired);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdus_seq_hw_retry = %u\\n\",\n\t\t\t htt_stats_buf->mpdus_seq_hw_retry);\n\tlen += scnprintf(buf + len, buf_len - len, \"ack_tlv_proc = %u\\n\",\n\t\t\t htt_stats_buf->ack_tlv_proc);\n\tlen += scnprintf(buf + len, buf_len - len, \"coex_abort_mpdu_cnt_valid = %u\\n\",\n\t\t\t htt_stats_buf->coex_abort_mpdu_cnt_valid);\n\tlen += scnprintf(buf + len, buf_len - len, \"coex_abort_mpdu_cnt = %u\\n\",\n\t\t\t htt_stats_buf->coex_abort_mpdu_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"num_total_ppdus_tried_ota = %u\\n\",\n\t\t\t htt_stats_buf->num_total_ppdus_tried_ota);\n\tlen += scnprintf(buf + len, buf_len - len, \"num_data_ppdus_tried_ota = %u\\n\",\n\t\t\t htt_stats_buf->num_data_ppdus_tried_ota);\n\tlen += scnprintf(buf + len, buf_len - len, \"local_ctrl_mgmt_enqued = %u\\n\",\n\t\t\t htt_stats_buf->local_ctrl_mgmt_enqued);\n\tlen += scnprintf(buf + len, buf_len - len, \"local_ctrl_mgmt_freed = %u\\n\",\n\t\t\t htt_stats_buf->local_ctrl_mgmt_freed);\n\tlen += scnprintf(buf + len, buf_len - len, \"local_data_enqued = %u\\n\",\n\t\t\t htt_stats_buf->local_data_enqued);\n\tlen += scnprintf(buf + len, buf_len - len, \"local_data_freed = %u\\n\",\n\t\t\t htt_stats_buf->local_data_freed);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdu_tried = %u\\n\",\n\t\t\t htt_stats_buf->mpdu_tried);\n\tlen += scnprintf(buf + len, buf_len - len, \"isr_wait_seq_posted = %u\\n\",\n\t\t\t htt_stats_buf->isr_wait_seq_posted);\n\tlen += scnprintf(buf + len, buf_len - len, \"tx_active_dur_us_low = %u\\n\",\n\t\t\t htt_stats_buf->tx_active_dur_us_low);\n\tlen += scnprintf(buf + len, buf_len - len, \"tx_active_dur_us_high = %u\\n\\n\",\n\t\t\t htt_stats_buf->tx_active_dur_us_high);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_pdev_stats_urrn_tlv_v(const void *tag_buf,\n\t\t\t\t   u16 tag_len,\n\t\t\t\t   struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_pdev_stats_urrn_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu16 num_elems = min_t(u16, (tag_len >> 2), HTT_TX_PDEV_MAX_URRN_STATS);\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_PDEV_STATS_URRN_TLV_V:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->urrn_stats, \"urrn_stats\",\n\t\t\t   num_elems, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_pdev_stats_flush_tlv_v(const void *tag_buf,\n\t\t\t\t    u16 tag_len,\n\t\t\t\t    struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_pdev_stats_flush_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu16 num_elems = min_t(u16, (tag_len >> 2), HTT_TX_PDEV_MAX_FLUSH_REASON_STATS);\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_PDEV_STATS_FLUSH_TLV_V:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->flush_errs, \"flush_errs\",\n\t\t\t   num_elems, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_pdev_stats_sifs_tlv_v(const void *tag_buf,\n\t\t\t\t   u16 tag_len,\n\t\t\t\t   struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_pdev_stats_sifs_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu16 num_elems = min_t(u16, (tag_len >> 2), HTT_TX_PDEV_MAX_SIFS_BURST_STATS);\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_PDEV_STATS_SIFS_TLV_V:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->sifs_status, \"sifs_status\",\n\t\t\t   num_elems, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_pdev_stats_phy_err_tlv_v(const void *tag_buf,\n\t\t\t\t      u16 tag_len,\n\t\t\t\t      struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_pdev_stats_phy_err_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu16 num_elems = min_t(u16, (tag_len >> 2), HTT_TX_PDEV_MAX_PHY_ERR_STATS);\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_PDEV_STATS_PHY_ERR_TLV_V:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->phy_errs, \"phy_errs\",\n\t\t\t   num_elems, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_pdev_stats_sifs_hist_tlv_v(const void *tag_buf,\n\t\t\t\t\tu16 tag_len,\n\t\t\t\t\tstruct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_pdev_stats_sifs_hist_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu16 num_elems = min_t(u16, (tag_len >> 2), HTT_TX_PDEV_MAX_SIFS_BURST_HIST_STATS);\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_TX_PDEV_STATS_SIFS_HIST_TLV_V:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->sifs_hist_status,\n\t\t\t   \"sifs_hist_status\", num_elems, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_pdev_stats_tx_ppdu_stats_tlv_v(const void *tag_buf,\n\t\t\t\t\t    struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_pdev_stats_tx_ppdu_stats_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_TX_PDEV_STATS_TX_PPDU_STATS_TLV_V:\\n\");\n\n\tlen += scnprintf(buf + len, buf_len - len, \"num_data_ppdus_legacy_su = %u\\n\",\n\t\t\t htt_stats_buf->num_data_ppdus_legacy_su);\n\n\tlen += scnprintf(buf + len, buf_len - len, \"num_data_ppdus_ac_su = %u\\n\",\n\t\t\t htt_stats_buf->num_data_ppdus_ac_su);\n\n\tlen += scnprintf(buf + len, buf_len - len, \"num_data_ppdus_ax_su = %u\\n\",\n\t\t\t htt_stats_buf->num_data_ppdus_ax_su);\n\n\tlen += scnprintf(buf + len, buf_len - len, \"num_data_ppdus_ac_su_txbf = %u\\n\",\n\t\t\t htt_stats_buf->num_data_ppdus_ac_su_txbf);\n\n\tlen += scnprintf(buf + len, buf_len - len, \"num_data_ppdus_ax_su_txbf = %u\\n\\n\",\n\t\t\t htt_stats_buf->num_data_ppdus_ax_su_txbf);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_pdev_stats_tried_mpdu_cnt_hist_tlv_v(const void *tag_buf,\n\t\t\t\t\t\t  u16 tag_len,\n\t\t\t\t\t\t  struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_pdev_stats_tried_mpdu_cnt_hist_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu32  num_elements = ((tag_len - sizeof(htt_stats_buf->hist_bin_size)) >> 2);\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_TX_PDEV_STATS_TRIED_MPDU_CNT_HIST_TLV_V:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"TRIED_MPDU_CNT_HIST_BIN_SIZE : %u\\n\",\n\t\t\t htt_stats_buf->hist_bin_size);\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->tried_mpdu_cnt_hist,\n\t\t\t   \"tried_mpdu_cnt_hist\", num_elements, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_hw_stats_intr_misc_tlv(const void *tag_buf,\n\t\t\t\t\t\t    struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_hw_stats_intr_misc_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tchar hw_intr_name[HTT_STATS_MAX_HW_INTR_NAME_LEN + 1] = {0};\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_HW_STATS_INTR_MISC_TLV:\\n\");\n\tmemcpy(hw_intr_name, &(htt_stats_buf->hw_intr_name[0]),\n\t       HTT_STATS_MAX_HW_INTR_NAME_LEN);\n\tlen += scnprintf(buf + len, buf_len - len, \"hw_intr_name = %s\\n\", hw_intr_name);\n\tlen += scnprintf(buf + len, buf_len - len, \"mask = %u\\n\",\n\t\t\t htt_stats_buf->mask);\n\tlen += scnprintf(buf + len, buf_len - len, \"count = %u\\n\\n\",\n\t\t\t htt_stats_buf->count);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_hw_stats_wd_timeout_tlv(const void *tag_buf,\n\t\t\t\t  struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_hw_stats_wd_timeout_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tchar hw_module_name[HTT_STATS_MAX_HW_MODULE_NAME_LEN + 1] = {0};\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_HW_STATS_WD_TIMEOUT_TLV:\\n\");\n\tmemcpy(hw_module_name, &(htt_stats_buf->hw_module_name[0]),\n\t       HTT_STATS_MAX_HW_MODULE_NAME_LEN);\n\tlen += scnprintf(buf + len, buf_len - len, \"hw_module_name = %s\\n\",\n\t\t\t hw_module_name);\n\tlen += scnprintf(buf + len, buf_len - len, \"count = %u\\n\",\n\t\t\t htt_stats_buf->count);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_hw_stats_pdev_errs_tlv(const void *tag_buf,\n\t\t\t\t\t\t    struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_hw_stats_pdev_errs_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_HW_STATS_PDEV_ERRS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"mac_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_STATS_MAC_ID, htt_stats_buf->mac_id__word));\n\tlen += scnprintf(buf + len, buf_len - len, \"tx_abort = %u\\n\",\n\t\t\t htt_stats_buf->tx_abort);\n\tlen += scnprintf(buf + len, buf_len - len, \"tx_abort_fail_count = %u\\n\",\n\t\t\t htt_stats_buf->tx_abort_fail_count);\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_abort = %u\\n\",\n\t\t\t htt_stats_buf->rx_abort);\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_abort_fail_count = %u\\n\",\n\t\t\t htt_stats_buf->rx_abort_fail_count);\n\tlen += scnprintf(buf + len, buf_len - len, \"warm_reset = %u\\n\",\n\t\t\t htt_stats_buf->warm_reset);\n\tlen += scnprintf(buf + len, buf_len - len, \"cold_reset = %u\\n\",\n\t\t\t htt_stats_buf->cold_reset);\n\tlen += scnprintf(buf + len, buf_len - len, \"tx_flush = %u\\n\",\n\t\t\t htt_stats_buf->tx_flush);\n\tlen += scnprintf(buf + len, buf_len - len, \"tx_glb_reset = %u\\n\",\n\t\t\t htt_stats_buf->tx_glb_reset);\n\tlen += scnprintf(buf + len, buf_len - len, \"tx_txq_reset = %u\\n\",\n\t\t\t htt_stats_buf->tx_txq_reset);\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_timeout_reset = %u\\n\\n\",\n\t\t\t htt_stats_buf->rx_timeout_reset);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_msdu_flow_stats_tlv(const void *tag_buf,\n\t\t\t\t\t\t struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_msdu_flow_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_MSDU_FLOW_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"last_update_timestamp = %u\\n\",\n\t\t\t htt_stats_buf->last_update_timestamp);\n\tlen += scnprintf(buf + len, buf_len - len, \"last_add_timestamp = %u\\n\",\n\t\t\t htt_stats_buf->last_add_timestamp);\n\tlen += scnprintf(buf + len, buf_len - len, \"last_remove_timestamp = %u\\n\",\n\t\t\t htt_stats_buf->last_remove_timestamp);\n\tlen += scnprintf(buf + len, buf_len - len, \"total_processed_msdu_count = %u\\n\",\n\t\t\t htt_stats_buf->total_processed_msdu_count);\n\tlen += scnprintf(buf + len, buf_len - len, \"cur_msdu_count_in_flowq = %u\\n\",\n\t\t\t htt_stats_buf->cur_msdu_count_in_flowq);\n\tlen += scnprintf(buf + len, buf_len - len, \"sw_peer_id = %u\\n\",\n\t\t\t htt_stats_buf->sw_peer_id);\n\tlen += scnprintf(buf + len, buf_len - len, \"tx_flow_no = %lu\\n\",\n\t\t\t FIELD_GET(HTT_MSDU_FLOW_STATS_TX_FLOW_NO,\n\t\t\t\t   htt_stats_buf->tx_flow_no__tid_num__drop_rule));\n\tlen += scnprintf(buf + len, buf_len - len, \"tid_num = %lu\\n\",\n\t\t\t FIELD_GET(HTT_MSDU_FLOW_STATS_TID_NUM,\n\t\t\t\t   htt_stats_buf->tx_flow_no__tid_num__drop_rule));\n\tlen += scnprintf(buf + len, buf_len - len, \"drop_rule = %lu\\n\",\n\t\t\t FIELD_GET(HTT_MSDU_FLOW_STATS_DROP_RULE,\n\t\t\t\t   htt_stats_buf->tx_flow_no__tid_num__drop_rule));\n\tlen += scnprintf(buf + len, buf_len - len, \"last_cycle_enqueue_count = %u\\n\",\n\t\t\t htt_stats_buf->last_cycle_enqueue_count);\n\tlen += scnprintf(buf + len, buf_len - len, \"last_cycle_dequeue_count = %u\\n\",\n\t\t\t htt_stats_buf->last_cycle_dequeue_count);\n\tlen += scnprintf(buf + len, buf_len - len, \"last_cycle_drop_count = %u\\n\",\n\t\t\t htt_stats_buf->last_cycle_drop_count);\n\tlen += scnprintf(buf + len, buf_len - len, \"current_drop_th = %u\\n\\n\",\n\t\t\t htt_stats_buf->current_drop_th);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_tx_tid_stats_tlv(const void *tag_buf,\n\t\t\t\t\t      struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_tid_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tchar tid_name[MAX_HTT_TID_NAME + 1] = {0};\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_TID_STATS_TLV:\\n\");\n\tmemcpy(tid_name, &(htt_stats_buf->tid_name[0]), MAX_HTT_TID_NAME);\n\tlen += scnprintf(buf + len, buf_len - len, \"tid_name = %s\\n\", tid_name);\n\tlen += scnprintf(buf + len, buf_len - len, \"sw_peer_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_TX_TID_STATS_SW_PEER_ID,\n\t\t\t\t   htt_stats_buf->sw_peer_id__tid_num));\n\tlen += scnprintf(buf + len, buf_len - len, \"tid_num = %lu\\n\",\n\t\t\t FIELD_GET(HTT_TX_TID_STATS_TID_NUM,\n\t\t\t\t   htt_stats_buf->sw_peer_id__tid_num));\n\tlen += scnprintf(buf + len, buf_len - len, \"num_sched_pending = %lu\\n\",\n\t\t\t FIELD_GET(HTT_TX_TID_STATS_NUM_SCHED_PENDING,\n\t\t\t\t   htt_stats_buf->num_sched_pending__num_ppdu_in_hwq));\n\tlen += scnprintf(buf + len, buf_len - len, \"num_ppdu_in_hwq = %lu\\n\",\n\t\t\t FIELD_GET(HTT_TX_TID_STATS_NUM_PPDU_IN_HWQ,\n\t\t\t\t   htt_stats_buf->num_sched_pending__num_ppdu_in_hwq));\n\tlen += scnprintf(buf + len, buf_len - len, \"tid_flags = 0x%x\\n\",\n\t\t\t htt_stats_buf->tid_flags);\n\tlen += scnprintf(buf + len, buf_len - len, \"hw_queued = %u\\n\",\n\t\t\t htt_stats_buf->hw_queued);\n\tlen += scnprintf(buf + len, buf_len - len, \"hw_reaped = %u\\n\",\n\t\t\t htt_stats_buf->hw_reaped);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdus_hw_filter = %u\\n\",\n\t\t\t htt_stats_buf->mpdus_hw_filter);\n\tlen += scnprintf(buf + len, buf_len - len, \"qdepth_bytes = %u\\n\",\n\t\t\t htt_stats_buf->qdepth_bytes);\n\tlen += scnprintf(buf + len, buf_len - len, \"qdepth_num_msdu = %u\\n\",\n\t\t\t htt_stats_buf->qdepth_num_msdu);\n\tlen += scnprintf(buf + len, buf_len - len, \"qdepth_num_mpdu = %u\\n\",\n\t\t\t htt_stats_buf->qdepth_num_mpdu);\n\tlen += scnprintf(buf + len, buf_len - len, \"last_scheduled_tsmp = %u\\n\",\n\t\t\t htt_stats_buf->last_scheduled_tsmp);\n\tlen += scnprintf(buf + len, buf_len - len, \"pause_module_id = %u\\n\",\n\t\t\t htt_stats_buf->pause_module_id);\n\tlen += scnprintf(buf + len, buf_len - len, \"block_module_id = %u\\n\\n\",\n\t\t\t htt_stats_buf->block_module_id);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_tx_tid_stats_v1_tlv(const void *tag_buf,\n\t\t\t\t\t\t struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_tid_stats_v1_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tchar tid_name[MAX_HTT_TID_NAME + 1] = {0};\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_TID_STATS_V1_TLV:\\n\");\n\tmemcpy(tid_name, &(htt_stats_buf->tid_name[0]), MAX_HTT_TID_NAME);\n\tlen += scnprintf(buf + len, buf_len - len, \"tid_name = %s\\n\", tid_name);\n\tlen += scnprintf(buf + len, buf_len - len, \"sw_peer_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_TX_TID_STATS_V1_SW_PEER_ID,\n\t\t\t\t   htt_stats_buf->sw_peer_id__tid_num));\n\tlen += scnprintf(buf + len, buf_len - len, \"tid_num = %lu\\n\",\n\t\t\t FIELD_GET(HTT_TX_TID_STATS_V1_TID_NUM,\n\t\t\t\t   htt_stats_buf->sw_peer_id__tid_num));\n\tlen += scnprintf(buf + len, buf_len - len, \"num_sched_pending = %lu\\n\",\n\t\t\t FIELD_GET(HTT_TX_TID_STATS_V1_NUM_SCHED_PENDING,\n\t\t\t\t   htt_stats_buf->num_sched_pending__num_ppdu_in_hwq));\n\tlen += scnprintf(buf + len, buf_len - len, \"num_ppdu_in_hwq = %lu\\n\",\n\t\t\t FIELD_GET(HTT_TX_TID_STATS_V1_NUM_PPDU_IN_HWQ,\n\t\t\t\t   htt_stats_buf->num_sched_pending__num_ppdu_in_hwq));\n\tlen += scnprintf(buf + len, buf_len - len, \"tid_flags = 0x%x\\n\",\n\t\t\t htt_stats_buf->tid_flags);\n\tlen += scnprintf(buf + len, buf_len - len, \"max_qdepth_bytes = %u\\n\",\n\t\t\t htt_stats_buf->max_qdepth_bytes);\n\tlen += scnprintf(buf + len, buf_len - len, \"max_qdepth_n_msdus = %u\\n\",\n\t\t\t htt_stats_buf->max_qdepth_n_msdus);\n\tlen += scnprintf(buf + len, buf_len - len, \"rsvd = %u\\n\",\n\t\t\t htt_stats_buf->rsvd);\n\tlen += scnprintf(buf + len, buf_len - len, \"qdepth_bytes = %u\\n\",\n\t\t\t htt_stats_buf->qdepth_bytes);\n\tlen += scnprintf(buf + len, buf_len - len, \"qdepth_num_msdu = %u\\n\",\n\t\t\t htt_stats_buf->qdepth_num_msdu);\n\tlen += scnprintf(buf + len, buf_len - len, \"qdepth_num_mpdu = %u\\n\",\n\t\t\t htt_stats_buf->qdepth_num_mpdu);\n\tlen += scnprintf(buf + len, buf_len - len, \"last_scheduled_tsmp = %u\\n\",\n\t\t\t htt_stats_buf->last_scheduled_tsmp);\n\tlen += scnprintf(buf + len, buf_len - len, \"pause_module_id = %u\\n\",\n\t\t\t htt_stats_buf->pause_module_id);\n\tlen += scnprintf(buf + len, buf_len - len, \"block_module_id = %u\\n\",\n\t\t\t htt_stats_buf->block_module_id);\n\tlen += scnprintf(buf + len, buf_len - len, \"allow_n_flags = 0x%x\\n\",\n\t\t\t htt_stats_buf->allow_n_flags);\n\tlen += scnprintf(buf + len, buf_len - len, \"sendn_frms_allowed = %u\\n\\n\",\n\t\t\t htt_stats_buf->sendn_frms_allowed);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_rx_tid_stats_tlv(const void *tag_buf,\n\t\t\t\t\t      struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_rx_tid_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tchar tid_name[MAX_HTT_TID_NAME + 1] = {0};\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_RX_TID_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"sw_peer_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_RX_TID_STATS_SW_PEER_ID,\n\t\t\t\t   htt_stats_buf->sw_peer_id__tid_num));\n\tlen += scnprintf(buf + len, buf_len - len, \"tid_num = %lu\\n\",\n\t\t\t FIELD_GET(HTT_RX_TID_STATS_TID_NUM,\n\t\t\t\t   htt_stats_buf->sw_peer_id__tid_num));\n\tmemcpy(tid_name, &(htt_stats_buf->tid_name[0]), MAX_HTT_TID_NAME);\n\tlen += scnprintf(buf + len, buf_len - len, \"tid_name = %s\\n\", tid_name);\n\tlen += scnprintf(buf + len, buf_len - len, \"dup_in_reorder = %u\\n\",\n\t\t\t htt_stats_buf->dup_in_reorder);\n\tlen += scnprintf(buf + len, buf_len - len, \"dup_past_outside_window = %u\\n\",\n\t\t\t htt_stats_buf->dup_past_outside_window);\n\tlen += scnprintf(buf + len, buf_len - len, \"dup_past_within_window = %u\\n\",\n\t\t\t htt_stats_buf->dup_past_within_window);\n\tlen += scnprintf(buf + len, buf_len - len, \"rxdesc_err_decrypt = %u\\n\\n\",\n\t\t\t htt_stats_buf->rxdesc_err_decrypt);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_counter_tlv(const void *tag_buf,\n\t\t\t\t\t struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_counter_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_COUNTER_TLV:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->counter_name,\n\t\t\t   \"counter_name\",\n\t\t\t   HTT_MAX_COUNTER_NAME, \"\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"count = %u\\n\\n\",\n\t\t\t htt_stats_buf->count);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_peer_stats_cmn_tlv(const void *tag_buf,\n\t\t\t\t\t\tstruct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_peer_stats_cmn_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_PEER_STATS_CMN_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"ppdu_cnt = %u\\n\",\n\t\t\t htt_stats_buf->ppdu_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdu_cnt = %u\\n\",\n\t\t\t htt_stats_buf->mpdu_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"msdu_cnt = %u\\n\",\n\t\t\t htt_stats_buf->msdu_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"pause_bitmap = %u\\n\",\n\t\t\t htt_stats_buf->pause_bitmap);\n\tlen += scnprintf(buf + len, buf_len - len, \"block_bitmap = %u\\n\",\n\t\t\t htt_stats_buf->block_bitmap);\n\tlen += scnprintf(buf + len, buf_len - len, \"last_rssi = %d\\n\",\n\t\t\t htt_stats_buf->rssi);\n\tlen += scnprintf(buf + len, buf_len - len, \"enqueued_count = %llu\\n\",\n\t\t\t htt_stats_buf->peer_enqueued_count_low |\n\t\t\t ((u64)htt_stats_buf->peer_enqueued_count_high << 32));\n\tlen += scnprintf(buf + len, buf_len - len, \"dequeued_count = %llu\\n\",\n\t\t\t htt_stats_buf->peer_dequeued_count_low |\n\t\t\t ((u64)htt_stats_buf->peer_dequeued_count_high << 32));\n\tlen += scnprintf(buf + len, buf_len - len, \"dropped_count = %llu\\n\",\n\t\t\t htt_stats_buf->peer_dropped_count_low |\n\t\t\t ((u64)htt_stats_buf->peer_dropped_count_high << 32));\n\tlen += scnprintf(buf + len, buf_len - len, \"transmitted_ppdu_bytes = %llu\\n\",\n\t\t\t htt_stats_buf->ppdu_transmitted_bytes_low |\n\t\t\t ((u64)htt_stats_buf->ppdu_transmitted_bytes_high << 32));\n\tlen += scnprintf(buf + len, buf_len - len, \"ttl_removed_count = %u\\n\",\n\t\t\t htt_stats_buf->peer_ttl_removed_count);\n\tlen += scnprintf(buf + len, buf_len - len, \"inactive_time = %u\\n\\n\",\n\t\t\t htt_stats_buf->inactive_time);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_peer_details_tlv(const void *tag_buf,\n\t\t\t\t\t      struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_peer_details_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_PEER_DETAILS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"peer_type = %u\\n\",\n\t\t\t htt_stats_buf->peer_type);\n\tlen += scnprintf(buf + len, buf_len - len, \"sw_peer_id = %u\\n\",\n\t\t\t htt_stats_buf->sw_peer_id);\n\tlen += scnprintf(buf + len, buf_len - len, \"vdev_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_PEER_DETAILS_VDEV_ID,\n\t\t\t\t   htt_stats_buf->vdev_pdev_ast_idx));\n\tlen += scnprintf(buf + len, buf_len - len, \"pdev_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_PEER_DETAILS_PDEV_ID,\n\t\t\t\t   htt_stats_buf->vdev_pdev_ast_idx));\n\tlen += scnprintf(buf + len, buf_len - len, \"ast_idx = %lu\\n\",\n\t\t\t FIELD_GET(HTT_PEER_DETAILS_AST_IDX,\n\t\t\t\t   htt_stats_buf->vdev_pdev_ast_idx));\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"mac_addr = %02lx:%02lx:%02lx:%02lx:%02lx:%02lx\\n\",\n\t\t\t FIELD_GET(HTT_MAC_ADDR_L32_0,\n\t\t\t\t   htt_stats_buf->mac_addr.mac_addr_l32),\n\t\t\t FIELD_GET(HTT_MAC_ADDR_L32_1,\n\t\t\t\t   htt_stats_buf->mac_addr.mac_addr_l32),\n\t\t\t FIELD_GET(HTT_MAC_ADDR_L32_2,\n\t\t\t\t   htt_stats_buf->mac_addr.mac_addr_l32),\n\t\t\t FIELD_GET(HTT_MAC_ADDR_L32_3,\n\t\t\t\t   htt_stats_buf->mac_addr.mac_addr_l32),\n\t\t\t FIELD_GET(HTT_MAC_ADDR_H16_0,\n\t\t\t\t   htt_stats_buf->mac_addr.mac_addr_h16),\n\t\t\t FIELD_GET(HTT_MAC_ADDR_H16_1,\n\t\t\t\t   htt_stats_buf->mac_addr.mac_addr_h16));\n\tlen += scnprintf(buf + len, buf_len - len, \"peer_flags = 0x%x\\n\",\n\t\t\t htt_stats_buf->peer_flags);\n\tlen += scnprintf(buf + len, buf_len - len, \"qpeer_flags = 0x%x\\n\\n\",\n\t\t\t htt_stats_buf->qpeer_flags);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_tx_peer_rate_stats_tlv(const void *tag_buf,\n\t\t\t\t\t\t    struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_peer_rate_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu8 j;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_PEER_RATE_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"tx_ldpc = %u\\n\",\n\t\t\t htt_stats_buf->tx_ldpc);\n\tlen += scnprintf(buf + len, buf_len - len, \"rts_cnt = %u\\n\",\n\t\t\t htt_stats_buf->rts_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"ack_rssi = %u\\n\",\n\t\t\t htt_stats_buf->ack_rssi);\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->tx_mcs, \"tx_mcs\",\n\t\t\t   HTT_TX_PDEV_STATS_NUM_MCS_COUNTERS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->tx_su_mcs, \"tx_su_mcs\",\n\t\t\t   HTT_TX_PDEV_STATS_NUM_MCS_COUNTERS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->tx_mu_mcs, \"tx_mu_mcs\",\n\t\t\t   HTT_TX_PDEV_STATS_NUM_MCS_COUNTERS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->tx_nss, \"tx_nss\",\n\t\t\t   HTT_TX_PDEV_STATS_NUM_SPATIAL_STREAMS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->tx_bw, \"tx_bw\",\n\t\t\t   HTT_TX_PDEV_STATS_NUM_BW_COUNTERS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->tx_stbc, \"tx_stbc\",\n\t\t\t   HTT_TX_PDEV_STATS_NUM_MCS_COUNTERS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->tx_pream, \"tx_pream\",\n\t\t\t   HTT_TX_PDEV_STATS_NUM_PREAMBLE_TYPES, \"\\n\");\n\n\tfor (j = 0; j < HTT_TX_PEER_STATS_NUM_GI_COUNTERS; j++) {\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"tx_gi[%u] = \", j);\n\t\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->tx_gi[j], NULL,\n\t\t\t\t   HTT_TX_PEER_STATS_NUM_MCS_COUNTERS, \"\\n\");\n\t}\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->tx_dcm, \"tx_dcm\",\n\t\t\t   HTT_TX_PDEV_STATS_NUM_DCM_COUNTERS, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_rx_peer_rate_stats_tlv(const void *tag_buf,\n\t\t\t\t\t\t    struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_rx_peer_rate_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu8 j;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_RX_PEER_RATE_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"nsts = %u\\n\",\n\t\t\t htt_stats_buf->nsts);\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_ldpc = %u\\n\",\n\t\t\t htt_stats_buf->rx_ldpc);\n\tlen += scnprintf(buf + len, buf_len - len, \"rts_cnt = %u\\n\",\n\t\t\t htt_stats_buf->rts_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"rssi_mgmt = %u\\n\",\n\t\t\t htt_stats_buf->rssi_mgmt);\n\tlen += scnprintf(buf + len, buf_len - len, \"rssi_data = %u\\n\",\n\t\t\t htt_stats_buf->rssi_data);\n\tlen += scnprintf(buf + len, buf_len - len, \"rssi_comb = %u\\n\",\n\t\t\t htt_stats_buf->rssi_comb);\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_mcs, \"rx_mcs\",\n\t\t\t   HTT_RX_PDEV_STATS_NUM_MCS_COUNTERS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_nss, \"rx_nss\",\n\t\t\t   HTT_RX_PDEV_STATS_NUM_SPATIAL_STREAMS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_dcm, \"rx_dcm\",\n\t\t\t   HTT_RX_PDEV_STATS_NUM_DCM_COUNTERS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_stbc, \"rx_stbc\",\n\t\t\t   HTT_RX_PDEV_STATS_NUM_MCS_COUNTERS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_bw, \"rx_bw\",\n\t\t\t   HTT_RX_PDEV_STATS_NUM_BW_COUNTERS, \"\\n\");\n\n\tfor (j = 0; j < HTT_RX_PEER_STATS_NUM_SPATIAL_STREAMS; j++) {\n\t\tlen += scnprintf(buf + len, (buf_len - len),\n\t\t\t\t \"rssi_chain[%u] = \", j);\n\t\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rssi_chain[j], NULL,\n\t\t\t\t   HTT_RX_PEER_STATS_NUM_BW_COUNTERS, \"\\n\");\n\t}\n\n\tfor (j = 0; j < HTT_RX_PEER_STATS_NUM_GI_COUNTERS; j++) {\n\t\tlen += scnprintf(buf + len, (buf_len - len),\n\t\t\t\t \"rx_gi[%u] = \", j);\n\t\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_gi[j], NULL,\n\t\t\t\t   HTT_RX_PDEV_STATS_NUM_MCS_COUNTERS, \"\\n\");\n\t}\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_pream, \"rx_pream\",\n\t\t\t   HTT_RX_PDEV_STATS_NUM_PREAMBLE_TYPES, \"\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_hwq_mu_mimo_sch_stats_tlv(const void *tag_buf,\n\t\t\t\t       struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_hwq_mu_mimo_sch_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_HWQ_MU_MIMO_SCH_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"mu_mimo_sch_posted = %u\\n\",\n\t\t\t htt_stats_buf->mu_mimo_sch_posted);\n\tlen += scnprintf(buf + len, buf_len - len, \"mu_mimo_sch_failed = %u\\n\",\n\t\t\t htt_stats_buf->mu_mimo_sch_failed);\n\tlen += scnprintf(buf + len, buf_len - len, \"mu_mimo_ppdu_posted = %u\\n\\n\",\n\t\t\t htt_stats_buf->mu_mimo_ppdu_posted);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_hwq_mu_mimo_mpdu_stats_tlv(const void *tag_buf,\n\t\t\t\t\tstruct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_hwq_mu_mimo_mpdu_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_TX_HWQ_MU_MIMO_MPDU_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"mu_mimo_mpdus_queued_usr = %u\\n\",\n\t\t\t htt_stats_buf->mu_mimo_mpdus_queued_usr);\n\tlen += scnprintf(buf + len, buf_len - len, \"mu_mimo_mpdus_tried_usr = %u\\n\",\n\t\t\t htt_stats_buf->mu_mimo_mpdus_tried_usr);\n\tlen += scnprintf(buf + len, buf_len - len, \"mu_mimo_mpdus_failed_usr = %u\\n\",\n\t\t\t htt_stats_buf->mu_mimo_mpdus_failed_usr);\n\tlen += scnprintf(buf + len, buf_len - len, \"mu_mimo_mpdus_requeued_usr = %u\\n\",\n\t\t\t htt_stats_buf->mu_mimo_mpdus_requeued_usr);\n\tlen += scnprintf(buf + len, buf_len - len, \"mu_mimo_err_no_ba_usr = %u\\n\",\n\t\t\t htt_stats_buf->mu_mimo_err_no_ba_usr);\n\tlen += scnprintf(buf + len, buf_len - len, \"mu_mimo_mpdu_underrun_usr = %u\\n\",\n\t\t\t htt_stats_buf->mu_mimo_mpdu_underrun_usr);\n\tlen += scnprintf(buf + len, buf_len - len, \"mu_mimo_ampdu_underrun_usr = %u\\n\\n\",\n\t\t\t htt_stats_buf->mu_mimo_ampdu_underrun_usr);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_hwq_mu_mimo_cmn_stats_tlv(const void *tag_buf,\n\t\t\t\t       struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_hwq_mu_mimo_cmn_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_HWQ_MU_MIMO_CMN_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"mac_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_TX_HWQ_STATS_MAC_ID,\n\t\t\t\t   htt_stats_buf->mac_id__hwq_id__word));\n\tlen += scnprintf(buf + len, buf_len - len, \"hwq_id = %lu\\n\\n\",\n\t\t\t FIELD_GET(HTT_TX_HWQ_STATS_HWQ_ID,\n\t\t\t\t   htt_stats_buf->mac_id__hwq_id__word));\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_hwq_stats_cmn_tlv(const void *tag_buf, struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_hwq_stats_cmn_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\t \n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_HWQ_STATS_CMN_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"mac_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_TX_HWQ_STATS_MAC_ID,\n\t\t\t\t   htt_stats_buf->mac_id__hwq_id__word));\n\tlen += scnprintf(buf + len, buf_len - len, \"hwq_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_TX_HWQ_STATS_HWQ_ID,\n\t\t\t\t   htt_stats_buf->mac_id__hwq_id__word));\n\tlen += scnprintf(buf + len, buf_len - len, \"xretry = %u\\n\",\n\t\t\t htt_stats_buf->xretry);\n\tlen += scnprintf(buf + len, buf_len - len, \"underrun_cnt = %u\\n\",\n\t\t\t htt_stats_buf->underrun_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"flush_cnt = %u\\n\",\n\t\t\t htt_stats_buf->flush_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"filt_cnt = %u\\n\",\n\t\t\t htt_stats_buf->filt_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"null_mpdu_bmap = %u\\n\",\n\t\t\t htt_stats_buf->null_mpdu_bmap);\n\tlen += scnprintf(buf + len, buf_len - len, \"user_ack_failure = %u\\n\",\n\t\t\t htt_stats_buf->user_ack_failure);\n\tlen += scnprintf(buf + len, buf_len - len, \"ack_tlv_proc = %u\\n\",\n\t\t\t htt_stats_buf->ack_tlv_proc);\n\tlen += scnprintf(buf + len, buf_len - len, \"sched_id_proc = %u\\n\",\n\t\t\t htt_stats_buf->sched_id_proc);\n\tlen += scnprintf(buf + len, buf_len - len, \"null_mpdu_tx_count = %u\\n\",\n\t\t\t htt_stats_buf->null_mpdu_tx_count);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdu_bmap_not_recvd = %u\\n\",\n\t\t\t htt_stats_buf->mpdu_bmap_not_recvd);\n\tlen += scnprintf(buf + len, buf_len - len, \"num_bar = %u\\n\",\n\t\t\t htt_stats_buf->num_bar);\n\tlen += scnprintf(buf + len, buf_len - len, \"rts = %u\\n\",\n\t\t\t htt_stats_buf->rts);\n\tlen += scnprintf(buf + len, buf_len - len, \"cts2self = %u\\n\",\n\t\t\t htt_stats_buf->cts2self);\n\tlen += scnprintf(buf + len, buf_len - len, \"qos_null = %u\\n\",\n\t\t\t htt_stats_buf->qos_null);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdu_tried_cnt = %u\\n\",\n\t\t\t htt_stats_buf->mpdu_tried_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdu_queued_cnt = %u\\n\",\n\t\t\t htt_stats_buf->mpdu_queued_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdu_ack_fail_cnt = %u\\n\",\n\t\t\t htt_stats_buf->mpdu_ack_fail_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdu_filt_cnt = %u\\n\",\n\t\t\t htt_stats_buf->mpdu_filt_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"false_mpdu_ack_count = %u\\n\",\n\t\t\t htt_stats_buf->false_mpdu_ack_count);\n\tlen += scnprintf(buf + len, buf_len - len, \"txq_timeout = %u\\n\\n\",\n\t\t\t htt_stats_buf->txq_timeout);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_hwq_difs_latency_stats_tlv_v(const void *tag_buf,\n\t\t\t\t\t  u16 tag_len,\n\t\t\t\t\t  struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_hwq_difs_latency_stats_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu16 data_len = min_t(u16, (tag_len >> 2), HTT_TX_HWQ_MAX_DIFS_LATENCY_BINS);\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_TX_HWQ_DIFS_LATENCY_STATS_TLV_V:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"hist_intvl = %u\\n\",\n\t\t\t htt_stats_buf->hist_intvl);\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->difs_latency_hist,\n\t\t\t   \"difs_latency_hist\", data_len, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_hwq_cmd_result_stats_tlv_v(const void *tag_buf,\n\t\t\t\t\tu16 tag_len,\n\t\t\t\t\tstruct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_hwq_cmd_result_stats_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu16 data_len;\n\n\tdata_len = min_t(u16, (tag_len >> 2), HTT_TX_HWQ_MAX_CMD_RESULT_STATS);\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_TX_HWQ_CMD_RESULT_STATS_TLV_V:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->cmd_result, \"cmd_result\",\n\t\t\t   data_len, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_hwq_cmd_stall_stats_tlv_v(const void *tag_buf,\n\t\t\t\t       u16 tag_len,\n\t\t\t\t       struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_hwq_cmd_stall_stats_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu16 num_elems;\n\n\tnum_elems = min_t(u16, (tag_len >> 2), HTT_TX_HWQ_MAX_CMD_STALL_STATS);\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_HWQ_CMD_STALL_STATS_TLV_V:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->cmd_stall_status,\n\t\t\t   \"cmd_stall_status\", num_elems, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_hwq_fes_result_stats_tlv_v(const void *tag_buf,\n\t\t\t\t\tu16 tag_len,\n\t\t\t\t\tstruct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_hwq_fes_result_stats_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu16 num_elems;\n\n\tnum_elems = min_t(u16, (tag_len >> 2), HTT_TX_HWQ_MAX_FES_RESULT_STATS);\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_TX_HWQ_FES_RESULT_STATS_TLV_V:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->fes_result, \"fes_result\",\n\t\t\t   num_elems, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_hwq_tried_mpdu_cnt_hist_tlv_v(const void *tag_buf,\n\t\t\t\t\t   u16 tag_len,\n\t\t\t\t\t   struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_hwq_tried_mpdu_cnt_hist_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu32  num_elements = ((tag_len -\n\t\t\t    sizeof(htt_stats_buf->hist_bin_size)) >> 2);\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_TX_HWQ_TRIED_MPDU_CNT_HIST_TLV_V:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"TRIED_MPDU_CNT_HIST_BIN_SIZE : %u\\n\",\n\t\t\t htt_stats_buf->hist_bin_size);\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->tried_mpdu_cnt_hist,\n\t\t\t   \"tried_mpdu_cnt_hist\", num_elements, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_hwq_txop_used_cnt_hist_tlv_v(const void *tag_buf,\n\t\t\t\t\t  u16 tag_len,\n\t\t\t\t\t  struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_hwq_txop_used_cnt_hist_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu32 num_elements = tag_len >> 2;\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_TX_HWQ_TXOP_USED_CNT_HIST_TLV_V:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->txop_used_cnt_hist,\n\t\t\t   \"txop_used_cnt_hist\", num_elements, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_tx_sounding_stats_tlv(const void *tag_buf,\n\t\t\t\t\t\t   struct debug_htt_stats_req *stats_req)\n{\n\ts32 i;\n\tconst struct htt_tx_sounding_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tconst u32 *cbf_20 = htt_stats_buf->cbf_20;\n\tconst u32 *cbf_40 = htt_stats_buf->cbf_40;\n\tconst u32 *cbf_80 = htt_stats_buf->cbf_80;\n\tconst u32 *cbf_160 = htt_stats_buf->cbf_160;\n\n\tif (htt_stats_buf->tx_sounding_mode == HTT_TX_AC_SOUNDING_MODE) {\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"\\nHTT_TX_AC_SOUNDING_STATS_TLV:\\n\\n\");\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ac_cbf_20 = IBF : %u, SU_SIFS : %u, SU_RBO : %u, MU_SIFS : %u, MU_RBO : %u\\n\",\n\t\t\t\t cbf_20[HTT_IMPLICIT_TXBF_STEER_STATS],\n\t\t\t\t cbf_20[HTT_EXPLICIT_TXBF_SU_SIFS_STEER_STATS],\n\t\t\t\t cbf_20[HTT_EXPLICIT_TXBF_SU_RBO_STEER_STATS],\n\t\t\t\t cbf_20[HTT_EXPLICIT_TXBF_MU_SIFS_STEER_STATS],\n\t\t\t\t cbf_20[HTT_EXPLICIT_TXBF_MU_RBO_STEER_STATS]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ac_cbf_40 = IBF : %u, SU_SIFS : %u, SU_RBO : %u, MU_SIFS : %u, MU_RBO : %u\\n\",\n\t\t\t\t cbf_40[HTT_IMPLICIT_TXBF_STEER_STATS],\n\t\t\t\t cbf_40[HTT_EXPLICIT_TXBF_SU_SIFS_STEER_STATS],\n\t\t\t\t cbf_40[HTT_EXPLICIT_TXBF_SU_RBO_STEER_STATS],\n\t\t\t\t cbf_40[HTT_EXPLICIT_TXBF_MU_SIFS_STEER_STATS],\n\t\t\t\t cbf_40[HTT_EXPLICIT_TXBF_MU_RBO_STEER_STATS]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ac_cbf_80 = IBF : %u, SU_SIFS : %u, SU_RBO : %u, MU_SIFS : %u, MU_RBO : %u\\n\",\n\t\t\t\t cbf_80[HTT_IMPLICIT_TXBF_STEER_STATS],\n\t\t\t\t cbf_80[HTT_EXPLICIT_TXBF_SU_SIFS_STEER_STATS],\n\t\t\t\t cbf_80[HTT_EXPLICIT_TXBF_SU_RBO_STEER_STATS],\n\t\t\t\t cbf_80[HTT_EXPLICIT_TXBF_MU_SIFS_STEER_STATS],\n\t\t\t\t cbf_80[HTT_EXPLICIT_TXBF_MU_RBO_STEER_STATS]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ac_cbf_160 = IBF : %u, SU_SIFS : %u, SU_RBO : %u, MU_SIFS : %u, MU_RBO : %u\\n\",\n\t\t\t\t cbf_160[HTT_IMPLICIT_TXBF_STEER_STATS],\n\t\t\t\t cbf_160[HTT_EXPLICIT_TXBF_SU_SIFS_STEER_STATS],\n\t\t\t\t cbf_160[HTT_EXPLICIT_TXBF_SU_RBO_STEER_STATS],\n\t\t\t\t cbf_160[HTT_EXPLICIT_TXBF_MU_SIFS_STEER_STATS],\n\t\t\t\t cbf_160[HTT_EXPLICIT_TXBF_MU_RBO_STEER_STATS]);\n\n\t\tfor (i = 0; i < HTT_TX_PDEV_STATS_NUM_AC_MUMIMO_USER_STATS; i++) {\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"Sounding User %u = 20MHz: %u, 40MHz : %u, 80MHz: %u, 160MHz: %u\\n\",\n\t\t\t\t\t i,\n\t\t\t\t\t htt_stats_buf->sounding[0],\n\t\t\t\t\t htt_stats_buf->sounding[1],\n\t\t\t\t\t htt_stats_buf->sounding[2],\n\t\t\t\t\t htt_stats_buf->sounding[3]);\n\t\t}\n\t} else if (htt_stats_buf->tx_sounding_mode == HTT_TX_AX_SOUNDING_MODE) {\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"\\nHTT_TX_AX_SOUNDING_STATS_TLV:\\n\");\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_cbf_20 = IBF : %u, SU_SIFS : %u, SU_RBO : %u, MU_SIFS : %u, MU_RBO : %u\\n\",\n\t\t\t\t cbf_20[HTT_IMPLICIT_TXBF_STEER_STATS],\n\t\t\t\t cbf_20[HTT_EXPLICIT_TXBF_SU_SIFS_STEER_STATS],\n\t\t\t\t cbf_20[HTT_EXPLICIT_TXBF_SU_RBO_STEER_STATS],\n\t\t\t\t cbf_20[HTT_EXPLICIT_TXBF_MU_SIFS_STEER_STATS],\n\t\t\t\t cbf_20[HTT_EXPLICIT_TXBF_MU_RBO_STEER_STATS]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_cbf_40 = IBF : %u, SU_SIFS : %u, SU_RBO : %u, MU_SIFS : %u, MU_RBO : %u\\n\",\n\t\t\t\t cbf_40[HTT_IMPLICIT_TXBF_STEER_STATS],\n\t\t\t\t cbf_40[HTT_EXPLICIT_TXBF_SU_SIFS_STEER_STATS],\n\t\t\t\t cbf_40[HTT_EXPLICIT_TXBF_SU_RBO_STEER_STATS],\n\t\t\t\t cbf_40[HTT_EXPLICIT_TXBF_MU_SIFS_STEER_STATS],\n\t\t\t\t cbf_40[HTT_EXPLICIT_TXBF_MU_RBO_STEER_STATS]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_cbf_80 = IBF : %u, SU_SIFS : %u, SU_RBO : %u, MU_SIFS : %u, MU_RBO : %u\\n\",\n\t\t\t\t cbf_80[HTT_IMPLICIT_TXBF_STEER_STATS],\n\t\t\t\t cbf_80[HTT_EXPLICIT_TXBF_SU_SIFS_STEER_STATS],\n\t\t\t\t cbf_80[HTT_EXPLICIT_TXBF_SU_RBO_STEER_STATS],\n\t\t\t\t cbf_80[HTT_EXPLICIT_TXBF_MU_SIFS_STEER_STATS],\n\t\t\t\t cbf_80[HTT_EXPLICIT_TXBF_MU_RBO_STEER_STATS]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_cbf_160 = IBF : %u, SU_SIFS : %u, SU_RBO : %u, MU_SIFS : %u, MU_RBO : %u\\n\",\n\t\t\t\t cbf_160[HTT_IMPLICIT_TXBF_STEER_STATS],\n\t\t\t\t cbf_160[HTT_EXPLICIT_TXBF_SU_SIFS_STEER_STATS],\n\t\t\t\t cbf_160[HTT_EXPLICIT_TXBF_SU_RBO_STEER_STATS],\n\t\t\t\t cbf_160[HTT_EXPLICIT_TXBF_MU_SIFS_STEER_STATS],\n\t\t\t\t cbf_160[HTT_EXPLICIT_TXBF_MU_RBO_STEER_STATS]);\n\n\t\tfor (i = 0; i < HTT_TX_PDEV_STATS_NUM_AX_MUMIMO_USER_STATS; i++) {\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"Sounding User %u = 20MHz: %u, 40MHz : %u, 80MHz: %u, 160MHz: %u\\n\",\n\t\t\t\t\t i,\n\t\t\t\t\t htt_stats_buf->sounding[0],\n\t\t\t\t\t htt_stats_buf->sounding[1],\n\t\t\t\t\t htt_stats_buf->sounding[2],\n\t\t\t\t\t htt_stats_buf->sounding[3]);\n\t\t}\n\t}\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_selfgen_cmn_stats_tlv(const void *tag_buf,\n\t\t\t\t   struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_selfgen_cmn_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_SELFGEN_CMN_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"mac_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_STATS_MAC_ID, htt_stats_buf->mac_id__word));\n\tlen += scnprintf(buf + len, buf_len - len, \"su_bar = %u\\n\",\n\t\t\t htt_stats_buf->su_bar);\n\tlen += scnprintf(buf + len, buf_len - len, \"rts = %u\\n\",\n\t\t\t htt_stats_buf->rts);\n\tlen += scnprintf(buf + len, buf_len - len, \"cts2self = %u\\n\",\n\t\t\t htt_stats_buf->cts2self);\n\tlen += scnprintf(buf + len, buf_len - len, \"qos_null = %u\\n\",\n\t\t\t htt_stats_buf->qos_null);\n\tlen += scnprintf(buf + len, buf_len - len, \"delayed_bar_1 = %u\\n\",\n\t\t\t htt_stats_buf->delayed_bar_1);\n\tlen += scnprintf(buf + len, buf_len - len, \"delayed_bar_2 = %u\\n\",\n\t\t\t htt_stats_buf->delayed_bar_2);\n\tlen += scnprintf(buf + len, buf_len - len, \"delayed_bar_3 = %u\\n\",\n\t\t\t htt_stats_buf->delayed_bar_3);\n\tlen += scnprintf(buf + len, buf_len - len, \"delayed_bar_4 = %u\\n\",\n\t\t\t htt_stats_buf->delayed_bar_4);\n\tlen += scnprintf(buf + len, buf_len - len, \"delayed_bar_5 = %u\\n\",\n\t\t\t htt_stats_buf->delayed_bar_5);\n\tlen += scnprintf(buf + len, buf_len - len, \"delayed_bar_6 = %u\\n\",\n\t\t\t htt_stats_buf->delayed_bar_6);\n\tlen += scnprintf(buf + len, buf_len - len, \"delayed_bar_7 = %u\\n\\n\",\n\t\t\t htt_stats_buf->delayed_bar_7);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_selfgen_ac_stats_tlv(const void *tag_buf,\n\t\t\t\t  struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_selfgen_ac_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_SELFGEN_AC_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"ac_su_ndpa = %u\\n\",\n\t\t\t htt_stats_buf->ac_su_ndpa);\n\tlen += scnprintf(buf + len, buf_len - len, \"ac_su_ndp = %u\\n\",\n\t\t\t htt_stats_buf->ac_su_ndp);\n\tlen += scnprintf(buf + len, buf_len - len, \"ac_mu_mimo_ndpa = %u\\n\",\n\t\t\t htt_stats_buf->ac_mu_mimo_ndpa);\n\tlen += scnprintf(buf + len, buf_len - len, \"ac_mu_mimo_ndp = %u\\n\",\n\t\t\t htt_stats_buf->ac_mu_mimo_ndp);\n\tlen += scnprintf(buf + len, buf_len - len, \"ac_mu_mimo_brpoll_1 = %u\\n\",\n\t\t\t htt_stats_buf->ac_mu_mimo_brpoll_1);\n\tlen += scnprintf(buf + len, buf_len - len, \"ac_mu_mimo_brpoll_2 = %u\\n\",\n\t\t\t htt_stats_buf->ac_mu_mimo_brpoll_2);\n\tlen += scnprintf(buf + len, buf_len - len, \"ac_mu_mimo_brpoll_3 = %u\\n\\n\",\n\t\t\t htt_stats_buf->ac_mu_mimo_brpoll_3);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_selfgen_ax_stats_tlv(const void *tag_buf,\n\t\t\t\t  struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_selfgen_ax_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_SELFGEN_AX_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_su_ndpa = %u\\n\",\n\t\t\t htt_stats_buf->ax_su_ndpa);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_su_ndp = %u\\n\",\n\t\t\t htt_stats_buf->ax_su_ndp);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_mu_mimo_ndpa = %u\\n\",\n\t\t\t htt_stats_buf->ax_mu_mimo_ndpa);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_mu_mimo_ndp = %u\\n\",\n\t\t\t htt_stats_buf->ax_mu_mimo_ndp);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_mu_mimo_brpoll_1 = %u\\n\",\n\t\t\t htt_stats_buf->ax_mu_mimo_brpoll_1);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_mu_mimo_brpoll_2 = %u\\n\",\n\t\t\t htt_stats_buf->ax_mu_mimo_brpoll_2);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_mu_mimo_brpoll_3 = %u\\n\",\n\t\t\t htt_stats_buf->ax_mu_mimo_brpoll_3);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_mu_mimo_brpoll_4 = %u\\n\",\n\t\t\t htt_stats_buf->ax_mu_mimo_brpoll_4);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_mu_mimo_brpoll_5 = %u\\n\",\n\t\t\t htt_stats_buf->ax_mu_mimo_brpoll_5);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_mu_mimo_brpoll_6 = %u\\n\",\n\t\t\t htt_stats_buf->ax_mu_mimo_brpoll_6);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_mu_mimo_brpoll_7 = %u\\n\",\n\t\t\t htt_stats_buf->ax_mu_mimo_brpoll_7);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_basic_trigger = %u\\n\",\n\t\t\t htt_stats_buf->ax_basic_trigger);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_ulmumimo_trigger = %u\\n\",\n\t\t\t htt_stats_buf->ax_ulmumimo_trigger);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_bsr_trigger = %u\\n\",\n\t\t\t htt_stats_buf->ax_bsr_trigger);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_mu_bar_trigger = %u\\n\",\n\t\t\t htt_stats_buf->ax_mu_bar_trigger);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_mu_rts_trigger = %u\\n\\n\",\n\t\t\t htt_stats_buf->ax_mu_rts_trigger);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_selfgen_ac_err_stats_tlv(const void *tag_buf,\n\t\t\t\t      struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_selfgen_ac_err_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_SELFGEN_AC_ERR_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"ac_su_ndp_err = %u\\n\",\n\t\t\t htt_stats_buf->ac_su_ndp_err);\n\tlen += scnprintf(buf + len, buf_len - len, \"ac_su_ndpa_err = %u\\n\",\n\t\t\t htt_stats_buf->ac_su_ndpa_err);\n\tlen += scnprintf(buf + len, buf_len - len, \"ac_mu_mimo_ndpa_err = %u\\n\",\n\t\t\t htt_stats_buf->ac_mu_mimo_ndpa_err);\n\tlen += scnprintf(buf + len, buf_len - len, \"ac_mu_mimo_ndp_err = %u\\n\",\n\t\t\t htt_stats_buf->ac_mu_mimo_ndp_err);\n\tlen += scnprintf(buf + len, buf_len - len, \"ac_mu_mimo_brp1_err = %u\\n\",\n\t\t\t htt_stats_buf->ac_mu_mimo_brp1_err);\n\tlen += scnprintf(buf + len, buf_len - len, \"ac_mu_mimo_brp2_err = %u\\n\",\n\t\t\t htt_stats_buf->ac_mu_mimo_brp2_err);\n\tlen += scnprintf(buf + len, buf_len - len, \"ac_mu_mimo_brp3_err = %u\\n\\n\",\n\t\t\t htt_stats_buf->ac_mu_mimo_brp3_err);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_selfgen_ax_err_stats_tlv(const void *tag_buf,\n\t\t\t\t      struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_selfgen_ax_err_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_SELFGEN_AX_ERR_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_su_ndp_err = %u\\n\",\n\t\t\t htt_stats_buf->ax_su_ndp_err);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_su_ndpa_err = %u\\n\",\n\t\t\t htt_stats_buf->ax_su_ndpa_err);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_mu_mimo_ndpa_err = %u\\n\",\n\t\t\t htt_stats_buf->ax_mu_mimo_ndpa_err);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_mu_mimo_ndp_err = %u\\n\",\n\t\t\t htt_stats_buf->ax_mu_mimo_ndp_err);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_mu_mimo_brp1_err = %u\\n\",\n\t\t\t htt_stats_buf->ax_mu_mimo_brp1_err);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_mu_mimo_brp2_err = %u\\n\",\n\t\t\t htt_stats_buf->ax_mu_mimo_brp2_err);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_mu_mimo_brp3_err = %u\\n\",\n\t\t\t htt_stats_buf->ax_mu_mimo_brp3_err);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_mu_mimo_brp4_err = %u\\n\",\n\t\t\t htt_stats_buf->ax_mu_mimo_brp4_err);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_mu_mimo_brp5_err = %u\\n\",\n\t\t\t htt_stats_buf->ax_mu_mimo_brp5_err);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_mu_mimo_brp6_err = %u\\n\",\n\t\t\t htt_stats_buf->ax_mu_mimo_brp6_err);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_mu_mimo_brp7_err = %u\\n\",\n\t\t\t htt_stats_buf->ax_mu_mimo_brp7_err);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_basic_trigger_err = %u\\n\",\n\t\t\t htt_stats_buf->ax_basic_trigger_err);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_ulmumimo_trigger_err = %u\\n\",\n\t\t\t htt_stats_buf->ax_ulmumimo_trigger_err);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_bsr_trigger_err = %u\\n\",\n\t\t\t htt_stats_buf->ax_bsr_trigger_err);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_mu_bar_trigger_err = %u\\n\",\n\t\t\t htt_stats_buf->ax_mu_bar_trigger_err);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_mu_rts_trigger_err = %u\\n\\n\",\n\t\t\t htt_stats_buf->ax_mu_rts_trigger_err);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_pdev_mu_mimo_sch_stats_tlv(const void *tag_buf,\n\t\t\t\t\tstruct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_pdev_mu_mimo_sch_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu8 i;\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_TX_PDEV_MU_MIMO_SCH_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"mu_mimo_sch_posted = %u\\n\",\n\t\t\t htt_stats_buf->mu_mimo_sch_posted);\n\tlen += scnprintf(buf + len, buf_len - len, \"mu_mimo_sch_failed = %u\\n\",\n\t\t\t htt_stats_buf->mu_mimo_sch_failed);\n\tlen += scnprintf(buf + len, buf_len - len, \"mu_mimo_ppdu_posted = %u\\n\\n\",\n\t\t\t htt_stats_buf->mu_mimo_ppdu_posted);\n\n\tfor (i = 0; i < HTT_TX_PDEV_STATS_NUM_AC_MUMIMO_USER_STATS; i++)\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ac_mu_mimo_sch_posted_per_group_index %u = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ac_mu_mimo_sch_posted_per_grp_sz[i]);\n\n\tfor (i = 0; i < HTT_TX_PDEV_STATS_NUM_AX_MUMIMO_USER_STATS; i++)\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_mu_mimo_sch_posted_per_group_index %u = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_mu_mimo_sch_posted_per_grp_sz[i]);\n\n\tlen += scnprintf(buf + len, buf_len - len, \"11ac MU_MIMO SCH STATS:\\n\");\n\n\tfor (i = 0; i < HTT_TX_PDEV_STATS_NUM_AC_MUMIMO_USER_STATS; i++)\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ac_mu_mimo_sch_nusers_%u = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ac_mu_mimo_sch_nusers[i]);\n\n\tlen += scnprintf(buf + len, buf_len - len, \"\\n11ax MU_MIMO SCH STATS:\\n\");\n\n\tfor (i = 0; i < HTT_TX_PDEV_STATS_NUM_AX_MUMIMO_USER_STATS; i++)\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_mu_mimo_sch_nusers_%u = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_mu_mimo_sch_nusers[i]);\n\n\tlen += scnprintf(buf + len, buf_len - len, \"\\n11ax OFDMA SCH STATS:\\n\");\n\n\tfor (i = 0; i < HTT_TX_PDEV_STATS_NUM_OFDMA_USER_STATS; i++) {\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ofdma_sch_nusers_%u = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ofdma_sch_nusers[i]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ul_ofdma_basic_sch_nusers_%u = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ul_ofdma_basic_sch_nusers[i]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ul_ofdma_bsr_sch_nusers_%u = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ul_ofdma_bsr_sch_nusers[i]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ul_ofdma_sch_bar_nusers_%u = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ul_ofdma_bar_sch_nusers[i]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ul_ofdma_brp_sch_nusers_%u = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ul_ofdma_brp_sch_nusers[i]);\n\t}\n\n\tlen += scnprintf(buf + len, buf_len - len, \"\\n11ax UL MUMIO SCH STATS:\\n\");\n\n\tfor (i = 0; i < HTT_TX_PDEV_STATS_NUM_UL_MUMIMO_USER_STATS; i++) {\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ul_mumimo_basic_sch_nusers_%u = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ul_mumimo_basic_sch_nusers[i]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ul_mumimo_brp_sch_nusers_%u = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ul_mumimo_brp_sch_nusers[i]);\n\t}\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_pdev_mu_mimo_mpdu_stats_tlv(const void *tag_buf,\n\t\t\t\t\t struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_pdev_mpdu_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tif (htt_stats_buf->tx_sched_mode == HTT_STATS_TX_SCHED_MODE_MU_MIMO_AC) {\n\t\tif (!htt_stats_buf->user_index)\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"HTT_TX_PDEV_MU_MIMO_AC_MPDU_STATS:\\n\");\n\n\t\tif (htt_stats_buf->user_index <\n\t\t    HTT_TX_PDEV_STATS_NUM_AC_MUMIMO_USER_STATS) {\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"ac_mu_mimo_mpdus_queued_usr_%u = %u\\n\",\n\t\t\t\t\t htt_stats_buf->user_index,\n\t\t\t\t\t htt_stats_buf->mpdus_queued_usr);\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"ac_mu_mimo_mpdus_tried_usr_%u = %u\\n\",\n\t\t\t\t\t htt_stats_buf->user_index,\n\t\t\t\t\t htt_stats_buf->mpdus_tried_usr);\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"ac_mu_mimo_mpdus_failed_usr_%u = %u\\n\",\n\t\t\t\t\t htt_stats_buf->user_index,\n\t\t\t\t\t htt_stats_buf->mpdus_failed_usr);\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"ac_mu_mimo_mpdus_requeued_usr_%u = %u\\n\",\n\t\t\t\t\t htt_stats_buf->user_index,\n\t\t\t\t\t htt_stats_buf->mpdus_requeued_usr);\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"ac_mu_mimo_err_no_ba_usr_%u = %u\\n\",\n\t\t\t\t\t htt_stats_buf->user_index,\n\t\t\t\t\t htt_stats_buf->err_no_ba_usr);\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"ac_mu_mimo_mpdu_underrun_usr_%u = %u\\n\",\n\t\t\t\t\t htt_stats_buf->user_index,\n\t\t\t\t\t htt_stats_buf->mpdu_underrun_usr);\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"ac_mu_mimo_ampdu_underrun_usr_%u = %u\\n\\n\",\n\t\t\t\t\t htt_stats_buf->user_index,\n\t\t\t\t\t htt_stats_buf->ampdu_underrun_usr);\n\t\t}\n\t}\n\n\tif (htt_stats_buf->tx_sched_mode == HTT_STATS_TX_SCHED_MODE_MU_MIMO_AX) {\n\t\tif (!htt_stats_buf->user_index)\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"HTT_TX_PDEV_MU_MIMO_AX_MPDU_STATS:\\n\");\n\n\t\tif (htt_stats_buf->user_index <\n\t\t    HTT_TX_PDEV_STATS_NUM_AX_MUMIMO_USER_STATS) {\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"ax_mu_mimo_mpdus_queued_usr_%u = %u\\n\",\n\t\t\t\t\t htt_stats_buf->user_index,\n\t\t\t\t\t htt_stats_buf->mpdus_queued_usr);\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"ax_mu_mimo_mpdus_tried_usr_%u = %u\\n\",\n\t\t\t\t\t htt_stats_buf->user_index,\n\t\t\t\t\t htt_stats_buf->mpdus_tried_usr);\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"ax_mu_mimo_mpdus_failed_usr_%u = %u\\n\",\n\t\t\t\t\t htt_stats_buf->user_index,\n\t\t\t\t\t htt_stats_buf->mpdus_failed_usr);\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"ax_mu_mimo_mpdus_requeued_usr_%u = %u\\n\",\n\t\t\t\t\t htt_stats_buf->user_index,\n\t\t\t\t\t htt_stats_buf->mpdus_requeued_usr);\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"ax_mu_mimo_err_no_ba_usr_%u = %u\\n\",\n\t\t\t\t\t htt_stats_buf->user_index,\n\t\t\t\t\t htt_stats_buf->err_no_ba_usr);\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"ax_mu_mimo_mpdu_underrun_usr_%u = %u\\n\",\n\t\t\t\t\t htt_stats_buf->user_index,\n\t\t\t\t\t htt_stats_buf->mpdu_underrun_usr);\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"ax_mu_mimo_ampdu_underrun_usr_%u = %u\\n\\n\",\n\t\t\t\t\t htt_stats_buf->user_index,\n\t\t\t\t\t htt_stats_buf->ampdu_underrun_usr);\n\t\t}\n\t}\n\n\tif (htt_stats_buf->tx_sched_mode == HTT_STATS_TX_SCHED_MODE_MU_OFDMA_AX) {\n\t\tif (!htt_stats_buf->user_index)\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"HTT_TX_PDEV_AX_MU_OFDMA_MPDU_STATS:\\n\");\n\n\t\tif (htt_stats_buf->user_index < HTT_TX_PDEV_STATS_NUM_OFDMA_USER_STATS) {\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"ax_mu_ofdma_mpdus_queued_usr_%u = %u\\n\",\n\t\t\t\t\t htt_stats_buf->user_index,\n\t\t\t\t\t htt_stats_buf->mpdus_queued_usr);\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"ax_mu_ofdma_mpdus_tried_usr_%u = %u\\n\",\n\t\t\t\t\t htt_stats_buf->user_index,\n\t\t\t\t\t htt_stats_buf->mpdus_tried_usr);\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"ax_mu_ofdma_mpdus_failed_usr_%u = %u\\n\",\n\t\t\t\t\t htt_stats_buf->user_index,\n\t\t\t\t\t htt_stats_buf->mpdus_failed_usr);\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"ax_mu_ofdma_mpdus_requeued_usr_%u = %u\\n\",\n\t\t\t\t\t htt_stats_buf->user_index,\n\t\t\t\t\t htt_stats_buf->mpdus_requeued_usr);\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"ax_mu_ofdma_err_no_ba_usr_%u = %u\\n\",\n\t\t\t\t\t htt_stats_buf->user_index,\n\t\t\t\t\t htt_stats_buf->err_no_ba_usr);\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"ax_mu_ofdma_mpdu_underrun_usr_%u = %u\\n\",\n\t\t\t\t\t htt_stats_buf->user_index,\n\t\t\t\t\t htt_stats_buf->mpdu_underrun_usr);\n\t\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t\t \"ax_mu_ofdma_ampdu_underrun_usr_%u = %u\\n\\n\",\n\t\t\t\t\t htt_stats_buf->user_index,\n\t\t\t\t\t htt_stats_buf->ampdu_underrun_usr);\n\t\t}\n\t}\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_sched_txq_cmd_posted_tlv_v(const void *tag_buf,\n\t\t\t\t     u16 tag_len,\n\t\t\t\t     struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_sched_txq_cmd_posted_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu16 num_elements = min_t(u16, (tag_len >> 2), HTT_TX_PDEV_SCHED_TX_MODE_MAX);\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_SCHED_TXQ_CMD_POSTED_TLV_V:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->sched_cmd_posted,\n\t\t\t   \"sched_cmd_posted\", num_elements, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_sched_txq_cmd_reaped_tlv_v(const void *tag_buf,\n\t\t\t\t     u16 tag_len,\n\t\t\t\t     struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_sched_txq_cmd_reaped_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu16 num_elements = min_t(u16, (tag_len >> 2), HTT_TX_PDEV_SCHED_TX_MODE_MAX);\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_SCHED_TXQ_CMD_REAPED_TLV_V:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->sched_cmd_reaped,\n\t\t\t   \"sched_cmd_reaped\", num_elements, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_sched_txq_sched_order_su_tlv_v(const void *tag_buf,\n\t\t\t\t\t u16 tag_len,\n\t\t\t\t\t struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_sched_txq_sched_order_su_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\t \n\tu32 sched_order_su_num_entries =\n\t\tmin_t(u32, (tag_len >> 2), HTT_TX_PDEV_NUM_SCHED_ORDER_LOG);\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_SCHED_TXQ_SCHED_ORDER_SU_TLV_V:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->sched_order_su, \"sched_order_su\",\n\t\t\t   sched_order_su_num_entries, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_sched_txq_sched_ineligibility_tlv_v(const void *tag_buf,\n\t\t\t\t\t      u16 tag_len,\n\t\t\t\t\t      struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_sched_txq_sched_ineligibility_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\t \n\tu32 sched_ineligibility_num_entries = tag_len >> 2;\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_SCHED_TXQ_SCHED_INELIGIBILITY_V:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->sched_ineligibility,\n\t\t\t   \"sched_ineligibility\", sched_ineligibility_num_entries,\n\t\t\t   \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_pdev_stats_sched_per_txq_tlv(const void *tag_buf,\n\t\t\t\t\t  struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_pdev_stats_sched_per_txq_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_TX_PDEV_STATS_SCHED_PER_TXQ_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"mac_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_TX_PDEV_STATS_SCHED_PER_TXQ_MAC_ID,\n\t\t\t\t   htt_stats_buf->mac_id__txq_id__word));\n\tlen += scnprintf(buf + len, buf_len - len, \"txq_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_TX_PDEV_STATS_SCHED_PER_TXQ_ID,\n\t\t\t\t   htt_stats_buf->mac_id__txq_id__word));\n\tlen += scnprintf(buf + len, buf_len - len, \"sched_policy = %u\\n\",\n\t\t\t htt_stats_buf->sched_policy);\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"last_sched_cmd_posted_timestamp = %u\\n\",\n\t\t\t htt_stats_buf->last_sched_cmd_posted_timestamp);\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"last_sched_cmd_compl_timestamp = %u\\n\",\n\t\t\t htt_stats_buf->last_sched_cmd_compl_timestamp);\n\tlen += scnprintf(buf + len, buf_len - len, \"sched_2_tac_lwm_count = %u\\n\",\n\t\t\t htt_stats_buf->sched_2_tac_lwm_count);\n\tlen += scnprintf(buf + len, buf_len - len, \"sched_2_tac_ring_full = %u\\n\",\n\t\t\t htt_stats_buf->sched_2_tac_ring_full);\n\tlen += scnprintf(buf + len, buf_len - len, \"sched_cmd_post_failure = %u\\n\",\n\t\t\t htt_stats_buf->sched_cmd_post_failure);\n\tlen += scnprintf(buf + len, buf_len - len, \"num_active_tids = %u\\n\",\n\t\t\t htt_stats_buf->num_active_tids);\n\tlen += scnprintf(buf + len, buf_len - len, \"num_ps_schedules = %u\\n\",\n\t\t\t htt_stats_buf->num_ps_schedules);\n\tlen += scnprintf(buf + len, buf_len - len, \"sched_cmds_pending = %u\\n\",\n\t\t\t htt_stats_buf->sched_cmds_pending);\n\tlen += scnprintf(buf + len, buf_len - len, \"num_tid_register = %u\\n\",\n\t\t\t htt_stats_buf->num_tid_register);\n\tlen += scnprintf(buf + len, buf_len - len, \"num_tid_unregister = %u\\n\",\n\t\t\t htt_stats_buf->num_tid_unregister);\n\tlen += scnprintf(buf + len, buf_len - len, \"num_qstats_queried = %u\\n\",\n\t\t\t htt_stats_buf->num_qstats_queried);\n\tlen += scnprintf(buf + len, buf_len - len, \"qstats_update_pending = %u\\n\",\n\t\t\t htt_stats_buf->qstats_update_pending);\n\tlen += scnprintf(buf + len, buf_len - len, \"last_qstats_query_timestamp = %u\\n\",\n\t\t\t htt_stats_buf->last_qstats_query_timestamp);\n\tlen += scnprintf(buf + len, buf_len - len, \"num_tqm_cmdq_full = %u\\n\",\n\t\t\t htt_stats_buf->num_tqm_cmdq_full);\n\tlen += scnprintf(buf + len, buf_len - len, \"num_de_sched_algo_trigger = %u\\n\",\n\t\t\t htt_stats_buf->num_de_sched_algo_trigger);\n\tlen += scnprintf(buf + len, buf_len - len, \"num_rt_sched_algo_trigger = %u\\n\",\n\t\t\t htt_stats_buf->num_rt_sched_algo_trigger);\n\tlen += scnprintf(buf + len, buf_len - len, \"num_tqm_sched_algo_trigger = %u\\n\",\n\t\t\t htt_stats_buf->num_tqm_sched_algo_trigger);\n\tlen += scnprintf(buf + len, buf_len - len, \"notify_sched = %u\\n\\n\",\n\t\t\t htt_stats_buf->notify_sched);\n\tlen += scnprintf(buf + len, buf_len - len, \"dur_based_sendn_term = %u\\n\\n\",\n\t\t\t htt_stats_buf->dur_based_sendn_term);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_stats_tx_sched_cmn_tlv(const void *tag_buf,\n\t\t\t\t\t\t    struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_stats_tx_sched_cmn_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_STATS_TX_SCHED_CMN_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"mac_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_STATS_MAC_ID, htt_stats_buf->mac_id__word));\n\tlen += scnprintf(buf + len, buf_len - len, \"current_timestamp = %u\\n\\n\",\n\t\t\t htt_stats_buf->current_timestamp);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_tqm_gen_mpdu_stats_tlv_v(const void *tag_buf,\n\t\t\t\t      u16 tag_len,\n\t\t\t\t      struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_tqm_gen_mpdu_stats_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu16 num_elements = min_t(u16, (tag_len >> 2),\n\t\t\t\t HTT_TX_TQM_MAX_LIST_MPDU_END_REASON);\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_TQM_GEN_MPDU_STATS_TLV_V:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->gen_mpdu_end_reason,\n\t\t\t   \"gen_mpdu_end_reason\", num_elements, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_tqm_list_mpdu_stats_tlv_v(const void *tag_buf,\n\t\t\t\t       u16 tag_len,\n\t\t\t\t       struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_tqm_list_mpdu_stats_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu16 num_elems = min_t(u16, (tag_len >> 2), HTT_TX_TQM_MAX_LIST_MPDU_END_REASON);\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_TX_TQM_LIST_MPDU_STATS_TLV_V:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->list_mpdu_end_reason,\n\t\t\t   \"list_mpdu_end_reason\", num_elems, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_tqm_list_mpdu_cnt_tlv_v(const void *tag_buf,\n\t\t\t\t     u16 tag_len,\n\t\t\t\t     struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_tqm_list_mpdu_cnt_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu16 num_elems = min_t(u16, (tag_len >> 2),\n\t\t\t      HTT_TX_TQM_MAX_LIST_MPDU_CNT_HISTOGRAM_BINS);\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_TQM_LIST_MPDU_CNT_TLV_V:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->list_mpdu_cnt_hist,\n\t\t\t   \"list_mpdu_cnt_hist\", num_elems, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_tqm_pdev_stats_tlv_v(const void *tag_buf,\n\t\t\t\t  struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_tqm_pdev_stats_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_TQM_PDEV_STATS_TLV_V:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"msdu_count = %u\\n\",\n\t\t\t htt_stats_buf->msdu_count);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdu_count = %u\\n\",\n\t\t\t htt_stats_buf->mpdu_count);\n\tlen += scnprintf(buf + len, buf_len - len, \"remove_msdu = %u\\n\",\n\t\t\t htt_stats_buf->remove_msdu);\n\tlen += scnprintf(buf + len, buf_len - len, \"remove_mpdu = %u\\n\",\n\t\t\t htt_stats_buf->remove_mpdu);\n\tlen += scnprintf(buf + len, buf_len - len, \"remove_msdu_ttl = %u\\n\",\n\t\t\t htt_stats_buf->remove_msdu_ttl);\n\tlen += scnprintf(buf + len, buf_len - len, \"send_bar = %u\\n\",\n\t\t\t htt_stats_buf->send_bar);\n\tlen += scnprintf(buf + len, buf_len - len, \"bar_sync = %u\\n\",\n\t\t\t htt_stats_buf->bar_sync);\n\tlen += scnprintf(buf + len, buf_len - len, \"notify_mpdu = %u\\n\",\n\t\t\t htt_stats_buf->notify_mpdu);\n\tlen += scnprintf(buf + len, buf_len - len, \"sync_cmd = %u\\n\",\n\t\t\t htt_stats_buf->sync_cmd);\n\tlen += scnprintf(buf + len, buf_len - len, \"write_cmd = %u\\n\",\n\t\t\t htt_stats_buf->write_cmd);\n\tlen += scnprintf(buf + len, buf_len - len, \"hwsch_trigger = %u\\n\",\n\t\t\t htt_stats_buf->hwsch_trigger);\n\tlen += scnprintf(buf + len, buf_len - len, \"ack_tlv_proc = %u\\n\",\n\t\t\t htt_stats_buf->ack_tlv_proc);\n\tlen += scnprintf(buf + len, buf_len - len, \"gen_mpdu_cmd = %u\\n\",\n\t\t\t htt_stats_buf->gen_mpdu_cmd);\n\tlen += scnprintf(buf + len, buf_len - len, \"gen_list_cmd = %u\\n\",\n\t\t\t htt_stats_buf->gen_list_cmd);\n\tlen += scnprintf(buf + len, buf_len - len, \"remove_mpdu_cmd = %u\\n\",\n\t\t\t htt_stats_buf->remove_mpdu_cmd);\n\tlen += scnprintf(buf + len, buf_len - len, \"remove_mpdu_tried_cmd = %u\\n\",\n\t\t\t htt_stats_buf->remove_mpdu_tried_cmd);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdu_queue_stats_cmd = %u\\n\",\n\t\t\t htt_stats_buf->mpdu_queue_stats_cmd);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdu_head_info_cmd = %u\\n\",\n\t\t\t htt_stats_buf->mpdu_head_info_cmd);\n\tlen += scnprintf(buf + len, buf_len - len, \"msdu_flow_stats_cmd = %u\\n\",\n\t\t\t htt_stats_buf->msdu_flow_stats_cmd);\n\tlen += scnprintf(buf + len, buf_len - len, \"remove_msdu_cmd = %u\\n\",\n\t\t\t htt_stats_buf->remove_msdu_cmd);\n\tlen += scnprintf(buf + len, buf_len - len, \"remove_msdu_ttl_cmd = %u\\n\",\n\t\t\t htt_stats_buf->remove_msdu_ttl_cmd);\n\tlen += scnprintf(buf + len, buf_len - len, \"flush_cache_cmd = %u\\n\",\n\t\t\t htt_stats_buf->flush_cache_cmd);\n\tlen += scnprintf(buf + len, buf_len - len, \"update_mpduq_cmd = %u\\n\",\n\t\t\t htt_stats_buf->update_mpduq_cmd);\n\tlen += scnprintf(buf + len, buf_len - len, \"enqueue = %u\\n\",\n\t\t\t htt_stats_buf->enqueue);\n\tlen += scnprintf(buf + len, buf_len - len, \"enqueue_notify = %u\\n\",\n\t\t\t htt_stats_buf->enqueue_notify);\n\tlen += scnprintf(buf + len, buf_len - len, \"notify_mpdu_at_head = %u\\n\",\n\t\t\t htt_stats_buf->notify_mpdu_at_head);\n\tlen += scnprintf(buf + len, buf_len - len, \"notify_mpdu_state_valid = %u\\n\",\n\t\t\t htt_stats_buf->notify_mpdu_state_valid);\n\tlen += scnprintf(buf + len, buf_len - len, \"sched_udp_notify1 = %u\\n\",\n\t\t\t htt_stats_buf->sched_udp_notify1);\n\tlen += scnprintf(buf + len, buf_len - len, \"sched_udp_notify2 = %u\\n\",\n\t\t\t htt_stats_buf->sched_udp_notify2);\n\tlen += scnprintf(buf + len, buf_len - len, \"sched_nonudp_notify1 = %u\\n\",\n\t\t\t htt_stats_buf->sched_nonudp_notify1);\n\tlen += scnprintf(buf + len, buf_len - len, \"sched_nonudp_notify2 = %u\\n\\n\",\n\t\t\t htt_stats_buf->sched_nonudp_notify2);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_tx_tqm_cmn_stats_tlv(const void *tag_buf,\n\t\t\t\t\t\t  struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_tqm_cmn_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_TQM_CMN_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"mac_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_STATS_MAC_ID, htt_stats_buf->mac_id__word));\n\tlen += scnprintf(buf + len, buf_len - len, \"max_cmdq_id = %u\\n\",\n\t\t\t htt_stats_buf->max_cmdq_id);\n\tlen += scnprintf(buf + len, buf_len - len, \"list_mpdu_cnt_hist_intvl = %u\\n\",\n\t\t\t htt_stats_buf->list_mpdu_cnt_hist_intvl);\n\tlen += scnprintf(buf + len, buf_len - len, \"add_msdu = %u\\n\",\n\t\t\t htt_stats_buf->add_msdu);\n\tlen += scnprintf(buf + len, buf_len - len, \"q_empty = %u\\n\",\n\t\t\t htt_stats_buf->q_empty);\n\tlen += scnprintf(buf + len, buf_len - len, \"q_not_empty = %u\\n\",\n\t\t\t htt_stats_buf->q_not_empty);\n\tlen += scnprintf(buf + len, buf_len - len, \"drop_notification = %u\\n\",\n\t\t\t htt_stats_buf->drop_notification);\n\tlen += scnprintf(buf + len, buf_len - len, \"desc_threshold = %u\\n\\n\",\n\t\t\t htt_stats_buf->desc_threshold);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_tx_tqm_error_stats_tlv(const void *tag_buf,\n\t\t\t\t\t\t    struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_tqm_error_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_TQM_ERROR_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"q_empty_failure = %u\\n\",\n\t\t\t htt_stats_buf->q_empty_failure);\n\tlen += scnprintf(buf + len, buf_len - len, \"q_not_empty_failure = %u\\n\",\n\t\t\t htt_stats_buf->q_not_empty_failure);\n\tlen += scnprintf(buf + len, buf_len - len, \"add_msdu_failure = %u\\n\\n\",\n\t\t\t htt_stats_buf->add_msdu_failure);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_tx_tqm_cmdq_status_tlv(const void *tag_buf,\n\t\t\t\t\t\t    struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_tqm_cmdq_status_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_TQM_CMDQ_STATUS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"mac_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_TX_TQM_CMDQ_STATUS_MAC_ID,\n\t\t\t\t   htt_stats_buf->mac_id__cmdq_id__word));\n\tlen += scnprintf(buf + len, buf_len - len, \"cmdq_id = %lu\\n\\n\",\n\t\t\t FIELD_GET(HTT_TX_TQM_CMDQ_STATUS_CMDQ_ID,\n\t\t\t\t   htt_stats_buf->mac_id__cmdq_id__word));\n\tlen += scnprintf(buf + len, buf_len - len, \"sync_cmd = %u\\n\",\n\t\t\t htt_stats_buf->sync_cmd);\n\tlen += scnprintf(buf + len, buf_len - len, \"write_cmd = %u\\n\",\n\t\t\t htt_stats_buf->write_cmd);\n\tlen += scnprintf(buf + len, buf_len - len, \"gen_mpdu_cmd = %u\\n\",\n\t\t\t htt_stats_buf->gen_mpdu_cmd);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdu_queue_stats_cmd = %u\\n\",\n\t\t\t htt_stats_buf->mpdu_queue_stats_cmd);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdu_head_info_cmd = %u\\n\",\n\t\t\t htt_stats_buf->mpdu_head_info_cmd);\n\tlen += scnprintf(buf + len, buf_len - len, \"msdu_flow_stats_cmd = %u\\n\",\n\t\t\t htt_stats_buf->msdu_flow_stats_cmd);\n\tlen += scnprintf(buf + len, buf_len - len, \"remove_mpdu_cmd = %u\\n\",\n\t\t\t htt_stats_buf->remove_mpdu_cmd);\n\tlen += scnprintf(buf + len, buf_len - len, \"remove_msdu_cmd = %u\\n\",\n\t\t\t htt_stats_buf->remove_msdu_cmd);\n\tlen += scnprintf(buf + len, buf_len - len, \"flush_cache_cmd = %u\\n\",\n\t\t\t htt_stats_buf->flush_cache_cmd);\n\tlen += scnprintf(buf + len, buf_len - len, \"update_mpduq_cmd = %u\\n\",\n\t\t\t htt_stats_buf->update_mpduq_cmd);\n\tlen += scnprintf(buf + len, buf_len - len, \"update_msduq_cmd = %u\\n\\n\",\n\t\t\t htt_stats_buf->update_msduq_cmd);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_de_eapol_packets_stats_tlv(const void *tag_buf,\n\t\t\t\t\tstruct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_de_eapol_packets_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t   \"HTT_TX_DE_EAPOL_PACKETS_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"m1_packets = %u\\n\",\n\t\t\t htt_stats_buf->m1_packets);\n\tlen += scnprintf(buf + len, buf_len - len, \"m2_packets = %u\\n\",\n\t\t\t htt_stats_buf->m2_packets);\n\tlen += scnprintf(buf + len, buf_len - len, \"m3_packets = %u\\n\",\n\t\t\t htt_stats_buf->m3_packets);\n\tlen += scnprintf(buf + len, buf_len - len, \"m4_packets = %u\\n\",\n\t\t\t htt_stats_buf->m4_packets);\n\tlen += scnprintf(buf + len, buf_len - len, \"g1_packets = %u\\n\",\n\t\t\t htt_stats_buf->g1_packets);\n\tlen += scnprintf(buf + len, buf_len - len, \"g2_packets = %u\\n\\n\",\n\t\t\t htt_stats_buf->g2_packets);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_de_classify_failed_stats_tlv(const void *tag_buf,\n\t\t\t\t\t  struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_de_classify_failed_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t   \"HTT_TX_DE_CLASSIFY_FAILED_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"ap_bss_peer_not_found = %u\\n\",\n\t\t\t htt_stats_buf->ap_bss_peer_not_found);\n\tlen += scnprintf(buf + len, buf_len - len, \"ap_bcast_mcast_no_peer = %u\\n\",\n\t\t\t htt_stats_buf->ap_bcast_mcast_no_peer);\n\tlen += scnprintf(buf + len, buf_len - len, \"sta_delete_in_progress = %u\\n\",\n\t\t\t htt_stats_buf->sta_delete_in_progress);\n\tlen += scnprintf(buf + len, buf_len - len, \"ibss_no_bss_peer = %u\\n\",\n\t\t\t htt_stats_buf->ibss_no_bss_peer);\n\tlen += scnprintf(buf + len, buf_len - len, \"invalid_vdev_type = %u\\n\",\n\t\t\t htt_stats_buf->invalid_vdev_type);\n\tlen += scnprintf(buf + len, buf_len - len, \"invalid_ast_peer_entry = %u\\n\",\n\t\t\t htt_stats_buf->invalid_ast_peer_entry);\n\tlen += scnprintf(buf + len, buf_len - len, \"peer_entry_invalid = %u\\n\",\n\t\t\t htt_stats_buf->peer_entry_invalid);\n\tlen += scnprintf(buf + len, buf_len - len, \"ethertype_not_ip = %u\\n\",\n\t\t\t htt_stats_buf->ethertype_not_ip);\n\tlen += scnprintf(buf + len, buf_len - len, \"eapol_lookup_failed = %u\\n\",\n\t\t\t htt_stats_buf->eapol_lookup_failed);\n\tlen += scnprintf(buf + len, buf_len - len, \"qpeer_not_allow_data = %u\\n\",\n\t\t\t htt_stats_buf->qpeer_not_allow_data);\n\tlen += scnprintf(buf + len, buf_len - len, \"fse_tid_override = %u\\n\",\n\t\t\t htt_stats_buf->fse_tid_override);\n\tlen += scnprintf(buf + len, buf_len - len, \"ipv6_jumbogram_zero_length = %u\\n\",\n\t\t\t htt_stats_buf->ipv6_jumbogram_zero_length);\n\tlen += scnprintf(buf + len, buf_len - len, \"qos_to_non_qos_in_prog = %u\\n\\n\",\n\t\t\t htt_stats_buf->qos_to_non_qos_in_prog);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_de_classify_stats_tlv(const void *tag_buf,\n\t\t\t\t   struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_de_classify_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_DE_CLASSIFY_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"arp_packets = %u\\n\",\n\t\t\t htt_stats_buf->arp_packets);\n\tlen += scnprintf(buf + len, buf_len - len, \"igmp_packets = %u\\n\",\n\t\t\t htt_stats_buf->igmp_packets);\n\tlen += scnprintf(buf + len, buf_len - len, \"dhcp_packets = %u\\n\",\n\t\t\t htt_stats_buf->dhcp_packets);\n\tlen += scnprintf(buf + len, buf_len - len, \"host_inspected = %u\\n\",\n\t\t\t htt_stats_buf->host_inspected);\n\tlen += scnprintf(buf + len, buf_len - len, \"htt_included = %u\\n\",\n\t\t\t htt_stats_buf->htt_included);\n\tlen += scnprintf(buf + len, buf_len - len, \"htt_valid_mcs = %u\\n\",\n\t\t\t htt_stats_buf->htt_valid_mcs);\n\tlen += scnprintf(buf + len, buf_len - len, \"htt_valid_nss = %u\\n\",\n\t\t\t htt_stats_buf->htt_valid_nss);\n\tlen += scnprintf(buf + len, buf_len - len, \"htt_valid_preamble_type = %u\\n\",\n\t\t\t htt_stats_buf->htt_valid_preamble_type);\n\tlen += scnprintf(buf + len, buf_len - len, \"htt_valid_chainmask = %u\\n\",\n\t\t\t htt_stats_buf->htt_valid_chainmask);\n\tlen += scnprintf(buf + len, buf_len - len, \"htt_valid_guard_interval = %u\\n\",\n\t\t\t htt_stats_buf->htt_valid_guard_interval);\n\tlen += scnprintf(buf + len, buf_len - len, \"htt_valid_retries = %u\\n\",\n\t\t\t htt_stats_buf->htt_valid_retries);\n\tlen += scnprintf(buf + len, buf_len - len, \"htt_valid_bw_info = %u\\n\",\n\t\t\t htt_stats_buf->htt_valid_bw_info);\n\tlen += scnprintf(buf + len, buf_len - len, \"htt_valid_power = %u\\n\",\n\t\t\t htt_stats_buf->htt_valid_power);\n\tlen += scnprintf(buf + len, buf_len - len, \"htt_valid_key_flags = 0x%x\\n\",\n\t\t\t htt_stats_buf->htt_valid_key_flags);\n\tlen += scnprintf(buf + len, buf_len - len, \"htt_valid_no_encryption = %u\\n\",\n\t\t\t htt_stats_buf->htt_valid_no_encryption);\n\tlen += scnprintf(buf + len, buf_len - len, \"fse_entry_count = %u\\n\",\n\t\t\t htt_stats_buf->fse_entry_count);\n\tlen += scnprintf(buf + len, buf_len - len, \"fse_priority_be = %u\\n\",\n\t\t\t htt_stats_buf->fse_priority_be);\n\tlen += scnprintf(buf + len, buf_len - len, \"fse_priority_high = %u\\n\",\n\t\t\t htt_stats_buf->fse_priority_high);\n\tlen += scnprintf(buf + len, buf_len - len, \"fse_priority_low = %u\\n\",\n\t\t\t htt_stats_buf->fse_priority_low);\n\tlen += scnprintf(buf + len, buf_len - len, \"fse_traffic_ptrn_be = %u\\n\",\n\t\t\t htt_stats_buf->fse_traffic_ptrn_be);\n\tlen += scnprintf(buf + len, buf_len - len, \"fse_traffic_ptrn_over_sub = %u\\n\",\n\t\t\t htt_stats_buf->fse_traffic_ptrn_over_sub);\n\tlen += scnprintf(buf + len, buf_len - len, \"fse_traffic_ptrn_bursty = %u\\n\",\n\t\t\t htt_stats_buf->fse_traffic_ptrn_bursty);\n\tlen += scnprintf(buf + len, buf_len - len, \"fse_traffic_ptrn_interactive = %u\\n\",\n\t\t\t htt_stats_buf->fse_traffic_ptrn_interactive);\n\tlen += scnprintf(buf + len, buf_len - len, \"fse_traffic_ptrn_periodic = %u\\n\",\n\t\t\t htt_stats_buf->fse_traffic_ptrn_periodic);\n\tlen += scnprintf(buf + len, buf_len - len, \"fse_hwqueue_alloc = %u\\n\",\n\t\t\t htt_stats_buf->fse_hwqueue_alloc);\n\tlen += scnprintf(buf + len, buf_len - len, \"fse_hwqueue_created = %u\\n\",\n\t\t\t htt_stats_buf->fse_hwqueue_created);\n\tlen += scnprintf(buf + len, buf_len - len, \"fse_hwqueue_send_to_host = %u\\n\",\n\t\t\t htt_stats_buf->fse_hwqueue_send_to_host);\n\tlen += scnprintf(buf + len, buf_len - len, \"mcast_entry = %u\\n\",\n\t\t\t htt_stats_buf->mcast_entry);\n\tlen += scnprintf(buf + len, buf_len - len, \"bcast_entry = %u\\n\",\n\t\t\t htt_stats_buf->bcast_entry);\n\tlen += scnprintf(buf + len, buf_len - len, \"htt_update_peer_cache = %u\\n\",\n\t\t\t htt_stats_buf->htt_update_peer_cache);\n\tlen += scnprintf(buf + len, buf_len - len, \"htt_learning_frame = %u\\n\",\n\t\t\t htt_stats_buf->htt_learning_frame);\n\tlen += scnprintf(buf + len, buf_len - len, \"fse_invalid_peer = %u\\n\",\n\t\t\t htt_stats_buf->fse_invalid_peer);\n\tlen += scnprintf(buf + len, buf_len - len, \"mec_notify = %u\\n\\n\",\n\t\t\t htt_stats_buf->mec_notify);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_de_classify_status_stats_tlv(const void *tag_buf,\n\t\t\t\t\t  struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_de_classify_status_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t   \"HTT_TX_DE_CLASSIFY_STATUS_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"eok = %u\\n\",\n\t\t\t htt_stats_buf->eok);\n\tlen += scnprintf(buf + len, buf_len - len, \"classify_done = %u\\n\",\n\t\t\t htt_stats_buf->classify_done);\n\tlen += scnprintf(buf + len, buf_len - len, \"lookup_failed = %u\\n\",\n\t\t\t htt_stats_buf->lookup_failed);\n\tlen += scnprintf(buf + len, buf_len - len, \"send_host_dhcp = %u\\n\",\n\t\t\t htt_stats_buf->send_host_dhcp);\n\tlen += scnprintf(buf + len, buf_len - len, \"send_host_mcast = %u\\n\",\n\t\t\t htt_stats_buf->send_host_mcast);\n\tlen += scnprintf(buf + len, buf_len - len, \"send_host_unknown_dest = %u\\n\",\n\t\t\t htt_stats_buf->send_host_unknown_dest);\n\tlen += scnprintf(buf + len, buf_len - len, \"send_host = %u\\n\",\n\t\t\t htt_stats_buf->send_host);\n\tlen += scnprintf(buf + len, buf_len - len, \"status_invalid = %u\\n\\n\",\n\t\t\t htt_stats_buf->status_invalid);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_de_enqueue_packets_stats_tlv(const void *tag_buf,\n\t\t\t\t\t  struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_de_enqueue_packets_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_TX_DE_ENQUEUE_PACKETS_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"enqueued_pkts = %u\\n\",\n\t\t\t htt_stats_buf->enqueued_pkts);\n\tlen += scnprintf(buf + len, buf_len - len, \"to_tqm = %u\\n\",\n\t\t\t htt_stats_buf->to_tqm);\n\tlen += scnprintf(buf + len, buf_len - len, \"to_tqm_bypass = %u\\n\\n\",\n\t\t\t htt_stats_buf->to_tqm_bypass);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_de_enqueue_discard_stats_tlv(const void *tag_buf,\n\t\t\t\t\t  struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_de_enqueue_discard_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_TX_DE_ENQUEUE_DISCARD_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"discarded_pkts = %u\\n\",\n\t\t\t htt_stats_buf->discarded_pkts);\n\tlen += scnprintf(buf + len, buf_len - len, \"local_frames = %u\\n\",\n\t\t\t htt_stats_buf->local_frames);\n\tlen += scnprintf(buf + len, buf_len - len, \"is_ext_msdu = %u\\n\\n\",\n\t\t\t htt_stats_buf->is_ext_msdu);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_tx_de_compl_stats_tlv(const void *tag_buf,\n\t\t\t\t\t\t   struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_de_compl_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_DE_COMPL_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"tcl_dummy_frame = %u\\n\",\n\t\t\t htt_stats_buf->tcl_dummy_frame);\n\tlen += scnprintf(buf + len, buf_len - len, \"tqm_dummy_frame = %u\\n\",\n\t\t\t htt_stats_buf->tqm_dummy_frame);\n\tlen += scnprintf(buf + len, buf_len - len, \"tqm_notify_frame = %u\\n\",\n\t\t\t htt_stats_buf->tqm_notify_frame);\n\tlen += scnprintf(buf + len, buf_len - len, \"fw2wbm_enq = %u\\n\",\n\t\t\t htt_stats_buf->fw2wbm_enq);\n\tlen += scnprintf(buf + len, buf_len - len, \"tqm_bypass_frame = %u\\n\\n\",\n\t\t\t htt_stats_buf->tqm_bypass_frame);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_de_fw2wbm_ring_full_hist_tlv(const void *tag_buf,\n\t\t\t\t\t  u16 tag_len,\n\t\t\t\t\t  struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_de_fw2wbm_ring_full_hist_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu16  num_elements = tag_len >> 2;\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_TX_DE_FW2WBM_RING_FULL_HIST_TLV\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->fw2wbm_ring_full_hist,\n\t\t\t   \"fw2wbm_ring_full_hist\", num_elements, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_tx_de_cmn_stats_tlv(const void *tag_buf, struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_de_cmn_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_DE_CMN_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"mac_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_STATS_MAC_ID, htt_stats_buf->mac_id__word));\n\tlen += scnprintf(buf + len, buf_len - len, \"tcl2fw_entry_count = %u\\n\",\n\t\t\t htt_stats_buf->tcl2fw_entry_count);\n\tlen += scnprintf(buf + len, buf_len - len, \"not_to_fw = %u\\n\",\n\t\t\t htt_stats_buf->not_to_fw);\n\tlen += scnprintf(buf + len, buf_len - len, \"invalid_pdev_vdev_peer = %u\\n\",\n\t\t\t htt_stats_buf->invalid_pdev_vdev_peer);\n\tlen += scnprintf(buf + len, buf_len - len, \"tcl_res_invalid_addrx = %u\\n\",\n\t\t\t htt_stats_buf->tcl_res_invalid_addrx);\n\tlen += scnprintf(buf + len, buf_len - len, \"wbm2fw_entry_count = %u\\n\",\n\t\t\t htt_stats_buf->wbm2fw_entry_count);\n\tlen += scnprintf(buf + len, buf_len - len, \"invalid_pdev = %u\\n\\n\",\n\t\t\t htt_stats_buf->invalid_pdev);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_ring_if_stats_tlv(const void *tag_buf,\n\t\t\t\t\t       struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_ring_if_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_RING_IF_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"base_addr = %u\\n\",\n\t\t\t htt_stats_buf->base_addr);\n\tlen += scnprintf(buf + len, buf_len - len, \"elem_size = %u\\n\",\n\t\t\t htt_stats_buf->elem_size);\n\tlen += scnprintf(buf + len, buf_len - len, \"num_elems = %lu\\n\",\n\t\t\t FIELD_GET(HTT_RING_IF_STATS_NUM_ELEMS,\n\t\t\t\t   htt_stats_buf->num_elems__prefetch_tail_idx));\n\tlen += scnprintf(buf + len, buf_len - len, \"prefetch_tail_idx = %lu\\n\",\n\t\t\t FIELD_GET(HTT_RING_IF_STATS_PREFETCH_TAIL_INDEX,\n\t\t\t\t   htt_stats_buf->num_elems__prefetch_tail_idx));\n\tlen += scnprintf(buf + len, buf_len - len, \"head_idx = %lu\\n\",\n\t\t\t FIELD_GET(HTT_RING_IF_STATS_HEAD_IDX,\n\t\t\t\t   htt_stats_buf->head_idx__tail_idx));\n\tlen += scnprintf(buf + len, buf_len - len, \"tail_idx = %lu\\n\",\n\t\t\t FIELD_GET(HTT_RING_IF_STATS_TAIL_IDX,\n\t\t\t\t   htt_stats_buf->head_idx__tail_idx));\n\tlen += scnprintf(buf + len, buf_len - len, \"shadow_head_idx = %lu\\n\",\n\t\t\t FIELD_GET(HTT_RING_IF_STATS_SHADOW_HEAD_IDX,\n\t\t\t\t   htt_stats_buf->shadow_head_idx__shadow_tail_idx));\n\tlen += scnprintf(buf + len, buf_len - len, \"shadow_tail_idx = %lu\\n\",\n\t\t\t FIELD_GET(HTT_RING_IF_STATS_SHADOW_TAIL_IDX,\n\t\t\t\t   htt_stats_buf->shadow_head_idx__shadow_tail_idx));\n\tlen += scnprintf(buf + len, buf_len - len, \"num_tail_incr = %u\\n\",\n\t\t\t htt_stats_buf->num_tail_incr);\n\tlen += scnprintf(buf + len, buf_len - len, \"lwm_thresh = %lu\\n\",\n\t\t\t FIELD_GET(HTT_RING_IF_STATS_LWM_THRESH,\n\t\t\t\t   htt_stats_buf->lwm_thresh__hwm_thresh));\n\tlen += scnprintf(buf + len, buf_len - len, \"hwm_thresh = %lu\\n\",\n\t\t\t FIELD_GET(HTT_RING_IF_STATS_HWM_THRESH,\n\t\t\t\t   htt_stats_buf->lwm_thresh__hwm_thresh));\n\tlen += scnprintf(buf + len, buf_len - len, \"overrun_hit_count = %u\\n\",\n\t\t\t htt_stats_buf->overrun_hit_count);\n\tlen += scnprintf(buf + len, buf_len - len, \"underrun_hit_count = %u\\n\",\n\t\t\t htt_stats_buf->underrun_hit_count);\n\tlen += scnprintf(buf + len, buf_len - len, \"prod_blockwait_count = %u\\n\",\n\t\t\t htt_stats_buf->prod_blockwait_count);\n\tlen += scnprintf(buf + len, buf_len - len, \"cons_blockwait_count = %u\\n\",\n\t\t\t htt_stats_buf->cons_blockwait_count);\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->low_wm_hit_count,\n\t\t\t   \"low_wm_hit_count\", HTT_STATS_LOW_WM_BINS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->high_wm_hit_count,\n\t\t\t   \"high_wm_hit_count\", HTT_STATS_HIGH_WM_BINS, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_ring_if_cmn_tlv(const void *tag_buf,\n\t\t\t\t\t     struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_ring_if_cmn_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_RING_IF_CMN_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"mac_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_STATS_MAC_ID, htt_stats_buf->mac_id__word));\n\tlen += scnprintf(buf + len, buf_len - len, \"num_records = %u\\n\\n\",\n\t\t\t htt_stats_buf->num_records);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_sfm_client_user_tlv_v(const void *tag_buf,\n\t\t\t\t\t\t   u16 tag_len,\n\t\t\t\t\t\t   struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_sfm_client_user_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu16 num_elems = tag_len >> 2;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_SFM_CLIENT_USER_TLV_V:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->dwords_used_by_user_n,\n\t\t\t   \"dwords_used_by_user_n\", num_elems, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_sfm_client_tlv(const void *tag_buf,\n\t\t\t\t\t    struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_sfm_client_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_SFM_CLIENT_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"client_id = %u\\n\",\n\t\t\t htt_stats_buf->client_id);\n\tlen += scnprintf(buf + len, buf_len - len, \"buf_min = %u\\n\",\n\t\t\t htt_stats_buf->buf_min);\n\tlen += scnprintf(buf + len, buf_len - len, \"buf_max = %u\\n\",\n\t\t\t htt_stats_buf->buf_max);\n\tlen += scnprintf(buf + len, buf_len - len, \"buf_busy = %u\\n\",\n\t\t\t htt_stats_buf->buf_busy);\n\tlen += scnprintf(buf + len, buf_len - len, \"buf_alloc = %u\\n\",\n\t\t\t htt_stats_buf->buf_alloc);\n\tlen += scnprintf(buf + len, buf_len - len, \"buf_avail = %u\\n\",\n\t\t\t htt_stats_buf->buf_avail);\n\tlen += scnprintf(buf + len, buf_len - len, \"num_users = %u\\n\\n\",\n\t\t\t htt_stats_buf->num_users);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_sfm_cmn_tlv(const void *tag_buf,\n\t\t\t\t\t struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_sfm_cmn_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_SFM_CMN_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"mac_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_STATS_MAC_ID, htt_stats_buf->mac_id__word));\n\tlen += scnprintf(buf + len, buf_len - len, \"buf_total = %u\\n\",\n\t\t\t htt_stats_buf->buf_total);\n\tlen += scnprintf(buf + len, buf_len - len, \"mem_empty = %u\\n\",\n\t\t\t htt_stats_buf->mem_empty);\n\tlen += scnprintf(buf + len, buf_len - len, \"deallocate_bufs = %u\\n\",\n\t\t\t htt_stats_buf->deallocate_bufs);\n\tlen += scnprintf(buf + len, buf_len - len, \"num_records = %u\\n\\n\",\n\t\t\t htt_stats_buf->num_records);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_sring_stats_tlv(const void *tag_buf,\n\t\t\t\t\t     struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_sring_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_SRING_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"mac_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_SRING_STATS_MAC_ID,\n\t\t\t\t   htt_stats_buf->mac_id__ring_id__arena__ep));\n\tlen += scnprintf(buf + len, buf_len - len, \"ring_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_SRING_STATS_RING_ID,\n\t\t\t\t   htt_stats_buf->mac_id__ring_id__arena__ep));\n\tlen += scnprintf(buf + len, buf_len - len, \"arena = %lu\\n\",\n\t\t\t FIELD_GET(HTT_SRING_STATS_ARENA,\n\t\t\t\t   htt_stats_buf->mac_id__ring_id__arena__ep));\n\tlen += scnprintf(buf + len, buf_len - len, \"ep = %lu\\n\",\n\t\t\t FIELD_GET(HTT_SRING_STATS_EP,\n\t\t\t\t   htt_stats_buf->mac_id__ring_id__arena__ep));\n\tlen += scnprintf(buf + len, buf_len - len, \"base_addr_lsb = 0x%x\\n\",\n\t\t\t htt_stats_buf->base_addr_lsb);\n\tlen += scnprintf(buf + len, buf_len - len, \"base_addr_msb = 0x%x\\n\",\n\t\t\t htt_stats_buf->base_addr_msb);\n\tlen += scnprintf(buf + len, buf_len - len, \"ring_size = %u\\n\",\n\t\t\t htt_stats_buf->ring_size);\n\tlen += scnprintf(buf + len, buf_len - len, \"elem_size = %u\\n\",\n\t\t\t htt_stats_buf->elem_size);\n\tlen += scnprintf(buf + len, buf_len - len, \"num_avail_words = %lu\\n\",\n\t\t\t FIELD_GET(HTT_SRING_STATS_NUM_AVAIL_WORDS,\n\t\t\t\t   htt_stats_buf->num_avail_words__num_valid_words));\n\tlen += scnprintf(buf + len, buf_len - len, \"num_valid_words = %lu\\n\",\n\t\t\t FIELD_GET(HTT_SRING_STATS_NUM_VALID_WORDS,\n\t\t\t\t   htt_stats_buf->num_avail_words__num_valid_words));\n\tlen += scnprintf(buf + len, buf_len - len, \"head_ptr = %lu\\n\",\n\t\t\t FIELD_GET(HTT_SRING_STATS_HEAD_PTR,\n\t\t\t\t   htt_stats_buf->head_ptr__tail_ptr));\n\tlen += scnprintf(buf + len, buf_len - len, \"tail_ptr = %lu\\n\",\n\t\t\t FIELD_GET(HTT_SRING_STATS_TAIL_PTR,\n\t\t\t\t   htt_stats_buf->head_ptr__tail_ptr));\n\tlen += scnprintf(buf + len, buf_len - len, \"consumer_empty = %lu\\n\",\n\t\t\t FIELD_GET(HTT_SRING_STATS_CONSUMER_EMPTY,\n\t\t\t\t   htt_stats_buf->consumer_empty__producer_full));\n\tlen += scnprintf(buf + len, buf_len - len, \"producer_full = %lu\\n\",\n\t\t\t FIELD_GET(HTT_SRING_STATS_PRODUCER_FULL,\n\t\t\t\t   htt_stats_buf->consumer_empty__producer_full));\n\tlen += scnprintf(buf + len, buf_len - len, \"prefetch_count = %lu\\n\",\n\t\t\t FIELD_GET(HTT_SRING_STATS_PREFETCH_COUNT,\n\t\t\t\t   htt_stats_buf->prefetch_count__internal_tail_ptr));\n\tlen += scnprintf(buf + len, buf_len - len, \"internal_tail_ptr = %lu\\n\\n\",\n\t\t\t FIELD_GET(HTT_SRING_STATS_INTERNAL_TAIL_PTR,\n\t\t\t\t   htt_stats_buf->prefetch_count__internal_tail_ptr));\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_sring_cmn_tlv(const void *tag_buf,\n\t\t\t\t\t   struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_sring_cmn_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_SRING_CMN_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"num_records = %u\\n\\n\",\n\t\t\t htt_stats_buf->num_records);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_tx_pdev_rate_stats_tlv(const void *tag_buf,\n\t\t\t\t\t\t    struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_tx_pdev_rate_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu8 j;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_TX_PDEV_RATE_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"mac_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_STATS_MAC_ID, htt_stats_buf->mac_id__word));\n\tlen += scnprintf(buf + len, buf_len - len, \"tx_ldpc = %u\\n\",\n\t\t\t htt_stats_buf->tx_ldpc);\n\tlen += scnprintf(buf + len, buf_len - len, \"ac_mu_mimo_tx_ldpc = %u\\n\",\n\t\t\t htt_stats_buf->ac_mu_mimo_tx_ldpc);\n\tlen += scnprintf(buf + len, buf_len - len, \"ax_mu_mimo_tx_ldpc = %u\\n\",\n\t\t\t htt_stats_buf->ax_mu_mimo_tx_ldpc);\n\tlen += scnprintf(buf + len, buf_len - len, \"ofdma_tx_ldpc = %u\\n\",\n\t\t\t htt_stats_buf->ofdma_tx_ldpc);\n\tlen += scnprintf(buf + len, buf_len - len, \"rts_cnt = %u\\n\",\n\t\t\t htt_stats_buf->rts_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"rts_success = %u\\n\",\n\t\t\t htt_stats_buf->rts_success);\n\tlen += scnprintf(buf + len, buf_len - len, \"ack_rssi = %u\\n\",\n\t\t\t htt_stats_buf->ack_rssi);\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"Legacy CCK Rates: 1 Mbps: %u, 2 Mbps: %u, 5.5 Mbps: %u, 11 Mbps: %u\\n\",\n\t\t\t htt_stats_buf->tx_legacy_cck_rate[0],\n\t\t\t htt_stats_buf->tx_legacy_cck_rate[1],\n\t\t\t htt_stats_buf->tx_legacy_cck_rate[2],\n\t\t\t htt_stats_buf->tx_legacy_cck_rate[3]);\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"Legacy OFDM Rates: 6 Mbps: %u, 9 Mbps: %u, 12 Mbps: %u, 18 Mbps: %u\\n\"\n\t\t\t \"                   24 Mbps: %u, 36 Mbps: %u, 48 Mbps: %u, 54 Mbps: %u\\n\",\n\t\t\t htt_stats_buf->tx_legacy_ofdm_rate[0],\n\t\t\t htt_stats_buf->tx_legacy_ofdm_rate[1],\n\t\t\t htt_stats_buf->tx_legacy_ofdm_rate[2],\n\t\t\t htt_stats_buf->tx_legacy_ofdm_rate[3],\n\t\t\t htt_stats_buf->tx_legacy_ofdm_rate[4],\n\t\t\t htt_stats_buf->tx_legacy_ofdm_rate[5],\n\t\t\t htt_stats_buf->tx_legacy_ofdm_rate[6],\n\t\t\t htt_stats_buf->tx_legacy_ofdm_rate[7]);\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->tx_mcs, \"tx_mcs\",\n\t\t\t   HTT_TX_PDEV_STATS_NUM_MCS_COUNTERS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->ac_mu_mimo_tx_mcs,\n\t\t\t   \"ac_mu_mimo_tx_mcs\", HTT_TX_PDEV_STATS_NUM_MCS_COUNTERS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->ax_mu_mimo_tx_mcs,\n\t\t\t   \"ax_mu_mimo_tx_mcs\", HTT_TX_PDEV_STATS_NUM_MCS_COUNTERS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->ofdma_tx_mcs, \"ofdma_tx_mcs\",\n\t\t\t   HTT_TX_PDEV_STATS_NUM_MCS_COUNTERS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->tx_nss, \"tx_nss\",\n\t\t\t   HTT_TX_PDEV_STATS_NUM_SPATIAL_STREAMS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->ac_mu_mimo_tx_nss,\n\t\t\t   \"ac_mu_mimo_tx_nss\",\n\t\t\t   HTT_TX_PDEV_STATS_NUM_SPATIAL_STREAMS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->ax_mu_mimo_tx_nss,\n\t\t\t   \"ax_mu_mimo_tx_nss\",\n\t\t\t   HTT_TX_PDEV_STATS_NUM_SPATIAL_STREAMS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->ofdma_tx_nss, \"ofdma_tx_nss\",\n\t\t\t   HTT_TX_PDEV_STATS_NUM_SPATIAL_STREAMS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->tx_bw, \"tx_bw\",\n\t\t\t   HTT_TX_PDEV_STATS_NUM_BW_COUNTERS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->ac_mu_mimo_tx_bw,\n\t\t\t   \"ac_mu_mimo_tx_bw\", HTT_TX_PDEV_STATS_NUM_BW_COUNTERS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->ax_mu_mimo_tx_bw,\n\t\t\t   \"ax_mu_mimo_tx_bw\",\n\t\t\t   HTT_TX_PDEV_STATS_NUM_BW_COUNTERS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->ofdma_tx_bw, \"ofdma_tx_bw\",\n\t\t\t   HTT_TX_PDEV_STATS_NUM_BW_COUNTERS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->tx_stbc, \"tx_stbc\",\n\t\t\t   HTT_TX_PDEV_STATS_NUM_MCS_COUNTERS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->tx_pream, \"tx_pream\",\n\t\t\t   HTT_TX_PDEV_STATS_NUM_PREAMBLE_TYPES, \"\\n\");\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HE LTF: 1x: %u, 2x: %u, 4x: %u\\n\",\n\t\t\t htt_stats_buf->tx_he_ltf[1],\n\t\t\t htt_stats_buf->tx_he_ltf[2],\n\t\t\t htt_stats_buf->tx_he_ltf[3]);\n\n\t \n\tfor (j = 0; j < HTT_TX_PDEV_STATS_NUM_GI_COUNTERS; j++) {\n\t\tlen += scnprintf(buf + len, (buf_len - len),\n\t\t\t\t \"tx_gi[%u] = \", j);\n\t\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->tx_gi[j], NULL,\n\t\t\t\t   HTT_TX_PDEV_STATS_NUM_MCS_COUNTERS, \"\\n\");\n\t}\n\n\t \n\tfor (j = 0; j < HTT_TX_PDEV_STATS_NUM_GI_COUNTERS; j++) {\n\t\tlen += scnprintf(buf + len, (buf_len - len),\n\t\t\t\t \"ac_mu_mimo_tx_gi[%u] = \", j);\n\t\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->ac_mu_mimo_tx_gi[j],\n\t\t\t\t   NULL, HTT_TX_PDEV_STATS_NUM_MCS_COUNTERS, \"\\n\");\n\t}\n\n\t \n\tfor (j = 0; j < HTT_TX_PDEV_STATS_NUM_GI_COUNTERS; j++) {\n\t\tlen += scnprintf(buf + len, (buf_len - len),\n\t\t\t\t \"ax_mu_mimo_tx_gi[%u] = \", j);\n\t\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->ax_mu_mimo_tx_gi[j],\n\t\t\t\t   NULL, HTT_TX_PDEV_STATS_NUM_MCS_COUNTERS, \"\\n\");\n\t}\n\n\t \n\tfor (j = 0; j < HTT_TX_PDEV_STATS_NUM_GI_COUNTERS; j++) {\n\t\tlen += scnprintf(buf + len, (buf_len - len),\n\t\t\t\t \"ofdma_tx_gi[%u] = \", j);\n\t\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->ofdma_tx_gi[j], NULL,\n\t\t\t\t   HTT_TX_PDEV_STATS_NUM_MCS_COUNTERS, \"\\n\");\n\t}\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->tx_dcm, \"tx_dcm\",\n\t\t\t   HTT_TX_PDEV_STATS_NUM_DCM_COUNTERS, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_rx_pdev_rate_stats_tlv(const void *tag_buf,\n\t\t\t\t\t\t    struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_rx_pdev_rate_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu8 i, j;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_RX_PDEV_RATE_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"mac_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_STATS_MAC_ID, htt_stats_buf->mac_id__word));\n\tlen += scnprintf(buf + len, buf_len - len, \"nsts = %u\\n\",\n\t\t\t htt_stats_buf->nsts);\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_ldpc = %u\\n\",\n\t\t\t htt_stats_buf->rx_ldpc);\n\tlen += scnprintf(buf + len, buf_len - len, \"rts_cnt = %u\\n\",\n\t\t\t htt_stats_buf->rts_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"rssi_mgmt = %u\\n\",\n\t\t\t htt_stats_buf->rssi_mgmt);\n\tlen += scnprintf(buf + len, buf_len - len, \"rssi_data = %u\\n\",\n\t\t\t htt_stats_buf->rssi_data);\n\tlen += scnprintf(buf + len, buf_len - len, \"rssi_comb = %u\\n\",\n\t\t\t htt_stats_buf->rssi_comb);\n\tlen += scnprintf(buf + len, buf_len - len, \"rssi_in_dbm = %d\\n\",\n\t\t\t htt_stats_buf->rssi_in_dbm);\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_mcs, \"rx_mcs\",\n\t\t\t   HTT_RX_PDEV_STATS_NUM_MCS_COUNTERS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_nss, \"rx_nss\",\n\t\t\t   HTT_RX_PDEV_STATS_NUM_SPATIAL_STREAMS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_dcm, \"rx_dcm\",\n\t\t\t   HTT_RX_PDEV_STATS_NUM_DCM_COUNTERS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_stbc, \"rx_stbc\",\n\t\t\t   HTT_RX_PDEV_STATS_NUM_MCS_COUNTERS, \"\\n\");\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_bw, \"rx_bw\",\n\t\t\t   HTT_RX_PDEV_STATS_NUM_BW_COUNTERS, \"\\n\");\n\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_evm_nss_count = %u\\n\",\n\t\t\t htt_stats_buf->nss_count);\n\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_evm_pilot_count = %u\\n\",\n\t\t\t htt_stats_buf->pilot_count);\n\n\tfor (j = 0; j < HTT_RX_PDEV_STATS_NUM_SPATIAL_STREAMS; j++) {\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"pilot_evm_db[%u] = \", j);\n\t\tfor (i = 0; i < HTT_RX_PDEV_STATS_RXEVM_MAX_PILOTS_PER_NSS; i++)\n\t\t\tlen += scnprintf(buf + len,\n\t\t\t\t\t buf_len - len,\n\t\t\t\t\t \" %u:%d,\",\n\t\t\t\t\t i,\n\t\t\t\t\t htt_stats_buf->rx_pilot_evm_db[j][i]);\n\t\tlen += scnprintf(buf + len, buf_len - len, \"\\n\");\n\t}\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"pilot_evm_db_mean = \");\n\tfor (i = 0; i < HTT_RX_PDEV_STATS_NUM_SPATIAL_STREAMS; i++)\n\t\tlen += scnprintf(buf + len,\n\t\t\t\t buf_len - len,\n\t\t\t\t \" %u:%d,\", i,\n\t\t\t\t htt_stats_buf->rx_pilot_evm_db_mean[i]);\n\tlen += scnprintf(buf + len, buf_len - len, \"\\n\");\n\n\tfor (j = 0; j < HTT_RX_PDEV_STATS_NUM_SPATIAL_STREAMS; j++) {\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"rssi_chain[%u] = \", j);\n\t\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rssi_chain[j], NULL,\n\t\t\t\t   HTT_RX_PDEV_STATS_NUM_BW_COUNTERS, \"\\n\");\n\t}\n\n\tfor (j = 0; j < HTT_RX_PDEV_STATS_NUM_GI_COUNTERS; j++) {\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"rx_gi[%u] = \", j);\n\t\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_gi[j], NULL,\n\t\t\t\t   HTT_RX_PDEV_STATS_NUM_MCS_COUNTERS, \"\\n\");\n\t}\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_pream, \"rx_pream\",\n\t\t\t   HTT_RX_PDEV_STATS_NUM_PREAMBLE_TYPES, \"\\n\");\n\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_11ax_su_ext = %u\\n\",\n\t\t\t htt_stats_buf->rx_11ax_su_ext);\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_11ac_mumimo = %u\\n\",\n\t\t\t htt_stats_buf->rx_11ac_mumimo);\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_11ax_mumimo = %u\\n\",\n\t\t\t htt_stats_buf->rx_11ax_mumimo);\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_11ax_ofdma = %u\\n\",\n\t\t\t htt_stats_buf->rx_11ax_ofdma);\n\tlen += scnprintf(buf + len, buf_len - len, \"txbf = %u\\n\",\n\t\t\t htt_stats_buf->txbf);\n\n\tlen += scnprintf(buf + len, buf_len - len, \"\\nrx_su_ndpa = %u\",\n\t\t\t htt_stats_buf->rx_su_ndpa);\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_11ax_su_txbf_mcs,\n\t\t\t   \"rx_11ax_su_txbf_mcs\", HTT_RX_PDEV_STATS_NUM_MCS_COUNTERS,\n\t\t\t   \"\\n\");\n\n\tlen += scnprintf(buf + len, buf_len - len, \"\\nrx_mu_ndpa = %u\",\n\t\t\t htt_stats_buf->rx_mu_ndpa);\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_11ax_mu_txbf_mcs,\n\t\t\t   \"rx_11ax_mu_txbf_mcs\", HTT_RX_PDEV_STATS_NUM_MCS_COUNTERS,\n\t\t\t   \"\\n\");\n\n\tlen += scnprintf(buf + len, buf_len - len, \"\\nrx_br_poll = %u\",\n\t\t\t htt_stats_buf->rx_br_poll);\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_legacy_cck_rate,\n\t\t\t   \"rx_legacy_cck_rate\",\n\t\t\t   HTT_RX_PDEV_STATS_NUM_LEGACY_CCK_STATS, \"\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_legacy_ofdm_rate,\n\t\t\t   \"rx_legacy_ofdm_rate\",\n\t\t\t   HTT_RX_PDEV_STATS_NUM_LEGACY_OFDM_STATS, \"\\n\");\n\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_active_dur_us_low = %u\\n\",\n\t\t\t htt_stats_buf->rx_active_dur_us_low);\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_active_dur_us_high = %u\\n\",\n\t\t\t htt_stats_buf->rx_active_dur_us_high);\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_11ax_ul_ofdma = %u\\n\",\n\t\t\t htt_stats_buf->rx_11ax_ul_ofdma);\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->ul_ofdma_rx_mcs,\n\t\t\t   \"ul_ofdma_rx_mcs\",\n\t\t\t   HTT_RX_PDEV_STATS_NUM_MCS_COUNTERS, \"\\n\");\n\n\tfor (j = 0; j < HTT_RX_PDEV_STATS_NUM_GI_COUNTERS; j++) {\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ul_ofdma_rx_gi[%u] = \", j);\n\t\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->ul_ofdma_rx_gi[j], NULL,\n\t\t\t\t   HTT_RX_PDEV_STATS_NUM_MCS_COUNTERS, \"\\n\");\n\t}\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->ul_ofdma_rx_nss,\n\t\t\t   \"ul_ofdma_rx_nss\",\n\t\t\t   HTT_RX_PDEV_STATS_NUM_SPATIAL_STREAMS, \"\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->ul_ofdma_rx_bw, \"ul_ofdma_rx_bw\",\n\t\t\t   HTT_RX_PDEV_STATS_NUM_BW_COUNTERS, \"\\n\");\n\n\tlen += scnprintf(buf + len, buf_len - len, \"ul_ofdma_rx_stbc = %u\\n\",\n\t\t\thtt_stats_buf->ul_ofdma_rx_stbc);\n\tlen += scnprintf(buf + len, buf_len - len, \"ul_ofdma_rx_ldpc = %u\\n\",\n\t\t\thtt_stats_buf->ul_ofdma_rx_ldpc);\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_ulofdma_non_data_ppdu,\n\t\t\t   \"rx_ulofdma_non_data_ppdu\",\n\t\t\t   HTT_RX_PDEV_MAX_OFDMA_NUM_USER, \"\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_ulofdma_data_ppdu,\n\t\t\t   \"rx_ulofdma_data_ppdu\", HTT_RX_PDEV_MAX_OFDMA_NUM_USER, \"\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_ulofdma_mpdu_ok,\n\t\t\t   \"rx_ulofdma_mpdu_ok\", HTT_RX_PDEV_MAX_OFDMA_NUM_USER, \"\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_ulofdma_mpdu_fail,\n\t\t\t   \"rx_ulofdma_mpdu_fail\", HTT_RX_PDEV_MAX_OFDMA_NUM_USER, \"\\n\");\n\n\tfor (j = 0; j < HTT_RX_PDEV_STATS_NUM_SPATIAL_STREAMS; j++) {\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"rx_ul_fd_rssi: nss[%u] = \", j);\n\t\tfor (i = 0; i < HTT_RX_PDEV_MAX_OFDMA_NUM_USER; i++)\n\t\t\tlen += scnprintf(buf + len,\n\t\t\t\t\t buf_len - len,\n\t\t\t\t\t \" %u:%d,\",\n\t\t\t\t\t i, htt_stats_buf->rx_ul_fd_rssi[j][i]);\n\t\tlen += scnprintf(buf + len, buf_len - len, \"\\n\");\n\t}\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_ulofdma_non_data_nusers,\n\t\t\t   \"rx_ulofdma_non_data_nusers\", HTT_RX_PDEV_MAX_OFDMA_NUM_USER,\n\t\t\t   \"\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_ulofdma_data_nusers,\n\t\t\t   \"rx_ulofdma_data_nusers\", HTT_RX_PDEV_MAX_OFDMA_NUM_USER,\n\t\t\t   \"\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_11ax_dl_ofdma_mcs,\n\t\t\t   \"rx_11ax_dl_ofdma_mcs\", HTT_RX_PDEV_STATS_NUM_MCS_COUNTERS,\n\t\t\t   \"\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_11ax_dl_ofdma_ru,\n\t\t\t   \"rx_11ax_dl_ofdma_ru\", HTT_RX_PDEV_STATS_NUM_RU_SIZE_COUNTERS,\n\t\t\t   \"\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_ulmumimo_non_data_ppdu,\n\t\t\t   \"rx_ulmumimo_non_data_ppdu\", HTT_RX_PDEV_MAX_ULMUMIMO_NUM_USER,\n\t\t\t   \"\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_ulmumimo_data_ppdu,\n\t\t\t   \"rx_ulmumimo_data_ppdu\", HTT_RX_PDEV_MAX_ULMUMIMO_NUM_USER,\n\t\t\t   \"\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_ulmumimo_mpdu_ok,\n\t\t\t   \"rx_ulmumimo_mpdu_ok\", HTT_RX_PDEV_MAX_ULMUMIMO_NUM_USER,\n\t\t\t   \"\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rx_ulmumimo_mpdu_fail,\n\t\t\t   \"rx_ulmumimo_mpdu_fail\", HTT_RX_PDEV_MAX_ULMUMIMO_NUM_USER,\n\t\t\t   \"\\n\");\n\n\tlen += scnprintf(buf + len, buf_len - len, \"per_chain_rssi_pkt_type = %#x\\n\",\n\t\t\t htt_stats_buf->per_chain_rssi_pkt_type);\n\n\tfor (j = 0; j < HTT_RX_PDEV_STATS_NUM_SPATIAL_STREAMS; j++) {\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"rx_per_chain_rssi_in_dbm[%u] = \", j);\n\t\tfor (i = 0; i < HTT_RX_PDEV_STATS_NUM_BW_COUNTERS; i++)\n\t\t\tlen += scnprintf(buf + len,\n\t\t\t\t\t buf_len - len,\n\t\t\t\t\t \" %u:%d,\",\n\t\t\t\t\t i,\n\t\t\t\t\t htt_stats_buf->rx_per_chain_rssi_in_dbm[j][i]);\n\t\tlen += scnprintf(buf + len, buf_len - len, \"\\n\");\n\t}\n\tlen += scnprintf(buf + len, buf_len - len, \"\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_rx_soc_fw_stats_tlv(const void *tag_buf,\n\t\t\t\t\t\t struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_rx_soc_fw_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_RX_SOC_FW_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"fw_reo_ring_data_msdu = %u\\n\",\n\t\t\t htt_stats_buf->fw_reo_ring_data_msdu);\n\tlen += scnprintf(buf + len, buf_len - len, \"fw_to_host_data_msdu_bcmc = %u\\n\",\n\t\t\t htt_stats_buf->fw_to_host_data_msdu_bcmc);\n\tlen += scnprintf(buf + len, buf_len - len, \"fw_to_host_data_msdu_uc = %u\\n\",\n\t\t\t htt_stats_buf->fw_to_host_data_msdu_uc);\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"ofld_remote_data_buf_recycle_cnt = %u\\n\",\n\t\t\t htt_stats_buf->ofld_remote_data_buf_recycle_cnt);\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"ofld_remote_free_buf_indication_cnt = %u\\n\",\n\t\t\t htt_stats_buf->ofld_remote_free_buf_indication_cnt);\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"ofld_buf_to_host_data_msdu_uc = %u\\n\",\n\t\t\t htt_stats_buf->ofld_buf_to_host_data_msdu_uc);\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"reo_fw_ring_to_host_data_msdu_uc = %u\\n\",\n\t\t\t htt_stats_buf->reo_fw_ring_to_host_data_msdu_uc);\n\tlen += scnprintf(buf + len, buf_len - len, \"wbm_sw_ring_reap = %u\\n\",\n\t\t\t htt_stats_buf->wbm_sw_ring_reap);\n\tlen += scnprintf(buf + len, buf_len - len, \"wbm_forward_to_host_cnt = %u\\n\",\n\t\t\t htt_stats_buf->wbm_forward_to_host_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"wbm_target_recycle_cnt = %u\\n\",\n\t\t\t htt_stats_buf->wbm_target_recycle_cnt);\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"target_refill_ring_recycle_cnt = %u\\n\",\n\t\t\t htt_stats_buf->target_refill_ring_recycle_cnt);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_rx_soc_fw_refill_ring_empty_tlv_v(const void *tag_buf,\n\t\t\t\t\t    u16 tag_len,\n\t\t\t\t\t    struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_rx_soc_fw_refill_ring_empty_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu16 num_elems = min_t(u16, (tag_len >> 2), HTT_RX_STATS_REFILL_MAX_RING);\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_RX_SOC_FW_REFILL_RING_EMPTY_TLV_V:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->refill_ring_empty_cnt,\n\t\t\t   \"refill_ring_empty_cnt\", num_elems, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_rx_soc_fw_refill_ring_num_rxdma_err_tlv_v(const void *tag_buf,\n\t\t\t\t\t\t    u16 tag_len,\n\t\t\t\t\t\t    struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_rx_soc_fw_refill_ring_num_rxdma_err_tlv_v *htt_stats_buf =\n\t\ttag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu16 num_elems = min_t(u16, (tag_len >> 2), HTT_RX_RXDMA_MAX_ERR_CODE);\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_RX_SOC_FW_REFILL_RING_NUM_RXDMA_ERR_TLV_V:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->rxdma_err, \"rxdma_err\",\n\t\t\t   num_elems, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_rx_soc_fw_refill_ring_num_reo_err_tlv_v(const void *tag_buf,\n\t\t\t\t\t\t  u16 tag_len,\n\t\t\t\t\t\t  struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_rx_soc_fw_refill_ring_num_reo_err_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu16 num_elems = min_t(u16, (tag_len >> 2), HTT_RX_REO_MAX_ERR_CODE);\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_RX_SOC_FW_REFILL_RING_NUM_REO_ERR_TLV_V:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->reo_err, \"reo_err\",\n\t\t\t   num_elems, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_rx_reo_debug_stats_tlv_v(const void *tag_buf,\n\t\t\t\t   struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_rx_reo_resource_stats_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_RX_REO_RESOURCE_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"sample_id = %u\\n\",\n\t\t\t htt_stats_buf->sample_id);\n\tlen += scnprintf(buf + len, buf_len - len, \"total_max = %u\\n\",\n\t\t\t htt_stats_buf->total_max);\n\tlen += scnprintf(buf + len, buf_len - len, \"total_avg = %u\\n\",\n\t\t\t htt_stats_buf->total_avg);\n\tlen += scnprintf(buf + len, buf_len - len, \"total_sample = %u\\n\",\n\t\t\t htt_stats_buf->total_sample);\n\tlen += scnprintf(buf + len, buf_len - len, \"non_zeros_avg = %u\\n\",\n\t\t\t htt_stats_buf->non_zeros_avg);\n\tlen += scnprintf(buf + len, buf_len - len, \"non_zeros_sample = %u\\n\",\n\t\t\t htt_stats_buf->non_zeros_sample);\n\tlen += scnprintf(buf + len, buf_len - len, \"last_non_zeros_max = %u\\n\",\n\t\t\t htt_stats_buf->last_non_zeros_max);\n\tlen += scnprintf(buf + len, buf_len - len, \"last_non_zeros_min %u\\n\",\n\t\t\t htt_stats_buf->last_non_zeros_min);\n\tlen += scnprintf(buf + len, buf_len - len, \"last_non_zeros_avg %u\\n\",\n\t\t\t htt_stats_buf->last_non_zeros_avg);\n\tlen += scnprintf(buf + len, buf_len - len, \"last_non_zeros_sample %u\\n\\n\",\n\t\t\t htt_stats_buf->last_non_zeros_sample);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_rx_soc_fw_refill_ring_num_refill_tlv_v(const void *tag_buf,\n\t\t\t\t\t\t u16 tag_len,\n\t\t\t\t\t\t struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_rx_soc_fw_refill_ring_num_refill_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu16 num_elems = min_t(u16, (tag_len >> 2), HTT_RX_STATS_REFILL_MAX_RING);\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_RX_SOC_FW_REFILL_RING_NUM_REFILL_TLV_V:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->refill_ring_num_refill,\n\t\t\t   \"refill_ring_num_refill\", num_elems, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_rx_pdev_fw_stats_tlv(const void *tag_buf,\n\t\t\t\t\t\t  struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_rx_pdev_fw_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_RX_PDEV_FW_STATS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"mac_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_STATS_MAC_ID, htt_stats_buf->mac_id__word));\n\tlen += scnprintf(buf + len, buf_len - len, \"ppdu_recvd = %u\\n\",\n\t\t\t htt_stats_buf->ppdu_recvd);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdu_cnt_fcs_ok = %u\\n\",\n\t\t\t htt_stats_buf->mpdu_cnt_fcs_ok);\n\tlen += scnprintf(buf + len, buf_len - len, \"mpdu_cnt_fcs_err = %u\\n\",\n\t\t\t htt_stats_buf->mpdu_cnt_fcs_err);\n\tlen += scnprintf(buf + len, buf_len - len, \"tcp_msdu_cnt = %u\\n\",\n\t\t\t htt_stats_buf->tcp_msdu_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"tcp_ack_msdu_cnt = %u\\n\",\n\t\t\t htt_stats_buf->tcp_ack_msdu_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"udp_msdu_cnt = %u\\n\",\n\t\t\t htt_stats_buf->udp_msdu_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"other_msdu_cnt = %u\\n\",\n\t\t\t htt_stats_buf->other_msdu_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"fw_ring_mpdu_ind = %u\\n\",\n\t\t\t htt_stats_buf->fw_ring_mpdu_ind);\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->fw_ring_mgmt_subtype,\n\t\t\t   \"fw_ring_mgmt_subtype\", HTT_STATS_SUBTYPE_MAX, \"\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->fw_ring_ctrl_subtype,\n\t\t\t   \"fw_ring_ctrl_subtype\", HTT_STATS_SUBTYPE_MAX, \"\\n\");\n\n\tlen += scnprintf(buf + len, buf_len - len, \"fw_ring_mcast_data_msdu = %u\\n\",\n\t\t\t htt_stats_buf->fw_ring_mcast_data_msdu);\n\tlen += scnprintf(buf + len, buf_len - len, \"fw_ring_bcast_data_msdu = %u\\n\",\n\t\t\t htt_stats_buf->fw_ring_bcast_data_msdu);\n\tlen += scnprintf(buf + len, buf_len - len, \"fw_ring_ucast_data_msdu = %u\\n\",\n\t\t\t htt_stats_buf->fw_ring_ucast_data_msdu);\n\tlen += scnprintf(buf + len, buf_len - len, \"fw_ring_null_data_msdu = %u\\n\",\n\t\t\t htt_stats_buf->fw_ring_null_data_msdu);\n\tlen += scnprintf(buf + len, buf_len - len, \"fw_ring_mpdu_drop = %u\\n\",\n\t\t\t htt_stats_buf->fw_ring_mpdu_drop);\n\tlen += scnprintf(buf + len, buf_len - len, \"ofld_local_data_ind_cnt = %u\\n\",\n\t\t\t htt_stats_buf->ofld_local_data_ind_cnt);\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"ofld_local_data_buf_recycle_cnt = %u\\n\",\n\t\t\t htt_stats_buf->ofld_local_data_buf_recycle_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"drx_local_data_ind_cnt = %u\\n\",\n\t\t\t htt_stats_buf->drx_local_data_ind_cnt);\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"drx_local_data_buf_recycle_cnt = %u\\n\",\n\t\t\t htt_stats_buf->drx_local_data_buf_recycle_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"local_nondata_ind_cnt = %u\\n\",\n\t\t\t htt_stats_buf->local_nondata_ind_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"local_nondata_buf_recycle_cnt = %u\\n\",\n\t\t\t htt_stats_buf->local_nondata_buf_recycle_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"fw_status_buf_ring_refill_cnt = %u\\n\",\n\t\t\t htt_stats_buf->fw_status_buf_ring_refill_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"fw_status_buf_ring_empty_cnt = %u\\n\",\n\t\t\t htt_stats_buf->fw_status_buf_ring_empty_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"fw_pkt_buf_ring_refill_cnt = %u\\n\",\n\t\t\t htt_stats_buf->fw_pkt_buf_ring_refill_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"fw_pkt_buf_ring_empty_cnt = %u\\n\",\n\t\t\t htt_stats_buf->fw_pkt_buf_ring_empty_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"fw_link_buf_ring_refill_cnt = %u\\n\",\n\t\t\t htt_stats_buf->fw_link_buf_ring_refill_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"fw_link_buf_ring_empty_cnt = %u\\n\",\n\t\t\t htt_stats_buf->fw_link_buf_ring_empty_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"host_pkt_buf_ring_refill_cnt = %u\\n\",\n\t\t\t htt_stats_buf->host_pkt_buf_ring_refill_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"host_pkt_buf_ring_empty_cnt = %u\\n\",\n\t\t\t htt_stats_buf->host_pkt_buf_ring_empty_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"mon_pkt_buf_ring_refill_cnt = %u\\n\",\n\t\t\t htt_stats_buf->mon_pkt_buf_ring_refill_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"mon_pkt_buf_ring_empty_cnt = %u\\n\",\n\t\t\t htt_stats_buf->mon_pkt_buf_ring_empty_cnt);\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"mon_status_buf_ring_refill_cnt = %u\\n\",\n\t\t\t htt_stats_buf->mon_status_buf_ring_refill_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"mon_status_buf_ring_empty_cnt = %u\\n\",\n\t\t\t htt_stats_buf->mon_status_buf_ring_empty_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"mon_desc_buf_ring_refill_cnt = %u\\n\",\n\t\t\t htt_stats_buf->mon_desc_buf_ring_refill_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"mon_desc_buf_ring_empty_cnt = %u\\n\",\n\t\t\t htt_stats_buf->mon_desc_buf_ring_empty_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"mon_dest_ring_update_cnt = %u\\n\",\n\t\t\t htt_stats_buf->mon_dest_ring_update_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"mon_dest_ring_full_cnt = %u\\n\",\n\t\t\t htt_stats_buf->mon_dest_ring_full_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_suspend_cnt = %u\\n\",\n\t\t\t htt_stats_buf->rx_suspend_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_suspend_fail_cnt = %u\\n\",\n\t\t\t htt_stats_buf->rx_suspend_fail_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_resume_cnt = %u\\n\",\n\t\t\t htt_stats_buf->rx_resume_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_resume_fail_cnt = %u\\n\",\n\t\t\t htt_stats_buf->rx_resume_fail_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_ring_switch_cnt = %u\\n\",\n\t\t\t htt_stats_buf->rx_ring_switch_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_ring_restore_cnt = %u\\n\",\n\t\t\t htt_stats_buf->rx_ring_restore_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_flush_cnt = %u\\n\",\n\t\t\t htt_stats_buf->rx_flush_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_recovery_reset_cnt = %u\\n\\n\",\n\t\t\t htt_stats_buf->rx_recovery_reset_cnt);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_rx_pdev_fw_ring_mpdu_err_tlv_v(const void *tag_buf,\n\t\t\t\t\t struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_rx_pdev_fw_ring_mpdu_err_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_RX_PDEV_FW_RING_MPDU_ERR_TLV_V:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->fw_ring_mpdu_err,\n\t\t\t   \"fw_ring_mpdu_err\", HTT_RX_STATS_RXDMA_MAX_ERR, \"\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_rx_pdev_fw_mpdu_drop_tlv_v(const void *tag_buf,\n\t\t\t\t     u16 tag_len,\n\t\t\t\t     struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_rx_pdev_fw_mpdu_drop_tlv_v *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tu16 num_elems = min_t(u16, (tag_len >> 2), HTT_RX_STATS_FW_DROP_REASON_MAX);\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_RX_PDEV_FW_MPDU_DROP_TLV_V:\\n\");\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->fw_mpdu_drop, \"fw_mpdu_drop\",\n\t\t\t   num_elems, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_rx_pdev_fw_stats_phy_err_tlv(const void *tag_buf,\n\t\t\t\t       struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_rx_pdev_fw_stats_phy_err_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_RX_PDEV_FW_STATS_PHY_ERR_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"mac_id__word = %u\\n\",\n\t\t\t htt_stats_buf->mac_id__word);\n\tlen += scnprintf(buf + len, buf_len - len, \"total_phy_err_nct = %u\\n\",\n\t\t\t htt_stats_buf->total_phy_err_cnt);\n\n\tPRINT_ARRAY_TO_BUF(buf, len, htt_stats_buf->phy_err, \"phy_errs\",\n\t\t\t   HTT_STATS_PHY_ERR_MAX, \"\\n\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_pdev_cca_stats_hist_tlv(const void *tag_buf,\n\t\t\t\t  struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_pdev_cca_stats_hist_v1_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"\\nHTT_PDEV_CCA_STATS_HIST_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"chan_num = %u\\n\",\n\t\t\t htt_stats_buf->chan_num);\n\tlen += scnprintf(buf + len, buf_len - len, \"num_records = %u\\n\",\n\t\t\t htt_stats_buf->num_records);\n\tlen += scnprintf(buf + len, buf_len - len, \"valid_cca_counters_bitmap = 0x%x\\n\",\n\t\t\t htt_stats_buf->valid_cca_counters_bitmap);\n\tlen += scnprintf(buf + len, buf_len - len, \"collection_interval = %u\\n\\n\",\n\t\t\t htt_stats_buf->collection_interval);\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_PDEV_STATS_CCA_COUNTERS_TLV:(in usec)\\n\");\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"|  tx_frame|   rx_frame|   rx_clear| my_rx_frame|        cnt| med_rx_idle| med_tx_idle_global|   cca_obss|\\n\");\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_pdev_stats_cca_counters_tlv(const void *tag_buf,\n\t\t\t\t      struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_pdev_stats_cca_counters_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"|%10u| %10u| %10u| %11u| %10u| %11u| %18u| %10u|\\n\",\n\t\t\t htt_stats_buf->tx_frame_usec,\n\t\t\t htt_stats_buf->rx_frame_usec,\n\t\t\t htt_stats_buf->rx_clear_usec,\n\t\t\t htt_stats_buf->my_rx_frame_usec,\n\t\t\t htt_stats_buf->usec_cnt,\n\t\t\t htt_stats_buf->med_rx_idle_usec,\n\t\t\t htt_stats_buf->med_tx_idle_global_usec,\n\t\t\t htt_stats_buf->cca_obss_usec);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_hw_stats_whal_tx_tlv(const void *tag_buf,\n\t\t\t\t\t\t  struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_hw_stats_whal_tx_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_HW_STATS_WHAL_TX_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"mac_id = %lu\\n\",\n\t\t\t FIELD_GET(HTT_STATS_MAC_ID, htt_stats_buf->mac_id__word));\n\tlen += scnprintf(buf + len, buf_len - len, \"last_unpause_ppdu_id = %u\\n\",\n\t\t\t htt_stats_buf->last_unpause_ppdu_id);\n\tlen += scnprintf(buf + len, buf_len - len, \"hwsch_unpause_wait_tqm_write = %u\\n\",\n\t\t\t htt_stats_buf->hwsch_unpause_wait_tqm_write);\n\tlen += scnprintf(buf + len, buf_len - len, \"hwsch_dummy_tlv_skipped = %u\\n\",\n\t\t\t htt_stats_buf->hwsch_dummy_tlv_skipped);\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"hwsch_misaligned_offset_received = %u\\n\",\n\t\t\t htt_stats_buf->hwsch_misaligned_offset_received);\n\tlen += scnprintf(buf + len, buf_len - len, \"hwsch_reset_count = %u\\n\",\n\t\t\t htt_stats_buf->hwsch_reset_count);\n\tlen += scnprintf(buf + len, buf_len - len, \"hwsch_dev_reset_war = %u\\n\",\n\t\t\t htt_stats_buf->hwsch_dev_reset_war);\n\tlen += scnprintf(buf + len, buf_len - len, \"hwsch_delayed_pause = %u\\n\",\n\t\t\t htt_stats_buf->hwsch_delayed_pause);\n\tlen += scnprintf(buf + len, buf_len - len, \"hwsch_long_delayed_pause = %u\\n\",\n\t\t\t htt_stats_buf->hwsch_long_delayed_pause);\n\tlen += scnprintf(buf + len, buf_len - len, \"sch_rx_ppdu_no_response = %u\\n\",\n\t\t\t htt_stats_buf->sch_rx_ppdu_no_response);\n\tlen += scnprintf(buf + len, buf_len - len, \"sch_selfgen_response = %u\\n\",\n\t\t\t htt_stats_buf->sch_selfgen_response);\n\tlen += scnprintf(buf + len, buf_len - len, \"sch_rx_sifs_resp_trigger= %u\\n\\n\",\n\t\t\t htt_stats_buf->sch_rx_sifs_resp_trigger);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_pdev_stats_twt_sessions_tlv(const void *tag_buf,\n\t\t\t\t      struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_pdev_stats_twt_sessions_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_PDEV_STATS_TWT_SESSIONS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"pdev_id = %u\\n\",\n\t\t\t htt_stats_buf->pdev_id);\n\tlen += scnprintf(buf + len, buf_len - len, \"num_sessions = %u\\n\\n\",\n\t\t\t htt_stats_buf->num_sessions);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_pdev_stats_twt_session_tlv(const void *tag_buf,\n\t\t\t\t     struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_pdev_stats_twt_session_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_PDEV_STATS_TWT_SESSION_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"vdev_id = %u\\n\",\n\t\t\t htt_stats_buf->vdev_id);\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"peer_mac = %02lx:%02lx:%02lx:%02lx:%02lx:%02lx\\n\",\n\t\t\t FIELD_GET(HTT_MAC_ADDR_L32_0,\n\t\t\t\t   htt_stats_buf->peer_mac.mac_addr_l32),\n\t\t\t FIELD_GET(HTT_MAC_ADDR_L32_1,\n\t\t\t\t   htt_stats_buf->peer_mac.mac_addr_l32),\n\t\t\t FIELD_GET(HTT_MAC_ADDR_L32_2,\n\t\t\t\t   htt_stats_buf->peer_mac.mac_addr_l32),\n\t\t\t FIELD_GET(HTT_MAC_ADDR_L32_3,\n\t\t\t\t   htt_stats_buf->peer_mac.mac_addr_l32),\n\t\t\t FIELD_GET(HTT_MAC_ADDR_H16_0,\n\t\t\t\t   htt_stats_buf->peer_mac.mac_addr_h16),\n\t\t\t FIELD_GET(HTT_MAC_ADDR_H16_1,\n\t\t\t\t   htt_stats_buf->peer_mac.mac_addr_h16));\n\tlen += scnprintf(buf + len, buf_len - len, \"flow_id_flags = %u\\n\",\n\t\t\t htt_stats_buf->flow_id_flags);\n\tlen += scnprintf(buf + len, buf_len - len, \"dialog_id = %u\\n\",\n\t\t\t htt_stats_buf->dialog_id);\n\tlen += scnprintf(buf + len, buf_len - len, \"wake_dura_us = %u\\n\",\n\t\t\t htt_stats_buf->wake_dura_us);\n\tlen += scnprintf(buf + len, buf_len - len, \"wake_intvl_us = %u\\n\",\n\t\t\t htt_stats_buf->wake_intvl_us);\n\tlen += scnprintf(buf + len, buf_len - len, \"sp_offset_us = %u\\n\\n\",\n\t\t\t htt_stats_buf->sp_offset_us);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_pdev_obss_pd_stats_tlv_v(const void *tag_buf,\n\t\t\t\t   struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_pdev_obss_pd_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"OBSS Tx success PPDU = %u\\n\",\n\t\t\t   htt_stats_buf->num_obss_tx_ppdu_success);\n\tlen += scnprintf(buf + len, buf_len - len, \"OBSS Tx failures PPDU = %u\\n\",\n\t\t\t   htt_stats_buf->num_obss_tx_ppdu_failure);\n\tlen += scnprintf(buf + len, buf_len - len, \"Non-SRG Opportunities = %u\\n\",\n\t\t\t   htt_stats_buf->num_non_srg_opportunities);\n\tlen += scnprintf(buf + len, buf_len - len, \"Non-SRG tried PPDU = %u\\n\",\n\t\t\t   htt_stats_buf->num_non_srg_ppdu_tried);\n\tlen += scnprintf(buf + len, buf_len - len, \"Non-SRG success PPDU = %u\\n\",\n\t\t\t   htt_stats_buf->num_non_srg_ppdu_success);\n\tlen += scnprintf(buf + len, buf_len - len, \"SRG Opportunities = %u\\n\",\n\t\t\t   htt_stats_buf->num_srg_opportunities);\n\tlen += scnprintf(buf + len, buf_len - len, \"SRG tried PPDU = %u\\n\",\n\t\t\t   htt_stats_buf->num_srg_ppdu_tried);\n\tlen += scnprintf(buf + len, buf_len - len, \"SRG success PPDU = %u\\n\\n\",\n\t\t\t   htt_stats_buf->num_srg_ppdu_success);\n\n\tif (len >= buf_len)\n\t\tbuf[buf_len - 1] = 0;\n\telse\n\t\tbuf[len] = 0;\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void htt_print_backpressure_stats_tlv_v(const u32 *tag_buf,\n\t\t\t\t\t\t      u8 *data)\n{\n\tstruct debug_htt_stats_req *stats_req =\n\t\t\t(struct debug_htt_stats_req *)data;\n\tstruct htt_ring_backpressure_stats_tlv *htt_stats_buf =\n\t\t\t(struct htt_ring_backpressure_stats_tlv *)tag_buf;\n\tint i;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"pdev_id = %u\\n\",\n\t\t\t htt_stats_buf->pdev_id);\n\tlen += scnprintf(buf + len, buf_len - len, \"current_head_idx = %u\\n\",\n\t\t\t htt_stats_buf->current_head_idx);\n\tlen += scnprintf(buf + len, buf_len - len, \"current_tail_idx = %u\\n\",\n\t\t\t htt_stats_buf->current_tail_idx);\n\tlen += scnprintf(buf + len, buf_len - len, \"num_htt_msgs_sent = %u\\n\",\n\t\t\t htt_stats_buf->num_htt_msgs_sent);\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"backpressure_time_ms = %u\\n\",\n\t\t\t htt_stats_buf->backpressure_time_ms);\n\n\tfor (i = 0; i < 5; i++)\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"backpressure_hist_%u = %u\\n\",\n\t\t\t\t i + 1, htt_stats_buf->backpressure_hist[i]);\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"============================\\n\");\n\n\tif (len >= buf_len) {\n\t\tbuf[buf_len - 1] = 0;\n\t\tstats_req->buf_len = buf_len - 1;\n\t} else {\n\t\tbuf[len] = 0;\n\t\tstats_req->buf_len = len;\n\t}\n}\n\nstatic inline\nvoid htt_print_pdev_tx_rate_txbf_stats_tlv(const void *tag_buf,\n\t\t\t\t\t   struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_pdev_txrate_txbf_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tint i;\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_STATS_PDEV_TX_RATE_TXBF_STATS:\\n\");\n\n\tlen += scnprintf(buf + len, buf_len - len, \"tx_ol_mcs = \");\n\tfor (i = 0; i < HTT_TX_TXBF_RATE_STATS_NUM_MCS_COUNTERS; i++)\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"%d:%u,\", i, htt_stats_buf->tx_su_ol_mcs[i]);\n\tlen--;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"\\ntx_ibf_mcs = \");\n\tfor (i = 0; i < HTT_TX_TXBF_RATE_STATS_NUM_MCS_COUNTERS; i++)\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"%d:%u,\", i, htt_stats_buf->tx_su_ibf_mcs[i]);\n\tlen--;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"\\ntx_txbf_mcs =\");\n\tfor (i = 0; i < HTT_TX_TXBF_RATE_STATS_NUM_MCS_COUNTERS; i++)\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"%d:%u,\", i, htt_stats_buf->tx_su_txbf_mcs[i]);\n\tlen--;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"\\ntx_ol_nss = \");\n\tfor (i = 0; i < HTT_TX_PDEV_STATS_NUM_SPATIAL_STREAMS; i++)\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"%d:%u,\", i, htt_stats_buf->tx_su_ol_nss[i]);\n\tlen--;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"\\ntx_ibf_nss = \");\n\tfor (i = 0; i < HTT_TX_PDEV_STATS_NUM_SPATIAL_STREAMS; i++)\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"%d:%u,\", i, htt_stats_buf->tx_su_ibf_nss[i]);\n\tlen--;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"\\ntx_txbf_nss = \");\n\tfor (i = 0; i < HTT_TX_PDEV_STATS_NUM_SPATIAL_STREAMS; i++)\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"%d:%u,\", i, htt_stats_buf->tx_su_txbf_nss[i]);\n\tlen--;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"\\ntx_ol_bw = \");\n\tfor (i = 0; i < HTT_TX_TXBF_RATE_STATS_NUM_BW_COUNTERS; i++)\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"%d:%u,\", i, htt_stats_buf->tx_su_ol_bw[i]);\n\tlen--;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"\\ntx_ibf_bw = \");\n\tfor (i = 0; i < HTT_TX_TXBF_RATE_STATS_NUM_BW_COUNTERS; i++)\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"%d:%u,\", i, htt_stats_buf->tx_su_ibf_bw[i]);\n\tlen--;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"\\ntx_txbf_bw = \");\n\tfor (i = 0; i < HTT_TX_TXBF_RATE_STATS_NUM_BW_COUNTERS; i++)\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"%d:%u,\", i, htt_stats_buf->tx_su_txbf_bw[i]);\n\tlen--;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"\\n\");\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline\nvoid htt_print_txbf_ofdma_ndpa_stats_tlv(const void *tag_buf,\n\t\t\t\t\t struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_txbf_ofdma_ndpa_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tint i;\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_TXBF_OFDMA_NDPA_STATS_TLV:\\n\");\n\n\tfor (i = 0; i < HTT_TX_PDEV_STATS_NUM_OFDMA_USER_STATS; i++) {\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ofdma_ndpa_queued_user%d = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ofdma_ndpa_queued[i]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ofdma_ndpa_tried_user%d = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ofdma_ndpa_tried[i]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ofdma_ndpa_flushed_user%d = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ofdma_ndpa_flushed[i]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ofdma_ndpa_err_user%d = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ofdma_ndpa_err[i]);\n\t\tlen += scnprintf(buf + len, buf_len - len, \"\\n\");\n\t}\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline\nvoid htt_print_txbf_ofdma_ndp_stats_tlv(const void *tag_buf,\n\t\t\t\t\tstruct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_txbf_ofdma_ndp_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tint i;\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_TXBF_OFDMA_NDP_STATS_TLV:\\n\");\n\n\tfor (i = 0; i < HTT_TX_PDEV_STATS_NUM_OFDMA_USER_STATS; i++) {\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ofdma_ndp_queued_user%d = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ofdma_ndp_queued[i]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ofdma_ndp_tried_user%d = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ofdma_ndp_tried[i]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ofdma_ndp_flushed_user%d = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ofdma_ndp_flushed[i]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ofdma_ndp_err_user%d = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ofdma_ndp_err[i]);\n\t\tlen += scnprintf(buf + len, buf_len - len, \"\\n\");\n\t}\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline\nvoid htt_print_txbf_ofdma_brp_stats_tlv(const void *tag_buf,\n\t\t\t\t\tstruct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_txbf_ofdma_brp_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tint i;\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_TXBF_OFDMA_BRP_STATS_TLV:\\n\");\n\n\tfor (i = 0; i < HTT_TX_PDEV_STATS_NUM_OFDMA_USER_STATS; i++) {\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ofdma_brpoll_queued_user%d = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ofdma_brpoll_queued[i]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ofdma_brpoll_tried_user%d = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ofdma_brpoll_tried[i]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ofdma_brpoll_flushed_user%d = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ofdma_brpoll_flushed[i]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ofdma_brp_err_user%d = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ofdma_brp_err[i]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ofdma_brp_err_num_cbf_rcvd_user%d = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ofdma_brp_err_num_cbf_rcvd[i]);\n\t\tlen += scnprintf(buf + len, buf_len - len, \"\\n\");\n\t}\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline\nvoid htt_print_txbf_ofdma_steer_stats_tlv(const void *tag_buf,\n\t\t\t\t\t  struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_txbf_ofdma_steer_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tint i;\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_TXBF_OFDMA_STEER_STATS_TLV:\\n\");\n\n\tfor (i = 0; i < HTT_TX_PDEV_STATS_NUM_OFDMA_USER_STATS; i++) {\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ofdma_num_ppdu_steer_user%d = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ofdma_num_ppdu_steer[i]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ofdma_num_ppdu_ol_user%d = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ofdma_num_ppdu_ol[i]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ofdma_num_usrs_prefetch_user%d = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ofdma_num_usrs_prefetch[i]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ofdma_num_usrs_sound_user%d = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ofdma_num_usrs_sound[i]);\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"ax_ofdma_num_usrs_force_sound_user%d = %u\\n\",\n\t\t\t\t i, htt_stats_buf->ax_ofdma_num_usrs_force_sound[i]);\n\t\tlen += scnprintf(buf + len, buf_len - len, \"\\n\");\n\t}\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline\nvoid htt_print_phy_counters_tlv(const void *tag_buf,\n\t\t\t\tstruct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_phy_counters_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tint i;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_PHY_COUNTERS_TLV:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_ofdma_timing_err_cnt = %u\\n\",\n\t\t\t htt_stats_buf->rx_ofdma_timing_err_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_cck_fail_cnt = %u\\n\",\n\t\t\t htt_stats_buf->rx_cck_fail_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"mactx_abort_cnt = %u\\n\",\n\t\t\t htt_stats_buf->mactx_abort_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"macrx_abort_cnt = %u\\n\",\n\t\t\t htt_stats_buf->macrx_abort_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"phytx_abort_cnt = %u\\n\",\n\t\t\t htt_stats_buf->phytx_abort_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"phyrx_abort_cnt = %u\\n\",\n\t\t\t htt_stats_buf->phyrx_abort_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"phyrx_defer_abort_cnt = %u\\n\",\n\t\t\t htt_stats_buf->phyrx_defer_abort_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_gain_adj_lstf_event_cnt = %u\\n\",\n\t\t\t htt_stats_buf->rx_gain_adj_lstf_event_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_gain_adj_non_legacy_cnt = %u\\n\",\n\t\t\t htt_stats_buf->rx_gain_adj_non_legacy_cnt);\n\n\tfor (i = 0; i < HTT_MAX_RX_PKT_CNT; i++)\n\t\tlen += scnprintf(buf + len, buf_len - len, \"rx_pkt_cnt[%d] = %u\\n\",\n\t\t\t\t i, htt_stats_buf->rx_pkt_cnt[i]);\n\n\tfor (i = 0; i < HTT_MAX_RX_PKT_CRC_PASS_CNT; i++)\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"rx_pkt_crc_pass_cnt[%d] = %u\\n\",\n\t\t\t\t i, htt_stats_buf->rx_pkt_crc_pass_cnt[i]);\n\n\tfor (i = 0; i < HTT_MAX_PER_BLK_ERR_CNT; i++)\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"per_blk_err_cnt[%d] = %u\\n\",\n\t\t\t\t i, htt_stats_buf->per_blk_err_cnt[i]);\n\n\tfor (i = 0; i < HTT_MAX_RX_OTA_ERR_CNT; i++)\n\t\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t\t \"rx_ota_err_cnt[%d] = %u\\n\",\n\t\t\t\t i, htt_stats_buf->rx_ota_err_cnt[i]);\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline\nvoid htt_print_phy_stats_tlv(const void *tag_buf,\n\t\t\t     struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_phy_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tint i;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_PHY_STATS_TLV:\\n\");\n\n\tfor (i = 0; i < HTT_STATS_MAX_CHAINS; i++)\n\t\tlen += scnprintf(buf + len, buf_len - len, \"nf_chain[%d] = %d\\n\",\n\t\t\t\t i, htt_stats_buf->nf_chain[i]);\n\n\tlen += scnprintf(buf + len, buf_len - len, \"false_radar_cnt = %u\\n\",\n\t\t\t htt_stats_buf->false_radar_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"radar_cs_cnt = %u\\n\",\n\t\t\t htt_stats_buf->radar_cs_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"ani_level = %d\\n\",\n\t\t\t htt_stats_buf->ani_level);\n\tlen += scnprintf(buf + len, buf_len - len, \"fw_run_time = %u\\n\",\n\t\t\t htt_stats_buf->fw_run_time);\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_phy_reset_counters_tlv(const void *tag_buf,\n\t\t\t\t u16 tag_len,\n\t\t\t\t struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_phy_reset_counters_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tif (tag_len < sizeof(*htt_stats_buf))\n\t\treturn;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_PHY_RESET_COUNTERS_TLV:\\n\");\n\n\tlen += scnprintf(buf + len, buf_len - len, \"pdev_id = %u\\n\",\n\t\t\t htt_stats_buf->pdev_id);\n\tlen += scnprintf(buf + len, buf_len - len, \"cf_active_low_fail_cnt = %u\\n\",\n\t\t\t htt_stats_buf->cf_active_low_fail_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"cf_active_low_pass_cnt = %u\\n\",\n\t\t\t htt_stats_buf->cf_active_low_pass_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"phy_off_through_vreg_cnt = %u\\n\",\n\t\t\t htt_stats_buf->phy_off_through_vreg_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"force_calibration_cnt = %u\\n\",\n\t\t\t htt_stats_buf->force_calibration_cnt);\n\tlen += scnprintf(buf + len, buf_len - len, \"rf_mode_switch_phy_off_cnt = %u\\n\",\n\t\t\t htt_stats_buf->rf_mode_switch_phy_off_cnt);\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline void\nhtt_print_phy_reset_stats_tlv(const void *tag_buf,\n\t\t\t      u16 tag_len,\n\t\t\t      struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_phy_reset_stats_tlv *htt_stats_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\n\tif (tag_len < sizeof(*htt_stats_buf))\n\t\treturn;\n\n\tlen += scnprintf(buf + len, buf_len - len, \"HTT_PHY_RESET_STATS_TLV:\\n\");\n\n\tlen += scnprintf(buf + len, buf_len - len, \"pdev_id = %u\\n\",\n\t\t\t htt_stats_buf->pdev_id);\n\tlen += scnprintf(buf + len, buf_len - len, \"chan_mhz = %u\\n\",\n\t\t\t htt_stats_buf->chan_mhz);\n\tlen += scnprintf(buf + len, buf_len - len, \"chan_band_center_freq1 = %u\\n\",\n\t\t\t htt_stats_buf->chan_band_center_freq1);\n\tlen += scnprintf(buf + len, buf_len - len, \"chan_band_center_freq2 = %u\\n\",\n\t\t\t htt_stats_buf->chan_band_center_freq2);\n\tlen += scnprintf(buf + len, buf_len - len, \"chan_phy_mode = %u\\n\",\n\t\t\t htt_stats_buf->chan_phy_mode);\n\tlen += scnprintf(buf + len, buf_len - len, \"chan_flags = 0x%0x\\n\",\n\t\t\t htt_stats_buf->chan_flags);\n\tlen += scnprintf(buf + len, buf_len - len, \"chan_num = %u\\n\",\n\t\t\t htt_stats_buf->chan_num);\n\tlen += scnprintf(buf + len, buf_len - len, \"reset_cause = 0x%0x\\n\",\n\t\t\t htt_stats_buf->reset_cause);\n\tlen += scnprintf(buf + len, buf_len - len, \"prev_reset_cause = 0x%0x\\n\",\n\t\t\t htt_stats_buf->prev_reset_cause);\n\tlen += scnprintf(buf + len, buf_len - len, \"phy_warm_reset_src = 0x%0x\\n\",\n\t\t\t htt_stats_buf->phy_warm_reset_src);\n\tlen += scnprintf(buf + len, buf_len - len, \"rx_gain_tbl_mode = %d\\n\",\n\t\t\t htt_stats_buf->rx_gain_tbl_mode);\n\tlen += scnprintf(buf + len, buf_len - len, \"xbar_val = 0x%0x\\n\",\n\t\t\t htt_stats_buf->xbar_val);\n\tlen += scnprintf(buf + len, buf_len - len, \"force_calibration = %u\\n\",\n\t\t\t htt_stats_buf->force_calibration);\n\tlen += scnprintf(buf + len, buf_len - len, \"phyrf_mode = %u\\n\",\n\t\t\t htt_stats_buf->phyrf_mode);\n\tlen += scnprintf(buf + len, buf_len - len, \"phy_homechan = %u\\n\",\n\t\t\t htt_stats_buf->phy_homechan);\n\tlen += scnprintf(buf + len, buf_len - len, \"phy_tx_ch_mask = 0x%0x\\n\",\n\t\t\t htt_stats_buf->phy_tx_ch_mask);\n\tlen += scnprintf(buf + len, buf_len - len, \"phy_rx_ch_mask = 0x%0x\\n\",\n\t\t\t htt_stats_buf->phy_rx_ch_mask);\n\tlen += scnprintf(buf + len, buf_len - len, \"phybb_ini_mask = 0x%0x\\n\",\n\t\t\t htt_stats_buf->phybb_ini_mask);\n\tlen += scnprintf(buf + len, buf_len - len, \"phyrf_ini_mask = 0x%0x\\n\",\n\t\t\t htt_stats_buf->phyrf_ini_mask);\n\tlen += scnprintf(buf + len, buf_len - len, \"phy_dfs_en_mask = 0x%0x\\n\",\n\t\t\t htt_stats_buf->phy_dfs_en_mask);\n\tlen += scnprintf(buf + len, buf_len - len, \"phy_sscan_en_mask = 0x%0x\\n\",\n\t\t\t htt_stats_buf->phy_sscan_en_mask);\n\tlen += scnprintf(buf + len, buf_len - len, \"phy_synth_sel_mask = 0x%0x\\n\",\n\t\t\t htt_stats_buf->phy_synth_sel_mask);\n\tlen += scnprintf(buf + len, buf_len - len, \"phy_adfs_freq = %u\\n\",\n\t\t\t htt_stats_buf->phy_adfs_freq);\n\tlen += scnprintf(buf + len, buf_len - len, \"cck_fir_settings = 0x%0x\\n\",\n\t\t\t htt_stats_buf->cck_fir_settings);\n\tlen += scnprintf(buf + len, buf_len - len, \"phy_dyn_pri_chan = %u\\n\",\n\t\t\t htt_stats_buf->phy_dyn_pri_chan);\n\tlen += scnprintf(buf + len, buf_len - len, \"cca_thresh = 0x%0x\\n\",\n\t\t\t htt_stats_buf->cca_thresh);\n\tlen += scnprintf(buf + len, buf_len - len, \"dyn_cca_status = %u\\n\",\n\t\t\t htt_stats_buf->dyn_cca_status);\n\tlen += scnprintf(buf + len, buf_len - len, \"rxdesense_thresh_hw = 0x%x\\n\",\n\t\t\t htt_stats_buf->rxdesense_thresh_hw);\n\tlen += scnprintf(buf + len, buf_len - len, \"rxdesense_thresh_sw = 0x%x\\n\",\n\t\t\t htt_stats_buf->rxdesense_thresh_sw);\n\n\tstats_req->buf_len = len;\n}\n\nstatic inline\nvoid htt_print_peer_ctrl_path_txrx_stats_tlv(const void *tag_buf,\n\t\t\t\t\t     struct debug_htt_stats_req *stats_req)\n{\n\tconst struct htt_peer_ctrl_path_txrx_stats_tlv *htt_stat_buf = tag_buf;\n\tu8 *buf = stats_req->buf;\n\tu32 len = stats_req->buf_len;\n\tu32 buf_len = ATH11K_HTT_STATS_BUF_SIZE;\n\tint i;\n\tconst char *mgmt_frm_type[ATH11K_STATS_MGMT_FRM_TYPE_MAX - 1] = {\n\t\t\"assoc_req\", \"assoc_resp\",\n\t\t\"reassoc_req\", \"reassoc_resp\",\n\t\t\"probe_req\", \"probe_resp\",\n\t\t\"timing_advertisement\", \"reserved\",\n\t\t\"beacon\", \"atim\", \"disassoc\",\n\t\t\"auth\", \"deauth\", \"action\", \"action_no_ack\"};\n\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"HTT_STATS_PEER_CTRL_PATH_TXRX_STATS_TAG:\\n\");\n\tlen += scnprintf(buf + len, buf_len - len,\n\t\t\t \"peer_mac_addr = %02x:%02x:%02x:%02x:%02x:%02x\\n\",\n\t\t\t htt_stat_buf->peer_mac_addr[0], htt_stat_buf->peer_mac_addr[1],\n\t\t\t htt_stat_buf->peer_mac_addr[2], htt_stat_buf->peer_mac_addr[3],\n\t\t\t htt_stat_buf->peer_mac_addr[4], htt_stat_buf->peer_mac_addr[5]);\n\n\tlen += scnprintf(buf + len, buf_len - len, \"peer_tx_mgmt_subtype:\\n\");\n\tfor (i = 0; i < ATH11K_STATS_MGMT_FRM_TYPE_MAX - 1; i++)\n\t\tlen += scnprintf(buf + len, buf_len - len, \"%s:%u\\n\",\n\t\t\t\t mgmt_frm_type[i],\n\t\t\t\t htt_stat_buf->peer_rx_mgmt_subtype[i]);\n\n\tlen += scnprintf(buf + len, buf_len - len, \"peer_rx_mgmt_subtype:\\n\");\n\tfor (i = 0; i < ATH11K_STATS_MGMT_FRM_TYPE_MAX - 1; i++)\n\t\tlen += scnprintf(buf + len, buf_len - len, \"%s:%u\\n\",\n\t\t\t\t mgmt_frm_type[i],\n\t\t\t\t htt_stat_buf->peer_rx_mgmt_subtype[i]);\n\n\tlen += scnprintf(buf + len, buf_len - len, \"\\n\");\n\n\tstats_req->buf_len = len;\n}\n\nstatic int ath11k_dbg_htt_ext_stats_parse(struct ath11k_base *ab,\n\t\t\t\t\t  u16 tag, u16 len, const void *tag_buf,\n\t\t\t\t\t  void *user_data)\n{\n\tstruct debug_htt_stats_req *stats_req = user_data;\n\n\tswitch (tag) {\n\tcase HTT_STATS_TX_PDEV_CMN_TAG:\n\t\thtt_print_tx_pdev_stats_cmn_tlv(tag_buf, stats_req);\n\t\tbreak;\n\tcase HTT_STATS_TX_PDEV_UNDERRUN_TAG:\n\t\thtt_print_tx_pdev_stats_urrn_tlv_v(tag_buf, len, stats_req);\n\t\tbreak;\n\tcase HTT_STATS_TX_PDEV_SIFS_TAG:\n\t\thtt_print_tx_pdev_stats_sifs_tlv_v(tag_buf, len, stats_req);\n\t\tbreak;\n\tcase HTT_STATS_TX_PDEV_FLUSH_TAG:\n\t\thtt_print_tx_pdev_stats_flush_tlv_v(tag_buf, len, stats_req);\n\t\tbreak;\n\tcase HTT_STATS_TX_PDEV_PHY_ERR_TAG:\n\t\thtt_print_tx_pdev_stats_phy_err_tlv_v(tag_buf, len, stats_req);\n\t\tbreak;\n\tcase HTT_STATS_TX_PDEV_SIFS_HIST_TAG:\n\t\thtt_print_tx_pdev_stats_sifs_hist_tlv_v(tag_buf, len, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_PDEV_TX_PPDU_STATS_TAG:\n\t\thtt_print_tx_pdev_stats_tx_ppdu_stats_tlv_v(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_PDEV_TRIED_MPDU_CNT_HIST_TAG:\n\t\thtt_print_tx_pdev_stats_tried_mpdu_cnt_hist_tlv_v(tag_buf, len,\n\t\t\t\t\t\t\t\t  stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_STRING_TAG:\n\t\thtt_print_stats_string_tlv(tag_buf, len, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_HWQ_CMN_TAG:\n\t\thtt_print_tx_hwq_stats_cmn_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_HWQ_DIFS_LATENCY_TAG:\n\t\thtt_print_tx_hwq_difs_latency_stats_tlv_v(tag_buf, len, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_HWQ_CMD_RESULT_TAG:\n\t\thtt_print_tx_hwq_cmd_result_stats_tlv_v(tag_buf, len, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_HWQ_CMD_STALL_TAG:\n\t\thtt_print_tx_hwq_cmd_stall_stats_tlv_v(tag_buf, len, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_HWQ_FES_STATUS_TAG:\n\t\thtt_print_tx_hwq_fes_result_stats_tlv_v(tag_buf, len, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_HWQ_TRIED_MPDU_CNT_HIST_TAG:\n\t\thtt_print_tx_hwq_tried_mpdu_cnt_hist_tlv_v(tag_buf, len, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_HWQ_TXOP_USED_CNT_HIST_TAG:\n\t\thtt_print_tx_hwq_txop_used_cnt_hist_tlv_v(tag_buf, len, stats_req);\n\t\tbreak;\n\tcase HTT_STATS_TX_TQM_GEN_MPDU_TAG:\n\t\thtt_print_tx_tqm_gen_mpdu_stats_tlv_v(tag_buf, len, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_TQM_LIST_MPDU_TAG:\n\t\thtt_print_tx_tqm_list_mpdu_stats_tlv_v(tag_buf, len, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_TQM_LIST_MPDU_CNT_TAG:\n\t\thtt_print_tx_tqm_list_mpdu_cnt_tlv_v(tag_buf, len, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_TQM_CMN_TAG:\n\t\thtt_print_tx_tqm_cmn_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_TQM_PDEV_TAG:\n\t\thtt_print_tx_tqm_pdev_stats_tlv_v(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_TQM_CMDQ_STATUS_TAG:\n\t\thtt_print_tx_tqm_cmdq_status_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_DE_EAPOL_PACKETS_TAG:\n\t\thtt_print_tx_de_eapol_packets_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_DE_CLASSIFY_FAILED_TAG:\n\t\thtt_print_tx_de_classify_failed_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_DE_CLASSIFY_STATS_TAG:\n\t\thtt_print_tx_de_classify_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_DE_CLASSIFY_STATUS_TAG:\n\t\thtt_print_tx_de_classify_status_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_DE_ENQUEUE_PACKETS_TAG:\n\t\thtt_print_tx_de_enqueue_packets_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_DE_ENQUEUE_DISCARD_TAG:\n\t\thtt_print_tx_de_enqueue_discard_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_DE_FW2WBM_RING_FULL_HIST_TAG:\n\t\thtt_print_tx_de_fw2wbm_ring_full_hist_tlv(tag_buf, len, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_DE_CMN_TAG:\n\t\thtt_print_tx_de_cmn_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_RING_IF_TAG:\n\t\thtt_print_ring_if_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_PDEV_MU_MIMO_STATS_TAG:\n\t\thtt_print_tx_pdev_mu_mimo_sch_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_SFM_CMN_TAG:\n\t\thtt_print_sfm_cmn_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_SRING_STATS_TAG:\n\t\thtt_print_sring_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_RX_PDEV_FW_STATS_TAG:\n\t\thtt_print_rx_pdev_fw_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_RX_PDEV_FW_RING_MPDU_ERR_TAG:\n\t\thtt_print_rx_pdev_fw_ring_mpdu_err_tlv_v(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_RX_PDEV_FW_MPDU_DROP_TAG:\n\t\thtt_print_rx_pdev_fw_mpdu_drop_tlv_v(tag_buf, len, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_RX_SOC_FW_STATS_TAG:\n\t\thtt_print_rx_soc_fw_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_RX_SOC_FW_REFILL_RING_EMPTY_TAG:\n\t\thtt_print_rx_soc_fw_refill_ring_empty_tlv_v(tag_buf, len, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_RX_SOC_FW_REFILL_RING_NUM_REFILL_TAG:\n\t\thtt_print_rx_soc_fw_refill_ring_num_refill_tlv_v(\n\t\t\t\ttag_buf, len, stats_req);\n\t\tbreak;\n\tcase HTT_STATS_RX_REFILL_RXDMA_ERR_TAG:\n\t\thtt_print_rx_soc_fw_refill_ring_num_rxdma_err_tlv_v(\n\t\t\t\ttag_buf, len, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_RX_REFILL_REO_ERR_TAG:\n\t\thtt_print_rx_soc_fw_refill_ring_num_reo_err_tlv_v(\n\t\t\t\ttag_buf, len, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_RX_REO_RESOURCE_STATS_TAG:\n\t\thtt_print_rx_reo_debug_stats_tlv_v(\n\t\t\t\ttag_buf, stats_req);\n\t\tbreak;\n\tcase HTT_STATS_RX_PDEV_FW_STATS_PHY_ERR_TAG:\n\t\thtt_print_rx_pdev_fw_stats_phy_err_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_PDEV_RATE_STATS_TAG:\n\t\thtt_print_tx_pdev_rate_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_RX_PDEV_RATE_STATS_TAG:\n\t\thtt_print_rx_pdev_rate_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_PDEV_SCHEDULER_TXQ_STATS_TAG:\n\t\thtt_print_tx_pdev_stats_sched_per_txq_tlv(tag_buf, stats_req);\n\t\tbreak;\n\tcase HTT_STATS_TX_SCHED_CMN_TAG:\n\t\thtt_print_stats_tx_sched_cmn_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_PDEV_MPDU_STATS_TAG:\n\t\thtt_print_tx_pdev_mu_mimo_mpdu_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_SCHED_TXQ_CMD_POSTED_TAG:\n\t\thtt_print_sched_txq_cmd_posted_tlv_v(tag_buf, len, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_RING_IF_CMN_TAG:\n\t\thtt_print_ring_if_cmn_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_SFM_CLIENT_USER_TAG:\n\t\thtt_print_sfm_client_user_tlv_v(tag_buf, len, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_SFM_CLIENT_TAG:\n\t\thtt_print_sfm_client_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_TQM_ERROR_STATS_TAG:\n\t\thtt_print_tx_tqm_error_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_SCHED_TXQ_CMD_REAPED_TAG:\n\t\thtt_print_sched_txq_cmd_reaped_tlv_v(tag_buf, len, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_SRING_CMN_TAG:\n\t\thtt_print_sring_cmn_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_SOUNDING_STATS_TAG:\n\t\thtt_print_tx_sounding_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_SELFGEN_AC_ERR_STATS_TAG:\n\t\thtt_print_tx_selfgen_ac_err_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_SELFGEN_CMN_STATS_TAG:\n\t\thtt_print_tx_selfgen_cmn_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_SELFGEN_AC_STATS_TAG:\n\t\thtt_print_tx_selfgen_ac_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_SELFGEN_AX_STATS_TAG:\n\t\thtt_print_tx_selfgen_ax_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_SELFGEN_AX_ERR_STATS_TAG:\n\t\thtt_print_tx_selfgen_ax_err_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_HWQ_MUMIMO_SCH_STATS_TAG:\n\t\thtt_print_tx_hwq_mu_mimo_sch_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_HWQ_MUMIMO_MPDU_STATS_TAG:\n\t\thtt_print_tx_hwq_mu_mimo_mpdu_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_HWQ_MUMIMO_CMN_STATS_TAG:\n\t\thtt_print_tx_hwq_mu_mimo_cmn_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_HW_INTR_MISC_TAG:\n\t\thtt_print_hw_stats_intr_misc_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_HW_WD_TIMEOUT_TAG:\n\t\thtt_print_hw_stats_wd_timeout_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_HW_PDEV_ERRS_TAG:\n\t\thtt_print_hw_stats_pdev_errs_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_COUNTER_NAME_TAG:\n\t\thtt_print_counter_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_TID_DETAILS_TAG:\n\t\thtt_print_tx_tid_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_TID_DETAILS_V1_TAG:\n\t\thtt_print_tx_tid_stats_v1_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_RX_TID_DETAILS_TAG:\n\t\thtt_print_rx_tid_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_PEER_STATS_CMN_TAG:\n\t\thtt_print_peer_stats_cmn_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_PEER_DETAILS_TAG:\n\t\thtt_print_peer_details_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_PEER_MSDU_FLOWQ_TAG:\n\t\thtt_print_msdu_flow_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_PEER_TX_RATE_STATS_TAG:\n\t\thtt_print_tx_peer_rate_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_PEER_RX_RATE_STATS_TAG:\n\t\thtt_print_rx_peer_rate_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_TX_DE_COMPL_STATS_TAG:\n\t\thtt_print_tx_de_compl_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_PDEV_CCA_1SEC_HIST_TAG:\n\tcase HTT_STATS_PDEV_CCA_100MSEC_HIST_TAG:\n\tcase HTT_STATS_PDEV_CCA_STAT_CUMULATIVE_TAG:\n\t\thtt_print_pdev_cca_stats_hist_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_PDEV_CCA_COUNTERS_TAG:\n\t\thtt_print_pdev_stats_cca_counters_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_WHAL_TX_TAG:\n\t\thtt_print_hw_stats_whal_tx_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_PDEV_TWT_SESSIONS_TAG:\n\t\thtt_print_pdev_stats_twt_sessions_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_PDEV_TWT_SESSION_TAG:\n\t\thtt_print_pdev_stats_twt_session_tlv(tag_buf, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_SCHED_TXQ_SCHED_ORDER_SU_TAG:\n\t\thtt_print_sched_txq_sched_order_su_tlv_v(tag_buf, len, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_SCHED_TXQ_SCHED_INELIGIBILITY_TAG:\n\t\thtt_print_sched_txq_sched_ineligibility_tlv_v(tag_buf, len, stats_req);\n\t\tbreak;\n\n\tcase HTT_STATS_PDEV_OBSS_PD_TAG:\n\t\thtt_print_pdev_obss_pd_stats_tlv_v(tag_buf, stats_req);\n\t\tbreak;\n\tcase HTT_STATS_RING_BACKPRESSURE_STATS_TAG:\n\t\thtt_print_backpressure_stats_tlv_v(tag_buf, user_data);\n\t\tbreak;\n\tcase HTT_STATS_PDEV_TX_RATE_TXBF_STATS_TAG:\n\t\thtt_print_pdev_tx_rate_txbf_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\tcase HTT_STATS_TXBF_OFDMA_NDPA_STATS_TAG:\n\t\thtt_print_txbf_ofdma_ndpa_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\tcase HTT_STATS_TXBF_OFDMA_NDP_STATS_TAG:\n\t\thtt_print_txbf_ofdma_ndp_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\tcase HTT_STATS_TXBF_OFDMA_BRP_STATS_TAG:\n\t\thtt_print_txbf_ofdma_brp_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\tcase HTT_STATS_TXBF_OFDMA_STEER_STATS_TAG:\n\t\thtt_print_txbf_ofdma_steer_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\tcase HTT_STATS_PHY_COUNTERS_TAG:\n\t\thtt_print_phy_counters_tlv(tag_buf, stats_req);\n\t\tbreak;\n\tcase HTT_STATS_PHY_STATS_TAG:\n\t\thtt_print_phy_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\tcase HTT_STATS_PHY_RESET_COUNTERS_TAG:\n\t\thtt_print_phy_reset_counters_tlv(tag_buf, len, stats_req);\n\t\tbreak;\n\tcase HTT_STATS_PHY_RESET_STATS_TAG:\n\t\thtt_print_phy_reset_stats_tlv(tag_buf, len, stats_req);\n\t\tbreak;\n\tcase HTT_STATS_PEER_CTRL_PATH_TXRX_STATS_TAG:\n\t\thtt_print_peer_ctrl_path_txrx_stats_tlv(tag_buf, stats_req);\n\t\tbreak;\n\tdefault:\n\t\tbreak;\n\t}\n\n\treturn 0;\n}\n\nvoid ath11k_debugfs_htt_ext_stats_handler(struct ath11k_base *ab,\n\t\t\t\t\t  struct sk_buff *skb)\n{\n\tstruct ath11k_htt_extd_stats_msg *msg;\n\tstruct debug_htt_stats_req *stats_req;\n\tstruct ath11k *ar;\n\tu32 len;\n\tu64 cookie;\n\tint ret;\n\tbool send_completion = false;\n\tu8 pdev_id;\n\n\tmsg = (struct ath11k_htt_extd_stats_msg *)skb->data;\n\tcookie = msg->cookie;\n\n\tif (FIELD_GET(HTT_STATS_COOKIE_MSB, cookie) != HTT_STATS_MAGIC_VALUE) {\n\t\tath11k_warn(ab, \"received invalid htt ext stats event\\n\");\n\t\treturn;\n\t}\n\n\tpdev_id = FIELD_GET(HTT_STATS_COOKIE_LSB, cookie);\n\trcu_read_lock();\n\tar = ath11k_mac_get_ar_by_pdev_id(ab, pdev_id);\n\trcu_read_unlock();\n\tif (!ar) {\n\t\tath11k_warn(ab, \"failed to get ar for pdev_id %d\\n\", pdev_id);\n\t\treturn;\n\t}\n\n\tstats_req = ar->debug.htt_stats.stats_req;\n\tif (!stats_req)\n\t\treturn;\n\n\tspin_lock_bh(&ar->debug.htt_stats.lock);\n\n\tstats_req->done = FIELD_GET(HTT_T2H_EXT_STATS_INFO1_DONE, msg->info1);\n\tif (stats_req->done)\n\t\tsend_completion = true;\n\n\tspin_unlock_bh(&ar->debug.htt_stats.lock);\n\n\tlen = FIELD_GET(HTT_T2H_EXT_STATS_INFO1_LENGTH, msg->info1);\n\tret = ath11k_dp_htt_tlv_iter(ab, msg->data, len,\n\t\t\t\t     ath11k_dbg_htt_ext_stats_parse,\n\t\t\t\t     stats_req);\n\tif (ret)\n\t\tath11k_warn(ab, \"Failed to parse tlv %d\\n\", ret);\n\n\tif (send_completion)\n\t\tcomplete(&stats_req->cmpln);\n}\n\nstatic ssize_t ath11k_read_htt_stats_type(struct file *file,\n\t\t\t\t\t  char __user *user_buf,\n\t\t\t\t\t  size_t count, loff_t *ppos)\n{\n\tstruct ath11k *ar = file->private_data;\n\tchar buf[32];\n\tsize_t len;\n\n\tlen = scnprintf(buf, sizeof(buf), \"%u\\n\", ar->debug.htt_stats.type);\n\n\treturn simple_read_from_buffer(user_buf, count, ppos, buf, len);\n}\n\nstatic ssize_t ath11k_write_htt_stats_type(struct file *file,\n\t\t\t\t\t   const char __user *user_buf,\n\t\t\t\t\t   size_t count, loff_t *ppos)\n{\n\tstruct ath11k *ar = file->private_data;\n\tu8 type;\n\tint ret;\n\n\tret = kstrtou8_from_user(user_buf, count, 0, &type);\n\tif (ret)\n\t\treturn ret;\n\n\tif (type >= ATH11K_DBG_HTT_NUM_EXT_STATS)\n\t\treturn -E2BIG;\n\n\tif (type == ATH11K_DBG_HTT_EXT_STATS_RESET)\n\t\treturn -EPERM;\n\n\tar->debug.htt_stats.type = type;\n\n\tret = count;\n\n\treturn ret;\n}\n\nstatic const struct file_operations fops_htt_stats_type = {\n\t.read = ath11k_read_htt_stats_type,\n\t.write = ath11k_write_htt_stats_type,\n\t.open = simple_open,\n\t.owner = THIS_MODULE,\n\t.llseek = default_llseek,\n};\n\nstatic int ath11k_prep_htt_stats_cfg_params(struct ath11k *ar, u8 type,\n\t\t\t\t\t    const u8 *mac_addr,\n\t\t\t\t\t    struct htt_ext_stats_cfg_params *cfg_params)\n{\n\tif (!cfg_params)\n\t\treturn -EINVAL;\n\n\tswitch (type) {\n\tcase ATH11K_DBG_HTT_EXT_STATS_PDEV_TX_HWQ:\n\tcase ATH11K_DBG_HTT_EXT_STATS_TX_MU_HWQ:\n\t\tcfg_params->cfg0 = HTT_STAT_DEFAULT_CFG0_ALL_HWQS;\n\t\tbreak;\n\tcase ATH11K_DBG_HTT_EXT_STATS_PDEV_TX_SCHED:\n\t\tcfg_params->cfg0 = HTT_STAT_DEFAULT_CFG0_ALL_TXQS;\n\t\tbreak;\n\tcase ATH11K_DBG_HTT_EXT_STATS_TQM_CMDQ:\n\t\tcfg_params->cfg0 = HTT_STAT_DEFAULT_CFG0_ALL_CMDQS;\n\t\tbreak;\n\tcase ATH11K_DBG_HTT_EXT_STATS_PEER_INFO:\n\t\tcfg_params->cfg0 = HTT_STAT_PEER_INFO_MAC_ADDR;\n\t\tcfg_params->cfg0 |= FIELD_PREP(GENMASK(15, 1),\n\t\t\t\t\tHTT_PEER_STATS_REQ_MODE_FLUSH_TQM);\n\t\tcfg_params->cfg1 = HTT_STAT_DEFAULT_PEER_REQ_TYPE;\n\t\tcfg_params->cfg2 |= FIELD_PREP(GENMASK(7, 0), mac_addr[0]);\n\t\tcfg_params->cfg2 |= FIELD_PREP(GENMASK(15, 8), mac_addr[1]);\n\t\tcfg_params->cfg2 |= FIELD_PREP(GENMASK(23, 16), mac_addr[2]);\n\t\tcfg_params->cfg2 |= FIELD_PREP(GENMASK(31, 24), mac_addr[3]);\n\t\tcfg_params->cfg3 |= FIELD_PREP(GENMASK(7, 0), mac_addr[4]);\n\t\tcfg_params->cfg3 |= FIELD_PREP(GENMASK(15, 8), mac_addr[5]);\n\t\tbreak;\n\tcase ATH11K_DBG_HTT_EXT_STATS_RING_IF_INFO:\n\tcase ATH11K_DBG_HTT_EXT_STATS_SRNG_INFO:\n\t\tcfg_params->cfg0 = HTT_STAT_DEFAULT_CFG0_ALL_RINGS;\n\t\tbreak;\n\tcase ATH11K_DBG_HTT_EXT_STATS_ACTIVE_PEERS_LIST:\n\t\tcfg_params->cfg0 = HTT_STAT_DEFAULT_CFG0_ACTIVE_PEERS;\n\t\tbreak;\n\tcase ATH11K_DBG_HTT_EXT_STATS_PDEV_CCA_STATS:\n\t\tcfg_params->cfg0 = HTT_STAT_DEFAULT_CFG0_CCA_CUMULATIVE;\n\t\tbreak;\n\tcase ATH11K_DBG_HTT_EXT_STATS_TX_SOUNDING_INFO:\n\t\tcfg_params->cfg0 = HTT_STAT_DEFAULT_CFG0_ACTIVE_VDEVS;\n\t\tbreak;\n\tcase ATH11K_DBG_HTT_EXT_STATS_PEER_CTRL_PATH_TXRX_STATS:\n\t\tcfg_params->cfg0 = HTT_STAT_PEER_INFO_MAC_ADDR;\n\t\tcfg_params->cfg1 |= FIELD_PREP(GENMASK(7, 0), mac_addr[0]);\n\t\tcfg_params->cfg1 |= FIELD_PREP(GENMASK(15, 8), mac_addr[1]);\n\t\tcfg_params->cfg1 |= FIELD_PREP(GENMASK(23, 16), mac_addr[2]);\n\t\tcfg_params->cfg1 |= FIELD_PREP(GENMASK(31, 24), mac_addr[3]);\n\t\tcfg_params->cfg2 |= FIELD_PREP(GENMASK(7, 0), mac_addr[4]);\n\t\tcfg_params->cfg2 |= FIELD_PREP(GENMASK(15, 8), mac_addr[5]);\n\t\tbreak;\n\tdefault:\n\t\tbreak;\n\t}\n\n\treturn 0;\n}\n\nint ath11k_debugfs_htt_stats_req(struct ath11k *ar)\n{\n\tstruct debug_htt_stats_req *stats_req = ar->debug.htt_stats.stats_req;\n\tu8 type = stats_req->type;\n\tu64 cookie = 0;\n\tint ret, pdev_id = ar->pdev->pdev_id;\n\tstruct htt_ext_stats_cfg_params cfg_params = { 0 };\n\n\tinit_completion(&stats_req->cmpln);\n\n\tstats_req->done = false;\n\tstats_req->pdev_id = pdev_id;\n\n\tcookie = FIELD_PREP(HTT_STATS_COOKIE_MSB, HTT_STATS_MAGIC_VALUE) |\n\t\t FIELD_PREP(HTT_STATS_COOKIE_LSB, pdev_id);\n\n\tret = ath11k_prep_htt_stats_cfg_params(ar, type, stats_req->peer_addr,\n\t\t\t\t\t       &cfg_params);\n\tif (ret) {\n\t\tath11k_warn(ar->ab, \"failed to set htt stats cfg params: %d\\n\", ret);\n\t\treturn ret;\n\t}\n\n\tret = ath11k_dp_tx_htt_h2t_ext_stats_req(ar, type, &cfg_params, cookie);\n\tif (ret) {\n\t\tath11k_warn(ar->ab, \"failed to send htt stats request: %d\\n\", ret);\n\t\treturn ret;\n\t}\n\n\twhile (!wait_for_completion_timeout(&stats_req->cmpln, 3 * HZ)) {\n\t\tspin_lock_bh(&ar->debug.htt_stats.lock);\n\t\tif (!stats_req->done) {\n\t\t\tstats_req->done = true;\n\t\t\tspin_unlock_bh(&ar->debug.htt_stats.lock);\n\t\t\tath11k_warn(ar->ab, \"stats request timed out\\n\");\n\t\t\treturn -ETIMEDOUT;\n\t\t}\n\t\tspin_unlock_bh(&ar->debug.htt_stats.lock);\n\t}\n\n\treturn 0;\n}\n\nstatic int ath11k_open_htt_stats(struct inode *inode, struct file *file)\n{\n\tstruct ath11k *ar = inode->i_private;\n\tstruct debug_htt_stats_req *stats_req;\n\tu8 type = ar->debug.htt_stats.type;\n\tint ret;\n\n\tif (type == ATH11K_DBG_HTT_EXT_STATS_RESET ||\n\t    type == ATH11K_DBG_HTT_EXT_STATS_PEER_INFO ||\n\t    type == ATH11K_DBG_HTT_EXT_STATS_PEER_CTRL_PATH_TXRX_STATS)\n\t\treturn -EPERM;\n\n\tmutex_lock(&ar->conf_mutex);\n\n\tif (ar->state != ATH11K_STATE_ON) {\n\t\tret = -ENETDOWN;\n\t\tgoto err_unlock;\n\t}\n\n\tif (ar->debug.htt_stats.stats_req) {\n\t\tret = -EAGAIN;\n\t\tgoto err_unlock;\n\t}\n\n\tstats_req = vzalloc(sizeof(*stats_req) + ATH11K_HTT_STATS_BUF_SIZE);\n\tif (!stats_req) {\n\t\tret = -ENOMEM;\n\t\tgoto err_unlock;\n\t}\n\n\tar->debug.htt_stats.stats_req = stats_req;\n\tstats_req->type = type;\n\n\tret = ath11k_debugfs_htt_stats_req(ar);\n\tif (ret < 0)\n\t\tgoto out;\n\n\tfile->private_data = stats_req;\n\n\tmutex_unlock(&ar->conf_mutex);\n\n\treturn 0;\nout:\n\tvfree(stats_req);\n\tar->debug.htt_stats.stats_req = NULL;\nerr_unlock:\n\tmutex_unlock(&ar->conf_mutex);\n\n\treturn ret;\n}\n\nstatic int ath11k_release_htt_stats(struct inode *inode, struct file *file)\n{\n\tstruct ath11k *ar = inode->i_private;\n\n\tmutex_lock(&ar->conf_mutex);\n\tvfree(file->private_data);\n\tar->debug.htt_stats.stats_req = NULL;\n\tmutex_unlock(&ar->conf_mutex);\n\n\treturn 0;\n}\n\nstatic ssize_t ath11k_read_htt_stats(struct file *file,\n\t\t\t\t     char __user *user_buf,\n\t\t\t\t     size_t count, loff_t *ppos)\n{\n\tstruct debug_htt_stats_req *stats_req = file->private_data;\n\tchar *buf;\n\tu32 length = 0;\n\n\tbuf = stats_req->buf;\n\tlength = min_t(u32, stats_req->buf_len, ATH11K_HTT_STATS_BUF_SIZE);\n\treturn simple_read_from_buffer(user_buf, count, ppos, buf, length);\n}\n\nstatic const struct file_operations fops_dump_htt_stats = {\n\t.open = ath11k_open_htt_stats,\n\t.release = ath11k_release_htt_stats,\n\t.read = ath11k_read_htt_stats,\n\t.owner = THIS_MODULE,\n\t.llseek = default_llseek,\n};\n\nstatic ssize_t ath11k_read_htt_stats_reset(struct file *file,\n\t\t\t\t\t   char __user *user_buf,\n\t\t\t\t\t   size_t count, loff_t *ppos)\n{\n\tstruct ath11k *ar = file->private_data;\n\tchar buf[32];\n\tsize_t len;\n\n\tlen = scnprintf(buf, sizeof(buf), \"%u\\n\", ar->debug.htt_stats.reset);\n\n\treturn simple_read_from_buffer(user_buf, count, ppos, buf, len);\n}\n\nstatic ssize_t ath11k_write_htt_stats_reset(struct file *file,\n\t\t\t\t\t    const char __user *user_buf,\n\t\t\t\t\t    size_t count, loff_t *ppos)\n{\n\tstruct ath11k *ar = file->private_data;\n\tu8 type;\n\tstruct htt_ext_stats_cfg_params cfg_params = { 0 };\n\tint ret;\n\n\tret = kstrtou8_from_user(user_buf, count, 0, &type);\n\tif (ret)\n\t\treturn ret;\n\n\tif (type >= ATH11K_DBG_HTT_NUM_EXT_STATS ||\n\t    type == ATH11K_DBG_HTT_EXT_STATS_RESET)\n\t\treturn -E2BIG;\n\n\tmutex_lock(&ar->conf_mutex);\n\tcfg_params.cfg0 = HTT_STAT_DEFAULT_RESET_START_OFFSET;\n\tcfg_params.cfg1 = 1 << (cfg_params.cfg0 + type);\n\tret = ath11k_dp_tx_htt_h2t_ext_stats_req(ar,\n\t\t\t\t\t\t ATH11K_DBG_HTT_EXT_STATS_RESET,\n\t\t\t\t\t\t &cfg_params,\n\t\t\t\t\t\t 0ULL);\n\tif (ret) {\n\t\tath11k_warn(ar->ab, \"failed to send htt stats request: %d\\n\", ret);\n\t\tmutex_unlock(&ar->conf_mutex);\n\t\treturn ret;\n\t}\n\n\tar->debug.htt_stats.reset = type;\n\tmutex_unlock(&ar->conf_mutex);\n\n\tret = count;\n\n\treturn ret;\n}\n\nstatic const struct file_operations fops_htt_stats_reset = {\n\t.read = ath11k_read_htt_stats_reset,\n\t.write = ath11k_write_htt_stats_reset,\n\t.open = simple_open,\n\t.owner = THIS_MODULE,\n\t.llseek = default_llseek,\n};\n\nvoid ath11k_debugfs_htt_stats_init(struct ath11k *ar)\n{\n\tspin_lock_init(&ar->debug.htt_stats.lock);\n\tdebugfs_create_file(\"htt_stats_type\", 0600, ar->debug.debugfs_pdev,\n\t\t\t    ar, &fops_htt_stats_type);\n\tdebugfs_create_file(\"htt_stats\", 0400, ar->debug.debugfs_pdev,\n\t\t\t    ar, &fops_dump_htt_stats);\n\tdebugfs_create_file(\"htt_stats_reset\", 0600, ar->debug.debugfs_pdev,\n\t\t\t    ar, &fops_htt_stats_reset);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}