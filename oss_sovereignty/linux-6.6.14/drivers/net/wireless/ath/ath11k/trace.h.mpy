{
  "module_name": "trace.h",
  "hash_id": "89ef46dc96aeea29192a77babeea428f7abce3d4cd357fe96efdaf7ebda88736",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/ath11k/trace.h",
  "human_readable_source": " \n \n\n#if !defined(_TRACE_H_) || defined(TRACE_HEADER_MULTI_READ)\n\n#include <linux/tracepoint.h>\n#include \"core.h\"\n\n#define _TRACE_H_\n\n \n#if !defined(CONFIG_ATH11K_TRACING)\n#undef TRACE_EVENT\n#define TRACE_EVENT(name, proto, ...) \\\nstatic inline void trace_ ## name(proto) {} \\\nstatic inline bool trace_##name##_enabled(void) \\\n{\t\t\t\t\t\t\\\n\treturn false;\t\t\t\t\\\n}\n\n#undef DECLARE_EVENT_CLASS\n#define DECLARE_EVENT_CLASS(...)\n#undef DEFINE_EVENT\n#define DEFINE_EVENT(evt_class, name, proto, ...) \\\nstatic inline void trace_ ## name(proto) {}\n#endif  \n\n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM ath11k\n\n#define ATH11K_MSG_MAX 400\n\nTRACE_EVENT(ath11k_htt_pktlog,\n\t    TP_PROTO(struct ath11k *ar, const void *buf, u16 buf_len,\n\t\t     u32 pktlog_checksum),\n\n\tTP_ARGS(ar, buf, buf_len, pktlog_checksum),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ar->ab->dev))\n\t\t__string(driver, dev_driver_string(ar->ab->dev))\n\t\t__field(u16, buf_len)\n\t\t__field(u32, pktlog_checksum)\n\t\t__dynamic_array(u8, pktlog, buf_len)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ar->ab->dev));\n\t\t__assign_str(driver, dev_driver_string(ar->ab->dev));\n\t\t__entry->buf_len = buf_len;\n\t\t__entry->pktlog_checksum = pktlog_checksum;\n\t\tmemcpy(__get_dynamic_array(pktlog), buf, buf_len);\n\t),\n\n\tTP_printk(\n\t\t\"%s %s size %u pktlog_checksum %d\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__entry->buf_len,\n\t\t__entry->pktlog_checksum\n\t )\n);\n\nTRACE_EVENT(ath11k_htt_ppdu_stats,\n\t    TP_PROTO(struct ath11k *ar, const void *data, size_t len),\n\n\tTP_ARGS(ar, data, len),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ar->ab->dev))\n\t\t__string(driver, dev_driver_string(ar->ab->dev))\n\t\t__field(u16, len)\n\t\t__dynamic_array(u8, ppdu, len)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ar->ab->dev));\n\t\t__assign_str(driver, dev_driver_string(ar->ab->dev));\n\t\t__entry->len = len;\n\t\tmemcpy(__get_dynamic_array(ppdu), data, len);\n\t),\n\n\tTP_printk(\n\t\t\"%s %s ppdu len %d\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__entry->len\n\t )\n);\n\nTRACE_EVENT(ath11k_htt_rxdesc,\n\t    TP_PROTO(struct ath11k *ar, const void *data, size_t log_type, size_t len),\n\n\tTP_ARGS(ar, data, log_type, len),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ar->ab->dev))\n\t\t__string(driver, dev_driver_string(ar->ab->dev))\n\t\t__field(u16, len)\n\t\t__field(u16, log_type)\n\t\t__dynamic_array(u8, rxdesc, len)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ar->ab->dev));\n\t\t__assign_str(driver, dev_driver_string(ar->ab->dev));\n\t\t__entry->len = len;\n\t\t__entry->log_type = log_type;\n\t\tmemcpy(__get_dynamic_array(rxdesc), data, len);\n\t),\n\n\tTP_printk(\n\t\t\"%s %s rxdesc len %d type %d\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__entry->len,\n\t\t__entry->log_type\n\t )\n);\n\nDECLARE_EVENT_CLASS(ath11k_log_event,\n\t\t    TP_PROTO(struct ath11k_base *ab, struct va_format *vaf),\n\tTP_ARGS(ab, vaf),\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ab->dev))\n\t\t__string(driver, dev_driver_string(ab->dev))\n\t\t__vstring(msg, vaf->fmt, vaf->va)\n\t),\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ab->dev));\n\t\t__assign_str(driver, dev_driver_string(ab->dev));\n\t\t__assign_vstr(msg, vaf->fmt, vaf->va);\n\t),\n\tTP_printk(\n\t\t\"%s %s %s\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__get_str(msg)\n\t)\n);\n\nDEFINE_EVENT(ath11k_log_event, ath11k_log_err,\n\t     TP_PROTO(struct ath11k_base *ab, struct va_format *vaf),\n\t     TP_ARGS(ab, vaf)\n);\n\nDEFINE_EVENT(ath11k_log_event, ath11k_log_warn,\n\t     TP_PROTO(struct ath11k_base *ab, struct va_format *vaf),\n\t     TP_ARGS(ab, vaf)\n);\n\nDEFINE_EVENT(ath11k_log_event, ath11k_log_info,\n\t     TP_PROTO(struct ath11k_base *ab, struct va_format *vaf),\n\t     TP_ARGS(ab, vaf)\n);\n\nTRACE_EVENT(ath11k_wmi_cmd,\n\t    TP_PROTO(struct ath11k_base *ab, int id, const void *buf, size_t buf_len),\n\n\tTP_ARGS(ab, id, buf, buf_len),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ab->dev))\n\t\t__string(driver, dev_driver_string(ab->dev))\n\t\t__field(unsigned int, id)\n\t\t__field(size_t, buf_len)\n\t\t__dynamic_array(u8, buf, buf_len)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ab->dev));\n\t\t__assign_str(driver, dev_driver_string(ab->dev));\n\t\t__entry->id = id;\n\t\t__entry->buf_len = buf_len;\n\t\tmemcpy(__get_dynamic_array(buf), buf, buf_len);\n\t),\n\n\tTP_printk(\n\t\t\"%s %s id %d len %zu\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__entry->id,\n\t\t__entry->buf_len\n\t )\n);\n\nTRACE_EVENT(ath11k_wmi_event,\n\t    TP_PROTO(struct ath11k_base *ab, int id, const void *buf, size_t buf_len),\n\n\tTP_ARGS(ab, id, buf, buf_len),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ab->dev))\n\t\t__string(driver, dev_driver_string(ab->dev))\n\t\t__field(unsigned int, id)\n\t\t__field(size_t, buf_len)\n\t\t__dynamic_array(u8, buf, buf_len)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ab->dev));\n\t\t__assign_str(driver, dev_driver_string(ab->dev));\n\t\t__entry->id = id;\n\t\t__entry->buf_len = buf_len;\n\t\tmemcpy(__get_dynamic_array(buf), buf, buf_len);\n\t),\n\n\tTP_printk(\n\t\t\"%s %s id %d len %zu\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__entry->id,\n\t\t__entry->buf_len\n\t)\n);\n\nTRACE_EVENT(ath11k_log_dbg,\n\t    TP_PROTO(struct ath11k_base *ab, unsigned int level, struct va_format *vaf),\n\n\tTP_ARGS(ab, level, vaf),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ab->dev))\n\t\t__string(driver, dev_driver_string(ab->dev))\n\t\t__field(unsigned int, level)\n\t\t__dynamic_array(char, msg, ATH11K_MSG_MAX)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ab->dev));\n\t\t__assign_str(driver, dev_driver_string(ab->dev));\n\t\t__entry->level = level;\n\t\tWARN_ON_ONCE(vsnprintf(__get_dynamic_array(msg),\n\t\t\t\t       ATH11K_MSG_MAX, vaf->fmt,\n\t\t\t\t       *vaf->va) >= ATH11K_MSG_MAX);\n\t),\n\n\tTP_printk(\n\t\t\"%s %s %s\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__get_str(msg)\n\t)\n);\n\nTRACE_EVENT(ath11k_log_dbg_dump,\n\t    TP_PROTO(struct ath11k_base *ab, const char *msg, const char *prefix,\n\t\t     const void *buf, size_t buf_len),\n\n\tTP_ARGS(ab, msg, prefix, buf, buf_len),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ab->dev))\n\t\t__string(driver, dev_driver_string(ab->dev))\n\t\t__string(msg, msg)\n\t\t__string(prefix, prefix)\n\t\t__field(size_t, buf_len)\n\t\t__dynamic_array(u8, buf, buf_len)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ab->dev));\n\t\t__assign_str(driver, dev_driver_string(ab->dev));\n\t\t__assign_str(msg, msg);\n\t\t__assign_str(prefix, prefix);\n\t\t__entry->buf_len = buf_len;\n\t\tmemcpy(__get_dynamic_array(buf), buf, buf_len);\n\t),\n\n\tTP_printk(\n\t\t\"%s %s %s/%s\\n\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__get_str(prefix),\n\t\t__get_str(msg)\n\t)\n);\n\nTRACE_EVENT(ath11k_wmi_diag,\n\t    TP_PROTO(struct ath11k_base *ab, const void *data, size_t len),\n\n\tTP_ARGS(ab, data, len),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ab->dev))\n\t\t__string(driver, dev_driver_string(ab->dev))\n\t\t__field(u16, len)\n\t\t__dynamic_array(u8, data, len)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ab->dev));\n\t\t__assign_str(driver, dev_driver_string(ab->dev));\n\t\t__entry->len = len;\n\t\tmemcpy(__get_dynamic_array(data), data, len);\n\t),\n\n\tTP_printk(\n\t\t\"%s %s tlv diag len %d\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__entry->len\n\t)\n);\n\nTRACE_EVENT(ath11k_ps_timekeeper,\n\t    TP_PROTO(struct ath11k *ar, const void *peer_addr,\n\t\t     u32 peer_ps_timestamp, u8 peer_ps_state),\n\tTP_ARGS(ar, peer_addr, peer_ps_timestamp, peer_ps_state),\n\n\tTP_STRUCT__entry(__string(device, dev_name(ar->ab->dev))\n\t\t\t __string(driver, dev_driver_string(ar->ab->dev))\n\t\t\t __dynamic_array(u8, peer_addr, ETH_ALEN)\n\t\t\t __field(u8, peer_ps_state)\n\t\t\t __field(u32, peer_ps_timestamp)\n\t),\n\n\tTP_fast_assign(__assign_str(device, dev_name(ar->ab->dev));\n\t\t       __assign_str(driver, dev_driver_string(ar->ab->dev));\n\t\t       memcpy(__get_dynamic_array(peer_addr), peer_addr,\n\t\t\t      ETH_ALEN);\n\t\t       __entry->peer_ps_state = peer_ps_state;\n\t\t       __entry->peer_ps_timestamp = peer_ps_timestamp;\n\t),\n\n\tTP_printk(\"%s %s %u %u\",\n\t\t  __get_str(driver),\n\t\t  __get_str(device),\n\t\t  __entry->peer_ps_state,\n\t\t  __entry->peer_ps_timestamp\n\t)\n);\n\n#endif  \n\n \n#undef TRACE_INCLUDE_PATH\n#define TRACE_INCLUDE_PATH .\n#undef TRACE_INCLUDE_FILE\n#define TRACE_INCLUDE_FILE trace\n\n \n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}