{
  "module_name": "mac.h",
  "hash_id": "409df2516671e6d4434eeae142956d5e2213ac7f12b055bf14b2cf2d518317b0",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/ath11k/mac.h",
  "human_readable_source": " \n \n\n#ifndef ATH11K_MAC_H\n#define ATH11K_MAC_H\n\n#include <net/mac80211.h>\n#include <net/cfg80211.h>\n#include \"wmi.h\"\n\nstruct ath11k;\nstruct ath11k_base;\n\nstruct ath11k_generic_iter {\n\tstruct ath11k *ar;\n\tint ret;\n};\n\n \n#define ATH11K_KICKOUT_THRESHOLD\t\t(20 * 16)\n\n \n#define ATH11K_KEEPALIVE_MIN_IDLE\t\t3747\n#define ATH11K_KEEPALIVE_MAX_IDLE\t\t3895\n#define ATH11K_KEEPALIVE_MAX_UNRESPONSIVE\t3900\n\n#define WMI_HOST_RC_DS_FLAG\t\t\t0x01\n#define WMI_HOST_RC_CW40_FLAG\t\t\t0x02\n#define WMI_HOST_RC_SGI_FLAG\t\t\t0x04\n#define WMI_HOST_RC_HT_FLAG\t\t\t0x08\n#define WMI_HOST_RC_RTSCTS_FLAG\t\t\t0x10\n#define WMI_HOST_RC_TX_STBC_FLAG\t\t0x20\n#define WMI_HOST_RC_RX_STBC_FLAG\t\t0xC0\n#define WMI_HOST_RC_RX_STBC_FLAG_S\t\t6\n#define WMI_HOST_RC_WEP_TKIP_FLAG\t\t0x100\n#define WMI_HOST_RC_TS_FLAG\t\t\t0x200\n#define WMI_HOST_RC_UAPSD_FLAG\t\t\t0x400\n\n#define WMI_HT_CAP_ENABLED\t\t\t0x0001\n#define WMI_HT_CAP_HT20_SGI\t\t\t0x0002\n#define WMI_HT_CAP_DYNAMIC_SMPS\t\t\t0x0004\n#define WMI_HT_CAP_TX_STBC\t\t\t0x0008\n#define WMI_HT_CAP_TX_STBC_MASK_SHIFT\t\t3\n#define WMI_HT_CAP_RX_STBC\t\t\t0x0030\n#define WMI_HT_CAP_RX_STBC_MASK_SHIFT\t\t4\n#define WMI_HT_CAP_LDPC\t\t\t\t0x0040\n#define WMI_HT_CAP_L_SIG_TXOP_PROT\t\t0x0080\n#define WMI_HT_CAP_MPDU_DENSITY\t\t\t0x0700\n#define WMI_HT_CAP_MPDU_DENSITY_MASK_SHIFT\t8\n#define WMI_HT_CAP_HT40_SGI\t\t\t0x0800\n#define WMI_HT_CAP_RX_LDPC\t\t\t0x1000\n#define WMI_HT_CAP_TX_LDPC\t\t\t0x2000\n#define WMI_HT_CAP_IBF_BFER\t\t\t0x4000\n\n \n#define WMI_HT_CAP_RX_STBC_1SS\t\t\t0x0010\n#define WMI_HT_CAP_RX_STBC_2SS\t\t\t0x0020\n#define WMI_HT_CAP_RX_STBC_3SS\t\t\t0x0030\n\n#define WMI_HT_CAP_DEFAULT_ALL (WMI_HT_CAP_ENABLED    | \\\n\t\t\t\tWMI_HT_CAP_HT20_SGI   | \\\n\t\t\t\tWMI_HT_CAP_HT40_SGI   | \\\n\t\t\t\tWMI_HT_CAP_TX_STBC    | \\\n\t\t\t\tWMI_HT_CAP_RX_STBC    | \\\n\t\t\t\tWMI_HT_CAP_LDPC)\n\n#define WMI_VHT_CAP_MAX_MPDU_LEN_MASK\t\t0x00000003\n#define WMI_VHT_CAP_RX_LDPC\t\t\t0x00000010\n#define WMI_VHT_CAP_SGI_80MHZ\t\t\t0x00000020\n#define WMI_VHT_CAP_SGI_160MHZ\t\t\t0x00000040\n#define WMI_VHT_CAP_TX_STBC\t\t\t0x00000080\n#define WMI_VHT_CAP_RX_STBC_MASK\t\t0x00000300\n#define WMI_VHT_CAP_RX_STBC_MASK_SHIFT\t\t8\n#define WMI_VHT_CAP_SU_BFER\t\t\t0x00000800\n#define WMI_VHT_CAP_SU_BFEE\t\t\t0x00001000\n#define WMI_VHT_CAP_MAX_CS_ANT_MASK\t\t0x0000E000\n#define WMI_VHT_CAP_MAX_CS_ANT_MASK_SHIFT\t13\n#define WMI_VHT_CAP_MAX_SND_DIM_MASK\t\t0x00070000\n#define WMI_VHT_CAP_MAX_SND_DIM_MASK_SHIFT\t16\n#define WMI_VHT_CAP_MU_BFER\t\t\t0x00080000\n#define WMI_VHT_CAP_MU_BFEE\t\t\t0x00100000\n#define WMI_VHT_CAP_MAX_AMPDU_LEN_EXP\t\t0x03800000\n#define WMI_VHT_CAP_MAX_AMPDU_LEN_EXP_SHIT\t23\n#define WMI_VHT_CAP_RX_FIXED_ANT\t\t0x10000000\n#define WMI_VHT_CAP_TX_FIXED_ANT\t\t0x20000000\n\n#define WMI_VHT_CAP_MAX_MPDU_LEN_11454\t\t0x00000002\n\n \n#define WMI_VHT_CAP_RX_STBC_1SS\t\t\t0x00000100\n#define WMI_VHT_CAP_RX_STBC_2SS\t\t\t0x00000200\n#define WMI_VHT_CAP_RX_STBC_3SS\t\t\t0x00000300\n\n#define WMI_VHT_CAP_DEFAULT_ALL (WMI_VHT_CAP_MAX_MPDU_LEN_11454  | \\\n\t\t\t\t WMI_VHT_CAP_SGI_80MHZ      |       \\\n\t\t\t\t WMI_VHT_CAP_TX_STBC        |       \\\n\t\t\t\t WMI_VHT_CAP_RX_STBC_MASK   |       \\\n\t\t\t\t WMI_VHT_CAP_RX_LDPC        |       \\\n\t\t\t\t WMI_VHT_CAP_MAX_AMPDU_LEN_EXP   |  \\\n\t\t\t\t WMI_VHT_CAP_RX_FIXED_ANT   |       \\\n\t\t\t\t WMI_VHT_CAP_TX_FIXED_ANT)\n\n \n#define IEEE80211_VHT_MCS_SUPPORT_0_11_MASK\tGENMASK(23, 16)\n#define IEEE80211_DISABLE_VHT_MCS_SUPPORT_0_11\tBIT(24)\n\n#define WMI_MAX_SPATIAL_STREAM\t\t\t3\n\n#define ATH11K_CHAN_WIDTH_NUM\t\t\t8\n#define ATH11K_BW_NSS_MAP_ENABLE\t\tBIT(31)\n#define ATH11K_PEER_RX_NSS_160MHZ\t\tGENMASK(2, 0)\n#define ATH11K_PEER_RX_NSS_80_80MHZ\t\tGENMASK(5, 3)\n\n#define ATH11K_OBSS_PD_MAX_THRESHOLD\t\t\t-82\n#define ATH11K_OBSS_PD_NON_SRG_MAX_THRESHOLD\t\t-62\n#define ATH11K_OBSS_PD_THRESHOLD_IN_DBM\t\t\tBIT(29)\n#define ATH11K_OBSS_PD_SRG_EN\t\t\t\tBIT(30)\n#define ATH11K_OBSS_PD_NON_SRG_EN\t\t\tBIT(31)\n\nextern const struct htt_rx_ring_tlv_filter ath11k_mac_mon_status_filter_default;\n\n#define ATH11K_SCAN_11D_INTERVAL\t\t600000\n#define ATH11K_11D_INVALID_VDEV_ID\t\t0xFFFF\n\nvoid ath11k_mac_11d_scan_start(struct ath11k *ar, u32 vdev_id);\nvoid ath11k_mac_11d_scan_stop(struct ath11k *ar);\nvoid ath11k_mac_11d_scan_stop_all(struct ath11k_base *ab);\n\nvoid ath11k_mac_destroy(struct ath11k_base *ab);\nvoid ath11k_mac_unregister(struct ath11k_base *ab);\nint ath11k_mac_register(struct ath11k_base *ab);\nint ath11k_mac_allocate(struct ath11k_base *ab);\nint ath11k_mac_hw_ratecode_to_legacy_rate(u8 hw_rc, u8 preamble, u8 *rateidx,\n\t\t\t\t\t  u16 *rate);\nu8 ath11k_mac_bitrate_to_idx(const struct ieee80211_supported_band *sband,\n\t\t\t     u32 bitrate);\nu8 ath11k_mac_hw_rate_to_idx(const struct ieee80211_supported_band *sband,\n\t\t\t     u8 hw_rate, bool cck);\n\nvoid __ath11k_mac_scan_finish(struct ath11k *ar);\nvoid ath11k_mac_scan_finish(struct ath11k *ar);\n\nstruct ath11k_vif *ath11k_mac_get_arvif(struct ath11k *ar, u32 vdev_id);\nstruct ath11k_vif *ath11k_mac_get_arvif_by_vdev_id(struct ath11k_base *ab,\n\t\t\t\t\t\t   u32 vdev_id);\nu8 ath11k_mac_get_target_pdev_id(struct ath11k *ar);\nu8 ath11k_mac_get_target_pdev_id_from_vif(struct ath11k_vif *arvif);\nstruct ath11k_vif *ath11k_mac_get_vif_up(struct ath11k_base *ab);\n\nstruct ath11k *ath11k_mac_get_ar_by_vdev_id(struct ath11k_base *ab, u32 vdev_id);\nstruct ath11k *ath11k_mac_get_ar_by_pdev_id(struct ath11k_base *ab, u32 pdev_id);\n\nvoid ath11k_mac_drain_tx(struct ath11k *ar);\nvoid ath11k_mac_peer_cleanup_all(struct ath11k *ar);\nint ath11k_mac_tx_mgmt_pending_free(int buf_id, void *skb, void *ctx);\nu8 ath11k_mac_bw_to_mac80211_bw(u8 bw);\nenum nl80211_he_gi ath11k_mac_he_gi_to_nl80211_he_gi(u8 sgi);\nenum nl80211_he_ru_alloc ath11k_mac_phy_he_ru_to_nl80211_he_ru_alloc(u16 ru_phy);\nenum nl80211_he_ru_alloc ath11k_mac_he_ru_tones_to_nl80211_he_ru_alloc(u16 ru_tones);\nenum ath11k_supported_bw ath11k_mac_mac80211_bw_to_ath11k_bw(enum rate_info_bw bw);\nenum hal_encrypt_type ath11k_dp_tx_get_encrypt_type(u32 cipher);\nvoid ath11k_mac_handle_beacon(struct ath11k *ar, struct sk_buff *skb);\nvoid ath11k_mac_handle_beacon_miss(struct ath11k *ar, u32 vdev_id);\nvoid ath11k_mac_bcn_tx_event(struct ath11k_vif *arvif);\nint ath11k_mac_wait_tx_complete(struct ath11k *ar);\nint ath11k_mac_vif_set_keepalive(struct ath11k_vif *arvif,\n\t\t\t\t enum wmi_sta_keepalive_method method,\n\t\t\t\t u32 interval);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}