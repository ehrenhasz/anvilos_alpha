{
  "module_name": "debugfs.h",
  "hash_id": "d511293054a8059a1ee9db980c4f08f7745e8f0aca683909837f0b188264d3db",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/ath11k/debugfs.h",
  "human_readable_source": " \n \n\n#ifndef _ATH11K_DEBUGFS_H_\n#define _ATH11K_DEBUGFS_H_\n\n#include \"hal_tx.h\"\n\n#define ATH11K_TX_POWER_MAX_VAL\t70\n#define ATH11K_TX_POWER_MIN_VAL\t0\n\n \nenum ath11k_dbg_htt_ext_stats_type {\n\tATH11K_DBG_HTT_EXT_STATS_RESET                      =  0,\n\tATH11K_DBG_HTT_EXT_STATS_PDEV_TX                    =  1,\n\tATH11K_DBG_HTT_EXT_STATS_PDEV_RX                    =  2,\n\tATH11K_DBG_HTT_EXT_STATS_PDEV_TX_HWQ                =  3,\n\tATH11K_DBG_HTT_EXT_STATS_PDEV_TX_SCHED              =  4,\n\tATH11K_DBG_HTT_EXT_STATS_PDEV_ERROR                 =  5,\n\tATH11K_DBG_HTT_EXT_STATS_PDEV_TQM                   =  6,\n\tATH11K_DBG_HTT_EXT_STATS_TQM_CMDQ                   =  7,\n\tATH11K_DBG_HTT_EXT_STATS_TX_DE_INFO                 =  8,\n\tATH11K_DBG_HTT_EXT_STATS_PDEV_TX_RATE               =  9,\n\tATH11K_DBG_HTT_EXT_STATS_PDEV_RX_RATE               =  10,\n\tATH11K_DBG_HTT_EXT_STATS_PEER_INFO                  =  11,\n\tATH11K_DBG_HTT_EXT_STATS_TX_SELFGEN_INFO            =  12,\n\tATH11K_DBG_HTT_EXT_STATS_TX_MU_HWQ                  =  13,\n\tATH11K_DBG_HTT_EXT_STATS_RING_IF_INFO               =  14,\n\tATH11K_DBG_HTT_EXT_STATS_SRNG_INFO                  =  15,\n\tATH11K_DBG_HTT_EXT_STATS_SFM_INFO                   =  16,\n\tATH11K_DBG_HTT_EXT_STATS_PDEV_TX_MU                 =  17,\n\tATH11K_DBG_HTT_EXT_STATS_ACTIVE_PEERS_LIST          =  18,\n\tATH11K_DBG_HTT_EXT_STATS_PDEV_CCA_STATS             =  19,\n\tATH11K_DBG_HTT_EXT_STATS_TWT_SESSIONS               =  20,\n\tATH11K_DBG_HTT_EXT_STATS_REO_RESOURCE_STATS         =  21,\n\tATH11K_DBG_HTT_EXT_STATS_TX_SOUNDING_INFO           =  22,\n\tATH11K_DBG_HTT_EXT_STATS_PDEV_OBSS_PD_STATS\t    =  23,\n\tATH11K_DBG_HTT_EXT_STATS_RING_BACKPRESSURE_STATS    =  24,\n\tATH11K_DBG_HTT_EXT_STATS_PEER_CTRL_PATH_TXRX_STATS  =  29,\n\tATH11K_DBG_HTT_EXT_STATS_PDEV_TX_RATE_TXBF_STATS    =  31,\n\tATH11K_DBG_HTT_EXT_STATS_TXBF_OFDMA\t\t    =  32,\n\tATH11K_DBG_HTT_EXT_PHY_COUNTERS_AND_PHY_STATS\t    =  37,\n\n\t \n\tATH11K_DBG_HTT_NUM_EXT_STATS,\n};\n\n#define ATH11K_DEBUG_DBR_ENTRIES_MAX 512\n\nenum ath11k_dbg_dbr_event {\n\tATH11K_DBG_DBR_EVENT_INVALID,\n\tATH11K_DBG_DBR_EVENT_RX,\n\tATH11K_DBG_DBR_EVENT_REPLENISH,\n\tATH11K_DBG_DBR_EVENT_MAX,\n};\n\nstruct ath11k_dbg_dbr_entry {\n\tu32 hp;\n\tu32 tp;\n\tu64 timestamp;\n\tenum ath11k_dbg_dbr_event event;\n};\n\nstruct ath11k_dbg_dbr_data {\n\t \n\tspinlock_t lock;\n\tstruct ath11k_dbg_dbr_entry *entries;\n\tu32 dbr_debug_idx;\n\tu32 num_ring_debug_entries;\n};\n\nstruct ath11k_debug_dbr {\n\tstruct ath11k_dbg_dbr_data dbr_dbg_data;\n\tstruct dentry *dbr_debugfs;\n\tbool dbr_debug_enabled;\n};\n\nstruct debug_htt_stats_req {\n\tbool done;\n\tu8 pdev_id;\n\tu8 type;\n\tu8 peer_addr[ETH_ALEN];\n\tstruct completion cmpln;\n\tu32 buf_len;\n\tu8 buf[];\n};\n\nstruct ath_pktlog_hdr {\n\tu16 flags;\n\tu16 missed_cnt;\n\tu16 log_type;\n\tu16 size;\n\tu32 timestamp;\n\tu32 type_specific_data;\n\tu8 payload[];\n};\n\n#define ATH11K_HTT_PEER_STATS_RESET BIT(16)\n\n#define ATH11K_HTT_STATS_BUF_SIZE (1024 * 512)\n#define ATH11K_FW_STATS_BUF_SIZE (1024 * 1024)\n\nenum ath11k_pktlog_filter {\n\tATH11K_PKTLOG_RX\t\t= 0x000000001,\n\tATH11K_PKTLOG_TX\t\t= 0x000000002,\n\tATH11K_PKTLOG_RCFIND\t\t= 0x000000004,\n\tATH11K_PKTLOG_RCUPDATE\t\t= 0x000000008,\n\tATH11K_PKTLOG_EVENT_SMART_ANT\t= 0x000000020,\n\tATH11K_PKTLOG_EVENT_SW\t\t= 0x000000040,\n\tATH11K_PKTLOG_ANY\t\t= 0x00000006f,\n};\n\nenum ath11k_pktlog_mode {\n\tATH11K_PKTLOG_MODE_LITE = 1,\n\tATH11K_PKTLOG_MODE_FULL = 2,\n};\n\nenum ath11k_pktlog_enum {\n\tATH11K_PKTLOG_TYPE_INVALID      = 0,\n\tATH11K_PKTLOG_TYPE_TX_CTRL      = 1,\n\tATH11K_PKTLOG_TYPE_TX_STAT      = 2,\n\tATH11K_PKTLOG_TYPE_TX_MSDU_ID   = 3,\n\tATH11K_PKTLOG_TYPE_RX_STAT      = 5,\n\tATH11K_PKTLOG_TYPE_RC_FIND      = 6,\n\tATH11K_PKTLOG_TYPE_RC_UPDATE    = 7,\n\tATH11K_PKTLOG_TYPE_TX_VIRT_ADDR = 8,\n\tATH11K_PKTLOG_TYPE_RX_CBF       = 10,\n\tATH11K_PKTLOG_TYPE_RX_STATBUF   = 22,\n\tATH11K_PKTLOG_TYPE_PPDU_STATS   = 23,\n\tATH11K_PKTLOG_TYPE_LITE_RX      = 24,\n};\n\nenum ath11k_dbg_aggr_mode {\n\tATH11K_DBG_AGGR_MODE_AUTO,\n\tATH11K_DBG_AGGR_MODE_MANUAL,\n\tATH11K_DBG_AGGR_MODE_MAX,\n};\n\nenum fw_dbglog_wlan_module_id {\n\tWLAN_MODULE_ID_MIN = 0,\n\tWLAN_MODULE_INF = WLAN_MODULE_ID_MIN,\n\tWLAN_MODULE_WMI,\n\tWLAN_MODULE_STA_PWRSAVE,\n\tWLAN_MODULE_WHAL,\n\tWLAN_MODULE_COEX,\n\tWLAN_MODULE_ROAM,\n\tWLAN_MODULE_RESMGR_CHAN_MANAGER,\n\tWLAN_MODULE_RESMGR,\n\tWLAN_MODULE_VDEV_MGR,\n\tWLAN_MODULE_SCAN,\n\tWLAN_MODULE_RATECTRL,\n\tWLAN_MODULE_AP_PWRSAVE,\n\tWLAN_MODULE_BLOCKACK,\n\tWLAN_MODULE_MGMT_TXRX,\n\tWLAN_MODULE_DATA_TXRX,\n\tWLAN_MODULE_HTT,\n\tWLAN_MODULE_HOST,\n\tWLAN_MODULE_BEACON,\n\tWLAN_MODULE_OFFLOAD,\n\tWLAN_MODULE_WAL,\n\tWLAN_WAL_MODULE_DE,\n\tWLAN_MODULE_PCIELP,\n\tWLAN_MODULE_RTT,\n\tWLAN_MODULE_RESOURCE,\n\tWLAN_MODULE_DCS,\n\tWLAN_MODULE_CACHEMGR,\n\tWLAN_MODULE_ANI,\n\tWLAN_MODULE_P2P,\n\tWLAN_MODULE_CSA,\n\tWLAN_MODULE_NLO,\n\tWLAN_MODULE_CHATTER,\n\tWLAN_MODULE_WOW,\n\tWLAN_MODULE_WAL_VDEV,\n\tWLAN_MODULE_WAL_PDEV,\n\tWLAN_MODULE_TEST,\n\tWLAN_MODULE_STA_SMPS,\n\tWLAN_MODULE_SWBMISS,\n\tWLAN_MODULE_WMMAC,\n\tWLAN_MODULE_TDLS,\n\tWLAN_MODULE_HB,\n\tWLAN_MODULE_TXBF,\n\tWLAN_MODULE_BATCH_SCAN,\n\tWLAN_MODULE_THERMAL_MGR,\n\tWLAN_MODULE_PHYERR_DFS,\n\tWLAN_MODULE_RMC,\n\tWLAN_MODULE_STATS,\n\tWLAN_MODULE_NAN,\n\tWLAN_MODULE_IBSS_PWRSAVE,\n\tWLAN_MODULE_HIF_UART,\n\tWLAN_MODULE_LPI,\n\tWLAN_MODULE_EXTSCAN,\n\tWLAN_MODULE_UNIT_TEST,\n\tWLAN_MODULE_MLME,\n\tWLAN_MODULE_SUPPL,\n\tWLAN_MODULE_ERE,\n\tWLAN_MODULE_OCB,\n\tWLAN_MODULE_RSSI_MONITOR,\n\tWLAN_MODULE_WPM,\n\tWLAN_MODULE_CSS,\n\tWLAN_MODULE_PPS,\n\tWLAN_MODULE_SCAN_CH_PREDICT,\n\tWLAN_MODULE_MAWC,\n\tWLAN_MODULE_CMC_QMIC,\n\tWLAN_MODULE_EGAP,\n\tWLAN_MODULE_NAN20,\n\tWLAN_MODULE_QBOOST,\n\tWLAN_MODULE_P2P_LISTEN_OFFLOAD,\n\tWLAN_MODULE_HALPHY,\n\tWLAN_WAL_MODULE_ENQ,\n\tWLAN_MODULE_GNSS,\n\tWLAN_MODULE_WAL_MEM,\n\tWLAN_MODULE_SCHED_ALGO,\n\tWLAN_MODULE_TX,\n\tWLAN_MODULE_RX,\n\tWLAN_MODULE_WLM,\n\tWLAN_MODULE_RU_ALLOCATOR,\n\tWLAN_MODULE_11K_OFFLOAD,\n\tWLAN_MODULE_STA_TWT,\n\tWLAN_MODULE_AP_TWT,\n\tWLAN_MODULE_UL_OFDMA,\n\tWLAN_MODULE_HPCS_PULSE,\n\tWLAN_MODULE_DTF,\n\tWLAN_MODULE_QUIET_IE,\n\tWLAN_MODULE_SHMEM_MGR,\n\tWLAN_MODULE_CFIR,\n\tWLAN_MODULE_CODE_COVER,\n\tWLAN_MODULE_SHO,\n\tWLAN_MODULE_MLO_MGR,\n\tWLAN_MODULE_PEER_INIT,\n\tWLAN_MODULE_STA_MLO_PS,\n\n\tWLAN_MODULE_ID_MAX,\n\tWLAN_MODULE_ID_INVALID = WLAN_MODULE_ID_MAX,\n};\n\nenum fw_dbglog_log_level {\n\tATH11K_FW_DBGLOG_ML = 0,\n\tATH11K_FW_DBGLOG_VERBOSE = 0,\n\tATH11K_FW_DBGLOG_INFO,\n\tATH11K_FW_DBGLOG_INFO_LVL_1,\n\tATH11K_FW_DBGLOG_INFO_LVL_2,\n\tATH11K_FW_DBGLOG_WARN,\n\tATH11K_FW_DBGLOG_ERR,\n\tATH11K_FW_DBGLOG_LVL_MAX\n};\n\nstruct ath11k_fw_dbglog {\n\tenum wmi_debug_log_param param;\n\tunion {\n\t\tstruct {\n\t\t\t \n\t\t\tu16 log_level;\n\t\t\t \n\t\t\tu16 module_id;\n\t\t};\n\t\t \n\t\tu32 value;\n\t};\n};\n\n#ifdef CONFIG_ATH11K_DEBUGFS\nint ath11k_debugfs_soc_create(struct ath11k_base *ab);\nvoid ath11k_debugfs_soc_destroy(struct ath11k_base *ab);\nint ath11k_debugfs_pdev_create(struct ath11k_base *ab);\nvoid ath11k_debugfs_pdev_destroy(struct ath11k_base *ab);\nint ath11k_debugfs_register(struct ath11k *ar);\nvoid ath11k_debugfs_unregister(struct ath11k *ar);\nvoid ath11k_debugfs_fw_stats_process(struct ath11k *ar, struct ath11k_fw_stats *stats);\n\nvoid ath11k_debugfs_fw_stats_init(struct ath11k *ar);\nint ath11k_debugfs_get_fw_stats(struct ath11k *ar, u32 pdev_id,\n\t\t\t\tu32 vdev_id, u32 stats_id);\n\nstatic inline bool ath11k_debugfs_is_pktlog_lite_mode_enabled(struct ath11k *ar)\n{\n\treturn (ar->debug.pktlog_mode == ATH11K_PKTLOG_MODE_LITE);\n}\n\nstatic inline bool ath11k_debugfs_is_pktlog_rx_stats_enabled(struct ath11k *ar)\n{\n\treturn (!ar->debug.pktlog_peer_valid && ar->debug.pktlog_mode);\n}\n\nstatic inline bool ath11k_debugfs_is_pktlog_peer_valid(struct ath11k *ar, u8 *addr)\n{\n\treturn (ar->debug.pktlog_peer_valid && ar->debug.pktlog_mode &&\n\t\tether_addr_equal(addr, ar->debug.pktlog_peer_addr));\n}\n\nstatic inline int ath11k_debugfs_is_extd_tx_stats_enabled(struct ath11k *ar)\n{\n\treturn ar->debug.extd_tx_stats;\n}\n\nstatic inline int ath11k_debugfs_is_extd_rx_stats_enabled(struct ath11k *ar)\n{\n\treturn ar->debug.extd_rx_stats;\n}\n\nstatic inline int ath11k_debugfs_rx_filter(struct ath11k *ar)\n{\n\treturn ar->debug.rx_filter;\n}\n\nvoid ath11k_debugfs_add_interface(struct ath11k_vif *arvif);\nvoid ath11k_debugfs_remove_interface(struct ath11k_vif *arvif);\nvoid ath11k_debugfs_add_dbring_entry(struct ath11k *ar,\n\t\t\t\t     enum wmi_direct_buffer_module id,\n\t\t\t\t     enum ath11k_dbg_dbr_event event,\n\t\t\t\t     struct hal_srng *srng);\n\n#else\nstatic inline int ath11k_debugfs_soc_create(struct ath11k_base *ab)\n{\n\treturn 0;\n}\n\nstatic inline void ath11k_debugfs_soc_destroy(struct ath11k_base *ab)\n{\n}\n\nstatic inline int ath11k_debugfs_pdev_create(struct ath11k_base *ab)\n{\n\treturn 0;\n}\n\nstatic inline void ath11k_debugfs_pdev_destroy(struct ath11k_base *ab)\n{\n}\n\nstatic inline int ath11k_debugfs_register(struct ath11k *ar)\n{\n\treturn 0;\n}\n\nstatic inline void ath11k_debugfs_unregister(struct ath11k *ar)\n{\n}\n\nstatic inline void ath11k_debugfs_fw_stats_process(struct ath11k *ar,\n\t\t\t\t\t\t   struct ath11k_fw_stats *stats)\n{\n}\n\nstatic inline void ath11k_debugfs_fw_stats_init(struct ath11k *ar)\n{\n}\n\nstatic inline int ath11k_debugfs_is_extd_tx_stats_enabled(struct ath11k *ar)\n{\n\treturn 0;\n}\n\nstatic inline int ath11k_debugfs_is_extd_rx_stats_enabled(struct ath11k *ar)\n{\n\treturn 0;\n}\n\nstatic inline bool ath11k_debugfs_is_pktlog_lite_mode_enabled(struct ath11k *ar)\n{\n\treturn false;\n}\n\nstatic inline bool ath11k_debugfs_is_pktlog_rx_stats_enabled(struct ath11k *ar)\n{\n\treturn false;\n}\n\nstatic inline bool ath11k_debugfs_is_pktlog_peer_valid(struct ath11k *ar, u8 *addr)\n{\n\treturn false;\n}\n\nstatic inline int ath11k_debugfs_rx_filter(struct ath11k *ar)\n{\n\treturn 0;\n}\n\nstatic inline int ath11k_debugfs_get_fw_stats(struct ath11k *ar,\n\t\t\t\t\t      u32 pdev_id, u32 vdev_id, u32 stats_id)\n{\n\treturn 0;\n}\n\nstatic inline void ath11k_debugfs_add_interface(struct ath11k_vif *arvif)\n{\n}\n\nstatic inline void ath11k_debugfs_remove_interface(struct ath11k_vif *arvif)\n{\n}\n\nstatic inline void\nath11k_debugfs_add_dbring_entry(struct ath11k *ar,\n\t\t\t\tenum wmi_direct_buffer_module id,\n\t\t\t\tenum ath11k_dbg_dbr_event event,\n\t\t\t\tstruct hal_srng *srng)\n{\n}\n#endif  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}