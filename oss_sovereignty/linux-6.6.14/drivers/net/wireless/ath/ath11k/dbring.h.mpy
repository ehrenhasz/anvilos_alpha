{
  "module_name": "dbring.h",
  "hash_id": "7c8ffb24503ddf7953d5a1916f693c4536ab74442da43d222eb6f14397a38447",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/ath11k/dbring.h",
  "human_readable_source": " \n \n\n#ifndef ATH11K_DBRING_H\n#define ATH11K_DBRING_H\n\n#include <linux/types.h>\n#include <linux/idr.h>\n#include <linux/spinlock.h>\n#include \"dp.h\"\n\nstruct ath11k_dbring_element {\n\tdma_addr_t paddr;\n\tu8 *payload;\n};\n\nstruct ath11k_dbring_data {\n\tvoid *data;\n\tu32 data_sz;\n\tstruct wmi_dma_buf_release_meta_data meta;\n};\n\nstruct ath11k_dbring_buf_release_event {\n\tstruct ath11k_wmi_dma_buf_release_fixed_param fixed;\n\tstruct wmi_dma_buf_release_entry *buf_entry;\n\tstruct wmi_dma_buf_release_meta_data *meta_data;\n\tu32 num_buf_entry;\n\tu32 num_meta;\n};\n\nstruct ath11k_dbring_cap {\n\tu32 pdev_id;\n\tenum wmi_direct_buffer_module id;\n\tu32 min_elem;\n\tu32 min_buf_sz;\n\tu32 min_buf_align;\n};\n\nstruct ath11k_dbring {\n\tstruct dp_srng refill_srng;\n\tstruct idr bufs_idr;\n\t \n\tspinlock_t idr_lock;\n\tdma_addr_t tp_addr;\n\tdma_addr_t hp_addr;\n\tint bufs_max;\n\tu32 pdev_id;\n\tu32 buf_sz;\n\tu32 buf_align;\n\tu32 num_resp_per_event;\n\tu32 event_timeout_ms;\n\tint (*handler)(struct ath11k *, struct ath11k_dbring_data *);\n};\n\nint ath11k_dbring_set_cfg(struct ath11k *ar,\n\t\t\t  struct ath11k_dbring *ring,\n\t\t\t  u32 num_resp_per_event,\n\t\t\t  u32 event_timeout_ms,\n\t\t\t  int (*handler)(struct ath11k *,\n\t\t\t\t\t struct ath11k_dbring_data *));\nint ath11k_dbring_wmi_cfg_setup(struct ath11k *ar,\n\t\t\t\tstruct ath11k_dbring *ring,\n\t\t\t\tenum wmi_direct_buffer_module id);\nint ath11k_dbring_buf_setup(struct ath11k *ar,\n\t\t\t    struct ath11k_dbring *ring,\n\t\t\t    struct ath11k_dbring_cap *db_cap);\nint ath11k_dbring_srng_setup(struct ath11k *ar, struct ath11k_dbring *ring,\n\t\t\t     int ring_num, int num_entries);\nint ath11k_dbring_buffer_release_event(struct ath11k_base *ab,\n\t\t\t\t       struct ath11k_dbring_buf_release_event *ev);\nint ath11k_dbring_get_cap(struct ath11k_base *ab,\n\t\t\t  u8 pdev_idx,\n\t\t\t  enum wmi_direct_buffer_module id,\n\t\t\t  struct ath11k_dbring_cap *db_cap);\nvoid ath11k_dbring_srng_cleanup(struct ath11k *ar, struct ath11k_dbring *ring);\nvoid ath11k_dbring_buf_cleanup(struct ath11k *ar, struct ath11k_dbring *ring);\nint ath11k_dbring_validate_buffer(struct ath11k *ar, void *data, u32 size);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}