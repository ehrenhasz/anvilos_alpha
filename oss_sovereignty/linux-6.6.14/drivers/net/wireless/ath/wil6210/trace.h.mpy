{
  "module_name": "trace.h",
  "hash_id": "19ad2386962e6e01c9f1d825387fe7de5cef4b9174c735931cd100ea899c06a8",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/wil6210/trace.h",
  "human_readable_source": " \n \n\n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM wil6210\n#if !defined(WIL6210_TRACE_H) || defined(TRACE_HEADER_MULTI_READ)\n#define WIL6210_TRACE_H\n\n#include <linux/tracepoint.h>\n#include \"wil6210.h\"\n#include \"txrx.h\"\n\n \n#if !defined(CONFIG_WIL6210_TRACING) || defined(__CHECKER__)\n\n#undef TRACE_EVENT\n#define TRACE_EVENT(name, proto, ...) \\\nstatic inline void trace_ ## name(proto) {}\n#undef DECLARE_EVENT_CLASS\n#define DECLARE_EVENT_CLASS(...)\n#undef DEFINE_EVENT\n#define DEFINE_EVENT(evt_class, name, proto, ...) \\\nstatic inline void trace_ ## name(proto) {}\n#endif  \n\nDECLARE_EVENT_CLASS(wil6210_wmi,\n\tTP_PROTO(struct wmi_cmd_hdr *wmi, void *buf, u16 buf_len),\n\n\tTP_ARGS(wmi, buf, buf_len),\n\n\tTP_STRUCT__entry(\n\t\t__field(u8, mid)\n\t\t__field(u16, command_id)\n\t\t__field(u32, fw_timestamp)\n\t\t__field(u16, buf_len)\n\t\t__dynamic_array(u8, buf, buf_len)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->mid = wmi->mid;\n\t\t__entry->command_id = le16_to_cpu(wmi->command_id);\n\t\t__entry->fw_timestamp = le32_to_cpu(wmi->fw_timestamp);\n\t\t__entry->buf_len = buf_len;\n\t\tmemcpy(__get_dynamic_array(buf), buf, buf_len);\n\t),\n\n\tTP_printk(\n\t\t\"MID %d id 0x%04x len %d timestamp %d\",\n\t\t__entry->mid, __entry->command_id, __entry->buf_len,\n\t\t__entry->fw_timestamp\n\t)\n);\n\nDEFINE_EVENT(wil6210_wmi, wil6210_wmi_cmd,\n\tTP_PROTO(struct wmi_cmd_hdr *wmi, void *buf, u16 buf_len),\n\tTP_ARGS(wmi, buf, buf_len)\n);\n\nDEFINE_EVENT(wil6210_wmi, wil6210_wmi_event,\n\tTP_PROTO(struct wmi_cmd_hdr *wmi, void *buf, u16 buf_len),\n\tTP_ARGS(wmi, buf, buf_len)\n);\n\n#define WIL6210_MSG_MAX (200)\n\nDECLARE_EVENT_CLASS(wil6210_log_event,\n\tTP_PROTO(struct va_format *vaf),\n\tTP_ARGS(vaf),\n\tTP_STRUCT__entry(\n\t\t__vstring(msg, vaf->fmt, vaf->va)\n\t),\n\tTP_fast_assign(\n\t\t__assign_vstr(msg, vaf->fmt, vaf->va);\n\t),\n\tTP_printk(\"%s\", __get_str(msg))\n);\n\nDEFINE_EVENT(wil6210_log_event, wil6210_log_err,\n\tTP_PROTO(struct va_format *vaf),\n\tTP_ARGS(vaf)\n);\n\nDEFINE_EVENT(wil6210_log_event, wil6210_log_info,\n\tTP_PROTO(struct va_format *vaf),\n\tTP_ARGS(vaf)\n);\n\nDEFINE_EVENT(wil6210_log_event, wil6210_log_dbg,\n\tTP_PROTO(struct va_format *vaf),\n\tTP_ARGS(vaf)\n);\n\n#define wil_pseudo_irq_cause(x) __print_flags(x, \"|\",\t\\\n\t{BIT_DMA_PSEUDO_CAUSE_RX,\t\"Rx\" },\t\t\\\n\t{BIT_DMA_PSEUDO_CAUSE_TX,\t\"Tx\" },\t\t\\\n\t{BIT_DMA_PSEUDO_CAUSE_MISC,\t\"Misc\" })\n\nTRACE_EVENT(wil6210_irq_pseudo,\n\tTP_PROTO(u32 x),\n\tTP_ARGS(x),\n\tTP_STRUCT__entry(\n\t\t__field(u32, x)\n\t),\n\tTP_fast_assign(\n\t\t__entry->x = x;\n\t),\n\tTP_printk(\"cause 0x%08x : %s\", __entry->x,\n\t\t  wil_pseudo_irq_cause(__entry->x))\n);\n\nDECLARE_EVENT_CLASS(wil6210_irq,\n\tTP_PROTO(u32 x),\n\tTP_ARGS(x),\n\tTP_STRUCT__entry(\n\t\t__field(u32, x)\n\t),\n\tTP_fast_assign(\n\t\t__entry->x = x;\n\t),\n\tTP_printk(\"cause 0x%08x\", __entry->x)\n);\n\nDEFINE_EVENT(wil6210_irq, wil6210_irq_rx,\n\tTP_PROTO(u32 x),\n\tTP_ARGS(x)\n);\n\nDEFINE_EVENT(wil6210_irq, wil6210_irq_tx,\n\tTP_PROTO(u32 x),\n\tTP_ARGS(x)\n);\n\nDEFINE_EVENT(wil6210_irq, wil6210_irq_misc,\n\tTP_PROTO(u32 x),\n\tTP_ARGS(x)\n);\n\nDEFINE_EVENT(wil6210_irq, wil6210_irq_misc_thread,\n\tTP_PROTO(u32 x),\n\tTP_ARGS(x)\n);\n\nTRACE_EVENT(wil6210_rx,\n\tTP_PROTO(u16 index, struct vring_rx_desc *d),\n\tTP_ARGS(index, d),\n\tTP_STRUCT__entry(\n\t\t__field(u16, index)\n\t\t__field(unsigned int, len)\n\t\t__field(u8, mid)\n\t\t__field(u8, cid)\n\t\t__field(u8, tid)\n\t\t__field(u8, type)\n\t\t__field(u8, subtype)\n\t\t__field(u16, seq)\n\t\t__field(u8, mcs)\n\t),\n\tTP_fast_assign(\n\t\t__entry->index = index;\n\t\t__entry->len = d->dma.length;\n\t\t__entry->mid = wil_rxdesc_mid(d);\n\t\t__entry->cid = wil_rxdesc_cid(d);\n\t\t__entry->tid = wil_rxdesc_tid(d);\n\t\t__entry->type = wil_rxdesc_ftype(d);\n\t\t__entry->subtype = wil_rxdesc_subtype(d);\n\t\t__entry->seq = wil_rxdesc_seq(d);\n\t\t__entry->mcs = wil_rxdesc_mcs(d);\n\t),\n\tTP_printk(\"index %d len %d mid %d cid (%%8) %d tid %d mcs %d seq 0x%03x\"\n\t\t  \" type 0x%1x subtype 0x%1x\", __entry->index, __entry->len,\n\t\t  __entry->mid, __entry->cid, __entry->tid, __entry->mcs,\n\t\t  __entry->seq, __entry->type, __entry->subtype)\n);\n\nTRACE_EVENT(wil6210_rx_status,\n\t    TP_PROTO(struct wil6210_priv *wil, u8 use_compressed, u16 buff_id,\n\t\t     void *msg),\n\t    TP_ARGS(wil, use_compressed, buff_id, msg),\n\t    TP_STRUCT__entry(__field(u8, use_compressed)\n\t\t\t     __field(u16, buff_id)\n\t\t\t     __field(unsigned int, len)\n\t\t\t     __field(u8, mid)\n\t\t\t     __field(u8, cid)\n\t\t\t     __field(u8, tid)\n\t\t\t     __field(u8, type)\n\t\t\t     __field(u8, subtype)\n\t\t\t     __field(u16, seq)\n\t\t\t     __field(u8, mcs)\n\t    ),\n\t    TP_fast_assign(__entry->use_compressed = use_compressed;\n\t\t\t   __entry->buff_id = buff_id;\n\t\t\t   __entry->len = wil_rx_status_get_length(msg);\n\t\t\t   __entry->mid = wil_rx_status_get_mid(msg);\n\t\t\t   __entry->cid = wil_rx_status_get_cid(msg);\n\t\t\t   __entry->tid = wil_rx_status_get_tid(msg);\n\t\t\t   __entry->type = wil_rx_status_get_frame_type(wil,\n\t\t\t\t\t\t\t\t\tmsg);\n\t\t\t   __entry->subtype = wil_rx_status_get_fc1(wil, msg);\n\t\t\t   __entry->seq = wil_rx_status_get_seq(wil, msg);\n\t\t\t   __entry->mcs = wil_rx_status_get_mcs(msg);\n\t    ),\n\t    TP_printk(\n\t\t      \"compressed %d buff_id %d len %d mid %d cid %d tid %d mcs %d seq 0x%03x type 0x%1x subtype 0x%1x\",\n\t\t      __entry->use_compressed, __entry->buff_id, __entry->len,\n\t\t      __entry->mid, __entry->cid, __entry->tid, __entry->mcs,\n\t\t      __entry->seq, __entry->type, __entry->subtype)\n);\n\nTRACE_EVENT(wil6210_tx,\n\tTP_PROTO(u8 vring, u16 index, unsigned int len, u8 frags),\n\tTP_ARGS(vring, index, len, frags),\n\tTP_STRUCT__entry(\n\t\t__field(u8, vring)\n\t\t__field(u8, frags)\n\t\t__field(u16, index)\n\t\t__field(unsigned int, len)\n\t),\n\tTP_fast_assign(\n\t\t__entry->vring = vring;\n\t\t__entry->frags = frags;\n\t\t__entry->index = index;\n\t\t__entry->len = len;\n\t),\n\tTP_printk(\"vring %d index %d len %d frags %d\",\n\t\t  __entry->vring, __entry->index, __entry->len, __entry->frags)\n);\n\nTRACE_EVENT(wil6210_tx_done,\n\tTP_PROTO(u8 vring, u16 index, unsigned int len, u8 err),\n\tTP_ARGS(vring, index, len, err),\n\tTP_STRUCT__entry(\n\t\t__field(u8, vring)\n\t\t__field(u8, err)\n\t\t__field(u16, index)\n\t\t__field(unsigned int, len)\n\t),\n\tTP_fast_assign(\n\t\t__entry->vring = vring;\n\t\t__entry->index = index;\n\t\t__entry->len = len;\n\t\t__entry->err = err;\n\t),\n\tTP_printk(\"vring %d index %d len %d err 0x%02x\",\n\t\t  __entry->vring, __entry->index, __entry->len,\n\t\t  __entry->err)\n);\n\nTRACE_EVENT(wil6210_tx_status,\n\t    TP_PROTO(struct wil_ring_tx_status *msg, u16 index,\n\t\t     unsigned int len),\n\t    TP_ARGS(msg, index, len),\n\t    TP_STRUCT__entry(__field(u16, index)\n\t\t\t     __field(unsigned int, len)\n\t\t\t     __field(u8, num_descs)\n\t\t\t     __field(u8, ring_id)\n\t\t\t     __field(u8, status)\n\t\t\t     __field(u8, mcs)\n\n\t    ),\n\t    TP_fast_assign(__entry->index = index;\n\t\t\t   __entry->len = len;\n\t\t\t   __entry->num_descs = msg->num_descriptors;\n\t\t\t   __entry->ring_id = msg->ring_id;\n\t\t\t   __entry->status = msg->status;\n\t\t\t   __entry->mcs = wil_tx_status_get_mcs(msg);\n\t    ),\n\t    TP_printk(\n\t\t      \"ring_id %d swtail 0x%x len %d num_descs %d status 0x%x mcs %d\",\n\t\t      __entry->ring_id, __entry->index, __entry->len,\n\t\t      __entry->num_descs, __entry->status, __entry->mcs)\n);\n\n#endif  \n\n#if defined(CONFIG_WIL6210_TRACING) && !defined(__CHECKER__)\n \n#undef TRACE_INCLUDE_PATH\n#define TRACE_INCLUDE_PATH .\n#undef TRACE_INCLUDE_FILE\n#define TRACE_INCLUDE_FILE trace\n\n \n#include <trace/define_trace.h>\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}