{
  "module_name": "firmware.c",
  "hash_id": "244bf4935ddc6beecd39b4369167dac8f70148653f76b82f752becf9fd2fd052",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/wcn36xx/firmware.c",
  "human_readable_source": "\n\n#include \"wcn36xx.h\"\n#include \"firmware.h\"\n\n#define DEFINE(s)[s] = #s\n\nstatic const char * const wcn36xx_firmware_caps_names[] = {\n\tDEFINE(MCC),\n\tDEFINE(P2P),\n\tDEFINE(DOT11AC),\n\tDEFINE(SLM_SESSIONIZATION),\n\tDEFINE(DOT11AC_OPMODE),\n\tDEFINE(SAP32STA),\n\tDEFINE(TDLS),\n\tDEFINE(P2P_GO_NOA_DECOUPLE_INIT_SCAN),\n\tDEFINE(WLANACTIVE_OFFLOAD),\n\tDEFINE(BEACON_OFFLOAD),\n\tDEFINE(SCAN_OFFLOAD),\n\tDEFINE(ROAM_OFFLOAD),\n\tDEFINE(BCN_MISS_OFFLOAD),\n\tDEFINE(STA_POWERSAVE),\n\tDEFINE(STA_ADVANCED_PWRSAVE),\n\tDEFINE(AP_UAPSD),\n\tDEFINE(AP_DFS),\n\tDEFINE(BLOCKACK),\n\tDEFINE(PHY_ERR),\n\tDEFINE(BCN_FILTER),\n\tDEFINE(RTT),\n\tDEFINE(RATECTRL),\n\tDEFINE(WOW),\n\tDEFINE(WLAN_ROAM_SCAN_OFFLOAD),\n\tDEFINE(SPECULATIVE_PS_POLL),\n\tDEFINE(SCAN_SCH),\n\tDEFINE(IBSS_HEARTBEAT_OFFLOAD),\n\tDEFINE(WLAN_SCAN_OFFLOAD),\n\tDEFINE(WLAN_PERIODIC_TX_PTRN),\n\tDEFINE(ADVANCE_TDLS),\n\tDEFINE(BATCH_SCAN),\n\tDEFINE(FW_IN_TX_PATH),\n\tDEFINE(EXTENDED_NSOFFLOAD_SLOT),\n\tDEFINE(CH_SWITCH_V1),\n\tDEFINE(HT40_OBSS_SCAN),\n\tDEFINE(UPDATE_CHANNEL_LIST),\n\tDEFINE(WLAN_MCADDR_FLT),\n\tDEFINE(WLAN_CH144),\n\tDEFINE(NAN),\n\tDEFINE(TDLS_SCAN_COEXISTENCE),\n\tDEFINE(LINK_LAYER_STATS_MEAS),\n\tDEFINE(MU_MIMO),\n\tDEFINE(EXTENDED_SCAN),\n\tDEFINE(DYNAMIC_WMM_PS),\n\tDEFINE(MAC_SPOOFED_SCAN),\n\tDEFINE(BMU_ERROR_GENERIC_RECOVERY),\n\tDEFINE(DISA),\n\tDEFINE(FW_STATS),\n\tDEFINE(WPS_PRBRSP_TMPL),\n\tDEFINE(BCN_IE_FLT_DELTA),\n\tDEFINE(TDLS_OFF_CHANNEL),\n\tDEFINE(RTT3),\n\tDEFINE(MGMT_FRAME_LOGGING),\n\tDEFINE(ENHANCED_TXBD_COMPLETION),\n\tDEFINE(LOGGING_ENHANCEMENT),\n\tDEFINE(EXT_SCAN_ENHANCED),\n\tDEFINE(MEMORY_DUMP_SUPPORTED),\n\tDEFINE(PER_PKT_STATS_SUPPORTED),\n\tDEFINE(EXT_LL_STAT),\n\tDEFINE(WIFI_CONFIG),\n\tDEFINE(ANTENNA_DIVERSITY_SELECTION),\n};\n\n#undef DEFINE\n\nconst char *wcn36xx_firmware_get_cap_name(enum wcn36xx_firmware_feat_caps x)\n{\n\tif (x >= ARRAY_SIZE(wcn36xx_firmware_caps_names))\n\t\treturn \"UNKNOWN\";\n\treturn wcn36xx_firmware_caps_names[x];\n}\n\nvoid wcn36xx_firmware_set_feat_caps(u32 *bitmap,\n\t\t\t\t    enum wcn36xx_firmware_feat_caps cap)\n{\n\tint arr_idx, bit_idx;\n\n\tif (cap < 0 || cap > 127) {\n\t\twcn36xx_warn(\"error cap idx %d\\n\", cap);\n\t\treturn;\n\t}\n\n\tarr_idx = cap / 32;\n\tbit_idx = cap % 32;\n\tbitmap[arr_idx] |= (1 << bit_idx);\n}\n\nint wcn36xx_firmware_get_feat_caps(u32 *bitmap,\n\t\t\t\t   enum wcn36xx_firmware_feat_caps cap)\n{\n\tint arr_idx, bit_idx;\n\n\tif (cap < 0 || cap > 127) {\n\t\twcn36xx_warn(\"error cap idx %d\\n\", cap);\n\t\treturn -EINVAL;\n\t}\n\n\tarr_idx = cap / 32;\n\tbit_idx = cap % 32;\n\n\treturn (bitmap[arr_idx] & (1 << bit_idx)) ? 1 : 0;\n}\n\nvoid wcn36xx_firmware_clear_feat_caps(u32 *bitmap,\n\t\t\t\t      enum wcn36xx_firmware_feat_caps cap)\n{\n\tint arr_idx, bit_idx;\n\n\tif (cap < 0 || cap > 127) {\n\t\twcn36xx_warn(\"error cap idx %d\\n\", cap);\n\t\treturn;\n\t}\n\n\tarr_idx = cap / 32;\n\tbit_idx = cap % 32;\n\tbitmap[arr_idx] &= ~(1 << bit_idx);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}