{
  "module_name": "debug.h",
  "hash_id": "1ae81356ad538984eb01dce3b29e0c50731c15db56924d92dcff1593bf357a7a",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/carl9170/debug.h",
  "human_readable_source": " \n#ifndef __DEBUG_H\n#define __DEBUG_H\n\n#include \"eeprom.h\"\n#include \"wlan.h\"\n#include \"hw.h\"\n#include \"fwdesc.h\"\n#include \"fwcmd.h\"\n#include \"../regd.h\"\n\nstruct hw_stat_reg_entry {\n\tu32 reg;\n\tchar nreg[32];\n};\n\n#define\tSTAT_MAC_REG(reg)\t\\\n\t{ (AR9170_MAC_REG_##reg), #reg }\n\n#define\tSTAT_PTA_REG(reg)\t\\\n\t{ (AR9170_PTA_REG_##reg), #reg }\n\n#define\tSTAT_USB_REG(reg)\t\\\n\t{ (AR9170_USB_REG_##reg), #reg }\n\nstatic const struct hw_stat_reg_entry hw_rx_tally_regs[] = {\n\tSTAT_MAC_REG(RX_CRC32),\t\tSTAT_MAC_REG(RX_CRC16),\n\tSTAT_MAC_REG(RX_TIMEOUT_COUNT),\tSTAT_MAC_REG(RX_ERR_DECRYPTION_UNI),\n\tSTAT_MAC_REG(RX_ERR_DECRYPTION_MUL), STAT_MAC_REG(RX_MPDU),\n\tSTAT_MAC_REG(RX_DROPPED_MPDU),\tSTAT_MAC_REG(RX_DEL_MPDU),\n};\n\nstatic const struct hw_stat_reg_entry hw_phy_errors_regs[] = {\n\tSTAT_MAC_REG(RX_PHY_MISC_ERROR), STAT_MAC_REG(RX_PHY_XR_ERROR),\n\tSTAT_MAC_REG(RX_PHY_OFDM_ERROR), STAT_MAC_REG(RX_PHY_CCK_ERROR),\n\tSTAT_MAC_REG(RX_PHY_HT_ERROR), STAT_MAC_REG(RX_PHY_TOTAL),\n};\n\nstatic const struct hw_stat_reg_entry hw_tx_tally_regs[] = {\n\tSTAT_MAC_REG(TX_TOTAL),\t\tSTAT_MAC_REG(TX_UNDERRUN),\n\tSTAT_MAC_REG(TX_RETRY),\n};\n\nstatic const struct hw_stat_reg_entry hw_wlan_queue_regs[] = {\n\tSTAT_MAC_REG(DMA_STATUS),\tSTAT_MAC_REG(DMA_TRIGGER),\n\tSTAT_MAC_REG(DMA_TXQ0_ADDR),\tSTAT_MAC_REG(DMA_TXQ0_CURR_ADDR),\n\tSTAT_MAC_REG(DMA_TXQ1_ADDR),\tSTAT_MAC_REG(DMA_TXQ1_CURR_ADDR),\n\tSTAT_MAC_REG(DMA_TXQ2_ADDR),\tSTAT_MAC_REG(DMA_TXQ2_CURR_ADDR),\n\tSTAT_MAC_REG(DMA_TXQ3_ADDR),\tSTAT_MAC_REG(DMA_TXQ3_CURR_ADDR),\n\tSTAT_MAC_REG(DMA_RXQ_ADDR),\tSTAT_MAC_REG(DMA_RXQ_CURR_ADDR),\n};\n\nstatic const struct hw_stat_reg_entry hw_ampdu_info_regs[] = {\n\tSTAT_MAC_REG(AMPDU_DENSITY),\tSTAT_MAC_REG(AMPDU_FACTOR),\n};\n\nstatic const struct hw_stat_reg_entry hw_pta_queue_regs[] = {\n\tSTAT_PTA_REG(DN_CURR_ADDRH),\tSTAT_PTA_REG(DN_CURR_ADDRL),\n\tSTAT_PTA_REG(UP_CURR_ADDRH),\tSTAT_PTA_REG(UP_CURR_ADDRL),\n\tSTAT_PTA_REG(DMA_STATUS),\tSTAT_PTA_REG(DMA_MODE_CTRL),\n};\n\n#define\tDEFINE_TALLY(name)\t\t\t\t\t\\\n\tu32 name##_sum[ARRAY_SIZE(name##_regs)],\t\t\\\n\t    name##_counter[ARRAY_SIZE(name##_regs)]\t\t\\\n\n#define\tDEFINE_STAT(name)\t\t\t\t\t\\\n\tu32 name##_counter[ARRAY_SIZE(name##_regs)]\t\t\\\n\nstruct ath_stats {\n\tDEFINE_TALLY(hw_tx_tally);\n\tDEFINE_TALLY(hw_rx_tally);\n\tDEFINE_TALLY(hw_phy_errors);\n\tDEFINE_STAT(hw_wlan_queue);\n\tDEFINE_STAT(hw_pta_queue);\n\tDEFINE_STAT(hw_ampdu_info);\n};\n\nstruct carl9170_debug_mem_rbe {\n\tu32 reg;\n\tu32 value;\n};\n\n#define\tCARL9170_DEBUG_RING_SIZE\t\t\t64\n\nstruct carl9170_debug {\n\tstruct ath_stats stats;\n\tstruct carl9170_debug_mem_rbe ring[CARL9170_DEBUG_RING_SIZE];\n\tstruct mutex ring_lock;\n\tunsigned int ring_head, ring_tail;\n\tstruct delayed_work update_tally;\n};\n\nstruct ar9170;\n\nvoid carl9170_debugfs_register(struct ar9170 *ar);\nvoid carl9170_debugfs_unregister(struct ar9170 *ar);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}