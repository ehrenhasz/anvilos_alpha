{
  "module_name": "fwcmd.h",
  "hash_id": "4cfdbe0ada2630ae2cc4958d421da95c43b492cb613238d4f90ff5845cfd2cb5",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/carl9170/fwcmd.h",
  "human_readable_source": " \n\n#ifndef __CARL9170_SHARED_FWCMD_H\n#define __CARL9170_SHARED_FWCMD_H\n\n#define\tCARL9170_MAX_CMD_LEN\t\t64\n#define\tCARL9170_MAX_CMD_PAYLOAD_LEN\t60\n\n#define CARL9170FW_API_MIN_VER\t\t1\n#define CARL9170FW_API_MAX_VER\t\t1\n\nenum carl9170_cmd_oids {\n\tCARL9170_CMD_RREG\t\t= 0x00,\n\tCARL9170_CMD_WREG\t\t= 0x01,\n\tCARL9170_CMD_ECHO\t\t= 0x02,\n\tCARL9170_CMD_SWRST\t\t= 0x03,\n\tCARL9170_CMD_REBOOT\t\t= 0x04,\n\tCARL9170_CMD_BCN_CTRL\t\t= 0x05,\n\tCARL9170_CMD_READ_TSF\t\t= 0x06,\n\tCARL9170_CMD_RX_FILTER\t\t= 0x07,\n\tCARL9170_CMD_WOL\t\t= 0x08,\n\tCARL9170_CMD_TALLY\t\t= 0x09,\n\tCARL9170_CMD_WREGB\t\t= 0x0a,\n\n\t \n\tCARL9170_CMD_EKEY\t\t= 0x10,\n\tCARL9170_CMD_DKEY\t\t= 0x11,\n\n\t \n\tCARL9170_CMD_FREQUENCY\t\t= 0x20,\n\tCARL9170_CMD_RF_INIT\t\t= 0x21,\n\tCARL9170_CMD_SYNTH\t\t= 0x22,\n\tCARL9170_CMD_FREQ_START\t\t= 0x23,\n\tCARL9170_CMD_PSM\t\t= 0x24,\n\n\t \n\tCARL9170_CMD_ASYNC_FLAG\t\t= 0x40,\n\tCARL9170_CMD_WREG_ASYNC\t\t= (CARL9170_CMD_WREG |\n\t\t\t\t\t   CARL9170_CMD_ASYNC_FLAG),\n\tCARL9170_CMD_REBOOT_ASYNC\t= (CARL9170_CMD_REBOOT |\n\t\t\t\t\t   CARL9170_CMD_ASYNC_FLAG),\n\tCARL9170_CMD_BCN_CTRL_ASYNC\t= (CARL9170_CMD_BCN_CTRL |\n\t\t\t\t\t   CARL9170_CMD_ASYNC_FLAG),\n\tCARL9170_CMD_PSM_ASYNC\t\t= (CARL9170_CMD_PSM |\n\t\t\t\t\t   CARL9170_CMD_ASYNC_FLAG),\n\n\t \n\tCARL9170_RSP_FLAG\t\t= 0xc0,\n\tCARL9170_RSP_PRETBTT\t\t= 0xc0,\n\tCARL9170_RSP_TXCOMP\t\t= 0xc1,\n\tCARL9170_RSP_BEACON_CONFIG\t= 0xc2,\n\tCARL9170_RSP_ATIM\t\t= 0xc3,\n\tCARL9170_RSP_WATCHDOG\t\t= 0xc6,\n\tCARL9170_RSP_TEXT\t\t= 0xca,\n\tCARL9170_RSP_HEXDUMP\t\t= 0xcc,\n\tCARL9170_RSP_RADAR\t\t= 0xcd,\n\tCARL9170_RSP_GPIO\t\t= 0xce,\n\tCARL9170_RSP_BOOT\t\t= 0xcf,\n};\n\nstruct carl9170_set_key_cmd {\n\t__le16\t\tuser;\n\t__le16\t\tkeyId;\n\t__le16\t\ttype;\n\tu8\t\tmacAddr[6];\n\tu32\t\tkey[4];\n} __packed __aligned(4);\n#define CARL9170_SET_KEY_CMD_SIZE\t\t28\n\nstruct carl9170_disable_key_cmd {\n\t__le16\t\tuser;\n\t__le16\t\tpadding;\n} __packed __aligned(4);\n#define CARL9170_DISABLE_KEY_CMD_SIZE\t\t4\n\nstruct carl9170_u32_list {\n\tu32\tvals[0];\n} __packed;\n\nstruct carl9170_reg_list {\n\t__le32\t\tregs[0];\n} __packed;\n\nstruct carl9170_write_reg {\n\tDECLARE_FLEX_ARRAY(struct {\n\t\t__le32\t\taddr;\n\t\t__le32\t\tval;\n\t} __packed, regs);\n} __packed;\n\nstruct carl9170_write_reg_byte {\n\t__le32\taddr;\n\t__le32  count;\n\tu8\tval[];\n} __packed;\n\n#define\tCARL9170FW_PHY_HT_ENABLE\t\t0x4\n#define\tCARL9170FW_PHY_HT_DYN2040\t\t0x8\n#define\tCARL9170FW_PHY_HT_EXT_CHAN_OFF\t\t0x3\n#define\tCARL9170FW_PHY_HT_EXT_CHAN_OFF_S\t2\n\nstruct carl9170_rf_init {\n\t__le32\t\tfreq;\n\tu8\t\tht_settings;\n\tu8\t\tpadding2[3];\n\t__le32\t\tdelta_slope_coeff_exp;\n\t__le32\t\tdelta_slope_coeff_man;\n\t__le32\t\tdelta_slope_coeff_exp_shgi;\n\t__le32\t\tdelta_slope_coeff_man_shgi;\n\t__le32\t\tfiniteLoopCount;\n} __packed;\n#define CARL9170_RF_INIT_SIZE\t\t28\n\nstruct carl9170_rf_init_result {\n\t__le32\t\tret;\t\t \n} __packed;\n#define\tCARL9170_RF_INIT_RESULT_SIZE\t4\n\n#define\tCARL9170_PSM_SLEEP\t\t0x1000\n#define\tCARL9170_PSM_SOFTWARE\t\t0\n#define\tCARL9170_PSM_WAKE\t\t0  \n#define\tCARL9170_PSM_COUNTER\t\t0xfff\n#define\tCARL9170_PSM_COUNTER_S\t\t0\n\nstruct carl9170_psm {\n\t__le32\t\tstate;\n} __packed;\n#define CARL9170_PSM_SIZE\t\t4\n\n \nstruct carl9170_rx_filter_cmd {\n\t__le32\t\trx_filter;\n} __packed;\n#define CARL9170_RX_FILTER_CMD_SIZE\t4\n\n#define CARL9170_RX_FILTER_BAD\t\t0x01\n#define CARL9170_RX_FILTER_OTHER_RA\t0x02\n#define CARL9170_RX_FILTER_DECRY_FAIL\t0x04\n#define CARL9170_RX_FILTER_CTL_OTHER\t0x08\n#define CARL9170_RX_FILTER_CTL_PSPOLL\t0x10\n#define CARL9170_RX_FILTER_CTL_BACKR\t0x20\n#define CARL9170_RX_FILTER_MGMT\t\t0x40\n#define CARL9170_RX_FILTER_DATA\t\t0x80\n#define CARL9170_RX_FILTER_EVERYTHING\t(~0)\n\nstruct carl9170_bcn_ctrl_cmd {\n\t__le32\t\tvif_id;\n\t__le32\t\tmode;\n\t__le32\t\tbcn_addr;\n\t__le32\t\tbcn_len;\n} __packed;\n#define CARL9170_BCN_CTRL_CMD_SIZE\t16\n\n#define CARL9170_BCN_CTRL_DRAIN\t0\n#define CARL9170_BCN_CTRL_CAB_TRIGGER\t1\n\nstruct carl9170_wol_cmd {\n\t__le32\t\tflags;\n\tu8\t\tmac[6];\n\tu8\t\tbssid[6];\n\t__le32\t\tnull_interval;\n\t__le32\t\tfree_for_use2;\n\t__le32\t\tmask;\n\tu8\t\tpattern[32];\n} __packed;\n\n#define CARL9170_WOL_CMD_SIZE\t\t60\n\n#define CARL9170_WOL_DISCONNECT\t\t1\n#define CARL9170_WOL_MAGIC_PKT\t\t2\n\nstruct carl9170_cmd_head {\n\tunion {\n\t\tstruct {\n\t\t\tu8\tlen;\n\t\t\tu8\tcmd;\n\t\t\tu8\tseq;\n\t\t\tu8\text;\n\t\t} __packed;\n\n\t\tu32 hdr_data;\n\t} __packed;\n} __packed;\n\nstruct carl9170_cmd {\n\tstruct carl9170_cmd_head hdr;\n\tunion {\n\t\tstruct carl9170_set_key_cmd\tsetkey;\n\t\tstruct carl9170_disable_key_cmd\tdisablekey;\n\t\tstruct carl9170_u32_list\techo;\n\t\tstruct carl9170_reg_list\trreg;\n\t\tstruct carl9170_write_reg\twreg;\n\t\tstruct carl9170_write_reg_byte\twregb;\n\t\tstruct carl9170_rf_init\t\trf_init;\n\t\tstruct carl9170_psm\t\tpsm;\n\t\tstruct carl9170_wol_cmd\t\twol;\n\t\tstruct carl9170_bcn_ctrl_cmd\tbcn_ctrl;\n\t\tstruct carl9170_rx_filter_cmd\trx_filter;\n\t\tu8 data[CARL9170_MAX_CMD_PAYLOAD_LEN];\n\t} __packed __aligned(4);\n} __packed __aligned(4);\n\n#define\tCARL9170_TX_STATUS_QUEUE\t3\n#define\tCARL9170_TX_STATUS_QUEUE_S\t0\n#define\tCARL9170_TX_STATUS_RIX_S\t2\n#define\tCARL9170_TX_STATUS_RIX\t\t(3 << CARL9170_TX_STATUS_RIX_S)\n#define\tCARL9170_TX_STATUS_TRIES_S\t4\n#define\tCARL9170_TX_STATUS_TRIES\t(7 << CARL9170_TX_STATUS_TRIES_S)\n#define\tCARL9170_TX_STATUS_SUCCESS\t0x80\n\n#ifdef __CARL9170FW__\n \nstruct carl9170_tx_status {\n\t \n\n\tu8 cookie;\n\tu8 queue:2;\n\tu8 rix:2;\n\tu8 tries:3;\n\tu8 success:1;\n} __packed;\n#endif  \n\nstruct _carl9170_tx_status {\n\t \n\n\tu8 cookie;\n\tu8 info;\n} __packed;\n#define CARL9170_TX_STATUS_SIZE\t\t2\n\n#define\tCARL9170_RSP_TX_STATUS_NUM\t(CARL9170_MAX_CMD_PAYLOAD_LEN /\t\\\n\t\t\t\t\t sizeof(struct _carl9170_tx_status))\n\n#define\tCARL9170_TX_MAX_RATE_TRIES\t7\n\n#define\tCARL9170_TX_MAX_RATES\t\t4\n#define\tCARL9170_TX_MAX_RETRY_RATES\t(CARL9170_TX_MAX_RATES - 1)\n#define\tCARL9170_ERR_MAGIC\t\t\"ERR:\"\n#define\tCARL9170_BUG_MAGIC\t\t\"BUG:\"\n\nstruct carl9170_gpio {\n\t__le32 gpio;\n} __packed;\n#define CARL9170_GPIO_SIZE\t\t4\n\nstruct carl9170_tsf_rsp {\n\tunion {\n\t\t__le32 tsf[2];\n\t\t__le64 tsf_64;\n\t} __packed;\n} __packed;\n#define CARL9170_TSF_RSP_SIZE\t\t8\n\nstruct carl9170_tally_rsp {\n\t__le32 active;\n\t__le32 cca;\n\t__le32 tx_time;\n\t__le32 rx_total;\n\t__le32 rx_overrun;\n\t__le32 tick;\n} __packed;\n\nstruct carl9170_rsp {\n\tstruct carl9170_cmd_head hdr;\n\n\tunion {\n\t\tstruct carl9170_rf_init_result\trf_init_res;\n\t\tstruct carl9170_u32_list\trreg_res;\n\t\tstruct carl9170_u32_list\techo;\n#ifdef __CARL9170FW__\n\t\tDECLARE_FLEX_ARRAY(struct carl9170_tx_status, tx_status);\n#endif  \n\t\tDECLARE_FLEX_ARRAY(struct _carl9170_tx_status, _tx_status);\n\t\tstruct carl9170_gpio\t\tgpio;\n\t\tstruct carl9170_tsf_rsp\t\ttsf;\n\t\tstruct carl9170_psm\t\tpsm;\n\t\tstruct carl9170_tally_rsp\ttally;\n\t\tu8 data[CARL9170_MAX_CMD_PAYLOAD_LEN];\n\t} __packed;\n} __packed __aligned(4);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}