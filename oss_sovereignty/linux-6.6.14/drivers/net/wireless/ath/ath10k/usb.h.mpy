{
  "module_name": "usb.h",
  "hash_id": "4d8a0f83c8a5673fc6b696feaab2f8af09bd285eb87b6513ae93c4401faf976d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/ath10k/usb.h",
  "human_readable_source": " \n \n\n#ifndef _USB_H_\n#define _USB_H_\n\n \n#define TX_URB_COUNT               32\n#define RX_URB_COUNT               32\n#define ATH10K_USB_RX_BUFFER_SIZE  4096\n\n#define ATH10K_USB_PIPE_INVALID ATH10K_USB_PIPE_MAX\n\n \n#define ATH10K_USB_EP_ADDR_APP_CTRL_IN          0x81\n#define ATH10K_USB_EP_ADDR_APP_DATA_IN          0x82\n#define ATH10K_USB_EP_ADDR_APP_DATA2_IN         0x83\n#define ATH10K_USB_EP_ADDR_APP_INT_IN           0x84\n\n#define ATH10K_USB_EP_ADDR_APP_CTRL_OUT         0x01\n#define ATH10K_USB_EP_ADDR_APP_DATA_LP_OUT      0x02\n#define ATH10K_USB_EP_ADDR_APP_DATA_MP_OUT      0x03\n#define ATH10K_USB_EP_ADDR_APP_DATA_HP_OUT      0x04\n\n \n#define ATH10K_USB_CONTROL_REQ_SEND_BMI_CMD        1\n#define ATH10K_USB_CONTROL_REQ_RECV_BMI_RESP       2\n#define ATH10K_USB_CONTROL_REQ_DIAG_CMD            3\n#define ATH10K_USB_CONTROL_REQ_DIAG_RESP           4\n\n#define ATH10K_USB_CTRL_DIAG_CC_READ               0\n#define ATH10K_USB_CTRL_DIAG_CC_WRITE              1\n\n#define ATH10K_USB_IS_BULK_EP(attr) (((attr) & 3) == 0x02)\n#define ATH10K_USB_IS_INT_EP(attr)  (((attr) & 3) == 0x03)\n#define ATH10K_USB_IS_ISOC_EP(attr) (((attr) & 3) == 0x01)\n#define ATH10K_USB_IS_DIR_IN(addr)  ((addr) & 0x80)\n\nstruct ath10k_usb_ctrl_diag_cmd_write {\n\t__le32 cmd;\n\t__le32 address;\n\t__le32 value;\n\t__le32 padding;\n} __packed;\n\nstruct ath10k_usb_ctrl_diag_cmd_read {\n\t__le32 cmd;\n\t__le32 address;\n} __packed;\n\nstruct ath10k_usb_ctrl_diag_resp_read {\n\tu8 value[4];\n} __packed;\n\n \nenum ath10k_usb_pipe_id {\n\tATH10K_USB_PIPE_TX_CTRL = 0,\n\tATH10K_USB_PIPE_TX_DATA_LP,\n\tATH10K_USB_PIPE_TX_DATA_MP,\n\tATH10K_USB_PIPE_TX_DATA_HP,\n\tATH10K_USB_PIPE_RX_CTRL,\n\tATH10K_USB_PIPE_RX_DATA,\n\tATH10K_USB_PIPE_RX_DATA2,\n\tATH10K_USB_PIPE_RX_INT,\n\tATH10K_USB_PIPE_MAX\n};\n\nstruct ath10k_usb_pipe {\n\tstruct list_head urb_list_head;\n\tstruct usb_anchor urb_submitted;\n\tu32 urb_alloc;\n\tu32 urb_cnt;\n\tu32 urb_cnt_thresh;\n\tunsigned int usb_pipe_handle;\n\tu32 flags;\n\tu8 ep_address;\n\tu8 logical_pipe_num;\n\tstruct ath10k_usb *ar_usb;\n\tu16 max_packet_size;\n\tstruct work_struct io_complete_work;\n\tstruct sk_buff_head io_comp_queue;\n\tstruct usb_endpoint_descriptor *ep_desc;\n};\n\n#define ATH10K_USB_PIPE_FLAG_TX BIT(0)\n\n \nstruct ath10k_usb {\n\t \n\tspinlock_t cs_lock;\n\n\tstruct usb_device *udev;\n\tstruct usb_interface *interface;\n\tstruct ath10k_usb_pipe pipes[ATH10K_USB_PIPE_MAX];\n\tu8 *diag_cmd_buffer;\n\tu8 *diag_resp_buffer;\n\tstruct ath10k *ar;\n};\n\n \nstruct ath10k_urb_context {\n\tstruct list_head link;\n\tstruct ath10k_usb_pipe *pipe;\n\tstruct sk_buff *skb;\n\tstruct ath10k *ar;\n};\n\nstatic inline struct ath10k_usb *ath10k_usb_priv(struct ath10k *ar)\n{\n\treturn (struct ath10k_usb *)ar->drv_priv;\n}\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}