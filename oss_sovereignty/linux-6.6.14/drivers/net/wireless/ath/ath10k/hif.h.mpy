{
  "module_name": "hif.h",
  "hash_id": "b408b3fe6fc3cbb3f0d193c8712bf7d15b1e142b104834effe5cecc8d8329118",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/ath10k/hif.h",
  "human_readable_source": " \n \n\n#ifndef _HIF_H_\n#define _HIF_H_\n\n#include <linux/kernel.h>\n#include \"core.h\"\n#include \"bmi.h\"\n#include \"debug.h\"\n\n \nenum ath_dbg_mode {\n\tATH10K_ENABLE_FW_LOG_DIAG,\n\tATH10K_ENABLE_FW_LOG_CE,\n};\n\nstruct ath10k_hif_sg_item {\n\tu16 transfer_id;\n\tvoid *transfer_context;  \n\tvoid *vaddr;  \n\tdma_addr_t paddr;\n\tu16 len;\n};\n\nstruct ath10k_hif_ops {\n\t \n\tint (*tx_sg)(struct ath10k *ar, u8 pipe_id,\n\t\t     struct ath10k_hif_sg_item *items, int n_items);\n\n\t \n\tint (*diag_read)(struct ath10k *ar, u32 address, void *buf,\n\t\t\t size_t buf_len);\n\n\tint (*diag_write)(struct ath10k *ar, u32 address, const void *data,\n\t\t\t  int nbytes);\n\t \n\tint (*exchange_bmi_msg)(struct ath10k *ar,\n\t\t\t\tvoid *request, u32 request_len,\n\t\t\t\tvoid *response, u32 *response_len);\n\n\t \n\tint (*start)(struct ath10k *ar);\n\n\t \n\tvoid (*stop)(struct ath10k *ar);\n\n\tint (*start_post)(struct ath10k *ar);\n\n\tint (*get_htt_tx_complete)(struct ath10k *ar);\n\n\tint (*map_service_to_pipe)(struct ath10k *ar, u16 service_id,\n\t\t\t\t   u8 *ul_pipe, u8 *dl_pipe);\n\n\tvoid (*get_default_pipe)(struct ath10k *ar, u8 *ul_pipe, u8 *dl_pipe);\n\n\t \n\tvoid (*send_complete_check)(struct ath10k *ar, u8 pipe_id, int force);\n\n\tu16 (*get_free_queue_number)(struct ath10k *ar, u8 pipe_id);\n\n\tu32 (*read32)(struct ath10k *ar, u32 address);\n\n\tvoid (*write32)(struct ath10k *ar, u32 address, u32 value);\n\n\t \n\tint (*power_up)(struct ath10k *ar, enum ath10k_firmware_mode fw_mode);\n\n\t \n\tvoid (*power_down)(struct ath10k *ar);\n\n\tint (*suspend)(struct ath10k *ar);\n\tint (*resume)(struct ath10k *ar);\n\n\t \n\tint (*fetch_cal_eeprom)(struct ath10k *ar, void **data,\n\t\t\t\tsize_t *data_len);\n\n\tint (*get_target_info)(struct ath10k *ar,\n\t\t\t       struct bmi_target_info *target_info);\n\tint (*set_target_log_mode)(struct ath10k *ar, u8 fw_log_mode);\n};\n\nstatic inline int ath10k_hif_tx_sg(struct ath10k *ar, u8 pipe_id,\n\t\t\t\t   struct ath10k_hif_sg_item *items,\n\t\t\t\t   int n_items)\n{\n\treturn ar->hif.ops->tx_sg(ar, pipe_id, items, n_items);\n}\n\nstatic inline int ath10k_hif_diag_read(struct ath10k *ar, u32 address, void *buf,\n\t\t\t\t       size_t buf_len)\n{\n\treturn ar->hif.ops->diag_read(ar, address, buf, buf_len);\n}\n\nstatic inline int ath10k_hif_diag_write(struct ath10k *ar, u32 address,\n\t\t\t\t\tconst void *data, int nbytes)\n{\n\tif (!ar->hif.ops->diag_write)\n\t\treturn -EOPNOTSUPP;\n\n\treturn ar->hif.ops->diag_write(ar, address, data, nbytes);\n}\n\nstatic inline int ath10k_hif_exchange_bmi_msg(struct ath10k *ar,\n\t\t\t\t\t      void *request, u32 request_len,\n\t\t\t\t\t      void *response, u32 *response_len)\n{\n\treturn ar->hif.ops->exchange_bmi_msg(ar, request, request_len,\n\t\t\t\t\t     response, response_len);\n}\n\nstatic inline int ath10k_hif_start(struct ath10k *ar)\n{\n\treturn ar->hif.ops->start(ar);\n}\n\nstatic inline void ath10k_hif_stop(struct ath10k *ar)\n{\n\treturn ar->hif.ops->stop(ar);\n}\n\nstatic inline int ath10k_hif_start_post(struct ath10k *ar)\n{\n\tif (ar->hif.ops->start_post)\n\t\treturn ar->hif.ops->start_post(ar);\n\treturn 0;\n}\n\nstatic inline int ath10k_hif_get_htt_tx_complete(struct ath10k *ar)\n{\n\tif (ar->hif.ops->get_htt_tx_complete)\n\t\treturn ar->hif.ops->get_htt_tx_complete(ar);\n\treturn 0;\n}\n\nstatic inline int ath10k_hif_map_service_to_pipe(struct ath10k *ar,\n\t\t\t\t\t\t u16 service_id,\n\t\t\t\t\t\t u8 *ul_pipe, u8 *dl_pipe)\n{\n\treturn ar->hif.ops->map_service_to_pipe(ar, service_id,\n\t\t\t\t\t\tul_pipe, dl_pipe);\n}\n\nstatic inline void ath10k_hif_get_default_pipe(struct ath10k *ar,\n\t\t\t\t\t       u8 *ul_pipe, u8 *dl_pipe)\n{\n\tar->hif.ops->get_default_pipe(ar, ul_pipe, dl_pipe);\n}\n\nstatic inline void ath10k_hif_send_complete_check(struct ath10k *ar,\n\t\t\t\t\t\t  u8 pipe_id, int force)\n{\n\tif (ar->hif.ops->send_complete_check)\n\t\tar->hif.ops->send_complete_check(ar, pipe_id, force);\n}\n\nstatic inline u16 ath10k_hif_get_free_queue_number(struct ath10k *ar,\n\t\t\t\t\t\t   u8 pipe_id)\n{\n\treturn ar->hif.ops->get_free_queue_number(ar, pipe_id);\n}\n\nstatic inline int ath10k_hif_power_up(struct ath10k *ar,\n\t\t\t\t      enum ath10k_firmware_mode fw_mode)\n{\n\treturn ar->hif.ops->power_up(ar, fw_mode);\n}\n\nstatic inline void ath10k_hif_power_down(struct ath10k *ar)\n{\n\tar->hif.ops->power_down(ar);\n}\n\nstatic inline int ath10k_hif_suspend(struct ath10k *ar)\n{\n\tif (!ar->hif.ops->suspend)\n\t\treturn -EOPNOTSUPP;\n\n\treturn ar->hif.ops->suspend(ar);\n}\n\nstatic inline int ath10k_hif_resume(struct ath10k *ar)\n{\n\tif (!ar->hif.ops->resume)\n\t\treturn -EOPNOTSUPP;\n\n\treturn ar->hif.ops->resume(ar);\n}\n\nstatic inline u32 ath10k_hif_read32(struct ath10k *ar, u32 address)\n{\n\tif (!ar->hif.ops->read32) {\n\t\tath10k_warn(ar, \"hif read32 not supported\\n\");\n\t\treturn 0xdeaddead;\n\t}\n\n\treturn ar->hif.ops->read32(ar, address);\n}\n\nstatic inline void ath10k_hif_write32(struct ath10k *ar,\n\t\t\t\t      u32 address, u32 data)\n{\n\tif (!ar->hif.ops->write32) {\n\t\tath10k_warn(ar, \"hif write32 not supported\\n\");\n\t\treturn;\n\t}\n\n\tar->hif.ops->write32(ar, address, data);\n}\n\nstatic inline int ath10k_hif_fetch_cal_eeprom(struct ath10k *ar,\n\t\t\t\t\t      void **data,\n\t\t\t\t\t      size_t *data_len)\n{\n\tif (!ar->hif.ops->fetch_cal_eeprom)\n\t\treturn -EOPNOTSUPP;\n\n\treturn ar->hif.ops->fetch_cal_eeprom(ar, data, data_len);\n}\n\nstatic inline int ath10k_hif_get_target_info(struct ath10k *ar,\n\t\t\t\t\t     struct bmi_target_info *tgt_info)\n{\n\tif (!ar->hif.ops->get_target_info)\n\t\treturn -EOPNOTSUPP;\n\n\treturn ar->hif.ops->get_target_info(ar, tgt_info);\n}\n\nstatic inline int ath10k_hif_set_target_log_mode(struct ath10k *ar,\n\t\t\t\t\t\t u8 fw_log_mode)\n{\n\tif (!ar->hif.ops->set_target_log_mode)\n\t\treturn -EOPNOTSUPP;\n\n\treturn ar->hif.ops->set_target_log_mode(ar, fw_log_mode);\n}\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}