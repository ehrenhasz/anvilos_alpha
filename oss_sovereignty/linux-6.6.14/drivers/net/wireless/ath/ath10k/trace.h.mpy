{
  "module_name": "trace.h",
  "hash_id": "c5174b03b2895ef4bc24e9a4d71e33fa7f6012e14f34236261f873740a6e1c1c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/ath10k/trace.h",
  "human_readable_source": " \n \n\n#if !defined(_TRACE_H_) || defined(TRACE_HEADER_MULTI_READ)\n\n#include <linux/tracepoint.h>\n#include \"core.h\"\n\n#if !defined(_TRACE_H_)\nstatic inline u32 ath10k_frm_hdr_len(const void *buf, size_t len)\n{\n\tconst struct ieee80211_hdr *hdr = buf;\n\n\t \n\treturn min_t(u32, len, ieee80211_hdrlen(hdr->frame_control));\n}\n#endif\n\n#define _TRACE_H_\n\n \n#if !defined(CONFIG_ATH10K_TRACING)\n#undef TRACE_EVENT\n#define TRACE_EVENT(name, proto, ...) \\\nstatic inline void trace_ ## name(proto) {} \\\nstatic inline bool trace_##name##_enabled(void) \\\n{\t\t\t\t\t\t\\\n\treturn false;\t\t\t\t\\\n}\n#undef DECLARE_EVENT_CLASS\n#define DECLARE_EVENT_CLASS(...)\n#undef DEFINE_EVENT\n#define DEFINE_EVENT(evt_class, name, proto, ...) \\\nstatic inline void trace_ ## name(proto) {}\n#endif  \n\n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM ath10k\n\n#define ATH10K_MSG_MAX 400\n\nDECLARE_EVENT_CLASS(ath10k_log_event,\n\tTP_PROTO(struct ath10k *ar, struct va_format *vaf),\n\tTP_ARGS(ar, vaf),\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ar->dev))\n\t\t__string(driver, dev_driver_string(ar->dev))\n\t\t__vstring(msg, vaf->fmt, vaf->va)\n\t),\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ar->dev));\n\t\t__assign_str(driver, dev_driver_string(ar->dev));\n\t\t__assign_vstr(msg, vaf->fmt, vaf->va);\n\t),\n\tTP_printk(\n\t\t\"%s %s %s\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__get_str(msg)\n\t)\n);\n\nDEFINE_EVENT(ath10k_log_event, ath10k_log_err,\n\t     TP_PROTO(struct ath10k *ar, struct va_format *vaf),\n\t     TP_ARGS(ar, vaf)\n);\n\nDEFINE_EVENT(ath10k_log_event, ath10k_log_warn,\n\t     TP_PROTO(struct ath10k *ar, struct va_format *vaf),\n\t     TP_ARGS(ar, vaf)\n);\n\nDEFINE_EVENT(ath10k_log_event, ath10k_log_info,\n\t     TP_PROTO(struct ath10k *ar, struct va_format *vaf),\n\t     TP_ARGS(ar, vaf)\n);\n\nTRACE_EVENT(ath10k_log_dbg,\n\tTP_PROTO(struct ath10k *ar, unsigned int level, struct va_format *vaf),\n\tTP_ARGS(ar, level, vaf),\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ar->dev))\n\t\t__string(driver, dev_driver_string(ar->dev))\n\t\t__field(unsigned int, level)\n\t\t__vstring(msg, vaf->fmt, vaf->va)\n\t),\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ar->dev));\n\t\t__assign_str(driver, dev_driver_string(ar->dev));\n\t\t__entry->level = level;\n\t\t__assign_vstr(msg, vaf->fmt, vaf->va);\n\t),\n\tTP_printk(\n\t\t\"%s %s %s\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__get_str(msg)\n\t)\n);\n\nTRACE_EVENT(ath10k_log_dbg_dump,\n\tTP_PROTO(struct ath10k *ar, const char *msg, const char *prefix,\n\t\t const void *buf, size_t buf_len),\n\n\tTP_ARGS(ar, msg, prefix, buf, buf_len),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ar->dev))\n\t\t__string(driver, dev_driver_string(ar->dev))\n\t\t__string(msg, msg)\n\t\t__string(prefix, prefix)\n\t\t__field(size_t, buf_len)\n\t\t__dynamic_array(u8, buf, buf_len)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ar->dev));\n\t\t__assign_str(driver, dev_driver_string(ar->dev));\n\t\t__assign_str(msg, msg);\n\t\t__assign_str(prefix, prefix);\n\t\t__entry->buf_len = buf_len;\n\t\tmemcpy(__get_dynamic_array(buf), buf, buf_len);\n\t),\n\n\tTP_printk(\n\t\t\"%s %s %s/%s\\n\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__get_str(prefix),\n\t\t__get_str(msg)\n\t)\n);\n\nTRACE_EVENT(ath10k_wmi_cmd,\n\tTP_PROTO(struct ath10k *ar, int id, const void *buf, size_t buf_len),\n\n\tTP_ARGS(ar, id, buf, buf_len),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ar->dev))\n\t\t__string(driver, dev_driver_string(ar->dev))\n\t\t__field(unsigned int, id)\n\t\t__field(size_t, buf_len)\n\t\t__dynamic_array(u8, buf, buf_len)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ar->dev));\n\t\t__assign_str(driver, dev_driver_string(ar->dev));\n\t\t__entry->id = id;\n\t\t__entry->buf_len = buf_len;\n\t\tmemcpy(__get_dynamic_array(buf), buf, buf_len);\n\t),\n\n\tTP_printk(\n\t\t\"%s %s id %d len %zu\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__entry->id,\n\t\t__entry->buf_len\n\t)\n);\n\nTRACE_EVENT(ath10k_wmi_event,\n\tTP_PROTO(struct ath10k *ar, int id, const void *buf, size_t buf_len),\n\n\tTP_ARGS(ar, id, buf, buf_len),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ar->dev))\n\t\t__string(driver, dev_driver_string(ar->dev))\n\t\t__field(unsigned int, id)\n\t\t__field(size_t, buf_len)\n\t\t__dynamic_array(u8, buf, buf_len)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ar->dev));\n\t\t__assign_str(driver, dev_driver_string(ar->dev));\n\t\t__entry->id = id;\n\t\t__entry->buf_len = buf_len;\n\t\tmemcpy(__get_dynamic_array(buf), buf, buf_len);\n\t),\n\n\tTP_printk(\n\t\t\"%s %s id %d len %zu\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__entry->id,\n\t\t__entry->buf_len\n\t)\n);\n\nTRACE_EVENT(ath10k_htt_stats,\n\tTP_PROTO(struct ath10k *ar, const void *buf, size_t buf_len),\n\n\tTP_ARGS(ar, buf, buf_len),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ar->dev))\n\t\t__string(driver, dev_driver_string(ar->dev))\n\t\t__field(size_t, buf_len)\n\t\t__dynamic_array(u8, buf, buf_len)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ar->dev));\n\t\t__assign_str(driver, dev_driver_string(ar->dev));\n\t\t__entry->buf_len = buf_len;\n\t\tmemcpy(__get_dynamic_array(buf), buf, buf_len);\n\t),\n\n\tTP_printk(\n\t\t\"%s %s len %zu\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__entry->buf_len\n\t)\n);\n\nTRACE_EVENT(ath10k_wmi_dbglog,\n\tTP_PROTO(struct ath10k *ar, const void *buf, size_t buf_len),\n\n\tTP_ARGS(ar, buf, buf_len),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ar->dev))\n\t\t__string(driver, dev_driver_string(ar->dev))\n\t\t__field(u8, hw_type)\n\t\t__field(size_t, buf_len)\n\t\t__dynamic_array(u8, buf, buf_len)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ar->dev));\n\t\t__assign_str(driver, dev_driver_string(ar->dev));\n\t\t__entry->hw_type = ar->hw_rev;\n\t\t__entry->buf_len = buf_len;\n\t\tmemcpy(__get_dynamic_array(buf), buf, buf_len);\n\t),\n\n\tTP_printk(\n\t\t\"%s %s %d len %zu\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__entry->hw_type,\n\t\t__entry->buf_len\n\t)\n);\n\nTRACE_EVENT(ath10k_htt_pktlog,\n\t    TP_PROTO(struct ath10k *ar, const void *buf, u16 buf_len),\n\n\tTP_ARGS(ar, buf, buf_len),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ar->dev))\n\t\t__string(driver, dev_driver_string(ar->dev))\n\t\t__field(u8, hw_type)\n\t\t__field(u16, buf_len)\n\t\t__dynamic_array(u8, pktlog, buf_len)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ar->dev));\n\t\t__assign_str(driver, dev_driver_string(ar->dev));\n\t\t__entry->hw_type = ar->hw_rev;\n\t\t__entry->buf_len = buf_len;\n\t\tmemcpy(__get_dynamic_array(pktlog), buf, buf_len);\n\t),\n\n\tTP_printk(\n\t\t\"%s %s %d size %u\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__entry->hw_type,\n\t\t__entry->buf_len\n\t )\n);\n\nTRACE_EVENT(ath10k_htt_tx,\n\t    TP_PROTO(struct ath10k *ar, u16 msdu_id, u16 msdu_len,\n\t\t     u8 vdev_id, u8 tid),\n\n\tTP_ARGS(ar, msdu_id, msdu_len, vdev_id, tid),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ar->dev))\n\t\t__string(driver, dev_driver_string(ar->dev))\n\t\t__field(u16, msdu_id)\n\t\t__field(u16, msdu_len)\n\t\t__field(u8, vdev_id)\n\t\t__field(u8, tid)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ar->dev));\n\t\t__assign_str(driver, dev_driver_string(ar->dev));\n\t\t__entry->msdu_id = msdu_id;\n\t\t__entry->msdu_len = msdu_len;\n\t\t__entry->vdev_id = vdev_id;\n\t\t__entry->tid = tid;\n\t),\n\n\tTP_printk(\n\t\t\"%s %s msdu_id %d msdu_len %d vdev_id %d tid %d\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__entry->msdu_id,\n\t\t__entry->msdu_len,\n\t\t__entry->vdev_id,\n\t\t__entry->tid\n\t )\n);\n\nTRACE_EVENT(ath10k_txrx_tx_unref,\n\t    TP_PROTO(struct ath10k *ar, u16 msdu_id),\n\n\tTP_ARGS(ar, msdu_id),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ar->dev))\n\t\t__string(driver, dev_driver_string(ar->dev))\n\t\t__field(u16, msdu_id)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ar->dev));\n\t\t__assign_str(driver, dev_driver_string(ar->dev));\n\t\t__entry->msdu_id = msdu_id;\n\t),\n\n\tTP_printk(\n\t\t\"%s %s msdu_id %d\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__entry->msdu_id\n\t )\n);\n\nDECLARE_EVENT_CLASS(ath10k_hdr_event,\n\t\t    TP_PROTO(struct ath10k *ar, const void *data, size_t len),\n\n\tTP_ARGS(ar, data, len),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ar->dev))\n\t\t__string(driver, dev_driver_string(ar->dev))\n\t\t__field(size_t, len)\n\t\t__dynamic_array(u8, data, ath10k_frm_hdr_len(data, len))\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ar->dev));\n\t\t__assign_str(driver, dev_driver_string(ar->dev));\n\t\t__entry->len = ath10k_frm_hdr_len(data, len);\n\t\tmemcpy(__get_dynamic_array(data), data, __entry->len);\n\t),\n\n\tTP_printk(\n\t\t\"%s %s len %zu\\n\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__entry->len\n\t)\n);\n\nDECLARE_EVENT_CLASS(ath10k_payload_event,\n\t\t    TP_PROTO(struct ath10k *ar, const void *data, size_t len),\n\n\tTP_ARGS(ar, data, len),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ar->dev))\n\t\t__string(driver, dev_driver_string(ar->dev))\n\t\t__field(size_t, len)\n\t\t__dynamic_array(u8, payload, (len -\n\t\t\t\t\t      ath10k_frm_hdr_len(data, len)))\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ar->dev));\n\t\t__assign_str(driver, dev_driver_string(ar->dev));\n\t\t__entry->len = len - ath10k_frm_hdr_len(data, len);\n\t\tmemcpy(__get_dynamic_array(payload),\n\t\t       data + ath10k_frm_hdr_len(data, len), __entry->len);\n\t),\n\n\tTP_printk(\n\t\t\"%s %s len %zu\\n\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__entry->len\n\t)\n);\n\nDEFINE_EVENT(ath10k_hdr_event, ath10k_tx_hdr,\n\t     TP_PROTO(struct ath10k *ar, const void *data, size_t len),\n\t     TP_ARGS(ar, data, len)\n);\n\nDEFINE_EVENT(ath10k_payload_event, ath10k_tx_payload,\n\t     TP_PROTO(struct ath10k *ar, const void *data, size_t len),\n\t     TP_ARGS(ar, data, len)\n);\n\nDEFINE_EVENT(ath10k_hdr_event, ath10k_rx_hdr,\n\t     TP_PROTO(struct ath10k *ar, const void *data, size_t len),\n\t     TP_ARGS(ar, data, len)\n);\n\nDEFINE_EVENT(ath10k_payload_event, ath10k_rx_payload,\n\t     TP_PROTO(struct ath10k *ar, const void *data, size_t len),\n\t     TP_ARGS(ar, data, len)\n);\n\nTRACE_EVENT(ath10k_htt_rx_desc,\n\t    TP_PROTO(struct ath10k *ar, const void *data, size_t len),\n\n\tTP_ARGS(ar, data, len),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ar->dev))\n\t\t__string(driver, dev_driver_string(ar->dev))\n\t\t__field(u8, hw_type)\n\t\t__field(u16, len)\n\t\t__dynamic_array(u8, rxdesc, len)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ar->dev));\n\t\t__assign_str(driver, dev_driver_string(ar->dev));\n\t\t__entry->hw_type = ar->hw_rev;\n\t\t__entry->len = len;\n\t\tmemcpy(__get_dynamic_array(rxdesc), data, len);\n\t),\n\n\tTP_printk(\n\t\t\"%s %s %d rxdesc len %d\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__entry->hw_type,\n\t\t__entry->len\n\t )\n);\n\nTRACE_EVENT(ath10k_wmi_diag_container,\n\t    TP_PROTO(struct ath10k *ar,\n\t\t     u8 type,\n\t\t     u32 timestamp,\n\t\t     u32 code,\n\t\t     u16 len,\n\t\t     const void *data),\n\n\tTP_ARGS(ar, type, timestamp, code, len, data),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ar->dev))\n\t\t__string(driver, dev_driver_string(ar->dev))\n\t\t__field(u8, type)\n\t\t__field(u32, timestamp)\n\t\t__field(u32, code)\n\t\t__field(u16, len)\n\t\t__dynamic_array(u8, data, len)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ar->dev));\n\t\t__assign_str(driver, dev_driver_string(ar->dev));\n\t\t__entry->type = type;\n\t\t__entry->timestamp = timestamp;\n\t\t__entry->code = code;\n\t\t__entry->len = len;\n\t\tmemcpy(__get_dynamic_array(data), data, len);\n\t),\n\n\tTP_printk(\n\t\t\"%s %s diag container type %u timestamp %u code %u len %d\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__entry->type,\n\t\t__entry->timestamp,\n\t\t__entry->code,\n\t\t__entry->len\n\t)\n);\n\nTRACE_EVENT(ath10k_wmi_diag,\n\t    TP_PROTO(struct ath10k *ar, const void *data, size_t len),\n\n\tTP_ARGS(ar, data, len),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(ar->dev))\n\t\t__string(driver, dev_driver_string(ar->dev))\n\t\t__field(u16, len)\n\t\t__dynamic_array(u8, data, len)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(ar->dev));\n\t\t__assign_str(driver, dev_driver_string(ar->dev));\n\t\t__entry->len = len;\n\t\tmemcpy(__get_dynamic_array(data), data, len);\n\t),\n\n\tTP_printk(\n\t\t\"%s %s tlv diag len %d\",\n\t\t__get_str(driver),\n\t\t__get_str(device),\n\t\t__entry->len\n\t)\n);\n\n#endif  \n\n \n#undef TRACE_INCLUDE_PATH\n#define TRACE_INCLUDE_PATH .\n#undef TRACE_INCLUDE_FILE\n#define TRACE_INCLUDE_FILE trace\n\n \n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}