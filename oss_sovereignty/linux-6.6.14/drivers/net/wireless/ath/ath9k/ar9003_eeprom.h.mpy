{
  "module_name": "ar9003_eeprom.h",
  "hash_id": "8a9d46be9aa6c56a10360cd574174144ace8d0397bcccbb70390b0af98aaf8ec",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/ath9k/ar9003_eeprom.h",
  "human_readable_source": " \n\n#ifndef AR9003_EEPROM_H\n#define AR9003_EEPROM_H\n\n#include <linux/types.h>\n\n#define AR9300_EEP_VER               0xD000\n#define AR9300_EEP_VER_MINOR_MASK    0xFFF\n#define AR9300_EEP_MINOR_VER_1       0x1\n#define AR9300_EEP_MINOR_VER         AR9300_EEP_MINOR_VER_1\n\n \n#define AR9300_EEP_START_LOC         256\n#define AR9300_NUM_5G_CAL_PIERS      8\n#define AR9300_NUM_2G_CAL_PIERS      3\n#define AR9300_NUM_5G_20_TARGET_POWERS  8\n#define AR9300_NUM_5G_40_TARGET_POWERS  8\n#define AR9300_NUM_2G_CCK_TARGET_POWERS 2\n#define AR9300_NUM_2G_20_TARGET_POWERS  3\n#define AR9300_NUM_2G_40_TARGET_POWERS  3\n \n#define AR9300_NUM_CTLS_5G           9\n#define AR9300_NUM_CTLS_2G           12\n#define AR9300_NUM_BAND_EDGES_5G     8\n#define AR9300_NUM_BAND_EDGES_2G     4\n#define AR9300_EEPMISC_WOW           0x02\n#define AR9300_CUSTOMER_DATA_SIZE    20\n\n#define AR9300_MAX_CHAINS            3\n#define AR9300_ANT_16S               25\n#define AR9300_FUTURE_MODAL_SZ       6\n\n#define AR9300_PAPRD_RATE_MASK\t\t0x01ffffff\n#define AR9300_PAPRD_SCALE_1\t\t0x0e000000\n#define AR9300_PAPRD_SCALE_1_S\t\t25\n#define AR9300_PAPRD_SCALE_2\t\t0x70000000\n#define AR9300_PAPRD_SCALE_2_S\t\t28\n\n#define AR9300_EEP_ANTDIV_CONTROL_DEFAULT_VALUE 0xc9\n\n \n \n#define AR9300_PWR_TABLE_OFFSET  0\n\n \n#define NOISE_PWR_DATA_OFFSET\t-90\n#define NOISE_PWR_DBM_2_INT(_p)\t((((_p) + 3) >> 2) + NOISE_PWR_DATA_OFFSET)\n#define N2DBM(_p)\t\tNOISE_PWR_DBM_2_INT(_p)\n\n \n#define AR9300_EEPROM_SIZE (16*1024)\n\n#define AR9300_BASE_ADDR_4K 0xfff\n#define AR9300_BASE_ADDR 0x3ff\n#define AR9300_BASE_ADDR_512 0x1ff\n\n \n#define AR9300_EEPMISC_LITTLE_ENDIAN 0\n\n#define AR9300_OTP_BASE(_ah) \\\n\t\t((AR_SREV_9340(_ah) || AR_SREV_9550(_ah)) ? 0x30000 : 0x14000)\n#define AR9300_OTP_STATUS(_ah) \\\n\t\t((AR_SREV_9340(_ah) || AR_SREV_9550(_ah)) ? 0x31018 : 0x15f18)\n#define AR9300_OTP_STATUS_TYPE\t\t0x7\n#define AR9300_OTP_STATUS_VALID\t\t0x4\n#define AR9300_OTP_STATUS_ACCESS_BUSY\t0x2\n#define AR9300_OTP_STATUS_SM_BUSY\t0x1\n#define AR9300_OTP_READ_DATA(_ah) \\\n\t\t((AR_SREV_9340(_ah) || AR_SREV_9550(_ah)) ? 0x3101c : 0x15f1c)\n\nenum targetPowerHTRates {\n\tHT_TARGET_RATE_0_8_16,\n\tHT_TARGET_RATE_1_3_9_11_17_19,\n\tHT_TARGET_RATE_4,\n\tHT_TARGET_RATE_5,\n\tHT_TARGET_RATE_6,\n\tHT_TARGET_RATE_7,\n\tHT_TARGET_RATE_12,\n\tHT_TARGET_RATE_13,\n\tHT_TARGET_RATE_14,\n\tHT_TARGET_RATE_15,\n\tHT_TARGET_RATE_20,\n\tHT_TARGET_RATE_21,\n\tHT_TARGET_RATE_22,\n\tHT_TARGET_RATE_23\n};\n\nenum targetPowerLegacyRates {\n\tLEGACY_TARGET_RATE_6_24,\n\tLEGACY_TARGET_RATE_36,\n\tLEGACY_TARGET_RATE_48,\n\tLEGACY_TARGET_RATE_54\n};\n\nenum targetPowerCckRates {\n\tLEGACY_TARGET_RATE_1L_5L,\n\tLEGACY_TARGET_RATE_5S,\n\tLEGACY_TARGET_RATE_11L,\n\tLEGACY_TARGET_RATE_11S\n};\n\nenum ar9300_Rates {\n\tALL_TARGET_LEGACY_6_24,\n\tALL_TARGET_LEGACY_36,\n\tALL_TARGET_LEGACY_48,\n\tALL_TARGET_LEGACY_54,\n\tALL_TARGET_LEGACY_1L_5L,\n\tALL_TARGET_LEGACY_5S,\n\tALL_TARGET_LEGACY_11L,\n\tALL_TARGET_LEGACY_11S,\n\tALL_TARGET_HT20_0_8_16,\n\tALL_TARGET_HT20_1_3_9_11_17_19,\n\tALL_TARGET_HT20_4,\n\tALL_TARGET_HT20_5,\n\tALL_TARGET_HT20_6,\n\tALL_TARGET_HT20_7,\n\tALL_TARGET_HT20_12,\n\tALL_TARGET_HT20_13,\n\tALL_TARGET_HT20_14,\n\tALL_TARGET_HT20_15,\n\tALL_TARGET_HT20_20,\n\tALL_TARGET_HT20_21,\n\tALL_TARGET_HT20_22,\n\tALL_TARGET_HT20_23,\n\tALL_TARGET_HT40_0_8_16,\n\tALL_TARGET_HT40_1_3_9_11_17_19,\n\tALL_TARGET_HT40_4,\n\tALL_TARGET_HT40_5,\n\tALL_TARGET_HT40_6,\n\tALL_TARGET_HT40_7,\n\tALL_TARGET_HT40_12,\n\tALL_TARGET_HT40_13,\n\tALL_TARGET_HT40_14,\n\tALL_TARGET_HT40_15,\n\tALL_TARGET_HT40_20,\n\tALL_TARGET_HT40_21,\n\tALL_TARGET_HT40_22,\n\tALL_TARGET_HT40_23,\n\tar9300RateSize,\n};\n\n\nstruct eepFlags {\n\tu8 opFlags;\n\tu8 eepMisc;\n} __packed;\n\nenum CompressAlgorithm {\n\t_CompressNone = 0,\n\t_CompressLzma,\n\t_CompressPairs,\n\t_CompressBlock,\n\t_Compress4,\n\t_Compress5,\n\t_Compress6,\n\t_Compress7,\n};\n\nstruct ar9300_base_eep_hdr {\n\t__le16 regDmn[2];\n\t \n\tu8 txrxMask;\n\tstruct eepFlags opCapFlags;\n\tu8 rfSilent;\n\tu8 blueToothOptions;\n\tu8 deviceCap;\n\t \n\tu8 deviceType;\n\t \n\tint8_t pwrTableOffset;\n\tu8 params_for_tuning_caps[2];\n\t \n\tu8 featureEnable;\n\t \n\tu8 miscConfiguration;\n\tu8 eepromWriteEnableGpio;\n\tu8 wlanDisableGpio;\n\tu8 wlanLedGpio;\n\tu8 rxBandSelectGpio;\n\tu8 txrxgain;\n\t \n\t__le32 swreg;\n} __packed;\n\nstruct ar9300_modal_eep_header {\n\t \n\t__le32 antCtrlCommon;\n\t \n\t__le32 antCtrlCommon2;\n\t \n\t__le16 antCtrlChain[AR9300_MAX_CHAINS];\n\t \n\tu8 xatten1DB[AR9300_MAX_CHAINS];\n\t \n\tu8 xatten1Margin[AR9300_MAX_CHAINS];\n\tint8_t tempSlope;\n\tint8_t voltSlope;\n\t \n\tu8 spurChans[AR_EEPROM_MODAL_SPURS];\n\t \n\tint8_t noiseFloorThreshCh[AR9300_MAX_CHAINS];\n\tu8 reserved[11];\n\tint8_t quick_drop;\n\tu8 xpaBiasLvl;\n\tu8 txFrameToDataStart;\n\tu8 txFrameToPaOn;\n\tu8 txClip;\n\tint8_t antennaGain;\n\tu8 switchSettling;\n\tint8_t adcDesiredSize;\n\tu8 txEndToXpaOff;\n\tu8 txEndToRxOn;\n\tu8 txFrameToXpaOn;\n\tu8 thresh62;\n\t__le32 papdRateMaskHt20;\n\t__le32 papdRateMaskHt40;\n\t__le16 switchcomspdt;\n\tu8 xlna_bias_strength;\n\tu8 futureModal[7];\n} __packed;\n\nstruct ar9300_cal_data_per_freq_op_loop {\n\tint8_t refPower;\n\t \n\tu8 voltMeas;\n\t \n\tu8 tempMeas;\n\t \n\tint8_t rxNoisefloorCal;\n\t \n\tint8_t rxNoisefloorPower;\n\t \n\tu8 rxTempMeas;\n} __packed;\n\nstruct cal_tgt_pow_legacy {\n\tu8 tPow2x[4];\n} __packed;\n\nstruct cal_tgt_pow_ht {\n\tu8 tPow2x[14];\n} __packed;\n\nstruct cal_ctl_data_2g {\n\tu8 ctlEdges[AR9300_NUM_BAND_EDGES_2G];\n} __packed;\n\nstruct cal_ctl_data_5g {\n\tu8 ctlEdges[AR9300_NUM_BAND_EDGES_5G];\n} __packed;\n\n#define MAX_BASE_EXTENSION_FUTURE 2\n\nstruct ar9300_BaseExtension_1 {\n\tu8 ant_div_control;\n\tu8 future[MAX_BASE_EXTENSION_FUTURE];\n\t \n\tu8 misc_enable;\n\tint8_t tempslopextension[8];\n\tint8_t quick_drop_low;\n\tint8_t quick_drop_high;\n} __packed;\n\nstruct ar9300_BaseExtension_2 {\n\tint8_t    tempSlopeLow;\n\tint8_t    tempSlopeHigh;\n\tu8   xatten1DBLow[AR9300_MAX_CHAINS];\n\tu8   xatten1MarginLow[AR9300_MAX_CHAINS];\n\tu8   xatten1DBHigh[AR9300_MAX_CHAINS];\n\tu8   xatten1MarginHigh[AR9300_MAX_CHAINS];\n} __packed;\n\nstruct ar9300_eeprom {\n\tu8 eepromVersion;\n\tu8 templateVersion;\n\tu8 macAddr[6];\n\tu8 custData[AR9300_CUSTOMER_DATA_SIZE];\n\n\tstruct ar9300_base_eep_hdr baseEepHeader;\n\n\tstruct ar9300_modal_eep_header modalHeader2G;\n\tstruct ar9300_BaseExtension_1 base_ext1;\n\tu8 calFreqPier2G[AR9300_NUM_2G_CAL_PIERS];\n\tstruct ar9300_cal_data_per_freq_op_loop\n\t calPierData2G[AR9300_MAX_CHAINS][AR9300_NUM_2G_CAL_PIERS];\n\tu8 calTarget_freqbin_Cck[AR9300_NUM_2G_CCK_TARGET_POWERS];\n\tu8 calTarget_freqbin_2G[AR9300_NUM_2G_20_TARGET_POWERS];\n\tu8 calTarget_freqbin_2GHT20[AR9300_NUM_2G_20_TARGET_POWERS];\n\tu8 calTarget_freqbin_2GHT40[AR9300_NUM_2G_40_TARGET_POWERS];\n\tstruct cal_tgt_pow_legacy\n\t calTargetPowerCck[AR9300_NUM_2G_CCK_TARGET_POWERS];\n\tstruct cal_tgt_pow_legacy\n\t calTargetPower2G[AR9300_NUM_2G_20_TARGET_POWERS];\n\tstruct cal_tgt_pow_ht\n\t calTargetPower2GHT20[AR9300_NUM_2G_20_TARGET_POWERS];\n\tstruct cal_tgt_pow_ht\n\t calTargetPower2GHT40[AR9300_NUM_2G_40_TARGET_POWERS];\n\tu8 ctlIndex_2G[AR9300_NUM_CTLS_2G];\n\tu8 ctl_freqbin_2G[AR9300_NUM_CTLS_2G][AR9300_NUM_BAND_EDGES_2G];\n\tstruct cal_ctl_data_2g ctlPowerData_2G[AR9300_NUM_CTLS_2G];\n\tstruct ar9300_modal_eep_header modalHeader5G;\n\tstruct ar9300_BaseExtension_2 base_ext2;\n\tu8 calFreqPier5G[AR9300_NUM_5G_CAL_PIERS];\n\tstruct ar9300_cal_data_per_freq_op_loop\n\t calPierData5G[AR9300_MAX_CHAINS][AR9300_NUM_5G_CAL_PIERS];\n\tu8 calTarget_freqbin_5G[AR9300_NUM_5G_20_TARGET_POWERS];\n\tu8 calTarget_freqbin_5GHT20[AR9300_NUM_5G_20_TARGET_POWERS];\n\tu8 calTarget_freqbin_5GHT40[AR9300_NUM_5G_40_TARGET_POWERS];\n\tstruct cal_tgt_pow_legacy\n\t calTargetPower5G[AR9300_NUM_5G_20_TARGET_POWERS];\n\tstruct cal_tgt_pow_ht\n\t calTargetPower5GHT20[AR9300_NUM_5G_20_TARGET_POWERS];\n\tstruct cal_tgt_pow_ht\n\t calTargetPower5GHT40[AR9300_NUM_5G_40_TARGET_POWERS];\n\tu8 ctlIndex_5G[AR9300_NUM_CTLS_5G];\n\tu8 ctl_freqbin_5G[AR9300_NUM_CTLS_5G][AR9300_NUM_BAND_EDGES_5G];\n\tstruct cal_ctl_data_5g ctlPowerData_5G[AR9300_NUM_CTLS_5G];\n} __packed;\n\ns32 ar9003_hw_get_tx_gain_idx(struct ath_hw *ah);\ns32 ar9003_hw_get_rx_gain_idx(struct ath_hw *ah);\nu32 ar9003_hw_ant_ctrl_common_get(struct ath_hw *ah, bool is2ghz);\nu32 ar9003_hw_ant_ctrl_common_2_get(struct ath_hw *ah, bool is2ghz);\n\nu8 *ar9003_get_spur_chan_ptr(struct ath_hw *ah, bool is_2ghz);\n\nu32 ar9003_get_paprd_rate_mask_ht20(struct ath_hw *ah, bool is2ghz);\nu32 ar9003_get_paprd_rate_mask_ht40(struct ath_hw *ah, bool is2ghz);\nunsigned int ar9003_get_paprd_scale_factor(struct ath_hw *ah,\n\t\t\t\t\t   struct ath9k_channel *chan);\n\nvoid ar9003_hw_internal_regulator_apply(struct ath_hw *ah);\nint ar9003_hw_tx_power_regwrite(struct ath_hw *ah, u8 * pPwrArray);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}