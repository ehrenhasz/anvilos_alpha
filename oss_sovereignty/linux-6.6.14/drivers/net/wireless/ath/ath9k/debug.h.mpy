{
  "module_name": "debug.h",
  "hash_id": "d90a1b4be89d0cc4071ef0dc042d37d3593bc6593618ea05f2b1243902654985",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/ath9k/debug.h",
  "human_readable_source": " \n\n#ifndef DEBUG_H\n#define DEBUG_H\n\n#include \"hw.h\"\n#include \"dfs_debug.h\"\n\nstruct ath_txq;\nstruct ath_buf;\nstruct fft_sample_tlv;\n\n#ifdef CONFIG_ATH9K_DEBUGFS\n#define TX_STAT_INC(sc, q, c)\t do { (sc)->debug.stats.txstats[q].c++; } while (0)\n#define RX_STAT_INC(sc, c)\t do { (sc)->debug.stats.rxstats.c++; } while (0)\n#define RESET_STAT_INC(sc, type) do { (sc)->debug.stats.reset[type]++; } while (0)\n#define ANT_STAT_INC(sc, i, c)\t do { (sc)->debug.stats.ant_stats[i].c++; } while (0)\n#define ANT_LNA_INC(sc, i, c)\t do { (sc)->debug.stats.ant_stats[i].lna_recv_cnt[c]++; } while (0)\n#else\n#define TX_STAT_INC(sc, q, c)\t do { (void)(sc); } while (0)\n#define RX_STAT_INC(sc, c)\t do { (void)(sc); } while (0)\n#define RESET_STAT_INC(sc, type) do { (void)(sc); } while (0)\n#define ANT_STAT_INC(sc, i, c)\t do { (void)(sc); } while (0)\n#define ANT_LNA_INC(sc, i, c)\t do { (void)(sc); } while (0)\n#endif\n\nenum ath_reset_type {\n\tRESET_TYPE_USER,\n\tRESET_TYPE_BB_HANG,\n\tRESET_TYPE_BB_WATCHDOG,\n\tRESET_TYPE_FATAL_INT,\n\tRESET_TYPE_TX_ERROR,\n\tRESET_TYPE_TX_GTT,\n\tRESET_TYPE_TX_HANG,\n\tRESET_TYPE_PLL_HANG,\n\tRESET_TYPE_MAC_HANG,\n\tRESET_TYPE_BEACON_STUCK,\n\tRESET_TYPE_MCI,\n\tRESET_TYPE_CALIBRATION,\n\tRESET_TX_DMA_ERROR,\n\tRESET_RX_DMA_ERROR,\n\t__RESET_TYPE_MAX\n};\n\n#ifdef CONFIG_ATH9K_DEBUGFS\n\n \nstruct ath_interrupt_stats {\n\tu32 total;\n\tu32 rxok;\n\tu32 rxlp;\n\tu32 rxhp;\n\tu32 rxeol;\n\tu32 rxorn;\n\tu32 txok;\n\tu32 txeol;\n\tu32 txurn;\n\tu32 mib;\n\tu32 rxphyerr;\n\tu32 rx_keycache_miss;\n\tu32 swba;\n\tu32 bmiss;\n\tu32 bnr;\n\tu32 cst;\n\tu32 gtt;\n\tu32 tim;\n\tu32 cabend;\n\tu32 dtimsync;\n\tu32 dtim;\n\tu32 bb_watchdog;\n\tu32 tsfoor;\n\tu32 mci;\n\tu32 gen_timer;\n\n\t \n\tu32 sync_cause_all;\n\tu32 sync_rtc_irq;\n\tu32 sync_mac_irq;\n\tu32 eeprom_illegal_access;\n\tu32 apb_timeout;\n\tu32 pci_mode_conflict;\n\tu32 host1_fatal;\n\tu32 host1_perr;\n\tu32 trcv_fifo_perr;\n\tu32 radm_cpl_ep;\n\tu32 radm_cpl_dllp_abort;\n\tu32 radm_cpl_tlp_abort;\n\tu32 radm_cpl_ecrc_err;\n\tu32 radm_cpl_timeout;\n\tu32 local_timeout;\n\tu32 pm_access;\n\tu32 mac_awake;\n\tu32 mac_asleep;\n\tu32 mac_sleep_access;\n};\n\n\n \nstruct ath_tx_stats {\n\tu32 tx_pkts_all;\n\tu32 tx_bytes_all;\n\tu32 queued;\n\tu32 completed;\n\tu32 xretries;\n\tu32 a_aggr;\n\tu32 a_queued_hw;\n\tu32 a_completed;\n\tu32 a_retries;\n\tu32 a_xretries;\n\tu32 txerr_filtered;\n\tu32 fifo_underrun;\n\tu32 xtxop;\n\tu32 timer_exp;\n\tu32 desc_cfg_err;\n\tu32 data_underrun;\n\tu32 delim_underrun;\n\tu32 puttxbuf;\n\tu32 txstart;\n\tu32 txprocdesc;\n\tu32 txfailed;\n};\n\n \n#define PR_QNUM(_n) sc->tx.txq_map[_n]->axq_qnum\n#define TXSTATS sc->debug.stats.txstats\n#define PR(str, elem)\t\t\t\t\t\t\t\\\n\tdo {\t\t\t\t\t\t\t\t\\\n\t\tseq_printf(file, \"%s%13u%11u%10u%10u\\n\", str,\t\t\\\n\t\t\t   TXSTATS[PR_QNUM(IEEE80211_AC_BE)].elem,\\\n\t\t\t   TXSTATS[PR_QNUM(IEEE80211_AC_BK)].elem,\\\n\t\t\t   TXSTATS[PR_QNUM(IEEE80211_AC_VI)].elem,\\\n\t\t\t   TXSTATS[PR_QNUM(IEEE80211_AC_VO)].elem); \\\n\t} while(0)\n\nstruct ath_rx_rate_stats {\n\tstruct {\n\t\tu32 ht20_cnt;\n\t\tu32 ht40_cnt;\n\t\tu32 sgi_cnt;\n\t\tu32 lgi_cnt;\n\t} ht_stats[24];\n\n\tstruct {\n\t\tu32 ofdm_cnt;\n\t} ofdm_stats[8];\n\n\tstruct {\n\t\tu32 cck_lp_cnt;\n\t\tu32 cck_sp_cnt;\n\t} cck_stats[4];\n};\n\nstruct ath_airtime_stats {\n\tu32 rx_airtime;\n\tu32 tx_airtime;\n};\n\n#define ANT_MAIN 0\n#define ANT_ALT  1\n\nstruct ath_antenna_stats {\n\tu32 recv_cnt;\n\tu32 rssi_avg;\n\tu32 lna_recv_cnt[4];\n\tu32 lna_attempt_cnt[4];\n};\n\nstruct ath_stats {\n\tstruct ath_interrupt_stats istats;\n\tstruct ath_tx_stats txstats[ATH9K_NUM_TX_QUEUES];\n\tstruct ath_rx_stats rxstats;\n\tstruct ath_dfs_stats dfs_stats;\n\tstruct ath_antenna_stats ant_stats[2];\n\tu32 reset[__RESET_TYPE_MAX];\n};\n\nstruct ath9k_debug {\n\tstruct dentry *debugfs_phy;\n\tu32 regidx;\n\tstruct ath_stats stats;\n};\n\nint ath9k_init_debug(struct ath_hw *ah);\nvoid ath9k_deinit_debug(struct ath_softc *sc);\n\nvoid ath_debug_stat_interrupt(struct ath_softc *sc, enum ath9k_int status);\nvoid ath_debug_stat_tx(struct ath_softc *sc, struct ath_buf *bf,\n\t\t       struct ath_tx_status *ts, struct ath_txq *txq,\n\t\t       unsigned int flags);\nvoid ath_debug_stat_rx(struct ath_softc *sc, struct ath_rx_status *rs);\nint ath9k_get_et_sset_count(struct ieee80211_hw *hw,\n\t\t\t    struct ieee80211_vif *vif, int sset);\nvoid ath9k_get_et_stats(struct ieee80211_hw *hw,\n\t\t\tstruct ieee80211_vif *vif,\n\t\t\tstruct ethtool_stats *stats, u64 *data);\nvoid ath9k_get_et_strings(struct ieee80211_hw *hw,\n\t\t\t  struct ieee80211_vif *vif,\n\t\t\t  u32 sset, u8 *data);\nvoid ath9k_sta_add_debugfs(struct ieee80211_hw *hw,\n\t\t\t   struct ieee80211_vif *vif,\n\t\t\t   struct ieee80211_sta *sta,\n\t\t\t   struct dentry *dir);\nvoid ath9k_debug_stat_ant(struct ath_softc *sc,\n\t\t\t  struct ath_hw_antcomb_conf *div_ant_conf,\n\t\t\t  int main_rssi_avg, int alt_rssi_avg);\nvoid ath9k_debug_sync_cause(struct ath_softc *sc, u32 sync_cause);\n\n#else\n\nstatic inline int ath9k_init_debug(struct ath_hw *ah)\n{\n\treturn 0;\n}\n\nstatic inline void ath9k_deinit_debug(struct ath_softc *sc)\n{\n}\nstatic inline void ath_debug_stat_interrupt(struct ath_softc *sc,\n\t\t\t\t\t    enum ath9k_int status)\n{\n}\nstatic inline void ath_debug_stat_tx(struct ath_softc *sc,\n\t\t\t\t     struct ath_buf *bf,\n\t\t\t\t     struct ath_tx_status *ts,\n\t\t\t\t     struct ath_txq *txq,\n\t\t\t\t     unsigned int flags)\n{\n}\nstatic inline void ath_debug_stat_rx(struct ath_softc *sc,\n\t\t\t\t     struct ath_rx_status *rs)\n{\n}\nstatic inline void ath9k_debug_stat_ant(struct ath_softc *sc,\n\t\t\t\t\tstruct ath_hw_antcomb_conf *div_ant_conf,\n\t\t\t\t\tint main_rssi_avg, int alt_rssi_avg)\n{\n\n}\n\nstatic inline void\nath9k_debug_sync_cause(struct ath_softc *sc, u32 sync_cause)\n{\n}\n\n#endif  \n\n#ifdef CONFIG_ATH9K_STATION_STATISTICS\nvoid ath_debug_rate_stats(struct ath_softc *sc,\n\t\t\t  struct ath_rx_status *rs,\n\t\t\t  struct sk_buff *skb);\n#else\nstatic inline void ath_debug_rate_stats(struct ath_softc *sc,\n\t\t\t\t\tstruct ath_rx_status *rs,\n\t\t\t\t\tstruct sk_buff *skb)\n{\n}\n#endif  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}