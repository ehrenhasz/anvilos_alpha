{
  "module_name": "hif_usb.h",
  "hash_id": "1080c97ddab405e846a011f9bdbbb4b2b461c907b59ca80623f17438f6f35c92",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/ath9k/hif_usb.h",
  "human_readable_source": " \n\n#ifndef HTC_USB_H\n#define HTC_USB_H\n\n \n#define FIRMWARE_AR7010_1_1     \"htc_7010.fw\"\n#define FIRMWARE_AR9271         \"htc_9271.fw\"\n\n \n#define MAJOR_VERSION_REQ 1\n#define MINOR_VERSION_REQ 3\n \n#define FIRMWARE_MINOR_IDX_MAX  4\n#define FIRMWARE_MINOR_IDX_MIN  3\n#define HTC_FW_PATH\t\"ath9k_htc\"\n\n#define HTC_9271_MODULE_FW  HTC_FW_PATH \"/htc_9271-\" \\\n\t\t\t__stringify(MAJOR_VERSION_REQ) \\\n\t\t\t\".\" __stringify(FIRMWARE_MINOR_IDX_MAX) \".0.fw\"\n#define HTC_7010_MODULE_FW  HTC_FW_PATH \"/htc_7010-\" \\\n\t\t\t__stringify(MAJOR_VERSION_REQ) \\\n\t\t\t\".\" __stringify(FIRMWARE_MINOR_IDX_MAX) \".0.fw\"\n\nextern int htc_use_dev_fw;\n\n#define IS_AR7010_DEVICE(_v) (((_v) == AR9280_USB) || ((_v) == AR9287_USB))\n\n#define AR9271_FIRMWARE       0x501000\n#define AR9271_FIRMWARE_TEXT  0x903000\n#define AR7010_FIRMWARE_TEXT  0x906000\n\n#define FIRMWARE_DOWNLOAD       0x30\n#define FIRMWARE_DOWNLOAD_COMP  0x31\n\n#define ATH_USB_RX_STREAM_MODE_TAG 0x4e00\n#define ATH_USB_TX_STREAM_MODE_TAG 0x697e\n\n \n#define MAX_TX_URB_NUM  8\n#define MAX_TX_BUF_NUM  256\n#define MAX_TX_BUF_SIZE 32768\n#define MAX_TX_AGGR_NUM 20\n\n#define MAX_RX_URB_NUM  8\n#define MAX_RX_BUF_SIZE 16384\n#define MAX_PKT_NUM_IN_TRANSFER 10\n\n#define MAX_REG_OUT_URB_NUM  1\n#define MAX_REG_IN_URB_NUM   64\n\n#define MAX_REG_IN_BUF_SIZE 64\n\n \n#define USB_WLAN_TX_PIPE  1\n#define USB_WLAN_RX_PIPE  2\n#define USB_REG_IN_PIPE   3\n#define USB_REG_OUT_PIPE  4\n\n#define USB_MSG_TIMEOUT 1000  \n\n#define HIF_USB_MAX_RXPIPES 2\n#define HIF_USB_MAX_TXPIPES 4\n\nstruct tx_buf {\n\tu8 *buf;\n\tu16 len;\n\tu16 offset;\n\tstruct urb *urb;\n\tstruct sk_buff_head skb_queue;\n\tstruct hif_device_usb *hif_dev;\n\tstruct list_head list;\n};\n\nstruct rx_buf {\n\tstruct sk_buff *skb;\n\tstruct hif_device_usb *hif_dev;\n};\n\n#define HIF_USB_TX_STOP  BIT(0)\n#define HIF_USB_TX_FLUSH BIT(1)\n\nstruct hif_usb_tx {\n\tu8 flags;\n\tu8 tx_buf_cnt;\n\tu16 tx_skb_cnt;\n\tstruct sk_buff_head tx_skb_queue;\n\tstruct list_head tx_buf;\n\tstruct list_head tx_pending;\n\tspinlock_t tx_lock;\n};\n\nstruct cmd_buf {\n\tstruct sk_buff *skb;\n\tstruct hif_device_usb *hif_dev;\n};\n\n#define HIF_USB_START BIT(0)\n#define HIF_USB_READY BIT(1)\n\nstruct hif_device_usb {\n\tstruct usb_device *udev;\n\tstruct usb_interface *interface;\n\tconst struct usb_device_id *usb_device_id;\n\tconst void *fw_data;\n\tsize_t fw_size;\n\tstruct completion fw_done;\n\tstruct htc_target *htc_handle;\n\tstruct hif_usb_tx tx;\n\tstruct usb_anchor regout_submitted;\n\tstruct usb_anchor rx_submitted;\n\tstruct usb_anchor reg_in_submitted;\n\tstruct usb_anchor mgmt_submitted;\n\tstruct sk_buff *remain_skb;\n\tchar fw_name[32];\n\tint fw_minor_index;\n\tint rx_remain_len;\n\tint rx_pkt_len;\n\tint rx_transfer_len;\n\tint rx_pad_len;\n\tspinlock_t rx_lock;\n\tu8 flags;  \n};\n\nint ath9k_hif_usb_init(void);\nvoid ath9k_hif_usb_exit(void);\nvoid ath9k_hif_usb_dealloc_urbs(struct hif_device_usb *hif_dev);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}