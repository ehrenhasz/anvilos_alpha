{
  "module_name": "mci.h",
  "hash_id": "c6520922cb9572e54d0d90cab34600767ab28be390f06e0741b671911e0b7605",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/ath9k/mci.h",
  "human_readable_source": " \n\n#ifndef MCI_H\n#define MCI_H\n\n#include \"ar9003_mci.h\"\n\n#define ATH_MCI_SCHED_BUF_SIZE\t\t(16 * 16)  \n#define ATH_MCI_GPM_MAX_ENTRY\t\t16\n#define ATH_MCI_GPM_BUF_SIZE\t\t(ATH_MCI_GPM_MAX_ENTRY * 16)\n#define ATH_MCI_DEF_BT_PERIOD\t\t40\n#define ATH_MCI_BDR_DUTY_CYCLE\t\t20\n#define ATH_MCI_MAX_DUTY_CYCLE\t\t90\n\n#define ATH_MCI_DEF_AGGR_LIMIT\t\t6  \n#define ATH_MCI_MAX_ACL_PROFILE\t\t7\n#define ATH_MCI_MAX_SCO_PROFILE\t\t1\n#define ATH_MCI_MAX_PROFILE\t\t(ATH_MCI_MAX_ACL_PROFILE +\\\n\t\t\t\t\t ATH_MCI_MAX_SCO_PROFILE)\n\n#define ATH_MCI_INQUIRY_PRIO         62\n#define ATH_MCI_HI_PRIO              60\n#define ATH_MCI_NUM_BT_CHANNELS      79\n#define ATH_MCI_CONCUR_TX_SWITCH      5\n\n#define MCI_GPM_SET_CHANNEL_BIT(_p_gpm, _bt_chan)\t\t\t  \\\n\tdo {\t\t\t\t\t\t\t\t  \\\n\t\tif (_bt_chan < ATH_MCI_NUM_BT_CHANNELS) {\t\t  \\\n\t\t\t*(((u8 *)(_p_gpm)) + MCI_GPM_COEX_B_CHANNEL_MAP + \\\n\t\t\t\t(_bt_chan / 8)) |= (1 << (_bt_chan & 7)); \\\n\t\t}\t\t\t\t\t\t\t  \\\n\t} while (0)\n\n#define MCI_GPM_CLR_CHANNEL_BIT(_p_gpm, _bt_chan)\t\t\t  \\\n\tdo {\t\t\t\t\t\t\t\t  \\\n\t\tif (_bt_chan < ATH_MCI_NUM_BT_CHANNELS) {\t\t  \\\n\t\t\t*(((u8 *)(_p_gpm)) + MCI_GPM_COEX_B_CHANNEL_MAP + \\\n\t\t\t\t(_bt_chan / 8)) &= ~(1 << (_bt_chan & 7));\\\n\t\t}\t\t\t\t\t\t\t  \\\n\t} while (0)\n\n#define INC_PROF(_mci, _info) do {\t\t \\\n\t\tswitch (_info->type) {\t\t \\\n\t\tcase MCI_GPM_COEX_PROFILE_RFCOMM:\\\n\t\t\t_mci->num_other_acl++;\t \\\n\t\t\tbreak;\t\t\t \\\n\t\tcase MCI_GPM_COEX_PROFILE_A2DP:\t \\\n\t\t\t_mci->num_a2dp++;\t \\\n\t\t\tif (!_info->edr)\t \\\n\t\t\t\t_mci->num_bdr++; \\\n\t\t\tbreak;\t\t\t \\\n\t\tcase MCI_GPM_COEX_PROFILE_HID:\t \\\n\t\t\t_mci->num_hid++;\t \\\n\t\t\tbreak;\t\t\t \\\n\t\tcase MCI_GPM_COEX_PROFILE_BNEP:\t \\\n\t\t\t_mci->num_pan++;\t \\\n\t\t\tbreak;\t\t\t \\\n\t\tcase MCI_GPM_COEX_PROFILE_VOICE: \\\n\t\tcase MCI_GPM_COEX_PROFILE_A2DPVO:\\\n\t\t\t_mci->num_sco++;\t \\\n\t\t\tbreak;\t\t\t \\\n\t\tdefault:\t\t\t \\\n\t\t\tbreak;\t\t\t \\\n\t\t}\t\t\t\t \\\n\t} while (0)\n\n#define DEC_PROF(_mci, _info) do {\t\t \\\n\t\tswitch (_info->type) {\t\t \\\n\t\tcase MCI_GPM_COEX_PROFILE_RFCOMM:\\\n\t\t\t_mci->num_other_acl--;\t \\\n\t\t\tbreak;\t\t\t \\\n\t\tcase MCI_GPM_COEX_PROFILE_A2DP:\t \\\n\t\t\t_mci->num_a2dp--;\t \\\n\t\t\tif (!_info->edr)\t \\\n\t\t\t\t_mci->num_bdr--; \\\n\t\t\tbreak;\t\t\t \\\n\t\tcase MCI_GPM_COEX_PROFILE_HID:\t \\\n\t\t\t_mci->num_hid--;\t \\\n\t\t\tbreak;\t\t\t \\\n\t\tcase MCI_GPM_COEX_PROFILE_BNEP:\t \\\n\t\t\t_mci->num_pan--;\t \\\n\t\t\tbreak;\t\t\t \\\n\t\tcase MCI_GPM_COEX_PROFILE_VOICE: \\\n\t\tcase MCI_GPM_COEX_PROFILE_A2DPVO:\\\n\t\t\t_mci->num_sco--;\t \\\n\t\t\tbreak;\t\t\t \\\n\t\tdefault:\t\t\t \\\n\t\t\tbreak;\t\t\t \\\n\t\t}\t\t\t\t \\\n\t} while (0)\n\n#define NUM_PROF(_mci)\t(_mci->num_other_acl + _mci->num_a2dp + \\\n\t\t\t _mci->num_hid + _mci->num_pan + _mci->num_sco)\n\nstruct ath_mci_profile_info {\n\tu8 type;\n\tu8 conn_handle;\n\tbool start;\n\tbool master;\n\tbool edr;\n\tu8 voice_type;\n\tu16 T;\t\t \n\tu8 W;\t\t \n\tu8 A;\t\t \n\tstruct list_head list;\n};\n\nstruct ath_mci_profile_status {\n\tbool is_critical;\n\tbool is_link;\n\tu8 conn_handle;\n};\n\nstruct ath_mci_profile {\n\tstruct list_head info;\n\tDECLARE_BITMAP(status, ATH_MCI_MAX_PROFILE);\n\tu16 aggr_limit;\n\tu8 num_mgmt;\n\tu8 num_sco;\n\tu8 num_a2dp;\n\tu8 num_hid;\n\tu8 num_pan;\n\tu8 num_other_acl;\n\tu8 num_bdr;\n\tu8 voice_priority;\n};\n\nstruct ath_mci_buf {\n\tvoid *bf_addr;\t\t \n\tdma_addr_t bf_paddr;     \n\tu32 bf_len;\t\t \n};\n\nstruct ath_mci_coex {\n\tstruct ath_mci_buf sched_buf;\n\tstruct ath_mci_buf gpm_buf;\n};\n\nvoid ath_mci_flush_profile(struct ath_mci_profile *mci);\nint ath_mci_setup(struct ath_softc *sc);\nvoid ath_mci_cleanup(struct ath_softc *sc);\nvoid ath_mci_intr(struct ath_softc *sc);\nvoid ath9k_mci_update_rssi(struct ath_softc *sc);\n\n#ifdef CONFIG_ATH9K_BTCOEX_SUPPORT\nvoid ath_mci_enable(struct ath_softc *sc);\nvoid ath9k_mci_update_wlan_channels(struct ath_softc *sc, bool allow_all);\nvoid ath9k_mci_set_txpower(struct ath_softc *sc, bool setchannel,\n\t\t\t   bool concur_tx);\n#else\nstatic inline void ath_mci_enable(struct ath_softc *sc)\n{\n}\nstatic inline void ath9k_mci_update_wlan_channels(struct ath_softc *sc,\n\t\t\t\t\t\t  bool allow_all)\n{\n}\nstatic inline void ath9k_mci_set_txpower(struct ath_softc *sc, bool setchannel,\n\t\t\t\t\t bool concur_tx)\n{\n}\n#endif  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}