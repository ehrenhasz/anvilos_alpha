{
  "module_name": "eeprom.h",
  "hash_id": "3260b5b9eb3327634e7207d73346c8ac228bea19ab68d3164b56145069a5fb9e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/ath9k/eeprom.h",
  "human_readable_source": " \n\n#ifndef EEPROM_H\n#define EEPROM_H\n\n#define AR_EEPROM_MODAL_SPURS   5\n\n#include \"../ath.h\"\n#include <net/cfg80211.h>\n#include \"ar9003_eeprom.h\"\n\n \n#define EEPROM_FIELD_SWAB16(field) \\\n\t(field = (__force __le16)swab16((__force u16)field))\n#define EEPROM_FIELD_SWAB32(field) \\\n\t(field = (__force __le32)swab32((__force u32)field))\n\n#ifdef __BIG_ENDIAN\n#define AR5416_EEPROM_MAGIC 0x5aa5\n#else\n#define AR5416_EEPROM_MAGIC 0xa55a\n#endif\n\n#define CTRY_DEBUG   0x1ff\n#define\tCTRY_DEFAULT 0\n\n#define AR_EEPROM_EEPCAP_COMPRESS_DIS   0x0001\n#define AR_EEPROM_EEPCAP_AES_DIS        0x0002\n#define AR_EEPROM_EEPCAP_FASTFRAME_DIS  0x0004\n#define AR_EEPROM_EEPCAP_BURST_DIS      0x0008\n#define AR_EEPROM_EEPCAP_MAXQCU         0x01F0\n#define AR_EEPROM_EEPCAP_MAXQCU_S       4\n#define AR_EEPROM_EEPCAP_HEAVY_CLIP_EN  0x0200\n#define AR_EEPROM_EEPCAP_KC_ENTRIES     0xF000\n#define AR_EEPROM_EEPCAP_KC_ENTRIES_S   12\n\n#define AR_EEPROM_EEREGCAP_EN_FCC_MIDBAND   0x0040\n#define AR_EEPROM_EEREGCAP_EN_KK_U1_EVEN    0x0080\n#define AR_EEPROM_EEREGCAP_EN_KK_U2         0x0100\n#define AR_EEPROM_EEREGCAP_EN_KK_MIDBAND    0x0200\n#define AR_EEPROM_EEREGCAP_EN_KK_U1_ODD     0x0400\n#define AR_EEPROM_EEREGCAP_EN_KK_NEW_11A    0x0800\n\n#define AR_EEPROM_EEREGCAP_EN_KK_U1_ODD_PRE4_0  0x4000\n#define AR_EEPROM_EEREGCAP_EN_KK_NEW_11A_PRE4_0 0x8000\n\n#define AR5416_EEPROM_MAGIC_OFFSET  0x0\n#define AR5416_EEPROM_S             2\n#define AR5416_EEPROM_OFFSET        0x2000\n#define AR5416_EEPROM_MAX           0xae0\n\n#define AR5416_EEPROM_START_ADDR(_ah) \\\n\t(AR_SREV_9100(_ah)) ? 0x1fff1000 : 0x503f1200\n\n#define SD_NO_CTL               0xE0\n#define NO_CTL                  0xff\n#define CTL_MODE_M              0xf\n#define CTL_11A                 0\n#define CTL_11B                 1\n#define CTL_11G                 2\n#define CTL_2GHT20              5\n#define CTL_5GHT20              6\n#define CTL_2GHT40              7\n#define CTL_5GHT40              8\n\n#define EXT_ADDITIVE (0x8000)\n#define CTL_11A_EXT (CTL_11A | EXT_ADDITIVE)\n#define CTL_11G_EXT (CTL_11G | EXT_ADDITIVE)\n#define CTL_11B_EXT (CTL_11B | EXT_ADDITIVE)\n\n#define SUB_NUM_CTL_MODES_AT_5G_40 2\n#define SUB_NUM_CTL_MODES_AT_2G_40 3\n\n#define POWER_CORRECTION_FOR_TWO_CHAIN\t\t6   \n#define POWER_CORRECTION_FOR_THREE_CHAIN\t10  \n\n \n#define AR9285_RDEXT_DEFAULT    0x1F\n\n#define ATH9K_POW_SM(_r, _s)\t(((_r) & 0x3f) << (_s))\n#define FREQ2FBIN(x, y)\t\t(u8)((y) ? ((x) - 2300) : (((x) - 4800) / 5))\n#define FBIN2FREQ(x, y)\t\t((y) ? (2300 + x) : (4800 + 5 * x))\n#define ath9k_hw_use_flash(_ah)\t(!(_ah->ah_flags & AH_USE_EEPROM))\n\n#define OLC_FOR_AR9280_20_LATER(_ah) (AR_SREV_9280_20_OR_LATER(_ah) && \\\n\t\t\t\t _ah->eep_ops->get_eeprom(_ah, EEP_OL_PWRCTRL))\n#define OLC_FOR_AR9287_10_LATER(_ah) (AR_SREV_9287_11_OR_LATER(_ah) && \\\n\t\t\t\t _ah->eep_ops->get_eeprom(_ah, EEP_OL_PWRCTRL))\n\n#define EEP_RFSILENT_ENABLED        0x0001\n#define EEP_RFSILENT_ENABLED_S      0\n#define EEP_RFSILENT_POLARITY       0x0002\n#define EEP_RFSILENT_POLARITY_S     1\n#define EEP_RFSILENT_GPIO_SEL       ((AR_SREV_9462(ah) || AR_SREV_9565(ah)) ? 0x00fc : 0x001c)\n#define EEP_RFSILENT_GPIO_SEL_S     2\n\n#define AR5416_OPFLAGS_11A           0x01\n#define AR5416_OPFLAGS_11G           0x02\n#define AR5416_OPFLAGS_N_5G_HT40     0x04\n#define AR5416_OPFLAGS_N_2G_HT40     0x08\n#define AR5416_OPFLAGS_N_5G_HT20     0x10\n#define AR5416_OPFLAGS_N_2G_HT20     0x20\n\n#define AR5416_EEP_NO_BACK_VER       0x1\n#define AR5416_EEP_VER               0xE\n#define AR5416_EEP_VER_MAJOR_SHIFT   12\n#define AR5416_EEP_VER_MAJOR_MASK    0xF000\n#define AR5416_EEP_VER_MINOR_MASK    0x0FFF\n#define AR5416_EEP_MINOR_VER_2       0x2\n#define AR5416_EEP_MINOR_VER_3       0x3\n#define AR5416_EEP_MINOR_VER_7       0x7\n#define AR5416_EEP_MINOR_VER_9       0x9\n#define AR5416_EEP_MINOR_VER_16      0x10\n#define AR5416_EEP_MINOR_VER_17      0x11\n#define AR5416_EEP_MINOR_VER_19      0x13\n#define AR5416_EEP_MINOR_VER_20      0x14\n#define AR5416_EEP_MINOR_VER_21      0x15\n#define AR5416_EEP_MINOR_VER_22      0x16\n\n#define AR5416_NUM_5G_CAL_PIERS         8\n#define AR5416_NUM_2G_CAL_PIERS         4\n#define AR5416_NUM_5G_20_TARGET_POWERS  8\n#define AR5416_NUM_5G_40_TARGET_POWERS  8\n#define AR5416_NUM_2G_CCK_TARGET_POWERS 3\n#define AR5416_NUM_2G_20_TARGET_POWERS  4\n#define AR5416_NUM_2G_40_TARGET_POWERS  4\n#define AR5416_NUM_CTLS                 24\n#define AR5416_NUM_BAND_EDGES           8\n#define AR5416_NUM_PD_GAINS             4\n#define AR5416_PD_GAINS_IN_MASK         4\n#define AR5416_PD_GAIN_ICEPTS           5\n#define AR5416_NUM_PDADC_VALUES         128\n#define AR5416_BCHAN_UNUSED             0xFF\n#define AR5416_MAX_PWR_RANGE_IN_HALF_DB 64\n#define AR5416_MAX_CHAINS               3\n#define AR9300_MAX_CHAINS\t\t3\n#define AR5416_PWR_TABLE_OFFSET_DB     -5\n\n \n#define AR5416_EEP_RXGAIN_23DB_BACKOFF     0\n#define AR5416_EEP_RXGAIN_13DB_BACKOFF     1\n#define AR5416_EEP_RXGAIN_ORIG             2\n\n \n#define AR5416_EEP_TXGAIN_ORIGINAL         0\n#define AR5416_EEP_TXGAIN_HIGH_POWER       1\n\n \n#define AR5416_EEPMISC_BIG_ENDIAN          0x01\n\n#define AR5416_EEP4K_START_LOC                64\n#define AR5416_EEP4K_NUM_2G_CAL_PIERS         3\n#define AR5416_EEP4K_NUM_2G_CCK_TARGET_POWERS 3\n#define AR5416_EEP4K_NUM_2G_20_TARGET_POWERS  3\n#define AR5416_EEP4K_NUM_2G_40_TARGET_POWERS  3\n#define AR5416_EEP4K_NUM_CTLS                 12\n#define AR5416_EEP4K_NUM_BAND_EDGES           4\n#define AR5416_EEP4K_NUM_PD_GAINS             2\n#define AR5416_EEP4K_MAX_CHAINS               1\n\n#define AR9280_TX_GAIN_TABLE_SIZE 22\n\n#define AR9287_EEP_VER               0xE\n#define AR9287_EEP_MINOR_VER_1       0x1\n#define AR9287_EEP_MINOR_VER_2       0x2\n#define AR9287_EEP_MINOR_VER_3       0x3\n#define AR9287_EEP_MINOR_VER         AR9287_EEP_MINOR_VER_3\n#define AR9287_EEP_MINOR_VER_b       AR9287_EEP_MINOR_VER\n#define AR9287_EEP_NO_BACK_VER       AR9287_EEP_MINOR_VER_1\n\n#define AR9287_EEP_START_LOC            128\n#define AR9287_HTC_EEP_START_LOC        256\n#define AR9287_NUM_2G_CAL_PIERS         3\n#define AR9287_NUM_2G_CCK_TARGET_POWERS 3\n#define AR9287_NUM_2G_20_TARGET_POWERS  3\n#define AR9287_NUM_2G_40_TARGET_POWERS  3\n#define AR9287_NUM_CTLS              \t12\n#define AR9287_NUM_BAND_EDGES        \t4\n#define AR9287_PD_GAIN_ICEPTS           1\n#define AR9287_EEPMISC_WOW              0x02\n#define AR9287_MAX_CHAINS               2\n#define AR9287_ANT_16S                  32\n\n#define AR9287_DATA_SZ                  32\n\n#define AR9287_PWR_TABLE_OFFSET_DB  -5\n\n#define AR9287_CHECKSUM_LOCATION (AR9287_EEP_START_LOC + 1)\n\n#define CTL_EDGE_TPOWER(_ctl) ((_ctl) & 0x3f)\n#define CTL_EDGE_FLAGS(_ctl) (((_ctl) >> 6) & 0x03)\n\n#define LNA_CTL_BUF_MODE\tBIT(0)\n#define LNA_CTL_ISEL_LO\t\tBIT(1)\n#define LNA_CTL_ISEL_HI\t\tBIT(2)\n#define LNA_CTL_BUF_IN\t\tBIT(3)\n#define LNA_CTL_FEM_BAND\tBIT(4)\n#define LNA_CTL_LOCAL_BIAS\tBIT(5)\n#define LNA_CTL_FORCE_XPA\tBIT(6)\n#define LNA_CTL_USE_ANT1\tBIT(7)\n\nenum eeprom_param {\n\tEEP_NFTHRESH_5,\n\tEEP_NFTHRESH_2,\n\tEEP_MAC_MSW,\n\tEEP_MAC_MID,\n\tEEP_MAC_LSW,\n\tEEP_REG_0,\n\tEEP_OP_CAP,\n\tEEP_OP_MODE,\n\tEEP_RF_SILENT,\n\tEEP_OB_5,\n\tEEP_DB_5,\n\tEEP_OB_2,\n\tEEP_DB_2,\n\tEEP_TX_MASK,\n\tEEP_RX_MASK,\n\tEEP_FSTCLK_5G,\n\tEEP_RXGAIN_TYPE,\n\tEEP_OL_PWRCTRL,\n\tEEP_TXGAIN_TYPE,\n\tEEP_RC_CHAIN_MASK,\n\tEEP_DAC_HPWR_5G,\n\tEEP_FRAC_N_5G,\n\tEEP_DEV_TYPE,\n\tEEP_TEMPSENSE_SLOPE,\n\tEEP_TEMPSENSE_SLOPE_PAL_ON,\n\tEEP_PWR_TABLE_OFFSET,\n\tEEP_PAPRD,\n\tEEP_MODAL_VER,\n\tEEP_ANT_DIV_CTL1,\n\tEEP_CHAIN_MASK_REDUCE,\n\tEEP_ANTENNA_GAIN_2G,\n\tEEP_ANTENNA_GAIN_5G,\n};\n\nenum ar5416_rates {\n\trate6mb, rate9mb, rate12mb, rate18mb,\n\trate24mb, rate36mb, rate48mb, rate54mb,\n\trate1l, rate2l, rate2s, rate5_5l,\n\trate5_5s, rate11l, rate11s, rateXr,\n\trateHt20_0, rateHt20_1, rateHt20_2, rateHt20_3,\n\trateHt20_4, rateHt20_5, rateHt20_6, rateHt20_7,\n\trateHt40_0, rateHt40_1, rateHt40_2, rateHt40_3,\n\trateHt40_4, rateHt40_5, rateHt40_6, rateHt40_7,\n\trateDupCck, rateDupOfdm, rateExtCck, rateExtOfdm,\n\tAr5416RateSize\n};\n\nenum ath9k_hal_freq_band {\n\tATH9K_HAL_FREQ_BAND_5GHZ = 0,\n\tATH9K_HAL_FREQ_BAND_2GHZ = 1\n};\n\nstruct base_eep_header {\n\t__le16 length;\n\t__le16 checksum;\n\t__le16 version;\n\tu8 opCapFlags;\n\tu8 eepMisc;\n\t__le16 regDmn[2];\n\tu8 macAddr[6];\n\tu8 rxMask;\n\tu8 txMask;\n\t__le16 rfSilent;\n\t__le16 blueToothOptions;\n\t__le16 deviceCap;\n\t__le32 binBuildNumber;\n\tu8 deviceType;\n\tu8 pwdclkind;\n\tu8 fastClk5g;\n\tu8 divChain;\n\tu8 rxGainType;\n\tu8 dacHiPwrMode_5G;\n\tu8 openLoopPwrCntl;\n\tu8 dacLpMode;\n\tu8 txGainType;\n\tu8 rcChainMask;\n\tu8 desiredScaleCCK;\n\tu8 pwr_table_offset;\n\tu8 frac_n_5g;\n\tu8 futureBase_3[21];\n} __packed;\n\nstruct base_eep_header_4k {\n\t__le16 length;\n\t__le16 checksum;\n\t__le16 version;\n\tu8 opCapFlags;\n\tu8 eepMisc;\n\t__le16 regDmn[2];\n\tu8 macAddr[6];\n\tu8 rxMask;\n\tu8 txMask;\n\t__le16 rfSilent;\n\t__le16 blueToothOptions;\n\t__le16 deviceCap;\n\t__le32 binBuildNumber;\n\tu8 deviceType;\n\tu8 txGainType;\n} __packed;\n\n\nstruct spur_chan {\n\t__le16 spurChan;\n\tu8 spurRangeLow;\n\tu8 spurRangeHigh;\n} __packed;\n\nstruct modal_eep_header {\n\t__le32 antCtrlChain[AR5416_MAX_CHAINS];\n\t__le32 antCtrlCommon;\n\tu8 antennaGainCh[AR5416_MAX_CHAINS];\n\tu8 switchSettling;\n\tu8 txRxAttenCh[AR5416_MAX_CHAINS];\n\tu8 rxTxMarginCh[AR5416_MAX_CHAINS];\n\tu8 adcDesiredSize;\n\tu8 pgaDesiredSize;\n\tu8 xlnaGainCh[AR5416_MAX_CHAINS];\n\tu8 txEndToXpaOff;\n\tu8 txEndToRxOn;\n\tu8 txFrameToXpaOn;\n\tu8 thresh62;\n\tu8 noiseFloorThreshCh[AR5416_MAX_CHAINS];\n\tu8 xpdGain;\n\tu8 xpd;\n\tu8 iqCalICh[AR5416_MAX_CHAINS];\n\tu8 iqCalQCh[AR5416_MAX_CHAINS];\n\tu8 pdGainOverlap;\n\tu8 ob;\n\tu8 db;\n\tu8 xpaBiasLvl;\n\tu8 pwrDecreaseFor2Chain;\n\tu8 pwrDecreaseFor3Chain;\n\tu8 txFrameToDataStart;\n\tu8 txFrameToPaOn;\n\tu8 ht40PowerIncForPdadc;\n\tu8 bswAtten[AR5416_MAX_CHAINS];\n\tu8 bswMargin[AR5416_MAX_CHAINS];\n\tu8 swSettleHt40;\n\tu8 xatten2Db[AR5416_MAX_CHAINS];\n\tu8 xatten2Margin[AR5416_MAX_CHAINS];\n\tu8 ob_ch1;\n\tu8 db_ch1;\n\tu8 lna_ctl;\n\tu8 miscBits;\n\t__le16 xpaBiasLvlFreq[3];\n\tu8 futureModal[6];\n\n\tstruct spur_chan spurChans[AR_EEPROM_MODAL_SPURS];\n} __packed;\n\nstruct calDataPerFreqOpLoop {\n\tu8 pwrPdg[2][5];\n\tu8 vpdPdg[2][5];\n\tu8 pcdac[2][5];\n\tu8 empty[2][5];\n} __packed;\n\nstruct modal_eep_4k_header {\n\t__le32 antCtrlChain[AR5416_EEP4K_MAX_CHAINS];\n\t__le32 antCtrlCommon;\n\tu8 antennaGainCh[AR5416_EEP4K_MAX_CHAINS];\n\tu8 switchSettling;\n\tu8 txRxAttenCh[AR5416_EEP4K_MAX_CHAINS];\n\tu8 rxTxMarginCh[AR5416_EEP4K_MAX_CHAINS];\n\tu8 adcDesiredSize;\n\tu8 pgaDesiredSize;\n\tu8 xlnaGainCh[AR5416_EEP4K_MAX_CHAINS];\n\tu8 txEndToXpaOff;\n\tu8 txEndToRxOn;\n\tu8 txFrameToXpaOn;\n\tu8 thresh62;\n\tu8 noiseFloorThreshCh[AR5416_EEP4K_MAX_CHAINS];\n\tu8 xpdGain;\n\tu8 xpd;\n\tu8 iqCalICh[AR5416_EEP4K_MAX_CHAINS];\n\tu8 iqCalQCh[AR5416_EEP4K_MAX_CHAINS];\n\tu8 pdGainOverlap;\n#ifdef __BIG_ENDIAN_BITFIELD\n\tu8 ob_1:4, ob_0:4;\n\tu8 db1_1:4, db1_0:4;\n#else\n\tu8 ob_0:4, ob_1:4;\n\tu8 db1_0:4, db1_1:4;\n#endif\n\tu8 xpaBiasLvl;\n\tu8 txFrameToDataStart;\n\tu8 txFrameToPaOn;\n\tu8 ht40PowerIncForPdadc;\n\tu8 bswAtten[AR5416_EEP4K_MAX_CHAINS];\n\tu8 bswMargin[AR5416_EEP4K_MAX_CHAINS];\n\tu8 swSettleHt40;\n\tu8 xatten2Db[AR5416_EEP4K_MAX_CHAINS];\n\tu8 xatten2Margin[AR5416_EEP4K_MAX_CHAINS];\n#ifdef __BIG_ENDIAN_BITFIELD\n\tu8 db2_1:4, db2_0:4;\n#else\n\tu8 db2_0:4, db2_1:4;\n#endif\n\tu8 version;\n#ifdef __BIG_ENDIAN_BITFIELD\n\tu8 ob_3:4, ob_2:4;\n\tu8 antdiv_ctl1:4, ob_4:4;\n\tu8 db1_3:4, db1_2:4;\n\tu8 antdiv_ctl2:4, db1_4:4;\n\tu8 db2_2:4, db2_3:4;\n\tu8 reserved:4, db2_4:4;\n#else\n\tu8 ob_2:4, ob_3:4;\n\tu8 ob_4:4, antdiv_ctl1:4;\n\tu8 db1_2:4, db1_3:4;\n\tu8 db1_4:4, antdiv_ctl2:4;\n\tu8 db2_2:4, db2_3:4;\n\tu8 db2_4:4, reserved:4;\n#endif\n\tu8 tx_diversity;\n\tu8 flc_pwr_thresh;\n\tu8 bb_scale_smrt_antenna;\n#define EEP_4K_BB_DESIRED_SCALE_MASK\t0x1f\n\tu8 futureModal[1];\n\tstruct spur_chan spurChans[AR_EEPROM_MODAL_SPURS];\n} __packed;\n\nstruct base_eep_ar9287_header {\n\t__le16 length;\n\t__le16 checksum;\n\t__le16 version;\n\tu8 opCapFlags;\n\tu8 eepMisc;\n\t__le16 regDmn[2];\n\tu8 macAddr[6];\n\tu8 rxMask;\n\tu8 txMask;\n\t__le16 rfSilent;\n\t__le16 blueToothOptions;\n\t__le16 deviceCap;\n\t__le32 binBuildNumber;\n\tu8 deviceType;\n\tu8 openLoopPwrCntl;\n\tint8_t pwrTableOffset;\n\tint8_t tempSensSlope;\n\tint8_t tempSensSlopePalOn;\n\tu8 futureBase[29];\n} __packed;\n\nstruct modal_eep_ar9287_header {\n\t__le32 antCtrlChain[AR9287_MAX_CHAINS];\n\t__le32 antCtrlCommon;\n\tint8_t antennaGainCh[AR9287_MAX_CHAINS];\n\tu8 switchSettling;\n\tu8 txRxAttenCh[AR9287_MAX_CHAINS];\n\tu8 rxTxMarginCh[AR9287_MAX_CHAINS];\n\tint8_t adcDesiredSize;\n\tu8 txEndToXpaOff;\n\tu8 txEndToRxOn;\n\tu8 txFrameToXpaOn;\n\tu8 thresh62;\n\tint8_t noiseFloorThreshCh[AR9287_MAX_CHAINS];\n\tu8 xpdGain;\n\tu8 xpd;\n\tint8_t iqCalICh[AR9287_MAX_CHAINS];\n\tint8_t iqCalQCh[AR9287_MAX_CHAINS];\n\tu8 pdGainOverlap;\n\tu8 xpaBiasLvl;\n\tu8 txFrameToDataStart;\n\tu8 txFrameToPaOn;\n\tu8 ht40PowerIncForPdadc;\n\tu8 bswAtten[AR9287_MAX_CHAINS];\n\tu8 bswMargin[AR9287_MAX_CHAINS];\n\tu8 swSettleHt40;\n\tu8 version;\n\tu8 db1;\n\tu8 db2;\n\tu8 ob_cck;\n\tu8 ob_psk;\n\tu8 ob_qam;\n\tu8 ob_pal_off;\n\tu8 futureModal[30];\n\tstruct spur_chan spurChans[AR_EEPROM_MODAL_SPURS];\n} __packed;\n\nstruct cal_data_per_freq {\n\tu8 pwrPdg[AR5416_NUM_PD_GAINS][AR5416_PD_GAIN_ICEPTS];\n\tu8 vpdPdg[AR5416_NUM_PD_GAINS][AR5416_PD_GAIN_ICEPTS];\n} __packed;\n\nstruct cal_data_per_freq_4k {\n\tu8 pwrPdg[AR5416_EEP4K_NUM_PD_GAINS][AR5416_PD_GAIN_ICEPTS];\n\tu8 vpdPdg[AR5416_EEP4K_NUM_PD_GAINS][AR5416_PD_GAIN_ICEPTS];\n} __packed;\n\nstruct cal_target_power_leg {\n\tu8 bChannel;\n\tu8 tPow2x[4];\n} __packed;\n\nstruct cal_target_power_ht {\n\tu8 bChannel;\n\tu8 tPow2x[8];\n} __packed;\n\nstruct cal_ctl_edges {\n\tu8 bChannel;\n\tu8 ctl;\n} __packed;\n\nstruct cal_data_op_loop_ar9287 {\n\tu8 pwrPdg[2][5];\n\tu8 vpdPdg[2][5];\n\tu8 pcdac[2][5];\n\tu8 empty[2][5];\n} __packed;\n\nstruct cal_data_per_freq_ar9287 {\n\tu8 pwrPdg[AR5416_NUM_PD_GAINS][AR9287_PD_GAIN_ICEPTS];\n\tu8 vpdPdg[AR5416_NUM_PD_GAINS][AR9287_PD_GAIN_ICEPTS];\n} __packed;\n\nunion cal_data_per_freq_ar9287_u {\n\tstruct cal_data_op_loop_ar9287 calDataOpen;\n\tstruct cal_data_per_freq_ar9287 calDataClose;\n} __packed;\n\nstruct cal_ctl_data_ar9287 {\n\tstruct cal_ctl_edges\n\tctlEdges[AR9287_MAX_CHAINS][AR9287_NUM_BAND_EDGES];\n} __packed;\n\nstruct cal_ctl_data {\n\tstruct cal_ctl_edges\n\tctlEdges[AR5416_MAX_CHAINS][AR5416_NUM_BAND_EDGES];\n} __packed;\n\nstruct cal_ctl_data_4k {\n\tstruct cal_ctl_edges\n\tctlEdges[AR5416_EEP4K_MAX_CHAINS][AR5416_EEP4K_NUM_BAND_EDGES];\n} __packed;\n\nstruct ar5416_eeprom_def {\n\tstruct base_eep_header baseEepHeader;\n\tu8 custData[64];\n\tstruct modal_eep_header modalHeader[2];\n\tu8 calFreqPier5G[AR5416_NUM_5G_CAL_PIERS];\n\tu8 calFreqPier2G[AR5416_NUM_2G_CAL_PIERS];\n\tstruct cal_data_per_freq\n\t calPierData5G[AR5416_MAX_CHAINS][AR5416_NUM_5G_CAL_PIERS];\n\tstruct cal_data_per_freq\n\t calPierData2G[AR5416_MAX_CHAINS][AR5416_NUM_2G_CAL_PIERS];\n\tstruct cal_target_power_leg\n\t calTargetPower5G[AR5416_NUM_5G_20_TARGET_POWERS];\n\tstruct cal_target_power_ht\n\t calTargetPower5GHT20[AR5416_NUM_5G_20_TARGET_POWERS];\n\tstruct cal_target_power_ht\n\t calTargetPower5GHT40[AR5416_NUM_5G_40_TARGET_POWERS];\n\tstruct cal_target_power_leg\n\t calTargetPowerCck[AR5416_NUM_2G_CCK_TARGET_POWERS];\n\tstruct cal_target_power_leg\n\t calTargetPower2G[AR5416_NUM_2G_20_TARGET_POWERS];\n\tstruct cal_target_power_ht\n\t calTargetPower2GHT20[AR5416_NUM_2G_20_TARGET_POWERS];\n\tstruct cal_target_power_ht\n\t calTargetPower2GHT40[AR5416_NUM_2G_40_TARGET_POWERS];\n\tu8 ctlIndex[AR5416_NUM_CTLS];\n\tstruct cal_ctl_data ctlData[AR5416_NUM_CTLS];\n\tu8 padding;\n} __packed;\n\nstruct ar5416_eeprom_4k {\n\tstruct base_eep_header_4k baseEepHeader;\n\tu8 custData[20];\n\tstruct modal_eep_4k_header modalHeader;\n\tu8 calFreqPier2G[AR5416_EEP4K_NUM_2G_CAL_PIERS];\n\tstruct cal_data_per_freq_4k\n\tcalPierData2G[AR5416_EEP4K_MAX_CHAINS][AR5416_EEP4K_NUM_2G_CAL_PIERS];\n\tstruct cal_target_power_leg\n\tcalTargetPowerCck[AR5416_EEP4K_NUM_2G_CCK_TARGET_POWERS];\n\tstruct cal_target_power_leg\n\tcalTargetPower2G[AR5416_EEP4K_NUM_2G_20_TARGET_POWERS];\n\tstruct cal_target_power_ht\n\tcalTargetPower2GHT20[AR5416_EEP4K_NUM_2G_20_TARGET_POWERS];\n\tstruct cal_target_power_ht\n\tcalTargetPower2GHT40[AR5416_EEP4K_NUM_2G_40_TARGET_POWERS];\n\tu8 ctlIndex[AR5416_EEP4K_NUM_CTLS];\n\tstruct cal_ctl_data_4k ctlData[AR5416_EEP4K_NUM_CTLS];\n\tu8 padding;\n} __packed;\n\nstruct ar9287_eeprom {\n\tstruct base_eep_ar9287_header baseEepHeader;\n\tu8 custData[AR9287_DATA_SZ];\n\tstruct modal_eep_ar9287_header modalHeader;\n\tu8 calFreqPier2G[AR9287_NUM_2G_CAL_PIERS];\n\tunion cal_data_per_freq_ar9287_u\n\tcalPierData2G[AR9287_MAX_CHAINS][AR9287_NUM_2G_CAL_PIERS];\n\tstruct cal_target_power_leg\n\tcalTargetPowerCck[AR9287_NUM_2G_CCK_TARGET_POWERS];\n\tstruct cal_target_power_leg\n\tcalTargetPower2G[AR9287_NUM_2G_20_TARGET_POWERS];\n\tstruct cal_target_power_ht\n\tcalTargetPower2GHT20[AR9287_NUM_2G_20_TARGET_POWERS];\n\tstruct cal_target_power_ht\n\tcalTargetPower2GHT40[AR9287_NUM_2G_40_TARGET_POWERS];\n\tu8 ctlIndex[AR9287_NUM_CTLS];\n\tstruct cal_ctl_data_ar9287 ctlData[AR9287_NUM_CTLS];\n\tu8 padding;\n} __packed;\n\nenum reg_ext_bitmap {\n\tREG_EXT_FCC_MIDBAND = 0,\n\tREG_EXT_JAPAN_MIDBAND = 1,\n\tREG_EXT_FCC_DFS_HT40 = 2,\n\tREG_EXT_JAPAN_NONDFS_HT40 = 3,\n\tREG_EXT_JAPAN_DFS_HT40 = 4\n};\n\nstruct ath9k_country_entry {\n\tu16 countryCode;\n\tu16 regDmnEnum;\n\tu16 regDmn5G;\n\tu16 regDmn2G;\n\tu8 isMultidomain;\n\tu8 iso[3];\n};\n\nstruct eeprom_ops {\n\tint (*check_eeprom)(struct ath_hw *hw);\n\tu32 (*get_eeprom)(struct ath_hw *hw, enum eeprom_param param);\n\tbool (*fill_eeprom)(struct ath_hw *hw);\n\tu32 (*dump_eeprom)(struct ath_hw *hw, bool dump_base_hdr, u8 *buf,\n\t\t\t   u32 len, u32 size);\n\tint (*get_eeprom_ver)(struct ath_hw *hw);\n\tint (*get_eeprom_rev)(struct ath_hw *hw);\n\tvoid (*set_board_values)(struct ath_hw *hw, struct ath9k_channel *chan);\n\tvoid (*set_addac)(struct ath_hw *hw, struct ath9k_channel *chan);\n\tvoid (*set_txpower)(struct ath_hw *hw, struct ath9k_channel *chan,\n\t\t\t   u16 cfgCtl, u8 twiceAntennaReduction,\n\t\t\t   u8 powerLimit, bool test);\n\tu16 (*get_spur_channel)(struct ath_hw *ah, u16 i, bool is2GHz);\n\tu8 (*get_eepmisc)(struct ath_hw *ah);\n};\n\nvoid ath9k_hw_analog_shift_regwrite(struct ath_hw *ah, u32 reg, u32 val);\nvoid ath9k_hw_analog_shift_rmw(struct ath_hw *ah, u32 reg, u32 mask,\n\t\t\t       u32 shift, u32 val);\nint16_t ath9k_hw_interpolate(u16 target, u16 srcLeft, u16 srcRight,\n\t\t\t     int16_t targetLeft,\n\t\t\t     int16_t targetRight);\nbool ath9k_hw_get_lower_upper_index(u8 target, u8 *pList, u16 listSize,\n\t\t\t\t    u16 *indexL, u16 *indexR);\nbool ath9k_hw_nvram_read(struct ath_hw *ah, u32 off, u16 *data);\nint ath9k_hw_nvram_swap_data(struct ath_hw *ah, bool *swap_needed, int size);\nbool ath9k_hw_nvram_validate_checksum(struct ath_hw *ah, int size);\nbool ath9k_hw_nvram_check_version(struct ath_hw *ah, int version, int minrev);\nvoid ath9k_hw_usb_gen_fill_eeprom(struct ath_hw *ah, u16 *eep_data,\n\t\t\t\t  int eep_start_loc, int size);\nvoid ath9k_hw_fill_vpd_table(u8 pwrMin, u8 pwrMax, u8 *pPwrList,\n\t\t\t     u8 *pVpdList, u16 numIntercepts,\n\t\t\t     u8 *pRetVpdList);\nvoid ath9k_hw_get_legacy_target_powers(struct ath_hw *ah,\n\t\t\t\t       struct ath9k_channel *chan,\n\t\t\t\t       struct cal_target_power_leg *powInfo,\n\t\t\t\t       u16 numChannels,\n\t\t\t\t       struct cal_target_power_leg *pNewPower,\n\t\t\t\t       u16 numRates, bool isExtTarget);\nvoid ath9k_hw_get_target_powers(struct ath_hw *ah,\n\t\t\t\tstruct ath9k_channel *chan,\n\t\t\t\tstruct cal_target_power_ht *powInfo,\n\t\t\t\tu16 numChannels,\n\t\t\t\tstruct cal_target_power_ht *pNewPower,\n\t\t\t\tu16 numRates, bool isHt40Target);\nu16 ath9k_hw_get_max_edge_power(u16 freq, struct cal_ctl_edges *pRdEdgesPower,\n\t\t\t\tbool is2GHz, int num_band_edges);\nu16 ath9k_hw_get_scaled_power(struct ath_hw *ah, u16 power_limit,\n\t\t\t      u8 antenna_reduction);\nvoid ath9k_hw_update_regulatory_maxpower(struct ath_hw *ah);\nint ath9k_hw_eeprom_init(struct ath_hw *ah);\n\nvoid ath9k_hw_get_gain_boundaries_pdadcs(struct ath_hw *ah,\n\t\t\t\tstruct ath9k_channel *chan,\n\t\t\t\tvoid *pRawDataSet,\n\t\t\t\tu8 *bChans, u16 availPiers,\n\t\t\t\tu16 tPdGainOverlap,\n\t\t\t\tu16 *pPdGainBoundaries, u8 *pPDADCValues,\n\t\t\t\tu16 numXpdGains);\n\nstatic inline u16 ath9k_hw_fbin2freq(u8 fbin, bool is2GHz)\n{\n\tif (fbin == AR5416_BCHAN_UNUSED)\n\t\treturn fbin;\n\n\treturn (u16) ((is2GHz) ? (2300 + fbin) : (4800 + 5 * fbin));\n}\n\n#define ar5416_get_ntxchains(_txchainmask)\t\t\t\\\n\t(((_txchainmask >> 2) & 1) +                            \\\n\t ((_txchainmask >> 1) & 1) + (_txchainmask & 1))\n\nextern const struct eeprom_ops eep_def_ops;\nextern const struct eeprom_ops eep_4k_ops;\nextern const struct eeprom_ops eep_ar9287_ops;\nextern const struct eeprom_ops eep_ar9287_ops;\nextern const struct eeprom_ops eep_ar9300_ops;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}