{
  "module_name": "dp_rx.h",
  "hash_id": "ce3fe6daee17b6d6ddb04aa74c068970351817a7efd4983e2f5d5acfceb6f71d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/ath12k/dp_rx.h",
  "human_readable_source": " \n \n#ifndef ATH12K_DP_RX_H\n#define ATH12K_DP_RX_H\n\n#include \"core.h\"\n#include \"rx_desc.h\"\n#include \"debug.h\"\n\n#define DP_MAX_NWIFI_HDR_LEN\t30\n\nstruct ath12k_dp_rx_tid {\n\tu8 tid;\n\tu32 *vaddr;\n\tdma_addr_t paddr;\n\tu32 size;\n\tu32 ba_win_sz;\n\tbool active;\n\n\t \n\tu32 cur_sn;\n\tu16 last_frag_no;\n\tu16 rx_frag_bitmap;\n\n\tstruct sk_buff_head rx_frags;\n\tstruct hal_reo_dest_ring *dst_ring_desc;\n\n\t \n\tstruct timer_list frag_timer;\n\tstruct ath12k_base *ab;\n};\n\nstruct ath12k_dp_rx_reo_cache_flush_elem {\n\tstruct list_head list;\n\tstruct ath12k_dp_rx_tid data;\n\tunsigned long ts;\n};\n\nstruct ath12k_dp_rx_reo_cmd {\n\tstruct list_head list;\n\tstruct ath12k_dp_rx_tid data;\n\tint cmd_num;\n\tvoid (*handler)(struct ath12k_dp *dp, void *ctx,\n\t\t\tenum hal_reo_cmd_status status);\n};\n\n#define ATH12K_DP_RX_REO_DESC_FREE_THRES  64\n#define ATH12K_DP_RX_REO_DESC_FREE_TIMEOUT_MS 1000\n\nenum ath12k_dp_rx_decap_type {\n\tDP_RX_DECAP_TYPE_RAW,\n\tDP_RX_DECAP_TYPE_NATIVE_WIFI,\n\tDP_RX_DECAP_TYPE_ETHERNET2_DIX,\n\tDP_RX_DECAP_TYPE_8023,\n};\n\nstruct ath12k_dp_rx_rfc1042_hdr {\n\tu8 llc_dsap;\n\tu8 llc_ssap;\n\tu8 llc_ctrl;\n\tu8 snap_oui[3];\n\t__be16 snap_type;\n} __packed;\n\nstatic inline u32 ath12k_he_gi_to_nl80211_he_gi(u8 sgi)\n{\n\tu32 ret = 0;\n\n\tswitch (sgi) {\n\tcase RX_MSDU_START_SGI_0_8_US:\n\t\tret = NL80211_RATE_INFO_HE_GI_0_8;\n\t\tbreak;\n\tcase RX_MSDU_START_SGI_1_6_US:\n\t\tret = NL80211_RATE_INFO_HE_GI_1_6;\n\t\tbreak;\n\tcase RX_MSDU_START_SGI_3_2_US:\n\t\tret = NL80211_RATE_INFO_HE_GI_3_2;\n\t\tbreak;\n\t}\n\n\treturn ret;\n}\n\nint ath12k_dp_rx_ampdu_start(struct ath12k *ar,\n\t\t\t     struct ieee80211_ampdu_params *params);\nint ath12k_dp_rx_ampdu_stop(struct ath12k *ar,\n\t\t\t    struct ieee80211_ampdu_params *params);\nint ath12k_dp_rx_peer_pn_replay_config(struct ath12k_vif *arvif,\n\t\t\t\t       const u8 *peer_addr,\n\t\t\t\t       enum set_key_cmd key_cmd,\n\t\t\t\t       struct ieee80211_key_conf *key);\nvoid ath12k_dp_rx_peer_tid_cleanup(struct ath12k *ar, struct ath12k_peer *peer);\nvoid ath12k_dp_rx_peer_tid_delete(struct ath12k *ar,\n\t\t\t\t  struct ath12k_peer *peer, u8 tid);\nint ath12k_dp_rx_peer_tid_setup(struct ath12k *ar, const u8 *peer_mac, int vdev_id,\n\t\t\t\tu8 tid, u32 ba_win_sz, u16 ssn,\n\t\t\t\tenum hal_pn_type pn_type);\nvoid ath12k_dp_htt_htc_t2h_msg_handler(struct ath12k_base *ab,\n\t\t\t\t       struct sk_buff *skb);\nint ath12k_dp_rx_pdev_reo_setup(struct ath12k_base *ab);\nvoid ath12k_dp_rx_pdev_reo_cleanup(struct ath12k_base *ab);\nint ath12k_dp_rx_htt_setup(struct ath12k_base *ab);\nint ath12k_dp_rx_alloc(struct ath12k_base *ab);\nvoid ath12k_dp_rx_free(struct ath12k_base *ab);\nint ath12k_dp_rx_pdev_alloc(struct ath12k_base *ab, int pdev_idx);\nvoid ath12k_dp_rx_pdev_free(struct ath12k_base *ab, int pdev_idx);\nvoid ath12k_dp_rx_reo_cmd_list_cleanup(struct ath12k_base *ab);\nvoid ath12k_dp_rx_process_reo_status(struct ath12k_base *ab);\nint ath12k_dp_rx_process_wbm_err(struct ath12k_base *ab,\n\t\t\t\t struct napi_struct *napi, int budget);\nint ath12k_dp_rx_process_err(struct ath12k_base *ab, struct napi_struct *napi,\n\t\t\t     int budget);\nint ath12k_dp_rx_process(struct ath12k_base *ab, int mac_id,\n\t\t\t struct napi_struct *napi,\n\t\t\t int budget);\nint ath12k_dp_rx_bufs_replenish(struct ath12k_base *ab, int mac_id,\n\t\t\t\tstruct dp_rxdma_ring *rx_ring,\n\t\t\t\tint req_entries,\n\t\t\t\tenum hal_rx_buf_return_buf_manager mgr,\n\t\t\t\tbool hw_cc);\nint ath12k_dp_rx_pdev_mon_attach(struct ath12k *ar);\nint ath12k_dp_rx_peer_frag_setup(struct ath12k *ar, const u8 *peer_mac, int vdev_id);\n\nint ath12k_dp_rx_pktlog_start(struct ath12k_base *ab);\nint ath12k_dp_rx_pktlog_stop(struct ath12k_base *ab, bool stop_timer);\nu8 ath12k_dp_rx_h_l3pad(struct ath12k_base *ab,\n\t\t\tstruct hal_rx_desc *desc);\nstruct ath12k_peer *\nath12k_dp_rx_h_find_peer(struct ath12k_base *ab, struct sk_buff *msdu);\nu8 ath12k_dp_rx_h_decap_type(struct ath12k_base *ab,\n\t\t\t     struct hal_rx_desc *desc);\nu32 ath12k_dp_rx_h_mpdu_err(struct ath12k_base *ab,\n\t\t\t    struct hal_rx_desc *desc);\nvoid ath12k_dp_rx_h_ppdu(struct ath12k *ar, struct hal_rx_desc *rx_desc,\n\t\t\t struct ieee80211_rx_status *rx_status);\nstruct ath12k_peer *\nath12k_dp_rx_h_find_peer(struct ath12k_base *ab, struct sk_buff *msdu);\n\nint ath12k_dp_rxdma_ring_sel_config_qcn9274(struct ath12k_base *ab);\nint ath12k_dp_rxdma_ring_sel_config_wcn7850(struct ath12k_base *ab);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}