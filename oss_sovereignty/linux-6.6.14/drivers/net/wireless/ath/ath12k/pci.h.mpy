{
  "module_name": "pci.h",
  "hash_id": "5ce9cf18fac81928d2bf1d19ad52d4095f92ec5c98e45d37aa85e59b8ceb465f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/ath12k/pci.h",
  "human_readable_source": " \n \n#ifndef ATH12K_PCI_H\n#define ATH12K_PCI_H\n\n#include <linux/mhi.h>\n\n#include \"core.h\"\n\n#define PCIE_SOC_GLOBAL_RESET\t\t\t0x3008\n#define PCIE_SOC_GLOBAL_RESET_V\t\t\t1\n\n#define WLAON_WARM_SW_ENTRY\t\t\t0x1f80504\n#define WLAON_SOC_RESET_CAUSE_REG\t\t0x01f8060c\n\n#define PCIE_Q6_COOKIE_ADDR\t\t\t0x01f80500\n#define PCIE_Q6_COOKIE_DATA\t\t\t0xc0000000\n\n \n#define PCIE_SCRATCH_0_SOC_PCIE_REG\t\t0x4040\n\n \n#define PCIE_SOC_WAKE_PCIE_LOCAL_REG\t\t0x3004\n\n#define PCIE_PCIE_PARF_LTSSM\t\t\t0x1e081b0\n#define PARM_LTSSM_VALUE\t\t\t0x111\n\n#define GCC_GCC_PCIE_HOT_RST\t\t\t0x1e38338\n#define GCC_GCC_PCIE_HOT_RST_VAL\t\t0x10\n\n#define PCIE_PCIE_INT_ALL_CLEAR\t\t\t0x1e08228\n#define PCIE_SMLH_REQ_RST_LINK_DOWN\t\t0x2\n#define PCIE_INT_CLEAR_ALL\t\t\t0xffffffff\n\n#define PCIE_QSERDES_COM_SYSCLK_EN_SEL_REG(ab) \\\n\t((ab)->hw_params->regs->pcie_qserdes_sysclk_en_sel)\n#define PCIE_QSERDES_COM_SYSCLK_EN_SEL_VAL\t0x10\n#define PCIE_QSERDES_COM_SYSCLK_EN_SEL_MSK\t0xffffffff\n#define PCIE_PCS_OSC_DTCT_CONFIG1_REG(ab) \\\n\t((ab)->hw_params->regs->pcie_pcs_osc_dtct_config_base)\n#define PCIE_PCS_OSC_DTCT_CONFIG1_VAL\t\t0x02\n#define PCIE_PCS_OSC_DTCT_CONFIG2_REG(ab) \\\n\t((ab)->hw_params->regs->pcie_pcs_osc_dtct_config_base + 0x4)\n#define PCIE_PCS_OSC_DTCT_CONFIG2_VAL\t\t0x52\n#define PCIE_PCS_OSC_DTCT_CONFIG4_REG(ab) \\\n\t((ab)->hw_params->regs->pcie_pcs_osc_dtct_config_base + 0xc)\n#define PCIE_PCS_OSC_DTCT_CONFIG4_VAL\t\t0xff\n#define PCIE_PCS_OSC_DTCT_CONFIG_MSK\t\t0x000000ff\n\n#define WLAON_QFPROM_PWR_CTRL_REG\t\t0x01f8031c\n#define QFPROM_PWR_CTRL_VDD4BLOW_MASK\t\t0x4\n\n#define PCI_BAR_WINDOW0_BASE\t0x1E00000\n#define PCI_BAR_WINDOW0_END\t0x1E7FFFC\n#define PCI_SOC_RANGE_MASK\t0x3FFF\n#define PCI_SOC_PCI_REG_BASE\t0x1E04000\n#define PCI_SOC_PCI_REG_END\t0x1E07FFC\n#define PCI_PARF_BASE\t\t0x1E08000\n#define PCI_PARF_END\t\t0x1E0BFFC\n#define PCI_MHIREGLEN_REG\t0x1E0E100\n#define PCI_MHI_REGION_END\t0x1E0EFFC\n#define QRTR_PCI_DOMAIN_NR_MASK\t\tGENMASK(7, 4)\n#define QRTR_PCI_BUS_NUMBER_MASK\tGENMASK(3, 0)\n\n#define ATH12K_PCI_SOC_HW_VERSION_1\t1\n#define ATH12K_PCI_SOC_HW_VERSION_2\t2\n\nstruct ath12k_msi_user {\n\tconst char *name;\n\tint num_vectors;\n\tu32 base_vector;\n};\n\nstruct ath12k_msi_config {\n\tint total_vectors;\n\tint total_users;\n\tconst struct ath12k_msi_user *users;\n};\n\nenum ath12k_pci_flags {\n\tATH12K_PCI_FLAG_INIT_DONE,\n\tATH12K_PCI_FLAG_IS_MSI_64,\n\tATH12K_PCI_ASPM_RESTORE,\n};\n\nstruct ath12k_pci_ops {\n\tint (*wakeup)(struct ath12k_base *ab);\n\tvoid (*release)(struct ath12k_base *ab);\n};\n\nstruct ath12k_pci {\n\tstruct pci_dev *pdev;\n\tstruct ath12k_base *ab;\n\tu16 dev_id;\n\tchar amss_path[100];\n\tu32 msi_ep_base_data;\n\tstruct mhi_controller *mhi_ctrl;\n\tconst struct ath12k_msi_config *msi_config;\n\tunsigned long mhi_state;\n\tu32 register_window;\n\n\t \n\tspinlock_t window_lock;\n\n\t \n\tunsigned long flags;\n\tu16 link_ctl;\n\tconst struct ath12k_pci_ops *pci_ops;\n};\n\nstatic inline struct ath12k_pci *ath12k_pci_priv(struct ath12k_base *ab)\n{\n\treturn (struct ath12k_pci *)ab->drv_priv;\n}\n\nint ath12k_pci_get_user_msi_assignment(struct ath12k_base *ab, char *user_name,\n\t\t\t\t       int *num_vectors, u32 *user_base_data,\n\t\t\t\t       u32 *base_vector);\nint ath12k_pci_get_msi_irq(struct device *dev, unsigned int vector);\nvoid ath12k_pci_write32(struct ath12k_base *ab, u32 offset, u32 value);\nu32 ath12k_pci_read32(struct ath12k_base *ab, u32 offset);\nint ath12k_pci_map_service_to_pipe(struct ath12k_base *ab, u16 service_id,\n\t\t\t\t   u8 *ul_pipe, u8 *dl_pipe);\nvoid ath12k_pci_get_msi_address(struct ath12k_base *ab, u32 *msi_addr_lo,\n\t\t\t\tu32 *msi_addr_hi);\nvoid ath12k_pci_get_ce_msi_idx(struct ath12k_base *ab, u32 ce_id,\n\t\t\t       u32 *msi_idx);\nvoid ath12k_pci_hif_ce_irq_enable(struct ath12k_base *ab);\nvoid ath12k_pci_hif_ce_irq_disable(struct ath12k_base *ab);\nvoid ath12k_pci_ext_irq_enable(struct ath12k_base *ab);\nvoid ath12k_pci_ext_irq_disable(struct ath12k_base *ab);\nint ath12k_pci_hif_suspend(struct ath12k_base *ab);\nint ath12k_pci_hif_resume(struct ath12k_base *ab);\nvoid ath12k_pci_stop(struct ath12k_base *ab);\nint ath12k_pci_start(struct ath12k_base *ab);\nint ath12k_pci_power_up(struct ath12k_base *ab);\nvoid ath12k_pci_power_down(struct ath12k_base *ab);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}