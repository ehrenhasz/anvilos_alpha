{
  "module_name": "dp.h",
  "hash_id": "12a888b7e0911baa3bb8a18452ce533e032562b3164461d496b5e2188f33c1ef",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/ath12k/dp.h",
  "human_readable_source": " \n \n\n#ifndef ATH12K_DP_H\n#define ATH12K_DP_H\n\n#include \"hal_rx.h\"\n#include \"hw.h\"\n\n#define MAX_RXDMA_PER_PDEV     2\n\nstruct ath12k_base;\nstruct ath12k_peer;\nstruct ath12k_dp;\nstruct ath12k_vif;\nstruct hal_tcl_status_ring;\nstruct ath12k_ext_irq_grp;\n\n#define DP_MON_PURGE_TIMEOUT_MS     100\n#define DP_MON_SERVICE_BUDGET       128\n\nstruct dp_srng {\n\tu32 *vaddr_unaligned;\n\tu32 *vaddr;\n\tdma_addr_t paddr_unaligned;\n\tdma_addr_t paddr;\n\tint size;\n\tu32 ring_id;\n};\n\nstruct dp_rxdma_ring {\n\tstruct dp_srng refill_buf_ring;\n\tstruct idr bufs_idr;\n\t \n\tspinlock_t idr_lock;\n\tint bufs_max;\n};\n\n#define ATH12K_TX_COMPL_NEXT(x)\t(((x) + 1) % DP_TX_COMP_RING_SIZE)\n\nstruct dp_tx_ring {\n\tu8 tcl_data_ring_id;\n\tstruct dp_srng tcl_data_ring;\n\tstruct dp_srng tcl_comp_ring;\n\tstruct hal_wbm_completion_ring_tx *tx_status;\n\tint tx_status_head;\n\tint tx_status_tail;\n};\n\nstruct ath12k_pdev_mon_stats {\n\tu32 status_ppdu_state;\n\tu32 status_ppdu_start;\n\tu32 status_ppdu_end;\n\tu32 status_ppdu_compl;\n\tu32 status_ppdu_start_mis;\n\tu32 status_ppdu_end_mis;\n\tu32 status_ppdu_done;\n\tu32 dest_ppdu_done;\n\tu32 dest_mpdu_done;\n\tu32 dest_mpdu_drop;\n\tu32 dup_mon_linkdesc_cnt;\n\tu32 dup_mon_buf_cnt;\n};\n\nstruct dp_link_desc_bank {\n\tvoid *vaddr_unaligned;\n\tvoid *vaddr;\n\tdma_addr_t paddr_unaligned;\n\tdma_addr_t paddr;\n\tu32 size;\n};\n\n \n#define DP_LINK_DESC_ALLOC_SIZE_THRESH 0x200000\n#define DP_LINK_DESC_BANKS_MAX 8\n\n#define DP_LINK_DESC_START\t0x4000\n#define DP_LINK_DESC_SHIFT\t3\n\n#define DP_LINK_DESC_COOKIE_SET(id, page) \\\n\t((((id) + DP_LINK_DESC_START) << DP_LINK_DESC_SHIFT) | (page))\n\n#define DP_LINK_DESC_BANK_MASK\tGENMASK(2, 0)\n\n#define DP_RX_DESC_COOKIE_INDEX_MAX\t\t0x3ffff\n#define DP_RX_DESC_COOKIE_POOL_ID_MAX\t\t0x1c0000\n#define DP_RX_DESC_COOKIE_MAX\t\\\n\t(DP_RX_DESC_COOKIE_INDEX_MAX | DP_RX_DESC_COOKIE_POOL_ID_MAX)\n#define DP_NOT_PPDU_ID_WRAP_AROUND 20000\n\nenum ath12k_dp_ppdu_state {\n\tDP_PPDU_STATUS_START,\n\tDP_PPDU_STATUS_DONE,\n};\n\nstruct dp_mon_mpdu {\n\tstruct list_head list;\n\tstruct sk_buff *head;\n\tstruct sk_buff *tail;\n};\n\n#define DP_MON_MAX_STATUS_BUF 32\n\nstruct ath12k_mon_data {\n\tstruct dp_link_desc_bank link_desc_banks[DP_LINK_DESC_BANKS_MAX];\n\tstruct hal_rx_mon_ppdu_info mon_ppdu_info;\n\n\tu32 mon_ppdu_status;\n\tu32 mon_last_buf_cookie;\n\tu64 mon_last_linkdesc_paddr;\n\tu16 chan_noise_floor;\n\n\tstruct ath12k_pdev_mon_stats rx_mon_stats;\n\t \n\tspinlock_t mon_lock;\n\tstruct sk_buff_head rx_status_q;\n\tstruct dp_mon_mpdu *mon_mpdu;\n\tstruct list_head dp_rx_mon_mpdu_list;\n\tstruct sk_buff *dest_skb_q[DP_MON_MAX_STATUS_BUF];\n\tstruct dp_mon_tx_ppdu_info *tx_prot_ppdu_info;\n\tstruct dp_mon_tx_ppdu_info *tx_data_ppdu_info;\n};\n\nstruct ath12k_pdev_dp {\n\tu32 mac_id;\n\tatomic_t num_tx_pending;\n\twait_queue_head_t tx_empty_waitq;\n\tstruct dp_srng rxdma_mon_dst_ring[MAX_RXDMA_PER_PDEV];\n\tstruct dp_srng tx_mon_dst_ring[MAX_RXDMA_PER_PDEV];\n\n\tstruct ieee80211_rx_status rx_status;\n\tstruct ath12k_mon_data mon_data;\n};\n\n#define DP_NUM_CLIENTS_MAX 64\n#define DP_AVG_TIDS_PER_CLIENT 2\n#define DP_NUM_TIDS_MAX (DP_NUM_CLIENTS_MAX * DP_AVG_TIDS_PER_CLIENT)\n#define DP_AVG_MSDUS_PER_FLOW 128\n#define DP_AVG_FLOWS_PER_TID 2\n#define DP_AVG_MPDUS_PER_TID_MAX 128\n#define DP_AVG_MSDUS_PER_MPDU 4\n\n#define DP_RX_HASH_ENABLE\t1  \n\n#define DP_BA_WIN_SZ_MAX\t256\n\n#define DP_TCL_NUM_RING_MAX\t4\n\n#define DP_IDLE_SCATTER_BUFS_MAX 16\n\n#define DP_WBM_RELEASE_RING_SIZE\t64\n#define DP_TCL_DATA_RING_SIZE\t\t512\n#define DP_TX_COMP_RING_SIZE\t\t32768\n#define DP_TX_IDR_SIZE\t\t\tDP_TX_COMP_RING_SIZE\n#define DP_TCL_CMD_RING_SIZE\t\t32\n#define DP_TCL_STATUS_RING_SIZE\t\t32\n#define DP_REO_DST_RING_MAX\t\t8\n#define DP_REO_DST_RING_SIZE\t\t2048\n#define DP_REO_REINJECT_RING_SIZE\t32\n#define DP_RX_RELEASE_RING_SIZE\t\t1024\n#define DP_REO_EXCEPTION_RING_SIZE\t128\n#define DP_REO_CMD_RING_SIZE\t\t128\n#define DP_REO_STATUS_RING_SIZE\t\t2048\n#define DP_RXDMA_BUF_RING_SIZE\t\t4096\n#define DP_RXDMA_REFILL_RING_SIZE\t2048\n#define DP_RXDMA_ERR_DST_RING_SIZE\t1024\n#define DP_RXDMA_MON_STATUS_RING_SIZE\t1024\n#define DP_RXDMA_MONITOR_BUF_RING_SIZE\t4096\n#define DP_RXDMA_MONITOR_DST_RING_SIZE\t2048\n#define DP_RXDMA_MONITOR_DESC_RING_SIZE\t4096\n#define DP_TX_MONITOR_BUF_RING_SIZE\t4096\n#define DP_TX_MONITOR_DEST_RING_SIZE\t2048\n\n#define DP_TX_MONITOR_BUF_SIZE\t\t2048\n#define DP_TX_MONITOR_BUF_SIZE_MIN\t48\n#define DP_TX_MONITOR_BUF_SIZE_MAX\t8192\n\n#define DP_RX_BUFFER_SIZE\t2048\n#define DP_RX_BUFFER_SIZE_LITE\t1024\n#define DP_RX_BUFFER_ALIGN_SIZE\t128\n\n#define DP_RXDMA_BUF_COOKIE_BUF_ID\tGENMASK(17, 0)\n#define DP_RXDMA_BUF_COOKIE_PDEV_ID\tGENMASK(19, 18)\n\n#define DP_HW2SW_MACID(mac_id) ({ typeof(mac_id) x = (mac_id); x ? x - 1 : 0; })\n#define DP_SW2HW_MACID(mac_id) ((mac_id) + 1)\n\n#define DP_TX_DESC_ID_MAC_ID  GENMASK(1, 0)\n#define DP_TX_DESC_ID_MSDU_ID GENMASK(18, 2)\n#define DP_TX_DESC_ID_POOL_ID GENMASK(20, 19)\n\n#define ATH12K_SHADOW_DP_TIMER_INTERVAL 20\n#define ATH12K_SHADOW_CTRL_TIMER_INTERVAL 10\n\n#define ATH12K_NUM_POOL_TX_DESC\t32768\n\n \n#define ATH12K_RX_DESC_COUNT\t(12288)\n\n#define ATH12K_PAGE_SIZE\tPAGE_SIZE\n\n \n#define ATH12K_MAX_PPT_ENTRIES\t1024\n\n \n#define ATH12K_MAX_SPT_ENTRIES\t512\n\n#define ATH12K_NUM_RX_SPT_PAGES\t((ATH12K_RX_DESC_COUNT) / ATH12K_MAX_SPT_ENTRIES)\n\n#define ATH12K_TX_SPT_PAGES_PER_POOL (ATH12K_NUM_POOL_TX_DESC / \\\n\t\t\t\t\t  ATH12K_MAX_SPT_ENTRIES)\n#define ATH12K_NUM_TX_SPT_PAGES\t(ATH12K_TX_SPT_PAGES_PER_POOL * ATH12K_HW_MAX_QUEUES)\n#define ATH12K_NUM_SPT_PAGES\t(ATH12K_NUM_RX_SPT_PAGES + ATH12K_NUM_TX_SPT_PAGES)\n\n \n#define ATH12K_NUM_TX_SPT_PAGE_START ATH12K_NUM_RX_SPT_PAGES\n\n#define ATH12K_DP_RX_DESC_MAGIC\t0xBABABABA\n\n \n#define ATH12K_SPT_4K_ALIGN_CHECK 0xFFF\n#define ATH12K_SPT_4K_ALIGN_OFFSET 12\n#define ATH12K_PPT_ADDR_OFFSET(ppt_index) (4 * (ppt_index))\n\n \n#define ATH12K_CMEM_ADDR_MSB 0x10\n\n \n#define ATH12K_CC_SPT_MSB 8\n#define ATH12K_CC_PPT_MSB 19\n#define ATH12K_CC_PPT_SHIFT 9\n#define ATH12k_DP_CC_COOKIE_SPT\tGENMASK(8, 0)\n#define ATH12K_DP_CC_COOKIE_PPT\tGENMASK(19, 9)\n\n#define DP_REO_QREF_NUM\t\tGENMASK(31, 16)\n#define DP_MAX_PEER_ID\t\t2047\n\n \n#define DP_REOQ_LUT_SIZE\t278528\n\n \n#define DP_INVALID_BANK_ID -1\n\nstruct ath12k_dp_tx_bank_profile {\n\tu8 is_configured;\n\tu32 num_users;\n\tu32 bank_config;\n};\n\nstruct ath12k_hp_update_timer {\n\tstruct timer_list timer;\n\tbool started;\n\tbool init;\n\tu32 tx_num;\n\tu32 timer_tx_num;\n\tu32 ring_id;\n\tu32 interval;\n\tstruct ath12k_base *ab;\n};\n\nstruct ath12k_rx_desc_info {\n\tstruct list_head list;\n\tstruct sk_buff *skb;\n\tu32 cookie;\n\tu32 magic;\n};\n\nstruct ath12k_tx_desc_info {\n\tstruct list_head list;\n\tstruct sk_buff *skb;\n\tu32 desc_id;  \n\tu8 mac_id;\n\tu8 pool_id;\n};\n\nstruct ath12k_spt_info {\n\tdma_addr_t paddr;\n\tu64 *vaddr;\n\tstruct ath12k_rx_desc_info *rxbaddr[ATH12K_NUM_RX_SPT_PAGES];\n\tstruct ath12k_tx_desc_info *txbaddr[ATH12K_NUM_TX_SPT_PAGES];\n};\n\nstruct ath12k_reo_queue_ref {\n\tu32 info0;\n\tu32 info1;\n} __packed;\n\nstruct ath12k_reo_q_addr_lut {\n\tdma_addr_t paddr;\n\tu32 *vaddr;\n};\n\nstruct ath12k_dp {\n\tstruct ath12k_base *ab;\n\tu8 num_bank_profiles;\n\t \n\tspinlock_t tx_bank_lock;\n\tstruct ath12k_dp_tx_bank_profile *bank_profiles;\n\tenum ath12k_htc_ep_id eid;\n\tstruct completion htt_tgt_version_received;\n\tu8 htt_tgt_ver_major;\n\tu8 htt_tgt_ver_minor;\n\tstruct dp_link_desc_bank link_desc_banks[DP_LINK_DESC_BANKS_MAX];\n\tstruct dp_srng wbm_idle_ring;\n\tstruct dp_srng wbm_desc_rel_ring;\n\tstruct dp_srng tcl_cmd_ring;\n\tstruct dp_srng tcl_status_ring;\n\tstruct dp_srng reo_reinject_ring;\n\tstruct dp_srng rx_rel_ring;\n\tstruct dp_srng reo_except_ring;\n\tstruct dp_srng reo_cmd_ring;\n\tstruct dp_srng reo_status_ring;\n\tstruct dp_srng reo_dst_ring[DP_REO_DST_RING_MAX];\n\tstruct dp_tx_ring tx_ring[DP_TCL_NUM_RING_MAX];\n\tstruct hal_wbm_idle_scatter_list scatter_list[DP_IDLE_SCATTER_BUFS_MAX];\n\tstruct list_head reo_cmd_list;\n\tstruct list_head reo_cmd_cache_flush_list;\n\tu32 reo_cmd_cache_flush_count;\n\n\t \n\tspinlock_t reo_cmd_lock;\n\tstruct ath12k_hp_update_timer reo_cmd_timer;\n\tstruct ath12k_hp_update_timer tx_ring_timer[DP_TCL_NUM_RING_MAX];\n\tstruct ath12k_spt_info *spt_info;\n\tu32 num_spt_pages;\n\tstruct list_head rx_desc_free_list;\n\tstruct list_head rx_desc_used_list;\n\t \n\tspinlock_t rx_desc_lock;\n\n\tstruct list_head tx_desc_free_list[ATH12K_HW_MAX_QUEUES];\n\tstruct list_head tx_desc_used_list[ATH12K_HW_MAX_QUEUES];\n\t \n\tspinlock_t tx_desc_lock[ATH12K_HW_MAX_QUEUES];\n\n\tstruct dp_rxdma_ring rx_refill_buf_ring;\n\tstruct dp_srng rx_mac_buf_ring[MAX_RXDMA_PER_PDEV];\n\tstruct dp_srng rxdma_err_dst_ring[MAX_RXDMA_PER_PDEV];\n\tstruct dp_rxdma_ring rxdma_mon_buf_ring;\n\tstruct dp_rxdma_ring tx_mon_buf_ring;\n\tstruct ath12k_reo_q_addr_lut reoq_lut;\n};\n\n \n\n#define HTT_TCL_META_DATA_TYPE\t\t\tBIT(0)\n#define HTT_TCL_META_DATA_VALID_HTT\t\tBIT(1)\n\n \n#define HTT_TCL_META_DATA_VDEV_ID\t\tGENMASK(9, 2)\n#define HTT_TCL_META_DATA_PDEV_ID\t\tGENMASK(11, 10)\n#define HTT_TCL_META_DATA_HOST_INSPECTED\tBIT(12)\n\n \n#define HTT_TCL_META_DATA_PEER_ID\t\tGENMASK(15, 2)\n\n#define HTT_TX_WBM_COMP_STATUS_OFFSET 8\n\n \n#define HTT_TX_WBM_COMP_INFO0_STATUS\t\tGENMASK(16, 13)\n#define HTT_TX_WBM_COMP_INFO1_REINJECT_REASON\tGENMASK(3, 0)\n#define HTT_TX_WBM_COMP_INFO1_EXCEPTION_FRAME\tBIT(4)\n\n#define HTT_TX_WBM_COMP_INFO2_ACK_RSSI\t\tGENMASK(31, 24)\n\nstruct htt_tx_wbm_completion {\n\t__le32 rsvd0[2];\n\t__le32 info0;\n\t__le32 info1;\n\t__le32 info2;\n\t__le32 info3;\n\t__le32 info4;\n\t__le32 rsvd1;\n\n} __packed;\n\nenum htt_h2t_msg_type {\n\tHTT_H2T_MSG_TYPE_VERSION_REQ\t\t= 0,\n\tHTT_H2T_MSG_TYPE_SRING_SETUP\t\t= 0xb,\n\tHTT_H2T_MSG_TYPE_RX_RING_SELECTION_CFG\t= 0xc,\n\tHTT_H2T_MSG_TYPE_EXT_STATS_CFG\t\t= 0x10,\n\tHTT_H2T_MSG_TYPE_PPDU_STATS_CFG\t\t= 0x11,\n\tHTT_H2T_MSG_TYPE_VDEV_TXRX_STATS_CFG\t= 0x1a,\n\tHTT_H2T_MSG_TYPE_TX_MONITOR_CFG\t\t= 0x1b,\n};\n\n#define HTT_VER_REQ_INFO_MSG_ID\t\tGENMASK(7, 0)\n\nstruct htt_ver_req_cmd {\n\t__le32 ver_reg_info;\n} __packed;\n\nenum htt_srng_ring_type {\n\tHTT_HW_TO_SW_RING,\n\tHTT_SW_TO_HW_RING,\n\tHTT_SW_TO_SW_RING,\n};\n\nenum htt_srng_ring_id {\n\tHTT_RXDMA_HOST_BUF_RING,\n\tHTT_RXDMA_MONITOR_STATUS_RING,\n\tHTT_RXDMA_MONITOR_BUF_RING,\n\tHTT_RXDMA_MONITOR_DESC_RING,\n\tHTT_RXDMA_MONITOR_DEST_RING,\n\tHTT_HOST1_TO_FW_RXBUF_RING,\n\tHTT_HOST2_TO_FW_RXBUF_RING,\n\tHTT_RXDMA_NON_MONITOR_DEST_RING,\n\tHTT_TX_MON_HOST2MON_BUF_RING,\n\tHTT_TX_MON_MON2HOST_DEST_RING,\n};\n\n \n\n#define HTT_SRNG_SETUP_CMD_INFO0_MSG_TYPE\tGENMASK(7, 0)\n#define HTT_SRNG_SETUP_CMD_INFO0_PDEV_ID\tGENMASK(15, 8)\n#define HTT_SRNG_SETUP_CMD_INFO0_RING_ID\tGENMASK(23, 16)\n#define HTT_SRNG_SETUP_CMD_INFO0_RING_TYPE\tGENMASK(31, 24)\n\n#define HTT_SRNG_SETUP_CMD_INFO1_RING_SIZE\t\t\tGENMASK(15, 0)\n#define HTT_SRNG_SETUP_CMD_INFO1_RING_ENTRY_SIZE\t\tGENMASK(23, 16)\n#define HTT_SRNG_SETUP_CMD_INFO1_RING_LOOP_CNT_DIS\t\tBIT(25)\n#define HTT_SRNG_SETUP_CMD_INFO1_RING_FLAGS_MSI_SWAP\t\tBIT(27)\n#define HTT_SRNG_SETUP_CMD_INFO1_RING_FLAGS_HOST_FW_SWAP\tBIT(28)\n#define HTT_SRNG_SETUP_CMD_INFO1_RING_FLAGS_TLV_SWAP\t\tBIT(29)\n\n#define HTT_SRNG_SETUP_CMD_INTR_INFO_BATCH_COUNTER_THRESH\tGENMASK(14, 0)\n#define HTT_SRNG_SETUP_CMD_INTR_INFO_SW_INTR_MODE\t\tBIT(15)\n#define HTT_SRNG_SETUP_CMD_INTR_INFO_INTR_TIMER_THRESH\t\tGENMASK(31, 16)\n\n#define HTT_SRNG_SETUP_CMD_INFO2_INTR_LOW_THRESH\tGENMASK(15, 0)\n#define HTT_SRNG_SETUP_CMD_INFO2_PRE_FETCH_TIMER_CFG\tGENMASK(18, 16)\n#define HTT_SRNG_SETUP_CMD_INFO2_RESPONSE_REQUIRED\tBIT(19)\n\nstruct htt_srng_setup_cmd {\n\t__le32 info0;\n\t__le32 ring_base_addr_lo;\n\t__le32 ring_base_addr_hi;\n\t__le32 info1;\n\t__le32 ring_head_off32_remote_addr_lo;\n\t__le32 ring_head_off32_remote_addr_hi;\n\t__le32 ring_tail_off32_remote_addr_lo;\n\t__le32 ring_tail_off32_remote_addr_hi;\n\t__le32 ring_msi_addr_lo;\n\t__le32 ring_msi_addr_hi;\n\t__le32 msi_data;\n\t__le32 intr_info;\n\t__le32 info2;\n} __packed;\n\n \n\nstruct htt_ppdu_stats_cfg_cmd {\n\t__le32 msg;\n} __packed;\n\n#define HTT_PPDU_STATS_CFG_MSG_TYPE\t\tGENMASK(7, 0)\n#define HTT_PPDU_STATS_CFG_PDEV_ID\t\tGENMASK(15, 8)\n#define HTT_PPDU_STATS_CFG_TLV_TYPE_BITMASK\tGENMASK(31, 16)\n\nenum htt_ppdu_stats_tag_type {\n\tHTT_PPDU_STATS_TAG_COMMON,\n\tHTT_PPDU_STATS_TAG_USR_COMMON,\n\tHTT_PPDU_STATS_TAG_USR_RATE,\n\tHTT_PPDU_STATS_TAG_USR_MPDU_ENQ_BITMAP_64,\n\tHTT_PPDU_STATS_TAG_USR_MPDU_ENQ_BITMAP_256,\n\tHTT_PPDU_STATS_TAG_SCH_CMD_STATUS,\n\tHTT_PPDU_STATS_TAG_USR_COMPLTN_COMMON,\n\tHTT_PPDU_STATS_TAG_USR_COMPLTN_BA_BITMAP_64,\n\tHTT_PPDU_STATS_TAG_USR_COMPLTN_BA_BITMAP_256,\n\tHTT_PPDU_STATS_TAG_USR_COMPLTN_ACK_BA_STATUS,\n\tHTT_PPDU_STATS_TAG_USR_COMPLTN_FLUSH,\n\tHTT_PPDU_STATS_TAG_USR_COMMON_ARRAY,\n\tHTT_PPDU_STATS_TAG_INFO,\n\tHTT_PPDU_STATS_TAG_TX_MGMTCTRL_PAYLOAD,\n\n\t \n\tHTT_PPDU_STATS_TAG_MAX,\n};\n\n#define HTT_PPDU_STATS_TAG_DEFAULT (BIT(HTT_PPDU_STATS_TAG_COMMON) \\\n\t\t\t\t   | BIT(HTT_PPDU_STATS_TAG_USR_COMMON) \\\n\t\t\t\t   | BIT(HTT_PPDU_STATS_TAG_USR_RATE) \\\n\t\t\t\t   | BIT(HTT_PPDU_STATS_TAG_SCH_CMD_STATUS) \\\n\t\t\t\t   | BIT(HTT_PPDU_STATS_TAG_USR_COMPLTN_COMMON) \\\n\t\t\t\t   | BIT(HTT_PPDU_STATS_TAG_USR_COMPLTN_ACK_BA_STATUS) \\\n\t\t\t\t   | BIT(HTT_PPDU_STATS_TAG_USR_COMPLTN_FLUSH) \\\n\t\t\t\t   | BIT(HTT_PPDU_STATS_TAG_USR_COMMON_ARRAY))\n\n#define HTT_PPDU_STATS_TAG_PKTLOG  (BIT(HTT_PPDU_STATS_TAG_USR_MPDU_ENQ_BITMAP_64) | \\\n\t\t\t\t    BIT(HTT_PPDU_STATS_TAG_USR_MPDU_ENQ_BITMAP_256) | \\\n\t\t\t\t    BIT(HTT_PPDU_STATS_TAG_USR_COMPLTN_BA_BITMAP_64) | \\\n\t\t\t\t    BIT(HTT_PPDU_STATS_TAG_USR_COMPLTN_BA_BITMAP_256) | \\\n\t\t\t\t    BIT(HTT_PPDU_STATS_TAG_INFO) | \\\n\t\t\t\t    BIT(HTT_PPDU_STATS_TAG_TX_MGMTCTRL_PAYLOAD) | \\\n\t\t\t\t    HTT_PPDU_STATS_TAG_DEFAULT)\n\nenum htt_stats_internal_ppdu_frametype {\n\tHTT_STATS_PPDU_FTYPE_CTRL,\n\tHTT_STATS_PPDU_FTYPE_DATA,\n\tHTT_STATS_PPDU_FTYPE_BAR,\n\tHTT_STATS_PPDU_FTYPE_MAX\n};\n\n \n\n#define HTT_RX_RING_SELECTION_CFG_CMD_INFO0_MSG_TYPE\tGENMASK(7, 0)\n#define HTT_RX_RING_SELECTION_CFG_CMD_INFO0_PDEV_ID\tGENMASK(15, 8)\n#define HTT_RX_RING_SELECTION_CFG_CMD_INFO0_RING_ID\tGENMASK(23, 16)\n#define HTT_RX_RING_SELECTION_CFG_CMD_INFO0_SS\t\tBIT(24)\n#define HTT_RX_RING_SELECTION_CFG_CMD_INFO0_PS\t\tBIT(25)\n#define HTT_RX_RING_SELECTION_CFG_CMD_INFO1_BUF_SIZE\tGENMASK(15, 0)\n#define HTT_RX_RING_SELECTION_CFG_CMD_OFFSET_VALID      BIT(26)\n\n#define HTT_RX_RING_SELECTION_CFG_RX_PACKET_OFFSET      GENMASK(15, 0)\n#define HTT_RX_RING_SELECTION_CFG_RX_HEADER_OFFSET      GENMASK(31, 16)\n#define HTT_RX_RING_SELECTION_CFG_RX_MPDU_END_OFFSET    GENMASK(15, 0)\n#define HTT_RX_RING_SELECTION_CFG_RX_MPDU_START_OFFSET  GENMASK(31, 16)\n#define HTT_RX_RING_SELECTION_CFG_RX_MSDU_END_OFFSET    GENMASK(15, 0)\n#define HTT_RX_RING_SELECTION_CFG_RX_MSDU_START_OFFSET  GENMASK(31, 16)\n#define HTT_RX_RING_SELECTION_CFG_RX_ATTENTION_OFFSET   GENMASK(15, 0)\n\nenum htt_rx_filter_tlv_flags {\n\tHTT_RX_FILTER_TLV_FLAGS_MPDU_START\t\t= BIT(0),\n\tHTT_RX_FILTER_TLV_FLAGS_MSDU_START\t\t= BIT(1),\n\tHTT_RX_FILTER_TLV_FLAGS_RX_PACKET\t\t= BIT(2),\n\tHTT_RX_FILTER_TLV_FLAGS_MSDU_END\t\t= BIT(3),\n\tHTT_RX_FILTER_TLV_FLAGS_MPDU_END\t\t= BIT(4),\n\tHTT_RX_FILTER_TLV_FLAGS_PACKET_HEADER\t\t= BIT(5),\n\tHTT_RX_FILTER_TLV_FLAGS_PER_MSDU_HEADER\t\t= BIT(6),\n\tHTT_RX_FILTER_TLV_FLAGS_ATTENTION\t\t= BIT(7),\n\tHTT_RX_FILTER_TLV_FLAGS_PPDU_START\t\t= BIT(8),\n\tHTT_RX_FILTER_TLV_FLAGS_PPDU_END\t\t= BIT(9),\n\tHTT_RX_FILTER_TLV_FLAGS_PPDU_END_USER_STATS\t= BIT(10),\n\tHTT_RX_FILTER_TLV_FLAGS_PPDU_END_USER_STATS_EXT\t= BIT(11),\n\tHTT_RX_FILTER_TLV_FLAGS_PPDU_END_STATUS_DONE\t= BIT(12),\n};\n\nenum htt_rx_mgmt_pkt_filter_tlv_flags0 {\n\tHTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS0_ASSOC_REQ\t\t= BIT(0),\n\tHTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS0_ASSOC_REQ\t\t= BIT(1),\n\tHTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS0_ASSOC_REQ\t\t= BIT(2),\n\tHTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS0_ASSOC_RESP\t\t= BIT(3),\n\tHTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS0_ASSOC_RESP\t\t= BIT(4),\n\tHTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS0_ASSOC_RESP\t\t= BIT(5),\n\tHTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS0_REASSOC_REQ\t= BIT(6),\n\tHTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS0_REASSOC_REQ\t= BIT(7),\n\tHTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS0_REASSOC_REQ\t= BIT(8),\n\tHTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS0_REASSOC_RESP\t= BIT(9),\n\tHTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS0_REASSOC_RESP\t= BIT(10),\n\tHTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS0_REASSOC_RESP\t= BIT(11),\n\tHTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS0_PROBE_REQ\t\t= BIT(12),\n\tHTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS0_PROBE_REQ\t\t= BIT(13),\n\tHTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS0_PROBE_REQ\t\t= BIT(14),\n\tHTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS0_PROBE_RESP\t\t= BIT(15),\n\tHTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS0_PROBE_RESP\t\t= BIT(16),\n\tHTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS0_PROBE_RESP\t\t= BIT(17),\n\tHTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS0_PROBE_TIMING_ADV\t= BIT(18),\n\tHTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS0_PROBE_TIMING_ADV\t= BIT(19),\n\tHTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS0_PROBE_TIMING_ADV\t= BIT(20),\n\tHTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS0_RESERVED_7\t\t= BIT(21),\n\tHTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS0_RESERVED_7\t\t= BIT(22),\n\tHTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS0_RESERVED_7\t\t= BIT(23),\n\tHTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS0_BEACON\t\t= BIT(24),\n\tHTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS0_BEACON\t\t= BIT(25),\n\tHTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS0_BEACON\t\t= BIT(26),\n\tHTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS0_ATIM\t\t= BIT(27),\n\tHTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS0_ATIM\t\t= BIT(28),\n\tHTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS0_ATIM\t\t= BIT(29),\n};\n\nenum htt_rx_mgmt_pkt_filter_tlv_flags1 {\n\tHTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS1_DISASSOC\t\t= BIT(0),\n\tHTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS1_DISASSOC\t\t= BIT(1),\n\tHTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS1_DISASSOC\t\t= BIT(2),\n\tHTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS1_AUTH\t\t= BIT(3),\n\tHTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS1_AUTH\t\t= BIT(4),\n\tHTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS1_AUTH\t\t= BIT(5),\n\tHTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS1_DEAUTH\t\t= BIT(6),\n\tHTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS1_DEAUTH\t\t= BIT(7),\n\tHTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS1_DEAUTH\t\t= BIT(8),\n\tHTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS1_ACTION\t\t= BIT(9),\n\tHTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS1_ACTION\t\t= BIT(10),\n\tHTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS1_ACTION\t\t= BIT(11),\n\tHTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS1_ACTION_NOACK\t= BIT(12),\n\tHTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS1_ACTION_NOACK\t= BIT(13),\n\tHTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS1_ACTION_NOACK\t= BIT(14),\n\tHTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS1_RESERVED_15\t= BIT(15),\n\tHTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS1_RESERVED_15\t= BIT(16),\n\tHTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS1_RESERVED_15\t= BIT(17),\n};\n\nenum htt_rx_ctrl_pkt_filter_tlv_flags2 {\n\tHTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_RESERVED_1\t= BIT(0),\n\tHTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_RESERVED_1\t= BIT(1),\n\tHTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_RESERVED_1\t= BIT(2),\n\tHTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_RESERVED_2\t= BIT(3),\n\tHTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_RESERVED_2\t= BIT(4),\n\tHTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_RESERVED_2\t= BIT(5),\n\tHTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_TRIGGER\t= BIT(6),\n\tHTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_TRIGGER\t= BIT(7),\n\tHTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_TRIGGER\t= BIT(8),\n\tHTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_RESERVED_4\t= BIT(9),\n\tHTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_RESERVED_4\t= BIT(10),\n\tHTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_RESERVED_4\t= BIT(11),\n\tHTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_BF_REP_POLL\t= BIT(12),\n\tHTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_BF_REP_POLL\t= BIT(13),\n\tHTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_BF_REP_POLL\t= BIT(14),\n\tHTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_VHT_NDP\t= BIT(15),\n\tHTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_VHT_NDP\t= BIT(16),\n\tHTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_VHT_NDP\t= BIT(17),\n\tHTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_FRAME_EXT\t= BIT(18),\n\tHTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_FRAME_EXT\t= BIT(19),\n\tHTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_FRAME_EXT\t= BIT(20),\n\tHTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_WRAPPER\t= BIT(21),\n\tHTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_WRAPPER\t= BIT(22),\n\tHTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_WRAPPER\t= BIT(23),\n\tHTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS2_BAR\t\t= BIT(24),\n\tHTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS2_BAR\t\t= BIT(25),\n\tHTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS2_BAR\t\t= BIT(26),\n\tHTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS2_BA\t\t\t= BIT(27),\n\tHTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS2_BA\t\t\t= BIT(28),\n\tHTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS2_BA\t\t\t= BIT(29),\n};\n\nenum htt_rx_ctrl_pkt_filter_tlv_flags3 {\n\tHTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS3_PSPOLL\t\t= BIT(0),\n\tHTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS3_PSPOLL\t\t= BIT(1),\n\tHTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS3_PSPOLL\t\t= BIT(2),\n\tHTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS3_RTS\t\t= BIT(3),\n\tHTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS3_RTS\t\t= BIT(4),\n\tHTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS3_RTS\t\t= BIT(5),\n\tHTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS3_CTS\t\t= BIT(6),\n\tHTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS3_CTS\t\t= BIT(7),\n\tHTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS3_CTS\t\t= BIT(8),\n\tHTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS3_ACK\t\t= BIT(9),\n\tHTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS3_ACK\t\t= BIT(10),\n\tHTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS3_ACK\t\t= BIT(11),\n\tHTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS3_CFEND\t\t= BIT(12),\n\tHTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS3_CFEND\t\t= BIT(13),\n\tHTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS3_CFEND\t\t= BIT(14),\n\tHTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS3_CFEND_ACK\t\t= BIT(15),\n\tHTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS3_CFEND_ACK\t\t= BIT(16),\n\tHTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS3_CFEND_ACK\t\t= BIT(17),\n};\n\nenum htt_rx_data_pkt_filter_tlv_flasg3 {\n\tHTT_RX_FP_DATA_PKT_FILTER_TLV_FLASG3_MCAST\t= BIT(18),\n\tHTT_RX_MD_DATA_PKT_FILTER_TLV_FLASG3_MCAST\t= BIT(19),\n\tHTT_RX_MO_DATA_PKT_FILTER_TLV_FLASG3_MCAST\t= BIT(20),\n\tHTT_RX_FP_DATA_PKT_FILTER_TLV_FLASG3_UCAST\t= BIT(21),\n\tHTT_RX_MD_DATA_PKT_FILTER_TLV_FLASG3_UCAST\t= BIT(22),\n\tHTT_RX_MO_DATA_PKT_FILTER_TLV_FLASG3_UCAST\t= BIT(23),\n\tHTT_RX_FP_DATA_PKT_FILTER_TLV_FLASG3_NULL_DATA\t= BIT(24),\n\tHTT_RX_MD_DATA_PKT_FILTER_TLV_FLASG3_NULL_DATA\t= BIT(25),\n\tHTT_RX_MO_DATA_PKT_FILTER_TLV_FLASG3_NULL_DATA\t= BIT(26),\n};\n\n#define HTT_RX_FP_MGMT_FILTER_FLAGS0 \\\n\t(HTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS0_ASSOC_REQ \\\n\t| HTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS0_ASSOC_RESP \\\n\t| HTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS0_REASSOC_REQ \\\n\t| HTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS0_REASSOC_RESP \\\n\t| HTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS0_PROBE_REQ \\\n\t| HTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS0_PROBE_RESP \\\n\t| HTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS0_PROBE_TIMING_ADV \\\n\t| HTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS0_BEACON \\\n\t| HTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS0_ATIM)\n\n#define HTT_RX_MD_MGMT_FILTER_FLAGS0 \\\n\t(HTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS0_ASSOC_REQ \\\n\t| HTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS0_ASSOC_RESP \\\n\t| HTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS0_REASSOC_REQ \\\n\t| HTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS0_REASSOC_RESP \\\n\t| HTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS0_PROBE_REQ \\\n\t| HTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS0_PROBE_RESP \\\n\t| HTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS0_PROBE_TIMING_ADV \\\n\t| HTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS0_BEACON \\\n\t| HTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS0_ATIM)\n\n#define HTT_RX_MO_MGMT_FILTER_FLAGS0 \\\n\t(HTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS0_ASSOC_REQ \\\n\t| HTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS0_ASSOC_RESP \\\n\t| HTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS0_REASSOC_REQ \\\n\t| HTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS0_REASSOC_RESP \\\n\t| HTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS0_PROBE_REQ \\\n\t| HTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS0_PROBE_RESP \\\n\t| HTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS0_PROBE_TIMING_ADV \\\n\t| HTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS0_BEACON \\\n\t| HTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS0_ATIM)\n\n#define HTT_RX_FP_MGMT_FILTER_FLAGS1 (HTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS1_DISASSOC \\\n\t\t\t\t     | HTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS1_AUTH \\\n\t\t\t\t     | HTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS1_DEAUTH \\\n\t\t\t\t     | HTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS1_ACTION \\\n\t\t\t\t     | HTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS1_ACTION_NOACK)\n\n#define HTT_RX_MD_MGMT_FILTER_FLAGS1 (HTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS1_DISASSOC \\\n\t\t\t\t     | HTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS1_AUTH \\\n\t\t\t\t     | HTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS1_DEAUTH \\\n\t\t\t\t     | HTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS1_ACTION \\\n\t\t\t\t     | HTT_RX_MD_MGMT_PKT_FILTER_TLV_FLAGS1_ACTION_NOACK)\n\n#define HTT_RX_MO_MGMT_FILTER_FLAGS1 (HTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS1_DISASSOC \\\n\t\t\t\t     | HTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS1_AUTH \\\n\t\t\t\t     | HTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS1_DEAUTH \\\n\t\t\t\t     | HTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS1_ACTION \\\n\t\t\t\t     | HTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS1_ACTION_NOACK)\n\n#define HTT_RX_FP_CTRL_FILTER_FLASG2 (HTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_WRAPPER \\\n\t\t\t\t     | HTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS2_BAR \\\n\t\t\t\t     | HTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS2_BA)\n\n#define HTT_RX_MD_CTRL_FILTER_FLASG2 (HTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_WRAPPER \\\n\t\t\t\t     | HTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS2_BAR \\\n\t\t\t\t     | HTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS2_BA)\n\n#define HTT_RX_MO_CTRL_FILTER_FLASG2 (HTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_WRAPPER \\\n\t\t\t\t     | HTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS2_BAR \\\n\t\t\t\t     | HTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS2_BA)\n\n#define HTT_RX_FP_CTRL_FILTER_FLASG3 (HTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS3_PSPOLL \\\n\t\t\t\t     | HTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS3_RTS \\\n\t\t\t\t     | HTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS3_CTS \\\n\t\t\t\t     | HTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS3_ACK \\\n\t\t\t\t     | HTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS3_CFEND \\\n\t\t\t\t     | HTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS3_CFEND_ACK)\n\n#define HTT_RX_MD_CTRL_FILTER_FLASG3 (HTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS3_PSPOLL \\\n\t\t\t\t     | HTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS3_RTS \\\n\t\t\t\t     | HTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS3_CTS \\\n\t\t\t\t     | HTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS3_ACK \\\n\t\t\t\t     | HTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS3_CFEND \\\n\t\t\t\t     | HTT_RX_MD_CTRL_PKT_FILTER_TLV_FLAGS3_CFEND_ACK)\n\n#define HTT_RX_MO_CTRL_FILTER_FLASG3 (HTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS3_PSPOLL \\\n\t\t\t\t     | HTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS3_RTS \\\n\t\t\t\t     | HTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS3_CTS \\\n\t\t\t\t     | HTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS3_ACK \\\n\t\t\t\t     | HTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS3_CFEND \\\n\t\t\t\t     | HTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS3_CFEND_ACK)\n\n#define HTT_RX_FP_DATA_FILTER_FLASG3 (HTT_RX_FP_DATA_PKT_FILTER_TLV_FLASG3_MCAST \\\n\t\t\t\t     | HTT_RX_FP_DATA_PKT_FILTER_TLV_FLASG3_UCAST \\\n\t\t\t\t     | HTT_RX_FP_DATA_PKT_FILTER_TLV_FLASG3_NULL_DATA)\n\n#define HTT_RX_MD_DATA_FILTER_FLASG3 (HTT_RX_MD_DATA_PKT_FILTER_TLV_FLASG3_MCAST \\\n\t\t\t\t     | HTT_RX_MD_DATA_PKT_FILTER_TLV_FLASG3_UCAST \\\n\t\t\t\t     | HTT_RX_MD_DATA_PKT_FILTER_TLV_FLASG3_NULL_DATA)\n\n#define HTT_RX_MO_DATA_FILTER_FLASG3 (HTT_RX_MO_DATA_PKT_FILTER_TLV_FLASG3_MCAST \\\n\t\t\t\t     | HTT_RX_MO_DATA_PKT_FILTER_TLV_FLASG3_UCAST \\\n\t\t\t\t     | HTT_RX_MO_DATA_PKT_FILTER_TLV_FLASG3_NULL_DATA)\n\n#define HTT_RX_MON_FP_MGMT_FILTER_FLAGS0 \\\n\t\t(HTT_RX_FP_MGMT_FILTER_FLAGS0 | \\\n\t\tHTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS0_RESERVED_7)\n\n#define HTT_RX_MON_MO_MGMT_FILTER_FLAGS0 \\\n\t\t(HTT_RX_MO_MGMT_FILTER_FLAGS0 | \\\n\t\tHTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS0_RESERVED_7)\n\n#define HTT_RX_MON_FP_MGMT_FILTER_FLAGS1 \\\n\t\t(HTT_RX_FP_MGMT_FILTER_FLAGS1 | \\\n\t\tHTT_RX_FP_MGMT_PKT_FILTER_TLV_FLAGS1_RESERVED_15)\n\n#define HTT_RX_MON_MO_MGMT_FILTER_FLAGS1 \\\n\t\t(HTT_RX_MO_MGMT_FILTER_FLAGS1 | \\\n\t\tHTT_RX_MO_MGMT_PKT_FILTER_TLV_FLAGS1_RESERVED_15)\n\n#define HTT_RX_MON_FP_CTRL_FILTER_FLASG2 \\\n\t\t(HTT_RX_FP_CTRL_FILTER_FLASG2 | \\\n\t\tHTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_RESERVED_1 | \\\n\t\tHTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_RESERVED_2 | \\\n\t\tHTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_TRIGGER | \\\n\t\tHTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_RESERVED_4 | \\\n\t\tHTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_BF_REP_POLL | \\\n\t\tHTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_VHT_NDP | \\\n\t\tHTT_RX_FP_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_FRAME_EXT)\n\n#define HTT_RX_MON_MO_CTRL_FILTER_FLASG2 \\\n\t\t(HTT_RX_MO_CTRL_FILTER_FLASG2 | \\\n\t\tHTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_RESERVED_1 | \\\n\t\tHTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_RESERVED_2 | \\\n\t\tHTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_TRIGGER | \\\n\t\tHTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_RESERVED_4 | \\\n\t\tHTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_BF_REP_POLL | \\\n\t\tHTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_VHT_NDP | \\\n\t\tHTT_RX_MO_CTRL_PKT_FILTER_TLV_FLAGS2_CTRL_FRAME_EXT)\n\n#define HTT_RX_MON_FP_CTRL_FILTER_FLASG3 HTT_RX_FP_CTRL_FILTER_FLASG3\n\n#define HTT_RX_MON_MO_CTRL_FILTER_FLASG3 HTT_RX_MO_CTRL_FILTER_FLASG3\n\n#define HTT_RX_MON_FP_DATA_FILTER_FLASG3 HTT_RX_FP_DATA_FILTER_FLASG3\n\n#define HTT_RX_MON_MO_DATA_FILTER_FLASG3 HTT_RX_MO_DATA_FILTER_FLASG3\n\n#define HTT_RX_MON_FILTER_TLV_FLAGS \\\n\t\t(HTT_RX_FILTER_TLV_FLAGS_MPDU_START | \\\n\t\tHTT_RX_FILTER_TLV_FLAGS_PPDU_START | \\\n\t\tHTT_RX_FILTER_TLV_FLAGS_PPDU_END | \\\n\t\tHTT_RX_FILTER_TLV_FLAGS_PPDU_END_USER_STATS | \\\n\t\tHTT_RX_FILTER_TLV_FLAGS_PPDU_END_USER_STATS_EXT | \\\n\t\tHTT_RX_FILTER_TLV_FLAGS_PPDU_END_STATUS_DONE)\n\n#define HTT_RX_MON_FILTER_TLV_FLAGS_MON_STATUS_RING \\\n\t\t(HTT_RX_FILTER_TLV_FLAGS_MPDU_START | \\\n\t\tHTT_RX_FILTER_TLV_FLAGS_PPDU_START | \\\n\t\tHTT_RX_FILTER_TLV_FLAGS_PPDU_END | \\\n\t\tHTT_RX_FILTER_TLV_FLAGS_PPDU_END_USER_STATS | \\\n\t\tHTT_RX_FILTER_TLV_FLAGS_PPDU_END_USER_STATS_EXT | \\\n\t\tHTT_RX_FILTER_TLV_FLAGS_PPDU_END_STATUS_DONE)\n\n#define HTT_RX_MON_FILTER_TLV_FLAGS_MON_BUF_RING \\\n\t\t(HTT_RX_FILTER_TLV_FLAGS_MPDU_START | \\\n\t\tHTT_RX_FILTER_TLV_FLAGS_MSDU_START | \\\n\t\tHTT_RX_FILTER_TLV_FLAGS_RX_PACKET | \\\n\t\tHTT_RX_FILTER_TLV_FLAGS_MSDU_END | \\\n\t\tHTT_RX_FILTER_TLV_FLAGS_MPDU_END | \\\n\t\tHTT_RX_FILTER_TLV_FLAGS_PACKET_HEADER | \\\n\t\tHTT_RX_FILTER_TLV_FLAGS_PER_MSDU_HEADER | \\\n\t\tHTT_RX_FILTER_TLV_FLAGS_ATTENTION)\n\n \n#define HTT_RX_TLV_FLAGS_RXDMA_RING \\\n\t\t(HTT_RX_FILTER_TLV_FLAGS_MPDU_START | \\\n\t\tHTT_RX_FILTER_TLV_FLAGS_RX_PACKET | \\\n\t\tHTT_RX_FILTER_TLV_FLAGS_MSDU_END)\n\n#define HTT_TX_RING_SELECTION_CFG_CMD_INFO0_MSG_TYPE\tGENMASK(7, 0)\n#define HTT_TX_RING_SELECTION_CFG_CMD_INFO0_PDEV_ID\tGENMASK(15, 8)\n\nstruct htt_rx_ring_selection_cfg_cmd {\n\t__le32 info0;\n\t__le32 info1;\n\t__le32 pkt_type_en_flags0;\n\t__le32 pkt_type_en_flags1;\n\t__le32 pkt_type_en_flags2;\n\t__le32 pkt_type_en_flags3;\n\t__le32 rx_filter_tlv;\n\t__le32 rx_packet_offset;\n\t__le32 rx_mpdu_offset;\n\t__le32 rx_msdu_offset;\n\t__le32 rx_attn_offset;\n} __packed;\n\nstruct htt_rx_ring_tlv_filter {\n\tu32 rx_filter;  \n\tu32 pkt_filter_flags0;  \n\tu32 pkt_filter_flags1;  \n\tu32 pkt_filter_flags2;  \n\tu32 pkt_filter_flags3;  \n\tbool offset_valid;\n\tu16 rx_packet_offset;\n\tu16 rx_header_offset;\n\tu16 rx_mpdu_end_offset;\n\tu16 rx_mpdu_start_offset;\n\tu16 rx_msdu_end_offset;\n\tu16 rx_msdu_start_offset;\n\tu16 rx_attn_offset;\n};\n\n#define HTT_STATS_FRAME_CTRL_TYPE_MGMT  0x0\n#define HTT_STATS_FRAME_CTRL_TYPE_CTRL  0x1\n#define HTT_STATS_FRAME_CTRL_TYPE_DATA  0x2\n#define HTT_STATS_FRAME_CTRL_TYPE_RESV  0x3\n\n#define HTT_TX_RING_SELECTION_CFG_CMD_INFO0_MSG_TYPE\tGENMASK(7, 0)\n#define HTT_TX_RING_SELECTION_CFG_CMD_INFO0_PDEV_ID\tGENMASK(15, 8)\n#define HTT_TX_RING_SELECTION_CFG_CMD_INFO0_RING_ID\tGENMASK(23, 16)\n#define HTT_TX_RING_SELECTION_CFG_CMD_INFO0_SS\t\tBIT(24)\n#define HTT_TX_RING_SELECTION_CFG_CMD_INFO0_PS\t\tBIT(25)\n\n#define HTT_TX_RING_SELECTION_CFG_CMD_INFO1_RING_BUFF_SIZE\tGENMASK(15, 0)\n#define HTT_TX_RING_SELECTION_CFG_CMD_INFO1_PKT_TYPE\t\tGENMASK(18, 16)\n#define HTT_TX_RING_SELECTION_CFG_CMD_INFO1_CONF_LEN_MGMT\tGENMASK(21, 19)\n#define HTT_TX_RING_SELECTION_CFG_CMD_INFO1_CONF_LEN_CTRL\tGENMASK(24, 22)\n#define HTT_TX_RING_SELECTION_CFG_CMD_INFO1_CONF_LEN_DATA\tGENMASK(27, 25)\n\n#define HTT_TX_RING_SELECTION_CFG_CMD_INFO2_PKT_TYPE_EN_FLAG\tGENMASK(2, 0)\n\nstruct htt_tx_ring_selection_cfg_cmd {\n\t__le32 info0;\n\t__le32 info1;\n\t__le32 info2;\n\t__le32 tlv_filter_mask_in0;\n\t__le32 tlv_filter_mask_in1;\n\t__le32 tlv_filter_mask_in2;\n\t__le32 tlv_filter_mask_in3;\n\t__le32 reserved[3];\n} __packed;\n\n#define HTT_TX_RING_TLV_FILTER_MGMT_DMA_LEN\tGENMASK(3, 0)\n#define HTT_TX_RING_TLV_FILTER_CTRL_DMA_LEN\tGENMASK(7, 4)\n#define HTT_TX_RING_TLV_FILTER_DATA_DMA_LEN\tGENMASK(11, 8)\n\n#define HTT_TX_MON_FILTER_HYBRID_MODE \\\n\t\t(HTT_TX_FILTER_TLV_FLAGS0_RESPONSE_START_STATUS | \\\n\t\tHTT_TX_FILTER_TLV_FLAGS0_RESPONSE_END_STATUS | \\\n\t\tHTT_TX_FILTER_TLV_FLAGS0_TX_FES_STATUS_START | \\\n\t\tHTT_TX_FILTER_TLV_FLAGS0_TX_FES_STATUS_END | \\\n\t\tHTT_TX_FILTER_TLV_FLAGS0_TX_FES_STATUS_START_PPDU | \\\n\t\tHTT_TX_FILTER_TLV_FLAGS0_TX_FES_STATUS_USER_PPDU | \\\n\t\tHTT_TX_FILTER_TLV_FLAGS0_TX_FES_STATUS_ACK_OR_BA | \\\n\t\tHTT_TX_FILTER_TLV_FLAGS0_TX_FES_STATUS_1K_BA | \\\n\t\tHTT_TX_FILTER_TLV_FLAGS0_TX_FES_STATUS_START_PROT | \\\n\t\tHTT_TX_FILTER_TLV_FLAGS0_TX_FES_STATUS_PROT | \\\n\t\tHTT_TX_FILTER_TLV_FLAGS0_TX_FES_STATUS_USER_RESPONSE | \\\n\t\tHTT_TX_FILTER_TLV_FLAGS0_RECEIVED_RESPONSE_INFO | \\\n\t\tHTT_TX_FILTER_TLV_FLAGS0_RECEIVED_RESPONSE_INFO_PART2)\n\nstruct htt_tx_ring_tlv_filter {\n\tu32 tx_mon_downstream_tlv_flags;\n\tu32 tx_mon_upstream_tlv_flags0;\n\tu32 tx_mon_upstream_tlv_flags1;\n\tu32 tx_mon_upstream_tlv_flags2;\n\tbool tx_mon_mgmt_filter;\n\tbool tx_mon_data_filter;\n\tbool tx_mon_ctrl_filter;\n\tu16 tx_mon_pkt_dma_len;\n} __packed;\n\nenum htt_tx_mon_upstream_tlv_flags0 {\n\tHTT_TX_FILTER_TLV_FLAGS0_RESPONSE_START_STATUS\t\t= BIT(1),\n\tHTT_TX_FILTER_TLV_FLAGS0_RESPONSE_END_STATUS\t\t= BIT(2),\n\tHTT_TX_FILTER_TLV_FLAGS0_TX_FES_STATUS_START\t\t= BIT(3),\n\tHTT_TX_FILTER_TLV_FLAGS0_TX_FES_STATUS_END\t\t= BIT(4),\n\tHTT_TX_FILTER_TLV_FLAGS0_TX_FES_STATUS_START_PPDU\t= BIT(5),\n\tHTT_TX_FILTER_TLV_FLAGS0_TX_FES_STATUS_USER_PPDU\t= BIT(6),\n\tHTT_TX_FILTER_TLV_FLAGS0_TX_FES_STATUS_ACK_OR_BA\t= BIT(7),\n\tHTT_TX_FILTER_TLV_FLAGS0_TX_FES_STATUS_1K_BA\t\t= BIT(8),\n\tHTT_TX_FILTER_TLV_FLAGS0_TX_FES_STATUS_START_PROT\t= BIT(9),\n\tHTT_TX_FILTER_TLV_FLAGS0_TX_FES_STATUS_PROT\t\t= BIT(10),\n\tHTT_TX_FILTER_TLV_FLAGS0_TX_FES_STATUS_USER_RESPONSE\t= BIT(11),\n\tHTT_TX_FILTER_TLV_FLAGS0_RX_FRAME_BITMAP_ACK\t\t= BIT(12),\n\tHTT_TX_FILTER_TLV_FLAGS0_RX_FRAME_1K_BITMAP_ACK\t\t= BIT(13),\n\tHTT_TX_FILTER_TLV_FLAGS0_COEX_TX_STATUS\t\t\t= BIT(14),\n\tHTT_TX_FILTER_TLV_FLAGS0_RECEIVED_RESPONSE_INFO\t\t= BIT(15),\n\tHTT_TX_FILTER_TLV_FLAGS0_RECEIVED_RESPONSE_INFO_PART2\t= BIT(16),\n};\n\n#define HTT_TX_FILTER_TLV_FLAGS2_TXPCU_PHYTX_OTHER_TRANSMIT_INFO32\tBIT(11)\n\n \n\nenum htt_t2h_msg_type {\n\tHTT_T2H_MSG_TYPE_VERSION_CONF,\n\tHTT_T2H_MSG_TYPE_PEER_MAP\t= 0x3,\n\tHTT_T2H_MSG_TYPE_PEER_UNMAP\t= 0x4,\n\tHTT_T2H_MSG_TYPE_RX_ADDBA\t= 0x5,\n\tHTT_T2H_MSG_TYPE_PKTLOG\t\t= 0x8,\n\tHTT_T2H_MSG_TYPE_SEC_IND\t= 0xb,\n\tHTT_T2H_MSG_TYPE_PEER_MAP2\t= 0x1e,\n\tHTT_T2H_MSG_TYPE_PEER_UNMAP2\t= 0x1f,\n\tHTT_T2H_MSG_TYPE_PPDU_STATS_IND = 0x1d,\n\tHTT_T2H_MSG_TYPE_EXT_STATS_CONF = 0x1c,\n\tHTT_T2H_MSG_TYPE_BKPRESSURE_EVENT_IND = 0x24,\n\tHTT_T2H_MSG_TYPE_MLO_TIMESTAMP_OFFSET_IND = 0x28,\n\tHTT_T2H_MSG_TYPE_PEER_MAP3\t= 0x2b,\n\tHTT_T2H_MSG_TYPE_VDEV_TXRX_STATS_PERIODIC_IND = 0x2c,\n};\n\n#define HTT_TARGET_VERSION_MAJOR 3\n\n#define HTT_T2H_MSG_TYPE\t\tGENMASK(7, 0)\n#define HTT_T2H_VERSION_CONF_MINOR\tGENMASK(15, 8)\n#define HTT_T2H_VERSION_CONF_MAJOR\tGENMASK(23, 16)\n\nstruct htt_t2h_version_conf_msg {\n\t__le32 version;\n} __packed;\n\n#define HTT_T2H_PEER_MAP_INFO_VDEV_ID\tGENMASK(15, 8)\n#define HTT_T2H_PEER_MAP_INFO_PEER_ID\tGENMASK(31, 16)\n#define HTT_T2H_PEER_MAP_INFO1_MAC_ADDR_H16\tGENMASK(15, 0)\n#define HTT_T2H_PEER_MAP_INFO1_HW_PEER_ID\tGENMASK(31, 16)\n#define HTT_T2H_PEER_MAP_INFO2_AST_HASH_VAL\tGENMASK(15, 0)\n#define HTT_T2H_PEER_MAP_INFO2_NEXT_HOP_M\tBIT(16)\n#define HTT_T2H_PEER_MAP_INFO2_NEXT_HOP_S\t16\n\nstruct htt_t2h_peer_map_event {\n\t__le32 info;\n\t__le32 mac_addr_l32;\n\t__le32 info1;\n\t__le32 info2;\n} __packed;\n\n#define HTT_T2H_PEER_UNMAP_INFO_VDEV_ID\tHTT_T2H_PEER_MAP_INFO_VDEV_ID\n#define HTT_T2H_PEER_UNMAP_INFO_PEER_ID\tHTT_T2H_PEER_MAP_INFO_PEER_ID\n#define HTT_T2H_PEER_UNMAP_INFO1_MAC_ADDR_H16 \\\n\t\t\t\t\tHTT_T2H_PEER_MAP_INFO1_MAC_ADDR_H16\n#define HTT_T2H_PEER_MAP_INFO1_NEXT_HOP_M HTT_T2H_PEER_MAP_INFO2_NEXT_HOP_M\n#define HTT_T2H_PEER_MAP_INFO1_NEXT_HOP_S HTT_T2H_PEER_MAP_INFO2_NEXT_HOP_S\n\nstruct htt_t2h_peer_unmap_event {\n\t__le32 info;\n\t__le32 mac_addr_l32;\n\t__le32 info1;\n} __packed;\n\nstruct htt_resp_msg {\n\tunion {\n\t\tstruct htt_t2h_version_conf_msg version_msg;\n\t\tstruct htt_t2h_peer_map_event peer_map_ev;\n\t\tstruct htt_t2h_peer_unmap_event peer_unmap_ev;\n\t};\n} __packed;\n\n#define HTT_VDEV_GET_STATS_U64(msg_l32, msg_u32)\\\n\t(((u64)__le32_to_cpu(msg_u32) << 32) | (__le32_to_cpu(msg_l32)))\n#define HTT_T2H_VDEV_STATS_PERIODIC_MSG_TYPE\t\tGENMASK(7, 0)\n#define HTT_T2H_VDEV_STATS_PERIODIC_PDEV_ID\t\tGENMASK(15, 8)\n#define HTT_T2H_VDEV_STATS_PERIODIC_NUM_VDEV\t\tGENMASK(23, 16)\n#define HTT_T2H_VDEV_STATS_PERIODIC_PAYLOAD_BYTES\tGENMASK(15, 0)\n#define HTT_VDEV_TXRX_STATS_COMMON_TLV\t\t0\n#define HTT_VDEV_TXRX_STATS_HW_STATS_TLV\t1\n\nstruct htt_t2h_vdev_txrx_stats_ind {\n\t__le32 vdev_id;\n\t__le32 rx_msdu_byte_cnt_lo;\n\t__le32 rx_msdu_byte_cnt_hi;\n\t__le32 rx_msdu_cnt_lo;\n\t__le32 rx_msdu_cnt_hi;\n\t__le32 tx_msdu_byte_cnt_lo;\n\t__le32 tx_msdu_byte_cnt_hi;\n\t__le32 tx_msdu_cnt_lo;\n\t__le32 tx_msdu_cnt_hi;\n\t__le32 tx_retry_cnt_lo;\n\t__le32 tx_retry_cnt_hi;\n\t__le32 tx_retry_byte_cnt_lo;\n\t__le32 tx_retry_byte_cnt_hi;\n\t__le32 tx_drop_cnt_lo;\n\t__le32 tx_drop_cnt_hi;\n\t__le32 tx_drop_byte_cnt_lo;\n\t__le32 tx_drop_byte_cnt_hi;\n\t__le32 msdu_ttl_cnt_lo;\n\t__le32 msdu_ttl_cnt_hi;\n\t__le32 msdu_ttl_byte_cnt_lo;\n\t__le32 msdu_ttl_byte_cnt_hi;\n} __packed;\n\nstruct htt_t2h_vdev_common_stats_tlv {\n\t__le32 soc_drop_count_lo;\n\t__le32 soc_drop_count_hi;\n} __packed;\n\n \n\n#define HTT_T2H_PPDU_STATS_INFO_PDEV_ID GENMASK(11, 10)\n#define HTT_T2H_PPDU_STATS_INFO_PAYLOAD_SIZE GENMASK(31, 16)\n\nstruct ath12k_htt_ppdu_stats_msg {\n\t__le32 info;\n\t__le32 ppdu_id;\n\t__le32 timestamp;\n\t__le32 rsvd;\n\tu8 data[];\n} __packed;\n\nstruct htt_tlv {\n\t__le32 header;\n\tu8 value[];\n} __packed;\n\n#define HTT_TLV_TAG\t\t\tGENMASK(11, 0)\n#define HTT_TLV_LEN\t\t\tGENMASK(23, 12)\n\nenum HTT_PPDU_STATS_BW {\n\tHTT_PPDU_STATS_BANDWIDTH_5MHZ   = 0,\n\tHTT_PPDU_STATS_BANDWIDTH_10MHZ  = 1,\n\tHTT_PPDU_STATS_BANDWIDTH_20MHZ  = 2,\n\tHTT_PPDU_STATS_BANDWIDTH_40MHZ  = 3,\n\tHTT_PPDU_STATS_BANDWIDTH_80MHZ  = 4,\n\tHTT_PPDU_STATS_BANDWIDTH_160MHZ = 5,  \n\tHTT_PPDU_STATS_BANDWIDTH_DYN    = 6,\n};\n\n#define HTT_PPDU_STATS_CMN_FLAGS_FRAME_TYPE_M\tGENMASK(7, 0)\n#define HTT_PPDU_STATS_CMN_FLAGS_QUEUE_TYPE_M\tGENMASK(15, 8)\n \n#define HTT_PPDU_STATS_CMN_FLAGS_BW_M\t\tGENMASK(19, 16)\n\nstruct htt_ppdu_stats_common {\n\t__le32 ppdu_id;\n\t__le16 sched_cmdid;\n\tu8 ring_id;\n\tu8 num_users;\n\t__le32 flags;  \n\t__le32 chain_mask;\n\t__le32 fes_duration_us;  \n\t__le32 ppdu_sch_eval_start_tstmp_us;\n\t__le32 ppdu_sch_end_tstmp_us;\n\t__le32 ppdu_start_tstmp_us;\n\t \n\t__le16 phy_mode;\n\t__le16 bw_mhz;\n} __packed;\n\nenum htt_ppdu_stats_gi {\n\tHTT_PPDU_STATS_SGI_0_8_US,\n\tHTT_PPDU_STATS_SGI_0_4_US,\n\tHTT_PPDU_STATS_SGI_1_6_US,\n\tHTT_PPDU_STATS_SGI_3_2_US,\n};\n\n#define HTT_PPDU_STATS_USER_RATE_INFO0_USER_POS_M\tGENMASK(3, 0)\n#define HTT_PPDU_STATS_USER_RATE_INFO0_MU_GROUP_ID_M\tGENMASK(11, 4)\n\nenum HTT_PPDU_STATS_PPDU_TYPE {\n\tHTT_PPDU_STATS_PPDU_TYPE_SU,\n\tHTT_PPDU_STATS_PPDU_TYPE_MU_MIMO,\n\tHTT_PPDU_STATS_PPDU_TYPE_MU_OFDMA,\n\tHTT_PPDU_STATS_PPDU_TYPE_MU_MIMO_OFDMA,\n\tHTT_PPDU_STATS_PPDU_TYPE_UL_TRIG,\n\tHTT_PPDU_STATS_PPDU_TYPE_BURST_BCN,\n\tHTT_PPDU_STATS_PPDU_TYPE_UL_BSR_RESP,\n\tHTT_PPDU_STATS_PPDU_TYPE_UL_BSR_TRIG,\n\tHTT_PPDU_STATS_PPDU_TYPE_UL_RESP,\n\tHTT_PPDU_STATS_PPDU_TYPE_MAX\n};\n\n#define HTT_PPDU_STATS_USER_RATE_INFO1_RESP_TYPE_VALD_M\tBIT(0)\n#define HTT_PPDU_STATS_USER_RATE_INFO1_PPDU_TYPE_M\tGENMASK(5, 1)\n\n#define HTT_PPDU_STATS_USER_RATE_FLAGS_LTF_SIZE_M\tGENMASK(1, 0)\n#define HTT_PPDU_STATS_USER_RATE_FLAGS_STBC_M\t\tBIT(2)\n#define HTT_PPDU_STATS_USER_RATE_FLAGS_HE_RE_M\t\tBIT(3)\n#define HTT_PPDU_STATS_USER_RATE_FLAGS_TXBF_M\t\tGENMASK(7, 4)\n#define HTT_PPDU_STATS_USER_RATE_FLAGS_BW_M\t\tGENMASK(11, 8)\n#define HTT_PPDU_STATS_USER_RATE_FLAGS_NSS_M\t\tGENMASK(15, 12)\n#define HTT_PPDU_STATS_USER_RATE_FLAGS_MCS_M\t\tGENMASK(19, 16)\n#define HTT_PPDU_STATS_USER_RATE_FLAGS_PREAMBLE_M\tGENMASK(23, 20)\n#define HTT_PPDU_STATS_USER_RATE_FLAGS_GI_M\t\tGENMASK(27, 24)\n#define HTT_PPDU_STATS_USER_RATE_FLAGS_DCM_M\t\tBIT(28)\n#define HTT_PPDU_STATS_USER_RATE_FLAGS_LDPC_M\t\tBIT(29)\n\n#define HTT_USR_RATE_PREAMBLE(_val) \\\n\t\tle32_get_bits(_val, HTT_PPDU_STATS_USER_RATE_FLAGS_PREAMBLE_M)\n#define HTT_USR_RATE_BW(_val) \\\n\t\tle32_get_bits(_val, HTT_PPDU_STATS_USER_RATE_FLAGS_BW_M)\n#define HTT_USR_RATE_NSS(_val) \\\n\t\tle32_get_bits(_val, HTT_PPDU_STATS_USER_RATE_FLAGS_NSS_M)\n#define HTT_USR_RATE_MCS(_val) \\\n\t\tle32_get_bits(_val, HTT_PPDU_STATS_USER_RATE_FLAGS_MCS_M)\n#define HTT_USR_RATE_GI(_val) \\\n\t\tle32_get_bits(_val, HTT_PPDU_STATS_USER_RATE_FLAGS_GI_M)\n#define HTT_USR_RATE_DCM(_val) \\\n\t\tle32_get_bits(_val, HTT_PPDU_STATS_USER_RATE_FLAGS_DCM_M)\n\n#define HTT_PPDU_STATS_USER_RATE_RESP_FLAGS_LTF_SIZE_M\t\tGENMASK(1, 0)\n#define HTT_PPDU_STATS_USER_RATE_RESP_FLAGS_STBC_M\t\tBIT(2)\n#define HTT_PPDU_STATS_USER_RATE_RESP_FLAGS_HE_RE_M\t\tBIT(3)\n#define HTT_PPDU_STATS_USER_RATE_RESP_FLAGS_TXBF_M\t\tGENMASK(7, 4)\n#define HTT_PPDU_STATS_USER_RATE_RESP_FLAGS_BW_M\t\tGENMASK(11, 8)\n#define HTT_PPDU_STATS_USER_RATE_RESP_FLAGS_NSS_M\t\tGENMASK(15, 12)\n#define HTT_PPDU_STATS_USER_RATE_RESP_FLAGS_MCS_M\t\tGENMASK(19, 16)\n#define HTT_PPDU_STATS_USER_RATE_RESP_FLAGS_PREAMBLE_M\t\tGENMASK(23, 20)\n#define HTT_PPDU_STATS_USER_RATE_RESP_FLAGS_GI_M\t\tGENMASK(27, 24)\n#define HTT_PPDU_STATS_USER_RATE_RESP_FLAGS_DCM_M\t\tBIT(28)\n#define HTT_PPDU_STATS_USER_RATE_RESP_FLAGS_LDPC_M\t\tBIT(29)\n\nstruct htt_ppdu_stats_user_rate {\n\tu8 tid_num;\n\tu8 reserved0;\n\t__le16 sw_peer_id;\n\t__le32 info0;  \n\t__le16 ru_end;\n\t__le16 ru_start;\n\t__le16 resp_ru_end;\n\t__le16 resp_ru_start;\n\t__le32 info1;  \n\t__le32 rate_flags;  \n\t \n\t__le32 resp_rate_flags;  \n} __packed;\n\n#define HTT_PPDU_STATS_TX_INFO_FLAGS_RATECODE_M\t\tGENMASK(7, 0)\n#define HTT_PPDU_STATS_TX_INFO_FLAGS_IS_AMPDU_M\t\tBIT(8)\n#define HTT_PPDU_STATS_TX_INFO_FLAGS_BA_ACK_FAILED_M\tGENMASK(10, 9)\n#define HTT_PPDU_STATS_TX_INFO_FLAGS_BW_M\t\tGENMASK(13, 11)\n#define HTT_PPDU_STATS_TX_INFO_FLAGS_SGI_M\t\tBIT(14)\n#define HTT_PPDU_STATS_TX_INFO_FLAGS_PEERID_M\t\tGENMASK(31, 16)\n\n#define HTT_TX_INFO_IS_AMSDU(_flags) \\\n\t\t\tu32_get_bits(_flags, HTT_PPDU_STATS_TX_INFO_FLAGS_IS_AMPDU_M)\n#define HTT_TX_INFO_BA_ACK_FAILED(_flags) \\\n\t\t\tu32_get_bits(_flags, HTT_PPDU_STATS_TX_INFO_FLAGS_BA_ACK_FAILED_M)\n#define HTT_TX_INFO_RATECODE(_flags) \\\n\t\t\tu32_get_bits(_flags, HTT_PPDU_STATS_TX_INFO_FLAGS_RATECODE_M)\n#define HTT_TX_INFO_PEERID(_flags) \\\n\t\t\tu32_get_bits(_flags, HTT_PPDU_STATS_TX_INFO_FLAGS_PEERID_M)\n\nstruct htt_tx_ppdu_stats_info {\n\tstruct htt_tlv tlv_hdr;\n\t__le32 tx_success_bytes;\n\t__le32 tx_retry_bytes;\n\t__le32 tx_failed_bytes;\n\t__le32 flags;  \n\t__le16 tx_success_msdus;\n\t__le16 tx_retry_msdus;\n\t__le16 tx_failed_msdus;\n\t__le16 tx_duration;  \n} __packed;\n\nenum  htt_ppdu_stats_usr_compln_status {\n\tHTT_PPDU_STATS_USER_STATUS_OK,\n\tHTT_PPDU_STATS_USER_STATUS_FILTERED,\n\tHTT_PPDU_STATS_USER_STATUS_RESP_TIMEOUT,\n\tHTT_PPDU_STATS_USER_STATUS_RESP_MISMATCH,\n\tHTT_PPDU_STATS_USER_STATUS_ABORT,\n};\n\n#define HTT_PPDU_STATS_USR_CMPLTN_CMN_FLAGS_LONG_RETRY_M\tGENMASK(3, 0)\n#define HTT_PPDU_STATS_USR_CMPLTN_CMN_FLAGS_SHORT_RETRY_M\tGENMASK(7, 4)\n#define HTT_PPDU_STATS_USR_CMPLTN_CMN_FLAGS_IS_AMPDU_M\t\tBIT(8)\n#define HTT_PPDU_STATS_USR_CMPLTN_CMN_FLAGS_RESP_TYPE_M\t\tGENMASK(12, 9)\n\n#define HTT_USR_CMPLTN_IS_AMPDU(_val) \\\n\t    le32_get_bits(_val, HTT_PPDU_STATS_USR_CMPLTN_CMN_FLAGS_IS_AMPDU_M)\n#define HTT_USR_CMPLTN_LONG_RETRY(_val) \\\n\t    le32_get_bits(_val, HTT_PPDU_STATS_USR_CMPLTN_CMN_FLAGS_LONG_RETRY_M)\n#define HTT_USR_CMPLTN_SHORT_RETRY(_val) \\\n\t    le32_get_bits(_val, HTT_PPDU_STATS_USR_CMPLTN_CMN_FLAGS_SHORT_RETRY_M)\n\nstruct htt_ppdu_stats_usr_cmpltn_cmn {\n\tu8 status;\n\tu8 tid_num;\n\t__le16 sw_peer_id;\n\t \n\t__le32 ack_rssi;\n\t__le16 mpdu_tried;\n\t__le16 mpdu_success;\n\t__le32 flags;  \n} __packed;\n\n#define HTT_PPDU_STATS_ACK_BA_INFO_NUM_MPDU_M\tGENMASK(8, 0)\n#define HTT_PPDU_STATS_ACK_BA_INFO_NUM_MSDU_M\tGENMASK(24, 9)\n#define HTT_PPDU_STATS_ACK_BA_INFO_TID_NUM\tGENMASK(31, 25)\n\n#define HTT_PPDU_STATS_NON_QOS_TID\t16\n\nstruct htt_ppdu_stats_usr_cmpltn_ack_ba_status {\n\t__le32 ppdu_id;\n\t__le16 sw_peer_id;\n\t__le16 reserved0;\n\t__le32 info;  \n\t__le16 current_seq;\n\t__le16 start_seq;\n\t__le32 success_bytes;\n} __packed;\n\nstruct htt_ppdu_user_stats {\n\tu16 peer_id;\n\tu16 delay_ba;\n\tu32 tlv_flags;\n\tbool is_valid_peer_id;\n\tstruct htt_ppdu_stats_user_rate rate;\n\tstruct htt_ppdu_stats_usr_cmpltn_cmn cmpltn_cmn;\n\tstruct htt_ppdu_stats_usr_cmpltn_ack_ba_status ack_ba;\n};\n\n#define HTT_PPDU_STATS_MAX_USERS\t8\n#define HTT_PPDU_DESC_MAX_DEPTH\t16\n\nstruct htt_ppdu_stats {\n\tstruct htt_ppdu_stats_common common;\n\tstruct htt_ppdu_user_stats user_stats[HTT_PPDU_STATS_MAX_USERS];\n};\n\nstruct htt_ppdu_stats_info {\n\tu32 tlv_bitmap;\n\tu32 ppdu_id;\n\tu32 frame_type;\n\tu32 frame_ctrl;\n\tu32 delay_ba;\n\tu32 bar_num_users;\n\tstruct htt_ppdu_stats ppdu_stats;\n\tstruct list_head list;\n};\n\n \n\n#define HTT_T2H_MLO_OFFSET_INFO_MSG_TYPE        GENMASK(7, 0)\n#define HTT_T2H_MLO_OFFSET_INFO_PDEV_ID         GENMASK(9, 8)\n\nstruct ath12k_htt_mlo_offset_msg {\n\t__le32 info;\n\t__le32 sync_timestamp_lo_us;\n\t__le32 sync_timestamp_hi_us;\n\t__le32 mlo_offset_hi;\n\t__le32 mlo_offset_lo;\n\t__le32 mlo_offset_clks;\n\t__le32 mlo_comp_clks;\n\t__le32 mlo_comp_timer;\n} __packed;\n\n \n\nstruct htt_ext_stats_cfg_hdr {\n\tu8 msg_type;\n\tu8 pdev_mask;\n\tu8 stats_type;\n\tu8 reserved;\n} __packed;\n\nstruct htt_ext_stats_cfg_cmd {\n\tstruct htt_ext_stats_cfg_hdr hdr;\n\t__le32 cfg_param0;\n\t__le32 cfg_param1;\n\t__le32 cfg_param2;\n\t__le32 cfg_param3;\n\t__le32 reserved;\n\t__le32 cookie_lsb;\n\t__le32 cookie_msb;\n} __packed;\n\n \n#define HTT_STAT_DEFAULT_RESET_START_OFFSET 0\n#define HTT_STAT_DEFAULT_CFG0_ALL_HWQS 0xffffffff\n#define HTT_STAT_DEFAULT_CFG0_ALL_TXQS 0xffffffff\n#define HTT_STAT_DEFAULT_CFG0_ALL_CMDQS 0xffff\n#define HTT_STAT_DEFAULT_CFG0_ALL_RINGS 0xffff\n#define HTT_STAT_DEFAULT_CFG0_ACTIVE_PEERS 0xff\n#define HTT_STAT_DEFAULT_CFG0_CCA_CUMULATIVE 0x00\n#define HTT_STAT_DEFAULT_CFG0_ACTIVE_VDEVS 0x00\n\n \n#define HTT_STAT_PEER_INFO_MAC_ADDR BIT(0)\n#define HTT_STAT_DEFAULT_PEER_REQ_TYPE 0x7f\n\n \nstruct htt_ext_stats_cfg_params {\n\tu32 cfg0;\n\tu32 cfg1;\n\tu32 cfg2;\n\tu32 cfg3;\n};\n\nenum vdev_stats_offload_timer_duration {\n\tATH12K_STATS_TIMER_DUR_500MS = 1,\n\tATH12K_STATS_TIMER_DUR_1SEC = 2,\n\tATH12K_STATS_TIMER_DUR_2SEC = 3,\n};\n\nstatic inline void ath12k_dp_get_mac_addr(u32 addr_l32, u16 addr_h16, u8 *addr)\n{\n\tmemcpy(addr, &addr_l32, 4);\n\tmemcpy(addr + 4, &addr_h16, ETH_ALEN - 4);\n}\n\nint ath12k_dp_service_srng(struct ath12k_base *ab,\n\t\t\t   struct ath12k_ext_irq_grp *irq_grp,\n\t\t\t   int budget);\nint ath12k_dp_htt_connect(struct ath12k_dp *dp);\nvoid ath12k_dp_vdev_tx_attach(struct ath12k *ar, struct ath12k_vif *arvif);\nvoid ath12k_dp_free(struct ath12k_base *ab);\nint ath12k_dp_alloc(struct ath12k_base *ab);\nvoid ath12k_dp_cc_config(struct ath12k_base *ab);\nint ath12k_dp_pdev_alloc(struct ath12k_base *ab);\nvoid ath12k_dp_pdev_pre_alloc(struct ath12k_base *ab);\nvoid ath12k_dp_pdev_free(struct ath12k_base *ab);\nint ath12k_dp_tx_htt_srng_setup(struct ath12k_base *ab, u32 ring_id,\n\t\t\t\tint mac_id, enum hal_ring_type ring_type);\nint ath12k_dp_peer_setup(struct ath12k *ar, int vdev_id, const u8 *addr);\nvoid ath12k_dp_peer_cleanup(struct ath12k *ar, int vdev_id, const u8 *addr);\nvoid ath12k_dp_srng_cleanup(struct ath12k_base *ab, struct dp_srng *ring);\nint ath12k_dp_srng_setup(struct ath12k_base *ab, struct dp_srng *ring,\n\t\t\t enum hal_ring_type type, int ring_num,\n\t\t\t int mac_id, int num_entries);\nvoid ath12k_dp_link_desc_cleanup(struct ath12k_base *ab,\n\t\t\t\t struct dp_link_desc_bank *desc_bank,\n\t\t\t\t u32 ring_type, struct dp_srng *ring);\nint ath12k_dp_link_desc_setup(struct ath12k_base *ab,\n\t\t\t      struct dp_link_desc_bank *link_desc_banks,\n\t\t\t      u32 ring_type, struct hal_srng *srng,\n\t\t\t      u32 n_link_desc);\nstruct ath12k_rx_desc_info *ath12k_dp_get_rx_desc(struct ath12k_base *ab,\n\t\t\t\t\t\t  u32 cookie);\nstruct ath12k_tx_desc_info *ath12k_dp_get_tx_desc(struct ath12k_base *ab,\n\t\t\t\t\t\t  u32 desc_id);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}