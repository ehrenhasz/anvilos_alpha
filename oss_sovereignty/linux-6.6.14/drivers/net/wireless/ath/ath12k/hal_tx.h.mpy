{
  "module_name": "hal_tx.h",
  "hash_id": "29d00f33ed3d6315aacb7dc464655b4e74366167993ad68620173961aa8ecaec",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/ath12k/hal_tx.h",
  "human_readable_source": " \n \n\n#ifndef ATH12K_HAL_TX_H\n#define ATH12K_HAL_TX_H\n\n#include \"hal_desc.h\"\n#include \"core.h\"\n\n#define HAL_TX_ADDRX_EN\t\t\t1\n#define HAL_TX_ADDRY_EN\t\t\t2\n\n#define HAL_TX_ADDR_SEARCH_DEFAULT\t0\n#define HAL_TX_ADDR_SEARCH_INDEX\t1\n\n \nstruct hal_tx_info {\n\tu16 meta_data_flags;  \n\tu8 ring_id;\n\tu8 rbm_id;\n\tu32 desc_id;\n\tenum hal_tcl_desc_type type;\n\tenum hal_tcl_encap_type encap_type;\n\tdma_addr_t paddr;\n\tu32 data_len;\n\tu32 pkt_offset;\n\tenum hal_encrypt_type encrypt_type;\n\tu32 flags0;  \n\tu32 flags1;  \n\tu16 addr_search_flags;  \n\tu16 bss_ast_hash;\n\tu16 bss_ast_idx;\n\tu8 tid;\n\tu8 search_type;  \n\tu8 lmac_id;\n\tu8 vdev_id;\n\tu8 dscp_tid_tbl_idx;\n\tbool enable_mesh;\n\tint bank_id;\n};\n\n \n#define HAL_TX_STATUS_FLAGS_FIRST_MSDU\t\tBIT(0)\n#define HAL_TX_STATUS_FLAGS_LAST_MSDU\t\tBIT(1)\n#define HAL_TX_STATUS_FLAGS_MSDU_IN_AMSDU\tBIT(2)\n#define HAL_TX_STATUS_FLAGS_RATE_STATS_VALID\tBIT(3)\n#define HAL_TX_STATUS_FLAGS_RATE_LDPC\t\tBIT(4)\n#define HAL_TX_STATUS_FLAGS_RATE_STBC\t\tBIT(5)\n#define HAL_TX_STATUS_FLAGS_OFDMA\t\tBIT(6)\n\n#define HAL_TX_STATUS_DESC_LEN\t\tsizeof(struct hal_wbm_release_ring)\n\n \nstruct hal_tx_status {\n\tenum hal_wbm_rel_src_module buf_rel_source;\n\tenum hal_wbm_tqm_rel_reason status;\n\tu8 ack_rssi;\n\tu32 flags;  \n\tu32 ppdu_id;\n\tu8 try_cnt;\n\tu8 tid;\n\tu16 peer_id;\n\tu32 rate_stats;\n};\n\n#define HAL_TX_PHY_DESC_INFO0_BF_TYPE\t\tGENMASK(17, 16)\n#define HAL_TX_PHY_DESC_INFO0_PREAMBLE_11B\tBIT(20)\n#define HAL_TX_PHY_DESC_INFO0_PKT_TYPE\t\tGENMASK(24, 21)\n#define HAL_TX_PHY_DESC_INFO0_BANDWIDTH\t\tGENMASK(30, 28)\n#define HAL_TX_PHY_DESC_INFO1_MCS\t\tGENMASK(3, 0)\n#define HAL_TX_PHY_DESC_INFO1_STBC\t\tBIT(6)\n#define HAL_TX_PHY_DESC_INFO2_NSS\t\tGENMASK(23, 21)\n#define HAL_TX_PHY_DESC_INFO3_AP_PKT_BW\t\tGENMASK(6, 4)\n#define HAL_TX_PHY_DESC_INFO3_LTF_SIZE\t\tGENMASK(20, 19)\n#define HAL_TX_PHY_DESC_INFO3_ACTIVE_CHANNEL\tGENMASK(17, 15)\n\nstruct hal_tx_phy_desc {\n\t__le32 info0;\n\t__le32 info1;\n\t__le32 info2;\n\t__le32 info3;\n} __packed;\n\n#define HAL_TX_FES_STAT_PROT_INFO0_STRT_FRM_TS_15_0\tGENMASK(15, 0)\n#define HAL_TX_FES_STAT_PROT_INFO0_STRT_FRM_TS_31_16\tGENMASK(31, 16)\n#define HAL_TX_FES_STAT_PROT_INFO1_END_FRM_TS_15_0\tGENMASK(15, 0)\n#define HAL_TX_FES_STAT_PROT_INFO1_END_FRM_TS_31_16\tGENMASK(31, 16)\n\nstruct hal_tx_fes_status_prot {\n\t__le64 reserved;\n\t__le32 info0;\n\t__le32 info1;\n\t__le32 reserved1[11];\n} __packed;\n\n#define HAL_TX_FES_STAT_USR_PPDU_INFO0_DURATION\t\tGENMASK(15, 0)\n\nstruct hal_tx_fes_status_user_ppdu {\n\t__le64 reserved;\n\t__le32 info0;\n\t__le32 reserved1[3];\n} __packed;\n\n#define HAL_TX_FES_STAT_STRT_INFO0_PROT_TS_LOWER_32\tGENMASK(31, 0)\n#define HAL_TX_FES_STAT_STRT_INFO1_PROT_TS_UPPER_32\tGENMASK(31, 0)\n\nstruct hal_tx_fes_status_start_prot {\n\t__le32 info0;\n\t__le32 info1;\n\t__le64 reserved;\n} __packed;\n\n#define HAL_TX_FES_STATUS_START_INFO0_MEDIUM_PROT_TYPE\tGENMASK(29, 27)\n\nstruct hal_tx_fes_status_start {\n\t__le32 reserved;\n\t__le32 info0;\n\t__le64 reserved1;\n} __packed;\n\n#define HAL_TX_Q_EXT_INFO0_FRAME_CTRL\t\tGENMASK(15, 0)\n#define HAL_TX_Q_EXT_INFO0_QOS_CTRL\t\tGENMASK(31, 16)\n#define HAL_TX_Q_EXT_INFO1_AMPDU_FLAG\t\tBIT(0)\n\nstruct hal_tx_queue_exten {\n\t__le32 info0;\n\t__le32 info1;\n} __packed;\n\n#define HAL_TX_FES_SETUP_INFO0_NUM_OF_USERS\tGENMASK(28, 23)\n\nstruct hal_tx_fes_setup {\n\t__le32 schedule_id;\n\t__le32 info0;\n\t__le64 reserved;\n} __packed;\n\n#define HAL_TX_PPDU_SETUP_INFO0_MEDIUM_PROT_TYPE\tGENMASK(2, 0)\n#define HAL_TX_PPDU_SETUP_INFO1_PROT_FRAME_ADDR1_31_0\tGENMASK(31, 0)\n#define HAL_TX_PPDU_SETUP_INFO2_PROT_FRAME_ADDR1_47_32\tGENMASK(15, 0)\n#define HAL_TX_PPDU_SETUP_INFO2_PROT_FRAME_ADDR2_15_0\tGENMASK(31, 16)\n#define HAL_TX_PPDU_SETUP_INFO3_PROT_FRAME_ADDR2_47_16\tGENMASK(31, 0)\n#define HAL_TX_PPDU_SETUP_INFO4_PROT_FRAME_ADDR3_31_0\tGENMASK(31, 0)\n#define HAL_TX_PPDU_SETUP_INFO5_PROT_FRAME_ADDR3_47_32\tGENMASK(15, 0)\n#define HAL_TX_PPDU_SETUP_INFO5_PROT_FRAME_ADDR4_15_0\tGENMASK(31, 16)\n#define HAL_TX_PPDU_SETUP_INFO6_PROT_FRAME_ADDR4_47_16\tGENMASK(31, 0)\n\nstruct hal_tx_pcu_ppdu_setup_init {\n\t__le32 info0;\n\t__le32 info1;\n\t__le32 info2;\n\t__le32 info3;\n\t__le32 reserved;\n\t__le32 info4;\n\t__le32 info5;\n\t__le32 info6;\n} __packed;\n\n#define HAL_TX_FES_STATUS_END_INFO0_START_TIMESTAMP_15_0\tGENMASK(15, 0)\n#define HAL_TX_FES_STATUS_END_INFO0_START_TIMESTAMP_31_16\tGENMASK(31, 16)\n\nstruct hal_tx_fes_status_end {\n\t__le32 reserved[2];\n\t__le32 info0;\n\t__le32 reserved1[19];\n} __packed;\n\n#define HAL_TX_BANK_CONFIG_EPD\t\t\tBIT(0)\n#define HAL_TX_BANK_CONFIG_ENCAP_TYPE\t\tGENMASK(2, 1)\n#define HAL_TX_BANK_CONFIG_ENCRYPT_TYPE\t\tGENMASK(6, 3)\n#define HAL_TX_BANK_CONFIG_SRC_BUFFER_SWAP\tBIT(7)\n#define HAL_TX_BANK_CONFIG_LINK_META_SWAP\tBIT(8)\n#define HAL_TX_BANK_CONFIG_INDEX_LOOKUP_EN\tBIT(9)\n#define HAL_TX_BANK_CONFIG_ADDRX_EN\t\tBIT(10)\n#define HAL_TX_BANK_CONFIG_ADDRY_EN\t\tBIT(11)\n#define HAL_TX_BANK_CONFIG_MESH_EN\t\tGENMASK(13, 12)\n#define HAL_TX_BANK_CONFIG_VDEV_ID_CHECK_EN\tBIT(14)\n#define HAL_TX_BANK_CONFIG_PMAC_ID\t\tGENMASK(16, 15)\n \n#define HAL_TX_BANK_CONFIG_DSCP_TIP_MAP_ID\tGENMASK(22, 17)\n\nvoid ath12k_hal_tx_cmd_desc_setup(struct ath12k_base *ab,\n\t\t\t\t  struct hal_tcl_data_cmd *tcl_cmd,\n\t\t\t\t  struct hal_tx_info *ti);\nvoid ath12k_hal_tx_set_dscp_tid_map(struct ath12k_base *ab, int id);\nint ath12k_hal_reo_cmd_send(struct ath12k_base *ab, struct hal_srng *srng,\n\t\t\t    enum hal_reo_cmd_type type,\n\t\t\t    struct ath12k_hal_reo_cmd *cmd);\nvoid ath12k_hal_tx_configure_bank_register(struct ath12k_base *ab, u32 bank_config,\n\t\t\t\t\t   u8 bank_id);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}