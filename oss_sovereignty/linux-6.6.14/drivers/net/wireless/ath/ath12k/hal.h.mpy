{
  "module_name": "hal.h",
  "hash_id": "f3113051ef823f5946d49f4d1603d560b967e2c48586fada336a3cbdb93138af",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/ath/ath12k/hal.h",
  "human_readable_source": " \n \n\n#ifndef ATH12K_HAL_H\n#define ATH12K_HAL_H\n\n#include \"hal_desc.h\"\n#include \"rx_desc.h\"\n\nstruct ath12k_base;\n\n#define HAL_LINK_DESC_SIZE\t\t\t(32 << 2)\n#define HAL_LINK_DESC_ALIGN\t\t\t128\n#define HAL_NUM_MPDUS_PER_LINK_DESC\t\t6\n#define HAL_NUM_TX_MSDUS_PER_LINK_DESC\t\t7\n#define HAL_NUM_RX_MSDUS_PER_LINK_DESC\t\t6\n#define HAL_NUM_MPDU_LINKS_PER_QUEUE_DESC\t12\n#define HAL_MAX_AVAIL_BLK_RES\t\t\t3\n\n#define HAL_RING_BASE_ALIGN\t8\n\n#define HAL_WBM_IDLE_SCATTER_BUF_SIZE_MAX\t32704\n \n#define HAL_WBM_IDLE_SCATTER_NEXT_PTR_SIZE\t8\n#define HAL_WBM_IDLE_SCATTER_BUF_SIZE (HAL_WBM_IDLE_SCATTER_BUF_SIZE_MAX - \\\n\t\t\t\t       HAL_WBM_IDLE_SCATTER_NEXT_PTR_SIZE)\n\n \n#define HAL_DSCP_TID_MAP_TBL_NUM_ENTRIES_MAX\t32\n#define HAL_DSCP_TID_TBL_SIZE\t\t\t24\n\n \n#define HAL_SHADOW_BASE_ADDR\t\t\t0x000008fc\n#define HAL_SHADOW_NUM_REGS\t\t\t40\n#define HAL_HP_OFFSET_IN_REG_START\t\t1\n#define HAL_OFFSET_FROM_HP_TO_TP\t\t4\n\n#define HAL_SHADOW_REG(x) (HAL_SHADOW_BASE_ADDR + (4 * (x)))\n\n \n#define HAL_SEQ_WCSS_UMAC_OFFSET\t\t0x00a00000\n#define HAL_SEQ_WCSS_UMAC_REO_REG\t\t0x00a38000\n#define HAL_SEQ_WCSS_UMAC_TCL_REG\t\t0x00a44000\n#define HAL_SEQ_WCSS_UMAC_CE0_SRC_REG\t\t0x01b80000\n#define HAL_SEQ_WCSS_UMAC_CE0_DST_REG\t\t0x01b81000\n#define HAL_SEQ_WCSS_UMAC_CE1_SRC_REG\t\t0x01b82000\n#define HAL_SEQ_WCSS_UMAC_CE1_DST_REG\t\t0x01b83000\n#define HAL_SEQ_WCSS_UMAC_WBM_REG\t\t0x00a34000\n\n#define HAL_CE_WFSS_CE_REG_BASE\t\t\t0x01b80000\n\n#define HAL_TCL_SW_CONFIG_BANK_ADDR\t\t0x00a4408c\n\n \n#define HAL_TCL1_RING_CMN_CTRL_REG\t\t0x00000020\n#define HAL_TCL1_RING_DSCP_TID_MAP\t\t0x00000240\n#define HAL_TCL1_RING_BASE_LSB\t\t\t0x00000900\n#define HAL_TCL1_RING_BASE_MSB\t\t\t0x00000904\n#define HAL_TCL1_RING_ID(ab)\t\t\t((ab)->hw_params->regs->hal_tcl1_ring_id)\n#define HAL_TCL1_RING_MISC(ab) \\\n\t((ab)->hw_params->regs->hal_tcl1_ring_misc)\n#define HAL_TCL1_RING_TP_ADDR_LSB(ab) \\\n\t((ab)->hw_params->regs->hal_tcl1_ring_tp_addr_lsb)\n#define HAL_TCL1_RING_TP_ADDR_MSB(ab) \\\n\t((ab)->hw_params->regs->hal_tcl1_ring_tp_addr_msb)\n#define HAL_TCL1_RING_CONSUMER_INT_SETUP_IX0(ab) \\\n\t((ab)->hw_params->regs->hal_tcl1_ring_consumer_int_setup_ix0)\n#define HAL_TCL1_RING_CONSUMER_INT_SETUP_IX1(ab) \\\n\t((ab)->hw_params->regs->hal_tcl1_ring_consumer_int_setup_ix1)\n#define HAL_TCL1_RING_MSI1_BASE_LSB(ab) \\\n\t((ab)->hw_params->regs->hal_tcl1_ring_msi1_base_lsb)\n#define HAL_TCL1_RING_MSI1_BASE_MSB(ab) \\\n\t((ab)->hw_params->regs->hal_tcl1_ring_msi1_base_msb)\n#define HAL_TCL1_RING_MSI1_DATA(ab) \\\n\t((ab)->hw_params->regs->hal_tcl1_ring_msi1_data)\n#define HAL_TCL2_RING_BASE_LSB\t\t\t0x00000978\n#define HAL_TCL_RING_BASE_LSB(ab) \\\n\t((ab)->hw_params->regs->hal_tcl_ring_base_lsb)\n\n#define HAL_TCL1_RING_MSI1_BASE_LSB_OFFSET(ab)\t\t\t\t\\\n\t(HAL_TCL1_RING_MSI1_BASE_LSB(ab) - HAL_TCL1_RING_BASE_LSB)\n#define HAL_TCL1_RING_MSI1_BASE_MSB_OFFSET(ab)\t\t\t\t\\\n\t(HAL_TCL1_RING_MSI1_BASE_MSB(ab) - HAL_TCL1_RING_BASE_LSB)\n#define HAL_TCL1_RING_MSI1_DATA_OFFSET(ab)\t\t\t\t\\\n\t(HAL_TCL1_RING_MSI1_DATA(ab) - HAL_TCL1_RING_BASE_LSB)\n#define HAL_TCL1_RING_BASE_MSB_OFFSET\t\t\t\t\\\n\t(HAL_TCL1_RING_BASE_MSB - HAL_TCL1_RING_BASE_LSB)\n#define HAL_TCL1_RING_ID_OFFSET(ab)\t\t\t\t\\\n\t(HAL_TCL1_RING_ID(ab) - HAL_TCL1_RING_BASE_LSB)\n#define HAL_TCL1_RING_CONSR_INT_SETUP_IX0_OFFSET(ab)\t\t\t\\\n\t(HAL_TCL1_RING_CONSUMER_INT_SETUP_IX0(ab) - HAL_TCL1_RING_BASE_LSB)\n#define HAL_TCL1_RING_CONSR_INT_SETUP_IX1_OFFSET(ab) \\\n\t\t(HAL_TCL1_RING_CONSUMER_INT_SETUP_IX1(ab) - HAL_TCL1_RING_BASE_LSB)\n#define HAL_TCL1_RING_TP_ADDR_LSB_OFFSET(ab) \\\n\t\t(HAL_TCL1_RING_TP_ADDR_LSB(ab) - HAL_TCL1_RING_BASE_LSB)\n#define HAL_TCL1_RING_TP_ADDR_MSB_OFFSET(ab) \\\n\t\t(HAL_TCL1_RING_TP_ADDR_MSB(ab) - HAL_TCL1_RING_BASE_LSB)\n#define HAL_TCL1_RING_MISC_OFFSET(ab) \\\n\t\t(HAL_TCL1_RING_MISC(ab) - HAL_TCL1_RING_BASE_LSB)\n\n \n#define HAL_TCL1_RING_HP\t\t\t0x00002000\n#define HAL_TCL1_RING_TP\t\t\t0x00002004\n#define HAL_TCL2_RING_HP\t\t\t0x00002008\n#define HAL_TCL_RING_HP\t\t\t\t0x00002028\n\n#define HAL_TCL1_RING_TP_OFFSET \\\n\t\t(HAL_TCL1_RING_TP - HAL_TCL1_RING_HP)\n\n \n#define HAL_TCL_STATUS_RING_BASE_LSB(ab) \\\n\t((ab)->hw_params->regs->hal_tcl_status_ring_base_lsb)\n#define HAL_TCL_STATUS_RING_HP\t\t\t0x00002048\n\n \n#define HAL_TCL_PPE2TCL1_RING_BASE_LSB\t\t0x00000c48\n#define HAL_TCL_PPE2TCL1_RING_HP\t\t0x00002038\n\n \n#define HAL_WBM_PPE_RELEASE_RING_BASE_LSB(ab) \\\n\t((ab)->hw_params->regs->hal_ppe_rel_ring_base)\n#define HAL_WBM_PPE_RELEASE_RING_HP\t\t0x00003020\n\n \n#define HAL_REO1_GEN_ENABLE\t\t\t0x00000000\n#define HAL_REO1_MISC_CTRL_ADDR(ab) \\\n\t((ab)->hw_params->regs->hal_reo1_misc_ctrl_addr)\n#define HAL_REO1_DEST_RING_CTRL_IX_0\t\t0x00000004\n#define HAL_REO1_DEST_RING_CTRL_IX_1\t\t0x00000008\n#define HAL_REO1_DEST_RING_CTRL_IX_2\t\t0x0000000c\n#define HAL_REO1_DEST_RING_CTRL_IX_3\t\t0x00000010\n#define HAL_REO1_SW_COOKIE_CFG0(ab)\t((ab)->hw_params->regs->hal_reo1_sw_cookie_cfg0)\n#define HAL_REO1_SW_COOKIE_CFG1(ab)\t((ab)->hw_params->regs->hal_reo1_sw_cookie_cfg1)\n#define HAL_REO1_QDESC_LUT_BASE0(ab)\t((ab)->hw_params->regs->hal_reo1_qdesc_lut_base0)\n#define HAL_REO1_QDESC_LUT_BASE1(ab)\t((ab)->hw_params->regs->hal_reo1_qdesc_lut_base1)\n#define HAL_REO1_RING_BASE_LSB(ab)\t((ab)->hw_params->regs->hal_reo1_ring_base_lsb)\n#define HAL_REO1_RING_BASE_MSB(ab)\t((ab)->hw_params->regs->hal_reo1_ring_base_msb)\n#define HAL_REO1_RING_ID(ab)\t\t((ab)->hw_params->regs->hal_reo1_ring_id)\n#define HAL_REO1_RING_MISC(ab)\t\t((ab)->hw_params->regs->hal_reo1_ring_misc)\n#define HAL_REO1_RING_HP_ADDR_LSB(ab)\t((ab)->hw_params->regs->hal_reo1_ring_hp_addr_lsb)\n#define HAL_REO1_RING_HP_ADDR_MSB(ab)\t((ab)->hw_params->regs->hal_reo1_ring_hp_addr_msb)\n#define HAL_REO1_RING_PRODUCER_INT_SETUP(ab) \\\n\t((ab)->hw_params->regs->hal_reo1_ring_producer_int_setup)\n#define HAL_REO1_RING_MSI1_BASE_LSB(ab)\t\\\n\t((ab)->hw_params->regs->hal_reo1_ring_msi1_base_lsb)\n#define HAL_REO1_RING_MSI1_BASE_MSB(ab)\t\\\n\t((ab)->hw_params->regs->hal_reo1_ring_msi1_base_msb)\n#define HAL_REO1_RING_MSI1_DATA(ab)\t((ab)->hw_params->regs->hal_reo1_ring_msi1_data)\n#define HAL_REO2_RING_BASE_LSB(ab)\t((ab)->hw_params->regs->hal_reo2_ring_base)\n#define HAL_REO1_AGING_THRESH_IX_0(ab)\t((ab)->hw_params->regs->hal_reo1_aging_thres_ix0)\n#define HAL_REO1_AGING_THRESH_IX_1(ab)\t((ab)->hw_params->regs->hal_reo1_aging_thres_ix1)\n#define HAL_REO1_AGING_THRESH_IX_2(ab)\t((ab)->hw_params->regs->hal_reo1_aging_thres_ix2)\n#define HAL_REO1_AGING_THRESH_IX_3(ab)\t((ab)->hw_params->regs->hal_reo1_aging_thres_ix3)\n\n \n#define HAL_REO1_RING_HP\t\t\t0x00003048\n#define HAL_REO1_RING_TP\t\t\t0x0000304c\n#define HAL_REO2_RING_HP\t\t\t0x00003050\n\n#define HAL_REO1_RING_TP_OFFSET\t\t\t(HAL_REO1_RING_TP - HAL_REO1_RING_HP)\n\n \n#define HAL_REO_SW0_RING_BASE_LSB(ab) \\\n\t((ab)->hw_params->regs->hal_reo2_sw0_ring_base)\n\n \n#define HAL_REO_SW0_RING_HP\t\t\t0x00003088\n\n \n#define HAL_REO_CMD_RING_BASE_LSB(ab) \\\n\t((ab)->hw_params->regs->hal_reo_cmd_ring_base)\n\n \n#define HAL_REO_CMD_HP\t\t\t\t0x00003020\n\n \n#define\tHAL_SW2REO_RING_BASE_LSB(ab) \\\n\t((ab)->hw_params->regs->hal_sw2reo_ring_base)\n#define HAL_SW2REO1_RING_BASE_LSB(ab) \\\n\t((ab)->hw_params->regs->hal_sw2reo1_ring_base)\n\n \n#define HAL_SW2REO_RING_HP\t\t\t0x00003028\n#define HAL_SW2REO1_RING_HP\t\t\t0x00003030\n\n \n#define HAL_CE_SRC_RING_BASE_LSB                0x00000000\n#define HAL_CE_DST_RING_BASE_LSB\t\t0x00000000\n#define HAL_CE_DST_STATUS_RING_BASE_LSB\t\t0x00000058\n#define HAL_CE_DST_RING_CTRL\t\t\t0x000000b0\n\n \n#define HAL_CE_DST_RING_HP\t\t\t0x00000400\n#define HAL_CE_DST_STATUS_RING_HP\t\t0x00000408\n\n \n#define HAL_REO_STATUS_RING_BASE_LSB(ab) \\\n\t((ab)->hw_params->regs->hal_reo_status_ring_base)\n#define HAL_REO_STATUS_HP\t\t\t0x000030a8\n\n \n#define HAL_WBM_IDLE_LINK_RING_BASE_LSB(ab) \\\n\t((ab)->hw_params->regs->hal_wbm_idle_ring_base_lsb)\n#define HAL_WBM_IDLE_LINK_RING_MISC_ADDR(ab) \\\n\t((ab)->hw_params->regs->hal_wbm_idle_ring_misc_addr)\n#define HAL_WBM_R0_IDLE_LIST_CONTROL_ADDR(ab) \\\n\t((ab)->hw_params->regs->hal_wbm_r0_idle_list_cntl_addr)\n#define HAL_WBM_R0_IDLE_LIST_SIZE_ADDR(ab) \\\n\t((ab)->hw_params->regs->hal_wbm_r0_idle_list_size_addr)\n#define HAL_WBM_SCATTERED_RING_BASE_LSB(ab) \\\n\t((ab)->hw_params->regs->hal_wbm_scattered_ring_base_lsb)\n#define HAL_WBM_SCATTERED_RING_BASE_MSB(ab) \\\n\t((ab)->hw_params->regs->hal_wbm_scattered_ring_base_msb)\n#define HAL_WBM_SCATTERED_DESC_PTR_HEAD_INFO_IX0(ab) \\\n\t((ab)->hw_params->regs->hal_wbm_scattered_desc_head_info_ix0)\n#define HAL_WBM_SCATTERED_DESC_PTR_HEAD_INFO_IX1(ab) \\\n\t((ab)->hw_params->regs->hal_wbm_scattered_desc_head_info_ix1)\n#define HAL_WBM_SCATTERED_DESC_PTR_TAIL_INFO_IX0(ab) \\\n\t((ab)->hw_params->regs->hal_wbm_scattered_desc_tail_info_ix0)\n#define HAL_WBM_SCATTERED_DESC_PTR_TAIL_INFO_IX1(ab) \\\n\t((ab)->hw_params->regs->hal_wbm_scattered_desc_tail_info_ix1)\n#define HAL_WBM_SCATTERED_DESC_PTR_HP_ADDR(ab) \\\n\t((ab)->hw_params->regs->hal_wbm_scattered_desc_ptr_hp_addr)\n\n \n#define HAL_WBM_IDLE_LINK_RING_HP\t\t0x000030b8\n\n \n#define HAL_WBM_SW_RELEASE_RING_BASE_LSB(ab) \\\n\t((ab)->hw_params->regs->hal_wbm_sw_release_ring_base_lsb)\n#define HAL_WBM_SW1_RELEASE_RING_BASE_LSB(ab) \\\n\t((ab)->hw_params->regs->hal_wbm_sw1_release_ring_base_lsb)\n\n \n#define HAL_WBM_SW_RELEASE_RING_HP\t\t0x00003010\n#define HAL_WBM_SW1_RELEASE_RING_HP\t\t0x00003018\n\n \n#define HAL_WBM0_RELEASE_RING_BASE_LSB(ab) \\\n\t((ab)->hw_params->regs->hal_wbm0_release_ring_base_lsb)\n\n#define HAL_WBM1_RELEASE_RING_BASE_LSB(ab) \\\n\t((ab)->hw_params->regs->hal_wbm1_release_ring_base_lsb)\n\n \n#define HAL_WBM0_RELEASE_RING_HP\t\t0x000030c8\n#define HAL_WBM1_RELEASE_RING_HP\t\t0x000030d0\n\n \n#define HAL_WBM_SW_COOKIE_CFG0\t\t\t0x00000040\n#define HAL_WBM_SW_COOKIE_CFG1\t\t\t0x00000044\n#define HAL_WBM_SW_COOKIE_CFG2\t\t\t0x00000090\n#define HAL_WBM_SW_COOKIE_CONVERT_CFG\t\t0x00000094\n\n#define HAL_WBM_SW_COOKIE_CFG_CMEM_BASE_ADDR_MSB\tGENMASK(7, 0)\n#define HAL_WBM_SW_COOKIE_CFG_COOKIE_PPT_MSB\t\tGENMASK(12, 8)\n#define HAL_WBM_SW_COOKIE_CFG_COOKIE_SPT_MSB\t\tGENMASK(17, 13)\n#define HAL_WBM_SW_COOKIE_CFG_ALIGN\t\t\tBIT(18)\n#define HAL_WBM_SW_COOKIE_CFG_RELEASE_PATH_EN\t\tBIT(0)\n#define HAL_WBM_SW_COOKIE_CFG_ERR_PATH_EN\t\tBIT(1)\n#define HAL_WBM_SW_COOKIE_CFG_CONV_IND_EN\t\tBIT(3)\n\n#define HAL_WBM_SW_COOKIE_CONV_CFG_WBM2SW0_EN\t\tBIT(1)\n#define HAL_WBM_SW_COOKIE_CONV_CFG_WBM2SW1_EN\t\tBIT(2)\n#define HAL_WBM_SW_COOKIE_CONV_CFG_WBM2SW2_EN\t\tBIT(3)\n#define HAL_WBM_SW_COOKIE_CONV_CFG_WBM2SW3_EN\t\tBIT(4)\n#define HAL_WBM_SW_COOKIE_CONV_CFG_WBM2SW4_EN\t\tBIT(5)\n#define HAL_WBM_SW_COOKIE_CONV_CFG_GLOBAL_EN\t\tBIT(8)\n\n \n#define HAL_TCL1_RING_BASE_MSB_RING_SIZE\t\tGENMASK(27, 8)\n#define HAL_TCL1_RING_BASE_MSB_RING_BASE_ADDR_MSB\tGENMASK(7, 0)\n#define HAL_TCL1_RING_ID_ENTRY_SIZE\t\t\tGENMASK(7, 0)\n#define HAL_TCL1_RING_MISC_MSI_RING_ID_DISABLE\t\tBIT(0)\n#define HAL_TCL1_RING_MISC_MSI_LOOPCNT_DISABLE\t\tBIT(1)\n#define HAL_TCL1_RING_MISC_MSI_SWAP\t\t\tBIT(3)\n#define HAL_TCL1_RING_MISC_HOST_FW_SWAP\t\t\tBIT(4)\n#define HAL_TCL1_RING_MISC_DATA_TLV_SWAP\t\tBIT(5)\n#define HAL_TCL1_RING_MISC_SRNG_ENABLE\t\t\tBIT(6)\n#define HAL_TCL1_RING_CONSR_INT_SETUP_IX0_INTR_TMR_THOLD   GENMASK(31, 16)\n#define HAL_TCL1_RING_CONSR_INT_SETUP_IX0_BATCH_COUNTER_THOLD GENMASK(14, 0)\n#define HAL_TCL1_RING_CONSR_INT_SETUP_IX1_LOW_THOLD\tGENMASK(15, 0)\n#define HAL_TCL1_RING_MSI1_BASE_MSB_MSI1_ENABLE\t\tBIT(8)\n#define HAL_TCL1_RING_MSI1_BASE_MSB_ADDR\t\tGENMASK(7, 0)\n#define HAL_TCL1_RING_CMN_CTRL_DSCP_TID_MAP_PROG_EN\tBIT(23)\n#define HAL_TCL1_RING_FIELD_DSCP_TID_MAP\t\tGENMASK(31, 0)\n#define HAL_TCL1_RING_FIELD_DSCP_TID_MAP0\t\tGENMASK(2, 0)\n#define HAL_TCL1_RING_FIELD_DSCP_TID_MAP1\t\tGENMASK(5, 3)\n#define HAL_TCL1_RING_FIELD_DSCP_TID_MAP2\t\tGENMASK(8, 6)\n#define HAL_TCL1_RING_FIELD_DSCP_TID_MAP3\t\tGENMASK(11, 9)\n#define HAL_TCL1_RING_FIELD_DSCP_TID_MAP4\t\tGENMASK(14, 12)\n#define HAL_TCL1_RING_FIELD_DSCP_TID_MAP5\t\tGENMASK(17, 15)\n#define HAL_TCL1_RING_FIELD_DSCP_TID_MAP6\t\tGENMASK(20, 18)\n#define HAL_TCL1_RING_FIELD_DSCP_TID_MAP7\t\tGENMASK(23, 21)\n\n \n#define HAL_REO1_RING_BASE_MSB_RING_SIZE\t\tGENMASK(27, 8)\n#define HAL_REO1_RING_BASE_MSB_RING_BASE_ADDR_MSB\tGENMASK(7, 0)\n#define HAL_REO1_RING_ID_RING_ID\t\t\tGENMASK(15, 8)\n#define HAL_REO1_RING_ID_ENTRY_SIZE\t\t\tGENMASK(7, 0)\n#define HAL_REO1_RING_MISC_MSI_SWAP\t\t\tBIT(3)\n#define HAL_REO1_RING_MISC_HOST_FW_SWAP\t\t\tBIT(4)\n#define HAL_REO1_RING_MISC_DATA_TLV_SWAP\t\tBIT(5)\n#define HAL_REO1_RING_MISC_SRNG_ENABLE\t\t\tBIT(6)\n#define HAL_REO1_RING_PRDR_INT_SETUP_INTR_TMR_THOLD\tGENMASK(31, 16)\n#define HAL_REO1_RING_PRDR_INT_SETUP_BATCH_COUNTER_THOLD GENMASK(14, 0)\n#define HAL_REO1_RING_MSI1_BASE_MSB_MSI1_ENABLE\t\tBIT(8)\n#define HAL_REO1_RING_MSI1_BASE_MSB_ADDR\t\tGENMASK(7, 0)\n#define HAL_REO1_MISC_CTL_FRAG_DST_RING\t\t\tGENMASK(20, 17)\n#define HAL_REO1_MISC_CTL_BAR_DST_RING\t\t\tGENMASK(24, 21)\n#define HAL_REO1_GEN_ENABLE_AGING_LIST_ENABLE\t\tBIT(2)\n#define HAL_REO1_GEN_ENABLE_AGING_FLUSH_ENABLE\t\tBIT(3)\n#define HAL_REO1_SW_COOKIE_CFG_CMEM_BASE_ADDR_MSB\tGENMASK(7, 0)\n#define HAL_REO1_SW_COOKIE_CFG_COOKIE_PPT_MSB\t\tGENMASK(12, 8)\n#define HAL_REO1_SW_COOKIE_CFG_COOKIE_SPT_MSB\t\tGENMASK(17, 13)\n#define HAL_REO1_SW_COOKIE_CFG_ALIGN\t\t\tBIT(18)\n#define HAL_REO1_SW_COOKIE_CFG_ENABLE\t\t\tBIT(19)\n#define HAL_REO1_SW_COOKIE_CFG_GLOBAL_ENABLE\t\tBIT(20)\n\n \n#define HAL_CE_DST_R0_DEST_CTRL_MAX_LEN\t\t\tGENMASK(15, 0)\n\n#define HAL_ADDR_LSB_REG_MASK\t\t\t\t0xffffffff\n\n#define HAL_ADDR_MSB_REG_SHIFT\t\t\t\t32\n\n \n#define HAL_WBM_LINK_DESC_IDLE_LIST_MODE\t\tBIT(1)\n#define HAL_WBM_SCATTER_BUFFER_SIZE\t\t\tGENMASK(10, 2)\n#define HAL_WBM_SCATTER_RING_SIZE_OF_IDLE_LINK_DESC_LIST GENMASK(31, 16)\n#define HAL_WBM_SCATTERED_DESC_MSB_BASE_ADDR_39_32\tGENMASK(7, 0)\n#define HAL_WBM_SCATTERED_DESC_MSB_BASE_ADDR_MATCH_TAG\tGENMASK(31, 8)\n\n#define HAL_WBM_SCATTERED_DESC_HEAD_P_OFFSET_IX1\tGENMASK(20, 8)\n#define HAL_WBM_SCATTERED_DESC_TAIL_P_OFFSET_IX1\tGENMASK(20, 8)\n\n#define HAL_WBM_IDLE_LINK_RING_MISC_SRNG_ENABLE\t\tBIT(6)\n#define HAL_WBM_IDLE_LINK_RING_MISC_RIND_ID_DISABLE\tBIT(0)\n\n#define BASE_ADDR_MATCH_TAG_VAL 0x5\n\n#define HAL_REO_REO2SW1_RING_BASE_MSB_RING_SIZE\t\t0x000fffff\n#define HAL_REO_REO2SW0_RING_BASE_MSB_RING_SIZE\t\t0x000fffff\n#define HAL_REO_SW2REO_RING_BASE_MSB_RING_SIZE\t\t0x0000ffff\n#define HAL_REO_CMD_RING_BASE_MSB_RING_SIZE\t\t0x0000ffff\n#define HAL_REO_STATUS_RING_BASE_MSB_RING_SIZE\t\t0x0000ffff\n#define HAL_SW2TCL1_RING_BASE_MSB_RING_SIZE\t\t0x000fffff\n#define HAL_SW2TCL1_CMD_RING_BASE_MSB_RING_SIZE\t\t0x000fffff\n#define HAL_TCL_STATUS_RING_BASE_MSB_RING_SIZE\t\t0x0000ffff\n#define HAL_CE_SRC_RING_BASE_MSB_RING_SIZE\t\t0x0000ffff\n#define HAL_CE_DST_RING_BASE_MSB_RING_SIZE\t\t0x0000ffff\n#define HAL_CE_DST_STATUS_RING_BASE_MSB_RING_SIZE\t0x0000ffff\n#define HAL_WBM_IDLE_LINK_RING_BASE_MSB_RING_SIZE\t0x000fffff\n#define HAL_SW2WBM_RELEASE_RING_BASE_MSB_RING_SIZE\t0x0000ffff\n#define HAL_WBM2SW_RELEASE_RING_BASE_MSB_RING_SIZE\t0x000fffff\n#define HAL_RXDMA_RING_MAX_SIZE\t\t\t\t0x0000ffff\n#define HAL_RXDMA_RING_MAX_SIZE_BE\t\t\t0x000fffff\n#define HAL_WBM2PPE_RELEASE_RING_BASE_MSB_RING_SIZE\t0x000fffff\n\n#define HAL_WBM2SW_REL_ERR_RING_NUM 3\n \n\nenum hal_srng_ring_id {\n\tHAL_SRNG_RING_ID_REO2SW0 = 0,\n\tHAL_SRNG_RING_ID_REO2SW1,\n\tHAL_SRNG_RING_ID_REO2SW2,\n\tHAL_SRNG_RING_ID_REO2SW3,\n\tHAL_SRNG_RING_ID_REO2SW4,\n\tHAL_SRNG_RING_ID_REO2SW5,\n\tHAL_SRNG_RING_ID_REO2SW6,\n\tHAL_SRNG_RING_ID_REO2SW7,\n\tHAL_SRNG_RING_ID_REO2SW8,\n\tHAL_SRNG_RING_ID_REO2TCL,\n\tHAL_SRNG_RING_ID_REO2PPE,\n\n\tHAL_SRNG_RING_ID_SW2REO  = 16,\n\tHAL_SRNG_RING_ID_SW2REO1,\n\tHAL_SRNG_RING_ID_SW2REO2,\n\tHAL_SRNG_RING_ID_SW2REO3,\n\n\tHAL_SRNG_RING_ID_REO_CMD,\n\tHAL_SRNG_RING_ID_REO_STATUS,\n\n\tHAL_SRNG_RING_ID_SW2TCL1 = 24,\n\tHAL_SRNG_RING_ID_SW2TCL2,\n\tHAL_SRNG_RING_ID_SW2TCL3,\n\tHAL_SRNG_RING_ID_SW2TCL4,\n\tHAL_SRNG_RING_ID_SW2TCL5,\n\tHAL_SRNG_RING_ID_SW2TCL6,\n\tHAL_SRNG_RING_ID_PPE2TCL1 = 30,\n\n\tHAL_SRNG_RING_ID_SW2TCL_CMD = 40,\n\tHAL_SRNG_RING_ID_SW2TCL1_CMD,\n\tHAL_SRNG_RING_ID_TCL_STATUS,\n\n\tHAL_SRNG_RING_ID_CE0_SRC = 64,\n\tHAL_SRNG_RING_ID_CE1_SRC,\n\tHAL_SRNG_RING_ID_CE2_SRC,\n\tHAL_SRNG_RING_ID_CE3_SRC,\n\tHAL_SRNG_RING_ID_CE4_SRC,\n\tHAL_SRNG_RING_ID_CE5_SRC,\n\tHAL_SRNG_RING_ID_CE6_SRC,\n\tHAL_SRNG_RING_ID_CE7_SRC,\n\tHAL_SRNG_RING_ID_CE8_SRC,\n\tHAL_SRNG_RING_ID_CE9_SRC,\n\tHAL_SRNG_RING_ID_CE10_SRC,\n\tHAL_SRNG_RING_ID_CE11_SRC,\n\tHAL_SRNG_RING_ID_CE12_SRC,\n\tHAL_SRNG_RING_ID_CE13_SRC,\n\tHAL_SRNG_RING_ID_CE14_SRC,\n\tHAL_SRNG_RING_ID_CE15_SRC,\n\n\tHAL_SRNG_RING_ID_CE0_DST = 81,\n\tHAL_SRNG_RING_ID_CE1_DST,\n\tHAL_SRNG_RING_ID_CE2_DST,\n\tHAL_SRNG_RING_ID_CE3_DST,\n\tHAL_SRNG_RING_ID_CE4_DST,\n\tHAL_SRNG_RING_ID_CE5_DST,\n\tHAL_SRNG_RING_ID_CE6_DST,\n\tHAL_SRNG_RING_ID_CE7_DST,\n\tHAL_SRNG_RING_ID_CE8_DST,\n\tHAL_SRNG_RING_ID_CE9_DST,\n\tHAL_SRNG_RING_ID_CE10_DST,\n\tHAL_SRNG_RING_ID_CE11_DST,\n\tHAL_SRNG_RING_ID_CE12_DST,\n\tHAL_SRNG_RING_ID_CE13_DST,\n\tHAL_SRNG_RING_ID_CE14_DST,\n\tHAL_SRNG_RING_ID_CE15_DST,\n\n\tHAL_SRNG_RING_ID_CE0_DST_STATUS = 100,\n\tHAL_SRNG_RING_ID_CE1_DST_STATUS,\n\tHAL_SRNG_RING_ID_CE2_DST_STATUS,\n\tHAL_SRNG_RING_ID_CE3_DST_STATUS,\n\tHAL_SRNG_RING_ID_CE4_DST_STATUS,\n\tHAL_SRNG_RING_ID_CE5_DST_STATUS,\n\tHAL_SRNG_RING_ID_CE6_DST_STATUS,\n\tHAL_SRNG_RING_ID_CE7_DST_STATUS,\n\tHAL_SRNG_RING_ID_CE8_DST_STATUS,\n\tHAL_SRNG_RING_ID_CE9_DST_STATUS,\n\tHAL_SRNG_RING_ID_CE10_DST_STATUS,\n\tHAL_SRNG_RING_ID_CE11_DST_STATUS,\n\tHAL_SRNG_RING_ID_CE12_DST_STATUS,\n\tHAL_SRNG_RING_ID_CE13_DST_STATUS,\n\tHAL_SRNG_RING_ID_CE14_DST_STATUS,\n\tHAL_SRNG_RING_ID_CE15_DST_STATUS,\n\n\tHAL_SRNG_RING_ID_WBM_IDLE_LINK = 120,\n\tHAL_SRNG_RING_ID_WBM_SW0_RELEASE,\n\tHAL_SRNG_RING_ID_WBM_SW1_RELEASE,\n\tHAL_SRNG_RING_ID_WBM_PPE_RELEASE = 123,\n\n\tHAL_SRNG_RING_ID_WBM2SW0_RELEASE = 128,\n\tHAL_SRNG_RING_ID_WBM2SW1_RELEASE,\n\tHAL_SRNG_RING_ID_WBM2SW2_RELEASE,\n\tHAL_SRNG_RING_ID_WBM2SW3_RELEASE,  \n\tHAL_SRNG_RING_ID_WBM2SW4_RELEASE,\n\tHAL_SRNG_RING_ID_WBM2SW5_RELEASE,\n\tHAL_SRNG_RING_ID_WBM2SW6_RELEASE,\n\tHAL_SRNG_RING_ID_WBM2SW7_RELEASE,\n\n\tHAL_SRNG_RING_ID_UMAC_ID_END = 159,\n\n\t \n\tHAL_SRNG_RING_ID_DMAC_CMN_ID_START = 160,\n\tHAL_SRNG_SW2RXDMA_BUF0 = HAL_SRNG_RING_ID_DMAC_CMN_ID_START,\n\tHAL_SRNG_SW2RXDMA_BUF1 = 161,\n\tHAL_SRNG_SW2RXDMA_BUF2 = 162,\n\n\tHAL_SRNG_SW2RXMON_BUF0 = 168,\n\n\tHAL_SRNG_SW2TXMON_BUF0 = 176,\n\n\tHAL_SRNG_RING_ID_DMAC_CMN_ID_END = 183,\n\tHAL_SRNG_RING_ID_PMAC1_ID_START = 184,\n\n\tHAL_SRNG_RING_ID_WMAC1_SW2RXMON_BUF0 = HAL_SRNG_RING_ID_PMAC1_ID_START,\n\n\tHAL_SRNG_RING_ID_WMAC1_RXDMA2SW0,\n\tHAL_SRNG_RING_ID_WMAC1_RXDMA2SW1,\n\tHAL_SRNG_RING_ID_WMAC1_RXMON2SW0 = HAL_SRNG_RING_ID_WMAC1_RXDMA2SW1,\n\tHAL_SRNG_RING_ID_WMAC1_SW2RXDMA1_DESC,\n\tHAL_SRNG_RING_ID_RXDMA_DIR_BUF,\n\tHAL_SRNG_RING_ID_WMAC1_SW2TXMON_BUF0,\n\tHAL_SRNG_RING_ID_WMAC1_TXMON2SW0_BUF0,\n\n\tHAL_SRNG_RING_ID_PMAC1_ID_END,\n};\n\n \n#define HAL_SRNG_REG_GRP_R0\t0\n#define HAL_SRNG_REG_GRP_R2\t1\n#define HAL_SRNG_NUM_REG_GRP    2\n\n \n#define HAL_SRNG_NUM_PMACS      3\n#define HAL_SRNG_NUM_DMAC_RINGS (HAL_SRNG_RING_ID_DMAC_CMN_ID_END - \\\n\t\t\t\t HAL_SRNG_RING_ID_DMAC_CMN_ID_START)\n#define HAL_SRNG_RINGS_PER_PMAC (HAL_SRNG_RING_ID_PMAC1_ID_END - \\\n\t\t\t\t HAL_SRNG_RING_ID_PMAC1_ID_START)\n#define HAL_SRNG_NUM_PMAC_RINGS (HAL_SRNG_NUM_PMACS * HAL_SRNG_RINGS_PER_PMAC)\n#define HAL_SRNG_RING_ID_MAX    (HAL_SRNG_RING_ID_DMAC_CMN_ID_END + \\\n\t\t\t\t HAL_SRNG_NUM_PMAC_RINGS)\n\nenum hal_ring_type {\n\tHAL_REO_DST,\n\tHAL_REO_EXCEPTION,\n\tHAL_REO_REINJECT,\n\tHAL_REO_CMD,\n\tHAL_REO_STATUS,\n\tHAL_TCL_DATA,\n\tHAL_TCL_CMD,\n\tHAL_TCL_STATUS,\n\tHAL_CE_SRC,\n\tHAL_CE_DST,\n\tHAL_CE_DST_STATUS,\n\tHAL_WBM_IDLE_LINK,\n\tHAL_SW2WBM_RELEASE,\n\tHAL_WBM2SW_RELEASE,\n\tHAL_RXDMA_BUF,\n\tHAL_RXDMA_DST,\n\tHAL_RXDMA_MONITOR_BUF,\n\tHAL_RXDMA_MONITOR_STATUS,\n\tHAL_RXDMA_MONITOR_DST,\n\tHAL_RXDMA_MONITOR_DESC,\n\tHAL_RXDMA_DIR_BUF,\n\tHAL_PPE2TCL,\n\tHAL_PPE_RELEASE,\n\tHAL_TX_MONITOR_BUF,\n\tHAL_TX_MONITOR_DST,\n\tHAL_MAX_RING_TYPES,\n};\n\n#define HAL_RX_MAX_BA_WINDOW\t256\n\n#define HAL_DEFAULT_BE_BK_VI_REO_TIMEOUT_USEC\t(100 * 1000)\n#define HAL_DEFAULT_VO_REO_TIMEOUT_USEC\t\t(40 * 1000)\n\n \nenum hal_reo_cmd_type {\n\tHAL_REO_CMD_GET_QUEUE_STATS     = 0,\n\tHAL_REO_CMD_FLUSH_QUEUE         = 1,\n\tHAL_REO_CMD_FLUSH_CACHE         = 2,\n\tHAL_REO_CMD_UNBLOCK_CACHE       = 3,\n\tHAL_REO_CMD_FLUSH_TIMEOUT_LIST  = 4,\n\tHAL_REO_CMD_UPDATE_RX_QUEUE     = 5,\n};\n\n \nenum hal_reo_cmd_status {\n\tHAL_REO_CMD_SUCCESS\t\t= 0,\n\tHAL_REO_CMD_BLOCKED\t\t= 1,\n\tHAL_REO_CMD_FAILED\t\t= 2,\n\tHAL_REO_CMD_RESOURCE_BLOCKED\t= 3,\n\tHAL_REO_CMD_DRAIN\t\t= 0xff,\n};\n\nstruct hal_wbm_idle_scatter_list {\n\tdma_addr_t paddr;\n\tstruct hal_wbm_link_desc *vaddr;\n};\n\nstruct hal_srng_params {\n\tdma_addr_t ring_base_paddr;\n\tu32 *ring_base_vaddr;\n\tint num_entries;\n\tu32 intr_batch_cntr_thres_entries;\n\tu32 intr_timer_thres_us;\n\tu32 flags;\n\tu32 max_buffer_len;\n\tu32 low_threshold;\n\tu32 high_threshold;\n\tdma_addr_t msi_addr;\n\tdma_addr_t msi2_addr;\n\tu32 msi_data;\n\tu32 msi2_data;\n\n\t \n};\n\nenum hal_srng_dir {\n\tHAL_SRNG_DIR_SRC,\n\tHAL_SRNG_DIR_DST\n};\n\n \n#define HAL_SRNG_FLAGS_MSI_SWAP\t\t\t0x00000008\n#define HAL_SRNG_FLAGS_RING_PTR_SWAP\t\t0x00000010\n#define HAL_SRNG_FLAGS_DATA_TLV_SWAP\t\t0x00000020\n#define HAL_SRNG_FLAGS_LOW_THRESH_INTR_EN\t0x00010000\n#define HAL_SRNG_FLAGS_MSI_INTR\t\t\t0x00020000\n#define HAL_SRNG_FLAGS_HIGH_THRESH_INTR_EN\t0x00080000\n#define HAL_SRNG_FLAGS_LMAC_RING\t\t0x80000000\n\n#define HAL_SRNG_TLV_HDR_TAG\t\tGENMASK(9, 1)\n#define HAL_SRNG_TLV_HDR_LEN\t\tGENMASK(25, 10)\n\n \nstruct hal_srng {\n\t \n\tu8 ring_id;\n\n\t \n\tu8 initialized;\n\n\t \n\tint irq;\n\n\t \n\tdma_addr_t ring_base_paddr;\n\n\t \n\tu32 *ring_base_vaddr;\n\n\t \n\tu32 num_entries;\n\n\t \n\tu32 ring_size;\n\n\t \n\tu32 ring_size_mask;\n\n\t \n\tu32 entry_size;\n\n\t \n\tu32 intr_timer_thres_us;\n\n\t \n\tu32 intr_batch_cntr_thres_entries;\n\n\t \n\tdma_addr_t msi_addr;\n\n\t \n\tu32 msi_data;\n\n\t \n\tdma_addr_t msi2_addr;\n\n\t \n\tu32 msi2_data;\n\n\t \n\tu32 flags;\n\n\t \n\tspinlock_t lock;\n\n\tstruct lock_class_key lock_key;\n\n\t \n\tu32 hwreg_base[HAL_SRNG_NUM_REG_GRP];\n\n\tu64 timestamp;\n\n\t \n\tenum hal_srng_dir ring_dir;\n\n\tunion {\n\t\tstruct {\n\t\t\t \n\t\t\tu32 tp;\n\n\t\t\t \n\t\t\tvolatile u32 *hp_addr;\n\n\t\t\t \n\t\t\tu32 cached_hp;\n\n\t\t\t \n\t\t\tu32 *tp_addr;\n\n\t\t\t \n\t\t\tu32 loop_cnt;\n\n\t\t\t \n\t\t\tu16 max_buffer_length;\n\n\t\t\t \n\t\t\tu32 last_hp;\n\t\t} dst_ring;\n\n\t\tstruct {\n\t\t\t \n\t\t\tu32 hp;\n\n\t\t\t \n\t\t\tu32 reap_hp;\n\n\t\t\t \n\t\t\tu32 *tp_addr;\n\n\t\t\t \n\t\t\tu32 cached_tp;\n\n\t\t\t \n\t\t\tu32 *hp_addr;\n\n\t\t\t \n\t\t\tu32 low_threshold;\n\n\t\t\t \n\t\t\tu32 last_tp;\n\t\t} src_ring;\n\t} u;\n};\n\n \n#define HAL_SRNG_INT_BATCH_THRESHOLD_TX 256\n#define HAL_SRNG_INT_BATCH_THRESHOLD_RX 128\n#define HAL_SRNG_INT_BATCH_THRESHOLD_OTHER 1\n\n \n#define HAL_SRNG_INT_TIMER_THRESHOLD_TX 1000\n#define HAL_SRNG_INT_TIMER_THRESHOLD_RX 500\n#define HAL_SRNG_INT_TIMER_THRESHOLD_OTHER 256\n\nenum hal_srng_mac_type {\n\tATH12K_HAL_SRNG_UMAC,\n\tATH12K_HAL_SRNG_DMAC,\n\tATH12K_HAL_SRNG_PMAC\n};\n\n \nstruct hal_srng_config {\n\tint start_ring_id;\n\tu16 max_rings;\n\tu16 entry_size;\n\tu32 reg_start[HAL_SRNG_NUM_REG_GRP];\n\tu16 reg_size[HAL_SRNG_NUM_REG_GRP];\n\tenum hal_srng_mac_type mac_type;\n\tenum hal_srng_dir ring_dir;\n\tu32 max_size;\n};\n\n \n\nenum hal_rx_buf_return_buf_manager {\n\tHAL_RX_BUF_RBM_WBM_IDLE_BUF_LIST,\n\tHAL_RX_BUF_RBM_WBM_CHIP0_IDLE_DESC_LIST,\n\tHAL_RX_BUF_RBM_WBM_CHIP1_IDLE_DESC_LIST,\n\tHAL_RX_BUF_RBM_WBM_CHIP2_IDLE_DESC_LIST,\n\tHAL_RX_BUF_RBM_FW_BM,\n\tHAL_RX_BUF_RBM_SW0_BM,\n\tHAL_RX_BUF_RBM_SW1_BM,\n\tHAL_RX_BUF_RBM_SW2_BM,\n\tHAL_RX_BUF_RBM_SW3_BM,\n\tHAL_RX_BUF_RBM_SW4_BM,\n\tHAL_RX_BUF_RBM_SW5_BM,\n\tHAL_RX_BUF_RBM_SW6_BM,\n};\n\n#define HAL_SRNG_DESC_LOOP_CNT\t\t0xf0000000\n\n#define HAL_REO_CMD_FLG_NEED_STATUS\t\tBIT(0)\n#define HAL_REO_CMD_FLG_STATS_CLEAR\t\tBIT(1)\n#define HAL_REO_CMD_FLG_FLUSH_BLOCK_LATER\tBIT(2)\n#define HAL_REO_CMD_FLG_FLUSH_RELEASE_BLOCKING\tBIT(3)\n#define HAL_REO_CMD_FLG_FLUSH_NO_INVAL\t\tBIT(4)\n#define HAL_REO_CMD_FLG_FLUSH_FWD_ALL_MPDUS\tBIT(5)\n#define HAL_REO_CMD_FLG_FLUSH_ALL\t\tBIT(6)\n#define HAL_REO_CMD_FLG_UNBLK_RESOURCE\t\tBIT(7)\n#define HAL_REO_CMD_FLG_UNBLK_CACHE\t\tBIT(8)\n\n \n#define HAL_REO_CMD_UPD0_RX_QUEUE_NUM\t\tBIT(8)\n#define HAL_REO_CMD_UPD0_VLD\t\t\tBIT(9)\n#define HAL_REO_CMD_UPD0_ALDC\t\t\tBIT(10)\n#define HAL_REO_CMD_UPD0_DIS_DUP_DETECTION\tBIT(11)\n#define HAL_REO_CMD_UPD0_SOFT_REORDER_EN\tBIT(12)\n#define HAL_REO_CMD_UPD0_AC\t\t\tBIT(13)\n#define HAL_REO_CMD_UPD0_BAR\t\t\tBIT(14)\n#define HAL_REO_CMD_UPD0_RETRY\t\t\tBIT(15)\n#define HAL_REO_CMD_UPD0_CHECK_2K_MODE\t\tBIT(16)\n#define HAL_REO_CMD_UPD0_OOR_MODE\t\tBIT(17)\n#define HAL_REO_CMD_UPD0_BA_WINDOW_SIZE\t\tBIT(18)\n#define HAL_REO_CMD_UPD0_PN_CHECK\t\tBIT(19)\n#define HAL_REO_CMD_UPD0_EVEN_PN\t\tBIT(20)\n#define HAL_REO_CMD_UPD0_UNEVEN_PN\t\tBIT(21)\n#define HAL_REO_CMD_UPD0_PN_HANDLE_ENABLE\tBIT(22)\n#define HAL_REO_CMD_UPD0_PN_SIZE\t\tBIT(23)\n#define HAL_REO_CMD_UPD0_IGNORE_AMPDU_FLG\tBIT(24)\n#define HAL_REO_CMD_UPD0_SVLD\t\t\tBIT(25)\n#define HAL_REO_CMD_UPD0_SSN\t\t\tBIT(26)\n#define HAL_REO_CMD_UPD0_SEQ_2K_ERR\t\tBIT(27)\n#define HAL_REO_CMD_UPD0_PN_ERR\t\t\tBIT(28)\n#define HAL_REO_CMD_UPD0_PN_VALID\t\tBIT(29)\n#define HAL_REO_CMD_UPD0_PN\t\t\tBIT(30)\n\n \n#define HAL_REO_CMD_UPD1_VLD\t\t\tBIT(16)\n#define HAL_REO_CMD_UPD1_ALDC\t\t\tGENMASK(18, 17)\n#define HAL_REO_CMD_UPD1_DIS_DUP_DETECTION\tBIT(19)\n#define HAL_REO_CMD_UPD1_SOFT_REORDER_EN\tBIT(20)\n#define HAL_REO_CMD_UPD1_AC\t\t\tGENMASK(22, 21)\n#define HAL_REO_CMD_UPD1_BAR\t\t\tBIT(23)\n#define HAL_REO_CMD_UPD1_RETRY\t\t\tBIT(24)\n#define HAL_REO_CMD_UPD1_CHECK_2K_MODE\t\tBIT(25)\n#define HAL_REO_CMD_UPD1_OOR_MODE\t\tBIT(26)\n#define HAL_REO_CMD_UPD1_PN_CHECK\t\tBIT(27)\n#define HAL_REO_CMD_UPD1_EVEN_PN\t\tBIT(28)\n#define HAL_REO_CMD_UPD1_UNEVEN_PN\t\tBIT(29)\n#define HAL_REO_CMD_UPD1_PN_HANDLE_ENABLE\tBIT(30)\n#define HAL_REO_CMD_UPD1_IGNORE_AMPDU_FLG\tBIT(31)\n\n \n#define HAL_REO_CMD_UPD2_SVLD\t\t\tBIT(10)\n#define HAL_REO_CMD_UPD2_SSN\t\t\tGENMASK(22, 11)\n#define HAL_REO_CMD_UPD2_SEQ_2K_ERR\t\tBIT(23)\n#define HAL_REO_CMD_UPD2_PN_ERR\t\t\tBIT(24)\n\nstruct ath12k_hal_reo_cmd {\n\tu32 addr_lo;\n\tu32 flag;\n\tu32 upd0;\n\tu32 upd1;\n\tu32 upd2;\n\tu32 pn[4];\n\tu16 rx_queue_num;\n\tu16 min_rel;\n\tu16 min_fwd;\n\tu8 addr_hi;\n\tu8 ac_list;\n\tu8 blocking_idx;\n\tu16 ba_window_size;\n\tu8 pn_size;\n};\n\nenum hal_pn_type {\n\tHAL_PN_TYPE_NONE,\n\tHAL_PN_TYPE_WPA,\n\tHAL_PN_TYPE_WAPI_EVEN,\n\tHAL_PN_TYPE_WAPI_UNEVEN,\n};\n\nenum hal_ce_desc {\n\tHAL_CE_DESC_SRC,\n\tHAL_CE_DESC_DST,\n\tHAL_CE_DESC_DST_STATUS,\n};\n\n#define HAL_HASH_ROUTING_RING_TCL 0\n#define HAL_HASH_ROUTING_RING_SW1 1\n#define HAL_HASH_ROUTING_RING_SW2 2\n#define HAL_HASH_ROUTING_RING_SW3 3\n#define HAL_HASH_ROUTING_RING_SW4 4\n#define HAL_HASH_ROUTING_RING_REL 5\n#define HAL_HASH_ROUTING_RING_FW  6\n\nstruct hal_reo_status_header {\n\tu16 cmd_num;\n\tenum hal_reo_cmd_status cmd_status;\n\tu16 cmd_exe_time;\n\tu32 timestamp;\n};\n\nstruct hal_reo_status_queue_stats {\n\tu16 ssn;\n\tu16 curr_idx;\n\tu32 pn[4];\n\tu32 last_rx_queue_ts;\n\tu32 last_rx_dequeue_ts;\n\tu32 rx_bitmap[8];  \n\tu32 curr_mpdu_cnt;\n\tu32 curr_msdu_cnt;\n\tu16 fwd_due_to_bar_cnt;\n\tu16 dup_cnt;\n\tu32 frames_in_order_cnt;\n\tu32 num_mpdu_processed_cnt;\n\tu32 num_msdu_processed_cnt;\n\tu32 total_num_processed_byte_cnt;\n\tu32 late_rx_mpdu_cnt;\n\tu32 reorder_hole_cnt;\n\tu8 timeout_cnt;\n\tu8 bar_rx_cnt;\n\tu8 num_window_2k_jump_cnt;\n};\n\nstruct hal_reo_status_flush_queue {\n\tbool err_detected;\n};\n\nenum hal_reo_status_flush_cache_err_code {\n\tHAL_REO_STATUS_FLUSH_CACHE_ERR_CODE_SUCCESS,\n\tHAL_REO_STATUS_FLUSH_CACHE_ERR_CODE_IN_USE,\n\tHAL_REO_STATUS_FLUSH_CACHE_ERR_CODE_NOT_FOUND,\n};\n\nstruct hal_reo_status_flush_cache {\n\tbool err_detected;\n\tenum hal_reo_status_flush_cache_err_code err_code;\n\tbool cache_controller_flush_status_hit;\n\tu8 cache_controller_flush_status_desc_type;\n\tu8 cache_controller_flush_status_client_id;\n\tu8 cache_controller_flush_status_err;\n\tu8 cache_controller_flush_status_cnt;\n};\n\nenum hal_reo_status_unblock_cache_type {\n\tHAL_REO_STATUS_UNBLOCK_BLOCKING_RESOURCE,\n\tHAL_REO_STATUS_UNBLOCK_ENTIRE_CACHE_USAGE,\n};\n\nstruct hal_reo_status_unblock_cache {\n\tbool err_detected;\n\tenum hal_reo_status_unblock_cache_type unblock_type;\n};\n\nstruct hal_reo_status_flush_timeout_list {\n\tbool err_detected;\n\tbool list_empty;\n\tu16 release_desc_cnt;\n\tu16 fwd_buf_cnt;\n};\n\nenum hal_reo_threshold_idx {\n\tHAL_REO_THRESHOLD_IDX_DESC_COUNTER0,\n\tHAL_REO_THRESHOLD_IDX_DESC_COUNTER1,\n\tHAL_REO_THRESHOLD_IDX_DESC_COUNTER2,\n\tHAL_REO_THRESHOLD_IDX_DESC_COUNTER_SUM,\n};\n\nstruct hal_reo_status_desc_thresh_reached {\n\tenum hal_reo_threshold_idx threshold_idx;\n\tu32 link_desc_counter0;\n\tu32 link_desc_counter1;\n\tu32 link_desc_counter2;\n\tu32 link_desc_counter_sum;\n};\n\nstruct hal_reo_status {\n\tstruct hal_reo_status_header uniform_hdr;\n\tu8 loop_cnt;\n\tunion {\n\t\tstruct hal_reo_status_queue_stats queue_stats;\n\t\tstruct hal_reo_status_flush_queue flush_queue;\n\t\tstruct hal_reo_status_flush_cache flush_cache;\n\t\tstruct hal_reo_status_unblock_cache unblock_cache;\n\t\tstruct hal_reo_status_flush_timeout_list timeout_list;\n\t\tstruct hal_reo_status_desc_thresh_reached desc_thresh_reached;\n\t} u;\n};\n\n \nstruct ath12k_hal {\n\t \n\tstruct hal_srng srng_list[HAL_SRNG_RING_ID_MAX];\n\n\t \n\tstruct hal_srng_config *srng_config;\n\n\t \n\tstruct {\n\t\tu32 *vaddr;\n\t\tdma_addr_t paddr;\n\t} rdp;\n\n\t \n\tstruct {\n\t\tu32 *vaddr;\n\t\tdma_addr_t paddr;\n\t} wrp;\n\n\t \n\tu8 avail_blk_resource;\n\n\tu8 current_blk_index;\n\n\t \n\tu32 shadow_reg_addr[HAL_SHADOW_NUM_REGS];\n\tint num_shadow_reg_configured;\n};\n\n \nstruct ath12k_hal_tcl_to_wbm_rbm_map  {\n\tu8 wbm_ring_num;\n\tu8 rbm_id;\n};\n\nstruct hal_ops {\n\tbool (*rx_desc_get_first_msdu)(struct hal_rx_desc *desc);\n\tbool (*rx_desc_get_last_msdu)(struct hal_rx_desc *desc);\n\tu8 (*rx_desc_get_l3_pad_bytes)(struct hal_rx_desc *desc);\n\tu8 *(*rx_desc_get_hdr_status)(struct hal_rx_desc *desc);\n\tbool (*rx_desc_encrypt_valid)(struct hal_rx_desc *desc);\n\tu32 (*rx_desc_get_encrypt_type)(struct hal_rx_desc *desc);\n\tu8 (*rx_desc_get_decap_type)(struct hal_rx_desc *desc);\n\tu8 (*rx_desc_get_mesh_ctl)(struct hal_rx_desc *desc);\n\tbool (*rx_desc_get_mpdu_seq_ctl_vld)(struct hal_rx_desc *desc);\n\tbool (*rx_desc_get_mpdu_fc_valid)(struct hal_rx_desc *desc);\n\tu16 (*rx_desc_get_mpdu_start_seq_no)(struct hal_rx_desc *desc);\n\tu16 (*rx_desc_get_msdu_len)(struct hal_rx_desc *desc);\n\tu8 (*rx_desc_get_msdu_sgi)(struct hal_rx_desc *desc);\n\tu8 (*rx_desc_get_msdu_rate_mcs)(struct hal_rx_desc *desc);\n\tu8 (*rx_desc_get_msdu_rx_bw)(struct hal_rx_desc *desc);\n\tu32 (*rx_desc_get_msdu_freq)(struct hal_rx_desc *desc);\n\tu8 (*rx_desc_get_msdu_pkt_type)(struct hal_rx_desc *desc);\n\tu8 (*rx_desc_get_msdu_nss)(struct hal_rx_desc *desc);\n\tu8 (*rx_desc_get_mpdu_tid)(struct hal_rx_desc *desc);\n\tu16 (*rx_desc_get_mpdu_peer_id)(struct hal_rx_desc *desc);\n\tvoid (*rx_desc_copy_end_tlv)(struct hal_rx_desc *fdesc,\n\t\t\t\t     struct hal_rx_desc *ldesc);\n\tu32 (*rx_desc_get_mpdu_start_tag)(struct hal_rx_desc *desc);\n\tu32 (*rx_desc_get_mpdu_ppdu_id)(struct hal_rx_desc *desc);\n\tvoid (*rx_desc_set_msdu_len)(struct hal_rx_desc *desc, u16 len);\n\tstruct rx_attention *(*rx_desc_get_attention)(struct hal_rx_desc *desc);\n\tu8 *(*rx_desc_get_msdu_payload)(struct hal_rx_desc *desc);\n\tu32 (*rx_desc_get_mpdu_start_offset)(void);\n\tu32 (*rx_desc_get_msdu_end_offset)(void);\n\tbool (*rx_desc_mac_addr2_valid)(struct hal_rx_desc *desc);\n\tu8* (*rx_desc_mpdu_start_addr2)(struct hal_rx_desc *desc);\n\tbool (*rx_desc_is_da_mcbc)(struct hal_rx_desc *desc);\n\tvoid (*rx_desc_get_dot11_hdr)(struct hal_rx_desc *desc,\n\t\t\t\t      struct ieee80211_hdr *hdr);\n\tu16 (*rx_desc_get_mpdu_frame_ctl)(struct hal_rx_desc *desc);\n\tvoid (*rx_desc_get_crypto_header)(struct hal_rx_desc *desc,\n\t\t\t\t\t  u8 *crypto_hdr,\n\t\t\t\t\t  enum hal_encrypt_type enctype);\n\tint (*create_srng_config)(struct ath12k_base *ab);\n\tbool (*dp_rx_h_msdu_done)(struct hal_rx_desc *desc);\n\tbool (*dp_rx_h_l4_cksum_fail)(struct hal_rx_desc *desc);\n\tbool (*dp_rx_h_ip_cksum_fail)(struct hal_rx_desc *desc);\n\tbool (*dp_rx_h_is_decrypted)(struct hal_rx_desc *desc);\n\tu32 (*dp_rx_h_mpdu_err)(struct hal_rx_desc *desc);\n\tconst struct ath12k_hal_tcl_to_wbm_rbm_map *tcl_to_wbm_rbm_map;\n};\n\nextern const struct hal_ops hal_qcn9274_ops;\nextern const struct hal_ops hal_wcn7850_ops;\n\nu32 ath12k_hal_reo_qdesc_size(u32 ba_window_size, u8 tid);\nvoid ath12k_hal_reo_qdesc_setup(struct hal_rx_reo_queue *qdesc,\n\t\t\t\tint tid, u32 ba_window_size,\n\t\t\t\tu32 start_seq, enum hal_pn_type type);\nvoid ath12k_hal_reo_init_cmd_ring(struct ath12k_base *ab,\n\t\t\t\t  struct hal_srng *srng);\nvoid ath12k_hal_reo_hw_setup(struct ath12k_base *ab, u32 ring_hash_map);\nvoid ath12k_hal_setup_link_idle_list(struct ath12k_base *ab,\n\t\t\t\t     struct hal_wbm_idle_scatter_list *sbuf,\n\t\t\t\t     u32 nsbufs, u32 tot_link_desc,\n\t\t\t\t     u32 end_offset);\n\ndma_addr_t ath12k_hal_srng_get_tp_addr(struct ath12k_base *ab,\n\t\t\t\t       struct hal_srng *srng);\ndma_addr_t ath12k_hal_srng_get_hp_addr(struct ath12k_base *ab,\n\t\t\t\t       struct hal_srng *srng);\nvoid ath12k_hal_set_link_desc_addr(struct hal_wbm_link_desc *desc, u32 cookie,\n\t\t\t\t   dma_addr_t paddr);\nu32 ath12k_hal_ce_get_desc_size(enum hal_ce_desc type);\nvoid ath12k_hal_ce_src_set_desc(struct hal_ce_srng_src_desc *desc, dma_addr_t paddr,\n\t\t\t\tu32 len, u32 id, u8 byte_swap_data);\nvoid ath12k_hal_ce_dst_set_desc(struct hal_ce_srng_dest_desc *desc, dma_addr_t paddr);\nu32 ath12k_hal_ce_dst_status_get_length(struct hal_ce_srng_dst_status_desc *desc);\nint ath12k_hal_srng_get_entrysize(struct ath12k_base *ab, u32 ring_type);\nint ath12k_hal_srng_get_max_entries(struct ath12k_base *ab, u32 ring_type);\nvoid ath12k_hal_srng_get_params(struct ath12k_base *ab, struct hal_srng *srng,\n\t\t\t\tstruct hal_srng_params *params);\nvoid *ath12k_hal_srng_dst_get_next_entry(struct ath12k_base *ab,\n\t\t\t\t\t struct hal_srng *srng);\nvoid *ath12k_hal_srng_dst_peek(struct ath12k_base *ab, struct hal_srng *srng);\nint ath12k_hal_srng_dst_num_free(struct ath12k_base *ab, struct hal_srng *srng,\n\t\t\t\t bool sync_hw_ptr);\nvoid *ath12k_hal_srng_src_get_next_reaped(struct ath12k_base *ab,\n\t\t\t\t\t  struct hal_srng *srng);\nvoid *ath12k_hal_srng_src_reap_next(struct ath12k_base *ab,\n\t\t\t\t    struct hal_srng *srng);\nvoid *ath12k_hal_srng_src_get_next_entry(struct ath12k_base *ab,\n\t\t\t\t\t struct hal_srng *srng);\nint ath12k_hal_srng_src_num_free(struct ath12k_base *ab, struct hal_srng *srng,\n\t\t\t\t bool sync_hw_ptr);\nvoid ath12k_hal_srng_access_begin(struct ath12k_base *ab,\n\t\t\t\t  struct hal_srng *srng);\nvoid ath12k_hal_srng_access_end(struct ath12k_base *ab, struct hal_srng *srng);\nint ath12k_hal_srng_setup(struct ath12k_base *ab, enum hal_ring_type type,\n\t\t\t  int ring_num, int mac_id,\n\t\t\t  struct hal_srng_params *params);\nint ath12k_hal_srng_init(struct ath12k_base *ath12k);\nvoid ath12k_hal_srng_deinit(struct ath12k_base *ath12k);\nvoid ath12k_hal_dump_srng_stats(struct ath12k_base *ab);\nvoid ath12k_hal_srng_get_shadow_config(struct ath12k_base *ab,\n\t\t\t\t       u32 **cfg, u32 *len);\nint ath12k_hal_srng_update_shadow_config(struct ath12k_base *ab,\n\t\t\t\t\t enum hal_ring_type ring_type,\n\t\t\t\t\tint ring_num);\nvoid ath12k_hal_srng_shadow_config(struct ath12k_base *ab);\nvoid ath12k_hal_srng_shadow_update_hp_tp(struct ath12k_base *ab,\n\t\t\t\t\t struct hal_srng *srng);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}