{
  "module_name": "queue.h",
  "hash_id": "647070605e3edc927fd4ac61770f201e94499b4f0be845514e0f18a893f3022d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/st/cw1200/queue.h",
  "human_readable_source": " \n \n\n#ifndef CW1200_QUEUE_H_INCLUDED\n#define CW1200_QUEUE_H_INCLUDED\n\n  struct cw1200_queue_item;\n\n  struct sk_buff;\n  struct wsm_tx;\n  struct cw1200_common;\n  struct ieee80211_tx_queue_stats;\n  struct cw1200_txpriv;\n\n  struct cw1200_queue_stats;\n\ntypedef void (*cw1200_queue_skb_dtor_t)(struct cw1200_common *priv,\n\t\t\t\t\tstruct sk_buff *skb,\n\t\t\t\t\tconst struct cw1200_txpriv *txpriv);\n\nstruct cw1200_queue {\n\tstruct cw1200_queue_stats *stats;\n\tsize_t\t\t\tcapacity;\n\tsize_t\t\t\tnum_queued;\n\tsize_t\t\t\tnum_pending;\n\tsize_t\t\t\tnum_sent;\n\tstruct cw1200_queue_item *pool;\n\tstruct list_head\tqueue;\n\tstruct list_head\tfree_pool;\n\tstruct list_head\tpending;\n\tint\t\t\ttx_locked_cnt;\n\tint\t\t\t*link_map_cache;\n\tbool\t\t\toverfull;\n\tspinlock_t\t\tlock;  \n\tu8\t\t\tqueue_id;\n\tu8\t\t\tgeneration;\n\tstruct timer_list\tgc;\n\tunsigned long\t\tttl;\n};\n\nstruct cw1200_queue_stats {\n\tspinlock_t\t\tlock;  \n\tint\t\t\t*link_map_cache;\n\tint\t\t\tnum_queued;\n\tsize_t\t\t\tmap_capacity;\n\twait_queue_head_t\twait_link_id_empty;\n\tcw1200_queue_skb_dtor_t\tskb_dtor;\n\tstruct cw1200_common\t*priv;\n};\n\nstruct cw1200_txpriv {\n\tu8 link_id;\n\tu8 raw_link_id;\n\tu8 tid;\n\tu8 rate_id;\n\tu8 offset;\n};\n\nint cw1200_queue_stats_init(struct cw1200_queue_stats *stats,\n\t\t\t    size_t map_capacity,\n\t\t\t    cw1200_queue_skb_dtor_t skb_dtor,\n\t\t\t    struct cw1200_common *priv);\nint cw1200_queue_init(struct cw1200_queue *queue,\n\t\t      struct cw1200_queue_stats *stats,\n\t\t      u8 queue_id,\n\t\t      size_t capacity,\n\t\t      unsigned long ttl);\nint cw1200_queue_clear(struct cw1200_queue *queue);\nvoid cw1200_queue_stats_deinit(struct cw1200_queue_stats *stats);\nvoid cw1200_queue_deinit(struct cw1200_queue *queue);\n\nsize_t cw1200_queue_get_num_queued(struct cw1200_queue *queue,\n\t\t\t\t   u32 link_id_map);\nint cw1200_queue_put(struct cw1200_queue *queue,\n\t\t     struct sk_buff *skb,\n\t\t     struct cw1200_txpriv *txpriv);\nint cw1200_queue_get(struct cw1200_queue *queue,\n\t\t     u32 link_id_map,\n\t\t     struct wsm_tx **tx,\n\t\t     struct ieee80211_tx_info **tx_info,\n\t\t     const struct cw1200_txpriv **txpriv);\nint cw1200_queue_requeue(struct cw1200_queue *queue, u32 packet_id);\nint cw1200_queue_requeue_all(struct cw1200_queue *queue);\nint cw1200_queue_remove(struct cw1200_queue *queue,\n\t\t\tu32 packet_id);\nint cw1200_queue_get_skb(struct cw1200_queue *queue, u32 packet_id,\n\t\t\t struct sk_buff **skb,\n\t\t\t const struct cw1200_txpriv **txpriv);\nvoid cw1200_queue_lock(struct cw1200_queue *queue);\nvoid cw1200_queue_unlock(struct cw1200_queue *queue);\nbool cw1200_queue_get_xmit_timestamp(struct cw1200_queue *queue,\n\t\t\t\t     unsigned long *timestamp,\n\t\t\t\t     u32 pending_frame_id);\n\nbool cw1200_queue_stats_is_empty(struct cw1200_queue_stats *stats,\n\t\t\t\t u32 link_id_map);\n\nstatic inline u8 cw1200_queue_get_queue_id(u32 packet_id)\n{\n\treturn (packet_id >> 16) & 0xFF;\n}\n\nstatic inline u8 cw1200_queue_get_generation(u32 packet_id)\n{\n\treturn (packet_id >>  8) & 0xFF;\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}