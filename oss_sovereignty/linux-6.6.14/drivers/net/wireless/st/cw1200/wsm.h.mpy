{
  "module_name": "wsm.h",
  "hash_id": "d169375ab1eb3f7c413cbbeb70731ee75dd235a84174a6c6a5c33a92f7f4344d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/st/cw1200/wsm.h",
  "human_readable_source": " \n \n\n#ifndef CW1200_WSM_H_INCLUDED\n#define CW1200_WSM_H_INCLUDED\n\n#include <linux/spinlock.h>\n\nstruct cw1200_common;\n\n \n \n#define WSM_PHY_BAND_2_4G\t\t(0)\n\n \n#define WSM_PHY_BAND_5G\t\t\t(1)\n\n \n \n#define WSM_TRANSMIT_RATE_1\t\t(0)\n\n \n#define WSM_TRANSMIT_RATE_2\t\t(1)\n\n \n#define WSM_TRANSMIT_RATE_5\t\t(2)\n\n \n#define WSM_TRANSMIT_RATE_11\t\t(3)\n\n \n \n\n \n \n\n \n#define WSM_TRANSMIT_RATE_6\t\t(6)\n\n \n#define WSM_TRANSMIT_RATE_9\t\t(7)\n\n \n#define WSM_TRANSMIT_RATE_12\t\t(8)\n\n \n#define WSM_TRANSMIT_RATE_18\t\t(9)\n\n \n#define WSM_TRANSMIT_RATE_24\t\t(10)\n\n \n#define WSM_TRANSMIT_RATE_36\t\t(11)\n\n \n#define WSM_TRANSMIT_RATE_48\t\t(12)\n\n \n#define WSM_TRANSMIT_RATE_54\t\t(13)\n\n \n#define WSM_TRANSMIT_RATE_HT_6\t\t(14)\n\n \n#define WSM_TRANSMIT_RATE_HT_13\t\t(15)\n\n \n#define WSM_TRANSMIT_RATE_HT_19\t\t(16)\n\n \n#define WSM_TRANSMIT_RATE_HT_26\t\t(17)\n\n \n#define WSM_TRANSMIT_RATE_HT_39\t\t(18)\n\n \n#define WSM_TRANSMIT_RATE_HT_52\t\t(19)\n\n \n#define WSM_TRANSMIT_RATE_HT_58\t\t(20)\n\n \n#define WSM_TRANSMIT_RATE_HT_65\t\t(21)\n\n \n \n#define WSM_SCAN_TYPE_FOREGROUND\t(0)\n\n \n#define WSM_SCAN_TYPE_BACKGROUND\t(1)\n\n \n#define WSM_SCAN_TYPE_AUTO\t\t(2)\n\n \n \n \n \n \n#define WSM_SCAN_FLAG_FORCE_BACKGROUND\t(BIT(0))\n\n \n \n#define WSM_SCAN_FLAG_SPLIT_METHOD\t(BIT(1))\n\n \n#define WSM_SCAN_FLAG_SHORT_PREAMBLE\t(BIT(2))\n\n \n#define WSM_SCAN_FLAG_11N_GREENFIELD\t(BIT(3))\n\n \n \n#define WSM_SCAN_MAX_NUM_OF_CHANNELS\t(48)\n\n \n#define WSM_SCAN_MAX_NUM_OF_SSIDS\t(2)\n\n \n \n#define WSM_PSM_ACTIVE\t\t\t(0)\n\n \n#define WSM_PSM_PS\t\t\tBIT(0)\n\n \n#define WSM_PSM_FAST_PS_FLAG\t\tBIT(7)\n\n \n#define WSM_PSM_FAST_PS\t\t\t(BIT(0) | BIT(7))\n\n \n \n \n \n#define WSM_PSM_UNKNOWN\t\t\tBIT(1)\n\n \n \n#define WSM_QUEUE_BEST_EFFORT\t\t(0)\n\n \n#define WSM_QUEUE_BACKGROUND\t\t(1)\n\n \n#define WSM_QUEUE_VIDEO\t\t\t(2)\n\n \n#define WSM_QUEUE_VOICE\t\t\t(3)\n\n \n \n#define WSM_HT_TX_NON_HT\t\t(0)\n\n \n#define WSM_HT_TX_MIXED\t\t\t(1)\n\n \n#define WSM_HT_TX_GREENFIELD\t\t(2)\n\n \n#define WSM_HT_TX_STBC\t\t\t(BIT(7))\n\n \n \n#define WSM_EPTA_PRIORITY_DEFAULT\t4\n \n#define WSM_EPTA_PRIORITY_DATA\t\t4\n \n#define WSM_EPTA_PRIORITY_MGT\t\t5\n \n#define WSM_EPTA_PRIORITY_ACTION\t5\n \n#define WSM_EPTA_PRIORITY_VIDEO\t\t5\n \n#define WSM_EPTA_PRIORITY_VOICE\t\t6\n \n#define WSM_EPTA_PRIORITY_EAPOL\t\t7\n\n \n \n \n#define WSM_TX_STATUS_AGGREGATION\t(BIT(0))\n\n \n \n#define WSM_TX_STATUS_REQUEUE\t\t(BIT(1))\n\n \n#define WSM_TX_STATUS_NORMAL_ACK\t(0<<2)\n\n \n#define WSM_TX_STATUS_NO_ACK\t\t(1<<2)\n\n \n#define WSM_TX_STATUS_NO_EXPLICIT_ACK\t(2<<2)\n\n \n \n#define WSM_TX_STATUS_BLOCK_ACK\t\t(3<<2)\n\n \n \n#define WSM_RX_STATUS_UNENCRYPTED\t(0<<0)\n\n \n#define WSM_RX_STATUS_WEP\t\t(1<<0)\n\n \n#define WSM_RX_STATUS_TKIP\t\t(2<<0)\n\n \n#define WSM_RX_STATUS_AES\t\t(3<<0)\n\n \n#define WSM_RX_STATUS_WAPI\t\t(4<<0)\n\n \n#define WSM_RX_STATUS_ENCRYPTION(status) ((status) & 0x07)\n\n \n#define WSM_RX_STATUS_AGGREGATE\t\t(BIT(3))\n\n \n#define WSM_RX_STATUS_AGGREGATE_FIRST\t(BIT(4))\n\n \n#define WSM_RX_STATUS_AGGREGATE_LAST\t(BIT(5))\n\n \n#define WSM_RX_STATUS_DEFRAGMENTED\t(BIT(6))\n\n \n#define WSM_RX_STATUS_BEACON\t\t(BIT(7))\n\n \n#define WSM_RX_STATUS_TIM\t\t(BIT(8))\n\n \n#define WSM_RX_STATUS_MULTICAST\t\t(BIT(9))\n\n \n#define WSM_RX_STATUS_MATCHING_SSID\t(BIT(10))\n\n \n#define WSM_RX_STATUS_MATCHING_BSSI\t(BIT(11))\n\n \n#define WSM_RX_STATUS_MORE_DATA\t\t(BIT(12))\n\n \n#define WSM_RX_STATUS_MEASUREMENT\t(BIT(13))\n\n \n#define WSM_RX_STATUS_HT\t\t(BIT(14))\n\n \n#define WSM_RX_STATUS_STBC\t\t(BIT(15))\n\n \n#define WSM_RX_STATUS_ADDRESS1\t\t(BIT(16))\n\n \n#define WSM_RX_STATUS_GROUP\t\t(BIT(17))\n\n \n#define WSM_RX_STATUS_BROADCAST\t\t(BIT(18))\n\n \n#define WSM_RX_STATUS_GROUP_KEY\t\t(BIT(19))\n\n \n#define WSM_RX_STATUS_KEY_IDX(status)\t(((status >> 20)) & 0x0F)\n\n \n#define WSM_RX_STATUS_TSF_INCLUDED\t(BIT(24))\n\n \n#define WSM_TX_2BYTES_SHIFT\t\t(BIT(7))\n\n \n \n#define WSM_JOIN_MODE_IBSS\t\t(0)\n\n \n#define WSM_JOIN_MODE_BSS\t\t(1)\n\n \n \n#define WSM_JOIN_PREAMBLE_LONG\t\t(0)\n\n \n#define WSM_JOIN_PREAMBLE_SHORT\t\t(1)\n\n \n#define WSM_JOIN_PREAMBLE_SHORT_2\t(2)\n\n \n \n#define WSM_JOIN_FLAGS_UNSYNCRONIZED\tBIT(0)\n \n#define WSM_JOIN_FLAGS_P2P_GO\t\tBIT(1)\n \n#define WSM_JOIN_FLAGS_FORCE\t\tBIT(2)\n \n#define WSM_JOIN_FLAGS_PRIO\t\tBIT(3)\n \n#define WSM_JOIN_FLAGS_FORCE_WITH_COMPLETE_IND BIT(5)\n\n \n#define WSM_KEY_TYPE_WEP_DEFAULT\t(0)\n#define WSM_KEY_TYPE_WEP_PAIRWISE\t(1)\n#define WSM_KEY_TYPE_TKIP_GROUP\t\t(2)\n#define WSM_KEY_TYPE_TKIP_PAIRWISE\t(3)\n#define WSM_KEY_TYPE_AES_GROUP\t\t(4)\n#define WSM_KEY_TYPE_AES_PAIRWISE\t(5)\n#define WSM_KEY_TYPE_WAPI_GROUP\t\t(6)\n#define WSM_KEY_TYPE_WAPI_PAIRWISE\t(7)\n\n \n#define WSM_KEY_MAX_INDEX\t\t(10)\n\n \n#define WSM_ACK_POLICY_NORMAL\t\t(0)\n#define WSM_ACK_POLICY_NO_ACK\t\t(1)\n\n \n#define WSM_START_MODE_AP\t\t(0)\t \n#define WSM_START_MODE_P2P_GO\t\t(1)\t \n#define WSM_START_MODE_P2P_DEV\t\t(2)\t \n\n \n#define WSM_ASSOCIATION_MODE_USE_PREAMBLE_TYPE\t\t(BIT(0))\n#define WSM_ASSOCIATION_MODE_USE_HT_MODE\t\t(BIT(1))\n#define WSM_ASSOCIATION_MODE_USE_BASIC_RATE_SET\t\t(BIT(2))\n#define WSM_ASSOCIATION_MODE_USE_MPDU_START_SPACING\t(BIT(3))\n#define WSM_ASSOCIATION_MODE_SNOOP_ASSOC_FRAMES\t\t(BIT(4))\n\n \n#define WSM_RCPI_RSSI_THRESHOLD_ENABLE\t(BIT(0))\n#define WSM_RCPI_RSSI_USE_RSSI\t\t(BIT(1))\n#define WSM_RCPI_RSSI_DONT_USE_UPPER\t(BIT(2))\n#define WSM_RCPI_RSSI_DONT_USE_LOWER\t(BIT(3))\n\n \n#define WSM_UPDATE_IE_BEACON\t\t(BIT(0))\n#define WSM_UPDATE_IE_PROBE_RESP\t(BIT(1))\n#define WSM_UPDATE_IE_PROBE_REQ\t\t(BIT(2))\n\n \n \n#define WSM_EVENT_ERROR\t\t\t(0)\n\n \n#define WSM_EVENT_BSS_LOST\t\t(1)\n\n \n#define WSM_EVENT_BSS_REGAINED\t\t(2)\n\n \n#define WSM_EVENT_RADAR_DETECTED\t(3)\n\n \n#define WSM_EVENT_RCPI_RSSI\t\t(4)\n\n \n#define WSM_EVENT_BT_INACTIVE\t\t(5)\n\n \n#define WSM_EVENT_BT_ACTIVE\t\t(6)\n\n \n \n#define WSM_MIB_ID_DOT11_STATION_ID\t\t0x0000\n\n \n#define WSM_MIB_ID_DOT11_MAX_TRANSMIT_LIFTIME\t0x0001\n\n \n#define WSM_MIB_ID_DOT11_MAX_RECEIVE_LIFETIME\t0x0002\n\n \n#define WSM_MIB_ID_DOT11_SLOT_TIME\t\t0x0003\n\n \n#define WSM_MIB_ID_DOT11_GROUP_ADDRESSES_TABLE\t0x0004\n#define WSM_MAX_GRP_ADDRTABLE_ENTRIES\t\t8\n\n \n#define WSM_MIB_ID_DOT11_WEP_DEFAULT_KEY_ID\t0x0005\n\n \n#define WSM_MIB_ID_DOT11_CURRENT_TX_POWER_LEVEL\t0x0006\n\n \n#define WSM_MIB_ID_DOT11_RTS_THRESHOLD\t\t0x0007\n\n \n#define WSM_MIB_ID_NON_ERP_PROTECTION\t\t0x1000\n\n \n#define WSM_MIB_ID_ARP_IP_ADDRESSES_TABLE\t0x1001\n#define WSM_MAX_ARP_IP_ADDRTABLE_ENTRIES\t1\n\n \n#define WSM_MIB_ID_TEMPLATE_FRAME\t\t0x1002\n\n \n#define WSM_MIB_ID_RX_FILTER\t\t\t0x1003\n\n \n#define WSM_MIB_ID_BEACON_FILTER_TABLE\t\t0x1004\n\n \n#define WSM_MIB_ID_BEACON_FILTER_ENABLE\t\t0x1005\n\n \n#define WSM_MIB_ID_OPERATIONAL_POWER_MODE\t0x1006\n\n \n#define WSM_MIB_ID_BEACON_WAKEUP_PERIOD\t\t0x1007\n\n \n#define WSM_MIB_ID_RCPI_RSSI_THRESHOLD\t\t0x1009\n\n \n#define WSM_MIB_ID_STATISTICS_TABLE\t\t0x100A\n\n \n#define WSM_MIB_ID_IBSS_PS_CONFIG\t\t0x100B\n\n \n#define WSM_MIB_ID_COUNTERS_TABLE\t\t0x100C\n\n \n#define WSM_MIB_ID_BLOCK_ACK_POLICY\t\t0x100E\n\n \n#define WSM_MIB_ID_OVERRIDE_INTERNAL_TX_RATE\t0x100F\n\n \n#define WSM_MIB_ID_SET_ASSOCIATION_MODE\t\t0x1010\n\n \n#define WSM_MIB_ID_UPDATE_EPTA_CONFIG_DATA\t0x1011\n\n \n#define WSM_MIB_ID_SELECT_CCA_METHOD\t\t0x1012\n\n \n#define WSM_MIB_ID_SET_UAPSD_INFORMATION\t0x1013\n\n \n#define WSM_MIB_ID_SET_AUTO_CALIBRATION_MODE\t0x1015\n\n \n#define WSM_MIB_ID_SET_TX_RATE_RETRY_POLICY\t0x1016\n\n \n#define WSM_MIB_ID_SET_HOST_MSG_TYPE_FILTER\t0x1017\n\n \n#define WSM_MIB_ID_P2P_FIND_INFO\t\t0x1018\n\n \n#define WSM_MIB_ID_P2P_PS_MODE_INFO\t\t0x1019\n\n \n#define WSM_MIB_ID_SET_ETHERTYPE_DATAFRAME_FILTER 0x101A\n\n \n#define WSM_MIB_ID_SET_UDPPORT_DATAFRAME_FILTER\t0x101B\n\n \n#define WSM_MIB_ID_SET_MAGIC_DATAFRAME_FILTER\t0x101C\n\n \n#define WSM_MIB_ID_P2P_DEVICE_INFO\t\t0x101D\n\n \n#define WSM_MIB_ID_SET_WCDMA_BAND\t\t0x101E\n\n \n#define WSM_MIB_ID_GRP_SEQ_COUNTER\t\t0x101F\n\n \n#define WSM_MIB_ID_PROTECTED_MGMT_POLICY\t0x1020\n\n \n#define WSM_MIB_ID_SET_HT_PROTECTION\t\t0x1021\n\n \n#define WSM_MIB_ID_GPIO_COMMAND\t\t\t0x1022\n\n \n#define WSM_MIB_ID_TSF_COUNTER\t\t\t0x1023\n\n \n#define WSM_MIB_ID_BLOCK_ACK_INFO\t\t0x100D\n\n \n#define WSM_MIB_USE_MULTI_TX_CONF\t\t0x1024\n\n \n#define WSM_MIB_ID_KEEP_ALIVE_PERIOD\t\t0x1025\n\n \n#define WSM_MIB_ID_DISABLE_BSSID_FILTER\t\t0x1026\n\n \n#define WSM_FRAME_TYPE_PROBE_REQUEST\t(0)\n#define WSM_FRAME_TYPE_BEACON\t\t(1)\n#define WSM_FRAME_TYPE_NULL\t\t(2)\n#define WSM_FRAME_TYPE_QOS_NULL\t\t(3)\n#define WSM_FRAME_TYPE_PS_POLL\t\t(4)\n#define WSM_FRAME_TYPE_PROBE_RESPONSE\t(5)\n\n#define WSM_FRAME_GREENFIELD\t\t(0x80)\t \n\n \n \n \n#define WSM_STATUS_SUCCESS              (0)\n\n \n \n#define WSM_STATUS_FAILURE              (1)\n\n \n#define WSM_INVALID_PARAMETER           (2)\n\n \n \n#define WSM_ACCESS_DENIED               (3)\n\n \n#define WSM_STATUS_DECRYPTFAILURE       (4)\n\n \n#define WSM_STATUS_MICFAILURE           (5)\n\n \n \n#define WSM_STATUS_RETRY_EXCEEDED       (6)\n\n \n \n#define WSM_STATUS_TX_LIFETIME_EXCEEDED (7)\n\n \n#define WSM_STATUS_LINK_LOST            (8)\n\n \n#define WSM_STATUS_NO_KEY_FOUND         (9)\n\n \n#define WSM_STATUS_JAMMER_DETECTED      (10)\n\n \n \n#define WSM_REQUEUE                     (11)\n\n \n#define WSM_MAX_FILTER_ELEMENTS\t\t(4)\n\n#define WSM_FILTER_ACTION_IGNORE\t(0)\n#define WSM_FILTER_ACTION_FILTER_IN\t(1)\n#define WSM_FILTER_ACTION_FILTER_OUT\t(2)\n\n#define WSM_FILTER_PORT_TYPE_DST\t(0)\n#define WSM_FILTER_PORT_TYPE_SRC\t(1)\n\n \nstruct wsm_hdr {\n\t__le16 len;\n\t__le16 id;\n};\n\n#define WSM_TX_SEQ_MAX\t\t\t(7)\n#define WSM_TX_SEQ(seq)\t\t\t\\\n\t\t((seq & WSM_TX_SEQ_MAX) << 13)\n#define WSM_TX_LINK_ID_MAX\t\t(0x0F)\n#define WSM_TX_LINK_ID(link_id)\t\t\\\n\t\t((link_id & WSM_TX_LINK_ID_MAX) << 6)\n\n#define MAX_BEACON_SKIP_TIME_MS 1000\n\n#define WSM_CMD_LAST_CHANCE_TIMEOUT (HZ * 3 / 2)\n\n \n \n\n#define WSM_STARTUP_IND_ID 0x0801\n\nstruct wsm_startup_ind {\n\tu16 input_buffers;\n\tu16 input_buffer_size;\n\tu16 status;\n\tu16 hw_id;\n\tu16 hw_subid;\n\tu16 fw_cap;\n\tu16 fw_type;\n\tu16 fw_api;\n\tu16 fw_build;\n\tu16 fw_ver;\n\tchar fw_label[128];\n\tu32 config[4];\n};\n\n \n \n\n \n#define WSM_CONFIGURATION_REQ_ID 0x0009\n#define WSM_CONFIGURATION_RESP_ID 0x0409\n\nstruct wsm_tx_power_range {\n\tint min_power_level;\n\tint max_power_level;\n\tu32 stepping;\n};\n\nstruct wsm_configuration {\n\t  u32 dot11MaxTransmitMsduLifeTime;\n\t  u32 dot11MaxReceiveLifeTime;\n\t  u32 dot11RtsThreshold;\n\t  u8 *dot11StationId;\n\t  const void *dpdData;\n\t  size_t dpdData_size;\n\t  u8 dot11FrequencyBandsSupported;\n\t  u32 supportedRateMask;\n\t  struct wsm_tx_power_range txPowerRange[2];\n};\n\nint wsm_configuration(struct cw1200_common *priv,\n\t\t      struct wsm_configuration *arg);\n\n \n#define WSM_RESET_REQ_ID 0x000A\n#define WSM_RESET_RESP_ID 0x040A\nstruct wsm_reset {\n\t  int link_id;\n\t  bool reset_statistics;\n};\n\nint wsm_reset(struct cw1200_common *priv, const struct wsm_reset *arg);\n\n \n#define WSM_READ_MIB_REQ_ID 0x0005\n#define WSM_READ_MIB_RESP_ID 0x0405\nint wsm_read_mib(struct cw1200_common *priv, u16 mib_id, void *buf,\n\t\t size_t buf_size);\n\n \n#define WSM_WRITE_MIB_REQ_ID 0x0006\n#define WSM_WRITE_MIB_RESP_ID 0x0406\nint wsm_write_mib(struct cw1200_common *priv, u16 mib_id, void *buf,\n\t\t  size_t buf_size);\n\n \n#define WSM_START_SCAN_REQ_ID 0x0007\n#define WSM_START_SCAN_RESP_ID 0x0407\n\nstruct wsm_ssid {\n\tu8 ssid[32];\n\tu32 length;\n};\n\nstruct wsm_scan_ch {\n\tu16 number;\n\tu32 min_chan_time;\n\tu32 max_chan_time;\n\tu32 tx_power_level;\n};\n\nstruct wsm_scan {\n\t \n\tu8 band;\n\n\t \n\tu8 type;\n\n\t \n\tu8 flags;\n\n\t \n\tu8 max_tx_rate;\n\n\t \n\t \n\t \n\tu32 auto_scan_interval;\n\n\t \n\t \n\t \n\t \n\t \n\tu32 num_probes;\n\n\t \n\t \n\tu8 num_channels;\n\n\t \n\t \n\t \n\tu8 num_ssids;\n\n\t \n\t \n\tu8 probe_delay;\n\n\t \n\tstruct wsm_ssid *ssids;\n\n\t \n\tstruct wsm_scan_ch *ch;\n};\n\nint wsm_scan(struct cw1200_common *priv, const struct wsm_scan *arg);\n\n \n#define WSM_STOP_SCAN_REQ_ID 0x0008\n#define WSM_STOP_SCAN_RESP_ID 0x0408\nint wsm_stop_scan(struct cw1200_common *priv);\n\n \n#define WSM_SCAN_COMPLETE_IND_ID 0x0806\nstruct wsm_scan_complete {\n\t \n\tu32 status;\n\n\t \n\tu8 psm;\n\n\t \n\tu8 num_channels;\n};\n\n \n#define WSM_TX_CONFIRM_IND_ID 0x0404\n#define WSM_MULTI_TX_CONFIRM_ID 0x041E\n\nstruct wsm_tx_confirm {\n\t \n\tu32 packet_id;\n\n\t \n\tu32 status;\n\n\t \n\tu8 tx_rate;\n\n\t \n\t \n\tu8 ack_failures;\n\n\t \n\tu16 flags;\n\n\t \n\t \n\tu32 media_delay;\n\n\t \n\t \n\tu32 tx_queue_delay;\n};\n\n \n\n \nstruct wsm_tx {\n\t \n\tstruct wsm_hdr hdr;\n\n\t \n\tu32 packet_id;   \n\n\t \n\tu8 max_tx_rate;\n\n\t \n\tu8 queue_id;\n\n\t \n\tu8 more;\n\n\t \n\t \n\t \n\t \n\t \n\tu8 flags;\n\n\t \n\tu32 reserved;\n\n\t \n\t \n\t \n\t \n\t \n\t__le32 expire_time;\n\n\t \n\t__le32 ht_tx_parameters;\n} __packed;\n\n \n#define WSM_TX_EXTRA_HEADROOM (28)\n\n \n#define WSM_RECEIVE_IND_ID 0x0804\n\nstruct wsm_rx {\n\t \n\tu32 status;\n\n\t \n\tu16 channel_number;\n\n\t \n\tu8 rx_rate;\n\n\t \n\t \n\tu8 rcpi_rssi;\n\n\t \n\tu32 flags;\n};\n\n \n#define WSM_RX_EXTRA_HEADROOM (16)\n\n \nstruct wsm_event {\n\t \n\t  u32 id;\n\n\t \n\t \n\t \n\t \n\t  u32 data;\n};\n\nstruct cw1200_wsm_event {\n\tstruct list_head link;\n\tstruct wsm_event evt;\n};\n\n \n \n\ntypedef void (*wsm_event_cb) (struct cw1200_common *priv,\n\t\t\t      struct wsm_event *arg);\n\n \n#define WSM_JOIN_REQ_ID 0x000B\n#define WSM_JOIN_RESP_ID 0x040B\n\nstruct wsm_join {\n\t \n\tu8 mode;\n\n\t \n\tu8 band;\n\n\t \n\t \n\t \n\tu16 channel_number;\n\n\t \n\t \n\tu8 bssid[6];\n\n\t \n\t \n\t \n\tu16 atim_window;\n\n\t \n\tu8 preamble_type;\n\n\t \n\t \n\tu8 probe_for_join;\n\n\t \n\tu8 dtim_period;\n\n\t \n\tu8 flags;\n\n\t \n\tu32 ssid_len;\n\n\t \n\tu8 ssid[32];\n\n\t \n\tu32 beacon_interval;\n\n\t \n\tu32 basic_rate_set;\n};\n\nstruct wsm_join_cnf {\n\tu32 status;\n\n\t \n\tu32 min_power_level;\n\n\t \n\tu32 max_power_level;\n};\n\nint wsm_join(struct cw1200_common *priv, struct wsm_join *arg);\n\n \nstruct wsm_join_complete {\n\t \n\tu32 status;\n};\n\n \n#define WSM_SET_PM_REQ_ID 0x0010\n#define WSM_SET_PM_RESP_ID 0x0410\nstruct wsm_set_pm {\n\t \n\tu8 mode;\n\n\t \n\tu8 fast_psm_idle_period;\n\n\t \n\tu8 ap_psm_change_period;\n\n\t \n\tu8 min_auto_pspoll_period;\n};\n\nint wsm_set_pm(struct cw1200_common *priv, const struct wsm_set_pm *arg);\n\n \nstruct wsm_set_pm_complete {\n\tu8 psm;\t\t\t \n};\n\n \n#define WSM_SET_BSS_PARAMS_REQ_ID 0x0011\n#define WSM_SET_BSS_PARAMS_RESP_ID 0x0411\nstruct wsm_set_bss_params {\n\t \n\tu8 reset_beacon_loss;\n\n\t \n\t \n\t \n\tu8 beacon_lost_count;\n\n\t \n\tu16 aid;\n\n\t \n\tu32 operational_rate_set;\n};\n\nint wsm_set_bss_params(struct cw1200_common *priv,\n\t\t       const struct wsm_set_bss_params *arg);\n\n \n#define WSM_ADD_KEY_REQ_ID         0x000C\n#define WSM_ADD_KEY_RESP_ID        0x040C\nstruct wsm_add_key {\n\tu8 type;\t\t \n\tu8 index;\t\t \n\tu16 reserved;\n\tunion {\n\t\tstruct {\n\t\t\tu8 peer[6];\t \n\t\t\tu8 reserved;\n\t\t\tu8 keylen;\t\t \n\t\t\tu8 keydata[16];\t\t \n\t\t} __packed wep_pairwise;\n\t\tstruct {\n\t\t\tu8 keyid;\t \n\t\t\tu8 keylen;\t\t \n\t\t\tu16 reserved;\n\t\t\tu8 keydata[16];\t\t \n\t\t} __packed wep_group;\n\t\tstruct {\n\t\t\tu8 peer[6];\t \n\t\t\tu16 reserved;\n\t\t\tu8 keydata[16];\t \n\t\t\tu8 rx_mic_key[8];\t\t \n\t\t\tu8 tx_mic_key[8];\t\t \n\t\t} __packed tkip_pairwise;\n\t\tstruct {\n\t\t\tu8 keydata[16];\t \n\t\t\tu8 rx_mic_key[8];\t\t \n\t\t\tu8 keyid;\t\t \n\t\t\tu8 reserved[3];\n\t\t\tu8 rx_seqnum[8];\t \n\t\t} __packed tkip_group;\n\t\tstruct {\n\t\t\tu8 peer[6];\t \n\t\t\tu16 reserved;\n\t\t\tu8 keydata[16];\t \n\t\t} __packed aes_pairwise;\n\t\tstruct {\n\t\t\tu8 keydata[16];\t \n\t\t\tu8 keyid;\t\t \n\t\t\tu8 reserved[3];\n\t\t\tu8 rx_seqnum[8];\t \n\t\t} __packed aes_group;\n\t\tstruct {\n\t\t\tu8 peer[6];\t \n\t\t\tu8 keyid;\t\t \n\t\t\tu8 reserved;\n\t\t\tu8 keydata[16];\t \n\t\t\tu8 mic_key[16];\t \n\t\t} __packed wapi_pairwise;\n\t\tstruct {\n\t\t\tu8 keydata[16];\t \n\t\t\tu8 mic_key[16];\t \n\t\t\tu8 keyid;\t\t \n\t\t\tu8 reserved[3];\n\t\t} __packed wapi_group;\n\t} __packed;\n} __packed;\n\nint wsm_add_key(struct cw1200_common *priv, const struct wsm_add_key *arg);\n\n \n#define WSM_REMOVE_KEY_REQ_ID         0x000D\n#define WSM_REMOVE_KEY_RESP_ID        0x040D\nstruct wsm_remove_key {\n\tu8 index;  \n};\n\nint wsm_remove_key(struct cw1200_common *priv,\n\t\t   const struct wsm_remove_key *arg);\n\n \nstruct wsm_set_tx_queue_params {\n\t \n\tu8 ackPolicy;\n\n\t \n\t \n\tu16 allowedMediumTime;\n\n\t \n\t \n\tu32 maxTransmitLifetime;\n};\n\nstruct wsm_tx_queue_params {\n\t \n\tstruct wsm_set_tx_queue_params params[4];\n};\n\n\n#define WSM_TX_QUEUE_SET(queue_params, queue, ack_policy, allowed_time,\\\n\t\tmax_life_time)\t\\\ndo {\t\t\t\t\t\t\t\\\n\tstruct wsm_set_tx_queue_params *p = &(queue_params)->params[queue]; \\\n\tp->ackPolicy = (ack_policy);\t\t\t\t\\\n\tp->allowedMediumTime = (allowed_time);\t\t\t\t\\\n\tp->maxTransmitLifetime = (max_life_time);\t\t\t\\\n} while (0)\n\nint wsm_set_tx_queue_params(struct cw1200_common *priv,\n\t\t\t    const struct wsm_set_tx_queue_params *arg, u8 id);\n\n \n#define WSM_EDCA_PARAMS_REQ_ID 0x0013\n#define WSM_EDCA_PARAMS_RESP_ID 0x0413\nstruct wsm_edca_queue_params {\n\t \n\tu16 cwmin;\n\n\t \n\tu16 cwmax;\n\n\t \n\tu16 aifns;\n\n\t \n\tu16 txop_limit;\n\n\t \n\t \n\t \n\tu32 max_rx_lifetime;\n};\n\nstruct wsm_edca_params {\n\t \n\tstruct wsm_edca_queue_params params[4];\n\tbool uapsd_enable[4];\n};\n\n#define TXOP_UNIT 32\n#define WSM_EDCA_SET(__edca, __queue, __aifs, __cw_min, __cw_max, __txop, __lifetime,\\\n\t\t     __uapsd) \\\n\tdo {\t\t\t\t\t\t\t\\\n\t\tstruct wsm_edca_queue_params *p = &(__edca)->params[__queue]; \\\n\t\tp->cwmin = __cw_min;\t\t\t\t\t\\\n\t\tp->cwmax = __cw_max;\t\t\t\t\t\\\n\t\tp->aifns = __aifs;\t\t\t\t\t\\\n\t\tp->txop_limit = ((__txop) * TXOP_UNIT);\t\t\t\\\n\t\tp->max_rx_lifetime = __lifetime;\t\t\t\\\n\t\t(__edca)->uapsd_enable[__queue] = (__uapsd);\t\t\\\n\t} while (0)\n\nint wsm_set_edca_params(struct cw1200_common *priv,\n\t\t\tconst struct wsm_edca_params *arg);\n\nint wsm_set_uapsd_param(struct cw1200_common *priv,\n\t\t\tconst struct wsm_edca_params *arg);\n\n \n \n\n \n#define WSM_SWITCH_CHANNEL_REQ_ID 0x0016\n#define WSM_SWITCH_CHANNEL_RESP_ID 0x0416\n\nstruct wsm_switch_channel {\n\t \n\t \n\tu8 mode;\n\n\t \n\t \n\t \n\tu8 switch_count;\n\n\t \n\t \n\tu16 channel_number;\n};\n\nint wsm_switch_channel(struct cw1200_common *priv,\n\t\t       const struct wsm_switch_channel *arg);\n\n#define WSM_START_REQ_ID 0x0017\n#define WSM_START_RESP_ID 0x0417\n\nstruct wsm_start {\n\t \n\t  u8 mode;\n\n\t \n\t  u8 band;\n\n\t \n\t  u16 channel_number;\n\n\t \n\t \n\t  u32 ct_window;\n\n\t \n\t \n\t  u32 beacon_interval;\n\n\t \n\t  u8 dtim_period;\n\n\t \n\t  u8 preamble;\n\n\t \n\t \n\t  u8 probe_delay;\n\n\t \n\t  u8 ssid_len;\n\n\t \n\t  u8 ssid[32];\n\n\t \n\t  u32 basic_rate_set;\n};\n\nint wsm_start(struct cw1200_common *priv, const struct wsm_start *arg);\n\n#define WSM_BEACON_TRANSMIT_REQ_ID 0x0018\n#define WSM_BEACON_TRANSMIT_RESP_ID 0x0418\n\nstruct wsm_beacon_transmit {\n\t \n\t  u8 enable_beaconing;\n};\n\nint wsm_beacon_transmit(struct cw1200_common *priv,\n\t\t\tconst struct wsm_beacon_transmit *arg);\n\nint wsm_start_find(struct cw1200_common *priv);\n\nint wsm_stop_find(struct cw1200_common *priv);\n\nstruct wsm_suspend_resume {\n\t \n\t \n\t  int link_id;\n\t \n\t  bool stop;\n\t \n\t  bool multicast;\n\t \n\t \n\t \n\t  int queue;\n};\n\n \nstruct wsm_update_ie {\n\t \n\t  u16 what;\n\t  u16 count;\n\t  u8 *ies;\n\t  size_t length;\n};\n\nint wsm_update_ie(struct cw1200_common *priv,\n\t\t  const struct wsm_update_ie *arg);\n\n \nstruct wsm_map_link {\n\t \n\t  u8 mac_addr[6];\n\t  u8 link_id;\n};\n\nint wsm_map_link(struct cw1200_common *priv, const struct wsm_map_link *arg);\n\n \n \n\nstatic inline int wsm_set_output_power(struct cw1200_common *priv,\n\t\t\t\t       int power_level)\n{\n\t__le32 val = __cpu_to_le32(power_level);\n\treturn wsm_write_mib(priv, WSM_MIB_ID_DOT11_CURRENT_TX_POWER_LEVEL,\n\t\t\t     &val, sizeof(val));\n}\n\nstatic inline int wsm_set_beacon_wakeup_period(struct cw1200_common *priv,\n\t\t\t\t\t       unsigned dtim_interval,\n\t\t\t\t\t       unsigned listen_interval)\n{\n\tstruct {\n\t\tu8 numBeaconPeriods;\n\t\tu8 reserved;\n\t\t__le16 listenInterval;\n\t} val = {\n\t\tdtim_interval, 0, __cpu_to_le16(listen_interval)\n\t};\n\n\tif (dtim_interval > 0xFF || listen_interval > 0xFFFF)\n\t\treturn -EINVAL;\n\telse\n\t\treturn wsm_write_mib(priv, WSM_MIB_ID_BEACON_WAKEUP_PERIOD,\n\t\t\t\t     &val, sizeof(val));\n}\n\nstruct wsm_rcpi_rssi_threshold {\n\tu8 rssiRcpiMode;\t \n\tu8 lowerThreshold;\n\tu8 upperThreshold;\n\tu8 rollingAverageCount;\n};\n\nstatic inline int wsm_set_rcpi_rssi_threshold(struct cw1200_common *priv,\n\t\t\t\t\tstruct wsm_rcpi_rssi_threshold *arg)\n{\n\treturn wsm_write_mib(priv, WSM_MIB_ID_RCPI_RSSI_THRESHOLD, arg,\n\t\t\t     sizeof(*arg));\n}\n\nstruct wsm_mib_counters_table {\n\t__le32 plcp_errors;\n\t__le32 fcs_errors;\n\t__le32 tx_packets;\n\t__le32 rx_packets;\n\t__le32 rx_packet_errors;\n\t__le32 rx_decryption_failures;\n\t__le32 rx_mic_failures;\n\t__le32 rx_no_key_failures;\n\t__le32 tx_multicast_frames;\n\t__le32 tx_frames_success;\n\t__le32 tx_frame_failures;\n\t__le32 tx_frames_retried;\n\t__le32 tx_frames_multi_retried;\n\t__le32 rx_frame_duplicates;\n\t__le32 rts_success;\n\t__le32 rts_failures;\n\t__le32 ack_failures;\n\t__le32 rx_multicast_frames;\n\t__le32 rx_frames_success;\n\t__le32 rx_cmac_icv_errors;\n\t__le32 rx_cmac_replays;\n\t__le32 rx_mgmt_ccmp_replays;\n} __packed;\n\nstatic inline int wsm_get_counters_table(struct cw1200_common *priv,\n\t\t\t\t\t struct wsm_mib_counters_table *arg)\n{\n\treturn wsm_read_mib(priv, WSM_MIB_ID_COUNTERS_TABLE,\n\t\t\t    arg, sizeof(*arg));\n}\n\nstatic inline int wsm_get_station_id(struct cw1200_common *priv, u8 *mac)\n{\n\treturn wsm_read_mib(priv, WSM_MIB_ID_DOT11_STATION_ID, mac, ETH_ALEN);\n}\n\nstruct wsm_rx_filter {\n\tbool promiscuous;\n\tbool bssid;\n\tbool fcs;\n\tbool probeResponder;\n};\n\nstatic inline int wsm_set_rx_filter(struct cw1200_common *priv,\n\t\t\t\t    const struct wsm_rx_filter *arg)\n{\n\t__le32 val = 0;\n\tif (arg->promiscuous)\n\t\tval |= __cpu_to_le32(BIT(0));\n\tif (arg->bssid)\n\t\tval |= __cpu_to_le32(BIT(1));\n\tif (arg->fcs)\n\t\tval |= __cpu_to_le32(BIT(2));\n\tif (arg->probeResponder)\n\t\tval |= __cpu_to_le32(BIT(3));\n\treturn wsm_write_mib(priv, WSM_MIB_ID_RX_FILTER, &val, sizeof(val));\n}\n\nint wsm_set_probe_responder(struct cw1200_common *priv, bool enable);\n\n#define WSM_BEACON_FILTER_IE_HAS_CHANGED\tBIT(0)\n#define WSM_BEACON_FILTER_IE_NO_LONGER_PRESENT\tBIT(1)\n#define WSM_BEACON_FILTER_IE_HAS_APPEARED\tBIT(2)\n\nstruct wsm_beacon_filter_table_entry {\n\tu8\tie_id;\n\tu8\tflags;\n\tu8\toui[3];\n\tu8\tmatch_data[3];\n} __packed;\n\nstruct wsm_mib_beacon_filter_table {\n\t__le32 num;\n\tstruct wsm_beacon_filter_table_entry entry[10];\n} __packed;\n\nstatic inline int wsm_set_beacon_filter_table(struct cw1200_common *priv,\n\t\t\t\t\t      struct wsm_mib_beacon_filter_table *ft)\n{\n\tsize_t size = __le32_to_cpu(ft->num) *\n\t\t     sizeof(struct wsm_beacon_filter_table_entry) +\n\t\t     sizeof(__le32);\n\n\treturn wsm_write_mib(priv, WSM_MIB_ID_BEACON_FILTER_TABLE, ft, size);\n}\n\n#define WSM_BEACON_FILTER_ENABLE\tBIT(0)  \n#define WSM_BEACON_FILTER_AUTO_ERP\tBIT(1)  \n\nstruct wsm_beacon_filter_control {\n\tint enabled;\n\tint bcn_count;\n};\n\nstatic inline int wsm_beacon_filter_control(struct cw1200_common *priv,\n\t\t\t\t\tstruct wsm_beacon_filter_control *arg)\n{\n\tstruct {\n\t\t__le32 enabled;\n\t\t__le32 bcn_count;\n\t} val;\n\tval.enabled = __cpu_to_le32(arg->enabled);\n\tval.bcn_count = __cpu_to_le32(arg->bcn_count);\n\treturn wsm_write_mib(priv, WSM_MIB_ID_BEACON_FILTER_ENABLE, &val,\n\t\t\t     sizeof(val));\n}\n\nenum wsm_power_mode {\n\twsm_power_mode_active = 0,\n\twsm_power_mode_doze = 1,\n\twsm_power_mode_quiescent = 2,\n};\n\nstruct wsm_operational_mode {\n\tenum wsm_power_mode power_mode;\n\tint disable_more_flag_usage;\n\tint perform_ant_diversity;\n};\n\nstatic inline int wsm_set_operational_mode(struct cw1200_common *priv,\n\t\t\t\t\tconst struct wsm_operational_mode *arg)\n{\n\tu8 val = arg->power_mode;\n\tif (arg->disable_more_flag_usage)\n\t\tval |= BIT(4);\n\tif (arg->perform_ant_diversity)\n\t\tval |= BIT(5);\n\treturn wsm_write_mib(priv, WSM_MIB_ID_OPERATIONAL_POWER_MODE, &val,\n\t\t\t     sizeof(val));\n}\n\nstruct wsm_template_frame {\n\tu8 frame_type;\n\tu8 rate;\n\tstruct sk_buff *skb;\n};\n\nstatic inline int wsm_set_template_frame(struct cw1200_common *priv,\n\t\t\t\t\t struct wsm_template_frame *arg)\n{\n\tint ret;\n\tu8 *p = skb_push(arg->skb, 4);\n\tp[0] = arg->frame_type;\n\tp[1] = arg->rate;\n\t((__le16 *)p)[1] = __cpu_to_le16(arg->skb->len - 4);\n\tret = wsm_write_mib(priv, WSM_MIB_ID_TEMPLATE_FRAME, p, arg->skb->len);\n\tskb_pull(arg->skb, 4);\n\treturn ret;\n}\n\n\nstruct wsm_protected_mgmt_policy {\n\tbool protectedMgmtEnable;\n\tbool unprotectedMgmtFramesAllowed;\n\tbool encryptionForAuthFrame;\n};\n\nstatic inline int wsm_set_protected_mgmt_policy(struct cw1200_common *priv,\n\t\tstruct wsm_protected_mgmt_policy *arg)\n{\n\t__le32 val = 0;\n\tint ret;\n\tif (arg->protectedMgmtEnable)\n\t\tval |= __cpu_to_le32(BIT(0));\n\tif (arg->unprotectedMgmtFramesAllowed)\n\t\tval |= __cpu_to_le32(BIT(1));\n\tif (arg->encryptionForAuthFrame)\n\t\tval |= __cpu_to_le32(BIT(2));\n\tret = wsm_write_mib(priv, WSM_MIB_ID_PROTECTED_MGMT_POLICY,\n\t\t\t&val, sizeof(val));\n\treturn ret;\n}\n\nstruct wsm_mib_block_ack_policy {\n\tu8 tx_tid;\n\tu8 reserved1;\n\tu8 rx_tid;\n\tu8 reserved2;\n} __packed;\n\nstatic inline int wsm_set_block_ack_policy(struct cw1200_common *priv,\n\t\t\t\t\t   u8 tx_tid_policy,\n\t\t\t\t\t   u8 rx_tid_policy)\n{\n\tstruct wsm_mib_block_ack_policy val = {\n\t\t.tx_tid = tx_tid_policy,\n\t\t.rx_tid = rx_tid_policy,\n\t};\n\treturn wsm_write_mib(priv, WSM_MIB_ID_BLOCK_ACK_POLICY, &val,\n\t\t\t     sizeof(val));\n}\n\nstruct wsm_mib_association_mode {\n\tu8 flags;\t\t \n\tu8 preamble;\t \n\tu8 greenfield;\t \n\tu8 mpdu_start_spacing;\n\t__le32 basic_rate_set;\n} __packed;\n\nstatic inline int wsm_set_association_mode(struct cw1200_common *priv,\n\t\t\t\t\t   struct wsm_mib_association_mode *arg)\n{\n\treturn wsm_write_mib(priv, WSM_MIB_ID_SET_ASSOCIATION_MODE, arg,\n\t\t\t     sizeof(*arg));\n}\n\n#define WSM_TX_RATE_POLICY_FLAG_TERMINATE_WHEN_FINISHED BIT(2)\n#define WSM_TX_RATE_POLICY_FLAG_COUNT_INITIAL_TRANSMIT BIT(3)\nstruct wsm_tx_rate_retry_policy {\n\tu8 index;\n\tu8 short_retries;\n\tu8 long_retries;\n\t \n\tu8 flags;\n\tu8 rate_recoveries;\n\tu8 reserved[3];\n\t__le32 rate_count_indices[3];\n} __packed;\n\nstruct wsm_set_tx_rate_retry_policy {\n\tu8 num;\n\tu8 reserved[3];\n\tstruct wsm_tx_rate_retry_policy tbl[8];\n} __packed;\n\nstatic inline int wsm_set_tx_rate_retry_policy(struct cw1200_common *priv,\n\t\t\t\tstruct wsm_set_tx_rate_retry_policy *arg)\n{\n\tsize_t size = 4 + arg->num * sizeof(struct wsm_tx_rate_retry_policy);\n\treturn wsm_write_mib(priv, WSM_MIB_ID_SET_TX_RATE_RETRY_POLICY, arg,\n\t\t\t     size);\n}\n\n \nstruct wsm_ether_type_filter_hdr {\n\tu8 num;\t\t \n\tu8 reserved[3];\n} __packed;\n\nstruct wsm_ether_type_filter {\n\tu8 action;\t \n\tu8 reserved;\n\t__le16 type;\t \n} __packed;\n\nstatic inline int wsm_set_ether_type_filter(struct cw1200_common *priv,\n\t\t\t\tstruct wsm_ether_type_filter_hdr *arg)\n{\n\tsize_t size = sizeof(struct wsm_ether_type_filter_hdr) +\n\t\targ->num * sizeof(struct wsm_ether_type_filter);\n\treturn wsm_write_mib(priv, WSM_MIB_ID_SET_ETHERTYPE_DATAFRAME_FILTER,\n\t\targ, size);\n}\n\n \nstruct wsm_udp_port_filter_hdr {\n\tu8 num;\t\t \n\tu8 reserved[3];\n} __packed;\n\nstruct wsm_udp_port_filter {\n\tu8 action;\t \n\tu8 type;\t\t \n\t__le16 port;\t\t \n} __packed;\n\nstatic inline int wsm_set_udp_port_filter(struct cw1200_common *priv,\n\t\t\t\tstruct wsm_udp_port_filter_hdr *arg)\n{\n\tsize_t size = sizeof(struct wsm_udp_port_filter_hdr) +\n\t\targ->num * sizeof(struct wsm_udp_port_filter);\n\treturn wsm_write_mib(priv, WSM_MIB_ID_SET_UDPPORT_DATAFRAME_FILTER,\n\t\targ, size);\n}\n\n \n \n#define D11_MAX_SSID_LEN\t\t(32)\n\nstruct wsm_p2p_device_type {\n\t__le16 category_id;\n\tu8 oui[4];\n\t__le16 subcategory_id;\n} __packed;\n\nstruct wsm_p2p_device_info {\n\tstruct wsm_p2p_device_type primaryDevice;\n\tu8 reserved1[3];\n\tu8 devname_size;\n\tu8 local_devname[D11_MAX_SSID_LEN];\n\tu8 reserved2[3];\n\tu8 num_secdev_supported;\n\tstruct wsm_p2p_device_type secdevs[];\n} __packed;\n\n \nstruct wsm_cdma_band {\n\tu8 wcdma_band;\n\tu8 reserved[3];\n} __packed;\n\n \nstruct wsm_group_tx_seq {\n\t__le32 bits_47_16;\n\t__le16 bits_15_00;\n\t__le16 reserved;\n} __packed;\n\n \n#define WSM_DUAL_CTS_PROT_ENB\t\t(1 << 0)\n#define WSM_NON_GREENFIELD_STA_PRESENT  (1 << 1)\n#define WSM_HT_PROT_MODE__NO_PROT\t(0 << 2)\n#define WSM_HT_PROT_MODE__NON_MEMBER\t(1 << 2)\n#define WSM_HT_PROT_MODE__20_MHZ\t(2 << 2)\n#define WSM_HT_PROT_MODE__NON_HT_MIXED\t(3 << 2)\n#define WSM_LSIG_TXOP_PROT_FULL\t\t(1 << 4)\n#define WSM_LARGE_L_LENGTH_PROT\t\t(1 << 5)\n\nstruct wsm_ht_protection {\n\t__le32 flags;\n} __packed;\n\n \n#define WSM_GPIO_COMMAND_SETUP\t0\n#define WSM_GPIO_COMMAND_READ\t1\n#define WSM_GPIO_COMMAND_WRITE\t2\n#define WSM_GPIO_COMMAND_RESET\t3\n#define WSM_GPIO_ALL_PINS\t0xFF\n\nstruct wsm_gpio_command {\n\tu8 command;\n\tu8 pin;\n\t__le16 config;\n} __packed;\n\n \nstruct wsm_tsf_counter {\n\t__le64 tsf_counter;\n} __packed;\n\n \nstruct wsm_keep_alive_period {\n\t__le16 period;\n\tu8 reserved[2];\n} __packed;\n\nstatic inline int wsm_keep_alive_period(struct cw1200_common *priv,\n\t\t\t\t\tint period)\n{\n\tstruct wsm_keep_alive_period arg = {\n\t\t.period = __cpu_to_le16(period),\n\t};\n\treturn wsm_write_mib(priv, WSM_MIB_ID_KEEP_ALIVE_PERIOD,\n\t\t\t&arg, sizeof(arg));\n};\n\n \nstruct wsm_set_bssid_filtering {\n\tu8 filter;\n\tu8 reserved[3];\n} __packed;\n\nstatic inline int wsm_set_bssid_filtering(struct cw1200_common *priv,\n\t\t\t\t\t  bool enabled)\n{\n\tstruct wsm_set_bssid_filtering arg = {\n\t\t.filter = !enabled,\n\t};\n\treturn wsm_write_mib(priv, WSM_MIB_ID_DISABLE_BSSID_FILTER,\n\t\t\t&arg, sizeof(arg));\n}\n\n \nstruct wsm_mib_multicast_filter {\n\t__le32 enable;\n\t__le32 num_addrs;\n\tu8 macaddrs[WSM_MAX_GRP_ADDRTABLE_ENTRIES][ETH_ALEN];\n} __packed;\n\nstatic inline int wsm_set_multicast_filter(struct cw1200_common *priv,\n\t\t\t\t\t   struct wsm_mib_multicast_filter *fp)\n{\n\treturn wsm_write_mib(priv, WSM_MIB_ID_DOT11_GROUP_ADDRESSES_TABLE,\n\t\t\t     fp, sizeof(*fp));\n}\n\n \nstruct wsm_mib_arp_ipv4_filter {\n\t__le32 enable;\n\t__be32 ipv4addrs[WSM_MAX_ARP_IP_ADDRTABLE_ENTRIES];\n} __packed;\n\nstatic inline int wsm_set_arp_ipv4_filter(struct cw1200_common *priv,\n\t\t\t\t\t  struct wsm_mib_arp_ipv4_filter *fp)\n{\n\treturn wsm_write_mib(priv, WSM_MIB_ID_ARP_IP_ADDRESSES_TABLE,\n\t\t\t    fp, sizeof(*fp));\n}\n\n \nstruct wsm_p2p_ps_modeinfo {\n\tu8\topp_ps_ct_window;\n\tu8\tcount;\n\tu8\treserved;\n\tu8\tdtim_count;\n\t__le32\tduration;\n\t__le32\tinterval;\n\t__le32\tstart_time;\n} __packed;\n\nstatic inline int wsm_set_p2p_ps_modeinfo(struct cw1200_common *priv,\n\t\t\t\t\t  struct wsm_p2p_ps_modeinfo *mi)\n{\n\treturn wsm_write_mib(priv, WSM_MIB_ID_P2P_PS_MODE_INFO,\n\t\t\t     mi, sizeof(*mi));\n}\n\nstatic inline int wsm_get_p2p_ps_modeinfo(struct cw1200_common *priv,\n\t\t\t\t\t  struct wsm_p2p_ps_modeinfo *mi)\n{\n\treturn wsm_read_mib(priv, WSM_MIB_ID_P2P_PS_MODE_INFO,\n\t\t\t    mi, sizeof(*mi));\n}\n\n \n\nstatic inline int wsm_use_multi_tx_conf(struct cw1200_common *priv,\n\t\t\t\t\tbool enabled)\n{\n\t__le32 arg = enabled ? __cpu_to_le32(1) : 0;\n\n\treturn wsm_write_mib(priv, WSM_MIB_USE_MULTI_TX_CONF,\n\t\t\t&arg, sizeof(arg));\n}\n\n\n \nstruct wsm_uapsd_info {\n\t__le16 uapsd_flags;\n\t__le16 min_auto_trigger_interval;\n\t__le16 max_auto_trigger_interval;\n\t__le16 auto_trigger_step;\n};\n\nstatic inline int wsm_set_uapsd_info(struct cw1200_common *priv,\n\t\t\t\t     struct wsm_uapsd_info *arg)\n{\n\treturn wsm_write_mib(priv, WSM_MIB_ID_SET_UAPSD_INFORMATION,\n\t\t\t\targ, sizeof(*arg));\n}\n\n \nstruct wsm_override_internal_txrate {\n\tu8 internalTxRate;\n\tu8 nonErpInternalTxRate;\n\tu8 reserved[2];\n} __packed;\n\nstatic inline int wsm_set_override_internal_txrate(struct cw1200_common *priv,\n\t\t\t\t     struct wsm_override_internal_txrate *arg)\n{\n\treturn wsm_write_mib(priv, WSM_MIB_ID_OVERRIDE_INTERNAL_TX_RATE,\n\t\t\t\targ, sizeof(*arg));\n}\n\n \n \n\nvoid wsm_lock_tx(struct cw1200_common *priv);\nvoid wsm_lock_tx_async(struct cw1200_common *priv);\nbool wsm_flush_tx(struct cw1200_common *priv);\nvoid wsm_unlock_tx(struct cw1200_common *priv);\n\n \n \n\nint wsm_handle_exception(struct cw1200_common *priv, u8 *data, size_t len);\nint wsm_handle_rx(struct cw1200_common *priv, u16 id, struct wsm_hdr *wsm,\n\t\t  struct sk_buff **skb_p);\n\n \n \n\nstruct wsm_buf {\n\tu8 *begin;\n\tu8 *data;\n\tu8 *end;\n};\n\nvoid wsm_buf_init(struct wsm_buf *buf);\nvoid wsm_buf_deinit(struct wsm_buf *buf);\n\n \n \n\nstruct wsm_cmd {\n\tspinlock_t lock;  \n\tint done;\n\tu8 *ptr;\n\tsize_t len;\n\tvoid *arg;\n\tint ret;\n\tu16 cmd;\n};\n\n \n \n\nint wsm_get_tx(struct cw1200_common *priv, u8 **data,\n\t       size_t *tx_len, int *burst);\nvoid wsm_txed(struct cw1200_common *priv, u8 *data);\n\n \n \n \n \n\nstatic inline u8 wsm_queue_id_to_linux(u8 queue_id)\n{\n\tstatic const u8 queue_mapping[] = {\n\t\t2, 3, 1, 0\n\t};\n\treturn queue_mapping[queue_id];\n}\n\nstatic inline u8 wsm_queue_id_to_wsm(u8 queue_id)\n{\n\tstatic const u8 queue_mapping[] = {\n\t\t3, 2, 0, 1\n\t};\n\treturn queue_mapping[queue_id];\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}