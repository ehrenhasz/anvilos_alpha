{
  "module_name": "hci.h",
  "hash_id": "5cd8b68b17018a287ba721931d276fae5c0c0deaeedd0b0e56fff70426ab255f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/realtek/rtw88/hci.h",
  "human_readable_source": " \n \n\n#ifndef\t__RTW_HCI_H__\n#define __RTW_HCI_H__\n\n \nstruct rtw_hci_ops {\n\tint (*tx_write)(struct rtw_dev *rtwdev,\n\t\t\tstruct rtw_tx_pkt_info *pkt_info,\n\t\t\tstruct sk_buff *skb);\n\tvoid (*tx_kick_off)(struct rtw_dev *rtwdev);\n\tvoid (*flush_queues)(struct rtw_dev *rtwdev, u32 queues, bool drop);\n\tint (*setup)(struct rtw_dev *rtwdev);\n\tint (*start)(struct rtw_dev *rtwdev);\n\tvoid (*stop)(struct rtw_dev *rtwdev);\n\tvoid (*deep_ps)(struct rtw_dev *rtwdev, bool enter);\n\tvoid (*link_ps)(struct rtw_dev *rtwdev, bool enter);\n\tvoid (*interface_cfg)(struct rtw_dev *rtwdev);\n\n\tint (*write_data_rsvd_page)(struct rtw_dev *rtwdev, u8 *buf, u32 size);\n\tint (*write_data_h2c)(struct rtw_dev *rtwdev, u8 *buf, u32 size);\n\n\tu8 (*read8)(struct rtw_dev *rtwdev, u32 addr);\n\tu16 (*read16)(struct rtw_dev *rtwdev, u32 addr);\n\tu32 (*read32)(struct rtw_dev *rtwdev, u32 addr);\n\tvoid (*write8)(struct rtw_dev *rtwdev, u32 addr, u8 val);\n\tvoid (*write16)(struct rtw_dev *rtwdev, u32 addr, u16 val);\n\tvoid (*write32)(struct rtw_dev *rtwdev, u32 addr, u32 val);\n};\n\nstatic inline int rtw_hci_tx_write(struct rtw_dev *rtwdev,\n\t\t\t\t   struct rtw_tx_pkt_info *pkt_info,\n\t\t\t\t   struct sk_buff *skb)\n{\n\treturn rtwdev->hci.ops->tx_write(rtwdev, pkt_info, skb);\n}\n\nstatic inline void rtw_hci_tx_kick_off(struct rtw_dev *rtwdev)\n{\n\treturn rtwdev->hci.ops->tx_kick_off(rtwdev);\n}\n\nstatic inline int rtw_hci_setup(struct rtw_dev *rtwdev)\n{\n\treturn rtwdev->hci.ops->setup(rtwdev);\n}\n\nstatic inline int rtw_hci_start(struct rtw_dev *rtwdev)\n{\n\treturn rtwdev->hci.ops->start(rtwdev);\n}\n\nstatic inline void rtw_hci_stop(struct rtw_dev *rtwdev)\n{\n\trtwdev->hci.ops->stop(rtwdev);\n}\n\nstatic inline void rtw_hci_deep_ps(struct rtw_dev *rtwdev, bool enter)\n{\n\trtwdev->hci.ops->deep_ps(rtwdev, enter);\n}\n\nstatic inline void rtw_hci_link_ps(struct rtw_dev *rtwdev, bool enter)\n{\n\trtwdev->hci.ops->link_ps(rtwdev, enter);\n}\n\nstatic inline void rtw_hci_interface_cfg(struct rtw_dev *rtwdev)\n{\n\trtwdev->hci.ops->interface_cfg(rtwdev);\n}\n\nstatic inline int\nrtw_hci_write_data_rsvd_page(struct rtw_dev *rtwdev, u8 *buf, u32 size)\n{\n\treturn rtwdev->hci.ops->write_data_rsvd_page(rtwdev, buf, size);\n}\n\nstatic inline int\nrtw_hci_write_data_h2c(struct rtw_dev *rtwdev, u8 *buf, u32 size)\n{\n\treturn rtwdev->hci.ops->write_data_h2c(rtwdev, buf, size);\n}\n\nstatic inline u8 rtw_read8(struct rtw_dev *rtwdev, u32 addr)\n{\n\treturn rtwdev->hci.ops->read8(rtwdev, addr);\n}\n\nstatic inline u16 rtw_read16(struct rtw_dev *rtwdev, u32 addr)\n{\n\treturn rtwdev->hci.ops->read16(rtwdev, addr);\n}\n\nstatic inline u32 rtw_read32(struct rtw_dev *rtwdev, u32 addr)\n{\n\treturn rtwdev->hci.ops->read32(rtwdev, addr);\n}\n\nstatic inline void rtw_write8(struct rtw_dev *rtwdev, u32 addr, u8 val)\n{\n\trtwdev->hci.ops->write8(rtwdev, addr, val);\n}\n\nstatic inline void rtw_write16(struct rtw_dev *rtwdev, u32 addr, u16 val)\n{\n\trtwdev->hci.ops->write16(rtwdev, addr, val);\n}\n\nstatic inline void rtw_write32(struct rtw_dev *rtwdev, u32 addr, u32 val)\n{\n\trtwdev->hci.ops->write32(rtwdev, addr, val);\n}\n\nstatic inline void rtw_write8_set(struct rtw_dev *rtwdev, u32 addr, u8 bit)\n{\n\tu8 val;\n\n\tval = rtw_read8(rtwdev, addr);\n\trtw_write8(rtwdev, addr, val | bit);\n}\n\nstatic inline void rtw_write16_set(struct rtw_dev *rtwdev, u32 addr, u16 bit)\n{\n\tu16 val;\n\n\tval = rtw_read16(rtwdev, addr);\n\trtw_write16(rtwdev, addr, val | bit);\n}\n\nstatic inline void rtw_write32_set(struct rtw_dev *rtwdev, u32 addr, u32 bit)\n{\n\tu32 val;\n\n\tval = rtw_read32(rtwdev, addr);\n\trtw_write32(rtwdev, addr, val | bit);\n}\n\nstatic inline void rtw_write8_clr(struct rtw_dev *rtwdev, u32 addr, u8 bit)\n{\n\tu8 val;\n\n\tval = rtw_read8(rtwdev, addr);\n\trtw_write8(rtwdev, addr, val & ~bit);\n}\n\nstatic inline void rtw_write16_clr(struct rtw_dev *rtwdev, u32 addr, u16 bit)\n{\n\tu16 val;\n\n\tval = rtw_read16(rtwdev, addr);\n\trtw_write16(rtwdev, addr, val & ~bit);\n}\n\nstatic inline void rtw_write32_clr(struct rtw_dev *rtwdev, u32 addr, u32 bit)\n{\n\tu32 val;\n\n\tval = rtw_read32(rtwdev, addr);\n\trtw_write32(rtwdev, addr, val & ~bit);\n}\n\nstatic inline u32\nrtw_read_rf(struct rtw_dev *rtwdev, enum rtw_rf_path rf_path,\n\t    u32 addr, u32 mask)\n{\n\tu32 val;\n\n\tlockdep_assert_held(&rtwdev->mutex);\n\n\tval = rtwdev->chip->ops->read_rf(rtwdev, rf_path, addr, mask);\n\n\treturn val;\n}\n\nstatic inline void\nrtw_write_rf(struct rtw_dev *rtwdev, enum rtw_rf_path rf_path,\n\t     u32 addr, u32 mask, u32 data)\n{\n\tlockdep_assert_held(&rtwdev->mutex);\n\n\trtwdev->chip->ops->write_rf(rtwdev, rf_path, addr, mask, data);\n}\n\nstatic inline u32\nrtw_read32_mask(struct rtw_dev *rtwdev, u32 addr, u32 mask)\n{\n\tu32 shift = __ffs(mask);\n\tu32 orig;\n\tu32 ret;\n\n\torig = rtw_read32(rtwdev, addr);\n\tret = (orig & mask) >> shift;\n\n\treturn ret;\n}\n\nstatic inline u16\nrtw_read16_mask(struct rtw_dev *rtwdev, u32 addr, u32 mask)\n{\n\tu32 shift = __ffs(mask);\n\tu32 orig;\n\tu32 ret;\n\n\torig = rtw_read16(rtwdev, addr);\n\tret = (orig & mask) >> shift;\n\n\treturn ret;\n}\n\nstatic inline u8\nrtw_read8_mask(struct rtw_dev *rtwdev, u32 addr, u32 mask)\n{\n\tu32 shift = __ffs(mask);\n\tu32 orig;\n\tu32 ret;\n\n\torig = rtw_read8(rtwdev, addr);\n\tret = (orig & mask) >> shift;\n\n\treturn ret;\n}\n\nstatic inline void\nrtw_write32_mask(struct rtw_dev *rtwdev, u32 addr, u32 mask, u32 data)\n{\n\tu32 shift = __ffs(mask);\n\tu32 orig;\n\tu32 set;\n\n\tWARN(addr & 0x3, \"should be 4-byte aligned, addr = 0x%08x\\n\", addr);\n\n\torig = rtw_read32(rtwdev, addr);\n\tset = (orig & ~mask) | ((data << shift) & mask);\n\trtw_write32(rtwdev, addr, set);\n}\n\nstatic inline void\nrtw_write8_mask(struct rtw_dev *rtwdev, u32 addr, u32 mask, u8 data)\n{\n\tu32 shift;\n\tu8 orig, set;\n\n\tmask &= 0xff;\n\tshift = __ffs(mask);\n\n\torig = rtw_read8(rtwdev, addr);\n\tset = (orig & ~mask) | ((data << shift) & mask);\n\trtw_write8(rtwdev, addr, set);\n}\n\nstatic inline enum rtw_hci_type rtw_hci_type(struct rtw_dev *rtwdev)\n{\n\treturn rtwdev->hci.type;\n}\n\nstatic inline void rtw_hci_flush_queues(struct rtw_dev *rtwdev, u32 queues,\n\t\t\t\t\tbool drop)\n{\n\tif (rtwdev->hci.ops->flush_queues)\n\t\trtwdev->hci.ops->flush_queues(rtwdev, queues, drop);\n}\n\nstatic inline void rtw_hci_flush_all_queues(struct rtw_dev *rtwdev, bool drop)\n{\n\tif (rtwdev->hci.ops->flush_queues)\n\t\trtwdev->hci.ops->flush_queues(rtwdev,\n\t\t\t\t\t      BIT(rtwdev->hw->queues) - 1,\n\t\t\t\t\t      drop);\n}\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}