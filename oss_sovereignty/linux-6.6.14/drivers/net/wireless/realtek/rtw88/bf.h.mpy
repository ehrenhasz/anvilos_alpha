{
  "module_name": "bf.h",
  "hash_id": "e67ce1e8c9bd1521ed7d0eea04fdff1f768799735d4f51a7e18bf3c31362debc",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/realtek/rtw88/bf.h",
  "human_readable_source": " \n \n\n#ifndef __RTW_BF_H_\n#define __RTW_BF_H_\n\n#define REG_TXBF_CTRL\t\t0x042C\n#define REG_RRSR\t\t0x0440\n#define REG_NDPA_OPT_CTRL\t0x045F\n\n#define REG_ASSOCIATED_BFMER0_INFO\t0x06E4\n#define REG_ASSOCIATED_BFMER1_INFO\t0x06EC\n#define REG_TX_CSI_RPT_PARAM_BW20\t0x06F4\n#define REG_SND_PTCL_CTRL\t\t0x0718\n#define BIT_DIS_CHK_VHTSIGB_CRC\t\tBIT(6)\n#define BIT_DIS_CHK_VHTSIGA_CRC\t\tBIT(5)\n#define BIT_MASK_BEAMFORM\t\t(GENMASK(4, 0) | BIT(7))\n#define REG_MU_TX_CTL\t\t\t0x14C0\n#define REG_MU_STA_GID_VLD\t\t0x14C4\n#define REG_MU_STA_USER_POS_INFO\t0x14C8\n#define REG_CSI_RRSR\t\t\t0x1678\n#define REG_WMAC_MU_BF_OPTION\t\t0x167C\n#define REG_WMAC_MU_BF_CTL\t\t0x1680\n\n#define BIT_WMAC_USE_NDPARATE\t\t\tBIT(30)\n#define BIT_WMAC_TXMU_ACKPOLICY_EN\t\tBIT(6)\n#define BIT_USE_NDPA_PARAMETER\t\t\tBIT(30)\n#define BIT_MU_P1_WAIT_STATE_EN\t\t\tBIT(16)\n#define BIT_EN_MU_MIMO\t\t\t\tBIT(7)\n\n#define R_MU_RL\t\t\t\t0xf\n#define BIT_SHIFT_R_MU_RL\t\t12\n#define BIT_SHIFT_WMAC_TXMU_ACKPOLICY\t4\n#define BIT_SHIFT_CSI_RATE\t\t24\n\n#define BIT_MASK_R_MU_RL (R_MU_RL << BIT_SHIFT_R_MU_RL)\n#define BIT_MASK_R_MU_TABLE_VALID\t0x3f\n#define BIT_MASK_CSI_RATE_VAL\t\t0x3F\n#define BIT_MASK_CSI_RATE (BIT_MASK_CSI_RATE_VAL << BIT_SHIFT_CSI_RATE)\n\n#define BIT_RXFLTMAP0_ACTIONNOACK\tBIT(14)\n#define BIT_RXFLTMAP1_BF\t\t(BIT(4) | BIT(5))\n#define BIT_RXFLTMAP1_BF_REPORT_POLL\tBIT(4)\n#define BIT_RXFLTMAP4_BF_REPORT_POLL\tBIT(4)\n\n#define RTW_NDP_RX_STANDBY_TIME\t0x70\n#define RTW_SND_CTRL_REMOVE\t0x98\n#define RTW_SND_CTRL_SOUNDING\t0x9B\n\nenum csi_seg_len {\n\tHAL_CSI_SEG_4K = 0,\n\tHAL_CSI_SEG_8K = 1,\n\tHAL_CSI_SEG_11K = 2,\n};\n\nstruct cfg_mumimo_para {\n\tu8 sounding_sts[6];\n\tu16 grouping_bitmap;\n\tu8 mu_tx_en;\n\tu32 given_gid_tab[2];\n\tu32 given_user_pos[4];\n};\n\nstruct mu_bfer_init_para {\n\tu16 paid;\n\tu16 csi_para;\n\tu16 my_aid;\n\tenum csi_seg_len csi_length_sel;\n\tu8 bfer_address[ETH_ALEN];\n};\n\nvoid rtw_bf_disassoc(struct rtw_dev *rtwdev, struct ieee80211_vif *vif,\n\t\t     struct ieee80211_bss_conf *bss_conf);\nvoid rtw_bf_assoc(struct rtw_dev *rtwdev, struct ieee80211_vif *vif,\n\t\t  struct ieee80211_bss_conf *bss_conf);\nvoid rtw_bf_init_bfer_entry_mu(struct rtw_dev *rtwdev,\n\t\t\t       struct mu_bfer_init_para *param);\nvoid rtw_bf_cfg_sounding(struct rtw_dev *rtwdev, struct rtw_vif *vif,\n\t\t\t enum rtw_trx_desc_rate rate);\nvoid rtw_bf_cfg_mu_bfee(struct rtw_dev *rtwdev, struct cfg_mumimo_para *param);\nvoid rtw_bf_del_bfer_entry_mu(struct rtw_dev *rtwdev);\nvoid rtw_bf_del_sounding(struct rtw_dev *rtwdev);\nvoid rtw_bf_enable_bfee_su(struct rtw_dev *rtwdev, struct rtw_vif *vif,\n\t\t\t   struct rtw_bfee *bfee);\nvoid rtw_bf_enable_bfee_mu(struct rtw_dev *rtwdev, struct rtw_vif *vif,\n\t\t\t   struct rtw_bfee *bfee);\nvoid rtw_bf_remove_bfee_su(struct rtw_dev *rtwdev, struct rtw_bfee *bfee);\nvoid rtw_bf_remove_bfee_mu(struct rtw_dev *rtwdev, struct rtw_bfee *bfee);\nvoid rtw_bf_set_gid_table(struct rtw_dev *rtwdev, struct ieee80211_vif *vif,\n\t\t\t  struct ieee80211_bss_conf *conf);\nvoid rtw_bf_phy_init(struct rtw_dev *rtwdev);\nvoid rtw_bf_cfg_csi_rate(struct rtw_dev *rtwdev, u8 rssi, u8 cur_rate,\n\t\t\t u8 fixrate_en, u8 *new_rate);\nstatic inline void rtw_chip_config_bfee(struct rtw_dev *rtwdev, struct rtw_vif *vif,\n\t\t\t\t\tstruct rtw_bfee *bfee, bool enable)\n{\n\tif (rtwdev->chip->ops->config_bfee)\n\t\trtwdev->chip->ops->config_bfee(rtwdev, vif, bfee, enable);\n}\n\nstatic inline void rtw_chip_set_gid_table(struct rtw_dev *rtwdev,\n\t\t\t\t\t  struct ieee80211_vif *vif,\n\t\t\t\t\t  struct ieee80211_bss_conf *conf)\n{\n\tif (rtwdev->chip->ops->set_gid_table)\n\t\trtwdev->chip->ops->set_gid_table(rtwdev, vif, conf);\n}\n\nstatic inline void rtw_chip_cfg_csi_rate(struct rtw_dev *rtwdev, u8 rssi, u8 cur_rate,\n\t\t\t\t\t u8 fixrate_en, u8 *new_rate)\n{\n\tif (rtwdev->chip->ops->cfg_csi_rate)\n\t\trtwdev->chip->ops->cfg_csi_rate(rtwdev, rssi, cur_rate,\n\t\t\t\t\t\tfixrate_en, new_rate);\n}\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}