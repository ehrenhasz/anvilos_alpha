{
  "module_name": "rtw8723d.h",
  "hash_id": "34ec7a3af48c61d7ae98fd4459469869fea4c76f19c53daaf0ab678bb5d1de3d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/realtek/rtw88/rtw8723d.h",
  "human_readable_source": " \n \n\n#ifndef __RTW8723D_H__\n#define __RTW8723D_H__\n\nenum rtw8723d_path {\n\tPATH_S1,\n\tPATH_S0,\n\tPATH_NR,\n};\n\nenum rtw8723d_iqk_round {\n\tIQK_ROUND_0,\n\tIQK_ROUND_1,\n\tIQK_ROUND_2,\n\tIQK_ROUND_HYBRID,\n\tIQK_ROUND_SIZE,\n\tIQK_ROUND_INVALID = 0xff,\n};\n\nenum rtw8723d_iqk_result {\n\tIQK_S1_TX_X,\n\tIQK_S1_TX_Y,\n\tIQK_S1_RX_X,\n\tIQK_S1_RX_Y,\n\tIQK_S0_TX_X,\n\tIQK_S0_TX_Y,\n\tIQK_S0_RX_X,\n\tIQK_S0_RX_Y,\n\tIQK_NR,\n\tIQK_SX_NR = IQK_NR / PATH_NR,\n};\n\nstruct rtw8723de_efuse {\n\tu8 mac_addr[ETH_ALEN];\t\t \n\tu8 vender_id[2];\n\tu8 device_id[2];\n\tu8 sub_vender_id[2];\n\tu8 sub_device_id[2];\n};\n\nstruct rtw8723du_efuse {\n\tu8 res4[48];                     \n\tu8 vender_id[2];                 \n\tu8 product_id[2];                \n\tu8 usb_option;                   \n\tu8 res5[2];\t\t\t \n\tu8 mac_addr[ETH_ALEN];           \n};\n\nstruct rtw8723ds_efuse {\n\tu8 res4[0x4a];\t\t\t \n\tu8 mac_addr[ETH_ALEN];\t\t \n};\n\nstruct rtw8723d_efuse {\n\t__le16 rtl_id;\n\tu8 rsvd[2];\n\tu8 afe;\n\tu8 rsvd1[11];\n\n\t \n\tstruct rtw_txpwr_idx txpwr_idx_table[4];\n\n\tu8 channel_plan;\t\t \n\tu8 xtal_k;\n\tu8 thermal_meter;\n\tu8 iqk_lck;\n\tu8 pa_type;\t\t\t \n\tu8 lna_type_2g[2];\t\t \n\tu8 lna_type_5g[2];\n\tu8 rf_board_option;\n\tu8 rf_feature_option;\n\tu8 rf_bt_setting;\n\tu8 eeprom_version;\n\tu8 eeprom_customer_id;\n\tu8 tx_bb_swing_setting_2g;\n\tu8 res_c7;\n\tu8 tx_pwr_calibrate_rate;\n\tu8 rf_antenna_option;\t\t \n\tu8 rfe_option;\n\tu8 country_code[2];\n\tu8 res[3];\n\tunion {\n\t\tstruct rtw8723de_efuse e;\n\t\tstruct rtw8723du_efuse u;\n\t\tstruct rtw8723ds_efuse s;\n\t};\n};\n\nextern const struct rtw_chip_info rtw8723d_hw_spec;\n\n \n#define GET_PHY_STAT_P0_PWDB(phy_stat)                                         \\\n\tle32_get_bits(*((__le32 *)(phy_stat) + 0x00), GENMASK(15, 8))\n\n \n#define GET_PHY_STAT_P1_PWDB_A(phy_stat)                                       \\\n\tle32_get_bits(*((__le32 *)(phy_stat) + 0x00), GENMASK(15, 8))\n#define GET_PHY_STAT_P1_PWDB_B(phy_stat)                                       \\\n\tle32_get_bits(*((__le32 *)(phy_stat) + 0x00), GENMASK(23, 16))\n#define GET_PHY_STAT_P1_RF_MODE(phy_stat)                                      \\\n\tle32_get_bits(*((__le32 *)(phy_stat) + 0x03), GENMASK(29, 28))\n#define GET_PHY_STAT_P1_L_RXSC(phy_stat)                                       \\\n\tle32_get_bits(*((__le32 *)(phy_stat) + 0x01), GENMASK(11, 8))\n#define GET_PHY_STAT_P1_HT_RXSC(phy_stat)                                      \\\n\tle32_get_bits(*((__le32 *)(phy_stat) + 0x01), GENMASK(15, 12))\n#define GET_PHY_STAT_P1_RXEVM_A(phy_stat)                                      \\\n\tle32_get_bits(*((__le32 *)(phy_stat) + 0x04), GENMASK(7, 0))\n#define GET_PHY_STAT_P1_CFO_TAIL_A(phy_stat)                                   \\\n\tle32_get_bits(*((__le32 *)(phy_stat) + 0x05), GENMASK(7, 0))\n#define GET_PHY_STAT_P1_RXSNR_A(phy_stat)                                      \\\n\tle32_get_bits(*((__le32 *)(phy_stat) + 0x06), GENMASK(7, 0))\n\nstatic inline s32 iqkxy_to_s32(s32 val)\n{\n\t \n\treturn sign_extend32(val, 9);\n}\n\nstatic inline s32 iqk_mult(s32 x, s32 y, s32 *ext)\n{\n\t \n\ts32 t;\n\n\tt = x * y;\n\tif (ext)\n\t\t*ext = (t >> 7) & 0x1;\t \n\n\treturn (t >> 8);\t \n}\n\n#define OFDM_SWING_A(swing)\t\tFIELD_GET(GENMASK(9, 0), swing)\n#define OFDM_SWING_B(swing)\t\tFIELD_GET(GENMASK(15, 10), swing)\n#define OFDM_SWING_C(swing)\t\tFIELD_GET(GENMASK(21, 16), swing)\n#define OFDM_SWING_D(swing)\t\tFIELD_GET(GENMASK(31, 22), swing)\n#define RTW_DEF_OFDM_SWING_INDEX\t28\n#define RTW_DEF_CCK_SWING_INDEX\t\t28\n\n#define MAX_TOLERANCE\t5\n#define IQK_TX_X_ERR\t0x142\n#define IQK_TX_Y_ERR\t0x42\n#define IQK_RX_X_UPPER\t0x11a\n#define IQK_RX_X_LOWER\t0xe6\n#define IQK_RX_Y_LMT\t0x1a\n#define IQK_TX_OK\tBIT(0)\n#define IQK_RX_OK\tBIT(1)\n#define PATH_IQK_RETRY\t2\n\n#define SPUR_THRES\t\t0x16\n#define CCK_DFIR_NR\t\t3\n#define DIS_3WIRE\t\t0xccf000c0\n#define EN_3WIRE\t\t0xccc000c0\n#define START_PSD\t\t0x400000\n#define FREQ_CH13\t\t0xfccd\n#define FREQ_CH14\t\t0xff9a\n#define RFCFGCH_CHANNEL_MASK\tGENMASK(7, 0)\n#define RFCFGCH_BW_MASK\t\t(BIT(11) | BIT(10))\n#define RFCFGCH_BW_20M\t\t(BIT(11) | BIT(10))\n#define RFCFGCH_BW_40M\t\tBIT(10)\n#define BIT_MASK_RFMOD\t\tBIT(0)\n#define BIT_LCK\t\t\tBIT(15)\n\n#define REG_GPIO_INTM\t\t0x0048\n#define REG_BTG_SEL\t\t0x0067\n#define BIT_MASK_BTG_WL\t\tBIT(7)\n#define REG_LTECOEX_PATH_CONTROL\t0x0070\n#define REG_LTECOEX_CTRL\t0x07c0\n#define REG_LTECOEX_WRITE_DATA\t0x07c4\n#define REG_LTECOEX_READ_DATA\t0x07c8\n#define REG_PSDFN\t\t0x0808\n#define REG_BB_PWR_SAV1_11N\t0x0874\n#define REG_ANA_PARAM1\t\t0x0880\n#define REG_ANALOG_P4\t\t0x088c\n#define REG_PSDRPT\t\t0x08b4\n#define REG_FPGA1_RFMOD\t\t0x0900\n#define REG_BB_SEL_BTG\t\t0x0948\n#define REG_BBRX_DFIR\t\t0x0954\n#define BIT_MASK_RXBB_DFIR\tGENMASK(27, 24)\n#define BIT_RXBB_DFIR_EN\tBIT(19)\n#define REG_CCK0_SYS\t\t0x0a00\n#define BIT_CCK_SIDE_BAND\tBIT(4)\n#define REG_CCK_ANT_SEL_11N\t0x0a04\n#define REG_PWRTH\t\t0x0a08\n#define REG_CCK_FA_RST_11N\t0x0a2c\n#define BIT_MASK_CCK_CNT_KEEP\tBIT(12)\n#define BIT_MASK_CCK_CNT_EN\tBIT(13)\n#define BIT_MASK_CCK_CNT_KPEN\t(BIT_MASK_CCK_CNT_KEEP | BIT_MASK_CCK_CNT_EN)\n#define BIT_MASK_CCK_FA_KEEP\tBIT(14)\n#define BIT_MASK_CCK_FA_EN\tBIT(15)\n#define BIT_MASK_CCK_FA_KPEN\t(BIT_MASK_CCK_FA_KEEP | BIT_MASK_CCK_FA_EN)\n#define REG_CCK_FA_LSB_11N\t0x0a5c\n#define REG_CCK_FA_MSB_11N\t0x0a58\n#define REG_CCK_CCA_CNT_11N\t0x0a60\n#define BIT_MASK_CCK_FA_MSB\tGENMASK(7, 0)\n#define BIT_MASK_CCK_FA_LSB\tGENMASK(15, 8)\n#define REG_PWRTH2\t\t0x0aa8\n#define REG_CSRATIO\t\t0x0aaa\n#define REG_OFDM_FA_HOLDC_11N\t0x0c00\n#define BIT_MASK_OFDM_FA_KEEP\tBIT(31)\n#define REG_BB_RX_PATH_11N\t0x0c04\n#define REG_TRMUX_11N\t\t0x0c08\n#define REG_OFDM_FA_RSTC_11N\t0x0c0c\n#define BIT_MASK_OFDM_FA_RST\tBIT(31)\n#define REG_A_RXIQI\t\t0x0c14\n#define BIT_MASK_RXIQ_S1_X\t0x000003FF\n#define BIT_MASK_RXIQ_S1_Y1\t0x0000FC00\n#define BIT_SET_RXIQ_S1_Y1(y)\t((y) & 0x3F)\n#define REG_OFDM0_RXDSP\t\t0x0c40\n#define BIT_MASK_RXDSP\t\tGENMASK(28, 24)\n#define BIT_EN_RXDSP\t\tBIT(9)\n#define REG_OFDM_0_ECCA_THRESHOLD\t0x0c4c\n#define BIT_MASK_OFDM0_EXT_A\tBIT(31)\n#define BIT_MASK_OFDM0_EXT_C\tBIT(29)\n#define BIT_MASK_OFDM0_EXTS\t(BIT(31) | BIT(29) | BIT(28))\n#define BIT_SET_OFDM0_EXTS(a, c, d) (((a) << 31) | ((c) << 29) | ((d) << 28))\n#define REG_OFDM0_XAAGC1\t0x0c50\n#define REG_OFDM0_XBAGC1\t0x0c58\n#define REG_AGCRSSI\t\t0x0c78\n#define REG_OFDM_0_XA_TX_IQ_IMBALANCE\t0x0c80\n#define BIT_MASK_TXIQ_ELM_A\t0x03ff\n#define BIT_SET_TXIQ_ELM_ACD(a, c, d) (((d) << 22) | (((c) & 0x3F) << 16) |    \\\n\t\t\t\t       ((a) & 0x03ff))\n#define BIT_MASK_TXIQ_ELM_C\tGENMASK(21, 16)\n#define BIT_SET_TXIQ_ELM_C2(c)\t((c) & 0x3F)\n#define BIT_MASK_TXIQ_ELM_D\tGENMASK(31, 22)\n#define REG_TXIQK_MATRIXA_LSB2_11N\t0x0c94\n#define BIT_SET_TXIQ_ELM_C1(c)\t(((c) & 0x000003C0) >> 6)\n#define REG_RXIQK_MATRIX_LSB_11N\t0x0ca0\n#define BIT_MASK_RXIQ_S1_Y2\t0xF0000000\n#define BIT_SET_RXIQ_S1_Y2(y)\t(((y) >> 6) & 0xF)\n#define REG_TXIQ_AB_S0\t\t0x0cd0\n#define BIT_MASK_TXIQ_A_S0\t0x000007FE\n#define BIT_MASK_TXIQ_A_EXT_S0\tBIT(0)\n#define BIT_MASK_TXIQ_B_S0\t0x0007E000\n#define REG_TXIQ_CD_S0\t\t0x0cd4\n#define BIT_MASK_TXIQ_C_S0\t0x000007FE\n#define BIT_MASK_TXIQ_C_EXT_S0\tBIT(0)\n#define BIT_MASK_TXIQ_D_S0\tGENMASK(22, 13)\n#define BIT_MASK_TXIQ_D_EXT_S0\tBIT(12)\n#define REG_RXIQ_AB_S0\t\t0x0cd8\n#define BIT_MASK_RXIQ_X_S0\t0x000003FF\n#define BIT_MASK_RXIQ_Y_S0\t0x003FF000\n#define REG_OFDM_FA_TYPE1_11N\t0x0cf0\n#define BIT_MASK_OFDM_FF_CNT\tGENMASK(15, 0)\n#define BIT_MASK_OFDM_SF_CNT\tGENMASK(31, 16)\n#define REG_OFDM_FA_RSTD_11N\t0x0d00\n#define BIT_MASK_OFDM_FA_RST1\tBIT(27)\n#define BIT_MASK_OFDM_FA_KEEP1\tBIT(31)\n#define REG_CTX\t\t\t0x0d03\n#define BIT_MASK_CTX_TYPE\tGENMASK(6, 4)\n#define REG_OFDM1_CFOTRK\t0x0d2c\n#define BIT_EN_CFOTRK\t\tBIT(28)\n#define REG_OFDM1_CSI1\t\t0x0d40\n#define REG_OFDM1_CSI2\t\t0x0d44\n#define REG_OFDM1_CSI3\t\t0x0d48\n#define REG_OFDM1_CSI4\t\t0x0d4c\n#define REG_OFDM_FA_TYPE2_11N\t0x0da0\n#define BIT_MASK_OFDM_CCA_CNT\tGENMASK(15, 0)\n#define BIT_MASK_OFDM_PF_CNT\tGENMASK(31, 16)\n#define REG_OFDM_FA_TYPE3_11N\t0x0da4\n#define BIT_MASK_OFDM_RI_CNT\tGENMASK(15, 0)\n#define BIT_MASK_OFDM_CRC_CNT\tGENMASK(31, 16)\n#define REG_OFDM_FA_TYPE4_11N\t0x0da8\n#define BIT_MASK_OFDM_MNS_CNT\tGENMASK(15, 0)\n#define REG_FPGA0_IQK_11N\t0x0e28\n#define BIT_MASK_IQK_MOD\t0xffffff00\n#define EN_IQK\t\t\t0x808000\n#define RST_IQK\t\t\t0x000000\n#define REG_TXIQK_TONE_A_11N\t0x0e30\n#define REG_RXIQK_TONE_A_11N\t0x0e34\n#define REG_TXIQK_PI_A_11N\t0x0e38\n#define REG_RXIQK_PI_A_11N\t0x0e3c\n#define REG_TXIQK_11N\t\t0x0e40\n#define BIT_SET_TXIQK_11N(x, y)\t(0x80007C00 | ((x) << 16) | (y))\n#define REG_RXIQK_11N\t\t0x0e44\n#define REG_IQK_AGC_PTS_11N\t0x0e48\n#define REG_IQK_AGC_RSP_11N\t0x0e4c\n#define REG_TX_IQK_TONE_B\t0x0e50\n#define REG_RX_IQK_TONE_B\t0x0e54\n#define REG_IQK_RES_TX\t\t0x0e94\n#define BIT_MASK_RES_TX\t\tGENMASK(25, 16)\n#define REG_IQK_RES_TY\t\t0x0e9c\n#define BIT_MASK_RES_TY\t\tGENMASK(25, 16)\n#define REG_IQK_RES_RX\t\t0x0ea4\n#define BIT_MASK_RES_RX\t\tGENMASK(25, 16)\n#define REG_IQK_RES_RY\t\t0x0eac\n#define BIT_IQK_TX_FAIL\t\tBIT(28)\n#define BIT_IQK_RX_FAIL\t\tBIT(27)\n#define BIT_IQK_DONE\t\tBIT(26)\n#define BIT_MASK_RES_RY\t\tGENMASK(25, 16)\n#define REG_PAGE_F_RST_11N\t\t0x0f14\n#define BIT_MASK_F_RST_ALL\t\tBIT(16)\n#define REG_IGI_C_11N\t\t\t0x0f84\n#define REG_IGI_D_11N\t\t\t0x0f88\n#define REG_HT_CRC32_CNT_11N\t\t0x0f90\n#define BIT_MASK_HT_CRC_OK\t\tGENMASK(15, 0)\n#define BIT_MASK_HT_CRC_ERR\t\tGENMASK(31, 16)\n#define REG_OFDM_CRC32_CNT_11N\t\t0x0f94\n#define BIT_MASK_OFDM_LCRC_OK\t\tGENMASK(15, 0)\n#define BIT_MASK_OFDM_LCRC_ERR\t\tGENMASK(31, 16)\n#define REG_HT_CRC32_CNT_11N_AGG\t0x0fb8\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}