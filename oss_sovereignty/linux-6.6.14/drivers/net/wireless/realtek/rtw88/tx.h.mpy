{
  "module_name": "tx.h",
  "hash_id": "7cd0bc164edd11dc14fcf81798110ee03ea9dbdc7c92d282e0194198a012df6a",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/realtek/rtw88/tx.h",
  "human_readable_source": " \n \n\n#ifndef __RTW_TX_H_\n#define __RTW_TX_H_\n\n#define RTK_TX_MAX_AGG_NUM_MASK\t\t0x1f\n\n#define RTW_TX_PROBE_TIMEOUT\t\tmsecs_to_jiffies(500)\n\nstruct rtw_tx_desc {\n\t__le32 w0;\n\t__le32 w1;\n\t__le32 w2;\n\t__le32 w3;\n\t__le32 w4;\n\t__le32 w5;\n\t__le32 w6;\n\t__le32 w7;\n\t__le32 w8;\n\t__le32 w9;\n} __packed;\n\n#define RTW_TX_DESC_W0_TXPKTSIZE GENMASK(15, 0)\n#define RTW_TX_DESC_W0_OFFSET GENMASK(23, 16)\n#define RTW_TX_DESC_W0_BMC BIT(24)\n#define RTW_TX_DESC_W0_LS BIT(26)\n#define RTW_TX_DESC_W0_DISQSELSEQ BIT(31)\n#define RTW_TX_DESC_W1_QSEL GENMASK(12, 8)\n#define RTW_TX_DESC_W1_RATE_ID GENMASK(20, 16)\n#define RTW_TX_DESC_W1_SEC_TYPE GENMASK(23, 22)\n#define RTW_TX_DESC_W1_PKT_OFFSET GENMASK(28, 24)\n#define RTW_TX_DESC_W1_MORE_DATA BIT(29)\n#define RTW_TX_DESC_W2_AGG_EN BIT(12)\n#define RTW_TX_DESC_W2_SPE_RPT BIT(19)\n#define RTW_TX_DESC_W2_AMPDU_DEN GENMASK(22, 20)\n#define RTW_TX_DESC_W2_BT_NULL BIT(23)\n#define RTW_TX_DESC_W3_HW_SSN_SEL GENMASK(7, 6)\n#define RTW_TX_DESC_W3_USE_RATE BIT(8)\n#define RTW_TX_DESC_W3_DISDATAFB BIT(10)\n#define RTW_TX_DESC_W3_USE_RTS BIT(12)\n#define RTW_TX_DESC_W3_NAVUSEHDR BIT(15)\n#define RTW_TX_DESC_W3_MAX_AGG_NUM GENMASK(21, 17)\n#define RTW_TX_DESC_W4_DATARATE GENMASK(6, 0)\n#define RTW_TX_DESC_W4_RTSRATE GENMASK(28, 24)\n#define RTW_TX_DESC_W5_DATA_SHORT BIT(4)\n#define RTW_TX_DESC_W5_DATA_BW GENMASK(6, 5)\n#define RTW_TX_DESC_W5_DATA_LDPC BIT(7)\n#define RTW_TX_DESC_W5_DATA_STBC GENMASK(9, 8)\n#define RTW_TX_DESC_W5_DATA_RTS_SHORT BIT(12)\n#define RTW_TX_DESC_W6_SW_DEFINE GENMASK(11, 0)\n#define RTW_TX_DESC_W7_TXDESC_CHECKSUM GENMASK(15, 0)\n#define RTW_TX_DESC_W7_DMA_TXAGG_NUM GENMASK(31, 24)\n#define RTW_TX_DESC_W8_EN_HWSEQ BIT(15)\n#define RTW_TX_DESC_W9_SW_SEQ GENMASK(23, 12)\n#define RTW_TX_DESC_W9_TIM_EN BIT(7)\n#define RTW_TX_DESC_W9_TIM_OFFSET GENMASK(6, 0)\n\nenum rtw_tx_desc_queue_select {\n\tTX_DESC_QSEL_TID0\t= 0,\n\tTX_DESC_QSEL_TID1\t= 1,\n\tTX_DESC_QSEL_TID2\t= 2,\n\tTX_DESC_QSEL_TID3\t= 3,\n\tTX_DESC_QSEL_TID4\t= 4,\n\tTX_DESC_QSEL_TID5\t= 5,\n\tTX_DESC_QSEL_TID6\t= 6,\n\tTX_DESC_QSEL_TID7\t= 7,\n\tTX_DESC_QSEL_TID8\t= 8,\n\tTX_DESC_QSEL_TID9\t= 9,\n\tTX_DESC_QSEL_TID10\t= 10,\n\tTX_DESC_QSEL_TID11\t= 11,\n\tTX_DESC_QSEL_TID12\t= 12,\n\tTX_DESC_QSEL_TID13\t= 13,\n\tTX_DESC_QSEL_TID14\t= 14,\n\tTX_DESC_QSEL_TID15\t= 15,\n\tTX_DESC_QSEL_BEACON\t= 16,\n\tTX_DESC_QSEL_HIGH\t= 17,\n\tTX_DESC_QSEL_MGMT\t= 18,\n\tTX_DESC_QSEL_H2C\t= 19,\n};\n\nenum rtw_rsvd_packet_type;\n\nvoid rtw_tx(struct rtw_dev *rtwdev,\n\t    struct ieee80211_tx_control *control,\n\t    struct sk_buff *skb);\nvoid rtw_txq_init(struct rtw_dev *rtwdev, struct ieee80211_txq *txq);\nvoid rtw_txq_cleanup(struct rtw_dev *rtwdev, struct ieee80211_txq *txq);\nvoid rtw_tx_work(struct work_struct *w);\nvoid __rtw_tx_work(struct rtw_dev *rtwdev);\nvoid rtw_tx_pkt_info_update(struct rtw_dev *rtwdev,\n\t\t\t    struct rtw_tx_pkt_info *pkt_info,\n\t\t\t    struct ieee80211_sta *sta,\n\t\t\t    struct sk_buff *skb);\nvoid rtw_tx_fill_tx_desc(struct rtw_tx_pkt_info *pkt_info, struct sk_buff *skb);\nvoid rtw_tx_report_enqueue(struct rtw_dev *rtwdev, struct sk_buff *skb, u8 sn);\nvoid rtw_tx_report_handle(struct rtw_dev *rtwdev, struct sk_buff *skb, int src);\nvoid rtw_tx_rsvd_page_pkt_info_update(struct rtw_dev *rtwdev,\n\t\t\t\t      struct rtw_tx_pkt_info *pkt_info,\n\t\t\t\t      struct sk_buff *skb,\n\t\t\t\t      enum rtw_rsvd_packet_type type);\nstruct sk_buff *\nrtw_tx_write_data_rsvd_page_get(struct rtw_dev *rtwdev,\n\t\t\t\tstruct rtw_tx_pkt_info *pkt_info,\n\t\t\t\tu8 *buf, u32 size);\nstruct sk_buff *\nrtw_tx_write_data_h2c_get(struct rtw_dev *rtwdev,\n\t\t\t  struct rtw_tx_pkt_info *pkt_info,\n\t\t\t  u8 *buf, u32 size);\n\nenum rtw_tx_queue_type rtw_tx_ac_to_hwq(enum ieee80211_ac_numbers ac);\nenum rtw_tx_queue_type rtw_tx_queue_mapping(struct sk_buff *skb);\n\nstatic inline\nvoid fill_txdesc_checksum_common(u8 *txdesc, size_t words)\n{\n\t__le16 chksum = 0;\n\t__le16 *data = (__le16 *)(txdesc);\n\tstruct rtw_tx_desc *tx_desc = (struct rtw_tx_desc *)txdesc;\n\n\tle32p_replace_bits(&tx_desc->w7, 0, RTW_TX_DESC_W7_TXDESC_CHECKSUM);\n\n\twhile (words--)\n\t\tchksum ^= *data++;\n\n\tle32p_replace_bits(&tx_desc->w7, __le16_to_cpu(chksum),\n\t\t\t   RTW_TX_DESC_W7_TXDESC_CHECKSUM);\n}\n\nstatic inline void rtw_tx_fill_txdesc_checksum(struct rtw_dev *rtwdev,\n\t\t\t\t\t       struct rtw_tx_pkt_info *pkt_info,\n\t\t\t\t\t       u8 *txdesc)\n{\n\tconst struct rtw_chip_info *chip = rtwdev->chip;\n\n\tchip->ops->fill_txdesc_checksum(rtwdev, pkt_info, txdesc);\n}\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}