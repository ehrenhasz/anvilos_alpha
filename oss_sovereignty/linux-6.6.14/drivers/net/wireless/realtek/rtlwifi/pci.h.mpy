{
  "module_name": "pci.h",
  "hash_id": "3db63fc76f4863de1c2ef9fab4b205f7441b2c7300e671dff3804449c3326729",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/realtek/rtlwifi/pci.h",
  "human_readable_source": " \n \n\n#ifndef __RTL_PCI_H__\n#define __RTL_PCI_H__\n\n#include <linux/pci.h>\n \n#define RTL_PCI_RX_MPDU_QUEUE\t\t\t0\n#define RTL_PCI_RX_CMD_QUEUE\t\t\t1\n#define RTL_PCI_MAX_RX_QUEUE\t\t\t2\n\n#define RTL_PCI_MAX_RX_COUNT\t\t\t512 \n#define RTL_PCI_MAX_TX_QUEUE_COUNT\t\t9\n\n#define RT_TXDESC_NUM\t\t\t\t128\n#define TX_DESC_NUM_92E\t\t\t\t512\n#define TX_DESC_NUM_8822B\t\t\t512\n#define RT_TXDESC_NUM_BE_QUEUE\t\t\t256\n\n#define BK_QUEUE\t\t\t\t0\n#define BE_QUEUE\t\t\t\t1\n#define VI_QUEUE\t\t\t\t2\n#define VO_QUEUE\t\t\t\t3\n#define BEACON_QUEUE\t\t\t\t4\n#define TXCMD_QUEUE\t\t\t\t5\n#define MGNT_QUEUE\t\t\t\t6\n#define HIGH_QUEUE\t\t\t\t7\n#define HCCA_QUEUE\t\t\t\t8\n#define H2C_QUEUE\t\t\t\tTXCMD_QUEUE\t \n\n#define RTL_PCI_DEVICE(vend, dev, cfg)  \\\n\t.vendor = (vend), \\\n\t.device = (dev), \\\n\t.subvendor = PCI_ANY_ID, \\\n\t.subdevice = PCI_ANY_ID,\\\n\t.driver_data = (kernel_ulong_t)&(cfg)\n\n#define INTEL_VENDOR_ID\t\t\t\t0x8086\n#define SIS_VENDOR_ID\t\t\t\t0x1039\n#define ATI_VENDOR_ID\t\t\t\t0x1002\n#define ATI_DEVICE_ID\t\t\t\t0x7914\n#define AMD_VENDOR_ID\t\t\t\t0x1022\n\n#define PCI_MAX_BRIDGE_NUMBER\t\t\t255\n#define PCI_MAX_DEVICES\t\t\t\t32\n#define PCI_MAX_FUNCTION\t\t\t8\n\n#define PCI_CONF_ADDRESS\t0x0CF8\t \n#define PCI_CONF_DATA\t\t0x0CFC\t \n\n#define PCI_CLASS_BRIDGE_DEV\t\t0x06\n#define PCI_SUBCLASS_BR_PCI_TO_PCI\t0x04\n#define PCI_CAPABILITY_ID_PCI_EXPRESS\t0x10\n#define PCI_CAP_ID_EXP\t\t\t0x10\n\n#define U1DONTCARE\t\t\t0xFF\n#define U2DONTCARE\t\t\t0xFFFF\n#define U4DONTCARE\t\t\t0xFFFFFFFF\n\n#define RTL_PCI_8192_DID\t0x8192\t \n#define RTL_PCI_8192SE_DID\t0x8192\t \n#define RTL_PCI_8174_DID\t0x8174\t \n#define RTL_PCI_8173_DID\t0x8173\t \n#define RTL_PCI_8172_DID\t0x8172\t \n#define RTL_PCI_8171_DID\t0x8171\t \n#define RTL_PCI_8723AE_DID\t0x8723\t \n#define RTL_PCI_0045_DID\t0x0045\t \n#define RTL_PCI_0046_DID\t0x0046\t \n#define RTL_PCI_0044_DID\t0x0044\t \n#define RTL_PCI_0047_DID\t0x0047\t \n#define RTL_PCI_700F_DID\t0x700F\n#define RTL_PCI_701F_DID\t0x701F\n#define RTL_PCI_DLINK_DID\t0x3304\n#define RTL_PCI_8723AE_DID\t0x8723\t \n#define RTL_PCI_8192CET_DID\t0x8191\t \n#define RTL_PCI_8192CE_DID\t0x8178\t \n#define RTL_PCI_8191CE_DID\t0x8177\t \n#define RTL_PCI_8188CE_DID\t0x8176\t \n#define RTL_PCI_8192CU_DID\t0x8191\t \n#define RTL_PCI_8192DE_DID\t0x8193\t \n#define RTL_PCI_8192DE_DID2\t0x002B\t \n#define RTL_PCI_8188EE_DID\t0x8179   \n#define RTL_PCI_8723BE_DID\t0xB723   \n#define RTL_PCI_8192EE_DID\t0x818B\t \n#define RTL_PCI_8821AE_DID\t0x8821\t \n#define RTL_PCI_8812AE_DID\t0x8812\t \n#define RTL_PCI_8822BE_DID\t0xB822\t \n\n \n#define RTL_MEM_MAPPED_IO_RANGE_8190PCI\t\t0x1000\n#define RTL_MEM_MAPPED_IO_RANGE_8192PCIE\t0x4000\n#define RTL_MEM_MAPPED_IO_RANGE_8192SE\t\t0x4000\n#define RTL_MEM_MAPPED_IO_RANGE_8192CE\t\t0x4000\n#define RTL_MEM_MAPPED_IO_RANGE_8192DE\t\t0x4000\n\n#define RTL_PCI_REVISION_ID_8190PCI\t\t0x00\n#define RTL_PCI_REVISION_ID_8192PCIE\t\t0x01\n#define RTL_PCI_REVISION_ID_8192SE\t\t0x10\n#define RTL_PCI_REVISION_ID_8192CE\t\t0x1\n#define RTL_PCI_REVISION_ID_8192DE\t\t0x0\n\n#define RTL_DEFAULT_HARDWARE_TYPE\tHARDWARE_TYPE_RTL8192CE\n\nenum pci_bridge_vendor {\n\tPCI_BRIDGE_VENDOR_INTEL = 0x0,\t \n\tPCI_BRIDGE_VENDOR_ATI,\t\t \n\tPCI_BRIDGE_VENDOR_AMD,\t\t \n\tPCI_BRIDGE_VENDOR_SIS,\t\t \n\tPCI_BRIDGE_VENDOR_UNKNOWN,\t \n\tPCI_BRIDGE_VENDOR_MAX,\n};\n\nstruct rtl_pci_capabilities_header {\n\tu8 capability_id;\n\tu8 next;\n};\n\n \nstruct rtl_tx_buffer_desc {\n\tu32 dword[4 * (1 << (BUFDESC_SEG_NUM + 1))];\n} __packed;\n\nstruct rtl_tx_desc {\n\tu32 dword[16];\n} __packed;\n\nstruct rtl_rx_buffer_desc {  \n\tu32 dword[4];\n} __packed;\n\nstruct rtl_rx_desc {  \n\tu32 dword[8];\n} __packed;\n\nstruct rtl_tx_cmd_desc {\n\tu32 dword[16];\n} __packed;\n\nstruct rtl8192_tx_ring {\n\tstruct rtl_tx_desc *desc;\n\tdma_addr_t dma;\n\tunsigned int idx;\n\tunsigned int entries;\n\tstruct sk_buff_head queue;\n\t \n\tstruct rtl_tx_buffer_desc *buffer_desc;  \n\tdma_addr_t buffer_desc_dma;  \n\tu16 cur_tx_wp;  \n\tu16 cur_tx_rp;  \n};\n\nstruct rtl8192_rx_ring {\n\tstruct rtl_rx_desc *desc;\n\tdma_addr_t dma;\n\tunsigned int idx;\n\tstruct sk_buff *rx_buf[RTL_PCI_MAX_RX_COUNT];\n\t \n\tstruct rtl_rx_buffer_desc *buffer_desc;  \n\tu16 next_rx_rp;  \n};\n\nstruct rtl_pci {\n\tstruct pci_dev *pdev;\n\tbool irq_enabled;\n\n\tbool driver_is_goingto_unload;\n\tbool up_first_time;\n\tbool first_init;\n\tbool being_init_adapter;\n\tbool init_ready;\n\n\t \n\tstruct rtl8192_tx_ring tx_ring[RTL_PCI_MAX_TX_QUEUE_COUNT];\n\tint txringcount[RTL_PCI_MAX_TX_QUEUE_COUNT];\n\tu32 transmit_config;\n\n\t \n\tstruct rtl8192_rx_ring rx_ring[RTL_PCI_MAX_RX_QUEUE];\n\tint rxringcount;\n\tu16 rxbuffersize;\n\tu32 receive_config;\n\n\t \n\tu8 irq_alloc;\n\tu32 irq_mask[4];\t \n\tu32 sys_irq_mask;\n\n\t \n\tu32 reg_bcn_ctrl_val;\n\n\t   u8 const_pci_aspm;\n\tu8 const_amdpci_aspm;\n\tu8 const_hwsw_rfoff_d3;\n\tu8 const_support_pciaspm;\n\t \n\tu8 const_hostpci_aspm_setting;\n\t \n\tu8 const_devicepci_aspm_setting;\n\t \n\tbool support_aspm;\n\tbool support_backdoor;\n\n\t \n\tenum acm_method acm_method;\n\n\tu16 shortretry_limit;\n\tu16 longretry_limit;\n\n\t \n\tbool msi_support;\n\tbool using_msi;\n\t \n\tbool int_clear;\n};\n\nstruct mp_adapter {\n\tu8 linkctrl_reg;\n\n\tu8 busnumber;\n\tu8 devnumber;\n\tu8 funcnumber;\n\n\tu8 pcibridge_busnum;\n\tu8 pcibridge_devnum;\n\tu8 pcibridge_funcnum;\n\n\tu8 pcibridge_vendor;\n\tu16 pcibridge_vendorid;\n\tu16 pcibridge_deviceid;\n\n\tbool amd_l1_patch;\n};\n\nstruct rtl_pci_priv {\n\tstruct bt_coexist_info bt_coexist;\n\tstruct rtl_led_ctl ledctl;\n\tstruct rtl_pci dev;\n\tstruct mp_adapter ndis_adapter;\n};\n\n#define rtl_pcipriv(hw)\t\t(((struct rtl_pci_priv *)(rtl_priv(hw))->priv))\n#define rtl_pcidev(pcipriv)\t(&((pcipriv)->dev))\n\nint rtl_pci_reset_trx_ring(struct ieee80211_hw *hw);\n\nextern const struct rtl_intf_ops rtl_pci_ops;\n\nint rtl_pci_probe(struct pci_dev *pdev,\n\t\t  const struct pci_device_id *id);\nvoid rtl_pci_disconnect(struct pci_dev *pdev);\n#ifdef CONFIG_PM_SLEEP\nint rtl_pci_suspend(struct device *dev);\nint rtl_pci_resume(struct device *dev);\n#endif  \nstatic inline u8 pci_read8_sync(struct rtl_priv *rtlpriv, u32 addr)\n{\n\treturn readb((u8 __iomem *)rtlpriv->io.pci_mem_start + addr);\n}\n\nstatic inline u16 pci_read16_sync(struct rtl_priv *rtlpriv, u32 addr)\n{\n\treturn readw((u8 __iomem *)rtlpriv->io.pci_mem_start + addr);\n}\n\nstatic inline u32 pci_read32_sync(struct rtl_priv *rtlpriv, u32 addr)\n{\n\treturn readl((u8 __iomem *)rtlpriv->io.pci_mem_start + addr);\n}\n\nstatic inline void pci_write8_async(struct rtl_priv *rtlpriv, u32 addr, u8 val)\n{\n\twriteb(val, (u8 __iomem *)rtlpriv->io.pci_mem_start + addr);\n}\n\nstatic inline void pci_write16_async(struct rtl_priv *rtlpriv,\n\t\t\t\t     u32 addr, u16 val)\n{\n\twritew(val, (u8 __iomem *)rtlpriv->io.pci_mem_start + addr);\n}\n\nstatic inline void pci_write32_async(struct rtl_priv *rtlpriv,\n\t\t\t\t     u32 addr, u32 val)\n{\n\twritel(val, (u8 __iomem *)rtlpriv->io.pci_mem_start + addr);\n}\n\nstatic inline u16 calc_fifo_space(u16 rp, u16 wp, u16 size)\n{\n\tif (rp <= wp)\n\t\treturn size - 1 + rp - wp;\n\treturn rp - wp - 1;\n}\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}