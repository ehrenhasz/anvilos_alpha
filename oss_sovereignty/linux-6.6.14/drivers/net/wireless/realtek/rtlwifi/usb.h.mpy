{
  "module_name": "usb.h",
  "hash_id": "2d167688302295fb8cbf9ee87c06f8236eecdb1e4e4176506bfd2165b48f9260",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/realtek/rtlwifi/usb.h",
  "human_readable_source": " \n \n\n#ifndef __RTL_USB_H__\n#define __RTL_USB_H__\n\n#include <linux/skbuff.h>\n\n#define RTL_RX_DESC_SIZE\t\t24\n\n#define RTL_USB_DEVICE(vend, prod, cfg) \\\n\t.match_flags = USB_DEVICE_ID_MATCH_DEVICE, \\\n\t.idVendor = (vend), \\\n\t.idProduct = (prod), \\\n\t.driver_info = (kernel_ulong_t)&(cfg)\n\n#define USB_HIGH_SPEED_BULK_SIZE\t512\n#define USB_FULL_SPEED_BULK_SIZE\t64\n\n#define RTL_USB_MAX_TXQ_NUM\t\t4\t\t \n#define RTL_USB_MAX_EP_NUM\t\t6\t\t \n#define RTL_USB_MAX_TX_URBS_NUM\t\t8\n\nenum rtl_txq {\n\t \n\tRTL_TXQ_BK,\n\tRTL_TXQ_BE,\n\tRTL_TXQ_VI,\n\tRTL_TXQ_VO,\n\t \n\tRTL_TXQ_BCN,\n\tRTL_TXQ_MGT,\n\tRTL_TXQ_HI,\n\n\t \n\t__RTL_TXQ_NUM,\n};\n\nstruct rtl_ep_map {\n\tu32 ep_mapping[__RTL_TXQ_NUM];\n};\n\nstruct _trx_info {\n\tstruct rtl_usb *rtlusb;\n\tu32 ep_num;\n};\n\nstatic inline void _rtl_install_trx_info(struct rtl_usb *rtlusb,\n\t\t\t\t\t struct sk_buff *skb,\n\t\t\t\t\t u32 ep_num)\n{\n\tstruct ieee80211_tx_info *info = IEEE80211_SKB_CB(skb);\n\n\tinfo->rate_driver_data[0] = rtlusb;\n\tinfo->rate_driver_data[1] = (void *)(__kernel_size_t)ep_num;\n}\n\n \nenum rtl_usb_state {\n\tUSB_STATE_STOP\t= 0,\n\tUSB_STATE_START\t= 1,\n};\n\n#define IS_USB_STOP(rtlusb_ptr) (USB_STATE_STOP == (rtlusb_ptr)->state)\n#define IS_USB_START(rtlusb_ptr) (USB_STATE_START == (rtlusb_ptr)->state)\n#define SET_USB_STOP(rtlusb_ptr) \\\n\tdo {\t\t\t\t\t\t\t\\\n\t\t(rtlusb_ptr)->state = USB_STATE_STOP;\t\t\\\n\t} while (0)\n\n#define SET_USB_START(rtlusb_ptr)\t\t\t\t\\\n\tdo { \\\n\t\t(rtlusb_ptr)->state = USB_STATE_START;\t\t\\\n\t} while (0)\n\nstruct rtl_usb {\n\tstruct usb_device *udev;\n\tstruct usb_interface *intf;\n\tenum rtl_usb_state state;\n\n\t \n\tu32 reg_bcn_ctrl_val;\n\t \n\tu8\tdisablehwsm;\n\t \n\tenum acm_method acm_method;\n\t \n\tu32 irq_mask[2];\n\tbool irq_enabled;\n\n\tu16 (*usb_mq_to_hwq)(__le16 fc, u16 mac80211_queue_index);\n\n\t \n\tu8 out_ep_nums ;\n\tu8 out_queue_sel;\n\tstruct rtl_ep_map ep_map;\n\n\tu32 max_bulk_out_size;\n\tu32 tx_submitted_urbs;\n\tstruct sk_buff_head tx_skb_queue[RTL_USB_MAX_EP_NUM];\n\n\tstruct usb_anchor tx_pending[RTL_USB_MAX_EP_NUM];\n\tstruct usb_anchor tx_submitted;\n\n\tstruct sk_buff *(*usb_tx_aggregate_hdl)(struct ieee80211_hw *,\n\t\t\t\t\t\tstruct sk_buff_head *);\n\tint (*usb_tx_post_hdl)(struct ieee80211_hw *,\n\t\t\t       struct urb *, struct sk_buff *);\n\tvoid (*usb_tx_cleanup)(struct ieee80211_hw *, struct sk_buff *);\n\n\t \n\tu8 in_ep_nums;\n\tu32 in_ep;\t\t \n\tu32 rx_max_size;\t \n\tu32 rx_urb_num;\t\t \n\tstruct usb_anchor\trx_submitted;\n\tstruct usb_anchor\trx_cleanup_urbs;\n\tstruct tasklet_struct   rx_work_tasklet;\n\tstruct sk_buff_head\trx_queue;\n\tvoid (*usb_rx_segregate_hdl)(struct ieee80211_hw *, struct sk_buff *,\n\t\t\t\t     struct sk_buff_head *);\n\tvoid (*usb_rx_hdl)(struct ieee80211_hw *, struct sk_buff *);\n};\n\nstruct rtl_usb_priv {\n\tstruct bt_coexist_info bt_coexist;\n\tstruct rtl_usb dev;\n};\n\n#define rtl_usbpriv(hw)\t (((struct rtl_usb_priv *)(rtl_priv(hw))->priv))\n#define rtl_usbdev(usbpriv)\t(&((usbpriv)->dev))\n\nint rtl_usb_probe(struct usb_interface *intf,\n\t\t  const struct usb_device_id *id,\n\t\t  struct rtl_hal_cfg *rtl92cu_hal_cfg);\nvoid rtl_usb_disconnect(struct usb_interface *intf);\nint rtl_usb_suspend(struct usb_interface *pusb_intf, pm_message_t message);\nint rtl_usb_resume(struct usb_interface *pusb_intf);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}