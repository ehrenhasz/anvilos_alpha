{
  "module_name": "fw.h",
  "hash_id": "8694fbc0b2b57d70be263f62b6caa35b2c361f59c292d64142407aad5188e272",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/realtek/rtlwifi/rtl8821ae/fw.h",
  "human_readable_source": " \n \n\n#ifndef __RTL8821AE__FW__H__\n#define __RTL8821AE__FW__H__\n#include \"def.h\"\n\n#define FW_8821AE_SIZE\t\t\t\t\t0x8000\n#define FW_8821AE_START_ADDRESS\t\t\t0x1000\n#define FW_8821AE_END_ADDRESS\t\t\t0x5FFF\n#define FW_8821AE_PAGE_SIZE\t\t\t\t4096\n#define FW_8821AE_POLLING_DELAY\t\t\t5\n#define FW_8821AE_POLLING_TIMEOUT_COUNT\t6000\n\n#define IS_FW_HEADER_EXIST_8812(_pfwhdr)\t\\\n\t((le16_to_cpu(_pfwhdr->signature) & 0xFFF0) == 0x9500)\n\n#define IS_FW_HEADER_EXIST_8821(_pfwhdr)\t\\\n\t((le16_to_cpu(_pfwhdr->signature) & 0xFFF0) == 0x2100)\n\n#define USE_OLD_WOWLAN_DEBUG_FW 0\n\n#define H2C_8821AE_RSVDPAGE_LOC_LEN\t\t5\n#define H2C_8821AE_PWEMODE_LENGTH\t\t\t7\n#define H2C_8821AE_JOINBSSRPT_LENGTH\t\t1\n#define H2C_8821AE_AP_OFFLOAD_LENGTH\t\t3\n#define H2C_8821AE_WOWLAN_LENGTH\t\t\t3\n#define H2C_8821AE_KEEP_ALIVE_CTRL_LENGTH\t3\n#if (USE_OLD_WOWLAN_DEBUG_FW == 0)\n#define H2C_8821AE_REMOTE_WAKE_CTRL_LEN\t1\n#else\n#define H2C_8821AE_REMOTE_WAKE_CTRL_LEN\t3\n#endif\n#define H2C_8821AE_AOAC_GLOBAL_INFO_LEN\t2\n#define H2C_8821AE_AOAC_RSVDPAGE_LOC_LEN\t7\n#define H2C_8821AE_DISCONNECT_DECISION_CTRL_LEN\t3\n\n \n#define\tFW_PS_GO_ON\t\t\tBIT(0)\n#define\tFW_PS_TX_NULL\t\t\tBIT(1)\n#define\tFW_PS_RF_ON\t\t\tBIT(2)\n#define\tFW_PS_REGISTER_ACTIVE\tBIT(3)\n\n#define\tFW_PS_DPS\t\tBIT(0)\n#define\tFW_PS_LCLK\t\t(FW_PS_DPS)\n#define\tFW_PS_RF_OFF\t\tBIT(1)\n#define\tFW_PS_ALL_ON\t\tBIT(2)\n#define\tFW_PS_ST_ACTIVE\t\tBIT(3)\n#define\tFW_PS_ISR_ENABLE\tBIT(4)\n#define\tFW_PS_IMR_ENABLE\tBIT(5)\n\n#define\tFW_PS_ACK\t\tBIT(6)\n#define\tFW_PS_TOGGLE\t\tBIT(7)\n\n  \n  \n  \n#define\tFW_PS_CLOCK_OFF\t\tBIT(0)\n \n#define\tFW_PS_CLOCK_ON\t\t0\n\n#define\tFW_PS_STATE_MASK\t\t(0x0F)\n#define\tFW_PS_STATE_HW_MASK\t(0x07)\n \n#define\tFW_PS_STATE_INT_MASK\t(0x3F)\n\n#define\tFW_PS_STATE(x)\t\t\t(FW_PS_STATE_MASK & (x))\n#define\tFW_PS_STATE_HW(x)\t\t(FW_PS_STATE_HW_MASK & (x))\n#define\tFW_PS_STATE_INT(x)\t(FW_PS_STATE_INT_MASK & (x))\n#define\tFW_PS_ISR_VAL(x)\t\t((x) & 0x70)\n#define\tFW_PS_IMR_MASK(x)\t((x) & 0xDF)\n#define\tFW_PS_KEEP_IMR(x)\t\t((x) & 0x20)\n\n#define\tFW_PS_STATE_S0\t\t(FW_PS_DPS)\n#define\tFW_PS_STATE_S1\t\t(FW_PS_LCLK)\n#define\tFW_PS_STATE_S2\t\t(FW_PS_RF_OFF)\n#define\tFW_PS_STATE_S3\t\t(FW_PS_ALL_ON)\n#define\tFW_PS_STATE_S4\t\t((FW_PS_ST_ACTIVE) | (FW_PS_ALL_ON))\n  \n#define\tFW_PS_STATE_ALL_ON_8821AE\t(FW_PS_CLOCK_ON)\n  \n#define\tFW_PS_STATE_RF_ON_8821AE\t(FW_PS_CLOCK_ON)\n  \n#define\tFW_PS_STATE_RF_OFF_8821AE\t(FW_PS_CLOCK_ON)\n  \n#define\tFW_PS_STATE_RF_OFF_LOW_PWR_8821AE\t(FW_PS_CLOCK_OFF)\n\n#define\tFW_PS_STATE_ALL_ON_92C\t(FW_PS_STATE_S4)\n#define\tFW_PS_STATE_RF_ON_92C\t\t(FW_PS_STATE_S3)\n#define\tFW_PS_STATE_RF_OFF_92C\t(FW_PS_STATE_S2)\n#define\tFW_PS_STATE_RF_OFF_LOW_PWR_92C\t(FW_PS_STATE_S1)\n\n \n#define\tFW_PWR_STATE_ACTIVE\t((FW_PS_RF_ON) | (FW_PS_REGISTER_ACTIVE))\n#define\tFW_PWR_STATE_RF_OFF\t0\n\n#define\tFW_PS_IS_ACK(x)\t\t((x) & FW_PS_ACK)\n#define\tFW_PS_IS_CLK_ON(x)\t((x) & (FW_PS_RF_OFF | FW_PS_ALL_ON))\n#define\tFW_PS_IS_RF_ON(x)\t((x) & (FW_PS_ALL_ON))\n#define\tFW_PS_IS_ACTIVE(x)\t((x) & (FW_PS_ST_ACTIVE))\n#define\tFW_PS_IS_CPWM_INT(x)\t((x) & 0x40)\n\n#define\tFW_CLR_PS_STATE(x)\t((x) = ((x) & (0xF0)))\n\n#define\tIS_IN_LOW_POWER_STATE_8821AE(__state)\t\t\\\n\t\t\t(FW_PS_STATE(__state) == FW_PS_CLOCK_OFF)\n\n#define\tFW_PWR_STATE_ACTIVE\t((FW_PS_RF_ON) | (FW_PS_REGISTER_ACTIVE))\n#define\tFW_PWR_STATE_RF_OFF\t0\n\nenum rtl8821a_h2c_cmd {\n\tH2C_8821AE_RSVDPAGE = 0,\n\tH2C_8821AE_MSRRPT = 1,\n\tH2C_8821AE_SCAN = 2,\n\tH2C_8821AE_KEEP_ALIVE_CTRL = 3,\n\tH2C_8821AE_DISCONNECT_DECISION = 4,\n\tH2C_8821AE_INIT_OFFLOAD = 6,\n\tH2C_8821AE_AP_OFFLOAD = 8,\n\tH2C_8821AE_BCN_RSVDPAGE = 9,\n\tH2C_8821AE_PROBERSP_RSVDPAGE = 10,\n\n\tH2C_8821AE_SETPWRMODE = 0x20,\n\tH2C_8821AE_PS_TUNING_PARA = 0x21,\n\tH2C_8821AE_PS_TUNING_PARA2 = 0x22,\n\tH2C_8821AE_PS_LPS_PARA = 0x23,\n\tH2C_8821AE_P2P_PS_OFFLOAD = 024,\n\n\tH2C_8821AE_WO_WLAN = 0x80,\n\tH2C_8821AE_REMOTE_WAKE_CTRL = 0x81,\n\tH2C_8821AE_AOAC_GLOBAL_INFO = 0x82,\n\tH2C_8821AE_AOAC_RSVDPAGE = 0x83,\n\n\tH2C_RSSI_21AE_REPORT = 0x42,\n\tH2C_8821AE_RA_MASK = 0x40,\n\tH2C_8821AE_SELECTIVE_SUSPEND_ROF_CMD,\n\tH2C_8821AE_P2P_PS_MODE,\n\tH2C_8821AE_PSD_RESULT,\n\t \n\tH2C_8821AE_P2P_PS_CTW_CMD,\n\tMAX_8821AE_H2CCMD\n};\n\n#define pagenum_128(_len)\t(u32)(((_len)>>7) + ((_len)&0x7F ? 1 : 0))\n\n#define SET_8812_H2CCMD_WOWLAN_FUNC_ENABLE(__cmd, __value)\t\t\\\n\tu8p_replace_bits(__cmd, __value, BIT(0))\n#define SET_8812_H2CCMD_WOWLAN_PATTERN_MATCH_ENABLE(__cmd, __value)\t\\\n\tu8p_replace_bits(__cmd, __value, BIT(1))\n#define SET_8812_H2CCMD_WOWLAN_MAGIC_PKT_ENABLE(__cmd, __value)\t\\\n\tu8p_replace_bits(__cmd, __value, BIT(2))\n#define SET_8812_H2CCMD_WOWLAN_UNICAST_PKT_ENABLE(__cmd, __value)\t\\\n\tu8p_replace_bits(__cmd, __value, BIT(3))\n#define SET_8812_H2CCMD_WOWLAN_ALL_PKT_DROP(__cmd, __value)\t\t\\\n\tu8p_replace_bits(__cmd, __value, BIT(4))\n#define SET_8812_H2CCMD_WOWLAN_GPIO_ACTIVE(__cmd, __value)\t\t\\\n\tu8p_replace_bits(__cmd, __value, BIT(5))\n#define SET_8812_H2CCMD_WOWLAN_REKEY_WAKE_UP(__cmd, __value)\t\\\n\tu8p_replace_bits(__cmd, __value, BIT(6))\n#define SET_8812_H2CCMD_WOWLAN_DISCONNECT_WAKE_UP(__cmd, __value)\t\\\n\tu8p_replace_bits(__cmd, __value, BIT(7))\n#define SET_8812_H2CCMD_WOWLAN_GPIONUM(__cmd, __value)\t\t\\\n\t*(u8 *)(__cmd + 1) = __value\n#define SET_8812_H2CCMD_WOWLAN_GPIO_DURATION(__cmd, __value)\t\\\n\t*(u8 *)(__cmd + 2) = __value\n\n#define SET_H2CCMD_PWRMODE_PARM_MODE(__ph2ccmd, __val)\t\t\t\\\n\t*(u8 *)__ph2ccmd = __val\n#define SET_H2CCMD_PWRMODE_PARM_RLBM(__cmd, __value)\t\t\\\n\tu8p_replace_bits(__cmd + 1, __value, GENMASK(3, 0))\n#define SET_H2CCMD_PWRMODE_PARM_SMART_PS(__cmd, __value)\t\\\n\tu8p_replace_bits(__cmd + 1, __value, GENMASK(7, 4))\n#define SET_H2CCMD_PWRMODE_PARM_AWAKE_INTERVAL(__cmd, __value)\t\\\n\t*(u8 *)(__cmd + 2) = __value\n#define SET_H2CCMD_PWRMODE_PARM_ALL_QUEUE_UAPSD(__cmd, __value)\t\t\\\n\t*(u8 *)(__cmd + 3) = __value\n#define SET_H2CCMD_PWRMODE_PARM_PWR_STATE(__cmd, __value)\t\\\n\t*(u8 *)(__cmd + 4) = __value\n#define SET_H2CCMD_PWRMODE_PARM_BYTE5(__cmd, __value)\t\t\\\n\t*(u8 *)(__cmd + 5) = __value\n\n#define SET_H2CCMD_RSVDPAGE_LOC_PSPOLL(__ph2ccmd, __val)\t\t\\\n\t*(u8 *)(__ph2ccmd + 1) = __val\n#define SET_H2CCMD_RSVDPAGE_LOC_NULL_DATA(__ph2ccmd, __val)\t\t\\\n\t*(u8 *)(__ph2ccmd + 2) = __val\n#define SET_H2CCMD_RSVDPAGE_LOC_QOS_NULL_DATA(__ph2ccmd, __val)\t\t\\\n\t*(u8 *)(__ph2ccmd + 3) = __val\n#define SET_H2CCMD_RSVDPAGE_LOC_BT_QOS_NULL_DATA(__ph2ccmd, __val)\t\\\n\t*(u8 *)(__ph2ccmd + 4) = __val\n\n \n#define SET_H2CCMD_MSRRPT_PARM_OPMODE(__cmd, __value)\t\\\n\tu8p_replace_bits(__cmd + 1, __value, BIT(0))\n#define SET_H2CCMD_MSRRPT_PARM_MACID_IND(__cmd, __value)\t\\\n\tu8p_replace_bits(__cmd + 1, __value, BIT(1))\n\n \n#define SET_H2CCMD_AP_OFFLOAD_ON(__cmd, __value)\t\\\n\t*(u8 *)__cmd = __value\n#define SET_H2CCMD_AP_OFFLOAD_HIDDEN(__cmd, __value)\t\\\n\t*(u8 *)(__cmd + 1) = __value\n#define SET_H2CCMD_AP_OFFLOAD_DENYANY(__cmd, __value)\t\\\n\t*(u8 *)(__cmd + 2) = __value\n#define SET_H2CCMD_AP_OFFLOAD_WAKEUP_EVT_RPT(__cmd, __value) \\\n\t*(u8 *)(__cmd + 3) = __value\n\n \n#define SET_8812_H2CCMD_KEEP_ALIVE_ENABLE(__cmd, __value)\t\\\n\tu8p_replace_bits(__cmd, __value, BIT(0))\n#define SET_8812_H2CCMD_KEEP_ALIVE_ACCPEPT_USER_DEFINED(__cmd, __value)\t\\\n\tu8p_replace_bits(__cmd, __value, BIT(1))\n#define SET_8812_H2CCMD_KEEP_ALIVE_PERIOD(__cmd, __value)\t\\\n\t*(u8 *)(__cmd + 1) = __value\n\n \n#define SET_8812_H2CCMD_REMOTE_WAKECTRL_ENABLE(__cmd, __value)\t\\\n\tu8p_replace_bits(__cmd, __value, BIT(0))\n#define SET_8812_H2CCMD_REMOTE_WAKE_CTRL_ARP_OFFLOAD_EN(__cmd, __value)\\\n\tu8p_replace_bits(__cmd, __value, BIT(1))\n#define SET_8812_H2CCMD_REMOTE_WAKE_CTRL_NDP_OFFLOAD_EN(__cmd, __value)\\\n\tu8p_replace_bits(__cmd, __value, BIT(2))\n#define SET_8812_H2CCMD_REMOTE_WAKE_CTRL_GTK_OFFLOAD_EN(__cmd, __value)\\\n\tu8p_replace_bits(__cmd, __value, BIT(3))\n#define SET_8812_H2CCMD_REMOTE_WAKE_CTRL_REALWOWV2_EN(__cmd, __value)\\\n\tu8p_replace_bits(__cmd, __value, BIT(6))\n\n \n#define SET_8812_H2CCMD_AOAC_GLOBAL_INFO_PAIRWISE_ENC_ALG(__cmd, __value)\\\n\t*(u8 *)__cmd = __value\n#define SET_8812_H2CCMD_AOAC_GLOBAL_INFO_GROUP_ENC_ALG(__cmd, __value)\t\\\n\t*(u8 *)(__cmd + 1) = __value\n\n \n#define SET_8821AE_H2CCMD_AOAC_RSVDPAGE_LOC_REMOTE_WAKE_CTRL_INFO(__cmd, __value)\t\\\n\t*(u8 *)__cmd = __value\n#define SET_8821AE_H2CCMD_AOAC_RSVDPAGE_LOC_ARP_RSP(__cmd, __value)\t\\\n\t*(u8 *)(__cmd + 1) = __value\n#define SET_8821AE_H2CCMD_AOAC_RSVDPAGE_LOC_NEIGHBOR_ADV(__cmd, __value)\\\n\t*(u8 *)(__cmd + 2) = __value\n#define SET_8821AE_H2CCMD_AOAC_RSVDPAGE_LOC_GTK_RSP(__cmd, __value)\t\\\n\t*(u8 *)(__cmd + 3) = __value\n#define SET_8821AE_H2CCMD_AOAC_RSVDPAGE_LOC_GTK_INFO(__cmd, __value)\t\\\n\t*(u8 *)(__cmd + 4) = __value\n#define SET_8821AE_H2CCMD_AOAC_RSVDPAGE_LOC_GTK_EXT_MEM(__cmd, __value)\t\\\n\t*(u8 *)(__cmd + 5) = __value\n\n \n#define SET_8812_H2CCMD_DISCONNECT_DECISION_CTRL_ENABLE(__cmd, __value)\t\\\n\tu8p_replace_bits(__cmd, __value, BIT(0))\n#define SET_8812_H2CCMD_DISCONNECT_DECISION_CTRL_USER_SETTING(__cmd, __value)\\\n\tu8p_replace_bits(__cmd, __value, BIT(1))\n#define SET_8812_H2CCMD_DISCONNECT_DECISION_CTRL_CHECK_PERIOD(__cmd, __value)\\\n\t*(u8 *)(__cmd + 1) = __value\n#define SET_8812_H2CCMD_DISCONNECT_DECISION_CTRL_TRYPKT_NUM(__cmd, __value)\\\n\t*(u8 *)(__cmd + 2) = __value\n\nint rtl8821ae_download_fw(struct ieee80211_hw *hw, bool buse_wake_on_wlan_fw);\n#if (USE_SPECIFIC_FW_TO_SUPPORT_WOWLAN == 1)\nvoid rtl8821ae_set_fw_related_for_wowlan(struct ieee80211_hw *hw,\n\t\t\t\t\t bool used_wowlan_fw);\n\n#endif\nvoid rtl8821ae_fill_h2c_cmd(struct ieee80211_hw *hw, u8 element_id,\n\t\t\t    u32 cmd_len, u8 *cmdbuffer);\nvoid rtl8821ae_firmware_selfreset(struct ieee80211_hw *hw);\nvoid rtl8821ae_set_fw_pwrmode_cmd(struct ieee80211_hw *hw, u8 mode);\nvoid rtl8821ae_set_fw_media_status_rpt_cmd(struct ieee80211_hw *hw,\n\t\t\t\t\t   u8 mstatus);\nvoid rtl8821ae_set_fw_ap_off_load_cmd(struct ieee80211_hw *hw,\n\t\t\t\t      u8 ap_offload_enable);\nvoid rtl8821ae_set_fw_rsvdpagepkt(struct ieee80211_hw *hw,\n\t\t\t\t  bool b_dl_finished, bool dl_whole_packet);\nvoid rtl8812ae_set_fw_rsvdpagepkt(struct ieee80211_hw *hw,\n\t\t\t\t  bool b_dl_finished, bool dl_whole_packet);\nvoid rtl8821ae_set_p2p_ps_offload_cmd(struct ieee80211_hw *hw,\n\t\t\t\t      u8 p2p_ps_state);\nvoid rtl8821ae_set_fw_wowlan_mode(struct ieee80211_hw *hw, bool func_en);\nvoid rtl8821ae_set_fw_remote_wake_ctrl_cmd(struct ieee80211_hw *hw,\n\t\t\t\t\t   u8 enable);\nvoid rtl8821ae_set_fw_keep_alive_cmd(struct ieee80211_hw *hw, bool func_en);\nvoid rtl8821ae_set_fw_disconnect_decision_ctrl_cmd(struct ieee80211_hw *hw,\n\t\t\t\t\t\t   bool enabled);\nvoid rtl8821ae_set_fw_global_info_cmd(struct ieee80211_hw *hw);\nvoid rtl8821ae_c2h_ra_report_handler(struct ieee80211_hw *hw,\n\t\t\t\t     u8 *cmd_buf, u8 cmd_len);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}