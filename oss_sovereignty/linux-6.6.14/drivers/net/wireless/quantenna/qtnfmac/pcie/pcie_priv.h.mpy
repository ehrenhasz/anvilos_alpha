{
  "module_name": "pcie_priv.h",
  "hash_id": "d5bf233766536bce928456ec06ed891c6d075bc8a9757e2b4a32706a7dba76d1",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/quantenna/qtnfmac/pcie/pcie_priv.h",
  "human_readable_source": " \n \n\n#ifndef _QTN_FMAC_PCIE_H_\n#define _QTN_FMAC_PCIE_H_\n\n#include <linux/pci.h>\n#include <linux/spinlock.h>\n#include <linux/io.h>\n#include <linux/skbuff.h>\n#include <linux/workqueue.h>\n#include <linux/interrupt.h>\n\n#include \"shm_ipc.h\"\n#include \"bus.h\"\n\n#define SKB_BUF_SIZE\t\t2048\n\n#define QTN_FW_DL_TIMEOUT_MS\t3000\n#define QTN_FW_QLINK_TIMEOUT_MS\t30000\n#define QTN_EP_RESET_WAIT_MS\t1000\n\nstruct qtnf_pcie_bus_priv {\n\tstruct pci_dev *pdev;\n\n\tint (*probe_cb)(struct qtnf_bus *bus, unsigned int tx_bd_size,\n\t\t\tunsigned int rx_bd_size);\n\tvoid (*remove_cb)(struct qtnf_bus *bus);\n\tint (*suspend_cb)(struct qtnf_bus *bus);\n\tint (*resume_cb)(struct qtnf_bus *bus);\n\tu64 (*dma_mask_get_cb)(void);\n\n\tspinlock_t tx_reclaim_lock;\n\tspinlock_t tx_lock;\n\n\tstruct workqueue_struct *workqueue;\n\tstruct tasklet_struct reclaim_tq;\n\n\tvoid __iomem *sysctl_bar;\n\tvoid __iomem *epmem_bar;\n\tvoid __iomem *dmareg_bar;\n\n\tstruct qtnf_shm_ipc shm_ipc_ep_in;\n\tstruct qtnf_shm_ipc shm_ipc_ep_out;\n\n\tu16 tx_bd_num;\n\tu16 rx_bd_num;\n\n\tstruct sk_buff **tx_skb;\n\tstruct sk_buff **rx_skb;\n\n\tunsigned int fw_blksize;\n\n\tu32 rx_bd_w_index;\n\tu32 rx_bd_r_index;\n\n\tu32 tx_bd_w_index;\n\tu32 tx_bd_r_index;\n\n\t \n\tu32 pcie_irq_count;\n\tu32 tx_full_count;\n\tu32 tx_done_count;\n\tu32 tx_reclaim_done;\n\tu32 tx_reclaim_req;\n\n\tu8 msi_enabled;\n\tu8 tx_stopped;\n\tbool flashboot;\n};\n\nint qtnf_pcie_control_tx(struct qtnf_bus *bus, struct sk_buff *skb);\nint qtnf_pcie_alloc_skb_array(struct qtnf_pcie_bus_priv *priv);\nint qtnf_pcie_fw_boot_done(struct qtnf_bus *bus);\nvoid qtnf_pcie_init_shm_ipc(struct qtnf_pcie_bus_priv *priv,\n\t\t\t    struct qtnf_shm_ipc_region __iomem *ipc_tx_reg,\n\t\t\t    struct qtnf_shm_ipc_region __iomem *ipc_rx_reg,\n\t\t\t    const struct qtnf_shm_ipc_int *ipc_int);\nstruct qtnf_bus *qtnf_pcie_pearl_alloc(struct pci_dev *pdev);\nstruct qtnf_bus *qtnf_pcie_topaz_alloc(struct pci_dev *pdev);\n\nstatic inline void qtnf_non_posted_write(u32 val, void __iomem *basereg)\n{\n\twritel(val, basereg);\n\n\t \n\treadl(basereg);\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}