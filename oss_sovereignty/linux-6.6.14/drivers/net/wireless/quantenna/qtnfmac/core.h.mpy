{
  "module_name": "core.h",
  "hash_id": "21350c22967efcabf6b267fac4af43cb6abebabab4f8606bcd7c3ed83b5d46db",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/quantenna/qtnfmac/core.h",
  "human_readable_source": " \n \n\n#ifndef _QTN_FMAC_CORE_H_\n#define _QTN_FMAC_CORE_H_\n\n#include <linux/kernel.h>\n#include <linux/module.h>\n#include <linux/sched.h>\n#include <linux/semaphore.h>\n#include <linux/ip.h>\n#include <linux/skbuff.h>\n#include <linux/if_arp.h>\n#include <linux/etherdevice.h>\n#include <net/sock.h>\n#include <net/lib80211.h>\n#include <net/cfg80211.h>\n#include <linux/vmalloc.h>\n#include <linux/firmware.h>\n#include <linux/ctype.h>\n#include <linux/workqueue.h>\n#include <linux/slab.h>\n#include <linux/platform_device.h>\n\n#include \"qlink.h\"\n#include \"trans.h\"\n#include \"qlink_util.h\"\n\n#undef pr_fmt\n#define pr_fmt(fmt)\tKBUILD_MODNAME \": %s: \" fmt, __func__\n\n#define QTNF_MAX_VSIE_LEN\t\t255\n#define QTNF_MAX_INTF\t\t\t8\n#define QTNF_MAX_EVENT_QUEUE_LEN\t255\n#define QTNF_SCAN_TIMEOUT_SEC\t\t15\n\n#define QTNF_DEF_BSS_PRIORITY\t\t0\n#define QTNF_DEF_WDOG_TIMEOUT\t\t5\n#define QTNF_TX_TIMEOUT_TRSHLD\t\t100\n\nextern const struct net_device_ops qtnf_netdev_ops;\n\nstruct qtnf_bus;\nstruct qtnf_vif;\n\nstruct qtnf_sta_node {\n\tstruct list_head list;\n\tu8 mac_addr[ETH_ALEN];\n};\n\nstruct qtnf_sta_list {\n\tstruct list_head head;\n\tatomic_t size;\n};\n\nstruct qtnf_vif {\n\tstruct wireless_dev wdev;\n\tu8 bssid[ETH_ALEN];\n\tu8 mac_addr[ETH_ALEN];\n\tu8 vifid;\n\tu8 bss_priority;\n\tu8 bss_status;\n\tu16 mgmt_frames_bitmask;\n\tstruct net_device *netdev;\n\tstruct qtnf_wmac *mac;\n\n\tstruct work_struct reset_work;\n\tstruct work_struct high_pri_tx_work;\n\tstruct sk_buff_head high_pri_tx_queue;\n\tstruct qtnf_sta_list sta_list;\n\tunsigned long cons_tx_timeout_cnt;\n\tint generation;\n};\n\nstruct qtnf_mac_info {\n\tu8 bands_cap;\n\tu8 num_tx_chain;\n\tu8 num_rx_chain;\n\tu16 max_ap_assoc_sta;\n\tu32 frag_thr;\n\tu32 rts_thr;\n\tu8 lretry_limit;\n\tu8 sretry_limit;\n\tu8 coverage_class;\n\tu8 radar_detect_widths;\n\tu8 max_scan_ssids;\n\tu16 max_acl_mac_addrs;\n\tstruct ieee80211_ht_cap ht_cap_mod_mask;\n\tstruct ieee80211_vht_cap vht_cap_mod_mask;\n\tstruct ieee80211_iface_combination *if_comb;\n\tsize_t n_if_comb;\n\tu8 *extended_capabilities;\n\tu8 *extended_capabilities_mask;\n\tu8 extended_capabilities_len;\n\tstruct wiphy_wowlan_support *wowlan;\n};\n\nstruct qtnf_wmac {\n\tu8 macid;\n\tu8 wiphy_registered;\n\tu8 macaddr[ETH_ALEN];\n\tstruct qtnf_bus *bus;\n\tstruct qtnf_mac_info macinfo;\n\tstruct qtnf_vif iflist[QTNF_MAX_INTF];\n\tstruct cfg80211_scan_request *scan_req;\n\tstruct mutex mac_lock;\t \n\tstruct delayed_work scan_timeout;\n\tstruct ieee80211_regdomain *rd;\n\tstruct platform_device *pdev;\n};\n\nstruct qtnf_hw_info {\n\tu32 ql_proto_ver;\n\tu8 num_mac;\n\tu8 mac_bitmap;\n\tu32 fw_ver;\n\tu8 total_tx_chain;\n\tu8 total_rx_chain;\n\tchar fw_version[ETHTOOL_FWVERS_LEN];\n\tu32 hw_version;\n\tu8 hw_capab[QLINK_HW_CAPAB_NUM / BITS_PER_BYTE + 1];\n};\n\nstruct qtnf_vif *qtnf_mac_get_free_vif(struct qtnf_wmac *mac);\nstruct qtnf_vif *qtnf_mac_get_base_vif(struct qtnf_wmac *mac);\nvoid qtnf_mac_iface_comb_free(struct qtnf_wmac *mac);\nvoid qtnf_mac_ext_caps_free(struct qtnf_wmac *mac);\nbool qtnf_slave_radar_get(void);\nbool qtnf_dfs_offload_get(void);\nstruct wiphy *qtnf_wiphy_allocate(struct qtnf_bus *bus,\n\t\t\t\t  struct platform_device *pdev);\nint qtnf_core_net_attach(struct qtnf_wmac *mac, struct qtnf_vif *priv,\n\t\t\t const char *name, unsigned char name_assign_type);\nvoid qtnf_main_work_queue(struct work_struct *work);\nint qtnf_cmd_send_update_phy_params(struct qtnf_wmac *mac, u32 changed);\n\nstruct qtnf_wmac *qtnf_core_get_mac(const struct qtnf_bus *bus, u8 macid);\nstruct net_device *qtnf_classify_skb(struct qtnf_bus *bus, struct sk_buff *skb);\nvoid qtnf_wake_all_queues(struct net_device *ndev);\n\nvoid qtnf_virtual_intf_cleanup(struct net_device *ndev);\n\nvoid qtnf_netdev_updown(struct net_device *ndev, bool up);\nvoid qtnf_scan_done(struct qtnf_wmac *mac, bool aborted);\nstruct dentry *qtnf_get_debugfs_dir(void);\nbool qtnf_netdev_is_qtn(const struct net_device *ndev);\n\nstatic inline struct qtnf_vif *qtnf_netdev_get_priv(struct net_device *dev)\n{\n\treturn *((void **)netdev_priv(dev));\n}\n\nstatic inline bool qtnf_hwcap_is_set(const struct qtnf_hw_info *info,\n\t\t\t\t     unsigned int bit)\n{\n\treturn qtnf_utils_is_bit_set(info->hw_capab, bit,\n\t\t\t\t     sizeof(info->hw_capab));\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}