{
  "module_name": "eeprom.h",
  "hash_id": "25f7d1b42c4baacc70ca89c5f501ab29cac692efc2d182afb1e6c22735b6d611",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/mediatek/mt76/mt7615/eeprom.h",
  "human_readable_source": " \n \n\n#ifndef __MT7615_EEPROM_H\n#define __MT7615_EEPROM_H\n\n#include \"mt7615.h\"\n\n\n#define MT7615_EEPROM_DCOC_OFFSET\t\tMT7615_EEPROM_SIZE\n#define MT7615_EEPROM_DCOC_SIZE\t\t\t256\n#define MT7615_EEPROM_DCOC_COUNT\t\t34\n\n#define MT7615_EEPROM_TXDPD_OFFSET\t\t(MT7615_EEPROM_SIZE + \\\n\t\t\t\t\t\t MT7615_EEPROM_DCOC_COUNT * \\\n\t\t\t\t\t\t MT7615_EEPROM_DCOC_SIZE)\n#define MT7615_EEPROM_TXDPD_SIZE\t\t216\n#define MT7615_EEPROM_TXDPD_COUNT\t\t(44 + 3)\n\n#define MT7615_EEPROM_FULL_SIZE\t\t\t(MT7615_EEPROM_TXDPD_OFFSET + \\\n\t\t\t\t\t\t MT7615_EEPROM_TXDPD_COUNT * \\\n\t\t\t\t\t\t MT7615_EEPROM_TXDPD_SIZE)\n\nenum mt7615_eeprom_field {\n\tMT_EE_CHIP_ID =\t\t\t\t0x000,\n\tMT_EE_VERSION =\t\t\t\t0x002,\n\tMT_EE_MAC_ADDR =\t\t\t0x004,\n\tMT_EE_NIC_CONF_0 =\t\t\t0x034,\n\tMT_EE_NIC_CONF_1 =\t\t\t0x036,\n\tMT_EE_WIFI_CONF =\t\t\t0x03e,\n\tMT_EE_CALDATA_FLASH =\t\t\t0x052,\n\tMT_EE_TX0_2G_TARGET_POWER =\t\t0x058,\n\tMT_EE_TX0_5G_G0_TARGET_POWER =\t\t0x070,\n\tMT7663_EE_5G_RATE_POWER =\t\t0x089,\n\tMT_EE_TX1_5G_G0_TARGET_POWER =\t\t0x098,\n\tMT_EE_2G_RATE_POWER =\t\t\t0x0be,\n\tMT_EE_5G_RATE_POWER =\t\t\t0x0d5,\n\tMT7663_EE_TX0_2G_TARGET_POWER =\t\t0x0e3,\n\tMT_EE_EXT_PA_2G_TARGET_POWER =\t\t0x0f2,\n\tMT_EE_EXT_PA_5G_TARGET_POWER =\t\t0x0f3,\n\tMT_EE_TX2_5G_G0_TARGET_POWER =\t\t0x142,\n\tMT_EE_TX3_5G_G0_TARGET_POWER =\t\t0x16a,\n\tMT7663_EE_HW_CONF1 =\t\t\t0x1b0,\n\tMT7663_EE_TX0_5G_G0_TARGET_POWER =\t0x245,\n\tMT7663_EE_TX1_5G_G0_TARGET_POWER =\t0x2b5,\n\n\tMT7615_EE_MAX =\t\t\t\t0x3bf,\n\tMT7622_EE_MAX =\t\t\t\t0x3db,\n\tMT7663_EE_MAX =\t\t\t\t0x600,\n};\n\n#define MT_EE_RATE_POWER_MASK\t\t\tGENMASK(5, 0)\n#define MT_EE_RATE_POWER_SIGN\t\t\tBIT(6)\n#define MT_EE_RATE_POWER_EN\t\t\tBIT(7)\n\n#define MT_EE_CALDATA_FLASH_TX_DPD\t\tBIT(0)\n#define MT_EE_CALDATA_FLASH_RX_CAL\t\tBIT(1)\n\n#define MT_EE_NIC_CONF_TX_MASK\t\t\tGENMASK(7, 4)\n#define MT_EE_NIC_CONF_RX_MASK\t\t\tGENMASK(3, 0)\n\n#define MT_EE_HW_CONF1_TX_MASK\t\t\tGENMASK(2, 0)\n\n#define MT_EE_NIC_CONF_TSSI_2G\t\t\tBIT(5)\n#define MT_EE_NIC_CONF_TSSI_5G\t\t\tBIT(6)\n\n#define MT_EE_NIC_WIFI_CONF_BAND_SEL\t\tGENMASK(5, 4)\nenum mt7615_eeprom_band {\n\tMT_EE_DUAL_BAND,\n\tMT_EE_5GHZ,\n\tMT_EE_2GHZ,\n\tMT_EE_DBDC,\n};\n\nenum mt7615_channel_group {\n\tMT_CH_5G_JAPAN,\n\tMT_CH_5G_UNII_1,\n\tMT_CH_5G_UNII_2A,\n\tMT_CH_5G_UNII_2B,\n\tMT_CH_5G_UNII_2E_1,\n\tMT_CH_5G_UNII_2E_2,\n\tMT_CH_5G_UNII_2E_3,\n\tMT_CH_5G_UNII_3,\n\t__MT_CH_MAX\n};\n\nstatic inline enum mt7615_channel_group\nmt7615_get_channel_group(int channel)\n{\n\tif (channel >= 184 && channel <= 196)\n\t\treturn MT_CH_5G_JAPAN;\n\tif (channel <= 48)\n\t\treturn MT_CH_5G_UNII_1;\n\tif (channel <= 64)\n\t\treturn MT_CH_5G_UNII_2A;\n\tif (channel <= 114)\n\t\treturn MT_CH_5G_UNII_2E_1;\n\tif (channel <= 144)\n\t\treturn MT_CH_5G_UNII_2E_2;\n\tif (channel <= 161)\n\t\treturn MT_CH_5G_UNII_2E_3;\n\treturn MT_CH_5G_UNII_3;\n}\n\nstatic inline bool\nmt7615_ext_pa_enabled(struct mt7615_dev *dev, enum nl80211_band band)\n{\n\tu8 *eep = dev->mt76.eeprom.data;\n\n\tif (band == NL80211_BAND_5GHZ)\n\t\treturn !(eep[MT_EE_NIC_CONF_1 + 1] & MT_EE_NIC_CONF_TSSI_5G);\n\telse\n\t\treturn !(eep[MT_EE_NIC_CONF_1 + 1] & MT_EE_NIC_CONF_TSSI_2G);\n}\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}