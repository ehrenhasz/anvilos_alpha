{
  "module_name": "mt76x02_eeprom.h",
  "hash_id": "614dc79a57c8c4d14c7f80ab4207fc5db97b5fb988bda23b1aa43d49e31a275b",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/mediatek/mt76/mt76x02_eeprom.h",
  "human_readable_source": " \n \n\n#ifndef __MT76x02_EEPROM_H\n#define __MT76x02_EEPROM_H\n\n#include \"mt76x02.h\"\n\nenum mt76x02_eeprom_field {\n\tMT_EE_CHIP_ID =\t\t\t\t0x000,\n\tMT_EE_VERSION =\t\t\t\t0x002,\n\tMT_EE_MAC_ADDR =\t\t\t0x004,\n\tMT_EE_PCI_ID =\t\t\t\t0x00A,\n\tMT_EE_ANTENNA =\t\t\t\t0x022,\n\tMT_EE_CFG1_INIT =\t\t\t0x024,\n\tMT_EE_NIC_CONF_0 =\t\t\t0x034,\n\tMT_EE_NIC_CONF_1 =\t\t\t0x036,\n\tMT_EE_COUNTRY_REGION_5GHZ =\t\t0x038,\n\tMT_EE_COUNTRY_REGION_2GHZ =\t\t0x039,\n\tMT_EE_FREQ_OFFSET =\t\t\t0x03a,\n\tMT_EE_NIC_CONF_2 =\t\t\t0x042,\n\n\tMT_EE_XTAL_TRIM_1 =\t\t\t0x03a,\n\tMT_EE_XTAL_TRIM_2 =\t\t\t0x09e,\n\n\tMT_EE_LNA_GAIN =\t\t\t0x044,\n\tMT_EE_RSSI_OFFSET_2G_0 =\t\t0x046,\n\tMT_EE_RSSI_OFFSET_2G_1 =\t\t0x048,\n\tMT_EE_LNA_GAIN_5GHZ_1 =\t\t\t0x049,\n\tMT_EE_RSSI_OFFSET_5G_0 =\t\t0x04a,\n\tMT_EE_RSSI_OFFSET_5G_1 =\t\t0x04c,\n\tMT_EE_LNA_GAIN_5GHZ_2 =\t\t\t0x04d,\n\n\tMT_EE_TX_POWER_DELTA_BW40 =\t\t0x050,\n\tMT_EE_TX_POWER_DELTA_BW80 =\t\t0x052,\n\n\tMT_EE_TX_POWER_EXT_PA_5G =\t\t0x054,\n\n\tMT_EE_TX_POWER_0_START_2G =\t\t0x056,\n\tMT_EE_TX_POWER_1_START_2G =\t\t0x05c,\n\n\t \n#define MT_TX_POWER_GROUP_SIZE_5G\t\t5\n#define MT_TX_POWER_GROUPS_5G\t\t\t6\n\tMT_EE_TX_POWER_0_START_5G =\t\t0x062,\n\tMT_EE_TSSI_SLOPE_2G =\t\t\t0x06e,\n\n\tMT_EE_TX_POWER_0_GRP3_TX_POWER_DELTA =\t0x074,\n\tMT_EE_TX_POWER_0_GRP4_TSSI_SLOPE =\t0x076,\n\n\tMT_EE_TX_POWER_1_START_5G =\t\t0x080,\n\n\tMT_EE_TX_POWER_CCK =\t\t\t0x0a0,\n\tMT_EE_TX_POWER_OFDM_2G_6M =\t\t0x0a2,\n\tMT_EE_TX_POWER_OFDM_2G_24M =\t\t0x0a4,\n\tMT_EE_TX_POWER_OFDM_5G_6M =\t\t0x0b2,\n\tMT_EE_TX_POWER_OFDM_5G_24M =\t\t0x0b4,\n\tMT_EE_TX_POWER_HT_MCS0 =\t\t0x0a6,\n\tMT_EE_TX_POWER_HT_MCS4 =\t\t0x0a8,\n\tMT_EE_TX_POWER_HT_MCS8 =\t\t0x0aa,\n\tMT_EE_TX_POWER_HT_MCS12 =\t\t0x0ac,\n\tMT_EE_TX_POWER_VHT_MCS8 =\t\t0x0be,\n\n\tMT_EE_2G_TARGET_POWER =\t\t\t0x0d0,\n\tMT_EE_TEMP_OFFSET =\t\t\t0x0d1,\n\tMT_EE_5G_TARGET_POWER =\t\t\t0x0d2,\n\tMT_EE_TSSI_BOUND1 =\t\t\t0x0d4,\n\tMT_EE_TSSI_BOUND2 =\t\t\t0x0d6,\n\tMT_EE_TSSI_BOUND3 =\t\t\t0x0d8,\n\tMT_EE_TSSI_BOUND4 =\t\t\t0x0da,\n\tMT_EE_FREQ_OFFSET_COMPENSATION =\t0x0db,\n\tMT_EE_TSSI_BOUND5 =\t\t\t0x0dc,\n\tMT_EE_TX_POWER_BYRATE_BASE =\t\t0x0de,\n\n\tMT_EE_TSSI_SLOPE_5G =\t\t\t0x0f0,\n\tMT_EE_RF_TEMP_COMP_SLOPE_5G =\t\t0x0f2,\n\tMT_EE_RF_TEMP_COMP_SLOPE_2G =\t\t0x0f4,\n\n\tMT_EE_RF_2G_TSSI_OFF_TXPOWER =\t\t0x0f6,\n\tMT_EE_RF_2G_RX_HIGH_GAIN =\t\t0x0f8,\n\tMT_EE_RF_5G_GRP0_1_RX_HIGH_GAIN =\t0x0fa,\n\tMT_EE_RF_5G_GRP2_3_RX_HIGH_GAIN =\t0x0fc,\n\tMT_EE_RF_5G_GRP4_5_RX_HIGH_GAIN =\t0x0fe,\n\n\tMT_EE_BT_RCAL_RESULT =\t\t\t0x138,\n\tMT_EE_BT_VCDL_CALIBRATION =\t\t0x13c,\n\tMT_EE_BT_PMUCFG =\t\t\t0x13e,\n\n\tMT_EE_USAGE_MAP_START =\t\t\t0x1e0,\n\tMT_EE_USAGE_MAP_END =\t\t\t0x1fc,\n\n\t__MT_EE_MAX\n};\n\n#define MT_EE_ANTENNA_DUAL\t\t\tBIT(15)\n\n#define MT_EE_NIC_CONF_0_RX_PATH\t\tGENMASK(3, 0)\n#define MT_EE_NIC_CONF_0_TX_PATH\t\tGENMASK(7, 4)\n#define MT_EE_NIC_CONF_0_PA_TYPE\t\tGENMASK(9, 8)\n#define MT_EE_NIC_CONF_0_PA_INT_2G\t\tBIT(8)\n#define MT_EE_NIC_CONF_0_PA_INT_5G\t\tBIT(9)\n#define MT_EE_NIC_CONF_0_PA_IO_CURRENT\t\tBIT(10)\n#define MT_EE_NIC_CONF_0_BOARD_TYPE\t\tGENMASK(13, 12)\n\n#define MT_EE_NIC_CONF_1_HW_RF_CTRL\t\tBIT(0)\n#define MT_EE_NIC_CONF_1_TEMP_TX_ALC\t\tBIT(1)\n#define MT_EE_NIC_CONF_1_LNA_EXT_2G\t\tBIT(2)\n#define MT_EE_NIC_CONF_1_LNA_EXT_5G\t\tBIT(3)\n#define MT_EE_NIC_CONF_1_TX_ALC_EN\t\tBIT(13)\n\n#define MT_EE_NIC_CONF_2_ANT_OPT\t\tBIT(3)\n#define MT_EE_NIC_CONF_2_ANT_DIV\t\tBIT(4)\n#define MT_EE_NIC_CONF_2_XTAL_OPTION\t\tGENMASK(10, 9)\n\n#define MT_EFUSE_USAGE_MAP_SIZE\t\t\t(MT_EE_USAGE_MAP_END - \\\n\t\t\t\t\t\t MT_EE_USAGE_MAP_START + 1)\n\nenum mt76x02_eeprom_modes {\n\tMT_EE_READ,\n\tMT_EE_PHYSICAL_READ,\n};\n\nenum mt76x02_board_type {\n\tBOARD_TYPE_2GHZ = 1,\n\tBOARD_TYPE_5GHZ = 2,\n};\n\nstatic inline bool mt76x02_field_valid(u8 val)\n{\n\treturn val != 0 && val != 0xff;\n}\n\nstatic inline int\nmt76x02_sign_extend(u32 val, unsigned int size)\n{\n\tbool sign = val & BIT(size - 1);\n\n\tval &= BIT(size - 1) - 1;\n\n\treturn sign ? val : -val;\n}\n\nstatic inline int\nmt76x02_sign_extend_optional(u32 val, unsigned int size)\n{\n\tbool enable = val & BIT(size);\n\n\treturn enable ? mt76x02_sign_extend(val, size) : 0;\n}\n\nstatic inline s8 mt76x02_rate_power_val(u8 val)\n{\n\tif (!mt76x02_field_valid(val))\n\t\treturn 0;\n\n\treturn mt76x02_sign_extend_optional(val, 7);\n}\n\nstatic inline int\nmt76x02_eeprom_get(struct mt76x02_dev *dev,\n\t\t   enum mt76x02_eeprom_field field)\n{\n\tif ((field & 1) || field >= __MT_EE_MAX)\n\t\treturn -1;\n\n\treturn get_unaligned_le16(dev->mt76.eeprom.data + field);\n}\n\nbool mt76x02_ext_pa_enabled(struct mt76x02_dev *dev, enum nl80211_band band);\nint mt76x02_get_efuse_data(struct mt76x02_dev *dev, u16 base, void *buf,\n\t\t\t   int len, enum mt76x02_eeprom_modes mode);\nvoid mt76x02_get_rx_gain(struct mt76x02_dev *dev, enum nl80211_band band,\n\t\t\t u16 *rssi_offset, s8 *lna_2g, s8 *lna_5g);\nu8 mt76x02_get_lna_gain(struct mt76x02_dev *dev,\n\t\t\ts8 *lna_2g, s8 *lna_5g,\n\t\t\tstruct ieee80211_channel *chan);\nvoid mt76x02_eeprom_parse_hw_cap(struct mt76x02_dev *dev);\nint mt76x02_eeprom_copy(struct mt76x02_dev *dev,\n\t\t\tenum mt76x02_eeprom_field field,\n\t\t\tvoid *dest, int len);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}