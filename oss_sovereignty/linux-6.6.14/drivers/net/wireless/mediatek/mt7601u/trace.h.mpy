{
  "module_name": "trace.h",
  "hash_id": "4b4e9222296a8090d06b38fe59d60cf06490ee2796efa1b4a1e8c8bed4585582",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/mediatek/mt7601u/trace.h",
  "human_readable_source": " \n \n\n#if !defined(__MT7601U_TRACE_H) || defined(TRACE_HEADER_MULTI_READ)\n#define __MT7601U_TRACE_H\n\n#include <linux/tracepoint.h>\n#include \"mt7601u.h\"\n#include \"mac.h\"\n\n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM mt7601u\n\n#define MAXNAME\t\t32\n#define DEV_ENTRY\t__array(char, wiphy_name, 32)\n#define DEV_ASSIGN\tstrscpy(__entry->wiphy_name,\t\t\t\\\n\t\t\t\twiphy_name(dev->hw->wiphy), MAXNAME)\n#define DEV_PR_FMT\t\"%s \"\n#define DEV_PR_ARG\t__entry->wiphy_name\n\n#define REG_ENTRY\t__field(u32, reg) __field(u32, val)\n#define REG_ASSIGN\t__entry->reg = reg; __entry->val = val\n#define REG_PR_FMT\t\"%04x=%08x\"\n#define REG_PR_ARG\t__entry->reg, __entry->val\n\nDECLARE_EVENT_CLASS(dev_reg_evtu,\n\tTP_PROTO(struct mt7601u_dev *dev, u32 reg, u32 val),\n\tTP_ARGS(dev, reg, val),\n\tTP_STRUCT__entry(\n\t\tDEV_ENTRY\n\t\tREG_ENTRY\n\t),\n\tTP_fast_assign(\n\t\tDEV_ASSIGN;\n\t\tREG_ASSIGN;\n\t),\n\tTP_printk(\n\t\tDEV_PR_FMT REG_PR_FMT,\n\t\tDEV_PR_ARG, REG_PR_ARG\n\t)\n);\n\nDEFINE_EVENT(dev_reg_evtu, reg_read,\n\tTP_PROTO(struct mt7601u_dev *dev, u32 reg, u32 val),\n\tTP_ARGS(dev, reg, val)\n);\n\nDEFINE_EVENT(dev_reg_evtu, reg_write,\n\tTP_PROTO(struct mt7601u_dev *dev, u32 reg, u32 val),\n\tTP_ARGS(dev, reg, val)\n);\n\nTRACE_EVENT(mt_submit_urb,\n\tTP_PROTO(struct mt7601u_dev *dev, struct urb *u),\n\tTP_ARGS(dev, u),\n\tTP_STRUCT__entry(\n\t\tDEV_ENTRY __field(unsigned, pipe) __field(u32, len)\n\t),\n\tTP_fast_assign(\n\t\tDEV_ASSIGN;\n\t\t__entry->pipe = u->pipe;\n\t\t__entry->len = u->transfer_buffer_length;\n\t),\n\tTP_printk(DEV_PR_FMT \"p:%08x len:%u\",\n\t\t  DEV_PR_ARG, __entry->pipe, __entry->len)\n);\n\n#define trace_mt_submit_urb_sync(__dev, __pipe, __len) ({\t\\\n\tstruct urb u;\t\t\t\t\t\\\n\tu.pipe = __pipe;\t\t\t\t\\\n\tu.transfer_buffer_length = __len;\t\t\\\n\ttrace_mt_submit_urb(__dev, &u);\t\t\t\\\n})\n\nTRACE_EVENT(mt_mcu_msg_send,\n\tTP_PROTO(struct mt7601u_dev *dev,\n\t\t struct sk_buff *skb, u32 csum, bool resp),\n\tTP_ARGS(dev, skb, csum, resp),\n\tTP_STRUCT__entry(\n\t\tDEV_ENTRY\n\t\t__field(u32, info)\n\t\t__field(u32, csum)\n\t\t__field(bool, resp)\n\t),\n\tTP_fast_assign(\n\t\tDEV_ASSIGN;\n\t\t__entry->info = *(u32 *)skb->data;\n\t\t__entry->csum = csum;\n\t\t__entry->resp = resp;\n\t),\n\tTP_printk(DEV_PR_FMT \"i:%08x c:%08x r:%d\",\n\t\t  DEV_PR_ARG, __entry->info, __entry->csum, __entry->resp)\n);\n\nTRACE_EVENT(mt_vend_req,\n\tTP_PROTO(struct mt7601u_dev *dev, unsigned pipe, u8 req, u8 req_type,\n\t\t u16 val, u16 offset, void *buf, size_t buflen, int ret),\n\tTP_ARGS(dev, pipe, req, req_type, val, offset, buf, buflen, ret),\n\tTP_STRUCT__entry(\n\t\tDEV_ENTRY\n\t\t__field(unsigned, pipe) __field(u8, req) __field(u8, req_type)\n\t\t__field(u16, val) __field(u16, offset) __field(void*, buf)\n\t\t__field(int, buflen) __field(int, ret)\n\t),\n\tTP_fast_assign(\n\t\tDEV_ASSIGN;\n\t\t__entry->pipe = pipe;\n\t\t__entry->req = req;\n\t\t__entry->req_type = req_type;\n\t\t__entry->val = val;\n\t\t__entry->offset = offset;\n\t\t__entry->buf = buf;\n\t\t__entry->buflen = buflen;\n\t\t__entry->ret = ret;\n\t),\n\tTP_printk(DEV_PR_FMT\n\t\t  \"%d p:%08x req:%02hhx %02hhx val:%04hx %04hx buf:%d %d\",\n\t\t  DEV_PR_ARG, __entry->ret, __entry->pipe, __entry->req,\n\t\t  __entry->req_type, __entry->val, __entry->offset,\n\t\t  !!__entry->buf, __entry->buflen)\n);\n\nTRACE_EVENT(ee_read,\n\tTP_PROTO(struct mt7601u_dev *dev, int offset, u16 val),\n\tTP_ARGS(dev, offset, val),\n\tTP_STRUCT__entry(\n\t\tDEV_ENTRY\n\t\t__field(int, o) __field(u16, v)\n\t),\n\tTP_fast_assign(\n\t\tDEV_ASSIGN;\n\t\t__entry->o = offset;\n\t\t__entry->v = val;\n\t),\n\tTP_printk(DEV_PR_FMT \"%04x=%04x\", DEV_PR_ARG, __entry->o, __entry->v)\n);\n\nDECLARE_EVENT_CLASS(dev_rf_reg_evt,\n\tTP_PROTO(struct mt7601u_dev *dev, u8 bank, u8 reg, u8 val),\n\tTP_ARGS(dev, bank, reg, val),\n\tTP_STRUCT__entry(\n\t\tDEV_ENTRY\n\t\t__field(u8, bank)\n\t\t__field(u8, reg)\n\t\t__field(u8, val)\n\t),\n\tTP_fast_assign(\n\t\tDEV_ASSIGN;\n\t\tREG_ASSIGN;\n\t\t__entry->bank = bank;\n\t),\n\tTP_printk(\n\t\tDEV_PR_FMT \"%02hhx:%02hhx=%02hhx\",\n\t\tDEV_PR_ARG, __entry->bank, __entry->reg, __entry->val\n\t)\n);\n\nDEFINE_EVENT(dev_rf_reg_evt, rf_read,\n\tTP_PROTO(struct mt7601u_dev *dev, u8 bank, u8 reg, u8 val),\n\tTP_ARGS(dev, bank, reg, val)\n);\n\nDEFINE_EVENT(dev_rf_reg_evt, rf_write,\n\tTP_PROTO(struct mt7601u_dev *dev, u8 bank, u8 reg, u8 val),\n\tTP_ARGS(dev, bank, reg, val)\n);\n\nDECLARE_EVENT_CLASS(dev_bbp_reg_evt,\n\tTP_PROTO(struct mt7601u_dev *dev, u8 reg, u8 val),\n\tTP_ARGS(dev, reg, val),\n\tTP_STRUCT__entry(\n\t\tDEV_ENTRY\n\t\t__field(u8, reg)\n\t\t__field(u8, val)\n\t),\n\tTP_fast_assign(\n\t\tDEV_ASSIGN;\n\t\tREG_ASSIGN;\n\t),\n\tTP_printk(\n\t\tDEV_PR_FMT \"%02hhx=%02hhx\",\n\t\tDEV_PR_ARG, __entry->reg, __entry->val\n\t)\n);\n\nDEFINE_EVENT(dev_bbp_reg_evt, bbp_read,\n\tTP_PROTO(struct mt7601u_dev *dev, u8 reg, u8 val),\n\tTP_ARGS(dev, reg, val)\n);\n\nDEFINE_EVENT(dev_bbp_reg_evt, bbp_write,\n\tTP_PROTO(struct mt7601u_dev *dev, u8 reg, u8 val),\n\tTP_ARGS(dev, reg, val)\n);\n\nDECLARE_EVENT_CLASS(dev_simple_evt,\n\tTP_PROTO(struct mt7601u_dev *dev, u8 val),\n\tTP_ARGS(dev, val),\n\tTP_STRUCT__entry(\n\t\tDEV_ENTRY\n\t\t__field(u8, val)\n\t),\n\tTP_fast_assign(\n\t\tDEV_ASSIGN;\n\t\t__entry->val = val;\n\t),\n\tTP_printk(\n\t\tDEV_PR_FMT \"%02hhx\", DEV_PR_ARG, __entry->val\n\t)\n);\n\nDEFINE_EVENT(dev_simple_evt, temp_mode,\n\tTP_PROTO(struct mt7601u_dev *dev, u8 val),\n\tTP_ARGS(dev, val)\n);\n\nDEFINE_EVENT(dev_simple_evt, read_temp,\n\tTP_PROTO(struct mt7601u_dev *dev, u8 val),\n\tTP_ARGS(dev, val)\n);\n\nDEFINE_EVENT(dev_simple_evt, freq_cal_adjust,\n\tTP_PROTO(struct mt7601u_dev *dev, u8 val),\n\tTP_ARGS(dev, val)\n);\n\nTRACE_EVENT(freq_cal_offset,\n\tTP_PROTO(struct mt7601u_dev *dev, u8 phy_mode, s8 freq_off),\n\tTP_ARGS(dev, phy_mode, freq_off),\n\tTP_STRUCT__entry(\n\t\tDEV_ENTRY\n\t\t__field(u8, phy_mode)\n\t\t__field(s8, freq_off)\n\t),\n\tTP_fast_assign(\n\t\tDEV_ASSIGN;\n\t\t__entry->phy_mode = phy_mode;\n\t\t__entry->freq_off = freq_off;\n\t),\n\tTP_printk(DEV_PR_FMT \"phy:%02hhx off:%02hhx\",\n\t\t  DEV_PR_ARG, __entry->phy_mode, __entry->freq_off)\n);\n\nTRACE_EVENT(mt_rx,\n\tTP_PROTO(struct mt7601u_dev *dev, struct mt7601u_rxwi *rxwi, u32 f),\n\tTP_ARGS(dev, rxwi, f),\n\tTP_STRUCT__entry(\n\t\tDEV_ENTRY\n\t\t__field_struct(struct mt7601u_rxwi, rxwi)\n\t\t__field(u32, fce_info)\n\t),\n\tTP_fast_assign(\n\t\tDEV_ASSIGN;\n\t\t__entry->rxwi = *rxwi;\n\t\t__entry->fce_info = f;\n\t),\n\tTP_printk(DEV_PR_FMT \"rxi:%08x ctl:%08x frag_sn:%04hx rate:%04hx \"\n\t\t  \"uknw:%02hhx z:%02hhx%02hhx%02hhx snr:%02hhx \"\n\t\t  \"ant:%02hhx gain:%02hhx freq_o:%02hhx \"\n\t\t  \"r:%08x ea:%08x fce:%08x\", DEV_PR_ARG,\n\t\t  le32_to_cpu(__entry->rxwi.rxinfo),\n\t\t  le32_to_cpu(__entry->rxwi.ctl),\n\t\t  le16_to_cpu(__entry->rxwi.frag_sn),\n\t\t  le16_to_cpu(__entry->rxwi.rate),\n\t\t  __entry->rxwi.unknown,\n\t\t  __entry->rxwi.zero[0], __entry->rxwi.zero[1],\n\t\t  __entry->rxwi.zero[2],\n\t\t  __entry->rxwi.snr, __entry->rxwi.ant,\n\t\t  __entry->rxwi.gain, __entry->rxwi.freq_off,\n\t\t  __entry->rxwi.resv2, __entry->rxwi.expert_ant,\n\t\t  __entry->fce_info)\n);\n\nTRACE_EVENT(mt_tx,\n\tTP_PROTO(struct mt7601u_dev *dev, struct sk_buff *skb,\n\t\t struct mt76_sta *sta, struct mt76_txwi *h),\n\tTP_ARGS(dev, skb, sta, h),\n\tTP_STRUCT__entry(\n\t\tDEV_ENTRY\n\t\t__field_struct(struct mt76_txwi, h)\n\t\t__field(struct sk_buff *, skb)\n\t\t__field(struct mt76_sta *, sta)\n\t),\n\tTP_fast_assign(\n\t\tDEV_ASSIGN;\n\t\t__entry->h = *h;\n\t\t__entry->skb = skb;\n\t\t__entry->sta = sta;\n\t),\n\tTP_printk(DEV_PR_FMT \"skb:%p sta:%p  flg:%04hx rate_ctl:%04hx \"\n\t\t  \"ack:%02hhx wcid:%02hhx len_ctl:%05hx\", DEV_PR_ARG,\n\t\t  __entry->skb, __entry->sta,\n\t\t  le16_to_cpu(__entry->h.flags),\n\t\t  le16_to_cpu(__entry->h.rate_ctl),\n\t\t  __entry->h.ack_ctl, __entry->h.wcid,\n\t\t  le16_to_cpu(__entry->h.len_ctl))\n);\n\nTRACE_EVENT(mt_tx_dma_done,\n\tTP_PROTO(struct mt7601u_dev *dev, struct sk_buff *skb),\n\tTP_ARGS(dev, skb),\n\tTP_STRUCT__entry(\n\t\tDEV_ENTRY\n\t\t__field(struct sk_buff *, skb)\n\t),\n\tTP_fast_assign(\n\t\tDEV_ASSIGN;\n\t\t__entry->skb = skb;\n\t),\n\tTP_printk(DEV_PR_FMT \"%p\", DEV_PR_ARG, __entry->skb)\n);\n\nTRACE_EVENT(mt_tx_status_cleaned,\n\tTP_PROTO(struct mt7601u_dev *dev, int cleaned),\n\tTP_ARGS(dev, cleaned),\n\tTP_STRUCT__entry(\n\t\tDEV_ENTRY\n\t\t__field(int, cleaned)\n\t),\n\tTP_fast_assign(\n\t\tDEV_ASSIGN;\n\t\t__entry->cleaned = cleaned;\n\t),\n\tTP_printk(DEV_PR_FMT \"%d\", DEV_PR_ARG, __entry->cleaned)\n);\n\nTRACE_EVENT(mt_tx_status,\n\tTP_PROTO(struct mt7601u_dev *dev, u32 stat1, u32 stat2),\n\tTP_ARGS(dev, stat1, stat2),\n\tTP_STRUCT__entry(\n\t\tDEV_ENTRY\n\t\t__field(u32, stat1)\t__field(u32, stat2)\n\t),\n\tTP_fast_assign(\n\t\tDEV_ASSIGN;\n\t\t__entry->stat1 = stat1;\n\t\t__entry->stat2 = stat2;\n\t),\n\tTP_printk(DEV_PR_FMT \"%08x %08x\",\n\t\t  DEV_PR_ARG, __entry->stat1, __entry->stat2)\n);\n\nTRACE_EVENT(mt_rx_dma_aggr,\n\tTP_PROTO(struct mt7601u_dev *dev, int cnt, bool paged),\n\tTP_ARGS(dev, cnt, paged),\n\tTP_STRUCT__entry(\n\t\tDEV_ENTRY\n\t\t__field(u8, cnt)\n\t\t__field(bool, paged)\n\t),\n\tTP_fast_assign(\n\t\tDEV_ASSIGN;\n\t\t__entry->cnt = cnt;\n\t\t__entry->paged = paged;\n\t),\n\tTP_printk(DEV_PR_FMT \"cnt:%d paged:%d\",\n\t\t  DEV_PR_ARG, __entry->cnt, __entry->paged)\n);\n\nDEFINE_EVENT(dev_simple_evt, set_key,\n\tTP_PROTO(struct mt7601u_dev *dev, u8 val),\n\tTP_ARGS(dev, val)\n);\n\nTRACE_EVENT(set_shared_key,\n\tTP_PROTO(struct mt7601u_dev *dev, u8 vid, u8 key),\n\tTP_ARGS(dev, vid, key),\n\tTP_STRUCT__entry(\n\t\tDEV_ENTRY\n\t\t__field(u8, vid)\n\t\t__field(u8, key)\n\t),\n\tTP_fast_assign(\n\t\tDEV_ASSIGN;\n\t\t__entry->vid = vid;\n\t\t__entry->key = key;\n\t),\n\tTP_printk(DEV_PR_FMT \"phy:%02hhx off:%02hhx\",\n\t\t  DEV_PR_ARG, __entry->vid, __entry->key)\n);\n\n#endif\n\n#undef TRACE_INCLUDE_PATH\n#define TRACE_INCLUDE_PATH .\n#undef TRACE_INCLUDE_FILE\n#define TRACE_INCLUDE_FILE trace\n\n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}