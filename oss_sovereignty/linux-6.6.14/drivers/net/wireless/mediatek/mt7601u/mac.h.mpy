{
  "module_name": "mac.h",
  "hash_id": "44076a6fdd3ea507865205a295583e49f5ff9822e4418530462dc5181bbdadc7",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wireless/mediatek/mt7601u/mac.h",
  "human_readable_source": " \n \n\n#ifndef __MT76_MAC_H\n#define __MT76_MAC_H\n\nstruct mt76_tx_status {\n\tu8 valid:1;\n\tu8 success:1;\n\tu8 aggr:1;\n\tu8 ack_req:1;\n\tu8 is_probe:1;\n\tu8 wcid;\n\tu8 pktid;\n\tu8 retry;\n\tu16 rate;\n} __packed __aligned(2);\n\n \nstruct mt7601u_rxwi {\n\t__le32 rxinfo;\n\n\t__le32 ctl;\n\n\t__le16 frag_sn;\n\t__le16 rate;\n\n\tu8 unknown;\n\tu8 zero[3];\n\n\tu8 snr;\n\tu8 ant;\n\tu8 gain;\n\tu8 freq_off;\n\n\t__le32 resv2;\n\t__le32 expert_ant;\n} __packed __aligned(4);\n\n#define MT_RXINFO_BA\t\t\tBIT(0)\n#define MT_RXINFO_DATA\t\t\tBIT(1)\n#define MT_RXINFO_NULL\t\t\tBIT(2)\n#define MT_RXINFO_FRAG\t\t\tBIT(3)\n#define MT_RXINFO_U2M\t\t\tBIT(4)\n#define MT_RXINFO_MULTICAST\t\tBIT(5)\n#define MT_RXINFO_BROADCAST\t\tBIT(6)\n#define MT_RXINFO_MYBSS\t\t\tBIT(7)\n#define MT_RXINFO_CRCERR\t\tBIT(8)\n#define MT_RXINFO_ICVERR\t\tBIT(9)\n#define MT_RXINFO_MICERR\t\tBIT(10)\n#define MT_RXINFO_AMSDU\t\t\tBIT(11)\n#define MT_RXINFO_HTC\t\t\tBIT(12)\n#define MT_RXINFO_RSSI\t\t\tBIT(13)\n#define MT_RXINFO_L2PAD\t\t\tBIT(14)\n#define MT_RXINFO_AMPDU\t\t\tBIT(15)\n#define MT_RXINFO_DECRYPT\t\tBIT(16)\n#define MT_RXINFO_BSSIDX3\t\tBIT(17)\n#define MT_RXINFO_WAPI_KEY\t\tBIT(18)\n#define MT_RXINFO_PN_LEN\t\tGENMASK(21, 19)\n#define MT_RXINFO_SW_PKT_80211\t\tBIT(22)\n#define MT_RXINFO_TCP_SUM_BYPASS\tBIT(28)\n#define MT_RXINFO_IP_SUM_BYPASS\t\tBIT(29)\n#define MT_RXINFO_TCP_SUM_ERR\t\tBIT(30)\n#define MT_RXINFO_IP_SUM_ERR\t\tBIT(31)\n\n#define MT_RXWI_CTL_WCID\t\tGENMASK(7, 0)\n#define MT_RXWI_CTL_KEY_IDX\t\tGENMASK(9, 8)\n#define MT_RXWI_CTL_BSS_IDX\t\tGENMASK(12, 10)\n#define MT_RXWI_CTL_UDF\t\t\tGENMASK(15, 13)\n#define MT_RXWI_CTL_MPDU_LEN\t\tGENMASK(27, 16)\n#define MT_RXWI_CTL_TID\t\t\tGENMASK(31, 28)\n\n#define MT_RXWI_FRAG\t\t\tGENMASK(3, 0)\n#define MT_RXWI_SN\t\t\tGENMASK(15, 4)\n\n#define MT_RXWI_RATE_MCS\t\tGENMASK(6, 0)\n#define MT_RXWI_RATE_BW\t\t\tBIT(7)\n#define MT_RXWI_RATE_SGI\t\tBIT(8)\n#define MT_RXWI_RATE_STBC\t\tGENMASK(10, 9)\n#define MT_RXWI_RATE_ETXBF\t\tBIT(11)\n#define MT_RXWI_RATE_SND\t\tBIT(12)\n#define MT_RXWI_RATE_ITXBF\t\tBIT(13)\n#define MT_RXWI_RATE_PHY\t\tGENMASK(15, 14)\n\n#define MT_RXWI_GAIN_RSSI_VAL\t\tGENMASK(5, 0)\n#define MT_RXWI_GAIN_RSSI_LNA_ID\tGENMASK(7, 6)\n#define MT_RXWI_ANT_AUX_LNA\t\tBIT(7)\n\n#define MT_RXWI_EANT_ENC_ANT_ID\t\tGENMASK(7, 0)\n\nenum mt76_phy_type {\n\tMT_PHY_TYPE_CCK,\n\tMT_PHY_TYPE_OFDM,\n\tMT_PHY_TYPE_HT,\n\tMT_PHY_TYPE_HT_GF,\n};\n\nenum mt76_phy_bandwidth {\n\tMT_PHY_BW_20,\n\tMT_PHY_BW_40,\n};\n\nstruct mt76_txwi {\n\t__le16 flags;\n\t__le16 rate_ctl;\n\n\tu8 ack_ctl;\n\tu8 wcid;\n\t__le16 len_ctl;\n\n\t__le32 iv;\n\n\t__le32 eiv;\n\n\tu8 aid;\n\tu8 txstream;\n\t__le16 ctl;\n} __packed __aligned(4);\n\n#define MT_TXWI_FLAGS_FRAG\t\tBIT(0)\n#define MT_TXWI_FLAGS_MMPS\t\tBIT(1)\n#define MT_TXWI_FLAGS_CFACK\t\tBIT(2)\n#define MT_TXWI_FLAGS_TS\t\tBIT(3)\n#define MT_TXWI_FLAGS_AMPDU\t\tBIT(4)\n#define MT_TXWI_FLAGS_MPDU_DENSITY\tGENMASK(7, 5)\n#define MT_TXWI_FLAGS_TXOP\t\tGENMASK(9, 8)\n#define MT_TXWI_FLAGS_CWMIN\t\tGENMASK(12, 10)\n#define MT_TXWI_FLAGS_NO_RATE_FALLBACK\tBIT(13)\n#define MT_TXWI_FLAGS_TX_RPT\t\tBIT(14)\n#define MT_TXWI_FLAGS_TX_RATE_LUT\tBIT(15)\n\n#define MT_TXWI_RATE_MCS\t\tGENMASK(6, 0)\n#define MT_TXWI_RATE_BW\t\t\tBIT(7)\n#define MT_TXWI_RATE_SGI\t\tBIT(8)\n#define MT_TXWI_RATE_STBC\t\tGENMASK(10, 9)\n#define MT_TXWI_RATE_PHY_MODE\t\tGENMASK(15, 14)\n\n#define MT_TXWI_ACK_CTL_REQ\t\tBIT(0)\n#define MT_TXWI_ACK_CTL_NSEQ\t\tBIT(1)\n#define MT_TXWI_ACK_CTL_BA_WINDOW\tGENMASK(7, 2)\n\n#define MT_TXWI_LEN_BYTE_CNT\t\tGENMASK(11, 0)\n#define MT_TXWI_LEN_PKTID\t\tGENMASK(15, 12)\n\n#define MT_TXWI_CTL_TX_POWER_ADJ\tGENMASK(3, 0)\n#define MT_TXWI_CTL_CHAN_CHECK_PKT\tBIT(4)\n#define MT_TXWI_CTL_PIFS_REV\t\tBIT(6)\n\nu32 mt76_mac_process_rx(struct mt7601u_dev *dev, struct sk_buff *skb,\n\t\t\tu8 *data, void *rxi);\nint mt76_mac_wcid_set_key(struct mt7601u_dev *dev, u8 idx,\n\t\t\t  struct ieee80211_key_conf *key);\nvoid mt76_mac_wcid_set_rate(struct mt7601u_dev *dev, struct mt76_wcid *wcid,\n\t\t\t    const struct ieee80211_tx_rate *rate);\n\nint mt76_mac_shared_key_setup(struct mt7601u_dev *dev, u8 vif_idx, u8 key_idx,\n\t\t\t      struct ieee80211_key_conf *key);\nu16 mt76_mac_tx_rate_val(struct mt7601u_dev *dev,\n\t\t\t const struct ieee80211_tx_rate *rate, u8 *nss_val);\nstruct mt76_tx_status\nmt7601u_mac_fetch_tx_status(struct mt7601u_dev *dev);\nvoid mt76_send_tx_status(struct mt7601u_dev *dev, struct mt76_tx_status *stat);\nvoid mt7601u_set_macaddr(struct mt7601u_dev *dev, const u8 *addr);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}