{
  "module_name": "sja1105_spi.c",
  "hash_id": "62d0ed982ff5de04f03d52fda8fca9aa4b7cc41e80c76c89a6b5054344ab9885",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/dsa/sja1105/sja1105_spi.c",
  "human_readable_source": "\n \n#include <linux/spi/spi.h>\n#include <linux/packing.h>\n#include \"sja1105.h\"\n\nstruct sja1105_chunk {\n\tu8\t*buf;\n\tsize_t\tlen;\n\tu64\treg_addr;\n};\n\nstatic void\nsja1105_spi_message_pack(void *buf, const struct sja1105_spi_message *msg)\n{\n\tconst int size = SJA1105_SIZE_SPI_MSG_HEADER;\n\n\tmemset(buf, 0, size);\n\n\tsja1105_pack(buf, &msg->access,     31, 31, size);\n\tsja1105_pack(buf, &msg->read_count, 30, 25, size);\n\tsja1105_pack(buf, &msg->address,    24,  4, size);\n}\n\n \nstatic int sja1105_xfer(const struct sja1105_private *priv,\n\t\t\tsja1105_spi_rw_mode_t rw, u64 reg_addr, u8 *buf,\n\t\t\tsize_t len, struct ptp_system_timestamp *ptp_sts)\n{\n\tu8 hdr_buf[SJA1105_SIZE_SPI_MSG_HEADER] = {0};\n\tstruct spi_device *spi = priv->spidev;\n\tstruct spi_transfer xfers[2] = {0};\n\tstruct spi_transfer *chunk_xfer;\n\tstruct spi_transfer *hdr_xfer;\n\tstruct sja1105_chunk chunk;\n\tint num_chunks;\n\tint rc, i = 0;\n\n\tnum_chunks = DIV_ROUND_UP(len, priv->max_xfer_len);\n\n\tchunk.reg_addr = reg_addr;\n\tchunk.buf = buf;\n\tchunk.len = min_t(size_t, len, priv->max_xfer_len);\n\n\thdr_xfer = &xfers[0];\n\tchunk_xfer = &xfers[1];\n\n\tfor (i = 0; i < num_chunks; i++) {\n\t\tstruct spi_transfer *ptp_sts_xfer;\n\t\tstruct sja1105_spi_message msg;\n\n\t\t \n\t\tmsg.address = chunk.reg_addr;\n\t\tmsg.access = rw;\n\t\tif (rw == SPI_READ)\n\t\t\tmsg.read_count = chunk.len / 4;\n\t\telse\n\t\t\t \n\t\t\tmsg.read_count = 0;\n\t\tsja1105_spi_message_pack(hdr_buf, &msg);\n\t\thdr_xfer->tx_buf = hdr_buf;\n\t\thdr_xfer->len = SJA1105_SIZE_SPI_MSG_HEADER;\n\n\t\t \n\t\tif (rw == SPI_READ)\n\t\t\tchunk_xfer->rx_buf = chunk.buf;\n\t\telse\n\t\t\tchunk_xfer->tx_buf = chunk.buf;\n\t\tchunk_xfer->len = chunk.len;\n\n\t\t \n\t\tif (rw == SPI_READ)\n\t\t\tptp_sts_xfer = hdr_xfer;\n\t\telse\n\t\t\tptp_sts_xfer = chunk_xfer;\n\t\tptp_sts_xfer->ptp_sts_word_pre = ptp_sts_xfer->len - 1;\n\t\tptp_sts_xfer->ptp_sts_word_post = ptp_sts_xfer->len - 1;\n\t\tptp_sts_xfer->ptp_sts = ptp_sts;\n\n\t\t \n\t\tchunk.buf += chunk.len;\n\t\tchunk.reg_addr += chunk.len / 4;\n\t\tchunk.len = min_t(size_t, (ptrdiff_t)(buf + len - chunk.buf),\n\t\t\t\t  priv->max_xfer_len);\n\n\t\trc = spi_sync_transfer(spi, xfers, 2);\n\t\tif (rc < 0) {\n\t\t\tdev_err(&spi->dev, \"SPI transfer failed: %d\\n\", rc);\n\t\t\treturn rc;\n\t\t}\n\t}\n\n\treturn 0;\n}\n\nint sja1105_xfer_buf(const struct sja1105_private *priv,\n\t\t     sja1105_spi_rw_mode_t rw, u64 reg_addr,\n\t\t     u8 *buf, size_t len)\n{\n\treturn sja1105_xfer(priv, rw, reg_addr, buf, len, NULL);\n}\n\n \nint sja1105_xfer_u64(const struct sja1105_private *priv,\n\t\t     sja1105_spi_rw_mode_t rw, u64 reg_addr, u64 *value,\n\t\t     struct ptp_system_timestamp *ptp_sts)\n{\n\tu8 packed_buf[8];\n\tint rc;\n\n\tif (rw == SPI_WRITE)\n\t\tsja1105_pack(packed_buf, value, 63, 0, 8);\n\n\trc = sja1105_xfer(priv, rw, reg_addr, packed_buf, 8, ptp_sts);\n\n\tif (rw == SPI_READ)\n\t\tsja1105_unpack(packed_buf, value, 63, 0, 8);\n\n\treturn rc;\n}\n\n \nint sja1105_xfer_u32(const struct sja1105_private *priv,\n\t\t     sja1105_spi_rw_mode_t rw, u64 reg_addr, u32 *value,\n\t\t     struct ptp_system_timestamp *ptp_sts)\n{\n\tu8 packed_buf[4];\n\tu64 tmp;\n\tint rc;\n\n\tif (rw == SPI_WRITE) {\n\t\t \n\t\ttmp = *value;\n\t\tsja1105_pack(packed_buf, &tmp, 31, 0, 4);\n\t}\n\n\trc = sja1105_xfer(priv, rw, reg_addr, packed_buf, 4, ptp_sts);\n\n\tif (rw == SPI_READ) {\n\t\tsja1105_unpack(packed_buf, &tmp, 31, 0, 4);\n\t\t*value = tmp;\n\t}\n\n\treturn rc;\n}\n\nstatic int sja1105et_reset_cmd(struct dsa_switch *ds)\n{\n\tstruct sja1105_private *priv = ds->priv;\n\tconst struct sja1105_regs *regs = priv->info->regs;\n\tu32 cold_reset = BIT(3);\n\n\t \n\treturn sja1105_xfer_u32(priv, SPI_WRITE, regs->rgu, &cold_reset, NULL);\n}\n\nstatic int sja1105pqrs_reset_cmd(struct dsa_switch *ds)\n{\n\tstruct sja1105_private *priv = ds->priv;\n\tconst struct sja1105_regs *regs = priv->info->regs;\n\tu32 cold_reset = BIT(2);\n\n\t \n\treturn sja1105_xfer_u32(priv, SPI_WRITE, regs->rgu, &cold_reset, NULL);\n}\n\nstatic int sja1110_reset_cmd(struct dsa_switch *ds)\n{\n\tstruct sja1105_private *priv = ds->priv;\n\tconst struct sja1105_regs *regs = priv->info->regs;\n\tu32 switch_reset = BIT(20);\n\n\t \n\treturn sja1105_xfer_u32(priv, SPI_WRITE, regs->rgu, &switch_reset, NULL);\n}\n\nint sja1105_inhibit_tx(const struct sja1105_private *priv,\n\t\t       unsigned long port_bitmap, bool tx_inhibited)\n{\n\tconst struct sja1105_regs *regs = priv->info->regs;\n\tu32 inhibit_cmd;\n\tint rc;\n\n\trc = sja1105_xfer_u32(priv, SPI_READ, regs->port_control,\n\t\t\t      &inhibit_cmd, NULL);\n\tif (rc < 0)\n\t\treturn rc;\n\n\tif (tx_inhibited)\n\t\tinhibit_cmd |= port_bitmap;\n\telse\n\t\tinhibit_cmd &= ~port_bitmap;\n\n\treturn sja1105_xfer_u32(priv, SPI_WRITE, regs->port_control,\n\t\t\t\t&inhibit_cmd, NULL);\n}\n\nstruct sja1105_status {\n\tu64 configs;\n\tu64 crcchkl;\n\tu64 ids;\n\tu64 crcchkg;\n};\n\n \nstatic void sja1105_status_unpack(void *buf, struct sja1105_status *status)\n{\n\t \n\tu32 *p = buf;\n\n\t \n\tp--;\n\tsja1105_unpack(p + 0x1, &status->configs,   31, 31, 4);\n\tsja1105_unpack(p + 0x1, &status->crcchkl,   30, 30, 4);\n\tsja1105_unpack(p + 0x1, &status->ids,       29, 29, 4);\n\tsja1105_unpack(p + 0x1, &status->crcchkg,   28, 28, 4);\n}\n\nstatic int sja1105_status_get(struct sja1105_private *priv,\n\t\t\t      struct sja1105_status *status)\n{\n\tconst struct sja1105_regs *regs = priv->info->regs;\n\tu8 packed_buf[4];\n\tint rc;\n\n\trc = sja1105_xfer_buf(priv, SPI_READ, regs->status, packed_buf, 4);\n\tif (rc < 0)\n\t\treturn rc;\n\n\tsja1105_status_unpack(packed_buf, status);\n\n\treturn 0;\n}\n\n \nint static_config_buf_prepare_for_upload(struct sja1105_private *priv,\n\t\t\t\t\t void *config_buf, int buf_len)\n{\n\tstruct sja1105_static_config *config = &priv->static_config;\n\tstruct sja1105_table_header final_header;\n\tsja1105_config_valid_t valid;\n\tchar *final_header_ptr;\n\tint crc_len;\n\n\tvalid = sja1105_static_config_check_valid(config,\n\t\t\t\t\t\t  priv->info->max_frame_mem);\n\tif (valid != SJA1105_CONFIG_OK) {\n\t\tdev_err(&priv->spidev->dev,\n\t\t\tsja1105_static_config_error_msg[valid]);\n\t\treturn -EINVAL;\n\t}\n\n\t \n\tsja1105_static_config_pack(config_buf, config);\n\t \n\tcrc_len = buf_len - 4;\n\t \n\tfinal_header_ptr = config_buf + buf_len - SJA1105_SIZE_TABLE_HEADER;\n\tsja1105_table_header_packing(final_header_ptr, &final_header, UNPACK);\n\t \n\tfinal_header.crc = sja1105_crc32(config_buf, crc_len);\n\t \n\tsja1105_table_header_packing(final_header_ptr, &final_header, PACK);\n\n\treturn 0;\n}\n\n#define RETRIES 10\n\nint sja1105_static_config_upload(struct sja1105_private *priv)\n{\n\tstruct sja1105_static_config *config = &priv->static_config;\n\tconst struct sja1105_regs *regs = priv->info->regs;\n\tstruct device *dev = &priv->spidev->dev;\n\tstruct dsa_switch *ds = priv->ds;\n\tstruct sja1105_status status;\n\tint rc, retries = RETRIES;\n\tu8 *config_buf;\n\tint buf_len;\n\n\tbuf_len = sja1105_static_config_get_length(config);\n\tconfig_buf = kcalloc(buf_len, sizeof(char), GFP_KERNEL);\n\tif (!config_buf)\n\t\treturn -ENOMEM;\n\n\trc = static_config_buf_prepare_for_upload(priv, config_buf, buf_len);\n\tif (rc < 0) {\n\t\tdev_err(dev, \"Invalid config, cannot upload\\n\");\n\t\trc = -EINVAL;\n\t\tgoto out;\n\t}\n\t \n\trc = sja1105_inhibit_tx(priv, GENMASK_ULL(ds->num_ports - 1, 0), true);\n\tif (rc < 0) {\n\t\tdev_err(dev, \"Failed to inhibit Tx on ports\\n\");\n\t\trc = -ENXIO;\n\t\tgoto out;\n\t}\n\t \n\tusleep_range(500, 1000);\n\tdo {\n\t\t \n\t\trc = priv->info->reset_cmd(priv->ds);\n\t\tif (rc < 0) {\n\t\t\tdev_err(dev, \"Failed to reset switch, retrying...\\n\");\n\t\t\tcontinue;\n\t\t}\n\t\t \n\t\tusleep_range(1000, 5000);\n\t\t \n\t\trc = sja1105_xfer_buf(priv, SPI_WRITE, regs->config,\n\t\t\t\t      config_buf, buf_len);\n\t\tif (rc < 0) {\n\t\t\tdev_err(dev, \"Failed to upload config, retrying...\\n\");\n\t\t\tcontinue;\n\t\t}\n\t\t \n\t\trc = sja1105_status_get(priv, &status);\n\t\tif (rc < 0)\n\t\t\tcontinue;\n\n\t\tif (status.ids == 1) {\n\t\t\tdev_err(dev, \"Mismatch between hardware and static config \"\n\t\t\t\t\"device id. Wrote 0x%llx, wants 0x%llx\\n\",\n\t\t\t\tconfig->device_id, priv->info->device_id);\n\t\t\tcontinue;\n\t\t}\n\t\tif (status.crcchkl == 1) {\n\t\t\tdev_err(dev, \"Switch reported invalid local CRC on \"\n\t\t\t\t\"the uploaded config, retrying...\\n\");\n\t\t\tcontinue;\n\t\t}\n\t\tif (status.crcchkg == 1) {\n\t\t\tdev_err(dev, \"Switch reported invalid global CRC on \"\n\t\t\t\t\"the uploaded config, retrying...\\n\");\n\t\t\tcontinue;\n\t\t}\n\t\tif (status.configs == 0) {\n\t\t\tdev_err(dev, \"Switch reported that configuration is \"\n\t\t\t\t\"invalid, retrying...\\n\");\n\t\t\tcontinue;\n\t\t}\n\t\t \n\t\tbreak;\n\t} while (--retries);\n\n\tif (!retries) {\n\t\trc = -EIO;\n\t\tdev_err(dev, \"Failed to upload config to device, giving up\\n\");\n\t\tgoto out;\n\t} else if (retries != RETRIES) {\n\t\tdev_info(dev, \"Succeeded after %d tried\\n\", RETRIES - retries);\n\t}\n\nout:\n\tkfree(config_buf);\n\treturn rc;\n}\n\nstatic const struct sja1105_regs sja1105et_regs = {\n\t.device_id = 0x0,\n\t.prod_id = 0x100BC3,\n\t.status = 0x1,\n\t.port_control = 0x11,\n\t.vl_status = 0x10000,\n\t.config = 0x020000,\n\t.rgu = 0x100440,\n\t \n\t.pad_mii_tx = {0x100800, 0x100802, 0x100804, 0x100806, 0x100808},\n\t.pad_mii_rx = {0x100801, 0x100803, 0x100805, 0x100807, 0x100809},\n\t.rmii_pll1 = 0x10000A,\n\t.cgu_idiv = {0x10000B, 0x10000C, 0x10000D, 0x10000E, 0x10000F},\n\t.stats[MAC] = {0x200, 0x202, 0x204, 0x206, 0x208},\n\t.stats[HL1] = {0x400, 0x410, 0x420, 0x430, 0x440},\n\t.stats[HL2] = {0x600, 0x610, 0x620, 0x630, 0x640},\n\t \n\t.mii_tx_clk = {0x100013, 0x10001A, 0x100021, 0x100028, 0x10002F},\n\t.mii_rx_clk = {0x100014, 0x10001B, 0x100022, 0x100029, 0x100030},\n\t.mii_ext_tx_clk = {0x100018, 0x10001F, 0x100026, 0x10002D, 0x100034},\n\t.mii_ext_rx_clk = {0x100019, 0x100020, 0x100027, 0x10002E, 0x100035},\n\t.rgmii_tx_clk = {0x100016, 0x10001D, 0x100024, 0x10002B, 0x100032},\n\t.rmii_ref_clk = {0x100015, 0x10001C, 0x100023, 0x10002A, 0x100031},\n\t.rmii_ext_tx_clk = {0x100018, 0x10001F, 0x100026, 0x10002D, 0x100034},\n\t.ptpegr_ts = {0xC0, 0xC2, 0xC4, 0xC6, 0xC8},\n\t.ptpschtm = 0x12,  \n\t.ptppinst = 0x14,\n\t.ptppindur = 0x16,\n\t.ptp_control = 0x17,\n\t.ptpclkval = 0x18,  \n\t.ptpclkrate = 0x1A,\n\t.ptpclkcorp = 0x1D,\n\t.mdio_100base_tx = SJA1105_RSV_ADDR,\n\t.mdio_100base_t1 = SJA1105_RSV_ADDR,\n};\n\nstatic const struct sja1105_regs sja1105pqrs_regs = {\n\t.device_id = 0x0,\n\t.prod_id = 0x100BC3,\n\t.status = 0x1,\n\t.port_control = 0x12,\n\t.vl_status = 0x10000,\n\t.config = 0x020000,\n\t.rgu = 0x100440,\n\t \n\t.pad_mii_tx = {0x100800, 0x100802, 0x100804, 0x100806, 0x100808},\n\t.pad_mii_rx = {0x100801, 0x100803, 0x100805, 0x100807, 0x100809},\n\t.pad_mii_id = {0x100810, 0x100811, 0x100812, 0x100813, 0x100814},\n\t.rmii_pll1 = 0x10000A,\n\t.cgu_idiv = {0x10000B, 0x10000C, 0x10000D, 0x10000E, 0x10000F},\n\t.stats[MAC] = {0x200, 0x202, 0x204, 0x206, 0x208},\n\t.stats[HL1] = {0x400, 0x410, 0x420, 0x430, 0x440},\n\t.stats[HL2] = {0x600, 0x610, 0x620, 0x630, 0x640},\n\t.stats[ETHER] = {0x1400, 0x1418, 0x1430, 0x1448, 0x1460},\n\t \n\t.mii_tx_clk = {0x100013, 0x100019, 0x10001F, 0x100025, 0x10002B},\n\t.mii_rx_clk = {0x100014, 0x10001A, 0x100020, 0x100026, 0x10002C},\n\t.mii_ext_tx_clk = {0x100017, 0x10001D, 0x100023, 0x100029, 0x10002F},\n\t.mii_ext_rx_clk = {0x100018, 0x10001E, 0x100024, 0x10002A, 0x100030},\n\t.rgmii_tx_clk = {0x100016, 0x10001C, 0x100022, 0x100028, 0x10002E},\n\t.rmii_ref_clk = {0x100015, 0x10001B, 0x100021, 0x100027, 0x10002D},\n\t.rmii_ext_tx_clk = {0x100017, 0x10001D, 0x100023, 0x100029, 0x10002F},\n\t.ptpegr_ts = {0xC0, 0xC4, 0xC8, 0xCC, 0xD0},\n\t.ptpschtm = 0x13,  \n\t.ptppinst = 0x15,\n\t.ptppindur = 0x17,\n\t.ptp_control = 0x18,\n\t.ptpclkval = 0x19,\n\t.ptpclkrate = 0x1B,\n\t.ptpclkcorp = 0x1E,\n\t.ptpsyncts = 0x1F,\n\t.mdio_100base_tx = SJA1105_RSV_ADDR,\n\t.mdio_100base_t1 = SJA1105_RSV_ADDR,\n};\n\nstatic const struct sja1105_regs sja1110_regs = {\n\t.device_id = SJA1110_SPI_ADDR(0x0),\n\t.prod_id = SJA1110_ACU_ADDR(0xf00),\n\t.status = SJA1110_SPI_ADDR(0x4),\n\t.port_control = SJA1110_SPI_ADDR(0x50),  \n\t.vl_status = 0x10000,\n\t.config = 0x020000,\n\t.rgu = SJA1110_RGU_ADDR(0x100),  \n\t \n\t.pad_mii_tx = {SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t       SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t       SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t       SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t       SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t       SJA1105_RSV_ADDR},\n\t.pad_mii_rx = {SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t       SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t       SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t       SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t       SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t       SJA1105_RSV_ADDR},\n\t.pad_mii_id = {SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t       SJA1110_ACU_ADDR(0x18), SJA1110_ACU_ADDR(0x28),\n\t\t       SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t       SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t       SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t       SJA1105_RSV_ADDR},\n\t.rmii_pll1 = SJA1105_RSV_ADDR,\n\t.cgu_idiv = {SJA1105_RSV_ADDR, SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t     SJA1105_RSV_ADDR, SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t     SJA1105_RSV_ADDR, SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t     SJA1105_RSV_ADDR, SJA1105_RSV_ADDR},\n\t.stats[MAC] = {0x200, 0x202, 0x204, 0x206, 0x208, 0x20a,\n\t\t       0x20c, 0x20e, 0x210, 0x212, 0x214},\n\t.stats[HL1] = {0x400, 0x410, 0x420, 0x430, 0x440, 0x450,\n\t\t       0x460, 0x470, 0x480, 0x490, 0x4a0},\n\t.stats[HL2] = {0x600, 0x610, 0x620, 0x630, 0x640, 0x650,\n\t\t       0x660, 0x670, 0x680, 0x690, 0x6a0},\n\t.stats[ETHER] = {0x1400, 0x1418, 0x1430, 0x1448, 0x1460, 0x1478,\n\t\t\t 0x1490, 0x14a8, 0x14c0, 0x14d8, 0x14f0},\n\t.mii_tx_clk = {SJA1105_RSV_ADDR, SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t       SJA1105_RSV_ADDR, SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t       SJA1105_RSV_ADDR, SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t       SJA1105_RSV_ADDR, SJA1105_RSV_ADDR},\n\t.mii_rx_clk = {SJA1105_RSV_ADDR, SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t       SJA1105_RSV_ADDR, SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t       SJA1105_RSV_ADDR, SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t       SJA1105_RSV_ADDR, SJA1105_RSV_ADDR},\n\t.mii_ext_tx_clk = {SJA1105_RSV_ADDR, SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t\t   SJA1105_RSV_ADDR, SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t\t   SJA1105_RSV_ADDR, SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t\t   SJA1105_RSV_ADDR, SJA1105_RSV_ADDR},\n\t.mii_ext_rx_clk = {SJA1105_RSV_ADDR, SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t\t   SJA1105_RSV_ADDR, SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t\t   SJA1105_RSV_ADDR, SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t\t   SJA1105_RSV_ADDR, SJA1105_RSV_ADDR},\n\t.rgmii_tx_clk = {SJA1105_RSV_ADDR, SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t\t SJA1105_RSV_ADDR, SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t\t SJA1105_RSV_ADDR, SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t\t SJA1105_RSV_ADDR, SJA1105_RSV_ADDR},\n\t.rmii_ref_clk = {SJA1105_RSV_ADDR, SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t\t SJA1105_RSV_ADDR, SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t\t SJA1105_RSV_ADDR, SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t\t SJA1105_RSV_ADDR, SJA1105_RSV_ADDR},\n\t.rmii_ext_tx_clk = {SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t\t    SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t\t    SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t\t    SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t\t    SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t\t    SJA1105_RSV_ADDR},\n\t.ptpschtm = SJA1110_SPI_ADDR(0x54),\n\t.ptppinst = SJA1110_SPI_ADDR(0x5c),\n\t.ptppindur = SJA1110_SPI_ADDR(0x64),\n\t.ptp_control = SJA1110_SPI_ADDR(0x68),\n\t.ptpclkval = SJA1110_SPI_ADDR(0x6c),\n\t.ptpclkrate = SJA1110_SPI_ADDR(0x74),\n\t.ptpclkcorp = SJA1110_SPI_ADDR(0x80),\n\t.ptpsyncts = SJA1110_SPI_ADDR(0x84),\n\t.mdio_100base_tx = 0x1c2400,\n\t.mdio_100base_t1 = 0x1c1000,\n\t.pcs_base = {SJA1105_RSV_ADDR, 0x1c1400, 0x1c1800, 0x1c1c00, 0x1c2000,\n\t\t     SJA1105_RSV_ADDR, SJA1105_RSV_ADDR, SJA1105_RSV_ADDR,\n\t\t     SJA1105_RSV_ADDR, SJA1105_RSV_ADDR, SJA1105_RSV_ADDR},\n};\n\nconst struct sja1105_info sja1105e_info = {\n\t.device_id\t\t= SJA1105E_DEVICE_ID,\n\t.part_no\t\t= SJA1105ET_PART_NO,\n\t.static_ops\t\t= sja1105e_table_ops,\n\t.dyn_ops\t\t= sja1105et_dyn_ops,\n\t.tag_proto\t\t= DSA_TAG_PROTO_SJA1105,\n\t.can_limit_mcast_flood\t= false,\n\t.ptp_ts_bits\t\t= 24,\n\t.ptpegr_ts_bytes\t= 4,\n\t.max_frame_mem\t\t= SJA1105_MAX_FRAME_MEMORY,\n\t.num_ports\t\t= SJA1105_NUM_PORTS,\n\t.num_cbs_shapers\t= SJA1105ET_MAX_CBS_COUNT,\n\t.reset_cmd\t\t= sja1105et_reset_cmd,\n\t.fdb_add_cmd\t\t= sja1105et_fdb_add,\n\t.fdb_del_cmd\t\t= sja1105et_fdb_del,\n\t.ptp_cmd_packing\t= sja1105et_ptp_cmd_packing,\n\t.rxtstamp\t\t= sja1105_rxtstamp,\n\t.clocking_setup\t\t= sja1105_clocking_setup,\n\t.regs\t\t\t= &sja1105et_regs,\n\t.port_speed\t\t= {\n\t\t[SJA1105_SPEED_AUTO] = 0,\n\t\t[SJA1105_SPEED_10MBPS] = 3,\n\t\t[SJA1105_SPEED_100MBPS] = 2,\n\t\t[SJA1105_SPEED_1000MBPS] = 1,\n\t\t[SJA1105_SPEED_2500MBPS] = 0,  \n\t},\n\t.supports_mii\t\t= {true, true, true, true, true},\n\t.supports_rmii\t\t= {true, true, true, true, true},\n\t.supports_rgmii\t\t= {true, true, true, true, true},\n\t.name\t\t\t= \"SJA1105E\",\n};\n\nconst struct sja1105_info sja1105t_info = {\n\t.device_id\t\t= SJA1105T_DEVICE_ID,\n\t.part_no\t\t= SJA1105ET_PART_NO,\n\t.static_ops\t\t= sja1105t_table_ops,\n\t.dyn_ops\t\t= sja1105et_dyn_ops,\n\t.tag_proto\t\t= DSA_TAG_PROTO_SJA1105,\n\t.can_limit_mcast_flood\t= false,\n\t.ptp_ts_bits\t\t= 24,\n\t.ptpegr_ts_bytes\t= 4,\n\t.max_frame_mem\t\t= SJA1105_MAX_FRAME_MEMORY,\n\t.num_ports\t\t= SJA1105_NUM_PORTS,\n\t.num_cbs_shapers\t= SJA1105ET_MAX_CBS_COUNT,\n\t.reset_cmd\t\t= sja1105et_reset_cmd,\n\t.fdb_add_cmd\t\t= sja1105et_fdb_add,\n\t.fdb_del_cmd\t\t= sja1105et_fdb_del,\n\t.ptp_cmd_packing\t= sja1105et_ptp_cmd_packing,\n\t.rxtstamp\t\t= sja1105_rxtstamp,\n\t.clocking_setup\t\t= sja1105_clocking_setup,\n\t.regs\t\t\t= &sja1105et_regs,\n\t.port_speed\t\t= {\n\t\t[SJA1105_SPEED_AUTO] = 0,\n\t\t[SJA1105_SPEED_10MBPS] = 3,\n\t\t[SJA1105_SPEED_100MBPS] = 2,\n\t\t[SJA1105_SPEED_1000MBPS] = 1,\n\t\t[SJA1105_SPEED_2500MBPS] = 0,  \n\t},\n\t.supports_mii\t\t= {true, true, true, true, true},\n\t.supports_rmii\t\t= {true, true, true, true, true},\n\t.supports_rgmii\t\t= {true, true, true, true, true},\n\t.name\t\t\t= \"SJA1105T\",\n};\n\nconst struct sja1105_info sja1105p_info = {\n\t.device_id\t\t= SJA1105PR_DEVICE_ID,\n\t.part_no\t\t= SJA1105P_PART_NO,\n\t.static_ops\t\t= sja1105p_table_ops,\n\t.dyn_ops\t\t= sja1105pqrs_dyn_ops,\n\t.tag_proto\t\t= DSA_TAG_PROTO_SJA1105,\n\t.can_limit_mcast_flood\t= true,\n\t.ptp_ts_bits\t\t= 32,\n\t.ptpegr_ts_bytes\t= 8,\n\t.max_frame_mem\t\t= SJA1105_MAX_FRAME_MEMORY,\n\t.num_ports\t\t= SJA1105_NUM_PORTS,\n\t.num_cbs_shapers\t= SJA1105PQRS_MAX_CBS_COUNT,\n\t.setup_rgmii_delay\t= sja1105pqrs_setup_rgmii_delay,\n\t.reset_cmd\t\t= sja1105pqrs_reset_cmd,\n\t.fdb_add_cmd\t\t= sja1105pqrs_fdb_add,\n\t.fdb_del_cmd\t\t= sja1105pqrs_fdb_del,\n\t.ptp_cmd_packing\t= sja1105pqrs_ptp_cmd_packing,\n\t.rxtstamp\t\t= sja1105_rxtstamp,\n\t.clocking_setup\t\t= sja1105_clocking_setup,\n\t.regs\t\t\t= &sja1105pqrs_regs,\n\t.port_speed\t\t= {\n\t\t[SJA1105_SPEED_AUTO] = 0,\n\t\t[SJA1105_SPEED_10MBPS] = 3,\n\t\t[SJA1105_SPEED_100MBPS] = 2,\n\t\t[SJA1105_SPEED_1000MBPS] = 1,\n\t\t[SJA1105_SPEED_2500MBPS] = 0,  \n\t},\n\t.supports_mii\t\t= {true, true, true, true, true},\n\t.supports_rmii\t\t= {true, true, true, true, true},\n\t.supports_rgmii\t\t= {true, true, true, true, true},\n\t.name\t\t\t= \"SJA1105P\",\n};\n\nconst struct sja1105_info sja1105q_info = {\n\t.device_id\t\t= SJA1105QS_DEVICE_ID,\n\t.part_no\t\t= SJA1105Q_PART_NO,\n\t.static_ops\t\t= sja1105q_table_ops,\n\t.dyn_ops\t\t= sja1105pqrs_dyn_ops,\n\t.tag_proto\t\t= DSA_TAG_PROTO_SJA1105,\n\t.can_limit_mcast_flood\t= true,\n\t.ptp_ts_bits\t\t= 32,\n\t.ptpegr_ts_bytes\t= 8,\n\t.max_frame_mem\t\t= SJA1105_MAX_FRAME_MEMORY,\n\t.num_ports\t\t= SJA1105_NUM_PORTS,\n\t.num_cbs_shapers\t= SJA1105PQRS_MAX_CBS_COUNT,\n\t.setup_rgmii_delay\t= sja1105pqrs_setup_rgmii_delay,\n\t.reset_cmd\t\t= sja1105pqrs_reset_cmd,\n\t.fdb_add_cmd\t\t= sja1105pqrs_fdb_add,\n\t.fdb_del_cmd\t\t= sja1105pqrs_fdb_del,\n\t.ptp_cmd_packing\t= sja1105pqrs_ptp_cmd_packing,\n\t.rxtstamp\t\t= sja1105_rxtstamp,\n\t.clocking_setup\t\t= sja1105_clocking_setup,\n\t.regs\t\t\t= &sja1105pqrs_regs,\n\t.port_speed\t\t= {\n\t\t[SJA1105_SPEED_AUTO] = 0,\n\t\t[SJA1105_SPEED_10MBPS] = 3,\n\t\t[SJA1105_SPEED_100MBPS] = 2,\n\t\t[SJA1105_SPEED_1000MBPS] = 1,\n\t\t[SJA1105_SPEED_2500MBPS] = 0,  \n\t},\n\t.supports_mii\t\t= {true, true, true, true, true},\n\t.supports_rmii\t\t= {true, true, true, true, true},\n\t.supports_rgmii\t\t= {true, true, true, true, true},\n\t.name\t\t\t= \"SJA1105Q\",\n};\n\nconst struct sja1105_info sja1105r_info = {\n\t.device_id\t\t= SJA1105PR_DEVICE_ID,\n\t.part_no\t\t= SJA1105R_PART_NO,\n\t.static_ops\t\t= sja1105r_table_ops,\n\t.dyn_ops\t\t= sja1105pqrs_dyn_ops,\n\t.tag_proto\t\t= DSA_TAG_PROTO_SJA1105,\n\t.can_limit_mcast_flood\t= true,\n\t.ptp_ts_bits\t\t= 32,\n\t.ptpegr_ts_bytes\t= 8,\n\t.max_frame_mem\t\t= SJA1105_MAX_FRAME_MEMORY,\n\t.num_ports\t\t= SJA1105_NUM_PORTS,\n\t.num_cbs_shapers\t= SJA1105PQRS_MAX_CBS_COUNT,\n\t.setup_rgmii_delay\t= sja1105pqrs_setup_rgmii_delay,\n\t.reset_cmd\t\t= sja1105pqrs_reset_cmd,\n\t.fdb_add_cmd\t\t= sja1105pqrs_fdb_add,\n\t.fdb_del_cmd\t\t= sja1105pqrs_fdb_del,\n\t.ptp_cmd_packing\t= sja1105pqrs_ptp_cmd_packing,\n\t.rxtstamp\t\t= sja1105_rxtstamp,\n\t.clocking_setup\t\t= sja1105_clocking_setup,\n\t.pcs_mdio_read_c45\t= sja1105_pcs_mdio_read_c45,\n\t.pcs_mdio_write_c45\t= sja1105_pcs_mdio_write_c45,\n\t.regs\t\t\t= &sja1105pqrs_regs,\n\t.port_speed\t\t= {\n\t\t[SJA1105_SPEED_AUTO] = 0,\n\t\t[SJA1105_SPEED_10MBPS] = 3,\n\t\t[SJA1105_SPEED_100MBPS] = 2,\n\t\t[SJA1105_SPEED_1000MBPS] = 1,\n\t\t[SJA1105_SPEED_2500MBPS] = 0,  \n\t},\n\t.supports_mii\t\t= {true, true, true, true, true},\n\t.supports_rmii\t\t= {true, true, true, true, true},\n\t.supports_rgmii\t\t= {true, true, true, true, true},\n\t.supports_sgmii\t\t= {false, false, false, false, true},\n\t.name\t\t\t= \"SJA1105R\",\n};\n\nconst struct sja1105_info sja1105s_info = {\n\t.device_id\t\t= SJA1105QS_DEVICE_ID,\n\t.part_no\t\t= SJA1105S_PART_NO,\n\t.static_ops\t\t= sja1105s_table_ops,\n\t.dyn_ops\t\t= sja1105pqrs_dyn_ops,\n\t.regs\t\t\t= &sja1105pqrs_regs,\n\t.tag_proto\t\t= DSA_TAG_PROTO_SJA1105,\n\t.can_limit_mcast_flood\t= true,\n\t.ptp_ts_bits\t\t= 32,\n\t.ptpegr_ts_bytes\t= 8,\n\t.max_frame_mem\t\t= SJA1105_MAX_FRAME_MEMORY,\n\t.num_ports\t\t= SJA1105_NUM_PORTS,\n\t.num_cbs_shapers\t= SJA1105PQRS_MAX_CBS_COUNT,\n\t.setup_rgmii_delay\t= sja1105pqrs_setup_rgmii_delay,\n\t.reset_cmd\t\t= sja1105pqrs_reset_cmd,\n\t.fdb_add_cmd\t\t= sja1105pqrs_fdb_add,\n\t.fdb_del_cmd\t\t= sja1105pqrs_fdb_del,\n\t.ptp_cmd_packing\t= sja1105pqrs_ptp_cmd_packing,\n\t.rxtstamp\t\t= sja1105_rxtstamp,\n\t.clocking_setup\t\t= sja1105_clocking_setup,\n\t.pcs_mdio_read_c45\t= sja1105_pcs_mdio_read_c45,\n\t.pcs_mdio_write_c45\t= sja1105_pcs_mdio_write_c45,\n\t.port_speed\t\t= {\n\t\t[SJA1105_SPEED_AUTO] = 0,\n\t\t[SJA1105_SPEED_10MBPS] = 3,\n\t\t[SJA1105_SPEED_100MBPS] = 2,\n\t\t[SJA1105_SPEED_1000MBPS] = 1,\n\t\t[SJA1105_SPEED_2500MBPS] = 0,  \n\t},\n\t.supports_mii\t\t= {true, true, true, true, true},\n\t.supports_rmii\t\t= {true, true, true, true, true},\n\t.supports_rgmii\t\t= {true, true, true, true, true},\n\t.supports_sgmii\t\t= {false, false, false, false, true},\n\t.name\t\t\t= \"SJA1105S\",\n};\n\nconst struct sja1105_info sja1110a_info = {\n\t.device_id\t\t= SJA1110_DEVICE_ID,\n\t.part_no\t\t= SJA1110A_PART_NO,\n\t.static_ops\t\t= sja1110_table_ops,\n\t.dyn_ops\t\t= sja1110_dyn_ops,\n\t.regs\t\t\t= &sja1110_regs,\n\t.tag_proto\t\t= DSA_TAG_PROTO_SJA1110,\n\t.can_limit_mcast_flood\t= true,\n\t.multiple_cascade_ports\t= true,\n\t.fixed_cbs_mapping\t= true,\n\t.ptp_ts_bits\t\t= 32,\n\t.ptpegr_ts_bytes\t= 8,\n\t.max_frame_mem\t\t= SJA1110_MAX_FRAME_MEMORY,\n\t.num_ports\t\t= SJA1110_NUM_PORTS,\n\t.num_cbs_shapers\t= SJA1110_MAX_CBS_COUNT,\n\t.setup_rgmii_delay\t= sja1110_setup_rgmii_delay,\n\t.reset_cmd\t\t= sja1110_reset_cmd,\n\t.fdb_add_cmd\t\t= sja1105pqrs_fdb_add,\n\t.fdb_del_cmd\t\t= sja1105pqrs_fdb_del,\n\t.ptp_cmd_packing\t= sja1105pqrs_ptp_cmd_packing,\n\t.rxtstamp\t\t= sja1110_rxtstamp,\n\t.txtstamp\t\t= sja1110_txtstamp,\n\t.disable_microcontroller = sja1110_disable_microcontroller,\n\t.pcs_mdio_read_c45\t= sja1110_pcs_mdio_read_c45,\n\t.pcs_mdio_write_c45\t= sja1110_pcs_mdio_write_c45,\n\t.port_speed\t\t= {\n\t\t[SJA1105_SPEED_AUTO] = 0,\n\t\t[SJA1105_SPEED_10MBPS] = 4,\n\t\t[SJA1105_SPEED_100MBPS] = 3,\n\t\t[SJA1105_SPEED_1000MBPS] = 2,\n\t\t[SJA1105_SPEED_2500MBPS] = 1,\n\t},\n\t.supports_mii\t\t= {true, true, true, true, false,\n\t\t\t\t   true, true, true, true, true, true},\n\t.supports_rmii\t\t= {false, false, true, true, false,\n\t\t\t\t   false, false, false, false, false, false},\n\t.supports_rgmii\t\t= {false, false, true, true, false,\n\t\t\t\t   false, false, false, false, false, false},\n\t.supports_sgmii\t\t= {false, true, true, true, true,\n\t\t\t\t   false, false, false, false, false, false},\n\t.supports_2500basex\t= {false, false, false, true, true,\n\t\t\t\t   false, false, false, false, false, false},\n\t.internal_phy\t\t= {SJA1105_NO_PHY, SJA1105_PHY_BASE_TX,\n\t\t\t\t   SJA1105_NO_PHY, SJA1105_NO_PHY,\n\t\t\t\t   SJA1105_NO_PHY, SJA1105_PHY_BASE_T1,\n\t\t\t\t   SJA1105_PHY_BASE_T1, SJA1105_PHY_BASE_T1,\n\t\t\t\t   SJA1105_PHY_BASE_T1, SJA1105_PHY_BASE_T1,\n\t\t\t\t   SJA1105_PHY_BASE_T1},\n\t.name\t\t\t= \"SJA1110A\",\n};\n\nconst struct sja1105_info sja1110b_info = {\n\t.device_id\t\t= SJA1110_DEVICE_ID,\n\t.part_no\t\t= SJA1110B_PART_NO,\n\t.static_ops\t\t= sja1110_table_ops,\n\t.dyn_ops\t\t= sja1110_dyn_ops,\n\t.regs\t\t\t= &sja1110_regs,\n\t.tag_proto\t\t= DSA_TAG_PROTO_SJA1110,\n\t.can_limit_mcast_flood\t= true,\n\t.multiple_cascade_ports\t= true,\n\t.fixed_cbs_mapping\t= true,\n\t.ptp_ts_bits\t\t= 32,\n\t.ptpegr_ts_bytes\t= 8,\n\t.max_frame_mem\t\t= SJA1110_MAX_FRAME_MEMORY,\n\t.num_ports\t\t= SJA1110_NUM_PORTS,\n\t.num_cbs_shapers\t= SJA1110_MAX_CBS_COUNT,\n\t.setup_rgmii_delay\t= sja1110_setup_rgmii_delay,\n\t.reset_cmd\t\t= sja1110_reset_cmd,\n\t.fdb_add_cmd\t\t= sja1105pqrs_fdb_add,\n\t.fdb_del_cmd\t\t= sja1105pqrs_fdb_del,\n\t.ptp_cmd_packing\t= sja1105pqrs_ptp_cmd_packing,\n\t.rxtstamp\t\t= sja1110_rxtstamp,\n\t.txtstamp\t\t= sja1110_txtstamp,\n\t.disable_microcontroller = sja1110_disable_microcontroller,\n\t.pcs_mdio_read_c45\t= sja1110_pcs_mdio_read_c45,\n\t.pcs_mdio_write_c45\t= sja1110_pcs_mdio_write_c45,\n\t.port_speed\t\t= {\n\t\t[SJA1105_SPEED_AUTO] = 0,\n\t\t[SJA1105_SPEED_10MBPS] = 4,\n\t\t[SJA1105_SPEED_100MBPS] = 3,\n\t\t[SJA1105_SPEED_1000MBPS] = 2,\n\t\t[SJA1105_SPEED_2500MBPS] = 1,\n\t},\n\t.supports_mii\t\t= {true, true, true, true, false,\n\t\t\t\t   true, true, true, true, true, false},\n\t.supports_rmii\t\t= {false, false, true, true, false,\n\t\t\t\t   false, false, false, false, false, false},\n\t.supports_rgmii\t\t= {false, false, true, true, false,\n\t\t\t\t   false, false, false, false, false, false},\n\t.supports_sgmii\t\t= {false, false, false, true, true,\n\t\t\t\t   false, false, false, false, false, false},\n\t.supports_2500basex\t= {false, false, false, true, true,\n\t\t\t\t   false, false, false, false, false, false},\n\t.internal_phy\t\t= {SJA1105_NO_PHY, SJA1105_PHY_BASE_TX,\n\t\t\t\t   SJA1105_NO_PHY, SJA1105_NO_PHY,\n\t\t\t\t   SJA1105_NO_PHY, SJA1105_PHY_BASE_T1,\n\t\t\t\t   SJA1105_PHY_BASE_T1, SJA1105_PHY_BASE_T1,\n\t\t\t\t   SJA1105_PHY_BASE_T1, SJA1105_PHY_BASE_T1,\n\t\t\t\t   SJA1105_NO_PHY},\n\t.name\t\t\t= \"SJA1110B\",\n};\n\nconst struct sja1105_info sja1110c_info = {\n\t.device_id\t\t= SJA1110_DEVICE_ID,\n\t.part_no\t\t= SJA1110C_PART_NO,\n\t.static_ops\t\t= sja1110_table_ops,\n\t.dyn_ops\t\t= sja1110_dyn_ops,\n\t.regs\t\t\t= &sja1110_regs,\n\t.tag_proto\t\t= DSA_TAG_PROTO_SJA1110,\n\t.can_limit_mcast_flood\t= true,\n\t.multiple_cascade_ports\t= true,\n\t.fixed_cbs_mapping\t= true,\n\t.ptp_ts_bits\t\t= 32,\n\t.ptpegr_ts_bytes\t= 8,\n\t.max_frame_mem\t\t= SJA1110_MAX_FRAME_MEMORY,\n\t.num_ports\t\t= SJA1110_NUM_PORTS,\n\t.num_cbs_shapers\t= SJA1110_MAX_CBS_COUNT,\n\t.setup_rgmii_delay\t= sja1110_setup_rgmii_delay,\n\t.reset_cmd\t\t= sja1110_reset_cmd,\n\t.fdb_add_cmd\t\t= sja1105pqrs_fdb_add,\n\t.fdb_del_cmd\t\t= sja1105pqrs_fdb_del,\n\t.ptp_cmd_packing\t= sja1105pqrs_ptp_cmd_packing,\n\t.rxtstamp\t\t= sja1110_rxtstamp,\n\t.txtstamp\t\t= sja1110_txtstamp,\n\t.disable_microcontroller = sja1110_disable_microcontroller,\n\t.pcs_mdio_read_c45\t= sja1110_pcs_mdio_read_c45,\n\t.pcs_mdio_write_c45\t= sja1110_pcs_mdio_write_c45,\n\t.port_speed\t\t= {\n\t\t[SJA1105_SPEED_AUTO] = 0,\n\t\t[SJA1105_SPEED_10MBPS] = 4,\n\t\t[SJA1105_SPEED_100MBPS] = 3,\n\t\t[SJA1105_SPEED_1000MBPS] = 2,\n\t\t[SJA1105_SPEED_2500MBPS] = 1,\n\t},\n\t.supports_mii\t\t= {true, true, true, true, false,\n\t\t\t\t   true, true, true, false, false, false},\n\t.supports_rmii\t\t= {false, false, true, true, false,\n\t\t\t\t   false, false, false, false, false, false},\n\t.supports_rgmii\t\t= {false, false, true, true, false,\n\t\t\t\t   false, false, false, false, false, false},\n\t.supports_sgmii\t\t= {false, false, false, false, true,\n\t\t\t\t   false, false, false, false, false, false},\n\t.supports_2500basex\t= {false, false, false, false, true,\n\t\t\t\t   false, false, false, false, false, false},\n\t.internal_phy\t\t= {SJA1105_NO_PHY, SJA1105_PHY_BASE_TX,\n\t\t\t\t   SJA1105_NO_PHY, SJA1105_NO_PHY,\n\t\t\t\t   SJA1105_NO_PHY, SJA1105_PHY_BASE_T1,\n\t\t\t\t   SJA1105_PHY_BASE_T1, SJA1105_PHY_BASE_T1,\n\t\t\t\t   SJA1105_NO_PHY, SJA1105_NO_PHY,\n\t\t\t\t   SJA1105_NO_PHY},\n\t.name\t\t\t= \"SJA1110C\",\n};\n\nconst struct sja1105_info sja1110d_info = {\n\t.device_id\t\t= SJA1110_DEVICE_ID,\n\t.part_no\t\t= SJA1110D_PART_NO,\n\t.static_ops\t\t= sja1110_table_ops,\n\t.dyn_ops\t\t= sja1110_dyn_ops,\n\t.regs\t\t\t= &sja1110_regs,\n\t.tag_proto\t\t= DSA_TAG_PROTO_SJA1110,\n\t.can_limit_mcast_flood\t= true,\n\t.multiple_cascade_ports\t= true,\n\t.fixed_cbs_mapping\t= true,\n\t.ptp_ts_bits\t\t= 32,\n\t.ptpegr_ts_bytes\t= 8,\n\t.max_frame_mem\t\t= SJA1110_MAX_FRAME_MEMORY,\n\t.num_ports\t\t= SJA1110_NUM_PORTS,\n\t.num_cbs_shapers\t= SJA1110_MAX_CBS_COUNT,\n\t.setup_rgmii_delay\t= sja1110_setup_rgmii_delay,\n\t.reset_cmd\t\t= sja1110_reset_cmd,\n\t.fdb_add_cmd\t\t= sja1105pqrs_fdb_add,\n\t.fdb_del_cmd\t\t= sja1105pqrs_fdb_del,\n\t.ptp_cmd_packing\t= sja1105pqrs_ptp_cmd_packing,\n\t.rxtstamp\t\t= sja1110_rxtstamp,\n\t.txtstamp\t\t= sja1110_txtstamp,\n\t.disable_microcontroller = sja1110_disable_microcontroller,\n\t.pcs_mdio_read_c45\t= sja1110_pcs_mdio_read_c45,\n\t.pcs_mdio_write_c45\t= sja1110_pcs_mdio_write_c45,\n\t.port_speed\t\t= {\n\t\t[SJA1105_SPEED_AUTO] = 0,\n\t\t[SJA1105_SPEED_10MBPS] = 4,\n\t\t[SJA1105_SPEED_100MBPS] = 3,\n\t\t[SJA1105_SPEED_1000MBPS] = 2,\n\t\t[SJA1105_SPEED_2500MBPS] = 1,\n\t},\n\t.supports_mii\t\t= {true, false, true, false, false,\n\t\t\t\t   true, true, true, false, false, false},\n\t.supports_rmii\t\t= {false, false, true, false, false,\n\t\t\t\t   false, false, false, false, false, false},\n\t.supports_rgmii\t\t= {false, false, true, false, false,\n\t\t\t\t   false, false, false, false, false, false},\n\t.supports_sgmii\t\t= {false, true, true, true, true,\n\t\t\t\t   false, false, false, false, false, false},\n\t.supports_2500basex     = {false, false, false, true, true,\n\t\t\t\t   false, false, false, false, false, false},\n\t.internal_phy\t\t= {SJA1105_NO_PHY, SJA1105_NO_PHY,\n\t\t\t\t   SJA1105_NO_PHY, SJA1105_NO_PHY,\n\t\t\t\t   SJA1105_NO_PHY, SJA1105_PHY_BASE_T1,\n\t\t\t\t   SJA1105_PHY_BASE_T1, SJA1105_PHY_BASE_T1,\n\t\t\t\t   SJA1105_NO_PHY, SJA1105_NO_PHY,\n\t\t\t\t   SJA1105_NO_PHY},\n\t.name\t\t\t= \"SJA1110D\",\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}