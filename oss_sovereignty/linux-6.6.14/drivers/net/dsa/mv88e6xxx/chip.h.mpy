{
  "module_name": "chip.h",
  "hash_id": "ccdb23a6c32f057b5b96022addb82ff43569dd587e2aca55f8acd51d4d68fdaa",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/dsa/mv88e6xxx/chip.h",
  "human_readable_source": " \n \n\n#ifndef _MV88E6XXX_CHIP_H\n#define _MV88E6XXX_CHIP_H\n\n#include <linux/idr.h>\n#include <linux/if_vlan.h>\n#include <linux/irq.h>\n#include <linux/gpio/consumer.h>\n#include <linux/kthread.h>\n#include <linux/phy.h>\n#include <linux/ptp_clock_kernel.h>\n#include <linux/timecounter.h>\n#include <net/dsa.h>\n\n#define EDSA_HLEN\t\t8\n#define MV88E6XXX_N_FID\t\t4096\n#define MV88E6XXX_N_SID\t\t64\n\n#define MV88E6XXX_FID_STANDALONE\t0\n#define MV88E6XXX_FID_BRIDGED\t\t1\n\n \n#define MV88E6XXX_MAX_PVT_SWITCHES\t32\n#define MV88E6XXX_MAX_PVT_PORTS\t\t16\n#define MV88E6XXX_MAX_PVT_ENTRIES\t\\\n\t(MV88E6XXX_MAX_PVT_SWITCHES * MV88E6XXX_MAX_PVT_PORTS)\n\n#define MV88E6XXX_MAX_GPIO\t16\n\nenum mv88e6xxx_egress_mode {\n\tMV88E6XXX_EGRESS_MODE_UNMODIFIED,\n\tMV88E6XXX_EGRESS_MODE_UNTAGGED,\n\tMV88E6XXX_EGRESS_MODE_TAGGED,\n\tMV88E6XXX_EGRESS_MODE_ETHERTYPE,\n};\n\nenum mv88e6xxx_egress_direction {\n        MV88E6XXX_EGRESS_DIR_INGRESS,\n        MV88E6XXX_EGRESS_DIR_EGRESS,\n};\n\nenum mv88e6xxx_frame_mode {\n\tMV88E6XXX_FRAME_MODE_NORMAL,\n\tMV88E6XXX_FRAME_MODE_DSA,\n\tMV88E6XXX_FRAME_MODE_PROVIDER,\n\tMV88E6XXX_FRAME_MODE_ETHERTYPE,\n};\n\n \nenum mv88e6xxx_model {\n\tMV88E6020,\n\tMV88E6071,\n\tMV88E6085,\n\tMV88E6095,\n\tMV88E6097,\n\tMV88E6123,\n\tMV88E6131,\n\tMV88E6141,\n\tMV88E6161,\n\tMV88E6165,\n\tMV88E6171,\n\tMV88E6172,\n\tMV88E6175,\n\tMV88E6176,\n\tMV88E6185,\n\tMV88E6190,\n\tMV88E6190X,\n\tMV88E6191,\n\tMV88E6191X,\n\tMV88E6193X,\n\tMV88E6220,\n\tMV88E6240,\n\tMV88E6250,\n\tMV88E6290,\n\tMV88E6320,\n\tMV88E6321,\n\tMV88E6341,\n\tMV88E6350,\n\tMV88E6351,\n\tMV88E6352,\n\tMV88E6361,\n\tMV88E6390,\n\tMV88E6390X,\n\tMV88E6393X,\n};\n\nenum mv88e6xxx_family {\n\tMV88E6XXX_FAMILY_NONE,\n\tMV88E6XXX_FAMILY_6065,\t \n\tMV88E6XXX_FAMILY_6095,\t \n\tMV88E6XXX_FAMILY_6097,\t \n\tMV88E6XXX_FAMILY_6165,\t \n\tMV88E6XXX_FAMILY_6185,\t \n\tMV88E6XXX_FAMILY_6250,\t \n\tMV88E6XXX_FAMILY_6320,\t \n\tMV88E6XXX_FAMILY_6341,\t \n\tMV88E6XXX_FAMILY_6351,\t \n\tMV88E6XXX_FAMILY_6352,\t \n\tMV88E6XXX_FAMILY_6390,   \n\tMV88E6XXX_FAMILY_6393,\t \n};\n\n \nenum mv88e6xxx_edsa_support {\n\tMV88E6XXX_EDSA_UNSUPPORTED = 0,\n\tMV88E6XXX_EDSA_UNDOCUMENTED,\n\tMV88E6XXX_EDSA_SUPPORTED,\n};\n\nstruct mv88e6xxx_ops;\n\nstruct mv88e6xxx_info {\n\tenum mv88e6xxx_family family;\n\tu16 prod_num;\n\tconst char *name;\n\tunsigned int num_databases;\n\tunsigned int num_macs;\n\tunsigned int num_ports;\n\tunsigned int num_internal_phys;\n\tunsigned int num_gpio;\n\tunsigned int max_vid;\n\tunsigned int max_sid;\n\tunsigned int port_base_addr;\n\tunsigned int phy_base_addr;\n\tunsigned int global1_addr;\n\tunsigned int global2_addr;\n\tunsigned int age_time_coeff;\n\tunsigned int g1_irqs;\n\tunsigned int g2_irqs;\n\tbool pvt;\n\n\t \n\tunsigned int invalid_port_mask;\n\t \n\tbool multi_chip;\n\t \n\tbool dual_chip;\n\n\tenum mv88e6xxx_edsa_support edsa_support;\n\n\t \n\tu8 atu_move_port_mask;\n\tconst struct mv88e6xxx_ops *ops;\n\n\t \n\tbool ptp_support;\n\n\t \n\tunsigned int internal_phys_offset;\n};\n\nstruct mv88e6xxx_atu_entry {\n\tu8\tstate;\n\tbool\ttrunk;\n\tu16\tportvec;\n\tu8\tmac[ETH_ALEN];\n};\n\nstruct mv88e6xxx_vtu_entry {\n\tu16\tvid;\n\tu16\tfid;\n\tu8\tsid;\n\tbool\tvalid;\n\tbool\tpolicy;\n\tu8\tmember[DSA_MAX_PORTS];\n\tu8\tstate[DSA_MAX_PORTS];\t \n};\n\nstruct mv88e6xxx_stu_entry {\n\tu8\tsid;\n\tbool\tvalid;\n\tu8\tstate[DSA_MAX_PORTS];\n};\n\nstruct mv88e6xxx_bus_ops;\nstruct mv88e6xxx_irq_ops;\nstruct mv88e6xxx_gpio_ops;\nstruct mv88e6xxx_avb_ops;\nstruct mv88e6xxx_ptp_ops;\nstruct mv88e6xxx_pcs_ops;\n\nstruct mv88e6xxx_irq {\n\tu16 masked;\n\tstruct irq_chip chip;\n\tstruct irq_domain *domain;\n\tint nirqs;\n};\n\n \nenum {\n\tMV88E6XXX_HWTSTAMP_ENABLED,\n\tMV88E6XXX_HWTSTAMP_TX_IN_PROGRESS,\n};\n\nstruct mv88e6xxx_port_hwtstamp {\n\t \n\tint port_id;\n\n\t \n\tunsigned long state;\n\n\t \n\tstruct sk_buff_head rx_queue;\n\tstruct sk_buff_head rx_queue2;\n\n\t \n\tunsigned long tx_tstamp_start;\n\tstruct sk_buff *tx_skb;\n\tu16 tx_seq_id;\n\n\t \n\tstruct hwtstamp_config tstamp_config;\n};\n\nenum mv88e6xxx_policy_mapping {\n\tMV88E6XXX_POLICY_MAPPING_DA,\n\tMV88E6XXX_POLICY_MAPPING_SA,\n\tMV88E6XXX_POLICY_MAPPING_VTU,\n\tMV88E6XXX_POLICY_MAPPING_ETYPE,\n\tMV88E6XXX_POLICY_MAPPING_PPPOE,\n\tMV88E6XXX_POLICY_MAPPING_VBAS,\n\tMV88E6XXX_POLICY_MAPPING_OPT82,\n\tMV88E6XXX_POLICY_MAPPING_UDP,\n};\n\nenum mv88e6xxx_policy_action {\n\tMV88E6XXX_POLICY_ACTION_NORMAL,\n\tMV88E6XXX_POLICY_ACTION_MIRROR,\n\tMV88E6XXX_POLICY_ACTION_TRAP,\n\tMV88E6XXX_POLICY_ACTION_DISCARD,\n};\n\nstruct mv88e6xxx_policy {\n\tenum mv88e6xxx_policy_mapping mapping;\n\tenum mv88e6xxx_policy_action action;\n\tstruct ethtool_rx_flow_spec fs;\n\tu8 addr[ETH_ALEN];\n\tint port;\n\tu16 vid;\n};\n\nstruct mv88e6xxx_vlan {\n\tu16\tvid;\n\tbool\tvalid;\n};\n\nstruct mv88e6xxx_port {\n\tstruct mv88e6xxx_chip *chip;\n\tint port;\n\tstruct mv88e6xxx_vlan bridge_pvid;\n\tu64 serdes_stats[2];\n\tu64 atu_member_violation;\n\tu64 atu_miss_violation;\n\tu64 atu_full_violation;\n\tu64 vtu_member_violation;\n\tu64 vtu_miss_violation;\n\tphy_interface_t interface;\n\tu8 cmode;\n\tbool mirror_ingress;\n\tbool mirror_egress;\n\tstruct devlink_region *region;\n\tvoid *pcs_private;\n\n\t \n\tbool mab;\n};\n\nenum mv88e6xxx_region_id {\n\tMV88E6XXX_REGION_GLOBAL1 = 0,\n\tMV88E6XXX_REGION_GLOBAL2,\n\tMV88E6XXX_REGION_ATU,\n\tMV88E6XXX_REGION_VTU,\n\tMV88E6XXX_REGION_STU,\n\tMV88E6XXX_REGION_PVT,\n\n\t_MV88E6XXX_REGION_MAX,\n};\n\nstruct mv88e6xxx_region_priv {\n\tenum mv88e6xxx_region_id id;\n};\n\nstruct mv88e6xxx_mst {\n\tstruct list_head node;\n\n\trefcount_t refcnt;\n\tstruct net_device *br;\n\tu16 msti;\n\n\tstruct mv88e6xxx_stu_entry stu;\n};\n\nstruct mv88e6xxx_chip {\n\tconst struct mv88e6xxx_info *info;\n\n\t \n\tenum dsa_tag_protocol tag_protocol;\n\n\t \n\tstruct dsa_switch *ds;\n\n\t \n\tstruct device *dev;\n\n\t \n\tstruct mutex reg_lock;\n\n\t \n\tconst struct mv88e6xxx_bus_ops *smi_ops;\n\tstruct mii_bus *bus;\n\tint sw_addr;\n\n\t \n\tconst struct mv88e6xxx_bus_ops *phy_ops;\n\tstruct mutex\t\tppu_mutex;\n\tint\t\t\tppu_disabled;\n\tstruct work_struct\tppu_work;\n\tstruct timer_list\tppu_timer;\n\n\t \n\tstruct mutex\tstats_mutex;\n\n\t \n\tstruct gpio_desc *reset;\n\n\t \n\tu32 eeprom_len;\n\n\t \n\tstruct list_head mdios;\n\n\t \n\tstruct idr policies;\n\n\t \n\tstruct mv88e6xxx_irq g1_irq;\n\tstruct mv88e6xxx_irq g2_irq;\n\tint irq;\n\tchar irq_name[64];\n\tint device_irq;\n\tchar device_irq_name[64];\n\tint watchdog_irq;\n\tchar watchdog_irq_name[64];\n\n\tint atu_prob_irq;\n\tchar atu_prob_irq_name[64];\n\tint vtu_prob_irq;\n\tchar vtu_prob_irq_name[64];\n\tstruct kthread_worker *kworker;\n\tstruct kthread_delayed_work irq_poll_work;\n\n\t \n\tu8 gpio_data[2];\n\n\t \n\tstruct cyclecounter\ttstamp_cc;\n\tstruct timecounter\ttstamp_tc;\n\tstruct delayed_work\toverflow_work;\n\n\tstruct ptp_clock\t*ptp_clock;\n\tstruct ptp_clock_info\tptp_clock_info;\n\tstruct delayed_work\ttai_event_work;\n\tstruct ptp_pin_desc\tpin_config[MV88E6XXX_MAX_GPIO];\n\tu16 trig_config;\n\tu16 evcap_config;\n\tu16 enable_count;\n\n\t \n\tint egress_dest_port;\n\tint ingress_dest_port;\n\n\t \n\tstruct mv88e6xxx_port_hwtstamp port_hwtstamp[DSA_MAX_PORTS];\n\n\t \n\tstruct mv88e6xxx_port ports[DSA_MAX_PORTS];\n\n\t \n\tstruct devlink_region *regions[_MV88E6XXX_REGION_MAX];\n\n\t \n\tstruct list_head msts;\n};\n\nstruct mv88e6xxx_bus_ops {\n\tint (*read)(struct mv88e6xxx_chip *chip, int addr, int reg, u16 *val);\n\tint (*write)(struct mv88e6xxx_chip *chip, int addr, int reg, u16 val);\n\tint (*init)(struct mv88e6xxx_chip *chip);\n};\n\nstruct mv88e6xxx_mdio_bus {\n\tstruct mii_bus *bus;\n\tstruct mv88e6xxx_chip *chip;\n\tstruct list_head list;\n\tbool external;\n};\n\nstruct mv88e6xxx_ops {\n\t \n\tint (*setup_errata)(struct mv88e6xxx_chip *chip);\n\n\tint (*ieee_pri_map)(struct mv88e6xxx_chip *chip);\n\tint (*ip_pri_map)(struct mv88e6xxx_chip *chip);\n\n\t \n\tint (*irl_init_all)(struct mv88e6xxx_chip *chip, int port);\n\n\tint (*get_eeprom)(struct mv88e6xxx_chip *chip,\n\t\t\t  struct ethtool_eeprom *eeprom, u8 *data);\n\tint (*set_eeprom)(struct mv88e6xxx_chip *chip,\n\t\t\t  struct ethtool_eeprom *eeprom, u8 *data);\n\n\tint (*set_switch_mac)(struct mv88e6xxx_chip *chip, u8 *addr);\n\n\tint (*phy_read)(struct mv88e6xxx_chip *chip,\n\t\t\tstruct mii_bus *bus,\n\t\t\tint addr, int reg, u16 *val);\n\tint (*phy_write)(struct mv88e6xxx_chip *chip,\n\t\t\t struct mii_bus *bus,\n\t\t\t int addr, int reg, u16 val);\n\n\tint (*phy_read_c45)(struct mv88e6xxx_chip *chip,\n\t\t\t    struct mii_bus *bus,\n\t\t\t    int addr, int devad, int reg, u16 *val);\n\tint (*phy_write_c45)(struct mv88e6xxx_chip *chip,\n\t\t\t     struct mii_bus *bus,\n\t\t\t     int addr, int devad, int reg, u16 val);\n\n\t \n\tint (*pot_clear)(struct mv88e6xxx_chip *chip);\n\n\t \n\tint (*ppu_enable)(struct mv88e6xxx_chip *chip);\n\tint (*ppu_disable)(struct mv88e6xxx_chip *chip);\n\n\t \n\tint (*reset)(struct mv88e6xxx_chip *chip);\n\n\t \n\tint (*port_set_rgmii_delay)(struct mv88e6xxx_chip *chip, int port,\n\t\t\t\t    phy_interface_t mode);\n\n#define LINK_FORCED_DOWN\t0\n#define LINK_FORCED_UP\t\t1\n#define LINK_UNFORCED\t\t-2\n\n\t \n\tint (*port_set_link)(struct mv88e6xxx_chip *chip, int port, int link);\n\n\t \n\tint (*port_sync_link)(struct mv88e6xxx_chip *chip, int port, unsigned int mode, bool isup);\n\n#define PAUSE_ON\t\t1\n#define PAUSE_OFF\t\t0\n\n\t \n\tint (*port_set_pause)(struct mv88e6xxx_chip *chip, int port,\n\t\t\t      int pause);\n\n#define SPEED_UNFORCED\t\t-2\n#define DUPLEX_UNFORCED\t\t-2\n\n\t \n\tint (*port_set_speed_duplex)(struct mv88e6xxx_chip *chip, int port,\n\t\t\t\t     int speed, int duplex);\n\n\t \n\tphy_interface_t (*port_max_speed_mode)(struct mv88e6xxx_chip *chip,\n\t\t\t\t\t       int port);\n\n\tint (*port_tag_remap)(struct mv88e6xxx_chip *chip, int port);\n\n\tint (*port_set_policy)(struct mv88e6xxx_chip *chip, int port,\n\t\t\t       enum mv88e6xxx_policy_mapping mapping,\n\t\t\t       enum mv88e6xxx_policy_action action);\n\n\tint (*port_set_frame_mode)(struct mv88e6xxx_chip *chip, int port,\n\t\t\t\t   enum mv88e6xxx_frame_mode mode);\n\tint (*port_set_ucast_flood)(struct mv88e6xxx_chip *chip, int port,\n\t\t\t\t    bool unicast);\n\tint (*port_set_mcast_flood)(struct mv88e6xxx_chip *chip, int port,\n\t\t\t\t    bool multicast);\n\tint (*port_set_ether_type)(struct mv88e6xxx_chip *chip, int port,\n\t\t\t\t   u16 etype);\n\tint (*port_set_jumbo_size)(struct mv88e6xxx_chip *chip, int port,\n\t\t\t\t   size_t size);\n\n\tint (*port_egress_rate_limiting)(struct mv88e6xxx_chip *chip, int port);\n\tint (*port_pause_limit)(struct mv88e6xxx_chip *chip, int port, u8 in,\n\t\t\t\tu8 out);\n\tint (*port_disable_learn_limit)(struct mv88e6xxx_chip *chip, int port);\n\tint (*port_disable_pri_override)(struct mv88e6xxx_chip *chip, int port);\n\tint (*port_setup_message_port)(struct mv88e6xxx_chip *chip, int port);\n\n\t \n\tint (*port_set_cmode)(struct mv88e6xxx_chip *chip, int port,\n\t\t\t      phy_interface_t mode);\n\tint (*port_get_cmode)(struct mv88e6xxx_chip *chip, int port, u8 *cmode);\n\n\t \n\tint (*port_set_upstream_port)(struct mv88e6xxx_chip *chip, int port,\n\t\t\t\t      int upstream_port);\n\n\t \n\tint (*stats_snapshot)(struct mv88e6xxx_chip *chip, int port);\n\n\t \n\tint (*stats_set_histogram)(struct mv88e6xxx_chip *chip);\n\n\t \n\tint (*stats_get_sset_count)(struct mv88e6xxx_chip *chip);\n\tint (*stats_get_strings)(struct mv88e6xxx_chip *chip,  uint8_t *data);\n\tint (*stats_get_stats)(struct mv88e6xxx_chip *chip,  int port,\n\t\t\t       uint64_t *data);\n\tint (*set_cpu_port)(struct mv88e6xxx_chip *chip, int port);\n\tint (*set_egress_port)(struct mv88e6xxx_chip *chip,\n\t\t\t       enum mv88e6xxx_egress_direction direction,\n\t\t\t       int port);\n\n#define MV88E6XXX_CASCADE_PORT_NONE\t\t0xe\n#define MV88E6XXX_CASCADE_PORT_MULTIPLE\t\t0xf\n\n\tint (*set_cascade_port)(struct mv88e6xxx_chip *chip, int port);\n\n\tconst struct mv88e6xxx_irq_ops *watchdog_ops;\n\n\tint (*mgmt_rsvd2cpu)(struct mv88e6xxx_chip *chip);\n\n\t \n\tint (*serdes_get_lane)(struct mv88e6xxx_chip *chip, int port);\n\n\t \n\tunsigned int (*serdes_irq_mapping)(struct mv88e6xxx_chip *chip,\n\t\t\t\t\t   int port);\n\n\t \n\tint (*serdes_get_sset_count)(struct mv88e6xxx_chip *chip, int port);\n\tint (*serdes_get_strings)(struct mv88e6xxx_chip *chip,  int port,\n\t\t\t\t  uint8_t *data);\n\tint (*serdes_get_stats)(struct mv88e6xxx_chip *chip,  int port,\n\t\t\t\tuint64_t *data);\n\n\t \n\tint (*serdes_get_regs_len)(struct mv88e6xxx_chip *chip,  int port);\n\tvoid (*serdes_get_regs)(struct mv88e6xxx_chip *chip, int port,\n\t\t\t\tvoid *_p);\n\n\t \n\tint (*serdes_set_tx_amplitude)(struct mv88e6xxx_chip *chip, int port,\n\t\t\t\t       int val);\n\n\t \n\tint (*atu_get_hash)(struct mv88e6xxx_chip *chip, u8 *hash);\n\tint (*atu_set_hash)(struct mv88e6xxx_chip *chip, u8 hash);\n\n\t \n\tint (*vtu_getnext)(struct mv88e6xxx_chip *chip,\n\t\t\t   struct mv88e6xxx_vtu_entry *entry);\n\tint (*vtu_loadpurge)(struct mv88e6xxx_chip *chip,\n\t\t\t     struct mv88e6xxx_vtu_entry *entry);\n\n\t \n\tint (*stu_getnext)(struct mv88e6xxx_chip *chip,\n\t\t\t   struct mv88e6xxx_stu_entry *entry);\n\tint (*stu_loadpurge)(struct mv88e6xxx_chip *chip,\n\t\t\t     struct mv88e6xxx_stu_entry *entry);\n\n\t \n\tconst struct mv88e6xxx_gpio_ops *gpio_ops;\n\n\t \n\tconst struct mv88e6xxx_avb_ops *avb_ops;\n\n\t \n\tint (*rmu_disable)(struct mv88e6xxx_chip *chip);\n\n\t \n\tconst struct mv88e6xxx_ptp_ops *ptp_ops;\n\n\t \n\tvoid (*phylink_get_caps)(struct mv88e6xxx_chip *chip, int port,\n\t\t\t\t struct phylink_config *config);\n\n\tconst struct mv88e6xxx_pcs_ops *pcs_ops;\n\n\t \n\tint (*set_max_frame_size)(struct mv88e6xxx_chip *chip, int mtu);\n};\n\nstruct mv88e6xxx_irq_ops {\n\t \n\tint (*irq_action)(struct mv88e6xxx_chip *chip, int irq);\n\t \n\tint (*irq_setup)(struct mv88e6xxx_chip *chip);\n\t \n\tvoid (*irq_free)(struct mv88e6xxx_chip *chip);\n};\n\nstruct mv88e6xxx_gpio_ops {\n\t \n\tint (*get_data)(struct mv88e6xxx_chip *chip, unsigned int pin);\n\tint (*set_data)(struct mv88e6xxx_chip *chip, unsigned int pin,\n\t\t\tint value);\n\n\t \n\tint (*get_dir)(struct mv88e6xxx_chip *chip, unsigned int pin);\n\tint (*set_dir)(struct mv88e6xxx_chip *chip, unsigned int pin,\n\t\t       bool input);\n\n\t \n\tint (*get_pctl)(struct mv88e6xxx_chip *chip, unsigned int pin,\n\t\t\tint *func);\n\tint (*set_pctl)(struct mv88e6xxx_chip *chip, unsigned int pin,\n\t\t\tint func);\n};\n\nstruct mv88e6xxx_avb_ops {\n\t \n\tint (*port_ptp_read)(struct mv88e6xxx_chip *chip, int port, int addr,\n\t\t\t     u16 *data, int len);\n\tint (*port_ptp_write)(struct mv88e6xxx_chip *chip, int port, int addr,\n\t\t\t      u16 data);\n\n\t \n\tint (*ptp_read)(struct mv88e6xxx_chip *chip, int addr, u16 *data,\n\t\t\tint len);\n\tint (*ptp_write)(struct mv88e6xxx_chip *chip, int addr, u16 data);\n\n\t \n\tint (*tai_read)(struct mv88e6xxx_chip *chip, int addr, u16 *data,\n\t\t\tint len);\n\tint (*tai_write)(struct mv88e6xxx_chip *chip, int addr, u16 data);\n};\n\nstruct mv88e6xxx_ptp_ops {\n\tu64 (*clock_read)(const struct cyclecounter *cc);\n\tint (*ptp_enable)(struct ptp_clock_info *ptp,\n\t\t\t  struct ptp_clock_request *rq, int on);\n\tint (*ptp_verify)(struct ptp_clock_info *ptp, unsigned int pin,\n\t\t\t  enum ptp_pin_function func, unsigned int chan);\n\tvoid (*event_work)(struct work_struct *ugly);\n\tint (*port_enable)(struct mv88e6xxx_chip *chip, int port);\n\tint (*port_disable)(struct mv88e6xxx_chip *chip, int port);\n\tint (*global_enable)(struct mv88e6xxx_chip *chip);\n\tint (*global_disable)(struct mv88e6xxx_chip *chip);\n\tint (*set_ptp_cpu_port)(struct mv88e6xxx_chip *chip, int port);\n\tint n_ext_ts;\n\tint arr0_sts_reg;\n\tint arr1_sts_reg;\n\tint dep_sts_reg;\n\tu32 rx_filters;\n\tu32 cc_shift;\n\tu32 cc_mult;\n\tu32 cc_mult_num;\n\tu32 cc_mult_dem;\n};\n\nstruct mv88e6xxx_pcs_ops {\n\tint (*pcs_init)(struct mv88e6xxx_chip *chip, int port);\n\tvoid (*pcs_teardown)(struct mv88e6xxx_chip *chip, int port);\n\tstruct phylink_pcs *(*pcs_select)(struct mv88e6xxx_chip *chip, int port,\n\t\t\t\t\t  phy_interface_t mode);\n\n};\n\n#define STATS_TYPE_PORT\t\tBIT(0)\n#define STATS_TYPE_BANK0\tBIT(1)\n#define STATS_TYPE_BANK1\tBIT(2)\n\nstruct mv88e6xxx_hw_stat {\n\tchar string[ETH_GSTRING_LEN];\n\tsize_t size;\n\tint reg;\n\tint type;\n};\n\nstatic inline bool mv88e6xxx_has_stu(struct mv88e6xxx_chip *chip)\n{\n\treturn chip->info->max_sid > 0 &&\n\t\tchip->info->ops->stu_loadpurge &&\n\t\tchip->info->ops->stu_getnext;\n}\n\nstatic inline bool mv88e6xxx_has_pvt(struct mv88e6xxx_chip *chip)\n{\n\treturn chip->info->pvt;\n}\n\nstatic inline bool mv88e6xxx_has_lag(struct mv88e6xxx_chip *chip)\n{\n\treturn !!chip->info->global2_addr;\n}\n\nstatic inline unsigned int mv88e6xxx_num_databases(struct mv88e6xxx_chip *chip)\n{\n\treturn chip->info->num_databases;\n}\n\nstatic inline unsigned int mv88e6xxx_num_macs(struct  mv88e6xxx_chip *chip)\n{\n\treturn chip->info->num_macs;\n}\n\nstatic inline unsigned int mv88e6xxx_num_ports(struct mv88e6xxx_chip *chip)\n{\n\treturn chip->info->num_ports;\n}\n\nstatic inline unsigned int mv88e6xxx_max_vid(struct mv88e6xxx_chip *chip)\n{\n\treturn chip->info->max_vid;\n}\n\nstatic inline unsigned int mv88e6xxx_max_sid(struct mv88e6xxx_chip *chip)\n{\n\treturn chip->info->max_sid;\n}\n\nstatic inline u16 mv88e6xxx_port_mask(struct mv88e6xxx_chip *chip)\n{\n\treturn GENMASK((s32)mv88e6xxx_num_ports(chip) - 1, 0);\n}\n\nstatic inline unsigned int mv88e6xxx_num_gpio(struct mv88e6xxx_chip *chip)\n{\n\treturn chip->info->num_gpio;\n}\n\nstatic inline bool mv88e6xxx_is_invalid_port(struct mv88e6xxx_chip *chip, int port)\n{\n\treturn (chip->info->invalid_port_mask & BIT(port)) != 0;\n}\n\nstatic inline void mv88e6xxx_port_set_mab(struct mv88e6xxx_chip *chip,\n\t\t\t\t\t  int port, bool mab)\n{\n\tchip->ports[port].mab = mab;\n}\n\nint mv88e6xxx_read(struct mv88e6xxx_chip *chip, int addr, int reg, u16 *val);\nint mv88e6xxx_write(struct mv88e6xxx_chip *chip, int addr, int reg, u16 val);\nint mv88e6xxx_wait_mask(struct mv88e6xxx_chip *chip, int addr, int reg,\n\t\t\tu16 mask, u16 val);\nint mv88e6xxx_wait_bit(struct mv88e6xxx_chip *chip, int addr, int reg,\n\t\t       int bit, int val);\nstruct mii_bus *mv88e6xxx_default_mdio_bus(struct mv88e6xxx_chip *chip);\n\nstatic inline void mv88e6xxx_reg_lock(struct mv88e6xxx_chip *chip)\n{\n\tmutex_lock(&chip->reg_lock);\n}\n\nstatic inline void mv88e6xxx_reg_unlock(struct mv88e6xxx_chip *chip)\n{\n\tmutex_unlock(&chip->reg_lock);\n}\n\nint mv88e6xxx_vtu_walk(struct mv88e6xxx_chip *chip,\n\t\t       int (*cb)(struct mv88e6xxx_chip *chip,\n\t\t\t\t const struct mv88e6xxx_vtu_entry *entry,\n\t\t\t\t void *priv),\n\t\t       void *priv);\n\nint mv88e6xxx_fid_map(struct mv88e6xxx_chip *chip, unsigned long *bitmap);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}