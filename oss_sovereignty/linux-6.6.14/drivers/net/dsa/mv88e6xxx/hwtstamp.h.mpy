{
  "module_name": "hwtstamp.h",
  "hash_id": "efb4d0c102d1a880bfd38d3ae6b6f30d2d81df9f25326402d4c5a8fcec9e8ec6",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/dsa/mv88e6xxx/hwtstamp.h",
  "human_readable_source": " \n \n\n#ifndef _MV88E6XXX_HWTSTAMP_H\n#define _MV88E6XXX_HWTSTAMP_H\n\n#include \"chip.h\"\n\n \n \n#define MV88E6XXX_PTP_ETHERTYPE\t0x00\n\n \n#define MV88E6XXX_PTP_MSGTYPE\t\t\t0x01\n#define MV88E6XXX_PTP_MSGTYPE_SYNC\t\t0x0001\n#define MV88E6XXX_PTP_MSGTYPE_DELAY_REQ\t\t0x0002\n#define MV88E6XXX_PTP_MSGTYPE_PDLAY_REQ\t\t0x0004\n#define MV88E6XXX_PTP_MSGTYPE_PDLAY_RES\t\t0x0008\n#define MV88E6XXX_PTP_MSGTYPE_ALL_EVENT\t\t0x000f\n\n \n#define MV88E6XXX_PTP_TS_ARRIVAL_PTR\t0x02\n\n \n#define MV88E6165_PTP_CFG\t\t\t0x05\n#define MV88E6165_PTP_CFG_TSPEC_MASK\t\t0xf000\n#define MV88E6165_PTP_CFG_DISABLE_TS_OVERWRITE\tBIT(1)\n#define MV88E6165_PTP_CFG_DISABLE_PTP\t\tBIT(0)\n\n \n#define MV88E6341_PTP_CFG\t\t\t0x07\n#define MV88E6341_PTP_CFG_UPDATE\t\t0x8000\n#define MV88E6341_PTP_CFG_IDX_MASK\t\t0x7f00\n#define MV88E6341_PTP_CFG_DATA_MASK\t\t0x00ff\n#define MV88E6341_PTP_CFG_MODE_IDX\t\t0x0\n#define MV88E6341_PTP_CFG_MODE_TS_AT_PHY\t0x00\n#define MV88E6341_PTP_CFG_MODE_TS_AT_MAC\t0x80\n\n \n#define MV88E6XXX_PTP_IRQ_STATUS\t0x08\n\n \n \n#define MV88E6XXX_PORT_PTP_CFG0\t\t\t\t0x00\n#define MV88E6XXX_PORT_PTP_CFG0_TSPEC_SHIFT\t\t12\n#define MV88E6XXX_PORT_PTP_CFG0_TSPEC_MASK\t\t0xf000\n#define MV88E6XXX_PORT_PTP_CFG0_TSPEC_1588\t\t0x0000\n#define MV88E6XXX_PORT_PTP_CFG0_TSPEC_8021AS\t\t0x1000\n#define MV88E6XXX_PORT_PTP_CFG0_DISABLE_TSPEC_MATCH\t0x0800\n#define MV88E6XXX_PORT_PTP_CFG0_DISABLE_OVERWRITE\t0x0002\n#define MV88E6XXX_PORT_PTP_CFG0_DISABLE_PTP\t\t0x0001\n\n \n#define MV88E6XXX_PORT_PTP_CFG1\t0x01\n\n \n#define MV88E6XXX_PORT_PTP_CFG2\t\t\t\t0x02\n#define MV88E6XXX_PORT_PTP_CFG2_EMBED_ARRIVAL\t\t0x1000\n#define MV88E6XXX_PORT_PTP_CFG2_DEP_IRQ_EN\t\t0x0002\n#define MV88E6XXX_PORT_PTP_CFG2_ARR_IRQ_EN\t\t0x0001\n\n \n#define MV88E6XXX_PORT_PTP_LED_CFG\t0x03\n\n \n#define MV88E6XXX_PORT_PTP_ARR0_STS\t0x08\n\n \n#define MV88E6XXX_PORT_PTP_ARR0_TIME_LO\t0x09\n#define MV88E6XXX_PORT_PTP_ARR0_TIME_HI\t0x0a\n\n \n#define MV88E6XXX_PORT_PTP_ARR0_SEQID\t0x0b\n\n \n#define MV88E6XXX_PORT_PTP_ARR1_STS\t0x0c\n\n \n#define MV88E6XXX_PORT_PTP_ARR1_TIME_LO\t0x0d\n#define MV88E6XXX_PORT_PTP_ARR1_TIME_HI\t0x0e\n\n \n#define MV88E6XXX_PORT_PTP_ARR1_SEQID\t0x0f\n\n \n#define MV88E6XXX_PORT_PTP_DEP_STS\t0x10\n\n \n#define MV88E6XXX_PORT_PTP_DEP_TIME_LO\t0x11\n#define MV88E6XXX_PORT_PTP_DEP_TIME_HI\t0x12\n\n \n#define MV88E6XXX_PORT_PTP_DEP_SEQID\t0x13\n\n \n#define MV88E6XXX_PTP_TS_STATUS_MASK\t\t0x0006\n#define MV88E6XXX_PTP_TS_STATUS_NORMAL\t\t0x0000\n#define MV88E6XXX_PTP_TS_STATUS_OVERWITTEN\t0x0002\n#define MV88E6XXX_PTP_TS_STATUS_DISCARDED\t0x0004\n#define MV88E6XXX_PTP_TS_VALID\t\t\t0x0001\n\n#ifdef CONFIG_NET_DSA_MV88E6XXX_PTP\n\nint mv88e6xxx_port_hwtstamp_set(struct dsa_switch *ds, int port,\n\t\t\t\tstruct ifreq *ifr);\nint mv88e6xxx_port_hwtstamp_get(struct dsa_switch *ds, int port,\n\t\t\t\tstruct ifreq *ifr);\n\nbool mv88e6xxx_port_rxtstamp(struct dsa_switch *ds, int port,\n\t\t\t     struct sk_buff *clone, unsigned int type);\nvoid mv88e6xxx_port_txtstamp(struct dsa_switch *ds, int port,\n\t\t\t     struct sk_buff *skb);\n\nint mv88e6xxx_get_ts_info(struct dsa_switch *ds, int port,\n\t\t\t  struct ethtool_ts_info *info);\n\nint mv88e6xxx_hwtstamp_setup(struct mv88e6xxx_chip *chip);\nvoid mv88e6xxx_hwtstamp_free(struct mv88e6xxx_chip *chip);\nint mv88e6352_hwtstamp_port_enable(struct mv88e6xxx_chip *chip, int port);\nint mv88e6352_hwtstamp_port_disable(struct mv88e6xxx_chip *chip, int port);\nint mv88e6165_global_enable(struct mv88e6xxx_chip *chip);\nint mv88e6165_global_disable(struct mv88e6xxx_chip *chip);\n\n#else  \n\nstatic inline int mv88e6xxx_port_hwtstamp_set(struct dsa_switch *ds,\n\t\t\t\t\t      int port, struct ifreq *ifr)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline int mv88e6xxx_port_hwtstamp_get(struct dsa_switch *ds,\n\t\t\t\t\t      int port, struct ifreq *ifr)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline bool mv88e6xxx_port_rxtstamp(struct dsa_switch *ds, int port,\n\t\t\t\t\t   struct sk_buff *clone,\n\t\t\t\t\t   unsigned int type)\n{\n\treturn false;\n}\n\nstatic inline void mv88e6xxx_port_txtstamp(struct dsa_switch *ds, int port,\n\t\t\t\t\t   struct sk_buff *skb)\n{\n}\n\nstatic inline int mv88e6xxx_get_ts_info(struct dsa_switch *ds, int port,\n\t\t\t\t\tstruct ethtool_ts_info *info)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline int mv88e6xxx_hwtstamp_setup(struct mv88e6xxx_chip *chip)\n{\n\treturn 0;\n}\n\nstatic inline void mv88e6xxx_hwtstamp_free(struct mv88e6xxx_chip *chip)\n{\n}\n\n#endif  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}