{
  "module_name": "hellcreek_ptp.h",
  "hash_id": "50681ea56397bebc889ded2cc2d8093f359e89022f8a290232352b1451373c7d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/dsa/hirschmann/hellcreek_ptp.h",
  "human_readable_source": " \n \n\n#ifndef _HELLCREEK_PTP_H_\n#define _HELLCREEK_PTP_H_\n\n#include <linux/bitops.h>\n#include <linux/ptp_clock_kernel.h>\n\n#include \"hellcreek.h\"\n\n \n#define MAX_NS_PER_STEP\t\t\t7L\n\n \n#define MIN_CLK_CYCLES_BETWEEN_STEPS\t0\n\n \n#define MAX_SLOW_OFFSET_ADJ\t\t\t\t\t\\\n\t((unsigned long long)((1 << 30) - 1) * MAX_NS_PER_STEP)\n\n \n#define HELLCREEK_OVERFLOW_PERIOD\t(HZ / 4)\n\n \n#define PR_SETTINGS_C\t\t\t(0x09 * 2)\n#define PR_SETTINGS_C_RES3TS\t\tBIT(4)\n#define PR_SETTINGS_C_TS_SRC_TK_SHIFT\t8\n#define PR_SETTINGS_C_TS_SRC_TK_MASK\tGENMASK(9, 8)\n#define PR_COMMAND_C\t\t\t(0x0a * 2)\n#define PR_COMMAND_C_SS\t\t\tBIT(0)\n\n#define PR_CLOCK_STATUS_C\t\t(0x0c * 2)\n#define PR_CLOCK_STATUS_C_ENA_DRIFT\tBIT(12)\n#define PR_CLOCK_STATUS_C_OFS_ACT\tBIT(13)\n#define PR_CLOCK_STATUS_C_ENA_OFS\tBIT(14)\n\n#define PR_CLOCK_READ_C\t\t\t(0x0d * 2)\n#define PR_CLOCK_WRITE_C\t\t(0x0e * 2)\n#define PR_CLOCK_OFFSET_C\t\t(0x0f * 2)\n#define PR_CLOCK_DRIFT_C\t\t(0x10 * 2)\n\n#define PR_SS_FREE_DATA_C\t\t(0x12 * 2)\n#define PR_SS_SYNT_DATA_C\t\t(0x14 * 2)\n#define PR_SS_SYNC_DATA_C\t\t(0x16 * 2)\n#define PR_SS_DRAC_DATA_C\t\t(0x18 * 2)\n\n#define STATUS_OUT\t\t\t(0x60 * 2)\n#define STATUS_OUT_SYNC_GOOD\t\tBIT(0)\n#define STATUS_OUT_IS_GM\t\tBIT(1)\n\nint hellcreek_ptp_setup(struct hellcreek *hellcreek);\nvoid hellcreek_ptp_free(struct hellcreek *hellcreek);\nu16 hellcreek_ptp_read(struct hellcreek *hellcreek, unsigned int offset);\nvoid hellcreek_ptp_write(struct hellcreek *hellcreek, u16 data,\n\t\t\t unsigned int offset);\nu64 hellcreek_ptp_gettime_seconds(struct hellcreek *hellcreek, u64 ns);\n\n#define ptp_to_hellcreek(ptp)\t\t\t\t\t\\\n\tcontainer_of(ptp, struct hellcreek, ptp_clock_info)\n\n#define dw_overflow_to_hellcreek(dw)\t\t\t\t\\\n\tcontainer_of(dw, struct hellcreek, overflow_work)\n\n#define led_to_hellcreek(ldev, led)\t\t\t\t\\\n\tcontainer_of(ldev, struct hellcreek, led)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}