{
  "module_name": "hw_atl2_utils.h",
  "hash_id": "be8c5726d5eed592e4ea2a11b8623522c11a71bb8c9717cbc9d9e01e7cd9bed9",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/aquantia/atlantic/hw_atl2/hw_atl2_utils.h",
  "human_readable_source": " \n \n\n#ifndef HW_ATL2_UTILS_H\n#define HW_ATL2_UTILS_H\n\n#include \"aq_hw.h\"\n\n \n\nstruct link_options_s {\n\tu8 link_up:1;\n\tu8 link_renegotiate:1;\n\tu8 minimal_link_speed:1;\n\tu8 internal_loopback:1;\n\tu8 external_loopback:1;\n\tu8 rate_10M_hd:1;\n\tu8 rate_100M_hd:1;\n\tu8 rate_1G_hd:1;\n\n\tu8 rate_10M:1;\n\tu8 rate_100M:1;\n\tu8 rate_1G:1;\n\tu8 rate_2P5G:1;\n\tu8 rate_N2P5G:1;\n\tu8 rate_5G:1;\n\tu8 rate_N5G:1;\n\tu8 rate_10G:1;\n\n\tu8 eee_100M:1;\n\tu8 eee_1G:1;\n\tu8 eee_2P5G:1;\n\tu8 eee_5G:1;\n\tu8 eee_10G:1;\n\tu8 rsvd3:3;\n\n\tu8 pause_rx:1;\n\tu8 pause_tx:1;\n\tu8 rsvd4:1;\n\tu8 downshift:1;\n\tu8 downshift_retry:4;\n};\n\nstruct link_control_s {\n\tu8 mode:4;\n\tu8 disable_crc_corruption:1;\n\tu8 discard_short_frames:1;\n\tu8 flow_control_mode:1;\n\tu8 disable_length_check:1;\n\n\tu8 discard_errored_frames:1;\n\tu8 control_frame_enable:1;\n\tu8 enable_tx_padding:1;\n\tu8 enable_crc_forwarding:1;\n\tu8 enable_frame_padding_removal_rx: 1;\n\tu8 promiscuous_mode: 1;\n\tu8 rsvd:2;\n\n\tu16 rsvd2;\n};\n\nstruct thermal_shutdown_s {\n\tu8 enable:1;\n\tu8 warning_enable:1;\n\tu8 rsvd:6;\n\n\tu8 shutdown_temperature;\n\tu8 cold_temperature;\n\tu8 warning_temperature;\n};\n\nstruct mac_address_s {\n\tu8 mac_address[6];\n};\n\nstruct mac_address_aligned_s {\n\tstruct mac_address_s aligned;\n\tu16 rsvd;\n};\n\nstruct sleep_proxy_s {\n\tstruct wake_on_lan_s {\n\t\tu8 wake_on_magic_packet:1;\n\t\tu8 wake_on_pattern:1;\n\t\tu8 wake_on_link_up:1;\n\t\tu8 wake_on_link_down:1;\n\t\tu8 wake_on_ping:1;\n\t\tu8 wake_on_timer:1;\n\t\tu8 rsvd:2;\n\n\t\tu8 rsvd2;\n\t\tu16 rsvd3;\n\n\t\tu32 link_up_timeout;\n\t\tu32 link_down_timeout;\n\t\tu32 timer;\n\t} wake_on_lan;\n\n\tstruct {\n\t\tu32 mask[4];\n\t\tu32 crc32;\n\t} wake_up_pattern[8];\n\n\tstruct __packed {\n\t\tu8 arp_responder:1;\n\t\tu8 echo_responder:1;\n\t\tu8 igmp_client:1;\n\t\tu8 echo_truncate:1;\n\t\tu8 address_guard:1;\n\t\tu8 ignore_fragmented:1;\n\t\tu8 rsvd:2;\n\n\t\tu16 echo_max_len;\n\t\tu8 rsvd2;\n\t} ipv4_offload;\n\n\tu32 ipv4_offload_addr[8];\n\tu32 reserved[8];\n\n\tstruct __packed {\n\t\tu8 ns_responder:1;\n\t\tu8 echo_responder:1;\n\t\tu8 mld_client:1;\n\t\tu8 echo_truncate:1;\n\t\tu8 address_guard:1;\n\t\tu8 rsvd:3;\n\n\t\tu16 echo_max_len;\n\t\tu8 rsvd2;\n\t} ipv6_offload;\n\n\tu32 ipv6_offload_addr[16][4];\n\n\tstruct {\n\t\tu16 port[16];\n\t} tcp_port_offload;\n\n\tstruct {\n\t\tu16 port[16];\n\t} udp_port_offload;\n\n\tstruct {\n\t\tu32 retry_count;\n\t\tu32 retry_interval;\n\t} ka4_offload;\n\n\tstruct {\n\t\tu32 timeout;\n\t\tu16 local_port;\n\t\tu16 remote_port;\n\t\tu8 remote_mac_addr[6];\n\t\tu16 rsvd;\n\t\tu32 rsvd2;\n\t\tu32 rsvd3;\n\t\tu16 rsvd4;\n\t\tu16 win_size;\n\t\tu32 seq_num;\n\t\tu32 ack_num;\n\t\tu32 local_ip;\n\t\tu32 remote_ip;\n\t} ka4_connection[16];\n\n\tstruct {\n\t\tu32 retry_count;\n\t\tu32 retry_interval;\n\t} ka6_offload;\n\n\tstruct {\n\t\tu32 timeout;\n\t\tu16 local_port;\n\t\tu16 remote_port;\n\t\tu8 remote_mac_addr[6];\n\t\tu16 rsvd;\n\t\tu32 rsvd2;\n\t\tu32 rsvd3;\n\t\tu16 rsvd4;\n\t\tu16 win_size;\n\t\tu32 seq_num;\n\t\tu32 ack_num;\n\t\tu32 local_ip[4];\n\t\tu32 remote_ip[4];\n\t} ka6_connection[16];\n\n\tstruct {\n\t\tu32 rr_count;\n\t\tu32 rr_buf_len;\n\t\tu32 idx_offset;\n\t\tu32 rr__offset;\n\t} mdns_offload;\n};\n\nstruct pause_quanta_s {\n\tu16 quanta_10M;\n\tu16 threshold_10M;\n\tu16 quanta_100M;\n\tu16 threshold_100M;\n\tu16 quanta_1G;\n\tu16 threshold_1G;\n\tu16 quanta_2P5G;\n\tu16 threshold_2P5G;\n\tu16 quanta_5G;\n\tu16 threshold_5G;\n\tu16 quanta_10G;\n\tu16 threshold_10G;\n};\n\nstruct data_buffer_status_s {\n\tu32 data_offset;\n\tu32 data_length;\n};\n\nstruct device_caps_s {\n\tu8 finite_flashless:1;\n\tu8 cable_diag:1;\n\tu8 ncsi:1;\n\tu8 avb:1;\n\tu8 rsvd:4;\n\n\tu8 rsvd2;\n\tu16 rsvd3;\n\tu32 rsvd4;\n};\n\nstruct version_s {\n\tstruct bundle_version_t {\n\t\tu8 major;\n\t\tu8 minor;\n\t\tu16 build;\n\t} bundle;\n\tstruct mac_version_t {\n\t\tu8 major;\n\t\tu8 minor;\n\t\tu16 build;\n\t} mac;\n\tstruct phy_version_t {\n\t\tu8 major;\n\t\tu8 minor;\n\t\tu16 build;\n\t} phy;\n\tu32 drv_iface_ver:4;\n\tu32 rsvd:28;\n};\n\nstruct link_status_s {\n\tu8 link_state:4;\n\tu8 link_rate:4;\n\n\tu8 pause_tx:1;\n\tu8 pause_rx:1;\n\tu8 eee:1;\n\tu8 duplex:1;\n\tu8 rsvd:4;\n\n\tu16 rsvd2;\n};\n\nstruct wol_status_s {\n\tu8 wake_count;\n\tu8 wake_reason;\n\n\tu16 wake_up_packet_length :12;\n\tu16 wake_up_pattern_number :3;\n\tu16 rsvd:1;\n\n\tu32 wake_up_packet[379];\n};\n\nstruct mac_health_monitor_s {\n\tu8 mac_ready:1;\n\tu8 mac_fault:1;\n\tu8 mac_flashless_finished:1;\n\tu8 rsvd:5;\n\n\tu8 mac_temperature;\n\tu16 mac_heart_beat;\n\tu16 mac_fault_code;\n\tu16 rsvd2;\n};\n\nstruct phy_health_monitor_s {\n\tu8 phy_ready:1;\n\tu8 phy_fault:1;\n\tu8 phy_hot_warning:1;\n\tu8 rsvd:5;\n\n\tu8 phy_temperature;\n\tu16 phy_heart_beat;\n\tu16 phy_fault_code;\n\tu16 rsvd2;\n};\n\nstruct device_link_caps_s {\n\tu8 rsvd:3;\n\tu8 internal_loopback:1;\n\tu8 external_loopback:1;\n\tu8 rate_10M_hd:1;\n\tu8 rate_100M_hd:1;\n\tu8 rate_1G_hd:1;\n\n\tu8 rate_10M:1;\n\tu8 rate_100M:1;\n\tu8 rate_1G:1;\n\tu8 rate_2P5G:1;\n\tu8 rate_N2P5G:1;\n\tu8 rate_5G:1;\n\tu8 rate_N5G:1;\n\tu8 rate_10G:1;\n\n\tu8 rsvd3:1;\n\tu8 eee_100M:1;\n\tu8 eee_1G:1;\n\tu8 eee_2P5G:1;\n\tu8 rsvd4:1;\n\tu8 eee_5G:1;\n\tu8 rsvd5:1;\n\tu8 eee_10G:1;\n\n\tu8 pause_rx:1;\n\tu8 pause_tx:1;\n\tu8 pfc:1;\n\tu8 downshift:1;\n\tu8 downshift_retry:4;\n};\n\nstruct sleep_proxy_caps_s {\n\tu8 ipv4_offload:1;\n\tu8 ipv6_offload:1;\n\tu8 tcp_port_offload:1;\n\tu8 udp_port_offload:1;\n\tu8 ka4_offload:1;\n\tu8 ka6_offload:1;\n\tu8 mdns_offload:1;\n\tu8 wake_on_ping:1;\n\n\tu8 wake_on_magic_packet:1;\n\tu8 wake_on_pattern:1;\n\tu8 wake_on_timer:1;\n\tu8 wake_on_link:1;\n\tu8 wake_patterns_count:4;\n\n\tu8 ipv4_count;\n\tu8 ipv6_count;\n\n\tu8 tcp_port_offload_count;\n\tu8 udp_port_offload_count;\n\n\tu8 tcp4_ka_count;\n\tu8 tcp6_ka_count;\n\n\tu8 igmp_offload:1;\n\tu8 mld_offload:1;\n\tu8 rsvd:6;\n\n\tu8 rsvd2;\n\tu16 rsvd3;\n};\n\nstruct lkp_link_caps_s {\n\tu8 rsvd:5;\n\tu8 rate_10M_hd:1;\n\tu8 rate_100M_hd:1;\n\tu8 rate_1G_hd:1;\n\n\tu8 rate_10M:1;\n\tu8 rate_100M:1;\n\tu8 rate_1G:1;\n\tu8 rate_2P5G:1;\n\tu8 rate_N2P5G:1;\n\tu8 rate_5G:1;\n\tu8 rate_N5G:1;\n\tu8 rate_10G:1;\n\n\tu8 rsvd2:1;\n\tu8 eee_100M:1;\n\tu8 eee_1G:1;\n\tu8 eee_2P5G:1;\n\tu8 rsvd3:1;\n\tu8 eee_5G:1;\n\tu8 rsvd4:1;\n\tu8 eee_10G:1;\n\n\tu8 pause_rx:1;\n\tu8 pause_tx:1;\n\tu8 rsvd5:6;\n};\n\nstruct core_dump_s {\n\tu32 reg0;\n\tu32 reg1;\n\tu32 reg2;\n\n\tu32 hi;\n\tu32 lo;\n\n\tu32 regs[32];\n};\n\nstruct trace_s {\n\tu32 sync_counter;\n\tu32 mem_buffer[0x1ff];\n};\n\nstruct cable_diag_control_s {\n\tu8 toggle :1;\n\tu8 rsvd:7;\n\n\tu8 wait_timeout_sec;\n\tu16 rsvd2;\n};\n\nstruct cable_diag_lane_data_s {\n\tu8 result_code;\n\tu8 dist;\n\tu8 far_dist;\n\tu8 rsvd;\n};\n\nstruct cable_diag_status_s {\n\tstruct cable_diag_lane_data_s lane_data[4];\n\tu8 transact_id;\n\tu8 status:4;\n\tu8 rsvd:4;\n\tu16 rsvd2;\n};\n\nstruct statistics_a0_s {\n\tstruct {\n\t\tu32 link_up;\n\t\tu32 link_down;\n\t} link;\n\n\tstruct {\n\t\tu64 tx_unicast_octets;\n\t\tu64 tx_multicast_octets;\n\t\tu64 tx_broadcast_octets;\n\t\tu64 rx_unicast_octets;\n\t\tu64 rx_multicast_octets;\n\t\tu64 rx_broadcast_octets;\n\n\t\tu32 tx_unicast_frames;\n\t\tu32 tx_multicast_frames;\n\t\tu32 tx_broadcast_frames;\n\t\tu32 tx_errors;\n\n\t\tu32 rx_unicast_frames;\n\t\tu32 rx_multicast_frames;\n\t\tu32 rx_broadcast_frames;\n\t\tu32 rx_dropped_frames;\n\t\tu32 rx_error_frames;\n\n\t\tu32 tx_good_frames;\n\t\tu32 rx_good_frames;\n\t\tu32 reserve_fw_gap;\n\t} msm;\n\tu32 main_loop_cycles;\n\tu32 reserve_fw_gap;\n};\n\nstruct __packed statistics_b0_s {\n\tu64 rx_good_octets;\n\tu64 rx_pause_frames;\n\tu64 rx_good_frames;\n\tu64 rx_errors;\n\tu64 rx_unicast_frames;\n\tu64 rx_multicast_frames;\n\tu64 rx_broadcast_frames;\n\n\tu64 tx_good_octets;\n\tu64 tx_pause_frames;\n\tu64 tx_good_frames;\n\tu64 tx_errors;\n\tu64 tx_unicast_frames;\n\tu64 tx_multicast_frames;\n\tu64 tx_broadcast_frames;\n\n\tu32 main_loop_cycles;\n};\n\nstruct __packed statistics_s {\n\tunion __packed {\n\t\tstruct statistics_a0_s a0;\n\t\tstruct statistics_b0_s b0;\n\t};\n};\n\nstruct filter_caps_s {\n\tu8 l2_filters_base_index:6;\n\tu8 flexible_filter_mask:2;\n\tu8 l2_filter_count;\n\tu8 ethertype_filter_base_index;\n\tu8 ethertype_filter_count;\n\n\tu8 vlan_filter_base_index;\n\tu8 vlan_filter_count;\n\tu8 l3_ip4_filter_base_index:4;\n\tu8 l3_ip4_filter_count:4;\n\tu8 l3_ip6_filter_base_index:4;\n\tu8 l3_ip6_filter_count:4;\n\n\tu8 l4_filter_base_index:4;\n\tu8 l4_filter_count:4;\n\tu8 l4_flex_filter_base_index:4;\n\tu8 l4_flex_filter_count:4;\n\tu8 rslv_tbl_base_index;\n\tu8 rslv_tbl_count;\n};\n\nstruct request_policy_s {\n\tstruct {\n\t\tu8 all:1;\n\t\tu8 mcast:1;\n\t\tu8 rx_queue_tc_index:5;\n\t\tu8 queue_or_tc:1;\n\t} promisc;\n\n\tstruct {\n\t\tu8 accept:1;\n\t\tu8 rsvd:1;\n\t\tu8 rx_queue_tc_index:5;\n\t\tu8 queue_or_tc:1;\n\t} bcast;\n\n\tstruct {\n\t\tu8 accept:1;\n\t\tu8 rsvd:1;\n\t\tu8 rx_queue_tc_index:5;\n\t\tu8 queue_or_tc:1;\n\t} mcast;\n\n\tu8 rsvd:8;\n};\n\nstruct fw_interface_in {\n\tu32 mtu;\n\tu32 rsvd1;\n\tstruct mac_address_aligned_s mac_address;\n\tstruct link_control_s link_control;\n\tu32 rsvd2;\n\tstruct link_options_s link_options;\n\tu32 rsvd3;\n\tstruct thermal_shutdown_s thermal_shutdown;\n\tu32 rsvd4;\n\tstruct sleep_proxy_s sleep_proxy;\n\tu32 rsvd5;\n\tstruct pause_quanta_s pause_quanta[8];\n\tstruct cable_diag_control_s cable_diag_control;\n\tu32 rsvd6;\n\tstruct data_buffer_status_s data_buffer_status;\n\tu32 rsvd7;\n\tstruct request_policy_s request_policy;\n};\n\nstruct transaction_counter_s {\n\tu16 transaction_cnt_a;\n\tu16 transaction_cnt_b;\n};\n\nstruct management_status_s {\n\tstruct mac_address_s mac_address;\n\tu16 vlan;\n\n\tstruct{\n\t\tu32 enable : 1;\n\t\tu32 rsvd:31;\n\t} flags;\n\n\tu32 rsvd1;\n\tu32 rsvd2;\n\tu32 rsvd3;\n\tu32 rsvd4;\n\tu32 rsvd5;\n};\n\nstruct __packed fw_interface_out {\n\tstruct transaction_counter_s transaction_id;\n\tstruct version_s version;\n\tstruct link_status_s link_status;\n\tstruct wol_status_s wol_status;\n\tu32 rsvd;\n\tu32 rsvd2;\n\tstruct mac_health_monitor_s mac_health_monitor;\n\tu32 rsvd3;\n\tu32 rsvd4;\n\tstruct phy_health_monitor_s phy_health_monitor;\n\tu32 rsvd5;\n\tu32 rsvd6;\n\tstruct cable_diag_status_s cable_diag_status;\n\tu32 rsvd7;\n\tstruct device_link_caps_s device_link_caps;\n\tu32 rsvd8;\n\tstruct sleep_proxy_caps_s sleep_proxy_caps;\n\tu32 rsvd9;\n\tstruct lkp_link_caps_s lkp_link_caps;\n\tu32 rsvd10;\n\tstruct core_dump_s core_dump;\n\tu32 rsvd11;\n\tstruct statistics_s stats;\n\tstruct filter_caps_s filter_caps;\n\tstruct device_caps_s device_caps;\n\tu32 rsvd13;\n\tstruct management_status_s management_status;\n\tu32 reserve[21];\n\tstruct trace_s trace;\n};\n\n#define  AQ_A2_FW_LINK_RATE_INVALID 0\n#define  AQ_A2_FW_LINK_RATE_10M     1\n#define  AQ_A2_FW_LINK_RATE_100M    2\n#define  AQ_A2_FW_LINK_RATE_1G      3\n#define  AQ_A2_FW_LINK_RATE_2G5     4\n#define  AQ_A2_FW_LINK_RATE_5G      5\n#define  AQ_A2_FW_LINK_RATE_10G     6\n\n#define  AQ_HOST_MODE_INVALID      0U\n#define  AQ_HOST_MODE_ACTIVE       1U\n#define  AQ_HOST_MODE_SLEEP_PROXY  2U\n#define  AQ_HOST_MODE_LOW_POWER    3U\n#define  AQ_HOST_MODE_SHUTDOWN     4U\n\n#define  AQ_A2_FW_INTERFACE_A0     0\n#define  AQ_A2_FW_INTERFACE_B0     1\n\nint hw_atl2_utils_initfw(struct aq_hw_s *self, const struct aq_fw_ops **fw_ops);\n\nint hw_atl2_utils_soft_reset(struct aq_hw_s *self);\n\nu32 hw_atl2_utils_get_fw_version(struct aq_hw_s *self);\n\nint hw_atl2_utils_get_action_resolve_table_caps(struct aq_hw_s *self,\n\t\t\t\t\t\tu8 *base_index, u8 *count);\n\nextern const struct aq_fw_ops aq_a2_fw_ops;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}