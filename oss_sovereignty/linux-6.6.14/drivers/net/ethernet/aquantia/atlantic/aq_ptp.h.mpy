{
  "module_name": "aq_ptp.h",
  "hash_id": "7b889e0916f1848290bb5118e7eb6dabbfeee1da4d657dfb0268d7bdb4b6d318",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/aquantia/atlantic/aq_ptp.h",
  "human_readable_source": " \n \n\n \n#ifndef AQ_PTP_H\n#define AQ_PTP_H\n\n#include <linux/net_tstamp.h>\n\n#include \"aq_ring.h\"\n\n#define PTP_8TC_RING_IDX             8\n#define PTP_4TC_RING_IDX            16\n#define PTP_HWST_RING_IDX           31\n\n \nstatic inline unsigned int aq_ptp_ring_idx(const enum aq_tc_mode tc_mode)\n{\n\tif (tc_mode == AQ_TC_MODE_8TCS)\n\t\treturn PTP_8TC_RING_IDX;\n\n\treturn PTP_4TC_RING_IDX;\n}\n\n#if IS_REACHABLE(CONFIG_PTP_1588_CLOCK)\n\n \nint aq_ptp_init(struct aq_nic_s *aq_nic, unsigned int idx_vec);\n\nvoid aq_ptp_unregister(struct aq_nic_s *aq_nic);\nvoid aq_ptp_free(struct aq_nic_s *aq_nic);\n\nint aq_ptp_irq_alloc(struct aq_nic_s *aq_nic);\nvoid aq_ptp_irq_free(struct aq_nic_s *aq_nic);\n\nint aq_ptp_ring_alloc(struct aq_nic_s *aq_nic);\nvoid aq_ptp_ring_free(struct aq_nic_s *aq_nic);\n\nint aq_ptp_ring_init(struct aq_nic_s *aq_nic);\nint aq_ptp_ring_start(struct aq_nic_s *aq_nic);\nvoid aq_ptp_ring_stop(struct aq_nic_s *aq_nic);\nvoid aq_ptp_ring_deinit(struct aq_nic_s *aq_nic);\n\nvoid aq_ptp_service_task(struct aq_nic_s *aq_nic);\n\nvoid aq_ptp_tm_offset_set(struct aq_nic_s *aq_nic, unsigned int mbps);\n\nvoid aq_ptp_clock_init(struct aq_nic_s *aq_nic);\n\n \nint aq_ptp_xmit(struct aq_nic_s *aq_nic, struct sk_buff *skb);\nvoid aq_ptp_tx_hwtstamp(struct aq_nic_s *aq_nic, u64 timestamp);\n\n \nvoid aq_ptp_hwtstamp_config_get(struct aq_ptp_s *aq_ptp,\n\t\t\t\tstruct hwtstamp_config *config);\nint aq_ptp_hwtstamp_config_set(struct aq_ptp_s *aq_ptp,\n\t\t\t       struct hwtstamp_config *config);\n\n \nbool aq_ptp_ring(struct aq_nic_s *aq_nic, struct aq_ring_s *ring);\n\nu16 aq_ptp_extract_ts(struct aq_nic_s *aq_nic, struct skb_shared_hwtstamps *shhwtstamps, u8 *p,\n\t\t      unsigned int len);\n\nstruct ptp_clock *aq_ptp_get_ptp_clock(struct aq_ptp_s *aq_ptp);\n\nint aq_ptp_link_change(struct aq_nic_s *aq_nic);\n\n \nint aq_ptp_get_ring_cnt(struct aq_nic_s *aq_nic, const enum atl_ring_type ring_type);\nu64 *aq_ptp_get_stats(struct aq_nic_s *aq_nic, u64 *data);\n\n#else\n\nstatic inline int aq_ptp_init(struct aq_nic_s *aq_nic, unsigned int idx_vec)\n{\n\treturn 0;\n}\n\nstatic inline void aq_ptp_unregister(struct aq_nic_s *aq_nic) {}\n\nstatic inline void aq_ptp_free(struct aq_nic_s *aq_nic)\n{\n}\n\nstatic inline int aq_ptp_irq_alloc(struct aq_nic_s *aq_nic)\n{\n\treturn 0;\n}\n\nstatic inline void aq_ptp_irq_free(struct aq_nic_s *aq_nic)\n{\n}\n\nstatic inline int aq_ptp_ring_alloc(struct aq_nic_s *aq_nic)\n{\n\treturn 0;\n}\n\nstatic inline void aq_ptp_ring_free(struct aq_nic_s *aq_nic) {}\n\nstatic inline int aq_ptp_ring_init(struct aq_nic_s *aq_nic)\n{\n\treturn 0;\n}\n\nstatic inline int aq_ptp_ring_start(struct aq_nic_s *aq_nic)\n{\n\treturn 0;\n}\n\nstatic inline void aq_ptp_ring_stop(struct aq_nic_s *aq_nic) {}\nstatic inline void aq_ptp_ring_deinit(struct aq_nic_s *aq_nic) {}\nstatic inline void aq_ptp_service_task(struct aq_nic_s *aq_nic) {}\nstatic inline void aq_ptp_tm_offset_set(struct aq_nic_s *aq_nic,\n\t\t\t\t\tunsigned int mbps) {}\nstatic inline void aq_ptp_clock_init(struct aq_nic_s *aq_nic) {}\nstatic inline int aq_ptp_xmit(struct aq_nic_s *aq_nic, struct sk_buff *skb)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline void aq_ptp_tx_hwtstamp(struct aq_nic_s *aq_nic, u64 timestamp) {}\nstatic inline void aq_ptp_hwtstamp_config_get(struct aq_ptp_s *aq_ptp,\n\t\t\t\t\t      struct hwtstamp_config *config) {}\nstatic inline int aq_ptp_hwtstamp_config_set(struct aq_ptp_s *aq_ptp,\n\t\t\t\t\t     struct hwtstamp_config *config)\n{\n\treturn 0;\n}\n\nstatic inline bool aq_ptp_ring(struct aq_nic_s *aq_nic, struct aq_ring_s *ring)\n{\n\treturn false;\n}\n\nstatic inline u16 aq_ptp_extract_ts(struct aq_nic_s *aq_nic,\n\t\t\t\t    struct skb_shared_hwtstamps *shhwtstamps, u8 *p,\n\t\t\t\t    unsigned int len)\n{\n\treturn 0;\n}\n\nstatic inline struct ptp_clock *aq_ptp_get_ptp_clock(struct aq_ptp_s *aq_ptp)\n{\n\treturn NULL;\n}\n\nstatic inline int aq_ptp_link_change(struct aq_nic_s *aq_nic)\n{\n\treturn 0;\n}\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}