{
  "module_name": "greth.h",
  "hash_id": "2c6d12b1fde23694a49f0e0d4f155a1a68e72fe5a01d9ebb940b281dcbb57d04",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/aeroflex/greth.h",
  "human_readable_source": " \n#ifndef GRETH_H\n#define GRETH_H\n\n#include <linux/phy.h>\n\n \n#define GRETH_RESET 0x40\n#define GRETH_MII_BUSY 0x8\n#define GRETH_MII_NVALID 0x10\n\n#define GRETH_CTRL_FD         0x10\n#define GRETH_CTRL_PR         0x20\n#define GRETH_CTRL_SP         0x80\n#define GRETH_CTRL_GB         0x100\n#define GRETH_CTRL_PSTATIEN   0x400\n#define GRETH_CTRL_MCEN       0x800\n#define GRETH_CTRL_DISDUPLEX  0x1000\n#define GRETH_STATUS_PHYSTAT  0x100\n\n#define GRETH_BD_EN 0x800\n#define GRETH_BD_WR 0x1000\n#define GRETH_BD_IE 0x2000\n#define GRETH_BD_LEN 0x7FF\n\n#define GRETH_TXEN 0x1\n#define GRETH_INT_TE 0x2\n#define GRETH_INT_TX 0x8\n#define GRETH_TXI 0x4\n#define GRETH_TXBD_STATUS 0x0001C000\n#define GRETH_TXBD_MORE 0x20000\n#define GRETH_TXBD_IPCS 0x40000\n#define GRETH_TXBD_TCPCS 0x80000\n#define GRETH_TXBD_UDPCS 0x100000\n#define GRETH_TXBD_CSALL (GRETH_TXBD_IPCS | GRETH_TXBD_TCPCS | GRETH_TXBD_UDPCS)\n#define GRETH_TXBD_ERR_LC 0x10000\n#define GRETH_TXBD_ERR_UE 0x4000\n#define GRETH_TXBD_ERR_AL 0x8000\n\n#define GRETH_INT_RE         0x1\n#define GRETH_INT_RX         0x4\n#define GRETH_RXEN           0x2\n#define GRETH_RXI            0x8\n#define GRETH_RXBD_STATUS    0xFFFFC000\n#define GRETH_RXBD_ERR_AE    0x4000\n#define GRETH_RXBD_ERR_FT    0x8000\n#define GRETH_RXBD_ERR_CRC   0x10000\n#define GRETH_RXBD_ERR_OE    0x20000\n#define GRETH_RXBD_ERR_LE    0x40000\n#define GRETH_RXBD_IP        0x80000\n#define GRETH_RXBD_IP_CSERR  0x100000\n#define GRETH_RXBD_UDP       0x200000\n#define GRETH_RXBD_UDP_CSERR 0x400000\n#define GRETH_RXBD_TCP       0x800000\n#define GRETH_RXBD_TCP_CSERR 0x1000000\n#define GRETH_RXBD_IP_FRAG   0x2000000\n#define GRETH_RXBD_MCAST     0x4000000\n\n \n#define GRETH_TXBD_NUM 128\n#define GRETH_TXBD_NUM_MASK (GRETH_TXBD_NUM-1)\n#define GRETH_TX_BUF_SIZE 2048\n#define GRETH_RXBD_NUM 128\n#define GRETH_RXBD_NUM_MASK (GRETH_RXBD_NUM-1)\n#define GRETH_RX_BUF_SIZE 2048\n\n \n#define GRETH_RX_BUF_PPGAE\t(PAGE_SIZE/GRETH_RX_BUF_SIZE)\n#define GRETH_TX_BUF_PPGAE\t(PAGE_SIZE/GRETH_TX_BUF_SIZE)\n\n \n#define GRETH_RX_BUF_PAGE_NUM\t(GRETH_RXBD_NUM/GRETH_RX_BUF_PPGAE)\n#define GRETH_TX_BUF_PAGE_NUM\t(GRETH_TXBD_NUM/GRETH_TX_BUF_PPGAE)\n\n \n#define MAX_FRAME_SIZE\t\t1520\n\n \nstruct greth_regs {\n\tu32 control;\n\tu32 status;\n\tu32 esa_msb;\n\tu32 esa_lsb;\n\tu32 mdio;\n\tu32 tx_desc_p;\n\tu32 rx_desc_p;\n\tu32 edclip;\n\tu32 hash_msb;\n\tu32 hash_lsb;\n};\n\n \nstruct greth_bd {\n\tu32 stat;\n\tu32 addr;\n};\n\nstruct greth_private {\n\tstruct sk_buff *rx_skbuff[GRETH_RXBD_NUM];\n\tstruct sk_buff *tx_skbuff[GRETH_TXBD_NUM];\n\n\tunsigned char *tx_bufs[GRETH_TXBD_NUM];\n\tunsigned char *rx_bufs[GRETH_RXBD_NUM];\n\tu16 tx_bufs_length[GRETH_TXBD_NUM];\n\n\tu16 tx_next;\n\tu16 tx_last;\n\tu16 tx_free;  \n\tu16 rx_cur;\n\n\tstruct greth_regs *regs;\t \n\tstruct greth_bd *rx_bd_base;\t \n\tstruct greth_bd *tx_bd_base;\t \n\tdma_addr_t rx_bd_base_phys;\n\tdma_addr_t tx_bd_base_phys;\n\n\tint irq;\n\n\tstruct device *dev;\t         \n\tstruct net_device *netdev;\n\tstruct napi_struct napi;\n\tspinlock_t devlock;\n\n\tstruct mii_bus *mdio;\n\tunsigned int link;\n\tunsigned int speed;\n\tunsigned int duplex;\n\n\tu32 msg_enable;\n\n\tu8 phyaddr;\n\tu8 multicast;\n\tu8 gbit_mac;\n\tu8 mdio_int_en;\n\tu8 edcl;\n};\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}