{
  "module_name": "hclge_trace.h",
  "hash_id": "945f8a0d06da21669c30ba311f63e0398036b09532c5c1e651adcf6ffa2eedcb",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_trace.h",
  "human_readable_source": " \n \n\n \n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM hns3\n\n#if !defined(_HCLGE_TRACE_H_) || defined(TRACE_HEADER_MULTI_READ)\n#define _HCLGE_TRACE_H_\n\n#include <linux/tracepoint.h>\n\n#define PF_GET_MBX_LEN\t(sizeof(struct hclge_mbx_vf_to_pf_cmd) / sizeof(u32))\n#define PF_SEND_MBX_LEN\t(sizeof(struct hclge_mbx_pf_to_vf_cmd) / sizeof(u32))\n\nTRACE_EVENT(hclge_pf_mbx_get,\n\tTP_PROTO(\n\t\tstruct hclge_dev *hdev,\n\t\tstruct hclge_mbx_vf_to_pf_cmd *req),\n\tTP_ARGS(hdev, req),\n\n\tTP_STRUCT__entry(\n\t\t__field(u8, vfid)\n\t\t__field(u8, code)\n\t\t__field(u8, subcode)\n\t\t__string(pciname, pci_name(hdev->pdev))\n\t\t__string(devname, &hdev->vport[0].nic.kinfo.netdev->name)\n\t\t__array(u32, mbx_data, PF_GET_MBX_LEN)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->vfid = req->mbx_src_vfid;\n\t\t__entry->code = req->msg.code;\n\t\t__entry->subcode = req->msg.subcode;\n\t\t__assign_str(pciname, pci_name(hdev->pdev));\n\t\t__assign_str(devname, &hdev->vport[0].nic.kinfo.netdev->name);\n\t\tmemcpy(__entry->mbx_data, req,\n\t\t       sizeof(struct hclge_mbx_vf_to_pf_cmd));\n\t),\n\n\tTP_printk(\n\t\t\"%s %s vfid:%u code:%u subcode:%u data:%s\",\n\t\t__get_str(pciname), __get_str(devname), __entry->vfid,\n\t\t__entry->code, __entry->subcode,\n\t\t__print_array(__entry->mbx_data, PF_GET_MBX_LEN, sizeof(u32))\n\t)\n);\n\nTRACE_EVENT(hclge_pf_mbx_send,\n\tTP_PROTO(\n\t\tstruct hclge_dev *hdev,\n\t\tstruct hclge_mbx_pf_to_vf_cmd *req),\n\tTP_ARGS(hdev, req),\n\n\tTP_STRUCT__entry(\n\t\t__field(u8, vfid)\n\t\t__field(u16, code)\n\t\t__string(pciname, pci_name(hdev->pdev))\n\t\t__string(devname, &hdev->vport[0].nic.kinfo.netdev->name)\n\t\t__array(u32, mbx_data, PF_SEND_MBX_LEN)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->vfid = req->dest_vfid;\n\t\t__entry->code = le16_to_cpu(req->msg.code);\n\t\t__assign_str(pciname, pci_name(hdev->pdev));\n\t\t__assign_str(devname, &hdev->vport[0].nic.kinfo.netdev->name);\n\t\tmemcpy(__entry->mbx_data, req,\n\t\t       sizeof(struct hclge_mbx_pf_to_vf_cmd));\n\t),\n\n\tTP_printk(\n\t\t\"%s %s vfid:%u code:%u data:%s\",\n\t\t__get_str(pciname), __get_str(devname), __entry->vfid,\n\t\t__entry->code,\n\t\t__print_array(__entry->mbx_data, PF_SEND_MBX_LEN, sizeof(u32))\n\t)\n);\n\n#endif  \n\n \n#undef TRACE_INCLUDE_PATH\n#define TRACE_INCLUDE_PATH .\n#undef TRACE_INCLUDE_FILE\n#define TRACE_INCLUDE_FILE hclge_trace\n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}