{
  "module_name": "hclge_err.h",
  "hash_id": "76eb6b47282fb4d41e7781006840fb68065a145fa9e6164d46ac8a340b48f3ae",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/hisilicon/hns3/hns3pf/hclge_err.h",
  "human_readable_source": " \n \n\n#ifndef __HCLGE_ERR_H\n#define __HCLGE_ERR_H\n\n#include \"hclge_main.h\"\n#include \"hnae3.h\"\n\n#define HCLGE_MPF_RAS_INT_MIN_BD_NUM\t10\n#define HCLGE_PF_RAS_INT_MIN_BD_NUM\t4\n#define HCLGE_MPF_MSIX_INT_MIN_BD_NUM\t10\n#define HCLGE_PF_MSIX_INT_MIN_BD_NUM\t4\n\n#define HCLGE_RAS_PF_OTHER_INT_STS_REG   0x20B00\n#define HCLGE_RAS_REG_NFE_MASK   0xFF00\n#define HCLGE_RAS_REG_ROCEE_ERR_MASK   0x3000000\n#define HCLGE_RAS_REG_ERR_MASK \\\n\t(HCLGE_RAS_REG_NFE_MASK | HCLGE_RAS_REG_ROCEE_ERR_MASK)\n\n#define HCLGE_VECTOR0_REG_MSIX_MASK   0x1FF00\n\n#define HCLGE_IMP_TCM_ECC_ERR_INT_EN\t0xFFFF0000\n#define HCLGE_IMP_TCM_ECC_ERR_INT_EN_MASK\t0xFFFF0000\n#define HCLGE_IMP_ITCM4_ECC_ERR_INT_EN\t0x300\n#define HCLGE_IMP_ITCM4_ECC_ERR_INT_EN_MASK\t0x300\n#define HCLGE_CMDQ_NIC_ECC_ERR_INT_EN\t0xFFFF\n#define HCLGE_CMDQ_NIC_ECC_ERR_INT_EN_MASK\t0xFFFF\n#define HCLGE_CMDQ_ROCEE_ECC_ERR_INT_EN\t0xFFFF0000\n#define HCLGE_CMDQ_ROCEE_ECC_ERR_INT_EN_MASK\t0xFFFF0000\n#define HCLGE_IMP_RD_POISON_ERR_INT_EN\t0x0100\n#define HCLGE_IMP_RD_POISON_ERR_INT_EN_MASK\t0x0100\n#define HCLGE_TQP_ECC_ERR_INT_EN\t0x0FFF\n#define HCLGE_TQP_ECC_ERR_INT_EN_MASK\t0x0FFF\n#define HCLGE_MSIX_SRAM_ECC_ERR_INT_EN_MASK\t0x0F000000\n#define HCLGE_MSIX_SRAM_ECC_ERR_INT_EN\t0x0F000000\n#define HCLGE_IGU_ERR_INT_EN\t0x0000000F\n#define HCLGE_IGU_ERR_INT_TYPE\t0x00000660\n#define HCLGE_IGU_ERR_INT_EN_MASK\t0x000F\n#define HCLGE_IGU_TNL_ERR_INT_EN    0x0002AABF\n#define HCLGE_IGU_TNL_ERR_INT_EN_MASK  0x003F\n#define HCLGE_PPP_MPF_ECC_ERR_INT0_EN\t0xFFFFFFFF\n#define HCLGE_PPP_MPF_ECC_ERR_INT0_EN_MASK\t0xFFFFFFFF\n#define HCLGE_PPP_MPF_ECC_ERR_INT1_EN\t0xFFFFFFFF\n#define HCLGE_PPP_MPF_ECC_ERR_INT1_EN_MASK\t0xFFFFFFFF\n#define HCLGE_PPP_PF_ERR_INT_EN\t0x0003\n#define HCLGE_PPP_PF_ERR_INT_EN_MASK\t0x0003\n#define HCLGE_PPP_MPF_ECC_ERR_INT2_EN\t0x003F\n#define HCLGE_PPP_MPF_ECC_ERR_INT2_EN_MASK\t0x003F\n#define HCLGE_PPP_MPF_ECC_ERR_INT3_EN\t0x003F\n#define HCLGE_PPP_MPF_ECC_ERR_INT3_EN_MASK\t0x003F\n#define HCLGE_TM_SCH_ECC_ERR_INT_EN\t0x3\n#define HCLGE_TM_QCN_ERR_INT_TYPE\t0x29\n#define HCLGE_TM_QCN_FIFO_INT_EN\t0xFFFF00\n#define HCLGE_TM_QCN_MEM_ERR_INT_EN\t0xFFFFFF\n#define HCLGE_NCSI_ERR_INT_EN\t0x3\n#define HCLGE_NCSI_ERR_INT_TYPE\t0x9\n#define HCLGE_MAC_COMMON_ERR_INT_EN\t\t0x107FF\n#define HCLGE_MAC_COMMON_ERR_INT_EN_MASK\t0x107FF\n#define HCLGE_MAC_TNL_INT_EN\t\t\tGENMASK(9, 0)\n#define HCLGE_MAC_TNL_INT_EN_MASK\t\tGENMASK(9, 0)\n#define HCLGE_MAC_TNL_INT_CLR\t\t\tGENMASK(9, 0)\n#define HCLGE_PPU_MPF_ABNORMAL_INT0_EN\t\tGENMASK(31, 0)\n#define HCLGE_PPU_MPF_ABNORMAL_INT0_EN_MASK\tGENMASK(31, 0)\n#define HCLGE_PPU_MPF_ABNORMAL_INT1_EN\t\tGENMASK(31, 0)\n#define HCLGE_PPU_MPF_ABNORMAL_INT1_EN_MASK\tGENMASK(31, 0)\n#define HCLGE_PPU_MPF_ABNORMAL_INT2_EN\t\t0x3FFF3FFF\n#define HCLGE_PPU_MPF_ABNORMAL_INT2_EN_MASK\t0x3FFF3FFF\n#define HCLGE_PPU_MPF_ABNORMAL_INT2_EN2\t\t0xB\n#define HCLGE_PPU_MPF_ABNORMAL_INT2_EN2_MASK\t0xB\n#define HCLGE_PPU_MPF_ABNORMAL_INT3_EN\t\tGENMASK(7, 0)\n#define HCLGE_PPU_MPF_ABNORMAL_INT3_EN_MASK\tGENMASK(23, 16)\n#define HCLGE_PPU_PF_ABNORMAL_INT_EN\t\tGENMASK(5, 0)\n#define HCLGE_PPU_PF_ABNORMAL_INT_EN_MASK\tGENMASK(5, 0)\n#define HCLGE_SSU_1BIT_ECC_ERR_INT_EN\t\tGENMASK(31, 0)\n#define HCLGE_SSU_1BIT_ECC_ERR_INT_EN_MASK\tGENMASK(31, 0)\n#define HCLGE_SSU_MULTI_BIT_ECC_ERR_INT_EN\tGENMASK(31, 0)\n#define HCLGE_SSU_MULTI_BIT_ECC_ERR_INT_EN_MASK\tGENMASK(31, 0)\n#define HCLGE_SSU_BIT32_ECC_ERR_INT_EN\t\t0x0101\n#define HCLGE_SSU_BIT32_ECC_ERR_INT_EN_MASK\t0x0101\n#define HCLGE_SSU_COMMON_INT_EN\t\t\tGENMASK(9, 0)\n#define HCLGE_SSU_COMMON_INT_EN_MASK\t\tGENMASK(9, 0)\n#define HCLGE_SSU_PORT_BASED_ERR_INT_EN\t\t0x0BFF\n#define HCLGE_SSU_PORT_BASED_ERR_INT_EN_MASK\t0x0BFF0000\n#define HCLGE_SSU_FIFO_OVERFLOW_ERR_INT_EN\tGENMASK(23, 0)\n#define HCLGE_SSU_FIFO_OVERFLOW_ERR_INT_EN_MASK\tGENMASK(23, 0)\n\n#define HCLGE_SSU_COMMON_ERR_INT_MASK\tGENMASK(9, 0)\n#define HCLGE_SSU_PORT_INT_MSIX_MASK\t0x7BFF\n#define HCLGE_IGU_INT_MASK\t\tGENMASK(3, 0)\n#define HCLGE_IGU_EGU_TNL_INT_MASK\tGENMASK(5, 0)\n#define HCLGE_PPP_MPF_INT_ST3_MASK\tGENMASK(5, 0)\n#define HCLGE_PPU_MPF_INT_ST3_MASK\tGENMASK(7, 0)\n#define HCLGE_PPU_MPF_INT_ST2_MSIX_MASK\tBIT(29)\n#define HCLGE_PPU_PF_INT_RAS_MASK\t0x18\n#define HCLGE_PPU_PF_INT_MSIX_MASK\t0x26\n#define HCLGE_PPU_PF_OVER_8BD_ERR_MASK\t0x01\n#define HCLGE_QCN_FIFO_INT_MASK\t\tGENMASK(17, 0)\n#define HCLGE_QCN_ECC_INT_MASK\t\tGENMASK(21, 0)\n#define HCLGE_NCSI_ECC_INT_MASK\t\tGENMASK(1, 0)\n\n#define HCLGE_ROCEE_RAS_NFE_INT_EN\t\t0xF\n#define HCLGE_ROCEE_RAS_CE_INT_EN\t\t0x1\n#define HCLGE_ROCEE_RAS_NFE_INT_EN_MASK\t\t0xF\n#define HCLGE_ROCEE_RAS_CE_INT_EN_MASK\t\t0x1\n#define HCLGE_ROCEE_RERR_INT_MASK\t\tBIT(0)\n#define HCLGE_ROCEE_BERR_INT_MASK\t\tBIT(1)\n#define HCLGE_ROCEE_AXI_ERR_INT_MASK\t\tGENMASK(1, 0)\n#define HCLGE_ROCEE_ECC_INT_MASK\t\tBIT(2)\n#define HCLGE_ROCEE_OVF_INT_MASK\t\tBIT(3)\n#define HCLGE_ROCEE_OVF_ERR_INT_MASK\t\t0x10000\n#define HCLGE_ROCEE_OVF_ERR_TYPE_MASK\t\t0x3F\n\n#define HCLGE_DESC_DATA_MAX\t\t\t8\n#define HCLGE_REG_NUM_MAX\t\t\t256\n#define HCLGE_DESC_NO_DATA_LEN\t\t\t8\n\nenum hclge_err_int_type {\n\tHCLGE_ERR_INT_MSIX = 0,\n\tHCLGE_ERR_INT_RAS_CE = 1,\n\tHCLGE_ERR_INT_RAS_NFE = 2,\n\tHCLGE_ERR_INT_RAS_FE = 3,\n};\n\nenum hclge_mod_name_list {\n\tMODULE_NONE\t\t= 0,\n\tMODULE_BIOS_COMMON\t= 1,\n\tMODULE_GE\t\t= 2,\n\tMODULE_IGU_EGU\t\t= 3,\n\tMODULE_LGE\t\t= 4,\n\tMODULE_NCSI\t\t= 5,\n\tMODULE_PPP\t\t= 6,\n\tMODULE_QCN\t\t= 7,\n\tMODULE_RCB_RX\t\t= 8,\n\tMODULE_RTC\t\t= 9,\n\tMODULE_SSU\t\t= 10,\n\tMODULE_TM\t\t= 11,\n\tMODULE_RCB_TX\t\t= 12,\n\tMODULE_TXDMA\t\t= 13,\n\tMODULE_MASTER\t\t= 14,\n\tMODULE_HIMAC\t\t= 15,\n\t \n\tMODULE_ROCEE_TOP\t= 40,\n\tMODULE_ROCEE_TIMER\t= 41,\n\tMODULE_ROCEE_MDB\t= 42,\n\tMODULE_ROCEE_TSP\t= 43,\n\tMODULE_ROCEE_TRP\t= 44,\n\tMODULE_ROCEE_SCC\t= 45,\n\tMODULE_ROCEE_CAEP\t= 46,\n\tMODULE_ROCEE_GEN_AC\t= 47,\n\tMODULE_ROCEE_QMM\t= 48,\n\tMODULE_ROCEE_LSAN\t= 49,\n\t \n};\n\nenum hclge_err_type_list {\n\tNONE_ERROR\t\t= 0,\n\tFIFO_ERROR\t\t= 1,\n\tMEMORY_ERROR\t\t= 2,\n\tPOISON_ERROR\t\t= 3,\n\tMSIX_ECC_ERROR\t\t= 4,\n\tTQP_INT_ECC_ERROR\t= 5,\n\tPF_ABNORMAL_INT_ERROR\t= 6,\n\tMPF_ABNORMAL_INT_ERROR\t= 7,\n\tCOMMON_ERROR\t\t= 8,\n\tPORT_ERROR\t\t= 9,\n\tETS_ERROR\t\t= 10,\n\tNCSI_ERROR\t\t= 11,\n\tGLB_ERROR\t\t= 12,\n\tLINK_ERROR\t\t= 13,\n\tPTP_ERROR\t\t= 14,\n\t \n\tROCEE_NORMAL_ERR\t= 40,\n\tROCEE_OVF_ERR\t\t= 41,\n\tROCEE_BUS_ERR\t\t= 42,\n\t \n};\n\nstruct hclge_hw_blk {\n\tu32 msk;\n\tconst char *name;\n\tint (*config_err_int)(struct hclge_dev *hdev, bool en);\n};\n\nstruct hclge_hw_error {\n\tu32 int_msk;\n\tconst char *msg;\n\tenum hnae3_reset_type reset_level;\n};\n\nstruct hclge_hw_module_id {\n\tenum hclge_mod_name_list module_id;\n\tconst char *msg;\n};\n\nstruct hclge_hw_type_id {\n\tenum hclge_err_type_list type_id;\n\tconst char *msg;\n};\n\nstruct hclge_sum_err_info {\n\tu8 reset_type;\n\tu8 mod_num;\n\tu8 rsv[2];\n};\n\nstruct hclge_mod_err_info {\n\tu8 mod_id;\n\tu8 err_num;\n\tu8 rsv[2];\n};\n\nstruct hclge_type_reg_err_info {\n\tu8 type_id;\n\tu8 reg_num;\n\tu8 rsv[2];\n\tu32 hclge_reg[HCLGE_REG_NUM_MAX];\n};\n\nint hclge_config_mac_tnl_int(struct hclge_dev *hdev, bool en);\nint hclge_config_nic_hw_error(struct hclge_dev *hdev, bool state);\nint hclge_config_rocee_ras_interrupt(struct hclge_dev *hdev, bool en);\nvoid hclge_handle_all_hns_hw_errors(struct hnae3_ae_dev *ae_dev);\nbool hclge_find_error_source(struct hclge_dev *hdev);\nvoid hclge_handle_occurred_error(struct hclge_dev *hdev);\npci_ers_result_t hclge_handle_hw_ras_error(struct hnae3_ae_dev *ae_dev);\nint hclge_handle_hw_msix_error(struct hclge_dev *hdev,\n\t\t\t       unsigned long *reset_requests);\nint hclge_handle_error_info_log(struct hnae3_ae_dev *ae_dev);\nint hclge_handle_mac_tnl(struct hclge_dev *hdev);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}