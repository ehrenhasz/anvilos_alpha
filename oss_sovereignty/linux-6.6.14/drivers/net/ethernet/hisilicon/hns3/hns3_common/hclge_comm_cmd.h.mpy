{
  "module_name": "hclge_comm_cmd.h",
  "hash_id": "4d1a6490f76dae2d16a078f0f2132044e93e1f6b6da9ed207cdf0375a1f0c98a",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/hisilicon/hns3/hns3_common/hclge_comm_cmd.h",
  "human_readable_source": " \n\n\n#ifndef __HCLGE_COMM_CMD_H\n#define __HCLGE_COMM_CMD_H\n#include <linux/types.h>\n\n#include \"hnae3.h\"\n\n#define HCLGE_COMM_CMD_FLAG_IN\t\t\tBIT(0)\n#define HCLGE_COMM_CMD_FLAG_NEXT\t\tBIT(2)\n#define HCLGE_COMM_CMD_FLAG_WR\t\t\tBIT(3)\n#define HCLGE_COMM_CMD_FLAG_NO_INTR\t\tBIT(4)\n\n#define HCLGE_COMM_SEND_SYNC(flag) \\\n\t((flag) & HCLGE_COMM_CMD_FLAG_NO_INTR)\n\n#define HCLGE_COMM_LINK_EVENT_REPORT_EN_B\t0\n#define HCLGE_COMM_NCSI_ERROR_REPORT_EN_B\t1\n#define HCLGE_COMM_PHY_IMP_EN_B\t\t\t2\n#define HCLGE_COMM_MAC_STATS_EXT_EN_B\t\t3\n#define HCLGE_COMM_SYNC_RX_RING_HEAD_EN_B\t4\n#define HCLGE_COMM_LLRS_FEC_EN_B\t\t5\n\n#define hclge_comm_dev_phy_imp_supported(ae_dev) \\\n\ttest_bit(HNAE3_DEV_SUPPORT_PHY_IMP_B, (ae_dev)->caps)\n\n#define HCLGE_COMM_TYPE_CRQ\t\t\t0\n#define HCLGE_COMM_TYPE_CSQ\t\t\t1\n\n#define HCLGE_COMM_CMDQ_CLEAR_WAIT_TIME\t\t200\n\n \n#define HCLGE_COMM_NIC_CSQ_BASEADDR_L_REG\t0x27000\n#define HCLGE_COMM_NIC_CSQ_BASEADDR_H_REG\t0x27004\n#define HCLGE_COMM_NIC_CSQ_DEPTH_REG\t\t0x27008\n#define HCLGE_COMM_NIC_CSQ_TAIL_REG\t\t0x27010\n#define HCLGE_COMM_NIC_CSQ_HEAD_REG\t\t0x27014\n#define HCLGE_COMM_NIC_CRQ_BASEADDR_L_REG\t0x27018\n#define HCLGE_COMM_NIC_CRQ_BASEADDR_H_REG\t0x2701C\n#define HCLGE_COMM_NIC_CRQ_DEPTH_REG\t\t0x27020\n#define HCLGE_COMM_NIC_CRQ_TAIL_REG\t\t0x27024\n#define HCLGE_COMM_NIC_CRQ_HEAD_REG\t\t0x27028\n \n#define HCLGE_COMM_VECTOR0_CMDQ_SRC_REG\t\t0x27100\n \n#define HCLGE_COMM_VECTOR0_CMDQ_STATE_REG\t0x27104\n#define HCLGE_COMM_CMDQ_INTR_EN_REG\t\t0x27108\n#define HCLGE_COMM_CMDQ_INTR_GEN_REG\t\t0x2710C\n#define HCLGE_COMM_CMDQ_INTR_STS_REG\t\t0x27104\n\n \n#define HCLGE_COMM_NIC_SW_RST_RDY_B\t\t16\n#define HCLGE_COMM_NIC_SW_RST_RDY\t\tBIT(HCLGE_COMM_NIC_SW_RST_RDY_B)\n#define HCLGE_COMM_NIC_CMQ_DESC_NUM_S\t\t3\n#define HCLGE_COMM_NIC_CMQ_DESC_NUM\t\t1024\n#define HCLGE_COMM_CMDQ_TX_TIMEOUT_DEFAULT\t30000\n#define HCLGE_COMM_CMDQ_TX_TIMEOUT_500MS\t500000\n\nenum hclge_opcode_type {\n\t \n\tHCLGE_OPC_QUERY_FW_VER\t\t= 0x0001,\n\tHCLGE_OPC_CFG_RST_TRIGGER\t= 0x0020,\n\tHCLGE_OPC_GBL_RST_STATUS\t= 0x0021,\n\tHCLGE_OPC_QUERY_FUNC_STATUS\t= 0x0022,\n\tHCLGE_OPC_QUERY_PF_RSRC\t\t= 0x0023,\n\tHCLGE_OPC_QUERY_VF_RSRC\t\t= 0x0024,\n\tHCLGE_OPC_GET_CFG_PARAM\t\t= 0x0025,\n\tHCLGE_OPC_PF_RST_DONE\t\t= 0x0026,\n\tHCLGE_OPC_QUERY_VF_RST_RDY\t= 0x0027,\n\n\tHCLGE_OPC_STATS_64_BIT\t\t= 0x0030,\n\tHCLGE_OPC_STATS_32_BIT\t\t= 0x0031,\n\tHCLGE_OPC_STATS_MAC\t\t= 0x0032,\n\tHCLGE_OPC_QUERY_MAC_REG_NUM\t= 0x0033,\n\tHCLGE_OPC_STATS_MAC_ALL\t\t= 0x0034,\n\n\tHCLGE_OPC_QUERY_REG_NUM\t\t= 0x0040,\n\tHCLGE_OPC_QUERY_32_BIT_REG\t= 0x0041,\n\tHCLGE_OPC_QUERY_64_BIT_REG\t= 0x0042,\n\tHCLGE_OPC_DFX_BD_NUM\t\t= 0x0043,\n\tHCLGE_OPC_DFX_BIOS_COMMON_REG\t= 0x0044,\n\tHCLGE_OPC_DFX_SSU_REG_0\t\t= 0x0045,\n\tHCLGE_OPC_DFX_SSU_REG_1\t\t= 0x0046,\n\tHCLGE_OPC_DFX_IGU_EGU_REG\t= 0x0047,\n\tHCLGE_OPC_DFX_RPU_REG_0\t\t= 0x0048,\n\tHCLGE_OPC_DFX_RPU_REG_1\t\t= 0x0049,\n\tHCLGE_OPC_DFX_NCSI_REG\t\t= 0x004A,\n\tHCLGE_OPC_DFX_RTC_REG\t\t= 0x004B,\n\tHCLGE_OPC_DFX_PPP_REG\t\t= 0x004C,\n\tHCLGE_OPC_DFX_RCB_REG\t\t= 0x004D,\n\tHCLGE_OPC_DFX_TQP_REG\t\t= 0x004E,\n\tHCLGE_OPC_DFX_SSU_REG_2\t\t= 0x004F,\n\n\tHCLGE_OPC_QUERY_DEV_SPECS\t= 0x0050,\n\n\t \n\tHCLGE_OPC_CONFIG_MAC_MODE\t= 0x0301,\n\tHCLGE_OPC_CONFIG_AN_MODE\t= 0x0304,\n\tHCLGE_OPC_QUERY_LINK_STATUS\t= 0x0307,\n\tHCLGE_OPC_CONFIG_MAX_FRM_SIZE\t= 0x0308,\n\tHCLGE_OPC_CONFIG_SPEED_DUP\t= 0x0309,\n\tHCLGE_OPC_QUERY_MAC_TNL_INT\t= 0x0310,\n\tHCLGE_OPC_MAC_TNL_INT_EN\t= 0x0311,\n\tHCLGE_OPC_CLEAR_MAC_TNL_INT\t= 0x0312,\n\tHCLGE_OPC_COMMON_LOOPBACK       = 0x0315,\n\tHCLGE_OPC_QUERY_FEC_STATS\t= 0x0316,\n\tHCLGE_OPC_CONFIG_FEC_MODE\t= 0x031A,\n\tHCLGE_OPC_QUERY_ROH_TYPE_INFO\t= 0x0389,\n\n\t \n\tHCLGE_OPC_PTP_INT_EN\t\t= 0x0501,\n\tHCLGE_OPC_PTP_MODE_CFG\t\t= 0x0507,\n\n\t \n\tHCLGE_OPC_CFG_MAC_PAUSE_EN      = 0x0701,\n\tHCLGE_OPC_CFG_PFC_PAUSE_EN      = 0x0702,\n\tHCLGE_OPC_CFG_MAC_PARA          = 0x0703,\n\tHCLGE_OPC_CFG_PFC_PARA          = 0x0704,\n\tHCLGE_OPC_QUERY_MAC_TX_PKT_CNT  = 0x0705,\n\tHCLGE_OPC_QUERY_MAC_RX_PKT_CNT  = 0x0706,\n\tHCLGE_OPC_QUERY_PFC_TX_PKT_CNT  = 0x0707,\n\tHCLGE_OPC_QUERY_PFC_RX_PKT_CNT  = 0x0708,\n\tHCLGE_OPC_PRI_TO_TC_MAPPING     = 0x0709,\n\tHCLGE_OPC_QOS_MAP               = 0x070A,\n\n\t \n\tHCLGE_OPC_TM_PG_TO_PRI_LINK\t= 0x0804,\n\tHCLGE_OPC_TM_QS_TO_PRI_LINK     = 0x0805,\n\tHCLGE_OPC_TM_NQ_TO_QS_LINK      = 0x0806,\n\tHCLGE_OPC_TM_RQ_TO_QS_LINK      = 0x0807,\n\tHCLGE_OPC_TM_PORT_WEIGHT        = 0x0808,\n\tHCLGE_OPC_TM_PG_WEIGHT          = 0x0809,\n\tHCLGE_OPC_TM_QS_WEIGHT          = 0x080A,\n\tHCLGE_OPC_TM_PRI_WEIGHT         = 0x080B,\n\tHCLGE_OPC_TM_PRI_C_SHAPPING     = 0x080C,\n\tHCLGE_OPC_TM_PRI_P_SHAPPING     = 0x080D,\n\tHCLGE_OPC_TM_PG_C_SHAPPING      = 0x080E,\n\tHCLGE_OPC_TM_PG_P_SHAPPING      = 0x080F,\n\tHCLGE_OPC_TM_PORT_SHAPPING      = 0x0810,\n\tHCLGE_OPC_TM_PG_SCH_MODE_CFG    = 0x0812,\n\tHCLGE_OPC_TM_PRI_SCH_MODE_CFG   = 0x0813,\n\tHCLGE_OPC_TM_QS_SCH_MODE_CFG    = 0x0814,\n\tHCLGE_OPC_TM_BP_TO_QSET_MAPPING = 0x0815,\n\tHCLGE_OPC_TM_NODES\t\t= 0x0816,\n\tHCLGE_OPC_ETS_TC_WEIGHT\t\t= 0x0843,\n\tHCLGE_OPC_QSET_DFX_STS\t\t= 0x0844,\n\tHCLGE_OPC_PRI_DFX_STS\t\t= 0x0845,\n\tHCLGE_OPC_PG_DFX_STS\t\t= 0x0846,\n\tHCLGE_OPC_PORT_DFX_STS\t\t= 0x0847,\n\tHCLGE_OPC_SCH_NQ_CNT\t\t= 0x0848,\n\tHCLGE_OPC_SCH_RQ_CNT\t\t= 0x0849,\n\tHCLGE_OPC_TM_INTERNAL_STS\t= 0x0850,\n\tHCLGE_OPC_TM_INTERNAL_CNT\t= 0x0851,\n\tHCLGE_OPC_TM_INTERNAL_STS_1\t= 0x0852,\n\tHCLGE_OPC_TM_FLUSH\t\t= 0x0872,\n\n\t \n\tHCLGE_OPC_TX_BUFF_ALLOC\t\t= 0x0901,\n\tHCLGE_OPC_RX_PRIV_BUFF_ALLOC\t= 0x0902,\n\tHCLGE_OPC_RX_PRIV_WL_ALLOC\t= 0x0903,\n\tHCLGE_OPC_RX_COM_THRD_ALLOC\t= 0x0904,\n\tHCLGE_OPC_RX_COM_WL_ALLOC\t= 0x0905,\n\tHCLGE_OPC_RX_GBL_PKT_CNT\t= 0x0906,\n\n\t \n\tHCLGE_OPC_SET_TQP_MAP\t\t= 0x0A01,\n\n\t \n\tHCLGE_OPC_CFG_TX_QUEUE\t\t= 0x0B01,\n\tHCLGE_OPC_QUERY_TX_POINTER\t= 0x0B02,\n\tHCLGE_OPC_QUERY_TX_STATS\t= 0x0B03,\n\tHCLGE_OPC_TQP_TX_QUEUE_TC\t= 0x0B04,\n\tHCLGE_OPC_CFG_RX_QUEUE\t\t= 0x0B11,\n\tHCLGE_OPC_QUERY_RX_POINTER\t= 0x0B12,\n\tHCLGE_OPC_QUERY_RX_STATS\t= 0x0B13,\n\tHCLGE_OPC_STASH_RX_QUEUE_LRO\t= 0x0B16,\n\tHCLGE_OPC_CFG_RX_QUEUE_LRO\t= 0x0B17,\n\tHCLGE_OPC_CFG_COM_TQP_QUEUE\t= 0x0B20,\n\tHCLGE_OPC_RESET_TQP_QUEUE\t= 0x0B22,\n\n\t \n\tHCLGE_OPC_PPU_PF_OTHER_INT_DFX\t= 0x0B4A,\n\n\t \n\tHCLGE_OPC_TSO_GENERIC_CONFIG\t= 0x0C01,\n\tHCLGE_OPC_GRO_GENERIC_CONFIG    = 0x0C10,\n\n\t \n\tHCLGE_OPC_RSS_GENERIC_CONFIG\t= 0x0D01,\n\tHCLGE_OPC_RSS_INDIR_TABLE\t= 0x0D07,\n\tHCLGE_OPC_RSS_TC_MODE\t\t= 0x0D08,\n\tHCLGE_OPC_RSS_INPUT_TUPLE\t= 0x0D02,\n\n\t \n\tHCLGE_OPC_CFG_PROMISC_MODE\t= 0x0E01,\n\n\t \n\tHCLGE_OPC_VLAN_PORT_TX_CFG\t= 0x0F01,\n\tHCLGE_OPC_VLAN_PORT_RX_CFG\t= 0x0F02,\n\n\t \n\tHCLGE_OPC_ADD_RING_TO_VECTOR\t= 0x1503,\n\tHCLGE_OPC_DEL_RING_TO_VECTOR\t= 0x1504,\n\n\t \n\tHCLGE_OPC_MAC_VLAN_ADD\t\t    = 0x1000,\n\tHCLGE_OPC_MAC_VLAN_REMOVE\t    = 0x1001,\n\tHCLGE_OPC_MAC_VLAN_TYPE_ID\t    = 0x1002,\n\tHCLGE_OPC_MAC_VLAN_INSERT\t    = 0x1003,\n\tHCLGE_OPC_MAC_VLAN_ALLOCATE\t    = 0x1004,\n\tHCLGE_OPC_MAC_ETHTYPE_ADD\t    = 0x1010,\n\tHCLGE_OPC_MAC_ETHTYPE_REMOVE\t= 0x1011,\n\n\t \n\tHCLGE_OPC_MAC_VLAN_SWITCH_PARAM\t= 0x1033,\n\n\t \n\tHCLGE_OPC_VLAN_FILTER_CTRL\t    = 0x1100,\n\tHCLGE_OPC_VLAN_FILTER_PF_CFG\t= 0x1101,\n\tHCLGE_OPC_VLAN_FILTER_VF_CFG\t= 0x1102,\n\tHCLGE_OPC_PORT_VLAN_BYPASS\t= 0x1103,\n\n\t \n\tHCLGE_OPC_FD_MODE_CTRL\t\t= 0x1200,\n\tHCLGE_OPC_FD_GET_ALLOCATION\t= 0x1201,\n\tHCLGE_OPC_FD_KEY_CONFIG\t\t= 0x1202,\n\tHCLGE_OPC_FD_TCAM_OP\t\t= 0x1203,\n\tHCLGE_OPC_FD_AD_OP\t\t= 0x1204,\n\tHCLGE_OPC_FD_CNT_OP\t\t= 0x1205,\n\tHCLGE_OPC_FD_USER_DEF_OP\t= 0x1207,\n\tHCLGE_OPC_FD_QB_CTRL\t\t= 0x1210,\n\tHCLGE_OPC_FD_QB_AD_OP\t\t= 0x1211,\n\n\t \n\tHCLGE_OPC_MDIO_CONFIG\t\t= 0x1900,\n\n\t \n\tHCLGE_OPC_QCN_MOD_CFG\t\t= 0x1A01,\n\tHCLGE_OPC_QCN_GRP_TMPLT_CFG\t= 0x1A02,\n\tHCLGE_OPC_QCN_SHAPPING_CFG\t= 0x1A03,\n\tHCLGE_OPC_QCN_SHAPPING_BS_CFG\t= 0x1A04,\n\tHCLGE_OPC_QCN_QSET_LINK_CFG\t= 0x1A05,\n\tHCLGE_OPC_QCN_RP_STATUS_GET\t= 0x1A06,\n\tHCLGE_OPC_QCN_AJUST_INIT\t= 0x1A07,\n\tHCLGE_OPC_QCN_DFX_CNT_STATUS    = 0x1A08,\n\n\t \n\tHCLGEVF_OPC_MBX_PF_TO_VF\t= 0x2000,\n\tHCLGEVF_OPC_MBX_VF_TO_PF\t= 0x2001,\n\n\t \n\tHCLGE_OPC_LED_STATUS_CFG\t= 0xB000,\n\n\t \n\tHCLGE_OPC_CLEAR_HW_RESOURCE\t= 0x700B,\n\n\t \n\tHCLGE_OPC_QUERY_NCL_CONFIG\t= 0x7011,\n\n\t \n\tHCLGE_OPC_IMP_STATS_BD\t\t= 0x7012,\n\tHCLGE_OPC_IMP_STATS_INFO\t\t= 0x7013,\n\tHCLGE_OPC_IMP_COMPAT_CFG\t\t= 0x701A,\n\n\t \n\tHCLGE_OPC_GET_SFP_EEPROM\t= 0x7100,\n\tHCLGE_OPC_GET_SFP_EXIST\t\t= 0x7101,\n\tHCLGE_OPC_GET_SFP_INFO\t\t= 0x7104,\n\n\t \n\tHCLGE_MAC_COMMON_INT_EN\t\t= 0x030E,\n\tHCLGE_TM_SCH_ECC_INT_EN\t\t= 0x0829,\n\tHCLGE_SSU_ECC_INT_CMD\t\t= 0x0989,\n\tHCLGE_SSU_COMMON_INT_CMD\t= 0x098C,\n\tHCLGE_PPU_MPF_ECC_INT_CMD\t= 0x0B40,\n\tHCLGE_PPU_MPF_OTHER_INT_CMD\t= 0x0B41,\n\tHCLGE_PPU_PF_OTHER_INT_CMD\t= 0x0B42,\n\tHCLGE_COMMON_ECC_INT_CFG\t= 0x1505,\n\tHCLGE_QUERY_RAS_INT_STS_BD_NUM\t= 0x1510,\n\tHCLGE_QUERY_CLEAR_MPF_RAS_INT\t= 0x1511,\n\tHCLGE_QUERY_CLEAR_PF_RAS_INT\t= 0x1512,\n\tHCLGE_QUERY_MSIX_INT_STS_BD_NUM\t= 0x1513,\n\tHCLGE_QUERY_CLEAR_ALL_MPF_MSIX_INT\t= 0x1514,\n\tHCLGE_QUERY_CLEAR_ALL_PF_MSIX_INT\t= 0x1515,\n\tHCLGE_QUERY_ALL_ERR_BD_NUM\t\t= 0x1516,\n\tHCLGE_QUERY_ALL_ERR_INFO\t\t= 0x1517,\n\tHCLGE_CONFIG_ROCEE_RAS_INT_EN\t= 0x1580,\n\tHCLGE_QUERY_CLEAR_ROCEE_RAS_INT = 0x1581,\n\tHCLGE_ROCEE_PF_RAS_INT_CMD\t= 0x1584,\n\tHCLGE_QUERY_ROCEE_ECC_RAS_INFO_CMD\t= 0x1585,\n\tHCLGE_QUERY_ROCEE_AXI_RAS_INFO_CMD\t= 0x1586,\n\tHCLGE_IGU_EGU_TNL_INT_EN\t= 0x1803,\n\tHCLGE_IGU_COMMON_INT_EN\t\t= 0x1806,\n\tHCLGE_TM_QCN_MEM_INT_CFG\t= 0x1A14,\n\tHCLGE_PPP_CMD0_INT_CMD\t\t= 0x2100,\n\tHCLGE_PPP_CMD1_INT_CMD\t\t= 0x2101,\n\tHCLGE_MAC_ETHERTYPE_IDX_RD      = 0x2105,\n\tHCLGE_OPC_WOL_GET_SUPPORTED_MODE\t= 0x2201,\n\tHCLGE_OPC_WOL_CFG\t\t= 0x2202,\n\tHCLGE_NCSI_INT_EN\t\t= 0x2401,\n\n\t \n\tHCLGE_OPC_MAC_ADDR_CHECK\t= 0x9004,\n\n\t \n\tHCLGE_OPC_PHY_LINK_KSETTING\t= 0x7025,\n\tHCLGE_OPC_PHY_REG\t\t= 0x7026,\n\n\t \n\tHCLGE_OPC_QUERY_LINK_DIAGNOSIS\t= 0x702A,\n};\n\nenum hclge_comm_cmd_return_status {\n\tHCLGE_COMM_CMD_EXEC_SUCCESS\t= 0,\n\tHCLGE_COMM_CMD_NO_AUTH\t\t= 1,\n\tHCLGE_COMM_CMD_NOT_SUPPORTED\t= 2,\n\tHCLGE_COMM_CMD_QUEUE_FULL\t= 3,\n\tHCLGE_COMM_CMD_NEXT_ERR\t\t= 4,\n\tHCLGE_COMM_CMD_UNEXE_ERR\t= 5,\n\tHCLGE_COMM_CMD_PARA_ERR\t\t= 6,\n\tHCLGE_COMM_CMD_RESULT_ERR\t= 7,\n\tHCLGE_COMM_CMD_TIMEOUT\t\t= 8,\n\tHCLGE_COMM_CMD_HILINK_ERR\t= 9,\n\tHCLGE_COMM_CMD_QUEUE_ILLEGAL\t= 10,\n\tHCLGE_COMM_CMD_INVALID\t\t= 11,\n};\n\nenum HCLGE_COMM_CAP_BITS {\n\tHCLGE_COMM_CAP_UDP_GSO_B,\n\tHCLGE_COMM_CAP_QB_B,\n\tHCLGE_COMM_CAP_FD_FORWARD_TC_B,\n\tHCLGE_COMM_CAP_PTP_B,\n\tHCLGE_COMM_CAP_INT_QL_B,\n\tHCLGE_COMM_CAP_HW_TX_CSUM_B,\n\tHCLGE_COMM_CAP_TX_PUSH_B,\n\tHCLGE_COMM_CAP_PHY_IMP_B,\n\tHCLGE_COMM_CAP_TQP_TXRX_INDEP_B,\n\tHCLGE_COMM_CAP_HW_PAD_B,\n\tHCLGE_COMM_CAP_STASH_B,\n\tHCLGE_COMM_CAP_UDP_TUNNEL_CSUM_B,\n\tHCLGE_COMM_CAP_RAS_IMP_B = 12,\n\tHCLGE_COMM_CAP_FEC_B = 13,\n\tHCLGE_COMM_CAP_PAUSE_B = 14,\n\tHCLGE_COMM_CAP_RXD_ADV_LAYOUT_B = 15,\n\tHCLGE_COMM_CAP_PORT_VLAN_BYPASS_B = 17,\n\tHCLGE_COMM_CAP_CQ_B = 18,\n\tHCLGE_COMM_CAP_GRO_B = 20,\n\tHCLGE_COMM_CAP_FD_B = 21,\n\tHCLGE_COMM_CAP_FEC_STATS_B = 25,\n\tHCLGE_COMM_CAP_LANE_NUM_B = 27,\n\tHCLGE_COMM_CAP_WOL_B = 28,\n\tHCLGE_COMM_CAP_TM_FLUSH_B = 31,\n};\n\nenum HCLGE_COMM_API_CAP_BITS {\n\tHCLGE_COMM_API_CAP_FLEX_RSS_TBL_B,\n};\n\n \nstruct hclge_comm_caps_bit_map {\n\tu16 imp_bit;\n\tu16 local_bit;\n};\n\nstruct hclge_cmdq_tx_timeout_map {\n\tu32 opcode;\n\tu32 tx_timeout;\n};\n\nstruct hclge_comm_firmware_compat_cmd {\n\t__le32 compat;\n\tu8 rsv[20];\n};\n\nenum hclge_comm_cmd_state {\n\tHCLGE_COMM_STATE_CMD_DISABLE,\n};\n\nstruct hclge_comm_errcode {\n\tu32 imp_errcode;\n\tint common_errno;\n};\n\n#define HCLGE_COMM_QUERY_CAP_LENGTH\t\t3\nstruct hclge_comm_query_version_cmd {\n\t__le32 firmware;\n\t__le32 hardware;\n\t__le32 api_caps;\n\t__le32 caps[HCLGE_COMM_QUERY_CAP_LENGTH];  \n};\n\n#define HCLGE_DESC_DATA_LEN\t\t6\nstruct hclge_desc {\n\t__le16 opcode;\n\t__le16 flag;\n\t__le16 retval;\n\t__le16 rsv;\n\t__le32 data[HCLGE_DESC_DATA_LEN];\n};\n\nstruct hclge_comm_cmq_ring {\n\tdma_addr_t desc_dma_addr;\n\tstruct hclge_desc *desc;\n\tstruct pci_dev *pdev;\n\tu32 head;\n\tu32 tail;\n\n\tu16 buf_size;\n\tu16 desc_num;\n\tint next_to_use;\n\tint next_to_clean;\n\tu8 ring_type;  \n\tspinlock_t lock;  \n};\n\nenum hclge_comm_cmd_status {\n\tHCLGE_COMM_STATUS_SUCCESS\t= 0,\n\tHCLGE_COMM_ERR_CSQ_FULL\t\t= -1,\n\tHCLGE_COMM_ERR_CSQ_TIMEOUT\t= -2,\n\tHCLGE_COMM_ERR_CSQ_ERROR\t= -3,\n};\n\nstruct hclge_comm_cmq {\n\tstruct hclge_comm_cmq_ring csq;\n\tstruct hclge_comm_cmq_ring crq;\n\tu16 tx_timeout;\n\tenum hclge_comm_cmd_status last_status;\n};\n\nstruct hclge_comm_hw {\n\tvoid __iomem *io_base;\n\tvoid __iomem *mem_base;\n\tstruct hclge_comm_cmq cmq;\n\tunsigned long comm_state;\n};\n\nstatic inline void hclge_comm_write_reg(void __iomem *base, u32 reg, u32 value)\n{\n\twritel(value, base + reg);\n}\n\nstatic inline u32 hclge_comm_read_reg(u8 __iomem *base, u32 reg)\n{\n\tu8 __iomem *reg_addr = READ_ONCE(base);\n\n\treturn readl(reg_addr + reg);\n}\n\n#define hclge_comm_write_dev(a, reg, value) \\\n\thclge_comm_write_reg((a)->io_base, reg, value)\n#define hclge_comm_read_dev(a, reg) \\\n\thclge_comm_read_reg((a)->io_base, reg)\n\nvoid hclge_comm_cmd_init_regs(struct hclge_comm_hw *hw);\nint hclge_comm_cmd_query_version_and_capability(struct hnae3_ae_dev *ae_dev,\n\t\t\t\t\t\tstruct hclge_comm_hw *hw,\n\t\t\t\t\t\tu32 *fw_version, bool is_pf);\nint hclge_comm_alloc_cmd_queue(struct hclge_comm_hw *hw, int ring_type);\nint hclge_comm_cmd_send(struct hclge_comm_hw *hw, struct hclge_desc *desc,\n\t\t\tint num);\nvoid hclge_comm_cmd_reuse_desc(struct hclge_desc *desc, bool is_read);\nint hclge_comm_firmware_compat_config(struct hnae3_ae_dev *ae_dev,\n\t\t\t\t      struct hclge_comm_hw *hw, bool en);\nvoid hclge_comm_free_cmd_desc(struct hclge_comm_cmq_ring *ring);\nvoid hclge_comm_cmd_setup_basic_desc(struct hclge_desc *desc,\n\t\t\t\t     enum hclge_opcode_type opcode,\n\t\t\t\t     bool is_read);\nvoid hclge_comm_cmd_uninit(struct hnae3_ae_dev *ae_dev,\n\t\t\t   struct hclge_comm_hw *hw);\nint hclge_comm_cmd_queue_init(struct pci_dev *pdev, struct hclge_comm_hw *hw);\nint hclge_comm_cmd_init(struct hnae3_ae_dev *ae_dev, struct hclge_comm_hw *hw,\n\t\t\tu32 *fw_version, bool is_pf,\n\t\t\tunsigned long reset_pending);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}