{
  "module_name": "hclgevf_cmd.h",
  "hash_id": "244e6bd88d6958314b8b255a75d707abf88a2d91593f37e3c9f586926c68177c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/hisilicon/hns3/hns3vf/hclgevf_cmd.h",
  "human_readable_source": " \n \n\n#ifndef __HCLGEVF_CMD_H\n#define __HCLGEVF_CMD_H\n#include <linux/io.h>\n#include <linux/types.h>\n#include \"hnae3.h\"\n#include \"hclge_comm_cmd.h\"\n\n#define HCLGEVF_CMDQ_RX_INVLD_B\t\t0\n#define HCLGEVF_CMDQ_RX_OUTVLD_B\t1\n\nstruct hclgevf_hw;\nstruct hclgevf_dev;\n\n#define HCLGEVF_SYNC_RX_RING_HEAD_EN_B\t4\n\n#define HCLGEVF_TQP_REG_OFFSET\t\t0x80000\n#define HCLGEVF_TQP_REG_SIZE\t\t0x200\n\n#define HCLGEVF_TQP_MAX_SIZE_DEV_V2\t1024\n#define HCLGEVF_TQP_EXT_REG_OFFSET\t0x100\n\nstruct hclgevf_tqp_map {\n\t__le16 tqp_id;\t \n\tu8 tqp_vf;  \n#define HCLGEVF_TQP_MAP_TYPE_PF\t\t0\n#define HCLGEVF_TQP_MAP_TYPE_VF\t\t1\n#define HCLGEVF_TQP_MAP_TYPE_B\t\t0\n#define HCLGEVF_TQP_MAP_EN_B\t\t1\n\tu8 tqp_flag;\t \n\t__le16 tqp_vid;  \n\tu8 rsv[18];\n};\n\n#define HCLGEVF_VECTOR_ELEMENTS_PER_CMD\t10\n\nenum hclgevf_int_type {\n\tHCLGEVF_INT_TX = 0,\n\tHCLGEVF_INT_RX,\n\tHCLGEVF_INT_EVENT,\n};\n\nstruct hclgevf_ctrl_vector_chain {\n\tu8 int_vector_id;\n\tu8 int_cause_num;\n#define HCLGEVF_INT_TYPE_S\t0\n#define HCLGEVF_INT_TYPE_M\t0x3\n#define HCLGEVF_TQP_ID_S\t2\n#define HCLGEVF_TQP_ID_M\t(0x3fff << HCLGEVF_TQP_ID_S)\n\t__le16 tqp_type_and_id[HCLGEVF_VECTOR_ELEMENTS_PER_CMD];\n\tu8 vfid;\n\tu8 resv;\n};\n\n#define HCLGEVF_MSIX_OFT_ROCEE_S       0\n#define HCLGEVF_MSIX_OFT_ROCEE_M       (0xffff << HCLGEVF_MSIX_OFT_ROCEE_S)\n#define HCLGEVF_VEC_NUM_S              0\n#define HCLGEVF_VEC_NUM_M              (0xff << HCLGEVF_VEC_NUM_S)\nstruct hclgevf_query_res_cmd {\n\t__le16 tqp_num;\n\t__le16 reserved;\n\t__le16 msixcap_localid_ba_nic;\n\t__le16 msixcap_localid_ba_rocee;\n\t__le16 vf_intr_vector_number;\n\t__le16 rsv[7];\n};\n\n#define HCLGEVF_GRO_EN_B               0\nstruct hclgevf_cfg_gro_status_cmd {\n\tu8 gro_en;\n\tu8 rsv[23];\n};\n\n#define HCLGEVF_LINK_STS_B\t0\n#define HCLGEVF_LINK_STATUS\tBIT(HCLGEVF_LINK_STS_B)\nstruct hclgevf_link_status_cmd {\n\tu8 status;\n\tu8 rsv[23];\n};\n\n#define HCLGEVF_RING_ID_MASK\t0x3ff\n#define HCLGEVF_TQP_ENABLE_B\t0\n\nstruct hclgevf_cfg_com_tqp_queue_cmd {\n\t__le16 tqp_id;\n\t__le16 stream_id;\n\tu8 enable;\n\tu8 rsv[19];\n};\n\nstruct hclgevf_cfg_tx_queue_pointer_cmd {\n\t__le16 tqp_id;\n\t__le16 tx_tail;\n\t__le16 tx_head;\n\t__le16 fbd_num;\n\t__le16 ring_offset;\n\tu8 rsv[14];\n};\n\n \n#define HCLGEVF_NIC_SW_RST_RDY_B\t16\n#define HCLGEVF_NIC_SW_RST_RDY\t\tBIT(HCLGEVF_NIC_SW_RST_RDY_B)\n\n#define HCLGEVF_NIC_CMQ_DESC_NUM\t1024\n#define HCLGEVF_NIC_CMQ_DESC_NUM_S\t3\n\n#define HCLGEVF_QUERY_DEV_SPECS_BD_NUM\t\t4\n\n#define hclgevf_cmd_setup_basic_desc(desc, opcode, is_read) \\\n\thclge_comm_cmd_setup_basic_desc(desc, opcode, is_read)\n\nstruct hclgevf_dev_specs_0_cmd {\n\t__le32 rsv0;\n\t__le32 mac_entry_num;\n\t__le32 mng_entry_num;\n\t__le16 rss_ind_tbl_size;\n\t__le16 rss_key_size;\n\t__le16 int_ql_max;\n\tu8 max_non_tso_bd_num;\n\tu8 rsv1[5];\n};\n\n#define HCLGEVF_DEF_MAX_INT_GL\t\t0x1FE0U\n\nstruct hclgevf_dev_specs_1_cmd {\n\t__le16 max_frm_size;\n\t__le16 rsv0;\n\t__le16 max_int_gl;\n\tu8 rsv1[18];\n};\n\nint hclgevf_cmd_send(struct hclgevf_hw *hw, struct hclge_desc *desc, int num);\nvoid hclgevf_arq_init(struct hclgevf_dev *hdev);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}