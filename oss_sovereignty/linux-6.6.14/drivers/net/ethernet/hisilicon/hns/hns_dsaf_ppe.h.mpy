{
  "module_name": "hns_dsaf_ppe.h",
  "hash_id": "ed5e234bf933221d421e6629a3ecb580329d9e336c7d6218a61937b83d2b56ad",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/hisilicon/hns/hns_dsaf_ppe.h",
  "human_readable_source": " \n \n\n#ifndef _HNS_DSAF_PPE_H\n#define _HNS_DSAF_PPE_H\n\n#include <linux/platform_device.h>\n\n#include \"hns_dsaf_main.h\"\n#include \"hns_dsaf_mac.h\"\n#include \"hns_dsaf_rcb.h\"\n\n#define HNS_PPE_SERVICE_NW_ENGINE_NUM DSAF_COMM_CHN\n#define HNS_PPE_DEBUG_NW_ENGINE_NUM 1\n#define HNS_PPE_COM_NUM DSAF_COMM_DEV_NUM\n\n#define PPE_COMMON_REG_OFFSET 0x70000\n#define PPE_REG_OFFSET 0x10000\n\n#define ETH_PPE_DUMP_NUM 576\n#define ETH_PPE_STATIC_NUM 12\n\n#define HNS_PPEV2_RSS_IND_TBL_SIZE 256\n#define HNS_PPEV2_RSS_KEY_SIZE 40  \n#define HNS_PPEV2_RSS_KEY_NUM (HNS_PPEV2_RSS_KEY_SIZE / sizeof(u32))\n\n#define HNS_PPEV2_MAX_FRAME_LEN 0X980\n\nenum ppe_qid_mode {\n\tPPE_QID_MODE0 = 0,  \n\tPPE_QID_MODE1,\t    \n\tPPE_QID_MODE2,\t    \n\tPPE_QID_MODE3,\t    \n\tPPE_QID_MODE4,\t    \n\tPPE_QID_MODE5,\t    \n\tPPE_QID_MODE6,\t    \n\tPPE_QID_MODE7,\t    \n\tPPE_QID_MODE8,\t    \n\tPPE_QID_MODE9,\t    \n\tPPE_QID_MODE10,\t    \n\tPPE_QID_MODE11,\t    \n};\n\nenum ppe_port_mode {\n\tPPE_MODE_GE = 0,\n\tPPE_MODE_XGE,\n};\n\nenum ppe_common_mode {\n\tPPE_COMMON_MODE_DEBUG = 0,\n\tPPE_COMMON_MODE_SERVICE,\n\tPPE_COMMON_MODE_MAX\n};\n\nstruct hns_ppe_hw_stats {\n\tu64 rx_pkts_from_sw;\n\tu64 rx_pkts;\n\tu64 rx_drop_no_bd;\n\tu64 rx_alloc_buf_fail;\n\tu64 rx_alloc_buf_wait;\n\tu64 rx_drop_no_buf;\n\tu64 rx_err_fifo_full;\n\tu64 tx_bd_form_rcb;\n\tu64 tx_pkts_from_rcb;\n\tu64 tx_pkts;\n\tu64 tx_err_fifo_empty;\n\tu64 tx_err_checksum;\n};\n\nstruct hns_ppe_cb {\n\tstruct device *dev;\n\tstruct hns_ppe_cb *next;\t \n\tstruct ppe_common_cb *ppe_common_cb;  \n\tstruct hns_ppe_hw_stats hw_stats;\n\n\tu8 index;\t \n\tu8 __iomem *io_base;\n\tint virq;\n\tu32 rss_indir_table[HNS_PPEV2_RSS_IND_TBL_SIZE];  \n\tu32 rss_key[HNS_PPEV2_RSS_KEY_NUM];  \n};\n\nstruct ppe_common_cb {\n\tstruct device *dev;\n\tstruct dsaf_device *dsaf_dev;\n\tu8 __iomem *io_base;\n\n\tenum ppe_common_mode ppe_mode;\n\n\tu8 comm_index;    \n\n\tu32 ppe_num;\n\tstruct hns_ppe_cb ppe_cb[];\n\n};\n\nint hns_ppe_wait_tx_fifo_clean(struct hns_ppe_cb *ppe_cb);\nint hns_ppe_init(struct dsaf_device *dsaf_dev);\n\nvoid hns_ppe_uninit(struct dsaf_device *dsaf_dev);\n\nvoid hns_ppe_reset_common(struct dsaf_device *dsaf_dev, u8 ppe_common_index);\n\nvoid hns_ppe_update_stats(struct hns_ppe_cb *ppe_cb);\n\nint hns_ppe_get_sset_count(int stringset);\nint hns_ppe_get_regs_count(void);\nvoid hns_ppe_get_regs(struct hns_ppe_cb *ppe_cb, void *data);\n\nvoid hns_ppe_get_strings(struct hns_ppe_cb *ppe_cb, int stringset, u8 *data);\nvoid hns_ppe_get_stats(struct hns_ppe_cb *ppe_cb, u64 *data);\nvoid hns_ppe_set_tso_enable(struct hns_ppe_cb *ppe_cb, u32 value);\nvoid hns_ppe_set_rss_key(struct hns_ppe_cb *ppe_cb,\n\t\t\t const u32 rss_key[HNS_PPEV2_RSS_KEY_NUM]);\nvoid hns_ppe_set_indir_table(struct hns_ppe_cb *ppe_cb,\n\t\t\t     const u32 rss_tab[HNS_PPEV2_RSS_IND_TBL_SIZE]);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}