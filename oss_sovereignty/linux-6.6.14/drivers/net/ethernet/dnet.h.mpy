{
  "module_name": "dnet.h",
  "hash_id": "dc2344a02a540a282019c3237988c9334fcc282f8a7351108284294f66307551",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/dnet.h",
  "human_readable_source": " \n \n#ifndef _DNET_H\n#define _DNET_H\n\n#define DRV_NAME\t\t\"dnet\"\n#define PFX\t\t\t\tDRV_NAME \": \"\n\n \n#define dnet_writel(port, value, reg)\t\\\n\twritel((value), (port)->regs + DNET_##reg)\n#define dnet_readl(port, reg)\treadl((port)->regs + DNET_##reg)\n\n \n#define DNET_RX_LEN_FIFO\t\t0x000\t \n#define DNET_RX_DATA_FIFO\t\t0x004\t \n#define DNET_TX_LEN_FIFO\t\t0x008\t \n#define DNET_TX_DATA_FIFO\t\t0x00C\t \n\n \n#define DNET_VERCAPS\t\t\t0x100\t \n#define DNET_INTR_SRC\t\t\t0x104\t \n#define DNET_INTR_ENB\t\t\t0x108\t \n#define DNET_RX_STATUS\t\t\t0x10C\t \n#define DNET_TX_STATUS\t\t\t0x110\t \n#define DNET_RX_FRAMES_CNT\t\t0x114\t \n#define DNET_TX_FRAMES_CNT\t\t0x118\t \n#define DNET_RX_FIFO_TH\t\t\t0x11C\t \n#define DNET_TX_FIFO_TH\t\t\t0x120\t \n#define DNET_SYS_CTL\t\t\t0x124\t \n#define DNET_PAUSE_TMR\t\t\t0x128\t \n#define DNET_RX_FIFO_WCNT\t\t0x12C\t \n#define DNET_TX_FIFO_WCNT\t\t0x130\t \n\n \n#define DNET_MACREG_DATA\t\t0x200\t \n#define DNET_MACREG_ADDR\t\t0x204\t \n\n \n#define DNET_RX_PKT_IGNR_CNT\t\t0x300\n#define DNET_RX_LEN_CHK_ERR_CNT\t\t0x304\n#define DNET_RX_LNG_FRM_CNT\t\t0x308\n#define DNET_RX_SHRT_FRM_CNT\t\t0x30C\n#define DNET_RX_IPG_VIOL_CNT\t\t0x310\n#define DNET_RX_CRC_ERR_CNT\t\t0x314\n#define DNET_RX_OK_PKT_CNT\t\t0x318\n#define DNET_RX_CTL_FRM_CNT\t\t0x31C\n#define DNET_RX_PAUSE_FRM_CNT\t\t0x320\n#define DNET_RX_MULTICAST_CNT\t\t0x324\n#define DNET_RX_BROADCAST_CNT\t\t0x328\n#define DNET_RX_VLAN_TAG_CNT\t\t0x32C\n#define DNET_RX_PRE_SHRINK_CNT\t\t0x330\n#define DNET_RX_DRIB_NIB_CNT\t\t0x334\n#define DNET_RX_UNSUP_OPCD_CNT\t\t0x338\n#define DNET_RX_BYTE_CNT\t\t0x33C\n\n \n#define DNET_TX_UNICAST_CNT\t\t0x400\n#define DNET_TX_PAUSE_FRM_CNT\t\t0x404\n#define DNET_TX_MULTICAST_CNT\t\t0x408\n#define DNET_TX_BRDCAST_CNT\t\t0x40C\n#define DNET_TX_VLAN_TAG_CNT\t\t0x410\n#define DNET_TX_BAD_FCS_CNT\t\t0x414\n#define DNET_TX_JUMBO_CNT\t\t0x418\n#define DNET_TX_BYTE_CNT\t\t0x41C\n\n \n#define DNET_INTERNAL_MODE_REG\t\t0x0\n#define DNET_INTERNAL_RXTX_CONTROL_REG\t0x2\n#define DNET_INTERNAL_MAX_PKT_SIZE_REG\t0x4\n#define DNET_INTERNAL_IGP_REG\t\t0x8\n#define DNET_INTERNAL_MAC_ADDR_0_REG\t0xa\n#define DNET_INTERNAL_MAC_ADDR_1_REG\t0xc\n#define DNET_INTERNAL_MAC_ADDR_2_REG\t0xe\n#define DNET_INTERNAL_TX_RX_STS_REG\t0x12\n#define DNET_INTERNAL_GMII_MNG_CTL_REG\t0x14\n#define DNET_INTERNAL_GMII_MNG_DAT_REG\t0x16\n\n#define DNET_INTERNAL_GMII_MNG_CMD_FIN\t(1 << 14)\n\n#define DNET_INTERNAL_WRITE\t\t(1 << 31)\n\n \n\n \n#define DNET_INTERNAL_MODE_GBITEN\t\t\t(1 << 0)\n#define DNET_INTERNAL_MODE_FCEN\t\t\t\t(1 << 1)\n#define DNET_INTERNAL_MODE_RXEN\t\t\t\t(1 << 2)\n#define DNET_INTERNAL_MODE_TXEN\t\t\t\t(1 << 3)\n\n \n#define DNET_INTERNAL_RXTX_CONTROL_RXSHORTFRAME\t\t(1 << 8)\n#define DNET_INTERNAL_RXTX_CONTROL_RXBROADCAST\t\t(1 << 7)\n#define DNET_INTERNAL_RXTX_CONTROL_RXMULTICAST\t\t(1 << 4)\n#define DNET_INTERNAL_RXTX_CONTROL_RXPAUSE\t\t(1 << 3)\n#define DNET_INTERNAL_RXTX_CONTROL_DISTXFCS\t\t(1 << 2)\n#define DNET_INTERNAL_RXTX_CONTROL_DISCFXFCS\t\t(1 << 1)\n#define DNET_INTERNAL_RXTX_CONTROL_ENPROMISC\t\t(1 << 0)\n#define DNET_INTERNAL_RXTX_CONTROL_DROPCONTROL\t\t(1 << 6)\n#define DNET_INTERNAL_RXTX_CONTROL_ENABLEHALFDUP\t(1 << 5)\n\n \n#define DNET_SYS_CTL_IGNORENEXTPKT\t\t\t(1 << 0)\n#define DNET_SYS_CTL_SENDPAUSE\t\t\t\t(1 << 2)\n#define DNET_SYS_CTL_RXFIFOFLUSH\t\t\t(1 << 3)\n#define DNET_SYS_CTL_TXFIFOFLUSH\t\t\t(1 << 4)\n\n \n#define DNET_TX_STATUS_FIFO_ALMOST_EMPTY\t\t(1 << 2)\n#define DNET_TX_STATUS_FIFO_ALMOST_FULL\t\t\t(1 << 1)\n\n \n#define DNET_INTR_SRC_TX_PKTSENT\t\t\t(1 << 0)\n#define DNET_INTR_SRC_TX_FIFOAF\t\t\t\t(1 << 1)\n#define DNET_INTR_SRC_TX_FIFOAE\t\t\t\t(1 << 2)\n#define DNET_INTR_SRC_TX_DISCFRM\t\t\t(1 << 3)\n#define DNET_INTR_SRC_TX_FIFOFULL\t\t\t(1 << 4)\n#define DNET_INTR_SRC_RX_CMDFIFOAF\t\t\t(1 << 8)\n#define DNET_INTR_SRC_RX_CMDFIFOFF\t\t\t(1 << 9)\n#define DNET_INTR_SRC_RX_DATAFIFOFF\t\t\t(1 << 10)\n#define DNET_INTR_SRC_TX_SUMMARY\t\t\t(1 << 16)\n#define DNET_INTR_SRC_RX_SUMMARY\t\t\t(1 << 17)\n#define DNET_INTR_SRC_PHY\t\t\t\t(1 << 19)\n\n \n#define DNET_INTR_ENB_TX_PKTSENT\t\t\t(1 << 0)\n#define DNET_INTR_ENB_TX_FIFOAF\t\t\t\t(1 << 1)\n#define DNET_INTR_ENB_TX_FIFOAE\t\t\t\t(1 << 2)\n#define DNET_INTR_ENB_TX_DISCFRM\t\t\t(1 << 3)\n#define DNET_INTR_ENB_TX_FIFOFULL\t\t\t(1 << 4)\n#define DNET_INTR_ENB_RX_PKTRDY\t\t\t\t(1 << 8)\n#define DNET_INTR_ENB_RX_FIFOAF\t\t\t\t(1 << 9)\n#define DNET_INTR_ENB_RX_FIFOERR\t\t\t(1 << 10)\n#define DNET_INTR_ENB_RX_ERROR\t\t\t\t(1 << 11)\n#define DNET_INTR_ENB_RX_FIFOFULL\t\t\t(1 << 12)\n#define DNET_INTR_ENB_RX_FIFOAE\t\t\t\t(1 << 13)\n#define DNET_INTR_ENB_TX_SUMMARY\t\t\t(1 << 16)\n#define DNET_INTR_ENB_RX_SUMMARY\t\t\t(1 << 17)\n#define DNET_INTR_ENB_GLOBAL_ENABLE\t\t\t(1 << 18)\n\n \n#define DNET_CFG_TX_FIFO_FULL_THRES\t25\n#define DNET_CFG_RX_FIFO_FULL_THRES\t20\n\n \n\n#define DNET_HAS_MDIO\t\t(1 << 0)\n#define DNET_HAS_IRQ\t\t(1 << 1)\n#define DNET_HAS_GIGABIT\t(1 << 2)\n#define DNET_HAS_DMA\t\t(1 << 3)\n\n#define DNET_HAS_MII\t\t(1 << 4)  \n#define DNET_HAS_RMII\t\t(1 << 5)  \n\n#define DNET_CAPS_MASK\t\t0xFFFF\n\n#define DNET_FIFO_SIZE\t\t1024  \n#define DNET_FIFO_TX_DATA_AF_TH\t(DNET_FIFO_SIZE - 384)  \n#define DNET_FIFO_TX_DATA_AE_TH\t384\n\n#define DNET_FIFO_RX_CMD_AF_TH\t(1 << 16)  \n\n \nstruct dnet_stats {\n\tu32 rx_pkt_ignr;\n\tu32 rx_len_chk_err;\n\tu32 rx_lng_frm;\n\tu32 rx_shrt_frm;\n\tu32 rx_ipg_viol;\n\tu32 rx_crc_err;\n\tu32 rx_ok_pkt;\n\tu32 rx_ctl_frm;\n\tu32 rx_pause_frm;\n\tu32 rx_multicast;\n\tu32 rx_broadcast;\n\tu32 rx_vlan_tag;\n\tu32 rx_pre_shrink;\n\tu32 rx_drib_nib;\n\tu32 rx_unsup_opcd;\n\tu32 rx_byte;\n\tu32 tx_unicast;\n\tu32 tx_pause_frm;\n\tu32 tx_multicast;\n\tu32 tx_brdcast;\n\tu32 tx_vlan_tag;\n\tu32 tx_bad_fcs;\n\tu32 tx_jumbo;\n\tu32 tx_byte;\n};\n\nstruct dnet {\n\tvoid __iomem\t\t\t*regs;\n\tspinlock_t\t\t\tlock;\n\tstruct platform_device\t\t*pdev;\n\tstruct net_device\t\t*dev;\n\tstruct dnet_stats\t\thw_stats;\n\tunsigned int\t\t\tcapabilities;  \n\tstruct napi_struct\t\tnapi;\n\n\t \n\tstruct mii_bus\t\t\t*mii_bus;\n\tunsigned int\t\t\tlink;\n\tunsigned int\t\t\tspeed;\n\tunsigned int\t\t\tduplex;\n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}