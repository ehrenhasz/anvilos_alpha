{
  "module_name": "gemini.h",
  "hash_id": "b4ade12c4a89a529d51e43c274c47c710d59591581d815bda05af358e3ea5b73",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/cortina/gemini.h",
  "human_readable_source": " \n \n#ifndef _GEMINI_ETHERNET_H\n#define _GEMINI_ETHERNET_H\n\n#include <linux/bitops.h>\n\n \n#define TOE_NONTOE_QUE_HDR_BASE\t\t0x2000\n#define TOE_TOE_QUE_HDR_BASE\t\t0x3000\n\n \n#define TOE_SW_FREE_QID\t\t\t0x00\n#define TOE_HW_FREE_QID\t\t\t0x01\n#define TOE_GMAC0_SW_TXQ0_QID\t\t0x02\n#define TOE_GMAC0_SW_TXQ1_QID\t\t0x03\n#define TOE_GMAC0_SW_TXQ2_QID\t\t0x04\n#define TOE_GMAC0_SW_TXQ3_QID\t\t0x05\n#define TOE_GMAC0_SW_TXQ4_QID\t\t0x06\n#define TOE_GMAC0_SW_TXQ5_QID\t\t0x07\n#define TOE_GMAC0_HW_TXQ0_QID\t\t0x08\n#define TOE_GMAC0_HW_TXQ1_QID\t\t0x09\n#define TOE_GMAC0_HW_TXQ2_QID\t\t0x0A\n#define TOE_GMAC0_HW_TXQ3_QID\t\t0x0B\n#define TOE_GMAC1_SW_TXQ0_QID\t\t0x12\n#define TOE_GMAC1_SW_TXQ1_QID\t\t0x13\n#define TOE_GMAC1_SW_TXQ2_QID\t\t0x14\n#define TOE_GMAC1_SW_TXQ3_QID\t\t0x15\n#define TOE_GMAC1_SW_TXQ4_QID\t\t0x16\n#define TOE_GMAC1_SW_TXQ5_QID\t\t0x17\n#define TOE_GMAC1_HW_TXQ0_QID\t\t0x18\n#define TOE_GMAC1_HW_TXQ1_QID\t\t0x19\n#define TOE_GMAC1_HW_TXQ2_QID\t\t0x1A\n#define TOE_GMAC1_HW_TXQ3_QID\t\t0x1B\n#define TOE_GMAC0_DEFAULT_QID\t\t0x20\n#define TOE_GMAC1_DEFAULT_QID\t\t0x21\n#define TOE_CLASSIFICATION_QID(x)\t(0x22 + x)\t \n#define TOE_TOE_QID(x)\t\t\t(0x40 + x)\t \n\n \n#define GET_WPTR(addr)\t\t\treadw((addr) + 2)\n#define GET_RPTR(addr)\t\t\treadw((addr))\n#define SET_WPTR(addr, data)\t\twritew((data), (addr) + 2)\n#define SET_RPTR(addr, data)\t\twritew((data), (addr))\n#define __RWPTR_NEXT(x, mask)\t\t(((unsigned int)(x) + 1) & (mask))\n#define __RWPTR_PREV(x, mask)\t\t(((unsigned int)(x) - 1) & (mask))\n#define __RWPTR_DISTANCE(r, w, mask)\t(((unsigned int)(w) - (r)) & (mask))\n#define __RWPTR_MASK(order)\t\t((1 << (order)) - 1)\n#define RWPTR_NEXT(x, order)\t\t__RWPTR_NEXT((x), __RWPTR_MASK((order)))\n#define RWPTR_PREV(x, order)\t\t__RWPTR_PREV((x), __RWPTR_MASK((order)))\n#define RWPTR_DISTANCE(r, w, order)\t__RWPTR_DISTANCE((r), (w), \\\n\t\t\t\t\t\t__RWPTR_MASK((order)))\n\n \n#define GLOBAL_TOE_VERSION_REG\t\t0x0000\n#define GLOBAL_SW_FREEQ_BASE_SIZE_REG\t0x0004\n#define GLOBAL_HW_FREEQ_BASE_SIZE_REG\t0x0008\n#define GLOBAL_DMA_SKB_SIZE_REG\t\t0x0010\n#define GLOBAL_SWFQ_RWPTR_REG\t\t0x0014\n#define GLOBAL_HWFQ_RWPTR_REG\t\t0x0018\n#define GLOBAL_INTERRUPT_STATUS_0_REG\t0x0020\n#define GLOBAL_INTERRUPT_ENABLE_0_REG\t0x0024\n#define GLOBAL_INTERRUPT_SELECT_0_REG\t0x0028\n#define GLOBAL_INTERRUPT_STATUS_1_REG\t0x0030\n#define GLOBAL_INTERRUPT_ENABLE_1_REG\t0x0034\n#define GLOBAL_INTERRUPT_SELECT_1_REG\t0x0038\n#define GLOBAL_INTERRUPT_STATUS_2_REG\t0x0040\n#define GLOBAL_INTERRUPT_ENABLE_2_REG\t0x0044\n#define GLOBAL_INTERRUPT_SELECT_2_REG\t0x0048\n#define GLOBAL_INTERRUPT_STATUS_3_REG\t0x0050\n#define GLOBAL_INTERRUPT_ENABLE_3_REG\t0x0054\n#define GLOBAL_INTERRUPT_SELECT_3_REG\t0x0058\n#define GLOBAL_INTERRUPT_STATUS_4_REG\t0x0060\n#define GLOBAL_INTERRUPT_ENABLE_4_REG\t0x0064\n#define GLOBAL_INTERRUPT_SELECT_4_REG\t0x0068\n#define GLOBAL_HASH_TABLE_BASE_REG\t0x006C\n#define GLOBAL_QUEUE_THRESHOLD_REG\t0x0070\n\n \n#define GMAC_DMA_CTRL_REG\t\t0x0000\n#define GMAC_TX_WEIGHTING_CTRL_0_REG\t0x0004\n#define GMAC_TX_WEIGHTING_CTRL_1_REG\t0x0008\n#define GMAC_SW_TX_QUEUE0_PTR_REG\t0x000C\n#define GMAC_SW_TX_QUEUE1_PTR_REG\t0x0010\n#define GMAC_SW_TX_QUEUE2_PTR_REG\t0x0014\n#define GMAC_SW_TX_QUEUE3_PTR_REG\t0x0018\n#define GMAC_SW_TX_QUEUE4_PTR_REG\t0x001C\n#define GMAC_SW_TX_QUEUE5_PTR_REG\t0x0020\n#define GMAC_SW_TX_QUEUE_PTR_REG(i)\t(GMAC_SW_TX_QUEUE0_PTR_REG + 4 * (i))\n#define GMAC_HW_TX_QUEUE0_PTR_REG\t0x0024\n#define GMAC_HW_TX_QUEUE1_PTR_REG\t0x0028\n#define GMAC_HW_TX_QUEUE2_PTR_REG\t0x002C\n#define GMAC_HW_TX_QUEUE3_PTR_REG\t0x0030\n#define GMAC_HW_TX_QUEUE_PTR_REG(i)\t(GMAC_HW_TX_QUEUE0_PTR_REG + 4 * (i))\n#define GMAC_DMA_TX_FIRST_DESC_REG\t0x0038\n#define GMAC_DMA_TX_CURR_DESC_REG\t0x003C\n#define GMAC_DMA_TX_DESC_WORD0_REG\t0x0040\n#define GMAC_DMA_TX_DESC_WORD1_REG\t0x0044\n#define GMAC_DMA_TX_DESC_WORD2_REG\t0x0048\n#define GMAC_DMA_TX_DESC_WORD3_REG\t0x004C\n#define GMAC_SW_TX_QUEUE_BASE_REG\t0x0050\n#define GMAC_HW_TX_QUEUE_BASE_REG\t0x0054\n#define GMAC_DMA_RX_FIRST_DESC_REG\t0x0058\n#define GMAC_DMA_RX_CURR_DESC_REG\t0x005C\n#define GMAC_DMA_RX_DESC_WORD0_REG\t0x0060\n#define GMAC_DMA_RX_DESC_WORD1_REG\t0x0064\n#define GMAC_DMA_RX_DESC_WORD2_REG\t0x0068\n#define GMAC_DMA_RX_DESC_WORD3_REG\t0x006C\n#define GMAC_HASH_ENGINE_REG0\t\t0x0070\n#define GMAC_HASH_ENGINE_REG1\t\t0x0074\n \n#define GMAC_MR0CR0\t\t\t0x0078\n#define GMAC_MR0CR1\t\t\t0x007C\n#define GMAC_MR0CR2\t\t\t0x0080\n#define GMAC_MR1CR0\t\t\t0x0084\n#define GMAC_MR1CR1\t\t\t0x0088\n#define GMAC_MR1CR2\t\t\t0x008C\n#define GMAC_MR2CR0\t\t\t0x0090\n#define GMAC_MR2CR1\t\t\t0x0094\n#define GMAC_MR2CR2\t\t\t0x0098\n#define GMAC_MR3CR0\t\t\t0x009C\n#define GMAC_MR3CR1\t\t\t0x00A0\n#define GMAC_MR3CR2\t\t\t0x00A4\n \n#define GMAC_SPR0\t\t\t0x00A8\n#define GMAC_SPR1\t\t\t0x00AC\n#define GMAC_SPR2\t\t\t0x00B0\n#define GMAC_SPR3\t\t\t0x00B4\n#define GMAC_SPR4\t\t\t0x00B8\n#define GMAC_SPR5\t\t\t0x00BC\n#define GMAC_SPR6\t\t\t0x00C0\n#define GMAC_SPR7\t\t\t0x00C4\n \n#define GMAC_AHB_WEIGHT_REG\t\t0x00C8\n\n \n#define GMAC_STA_ADD0\t\t\t0x0000\n#define GMAC_STA_ADD1\t\t\t0x0004\n#define GMAC_STA_ADD2\t\t\t0x0008\n#define GMAC_RX_FLTR\t\t\t0x000c\n#define GMAC_MCAST_FIL0\t\t\t0x0010\n#define GMAC_MCAST_FIL1\t\t\t0x0014\n#define GMAC_CONFIG0\t\t\t0x0018\n#define GMAC_CONFIG1\t\t\t0x001c\n#define GMAC_CONFIG2\t\t\t0x0020\n#define GMAC_CONFIG3\t\t\t0x0024\n#define GMAC_RESERVED\t\t\t0x0028\n#define GMAC_STATUS\t\t\t0x002c\n#define GMAC_IN_DISCARDS\t\t0x0030\n#define GMAC_IN_ERRORS\t\t\t0x0034\n#define GMAC_IN_MCAST\t\t\t0x0038\n#define GMAC_IN_BCAST\t\t\t0x003c\n#define GMAC_IN_MAC1\t\t\t0x0040\t \n#define GMAC_IN_MAC2\t\t\t0x0044\t \n\n#define RX_STATS_NUM\t6\n\n \nunion dma_q_base_size {\n\tunsigned int bits32;\n\tunsigned int base_size;\n};\n\n#define DMA_Q_BASE_MASK\t\t(~0x0f)\n\n \nunion dma_skb_size {\n\tunsigned int bits32;\n\tstruct bit_0008 {\n\t\tunsigned int sw_skb_size : 16;\t \n\t\tunsigned int hw_skb_size : 16;\t \n\t} bits;\n};\n\n \nunion dma_rwptr {\n\tunsigned int bits32;\n\tstruct bit_000c {\n\t\tunsigned int rptr\t: 16;\t \n\t\tunsigned int wptr\t: 16;\t \n\t} bits;\n};\n\n \n#define GMAC1_TXDERR_INT_BIT\t\tBIT(31)\n#define GMAC1_TXPERR_INT_BIT\t\tBIT(30)\n#define GMAC0_TXDERR_INT_BIT\t\tBIT(29)\n#define GMAC0_TXPERR_INT_BIT\t\tBIT(28)\n#define GMAC1_RXDERR_INT_BIT\t\tBIT(27)\n#define GMAC1_RXPERR_INT_BIT\t\tBIT(26)\n#define GMAC0_RXDERR_INT_BIT\t\tBIT(25)\n#define GMAC0_RXPERR_INT_BIT\t\tBIT(24)\n#define GMAC1_SWTQ15_FIN_INT_BIT\tBIT(23)\n#define GMAC1_SWTQ14_FIN_INT_BIT\tBIT(22)\n#define GMAC1_SWTQ13_FIN_INT_BIT\tBIT(21)\n#define GMAC1_SWTQ12_FIN_INT_BIT\tBIT(20)\n#define GMAC1_SWTQ11_FIN_INT_BIT\tBIT(19)\n#define GMAC1_SWTQ10_FIN_INT_BIT\tBIT(18)\n#define GMAC0_SWTQ05_FIN_INT_BIT\tBIT(17)\n#define GMAC0_SWTQ04_FIN_INT_BIT\tBIT(16)\n#define GMAC0_SWTQ03_FIN_INT_BIT\tBIT(15)\n#define GMAC0_SWTQ02_FIN_INT_BIT\tBIT(14)\n#define GMAC0_SWTQ01_FIN_INT_BIT\tBIT(13)\n#define GMAC0_SWTQ00_FIN_INT_BIT\tBIT(12)\n#define GMAC1_SWTQ15_EOF_INT_BIT\tBIT(11)\n#define GMAC1_SWTQ14_EOF_INT_BIT\tBIT(10)\n#define GMAC1_SWTQ13_EOF_INT_BIT\tBIT(9)\n#define GMAC1_SWTQ12_EOF_INT_BIT\tBIT(8)\n#define GMAC1_SWTQ11_EOF_INT_BIT\tBIT(7)\n#define GMAC1_SWTQ10_EOF_INT_BIT\tBIT(6)\n#define GMAC0_SWTQ05_EOF_INT_BIT\tBIT(5)\n#define GMAC0_SWTQ04_EOF_INT_BIT\tBIT(4)\n#define GMAC0_SWTQ03_EOF_INT_BIT\tBIT(3)\n#define GMAC0_SWTQ02_EOF_INT_BIT\tBIT(2)\n#define GMAC0_SWTQ01_EOF_INT_BIT\tBIT(1)\n#define GMAC0_SWTQ00_EOF_INT_BIT\tBIT(0)\n\n \n#define TOE_IQ3_FULL_INT_BIT\t\tBIT(31)\n#define TOE_IQ2_FULL_INT_BIT\t\tBIT(30)\n#define TOE_IQ1_FULL_INT_BIT\t\tBIT(29)\n#define TOE_IQ0_FULL_INT_BIT\t\tBIT(28)\n#define TOE_IQ3_INT_BIT\t\t\tBIT(27)\n#define TOE_IQ2_INT_BIT\t\t\tBIT(26)\n#define TOE_IQ1_INT_BIT\t\t\tBIT(25)\n#define TOE_IQ0_INT_BIT\t\t\tBIT(24)\n#define GMAC1_HWTQ13_EOF_INT_BIT\tBIT(23)\n#define GMAC1_HWTQ12_EOF_INT_BIT\tBIT(22)\n#define GMAC1_HWTQ11_EOF_INT_BIT\tBIT(21)\n#define GMAC1_HWTQ10_EOF_INT_BIT\tBIT(20)\n#define GMAC0_HWTQ03_EOF_INT_BIT\tBIT(19)\n#define GMAC0_HWTQ02_EOF_INT_BIT\tBIT(18)\n#define GMAC0_HWTQ01_EOF_INT_BIT\tBIT(17)\n#define GMAC0_HWTQ00_EOF_INT_BIT\tBIT(16)\n#define CLASS_RX_INT_BIT(x)\t\tBIT((x + 2))\n#define DEFAULT_Q1_INT_BIT\t\tBIT(1)\n#define DEFAULT_Q0_INT_BIT\t\tBIT(0)\n\n#define TOE_IQ_INT_BITS\t\t(TOE_IQ0_INT_BIT | TOE_IQ1_INT_BIT | \\\n\t\t\t\t TOE_IQ2_INT_BIT | TOE_IQ3_INT_BIT)\n#define\tTOE_IQ_FULL_BITS\t(TOE_IQ0_FULL_INT_BIT | TOE_IQ1_FULL_INT_BIT | \\\n\t\t\t\t TOE_IQ2_FULL_INT_BIT | TOE_IQ3_FULL_INT_BIT)\n#define\tTOE_IQ_ALL_BITS\t\t(TOE_IQ_INT_BITS | TOE_IQ_FULL_BITS)\n#define TOE_CLASS_RX_INT_BITS\t0xfffc\n\n \n#define TOE_QL_FULL_INT_BIT(x)\t\tBIT(x)\n\n \n#define TOE_QH_FULL_INT_BIT(x)\t\tBIT(x - 32)\n\n \n#define GMAC1_RESERVED_INT_BIT\t\tBIT(31)\n#define GMAC1_MIB_INT_BIT\t\tBIT(30)\n#define GMAC1_RX_PAUSE_ON_INT_BIT\tBIT(29)\n#define GMAC1_TX_PAUSE_ON_INT_BIT\tBIT(28)\n#define GMAC1_RX_PAUSE_OFF_INT_BIT\tBIT(27)\n#define GMAC1_TX_PAUSE_OFF_INT_BIT\tBIT(26)\n#define GMAC1_RX_OVERRUN_INT_BIT\tBIT(25)\n#define GMAC1_STATUS_CHANGE_INT_BIT\tBIT(24)\n#define GMAC0_RESERVED_INT_BIT\t\tBIT(23)\n#define GMAC0_MIB_INT_BIT\t\tBIT(22)\n#define GMAC0_RX_PAUSE_ON_INT_BIT\tBIT(21)\n#define GMAC0_TX_PAUSE_ON_INT_BIT\tBIT(20)\n#define GMAC0_RX_PAUSE_OFF_INT_BIT\tBIT(19)\n#define GMAC0_TX_PAUSE_OFF_INT_BIT\tBIT(18)\n#define GMAC0_RX_OVERRUN_INT_BIT\tBIT(17)\n#define GMAC0_STATUS_CHANGE_INT_BIT\tBIT(16)\n#define CLASS_RX_FULL_INT_BIT(x)\tBIT(x + 2)\n#define HWFQ_EMPTY_INT_BIT\t\tBIT(1)\n#define SWFQ_EMPTY_INT_BIT\t\tBIT(0)\n\n#define GMAC0_INT_BITS\t(GMAC0_RESERVED_INT_BIT | GMAC0_MIB_INT_BIT | \\\n\t\t\t GMAC0_RX_PAUSE_ON_INT_BIT | \\\n\t\t\t GMAC0_TX_PAUSE_ON_INT_BIT | \\\n\t\t\t GMAC0_RX_PAUSE_OFF_INT_BIT | \\\n\t\t\t GMAC0_TX_PAUSE_OFF_INT_BIT | \\\n\t\t\t GMAC0_RX_OVERRUN_INT_BIT | \\\n\t\t\t GMAC0_STATUS_CHANGE_INT_BIT)\n#define GMAC1_INT_BITS\t(GMAC1_RESERVED_INT_BIT | GMAC1_MIB_INT_BIT | \\\n\t\t\t GMAC1_RX_PAUSE_ON_INT_BIT | \\\n\t\t\t GMAC1_TX_PAUSE_ON_INT_BIT | \\\n\t\t\t GMAC1_RX_PAUSE_OFF_INT_BIT | \\\n\t\t\t GMAC1_TX_PAUSE_OFF_INT_BIT | \\\n\t\t\t GMAC1_RX_OVERRUN_INT_BIT | \\\n\t\t\t GMAC1_STATUS_CHANGE_INT_BIT)\n\n#define CLASS_RX_FULL_INT_BITS\t\t0xfffc\n\n \nunion queue_threshold {\n\tunsigned int bits32;\n\tstruct bit_0070_2 {\n\t\t \n\t\tunsigned int swfq_empty:8;\n\t\t \n\t\tunsigned int hwfq_empty:8;\n\t\t \n\t\tunsigned int intrq:8;\n\t\t \n\t\tunsigned int toe_class:8;\n\t} bits;\n};\n\n \nunion gmac_dma_ctrl {\n\tunsigned int bits32;\n\tstruct bit_8000 {\n\t\t \n\t\tunsigned int td_bus:2;\n\t\t \n\t\tunsigned int td_burst_size:2;\n\t\t \n\t\tunsigned int td_prot:4;\n\t\t \n\t\tunsigned int rd_bus:2;\n\t\t \n\t\tunsigned int rd_burst_size:2;\n\t\t \n\t\tunsigned int rd_prot:4;\n\t\t \n\t\tunsigned int rd_insert_bytes:2;\n\t\t \n\t\tunsigned int reserved:10;\n\t\t \n\t\tunsigned int drop_small_ack:1;\n\t\t \n\t\tunsigned int loopback:1;\n\t\t \n\t\tunsigned int td_enable:1;\n\t\t \n\t\tunsigned int rd_enable:1;\n\t} bits;\n};\n\n \nunion gmac_tx_wcr0 {\n\tunsigned int bits32;\n\tstruct bit_8004 {\n\t\t \n\t\tunsigned int hw_tq0:6;\n\t\t \n\t\tunsigned int hw_tq1:6;\n\t\t \n\t\tunsigned int hw_tq2:6;\n\t\t \n\t\tunsigned int hw_tq3:6;\n\t\t \n\t\tunsigned int reserved:8;\n\t} bits;\n};\n\n \nunion gmac_tx_wcr1 {\n\tunsigned int bits32;\n\tstruct bit_8008 {\n\t\t \n\t\tunsigned int sw_tq0:5;\n\t\t \n\t\tunsigned int sw_tq1:5;\n\t\t \n\t\tunsigned int sw_tq2:5;\n\t\t \n\t\tunsigned int sw_tq3:5;\n\t\t \n\t\tunsigned int sw_tq4:5;\n\t\t \n\t\tunsigned int sw_tq5:5;\n\t\t \n\t\tunsigned int reserved:2;\n\t} bits;\n};\n\n \nunion gmac_txdesc_0 {\n\tunsigned int bits32;\n\tstruct bit_8040 {\n\t\t \n\t\tunsigned int buffer_size:16;\n\t\t \n\t\tunsigned int desc_count:6;\n\t\t \n\t\tunsigned int status_tx_ok:1;\n\t\t \n\t\tunsigned int status_rvd:6;\n\t\t \n\t\tunsigned int perr:1;\n\t\t \n\t\tunsigned int derr:1;\n\t\t \n\t\tunsigned int reserved:1;\n\t} bits;\n};\n\n \nunion gmac_txdesc_1 {\n\tunsigned int bits32;\n\tstruct txdesc_word1 {\n\t\t \n\t\tunsigned int byte_count:16;\n\t\t \n\t\tunsigned int mtu_enable:1;\n\t\t \n\t\tunsigned int ip_chksum:1;\n\t\t \n\t\tunsigned int ipv6_enable:1;\n\t\t \n\t\tunsigned int tcp_chksum:1;\n\t\t \n\t\tunsigned int udp_chksum:1;\n\t\t \n\t\tunsigned int bypass_tss:1;\n\t\t \n\t\tunsigned int ip_fixed_len:1;\n\t\t \n\t\tunsigned int reserved:9;\n\t} bits;\n};\n\n#define TSS_IP_FIXED_LEN_BIT\tBIT(22)\n#define TSS_BYPASS_BIT\t\tBIT(21)\n#define TSS_UDP_CHKSUM_BIT\tBIT(20)\n#define TSS_TCP_CHKSUM_BIT\tBIT(19)\n#define TSS_IPV6_ENABLE_BIT\tBIT(18)\n#define TSS_IP_CHKSUM_BIT\tBIT(17)\n#define TSS_MTU_ENABLE_BIT\tBIT(16)\n\n#define TSS_CHECKUM_ENABLE\t\\\n\t(TSS_IP_CHKSUM_BIT | TSS_IPV6_ENABLE_BIT | \\\n\t TSS_TCP_CHKSUM_BIT | TSS_UDP_CHKSUM_BIT)\n\n \nunion gmac_txdesc_2 {\n\tunsigned int\tbits32;\n\tunsigned int\tbuf_adr;\n};\n\n \nunion gmac_txdesc_3 {\n\tunsigned int bits32;\n\tstruct txdesc_word3 {\n\t\t \n\t\tunsigned int mtu_size:13;\n\t\t \n\t\tunsigned int reserved:16;\n\t\t \n\t\tunsigned int eofie:1;\n\t\t \n\t\tunsigned int sof_eof:2;\n\t} bits;\n};\n\n#define SOF_EOF_BIT_MASK\t0x3fffffff\n#define SOF_BIT\t\t\t0x80000000\n#define EOF_BIT\t\t\t0x40000000\n#define EOFIE_BIT\t\tBIT(29)\n#define MTU_SIZE_BIT_MASK\t0x7ff  \n\n \nstruct gmac_txdesc {\n\tunion gmac_txdesc_0 word0;\n\tunion gmac_txdesc_1 word1;\n\tunion gmac_txdesc_2 word2;\n\tunion gmac_txdesc_3 word3;\n};\n\n \nunion gmac_rxdesc_0 {\n\tunsigned int bits32;\n\tstruct bit_8060 {\n\t\t \n\t\tunsigned int buffer_size:16;\n\t\t \n\t\tunsigned int desc_count:6;\n\t\t \n\t\tunsigned int status:4;\n\t\t \n\t\tunsigned int chksum_status:3;\n\t\t \n\t\tunsigned int perr:1;\n\t\t \n\t\tunsigned int derr:1;\n\t\t \n\t\tunsigned int drop:1;\n\t} bits;\n};\n\n#define\tGMAC_RXDESC_0_T_derr\t\t\tBIT(30)\n#define\tGMAC_RXDESC_0_T_perr\t\t\tBIT(29)\n#define\tGMAC_RXDESC_0_T_chksum_status(x)\tBIT(x + 26)\n#define\tGMAC_RXDESC_0_T_status(x)\t\tBIT(x + 22)\n#define\tGMAC_RXDESC_0_T_desc_count(x)\t\tBIT(x + 16)\n\n#define\tRX_CHKSUM_IP_UDP_TCP_OK\t\t\t0\n#define\tRX_CHKSUM_IP_OK_ONLY\t\t\t1\n#define\tRX_CHKSUM_NONE\t\t\t\t2\n#define\tRX_CHKSUM_IP_ERR_UNKNOWN\t\t4\n#define\tRX_CHKSUM_IP_ERR\t\t\t5\n#define\tRX_CHKSUM_TCP_UDP_ERR\t\t\t6\n#define RX_CHKSUM_NUM\t\t\t\t8\n\n#define RX_STATUS_GOOD_FRAME\t\t\t0\n#define RX_STATUS_TOO_LONG_GOOD_CRC\t\t1\n#define RX_STATUS_RUNT_FRAME\t\t\t2\n#define RX_STATUS_SFD_NOT_FOUND\t\t\t3\n#define RX_STATUS_CRC_ERROR\t\t\t4\n#define RX_STATUS_TOO_LONG_BAD_CRC\t\t5\n#define RX_STATUS_ALIGNMENT_ERROR\t\t6\n#define RX_STATUS_TOO_LONG_BAD_ALIGN\t\t7\n#define RX_STATUS_RX_ERR\t\t\t8\n#define RX_STATUS_DA_FILTERED\t\t\t9\n#define RX_STATUS_BUFFER_FULL\t\t\t10\n#define RX_STATUS_NUM\t\t\t\t16\n\n#define RX_ERROR_LENGTH(s) \\\n\t((s) == RX_STATUS_TOO_LONG_GOOD_CRC || \\\n\t (s) == RX_STATUS_TOO_LONG_BAD_CRC || \\\n\t (s) == RX_STATUS_TOO_LONG_BAD_ALIGN)\n#define RX_ERROR_OVER(s) \\\n\t((s) == RX_STATUS_BUFFER_FULL)\n#define RX_ERROR_CRC(s) \\\n\t((s) == RX_STATUS_CRC_ERROR || \\\n\t (s) == RX_STATUS_TOO_LONG_BAD_CRC)\n#define RX_ERROR_FRAME(s) \\\n\t((s) == RX_STATUS_ALIGNMENT_ERROR || \\\n\t (s) == RX_STATUS_TOO_LONG_BAD_ALIGN)\n#define RX_ERROR_FIFO(s) \\\n\t(0)\n\n \nunion gmac_rxdesc_1 {\n\tunsigned int bits32;\n\tstruct rxdesc_word1 {\n\t\t \n\t\tunsigned int byte_count:16;\n\t\t \n\t\tunsigned int sw_id:16;\n\t} bits;\n};\n\n \nunion gmac_rxdesc_2 {\n\tunsigned int\tbits32;\n\tunsigned int\tbuf_adr;\n};\n\n#define RX_INSERT_NONE\t\t0\n#define RX_INSERT_1_BYTE\t1\n#define RX_INSERT_2_BYTE\t2\n#define RX_INSERT_3_BYTE\t3\n\n \nunion gmac_rxdesc_3 {\n\tunsigned int bits32;\n\tstruct rxdesc_word3 {\n\t\t \n\t\tunsigned int l3_offset:8;\n\t\t \n\t\tunsigned int l4_offset:8;\n\t\t \n\t\tunsigned int l7_offset:8;\n\t\t \n\t\tunsigned int dup_ack:1;\n\t\t \n\t\tunsigned int abnormal:1;\n\t\t \n\t\tunsigned int option:1;\n\t\t \n\t\tunsigned int out_of_seq:1;\n\t\t \n\t\tunsigned int ctrl_flag:1;\n\t\t \n\t\tunsigned int eofie:1;\n\t\t \n\t\tunsigned int sof_eof:2;\n\t} bits;\n};\n\n \nstruct gmac_rxdesc {\n\tunion gmac_rxdesc_0 word0;\n\tunion gmac_rxdesc_1 word1;\n\tunion gmac_rxdesc_2 word2;\n\tunion gmac_rxdesc_3 word3;\n};\n\n \n#define MR_L2_BIT\t\tBIT(31)\n#define MR_L3_BIT\t\tBIT(30)\n#define MR_L4_BIT\t\tBIT(29)\n#define MR_L7_BIT\t\tBIT(28)\n#define MR_PORT_BIT\t\tBIT(27)\n#define MR_PRIORITY_BIT\t\tBIT(26)\n#define MR_DA_BIT\t\tBIT(23)\n#define MR_SA_BIT\t\tBIT(22)\n#define MR_ETHER_TYPE_BIT\tBIT(21)\n#define MR_VLAN_BIT\t\tBIT(20)\n#define MR_PPPOE_BIT\t\tBIT(19)\n#define MR_IP_VER_BIT\t\tBIT(15)\n#define MR_IP_HDR_LEN_BIT\tBIT(14)\n#define MR_FLOW_LABLE_BIT\tBIT(13)\n#define MR_TOS_TRAFFIC_BIT\tBIT(12)\n#define MR_SPR_BIT(x)\t\tBIT(x)\n#define MR_SPR_BITS\t\t0xff\n\n \nunion gmac_ahb_weight {\n\tunsigned int bits32;\n\tstruct bit_80C8 {\n\t\t \n\t\tunsigned int hash_weight:5;\n\t\t \n\t\tunsigned int rx_weight:5;\n\t\t \n\t\tunsigned int tx_weight:5;\n\t\t \n\t\tunsigned int pre_req:5;\n\t\t \n\t\tunsigned int tq_dv_threshold:5;\n\t\t \n\t\tunsigned int reserved:7;\n\t} bits;\n};\n\n \nunion gmac_rx_fltr {\n\tunsigned int bits32;\n\tstruct bit1_000c {\n\t\t \n\t\tunsigned int unicast:1;\n\t\t \n\t\tunsigned int multicast:1;\n\t\t \n\t\tunsigned int broadcast:1;\n\t\t \n\t\tunsigned int promiscuous:1;\n\t\t \n\t\tunsigned int error:1;\n\t\tunsigned int reserved:27;\n\t} bits;\n};\n\n \nunion gmac_config0 {\n\tunsigned int bits32;\n\tstruct bit1_0018 {\n\t\t \n\t\tunsigned int dis_tx:1;\n\t\t \n\t\tunsigned int dis_rx:1;\n\t\t \n\t\tunsigned int loop_back:1;\n\t\t \n\t\tunsigned int flow_ctrl:1;\n\t\t \n\t\tunsigned int adj_ifg:4;\n\t\t \n\t\tunsigned int max_len:3;\n\t\t \n\t\tunsigned int dis_bkoff:1;\n\t\t \n\t\tunsigned int dis_col:1;\n\t\t \n\t\tunsigned int sim_test:1;\n\t\t \n\t\tunsigned int rx_fc_en:1;\n\t\t \n\t\tunsigned int tx_fc_en:1;\n\t\t \n\t\tunsigned int rgmii_en:1;\n\t\t \n\t\tunsigned int ipv4_rx_chksum:1;\n\t\t \n\t\tunsigned int ipv6_rx_chksum:1;\n\t\t \n\t\tunsigned int rx_tag_remove:1;\n\t\t \n\t\tunsigned int rgmm_edge:1;\n\t\t \n\t\tunsigned int rxc_inv:1;\n\t\t \n\t\tunsigned int ipv6_exthdr_order:1;\n\t\t \n\t\tunsigned int rx_err_detect:1;\n\t\t \n\t\tunsigned int port0_chk_hwq:1;\n\t\t \n\t\tunsigned int port1_chk_hwq:1;\n\t\t \n\t\tunsigned int port0_chk_toeq:1;\n\t\t \n\t\tunsigned int port1_chk_toeq:1;\n\t\t \n\t\tunsigned int port0_chk_classq:1;\n\t\t \n\t\tunsigned int port1_chk_classq:1;\n\t\t \n\t\tunsigned int reserved:2;\n\t} bits;\n};\n\n#define CONFIG0_TX_RX_DISABLE\t(BIT(1) | BIT(0))\n#define CONFIG0_RX_CHKSUM\t(BIT(18) | BIT(17))\n#define CONFIG0_FLOW_RX\t\tBIT(14)\n#define CONFIG0_FLOW_TX\t\tBIT(15)\n#define CONFIG0_FLOW_TX_RX\t(BIT(14) | BIT(15))\n#define CONFIG0_FLOW_CTL\t(BIT(14) | BIT(15))\n\n#define CONFIG0_MAXLEN_SHIFT\t8\n#define CONFIG0_MAXLEN_MASK\t(7 << CONFIG0_MAXLEN_SHIFT)\n#define  CONFIG0_MAXLEN_1536\t0\n#define  CONFIG0_MAXLEN_1518\t1\n#define  CONFIG0_MAXLEN_1522\t2\n#define  CONFIG0_MAXLEN_1548\t3\n#define  CONFIG0_MAXLEN_9k\t4\t \n#define  CONFIG0_MAXLEN_10k\t5\t \n#define  CONFIG0_MAXLEN_1518__6\t6\n#define  CONFIG0_MAXLEN_1518__7\t7\n\n \nunion gmac_config1 {\n\tunsigned int bits32;\n\tstruct bit1_001c {\n\t\t \n\t\tunsigned int set_threshold:8;\n\t\t \n\t\tunsigned int rel_threshold:8;\n\t\tunsigned int reserved:16;\n\t} bits;\n};\n\n#define GMAC_FLOWCTRL_SET_MAX\t\t32\n#define GMAC_FLOWCTRL_SET_MIN\t\t0\n#define GMAC_FLOWCTRL_RELEASE_MAX\t32\n#define GMAC_FLOWCTRL_RELEASE_MIN\t0\n\n \nunion gmac_config2 {\n\tunsigned int bits32;\n\tstruct bit1_0020 {\n\t\t \n\t\tunsigned int set_threshold:16;\n\t\t \n\t\tunsigned int rel_threshold:16;\n\t} bits;\n};\n\n \nunion gmac_config3 {\n\tunsigned int bits32;\n\tstruct bit1_0024 {\n\t\t \n\t\tunsigned int set_threshold:16;\n\t\t \n\t\tunsigned int rel_threshold:16;\n\t} bits;\n};\n\n \nunion gmac_status {\n\tunsigned int bits32;\n\tstruct bit1_002c {\n\t\t \n\t\tunsigned int link:1;\n\t\t \n\t\tunsigned int speed:2;\n\t\t \n\t\tunsigned int duplex:1;\n\t\tunsigned int reserved_1:1;\n\t\t \n\t\tunsigned int mii_rmii:2;\n\t\tunsigned int reserved_2:25;\n\t} bits;\n};\n\n#define GMAC_SPEED_10\t\t\t0\n#define GMAC_SPEED_100\t\t\t1\n#define GMAC_SPEED_1000\t\t\t2\n\n#define GMAC_PHY_MII\t\t\t0\n#define GMAC_PHY_GMII\t\t\t1\n#define GMAC_PHY_RGMII_100_10\t\t2\n#define GMAC_PHY_RGMII_1000\t\t3\n\n \n#define TOE_QUEUE_HDR_ADDR(n)\t(TOE_TOE_QUE_HDR_BASE + n * 32)\n#define TOE_Q_HDR_AREA_END\t(TOE_QUEUE_HDR_ADDR(TOE_TOE_QUEUE_MAX + 1))\n#define TOE_DEFAULT_Q_HDR_BASE(x) (TOE_NONTOE_QUE_HDR_BASE + 0x08 * (x))\n#define TOE_CLASS_Q_HDR_BASE\t(TOE_NONTOE_QUE_HDR_BASE + 0x10)\n#define TOE_INTR_Q_HDR_BASE\t(TOE_NONTOE_QUE_HDR_BASE + 0x80)\n#define INTERRUPT_QUEUE_HDR_ADDR(n) (TOE_INTR_Q_HDR_BASE + n * 8)\n#define NONTOE_Q_HDR_AREA_END (INTERRUPT_QUEUE_HDR_ADDR(TOE_INTR_QUEUE_MAX + 1))\n\n \nunion nontoe_qhdr0 {\n\tunsigned int bits32;\n\tunsigned int base_size;\n};\n\n#define NONTOE_QHDR0_BASE_MASK\t(~0x0f)\n\n \nunion nontoe_qhdr1 {\n\tunsigned int bits32;\n\tstruct bit_nonqhdr1 {\n\t\t \n\t\tunsigned int rptr:16;\n\t\t \n\t\tunsigned int wptr:16;\n\t} bits;\n};\n\n \nstruct nontoe_qhdr {\n\tunion nontoe_qhdr0 word0;\n\tunion nontoe_qhdr1 word1;\n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}