{
  "module_name": "enic_api.c",
  "hash_id": "0479be5e982ed3387632157d6f8b680f92415bbad5fff7c12177b3eb52a2b9f4",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/cisco/enic/enic_api.c",
  "human_readable_source": "\n\n\n#include <linux/netdevice.h>\n#include <linux/spinlock.h>\n\n#include \"vnic_dev.h\"\n#include \"vnic_devcmd.h\"\n\n#include \"enic_res.h\"\n#include \"enic.h\"\n#include \"enic_api.h\"\n\nint enic_api_devcmd_proxy_by_index(struct net_device *netdev, int vf,\n\tenum vnic_devcmd_cmd cmd, u64 *a0, u64 *a1, int wait)\n{\n\tint err;\n\tstruct enic *enic = netdev_priv(netdev);\n\tstruct vnic_dev *vdev = enic->vdev;\n\n\tspin_lock(&enic->enic_api_lock);\n\twhile (enic->enic_api_busy) {\n\t\tspin_unlock(&enic->enic_api_lock);\n\t\tcpu_relax();\n\t\tspin_lock(&enic->enic_api_lock);\n\t}\n\n\tspin_lock_bh(&enic->devcmd_lock);\n\n\tvnic_dev_cmd_proxy_by_index_start(vdev, vf);\n\terr = vnic_dev_cmd(vdev, cmd, a0, a1, wait);\n\tvnic_dev_cmd_proxy_end(vdev);\n\n\tspin_unlock_bh(&enic->devcmd_lock);\n\tspin_unlock(&enic->enic_api_lock);\n\n\treturn err;\n}\nEXPORT_SYMBOL(enic_api_devcmd_proxy_by_index);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}