{
  "module_name": "enic_res.h",
  "hash_id": "ee8aa307dea92050a5792fceb4b4ed29b9d3dcea36f5c3f8ca0238f39690ea3d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/cisco/enic/enic_res.h",
  "human_readable_source": " \n \n\n#ifndef _ENIC_RES_H_\n#define _ENIC_RES_H_\n\n#include \"wq_enet_desc.h\"\n#include \"rq_enet_desc.h\"\n#include \"vnic_wq.h\"\n#include \"vnic_rq.h\"\n\n#define ENIC_MIN_WQ_DESCS\t\t64\n#define ENIC_MAX_WQ_DESCS\t\t4096\n#define ENIC_MIN_RQ_DESCS\t\t64\n#define ENIC_MAX_RQ_DESCS\t\t4096\n\n#define ENIC_MIN_MTU\t\t\tETH_MIN_MTU\n#define ENIC_MAX_MTU\t\t\t9000\n\n#define ENIC_MULTICAST_PERFECT_FILTERS\t32\n#define ENIC_UNICAST_PERFECT_FILTERS\t32\n\n#define ENIC_NON_TSO_MAX_DESC\t\t16\n\n#define ENIC_SETTING(enic, f) ((enic->config.flags & VENETF_##f) ? 1 : 0)\n\nstatic inline void enic_queue_wq_desc_ex(struct vnic_wq *wq,\n\tvoid *os_buf, dma_addr_t dma_addr, unsigned int len,\n\tunsigned int mss_or_csum_offset, unsigned int hdr_len,\n\tint vlan_tag_insert, unsigned int vlan_tag,\n\tint offload_mode, int cq_entry, int sop, int eop, int loopback)\n{\n\tstruct wq_enet_desc *desc = vnic_wq_next_desc(wq);\n\tu8 desc_skip_cnt = 1;\n\tu8 compressed_send = 0;\n\tu64 wrid = 0;\n\n\twq_enet_desc_enc(desc,\n\t\t(u64)dma_addr | VNIC_PADDR_TARGET,\n\t\t(u16)len,\n\t\t(u16)mss_or_csum_offset,\n\t\t(u16)hdr_len, (u8)offload_mode,\n\t\t(u8)eop, (u8)cq_entry,\n\t\t0,  \n\t\t(u8)vlan_tag_insert,\n\t\t(u16)vlan_tag,\n\t\t(u8)loopback);\n\n\tvnic_wq_post(wq, os_buf, dma_addr, len, sop, eop, desc_skip_cnt,\n\t\t\t(u8)cq_entry, compressed_send, wrid);\n}\n\nstatic inline void enic_queue_wq_desc_cont(struct vnic_wq *wq,\n\tvoid *os_buf, dma_addr_t dma_addr, unsigned int len,\n\tint eop, int loopback)\n{\n\tenic_queue_wq_desc_ex(wq, os_buf, dma_addr, len,\n\t\t0, 0, 0, 0, 0,\n\t\teop, 0  , eop, loopback);\n}\n\nstatic inline void enic_queue_wq_desc(struct vnic_wq *wq, void *os_buf,\n\tdma_addr_t dma_addr, unsigned int len, int vlan_tag_insert,\n\tunsigned int vlan_tag, int eop, int loopback)\n{\n\tenic_queue_wq_desc_ex(wq, os_buf, dma_addr, len,\n\t\t0, 0, vlan_tag_insert, vlan_tag,\n\t\tWQ_ENET_OFFLOAD_MODE_CSUM,\n\t\teop, 1  , eop, loopback);\n}\n\nstatic inline void enic_queue_wq_desc_csum(struct vnic_wq *wq,\n\tvoid *os_buf, dma_addr_t dma_addr, unsigned int len,\n\tint ip_csum, int tcpudp_csum, int vlan_tag_insert,\n\tunsigned int vlan_tag, int eop, int loopback)\n{\n\tenic_queue_wq_desc_ex(wq, os_buf, dma_addr, len,\n\t\t(ip_csum ? 1 : 0) + (tcpudp_csum ? 2 : 0),\n\t\t0, vlan_tag_insert, vlan_tag,\n\t\tWQ_ENET_OFFLOAD_MODE_CSUM,\n\t\teop, 1  , eop, loopback);\n}\n\nstatic inline void enic_queue_wq_desc_csum_l4(struct vnic_wq *wq,\n\tvoid *os_buf, dma_addr_t dma_addr, unsigned int len,\n\tunsigned int csum_offset, unsigned int hdr_len,\n\tint vlan_tag_insert, unsigned int vlan_tag, int eop, int loopback)\n{\n\tenic_queue_wq_desc_ex(wq, os_buf, dma_addr, len,\n\t\tcsum_offset, hdr_len, vlan_tag_insert, vlan_tag,\n\t\tWQ_ENET_OFFLOAD_MODE_CSUM_L4,\n\t\teop, 1  , eop, loopback);\n}\n\nstatic inline void enic_queue_wq_desc_tso(struct vnic_wq *wq,\n\tvoid *os_buf, dma_addr_t dma_addr, unsigned int len,\n\tunsigned int mss, unsigned int hdr_len, int vlan_tag_insert,\n\tunsigned int vlan_tag, int eop, int loopback)\n{\n\tenic_queue_wq_desc_ex(wq, os_buf, dma_addr, len,\n\t\tmss, hdr_len, vlan_tag_insert, vlan_tag,\n\t\tWQ_ENET_OFFLOAD_MODE_TSO,\n\t\teop, 1  , eop, loopback);\n}\n\nstatic inline void enic_queue_rq_desc(struct vnic_rq *rq,\n\tvoid *os_buf, unsigned int os_buf_index,\n\tdma_addr_t dma_addr, unsigned int len)\n{\n\tstruct rq_enet_desc *desc = vnic_rq_next_desc(rq);\n\tu64 wrid = 0;\n\tu8 type = os_buf_index ?\n\t\tRQ_ENET_TYPE_NOT_SOP : RQ_ENET_TYPE_ONLY_SOP;\n\n\trq_enet_desc_enc(desc,\n\t\t(u64)dma_addr | VNIC_PADDR_TARGET,\n\t\ttype, (u16)len);\n\n\tvnic_rq_post(rq, os_buf, os_buf_index, dma_addr, len, wrid);\n}\n\nstruct enic;\n\nint enic_get_vnic_config(struct enic *);\nint enic_add_vlan(struct enic *enic, u16 vlanid);\nint enic_del_vlan(struct enic *enic, u16 vlanid);\nint enic_set_nic_cfg(struct enic *enic, u8 rss_default_cpu, u8 rss_hash_type,\n\tu8 rss_hash_bits, u8 rss_base_cpu, u8 rss_enable, u8 tso_ipid_split_en,\n\tu8 ig_vlan_strip_en);\nint enic_set_rss_key(struct enic *enic, dma_addr_t key_pa, u64 len);\nint enic_set_rss_cpu(struct enic *enic, dma_addr_t cpu_pa, u64 len);\nvoid enic_get_res_counts(struct enic *enic);\nvoid enic_init_vnic_resources(struct enic *enic);\nint enic_alloc_vnic_resources(struct enic *);\nvoid enic_free_vnic_resources(struct enic *);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}