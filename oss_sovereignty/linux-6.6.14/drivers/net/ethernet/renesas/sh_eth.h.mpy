{
  "module_name": "sh_eth.h",
  "hash_id": "14a9fa8f8379ec589735f7fa26fdb084b4e75dd6b85c275ed4c91340c2627f3c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/renesas/sh_eth.h",
  "human_readable_source": " \n \n\n#ifndef __SH_ETH_H__\n#define __SH_ETH_H__\n\n#define CARDNAME\t\"sh-eth\"\n#define TX_TIMEOUT\t(5*HZ)\n#define TX_RING_SIZE\t64\t \n#define RX_RING_SIZE\t64\t \n#define TX_RING_MIN\t64\n#define RX_RING_MIN\t64\n#define TX_RING_MAX\t1024\n#define RX_RING_MAX\t1024\n#define PKT_BUF_SZ\t1538\n#define SH_ETH_TSU_TIMEOUT_MS\t500\n#define SH_ETH_TSU_CAM_ENTRIES\t32\n\nenum {\n\t \n\n\t \n\tEDSR = 0,\n\tEDMR,\n\tEDTRR,\n\tEDRRR,\n\tEESR,\n\tEESIPR,\n\tTDLAR,\n\tTDFAR,\n\tTDFXR,\n\tTDFFR,\n\tRDLAR,\n\tRDFAR,\n\tRDFXR,\n\tRDFFR,\n\tTRSCER,\n\tRMFCR,\n\tTFTR,\n\tFDR,\n\tRMCR,\n\tEDOCR,\n\tTFUCR,\n\tRFOCR,\n\tRMIIMODE,\n\tFCFTR,\n\tRPADIR,\n\tTRIMD,\n\tRBWAR,\n\tTBRAR,\n\n\t \n\tECMR,\n\tECSR,\n\tECSIPR,\n\tPIR,\n\tPSR,\n\tRDMLR,\n\tPIPR,\n\tRFLR,\n\tIPGR,\n\tAPR,\n\tMPR,\n\tPFTCR,\n\tPFRCR,\n\tRFCR,\n\tRFCF,\n\tTPAUSER,\n\tTPAUSECR,\n\tBCFR,\n\tBCFRR,\n\tGECMR,\n\tBCULR,\n\tMAHR,\n\tMALR,\n\tTROCR,\n\tCDCR,\n\tLCCR,\n\tCNDCR,\n\tCEFCR,\n\tFRECR,\n\tTSFRCR,\n\tTLFRCR,\n\tCERCR,\n\tCEECR,\n\tMAFCR,\n\tRTRATE,\n\tCSMR,\n\tRMII_MII,\n\n\t \n\tARSTR,\n\tTSU_CTRST,\n\tTSU_FWEN0,\n\tTSU_FWEN1,\n\tTSU_FCM,\n\tTSU_BSYSL0,\n\tTSU_BSYSL1,\n\tTSU_PRISL0,\n\tTSU_PRISL1,\n\tTSU_FWSL0,\n\tTSU_FWSL1,\n\tTSU_FWSLC,\n\tTSU_QTAG0,\t\t\t \n\tTSU_QTAG1,\t\t\t \n\tTSU_QTAGM0,\n\tTSU_QTAGM1,\n\tTSU_FWSR,\n\tTSU_FWINMK,\n\tTSU_ADQT0,\n\tTSU_ADQT1,\n\tTSU_VTAG0,\n\tTSU_VTAG1,\n\tTSU_ADSBSY,\n\tTSU_TEN,\n\tTSU_POST1,\n\tTSU_POST2,\n\tTSU_POST3,\n\tTSU_POST4,\n\tTSU_ADRH0,\n\t \n\n\tTXNLCR0,\n\tTXALCR0,\n\tRXNLCR0,\n\tRXALCR0,\n\tFWNLCR0,\n\tFWALCR0,\n\tTXNLCR1,\n\tTXALCR1,\n\tRXNLCR1,\n\tRXALCR1,\n\tFWNLCR1,\n\tFWALCR1,\n\n\t \n\tSH_ETH_MAX_REGISTER_OFFSET,\n};\n\nenum {\n\tSH_ETH_REG_GIGABIT,\n\tSH_ETH_REG_FAST_RCAR,\n\tSH_ETH_REG_FAST_SH4,\n\tSH_ETH_REG_FAST_SH3_SH2\n};\n\n \n#if defined(CONFIG_CPU_SH4) || defined(CONFIG_ARCH_RENESAS)\n#define SH_ETH_RX_ALIGN\t\t32\n#else\n#define SH_ETH_RX_ALIGN\t\t2\n#endif\n\n \n \nenum EDSR_BIT {\n\tEDSR_ENT = 0x01, EDSR_ENR = 0x02,\n};\n#define EDSR_ENALL (EDSR_ENT|EDSR_ENR)\n\n \nenum GECMR_BIT {\n\tGECMR_10 = 0x0, GECMR_100 = 0x04, GECMR_1000 = 0x01,\n};\n\n \nenum EDMR_BIT {\n\tEDMR_NBST = 0x80,\n\tEDMR_EL = 0x40,  \n\tEDMR_DL1 = 0x20, EDMR_DL0 = 0x10,\n\tEDMR_SRST_GETHER = 0x03,\n\tEDMR_SRST_ETHER = 0x01,\n};\n\n \nenum EDTRR_BIT {\n\tEDTRR_TRNS_GETHER = 0x03,\n\tEDTRR_TRNS_ETHER = 0x01,\n};\n\n \nenum EDRRR_BIT {\n\tEDRRR_R = 0x01,\n};\n\n \nenum TPAUSER_BIT {\n\tTPAUSER_TPAUSE = 0x0000ffff,\n\tTPAUSER_UNLIMITED = 0,\n};\n\n \nenum BCFR_BIT {\n\tBCFR_RPAUSE = 0x0000ffff,\n\tBCFR_UNLIMITED = 0,\n};\n\n \nenum PIR_BIT {\n\tPIR_MDI = 0x08, PIR_MDO = 0x04, PIR_MMD = 0x02, PIR_MDC = 0x01,\n};\n\n \nenum PSR_BIT { PSR_LMON = 0x01, };\n\n \nenum EESR_BIT {\n\tEESR_TWB1\t= 0x80000000,\n\tEESR_TWB\t= 0x40000000,\t \n\tEESR_TC1\t= 0x20000000,\n\tEESR_TUC\t= 0x10000000,\n\tEESR_ROC\t= 0x08000000,\n\tEESR_TABT\t= 0x04000000,\n\tEESR_RABT\t= 0x02000000,\n\tEESR_RFRMER\t= 0x01000000,\t \n\tEESR_ADE\t= 0x00800000,\n\tEESR_ECI\t= 0x00400000,\n\tEESR_FTC\t= 0x00200000,\t \n\tEESR_TDE\t= 0x00100000,\n\tEESR_TFE\t= 0x00080000,\t \n\tEESR_FRC\t= 0x00040000,\t \n\tEESR_RDE\t= 0x00020000,\n\tEESR_RFE\t= 0x00010000,\n\tEESR_CND\t= 0x00000800,\n\tEESR_DLC\t= 0x00000400,\n\tEESR_CD\t\t= 0x00000200,\n\tEESR_TRO\t= 0x00000100,\n\tEESR_RMAF\t= 0x00000080,\n\tEESR_CEEF\t= 0x00000040,\n\tEESR_CELF\t= 0x00000020,\n\tEESR_RRF\t= 0x00000010,\n\tEESR_RTLF\t= 0x00000008,\n\tEESR_RTSF\t= 0x00000004,\n\tEESR_PRE\t= 0x00000002,\n\tEESR_CERF\t= 0x00000001,\n};\n\n#define EESR_RX_CHECK\t\t(EESR_FRC  |  \t\t\\\n\t\t\t\t EESR_RMAF |   \\\n\t\t\t\t EESR_RRF  |  \t\\\n\t\t\t\t EESR_RTLF |  \t\\\n\t\t\t\t EESR_RTSF |  \t\\\n\t\t\t\t EESR_PRE  |  \t\\\n\t\t\t\t EESR_CERF)   \n\n#define DEFAULT_TX_CHECK\t(EESR_FTC | EESR_CND | EESR_DLC | EESR_CD | \\\n\t\t\t\t EESR_TRO)\n#define DEFAULT_EESR_ERR_CHECK\t(EESR_TWB | EESR_TABT | EESR_RABT | EESR_RFE | \\\n\t\t\t\t EESR_RDE | EESR_RFRMER | EESR_ADE | \\\n\t\t\t\t EESR_TFE | EESR_TDE)\n\n \nenum EESIPR_BIT {\n\tEESIPR_TWB1IP\t= 0x80000000,\n\tEESIPR_TWBIP\t= 0x40000000,\t \n\tEESIPR_TC1IP\t= 0x20000000,\n\tEESIPR_TUCIP\t= 0x10000000,\n\tEESIPR_ROCIP\t= 0x08000000,\n\tEESIPR_TABTIP\t= 0x04000000,\n\tEESIPR_RABTIP\t= 0x02000000,\n\tEESIPR_RFCOFIP\t= 0x01000000,\n\tEESIPR_ADEIP\t= 0x00800000,\n\tEESIPR_ECIIP\t= 0x00400000,\n\tEESIPR_FTCIP\t= 0x00200000,\t \n\tEESIPR_TDEIP\t= 0x00100000,\n\tEESIPR_TFUFIP\t= 0x00080000,\n\tEESIPR_FRIP\t= 0x00040000,\n\tEESIPR_RDEIP\t= 0x00020000,\n\tEESIPR_RFOFIP\t= 0x00010000,\n\tEESIPR_CNDIP\t= 0x00000800,\n\tEESIPR_DLCIP\t= 0x00000400,\n\tEESIPR_CDIP\t= 0x00000200,\n\tEESIPR_TROIP\t= 0x00000100,\n\tEESIPR_RMAFIP\t= 0x00000080,\n\tEESIPR_CEEFIP\t= 0x00000040,\n\tEESIPR_CELFIP\t= 0x00000020,\n\tEESIPR_RRFIP\t= 0x00000010,\n\tEESIPR_RTLFIP\t= 0x00000008,\n\tEESIPR_RTSFIP\t= 0x00000004,\n\tEESIPR_PREIP\t= 0x00000002,\n\tEESIPR_CERFIP\t= 0x00000001,\n};\n\n \nenum FCFTR_BIT {\n\tFCFTR_RFF2 = 0x00040000, FCFTR_RFF1 = 0x00020000,\n\tFCFTR_RFF0 = 0x00010000, FCFTR_RFD2 = 0x00000004,\n\tFCFTR_RFD1 = 0x00000002, FCFTR_RFD0 = 0x00000001,\n};\n#define DEFAULT_FIFO_F_D_RFF\t(FCFTR_RFF2 | FCFTR_RFF1 | FCFTR_RFF0)\n#define DEFAULT_FIFO_F_D_RFD\t(FCFTR_RFD2 | FCFTR_RFD1 | FCFTR_RFD0)\n\n \nenum RMCR_BIT {\n\tRMCR_RNC = 0x00000001,\n};\n\n \nenum ECMR_BIT {\n\tECMR_TRCCM = 0x04000000, ECMR_RCSC = 0x00800000,\n\tECMR_DPAD = 0x00200000, ECMR_RZPF = 0x00100000,\n\tECMR_ZPF = 0x00080000, ECMR_PFR = 0x00040000, ECMR_RXF = 0x00020000,\n\tECMR_TXF = 0x00010000, ECMR_MCT = 0x00002000, ECMR_PRCEF = 0x00001000,\n\tECMR_MPDE = 0x00000200, ECMR_RE = 0x00000040, ECMR_TE = 0x00000020,\n\tECMR_RTM = 0x00000010, ECMR_ILB = 0x00000008, ECMR_ELB = 0x00000004,\n\tECMR_DM = 0x00000002, ECMR_PRM = 0x00000001,\n};\n\n \nenum ECSR_BIT {\n\tECSR_BRCRX = 0x20, ECSR_PSRTO = 0x10,\n\tECSR_LCHNG = 0x04,\n\tECSR_MPD = 0x02, ECSR_ICD = 0x01,\n};\n\n#define DEFAULT_ECSR_INIT\t(ECSR_BRCRX | ECSR_PSRTO | ECSR_LCHNG | \\\n\t\t\t\t ECSR_ICD | ECSIPR_MPDIP)\n\n \nenum ECSIPR_BIT {\n\tECSIPR_BRCRXIP = 0x20, ECSIPR_PSRTOIP = 0x10,\n\tECSIPR_LCHNGIP = 0x04,\n\tECSIPR_MPDIP = 0x02, ECSIPR_ICDIP = 0x01,\n};\n\n#define DEFAULT_ECSIPR_INIT\t(ECSIPR_BRCRXIP | ECSIPR_PSRTOIP | \\\n\t\t\t\t ECSIPR_LCHNGIP | ECSIPR_ICDIP | ECSIPR_MPDIP)\n\n \nenum APR_BIT {\n\tAPR_AP = 0x0000ffff,\n};\n\n \nenum MPR_BIT {\n\tMPR_MP = 0x0000ffff,\n};\n\n \nenum TRSCER_BIT {\n\tTRSCER_CNDCE\t= 0x00000800,\n\tTRSCER_DLCCE\t= 0x00000400,\n\tTRSCER_CDCE\t= 0x00000200,\n\tTRSCER_TROCE\t= 0x00000100,\n\tTRSCER_RMAFCE\t= 0x00000080,\n\tTRSCER_RRFCE\t= 0x00000010,\n\tTRSCER_RTLFCE\t= 0x00000008,\n\tTRSCER_RTSFCE\t= 0x00000004,\n\tTRSCER_PRECE\t= 0x00000002,\n\tTRSCER_CERFCE\t= 0x00000001,\n};\n\n#define DEFAULT_TRSCER_ERR_MASK (TRSCER_RMAFCE | TRSCER_RRFCE | TRSCER_CDCE)\n\n \nenum RPADIR_BIT {\n\tRPADIR_PADS = 0x1f0000, RPADIR_PADR = 0xffff,\n};\n\n \n#define DEFAULT_FDR_INIT\t0x00000707\n\n \nenum ARSTR_BIT { ARSTR_ARST = 0x00000001, };\n\n \nenum TSU_FWEN0_BIT {\n\tTSU_FWEN0_0 = 0x00000001,\n};\n\n \nenum TSU_ADSBSY_BIT {\n\tTSU_ADSBSY_0 = 0x00000001,\n};\n\n \nenum TSU_TEN_BIT {\n\tTSU_TEN_0 = 0x80000000,\n};\n\n \nenum TSU_FWSL0_BIT {\n\tTSU_FWSL0_FW50 = 0x1000, TSU_FWSL0_FW40 = 0x0800,\n\tTSU_FWSL0_FW30 = 0x0400, TSU_FWSL0_FW20 = 0x0200,\n\tTSU_FWSL0_FW10 = 0x0100, TSU_FWSL0_RMSA0 = 0x0010,\n};\n\n \nenum TSU_FWSLC_BIT {\n\tTSU_FWSLC_POSTENU = 0x2000, TSU_FWSLC_POSTENL = 0x1000,\n\tTSU_FWSLC_CAMSEL03 = 0x0080, TSU_FWSLC_CAMSEL02 = 0x0040,\n\tTSU_FWSLC_CAMSEL01 = 0x0020, TSU_FWSLC_CAMSEL00 = 0x0010,\n\tTSU_FWSLC_CAMSEL13 = 0x0008, TSU_FWSLC_CAMSEL12 = 0x0004,\n\tTSU_FWSLC_CAMSEL11 = 0x0002, TSU_FWSLC_CAMSEL10 = 0x0001,\n};\n\n \n#define TSU_VTAG_ENABLE\t\t0x80000000\n#define TSU_VTAG_VID_MASK\t0x00000fff\n\n \nstruct sh_eth_txdesc {\n\tu32 status;\t\t \n\tu32 len;\t\t \n\tu32 addr;\t\t \n\tu32 pad0;\t\t \n} __aligned(2) __packed;\n\n \nenum TD_STS_BIT {\n\tTD_TACT\t= 0x80000000,\n\tTD_TDLE\t= 0x40000000,\n\tTD_TFP1\t= 0x20000000,\n\tTD_TFP0\t= 0x10000000,\n\tTD_TFE\t= 0x08000000,\n\tTD_TWBI\t= 0x04000000,\n};\n#define TDF1ST\tTD_TFP1\n#define TDFEND\tTD_TFP0\n#define TD_TFP\t(TD_TFP1 | TD_TFP0)\n\n \nenum TD_LEN_BIT {\n\tTD_TBL\t= 0xffff0000,\t \n};\n\n \nstruct sh_eth_rxdesc {\n\tu32 status;\t\t \n\tu32 len;\t\t \n\tu32 addr;\t\t \n\tu32 pad0;\t\t \n} __aligned(2) __packed;\n\n \nenum RD_STS_BIT {\n\tRD_RACT\t= 0x80000000,\n\tRD_RDLE\t= 0x40000000,\n\tRD_RFP1\t= 0x20000000,\n\tRD_RFP0\t= 0x10000000,\n\tRD_RFE\t= 0x08000000,\n\tRD_RFS10 = 0x00000200,\n\tRD_RFS9\t= 0x00000100,\n\tRD_RFS8\t= 0x00000080,\n\tRD_RFS7\t= 0x00000040,\n\tRD_RFS6\t= 0x00000020,\n\tRD_RFS5\t= 0x00000010,\n\tRD_RFS4\t= 0x00000008,\n\tRD_RFS3\t= 0x00000004,\n\tRD_RFS2\t= 0x00000002,\n\tRD_RFS1\t= 0x00000001,\n};\n#define RDF1ST\tRD_RFP1\n#define RDFEND\tRD_RFP0\n#define RD_RFP\t(RD_RFP1 | RD_RFP0)\n\n \nenum RD_LEN_BIT {\n\tRD_RFL\t= 0x0000ffff,\t \n\tRD_RBL\t= 0xffff0000,\t \n};\n\n \nstruct sh_eth_cpu_data {\n\t \n\tint (*soft_reset)(struct net_device *ndev);\n\n\t \n\tvoid (*chip_reset)(struct net_device *ndev);\n\tvoid (*set_duplex)(struct net_device *ndev);\n\tvoid (*set_rate)(struct net_device *ndev);\n\n\t \n\tint register_type;\n\tu32 edtrr_trns;\n\tu32 eesipr_value;\n\n\t \n\tu32 ecsr_value;\n\tu32 ecsipr_value;\n\tu32 fdr_value;\n\tu32 fcftr_value;\n\n\t \n\tu32 tx_check;\n\tu32 eesr_err_check;\n\n\t \n\tu32 trscer_err_mask;\n\n\t \n\tunsigned long irq_flags;  \n\tunsigned no_psr:1;\t \n\tunsigned apr:1;\t\t \n\tunsigned mpr:1;\t\t \n\tunsigned tpauser:1;\t \n\tunsigned gecmr:1;\t \n\tunsigned bculr:1;\t \n\tunsigned tsu:1;\t\t \n\tunsigned hw_swap:1;\t \n\tunsigned nbst:1;\t \n\tunsigned rpadir:1;\t \n\tunsigned no_trimd:1;\t \n\tunsigned no_ade:1;\t \n\tunsigned no_xdfar:1;\t \n\tunsigned xdfar_rw:1;\t \n\tunsigned csmr:1;\t \n\tunsigned rx_csum:1;\t \n\tunsigned select_mii:1;\t \n\tunsigned rmiimode:1;\t \n\tunsigned rtrate:1;\t \n\tunsigned magic:1;\t \n\tunsigned no_tx_cntrs:1;\t \n\tunsigned cexcr:1;\t \n\tunsigned dual_port:1;\t \n};\n\nstruct sh_eth_private {\n\tstruct platform_device *pdev;\n\tstruct sh_eth_cpu_data *cd;\n\tconst u16 *reg_offset;\n\tvoid __iomem *addr;\n\tvoid __iomem *tsu_addr;\n\tstruct clk *clk;\n\tu32 num_rx_ring;\n\tu32 num_tx_ring;\n\tdma_addr_t rx_desc_dma;\n\tdma_addr_t tx_desc_dma;\n\tstruct sh_eth_rxdesc *rx_ring;\n\tstruct sh_eth_txdesc *tx_ring;\n\tstruct sk_buff **rx_skbuff;\n\tstruct sk_buff **tx_skbuff;\n\tspinlock_t lock;\t\t \n\tu32 cur_rx, dirty_rx;\t\t \n\tu32 cur_tx, dirty_tx;\n\tu32 rx_buf_sz;\t\t\t \n\tstruct napi_struct napi;\n\tbool irq_enabled;\n\t \n\tu32 phy_id;\t\t\t \n\tstruct mii_bus *mii_bus;\t \n\tint link;\n\tphy_interface_t phy_interface;\n\tint msg_enable;\n\tint speed;\n\tint duplex;\n\tint port;\t\t\t \n\tint vlan_num_ids;\t\t \n\n\tunsigned no_ether_link:1;\n\tunsigned ether_link_active_low:1;\n\tunsigned is_opened:1;\n\tunsigned wol_enabled:1;\n};\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}