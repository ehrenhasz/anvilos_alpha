{
  "module_name": "rcar_gen4_ptp.h",
  "hash_id": "532010894c211a56b806be8cdf89af8dcf0ec21770b994237cbe7e565919cbe0",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/renesas/rcar_gen4_ptp.h",
  "human_readable_source": " \n \n\n#ifndef __RCAR_GEN4_PTP_H__\n#define __RCAR_GEN4_PTP_H__\n\n#include <linux/ptp_clock_kernel.h>\n\n#define PTPTIVC_INIT\t\t\t0x19000000\t \n#define RCAR_GEN4_PTP_CLOCK_S4\t\tPTPTIVC_INIT\n#define RCAR_GEN4_GPTP_OFFSET_S4\t0x00018000\n\n \nenum rcar_gen4_ptp_reg_layout {\n\tRCAR_GEN4_PTP_REG_LAYOUT_S4\n};\n\n \n#define RCAR_GEN4_RXTSTAMP_ENABLED\t\tBIT(0)\n#define RCAR_GEN4_RXTSTAMP_TYPE_V2_L2_EVENT\tBIT(1)\n#define RCAR_GEN4_RXTSTAMP_TYPE_ALL\t\t(RCAR_GEN4_RXTSTAMP_TYPE_V2_L2_EVENT | BIT(2))\n#define RCAR_GEN4_RXTSTAMP_TYPE\t\t\tRCAR_GEN4_RXTSTAMP_TYPE_ALL\n\n#define RCAR_GEN4_TXTSTAMP_ENABLED\t\tBIT(0)\n\n#define PTPRO\t\t\t\t0\n\nenum rcar_gen4_ptp_reg_s4 {\n\tPTPTMEC\t\t= PTPRO + 0x0010,\n\tPTPTMDC\t\t= PTPRO + 0x0014,\n\tPTPTIVC0\t= PTPRO + 0x0020,\n\tPTPTOVC00\t= PTPRO + 0x0030,\n\tPTPTOVC10\t= PTPRO + 0x0034,\n\tPTPTOVC20\t= PTPRO + 0x0038,\n\tPTPGPTPTM00\t= PTPRO + 0x0050,\n\tPTPGPTPTM10\t= PTPRO + 0x0054,\n\tPTPGPTPTM20\t= PTPRO + 0x0058,\n};\n\nstruct rcar_gen4_ptp_reg_offset {\n\tu16 enable;\n\tu16 disable;\n\tu16 increment;\n\tu16 config_t0;\n\tu16 config_t1;\n\tu16 config_t2;\n\tu16 monitor_t0;\n\tu16 monitor_t1;\n\tu16 monitor_t2;\n};\n\nstruct rcar_gen4_ptp_private {\n\tvoid __iomem *addr;\n\tstruct ptp_clock *clock;\n\tstruct ptp_clock_info info;\n\tconst struct rcar_gen4_ptp_reg_offset *offs;\n\tspinlock_t lock;\t \n\tu32 tstamp_tx_ctrl;\n\tu32 tstamp_rx_ctrl;\n\ts64 default_addend;\n\tbool initialized;\n};\n\nint rcar_gen4_ptp_register(struct rcar_gen4_ptp_private *ptp_priv,\n\t\t\t   enum rcar_gen4_ptp_reg_layout layout, u32 clock);\nint rcar_gen4_ptp_unregister(struct rcar_gen4_ptp_private *ptp_priv);\nstruct rcar_gen4_ptp_private *rcar_gen4_ptp_alloc(struct platform_device *pdev);\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}