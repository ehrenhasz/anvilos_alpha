{
  "module_name": "hinic_hw_qp_ctxt.h",
  "hash_id": "4f5e38f7c611a9c025b2815a6f126ee3f8f4c93a61cdb198e991c339ca6cece3",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/huawei/hinic/hinic_hw_qp_ctxt.h",
  "human_readable_source": " \n \n\n#ifndef HINIC_HW_QP_CTXT_H\n#define HINIC_HW_QP_CTXT_H\n\n#include <linux/types.h>\n\n#include \"hinic_hw_cmdq.h\"\n\n#define HINIC_SQ_CTXT_CEQ_ATTR_GLOBAL_SQ_ID_SHIFT       13\n#define HINIC_SQ_CTXT_CEQ_ATTR_EN_SHIFT                 23\n\n#define HINIC_SQ_CTXT_CEQ_ATTR_GLOBAL_SQ_ID_MASK        0x3FF\n#define HINIC_SQ_CTXT_CEQ_ATTR_EN_MASK                  0x1\n\n#define HINIC_SQ_CTXT_CEQ_ATTR_SET(val, member)         \\\n\t(((u32)(val) & HINIC_SQ_CTXT_CEQ_ATTR_##member##_MASK) \\\n\t << HINIC_SQ_CTXT_CEQ_ATTR_##member##_SHIFT)\n\n#define HINIC_SQ_CTXT_CI_IDX_SHIFT                      11\n#define HINIC_SQ_CTXT_CI_WRAPPED_SHIFT                  23\n\n#define HINIC_SQ_CTXT_CI_IDX_MASK                       0xFFF\n#define HINIC_SQ_CTXT_CI_WRAPPED_MASK                   0x1\n\n#define HINIC_SQ_CTXT_CI_SET(val, member)               \\\n\t(((u32)(val) & HINIC_SQ_CTXT_CI_##member##_MASK) \\\n\t << HINIC_SQ_CTXT_CI_##member##_SHIFT)\n\n#define HINIC_SQ_CTXT_WQ_PAGE_HI_PFN_SHIFT              0\n#define HINIC_SQ_CTXT_WQ_PAGE_PI_SHIFT                  20\n\n#define HINIC_SQ_CTXT_WQ_PAGE_HI_PFN_MASK               0xFFFFF\n#define HINIC_SQ_CTXT_WQ_PAGE_PI_MASK                   0xFFF\n\n#define HINIC_SQ_CTXT_WQ_PAGE_SET(val, member)          \\\n\t(((u32)(val) & HINIC_SQ_CTXT_WQ_PAGE_##member##_MASK) \\\n\t << HINIC_SQ_CTXT_WQ_PAGE_##member##_SHIFT)\n\n#define HINIC_SQ_CTXT_PREF_CACHE_THRESHOLD_SHIFT        0\n#define HINIC_SQ_CTXT_PREF_CACHE_MAX_SHIFT              14\n#define HINIC_SQ_CTXT_PREF_CACHE_MIN_SHIFT              25\n\n#define HINIC_SQ_CTXT_PREF_CACHE_THRESHOLD_MASK         0x3FFF\n#define HINIC_SQ_CTXT_PREF_CACHE_MAX_MASK               0x7FF\n#define HINIC_SQ_CTXT_PREF_CACHE_MIN_MASK               0x7F\n\n#define HINIC_SQ_CTXT_PREF_WQ_HI_PFN_SHIFT              0\n#define HINIC_SQ_CTXT_PREF_CI_SHIFT                     20\n\n#define HINIC_SQ_CTXT_PREF_WQ_HI_PFN_MASK               0xFFFFF\n#define HINIC_SQ_CTXT_PREF_CI_MASK                      0xFFF\n\n#define HINIC_SQ_CTXT_PREF_SET(val, member)             \\\n\t(((u32)(val) & HINIC_SQ_CTXT_PREF_##member##_MASK) \\\n\t << HINIC_SQ_CTXT_PREF_##member##_SHIFT)\n\n#define HINIC_SQ_CTXT_WQ_BLOCK_HI_PFN_SHIFT             0\n\n#define HINIC_SQ_CTXT_WQ_BLOCK_HI_PFN_MASK              0x7FFFFF\n\n#define HINIC_SQ_CTXT_WQ_BLOCK_SET(val, member)         \\\n\t(((u32)(val) & HINIC_SQ_CTXT_WQ_BLOCK_##member##_MASK) \\\n\t << HINIC_SQ_CTXT_WQ_BLOCK_##member##_SHIFT)\n\n#define HINIC_RQ_CTXT_CEQ_ATTR_EN_SHIFT                 0\n#define HINIC_RQ_CTXT_CEQ_ATTR_WRAPPED_SHIFT            1\n\n#define HINIC_RQ_CTXT_CEQ_ATTR_EN_MASK                  0x1\n#define HINIC_RQ_CTXT_CEQ_ATTR_WRAPPED_MASK             0x1\n\n#define HINIC_RQ_CTXT_CEQ_ATTR_SET(val, member)         \\\n\t(((u32)(val) & HINIC_RQ_CTXT_CEQ_ATTR_##member##_MASK) \\\n\t << HINIC_RQ_CTXT_CEQ_ATTR_##member##_SHIFT)\n\n#define HINIC_RQ_CTXT_PI_IDX_SHIFT                      0\n#define HINIC_RQ_CTXT_PI_INTR_SHIFT                     22\n\n#define HINIC_RQ_CTXT_PI_IDX_MASK                       0xFFF\n#define HINIC_RQ_CTXT_PI_INTR_MASK                      0x3FF\n\n#define HINIC_RQ_CTXT_PI_SET(val, member)               \\\n\t(((u32)(val) & HINIC_RQ_CTXT_PI_##member##_MASK) << \\\n\t HINIC_RQ_CTXT_PI_##member##_SHIFT)\n\n#define HINIC_RQ_CTXT_WQ_PAGE_HI_PFN_SHIFT              0\n#define HINIC_RQ_CTXT_WQ_PAGE_CI_SHIFT                  20\n\n#define HINIC_RQ_CTXT_WQ_PAGE_HI_PFN_MASK               0xFFFFF\n#define HINIC_RQ_CTXT_WQ_PAGE_CI_MASK                   0xFFF\n\n#define HINIC_RQ_CTXT_WQ_PAGE_SET(val, member)          \\\n\t(((u32)(val) & HINIC_RQ_CTXT_WQ_PAGE_##member##_MASK) << \\\n\t HINIC_RQ_CTXT_WQ_PAGE_##member##_SHIFT)\n\n#define HINIC_RQ_CTXT_PREF_CACHE_THRESHOLD_SHIFT        0\n#define HINIC_RQ_CTXT_PREF_CACHE_MAX_SHIFT              14\n#define HINIC_RQ_CTXT_PREF_CACHE_MIN_SHIFT              25\n\n#define HINIC_RQ_CTXT_PREF_CACHE_THRESHOLD_MASK         0x3FFF\n#define HINIC_RQ_CTXT_PREF_CACHE_MAX_MASK               0x7FF\n#define HINIC_RQ_CTXT_PREF_CACHE_MIN_MASK               0x7F\n\n#define HINIC_RQ_CTXT_PREF_WQ_HI_PFN_SHIFT              0\n#define HINIC_RQ_CTXT_PREF_CI_SHIFT                     20\n\n#define HINIC_RQ_CTXT_PREF_WQ_HI_PFN_MASK               0xFFFFF\n#define HINIC_RQ_CTXT_PREF_CI_MASK                      0xFFF\n\n#define HINIC_RQ_CTXT_PREF_SET(val, member)             \\\n\t(((u32)(val) & HINIC_RQ_CTXT_PREF_##member##_MASK) << \\\n\t HINIC_RQ_CTXT_PREF_##member##_SHIFT)\n\n#define HINIC_RQ_CTXT_WQ_BLOCK_HI_PFN_SHIFT             0\n\n#define HINIC_RQ_CTXT_WQ_BLOCK_HI_PFN_MASK              0x7FFFFF\n\n#define HINIC_RQ_CTXT_WQ_BLOCK_SET(val, member)         \\\n\t(((u32)(val) & HINIC_RQ_CTXT_WQ_BLOCK_##member##_MASK) << \\\n\t HINIC_RQ_CTXT_WQ_BLOCK_##member##_SHIFT)\n\n#define HINIC_SQ_CTXT_SIZE(num_sqs) (sizeof(struct hinic_qp_ctxt_header) \\\n\t\t\t\t     + (num_sqs) * sizeof(struct hinic_sq_ctxt))\n\n#define HINIC_RQ_CTXT_SIZE(num_rqs) (sizeof(struct hinic_qp_ctxt_header) \\\n\t\t\t\t     + (num_rqs) * sizeof(struct hinic_rq_ctxt))\n\n#define HINIC_WQ_PAGE_PFN_SHIFT         12\n#define HINIC_WQ_BLOCK_PFN_SHIFT        9\n\n#define HINIC_WQ_PAGE_PFN(page_addr)    ((page_addr) >> HINIC_WQ_PAGE_PFN_SHIFT)\n#define HINIC_WQ_BLOCK_PFN(page_addr)   ((page_addr) >> \\\n\t\t\t\t\t HINIC_WQ_BLOCK_PFN_SHIFT)\n\n#define HINIC_Q_CTXT_MAX                \\\n\t\t((HINIC_CMDQ_BUF_SIZE - sizeof(struct hinic_qp_ctxt_header)) \\\n\t\t / sizeof(struct hinic_sq_ctxt))\n\nenum hinic_qp_ctxt_type {\n\tHINIC_QP_CTXT_TYPE_SQ,\n\tHINIC_QP_CTXT_TYPE_RQ\n};\n\nstruct hinic_qp_ctxt_header {\n\tu16     num_queues;\n\tu16     queue_type;\n\tu32     addr_offset;\n};\n\nstruct hinic_sq_ctxt {\n\tu32     ceq_attr;\n\n\tu32     ci_wrapped;\n\n\tu32     wq_hi_pfn_pi;\n\tu32     wq_lo_pfn;\n\n\tu32     pref_cache;\n\tu32     pref_wrapped;\n\tu32     pref_wq_hi_pfn_ci;\n\tu32     pref_wq_lo_pfn;\n\n\tu32     rsvd0;\n\tu32     rsvd1;\n\n\tu32     wq_block_hi_pfn;\n\tu32     wq_block_lo_pfn;\n};\n\nstruct hinic_rq_ctxt {\n\tu32     ceq_attr;\n\n\tu32     pi_intr_attr;\n\n\tu32     wq_hi_pfn_ci;\n\tu32     wq_lo_pfn;\n\n\tu32     pref_cache;\n\tu32     pref_wrapped;\n\n\tu32     pref_wq_hi_pfn_ci;\n\tu32     pref_wq_lo_pfn;\n\n\tu32     pi_paddr_hi;\n\tu32     pi_paddr_lo;\n\n\tu32     wq_block_hi_pfn;\n\tu32     wq_block_lo_pfn;\n};\n\nstruct hinic_clean_queue_ctxt {\n\tstruct hinic_qp_ctxt_header\tcmdq_hdr;\n\tu32\t\t\t\tctxt_size;\n};\n\nstruct hinic_sq_ctxt_block {\n\tstruct hinic_qp_ctxt_header hdr;\n\tstruct hinic_sq_ctxt sq_ctxt[HINIC_Q_CTXT_MAX];\n};\n\nstruct hinic_rq_ctxt_block {\n\tstruct hinic_qp_ctxt_header hdr;\n\tstruct hinic_rq_ctxt rq_ctxt[HINIC_Q_CTXT_MAX];\n};\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}