{
  "module_name": "hinic_hw_wqe.h",
  "hash_id": "c9c81ef254589543fdc6721edb79233cdcb7abc386e34fe0738865385e2468af",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/huawei/hinic/hinic_hw_wqe.h",
  "human_readable_source": " \n \n\n#ifndef HINIC_HW_WQE_H\n#define HINIC_HW_WQE_H\n\n#include \"hinic_common.h\"\n\n#define HINIC_CMDQ_CTRL_PI_SHIFT                        0\n#define HINIC_CMDQ_CTRL_CMD_SHIFT                       16\n#define HINIC_CMDQ_CTRL_MOD_SHIFT                       24\n#define HINIC_CMDQ_CTRL_ACK_TYPE_SHIFT                  29\n#define HINIC_CMDQ_CTRL_HW_BUSY_BIT_SHIFT               31\n\n#define HINIC_CMDQ_CTRL_PI_MASK                         0xFFFF\n#define HINIC_CMDQ_CTRL_CMD_MASK                        0xFF\n#define HINIC_CMDQ_CTRL_MOD_MASK                        0x1F\n#define HINIC_CMDQ_CTRL_ACK_TYPE_MASK                   0x3\n#define HINIC_CMDQ_CTRL_HW_BUSY_BIT_MASK                0x1\n\n#define HINIC_CMDQ_CTRL_SET(val, member)                        \\\n\t\t\t(((u32)(val) & HINIC_CMDQ_CTRL_##member##_MASK) \\\n\t\t\t << HINIC_CMDQ_CTRL_##member##_SHIFT)\n\n#define HINIC_CMDQ_CTRL_GET(val, member)                        \\\n\t\t\t(((val) >> HINIC_CMDQ_CTRL_##member##_SHIFT) \\\n\t\t\t & HINIC_CMDQ_CTRL_##member##_MASK)\n\n#define HINIC_CMDQ_WQE_HEADER_BUFDESC_LEN_SHIFT         0\n#define HINIC_CMDQ_WQE_HEADER_COMPLETE_FMT_SHIFT        15\n#define HINIC_CMDQ_WQE_HEADER_DATA_FMT_SHIFT            22\n#define HINIC_CMDQ_WQE_HEADER_COMPLETE_REQ_SHIFT        23\n#define HINIC_CMDQ_WQE_HEADER_COMPLETE_SECT_LEN_SHIFT   27\n#define HINIC_CMDQ_WQE_HEADER_CTRL_LEN_SHIFT            29\n#define HINIC_CMDQ_WQE_HEADER_TOGGLED_WRAPPED_SHIFT     31\n\n#define HINIC_CMDQ_WQE_HEADER_BUFDESC_LEN_MASK          0xFF\n#define HINIC_CMDQ_WQE_HEADER_COMPLETE_FMT_MASK         0x1\n#define HINIC_CMDQ_WQE_HEADER_DATA_FMT_MASK             0x1\n#define HINIC_CMDQ_WQE_HEADER_COMPLETE_REQ_MASK         0x1\n#define HINIC_CMDQ_WQE_HEADER_COMPLETE_SECT_LEN_MASK    0x3\n#define HINIC_CMDQ_WQE_HEADER_CTRL_LEN_MASK             0x3\n#define HINIC_CMDQ_WQE_HEADER_TOGGLED_WRAPPED_MASK      0x1\n\n#define HINIC_CMDQ_WQE_HEADER_SET(val, member)                  \\\n\t\t\t(((u32)(val) & HINIC_CMDQ_WQE_HEADER_##member##_MASK) \\\n\t\t\t << HINIC_CMDQ_WQE_HEADER_##member##_SHIFT)\n\n#define HINIC_CMDQ_WQE_HEADER_GET(val, member)                  \\\n\t\t\t(((val) >> HINIC_CMDQ_WQE_HEADER_##member##_SHIFT) \\\n\t\t\t & HINIC_CMDQ_WQE_HEADER_##member##_MASK)\n\n#define HINIC_SQ_CTRL_BUFDESC_SECT_LEN_SHIFT           0\n#define HINIC_SQ_CTRL_TASKSECT_LEN_SHIFT               16\n#define HINIC_SQ_CTRL_DATA_FORMAT_SHIFT                22\n#define HINIC_SQ_CTRL_LEN_SHIFT                        29\n\n#define HINIC_SQ_CTRL_BUFDESC_SECT_LEN_MASK            0xFF\n#define HINIC_SQ_CTRL_TASKSECT_LEN_MASK                0x1F\n#define HINIC_SQ_CTRL_DATA_FORMAT_MASK                 0x1\n#define HINIC_SQ_CTRL_LEN_MASK                         0x3\n\n#define HINIC_SQ_CTRL_QUEUE_INFO_PLDOFF_SHIFT          2\n#define HINIC_SQ_CTRL_QUEUE_INFO_UFO_SHIFT             10\n#define HINIC_SQ_CTRL_QUEUE_INFO_TSO_SHIFT             11\n#define HINIC_SQ_CTRL_QUEUE_INFO_TCPUDP_CS_SHIFT       12\n#define HINIC_SQ_CTRL_QUEUE_INFO_MSS_SHIFT             13\n#define HINIC_SQ_CTRL_QUEUE_INFO_SCTP_SHIFT            27\n#define HINIC_SQ_CTRL_QUEUE_INFO_UC_SHIFT              28\n#define HINIC_SQ_CTRL_QUEUE_INFO_PRI_SHIFT             29\n\n#define HINIC_SQ_CTRL_QUEUE_INFO_PLDOFF_MASK           0xFF\n#define HINIC_SQ_CTRL_QUEUE_INFO_UFO_MASK              0x1\n#define HINIC_SQ_CTRL_QUEUE_INFO_TSO_MASK              0x1\n#define HINIC_SQ_CTRL_QUEUE_INFO_TCPUDP_CS_MASK\t       0x1\n#define HINIC_SQ_CTRL_QUEUE_INFO_MSS_MASK              0x3FFF\n#define HINIC_SQ_CTRL_QUEUE_INFO_SCTP_MASK             0x1\n#define HINIC_SQ_CTRL_QUEUE_INFO_UC_MASK               0x1\n#define HINIC_SQ_CTRL_QUEUE_INFO_PRI_MASK              0x7\n\n#define HINIC_SQ_CTRL_SET(val, member)          \\\n\t\t(((u32)(val) & HINIC_SQ_CTRL_##member##_MASK) \\\n\t\t << HINIC_SQ_CTRL_##member##_SHIFT)\n\n#define HINIC_SQ_CTRL_GET(val, member)          \\\n\t\t(((val) >> HINIC_SQ_CTRL_##member##_SHIFT) \\\n\t\t & HINIC_SQ_CTRL_##member##_MASK)\n\n#define HINIC_SQ_CTRL_CLEAR(val, member)\t\\\n\t\t((u32)(val) & (~(HINIC_SQ_CTRL_##member##_MASK \\\n\t\t << HINIC_SQ_CTRL_##member##_SHIFT)))\n\n#define HINIC_SQ_TASK_INFO0_L2HDR_LEN_SHIFT     0\n#define HINIC_SQ_TASK_INFO0_L4_OFFLOAD_SHIFT    8\n#define HINIC_SQ_TASK_INFO0_INNER_L3TYPE_SHIFT  10\n#define HINIC_SQ_TASK_INFO0_VLAN_OFFLOAD_SHIFT  12\n#define HINIC_SQ_TASK_INFO0_PARSE_FLAG_SHIFT    13\n \n#define HINIC_SQ_TASK_INFO0_TSO_FLAG_SHIFT      15\n#define HINIC_SQ_TASK_INFO0_VLAN_TAG_SHIFT      16\n\n#define HINIC_SQ_TASK_INFO0_L2HDR_LEN_MASK      0xFF\n#define HINIC_SQ_TASK_INFO0_L4_OFFLOAD_MASK     0x3\n#define HINIC_SQ_TASK_INFO0_INNER_L3TYPE_MASK   0x3\n#define HINIC_SQ_TASK_INFO0_VLAN_OFFLOAD_MASK   0x1\n#define HINIC_SQ_TASK_INFO0_PARSE_FLAG_MASK     0x1\n \n#define HINIC_SQ_TASK_INFO0_TSO_FLAG_MASK       0x1\n#define HINIC_SQ_TASK_INFO0_VLAN_TAG_MASK       0xFFFF\n\n#define HINIC_SQ_TASK_INFO0_SET(val, member)    \\\n\t\t(((u32)(val) & HINIC_SQ_TASK_INFO0_##member##_MASK) <<  \\\n\t\t HINIC_SQ_TASK_INFO0_##member##_SHIFT)\n\n \n#define HINIC_SQ_TASK_INFO1_MEDIA_TYPE_SHIFT    8\n#define HINIC_SQ_TASK_INFO1_INNER_L4LEN_SHIFT   16\n#define HINIC_SQ_TASK_INFO1_INNER_L3LEN_SHIFT   24\n\n \n#define HINIC_SQ_TASK_INFO1_MEDIA_TYPE_MASK     0xFF\n#define HINIC_SQ_TASK_INFO1_INNER_L4LEN_MASK    0xFF\n#define HINIC_SQ_TASK_INFO1_INNER_L3LEN_MASK    0xFF\n\n#define HINIC_SQ_TASK_INFO1_SET(val, member)    \\\n\t\t(((u32)(val) & HINIC_SQ_TASK_INFO1_##member##_MASK) <<  \\\n\t\t HINIC_SQ_TASK_INFO1_##member##_SHIFT)\n\n#define HINIC_SQ_TASK_INFO2_TUNNEL_L4LEN_SHIFT  0\n#define HINIC_SQ_TASK_INFO2_OUTER_L3LEN_SHIFT   8\n#define HINIC_SQ_TASK_INFO2_TUNNEL_L4TYPE_SHIFT 16\n \n#define HINIC_SQ_TASK_INFO2_OUTER_L3TYPE_SHIFT  24\n \n\n#define HINIC_SQ_TASK_INFO2_TUNNEL_L4LEN_MASK   0xFF\n#define HINIC_SQ_TASK_INFO2_OUTER_L3LEN_MASK    0xFF\n#define HINIC_SQ_TASK_INFO2_TUNNEL_L4TYPE_MASK  0x7\n \n#define HINIC_SQ_TASK_INFO2_OUTER_L3TYPE_MASK   0x3\n \n\n#define HINIC_SQ_TASK_INFO2_SET(val, member)    \\\n\t\t(((u32)(val) & HINIC_SQ_TASK_INFO2_##member##_MASK) <<  \\\n\t\t HINIC_SQ_TASK_INFO2_##member##_SHIFT)\n\n \n#define HINIC_SQ_TASK_INFO4_L2TYPE_SHIFT        31\n\n \n#define HINIC_SQ_TASK_INFO4_L2TYPE_MASK         0x1\n\n#define HINIC_SQ_TASK_INFO4_SET(val, member)    \\\n\t\t(((u32)(val) & HINIC_SQ_TASK_INFO4_##member##_MASK) << \\\n\t\t HINIC_SQ_TASK_INFO4_##member##_SHIFT)\n\n#define HINIC_RQ_CQE_STATUS_RXDONE_SHIFT        31\n\n#define HINIC_RQ_CQE_STATUS_RXDONE_MASK         0x1\n\n#define HINIC_RQ_CQE_STATUS_CSUM_ERR_SHIFT\t0\n\n#define HINIC_RQ_CQE_STATUS_CSUM_ERR_MASK\t0xFFFFU\n\n#define HINIC_RQ_CQE_STATUS_GET(val, member)    \\\n\t\t(((val) >> HINIC_RQ_CQE_STATUS_##member##_SHIFT) & \\\n\t\t HINIC_RQ_CQE_STATUS_##member##_MASK)\n\n#define HINIC_RQ_CQE_STATUS_CLEAR(val, member)  \\\n\t\t((val) & (~(HINIC_RQ_CQE_STATUS_##member##_MASK << \\\n\t\t HINIC_RQ_CQE_STATUS_##member##_SHIFT)))\n\n#define HINIC_RQ_CQE_SGE_LEN_SHIFT              16\n\n#define HINIC_RQ_CQE_SGE_LEN_MASK               0xFFFF\n\n#define HINIC_RQ_CQE_SGE_GET(val, member)       \\\n\t\t(((val) >> HINIC_RQ_CQE_SGE_##member##_SHIFT) & \\\n\t\t HINIC_RQ_CQE_SGE_##member##_MASK)\n\n#define HINIC_RQ_CTRL_BUFDESC_SECT_LEN_SHIFT    0\n#define HINIC_RQ_CTRL_COMPLETE_FORMAT_SHIFT     15\n#define HINIC_RQ_CTRL_COMPLETE_LEN_SHIFT        27\n#define HINIC_RQ_CTRL_LEN_SHIFT                 29\n\n#define HINIC_RQ_CTRL_BUFDESC_SECT_LEN_MASK     0xFF\n#define HINIC_RQ_CTRL_COMPLETE_FORMAT_MASK      0x1\n#define HINIC_RQ_CTRL_COMPLETE_LEN_MASK         0x3\n#define HINIC_RQ_CTRL_LEN_MASK                  0x3\n\n#define HINIC_RQ_CTRL_SET(val, member)          \\\n\t\t(((u32)(val) & HINIC_RQ_CTRL_##member##_MASK) << \\\n\t\t HINIC_RQ_CTRL_##member##_SHIFT)\n\n#define HINIC_SQ_WQE_SIZE(nr_sges)              \\\n\t\t(sizeof(struct hinic_sq_ctrl) + \\\n\t\t sizeof(struct hinic_sq_task) + \\\n\t\t (nr_sges) * sizeof(struct hinic_sq_bufdesc))\n\n#define HINIC_SCMD_DATA_LEN                     16\n\n#define HINIC_MAX_SQ_BUFDESCS                   17\n\n#define HINIC_SQ_WQE_MAX_SIZE                   320\n#define HINIC_RQ_WQE_SIZE                       32\n\n#define HINIC_MSS_DEFAULT\t\t        0x3E00\n#define HINIC_MSS_MIN\t\t                0x50\n\n#define RQ_CQE_STATUS_NUM_LRO_SHIFT\t\t16\n#define RQ_CQE_STATUS_NUM_LRO_MASK\t\t0xFFU\n\n#define RQ_CQE_STATUS_GET(val, member)\t\t(((val) >> \\\n\t\t\tRQ_CQE_STATUS_##member##_SHIFT) & \\\n\t\t\tRQ_CQE_STATUS_##member##_MASK)\n\n#define HINIC_GET_RX_NUM_LRO(status)\t\\\n\t\tRQ_CQE_STATUS_GET(status, NUM_LRO)\n\n#define RQ_CQE_OFFOLAD_TYPE_PKT_TYPE_SHIFT\t\t0\n#define RQ_CQE_OFFOLAD_TYPE_PKT_TYPE_MASK\t\t0xFFFU\n#define RQ_CQE_OFFOLAD_TYPE_VLAN_EN_SHIFT\t\t21\n#define RQ_CQE_OFFOLAD_TYPE_VLAN_EN_MASK\t\t0x1U\n\n#define RQ_CQE_OFFOLAD_TYPE_GET(val, member)\t\t(((val) >> \\\n\t\t\t\tRQ_CQE_OFFOLAD_TYPE_##member##_SHIFT) & \\\n\t\t\t\tRQ_CQE_OFFOLAD_TYPE_##member##_MASK)\n\n#define HINIC_GET_RX_PKT_TYPE(offload_type)\t\\\n\t\t\tRQ_CQE_OFFOLAD_TYPE_GET(offload_type, PKT_TYPE)\n\n#define HINIC_GET_RX_VLAN_OFFLOAD_EN(offload_type)\t\\\n\t\t\tRQ_CQE_OFFOLAD_TYPE_GET(offload_type, VLAN_EN)\n\n#define RQ_CQE_SGE_VLAN_MASK\t\t\t\t0xFFFFU\n#define RQ_CQE_SGE_VLAN_SHIFT\t\t\t\t0\n\n#define RQ_CQE_SGE_GET(val, member)\t\t\t(((val) >> \\\n\t\t\t\t\tRQ_CQE_SGE_##member##_SHIFT) & \\\n\t\t\t\t\tRQ_CQE_SGE_##member##_MASK)\n\n#define HINIC_GET_RX_VLAN_TAG(vlan_len)\t\\\n\t\tRQ_CQE_SGE_GET(vlan_len, VLAN)\n\n#define HINIC_RSS_TYPE_VALID_SHIFT\t\t\t23\n#define HINIC_RSS_TYPE_TCP_IPV6_EXT_SHIFT\t\t24\n#define HINIC_RSS_TYPE_IPV6_EXT_SHIFT\t\t\t25\n#define HINIC_RSS_TYPE_TCP_IPV6_SHIFT\t\t\t26\n#define HINIC_RSS_TYPE_IPV6_SHIFT\t\t\t27\n#define HINIC_RSS_TYPE_TCP_IPV4_SHIFT\t\t\t28\n#define HINIC_RSS_TYPE_IPV4_SHIFT\t\t\t29\n#define HINIC_RSS_TYPE_UDP_IPV6_SHIFT\t\t\t30\n#define HINIC_RSS_TYPE_UDP_IPV4_SHIFT\t\t\t31\n\n#define HINIC_RSS_TYPE_SET(val, member)                        \\\n\t\t(((u32)(val) & 0x1) << HINIC_RSS_TYPE_##member##_SHIFT)\n\n#define HINIC_RSS_TYPE_GET(val, member)                        \\\n\t\t(((u32)(val) >> HINIC_RSS_TYPE_##member##_SHIFT) & 0x1)\n\nenum hinic_l3_offload_type {\n\tL3TYPE_UNKNOWN = 0,\n\tIPV6_PKT = 1,\n\tIPV4_PKT_NO_CHKSUM_OFFLOAD = 2,\n\tIPV4_PKT_WITH_CHKSUM_OFFLOAD = 3,\n};\n\nenum hinic_l4_offload_type {\n\tOFFLOAD_DISABLE     = 0,\n\tTCP_OFFLOAD_ENABLE  = 1,\n\tSCTP_OFFLOAD_ENABLE = 2,\n\tUDP_OFFLOAD_ENABLE  = 3,\n};\n\nenum hinic_l4_tunnel_type {\n\tNOT_TUNNEL,\n\tTUNNEL_UDP_NO_CSUM,\n\tTUNNEL_UDP_CSUM,\n};\n\nenum hinic_outer_l3type {\n\tHINIC_OUTER_L3TYPE_UNKNOWN              = 0,\n\tHINIC_OUTER_L3TYPE_IPV6                 = 1,\n\tHINIC_OUTER_L3TYPE_IPV4_NO_CHKSUM       = 2,\n\tHINIC_OUTER_L3TYPE_IPV4_CHKSUM          = 3,\n};\n\nenum hinic_l2type {\n\tHINIC_L2TYPE_ETH = 0,\n};\n\nstruct hinic_cmdq_header {\n\tu32     header_info;\n\tu32     saved_data;\n};\n\nstruct hinic_status {\n\tu32 status_info;\n};\n\nstruct hinic_ctrl {\n\tu32 ctrl_info;\n};\n\nstruct hinic_sge_resp {\n\tstruct hinic_sge        sge;\n\tu32                     rsvd;\n};\n\nstruct hinic_cmdq_completion {\n\t \n\tunion {\n\t\tstruct hinic_sge_resp   sge_resp;\n\t\tu64                     direct_resp;\n\t};\n};\n\nstruct hinic_scmd_bufdesc {\n\tu32     buf_len;\n\tu32     rsvd;\n\tu8      data[HINIC_SCMD_DATA_LEN];\n};\n\nstruct hinic_lcmd_bufdesc {\n\tstruct hinic_sge        sge;\n\tu32                     rsvd1;\n\tu64                     rsvd2;\n\tu64                     rsvd3;\n};\n\nstruct hinic_cmdq_wqe_scmd {\n\tstruct hinic_cmdq_header        header;\n\tu64                             rsvd;\n\tstruct hinic_status             status;\n\tstruct hinic_ctrl               ctrl;\n\tstruct hinic_cmdq_completion    completion;\n\tstruct hinic_scmd_bufdesc       buf_desc;\n};\n\nstruct hinic_cmdq_wqe_lcmd {\n\tstruct hinic_cmdq_header        header;\n\tstruct hinic_status             status;\n\tstruct hinic_ctrl               ctrl;\n\tstruct hinic_cmdq_completion    completion;\n\tstruct hinic_lcmd_bufdesc       buf_desc;\n};\n\nstruct hinic_cmdq_direct_wqe {\n\tstruct hinic_cmdq_wqe_scmd      wqe_scmd;\n};\n\nstruct hinic_cmdq_wqe {\n\t \n\tunion {\n\t\tstruct hinic_cmdq_direct_wqe    direct_wqe;\n\t\tstruct hinic_cmdq_wqe_lcmd      wqe_lcmd;\n\t};\n};\n\nstruct hinic_sq_ctrl {\n\tu32     ctrl_info;\n\tu32     queue_info;\n};\n\nstruct hinic_sq_task {\n\tu32     pkt_info0;\n\tu32     pkt_info1;\n\tu32     pkt_info2;\n\tu32     ufo_v6_identify;\n\tu32     pkt_info4;\n\tu32     zero_pad;\n};\n\nstruct hinic_sq_bufdesc {\n\tstruct hinic_sge sge;\n\tu32     rsvd;\n};\n\nstruct hinic_sq_wqe {\n\tstruct hinic_sq_ctrl            ctrl;\n\tstruct hinic_sq_task            task;\n\tstruct hinic_sq_bufdesc         buf_descs[HINIC_MAX_SQ_BUFDESCS];\n};\n\nstruct hinic_rq_cqe {\n\tu32     status;\n\tu32     len;\n\n\tu32     offload_type;\n\tu32     rsvd3;\n\tu32     rsvd4;\n\tu32     rsvd5;\n\tu32     rsvd6;\n\tu32     rsvd7;\n};\n\nstruct hinic_rq_ctrl {\n\tu32     ctrl_info;\n};\n\nstruct hinic_rq_cqe_sect {\n\tstruct hinic_sge        sge;\n\tu32                     rsvd;\n};\n\nstruct hinic_rq_bufdesc {\n\tu32     hi_addr;\n\tu32     lo_addr;\n};\n\nstruct hinic_rq_wqe {\n\tstruct hinic_rq_ctrl            ctrl;\n\tu32                             rsvd;\n\tstruct hinic_rq_cqe_sect        cqe_sect;\n\tstruct hinic_rq_bufdesc         buf_desc;\n};\n\nstruct hinic_hw_wqe {\n\t \n\tunion {\n\t\tstruct hinic_cmdq_wqe   cmdq_wqe;\n\t\tstruct hinic_sq_wqe     sq_wqe;\n\t\tstruct hinic_rq_wqe     rq_wqe;\n\t};\n};\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}