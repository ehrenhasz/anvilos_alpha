{
  "module_name": "hinic_sriov.h",
  "hash_id": "b2a254c14e5f45f931571fabd8efc1803adb8e2c6acc454191670c5938ca3b7e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/huawei/hinic/hinic_sriov.h",
  "human_readable_source": " \n \n\n#ifndef HINIC_SRIOV_H\n#define HINIC_SRIOV_H\n\n#include \"hinic_hw_dev.h\"\n\n#define OS_VF_ID_TO_HW(os_vf_id) ((os_vf_id) + 1)\n#define HW_VF_ID_TO_OS(hw_vf_id) ((hw_vf_id) - 1)\n\nenum hinic_sriov_state {\n\tHINIC_SRIOV_DISABLE,\n\tHINIC_SRIOV_ENABLE,\n\tHINIC_FUNC_REMOVE,\n};\n\nenum {\n\tHINIC_IFLA_VF_LINK_STATE_AUTO,\t \n\tHINIC_IFLA_VF_LINK_STATE_ENABLE,\t \n\tHINIC_IFLA_VF_LINK_STATE_DISABLE,\t \n};\n\nstruct hinic_sriov_info {\n\tstruct pci_dev *pdev;\n\tstruct hinic_hwdev *hwdev;\n\tbool sriov_enabled;\n\tunsigned int num_vfs;\n\tunsigned long state;\n};\n\nstruct vf_data_storage {\n\tu8 vf_mac_addr[ETH_ALEN];\n\tbool registered;\n\tbool pf_set_mac;\n\tu16 pf_vlan;\n\tu8 pf_qos;\n\tu32 max_rate;\n\tu32 min_rate;\n\n\tbool link_forced;\n\tbool link_up;\t\t \n\tbool spoofchk;\n\tbool trust;\n};\n\nstruct hinic_register_vf {\n\tu8\tstatus;\n\tu8\tversion;\n\tu8\trsvd0[6];\n};\n\nstruct hinic_port_mac_update {\n\tu8\tstatus;\n\tu8\tversion;\n\tu8\trsvd0[6];\n\n\tu16\tfunc_id;\n\tu16\tvlan_id;\n\tu16\trsvd1;\n\tu8\told_mac[ETH_ALEN];\n\tu16\trsvd2;\n\tu8\tnew_mac[ETH_ALEN];\n};\n\nstruct hinic_vf_vlan_config {\n\tu8 status;\n\tu8 version;\n\tu8 rsvd0[6];\n\n\tu16 func_id;\n\tu16 vlan_id;\n\tu8  qos;\n\tu8  rsvd1[7];\n};\n\nint hinic_ndo_set_vf_mac(struct net_device *netdev, int vf, u8 *mac);\n\nint hinic_ndo_set_vf_vlan(struct net_device *netdev, int vf, u16 vlan, u8 qos,\n\t\t\t  __be16 vlan_proto);\n\nint hinic_ndo_get_vf_config(struct net_device *netdev,\n\t\t\t    int vf, struct ifla_vf_info *ivi);\n\nint hinic_ndo_set_vf_trust(struct net_device *netdev, int vf, bool setting);\n\nint hinic_ndo_set_vf_bw(struct net_device *netdev,\n\t\t\tint vf, int min_tx_rate, int max_tx_rate);\n\nint hinic_ndo_set_vf_spoofchk(struct net_device *netdev, int vf, bool setting);\n\nint hinic_ndo_set_vf_link_state(struct net_device *netdev, int vf_id, int link);\n\nvoid hinic_notify_all_vfs_link_changed(struct hinic_hwdev *hwdev,\n\t\t\t\t       u8 link_status);\n\nint hinic_pci_sriov_disable(struct pci_dev *dev);\n\nint hinic_vf_func_init(struct hinic_hwdev *hwdev);\n\nvoid hinic_vf_func_free(struct hinic_hwdev *hwdev);\n\nint hinic_pci_sriov_configure(struct pci_dev *dev, int num_vfs);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}