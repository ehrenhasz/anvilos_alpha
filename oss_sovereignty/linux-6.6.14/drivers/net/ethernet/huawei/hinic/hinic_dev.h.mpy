{
  "module_name": "hinic_dev.h",
  "hash_id": "e3f03bb7beead1d3c2dbe10b407a8493ca4fc6240484bc19aaefcbe92df4cc4f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/huawei/hinic/hinic_dev.h",
  "human_readable_source": " \n \n\n#ifndef HINIC_DEV_H\n#define HINIC_DEV_H\n\n#include <linux/netdevice.h>\n#include <linux/types.h>\n#include <linux/semaphore.h>\n#include <linux/workqueue.h>\n#include <linux/bitops.h>\n\n#include \"hinic_hw_dev.h\"\n#include \"hinic_tx.h\"\n#include \"hinic_rx.h\"\n#include \"hinic_sriov.h\"\n\n#define HINIC_DRV_NAME          \"hinic\"\n\n#define LP_PKT_CNT\t\t64\n\n#define HINIC_MAX_JUMBO_FRAME_SIZE      15872\n#define HINIC_MAX_MTU_SIZE      (HINIC_MAX_JUMBO_FRAME_SIZE - ETH_HLEN - ETH_FCS_LEN)\n#define HINIC_MIN_MTU_SIZE      256\n\nenum hinic_flags {\n\tHINIC_LINK_UP = BIT(0),\n\tHINIC_INTF_UP = BIT(1),\n\tHINIC_RSS_ENABLE = BIT(2),\n\tHINIC_LINK_DOWN = BIT(3),\n\tHINIC_LP_TEST = BIT(4),\n};\n\nstruct hinic_rx_mode_work {\n\tstruct work_struct      work;\n\tu32                     rx_mode;\n};\n\nstruct hinic_rss_type {\n\tu8 tcp_ipv6_ext;\n\tu8 ipv6_ext;\n\tu8 tcp_ipv6;\n\tu8 ipv6;\n\tu8 tcp_ipv4;\n\tu8 ipv4;\n\tu8 udp_ipv6;\n\tu8 udp_ipv4;\n};\n\nenum hinic_rss_hash_type {\n\tHINIC_RSS_HASH_ENGINE_TYPE_XOR,\n\tHINIC_RSS_HASH_ENGINE_TYPE_TOEP,\n\tHINIC_RSS_HASH_ENGINE_TYPE_MAX,\n};\n\nstruct hinic_intr_coal_info {\n\tu8\tpending_limt;\n\tu8\tcoalesce_timer_cfg;\n\tu8\tresend_timer_cfg;\n};\n\nenum hinic_dbg_type {\n\tHINIC_DBG_SQ_INFO,\n\tHINIC_DBG_RQ_INFO,\n\tHINIC_DBG_FUNC_TABLE,\n};\n\nstruct hinic_debug_priv {\n\tstruct hinic_dev\t*dev;\n\tvoid\t\t\t*object;\n\tenum hinic_dbg_type\ttype;\n\tstruct dentry\t\t*root;\n\tint\t\t\tfield_id[64];\n};\n\nstruct hinic_dev {\n\tstruct net_device               *netdev;\n\tstruct hinic_hwdev              *hwdev;\n\n\tu32                             msg_enable;\n\tunsigned int                    tx_weight;\n\tunsigned int                    rx_weight;\n\tu16\t\t\t\tnum_qps;\n\tu16\t\t\t\tmax_qps;\n\n\tunsigned int                    flags;\n\n\tstruct semaphore                mgmt_lock;\n\tunsigned long                   *vlan_bitmap;\n\n\tstruct hinic_rx_mode_work       rx_mode_work;\n\tstruct workqueue_struct         *workq;\n\n\tstruct hinic_txq                *txqs;\n\tstruct hinic_rxq                *rxqs;\n\tu16\t\t\t\tsq_depth;\n\tu16\t\t\t\trq_depth;\n\n\tu8\t\t\t\trss_tmpl_idx;\n\tu8\t\t\t\trss_hash_engine;\n\tu16\t\t\t\tnum_rss;\n\tu16\t\t\t\trss_limit;\n\tstruct hinic_rss_type\t\trss_type;\n\tu8\t\t\t\t*rss_hkey_user;\n\ts32\t\t\t\t*rss_indir_user;\n\tstruct hinic_intr_coal_info\t*rx_intr_coalesce;\n\tstruct hinic_intr_coal_info\t*tx_intr_coalesce;\n\tstruct hinic_sriov_info sriov_info;\n\tint\t\t\t\tlb_test_rx_idx;\n\tint\t\t\t\tlb_pkt_len;\n\tu8\t\t\t\t*lb_test_rx_buf;\n\n\tstruct dentry\t\t\t*dbgfs_root;\n\tstruct dentry\t\t\t*sq_dbgfs;\n\tstruct dentry\t\t\t*rq_dbgfs;\n\tstruct dentry\t\t\t*func_tbl_dbgfs;\n\tstruct hinic_debug_priv\t\t*dbg;\n\tstruct devlink\t\t\t*devlink;\n\tbool\t\t\t\tcable_unplugged;\n\tbool\t\t\t\tmodule_unrecognized;\n};\n\nstruct hinic_devlink_priv {\n\tstruct hinic_hwdev\t\t*hwdev;\n\tstruct devlink_health_reporter  *hw_fault_reporter;\n\tstruct devlink_health_reporter  *fw_fault_reporter;\n};\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}