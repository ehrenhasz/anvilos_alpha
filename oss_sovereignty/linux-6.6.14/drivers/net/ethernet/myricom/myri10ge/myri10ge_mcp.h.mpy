{
  "module_name": "myri10ge_mcp.h",
  "hash_id": "8906760ebdcd899f8cbbc4310a0e326fcf0cb93797423f5fe6d76baf029f1e56",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/myricom/myri10ge/myri10ge_mcp.h",
  "human_readable_source": " \n#ifndef __MYRI10GE_MCP_H__\n#define __MYRI10GE_MCP_H__\n\n#define MXGEFW_VERSION_MAJOR\t1\n#define MXGEFW_VERSION_MINOR\t4\n\n \nstruct mcp_dma_addr {\n\t__be32 high;\n\t__be32 low;\n};\n\n \nstruct mcp_slot {\n\t__sum16 checksum;\n\t__be16 length;\n};\n\n \nstruct mcp_cmd {\n\t__be32 cmd;\n\t__be32 data0;\t\t \n\t \n\t__be32 data1;\t\t \n\t__be32 data2;\t\t \n\t \n\tstruct mcp_dma_addr response_addr;\n\t \n\tu8 pad[40];\n};\n\n \nstruct mcp_cmd_response {\n\t__be32 data;\n\t__be32 result;\n};\n\n \n\n#define MXGEFW_FLAGS_SMALL      0x1\n#define MXGEFW_FLAGS_TSO_HDR    0x1\n#define MXGEFW_FLAGS_FIRST      0x2\n#define MXGEFW_FLAGS_ALIGN_ODD  0x4\n#define MXGEFW_FLAGS_CKSUM      0x8\n#define MXGEFW_FLAGS_TSO_LAST   0x8\n#define MXGEFW_FLAGS_NO_TSO     0x10\n#define MXGEFW_FLAGS_TSO_CHOP   0x10\n#define MXGEFW_FLAGS_TSO_PLD    0x20\n\n#define MXGEFW_SEND_SMALL_SIZE  1520\n#define MXGEFW_MAX_MTU          9400\n\nunion mcp_pso_or_cumlen {\n\tu16 pseudo_hdr_offset;\n\tu16 cum_len;\n};\n\n#define\tMXGEFW_MAX_SEND_DESC 12\n#define MXGEFW_PAD\t    2\n\n \nstruct mcp_kreq_ether_send {\n\t__be32 addr_high;\n\t__be32 addr_low;\n\t__be16 pseudo_hdr_offset;\n\t__be16 length;\n\tu8 pad;\n\tu8 rdma_count;\n\tu8 cksum_offset;\t \n\tu8 flags;\t\t \n};\n\n \nstruct mcp_kreq_ether_recv {\n\t__be32 addr_high;\n\t__be32 addr_low;\n};\n\n \n\n#define\tMXGEFW_BOOT_HANDOFF\t0xfc0000\n#define\tMXGEFW_BOOT_DUMMY_RDMA\t0xfc01c0\n\n#define\tMXGEFW_ETH_CMD\t\t0xf80000\n#define\tMXGEFW_ETH_SEND_4\t0x200000\n#define\tMXGEFW_ETH_SEND_1\t0x240000\n#define\tMXGEFW_ETH_SEND_2\t0x280000\n#define\tMXGEFW_ETH_SEND_3\t0x2c0000\n#define\tMXGEFW_ETH_RECV_SMALL\t0x300000\n#define\tMXGEFW_ETH_RECV_BIG\t0x340000\n#define\tMXGEFW_ETH_SEND_GO\t0x380000\n#define\tMXGEFW_ETH_SEND_STOP\t0x3C0000\n\n#define\tMXGEFW_ETH_SEND(n)\t\t(0x200000 + (((n) & 0x03) * 0x40000))\n#define\tMXGEFW_ETH_SEND_OFFSET(n)\t(MXGEFW_ETH_SEND(n) - MXGEFW_ETH_SEND_4)\n\nenum myri10ge_mcp_cmd_type {\n\tMXGEFW_CMD_NONE = 0,\n\t \n\tMXGEFW_CMD_RESET = 1,\n\n\t \n\tMXGEFW_GET_MCP_VERSION = 2,\n\n\t \n\n\tMXGEFW_CMD_SET_INTRQ_DMA = 3,\n\t \n\n\tMXGEFW_CMD_SET_BIG_BUFFER_SIZE = 4,\t \n\tMXGEFW_CMD_SET_SMALL_BUFFER_SIZE = 5,\t \n\n\t \n\n\tMXGEFW_CMD_GET_SEND_OFFSET = 6,\n\tMXGEFW_CMD_GET_SMALL_RX_OFFSET = 7,\n\tMXGEFW_CMD_GET_BIG_RX_OFFSET = 8,\n\t \n\n\tMXGEFW_CMD_GET_IRQ_ACK_OFFSET = 9,\n\tMXGEFW_CMD_GET_IRQ_DEASSERT_OFFSET = 10,\n\n\t \n\n\tMXGEFW_CMD_GET_SEND_RING_SIZE = 11,\t \n\tMXGEFW_CMD_GET_RX_RING_SIZE = 12,\t \n\n\t \n\n\tMXGEFW_CMD_SET_INTRQ_SIZE = 13,\t \n#define MXGEFW_CMD_SET_INTRQ_SIZE_FLAG_NO_STRICT_SIZE_CHECK  (1 << 31)\n\n\t \n\tMXGEFW_CMD_ETHERNET_UP = 14,\n\n\t \n\n\tMXGEFW_CMD_ETHERNET_DOWN = 15,\n\n\t \n\n\tMXGEFW_CMD_SET_MTU = 16,\n\tMXGEFW_CMD_GET_INTR_COAL_DELAY_OFFSET = 17,\t \n\tMXGEFW_CMD_SET_STATS_INTERVAL = 18,\t \n\tMXGEFW_CMD_SET_STATS_DMA_OBSOLETE = 19,\t \n\n\tMXGEFW_ENABLE_PROMISC = 20,\n\tMXGEFW_DISABLE_PROMISC = 21,\n\tMXGEFW_SET_MAC_ADDRESS = 22,\n\n\tMXGEFW_ENABLE_FLOW_CONTROL = 23,\n\tMXGEFW_DISABLE_FLOW_CONTROL = 24,\n\n\t \n\tMXGEFW_DMA_TEST = 25,\n\n\tMXGEFW_ENABLE_ALLMULTI = 26,\n\tMXGEFW_DISABLE_ALLMULTI = 27,\n\n\t \n\tMXGEFW_JOIN_MULTICAST_GROUP = 28,\n\t \n\tMXGEFW_LEAVE_MULTICAST_GROUP = 29,\n\tMXGEFW_LEAVE_ALL_MULTICAST_GROUPS = 30,\n\n\tMXGEFW_CMD_SET_STATS_DMA_V2 = 31,\n\t \n\n\tMXGEFW_CMD_UNALIGNED_TEST = 32,\n\t \n\n\tMXGEFW_CMD_UNALIGNED_STATUS = 33,\n\t \n\n\tMXGEFW_CMD_ALWAYS_USE_N_BIG_BUFFERS = 34,\n\t \n\n\tMXGEFW_CMD_GET_MAX_RSS_QUEUES = 35,\n\tMXGEFW_CMD_ENABLE_RSS_QUEUES = 36,\n\t \n#define MXGEFW_SLICE_INTR_MODE_SHARED          0x0\n#define MXGEFW_SLICE_INTR_MODE_ONE_PER_SLICE   0x1\n#define MXGEFW_SLICE_ENABLE_MULTIPLE_TX_QUEUES 0x2\n\n\tMXGEFW_CMD_GET_RSS_SHARED_INTERRUPT_MASK_OFFSET = 37,\n\tMXGEFW_CMD_SET_RSS_SHARED_INTERRUPT_DMA = 38,\n\t \n\tMXGEFW_CMD_GET_RSS_TABLE_OFFSET = 39,\n\t \n\tMXGEFW_CMD_SET_RSS_TABLE_SIZE = 40,\n\t \n\tMXGEFW_CMD_GET_RSS_KEY_OFFSET = 41,\n\t \n\tMXGEFW_CMD_RSS_KEY_UPDATED = 42,\n\t \n\tMXGEFW_CMD_SET_RSS_ENABLE = 43,\n\t \n#define MXGEFW_RSS_HASH_TYPE_IPV4      0x1\n#define MXGEFW_RSS_HASH_TYPE_TCP_IPV4  0x2\n#define MXGEFW_RSS_HASH_TYPE_SRC_PORT  0x4\n#define MXGEFW_RSS_HASH_TYPE_SRC_DST_PORT 0x5\n#define MXGEFW_RSS_HASH_TYPE_MAX 0x5\n\n\tMXGEFW_CMD_GET_MAX_TSO6_HDR_SIZE = 44,\n\t \n\n\tMXGEFW_CMD_SET_TSO_MODE = 45,\n\t \n#define MXGEFW_TSO_MODE_LINUX  0\n#define MXGEFW_TSO_MODE_NDIS   1\n\n\tMXGEFW_CMD_MDIO_READ = 46,\n\t \n\tMXGEFW_CMD_MDIO_WRITE = 47,\n\t \n\n\tMXGEFW_CMD_I2C_READ = 48,\n\t \n\tMXGEFW_CMD_I2C_BYTE = 49,\n\t \n\n\tMXGEFW_CMD_GET_VPUMP_OFFSET = 50,\n\t \n\tMXGEFW_CMD_RESET_VPUMP = 51,\n\t \n\n\tMXGEFW_CMD_SET_RSS_MCP_SLOT_TYPE = 52,\n\t \n#define MXGEFW_RSS_MCP_SLOT_TYPE_MIN        0\n#define MXGEFW_RSS_MCP_SLOT_TYPE_WITH_HASH  1\n\n\tMXGEFW_CMD_SET_THROTTLE_FACTOR = 53,\n\t \n\n\tMXGEFW_CMD_VPUMP_UP = 54,\n\t \n\tMXGEFW_CMD_GET_VPUMP_CLK = 55,\n\t \n\n\tMXGEFW_CMD_GET_DCA_OFFSET = 56,\n\t \n\n\t \n\tMXGEFW_CMD_NETQ_GET_FILTERS_PER_QUEUE = 57,\n\tMXGEFW_CMD_NETQ_ADD_FILTER = 58,\n\t \n\t \n\t \n\tMXGEFW_CMD_NETQ_DEL_FILTER = 59,\n\t \n\tMXGEFW_CMD_NETQ_QUERY1 = 60,\n\tMXGEFW_CMD_NETQ_QUERY2 = 61,\n\tMXGEFW_CMD_NETQ_QUERY3 = 62,\n\tMXGEFW_CMD_NETQ_QUERY4 = 63,\n\n\tMXGEFW_CMD_RELAX_RXBUFFER_ALIGNMENT = 64,\n\t \n};\n\nenum myri10ge_mcp_cmd_status {\n\tMXGEFW_CMD_OK = 0,\n\tMXGEFW_CMD_UNKNOWN = 1,\n\tMXGEFW_CMD_ERROR_RANGE = 2,\n\tMXGEFW_CMD_ERROR_BUSY = 3,\n\tMXGEFW_CMD_ERROR_EMPTY = 4,\n\tMXGEFW_CMD_ERROR_CLOSED = 5,\n\tMXGEFW_CMD_ERROR_HASH_ERROR = 6,\n\tMXGEFW_CMD_ERROR_BAD_PORT = 7,\n\tMXGEFW_CMD_ERROR_RESOURCES = 8,\n\tMXGEFW_CMD_ERROR_MULTICAST = 9,\n\tMXGEFW_CMD_ERROR_UNALIGNED = 10,\n\tMXGEFW_CMD_ERROR_NO_MDIO = 11,\n\tMXGEFW_CMD_ERROR_I2C_FAILURE = 12,\n\tMXGEFW_CMD_ERROR_I2C_ABSENT = 13,\n\tMXGEFW_CMD_ERROR_BAD_PCIE_LINK = 14\n};\n\n#define MXGEFW_OLD_IRQ_DATA_LEN 40\n\nstruct mcp_irq_data {\n\t \n\t__be32 future_use[1];\n\t__be32 dropped_pause;\n\t__be32 dropped_unicast_filtered;\n\t__be32 dropped_bad_crc32;\n\t__be32 dropped_bad_phy;\n\t__be32 dropped_multicast_filtered;\n\t \n\t__be32 send_done_count;\n\n#define MXGEFW_LINK_DOWN 0\n#define MXGEFW_LINK_UP 1\n#define MXGEFW_LINK_MYRINET 2\n#define MXGEFW_LINK_UNKNOWN 3\n\t__be32 link_up;\n\t__be32 dropped_link_overflow;\n\t__be32 dropped_link_error_or_filtered;\n\t__be32 dropped_runt;\n\t__be32 dropped_overrun;\n\t__be32 dropped_no_small_buffer;\n\t__be32 dropped_no_big_buffer;\n\t__be32 rdma_tags_available;\n\n\tu8 tx_stopped;\n\tu8 link_down;\n\tu8 stats_updated;\n\tu8 valid;\n};\n\n \n#define MXGEFW_NETQ_FILTERTYPE_NONE 0\n#define MXGEFW_NETQ_FILTERTYPE_MACADDR 1\n#define MXGEFW_NETQ_FILTERTYPE_VLAN 2\n#define MXGEFW_NETQ_FILTERTYPE_VLANMACADDR 3\n\n#endif\t\t\t\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}