{
  "module_name": "nfp_main.h",
  "hash_id": "a2bdf956b816788d80b41f77d5ab555743c22a53a3b46fe9ef8dc0ae5e504052",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/netronome/nfp/nfp_main.h",
  "human_readable_source": " \n \n\n \n\n#ifndef NFP_MAIN_H\n#define NFP_MAIN_H\n\n#include <linux/ethtool.h>\n#include <linux/list.h>\n#include <linux/types.h>\n#include <linux/pci.h>\n#include <linux/workqueue.h>\n#include <net/devlink.h>\n\nstruct dentry;\nstruct device;\nstruct pci_dev;\n\nstruct nfp_cpp;\nstruct nfp_cpp_area;\nstruct nfp_eth_table;\nstruct nfp_hwinfo;\nstruct nfp_mip;\nstruct nfp_net;\nstruct nfp_nsp_identify;\nstruct nfp_eth_media_buf;\nstruct nfp_port;\nstruct nfp_rtsym;\nstruct nfp_rtsym_table;\nstruct nfp_shared_buf;\n\n \nstruct nfp_dumpspec {\n\tu32 size;\n\tu8 data[];\n};\n\n \nstruct nfp_pf {\n\tstruct pci_dev *pdev;\n\tconst struct nfp_dev_info *dev_info;\n\n\tstruct nfp_cpp *cpp;\n\n\tstruct nfp_app *app;\n\n\tstruct nfp_cpp_area *data_vnic_bar;\n\tstruct nfp_cpp_area *ctrl_vnic_bar;\n\tstruct nfp_cpp_area *qc_area;\n\tstruct nfp_cpp_area *mac_stats_bar;\n\tu8 __iomem *mac_stats_mem;\n\tstruct nfp_cpp_area *vf_cfg_bar;\n\tu8 __iomem *vf_cfg_mem;\n\tstruct nfp_cpp_area *vfcfg_tbl2_area;\n\tu8 __iomem *vfcfg_tbl2;\n\n\tconst struct nfp_rtsym *mbox;\n\n\tstruct msix_entry *irq_entries;\n\n\tunsigned int limit_vfs;\n\tunsigned int num_vfs;\n\n\tbool fw_loaded;\n\tbool unload_fw_on_remove;\n\n\tstruct nfp_net *ctrl_vnic;\n\n\tconst struct nfp_mip *mip;\n\tstruct nfp_rtsym_table *rtbl;\n\tstruct nfp_hwinfo *hwinfo;\n\tstruct nfp_dumpspec *dumpspec;\n\tu32 dump_flag;\n\tu32 dump_len;\n\tstruct nfp_eth_table *eth_tbl;\n\tstruct nfp_nsp_identify *nspi;\n\n\tstruct device *hwmon_dev;\n\n\tstruct dentry *ddir;\n\n\tunsigned int max_data_vnics;\n\tunsigned int num_vnics;\n\n\tstruct list_head vnics;\n\tstruct list_head ports;\n\n\tstruct workqueue_struct *wq;\n\tstruct work_struct port_refresh_work;\n\n\tstruct nfp_shared_buf *shared_bufs;\n\tunsigned int num_shared_bufs;\n};\n\nextern struct pci_driver nfp_netvf_pci_driver;\n\nextern const struct devlink_ops nfp_devlink_ops;\n\nint nfp_net_pci_probe(struct nfp_pf *pf);\nvoid nfp_net_pci_remove(struct nfp_pf *pf);\n\nint nfp_hwmon_register(struct nfp_pf *pf);\nvoid nfp_hwmon_unregister(struct nfp_pf *pf);\n\nvoid\nnfp_net_get_mac_addr(struct nfp_pf *pf, struct net_device *netdev,\n\t\t     struct nfp_port *port);\n\nbool nfp_ctrl_tx(struct nfp_net *nn, struct sk_buff *skb);\n\nint nfp_pf_rtsym_read_optional(struct nfp_pf *pf, const char *format,\n\t\t\t       unsigned int default_val);\nint nfp_net_pf_get_app_id(struct nfp_pf *pf);\nu8 __iomem *\nnfp_pf_map_rtsym(struct nfp_pf *pf, const char *name, const char *sym_fmt,\n\t\t unsigned int min_size, struct nfp_cpp_area **area);\nint nfp_mbox_cmd(struct nfp_pf *pf, u32 cmd, void *in_data, u64 in_length,\n\t\t void *out_data, u64 out_length);\nint nfp_flash_update_common(struct nfp_pf *pf, const struct firmware *fw,\n\t\t\t    struct netlink_ext_ack *extack);\n\nenum nfp_dump_diag {\n\tNFP_DUMP_NSP_DIAG = 0,\n};\n\nstruct nfp_dumpspec *\nnfp_net_dump_load_dumpspec(struct nfp_cpp *cpp, struct nfp_rtsym_table *rtbl);\ns64 nfp_net_dump_calculate_size(struct nfp_pf *pf, struct nfp_dumpspec *spec,\n\t\t\t\tu32 flag);\nint nfp_net_dump_populate_buffer(struct nfp_pf *pf, struct nfp_dumpspec *spec,\n\t\t\t\t struct ethtool_dump *dump_param, void *dest);\n\nint nfp_shared_buf_register(struct nfp_pf *pf);\nvoid nfp_shared_buf_unregister(struct nfp_pf *pf);\nint nfp_shared_buf_pool_get(struct nfp_pf *pf, unsigned int sb, u16 pool_index,\n\t\t\t    struct devlink_sb_pool_info *pool_info);\nint nfp_shared_buf_pool_set(struct nfp_pf *pf, unsigned int sb,\n\t\t\t    u16 pool_index, u32 size,\n\t\t\t    enum devlink_sb_threshold_type threshold_type);\n\nint nfp_devlink_params_register(struct nfp_pf *pf);\nvoid nfp_devlink_params_unregister(struct nfp_pf *pf);\n\nunsigned int nfp_net_lr2speed(unsigned int linkrate);\nunsigned int nfp_net_speed2lr(unsigned int speed);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}