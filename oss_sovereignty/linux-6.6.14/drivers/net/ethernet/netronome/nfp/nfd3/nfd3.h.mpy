{
  "module_name": "nfd3.h",
  "hash_id": "afdcd63377ced4598b44cb04d06abe4750e2373fa13b1c13cfb44725823f3d83",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/netronome/nfp/nfd3/nfd3.h",
  "human_readable_source": " \n \n\n#ifndef _NFP_DP_NFD3_H_\n#define _NFP_DP_NFD3_H_\n\nstruct sk_buff;\nstruct net_device;\n\n \n\n#define NFD3_DESC_TX_EOP\t\tBIT(7)\n#define NFD3_DESC_TX_OFFSET_MASK\tGENMASK(6, 0)\n#define NFD3_DESC_TX_MSS_MASK\t\tGENMASK(13, 0)\n\n \n#define NFD3_DESC_TX_CSUM\t\tBIT(7)\n#define NFD3_DESC_TX_IP4_CSUM\t\tBIT(6)\n#define NFD3_DESC_TX_TCP_CSUM\t\tBIT(5)\n#define NFD3_DESC_TX_UDP_CSUM\t\tBIT(4)\n#define NFD3_DESC_TX_VLAN\t\tBIT(3)\n#define NFD3_DESC_TX_LSO\t\tBIT(2)\n#define NFD3_DESC_TX_ENCAP\t\tBIT(1)\n#define NFD3_DESC_TX_O_IP4_CSUM\tBIT(0)\n\nstruct nfp_nfd3_tx_desc {\n\tunion {\n\t\tstruct {\n\t\t\tu8 dma_addr_hi;  \n\t\t\t__le16 dma_len;\t \n\t\t\tu8 offset_eop;\t \n\t\t\t__le32 dma_addr_lo;  \n\n\t\t\t__le16 mss;\t \n\t\t\tu8 lso_hdrlen;\t \n\t\t\tu8 flags;\t \n\t\t\tunion {\n\t\t\t\tstruct {\n\t\t\t\t\tu8 l3_offset;  \n\t\t\t\t\tu8 l4_offset;  \n\t\t\t\t};\n\t\t\t\t__le16 vlan;  \n\t\t\t};\n\t\t\t__le16 data_len;  \n\t\t} __packed;\n\t\t__le32 vals[4];\n\t\t__le64 vals8[2];\n\t};\n};\n\n \nstruct nfp_nfd3_tx_buf {\n\tunion {\n\t\tstruct sk_buff *skb;\n\t\tvoid *frag;\n\t\tstruct xdp_buff *xdp;\n\t};\n\tdma_addr_t dma_addr;\n\tunion {\n\t\tstruct {\n\t\t\tshort int fidx;\n\t\t\tu16 pkt_cnt;\n\t\t};\n\t\tstruct {\n\t\t\tbool is_xsk_tx;\n\t\t};\n\t};\n\tu32 real_len;\n};\n\nvoid\nnfp_nfd3_rx_csum(const struct nfp_net_dp *dp, struct nfp_net_r_vector *r_vec,\n\t\t const struct nfp_net_rx_desc *rxd,\n\t\t const struct nfp_meta_parsed *meta, struct sk_buff *skb);\nbool\nnfp_nfd3_parse_meta(struct net_device *netdev, struct nfp_meta_parsed *meta,\n\t\t    void *data, void *pkt, unsigned int pkt_len, int meta_len);\nvoid nfp_nfd3_tx_complete(struct nfp_net_tx_ring *tx_ring, int budget);\nint nfp_nfd3_poll(struct napi_struct *napi, int budget);\nnetdev_tx_t nfp_nfd3_tx(struct sk_buff *skb, struct net_device *netdev);\nbool\nnfp_nfd3_ctrl_tx_one(struct nfp_net *nn, struct nfp_net_r_vector *r_vec,\n\t\t     struct sk_buff *skb, bool old);\nvoid nfp_nfd3_ctrl_poll(struct tasklet_struct *t);\nvoid nfp_nfd3_rx_ring_fill_freelist(struct nfp_net_dp *dp,\n\t\t\t\t    struct nfp_net_rx_ring *rx_ring);\nvoid nfp_nfd3_xsk_tx_free(struct nfp_nfd3_tx_buf *txbuf);\nint nfp_nfd3_xsk_poll(struct napi_struct *napi, int budget);\n\n#ifndef CONFIG_NFP_NET_IPSEC\nstatic inline void nfp_nfd3_ipsec_tx(struct nfp_nfd3_tx_desc *txd, struct sk_buff *skb)\n{\n}\n#else\nvoid nfp_nfd3_ipsec_tx(struct nfp_nfd3_tx_desc *txd, struct sk_buff *skb);\n#endif\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}