{
  "module_name": "nfp_net_repr.h",
  "hash_id": "2b08f3a1a1d1e448082c9d60d85822a40c79e9f63871988eebd749948d1921bb",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/netronome/nfp/nfp_net_repr.h",
  "human_readable_source": " \n \n\n#ifndef NFP_NET_REPR_H\n#define NFP_NET_REPR_H\n\nstruct metadata_dst;\nstruct nfp_app;\nstruct nfp_net;\nstruct nfp_port;\n\n#include <net/dst_metadata.h>\n\n \nstruct nfp_reprs {\n\tunsigned int num_reprs;\n\tstruct net_device __rcu *reprs[];\n};\n\n \nstruct nfp_repr_pcpu_stats {\n\tu64 rx_packets;\n\tu64 rx_bytes;\n\tu64 tx_packets;\n\tu64 tx_bytes;\n\tu64 tx_drops;\n\tstruct u64_stats_sync syncp;\n};\n\n \nstruct nfp_repr {\n\tstruct net_device *netdev;\n\tstruct metadata_dst *dst;\n\tstruct nfp_port *port;\n\tstruct nfp_app *app;\n\tstruct nfp_repr_pcpu_stats __percpu *stats;\n\tvoid *app_priv;\n};\n\n \nenum nfp_repr_type {\n\tNFP_REPR_TYPE_PHYS_PORT,\n\tNFP_REPR_TYPE_PF,\n\tNFP_REPR_TYPE_VF,\n\n\t__NFP_REPR_TYPE_MAX,\n};\n#define NFP_REPR_TYPE_MAX (__NFP_REPR_TYPE_MAX - 1)\n\nextern const struct net_device_ops nfp_repr_netdev_ops;\n\nstatic inline bool nfp_netdev_is_nfp_repr(struct net_device *netdev)\n{\n\treturn netdev->netdev_ops == &nfp_repr_netdev_ops;\n}\n\nstatic inline int nfp_repr_get_port_id(struct net_device *netdev)\n{\n\tstruct nfp_repr *priv = netdev_priv(netdev);\n\n\treturn priv->dst->u.port_info.port_id;\n}\n\nstruct net_device *\nnfp_repr_get_locked(struct nfp_app *app, struct nfp_reprs *set,\n\t\t    unsigned int id);\n\nvoid nfp_repr_inc_rx_stats(struct net_device *netdev, unsigned int len);\nvoid\nnfp_repr_transfer_features(struct net_device *netdev, struct net_device *lower);\nint nfp_repr_init(struct nfp_app *app, struct net_device *netdev,\n\t\t  u32 cmsg_port_id, struct nfp_port *port,\n\t\t  struct net_device *pf_netdev);\nvoid nfp_repr_free(struct net_device *netdev);\nstruct net_device *\nnfp_repr_alloc_mqs(struct nfp_app *app, unsigned int txqs, unsigned int rxqs);\nvoid nfp_repr_clean_and_free(struct nfp_repr *repr);\nvoid nfp_reprs_clean_and_free(struct nfp_app *app, struct nfp_reprs *reprs);\nvoid nfp_reprs_clean_and_free_by_type(struct nfp_app *app,\n\t\t\t\t      enum nfp_repr_type type);\nstruct nfp_reprs *nfp_reprs_alloc(unsigned int num_reprs);\nint nfp_reprs_resync_phys_ports(struct nfp_app *app);\n\nstatic inline struct net_device *nfp_repr_alloc(struct nfp_app *app)\n{\n\treturn nfp_repr_alloc_mqs(app, 1, 1);\n}\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}