{
  "module_name": "nfp_port.h",
  "hash_id": "83aac80b4df31b22dd51e549d73ee17f32d28b6a159568a61dcae1140ae02613",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/netronome/nfp/nfp_port.h",
  "human_readable_source": " \n \n\n#ifndef _NFP_PORT_H_\n#define _NFP_PORT_H_\n\n#include <net/devlink.h>\n\nstruct net_device;\nstruct netdev_phys_item_id;\nstruct nfp_app;\nstruct nfp_pf;\nstruct nfp_port;\n\n \nenum nfp_port_type {\n\tNFP_PORT_INVALID,\n\tNFP_PORT_PHYS_PORT,\n\tNFP_PORT_PF_PORT,\n\tNFP_PORT_VF_PORT,\n};\n\n \nenum nfp_port_flags {\n\tNFP_PORT_CHANGED = 0,\n};\n\nenum {\n\tNFP_SPEED_1G,\n\tNFP_SPEED_10G,\n\tNFP_SPEED_25G,\n\tNFP_SPEED_40G,\n\tNFP_SPEED_50G,\n\tNFP_SPEED_100G,\n\tNFP_SUP_SPEED_NUMBER\n};\n\n \nstruct nfp_port {\n\tstruct net_device *netdev;\n\tenum nfp_port_type type;\n\n\tunsigned long flags;\n\tunsigned long tc_offload_cnt;\n\n\tstruct nfp_app *app;\n\tvoid (*link_cb)(struct nfp_port *port);\n\n\tstruct devlink_port dl_port;\n\n\tunion {\n\t\t \n\t\tstruct {\n\t\t\tunsigned int eth_id;\n\t\t\tbool eth_forced;\n\t\t\tstruct nfp_eth_table_port *eth_port;\n\t\t\tu8 __iomem *eth_stats;\n\t\t\tDECLARE_BITMAP(speed_bitmap, NFP_SUP_SPEED_NUMBER);\n\t\t};\n\t\t \n\t\tstruct {\n\t\t\tunsigned int pf_id;\n\t\t\tunsigned int vf_id;\n\t\t\tbool pf_split;\n\t\t\tunsigned int pf_split_id;\n\t\t\tu8 __iomem *vnic;\n\t\t};\n\t};\n\n\tstruct list_head port_list;\n};\n\nextern const struct ethtool_ops nfp_port_ethtool_ops;\n\nint nfp_port_setup_tc(struct net_device *netdev, enum tc_setup_type type,\n\t\t      void *type_data);\n\nstatic inline bool nfp_port_is_vnic(const struct nfp_port *port)\n{\n\treturn port->type == NFP_PORT_PF_PORT || port->type == NFP_PORT_VF_PORT;\n}\n\nint\nnfp_port_set_features(struct net_device *netdev, netdev_features_t features);\n\nstruct nfp_port *nfp_port_from_netdev(struct net_device *netdev);\nint nfp_port_get_port_parent_id(struct net_device *netdev,\n\t\t\t\tstruct netdev_phys_item_id *ppid);\nstruct nfp_eth_table_port *__nfp_port_get_eth_port(struct nfp_port *port);\nstruct nfp_eth_table_port *nfp_port_get_eth_port(struct nfp_port *port);\n\nint\nnfp_port_get_phys_port_name(struct net_device *netdev, char *name, size_t len);\nint nfp_port_configure(struct net_device *netdev, bool configed);\n\nstruct nfp_port *\nnfp_port_alloc(struct nfp_app *app, enum nfp_port_type type,\n\t       struct net_device *netdev);\nvoid nfp_port_free(struct nfp_port *port);\n\nint nfp_port_init_phy_port(struct nfp_pf *pf, struct nfp_app *app,\n\t\t\t   struct nfp_port *port, unsigned int id);\n\nint nfp_net_refresh_eth_port(struct nfp_port *port);\nvoid nfp_net_refresh_port_table(struct nfp_port *port);\nint nfp_net_refresh_port_table_sync(struct nfp_pf *pf);\n\nint nfp_devlink_port_register(struct nfp_app *app, struct nfp_port *port);\nvoid nfp_devlink_port_unregister(struct nfp_port *port);\n\n \n#define NFP_MAC_STATS_BASE                0x0000\n#define NFP_MAC_STATS_SIZE                0x0200\n\n#define NFP_MAC_STATS_RX_IN_OCTETS\t\t\t(NFP_MAC_STATS_BASE + 0x000)\n\t\t\t\t\t\t\t \n#define NFP_MAC_STATS_RX_FRAME_TOO_LONG_ERRORS\t\t(NFP_MAC_STATS_BASE + 0x010)\n#define NFP_MAC_STATS_RX_RANGE_LENGTH_ERRORS\t\t(NFP_MAC_STATS_BASE + 0x018)\n#define NFP_MAC_STATS_RX_VLAN_RECEIVED_OK\t\t(NFP_MAC_STATS_BASE + 0x020)\n#define NFP_MAC_STATS_RX_IN_ERRORS\t\t\t(NFP_MAC_STATS_BASE + 0x028)\n#define NFP_MAC_STATS_RX_IN_BROADCAST_PKTS\t\t(NFP_MAC_STATS_BASE + 0x030)\n#define NFP_MAC_STATS_RX_DROP_EVENTS\t\t\t(NFP_MAC_STATS_BASE + 0x038)\n#define NFP_MAC_STATS_RX_ALIGNMENT_ERRORS\t\t(NFP_MAC_STATS_BASE + 0x040)\n#define NFP_MAC_STATS_RX_PAUSE_MAC_CTRL_FRAMES\t\t(NFP_MAC_STATS_BASE + 0x048)\n#define NFP_MAC_STATS_RX_FRAMES_RECEIVED_OK\t\t(NFP_MAC_STATS_BASE + 0x050)\n#define NFP_MAC_STATS_RX_FRAME_CHECK_SEQUENCE_ERRORS\t(NFP_MAC_STATS_BASE + 0x058)\n#define NFP_MAC_STATS_RX_UNICAST_PKTS\t\t\t(NFP_MAC_STATS_BASE + 0x060)\n#define NFP_MAC_STATS_RX_MULTICAST_PKTS\t\t\t(NFP_MAC_STATS_BASE + 0x068)\n#define NFP_MAC_STATS_RX_PKTS\t\t\t\t(NFP_MAC_STATS_BASE + 0x070)\n#define NFP_MAC_STATS_RX_UNDERSIZE_PKTS\t\t\t(NFP_MAC_STATS_BASE + 0x078)\n#define NFP_MAC_STATS_RX_PKTS_64_OCTETS\t\t\t(NFP_MAC_STATS_BASE + 0x080)\n#define NFP_MAC_STATS_RX_PKTS_65_TO_127_OCTETS\t\t(NFP_MAC_STATS_BASE + 0x088)\n#define NFP_MAC_STATS_RX_PKTS_512_TO_1023_OCTETS\t(NFP_MAC_STATS_BASE + 0x090)\n#define NFP_MAC_STATS_RX_PKTS_1024_TO_1518_OCTETS\t(NFP_MAC_STATS_BASE + 0x098)\n#define NFP_MAC_STATS_RX_JABBERS\t\t\t(NFP_MAC_STATS_BASE + 0x0a0)\n#define NFP_MAC_STATS_RX_FRAGMENTS\t\t\t(NFP_MAC_STATS_BASE + 0x0a8)\n#define NFP_MAC_STATS_RX_PAUSE_FRAMES_CLASS2\t\t(NFP_MAC_STATS_BASE + 0x0b0)\n#define NFP_MAC_STATS_RX_PAUSE_FRAMES_CLASS3\t\t(NFP_MAC_STATS_BASE + 0x0b8)\n#define NFP_MAC_STATS_RX_PKTS_128_TO_255_OCTETS\t\t(NFP_MAC_STATS_BASE + 0x0c0)\n#define NFP_MAC_STATS_RX_PKTS_256_TO_511_OCTETS\t\t(NFP_MAC_STATS_BASE + 0x0c8)\n#define NFP_MAC_STATS_RX_PKTS_1519_TO_MAX_OCTETS\t(NFP_MAC_STATS_BASE + 0x0d0)\n#define NFP_MAC_STATS_RX_OVERSIZE_PKTS\t\t\t(NFP_MAC_STATS_BASE + 0x0d8)\n#define NFP_MAC_STATS_RX_PAUSE_FRAMES_CLASS0\t\t(NFP_MAC_STATS_BASE + 0x0e0)\n#define NFP_MAC_STATS_RX_PAUSE_FRAMES_CLASS1\t\t(NFP_MAC_STATS_BASE + 0x0e8)\n#define NFP_MAC_STATS_RX_PAUSE_FRAMES_CLASS4\t\t(NFP_MAC_STATS_BASE + 0x0f0)\n#define NFP_MAC_STATS_RX_PAUSE_FRAMES_CLASS5\t\t(NFP_MAC_STATS_BASE + 0x0f8)\n#define NFP_MAC_STATS_RX_PAUSE_FRAMES_CLASS6\t\t(NFP_MAC_STATS_BASE + 0x100)\n#define NFP_MAC_STATS_RX_PAUSE_FRAMES_CLASS7\t\t(NFP_MAC_STATS_BASE + 0x108)\n#define NFP_MAC_STATS_RX_MAC_CTRL_FRAMES_RECEIVED\t(NFP_MAC_STATS_BASE + 0x110)\n#define NFP_MAC_STATS_RX_MAC_HEAD_DROP\t\t\t(NFP_MAC_STATS_BASE + 0x118)\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t \n#define NFP_MAC_STATS_TX_QUEUE_DROP\t\t\t(NFP_MAC_STATS_BASE + 0x138)\n#define NFP_MAC_STATS_TX_OUT_OCTETS\t\t\t(NFP_MAC_STATS_BASE + 0x140)\n\t\t\t\t\t\t\t \n#define NFP_MAC_STATS_TX_VLAN_TRANSMITTED_OK\t\t(NFP_MAC_STATS_BASE + 0x150)\n#define NFP_MAC_STATS_TX_OUT_ERRORS\t\t\t(NFP_MAC_STATS_BASE + 0x158)\n#define NFP_MAC_STATS_TX_BROADCAST_PKTS\t\t\t(NFP_MAC_STATS_BASE + 0x160)\n#define NFP_MAC_STATS_TX_PKTS_64_OCTETS\t\t\t(NFP_MAC_STATS_BASE + 0x168)\n#define NFP_MAC_STATS_TX_PKTS_256_TO_511_OCTETS\t\t(NFP_MAC_STATS_BASE + 0x170)\n#define NFP_MAC_STATS_TX_PKTS_512_TO_1023_OCTETS\t(NFP_MAC_STATS_BASE + 0x178)\n#define NFP_MAC_STATS_TX_PAUSE_MAC_CTRL_FRAMES\t\t(NFP_MAC_STATS_BASE + 0x180)\n#define NFP_MAC_STATS_TX_FRAMES_TRANSMITTED_OK\t\t(NFP_MAC_STATS_BASE + 0x188)\n#define NFP_MAC_STATS_TX_UNICAST_PKTS\t\t\t(NFP_MAC_STATS_BASE + 0x190)\n#define NFP_MAC_STATS_TX_MULTICAST_PKTS\t\t\t(NFP_MAC_STATS_BASE + 0x198)\n#define NFP_MAC_STATS_TX_PKTS_65_TO_127_OCTETS\t\t(NFP_MAC_STATS_BASE + 0x1a0)\n#define NFP_MAC_STATS_TX_PKTS_128_TO_255_OCTETS\t\t(NFP_MAC_STATS_BASE + 0x1a8)\n#define NFP_MAC_STATS_TX_PKTS_1024_TO_1518_OCTETS\t(NFP_MAC_STATS_BASE + 0x1b0)\n#define NFP_MAC_STATS_TX_PKTS_1519_TO_MAX_OCTETS\t(NFP_MAC_STATS_BASE + 0x1b8)\n#define NFP_MAC_STATS_TX_PAUSE_FRAMES_CLASS0\t\t(NFP_MAC_STATS_BASE + 0x1c0)\n#define NFP_MAC_STATS_TX_PAUSE_FRAMES_CLASS1\t\t(NFP_MAC_STATS_BASE + 0x1c8)\n#define NFP_MAC_STATS_TX_PAUSE_FRAMES_CLASS4\t\t(NFP_MAC_STATS_BASE + 0x1d0)\n#define NFP_MAC_STATS_TX_PAUSE_FRAMES_CLASS5\t\t(NFP_MAC_STATS_BASE + 0x1d8)\n#define NFP_MAC_STATS_TX_PAUSE_FRAMES_CLASS2\t\t(NFP_MAC_STATS_BASE + 0x1e0)\n#define NFP_MAC_STATS_TX_PAUSE_FRAMES_CLASS3\t\t(NFP_MAC_STATS_BASE + 0x1e8)\n#define NFP_MAC_STATS_TX_PAUSE_FRAMES_CLASS6\t\t(NFP_MAC_STATS_BASE + 0x1f0)\n#define NFP_MAC_STATS_TX_PAUSE_FRAMES_CLASS7\t\t(NFP_MAC_STATS_BASE + 0x1f8)\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}