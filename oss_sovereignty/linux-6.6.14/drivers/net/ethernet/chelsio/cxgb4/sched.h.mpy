{
  "module_name": "sched.h",
  "hash_id": "f9e6c253888f6f06c7ccfa7bd0280f244396812004160e21e8ab2765622b3502",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/chelsio/cxgb4/sched.h",
  "human_readable_source": " \n\n#ifndef __CXGB4_SCHED_H\n#define __CXGB4_SCHED_H\n\n#include <linux/spinlock.h>\n#include <linux/atomic.h>\n\n#define SCHED_CLS_NONE 0xff\n\n#define FW_SCHED_CLS_NONE 0xffffffff\n\n \n#define SCHED_MAX_RATE_KBPS 100000000U\n\nenum {\n\tSCHED_STATE_ACTIVE,\n\tSCHED_STATE_UNUSED,\n};\n\nenum sched_fw_ops {\n\tSCHED_FW_OP_ADD,\n\tSCHED_FW_OP_DEL,\n};\n\nenum sched_bind_type {\n\tSCHED_QUEUE,\n\tSCHED_FLOWC,\n};\n\nstruct sched_queue_entry {\n\tstruct list_head list;\n\tunsigned int cntxt_id;\n\tstruct ch_sched_queue param;\n};\n\nstruct sched_flowc_entry {\n\tstruct list_head list;\n\tstruct ch_sched_flowc param;\n};\n\nstruct sched_class {\n\tu8 state;\n\tu8 idx;\n\tstruct ch_sched_params info;\n\tenum sched_bind_type bind_type;\n\tstruct list_head entry_list;\n\tatomic_t refcnt;\n};\n\nstruct sched_table {       \n\tu8 sched_size;\n\tstruct sched_class tab[];\n};\n\nstatic inline bool can_sched(struct net_device *dev)\n{\n\tstruct port_info *pi = netdev2pinfo(dev);\n\n\treturn !pi->sched_tbl ? false : true;\n}\n\nstatic inline bool valid_class_id(struct net_device *dev, u8 class_id)\n{\n\tstruct port_info *pi = netdev2pinfo(dev);\n\n\tif ((class_id > pi->sched_tbl->sched_size - 1) &&\n\t    (class_id != SCHED_CLS_NONE))\n\t\treturn false;\n\n\treturn true;\n}\n\nstruct sched_class *cxgb4_sched_queue_lookup(struct net_device *dev,\n\t\t\t\t\t     struct ch_sched_queue *p);\nint cxgb4_sched_class_bind(struct net_device *dev, void *arg,\n\t\t\t   enum sched_bind_type type);\nint cxgb4_sched_class_unbind(struct net_device *dev, void *arg,\n\t\t\t     enum sched_bind_type type);\n\nstruct sched_class *cxgb4_sched_class_alloc(struct net_device *dev,\n\t\t\t\t\t    struct ch_sched_params *p);\nvoid cxgb4_sched_class_free(struct net_device *dev, u8 classid);\n\nstruct sched_table *t4_init_sched(unsigned int size);\nvoid t4_cleanup_sched(struct adapter *adap);\n#endif   \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}