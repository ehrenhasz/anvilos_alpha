{
  "module_name": "mtk_eth_soc.h",
  "hash_id": "4e556ffd70a75fdd71ef7ae489412ae6c75bffd70278dfd358c4c2f3dec26fbc",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/mediatek/mtk_eth_soc.h",
  "human_readable_source": " \n \n\n#ifndef MTK_ETH_H\n#define MTK_ETH_H\n\n#include <linux/dma-mapping.h>\n#include <linux/netdevice.h>\n#include <linux/of_net.h>\n#include <linux/u64_stats_sync.h>\n#include <linux/refcount.h>\n#include <linux/phylink.h>\n#include <linux/rhashtable.h>\n#include <linux/dim.h>\n#include <linux/bitfield.h>\n#include <net/page_pool/types.h>\n#include <linux/bpf_trace.h>\n#include \"mtk_ppe.h\"\n\n#define MTK_MAX_DSA_PORTS\t7\n#define MTK_DSA_PORT_MASK\tGENMASK(2, 0)\n\n#define MTK_QDMA_NUM_QUEUES\t16\n#define MTK_QDMA_PAGE_SIZE\t2048\n#define MTK_MAX_RX_LENGTH\t1536\n#define MTK_MAX_RX_LENGTH_2K\t2048\n#define MTK_TX_DMA_BUF_LEN\t0x3fff\n#define MTK_TX_DMA_BUF_LEN_V2\t0xffff\n#define MTK_QDMA_RING_SIZE\t2048\n#define MTK_DMA_SIZE\t\t512\n#define MTK_RX_ETH_HLEN\t\t(ETH_HLEN + ETH_FCS_LEN)\n#define MTK_RX_HLEN\t\t(NET_SKB_PAD + MTK_RX_ETH_HLEN + NET_IP_ALIGN)\n#define MTK_DMA_DUMMY_DESC\t0xffffffff\n#define MTK_DEFAULT_MSG_ENABLE\t(NETIF_MSG_DRV | \\\n\t\t\t\t NETIF_MSG_PROBE | \\\n\t\t\t\t NETIF_MSG_LINK | \\\n\t\t\t\t NETIF_MSG_TIMER | \\\n\t\t\t\t NETIF_MSG_IFDOWN | \\\n\t\t\t\t NETIF_MSG_IFUP | \\\n\t\t\t\t NETIF_MSG_RX_ERR | \\\n\t\t\t\t NETIF_MSG_TX_ERR)\n#define MTK_HW_FEATURES\t\t(NETIF_F_IP_CSUM | \\\n\t\t\t\t NETIF_F_RXCSUM | \\\n\t\t\t\t NETIF_F_HW_VLAN_CTAG_TX | \\\n\t\t\t\t NETIF_F_SG | NETIF_F_TSO | \\\n\t\t\t\t NETIF_F_TSO6 | \\\n\t\t\t\t NETIF_F_IPV6_CSUM |\\\n\t\t\t\t NETIF_F_HW_TC)\n#define MTK_HW_FEATURES_MT7628\t(NETIF_F_SG | NETIF_F_RXCSUM)\n#define NEXT_DESP_IDX(X, Y)\t(((X) + 1) & ((Y) - 1))\n\n#define MTK_PP_HEADROOM\t\tXDP_PACKET_HEADROOM\n#define MTK_PP_PAD\t\t(MTK_PP_HEADROOM + \\\n\t\t\t\t SKB_DATA_ALIGN(sizeof(struct skb_shared_info)))\n#define MTK_PP_MAX_BUF_SIZE\t(PAGE_SIZE - MTK_PP_PAD)\n\n#define MTK_QRX_OFFSET\t\t0x10\n\n#define MTK_MAX_RX_RING_NUM\t4\n#define MTK_HW_LRO_DMA_SIZE\t8\n\n#define\tMTK_MAX_LRO_RX_LENGTH\t\t(4096 * 3)\n#define\tMTK_MAX_LRO_IP_CNT\t\t2\n#define\tMTK_HW_LRO_TIMER_UNIT\t\t1\t \n#define\tMTK_HW_LRO_REFRESH_TIME\t\t50000\t \n#define\tMTK_HW_LRO_AGG_TIME\t\t10\t \n#define\tMTK_HW_LRO_AGE_TIME\t\t50\t \n#define\tMTK_HW_LRO_MAX_AGG_CNT\t\t64\n#define\tMTK_HW_LRO_BW_THRE\t\t3000\n#define\tMTK_HW_LRO_REPLACE_DELTA\t1000\n#define\tMTK_HW_LRO_SDL_REMAIN_ROOM\t1522\n\n \n#define MTK_FE_GLO_CFG(x)\t(((x) == MTK_GMAC3_ID) ? 0x24 : 0x00)\n#define MTK_FE_LINK_DOWN_P(x)\tBIT(((x) + 8) % 16)\n\n \n#define MTK_RST_GL\t\t0x04\n#define RST_GL_PSE\t\tBIT(0)\n\n \n#define MTK_INT_STATUS2\t\t0x08\n#define MTK_FE_INT_ENABLE\t0x0c\n#define MTK_FE_INT_FQ_EMPTY\tBIT(8)\n#define MTK_FE_INT_TSO_FAIL\tBIT(12)\n#define MTK_FE_INT_TSO_ILLEGAL\tBIT(13)\n#define MTK_FE_INT_TSO_ALIGN\tBIT(14)\n#define MTK_FE_INT_RFIFO_OV\tBIT(18)\n#define MTK_FE_INT_RFIFO_UF\tBIT(19)\n#define MTK_GDM1_AF\t\tBIT(28)\n#define MTK_GDM2_AF\t\tBIT(29)\n\n \n#define MTK_PDMA_LRO_ALT_REFRESH_TIMER\t0x1c\n\n \n#define MTK_FE_INT_GRP\t\t0x20\n\n \n#define MTK_CDMQ_IG_CTRL\t0x1400\n#define MTK_CDMQ_STAG_EN\tBIT(0)\n\n \n#define MTK_CDMQ_EG_CTRL\t0x1404\n\n \n#define MTK_CDMP_IG_CTRL\t0x400\n#define MTK_CDMP_STAG_EN\tBIT(0)\n\n \n#define MTK_CDMP_EG_CTRL\t0x404\n\n \n#define MTK_GDMA_FWD_CFG(x)\t({ typeof(x) _x = (x); (_x == MTK_GMAC3_ID) ?\t\\\n\t\t\t\t   0x540 : 0x500 + (_x * 0x1000); })\n#define MTK_GDMA_SPECIAL_TAG\tBIT(24)\n#define MTK_GDMA_ICS_EN\t\tBIT(22)\n#define MTK_GDMA_TCS_EN\t\tBIT(21)\n#define MTK_GDMA_UCS_EN\t\tBIT(20)\n#define MTK_GDMA_STRP_CRC\tBIT(16)\n#define MTK_GDMA_TO_PDMA\t0x0\n#define MTK_GDMA_DROP_ALL       0x7777\n\n \n#define MTK_GDMA_EG_CTRL(x)\t({ typeof(x) _x = (x); (_x == MTK_GMAC3_ID) ?\t\\\n\t\t\t\t   0x544 : 0x504 + (_x * 0x1000); })\n#define MTK_GDMA_XGDM_SEL\tBIT(31)\n\n \n#define MTK_GDMA_MAC_ADRL(x)\t({ typeof(x) _x = (x); (_x == MTK_GMAC3_ID) ?\t\\\n\t\t\t\t   0x548 : 0x508 + (_x * 0x1000); })\n\n \n#define MTK_GDMA_MAC_ADRH(x)\t({ typeof(x) _x = (x); (_x == MTK_GMAC3_ID) ?\t\\\n\t\t\t\t   0x54C : 0x50C + (_x * 0x1000); })\n\n \n#define MTK_ETH_SRAM_OFFSET\t0x40000\n\n \n#define MTK_FE_GLO_MISC         0x124\n\n \n#define PSE_FQFC_CFG1\t\t0x100\n#define PSE_FQFC_CFG2\t\t0x104\n#define PSE_DROP_CFG\t\t0x108\n#define PSE_PPE0_DROP\t\t0x110\n\n \n#define PSE_IQ_REV(x)\t\t(0x140 + (((x) - 1) << 2))\n\n \n#define PSE_OQ_TH(x)\t\t(0x160 + (((x) - 1) << 2))\n\n \n#define MTK_GDM2_THRES\t\t0x1530\n#define MTK_CDMW0_THRES\t\t0x164c\n#define MTK_CDMW1_THRES\t\t0x1650\n#define MTK_CDME0_THRES\t\t0x1654\n#define MTK_CDME1_THRES\t\t0x1658\n#define MTK_CDMM_THRES\t\t0x165c\n\n \n#define MTK_PDMA_LRO_CTRL_DW0\t0x980\n#define MTK_LRO_EN\t\t\tBIT(0)\n#define MTK_L3_CKS_UPD_EN\t\tBIT(7)\n#define MTK_L3_CKS_UPD_EN_V2\t\tBIT(19)\n#define MTK_LRO_ALT_PKT_CNT_MODE\tBIT(21)\n#define MTK_LRO_RING_RELINQUISH_REQ\t(0x7 << 26)\n#define MTK_LRO_RING_RELINQUISH_REQ_V2\t(0xf << 24)\n#define MTK_LRO_RING_RELINQUISH_DONE\t(0x7 << 29)\n#define MTK_LRO_RING_RELINQUISH_DONE_V2\t(0xf << 28)\n\n#define MTK_PDMA_LRO_CTRL_DW1\t0x984\n#define MTK_PDMA_LRO_CTRL_DW2\t0x988\n#define MTK_PDMA_LRO_CTRL_DW3\t0x98c\n#define MTK_ADMA_MODE\t\tBIT(15)\n#define MTK_LRO_MIN_RXD_SDL\t(MTK_HW_LRO_SDL_REMAIN_ROOM << 16)\n\n#define MTK_RX_DMA_LRO_EN\tBIT(8)\n#define MTK_MULTI_EN\t\tBIT(10)\n#define MTK_PDMA_SIZE_8DWORDS\t(1 << 4)\n\n \n#define MTK_PDMA_LRO_SDL\t0x3000\n#define MTK_RX_CFG_SDL_OFFSET\t16\n\n \n#define MTK_PST_DRX_IDX0\tBIT(16)\n#define MTK_PST_DRX_IDX_CFG(x)\t(MTK_PST_DRX_IDX0 << (x))\n\n \n#define MTK_PDMA_DELAY_RX_MASK\t\tGENMASK(15, 0)\n#define MTK_PDMA_DELAY_RX_EN\t\tBIT(15)\n#define MTK_PDMA_DELAY_RX_PINT_SHIFT\t8\n#define MTK_PDMA_DELAY_RX_PTIME_SHIFT\t0\n\n#define MTK_PDMA_DELAY_TX_MASK\t\tGENMASK(31, 16)\n#define MTK_PDMA_DELAY_TX_EN\t\tBIT(31)\n#define MTK_PDMA_DELAY_TX_PINT_SHIFT\t24\n#define MTK_PDMA_DELAY_TX_PTIME_SHIFT\t16\n\n#define MTK_PDMA_DELAY_PINT_MASK\t0x7f\n#define MTK_PDMA_DELAY_PTIME_MASK\t0xff\n\n \n#define MTK_PDMA_LRO_ALT_SCORE_DELTA\t0xa4c\n\n \n#define MTK_LRO_RX_RING0_DIP_DW0\t0xb04\n#define MTK_LRO_DIP_DW0_CFG(x)\t\t(MTK_LRO_RX_RING0_DIP_DW0 + (x * 0x40))\n#define MTK_RING_MYIP_VLD\t\tBIT(9)\n\n \n#define MTK_LRO_RX_RING0_CTRL_DW1\t0xb28\n#define MTK_LRO_RX_RING0_CTRL_DW2\t0xb2c\n#define MTK_LRO_RX_RING0_CTRL_DW3\t0xb30\n#define MTK_LRO_CTRL_DW1_CFG(x)\t\t(MTK_LRO_RX_RING0_CTRL_DW1 + (x * 0x40))\n#define MTK_LRO_CTRL_DW2_CFG(x)\t\t(MTK_LRO_RX_RING0_CTRL_DW2 + (x * 0x40))\n#define MTK_LRO_CTRL_DW3_CFG(x)\t\t(MTK_LRO_RX_RING0_CTRL_DW3 + (x * 0x40))\n#define MTK_RING_AGE_TIME_L\t\t((MTK_HW_LRO_AGE_TIME & 0x3ff) << 22)\n#define MTK_RING_AGE_TIME_H\t\t((MTK_HW_LRO_AGE_TIME >> 10) & 0x3f)\n#define MTK_RING_AUTO_LERAN_MODE\t(3 << 6)\n#define MTK_RING_VLD\t\t\tBIT(8)\n#define MTK_RING_MAX_AGG_TIME\t\t((MTK_HW_LRO_AGG_TIME & 0xffff) << 10)\n#define MTK_RING_MAX_AGG_CNT_L\t\t((MTK_HW_LRO_MAX_AGG_CNT & 0x3f) << 26)\n#define MTK_RING_MAX_AGG_CNT_H\t\t((MTK_HW_LRO_MAX_AGG_CNT >> 6) & 0x3)\n\n \n#define MTK_QTX_OFFSET\t\t0x10\n#define QDMA_RES_THRES\t\t4\n\n \n#define MTK_QTX_SCH_TX_SEL\t\tBIT(31)\n#define MTK_QTX_SCH_TX_SEL_V2\t\tGENMASK(31, 30)\n\n#define MTK_QTX_SCH_LEAKY_BUCKET_EN\tBIT(30)\n#define MTK_QTX_SCH_LEAKY_BUCKET_SIZE\tGENMASK(29, 28)\n#define MTK_QTX_SCH_MIN_RATE_EN\t\tBIT(27)\n#define MTK_QTX_SCH_MIN_RATE_MAN\tGENMASK(26, 20)\n#define MTK_QTX_SCH_MIN_RATE_EXP\tGENMASK(19, 16)\n#define MTK_QTX_SCH_MAX_RATE_WEIGHT\tGENMASK(15, 12)\n#define MTK_QTX_SCH_MAX_RATE_EN\t\tBIT(11)\n#define MTK_QTX_SCH_MAX_RATE_MAN\tGENMASK(10, 4)\n#define MTK_QTX_SCH_MAX_RATE_EXP\tGENMASK(3, 0)\n\n \n#define MTK_QDMA_TX_SCH_MAX_WFQ\t\tBIT(15)\n\n \n#define MTK_RX_2B_OFFSET\tBIT(31)\n#define MTK_RX_BT_32DWORDS\t(3 << 11)\n#define MTK_NDP_CO_PRO\t\tBIT(10)\n#define MTK_TX_WB_DDONE\t\tBIT(6)\n#define MTK_TX_BT_32DWORDS\t(3 << 4)\n#define MTK_RX_DMA_BUSY\t\tBIT(3)\n#define MTK_TX_DMA_BUSY\t\tBIT(1)\n#define MTK_RX_DMA_EN\t\tBIT(2)\n#define MTK_TX_DMA_EN\t\tBIT(0)\n#define MTK_DMA_BUSY_TIMEOUT_US\t1000000\n\n \n#define MTK_CHK_DDONE_EN\tBIT(28)\n#define MTK_DMAD_WR_WDONE\tBIT(26)\n#define MTK_WCOMP_EN\t\tBIT(24)\n#define MTK_RESV_BUF\t\t(0x40 << 16)\n#define MTK_MUTLI_CNT\t\t(0x4 << 12)\n#define MTK_LEAKY_BUCKET_EN\tBIT(11)\n\n \n#define FC_THRES_DROP_MODE\tBIT(20)\n#define FC_THRES_DROP_EN\t(7 << 16)\n#define FC_THRES_MIN\t\t0x4444\n\n \n#define MTK_RX_DONE_DLY\t\tBIT(30)\n#define MTK_TX_DONE_DLY\t\tBIT(28)\n#define MTK_RX_DONE_INT3\tBIT(19)\n#define MTK_RX_DONE_INT2\tBIT(18)\n#define MTK_RX_DONE_INT1\tBIT(17)\n#define MTK_RX_DONE_INT0\tBIT(16)\n#define MTK_TX_DONE_INT3\tBIT(3)\n#define MTK_TX_DONE_INT2\tBIT(2)\n#define MTK_TX_DONE_INT1\tBIT(1)\n#define MTK_TX_DONE_INT0\tBIT(0)\n#define MTK_RX_DONE_INT\t\tMTK_RX_DONE_DLY\n#define MTK_TX_DONE_INT\t\tMTK_TX_DONE_DLY\n\n#define MTK_RX_DONE_INT_V2\tBIT(14)\n\n#define MTK_CDM_TXFIFO_RDY\tBIT(7)\n\n \n#define MTK_RLS_DONE_INT\tBIT(0)\n\n \n#define QID_BITS_V2(x)\t\t(((x) & 0x3f) << 16)\n#define MTK_QDMA_GMAC2_QID\t8\n\n#define MTK_TX_DMA_BUF_SHIFT\t8\n\n \n#define TX_DMA_INS_VLAN_V2\tBIT(16)\n \n#define TX_DMA_CHKSUM_V2\t(0x7 << 28)\n#define TX_DMA_TSO_V2\t\tBIT(31)\n\n#define TX_DMA_SPTAG_V3         BIT(27)\n\n \n#define TX_DMA_FPORT_SHIFT_V2\t8\n#define TX_DMA_FPORT_MASK_V2\t0xf\n#define TX_DMA_SWC_V2\t\tBIT(30)\n\n \n#define TX_DMA_CHKSUM\t\t(0x7 << 29)\n#define TX_DMA_TSO\t\tBIT(28)\n#define TX_DMA_FPORT_SHIFT\t25\n#define TX_DMA_FPORT_MASK\t0x7\n#define TX_DMA_INS_VLAN\t\tBIT(16)\n\n \n#define TX_DMA_OWNER_CPU\tBIT(31)\n#define TX_DMA_LS0\t\tBIT(30)\n#define TX_DMA_PLEN0(x)\t\t(((x) & eth->soc->txrx.dma_max_len) << eth->soc->txrx.dma_len_offset)\n#define TX_DMA_PLEN1(x)\t\t((x) & eth->soc->txrx.dma_max_len)\n#define TX_DMA_SWC\t\tBIT(14)\n#define TX_DMA_PQID\t\tGENMASK(3, 0)\n#define TX_DMA_ADDR64_MASK\tGENMASK(3, 0)\n#if IS_ENABLED(CONFIG_64BIT)\n# define TX_DMA_GET_ADDR64(x)\t(((u64)FIELD_GET(TX_DMA_ADDR64_MASK, (x))) << 32)\n# define TX_DMA_PREP_ADDR64(x)\tFIELD_PREP(TX_DMA_ADDR64_MASK, ((x) >> 32))\n#else\n# define TX_DMA_GET_ADDR64(x)\t(0)\n# define TX_DMA_PREP_ADDR64(x)\t(0)\n#endif\n\n \n#define TX_DMA_DONE\t\tBIT(31)\n#define TX_DMA_LS1\t\tBIT(14)\n#define TX_DMA_DESP2_DEF\t(TX_DMA_LS0 | TX_DMA_DONE)\n\n \n#define RX_DMA_DONE\t\tBIT(31)\n#define RX_DMA_LSO\t\tBIT(30)\n#define RX_DMA_PREP_PLEN0(x)\t(((x) & eth->soc->txrx.dma_max_len) << eth->soc->txrx.dma_len_offset)\n#define RX_DMA_GET_PLEN0(x)\t(((x) >> eth->soc->txrx.dma_len_offset) & eth->soc->txrx.dma_max_len)\n#define RX_DMA_VTAG\t\tBIT(15)\n#define RX_DMA_ADDR64_MASK\tGENMASK(3, 0)\n#if IS_ENABLED(CONFIG_64BIT)\n# define RX_DMA_GET_ADDR64(x)\t(((u64)FIELD_GET(RX_DMA_ADDR64_MASK, (x))) << 32)\n# define RX_DMA_PREP_ADDR64(x)\tFIELD_PREP(RX_DMA_ADDR64_MASK, ((x) >> 32))\n#else\n# define RX_DMA_GET_ADDR64(x)\t(0)\n# define RX_DMA_PREP_ADDR64(x)\t(0)\n#endif\n\n \n#define RX_DMA_VID(x)\t\t((x) & VLAN_VID_MASK)\n#define RX_DMA_TCI(x)\t\t((x) & (VLAN_PRIO_MASK | VLAN_VID_MASK))\n#define RX_DMA_VPID(x)\t\t(((x) >> 16) & 0xffff)\n\n \n#define MTK_RXD4_FOE_ENTRY\tGENMASK(13, 0)\n#define MTK_RXD4_PPE_CPU_REASON\tGENMASK(18, 14)\n#define MTK_RXD4_SRC_PORT\tGENMASK(21, 19)\n#define MTK_RXD4_ALG\t\tGENMASK(31, 22)\n\n \n#define RX_DMA_L4_VALID\t\tBIT(24)\n#define RX_DMA_L4_VALID_PDMA\tBIT(30)\t\t \n#define RX_DMA_SPECIAL_TAG\tBIT(22)\n\n \n#define MTK_RXD5_FOE_ENTRY\tGENMASK(14, 0)\n#define MTK_RXD5_PPE_CPU_REASON\tGENMASK(22, 18)\n#define MTK_RXD5_SRC_PORT\tGENMASK(29, 26)\n\n#define RX_DMA_GET_SPORT(x)\t(((x) >> 19) & 0x7)\n#define RX_DMA_GET_SPORT_V2(x)\t(((x) >> 26) & 0xf)\n\n \n#define RX_DMA_VTAG_V2\t\tBIT(0)\n#define RX_DMA_L4_VALID_V2\tBIT(2)\n\n \n#define MTK_PPSC\t\t0x10000\n#define PPSC_MDC_CFG\t\tGENMASK(29, 24)\n#define PPSC_MDC_TURBO\t\tBIT(20)\n#define MDC_MAX_FREQ\t\t25000000\n#define MDC_MAX_DIVIDER\t\t63\n\n \n#define MTK_PHY_IAC\t\t0x10004\n#define PHY_IAC_ACCESS\t\tBIT(31)\n#define PHY_IAC_REG_MASK\tGENMASK(29, 25)\n#define PHY_IAC_REG(x)\t\tFIELD_PREP(PHY_IAC_REG_MASK, (x))\n#define PHY_IAC_ADDR_MASK\tGENMASK(24, 20)\n#define PHY_IAC_ADDR(x)\t\tFIELD_PREP(PHY_IAC_ADDR_MASK, (x))\n#define PHY_IAC_CMD_MASK\tGENMASK(19, 18)\n#define PHY_IAC_CMD_C45_ADDR\tFIELD_PREP(PHY_IAC_CMD_MASK, 0)\n#define PHY_IAC_CMD_WRITE\tFIELD_PREP(PHY_IAC_CMD_MASK, 1)\n#define PHY_IAC_CMD_C22_READ\tFIELD_PREP(PHY_IAC_CMD_MASK, 2)\n#define PHY_IAC_CMD_C45_READ\tFIELD_PREP(PHY_IAC_CMD_MASK, 3)\n#define PHY_IAC_START_MASK\tGENMASK(17, 16)\n#define PHY_IAC_START_C45\tFIELD_PREP(PHY_IAC_START_MASK, 0)\n#define PHY_IAC_START_C22\tFIELD_PREP(PHY_IAC_START_MASK, 1)\n#define PHY_IAC_DATA_MASK\tGENMASK(15, 0)\n#define PHY_IAC_DATA(x)\t\tFIELD_PREP(PHY_IAC_DATA_MASK, (x))\n#define PHY_IAC_TIMEOUT\t\tHZ\n\n#define MTK_MAC_MISC\t\t0x1000c\n#define MTK_MAC_MISC_V3\t\t0x10010\n#define MTK_MUX_TO_ESW\t\tBIT(0)\n#define MISC_MDC_TURBO\t\tBIT(4)\n\n \n#define MTK_XGMAC_STS(x)\t(((x) == MTK_GMAC3_ID) ? 0x1001C : 0x1000C)\n#define MTK_XGMAC_FORCE_LINK(x)\t(((x) == MTK_GMAC2_ID) ? BIT(31) : BIT(15))\n#define MTK_USXGMII_PCS_LINK\tBIT(8)\n#define MTK_XGMAC_RX_FC\t\tBIT(5)\n#define MTK_XGMAC_TX_FC\t\tBIT(4)\n#define MTK_USXGMII_PCS_MODE\tGENMASK(3, 1)\n#define MTK_XGMAC_LINK_STS\tBIT(0)\n\n \n#define MTK_GSW_CFG\t\t(0x10080)\n#define GSWTX_IPG_MASK\t\tGENMASK(19, 16)\n#define GSWTX_IPG_SHIFT\t\t16\n#define GSWRX_IPG_MASK\t\tGENMASK(3, 0)\n#define GSWRX_IPG_SHIFT\t\t0\n#define GSW_IPG_11\t\t11\n\n \n#define MTK_MAC_MCR(x)\t\t(0x10100 + (x * 0x100))\n#define MAC_MCR_MAX_RX_MASK\tGENMASK(25, 24)\n#define MAC_MCR_MAX_RX(_x)\t(MAC_MCR_MAX_RX_MASK & ((_x) << 24))\n#define MAC_MCR_MAX_RX_1518\t0x0\n#define MAC_MCR_MAX_RX_1536\t0x1\n#define MAC_MCR_MAX_RX_1552\t0x2\n#define MAC_MCR_MAX_RX_2048\t0x3\n#define MAC_MCR_IPG_CFG\t\t(BIT(18) | BIT(16))\n#define MAC_MCR_FORCE_MODE\tBIT(15)\n#define MAC_MCR_TX_EN\t\tBIT(14)\n#define MAC_MCR_RX_EN\t\tBIT(13)\n#define MAC_MCR_RX_FIFO_CLR_DIS\tBIT(12)\n#define MAC_MCR_BACKOFF_EN\tBIT(9)\n#define MAC_MCR_BACKPR_EN\tBIT(8)\n#define MAC_MCR_FORCE_RX_FC\tBIT(5)\n#define MAC_MCR_FORCE_TX_FC\tBIT(4)\n#define MAC_MCR_SPEED_1000\tBIT(3)\n#define MAC_MCR_SPEED_100\tBIT(2)\n#define MAC_MCR_FORCE_DPX\tBIT(1)\n#define MAC_MCR_FORCE_LINK\tBIT(0)\n#define MAC_MCR_FORCE_LINK_DOWN\t(MAC_MCR_FORCE_MODE)\n\n \n#define MTK_MAC_MSR(x)\t\t(0x10108 + (x * 0x100))\n#define MAC_MSR_EEE1G\t\tBIT(7)\n#define MAC_MSR_EEE100M\t\tBIT(6)\n#define MAC_MSR_RX_FC\t\tBIT(5)\n#define MAC_MSR_TX_FC\t\tBIT(4)\n#define MAC_MSR_SPEED_1000\tBIT(3)\n#define MAC_MSR_SPEED_100\tBIT(2)\n#define MAC_MSR_SPEED_MASK\t(MAC_MSR_SPEED_1000 | MAC_MSR_SPEED_100)\n#define MAC_MSR_DPX\t\tBIT(1)\n#define MAC_MSR_LINK\t\tBIT(0)\n\n \n#define TRGMII_RCK_CTRL\t\t0x10300\n#define DQSI0(x)\t\t((x << 0) & GENMASK(6, 0))\n#define DQSI1(x)\t\t((x << 8) & GENMASK(14, 8))\n#define RXCTL_DMWTLAT(x)\t((x << 16) & GENMASK(18, 16))\n#define RXC_RST\t\t\tBIT(31)\n#define RXC_DQSISEL\t\tBIT(30)\n#define RCK_CTRL_RGMII_1000\t(RXC_DQSISEL | RXCTL_DMWTLAT(2) | DQSI1(16))\n#define RCK_CTRL_RGMII_10_100\tRXCTL_DMWTLAT(2)\n\n#define NUM_TRGMII_CTRL\t\t5\n\n \n#define TRGMII_TCK_CTRL\t\t0x10340\n#define TXCTL_DMWTLAT(x)\t((x << 16) & GENMASK(18, 16))\n#define TXC_INV\t\t\tBIT(30)\n#define TCK_CTRL_RGMII_1000\tTXCTL_DMWTLAT(2)\n#define TCK_CTRL_RGMII_10_100\t(TXC_INV | TXCTL_DMWTLAT(2))\n\n \n#define TRGMII_TD_ODT(i)\t(0x10354 + 8 * (i))\n#define  TD_DM_DRVP(x)\t\t((x) & 0xf)\n#define  TD_DM_DRVN(x)\t\t(((x) & 0xf) << 4)\n\n \n#define INTF_MODE\t\t0x10390\n#define TRGMII_INTF_DIS\t\tBIT(0)\n#define TRGMII_MODE\t\tBIT(1)\n#define TRGMII_CENTRAL_ALIGNED\tBIT(2)\n#define INTF_MODE_RGMII_1000    (TRGMII_MODE | TRGMII_CENTRAL_ALIGNED)\n#define INTF_MODE_RGMII_10_100  0\n\n \n#define GPIO_OD33_CTRL8\t\t0x4c0\n#define GPIO_BIAS_CTRL\t\t0xed0\n#define GPIO_DRV_SEL10\t\t0xf00\n\n \n#define ETHSYS_CHIPID0_3\t0x0\n#define ETHSYS_CHIPID4_7\t0x4\n#define MT7623_ETH\t\t7623\n#define MT7622_ETH\t\t7622\n#define MT7621_ETH\t\t7621\n\n \n#define ETHSYS_SYSCFG\t\t0x10\n#define SYSCFG_DRAM_TYPE_DDR2\tBIT(4)\n\n \n#define ETHSYS_SYSCFG0\t\t0x14\n#define SYSCFG0_GE_MASK\t\t0x3\n#define SYSCFG0_GE_MODE(x, y)\t(x << (12 + (y * 2)))\n#define SYSCFG0_SGMII_MASK     GENMASK(9, 7)\n#define SYSCFG0_SGMII_GMAC1    ((2 << 8) & SYSCFG0_SGMII_MASK)\n#define SYSCFG0_SGMII_GMAC2    ((3 << 8) & SYSCFG0_SGMII_MASK)\n#define SYSCFG0_SGMII_GMAC1_V2 BIT(9)\n#define SYSCFG0_SGMII_GMAC2_V2 BIT(8)\n\n\n \n#define ETHSYS_CLKCFG0\t\t0x2c\n#define ETHSYS_TRGMII_CLK_SEL362_5\tBIT(11)\n#define ETHSYS_TRGMII_MT7621_MASK\t(BIT(5) | BIT(6))\n#define ETHSYS_TRGMII_MT7621_APLL\tBIT(6)\n#define ETHSYS_TRGMII_MT7621_DDR_PLL\tBIT(5)\n\n \n#define ETHSYS_RSTCTRL\t\t\t0x34\n#define RSTCTRL_FE\t\t\tBIT(6)\n#define RSTCTRL_WDMA0\t\t\tBIT(24)\n#define RSTCTRL_WDMA1\t\t\tBIT(25)\n#define RSTCTRL_WDMA2\t\t\tBIT(26)\n#define RSTCTRL_PPE0\t\t\tBIT(31)\n#define RSTCTRL_PPE0_V2\t\t\tBIT(30)\n#define RSTCTRL_PPE1\t\t\tBIT(31)\n#define RSTCTRL_PPE0_V3\t\t\tBIT(29)\n#define RSTCTRL_PPE1_V3\t\t\tBIT(30)\n#define RSTCTRL_PPE2\t\t\tBIT(31)\n#define RSTCTRL_ETH\t\t\tBIT(23)\n\n \n#define ETHSYS_FE_RST_CHK_IDLE_EN\t0x28\n\n \n#define ETHSYS_DMA_AG_MAP\t0x408\n#define ETHSYS_DMA_AG_MAP_PDMA\tBIT(0)\n#define ETHSYS_DMA_AG_MAP_QDMA\tBIT(1)\n#define ETHSYS_DMA_AG_MAP_PPE\tBIT(2)\n\n \n#define INFRA_MISC2            0x70c\n#define CO_QPHY_SEL            BIT(0)\n#define GEPHY_MAC_SEL          BIT(1)\n\n \n#define USB_PHY_SWITCH_REG\t0x218\n#define QPHY_SEL_MASK\t\tGENMASK(1, 0)\n#define SGMII_QPHY_SEL\t\t0x2\n\n \n#define MT7628_PDMA_OFFSET\t0x0800\n#define MT7628_SDM_OFFSET\t0x0c00\n\n#define MT7628_TX_BASE_PTR0\t(MT7628_PDMA_OFFSET + 0x00)\n#define MT7628_TX_MAX_CNT0\t(MT7628_PDMA_OFFSET + 0x04)\n#define MT7628_TX_CTX_IDX0\t(MT7628_PDMA_OFFSET + 0x08)\n#define MT7628_TX_DTX_IDX0\t(MT7628_PDMA_OFFSET + 0x0c)\n#define MT7628_PST_DTX_IDX0\tBIT(0)\n\n#define MT7628_SDM_MAC_ADRL\t(MT7628_SDM_OFFSET + 0x0c)\n#define MT7628_SDM_MAC_ADRH\t(MT7628_SDM_OFFSET + 0x10)\n\n \n#define MT7628_SDM_TPCNT\t(MT7628_SDM_OFFSET + 0x100)\n#define MT7628_SDM_TBCNT\t(MT7628_SDM_OFFSET + 0x104)\n#define MT7628_SDM_RPCNT\t(MT7628_SDM_OFFSET + 0x108)\n#define MT7628_SDM_RBCNT\t(MT7628_SDM_OFFSET + 0x10c)\n#define MT7628_SDM_CS_ERR\t(MT7628_SDM_OFFSET + 0x110)\n\n#define MTK_FE_CDM1_FSM\t\t0x220\n#define MTK_FE_CDM2_FSM\t\t0x224\n#define MTK_FE_CDM3_FSM\t\t0x238\n#define MTK_FE_CDM4_FSM\t\t0x298\n#define MTK_FE_CDM5_FSM\t\t0x318\n#define MTK_FE_CDM6_FSM\t\t0x328\n#define MTK_FE_GDM1_FSM\t\t0x228\n#define MTK_FE_GDM2_FSM\t\t0x22C\n\n#define MTK_MAC_FSM(x)\t\t(0x1010C + ((x) * 0x100))\n\nstruct mtk_rx_dma {\n\tunsigned int rxd1;\n\tunsigned int rxd2;\n\tunsigned int rxd3;\n\tunsigned int rxd4;\n} __packed __aligned(4);\n\nstruct mtk_rx_dma_v2 {\n\tunsigned int rxd1;\n\tunsigned int rxd2;\n\tunsigned int rxd3;\n\tunsigned int rxd4;\n\tunsigned int rxd5;\n\tunsigned int rxd6;\n\tunsigned int rxd7;\n\tunsigned int rxd8;\n} __packed __aligned(4);\n\nstruct mtk_tx_dma {\n\tunsigned int txd1;\n\tunsigned int txd2;\n\tunsigned int txd3;\n\tunsigned int txd4;\n} __packed __aligned(4);\n\nstruct mtk_tx_dma_v2 {\n\tunsigned int txd1;\n\tunsigned int txd2;\n\tunsigned int txd3;\n\tunsigned int txd4;\n\tunsigned int txd5;\n\tunsigned int txd6;\n\tunsigned int txd7;\n\tunsigned int txd8;\n} __packed __aligned(4);\n\nstruct mtk_eth;\nstruct mtk_mac;\n\nstruct mtk_xdp_stats {\n\tu64 rx_xdp_redirect;\n\tu64 rx_xdp_pass;\n\tu64 rx_xdp_drop;\n\tu64 rx_xdp_tx;\n\tu64 rx_xdp_tx_errors;\n\tu64 tx_xdp_xmit;\n\tu64 tx_xdp_xmit_errors;\n};\n\n \nstruct mtk_hw_stats {\n\tu64 tx_bytes;\n\tu64 tx_packets;\n\tu64 tx_skip;\n\tu64 tx_collisions;\n\tu64 rx_bytes;\n\tu64 rx_packets;\n\tu64 rx_overflow;\n\tu64 rx_fcs_errors;\n\tu64 rx_short_errors;\n\tu64 rx_long_errors;\n\tu64 rx_checksum_errors;\n\tu64 rx_flow_control_packets;\n\n\tstruct mtk_xdp_stats\txdp_stats;\n\n\tspinlock_t\t\tstats_lock;\n\tu32\t\t\treg_offset;\n\tstruct u64_stats_sync\tsyncp;\n};\n\nenum mtk_tx_flags {\n\t \n\tMTK_TX_FLAGS_SINGLE0\t= 0x01,\n\tMTK_TX_FLAGS_PAGE0\t= 0x02,\n};\n\n \nenum mtk_clks_map {\n\tMTK_CLK_ETHIF,\n\tMTK_CLK_SGMIITOP,\n\tMTK_CLK_ESW,\n\tMTK_CLK_GP0,\n\tMTK_CLK_GP1,\n\tMTK_CLK_GP2,\n\tMTK_CLK_GP3,\n\tMTK_CLK_XGP1,\n\tMTK_CLK_XGP2,\n\tMTK_CLK_XGP3,\n\tMTK_CLK_CRYPTO,\n\tMTK_CLK_FE,\n\tMTK_CLK_TRGPLL,\n\tMTK_CLK_SGMII_TX_250M,\n\tMTK_CLK_SGMII_RX_250M,\n\tMTK_CLK_SGMII_CDR_REF,\n\tMTK_CLK_SGMII_CDR_FB,\n\tMTK_CLK_SGMII2_TX_250M,\n\tMTK_CLK_SGMII2_RX_250M,\n\tMTK_CLK_SGMII2_CDR_REF,\n\tMTK_CLK_SGMII2_CDR_FB,\n\tMTK_CLK_SGMII_CK,\n\tMTK_CLK_ETH2PLL,\n\tMTK_CLK_WOCPU0,\n\tMTK_CLK_WOCPU1,\n\tMTK_CLK_NETSYS0,\n\tMTK_CLK_NETSYS1,\n\tMTK_CLK_ETHWARP_WOCPU2,\n\tMTK_CLK_ETHWARP_WOCPU1,\n\tMTK_CLK_ETHWARP_WOCPU0,\n\tMTK_CLK_TOP_USXGMII_SBUS_0_SEL,\n\tMTK_CLK_TOP_USXGMII_SBUS_1_SEL,\n\tMTK_CLK_TOP_SGM_0_SEL,\n\tMTK_CLK_TOP_SGM_1_SEL,\n\tMTK_CLK_TOP_XFI_PHY_0_XTAL_SEL,\n\tMTK_CLK_TOP_XFI_PHY_1_XTAL_SEL,\n\tMTK_CLK_TOP_ETH_GMII_SEL,\n\tMTK_CLK_TOP_ETH_REFCK_50M_SEL,\n\tMTK_CLK_TOP_ETH_SYS_200M_SEL,\n\tMTK_CLK_TOP_ETH_SYS_SEL,\n\tMTK_CLK_TOP_ETH_XGMII_SEL,\n\tMTK_CLK_TOP_ETH_MII_SEL,\n\tMTK_CLK_TOP_NETSYS_SEL,\n\tMTK_CLK_TOP_NETSYS_500M_SEL,\n\tMTK_CLK_TOP_NETSYS_PAO_2X_SEL,\n\tMTK_CLK_TOP_NETSYS_SYNC_250M_SEL,\n\tMTK_CLK_TOP_NETSYS_PPEFB_250M_SEL,\n\tMTK_CLK_TOP_NETSYS_WARP_SEL,\n\tMTK_CLK_MAX\n};\n\n#define MT7623_CLKS_BITMAP\t(BIT_ULL(MTK_CLK_ETHIF) | BIT_ULL(MTK_CLK_ESW) |  \\\n\t\t\t\t BIT_ULL(MTK_CLK_GP1) | BIT_ULL(MTK_CLK_GP2) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_TRGPLL))\n#define MT7622_CLKS_BITMAP\t(BIT_ULL(MTK_CLK_ETHIF) | BIT_ULL(MTK_CLK_ESW) |  \\\n\t\t\t\t BIT_ULL(MTK_CLK_GP0) | BIT_ULL(MTK_CLK_GP1) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_GP2) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII_TX_250M) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII_RX_250M) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII_CDR_REF) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII_CDR_FB) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII_CK) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_ETH2PLL))\n#define MT7621_CLKS_BITMAP\t(0)\n#define MT7628_CLKS_BITMAP\t(0)\n#define MT7629_CLKS_BITMAP\t(BIT_ULL(MTK_CLK_ETHIF) | BIT_ULL(MTK_CLK_ESW) |  \\\n\t\t\t\t BIT_ULL(MTK_CLK_GP0) | BIT_ULL(MTK_CLK_GP1) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_GP2) | BIT_ULL(MTK_CLK_FE) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII_TX_250M) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII_RX_250M) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII_CDR_REF) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII_CDR_FB) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII2_TX_250M) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII2_RX_250M) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII2_CDR_REF) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII2_CDR_FB) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII_CK) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_ETH2PLL) | BIT_ULL(MTK_CLK_SGMIITOP))\n#define MT7981_CLKS_BITMAP\t(BIT_ULL(MTK_CLK_FE) | BIT_ULL(MTK_CLK_GP2) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_GP1) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_WOCPU0) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII_TX_250M) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII_RX_250M) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII_CDR_REF) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII_CDR_FB) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII2_TX_250M) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII2_RX_250M) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII2_CDR_REF) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII2_CDR_FB) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII_CK))\n#define MT7986_CLKS_BITMAP\t(BIT_ULL(MTK_CLK_FE) | BIT_ULL(MTK_CLK_GP2) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_GP1) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_WOCPU1) | BIT_ULL(MTK_CLK_WOCPU0) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII_TX_250M) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII_RX_250M) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII_CDR_REF) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII_CDR_FB) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII2_TX_250M) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII2_RX_250M) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII2_CDR_REF) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII2_CDR_FB))\n#define MT7988_CLKS_BITMAP\t(BIT_ULL(MTK_CLK_FE) | BIT_ULL(MTK_CLK_ESW) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_GP1) | BIT_ULL(MTK_CLK_GP2) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_GP3) | BIT_ULL(MTK_CLK_XGP1) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_XGP2) | BIT_ULL(MTK_CLK_XGP3) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_CRYPTO) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII_TX_250M) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII_RX_250M) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII2_TX_250M) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_SGMII2_RX_250M) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_ETHWARP_WOCPU2) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_ETHWARP_WOCPU1) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_ETHWARP_WOCPU0) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_TOP_USXGMII_SBUS_0_SEL) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_TOP_USXGMII_SBUS_1_SEL) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_TOP_SGM_0_SEL) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_TOP_SGM_1_SEL) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_TOP_XFI_PHY_0_XTAL_SEL) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_TOP_XFI_PHY_1_XTAL_SEL) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_TOP_ETH_GMII_SEL) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_TOP_ETH_REFCK_50M_SEL) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_TOP_ETH_SYS_200M_SEL) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_TOP_ETH_SYS_SEL) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_TOP_ETH_XGMII_SEL) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_TOP_ETH_MII_SEL) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_TOP_NETSYS_SEL) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_TOP_NETSYS_500M_SEL) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_TOP_NETSYS_PAO_2X_SEL) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_TOP_NETSYS_SYNC_250M_SEL) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_TOP_NETSYS_PPEFB_250M_SEL) | \\\n\t\t\t\t BIT_ULL(MTK_CLK_TOP_NETSYS_WARP_SEL))\n\nenum mtk_dev_state {\n\tMTK_HW_INIT,\n\tMTK_RESETTING\n};\n\n \nenum mtk_pse_port {\n\tPSE_ADMA_PORT = 0,\n\tPSE_GDM1_PORT,\n\tPSE_GDM2_PORT,\n\tPSE_PPE0_PORT,\n\tPSE_PPE1_PORT,\n\tPSE_QDMA_TX_PORT,\n\tPSE_QDMA_RX_PORT,\n\tPSE_DROP_PORT,\n\tPSE_WDMA0_PORT,\n\tPSE_WDMA1_PORT,\n\tPSE_TDMA_PORT,\n\tPSE_NONE_PORT,\n\tPSE_PPE2_PORT,\n\tPSE_WDMA2_PORT,\n\tPSE_EIP197_PORT,\n\tPSE_GDM3_PORT,\n\tPSE_PORT_MAX\n};\n\n \nenum mtk_gmac_id {\n\tMTK_GMAC1_ID = 0,\n\tMTK_GMAC2_ID,\n\tMTK_GMAC3_ID,\n\tMTK_GMAC_ID_MAX\n};\n\nenum mtk_tx_buf_type {\n\tMTK_TYPE_SKB,\n\tMTK_TYPE_XDP_TX,\n\tMTK_TYPE_XDP_NDO,\n};\n\n \nstruct mtk_tx_buf {\n\tenum mtk_tx_buf_type type;\n\tvoid *data;\n\n\tu16 mac_id;\n\tu16 flags;\n\tDEFINE_DMA_UNMAP_ADDR(dma_addr0);\n\tDEFINE_DMA_UNMAP_LEN(dma_len0);\n\tDEFINE_DMA_UNMAP_ADDR(dma_addr1);\n\tDEFINE_DMA_UNMAP_LEN(dma_len1);\n};\n\n \nstruct mtk_tx_ring {\n\tvoid *dma;\n\tstruct mtk_tx_buf *buf;\n\tdma_addr_t phys;\n\tstruct mtk_tx_dma *next_free;\n\tstruct mtk_tx_dma *last_free;\n\tu32 last_free_ptr;\n\tu16 thresh;\n\tatomic_t free_count;\n\tint dma_size;\n\tstruct mtk_tx_dma *dma_pdma;\t \n\tdma_addr_t phys_pdma;\n\tint cpu_idx;\n};\n\n \nenum mtk_rx_flags {\n\tMTK_RX_FLAGS_NORMAL = 0,\n\tMTK_RX_FLAGS_HWLRO,\n\tMTK_RX_FLAGS_QDMA,\n};\n\n \nstruct mtk_rx_ring {\n\tvoid *dma;\n\tu8 **data;\n\tdma_addr_t phys;\n\tu16 frag_size;\n\tu16 buf_size;\n\tu16 dma_size;\n\tbool calc_idx_update;\n\tu16 calc_idx;\n\tu32 crx_idx_reg;\n\t \n\tstruct page_pool *page_pool;\n\tstruct xdp_rxq_info xdp_q;\n};\n\nenum mkt_eth_capabilities {\n\tMTK_RGMII_BIT = 0,\n\tMTK_TRGMII_BIT,\n\tMTK_SGMII_BIT,\n\tMTK_ESW_BIT,\n\tMTK_GEPHY_BIT,\n\tMTK_MUX_BIT,\n\tMTK_INFRA_BIT,\n\tMTK_SHARED_SGMII_BIT,\n\tMTK_HWLRO_BIT,\n\tMTK_SHARED_INT_BIT,\n\tMTK_TRGMII_MT7621_CLK_BIT,\n\tMTK_QDMA_BIT,\n\tMTK_SOC_MT7628_BIT,\n\tMTK_RSTCTRL_PPE1_BIT,\n\tMTK_RSTCTRL_PPE2_BIT,\n\tMTK_U3_COPHY_V2_BIT,\n\tMTK_SRAM_BIT,\n\tMTK_36BIT_DMA_BIT,\n\n\t \n\tMTK_ETH_MUX_GDM1_TO_GMAC1_ESW_BIT,\n\tMTK_ETH_MUX_GMAC2_GMAC0_TO_GEPHY_BIT,\n\tMTK_ETH_MUX_U3_GMAC2_TO_QPHY_BIT,\n\tMTK_ETH_MUX_GMAC1_GMAC2_TO_SGMII_RGMII_BIT,\n\tMTK_ETH_MUX_GMAC12_TO_GEPHY_SGMII_BIT,\n\n\t \n\tMTK_ETH_PATH_GMAC1_RGMII_BIT,\n\tMTK_ETH_PATH_GMAC1_TRGMII_BIT,\n\tMTK_ETH_PATH_GMAC1_SGMII_BIT,\n\tMTK_ETH_PATH_GMAC2_RGMII_BIT,\n\tMTK_ETH_PATH_GMAC2_SGMII_BIT,\n\tMTK_ETH_PATH_GMAC2_GEPHY_BIT,\n\tMTK_ETH_PATH_GDM1_ESW_BIT,\n};\n\n \n#define MTK_RGMII\t\tBIT_ULL(MTK_RGMII_BIT)\n#define MTK_TRGMII\t\tBIT_ULL(MTK_TRGMII_BIT)\n#define MTK_SGMII\t\tBIT_ULL(MTK_SGMII_BIT)\n#define MTK_ESW\t\t\tBIT_ULL(MTK_ESW_BIT)\n#define MTK_GEPHY\t\tBIT_ULL(MTK_GEPHY_BIT)\n#define MTK_MUX\t\t\tBIT_ULL(MTK_MUX_BIT)\n#define MTK_INFRA\t\tBIT_ULL(MTK_INFRA_BIT)\n#define MTK_SHARED_SGMII\tBIT_ULL(MTK_SHARED_SGMII_BIT)\n#define MTK_HWLRO\t\tBIT_ULL(MTK_HWLRO_BIT)\n#define MTK_SHARED_INT\t\tBIT_ULL(MTK_SHARED_INT_BIT)\n#define MTK_TRGMII_MT7621_CLK\tBIT_ULL(MTK_TRGMII_MT7621_CLK_BIT)\n#define MTK_QDMA\t\tBIT_ULL(MTK_QDMA_BIT)\n#define MTK_SOC_MT7628\t\tBIT_ULL(MTK_SOC_MT7628_BIT)\n#define MTK_RSTCTRL_PPE1\tBIT_ULL(MTK_RSTCTRL_PPE1_BIT)\n#define MTK_RSTCTRL_PPE2\tBIT_ULL(MTK_RSTCTRL_PPE2_BIT)\n#define MTK_U3_COPHY_V2\t\tBIT_ULL(MTK_U3_COPHY_V2_BIT)\n#define MTK_SRAM\t\tBIT_ULL(MTK_SRAM_BIT)\n#define MTK_36BIT_DMA\tBIT_ULL(MTK_36BIT_DMA_BIT)\n\n#define MTK_ETH_MUX_GDM1_TO_GMAC1_ESW\t\t\\\n\tBIT_ULL(MTK_ETH_MUX_GDM1_TO_GMAC1_ESW_BIT)\n#define MTK_ETH_MUX_GMAC2_GMAC0_TO_GEPHY\t\\\n\tBIT_ULL(MTK_ETH_MUX_GMAC2_GMAC0_TO_GEPHY_BIT)\n#define MTK_ETH_MUX_U3_GMAC2_TO_QPHY\t\t\\\n\tBIT_ULL(MTK_ETH_MUX_U3_GMAC2_TO_QPHY_BIT)\n#define MTK_ETH_MUX_GMAC1_GMAC2_TO_SGMII_RGMII\t\\\n\tBIT_ULL(MTK_ETH_MUX_GMAC1_GMAC2_TO_SGMII_RGMII_BIT)\n#define MTK_ETH_MUX_GMAC12_TO_GEPHY_SGMII\t\\\n\tBIT_ULL(MTK_ETH_MUX_GMAC12_TO_GEPHY_SGMII_BIT)\n\n \n#define MTK_ETH_PATH_GMAC1_RGMII\tBIT_ULL(MTK_ETH_PATH_GMAC1_RGMII_BIT)\n#define MTK_ETH_PATH_GMAC1_TRGMII\tBIT_ULL(MTK_ETH_PATH_GMAC1_TRGMII_BIT)\n#define MTK_ETH_PATH_GMAC1_SGMII\tBIT_ULL(MTK_ETH_PATH_GMAC1_SGMII_BIT)\n#define MTK_ETH_PATH_GMAC2_RGMII\tBIT_ULL(MTK_ETH_PATH_GMAC2_RGMII_BIT)\n#define MTK_ETH_PATH_GMAC2_SGMII\tBIT_ULL(MTK_ETH_PATH_GMAC2_SGMII_BIT)\n#define MTK_ETH_PATH_GMAC2_GEPHY\tBIT_ULL(MTK_ETH_PATH_GMAC2_GEPHY_BIT)\n#define MTK_ETH_PATH_GDM1_ESW\t\tBIT_ULL(MTK_ETH_PATH_GDM1_ESW_BIT)\n\n#define MTK_GMAC1_RGMII\t\t(MTK_ETH_PATH_GMAC1_RGMII | MTK_RGMII)\n#define MTK_GMAC1_TRGMII\t(MTK_ETH_PATH_GMAC1_TRGMII | MTK_TRGMII)\n#define MTK_GMAC1_SGMII\t\t(MTK_ETH_PATH_GMAC1_SGMII | MTK_SGMII)\n#define MTK_GMAC2_RGMII\t\t(MTK_ETH_PATH_GMAC2_RGMII | MTK_RGMII)\n#define MTK_GMAC2_SGMII\t\t(MTK_ETH_PATH_GMAC2_SGMII | MTK_SGMII)\n#define MTK_GMAC2_GEPHY\t\t(MTK_ETH_PATH_GMAC2_GEPHY | MTK_GEPHY)\n#define MTK_GDM1_ESW\t\t(MTK_ETH_PATH_GDM1_ESW | MTK_ESW)\n\n \n \n#define MTK_MUX_GDM1_TO_GMAC1_ESW (MTK_ETH_MUX_GDM1_TO_GMAC1_ESW | MTK_MUX)\n\n \n#define MTK_MUX_GMAC2_GMAC0_TO_GEPHY    \\\n\t(MTK_ETH_MUX_GMAC2_GMAC0_TO_GEPHY | MTK_MUX | MTK_INFRA)\n\n \n#define MTK_MUX_U3_GMAC2_TO_QPHY        \\\n\t(MTK_ETH_MUX_U3_GMAC2_TO_QPHY | MTK_MUX | MTK_INFRA)\n\n \n#define MTK_MUX_GMAC1_GMAC2_TO_SGMII_RGMII      \\\n\t(MTK_ETH_MUX_GMAC1_GMAC2_TO_SGMII_RGMII | MTK_MUX | \\\n\tMTK_SHARED_SGMII)\n\n \n#define MTK_MUX_GMAC12_TO_GEPHY_SGMII   \\\n\t(MTK_ETH_MUX_GMAC12_TO_GEPHY_SGMII | MTK_MUX)\n\n#define MTK_HAS_CAPS(caps, _x)\t\t(((caps) & (_x)) == (_x))\n\n#define MT7621_CAPS  (MTK_GMAC1_RGMII | MTK_GMAC1_TRGMII | \\\n\t\t      MTK_GMAC2_RGMII | MTK_SHARED_INT | \\\n\t\t      MTK_TRGMII_MT7621_CLK | MTK_QDMA)\n\n#define MT7622_CAPS  (MTK_GMAC1_RGMII | MTK_GMAC1_SGMII | MTK_GMAC2_RGMII | \\\n\t\t      MTK_GMAC2_SGMII | MTK_GDM1_ESW | \\\n\t\t      MTK_MUX_GDM1_TO_GMAC1_ESW | \\\n\t\t      MTK_MUX_GMAC1_GMAC2_TO_SGMII_RGMII | MTK_QDMA)\n\n#define MT7623_CAPS  (MTK_GMAC1_RGMII | MTK_GMAC1_TRGMII | MTK_GMAC2_RGMII | \\\n\t\t      MTK_QDMA)\n\n#define MT7628_CAPS  (MTK_SHARED_INT | MTK_SOC_MT7628)\n\n#define MT7629_CAPS  (MTK_GMAC1_SGMII | MTK_GMAC2_SGMII | MTK_GMAC2_GEPHY | \\\n\t\t      MTK_GDM1_ESW | MTK_MUX_GDM1_TO_GMAC1_ESW | \\\n\t\t      MTK_MUX_GMAC2_GMAC0_TO_GEPHY | \\\n\t\t      MTK_MUX_U3_GMAC2_TO_QPHY | \\\n\t\t      MTK_MUX_GMAC12_TO_GEPHY_SGMII | MTK_QDMA)\n\n#define MT7981_CAPS  (MTK_GMAC1_SGMII | MTK_GMAC2_SGMII | MTK_GMAC2_GEPHY | \\\n\t\t      MTK_MUX_GMAC12_TO_GEPHY_SGMII | MTK_QDMA | \\\n\t\t      MTK_MUX_U3_GMAC2_TO_QPHY | MTK_U3_COPHY_V2 | \\\n\t\t      MTK_RSTCTRL_PPE1 | MTK_SRAM)\n\n#define MT7986_CAPS  (MTK_GMAC1_SGMII | MTK_GMAC2_SGMII | \\\n\t\t      MTK_MUX_GMAC12_TO_GEPHY_SGMII | MTK_QDMA | \\\n\t\t      MTK_RSTCTRL_PPE1 | MTK_SRAM)\n\n#define MT7988_CAPS  (MTK_36BIT_DMA | MTK_GDM1_ESW | MTK_QDMA | \\\n\t\t      MTK_RSTCTRL_PPE1 | MTK_RSTCTRL_PPE2 | MTK_SRAM)\n\nstruct mtk_tx_dma_desc_info {\n\tdma_addr_t\taddr;\n\tu32\t\tsize;\n\tu16\t\tvlan_tci;\n\tu16\t\tqid;\n\tu8\t\tgso:1;\n\tu8\t\tcsum:1;\n\tu8\t\tvlan:1;\n\tu8\t\tfirst:1;\n\tu8\t\tlast:1;\n};\n\nstruct mtk_reg_map {\n\tu32\ttx_irq_mask;\n\tu32\ttx_irq_status;\n\tstruct {\n\t\tu32\trx_ptr;\t\t \n\t\tu32\trx_cnt_cfg;\t \n\t\tu32\tpcrx_ptr;\t \n\t\tu32\tglo_cfg;\t \n\t\tu32\trst_idx;\t \n\t\tu32\tdelay_irq;\t \n\t\tu32\tirq_status;\t \n\t\tu32\tirq_mask;\t \n\t\tu32\tadma_rx_dbg0;\n\t\tu32\tint_grp;\n\t} pdma;\n\tstruct {\n\t\tu32\tqtx_cfg;\t \n\t\tu32\tqtx_sch;\t \n\t\tu32\trx_ptr;\t\t \n\t\tu32\trx_cnt_cfg;\t \n\t\tu32\tqcrx_ptr;\t \n\t\tu32\tglo_cfg;\t \n\t\tu32\trst_idx;\t \n\t\tu32\tdelay_irq;\t \n\t\tu32\tfc_th;\t\t \n\t\tu32\tint_grp;\n\t\tu32\thred;\t\t \n\t\tu32\tctx_ptr;\t \n\t\tu32\tdtx_ptr;\t \n\t\tu32\tcrx_ptr;\t \n\t\tu32\tdrx_ptr;\t \n\t\tu32\tfq_head;\t \n\t\tu32\tfq_tail;\t \n\t\tu32\tfq_count;\t \n\t\tu32\tfq_blen;\t \n\t\tu32\ttx_sch_rate;\t \n\t} qdma;\n\tu32\tgdm1_cnt;\n\tu32\tgdma_to_ppe;\n\tu32\tppe_base;\n\tu32\twdma_base[2];\n\tu32\tpse_iq_sta;\n\tu32\tpse_oq_sta;\n};\n\n \nstruct mtk_soc_data {\n\tconst struct mtk_reg_map *reg_map;\n\tu32             ana_rgc3;\n\tu64\t\tcaps;\n\tu64\t\trequired_clks;\n\tbool\t\trequired_pctl;\n\tu8\t\toffload_version;\n\tu8\t\thash_offset;\n\tu8\t\tversion;\n\tu16\t\tfoe_entry_size;\n\tnetdev_features_t hw_features;\n\tbool\t\thas_accounting;\n\tbool\t\tdisable_pll_modes;\n\tstruct {\n\t\tu32\ttxd_size;\n\t\tu32\trxd_size;\n\t\tu32\trx_irq_done_mask;\n\t\tu32\trx_dma_l4_valid;\n\t\tu32\tdma_max_len;\n\t\tu32\tdma_len_offset;\n\t} txrx;\n};\n\n#define MTK_DMA_MONITOR_TIMEOUT\t\tmsecs_to_jiffies(1000)\n\n \n#define MTK_MAX_DEVS\t3\n\n \n\nstruct mtk_eth {\n\tstruct device\t\t\t*dev;\n\tstruct device\t\t\t*dma_dev;\n\tvoid __iomem\t\t\t*base;\n\tvoid\t\t\t\t*sram_base;\n\tspinlock_t\t\t\tpage_lock;\n\tspinlock_t\t\t\ttx_irq_lock;\n\tspinlock_t\t\t\trx_irq_lock;\n\tstruct net_device\t\tdummy_dev;\n\tstruct net_device\t\t*netdev[MTK_MAX_DEVS];\n\tstruct mtk_mac\t\t\t*mac[MTK_MAX_DEVS];\n\tint\t\t\t\tirq[3];\n\tu32\t\t\t\tmsg_enable;\n\tunsigned long\t\t\tsysclk;\n\tstruct regmap\t\t\t*ethsys;\n\tstruct regmap\t\t\t*infra;\n\tstruct phylink_pcs\t\t*sgmii_pcs[MTK_MAX_DEVS];\n\tstruct regmap\t\t\t*pctl;\n\tbool\t\t\t\thwlro;\n\trefcount_t\t\t\tdma_refcnt;\n\tstruct mtk_tx_ring\t\ttx_ring;\n\tstruct mtk_rx_ring\t\trx_ring[MTK_MAX_RX_RING_NUM];\n\tstruct mtk_rx_ring\t\trx_ring_qdma;\n\tstruct napi_struct\t\ttx_napi;\n\tstruct napi_struct\t\trx_napi;\n\tvoid\t\t\t\t*scratch_ring;\n\tdma_addr_t\t\t\tphy_scratch_ring;\n\tvoid\t\t\t\t*scratch_head;\n\tstruct clk\t\t\t*clks[MTK_CLK_MAX];\n\n\tstruct mii_bus\t\t\t*mii_bus;\n\tstruct work_struct\t\tpending_work;\n\tunsigned long\t\t\tstate;\n\n\tconst struct mtk_soc_data\t*soc;\n\n\tspinlock_t\t\t\tdim_lock;\n\n\tu32\t\t\t\trx_events;\n\tu32\t\t\t\trx_packets;\n\tu32\t\t\t\trx_bytes;\n\tstruct dim\t\t\trx_dim;\n\n\tu32\t\t\t\ttx_events;\n\tu32\t\t\t\ttx_packets;\n\tu32\t\t\t\ttx_bytes;\n\tstruct dim\t\t\ttx_dim;\n\n\tint\t\t\t\tip_align;\n\n\tstruct metadata_dst\t\t*dsa_meta[MTK_MAX_DSA_PORTS];\n\n\tstruct mtk_ppe\t\t\t*ppe[2];\n\tstruct rhashtable\t\tflow_table;\n\n\tstruct bpf_prog\t\t\t__rcu *prog;\n\n\tstruct {\n\t\tstruct delayed_work monitor_work;\n\t\tu32 wdidx;\n\t\tu8 wdma_hang_count;\n\t\tu8 qdma_hang_count;\n\t\tu8 adma_hang_count;\n\t} reset;\n};\n\n \nstruct mtk_mac {\n\tint\t\t\t\tid;\n\tphy_interface_t\t\t\tinterface;\n\tint\t\t\t\tspeed;\n\tstruct device_node\t\t*of_node;\n\tstruct phylink\t\t\t*phylink;\n\tstruct phylink_config\t\tphylink_config;\n\tstruct mtk_eth\t\t\t*hw;\n\tstruct mtk_hw_stats\t\t*hw_stats;\n\t__be32\t\t\t\thwlro_ip[MTK_MAX_LRO_IP_CNT];\n\tint\t\t\t\thwlro_ip_cnt;\n\tunsigned int\t\t\tsyscfg0;\n\tstruct notifier_block\t\tdevice_notifier;\n};\n\n \nextern const struct of_device_id of_mtk_match[];\n\nstatic inline bool mtk_is_netsys_v1(struct mtk_eth *eth)\n{\n\treturn eth->soc->version == 1;\n}\n\nstatic inline bool mtk_is_netsys_v2_or_greater(struct mtk_eth *eth)\n{\n\treturn eth->soc->version > 1;\n}\n\nstatic inline bool mtk_is_netsys_v3_or_greater(struct mtk_eth *eth)\n{\n\treturn eth->soc->version > 2;\n}\n\nstatic inline struct mtk_foe_entry *\nmtk_foe_get_entry(struct mtk_ppe *ppe, u16 hash)\n{\n\tconst struct mtk_soc_data *soc = ppe->eth->soc;\n\n\treturn ppe->foe_table + hash * soc->foe_entry_size;\n}\n\nstatic inline u32 mtk_get_ib1_ts_mask(struct mtk_eth *eth)\n{\n\tif (mtk_is_netsys_v2_or_greater(eth))\n\t\treturn MTK_FOE_IB1_BIND_TIMESTAMP_V2;\n\n\treturn MTK_FOE_IB1_BIND_TIMESTAMP;\n}\n\nstatic inline u32 mtk_get_ib1_ppoe_mask(struct mtk_eth *eth)\n{\n\tif (mtk_is_netsys_v2_or_greater(eth))\n\t\treturn MTK_FOE_IB1_BIND_PPPOE_V2;\n\n\treturn MTK_FOE_IB1_BIND_PPPOE;\n}\n\nstatic inline u32 mtk_get_ib1_vlan_tag_mask(struct mtk_eth *eth)\n{\n\tif (mtk_is_netsys_v2_or_greater(eth))\n\t\treturn MTK_FOE_IB1_BIND_VLAN_TAG_V2;\n\n\treturn MTK_FOE_IB1_BIND_VLAN_TAG;\n}\n\nstatic inline u32 mtk_get_ib1_vlan_layer_mask(struct mtk_eth *eth)\n{\n\tif (mtk_is_netsys_v2_or_greater(eth))\n\t\treturn MTK_FOE_IB1_BIND_VLAN_LAYER_V2;\n\n\treturn MTK_FOE_IB1_BIND_VLAN_LAYER;\n}\n\nstatic inline u32 mtk_prep_ib1_vlan_layer(struct mtk_eth *eth, u32 val)\n{\n\tif (mtk_is_netsys_v2_or_greater(eth))\n\t\treturn FIELD_PREP(MTK_FOE_IB1_BIND_VLAN_LAYER_V2, val);\n\n\treturn FIELD_PREP(MTK_FOE_IB1_BIND_VLAN_LAYER, val);\n}\n\nstatic inline u32 mtk_get_ib1_vlan_layer(struct mtk_eth *eth, u32 val)\n{\n\tif (mtk_is_netsys_v2_or_greater(eth))\n\t\treturn FIELD_GET(MTK_FOE_IB1_BIND_VLAN_LAYER_V2, val);\n\n\treturn FIELD_GET(MTK_FOE_IB1_BIND_VLAN_LAYER, val);\n}\n\nstatic inline u32 mtk_get_ib1_pkt_type_mask(struct mtk_eth *eth)\n{\n\tif (mtk_is_netsys_v2_or_greater(eth))\n\t\treturn MTK_FOE_IB1_PACKET_TYPE_V2;\n\n\treturn MTK_FOE_IB1_PACKET_TYPE;\n}\n\nstatic inline u32 mtk_get_ib1_pkt_type(struct mtk_eth *eth, u32 val)\n{\n\tif (mtk_is_netsys_v2_or_greater(eth))\n\t\treturn FIELD_GET(MTK_FOE_IB1_PACKET_TYPE_V2, val);\n\n\treturn FIELD_GET(MTK_FOE_IB1_PACKET_TYPE, val);\n}\n\nstatic inline u32 mtk_get_ib2_multicast_mask(struct mtk_eth *eth)\n{\n\tif (mtk_is_netsys_v2_or_greater(eth))\n\t\treturn MTK_FOE_IB2_MULTICAST_V2;\n\n\treturn MTK_FOE_IB2_MULTICAST;\n}\n\n \nvoid mtk_stats_update_mac(struct mtk_mac *mac);\n\nvoid mtk_w32(struct mtk_eth *eth, u32 val, unsigned reg);\nu32 mtk_r32(struct mtk_eth *eth, unsigned reg);\nu32 mtk_m32(struct mtk_eth *eth, u32 mask, u32 set, unsigned int reg);\n\nint mtk_gmac_sgmii_path_setup(struct mtk_eth *eth, int mac_id);\nint mtk_gmac_gephy_path_setup(struct mtk_eth *eth, int mac_id);\nint mtk_gmac_rgmii_path_setup(struct mtk_eth *eth, int mac_id);\n\nint mtk_eth_offload_init(struct mtk_eth *eth);\nint mtk_eth_setup_tc(struct net_device *dev, enum tc_setup_type type,\n\t\t     void *type_data);\nint mtk_flow_offload_cmd(struct mtk_eth *eth, struct flow_cls_offload *cls,\n\t\t\t int ppe_index);\nvoid mtk_flow_offload_cleanup(struct mtk_eth *eth, struct list_head *list);\nvoid mtk_eth_set_dma_device(struct mtk_eth *eth, struct device *dma_dev);\n\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}