{
  "module_name": "qede_dcbnl.c",
  "hash_id": "7534c443e373971ea523c28f2745a59de4420d468fe3566260dd71765402a8a8",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/qlogic/qede/qede_dcbnl.c",
  "human_readable_source": "\n \n\n#include <linux/types.h>\n#include <linux/netdevice.h>\n#include <linux/rtnetlink.h>\n#include <net/dcbnl.h>\n#include \"qede.h\"\n\nstatic u8 qede_dcbnl_getstate(struct net_device *netdev)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->getstate(edev->cdev);\n}\n\nstatic u8 qede_dcbnl_setstate(struct net_device *netdev, u8 state)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->setstate(edev->cdev, state);\n}\n\nstatic void qede_dcbnl_getpermhwaddr(struct net_device *netdev,\n\t\t\t\t     u8 *perm_addr)\n{\n\tmemcpy(perm_addr, netdev->dev_addr, netdev->addr_len);\n}\n\nstatic void qede_dcbnl_getpgtccfgtx(struct net_device *netdev, int prio,\n\t\t\t\t    u8 *prio_type, u8 *pgid, u8 *bw_pct,\n\t\t\t\t    u8 *up_map)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\tedev->ops->dcb->getpgtccfgtx(edev->cdev, prio, prio_type,\n\t\t\t\t     pgid, bw_pct, up_map);\n}\n\nstatic void qede_dcbnl_getpgbwgcfgtx(struct net_device *netdev,\n\t\t\t\t     int pgid, u8 *bw_pct)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\tedev->ops->dcb->getpgbwgcfgtx(edev->cdev, pgid, bw_pct);\n}\n\nstatic void qede_dcbnl_getpgtccfgrx(struct net_device *netdev, int prio,\n\t\t\t\t    u8 *prio_type, u8 *pgid, u8 *bw_pct,\n\t\t\t\t    u8 *up_map)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\tedev->ops->dcb->getpgtccfgrx(edev->cdev, prio, prio_type, pgid, bw_pct,\n\t\t\t\t     up_map);\n}\n\nstatic void qede_dcbnl_getpgbwgcfgrx(struct net_device *netdev,\n\t\t\t\t     int pgid, u8 *bw_pct)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\tedev->ops->dcb->getpgbwgcfgrx(edev->cdev, pgid, bw_pct);\n}\n\nstatic void qede_dcbnl_getpfccfg(struct net_device *netdev, int prio,\n\t\t\t\t u8 *setting)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\tedev->ops->dcb->getpfccfg(edev->cdev, prio, setting);\n}\n\nstatic void qede_dcbnl_setpfccfg(struct net_device *netdev, int prio,\n\t\t\t\t u8 setting)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\tedev->ops->dcb->setpfccfg(edev->cdev, prio, setting);\n}\n\nstatic u8 qede_dcbnl_getcap(struct net_device *netdev, int capid, u8 *cap)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->getcap(edev->cdev, capid, cap);\n}\n\nstatic int qede_dcbnl_getnumtcs(struct net_device *netdev, int tcid, u8 *num)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->getnumtcs(edev->cdev, tcid, num);\n}\n\nstatic u8 qede_dcbnl_getpfcstate(struct net_device *netdev)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->getpfcstate(edev->cdev);\n}\n\nstatic int qede_dcbnl_getapp(struct net_device *netdev, u8 idtype, u16 id)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->getapp(edev->cdev, idtype, id);\n}\n\nstatic u8 qede_dcbnl_getdcbx(struct net_device *netdev)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->getdcbx(edev->cdev);\n}\n\nstatic void qede_dcbnl_setpgtccfgtx(struct net_device *netdev, int prio,\n\t\t\t\t    u8 pri_type, u8 pgid, u8 bw_pct, u8 up_map)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->setpgtccfgtx(edev->cdev, prio, pri_type, pgid,\n\t\t\t\t\t    bw_pct, up_map);\n}\n\nstatic void qede_dcbnl_setpgtccfgrx(struct net_device *netdev, int prio,\n\t\t\t\t    u8 pri_type, u8 pgid, u8 bw_pct, u8 up_map)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->setpgtccfgrx(edev->cdev, prio, pri_type, pgid,\n\t\t\t\t\t    bw_pct, up_map);\n}\n\nstatic void qede_dcbnl_setpgbwgcfgtx(struct net_device *netdev, int pgid,\n\t\t\t\t     u8 bw_pct)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->setpgbwgcfgtx(edev->cdev, pgid, bw_pct);\n}\n\nstatic void qede_dcbnl_setpgbwgcfgrx(struct net_device *netdev, int pgid,\n\t\t\t\t     u8 bw_pct)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->setpgbwgcfgrx(edev->cdev, pgid, bw_pct);\n}\n\nstatic u8 qede_dcbnl_setall(struct net_device *netdev)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->setall(edev->cdev);\n}\n\nstatic int qede_dcbnl_setnumtcs(struct net_device *netdev, int tcid, u8 num)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->setnumtcs(edev->cdev, tcid, num);\n}\n\nstatic void qede_dcbnl_setpfcstate(struct net_device *netdev, u8 state)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->setpfcstate(edev->cdev, state);\n}\n\nstatic int qede_dcbnl_setapp(struct net_device *netdev, u8 idtype, u16 idval,\n\t\t\t     u8 up)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->setapp(edev->cdev, idtype, idval, up);\n}\n\nstatic u8 qede_dcbnl_setdcbx(struct net_device *netdev, u8 state)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->setdcbx(edev->cdev, state);\n}\n\nstatic u8 qede_dcbnl_getfeatcfg(struct net_device *netdev, int featid,\n\t\t\t\tu8 *flags)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->getfeatcfg(edev->cdev, featid, flags);\n}\n\nstatic u8 qede_dcbnl_setfeatcfg(struct net_device *netdev, int featid, u8 flags)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->setfeatcfg(edev->cdev, featid, flags);\n}\n\nstatic int qede_dcbnl_peer_getappinfo(struct net_device *netdev,\n\t\t\t\t      struct dcb_peer_app_info *info,\n\t\t\t\t      u16 *count)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->peer_getappinfo(edev->cdev, info, count);\n}\n\nstatic int qede_dcbnl_peer_getapptable(struct net_device *netdev,\n\t\t\t\t       struct dcb_app *app)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->peer_getapptable(edev->cdev, app);\n}\n\nstatic int qede_dcbnl_cee_peer_getpfc(struct net_device *netdev,\n\t\t\t\t      struct cee_pfc *pfc)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->cee_peer_getpfc(edev->cdev, pfc);\n}\n\nstatic int qede_dcbnl_cee_peer_getpg(struct net_device *netdev,\n\t\t\t\t     struct cee_pg *pg)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->cee_peer_getpg(edev->cdev, pg);\n}\n\nstatic int qede_dcbnl_ieee_getpfc(struct net_device *netdev,\n\t\t\t\t  struct ieee_pfc *pfc)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->ieee_getpfc(edev->cdev, pfc);\n}\n\nstatic int qede_dcbnl_ieee_setpfc(struct net_device *netdev,\n\t\t\t\t  struct ieee_pfc *pfc)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->ieee_setpfc(edev->cdev, pfc);\n}\n\nstatic int qede_dcbnl_ieee_getets(struct net_device *netdev,\n\t\t\t\t  struct ieee_ets *ets)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->ieee_getets(edev->cdev, ets);\n}\n\nstatic int qede_dcbnl_ieee_setets(struct net_device *netdev,\n\t\t\t\t  struct ieee_ets *ets)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->ieee_setets(edev->cdev, ets);\n}\n\nstatic int qede_dcbnl_ieee_getapp(struct net_device *netdev,\n\t\t\t\t  struct dcb_app *app)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->ieee_getapp(edev->cdev, app);\n}\n\nstatic int qede_dcbnl_ieee_setapp(struct net_device *netdev,\n\t\t\t\t  struct dcb_app *app)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\tint err;\n\n\terr = dcb_ieee_setapp(netdev, app);\n\tif (err)\n\t\treturn err;\n\n\treturn edev->ops->dcb->ieee_setapp(edev->cdev, app);\n}\n\nstatic int qede_dcbnl_ieee_peer_getpfc(struct net_device *netdev,\n\t\t\t\t       struct ieee_pfc *pfc)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->ieee_peer_getpfc(edev->cdev, pfc);\n}\n\nstatic int qede_dcbnl_ieee_peer_getets(struct net_device *netdev,\n\t\t\t\t       struct ieee_ets *ets)\n{\n\tstruct qede_dev *edev = netdev_priv(netdev);\n\n\treturn edev->ops->dcb->ieee_peer_getets(edev->cdev, ets);\n}\n\nstatic const struct dcbnl_rtnl_ops qede_dcbnl_ops = {\n\t.ieee_getpfc = qede_dcbnl_ieee_getpfc,\n\t.ieee_setpfc = qede_dcbnl_ieee_setpfc,\n\t.ieee_getets = qede_dcbnl_ieee_getets,\n\t.ieee_setets = qede_dcbnl_ieee_setets,\n\t.ieee_getapp = qede_dcbnl_ieee_getapp,\n\t.ieee_setapp = qede_dcbnl_ieee_setapp,\n\t.ieee_peer_getpfc = qede_dcbnl_ieee_peer_getpfc,\n\t.ieee_peer_getets = qede_dcbnl_ieee_peer_getets,\n\t.getstate = qede_dcbnl_getstate,\n\t.setstate = qede_dcbnl_setstate,\n\t.getpermhwaddr = qede_dcbnl_getpermhwaddr,\n\t.getpgtccfgtx = qede_dcbnl_getpgtccfgtx,\n\t.getpgbwgcfgtx = qede_dcbnl_getpgbwgcfgtx,\n\t.getpgtccfgrx = qede_dcbnl_getpgtccfgrx,\n\t.getpgbwgcfgrx = qede_dcbnl_getpgbwgcfgrx,\n\t.getpfccfg = qede_dcbnl_getpfccfg,\n\t.setpfccfg = qede_dcbnl_setpfccfg,\n\t.getcap = qede_dcbnl_getcap,\n\t.getnumtcs = qede_dcbnl_getnumtcs,\n\t.getpfcstate = qede_dcbnl_getpfcstate,\n\t.getapp = qede_dcbnl_getapp,\n\t.getdcbx = qede_dcbnl_getdcbx,\n\t.setpgtccfgtx = qede_dcbnl_setpgtccfgtx,\n\t.setpgtccfgrx = qede_dcbnl_setpgtccfgrx,\n\t.setpgbwgcfgtx = qede_dcbnl_setpgbwgcfgtx,\n\t.setpgbwgcfgrx = qede_dcbnl_setpgbwgcfgrx,\n\t.setall = qede_dcbnl_setall,\n\t.setnumtcs = qede_dcbnl_setnumtcs,\n\t.setpfcstate = qede_dcbnl_setpfcstate,\n\t.setapp = qede_dcbnl_setapp,\n\t.setdcbx = qede_dcbnl_setdcbx,\n\t.setfeatcfg = qede_dcbnl_setfeatcfg,\n\t.getfeatcfg = qede_dcbnl_getfeatcfg,\n\t.peer_getappinfo = qede_dcbnl_peer_getappinfo,\n\t.peer_getapptable = qede_dcbnl_peer_getapptable,\n\t.cee_peer_getpfc = qede_dcbnl_cee_peer_getpfc,\n\t.cee_peer_getpg = qede_dcbnl_cee_peer_getpg,\n};\n\nvoid qede_set_dcbnl_ops(struct net_device *dev)\n{\n\tdev->dcbnl_ops = &qede_dcbnl_ops;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}