{
  "module_name": "qed_hw.h",
  "hash_id": "78ea084dbb6b8b5f43a423d556e6b042578536c72c3b1497f5117d228b022a02",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/qlogic/qed/qed_hw.h",
  "human_readable_source": " \n \n\n#ifndef _QED_HW_H\n#define _QED_HW_H\n\n#include <linux/types.h>\n#include <linux/bitops.h>\n#include <linux/slab.h>\n#include <linux/string.h>\n#include \"qed.h\"\n#include \"qed_dev_api.h\"\n\n \nstruct qed_ptt;\n\nenum reserved_ptts {\n\tRESERVED_PTT_EDIAG,\n\tRESERVED_PTT_USER_SPACE,\n\tRESERVED_PTT_MAIN,\n\tRESERVED_PTT_DPC,\n\tRESERVED_PTT_MAX\n};\n\nenum _dmae_cmd_dst_mask {\n\tDMAE_CMD_DST_MASK_NONE\t= 0,\n\tDMAE_CMD_DST_MASK_PCIE\t= 1,\n\tDMAE_CMD_DST_MASK_GRC\t= 2\n};\n\nenum _dmae_cmd_src_mask {\n\tDMAE_CMD_SRC_MASK_PCIE\t= 0,\n\tDMAE_CMD_SRC_MASK_GRC\t= 1\n};\n\nenum _dmae_cmd_crc_mask {\n\tDMAE_CMD_COMP_CRC_EN_MASK_NONE\t= 0,\n\tDMAE_CMD_COMP_CRC_EN_MASK_SET\t= 1\n};\n\n \n#define DMAE_GO_VALUE   0x1\n\n#define DMAE_COMPLETION_VAL     0xD1AE\n#define DMAE_CMD_ENDIANITY      0x2\n\n#define DMAE_CMD_SIZE   14\n#define DMAE_CMD_SIZE_TO_FILL   (DMAE_CMD_SIZE - 5)\n#define DMAE_MIN_WAIT_TIME      0x2\n#define DMAE_MAX_CLIENTS        32\n\n \nvoid qed_gtt_init(struct qed_hwfn *p_hwfn);\n\n \nvoid qed_ptt_invalidate(struct qed_hwfn *p_hwfn);\n\n \nint qed_ptt_pool_alloc(struct qed_hwfn *p_hwfn);\n\n \nvoid qed_ptt_pool_free(struct qed_hwfn *p_hwfn);\n\n \nu32 qed_ptt_get_hw_addr(struct qed_hwfn *p_hwfn,\n\t\t\tstruct qed_ptt *p_ptt);\n\n \nu32 qed_ptt_get_bar_addr(struct qed_ptt *p_ptt);\n\n \nvoid qed_ptt_set_win(struct qed_hwfn *p_hwfn,\n\t\t     struct qed_ptt *p_ptt,\n\t\t     u32 new_hw_addr);\n\n \nstruct qed_ptt *qed_get_reserved_ptt(struct qed_hwfn *p_hwfn,\n\t\t\t\t     enum reserved_ptts ptt_idx);\n\n \nvoid qed_wr(struct qed_hwfn *p_hwfn,\n\t    struct qed_ptt *p_ptt,\n\t    u32 hw_addr,\n\t    u32 val);\n\n \nu32 qed_rd(struct qed_hwfn *p_hwfn,\n\t   struct qed_ptt *p_ptt,\n\t   u32 hw_addr);\n\n \nvoid qed_memcpy_from(struct qed_hwfn *p_hwfn,\n\t\t     struct qed_ptt *p_ptt,\n\t\t     void *dest,\n\t\t     u32 hw_addr,\n\t\t     size_t n);\n\n \nvoid qed_memcpy_to(struct qed_hwfn *p_hwfn,\n\t\t   struct qed_ptt *p_ptt,\n\t\t   u32 hw_addr,\n\t\t   void *src,\n\t\t   size_t n);\n \nvoid qed_fid_pretend(struct qed_hwfn *p_hwfn,\n\t\t     struct qed_ptt *p_ptt,\n\t\t     u16 fid);\n\n \nvoid qed_port_pretend(struct qed_hwfn *p_hwfn,\n\t\t      struct qed_ptt *p_ptt,\n\t\t      u8 port_id);\n\n \nvoid qed_port_unpretend(struct qed_hwfn *p_hwfn,\n\t\t\tstruct qed_ptt *p_ptt);\n\n \nvoid qed_port_fid_pretend(struct qed_hwfn *p_hwfn,\n\t\t\t  struct qed_ptt *p_ptt, u8 port_id, u16 fid);\n\n \nu32 qed_vfid_to_concrete(struct qed_hwfn *p_hwfn, u8 vfid);\n\n \nu32 qed_dmae_idx_to_go_cmd(u8 idx);\n\n \nint qed_dmae_info_alloc(struct qed_hwfn *p_hwfn);\n\n \nvoid qed_dmae_info_free(struct qed_hwfn *p_hwfn);\n\nunion qed_qm_pq_params {\n\tstruct {\n\t\tu8 q_idx;\n\t} iscsi;\n\n\tstruct {\n\t\tu8 tc;\n\t}\tcore;\n\n\tstruct {\n\t\tu8\tis_vf;\n\t\tu8\tvf_id;\n\t\tu8\ttc;\n\t}\teth;\n\n\tstruct {\n\t\tu8 dcqcn;\n\t\tu8 qpid;\t \n\t} roce;\n};\n\nint qed_init_fw_data(struct qed_dev *cdev,\n\t\t     const u8 *fw_data);\n\nint qed_dmae_sanity(struct qed_hwfn *p_hwfn,\n\t\t    struct qed_ptt *p_ptt, const char *phase);\n\n#define QED_HW_ERR_MAX_STR_SIZE 256\n\n \nvoid __printf(4, 5) __cold qed_hw_err_notify(struct qed_hwfn *p_hwfn,\n\t\t\t\t\t     struct qed_ptt *p_ptt,\n\t\t\t\t\t     enum qed_hw_err_type err_type,\n\t\t\t\t\t     const char *fmt, ...);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}