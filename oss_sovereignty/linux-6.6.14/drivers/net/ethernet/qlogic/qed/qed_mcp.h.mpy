{
  "module_name": "qed_mcp.h",
  "hash_id": "94b02177de91bac5b5413fab5de4c2934ddf15623e9e65c9fe9afdba8567e738",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/qlogic/qed/qed_mcp.h",
  "human_readable_source": " \n \n\n#ifndef _QED_MCP_H\n#define _QED_MCP_H\n\n#include <linux/types.h>\n#include <linux/delay.h>\n#include <linux/slab.h>\n#include <linux/spinlock.h>\n#include <linux/qed/qed_fcoe_if.h>\n#include \"qed_hsi.h\"\n#include \"qed_dev_api.h\"\n\n#define QED_MFW_REPORT_STR_SIZE\t256\n\nstruct qed_mcp_link_speed_params {\n\tbool\t\t\t\t\tautoneg;\n\n\tu32\t\t\t\t\tadvertised_speeds;\n#define QED_EXT_SPEED_MASK_RES\t\t\t0x1\n#define QED_EXT_SPEED_MASK_1G\t\t\t0x2\n#define QED_EXT_SPEED_MASK_10G\t\t\t0x4\n#define QED_EXT_SPEED_MASK_20G\t\t\t0x8\n#define QED_EXT_SPEED_MASK_25G\t\t\t0x10\n#define QED_EXT_SPEED_MASK_40G\t\t\t0x20\n#define QED_EXT_SPEED_MASK_50G_R\t\t0x40\n#define QED_EXT_SPEED_MASK_50G_R2\t\t0x80\n#define QED_EXT_SPEED_MASK_100G_R2\t\t0x100\n#define QED_EXT_SPEED_MASK_100G_R4\t\t0x200\n#define QED_EXT_SPEED_MASK_100G_P4\t\t0x400\n\n\tu32\t\t\t\t\tforced_speed;\t    \n#define QED_EXT_SPEED_1G\t\t\t0x1\n#define QED_EXT_SPEED_10G\t\t\t0x2\n#define QED_EXT_SPEED_20G\t\t\t0x4\n#define QED_EXT_SPEED_25G\t\t\t0x8\n#define QED_EXT_SPEED_40G\t\t\t0x10\n#define QED_EXT_SPEED_50G_R\t\t\t0x20\n#define QED_EXT_SPEED_50G_R2\t\t\t0x40\n#define QED_EXT_SPEED_100G_R2\t\t\t0x80\n#define QED_EXT_SPEED_100G_R4\t\t\t0x100\n#define QED_EXT_SPEED_100G_P4\t\t\t0x200\n};\n\nstruct qed_mcp_link_pause_params {\n\tbool\t\t\t\t\tautoneg;\n\tbool\t\t\t\t\tforced_rx;\n\tbool\t\t\t\t\tforced_tx;\n};\n\nenum qed_mcp_eee_mode {\n\tQED_MCP_EEE_DISABLED,\n\tQED_MCP_EEE_ENABLED,\n\tQED_MCP_EEE_UNSUPPORTED\n};\n\nstruct qed_mcp_link_params {\n\tstruct qed_mcp_link_speed_params\tspeed;\n\tstruct qed_mcp_link_pause_params\tpause;\n\tu32\t\t\t\t\tloopback_mode;\n\tstruct qed_link_eee_params\t\teee;\n\tu32\t\t\t\t\tfec;\n\n\tstruct qed_mcp_link_speed_params\text_speed;\n\tu32\t\t\t\t\text_fec_mode;\n};\n\nstruct qed_mcp_link_capabilities {\n\tu32\t\t\t\t\tspeed_capabilities;\n\tbool\t\t\t\t\tdefault_speed_autoneg;\n\tu32\t\t\t\t\tfec_default;\n\tenum qed_mcp_eee_mode\t\t\tdefault_eee;\n\tu32\t\t\t\t\teee_lpi_timer;\n\tu8\t\t\t\t\teee_speed_caps;\n\n\tu32\t\t\t\t\tdefault_ext_speed_caps;\n\tu32\t\t\t\t\tdefault_ext_autoneg;\n\tu32\t\t\t\t\tdefault_ext_speed;\n\tu32\t\t\t\t\tdefault_ext_fec;\n};\n\nstruct qed_mcp_link_state {\n\tbool\t\t\t\t\tlink_up;\n\tu32\t\t\t\t\tmin_pf_rate;\n\n\t \n\tu32\t\t\t\t\tline_speed;\n\n\t \n\tu32\t\t\t\t\tspeed;\n\n\tbool\t\t\t\t\tfull_duplex;\n\tbool\t\t\t\t\tan;\n\tbool\t\t\t\t\tan_complete;\n\tbool\t\t\t\t\tparallel_detection;\n\tbool\t\t\t\t\tpfc_enabled;\n\n\tu32\t\t\t\t\tpartner_adv_speed;\n#define QED_LINK_PARTNER_SPEED_1G_HD\t\tBIT(0)\n#define QED_LINK_PARTNER_SPEED_1G_FD\t\tBIT(1)\n#define QED_LINK_PARTNER_SPEED_10G\t\tBIT(2)\n#define QED_LINK_PARTNER_SPEED_20G\t\tBIT(3)\n#define QED_LINK_PARTNER_SPEED_25G\t\tBIT(4)\n#define QED_LINK_PARTNER_SPEED_40G\t\tBIT(5)\n#define QED_LINK_PARTNER_SPEED_50G\t\tBIT(6)\n#define QED_LINK_PARTNER_SPEED_100G\t\tBIT(7)\n\n\tbool\t\t\t\t\tpartner_tx_flow_ctrl_en;\n\tbool\t\t\t\t\tpartner_rx_flow_ctrl_en;\n\n\tu8\t\t\t\t\tpartner_adv_pause;\n#define QED_LINK_PARTNER_SYMMETRIC_PAUSE\t0x1\n#define QED_LINK_PARTNER_ASYMMETRIC_PAUSE\t0x2\n#define QED_LINK_PARTNER_BOTH_PAUSE\t\t0x3\n\n\tbool\t\t\t\t\tsfp_tx_fault;\n\tbool\t\t\t\t\teee_active;\n\tu8\t\t\t\t\teee_adv_caps;\n\tu8\t\t\t\t\teee_lp_adv_caps;\n\n\tu32\t\t\t\t\tfec_active;\n};\n\nstruct qed_mcp_function_info {\n\tu8\t\t\t\tpause_on_host;\n\n\tenum qed_pci_personality\tprotocol;\n\n\tu8\t\t\t\tbandwidth_min;\n\tu8\t\t\t\tbandwidth_max;\n\n\tu8\t\t\t\tmac[ETH_ALEN];\n\n\tu64\t\t\t\twwn_port;\n\tu64\t\t\t\twwn_node;\n\n#define QED_MCP_VLAN_UNSET              (0xffff)\n\tu16\t\t\t\tovlan;\n\n\tu16\t\t\t\tmtu;\n};\n\nstruct qed_mcp_nvm_common {\n\tu32\toffset;\n\tu32\tparam;\n\tu32\tresp;\n\tu32\tcmd;\n};\n\nstruct qed_mcp_drv_version {\n\tu32\tversion;\n\tu8\tname[MCP_DRV_VER_STR_SIZE - 4];\n};\n\nstruct qed_mcp_lan_stats {\n\tu64 ucast_rx_pkts;\n\tu64 ucast_tx_pkts;\n\tu32 fcs_err;\n};\n\nstruct qed_mcp_fcoe_stats {\n\tu64 rx_pkts;\n\tu64 tx_pkts;\n\tu32 fcs_err;\n\tu32 login_failure;\n};\n\nstruct qed_mcp_iscsi_stats {\n\tu64 rx_pdus;\n\tu64 tx_pdus;\n\tu64 rx_bytes;\n\tu64 tx_bytes;\n};\n\nstruct qed_mcp_rdma_stats {\n\tu64 rx_pkts;\n\tu64 tx_pkts;\n\tu64 rx_bytes;\n\tu64 tx_byts;\n};\n\nenum qed_mcp_protocol_type {\n\tQED_MCP_LAN_STATS,\n\tQED_MCP_FCOE_STATS,\n\tQED_MCP_ISCSI_STATS,\n\tQED_MCP_RDMA_STATS\n};\n\nunion qed_mcp_protocol_stats {\n\tstruct qed_mcp_lan_stats lan_stats;\n\tstruct qed_mcp_fcoe_stats fcoe_stats;\n\tstruct qed_mcp_iscsi_stats iscsi_stats;\n\tstruct qed_mcp_rdma_stats rdma_stats;\n};\n\nenum qed_ov_eswitch {\n\tQED_OV_ESWITCH_NONE,\n\tQED_OV_ESWITCH_VEB,\n\tQED_OV_ESWITCH_VEPA\n};\n\nenum qed_ov_client {\n\tQED_OV_CLIENT_DRV,\n\tQED_OV_CLIENT_USER,\n\tQED_OV_CLIENT_VENDOR_SPEC\n};\n\nenum qed_ov_driver_state {\n\tQED_OV_DRIVER_STATE_NOT_LOADED,\n\tQED_OV_DRIVER_STATE_DISABLED,\n\tQED_OV_DRIVER_STATE_ACTIVE\n};\n\nenum qed_ov_wol {\n\tQED_OV_WOL_DEFAULT,\n\tQED_OV_WOL_DISABLED,\n\tQED_OV_WOL_ENABLED\n};\n\nenum qed_mfw_tlv_type {\n\tQED_MFW_TLV_GENERIC = 0x1,\t \n\tQED_MFW_TLV_ETH = 0x2,\t\t \n\tQED_MFW_TLV_FCOE = 0x4,\t\t \n\tQED_MFW_TLV_ISCSI = 0x8,\t \n\tQED_MFW_TLV_MAX = 0x16,\n};\n\nstruct qed_mfw_tlv_generic {\n#define QED_MFW_TLV_FLAGS_SIZE\t2\n\tstruct {\n\t\tu8 ipv4_csum_offload;\n\t\tu8 lso_supported;\n\t\tbool b_set;\n\t} flags;\n\n#define QED_MFW_TLV_MAC_COUNT 3\n\t \n\tu8 mac[QED_MFW_TLV_MAC_COUNT][6];\n\tbool mac_set[QED_MFW_TLV_MAC_COUNT];\n\n\tu64 rx_frames;\n\tbool rx_frames_set;\n\tu64 rx_bytes;\n\tbool rx_bytes_set;\n\tu64 tx_frames;\n\tbool tx_frames_set;\n\tu64 tx_bytes;\n\tbool tx_bytes_set;\n};\n\nunion qed_mfw_tlv_data {\n\tstruct qed_mfw_tlv_generic generic;\n\tstruct qed_mfw_tlv_eth eth;\n\tstruct qed_mfw_tlv_fcoe fcoe;\n\tstruct qed_mfw_tlv_iscsi iscsi;\n};\n\n#define QED_NVM_CFG_OPTION_ALL\t\tBIT(0)\n#define QED_NVM_CFG_OPTION_INIT\t\tBIT(1)\n#define QED_NVM_CFG_OPTION_COMMIT       BIT(2)\n#define QED_NVM_CFG_OPTION_FREE\t\tBIT(3)\n#define QED_NVM_CFG_OPTION_ENTITY_SEL\tBIT(4)\n\n \nstruct qed_mcp_link_params *qed_mcp_get_link_params(struct qed_hwfn *p_hwfn);\n\n \nstruct qed_mcp_link_state *qed_mcp_get_link_state(struct qed_hwfn *p_hwfn);\n\n \nstruct qed_mcp_link_capabilities\n\t*qed_mcp_get_link_capabilities(struct qed_hwfn *p_hwfn);\n\n \nint qed_mcp_set_link(struct qed_hwfn   *p_hwfn,\n\t\t     struct qed_ptt     *p_ptt,\n\t\t     bool               b_up);\n\n \nint qed_mcp_get_mfw_ver(struct qed_hwfn *p_hwfn,\n\t\t\tstruct qed_ptt *p_ptt,\n\t\t\tu32 *p_mfw_ver, u32 *p_running_bundle_id);\n\n \nint qed_mcp_get_mbi_ver(struct qed_hwfn *p_hwfn,\n\t\t\tstruct qed_ptt *p_ptt, u32 *p_mbi_ver);\n\n \nint qed_mcp_get_media_type(struct qed_hwfn *p_hwfn,\n\t\t\t   struct qed_ptt *p_ptt, u32 *media_type);\n\n \nint qed_mcp_get_transceiver_data(struct qed_hwfn *p_hwfn,\n\t\t\t\t struct qed_ptt *p_ptt,\n\t\t\t\t u32 *p_transceiver_state,\n\t\t\t\t u32 *p_tranceiver_type);\n\n \n\nint qed_mcp_trans_speed_mask(struct qed_hwfn *p_hwfn,\n\t\t\t     struct qed_ptt *p_ptt, u32 *p_speed_mask);\n\n \nint qed_mcp_get_board_config(struct qed_hwfn *p_hwfn,\n\t\t\t     struct qed_ptt *p_ptt, u32 *p_board_config);\n\n \nint qed_mcp_cmd(struct qed_hwfn *p_hwfn,\n\t\tstruct qed_ptt *p_ptt,\n\t\tu32 cmd,\n\t\tu32 param,\n\t\tu32 *o_mcp_resp,\n\t\tu32 *o_mcp_param);\n\n \nint qed_mcp_cmd_nosleep(struct qed_hwfn *p_hwfn,\n\t\t\tstruct qed_ptt *p_ptt,\n\t\t\tu32 cmd,\n\t\t\tu32 param,\n\t\t\tu32 *o_mcp_resp,\n\t\t\tu32 *o_mcp_param);\n\n \nint qed_mcp_drain(struct qed_hwfn *p_hwfn,\n\t\t  struct qed_ptt *p_ptt);\n\n \nint qed_mcp_get_flash_size(struct qed_hwfn     *p_hwfn,\n\t\t\t   struct qed_ptt       *p_ptt,\n\t\t\t   u32 *p_flash_size);\n\n \nint\nqed_mcp_send_drv_version(struct qed_hwfn *p_hwfn,\n\t\t\t struct qed_ptt *p_ptt,\n\t\t\t struct qed_mcp_drv_version *p_ver);\n\n \nu32 qed_get_process_kill_counter(struct qed_hwfn *p_hwfn,\n\t\t\t\t struct qed_ptt *p_ptt);\n\n \nint qed_start_recovery_process(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt);\n\n \nint qed_recovery_prolog(struct qed_dev *cdev);\n\n \nint qed_mcp_ov_update_current_config(struct qed_hwfn *p_hwfn,\n\t\t\t\t     struct qed_ptt *p_ptt,\n\t\t\t\t     enum qed_ov_client client);\n\n \nint qed_mcp_ov_update_driver_state(struct qed_hwfn *p_hwfn,\n\t\t\t\t   struct qed_ptt *p_ptt,\n\t\t\t\t   enum qed_ov_driver_state drv_state);\n\n \nint qed_mcp_ov_update_mtu(struct qed_hwfn *p_hwfn,\n\t\t\t  struct qed_ptt *p_ptt, u16 mtu);\n\n \nint qed_mcp_ov_update_mac(struct qed_hwfn *p_hwfn,\n\t\t\t  struct qed_ptt *p_ptt, const u8 *mac);\n\n \nint qed_mcp_ov_update_wol(struct qed_hwfn *p_hwfn,\n\t\t\t  struct qed_ptt *p_ptt,\n\t\t\t  enum qed_ov_wol wol);\n\n \nint qed_mcp_set_led(struct qed_hwfn *p_hwfn,\n\t\t    struct qed_ptt *p_ptt,\n\t\t    enum qed_led_mode mode);\n\n \nint qed_mcp_nvm_read(struct qed_dev *cdev, u32 addr, u8 *p_buf, u32 len);\n\n \nint qed_mcp_nvm_write(struct qed_dev *cdev,\n\t\t      u32 cmd, u32 addr, u8 *p_buf, u32 len);\n\n \nint qed_mcp_nvm_resp(struct qed_dev *cdev, u8 *p_buf);\n\nstruct qed_nvm_image_att {\n\tu32 start_addr;\n\tu32 length;\n};\n\n \nint\nqed_mcp_get_nvm_image_att(struct qed_hwfn *p_hwfn,\n\t\t\t  enum qed_nvm_images image_id,\n\t\t\t  struct qed_nvm_image_att *p_image_att);\n\n \nint qed_mcp_get_nvm_image(struct qed_hwfn *p_hwfn,\n\t\t\t  enum qed_nvm_images image_id,\n\t\t\t  u8 *p_buffer, u32 buffer_len);\n\n \nint qed_mcp_bist_register_test(struct qed_hwfn *p_hwfn,\n\t\t\t       struct qed_ptt *p_ptt);\n\n \nint qed_mcp_bist_clock_test(struct qed_hwfn *p_hwfn,\n\t\t\t    struct qed_ptt *p_ptt);\n\n \nint qed_mcp_bist_nvm_get_num_images(struct qed_hwfn *p_hwfn,\n\t\t\t\t    struct qed_ptt *p_ptt,\n\t\t\t\t    u32 *num_images);\n\n \nint qed_mcp_bist_nvm_get_image_att(struct qed_hwfn *p_hwfn,\n\t\t\t\t   struct qed_ptt *p_ptt,\n\t\t\t\t   struct bist_nvm_image_att *p_image_att,\n\t\t\t\t   u32 image_index);\n\n \nint qed_mfw_process_tlv_req(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt);\n\n \nint\nqed_mcp_send_raw_debug_data(struct qed_hwfn *p_hwfn,\n\t\t\t    struct qed_ptt *p_ptt, u8 *p_buf, u32 size);\n\n \n#define MCP_PF_ID_BY_REL(p_hwfn, rel_pfid) (QED_IS_BB((p_hwfn)->cdev) ?\t       \\\n\t\t\t\t\t    ((rel_pfid) |\t\t       \\\n\t\t\t\t\t     ((p_hwfn)->abs_pf_id & 1) << 3) : \\\n\t\t\t\t\t    rel_pfid)\n#define MCP_PF_ID(p_hwfn) MCP_PF_ID_BY_REL(p_hwfn, (p_hwfn)->rel_pf_id)\n\nstruct qed_mcp_info {\n\t \n\tstruct list_head\t\t\tcmd_list;\n\n\t \n\tspinlock_t\t\t\t\tcmd_lock;\n\n\t \n\tbool\t\t\t\t\tb_block_cmd;\n\n\t \n\tspinlock_t\t\t\t\tlink_lock;\n\n\tu32\t\t\t\t\tpublic_base;\n\tu32\t\t\t\t\tdrv_mb_addr;\n\tu32\t\t\t\t\tmfw_mb_addr;\n\tu32\t\t\t\t\tport_addr;\n\tu16\t\t\t\t\tdrv_mb_seq;\n\tu16\t\t\t\t\tdrv_pulse_seq;\n\tstruct qed_mcp_link_params\t\tlink_input;\n\tstruct qed_mcp_link_state\t\tlink_output;\n\tstruct qed_mcp_link_capabilities\tlink_capabilities;\n\tstruct qed_mcp_function_info\t\tfunc_info;\n\tu8\t\t\t\t\t*mfw_mb_cur;\n\tu8\t\t\t\t\t*mfw_mb_shadow;\n\tu16\t\t\t\t\tmfw_mb_length;\n\tu32\t\t\t\t\tmcp_hist;\n\n\t \n\tu32\t\t\t\t\tcapabilities;\n\n\t \n\tatomic_t dbg_data_seq;\n\n\t \n\tspinlock_t unload_lock;\n\tunsigned long mcp_handling_status;\n#define QED_MCP_BYPASS_PROC_BIT 0\n#define QED_MCP_IN_PROCESSING_BIT       1\n};\n\nstruct qed_mcp_mb_params {\n\tu32 cmd;\n\tu32 param;\n\tvoid *p_data_src;\n\tvoid *p_data_dst;\n\tu8 data_src_size;\n\tu8 data_dst_size;\n\tu32 mcp_resp;\n\tu32 mcp_param;\n\tu32 flags;\n#define QED_MB_FLAG_CAN_SLEEP\t(0x1 << 0)\n#define QED_MB_FLAG_AVOID_BLOCK\t(0x1 << 1)\n#define QED_MB_FLAGS_IS_SET(params, flag) \\\n\t({ typeof(params) __params = (params); \\\n\t   (__params && (__params->flags & QED_MB_FLAG_ ## flag)); })\n};\n\nstruct qed_drv_tlv_hdr {\n\tu8 tlv_type;\n\tu8 tlv_length;\t \n\tu8 tlv_reserved;\n#define QED_DRV_TLV_FLAGS_CHANGED 0x01\n\tu8 tlv_flags;\n};\n\n \nstatic inline bool\nqed_mcp_is_ext_speed_supported(const struct qed_hwfn *p_hwfn)\n{\n\treturn !!(p_hwfn->mcp_info->capabilities &\n\t\t  FW_MB_PARAM_FEATURE_SUPPORT_EXT_SPEED_FEC_CONTROL);\n}\n\n \nint qed_mcp_cmd_init(struct qed_hwfn *p_hwfn,\n\t\t     struct qed_ptt *p_ptt);\n\n \nvoid qed_mcp_cmd_port_init(struct qed_hwfn *p_hwfn,\n\t\t\t   struct qed_ptt *p_ptt);\n \n\nint qed_mcp_free(struct qed_hwfn *p_hwfn);\n\n \nint qed_mcp_handle_events(struct qed_hwfn *p_hwfn,\n\t\t\t  struct qed_ptt *p_ptt);\n\nenum qed_drv_role {\n\tQED_DRV_ROLE_OS,\n\tQED_DRV_ROLE_KDUMP,\n};\n\nstruct qed_load_req_params {\n\t \n\tenum qed_drv_role drv_role;\n\tu8 timeout_val;\n\tbool avoid_eng_reset;\n\tenum qed_override_force_load override_force_load;\n\n\t \n\tu32 load_code;\n};\n\n \nint qed_mcp_load_req(struct qed_hwfn *p_hwfn,\n\t\t     struct qed_ptt *p_ptt,\n\t\t     struct qed_load_req_params *p_params);\n\n \nint qed_mcp_load_done(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt);\n\n \nint qed_mcp_unload_req(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt);\n\n \nint qed_mcp_unload_done(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt);\n\n \nvoid qed_mcp_read_mb(struct qed_hwfn *p_hwfn,\n\t\t     struct qed_ptt *p_ptt);\n\n \nint qed_mcp_ack_vf_flr(struct qed_hwfn *p_hwfn,\n\t\t       struct qed_ptt *p_ptt, u32 *vfs_to_ack);\n\n \nint qed_mcp_fill_shmem_func_info(struct qed_hwfn *p_hwfn,\n\t\t\t\t struct qed_ptt *p_ptt);\n\n \nint qed_mcp_reset(struct qed_hwfn *p_hwfn,\n\t\t  struct qed_ptt *p_ptt);\n\n \nint qed_mcp_nvm_rd_cmd(struct qed_hwfn *p_hwfn,\n\t\t       struct qed_ptt *p_ptt,\n\t\t       u32 cmd,\n\t\t       u32 param,\n\t\t       u32 *o_mcp_resp,\n\t\t       u32 *o_mcp_param,\n\t\t       u32 *o_txn_size, u32 *o_buf, bool b_can_sleep);\n\n \nint qed_mcp_phy_sfp_read(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt,\n\t\t\t u32 port, u32 addr, u32 offset, u32 len, u8 *p_buf);\n\n \nbool qed_mcp_is_init(struct qed_hwfn *p_hwfn);\n\n \nint qed_mcp_config_vf_msix(struct qed_hwfn *p_hwfn,\n\t\t\t   struct qed_ptt *p_ptt, u8 vf_id, u8 num);\n\n \nint qed_mcp_halt(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt);\n\n \nint qed_mcp_resume(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt);\n\nint qed_configure_pf_min_bandwidth(struct qed_dev *cdev, u8 min_bw);\nint qed_configure_pf_max_bandwidth(struct qed_dev *cdev, u8 max_bw);\nint __qed_configure_pf_max_bandwidth(struct qed_hwfn *p_hwfn,\n\t\t\t\t     struct qed_ptt *p_ptt,\n\t\t\t\t     struct qed_mcp_link_state *p_link,\n\t\t\t\t     u8 max_bw);\nint __qed_configure_pf_min_bandwidth(struct qed_hwfn *p_hwfn,\n\t\t\t\t     struct qed_ptt *p_ptt,\n\t\t\t\t     struct qed_mcp_link_state *p_link,\n\t\t\t\t     u8 min_bw);\n\nint qed_mcp_mask_parities(struct qed_hwfn *p_hwfn,\n\t\t\t  struct qed_ptt *p_ptt, u32 mask_parities);\n\n \nint\nqed_mcp_mdump_get_retain(struct qed_hwfn *p_hwfn,\n\t\t\t struct qed_ptt *p_ptt,\n\t\t\t struct mdump_retain_data_stc *p_mdump_retain);\n\n \nint\nqed_mcp_set_resc_max_val(struct qed_hwfn *p_hwfn,\n\t\t\t struct qed_ptt *p_ptt,\n\t\t\t enum qed_resources res_id,\n\t\t\t u32 resc_max_val, u32 *p_mcp_resp);\n\n \nint\nqed_mcp_get_resc_info(struct qed_hwfn *p_hwfn,\n\t\t      struct qed_ptt *p_ptt,\n\t\t      enum qed_resources res_id,\n\t\t      u32 *p_mcp_resp, u32 *p_resc_num, u32 *p_resc_start);\n\n \nint qed_mcp_ov_update_eswitch(struct qed_hwfn *p_hwfn,\n\t\t\t      struct qed_ptt *p_ptt,\n\t\t\t      enum qed_ov_eswitch eswitch);\n\n#define QED_MCP_RESC_LOCK_MIN_VAL       RESOURCE_DUMP\n#define QED_MCP_RESC_LOCK_MAX_VAL       31\n\nenum qed_resc_lock {\n\tQED_RESC_LOCK_DBG_DUMP = QED_MCP_RESC_LOCK_MIN_VAL,\n\tQED_RESC_LOCK_PTP_PORT0,\n\tQED_RESC_LOCK_PTP_PORT1,\n\tQED_RESC_LOCK_PTP_PORT2,\n\tQED_RESC_LOCK_PTP_PORT3,\n\tQED_RESC_LOCK_RESC_ALLOC = QED_MCP_RESC_LOCK_MAX_VAL,\n\tQED_RESC_LOCK_RESC_INVALID\n};\n\n \nint qed_mcp_initiate_pf_flr(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt);\nstruct qed_resc_lock_params {\n\t \n\tu8 resource;\n\n\t \n\tu8 timeout;\n#define QED_MCP_RESC_LOCK_TO_DEFAULT    0\n#define QED_MCP_RESC_LOCK_TO_NONE       255\n\n\t \n\tu8 retry_num;\n#define QED_MCP_RESC_LOCK_RETRY_CNT_DFLT        10\n\n\t \n\tu16 retry_interval;\n#define QED_MCP_RESC_LOCK_RETRY_VAL_DFLT        10000\n\n\t \n\tbool sleep_b4_retry;\n\n\t \n\tbool b_granted;\n\n\t \n\tu8 owner;\n};\n\n \nint\nqed_mcp_resc_lock(struct qed_hwfn *p_hwfn,\n\t\t  struct qed_ptt *p_ptt, struct qed_resc_lock_params *p_params);\n\nstruct qed_resc_unlock_params {\n\t \n\tu8 resource;\n\n\t \n\tbool b_force;\n\n\t \n\tbool b_released;\n};\n\n \nint\nqed_mcp_resc_unlock(struct qed_hwfn *p_hwfn,\n\t\t    struct qed_ptt *p_ptt,\n\t\t    struct qed_resc_unlock_params *p_params);\n\n \nvoid qed_mcp_resc_lock_default_init(struct qed_resc_lock_params *p_lock,\n\t\t\t\t    struct qed_resc_unlock_params *p_unlock,\n\t\t\t\t    enum qed_resc_lock\n\t\t\t\t    resource, bool b_is_permanent);\n\n \nbool qed_mcp_is_smart_an_supported(struct qed_hwfn *p_hwfn);\n\n \nint qed_mcp_get_capabilities(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt);\n\n \nint qed_mcp_set_capabilities(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt);\n\n \nvoid qed_mcp_read_ufp_config(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt);\n\n \nint qed_mcp_nvm_info_populate(struct qed_hwfn *p_hwfn);\n\n \nvoid qed_mcp_nvm_info_free(struct qed_hwfn *p_hwfn);\n\n \nint qed_mcp_get_engine_config(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt);\n\n \nint qed_mcp_get_ppfid_bitmap(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt);\n\n \nint qed_mcp_nvm_get_cfg(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt,\n\t\t\tu16 option_id, u8 entity_id, u16 flags, u8 *p_buf,\n\t\t\tu32 *p_len);\n\n \nint qed_mcp_nvm_set_cfg(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt,\n\t\t\tu16 option_id, u8 entity_id, u16 flags, u8 *p_buf,\n\t\t\tu32 len);\n\n \nbool qed_mcp_is_esl_supported(struct qed_hwfn *p_hwfn);\n\n \nint qed_mcp_get_esl_status(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt, bool *active);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}