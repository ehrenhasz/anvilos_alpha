{
  "module_name": "qed_int.h",
  "hash_id": "aed04aaed83ad6ed39998d084e631cc86d090df0382ee411d8f7ce804c7e05f2",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/qlogic/qed/qed_int.h",
  "human_readable_source": " \n \n\n#ifndef _QED_INT_H\n#define _QED_INT_H\n\n#include <linux/types.h>\n#include <linux/slab.h>\n#include \"qed.h\"\n\n \n#define IGU_PF_CONF_FUNC_EN       (0x1 << 0)     \n#define IGU_PF_CONF_MSI_MSIX_EN   (0x1 << 1)     \n#define IGU_PF_CONF_INT_LINE_EN   (0x1 << 2)     \n#define IGU_PF_CONF_ATTN_BIT_EN   (0x1 << 3)     \n#define IGU_PF_CONF_SINGLE_ISR_EN (0x1 << 4)     \n#define IGU_PF_CONF_SIMD_MODE     (0x1 << 5)     \n \n#define IGU_VF_CONF_FUNC_EN        (0x1 << 0)\t \n#define IGU_VF_CONF_MSI_MSIX_EN    (0x1 << 1)\t \n#define IGU_VF_CONF_SINGLE_ISR_EN  (0x1 << 4)\t \n#define IGU_VF_CONF_PARENT_MASK    (0xF)\t \n#define IGU_VF_CONF_PARENT_SHIFT   5\t\t \n\n \nenum igu_ctrl_cmd {\n\tIGU_CTRL_CMD_TYPE_RD,\n\tIGU_CTRL_CMD_TYPE_WR,\n\tMAX_IGU_CTRL_CMD\n};\n\n \nstruct igu_ctrl_reg {\n\tu32 ctrl_data;\n#define IGU_CTRL_REG_FID_MASK           0xFFFF   \n#define IGU_CTRL_REG_FID_SHIFT          0\n#define IGU_CTRL_REG_PXP_ADDR_MASK      0xFFF    \n#define IGU_CTRL_REG_PXP_ADDR_SHIFT     16\n#define IGU_CTRL_REG_RESERVED_MASK      0x1\n#define IGU_CTRL_REG_RESERVED_SHIFT     28\n#define IGU_CTRL_REG_TYPE_MASK          0x1  \n#define IGU_CTRL_REG_TYPE_SHIFT         31\n};\n\nenum qed_coalescing_fsm {\n\tQED_COAL_RX_STATE_MACHINE,\n\tQED_COAL_TX_STATE_MACHINE\n};\n\n \nvoid qed_int_igu_enable_int(struct qed_hwfn *p_hwfn,\n\t\t\t    struct qed_ptt *p_ptt,\n\t\t\t    enum qed_int_mode int_mode);\n\n \nvoid qed_int_igu_disable_int(struct qed_hwfn *p_hwfn,\n\t\t\t     struct qed_ptt *p_ptt);\n\n \nu64 qed_int_igu_read_sisr_reg(struct qed_hwfn *p_hwfn);\n\n#define QED_SP_SB_ID 0xffff\n \nint qed_int_sb_init(struct qed_hwfn *p_hwfn,\n\t\t    struct qed_ptt *p_ptt,\n\t\t    struct qed_sb_info *sb_info,\n\t\t    void *sb_virt_addr,\n\t\t    dma_addr_t sb_phy_addr,\n\t\t    u16 sb_id);\n \nvoid qed_int_sb_setup(struct qed_hwfn *p_hwfn,\n\t\t      struct qed_ptt *p_ptt,\n\t\t      struct qed_sb_info *sb_info);\n\n \nint qed_int_sb_release(struct qed_hwfn *p_hwfn,\n\t\t       struct qed_sb_info *sb_info,\n\t\t       u16 sb_id);\n\n \nvoid qed_int_sp_dpc(struct tasklet_struct *t);\n\n \nvoid qed_int_get_num_sbs(struct qed_hwfn\t*p_hwfn,\n\t\t\t struct qed_sb_cnt_info *p_sb_cnt_info);\n\n \nvoid qed_int_disable_post_isr_release(struct qed_dev *cdev);\n\n \nvoid qed_int_attn_clr_enable(struct qed_dev *cdev, bool clr_enable);\n\n \nint qed_int_get_sb_dbg(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt,\n\t\t       struct qed_sb_info *p_sb, struct qed_sb_info_dbg *p_info);\n\n \nint qed_db_rec_handler(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt);\n\n#define QED_CAU_DEF_RX_TIMER_RES 0\n#define QED_CAU_DEF_TX_TIMER_RES 0\n\n#define QED_SB_ATT_IDX  0x0001\n#define QED_SB_EVENT_MASK       0x0003\n\n#define SB_ALIGNED_SIZE(p_hwfn)\t\\\n\tALIGNED_TYPE_SIZE(struct status_block, p_hwfn)\n\n#define QED_SB_INVALID_IDX      0xffff\n\nstruct qed_igu_block {\n\tu8 status;\n#define QED_IGU_STATUS_FREE     0x01\n#define QED_IGU_STATUS_VALID    0x02\n#define QED_IGU_STATUS_PF       0x04\n#define QED_IGU_STATUS_DSB      0x08\n\n\tu8 vector_number;\n\tu8 function_id;\n\tu8 is_pf;\n\n\t \n\tu16 igu_sb_id;\n\n\tstruct qed_sb_info *sb_info;\n};\n\nstruct qed_igu_info {\n\tstruct qed_igu_block entry[MAX_TOT_SB_PER_PATH];\n\tu16 igu_dsb_id;\n\n\tstruct qed_sb_cnt_info usage;\n\n\tbool b_allow_pf_vf_change;\n};\n\n \nint qed_int_igu_reset_cam(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt);\n\n \nu16 qed_get_igu_sb_id(struct qed_hwfn *p_hwfn, u16 sb_id);\n\n \nstruct qed_igu_block *qed_get_igu_free_sb(struct qed_hwfn *p_hwfn,\n\t\t\t\t\t  bool b_is_pf);\n\nvoid qed_int_igu_init_pure_rt(struct qed_hwfn *p_hwfn,\n\t\t\t      struct qed_ptt *p_ptt,\n\t\t\t      bool b_set,\n\t\t\t      bool b_slowpath);\n\nvoid qed_int_igu_init_rt(struct qed_hwfn *p_hwfn);\n\n \nint qed_int_igu_read_cam(struct qed_hwfn *p_hwfn,\n\t\t\t struct qed_ptt *p_ptt);\n\ntypedef int (*qed_int_comp_cb_t)(struct qed_hwfn *p_hwfn,\n\t\t\t\t void *cookie);\n \nint qed_int_register_cb(struct qed_hwfn *p_hwfn,\n\t\t\tqed_int_comp_cb_t comp_cb,\n\t\t\tvoid *cookie,\n\t\t\tu8 *sb_idx,\n\t\t\t__le16 **p_fw_cons);\n\n \nint qed_int_unregister_cb(struct qed_hwfn *p_hwfn,\n\t\t\t  u8 pi);\n\n \nu16 qed_int_get_sp_sb_id(struct qed_hwfn *p_hwfn);\n\n \nvoid qed_int_igu_init_pure_rt_single(struct qed_hwfn *p_hwfn,\n\t\t\t\t     struct qed_ptt *p_ptt,\n\t\t\t\t     u16 igu_sb_id,\n\t\t\t\t     u16 opaque,\n\t\t\t\t     bool b_set);\n\n \nvoid qed_int_cau_conf_sb(struct qed_hwfn *p_hwfn,\n\t\t\t struct qed_ptt *p_ptt,\n\t\t\t dma_addr_t sb_phys,\n\t\t\t u16 igu_sb_id,\n\t\t\t u16 vf_number,\n\t\t\t u8 vf_valid);\n\n \nint qed_int_alloc(struct qed_hwfn *p_hwfn,\n\t\t  struct qed_ptt *p_ptt);\n\n \nvoid qed_int_free(struct qed_hwfn *p_hwfn);\n\n \nvoid qed_int_setup(struct qed_hwfn *p_hwfn,\n\t\t   struct qed_ptt *p_ptt);\n\n \nint qed_int_igu_enable(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt,\n\t\t       enum qed_int_mode int_mode);\n\n \nvoid qed_init_cau_sb_entry(struct qed_hwfn *p_hwfn,\n\t\t\t   struct cau_sb_entry *p_sb_entry,\n\t\t\t   u8 pf_id,\n\t\t\t   u16 vf_number,\n\t\t\t   u8 vf_valid);\n\nint qed_int_set_timer_res(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt,\n\t\t\t  u8 timer_res, u16 sb_id, bool tx);\n\n#define QED_MAPPING_MEMORY_SIZE(dev)\t(NUM_OF_SBS(dev))\n\nint qed_pglueb_rbc_attn_handler(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt,\n\t\t\t\tbool hw_init);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}