{
  "module_name": "qed_ooo.h",
  "hash_id": "19b03ebc1d62c3784cee38aa0f4a7491c237ab4a88b2c8297326e95ab7d64f48",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/qlogic/qed/qed_ooo.h",
  "human_readable_source": " \n \n\n#ifndef _QED_OOO_H\n#define _QED_OOO_H\n#include <linux/types.h>\n#include <linux/list.h>\n#include <linux/slab.h>\n#include \"qed.h\"\n\n#define QED_MAX_NUM_ISLES\t256\n#define QED_MAX_NUM_OOO_HISTORY_ENTRIES\t512\n\n#define QED_OOO_LEFT_BUF\t0\n#define QED_OOO_RIGHT_BUF\t1\n\nstruct qed_ooo_buffer {\n\tstruct list_head list_entry;\n\tvoid *rx_buffer_virt_addr;\n\tdma_addr_t rx_buffer_phys_addr;\n\tu32 rx_buffer_size;\n\tu16 packet_length;\n\tu16 parse_flags;\n\tu16 vlan;\n\tu8 placement_offset;\n};\n\nstruct qed_ooo_isle {\n\tstruct list_head list_entry;\n\tstruct list_head buffers_list;\n};\n\nstruct qed_ooo_archipelago {\n\tstruct list_head isles_list;\n};\n\nstruct qed_ooo_history {\n\tstruct ooo_opaque *p_cqes;\n\tu32 head_idx;\n\tu32 num_of_cqes;\n};\n\nstruct qed_ooo_info {\n\tstruct list_head free_buffers_list;\n\tstruct list_head ready_buffers_list;\n\tstruct list_head free_isles_list;\n\tstruct qed_ooo_archipelago *p_archipelagos_mem;\n\tstruct qed_ooo_isle *p_isles_mem;\n\tstruct qed_ooo_history ooo_history;\n\tu32 cur_isles_number;\n\tu32 max_isles_number;\n\tu32 gen_isles_number;\n\tu16 max_num_archipelagos;\n\tu16 cid_base;\n};\n\n#if IS_ENABLED(CONFIG_QED_OOO)\nvoid qed_ooo_save_history_entry(struct qed_hwfn *p_hwfn,\n\t\t\t\tstruct qed_ooo_info *p_ooo_info,\n\t\t\t\tstruct ooo_opaque *p_cqe);\n\nint qed_ooo_alloc(struct qed_hwfn *p_hwfn);\n\nvoid qed_ooo_setup(struct qed_hwfn *p_hwfn);\n\nvoid qed_ooo_free(struct qed_hwfn *p_hwfn);\n\nvoid qed_ooo_release_connection_isles(struct qed_hwfn *p_hwfn,\n\t\t\t\t      struct qed_ooo_info *p_ooo_info,\n\t\t\t\t      u32 cid);\n\nvoid qed_ooo_release_all_isles(struct qed_hwfn *p_hwfn,\n\t\t\t       struct qed_ooo_info *p_ooo_info);\n\nvoid qed_ooo_put_free_buffer(struct qed_hwfn *p_hwfn,\n\t\t\t     struct qed_ooo_info *p_ooo_info,\n\t\t\t     struct qed_ooo_buffer *p_buffer);\n\nstruct qed_ooo_buffer *\nqed_ooo_get_free_buffer(struct qed_hwfn *p_hwfn,\n\t\t\tstruct qed_ooo_info *p_ooo_info);\n\nvoid qed_ooo_put_ready_buffer(struct qed_hwfn *p_hwfn,\n\t\t\t      struct qed_ooo_info *p_ooo_info,\n\t\t\t      struct qed_ooo_buffer *p_buffer, u8 on_tail);\n\nstruct qed_ooo_buffer *\nqed_ooo_get_ready_buffer(struct qed_hwfn *p_hwfn,\n\t\t\t struct qed_ooo_info *p_ooo_info);\n\nvoid qed_ooo_delete_isles(struct qed_hwfn *p_hwfn,\n\t\t\t  struct qed_ooo_info *p_ooo_info,\n\t\t\t  u32 cid, u8 drop_isle, u8 drop_size);\n\nvoid qed_ooo_add_new_isle(struct qed_hwfn *p_hwfn,\n\t\t\t  struct qed_ooo_info *p_ooo_info,\n\t\t\t  u32 cid,\n\t\t\t  u8 ooo_isle, struct qed_ooo_buffer *p_buffer);\n\nvoid qed_ooo_add_new_buffer(struct qed_hwfn *p_hwfn,\n\t\t\t    struct qed_ooo_info *p_ooo_info,\n\t\t\t    u32 cid,\n\t\t\t    u8 ooo_isle,\n\t\t\t    struct qed_ooo_buffer *p_buffer, u8 buffer_side);\n\nvoid qed_ooo_join_isles(struct qed_hwfn *p_hwfn,\n\t\t\tstruct qed_ooo_info *p_ooo_info, u32 cid,\n\t\t\tu8 left_isle);\n#else  \nstatic inline void qed_ooo_save_history_entry(struct qed_hwfn *p_hwfn,\n\t\t\t\t\t      struct qed_ooo_info *p_ooo_info,\n\t\t\t\t\t      struct ooo_opaque *p_cqe) {}\n\nstatic inline int qed_ooo_alloc(struct qed_hwfn *p_hwfn)\n{\n\treturn -EINVAL;\n}\n\nstatic inline void qed_ooo_setup(struct qed_hwfn *p_hwfn) {}\n\nstatic inline void qed_ooo_free(struct qed_hwfn *p_hwfn) {}\n\nstatic inline void\nqed_ooo_release_connection_isles(struct qed_hwfn *p_hwfn,\n\t\t\t\t struct qed_ooo_info *p_ooo_info,\n\t\t\t\t u32 cid) {}\n\nstatic inline void qed_ooo_release_all_isles(struct qed_hwfn *p_hwfn,\n\t\t\t\t\t     struct qed_ooo_info *p_ooo_info)\n\t\t\t\t\t     {}\n\nstatic inline void qed_ooo_put_free_buffer(struct qed_hwfn *p_hwfn,\n\t\t\t\t\t   struct qed_ooo_info *p_ooo_info,\n\t\t\t\t\t   struct qed_ooo_buffer *p_buffer) {}\n\nstatic inline struct qed_ooo_buffer *\nqed_ooo_get_free_buffer(struct qed_hwfn *p_hwfn,\n\t\t\tstruct qed_ooo_info *p_ooo_info) { return NULL; }\n\nstatic inline void qed_ooo_put_ready_buffer(struct qed_hwfn *p_hwfn,\n\t\t\t\t\t    struct qed_ooo_info *p_ooo_info,\n\t\t\t\t\t    struct qed_ooo_buffer *p_buffer,\n\t\t\t\t\t    u8 on_tail) {}\n\nstatic inline struct qed_ooo_buffer *\nqed_ooo_get_ready_buffer(struct qed_hwfn *p_hwfn,\n\t\t\t struct qed_ooo_info *p_ooo_info) { return NULL; }\n\nstatic inline void qed_ooo_delete_isles(struct qed_hwfn *p_hwfn,\n\t\t\t\t\tstruct qed_ooo_info *p_ooo_info,\n\t\t\t\t\tu32 cid, u8 drop_isle, u8 drop_size) {}\n\nstatic inline void qed_ooo_add_new_isle(struct qed_hwfn *p_hwfn,\n\t\t\t\t\tstruct qed_ooo_info *p_ooo_info,\n\t\t\t\t\tu32 cid, u8 ooo_isle,\n\t\t\t\t\tstruct qed_ooo_buffer *p_buffer) {}\n\nstatic inline void qed_ooo_add_new_buffer(struct qed_hwfn *p_hwfn,\n\t\t\t\t\t  struct qed_ooo_info *p_ooo_info,\n\t\t\t\t\t  u32 cid, u8 ooo_isle,\n\t\t\t\t\t  struct qed_ooo_buffer *p_buffer,\n\t\t\t\t\t  u8 buffer_side) {}\n\nstatic inline void qed_ooo_join_isles(struct qed_hwfn *p_hwfn,\n\t\t\t\t      struct qed_ooo_info *p_ooo_info, u32 cid,\n\t\t\t\t      u8 left_isle) {}\n#endif  \n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}