{
  "module_name": "qed_dcbx.h",
  "hash_id": "b27b2823848d540356c9ae8b358ae5aeffbd4313e48a199227e155f05073a661",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/qlogic/qed/qed_dcbx.h",
  "human_readable_source": " \n \n\n#ifndef _QED_DCBX_H\n#define _QED_DCBX_H\n#include <linux/types.h>\n#include <linux/slab.h>\n#include \"qed.h\"\n#include \"qed_hsi.h\"\n#include \"qed_hw.h\"\n#include \"qed_mcp.h\"\n#include \"qed_reg_addr.h\"\n\n#define DCBX_CONFIG_MAX_APP_PROTOCOL    4\n\nenum qed_mib_read_type {\n\tQED_DCBX_OPERATIONAL_MIB,\n\tQED_DCBX_REMOTE_MIB,\n\tQED_DCBX_LOCAL_MIB,\n\tQED_DCBX_REMOTE_LLDP_MIB,\n\tQED_DCBX_LOCAL_LLDP_MIB\n};\n\nstruct qed_dcbx_app_data {\n\tbool enable;\t\t \n\tu8 update;\t\t \n\tu8 priority;\t\t \n\tu8 tc;\t\t\t \n\tbool dont_add_vlan0;\t \n};\n\n#define QED_DCBX_VERSION_DISABLED       0\n#define QED_DCBX_VERSION_IEEE           1\n#define QED_DCBX_VERSION_CEE            2\n\nstruct qed_dcbx_set {\n#define QED_DCBX_OVERRIDE_STATE\t        BIT(0)\n#define QED_DCBX_OVERRIDE_PFC_CFG       BIT(1)\n#define QED_DCBX_OVERRIDE_ETS_CFG       BIT(2)\n#define QED_DCBX_OVERRIDE_APP_CFG       BIT(3)\n#define QED_DCBX_OVERRIDE_DSCP_CFG      BIT(4)\n\tu32 override_flags;\n\tbool enabled;\n\tstruct qed_dcbx_admin_params config;\n\tu32 ver_num;\n};\n\nstruct qed_dcbx_results {\n\tbool dcbx_enabled;\n\tu8 pf_id;\n\tstruct qed_dcbx_app_data arr[DCBX_MAX_PROTOCOL_TYPE];\n};\n\nstruct qed_dcbx_app_metadata {\n\tenum dcbx_protocol_type id;\n\tchar *name;\n\tenum qed_pci_personality personality;\n};\n\nstruct qed_dcbx_info {\n\tstruct lldp_status_params_s lldp_remote[LLDP_MAX_LLDP_AGENTS];\n\tstruct lldp_config_params_s lldp_local[LLDP_MAX_LLDP_AGENTS];\n\tstruct dcbx_local_params local_admin;\n\tstruct qed_dcbx_results results;\n\tstruct dcbx_mib operational;\n\tstruct dcbx_mib remote;\n\tstruct qed_dcbx_set set;\n\tstruct qed_dcbx_get get;\n\tu8 dcbx_cap;\n};\n\nstruct qed_dcbx_mib_meta_data {\n\tstruct lldp_config_params_s *lldp_local;\n\tstruct lldp_status_params_s *lldp_remote;\n\tstruct dcbx_local_params *local_admin;\n\tstruct dcbx_mib *mib;\n\tsize_t size;\n\tu32 addr;\n};\n\nextern const struct qed_eth_dcbnl_ops qed_dcbnl_ops_pass;\n\n#ifdef CONFIG_DCB\nint qed_dcbx_get_config_params(struct qed_hwfn *p_hwfn,\n\t\t\t       struct qed_dcbx_set *params);\n\nint qed_dcbx_config_params(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt,\n\t\t\t   struct qed_dcbx_set *params, bool hw_commit);\n#endif\n\n \nint\nqed_dcbx_mib_update_event(struct qed_hwfn *p_hwfn, struct qed_ptt *p_ptt,\n\t\t\t  enum qed_mib_read_type type);\n\nint qed_dcbx_info_alloc(struct qed_hwfn *p_hwfn);\nvoid qed_dcbx_info_free(struct qed_hwfn *p_hwfn);\nvoid qed_dcbx_set_pf_update_params(struct qed_dcbx_results *p_src,\n\t\t\t\t   struct pf_update_ramrod_data *p_dest);\n\n#define QED_DCBX_DEFAULT_TC\t0\n\nu8 qed_dcbx_get_priority_tc(struct qed_hwfn *p_hwfn, u8 pri);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}