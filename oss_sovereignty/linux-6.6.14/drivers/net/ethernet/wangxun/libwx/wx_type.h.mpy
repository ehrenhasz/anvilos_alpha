{
  "module_name": "wx_type.h",
  "hash_id": "a65d849d497b1b27d7535d2f0ec526dc4b1b4a88e4201dff23693768ae9377b7",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/wangxun/libwx/wx_type.h",
  "human_readable_source": " \n \n\n#ifndef _WX_TYPE_H_\n#define _WX_TYPE_H_\n\n#include <linux/bitfield.h>\n#include <linux/netdevice.h>\n#include <linux/if_vlan.h>\n#include <net/ip.h>\n\n#define WX_NCSI_SUP                             0x8000\n#define WX_NCSI_MASK                            0x8000\n#define WX_WOL_SUP                              0x4000\n#define WX_WOL_MASK                             0x4000\n\n \n#define WX_PCIE_MSIX_TBL_SZ_MASK                0x7FF\n#define WX_PCI_LINK_STATUS                      0xB2\n\n \n \n#define WX_MIS_PWR                   0x10000\n#define WX_MIS_RST                   0x1000C\n#define WX_MIS_RST_LAN_RST(_i)       BIT((_i) + 1)\n#define WX_MIS_RST_SW_RST            BIT(0)\n#define WX_MIS_ST                    0x10028\n#define WX_MIS_ST_MNG_INIT_DN        BIT(0)\n#define WX_MIS_SWSM                  0x1002C\n#define WX_MIS_SWSM_SMBI             BIT(0)\n#define WX_MIS_RST_ST                0x10030\n#define WX_MIS_RST_ST_RST_INI_SHIFT  8\n#define WX_MIS_RST_ST_RST_INIT       (0xFF << WX_MIS_RST_ST_RST_INI_SHIFT)\n\n \n#define WX_SPI_CMD                   0x10104\n#define WX_SPI_CMD_READ_DWORD        0x1\n#define WX_SPI_CLK_DIV               0x3\n#define WX_SPI_CMD_CMD(_v)           FIELD_PREP(GENMASK(30, 28), _v)\n#define WX_SPI_CMD_CLK(_v)           FIELD_PREP(GENMASK(27, 25), _v)\n#define WX_SPI_CMD_ADDR(_v)          FIELD_PREP(GENMASK(23, 0), _v)\n#define WX_SPI_DATA                  0x10108\n#define WX_SPI_DATA_BYPASS           BIT(31)\n#define WX_SPI_DATA_OP_DONE          BIT(0)\n#define WX_SPI_STATUS                0x1010C\n#define WX_SPI_STATUS_OPDONE         BIT(0)\n#define WX_SPI_STATUS_FLASH_BYPASS   BIT(31)\n#define WX_SPI_ILDR_STATUS           0x10120\n\n \n#define WX_TS_EN                     0x10304\n#define WX_TS_EN_ENA                 BIT(0)\n#define WX_TS_ALARM_THRE             0x1030C\n#define WX_TS_DALARM_THRE            0x10310\n#define WX_TS_INT_EN                 0x10314\n#define WX_TS_INT_EN_DALARM_INT_EN   BIT(1)\n#define WX_TS_INT_EN_ALARM_INT_EN    BIT(0)\n#define WX_TS_ALARM_ST               0x10318\n#define WX_TS_ALARM_ST_DALARM        BIT(1)\n#define WX_TS_ALARM_ST_ALARM         BIT(0)\n\n \n \n#define WX_CFG_PORT_CTL              0x14400\n#define WX_CFG_PORT_CTL_DRV_LOAD     BIT(3)\n#define WX_CFG_PORT_CTL_QINQ         BIT(2)\n#define WX_CFG_PORT_CTL_D_VLAN       BIT(0)  \n#define WX_CFG_TAG_TPID(_i)          (0x14430 + ((_i) * 4))\n#define WX_CFG_PORT_CTL_NUM_VT_MASK  GENMASK(13, 12)  \n\n\n \n#define WX_GPIO_DR                   0x14800\n#define WX_GPIO_DR_0                 BIT(0)  \n#define WX_GPIO_DR_1                 BIT(1)  \n#define WX_GPIO_DDR                  0x14804\n#define WX_GPIO_DDR_0                BIT(0)  \n#define WX_GPIO_DDR_1                BIT(1)  \n#define WX_GPIO_CTL                  0x14808\n#define WX_GPIO_INTEN                0x14830\n#define WX_GPIO_INTEN_0              BIT(0)\n#define WX_GPIO_INTEN_1              BIT(1)\n#define WX_GPIO_INTMASK              0x14834\n#define WX_GPIO_INTTYPE_LEVEL        0x14838\n#define WX_GPIO_POLARITY             0x1483C\n#define WX_GPIO_INTSTATUS            0x14844\n#define WX_GPIO_EOI                  0x1484C\n#define WX_GPIO_EXT                  0x14850\n\n \n \n#define WX_TDM_CTL                   0x18000\n \n#define WX_TDM_CTL_TE                BIT(0)  \n#define WX_TDM_PB_THRE(_i)           (0x18020 + ((_i) * 4))\n#define WX_TDM_RP_IDX                0x1820C\n#define WX_TDM_RP_RATE               0x18404\n\n \n \n#define WX_RDB_PB_CTL                0x19000\n#define WX_RDB_PB_CTL_RXEN           BIT(31)  \n#define WX_RDB_PB_CTL_DISABLED       BIT(0)\n#define WX_RDB_PB_SZ(_i)             (0x19020 + ((_i) * 4))\n#define WX_RDB_PB_SZ_SHIFT           10\n \n#define WX_RDB_PFCMACDAL             0x19210\n#define WX_RDB_PFCMACDAH             0x19214\n \n#define WX_RDB_PL_CFG(_i)            (0x19300 + ((_i) * 4))\n#define WX_RDB_PL_CFG_L4HDR          BIT(1)\n#define WX_RDB_PL_CFG_L3HDR          BIT(2)\n#define WX_RDB_PL_CFG_L2HDR          BIT(3)\n#define WX_RDB_PL_CFG_TUN_TUNHDR     BIT(4)\n#define WX_RDB_PL_CFG_TUN_OUTL2HDR   BIT(5)\n#define WX_RDB_RA_CTL                0x194F4\n#define WX_RDB_RA_CTL_RSS_EN         BIT(2)  \n\n \n \n#define WX_PSR_CTL                   0x15000\n \n#define WX_PSR_CTL_SW_EN             BIT(18)\n#define WX_PSR_CTL_RSC_ACK           BIT(17)\n#define WX_PSR_CTL_RSC_DIS           BIT(16)\n#define WX_PSR_CTL_PCSD              BIT(13)\n#define WX_PSR_CTL_IPPCSE            BIT(12)\n#define WX_PSR_CTL_BAM               BIT(10)\n#define WX_PSR_CTL_UPE               BIT(9)\n#define WX_PSR_CTL_MPE               BIT(8)\n#define WX_PSR_CTL_MFE               BIT(7)\n#define WX_PSR_CTL_MO_SHIFT          5\n#define WX_PSR_CTL_MO                (0x3 << WX_PSR_CTL_MO_SHIFT)\n#define WX_PSR_CTL_TPE               BIT(4)\n#define WX_PSR_MAX_SZ                0x15020\n#define WX_PSR_VLAN_CTL              0x15088\n#define WX_PSR_VLAN_CTL_CFIEN        BIT(29)   \n#define WX_PSR_VLAN_CTL_VFE          BIT(30)   \n \n#define WX_PSR_MC_TBL(_i)            (0x15200  + ((_i) * 4))\n#define WX_PSR_UC_TBL(_i)            (0x15400 + ((_i) * 4))\n\n \n#define WX_PSR_VM_L2CTL(_i)          (0x15600 + ((_i) * 4))\n#define WX_PSR_VM_L2CTL_UPE          BIT(4)  \n#define WX_PSR_VM_L2CTL_VACC         BIT(6)  \n#define WX_PSR_VM_L2CTL_AUPE         BIT(8)  \n#define WX_PSR_VM_L2CTL_ROMPE        BIT(9)  \n#define WX_PSR_VM_L2CTL_ROPE         BIT(10)  \n#define WX_PSR_VM_L2CTL_BAM          BIT(11)  \n#define WX_PSR_VM_L2CTL_MPE          BIT(12)  \n\n \n#define WX_PSR_MNG_FLEX_SEL          0x1582C\n#define WX_PSR_MNG_FLEX_DW_L(_i)     (0x15A00 + ((_i) * 16))\n#define WX_PSR_MNG_FLEX_DW_H(_i)     (0x15A04 + ((_i) * 16))\n#define WX_PSR_MNG_FLEX_MSK(_i)      (0x15A08 + ((_i) * 16))\n#define WX_PSR_LAN_FLEX_SEL          0x15B8C\n#define WX_PSR_LAN_FLEX_DW_L(_i)     (0x15C00 + ((_i) * 16))\n#define WX_PSR_LAN_FLEX_DW_H(_i)     (0x15C04 + ((_i) * 16))\n#define WX_PSR_LAN_FLEX_MSK(_i)      (0x15C08 + ((_i) * 16))\n\n#define WX_PSR_WKUP_CTL              0x15B80\n \n#define WX_PSR_WKUP_CTL_MAG          BIT(1)  \n\n \n#define WX_PSR_VLAN_TBL(_i)          (0x16000 + ((_i) * 4))\n\n \n#define WX_PSR_MAC_SWC_AD_L          0x16200\n#define WX_PSR_MAC_SWC_AD_H          0x16204\n#define WX_PSR_MAC_SWC_AD_H_AD(v)       FIELD_PREP(U16_MAX, v)\n#define WX_PSR_MAC_SWC_AD_H_ADTYPE(v)   FIELD_PREP(BIT(30), v)\n#define WX_PSR_MAC_SWC_AD_H_AV       BIT(31)\n#define WX_PSR_MAC_SWC_VM_L          0x16208\n#define WX_PSR_MAC_SWC_VM_H          0x1620C\n#define WX_PSR_MAC_SWC_IDX           0x16210\n#define WX_CLEAR_VMDQ_ALL            0xFFFFFFFFU\n\n \n#define WX_PSR_VLAN_SWC              0x16220\n#define WX_PSR_VLAN_SWC_VM_L         0x16224\n#define WX_PSR_VLAN_SWC_VM_H         0x16228\n#define WX_PSR_VLAN_SWC_IDX          0x16230          \n \n#define WX_PSR_VLAN_SWC_VIEN         BIT(31)   \n#define WX_PSR_VLAN_SWC_ENTRIES      64\n\n \n \n#define WX_RSC_CTL                   0x17000\n#define WX_RSC_CTL_SAVE_MAC_ERR      BIT(6)\n#define WX_RSC_CTL_CRC_STRIP         BIT(2)\n#define WX_RSC_CTL_RX_DIS            BIT(1)\n#define WX_RSC_ST                    0x17004\n#define WX_RSC_ST_RSEC_RDY           BIT(0)\n\n \n#define WX_TDB_PB_SZ(_i)             (0x1CC00 + ((_i) * 4))\n#define WX_TXPKT_SIZE_MAX            0xA  \n\n \n \n#define WX_TSC_CTL                   0x1D000\n#define WX_TSC_CTL_TX_DIS            BIT(1)\n#define WX_TSC_CTL_TSEC_DIS          BIT(0)\n#define WX_TSC_ST                    0x1D004\n#define WX_TSC_ST_SECTX_RDY          BIT(0)\n#define WX_TSC_BUF_AE                0x1D00C\n#define WX_TSC_BUF_AE_THR            GENMASK(9, 0)\n\n \n#define WX_MNG_SWFW_SYNC             0x1E008\n#define WX_MNG_SWFW_SYNC_SW_MB       BIT(2)\n#define WX_MNG_SWFW_SYNC_SW_FLASH    BIT(3)\n#define WX_MNG_MBOX                  0x1E100\n#define WX_MNG_MBOX_CTL              0x1E044\n#define WX_MNG_MBOX_CTL_SWRDY        BIT(0)\n#define WX_MNG_MBOX_CTL_FWRDY        BIT(2)\n\n \n#define WX_MAC_TX_CFG                0x11000\n#define WX_MAC_TX_CFG_TE             BIT(0)\n#define WX_MAC_TX_CFG_SPEED_MASK     GENMASK(30, 29)\n#define WX_MAC_TX_CFG_SPEED_10G      FIELD_PREP(WX_MAC_TX_CFG_SPEED_MASK, 0)\n#define WX_MAC_TX_CFG_SPEED_1G       FIELD_PREP(WX_MAC_TX_CFG_SPEED_MASK, 3)\n#define WX_MAC_RX_CFG                0x11004\n#define WX_MAC_RX_CFG_RE             BIT(0)\n#define WX_MAC_RX_CFG_JE             BIT(8)\n#define WX_MAC_PKT_FLT               0x11008\n#define WX_MAC_PKT_FLT_PR            BIT(0)  \n#define WX_MAC_WDG_TIMEOUT           0x1100C\n#define WX_MAC_RX_FLOW_CTRL          0x11090\n#define WX_MAC_RX_FLOW_CTRL_RFE      BIT(0)  \n \n#define WX_MSCA                      0x11200\n#define WX_MSCA_RA(v)                FIELD_PREP(U16_MAX, v)\n#define WX_MSCA_PA(v)                FIELD_PREP(GENMASK(20, 16), v)\n#define WX_MSCA_DA(v)                FIELD_PREP(GENMASK(25, 21), v)\n#define WX_MSCC                      0x11204\n#define WX_MSCC_CMD(v)               FIELD_PREP(GENMASK(17, 16), v)\n\nenum WX_MSCA_CMD_value {\n\tWX_MSCA_CMD_RSV = 0,\n\tWX_MSCA_CMD_WRITE,\n\tWX_MSCA_CMD_POST_READ,\n\tWX_MSCA_CMD_READ,\n};\n\n#define WX_MSCC_SADDR                BIT(18)\n#define WX_MSCC_BUSY                 BIT(22)\n#define WX_MDIO_CLK(v)               FIELD_PREP(GENMASK(21, 19), v)\n#define WX_MMC_CONTROL               0x11800\n#define WX_MMC_CONTROL_RSTONRD       BIT(2)  \n\n \n \n#define WX_BME_CTL                   0x12020\n#define WX_PX_MISC_IC                0x100\n#define WX_PX_MISC_ICS               0x104\n#define WX_PX_MISC_IEN               0x108\n#define WX_PX_INTA                   0x110\n#define WX_PX_GPIE                   0x118\n#define WX_PX_GPIE_MODEL             BIT(0)\n#define WX_PX_IC(_i)                 (0x120 + (_i) * 4)\n#define WX_PX_IMS(_i)                (0x140 + (_i) * 4)\n#define WX_PX_IMC(_i)                (0x150 + (_i) * 4)\n#define WX_PX_ISB_ADDR_L             0x160\n#define WX_PX_ISB_ADDR_H             0x164\n#define WX_PX_TRANSACTION_PENDING    0x168\n#define WX_PX_ITRSEL                 0x180\n#define WX_PX_ITR(_i)                (0x200 + (_i) * 4)\n#define WX_PX_ITR_CNT_WDIS           BIT(31)\n#define WX_PX_MISC_IVAR              0x4FC\n#define WX_PX_IVAR(_i)               (0x500 + (_i) * 4)\n\n#define WX_PX_IVAR_ALLOC_VAL         0x80  \n#define WX_7K_ITR                    595\n#define WX_12K_ITR                   336\n#define WX_SP_MAX_EITR               0x00000FF8U\n#define WX_EM_MAX_EITR               0x00007FFCU\n\n \n#define WX_PX_TR_BAL(_i)             (0x03000 + ((_i) * 0x40))\n#define WX_PX_TR_BAH(_i)             (0x03004 + ((_i) * 0x40))\n#define WX_PX_TR_WP(_i)              (0x03008 + ((_i) * 0x40))\n#define WX_PX_TR_RP(_i)              (0x0300C + ((_i) * 0x40))\n#define WX_PX_TR_CFG(_i)             (0x03010 + ((_i) * 0x40))\n \n#define WX_PX_TR_CFG_ENABLE          BIT(0)  \n#define WX_PX_TR_CFG_TR_SIZE_SHIFT   1  \n#define WX_PX_TR_CFG_SWFLSH          BIT(26)  \n#define WX_PX_TR_CFG_WTHRESH_SHIFT   16  \n#define WX_PX_TR_CFG_THRE_SHIFT      8\n\n \n#define WX_PX_RR_BAL(_i)             (0x01000 + ((_i) * 0x40))\n#define WX_PX_RR_BAH(_i)             (0x01004 + ((_i) * 0x40))\n#define WX_PX_RR_WP(_i)              (0x01008 + ((_i) * 0x40))\n#define WX_PX_RR_RP(_i)              (0x0100C + ((_i) * 0x40))\n#define WX_PX_RR_CFG(_i)             (0x01010 + ((_i) * 0x40))\n \n#define WX_PX_RR_CFG_VLAN            BIT(31)\n#define WX_PX_RR_CFG_SPLIT_MODE      BIT(26)\n#define WX_PX_RR_CFG_RR_THER_SHIFT   16\n#define WX_PX_RR_CFG_RR_HDR_SZ       GENMASK(15, 12)\n#define WX_PX_RR_CFG_RR_BUF_SZ       GENMASK(11, 8)\n#define WX_PX_RR_CFG_BHDRSIZE_SHIFT  6  \n#define WX_PX_RR_CFG_BSIZEPKT_SHIFT  2  \n#define WX_PX_RR_CFG_RR_SIZE_SHIFT   1\n#define WX_PX_RR_CFG_RR_EN           BIT(0)\n\n \n#define WX_PCI_MASTER_DISABLE_TIMEOUT        80000\n\n \n#define WX_HI_MAX_BLOCK_BYTE_LENGTH  256  \n#define WX_HI_COMMAND_TIMEOUT        1000  \n\n#define FW_READ_SHADOW_RAM_CMD       0x31\n#define FW_READ_SHADOW_RAM_LEN       0x6\n#define FW_DEFAULT_CHECKSUM          0xFF  \n#define FW_NVM_DATA_OFFSET           3\n#define FW_MAX_READ_BUFFER_SIZE      244\n#define FW_RESET_CMD                 0xDF\n#define FW_RESET_LEN                 0x2\n#define FW_CEM_HDR_LEN               0x4\n#define FW_CEM_CMD_RESERVED          0X0\n#define FW_CEM_MAX_RETRIES           3\n#define FW_CEM_RESP_STATUS_SUCCESS   0x1\n\n#define WX_SW_REGION_PTR             0x1C\n\n#define WX_MAC_STATE_DEFAULT         0x1\n#define WX_MAC_STATE_MODIFIED        0x2\n#define WX_MAC_STATE_IN_USE          0x4\n\n#define WX_MAX_RXD                   8192\n#define WX_MAX_TXD                   8192\n\n#define WX_MAX_JUMBO_FRAME_SIZE      9432  \n#define VMDQ_P(p)                    p\n\n \n#define WX_RXBUFFER_256      256     \n#define WX_RXBUFFER_2K       2048\n#define WX_MAX_RXBUFFER      16384   \n\n#if MAX_SKB_FRAGS < 8\n#define WX_RX_BUFSZ      ALIGN(WX_MAX_RXBUFFER / MAX_SKB_FRAGS, 1024)\n#else\n#define WX_RX_BUFSZ      WX_RXBUFFER_2K\n#endif\n\n#define WX_RX_BUFFER_WRITE   16       \n\n#define WX_MAX_DATA_PER_TXD  BIT(14)\n \n#define TXD_USE_COUNT(S)     DIV_ROUND_UP((S), WX_MAX_DATA_PER_TXD)\n#define DESC_NEEDED          (MAX_SKB_FRAGS + 4)\n\n#define WX_CFG_PORT_ST               0x14404\n\n \n#define WX_RXD_STAT_DD               BIT(0)  \n#define WX_RXD_STAT_EOP              BIT(1)  \n#define WX_RXD_STAT_VP               BIT(5)  \n#define WX_RXD_STAT_L4CS             BIT(7)  \n#define WX_RXD_STAT_IPCS             BIT(8)  \n#define WX_RXD_STAT_OUTERIPCS        BIT(10)  \n\n#define WX_RXD_ERR_OUTERIPER         BIT(26)  \n#define WX_RXD_ERR_RXE               BIT(29)  \n#define WX_RXD_ERR_TCPE              BIT(30)  \n#define WX_RXD_ERR_IPE               BIT(31)  \n\n \n#define WX_RXD_RSSTYPE_MASK          GENMASK(3, 0)\n#define WX_RXD_RSSTYPE_IPV4_TCP      0x00000001U\n#define WX_RXD_RSSTYPE_IPV6_TCP      0x00000003U\n#define WX_RXD_RSSTYPE_IPV4_SCTP     0x00000004U\n#define WX_RXD_RSSTYPE_IPV6_SCTP     0x00000006U\n#define WX_RXD_RSSTYPE_IPV4_UDP      0x00000007U\n#define WX_RXD_RSSTYPE_IPV6_UDP      0x00000008U\n\n#define WX_RSS_L4_TYPES_MASK \\\n\t((1ul << WX_RXD_RSSTYPE_IPV4_TCP) | \\\n\t (1ul << WX_RXD_RSSTYPE_IPV4_UDP) | \\\n\t (1ul << WX_RXD_RSSTYPE_IPV4_SCTP) | \\\n\t (1ul << WX_RXD_RSSTYPE_IPV6_TCP) | \\\n\t (1ul << WX_RXD_RSSTYPE_IPV6_UDP) | \\\n\t (1ul << WX_RXD_RSSTYPE_IPV6_SCTP))\n \n#define WX_PTYPE_TUN_IPV4            0x80\n#define WX_PTYPE_TUN_IPV6            0xC0\n\n \n#define WX_PTYPE_PKT_IPIP            0x00  \n#define WX_PTYPE_PKT_IG              0x10  \n#define WX_PTYPE_PKT_IGM             0x20  \n#define WX_PTYPE_PKT_IGMV            0x30  \n \n#define WX_PTYPE_PKT_MAC             0x10\n#define WX_PTYPE_PKT_IP              0x20\n\n \n#define WX_PTYPE_TYP_MAC             0x01\n \n#define WX_PTYPE_PKT_IPV6            0x08\n#define WX_PTYPE_TYP_IPFRAG          0x01\n#define WX_PTYPE_TYP_IP              0x02\n#define WX_PTYPE_TYP_UDP             0x03\n#define WX_PTYPE_TYP_TCP             0x04\n#define WX_PTYPE_TYP_SCTP            0x05\n\n#define WX_RXD_PKTTYPE(_rxd) \\\n\t((le32_to_cpu((_rxd)->wb.lower.lo_dword.data) >> 9) & 0xFF)\n#define WX_RXD_IPV6EX(_rxd) \\\n\t((le32_to_cpu((_rxd)->wb.lower.lo_dword.data) >> 6) & 0x1)\n \n#define WX_TXD_STAT_DD               BIT(0)   \n#define WX_TXD_DTYP_DATA             0        \n#define WX_TXD_PAYLEN_SHIFT          13       \n#define WX_TXD_EOP                   BIT(24)  \n#define WX_TXD_IFCS                  BIT(25)  \n#define WX_TXD_RS                    BIT(27)  \n\n \n#define WX_TXD_MAC_TSTAMP            BIT(19)  \n#define WX_TXD_DTYP_CTXT             BIT(20)  \n#define WX_TXD_LINKSEC               BIT(26)  \n#define WX_TXD_VLE                   BIT(30)  \n#define WX_TXD_TSE                   BIT(31)  \n#define WX_TXD_CC                    BIT(7)  \n#define WX_TXD_IPSEC                 BIT(8)  \n#define WX_TXD_L4CS                  BIT(9)\n#define WX_TXD_IIPCS                 BIT(10)\n#define WX_TXD_EIPCS                 BIT(11)\n#define WX_TXD_PAYLEN_SHIFT          13  \n#define WX_TXD_MACLEN_SHIFT          9   \n#define WX_TXD_TAG_TPID_SEL_SHIFT    11\n\n#define WX_TXD_L4LEN_SHIFT           8   \n#define WX_TXD_MSS_SHIFT             16   \n\n#define WX_TXD_OUTER_IPLEN_SHIFT     12  \n#define WX_TXD_TUNNEL_LEN_SHIFT      21  \n#define WX_TXD_TUNNEL_TYPE_SHIFT     11  \n#define WX_TXD_TUNNEL_UDP            FIELD_PREP(BIT(WX_TXD_TUNNEL_TYPE_SHIFT), 0)\n#define WX_TXD_TUNNEL_GRE            FIELD_PREP(BIT(WX_TXD_TUNNEL_TYPE_SHIFT), 1)\n\nenum wx_tx_flags {\n\t \n\tWX_TX_FLAGS_HW_VLAN\t= 0x01,\n\tWX_TX_FLAGS_TSO\t\t= 0x02,\n\tWX_TX_FLAGS_TSTAMP\t= 0x04,\n\n\t \n\tWX_TX_FLAGS_CC\t\t= 0x08,\n\tWX_TX_FLAGS_IPV4\t= 0x10,\n\tWX_TX_FLAGS_CSUM\t= 0x20,\n\tWX_TX_FLAGS_OUTER_IPV4\t= 0x100,\n\tWX_TX_FLAGS_LINKSEC\t= 0x200,\n\tWX_TX_FLAGS_IPSEC\t= 0x400,\n};\n\n \n#define WX_TX_FLAGS_VLAN_MASK\t\t\tGENMASK(31, 16)\n#define WX_TX_FLAGS_VLAN_SHIFT\t\t\t16\n\n \nenum wx_dec_ptype_mac {\n\tWX_DEC_PTYPE_MAC_IP\t= 0,\n\tWX_DEC_PTYPE_MAC_L2\t= 2,\n\tWX_DEC_PTYPE_MAC_FCOE\t= 3,\n};\n\n \n#define WX_DEC_PTYPE_IP_FRAG\t0x4\nenum wx_dec_ptype_ip {\n\tWX_DEC_PTYPE_IP_NONE = 0,\n\tWX_DEC_PTYPE_IP_IPV4 = 1,\n\tWX_DEC_PTYPE_IP_IPV6 = 2,\n\tWX_DEC_PTYPE_IP_FGV4 = WX_DEC_PTYPE_IP_FRAG | WX_DEC_PTYPE_IP_IPV4,\n\tWX_DEC_PTYPE_IP_FGV6 = WX_DEC_PTYPE_IP_FRAG | WX_DEC_PTYPE_IP_IPV6,\n};\n\n \nenum wx_dec_ptype_etype {\n\tWX_DEC_PTYPE_ETYPE_NONE\t= 0,\n\tWX_DEC_PTYPE_ETYPE_IPIP\t= 1,\t \n\tWX_DEC_PTYPE_ETYPE_IG\t= 2,\t \n\tWX_DEC_PTYPE_ETYPE_IGM\t= 3,\t \n\tWX_DEC_PTYPE_ETYPE_IGMV\t= 4,\t \n};\n\n \nenum wx_dec_ptype_prot {\n\tWX_DEC_PTYPE_PROT_NONE\t= 0,\n\tWX_DEC_PTYPE_PROT_UDP\t= 1,\n\tWX_DEC_PTYPE_PROT_TCP\t= 2,\n\tWX_DEC_PTYPE_PROT_SCTP\t= 3,\n\tWX_DEC_PTYPE_PROT_ICMP\t= 4,\n\tWX_DEC_PTYPE_PROT_TS\t= 5,\t \n};\n\n \nenum wx_dec_ptype_layer {\n\tWX_DEC_PTYPE_LAYER_NONE = 0,\n\tWX_DEC_PTYPE_LAYER_PAY2 = 1,\n\tWX_DEC_PTYPE_LAYER_PAY3 = 2,\n\tWX_DEC_PTYPE_LAYER_PAY4 = 3,\n};\n\nstruct wx_dec_ptype {\n\tu32 known:1;\n\tu32 mac:2;\t \n\tu32 ip:3;\t \n\tu32 etype:3;\t \n\tu32 eip:3;\t \n\tu32 prot:4;\t \n\tu32 layer:3;\t \n};\n\n \n#define WX_PTT(mac, ip, etype, eip, proto, layer)\\\n\t      {1, \\\n\t       WX_DEC_PTYPE_MAC_##mac,\t\t \\\n\t       WX_DEC_PTYPE_IP_##ip,\t\t  \\\n\t       WX_DEC_PTYPE_ETYPE_##etype,\t \\\n\t       WX_DEC_PTYPE_IP_##eip,\t\t \\\n\t       WX_DEC_PTYPE_PROT_##proto,\t \\\n\t       WX_DEC_PTYPE_LAYER_##layer\t }\n\n \nstruct wx_hic_hdr {\n\tu8 cmd;\n\tu8 buf_len;\n\tunion {\n\t\tu8 cmd_resv;\n\t\tu8 ret_status;\n\t} cmd_or_resp;\n\tu8 checksum;\n};\n\nstruct wx_hic_hdr2_req {\n\tu8 cmd;\n\tu8 buf_lenh;\n\tu8 buf_lenl;\n\tu8 checksum;\n};\n\nstruct wx_hic_hdr2_rsp {\n\tu8 cmd;\n\tu8 buf_lenl;\n\tu8 buf_lenh_status;      \n\tu8 checksum;\n};\n\nunion wx_hic_hdr2 {\n\tstruct wx_hic_hdr2_req req;\n\tstruct wx_hic_hdr2_rsp rsp;\n};\n\n \nstruct wx_hic_read_shadow_ram {\n\tunion wx_hic_hdr2 hdr;\n\tu32 address;\n\tu16 length;\n\tu16 pad2;\n\tu16 data;\n\tu16 pad3;\n};\n\nstruct wx_hic_reset {\n\tstruct wx_hic_hdr hdr;\n\tu16 lan_id;\n\tu16 reset_type;\n};\n\n \nstruct wx_bus_info {\n\tu8 func;\n\tu16 device;\n};\n\nstruct wx_thermal_sensor_data {\n\ts16 temp;\n\ts16 alarm_thresh;\n\ts16 dalarm_thresh;\n};\n\nenum wx_mac_type {\n\twx_mac_unknown = 0,\n\twx_mac_sp,\n\twx_mac_em\n};\n\nenum sp_media_type {\n\tsp_media_unknown = 0,\n\tsp_media_fiber,\n\tsp_media_copper,\n\tsp_media_backplane\n};\n\nenum em_mac_type {\n\tem_mac_type_unknown = 0,\n\tem_mac_type_mdi,\n\tem_mac_type_rgmii\n};\n\nstruct wx_mac_info {\n\tenum wx_mac_type type;\n\tbool set_lben;\n\tu8 addr[ETH_ALEN];\n\tu8 perm_addr[ETH_ALEN];\n\tu32 mta_shadow[128];\n\ts32 mc_filter_type;\n\tu32 mcft_size;\n\tu32 vft_shadow[128];\n\tu32 vft_size;\n\tu32 num_rar_entries;\n\tu32 rx_pb_size;\n\tu32 tx_pb_size;\n\tu32 max_tx_queues;\n\tu32 max_rx_queues;\n\n\tu16 max_msix_vectors;\n\tstruct wx_thermal_sensor_data sensor;\n};\n\nenum wx_eeprom_type {\n\twx_eeprom_uninitialized = 0,\n\twx_eeprom_spi,\n\twx_flash,\n\twx_eeprom_none  \n};\n\nstruct wx_eeprom_info {\n\tenum wx_eeprom_type type;\n\tu32 semaphore_delay;\n\tu16 word_size;\n\tu16 sw_region_offset;\n};\n\nstruct wx_addr_filter_info {\n\tu32 num_mc_addrs;\n\tu32 mta_in_use;\n\tbool user_set_promisc;\n};\n\nstruct wx_mac_addr {\n\tu8 addr[ETH_ALEN];\n\tu16 state;  \n\tu64 pools;\n};\n\nenum wx_reset_type {\n\tWX_LAN_RESET = 0,\n\tWX_SW_RESET,\n\tWX_GLOBAL_RESET\n};\n\nstruct wx_cb {\n\tdma_addr_t dma;\n\tu16     append_cnt;       \n\tbool    page_released;\n\tbool    dma_released;\n};\n\n#define WX_CB(skb) ((struct wx_cb *)(skb)->cb)\n\n \nunion wx_tx_desc {\n\tstruct {\n\t\t__le64 buffer_addr;  \n\t\t__le32 cmd_type_len;\n\t\t__le32 olinfo_status;\n\t} read;\n\tstruct {\n\t\t__le64 rsvd;  \n\t\t__le32 nxtseq_seed;\n\t\t__le32 status;\n\t} wb;\n};\n\n \nunion wx_rx_desc {\n\tstruct {\n\t\t__le64 pkt_addr;  \n\t\t__le64 hdr_addr;  \n\t} read;\n\tstruct {\n\t\tstruct {\n\t\t\tunion {\n\t\t\t\t__le32 data;\n\t\t\t\tstruct {\n\t\t\t\t\t__le16 pkt_info;  \n\t\t\t\t\t__le16 hdr_info;  \n\t\t\t\t} hs_rss;\n\t\t\t} lo_dword;\n\t\t\tunion {\n\t\t\t\t__le32 rss;  \n\t\t\t\tstruct {\n\t\t\t\t\t__le16 ip_id;  \n\t\t\t\t\t__le16 csum;  \n\t\t\t\t} csum_ip;\n\t\t\t} hi_dword;\n\t\t} lower;\n\t\tstruct {\n\t\t\t__le32 status_error;  \n\t\t\t__le16 length;  \n\t\t\t__le16 vlan;  \n\t\t} upper;\n\t} wb;   \n};\n\nstruct wx_tx_context_desc {\n\t__le32 vlan_macip_lens;\n\t__le32 seqnum_seed;\n\t__le32 type_tucmd_mlhl;\n\t__le32 mss_l4len_idx;\n};\n\n \n#define WX_SET_FLAG(_input, _flag, _result) \\\n\t(((_flag) <= (_result)) ? \\\n\t ((u32)((_input) & (_flag)) * ((_result) / (_flag))) : \\\n\t ((u32)((_input) & (_flag)) / ((_flag) / (_result))))\n\n#define WX_RX_DESC(R, i)     \\\n\t(&(((union wx_rx_desc *)((R)->desc))[i]))\n#define WX_TX_DESC(R, i)     \\\n\t(&(((union wx_tx_desc *)((R)->desc))[i]))\n#define WX_TX_CTXTDESC(R, i) \\\n\t(&(((struct wx_tx_context_desc *)((R)->desc))[i]))\n\n \nstruct wx_tx_buffer {\n\tunion wx_tx_desc *next_to_watch;\n\tstruct sk_buff *skb;\n\tunsigned int bytecount;\n\tunsigned short gso_segs;\n\tDEFINE_DMA_UNMAP_ADDR(dma);\n\tDEFINE_DMA_UNMAP_LEN(len);\n\t__be16 protocol;\n\tu32 tx_flags;\n};\n\nstruct wx_rx_buffer {\n\tstruct sk_buff *skb;\n\tdma_addr_t dma;\n\tdma_addr_t page_dma;\n\tstruct page *page;\n\tunsigned int page_offset;\n};\n\nstruct wx_queue_stats {\n\tu64 packets;\n\tu64 bytes;\n};\n\nstruct wx_rx_queue_stats {\n\tu64 csum_good_cnt;\n\tu64 csum_err;\n};\n\n \n#define wx_for_each_ring(posm, headm) \\\n\tfor (posm = (headm).ring; posm; posm = posm->next)\n\nstruct wx_ring_container {\n\tstruct wx_ring *ring;            \n\tunsigned int total_bytes;        \n\tunsigned int total_packets;      \n\tu8 count;                        \n\tu8 itr;                          \n};\nstruct wx_ring {\n\tstruct wx_ring *next;            \n\tstruct wx_q_vector *q_vector;    \n\tstruct net_device *netdev;       \n\tstruct device *dev;              \n\tstruct page_pool *page_pool;\n\tvoid *desc;                      \n\tunion {\n\t\tstruct wx_tx_buffer *tx_buffer_info;\n\t\tstruct wx_rx_buffer *rx_buffer_info;\n\t};\n\tu8 __iomem *tail;\n\tdma_addr_t dma;                  \n\tunsigned int size;               \n\n\tu16 count;                       \n\n\tu8 queue_index;  \n\tu8 reg_idx;                      \n\tu16 next_to_use;\n\tu16 next_to_clean;\n\tu16 next_to_alloc;\n\n\tstruct wx_queue_stats stats;\n\tstruct u64_stats_sync syncp;\n\tunion {\n\t\tstruct wx_rx_queue_stats rx_stats;\n\t};\n} ____cacheline_internodealigned_in_smp;\n\nstruct wx_q_vector {\n\tstruct wx *wx;\n\tint cpu;         \n\tint numa_node;\n\tu16 v_idx;       \n\tu16 itr;         \n\tstruct wx_ring_container rx, tx;\n\tstruct napi_struct napi;\n\tstruct rcu_head rcu;     \n\n\tchar name[IFNAMSIZ + 17];\n\n\t \n\tstruct wx_ring ring[] ____cacheline_internodealigned_in_smp;\n};\n\nenum wx_isb_idx {\n\tWX_ISB_HEADER,\n\tWX_ISB_MISC,\n\tWX_ISB_VEC0,\n\tWX_ISB_VEC1,\n\tWX_ISB_MAX\n};\n\nstruct wx {\n\tunsigned long active_vlans[BITS_TO_LONGS(VLAN_N_VID)];\n\n\tvoid *priv;\n\tu8 __iomem *hw_addr;\n\tstruct pci_dev *pdev;\n\tstruct net_device *netdev;\n\tstruct wx_bus_info bus;\n\tstruct wx_mac_info mac;\n\tenum em_mac_type mac_type;\n\tenum sp_media_type media_type;\n\tstruct wx_eeprom_info eeprom;\n\tstruct wx_addr_filter_info addr_ctrl;\n\tstruct wx_mac_addr *mac_table;\n\tu16 device_id;\n\tu16 vendor_id;\n\tu16 subsystem_device_id;\n\tu16 subsystem_vendor_id;\n\tu8 revision_id;\n\tu16 oem_ssid;\n\tu16 oem_svid;\n\tu16 msg_enable;\n\tbool adapter_stopped;\n\tu16 tpid[8];\n\tchar eeprom_id[32];\n\tchar *driver_name;\n\tenum wx_reset_type reset_type;\n\n\t \n\tunsigned int link;\n\tint speed;\n\tint duplex;\n\tstruct phy_device *phydev;\n\n\tbool wol_hw_supported;\n\tbool ncsi_enabled;\n\tbool gpio_ctrl;\n\traw_spinlock_t gpio_lock;\n\n\t \n\tint num_tx_queues;\n\tu16 tx_itr_setting;\n\tu16 tx_work_limit;\n\n\t \n\tint num_rx_queues;\n\tu16 rx_itr_setting;\n\tu16 rx_work_limit;\n\n\tint num_q_vectors;       \n\tint max_q_vectors;       \n\n\tu32 tx_ring_count;\n\tu32 rx_ring_count;\n\n\tstruct wx_ring *tx_ring[64] ____cacheline_aligned_in_smp;\n\tstruct wx_ring *rx_ring[64];\n\tstruct wx_q_vector *q_vector[64];\n\n\tunsigned int queues_per_pool;\n\tstruct msix_entry *msix_entries;\n\n\t \n\tdma_addr_t isb_dma;\n\tu32 *isb_mem;\n\tu32 isb_tag[WX_ISB_MAX];\n\n#define WX_MAX_RETA_ENTRIES 128\n\tu8 rss_indir_tbl[WX_MAX_RETA_ENTRIES];\n\n#define WX_RSS_KEY_SIZE     40   \n\tu32 *rss_key;\n\tu32 wol;\n\n\tu16 bd_number;\n};\n\n#define WX_INTR_ALL (~0ULL)\n#define WX_INTR_Q(i) BIT(i)\n\n \n#define wr32(a, reg, value)\twritel((value), ((a)->hw_addr + (reg)))\n#define rd32(a, reg)\t\treadl((a)->hw_addr + (reg))\n#define rd32a(a, reg, offset) ( \\\n\trd32((a), (reg) + ((offset) << 2)))\n#define wr32a(a, reg, off, val) \\\n\twr32((a), (reg) + ((off) << 2), (val))\n\nstatic inline u32\nrd32m(struct wx *wx, u32 reg, u32 mask)\n{\n\tu32 val;\n\n\tval = rd32(wx, reg);\n\treturn val & mask;\n}\n\nstatic inline void\nwr32m(struct wx *wx, u32 reg, u32 mask, u32 field)\n{\n\tu32 val;\n\n\tval = rd32(wx, reg);\n\tval = ((val & ~mask) | (field & mask));\n\n\twr32(wx, reg, val);\n}\n\n \n#define WX_WRITE_FLUSH(H) rd32(H, WX_MIS_PWR)\n\n#define wx_err(wx, fmt, arg...) \\\n\tdev_err(&(wx)->pdev->dev, fmt, ##arg)\n\n#define wx_dbg(wx, fmt, arg...) \\\n\tdev_dbg(&(wx)->pdev->dev, fmt, ##arg)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}