{
  "module_name": "octep_tx.h",
  "hash_id": "b76c80b8754a9903277d7757b6a1d01bd6686f4a9887ad46554cd8eef6702da6",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/marvell/octeon_ep/octep_tx.h",
  "human_readable_source": " \n \n\n#ifndef _OCTEP_TX_H_\n#define _OCTEP_TX_H_\n\n#define IQ_SEND_OK          0\n#define IQ_SEND_STOP        1\n#define IQ_SEND_FAILED     -1\n\n#define TX_BUFTYPE_NONE          0\n#define TX_BUFTYPE_NET           1\n#define TX_BUFTYPE_NET_SG        2\n#define NUM_TX_BUFTYPES          3\n\n \nstruct octep_tx_sglist_desc {\n\tu16 len[4];\n\tdma_addr_t dma_ptr[4];\n};\n\n \n#define OCTEP_SGLIST_ENTRIES_PER_PKT ((MAX_SKB_FRAGS + 1 + 3) / 4)\n#define OCTEP_SGLIST_SIZE_PER_PKT \\\n\t(OCTEP_SGLIST_ENTRIES_PER_PKT * sizeof(struct octep_tx_sglist_desc))\n\nstruct octep_tx_buffer {\n\tstruct sk_buff *skb;\n\tdma_addr_t dma;\n\tstruct octep_tx_sglist_desc *sglist;\n\tdma_addr_t sglist_dma;\n\tu8 gather;\n};\n\n#define OCTEP_IQ_TXBUFF_INFO_SIZE (sizeof(struct octep_tx_buffer))\n\n \nstruct octep_iface_tx_stats {\n\t \n\tu64 xscol;\n\n\t \n\tu64 xsdef;\n\n\t \n\tu64 mcol;\n\n\t \n\tu64 scol;\n\n\t \n\tu64 octs;\n\n\t \n\tu64 pkts;\n\n\t \n\tu64 hist_lt64;\n\n\t \n\tu64 hist_eq64;\n\n\t \n\tu64 hist_65to127;\n\n\t \n\tu64 hist_128to255;\n\n\t \n\tu64 hist_256to511;\n\n\t \n\tu64 hist_512to1023;\n\n\t \n\tu64 hist_1024to1518;\n\n\t \n\tu64 hist_gt1518;\n\n\t \n\tu64 bcst;\n\n\t \n\tu64 mcst;\n\n\t \n\tu64 undflw;\n\n\t \n\tu64 ctl;\n};\n\n \nstruct octep_iq_stats {\n\t \n\tu64 instr_posted;\n\n\t \n\tu64 instr_completed;\n\n\t \n\tu64 instr_dropped;\n\n\t \n\tu64 bytes_sent;\n\n\t \n\tu64 sgentry_sent;\n\n\t \n\tu64 tx_busy;\n\n\t \n\tu64 restart_cnt;\n};\n\n \nstruct octep_iq {\n\tu32 q_no;\n\n\tstruct octep_device *octep_dev;\n\tstruct net_device *netdev;\n\tstruct device *dev;\n\tstruct netdev_queue *netdev_q;\n\n\t \n\tu16 host_write_index;\n\n\t \n\tu16 octep_read_index;\n\n\t \n\tu16 flush_index;\n\n\t \n\tstruct octep_iq_stats stats;\n\n\t \n\tatomic_t instr_pending;\n\n\t \n\tstruct octep_tx_desc_hw *desc_ring;\n\n\t \n\tdma_addr_t desc_ring_dma;\n\n\t \n\tstruct octep_tx_buffer *buff_info;\n\n\t \n\tstruct octep_tx_sglist_desc *sglist;\n\n\t \n\tdma_addr_t sglist_dma;\n\n\t \n\tu8 __iomem *doorbell_reg;\n\n\t \n\tu8 __iomem *inst_cnt_reg;\n\n\t \n\tu8 __iomem *intr_lvl_reg;\n\n\t \n\tu32 max_count;\n\tu32 ring_size_mask;\n\n\tu32 pkt_in_done;\n\tu32 pkts_processed;\n\n\tu32 status;\n\n\t \n\tu32 fill_cnt;\n\n\t \n\tu32 fill_threshold;\n};\n\n \nstruct octep_instr_hdr {\n\t \n\tu64 tlen:16;\n\n\t \n\tu64 rsvd:20;\n\n\t \n\tu64 pkind:6;\n\n\t \n\tu64 fsz:6;\n\n\t \n\tu64 gsz:14;\n\n\t \n\tu64 gather:1;\n\n\t \n\tu64 reserved3:1;\n};\n\n \nstruct octep_instr_resp_hdr {\n\t \n\tu64 rid:16;\n\n\t \n\tu64 pcie_port:3;\n\n\t \n\tu64 scatter:1;\n\n\t \n\tu64 rlenssz:14;\n\n\t \n\tu64 dport:6;\n\n\t \n\tu64 param:8;\n\n\t \n\tu64 opcode:16;\n};\n\n \nstruct octep_tx_desc_hw {\n\t \n\tu64 dptr;\n\n\t \n\tunion {\n\t\tstruct octep_instr_hdr ih;\n\t\tu64 ih64;\n\t};\n\n\t \n\tu64 rptr;\n\n\t \n\tstruct octep_instr_resp_hdr irh;\n\n\t \n\tu64 exhdr[4];\n};\n\n#define OCTEP_IQ_DESC_SIZE (sizeof(struct octep_tx_desc_hw))\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}