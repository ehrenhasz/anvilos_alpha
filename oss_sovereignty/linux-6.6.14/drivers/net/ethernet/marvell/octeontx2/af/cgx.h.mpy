{
  "module_name": "cgx.h",
  "hash_id": "c2bbc14a9a0ca9f890a854add135a971baf245ba5e0366df7685c22c4367d9b8",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/marvell/octeontx2/af/cgx.h",
  "human_readable_source": " \n \n\n#ifndef CGX_H\n#define CGX_H\n\n#include \"mbox.h\"\n#include \"cgx_fw_if.h\"\n#include \"rpm.h\"\n\n  \n#define\tPCI_DEVID_OCTEONTX2_CGX\t\t0xA059\n\n \n#define PCI_CFG_REG_BAR_NUM\t\t0\n\n#define CGX_ID_MASK\t\t\t0xF\n\n \n#define CGXX_CMRX_CFG\t\t\t0x00\n#define CMR_P2X_SEL_MASK\t\tGENMASK_ULL(61, 59)\n#define CMR_P2X_SEL_SHIFT\t\t59ULL\n#define CMR_P2X_SEL_NIX0\t\t1ULL\n#define CMR_P2X_SEL_NIX1\t\t2ULL\n#define DATA_PKT_TX_EN\t\t\tBIT_ULL(53)\n#define DATA_PKT_RX_EN\t\t\tBIT_ULL(54)\n#define CGX_LMAC_TYPE_SHIFT\t\t40\n#define CGX_LMAC_TYPE_MASK\t\t0xF\n#define CGXX_CMRX_INT\t\t\t0x040\n#define FW_CGX_INT\t\t\tBIT_ULL(1)\n#define CGXX_CMRX_INT_ENA_W1S\t\t0x058\n#define CGXX_CMRX_RX_ID_MAP\t\t0x060\n#define CGXX_CMRX_RX_STAT0\t\t0x070\n#define CGXX_CMRX_RX_LOGL_XON\t\t0x100\n#define CGXX_CMRX_RX_LMACS\t\t0x128\n#define CGXX_CMRX_RX_DMAC_CTL0\t\t(0x1F8 + mac_ops->csr_offset)\n#define CGX_DMAC_CTL0_CAM_ENABLE\tBIT_ULL(3)\n#define CGX_DMAC_CAM_ACCEPT\t\tBIT_ULL(3)\n#define CGX_DMAC_MCAST_MODE_CAM\t\tBIT_ULL(2)\n#define CGX_DMAC_MCAST_MODE\t\tBIT_ULL(1)\n#define CGX_DMAC_BCAST_MODE\t\tBIT_ULL(0)\n#define CGXX_CMRX_RX_DMAC_CAM0\t\t(0x200 + mac_ops->csr_offset)\n#define CGX_DMAC_CAM_ADDR_ENABLE\tBIT_ULL(48)\n#define CGX_DMAC_CAM_ENTRY_LMACID\tGENMASK_ULL(50, 49)\n#define CGXX_CMRX_RX_DMAC_CAM1\t\t0x400\n#define CGX_RX_DMAC_ADR_MASK\t\tGENMASK_ULL(47, 0)\n#define CGXX_CMRX_TX_STAT0\t\t0x700\n#define CGXX_SCRATCH0_REG\t\t0x1050\n#define CGXX_SCRATCH1_REG\t\t0x1058\n#define CGX_CONST\t\t\t0x2000\n#define CGX_CONST_RXFIFO_SIZE\t        GENMASK_ULL(55, 32)\n#define CGX_CONST_MAX_LMACS\t        GENMASK_ULL(31, 24)\n#define CGXX_SPUX_CONTROL1\t\t0x10000\n#define CGXX_SPUX_LNX_FEC_CORR_BLOCKS\t0x10700\n#define CGXX_SPUX_LNX_FEC_UNCORR_BLOCKS\t0x10800\n#define CGXX_SPUX_RSFEC_CORR\t\t0x10088\n#define CGXX_SPUX_RSFEC_UNCORR\t\t0x10090\n\n#define CGXX_SPUX_CONTROL1_LBK\t\tBIT_ULL(14)\n#define CGXX_GMP_PCS_MRX_CTL\t\t0x30000\n#define CGXX_GMP_PCS_MRX_CTL_LBK\tBIT_ULL(14)\n\n#define CGXX_SMUX_RX_FRM_CTL\t\t0x20020\n#define CGX_SMUX_RX_FRM_CTL_CTL_BCK\tBIT_ULL(3)\n#define CGX_SMUX_RX_FRM_CTL_PTP_MODE\tBIT_ULL(12)\n#define CGXX_GMP_GMI_RXX_FRM_CTL\t0x38028\n#define CGX_GMP_GMI_RXX_FRM_CTL_CTL_BCK\tBIT_ULL(3)\n#define CGX_GMP_GMI_RXX_FRM_CTL_PTP_MODE BIT_ULL(12)\n#define CGXX_SMUX_TX_CTL\t\t0x20178\n#define CGXX_SMUX_TX_PAUSE_PKT_TIME\t0x20110\n#define CGXX_SMUX_TX_PAUSE_PKT_INTERVAL\t0x20120\n#define CGXX_SMUX_SMAC                        0x20108\n#define CGXX_SMUX_CBFC_CTL                    0x20218\n#define CGXX_SMUX_CBFC_CTL_RX_EN             BIT_ULL(0)\n#define CGXX_SMUX_CBFC_CTL_TX_EN             BIT_ULL(1)\n#define CGXX_SMUX_CBFC_CTL_DRP_EN            BIT_ULL(2)\n#define CGXX_SMUX_CBFC_CTL_BCK_EN            BIT_ULL(3)\n#define CGX_PFC_CLASS_MASK\t\t     GENMASK_ULL(47, 32)\n#define CGXX_GMP_GMI_TX_PAUSE_PKT_TIME\t0x38230\n#define CGXX_GMP_GMI_TX_PAUSE_PKT_INTERVAL\t0x38248\n#define CGX_SMUX_TX_CTL_L2P_BP_CONV\tBIT_ULL(7)\n#define CGXX_CMR_RX_OVR_BP\t\t0x130\n#define CGX_CMR_RX_OVR_BP_EN(X)\t\tBIT_ULL(((X) + 8))\n#define CGX_CMR_RX_OVR_BP_BP(X)\t\tBIT_ULL(((X) + 4))\n\n#define CGX_COMMAND_REG\t\t\tCGXX_SCRATCH1_REG\n#define CGX_EVENT_REG\t\t\tCGXX_SCRATCH0_REG\n#define CGX_CMD_TIMEOUT\t\t\t5000  \n#define DEFAULT_PAUSE_TIME\t\t0x7FF\n\n#define CGX_LMAC_FWI\t\t\t0\n\nenum  cgx_nix_stat_type {\n\tNIX_STATS_RX,\n\tNIX_STATS_TX,\n};\n\nenum LMAC_TYPE {\n\tLMAC_MODE_SGMII\t\t= 0,\n\tLMAC_MODE_XAUI\t\t= 1,\n\tLMAC_MODE_RXAUI\t\t= 2,\n\tLMAC_MODE_10G_R\t\t= 3,\n\tLMAC_MODE_40G_R\t\t= 4,\n\tLMAC_MODE_QSGMII\t= 6,\n\tLMAC_MODE_25G_R\t\t= 7,\n\tLMAC_MODE_50G_R\t\t= 8,\n\tLMAC_MODE_100G_R\t= 9,\n\tLMAC_MODE_USXGMII\t= 10,\n\tLMAC_MODE_USGMII\t= 11,\n\tLMAC_MODE_MAX,\n};\n\nstruct cgx_link_event {\n\tstruct cgx_link_user_info link_uinfo;\n\tu8 cgx_id;\n\tu8 lmac_id;\n};\n\n \nstruct cgx_event_cb {\n\tint (*notify_link_chg)(struct cgx_link_event *event, void *data);\n\tvoid *data;\n};\n\nextern struct pci_driver cgx_driver;\n\nint cgx_get_cgxcnt_max(void);\nint cgx_get_cgxid(void *cgxd);\nint cgx_get_lmac_cnt(void *cgxd);\nvoid *cgx_get_pdata(int cgx_id);\nint cgx_set_pkind(void *cgxd, u8 lmac_id, int pkind);\nint cgx_lmac_evh_register(struct cgx_event_cb *cb, void *cgxd, int lmac_id);\nint cgx_lmac_evh_unregister(void *cgxd, int lmac_id);\nint cgx_get_tx_stats(void *cgxd, int lmac_id, int idx, u64 *tx_stat);\nint cgx_get_rx_stats(void *cgxd, int lmac_id, int idx, u64 *rx_stat);\nint cgx_lmac_rx_tx_enable(void *cgxd, int lmac_id, bool enable);\nint cgx_lmac_tx_enable(void *cgxd, int lmac_id, bool enable);\nint cgx_lmac_addr_set(u8 cgx_id, u8 lmac_id, u8 *mac_addr);\nint cgx_lmac_addr_reset(u8 cgx_id, u8 lmac_id);\nu64 cgx_lmac_addr_get(u8 cgx_id, u8 lmac_id);\nint cgx_lmac_addr_add(u8 cgx_id, u8 lmac_id, u8 *mac_addr);\nint cgx_lmac_addr_del(u8 cgx_id, u8 lmac_id, u8 index);\nint cgx_lmac_addr_max_entries_get(u8 cgx_id, u8 lmac_id);\nvoid cgx_lmac_promisc_config(int cgx_id, int lmac_id, bool enable);\nvoid cgx_lmac_enadis_rx_pause_fwding(void *cgxd, int lmac_id, bool enable);\nint cgx_lmac_internal_loopback(void *cgxd, int lmac_id, bool enable);\nint cgx_get_link_info(void *cgxd, int lmac_id,\n\t\t      struct cgx_link_user_info *linfo);\nint cgx_lmac_linkup_start(void *cgxd);\nint cgx_get_fwdata_base(u64 *base);\nint cgx_lmac_get_pause_frm(void *cgxd, int lmac_id,\n\t\t\t   u8 *tx_pause, u8 *rx_pause);\nint cgx_lmac_set_pause_frm(void *cgxd, int lmac_id,\n\t\t\t   u8 tx_pause, u8 rx_pause);\nvoid cgx_lmac_ptp_config(void *cgxd, int lmac_id, bool enable);\nu8 cgx_lmac_get_p2x(int cgx_id, int lmac_id);\nint cgx_set_fec(u64 fec, int cgx_id, int lmac_id);\nint cgx_get_fec_stats(void *cgxd, int lmac_id, struct cgx_fec_stats_rsp *rsp);\nint cgx_get_phy_fec_stats(void *cgxd, int lmac_id);\nint cgx_set_link_mode(void *cgxd, struct cgx_set_link_mode_args args,\n\t\t      int cgx_id, int lmac_id);\nu64 cgx_features_get(void *cgxd);\nstruct mac_ops *get_mac_ops(void *cgxd);\nint cgx_get_nr_lmacs(void *cgxd);\nu8 cgx_get_lmacid(void *cgxd, u8 lmac_index);\nunsigned long cgx_get_lmac_bmap(void *cgxd);\nvoid cgx_lmac_write(int cgx_id, int lmac_id, u64 offset, u64 val);\nu64 cgx_lmac_read(int cgx_id, int lmac_id, u64 offset);\nint cgx_lmac_addr_update(u8 cgx_id, u8 lmac_id, u8 *mac_addr, u8 index);\nu64 cgx_read_dmac_ctrl(void *cgxd, int lmac_id);\nu64 cgx_read_dmac_entry(void *cgxd, int index);\nint cgx_lmac_pfc_config(void *cgxd, int lmac_id, u8 tx_pause, u8 rx_pause,\n\t\t\tu16 pfc_en);\nint cgx_lmac_get_pfc_frm_cfg(void *cgxd, int lmac_id, u8 *tx_pause,\n\t\t\t     u8 *rx_pause);\nint verify_lmac_fc_cfg(void *cgxd, int lmac_id, u8 tx_pause, u8 rx_pause,\n\t\t       int pfvf_idx);\nint cgx_lmac_reset(void *cgxd, int lmac_id, u8 pf_req_flr);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}