{
  "module_name": "prestera_router_hw.h",
  "hash_id": "abcf009f76d86eb8be15811fa82ec6337e4fe6e834c8de8e7589dad89a53c113",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/marvell/prestera/prestera_router_hw.h",
  "human_readable_source": " \n \n\n#ifndef _PRESTERA_ROUTER_HW_H_\n#define _PRESTERA_ROUTER_HW_H_\n\nstruct prestera_vr {\n\tstruct list_head router_node;\n\trefcount_t refcount;\n\tu32 tb_id;\t\t\t \n\tu16 hw_vr_id;\t\t\t \n\tu8 __pad[2];\n};\n\nstruct prestera_rif_entry {\n\tstruct prestera_rif_entry_key {\n\t\tstruct prestera_iface iface;\n\t} key;\n\tstruct prestera_vr *vr;\n\tunsigned char addr[ETH_ALEN];\n\tu16 hw_id;  \n\tstruct list_head router_node;  \n};\n\nstruct prestera_ip_addr {\n\tunion {\n\t\t__be32 ipv4;\n\t\tstruct in6_addr ipv6;\n\t} u;\n\tenum {\n\t\tPRESTERA_IPV4 = 0,\n\t\tPRESTERA_IPV6\n\t} v;\n#define PRESTERA_IP_ADDR_PLEN(V) ((V) == PRESTERA_IPV4 ? 32 : \\\n\t\t\t\t    128  )\n};\n\nstruct prestera_nh_neigh_key {\n\tstruct prestera_ip_addr addr;\n\t \n\t \n\t \n\tvoid *rif;\n};\n\n \nstruct prestera_neigh_info {\n\tstruct prestera_iface iface;\n\tunsigned char ha[ETH_ALEN];\n\tu8 connected;  \n\tu8 __pad[1];\n};\n\n \nstruct prestera_nh_neigh {\n\tstruct prestera_nh_neigh_key key;\n\tstruct prestera_neigh_info info;\n\tstruct rhash_head ht_node;  \n\tstruct list_head nexthop_group_list;\n};\n\n#define PRESTERA_NHGR_SIZE_MAX 4\n\nstruct prestera_nexthop_group {\n\tstruct prestera_nexthop_group_key {\n\t\tstruct prestera_nh_neigh_key neigh[PRESTERA_NHGR_SIZE_MAX];\n\t} key;\n\t \n\t \n\tstruct prestera_nh_neigh_head {\n\t\tstruct prestera_nexthop_group *this;\n\t\tstruct list_head head;\n\t\t \n\t\tstruct prestera_nh_neigh *neigh;\n\t} nh_neigh_head[PRESTERA_NHGR_SIZE_MAX];\n\tstruct rhash_head ht_node;  \n\trefcount_t refcount;\n\tu32 grp_id;  \n};\n\nstruct prestera_fib_key {\n\tstruct prestera_ip_addr addr;\n\tu32 prefix_len;\n\tu32 tb_id;\n};\n\nstruct prestera_fib_info {\n\tstruct prestera_vr *vr;\n\tstruct list_head vr_node;\n\tenum prestera_fib_type {\n\t\tPRESTERA_FIB_TYPE_INVALID = 0,\n\t\t \n\t\tPRESTERA_FIB_TYPE_UC_NH,\n\t\t \n\t\tPRESTERA_FIB_TYPE_TRAP,\n\t\tPRESTERA_FIB_TYPE_DROP\n\t} type;\n\t \n\tstruct prestera_nexthop_group *nh_grp;\n};\n\nstruct prestera_fib_node {\n\tstruct rhash_head ht_node;  \n\tstruct prestera_fib_key key;\n\tstruct prestera_fib_info info;  \n};\n\nstruct prestera_rif_entry *\nprestera_rif_entry_find(const struct prestera_switch *sw,\n\t\t\tconst struct prestera_rif_entry_key *k);\nvoid prestera_rif_entry_destroy(struct prestera_switch *sw,\n\t\t\t\tstruct prestera_rif_entry *e);\nstruct prestera_rif_entry *\nprestera_rif_entry_create(struct prestera_switch *sw,\n\t\t\t  struct prestera_rif_entry_key *k,\n\t\t\t  u32 tb_id, const unsigned char *addr);\nstruct prestera_nh_neigh *\nprestera_nh_neigh_find(struct prestera_switch *sw,\n\t\t       struct prestera_nh_neigh_key *key);\nstruct prestera_nh_neigh *\nprestera_nh_neigh_get(struct prestera_switch *sw,\n\t\t      struct prestera_nh_neigh_key *key);\nvoid prestera_nh_neigh_put(struct prestera_switch *sw,\n\t\t\t   struct prestera_nh_neigh *neigh);\nint prestera_nh_neigh_set(struct prestera_switch *sw,\n\t\t\t  struct prestera_nh_neigh *neigh);\nbool prestera_nh_neigh_util_hw_state(struct prestera_switch *sw,\n\t\t\t\t     struct prestera_nh_neigh *nh_neigh);\nstruct prestera_fib_node *prestera_fib_node_find(struct prestera_switch *sw,\n\t\t\t\t\t\t struct prestera_fib_key *key);\nvoid prestera_fib_node_destroy(struct prestera_switch *sw,\n\t\t\t       struct prestera_fib_node *fib_node);\nstruct prestera_fib_node *\nprestera_fib_node_create(struct prestera_switch *sw,\n\t\t\t struct prestera_fib_key *key,\n\t\t\t enum prestera_fib_type fib_type,\n\t\t\t struct prestera_nexthop_group_key *nh_grp_key);\nint prestera_router_hw_init(struct prestera_switch *sw);\nvoid prestera_router_hw_fini(struct prestera_switch *sw);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}