{
  "module_name": "prestera_hw.h",
  "hash_id": "d20ca46b1cb21af928f34c4018a33e1a66d93c8e1e9037f8f75d617d42e2ffd6",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/marvell/prestera/prestera_hw.h",
  "human_readable_source": " \n \n\n#ifndef _PRESTERA_HW_H_\n#define _PRESTERA_HW_H_\n\n#include <linux/types.h>\n#include \"prestera_acl.h\"\n\nenum prestera_accept_frm_type {\n\tPRESTERA_ACCEPT_FRAME_TYPE_TAGGED,\n\tPRESTERA_ACCEPT_FRAME_TYPE_UNTAGGED,\n\tPRESTERA_ACCEPT_FRAME_TYPE_ALL,\n};\n\nenum prestera_fdb_flush_mode {\n\tPRESTERA_FDB_FLUSH_MODE_DYNAMIC = BIT(0),\n\tPRESTERA_FDB_FLUSH_MODE_STATIC = BIT(1),\n\tPRESTERA_FDB_FLUSH_MODE_ALL = PRESTERA_FDB_FLUSH_MODE_DYNAMIC\n\t\t\t\t\t| PRESTERA_FDB_FLUSH_MODE_STATIC,\n};\n\nenum {\n\tPRESTERA_MAC_MODE_INTERNAL,\n\tPRESTERA_MAC_MODE_SGMII,\n\tPRESTERA_MAC_MODE_1000BASE_X,\n\tPRESTERA_MAC_MODE_KR,\n\tPRESTERA_MAC_MODE_KR2,\n\tPRESTERA_MAC_MODE_KR4,\n\tPRESTERA_MAC_MODE_CR,\n\tPRESTERA_MAC_MODE_CR2,\n\tPRESTERA_MAC_MODE_CR4,\n\tPRESTERA_MAC_MODE_SR_LR,\n\tPRESTERA_MAC_MODE_SR_LR2,\n\tPRESTERA_MAC_MODE_SR_LR4,\n\n\tPRESTERA_MAC_MODE_MAX\n};\n\nenum {\n\tPRESTERA_LINK_MODE_10baseT_Half,\n\tPRESTERA_LINK_MODE_10baseT_Full,\n\tPRESTERA_LINK_MODE_100baseT_Half,\n\tPRESTERA_LINK_MODE_100baseT_Full,\n\tPRESTERA_LINK_MODE_1000baseT_Half,\n\tPRESTERA_LINK_MODE_1000baseT_Full,\n\tPRESTERA_LINK_MODE_1000baseX_Full,\n\tPRESTERA_LINK_MODE_1000baseKX_Full,\n\tPRESTERA_LINK_MODE_2500baseX_Full,\n\tPRESTERA_LINK_MODE_10GbaseKR_Full,\n\tPRESTERA_LINK_MODE_10GbaseSR_Full,\n\tPRESTERA_LINK_MODE_10GbaseLR_Full,\n\tPRESTERA_LINK_MODE_20GbaseKR2_Full,\n\tPRESTERA_LINK_MODE_25GbaseCR_Full,\n\tPRESTERA_LINK_MODE_25GbaseKR_Full,\n\tPRESTERA_LINK_MODE_25GbaseSR_Full,\n\tPRESTERA_LINK_MODE_40GbaseKR4_Full,\n\tPRESTERA_LINK_MODE_40GbaseCR4_Full,\n\tPRESTERA_LINK_MODE_40GbaseSR4_Full,\n\tPRESTERA_LINK_MODE_50GbaseCR2_Full,\n\tPRESTERA_LINK_MODE_50GbaseKR2_Full,\n\tPRESTERA_LINK_MODE_50GbaseSR2_Full,\n\tPRESTERA_LINK_MODE_100GbaseKR4_Full,\n\tPRESTERA_LINK_MODE_100GbaseSR4_Full,\n\tPRESTERA_LINK_MODE_100GbaseCR4_Full,\n\n\tPRESTERA_LINK_MODE_MAX\n};\n\nenum {\n\tPRESTERA_PORT_TYPE_NONE,\n\tPRESTERA_PORT_TYPE_TP,\n\tPRESTERA_PORT_TYPE_AUI,\n\tPRESTERA_PORT_TYPE_MII,\n\tPRESTERA_PORT_TYPE_FIBRE,\n\tPRESTERA_PORT_TYPE_BNC,\n\tPRESTERA_PORT_TYPE_DA,\n\tPRESTERA_PORT_TYPE_OTHER,\n\n\tPRESTERA_PORT_TYPE_MAX\n};\n\nenum {\n\tPRESTERA_PORT_TCVR_COPPER,\n\tPRESTERA_PORT_TCVR_SFP,\n\n\tPRESTERA_PORT_TCVR_MAX\n};\n\nenum {\n\tPRESTERA_PORT_FEC_OFF,\n\tPRESTERA_PORT_FEC_BASER,\n\tPRESTERA_PORT_FEC_RS,\n\n\tPRESTERA_PORT_FEC_MAX\n};\n\nenum {\n\tPRESTERA_PORT_DUPLEX_HALF,\n\tPRESTERA_PORT_DUPLEX_FULL,\n};\n\nenum {\n\tPRESTERA_STP_DISABLED,\n\tPRESTERA_STP_BLOCK_LISTEN,\n\tPRESTERA_STP_LEARN,\n\tPRESTERA_STP_FORWARD,\n};\n\nenum {\n\tPRESTERA_POLICER_TYPE_INGRESS,\n\tPRESTERA_POLICER_TYPE_EGRESS\n};\n\nenum prestera_hw_cpu_code_cnt_t {\n\tPRESTERA_HW_CPU_CODE_CNT_TYPE_DROP = 0,\n\tPRESTERA_HW_CPU_CODE_CNT_TYPE_TRAP = 1,\n};\n\nenum prestera_hw_vtcam_direction_t {\n\tPRESTERA_HW_VTCAM_DIR_INGRESS = 0,\n\tPRESTERA_HW_VTCAM_DIR_EGRESS = 1,\n};\n\nenum {\n\tPRESTERA_HW_COUNTER_CLIENT_INGRESS_LOOKUP_0 = 0,\n\tPRESTERA_HW_COUNTER_CLIENT_INGRESS_LOOKUP_1 = 1,\n\tPRESTERA_HW_COUNTER_CLIENT_INGRESS_LOOKUP_2 = 2,\n\tPRESTERA_HW_COUNTER_CLIENT_EGRESS_LOOKUP = 3,\n};\n\nstruct prestera_switch;\nstruct prestera_port;\nstruct prestera_port_stats;\nstruct prestera_port_caps;\nenum prestera_event_type;\nstruct prestera_event;\n\ntypedef void (*prestera_event_cb_t)\n\t(struct prestera_switch *sw, struct prestera_event *evt, void *arg);\n\nstruct prestera_rxtx_params;\nstruct prestera_acl_hw_action_info;\nstruct prestera_acl_iface;\nstruct prestera_counter_stats;\nstruct prestera_iface;\nstruct prestera_flood_domain;\nstruct prestera_mdb_entry;\nstruct prestera_neigh_info;\n\n \nint prestera_hw_switch_init(struct prestera_switch *sw);\nvoid prestera_hw_switch_fini(struct prestera_switch *sw);\nint prestera_hw_switch_ageing_set(struct prestera_switch *sw, u32 ageing_ms);\nint prestera_hw_switch_mac_set(struct prestera_switch *sw, const char *mac);\n\n \nint prestera_hw_port_info_get(const struct prestera_port *port,\n\t\t\t      u32 *dev_id, u32 *hw_id, u16 *fp_id);\n\nint prestera_hw_port_mac_mode_get(const struct prestera_port *port,\n\t\t\t\t  u32 *mode, u32 *speed, u8 *duplex, u8 *fec);\nint prestera_hw_port_mac_mode_set(const struct prestera_port *port,\n\t\t\t\t  bool admin, u32 mode, u8 inband,\n\t\t\t\t  u32 speed, u8 duplex, u8 fec);\nint prestera_hw_port_phy_mode_get(const struct prestera_port *port,\n\t\t\t\t  u8 *mdix, u64 *lmode_bmap,\n\t\t\t\t  bool *fc_pause, bool *fc_asym);\nint prestera_hw_port_phy_mode_set(const struct prestera_port *port,\n\t\t\t\t  bool admin, bool adv, u32 mode, u64 modes,\n\t\t\t\t  u8 mdix);\n\nint prestera_hw_port_mtu_set(const struct prestera_port *port, u32 mtu);\nint prestera_hw_port_mtu_get(const struct prestera_port *port, u32 *mtu);\nint prestera_hw_port_mac_set(const struct prestera_port *port, const char *mac);\nint prestera_hw_port_mac_get(const struct prestera_port *port, char *mac);\nint prestera_hw_port_cap_get(const struct prestera_port *port,\n\t\t\t     struct prestera_port_caps *caps);\nint prestera_hw_port_type_get(const struct prestera_port *port, u8 *type);\nint prestera_hw_port_autoneg_restart(struct prestera_port *port);\nint prestera_hw_port_stats_get(const struct prestera_port *port,\n\t\t\t       struct prestera_port_stats *stats);\nint prestera_hw_port_speed_get(const struct prestera_port *port, u32 *speed);\nint prestera_hw_port_learning_set(struct prestera_port *port, bool enable);\nint prestera_hw_port_uc_flood_set(const struct prestera_port *port, bool flood);\nint prestera_hw_port_mc_flood_set(const struct prestera_port *port, bool flood);\nint prestera_hw_port_br_locked_set(const struct prestera_port *port,\n\t\t\t\t   bool br_locked);\nint prestera_hw_port_accept_frm_type(struct prestera_port *port,\n\t\t\t\t     enum prestera_accept_frm_type type);\n \nint prestera_hw_vlan_create(struct prestera_switch *sw, u16 vid);\nint prestera_hw_vlan_delete(struct prestera_switch *sw, u16 vid);\nint prestera_hw_vlan_port_set(struct prestera_port *port, u16 vid,\n\t\t\t      bool is_member, bool untagged);\nint prestera_hw_vlan_port_vid_set(struct prestera_port *port, u16 vid);\nint prestera_hw_vlan_port_stp_set(struct prestera_port *port, u16 vid, u8 state);\n\n \nint prestera_hw_fdb_add(struct prestera_port *port, const unsigned char *mac,\n\t\t\tu16 vid, bool dynamic);\nint prestera_hw_fdb_del(struct prestera_port *port, const unsigned char *mac,\n\t\t\tu16 vid);\nint prestera_hw_fdb_flush_port(struct prestera_port *port, u32 mode);\nint prestera_hw_fdb_flush_vlan(struct prestera_switch *sw, u16 vid, u32 mode);\nint prestera_hw_fdb_flush_port_vlan(struct prestera_port *port, u16 vid,\n\t\t\t\t    u32 mode);\n\n \nint prestera_hw_bridge_create(struct prestera_switch *sw, u16 *bridge_id);\nint prestera_hw_bridge_delete(struct prestera_switch *sw, u16 bridge_id);\nint prestera_hw_bridge_port_add(struct prestera_port *port, u16 bridge_id);\nint prestera_hw_bridge_port_delete(struct prestera_port *port, u16 bridge_id);\n\n \nint prestera_hw_vtcam_create(struct prestera_switch *sw,\n\t\t\t     u8 lookup, const u32 *keymask, u32 *vtcam_id,\n\t\t\t     enum prestera_hw_vtcam_direction_t direction);\nint prestera_hw_vtcam_rule_add(struct prestera_switch *sw, u32 vtcam_id,\n\t\t\t       u32 prio, void *key, void *keymask,\n\t\t\t       struct prestera_acl_hw_action_info *act,\n\t\t\t       u8 n_act, u32 *rule_id);\nint prestera_hw_vtcam_rule_del(struct prestera_switch *sw,\n\t\t\t       u32 vtcam_id, u32 rule_id);\nint prestera_hw_vtcam_destroy(struct prestera_switch *sw, u32 vtcam_id);\nint prestera_hw_vtcam_iface_bind(struct prestera_switch *sw,\n\t\t\t\t struct prestera_acl_iface *iface,\n\t\t\t\t u32 vtcam_id, u16 pcl_id);\nint prestera_hw_vtcam_iface_unbind(struct prestera_switch *sw,\n\t\t\t\t   struct prestera_acl_iface *iface,\n\t\t\t\t   u32 vtcam_id);\n\n \nint prestera_hw_counter_trigger(struct prestera_switch *sw, u32 block_id);\nint prestera_hw_counter_abort(struct prestera_switch *sw);\nint prestera_hw_counters_get(struct prestera_switch *sw, u32 idx,\n\t\t\t     u32 *len, bool *done,\n\t\t\t     struct prestera_counter_stats *stats);\nint prestera_hw_counter_block_get(struct prestera_switch *sw,\n\t\t\t\t  u32 client, u32 *block_id, u32 *offset,\n\t\t\t\t  u32 *num_counters);\nint prestera_hw_counter_block_release(struct prestera_switch *sw,\n\t\t\t\t      u32 block_id);\nint prestera_hw_counter_clear(struct prestera_switch *sw, u32 block_id,\n\t\t\t      u32 counter_id);\n\n \nint prestera_hw_span_get(const struct prestera_port *port, u8 *span_id);\nint prestera_hw_span_bind(const struct prestera_port *port, u8 span_id,\n\t\t\t  bool ingress);\nint prestera_hw_span_unbind(const struct prestera_port *port, bool ingress);\nint prestera_hw_span_release(struct prestera_switch *sw, u8 span_id);\n\n \nint prestera_hw_rif_create(struct prestera_switch *sw,\n\t\t\t   struct prestera_iface *iif, u8 *mac, u16 *rif_id);\nint prestera_hw_rif_delete(struct prestera_switch *sw, u16 rif_id,\n\t\t\t   struct prestera_iface *iif);\n\n \nint prestera_hw_vr_create(struct prestera_switch *sw, u16 *vr_id);\nint prestera_hw_vr_delete(struct prestera_switch *sw, u16 vr_id);\n\n \nint prestera_hw_lpm_add(struct prestera_switch *sw, u16 vr_id,\n\t\t\t__be32 dst, u32 dst_len, u32 grp_id);\nint prestera_hw_lpm_del(struct prestera_switch *sw, u16 vr_id,\n\t\t\t__be32 dst, u32 dst_len);\n\n \nint prestera_hw_nh_entries_set(struct prestera_switch *sw, int count,\n\t\t\t       struct prestera_neigh_info *nhs, u32 grp_id);\nint prestera_hw_nhgrp_blk_get(struct prestera_switch *sw,\n\t\t\t      u8 *hw_state, u32 buf_size  );\nint prestera_hw_nh_group_create(struct prestera_switch *sw, u16 nh_count,\n\t\t\t\tu32 *grp_id);\nint prestera_hw_nh_group_delete(struct prestera_switch *sw, u16 nh_count,\n\t\t\t\tu32 grp_id);\n\n \nint prestera_hw_event_handler_register(struct prestera_switch *sw,\n\t\t\t\t       enum prestera_event_type type,\n\t\t\t\t       prestera_event_cb_t fn,\n\t\t\t\t       void *arg);\nvoid prestera_hw_event_handler_unregister(struct prestera_switch *sw,\n\t\t\t\t\t  enum prestera_event_type type,\n\t\t\t\t\t  prestera_event_cb_t fn);\n\n \nint prestera_hw_rxtx_init(struct prestera_switch *sw,\n\t\t\t  struct prestera_rxtx_params *params);\n\n \nint prestera_hw_lag_member_add(struct prestera_port *port, u16 lag_id);\nint prestera_hw_lag_member_del(struct prestera_port *port, u16 lag_id);\nint prestera_hw_lag_member_enable(struct prestera_port *port, u16 lag_id,\n\t\t\t\t  bool enable);\nint prestera_hw_lag_fdb_add(struct prestera_switch *sw, u16 lag_id,\n\t\t\t    const unsigned char *mac, u16 vid, bool dynamic);\nint prestera_hw_lag_fdb_del(struct prestera_switch *sw, u16 lag_id,\n\t\t\t    const unsigned char *mac, u16 vid);\nint prestera_hw_fdb_flush_lag(struct prestera_switch *sw, u16 lag_id,\n\t\t\t      u32 mode);\nint prestera_hw_fdb_flush_lag_vlan(struct prestera_switch *sw,\n\t\t\t\t   u16 lag_id, u16 vid, u32 mode);\n\n \nint\nprestera_hw_cpu_code_counters_get(struct prestera_switch *sw, u8 code,\n\t\t\t\t  enum prestera_hw_cpu_code_cnt_t counter_type,\n\t\t\t\t  u64 *packet_count);\n\n \nint prestera_hw_policer_create(struct prestera_switch *sw, u8 type,\n\t\t\t       u32 *policer_id);\nint prestera_hw_policer_release(struct prestera_switch *sw,\n\t\t\t\tu32 policer_id);\nint prestera_hw_policer_sr_tcm_set(struct prestera_switch *sw,\n\t\t\t\t   u32 policer_id, u64 cir, u32 cbs);\n\n \nint prestera_hw_flood_domain_create(struct prestera_flood_domain *domain);\nint prestera_hw_flood_domain_destroy(struct prestera_flood_domain *domain);\nint prestera_hw_flood_domain_ports_set(struct prestera_flood_domain *domain);\nint prestera_hw_flood_domain_ports_reset(struct prestera_flood_domain *domain);\n\nint prestera_hw_mdb_create(struct prestera_mdb_entry *mdb);\nint prestera_hw_mdb_destroy(struct prestera_mdb_entry *mdb);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}