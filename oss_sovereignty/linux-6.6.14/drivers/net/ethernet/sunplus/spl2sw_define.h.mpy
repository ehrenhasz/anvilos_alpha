{
  "module_name": "spl2sw_define.h",
  "hash_id": "5a054a510cf54dcd4d006d6c6c6cbb2fb2b252c880e73fe94a162da9e1468b3c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/sunplus/spl2sw_define.h",
  "human_readable_source": " \n \n\n#ifndef __SPL2SW_DEFINE_H__\n#define __SPL2SW_DEFINE_H__\n\n#define MAX_NETDEV_NUM\t\t\t2\t \n\n \n#define MAC_INT_DAISY_MODE_CHG\t\tBIT(31)  \n#define MAC_INT_IP_CHKSUM_ERR\t\tBIT(23)  \n#define MAC_INT_WDOG_TIMER1_EXP\t\tBIT(22)  \n#define MAC_INT_WDOG_TIMER0_EXP\t\tBIT(21)  \n#define MAC_INT_INTRUDER_ALERT\t\tBIT(20)  \n#define MAC_INT_PORT_ST_CHG\t\tBIT(19)  \n#define MAC_INT_BC_STORM\t\tBIT(18)  \n#define MAC_INT_MUST_DROP_LAN\t\tBIT(17)  \n#define MAC_INT_GLOBAL_QUE_FULL\t\tBIT(16)  \n#define MAC_INT_TX_SOC_PAUSE_ON\t\tBIT(15)  \n#define MAC_INT_RX_SOC_QUE_FULL\t\tBIT(14)  \n#define MAC_INT_TX_LAN1_QUE_FULL\tBIT(9)   \n#define MAC_INT_TX_LAN0_QUE_FULL\tBIT(8)   \n#define MAC_INT_RX_L_DESCF\t\tBIT(7)   \n#define MAC_INT_RX_H_DESCF\t\tBIT(6)   \n#define MAC_INT_RX_DONE_L\t\tBIT(5)   \n#define MAC_INT_RX_DONE_H\t\tBIT(4)   \n#define MAC_INT_TX_DONE_L\t\tBIT(3)   \n#define MAC_INT_TX_DONE_H\t\tBIT(2)   \n#define MAC_INT_TX_DES_ERR\t\tBIT(1)   \n#define MAC_INT_RX_DES_ERR\t\tBIT(0)   \n\n#define MAC_INT_RX\t\t\t(MAC_INT_RX_DONE_H | MAC_INT_RX_DONE_L | \\\n\t\t\t\t\tMAC_INT_RX_DES_ERR)\n#define MAC_INT_TX\t\t\t(MAC_INT_TX_DONE_L | MAC_INT_TX_DONE_H | \\\n\t\t\t\t\tMAC_INT_TX_DES_ERR)\n#define MAC_INT_MASK_DEF\t\t(MAC_INT_DAISY_MODE_CHG | MAC_INT_IP_CHKSUM_ERR | \\\n\t\t\t\t\tMAC_INT_WDOG_TIMER1_EXP | MAC_INT_WDOG_TIMER0_EXP | \\\n\t\t\t\t\tMAC_INT_INTRUDER_ALERT | MAC_INT_PORT_ST_CHG | \\\n\t\t\t\t\tMAC_INT_BC_STORM | MAC_INT_MUST_DROP_LAN | \\\n\t\t\t\t\tMAC_INT_GLOBAL_QUE_FULL | MAC_INT_TX_SOC_PAUSE_ON | \\\n\t\t\t\t\tMAC_INT_RX_SOC_QUE_FULL | MAC_INT_TX_LAN1_QUE_FULL | \\\n\t\t\t\t\tMAC_INT_TX_LAN0_QUE_FULL | MAC_INT_RX_L_DESCF | \\\n\t\t\t\t\tMAC_INT_RX_H_DESCF)\n\n \n#define MAC_ADDR_LOOKUP_IDLE\t\tBIT(2)\n#define MAC_SEARCH_NEXT_ADDR\t\tBIT(1)\n#define MAC_BEGIN_SEARCH_ADDR\t\tBIT(0)\n\n \n#define MAC_HASH_LOOKUP_ADDR\t\tGENMASK(31, 22)\n#define MAC_R_PORT_MAP\t\t\tGENMASK(13, 12)\n#define MAC_R_CPU_PORT\t\t\tGENMASK(11, 10)\n#define MAC_R_VID\t\t\tGENMASK(9, 7)\n#define MAC_R_AGE\t\t\tGENMASK(6, 4)\n#define MAC_R_PROXY\t\t\tBIT(3)\n#define MAC_R_MC_INGRESS\t\tBIT(2)\n#define MAC_AT_TABLE_END\t\tBIT(1)\n#define MAC_AT_DATA_READY\t\tBIT(0)\n\n \n#define MAC_W_PORT_MAP\t\t\tGENMASK(13, 12)\n#define MAC_W_LAN_PORT_1\t\tBIT(13)\n#define MAC_W_LAN_PORT_0\t\tBIT(12)\n#define MAC_W_CPU_PORT\t\t\tGENMASK(11, 10)\n#define MAC_W_CPU_PORT_1\t\tBIT(11)\n#define MAC_W_CPU_PORT_0\t\tBIT(10)\n#define MAC_W_VID\t\t\tGENMASK(9, 7)\n#define MAC_W_AGE\t\t\tGENMASK(6, 4)\n#define MAC_W_PROXY\t\t\tBIT(3)\n#define MAC_W_MC_INGRESS\t\tBIT(2)\n#define MAC_W_MAC_DONE\t\t\tBIT(1)\n#define MAC_W_MAC_CMD\t\t\tBIT(0)\n\n \n#define MAC_W_MAC_15_0\t\t\tGENMASK(15, 0)\n\n \n#define MAC_W_MAC_47_16\t\t\tGENMASK(31, 0)\n\n \n#define MAC_P1_PVID\t\t\tGENMASK(6, 4)\n#define MAC_P0_PVID\t\t\tGENMASK(2, 0)\n\n \n#define MAC_VLAN_MEMSET_3\t\tGENMASK(27, 24)\n#define MAC_VLAN_MEMSET_2\t\tGENMASK(19, 16)\n#define MAC_VLAN_MEMSET_1\t\tGENMASK(11, 8)\n#define MAC_VLAN_MEMSET_0\t\tGENMASK(3, 0)\n\n \n#define MAC_VLAN_MEMSET_5\t\tGENMASK(11, 8)\n#define MAC_VLAN_MEMSET_4\t\tGENMASK(3, 0)\n\n \n#define MAC_PORT_ABILITY_LINK_ST\tGENMASK(25, 24)\n\n \n#define MAC_EN_SOC1_AGING\t\tBIT(15)\n#define MAC_EN_SOC0_AGING\t\tBIT(14)\n#define MAC_DIS_LRN_SOC1\t\tBIT(13)\n#define MAC_DIS_LRN_SOC0\t\tBIT(12)\n#define MAC_EN_CRC_SOC1\t\t\tBIT(9)\n#define MAC_EN_CRC_SOC0\t\t\tBIT(8)\n#define MAC_DIS_SOC1_CPU\t\tBIT(7)\n#define MAC_DIS_SOC0_CPU\t\tBIT(6)\n#define MAC_DIS_BC2CPU_P1\t\tBIT(5)\n#define MAC_DIS_BC2CPU_P0\t\tBIT(4)\n#define MAC_DIS_MC2CPU\t\t\tGENMASK(3, 2)\n#define MAC_DIS_MC2CPU_P1\t\tBIT(3)\n#define MAC_DIS_MC2CPU_P0\t\tBIT(2)\n#define MAC_DIS_UN2CPU\t\t\tGENMASK(1, 0)\n\n \n#define MAC_DIS_PORT\t\t\tGENMASK(25, 24)\n#define MAC_DIS_PORT1\t\t\tBIT(25)\n#define MAC_DIS_PORT0\t\t\tBIT(24)\n#define MAC_DIS_RMC2CPU_P1\t\tBIT(17)\n#define MAC_DIS_RMC2CPU_P0\t\tBIT(16)\n#define MAC_EN_FLOW_CTL_P1\t\tBIT(9)\n#define MAC_EN_FLOW_CTL_P0\t\tBIT(8)\n#define MAC_EN_BACK_PRESS_P1\t\tBIT(1)\n#define MAC_EN_BACK_PRESS_P0\t\tBIT(0)\n\n \n#define MAC_DIS_SA_LRN_P1\t\tBIT(9)\n#define MAC_DIS_SA_LRN_P0\t\tBIT(8)\n\n \n#define MAC_EN_AGING_P1\t\t\tBIT(9)\n#define MAC_EN_AGING_P0\t\t\tBIT(8)\n\n \n#define MAC_RMC_TB_FAULT_RULE\t\tGENMASK(26, 25)\n#define MAC_LED_FLASH_TIME\t\tGENMASK(24, 23)\n#define MAC_BC_STORM_PREV\t\tGENMASK(5, 4)\n\n \n#define MAC_LED_ACT_HI\t\t\tBIT(28)\n\n \n#define MAC_CPU_PHY_WT_DATA\t\tGENMASK(31, 16)\n#define MAC_CPU_PHY_CMD\t\t\tGENMASK(14, 13)\n#define MAC_CPU_PHY_REG_ADDR\t\tGENMASK(12, 8)\n#define MAC_CPU_PHY_ADDR\t\tGENMASK(4, 0)\n\n \n#define MAC_CPU_PHY_RD_DATA\t\tGENMASK(31, 16)\n#define MAC_PHY_RD_RDY\t\t\tBIT(1)\n#define MAC_PHY_WT_DONE\t\t\tBIT(0)\n\n \n#define MAC_EXT_PHY1_ADDR\t\tGENMASK(28, 24)\n#define MAC_EXT_PHY0_ADDR\t\tGENMASK(20, 16)\n#define MAC_FORCE_RMII_LINK\t\tGENMASK(9, 8)\n#define MAC_FORCE_RMII_EN_1\t\tBIT(7)\n#define MAC_FORCE_RMII_EN_0\t\tBIT(6)\n#define MAC_FORCE_RMII_FC\t\tGENMASK(5, 4)\n#define MAC_FORCE_RMII_DPX\t\tGENMASK(3, 2)\n#define MAC_FORCE_RMII_SPD\t\tGENMASK(1, 0)\n\n \n#define MAC_TRIG_L_SOC0\t\t\tBIT(1)\n#define MAC_TRIG_H_SOC0\t\t\tBIT(0)\n\n \n#define TX_DESC_NUM\t\t\t16\t \n#define MAC_GUARD_DESC_NUM\t\t2\t \n#define RX_QUEUE0_DESC_NUM\t\t16\t \n#define RX_QUEUE1_DESC_NUM\t\t16\t \n#define TX_DESC_QUEUE_NUM\t\t1\t \n#define RX_DESC_QUEUE_NUM\t\t2\t \n\n#define MAC_RX_LEN_MAX\t\t\t2047\t \n\n \n \n#define TXD_OWN\t\t\t\tBIT(31)\n#define TXD_ERR_CODE\t\t\tGENMASK(29, 26)\n#define TXD_SOP\t\t\t\tBIT(25)\t\t \n#define TXD_EOP\t\t\t\tBIT(24)\t\t \n#define TXD_VLAN\t\t\tGENMASK(17, 12)\n#define TXD_PKT_LEN\t\t\tGENMASK(10, 0)\t \n \n#define TXD_EOR\t\t\t\tBIT(31)\t\t \n#define TXD_BUF_LEN2\t\t\tGENMASK(22, 12)\n#define TXD_BUF_LEN1\t\t\tGENMASK(10, 0)\n\n \n \n#define RXD_OWN\t\t\t\tBIT(31)\n#define RXD_ERR_CODE\t\t\tGENMASK(29, 26)\n#define RXD_TCP_UDP_CHKSUM\t\tBIT(23)\n#define RXD_PROXY\t\t\tBIT(22)\n#define RXD_PROTOCOL\t\t\tGENMASK(21, 20)\n#define RXD_VLAN_TAG\t\t\tBIT(19)\n#define RXD_IP_CHKSUM\t\t\tBIT(18)\n#define RXD_ROUTE_TYPE\t\t\tGENMASK(17, 16)\n#define RXD_PKT_SP\t\t\tGENMASK(14, 12)\t \n#define RXD_PKT_LEN\t\t\tGENMASK(10, 0)\t \n \n#define RXD_EOR\t\t\t\tBIT(31)\t\t \n#define RXD_BUF_LEN2\t\t\tGENMASK(22, 12)\n#define RXD_BUF_LEN1\t\t\tGENMASK(10, 0)\n\n \nstruct spl2sw_mac_desc {\n\tu32 cmd1;\n\tu32 cmd2;\n\tu32 addr1;\n\tu32 addr2;\n};\n\nstruct spl2sw_skb_info {\n\tstruct sk_buff *skb;\n\tu32 mapping;\n\tu32 len;\n};\n\nstruct spl2sw_common {\n\tvoid __iomem *l2sw_reg_base;\n\n\tstruct platform_device *pdev;\n\tstruct reset_control *rstc;\n\tstruct clk *clk;\n\n\tvoid *desc_base;\n\tdma_addr_t desc_dma;\n\ts32 desc_size;\n\tstruct spl2sw_mac_desc *rx_desc[RX_DESC_QUEUE_NUM];\n\tstruct spl2sw_skb_info *rx_skb_info[RX_DESC_QUEUE_NUM];\n\tu32 rx_pos[RX_DESC_QUEUE_NUM];\n\tu32 rx_desc_num[RX_DESC_QUEUE_NUM];\n\tu32 rx_desc_buff_size;\n\n\tstruct spl2sw_mac_desc *tx_desc;\n\tstruct spl2sw_skb_info tx_temp_skb_info[TX_DESC_NUM];\n\tu32 tx_done_pos;\n\tu32 tx_pos;\n\tu32 tx_desc_full;\n\n\tstruct net_device *ndev[MAX_NETDEV_NUM];\n\tstruct mii_bus *mii_bus;\n\n\tstruct napi_struct rx_napi;\n\tstruct napi_struct tx_napi;\n\n\tspinlock_t tx_lock;\t\t \n\tspinlock_t mdio_lock;\t\t \n\tspinlock_t int_mask_lock;\t \n\n\tu8 enable;\n};\n\nstruct spl2sw_mac {\n\tstruct net_device *ndev;\n\tstruct spl2sw_common *comm;\n\n\tu8 mac_addr[ETH_ALEN];\n\tphy_interface_t phy_mode;\n\tstruct device_node *phy_node;\n\n\tu8 lan_port;\n\tu8 to_vlan;\n\tu8 vlan_id;\n};\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}