{
  "module_name": "xgene_enet_cle.h",
  "hash_id": "332a44401c1c250ab3c8ec15a4a4386789827961a30e84f82c68ea9af62d9c8b",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/apm/xgene/xgene_enet_cle.h",
  "human_readable_source": " \n \n\n#ifndef __XGENE_ENET_CLE_H__\n#define __XGENE_ENET_CLE_H__\n\n#include <linux/io.h>\n#include <linux/random.h>\n\n \n#define INDADDR\t\t\t0x04\n#define INDCMD\t\t\t0x08\n#define INDCMD_STATUS\t\t0x0c\n#define DATA_RAM0\t\t0x10\n#define SNPTR0\t\t\t0x0100\n#define SPPTR0\t\t\t0x0104\n#define DFCLSRESDBPTR0\t\t0x0108\n#define DFCLSRESDB00\t\t0x010c\n#define RSS_CTRL0\t\t0x0000013c\n\n#define CLE_CMD_TO\t\t10\t \n#define CLE_PKTRAM_SIZE\t\t256\t \n#define CLE_PORT_OFFSET\t\t0x200\n#define CLE_DRAM_REGS\t\t17\n\n#define CLE_DN_TYPE_LEN\t\t2\n#define CLE_DN_TYPE_POS\t\t0\n#define CLE_DN_LASTN_LEN\t1\n#define CLE_DN_LASTN_POS\t2\n#define CLE_DN_HLS_LEN\t\t1\n#define CLE_DN_HLS_POS\t\t3\n#define CLE_DN_EXT_LEN\t\t2\n#define\tCLE_DN_EXT_POS\t\t4\n#define CLE_DN_BSTOR_LEN\t2\n#define CLE_DN_BSTOR_POS\t6\n#define CLE_DN_SBSTOR_LEN\t2\n#define CLE_DN_SBSTOR_POS\t8\n#define CLE_DN_RPTR_LEN\t\t12\n#define CLE_DN_RPTR_POS\t\t12\n\n#define CLE_BR_VALID_LEN\t1\n#define CLE_BR_VALID_POS\t0\n#define CLE_BR_NPPTR_LEN\t9\n#define CLE_BR_NPPTR_POS\t1\n#define CLE_BR_JB_LEN\t\t1\n#define CLE_BR_JB_POS\t\t10\n#define CLE_BR_JR_LEN\t\t1\n#define CLE_BR_JR_POS\t\t11\n#define CLE_BR_OP_LEN\t\t3\n#define CLE_BR_OP_POS\t\t12\n#define CLE_BR_NNODE_LEN\t9\n#define CLE_BR_NNODE_POS\t15\n#define CLE_BR_NBR_LEN\t\t5\n#define CLE_BR_NBR_POS\t\t24\n\n#define CLE_BR_DATA_LEN\t\t16\n#define CLE_BR_DATA_POS\t\t0\n#define CLE_BR_MASK_LEN\t\t16\n#define CLE_BR_MASK_POS\t\t16\n\n#define CLE_KN_PRIO_POS\t\t0\n#define CLE_KN_PRIO_LEN\t\t3\n#define CLE_KN_RPTR_POS\t\t3\n#define CLE_KN_RPTR_LEN\t\t10\n#define CLE_TYPE_POS\t\t0\n#define CLE_TYPE_LEN\t\t2\n\n#define CLE_DROP_POS\t\t28\n#define CLE_DROP_LEN\t\t1\n#define CLE_DSTQIDL_POS\t\t25\n#define CLE_DSTQIDL_LEN\t\t7\n#define CLE_DSTQIDH_POS\t\t0\n#define CLE_DSTQIDH_LEN\t\t5\n#define CLE_FPSEL_POS\t\t21\n#define CLE_FPSEL_LEN\t\t4\n#define CLE_NFPSEL_POS\t\t17\n#define CLE_NFPSEL_LEN\t\t4\n#define CLE_PRIORITY_POS\t5\n#define CLE_PRIORITY_LEN\t3\n\n#define JMP_ABS\t\t\t0\n#define JMP_REL\t\t\t1\n#define JMP_FW\t\t\t0\n#define JMP_BW\t\t\t1\n\nenum xgene_cle_ptree_nodes {\n\tPKT_TYPE_NODE,\n\tPKT_PROT_NODE,\n\tRSS_IPV4_TCP_NODE,\n\tRSS_IPV4_UDP_NODE,\n\tRSS_IPV4_OTHERS_NODE,\n\tLAST_NODE,\n\tMAX_NODES\n};\n\nenum xgene_cle_byte_store {\n\tNO_BYTE,\n\tFIRST_BYTE,\n\tSECOND_BYTE,\n\tBOTH_BYTES\n};\n\n \nenum xgene_cle_node_type {\n\tINV,\n\tKN,\n\tEWDN,\n\tRES_NODE\n};\n\n \nenum xgene_cle_op_type {\n\tEQT,\n\tNEQT,\n\tLTEQT,\n\tGTEQT,\n\tAND,\n\tNAND\n};\n\nenum xgene_cle_parser {\n\tPARSER0,\n\tPARSER1,\n\tPARSER2,\n\tPARSER_ALL\n};\n\n#define XGENE_CLE_DRAM(type)\t(((type) & 0xf) << 28)\nenum xgene_cle_dram_type {\n\tPKT_RAM,\n\tRSS_IDT,\n\tRSS_IPV4_HASH_SKEY,\n\tPTREE_RAM = 0xc,\n\tAVL_RAM,\n\tDB_RAM\n};\n\nenum xgene_cle_cmd_type {\n\tCLE_CMD_WR = 1,\n\tCLE_CMD_RD = 2,\n\tCLE_CMD_AVL_ADD = 8,\n\tCLE_CMD_AVL_DEL = 16,\n\tCLE_CMD_AVL_SRCH = 32\n};\n\nenum xgene_cle_ipv4_rss_hashtype {\n\tRSS_IPV4_8B,\n\tRSS_IPV4_12B,\n};\n\nenum xgene_cle_prot_type {\n\tXGENE_CLE_TCP,\n\tXGENE_CLE_UDP,\n\tXGENE_CLE_ESP,\n\tXGENE_CLE_OTHER\n};\n\nenum xgene_cle_prot_version {\n\tXGENE_CLE_IPV4,\n};\n\nenum xgene_cle_ptree_dbptrs {\n\tDB_RES_DROP,\n\tDB_RES_DEF,\n\tDB_RES_ACCEPT,\n\tDB_MAX_PTRS\n};\n\n \n#define SB_IPFRAG_POS\t0\n#define SB_IPFRAG_LEN\t1\n#define SB_IPPROT_POS\t1\n#define SB_IPPROT_LEN\t2\n#define SB_IPVER_POS\t3\n#define SB_IPVER_LEN\t1\n#define SB_HDRLEN_POS\t4\n#define SB_HDRLEN_LEN\t12\n\n \n#define XGENE_CLE_IDT_ENTRIES\t128\n#define IDT_DSTQID_POS\t\t0\n#define IDT_DSTQID_LEN\t\t12\n#define IDT_FPSEL_POS\t\t12\n#define IDT_FPSEL_LEN\t\t5\n#define IDT_NFPSEL_POS\t\t17\n#define IDT_NFPSEL_LEN\t\t5\n#define IDT_FPSEL1_POS\t\t12\n#define IDT_FPSEL1_LEN\t\t4\n#define IDT_NFPSEL1_POS\t\t16\n#define IDT_NFPSEL1_LEN\t\t4\n\nstruct xgene_cle_ptree_branch {\n\tbool valid;\n\tu16 next_packet_pointer;\n\tbool jump_bw;\n\tbool jump_rel;\n\tu8 operation;\n\tu16 next_node;\n\tu8 next_branch;\n\tu16 data;\n\tu16 mask;\n};\n\nstruct xgene_cle_ptree_ewdn {\n\tu8 node_type;\n\tbool last_node;\n\tbool hdr_len_store;\n\tu8 hdr_extn;\n\tu8 byte_store;\n\tu8 search_byte_store;\n\tu16 result_pointer;\n\tu8 num_branches;\n\tstruct xgene_cle_ptree_branch branch[6];\n};\n\nstruct xgene_cle_ptree_key {\n\tu8 priority;\n\tu16 result_pointer;\n};\n\nstruct xgene_cle_ptree_kn {\n\tu8 node_type;\n\tu8 num_keys;\n\tstruct xgene_cle_ptree_key key[32];\n};\n\nstruct xgene_cle_dbptr {\n\tu8 split_boundary;\n\tu8 mirror_nxtfpsel;\n\tu8 mirror_fpsel;\n\tu16 mirror_dstqid;\n\tu8 drop;\n\tu8 mirror;\n\tu8 hdr_data_split;\n\tu64 hopinfomsbs;\n\tu8 DR;\n\tu8 HR;\n\tu64 hopinfomlsbs;\n\tu16 h0enq_num;\n\tu8 h0fpsel;\n\tu8 nxtfpsel;\n\tu8 fpsel;\n\tu16 dstqid;\n\tu8 cle_priority;\n\tu8 cle_flowgroup;\n\tu8 cle_perflow;\n\tu8 cle_insert_timestamp;\n\tu8 stash;\n\tu8 in;\n\tu8 perprioen;\n\tu8 perflowgroupen;\n\tu8 perflowen;\n\tu8 selhash;\n\tu8 selhdrext;\n\tu8 mirror_nxtfpsel_msb;\n\tu8 mirror_fpsel_msb;\n\tu8 hfpsel_msb;\n\tu8 nxtfpsel_msb;\n\tu8 fpsel_msb;\n};\n\nstruct xgene_cle_ptree {\n\tstruct xgene_cle_ptree_kn *kn;\n\tstruct xgene_cle_dbptr *dbptr;\n\tu32 num_kn;\n\tu32 num_dbptr;\n\tu32 start_node;\n\tu32 start_pkt;\n\tu32 start_dbptr;\n};\n\nstruct xgene_enet_cle {\n\tvoid __iomem *base;\n\tstruct xgene_cle_ptree ptree;\n\tenum xgene_cle_parser active_parser;\n\tu32 parsers;\n\tu32 max_nodes;\n\tu32 max_dbptrs;\n\tu32 jump_bytes;\n};\n\nextern const struct xgene_cle_ops xgene_cle3in_ops;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}