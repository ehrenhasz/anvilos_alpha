{
  "module_name": "ring.h",
  "hash_id": "a3bfe8251f39088cdeb6f344da49ad9f8ec5878c77cf0a2b26969bf8cd1357dc",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/apm/xgene-v2/ring.h",
  "human_readable_source": " \n \n\n#ifndef __XGENE_ENET_V2_RING_H__\n#define __XGENE_ENET_V2_RING_H__\n\n#define XGENE_ENET_DESC_SIZE\t64\n#define XGENE_ENET_NUM_DESC\t256\n#define NUM_BUFS\t\t8\n#define SLOT_EMPTY\t\t0xfff\n\n#define DMATXCTRL\t\t0xa180\n#define DMATXDESCL\t\t0xa184\n#define DMATXDESCH\t\t0xa1a0\n#define DMATXSTATUS\t\t0xa188\n#define DMARXCTRL\t\t0xa18c\n#define DMARXDESCL\t\t0xa190\n#define DMARXDESCH\t\t0xa1a4\n#define DMARXSTATUS\t\t0xa194\n#define DMAINTRMASK\t\t0xa198\n#define DMAINTERRUPT\t\t0xa19c\n\n#define D_POS\t\t\t62\n#define D_LEN\t\t\t2\n#define E_POS\t\t\t63\n#define E_LEN\t\t\t1\n#define PKT_ADDRL_POS\t\t0\n#define PKT_ADDRL_LEN\t\t32\n#define PKT_ADDRH_POS\t\t32\n#define PKT_ADDRH_LEN\t\t10\n#define PKT_SIZE_POS\t\t32\n#define PKT_SIZE_LEN\t\t12\n#define NEXT_DESC_ADDRL_POS\t0\n#define NEXT_DESC_ADDRL_LEN\t32\n#define NEXT_DESC_ADDRH_POS\t48\n#define NEXT_DESC_ADDRH_LEN\t10\n\n#define TXPKTCOUNT_POS\t\t16\n#define TXPKTCOUNT_LEN\t\t8\n#define RXPKTCOUNT_POS\t\t16\n#define RXPKTCOUNT_LEN\t\t8\n\n#define TX_PKT_SENT\t\tBIT(0)\n#define TX_BUS_ERROR\t\tBIT(3)\n#define RX_PKT_RCVD\t\tBIT(4)\n#define RX_BUS_ERROR\t\tBIT(7)\n#define RXSTATUS_RXPKTRCVD\tBIT(0)\n\nstruct xge_raw_desc {\n\t__le64 m0;\n\t__le64 m1;\n\t__le64 m2;\n\t__le64 m3;\n\t__le64 m4;\n\t__le64 m5;\n\t__le64 m6;\n\t__le64 m7;\n};\n\nstruct pkt_info {\n\tstruct sk_buff *skb;\n\tdma_addr_t dma_addr;\n\tvoid *pkt_buf;\n};\n\n \nstruct xge_desc_ring {\n\tstruct net_device *ndev;\n\tdma_addr_t dma_addr;\n\tu8 head;\n\tu8 tail;\n\tunion {\n\t\tvoid *desc_addr;\n\t\tstruct xge_raw_desc *raw_desc;\n\t};\n\tstruct pkt_info (*pkt_info);\n};\n\nstatic inline u64 xge_set_desc_bits(int pos, int len, u64 val)\n{\n\treturn (val & ((1ULL << len) - 1)) << pos;\n}\n\nstatic inline u64 xge_get_desc_bits(int pos, int len, u64 src)\n{\n\treturn (src >> pos) & ((1ULL << len) - 1);\n}\n\n#define SET_BITS(field, val) \\\n\t\txge_set_desc_bits(field ## _POS, field ## _LEN, val)\n\n#define GET_BITS(field, src) \\\n\t\txge_get_desc_bits(field ## _POS, field ## _LEN, src)\n\nvoid xge_setup_desc(struct xge_desc_ring *ring);\nvoid xge_update_tx_desc_addr(struct xge_pdata *pdata);\nvoid xge_update_rx_desc_addr(struct xge_pdata *pdata);\nvoid xge_intr_enable(struct xge_pdata *pdata);\nvoid xge_intr_disable(struct xge_pdata *pdata);\n\n#endif   \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}