{
  "module_name": "tc_encap_actions.h",
  "hash_id": "1f34b75e6f7c58682123efac13008bb2a2c00a160327574c3dfd4e678583b671",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/sfc/tc_encap_actions.h",
  "human_readable_source": " \n \n\n#ifndef EFX_TC_ENCAP_ACTIONS_H\n#define EFX_TC_ENCAP_ACTIONS_H\n#include \"net_driver.h\"\n\n#if IS_ENABLED(CONFIG_SFC_SRIOV)\n#include <linux/refcount.h>\n#include <net/tc_act/tc_tunnel_key.h>\n\n \nstruct efx_neigh_binder {\n\tstruct net *net;\n\t__be32 dst_ip;\n\tstruct in6_addr dst_ip6;\n\tchar ha[ETH_ALEN];\n\tbool n_valid;\n\trwlock_t lock;\n\tu8 ttl;\n\tbool dying;\n\tstruct net_device *egdev;\n\tnetdevice_tracker dev_tracker;\n\tnetns_tracker ns_tracker;\n\trefcount_t ref;\n\tunsigned long used;\n\tstruct list_head users;\n\tstruct rhash_head linkage;\n\tstruct work_struct work;\n\tstruct efx_nic *efx;\n};\n\n \n#define EFX_TC_MAX_ENCAP_HDR\t126\nstruct efx_tc_encap_action {\n\tenum efx_encap_type type;\n\tstruct ip_tunnel_key key;  \n\tu32 dest_mport;  \n\tu8 encap_hdr_len;\n\tbool n_valid;\n\tu8 encap_hdr[EFX_TC_MAX_ENCAP_HDR];\n\tstruct efx_neigh_binder *neigh;\n\tstruct list_head list;  \n\tstruct list_head users;  \n\tstruct rhash_head linkage;  \n\trefcount_t ref;\n\tu32 fw_id;  \n};\n\n \nint efx_tc_init_encap_actions(struct efx_nic *efx);\nvoid efx_tc_destroy_encap_actions(struct efx_nic *efx);\nvoid efx_tc_fini_encap_actions(struct efx_nic *efx);\n\nstruct efx_tc_flow_rule;\nbool efx_tc_check_ready(struct efx_nic *efx, struct efx_tc_flow_rule *rule);\n\nstruct efx_tc_encap_action *efx_tc_flower_create_encap_md(\n\t\t\tstruct efx_nic *efx, const struct ip_tunnel_info *info,\n\t\t\tstruct net_device *egdev, struct netlink_ext_ack *extack);\nvoid efx_tc_flower_release_encap_md(struct efx_nic *efx,\n\t\t\t\t    struct efx_tc_encap_action *encap);\n\nvoid efx_tc_unregister_egdev(struct efx_nic *efx, struct net_device *net_dev);\nint efx_tc_netevent_event(struct efx_nic *efx, unsigned long event,\n\t\t\t  void *ptr);\n\n#else  \n\nstatic inline int efx_tc_netevent_event(struct efx_nic *efx,\n\t\t\t\t\tunsigned long event, void *ptr)\n{\n\treturn NOTIFY_DONE;\n}\n\n#endif  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}