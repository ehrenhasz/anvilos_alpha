{
  "module_name": "fs_cmd.h",
  "hash_id": "358a7109fddd5c771bf0be22cad74cc5319d39fb21262259ceea31dce39a056e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/mellanox/mlx5/core/fs_cmd.h",
  "human_readable_source": " \n\n#ifndef _MLX5_FS_CMD_\n#define _MLX5_FS_CMD_\n\n#include \"fs_core.h\"\n\nstruct mlx5_flow_cmds {\n\tint (*create_flow_table)(struct mlx5_flow_root_namespace *ns,\n\t\t\t\t struct mlx5_flow_table *ft,\n\t\t\t\t struct mlx5_flow_table_attr *ft_attr,\n\t\t\t\t struct mlx5_flow_table *next_ft);\n\tint (*destroy_flow_table)(struct mlx5_flow_root_namespace *ns,\n\t\t\t\t  struct mlx5_flow_table *ft);\n\n\tint (*modify_flow_table)(struct mlx5_flow_root_namespace *ns,\n\t\t\t\t struct mlx5_flow_table *ft,\n\t\t\t\t struct mlx5_flow_table *next_ft);\n\n\tint (*create_flow_group)(struct mlx5_flow_root_namespace *ns,\n\t\t\t\t struct mlx5_flow_table *ft,\n\t\t\t\t u32 *in,\n\t\t\t\t struct mlx5_flow_group *fg);\n\n\tint (*destroy_flow_group)(struct mlx5_flow_root_namespace *ns,\n\t\t\t\t  struct mlx5_flow_table *ft,\n\t\t\t\t  struct mlx5_flow_group *fg);\n\n\tint (*create_fte)(struct mlx5_flow_root_namespace *ns,\n\t\t\t  struct mlx5_flow_table *ft,\n\t\t\t  struct mlx5_flow_group *fg,\n\t\t\t  struct fs_fte *fte);\n\n\tint (*update_fte)(struct mlx5_flow_root_namespace *ns,\n\t\t\t  struct mlx5_flow_table *ft,\n\t\t\t  struct mlx5_flow_group *fg,\n\t\t\t  int modify_mask,\n\t\t\t  struct fs_fte *fte);\n\n\tint (*delete_fte)(struct mlx5_flow_root_namespace *ns,\n\t\t\t  struct mlx5_flow_table *ft,\n\t\t\t  struct fs_fte *fte);\n\n\tint (*update_root_ft)(struct mlx5_flow_root_namespace *ns,\n\t\t\t      struct mlx5_flow_table *ft,\n\t\t\t      u32 underlay_qpn,\n\t\t\t      bool disconnect);\n\n\tint (*packet_reformat_alloc)(struct mlx5_flow_root_namespace *ns,\n\t\t\t\t     struct mlx5_pkt_reformat_params *params,\n\t\t\t\t     enum mlx5_flow_namespace_type namespace,\n\t\t\t\t     struct mlx5_pkt_reformat *pkt_reformat);\n\n\tvoid (*packet_reformat_dealloc)(struct mlx5_flow_root_namespace *ns,\n\t\t\t\t\tstruct mlx5_pkt_reformat *pkt_reformat);\n\n\tint (*modify_header_alloc)(struct mlx5_flow_root_namespace *ns,\n\t\t\t\t   u8 namespace, u8 num_actions,\n\t\t\t\t   void *modify_actions,\n\t\t\t\t   struct mlx5_modify_hdr *modify_hdr);\n\n\tvoid (*modify_header_dealloc)(struct mlx5_flow_root_namespace *ns,\n\t\t\t\t      struct mlx5_modify_hdr *modify_hdr);\n\n\tint (*set_peer)(struct mlx5_flow_root_namespace *ns,\n\t\t\tstruct mlx5_flow_root_namespace *peer_ns,\n\t\t\tu16 peer_vhca_id);\n\n\tint (*create_ns)(struct mlx5_flow_root_namespace *ns);\n\tint (*destroy_ns)(struct mlx5_flow_root_namespace *ns);\n\tint (*create_match_definer)(struct mlx5_flow_root_namespace *ns,\n\t\t\t\t    u16 format_id, u32 *match_mask);\n\tint (*destroy_match_definer)(struct mlx5_flow_root_namespace *ns,\n\t\t\t\t     int definer_id);\n\n\tu32 (*get_capabilities)(struct mlx5_flow_root_namespace *ns,\n\t\t\t\tenum fs_flow_table_type ft_type);\n};\n\nint mlx5_cmd_fc_alloc(struct mlx5_core_dev *dev, u32 *id);\nint mlx5_cmd_fc_bulk_alloc(struct mlx5_core_dev *dev,\n\t\t\t   enum mlx5_fc_bulk_alloc_bitmask alloc_bitmask,\n\t\t\t   u32 *id);\nint mlx5_cmd_fc_free(struct mlx5_core_dev *dev, u32 id);\nint mlx5_cmd_fc_query(struct mlx5_core_dev *dev, u32 id,\n\t\t      u64 *packets, u64 *bytes);\n\nint mlx5_cmd_fc_get_bulk_query_out_len(int bulk_len);\nint mlx5_cmd_fc_bulk_query(struct mlx5_core_dev *dev, u32 base_id, int bulk_len,\n\t\t\t   u32 *out);\n\nconst struct mlx5_flow_cmds *mlx5_fs_cmd_get_default(enum fs_flow_table_type type);\nconst struct mlx5_flow_cmds *mlx5_fs_cmd_get_fw_cmds(void);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}