{
  "module_name": "qos_tracepoint.h",
  "hash_id": "1039bfce9ba01ef5cfd7ef81bd0f25ee0a78cf47aa1351755435e1d13bd710c6",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/mellanox/mlx5/core/esw/diag/qos_tracepoint.h",
  "human_readable_source": " \n \n\n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM mlx5\n\n#if !defined(_MLX5_ESW_TP_) || defined(TRACE_HEADER_MULTI_READ)\n#define _MLX5_ESW_TP_\n\n#include <linux/tracepoint.h>\n#include \"eswitch.h\"\n\nTRACE_EVENT(mlx5_esw_vport_qos_destroy,\n\t    TP_PROTO(const struct mlx5_vport *vport),\n\t    TP_ARGS(vport),\n\t    TP_STRUCT__entry(__string(devname, dev_name(vport->dev->device))\n\t\t\t     __field(unsigned short, vport_id)\n\t\t\t     __field(unsigned int,   tsar_ix)\n\t\t\t     ),\n\t    TP_fast_assign(__assign_str(devname, dev_name(vport->dev->device));\n\t\t    __entry->vport_id = vport->vport;\n\t\t    __entry->tsar_ix = vport->qos.esw_tsar_ix;\n\t    ),\n\t    TP_printk(\"(%s) vport=%hu tsar_ix=%u\\n\",\n\t\t      __get_str(devname), __entry->vport_id, __entry->tsar_ix\n\t\t      )\n);\n\nDECLARE_EVENT_CLASS(mlx5_esw_vport_qos_template,\n\t\t    TP_PROTO(const struct mlx5_vport *vport, u32 bw_share, u32 max_rate),\n\t\t    TP_ARGS(vport, bw_share, max_rate),\n\t\t    TP_STRUCT__entry(__string(devname, dev_name(vport->dev->device))\n\t\t\t\t     __field(unsigned short, vport_id)\n\t\t\t\t     __field(unsigned int, tsar_ix)\n\t\t\t\t     __field(unsigned int, bw_share)\n\t\t\t\t     __field(unsigned int, max_rate)\n\t\t\t\t     __field(void *, group)\n\t\t\t\t     ),\n\t\t    TP_fast_assign(__assign_str(devname, dev_name(vport->dev->device));\n\t\t\t    __entry->vport_id = vport->vport;\n\t\t\t    __entry->tsar_ix = vport->qos.esw_tsar_ix;\n\t\t\t    __entry->bw_share = bw_share;\n\t\t\t    __entry->max_rate = max_rate;\n\t\t\t    __entry->group = vport->qos.group;\n\t\t    ),\n\t\t    TP_printk(\"(%s) vport=%hu tsar_ix=%u bw_share=%u, max_rate=%u group=%p\\n\",\n\t\t\t      __get_str(devname), __entry->vport_id, __entry->tsar_ix,\n\t\t\t      __entry->bw_share, __entry->max_rate, __entry->group\n\t\t\t      )\n);\n\nDEFINE_EVENT(mlx5_esw_vport_qos_template, mlx5_esw_vport_qos_create,\n\t     TP_PROTO(const struct mlx5_vport *vport, u32 bw_share, u32 max_rate),\n\t     TP_ARGS(vport, bw_share, max_rate)\n\t     );\n\nDEFINE_EVENT(mlx5_esw_vport_qos_template, mlx5_esw_vport_qos_config,\n\t     TP_PROTO(const struct mlx5_vport *vport, u32 bw_share, u32 max_rate),\n\t     TP_ARGS(vport, bw_share, max_rate)\n\t     );\n\nDECLARE_EVENT_CLASS(mlx5_esw_group_qos_template,\n\t\t    TP_PROTO(const struct mlx5_core_dev *dev,\n\t\t\t     const struct mlx5_esw_rate_group *group,\n\t\t\t     unsigned int tsar_ix),\n\t\t    TP_ARGS(dev, group, tsar_ix),\n\t\t    TP_STRUCT__entry(__string(devname, dev_name(dev->device))\n\t\t\t\t     __field(const void *, group)\n\t\t\t\t     __field(unsigned int, tsar_ix)\n\t\t\t\t     ),\n\t\t    TP_fast_assign(__assign_str(devname, dev_name(dev->device));\n\t\t\t    __entry->group = group;\n\t\t\t    __entry->tsar_ix = tsar_ix;\n\t\t    ),\n\t\t    TP_printk(\"(%s) group=%p tsar_ix=%u\\n\",\n\t\t\t      __get_str(devname), __entry->group, __entry->tsar_ix\n\t\t\t      )\n);\n\nDEFINE_EVENT(mlx5_esw_group_qos_template, mlx5_esw_group_qos_create,\n\t     TP_PROTO(const struct mlx5_core_dev *dev,\n\t\t      const struct mlx5_esw_rate_group *group,\n\t\t      unsigned int tsar_ix),\n\t     TP_ARGS(dev, group, tsar_ix)\n\t     );\n\nDEFINE_EVENT(mlx5_esw_group_qos_template, mlx5_esw_group_qos_destroy,\n\t     TP_PROTO(const struct mlx5_core_dev *dev,\n\t\t      const struct mlx5_esw_rate_group *group,\n\t\t      unsigned int tsar_ix),\n\t     TP_ARGS(dev, group, tsar_ix)\n\t     );\n\nTRACE_EVENT(mlx5_esw_group_qos_config,\n\t    TP_PROTO(const struct mlx5_core_dev *dev,\n\t\t     const struct mlx5_esw_rate_group *group,\n\t\t     unsigned int tsar_ix, u32 bw_share, u32 max_rate),\n\t    TP_ARGS(dev, group, tsar_ix, bw_share, max_rate),\n\t    TP_STRUCT__entry(__string(devname, dev_name(dev->device))\n\t\t\t     __field(const void *, group)\n\t\t\t     __field(unsigned int, tsar_ix)\n\t\t\t     __field(unsigned int, bw_share)\n\t\t\t     __field(unsigned int, max_rate)\n\t\t\t     ),\n\t    TP_fast_assign(__assign_str(devname, dev_name(dev->device));\n\t\t    __entry->group = group;\n\t\t    __entry->tsar_ix = tsar_ix;\n\t\t    __entry->bw_share = bw_share;\n\t\t    __entry->max_rate = max_rate;\n\t    ),\n\t    TP_printk(\"(%s) group=%p tsar_ix=%u bw_share=%u max_rate=%u\\n\",\n\t\t      __get_str(devname), __entry->group, __entry->tsar_ix,\n\t\t      __entry->bw_share, __entry->max_rate\n\t\t      )\n);\n#endif  \n\n \n#undef TRACE_INCLUDE_PATH\n#define TRACE_INCLUDE_PATH esw/diag\n#undef TRACE_INCLUDE_FILE\n#define TRACE_INCLUDE_FILE qos_tracepoint\n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}