{
  "module_name": "meter.h",
  "hash_id": "8077a46502fcb1077a4c4af24cba3cb8a0cb92b5a8368a9a388f08dc3e8a341a",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/mellanox/mlx5/core/en/tc/meter.h",
  "human_readable_source": " \n \n\n#ifndef __MLX5_EN_FLOW_METER_H__\n#define __MLX5_EN_FLOW_METER_H__\n\nstruct mlx5e_post_meter_priv;\nstruct mlx5e_flow_meter_aso_obj;\nstruct mlx5e_flow_meters;\nstruct mlx5_flow_attr;\n\nenum mlx5e_flow_meter_mode {\n\tMLX5_RATE_LIMIT_BPS,\n\tMLX5_RATE_LIMIT_PPS,\n};\n\nstruct mlx5e_flow_meter_params {\n\tenum mlx5e_flow_meter_mode mode;\n\t  \n\tu32 index;\n\tu64 rate;\n\tu64 burst;\n\tu32 mtu;\n};\n\nstruct mlx5e_flow_meter_handle {\n\tstruct mlx5e_flow_meters *flow_meters;\n\tstruct mlx5e_flow_meter_aso_obj *meters_obj;\n\tu32 obj_id;\n\tu8 idx;\n\n\tint refcnt;\n\tstruct hlist_node hlist;\n\tstruct mlx5e_flow_meter_params params;\n\n\tstruct mlx5_fc *act_counter;\n\tstruct mlx5_fc *drop_counter;\n};\n\nstruct mlx5e_meter_attr {\n\tstruct mlx5e_flow_meter_params params;\n\tstruct mlx5e_flow_meter_handle *meter;\n\tstruct mlx5e_post_meter_priv *post_meter;\n};\n\nint\nmlx5e_tc_meter_modify(struct mlx5_core_dev *mdev,\n\t\t      struct mlx5e_flow_meter_handle *meter,\n\t\t      struct mlx5e_flow_meter_params *meter_params);\n\nstruct mlx5e_flow_meter_handle *\nmlx5e_tc_meter_get(struct mlx5_core_dev *mdev, struct mlx5e_flow_meter_params *params);\nvoid\nmlx5e_tc_meter_put(struct mlx5e_flow_meter_handle *meter);\nint\nmlx5e_tc_meter_update(struct mlx5e_flow_meter_handle *meter,\n\t\t      struct mlx5e_flow_meter_params *params);\nstruct mlx5e_flow_meter_handle *\nmlx5e_tc_meter_replace(struct mlx5_core_dev *mdev, struct mlx5e_flow_meter_params *params);\n\nenum mlx5_flow_namespace_type\nmlx5e_tc_meter_get_namespace(struct mlx5e_flow_meters *flow_meters);\n\nstruct mlx5e_flow_meters *\nmlx5e_flow_meters_init(struct mlx5e_priv *priv,\n\t\t       enum mlx5_flow_namespace_type ns_type,\n\t\t       struct mlx5e_post_act *post_action);\nvoid\nmlx5e_flow_meters_cleanup(struct mlx5e_flow_meters *flow_meters);\n\nvoid\nmlx5e_tc_meter_get_stats(struct mlx5e_flow_meter_handle *meter,\n\t\t\t u64 *bytes, u64 *packets, u64 *drops, u64 *lastuse);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}