{
  "module_name": "hv_vhca.h",
  "hash_id": "4d0fad8c3c18b7e92dcb5543d2957805334748621012fc9aab1cc8f522b0387b",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/mellanox/mlx5/core/lib/hv_vhca.h",
  "human_readable_source": " \n \n\n#ifndef __LIB_HV_VHCA_H__\n#define __LIB_HV_VHCA_H__\n\n#include \"en.h\"\n#include \"lib/hv.h\"\n\nstruct mlx5_hv_vhca_agent;\nstruct mlx5_hv_vhca;\nstruct mlx5_hv_vhca_control_block;\n\nenum mlx5_hv_vhca_agent_type {\n\tMLX5_HV_VHCA_AGENT_CONTROL = 0,\n\tMLX5_HV_VHCA_AGENT_STATS   = 1,\n\tMLX5_HV_VHCA_AGENT_MAX = 32,\n};\n\n#if IS_ENABLED(CONFIG_PCI_HYPERV_INTERFACE)\n\nstruct mlx5_hv_vhca_control_block {\n\tu32     capabilities;\n\tu32     control;\n\tu16     command;\n\tu16     command_ack;\n\tu16     version;\n\tu16     rings;\n\tu32     reserved1[28];\n};\n\nstruct mlx5_hv_vhca *mlx5_hv_vhca_create(struct mlx5_core_dev *dev);\nvoid mlx5_hv_vhca_destroy(struct mlx5_hv_vhca *hv_vhca);\nint mlx5_hv_vhca_init(struct mlx5_hv_vhca *hv_vhca);\nvoid mlx5_hv_vhca_cleanup(struct mlx5_hv_vhca *hv_vhca);\nvoid mlx5_hv_vhca_invalidate(void *context, u64 block_mask);\n\nstruct mlx5_hv_vhca_agent *\nmlx5_hv_vhca_agent_create(struct mlx5_hv_vhca *hv_vhca,\n\t\t\t  enum mlx5_hv_vhca_agent_type type,\n\t\t\t  void (*control)(struct mlx5_hv_vhca_agent*,\n\t\t\t\t\t  struct mlx5_hv_vhca_control_block *block),\n\t\t\t  void (*invalidate)(struct mlx5_hv_vhca_agent*,\n\t\t\t\t\t     u64 block_mask),\n\t\t\t  void (*cleanup)(struct mlx5_hv_vhca_agent *agent),\n\t\t\t  void *context);\n\nvoid mlx5_hv_vhca_agent_destroy(struct mlx5_hv_vhca_agent *agent);\nint mlx5_hv_vhca_agent_write(struct mlx5_hv_vhca_agent *agent,\n\t\t\t     void *buf, int len);\nvoid *mlx5_hv_vhca_agent_priv(struct mlx5_hv_vhca_agent *agent);\n\n#else\n\nstatic inline struct mlx5_hv_vhca *\nmlx5_hv_vhca_create(struct mlx5_core_dev *dev)\n{\n\treturn NULL;\n}\n\nstatic inline void mlx5_hv_vhca_destroy(struct mlx5_hv_vhca *hv_vhca)\n{\n}\n\nstatic inline int mlx5_hv_vhca_init(struct mlx5_hv_vhca *hv_vhca)\n{\n\treturn 0;\n}\n\nstatic inline void mlx5_hv_vhca_cleanup(struct mlx5_hv_vhca *hv_vhca)\n{\n}\n\nstatic inline void mlx5_hv_vhca_invalidate(void *context,\n\t\t\t\t\t   u64 block_mask)\n{\n}\n\nstatic inline struct mlx5_hv_vhca_agent *\nmlx5_hv_vhca_agent_create(struct mlx5_hv_vhca *hv_vhca,\n\t\t\t  enum mlx5_hv_vhca_agent_type type,\n\t\t\t  void (*control)(struct mlx5_hv_vhca_agent*,\n\t\t\t\t\t  struct mlx5_hv_vhca_control_block *block),\n\t\t\t  void (*invalidate)(struct mlx5_hv_vhca_agent*,\n\t\t\t\t\t     u64 block_mask),\n\t\t\t  void (*cleanup)(struct mlx5_hv_vhca_agent *agent),\n\t\t\t  void *context)\n{\n\treturn NULL;\n}\n\nstatic inline void mlx5_hv_vhca_agent_destroy(struct mlx5_hv_vhca_agent *agent)\n{\n}\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}