{
  "module_name": "smfs.c",
  "hash_id": "3581be80f76dbcb0bb6362667534a962d5b383a3ccd85eb3c27b3daa8128c2e6",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/mellanox/mlx5/core/lib/smfs.c",
  "human_readable_source": "\n \n\n#include <linux/kernel.h>\n#include <linux/mlx5/driver.h>\n\n#include \"smfs.h\"\n\nstruct mlx5dr_matcher *\nmlx5_smfs_matcher_create(struct mlx5dr_table *table, u32 priority, struct mlx5_flow_spec *spec)\n{\n\tstruct mlx5dr_match_parameters matcher_mask = {};\n\n\tmatcher_mask.match_buf = (u64 *)&spec->match_criteria;\n\tmatcher_mask.match_sz = DR_SZ_MATCH_PARAM;\n\n\treturn mlx5dr_matcher_create(table, priority, spec->match_criteria_enable, &matcher_mask);\n}\n\nvoid\nmlx5_smfs_matcher_destroy(struct mlx5dr_matcher *matcher)\n{\n\tmlx5dr_matcher_destroy(matcher);\n}\n\nstruct mlx5dr_table *\nmlx5_smfs_table_get_from_fs_ft(struct mlx5_flow_table *ft)\n{\n\treturn mlx5dr_table_get_from_fs_ft(ft);\n}\n\nstruct mlx5dr_action *\nmlx5_smfs_action_create_dest_table(struct mlx5dr_table *table)\n{\n\treturn mlx5dr_action_create_dest_table(table);\n}\n\nstruct mlx5dr_action *\nmlx5_smfs_action_create_flow_counter(u32 counter_id)\n{\n\treturn mlx5dr_action_create_flow_counter(counter_id);\n}\n\nvoid\nmlx5_smfs_action_destroy(struct mlx5dr_action *action)\n{\n\tmlx5dr_action_destroy(action);\n}\n\nstruct mlx5dr_rule *\nmlx5_smfs_rule_create(struct mlx5dr_matcher *matcher, struct mlx5_flow_spec *spec,\n\t\t      size_t num_actions, struct mlx5dr_action *actions[],\n\t\t      u32 flow_source)\n{\n\tstruct mlx5dr_match_parameters value = {};\n\n\tvalue.match_buf = (u64 *)spec->match_value;\n\tvalue.match_sz = DR_SZ_MATCH_PARAM;\n\n\treturn mlx5dr_rule_create(matcher, &value, num_actions, actions, flow_source);\n}\n\nvoid\nmlx5_smfs_rule_destroy(struct mlx5dr_rule *rule)\n{\n\tmlx5dr_rule_destroy(rule);\n}\n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}