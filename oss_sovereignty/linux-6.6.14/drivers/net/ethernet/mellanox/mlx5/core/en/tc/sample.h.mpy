{
  "module_name": "sample.h",
  "hash_id": "73ba3761116c25312f8a6bd667573951e6797c02831020150b4d5888b51df200",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/mellanox/mlx5/core/en/tc/sample.h",
  "human_readable_source": " \n \n\n#ifndef __MLX5_EN_TC_SAMPLE_H__\n#define __MLX5_EN_TC_SAMPLE_H__\n\n#include \"eswitch.h\"\n\nstruct mlx5_flow_attr;\nstruct mlx5e_tc_psample;\nstruct mlx5e_post_act;\n\nstruct mlx5e_sample_attr {\n\tu32 group_num;\n\tu32 rate;\n\tu32 trunc_size;\n\tu32 restore_obj_id;\n\tu32 sampler_id;\n\tstruct mlx5e_sample_flow *sample_flow;\n};\n\n#if IS_ENABLED(CONFIG_MLX5_TC_SAMPLE)\n\nvoid mlx5e_tc_sample_skb(struct sk_buff *skb, struct mlx5_mapped_obj *mapped_obj);\n\nstruct mlx5_flow_handle *\nmlx5e_tc_sample_offload(struct mlx5e_tc_psample *sample_priv,\n\t\t\tstruct mlx5_flow_spec *spec,\n\t\t\tstruct mlx5_flow_attr *attr);\n\nvoid\nmlx5e_tc_sample_unoffload(struct mlx5e_tc_psample *sample_priv,\n\t\t\t  struct mlx5_flow_handle *rule,\n\t\t\t  struct mlx5_flow_attr *attr);\n\nstruct mlx5e_tc_psample *\nmlx5e_tc_sample_init(struct mlx5_eswitch *esw, struct mlx5e_post_act *post_act);\n\nvoid\nmlx5e_tc_sample_cleanup(struct mlx5e_tc_psample *tc_psample);\n\n#else  \n\nstatic inline struct mlx5_flow_handle *\nmlx5e_tc_sample_offload(struct mlx5e_tc_psample *tc_psample,\n\t\t\tstruct mlx5_flow_spec *spec,\n\t\t\tstruct mlx5_flow_attr *attr)\n{ return ERR_PTR(-EOPNOTSUPP); }\n\nstatic inline void\nmlx5e_tc_sample_unoffload(struct mlx5e_tc_psample *tc_psample,\n\t\t\t  struct mlx5_flow_handle *rule,\n\t\t\t  struct mlx5_flow_attr *attr) {}\n\nstatic inline struct mlx5e_tc_psample *\nmlx5e_tc_sample_init(struct mlx5_eswitch *esw, struct mlx5e_post_act *post_act)\n{ return ERR_PTR(-EOPNOTSUPP); }\n\nstatic inline void\nmlx5e_tc_sample_cleanup(struct mlx5e_tc_psample *tc_psample) {}\n\nstatic inline void\nmlx5e_tc_sample_skb(struct sk_buff *skb, struct mlx5_mapped_obj *mapped_obj) {}\n\n#endif  \n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}