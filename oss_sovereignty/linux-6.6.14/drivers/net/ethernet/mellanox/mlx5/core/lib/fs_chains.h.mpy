{
  "module_name": "fs_chains.h",
  "hash_id": "1aecc577da4b82b0726339997d85fd8a71085ce8413d0cc0b166fa945c190170",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/mellanox/mlx5/core/lib/fs_chains.h",
  "human_readable_source": " \n \n\n#ifndef __ML5_ESW_CHAINS_H__\n#define __ML5_ESW_CHAINS_H__\n\n#include <linux/mlx5/fs.h>\n\nstruct mlx5_fs_chains;\nstruct mlx5_mapped_obj;\n\nenum mlx5_chains_flags {\n\tMLX5_CHAINS_AND_PRIOS_SUPPORTED = BIT(0),\n\tMLX5_CHAINS_IGNORE_FLOW_LEVEL_SUPPORTED = BIT(1),\n\tMLX5_CHAINS_FT_TUNNEL_SUPPORTED = BIT(2),\n};\n\nstruct mlx5_chains_attr {\n\tenum mlx5_flow_namespace_type ns;\n\tint fs_base_prio;\n\tint fs_base_level;\n\tu32 flags;\n\tu32 max_grp_num;\n\tstruct mlx5_flow_table *default_ft;\n\tstruct mapping_ctx *mapping;\n};\n\n#if IS_ENABLED(CONFIG_MLX5_CLS_ACT)\n\nbool\nmlx5_chains_prios_supported(struct mlx5_fs_chains *chains);\nbool mlx5_chains_ignore_flow_level_supported(struct mlx5_fs_chains *chains);\nbool\nmlx5_chains_backwards_supported(struct mlx5_fs_chains *chains);\nu32\nmlx5_chains_get_prio_range(struct mlx5_fs_chains *chains);\nu32\nmlx5_chains_get_chain_range(struct mlx5_fs_chains *chains);\nu32\nmlx5_chains_get_nf_ft_chain(struct mlx5_fs_chains *chains);\n\nstruct mlx5_flow_table *\nmlx5_chains_get_table(struct mlx5_fs_chains *chains, u32 chain, u32 prio,\n\t\t      u32 level);\nvoid\nmlx5_chains_put_table(struct mlx5_fs_chains *chains, u32 chain, u32 prio,\n\t\t      u32 level);\n\nstruct mlx5_flow_table *\nmlx5_chains_get_tc_end_ft(struct mlx5_fs_chains *chains);\n\nstruct mlx5_flow_table *\nmlx5_chains_create_global_table(struct mlx5_fs_chains *chains);\nvoid\nmlx5_chains_destroy_global_table(struct mlx5_fs_chains *chains,\n\t\t\t\t struct mlx5_flow_table *ft);\n\nint\nmlx5_chains_get_chain_mapping(struct mlx5_fs_chains *chains, u32 chain,\n\t\t\t      u32 *chain_mapping);\nint\nmlx5_chains_put_chain_mapping(struct mlx5_fs_chains *chains,\n\t\t\t      u32 chain_mapping);\n\nstruct mlx5_fs_chains *\nmlx5_chains_create(struct mlx5_core_dev *dev, struct mlx5_chains_attr *attr);\nvoid mlx5_chains_destroy(struct mlx5_fs_chains *chains);\n\nvoid\nmlx5_chains_set_end_ft(struct mlx5_fs_chains *chains,\n\t\t       struct mlx5_flow_table *ft);\nvoid\nmlx5_chains_print_info(struct mlx5_fs_chains *chains);\n\n#else  \n\nstatic inline bool\nmlx5_chains_ignore_flow_level_supported(struct mlx5_fs_chains *chains)\n{ return false; }\n\nstatic inline struct mlx5_flow_table *\nmlx5_chains_get_table(struct mlx5_fs_chains *chains, u32 chain, u32 prio,\n\t\t      u32 level) { return ERR_PTR(-EOPNOTSUPP); }\nstatic inline void\nmlx5_chains_put_table(struct mlx5_fs_chains *chains, u32 chain, u32 prio,\n\t\t      u32 level) {};\n\nstatic inline struct mlx5_flow_table *\nmlx5_chains_get_tc_end_ft(struct mlx5_fs_chains *chains) { return ERR_PTR(-EOPNOTSUPP); }\n\nstatic inline struct mlx5_fs_chains *\nmlx5_chains_create(struct mlx5_core_dev *dev, struct mlx5_chains_attr *attr)\n{ return NULL; }\nstatic inline void\nmlx5_chains_destroy(struct mlx5_fs_chains *chains) {}\nstatic inline void\nmlx5_chains_print_info(struct mlx5_fs_chains *chains) {}\n\n#endif  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}