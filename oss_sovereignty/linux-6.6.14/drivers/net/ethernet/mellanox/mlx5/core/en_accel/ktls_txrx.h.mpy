{
  "module_name": "ktls_txrx.h",
  "hash_id": "875254d4b346d329e13bfcfd7d021d5b63f53dc3cd1d499587a661bad2905774",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/mellanox/mlx5/core/en_accel/ktls_txrx.h",
  "human_readable_source": " \n \n\n#ifndef __MLX5E_KTLS_TXRX_H__\n#define __MLX5E_KTLS_TXRX_H__\n\n#ifdef CONFIG_MLX5_EN_TLS\n\n#include <net/tls.h>\n#include \"en.h\"\n#include \"en/txrx.h\"\n\nstruct mlx5e_accel_tx_tls_state {\n\tu32 tls_tisn;\n};\n\nu16 mlx5e_ktls_get_stop_room(struct mlx5_core_dev *mdev, struct mlx5e_params *params);\n\nbool mlx5e_ktls_handle_tx_skb(struct net_device *netdev, struct mlx5e_txqsq *sq,\n\t\t\t      struct sk_buff *skb,\n\t\t\t      struct mlx5e_accel_tx_tls_state *state);\nvoid mlx5e_ktls_handle_rx_skb(struct mlx5e_rq *rq, struct sk_buff *skb,\n\t\t\t      struct mlx5_cqe64 *cqe, u32 *cqe_bcnt);\n\nvoid mlx5e_ktls_handle_ctx_completion(struct mlx5e_icosq_wqe_info *wi);\nvoid mlx5e_ktls_handle_get_psv_completion(struct mlx5e_icosq_wqe_info *wi,\n\t\t\t\t\t  struct mlx5e_icosq *sq);\n\nvoid mlx5e_ktls_tx_handle_resync_dump_comp(struct mlx5e_txqsq *sq,\n\t\t\t\t\t   struct mlx5e_tx_wqe_info *wi,\n\t\t\t\t\t   u32 *dma_fifo_cc);\nstatic inline bool\nmlx5e_ktls_tx_try_handle_resync_dump_comp(struct mlx5e_txqsq *sq,\n\t\t\t\t\t  struct mlx5e_tx_wqe_info *wi,\n\t\t\t\t\t  u32 *dma_fifo_cc)\n{\n\tif (unlikely(wi->resync_dump_frag_page)) {\n\t\tmlx5e_ktls_tx_handle_resync_dump_comp(sq, wi, dma_fifo_cc);\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nbool mlx5e_ktls_rx_handle_resync_list(struct mlx5e_channel *c, int budget);\n\nstatic inline bool\nmlx5e_ktls_rx_pending_resync_list(struct mlx5e_channel *c, int budget)\n{\n\treturn budget && test_bit(MLX5E_SQ_STATE_PENDING_TLS_RX_RESYNC, &c->async_icosq.state);\n}\n\nstatic inline void\nmlx5e_ktls_handle_tx_wqe(struct mlx5_wqe_ctrl_seg *cseg,\n\t\t\t struct mlx5e_accel_tx_tls_state *state)\n{\n\tcseg->tis_tir_num = cpu_to_be32(state->tls_tisn << 8);\n}\n#else\nstatic inline bool\nmlx5e_ktls_tx_try_handle_resync_dump_comp(struct mlx5e_txqsq *sq,\n\t\t\t\t\t  struct mlx5e_tx_wqe_info *wi,\n\t\t\t\t\t  u32 *dma_fifo_cc)\n{\n\treturn false;\n}\n\nstatic inline bool\nmlx5e_ktls_rx_handle_resync_list(struct mlx5e_channel *c, int budget)\n{\n\treturn false;\n}\n\nstatic inline bool\nmlx5e_ktls_rx_pending_resync_list(struct mlx5e_channel *c, int budget)\n{\n\treturn false;\n}\n\nstatic inline u16 mlx5e_ktls_get_stop_room(struct mlx5_core_dev *mdev,\n\t\t\t\t\t   struct mlx5e_params *params)\n{\n\treturn 0;\n}\n\nstatic inline void mlx5e_ktls_handle_rx_skb(struct mlx5e_rq *rq,\n\t\t\t\t\t    struct sk_buff *skb,\n\t\t\t\t\t    struct mlx5_cqe64 *cqe,\n\t\t\t\t\t    u32 *cqe_bcnt)\n{\n}\n#endif  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}