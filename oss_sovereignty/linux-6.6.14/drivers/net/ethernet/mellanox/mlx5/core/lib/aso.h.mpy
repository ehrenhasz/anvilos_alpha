{
  "module_name": "aso.h",
  "hash_id": "cc46d1e6d36f38dbc1947e86fc7ea31804d1453b78c94d68af2711b632649fdb",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/mellanox/mlx5/core/lib/aso.h",
  "human_readable_source": " \n \n\n#ifndef __MLX5_LIB_ASO_H__\n#define __MLX5_LIB_ASO_H__\n\n#include <linux/mlx5/qp.h>\n#include \"mlx5_core.h\"\n\n#define MLX5_ASO_WQEBBS \\\n\t(DIV_ROUND_UP(sizeof(struct mlx5_aso_wqe), MLX5_SEND_WQE_BB))\n#define MLX5_ASO_WQEBBS_DATA \\\n\t(DIV_ROUND_UP(sizeof(struct mlx5_aso_wqe_data), MLX5_SEND_WQE_BB))\n#define ASO_CTRL_READ_EN BIT(0)\n#define MLX5_WQE_CTRL_WQE_OPC_MOD_SHIFT 24\n#define MLX5_MACSEC_ASO_DS_CNT (DIV_ROUND_UP(sizeof(struct mlx5_aso_wqe), MLX5_SEND_WQE_DS))\n\n#define ASO_CTRL_READ_EN BIT(0)\nstruct mlx5_wqe_aso_ctrl_seg {\n\t__be32  va_h;\n\t__be32  va_l;  \n\t__be32  l_key;\n\tu8      data_mask_mode;\n\tu8      condition_1_0_operand;\n\tu8      condition_1_0_offset;\n\tu8      data_offset_condition_operand;\n\t__be32  condition_0_data;\n\t__be32  condition_0_mask;\n\t__be32  condition_1_data;\n\t__be32  condition_1_mask;\n\t__be64  bitwise_data;\n\t__be64  data_mask;\n};\n\nstruct mlx5_wqe_aso_data_seg {\n\t__be32  bytewise_data[16];\n};\n\nstruct mlx5_aso_wqe {\n\tstruct mlx5_wqe_ctrl_seg      ctrl;\n\tstruct mlx5_wqe_aso_ctrl_seg  aso_ctrl;\n};\n\nstruct mlx5_aso_wqe_data {\n\tstruct mlx5_wqe_ctrl_seg      ctrl;\n\tstruct mlx5_wqe_aso_ctrl_seg  aso_ctrl;\n\tstruct mlx5_wqe_aso_data_seg  aso_data;\n};\n\nenum {\n\tMLX5_ASO_LOGICAL_AND,\n\tMLX5_ASO_LOGICAL_OR,\n};\n\nenum {\n\tMLX5_ASO_ALWAYS_FALSE,\n\tMLX5_ASO_ALWAYS_TRUE,\n\tMLX5_ASO_EQUAL,\n\tMLX5_ASO_NOT_EQUAL,\n\tMLX5_ASO_GREATER_OR_EQUAL,\n\tMLX5_ASO_LESSER_OR_EQUAL,\n\tMLX5_ASO_LESSER,\n\tMLX5_ASO_GREATER,\n\tMLX5_ASO_CYCLIC_GREATER,\n\tMLX5_ASO_CYCLIC_LESSER,\n};\n\nenum {\n\tMLX5_ASO_DATA_MASK_MODE_BITWISE_64BIT,\n\tMLX5_ASO_DATA_MASK_MODE_BYTEWISE_64BYTE,\n\tMLX5_ASO_DATA_MASK_MODE_CALCULATED_64BYTE,\n};\n\nenum {\n\tMLX5_ACCESS_ASO_OPC_MOD_IPSEC = 0x0,\n\tMLX5_ACCESS_ASO_OPC_MOD_FLOW_METER = 0x2,\n\tMLX5_ACCESS_ASO_OPC_MOD_MACSEC = 0x5,\n};\n\nstruct mlx5_aso;\n\nstruct mlx5_aso_wqe *mlx5_aso_get_wqe(struct mlx5_aso *aso);\nvoid mlx5_aso_build_wqe(struct mlx5_aso *aso, u8 ds_cnt,\n\t\t\tstruct mlx5_aso_wqe *aso_wqe,\n\t\t\tu32 obj_id, u32 opc_mode);\nvoid mlx5_aso_post_wqe(struct mlx5_aso *aso, bool with_data,\n\t\t       struct mlx5_wqe_ctrl_seg *doorbell_cseg);\nint mlx5_aso_poll_cq(struct mlx5_aso *aso, bool with_data);\n\nstruct mlx5_aso *mlx5_aso_create(struct mlx5_core_dev *mdev, u32 pdn);\nvoid mlx5_aso_destroy(struct mlx5_aso *aso);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}