{
  "module_name": "sf_tracepoint.h",
  "hash_id": "7533013540852829640746eaed28a358361acf3dce6c4fc9233f4b3cd134e8b5",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/mellanox/mlx5/core/sf/diag/sf_tracepoint.h",
  "human_readable_source": " \n \n\n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM mlx5\n\n#if !defined(_MLX5_SF_TP_) || defined(TRACE_HEADER_MULTI_READ)\n#define _MLX5_SF_TP_\n\n#include <linux/tracepoint.h>\n#include <linux/mlx5/driver.h>\n#include \"sf/vhca_event.h\"\n\nTRACE_EVENT(mlx5_sf_add,\n\t    TP_PROTO(const struct mlx5_core_dev *dev,\n\t\t     unsigned int port_index,\n\t\t     u32 controller,\n\t\t     u16 hw_fn_id,\n\t\t     u32 sfnum),\n\t    TP_ARGS(dev, port_index, controller, hw_fn_id, sfnum),\n\t    TP_STRUCT__entry(__string(devname, dev_name(dev->device))\n\t\t\t     __field(unsigned int, port_index)\n\t\t\t     __field(u32, controller)\n\t\t\t     __field(u16, hw_fn_id)\n\t\t\t     __field(u32, sfnum)\n\t\t\t    ),\n\t    TP_fast_assign(__assign_str(devname, dev_name(dev->device));\n\t\t    __entry->port_index = port_index;\n\t\t    __entry->controller = controller;\n\t\t    __entry->hw_fn_id = hw_fn_id;\n\t\t    __entry->sfnum = sfnum;\n\t    ),\n\t    TP_printk(\"(%s) port_index=%u controller=%u hw_id=0x%x sfnum=%u\\n\",\n\t\t      __get_str(devname), __entry->port_index, __entry->controller,\n\t\t      __entry->hw_fn_id, __entry->sfnum)\n);\n\nTRACE_EVENT(mlx5_sf_free,\n\t    TP_PROTO(const struct mlx5_core_dev *dev,\n\t\t     unsigned int port_index,\n\t\t     u32 controller,\n\t\t     u16 hw_fn_id),\n\t    TP_ARGS(dev, port_index, controller, hw_fn_id),\n\t    TP_STRUCT__entry(__string(devname, dev_name(dev->device))\n\t\t\t     __field(unsigned int, port_index)\n\t\t\t     __field(u32, controller)\n\t\t\t     __field(u16, hw_fn_id)\n\t\t\t    ),\n\t    TP_fast_assign(__assign_str(devname, dev_name(dev->device));\n\t\t    __entry->port_index = port_index;\n\t\t    __entry->controller = controller;\n\t\t    __entry->hw_fn_id = hw_fn_id;\n\t    ),\n\t    TP_printk(\"(%s) port_index=%u controller=%u hw_id=0x%x\\n\",\n\t\t      __get_str(devname), __entry->port_index, __entry->controller,\n\t\t      __entry->hw_fn_id)\n);\n\nTRACE_EVENT(mlx5_sf_hwc_alloc,\n\t    TP_PROTO(const struct mlx5_core_dev *dev,\n\t\t     u32 controller,\n\t\t     u16 hw_fn_id,\n\t\t     u32 sfnum),\n\t    TP_ARGS(dev, controller, hw_fn_id, sfnum),\n\t    TP_STRUCT__entry(__string(devname, dev_name(dev->device))\n\t\t\t     __field(u32, controller)\n\t\t\t     __field(u16, hw_fn_id)\n\t\t\t     __field(u32, sfnum)\n\t\t\t    ),\n\t    TP_fast_assign(__assign_str(devname, dev_name(dev->device));\n\t\t    __entry->controller = controller;\n\t\t    __entry->hw_fn_id = hw_fn_id;\n\t\t    __entry->sfnum = sfnum;\n\t    ),\n\t    TP_printk(\"(%s) controller=%u hw_id=0x%x sfnum=%u\\n\",\n\t\t      __get_str(devname), __entry->controller, __entry->hw_fn_id,\n\t\t      __entry->sfnum)\n);\n\nTRACE_EVENT(mlx5_sf_hwc_free,\n\t    TP_PROTO(const struct mlx5_core_dev *dev,\n\t\t     u16 hw_fn_id),\n\t    TP_ARGS(dev, hw_fn_id),\n\t    TP_STRUCT__entry(__string(devname, dev_name(dev->device))\n\t\t\t     __field(u16, hw_fn_id)\n\t\t\t    ),\n\t    TP_fast_assign(__assign_str(devname, dev_name(dev->device));\n\t\t    __entry->hw_fn_id = hw_fn_id;\n\t    ),\n\t    TP_printk(\"(%s) hw_id=0x%x\\n\", __get_str(devname), __entry->hw_fn_id)\n);\n\nTRACE_EVENT(mlx5_sf_hwc_deferred_free,\n\t    TP_PROTO(const struct mlx5_core_dev *dev,\n\t\t     u16 hw_fn_id),\n\t    TP_ARGS(dev, hw_fn_id),\n\t    TP_STRUCT__entry(__string(devname, dev_name(dev->device))\n\t\t\t     __field(u16, hw_fn_id)\n\t\t\t    ),\n\t    TP_fast_assign(__assign_str(devname, dev_name(dev->device));\n\t\t    __entry->hw_fn_id = hw_fn_id;\n\t    ),\n\t    TP_printk(\"(%s) hw_id=0x%x\\n\", __get_str(devname), __entry->hw_fn_id)\n);\n\nDECLARE_EVENT_CLASS(mlx5_sf_state_template,\n\t\t    TP_PROTO(const struct mlx5_core_dev *dev,\n\t\t\t     u32 port_index,\n\t\t\t     u32 controller,\n\t\t\t     u16 hw_fn_id),\n\t\t    TP_ARGS(dev, port_index, controller, hw_fn_id),\n\t\t    TP_STRUCT__entry(__string(devname, dev_name(dev->device))\n\t\t\t\t     __field(unsigned int, port_index)\n\t\t\t\t     __field(u32, controller)\n\t\t\t\t     __field(u16, hw_fn_id)),\n\t\t    TP_fast_assign(__assign_str(devname, dev_name(dev->device));\n\t\t\t\t   __entry->port_index = port_index;\n\t\t\t\t   __entry->controller = controller;\n\t\t\t\t   __entry->hw_fn_id = hw_fn_id;\n\t\t    ),\n\t\t    TP_printk(\"(%s) port_index=%u controller=%u hw_id=0x%x\\n\",\n\t\t\t      __get_str(devname), __entry->port_index, __entry->controller,\n\t\t\t      __entry->hw_fn_id)\n);\n\nDEFINE_EVENT(mlx5_sf_state_template, mlx5_sf_activate,\n\t     TP_PROTO(const struct mlx5_core_dev *dev,\n\t\t      u32 port_index,\n\t\t      u32 controller,\n\t\t      u16 hw_fn_id),\n\t     TP_ARGS(dev, port_index, controller, hw_fn_id)\n\t     );\n\nDEFINE_EVENT(mlx5_sf_state_template, mlx5_sf_deactivate,\n\t     TP_PROTO(const struct mlx5_core_dev *dev,\n\t\t      u32 port_index,\n\t\t      u32 controller,\n\t\t      u16 hw_fn_id),\n\t     TP_ARGS(dev, port_index, controller, hw_fn_id)\n\t     );\n\nTRACE_EVENT(mlx5_sf_update_state,\n\t    TP_PROTO(const struct mlx5_core_dev *dev,\n\t\t     unsigned int port_index,\n\t\t     u32 controller,\n\t\t     u16 hw_fn_id,\n\t\t     u8 state),\n\t    TP_ARGS(dev, port_index, controller, hw_fn_id, state),\n\t    TP_STRUCT__entry(__string(devname, dev_name(dev->device))\n\t\t\t     __field(unsigned int, port_index)\n\t\t\t     __field(u32, controller)\n\t\t\t     __field(u16, hw_fn_id)\n\t\t\t     __field(u8, state)\n\t\t\t    ),\n\t    TP_fast_assign(__assign_str(devname, dev_name(dev->device));\n\t\t    __entry->port_index = port_index;\n\t\t    __entry->controller = controller;\n\t\t    __entry->hw_fn_id = hw_fn_id;\n\t\t    __entry->state = state;\n\t    ),\n\t    TP_printk(\"(%s) port_index=%u controller=%u hw_id=0x%x state=%u\\n\",\n\t\t      __get_str(devname), __entry->port_index, __entry->controller,\n\t\t      __entry->hw_fn_id, __entry->state)\n);\n\n#endif  \n\n \n#undef TRACE_INCLUDE_PATH\n#define TRACE_INCLUDE_PATH sf/diag\n#undef TRACE_INCLUDE_FILE\n#define TRACE_INCLUDE_FILE sf_tracepoint\n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}