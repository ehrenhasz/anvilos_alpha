{
  "module_name": "spectrum_ipip.h",
  "hash_id": "5a4675e38110587a202cc84e23dad27768a94d9278cfa97813320fbe865a2dba",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/mellanox/mlxsw/spectrum_ipip.h",
  "human_readable_source": " \n \n\n#ifndef _MLXSW_IPIP_H_\n#define _MLXSW_IPIP_H_\n\n#include \"spectrum_router.h\"\n#include <net/ip_fib.h>\n#include <linux/if_tunnel.h>\n#include <net/ip6_tunnel.h>\n\nstruct ip_tunnel_parm\nmlxsw_sp_ipip_netdev_parms4(const struct net_device *ol_dev);\nstruct __ip6_tnl_parm\nmlxsw_sp_ipip_netdev_parms6(const struct net_device *ol_dev);\n\nunion mlxsw_sp_l3addr\nmlxsw_sp_ipip_netdev_saddr(enum mlxsw_sp_l3proto proto,\n\t\t\t   const struct net_device *ol_dev);\n\nbool mlxsw_sp_l3addr_is_zero(union mlxsw_sp_l3addr addr);\n\nenum mlxsw_sp_ipip_type {\n\tMLXSW_SP_IPIP_TYPE_GRE4,\n\tMLXSW_SP_IPIP_TYPE_GRE6,\n\tMLXSW_SP_IPIP_TYPE_MAX,\n};\n\nstruct mlxsw_sp_ipip_parms {\n\tenum mlxsw_sp_l3proto proto;\n\tunion mlxsw_sp_l3addr saddr;\n\tunion mlxsw_sp_l3addr daddr;\n\tint link;\n\tu32 ikey;\n\tu32 okey;\n};\n\nstruct mlxsw_sp_ipip_entry {\n\tenum mlxsw_sp_ipip_type ipipt;\n\tstruct net_device *ol_dev;  \n\tstruct mlxsw_sp_rif_ipip_lb *ol_lb;\n\tstruct mlxsw_sp_fib_entry *decap_fib_entry;\n\tstruct list_head ipip_list_node;\n\tstruct mlxsw_sp_ipip_parms parms;\n\tu32 dip_kvdl_index;\n};\n\nstruct mlxsw_sp_ipip_ops {\n\tint dev_type;\n\tenum mlxsw_sp_l3proto ul_proto;  \n\tbool inc_parsing_depth;\n\tbool double_rif_entry;\n\n\tstruct mlxsw_sp_ipip_parms\n\t(*parms_init)(const struct net_device *ol_dev);\n\n\tint (*nexthop_update)(struct mlxsw_sp *mlxsw_sp, u32 adj_index,\n\t\t\t      struct mlxsw_sp_ipip_entry *ipip_entry,\n\t\t\t      bool force, char *ratr_pl);\n\n\tbool (*can_offload)(const struct mlxsw_sp *mlxsw_sp,\n\t\t\t    const struct net_device *ol_dev);\n\n\t \n\tstruct mlxsw_sp_rif_ipip_lb_config\n\t(*ol_loopback_config)(struct mlxsw_sp *mlxsw_sp,\n\t\t\t      const struct net_device *ol_dev);\n\n\tint (*decap_config)(struct mlxsw_sp *mlxsw_sp,\n\t\t\t    struct mlxsw_sp_ipip_entry *ipip_entry,\n\t\t\t    u32 tunnel_index);\n\n\tint (*ol_netdev_change)(struct mlxsw_sp *mlxsw_sp,\n\t\t\t\tstruct mlxsw_sp_ipip_entry *ipip_entry,\n\t\t\t\tstruct netlink_ext_ack *extack);\n\tint (*rem_ip_addr_set)(struct mlxsw_sp *mlxsw_sp,\n\t\t\t       struct mlxsw_sp_ipip_entry *ipip_entry);\n\tvoid (*rem_ip_addr_unset)(struct mlxsw_sp *mlxsw_sp,\n\t\t\t\t  const struct mlxsw_sp_ipip_entry *ipip_entry);\n};\n\nextern const struct mlxsw_sp_ipip_ops *mlxsw_sp1_ipip_ops_arr[];\nextern const struct mlxsw_sp_ipip_ops *mlxsw_sp2_ipip_ops_arr[];\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}