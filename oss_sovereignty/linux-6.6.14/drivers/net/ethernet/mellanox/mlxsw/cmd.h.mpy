{
  "module_name": "cmd.h",
  "hash_id": "c6bb83dc8f416c871c3b789bf54bb75e609516a5547d4bbcd6d7a027658e98ca",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/mellanox/mlxsw/cmd.h",
  "human_readable_source": " \n \n\n#ifndef _MLXSW_CMD_H\n#define _MLXSW_CMD_H\n\n#include \"item.h\"\n\n#define MLXSW_CMD_MBOX_SIZE\t4096\n\nstatic inline char *mlxsw_cmd_mbox_alloc(void)\n{\n\treturn kzalloc(MLXSW_CMD_MBOX_SIZE, GFP_KERNEL);\n}\n\nstatic inline void mlxsw_cmd_mbox_free(char *mbox)\n{\n\tkfree(mbox);\n}\n\nstatic inline void mlxsw_cmd_mbox_zero(char *mbox)\n{\n\tmemset(mbox, 0, MLXSW_CMD_MBOX_SIZE);\n}\n\nstruct mlxsw_core;\n\nint mlxsw_cmd_exec(struct mlxsw_core *mlxsw_core, u16 opcode, u8 opcode_mod,\n\t\t   u32 in_mod, bool out_mbox_direct, bool reset_ok,\n\t\t   char *in_mbox, size_t in_mbox_size,\n\t\t   char *out_mbox, size_t out_mbox_size);\n\nstatic inline int mlxsw_cmd_exec_in(struct mlxsw_core *mlxsw_core, u16 opcode,\n\t\t\t\t    u8 opcode_mod, u32 in_mod, char *in_mbox,\n\t\t\t\t    size_t in_mbox_size)\n{\n\treturn mlxsw_cmd_exec(mlxsw_core, opcode, opcode_mod, in_mod, false,\n\t\t\t      false, in_mbox, in_mbox_size, NULL, 0);\n}\n\nstatic inline int mlxsw_cmd_exec_out(struct mlxsw_core *mlxsw_core, u16 opcode,\n\t\t\t\t     u8 opcode_mod, u32 in_mod,\n\t\t\t\t     bool out_mbox_direct,\n\t\t\t\t     char *out_mbox, size_t out_mbox_size)\n{\n\treturn mlxsw_cmd_exec(mlxsw_core, opcode, opcode_mod, in_mod,\n\t\t\t      out_mbox_direct, false, NULL, 0,\n\t\t\t      out_mbox, out_mbox_size);\n}\n\nstatic inline int mlxsw_cmd_exec_none(struct mlxsw_core *mlxsw_core, u16 opcode,\n\t\t\t\t      u8 opcode_mod, u32 in_mod)\n{\n\treturn mlxsw_cmd_exec(mlxsw_core, opcode, opcode_mod, in_mod, false,\n\t\t\t      false, NULL, 0, NULL, 0);\n}\n\nenum mlxsw_cmd_opcode {\n\tMLXSW_CMD_OPCODE_QUERY_FW\t\t= 0x004,\n\tMLXSW_CMD_OPCODE_QUERY_BOARDINFO\t= 0x006,\n\tMLXSW_CMD_OPCODE_QUERY_AQ_CAP\t\t= 0x003,\n\tMLXSW_CMD_OPCODE_MAP_FA\t\t\t= 0xFFF,\n\tMLXSW_CMD_OPCODE_UNMAP_FA\t\t= 0xFFE,\n\tMLXSW_CMD_OPCODE_CONFIG_PROFILE\t\t= 0x100,\n\tMLXSW_CMD_OPCODE_ACCESS_REG\t\t= 0x040,\n\tMLXSW_CMD_OPCODE_SW2HW_DQ\t\t= 0x201,\n\tMLXSW_CMD_OPCODE_HW2SW_DQ\t\t= 0x202,\n\tMLXSW_CMD_OPCODE_2ERR_DQ\t\t= 0x01E,\n\tMLXSW_CMD_OPCODE_QUERY_DQ\t\t= 0x022,\n\tMLXSW_CMD_OPCODE_SW2HW_CQ\t\t= 0x016,\n\tMLXSW_CMD_OPCODE_HW2SW_CQ\t\t= 0x017,\n\tMLXSW_CMD_OPCODE_QUERY_CQ\t\t= 0x018,\n\tMLXSW_CMD_OPCODE_SW2HW_EQ\t\t= 0x013,\n\tMLXSW_CMD_OPCODE_HW2SW_EQ\t\t= 0x014,\n\tMLXSW_CMD_OPCODE_QUERY_EQ\t\t= 0x015,\n\tMLXSW_CMD_OPCODE_QUERY_RESOURCES\t= 0x101,\n};\n\nstatic inline const char *mlxsw_cmd_opcode_str(u16 opcode)\n{\n\tswitch (opcode) {\n\tcase MLXSW_CMD_OPCODE_QUERY_FW:\n\t\treturn \"QUERY_FW\";\n\tcase MLXSW_CMD_OPCODE_QUERY_BOARDINFO:\n\t\treturn \"QUERY_BOARDINFO\";\n\tcase MLXSW_CMD_OPCODE_QUERY_AQ_CAP:\n\t\treturn \"QUERY_AQ_CAP\";\n\tcase MLXSW_CMD_OPCODE_MAP_FA:\n\t\treturn \"MAP_FA\";\n\tcase MLXSW_CMD_OPCODE_UNMAP_FA:\n\t\treturn \"UNMAP_FA\";\n\tcase MLXSW_CMD_OPCODE_CONFIG_PROFILE:\n\t\treturn \"CONFIG_PROFILE\";\n\tcase MLXSW_CMD_OPCODE_ACCESS_REG:\n\t\treturn \"ACCESS_REG\";\n\tcase MLXSW_CMD_OPCODE_SW2HW_DQ:\n\t\treturn \"SW2HW_DQ\";\n\tcase MLXSW_CMD_OPCODE_HW2SW_DQ:\n\t\treturn \"HW2SW_DQ\";\n\tcase MLXSW_CMD_OPCODE_2ERR_DQ:\n\t\treturn \"2ERR_DQ\";\n\tcase MLXSW_CMD_OPCODE_QUERY_DQ:\n\t\treturn \"QUERY_DQ\";\n\tcase MLXSW_CMD_OPCODE_SW2HW_CQ:\n\t\treturn \"SW2HW_CQ\";\n\tcase MLXSW_CMD_OPCODE_HW2SW_CQ:\n\t\treturn \"HW2SW_CQ\";\n\tcase MLXSW_CMD_OPCODE_QUERY_CQ:\n\t\treturn \"QUERY_CQ\";\n\tcase MLXSW_CMD_OPCODE_SW2HW_EQ:\n\t\treturn \"SW2HW_EQ\";\n\tcase MLXSW_CMD_OPCODE_HW2SW_EQ:\n\t\treturn \"HW2SW_EQ\";\n\tcase MLXSW_CMD_OPCODE_QUERY_EQ:\n\t\treturn \"QUERY_EQ\";\n\tcase MLXSW_CMD_OPCODE_QUERY_RESOURCES:\n\t\treturn \"QUERY_RESOURCES\";\n\tdefault:\n\t\treturn \"*UNKNOWN*\";\n\t}\n}\n\nenum mlxsw_cmd_status {\n\t \n\tMLXSW_CMD_STATUS_OK\t\t= 0x00,\n\t \n\tMLXSW_CMD_STATUS_INTERNAL_ERR\t= 0x01,\n\t \n\tMLXSW_CMD_STATUS_BAD_OP\t\t= 0x02,\n\t \n\tMLXSW_CMD_STATUS_BAD_PARAM\t= 0x03,\n\t \n\tMLXSW_CMD_STATUS_BAD_SYS_STATE\t= 0x04,\n\t \n\tMLXSW_CMD_STATUS_BAD_RESOURCE\t= 0x05,\n\t \n\tMLXSW_CMD_STATUS_RESOURCE_BUSY\t= 0x06,\n\t \n\tMLXSW_CMD_STATUS_EXCEED_LIM\t= 0x08,\n\t \n\tMLXSW_CMD_STATUS_BAD_RES_STATE\t= 0x09,\n\t \n\tMLXSW_CMD_STATUS_BAD_INDEX\t= 0x0A,\n\t \n\tMLXSW_CMD_STATUS_BAD_NVMEM\t= 0x0B,\n\t \n\tMLXSW_CMD_STATUS_RUNNING_RESET\t= 0x26,\n\t \n\tMLXSW_CMD_STATUS_BAD_PKT\t= 0x30,\n};\n\nstatic inline const char *mlxsw_cmd_status_str(u8 status)\n{\n\tswitch (status) {\n\tcase MLXSW_CMD_STATUS_OK:\n\t\treturn \"OK\";\n\tcase MLXSW_CMD_STATUS_INTERNAL_ERR:\n\t\treturn \"INTERNAL_ERR\";\n\tcase MLXSW_CMD_STATUS_BAD_OP:\n\t\treturn \"BAD_OP\";\n\tcase MLXSW_CMD_STATUS_BAD_PARAM:\n\t\treturn \"BAD_PARAM\";\n\tcase MLXSW_CMD_STATUS_BAD_SYS_STATE:\n\t\treturn \"BAD_SYS_STATE\";\n\tcase MLXSW_CMD_STATUS_BAD_RESOURCE:\n\t\treturn \"BAD_RESOURCE\";\n\tcase MLXSW_CMD_STATUS_RESOURCE_BUSY:\n\t\treturn \"RESOURCE_BUSY\";\n\tcase MLXSW_CMD_STATUS_EXCEED_LIM:\n\t\treturn \"EXCEED_LIM\";\n\tcase MLXSW_CMD_STATUS_BAD_RES_STATE:\n\t\treturn \"BAD_RES_STATE\";\n\tcase MLXSW_CMD_STATUS_BAD_INDEX:\n\t\treturn \"BAD_INDEX\";\n\tcase MLXSW_CMD_STATUS_BAD_NVMEM:\n\t\treturn \"BAD_NVMEM\";\n\tcase MLXSW_CMD_STATUS_RUNNING_RESET:\n\t\treturn \"RUNNING_RESET\";\n\tcase MLXSW_CMD_STATUS_BAD_PKT:\n\t\treturn \"BAD_PKT\";\n\tdefault:\n\t\treturn \"*UNKNOWN*\";\n\t}\n}\n\n \n\nstatic inline int mlxsw_cmd_query_fw(struct mlxsw_core *mlxsw_core,\n\t\t\t\t     char *out_mbox)\n{\n\treturn mlxsw_cmd_exec_out(mlxsw_core, MLXSW_CMD_OPCODE_QUERY_FW,\n\t\t\t\t  0, 0, false, out_mbox, MLXSW_CMD_MBOX_SIZE);\n}\n\n \nMLXSW_ITEM32(cmd_mbox, query_fw, fw_pages, 0x00, 16, 16);\n\n \nMLXSW_ITEM32(cmd_mbox, query_fw, fw_rev_major, 0x00, 0, 16);\n\n \nMLXSW_ITEM32(cmd_mbox, query_fw, fw_rev_subminor, 0x04, 16, 16);\n\n \nMLXSW_ITEM32(cmd_mbox, query_fw, fw_rev_minor, 0x04, 0, 16);\n\n \nMLXSW_ITEM32(cmd_mbox, query_fw, core_clk, 0x08, 16, 16);\n\n \nMLXSW_ITEM32(cmd_mbox, query_fw, cmd_interface_rev, 0x08, 0, 16);\n\n \nMLXSW_ITEM32(cmd_mbox, query_fw, dt, 0x0C, 31, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, query_fw, api_version, 0x0C, 0, 16);\n\n \nMLXSW_ITEM32(cmd_mbox, query_fw, fw_hour, 0x10, 24, 8);\n\n \nMLXSW_ITEM32(cmd_mbox, query_fw, fw_minutes, 0x10, 16, 8);\n\n \nMLXSW_ITEM32(cmd_mbox, query_fw, fw_seconds, 0x10, 8, 8);\n\n \nMLXSW_ITEM32(cmd_mbox, query_fw, fw_year, 0x14, 16, 16);\n\n \nMLXSW_ITEM32(cmd_mbox, query_fw, fw_month, 0x14, 8, 8);\n\n \nMLXSW_ITEM32(cmd_mbox, query_fw, fw_day, 0x14, 0, 8);\n\n \nMLXSW_ITEM64(cmd_mbox, query_fw, clr_int_base_offset, 0x20, 0, 64);\n\n \nMLXSW_ITEM32(cmd_mbox, query_fw, clr_int_bar, 0x28, 30, 2);\n\n \nMLXSW_ITEM64(cmd_mbox, query_fw, error_buf_offset, 0x30, 0, 64);\n\n \nMLXSW_ITEM32(cmd_mbox, query_fw, error_buf_size, 0x38, 0, 32);\n\n \nMLXSW_ITEM32(cmd_mbox, query_fw, error_int_bar, 0x3C, 30, 2);\n\n \nMLXSW_ITEM64(cmd_mbox, query_fw, doorbell_page_offset, 0x40, 0, 64);\n\n \nMLXSW_ITEM32(cmd_mbox, query_fw, doorbell_page_bar, 0x48, 30, 2);\n\n \nMLXSW_ITEM64(cmd_mbox, query_fw, free_running_clock_offset, 0x50, 0, 64);\n\n \nMLXSW_ITEM32(cmd_mbox, query_fw, fr_rn_clk_bar, 0x58, 30, 2);\n\n \nMLXSW_ITEM64(cmd_mbox, query_fw, utc_sec_offset, 0x70, 0, 64);\n\n \nMLXSW_ITEM32(cmd_mbox, query_fw, utc_sec_bar, 0x78, 30, 2);\n\n \nMLXSW_ITEM64(cmd_mbox, query_fw, utc_nsec_offset, 0x80, 0, 64);\n\n \nMLXSW_ITEM32(cmd_mbox, query_fw, utc_nsec_bar, 0x88, 30, 2);\n\n \n\nstatic inline int mlxsw_cmd_boardinfo(struct mlxsw_core *mlxsw_core,\n\t\t\t\t      char *out_mbox)\n{\n\treturn mlxsw_cmd_exec_out(mlxsw_core, MLXSW_CMD_OPCODE_QUERY_BOARDINFO,\n\t\t\t\t  0, 0, false, out_mbox, MLXSW_CMD_MBOX_SIZE);\n}\n\n \nMLXSW_ITEM32(cmd_mbox, boardinfo, intapin, 0x10, 24, 8);\n\n \nMLXSW_ITEM32(cmd_mbox, boardinfo, vsd_vendor_id, 0x1C, 0, 16);\n\n \n#define MLXSW_CMD_BOARDINFO_VSD_LEN 208\nMLXSW_ITEM_BUF(cmd_mbox, boardinfo, vsd, 0x20, MLXSW_CMD_BOARDINFO_VSD_LEN);\n\n \n#define MLXSW_CMD_BOARDINFO_PSID_LEN 16\nMLXSW_ITEM_BUF(cmd_mbox, boardinfo, psid, 0xF0, MLXSW_CMD_BOARDINFO_PSID_LEN);\n\n \n\nstatic inline int mlxsw_cmd_query_aq_cap(struct mlxsw_core *mlxsw_core,\n\t\t\t\t\t char *out_mbox)\n{\n\treturn mlxsw_cmd_exec_out(mlxsw_core, MLXSW_CMD_OPCODE_QUERY_AQ_CAP,\n\t\t\t\t  0, 0, false, out_mbox, MLXSW_CMD_MBOX_SIZE);\n}\n\n \nMLXSW_ITEM32(cmd_mbox, query_aq_cap, log_max_sdq_sz, 0x00, 24, 8);\n\n \nMLXSW_ITEM32(cmd_mbox, query_aq_cap, max_num_sdqs, 0x00, 0, 8);\n\n \nMLXSW_ITEM32(cmd_mbox, query_aq_cap, log_max_rdq_sz, 0x04, 24, 8);\n\n \nMLXSW_ITEM32(cmd_mbox, query_aq_cap, max_num_rdqs, 0x04, 0, 8);\n\n \nMLXSW_ITEM32(cmd_mbox, query_aq_cap, log_max_cq_sz, 0x08, 24, 8);\n\n \nMLXSW_ITEM32(cmd_mbox, query_aq_cap, log_max_cqv2_sz, 0x08, 16, 8);\n\n \nMLXSW_ITEM32(cmd_mbox, query_aq_cap, max_num_cqs, 0x08, 0, 8);\n\n \nMLXSW_ITEM32(cmd_mbox, query_aq_cap, log_max_eq_sz, 0x0C, 24, 8);\n\n \nMLXSW_ITEM32(cmd_mbox, query_aq_cap, max_num_eqs, 0x0C, 0, 8);\n\n \nMLXSW_ITEM32(cmd_mbox, query_aq_cap, max_sg_sq, 0x10, 8, 8);\n\n \nMLXSW_ITEM32(cmd_mbox, query_aq_cap, max_sg_rq, 0x10, 0, 8);\n\n \n\n#define MLXSW_CMD_MAP_FA_VPM_ENTRIES_MAX 32\n\nstatic inline int mlxsw_cmd_map_fa(struct mlxsw_core *mlxsw_core,\n\t\t\t\t   char *in_mbox, u32 vpm_entries_count)\n{\n\treturn mlxsw_cmd_exec_in(mlxsw_core, MLXSW_CMD_OPCODE_MAP_FA,\n\t\t\t\t 0, vpm_entries_count,\n\t\t\t\t in_mbox, MLXSW_CMD_MBOX_SIZE);\n}\n\n \nMLXSW_ITEM64_INDEXED(cmd_mbox, map_fa, pa, 0x00, 12, 52, 0x08, 0x00, true);\n\n \nMLXSW_ITEM32_INDEXED(cmd_mbox, map_fa, log2size, 0x00, 0, 5, 0x08, 0x04, false);\n\n \n\nstatic inline int mlxsw_cmd_unmap_fa(struct mlxsw_core *mlxsw_core)\n{\n\treturn mlxsw_cmd_exec_none(mlxsw_core, MLXSW_CMD_OPCODE_UNMAP_FA, 0, 0);\n}\n\n \n\n#define MLXSW_CMD_QUERY_RESOURCES_TABLE_END_ID 0xffff\n#define MLXSW_CMD_QUERY_RESOURCES_MAX_QUERIES 100\n#define MLXSW_CMD_QUERY_RESOURCES_PER_QUERY 32\n\nstatic inline int mlxsw_cmd_query_resources(struct mlxsw_core *mlxsw_core,\n\t\t\t\t\t    char *out_mbox, int index)\n{\n\treturn mlxsw_cmd_exec_out(mlxsw_core, MLXSW_CMD_OPCODE_QUERY_RESOURCES,\n\t\t\t\t  0, index, false, out_mbox,\n\t\t\t\t  MLXSW_CMD_MBOX_SIZE);\n}\n\n \nMLXSW_ITEM32_INDEXED(cmd_mbox, query_resource, id, 0x00, 16, 16, 0x8, 0, false);\n\n \nMLXSW_ITEM64_INDEXED(cmd_mbox, query_resource, data,\n\t\t     0x00, 0, 40, 0x8, 0, false);\n\n \n\nstatic inline int mlxsw_cmd_config_profile_set(struct mlxsw_core *mlxsw_core,\n\t\t\t\t\t       char *in_mbox)\n{\n\treturn mlxsw_cmd_exec_in(mlxsw_core, MLXSW_CMD_OPCODE_CONFIG_PROFILE,\n\t\t\t\t 1, 0, in_mbox, MLXSW_CMD_MBOX_SIZE);\n}\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, set_max_vepa_channels, 0x0C, 0, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, set_max_lag, 0x0C, 1, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, set_max_port_per_lag, 0x0C, 2, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, set_max_mid, 0x0C, 3, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, set_max_pgt, 0x0C, 4, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, set_max_system_port, 0x0C, 5, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, set_max_vlan_groups, 0x0C, 6, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, set_max_regions, 0x0C, 7, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, set_flood_mode, 0x0C, 8, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, set_flood_tables, 0x0C, 9, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, set_max_ib_mc, 0x0C, 12, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, set_max_pkey, 0x0C, 13, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile,\n\t     set_adaptive_routing_group_cap, 0x0C, 14, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, set_ar_sec, 0x0C, 15, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, set_ubridge, 0x0C, 22, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, set_kvd_linear_size, 0x0C, 24, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, set_kvd_hash_single_size, 0x0C, 25, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, set_kvd_hash_double_size, 0x0C, 26, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, set_cqe_version, 0x08, 0, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, set_cqe_time_stamp_type, 0x08, 2, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, max_vepa_channels, 0x10, 0, 8);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, max_lag, 0x14, 0, 16);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, max_port_per_lag, 0x18, 0, 16);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, max_mid, 0x1C, 0, 16);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, max_pgt, 0x20, 0, 16);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, max_system_port, 0x24, 0, 16);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, max_vlan_groups, 0x28, 0, 12);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, max_regions, 0x2C, 0, 16);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, max_flood_tables, 0x30, 16, 4);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, max_vid_flood_tables, 0x30, 8, 4);\n\nenum mlxsw_cmd_mbox_config_profile_flood_mode {\n\t \n\tMLXSW_CMD_MBOX_CONFIG_PROFILE_FLOOD_MODE_MIXED = 3,\n\t \n\tMLXSW_CMD_MBOX_CONFIG_PROFILE_FLOOD_MODE_CONTROLLED = 4,\n};\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, flood_mode, 0x30, 0, 3);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile,\n\t     max_fid_offset_flood_tables, 0x34, 24, 4);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile,\n\t     fid_offset_flood_table_size, 0x34, 0, 16);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, max_fid_flood_tables, 0x38, 24, 4);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, fid_flood_table_size, 0x38, 0, 16);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, max_ib_mc, 0x40, 0, 15);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, max_pkey, 0x44, 0, 15);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, ar_sec, 0x4C, 24, 2);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, adaptive_routing_group_cap, 0x4C, 0, 16);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, arn, 0x50, 31, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, ubridge, 0x50, 4, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, kvd_linear_size, 0x54, 0, 24);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, kvd_hash_single_size, 0x58, 0, 24);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, kvd_hash_double_size, 0x5C, 0, 24);\n\n \nMLXSW_ITEM32_INDEXED(cmd_mbox, config_profile, swid_config_mask,\n\t\t     0x60, 24, 8, 0x08, 0x00, false);\n\n \nMLXSW_ITEM32_INDEXED(cmd_mbox, config_profile, swid_config_type,\n\t\t     0x60, 20, 4, 0x08, 0x00, false);\n\n \nMLXSW_ITEM32_INDEXED(cmd_mbox, config_profile, swid_config_properties,\n\t\t     0x60, 0, 8, 0x08, 0x00, false);\n\nenum mlxsw_cmd_mbox_config_profile_cqe_time_stamp_type {\n\t \n\tMLXSW_CMD_MBOX_CONFIG_PROFILE_CQE_TIME_STAMP_TYPE_USEC,\n\t \n\tMLXSW_CMD_MBOX_CONFIG_PROFILE_CQE_TIME_STAMP_TYPE_FRC,\n\t \n\tMLXSW_CMD_MBOX_CONFIG_PROFILE_CQE_TIME_STAMP_TYPE_UTC,\n};\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, cqe_time_stamp_type, 0xB0, 8, 2);\n\n \nMLXSW_ITEM32(cmd_mbox, config_profile, cqe_version, 0xB0, 0, 8);\n\n \n\nstatic inline int mlxsw_cmd_access_reg(struct mlxsw_core *mlxsw_core,\n\t\t\t\t       bool reset_ok,\n\t\t\t\t       char *in_mbox, char *out_mbox)\n{\n\treturn mlxsw_cmd_exec(mlxsw_core, MLXSW_CMD_OPCODE_ACCESS_REG,\n\t\t\t      0, 0, false, reset_ok,\n\t\t\t      in_mbox, MLXSW_CMD_MBOX_SIZE,\n\t\t\t      out_mbox, MLXSW_CMD_MBOX_SIZE);\n}\n\n \n\nstatic inline int __mlxsw_cmd_sw2hw_dq(struct mlxsw_core *mlxsw_core,\n\t\t\t\t       char *in_mbox, u32 dq_number,\n\t\t\t\t       u8 opcode_mod)\n{\n\treturn mlxsw_cmd_exec_in(mlxsw_core, MLXSW_CMD_OPCODE_SW2HW_DQ,\n\t\t\t\t opcode_mod, dq_number,\n\t\t\t\t in_mbox, MLXSW_CMD_MBOX_SIZE);\n}\n\nenum {\n\tMLXSW_CMD_OPCODE_MOD_SDQ = 0,\n\tMLXSW_CMD_OPCODE_MOD_RDQ = 1,\n};\n\nstatic inline int mlxsw_cmd_sw2hw_sdq(struct mlxsw_core *mlxsw_core,\n\t\t\t\t      char *in_mbox, u32 dq_number)\n{\n\treturn __mlxsw_cmd_sw2hw_dq(mlxsw_core, in_mbox, dq_number,\n\t\t\t\t    MLXSW_CMD_OPCODE_MOD_SDQ);\n}\n\nstatic inline int mlxsw_cmd_sw2hw_rdq(struct mlxsw_core *mlxsw_core,\n\t\t\t\t      char *in_mbox, u32 dq_number)\n{\n\treturn __mlxsw_cmd_sw2hw_dq(mlxsw_core, in_mbox, dq_number,\n\t\t\t\t    MLXSW_CMD_OPCODE_MOD_RDQ);\n}\n\n \nMLXSW_ITEM32(cmd_mbox, sw2hw_dq, cq, 0x00, 24, 8);\n\nenum mlxsw_cmd_mbox_sw2hw_dq_sdq_lp {\n\tMLXSW_CMD_MBOX_SW2HW_DQ_SDQ_LP_WQE,\n\tMLXSW_CMD_MBOX_SW2HW_DQ_SDQ_LP_IGNORE_WQE,\n};\n\n \nMLXSW_ITEM32(cmd_mbox, sw2hw_dq, sdq_lp, 0x00, 23, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, sw2hw_dq, sdq_tclass, 0x00, 16, 6);\n\n \nMLXSW_ITEM32(cmd_mbox, sw2hw_dq, log2_dq_sz, 0x00, 0, 6);\n\n \nMLXSW_ITEM64_INDEXED(cmd_mbox, sw2hw_dq, pa, 0x10, 12, 52, 0x08, 0x00, true);\n\n \n\nstatic inline int __mlxsw_cmd_hw2sw_dq(struct mlxsw_core *mlxsw_core,\n\t\t\t\t       u32 dq_number, u8 opcode_mod)\n{\n\treturn mlxsw_cmd_exec_none(mlxsw_core, MLXSW_CMD_OPCODE_HW2SW_DQ,\n\t\t\t\t   opcode_mod, dq_number);\n}\n\nstatic inline int mlxsw_cmd_hw2sw_sdq(struct mlxsw_core *mlxsw_core,\n\t\t\t\t      u32 dq_number)\n{\n\treturn __mlxsw_cmd_hw2sw_dq(mlxsw_core, dq_number,\n\t\t\t\t    MLXSW_CMD_OPCODE_MOD_SDQ);\n}\n\nstatic inline int mlxsw_cmd_hw2sw_rdq(struct mlxsw_core *mlxsw_core,\n\t\t\t\t      u32 dq_number)\n{\n\treturn __mlxsw_cmd_hw2sw_dq(mlxsw_core, dq_number,\n\t\t\t\t    MLXSW_CMD_OPCODE_MOD_RDQ);\n}\n\n \n\nstatic inline int __mlxsw_cmd_2err_dq(struct mlxsw_core *mlxsw_core,\n\t\t\t\t      u32 dq_number, u8 opcode_mod)\n{\n\treturn mlxsw_cmd_exec_none(mlxsw_core, MLXSW_CMD_OPCODE_2ERR_DQ,\n\t\t\t\t   opcode_mod, dq_number);\n}\n\nstatic inline int mlxsw_cmd_2err_sdq(struct mlxsw_core *mlxsw_core,\n\t\t\t\t     u32 dq_number)\n{\n\treturn __mlxsw_cmd_2err_dq(mlxsw_core, dq_number,\n\t\t\t\t   MLXSW_CMD_OPCODE_MOD_SDQ);\n}\n\nstatic inline int mlxsw_cmd_2err_rdq(struct mlxsw_core *mlxsw_core,\n\t\t\t\t     u32 dq_number)\n{\n\treturn __mlxsw_cmd_2err_dq(mlxsw_core, dq_number,\n\t\t\t\t   MLXSW_CMD_OPCODE_MOD_RDQ);\n}\n\n \n\nstatic inline int __mlxsw_cmd_query_dq(struct mlxsw_core *mlxsw_core,\n\t\t\t\t       char *out_mbox, u32 dq_number,\n\t\t\t\t       u8 opcode_mod)\n{\n\treturn mlxsw_cmd_exec_out(mlxsw_core, MLXSW_CMD_OPCODE_2ERR_DQ,\n\t\t\t\t  opcode_mod, dq_number, false,\n\t\t\t\t  out_mbox, MLXSW_CMD_MBOX_SIZE);\n}\n\nstatic inline int mlxsw_cmd_query_sdq(struct mlxsw_core *mlxsw_core,\n\t\t\t\t      char *out_mbox, u32 dq_number)\n{\n\treturn __mlxsw_cmd_query_dq(mlxsw_core, out_mbox, dq_number,\n\t\t\t\t    MLXSW_CMD_OPCODE_MOD_SDQ);\n}\n\nstatic inline int mlxsw_cmd_query_rdq(struct mlxsw_core *mlxsw_core,\n\t\t\t\t      char *out_mbox, u32 dq_number)\n{\n\treturn __mlxsw_cmd_query_dq(mlxsw_core, out_mbox, dq_number,\n\t\t\t\t    MLXSW_CMD_OPCODE_MOD_RDQ);\n}\n\n \n\nstatic inline int mlxsw_cmd_sw2hw_cq(struct mlxsw_core *mlxsw_core,\n\t\t\t\t     char *in_mbox, u32 cq_number)\n{\n\treturn mlxsw_cmd_exec_in(mlxsw_core, MLXSW_CMD_OPCODE_SW2HW_CQ,\n\t\t\t\t 0, cq_number, in_mbox, MLXSW_CMD_MBOX_SIZE);\n}\n\nenum mlxsw_cmd_mbox_sw2hw_cq_cqe_ver {\n\tMLXSW_CMD_MBOX_SW2HW_CQ_CQE_VER_1,\n\tMLXSW_CMD_MBOX_SW2HW_CQ_CQE_VER_2,\n};\n\n \nMLXSW_ITEM32(cmd_mbox, sw2hw_cq, cqe_ver, 0x00, 28, 4);\n\n \nMLXSW_ITEM32(cmd_mbox, sw2hw_cq, c_eqn, 0x00, 24, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, sw2hw_cq, st, 0x00, 8, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, sw2hw_cq, log_cq_size, 0x00, 0, 4);\n\n \nMLXSW_ITEM32(cmd_mbox, sw2hw_cq, producer_counter, 0x04, 0, 16);\n\n \nMLXSW_ITEM64_INDEXED(cmd_mbox, sw2hw_cq, pa, 0x10, 11, 53, 0x08, 0x00, true);\n\n \n\nstatic inline int mlxsw_cmd_hw2sw_cq(struct mlxsw_core *mlxsw_core,\n\t\t\t\t     u32 cq_number)\n{\n\treturn mlxsw_cmd_exec_none(mlxsw_core, MLXSW_CMD_OPCODE_HW2SW_CQ,\n\t\t\t\t   0, cq_number);\n}\n\n \n\nstatic inline int mlxsw_cmd_query_cq(struct mlxsw_core *mlxsw_core,\n\t\t\t\t     char *out_mbox, u32 cq_number)\n{\n\treturn mlxsw_cmd_exec_out(mlxsw_core, MLXSW_CMD_OPCODE_QUERY_CQ,\n\t\t\t\t  0, cq_number, false,\n\t\t\t\t  out_mbox, MLXSW_CMD_MBOX_SIZE);\n}\n\n \n\nstatic inline int mlxsw_cmd_sw2hw_eq(struct mlxsw_core *mlxsw_core,\n\t\t\t\t     char *in_mbox, u32 eq_number)\n{\n\treturn mlxsw_cmd_exec_in(mlxsw_core, MLXSW_CMD_OPCODE_SW2HW_EQ,\n\t\t\t\t 0, eq_number, in_mbox, MLXSW_CMD_MBOX_SIZE);\n}\n\n \nMLXSW_ITEM32(cmd_mbox, sw2hw_eq, int_msix, 0x00, 24, 1);\n\n \nMLXSW_ITEM32(cmd_mbox, sw2hw_eq, st, 0x00, 8, 2);\n\n \nMLXSW_ITEM32(cmd_mbox, sw2hw_eq, log_eq_size, 0x00, 0, 4);\n\n \nMLXSW_ITEM32(cmd_mbox, sw2hw_eq, producer_counter, 0x04, 0, 16);\n\n \nMLXSW_ITEM64_INDEXED(cmd_mbox, sw2hw_eq, pa, 0x10, 11, 53, 0x08, 0x00, true);\n\n \n\nstatic inline int mlxsw_cmd_hw2sw_eq(struct mlxsw_core *mlxsw_core,\n\t\t\t\t     u32 eq_number)\n{\n\treturn mlxsw_cmd_exec_none(mlxsw_core, MLXSW_CMD_OPCODE_HW2SW_EQ,\n\t\t\t\t   0, eq_number);\n}\n\n \n\nstatic inline int mlxsw_cmd_query_eq(struct mlxsw_core *mlxsw_core,\n\t\t\t\t     char *out_mbox, u32 eq_number)\n{\n\treturn mlxsw_cmd_exec_out(mlxsw_core, MLXSW_CMD_OPCODE_QUERY_EQ,\n\t\t\t\t  0, eq_number, false,\n\t\t\t\t  out_mbox, MLXSW_CMD_MBOX_SIZE);\n}\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}