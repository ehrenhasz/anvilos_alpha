{
  "module_name": "r8169_phy_config.c",
  "hash_id": "f9a18cbd76dce9fce19969151b253bad4c3a21176d893fae0d4626439f18080d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/realtek/r8169_phy_config.c",
  "human_readable_source": "\n \n\n#include <linux/delay.h>\n#include <linux/phy.h>\n\n#include \"r8169.h\"\n\ntypedef void (*rtl_phy_cfg_fct)(struct rtl8169_private *tp,\n\t\t\t\tstruct phy_device *phydev);\n\nstatic void r8168d_modify_extpage(struct phy_device *phydev, int extpage,\n\t\t\t\t  int reg, u16 mask, u16 val)\n{\n\tint oldpage = phy_select_page(phydev, 0x0007);\n\n\t__phy_write(phydev, 0x1e, extpage);\n\t__phy_modify(phydev, reg, mask, val);\n\n\tphy_restore_page(phydev, oldpage, 0);\n}\n\nstatic void r8168d_phy_param(struct phy_device *phydev, u16 parm,\n\t\t\t     u16 mask, u16 val)\n{\n\tint oldpage = phy_select_page(phydev, 0x0005);\n\n\t__phy_write(phydev, 0x05, parm);\n\t__phy_modify(phydev, 0x06, mask, val);\n\n\tphy_restore_page(phydev, oldpage, 0);\n}\n\nstatic void r8168g_phy_param(struct phy_device *phydev, u16 parm,\n\t\t\t     u16 mask, u16 val)\n{\n\tint oldpage = phy_select_page(phydev, 0x0a43);\n\n\t__phy_write(phydev, 0x13, parm);\n\t__phy_modify(phydev, 0x14, mask, val);\n\n\tphy_restore_page(phydev, oldpage, 0);\n}\n\nstruct phy_reg {\n\tu16 reg;\n\tu16 val;\n};\n\nstatic void __rtl_writephy_batch(struct phy_device *phydev,\n\t\t\t\t const struct phy_reg *regs, int len)\n{\n\tphy_lock_mdio_bus(phydev);\n\n\twhile (len-- > 0) {\n\t\t__phy_write(phydev, regs->reg, regs->val);\n\t\tregs++;\n\t}\n\n\tphy_unlock_mdio_bus(phydev);\n}\n\n#define rtl_writephy_batch(p, a) __rtl_writephy_batch(p, a, ARRAY_SIZE(a))\n\nstatic void rtl8168f_config_eee_phy(struct phy_device *phydev)\n{\n\tr8168d_modify_extpage(phydev, 0x0020, 0x15, 0, BIT(8));\n\tr8168d_phy_param(phydev, 0x8b85, 0, BIT(13));\n}\n\nstatic void rtl8168g_config_eee_phy(struct phy_device *phydev)\n{\n\tphy_modify_paged(phydev, 0x0a43, 0x11, 0, BIT(4));\n}\n\nstatic void rtl8168h_config_eee_phy(struct phy_device *phydev)\n{\n\trtl8168g_config_eee_phy(phydev);\n\n\tphy_modify_paged(phydev, 0xa4a, 0x11, 0x0000, 0x0200);\n\tphy_modify_paged(phydev, 0xa42, 0x14, 0x0000, 0x0080);\n}\n\nstatic void rtl8125a_config_eee_phy(struct phy_device *phydev)\n{\n\trtl8168h_config_eee_phy(phydev);\n\n\tphy_modify_paged(phydev, 0xa6d, 0x12, 0x0001, 0x0000);\n\tphy_modify_paged(phydev, 0xa6d, 0x14, 0x0010, 0x0000);\n}\n\nstatic void rtl8125b_config_eee_phy(struct phy_device *phydev)\n{\n\tphy_modify_paged(phydev, 0xa6d, 0x12, 0x0001, 0x0000);\n\tphy_modify_paged(phydev, 0xa6d, 0x14, 0x0010, 0x0000);\n\tphy_modify_paged(phydev, 0xa42, 0x14, 0x0080, 0x0000);\n\tphy_modify_paged(phydev, 0xa4a, 0x11, 0x0200, 0x0000);\n}\n\nstatic void rtl8169s_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t   struct phy_device *phydev)\n{\n\tstatic const struct phy_reg phy_reg_init[] = {\n\t\t{ 0x1f, 0x0001 },\n\t\t{ 0x06, 0x006e },\n\t\t{ 0x08, 0x0708 },\n\t\t{ 0x15, 0x4000 },\n\t\t{ 0x18, 0x65c7 },\n\n\t\t{ 0x1f, 0x0001 },\n\t\t{ 0x03, 0x00a1 },\n\t\t{ 0x02, 0x0008 },\n\t\t{ 0x01, 0x0120 },\n\t\t{ 0x00, 0x1000 },\n\t\t{ 0x04, 0x0800 },\n\t\t{ 0x04, 0x0000 },\n\n\t\t{ 0x03, 0xff41 },\n\t\t{ 0x02, 0xdf60 },\n\t\t{ 0x01, 0x0140 },\n\t\t{ 0x00, 0x0077 },\n\t\t{ 0x04, 0x7800 },\n\t\t{ 0x04, 0x7000 },\n\n\t\t{ 0x03, 0x802f },\n\t\t{ 0x02, 0x4f02 },\n\t\t{ 0x01, 0x0409 },\n\t\t{ 0x00, 0xf0f9 },\n\t\t{ 0x04, 0x9800 },\n\t\t{ 0x04, 0x9000 },\n\n\t\t{ 0x03, 0xdf01 },\n\t\t{ 0x02, 0xdf20 },\n\t\t{ 0x01, 0xff95 },\n\t\t{ 0x00, 0xba00 },\n\t\t{ 0x04, 0xa800 },\n\t\t{ 0x04, 0xa000 },\n\n\t\t{ 0x03, 0xff41 },\n\t\t{ 0x02, 0xdf20 },\n\t\t{ 0x01, 0x0140 },\n\t\t{ 0x00, 0x00bb },\n\t\t{ 0x04, 0xb800 },\n\t\t{ 0x04, 0xb000 },\n\n\t\t{ 0x03, 0xdf41 },\n\t\t{ 0x02, 0xdc60 },\n\t\t{ 0x01, 0x6340 },\n\t\t{ 0x00, 0x007d },\n\t\t{ 0x04, 0xd800 },\n\t\t{ 0x04, 0xd000 },\n\n\t\t{ 0x03, 0xdf01 },\n\t\t{ 0x02, 0xdf20 },\n\t\t{ 0x01, 0x100a },\n\t\t{ 0x00, 0xa0ff },\n\t\t{ 0x04, 0xf800 },\n\t\t{ 0x04, 0xf000 },\n\n\t\t{ 0x1f, 0x0000 },\n\t\t{ 0x0b, 0x0000 },\n\t\t{ 0x00, 0x9200 }\n\t};\n\n\trtl_writephy_batch(phydev, phy_reg_init);\n}\n\nstatic void rtl8169sb_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t    struct phy_device *phydev)\n{\n\tphy_write_paged(phydev, 0x0002, 0x01, 0x90d0);\n}\n\nstatic void rtl8169scd_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t     struct phy_device *phydev)\n{\n\tstatic const struct phy_reg phy_reg_init[] = {\n\t\t{ 0x1f, 0x0001 },\n\t\t{ 0x04, 0x0000 },\n\t\t{ 0x03, 0x00a1 },\n\t\t{ 0x02, 0x0008 },\n\t\t{ 0x01, 0x0120 },\n\t\t{ 0x00, 0x1000 },\n\t\t{ 0x04, 0x0800 },\n\t\t{ 0x04, 0x9000 },\n\t\t{ 0x03, 0x802f },\n\t\t{ 0x02, 0x4f02 },\n\t\t{ 0x01, 0x0409 },\n\t\t{ 0x00, 0xf099 },\n\t\t{ 0x04, 0x9800 },\n\t\t{ 0x04, 0xa000 },\n\t\t{ 0x03, 0xdf01 },\n\t\t{ 0x02, 0xdf20 },\n\t\t{ 0x01, 0xff95 },\n\t\t{ 0x00, 0xba00 },\n\t\t{ 0x04, 0xa800 },\n\t\t{ 0x04, 0xf000 },\n\t\t{ 0x03, 0xdf01 },\n\t\t{ 0x02, 0xdf20 },\n\t\t{ 0x01, 0x101a },\n\t\t{ 0x00, 0xa0ff },\n\t\t{ 0x04, 0xf800 },\n\t\t{ 0x04, 0x0000 },\n\t\t{ 0x1f, 0x0000 },\n\n\t\t{ 0x1f, 0x0001 },\n\t\t{ 0x10, 0xf41b },\n\t\t{ 0x14, 0xfb54 },\n\t\t{ 0x18, 0xf5c7 },\n\t\t{ 0x1f, 0x0000 },\n\n\t\t{ 0x1f, 0x0001 },\n\t\t{ 0x17, 0x0cc0 },\n\t\t{ 0x1f, 0x0000 }\n\t};\n\n\trtl_writephy_batch(phydev, phy_reg_init);\n}\n\nstatic void rtl8169sce_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t     struct phy_device *phydev)\n{\n\tstatic const struct phy_reg phy_reg_init[] = {\n\t\t{ 0x1f, 0x0001 },\n\t\t{ 0x04, 0x0000 },\n\t\t{ 0x03, 0x00a1 },\n\t\t{ 0x02, 0x0008 },\n\t\t{ 0x01, 0x0120 },\n\t\t{ 0x00, 0x1000 },\n\t\t{ 0x04, 0x0800 },\n\t\t{ 0x04, 0x9000 },\n\t\t{ 0x03, 0x802f },\n\t\t{ 0x02, 0x4f02 },\n\t\t{ 0x01, 0x0409 },\n\t\t{ 0x00, 0xf099 },\n\t\t{ 0x04, 0x9800 },\n\t\t{ 0x04, 0xa000 },\n\t\t{ 0x03, 0xdf01 },\n\t\t{ 0x02, 0xdf20 },\n\t\t{ 0x01, 0xff95 },\n\t\t{ 0x00, 0xba00 },\n\t\t{ 0x04, 0xa800 },\n\t\t{ 0x04, 0xf000 },\n\t\t{ 0x03, 0xdf01 },\n\t\t{ 0x02, 0xdf20 },\n\t\t{ 0x01, 0x101a },\n\t\t{ 0x00, 0xa0ff },\n\t\t{ 0x04, 0xf800 },\n\t\t{ 0x04, 0x0000 },\n\t\t{ 0x1f, 0x0000 },\n\n\t\t{ 0x1f, 0x0001 },\n\t\t{ 0x0b, 0x8480 },\n\t\t{ 0x1f, 0x0000 },\n\n\t\t{ 0x1f, 0x0001 },\n\t\t{ 0x18, 0x67c7 },\n\t\t{ 0x04, 0x2000 },\n\t\t{ 0x03, 0x002f },\n\t\t{ 0x02, 0x4360 },\n\t\t{ 0x01, 0x0109 },\n\t\t{ 0x00, 0x3022 },\n\t\t{ 0x04, 0x2800 },\n\t\t{ 0x1f, 0x0000 },\n\n\t\t{ 0x1f, 0x0001 },\n\t\t{ 0x17, 0x0cc0 },\n\t\t{ 0x1f, 0x0000 }\n\t};\n\n\trtl_writephy_batch(phydev, phy_reg_init);\n}\n\nstatic void rtl8168bb_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t    struct phy_device *phydev)\n{\n\tphy_write(phydev, 0x1f, 0x0001);\n\tphy_set_bits(phydev, 0x16, BIT(0));\n\tphy_write(phydev, 0x10, 0xf41b);\n\tphy_write(phydev, 0x1f, 0x0000);\n}\n\nstatic void rtl8168bef_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t     struct phy_device *phydev)\n{\n\tphy_write_paged(phydev, 0x0001, 0x10, 0xf41b);\n}\n\nstatic void rtl8168cp_1_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t      struct phy_device *phydev)\n{\n\tphy_write(phydev, 0x1d, 0x0f00);\n\tphy_write_paged(phydev, 0x0002, 0x0c, 0x1ec8);\n}\n\nstatic void rtl8168cp_2_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t      struct phy_device *phydev)\n{\n\tphy_set_bits(phydev, 0x14, BIT(5));\n\tphy_set_bits(phydev, 0x0d, BIT(5));\n\tphy_write_paged(phydev, 0x0001, 0x1d, 0x3d98);\n}\n\nstatic void rtl8168c_1_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t     struct phy_device *phydev)\n{\n\tstatic const struct phy_reg phy_reg_init[] = {\n\t\t{ 0x1f, 0x0001 },\n\t\t{ 0x12, 0x2300 },\n\t\t{ 0x1f, 0x0002 },\n\t\t{ 0x00, 0x88d4 },\n\t\t{ 0x01, 0x82b1 },\n\t\t{ 0x03, 0x7002 },\n\t\t{ 0x08, 0x9e30 },\n\t\t{ 0x09, 0x01f0 },\n\t\t{ 0x0a, 0x5500 },\n\t\t{ 0x0c, 0x00c8 },\n\t\t{ 0x1f, 0x0003 },\n\t\t{ 0x12, 0xc096 },\n\t\t{ 0x16, 0x000a },\n\t\t{ 0x1f, 0x0000 },\n\t\t{ 0x1f, 0x0000 },\n\t\t{ 0x09, 0x2000 },\n\t\t{ 0x09, 0x0000 }\n\t};\n\n\trtl_writephy_batch(phydev, phy_reg_init);\n\n\tphy_set_bits(phydev, 0x14, BIT(5));\n\tphy_set_bits(phydev, 0x0d, BIT(5));\n}\n\nstatic void rtl8168c_2_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t     struct phy_device *phydev)\n{\n\tstatic const struct phy_reg phy_reg_init[] = {\n\t\t{ 0x1f, 0x0001 },\n\t\t{ 0x12, 0x2300 },\n\t\t{ 0x03, 0x802f },\n\t\t{ 0x02, 0x4f02 },\n\t\t{ 0x01, 0x0409 },\n\t\t{ 0x00, 0xf099 },\n\t\t{ 0x04, 0x9800 },\n\t\t{ 0x04, 0x9000 },\n\t\t{ 0x1d, 0x3d98 },\n\t\t{ 0x1f, 0x0002 },\n\t\t{ 0x0c, 0x7eb8 },\n\t\t{ 0x06, 0x0761 },\n\t\t{ 0x1f, 0x0003 },\n\t\t{ 0x16, 0x0f0a },\n\t\t{ 0x1f, 0x0000 }\n\t};\n\n\trtl_writephy_batch(phydev, phy_reg_init);\n\n\tphy_set_bits(phydev, 0x16, BIT(0));\n\tphy_set_bits(phydev, 0x14, BIT(5));\n\tphy_set_bits(phydev, 0x0d, BIT(5));\n}\n\nstatic void rtl8168c_3_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t     struct phy_device *phydev)\n{\n\tstatic const struct phy_reg phy_reg_init[] = {\n\t\t{ 0x1f, 0x0001 },\n\t\t{ 0x12, 0x2300 },\n\t\t{ 0x1d, 0x3d98 },\n\t\t{ 0x1f, 0x0002 },\n\t\t{ 0x0c, 0x7eb8 },\n\t\t{ 0x06, 0x5461 },\n\t\t{ 0x1f, 0x0003 },\n\t\t{ 0x16, 0x0f0a },\n\t\t{ 0x1f, 0x0000 }\n\t};\n\n\trtl_writephy_batch(phydev, phy_reg_init);\n\n\tphy_set_bits(phydev, 0x16, BIT(0));\n\tphy_set_bits(phydev, 0x14, BIT(5));\n\tphy_set_bits(phydev, 0x0d, BIT(5));\n}\n\nstatic const struct phy_reg rtl8168d_1_phy_reg_init_0[] = {\n\t \n\t{ 0x1f, 0x0001 },\n\t{ 0x06, 0x4064 },\n\t{ 0x07, 0x2863 },\n\t{ 0x08, 0x059c },\n\t{ 0x09, 0x26b4 },\n\t{ 0x0a, 0x6a19 },\n\t{ 0x0b, 0xdcc8 },\n\t{ 0x10, 0xf06d },\n\t{ 0x14, 0x7f68 },\n\t{ 0x18, 0x7fd9 },\n\t{ 0x1c, 0xf0ff },\n\t{ 0x1d, 0x3d9c },\n\t{ 0x1f, 0x0003 },\n\t{ 0x12, 0xf49f },\n\t{ 0x13, 0x070b },\n\t{ 0x1a, 0x05ad },\n\t{ 0x14, 0x94c0 },\n\n\t \n\t{ 0x1f, 0x0002 },\n\t{ 0x06, 0x5561 },\n\t{ 0x1f, 0x0005 },\n\t{ 0x05, 0x8332 },\n\t{ 0x06, 0x5561 },\n\n\t \n\t{ 0x1f, 0x0001 },\n\t{ 0x17, 0x0cc0 },\n\n\t{ 0x1f, 0x0000 },\n\t{ 0x0d, 0xf880 }\n};\n\nstatic void rtl8168d_apply_firmware_cond(struct rtl8169_private *tp,\n\t\t\t\t\t struct phy_device *phydev,\n\t\t\t\t\t u16 val)\n{\n\tu16 reg_val;\n\n\tphy_write(phydev, 0x1f, 0x0005);\n\tphy_write(phydev, 0x05, 0x001b);\n\treg_val = phy_read(phydev, 0x06);\n\tphy_write(phydev, 0x1f, 0x0000);\n\n\tif (reg_val != val)\n\t\tphydev_warn(phydev, \"chipset not ready for firmware\\n\");\n\telse\n\t\tr8169_apply_firmware(tp);\n}\n\nstatic void rtl8168d_1_common(struct phy_device *phydev)\n{\n\tu16 val;\n\n\tphy_write_paged(phydev, 0x0002, 0x05, 0x669a);\n\tr8168d_phy_param(phydev, 0x8330, 0xffff, 0x669a);\n\tphy_write(phydev, 0x1f, 0x0002);\n\n\tval = phy_read(phydev, 0x0d);\n\n\tif ((val & 0x00ff) != 0x006c) {\n\t\tstatic const u16 set[] = {\n\t\t\t0x0065, 0x0066, 0x0067, 0x0068,\n\t\t\t0x0069, 0x006a, 0x006b, 0x006c\n\t\t};\n\t\tint i;\n\n\t\tval &= 0xff00;\n\t\tfor (i = 0; i < ARRAY_SIZE(set); i++)\n\t\t\tphy_write(phydev, 0x0d, val | set[i]);\n\t}\n}\n\nstatic void rtl8168d_1_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t     struct phy_device *phydev)\n{\n\trtl_writephy_batch(phydev, rtl8168d_1_phy_reg_init_0);\n\n\t \n\tphy_write(phydev, 0x1f, 0x0002);\n\tphy_modify(phydev, 0x0b, 0x00ef, 0x0010);\n\tphy_modify(phydev, 0x0c, 0x5d00, 0xa200);\n\n\tif (rtl8168d_efuse_read(tp, 0x01) == 0xb1) {\n\t\trtl8168d_1_common(phydev);\n\t} else {\n\t\tphy_write_paged(phydev, 0x0002, 0x05, 0x6662);\n\t\tr8168d_phy_param(phydev, 0x8330, 0xffff, 0x6662);\n\t}\n\n\t \n\tphy_write(phydev, 0x1f, 0x0002);\n\tphy_set_bits(phydev, 0x0d, 0x0300);\n\tphy_set_bits(phydev, 0x0f, 0x0010);\n\n\t \n\tphy_write(phydev, 0x1f, 0x0002);\n\tphy_modify(phydev, 0x02, 0x0600, 0x0100);\n\tphy_clear_bits(phydev, 0x03, 0xe000);\n\tphy_write(phydev, 0x1f, 0x0000);\n\n\trtl8168d_apply_firmware_cond(tp, phydev, 0xbf00);\n}\n\nstatic void rtl8168d_2_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t     struct phy_device *phydev)\n{\n\trtl_writephy_batch(phydev, rtl8168d_1_phy_reg_init_0);\n\n\tif (rtl8168d_efuse_read(tp, 0x01) == 0xb1) {\n\t\trtl8168d_1_common(phydev);\n\t} else {\n\t\tphy_write_paged(phydev, 0x0002, 0x05, 0x2642);\n\t\tr8168d_phy_param(phydev, 0x8330, 0xffff, 0x2642);\n\t}\n\n\t \n\tphy_write(phydev, 0x1f, 0x0002);\n\tphy_modify(phydev, 0x02, 0x0600, 0x0100);\n\tphy_clear_bits(phydev, 0x03, 0xe000);\n\tphy_write(phydev, 0x1f, 0x0000);\n\n\t \n\tphy_modify_paged(phydev, 0x0002, 0x0f, 0x0000, 0x0017);\n\n\trtl8168d_apply_firmware_cond(tp, phydev, 0xb300);\n}\n\nstatic void rtl8168d_4_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t     struct phy_device *phydev)\n{\n\tphy_write_paged(phydev, 0x0001, 0x17, 0x0cc0);\n\tr8168d_modify_extpage(phydev, 0x002d, 0x18, 0xffff, 0x0040);\n\tphy_set_bits(phydev, 0x0d, BIT(5));\n}\n\nstatic void rtl8168e_1_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t     struct phy_device *phydev)\n{\n\tstatic const struct phy_reg phy_reg_init[] = {\n\t\t \n\t\t{ 0x1f, 0x0001 },\n\t\t{ 0x0b, 0x6c20 },\n\t\t{ 0x07, 0x2872 },\n\t\t{ 0x1c, 0xefff },\n\t\t{ 0x1f, 0x0003 },\n\t\t{ 0x14, 0x6420 },\n\t\t{ 0x1f, 0x0000 },\n\t};\n\n\tr8169_apply_firmware(tp);\n\n\t \n\tr8168d_phy_param(phydev, 0x8b80, 0xffff, 0xc896);\n\n\trtl_writephy_batch(phydev, phy_reg_init);\n\n\t \n\tr8168d_modify_extpage(phydev, 0x002f, 0x15, 0xffff, 0x1919);\n\n\tr8168d_modify_extpage(phydev, 0x00ac, 0x18, 0xffff, 0x0006);\n\n\t \n\tr8168d_modify_extpage(phydev, 0x0023, 0x17, 0x0000, 0x0006);\n\n\t \n\tphy_modify_paged(phydev, 0x0002, 0x08, 0x7f00, 0x8000);\n\n\t \n\tr8168d_modify_extpage(phydev, 0x002d, 0x18, 0x0000, 0x0050);\n\tphy_set_bits(phydev, 0x14, BIT(15));\n\n\tr8168d_phy_param(phydev, 0x8b86, 0x0000, 0x0001);\n\tr8168d_phy_param(phydev, 0x8b85, 0x2000, 0x0000);\n\n\tr8168d_modify_extpage(phydev, 0x0020, 0x15, 0x1100, 0x0000);\n\tphy_write_paged(phydev, 0x0006, 0x00, 0x5a00);\n\n\tphy_write_mmd(phydev, MDIO_MMD_AN, MDIO_AN_EEE_ADV, 0x0000);\n}\n\nstatic void rtl8168e_2_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t     struct phy_device *phydev)\n{\n\tr8169_apply_firmware(tp);\n\n\t \n\tr8168d_modify_extpage(phydev, 0x00ac, 0x18, 0xffff, 0x0006);\n\n\t \n\tphy_write_paged(phydev, 0x0003, 0x09, 0xa20f);\n\n\t \n\tr8168d_phy_param(phydev, 0x8b5b, 0xffff, 0x9222);\n\tr8168d_phy_param(phydev, 0x8b6d, 0xffff, 0x8000);\n\tr8168d_phy_param(phydev, 0x8b76, 0xffff, 0x8000);\n\n\t \n\tphy_write(phydev, 0x1f, 0x0005);\n\tphy_write(phydev, 0x05, 0x8b80);\n\tphy_set_bits(phydev, 0x17, 0x0006);\n\tphy_write(phydev, 0x1f, 0x0000);\n\n\t \n\tr8168d_modify_extpage(phydev, 0x002d, 0x18, 0x0000, 0x0010);\n\tphy_set_bits(phydev, 0x14, BIT(15));\n\n\t \n\tr8168d_phy_param(phydev, 0x8b86, 0x0000, 0x0001);\n\n\t \n\tr8168d_phy_param(phydev, 0x8b85, 0x0000, 0x4000);\n\n\trtl8168f_config_eee_phy(phydev);\n\n\t \n\tphy_write(phydev, 0x1f, 0x0003);\n\tphy_set_bits(phydev, 0x19, BIT(0));\n\tphy_set_bits(phydev, 0x10, BIT(10));\n\tphy_write(phydev, 0x1f, 0x0000);\n\tphy_modify_paged(phydev, 0x0005, 0x01, 0, BIT(8));\n}\n\nstatic void rtl8168f_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t   struct phy_device *phydev)\n{\n\t \n\tr8168d_phy_param(phydev, 0x8b80, 0x0000, 0x0006);\n\n\t \n\tr8168d_modify_extpage(phydev, 0x002d, 0x18, 0x0000, 0x0010);\n\tphy_set_bits(phydev, 0x14, BIT(15));\n\n\t \n\tr8168d_phy_param(phydev, 0x8b86, 0x0000, 0x0001);\n\n\trtl8168f_config_eee_phy(phydev);\n}\n\nstatic void rtl8168f_1_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t     struct phy_device *phydev)\n{\n\tr8169_apply_firmware(tp);\n\n\t \n\tphy_write_paged(phydev, 0x0003, 0x09, 0xa20f);\n\n\t \n\tr8168d_phy_param(phydev, 0x8b55, 0xffff, 0x0000);\n\tr8168d_phy_param(phydev, 0x8b5e, 0xffff, 0x0000);\n\tr8168d_phy_param(phydev, 0x8b67, 0xffff, 0x0000);\n\tr8168d_phy_param(phydev, 0x8b70, 0xffff, 0x0000);\n\tr8168d_modify_extpage(phydev, 0x0078, 0x17, 0xffff, 0x0000);\n\tr8168d_modify_extpage(phydev, 0x0078, 0x19, 0xffff, 0x00fb);\n\n\t \n\tr8168d_phy_param(phydev, 0x8b79, 0xffff, 0xaa00);\n\n\t \n\tphy_write_paged(phydev, 0x0003, 0x01, 0x328a);\n\n\trtl8168f_hw_phy_config(tp, phydev);\n\n\t \n\tr8168d_phy_param(phydev, 0x8b85, 0x0000, 0x4000);\n}\n\nstatic void rtl8168f_2_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t     struct phy_device *phydev)\n{\n\tr8169_apply_firmware(tp);\n\n\trtl8168f_hw_phy_config(tp, phydev);\n}\n\nstatic void rtl8411_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t  struct phy_device *phydev)\n{\n\tr8169_apply_firmware(tp);\n\n\trtl8168f_hw_phy_config(tp, phydev);\n\n\t \n\tr8168d_phy_param(phydev, 0x8b85, 0x0000, 0x4000);\n\n\t \n\tphy_write_paged(phydev, 0x0003, 0x09, 0xa20f);\n\n\t \n\tr8168d_phy_param(phydev, 0x8b55, 0xffff, 0x0000);\n\tr8168d_phy_param(phydev, 0x8b5e, 0xffff, 0x0000);\n\tr8168d_phy_param(phydev, 0x8b67, 0xffff, 0x0000);\n\tr8168d_phy_param(phydev, 0x8b70, 0xffff, 0x0000);\n\tr8168d_modify_extpage(phydev, 0x0078, 0x17, 0xffff, 0x0000);\n\tr8168d_modify_extpage(phydev, 0x0078, 0x19, 0xffff, 0x00aa);\n\n\t \n\tr8168d_phy_param(phydev, 0x8b79, 0xffff, 0xaa00);\n\n\t \n\tphy_write_paged(phydev, 0x0003, 0x01, 0x328a);\n\n\t \n\tr8168d_phy_param(phydev, 0x8b54, 0x0800, 0x0000);\n\tr8168d_phy_param(phydev, 0x8b5d, 0x0800, 0x0000);\n\tr8168d_phy_param(phydev, 0x8a7c, 0x0100, 0x0000);\n\tr8168d_phy_param(phydev, 0x8a7f, 0x0000, 0x0100);\n\tr8168d_phy_param(phydev, 0x8a82, 0x0100, 0x0000);\n\tr8168d_phy_param(phydev, 0x8a85, 0x0100, 0x0000);\n\tr8168d_phy_param(phydev, 0x8a88, 0x0100, 0x0000);\n\n\t \n\tr8168d_phy_param(phydev, 0x8b85, 0x0000, 0x8000);\n\n\t \n\tphy_write(phydev, 0x1f, 0x0003);\n\tphy_clear_bits(phydev, 0x19, BIT(0));\n\tphy_clear_bits(phydev, 0x10, BIT(10));\n\tphy_write(phydev, 0x1f, 0x0000);\n}\n\nstatic void rtl8168g_disable_aldps(struct phy_device *phydev)\n{\n\tphy_modify_paged(phydev, 0x0a43, 0x10, BIT(2), 0);\n}\n\nstatic void rtl8168g_enable_gphy_10m(struct phy_device *phydev)\n{\n\tphy_modify_paged(phydev, 0x0a44, 0x11, 0, BIT(11));\n}\n\nstatic void rtl8168g_phy_adjust_10m_aldps(struct phy_device *phydev)\n{\n\tphy_modify_paged(phydev, 0x0bcc, 0x14, BIT(8), 0);\n\tphy_modify_paged(phydev, 0x0a44, 0x11, 0, BIT(7) | BIT(6));\n\tr8168g_phy_param(phydev, 0x8084, 0x6000, 0x0000);\n\tphy_modify_paged(phydev, 0x0a43, 0x10, 0x0000, 0x1003);\n}\n\nstatic void rtl8168g_1_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t     struct phy_device *phydev)\n{\n\tint ret;\n\n\tr8169_apply_firmware(tp);\n\n\tret = phy_read_paged(phydev, 0x0a46, 0x10);\n\tif (ret & BIT(8))\n\t\tphy_modify_paged(phydev, 0x0bcc, 0x12, BIT(15), 0);\n\telse\n\t\tphy_modify_paged(phydev, 0x0bcc, 0x12, 0, BIT(15));\n\n\tret = phy_read_paged(phydev, 0x0a46, 0x13);\n\tif (ret & BIT(8))\n\t\tphy_modify_paged(phydev, 0x0c41, 0x15, 0, BIT(1));\n\telse\n\t\tphy_modify_paged(phydev, 0x0c41, 0x15, BIT(1), 0);\n\n\t \n\tphy_modify_paged(phydev, 0x0a44, 0x11, 0, BIT(3) | BIT(2));\n\n\trtl8168g_phy_adjust_10m_aldps(phydev);\n\n\t \n\tphy_modify_paged(phydev, 0x0a4b, 0x11, 0, BIT(2));\n\n\t \n\tr8168g_phy_param(phydev, 0x8012, 0x0000, 0x8000);\n\n\tphy_modify_paged(phydev, 0x0c42, 0x11, BIT(13), BIT(14));\n\n\t \n\tphy_write(phydev, 0x1f, 0x0bcd);\n\tphy_write(phydev, 0x14, 0x5065);\n\tphy_write(phydev, 0x14, 0xd065);\n\tphy_write(phydev, 0x1f, 0x0bc8);\n\tphy_write(phydev, 0x11, 0x5655);\n\tphy_write(phydev, 0x1f, 0x0bcd);\n\tphy_write(phydev, 0x14, 0x1065);\n\tphy_write(phydev, 0x14, 0x9065);\n\tphy_write(phydev, 0x14, 0x1065);\n\tphy_write(phydev, 0x1f, 0x0000);\n\n\trtl8168g_disable_aldps(phydev);\n\trtl8168g_config_eee_phy(phydev);\n}\n\nstatic void rtl8168g_2_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t     struct phy_device *phydev)\n{\n\tr8169_apply_firmware(tp);\n\trtl8168g_config_eee_phy(phydev);\n}\n\nstatic void rtl8168h_2_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t     struct phy_device *phydev)\n{\n\tu16 ioffset, rlen;\n\tu32 data;\n\n\tr8169_apply_firmware(tp);\n\n\t \n\tr8168g_phy_param(phydev, 0x808a, 0x003f, 0x000a);\n\n\t \n\tr8168g_phy_param(phydev, 0x0811, 0x0000, 0x0800);\n\tphy_modify_paged(phydev, 0x0a42, 0x16, 0x0000, 0x0002);\n\n\trtl8168g_enable_gphy_10m(phydev);\n\n\tioffset = rtl8168h_2_get_adc_bias_ioffset(tp);\n\tif (ioffset != 0xffff)\n\t\tphy_write_paged(phydev, 0x0bcf, 0x16, ioffset);\n\n\t \n\tdata = phy_read_paged(phydev, 0x0bcd, 0x16);\n\tdata &= 0x000f;\n\trlen = 0;\n\tif (data > 3)\n\t\trlen = data - 3;\n\tdata = rlen | (rlen << 4) | (rlen << 8) | (rlen << 12);\n\tphy_write_paged(phydev, 0x0bcd, 0x17, data);\n\n\t \n\tphy_modify_paged(phydev, 0x0a44, 0x11, BIT(7), 0);\n\n\t \n\tphy_modify_paged(phydev, 0x0a43, 0x10, BIT(0), 0);\n\n\trtl8168g_disable_aldps(phydev);\n\trtl8168g_config_eee_phy(phydev);\n}\n\nstatic void rtl8168ep_2_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t      struct phy_device *phydev)\n{\n\trtl8168g_phy_adjust_10m_aldps(phydev);\n\n\t \n\tr8168g_phy_param(phydev, 0x8012, 0x0000, 0x8000);\n\n\t \n\tphy_modify_paged(phydev, 0x0c42, 0x11, BIT(13), BIT(14));\n\n\t \n\tr8168g_phy_param(phydev, 0x80f3, 0xff00, 0x8b00);\n\tr8168g_phy_param(phydev, 0x80f0, 0xff00, 0x3a00);\n\tr8168g_phy_param(phydev, 0x80ef, 0xff00, 0x0500);\n\tr8168g_phy_param(phydev, 0x80f6, 0xff00, 0x6e00);\n\tr8168g_phy_param(phydev, 0x80ec, 0xff00, 0x6800);\n\tr8168g_phy_param(phydev, 0x80ed, 0xff00, 0x7c00);\n\tr8168g_phy_param(phydev, 0x80f2, 0xff00, 0xf400);\n\tr8168g_phy_param(phydev, 0x80f4, 0xff00, 0x8500);\n\tr8168g_phy_param(phydev, 0x8110, 0xff00, 0xa800);\n\tr8168g_phy_param(phydev, 0x810f, 0xff00, 0x1d00);\n\tr8168g_phy_param(phydev, 0x8111, 0xff00, 0xf500);\n\tr8168g_phy_param(phydev, 0x8113, 0xff00, 0x6100);\n\tr8168g_phy_param(phydev, 0x8115, 0xff00, 0x9200);\n\tr8168g_phy_param(phydev, 0x810e, 0xff00, 0x0400);\n\tr8168g_phy_param(phydev, 0x810c, 0xff00, 0x7c00);\n\tr8168g_phy_param(phydev, 0x810b, 0xff00, 0x5a00);\n\tr8168g_phy_param(phydev, 0x80d1, 0xff00, 0xff00);\n\tr8168g_phy_param(phydev, 0x80cd, 0xff00, 0x9e00);\n\tr8168g_phy_param(phydev, 0x80d3, 0xff00, 0x0e00);\n\tr8168g_phy_param(phydev, 0x80d5, 0xff00, 0xca00);\n\tr8168g_phy_param(phydev, 0x80d7, 0xff00, 0x8400);\n\n\t \n\tphy_write(phydev, 0x1f, 0x0bcd);\n\tphy_write(phydev, 0x14, 0x5065);\n\tphy_write(phydev, 0x14, 0xd065);\n\tphy_write(phydev, 0x1f, 0x0bc8);\n\tphy_write(phydev, 0x12, 0x00ed);\n\tphy_write(phydev, 0x1f, 0x0bcd);\n\tphy_write(phydev, 0x14, 0x1065);\n\tphy_write(phydev, 0x14, 0x9065);\n\tphy_write(phydev, 0x14, 0x1065);\n\tphy_write(phydev, 0x1f, 0x0000);\n\n\trtl8168g_disable_aldps(phydev);\n\trtl8168g_config_eee_phy(phydev);\n}\n\nstatic void rtl8117_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t  struct phy_device *phydev)\n{\n\t \n\tr8168g_phy_param(phydev, 0x808e, 0xff00, 0x4800);\n\tr8168g_phy_param(phydev, 0x8090, 0xff00, 0xcc00);\n\tr8168g_phy_param(phydev, 0x8092, 0xff00, 0xb000);\n\n\tr8168g_phy_param(phydev, 0x8088, 0xff00, 0x6000);\n\tr8168g_phy_param(phydev, 0x808b, 0x3f00, 0x0b00);\n\tr8168g_phy_param(phydev, 0x808d, 0x1f00, 0x0600);\n\tr8168g_phy_param(phydev, 0x808c, 0xff00, 0xb000);\n\tr8168g_phy_param(phydev, 0x80a0, 0xff00, 0x2800);\n\tr8168g_phy_param(phydev, 0x80a2, 0xff00, 0x5000);\n\tr8168g_phy_param(phydev, 0x809b, 0xf800, 0xb000);\n\tr8168g_phy_param(phydev, 0x809a, 0xff00, 0x4b00);\n\tr8168g_phy_param(phydev, 0x809d, 0x3f00, 0x0800);\n\tr8168g_phy_param(phydev, 0x80a1, 0xff00, 0x7000);\n\tr8168g_phy_param(phydev, 0x809f, 0x1f00, 0x0300);\n\tr8168g_phy_param(phydev, 0x809e, 0xff00, 0x8800);\n\tr8168g_phy_param(phydev, 0x80b2, 0xff00, 0x2200);\n\tr8168g_phy_param(phydev, 0x80ad, 0xf800, 0x9800);\n\tr8168g_phy_param(phydev, 0x80af, 0x3f00, 0x0800);\n\tr8168g_phy_param(phydev, 0x80b3, 0xff00, 0x6f00);\n\tr8168g_phy_param(phydev, 0x80b1, 0x1f00, 0x0300);\n\tr8168g_phy_param(phydev, 0x80b0, 0xff00, 0x9300);\n\n\tr8168g_phy_param(phydev, 0x8011, 0x0000, 0x0800);\n\n\trtl8168g_enable_gphy_10m(phydev);\n\n\tr8168g_phy_param(phydev, 0x8016, 0x0000, 0x0400);\n\n\trtl8168g_disable_aldps(phydev);\n\trtl8168h_config_eee_phy(phydev);\n}\n\nstatic void rtl8102e_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t   struct phy_device *phydev)\n{\n\tstatic const struct phy_reg phy_reg_init[] = {\n\t\t{ 0x1f, 0x0003 },\n\t\t{ 0x08, 0x441d },\n\t\t{ 0x01, 0x9100 },\n\t\t{ 0x1f, 0x0000 }\n\t};\n\n\tphy_set_bits(phydev, 0x11, BIT(12));\n\tphy_set_bits(phydev, 0x19, BIT(13));\n\tphy_set_bits(phydev, 0x10, BIT(15));\n\n\trtl_writephy_batch(phydev, phy_reg_init);\n}\n\nstatic void rtl8401_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t  struct phy_device *phydev)\n{\n\tphy_set_bits(phydev, 0x11, BIT(12));\n\tphy_modify_paged(phydev, 0x0002, 0x0f, 0x0000, 0x0003);\n}\n\nstatic void rtl8105e_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t   struct phy_device *phydev)\n{\n\t \n\tphy_write(phydev, 0x18, 0x0310);\n\tmsleep(100);\n\n\tr8169_apply_firmware(tp);\n\n\tphy_write_paged(phydev, 0x0005, 0x1a, 0x0000);\n\tphy_write_paged(phydev, 0x0004, 0x1c, 0x0000);\n\tphy_write_paged(phydev, 0x0001, 0x15, 0x7701);\n}\n\nstatic void rtl8402_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t  struct phy_device *phydev)\n{\n\t \n\tphy_write(phydev, 0x18, 0x0310);\n\tmsleep(20);\n\n\tr8169_apply_firmware(tp);\n\n\t \n\tphy_write(phydev, 0x1f, 0x0004);\n\tphy_write(phydev, 0x10, 0x401f);\n\tphy_write(phydev, 0x19, 0x7030);\n\tphy_write(phydev, 0x1f, 0x0000);\n}\n\nstatic void rtl8106e_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t   struct phy_device *phydev)\n{\n\tstatic const struct phy_reg phy_reg_init[] = {\n\t\t{ 0x1f, 0x0004 },\n\t\t{ 0x10, 0xc07f },\n\t\t{ 0x19, 0x7030 },\n\t\t{ 0x1f, 0x0000 }\n\t};\n\n\t \n\tphy_write(phydev, 0x18, 0x0310);\n\tmsleep(100);\n\n\tr8169_apply_firmware(tp);\n\n\trtl_writephy_batch(phydev, phy_reg_init);\n}\n\nstatic void rtl8125_legacy_force_mode(struct phy_device *phydev)\n{\n\tphy_modify_paged(phydev, 0xa5b, 0x12, BIT(15), 0);\n}\n\nstatic void rtl8125a_2_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t     struct phy_device *phydev)\n{\n\tint i;\n\n\tphy_modify_paged(phydev, 0xad4, 0x17, 0x0000, 0x0010);\n\tphy_modify_paged(phydev, 0xad1, 0x13, 0x03ff, 0x03ff);\n\tphy_modify_paged(phydev, 0xad3, 0x11, 0x003f, 0x0006);\n\tphy_modify_paged(phydev, 0xac0, 0x14, 0x1100, 0x0000);\n\tphy_modify_paged(phydev, 0xacc, 0x10, 0x0003, 0x0002);\n\tphy_modify_paged(phydev, 0xad4, 0x10, 0x00e7, 0x0044);\n\tphy_modify_paged(phydev, 0xac1, 0x12, 0x0080, 0x0000);\n\tphy_modify_paged(phydev, 0xac8, 0x10, 0x0300, 0x0000);\n\tphy_modify_paged(phydev, 0xac5, 0x17, 0x0007, 0x0002);\n\tphy_write_paged(phydev, 0xad4, 0x16, 0x00a8);\n\tphy_write_paged(phydev, 0xac5, 0x16, 0x01ff);\n\tphy_modify_paged(phydev, 0xac8, 0x15, 0x00f0, 0x0030);\n\n\tphy_write(phydev, 0x1f, 0x0b87);\n\tphy_write(phydev, 0x16, 0x80a2);\n\tphy_write(phydev, 0x17, 0x0153);\n\tphy_write(phydev, 0x16, 0x809c);\n\tphy_write(phydev, 0x17, 0x0153);\n\tphy_write(phydev, 0x1f, 0x0000);\n\n\tphy_write(phydev, 0x1f, 0x0a43);\n\tphy_write(phydev, 0x13, 0x81B3);\n\tphy_write(phydev, 0x14, 0x0043);\n\tphy_write(phydev, 0x14, 0x00A7);\n\tphy_write(phydev, 0x14, 0x00D6);\n\tphy_write(phydev, 0x14, 0x00EC);\n\tphy_write(phydev, 0x14, 0x00F6);\n\tphy_write(phydev, 0x14, 0x00FB);\n\tphy_write(phydev, 0x14, 0x00FD);\n\tphy_write(phydev, 0x14, 0x00FF);\n\tphy_write(phydev, 0x14, 0x00BB);\n\tphy_write(phydev, 0x14, 0x0058);\n\tphy_write(phydev, 0x14, 0x0029);\n\tphy_write(phydev, 0x14, 0x0013);\n\tphy_write(phydev, 0x14, 0x0009);\n\tphy_write(phydev, 0x14, 0x0004);\n\tphy_write(phydev, 0x14, 0x0002);\n\tfor (i = 0; i < 25; i++)\n\t\tphy_write(phydev, 0x14, 0x0000);\n\tphy_write(phydev, 0x1f, 0x0000);\n\n\tr8168g_phy_param(phydev, 0x8257, 0xffff, 0x020F);\n\tr8168g_phy_param(phydev, 0x80ea, 0xffff, 0x7843);\n\n\tr8169_apply_firmware(tp);\n\n\tphy_modify_paged(phydev, 0xd06, 0x14, 0x0000, 0x2000);\n\n\tr8168g_phy_param(phydev, 0x81a2, 0x0000, 0x0100);\n\n\tphy_modify_paged(phydev, 0xb54, 0x16, 0xff00, 0xdb00);\n\tphy_modify_paged(phydev, 0xa45, 0x12, 0x0001, 0x0000);\n\tphy_modify_paged(phydev, 0xa5d, 0x12, 0x0000, 0x0020);\n\tphy_modify_paged(phydev, 0xad4, 0x17, 0x0010, 0x0000);\n\tphy_modify_paged(phydev, 0xa86, 0x15, 0x0001, 0x0000);\n\trtl8168g_enable_gphy_10m(phydev);\n\n\trtl8125a_config_eee_phy(phydev);\n}\n\nstatic void rtl8125b_hw_phy_config(struct rtl8169_private *tp,\n\t\t\t\t   struct phy_device *phydev)\n{\n\tr8169_apply_firmware(tp);\n\n\tphy_modify_paged(phydev, 0xa44, 0x11, 0x0000, 0x0800);\n\tphy_modify_paged(phydev, 0xac4, 0x13, 0x00f0, 0x0090);\n\tphy_modify_paged(phydev, 0xad3, 0x10, 0x0003, 0x0001);\n\n\tphy_write(phydev, 0x1f, 0x0b87);\n\tphy_write(phydev, 0x16, 0x80f5);\n\tphy_write(phydev, 0x17, 0x760e);\n\tphy_write(phydev, 0x16, 0x8107);\n\tphy_write(phydev, 0x17, 0x360e);\n\tphy_write(phydev, 0x16, 0x8551);\n\tphy_modify(phydev, 0x17, 0xff00, 0x0800);\n\tphy_write(phydev, 0x1f, 0x0000);\n\n\tphy_modify_paged(phydev, 0xbf0, 0x10, 0xe000, 0xa000);\n\tphy_modify_paged(phydev, 0xbf4, 0x13, 0x0f00, 0x0300);\n\n\tr8168g_phy_param(phydev, 0x8044, 0xffff, 0x2417);\n\tr8168g_phy_param(phydev, 0x804a, 0xffff, 0x2417);\n\tr8168g_phy_param(phydev, 0x8050, 0xffff, 0x2417);\n\tr8168g_phy_param(phydev, 0x8056, 0xffff, 0x2417);\n\tr8168g_phy_param(phydev, 0x805c, 0xffff, 0x2417);\n\tr8168g_phy_param(phydev, 0x8062, 0xffff, 0x2417);\n\tr8168g_phy_param(phydev, 0x8068, 0xffff, 0x2417);\n\tr8168g_phy_param(phydev, 0x806e, 0xffff, 0x2417);\n\tr8168g_phy_param(phydev, 0x8074, 0xffff, 0x2417);\n\tr8168g_phy_param(phydev, 0x807a, 0xffff, 0x2417);\n\n\tphy_modify_paged(phydev, 0xa4c, 0x15, 0x0000, 0x0040);\n\tphy_modify_paged(phydev, 0xbf8, 0x12, 0xe000, 0xa000);\n\n\trtl8125_legacy_force_mode(phydev);\n\trtl8125b_config_eee_phy(phydev);\n}\n\nvoid r8169_hw_phy_config(struct rtl8169_private *tp, struct phy_device *phydev,\n\t\t\t enum mac_version ver)\n{\n\tstatic const rtl_phy_cfg_fct phy_configs[] = {\n\t\t \n\t\t[RTL_GIGA_MAC_VER_02] = rtl8169s_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_03] = rtl8169s_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_04] = rtl8169sb_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_05] = rtl8169scd_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_06] = rtl8169sce_hw_phy_config,\n\t\t \n\t\t[RTL_GIGA_MAC_VER_07] = rtl8102e_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_08] = rtl8102e_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_09] = rtl8102e_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_10] = NULL,\n\t\t[RTL_GIGA_MAC_VER_11] = rtl8168bb_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_14] = rtl8401_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_17] = rtl8168bef_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_18] = rtl8168cp_1_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_19] = rtl8168c_1_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_20] = rtl8168c_2_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_21] = rtl8168c_3_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_22] = rtl8168c_3_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_23] = rtl8168cp_2_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_24] = rtl8168cp_2_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_25] = rtl8168d_1_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_26] = rtl8168d_2_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_28] = rtl8168d_4_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_29] = rtl8105e_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_30] = rtl8105e_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_31] = NULL,\n\t\t[RTL_GIGA_MAC_VER_32] = rtl8168e_1_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_33] = rtl8168e_1_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_34] = rtl8168e_2_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_35] = rtl8168f_1_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_36] = rtl8168f_2_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_37] = rtl8402_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_38] = rtl8411_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_39] = rtl8106e_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_40] = rtl8168g_1_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_42] = rtl8168g_2_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_43] = rtl8168g_2_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_44] = rtl8168g_2_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_46] = rtl8168h_2_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_48] = rtl8168h_2_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_51] = rtl8168ep_2_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_52] = rtl8117_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_53] = rtl8117_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_61] = rtl8125a_2_hw_phy_config,\n\t\t[RTL_GIGA_MAC_VER_63] = rtl8125b_hw_phy_config,\n\t};\n\n\tif (phy_configs[ver])\n\t\tphy_configs[ver](tp, phydev);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}