{
  "module_name": "meth.h",
  "hash_id": "6f883941d987cf08e5c5efc5f1afb86fb819dd8a7309cefb925b7b15deef5d7f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/sgi/meth.h",
  "human_readable_source": " \n\n \n#define TX_RING_ENTRIES 64\t \n\n#define RX_RING_ENTRIES 16  \n \n#define TX_RING_BUFFER_SIZE\t(TX_RING_ENTRIES*sizeof(tx_packet))\n#define RX_BUFFER_SIZE 1546  \n#define METH_RX_BUFF_SIZE 4096\n#define METH_RX_HEAD 34  \n#define RX_BUFFER_OFFSET (sizeof(rx_status_vector)+2)  \n#define RX_BUCKET_SIZE 256\n\n \n\n \n\ntypedef struct tx_status_vector {\n\tu64\t\tsent:1;  \n\tu64\t\tpad0:34; \n\tu64\t\tflags:9;\t\t\t \n\tu64\t\tcol_retry_cnt:4;\t \n\tu64\t\tlen:16;\t\t\t\t \n} tx_status_vector;\n\n \ntypedef struct tx_packet_hdr {\n\tu64\t\tpad1:36;  \n\tu64\t\tcat_ptr3_valid:1,\t \n\t\t\tcat_ptr2_valid:1,\n\t\t\tcat_ptr1_valid:1;\n\tu64\t\ttx_int_flag:1;\t\t \n\tu64\t\tterm_dma_flag:1;\t \n\tu64\t\tdata_offset:7;\t\t \n\tu64\t\tdata_len:16;\t\t \n} tx_packet_hdr;\ntypedef union tx_cat_ptr {\n\tstruct {\n\t\tu64\t\tpad2:16;  \n\t\tu64\t\tlen:16;\t\t\t\t \n\t\tu64\t\tstart_addr:29;\t\t \n\t\tu64\t\tpad1:3;  \n\t} form;\n\tu64 raw;\n} tx_cat_ptr;\n\ntypedef struct tx_packet {\n\tunion {\n\t\ttx_packet_hdr header;\n\t\ttx_status_vector res;\n\t\tu64 raw;\n\t}header;\n\tunion {\n\t\ttx_cat_ptr cat_buf[3];\n\t\tchar dt[120];\n\t} data;\n} tx_packet;\n\ntypedef union rx_status_vector {\n\tvolatile struct {\n\t\tu64\t\tpad1:1; \n\t\tu64\t\tpad2:15; \n\t\tu64\t\tip_chk_sum:16;\n\t\tu64\t\tseq_num:5;\n\t\tu64\t\tmac_addr_match:1;\n\t\tu64\t\tmcast_addr_match:1;\n\t\tu64\t\tcarrier_event_seen:1;\n\t\tu64\t\tbad_packet:1;\n\t\tu64\t\tlong_event_seen:1;\n\t\tu64\t\tinvalid_preamble:1;\n\t\tu64\t\tbroadcast:1;\n\t\tu64\t\tmulticast:1;\n\t\tu64\t\tcrc_error:1;\n\t\tu64\t\thuh:1; \n\t\tu64\t\trx_code_violation:1;\n\t\tu64\t\trx_len:16;\n\t} parsed;\n\tvolatile u64 raw;\n} rx_status_vector;\n\ntypedef struct rx_packet {\n\trx_status_vector status;\n        u64 pad[3];  \n        u16 pad2;\n\tchar buf[METH_RX_BUFF_SIZE-sizeof(rx_status_vector)-3*sizeof(u64)-sizeof(u16)]; \n} rx_packet;\n\n#define TX_INFO_RPTR    0x00FF0000\n#define TX_INFO_WPTR    0x000000FF\n\n\t \n\n#define SGI_MAC_RESET\t\tBIT(0)\t \n#define METH_PHY_FDX\t\tBIT(1)  \n#define METH_PHY_LOOP\tBIT(2)  \n\t\t\t\t        \n#define METH_100MBIT\t\tBIT(3)  \n#define METH_PHY_MII\t\tBIT(4)  \n\t\t\t\t        \n\t\t\t\t        \n\n\t\t\t\t        \n#define METH_ACCEPT_MY 0\t\t\t \n#define METH_ACCEPT_MCAST 0x20\t \n#define METH_ACCEPT_AMCAST 0x40\t \n#define METH_PROMISC 0x60\t\t \n\n#define METH_PHY_LINK_FAIL\tBIT(7)  \n\n#define METH_MAC_IPG\t0x1ffff00\n\n#define METH_DEFAULT_IPG ((17<<15) | (11<<22) | (21<<8))\n\t\t\t\t\t\t     \n\t\t\t\t        \n\t\t\t\t        \n\n\t\t\t\t        \n\n\t\t\t\t        \n\n#define METH_REV_SHIFT 29        \n\t\t\t\t        \n\t\t\t\t        \n\n\n \n#define METH_RX_OFFSET_SHIFT 12  \n#define METH_RX_DEPTH_SHIFT 4  \n\n#define METH_DMA_TX_EN BIT(1)  \n#define METH_DMA_TX_INT_EN BIT(0)  \n#define METH_DMA_RX_EN BIT(15)  \n#define METH_DMA_RX_INT_EN BIT(9)  \n\n \n#define METH_RX_FIFO_WPTR(x)   (((x)>>16)&0xf)\n#define METH_RX_FIFO_RPTR(x)   (((x)>>8)&0xf)\n#define METH_RX_FIFO_DEPTH(x)  ((x)&0x1f)\n\n \n\n#define METH_RX_ST_VALID BIT(63)\n#define METH_RX_ST_RCV_CODE_VIOLATION BIT(16)\n#define METH_RX_ST_DRBL_NBL BIT(17)\n#define METH_RX_ST_CRC_ERR BIT(18)\n#define METH_RX_ST_MCAST_PKT BIT(19)\n#define METH_RX_ST_BCAST_PKT BIT(20)\n#define METH_RX_ST_INV_PREAMBLE_CTX BIT(21)\n#define METH_RX_ST_LONG_EVT_SEEN BIT(22)\n#define METH_RX_ST_BAD_PACKET BIT(23)\n#define METH_RX_ST_CARRIER_EVT_SEEN BIT(24)\n#define METH_RX_ST_MCAST_FILTER_MATCH BIT(25)\n#define METH_RX_ST_PHYS_ADDR_MATCH BIT(26)\n\n#define METH_RX_STATUS_ERRORS \\\n\t( \\\n\tMETH_RX_ST_RCV_CODE_VIOLATION| \\\n\tMETH_RX_ST_CRC_ERR| \\\n\tMETH_RX_ST_INV_PREAMBLE_CTX| \\\n\tMETH_RX_ST_LONG_EVT_SEEN| \\\n\tMETH_RX_ST_BAD_PACKET| \\\n\tMETH_RX_ST_CARRIER_EVT_SEEN \\\n\t)\n\t \n\t \n#define METH_INT_TX_EMPTY\tBIT(0)\t \n#define METH_INT_TX_PKT\t\tBIT(1)\t \n\t\t\t\t\t      \t \n#define METH_INT_TX_LINK_FAIL\tBIT(2)\t \n#define METH_INT_MEM_ERROR\tBIT(3)\t \n\t\t\t\t\t\t \n#define METH_INT_TX_ABORT\t\tBIT(4)\t \n#define METH_INT_RX_THRESHOLD\tBIT(5)\t \n#define METH_INT_RX_UNDERFLOW\tBIT(6)\t \n#define METH_INT_RX_OVERFLOW\t\tBIT(7)\t \n\n \t\t \n#define METH_INT_RX_RPTR_MASK 0x0000F00\t\t \n\n\t\t\t\t\t\t \n\n#define METH_INT_TX_RPTR_MASK\t0x1FF0000         \n\n#define METH_INT_RX_SEQ_MASK\t0x2E000000\t \n\n\t\t\t\t\t\t \n\n#define METH_INT_ERROR\t(METH_INT_TX_LINK_FAIL| \\\n\t\t\tMETH_INT_MEM_ERROR| \\\n\t\t\tMETH_INT_TX_ABORT| \\\n\t\t\tMETH_INT_RX_OVERFLOW| \\\n\t\t\tMETH_INT_RX_UNDERFLOW)\n\n#define METH_INT_MCAST_HASH\t\tBIT(30)  \n\n \n#define METH_TX_ST_DONE      BIT(63)  \n#define METH_TX_ST_SUCCESS   BIT(23)  \n#define METH_TX_ST_TOOLONG   BIT(24)  \n#define METH_TX_ST_UNDERRUN  BIT(25)  \n#define METH_TX_ST_EXCCOLL   BIT(26)  \n#define METH_TX_ST_DEFER     BIT(27)  \n#define METH_TX_ST_LATECOLL  BIT(28)  \n\n\n \n#define METH_TX_CMD_INT_EN BIT(24)  \n\n \n#define MDIO_BUSY    BIT(16)\n#define MDIO_DATA_MASK 0xFFFF\n \n#define PHY_QS6612X    0x0181441     \n#define PHY_ICS1889    0x0015F41     \n#define PHY_ICS1890    0x0015F42     \n#define PHY_DP83840    0x20005C0     \n\n#define ADVANCE_RX_PTR(x)  x=(x+1)&(RX_RING_ENTRIES-1)\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}