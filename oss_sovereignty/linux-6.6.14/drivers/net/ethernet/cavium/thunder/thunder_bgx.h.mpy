{
  "module_name": "thunder_bgx.h",
  "hash_id": "738322aecb4ea6cf67013546bbf7759f145fc4747262466f1c8602047065c329",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/cavium/thunder/thunder_bgx.h",
  "human_readable_source": " \n \n\n#ifndef THUNDER_BGX_H\n#define THUNDER_BGX_H\n\n \n#define\tPCI_DEVICE_ID_THUNDER_BGX\t\t0xA026\n#define\tPCI_DEVICE_ID_THUNDER_RGX\t\t0xA054\n\n \n#define PCI_SUBSYS_DEVID_88XX_BGX\t\t0xA126\n#define PCI_SUBSYS_DEVID_81XX_BGX\t\t0xA226\n#define PCI_SUBSYS_DEVID_81XX_RGX\t\t0xA254\n#define PCI_SUBSYS_DEVID_83XX_BGX\t\t0xA326\n\n#define    MAX_BGX_THUNDER\t\t\t8  \n#define    MAX_BGX_PER_CN88XX\t\t\t2\n#define    MAX_BGX_PER_CN81XX\t\t\t3  \n#define    MAX_BGX_PER_CN83XX\t\t\t4\n#define    MAX_LMAC_PER_BGX\t\t\t4\n#define    MAX_BGX_CHANS_PER_LMAC\t\t16\n#define    MAX_DMAC_PER_LMAC\t\t\t8\n#define    MAX_FRAME_SIZE\t\t\t9216\n#define    DEFAULT_PAUSE_TIME\t\t\t0xFFFF\n\n#define\t   BGX_ID_MASK\t\t\t\t0x3\n#define\t   LMAC_ID_MASK\t\t\t\t0x3\n\n#define    MAX_DMAC_PER_LMAC_TNS_BYPASS_MODE\t2\n\n \n#define BGX_CMRX_CFG\t\t\t0x00\n#define  CMR_PKT_TX_EN\t\t\t\tBIT_ULL(13)\n#define  CMR_PKT_RX_EN\t\t\t\tBIT_ULL(14)\n#define  CMR_EN\t\t\t\t\tBIT_ULL(15)\n#define BGX_CMR_GLOBAL_CFG\t\t0x08\n#define  CMR_GLOBAL_CFG_FCS_STRIP\t\tBIT_ULL(6)\n#define BGX_CMRX_RX_ID_MAP\t\t0x60\n#define BGX_CMRX_RX_STAT0\t\t0x70\n#define BGX_CMRX_RX_STAT1\t\t0x78\n#define BGX_CMRX_RX_STAT2\t\t0x80\n#define BGX_CMRX_RX_STAT3\t\t0x88\n#define BGX_CMRX_RX_STAT4\t\t0x90\n#define BGX_CMRX_RX_STAT5\t\t0x98\n#define BGX_CMRX_RX_STAT6\t\t0xA0\n#define BGX_CMRX_RX_STAT7\t\t0xA8\n#define BGX_CMRX_RX_STAT8\t\t0xB0\n#define BGX_CMRX_RX_STAT9\t\t0xB8\n#define BGX_CMRX_RX_STAT10\t\t0xC0\n#define BGX_CMRX_RX_BP_DROP\t\t0xC8\n#define BGX_CMRX_RX_DMAC_CTL\t\t0x0E8\n#define BGX_CMRX_RX_FIFO_LEN\t\t0x108\n#define BGX_CMR_RX_DMACX_CAM\t\t0x200\n#define  RX_DMACX_CAM_EN\t\t\tBIT_ULL(48)\n#define  RX_DMACX_CAM_LMACID(x)\t\t\t(((u64)x) << 49)\n#define  RX_DMAC_COUNT\t\t\t\t32\n#define BGX_CMR_RX_STEERING\t\t0x300\n#define  RX_TRAFFIC_STEER_RULE_COUNT\t\t8\n#define BGX_CMR_CHAN_MSK_AND\t\t0x450\n#define BGX_CMR_BIST_STATUS\t\t0x460\n#define BGX_CMR_RX_LMACS\t\t0x468\n#define BGX_CMRX_TX_FIFO_LEN\t\t0x518\n#define BGX_CMRX_TX_STAT0\t\t0x600\n#define BGX_CMRX_TX_STAT1\t\t0x608\n#define BGX_CMRX_TX_STAT2\t\t0x610\n#define BGX_CMRX_TX_STAT3\t\t0x618\n#define BGX_CMRX_TX_STAT4\t\t0x620\n#define BGX_CMRX_TX_STAT5\t\t0x628\n#define BGX_CMRX_TX_STAT6\t\t0x630\n#define BGX_CMRX_TX_STAT7\t\t0x638\n#define BGX_CMRX_TX_STAT8\t\t0x640\n#define BGX_CMRX_TX_STAT9\t\t0x648\n#define BGX_CMRX_TX_STAT10\t\t0x650\n#define BGX_CMRX_TX_STAT11\t\t0x658\n#define BGX_CMRX_TX_STAT12\t\t0x660\n#define BGX_CMRX_TX_STAT13\t\t0x668\n#define BGX_CMRX_TX_STAT14\t\t0x670\n#define BGX_CMRX_TX_STAT15\t\t0x678\n#define BGX_CMRX_TX_STAT16\t\t0x680\n#define BGX_CMRX_TX_STAT17\t\t0x688\n#define BGX_CMR_TX_LMACS\t\t0x1000\n\n#define BGX_SPUX_CONTROL1\t\t0x10000\n#define  SPU_CTL_LOW_POWER\t\t\tBIT_ULL(11)\n#define  SPU_CTL_LOOPBACK\t\t\tBIT_ULL(14)\n#define  SPU_CTL_RESET\t\t\t\tBIT_ULL(15)\n#define BGX_SPUX_STATUS1\t\t0x10008\n#define  SPU_STATUS1_RCV_LNK\t\t\tBIT_ULL(2)\n#define BGX_SPUX_STATUS2\t\t0x10020\n#define  SPU_STATUS2_RCVFLT\t\t\tBIT_ULL(10)\n#define BGX_SPUX_BX_STATUS\t\t0x10028\n#define  SPU_BX_STATUS_RX_ALIGN\t\t\tBIT_ULL(12)\n#define BGX_SPUX_BR_STATUS1\t\t0x10030\n#define  SPU_BR_STATUS_BLK_LOCK\t\t\tBIT_ULL(0)\n#define  SPU_BR_STATUS_RCV_LNK\t\t\tBIT_ULL(12)\n#define BGX_SPUX_BR_PMD_CRTL\t\t0x10068\n#define  SPU_PMD_CRTL_TRAIN_EN\t\t\tBIT_ULL(1)\n#define BGX_SPUX_BR_PMD_LP_CUP\t\t0x10078\n#define BGX_SPUX_BR_PMD_LD_CUP\t\t0x10088\n#define BGX_SPUX_BR_PMD_LD_REP\t\t0x10090\n#define BGX_SPUX_FEC_CONTROL\t\t0x100A0\n#define  SPU_FEC_CTL_FEC_EN\t\t\tBIT_ULL(0)\n#define  SPU_FEC_CTL_ERR_EN\t\t\tBIT_ULL(1)\n#define BGX_SPUX_AN_CONTROL\t\t0x100C8\n#define  SPU_AN_CTL_AN_EN\t\t\tBIT_ULL(12)\n#define  SPU_AN_CTL_XNP_EN\t\t\tBIT_ULL(13)\n#define BGX_SPUX_AN_ADV\t\t\t0x100D8\n#define BGX_SPUX_MISC_CONTROL\t\t0x10218\n#define  SPU_MISC_CTL_INTLV_RDISP\t\tBIT_ULL(10)\n#define  SPU_MISC_CTL_RX_DIS\t\t\tBIT_ULL(12)\n#define BGX_SPUX_INT\t\t\t0x10220\t \n#define BGX_SPUX_INT_W1S\t\t0x10228\n#define BGX_SPUX_INT_ENA_W1C\t\t0x10230\n#define BGX_SPUX_INT_ENA_W1S\t\t0x10238\n#define BGX_SPU_DBG_CONTROL\t\t0x10300\n#define  SPU_DBG_CTL_AN_ARB_LINK_CHK_EN\t\tBIT_ULL(18)\n#define  SPU_DBG_CTL_AN_NONCE_MCT_DIS\t\tBIT_ULL(29)\n\n#define BGX_SMUX_RX_INT\t\t\t0x20000\n#define BGX_SMUX_RX_FRM_CTL\t\t0x20020\n#define  BGX_PKT_RX_PTP_EN\t\t\tBIT_ULL(12)\n#define BGX_SMUX_RX_JABBER\t\t0x20030\n#define BGX_SMUX_RX_CTL\t\t\t0x20048\n#define  SMU_RX_CTL_STATUS\t\t\t(3ull << 0)\n#define BGX_SMUX_TX_APPEND\t\t0x20100\n#define  SMU_TX_APPEND_FCS_D\t\t\tBIT_ULL(2)\n#define BGX_SMUX_TX_PAUSE_PKT_TIME\t0x20110\n#define BGX_SMUX_TX_MIN_PKT\t\t0x20118\n#define BGX_SMUX_TX_PAUSE_PKT_INTERVAL\t0x20120\n#define BGX_SMUX_TX_PAUSE_ZERO\t\t0x20138\n#define BGX_SMUX_TX_INT\t\t\t0x20140\n#define BGX_SMUX_TX_CTL\t\t\t0x20178\n#define  SMU_TX_CTL_DIC_EN\t\t\tBIT_ULL(0)\n#define  SMU_TX_CTL_UNI_EN\t\t\tBIT_ULL(1)\n#define  SMU_TX_CTL_LNK_STATUS\t\t\t(3ull << 4)\n#define BGX_SMUX_TX_THRESH\t\t0x20180\n#define BGX_SMUX_CTL\t\t\t0x20200\n#define  SMU_CTL_RX_IDLE\t\t\tBIT_ULL(0)\n#define  SMU_CTL_TX_IDLE\t\t\tBIT_ULL(1)\n#define\tBGX_SMUX_CBFC_CTL\t\t0x20218\n#define\tRX_EN\t\t\t\t\tBIT_ULL(0)\n#define\tTX_EN\t\t\t\t\tBIT_ULL(1)\n#define\tBCK_EN\t\t\t\t\tBIT_ULL(2)\n#define\tDRP_EN\t\t\t\t\tBIT_ULL(3)\n\n#define BGX_GMP_PCS_MRX_CTL\t\t0x30000\n#define\t PCS_MRX_CTL_RST_AN\t\t\tBIT_ULL(9)\n#define\t PCS_MRX_CTL_PWR_DN\t\t\tBIT_ULL(11)\n#define\t PCS_MRX_CTL_AN_EN\t\t\tBIT_ULL(12)\n#define\t PCS_MRX_CTL_LOOPBACK1\t\t\tBIT_ULL(14)\n#define\t PCS_MRX_CTL_RESET\t\t\tBIT_ULL(15)\n#define BGX_GMP_PCS_MRX_STATUS\t\t0x30008\n#define\t PCS_MRX_STATUS_LINK\t\t\tBIT_ULL(2)\n#define\t PCS_MRX_STATUS_AN_CPT\t\t\tBIT_ULL(5)\n#define BGX_GMP_PCS_ANX_ADV\t\t0x30010\n#define BGX_GMP_PCS_ANX_AN_RESULTS\t0x30020\n#define BGX_GMP_PCS_LINKX_TIMER\t\t0x30040\n#define PCS_LINKX_TIMER_COUNT\t\t\t0x1E84\n#define BGX_GMP_PCS_SGM_AN_ADV\t\t0x30068\n#define BGX_GMP_PCS_MISCX_CTL\t\t0x30078\n#define  PCS_MISC_CTL_MODE\t\t\tBIT_ULL(8)\n#define  PCS_MISC_CTL_DISP_EN\t\t\tBIT_ULL(13)\n#define  PCS_MISC_CTL_GMX_ENO\t\t\tBIT_ULL(11)\n#define  PCS_MISC_CTL_SAMP_PT_MASK\t0x7Full\n#define BGX_GMP_GMI_PRTX_CFG\t\t0x38020\n#define  GMI_PORT_CFG_SPEED\t\t\tBIT_ULL(1)\n#define  GMI_PORT_CFG_DUPLEX\t\t\tBIT_ULL(2)\n#define  GMI_PORT_CFG_SLOT_TIME\t\t\tBIT_ULL(3)\n#define  GMI_PORT_CFG_SPEED_MSB\t\t\tBIT_ULL(8)\n#define  GMI_PORT_CFG_RX_IDLE\t\t\tBIT_ULL(12)\n#define  GMI_PORT_CFG_TX_IDLE\t\t\tBIT_ULL(13)\n#define BGX_GMP_GMI_RXX_FRM_CTL\t\t0x38028\n#define BGX_GMP_GMI_RXX_JABBER\t\t0x38038\n#define BGX_GMP_GMI_TXX_THRESH\t\t0x38210\n#define BGX_GMP_GMI_TXX_APPEND\t\t0x38218\n#define BGX_GMP_GMI_TXX_SLOT\t\t0x38220\n#define BGX_GMP_GMI_TXX_BURST\t\t0x38228\n#define BGX_GMP_GMI_TXX_MIN_PKT\t\t0x38240\n#define BGX_GMP_GMI_TXX_SGMII_CTL\t0x38300\n#define BGX_GMP_GMI_TXX_INT\t\t0x38500\n#define BGX_GMP_GMI_TXX_INT_W1S\t\t0x38508\n#define BGX_GMP_GMI_TXX_INT_ENA_W1C\t0x38510\n#define BGX_GMP_GMI_TXX_INT_ENA_W1S\t0x38518\n#define  GMI_TXX_INT_PTP_LOST\t\t\tBIT_ULL(4)\n#define  GMI_TXX_INT_LATE_COL\t\t\tBIT_ULL(3)\n#define  GMI_TXX_INT_XSDEF\t\t\tBIT_ULL(2)\n#define  GMI_TXX_INT_XSCOL\t\t\tBIT_ULL(1)\n#define  GMI_TXX_INT_UNDFLW\t\t\tBIT_ULL(0)\n\n#define BGX_MSIX_VEC_0_29_ADDR\t\t0x400000  \n#define BGX_MSIX_VEC_0_29_CTL\t\t0x400008\n#define BGX_MSIX_PBA_0\t\t\t0x4F0000\n\n \n#define BGX_MSIX_VECTORS\t30\n#define BGX_LMAC_VEC_OFFSET\t7\n#define BGX_MSIX_VEC_SHIFT\t4\n\n#define CMRX_INT\t\t0\n#define SPUX_INT\t\t1\n#define SMUX_RX_INT\t\t2\n#define SMUX_TX_INT\t\t3\n#define GMPX_PCS_INT\t\t4\n#define GMPX_GMI_RX_INT\t\t5\n#define GMPX_GMI_TX_INT\t\t6\n#define CMR_MEM_INT\t\t28\n#define SPU_MEM_INT\t\t29\n\n#define LMAC_INTR_LINK_UP\tBIT(0)\n#define LMAC_INTR_LINK_DOWN\tBIT(1)\n\n#define BGX_XCAST_BCAST_ACCEPT  BIT(0)\n#define BGX_XCAST_MCAST_ACCEPT  BIT(1)\n#define BGX_XCAST_MCAST_FILTER  BIT(2)\n\nvoid bgx_set_dmac_cam_filter(int node, int bgx_idx, int lmacid, u64 mac, u8 vf);\nvoid bgx_reset_xcast_mode(int node, int bgx_idx, int lmacid, u8 vf);\nvoid bgx_set_xcast_mode(int node, int bgx_idx, int lmacid, u8 mode);\nvoid octeon_mdiobus_force_mod_depencency(void);\nvoid bgx_lmac_rx_tx_enable(int node, int bgx_idx, int lmacid, bool enable);\nvoid bgx_add_dmac_addr(u64 dmac, int node, int bgx_idx, int lmac);\nunsigned bgx_get_map(int node);\nint bgx_get_lmac_count(int node, int bgx);\nconst u8 *bgx_get_lmac_mac(int node, int bgx_idx, int lmacid);\nvoid bgx_set_lmac_mac(int node, int bgx_idx, int lmacid, const u8 *mac);\nvoid bgx_get_lmac_link_state(int node, int bgx_idx, int lmacid, void *status);\nvoid bgx_lmac_internal_loopback(int node, int bgx_idx,\n\t\t\t\tint lmac_idx, bool enable);\nvoid bgx_config_timestamping(int node, int bgx_idx, int lmacid, bool enable);\nvoid bgx_lmac_get_pfc(int node, int bgx_idx, int lmacid, void *pause);\nvoid bgx_lmac_set_pfc(int node, int bgx_idx, int lmacid, void *pause);\n\nvoid xcv_init_hw(void);\nvoid xcv_setup_link(bool link_up, int link_speed);\n\nu64 bgx_get_rx_stats(int node, int bgx_idx, int lmac, int idx);\nu64 bgx_get_tx_stats(int node, int bgx_idx, int lmac, int idx);\n#define BGX_RX_STATS_COUNT 11\n#define BGX_TX_STATS_COUNT 18\n\nstruct bgx_stats {\n\tu64 rx_stats[BGX_RX_STATS_COUNT];\n\tu64 tx_stats[BGX_TX_STATS_COUNT];\n};\n\nenum LMAC_TYPE {\n\tBGX_MODE_SGMII = 0,  \n\tBGX_MODE_XAUI = 1,   \n\tBGX_MODE_DXAUI = 1,  \n\tBGX_MODE_RXAUI = 2,  \n\tBGX_MODE_XFI = 3,    \n\tBGX_MODE_XLAUI = 4,  \n\tBGX_MODE_10G_KR = 3, \n\tBGX_MODE_40G_KR = 4, \n\tBGX_MODE_RGMII = 5,\n\tBGX_MODE_QSGMII = 6,\n\tBGX_MODE_INVALID = 7,\n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}