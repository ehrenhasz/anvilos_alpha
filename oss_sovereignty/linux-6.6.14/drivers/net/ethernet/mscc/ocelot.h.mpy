{
  "module_name": "ocelot.h",
  "hash_id": "e5204658d5a4a54ce71aac27831d226c8055de07e2742006aa515acb9f847dd6",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/mscc/ocelot.h",
  "human_readable_source": " \n \n\n#ifndef _MSCC_OCELOT_H_\n#define _MSCC_OCELOT_H_\n\n#include <linux/bitops.h>\n#include <linux/etherdevice.h>\n#include <linux/if_vlan.h>\n#include <linux/net_tstamp.h>\n#include <linux/phylink.h>\n#include <linux/platform_device.h>\n#include <linux/regmap.h>\n\n#include <soc/mscc/ocelot_qsys.h>\n#include <soc/mscc/ocelot_sys.h>\n#include <soc/mscc/ocelot_dev.h>\n#include <soc/mscc/ocelot_ana.h>\n#include <soc/mscc/ocelot_ptp.h>\n#include <soc/mscc/ocelot_vcap.h>\n#include <soc/mscc/ocelot.h>\n#include \"ocelot_rew.h\"\n#include \"ocelot_qs.h\"\n\n#define OCELOT_STANDALONE_PVID 0\n#define OCELOT_BUFFER_CELL_SZ 60\n\n#define OCELOT_STATS_CHECK_DELAY (2 * HZ)\n\n#define OCELOT_PTP_QUEUE_SZ\t128\n\n#define OCELOT_JUMBO_MTU\t9000\n\nstruct ocelot_port_tc {\n\tbool block_shared;\n\tunsigned long offload_cnt;\n\tunsigned long ingress_mirred_id;\n\tunsigned long egress_mirred_id;\n\tunsigned long police_id;\n};\n\nstruct ocelot_port_private {\n\tstruct ocelot_port port;\n\tstruct net_device *dev;\n\tstruct phylink *phylink;\n\tstruct phylink_config phylink_config;\n\tstruct ocelot_port_tc tc;\n};\n\n \nstruct ocelot_pgid {\n\tunsigned long ports;\n\tint index;\n\trefcount_t refcount;\n\tstruct list_head list;\n};\n\nstruct ocelot_multicast {\n\tstruct list_head list;\n\tenum macaccess_entry_type entry_type;\n\tunsigned char addr[ETH_ALEN];\n\tu16 vid;\n\tu16 ports;\n\tstruct ocelot_pgid *pgid;\n};\n\nstatic inline void ocelot_reg_to_target_addr(struct ocelot *ocelot,\n\t\t\t\t\t     enum ocelot_reg reg,\n\t\t\t\t\t     enum ocelot_target *target,\n\t\t\t\t\t     u32 *addr)\n{\n\t*target = reg >> TARGET_OFFSET;\n\t*addr = ocelot->map[*target][reg & REG_MASK];\n}\n\nint ocelot_bridge_num_find(struct ocelot *ocelot,\n\t\t\t   const struct net_device *bridge);\n\nint ocelot_mact_learn(struct ocelot *ocelot, int port,\n\t\t      const unsigned char mac[ETH_ALEN],\n\t\t      unsigned int vid, enum macaccess_entry_type type);\nint ocelot_mact_forget(struct ocelot *ocelot,\n\t\t       const unsigned char mac[ETH_ALEN], unsigned int vid);\nstruct net_device *ocelot_port_to_netdev(struct ocelot *ocelot, int port);\nint ocelot_netdev_to_port(struct net_device *dev);\n\nint ocelot_probe_port(struct ocelot *ocelot, int port, struct regmap *target,\n\t\t      struct device_node *portnp);\nvoid ocelot_release_port(struct ocelot_port *ocelot_port);\nint ocelot_port_devlink_init(struct ocelot *ocelot, int port,\n\t\t\t     enum devlink_port_flavour flavour);\nvoid ocelot_port_devlink_teardown(struct ocelot *ocelot, int port);\n\nint ocelot_trap_add(struct ocelot *ocelot, int port,\n\t\t    unsigned long cookie, bool take_ts,\n\t\t    void (*populate)(struct ocelot_vcap_filter *f));\nint ocelot_trap_del(struct ocelot *ocelot, int port, unsigned long cookie);\n\nstruct ocelot_mirror *ocelot_mirror_get(struct ocelot *ocelot, int to,\n\t\t\t\t\tstruct netlink_ext_ack *extack);\nvoid ocelot_mirror_put(struct ocelot *ocelot);\n\nint ocelot_stats_init(struct ocelot *ocelot);\nvoid ocelot_stats_deinit(struct ocelot *ocelot);\n\nint ocelot_mm_init(struct ocelot *ocelot);\nvoid ocelot_port_change_fp(struct ocelot *ocelot, int port,\n\t\t\t   unsigned long preemptible_tcs);\nvoid ocelot_port_update_active_preemptible_tcs(struct ocelot *ocelot, int port);\n\nextern struct notifier_block ocelot_netdevice_nb;\nextern struct notifier_block ocelot_switchdev_nb;\nextern struct notifier_block ocelot_switchdev_blocking_nb;\nextern const struct devlink_ops ocelot_devlink_ops;\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}