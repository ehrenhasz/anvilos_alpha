{
  "module_name": "lan966x_goto.c",
  "hash_id": "8aca6f4526335fb09c044e394b367afbc8ce2994cd1eaa6e7650d75ae4fe4275",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/microchip/lan966x/lan966x_goto.c",
  "human_readable_source": "\n\n#include \"lan966x_main.h\"\n#include \"vcap_api_client.h\"\n\nint lan966x_goto_port_add(struct lan966x_port *port,\n\t\t\t  int from_cid, int to_cid,\n\t\t\t  unsigned long goto_id,\n\t\t\t  struct netlink_ext_ack *extack)\n{\n\tstruct lan966x *lan966x = port->lan966x;\n\tint err;\n\n\terr = vcap_enable_lookups(lan966x->vcap_ctrl, port->dev,\n\t\t\t\t  from_cid, to_cid, goto_id,\n\t\t\t\t  true);\n\tif (err == -EFAULT) {\n\t\tNL_SET_ERR_MSG_MOD(extack, \"Unsupported goto chain\");\n\t\treturn -EOPNOTSUPP;\n\t}\n\n\tif (err == -EADDRINUSE) {\n\t\tNL_SET_ERR_MSG_MOD(extack, \"VCAP already enabled\");\n\t\treturn -EOPNOTSUPP;\n\t}\n\n\tif (err) {\n\t\tNL_SET_ERR_MSG_MOD(extack, \"Could not enable VCAP lookups\");\n\t\treturn err;\n\t}\n\n\treturn 0;\n}\n\nint lan966x_goto_port_del(struct lan966x_port *port,\n\t\t\t  unsigned long goto_id,\n\t\t\t  struct netlink_ext_ack *extack)\n{\n\tstruct lan966x *lan966x = port->lan966x;\n\tint err;\n\n\terr = vcap_enable_lookups(lan966x->vcap_ctrl, port->dev, 0, 0,\n\t\t\t\t  goto_id, false);\n\tif (err) {\n\t\tNL_SET_ERR_MSG_MOD(extack, \"Could not disable VCAP lookups\");\n\t\treturn err;\n\t}\n\n\treturn 0;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}