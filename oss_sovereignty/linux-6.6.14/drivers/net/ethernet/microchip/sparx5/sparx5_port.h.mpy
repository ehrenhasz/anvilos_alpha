{
  "module_name": "sparx5_port.h",
  "hash_id": "ab07e3b0df277d4b9090fca020a8f22806e2891b41f8f4425ff81b54f9fcad28",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/microchip/sparx5/sparx5_port.h",
  "human_readable_source": " \n \n\n#ifndef __SPARX5_PORT_H__\n#define __SPARX5_PORT_H__\n\n#include \"sparx5_main.h\"\n\n \n#define SPARX5_PORT_REW_TAG_CTRL_CLASSIFIED 0\n#define SPARX5_PORT_REW_TAG_CTRL_DEFAULT 1\n#define SPARX5_PORT_REW_TAG_CTRL_MAPPED  2\n\n \n#define SPARX5_PORT_REW_DSCP_NONE 0\n#define SPARX5_PORT_REW_DSCP_IF_ZERO 1\n#define SPARX5_PORT_REW_DSCP_SELECTED  2\n#define SPARX5_PORT_REW_DSCP_ALL 3\n\nstatic inline bool sparx5_port_is_2g5(int portno)\n{\n\treturn portno >= 16 && portno <= 47;\n}\n\nstatic inline bool sparx5_port_is_5g(int portno)\n{\n\treturn portno <= 11 || portno == 64;\n}\n\nstatic inline bool sparx5_port_is_10g(int portno)\n{\n\treturn (portno >= 12 && portno <= 15) || (portno >= 48 && portno <= 55);\n}\n\nstatic inline bool sparx5_port_is_25g(int portno)\n{\n\treturn portno >= 56 && portno <= 63;\n}\n\nstatic inline u32 sparx5_to_high_dev(int port)\n{\n\tif (sparx5_port_is_5g(port))\n\t\treturn TARGET_DEV5G;\n\tif (sparx5_port_is_10g(port))\n\t\treturn TARGET_DEV10G;\n\treturn TARGET_DEV25G;\n}\n\nstatic inline u32 sparx5_to_pcs_dev(int port)\n{\n\tif (sparx5_port_is_5g(port))\n\t\treturn TARGET_PCS5G_BR;\n\tif (sparx5_port_is_10g(port))\n\t\treturn TARGET_PCS10G_BR;\n\treturn TARGET_PCS25G_BR;\n}\n\nstatic inline int sparx5_port_dev_index(int port)\n{\n\tif (sparx5_port_is_2g5(port))\n\t\treturn port;\n\tif (sparx5_port_is_5g(port))\n\t\treturn (port <= 11 ? port : 12);\n\tif (sparx5_port_is_10g(port))\n\t\treturn (port >= 12 && port <= 15) ?\n\t\t\tport - 12 : port - 44;\n\treturn (port - 56);\n}\n\nint sparx5_port_init(struct sparx5 *sparx5,\n\t\t     struct sparx5_port *spx5_port,\n\t\t     struct sparx5_port_config *conf);\n\nint sparx5_port_config(struct sparx5 *sparx5,\n\t\t       struct sparx5_port *spx5_port,\n\t\t       struct sparx5_port_config *conf);\n\nint sparx5_port_pcs_set(struct sparx5 *sparx5,\n\t\t\tstruct sparx5_port *port,\n\t\t\tstruct sparx5_port_config *conf);\n\nint sparx5_serdes_set(struct sparx5 *sparx5,\n\t\t      struct sparx5_port *spx5_port,\n\t\t      struct sparx5_port_config *conf);\n\nstruct sparx5_port_status {\n\tbool link;\n\tbool link_down;\n\tint  speed;\n\tbool an_complete;\n\tint  duplex;\n\tint  pause;\n};\n\nint sparx5_get_port_status(struct sparx5 *sparx5,\n\t\t\t   struct sparx5_port *port,\n\t\t\t   struct sparx5_port_status *status);\n\nvoid sparx5_port_enable(struct sparx5_port *port, bool enable);\nint sparx5_port_fwd_urg(struct sparx5 *sparx5, u32 speed);\n\n#define SPARX5_PORT_QOS_PCP_COUNT 8\n#define SPARX5_PORT_QOS_DEI_COUNT 8\n#define SPARX5_PORT_QOS_PCP_DEI_COUNT \\\n\t(SPARX5_PORT_QOS_PCP_COUNT + SPARX5_PORT_QOS_DEI_COUNT)\nstruct sparx5_port_qos_pcp_map {\n\tu8 map[SPARX5_PORT_QOS_PCP_DEI_COUNT];\n};\n\nstruct sparx5_port_qos_pcp_rewr_map {\n\tu16 map[SPX5_PRIOS];\n};\n\n#define SPARX5_PORT_QOS_DP_NUM 4\nstruct sparx5_port_qos_dscp_rewr_map {\n\tu16 map[SPX5_PRIOS * SPARX5_PORT_QOS_DP_NUM];\n};\n\n#define SPARX5_PORT_QOS_DSCP_COUNT 64\nstruct sparx5_port_qos_dscp_map {\n\tu8 map[SPARX5_PORT_QOS_DSCP_COUNT];\n};\n\nstruct sparx5_port_qos_pcp {\n\tstruct sparx5_port_qos_pcp_map map;\n\tbool qos_enable;\n\tbool dp_enable;\n};\n\nstruct sparx5_port_qos_pcp_rewr {\n\tstruct sparx5_port_qos_pcp_rewr_map map;\n\tbool enable;\n};\n\nstruct sparx5_port_qos_dscp {\n\tstruct sparx5_port_qos_dscp_map map;\n\tbool qos_enable;\n\tbool dp_enable;\n};\n\nstruct sparx5_port_qos_dscp_rewr {\n\tstruct sparx5_port_qos_dscp_rewr_map map;\n\tbool enable;\n};\n\nstruct sparx5_port_qos {\n\tstruct sparx5_port_qos_pcp pcp;\n\tstruct sparx5_port_qos_pcp_rewr pcp_rewr;\n\tstruct sparx5_port_qos_dscp dscp;\n\tstruct sparx5_port_qos_dscp_rewr dscp_rewr;\n\tu8 default_prio;\n};\n\nint sparx5_port_qos_set(struct sparx5_port *port, struct sparx5_port_qos *qos);\n\nint sparx5_port_qos_pcp_set(const struct sparx5_port *port,\n\t\t\t    struct sparx5_port_qos_pcp *qos);\n\nint sparx5_port_qos_pcp_rewr_set(const struct sparx5_port *port,\n\t\t\t\t struct sparx5_port_qos_pcp_rewr *qos);\n\nint sparx5_port_qos_dscp_set(const struct sparx5_port *port,\n\t\t\t     struct sparx5_port_qos_dscp *qos);\n\nvoid sparx5_port_qos_dscp_rewr_mode_set(const struct sparx5_port *port,\n\t\t\t\t\tint mode);\n\nint sparx5_port_qos_dscp_rewr_set(const struct sparx5_port *port,\n\t\t\t\t  struct sparx5_port_qos_dscp_rewr *qos);\n\nint sparx5_port_qos_default_set(const struct sparx5_port *port,\n\t\t\t\tconst struct sparx5_port_qos *qos);\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}