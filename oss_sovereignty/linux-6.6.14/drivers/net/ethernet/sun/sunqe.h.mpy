{
  "module_name": "sunqe.h",
  "hash_id": "9b7fb10b021fc5515f0c407466e376be844d77266e09f6a9075757eb0bb3a244",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/sun/sunqe.h",
  "human_readable_source": " \n \n\n#ifndef _SUNQE_H\n#define _SUNQE_H\n\n \n#define GLOB_CTRL\t0x00UL\t\t \n#define GLOB_STAT\t0x04UL\t\t \n#define GLOB_PSIZE\t0x08UL\t\t \n#define GLOB_MSIZE\t0x0cUL\t\t \n#define GLOB_RSIZE\t0x10UL\t\t \n#define GLOB_TSIZE\t0x14UL\t\t \n#define GLOB_REG_SIZE\t0x18UL\n\n#define GLOB_CTRL_MMODE       0x40000000  \n#define GLOB_CTRL_BMODE       0x10000000  \n#define GLOB_CTRL_EPAR        0x00000020  \n#define GLOB_CTRL_ACNTRL      0x00000018  \n#define GLOB_CTRL_B64         0x00000004  \n#define GLOB_CTRL_B32         0x00000002  \n#define GLOB_CTRL_B16         0x00000000  \n#define GLOB_CTRL_RESET       0x00000001  \n\n#define GLOB_STAT_TX          0x00000008  \n#define GLOB_STAT_RX          0x00000004  \n#define GLOB_STAT_BM          0x00000002  \n#define GLOB_STAT_ER          0x00000001  \n\n#define GLOB_PSIZE_2048       0x00        \n#define GLOB_PSIZE_4096       0x01        \n#define GLOB_PSIZE_6144       0x10        \n#define GLOB_PSIZE_8192       0x11        \n\n \n#define GLOB_STAT_PER_QE(status, channel) (((status) >> ((channel) * 4)) & 0xf)\n\n \n#define CREG_CTRL\t0x00UL\t \n#define CREG_STAT\t0x04UL\t \n#define CREG_RXDS\t0x08UL\t \n#define CREG_TXDS\t0x0cUL\t \n#define CREG_RIMASK\t0x10UL\t \n#define CREG_TIMASK\t0x14UL\t \n#define CREG_QMASK\t0x18UL\t \n#define CREG_MMASK\t0x1cUL\t \n#define CREG_RXWBUFPTR\t0x20UL\t \n#define CREG_RXRBUFPTR\t0x24UL\t \n#define CREG_TXWBUFPTR\t0x28UL\t \n#define CREG_TXRBUFPTR\t0x2cUL\t \n#define CREG_CCNT\t0x30UL\t \n#define CREG_PIPG\t0x34UL\t \n#define CREG_REG_SIZE\t0x38UL\n\n#define CREG_CTRL_RXOFF       0x00000004   \n#define CREG_CTRL_RESET       0x00000002   \n#define CREG_CTRL_TWAKEUP     0x00000001   \n\n#define CREG_STAT_EDEFER      0x10000000   \n#define CREG_STAT_CLOSS       0x08000000   \n#define CREG_STAT_ERETRIES    0x04000000   \n#define CREG_STAT_LCOLL       0x02000000   \n#define CREG_STAT_FUFLOW      0x01000000   \n#define CREG_STAT_JERROR      0x00800000   \n#define CREG_STAT_BERROR      0x00400000   \n#define CREG_STAT_TXIRQ       0x00200000   \n#define CREG_STAT_CCOFLOW     0x00100000   \n#define CREG_STAT_TXDERROR    0x00080000   \n#define CREG_STAT_TXLERR      0x00040000   \n#define CREG_STAT_TXPERR      0x00020000   \n#define CREG_STAT_TXSERR      0x00010000   \n#define CREG_STAT_RCCOFLOW    0x00001000   \n#define CREG_STAT_RUOFLOW     0x00000800   \n#define CREG_STAT_MCOFLOW     0x00000400   \n#define CREG_STAT_RXFOFLOW    0x00000200   \n#define CREG_STAT_RLCOLL      0x00000100   \n#define CREG_STAT_FCOFLOW     0x00000080   \n#define CREG_STAT_CECOFLOW    0x00000040   \n#define CREG_STAT_RXIRQ       0x00000020   \n#define CREG_STAT_RXDROP      0x00000010   \n#define CREG_STAT_RXSMALL     0x00000008   \n#define CREG_STAT_RXLERR      0x00000004   \n#define CREG_STAT_RXPERR      0x00000002   \n#define CREG_STAT_RXSERR      0x00000001   \n\n#define CREG_STAT_ERRORS      (CREG_STAT_EDEFER|CREG_STAT_CLOSS|CREG_STAT_ERETRIES|     \\\n\t\t\t       CREG_STAT_LCOLL|CREG_STAT_FUFLOW|CREG_STAT_JERROR|       \\\n\t\t\t       CREG_STAT_BERROR|CREG_STAT_CCOFLOW|CREG_STAT_TXDERROR|   \\\n\t\t\t       CREG_STAT_TXLERR|CREG_STAT_TXPERR|CREG_STAT_TXSERR|      \\\n\t\t\t       CREG_STAT_RCCOFLOW|CREG_STAT_RUOFLOW|CREG_STAT_MCOFLOW| \\\n\t\t\t       CREG_STAT_RXFOFLOW|CREG_STAT_RLCOLL|CREG_STAT_FCOFLOW|   \\\n\t\t\t       CREG_STAT_CECOFLOW|CREG_STAT_RXDROP|CREG_STAT_RXSMALL|   \\\n\t\t\t       CREG_STAT_RXLERR|CREG_STAT_RXPERR|CREG_STAT_RXSERR)\n\n#define CREG_QMASK_COFLOW     0x00100000   \n#define CREG_QMASK_TXDERROR   0x00080000   \n#define CREG_QMASK_TXLERR     0x00040000   \n#define CREG_QMASK_TXPERR     0x00020000   \n#define CREG_QMASK_TXSERR     0x00010000   \n#define CREG_QMASK_RXDROP     0x00000010   \n#define CREG_QMASK_RXBERROR   0x00000008   \n#define CREG_QMASK_RXLEERR    0x00000004   \n#define CREG_QMASK_RXPERR     0x00000002   \n#define CREG_QMASK_RXSERR     0x00000001   \n\n#define CREG_MMASK_EDEFER     0x10000000   \n#define CREG_MMASK_CLOSS      0x08000000   \n#define CREG_MMASK_ERETRY     0x04000000   \n#define CREG_MMASK_LCOLL      0x02000000   \n#define CREG_MMASK_UFLOW      0x01000000   \n#define CREG_MMASK_JABBER     0x00800000   \n#define CREG_MMASK_BABBLE     0x00400000   \n#define CREG_MMASK_OFLOW      0x00000800   \n#define CREG_MMASK_RXCOLL     0x00000400   \n#define CREG_MMASK_RPKT       0x00000200   \n#define CREG_MMASK_MPKT       0x00000100   \n\n#define CREG_PIPG_TENAB       0x00000020   \n#define CREG_PIPG_MMODE       0x00000010   \n#define CREG_PIPG_WMASK       0x0000000f   \n\n \n#define MREGS_RXFIFO\t0x00UL\t \n#define MREGS_TXFIFO\t0x01UL\t \n#define MREGS_TXFCNTL\t0x02UL\t \n#define MREGS_TXFSTAT\t0x03UL\t \n#define MREGS_TXRCNT\t0x04UL\t \n#define MREGS_RXFCNTL\t0x05UL\t \n#define MREGS_RXFSTAT\t0x06UL\t \n#define MREGS_FFCNT\t0x07UL\t \n#define MREGS_IREG\t0x08UL\t \n#define MREGS_IMASK\t0x09UL\t \n#define MREGS_POLL\t0x0aUL\t \n#define MREGS_BCONFIG\t0x0bUL\t \n#define MREGS_FCONFIG\t0x0cUL\t \n#define MREGS_MCONFIG\t0x0dUL\t \n#define MREGS_PLSCONFIG\t0x0eUL\t \n#define MREGS_PHYCONFIG\t0x0fUL\t \n#define MREGS_CHIPID1\t0x10UL\t \n#define MREGS_CHIPID2\t0x11UL\t \n#define MREGS_IACONFIG\t0x12UL\t \n\t \n#define MREGS_FILTER\t0x14UL\t \n#define MREGS_ETHADDR\t0x15UL\t \n\t \n\t \n#define MREGS_MPCNT\t0x18UL\t \n\t \n#define MREGS_RPCNT\t0x1aUL\t \n#define MREGS_RCCNT\t0x1bUL\t \n\t \n#define MREGS_UTEST\t0x1dUL\t \n#define MREGS_RTEST1\t0x1eUL\t \n#define MREGS_RTEST2\t0x1fUL\t \n#define MREGS_REG_SIZE\t0x20UL\n\n#define MREGS_TXFCNTL_DRETRY        0x80  \n#define MREGS_TXFCNTL_DFCS          0x08  \n#define MREGS_TXFCNTL_AUTOPAD       0x01  \n\n#define MREGS_TXFSTAT_VALID         0x80  \n#define MREGS_TXFSTAT_UNDERFLOW     0x40  \n#define MREGS_TXFSTAT_LCOLL         0x20  \n#define MREGS_TXFSTAT_MRETRY        0x10  \n#define MREGS_TXFSTAT_ORETRY        0x08  \n#define MREGS_TXFSTAT_PDEFER        0x04  \n#define MREGS_TXFSTAT_CLOSS         0x02  \n#define MREGS_TXFSTAT_RERROR        0x01  \n\n#define MREGS_TXRCNT_EDEFER         0x80  \n#define MREGS_TXRCNT_CMASK          0x0f  \n\n#define MREGS_RXFCNTL_LOWLAT        0x08  \n#define MREGS_RXFCNTL_AREJECT       0x04  \n#define MREGS_RXFCNTL_AUTOSTRIP     0x01  \n\n#define MREGS_RXFSTAT_OVERFLOW      0x80  \n#define MREGS_RXFSTAT_LCOLL         0x40  \n#define MREGS_RXFSTAT_FERROR        0x20  \n#define MREGS_RXFSTAT_FCSERROR      0x10  \n#define MREGS_RXFSTAT_RBCNT         0x0f  \n\n#define MREGS_FFCNT_RX              0xf0  \n#define MREGS_FFCNT_TX              0x0f  \n\n#define MREGS_IREG_JABBER           0x80  \n#define MREGS_IREG_BABBLE           0x40  \n#define MREGS_IREG_COLL             0x20  \n#define MREGS_IREG_RCCO             0x10  \n#define MREGS_IREG_RPKTCO           0x08  \n#define MREGS_IREG_MPKTCO           0x04  \n#define MREGS_IREG_RXIRQ            0x02  \n#define MREGS_IREG_TXIRQ            0x01  \n\n#define MREGS_IMASK_BABBLE          0x40  \n#define MREGS_IMASK_COLL            0x20  \n#define MREGS_IMASK_MPKTCO          0x04  \n#define MREGS_IMASK_RXIRQ           0x02  \n#define MREGS_IMASK_TXIRQ           0x01  \n\n#define MREGS_POLL_TXVALID          0x80  \n#define MREGS_POLL_TDTR             0x40  \n#define MREGS_POLL_RDTR             0x20  \n\n#define MREGS_BCONFIG_BSWAP         0x40  \n#define MREGS_BCONFIG_4TS           0x00  \n#define MREGS_BCONFIG_16TS          0x10  \n#define MREGS_BCONFIG_64TS          0x20  \n#define MREGS_BCONFIG_112TS         0x30  \n#define MREGS_BCONFIG_RESET         0x01  \n\n#define MREGS_FCONFIG_TXF8          0x00  \n#define MREGS_FCONFIG_TXF32         0x80  \n#define MREGS_FCONFIG_TXF16         0x40  \n#define MREGS_FCONFIG_RXF64         0x20  \n#define MREGS_FCONFIG_RXF32         0x10  \n#define MREGS_FCONFIG_RXF16         0x00  \n#define MREGS_FCONFIG_TFWU          0x08  \n#define MREGS_FCONFIG_RFWU          0x04  \n#define MREGS_FCONFIG_TBENAB        0x02  \n#define MREGS_FCONFIG_RBENAB        0x01  \n\n#define MREGS_MCONFIG_PROMISC       0x80  \n#define MREGS_MCONFIG_TPDDISAB      0x40  \n#define MREGS_MCONFIG_MBAENAB       0x20  \n#define MREGS_MCONFIG_RPADISAB      0x08  \n#define MREGS_MCONFIG_RBDISAB       0x04  \n#define MREGS_MCONFIG_TXENAB        0x02  \n#define MREGS_MCONFIG_RXENAB        0x01  \n\n#define MREGS_PLSCONFIG_TXMS        0x08  \n#define MREGS_PLSCONFIG_GPSI        0x06  \n#define MREGS_PLSCONFIG_DAI         0x04  \n#define MREGS_PLSCONFIG_TP          0x02  \n#define MREGS_PLSCONFIG_AUI         0x00  \n#define MREGS_PLSCONFIG_IOENAB      0x01  \n\n#define MREGS_PHYCONFIG_LSTAT       0x80  \n#define MREGS_PHYCONFIG_LTESTDIS    0x40  \n#define MREGS_PHYCONFIG_RXPOLARITY  0x20  \n#define MREGS_PHYCONFIG_APCDISAB    0x10  \n#define MREGS_PHYCONFIG_LTENAB      0x08  \n#define MREGS_PHYCONFIG_AUTO        0x04  \n#define MREGS_PHYCONFIG_RWU         0x02  \n#define MREGS_PHYCONFIG_AW          0x01  \n\n#define MREGS_IACONFIG_ACHNGE       0x80  \n#define MREGS_IACONFIG_PARESET      0x04  \n#define MREGS_IACONFIG_LARESET      0x02  \n\n#define MREGS_UTEST_RTRENAB         0x80  \n#define MREGS_UTEST_RTRDISAB        0x40  \n#define MREGS_UTEST_RPACCEPT        0x20  \n#define MREGS_UTEST_FCOLL           0x10  \n#define MREGS_UTEST_FCSENAB         0x08  \n#define MREGS_UTEST_INTLOOPM        0x06  \n#define MREGS_UTEST_INTLOOP         0x04  \n#define MREGS_UTEST_EXTLOOP         0x02  \n#define MREGS_UTEST_NOLOOP          0x00  \n\nstruct qe_rxd {\n\tu32 rx_flags;\n\tu32 rx_addr;\n};\n\n#define RXD_OWN      0x80000000  \n#define RXD_UPDATE   0x10000000  \n#define RXD_LENGTH   0x000007ff  \n\nstruct qe_txd {\n\tu32 tx_flags;\n\tu32 tx_addr;\n};\n\n#define TXD_OWN      0x80000000  \n#define TXD_SOP      0x40000000  \n#define TXD_EOP      0x20000000  \n#define TXD_UPDATE   0x10000000  \n#define TXD_LENGTH   0x000007ff  \n\n#define TX_RING_MAXSIZE   256\n#define RX_RING_MAXSIZE   256\n\n#define TX_RING_SIZE      16\n#define RX_RING_SIZE      16\n\n#define NEXT_RX(num)       (((num) + 1) & (RX_RING_MAXSIZE - 1))\n#define NEXT_TX(num)       (((num) + 1) & (TX_RING_MAXSIZE - 1))\n#define PREV_RX(num)       (((num) - 1) & (RX_RING_MAXSIZE - 1))\n#define PREV_TX(num)       (((num) - 1) & (TX_RING_MAXSIZE - 1))\n\n#define TX_BUFFS_AVAIL(qp)                                    \\\n        (((qp)->tx_old <= (qp)->tx_new) ?                     \\\n\t  (qp)->tx_old + (TX_RING_SIZE - 1) - (qp)->tx_new :  \\\n\t\t\t    (qp)->tx_old - (qp)->tx_new - 1)\n\nstruct qe_init_block {\n\tstruct qe_rxd qe_rxd[RX_RING_MAXSIZE];\n\tstruct qe_txd qe_txd[TX_RING_MAXSIZE];\n};\n\n#define qib_offset(mem, elem) \\\n((__u32)((unsigned long)(&(((struct qe_init_block *)0)->mem[elem]))))\n\nstruct sunqe;\n\nstruct sunqec {\n\tvoid __iomem\t\t*gregs;\t\t \n\tstruct sunqe\t\t*qes[4];\t \n\tunsigned int            qec_bursts;\t \n\tstruct platform_device\t*op;\t\t \n\tstruct sunqec\t\t*next_module;\t \n};\n\n#define PKT_BUF_SZ\t1664\n#define RXD_PKT_SZ\t1664\n\nstruct sunqe_buffers {\n\tu8\ttx_buf[TX_RING_SIZE][PKT_BUF_SZ];\n\tu8\t__pad[2];\n\tu8\trx_buf[RX_RING_SIZE][PKT_BUF_SZ];\n};\n\n#define qebuf_offset(mem, elem) \\\n((__u32)((unsigned long)(&(((struct sunqe_buffers *)0)->mem[elem][0]))))\n\nstruct sunqe {\n\tvoid __iomem\t\t\t*qcregs;\t\t \n\tvoid __iomem\t\t\t*mregs;\t\t \n\tstruct qe_init_block      \t*qe_block;\t \n\tdma_addr_t\t\t\tqblock_dvma;\t \n\tspinlock_t\t\t\tlock;\t\t \n\tint                        \trx_new, rx_old;\t \n\tint\t\t\t   \ttx_new, tx_old;\t \n\tstruct sunqe_buffers\t\t*buffers;\t \n\tdma_addr_t\t\t\tbuffers_dvma;\t \n\tstruct sunqec\t\t\t*parent;\n\tu8\t\t\t\tmconfig;\t \n\tstruct platform_device\t\t*op;\t\t \n\tstruct net_device\t\t*dev;\t\t \n\tint\t\t\t\tchannel;\t \n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}