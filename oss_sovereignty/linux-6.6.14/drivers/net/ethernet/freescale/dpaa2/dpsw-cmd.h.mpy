{
  "module_name": "dpsw-cmd.h",
  "hash_id": "900fa79a26aff20acd5f0128a076b3485509086dbf37e492bdd5a4ad62844090",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/freescale/dpaa2/dpsw-cmd.h",
  "human_readable_source": " \n \n\n#ifndef __FSL_DPSW_CMD_H\n#define __FSL_DPSW_CMD_H\n\n#include \"dpsw.h\"\n\n \n#define DPSW_VER_MAJOR\t\t8\n#define DPSW_VER_MINOR\t\t9\n\n#define DPSW_CMD_BASE_VERSION\t1\n#define DPSW_CMD_VERSION_2\t2\n#define DPSW_CMD_ID_OFFSET\t4\n\n#define DPSW_CMD_ID(id)\t(((id) << DPSW_CMD_ID_OFFSET) | DPSW_CMD_BASE_VERSION)\n#define DPSW_CMD_V2(id) (((id) << DPSW_CMD_ID_OFFSET) | DPSW_CMD_VERSION_2)\n\n \n#define DPSW_CMDID_CLOSE                    DPSW_CMD_ID(0x800)\n#define DPSW_CMDID_OPEN                     DPSW_CMD_ID(0x802)\n\n#define DPSW_CMDID_GET_API_VERSION          DPSW_CMD_ID(0xa02)\n\n#define DPSW_CMDID_ENABLE                   DPSW_CMD_ID(0x002)\n#define DPSW_CMDID_DISABLE                  DPSW_CMD_ID(0x003)\n#define DPSW_CMDID_GET_ATTR                 DPSW_CMD_V2(0x004)\n#define DPSW_CMDID_RESET                    DPSW_CMD_ID(0x005)\n\n#define DPSW_CMDID_SET_IRQ_ENABLE           DPSW_CMD_ID(0x012)\n\n#define DPSW_CMDID_SET_IRQ_MASK             DPSW_CMD_ID(0x014)\n\n#define DPSW_CMDID_GET_IRQ_STATUS           DPSW_CMD_ID(0x016)\n#define DPSW_CMDID_CLEAR_IRQ_STATUS         DPSW_CMD_ID(0x017)\n\n#define DPSW_CMDID_SET_REFLECTION_IF        DPSW_CMD_ID(0x022)\n\n#define DPSW_CMDID_IF_SET_TCI               DPSW_CMD_ID(0x030)\n#define DPSW_CMDID_IF_SET_STP               DPSW_CMD_ID(0x031)\n\n#define DPSW_CMDID_IF_GET_COUNTER           DPSW_CMD_V2(0x034)\n\n#define DPSW_CMDID_IF_ADD_REFLECTION        DPSW_CMD_ID(0x037)\n#define DPSW_CMDID_IF_REMOVE_REFLECTION     DPSW_CMD_ID(0x038)\n\n#define DPSW_CMDID_IF_ENABLE                DPSW_CMD_ID(0x03D)\n#define DPSW_CMDID_IF_DISABLE               DPSW_CMD_ID(0x03E)\n\n#define DPSW_CMDID_IF_GET_ATTR              DPSW_CMD_ID(0x042)\n\n#define DPSW_CMDID_IF_SET_MAX_FRAME_LENGTH  DPSW_CMD_ID(0x044)\n\n#define DPSW_CMDID_IF_GET_LINK_STATE        DPSW_CMD_ID(0x046)\n\n#define DPSW_CMDID_IF_GET_TCI               DPSW_CMD_ID(0x04A)\n\n#define DPSW_CMDID_IF_SET_LINK_CFG          DPSW_CMD_ID(0x04C)\n\n#define DPSW_CMDID_VLAN_ADD                 DPSW_CMD_ID(0x060)\n#define DPSW_CMDID_VLAN_ADD_IF              DPSW_CMD_V2(0x061)\n#define DPSW_CMDID_VLAN_ADD_IF_UNTAGGED     DPSW_CMD_ID(0x062)\n\n#define DPSW_CMDID_VLAN_REMOVE_IF           DPSW_CMD_ID(0x064)\n#define DPSW_CMDID_VLAN_REMOVE_IF_UNTAGGED  DPSW_CMD_ID(0x065)\n#define DPSW_CMDID_VLAN_REMOVE_IF_FLOODING  DPSW_CMD_ID(0x066)\n#define DPSW_CMDID_VLAN_REMOVE              DPSW_CMD_ID(0x067)\n\n#define DPSW_CMDID_FDB_ADD                  DPSW_CMD_ID(0x082)\n#define DPSW_CMDID_FDB_REMOVE               DPSW_CMD_ID(0x083)\n#define DPSW_CMDID_FDB_ADD_UNICAST          DPSW_CMD_ID(0x084)\n#define DPSW_CMDID_FDB_REMOVE_UNICAST       DPSW_CMD_ID(0x085)\n#define DPSW_CMDID_FDB_ADD_MULTICAST        DPSW_CMD_ID(0x086)\n#define DPSW_CMDID_FDB_REMOVE_MULTICAST     DPSW_CMD_ID(0x087)\n#define DPSW_CMDID_FDB_DUMP                 DPSW_CMD_ID(0x08A)\n\n#define DPSW_CMDID_ACL_ADD                  DPSW_CMD_ID(0x090)\n#define DPSW_CMDID_ACL_REMOVE               DPSW_CMD_ID(0x091)\n#define DPSW_CMDID_ACL_ADD_ENTRY            DPSW_CMD_ID(0x092)\n#define DPSW_CMDID_ACL_REMOVE_ENTRY         DPSW_CMD_ID(0x093)\n#define DPSW_CMDID_ACL_ADD_IF               DPSW_CMD_ID(0x094)\n#define DPSW_CMDID_ACL_REMOVE_IF            DPSW_CMD_ID(0x095)\n\n#define DPSW_CMDID_IF_GET_PORT_MAC_ADDR     DPSW_CMD_ID(0x0A7)\n\n#define DPSW_CMDID_CTRL_IF_GET_ATTR         DPSW_CMD_ID(0x0A0)\n#define DPSW_CMDID_CTRL_IF_SET_POOLS        DPSW_CMD_ID(0x0A1)\n#define DPSW_CMDID_CTRL_IF_ENABLE           DPSW_CMD_ID(0x0A2)\n#define DPSW_CMDID_CTRL_IF_DISABLE          DPSW_CMD_ID(0x0A3)\n#define DPSW_CMDID_CTRL_IF_SET_QUEUE        DPSW_CMD_ID(0x0A6)\n\n#define DPSW_CMDID_SET_EGRESS_FLOOD         DPSW_CMD_ID(0x0AC)\n#define DPSW_CMDID_IF_SET_LEARNING_MODE     DPSW_CMD_ID(0x0AD)\n\n \n#define DPSW_MASK(field)        \\\n\tGENMASK(DPSW_##field##_SHIFT + DPSW_##field##_SIZE - 1, \\\n\t\tDPSW_##field##_SHIFT)\n#define dpsw_set_field(var, field, val) \\\n\t((var) |= (((val) << DPSW_##field##_SHIFT) & DPSW_MASK(field)))\n#define dpsw_get_field(var, field)      \\\n\t(((var) & DPSW_MASK(field)) >> DPSW_##field##_SHIFT)\n#define dpsw_get_bit(var, bit) \\\n\t(((var)  >> (bit)) & GENMASK(0, 0))\n\n#pragma pack(push, 1)\nstruct dpsw_cmd_open {\n\t__le32 dpsw_id;\n};\n\n#define DPSW_COMPONENT_TYPE_SHIFT\t0\n#define DPSW_COMPONENT_TYPE_SIZE\t4\n\nstruct dpsw_cmd_create {\n\t \n\t__le16 num_ifs;\n\tu8 max_fdbs;\n\tu8 max_meters_per_if;\n\t \n\tu8 component_type;\n\tu8 pad[3];\n\t \n\t__le16 max_vlans;\n\t__le16 max_fdb_entries;\n\t__le16 fdb_aging_time;\n\t__le16 max_fdb_mc_groups;\n\t \n\t__le64 options;\n};\n\nstruct dpsw_cmd_destroy {\n\t__le32 dpsw_id;\n};\n\n#define DPSW_ENABLE_SHIFT 0\n#define DPSW_ENABLE_SIZE  1\n\nstruct dpsw_rsp_is_enabled {\n\t \n\tu8 enabled;\n};\n\nstruct dpsw_cmd_set_irq_enable {\n\tu8 enable_state;\n\tu8 pad[3];\n\tu8 irq_index;\n};\n\nstruct dpsw_cmd_get_irq_enable {\n\t__le32 pad;\n\tu8 irq_index;\n};\n\nstruct dpsw_rsp_get_irq_enable {\n\tu8 enable_state;\n};\n\nstruct dpsw_cmd_set_irq_mask {\n\t__le32 mask;\n\tu8 irq_index;\n};\n\nstruct dpsw_cmd_get_irq_mask {\n\t__le32 pad;\n\tu8 irq_index;\n};\n\nstruct dpsw_rsp_get_irq_mask {\n\t__le32 mask;\n};\n\nstruct dpsw_cmd_get_irq_status {\n\t__le32 status;\n\tu8 irq_index;\n};\n\nstruct dpsw_rsp_get_irq_status {\n\t__le32 status;\n};\n\nstruct dpsw_cmd_clear_irq_status {\n\t__le32 status;\n\tu8 irq_index;\n};\n\n#define DPSW_COMPONENT_TYPE_SHIFT\t0\n#define DPSW_COMPONENT_TYPE_SIZE\t4\n\n#define DPSW_FLOODING_CFG_SHIFT\t\t0\n#define DPSW_FLOODING_CFG_SIZE\t\t4\n\n#define DPSW_BROADCAST_CFG_SHIFT\t4\n#define DPSW_BROADCAST_CFG_SIZE\t\t4\n\nstruct dpsw_rsp_get_attr {\n\t \n\t__le16 num_ifs;\n\tu8 max_fdbs;\n\tu8 num_fdbs;\n\t__le16 max_vlans;\n\t__le16 num_vlans;\n\t \n\t__le16 max_fdb_entries;\n\t__le16 fdb_aging_time;\n\t__le32 dpsw_id;\n\t \n\t__le16 mem_size;\n\t__le16 max_fdb_mc_groups;\n\tu8 max_meters_per_if;\n\t \n\tu8 component_type;\n\t \n\tu8 repl_cfg;\n\tu8 pad;\n\t \n\t__le64 options;\n};\n\n#define DPSW_VLAN_ID_SHIFT\t0\n#define DPSW_VLAN_ID_SIZE\t12\n#define DPSW_DEI_SHIFT\t\t12\n#define DPSW_DEI_SIZE\t\t1\n#define DPSW_PCP_SHIFT\t\t13\n#define DPSW_PCP_SIZE\t\t3\n\nstruct dpsw_cmd_if_set_tci {\n\t__le16 if_id;\n\t \n\t__le16 conf;\n};\n\nstruct dpsw_cmd_if_get_tci {\n\t__le16 if_id;\n};\n\nstruct dpsw_rsp_if_get_tci {\n\t__le16 pad;\n\t__le16 vlan_id;\n\tu8 dei;\n\tu8 pcp;\n};\n\n#define DPSW_STATE_SHIFT\t0\n#define DPSW_STATE_SIZE\t\t4\n\nstruct dpsw_cmd_if_set_stp {\n\t__le16 if_id;\n\t__le16 vlan_id;\n\t \n\tu8 state;\n};\n\n#define DPSW_COUNTER_TYPE_SHIFT\t\t0\n#define DPSW_COUNTER_TYPE_SIZE\t\t5\n\nstruct dpsw_cmd_if_get_counter {\n\t__le16 if_id;\n\t \n\tu8 type;\n};\n\nstruct dpsw_rsp_if_get_counter {\n\t__le64 pad;\n\t__le64 counter;\n};\n\nstruct dpsw_cmd_if {\n\t__le16 if_id;\n};\n\n#define DPSW_ADMIT_UNTAGGED_SHIFT\t0\n#define DPSW_ADMIT_UNTAGGED_SIZE\t4\n#define DPSW_ENABLED_SHIFT\t\t5\n#define DPSW_ENABLED_SIZE\t\t1\n#define DPSW_ACCEPT_ALL_VLAN_SHIFT\t6\n#define DPSW_ACCEPT_ALL_VLAN_SIZE\t1\n\nstruct dpsw_rsp_if_get_attr {\n\t \n\t \n\tu8 conf;\n\tu8 pad1;\n\tu8 num_tcs;\n\tu8 pad2;\n\t__le16 qdid;\n\t \n\t__le32 options;\n\t__le32 pad3;\n\t \n\t__le32 rate;\n};\n\nstruct dpsw_cmd_if_set_max_frame_length {\n\t__le16 if_id;\n\t__le16 frame_length;\n};\n\nstruct dpsw_cmd_if_set_link_cfg {\n\t \n\t__le16 if_id;\n\tu8 pad[6];\n\t \n\t__le32 rate;\n\t__le32 pad1;\n\t \n\t__le64 options;\n};\n\nstruct dpsw_cmd_if_get_link_state {\n\t__le16 if_id;\n};\n\n#define DPSW_UP_SHIFT\t0\n#define DPSW_UP_SIZE\t1\n\nstruct dpsw_rsp_if_get_link_state {\n\t \n\t__le32 pad0;\n\tu8 up;\n\tu8 pad1[3];\n\t \n\t__le32 rate;\n\t__le32 pad2;\n\t \n\t__le64 options;\n};\n\nstruct dpsw_vlan_add {\n\t__le16 fdb_id;\n\t__le16 vlan_id;\n};\n\nstruct dpsw_cmd_vlan_add_if {\n\t \n\t__le16 options;\n\t__le16 vlan_id;\n\t__le16 fdb_id;\n\t__le16 pad0;\n\t \n\t__le64 if_id;\n};\n\nstruct dpsw_cmd_vlan_manage_if {\n\t \n\t__le16 pad0;\n\t__le16 vlan_id;\n\t__le32 pad1;\n\t \n\t__le64 if_id;\n};\n\nstruct dpsw_cmd_vlan_remove {\n\t__le16 pad;\n\t__le16 vlan_id;\n};\n\nstruct dpsw_cmd_fdb_add {\n\t__le32 pad;\n\t__le16 fdb_ageing_time;\n\t__le16 num_fdb_entries;\n};\n\nstruct dpsw_rsp_fdb_add {\n\t__le16 fdb_id;\n};\n\nstruct dpsw_cmd_fdb_remove {\n\t__le16 fdb_id;\n};\n\n#define DPSW_ENTRY_TYPE_SHIFT\t0\n#define DPSW_ENTRY_TYPE_SIZE\t4\n\nstruct dpsw_cmd_fdb_unicast_op {\n\t \n\t__le16 fdb_id;\n\tu8 mac_addr[6];\n\t \n\t__le16 if_egress;\n\t \n\tu8 type;\n};\n\nstruct dpsw_cmd_fdb_multicast_op {\n\t \n\t__le16 fdb_id;\n\t__le16 num_ifs;\n\t \n\tu8 type;\n\tu8 pad[3];\n\t \n\tu8 mac_addr[6];\n\t__le16 pad2;\n\t \n\t__le64 if_id;\n};\n\nstruct dpsw_cmd_fdb_dump {\n\t__le16 fdb_id;\n\t__le16 pad0;\n\t__le32 pad1;\n\t__le64 iova_addr;\n\t__le32 iova_size;\n};\n\nstruct dpsw_rsp_fdb_dump {\n\t__le16 num_entries;\n};\n\nstruct dpsw_rsp_ctrl_if_get_attr {\n\t__le64 pad;\n\t__le32 rx_fqid;\n\t__le32 rx_err_fqid;\n\t__le32 tx_err_conf_fqid;\n};\n\n#define DPSW_BACKUP_POOL(val, order)\t(((val) & 0x1) << (order))\nstruct dpsw_cmd_ctrl_if_set_pools {\n\tu8 num_dpbp;\n\tu8 backup_pool_mask;\n\t__le16 pad;\n\t__le32 dpbp_id[DPSW_MAX_DPBP];\n\t__le16 buffer_size[DPSW_MAX_DPBP];\n};\n\n#define DPSW_DEST_TYPE_SHIFT\t0\n#define DPSW_DEST_TYPE_SIZE\t4\n\nstruct dpsw_cmd_ctrl_if_set_queue {\n\t__le32 dest_id;\n\tu8 dest_priority;\n\tu8 pad;\n\t \n\tu8 dest_type;\n\tu8 qtype;\n\t__le64 user_ctx;\n\t__le32 options;\n};\n\nstruct dpsw_rsp_get_api_version {\n\t__le16 version_major;\n\t__le16 version_minor;\n};\n\nstruct dpsw_rsp_if_get_mac_addr {\n\t__le16 pad;\n\tu8 mac_addr[6];\n};\n\nstruct dpsw_cmd_set_egress_flood {\n\t__le16 fdb_id;\n\tu8 flood_type;\n\tu8 pad[5];\n\t__le64 if_id;\n};\n\n#define DPSW_LEARNING_MODE_SHIFT\t0\n#define DPSW_LEARNING_MODE_SIZE\t\t4\n\nstruct dpsw_cmd_if_set_learning_mode {\n\t__le16 if_id;\n\t \n\tu8 mode;\n};\n\nstruct dpsw_cmd_acl_add {\n\t__le16 pad;\n\t__le16 max_entries;\n};\n\nstruct dpsw_rsp_acl_add {\n\t__le16 acl_id;\n};\n\nstruct dpsw_cmd_acl_remove {\n\t__le16 acl_id;\n};\n\nstruct dpsw_cmd_acl_if {\n\t__le16 acl_id;\n\t__le16 num_ifs;\n\t__le32 pad;\n\t__le64 if_id;\n};\n\nstruct dpsw_prep_acl_entry {\n\tu8 match_l2_dest_mac[6];\n\t__le16 match_l2_tpid;\n\n\tu8 match_l2_source_mac[6];\n\t__le16 match_l2_vlan_id;\n\n\t__le32 match_l3_dest_ip;\n\t__le32 match_l3_source_ip;\n\n\t__le16 match_l4_dest_port;\n\t__le16 match_l4_source_port;\n\t__le16 match_l2_ether_type;\n\tu8 match_l2_pcp_dei;\n\tu8 match_l3_dscp;\n\n\tu8 mask_l2_dest_mac[6];\n\t__le16 mask_l2_tpid;\n\n\tu8 mask_l2_source_mac[6];\n\t__le16 mask_l2_vlan_id;\n\n\t__le32 mask_l3_dest_ip;\n\t__le32 mask_l3_source_ip;\n\n\t__le16 mask_l4_dest_port;\n\t__le16 mask_l4_source_port;\n\t__le16 mask_l2_ether_type;\n\tu8 mask_l2_pcp_dei;\n\tu8 mask_l3_dscp;\n\n\tu8 match_l3_protocol;\n\tu8 mask_l3_protocol;\n};\n\n#define DPSW_RESULT_ACTION_SHIFT\t0\n#define DPSW_RESULT_ACTION_SIZE\t\t4\n\nstruct dpsw_cmd_acl_entry {\n\t__le16 acl_id;\n\t__le16 result_if_id;\n\t__le32 precedence;\n\t \n\tu8 result_action;\n\tu8 pad[7];\n\t__le64 pad2[4];\n\t__le64 key_iova;\n};\n\nstruct dpsw_cmd_set_reflection_if {\n\t__le16 if_id;\n};\n\n#define DPSW_FILTER_SHIFT\t0\n#define DPSW_FILTER_SIZE\t2\n\nstruct dpsw_cmd_if_reflection {\n\t__le16 if_id;\n\t__le16 vlan_id;\n\t \n\tu8 filter;\n};\n#pragma pack(pop)\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}