{
  "module_name": "ucc_geth.h",
  "hash_id": "eb3949f6cd66a231624f3d51ef8c0ac3b44c7a7a0fdcf5fa094e7482816287fe",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/freescale/ucc_geth.h",
  "human_readable_source": " \n \n#ifndef __UCC_GETH_H__\n#define __UCC_GETH_H__\n\n#include <linux/kernel.h>\n#include <linux/list.h>\n#include <linux/if_ether.h>\n\n#include <soc/fsl/qe/immap_qe.h>\n#include <soc/fsl/qe/qe.h>\n\n#include <soc/fsl/qe/ucc.h>\n#include <soc/fsl/qe/ucc_fast.h>\n\n#define DRV_DESC \"QE UCC Gigabit Ethernet Controller\"\n#define DRV_NAME \"ucc_geth\"\n\n#define NUM_TX_QUEUES                   8\n#define NUM_RX_QUEUES                   8\n#define NUM_BDS_IN_PREFETCHED_BDS       4\n#define TX_IP_OFFSET_ENTRY_MAX          8\n#define NUM_OF_PADDRS                   4\n#define ENET_INIT_PARAM_MAX_ENTRIES_RX  9\n#define ENET_INIT_PARAM_MAX_ENTRIES_TX  8\n\nstruct ucc_geth {\n\tstruct ucc_fast uccf;\n\tu8 res0[0x100 - sizeof(struct ucc_fast)];\n\n\tu32 maccfg1;\t\t \n\tu32 maccfg2;\t\t \n\tu32 ipgifg;\t\t \n\tu32 hafdup;\t\t \n\tu8 res1[0x10];\n\tu8 miimng[0x18];\t \n\tu32 ifctl;\t\t \n\tu32 ifstat;\t\t \n\tu32 macstnaddr1;\t \n\tu32 macstnaddr2;\t \n\tu8 res2[0x8];\n\tu32 uempr;\t\t \n\tu32 utbipar;\t\t \n\tu16 uescr;\t\t \n\tu8 res3[0x180 - 0x15A];\n\tu32 tx64;\t\t \n\tu32 tx127;\t\t \n\tu32 tx255;\t\t \n\tu32 rx64;\t\t \n\tu32 rx127;\t\t \n\tu32 rx255;\t\t \n\tu32 txok;\t\t \n\tu16 txcf;\t\t \n\tu8 res4[0x2];\n\tu32 tmca;\t\t \n\tu32 tbca;\t\t \n\tu32 rxfok;\t\t \n\tu32 rxbok;\t\t \n\tu32 rbyt;\t\t \n\tu32 rmca;\t\t \n\tu32 rbca;\t\t \n\tu32 scar;\t\t \n\tu32 scam;\t\t \n\tu8 res5[0x200 - 0x1c4];\n} __packed;\n\n \n#define TEMODER_TX_RMON_STATISTICS_ENABLE       0x0100\t \n#define TEMODER_SCHEDULER_ENABLE                0x2000\t \n#define TEMODER_IP_CHECKSUM_GENERATE            0x0400\t \n#define TEMODER_PERFORMANCE_OPTIMIZATION_MODE1  0x0200\t \n#define TEMODER_RMON_STATISTICS                 0x0100\t \n#define TEMODER_NUM_OF_QUEUES_SHIFT             (15-15)\t \n\n \n#define REMODER_RX_RMON_STATISTICS_ENABLE       0x00001000\t \n#define REMODER_RX_EXTENDED_FEATURES            0x80000000\t \n#define REMODER_VLAN_OPERATION_TAGGED_SHIFT     (31-9 )\t \n#define REMODER_VLAN_OPERATION_NON_TAGGED_SHIFT (31-10)\t \n#define REMODER_RX_QOS_MODE_SHIFT               (31-15)\t \n#define REMODER_RMON_STATISTICS                 0x00001000\t \n#define REMODER_RX_EXTENDED_FILTERING           0x00000800\t \n#define REMODER_NUM_OF_QUEUES_SHIFT             (31-23)\t \n#define REMODER_DYNAMIC_MAX_FRAME_LENGTH        0x00000008\t \n#define REMODER_DYNAMIC_MIN_FRAME_LENGTH        0x00000004\t \n#define REMODER_IP_CHECKSUM_CHECK               0x00000002\t \n#define REMODER_IP_ADDRESS_ALIGNMENT            0x00000001\t \n\n \n#define UCCE_TXB   (UCC_GETH_UCCE_TXB7 | UCC_GETH_UCCE_TXB6 | \\\n\t\t    UCC_GETH_UCCE_TXB5 | UCC_GETH_UCCE_TXB4 | \\\n\t\t    UCC_GETH_UCCE_TXB3 | UCC_GETH_UCCE_TXB2 | \\\n\t\t    UCC_GETH_UCCE_TXB1 | UCC_GETH_UCCE_TXB0)\n\n#define UCCE_RXB   (UCC_GETH_UCCE_RXB7 | UCC_GETH_UCCE_RXB6 | \\\n\t\t    UCC_GETH_UCCE_RXB5 | UCC_GETH_UCCE_RXB4 | \\\n\t\t    UCC_GETH_UCCE_RXB3 | UCC_GETH_UCCE_RXB2 | \\\n\t\t    UCC_GETH_UCCE_RXB1 | UCC_GETH_UCCE_RXB0)\n\n#define UCCE_RXF   (UCC_GETH_UCCE_RXF7 | UCC_GETH_UCCE_RXF6 | \\\n\t\t    UCC_GETH_UCCE_RXF5 | UCC_GETH_UCCE_RXF4 | \\\n\t\t    UCC_GETH_UCCE_RXF3 | UCC_GETH_UCCE_RXF2 | \\\n\t\t    UCC_GETH_UCCE_RXF1 | UCC_GETH_UCCE_RXF0)\n\n#define UCCE_OTHER (UCC_GETH_UCCE_SCAR | UCC_GETH_UCCE_GRA | \\\n\t\t    UCC_GETH_UCCE_CBPR | UCC_GETH_UCCE_BSY | \\\n\t\t    UCC_GETH_UCCE_RXC  | UCC_GETH_UCCE_TXC | UCC_GETH_UCCE_TXE)\n\n#define UCCE_RX_EVENTS  (UCCE_RXF | UCC_GETH_UCCE_BSY)\n#define UCCE_TX_EVENTS\t(UCCE_TXB | UCC_GETH_UCCE_TXE)\n\n \n#define\tENET_TBI_MII_CR\t\t0x00\t \n#define\tENET_TBI_MII_SR\t\t0x01\t \n#define\tENET_TBI_MII_ANA\t0x04\t \n#define\tENET_TBI_MII_ANLPBPA\t0x05\t \n#define\tENET_TBI_MII_ANEX\t0x06\t \n#define\tENET_TBI_MII_ANNPT\t0x07\t \n#define\tENET_TBI_MII_ANLPANP\t0x08\t \n#define\tENET_TBI_MII_EXST\t0x0F\t \n#define\tENET_TBI_MII_JD\t\t0x10\t \n#define\tENET_TBI_MII_TBICON\t0x11\t \n\n \n#define TBISR_LSTATUS          0x0004\n#define TBICON_CLK_SELECT       0x0020\n#define TBIANA_ASYMMETRIC_PAUSE 0x0100\n#define TBIANA_SYMMETRIC_PAUSE  0x0080\n#define TBIANA_HALF_DUPLEX      0x0040\n#define TBIANA_FULL_DUPLEX      0x0020\n#define TBICR_PHY_RESET         0x8000\n#define TBICR_ANEG_ENABLE       0x1000\n#define TBICR_RESTART_ANEG      0x0200\n#define TBICR_FULL_DUPLEX       0x0100\n#define TBICR_SPEED1_SET        0x0040\n\n#define TBIANA_SETTINGS ( \\\n\t\tTBIANA_ASYMMETRIC_PAUSE \\\n\t\t| TBIANA_SYMMETRIC_PAUSE \\\n\t\t| TBIANA_FULL_DUPLEX \\\n\t\t)\n#define TBICR_SETTINGS ( \\\n\t\tTBICR_PHY_RESET \\\n\t\t| TBICR_ANEG_ENABLE \\\n\t\t| TBICR_FULL_DUPLEX \\\n\t\t| TBICR_SPEED1_SET \\\n\t\t)\n\n \n#define MACCFG1_FLOW_RX                         0x00000020\t \n#define MACCFG1_FLOW_TX                         0x00000010\t \n#define MACCFG1_ENABLE_SYNCHED_RX               0x00000008\t \n#define MACCFG1_ENABLE_RX                       0x00000004\t \n#define MACCFG1_ENABLE_SYNCHED_TX               0x00000002\t \n#define MACCFG1_ENABLE_TX                       0x00000001\t \n\n \n#define MACCFG2_PREL_SHIFT                      (31 - 19)\t \n#define MACCFG2_PREL_MASK                       0x0000f000\t \n#define MACCFG2_SRP                             0x00000080\t \n#define MACCFG2_STP                             0x00000040\t \n#define MACCFG2_RESERVED_1                      0x00000020\t \n#define MACCFG2_LC                              0x00000010\t \n#define MACCFG2_MPE                             0x00000008\t \n#define MACCFG2_FDX                             0x00000001\t \n#define MACCFG2_FDX_MASK                        0x00000001\t \n#define MACCFG2_PAD_CRC                         0x00000004\n#define MACCFG2_CRC_EN                          0x00000002\n#define MACCFG2_PAD_AND_CRC_MODE_NONE           0x00000000\t \n#define MACCFG2_PAD_AND_CRC_MODE_CRC_ONLY       0x00000002\t \n#define MACCFG2_PAD_AND_CRC_MODE_PAD_AND_CRC    0x00000004\n#define MACCFG2_INTERFACE_MODE_NIBBLE           0x00000100\t \n#define MACCFG2_INTERFACE_MODE_BYTE             0x00000200\t \n#define MACCFG2_INTERFACE_MODE_MASK             0x00000300\t \n\n \n#define IPGIFG_NON_BACK_TO_BACK_IFG_PART1_SHIFT (31 -  7)\t \n#define IPGIFG_NON_BACK_TO_BACK_IFG_PART2_SHIFT (31 - 15)\t \n#define IPGIFG_MINIMUM_IFG_ENFORCEMENT_SHIFT    (31 - 23)\t \n#define IPGIFG_BACK_TO_BACK_IFG_SHIFT           (31 - 31)\t \n#define IPGIFG_NON_BACK_TO_BACK_IFG_PART1_MAX   127\t \n#define IPGIFG_NON_BACK_TO_BACK_IFG_PART2_MAX   127\t \n#define IPGIFG_MINIMUM_IFG_ENFORCEMENT_MAX      255\t \n#define IPGIFG_BACK_TO_BACK_IFG_MAX             127\t \n#define IPGIFG_NBTB_CS_IPG_MASK                 0x7F000000\n#define IPGIFG_NBTB_IPG_MASK                    0x007F0000\n#define IPGIFG_MIN_IFG_MASK                     0x0000FF00\n#define IPGIFG_BTB_IPG_MASK                     0x0000007F\n\n \n#define HALFDUP_ALT_BEB_TRUNCATION_SHIFT        (31 - 11)\t \n#define HALFDUP_ALT_BEB_TRUNCATION_MAX          0xf\t \n#define HALFDUP_ALT_BEB                         0x00080000\t \n#define HALFDUP_BACK_PRESSURE_NO_BACKOFF        0x00040000\t \n#define HALFDUP_NO_BACKOFF                      0x00020000\t \n#define HALFDUP_EXCESSIVE_DEFER                 0x00010000\t \n#define HALFDUP_MAX_RETRANSMISSION_SHIFT        (31 - 19)\t \n#define HALFDUP_MAX_RETRANSMISSION_MAX          0xf\t \n#define HALFDUP_COLLISION_WINDOW_SHIFT          (31 - 31)\t \n#define HALFDUP_COLLISION_WINDOW_MAX            0x3f\t \n#define HALFDUP_ALT_BEB_TR_MASK                 0x00F00000\n#define HALFDUP_RETRANS_MASK                    0x0000F000\n#define HALFDUP_COL_WINDOW_MASK                 0x0000003F\n\n \n#define UCCS_BPR                                0x02\t \n#define UCCS_PAU                                0x02\t \n#define UCCS_MPD                                0x01\t \n\n \n#define IFSTAT_EXCESS_DEFER                     0x00000200\t \n\n \n#define MACSTNADDR1_OCTET_6_SHIFT               (31 -  7)\t \n#define MACSTNADDR1_OCTET_5_SHIFT               (31 - 15)\t \n#define MACSTNADDR1_OCTET_4_SHIFT               (31 - 23)\t \n#define MACSTNADDR1_OCTET_3_SHIFT               (31 - 31)\t \n\n \n#define MACSTNADDR2_OCTET_2_SHIFT               (31 -  7)\t \n#define MACSTNADDR2_OCTET_1_SHIFT               (31 - 15)\t \n\n \n#define UEMPR_PAUSE_TIME_VALUE_SHIFT            (31 - 15)\t \n#define UEMPR_EXTENDED_PAUSE_TIME_VALUE_SHIFT   (31 - 31)\t \n\n \n#define UTBIPAR_PHY_ADDRESS_SHIFT               (31 - 31)\t \n#define UTBIPAR_PHY_ADDRESS_MASK                0x0000001f\t \n\n \n#define UESCR_AUTOZ                             0x8000\t \n#define UESCR_CLRCNT                            0x4000\t \n#define UESCR_MAXCOV_SHIFT                      (15 -  7)\t \n#define UESCR_SCOV_SHIFT                        (15 - 15)\t \n\n \n#define UDSR_MAGIC                              0x067E\n\nstruct ucc_geth_thread_data_tx {\n\tu8 res0[104];\n} __packed;\n\nstruct ucc_geth_thread_data_rx {\n\tu8 res0[40];\n} __packed;\n\n \nstruct ucc_geth_send_queue_qd {\n\tu32 bd_ring_base;\t \n\tu8 res0[0x8];\n\tu32 last_bd_completed_address; \n\tu8 res1[0x30];\n} __packed;\n\nstruct ucc_geth_send_queue_mem_region {\n\tstruct ucc_geth_send_queue_qd sqqd[NUM_TX_QUEUES];\n} __packed;\n\nstruct ucc_geth_thread_tx_pram {\n\tu8 res0[64];\n} __packed;\n\nstruct ucc_geth_thread_rx_pram {\n\tu8 res0[128];\n} __packed;\n\n#define THREAD_RX_PRAM_ADDITIONAL_FOR_EXTENDED_FILTERING        64\n#define THREAD_RX_PRAM_ADDITIONAL_FOR_EXTENDED_FILTERING_8      64\n#define THREAD_RX_PRAM_ADDITIONAL_FOR_EXTENDED_FILTERING_16     96\n\nstruct ucc_geth_scheduler {\n\tu16 cpucount0;\t\t \n\tu16 cpucount1;\t\t \n\tu16 cecount0;\t\t \n\tu16 cecount1;\t\t \n\tu16 cpucount2;\t\t \n\tu16 cpucount3;\t\t \n\tu16 cecount2;\t\t \n\tu16 cecount3;\t\t \n\tu16 cpucount4;\t\t \n\tu16 cpucount5;\t\t \n\tu16 cecount4;\t\t \n\tu16 cecount5;\t\t \n\tu16 cpucount6;\t\t \n\tu16 cpucount7;\t\t \n\tu16 cecount6;\t\t \n\tu16 cecount7;\t\t \n\tu32 weightstatus[NUM_TX_QUEUES];\t \n\tu32 rtsrshadow;\t\t \n\tu32 time;\t\t \n\tu32 ttl;\t\t \n\tu32 mblinterval;\t \n\tu16 nortsrbytetime;\t \n\tu8 fracsiz;\t\t \n\tu8 res0[1];\n\tu8 strictpriorityq;\t \n\tu8 txasap;\t\t \n\tu8 extrabw;\t\t \n\tu8 oldwfqmask;\t\t \n\tu8 weightfactor[NUM_TX_QUEUES];\n\t\t\t\t       \n\tu32 minw;\t\t \n\tu8 res1[0x70 - 0x64];\n} __packed;\n\nstruct ucc_geth_tx_firmware_statistics_pram {\n\tu32 sicoltx;\t\t \n\tu32 mulcoltx;\t\t \n\tu32 latecoltxfr;\t \n\tu32 frabortduecol;\t \n\tu32 frlostinmactxer;\t \n\tu32 carriersenseertx;\t \n\tu32 frtxok;\t\t \n\tu32 txfrexcessivedefer;\t \n\tu32 txpkts256;\t\t \n\tu32 txpkts512;\t\t \n\tu32 txpkts1024;\t\t \n\tu32 txpktsjumbo;\t \n} __packed;\n\nstruct ucc_geth_rx_firmware_statistics_pram {\n\tu32 frrxfcser;\t\t \n\tu32 fraligner;\t\t \n\tu32 inrangelenrxer;\t \n\tu32 outrangelenrxer;\t \n\tu32 frtoolong;\t\t \n\tu32 runt;\t\t \n\tu32 verylongevent;\t \n\tu32 symbolerror;\t \n\tu32 dropbsy;\t\t \n\tu8 res0[0x8];\n\tu32 mismatchdrop;\t \n\tu32 underpkts;\t\t \n\tu32 pkts256;\t\t \n\tu32 pkts512;\t\t \n\tu32 pkts1024;\t\t \n\tu32 pktsjumbo;\t\t \n\tu32 frlossinmacer;\t \n\tu32 pausefr;\t\t \n\tu8 res1[0x4];\n\tu32 removevlan;\t\t \n\tu32 replacevlan;\t \n\tu32 insertvlan;\t\t \n} __packed;\n\nstruct ucc_geth_rx_interrupt_coalescing_entry {\n\tu32 interruptcoalescingmaxvalue;\t \n\tu32 interruptcoalescingcounter;\t \n} __packed;\n\nstruct ucc_geth_rx_interrupt_coalescing_table {\n\tstruct ucc_geth_rx_interrupt_coalescing_entry coalescingentry[NUM_RX_QUEUES];\n\t\t\t\t        \n} __packed;\n\nstruct ucc_geth_rx_prefetched_bds {\n\tstruct qe_bd bd[NUM_BDS_IN_PREFETCHED_BDS];\t \n} __packed;\n\nstruct ucc_geth_rx_bd_queues_entry {\n\tu32 bdbaseptr;\t\t \n\tu32 bdptr;\t\t \n\tu32 externalbdbaseptr;\t \n\tu32 externalbdptr;\t \n} __packed;\n\nstruct ucc_geth_tx_global_pram {\n\tu16 temoder;\n\tu8 res0[0x38 - 0x02];\n\tu32 sqptr;\t\t \n\tu32 schedulerbasepointer;\t \n\tu32 txrmonbaseptr;\t \n\tu32 tstate;\t\t \n\tu8 iphoffset[TX_IP_OFFSET_ENTRY_MAX];\n\tu32 vtagtable[0x8];\t \n\tu32 tqptr;\t\t \n\tu8 res2[0x78 - 0x74];\n\tu64 snums_en;\n\tu32 l2l3baseptr;\t \n\n\tu16 mtu[8];\n\tu8 res3[0xa8 - 0x94];\n\tu32 wrrtablebase;\t \n\tu8 res4[0xc0 - 0xac];\n} __packed;\n\n \nstruct ucc_geth_exf_global_pram {\n\tu32 l2pcdptr;\t\t \n\tu8 res0[0x10 - 0x04];\n} __packed;\n\nstruct ucc_geth_rx_global_pram {\n\tu32 remoder;\t\t \n\tu32 rqptr;\t\t \n\tu32 res0[0x1];\n\tu8 res1[0x20 - 0xC];\n\tu16 typeorlen;\t\t \n\tu8 res2[0x1];\n\tu8 rxgstpack;\t\t \n\tu32 rxrmonbaseptr;\t \n\tu8 res3[0x30 - 0x28];\n\tu32 intcoalescingptr;\t \n\tu8 res4[0x36 - 0x34];\n\tu8 rstate;\t\t \n\tu8 res5[0x46 - 0x37];\n\tu16 mrblr;\t\t \n\tu32 rbdqptr;\t\t \n\tu16 mflr;\t\t \n\tu16 minflr;\t\t \n\tu16 maxd1;\t\t \n\tu16 maxd2;\t\t \n\tu32 ecamptr;\t\t \n\tu32 l2qt;\t\t \n\tu32 l3qt[0x8];\t\t \n\tu16 vlantype;\t\t \n\tu16 vlantci;\t\t \n\tu8 addressfiltering[64];\t \n\tu32 exfGlobalParam;\t \n\tu8 res6[0x100 - 0xC4];\t \n} __packed;\n\n#define GRACEFUL_STOP_ACKNOWLEDGE_RX            0x01\n\n \nstruct ucc_geth_init_pram {\n\tu8 resinit1;\n\tu8 resinit2;\n\tu8 resinit3;\n\tu8 resinit4;\n\tu16 resinit5;\n\tu8 res1[0x1];\n\tu8 largestexternallookupkeysize;\n\tu32 rgftgfrxglobal;\n\tu32 rxthread[ENET_INIT_PARAM_MAX_ENTRIES_RX];\t \n\tu8 res2[0x38 - 0x30];\n\tu32 txglobal;\t\t \n\tu32 txthread[ENET_INIT_PARAM_MAX_ENTRIES_TX];\t \n\tu8 res3[0x1];\n} __packed;\n\n#define ENET_INIT_PARAM_RGF_SHIFT               (32 - 4)\n#define ENET_INIT_PARAM_TGF_SHIFT               (32 - 8)\n\n#define ENET_INIT_PARAM_RISC_MASK               0x0000003f\n#define ENET_INIT_PARAM_PTR_MASK                0x00ffffc0\n#define ENET_INIT_PARAM_SNUM_MASK               0xff000000\n#define ENET_INIT_PARAM_SNUM_SHIFT              24\n\n#define ENET_INIT_PARAM_MAGIC_RES_INIT1         0x06\n#define ENET_INIT_PARAM_MAGIC_RES_INIT2         0x30\n#define ENET_INIT_PARAM_MAGIC_RES_INIT3         0xff\n#define ENET_INIT_PARAM_MAGIC_RES_INIT4         0x00\n#define ENET_INIT_PARAM_MAGIC_RES_INIT5         0x0400\n\n \nstruct ucc_geth_82xx_enet_address {\n\tu8 res1[0x2];\n\tu16 h;\t\t\t \n\tu16 m;\t\t\t \n\tu16 l;\t\t\t \n} __packed;\n\n \nstruct ucc_geth_82xx_address_filtering_pram {\n\tu32 iaddr_h;\t\t \n\tu32 iaddr_l;\t\t \n\tu32 gaddr_h;\t\t \n\tu32 gaddr_l;\t\t \n\tstruct ucc_geth_82xx_enet_address __iomem taddr;\n\tstruct ucc_geth_82xx_enet_address __iomem paddr[NUM_OF_PADDRS];\n\tu8 res0[0x40 - 0x38];\n} __packed;\n\n \nstruct ucc_geth_tx_firmware_statistics {\n\tu32 sicoltx;\t\t \n\tu32 mulcoltx;\t\t \n\tu32 latecoltxfr;\t \n\tu32 frabortduecol;\t \n\tu32 frlostinmactxer;\t \n\tu32 carriersenseertx;\t \n\tu32 frtxok;\t\t \n\tu32 txfrexcessivedefer;\t \n\tu32 txpkts256;\t\t \n\tu32 txpkts512;\t\t \n\tu32 txpkts1024;\t\t \n\tu32 txpktsjumbo;\t \n} __packed;\n\n \nstruct ucc_geth_rx_firmware_statistics {\n\tu32 frrxfcser;\t\t \n\tu32 fraligner;\t\t \n\tu32 inrangelenrxer;\t \n\tu32 outrangelenrxer;\t \n\tu32 frtoolong;\t\t \n\tu32 runt;\t\t \n\tu32 verylongevent;\t \n\tu32 symbolerror;\t \n\tu32 dropbsy;\t\t \n\tu8 res0[0x8];\n\tu32 mismatchdrop;\t \n\tu32 underpkts;\t\t \n\tu32 pkts256;\t\t \n\tu32 pkts512;\t\t \n\tu32 pkts1024;\t\t \n\tu32 pktsjumbo;\t\t \n\tu32 frlossinmacer;\t \n\tu32 pausefr;\t\t \n\tu8 res1[0x4];\n\tu32 removevlan;\t\t \n\tu32 replacevlan;\t \n\tu32 insertvlan;\t\t \n} __packed;\n\n \nstruct ucc_geth_hardware_statistics {\n\tu32 tx64;\t\t \n\tu32 tx127;\t\t \n\tu32 tx255;\t\t \n\tu32 rx64;\t\t \n\tu32 rx127;\t\t \n\tu32 rx255;\t\t \n\tu32 txok;\t\t \n\tu16 txcf;\t\t \n\tu32 tmca;\t\t \n\tu32 tbca;\t\t \n\tu32 rxfok;\t\t \n\tu32 rxbok;\t\t \n\tu32 rbyt;\t\t \n\tu32 rmca;\t\t \n\tu32 rbca;\t\t \n} __packed;\n\n \n#define TX_ERRORS_DEF      0x0200\n#define TX_ERRORS_EXDEF    0x0100\n#define TX_ERRORS_LC       0x0080\n#define TX_ERRORS_RL       0x0040\n#define TX_ERRORS_RC_MASK  0x003C\n#define TX_ERRORS_RC_SHIFT 2\n#define TX_ERRORS_UN       0x0002\n#define TX_ERRORS_CSL      0x0001\n\n \n#define RX_ERRORS_CMR      0x0200\n#define RX_ERRORS_M        0x0100\n#define RX_ERRORS_BC       0x0080\n#define RX_ERRORS_MC       0x0040\n\n \n#define T_VID      0x003c0000\t \n#define T_DEF      (((u32) TX_ERRORS_DEF     ) << 16)\n#define T_EXDEF    (((u32) TX_ERRORS_EXDEF   ) << 16)\n#define T_LC       (((u32) TX_ERRORS_LC      ) << 16)\n#define T_RL       (((u32) TX_ERRORS_RL      ) << 16)\n#define T_RC_MASK  (((u32) TX_ERRORS_RC_MASK ) << 16)\n#define T_UN       (((u32) TX_ERRORS_UN      ) << 16)\n#define T_CSL      (((u32) TX_ERRORS_CSL     ) << 16)\n#define T_ERRORS_REPORT  (T_DEF | T_EXDEF | T_LC | T_RL | T_RC_MASK \\\n\t\t| T_UN | T_CSL)\t \n\n \n#define R_LG    0x00200000\t \n#define R_NO    0x00100000\t \n#define R_SH    0x00080000\t \n#define R_CR    0x00040000\t \n#define R_OV    0x00020000\t \n#define R_IPCH  0x00010000\t \n#define R_CMR   (((u32) RX_ERRORS_CMR  ) << 16)\n#define R_M     (((u32) RX_ERRORS_M    ) << 16)\n#define R_BC    (((u32) RX_ERRORS_BC   ) << 16)\n#define R_MC    (((u32) RX_ERRORS_MC   ) << 16)\n#define R_ERRORS_REPORT (R_CMR | R_M | R_BC | R_MC)\t \n#define R_ERRORS_FATAL  (R_LG  | R_NO | R_SH | R_CR | \\\n\t\tR_OV | R_IPCH)\t \n\n \n#define UCC_GETH_RX_GLOBAL_PRAM_ALIGNMENT\t256\n#define UCC_GETH_TX_GLOBAL_PRAM_ALIGNMENT       128\n#define UCC_GETH_THREAD_RX_PRAM_ALIGNMENT       128\n#define UCC_GETH_THREAD_TX_PRAM_ALIGNMENT       64\n#define UCC_GETH_THREAD_DATA_ALIGNMENT          256\t \n#define UCC_GETH_SEND_QUEUE_QUEUE_DESCRIPTOR_ALIGNMENT\t32\n#define UCC_GETH_SCHEDULER_ALIGNMENT\t\t8\t \n#define UCC_GETH_TX_STATISTICS_ALIGNMENT\t4\t \n#define UCC_GETH_RX_STATISTICS_ALIGNMENT\t4\t \n#define UCC_GETH_RX_INTERRUPT_COALESCING_ALIGNMENT\t64\n#define UCC_GETH_RX_BD_QUEUES_ALIGNMENT\t\t8\t \n#define UCC_GETH_RX_PREFETCHED_BDS_ALIGNMENT\t128\t \n#define UCC_GETH_RX_EXTENDED_FILTERING_GLOBAL_PARAMETERS_ALIGNMENT 8\t \n#define UCC_GETH_RX_BD_RING_ALIGNMENT\t\t32\n#define UCC_GETH_TX_BD_RING_ALIGNMENT\t\t32\n#define UCC_GETH_MRBLR_ALIGNMENT\t\t128\n#define UCC_GETH_RX_BD_RING_SIZE_ALIGNMENT\t4\n#define UCC_GETH_TX_BD_RING_SIZE_MEMORY_ALIGNMENT\t32\n#define UCC_GETH_RX_DATA_BUF_ALIGNMENT\t\t64\n\n#define UCC_GETH_TAD_EF                         0x80\n#define UCC_GETH_TAD_V                          0x40\n#define UCC_GETH_TAD_REJ                        0x20\n#define UCC_GETH_TAD_VTAG_OP_RIGHT_SHIFT        2\n#define UCC_GETH_TAD_VTAG_OP_SHIFT              6\n#define UCC_GETH_TAD_V_NON_VTAG_OP              0x20\n#define UCC_GETH_TAD_RQOS_SHIFT                 0\n#define UCC_GETH_TAD_V_PRIORITY_SHIFT           5\n#define UCC_GETH_TAD_CFI                        0x10\n\n#define UCC_GETH_VLAN_PRIORITY_MAX              8\n#define UCC_GETH_IP_PRIORITY_MAX                64\n#define UCC_GETH_TX_VTAG_TABLE_ENTRY_MAX        8\n#define UCC_GETH_RX_BD_RING_SIZE_MIN            8\n#define UCC_GETH_TX_BD_RING_SIZE_MIN            2\n#define UCC_GETH_BD_RING_SIZE_MAX\t\t0xffff\n\n#define UCC_GETH_SIZE_OF_BD                     QE_SIZEOF_BD\n\n \n#define TX_BD_RING_LEN                          0x10\n#define RX_BD_RING_LEN                          0x20\n\n#define TX_RING_MOD_MASK(size)                  (size-1)\n#define RX_RING_MOD_MASK(size)                  (size-1)\n\n#define ENET_GROUP_ADDR                         0x01\t \n\n#define TX_TIMEOUT                              (1*HZ)\n#define PHY_INIT_TIMEOUT                        100000\n#define PHY_CHANGE_TIME                         2\n\n \n#define UCC_GETH_URFS_INIT                      512\t \n#define UCC_GETH_URFET_INIT                     256\t \n#define UCC_GETH_URFSET_INIT                    384\t \n#define UCC_GETH_UTFS_INIT                      512\t \n#define UCC_GETH_UTFET_INIT                     256\t \n#define UCC_GETH_UTFTT_INIT                     256\t \n \n#define UCC_GETH_URFS_GIGA_INIT                 4096 \t \n#define UCC_GETH_URFET_GIGA_INIT                2048 \t \n#define UCC_GETH_URFSET_GIGA_INIT               3072 \t \n#define UCC_GETH_UTFS_GIGA_INIT                 4096 \t \n#define UCC_GETH_UTFET_GIGA_INIT                2048 \t \n#define UCC_GETH_UTFTT_GIGA_INIT                4096 \t \n\n#define UCC_GETH_REMODER_INIT                   0\t \n#define UCC_GETH_TEMODER_INIT                   0xC000\t \n\n \n#define UCC_GETH_UPSMR_INIT                     UCC_GETH_UPSMR_RES1\n\n#define UCC_GETH_MACCFG1_INIT                   0\n#define UCC_GETH_MACCFG2_INIT                   (MACCFG2_RESERVED_1)\n\n \nenum enet_addr_type {\n\tENET_ADDR_TYPE_INDIVIDUAL,\n\tENET_ADDR_TYPE_GROUP,\n\tENET_ADDR_TYPE_BROADCAST\n};\n\n \nenum ucc_geth_enet_address_recognition_location {\n\tUCC_GETH_ENET_ADDRESS_RECOGNITION_LOCATION_STATION_ADDRESS, \n\tUCC_GETH_ENET_ADDRESS_RECOGNITION_LOCATION_PADDR_FIRST,\t \n\tUCC_GETH_ENET_ADDRESS_RECOGNITION_LOCATION_PADDR2,\t \n\tUCC_GETH_ENET_ADDRESS_RECOGNITION_LOCATION_PADDR3,\t \n\tUCC_GETH_ENET_ADDRESS_RECOGNITION_LOCATION_PADDR_LAST,\t \n\tUCC_GETH_ENET_ADDRESS_RECOGNITION_LOCATION_GROUP_HASH,\t \n\tUCC_GETH_ENET_ADDRESS_RECOGNITION_LOCATION_INDIVIDUAL_HASH  \n};\n\n \nenum ucc_geth_vlan_operation_tagged {\n\tUCC_GETH_VLAN_OPERATION_TAGGED_NOP = 0x0,\t \n\tUCC_GETH_VLAN_OPERATION_TAGGED_REPLACE_VID_PORTION_OF_Q_TAG\n\t\t= 0x1,\t \n\tUCC_GETH_VLAN_OPERATION_TAGGED_IF_VID0_REPLACE_VID_WITH_DEFAULT_VALUE\n\t\t= 0x2,\t \n\tUCC_GETH_VLAN_OPERATION_TAGGED_EXTRACT_Q_TAG_FROM_FRAME\n\t\t= 0x3\t \n};\n\n \nenum ucc_geth_vlan_operation_non_tagged {\n\tUCC_GETH_VLAN_OPERATION_NON_TAGGED_NOP = 0x0,\t \n\tUCC_GETH_VLAN_OPERATION_NON_TAGGED_Q_TAG_INSERT = 0x1\t \n};\n\n \nenum ucc_geth_qos_mode {\n\tUCC_GETH_QOS_MODE_DEFAULT = 0x0,\t \n\tUCC_GETH_QOS_MODE_QUEUE_NUM_FROM_L2_CRITERIA = 0x1,\t \n\tUCC_GETH_QOS_MODE_QUEUE_NUM_FROM_L3_CRITERIA = 0x2\t \n};\n\n \nenum ucc_geth_statistics_gathering_mode {\n\tUCC_GETH_STATISTICS_GATHERING_MODE_NONE = 0x00000000,\t \n\tUCC_GETH_STATISTICS_GATHERING_MODE_HARDWARE = 0x00000001, \n\tUCC_GETH_STATISTICS_GATHERING_MODE_FIRMWARE_TX = 0x00000004, \n\tUCC_GETH_STATISTICS_GATHERING_MODE_FIRMWARE_RX = 0x00000008 \n};\n\n \nenum ucc_geth_maccfg2_pad_and_crc_mode {\n\tUCC_GETH_PAD_AND_CRC_MODE_NONE\n\t\t= MACCFG2_PAD_AND_CRC_MODE_NONE,\t \n\tUCC_GETH_PAD_AND_CRC_MODE_CRC_ONLY\n\t\t= MACCFG2_PAD_AND_CRC_MODE_CRC_ONLY,\t \n\tUCC_GETH_PAD_AND_CRC_MODE_PAD_AND_CRC =\n\t    MACCFG2_PAD_AND_CRC_MODE_PAD_AND_CRC\n};\n\n \nenum ucc_geth_flow_control_mode {\n\tUPSMR_AUTOMATIC_FLOW_CONTROL_MODE_NONE = 0x00000000,\t \n\tUPSMR_AUTOMATIC_FLOW_CONTROL_MODE_PAUSE_WHEN_EMERGENCY\n\t\t= 0x00004000\t \n};\n\n \nenum ucc_geth_num_of_threads {\n\tUCC_GETH_NUM_OF_THREADS_1 = 0x1,\t \n\tUCC_GETH_NUM_OF_THREADS_2 = 0x2,\t \n\tUCC_GETH_NUM_OF_THREADS_4 = 0x0,\t \n\tUCC_GETH_NUM_OF_THREADS_6 = 0x3,\t \n\tUCC_GETH_NUM_OF_THREADS_8 = 0x4\t \n};\n\n \nenum ucc_geth_num_of_station_addresses {\n\tUCC_GETH_NUM_OF_STATION_ADDRESSES_1,\t \n\tUCC_GETH_NUM_OF_STATION_ADDRESSES_5\t \n};\n\n \nstruct enet_addr_container {\n\tu8 address[ETH_ALEN];\t \n\tenum ucc_geth_enet_address_recognition_location location;\t \n\tstruct list_head node;\n};\n\n#define ENET_ADDR_CONT_ENTRY(ptr) list_entry(ptr, struct enet_addr_container, node)\n\n \nstruct ucc_geth_tad_params {\n\tint rx_non_dynamic_extended_features_mode;\n\tint reject_frame;\n\tenum ucc_geth_vlan_operation_tagged vtag_op;\n\tenum ucc_geth_vlan_operation_non_tagged vnontag_op;\n\tenum ucc_geth_qos_mode rqos;\n\tu8 vpri;\n\tu16 vid;\n};\n\n \nstruct ucc_geth_info {\n\tstruct ucc_fast_info uf_info;\n\tint ipCheckSumCheck;\n\tint ipCheckSumGenerate;\n\tint rxExtendedFiltering;\n\tu32 extendedFilteringChainPointer;\n\tu16 typeorlen;\n\tint dynamicMaxFrameLength;\n\tint dynamicMinFrameLength;\n\tu8 nonBackToBackIfgPart1;\n\tu8 nonBackToBackIfgPart2;\n\tu8 miminumInterFrameGapEnforcement;\n\tu8 backToBackInterFrameGap;\n\tint ipAddressAlignment;\n\tint lengthCheckRx;\n\tu32 mblinterval;\n\tu16 nortsrbytetime;\n\tu8 fracsiz;\n\tu8 strictpriorityq;\n\tu8 txasap;\n\tu8 extrabw;\n\tint miiPreambleSupress;\n\tu8 altBebTruncation;\n\tint altBeb;\n\tint backPressureNoBackoff;\n\tint noBackoff;\n\tint excessDefer;\n\tu8 maxRetransmission;\n\tu8 collisionWindow;\n\tint pro;\n\tint cap;\n\tint rsh;\n\tint rlpb;\n\tint cam;\n\tint bro;\n\tint ecm;\n\tint receiveFlowControl;\n\tint transmitFlowControl;\n\tu8 maxGroupAddrInHash;\n\tu8 maxIndAddrInHash;\n\tu8 prel;\n\tu16 maxFrameLength;\n\tu16 minFrameLength;\n\tu16 maxD1Length;\n\tu16 maxD2Length;\n\tu16 vlantype;\n\tu16 vlantci;\n\tu32 ecamptr;\n\tu32 eventRegMask;\n\tu16 pausePeriod;\n\tu16 extensionField;\n\tstruct device_node *phy_node;\n\tstruct device_node *tbi_node;\n\tu8 weightfactor[NUM_TX_QUEUES];\n\tu8 interruptcoalescingmaxvalue[NUM_RX_QUEUES];\n\tu8 l2qt[UCC_GETH_VLAN_PRIORITY_MAX];\n\tu8 l3qt[UCC_GETH_IP_PRIORITY_MAX];\n\tu32 vtagtable[UCC_GETH_TX_VTAG_TABLE_ENTRY_MAX];\n\tu8 iphoffset[TX_IP_OFFSET_ENTRY_MAX];\n\tu16 bdRingLenTx[NUM_TX_QUEUES];\n\tu16 bdRingLenRx[NUM_RX_QUEUES];\n\tenum ucc_geth_num_of_station_addresses numStationAddresses;\n\tenum qe_fltr_largest_external_tbl_lookup_key_size\n\t    largestexternallookupkeysize;\n\tenum ucc_geth_statistics_gathering_mode statisticsMode;\n\tenum ucc_geth_vlan_operation_tagged vlanOperationTagged;\n\tenum ucc_geth_vlan_operation_non_tagged vlanOperationNonTagged;\n\tenum ucc_geth_qos_mode rxQoSMode;\n\tenum ucc_geth_flow_control_mode aufc;\n\tenum ucc_geth_maccfg2_pad_and_crc_mode padAndCrc;\n\tenum ucc_geth_num_of_threads numThreadsTx;\n\tenum ucc_geth_num_of_threads numThreadsRx;\n\tunsigned int riscTx;\n\tunsigned int riscRx;\n};\n\n \nstruct ucc_geth_private {\n\tstruct ucc_geth_info *ug_info;\n\tstruct ucc_fast_private *uccf;\n\tstruct device *dev;\n\tstruct net_device *ndev;\n\tstruct napi_struct napi;\n\tstruct work_struct timeout_work;\n\tstruct ucc_geth __iomem *ug_regs;\n\tstruct ucc_geth_init_pram *p_init_enet_param_shadow;\n\tstruct ucc_geth_exf_global_pram __iomem *p_exf_glbl_param;\n\tu32 exf_glbl_param_offset;\n\tstruct ucc_geth_rx_global_pram __iomem *p_rx_glbl_pram;\n\tstruct ucc_geth_tx_global_pram __iomem *p_tx_glbl_pram;\n\tstruct ucc_geth_send_queue_mem_region __iomem *p_send_q_mem_reg;\n\tu32 send_q_mem_reg_offset;\n\tstruct ucc_geth_thread_data_tx __iomem *p_thread_data_tx;\n\tu32 thread_dat_tx_offset;\n\tstruct ucc_geth_thread_data_rx __iomem *p_thread_data_rx;\n\tu32 thread_dat_rx_offset;\n\tstruct ucc_geth_scheduler __iomem *p_scheduler;\n\tu32 scheduler_offset;\n\tstruct ucc_geth_tx_firmware_statistics_pram __iomem *p_tx_fw_statistics_pram;\n\tu32 tx_fw_statistics_pram_offset;\n\tstruct ucc_geth_rx_firmware_statistics_pram __iomem *p_rx_fw_statistics_pram;\n\tu32 rx_fw_statistics_pram_offset;\n\tstruct ucc_geth_rx_interrupt_coalescing_table __iomem *p_rx_irq_coalescing_tbl;\n\tu32 rx_irq_coalescing_tbl_offset;\n\tstruct ucc_geth_rx_bd_queues_entry __iomem *p_rx_bd_qs_tbl;\n\tu32 rx_bd_qs_tbl_offset;\n\tu8 __iomem *p_tx_bd_ring[NUM_TX_QUEUES];\n\tu8 __iomem *p_rx_bd_ring[NUM_RX_QUEUES];\n\tu8 __iomem *confBd[NUM_TX_QUEUES];\n\tu8 __iomem *txBd[NUM_TX_QUEUES];\n\tu8 __iomem *rxBd[NUM_RX_QUEUES];\n\tint badFrame[NUM_RX_QUEUES];\n\tu16 cpucount[NUM_TX_QUEUES];\n\tu16 __iomem *p_cpucount[NUM_TX_QUEUES];\n\tint indAddrRegUsed[NUM_OF_PADDRS];\n\tu8 paddr[NUM_OF_PADDRS][ETH_ALEN];\t \n\tu8 numGroupAddrInHash;\n\tu8 numIndAddrInHash;\n\tu8 numIndAddrInReg;\n\tint rx_extended_features;\n\tint rx_non_dynamic_extended_features;\n\tstruct list_head conf_skbs;\n\tstruct list_head group_hash_q;\n\tstruct list_head ind_hash_q;\n\tu32 saved_uccm;\n\tspinlock_t lock;\n\t \n\tstruct sk_buff **tx_skbuff[NUM_TX_QUEUES];\n\tstruct sk_buff **rx_skbuff[NUM_RX_QUEUES];\n\t \n\tu16 skb_curtx[NUM_TX_QUEUES];\n\tu16 skb_currx[NUM_RX_QUEUES];\n\t \n\tu16 skb_dirtytx[NUM_TX_QUEUES];\n\n\tstruct ugeth_mii_info *mii_info;\n\tstruct phy_device *phydev;\n\tphy_interface_t phy_interface;\n\tint max_speed;\n\tuint32_t msg_enable;\n\tint oldspeed;\n\tint oldduplex;\n\tint oldlink;\n\tint wol_en;\n\n\tstruct device_node *node;\n};\n\nvoid uec_set_ethtool_ops(struct net_device *netdev);\nint init_flow_control_params(u32 automatic_flow_control_mode,\n\t\tint rx_flow_control_enable, int tx_flow_control_enable,\n\t\tu16 pause_period, u16 extension_field,\n\t\tu32 __iomem *upsmr_register, u32 __iomem *uempr_register,\n\t\tu32 __iomem *maccfg1_register);\n\n\n#endif\t\t\t\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}