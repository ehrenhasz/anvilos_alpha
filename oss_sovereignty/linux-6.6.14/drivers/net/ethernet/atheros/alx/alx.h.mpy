{
  "module_name": "alx.h",
  "hash_id": "826b943a3e05a286d7b91444b855722c1a68599f176464ba6b1c072e9d75b2c9",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/atheros/alx/alx.h",
  "human_readable_source": " \n\n#ifndef _ALX_H_\n#define _ALX_H_\n\n#include <linux/types.h>\n#include <linux/etherdevice.h>\n#include <linux/dma-mapping.h>\n#include <linux/spinlock.h>\n#include \"hw.h\"\n\n#define ALX_WATCHDOG_TIME   (5 * HZ)\n\nstruct alx_buffer {\n\tstruct sk_buff *skb;\n\tDEFINE_DMA_UNMAP_ADDR(dma);\n\tDEFINE_DMA_UNMAP_LEN(size);\n};\n\nstruct alx_rx_queue {\n\tstruct net_device *netdev;\n\tstruct device *dev;\n\tstruct alx_napi *np;\n\n\tstruct alx_rrd *rrd;\n\tdma_addr_t rrd_dma;\n\n\tstruct alx_rfd *rfd;\n\tdma_addr_t rfd_dma;\n\n\tstruct alx_buffer *bufs;\n\n\tu16 count;\n\tu16 write_idx, read_idx;\n\tu16 rrd_read_idx;\n\tu16 queue_idx;\n};\n#define ALX_RX_ALLOC_THRESH\t32\n\nstruct alx_tx_queue {\n\tstruct net_device *netdev;\n\tstruct device *dev;\n\n\tstruct alx_txd *tpd;\n\tdma_addr_t tpd_dma;\n\n\tstruct alx_buffer *bufs;\n\n\tu16 count;\n\tu16 write_idx, read_idx;\n\tu16 queue_idx;\n\tu16 p_reg, c_reg;\n};\n\n#define ALX_DEFAULT_TX_WORK 128\n\nenum alx_device_quirks {\n\tALX_DEV_QUIRK_MSI_INTX_DISABLE_BUG = BIT(0),\n};\n\nstruct alx_napi {\n\tstruct napi_struct\tnapi;\n\tstruct alx_priv\t\t*alx;\n\tstruct alx_rx_queue\t*rxq;\n\tstruct alx_tx_queue\t*txq;\n\tint\t\t\tvec_idx;\n\tu32\t\t\tvec_mask;\n\tchar\t\t\tirq_lbl[IFNAMSIZ + 8];\n};\n\n#define ALX_MAX_NAPIS 8\n\nstruct alx_priv {\n\tstruct net_device *dev;\n\n\tstruct alx_hw hw;\n\n\t \n\tint num_vec;\n\n\t \n\tstruct {\n\t\tdma_addr_t dma;\n\t\tvoid *virt;\n\t\tunsigned int size;\n\t} descmem;\n\n\tstruct alx_napi *qnapi[ALX_MAX_NAPIS];\n\tint num_txq;\n\tint num_rxq;\n\tint num_napi;\n\n\t \n\tspinlock_t irq_lock;\n\tu32 int_mask;\n\n\tunsigned int tx_ringsz;\n\tunsigned int rx_ringsz;\n\tunsigned int rxbuf_size;\n\n\tstruct work_struct link_check_wk;\n\tstruct work_struct reset_wk;\n\n\tu16 msg_enable;\n\n\t \n\tspinlock_t stats_lock;\n\n\tstruct mutex mtx;\n};\n\nextern const struct ethtool_ops alx_ethtool_ops;\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}