{
  "module_name": "bgmac.h",
  "hash_id": "3ecf6be0117122b0a9d62b27052cf0059a7d442898e188b5563104a8e75fdc2e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/broadcom/bgmac.h",
  "human_readable_source": " \n#ifndef _BGMAC_H\n#define _BGMAC_H\n\n#include <linux/netdevice.h>\n\n#include \"unimac.h\"\n\n#define BGMAC_DEV_CTL\t\t\t\t0x000\n#define  BGMAC_DC_TSM\t\t\t\t0x00000002\n#define  BGMAC_DC_CFCO\t\t\t\t0x00000004\n#define  BGMAC_DC_RLSS\t\t\t\t0x00000008\n#define  BGMAC_DC_MROR\t\t\t\t0x00000010\n#define  BGMAC_DC_FCM_MASK\t\t\t0x00000060\n#define  BGMAC_DC_FCM_SHIFT\t\t\t5\n#define  BGMAC_DC_NAE\t\t\t\t0x00000080\n#define  BGMAC_DC_TF\t\t\t\t0x00000100\n#define  BGMAC_DC_RDS_MASK\t\t\t0x00030000\n#define  BGMAC_DC_RDS_SHIFT\t\t\t16\n#define  BGMAC_DC_TDS_MASK\t\t\t0x000c0000\n#define  BGMAC_DC_TDS_SHIFT\t\t\t18\n#define BGMAC_DEV_STATUS\t\t\t0x004\t\t \n#define  BGMAC_DS_RBF\t\t\t\t0x00000001\n#define  BGMAC_DS_RDF\t\t\t\t0x00000002\n#define  BGMAC_DS_RIF\t\t\t\t0x00000004\n#define  BGMAC_DS_TBF\t\t\t\t0x00000008\n#define  BGMAC_DS_TDF\t\t\t\t0x00000010\n#define  BGMAC_DS_TIF\t\t\t\t0x00000020\n#define  BGMAC_DS_PO\t\t\t\t0x00000040\n#define  BGMAC_DS_MM_MASK\t\t\t0x00000300\t \n#define  BGMAC_DS_MM_SHIFT\t\t\t8\n#define BGMAC_BIST_STATUS\t\t\t0x00c\n#define BGMAC_INT_STATUS\t\t\t0x020\t\t \n#define  BGMAC_IS_MRO\t\t\t\t0x00000001\n#define  BGMAC_IS_MTO\t\t\t\t0x00000002\n#define  BGMAC_IS_TFD\t\t\t\t0x00000004\n#define  BGMAC_IS_LS\t\t\t\t0x00000008\n#define  BGMAC_IS_MDIO\t\t\t\t0x00000010\n#define  BGMAC_IS_MR\t\t\t\t0x00000020\n#define  BGMAC_IS_MT\t\t\t\t0x00000040\n#define  BGMAC_IS_TO\t\t\t\t0x00000080\n#define  BGMAC_IS_DESC_ERR\t\t\t0x00000400\t \n#define  BGMAC_IS_DATA_ERR\t\t\t0x00000800\t \n#define  BGMAC_IS_DESC_PROT_ERR\t\t\t0x00001000\t \n#define  BGMAC_IS_RX_DESC_UNDERF\t\t0x00002000\t \n#define  BGMAC_IS_RX_F_OVERF\t\t\t0x00004000\t \n#define  BGMAC_IS_TX_F_UNDERF\t\t\t0x00008000\t \n#define  BGMAC_IS_RX\t\t\t\t0x00010000\t \n#define  BGMAC_IS_TX0\t\t\t\t0x01000000\t \n#define  BGMAC_IS_TX1\t\t\t\t0x02000000\t \n#define  BGMAC_IS_TX2\t\t\t\t0x04000000\t \n#define  BGMAC_IS_TX3\t\t\t\t0x08000000\t \n#define  BGMAC_IS_TX_MASK\t\t\t0x0f000000\n#define  BGMAC_IS_INTMASK\t\t\t0x0f01fcff\n#define  BGMAC_IS_ERRMASK\t\t\t0x0000fc00\n#define BGMAC_INT_MASK\t\t\t\t0x024\t\t \n#define BGMAC_GP_TIMER\t\t\t\t0x028\n#define BGMAC_INT_RECV_LAZY\t\t\t0x100\n#define  BGMAC_IRL_TO_MASK\t\t\t0x00ffffff\n#define  BGMAC_IRL_FC_MASK\t\t\t0xff000000\n#define  BGMAC_IRL_FC_SHIFT\t\t\t24\t\t \n#define BGMAC_FLOW_CTL_THRESH\t\t\t0x104\t\t \n#define BGMAC_WRRTHRESH\t\t\t\t0x108\n#define BGMAC_GMAC_IDLE_CNT_THRESH\t\t0x10c\n#define BGMAC_PHY_ACCESS\t\t\t0x180\t\t \n#define  BGMAC_PA_DATA_MASK\t\t\t0x0000ffff\n#define  BGMAC_PA_ADDR_MASK\t\t\t0x001f0000\n#define  BGMAC_PA_ADDR_SHIFT\t\t\t16\n#define  BGMAC_PA_REG_MASK\t\t\t0x1f000000\n#define  BGMAC_PA_REG_SHIFT\t\t\t24\n#define  BGMAC_PA_WRITE\t\t\t\t0x20000000\n#define  BGMAC_PA_START\t\t\t\t0x40000000\n#define BGMAC_PHY_CNTL\t\t\t\t0x188\t\t \n#define  BGMAC_PC_EPA_MASK\t\t\t0x0000001f\n#define  BGMAC_PC_MCT_MASK\t\t\t0x007f0000\n#define  BGMAC_PC_MCT_SHIFT\t\t\t16\n#define  BGMAC_PC_MTE\t\t\t\t0x00800000\n#define BGMAC_TXQ_CTL\t\t\t\t0x18c\n#define  BGMAC_TXQ_CTL_DBT_MASK\t\t\t0x00000fff\n#define  BGMAC_TXQ_CTL_DBT_SHIFT\t\t0\n#define BGMAC_RXQ_CTL\t\t\t\t0x190\n#define  BGMAC_RXQ_CTL_DBT_MASK\t\t\t0x00000fff\n#define  BGMAC_RXQ_CTL_DBT_SHIFT\t\t0\n#define  BGMAC_RXQ_CTL_PTE\t\t\t0x00001000\n#define  BGMAC_RXQ_CTL_MDP_MASK\t\t\t0x3f000000\n#define  BGMAC_RXQ_CTL_MDP_SHIFT\t\t24\n#define BGMAC_GPIO_SELECT\t\t\t0x194\n#define BGMAC_GPIO_OUTPUT_EN\t\t\t0x198\n\n \n#define  BGMAC_BCMA_CLKCTLST_MISC_PLL_REQ\t0x00000100\n#define  BGMAC_BCMA_CLKCTLST_MISC_PLL_ST\t0x01000000\n\n#define BGMAC_HW_WAR\t\t\t\t0x1e4\n#define BGMAC_PWR_CTL\t\t\t\t0x1e8\n#define BGMAC_DMA_BASE0\t\t\t\t0x200\t\t \n#define BGMAC_DMA_BASE1\t\t\t\t0x240\t\t \n#define BGMAC_DMA_BASE2\t\t\t\t0x280\t\t \n#define BGMAC_DMA_BASE3\t\t\t\t0x2C0\t\t \n#define BGMAC_TX_GOOD_OCTETS\t\t\t0x300\n#define BGMAC_TX_GOOD_OCTETS_HIGH\t\t0x304\n#define BGMAC_TX_GOOD_PKTS\t\t\t0x308\n#define BGMAC_TX_OCTETS\t\t\t\t0x30c\n#define BGMAC_TX_OCTETS_HIGH\t\t\t0x310\n#define BGMAC_TX_PKTS\t\t\t\t0x314\n#define BGMAC_TX_BROADCAST_PKTS\t\t\t0x318\n#define BGMAC_TX_MULTICAST_PKTS\t\t\t0x31c\n#define BGMAC_TX_LEN_64\t\t\t\t0x320\n#define BGMAC_TX_LEN_65_TO_127\t\t\t0x324\n#define BGMAC_TX_LEN_128_TO_255\t\t\t0x328\n#define BGMAC_TX_LEN_256_TO_511\t\t\t0x32c\n#define BGMAC_TX_LEN_512_TO_1023\t\t0x330\n#define BGMAC_TX_LEN_1024_TO_1522\t\t0x334\n#define BGMAC_TX_LEN_1523_TO_2047\t\t0x338\n#define BGMAC_TX_LEN_2048_TO_4095\t\t0x33c\n#define BGMAC_TX_LEN_4096_TO_8191\t\t0x340\n#define BGMAC_TX_LEN_8192_TO_MAX\t\t0x344\n#define BGMAC_TX_JABBER_PKTS\t\t\t0x348\t\t \n#define BGMAC_TX_OVERSIZE_PKTS\t\t\t0x34c\t\t \n#define BGMAC_TX_FRAGMENT_PKTS\t\t\t0x350\n#define BGMAC_TX_UNDERRUNS\t\t\t0x354\t\t \n#define BGMAC_TX_TOTAL_COLS\t\t\t0x358\n#define BGMAC_TX_SINGLE_COLS\t\t\t0x35c\n#define BGMAC_TX_MULTIPLE_COLS\t\t\t0x360\n#define BGMAC_TX_EXCESSIVE_COLS\t\t\t0x364\t\t \n#define BGMAC_TX_LATE_COLS\t\t\t0x368\t\t \n#define BGMAC_TX_DEFERED\t\t\t0x36c\n#define BGMAC_TX_CARRIER_LOST\t\t\t0x370\n#define BGMAC_TX_PAUSE_PKTS\t\t\t0x374\n#define BGMAC_TX_UNI_PKTS\t\t\t0x378\n#define BGMAC_TX_Q0_PKTS\t\t\t0x37c\n#define BGMAC_TX_Q0_OCTETS\t\t\t0x380\n#define BGMAC_TX_Q0_OCTETS_HIGH\t\t\t0x384\n#define BGMAC_TX_Q1_PKTS\t\t\t0x388\n#define BGMAC_TX_Q1_OCTETS\t\t\t0x38c\n#define BGMAC_TX_Q1_OCTETS_HIGH\t\t\t0x390\n#define BGMAC_TX_Q2_PKTS\t\t\t0x394\n#define BGMAC_TX_Q2_OCTETS\t\t\t0x398\n#define BGMAC_TX_Q2_OCTETS_HIGH\t\t\t0x39c\n#define BGMAC_TX_Q3_PKTS\t\t\t0x3a0\n#define BGMAC_TX_Q3_OCTETS\t\t\t0x3a4\n#define BGMAC_TX_Q3_OCTETS_HIGH\t\t\t0x3a8\n#define BGMAC_RX_GOOD_OCTETS\t\t\t0x3b0\n#define BGMAC_RX_GOOD_OCTETS_HIGH\t\t0x3b4\n#define BGMAC_RX_GOOD_PKTS\t\t\t0x3b8\n#define BGMAC_RX_OCTETS\t\t\t\t0x3bc\n#define BGMAC_RX_OCTETS_HIGH\t\t\t0x3c0\n#define BGMAC_RX_PKTS\t\t\t\t0x3c4\n#define BGMAC_RX_BROADCAST_PKTS\t\t\t0x3c8\n#define BGMAC_RX_MULTICAST_PKTS\t\t\t0x3cc\n#define BGMAC_RX_LEN_64\t\t\t\t0x3d0\n#define BGMAC_RX_LEN_65_TO_127\t\t\t0x3d4\n#define BGMAC_RX_LEN_128_TO_255\t\t\t0x3d8\n#define BGMAC_RX_LEN_256_TO_511\t\t\t0x3dc\n#define BGMAC_RX_LEN_512_TO_1023\t\t0x3e0\n#define BGMAC_RX_LEN_1024_TO_1522\t\t0x3e4\n#define BGMAC_RX_LEN_1523_TO_2047\t\t0x3e8\n#define BGMAC_RX_LEN_2048_TO_4095\t\t0x3ec\n#define BGMAC_RX_LEN_4096_TO_8191\t\t0x3f0\n#define BGMAC_RX_LEN_8192_TO_MAX\t\t0x3f4\n#define BGMAC_RX_JABBER_PKTS\t\t\t0x3f8\t\t \n#define BGMAC_RX_OVERSIZE_PKTS\t\t\t0x3fc\t\t \n#define BGMAC_RX_FRAGMENT_PKTS\t\t\t0x400\n#define BGMAC_RX_MISSED_PKTS\t\t\t0x404\t\t \n#define BGMAC_RX_CRC_ALIGN_ERRS\t\t\t0x408\t\t \n#define BGMAC_RX_UNDERSIZE\t\t\t0x40c\t\t \n#define BGMAC_RX_CRC_ERRS\t\t\t0x410\t\t \n#define BGMAC_RX_ALIGN_ERRS\t\t\t0x414\t\t \n#define BGMAC_RX_SYMBOL_ERRS\t\t\t0x418\t\t \n#define BGMAC_RX_PAUSE_PKTS\t\t\t0x41c\n#define BGMAC_RX_NONPAUSE_PKTS\t\t\t0x420\n#define BGMAC_RX_SACHANGES\t\t\t0x424\n#define BGMAC_RX_UNI_PKTS\t\t\t0x428\n#define BGMAC_UNIMAC\t\t\t\t0x800\n\n \n#define BGMAC_BCMA_IOCTL_SW_CLKEN\t\t0x00000004\t \n#define BGMAC_BCMA_IOCTL_SW_RESET\t\t0x00000008\t \n \n#define BGMAC_CLK_EN\t\t\t\tBIT(0)\n#define BGMAC_RESERVED_0\t\t\tBIT(1)\n#define BGMAC_SOURCE_SYNC_MODE_EN\t\tBIT(2)\n#define BGMAC_DEST_SYNC_MODE_EN\t\t\tBIT(3)\n#define BGMAC_TX_CLK_OUT_INVERT_EN\t\tBIT(4)\n#define BGMAC_DIRECT_GMII_MODE\t\t\tBIT(5)\n#define BGMAC_CLK_250_SEL\t\t\tBIT(6)\n#define BGMAC_AWCACHE\t\t\t\t(0xf << 7)\n#define BGMAC_RESERVED_1\t\t\t(0x1f << 11)\n#define BGMAC_ARCACHE\t\t\t\t(0xf << 16)\n#define BGMAC_AWUSER\t\t\t\t(0x3f << 20)\n#define BGMAC_ARUSER\t\t\t\t(0x3f << 26)\n#define BGMAC_RESERVED\t\t\t\tBIT(31)\n\n \n#define BGMAC_BCMA_IOST_ATTACHED\t\t0x00000800\n\n#define BGMAC_NUM_MIB_TX_REGS\t\\\n\t\t(((BGMAC_TX_Q3_OCTETS_HIGH - BGMAC_TX_GOOD_OCTETS) / 4) + 1)\n#define BGMAC_NUM_MIB_RX_REGS\t\\\n\t\t(((BGMAC_RX_UNI_PKTS - BGMAC_RX_GOOD_OCTETS) / 4) + 1)\n\n#define BGMAC_DMA_TX_CTL\t\t\t0x00\n#define  BGMAC_DMA_TX_ENABLE\t\t\t0x00000001\n#define  BGMAC_DMA_TX_SUSPEND\t\t\t0x00000002\n#define  BGMAC_DMA_TX_LOOPBACK\t\t\t0x00000004\n#define  BGMAC_DMA_TX_FLUSH\t\t\t0x00000010\n#define  BGMAC_DMA_TX_MR_MASK\t\t\t0x000000C0\t \n#define  BGMAC_DMA_TX_MR_SHIFT\t\t\t6\n#define   BGMAC_DMA_TX_MR_1\t\t\t0\n#define   BGMAC_DMA_TX_MR_2\t\t\t1\n#define  BGMAC_DMA_TX_PARITY_DISABLE\t\t0x00000800\n#define  BGMAC_DMA_TX_ADDREXT_MASK\t\t0x00030000\n#define  BGMAC_DMA_TX_ADDREXT_SHIFT\t\t16\n#define  BGMAC_DMA_TX_BL_MASK\t\t\t0x001C0000\t \n#define  BGMAC_DMA_TX_BL_SHIFT\t\t\t18\n#define   BGMAC_DMA_TX_BL_16\t\t\t0\n#define   BGMAC_DMA_TX_BL_32\t\t\t1\n#define   BGMAC_DMA_TX_BL_64\t\t\t2\n#define   BGMAC_DMA_TX_BL_128\t\t\t3\n#define   BGMAC_DMA_TX_BL_256\t\t\t4\n#define   BGMAC_DMA_TX_BL_512\t\t\t5\n#define   BGMAC_DMA_TX_BL_1024\t\t\t6\n#define  BGMAC_DMA_TX_PC_MASK\t\t\t0x00E00000\t \n#define  BGMAC_DMA_TX_PC_SHIFT\t\t\t21\n#define   BGMAC_DMA_TX_PC_0\t\t\t0\n#define   BGMAC_DMA_TX_PC_4\t\t\t1\n#define   BGMAC_DMA_TX_PC_8\t\t\t2\n#define   BGMAC_DMA_TX_PC_16\t\t\t3\n#define  BGMAC_DMA_TX_PT_MASK\t\t\t0x03000000\t \n#define  BGMAC_DMA_TX_PT_SHIFT\t\t\t24\n#define   BGMAC_DMA_TX_PT_1\t\t\t0\n#define   BGMAC_DMA_TX_PT_2\t\t\t1\n#define   BGMAC_DMA_TX_PT_4\t\t\t2\n#define   BGMAC_DMA_TX_PT_8\t\t\t3\n#define BGMAC_DMA_TX_INDEX\t\t\t0x04\n#define BGMAC_DMA_TX_RINGLO\t\t\t0x08\n#define BGMAC_DMA_TX_RINGHI\t\t\t0x0C\n#define BGMAC_DMA_TX_STATUS\t\t\t0x10\n#define  BGMAC_DMA_TX_STATDPTR\t\t\t0x00001FFF\n#define  BGMAC_DMA_TX_STAT\t\t\t0xF0000000\n#define   BGMAC_DMA_TX_STAT_DISABLED\t\t0x00000000\n#define   BGMAC_DMA_TX_STAT_ACTIVE\t\t0x10000000\n#define   BGMAC_DMA_TX_STAT_IDLEWAIT\t\t0x20000000\n#define   BGMAC_DMA_TX_STAT_STOPPED\t\t0x30000000\n#define   BGMAC_DMA_TX_STAT_SUSP\t\t0x40000000\n#define BGMAC_DMA_TX_ERROR\t\t\t0x14\n#define  BGMAC_DMA_TX_ERRDPTR\t\t\t0x0001FFFF\n#define  BGMAC_DMA_TX_ERR\t\t\t0xF0000000\n#define   BGMAC_DMA_TX_ERR_NOERR\t\t0x00000000\n#define   BGMAC_DMA_TX_ERR_PROT\t\t\t0x10000000\n#define   BGMAC_DMA_TX_ERR_UNDERRUN\t\t0x20000000\n#define   BGMAC_DMA_TX_ERR_TRANSFER\t\t0x30000000\n#define   BGMAC_DMA_TX_ERR_DESCREAD\t\t0x40000000\n#define   BGMAC_DMA_TX_ERR_CORE\t\t\t0x50000000\n#define BGMAC_DMA_RX_CTL\t\t\t0x20\n#define  BGMAC_DMA_RX_ENABLE\t\t\t0x00000001\n#define  BGMAC_DMA_RX_FRAME_OFFSET_MASK\t\t0x000000FE\n#define  BGMAC_DMA_RX_FRAME_OFFSET_SHIFT\t1\n#define  BGMAC_DMA_RX_DIRECT_FIFO\t\t0x00000100\n#define  BGMAC_DMA_RX_OVERFLOW_CONT\t\t0x00000400\n#define  BGMAC_DMA_RX_PARITY_DISABLE\t\t0x00000800\n#define  BGMAC_DMA_RX_MR_MASK\t\t\t0x000000C0\t \n#define  BGMAC_DMA_RX_MR_SHIFT\t\t\t6\n#define   BGMAC_DMA_TX_MR_1\t\t\t0\n#define   BGMAC_DMA_TX_MR_2\t\t\t1\n#define  BGMAC_DMA_RX_ADDREXT_MASK\t\t0x00030000\n#define  BGMAC_DMA_RX_ADDREXT_SHIFT\t\t16\n#define  BGMAC_DMA_RX_BL_MASK\t\t\t0x001C0000\t \n#define  BGMAC_DMA_RX_BL_SHIFT\t\t\t18\n#define   BGMAC_DMA_RX_BL_16\t\t\t0\n#define   BGMAC_DMA_RX_BL_32\t\t\t1\n#define   BGMAC_DMA_RX_BL_64\t\t\t2\n#define   BGMAC_DMA_RX_BL_128\t\t\t3\n#define   BGMAC_DMA_RX_BL_256\t\t\t4\n#define   BGMAC_DMA_RX_BL_512\t\t\t5\n#define   BGMAC_DMA_RX_BL_1024\t\t\t6\n#define  BGMAC_DMA_RX_PC_MASK\t\t\t0x00E00000\t \n#define  BGMAC_DMA_RX_PC_SHIFT\t\t\t21\n#define   BGMAC_DMA_RX_PC_0\t\t\t0\n#define   BGMAC_DMA_RX_PC_4\t\t\t1\n#define   BGMAC_DMA_RX_PC_8\t\t\t2\n#define   BGMAC_DMA_RX_PC_16\t\t\t3\n#define  BGMAC_DMA_RX_PT_MASK\t\t\t0x03000000\t \n#define  BGMAC_DMA_RX_PT_SHIFT\t\t\t24\n#define   BGMAC_DMA_RX_PT_1\t\t\t0\n#define   BGMAC_DMA_RX_PT_2\t\t\t1\n#define   BGMAC_DMA_RX_PT_4\t\t\t2\n#define   BGMAC_DMA_RX_PT_8\t\t\t3\n#define BGMAC_DMA_RX_INDEX\t\t\t0x24\n#define BGMAC_DMA_RX_RINGLO\t\t\t0x28\n#define BGMAC_DMA_RX_RINGHI\t\t\t0x2C\n#define BGMAC_DMA_RX_STATUS\t\t\t0x30\n#define  BGMAC_DMA_RX_STATDPTR\t\t\t0x00001FFF\n#define  BGMAC_DMA_RX_STAT\t\t\t0xF0000000\n#define   BGMAC_DMA_RX_STAT_DISABLED\t\t0x00000000\n#define   BGMAC_DMA_RX_STAT_ACTIVE\t\t0x10000000\n#define   BGMAC_DMA_RX_STAT_IDLEWAIT\t\t0x20000000\n#define   BGMAC_DMA_RX_STAT_STOPPED\t\t0x30000000\n#define   BGMAC_DMA_RX_STAT_SUSP\t\t0x40000000\n#define BGMAC_DMA_RX_ERROR\t\t\t0x34\n#define  BGMAC_DMA_RX_ERRDPTR\t\t\t0x0001FFFF\n#define  BGMAC_DMA_RX_ERR\t\t\t0xF0000000\n#define   BGMAC_DMA_RX_ERR_NOERR\t\t0x00000000\n#define   BGMAC_DMA_RX_ERR_PROT\t\t\t0x10000000\n#define   BGMAC_DMA_RX_ERR_UNDERRUN\t\t0x20000000\n#define   BGMAC_DMA_RX_ERR_TRANSFER\t\t0x30000000\n#define   BGMAC_DMA_RX_ERR_DESCREAD\t\t0x40000000\n#define   BGMAC_DMA_RX_ERR_CORE\t\t\t0x50000000\n\n#define BGMAC_DESC_CTL0_EOT\t\t\t0x10000000\t \n#define BGMAC_DESC_CTL0_IOC\t\t\t0x20000000\t \n#define BGMAC_DESC_CTL0_EOF\t\t\t0x40000000\t \n#define BGMAC_DESC_CTL0_SOF\t\t\t0x80000000\t \n#define BGMAC_DESC_CTL1_LEN\t\t\t0x00003FFF\n\n#define BGMAC_PHY_NOREGS\t\t\tBRCM_PSEUDO_PHY_ADDR\n#define BGMAC_PHY_MASK\t\t\t\t0x1F\n\n#define BGMAC_MAX_TX_RINGS\t\t\t4\n#define BGMAC_MAX_RX_RINGS\t\t\t1\n\n#define BGMAC_TX_RING_SLOTS\t\t\t128\n#define BGMAC_RX_RING_SLOTS\t\t\t512\n\n#define BGMAC_RX_HEADER_LEN\t\t\t28\t\t \n#define BGMAC_RX_FRAME_OFFSET\t\t\t30\t\t \n#define BGMAC_RX_BUF_OFFSET\t\t\t(NET_SKB_PAD + NET_IP_ALIGN - \\\n\t\t\t\t\t\t BGMAC_RX_FRAME_OFFSET)\n \n#define BGMAC_RX_MAX_FRAME_SIZE\t\t\t9724\n#define BGMAC_RX_BUF_SIZE\t\t\t(BGMAC_RX_FRAME_OFFSET + BGMAC_RX_MAX_FRAME_SIZE)\n#define BGMAC_RX_ALLOC_SIZE\t\t\t(SKB_DATA_ALIGN(BGMAC_RX_BUF_SIZE + BGMAC_RX_BUF_OFFSET) + \\\n\t\t\t\t\t\t SKB_DATA_ALIGN(sizeof(struct skb_shared_info)))\n\n#define BGMAC_BFL_ENETROBO\t\t\t0x0010\t\t \n#define BGMAC_BFL_ENETADM\t\t\t0x0080\t\t \n#define BGMAC_BFL_ENETVLAN\t\t\t0x0100\t\t \n\n#define BGMAC_CHIPCTL_1_IF_TYPE_MASK\t\t0x00000030\n#define BGMAC_CHIPCTL_1_IF_TYPE_RMII\t\t0x00000000\n#define BGMAC_CHIPCTL_1_IF_TYPE_MII\t\t0x00000010\n#define BGMAC_CHIPCTL_1_IF_TYPE_RGMII\t\t0x00000020\n#define BGMAC_CHIPCTL_1_SW_TYPE_MASK\t\t0x000000C0\n#define BGMAC_CHIPCTL_1_SW_TYPE_EPHY\t\t0x00000000\n#define BGMAC_CHIPCTL_1_SW_TYPE_EPHYMII\t\t0x00000040\n#define BGMAC_CHIPCTL_1_SW_TYPE_EPHYRMII\t0x00000080\n#define BGMAC_CHIPCTL_1_SW_TYPE_RGMII\t\t0x000000C0\n#define BGMAC_CHIPCTL_1_RXC_DLL_BYPASS\t\t0x00010000\n\n#define BGMAC_CHIPCTL_4_IF_TYPE_MASK\t\t0x00003000\n#define BGMAC_CHIPCTL_4_IF_TYPE_RMII\t\t0x00000000\n#define BGMAC_CHIPCTL_4_IF_TYPE_MII\t\t0x00001000\n#define BGMAC_CHIPCTL_4_IF_TYPE_RGMII\t\t0x00002000\n#define BGMAC_CHIPCTL_4_SW_TYPE_MASK\t\t0x0000C000\n#define BGMAC_CHIPCTL_4_SW_TYPE_EPHY\t\t0x00000000\n#define BGMAC_CHIPCTL_4_SW_TYPE_EPHYMII\t\t0x00004000\n#define BGMAC_CHIPCTL_4_SW_TYPE_EPHYRMII\t0x00008000\n#define BGMAC_CHIPCTL_4_SW_TYPE_RGMII\t\t0x0000C000\n\n#define BGMAC_CHIPCTL_7_IF_TYPE_MASK\t\t0x000000C0\n#define BGMAC_CHIPCTL_7_IF_TYPE_RMII\t\t0x00000000\n#define BGMAC_CHIPCTL_7_IF_TYPE_MII\t\t0x00000040\n#define BGMAC_CHIPCTL_7_IF_TYPE_RGMII\t\t0x00000080\n\n#define ETHER_MAX_LEN\t(ETH_FRAME_LEN + ETH_FCS_LEN)\n\n \n#define BGMAC_FEAT_TX_MASK_SETUP\tBIT(0)\n#define BGMAC_FEAT_RX_MASK_SETUP\tBIT(1)\n#define BGMAC_FEAT_IOST_ATTACHED\tBIT(2)\n#define BGMAC_FEAT_NO_RESET\t\tBIT(3)\n#define BGMAC_FEAT_MISC_PLL_REQ\t\tBIT(4)\n#define BGMAC_FEAT_SW_TYPE_PHY\t\tBIT(5)\n#define BGMAC_FEAT_SW_TYPE_EPHYRMII\tBIT(6)\n#define BGMAC_FEAT_SW_TYPE_RGMII\tBIT(7)\n#define BGMAC_FEAT_CMN_PHY_CTL\t\tBIT(8)\n#define BGMAC_FEAT_FLW_CTRL1\t\tBIT(9)\n#define BGMAC_FEAT_FLW_CTRL2\t\tBIT(10)\n#define BGMAC_FEAT_SET_RXQ_CLK\t\tBIT(11)\n#define BGMAC_FEAT_CLKCTLST\t\tBIT(12)\n#define BGMAC_FEAT_NO_CLR_MIB\t\tBIT(13)\n#define BGMAC_FEAT_FORCE_SPEED_2500\tBIT(14)\n#define BGMAC_FEAT_CMDCFG_SR_REV4\tBIT(15)\n#define BGMAC_FEAT_IRQ_ID_OOB_6\t\tBIT(16)\n#define BGMAC_FEAT_CC4_IF_SW_TYPE\tBIT(17)\n#define BGMAC_FEAT_CC4_IF_SW_TYPE_RGMII\tBIT(18)\n#define BGMAC_FEAT_CC7_IF_TYPE_RGMII\tBIT(19)\n#define BGMAC_FEAT_IDM_MASK\t\tBIT(20)\n\nstruct bgmac_slot_info {\n\tunion {\n\t\tstruct sk_buff *skb;\n\t\tvoid *buf;\n\t};\n\tdma_addr_t dma_addr;\n};\n\nstruct bgmac_dma_desc {\n\t__le32 ctl0;\n\t__le32 ctl1;\n\t__le32 addr_low;\n\t__le32 addr_high;\n} __packed;\n\nenum bgmac_dma_ring_type {\n\tBGMAC_DMA_RING_TX,\n\tBGMAC_DMA_RING_RX,\n};\n\n \nstruct bgmac_dma_ring {\n\tu32 start;\n\tu32 end;\n\n\tstruct bgmac_dma_desc *cpu_base;\n\tdma_addr_t dma_base;\n\tu32 index_base;  \n\tu16 mmio_base;\n\tbool unaligned;\n\n\tstruct bgmac_slot_info slots[BGMAC_RX_RING_SLOTS];\n};\n\nstruct bgmac_rx_header {\n\t__le16 len;\n\t__le16 flags;\n\t__le16 pad[12];\n};\n\nstruct bgmac {\n\tunion {\n\t\tstruct {\n\t\t\tvoid __iomem *base;\n\t\t\tvoid __iomem *idm_base;\n\t\t\tvoid __iomem *nicpm_base;\n\t\t} plat;\n\t\tstruct {\n\t\t\tstruct bcma_device *core;\n\t\t\t \n\t\t\tstruct bcma_device *cmn;\n\t\t} bcma;\n\t};\n\n\tstruct device *dev;\n\tstruct device *dma_dev;\n\tu32 feature_flags;\n\n\tstruct net_device *net_dev;\n\tstruct napi_struct napi;\n\tstruct mii_bus *mii_bus;\n\n\t \n\tstruct bgmac_dma_ring tx_ring[BGMAC_MAX_TX_RINGS];\n\tstruct bgmac_dma_ring rx_ring[BGMAC_MAX_RX_RINGS];\n\n\t \n\tbool stats_grabbed;\n\tu32 mib_tx_regs[BGMAC_NUM_MIB_TX_REGS];\n\tu32 mib_rx_regs[BGMAC_NUM_MIB_RX_REGS];\n\n\t \n\tint irq;\n\tu32 int_mask;\n\n\tbool in_init;\n\n\t \n\tint mac_speed;\n\tint mac_duplex;\n\n\tu8 phyaddr;\n\tbool has_robosw;\n\n\tbool loopback;\n\n\tu32 (*read)(struct bgmac *bgmac, u16 offset);\n\tvoid (*write)(struct bgmac *bgmac, u16 offset, u32 value);\n\tu32 (*idm_read)(struct bgmac *bgmac, u16 offset);\n\tvoid (*idm_write)(struct bgmac *bgmac, u16 offset, u32 value);\n\tbool (*clk_enabled)(struct bgmac *bgmac);\n\tvoid (*clk_enable)(struct bgmac *bgmac, u32 flags);\n\tvoid (*cco_ctl_maskset)(struct bgmac *bgmac, u32 offset, u32 mask,\n\t\t\t\tu32 set);\n\tu32 (*get_bus_clock)(struct bgmac *bgmac);\n\tvoid (*cmn_maskset32)(struct bgmac *bgmac, u16 offset, u32 mask,\n\t\t\t      u32 set);\n\tint (*phy_connect)(struct bgmac *bgmac);\n};\n\nstruct bgmac *bgmac_alloc(struct device *dev);\nint bgmac_enet_probe(struct bgmac *bgmac);\nvoid bgmac_enet_remove(struct bgmac *bgmac);\nvoid bgmac_adjust_link(struct net_device *net_dev);\nint bgmac_phy_connect_direct(struct bgmac *bgmac);\nint bgmac_enet_suspend(struct bgmac *bgmac);\nint bgmac_enet_resume(struct bgmac *bgmac);\n\nstruct mii_bus *bcma_mdio_mii_register(struct bgmac *bgmac);\nvoid bcma_mdio_mii_unregister(struct mii_bus *mii_bus);\n\nstatic inline u32 bgmac_read(struct bgmac *bgmac, u16 offset)\n{\n\treturn bgmac->read(bgmac, offset);\n}\n\nstatic inline void bgmac_write(struct bgmac *bgmac, u16 offset, u32 value)\n{\n\tbgmac->write(bgmac, offset, value);\n}\n\nstatic inline u32 bgmac_umac_read(struct bgmac *bgmac, u16 offset)\n{\n\treturn bgmac_read(bgmac, BGMAC_UNIMAC + offset);\n}\n\nstatic inline void bgmac_umac_write(struct bgmac *bgmac, u16 offset, u32 value)\n{\n\tbgmac_write(bgmac, BGMAC_UNIMAC + offset, value);\n}\n\nstatic inline u32 bgmac_idm_read(struct bgmac *bgmac, u16 offset)\n{\n\treturn bgmac->idm_read(bgmac, offset);\n}\n\nstatic inline void bgmac_idm_write(struct bgmac *bgmac, u16 offset, u32 value)\n{\n\tbgmac->idm_write(bgmac, offset, value);\n}\n\nstatic inline bool bgmac_clk_enabled(struct bgmac *bgmac)\n{\n\treturn bgmac->clk_enabled(bgmac);\n}\n\nstatic inline void bgmac_clk_enable(struct bgmac *bgmac, u32 flags)\n{\n\tbgmac->clk_enable(bgmac, flags);\n}\n\nstatic inline void bgmac_cco_ctl_maskset(struct bgmac *bgmac, u32 offset,\n\t\t\t\t\t u32 mask, u32 set)\n{\n\tbgmac->cco_ctl_maskset(bgmac, offset, mask, set);\n}\n\nstatic inline u32 bgmac_get_bus_clock(struct bgmac *bgmac)\n{\n\treturn bgmac->get_bus_clock(bgmac);\n}\n\nstatic inline void bgmac_cmn_maskset32(struct bgmac *bgmac, u16 offset,\n\t\t\t\t       u32 mask, u32 set)\n{\n\tbgmac->cmn_maskset32(bgmac, offset, mask, set);\n}\n\nstatic inline void bgmac_maskset(struct bgmac *bgmac, u16 offset, u32 mask,\n\t\t\t\t   u32 set)\n{\n\tbgmac_write(bgmac, offset, (bgmac_read(bgmac, offset) & mask) | set);\n}\n\nstatic inline void bgmac_mask(struct bgmac *bgmac, u16 offset, u32 mask)\n{\n\tbgmac_maskset(bgmac, offset, mask, 0);\n}\n\nstatic inline void bgmac_set(struct bgmac *bgmac, u16 offset, u32 set)\n{\n\tbgmac_maskset(bgmac, offset, ~0, set);\n}\n\nstatic inline void bgmac_umac_maskset(struct bgmac *bgmac, u16 offset, u32 mask, u32 set)\n{\n\tbgmac_maskset(bgmac, BGMAC_UNIMAC + offset, mask, set);\n}\n\nstatic inline int bgmac_phy_connect(struct bgmac *bgmac)\n{\n\treturn bgmac->phy_connect(bgmac);\n}\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}