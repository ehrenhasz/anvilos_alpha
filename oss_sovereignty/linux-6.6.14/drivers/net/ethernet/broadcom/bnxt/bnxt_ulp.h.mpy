{
  "module_name": "bnxt_ulp.h",
  "hash_id": "988e709111588e325b38395f78ef1e86d13ed08d446a21efc6b614a62e3ace72",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/broadcom/bnxt/bnxt_ulp.h",
  "human_readable_source": " \n\n#ifndef BNXT_ULP_H\n#define BNXT_ULP_H\n\n#define BNXT_ROCE_ULP\t0\n#define BNXT_MAX_ULP\t1\n\n#define BNXT_MIN_ROCE_CP_RINGS\t2\n#define BNXT_MIN_ROCE_STAT_CTXS\t1\n#define BNXT_MAX_ROCE_MSIX\t9\n#define BNXT_MAX_VF_ROCE_MSIX\t2\n\nstruct hwrm_async_event_cmpl;\nstruct bnxt;\n\nstruct bnxt_msix_entry {\n\tu32\tvector;\n\tu32\tring_idx;\n\tu32\tdb_offset;\n};\n\nstruct bnxt_ulp_ops {\n\tvoid (*ulp_irq_stop)(void *);\n\tvoid (*ulp_irq_restart)(void *, struct bnxt_msix_entry *);\n};\n\nstruct bnxt_fw_msg {\n\tvoid\t*msg;\n\tint\tmsg_len;\n\tvoid\t*resp;\n\tint\tresp_max_len;\n\tint\ttimeout;\n};\n\nstruct bnxt_ulp {\n\tvoid\t\t*handle;\n\tstruct bnxt_ulp_ops __rcu *ulp_ops;\n\tunsigned long\t*async_events_bmap;\n\tu16\t\tmax_async_event_id;\n\tu16\t\tmsix_requested;\n\tu16\t\tmsix_base;\n\tatomic_t\tref_count;\n};\n\nstruct bnxt_en_dev {\n\tstruct net_device *net;\n\tstruct pci_dev *pdev;\n\tstruct bnxt_msix_entry\t\t\tmsix_entries[BNXT_MAX_ROCE_MSIX];\n\tu32 flags;\n\t#define BNXT_EN_FLAG_ROCEV1_CAP\t\t0x1\n\t#define BNXT_EN_FLAG_ROCEV2_CAP\t\t0x2\n\t#define BNXT_EN_FLAG_ROCE_CAP\t\t(BNXT_EN_FLAG_ROCEV1_CAP | \\\n\t\t\t\t\t\t BNXT_EN_FLAG_ROCEV2_CAP)\n\t#define BNXT_EN_FLAG_MSIX_REQUESTED\t0x4\n\t#define BNXT_EN_FLAG_ULP_STOPPED\t0x8\n\t#define BNXT_EN_FLAG_VF\t\t\t0x10\n#define BNXT_EN_VF(edev)\t((edev)->flags & BNXT_EN_FLAG_VF)\n\n\tstruct bnxt_ulp\t\t\t*ulp_tbl;\n\tint\t\t\t\tl2_db_size;\t \n\tint\t\t\t\tl2_db_size_nc;\t \n\tu16\t\t\t\tchip_num;\n\tu16\t\t\t\thw_ring_stats_size;\n\tu16\t\t\t\tpf_port_id;\n\tunsigned long\t\t\ten_state;\t \n\tvoid __iomem                    *bar0;\n};\n\nstatic inline bool bnxt_ulp_registered(struct bnxt_en_dev *edev)\n{\n\tif (edev && edev->ulp_tbl)\n\t\treturn true;\n\treturn false;\n}\n\nint bnxt_get_ulp_msix_num(struct bnxt *bp);\nint bnxt_get_ulp_msix_base(struct bnxt *bp);\nint bnxt_get_ulp_stat_ctxs(struct bnxt *bp);\nvoid bnxt_ulp_stop(struct bnxt *bp);\nvoid bnxt_ulp_start(struct bnxt *bp, int err);\nvoid bnxt_ulp_sriov_cfg(struct bnxt *bp, int num_vfs);\nvoid bnxt_ulp_irq_stop(struct bnxt *bp);\nvoid bnxt_ulp_irq_restart(struct bnxt *bp, int err);\nvoid bnxt_ulp_async_events(struct bnxt *bp, struct hwrm_async_event_cmpl *cmpl);\nvoid bnxt_rdma_aux_device_uninit(struct bnxt *bp);\nvoid bnxt_rdma_aux_device_init(struct bnxt *bp);\nint bnxt_register_dev(struct bnxt_en_dev *edev, struct bnxt_ulp_ops *ulp_ops,\n\t\t      void *handle);\nvoid bnxt_unregister_dev(struct bnxt_en_dev *edev);\nint bnxt_send_msg(struct bnxt_en_dev *edev, struct bnxt_fw_msg *fw_msg);\nint bnxt_register_async_events(struct bnxt_en_dev *edev,\n\t\t\t       unsigned long *events_bmap, u16 max_id);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}