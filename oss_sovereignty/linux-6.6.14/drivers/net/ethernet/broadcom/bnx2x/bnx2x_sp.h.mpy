{
  "module_name": "bnx2x_sp.h",
  "hash_id": "969d94f8a6d24e2fec990fafc62a4f3f06988c1efbaa8468a658f68e3bf20a10",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/broadcom/bnx2x/bnx2x_sp.h",
  "human_readable_source": " \n#ifndef BNX2X_SP_VERBS\n#define BNX2X_SP_VERBS\n\nstruct bnx2x;\nstruct eth_context;\n\n \nenum {\n\tRAMROD_TX,\n\tRAMROD_RX,\n\t \n\tRAMROD_COMP_WAIT,\n\t \n\tRAMROD_DRV_CLR_ONLY,\n\t \n\tRAMROD_RESTORE,\n\t  \n\tRAMROD_EXEC,\n\t \n\tRAMROD_CONT,\n\t \n\tRAMROD_RETRY,\n};\n\ntypedef enum {\n\tBNX2X_OBJ_TYPE_RX,\n\tBNX2X_OBJ_TYPE_TX,\n\tBNX2X_OBJ_TYPE_RX_TX,\n} bnx2x_obj_type;\n\n \nenum {\n\tBNX2X_FILTER_MAC_PENDING,\n\tBNX2X_FILTER_VLAN_PENDING,\n\tBNX2X_FILTER_VLAN_MAC_PENDING,\n\tBNX2X_FILTER_RX_MODE_PENDING,\n\tBNX2X_FILTER_RX_MODE_SCHED,\n\tBNX2X_FILTER_ISCSI_ETH_START_SCHED,\n\tBNX2X_FILTER_ISCSI_ETH_STOP_SCHED,\n\tBNX2X_FILTER_FCOE_ETH_START_SCHED,\n\tBNX2X_FILTER_FCOE_ETH_STOP_SCHED,\n\tBNX2X_FILTER_MCAST_PENDING,\n\tBNX2X_FILTER_MCAST_SCHED,\n\tBNX2X_FILTER_RSS_CONF_PENDING,\n\tBNX2X_AFEX_FCOE_Q_UPDATE_PENDING,\n\tBNX2X_AFEX_PENDING_VIFSET_MCP_ACK\n};\n\nstruct bnx2x_raw_obj {\n\tu8\t\tfunc_id;\n\n\t \n\tu8\t\tcl_id;\n\tu32\t\tcid;\n\n\t \n\tvoid\t\t*rdata;\n\tdma_addr_t\trdata_mapping;\n\n\t \n\tint\t\tstate;    \n\tunsigned long\t*pstate;  \n\n\tbnx2x_obj_type\tobj_type;\n\n\tint (*wait_comp)(struct bnx2x *bp,\n\t\t\t struct bnx2x_raw_obj *o);\n\n\tbool (*check_pending)(struct bnx2x_raw_obj *o);\n\tvoid (*clear_pending)(struct bnx2x_raw_obj *o);\n\tvoid (*set_pending)(struct bnx2x_raw_obj *o);\n};\n\n \nstruct bnx2x_mac_ramrod_data {\n\tu8 mac[ETH_ALEN];\n\tu8 is_inner_mac;\n};\n\nstruct bnx2x_vlan_ramrod_data {\n\tu16 vlan;\n};\n\nstruct bnx2x_vlan_mac_ramrod_data {\n\tu8 mac[ETH_ALEN];\n\tu8 is_inner_mac;\n\tu16 vlan;\n};\n\nunion bnx2x_classification_ramrod_data {\n\tstruct bnx2x_mac_ramrod_data mac;\n\tstruct bnx2x_vlan_ramrod_data vlan;\n\tstruct bnx2x_vlan_mac_ramrod_data vlan_mac;\n};\n\n \nenum bnx2x_vlan_mac_cmd {\n\tBNX2X_VLAN_MAC_ADD,\n\tBNX2X_VLAN_MAC_DEL,\n\tBNX2X_VLAN_MAC_MOVE,\n};\n\nstruct bnx2x_vlan_mac_data {\n\t \n\tenum bnx2x_vlan_mac_cmd cmd;\n\t \n\tunsigned long vlan_mac_flags;\n\n\t \n\tstruct bnx2x_vlan_mac_obj *target_obj;\n\n\tunion bnx2x_classification_ramrod_data u;\n};\n\n \nunion bnx2x_exe_queue_cmd_data {\n\tstruct bnx2x_vlan_mac_data vlan_mac;\n\n\tstruct {\n\t\t \n\t} mcast;\n};\n\nstruct bnx2x_exeq_elem {\n\tstruct list_head\t\tlink;\n\n\t \n\tint\t\t\t\tcmd_len;\n\n\tunion bnx2x_exe_queue_cmd_data\tcmd_data;\n};\n\nunion bnx2x_qable_obj;\n\nunion bnx2x_exeq_comp_elem {\n\tunion event_ring_elem *elem;\n};\n\nstruct bnx2x_exe_queue_obj;\n\ntypedef int (*exe_q_validate)(struct bnx2x *bp,\n\t\t\t      union bnx2x_qable_obj *o,\n\t\t\t      struct bnx2x_exeq_elem *elem);\n\ntypedef int (*exe_q_remove)(struct bnx2x *bp,\n\t\t\t    union bnx2x_qable_obj *o,\n\t\t\t    struct bnx2x_exeq_elem *elem);\n\n \ntypedef int (*exe_q_optimize)(struct bnx2x *bp,\n\t\t\t      union bnx2x_qable_obj *o,\n\t\t\t      struct bnx2x_exeq_elem *elem);\ntypedef int (*exe_q_execute)(struct bnx2x *bp,\n\t\t\t     union bnx2x_qable_obj *o,\n\t\t\t     struct list_head *exe_chunk,\n\t\t\t     unsigned long *ramrod_flags);\ntypedef struct bnx2x_exeq_elem *\n\t\t\t(*exe_q_get)(struct bnx2x_exe_queue_obj *o,\n\t\t\t\t     struct bnx2x_exeq_elem *elem);\n\nstruct bnx2x_exe_queue_obj {\n\t \n\tstruct list_head\texe_queue;\n\n\t \n\tstruct list_head\tpending_comp;\n\n\tspinlock_t\t\tlock;\n\n\t \n\tint\t\t\texe_chunk_len;\n\n\tunion bnx2x_qable_obj\t*owner;\n\n\t \n\t \n\texe_q_validate\t\tvalidate;\n\n\t \n\t exe_q_remove\t\tremove;\n\n\t \n\texe_q_optimize\t\toptimize;\n\n\t \n\texe_q_execute\t\texecute;\n\n\t \n\texe_q_get\t\tget;\n};\n \n \nstruct bnx2x_vlan_mac_registry_elem {\n\tstruct list_head\tlink;\n\n\t \n\tint\t\t\tcam_offset;\n\n\t \n\tunsigned long\t\tvlan_mac_flags;\n\n\tunion bnx2x_classification_ramrod_data u;\n};\n\n \nenum {\n\tBNX2X_UC_LIST_MAC,\n\tBNX2X_ETH_MAC,\n\tBNX2X_ISCSI_ETH_MAC,\n\tBNX2X_NETQ_ETH_MAC,\n\tBNX2X_VLAN,\n\tBNX2X_DONT_CONSUME_CAM_CREDIT,\n\tBNX2X_DONT_CONSUME_CAM_CREDIT_DEST,\n};\n \n#define BNX2X_VLAN_MAC_CMP_MASK\t(1 << BNX2X_UC_LIST_MAC | \\\n\t\t\t\t 1 << BNX2X_ETH_MAC | \\\n\t\t\t\t 1 << BNX2X_ISCSI_ETH_MAC | \\\n\t\t\t\t 1 << BNX2X_NETQ_ETH_MAC | \\\n\t\t\t\t 1 << BNX2X_VLAN)\n#define BNX2X_VLAN_MAC_CMP_FLAGS(flags) \\\n\t((flags) & BNX2X_VLAN_MAC_CMP_MASK)\n\nstruct bnx2x_vlan_mac_ramrod_params {\n\t \n\tstruct bnx2x_vlan_mac_obj *vlan_mac_obj;\n\n\t \n\tunsigned long ramrod_flags;\n\n\t \n\tstruct bnx2x_vlan_mac_data user_req;\n};\n\nstruct bnx2x_vlan_mac_obj {\n\tstruct bnx2x_raw_obj raw;\n\n\t \n\tstruct list_head\t\thead;\n\t \n\tu8\t\thead_reader;  \n\tbool\t\thead_exe_request;  \n\tunsigned long\tsaved_ramrod_flags;  \n\n\t \n\tstruct bnx2x_exe_queue_obj\texe_queue;\n\n\t \n\tstruct bnx2x_credit_pool_obj\t*macs_pool;\n\n\t \n\tstruct bnx2x_credit_pool_obj\t*vlans_pool;\n\n\t \n\tint\t\t\t\tramrod_cmd;\n\n\t \n\tint (*get_n_elements)(struct bnx2x *bp,\n\t\t\t      struct bnx2x_vlan_mac_obj *o, int n, u8 *base,\n\t\t\t      u8 stride, u8 size);\n\n\t \n\n\tint (*check_add)(struct bnx2x *bp,\n\t\t\t struct bnx2x_vlan_mac_obj *o,\n\t\t\t union bnx2x_classification_ramrod_data *data);\n\n\t \n\tstruct bnx2x_vlan_mac_registry_elem *\n\t\t(*check_del)(struct bnx2x *bp,\n\t\t\t     struct bnx2x_vlan_mac_obj *o,\n\t\t\t     union bnx2x_classification_ramrod_data *data);\n\n\t \n\tbool (*check_move)(struct bnx2x *bp,\n\t\t\t   struct bnx2x_vlan_mac_obj *src_o,\n\t\t\t   struct bnx2x_vlan_mac_obj *dst_o,\n\t\t\t   union bnx2x_classification_ramrod_data *data);\n\n\t \n\tbool (*get_credit)(struct bnx2x_vlan_mac_obj *o);\n\tbool (*put_credit)(struct bnx2x_vlan_mac_obj *o);\n\tbool (*get_cam_offset)(struct bnx2x_vlan_mac_obj *o, int *offset);\n\tbool (*put_cam_offset)(struct bnx2x_vlan_mac_obj *o, int offset);\n\n\t \n\tvoid (*set_one_rule)(struct bnx2x *bp,\n\t\t\t     struct bnx2x_vlan_mac_obj *o,\n\t\t\t     struct bnx2x_exeq_elem *elem, int rule_idx,\n\t\t\t     int cam_offset);\n\n\t \n\tint (*delete_all)(struct bnx2x *bp,\n\t\t\t  struct bnx2x_vlan_mac_obj *o,\n\t\t\t  unsigned long *vlan_mac_flags,\n\t\t\t  unsigned long *ramrod_flags);\n\n\t \n\tint (*restore)(struct bnx2x *bp,\n\t\t       struct bnx2x_vlan_mac_ramrod_params *p,\n\t\t       struct bnx2x_vlan_mac_registry_elem **ppos);\n\n\t \n\tint (*complete)(struct bnx2x *bp, struct bnx2x_vlan_mac_obj *o,\n\t\t\tunion event_ring_elem *cqe,\n\t\t\tunsigned long *ramrod_flags);\n\n\t \n\tint (*wait)(struct bnx2x *bp, struct bnx2x_vlan_mac_obj *o);\n};\n\nenum {\n\tBNX2X_LLH_CAM_ISCSI_ETH_LINE = 0,\n\tBNX2X_LLH_CAM_ETH_LINE,\n\tBNX2X_LLH_CAM_MAX_PF_LINE = NIG_REG_LLH1_FUNC_MEM_SIZE / 2\n};\n\n \n\n \nenum {\n\tBNX2X_RX_MODE_FCOE_ETH,\n\tBNX2X_RX_MODE_ISCSI_ETH,\n};\n\nenum {\n\tBNX2X_ACCEPT_UNICAST,\n\tBNX2X_ACCEPT_MULTICAST,\n\tBNX2X_ACCEPT_ALL_UNICAST,\n\tBNX2X_ACCEPT_ALL_MULTICAST,\n\tBNX2X_ACCEPT_BROADCAST,\n\tBNX2X_ACCEPT_UNMATCHED,\n\tBNX2X_ACCEPT_ANY_VLAN\n};\n\nstruct bnx2x_rx_mode_ramrod_params {\n\tstruct bnx2x_rx_mode_obj *rx_mode_obj;\n\tunsigned long *pstate;\n\tint state;\n\tu8 cl_id;\n\tu32 cid;\n\tu8 func_id;\n\tunsigned long ramrod_flags;\n\tunsigned long rx_mode_flags;\n\n\t \n\tvoid *rdata;\n\tdma_addr_t rdata_mapping;\n\n\t \n\tunsigned long rx_accept_flags;\n\n\t \n\tunsigned long tx_accept_flags;\n};\n\nstruct bnx2x_rx_mode_obj {\n\tint (*config_rx_mode)(struct bnx2x *bp,\n\t\t\t      struct bnx2x_rx_mode_ramrod_params *p);\n\n\tint (*wait_comp)(struct bnx2x *bp,\n\t\t\t struct bnx2x_rx_mode_ramrod_params *p);\n};\n\n \n\nstruct bnx2x_mcast_list_elem {\n\tstruct list_head link;\n\tu8 *mac;\n};\n\nunion bnx2x_mcast_config_data {\n\tu8 *mac;\n\tu8 bin;  \n};\n\nstruct bnx2x_mcast_ramrod_params {\n\tstruct bnx2x_mcast_obj *mcast_obj;\n\n\t \n\tunsigned long ramrod_flags;\n\n\tstruct list_head mcast_list;  \n\t \n\tint mcast_list_len;\n};\n\nenum bnx2x_mcast_cmd {\n\tBNX2X_MCAST_CMD_ADD,\n\tBNX2X_MCAST_CMD_CONT,\n\tBNX2X_MCAST_CMD_DEL,\n\tBNX2X_MCAST_CMD_RESTORE,\n\n\t \n\tBNX2X_MCAST_CMD_SET,\n\tBNX2X_MCAST_CMD_SET_ADD,\n\tBNX2X_MCAST_CMD_SET_DEL,\n};\n\nstruct bnx2x_mcast_obj {\n\tstruct bnx2x_raw_obj raw;\n\n\tunion {\n\t\tstruct {\n\t\t#define BNX2X_MCAST_BINS_NUM\t256\n\t\t#define BNX2X_MCAST_VEC_SZ\t(BNX2X_MCAST_BINS_NUM / 64)\n\t\t\tu64 vec[BNX2X_MCAST_VEC_SZ];\n\n\t\t\t \n\t\t\tint num_bins_set;\n\t\t} aprox_match;\n\n\t\tstruct {\n\t\t\tstruct list_head macs;\n\t\t\tint num_macs_set;\n\t\t} exact_match;\n\t} registry;\n\n\t \n\tstruct list_head pending_cmds_head;\n\n\t \n\tint sched_state;\n\n\t \n\tint max_cmd_len;\n\n\t \n\tint total_pending_num;\n\n\tu8 engine_id;\n\n\t \n\tint (*config_mcast)(struct bnx2x *bp,\n\t\t\t    struct bnx2x_mcast_ramrod_params *p,\n\t\t\t    enum bnx2x_mcast_cmd cmd);\n\n\t \n\tint (*hdl_restore)(struct bnx2x *bp, struct bnx2x_mcast_obj *o,\n\t\t\t   int start_bin, int *rdata_idx);\n\n\tint (*enqueue_cmd)(struct bnx2x *bp, struct bnx2x_mcast_obj *o,\n\t\t\t   struct bnx2x_mcast_ramrod_params *p,\n\t\t\t   enum bnx2x_mcast_cmd cmd);\n\n\tvoid (*set_one_rule)(struct bnx2x *bp,\n\t\t\t     struct bnx2x_mcast_obj *o, int idx,\n\t\t\t     union bnx2x_mcast_config_data *cfg_data,\n\t\t\t     enum bnx2x_mcast_cmd cmd);\n\n\t \n\tbool (*check_pending)(struct bnx2x_mcast_obj *o);\n\n\t \n\tvoid (*set_sched)(struct bnx2x_mcast_obj *o);\n\tvoid (*clear_sched)(struct bnx2x_mcast_obj *o);\n\tbool (*check_sched)(struct bnx2x_mcast_obj *o);\n\n\t \n\tint (*wait_comp)(struct bnx2x *bp, struct bnx2x_mcast_obj *o);\n\n\t \n\tint (*validate)(struct bnx2x *bp,\n\t\t\tstruct bnx2x_mcast_ramrod_params *p,\n\t\t\tenum bnx2x_mcast_cmd cmd);\n\n\t \n\tvoid (*revert)(struct bnx2x *bp,\n\t\t       struct bnx2x_mcast_ramrod_params *p,\n\t\t       int old_num_bins,\n\t\t       enum bnx2x_mcast_cmd cmd);\n\n\tint (*get_registry_size)(struct bnx2x_mcast_obj *o);\n\tvoid (*set_registry_size)(struct bnx2x_mcast_obj *o, int n);\n};\n\n \nstruct bnx2x_credit_pool_obj {\n\n\t \n\tatomic_t\tcredit;\n\n\t \n\tint\t\tpool_sz;\n\n\t \n#define BNX2X_POOL_VEC_SIZE\t(MAX_MAC_CREDIT_E2 / 64)\n\tu64\t\tpool_mirror[BNX2X_POOL_VEC_SIZE];\n\n\t \n\tint\t\tbase_pool_offset;\n\n\t \n\tbool (*get_entry)(struct bnx2x_credit_pool_obj *o, int *entry);\n\n\t \n\tbool (*put_entry)(struct bnx2x_credit_pool_obj *o, int entry);\n\n\t \n\tbool (*get)(struct bnx2x_credit_pool_obj *o, int cnt);\n\n\t \n\tbool (*put)(struct bnx2x_credit_pool_obj *o, int cnt);\n\n\t \n\tint (*check)(struct bnx2x_credit_pool_obj *o);\n};\n\n \nenum {\n\t \n\tBNX2X_RSS_MODE_DISABLED,\n\tBNX2X_RSS_MODE_REGULAR,\n\n\tBNX2X_RSS_SET_SRCH,  \n\n\tBNX2X_RSS_IPV4,\n\tBNX2X_RSS_IPV4_TCP,\n\tBNX2X_RSS_IPV4_UDP,\n\tBNX2X_RSS_IPV6,\n\tBNX2X_RSS_IPV6_TCP,\n\tBNX2X_RSS_IPV6_UDP,\n\n\tBNX2X_RSS_IPV4_VXLAN,\n\tBNX2X_RSS_IPV6_VXLAN,\n\tBNX2X_RSS_TUNN_INNER_HDRS,\n};\n\nstruct bnx2x_config_rss_params {\n\tstruct bnx2x_rss_config_obj *rss_obj;\n\n\t \n\tunsigned long\tramrod_flags;\n\n\t \n\tunsigned long\trss_flags;\n\n\t \n\tu8\t\trss_result_mask;\n\n\t \n\tu8\t\tind_table[T_ETH_INDIRECTION_TABLE_SIZE];\n\n\t \n\tu32\t\trss_key[10];\n\n\t \n\tu16\t\ttoe_rss_bitmap;\n};\n\nstruct bnx2x_rss_config_obj {\n\tstruct bnx2x_raw_obj\traw;\n\n\t \n\tu8\t\t\tengine_id;\n\n\t \n\tu8\t\t\tind_table[T_ETH_INDIRECTION_TABLE_SIZE];\n\n\t \n\tu8\t\t\tudp_rss_v4;\n\tu8\t\t\tudp_rss_v6;\n\n\tint (*config_rss)(struct bnx2x *bp,\n\t\t\t  struct bnx2x_config_rss_params *p);\n};\n\n \n\n \nenum {\n\tBNX2X_Q_UPDATE_IN_VLAN_REM,\n\tBNX2X_Q_UPDATE_IN_VLAN_REM_CHNG,\n\tBNX2X_Q_UPDATE_OUT_VLAN_REM,\n\tBNX2X_Q_UPDATE_OUT_VLAN_REM_CHNG,\n\tBNX2X_Q_UPDATE_ANTI_SPOOF,\n\tBNX2X_Q_UPDATE_ANTI_SPOOF_CHNG,\n\tBNX2X_Q_UPDATE_ACTIVATE,\n\tBNX2X_Q_UPDATE_ACTIVATE_CHNG,\n\tBNX2X_Q_UPDATE_DEF_VLAN_EN,\n\tBNX2X_Q_UPDATE_DEF_VLAN_EN_CHNG,\n\tBNX2X_Q_UPDATE_SILENT_VLAN_REM_CHNG,\n\tBNX2X_Q_UPDATE_SILENT_VLAN_REM,\n\tBNX2X_Q_UPDATE_TX_SWITCHING_CHNG,\n\tBNX2X_Q_UPDATE_TX_SWITCHING,\n\tBNX2X_Q_UPDATE_PTP_PKTS_CHNG,\n\tBNX2X_Q_UPDATE_PTP_PKTS,\n};\n\n \nenum bnx2x_q_state {\n\tBNX2X_Q_STATE_RESET,\n\tBNX2X_Q_STATE_INITIALIZED,\n\tBNX2X_Q_STATE_ACTIVE,\n\tBNX2X_Q_STATE_MULTI_COS,\n\tBNX2X_Q_STATE_MCOS_TERMINATED,\n\tBNX2X_Q_STATE_INACTIVE,\n\tBNX2X_Q_STATE_STOPPED,\n\tBNX2X_Q_STATE_TERMINATED,\n\tBNX2X_Q_STATE_FLRED,\n\tBNX2X_Q_STATE_MAX,\n};\n\n \nenum bnx2x_q_logical_state {\n\tBNX2X_Q_LOGICAL_STATE_ACTIVE,\n\tBNX2X_Q_LOGICAL_STATE_STOPPED,\n};\n\n \nenum bnx2x_queue_cmd {\n\tBNX2X_Q_CMD_INIT,\n\tBNX2X_Q_CMD_SETUP,\n\tBNX2X_Q_CMD_SETUP_TX_ONLY,\n\tBNX2X_Q_CMD_DEACTIVATE,\n\tBNX2X_Q_CMD_ACTIVATE,\n\tBNX2X_Q_CMD_UPDATE,\n\tBNX2X_Q_CMD_UPDATE_TPA,\n\tBNX2X_Q_CMD_HALT,\n\tBNX2X_Q_CMD_CFC_DEL,\n\tBNX2X_Q_CMD_TERMINATE,\n\tBNX2X_Q_CMD_EMPTY,\n\tBNX2X_Q_CMD_MAX,\n};\n\n \nenum {\n\tBNX2X_Q_FLG_TPA,\n\tBNX2X_Q_FLG_TPA_IPV6,\n\tBNX2X_Q_FLG_TPA_GRO,\n\tBNX2X_Q_FLG_STATS,\n\tBNX2X_Q_FLG_ZERO_STATS,\n\tBNX2X_Q_FLG_ACTIVE,\n\tBNX2X_Q_FLG_OV,\n\tBNX2X_Q_FLG_VLAN,\n\tBNX2X_Q_FLG_COS,\n\tBNX2X_Q_FLG_HC,\n\tBNX2X_Q_FLG_HC_EN,\n\tBNX2X_Q_FLG_DHC,\n\tBNX2X_Q_FLG_FCOE,\n\tBNX2X_Q_FLG_LEADING_RSS,\n\tBNX2X_Q_FLG_MCAST,\n\tBNX2X_Q_FLG_DEF_VLAN,\n\tBNX2X_Q_FLG_TX_SWITCH,\n\tBNX2X_Q_FLG_TX_SEC,\n\tBNX2X_Q_FLG_ANTI_SPOOF,\n\tBNX2X_Q_FLG_SILENT_VLAN_REM,\n\tBNX2X_Q_FLG_FORCE_DEFAULT_PRI,\n\tBNX2X_Q_FLG_REFUSE_OUTBAND_VLAN,\n\tBNX2X_Q_FLG_PCSUM_ON_PKT,\n\tBNX2X_Q_FLG_TUN_INC_INNER_IP_ID\n};\n\n \nenum bnx2x_q_type {\n\t \n\tBNX2X_Q_TYPE_HAS_RX,\n\tBNX2X_Q_TYPE_HAS_TX,\n};\n\n#define BNX2X_PRIMARY_CID_INDEX\t\t\t0\n#define BNX2X_MULTI_TX_COS_E1X\t\t\t3  \n#define BNX2X_MULTI_TX_COS_E2_E3A0\t\t2\n#define BNX2X_MULTI_TX_COS_E3B0\t\t\t3\n#define BNX2X_MULTI_TX_COS\t\t\t3  \n\n#define MAC_PAD (ALIGN(ETH_ALEN, sizeof(u32)) - ETH_ALEN)\n \n#define FW_DMAE_CMD_ID 6\n\nstruct bnx2x_queue_init_params {\n\tstruct {\n\t\tunsigned long\tflags;\n\t\tu16\t\thc_rate;\n\t\tu8\t\tfw_sb_id;\n\t\tu8\t\tsb_cq_index;\n\t} tx;\n\n\tstruct {\n\t\tunsigned long\tflags;\n\t\tu16\t\thc_rate;\n\t\tu8\t\tfw_sb_id;\n\t\tu8\t\tsb_cq_index;\n\t} rx;\n\n\t \n\tstruct eth_context *cxts[BNX2X_MULTI_TX_COS];\n\n\t \n\tu8 max_cos;\n};\n\nstruct bnx2x_queue_terminate_params {\n\t \n\tu8 cid_index;\n};\n\nstruct bnx2x_queue_cfc_del_params {\n\t \n\tu8 cid_index;\n};\n\nstruct bnx2x_queue_update_params {\n\tunsigned long\tupdate_flags;  \n\tu16\t\tdef_vlan;\n\tu16\t\tsilent_removal_value;\n\tu16\t\tsilent_removal_mask;\n \n\tu8\t\tcid_index;\n};\n\nstruct bnx2x_queue_update_tpa_params {\n\tdma_addr_t sge_map;\n\tu8 update_ipv4;\n\tu8 update_ipv6;\n\tu8 max_tpa_queues;\n\tu8 max_sges_pkt;\n\tu8 complete_on_both_clients;\n\tu8 dont_verify_thr;\n\tu8 tpa_mode;\n\tu8 _pad;\n\n\tu16 sge_buff_sz;\n\tu16 max_agg_sz;\n\n\tu16 sge_pause_thr_low;\n\tu16 sge_pause_thr_high;\n};\n\nstruct rxq_pause_params {\n\tu16\t\tbd_th_lo;\n\tu16\t\tbd_th_hi;\n\tu16\t\trcq_th_lo;\n\tu16\t\trcq_th_hi;\n\tu16\t\tsge_th_lo;  \n\tu16\t\tsge_th_hi;  \n\tu16\t\tpri_map;\n};\n\n \nstruct bnx2x_general_setup_params {\n\t \n\tu8\t\tstat_id;\n\n\tu8\t\tspcl_id;\n\tu16\t\tmtu;\n\tu8\t\tcos;\n\n\tu8\t\tfp_hsi;\n};\n\nstruct bnx2x_rxq_setup_params {\n\t \n\tdma_addr_t\tdscr_map;\n\tdma_addr_t\tsge_map;\n\tdma_addr_t\trcq_map;\n\tdma_addr_t\trcq_np_map;\n\n\tu16\t\tdrop_flags;\n\tu16\t\tbuf_sz;\n\tu8\t\tfw_sb_id;\n\tu8\t\tcl_qzone_id;\n\n\t \n\tu16\t\ttpa_agg_sz;\n\tu16\t\tsge_buf_sz;\n\tu8\t\tmax_sges_pkt;\n\tu8\t\tmax_tpa_queues;\n\tu8\t\trss_engine_id;\n\n\t \n\tu8\t\tmcast_engine_id;\n\n\tu8\t\tcache_line_log;\n\n\tu8\t\tsb_cq_index;\n\n\t \n\tu16 silent_removal_value;\n\tu16 silent_removal_mask;\n};\n\nstruct bnx2x_txq_setup_params {\n\t \n\tdma_addr_t\tdscr_map;\n\n\tu8\t\tfw_sb_id;\n\tu8\t\tsb_cq_index;\n\tu8\t\tcos;\t\t \n\tu16\t\ttraffic_type;\n\t \n\tu8\t\ttss_leading_cl_id;\n\n\t \n\tu16\t\tdefault_vlan;\n};\n\nstruct bnx2x_queue_setup_params {\n\tstruct bnx2x_general_setup_params gen_params;\n\tstruct bnx2x_txq_setup_params txq_params;\n\tstruct bnx2x_rxq_setup_params rxq_params;\n\tstruct rxq_pause_params pause_params;\n\tunsigned long flags;\n};\n\nstruct bnx2x_queue_setup_tx_only_params {\n\tstruct bnx2x_general_setup_params\tgen_params;\n\tstruct bnx2x_txq_setup_params\t\ttxq_params;\n\tunsigned long\t\t\t\tflags;\n\t \n\tu8\t\t\t\t\tcid_index;\n};\n\nstruct bnx2x_queue_state_params {\n\tstruct bnx2x_queue_sp_obj *q_obj;\n\n\t \n\tenum bnx2x_queue_cmd cmd;\n\n\t \n\tunsigned long ramrod_flags;\n\n\t \n\tunion {\n\t\tstruct bnx2x_queue_update_params\tupdate;\n\t\tstruct bnx2x_queue_update_tpa_params    update_tpa;\n\t\tstruct bnx2x_queue_setup_params\t\tsetup;\n\t\tstruct bnx2x_queue_init_params\t\tinit;\n\t\tstruct bnx2x_queue_setup_tx_only_params\ttx_only;\n\t\tstruct bnx2x_queue_terminate_params\tterminate;\n\t\tstruct bnx2x_queue_cfc_del_params\tcfc_del;\n\t} params;\n};\n\nstruct bnx2x_viflist_params {\n\tu8 echo_res;\n\tu8 func_bit_map_res;\n};\n\nstruct bnx2x_queue_sp_obj {\n\tu32\t\tcids[BNX2X_MULTI_TX_COS];\n\tu8\t\tcl_id;\n\tu8\t\tfunc_id;\n\n\t \n\tu8 max_cos;\n\tu8 num_tx_only, next_tx_only;\n\n\tenum bnx2x_q_state state, next_state;\n\n\t \n\tunsigned long\ttype;\n\n\t \n\tunsigned long\tpending;\n\n\t \n\tvoid\t\t*rdata;\n\tdma_addr_t\trdata_mapping;\n\n\t \n\tint (*send_cmd)(struct bnx2x *bp,\n\t\t\tstruct bnx2x_queue_state_params *params);\n\n\t \n\tint (*set_pending)(struct bnx2x_queue_sp_obj *o,\n\t\t\t   struct bnx2x_queue_state_params *params);\n\n\t \n\tint (*check_transition)(struct bnx2x *bp,\n\t\t\t\tstruct bnx2x_queue_sp_obj *o,\n\t\t\t\tstruct bnx2x_queue_state_params *params);\n\n\t \n\tint (*complete_cmd)(struct bnx2x *bp,\n\t\t\t    struct bnx2x_queue_sp_obj *o,\n\t\t\t    enum bnx2x_queue_cmd);\n\n\tint (*wait_comp)(struct bnx2x *bp,\n\t\t\t struct bnx2x_queue_sp_obj *o,\n\t\t\t enum bnx2x_queue_cmd cmd);\n};\n\n \n\n \nenum {\n\tBNX2X_F_UPDATE_TX_SWITCH_SUSPEND_CHNG,\n\tBNX2X_F_UPDATE_TX_SWITCH_SUSPEND,\n\tBNX2X_F_UPDATE_SD_VLAN_TAG_CHNG,\n\tBNX2X_F_UPDATE_SD_VLAN_ETH_TYPE_CHNG,\n\tBNX2X_F_UPDATE_VLAN_FORCE_PRIO_CHNG,\n\tBNX2X_F_UPDATE_VLAN_FORCE_PRIO_FLAG,\n\tBNX2X_F_UPDATE_TUNNEL_CFG_CHNG,\n\tBNX2X_F_UPDATE_TUNNEL_INNER_CLSS_L2GRE,\n\tBNX2X_F_UPDATE_TUNNEL_INNER_CLSS_VXLAN,\n\tBNX2X_F_UPDATE_TUNNEL_INNER_CLSS_L2GENEVE,\n\tBNX2X_F_UPDATE_TUNNEL_INNER_RSS,\n};\n\n \nenum bnx2x_func_state {\n\tBNX2X_F_STATE_RESET,\n\tBNX2X_F_STATE_INITIALIZED,\n\tBNX2X_F_STATE_STARTED,\n\tBNX2X_F_STATE_TX_STOPPED,\n\tBNX2X_F_STATE_MAX,\n};\n\n \nenum bnx2x_func_cmd {\n\tBNX2X_F_CMD_HW_INIT,\n\tBNX2X_F_CMD_START,\n\tBNX2X_F_CMD_STOP,\n\tBNX2X_F_CMD_HW_RESET,\n\tBNX2X_F_CMD_AFEX_UPDATE,\n\tBNX2X_F_CMD_AFEX_VIFLISTS,\n\tBNX2X_F_CMD_TX_STOP,\n\tBNX2X_F_CMD_TX_START,\n\tBNX2X_F_CMD_SWITCH_UPDATE,\n\tBNX2X_F_CMD_SET_TIMESYNC,\n\tBNX2X_F_CMD_MAX,\n};\n\nstruct bnx2x_func_hw_init_params {\n\t \n\tu32 load_phase;\n};\n\nstruct bnx2x_func_hw_reset_params {\n\t \n\tu32 reset_phase;\n};\n\nstruct bnx2x_func_start_params {\n\t \n\tu16 mf_mode;\n\n\t \n\tu16 sd_vlan_tag;\n\n\t \n\tu8 network_cos_mode;\n\n\t \n\tu16 vxlan_dst_port;\n\n\t \n\tu16 geneve_dst_port;\n\n\t \n\tu8 inner_clss_l2gre;\n\n\t \n\tu8 inner_clss_l2geneve;\n\n\t \n\tu8 inner_clss_vxlan;\n\n\t \n\tu8 inner_rss;\n\n\t \n\tu8 class_fail;\n\tu16 class_fail_ethtype;\n\n\t \n\tu8 sd_vlan_force_pri;\n\tu8 sd_vlan_force_pri_val;\n\n\t \n\tu16 sd_vlan_eth_type;\n\n\t \n\tu8 no_added_tags;\n\n\t \n\tu8 c2s_pri[MAX_VLAN_PRIORITIES];\n\tu8 c2s_pri_default;\n\tu8 c2s_pri_valid;\n};\n\nstruct bnx2x_func_switch_update_params {\n\tunsigned long changes;  \n\tu16 vlan;\n\tu16 vlan_eth_type;\n\tu8 vlan_force_prio;\n\tu16 vxlan_dst_port;\n\tu16 geneve_dst_port;\n};\n\nstruct bnx2x_func_afex_update_params {\n\tu16 vif_id;\n\tu16 afex_default_vlan;\n\tu8 allowed_priorities;\n};\n\nstruct bnx2x_func_afex_viflists_params {\n\tu16 vif_list_index;\n\tu8 func_bit_map;\n\tu8 afex_vif_list_command;\n\tu8 func_to_clear;\n};\n\nstruct bnx2x_func_tx_start_params {\n\tstruct priority_cos traffic_type_to_priority_cos[MAX_TRAFFIC_TYPES];\n\tu8 dcb_enabled;\n\tu8 dcb_version;\n\tu8 dont_add_pri_0_en;\n\tu8 dcb_outer_pri[MAX_TRAFFIC_TYPES];\n};\n\nstruct bnx2x_func_set_timesync_params {\n\t \n\tu8 drift_adjust_cmd;\n\n\t \n\tu8 offset_cmd;\n\n\t \n\tu8 add_sub_drift_adjust_value;\n\n\t \n\tu8 drift_adjust_value;\n\tu32 drift_adjust_period;\n\tu64 offset_delta;\n};\n\nstruct bnx2x_func_state_params {\n\tstruct bnx2x_func_sp_obj *f_obj;\n\n\t \n\tenum bnx2x_func_cmd cmd;\n\n\t \n\tunsigned long\tramrod_flags;\n\n\t \n\tunion {\n\t\tstruct bnx2x_func_hw_init_params hw_init;\n\t\tstruct bnx2x_func_hw_reset_params hw_reset;\n\t\tstruct bnx2x_func_start_params start;\n\t\tstruct bnx2x_func_switch_update_params switch_update;\n\t\tstruct bnx2x_func_afex_update_params afex_update;\n\t\tstruct bnx2x_func_afex_viflists_params afex_viflists;\n\t\tstruct bnx2x_func_tx_start_params tx_start;\n\t\tstruct bnx2x_func_set_timesync_params set_timesync;\n\t} params;\n};\n\nstruct bnx2x_func_sp_drv_ops {\n\t \n\tint (*init_hw_cmn_chip)(struct bnx2x *bp);\n\tint (*init_hw_cmn)(struct bnx2x *bp);\n\tint (*init_hw_port)(struct bnx2x *bp);\n\tint (*init_hw_func)(struct bnx2x *bp);\n\n\t \n\tvoid (*reset_hw_cmn)(struct bnx2x *bp);\n\tvoid (*reset_hw_port)(struct bnx2x *bp);\n\tvoid (*reset_hw_func)(struct bnx2x *bp);\n\n\t \n\tint (*gunzip_init)(struct bnx2x *bp);\n\tvoid (*gunzip_end)(struct bnx2x *bp);\n\n\t \n\tint (*init_fw)(struct bnx2x *bp);\n\tvoid (*release_fw)(struct bnx2x *bp);\n};\n\nstruct bnx2x_func_sp_obj {\n\tenum bnx2x_func_state\tstate, next_state;\n\n\t \n\tunsigned long\t\tpending;\n\n\t \n\tvoid\t\t\t*rdata;\n\tdma_addr_t\t\trdata_mapping;\n\n\t \n\tvoid\t\t\t*afex_rdata;\n\tdma_addr_t\t\tafex_rdata_mapping;\n\n\t \n\tstruct mutex\t\tone_pending_mutex;\n\n\t \n\tstruct bnx2x_func_sp_drv_ops\t*drv;\n\n\t \n\tint (*send_cmd)(struct bnx2x *bp,\n\t\t\tstruct bnx2x_func_state_params *params);\n\n\t \n\tint (*check_transition)(struct bnx2x *bp,\n\t\t\t\tstruct bnx2x_func_sp_obj *o,\n\t\t\t\tstruct bnx2x_func_state_params *params);\n\n\t \n\tint (*complete_cmd)(struct bnx2x *bp,\n\t\t\t    struct bnx2x_func_sp_obj *o,\n\t\t\t    enum bnx2x_func_cmd cmd);\n\n\tint (*wait_comp)(struct bnx2x *bp, struct bnx2x_func_sp_obj *o,\n\t\t\t enum bnx2x_func_cmd cmd);\n};\n\n \n \nunion bnx2x_qable_obj {\n\tstruct bnx2x_vlan_mac_obj vlan_mac;\n};\n \nvoid bnx2x_init_func_obj(struct bnx2x *bp,\n\t\t\t struct bnx2x_func_sp_obj *obj,\n\t\t\t void *rdata, dma_addr_t rdata_mapping,\n\t\t\t void *afex_rdata, dma_addr_t afex_rdata_mapping,\n\t\t\t struct bnx2x_func_sp_drv_ops *drv_iface);\n\nint bnx2x_func_state_change(struct bnx2x *bp,\n\t\t\t    struct bnx2x_func_state_params *params);\n\nenum bnx2x_func_state bnx2x_func_get_state(struct bnx2x *bp,\n\t\t\t\t\t   struct bnx2x_func_sp_obj *o);\n \nvoid bnx2x_init_queue_obj(struct bnx2x *bp,\n\t\t\t  struct bnx2x_queue_sp_obj *obj, u8 cl_id, u32 *cids,\n\t\t\t  u8 cid_cnt, u8 func_id, void *rdata,\n\t\t\t  dma_addr_t rdata_mapping, unsigned long type);\n\nint bnx2x_queue_state_change(struct bnx2x *bp,\n\t\t\t     struct bnx2x_queue_state_params *params);\n\nint bnx2x_get_q_logical_state(struct bnx2x *bp,\n\t\t\t       struct bnx2x_queue_sp_obj *obj);\n\n \nvoid bnx2x_init_mac_obj(struct bnx2x *bp,\n\t\t\tstruct bnx2x_vlan_mac_obj *mac_obj,\n\t\t\tu8 cl_id, u32 cid, u8 func_id, void *rdata,\n\t\t\tdma_addr_t rdata_mapping, int state,\n\t\t\tunsigned long *pstate, bnx2x_obj_type type,\n\t\t\tstruct bnx2x_credit_pool_obj *macs_pool);\n\nvoid bnx2x_init_vlan_obj(struct bnx2x *bp,\n\t\t\t struct bnx2x_vlan_mac_obj *vlan_obj,\n\t\t\t u8 cl_id, u32 cid, u8 func_id, void *rdata,\n\t\t\t dma_addr_t rdata_mapping, int state,\n\t\t\t unsigned long *pstate, bnx2x_obj_type type,\n\t\t\t struct bnx2x_credit_pool_obj *vlans_pool);\n\nvoid bnx2x_init_vlan_mac_obj(struct bnx2x *bp,\n\t\t\t     struct bnx2x_vlan_mac_obj *vlan_mac_obj,\n\t\t\t     u8 cl_id, u32 cid, u8 func_id, void *rdata,\n\t\t\t     dma_addr_t rdata_mapping, int state,\n\t\t\t     unsigned long *pstate, bnx2x_obj_type type,\n\t\t\t     struct bnx2x_credit_pool_obj *macs_pool,\n\t\t\t     struct bnx2x_credit_pool_obj *vlans_pool);\n\nint bnx2x_vlan_mac_h_read_lock(struct bnx2x *bp,\n\t\t\t\t\tstruct bnx2x_vlan_mac_obj *o);\nvoid bnx2x_vlan_mac_h_read_unlock(struct bnx2x *bp,\n\t\t\t\t  struct bnx2x_vlan_mac_obj *o);\nint bnx2x_vlan_mac_h_write_lock(struct bnx2x *bp,\n\t\t\t\tstruct bnx2x_vlan_mac_obj *o);\nint bnx2x_config_vlan_mac(struct bnx2x *bp,\n\t\t\t   struct bnx2x_vlan_mac_ramrod_params *p);\n\nint bnx2x_vlan_mac_move(struct bnx2x *bp,\n\t\t\tstruct bnx2x_vlan_mac_ramrod_params *p,\n\t\t\tstruct bnx2x_vlan_mac_obj *dest_o);\n\n \n\nvoid bnx2x_init_rx_mode_obj(struct bnx2x *bp,\n\t\t\t    struct bnx2x_rx_mode_obj *o);\n\n \nint bnx2x_config_rx_mode(struct bnx2x *bp,\n\t\t\t struct bnx2x_rx_mode_ramrod_params *p);\n\n \n\nvoid bnx2x_init_mcast_obj(struct bnx2x *bp,\n\t\t\t  struct bnx2x_mcast_obj *mcast_obj,\n\t\t\t  u8 mcast_cl_id, u32 mcast_cid, u8 func_id,\n\t\t\t  u8 engine_id, void *rdata, dma_addr_t rdata_mapping,\n\t\t\t  int state, unsigned long *pstate,\n\t\t\t  bnx2x_obj_type type);\n\n \nint bnx2x_config_mcast(struct bnx2x *bp,\n\t\t       struct bnx2x_mcast_ramrod_params *p,\n\t\t       enum bnx2x_mcast_cmd cmd);\n\n \nvoid bnx2x_init_mac_credit_pool(struct bnx2x *bp,\n\t\t\t\tstruct bnx2x_credit_pool_obj *p, u8 func_id,\n\t\t\t\tu8 func_num);\nvoid bnx2x_init_vlan_credit_pool(struct bnx2x *bp,\n\t\t\t\t struct bnx2x_credit_pool_obj *p, u8 func_id,\n\t\t\t\t u8 func_num);\nvoid bnx2x_init_credit_pool(struct bnx2x_credit_pool_obj *p,\n\t\t\t    int base, int credit);\n\n \nvoid bnx2x_init_rss_config_obj(struct bnx2x *bp,\n\t\t\t       struct bnx2x_rss_config_obj *rss_obj,\n\t\t\t       u8 cl_id, u32 cid, u8 func_id, u8 engine_id,\n\t\t\t       void *rdata, dma_addr_t rdata_mapping,\n\t\t\t       int state, unsigned long *pstate,\n\t\t\t       bnx2x_obj_type type);\n\n \nint bnx2x_config_rss(struct bnx2x *bp,\n\t\t     struct bnx2x_config_rss_params *p);\n\n \nvoid bnx2x_get_rss_ind_table(struct bnx2x_rss_config_obj *rss_obj,\n\t\t\t     u8 *ind_table);\n\n#define PF_MAC_CREDIT_E2(bp, func_num)\t\t\t\t\t\\\n\t((MAX_MAC_CREDIT_E2 - GET_NUM_VFS_PER_PATH(bp) * VF_MAC_CREDIT_CNT) / \\\n\t func_num + GET_NUM_VFS_PER_PF(bp) * VF_MAC_CREDIT_CNT)\n\n#define BNX2X_VFS_VLAN_CREDIT(bp)\t\\\n\t(GET_NUM_VFS_PER_PATH(bp) * VF_VLAN_CREDIT_CNT)\n\n#define PF_VLAN_CREDIT_E2(bp, func_num)\t\t\t\t\t \\\n\t((MAX_VLAN_CREDIT_E2 - 1 - BNX2X_VFS_VLAN_CREDIT(bp)) /\t\\\n\t func_num + GET_NUM_VFS_PER_PF(bp) * VF_VLAN_CREDIT_CNT)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}