{
  "module_name": "gve_dqo.h",
  "hash_id": "7e965969b3f50d5d37b1b5fa6f953c2d1dea5ecc0f840255ea6f1122e869eb6c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/google/gve/gve_dqo.h",
  "human_readable_source": " \n\n#ifndef _GVE_DQO_H_\n#define _GVE_DQO_H_\n\n#include \"gve_adminq.h\"\n\n#define GVE_ITR_ENABLE_BIT_DQO BIT(0)\n#define GVE_ITR_CLEAR_PBA_BIT_DQO BIT(1)\n#define GVE_ITR_NO_UPDATE_DQO (3 << 3)\n\n#define GVE_ITR_INTERVAL_DQO_SHIFT 5\n#define GVE_ITR_INTERVAL_DQO_MASK ((1 << 12) - 1)\n\n#define GVE_TX_IRQ_RATELIMIT_US_DQO 50\n#define GVE_RX_IRQ_RATELIMIT_US_DQO 20\n#define GVE_MAX_ITR_INTERVAL_DQO (GVE_ITR_INTERVAL_DQO_MASK * 2)\n\n \n#define GVE_REINJECT_COMPL_TIMEOUT 1\n\n \n#define GVE_DEALLOCATE_COMPL_TIMEOUT 60\n\nnetdev_tx_t gve_tx_dqo(struct sk_buff *skb, struct net_device *dev);\nbool gve_tx_poll_dqo(struct gve_notify_block *block, bool do_clean);\nint gve_rx_poll_dqo(struct gve_notify_block *block, int budget);\nint gve_tx_alloc_rings_dqo(struct gve_priv *priv);\nvoid gve_tx_free_rings_dqo(struct gve_priv *priv);\nint gve_rx_alloc_rings_dqo(struct gve_priv *priv);\nvoid gve_rx_free_rings_dqo(struct gve_priv *priv);\nint gve_clean_tx_done_dqo(struct gve_priv *priv, struct gve_tx_ring *tx,\n\t\t\t  struct napi_struct *napi);\nvoid gve_rx_post_buffers_dqo(struct gve_rx_ring *rx);\nvoid gve_rx_write_doorbell_dqo(const struct gve_priv *priv, int queue_idx);\n\nstatic inline void\ngve_tx_put_doorbell_dqo(const struct gve_priv *priv,\n\t\t\tconst struct gve_queue_resources *q_resources, u32 val)\n{\n\tu64 index;\n\n\tindex = be32_to_cpu(q_resources->db_index);\n\tiowrite32(val, &priv->db_bar2[index]);\n}\n\n \nstatic inline u32 gve_setup_itr_interval_dqo(u32 interval_us)\n{\n\tu32 result = GVE_ITR_ENABLE_BIT_DQO;\n\n\t \n\tinterval_us >>= 1;\n\n\tinterval_us &= GVE_ITR_INTERVAL_DQO_MASK;\n\tresult |= (interval_us << GVE_ITR_INTERVAL_DQO_SHIFT);\n\n\treturn result;\n}\n\nstatic inline void\ngve_write_irq_doorbell_dqo(const struct gve_priv *priv,\n\t\t\t   const struct gve_notify_block *block, u32 val)\n{\n\tu32 index = be32_to_cpu(*block->irq_db_index);\n\n\tiowrite32(val, &priv->db_bar2[index]);\n}\n\n \nstatic inline void\ngve_set_itr_coalesce_usecs_dqo(struct gve_priv *priv,\n\t\t\t       struct gve_notify_block *block,\n\t\t\t       u32 usecs)\n{\n\tgve_write_irq_doorbell_dqo(priv, block,\n\t\t\t\t   gve_setup_itr_interval_dqo(usecs));\n}\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}