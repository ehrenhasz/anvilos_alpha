{
  "module_name": "cpsw_ale.h",
  "hash_id": "547d6bc63c2351e84b328d1785d9411c160b640fadab1703b74f992817abe428",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/ti/cpsw_ale.h",
  "human_readable_source": " \n \n#ifndef __TI_CPSW_ALE_H__\n#define __TI_CPSW_ALE_H__\n\nstruct cpsw_ale_params {\n\tstruct device\t\t*dev;\n\tvoid __iomem\t\t*ale_regs;\n\tunsigned long\t\tale_ageout;\t \n\tunsigned long\t\tale_entries;\n\tunsigned long\t\tale_ports;\n\t \n\tbool\t\t\tnu_switch_ale;\n\t \n\tu32\t\t\tmajor_ver_mask;\n\tconst char\t\t*dev_id;\n\tunsigned long\t\tbus_freq;\n};\n\nstruct ale_entry_fld;\n\nstruct cpsw_ale {\n\tstruct cpsw_ale_params\tparams;\n\tstruct timer_list\ttimer;\n\tunsigned long\t\tageout;\n\tu32\t\t\tversion;\n\tu32\t\t\tfeatures;\n\t \n\tu32\t\t\tport_mask_bits;\n\tu32\t\t\tport_num_bits;\n\tu32\t\t\tvlan_field_bits;\n\tunsigned long\t\t*p0_untag_vid_mask;\n\tconst struct ale_entry_fld *vlan_entry_tbl;\n};\n\nenum cpsw_ale_control {\n\t \n\tALE_ENABLE,\n\tALE_CLEAR,\n\tALE_AGEOUT,\n\tALE_P0_UNI_FLOOD,\n\tALE_VLAN_NOLEARN,\n\tALE_NO_PORT_VLAN,\n\tALE_OUI_DENY,\n\tALE_BYPASS,\n\tALE_RATE_LIMIT_TX,\n\tALE_VLAN_AWARE,\n\tALE_AUTH_ENABLE,\n\tALE_RATE_LIMIT,\n\t \n\tALE_PORT_STATE,\n\tALE_PORT_DROP_UNTAGGED,\n\tALE_PORT_DROP_UNKNOWN_VLAN,\n\tALE_PORT_NOLEARN,\n\tALE_PORT_NO_SA_UPDATE,\n\tALE_PORT_UNKNOWN_VLAN_MEMBER,\n\tALE_PORT_UNKNOWN_MCAST_FLOOD,\n\tALE_PORT_UNKNOWN_REG_MCAST_FLOOD,\n\tALE_PORT_UNTAGGED_EGRESS,\n\tALE_PORT_MACONLY,\n\tALE_PORT_MACONLY_CAF,\n\tALE_PORT_BCAST_LIMIT,\n\tALE_PORT_MCAST_LIMIT,\n\tALE_DEFAULT_THREAD_ID,\n\tALE_DEFAULT_THREAD_ENABLE,\n\tALE_NUM_CONTROLS,\n};\n\nenum cpsw_ale_port_state {\n\tALE_PORT_STATE_DISABLE\t= 0x00,\n\tALE_PORT_STATE_BLOCK\t= 0x01,\n\tALE_PORT_STATE_LEARN\t= 0x02,\n\tALE_PORT_STATE_FORWARD\t= 0x03,\n};\n\n \n#define ALE_SECURE\t\t\tBIT(0)\n#define ALE_BLOCKED\t\t\tBIT(1)\n#define ALE_SUPER\t\t\tBIT(2)\n#define ALE_VLAN\t\t\tBIT(3)\n\n#define ALE_PORT_HOST\t\t\tBIT(0)\n#define ALE_PORT_1\t\t\tBIT(1)\n#define ALE_PORT_2\t\t\tBIT(2)\n\n#define ALE_MCAST_FWD\t\t\t0\n#define ALE_MCAST_BLOCK_LEARN_FWD\t1\n#define ALE_MCAST_FWD_LEARN\t\t2\n#define ALE_MCAST_FWD_2\t\t\t3\n\n#define ALE_ENTRY_BITS\t\t68\n#define ALE_ENTRY_WORDS\tDIV_ROUND_UP(ALE_ENTRY_BITS, 32)\n\nstruct cpsw_ale *cpsw_ale_create(struct cpsw_ale_params *params);\n\nvoid cpsw_ale_start(struct cpsw_ale *ale);\nvoid cpsw_ale_stop(struct cpsw_ale *ale);\n\nint cpsw_ale_flush_multicast(struct cpsw_ale *ale, int port_mask, int vid);\nint cpsw_ale_add_ucast(struct cpsw_ale *ale, const u8 *addr, int port,\n\t\t       int flags, u16 vid);\nint cpsw_ale_del_ucast(struct cpsw_ale *ale, const u8 *addr, int port,\n\t\t       int flags, u16 vid);\nint cpsw_ale_add_mcast(struct cpsw_ale *ale, const u8 *addr, int port_mask,\n\t\t       int flags, u16 vid, int mcast_state);\nint cpsw_ale_del_mcast(struct cpsw_ale *ale, const u8 *addr, int port_mask,\n\t\t       int flags, u16 vid);\nint cpsw_ale_add_vlan(struct cpsw_ale *ale, u16 vid, int port, int untag,\n\t\t\tint reg_mcast, int unreg_mcast);\nint cpsw_ale_del_vlan(struct cpsw_ale *ale, u16 vid, int port);\nvoid cpsw_ale_set_allmulti(struct cpsw_ale *ale, int allmulti, int port);\nint cpsw_ale_rx_ratelimit_bc(struct cpsw_ale *ale, int port, unsigned int ratelimit_pps);\nint cpsw_ale_rx_ratelimit_mc(struct cpsw_ale *ale, int port, unsigned int ratelimit_pps);\n\nint cpsw_ale_control_get(struct cpsw_ale *ale, int port, int control);\nint cpsw_ale_control_set(struct cpsw_ale *ale, int port,\n\t\t\t int control, int value);\nvoid cpsw_ale_dump(struct cpsw_ale *ale, u32 *data);\nvoid cpsw_ale_restore(struct cpsw_ale *ale, u32 *data);\nu32 cpsw_ale_get_num_entries(struct cpsw_ale *ale);\n\nstatic inline int cpsw_ale_get_vlan_p0_untag(struct cpsw_ale *ale, u16 vid)\n{\n\treturn test_bit(vid, ale->p0_untag_vid_mask);\n}\n\nint cpsw_ale_vlan_add_modify(struct cpsw_ale *ale, u16 vid, int port_mask,\n\t\t\t     int untag_mask, int reg_mcast, int unreg_mcast);\nint cpsw_ale_vlan_del_modify(struct cpsw_ale *ale, u16 vid, int port_mask);\nvoid cpsw_ale_set_unreg_mcast(struct cpsw_ale *ale, int unreg_mcast_mask,\n\t\t\t      bool add);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}