{
  "module_name": "tsnep_hw.h",
  "hash_id": "276b251389f0f6785427cfad18a32938f2183cbf5704227880efee9b3130e593",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/engleder/tsnep_hw.h",
  "human_readable_source": " \n \n\n \n\n#ifndef _TSNEP_HW_H\n#define _TSNEP_HW_H\n\n#include <linux/types.h>\n\n \n#define ECM_TYPE 0x0000\n#define ECM_REVISION_MASK 0x000000FF\n#define ECM_REVISION_SHIFT 0\n#define ECM_VERSION_MASK 0x0000FF00\n#define ECM_VERSION_SHIFT 8\n#define ECM_QUEUE_COUNT_MASK 0x00070000\n#define ECM_QUEUE_COUNT_SHIFT 16\n#define ECM_GATE_CONTROL 0x02000000\n\n \n#define ECM_SYSTEM_TIME_LOW 0x0008\n#define ECM_SYSTEM_TIME_HIGH 0x000C\n\n \n#define ECM_CLOCK_RATE 0x0010\n#define ECM_CLOCK_RATE_OFFSET_MASK 0x7FFFFFFF\n#define ECM_CLOCK_RATE_OFFSET_SIGN 0x80000000\n\n \n#define ECM_INT_ENABLE 0x0018\n#define ECM_INT_ACTIVE 0x001C\n#define ECM_INT_ACKNOWLEDGE 0x001C\n#define ECM_INT_LINK 0x00000020\n#define ECM_INT_TX_0 0x00000100\n#define ECM_INT_RX_0 0x00000200\n#define ECM_INT_TXRX_SHIFT 2\n#define ECM_INT_ALL 0x7FFFFFFF\n#define ECM_INT_DISABLE 0x80000000\n\n \n#define ECM_RESET 0x0020\n#define ECM_RESET_COMMON 0x00000001\n#define ECM_RESET_CHANNEL 0x00000100\n#define ECM_RESET_TXRX 0x00010000\n\n \n#define ECM_COUNTER_LOW 0x0028\n#define ECM_COUNTER_HIGH 0x002C\n\n \n#define ECM_INT_DELAY 0x0030\n#define ECM_INT_DELAY_MASK 0xF0\n#define ECM_INT_DELAY_SHIFT 4\n#define ECM_INT_DELAY_BASE_US 16\n#define ECM_INT_DELAY_OFFSET 1\n\n \n#define ECM_STATUS 0x0080\n#define ECM_LINK_MODE_OFF 0x01000000\n#define ECM_LINK_MODE_100 0x02000000\n#define ECM_LINK_MODE_1000 0x04000000\n#define ECM_NO_LINK 0x01000000\n#define ECM_LINK_MODE_MASK 0x06000000\n\n \n#define ECM_MD_CONTROL 0x0084\n#define ECM_MD_STATUS 0x0084\n#define ECM_MD_PREAMBLE 0x00000001\n#define ECM_MD_READ 0x00000004\n#define ECM_MD_WRITE 0x00000002\n#define ECM_MD_ADDR_MASK 0x000000F8\n#define ECM_MD_ADDR_SHIFT 3\n#define ECM_MD_PHY_ADDR_MASK 0x00001F00\n#define ECM_MD_PHY_ADDR_SHIFT 8\n#define ECM_MD_BUSY 0x00000001\n#define ECM_MD_DATA_MASK 0xFFFF0000\n#define ECM_MD_DATA_SHIFT 16\n\n \n#define ECM_STAT 0x00B0\n#define ECM_STAT_RX_ERR_MASK 0x000000FF\n#define ECM_STAT_RX_ERR_SHIFT 0\n#define ECM_STAT_INV_FRM_MASK 0x0000FF00\n#define ECM_STAT_INV_FRM_SHIFT 8\n#define ECM_STAT_FWD_RX_ERR_MASK 0x00FF0000\n#define ECM_STAT_FWD_RX_ERR_SHIFT 16\n\n \n#define TSNEP_MAC_SIZE 0x4000\n#define TSNEP_QUEUE_SIZE 0x1000\n#define TSNEP_QUEUE(n) ({ typeof(n) __n = (n); \\\n\t\t\t  (__n) == 0 ? \\\n\t\t\t  0 : \\\n\t\t\t  TSNEP_MAC_SIZE + TSNEP_QUEUE_SIZE * ((__n) - 1); })\n#define TSNEP_MAX_QUEUES 8\n#define TSNEP_MAX_FRAME_SIZE (2 * 1024)  \n#define TSNEP_DESC_SIZE 256\n#define TSNEP_DESC_OFFSET 128\n\n \n#define TSNEP_INFO 0x0100\n#define TSNEP_INFO_TX_TIME 0x00010000\n#define TSNEP_CONTROL 0x0108\n#define TSNEP_CONTROL_TX_RESET 0x00000001\n#define TSNEP_CONTROL_TX_ENABLE 0x00000002\n#define TSNEP_CONTROL_TX_DMA_ERROR 0x00000010\n#define TSNEP_CONTROL_TX_DESC_ERROR 0x00000020\n#define TSNEP_CONTROL_RX_RESET 0x00000100\n#define TSNEP_CONTROL_RX_ENABLE 0x00000200\n#define TSNEP_CONTROL_RX_DISABLE 0x00000400\n#define TSNEP_CONTROL_RX_DMA_ERROR 0x00001000\n#define TSNEP_CONTROL_RX_DESC_ERROR 0x00002000\n#define TSNEP_TX_DESC_ADDR_LOW 0x0140\n#define TSNEP_TX_DESC_ADDR_HIGH 0x0144\n#define TSNEP_RX_DESC_ADDR_LOW 0x0180\n#define TSNEP_RX_DESC_ADDR_HIGH 0x0184\n#define TSNEP_RESET_OWNER_COUNTER 0x01\n#define TSNEP_RX_STATISTIC 0x0190\n#define TSNEP_RX_STATISTIC_NO_DESC_MASK 0x000000FF\n#define TSNEP_RX_STATISTIC_NO_DESC_SHIFT 0\n#define TSNEP_RX_STATISTIC_BUFFER_TOO_SMALL_MASK 0x0000FF00\n#define TSNEP_RX_STATISTIC_BUFFER_TOO_SMALL_SHIFT 8\n#define TSNEP_RX_STATISTIC_FIFO_OVERFLOW_MASK 0x00FF0000\n#define TSNEP_RX_STATISTIC_FIFO_OVERFLOW_SHIFT 16\n#define TSNEP_RX_STATISTIC_INVALID_FRAME_MASK 0xFF000000\n#define TSNEP_RX_STATISTIC_INVALID_FRAME_SHIFT 24\n#define TSNEP_RX_STATISTIC_NO_DESC 0x0190\n#define TSNEP_RX_STATISTIC_BUFFER_TOO_SMALL 0x0191\n#define TSNEP_RX_STATISTIC_FIFO_OVERFLOW 0x0192\n#define TSNEP_RX_STATISTIC_INVALID_FRAME 0x0193\n#define TSNEP_MAC_ADDRESS_LOW 0x0800\n#define TSNEP_MAC_ADDRESS_HIGH 0x0804\n#define TSNEP_RX_FILTER 0x0806\n#define TSNEP_RX_FILTER_ACCEPT_ALL_MULTICASTS 0x0001\n#define TSNEP_RX_FILTER_ACCEPT_ALL_UNICASTS 0x0002\n#define TSNEP_GC 0x0808\n#define TSNEP_GC_ENABLE_A 0x00000002\n#define TSNEP_GC_ENABLE_B 0x00000004\n#define TSNEP_GC_DISABLE 0x00000008\n#define TSNEP_GC_ENABLE_TIMEOUT 0x00000010\n#define TSNEP_GC_ACTIVE_A 0x00000002\n#define TSNEP_GC_ACTIVE_B 0x00000004\n#define TSNEP_GC_CHANGE_AB 0x00000008\n#define TSNEP_GC_TIMEOUT_ACTIVE 0x00000010\n#define TSNEP_GC_TIMEOUT_SIGNAL 0x00000020\n#define TSNEP_GC_LIST_ERROR 0x00000080\n#define TSNEP_GC_OPEN 0x00FF0000\n#define TSNEP_GC_OPEN_SHIFT 16\n#define TSNEP_GC_NEXT_OPEN 0xFF000000\n#define TSNEP_GC_NEXT_OPEN_SHIFT 24\n#define TSNEP_GC_TIMEOUT 131072\n#define TSNEP_GC_TIME 0x080C\n#define TSNEP_GC_CHANGE 0x0810\n#define TSNEP_GCL_A 0x2000\n#define TSNEP_GCL_B 0x2800\n#define TSNEP_GCL_SIZE SZ_2K\n#define TSNEP_RX_ASSIGN 0x0840\n#define TSNEP_RX_ASSIGN_ACTIVE 0x00000001\n#define TSNEP_RX_ASSIGN_QUEUE_MASK 0x00000006\n#define TSNEP_RX_ASSIGN_QUEUE_SHIFT 1\n#define TSNEP_RX_ASSIGN_OFFSET 1\n#define TSNEP_RX_ASSIGN_ETHER_TYPE 0x0880\n#define TSNEP_RX_ASSIGN_ETHER_TYPE_OFFSET 2\n#define TSNEP_RX_ASSIGN_ETHER_TYPE_COUNT 2\n\n \nstruct tsnep_gcl_operation {\n\tu32 properties;\n\tu32 interval;\n};\n\n#define TSNEP_GCL_COUNT (TSNEP_GCL_SIZE / sizeof(struct tsnep_gcl_operation))\n#define TSNEP_GCL_MASK 0x000000FF\n#define TSNEP_GCL_INSERT 0x20000000\n#define TSNEP_GCL_CHANGE 0x40000000\n#define TSNEP_GCL_LAST 0x80000000\n#define TSNEP_GCL_MIN_INTERVAL 32\n\n \n#define TSNEP_DESC_SIZE 256\n#define TSNEP_DESC_SIZE_DATA_AFTER 2048\n#define TSNEP_DESC_OFFSET 128\n#define TSNEP_DESC_OWNER_COUNTER_MASK 0xC0000000\n#define TSNEP_DESC_OWNER_COUNTER_SHIFT 30\n#define TSNEP_DESC_LENGTH_MASK 0x00003FFF\n#define TSNEP_DESC_INTERRUPT_FLAG 0x00040000\n#define TSNEP_DESC_EXTENDED_WRITEBACK_FLAG 0x00080000\n#define TSNEP_DESC_NO_LINK_FLAG 0x01000000\n\n \nstruct tsnep_tx_desc {\n\t__le32 properties;\n\t__le32 more_properties;\n\t__le32 reserved[2];\n\t__le64 next;\n\t__le64 tx;\n};\n\n#define TSNEP_TX_DESC_OWNER_MASK 0xE0000000\n#define TSNEP_TX_DESC_OWNER_USER_FLAG 0x20000000\n#define TSNEP_TX_DESC_LAST_FRAGMENT_FLAG 0x00010000\n#define TSNEP_TX_DESC_DATA_AFTER_DESC_FLAG 0x00020000\n\n \nstruct tsnep_tx_desc_wb {\n\t__le32 properties;\n\t__le32 reserved1;\n\t__le64 counter;\n\t__le64 timestamp;\n\t__le32 dma_delay;\n\t__le32 reserved2;\n};\n\n#define TSNEP_TX_DESC_UNDERRUN_ERROR_FLAG 0x00010000\n#define TSNEP_TX_DESC_DMA_DELAY_FIRST_DATA_MASK 0x0000FFFC\n#define TSNEP_TX_DESC_DMA_DELAY_FIRST_DATA_SHIFT 2\n#define TSNEP_TX_DESC_DMA_DELAY_LAST_DATA_MASK 0xFFFC0000\n#define TSNEP_TX_DESC_DMA_DELAY_LAST_DATA_SHIFT 18\n#define TSNEP_TX_DESC_DMA_DELAY_NS 64\n\n \nstruct tsnep_rx_desc {\n\t__le32 properties;\n\t__le32 reserved[3];\n\t__le64 next;\n\t__le64 rx;\n};\n\n#define TSNEP_RX_DESC_BUFFER_SIZE_MASK 0x00003FFC\n\n \nstruct tsnep_rx_desc_wb {\n\t__le32 properties;\n\t__le32 reserved[7];\n};\n\n \nstruct tsnep_rx_inline {\n\t__le64 counter;\n\t__le64 timestamp;\n};\n\n#define TSNEP_RX_INLINE_METADATA_SIZE (sizeof(struct tsnep_rx_inline))\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}