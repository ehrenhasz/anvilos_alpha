{
  "module_name": "i40e_virtchnl_pf.h",
  "hash_id": "65418e05df9634091146f2681c0ff073b27513707884e8c02b41515d0f8b6ce7",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/intel/i40e/i40e_virtchnl_pf.h",
  "human_readable_source": " \n \n\n#ifndef _I40E_VIRTCHNL_PF_H_\n#define _I40E_VIRTCHNL_PF_H_\n\n#include \"i40e.h\"\n\n#define I40E_MAX_VLANID 4095\n\n#define I40E_VIRTCHNL_SUPPORTED_QTYPES 2\n\n#define I40E_VLAN_PRIORITY_SHIFT\t13\n#define I40E_VLAN_MASK\t\t\t0xFFF\n#define I40E_PRIORITY_MASK\t\t0xE000\n\n#define I40E_MAX_VF_PROMISC_FLAGS\t3\n\n#define I40E_VF_STATE_WAIT_COUNT\t20\n#define I40E_VFR_WAIT_COUNT\t\t100\n\n \nenum i40e_queue_ctrl {\n\tI40E_QUEUE_CTRL_UNKNOWN = 0,\n\tI40E_QUEUE_CTRL_ENABLE,\n\tI40E_QUEUE_CTRL_ENABLECHECK,\n\tI40E_QUEUE_CTRL_DISABLE,\n\tI40E_QUEUE_CTRL_DISABLECHECK,\n\tI40E_QUEUE_CTRL_FASTDISABLE,\n\tI40E_QUEUE_CTRL_FASTDISABLECHECK,\n};\n\n \nenum i40e_vf_states {\n\tI40E_VF_STATE_INIT = 0,\n\tI40E_VF_STATE_ACTIVE,\n\tI40E_VF_STATE_RDMAENA,\n\tI40E_VF_STATE_DISABLED,\n\tI40E_VF_STATE_MC_PROMISC,\n\tI40E_VF_STATE_UC_PROMISC,\n\tI40E_VF_STATE_PRE_ENABLE,\n\tI40E_VF_STATE_RESETTING\n};\n\n \nenum i40e_vf_capabilities {\n\tI40E_VIRTCHNL_VF_CAP_PRIVILEGE = 0,\n\tI40E_VIRTCHNL_VF_CAP_L2,\n\tI40E_VIRTCHNL_VF_CAP_RDMA,\n};\n\n \nstruct i40evf_channel {\n\tu16 vsi_idx;  \n\tu16 vsi_id;  \n\tu16 num_qps;  \n\tu64 max_tx_rate;  \n};\n\n \nstruct i40e_vf {\n\tstruct i40e_pf *pf;\n\n\t \n\ts16 vf_id;\n\t \n\tenum i40e_switch_element_types parent_type;\n\tstruct virtchnl_version_info vf_ver;\n\tu32 driver_caps;  \n\n\t \n\tu16 stag;\n\n\tstruct virtchnl_ether_addr default_lan_addr;\n\tu16 port_vlan_id;\n\tbool pf_set_mac;\t \n\tbool trusted;\n\n\t \n\tu16 lan_vsi_idx;\t \n\tu16 lan_vsi_id;\t\t \n\n\tu8 num_queue_pairs;\t \n\tu8 num_req_queues;\t \n\tu64 num_mdd_events;\t \n\n\tunsigned long vf_caps;\t \n\tunsigned long vf_states;\t \n\tunsigned int tx_rate;\t \n\tbool link_forced;\n\tbool link_up;\t\t \n\tbool spoofchk;\n\tu16 num_vlan;\n\n\t \n\tbool adq_enabled;  \n\tu8 num_tc;\n\tstruct i40evf_channel ch[I40E_MAX_VF_VSI];\n\tstruct hlist_head cloud_filter_list;\n\tu16 num_cloud_filters;\n\n\t \n\tstruct virtchnl_rdma_qvlist_info *qvlist_info;\n};\n\nvoid i40e_free_vfs(struct i40e_pf *pf);\nint i40e_pci_sriov_configure(struct pci_dev *dev, int num_vfs);\nint i40e_alloc_vfs(struct i40e_pf *pf, u16 num_alloc_vfs);\nint i40e_vc_process_vf_msg(struct i40e_pf *pf, s16 vf_id, u32 v_opcode,\n\t\t\t   u32 v_retval, u8 *msg, u16 msglen);\nint i40e_vc_process_vflr_event(struct i40e_pf *pf);\nbool i40e_reset_vf(struct i40e_vf *vf, bool flr);\nbool i40e_reset_all_vfs(struct i40e_pf *pf, bool flr);\nvoid i40e_vc_notify_vf_reset(struct i40e_vf *vf);\n\n \nint i40e_ndo_set_vf_mac(struct net_device *netdev, int vf_id, u8 *mac);\nint i40e_ndo_set_vf_port_vlan(struct net_device *netdev, int vf_id,\n\t\t\t      u16 vlan_id, u8 qos, __be16 vlan_proto);\nint i40e_ndo_set_vf_bw(struct net_device *netdev, int vf_id, int min_tx_rate,\n\t\t       int max_tx_rate);\nint i40e_ndo_set_vf_trust(struct net_device *netdev, int vf_id, bool setting);\nint i40e_ndo_get_vf_config(struct net_device *netdev,\n\t\t\t   int vf_id, struct ifla_vf_info *ivi);\nint i40e_ndo_set_vf_link_state(struct net_device *netdev, int vf_id, int link);\nint i40e_ndo_set_vf_spoofchk(struct net_device *netdev, int vf_id, bool enable);\n\nvoid i40e_vc_notify_link_state(struct i40e_pf *pf);\nvoid i40e_vc_notify_reset(struct i40e_pf *pf);\n#ifdef CONFIG_PCI_IOV\nvoid i40e_restore_all_vfs_msi_state(struct pci_dev *pdev);\n#endif  \nint i40e_get_vf_stats(struct net_device *netdev, int vf_id,\n\t\t      struct ifla_vf_stats *vf_stats);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}