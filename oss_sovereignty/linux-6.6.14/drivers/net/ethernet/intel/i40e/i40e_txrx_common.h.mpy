{
  "module_name": "i40e_txrx_common.h",
  "hash_id": "9310f77c8af8b2a5e4904ceaff4367f14d614fca2ffbcc3cde2e59bdb95cb887",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/intel/i40e/i40e_txrx_common.h",
  "human_readable_source": " \n \n\n#ifndef I40E_TXRX_COMMON_\n#define I40E_TXRX_COMMON_\n\nint i40e_xmit_xdp_tx_ring(struct xdp_buff *xdp, struct i40e_ring *xdp_ring);\nvoid i40e_clean_programming_status(struct i40e_ring *rx_ring, u64 qword0_raw,\n\t\t\t\t   u64 qword1);\nvoid i40e_process_skb_fields(struct i40e_ring *rx_ring,\n\t\t\t     union i40e_rx_desc *rx_desc, struct sk_buff *skb);\nvoid i40e_xdp_ring_update_tail(struct i40e_ring *xdp_ring);\nvoid i40e_update_rx_stats(struct i40e_ring *rx_ring,\n\t\t\t  unsigned int total_rx_bytes,\n\t\t\t  unsigned int total_rx_packets);\nvoid i40e_finalize_xdp_rx(struct i40e_ring *rx_ring, unsigned int xdp_res);\nvoid i40e_release_rx_desc(struct i40e_ring *rx_ring, u32 val);\n\n#define I40E_XDP_PASS\t\t0\n#define I40E_XDP_CONSUMED\tBIT(0)\n#define I40E_XDP_TX\t\tBIT(1)\n#define I40E_XDP_REDIR\t\tBIT(2)\n#define I40E_XDP_EXIT\t\tBIT(3)\n\n \nstatic inline __le64 build_ctob(u32 td_cmd, u32 td_offset, unsigned int size,\n\t\t\t\tu32 td_tag)\n{\n\treturn cpu_to_le64(I40E_TX_DESC_DTYPE_DATA |\n\t\t\t   ((u64)td_cmd  << I40E_TXD_QW1_CMD_SHIFT) |\n\t\t\t   ((u64)td_offset << I40E_TXD_QW1_OFFSET_SHIFT) |\n\t\t\t   ((u64)size  << I40E_TXD_QW1_TX_BUF_SZ_SHIFT) |\n\t\t\t   ((u64)td_tag  << I40E_TXD_QW1_L2TAG1_SHIFT));\n}\n\n \nstatic inline void i40e_update_tx_stats(struct i40e_ring *tx_ring,\n\t\t\t\t\tunsigned int total_packets,\n\t\t\t\t\tunsigned int total_bytes)\n{\n\tu64_stats_update_begin(&tx_ring->syncp);\n\ttx_ring->stats.bytes += total_bytes;\n\ttx_ring->stats.packets += total_packets;\n\tu64_stats_update_end(&tx_ring->syncp);\n\ttx_ring->q_vector->tx.total_bytes += total_bytes;\n\ttx_ring->q_vector->tx.total_packets += total_packets;\n}\n\n#define WB_STRIDE 4\n\n \nstatic inline void i40e_arm_wb(struct i40e_ring *tx_ring,\n\t\t\t       struct i40e_vsi *vsi,\n\t\t\t       int budget)\n{\n\tif (tx_ring->flags & I40E_TXR_FLAGS_WB_ON_ITR) {\n\t\t \n\t\tunsigned int j = i40e_get_tx_pending(tx_ring, false);\n\n\t\tif (budget &&\n\t\t    ((j / WB_STRIDE) == 0) && j > 0 &&\n\t\t    !test_bit(__I40E_VSI_DOWN, vsi->state) &&\n\t\t    (I40E_DESC_UNUSED(tx_ring) != tx_ring->count))\n\t\t\ttx_ring->arm_wb = true;\n\t}\n}\n\n \nstatic inline bool i40e_rx_is_programming_status(u64 qword1)\n{\n\t \n\treturn qword1 & I40E_RXD_QW1_LENGTH_SPH_MASK;\n}\n\nvoid i40e_xsk_clean_rx_ring(struct i40e_ring *rx_ring);\nvoid i40e_xsk_clean_tx_ring(struct i40e_ring *tx_ring);\nbool i40e_xsk_any_rx_ring_enabled(struct i40e_vsi *vsi);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}