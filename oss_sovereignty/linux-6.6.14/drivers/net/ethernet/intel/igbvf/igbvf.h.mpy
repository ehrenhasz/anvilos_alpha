{
  "module_name": "igbvf.h",
  "hash_id": "55f11e937636ed00d35ed9bc5aaa4e57a1f5134da7c8cb1408ceabb70cd0ac92",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/intel/igbvf/igbvf.h",
  "human_readable_source": " \n \n\n \n\n#ifndef _IGBVF_H_\n#define _IGBVF_H_\n\n#include <linux/types.h>\n#include <linux/timer.h>\n#include <linux/io.h>\n#include <linux/netdevice.h>\n#include <linux/if_vlan.h>\n\n#include \"vf.h\"\n\n \nstruct igbvf_info;\nstruct igbvf_adapter;\n\n \n#define IGBVF_START_ITR\t\t488  \n#define IGBVF_4K_ITR\t\t980\n#define IGBVF_20K_ITR\t\t196\n#define IGBVF_70K_ITR\t\t56\n\nenum latency_range {\n\tlowest_latency = 0,\n\tlow_latency = 1,\n\tbulk_latency = 2,\n\tlatency_invalid = 255\n};\n\n \n#define IGBVF_INT_MODE_LEGACY\t0\n#define IGBVF_INT_MODE_MSI\t1\n#define IGBVF_INT_MODE_MSIX\t2\n\n \n#define IGBVF_DEFAULT_TXD\t256\n#define IGBVF_MAX_TXD\t\t4096\n#define IGBVF_MIN_TXD\t\t64\n\n#define IGBVF_DEFAULT_RXD\t256\n#define IGBVF_MAX_RXD\t\t4096\n#define IGBVF_MIN_RXD\t\t64\n\n#define IGBVF_MIN_ITR_USECS\t10  \n#define IGBVF_MAX_ITR_USECS\t10000  \n\n \n#define IGBVF_RX_PTHRESH\t16\n#define IGBVF_RX_HTHRESH\t8\n#define IGBVF_RX_WTHRESH\t1\n\n \n#define MAXIMUM_ETHERNET_VLAN_SIZE\t1522\n\n#define IGBVF_FC_PAUSE_TIME\t0x0680  \n\n \n#define IGBVF_TX_QUEUE_WAKE\t32\n \n#define IGBVF_RX_BUFFER_WRITE\t16  \n\n#define AUTO_ALL_MODES\t\t0\n#define IGBVF_EEPROM_APME\t0x0400\n\n#define IGBVF_MNG_VLAN_NONE\t(-1)\n\n#define IGBVF_MAX_MAC_FILTERS\t3\n\n \n#define PS_PAGE_BUFFERS\t\t(MAX_PS_BUFFERS - 1)\n\nenum igbvf_boards {\n\tboard_vf,\n\tboard_i350_vf,\n};\n\nstruct igbvf_queue_stats {\n\tu64 packets;\n\tu64 bytes;\n};\n\n \nstruct igbvf_buffer {\n\tdma_addr_t dma;\n\tstruct sk_buff *skb;\n\tunion {\n\t\t \n\t\tstruct {\n\t\t\tunsigned long time_stamp;\n\t\t\tunion e1000_adv_tx_desc *next_to_watch;\n\t\t\tu16 length;\n\t\t\tu16 mapped_as_page;\n\t\t};\n\t\t \n\t\tstruct {\n\t\t\tstruct page *page;\n\t\t\tu64 page_dma;\n\t\t\tunsigned int page_offset;\n\t\t};\n\t};\n};\n\nunion igbvf_desc {\n\tunion e1000_adv_rx_desc rx_desc;\n\tunion e1000_adv_tx_desc tx_desc;\n\tstruct e1000_adv_tx_context_desc tx_context_desc;\n};\n\nstruct igbvf_ring {\n\tstruct igbvf_adapter *adapter;   \n\tunion igbvf_desc *desc;\t \n\tdma_addr_t dma;\t\t \n\tunsigned int size;\t \n\tunsigned int count;\t \n\n\tu16 next_to_use;\n\tu16 next_to_clean;\n\n\tu16 head;\n\tu16 tail;\n\n\t \n\tstruct igbvf_buffer *buffer_info;\n\tstruct napi_struct napi;\n\n\tchar name[IFNAMSIZ + 5];\n\tu32 eims_value;\n\tu32 itr_val;\n\tenum latency_range itr_range;\n\tu16 itr_register;\n\tint set_itr;\n\n\tstruct sk_buff *rx_skb_top;\n\n\tstruct igbvf_queue_stats stats;\n};\n\n \nstruct igbvf_adapter {\n\tstruct timer_list watchdog_timer;\n\tstruct timer_list blink_timer;\n\n\tstruct work_struct reset_task;\n\tstruct work_struct watchdog_task;\n\n\tconst struct igbvf_info *ei;\n\n\tunsigned long active_vlans[BITS_TO_LONGS(VLAN_N_VID)];\n\tu32 bd_number;\n\tu32 rx_buffer_len;\n\tu32 polling_interval;\n\tu16 mng_vlan_id;\n\tu16 link_speed;\n\tu16 link_duplex;\n\n\tspinlock_t tx_queue_lock;  \n\n\t \n\tunsigned long state;\n\n\t \n\tu32 requested_itr;  \n\tu32 current_itr;  \n\n\t \n\tstruct igbvf_ring *tx_ring  \n\t____cacheline_aligned_in_smp;\n\n\tunsigned int restart_queue;\n\tu32 txd_cmd;\n\n\tu32 tx_int_delay;\n\tu32 tx_abs_int_delay;\n\n\tunsigned int total_tx_bytes;\n\tunsigned int total_tx_packets;\n\tunsigned int total_rx_bytes;\n\tunsigned int total_rx_packets;\n\n\t \n\tu32 tx_timeout_count;\n\tu32 tx_fifo_head;\n\tu32 tx_head_addr;\n\tu32 tx_fifo_size;\n\tu32 tx_dma_failed;\n\n\t \n\tstruct igbvf_ring *rx_ring;\n\n\tu32 rx_int_delay;\n\tu32 rx_abs_int_delay;\n\n\t \n\tu64 hw_csum_err;\n\tu64 hw_csum_good;\n\tu64 rx_hdr_split;\n\tu32 alloc_rx_buff_failed;\n\tu32 rx_dma_failed;\n\n\tunsigned int rx_ps_hdr_size;\n\tu32 max_frame_size;\n\tu32 min_frame_size;\n\n\t \n\tstruct net_device *netdev;\n\tstruct pci_dev *pdev;\n\tspinlock_t stats_lock;  \n\n\t \n\tstruct e1000_hw hw;\n\n\t \n\tstruct e1000_vf_stats stats;\n\tu64 zero_base;\n\n\tstruct igbvf_ring test_tx_ring;\n\tstruct igbvf_ring test_rx_ring;\n\tu32 test_icr;\n\n\tu32 msg_enable;\n\tstruct msix_entry *msix_entries;\n\tint int_mode;\n\tu32 eims_enable_mask;\n\tu32 eims_other;\n\tu32 int_counter0;\n\tu32 int_counter1;\n\n\tu32 eeprom_wol;\n\tu32 wol;\n\tu32 pba;\n\n\tbool fc_autoneg;\n\n\tunsigned long led_status;\n\n\tunsigned int flags;\n\tunsigned long last_reset;\n};\n\nstruct igbvf_info {\n\tenum e1000_mac_type\tmac;\n\tunsigned int\t\tflags;\n\tu32\t\t\tpba;\n\tvoid\t\t\t(*init_ops)(struct e1000_hw *);\n\ts32\t\t\t(*get_variants)(struct igbvf_adapter *);\n};\n\n \n#define IGBVF_FLAG_RX_CSUM_DISABLED\tBIT(0)\n#define IGBVF_FLAG_RX_LB_VLAN_BSWAP\tBIT(1)\n#define IGBVF_RX_DESC_ADV(R, i)     \\\n\t(&((((R).desc))[i].rx_desc))\n#define IGBVF_TX_DESC_ADV(R, i)     \\\n\t(&((((R).desc))[i].tx_desc))\n#define IGBVF_TX_CTXTDESC_ADV(R, i) \\\n\t(&((((R).desc))[i].tx_context_desc))\n\nenum igbvf_state_t {\n\t__IGBVF_TESTING,\n\t__IGBVF_RESETTING,\n\t__IGBVF_DOWN\n};\n\nextern char igbvf_driver_name[];\n\nvoid igbvf_check_options(struct igbvf_adapter *);\nvoid igbvf_set_ethtool_ops(struct net_device *);\n\nint igbvf_up(struct igbvf_adapter *);\nvoid igbvf_down(struct igbvf_adapter *);\nvoid igbvf_reinit_locked(struct igbvf_adapter *);\nint igbvf_setup_rx_resources(struct igbvf_adapter *, struct igbvf_ring *);\nint igbvf_setup_tx_resources(struct igbvf_adapter *, struct igbvf_ring *);\nvoid igbvf_free_rx_resources(struct igbvf_ring *);\nvoid igbvf_free_tx_resources(struct igbvf_ring *);\nvoid igbvf_update_stats(struct igbvf_adapter *);\n\nextern unsigned int copybreak;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}