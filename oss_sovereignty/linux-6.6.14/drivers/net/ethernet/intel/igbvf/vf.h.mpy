{
  "module_name": "vf.h",
  "hash_id": "0eb93cae8efd4be1126b3fb19fda4fa5046b5e1ff32b2705d886383174f08c80",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/intel/igbvf/vf.h",
  "human_readable_source": " \n \n\n#ifndef _E1000_VF_H_\n#define _E1000_VF_H_\n\n#include <linux/pci.h>\n#include <linux/delay.h>\n#include <linux/interrupt.h>\n#include <linux/if_ether.h>\n\n#include \"regs.h\"\n#include \"defines.h\"\n\nstruct e1000_hw;\n\n#define E1000_DEV_ID_82576_VF\t\t0x10CA\n#define E1000_DEV_ID_I350_VF\t\t0x1520\n#define E1000_REVISION_0\t0\n#define E1000_REVISION_1\t1\n#define E1000_REVISION_2\t2\n#define E1000_REVISION_3\t3\n#define E1000_REVISION_4\t4\n\n#define E1000_FUNC_0\t0\n#define E1000_FUNC_1\t1\n\n \n#define E1000_RAR_ENTRIES_VF\t1\n\n \nunion e1000_adv_rx_desc {\n\tstruct {\n\t\t__le64 pkt_addr;  \n\t\t__le64 hdr_addr;  \n\t} read;\n\tstruct {\n\t\tstruct {\n\t\t\tunion {\n\t\t\t\t__le32 data;\n\t\t\t\tstruct {\n\t\t\t\t\t__le16 pkt_info;  \n\t\t\t\t\t \n\t\t\t\t\t__le16 hdr_info;\n\t\t\t\t} hs_rss;\n\t\t\t} lo_dword;\n\t\t\tunion {\n\t\t\t\t__le32 rss;  \n\t\t\t\tstruct {\n\t\t\t\t\t__le16 ip_id;  \n\t\t\t\t\t__le16 csum;   \n\t\t\t\t} csum_ip;\n\t\t\t} hi_dword;\n\t\t} lower;\n\t\tstruct {\n\t\t\t__le32 status_error;  \n\t\t\t__le16 length;  \n\t\t\t__le16 vlan;  \n\t\t} upper;\n\t} wb;   \n};\n\n#define E1000_RXDADV_HDRBUFLEN_MASK\t0x7FE0\n#define E1000_RXDADV_HDRBUFLEN_SHIFT\t5\n\n \nunion e1000_adv_tx_desc {\n\tstruct {\n\t\t__le64 buffer_addr;  \n\t\t__le32 cmd_type_len;\n\t\t__le32 olinfo_status;\n\t} read;\n\tstruct {\n\t\t__le64 rsvd;  \n\t\t__le32 nxtseq_seed;\n\t\t__le32 status;\n\t} wb;\n};\n\n \n#define E1000_ADVTXD_DTYP_CTXT\t0x00200000  \n#define E1000_ADVTXD_DTYP_DATA\t0x00300000  \n#define E1000_ADVTXD_DCMD_EOP\t0x01000000  \n#define E1000_ADVTXD_DCMD_IFCS\t0x02000000  \n#define E1000_ADVTXD_DCMD_RS\t0x08000000  \n#define E1000_ADVTXD_DCMD_DEXT\t0x20000000  \n#define E1000_ADVTXD_DCMD_VLE\t0x40000000  \n#define E1000_ADVTXD_DCMD_TSE\t0x80000000  \n#define E1000_ADVTXD_PAYLEN_SHIFT\t14  \n\n \nstruct e1000_adv_tx_context_desc {\n\t__le32 vlan_macip_lens;\n\t__le32 seqnum_seed;\n\t__le32 type_tucmd_mlhl;\n\t__le32 mss_l4len_idx;\n};\n\n#define E1000_ADVTXD_MACLEN_SHIFT\t9   \n#define E1000_ADVTXD_TUCMD_IPV4\t\t0x00000400  \n#define E1000_ADVTXD_TUCMD_L4T_TCP\t0x00000800  \n#define E1000_ADVTXD_TUCMD_L4T_SCTP\t0x00001000  \n#define E1000_ADVTXD_L4LEN_SHIFT\t8   \n#define E1000_ADVTXD_MSS_SHIFT\t\t16  \n\nenum e1000_mac_type {\n\te1000_undefined = 0,\n\te1000_vfadapt,\n\te1000_vfadapt_i350,\n\te1000_num_macs   \n};\n\nstruct e1000_vf_stats {\n\tu64 base_gprc;\n\tu64 base_gptc;\n\tu64 base_gorc;\n\tu64 base_gotc;\n\tu64 base_mprc;\n\tu64 base_gotlbc;\n\tu64 base_gptlbc;\n\tu64 base_gorlbc;\n\tu64 base_gprlbc;\n\n\tu32 last_gprc;\n\tu32 last_gptc;\n\tu32 last_gorc;\n\tu32 last_gotc;\n\tu32 last_mprc;\n\tu32 last_gotlbc;\n\tu32 last_gptlbc;\n\tu32 last_gorlbc;\n\tu32 last_gprlbc;\n\n\tu64 gprc;\n\tu64 gptc;\n\tu64 gorc;\n\tu64 gotc;\n\tu64 mprc;\n\tu64 gotlbc;\n\tu64 gptlbc;\n\tu64 gorlbc;\n\tu64 gprlbc;\n};\n\n#include \"mbx.h\"\n\nstruct e1000_mac_operations {\n\t \n\ts32  (*init_params)(struct e1000_hw *);\n\ts32  (*check_for_link)(struct e1000_hw *);\n\tvoid (*clear_vfta)(struct e1000_hw *);\n\ts32  (*get_bus_info)(struct e1000_hw *);\n\ts32  (*get_link_up_info)(struct e1000_hw *, u16 *, u16 *);\n\tvoid (*update_mc_addr_list)(struct e1000_hw *, u8 *, u32, u32, u32);\n\ts32  (*set_uc_addr)(struct e1000_hw *, u32, u8 *);\n\ts32  (*reset_hw)(struct e1000_hw *);\n\ts32  (*init_hw)(struct e1000_hw *);\n\ts32  (*setup_link)(struct e1000_hw *);\n\tvoid (*write_vfta)(struct e1000_hw *, u32, u32);\n\tvoid (*mta_set)(struct e1000_hw *, u32);\n\tvoid (*rar_set)(struct e1000_hw *, u8*, u32);\n\ts32  (*read_mac_addr)(struct e1000_hw *);\n\ts32  (*set_vfta)(struct e1000_hw *, u16, bool);\n};\n\nstruct e1000_mac_info {\n\tstruct e1000_mac_operations ops;\n\tu8 addr[6];\n\tu8 perm_addr[6];\n\n\tenum e1000_mac_type type;\n\n\tu16 mta_reg_count;\n\tu16 rar_entry_count;\n\n\tbool get_link_status;\n};\n\nstruct e1000_mbx_operations {\n\ts32 (*init_params)(struct e1000_hw *hw);\n\ts32 (*read)(struct e1000_hw *, u32 *, u16);\n\ts32 (*write)(struct e1000_hw *, u32 *, u16);\n\ts32 (*read_posted)(struct e1000_hw *, u32 *, u16);\n\ts32 (*write_posted)(struct e1000_hw *, u32 *, u16);\n\ts32 (*check_for_msg)(struct e1000_hw *);\n\ts32 (*check_for_ack)(struct e1000_hw *);\n\ts32 (*check_for_rst)(struct e1000_hw *);\n};\n\nstruct e1000_mbx_stats {\n\tu32 msgs_tx;\n\tu32 msgs_rx;\n\n\tu32 acks;\n\tu32 reqs;\n\tu32 rsts;\n};\n\nstruct e1000_mbx_info {\n\tstruct e1000_mbx_operations ops;\n\tstruct e1000_mbx_stats stats;\n\tu32 timeout;\n\tu32 usec_delay;\n\tu16 size;\n};\n\nstruct e1000_dev_spec_vf {\n\tu32 vf_number;\n\tu32 v2p_mailbox;\n};\n\nstruct e1000_hw {\n\tvoid *back;\n\n\tu8 __iomem *hw_addr;\n\tu8 __iomem *flash_address;\n\tunsigned long io_base;\n\n\tstruct e1000_mac_info  mac;\n\tstruct e1000_mbx_info mbx;\n\tspinlock_t mbx_lock;\t\t \n\n\tunion {\n\t\tstruct e1000_dev_spec_vf vf;\n\t} dev_spec;\n\n\tu16 device_id;\n\tu16 subsystem_vendor_id;\n\tu16 subsystem_device_id;\n\tu16 vendor_id;\n\n\tu8  revision_id;\n};\n\n \nvoid e1000_rlpml_set_vf(struct e1000_hw *, u16);\nvoid e1000_init_function_pointers_vf(struct e1000_hw *hw);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}