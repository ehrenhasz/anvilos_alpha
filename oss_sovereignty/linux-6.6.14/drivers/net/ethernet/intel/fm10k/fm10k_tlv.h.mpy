{
  "module_name": "fm10k_tlv.h",
  "hash_id": "03482853f0b152d2c707149b3d247cd29a45589d545f684010f02c232f3a39a4",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/intel/fm10k/fm10k_tlv.h",
  "human_readable_source": " \n \n\n#ifndef _FM10K_TLV_H_\n#define _FM10K_TLV_H_\n\n \nstruct fm10k_msg_data;\n\n#include \"fm10k_type.h\"\n\n \n \n#define FM10K_TLV_ID_SHIFT\t\t0\n#define FM10K_TLV_ID_SIZE\t\t16\n#define FM10K_TLV_ID_MASK\t\t((1u << FM10K_TLV_ID_SIZE) - 1)\n#define FM10K_TLV_FLAGS_SHIFT\t\t16\n#define FM10K_TLV_FLAGS_MSG\t\t0x1\n#define FM10K_TLV_FLAGS_SIZE\t\t4\n#define FM10K_TLV_LEN_SHIFT\t\t20\n#define FM10K_TLV_LEN_SIZE\t\t12\n\n#define FM10K_TLV_HDR_LEN\t\t4ul\n#define FM10K_TLV_LEN_ALIGN_MASK \\\n\t((FM10K_TLV_HDR_LEN - 1) << FM10K_TLV_LEN_SHIFT)\n#define FM10K_TLV_LEN_ALIGN(tlv) \\\n\t(((tlv) + FM10K_TLV_LEN_ALIGN_MASK) & ~FM10K_TLV_LEN_ALIGN_MASK)\n#define FM10K_TLV_DWORD_LEN(tlv) \\\n\t((u16)((FM10K_TLV_LEN_ALIGN(tlv)) >> (FM10K_TLV_LEN_SHIFT + 2)) + 1)\n\n#define FM10K_TLV_RESULTS_MAX\t\t32\n\nenum fm10k_tlv_type {\n\tFM10K_TLV_NULL_STRING,\n\tFM10K_TLV_MAC_ADDR,\n\tFM10K_TLV_BOOL,\n\tFM10K_TLV_UNSIGNED,\n\tFM10K_TLV_SIGNED,\n\tFM10K_TLV_LE_STRUCT,\n\tFM10K_TLV_NESTED,\n\tFM10K_TLV_MAX_TYPE\n};\n\n#define FM10K_TLV_ERROR (~0u)\n\nstruct fm10k_tlv_attr {\n\tunsigned int\t\tid;\n\tenum fm10k_tlv_type\ttype;\n\tu16\t\t\tlen;\n};\n\n#define FM10K_TLV_ATTR_NULL_STRING(id, len) { id, FM10K_TLV_NULL_STRING, len }\n#define FM10K_TLV_ATTR_MAC_ADDR(id)\t    { id, FM10K_TLV_MAC_ADDR, 6 }\n#define FM10K_TLV_ATTR_BOOL(id)\t\t    { id, FM10K_TLV_BOOL, 0 }\n#define FM10K_TLV_ATTR_U8(id)\t\t    { id, FM10K_TLV_UNSIGNED, 1 }\n#define FM10K_TLV_ATTR_U16(id)\t\t    { id, FM10K_TLV_UNSIGNED, 2 }\n#define FM10K_TLV_ATTR_U32(id)\t\t    { id, FM10K_TLV_UNSIGNED, 4 }\n#define FM10K_TLV_ATTR_U64(id)\t\t    { id, FM10K_TLV_UNSIGNED, 8 }\n#define FM10K_TLV_ATTR_S8(id)\t\t    { id, FM10K_TLV_SIGNED, 1 }\n#define FM10K_TLV_ATTR_S16(id)\t\t    { id, FM10K_TLV_SIGNED, 2 }\n#define FM10K_TLV_ATTR_S32(id)\t\t    { id, FM10K_TLV_SIGNED, 4 }\n#define FM10K_TLV_ATTR_S64(id)\t\t    { id, FM10K_TLV_SIGNED, 8 }\n#define FM10K_TLV_ATTR_LE_STRUCT(id, len)   { id, FM10K_TLV_LE_STRUCT, len }\n#define FM10K_TLV_ATTR_NESTED(id)\t    { id, FM10K_TLV_NESTED, 0 }\n#define FM10K_TLV_ATTR_LAST\t\t    { FM10K_TLV_ERROR, 0, 0 }\n\nstruct fm10k_msg_data {\n\tunsigned int\t\t    id;\n\tconst struct fm10k_tlv_attr *attr;\n\ts32\t\t\t    (*func)(struct fm10k_hw *, u32 **,\n\t\t\t\t\t    struct fm10k_mbx_info *);\n};\n\n#define FM10K_MSG_HANDLER(id, attr, func) { id, attr, func }\n\ns32 fm10k_tlv_msg_init(u32 *, u16);\ns32 fm10k_tlv_attr_put_mac_vlan(u32 *, u16, const u8 *, u16);\ns32 fm10k_tlv_attr_get_mac_vlan(u32 *, u8 *, u16 *);\ns32 fm10k_tlv_attr_put_bool(u32 *, u16);\ns32 fm10k_tlv_attr_put_value(u32 *, u16, s64, u32);\n#define fm10k_tlv_attr_put_u8(msg, attr_id, val) \\\n\t\tfm10k_tlv_attr_put_value(msg, attr_id, val, 1)\n#define fm10k_tlv_attr_put_u16(msg, attr_id, val) \\\n\t\tfm10k_tlv_attr_put_value(msg, attr_id, val, 2)\n#define fm10k_tlv_attr_put_u32(msg, attr_id, val) \\\n\t\tfm10k_tlv_attr_put_value(msg, attr_id, val, 4)\n#define fm10k_tlv_attr_put_u64(msg, attr_id, val) \\\n\t\tfm10k_tlv_attr_put_value(msg, attr_id, val, 8)\n#define fm10k_tlv_attr_put_s8(msg, attr_id, val) \\\n\t\tfm10k_tlv_attr_put_value(msg, attr_id, val, 1)\n#define fm10k_tlv_attr_put_s16(msg, attr_id, val) \\\n\t\tfm10k_tlv_attr_put_value(msg, attr_id, val, 2)\n#define fm10k_tlv_attr_put_s32(msg, attr_id, val) \\\n\t\tfm10k_tlv_attr_put_value(msg, attr_id, val, 4)\n#define fm10k_tlv_attr_put_s64(msg, attr_id, val) \\\n\t\tfm10k_tlv_attr_put_value(msg, attr_id, val, 8)\ns32 fm10k_tlv_attr_get_value(u32 *, void *, u32);\n#define fm10k_tlv_attr_get_u8(attr, ptr) \\\n\t\tfm10k_tlv_attr_get_value(attr, ptr, sizeof(u8))\n#define fm10k_tlv_attr_get_u16(attr, ptr) \\\n\t\tfm10k_tlv_attr_get_value(attr, ptr, sizeof(u16))\n#define fm10k_tlv_attr_get_u32(attr, ptr) \\\n\t\tfm10k_tlv_attr_get_value(attr, ptr, sizeof(u32))\n#define fm10k_tlv_attr_get_u64(attr, ptr) \\\n\t\tfm10k_tlv_attr_get_value(attr, ptr, sizeof(u64))\n#define fm10k_tlv_attr_get_s8(attr, ptr) \\\n\t\tfm10k_tlv_attr_get_value(attr, ptr, sizeof(s8))\n#define fm10k_tlv_attr_get_s16(attr, ptr) \\\n\t\tfm10k_tlv_attr_get_value(attr, ptr, sizeof(s16))\n#define fm10k_tlv_attr_get_s32(attr, ptr) \\\n\t\tfm10k_tlv_attr_get_value(attr, ptr, sizeof(s32))\n#define fm10k_tlv_attr_get_s64(attr, ptr) \\\n\t\tfm10k_tlv_attr_get_value(attr, ptr, sizeof(s64))\ns32 fm10k_tlv_attr_put_le_struct(u32 *, u16, const void *, u32);\ns32 fm10k_tlv_attr_get_le_struct(u32 *, void *, u32);\ns32 fm10k_tlv_msg_parse(struct fm10k_hw *, u32 *, struct fm10k_mbx_info *,\n\t\t\tconst struct fm10k_msg_data *);\ns32 fm10k_tlv_msg_error(struct fm10k_hw *hw, u32 **results,\n\t\t\tstruct fm10k_mbx_info *);\n\n#define FM10K_TLV_MSG_ID_TEST\t0\n\nenum fm10k_tlv_test_attr_id {\n\tFM10K_TEST_MSG_UNSET,\n\tFM10K_TEST_MSG_STRING,\n\tFM10K_TEST_MSG_MAC_ADDR,\n\tFM10K_TEST_MSG_U8,\n\tFM10K_TEST_MSG_U16,\n\tFM10K_TEST_MSG_U32,\n\tFM10K_TEST_MSG_U64,\n\tFM10K_TEST_MSG_S8,\n\tFM10K_TEST_MSG_S16,\n\tFM10K_TEST_MSG_S32,\n\tFM10K_TEST_MSG_S64,\n\tFM10K_TEST_MSG_LE_STRUCT,\n\tFM10K_TEST_MSG_NESTED,\n\tFM10K_TEST_MSG_RESULT,\n\tFM10K_TEST_MSG_MAX\n};\n\nextern const struct fm10k_tlv_attr fm10k_tlv_msg_test_attr[];\nvoid fm10k_tlv_msg_test_create(u32 *, u32);\ns32 fm10k_tlv_msg_test(struct fm10k_hw *, u32 **, struct fm10k_mbx_info *);\n\n#define FM10K_TLV_MSG_TEST_HANDLER(func) \\\n\tFM10K_MSG_HANDLER(FM10K_TLV_MSG_ID_TEST, fm10k_tlv_msg_test_attr, func)\n#define FM10K_TLV_MSG_ERROR_HANDLER(func) \\\n\tFM10K_MSG_HANDLER(FM10K_TLV_ERROR, NULL, func)\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}