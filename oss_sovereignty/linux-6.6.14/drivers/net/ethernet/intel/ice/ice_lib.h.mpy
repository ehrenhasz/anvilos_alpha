{
  "module_name": "ice_lib.h",
  "hash_id": "bdf15a68a4891c0816effdbb014b8d4d1dbc0fa6e934a60e511b6eda98e985ee",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/intel/ice/ice_lib.h",
  "human_readable_source": " \n \n\n#ifndef _ICE_LIB_H_\n#define _ICE_LIB_H_\n\n#include \"ice.h\"\n#include \"ice_vlan.h\"\n\n \n#define ICE_VSI_FLAG_INIT\tBIT(0)\n#define ICE_VSI_FLAG_NO_INIT\t0\n\n \nstruct ice_vsi_cfg_params {\n\tstruct ice_port_info *pi;\n\tstruct ice_channel *ch;\n\tstruct ice_vf *vf;\n\tenum ice_vsi_type type;\n\tu32 flags;\n};\n\n \nstatic inline struct ice_vsi_cfg_params ice_vsi_to_params(struct ice_vsi *vsi)\n{\n\tstruct ice_vsi_cfg_params params = {};\n\n\tparams.pi = vsi->port_info;\n\tparams.ch = vsi->ch;\n\tparams.vf = vsi->vf;\n\tparams.type = vsi->type;\n\n\treturn params;\n}\n\nconst char *ice_vsi_type_str(enum ice_vsi_type vsi_type);\n\nbool ice_pf_state_is_nominal(struct ice_pf *pf);\n\nvoid ice_update_eth_stats(struct ice_vsi *vsi);\n\nint ice_vsi_cfg_single_rxq(struct ice_vsi *vsi, u16 q_idx);\n\nint ice_vsi_cfg_single_txq(struct ice_vsi *vsi, struct ice_tx_ring **tx_rings, u16 q_idx);\n\nint ice_vsi_cfg_rxqs(struct ice_vsi *vsi);\n\nint ice_vsi_cfg_lan_txqs(struct ice_vsi *vsi);\n\nvoid ice_vsi_cfg_msix(struct ice_vsi *vsi);\n\nint ice_vsi_start_all_rx_rings(struct ice_vsi *vsi);\n\nint ice_vsi_stop_all_rx_rings(struct ice_vsi *vsi);\n\nint\nice_vsi_stop_lan_tx_rings(struct ice_vsi *vsi, enum ice_disq_rst_src rst_src,\n\t\t\t  u16 rel_vmvf_num);\n\nint ice_vsi_cfg_xdp_txqs(struct ice_vsi *vsi);\n\nint ice_vsi_stop_xdp_tx_rings(struct ice_vsi *vsi);\n\nvoid ice_cfg_sw_lldp(struct ice_vsi *vsi, bool tx, bool create);\n\nint ice_set_link(struct ice_vsi *vsi, bool ena);\n\nvoid ice_vsi_delete(struct ice_vsi *vsi);\n\nint ice_vsi_cfg_tc(struct ice_vsi *vsi, u8 ena_tc);\n\nint ice_vsi_cfg_rss_lut_key(struct ice_vsi *vsi);\n\nvoid ice_vsi_cfg_netdev_tc(struct ice_vsi *vsi, u8 ena_tc);\n\nstruct ice_vsi *\nice_vsi_setup(struct ice_pf *pf, struct ice_vsi_cfg_params *params);\n\nint ice_vsi_release(struct ice_vsi *vsi);\n\nvoid ice_vsi_close(struct ice_vsi *vsi);\n\nint ice_ena_vsi(struct ice_vsi *vsi, bool locked);\n\nvoid ice_vsi_decfg(struct ice_vsi *vsi);\nvoid ice_dis_vsi(struct ice_vsi *vsi, bool locked);\n\nint ice_vsi_rebuild(struct ice_vsi *vsi, u32 vsi_flags);\nint ice_vsi_cfg(struct ice_vsi *vsi, struct ice_vsi_cfg_params *params);\n\nbool ice_is_reset_in_progress(unsigned long *state);\nint ice_wait_for_reset(struct ice_pf *pf, unsigned long timeout);\n\nvoid\nice_write_qrxflxp_cntxt(struct ice_hw *hw, u16 pf_q, u32 rxdid, u32 prio,\n\t\t\tbool ena_ts);\n\nvoid ice_vsi_dis_irq(struct ice_vsi *vsi);\n\nvoid ice_vsi_free_irq(struct ice_vsi *vsi);\n\nvoid ice_vsi_free_rx_rings(struct ice_vsi *vsi);\n\nvoid ice_vsi_free_tx_rings(struct ice_vsi *vsi);\n\nvoid ice_vsi_manage_rss_lut(struct ice_vsi *vsi, bool ena);\n\nvoid ice_vsi_cfg_crc_strip(struct ice_vsi *vsi, bool disable);\n\nvoid ice_update_tx_ring_stats(struct ice_tx_ring *ring, u64 pkts, u64 bytes);\n\nvoid ice_update_rx_ring_stats(struct ice_rx_ring *ring, u64 pkts, u64 bytes);\n\nvoid ice_write_intrl(struct ice_q_vector *q_vector, u8 intrl);\nvoid ice_write_itr(struct ice_ring_container *rc, u16 itr);\nvoid ice_set_q_vector_intrl(struct ice_q_vector *q_vector);\n\nint ice_vsi_cfg_mac_fltr(struct ice_vsi *vsi, const u8 *macaddr, bool set);\n\nbool ice_is_safe_mode(struct ice_pf *pf);\nbool ice_is_rdma_ena(struct ice_pf *pf);\nbool ice_is_dflt_vsi_in_use(struct ice_port_info *pi);\nbool ice_is_vsi_dflt_vsi(struct ice_vsi *vsi);\nint ice_set_dflt_vsi(struct ice_vsi *vsi);\nint ice_clear_dflt_vsi(struct ice_vsi *vsi);\nint ice_set_min_bw_limit(struct ice_vsi *vsi, u64 min_tx_rate);\nint ice_set_max_bw_limit(struct ice_vsi *vsi, u64 max_tx_rate);\nint ice_get_link_speed_kbps(struct ice_vsi *vsi);\nint ice_get_link_speed_mbps(struct ice_vsi *vsi);\nint\nice_vsi_update_security(struct ice_vsi *vsi, void (*fill)(struct ice_vsi_ctx *));\n\nvoid ice_vsi_ctx_set_antispoof(struct ice_vsi_ctx *ctx);\n\nvoid ice_vsi_ctx_clear_antispoof(struct ice_vsi_ctx *ctx);\n\nvoid ice_vsi_ctx_set_allow_override(struct ice_vsi_ctx *ctx);\n\nvoid ice_vsi_ctx_clear_allow_override(struct ice_vsi_ctx *ctx);\nint ice_vsi_update_local_lb(struct ice_vsi *vsi, bool set);\nint ice_vsi_add_vlan_zero(struct ice_vsi *vsi);\nint ice_vsi_del_vlan_zero(struct ice_vsi *vsi);\nbool ice_vsi_has_non_zero_vlans(struct ice_vsi *vsi);\nu16 ice_vsi_num_non_zero_vlans(struct ice_vsi *vsi);\nbool ice_is_feature_supported(struct ice_pf *pf, enum ice_feature f);\nvoid ice_set_feature_support(struct ice_pf *pf, enum ice_feature f);\nvoid ice_clear_feature_support(struct ice_pf *pf, enum ice_feature f);\nvoid ice_init_feature_support(struct ice_pf *pf);\nbool ice_vsi_is_rx_queue_active(struct ice_vsi *vsi);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}