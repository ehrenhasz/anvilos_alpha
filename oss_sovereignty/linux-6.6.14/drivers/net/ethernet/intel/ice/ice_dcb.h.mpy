{
  "module_name": "ice_dcb.h",
  "hash_id": "be714a54f0c75ca4d969cdda898acbe15dc400ae947af6bff14f34bd291f3194",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/intel/ice/ice_dcb.h",
  "human_readable_source": " \n \n\n#ifndef _ICE_DCB_H_\n#define _ICE_DCB_H_\n\n#include \"ice_type.h\"\n#include <scsi/iscsi_proto.h>\n\n#define ICE_DCBX_STATUS_NOT_STARTED\t0\n#define ICE_DCBX_STATUS_IN_PROGRESS\t1\n#define ICE_DCBX_STATUS_DONE\t\t2\n#define ICE_DCBX_STATUS_DIS\t\t7\n\n#define ICE_TLV_TYPE_END\t\t0\n#define ICE_TLV_TYPE_ORG\t\t127\n\n#define ICE_IEEE_8021QAZ_OUI\t\t0x0080C2\n#define ICE_IEEE_SUBTYPE_ETS_CFG\t9\n#define ICE_IEEE_SUBTYPE_ETS_REC\t10\n#define ICE_IEEE_SUBTYPE_PFC_CFG\t11\n#define ICE_IEEE_SUBTYPE_APP_PRI\t12\n\n#define ICE_CEE_DCBX_OUI\t\t0x001B21\n#define ICE_CEE_DCBX_TYPE\t\t2\n\n#define ICE_DSCP_OUI\t\t\t0xFFFFFF\n#define ICE_DSCP_SUBTYPE_DSCP2UP\t0x41\n#define ICE_DSCP_SUBTYPE_ENFORCE\t0x42\n#define ICE_DSCP_SUBTYPE_TCBW\t\t0x43\n#define ICE_DSCP_SUBTYPE_PFC\t\t0x44\n#define ICE_DSCP_IPV6_OFFSET\t\t80\n\n#define ICE_CEE_SUBTYPE_PG_CFG\t\t2\n#define ICE_CEE_SUBTYPE_PFC_CFG\t\t3\n#define ICE_CEE_SUBTYPE_APP_PRI\t\t4\n#define ICE_CEE_MAX_FEAT_TYPE\t\t3\n \n#define ICE_LLDP_TLV_LEN_S\t\t0\n#define ICE_LLDP_TLV_LEN_M\t\t(0x01FF << ICE_LLDP_TLV_LEN_S)\n#define ICE_LLDP_TLV_TYPE_S\t\t9\n#define ICE_LLDP_TLV_TYPE_M\t\t(0x7F << ICE_LLDP_TLV_TYPE_S)\n#define ICE_LLDP_TLV_SUBTYPE_S\t\t0\n#define ICE_LLDP_TLV_SUBTYPE_M\t\t(0xFF << ICE_LLDP_TLV_SUBTYPE_S)\n#define ICE_LLDP_TLV_OUI_S\t\t8\n#define ICE_LLDP_TLV_OUI_M\t\t(0xFFFFFFUL << ICE_LLDP_TLV_OUI_S)\n\n \n#define ICE_IEEE_ETS_MAXTC_S\t0\n#define ICE_IEEE_ETS_MAXTC_M\t\t(0x7 << ICE_IEEE_ETS_MAXTC_S)\n#define ICE_IEEE_ETS_CBS_S\t\t6\n#define ICE_IEEE_ETS_CBS_M\t\tBIT(ICE_IEEE_ETS_CBS_S)\n#define ICE_IEEE_ETS_WILLING_S\t\t7\n#define ICE_IEEE_ETS_WILLING_M\t\tBIT(ICE_IEEE_ETS_WILLING_S)\n#define ICE_IEEE_ETS_PRIO_0_S\t\t0\n#define ICE_IEEE_ETS_PRIO_0_M\t\t(0x7 << ICE_IEEE_ETS_PRIO_0_S)\n#define ICE_IEEE_ETS_PRIO_1_S\t\t4\n#define ICE_IEEE_ETS_PRIO_1_M\t\t(0x7 << ICE_IEEE_ETS_PRIO_1_S)\n#define ICE_CEE_PGID_PRIO_0_S\t\t0\n#define ICE_CEE_PGID_PRIO_0_M\t\t(0xF << ICE_CEE_PGID_PRIO_0_S)\n#define ICE_CEE_PGID_PRIO_1_S\t\t4\n#define ICE_CEE_PGID_PRIO_1_M\t\t(0xF << ICE_CEE_PGID_PRIO_1_S)\n#define ICE_CEE_PGID_STRICT\t\t15\n\n \n#define ICE_IEEE_TSA_STRICT\t\t0\n#define ICE_IEEE_TSA_ETS\t\t2\n\n \n#define ICE_IEEE_PFC_CAP_S\t\t0\n#define ICE_IEEE_PFC_CAP_M\t\t(0xF << ICE_IEEE_PFC_CAP_S)\n#define ICE_IEEE_PFC_MBC_S\t\t6\n#define ICE_IEEE_PFC_MBC_M\t\tBIT(ICE_IEEE_PFC_MBC_S)\n#define ICE_IEEE_PFC_WILLING_S\t\t7\n#define ICE_IEEE_PFC_WILLING_M\t\tBIT(ICE_IEEE_PFC_WILLING_S)\n\n \n#define ICE_IEEE_APP_SEL_S\t\t0\n#define ICE_IEEE_APP_SEL_M\t\t(0x7 << ICE_IEEE_APP_SEL_S)\n#define ICE_IEEE_APP_PRIO_S\t\t5\n#define ICE_IEEE_APP_PRIO_M\t\t(0x7 << ICE_IEEE_APP_PRIO_S)\n\n \n#define ICE_IEEE_TLV_ID_ETS_CFG\t\t3\n#define ICE_IEEE_TLV_ID_ETS_REC\t\t4\n#define ICE_IEEE_TLV_ID_PFC_CFG\t\t5\n#define ICE_IEEE_TLV_ID_APP_PRI\t\t6\n#define ICE_TLV_ID_END_OF_LLDPPDU\t7\n#define ICE_TLV_ID_START\t\tICE_IEEE_TLV_ID_ETS_CFG\n#define ICE_TLV_ID_DSCP_UP\t\t3\n#define ICE_TLV_ID_DSCP_ENF\t\t4\n#define ICE_TLV_ID_DSCP_TC_BW\t\t5\n#define ICE_TLV_ID_DSCP_TO_PFC\t\t6\n\n#define ICE_IEEE_ETS_TLV_LEN\t\t25\n#define ICE_IEEE_PFC_TLV_LEN\t\t6\n#define ICE_IEEE_APP_TLV_LEN\t\t11\n\n#define ICE_DSCP_UP_TLV_LEN\t\t148\n#define ICE_DSCP_ENF_TLV_LEN\t\t132\n#define ICE_DSCP_TC_BW_TLV_LEN\t\t25\n#define ICE_DSCP_PFC_TLV_LEN\t\t6\n\n \nstruct ice_lldp_org_tlv {\n\t__be16 typelen;\n\t__be32 ouisubtype;\n\tu8 tlvinfo[];\n} __packed;\n\nstruct ice_cee_tlv_hdr {\n\t__be16 typelen;\n\tu8 operver;\n\tu8 maxver;\n};\n\nstruct ice_cee_ctrl_tlv {\n\tstruct ice_cee_tlv_hdr hdr;\n\t__be32 seqno;\n\t__be32 ackno;\n};\n\nstruct ice_cee_feat_tlv {\n\tstruct ice_cee_tlv_hdr hdr;\n\tu8 en_will_err;  \n#define ICE_CEE_FEAT_TLV_ENA_M\t\t0x80\n#define ICE_CEE_FEAT_TLV_WILLING_M\t0x40\n#define ICE_CEE_FEAT_TLV_ERR_M\t\t0x20\n\tu8 subtype;\n\tu8 tlvinfo[];\n};\n\nstruct ice_cee_app_prio {\n\t__be16 protocol;\n\tu8 upper_oui_sel;  \n#define ICE_CEE_APP_SELECTOR_M\t0x03\n\t__be16 lower_oui;\n\tu8 prio_map;\n} __packed;\n\nint ice_aq_set_pfc_mode(struct ice_hw *hw, u8 pfc_mode, struct ice_sq_cd *cd);\nint\nice_aq_get_dcb_cfg(struct ice_hw *hw, u8 mib_type, u8 bridgetype,\n\t\t   struct ice_dcbx_cfg *dcbcfg);\nint ice_get_dcb_cfg(struct ice_port_info *pi);\nint ice_set_dcb_cfg(struct ice_port_info *pi);\nvoid ice_get_dcb_cfg_from_mib_change(struct ice_port_info *pi,\n\t\t\t\t     struct ice_rq_event_info *event);\nint ice_init_dcb(struct ice_hw *hw, bool enable_mib_change);\nint\nice_query_port_ets(struct ice_port_info *pi,\n\t\t   struct ice_aqc_port_ets_elem *buf, u16 buf_size,\n\t\t   struct ice_sq_cd *cmd_details);\n#ifdef CONFIG_DCB\nint\nice_aq_stop_lldp(struct ice_hw *hw, bool shutdown_lldp_agent, bool persist,\n\t\t struct ice_sq_cd *cd);\nint ice_aq_start_lldp(struct ice_hw *hw, bool persist, struct ice_sq_cd *cd);\nint\nice_aq_start_stop_dcbx(struct ice_hw *hw, bool start_dcbx_agent,\n\t\t       bool *dcbx_agent_status, struct ice_sq_cd *cd);\nint ice_cfg_lldp_mib_change(struct ice_hw *hw, bool ena_mib);\n#else  \nstatic inline int\nice_aq_stop_lldp(struct ice_hw __always_unused *hw,\n\t\t bool __always_unused shutdown_lldp_agent,\n\t\t bool __always_unused persist,\n\t\t struct ice_sq_cd __always_unused *cd)\n{\n\treturn 0;\n}\n\nstatic inline int\nice_aq_start_lldp(struct ice_hw __always_unused *hw,\n\t\t  bool __always_unused persist,\n\t\t  struct ice_sq_cd __always_unused *cd)\n{\n\treturn 0;\n}\n\nstatic inline int\nice_aq_start_stop_dcbx(struct ice_hw __always_unused *hw,\n\t\t       bool __always_unused start_dcbx_agent,\n\t\t       bool *dcbx_agent_status,\n\t\t       struct ice_sq_cd __always_unused *cd)\n{\n\t*dcbx_agent_status = false;\n\n\treturn 0;\n}\n\nstatic inline int\nice_cfg_lldp_mib_change(struct ice_hw __always_unused *hw,\n\t\t\tbool __always_unused ena_mib)\n{\n\treturn 0;\n}\n\n#endif  \n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}