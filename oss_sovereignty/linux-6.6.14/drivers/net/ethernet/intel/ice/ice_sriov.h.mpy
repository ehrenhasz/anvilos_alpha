{
  "module_name": "ice_sriov.h",
  "hash_id": "75d4e76fa24a83b395f18df7d45a7585148aa24fe0f6db964f36a2bd1212fc46",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/intel/ice/ice_sriov.h",
  "human_readable_source": " \n \n\n#ifndef _ICE_SRIOV_H_\n#define _ICE_SRIOV_H_\n#include \"ice_virtchnl_fdir.h\"\n#include \"ice_vf_lib.h\"\n#include \"ice_virtchnl.h\"\n\n \n#define VF_DEVICE_STATUS\t\t0xAA\n#define VF_TRANS_PENDING_M\t\t0x20\n\n \n#define ICE_PCI_CIAD_WAIT_COUNT\t\t100\n#define ICE_PCI_CIAD_WAIT_DELAY_US\t1\n\n \n#define ICE_MIN_QS_PER_VF\t\t1\n#define ICE_NONQ_VECS_VF\t\t1\n#define ICE_NUM_VF_MSIX_MED\t\t17\n#define ICE_NUM_VF_MSIX_SMALL\t\t5\n#define ICE_NUM_VF_MSIX_MULTIQ_MIN\t3\n#define ICE_MIN_INTR_PER_VF\t\t(ICE_MIN_QS_PER_VF + 1)\n#define ICE_MAX_VF_RESET_TRIES\t\t40\n#define ICE_MAX_VF_RESET_SLEEP_MS\t20\n\n#ifdef CONFIG_PCI_IOV\nvoid ice_process_vflr_event(struct ice_pf *pf);\nint ice_sriov_configure(struct pci_dev *pdev, int num_vfs);\nint ice_set_vf_mac(struct net_device *netdev, int vf_id, u8 *mac);\nint\nice_get_vf_cfg(struct net_device *netdev, int vf_id, struct ifla_vf_info *ivi);\n\nvoid ice_free_vfs(struct ice_pf *pf);\nvoid ice_restore_all_vfs_msi_state(struct pci_dev *pdev);\n\nint\nice_set_vf_port_vlan(struct net_device *netdev, int vf_id, u16 vlan_id, u8 qos,\n\t\t     __be16 vlan_proto);\n\nint\nice_set_vf_bw(struct net_device *netdev, int vf_id, int min_tx_rate,\n\t      int max_tx_rate);\n\nint ice_set_vf_trust(struct net_device *netdev, int vf_id, bool trusted);\n\nint ice_set_vf_link_state(struct net_device *netdev, int vf_id, int link_state);\n\nint ice_set_vf_spoofchk(struct net_device *netdev, int vf_id, bool ena);\n\nint ice_calc_vf_reg_idx(struct ice_vf *vf, struct ice_q_vector *q_vector);\n\nint\nice_get_vf_stats(struct net_device *netdev, int vf_id,\n\t\t struct ifla_vf_stats *vf_stats);\nvoid\nice_vf_lan_overflow_event(struct ice_pf *pf, struct ice_rq_event_info *event);\nvoid ice_print_vfs_mdd_events(struct ice_pf *pf);\nvoid ice_print_vf_rx_mdd_event(struct ice_vf *vf);\nbool\nice_vc_validate_pattern(struct ice_vf *vf, struct virtchnl_proto_hdrs *proto);\n#else  \nstatic inline void ice_process_vflr_event(struct ice_pf *pf) { }\nstatic inline void ice_free_vfs(struct ice_pf *pf) { }\nstatic inline\nvoid ice_vf_lan_overflow_event(struct ice_pf *pf, struct ice_rq_event_info *event) { }\nstatic inline void ice_print_vfs_mdd_events(struct ice_pf *pf) { }\nstatic inline void ice_print_vf_rx_mdd_event(struct ice_vf *vf) { }\nstatic inline void ice_restore_all_vfs_msi_state(struct pci_dev *pdev) { }\n\nstatic inline int\nice_sriov_configure(struct pci_dev __always_unused *pdev,\n\t\t    int __always_unused num_vfs)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline int\nice_set_vf_mac(struct net_device __always_unused *netdev,\n\t       int __always_unused vf_id, u8 __always_unused *mac)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline int\nice_get_vf_cfg(struct net_device __always_unused *netdev,\n\t       int __always_unused vf_id,\n\t       struct ifla_vf_info __always_unused *ivi)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline int\nice_set_vf_trust(struct net_device __always_unused *netdev,\n\t\t int __always_unused vf_id, bool __always_unused trusted)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline int\nice_set_vf_port_vlan(struct net_device __always_unused *netdev,\n\t\t     int __always_unused vf_id, u16 __always_unused vid,\n\t\t     u8 __always_unused qos, __be16 __always_unused v_proto)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline int\nice_set_vf_spoofchk(struct net_device __always_unused *netdev,\n\t\t    int __always_unused vf_id, bool __always_unused ena)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline int\nice_set_vf_link_state(struct net_device __always_unused *netdev,\n\t\t      int __always_unused vf_id, int __always_unused link_state)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline int\nice_set_vf_bw(struct net_device __always_unused *netdev,\n\t      int __always_unused vf_id, int __always_unused min_tx_rate,\n\t      int __always_unused max_tx_rate)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline int\nice_calc_vf_reg_idx(struct ice_vf __always_unused *vf,\n\t\t    struct ice_q_vector __always_unused *q_vector)\n{\n\treturn 0;\n}\n\nstatic inline int\nice_get_vf_stats(struct net_device __always_unused *netdev,\n\t\t int __always_unused vf_id,\n\t\t struct ifla_vf_stats __always_unused *vf_stats)\n{\n\treturn -EOPNOTSUPP;\n}\n#endif  \n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}