{
  "module_name": "ice_flex_type.h",
  "hash_id": "2f2bd3d1d51243d77c490f9a50b81b3fa6776f2d1d53573e2f386b93c31de576",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/intel/ice/ice_flex_type.h",
  "human_readable_source": " \n \n\n#ifndef _ICE_FLEX_TYPE_H_\n#define _ICE_FLEX_TYPE_H_\n#include \"ice_ddp.h\"\n\n \n#define ICE_PTYPE_MAC_PAY\t\t1\n#define ICE_PTYPE_IPV4_PAY\t\t23\n#define ICE_PTYPE_IPV4_UDP_PAY\t\t24\n#define ICE_PTYPE_IPV4_TCP_PAY\t\t26\n#define ICE_PTYPE_IPV4_SCTP_PAY\t\t27\n#define ICE_PTYPE_IPV6_PAY\t\t89\n#define ICE_PTYPE_IPV6_UDP_PAY\t\t90\n#define ICE_PTYPE_IPV6_TCP_PAY\t\t92\n#define ICE_PTYPE_IPV6_SCTP_PAY\t\t93\n#define ICE_MAC_IPV4_ESP\t\t160\n#define ICE_MAC_IPV6_ESP\t\t161\n#define ICE_MAC_IPV4_AH\t\t\t162\n#define ICE_MAC_IPV6_AH\t\t\t163\n#define ICE_MAC_IPV4_NAT_T_ESP\t\t164\n#define ICE_MAC_IPV6_NAT_T_ESP\t\t165\n#define ICE_MAC_IPV4_GTPU\t\t329\n#define ICE_MAC_IPV6_GTPU\t\t330\n#define ICE_MAC_IPV4_GTPU_IPV4_FRAG\t331\n#define ICE_MAC_IPV4_GTPU_IPV4_PAY\t332\n#define ICE_MAC_IPV4_GTPU_IPV4_UDP_PAY\t333\n#define ICE_MAC_IPV4_GTPU_IPV4_TCP\t334\n#define ICE_MAC_IPV4_GTPU_IPV4_ICMP\t335\n#define ICE_MAC_IPV6_GTPU_IPV4_FRAG\t336\n#define ICE_MAC_IPV6_GTPU_IPV4_PAY\t337\n#define ICE_MAC_IPV6_GTPU_IPV4_UDP_PAY\t338\n#define ICE_MAC_IPV6_GTPU_IPV4_TCP\t339\n#define ICE_MAC_IPV6_GTPU_IPV4_ICMP\t340\n#define ICE_MAC_IPV4_GTPU_IPV6_FRAG\t341\n#define ICE_MAC_IPV4_GTPU_IPV6_PAY\t342\n#define ICE_MAC_IPV4_GTPU_IPV6_UDP_PAY\t343\n#define ICE_MAC_IPV4_GTPU_IPV6_TCP\t344\n#define ICE_MAC_IPV4_GTPU_IPV6_ICMPV6\t345\n#define ICE_MAC_IPV6_GTPU_IPV6_FRAG\t346\n#define ICE_MAC_IPV6_GTPU_IPV6_PAY\t347\n#define ICE_MAC_IPV6_GTPU_IPV6_UDP_PAY\t348\n#define ICE_MAC_IPV6_GTPU_IPV6_TCP\t349\n#define ICE_MAC_IPV6_GTPU_IPV6_ICMPV6\t350\n#define ICE_MAC_IPV4_PFCP_SESSION\t352\n#define ICE_MAC_IPV6_PFCP_SESSION\t354\n#define ICE_MAC_IPV4_L2TPV3\t\t360\n#define ICE_MAC_IPV6_L2TPV3\t\t361\n\n \nenum ice_ptype_attrib_type {\n\t \n\tICE_PTYPE_ATTR_GTP_PDU_EH,\n\tICE_PTYPE_ATTR_GTP_SESSION,\n\tICE_PTYPE_ATTR_GTP_DOWNLINK,\n\tICE_PTYPE_ATTR_GTP_UPLINK,\n};\n\nstruct ice_ptype_attrib_info {\n\tu16 flags;\n\tu16 mask;\n};\n\n \n#define ICE_GTP_PDU\t\t\tBIT(14)\n#define ICE_GTP_PDU_LINK\t\tBIT(13)\n\n \n#define ICE_GTP_PDU_FLAG_MASK\t\t(ICE_GTP_PDU)\n#define ICE_GTP_PDU_EH\t\t\tICE_GTP_PDU\n\n#define ICE_GTP_FLAGS_MASK\t\t(ICE_GTP_PDU | ICE_GTP_PDU_LINK)\n#define ICE_GTP_SESSION\t\t\t0\n#define ICE_GTP_DOWNLINK\t\tICE_GTP_PDU\n#define ICE_GTP_UPLINK\t\t\t(ICE_GTP_PDU | ICE_GTP_PDU_LINK)\n\nstruct ice_ptype_attributes {\n\tu16 ptype;\n\tenum ice_ptype_attrib_type attrib;\n};\n\n \n\nenum ice_tunnel_type {\n\tTNL_VXLAN = 0,\n\tTNL_GENEVE,\n\tTNL_GRETAP,\n\tTNL_GTPC,\n\tTNL_GTPU,\n\t__TNL_TYPE_CNT,\n\tTNL_LAST = 0xFF,\n\tTNL_ALL = 0xFF,\n};\n\nstruct ice_tunnel_type_scan {\n\tenum ice_tunnel_type type;\n\tconst char *label_prefix;\n};\n\nstruct ice_tunnel_entry {\n\tenum ice_tunnel_type type;\n\tu16 boost_addr;\n\tu16 port;\n\tstruct ice_boost_tcam_entry *boost_entry;\n\tu8 valid;\n};\n\n#define ICE_TUNNEL_MAX_ENTRIES\t16\n\nstruct ice_tunnel_table {\n\tstruct ice_tunnel_entry tbl[ICE_TUNNEL_MAX_ENTRIES];\n\tu16 count;\n\tu16 valid_count[__TNL_TYPE_CNT];\n};\n\nstruct ice_dvm_entry {\n\tu16 boost_addr;\n\tu16 enable;\n\tstruct ice_boost_tcam_entry *boost_entry;\n};\n\n#define ICE_DVM_MAX_ENTRIES\t48\n\nstruct ice_dvm_table {\n\tstruct ice_dvm_entry tbl[ICE_DVM_MAX_ENTRIES];\n\tu16 count;\n};\n\nstruct ice_pkg_es {\n\t__le16 count;\n\t__le16 offset;\n\tstruct ice_fv_word es[];\n};\n\nstruct ice_es {\n\tu32 sid;\n\tu16 count;\n\tu16 fvw;\n\tu16 *ref_count;\n\tu32 *mask_ena;\n\tstruct list_head prof_map;\n\tstruct ice_fv_word *t;\n\tstruct mutex prof_map_lock;\t \n\tu8 *written;\n\tu8 reverse;  \n};\n\n \n\n \n#define ICE_DEFAULT_PTG\t0\n\nstruct ice_ptg_entry {\n\tstruct ice_ptg_ptype *first_ptype;\n\tu8 in_use;\n};\n\nstruct ice_ptg_ptype {\n\tstruct ice_ptg_ptype *next_ptype;\n\tu8 ptg;\n};\n\n#define ICE_MAX_TCAM_PER_PROFILE\t32\n#define ICE_MAX_PTG_PER_PROFILE\t\t32\n\nstruct ice_prof_map {\n\tstruct list_head list;\n\tu64 profile_cookie;\n\tu64 context;\n\tu8 prof_id;\n\tu8 ptg_cnt;\n\tu8 ptg[ICE_MAX_PTG_PER_PROFILE];\n\tstruct ice_ptype_attrib_info attr[ICE_MAX_PTG_PER_PROFILE];\n};\n\n#define ICE_INVALID_TCAM\t0xFFFF\n\nstruct ice_tcam_inf {\n\tu16 tcam_idx;\n\tstruct ice_ptype_attrib_info attr;\n\tu8 ptg;\n\tu8 prof_id;\n\tu8 in_use;\n};\n\nstruct ice_vsig_prof {\n\tstruct list_head list;\n\tu64 profile_cookie;\n\tu8 prof_id;\n\tu8 tcam_count;\n\tstruct ice_tcam_inf tcam[ICE_MAX_TCAM_PER_PROFILE];\n};\n\nstruct ice_vsig_entry {\n\tstruct list_head prop_lst;\n\tstruct ice_vsig_vsi *first_vsi;\n\tu8 in_use;\n};\n\nstruct ice_vsig_vsi {\n\tstruct ice_vsig_vsi *next_vsi;\n\tu32 prop_mask;\n\tu16 changed;\n\tu16 vsig;\n};\n\n#define ICE_XLT1_CNT\t1024\n#define ICE_MAX_PTGS\t256\n\n \nstruct ice_xlt1 {\n\tstruct ice_ptg_entry *ptg_tbl;\n\tstruct ice_ptg_ptype *ptypes;\n\tu8 *t;\n\tu32 sid;\n\tu16 count;\n};\n\n#define ICE_XLT2_CNT\t768\n#define ICE_MAX_VSIGS\t768\n\n \n#define ICE_VSIG_IDX_M\t(0x1FFF)\n#define ICE_PF_NUM_S\t13\n#define ICE_PF_NUM_M\t(0x07 << ICE_PF_NUM_S)\n#define ICE_VSIG_VALUE(vsig, pf_id) \\\n\t((u16)((((u16)(vsig)) & ICE_VSIG_IDX_M) | \\\n\t       (((u16)(pf_id) << ICE_PF_NUM_S) & ICE_PF_NUM_M)))\n#define ICE_DEFAULT_VSIG\t0\n\n \nstruct ice_xlt2 {\n\tstruct ice_vsig_entry *vsig_tbl;\n\tstruct ice_vsig_vsi *vsis;\n\tu16 *t;\n\tu32 sid;\n\tu16 count;\n};\n\n \nstruct ice_prof_id_key {\n\t__le16 flags;\n\tu8 xlt1;\n\t__le16 xlt2_cdid;\n} __packed;\n\n \n#define ICE_TCAM_KEY_VAL_SZ\t5\n#define ICE_TCAM_KEY_SZ\t\t(2 * ICE_TCAM_KEY_VAL_SZ)\n\nstruct ice_prof_tcam_entry {\n\t__le16 addr;\n\tu8 key[ICE_TCAM_KEY_SZ];\n\tu8 prof_id;\n} __packed;\n\nstruct ice_prof_id_section {\n\t__le16 count;\n\tstruct ice_prof_tcam_entry entry[];\n};\n\nstruct ice_prof_tcam {\n\tu32 sid;\n\tu16 count;\n\tu16 max_prof_id;\n\tstruct ice_prof_tcam_entry *t;\n\tu8 cdid_bits;  \n};\n\nstruct ice_prof_redir {\n\tu8 *t;\n\tu32 sid;\n\tu16 count;\n};\n\nstruct ice_mask {\n\tu16 mask;\t \n\tu16 idx;\t \n\tu16 ref;\t \n\tu8 in_use;\t \n};\n\nstruct ice_masks {\n\tstruct mutex lock;  \n\tu16 first;\t \n\tu16 count;\t \n#define ICE_PROF_MASK_COUNT 32\n\tstruct ice_mask masks[ICE_PROF_MASK_COUNT];\n};\n\n \nstruct ice_blk_info {\n\tstruct ice_xlt1 xlt1;\n\tstruct ice_xlt2 xlt2;\n\tstruct ice_prof_tcam prof;\n\tstruct ice_prof_redir prof_redir;\n\tstruct ice_es es;\n\tstruct ice_masks masks;\n\tu8 overwrite;  \n\tu8 is_list_init;\n};\n\nenum ice_chg_type {\n\tICE_TCAM_NONE = 0,\n\tICE_PTG_ES_ADD,\n\tICE_TCAM_ADD,\n\tICE_VSIG_ADD,\n\tICE_VSIG_REM,\n\tICE_VSI_MOVE,\n};\n\nstruct ice_chs_chg {\n\tstruct list_head list_entry;\n\tenum ice_chg_type type;\n\n\tu8 add_ptg;\n\tu8 add_vsig;\n\tu8 add_tcam_idx;\n\tu8 add_prof;\n\tu16 ptype;\n\tu8 ptg;\n\tu8 prof_id;\n\tu16 vsi;\n\tu16 vsig;\n\tu16 orig_vsig;\n\tu16 tcam_idx;\n\tstruct ice_ptype_attrib_info attr;\n};\n\n#define ICE_FLOW_PTYPE_MAX\t\tICE_XLT1_CNT\n\nenum ice_prof_type {\n\tICE_PROF_NON_TUN = 0x1,\n\tICE_PROF_TUN_UDP = 0x2,\n\tICE_PROF_TUN_GRE = 0x4,\n\tICE_PROF_TUN_GTPU = 0x8,\n\tICE_PROF_TUN_GTPC = 0x10,\n\tICE_PROF_TUN_ALL = 0x1E,\n\tICE_PROF_ALL = 0xFF,\n};\n\n \n#define ICE_META_INIT_BITS\t192\n#define ICE_META_INIT_DW_CNT\t(ICE_META_INIT_BITS / (sizeof(__le32) * \\\n\t\t\t\t BITS_PER_BYTE))\n\n \n#define ICE_META_FLAGS_ST\t\t123\n\n \n#define ICE_META_VLAN_MODE_ENTRY\t0\n#define ICE_META_FLAG_VLAN_MODE\t\t60\n#define ICE_META_VLAN_MODE_BIT\t\t(ICE_META_FLAGS_ST + \\\n\t\t\t\t\t ICE_META_FLAG_VLAN_MODE)\n\nstruct ice_meta_init_entry {\n\t__le32 bm[ICE_META_INIT_DW_CNT];\n};\n\nstruct ice_meta_init_section {\n\t__le16 count;\n\t__le16 offset;\n\tstruct ice_meta_init_entry entry;\n};\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}