{
  "module_name": "ice_common.h",
  "hash_id": "873af2dcb9d1dc34a46d583e27a76645e539655b1efb8a2a0aba1365ff5fb53f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/intel/ice/ice_common.h",
  "human_readable_source": " \n \n\n#ifndef _ICE_COMMON_H_\n#define _ICE_COMMON_H_\n\n#include <linux/bitfield.h>\n\n#include \"ice_type.h\"\n#include \"ice_nvm.h\"\n#include \"ice_flex_pipe.h\"\n#include <linux/avf/virtchnl.h>\n#include \"ice_switch.h\"\n#include \"ice_fdir.h\"\n\n#define ICE_SQ_SEND_DELAY_TIME_MS\t10\n#define ICE_SQ_SEND_MAX_EXECUTE\t\t3\n\nint ice_init_hw(struct ice_hw *hw);\nvoid ice_deinit_hw(struct ice_hw *hw);\nint ice_check_reset(struct ice_hw *hw);\nint ice_reset(struct ice_hw *hw, enum ice_reset_req req);\nint ice_create_all_ctrlq(struct ice_hw *hw);\nint ice_init_all_ctrlq(struct ice_hw *hw);\nvoid ice_shutdown_all_ctrlq(struct ice_hw *hw);\nvoid ice_destroy_all_ctrlq(struct ice_hw *hw);\nint\nice_clean_rq_elem(struct ice_hw *hw, struct ice_ctl_q_info *cq,\n\t\t  struct ice_rq_event_info *e, u16 *pending);\nint\nice_get_link_status(struct ice_port_info *pi, bool *link_up);\nint ice_update_link_info(struct ice_port_info *pi);\nint\nice_acquire_res(struct ice_hw *hw, enum ice_aq_res_ids res,\n\t\tenum ice_aq_res_access_type access, u32 timeout);\nvoid ice_release_res(struct ice_hw *hw, enum ice_aq_res_ids res);\nint\nice_alloc_hw_res(struct ice_hw *hw, u16 type, u16 num, bool btm, u16 *res);\nint\nice_free_hw_res(struct ice_hw *hw, u16 type, u16 num, u16 *res);\nint ice_aq_alloc_free_res(struct ice_hw *hw,\n\t\t\t  struct ice_aqc_alloc_free_res_elem *buf, u16 buf_size,\n\t\t\t  enum ice_adminq_opc opc);\nbool ice_is_sbq_supported(struct ice_hw *hw);\nstruct ice_ctl_q_info *ice_get_sbq(struct ice_hw *hw);\nint\nice_sq_send_cmd(struct ice_hw *hw, struct ice_ctl_q_info *cq,\n\t\tstruct ice_aq_desc *desc, void *buf, u16 buf_size,\n\t\tstruct ice_sq_cd *cd);\nvoid ice_clear_pxe_mode(struct ice_hw *hw);\nint ice_get_caps(struct ice_hw *hw);\n\nvoid ice_set_safe_mode_caps(struct ice_hw *hw);\n\nint\nice_write_rxq_ctx(struct ice_hw *hw, struct ice_rlan_ctx *rlan_ctx,\n\t\t  u32 rxq_index);\n\nint\nice_aq_get_rss_lut(struct ice_hw *hw, struct ice_aq_get_set_rss_lut_params *get_params);\nint\nice_aq_set_rss_lut(struct ice_hw *hw, struct ice_aq_get_set_rss_lut_params *set_params);\nint\nice_aq_get_rss_key(struct ice_hw *hw, u16 vsi_handle,\n\t\t   struct ice_aqc_get_set_rss_keys *keys);\nint\nice_aq_set_rss_key(struct ice_hw *hw, u16 vsi_handle,\n\t\t   struct ice_aqc_get_set_rss_keys *keys);\n\nbool ice_check_sq_alive(struct ice_hw *hw, struct ice_ctl_q_info *cq);\nint ice_aq_q_shutdown(struct ice_hw *hw, bool unloading);\nvoid ice_fill_dflt_direct_cmd_desc(struct ice_aq_desc *desc, u16 opcode);\nextern const struct ice_ctx_ele ice_tlan_ctx_info[];\nint\nice_set_ctx(struct ice_hw *hw, u8 *src_ctx, u8 *dest_ctx,\n\t    const struct ice_ctx_ele *ce_info);\n\nextern struct mutex ice_global_cfg_lock_sw;\n\nint\nice_aq_send_cmd(struct ice_hw *hw, struct ice_aq_desc *desc,\n\t\tvoid *buf, u16 buf_size, struct ice_sq_cd *cd);\nint ice_aq_get_fw_ver(struct ice_hw *hw, struct ice_sq_cd *cd);\n\nint\nice_aq_send_driver_ver(struct ice_hw *hw, struct ice_driver_ver *dv,\n\t\t       struct ice_sq_cd *cd);\nint\nice_aq_set_port_params(struct ice_port_info *pi, bool double_vlan,\n\t\t       struct ice_sq_cd *cd);\nint\nice_aq_get_phy_caps(struct ice_port_info *pi, bool qual_mods, u8 report_mode,\n\t\t    struct ice_aqc_get_phy_caps_data *caps,\n\t\t    struct ice_sq_cd *cd);\nbool ice_is_pf_c827(struct ice_hw *hw);\nint\nice_aq_list_caps(struct ice_hw *hw, void *buf, u16 buf_size, u32 *cap_count,\n\t\t enum ice_adminq_opc opc, struct ice_sq_cd *cd);\nint\nice_discover_dev_caps(struct ice_hw *hw, struct ice_hw_dev_caps *dev_caps);\nvoid\nice_update_phy_type(u64 *phy_type_low, u64 *phy_type_high,\n\t\t    u16 link_speeds_bitmap);\nint\nice_aq_manage_mac_write(struct ice_hw *hw, const u8 *mac_addr, u8 flags,\n\t\t\tstruct ice_sq_cd *cd);\nbool ice_is_e810(struct ice_hw *hw);\nint ice_clear_pf_cfg(struct ice_hw *hw);\nint\nice_aq_set_phy_cfg(struct ice_hw *hw, struct ice_port_info *pi,\n\t\t   struct ice_aqc_set_phy_cfg_data *cfg, struct ice_sq_cd *cd);\nbool ice_fw_supports_link_override(struct ice_hw *hw);\nint\nice_get_link_default_override(struct ice_link_default_override_tlv *ldo,\n\t\t\t      struct ice_port_info *pi);\nbool ice_is_phy_caps_an_enabled(struct ice_aqc_get_phy_caps_data *caps);\n\nenum ice_fc_mode ice_caps_to_fc_mode(u8 caps);\nenum ice_fec_mode ice_caps_to_fec_mode(u8 caps, u8 fec_options);\nint\nice_set_fc(struct ice_port_info *pi, u8 *aq_failures,\n\t   bool ena_auto_link_update);\nint\nice_cfg_phy_fc(struct ice_port_info *pi, struct ice_aqc_set_phy_cfg_data *cfg,\n\t       enum ice_fc_mode req_mode);\nbool\nice_phy_caps_equals_cfg(struct ice_aqc_get_phy_caps_data *caps,\n\t\t\tstruct ice_aqc_set_phy_cfg_data *cfg);\nvoid\nice_copy_phy_caps_to_cfg(struct ice_port_info *pi,\n\t\t\t struct ice_aqc_get_phy_caps_data *caps,\n\t\t\t struct ice_aqc_set_phy_cfg_data *cfg);\nint\nice_cfg_phy_fec(struct ice_port_info *pi, struct ice_aqc_set_phy_cfg_data *cfg,\n\t\tenum ice_fec_mode fec);\nint\nice_aq_set_link_restart_an(struct ice_port_info *pi, bool ena_link,\n\t\t\t   struct ice_sq_cd *cd);\nint\nice_aq_set_mac_cfg(struct ice_hw *hw, u16 max_frame_size, struct ice_sq_cd *cd);\nint\nice_aq_get_link_info(struct ice_port_info *pi, bool ena_lse,\n\t\t     struct ice_link_status *link, struct ice_sq_cd *cd);\nint\nice_aq_set_event_mask(struct ice_hw *hw, u8 port_num, u16 mask,\n\t\t      struct ice_sq_cd *cd);\nint\nice_aq_set_mac_loopback(struct ice_hw *hw, bool ena_lpbk, struct ice_sq_cd *cd);\n\nint\nice_aq_set_port_id_led(struct ice_port_info *pi, bool is_orig_mode,\n\t\t       struct ice_sq_cd *cd);\nint\nice_aq_get_port_options(struct ice_hw *hw,\n\t\t\tstruct ice_aqc_get_port_options_elem *options,\n\t\t\tu8 *option_count, u8 lport, bool lport_valid,\n\t\t\tu8 *active_option_idx, bool *active_option_valid,\n\t\t\tu8 *pending_option_idx, bool *pending_option_valid);\nint\nice_aq_set_port_option(struct ice_hw *hw, u8 lport, u8 lport_valid,\n\t\t       u8 new_option);\nint\nice_aq_sff_eeprom(struct ice_hw *hw, u16 lport, u8 bus_addr,\n\t\t  u16 mem_addr, u8 page, u8 set_page, u8 *data, u8 length,\n\t\t  bool write, struct ice_sq_cd *cd);\nu32 ice_get_link_speed(u16 index);\n\nint\nice_cfg_vsi_rdma(struct ice_port_info *pi, u16 vsi_handle, u16 tc_bitmap,\n\t\t u16 *max_rdmaqs);\nint\nice_ena_vsi_rdma_qset(struct ice_port_info *pi, u16 vsi_handle, u8 tc,\n\t\t      u16 *rdma_qset, u16 num_qsets, u32 *qset_teid);\nint\nice_dis_vsi_rdma_qset(struct ice_port_info *pi, u16 count, u32 *qset_teid,\n\t\t      u16 *q_id);\nint\nice_dis_vsi_txq(struct ice_port_info *pi, u16 vsi_handle, u8 tc, u8 num_queues,\n\t\tu16 *q_handle, u16 *q_ids, u32 *q_teids,\n\t\tenum ice_disq_rst_src rst_src, u16 vmvf_num,\n\t\tstruct ice_sq_cd *cd);\nint\nice_cfg_vsi_lan(struct ice_port_info *pi, u16 vsi_handle, u8 tc_bitmap,\n\t\tu16 *max_lanqs);\nint\nice_ena_vsi_txq(struct ice_port_info *pi, u16 vsi_handle, u8 tc, u16 q_handle,\n\t\tu8 num_qgrps, struct ice_aqc_add_tx_qgrp *buf, u16 buf_size,\n\t\tstruct ice_sq_cd *cd);\nint\nice_aq_cfg_lan_txq(struct ice_hw *hw, struct ice_aqc_cfg_txqs_buf *buf,\n\t\t   u16 buf_size, u16 num_qs, u8 oldport, u8 newport,\n\t\t   struct ice_sq_cd *cd);\nint ice_replay_vsi(struct ice_hw *hw, u16 vsi_handle);\nvoid ice_replay_post(struct ice_hw *hw);\nvoid ice_output_fw_log(struct ice_hw *hw, struct ice_aq_desc *desc, void *buf);\nstruct ice_q_ctx *\nice_get_lan_q_ctx(struct ice_hw *hw, u16 vsi_handle, u8 tc, u16 q_handle);\nint ice_sbq_rw_reg(struct ice_hw *hw, struct ice_sbq_msg_input *in);\nvoid\nice_stat_update40(struct ice_hw *hw, u32 reg, bool prev_stat_loaded,\n\t\t  u64 *prev_stat, u64 *cur_stat);\nvoid\nice_stat_update32(struct ice_hw *hw, u32 reg, bool prev_stat_loaded,\n\t\t  u64 *prev_stat, u64 *cur_stat);\nbool ice_is_e810t(struct ice_hw *hw);\nbool ice_is_e823(struct ice_hw *hw);\nint\nice_sched_query_elem(struct ice_hw *hw, u32 node_teid,\n\t\t     struct ice_aqc_txsched_elem_data *buf);\nint\nice_aq_set_driver_param(struct ice_hw *hw, enum ice_aqc_driver_params idx,\n\t\t\tu32 value, struct ice_sq_cd *cd);\nint\nice_aq_get_driver_param(struct ice_hw *hw, enum ice_aqc_driver_params idx,\n\t\t\tu32 *value, struct ice_sq_cd *cd);\nint\nice_aq_set_gpio(struct ice_hw *hw, u16 gpio_ctrl_handle, u8 pin_idx, bool value,\n\t\tstruct ice_sq_cd *cd);\nint\nice_aq_get_gpio(struct ice_hw *hw, u16 gpio_ctrl_handle, u8 pin_idx,\n\t\tbool *value, struct ice_sq_cd *cd);\nbool ice_is_100m_speed_supported(struct ice_hw *hw);\nint\nice_aq_set_lldp_mib(struct ice_hw *hw, u8 mib_type, void *buf, u16 buf_size,\n\t\t    struct ice_sq_cd *cd);\nbool ice_fw_supports_lldp_fltr_ctrl(struct ice_hw *hw);\nint\nice_lldp_fltr_add_remove(struct ice_hw *hw, u16 vsi_num, bool add);\nint ice_lldp_execute_pending_mib(struct ice_hw *hw);\nint\nice_aq_read_i2c(struct ice_hw *hw, struct ice_aqc_link_topo_addr topo_addr,\n\t\tu16 bus_addr, __le16 addr, u8 params, u8 *data,\n\t\tstruct ice_sq_cd *cd);\nint\nice_aq_write_i2c(struct ice_hw *hw, struct ice_aqc_link_topo_addr topo_addr,\n\t\t u16 bus_addr, __le16 addr, u8 params, const u8 *data,\n\t\t struct ice_sq_cd *cd);\nbool ice_fw_supports_report_dflt_cfg(struct ice_hw *hw);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}