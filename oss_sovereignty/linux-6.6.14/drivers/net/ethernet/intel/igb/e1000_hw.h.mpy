{
  "module_name": "e1000_hw.h",
  "hash_id": "8531055fd29d51697c7e4f6aa7a5cab5d54b7bfa81fa3144e5d282ad31fc8ab9",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/ethernet/intel/igb/e1000_hw.h",
  "human_readable_source": " \n \n\n#ifndef _E1000_IGB_HW_H_\n#define _E1000_IGB_HW_H_\n\n#include <linux/types.h>\n#include <linux/delay.h>\n#include <linux/io.h>\n#include <linux/netdevice.h>\n\n#include \"e1000_regs.h\"\n#include \"e1000_defines.h\"\n\nstruct e1000_hw;\n\n#define E1000_DEV_ID_82576\t\t\t0x10C9\n#define E1000_DEV_ID_82576_FIBER\t\t0x10E6\n#define E1000_DEV_ID_82576_SERDES\t\t0x10E7\n#define E1000_DEV_ID_82576_QUAD_COPPER\t\t0x10E8\n#define E1000_DEV_ID_82576_QUAD_COPPER_ET2\t0x1526\n#define E1000_DEV_ID_82576_NS\t\t\t0x150A\n#define E1000_DEV_ID_82576_NS_SERDES\t\t0x1518\n#define E1000_DEV_ID_82576_SERDES_QUAD\t\t0x150D\n#define E1000_DEV_ID_82575EB_COPPER\t\t0x10A7\n#define E1000_DEV_ID_82575EB_FIBER_SERDES\t0x10A9\n#define E1000_DEV_ID_82575GB_QUAD_COPPER\t0x10D6\n#define E1000_DEV_ID_82580_COPPER\t\t0x150E\n#define E1000_DEV_ID_82580_FIBER\t\t0x150F\n#define E1000_DEV_ID_82580_SERDES\t\t0x1510\n#define E1000_DEV_ID_82580_SGMII\t\t0x1511\n#define E1000_DEV_ID_82580_COPPER_DUAL\t\t0x1516\n#define E1000_DEV_ID_82580_QUAD_FIBER\t\t0x1527\n#define E1000_DEV_ID_DH89XXCC_SGMII\t\t0x0438\n#define E1000_DEV_ID_DH89XXCC_SERDES\t\t0x043A\n#define E1000_DEV_ID_DH89XXCC_BACKPLANE\t\t0x043C\n#define E1000_DEV_ID_DH89XXCC_SFP\t\t0x0440\n#define E1000_DEV_ID_I350_COPPER\t\t0x1521\n#define E1000_DEV_ID_I350_FIBER\t\t\t0x1522\n#define E1000_DEV_ID_I350_SERDES\t\t0x1523\n#define E1000_DEV_ID_I350_SGMII\t\t\t0x1524\n#define E1000_DEV_ID_I210_COPPER\t\t0x1533\n#define E1000_DEV_ID_I210_FIBER\t\t\t0x1536\n#define E1000_DEV_ID_I210_SERDES\t\t0x1537\n#define E1000_DEV_ID_I210_SGMII\t\t\t0x1538\n#define E1000_DEV_ID_I210_COPPER_FLASHLESS\t0x157B\n#define E1000_DEV_ID_I210_SERDES_FLASHLESS\t0x157C\n#define E1000_DEV_ID_I211_COPPER\t\t0x1539\n#define E1000_DEV_ID_I354_BACKPLANE_1GBPS\t0x1F40\n#define E1000_DEV_ID_I354_SGMII\t\t\t0x1F41\n#define E1000_DEV_ID_I354_BACKPLANE_2_5GBPS\t0x1F45\n\n#define E1000_REVISION_2 2\n#define E1000_REVISION_4 4\n\n#define E1000_FUNC_0     0\n#define E1000_FUNC_1     1\n#define E1000_FUNC_2     2\n#define E1000_FUNC_3     3\n\n#define E1000_ALT_MAC_ADDRESS_OFFSET_LAN0   0\n#define E1000_ALT_MAC_ADDRESS_OFFSET_LAN1   3\n#define E1000_ALT_MAC_ADDRESS_OFFSET_LAN2   6\n#define E1000_ALT_MAC_ADDRESS_OFFSET_LAN3   9\n\nenum e1000_mac_type {\n\te1000_undefined = 0,\n\te1000_82575,\n\te1000_82576,\n\te1000_82580,\n\te1000_i350,\n\te1000_i354,\n\te1000_i210,\n\te1000_i211,\n\te1000_num_macs   \n};\n\nenum e1000_media_type {\n\te1000_media_type_unknown = 0,\n\te1000_media_type_copper = 1,\n\te1000_media_type_fiber = 2,\n\te1000_media_type_internal_serdes = 3,\n\te1000_num_media_types\n};\n\nenum e1000_nvm_type {\n\te1000_nvm_unknown = 0,\n\te1000_nvm_none,\n\te1000_nvm_eeprom_spi,\n\te1000_nvm_flash_hw,\n\te1000_nvm_invm,\n\te1000_nvm_flash_sw\n};\n\nenum e1000_nvm_override {\n\te1000_nvm_override_none = 0,\n\te1000_nvm_override_spi_small,\n\te1000_nvm_override_spi_large,\n};\n\nenum e1000_phy_type {\n\te1000_phy_unknown = 0,\n\te1000_phy_none,\n\te1000_phy_m88,\n\te1000_phy_igp,\n\te1000_phy_igp_2,\n\te1000_phy_gg82563,\n\te1000_phy_igp_3,\n\te1000_phy_ife,\n\te1000_phy_82580,\n\te1000_phy_i210,\n\te1000_phy_bcm54616,\n};\n\nenum e1000_bus_type {\n\te1000_bus_type_unknown = 0,\n\te1000_bus_type_pci,\n\te1000_bus_type_pcix,\n\te1000_bus_type_pci_express,\n\te1000_bus_type_reserved\n};\n\nenum e1000_bus_speed {\n\te1000_bus_speed_unknown = 0,\n\te1000_bus_speed_33,\n\te1000_bus_speed_66,\n\te1000_bus_speed_100,\n\te1000_bus_speed_120,\n\te1000_bus_speed_133,\n\te1000_bus_speed_2500,\n\te1000_bus_speed_5000,\n\te1000_bus_speed_reserved\n};\n\nenum e1000_bus_width {\n\te1000_bus_width_unknown = 0,\n\te1000_bus_width_pcie_x1,\n\te1000_bus_width_pcie_x2,\n\te1000_bus_width_pcie_x4 = 4,\n\te1000_bus_width_pcie_x8 = 8,\n\te1000_bus_width_32,\n\te1000_bus_width_64,\n\te1000_bus_width_reserved\n};\n\nenum e1000_1000t_rx_status {\n\te1000_1000t_rx_status_not_ok = 0,\n\te1000_1000t_rx_status_ok,\n\te1000_1000t_rx_status_undefined = 0xFF\n};\n\nenum e1000_rev_polarity {\n\te1000_rev_polarity_normal = 0,\n\te1000_rev_polarity_reversed,\n\te1000_rev_polarity_undefined = 0xFF\n};\n\nenum e1000_fc_mode {\n\te1000_fc_none = 0,\n\te1000_fc_rx_pause,\n\te1000_fc_tx_pause,\n\te1000_fc_full,\n\te1000_fc_default = 0xFF\n};\n\n \nstruct e1000_hw_stats {\n\tu64 crcerrs;\n\tu64 algnerrc;\n\tu64 symerrs;\n\tu64 rxerrc;\n\tu64 mpc;\n\tu64 scc;\n\tu64 ecol;\n\tu64 mcc;\n\tu64 latecol;\n\tu64 colc;\n\tu64 dc;\n\tu64 tncrs;\n\tu64 sec;\n\tu64 cexterr;\n\tu64 rlec;\n\tu64 xonrxc;\n\tu64 xontxc;\n\tu64 xoffrxc;\n\tu64 xofftxc;\n\tu64 fcruc;\n\tu64 prc64;\n\tu64 prc127;\n\tu64 prc255;\n\tu64 prc511;\n\tu64 prc1023;\n\tu64 prc1522;\n\tu64 gprc;\n\tu64 bprc;\n\tu64 mprc;\n\tu64 gptc;\n\tu64 gorc;\n\tu64 gotc;\n\tu64 rnbc;\n\tu64 ruc;\n\tu64 rfc;\n\tu64 roc;\n\tu64 rjc;\n\tu64 mgprc;\n\tu64 mgpdc;\n\tu64 mgptc;\n\tu64 tor;\n\tu64 tot;\n\tu64 tpr;\n\tu64 tpt;\n\tu64 ptc64;\n\tu64 ptc127;\n\tu64 ptc255;\n\tu64 ptc511;\n\tu64 ptc1023;\n\tu64 ptc1522;\n\tu64 mptc;\n\tu64 bptc;\n\tu64 tsctc;\n\tu64 tsctfc;\n\tu64 iac;\n\tu64 icrxptc;\n\tu64 icrxatc;\n\tu64 ictxptc;\n\tu64 ictxatc;\n\tu64 ictxqec;\n\tu64 ictxqmtc;\n\tu64 icrxdmtc;\n\tu64 icrxoc;\n\tu64 cbtmpc;\n\tu64 htdpmc;\n\tu64 cbrdpc;\n\tu64 cbrmpc;\n\tu64 rpthc;\n\tu64 hgptc;\n\tu64 htcbdpc;\n\tu64 hgorc;\n\tu64 hgotc;\n\tu64 lenerrs;\n\tu64 scvpc;\n\tu64 hrmpc;\n\tu64 doosync;\n\tu64 o2bgptc;\n\tu64 o2bspc;\n\tu64 b2ospc;\n\tu64 b2ogprc;\n};\n\nstruct e1000_host_mng_dhcp_cookie {\n\tu32 signature;\n\tu8  status;\n\tu8  reserved0;\n\tu16 vlan_id;\n\tu32 reserved1;\n\tu16 reserved2;\n\tu8  reserved3;\n\tu8  checksum;\n};\n\n \nstruct e1000_host_command_header {\n\tu8 command_id;\n\tu8 command_length;\n\tu8 command_options;\n\tu8 checksum;\n};\n\n#define E1000_HI_MAX_DATA_LENGTH     252\nstruct e1000_host_command_info {\n\tstruct e1000_host_command_header command_header;\n\tu8 command_data[E1000_HI_MAX_DATA_LENGTH];\n};\n\n \nstruct e1000_host_mng_command_header {\n\tu8  command_id;\n\tu8  checksum;\n\tu16 reserved1;\n\tu16 reserved2;\n\tu16 command_length;\n};\n\n#define E1000_HI_MAX_MNG_DATA_LENGTH 0x6F8\nstruct e1000_host_mng_command_info {\n\tstruct e1000_host_mng_command_header command_header;\n\tu8 command_data[E1000_HI_MAX_MNG_DATA_LENGTH];\n};\n\n#include \"e1000_mac.h\"\n#include \"e1000_phy.h\"\n#include \"e1000_nvm.h\"\n#include \"e1000_mbx.h\"\n\nstruct e1000_mac_operations {\n\ts32 (*check_for_link)(struct e1000_hw *);\n\ts32 (*reset_hw)(struct e1000_hw *);\n\ts32 (*init_hw)(struct e1000_hw *);\n\tbool (*check_mng_mode)(struct e1000_hw *);\n\ts32 (*setup_physical_interface)(struct e1000_hw *);\n\tvoid (*rar_set)(struct e1000_hw *, u8 *, u32);\n\ts32 (*read_mac_addr)(struct e1000_hw *);\n\ts32 (*get_speed_and_duplex)(struct e1000_hw *, u16 *, u16 *);\n\ts32 (*acquire_swfw_sync)(struct e1000_hw *, u16);\n\tvoid (*release_swfw_sync)(struct e1000_hw *, u16);\n#ifdef CONFIG_IGB_HWMON\n\ts32 (*get_thermal_sensor_data)(struct e1000_hw *);\n\ts32 (*init_thermal_sensor_thresh)(struct e1000_hw *);\n#endif\n\tvoid (*write_vfta)(struct e1000_hw *, u32, u32);\n};\n\nstruct e1000_phy_operations {\n\ts32 (*acquire)(struct e1000_hw *);\n\ts32 (*check_polarity)(struct e1000_hw *);\n\ts32 (*check_reset_block)(struct e1000_hw *);\n\ts32 (*force_speed_duplex)(struct e1000_hw *);\n\ts32 (*get_cfg_done)(struct e1000_hw *hw);\n\ts32 (*get_cable_length)(struct e1000_hw *);\n\ts32 (*get_phy_info)(struct e1000_hw *);\n\ts32 (*read_reg)(struct e1000_hw *, u32, u16 *);\n\tvoid (*release)(struct e1000_hw *);\n\ts32 (*reset)(struct e1000_hw *);\n\ts32 (*set_d0_lplu_state)(struct e1000_hw *, bool);\n\ts32 (*set_d3_lplu_state)(struct e1000_hw *, bool);\n\ts32 (*write_reg)(struct e1000_hw *, u32, u16);\n\ts32 (*read_i2c_byte)(struct e1000_hw *, u8, u8, u8 *);\n\ts32 (*write_i2c_byte)(struct e1000_hw *, u8, u8, u8);\n};\n\nstruct e1000_nvm_operations {\n\ts32 (*acquire)(struct e1000_hw *);\n\ts32 (*read)(struct e1000_hw *, u16, u16, u16 *);\n\tvoid (*release)(struct e1000_hw *);\n\ts32 (*write)(struct e1000_hw *, u16, u16, u16 *);\n\ts32 (*update)(struct e1000_hw *);\n\ts32 (*validate)(struct e1000_hw *);\n\ts32 (*valid_led_default)(struct e1000_hw *, u16 *);\n};\n\n#define E1000_MAX_SENSORS\t\t3\n\nstruct e1000_thermal_diode_data {\n\tu8 location;\n\tu8 temp;\n\tu8 caution_thresh;\n\tu8 max_op_thresh;\n};\n\nstruct e1000_thermal_sensor_data {\n\tstruct e1000_thermal_diode_data sensor[E1000_MAX_SENSORS];\n};\n\nstruct e1000_info {\n\ts32 (*get_invariants)(struct e1000_hw *);\n\tstruct e1000_mac_operations *mac_ops;\n\tconst struct e1000_phy_operations *phy_ops;\n\tstruct e1000_nvm_operations *nvm_ops;\n};\n\nextern const struct e1000_info e1000_82575_info;\n\nstruct e1000_mac_info {\n\tstruct e1000_mac_operations ops;\n\n\tu8 addr[6];\n\tu8 perm_addr[6];\n\n\tenum e1000_mac_type type;\n\n\tu32 ledctl_default;\n\tu32 ledctl_mode1;\n\tu32 ledctl_mode2;\n\tu32 mc_filter_type;\n\tu32 txcw;\n\n\tu16 mta_reg_count;\n\tu16 uta_reg_count;\n\n\t \n\t#define MAX_MTA_REG 128\n\tu32 mta_shadow[MAX_MTA_REG];\n\tu16 rar_entry_count;\n\n\tu8  forced_speed_duplex;\n\n\tbool adaptive_ifs;\n\tbool arc_subsystem_valid;\n\tbool asf_firmware_present;\n\tbool autoneg;\n\tbool autoneg_failed;\n\tbool disable_hw_init_bits;\n\tbool get_link_status;\n\tbool ifs_params_forced;\n\tbool in_ifs_mode;\n\tbool report_tx_early;\n\tbool serdes_has_link;\n\tbool tx_pkt_filtering;\n\tstruct e1000_thermal_sensor_data thermal_sensor_data;\n};\n\nstruct e1000_phy_info {\n\tstruct e1000_phy_operations ops;\n\n\tenum e1000_phy_type type;\n\n\tenum e1000_1000t_rx_status local_rx;\n\tenum e1000_1000t_rx_status remote_rx;\n\tenum e1000_ms_type ms_type;\n\tenum e1000_ms_type original_ms_type;\n\tenum e1000_rev_polarity cable_polarity;\n\tenum e1000_smart_speed smart_speed;\n\n\tu32 addr;\n\tu32 id;\n\tu32 reset_delay_us;  \n\tu32 revision;\n\n\tenum e1000_media_type media_type;\n\n\tu16 autoneg_advertised;\n\tu16 autoneg_mask;\n\tu16 cable_length;\n\tu16 max_cable_length;\n\tu16 min_cable_length;\n\tu16 pair_length[4];\n\n\tu8 mdix;\n\n\tbool disable_polarity_correction;\n\tbool is_mdix;\n\tbool polarity_correction;\n\tbool reset_disable;\n\tbool speed_downgraded;\n\tbool autoneg_wait_to_complete;\n};\n\nstruct e1000_nvm_info {\n\tstruct e1000_nvm_operations ops;\n\tenum e1000_nvm_type type;\n\tenum e1000_nvm_override override;\n\n\tu32 flash_bank_size;\n\tu32 flash_base_addr;\n\n\tu16 word_size;\n\tu16 delay_usec;\n\tu16 address_bits;\n\tu16 opcode_bits;\n\tu16 page_size;\n};\n\nstruct e1000_bus_info {\n\tenum e1000_bus_type type;\n\tenum e1000_bus_speed speed;\n\tenum e1000_bus_width width;\n\n\tu32 snoop;\n\n\tu16 func;\n\tu16 pci_cmd_word;\n};\n\nstruct e1000_fc_info {\n\tu32 high_water;      \n\tu32 low_water;       \n\tu16 pause_time;      \n\tbool send_xon;       \n\tbool strict_ieee;    \n\tenum e1000_fc_mode current_mode;  \n\tenum e1000_fc_mode requested_mode;\n};\n\nstruct e1000_mbx_operations {\n\ts32 (*init_params)(struct e1000_hw *hw);\n\ts32 (*read)(struct e1000_hw *hw, u32 *msg, u16 size, u16 mbx_id,\n\t\t    bool unlock);\n\ts32 (*write)(struct e1000_hw *hw, u32 *msg, u16 size, u16 mbx_id);\n\ts32 (*read_posted)(struct e1000_hw *hw, u32 *msg, u16 size, u16 mbx_id);\n\ts32 (*write_posted)(struct e1000_hw *hw, u32 *msg, u16 size,\n\t\t\t    u16 mbx_id);\n\ts32 (*check_for_msg)(struct e1000_hw *hw, u16 mbx_id);\n\ts32 (*check_for_ack)(struct e1000_hw *hw, u16 mbx_id);\n\ts32 (*check_for_rst)(struct e1000_hw *hw, u16 mbx_id);\n\ts32 (*unlock)(struct e1000_hw *hw, u16 mbx_id);\n};\n\nstruct e1000_mbx_stats {\n\tu32 msgs_tx;\n\tu32 msgs_rx;\n\n\tu32 acks;\n\tu32 reqs;\n\tu32 rsts;\n};\n\nstruct e1000_mbx_info {\n\tstruct e1000_mbx_operations ops;\n\tstruct e1000_mbx_stats stats;\n\tu32 timeout;\n\tu32 usec_delay;\n\tu16 size;\n};\n\nstruct e1000_dev_spec_82575 {\n\tbool sgmii_active;\n\tbool global_device_reset;\n\tbool eee_disable;\n\tbool clear_semaphore_once;\n\tstruct e1000_sfp_flags eth_flags;\n\tbool module_plugged;\n\tu8 media_port;\n\tbool media_changed;\n\tbool mas_capable;\n};\n\nstruct e1000_hw {\n\tvoid *back;\n\n\tu8 __iomem *hw_addr;\n\tu8 __iomem *flash_address;\n\tunsigned long io_base;\n\n\tstruct e1000_mac_info  mac;\n\tstruct e1000_fc_info   fc;\n\tstruct e1000_phy_info  phy;\n\tstruct e1000_nvm_info  nvm;\n\tstruct e1000_bus_info  bus;\n\tstruct e1000_mbx_info mbx;\n\tstruct e1000_host_mng_dhcp_cookie mng_cookie;\n\n\tunion {\n\t\tstruct e1000_dev_spec_82575\t_82575;\n\t} dev_spec;\n\n\tu16 device_id;\n\tu16 subsystem_vendor_id;\n\tu16 subsystem_device_id;\n\tu16 vendor_id;\n\n\tu8  revision_id;\n};\n\nstruct net_device *igb_get_hw_dev(struct e1000_hw *hw);\n#define hw_dbg(format, arg...) \\\n\tnetdev_dbg(igb_get_hw_dev(hw), format, ##arg)\n\n \ns32 igb_read_pcie_cap_reg(struct e1000_hw *hw, u32 reg, u16 *value);\ns32 igb_write_pcie_cap_reg(struct e1000_hw *hw, u32 reg, u16 *value);\n\nvoid igb_read_pci_cfg(struct e1000_hw *hw, u32 reg, u16 *value);\nvoid igb_write_pci_cfg(struct e1000_hw *hw, u32 reg, u16 *value);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}