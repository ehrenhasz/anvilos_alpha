{
  "module_name": "fsl_ucc_hdlc.h",
  "hash_id": "6cf93f414b969bd69995f925486dd69b1807016cd1ac92ce5c4f60f0e4dbee46",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/wan/fsl_ucc_hdlc.h",
  "human_readable_source": " \n \n\n#ifndef _UCC_HDLC_H_\n#define _UCC_HDLC_H_\n\n#include <linux/kernel.h>\n#include <linux/list.h>\n\n#include <soc/fsl/qe/immap_qe.h>\n#include <soc/fsl/qe/qe.h>\n\n#include <soc/fsl/qe/ucc.h>\n#include <soc/fsl/qe/ucc_fast.h>\n\n \n#define UCCE_HDLC_RX_EVENTS\t\\\n(UCC_HDLC_UCCE_RXF | UCC_HDLC_UCCE_RXB | UCC_HDLC_UCCE_BSY)\n#define UCCE_HDLC_TX_EVENTS\t(UCC_HDLC_UCCE_TXB | UCC_HDLC_UCCE_TXE)\n\nstruct ucc_hdlc_param {\n\t__be16 riptr;\n\t__be16 tiptr;\n\t__be16 res0;\n\t__be16 mrblr;\n\t__be32 rstate;\n\t__be32 rbase;\n\t__be16 rbdstat;\n\t__be16 rbdlen;\n\t__be32 rdptr;\n\t__be32 tstate;\n\t__be32 tbase;\n\t__be16 tbdstat;\n\t__be16 tbdlen;\n\t__be32 tdptr;\n\t__be32 rbptr;\n\t__be32 tbptr;\n\t__be32 rcrc;\n\t__be32 res1;\n\t__be32 tcrc;\n\t__be32 res2;\n\t__be32 res3;\n\t__be32 c_mask;\n\t__be32 c_pres;\n\t__be16 disfc;\n\t__be16 crcec;\n\t__be16 abtsc;\n\t__be16 nmarc;\n\t__be32 max_cnt;\n\t__be16 mflr;\n\t__be16 rfthr;\n\t__be16 rfcnt;\n\t__be16 hmask;\n\t__be16 haddr1;\n\t__be16 haddr2;\n\t__be16 haddr3;\n\t__be16 haddr4;\n\t__be16 ts_tmp;\n\t__be16 tmp_mb;\n};\n\nstruct ucc_hdlc_private {\n\tstruct ucc_tdm\t*utdm;\n\tstruct ucc_tdm_info *ut_info;\n\tstruct ucc_fast_private *uccf;\n\tstruct device *dev;\n\tstruct net_device *ndev;\n\tstruct napi_struct napi;\n\tstruct ucc_fast __iomem *uf_regs;\t \n\tstruct ucc_hdlc_param __iomem *ucc_pram;\n\tu16 tsa;\n\tbool hdlc_busy;\n\tbool loopback;\n\tbool hdlc_bus;\n\n\tu8 *tx_buffer;\n\tu8 *rx_buffer;\n\tdma_addr_t dma_tx_addr;\n\tdma_addr_t dma_rx_addr;\n\n\tstruct qe_bd *tx_bd_base;\n\tstruct qe_bd *rx_bd_base;\n\tdma_addr_t dma_tx_bd;\n\tdma_addr_t dma_rx_bd;\n\tstruct qe_bd *curtx_bd;\n\tstruct qe_bd *currx_bd;\n\tstruct qe_bd *dirty_tx;\n\tu16 currx_bdnum;\n\n\tstruct sk_buff **tx_skbuff;\n\tstruct sk_buff **rx_skbuff;\n\tu16 skb_curtx;\n\tu16 skb_currx;\n\tunsigned short skb_dirtytx;\n\n\tunsigned short tx_ring_size;\n\tunsigned short rx_ring_size;\n\ts32 ucc_pram_offset;\n\n\tunsigned short encoding;\n\tunsigned short parity;\n\tunsigned short hmask;\n\tu32 clocking;\n\tspinlock_t lock;\t \n#ifdef CONFIG_PM\n\tstruct ucc_hdlc_param *ucc_pram_bak;\n\tu32 gumr;\n\tu8 guemr;\n\tu32 cmxsi1cr_l, cmxsi1cr_h;\n\tu32 cmxsi1syr;\n\tu32 cmxucr[4];\n#endif\n};\n\n#define TX_BD_RING_LEN\t0x10\n#define RX_BD_RING_LEN\t0x20\n#define RX_CLEAN_MAX\t0x10\n#define NUM_OF_BUF\t4\n#define MAX_RX_BUF_LENGTH\t(48 * 0x20)\n#define MAX_FRAME_LENGTH\t(MAX_RX_BUF_LENGTH + 8)\n#define ALIGNMENT_OF_UCC_HDLC_PRAM\t64\n#define SI_BANK_SIZE\t128\n#define MAX_HDLC_NUM\t4\n#define HDLC_HEAD_LEN\t2\n#define HDLC_CRC_SIZE\t2\n#define TX_RING_MOD_MASK(size) (size - 1)\n#define RX_RING_MOD_MASK(size) (size - 1)\n\n#define HDLC_HEAD_MASK\t\t0x0000\n#define DEFAULT_HDLC_HEAD\t0xff44\n#define DEFAULT_ADDR_MASK\t0x00ff\n#define DEFAULT_HDLC_ADDR\t0x00ff\n\n#define BMR_GBL\t\t\t0x20000000\n#define BMR_BIG_ENDIAN\t\t0x10000000\n#define CRC_16BIT_MASK\t\t0x0000F0B8\n#define CRC_16BIT_PRES\t\t0x0000FFFF\n#define DEFAULT_RFTHR\t\t1\n\n#define DEFAULT_PPP_HEAD    0xff03\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}