{
  "module_name": "netvsc_trace.h",
  "hash_id": "d36e58299b0bb4cdccfc29d95efb116f1f335253d255136bc13df902d1df0edc",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/hyperv/netvsc_trace.h",
  "human_readable_source": " \n\n#if !defined(_NETVSC_TRACE_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _NETVSC_TRACE_H\n\n#include <linux/tracepoint.h>\n\n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM netvsc\n#define TRACE_INCLUDE_FILE netvsc_trace\n\nTRACE_DEFINE_ENUM(RNDIS_MSG_PACKET);\nTRACE_DEFINE_ENUM(RNDIS_MSG_INDICATE);\nTRACE_DEFINE_ENUM(RNDIS_MSG_INIT);\nTRACE_DEFINE_ENUM(RNDIS_MSG_INIT_C);\nTRACE_DEFINE_ENUM(RNDIS_MSG_HALT);\nTRACE_DEFINE_ENUM(RNDIS_MSG_QUERY);\nTRACE_DEFINE_ENUM(RNDIS_MSG_QUERY_C);\nTRACE_DEFINE_ENUM(RNDIS_MSG_SET);\nTRACE_DEFINE_ENUM(RNDIS_MSG_SET_C);\nTRACE_DEFINE_ENUM(RNDIS_MSG_RESET);\nTRACE_DEFINE_ENUM(RNDIS_MSG_RESET_C);\nTRACE_DEFINE_ENUM(RNDIS_MSG_KEEPALIVE);\nTRACE_DEFINE_ENUM(RNDIS_MSG_KEEPALIVE_C);\n\n#define show_rndis_type(type)\t\t\t\t\t\\\n\t__print_symbolic(type,\t\t\t\t\t\\\n\t\t { RNDIS_MSG_PACKET,\t  \"PACKET\" },\t\t\\\n\t\t { RNDIS_MSG_INDICATE,\t  \"INDICATE\", },\t\\\n\t\t { RNDIS_MSG_INIT,\t  \"INIT\", },\t\t\\\n\t\t { RNDIS_MSG_INIT_C,\t  \"INIT_C\", },\t\t\\\n\t\t { RNDIS_MSG_HALT,\t  \"HALT\", },\t\t\\\n\t\t { RNDIS_MSG_QUERY,\t  \"QUERY\", },\t\t\\\n\t\t { RNDIS_MSG_QUERY_C,\t  \"QUERY_C\", },\t\t\\\n\t\t { RNDIS_MSG_SET,\t  \"SET\", },\t\t\\\n\t\t { RNDIS_MSG_SET_C,\t  \"SET_C\", },\t\t\\\n\t\t { RNDIS_MSG_RESET,\t  \"RESET\", },\t\t\\\n\t\t { RNDIS_MSG_RESET_C,\t  \"RESET_C\", },\t\t\\\n\t\t { RNDIS_MSG_KEEPALIVE,\t  \"KEEPALIVE\", },\t\\\n\t\t { RNDIS_MSG_KEEPALIVE_C, \"KEEPALIVE_C\", })\n\nDECLARE_EVENT_CLASS(rndis_msg_class,\n       TP_PROTO(const struct net_device *ndev, u16 q,\n\t\tconst struct rndis_message *msg),\n       TP_ARGS(ndev, q, msg),\n       TP_STRUCT__entry(\n\t       __string( name, ndev->name  )\n\t       __field(\t u16,  queue\t   )\n\t       __field(\t u32,  req_id\t   )\n\t       __field(\t u32,  msg_type\t   )\n\t       __field(\t u32,  msg_len\t   )\n       ),\n       TP_fast_assign(\n\t       __assign_str(name, ndev->name);\n\t       __entry->queue\t = q;\n\t       __entry->req_id\t = msg->msg.init_req.req_id;\n\t       __entry->msg_type = msg->ndis_msg_type;\n\t       __entry->msg_len\t = msg->msg_len;\n       ),\n       TP_printk(\"dev=%s q=%u req=%#x type=%s msg_len=%u\",\n\t\t __get_str(name), __entry->queue, __entry->req_id,\n\t\t show_rndis_type(__entry->msg_type), __entry->msg_len)\n);\n\nDEFINE_EVENT(rndis_msg_class, rndis_send,\n       TP_PROTO(const struct net_device *ndev, u16 q,\n\t\tconst struct rndis_message *msg),\n       TP_ARGS(ndev, q, msg)\n);\n\nDEFINE_EVENT(rndis_msg_class, rndis_recv,\n       TP_PROTO(const struct net_device *ndev, u16 q,\n\t\tconst struct rndis_message *msg),\n       TP_ARGS(ndev, q, msg)\n);\n\nTRACE_DEFINE_ENUM(NVSP_MSG_TYPE_INIT);\nTRACE_DEFINE_ENUM(NVSP_MSG_TYPE_INIT_COMPLETE);\nTRACE_DEFINE_ENUM(NVSP_MSG1_TYPE_SEND_NDIS_VER);\nTRACE_DEFINE_ENUM(NVSP_MSG1_TYPE_SEND_RECV_BUF);\nTRACE_DEFINE_ENUM(NVSP_MSG1_TYPE_SEND_RECV_BUF_COMPLETE);\nTRACE_DEFINE_ENUM(NVSP_MSG1_TYPE_REVOKE_RECV_BUF);\nTRACE_DEFINE_ENUM(NVSP_MSG1_TYPE_SEND_SEND_BUF);\nTRACE_DEFINE_ENUM(NVSP_MSG1_TYPE_SEND_SEND_BUF_COMPLETE);\nTRACE_DEFINE_ENUM(NVSP_MSG1_TYPE_REVOKE_SEND_BUF);\nTRACE_DEFINE_ENUM(NVSP_MSG1_TYPE_SEND_RNDIS_PKT);\nTRACE_DEFINE_ENUM(NVSP_MSG1_TYPE_SEND_RNDIS_PKT_COMPLETE);\nTRACE_DEFINE_ENUM(NVSP_MSG2_TYPE_SEND_NDIS_CONFIG);\n\nTRACE_DEFINE_ENUM(NVSP_MSG4_TYPE_SEND_VF_ASSOCIATION);\nTRACE_DEFINE_ENUM(NVSP_MSG4_TYPE_SWITCH_DATA_PATH);\n\nTRACE_DEFINE_ENUM(NVSP_MSG5_TYPE_SUBCHANNEL);\nTRACE_DEFINE_ENUM(NVSP_MSG5_TYPE_SEND_INDIRECTION_TABLE);\n\n#define show_nvsp_type(type)\t\t\t\t\t\t\t\t\\\n\t__print_symbolic(type,\t\t\t\t\t\t\t\t\\\n\t\t  { NVSP_MSG_TYPE_INIT,\t\t\t   \"INIT\" },\t\t\t\\\n\t\t  { NVSP_MSG_TYPE_INIT_COMPLETE,\t   \"INIT_COMPLETE\" },\t\t\\\n\t\t  { NVSP_MSG1_TYPE_SEND_NDIS_VER,\t   \"SEND_NDIS_VER\" },\t\t\\\n\t\t  { NVSP_MSG1_TYPE_SEND_RECV_BUF,\t   \"SEND_RECV_BUF\" },\t\t\\\n\t\t  { NVSP_MSG1_TYPE_SEND_RECV_BUF_COMPLETE, \"SEND_RECV_BUF_COMPLETE\" },\t\\\n\t\t  { NVSP_MSG1_TYPE_REVOKE_RECV_BUF,\t   \"REVOKE_RECV_BUF\" },\t\t\\\n\t\t  { NVSP_MSG1_TYPE_SEND_SEND_BUF,\t   \"SEND_SEND_BUF\" },\t\t\\\n\t\t  { NVSP_MSG1_TYPE_SEND_SEND_BUF_COMPLETE, \"SEND_SEND_BUF_COMPLETE\" },\t\\\n\t\t  { NVSP_MSG1_TYPE_REVOKE_SEND_BUF,\t   \"REVOKE_SEND_BUF\" },\t\t\\\n\t\t  { NVSP_MSG1_TYPE_SEND_RNDIS_PKT,\t   \"SEND_RNDIS_PKT\" },\t\t\\\n\t\t  { NVSP_MSG1_TYPE_SEND_RNDIS_PKT_COMPLETE, \"SEND_RNDIS_PKT_COMPLETE\" },\\\n\t\t  { NVSP_MSG2_TYPE_SEND_NDIS_CONFIG,\t   \"SEND_NDIS_CONFIG\" },\t\\\n\t\t  { NVSP_MSG4_TYPE_SEND_VF_ASSOCIATION,\t   \"SEND_VF_ASSOCIATION\" },\t\\\n\t\t  { NVSP_MSG4_TYPE_SWITCH_DATA_PATH,\t   \"SWITCH_DATA_PATH\" },\t\\\n\t\t  { NVSP_MSG5_TYPE_SUBCHANNEL,\t\t    \"SUBCHANNEL\" },\t\t\\\n\t\t  { NVSP_MSG5_TYPE_SEND_INDIRECTION_TABLE,  \"SEND_INDIRECTION_TABLE\" })\n\nTRACE_EVENT(nvsp_send,\n\tTP_PROTO(const struct net_device *ndev,\n\t\t const struct nvsp_message *msg),\n\tTP_ARGS(ndev, msg),\n\tTP_STRUCT__entry(\n\t\t__string( name,\tndev->name  )\n\t\t__field(  u32,\tmsg_type    )\n\t),\n\tTP_fast_assign(\n\t\t__assign_str(name, ndev->name);\n\t\t__entry->msg_type = msg->hdr.msg_type;\n\t),\n\tTP_printk(\"dev=%s type=%s\",\n\t\t  __get_str(name),\n\t\t  show_nvsp_type(__entry->msg_type))\n);\n\nTRACE_EVENT(nvsp_send_pkt,\n\tTP_PROTO(const struct net_device *ndev,\n\t\t const struct vmbus_channel *chan,\n\t\t const struct nvsp_1_message_send_rndis_packet *rpkt),\n\tTP_ARGS(ndev, chan, rpkt),\n\tTP_STRUCT__entry(\n\t\t__string( name,\tndev->name    )\n\t\t__field(  u16,\tqid\t      )\n\t\t__field(  u32,\tchannel_type  )\n\t\t__field(  u32,\tsection_index )\n\t\t__field(  u32,\tsection_size  )\n\t),\n\tTP_fast_assign(\n\t\t__assign_str(name, ndev->name);\n\t\t__entry->qid = chan->offermsg.offer.sub_channel_index;\n\t\t__entry->channel_type = rpkt->channel_type;\n\t\t__entry->section_index = rpkt->send_buf_section_index;\n\t\t__entry->section_size = rpkt->send_buf_section_size;\n\t),\n\tTP_printk(\"dev=%s qid=%u type=%s section=%u size=%d\",\n\t\t  __get_str(name), __entry->qid,\n\t\t  __entry->channel_type ? \"CONTROL\" : \"DATA\",\n\t\t  __entry->section_index, __entry->section_size)\n);\n\nTRACE_EVENT(nvsp_recv,\n\tTP_PROTO(const struct net_device *ndev,\n\t\t const struct vmbus_channel *chan,\n\t\t const struct nvsp_message *msg),\n\tTP_ARGS(ndev, chan, msg),\n\tTP_STRUCT__entry(\n\t\t__string( name,\tndev->name  )\n\t\t__field(  u16,\tqid\t    )\n\t\t__field(  u32,\tmsg_type    )\n\t),\n\tTP_fast_assign(\n\t\t__assign_str(name, ndev->name);\n\t\t__entry->qid = chan->offermsg.offer.sub_channel_index;\n\t\t__entry->msg_type = msg->hdr.msg_type;\n\t),\n\tTP_printk(\"dev=%s qid=%u type=%s\",\n\t\t  __get_str(name), __entry->qid,\n\t\t  show_nvsp_type(__entry->msg_type))\n);\n\n#endif  \n\n \n#undef TRACE_INCLUDE_PATH\n#define TRACE_INCLUDE_PATH ../../drivers/net/hyperv\n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}