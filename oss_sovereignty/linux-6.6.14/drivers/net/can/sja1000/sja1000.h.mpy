{
  "module_name": "sja1000.h",
  "hash_id": "5be90441ab7270b79369cb631576a3e18e01cb75ba7c49715d5a2278d5092c3a",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/can/sja1000/sja1000.h",
  "human_readable_source": " \n\n#ifndef SJA1000_DEV_H\n#define SJA1000_DEV_H\n\n#include <linux/irqreturn.h>\n#include <linux/can/dev.h>\n#include <linux/can/platform/sja1000.h>\n\n#define SJA1000_ECHO_SKB_MAX\t1  \n\n#define SJA1000_MAX_IRQ 20\t \n\n \n#define SJA1000_MOD\t\t0x00\n#define SJA1000_CMR\t\t0x01\n#define SJA1000_SR\t\t0x02\n#define SJA1000_IR\t\t0x03\n#define SJA1000_IER\t\t0x04\n#define SJA1000_ALC\t\t0x0B\n#define SJA1000_ECC\t\t0x0C\n#define SJA1000_EWL\t\t0x0D\n#define SJA1000_RXERR\t\t0x0E\n#define SJA1000_TXERR\t\t0x0F\n#define SJA1000_ACCC0\t\t0x10\n#define SJA1000_ACCC1\t\t0x11\n#define SJA1000_ACCC2\t\t0x12\n#define SJA1000_ACCC3\t\t0x13\n#define SJA1000_ACCM0\t\t0x14\n#define SJA1000_ACCM1\t\t0x15\n#define SJA1000_ACCM2\t\t0x16\n#define SJA1000_ACCM3\t\t0x17\n#define SJA1000_RMC\t\t0x1D\n#define SJA1000_RBSA\t\t0x1E\n\n \n#define SJA1000_BTR0\t\t0x06\n#define SJA1000_BTR1\t\t0x07\n#define SJA1000_OCR\t\t0x08\n#define SJA1000_CDR\t\t0x1F\n\n#define SJA1000_FI\t\t0x10\n#define SJA1000_SFF_BUF\t\t0x13\n#define SJA1000_EFF_BUF\t\t0x15\n\n#define SJA1000_FI_FF\t\t0x80\n#define SJA1000_FI_RTR\t\t0x40\n\n#define SJA1000_ID1\t\t0x11\n#define SJA1000_ID2\t\t0x12\n#define SJA1000_ID3\t\t0x13\n#define SJA1000_ID4\t\t0x14\n\n#define SJA1000_CAN_RAM\t\t0x20\n\n \n#define MOD_RM\t\t0x01\n#define MOD_LOM\t\t0x02\n#define MOD_STM\t\t0x04\n#define MOD_AFM\t\t0x08\n#define MOD_SM\t\t0x10\n\n \n#define CMD_SRR\t\t0x10\n#define CMD_CDO\t\t0x08\n#define CMD_RRB\t\t0x04\n#define CMD_AT\t\t0x02\n#define CMD_TR\t\t0x01\n\n \n#define IRQ_BEI\t\t0x80\n#define IRQ_ALI\t\t0x40\n#define IRQ_EPI\t\t0x20\n#define IRQ_WUI\t\t0x10\n#define IRQ_DOI\t\t0x08\n#define IRQ_EI\t\t0x04\n#define IRQ_TI\t\t0x02\n#define IRQ_RI\t\t0x01\n#define IRQ_ALL\t\t0xFF\n#define IRQ_OFF\t\t0x00\n\n \n#define SR_BS\t\t0x80\n#define SR_ES\t\t0x40\n#define SR_TS\t\t0x20\n#define SR_RS\t\t0x10\n#define SR_TCS\t\t0x08\n#define SR_TBS\t\t0x04\n#define SR_DOS\t\t0x02\n#define SR_RBS\t\t0x01\n\n#define SR_CRIT (SR_BS|SR_ES)\n\n \n#define ECC_SEG\t\t0x1F\n#define ECC_DIR\t\t0x20\n#define ECC_ERR\t\t6\n#define ECC_BIT\t\t0x00\n#define ECC_FORM\t0x40\n#define ECC_STUFF\t0x80\n#define ECC_MASK\t0xc0\n\n \n#define SJA1000_CUSTOM_IRQ_HANDLER\tBIT(0)\n#define SJA1000_QUIRK_NO_CDR_REG\tBIT(1)\n#define SJA1000_QUIRK_RESET_ON_OVERRUN\tBIT(2)\n\n \nstruct sja1000_priv {\n\tstruct can_priv can;\t \n\tstruct sk_buff *echo_skb;\n\n\t \n\tu8 (*read_reg) (const struct sja1000_priv *priv, int reg);\n\tvoid (*write_reg) (const struct sja1000_priv *priv, int reg, u8 val);\n\tvoid (*pre_irq) (const struct sja1000_priv *priv);\n\tvoid (*post_irq) (const struct sja1000_priv *priv);\n\n\tvoid *priv;\t\t \n\tstruct net_device *dev;\n\n\tvoid __iomem *reg_base;\t  \n\tunsigned long irq_flags;  \n\tspinlock_t cmdreg_lock;   \n\n\tu16 flags;\t\t \n\tu8 ocr;\t\t\t \n\tu8 cdr;\t\t\t \n};\n\nstruct net_device *alloc_sja1000dev(int sizeof_priv);\nvoid free_sja1000dev(struct net_device *dev);\nint register_sja1000dev(struct net_device *dev);\nvoid unregister_sja1000dev(struct net_device *dev);\n\nirqreturn_t sja1000_interrupt(int irq, void *dev_id);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}