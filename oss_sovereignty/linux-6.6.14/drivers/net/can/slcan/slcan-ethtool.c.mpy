{
  "module_name": "slcan-ethtool.c",
  "hash_id": "813f5c8513d7e32592fe3c203d83fe358bf7f96dc282b40a5cfa0bbdbcf09002",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/can/slcan/slcan-ethtool.c",
  "human_readable_source": "\n \n\n#include <linux/can/dev.h>\n#include <linux/ethtool.h>\n#include <linux/kernel.h>\n#include <linux/netdevice.h>\n#include <linux/platform_device.h>\n\n#include \"slcan.h\"\n\nstatic const char slcan_priv_flags_strings[][ETH_GSTRING_LEN] = {\n#define SLCAN_PRIV_FLAGS_ERR_RST_ON_OPEN BIT(0)\n\t\"err-rst-on-open\",\n};\n\nstatic void slcan_get_strings(struct net_device *ndev, u32 stringset, u8 *data)\n{\n\tswitch (stringset) {\n\tcase ETH_SS_PRIV_FLAGS:\n\t\tmemcpy(data, slcan_priv_flags_strings,\n\t\t       sizeof(slcan_priv_flags_strings));\n\t}\n}\n\nstatic u32 slcan_get_priv_flags(struct net_device *ndev)\n{\n\tu32 flags = 0;\n\n\tif (slcan_err_rst_on_open(ndev))\n\t\tflags |= SLCAN_PRIV_FLAGS_ERR_RST_ON_OPEN;\n\n\treturn flags;\n}\n\nstatic int slcan_set_priv_flags(struct net_device *ndev, u32 flags)\n{\n\tbool err_rst_op_open = !!(flags & SLCAN_PRIV_FLAGS_ERR_RST_ON_OPEN);\n\n\treturn slcan_enable_err_rst_on_open(ndev, err_rst_op_open);\n}\n\nstatic int slcan_get_sset_count(struct net_device *netdev, int sset)\n{\n\tswitch (sset) {\n\tcase ETH_SS_PRIV_FLAGS:\n\t\treturn ARRAY_SIZE(slcan_priv_flags_strings);\n\tdefault:\n\t\treturn -EOPNOTSUPP;\n\t}\n}\n\nconst struct ethtool_ops slcan_ethtool_ops = {\n\t.get_strings = slcan_get_strings,\n\t.get_priv_flags = slcan_get_priv_flags,\n\t.set_priv_flags = slcan_set_priv_flags,\n\t.get_sset_count = slcan_get_sset_count,\n\t.get_ts_info = ethtool_op_get_ts_info,\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}