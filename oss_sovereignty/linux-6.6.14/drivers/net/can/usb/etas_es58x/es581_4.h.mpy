{
  "module_name": "es581_4.h",
  "hash_id": "05795f984255c50be03da530a8a58701f8a071ce6da85f1fc266220b67c98aca",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/can/usb/etas_es58x/es581_4.h",
  "human_readable_source": " \n\n \n\n#ifndef __ES581_4_H__\n#define __ES581_4_H__\n\n#include <linux/types.h>\n\n#define ES581_4_NUM_CAN_CH 2\n#define ES581_4_CHANNEL_IDX_OFFSET 1\n\n#define ES581_4_TX_BULK_MAX 25\n#define ES581_4_RX_BULK_MAX 30\n#define ES581_4_ECHO_BULK_MAX 30\n\nenum es581_4_cmd_type {\n\tES581_4_CAN_COMMAND_TYPE = 0x45\n};\n\nenum es581_4_cmd_id {\n\tES581_4_CMD_ID_OPEN_CHANNEL = 0x01,\n\tES581_4_CMD_ID_CLOSE_CHANNEL = 0x02,\n\tES581_4_CMD_ID_SET_BITTIMING = 0x03,\n\tES581_4_CMD_ID_ENABLE_CHANNEL = 0x04,\n\tES581_4_CMD_ID_TX_MSG = 0x05,\n\tES581_4_CMD_ID_RX_MSG = 0x06,\n\tES581_4_CMD_ID_RESET_RX = 0x0A,\n\tES581_4_CMD_ID_RESET_TX = 0x0B,\n\tES581_4_CMD_ID_DISABLE_CHANNEL = 0x0C,\n\tES581_4_CMD_ID_TIMESTAMP = 0x0E,\n\tES581_4_CMD_ID_RESET_DEVICE = 0x28,\n\tES581_4_CMD_ID_ECHO = 0x71,\n\tES581_4_CMD_ID_DEVICE_ERR = 0x72\n};\n\nenum es581_4_rx_type {\n\tES581_4_RX_TYPE_MESSAGE = 1,\n\tES581_4_RX_TYPE_ERROR = 3,\n\tES581_4_RX_TYPE_EVENT = 4\n};\n\n \nstruct es581_4_tx_conf_msg {\n\t__le32 bitrate;\n\t__le32 sample_point;\n\t__le32 samples_per_bit;\n\t__le32 bit_time;\n\t__le32 sjw;\n\t__le32 sync_edge;\n\t__le32 physical_layer;\n\t__le32 echo_mode;\n\tu8 channel_no;\n} __packed;\n\nstruct es581_4_tx_can_msg {\n\t__le32 can_id;\n\t__le32 packet_idx;\n\t__le16 flags;\n\tu8 channel_no;\n\tu8 dlc;\n\tu8 data[CAN_MAX_DLEN];\n} __packed;\n\n \nstruct es581_4_bulk_tx_can_msg {\n\tu8 num_can_msg;\n\t \n\tu8 tx_can_msg_buf[ES581_4_TX_BULK_MAX *\n\t\t\t  sizeof(struct es581_4_tx_can_msg)];\n} __packed;\n\nstruct es581_4_echo_msg {\n\t__le64 timestamp;\n\t__le32 packet_idx;\n} __packed;\n\nstruct es581_4_bulk_echo_msg {\n\tu8 channel_no;\n\tstruct es581_4_echo_msg echo_msg[ES581_4_ECHO_BULK_MAX];\n} __packed;\n\n \nstruct es581_4_rx_can_msg {\n\t__le64 timestamp;\n\tu8 rx_type;\t\t \n\tu8 flags;\t\t \n\tu8 channel_no;\n\tu8 dlc;\n\t__le32 can_id;\n\tu8 data[CAN_MAX_DLEN];\n} __packed;\n\nstruct es581_4_rx_err_msg {\n\t__le64 timestamp;\n\t__le16 rx_type;\t\t \n\t__le16 flags;\t\t \n\tu8 channel_no;\n\tu8 __padding[2];\n\tu8 dlc;\n\t__le32 tag;\t\t \n\t__le32 can_id;\n\t__le32 error;\t\t \n\t__le32 destination;\t \n} __packed;\n\nstruct es581_4_rx_event_msg {\n\t__le64 timestamp;\n\t__le16 rx_type;\t\t \n\tu8 channel_no;\n\tu8 __padding;\n\t__le32 tag;\t\t \n\t__le32 event;\t\t \n\t__le32 destination;\t \n} __packed;\n\nstruct es581_4_tx_ack_msg {\n\t__le16 tx_free_entries;\t \n\tu8 channel_no;\n\tu8 rx_cmd_ret_u8;\t \n} __packed;\n\nstruct es581_4_rx_cmd_ret {\n\t__le32 rx_cmd_ret_le32;\n\tu8 channel_no;\n\tu8 __padding[3];\n} __packed;\n\n \nstruct es581_4_urb_cmd {\n\t__le16 SOF;\n\tu8 cmd_type;\n\tu8 cmd_id;\n\t__le16 msg_len;\n\n\tunion {\n\t\tstruct es581_4_tx_conf_msg tx_conf_msg;\n\t\tstruct es581_4_bulk_tx_can_msg bulk_tx_can_msg;\n\t\tstruct es581_4_rx_can_msg rx_can_msg[ES581_4_RX_BULK_MAX];\n\t\tstruct es581_4_bulk_echo_msg bulk_echo_msg;\n\t\tstruct es581_4_rx_err_msg rx_err_msg;\n\t\tstruct es581_4_rx_event_msg rx_event_msg;\n\t\tstruct es581_4_tx_ack_msg tx_ack_msg;\n\t\tstruct es581_4_rx_cmd_ret rx_cmd_ret;\n\t\t__le64 timestamp;\n\t\tu8 rx_cmd_ret_u8;\n\t\tDECLARE_FLEX_ARRAY(u8, raw_msg);\n\t} __packed;\n\n\t__le16 reserved_for_crc16_do_not_use;\n} __packed;\n\n#define ES581_4_URB_CMD_HEADER_LEN (offsetof(struct es581_4_urb_cmd, raw_msg))\n#define ES581_4_TX_URB_CMD_MAX_LEN\t\t\t\t\t\\\n\tES58X_SIZEOF_URB_CMD(struct es581_4_urb_cmd, bulk_tx_can_msg)\n#define ES581_4_RX_URB_CMD_MAX_LEN\t\t\t\t\t\\\n\tES58X_SIZEOF_URB_CMD(struct es581_4_urb_cmd, rx_can_msg)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}