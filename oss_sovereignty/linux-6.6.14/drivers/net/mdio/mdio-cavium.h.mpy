{
  "module_name": "mdio-cavium.h",
  "hash_id": "36ad80161ad426334a8e58125b3f32dc7a59fa7418907acb28b8ac7926727070",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/mdio/mdio-cavium.h",
  "human_readable_source": " \n \n\nenum cavium_mdiobus_mode {\n\tUNINIT = 0,\n\tC22,\n\tC45\n};\n\n#define SMI_CMD\t\t0x0\n#define SMI_WR_DAT\t0x8\n#define SMI_RD_DAT\t0x10\n#define SMI_CLK\t\t0x18\n#define SMI_EN\t\t0x20\n\n#ifdef __BIG_ENDIAN_BITFIELD\n#define OCT_MDIO_BITFIELD_FIELD(field, more)\t\\\n\tfield;\t\t\t\t\t\\\n\tmore\n\n#else\n#define OCT_MDIO_BITFIELD_FIELD(field, more)\t\\\n\tmore\t\t\t\t\t\\\n\tfield;\n\n#endif\n\nunion cvmx_smix_clk {\n\tu64 u64;\n\tstruct cvmx_smix_clk_s {\n\t  OCT_MDIO_BITFIELD_FIELD(u64 reserved_25_63:39,\n\t  OCT_MDIO_BITFIELD_FIELD(u64 mode:1,\n\t  OCT_MDIO_BITFIELD_FIELD(u64 reserved_21_23:3,\n\t  OCT_MDIO_BITFIELD_FIELD(u64 sample_hi:5,\n\t  OCT_MDIO_BITFIELD_FIELD(u64 sample_mode:1,\n\t  OCT_MDIO_BITFIELD_FIELD(u64 reserved_14_14:1,\n\t  OCT_MDIO_BITFIELD_FIELD(u64 clk_idle:1,\n\t  OCT_MDIO_BITFIELD_FIELD(u64 preamble:1,\n\t  OCT_MDIO_BITFIELD_FIELD(u64 sample:4,\n\t  OCT_MDIO_BITFIELD_FIELD(u64 phase:8,\n\t  ;))))))))))\n\t} s;\n};\n\nunion cvmx_smix_cmd {\n\tu64 u64;\n\tstruct cvmx_smix_cmd_s {\n\t  OCT_MDIO_BITFIELD_FIELD(u64 reserved_18_63:46,\n\t  OCT_MDIO_BITFIELD_FIELD(u64 phy_op:2,\n\t  OCT_MDIO_BITFIELD_FIELD(u64 reserved_13_15:3,\n\t  OCT_MDIO_BITFIELD_FIELD(u64 phy_adr:5,\n\t  OCT_MDIO_BITFIELD_FIELD(u64 reserved_5_7:3,\n\t  OCT_MDIO_BITFIELD_FIELD(u64 reg_adr:5,\n\t  ;))))))\n\t} s;\n};\n\nunion cvmx_smix_en {\n\tu64 u64;\n\tstruct cvmx_smix_en_s {\n\t  OCT_MDIO_BITFIELD_FIELD(u64 reserved_1_63:63,\n\t  OCT_MDIO_BITFIELD_FIELD(u64 en:1,\n\t  ;))\n\t} s;\n};\n\nunion cvmx_smix_rd_dat {\n\tu64 u64;\n\tstruct cvmx_smix_rd_dat_s {\n\t  OCT_MDIO_BITFIELD_FIELD(u64 reserved_18_63:46,\n\t  OCT_MDIO_BITFIELD_FIELD(u64 pending:1,\n\t  OCT_MDIO_BITFIELD_FIELD(u64 val:1,\n\t  OCT_MDIO_BITFIELD_FIELD(u64 dat:16,\n\t  ;))))\n\t} s;\n};\n\nunion cvmx_smix_wr_dat {\n\tu64 u64;\n\tstruct cvmx_smix_wr_dat_s {\n\t  OCT_MDIO_BITFIELD_FIELD(u64 reserved_18_63:46,\n\t  OCT_MDIO_BITFIELD_FIELD(u64 pending:1,\n\t  OCT_MDIO_BITFIELD_FIELD(u64 val:1,\n\t  OCT_MDIO_BITFIELD_FIELD(u64 dat:16,\n\t  ;))))\n\t} s;\n};\n\nstruct cavium_mdiobus {\n\tstruct mii_bus *mii_bus;\n\tvoid __iomem *register_base;\n\tenum cavium_mdiobus_mode mode;\n};\n\n#ifdef CONFIG_CAVIUM_OCTEON_SOC\n\n#include <asm/octeon/octeon.h>\n\nstatic inline void oct_mdio_writeq(u64 val, void __iomem *addr)\n{\n\tcvmx_write_csr((u64 __force)addr, val);\n}\n\nstatic inline u64 oct_mdio_readq(void __iomem *addr)\n{\n\treturn cvmx_read_csr((u64 __force)addr);\n}\n#else\n#include <linux/io-64-nonatomic-lo-hi.h>\n\n#define oct_mdio_writeq(val, addr)\twriteq(val, addr)\n#define oct_mdio_readq(addr)\t\treadq(addr)\n#endif\n\nint cavium_mdiobus_read_c22(struct mii_bus *bus, int phy_id, int regnum);\nint cavium_mdiobus_write_c22(struct mii_bus *bus, int phy_id, int regnum,\n\t\t\t     u16 val);\nint cavium_mdiobus_read_c45(struct mii_bus *bus, int phy_id, int devad,\n\t\t\t    int regnum);\nint cavium_mdiobus_write_c45(struct mii_bus *bus, int phy_id, int devad,\n\t\t\t     int regnum, u16 val);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}