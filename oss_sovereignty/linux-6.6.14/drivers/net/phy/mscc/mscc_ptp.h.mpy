{
  "module_name": "mscc_ptp.h",
  "hash_id": "a4ac81518eba61a40a79268876d0ebb3e97da4d4316bf0cd2099cf5cd0c6434c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/phy/mscc/mscc_ptp.h",
  "human_readable_source": " \n \n\n#ifndef _MSCC_PHY_PTP_H_\n#define _MSCC_PHY_PTP_H_\n\n \n#define MSCC_PHY_TS_BIU_ADDR_CNTL\t  16\n#define BIU_ADDR_EXE\t\t\t  0x8000\n#define BIU_ADDR_READ\t\t\t  0x4000\n#define BIU_ADDR_WRITE\t\t\t  0x0000\n#define BIU_BLK_ID(x)\t\t\t  ((x) << 11)\n#define BIU_CSR_ADDR(x)\t\t\t  (x)\n#define BIU_ADDR_CNT_MAX\t\t  8\n\n#define MSCC_PHY_TS_CSR_DATA_LSB\t  17\n#define MSCC_PHY_TS_CSR_DATA_MSB\t  18\n\n#define MSCC_PHY_1588_INGR_VSC85XX_INT_STATUS  0x002d\n#define MSCC_PHY_1588_VSC85XX_INT_STATUS  0x004d\n#define VSC85XX_1588_INT_FIFO_ADD\t  0x0004\n#define VSC85XX_1588_INT_FIFO_OVERFLOW\t  0x0001\n\n#define MSCC_PHY_1588_INGR_VSC85XX_INT_MASK\t  0x002e\n#define MSCC_PHY_1588_VSC85XX_INT_MASK\t  0x004e\n#define VSC85XX_1588_INT_MASK_MASK\t  (VSC85XX_1588_INT_FIFO_ADD | \\\n\t\t\t\t\t   VSC85XX_1588_INT_FIFO_OVERFLOW)\n\n \n#define MSCC_PHY_ANA_ETH1_NTX_PROT\t  0x0000\n#define ANA_ETH1_NTX_PROT_SIG_OFF_MASK\t  GENMASK(20, 16)\n#define ANA_ETH1_NTX_PROT_SIG_OFF(x)\t  (((x) << 16) & ANA_ETH1_NTX_PROT_SIG_OFF_MASK)\n#define ANA_ETH1_NTX_PROT_COMPARATOR_MASK GENMASK(2, 0)\n#define ANA_ETH1_NTX_PROT_PTP_OAM\t  0x0005\n#define ANA_ETH1_NTX_PROT_MPLS\t\t  0x0004\n#define ANA_ETH1_NTX_PROT_IP_UDP_ACH_2\t  0x0003\n#define ANA_ETH1_NTX_PROT_IP_UDP_ACH_1\t  0x0002\n#define ANA_ETH1_NTX_PROT_ETH2\t\t  0x0001\n\n#define MSCC_PHY_PTP_IFACE_CTRL\t\t  0x0000\n#define PTP_IFACE_CTRL_CLK_ENA\t\t  0x0040\n#define PTP_IFACE_CTRL_INGR_BYPASS\t  0x0008\n#define PTP_IFACE_CTRL_EGR_BYPASS\t  0x0004\n#define PTP_IFACE_CTRL_MII_PROT\t\t  0x0003\n#define PTP_IFACE_CTRL_GMII_PROT\t  0x0002\n#define PTP_IFACE_CTRL_XGMII_64_PROT\t  0x0000\n\n#define MSCC_PHY_ANA_ETH1_NTX_PROT_VLAN_TPID\t0x0001\n#define ANA_ETH1_NTX_PROT_VLAN_TPID_MASK  GENMASK(31, 16)\n#define ANA_ETH1_NTX_PROT_VLAN_TPID(x)\t  (((x) << 16) & ANA_ETH1_NTX_PROT_VLAN_TPID_MASK)\n\n#define MSCC_PHY_PTP_ANALYZER_MODE\t  0x0001\n#define PTP_ANA_SPLIT_ENCAP_FLOW\t  0x1000000\n#define PTP_ANA_EGR_ENCAP_FLOW_MODE_MASK  GENMASK(22, 20)\n#define PTP_ANA_EGR_ENCAP_FLOW_MODE(x)\t  (((x) << 20) & PTP_ANA_EGR_ENCAP_FLOW_MODE_MASK)\n#define PTP_ANA_INGR_ENCAP_FLOW_MODE_MASK GENMASK(18, 16)\n#define PTP_ANA_INGR_ENCAP_FLOW_MODE(x)\t  (((x) << 16) & PTP_ANA_INGR_ENCAP_FLOW_MODE_MASK)\n#define PTP_ANALYZER_MODE_EGR_ENA_MASK\t  GENMASK(6, 4)\n#define PTP_ANALYZER_MODE_EGR_ENA(x)\t  (((x) << 4) & PTP_ANALYZER_MODE_EGR_ENA_MASK)\n#define PTP_ANALYZER_MODE_INGR_ENA_MASK\t  GENMASK(2, 0)\n#define PTP_ANALYZER_MODE_INGR_ENA(x)\t  ((x) & PTP_ANALYZER_MODE_INGR_ENA_MASK)\n\n#define MSCC_PHY_ANA_ETH1_NXT_PROT_TAG\t  0x0002\n#define ANA_ETH1_NXT_PROT_TAG_ENA\t  0x0001\n\n#define MSCC_PHY_PTP_MODE_CTRL\t\t  0x0002\n#define PTP_MODE_CTRL_MODE_MASK\t\t  GENMASK(2, 0)\n#define PTP_MODE_CTRL_PKT_MODE\t\t  0x0004\n\n#define MSCC_PHY_ANA_ETH1_NXT_PROT_ETYPE_MATCH\t0x0003\n#define ANA_ETH1_NXT_PROT_ETYPE_MATCH_ENA 0x10000\n#define ANA_ETH1_NXT_PROT_ETYPE_MATCH_MASK\tGENMASK(15, 0)\n#define ANA_ETH1_NXT_PROT_ETYPE_MATCH(x)  ((x) & ANA_ETH1_NXT_PROT_ETYPE_MATCH_MASK)\n\n#define MSCC_PHY_PTP_VERSION_CODE\t  0x0003\n#define PTP_IP_VERSION_MASK\t\t  GENMASK(7, 0)\n#define PTP_IP_VERSION_2_1\t\t  0x0021\n\n#define MSCC_ANA_ETH1_FLOW_ENA(x)\t  (0x0010 + ((x) << 4))\n#define ETH1_FLOW_ENA_CHANNEL_MASK_MASK\t  GENMASK(9, 8)\n#define ETH1_FLOW_ENA_CHANNEL_MASK(x)\t  (((x) << 8) & ETH1_FLOW_ENA_CHANNEL_MASK_MASK)\n#define ETH1_FLOW_VALID_CH1\t  ETH1_FLOW_ENA_CHANNEL_MASK(2)\n#define ETH1_FLOW_VALID_CH0\t  ETH1_FLOW_ENA_CHANNEL_MASK(1)\n#define ETH1_FLOW_ENA\t\t\t  0x0001\n\n#define MSCC_ANA_ETH1_FLOW_MATCH_MODE(x)  (MSCC_ANA_ETH1_FLOW_ENA(x) + 1)\n#define ANA_ETH1_FLOW_MATCH_VLAN_TAG_MASK GENMASK(7, 6)\n#define ANA_ETH1_FLOW_MATCH_VLAN_TAG(x)\t  (((x) << 6) & ANA_ETH1_FLOW_MATCH_VLAN_TAG_MASK)\n#define ANA_ETH1_FLOW_MATCH_VLAN_TAG2\t  0x0200\n#define ANA_ETH1_FLOW_MATCH_VLAN_VERIFY\t  0x0010\n\n#define MSCC_ANA_ETH1_FLOW_ADDR_MATCH1(x) (MSCC_ANA_ETH1_FLOW_ENA(x) + 2)\n\n#define MSCC_ANA_ETH1_FLOW_ADDR_MATCH2(x) (MSCC_ANA_ETH1_FLOW_ENA(x) + 3)\n#define ANA_ETH1_FLOW_ADDR_MATCH2_MASK_MASK\tGENMASK(22, 20)\n#define ANA_ETH1_FLOW_ADDR_MATCH2_ANY_MULTICAST\t0x400000\n#define ANA_ETH1_FLOW_ADDR_MATCH2_FULL_ADDR\t0x100000\n#define ANA_ETH1_FLOW_ADDR_MATCH2_SRC_DEST_MASK\tGENMASK(17, 16)\n#define ANA_ETH1_FLOW_ADDR_MATCH2_SRC_DEST\t0x020000\n#define ANA_ETH1_FLOW_ADDR_MATCH2_SRC\t  0x010000\n#define ANA_ETH1_FLOW_ADDR_MATCH2_DEST\t  0x000000\n\n#define MSCC_ANA_ETH1_FLOW_VLAN_RANGE_I_TAG(x)\t(MSCC_ANA_ETH1_FLOW_ENA(x) + 4)\n#define MSCC_ANA_ETH1_FLOW_VLAN_TAG1(x)\t  (MSCC_ANA_ETH1_FLOW_ENA(x) + 5)\n#define MSCC_ANA_ETH1_FLOW_VLAN_TAG2_I_TAG(x)\t(MSCC_ANA_ETH1_FLOW_ENA(x) + 6)\n\n#define MSCC_PHY_PTP_LTC_CTRL\t\t  0x0010\n#define PTP_LTC_CTRL_CLK_SEL_MASK\t  GENMASK(14, 12)\n#define PTP_LTC_CTRL_CLK_SEL(x)\t\t  (((x) << 12) & PTP_LTC_CTRL_CLK_SEL_MASK)\n#define PTP_LTC_CTRL_CLK_SEL_INTERNAL_250 PTP_LTC_CTRL_CLK_SEL(5)\n#define PTP_LTC_CTRL_AUTO_ADJ_UPDATE\t  0x0010\n#define PTP_LTC_CTRL_ADD_SUB_1NS_REQ\t  0x0008\n#define PTP_LTC_CTRL_ADD_1NS\t\t  0x0004\n#define PTP_LTC_CTRL_SAVE_ENA\t\t  0x0002\n#define PTP_LTC_CTRL_LOAD_ENA\t\t  0x0001\n\n#define MSCC_PHY_PTP_LTC_LOAD_SEC_MSB\t  0x0011\n#define PTP_LTC_LOAD_SEC_MSB(x)\t\t  (((x) & GENMASK_ULL(47, 32)) >> 32)\n\n#define MSCC_PHY_PTP_LTC_LOAD_SEC_LSB\t  0x0012\n#define PTP_LTC_LOAD_SEC_LSB(x)\t\t  ((x) & GENMASK(31, 0))\n\n#define MSCC_PHY_PTP_LTC_LOAD_NS\t  0x0013\n#define PTP_LTC_LOAD_NS(x)\t\t  ((x) & GENMASK(31, 0))\n\n#define MSCC_PHY_PTP_LTC_SAVED_SEC_MSB\t  0x0014\n#define MSCC_PHY_PTP_LTC_SAVED_SEC_LSB\t  0x0015\n#define MSCC_PHY_PTP_LTC_SAVED_NS\t  0x0016\n\n#define MSCC_PHY_PTP_LTC_SEQUENCE\t  0x0017\n#define PTP_LTC_SEQUENCE_A_MASK\t\t  GENMASK(3, 0)\n#define PTP_LTC_SEQUENCE_A(x)\t\t  ((x) & PTP_LTC_SEQUENCE_A_MASK)\n\n#define MSCC_PHY_PTP_LTC_SEQ\t\t  0x0018\n#define PTP_LTC_SEQ_ADD_SUB\t\t  0x80000\n#define PTP_LTC_SEQ_ERR_MASK\t\t  GENMASK(18, 0)\n#define PTP_LTC_SEQ_ERR(x)\t\t  ((x) & PTP_LTC_SEQ_ERR_MASK)\n\n#define MSCC_PHY_PTP_LTC_AUTO_ADJ\t  0x001a\n#define PTP_AUTO_ADJ_NS_ROLLOVER(x)\t  ((x) & GENMASK(29, 0))\n#define PTP_AUTO_ADJ_ADD_SUB_1NS_MASK\t  GENMASK(31, 30)\n#define PTP_AUTO_ADJ_SUB_1NS\t\t  0x80000000\n#define PTP_AUTO_ADJ_ADD_1NS\t\t  0x40000000\n\n#define MSCC_PHY_PTP_LTC_1PPS_WIDTH_ADJ\t  0x001b\n#define PTP_LTC_1PPS_WIDTH_ADJ_MASK\t  GENMASK(29, 0)\n\n#define MSCC_PHY_PTP_TSTAMP_FIFO_SI\t  0x0020\n#define PTP_TSTAMP_FIFO_SI_EN\t\t  0x0001\n\n#define MSCC_PHY_PTP_INGR_PREDICTOR\t  0x0022\n#define PTP_INGR_PREDICTOR_EN\t\t  0x0001\n\n#define MSCC_PHY_PTP_EGR_PREDICTOR\t  0x0026\n#define PTP_EGR_PREDICTOR_EN\t\t  0x0001\n\n#define MSCC_PHY_PTP_INGR_TSP_CTRL\t  0x0035\n#define PHY_PTP_INGR_TSP_CTRL_FRACT_NS\t  0x0004\n#define PHY_PTP_INGR_TSP_CTRL_LOAD_DELAYS 0x0001\n\n#define MSCC_PHY_PTP_INGR_LOCAL_LATENCY\t  0x0037\n#define PTP_INGR_LOCAL_LATENCY_MASK\t  GENMASK(22, 0)\n#define PTP_INGR_LOCAL_LATENCY(x)\t  ((x) & PTP_INGR_LOCAL_LATENCY_MASK)\n\n#define MSCC_PHY_PTP_INGR_DELAY_FIFO\t  0x003a\n#define PTP_INGR_DELAY_FIFO_DEPTH_MACSEC  0x0013\n#define PTP_INGR_DELAY_FIFO_DEPTH_DEFAULT 0x000f\n\n#define MSCC_PHY_PTP_INGR_TS_FIFO(x)\t  (0x005c + (x))\n#define PTP_INGR_TS_FIFO_EMPTY\t\t  0x80000000\n\n#define MSCC_PHY_PTP_INGR_REWRITER_CTRL\t  0x0044\n#define PTP_INGR_REWRITER_REDUCE_PREAMBLE 0x0010\n#define PTP_INGR_REWRITER_FLAG_VAL\t  0x0008\n#define PTP_INGR_REWRITER_FLAG_BIT_OFF_M  GENMASK(2, 0)\n#define PTP_INGR_REWRITER_FLAG_BIT_OFF(x) ((x) & PTP_INGR_REWRITER_FLAG_BIT_OFF_M)\n\n#define MSCC_PHY_PTP_EGR_STALL_LATENCY\t  0x004f\n\n#define MSCC_PHY_PTP_EGR_TSP_CTRL\t  0x0055\n#define PHY_PTP_EGR_TSP_CTRL_FRACT_NS\t  0x0004\n#define PHY_PTP_EGR_TSP_CTRL_LOAD_DELAYS  0x0001\n\n#define MSCC_PHY_PTP_EGR_LOCAL_LATENCY\t  0x0057\n#define PTP_EGR_LOCAL_LATENCY_MASK\t  GENMASK(22, 0)\n#define PTP_EGR_LOCAL_LATENCY(x)\t  ((x) & PTP_EGR_LOCAL_LATENCY_MASK)\n\n#define MSCC_PHY_PTP_EGR_DELAY_FIFO\t  0x005a\n#define PTP_EGR_DELAY_FIFO_DEPTH_MACSEC\t  0x0013\n#define PTP_EGR_DELAY_FIFO_DEPTH_DEFAULT  0x000f\n\n#define MSCC_PHY_PTP_EGR_TS_FIFO_CTRL\t  0x005b\n#define PTP_EGR_TS_FIFO_RESET\t\t  0x10000\n#define PTP_EGR_FIFO_LEVEL_LAST_READ_MASK GENMASK(15, 12)\n#define PTP_EGR_FIFO_LEVEL_LAST_READ(x)\t  (((x) & PTP_EGR_FIFO_LEVEL_LAST_READ_MASK) >> 12)\n#define PTP_EGR_TS_FIFO_THRESH_MASK\t  GENMASK(11, 8)\n#define PTP_EGR_TS_FIFO_THRESH(x)\t  (((x) << 8) & PTP_EGR_TS_FIFO_THRESH_MASK)\n#define PTP_EGR_TS_FIFO_SIG_BYTES_MASK\t  GENMASK(4, 0)\n#define PTP_EGR_TS_FIFO_SIG_BYTES(x)\t  ((x) & PTP_EGR_TS_FIFO_SIG_BYTES_MASK)\n\n#define MSCC_PHY_PTP_EGR_TS_FIFO(x)\t  (0x005c + (x))\n#define PTP_EGR_TS_FIFO_EMPTY\t\t  0x80000000\n#define PTP_EGR_TS_FIFO_0_MASK\t\t  GENMASK(15, 0)\n\n#define MSCC_PHY_PTP_EGR_REWRITER_CTRL\t  0x0064\n#define PTP_EGR_REWRITER_REDUCE_PREAMBLE  0x0010\n#define PTP_EGR_REWRITER_FLAG_VAL\t  0x0008\n#define PTP_EGR_REWRITER_FLAG_BIT_OFF_M   GENMASK(2, 0)\n#define PTP_EGR_REWRITER_FLAG_BIT_OFF(x)  ((x) & PTP_EGR_REWRITER_FLAG_BIT_OFF_M)\n\n#define MSCC_PHY_PTP_SERIAL_TOD_IFACE\t  0x006e\n#define PTP_SERIAL_TOD_IFACE_LS_AUTO_CLR  0x0004\n\n#define MSCC_PHY_PTP_LTC_OFFSET\t\t  0x0070\n#define PTP_LTC_OFFSET_ADJ\t\t  BIT(31)\n#define PTP_LTC_OFFSET_ADD\t\t  BIT(30)\n#define PTP_LTC_OFFSET_VAL(x)\t\t  (x)\n\n#define MSCC_PHY_PTP_ACCUR_CFG_STATUS\t  0x0074\n#define PTP_ACCUR_PPS_OUT_CALIB_ERR\t  0x20000\n#define PTP_ACCUR_PPS_OUT_CALIB_DONE\t  0x10000\n#define PTP_ACCUR_PPS_IN_CALIB_ERR\t  0x4000\n#define PTP_ACCUR_PPS_IN_CALIB_DONE\t  0x2000\n#define PTP_ACCUR_EGR_SOF_CALIB_ERR\t  0x1000\n#define PTP_ACCUR_EGR_SOF_CALIB_DONE\t  0x0800\n#define PTP_ACCUR_INGR_SOF_CALIB_ERR\t  0x0400\n#define PTP_ACCUR_INGR_SOF_CALIB_DONE\t  0x0200\n#define PTP_ACCUR_LOAD_SAVE_CALIB_ERR\t  0x0100\n#define PTP_ACCUR_LOAD_SAVE_CALIB_DONE\t  0x0080\n#define PTP_ACCUR_CALIB_TRIGG\t\t  0x0040\n#define PTP_ACCUR_PPS_OUT_BYPASS\t  0x0010\n#define PTP_ACCUR_PPS_IN_BYPASS\t\t  0x0008\n#define PTP_ACCUR_EGR_SOF_BYPASS\t  0x0004\n#define PTP_ACCUR_INGR_SOF_BYPASS\t  0x0002\n#define PTP_ACCUR_LOAD_SAVE_BYPASS\t  0x0001\n\n#define MSCC_PHY_ANA_ETH2_NTX_PROT\t  0x0090\n#define ANA_ETH2_NTX_PROT_COMPARATOR_MASK GENMASK(2, 0)\n#define ANA_ETH2_NTX_PROT_PTP_OAM\t  0x0005\n#define ANA_ETH2_NTX_PROT_MPLS\t\t  0x0004\n#define ANA_ETH2_NTX_PROT_IP_UDP_ACH_2\t  0x0003\n#define ANA_ETH2_NTX_PROT_IP_UDP_ACH_1\t  0x0002\n#define ANA_ETH2_NTX_PROT_ETH2\t\t  0x0001\n\n#define MSCC_PHY_ANA_ETH2_NXT_PROT_ETYPE_MATCH\t0x0003\n#define ANA_ETH2_NXT_PROT_ETYPE_MATCH_ENA 0x10000\n#define ANA_ETH2_NXT_PROT_ETYPE_MATCH_MASK\tGENMASK(15, 0)\n#define ANA_ETH2_NXT_PROT_ETYPE_MATCH(x)  ((x) & ANA_ETH2_NXT_PROT_ETYPE_MATCH_MASK)\n\n#define MSCC_ANA_ETH2_FLOW_ENA(x)\t  (0x00a0 + ((x) << 4))\n#define ETH2_FLOW_ENA_CHANNEL_MASK_MASK\t  GENMASK(9, 8)\n#define ETH2_FLOW_ENA_CHANNEL_MASK(x)\t  (((x) << 8) & ETH2_FLOW_ENA_CHANNEL_MASK_MASK)\n#define ETH2_FLOW_VALID_CH1\t  ETH2_FLOW_ENA_CHANNEL_MASK(2)\n#define ETH2_FLOW_VALID_CH0\t  ETH2_FLOW_ENA_CHANNEL_MASK(1)\n\n#define MSCC_PHY_ANA_MPLS_COMP_NXT_COMP\t  0x0120\n#define ANA_MPLS_NTX_PROT_COMPARATOR_MASK GENMASK(2, 0)\n#define ANA_MPLS_NTX_PROT_PTP_OAM\t  0x0005\n#define ANA_MPLS_NTX_PROT_MPLS\t\t  0x0004\n#define ANA_MPLS_NTX_PROT_IP_UDP_ACH_2\t  0x0003\n#define ANA_MPLS_NTX_PROT_IP_UDP_ACH_1\t  0x0002\n#define ANA_MPLS_NTX_PROT_ETH2\t\t  0x0001\n\n#define MSCC_ANA_MPLS_FLOW_CTRL(x)\t  (0x0130 + ((x) << 4))\n#define MPLS_FLOW_CTRL_CHANNEL_MASK_MASK  GENMASK(25, 24)\n#define MPLS_FLOW_CTRL_CHANNEL_MASK(x)\t  (((x) << 24) & MPLS_FLOW_CTRL_CHANNEL_MASK_MASK)\n#define MPLS_FLOW_VALID_CH1\t\t  MPLS_FLOW_CTRL_CHANNEL_MASK(2)\n#define MPLS_FLOW_VALID_CH0\t\t  MPLS_FLOW_CTRL_CHANNEL_MASK(1)\n\n#define MSCC_ANA_IP1_NXT_PROT_NXT_COMP\t  0x01b0\n#define ANA_IP1_NXT_PROT_NXT_COMP_BYTES_HDR_MASK\tGENMASK(15, 8)\n#define ANA_IP1_NXT_PROT_NXT_COMP_BYTES_HDR(x)\t(((x) << 8) & ANA_IP1_NXT_PROT_NXT_COMP_BYTES_HDR_MASK)\n#define ANA_IP1_NXT_PROT_NXT_COMP_PTP_OAM\t0x0005\n#define ANA_IP1_NXT_PROT_NXT_COMP_IP_UDP_ACH2\t0x0003\n\n#define MSCC_ANA_IP1_NXT_PROT_IP1_MODE\t  0x01b1\n#define ANA_IP1_NXT_PROT_FLOW_OFFSET_IPV4 0x0c00\n#define ANA_IP1_NXT_PROT_FLOW_OFFSET_IPV6 0x0800\n#define ANA_IP1_NXT_PROT_IPV6\t\t  0x0001\n#define ANA_IP1_NXT_PROT_IPV4\t\t  0x0000\n\n#define MSCC_ANA_IP1_NXT_PROT_IP_MATCH1\t  0x01b2\n#define ANA_IP1_NXT_PROT_IP_MATCH1_PROT_OFF_MASK\tGENMASK(20, 16)\n#define ANA_IP1_NXT_PROT_IP_MATCH1_PROT_OFF(x)\t(((x) << 16) & ANA_IP1_NXT_PROT_IP_MATCH1_PROT_OFF_MASK)\n#define ANA_IP1_NXT_PROT_IP_MATCH1_PROT_MASK_MASK\tGENMASK(15, 8)\n#define ANA_IP1_NXT_PROT_IP_MATCH1_PROT_MASK(x)\t(((x) << 15) & ANA_IP1_NXT_PROT_IP_MATCH1_PROT_MASK_MASK)\n#define ANA_IP1_NXT_PROT_IP_MATCH1_PROT_MATCH_MASK\tGENMASK(7, 0)\n#define ANA_IP1_NXT_PROT_IP_MATCH1_PROT_MATCH(x)\t((x) & ANA_IP1_NXT_PROT_IP_MATCH1_PROT_MATCH_MASK)\n\n#define MSCC_ANA_IP1_NXT_PROT_MATCH2_UPPER\t0x01b3\n#define MSCC_ANA_IP1_NXT_PROT_MATCH2_LOWER\t0x01b4\n#define MSCC_ANA_IP1_NXT_PROT_MASK2_UPPER\t0x01b5\n#define MSCC_ANA_IP1_NXT_PROT_MASK2_LOWER\t0x01b6\n\n#define MSCC_ANA_IP1_NXT_PROT_OFFSET2\t  0x01b7\n#define ANA_IP1_NXT_PROT_OFFSET2_MASK\t  GENMASK(6, 0)\n#define ANA_IP1_NXT_PROT_OFFSET2(x)\t  ((x) & ANA_IP1_NXT_PROT_OFFSET2_MASK)\n\n#define MSCC_ANA_IP1_NXT_PROT_UDP_CHKSUM  0x01b8\n#define IP1_NXT_PROT_UDP_CHKSUM_OFF_MASK  GENMASK(15, 8)\n#define IP1_NXT_PROT_UDP_CHKSUM_OFF(x)\t  (((x) << 8) & IP1_NXT_PROT_UDP_CHKSUM_OFF_MASK)\n#define IP1_NXT_PROT_UDP_CHKSUM_WIDTH_MASK\tGENMASK(5, 4)\n#define IP1_NXT_PROT_UDP_CHKSUM_WIDTH(x)  (((x) << 4) & IP1_NXT_PROT_UDP_CHKSUM_WIDTH_MASK)\n#define IP1_NXT_PROT_UDP_CHKSUM_UPDATE\t  0x0002\n#define IP1_NXT_PROT_UDP_CHKSUM_CLEAR\t  0x0001\n\n#define MSCC_ANA_IP1_FLOW_ENA(x)\t  (0x01c0 + ((x) << 4))\n#define IP1_FLOW_MATCH_ADDR_MASK\t  GENMASK(9, 8)\n#define IP1_FLOW_MATCH_DEST_SRC_ADDR\t  0x0200\n#define IP1_FLOW_MATCH_DEST_ADDR\t  0x0100\n#define IP1_FLOW_MATCH_SRC_ADDR\t\t  0x0000\n#define IP1_FLOW_ENA_CHANNEL_MASK_MASK\t  GENMASK(5, 4)\n#define IP1_FLOW_ENA_CHANNEL_MASK(x)\t  (((x) << 4) & IP1_FLOW_ENA_CHANNEL_MASK_MASK)\n#define IP1_FLOW_VALID_CH1\t\t  IP1_FLOW_ENA_CHANNEL_MASK(2)\n#define IP1_FLOW_VALID_CH0\t\t  IP1_FLOW_ENA_CHANNEL_MASK(1)\n#define IP1_FLOW_ENA\t\t\t  0x0001\n\n#define MSCC_ANA_OAM_PTP_FLOW_ENA(x)\t  (0x1e0 + ((x) << 4))\n#define MSCC_ANA_OAM_PTP_FLOW_MATCH_LOWER(x)\t(MSCC_ANA_OAM_PTP_FLOW_ENA(x) + 2)\n#define MSCC_ANA_OAM_PTP_FLOW_MASK_LOWER(x)\t(MSCC_ANA_OAM_PTP_FLOW_ENA(x) + 4)\n\n#define MSCC_ANA_OAM_PTP_FLOW_PTP_0_FIELD(x)\t(MSCC_ANA_OAM_PTP_FLOW_ENA(x) + 8)\n\n#define MSCC_ANA_IP1_FLOW_MATCH_UPPER(x)  (MSCC_ANA_IP1_FLOW_ENA(x) + 1)\n#define MSCC_ANA_IP1_FLOW_MATCH_UPPER_MID(x)  (MSCC_ANA_IP1_FLOW_ENA(x) + 2)\n#define MSCC_ANA_IP1_FLOW_MATCH_LOWER_MID(x)  (MSCC_ANA_IP1_FLOW_ENA(x) + 3)\n#define MSCC_ANA_IP1_FLOW_MATCH_LOWER(x)  (MSCC_ANA_IP1_FLOW_ENA(x) + 4)\n#define MSCC_ANA_IP1_FLOW_MASK_UPPER(x)\t  (MSCC_ANA_IP1_FLOW_ENA(x) + 5)\n#define MSCC_ANA_IP1_FLOW_MASK_UPPER_MID(x)\t  (MSCC_ANA_IP1_FLOW_ENA(x) + 6)\n#define MSCC_ANA_IP1_FLOW_MASK_LOWER_MID(x)\t  (MSCC_ANA_IP1_FLOW_ENA(x) + 7)\n#define MSCC_ANA_IP1_FLOW_MASK_LOWER(x)\t  (MSCC_ANA_IP1_FLOW_ENA(x) + 8)\n\n#define MSCC_ANA_IP2_NXT_PROT_NXT_COMP\t  0x0240\n#define ANA_IP2_NXT_PROT_NXT_COMP_BYTES_HDR_MASK\tGENMASK(15, 8)\n#define ANA_IP2_NXT_PROT_NXT_COMP_BYTES_HDR(x)\t(((x) << 8) & ANA_IP2_NXT_PROT_NXT_COMP_BYTES_HDR_MASK)\n#define ANA_IP2_NXT_PROT_NXT_COMP_PTP_OAM\t0x0005\n#define ANA_IP2_NXT_PROT_NXT_COMP_IP_UDP_ACH2\t0x0003\n\n#define MSCC_ANA_IP2_NXT_PROT_UDP_CHKSUM  0x0248\n#define IP2_NXT_PROT_UDP_CHKSUM_OFF_MASK  GENMASK(15, 8)\n#define IP2_NXT_PROT_UDP_CHKSUM_OFF(x)\t  (((x) << 8) & IP2_NXT_PROT_UDP_CHKSUM_OFF_MASK)\n#define IP2_NXT_PROT_UDP_CHKSUM_WIDTH_MASK  GENMASK(5, 4)\n#define IP2_NXT_PROT_UDP_CHKSUM_WIDTH(x)  (((x) << 4) & IP2_NXT_PROT_UDP_CHKSUM_WIDTH_MASK)\n\n#define MSCC_ANA_IP2_FLOW_ENA(x)\t  (0x0250 + ((x) << 4))\n#define IP2_FLOW_ENA_CHANNEL_MASK_MASK\t  GENMASK(5, 4)\n#define IP2_FLOW_ENA_CHANNEL_MASK(x)\t  (((x) << 4) & IP2_FLOW_ENA_CHANNEL_MASK_MASK)\n#define IP2_FLOW_VALID_CH1\t  IP2_FLOW_ENA_CHANNEL_MASK(2)\n#define IP2_FLOW_VALID_CH0\t  IP2_FLOW_ENA_CHANNEL_MASK(1)\n\n#define MSCC_ANA_PTP_FLOW_ENA(x)\t  (0x02d0 + ((x) << 4))\n#define PTP_FLOW_ENA_CHANNEL_MASK_MASK\t  GENMASK(5, 4)\n#define PTP_FLOW_ENA_CHANNEL_MASK(x)\t  (((x) << 4) & PTP_FLOW_ENA_CHANNEL_MASK_MASK)\n#define PTP_FLOW_VALID_CH1\t  PTP_FLOW_ENA_CHANNEL_MASK(2)\n#define PTP_FLOW_VALID_CH0\t  PTP_FLOW_ENA_CHANNEL_MASK(1)\n#define PTP_FLOW_ENA\t\t\t  0x0001\n\n#define MSCC_ANA_PTP_FLOW_MATCH_UPPER(x)  (MSCC_ANA_PTP_FLOW_ENA(x) + 1)\n#define PTP_FLOW_MSG_TYPE_MASK\t\t  0x0F000000\n#define PTP_FLOW_MSG_PDELAY_RESP\t  0x04000000\n#define PTP_FLOW_MSG_PDELAY_REQ\t\t  0x02000000\n#define PTP_FLOW_MSG_DELAY_REQ\t\t  0x01000000\n#define PTP_FLOW_MSG_SYNC\t\t  0x00000000\n\n#define MSCC_ANA_PTP_FLOW_MATCH_LOWER(x)  (MSCC_ANA_PTP_FLOW_ENA(x) + 2)\n#define MSCC_ANA_PTP_FLOW_MASK_UPPER(x)\t  (MSCC_ANA_PTP_FLOW_ENA(x) + 3)\n#define MSCC_ANA_PTP_FLOW_MASK_LOWER(x)\t  (MSCC_ANA_PTP_FLOW_ENA(x) + 4)\n\n#define MSCC_ANA_PTP_FLOW_DOMAIN_RANGE(x) (MSCC_ANA_PTP_FLOW_ENA(x) + 5)\n#define PTP_FLOW_DOMAIN_RANGE_ENA\t   0x0001\n\n#define MSCC_ANA_PTP_FLOW_PTP_ACTION(x)\t  (MSCC_ANA_PTP_FLOW_ENA(x) + 6)\n#define PTP_FLOW_PTP_ACTION_MOD_FRAME_STATUS_UPDATE\t0x10000000\n#define PTP_FLOW_PTP_ACTION_MOD_FRAME_STATUS_BYTE_OFFSET_MASK\tGENMASK(26, 24)\n#define PTP_FLOW_PTP_ACTION_MOD_FRAME_STATUS_BYTE_OFFSET(x)\t(((x) << 24) & PTP_FLOW_PTP_ACTION_MOD_FRAME_STATUS_BYTE_OFFSET_MASK)\n#define PTP_FLOW_PTP_ACTION_PTP_CMD_MASK  GENMASK(3, 0)\n#define PTP_FLOW_PTP_ACTION_PTP_CMD(x)\t  ((x) & PTP_FLOW_PTP_ACTION_PTP_CMD_MASK)\n#define PTP_FLOW_PTP_ACTION_SUB_DELAY_ASYM\t0x00200000\n#define PTP_FLOW_PTP_ACTION_ADD_DELAY_ASYM\t0x00100000\n#define PTP_FLOW_PTP_ACTION_TIME_OFFSET_MASK\tGENMASK(15, 10)\n#define PTP_FLOW_PTP_ACTION_TIME_OFFSET(x)\t(((x) << 10) & PTP_FLOW_PTP_ACTION_TIME_OFFSET_MASK)\n#define PTP_FLOW_PTP_ACTION_CORR_OFFSET_MASK\tGENMASK(9, 5)\n#define PTP_FLOW_PTP_ACTION_CORR_OFFSET(x)\t(((x) << 5) & PTP_FLOW_PTP_ACTION_CORR_OFFSET_MASK)\n#define PTP_FLOW_PTP_ACTION_SAVE_LOCAL_TIME 0x00000010\n\n#define MSCC_ANA_PTP_FLOW_PTP_ACTION2(x)  (MSCC_ANA_PTP_FLOW_ENA(x) + 7)\n#define PTP_FLOW_PTP_ACTION2_REWRITE_OFFSET_MASK\tGENMASK(15, 8)\n#define PTP_FLOW_PTP_ACTION2_REWRITE_OFFSET(x)\t(((x) << 8) & PTP_FLOW_PTP_ACTION2_REWRITE_OFFSET_MASK)\n#define PTP_FLOW_PTP_ACTION2_REWRITE_BYTES_MASK\tGENMASK(3, 0)\n#define PTP_FLOW_PTP_ACTION2_REWRITE_BYTES(x)\t((x) & PTP_FLOW_PTP_ACTION2_REWRITE_BYTES_MASK)\n\n#define MSCC_ANA_PTP_FLOW_PTP_0_FIELD(x)  (MSCC_ANA_PTP_FLOW_ENA(x) + 8)\n#define PTP_FLOW_PTP_0_FIELD_PTP_FRAME\t  0x8000\n#define PTP_FLOW_PTP_0_FIELD_RSVRD_CHECK  0x4000\n#define PTP_FLOW_PTP_0_FIELD_OFFSET_MASK  GENMASK(13, 8)\n#define PTP_FLOW_PTP_0_FIELD_OFFSET(x)\t  (((x) << 8) & PTP_FLOW_PTP_0_FIELD_OFFSET_MASK)\n#define PTP_FLOW_PTP_0_FIELD_BYTES_MASK\t  GENMASK(3, 0)\n#define PTP_FLOW_PTP_0_FIELD_BYTES(x)\t  ((x) & PTP_FLOW_PTP_0_FIELD_BYTES_MASK)\n\n#define MSCC_ANA_PTP_IP_CHKSUM_SEL\t  0x0330\n#define ANA_PTP_IP_CHKSUM_SEL_IP_COMP_2   0x0001\n#define ANA_PTP_IP_CHKSUM_SEL_IP_COMP_1\t  0x0000\n\n#define MSCC_PHY_ANA_FSB_CFG\t\t  0x331\n#define ANA_FSB_ADDR_FROM_BLOCK_SEL_MASK  GENMASK(1, 0)\n#define ANA_FSB_ADDR_FROM_IP2\t\t  0x0003\n#define ANA_FSB_ADDR_FROM_IP1\t\t  0x0002\n#define ANA_FSB_ADDR_FROM_ETH2\t\t  0x0001\n#define ANA_FSB_ADDR_FROM_ETH1\t\t  0x0000\n\n#define MSCC_PHY_ANA_FSB_REG(x)\t\t  (0x332 + (x))\n\n#define COMP_MAX_FLOWS\t\t\t  8\n#define PTP_COMP_MAX_FLOWS\t\t  6\n\n#define PPS_WIDTH_ADJ\t\t\t  0x1dcd6500\n#define STALL_EGR_LATENCY(x)\t\t  (1536000 / (x))\n\n \nenum {\n\tPHC_CLK_125MHZ,\n\tPHC_CLK_156_25MHZ,\n\tPHC_CLK_200MHZ,\n\tPHC_CLK_250MHZ,\n\tPHC_CLK_500MHZ,\n};\n\nenum ptp_cmd {\n\tPTP_NOP = 0,\n\tPTP_WRITE_1588 = 5,\n\tPTP_WRITE_NS = 7,\n\tPTP_SAVE_IN_TS_FIFO = 11,  \n};\n\nstruct vsc85xx_ptphdr {\n\tu8 tsmt;  \n\tu8 ver;   \n\t__be16 msglen;\n\tu8 domain;\n\tu8 rsrvd1;\n\t__be16 flags;\n\t__be64 correction;\n\t__be32 rsrvd2;\n\t__be64 clk_identity;\n\t__be16 src_port_id;\n\t__be16 seq_id;\n\tu8 ctrl;\n\tu8 log_interval;\n} __attribute__((__packed__));\n\n \nstruct vsc85xx_ts_fifo {\n\tu32 ns;\n\tu64 secs:48;\n\tu8 sig[16];\n} __attribute__((__packed__));\n\nstruct vsc85xx_ptp {\n\tstruct phy_device *phydev;\n\tstruct ptp_clock *ptp_clock;\n\tstruct ptp_clock_info caps;\n\tstruct sk_buff_head tx_queue;\n\tenum hwtstamp_tx_types tx_type;\n\tenum hwtstamp_rx_filters rx_filter;\n\tu8 configured:1;\n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}