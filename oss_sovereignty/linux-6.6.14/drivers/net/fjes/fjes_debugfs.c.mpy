{
  "module_name": "fjes_debugfs.c",
  "hash_id": "b85808ea37ce05e120644e1083d92f06610be6f816a28a9d65992899359e68cc",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/fjes/fjes_debugfs.c",
  "human_readable_source": "\n \n\n \n\n#ifdef CONFIG_DEBUG_FS\n\n#include <linux/debugfs.h>\n#include <linux/seq_file.h>\n#include <linux/platform_device.h>\n\n#include \"fjes.h\"\n\nstatic struct dentry *fjes_debug_root;\n\nstatic const char * const ep_status_string[] = {\n\t\"unshared\",\n\t\"shared\",\n\t\"waiting\",\n\t\"complete\",\n};\n\nstatic int fjes_dbg_status_show(struct seq_file *m, void *v)\n{\n\tstruct fjes_adapter *adapter = m->private;\n\tstruct fjes_hw *hw = &adapter->hw;\n\tint max_epid = hw->max_epid;\n\tint my_epid = hw->my_epid;\n\tint epidx;\n\n\tseq_puts(m, \"EPID\\tSTATUS           SAME_ZONE        CONNECTED\\n\");\n\tfor (epidx = 0; epidx < max_epid; epidx++) {\n\t\tif (epidx == my_epid) {\n\t\t\tseq_printf(m, \"ep%d\\t%-16c %-16c %-16c\\n\",\n\t\t\t\t   epidx, '-', '-', '-');\n\t\t} else {\n\t\t\tseq_printf(m, \"ep%d\\t%-16s %-16c %-16c\\n\",\n\t\t\t\t   epidx,\n\t\t\t\t   ep_status_string[fjes_hw_get_partner_ep_status(hw, epidx)],\n\t\t\t\t   fjes_hw_epid_is_same_zone(hw, epidx) ? 'Y' : 'N',\n\t\t\t\t   fjes_hw_epid_is_shared(hw->hw_info.share, epidx) ? 'Y' : 'N');\n\t\t}\n\t}\n\n\treturn 0;\n}\nDEFINE_SHOW_ATTRIBUTE(fjes_dbg_status);\n\nvoid fjes_dbg_adapter_init(struct fjes_adapter *adapter)\n{\n\tconst char *name = dev_name(&adapter->plat_dev->dev);\n\n\tadapter->dbg_adapter = debugfs_create_dir(name, fjes_debug_root);\n\n\tdebugfs_create_file(\"status\", 0444, adapter->dbg_adapter, adapter,\n\t\t\t    &fjes_dbg_status_fops);\n}\n\nvoid fjes_dbg_adapter_exit(struct fjes_adapter *adapter)\n{\n\tdebugfs_remove_recursive(adapter->dbg_adapter);\n\tadapter->dbg_adapter = NULL;\n}\n\nvoid fjes_dbg_init(void)\n{\n\tfjes_debug_root = debugfs_create_dir(fjes_driver_name, NULL);\n}\n\nvoid fjes_dbg_exit(void)\n{\n\tdebugfs_remove_recursive(fjes_debug_root);\n\tfjes_debug_root = NULL;\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}