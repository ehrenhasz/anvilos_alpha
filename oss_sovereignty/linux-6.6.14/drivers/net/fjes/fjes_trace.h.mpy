{
  "module_name": "fjes_trace.h",
  "hash_id": "1e2f44bee511e0fad5460af8373b36b2039b59b3f704bd6b5d22728c52b8f14f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/net/fjes/fjes_trace.h",
  "human_readable_source": " \n \n\n#if !defined(FJES_TRACE_H_) || defined(TRACE_HEADER_MULTI_READ)\n#define FJES_TRACE_H_\n\n#include <linux/types.h>\n#include <linux/tracepoint.h>\n\n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM fjes\n\n \n\nTRACE_EVENT(fjes_hw_issue_request_command,\n\tTP_PROTO(union REG_CR *cr, union REG_CS *cs, int timeout,\n\t\t enum fjes_dev_command_response_e ret),\n\tTP_ARGS(cr, cs, timeout, ret),\n\tTP_STRUCT__entry(\n\t\t__field(u16, cr_req)\n\t\t__field(u8, cr_error)\n\t\t__field(u16, cr_err_info)\n\t\t__field(u8, cr_req_start)\n\t\t__field(u16, cs_req)\n\t\t__field(u8, cs_busy)\n\t\t__field(u8, cs_complete)\n\t\t__field(int, timeout)\n\t\t__field(int, ret)\n\t),\n\tTP_fast_assign(\n\t\t__entry->cr_req = cr->bits.req_code;\n\t\t__entry->cr_error = cr->bits.error;\n\t\t__entry->cr_err_info = cr->bits.err_info;\n\t\t__entry->cr_req_start = cr->bits.req_start;\n\t\t__entry->cs_req = cs->bits.req_code;\n\t\t__entry->cs_busy = cs->bits.busy;\n\t\t__entry->cs_complete = cs->bits.complete;\n\t\t__entry->timeout = timeout;\n\t\t__entry->ret = ret;\n\t),\n\tTP_printk(\"CR=[req=%04x, error=%u, err_info=%04x, req_start=%u], CS=[req=%04x, busy=%u, complete=%u], timeout=%d, ret=%d\",\n\t\t  __entry->cr_req, __entry->cr_error, __entry->cr_err_info,\n\t\t  __entry->cr_req_start, __entry->cs_req, __entry->cs_busy,\n\t\t  __entry->cs_complete, __entry->timeout, __entry->ret)\n);\n\nTRACE_EVENT(fjes_hw_request_info,\n\tTP_PROTO(struct fjes_hw *hw, union fjes_device_command_res *res_buf),\n\tTP_ARGS(hw, res_buf),\n\tTP_STRUCT__entry(\n\t\t__field(int, length)\n\t\t__field(int, code)\n\t\t__dynamic_array(u8, zone, hw->max_epid)\n\t\t__dynamic_array(u8, status, hw->max_epid)\n\t),\n\tTP_fast_assign(\n\t\tint x;\n\n\t\t__entry->length = res_buf->info.length;\n\t\t__entry->code = res_buf->info.code;\n\t\tfor (x = 0; x < hw->max_epid; x++) {\n\t\t\t*((u8 *)__get_dynamic_array(zone) + x) =\n\t\t\t\t\tres_buf->info.info[x].zone;\n\t\t\t*((u8 *)__get_dynamic_array(status) + x) =\n\t\t\t\t\tres_buf->info.info[x].es_status;\n\t\t}\n\t),\n\tTP_printk(\"res_buf=[length=%d, code=%d, es_zones=%s, es_status=%s]\",\n\t\t  __entry->length, __entry->code,\n\t\t  __print_array(__get_dynamic_array(zone),\n\t\t\t\t__get_dynamic_array_len(zone) / sizeof(u8),\n\t\t\t\tsizeof(u8)),\n\t\t  __print_array(__get_dynamic_array(status),\n\t\t\t\t__get_dynamic_array_len(status) / sizeof(u8),\n\t\t\t\tsizeof(u8)))\n);\n\nTRACE_EVENT(fjes_hw_request_info_err,\n\tTP_PROTO(char *err),\n\tTP_ARGS(err),\n\tTP_STRUCT__entry(\n\t\t__string(err, err)\n\t),\n\tTP_fast_assign(\n\t\t__assign_str(err, err);\n\t),\n\tTP_printk(\"%s\", __get_str(err))\n);\n\nTRACE_EVENT(fjes_hw_register_buff_addr_req,\n\tTP_PROTO(union fjes_device_command_req *req_buf,\n\t\t struct ep_share_mem_info *buf_pair),\n\tTP_ARGS(req_buf, buf_pair),\n\tTP_STRUCT__entry(\n\t\t__field(int, length)\n\t\t__field(int, epid)\n\t\t__field(u64, tx)\n\t\t__field(size_t,\ttx_size)\n\t\t__field(u64, rx)\n\t\t__field(size_t,\trx_size)\n\t),\n\tTP_fast_assign(\n\t\tvoid *tx, *rx;\n\n\t\ttx = (void *)buf_pair->tx.buffer;\n\t\trx = (void *)buf_pair->rx.buffer;\n\t\t__entry->length = req_buf->share_buffer.length;\n\t\t__entry->epid = req_buf->share_buffer.epid;\n\t\t__entry->tx_size = buf_pair->tx.size;\n\t\t__entry->rx_size = buf_pair->rx.size;\n\t\t__entry->tx = page_to_phys(vmalloc_to_page(tx)) +\n\t\t\t\toffset_in_page(tx);\n\t\t__entry->rx = page_to_phys(vmalloc_to_page(rx)) +\n\t\t\t\toffset_in_page(rx);\n\t),\n\tTP_printk(\"req_buf=[length=%d, epid=%d], TX=[phy=0x%016llx, size=%zu], RX=[phy=0x%016llx, size=%zu]\",\n\t\t  __entry->length, __entry->epid, __entry->tx, __entry->tx_size,\n\t\t  __entry->rx, __entry->rx_size)\n);\n\nTRACE_EVENT(fjes_hw_register_buff_addr,\n\tTP_PROTO(union fjes_device_command_res *res_buf, int timeout),\n\tTP_ARGS(res_buf, timeout),\n\tTP_STRUCT__entry(\n\t\t__field(int, length)\n\t\t__field(int, code)\n\t\t__field(int, timeout)\n\t),\n\tTP_fast_assign(\n\t\t__entry->length = res_buf->share_buffer.length;\n\t\t__entry->code = res_buf->share_buffer.code;\n\t\t__entry->timeout = timeout;\n\t),\n\tTP_printk(\"res_buf=[length=%d, code=%d], timeout=%d\",\n\t\t  __entry->length, __entry->code, __entry->timeout)\n);\n\nTRACE_EVENT(fjes_hw_register_buff_addr_err,\n\tTP_PROTO(char *err),\n\tTP_ARGS(err),\n\tTP_STRUCT__entry(\n\t\t__string(err, err)\n\t),\n\tTP_fast_assign(\n\t\t__assign_str(err, err);\n\t),\n\tTP_printk(\"%s\", __get_str(err))\n);\n\nTRACE_EVENT(fjes_hw_unregister_buff_addr_req,\n\tTP_PROTO(union fjes_device_command_req *req_buf),\n\tTP_ARGS(req_buf),\n\tTP_STRUCT__entry(\n\t\t__field(int, length)\n\t\t__field(int, epid)\n\t),\n\tTP_fast_assign(\n\t\t__entry->length = req_buf->unshare_buffer.length;\n\t\t__entry->epid = req_buf->unshare_buffer.epid;\n\t),\n\tTP_printk(\"req_buf=[length=%d, epid=%d]\",\n\t\t  __entry->length, __entry->epid)\n);\n\nTRACE_EVENT(fjes_hw_unregister_buff_addr,\n\tTP_PROTO(union fjes_device_command_res *res_buf, int timeout),\n\tTP_ARGS(res_buf, timeout),\n\tTP_STRUCT__entry(\n\t\t__field(int, length)\n\t\t__field(int, code)\n\t\t__field(int, timeout)\n\t),\n\tTP_fast_assign(\n\t\t__entry->length = res_buf->unshare_buffer.length;\n\t\t__entry->code = res_buf->unshare_buffer.code;\n\t\t__entry->timeout = timeout;\n\t),\n\tTP_printk(\"res_buf=[length=%d, code=%d], timeout=%d\",\n\t\t  __entry->length, __entry->code, __entry->timeout)\n);\n\nTRACE_EVENT(fjes_hw_unregister_buff_addr_err,\n\tTP_PROTO(char *err),\n\tTP_ARGS(err),\n\tTP_STRUCT__entry(\n\t\t__string(err, err)\n\t),\n\tTP_fast_assign(\n\t\t__assign_str(err, err);\n\t),\n\tTP_printk(\"%s\", __get_str(err))\n);\n\nTRACE_EVENT(fjes_hw_start_debug_req,\n\tTP_PROTO(union fjes_device_command_req *req_buf),\n\tTP_ARGS(req_buf),\n\tTP_STRUCT__entry(\n\t\t__field(int, length)\n\t\t__field(int, mode)\n\t\t__field(phys_addr_t, buffer)\n\t),\n\tTP_fast_assign(\n\t\t__entry->length = req_buf->start_trace.length;\n\t\t__entry->mode = req_buf->start_trace.mode;\n\t\t__entry->buffer = req_buf->start_trace.buffer[0];\n\t),\n\tTP_printk(\"req_buf=[length=%d, mode=%d, buffer=%pap]\",\n\t\t  __entry->length, __entry->mode, &__entry->buffer)\n);\n\nTRACE_EVENT(fjes_hw_start_debug,\n\tTP_PROTO(union fjes_device_command_res *res_buf),\n\tTP_ARGS(res_buf),\n\tTP_STRUCT__entry(\n\t\t__field(int, length)\n\t\t__field(int, code)\n\t),\n\tTP_fast_assign(\n\t\t__entry->length = res_buf->start_trace.length;\n\t\t__entry->code = res_buf->start_trace.code;\n\t),\n\tTP_printk(\"res_buf=[length=%d, code=%d]\", __entry->length, __entry->code)\n);\n\nTRACE_EVENT(fjes_hw_start_debug_err,\n\tTP_PROTO(char *err),\n\tTP_ARGS(err),\n\tTP_STRUCT__entry(\n\t\t __string(err, err)\n\t),\n\tTP_fast_assign(\n\t\t__assign_str(err, err);\n\t),\n\tTP_printk(\"%s\", __get_str(err))\n);\n\nTRACE_EVENT(fjes_hw_stop_debug,\n\tTP_PROTO(union fjes_device_command_res *res_buf),\n\tTP_ARGS(res_buf),\n\tTP_STRUCT__entry(\n\t\t__field(int, length)\n\t\t__field(int, code)\n\t),\n\tTP_fast_assign(\n\t\t__entry->length = res_buf->stop_trace.length;\n\t\t__entry->code = res_buf->stop_trace.code;\n\t),\n\tTP_printk(\"res_buf=[length=%d, code=%d]\", __entry->length, __entry->code)\n);\n\nTRACE_EVENT(fjes_hw_stop_debug_err,\n\tTP_PROTO(char *err),\n\tTP_ARGS(err),\n\tTP_STRUCT__entry(\n\t\t __string(err, err)\n\t),\n\tTP_fast_assign(\n\t\t__assign_str(err, err);\n\t),\n\tTP_printk(\"%s\", __get_str(err))\n);\n\n \n\nTRACE_EVENT(fjes_txrx_stop_req_irq_pre,\n\tTP_PROTO(struct fjes_hw *hw, int src_epid,\n\t\t enum ep_partner_status status),\n\tTP_ARGS(hw, src_epid, status),\n\tTP_STRUCT__entry(\n\t\t__field(int, src_epid)\n\t\t__field(enum ep_partner_status, status)\n\t\t__field(u8, ep_status)\n\t\t__field(unsigned long, txrx_stop_req_bit)\n\t\t__field(u16, rx_status)\n\t),\n\tTP_fast_assign(\n\t\t__entry->src_epid = src_epid;\n\t\t__entry->status = status;\n\t\t__entry->ep_status = hw->hw_info.share->ep_status[src_epid];\n\t\t__entry->txrx_stop_req_bit = hw->txrx_stop_req_bit;\n\t\t__entry->rx_status =\n\t\t\thw->ep_shm_info[src_epid].tx.info->v1i.rx_status;\n\t),\n\tTP_printk(\"epid=%d, partner_status=%d, ep_status=%x, txrx_stop_req_bit=%016lx, tx.rx_status=%08x\",\n\t\t  __entry->src_epid, __entry->status, __entry->ep_status,\n\t\t  __entry->txrx_stop_req_bit, __entry->rx_status)\n);\n\nTRACE_EVENT(fjes_txrx_stop_req_irq_post,\n\tTP_PROTO(struct fjes_hw *hw, int src_epid),\n\tTP_ARGS(hw, src_epid),\n\tTP_STRUCT__entry(\n\t\t__field(int, src_epid)\n\t\t__field(u8, ep_status)\n\t\t__field(unsigned long, txrx_stop_req_bit)\n\t\t__field(u16, rx_status)\n\t),\n\tTP_fast_assign(\n\t\t__entry->src_epid = src_epid;\n\t\t__entry->ep_status = hw->hw_info.share->ep_status[src_epid];\n\t\t__entry->txrx_stop_req_bit = hw->txrx_stop_req_bit;\n\t\t__entry->rx_status = hw->ep_shm_info[src_epid].tx.info->v1i.rx_status;\n\t),\n\tTP_printk(\"epid=%d, ep_status=%x, txrx_stop_req_bit=%016lx, tx.rx_status=%08x\",\n\t\t  __entry->src_epid, __entry->ep_status,\n\t\t  __entry->txrx_stop_req_bit, __entry->rx_status)\n);\n\nTRACE_EVENT(fjes_stop_req_irq_pre,\n\tTP_PROTO(struct fjes_hw *hw, int src_epid,\n\t\t enum ep_partner_status status),\n\tTP_ARGS(hw, src_epid, status),\n\tTP_STRUCT__entry(\n\t\t__field(int, src_epid)\n\t\t__field(enum ep_partner_status, status)\n\t\t__field(u8, ep_status)\n\t\t__field(unsigned long, txrx_stop_req_bit)\n\t\t__field(u16, rx_status)\n\t),\n\tTP_fast_assign(\n\t\t__entry->src_epid = src_epid;\n\t\t__entry->status = status;\n\t\t__entry->ep_status = hw->hw_info.share->ep_status[src_epid];\n\t\t__entry->txrx_stop_req_bit = hw->txrx_stop_req_bit;\n\t\t__entry->rx_status =\n\t\t\thw->ep_shm_info[src_epid].tx.info->v1i.rx_status;\n\t),\n\tTP_printk(\"epid=%d, partner_status=%d, ep_status=%x, txrx_stop_req_bit=%016lx, tx.rx_status=%08x\",\n\t\t  __entry->src_epid, __entry->status, __entry->ep_status,\n\t\t  __entry->txrx_stop_req_bit, __entry->rx_status)\n);\n\nTRACE_EVENT(fjes_stop_req_irq_post,\n\tTP_PROTO(struct fjes_hw *hw, int src_epid),\n\tTP_ARGS(hw, src_epid),\n\tTP_STRUCT__entry(\n\t\t__field(int, src_epid)\n\t\t__field(u8, ep_status)\n\t\t__field(unsigned long, txrx_stop_req_bit)\n\t\t__field(u16, rx_status)\n\t),\n\tTP_fast_assign(\n\t\t__entry->src_epid = src_epid;\n\t\t__entry->ep_status = hw->hw_info.share->ep_status[src_epid];\n\t\t__entry->txrx_stop_req_bit = hw->txrx_stop_req_bit;\n\t\t__entry->rx_status =\n\t\t\thw->ep_shm_info[src_epid].tx.info->v1i.rx_status;\n\t),\n\tTP_printk(\"epid=%d, ep_status=%x, txrx_stop_req_bit=%016lx, tx.rx_status=%08x\",\n\t\t  __entry->src_epid, __entry->ep_status,\n\t\t  __entry->txrx_stop_req_bit, __entry->rx_status)\n);\n\n#endif  \n\n#undef TRACE_INCLUDE_PATH\n#undef TRACE_INCLUDE_FILE\n#define TRACE_INCLUDE_PATH ../../../drivers/net/fjes\n#define TRACE_INCLUDE_FILE fjes_trace\n\n \n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}