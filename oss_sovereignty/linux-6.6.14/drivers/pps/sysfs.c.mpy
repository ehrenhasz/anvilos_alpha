{
  "module_name": "sysfs.c",
  "hash_id": "26908a7bdf9c2e52aaa2c8294035f6baea27e391d0a3ede72bc33359706f6d1b",
  "original_prompt": "Ingested from linux-6.6.14/drivers/pps/sysfs.c",
  "human_readable_source": "\n \n\n\n#include <linux/device.h>\n#include <linux/module.h>\n#include <linux/string.h>\n#include <linux/pps_kernel.h>\n\n \n\nstatic ssize_t assert_show(struct device *dev, struct device_attribute *attr,\n\t\t\t   char *buf)\n{\n\tstruct pps_device *pps = dev_get_drvdata(dev);\n\n\tif (!(pps->info.mode & PPS_CAPTUREASSERT))\n\t\treturn 0;\n\n\treturn sprintf(buf, \"%lld.%09d#%d\\n\",\n\t\t\t(long long) pps->assert_tu.sec, pps->assert_tu.nsec,\n\t\t\tpps->assert_sequence);\n}\nstatic DEVICE_ATTR_RO(assert);\n\nstatic ssize_t clear_show(struct device *dev, struct device_attribute *attr,\n\t\t\t  char *buf)\n{\n\tstruct pps_device *pps = dev_get_drvdata(dev);\n\n\tif (!(pps->info.mode & PPS_CAPTURECLEAR))\n\t\treturn 0;\n\n\treturn sprintf(buf, \"%lld.%09d#%d\\n\",\n\t\t\t(long long) pps->clear_tu.sec, pps->clear_tu.nsec,\n\t\t\tpps->clear_sequence);\n}\nstatic DEVICE_ATTR_RO(clear);\n\nstatic ssize_t mode_show(struct device *dev, struct device_attribute *attr,\n\t\t\t char *buf)\n{\n\tstruct pps_device *pps = dev_get_drvdata(dev);\n\n\treturn sprintf(buf, \"%4x\\n\", pps->info.mode);\n}\nstatic DEVICE_ATTR_RO(mode);\n\nstatic ssize_t echo_show(struct device *dev, struct device_attribute *attr,\n\t\t\t char *buf)\n{\n\tstruct pps_device *pps = dev_get_drvdata(dev);\n\n\treturn sprintf(buf, \"%d\\n\", !!pps->info.echo);\n}\nstatic DEVICE_ATTR_RO(echo);\n\nstatic ssize_t name_show(struct device *dev, struct device_attribute *attr,\n\t\t\t char *buf)\n{\n\tstruct pps_device *pps = dev_get_drvdata(dev);\n\n\treturn sprintf(buf, \"%s\\n\", pps->info.name);\n}\nstatic DEVICE_ATTR_RO(name);\n\nstatic ssize_t path_show(struct device *dev, struct device_attribute *attr,\n\t\t\t char *buf)\n{\n\tstruct pps_device *pps = dev_get_drvdata(dev);\n\n\treturn sprintf(buf, \"%s\\n\", pps->info.path);\n}\nstatic DEVICE_ATTR_RO(path);\n\nstatic struct attribute *pps_attrs[] = {\n\t&dev_attr_assert.attr,\n\t&dev_attr_clear.attr,\n\t&dev_attr_mode.attr,\n\t&dev_attr_echo.attr,\n\t&dev_attr_name.attr,\n\t&dev_attr_path.attr,\n\tNULL,\n};\n\nstatic const struct attribute_group pps_group = {\n\t.attrs = pps_attrs,\n};\n\nconst struct attribute_group *pps_groups[] = {\n\t&pps_group,\n\tNULL,\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}