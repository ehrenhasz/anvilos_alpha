{
  "module_name": "ni_pcimio.c",
  "hash_id": "ef05587ce693f566605e2c087259eec8d955f554ff11e48b7790acd7d3765ebf",
  "original_prompt": "Ingested from linux-6.6.14/drivers/comedi/drivers/ni_pcimio.c",
  "human_readable_source": "\n \n\n \n\n \n\n#include <linux/module.h>\n#include <linux/delay.h>\n#include <linux/comedi/comedi_pci.h>\n#include <asm/byteorder.h>\n\n#include \"ni_stc.h\"\n#include \"mite.h\"\n\n#define PCIDMA\n\n \nstatic const struct comedi_lrange range_ni_M_628x_ao = {\n\t8, {\n\t\tBIP_RANGE(10),\n\t\tBIP_RANGE(5),\n\t\tBIP_RANGE(2),\n\t\tBIP_RANGE(1),\n\t\tRANGE(-5, 15),\n\t\tUNI_RANGE(10),\n\t\tRANGE(3, 7),\n\t\tRANGE(4, 6),\n\t\tRANGE_ext(-1, 1)\n\t}\n};\n\nstatic const struct comedi_lrange range_ni_M_625x_ao = {\n\t3, {\n\t\tBIP_RANGE(10),\n\t\tBIP_RANGE(5),\n\t\tRANGE_ext(-1, 1)\n\t}\n};\n\nenum ni_pcimio_boardid {\n\tBOARD_PCIMIO_16XE_50,\n\tBOARD_PCIMIO_16XE_10,\n\tBOARD_PCI6014,\n\tBOARD_PXI6030E,\n\tBOARD_PCIMIO_16E_1,\n\tBOARD_PCIMIO_16E_4,\n\tBOARD_PXI6040E,\n\tBOARD_PCI6031E,\n\tBOARD_PCI6032E,\n\tBOARD_PCI6033E,\n\tBOARD_PCI6071E,\n\tBOARD_PCI6023E,\n\tBOARD_PCI6024E,\n\tBOARD_PCI6025E,\n\tBOARD_PXI6025E,\n\tBOARD_PCI6034E,\n\tBOARD_PCI6035E,\n\tBOARD_PCI6052E,\n\tBOARD_PCI6110,\n\tBOARD_PCI6111,\n\t \n\t \n\tBOARD_PCI6711,\n\tBOARD_PXI6711,\n\tBOARD_PCI6713,\n\tBOARD_PXI6713,\n\tBOARD_PCI6731,\n\t \n\tBOARD_PCI6733,\n\tBOARD_PXI6733,\n\tBOARD_PXI6071E,\n\tBOARD_PXI6070E,\n\tBOARD_PXI6052E,\n\tBOARD_PXI6031E,\n\tBOARD_PCI6036E,\n\tBOARD_PCI6220,\n\tBOARD_PXI6220,\n\tBOARD_PCI6221,\n\tBOARD_PCI6221_37PIN,\n\tBOARD_PXI6221,\n\tBOARD_PCI6224,\n\tBOARD_PXI6224,\n\tBOARD_PCI6225,\n\tBOARD_PXI6225,\n\tBOARD_PCI6229,\n\tBOARD_PXI6229,\n\tBOARD_PCI6250,\n\tBOARD_PXI6250,\n\tBOARD_PCI6251,\n\tBOARD_PXI6251,\n\tBOARD_PCIE6251,\n\tBOARD_PXIE6251,\n\tBOARD_PCI6254,\n\tBOARD_PXI6254,\n\tBOARD_PCI6259,\n\tBOARD_PXI6259,\n\tBOARD_PCIE6259,\n\tBOARD_PXIE6259,\n\tBOARD_PCI6280,\n\tBOARD_PXI6280,\n\tBOARD_PCI6281,\n\tBOARD_PXI6281,\n\tBOARD_PCI6284,\n\tBOARD_PXI6284,\n\tBOARD_PCI6289,\n\tBOARD_PXI6289,\n\tBOARD_PCI6143,\n\tBOARD_PXI6143,\n};\n\nstatic const struct ni_board_struct ni_boards[] = {\n\t[BOARD_PCIMIO_16XE_50] = {\n\t\t.name\t\t= \"pci-mio-16xe-50\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 2048,\n\t\t.alwaysdither\t= 1,\n\t\t.gainlkup\t= ai_gain_8,\n\t\t.ai_speed\t= 50000,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0x0fff,\n\t\t.ao_range_table\t= &range_bipolar10,\n\t\t.ao_speed\t= 50000,\n\t\t.caldac\t\t= { dac8800, dac8043 },\n\t},\n\t[BOARD_PCIMIO_16XE_10] = {\n\t\t.name\t\t= \"pci-mio-16xe-10\",\t \n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 512,\n\t\t.alwaysdither\t= 1,\n\t\t.gainlkup\t= ai_gain_14,\n\t\t.ai_speed\t= 10000,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 2048,\n\t\t.ao_range_table\t= &range_ni_E_ao_ext,\n\t\t.ao_speed\t= 10000,\n\t\t.caldac\t\t= { dac8800, dac8043, ad8522 },\n\t},\n\t[BOARD_PCI6014] = {\n\t\t.name\t\t= \"pci-6014\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 512,\n\t\t.alwaysdither\t= 1,\n\t\t.gainlkup\t= ai_gain_4,\n\t\t.ai_speed\t= 5000,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_range_table\t= &range_bipolar10,\n\t\t.ao_speed\t= 100000,\n\t\t.caldac\t\t= { ad8804_debug },\n\t},\n\t[BOARD_PXI6030E] = {\n\t\t.name\t\t= \"pxi-6030e\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 512,\n\t\t.alwaysdither\t= 1,\n\t\t.gainlkup\t= ai_gain_14,\n\t\t.ai_speed\t= 10000,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 2048,\n\t\t.ao_range_table\t= &range_ni_E_ao_ext,\n\t\t.ao_speed\t= 10000,\n\t\t.caldac\t\t= { dac8800, dac8043, ad8522 },\n\t},\n\t[BOARD_PCIMIO_16E_1] = {\n\t\t.name\t\t= \"pci-mio-16e-1\",\t \n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0x0fff,\n\t\t.ai_fifo_depth\t= 512,\n\t\t.gainlkup\t= ai_gain_16,\n\t\t.ai_speed\t= 800,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0x0fff,\n\t\t.ao_fifo_depth\t= 2048,\n\t\t.ao_range_table\t= &range_ni_E_ao_ext,\n\t\t.ao_speed\t= 1000,\n\t\t.caldac\t\t= { mb88341 },\n\t},\n\t[BOARD_PCIMIO_16E_4] = {\n\t\t.name\t\t= \"pci-mio-16e-4\",\t \n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0x0fff,\n\t\t.ai_fifo_depth\t= 512,\n\t\t.gainlkup\t= ai_gain_16,\n\t\t \n\t\t.ai_speed\t= 2000,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0x0fff,\n\t\t.ao_fifo_depth\t= 512,\n\t\t.ao_range_table\t= &range_ni_E_ao_ext,\n\t\t.ao_speed\t= 1000,\n\t\t.caldac\t\t= { ad8804_debug },\t \n\t},\n\t[BOARD_PXI6040E] = {\n\t\t.name\t\t= \"pxi-6040e\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0x0fff,\n\t\t.ai_fifo_depth\t= 512,\n\t\t.gainlkup\t= ai_gain_16,\n\t\t.ai_speed\t= 2000,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0x0fff,\n\t\t.ao_fifo_depth\t= 512,\n\t\t.ao_range_table\t= &range_ni_E_ao_ext,\n\t\t.ao_speed\t= 1000,\n\t\t.caldac\t\t= { mb88341 },\n\t},\n\t[BOARD_PCI6031E] = {\n\t\t.name\t\t= \"pci-6031e\",\n\t\t.n_adchan\t= 64,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 512,\n\t\t.alwaysdither\t= 1,\n\t\t.gainlkup\t= ai_gain_14,\n\t\t.ai_speed\t= 10000,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 2048,\n\t\t.ao_range_table\t= &range_ni_E_ao_ext,\n\t\t.ao_speed\t= 10000,\n\t\t.caldac\t\t= { dac8800, dac8043, ad8522 },\n\t},\n\t[BOARD_PCI6032E] = {\n\t\t.name\t\t= \"pci-6032e\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 512,\n\t\t.alwaysdither\t= 1,\n\t\t.gainlkup\t= ai_gain_14,\n\t\t.ai_speed\t= 10000,\n\t\t.caldac\t\t= { dac8800, dac8043, ad8522 },\n\t},\n\t[BOARD_PCI6033E] = {\n\t\t.name\t\t= \"pci-6033e\",\n\t\t.n_adchan\t= 64,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 512,\n\t\t.alwaysdither\t= 1,\n\t\t.gainlkup\t= ai_gain_14,\n\t\t.ai_speed\t= 10000,\n\t\t.caldac\t\t= { dac8800, dac8043, ad8522 },\n\t},\n\t[BOARD_PCI6071E] = {\n\t\t.name\t\t= \"pci-6071e\",\n\t\t.n_adchan\t= 64,\n\t\t.ai_maxdata\t= 0x0fff,\n\t\t.ai_fifo_depth\t= 512,\n\t\t.alwaysdither\t= 1,\n\t\t.gainlkup\t= ai_gain_16,\n\t\t.ai_speed\t= 800,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0x0fff,\n\t\t.ao_fifo_depth\t= 2048,\n\t\t.ao_range_table\t= &range_ni_E_ao_ext,\n\t\t.ao_speed\t= 1000,\n\t\t.caldac\t\t= { ad8804_debug },\n\t},\n\t[BOARD_PCI6023E] = {\n\t\t.name\t\t= \"pci-6023e\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0x0fff,\n\t\t.ai_fifo_depth\t= 512,\n\t\t.gainlkup\t= ai_gain_4,\n\t\t.ai_speed\t= 5000,\n\t\t.caldac\t\t= { ad8804_debug },\t \n\t},\n\t[BOARD_PCI6024E] = {\n\t\t.name\t\t= \"pci-6024e\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0x0fff,\n\t\t.ai_fifo_depth\t= 512,\n\t\t.gainlkup\t= ai_gain_4,\n\t\t.ai_speed\t= 5000,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0x0fff,\n\t\t.ao_range_table\t= &range_bipolar10,\n\t\t.ao_speed\t= 100000,\n\t\t.caldac\t\t= { ad8804_debug },\t \n\t},\n\t[BOARD_PCI6025E] = {\n\t\t.name\t\t= \"pci-6025e\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0x0fff,\n\t\t.ai_fifo_depth\t= 512,\n\t\t.gainlkup\t= ai_gain_4,\n\t\t.ai_speed\t= 5000,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0x0fff,\n\t\t.ao_range_table\t= &range_bipolar10,\n\t\t.ao_speed\t= 100000,\n\t\t.caldac\t\t= { ad8804_debug },\t \n\t\t.has_8255\t= 1,\n\t},\n\t[BOARD_PXI6025E] = {\n\t\t.name\t\t= \"pxi-6025e\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0x0fff,\n\t\t.ai_fifo_depth\t= 512,\n\t\t.gainlkup\t= ai_gain_4,\n\t\t.ai_speed\t= 5000,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0x0fff,\n\t\t.ao_range_table\t= &range_ni_E_ao_ext,\n\t\t.ao_speed\t= 100000,\n\t\t.caldac\t\t= { ad8804_debug },\t \n\t\t.has_8255\t= 1,\n\t},\n\t[BOARD_PCI6034E] = {\n\t\t.name\t\t= \"pci-6034e\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 512,\n\t\t.alwaysdither\t= 1,\n\t\t.gainlkup\t= ai_gain_4,\n\t\t.ai_speed\t= 5000,\n\t\t.caldac\t\t= { ad8804_debug },\n\t},\n\t[BOARD_PCI6035E] = {\n\t\t.name\t\t= \"pci-6035e\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 512,\n\t\t.alwaysdither\t= 1,\n\t\t.gainlkup\t= ai_gain_4,\n\t\t.ai_speed\t= 5000,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0x0fff,\n\t\t.ao_range_table\t= &range_bipolar10,\n\t\t.ao_speed\t= 100000,\n\t\t.caldac\t\t= { ad8804_debug },\n\t},\n\t[BOARD_PCI6052E] = {\n\t\t.name\t\t= \"pci-6052e\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 512,\n\t\t.alwaysdither\t= 1,\n\t\t.gainlkup\t= ai_gain_16,\n\t\t.ai_speed\t= 3000,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 2048,\n\t\t.ao_range_table\t= &range_ni_E_ao_ext,\n\t\t.ao_speed\t= 3000,\n\t\t \n\t\t.caldac\t\t= { ad8804_debug, ad8804_debug, ad8522 },\n\t},\n\t[BOARD_PCI6110] = {\n\t\t.name\t\t= \"pci-6110\",\n\t\t.n_adchan\t= 4,\n\t\t.ai_maxdata\t= 0x0fff,\n\t\t.ai_fifo_depth\t= 8192,\n\t\t.alwaysdither\t= 0,\n\t\t.gainlkup\t= ai_gain_611x,\n\t\t.ai_speed\t= 200,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.reg_type\t= ni_reg_611x,\n\t\t.ao_range_table\t= &range_bipolar10,\n\t\t.ao_fifo_depth\t= 2048,\n\t\t.ao_speed\t= 250,\n\t\t.caldac\t\t= { ad8804, ad8804 },\n\t},\n\t[BOARD_PCI6111] = {\n\t\t.name\t\t= \"pci-6111\",\n\t\t.n_adchan\t= 2,\n\t\t.ai_maxdata\t= 0x0fff,\n\t\t.ai_fifo_depth\t= 8192,\n\t\t.gainlkup\t= ai_gain_611x,\n\t\t.ai_speed\t= 200,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.reg_type\t= ni_reg_611x,\n\t\t.ao_range_table\t= &range_bipolar10,\n\t\t.ao_fifo_depth\t= 2048,\n\t\t.ao_speed\t= 250,\n\t\t.caldac\t\t= { ad8804, ad8804 },\n\t},\n#if 0\n\t \n\t[BOARD_PCI6115] = {\t \n\t\t.name\t\t= \"pci-6115\",\n\t\t.n_adchan\t= 4,\n\t\t.ai_maxdata\t= 0x0fff,\n\t\t.ai_fifo_depth\t= 8192,\n\t\t.gainlkup\t= ai_gain_611x,\n\t\t.ai_speed\t= 100,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_671x\t= 1,\n\t\t.ao_fifo_depth\t= 2048,\n\t\t.ao_speed\t= 250,\n\t\t.reg_611x\t= 1,\n\t\t \n\t\t.caldac\t\t= { ad8804_debug, ad8804_debug, ad8804_debug },\n\t},\n#endif\n#if 0\n\t[BOARD_PXI6115] = {\t \n\t\t.name\t\t= \"pxi-6115\",\n\t\t.n_adchan\t= 4,\n\t\t.ai_maxdata\t= 0x0fff,\n\t\t.ai_fifo_depth\t= 8192,\n\t\t.gainlkup\t= ai_gain_611x,\n\t\t.ai_speed\t= 100,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_671x\t= 1,\n\t\t.ao_fifo_depth\t= 2048,\n\t\t.ao_speed\t= 250,\n\t\t.reg_611x\t= 1,\n\t\t \n\t\t.caldac\t\t= { ad8804_debug, ad8804_debug, ad8804_debug },\n\t},\n#endif\n\t[BOARD_PCI6711] = {\n\t\t.name = \"pci-6711\",\n\t\t.n_aochan\t= 4,\n\t\t.ao_maxdata\t= 0x0fff,\n\t\t \n\t\t.ao_fifo_depth\t= 16384,\n\t\t.ao_range_table\t= &range_bipolar10,\n\t\t.ao_speed\t= 1000,\n\t\t.reg_type\t= ni_reg_6711,\n\t\t.caldac\t\t= { ad8804_debug },\n\t},\n\t[BOARD_PXI6711] = {\n\t\t.name\t\t= \"pxi-6711\",\n\t\t.n_aochan\t= 4,\n\t\t.ao_maxdata\t= 0x0fff,\n\t\t.ao_fifo_depth\t= 16384,\n\t\t.ao_range_table\t= &range_bipolar10,\n\t\t.ao_speed\t= 1000,\n\t\t.reg_type\t= ni_reg_6711,\n\t\t.caldac\t\t= { ad8804_debug },\n\t},\n\t[BOARD_PCI6713] = {\n\t\t.name\t\t= \"pci-6713\",\n\t\t.n_aochan\t= 8,\n\t\t.ao_maxdata\t= 0x0fff,\n\t\t.ao_fifo_depth\t= 16384,\n\t\t.ao_range_table\t= &range_bipolar10,\n\t\t.ao_speed\t= 1000,\n\t\t.reg_type\t= ni_reg_6713,\n\t\t.caldac\t\t= { ad8804_debug, ad8804_debug },\n\t},\n\t[BOARD_PXI6713] = {\n\t\t.name\t\t= \"pxi-6713\",\n\t\t.n_aochan\t= 8,\n\t\t.ao_maxdata\t= 0x0fff,\n\t\t.ao_fifo_depth\t= 16384,\n\t\t.ao_range_table\t= &range_bipolar10,\n\t\t.ao_speed\t= 1000,\n\t\t.reg_type\t= ni_reg_6713,\n\t\t.caldac\t\t= { ad8804_debug, ad8804_debug },\n\t},\n\t[BOARD_PCI6731] = {\n\t\t.name\t\t= \"pci-6731\",\n\t\t.n_aochan\t= 4,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 8192,\n\t\t.ao_range_table\t= &range_bipolar10,\n\t\t.ao_speed\t= 1000,\n\t\t.reg_type\t= ni_reg_6711,\n\t\t.caldac\t\t= { ad8804_debug },\n\t},\n#if 0\n\t[BOARD_PXI6731] = {\t \n\t\t.name\t\t= \"pxi-6731\",\n\t\t.n_aochan\t= 4,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 8192,\n\t\t.ao_range_table\t= &range_bipolar10,\n\t\t.reg_type\t= ni_reg_6711,\n\t\t.caldac\t\t= { ad8804_debug },\n\t},\n#endif\n\t[BOARD_PCI6733] = {\n\t\t.name\t\t= \"pci-6733\",\n\t\t.n_aochan\t= 8,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 16384,\n\t\t.ao_range_table\t= &range_bipolar10,\n\t\t.ao_speed\t= 1000,\n\t\t.reg_type\t= ni_reg_6713,\n\t\t.caldac\t\t= { ad8804_debug, ad8804_debug },\n\t},\n\t[BOARD_PXI6733] = {\n\t\t.name\t\t= \"pxi-6733\",\n\t\t.n_aochan\t= 8,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 16384,\n\t\t.ao_range_table\t= &range_bipolar10,\n\t\t.ao_speed\t= 1000,\n\t\t.reg_type\t= ni_reg_6713,\n\t\t.caldac\t\t= { ad8804_debug, ad8804_debug },\n\t},\n\t[BOARD_PXI6071E] = {\n\t\t.name\t\t= \"pxi-6071e\",\n\t\t.n_adchan\t= 64,\n\t\t.ai_maxdata\t= 0x0fff,\n\t\t.ai_fifo_depth\t= 512,\n\t\t.alwaysdither\t= 1,\n\t\t.gainlkup\t= ai_gain_16,\n\t\t.ai_speed\t= 800,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0x0fff,\n\t\t.ao_fifo_depth\t= 2048,\n\t\t.ao_range_table\t= &range_ni_E_ao_ext,\n\t\t.ao_speed\t= 1000,\n\t\t.caldac\t\t= { ad8804_debug },\n\t},\n\t[BOARD_PXI6070E] = {\n\t\t.name\t\t= \"pxi-6070e\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0x0fff,\n\t\t.ai_fifo_depth\t= 512,\n\t\t.alwaysdither\t= 1,\n\t\t.gainlkup\t= ai_gain_16,\n\t\t.ai_speed\t= 800,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0x0fff,\n\t\t.ao_fifo_depth\t= 2048,\n\t\t.ao_range_table\t= &range_ni_E_ao_ext,\n\t\t.ao_speed\t= 1000,\n\t\t.caldac\t\t= { ad8804_debug },\n\t},\n\t[BOARD_PXI6052E] = {\n\t\t.name\t\t= \"pxi-6052e\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 512,\n\t\t.alwaysdither\t= 1,\n\t\t.gainlkup\t= ai_gain_16,\n\t\t.ai_speed\t= 3000,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 2048,\n\t\t.ao_range_table\t= &range_ni_E_ao_ext,\n\t\t.ao_speed\t= 3000,\n\t\t.caldac\t\t= { mb88341, mb88341, ad8522 },\n\t},\n\t[BOARD_PXI6031E] = {\n\t\t.name\t\t= \"pxi-6031e\",\n\t\t.n_adchan\t= 64,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 512,\n\t\t.alwaysdither\t= 1,\n\t\t.gainlkup\t= ai_gain_14,\n\t\t.ai_speed\t= 10000,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 2048,\n\t\t.ao_range_table\t= &range_ni_E_ao_ext,\n\t\t.ao_speed\t= 10000,\n\t\t.caldac\t\t= { dac8800, dac8043, ad8522 },\n\t},\n\t[BOARD_PCI6036E] = {\n\t\t.name = \"pci-6036e\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 512,\n\t\t.alwaysdither\t= 1,\n\t\t.gainlkup\t= ai_gain_4,\n\t\t.ai_speed\t= 5000,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_range_table\t= &range_bipolar10,\n\t\t.ao_speed\t= 100000,\n\t\t.caldac\t\t= { ad8804_debug },\n\t},\n\t[BOARD_PCI6220] = {\n\t\t.name\t\t= \"pci-6220\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 512,\t\t \n\t\t.gainlkup\t= ai_gain_622x,\n\t\t.ai_speed\t= 4000,\n\t\t.reg_type\t= ni_reg_622x,\n\t\t.caldac\t\t= { caldac_none },\n\t},\n\t[BOARD_PXI6220] = {\n\t\t.name\t\t= \"pxi-6220\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 512,\t\t \n\t\t.gainlkup\t= ai_gain_622x,\n\t\t.ai_speed\t= 4000,\n\t\t.reg_type\t= ni_reg_622x,\n\t\t.caldac\t\t= { caldac_none },\n\t\t.dio_speed\t= 1000,\n\t},\n\t[BOARD_PCI6221] = {\n\t\t.name\t\t= \"pci-6221\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 4095,\n\t\t.gainlkup\t= ai_gain_622x,\n\t\t.ai_speed\t= 4000,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 8191,\n\t\t.ao_range_table\t= &range_bipolar10,\n\t\t.reg_type\t= ni_reg_622x,\n\t\t.ao_speed\t= 1200,\n\t\t.caldac\t\t= { caldac_none },\n\t\t.dio_speed\t= 1000,\n\t},\n\t[BOARD_PCI6221_37PIN] = {\n\t\t.name\t\t= \"pci-6221_37pin\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 4095,\n\t\t.gainlkup\t= ai_gain_622x,\n\t\t.ai_speed\t= 4000,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 8191,\n\t\t.ao_range_table\t= &range_bipolar10,\n\t\t.reg_type\t= ni_reg_622x,\n\t\t.ao_speed\t= 1200,\n\t\t.caldac\t\t= { caldac_none },\n\t},\n\t[BOARD_PXI6221] = {\n\t\t.name\t\t= \"pxi-6221\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 4095,\n\t\t.gainlkup\t= ai_gain_622x,\n\t\t.ai_speed\t= 4000,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 8191,\n\t\t.ao_range_table\t= &range_bipolar10,\n\t\t.reg_type\t= ni_reg_622x,\n\t\t.ao_speed\t= 1200,\n\t\t.caldac\t\t= { caldac_none },\n\t\t.dio_speed\t= 1000,\n\t},\n\t[BOARD_PCI6224] = {\n\t\t.name\t\t= \"pci-6224\",\n\t\t.n_adchan\t= 32,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 4095,\n\t\t.gainlkup\t= ai_gain_622x,\n\t\t.ai_speed\t= 4000,\n\t\t.reg_type\t= ni_reg_622x,\n\t\t.has_32dio_chan\t= 1,\n\t\t.caldac\t\t= { caldac_none },\n\t\t.dio_speed\t= 1000,\n\t},\n\t[BOARD_PXI6224] = {\n\t\t.name\t\t= \"pxi-6224\",\n\t\t.n_adchan\t= 32,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 4095,\n\t\t.gainlkup\t= ai_gain_622x,\n\t\t.ai_speed\t= 4000,\n\t\t.reg_type\t= ni_reg_622x,\n\t\t.has_32dio_chan\t= 1,\n\t\t.caldac\t\t= { caldac_none },\n\t\t.dio_speed\t= 1000,\n\t},\n\t[BOARD_PCI6225] = {\n\t\t.name\t\t= \"pci-6225\",\n\t\t.n_adchan\t= 80,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 4095,\n\t\t.gainlkup\t= ai_gain_622x,\n\t\t.ai_speed\t= 4000,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 8191,\n\t\t.ao_range_table\t= &range_bipolar10,\n\t\t.reg_type\t= ni_reg_622x,\n\t\t.ao_speed\t= 1200,\n\t\t.has_32dio_chan\t= 1,\n\t\t.caldac\t\t= { caldac_none },\n\t\t.dio_speed\t= 1000,\n\t},\n\t[BOARD_PXI6225] = {\n\t\t.name\t\t= \"pxi-6225\",\n\t\t.n_adchan\t= 80,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 4095,\n\t\t.gainlkup\t= ai_gain_622x,\n\t\t.ai_speed\t= 4000,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 8191,\n\t\t.ao_range_table\t= &range_bipolar10,\n\t\t.reg_type\t= ni_reg_622x,\n\t\t.ao_speed\t= 1200,\n\t\t.has_32dio_chan\t= 1,\n\t\t.caldac\t\t= { caldac_none },\n\t\t.dio_speed\t= 1000,\n\t},\n\t[BOARD_PCI6229] = {\n\t\t.name\t\t= \"pci-6229\",\n\t\t.n_adchan\t= 32,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 4095,\n\t\t.gainlkup\t= ai_gain_622x,\n\t\t.ai_speed\t= 4000,\n\t\t.n_aochan\t= 4,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 8191,\n\t\t.ao_range_table\t= &range_bipolar10,\n\t\t.reg_type\t= ni_reg_622x,\n\t\t.ao_speed\t= 1200,\n\t\t.has_32dio_chan\t= 1,\n\t\t.caldac\t\t= { caldac_none },\n\t},\n\t[BOARD_PXI6229] = {\n\t\t.name\t\t= \"pxi-6229\",\n\t\t.n_adchan\t= 32,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 4095,\n\t\t.gainlkup\t= ai_gain_622x,\n\t\t.ai_speed\t= 4000,\n\t\t.n_aochan\t= 4,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 8191,\n\t\t.ao_range_table\t= &range_bipolar10,\n\t\t.reg_type\t= ni_reg_622x,\n\t\t.ao_speed\t= 1200,\n\t\t.has_32dio_chan\t= 1,\n\t\t.caldac\t\t= { caldac_none },\n\t\t.dio_speed\t= 1000,\n\t},\n\t[BOARD_PCI6250] = {\n\t\t.name\t\t= \"pci-6250\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 4095,\n\t\t.gainlkup\t= ai_gain_628x,\n\t\t.ai_speed\t= 800,\n\t\t.reg_type\t= ni_reg_625x,\n\t\t.caldac\t\t= { caldac_none },\n\t},\n\t[BOARD_PXI6250] = {\n\t\t.name\t\t= \"pxi-6250\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 4095,\n\t\t.gainlkup\t= ai_gain_628x,\n\t\t.ai_speed\t= 800,\n\t\t.reg_type\t= ni_reg_625x,\n\t\t.caldac\t\t= { caldac_none },\n\t\t.dio_speed\t= 100,\n\t},\n\t[BOARD_PCI6251] = {\n\t\t.name\t\t= \"pci-6251\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 4095,\n\t\t.gainlkup\t= ai_gain_628x,\n\t\t.ai_speed\t= 800,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 8191,\n\t\t.ao_range_table\t= &range_ni_M_625x_ao,\n\t\t.reg_type\t= ni_reg_625x,\n\t\t.ao_speed\t= 350,\n\t\t.caldac\t\t= { caldac_none },\n\t\t.dio_speed\t= 100,\n\t},\n\t[BOARD_PXI6251] = {\n\t\t.name\t\t= \"pxi-6251\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 4095,\n\t\t.gainlkup\t= ai_gain_628x,\n\t\t.ai_speed\t= 800,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 8191,\n\t\t.ao_range_table\t= &range_ni_M_625x_ao,\n\t\t.reg_type\t= ni_reg_625x,\n\t\t.ao_speed\t= 350,\n\t\t.caldac\t\t= { caldac_none },\n\t\t.dio_speed\t= 100,\n\t},\n\t[BOARD_PCIE6251] = {\n\t\t.name\t\t= \"pcie-6251\",\n\t\t.alt_route_name\t= \"pci-6251\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 4095,\n\t\t.gainlkup\t= ai_gain_628x,\n\t\t.ai_speed\t= 800,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 8191,\n\t\t.ao_range_table\t= &range_ni_M_625x_ao,\n\t\t.reg_type\t= ni_reg_625x,\n\t\t.ao_speed\t= 350,\n\t\t.caldac\t\t= { caldac_none },\n\t\t.dio_speed\t= 100,\n\t},\n\t[BOARD_PXIE6251] = {\n\t\t.name\t\t= \"pxie-6251\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 4095,\n\t\t.gainlkup\t= ai_gain_628x,\n\t\t.ai_speed\t= 800,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 8191,\n\t\t.ao_range_table\t= &range_ni_M_625x_ao,\n\t\t.reg_type\t= ni_reg_625x,\n\t\t.ao_speed\t= 350,\n\t\t.caldac\t\t= { caldac_none },\n\t\t.dio_speed\t= 100,\n\t},\n\t[BOARD_PCI6254] = {\n\t\t.name\t\t= \"pci-6254\",\n\t\t.n_adchan\t= 32,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 4095,\n\t\t.gainlkup\t= ai_gain_628x,\n\t\t.ai_speed\t= 800,\n\t\t.reg_type\t= ni_reg_625x,\n\t\t.has_32dio_chan\t= 1,\n\t\t.caldac\t\t= { caldac_none },\n\t},\n\t[BOARD_PXI6254] = {\n\t\t.name\t\t= \"pxi-6254\",\n\t\t.n_adchan\t= 32,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 4095,\n\t\t.gainlkup\t= ai_gain_628x,\n\t\t.ai_speed\t= 800,\n\t\t.reg_type\t= ni_reg_625x,\n\t\t.has_32dio_chan\t= 1,\n\t\t.caldac\t\t= { caldac_none },\n\t\t.dio_speed\t= 100,\n\t},\n\t[BOARD_PCI6259] = {\n\t\t.name\t\t= \"pci-6259\",\n\t\t.n_adchan\t= 32,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 4095,\n\t\t.gainlkup\t= ai_gain_628x,\n\t\t.ai_speed\t= 800,\n\t\t.n_aochan\t= 4,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 8191,\n\t\t.ao_range_table\t= &range_ni_M_625x_ao,\n\t\t.reg_type\t= ni_reg_625x,\n\t\t.ao_speed\t= 350,\n\t\t.has_32dio_chan\t= 1,\n\t\t.caldac\t\t= { caldac_none },\n\t},\n\t[BOARD_PXI6259] = {\n\t\t.name\t\t= \"pxi-6259\",\n\t\t.n_adchan\t= 32,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 4095,\n\t\t.gainlkup\t= ai_gain_628x,\n\t\t.ai_speed\t= 800,\n\t\t.n_aochan\t= 4,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 8191,\n\t\t.ao_range_table\t= &range_ni_M_625x_ao,\n\t\t.reg_type\t= ni_reg_625x,\n\t\t.ao_speed\t= 350,\n\t\t.has_32dio_chan\t= 1,\n\t\t.caldac\t\t= { caldac_none },\n\t\t.dio_speed\t= 100,\n\t},\n\t[BOARD_PCIE6259] = {\n\t\t.name\t\t= \"pcie-6259\",\n\t\t.alt_route_name\t= \"pci-6259\",\n\t\t.n_adchan\t= 32,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 4095,\n\t\t.gainlkup\t= ai_gain_628x,\n\t\t.ai_speed\t= 800,\n\t\t.n_aochan\t= 4,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 8191,\n\t\t.ao_range_table\t= &range_ni_M_625x_ao,\n\t\t.reg_type\t= ni_reg_625x,\n\t\t.ao_speed\t= 350,\n\t\t.has_32dio_chan\t= 1,\n\t\t.caldac\t\t= { caldac_none },\n\t},\n\t[BOARD_PXIE6259] = {\n\t\t.name\t\t= \"pxie-6259\",\n\t\t.n_adchan\t= 32,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 4095,\n\t\t.gainlkup\t= ai_gain_628x,\n\t\t.ai_speed\t= 800,\n\t\t.n_aochan\t= 4,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 8191,\n\t\t.ao_range_table\t= &range_ni_M_625x_ao,\n\t\t.reg_type\t= ni_reg_625x,\n\t\t.ao_speed\t= 350,\n\t\t.has_32dio_chan\t= 1,\n\t\t.caldac\t\t= { caldac_none },\n\t\t.dio_speed\t= 100,\n\t},\n\t[BOARD_PCI6280] = {\n\t\t.name\t\t= \"pci-6280\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0x3ffff,\n\t\t.ai_fifo_depth\t= 2047,\n\t\t.gainlkup\t= ai_gain_628x,\n\t\t.ai_speed\t= 1600,\n\t\t.ao_fifo_depth\t= 8191,\n\t\t.reg_type\t= ni_reg_628x,\n\t\t.caldac\t\t= { caldac_none },\n\t},\n\t[BOARD_PXI6280] = {\n\t\t.name\t\t= \"pxi-6280\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0x3ffff,\n\t\t.ai_fifo_depth\t= 2047,\n\t\t.gainlkup\t= ai_gain_628x,\n\t\t.ai_speed\t= 1600,\n\t\t.ao_fifo_depth\t= 8191,\n\t\t.reg_type\t= ni_reg_628x,\n\t\t.caldac\t\t= { caldac_none },\n\t\t.dio_speed\t= 100,\n\t},\n\t[BOARD_PCI6281] = {\n\t\t.name\t\t= \"pci-6281\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0x3ffff,\n\t\t.ai_fifo_depth\t= 2047,\n\t\t.gainlkup\t= ai_gain_628x,\n\t\t.ai_speed\t= 1600,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 8191,\n\t\t.ao_range_table = &range_ni_M_628x_ao,\n\t\t.reg_type\t= ni_reg_628x,\n\t\t.ao_speed\t= 350,\n\t\t.caldac\t\t= { caldac_none },\n\t\t.dio_speed\t= 100,\n\t},\n\t[BOARD_PXI6281] = {\n\t\t.name\t\t= \"pxi-6281\",\n\t\t.n_adchan\t= 16,\n\t\t.ai_maxdata\t= 0x3ffff,\n\t\t.ai_fifo_depth\t= 2047,\n\t\t.gainlkup\t= ai_gain_628x,\n\t\t.ai_speed\t= 1600,\n\t\t.n_aochan\t= 2,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 8191,\n\t\t.ao_range_table\t= &range_ni_M_628x_ao,\n\t\t.reg_type\t= ni_reg_628x,\n\t\t.ao_speed\t= 350,\n\t\t.caldac\t\t= { caldac_none },\n\t\t.dio_speed\t= 100,\n\t},\n\t[BOARD_PCI6284] = {\n\t\t.name\t\t= \"pci-6284\",\n\t\t.n_adchan\t= 32,\n\t\t.ai_maxdata\t= 0x3ffff,\n\t\t.ai_fifo_depth\t= 2047,\n\t\t.gainlkup\t= ai_gain_628x,\n\t\t.ai_speed\t= 1600,\n\t\t.reg_type\t= ni_reg_628x,\n\t\t.has_32dio_chan\t= 1,\n\t\t.caldac\t\t= { caldac_none },\n\t},\n\t[BOARD_PXI6284] = {\n\t\t.name\t\t= \"pxi-6284\",\n\t\t.n_adchan\t= 32,\n\t\t.ai_maxdata\t= 0x3ffff,\n\t\t.ai_fifo_depth\t= 2047,\n\t\t.gainlkup\t= ai_gain_628x,\n\t\t.ai_speed\t= 1600,\n\t\t.reg_type\t= ni_reg_628x,\n\t\t.has_32dio_chan\t= 1,\n\t\t.caldac\t\t= { caldac_none },\n\t\t.dio_speed\t= 100,\n\t},\n\t[BOARD_PCI6289] = {\n\t\t.name\t\t= \"pci-6289\",\n\t\t.n_adchan\t= 32,\n\t\t.ai_maxdata\t= 0x3ffff,\n\t\t.ai_fifo_depth\t= 2047,\n\t\t.gainlkup\t= ai_gain_628x,\n\t\t.ai_speed\t= 1600,\n\t\t.n_aochan\t= 4,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 8191,\n\t\t.ao_range_table\t= &range_ni_M_628x_ao,\n\t\t.reg_type\t= ni_reg_628x,\n\t\t.ao_speed\t= 350,\n\t\t.has_32dio_chan\t= 1,\n\t\t.caldac\t\t= { caldac_none },\n\t},\n\t[BOARD_PXI6289] = {\n\t\t.name\t\t= \"pxi-6289\",\n\t\t.n_adchan\t= 32,\n\t\t.ai_maxdata\t= 0x3ffff,\n\t\t.ai_fifo_depth\t= 2047,\n\t\t.gainlkup\t= ai_gain_628x,\n\t\t.ai_speed\t= 1600,\n\t\t.n_aochan\t= 4,\n\t\t.ao_maxdata\t= 0xffff,\n\t\t.ao_fifo_depth\t= 8191,\n\t\t.ao_range_table\t= &range_ni_M_628x_ao,\n\t\t.reg_type\t= ni_reg_628x,\n\t\t.ao_speed\t= 350,\n\t\t.has_32dio_chan\t= 1,\n\t\t.caldac\t\t= { caldac_none },\n\t\t.dio_speed\t= 100,\n\t},\n\t[BOARD_PCI6143] = {\n\t\t.name\t\t= \"pci-6143\",\n\t\t.n_adchan\t= 8,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 1024,\n\t\t.gainlkup\t= ai_gain_6143,\n\t\t.ai_speed\t= 4000,\n\t\t.reg_type\t= ni_reg_6143,\n\t\t.caldac\t\t= { ad8804_debug, ad8804_debug },\n\t},\n\t[BOARD_PXI6143] = {\n\t\t.name\t\t= \"pxi-6143\",\n\t\t.n_adchan\t= 8,\n\t\t.ai_maxdata\t= 0xffff,\n\t\t.ai_fifo_depth\t= 1024,\n\t\t.gainlkup\t= ai_gain_6143,\n\t\t.ai_speed\t= 4000,\n\t\t.reg_type\t= ni_reg_6143,\n\t\t.caldac\t\t= { ad8804_debug, ad8804_debug },\n\t},\n};\n\n#include \"ni_mio_common.c\"\n\nstatic int pcimio_ai_change(struct comedi_device *dev,\n\t\t\t    struct comedi_subdevice *s)\n{\n\tstruct ni_private *devpriv = dev->private;\n\tint ret;\n\n\tret = mite_buf_change(devpriv->ai_mite_ring, s);\n\tif (ret < 0)\n\t\treturn ret;\n\n\treturn 0;\n}\n\nstatic int pcimio_ao_change(struct comedi_device *dev,\n\t\t\t    struct comedi_subdevice *s)\n{\n\tstruct ni_private *devpriv = dev->private;\n\tint ret;\n\n\tret = mite_buf_change(devpriv->ao_mite_ring, s);\n\tif (ret < 0)\n\t\treturn ret;\n\n\treturn 0;\n}\n\nstatic int pcimio_gpct0_change(struct comedi_device *dev,\n\t\t\t       struct comedi_subdevice *s)\n{\n\tstruct ni_private *devpriv = dev->private;\n\tint ret;\n\n\tret = mite_buf_change(devpriv->gpct_mite_ring[0], s);\n\tif (ret < 0)\n\t\treturn ret;\n\n\treturn 0;\n}\n\nstatic int pcimio_gpct1_change(struct comedi_device *dev,\n\t\t\t       struct comedi_subdevice *s)\n{\n\tstruct ni_private *devpriv = dev->private;\n\tint ret;\n\n\tret = mite_buf_change(devpriv->gpct_mite_ring[1], s);\n\tif (ret < 0)\n\t\treturn ret;\n\n\treturn 0;\n}\n\nstatic int pcimio_dio_change(struct comedi_device *dev,\n\t\t\t     struct comedi_subdevice *s)\n{\n\tstruct ni_private *devpriv = dev->private;\n\tint ret;\n\n\tret = mite_buf_change(devpriv->cdo_mite_ring, s);\n\tif (ret < 0)\n\t\treturn ret;\n\n\treturn 0;\n}\n\nstatic void m_series_init_eeprom_buffer(struct comedi_device *dev)\n{\n\tstruct ni_private *devpriv = dev->private;\n\tstruct mite *mite = devpriv->mite;\n\tresource_size_t daq_phys_addr;\n\tstatic const int start_cal_eeprom = 0x400;\n\tstatic const unsigned int window_size = 10;\n\tunsigned int old_iodwbsr_bits;\n\tunsigned int old_iodwbsr1_bits;\n\tunsigned int old_iodwcr1_bits;\n\tint i;\n\n\t \n\tdaq_phys_addr = pci_resource_start(mite->pcidev, 1);\n\n\told_iodwbsr_bits = readl(mite->mmio + MITE_IODWBSR);\n\told_iodwbsr1_bits = readl(mite->mmio + MITE_IODWBSR_1);\n\told_iodwcr1_bits = readl(mite->mmio + MITE_IODWCR_1);\n\twritel(0x0, mite->mmio + MITE_IODWBSR);\n\twritel(((0x80 | window_size) | daq_phys_addr),\n\t       mite->mmio + MITE_IODWBSR_1);\n\twritel(0x1 | old_iodwcr1_bits, mite->mmio + MITE_IODWCR_1);\n\twritel(0xf, mite->mmio + 0x30);\n\n\tfor (i = 0; i < M_SERIES_EEPROM_SIZE; ++i)\n\t\tdevpriv->eeprom_buffer[i] = ni_readb(dev, start_cal_eeprom + i);\n\n\twritel(old_iodwbsr1_bits, mite->mmio + MITE_IODWBSR_1);\n\twritel(old_iodwbsr_bits, mite->mmio + MITE_IODWBSR);\n\twritel(old_iodwcr1_bits, mite->mmio + MITE_IODWCR_1);\n\twritel(0x0, mite->mmio + 0x30);\n}\n\nstatic void init_6143(struct comedi_device *dev)\n{\n\tconst struct ni_board_struct *board = dev->board_ptr;\n\tstruct ni_private *devpriv = dev->private;\n\n\t \n\tni_stc_writew(dev, 0, NISTC_INT_CTRL_REG);\n\n\t \n\n\t \n\tni_writeb(dev, 0x00, NI6143_MAGIC_REG);\n\t \n\tni_writeb(dev, 0x80, NI6143_PIPELINE_DELAY_REG);\n\t \n\tni_writeb(dev, 0x00, NI6143_EOC_SET_REG);\n\n\t \n\tni_writel(dev, board->ai_fifo_depth / 2, NI6143_AI_FIFO_FLAG_REG);\n\n\t \n\tdevpriv->ai_calib_source_enabled = 0;\n\tni_writew(dev, devpriv->ai_calib_source | NI6143_CALIB_CHAN_RELAY_OFF,\n\t\t  NI6143_CALIB_CHAN_REG);\n\tni_writew(dev, devpriv->ai_calib_source, NI6143_CALIB_CHAN_REG);\n}\n\nstatic void pcimio_detach(struct comedi_device *dev)\n{\n\tstruct ni_private *devpriv = dev->private;\n\n\tmio_common_detach(dev);\n\tif (dev->irq)\n\t\tfree_irq(dev->irq, dev);\n\tif (devpriv) {\n\t\tmite_free_ring(devpriv->ai_mite_ring);\n\t\tmite_free_ring(devpriv->ao_mite_ring);\n\t\tmite_free_ring(devpriv->cdo_mite_ring);\n\t\tmite_free_ring(devpriv->gpct_mite_ring[0]);\n\t\tmite_free_ring(devpriv->gpct_mite_ring[1]);\n\t\tmite_detach(devpriv->mite);\n\t}\n\tif (dev->mmio)\n\t\tiounmap(dev->mmio);\n\tcomedi_pci_disable(dev);\n}\n\nstatic int pcimio_auto_attach(struct comedi_device *dev,\n\t\t\t      unsigned long context)\n{\n\tstruct pci_dev *pcidev = comedi_to_pci_dev(dev);\n\tconst struct ni_board_struct *board = NULL;\n\tstruct ni_private *devpriv;\n\tunsigned int irq;\n\tint ret;\n\n\tif (context < ARRAY_SIZE(ni_boards))\n\t\tboard = &ni_boards[context];\n\tif (!board)\n\t\treturn -ENODEV;\n\tdev->board_ptr = board;\n\tdev->board_name = board->name;\n\n\tret = comedi_pci_enable(dev);\n\tif (ret)\n\t\treturn ret;\n\n\tret = ni_alloc_private(dev);\n\tif (ret)\n\t\treturn ret;\n\tdevpriv = dev->private;\n\n\tdevpriv->mite = mite_attach(dev, false);\t \n\tif (!devpriv->mite)\n\t\treturn -ENOMEM;\n\n\tif (board->reg_type & ni_reg_m_series_mask)\n\t\tdevpriv->is_m_series = 1;\n\tif (board->reg_type & ni_reg_6xxx_mask)\n\t\tdevpriv->is_6xxx = 1;\n\tif (board->reg_type == ni_reg_611x)\n\t\tdevpriv->is_611x = 1;\n\tif (board->reg_type == ni_reg_6143)\n\t\tdevpriv->is_6143 = 1;\n\tif (board->reg_type == ni_reg_622x)\n\t\tdevpriv->is_622x = 1;\n\tif (board->reg_type == ni_reg_625x)\n\t\tdevpriv->is_625x = 1;\n\tif (board->reg_type == ni_reg_628x)\n\t\tdevpriv->is_628x = 1;\n\tif (board->reg_type & ni_reg_67xx_mask)\n\t\tdevpriv->is_67xx = 1;\n\tif (board->reg_type == ni_reg_6711)\n\t\tdevpriv->is_6711 = 1;\n\tif (board->reg_type == ni_reg_6713)\n\t\tdevpriv->is_6713 = 1;\n\n\tdevpriv->ai_mite_ring = mite_alloc_ring(devpriv->mite);\n\tif (!devpriv->ai_mite_ring)\n\t\treturn -ENOMEM;\n\tdevpriv->ao_mite_ring = mite_alloc_ring(devpriv->mite);\n\tif (!devpriv->ao_mite_ring)\n\t\treturn -ENOMEM;\n\tdevpriv->cdo_mite_ring = mite_alloc_ring(devpriv->mite);\n\tif (!devpriv->cdo_mite_ring)\n\t\treturn -ENOMEM;\n\tdevpriv->gpct_mite_ring[0] = mite_alloc_ring(devpriv->mite);\n\tif (!devpriv->gpct_mite_ring[0])\n\t\treturn -ENOMEM;\n\tdevpriv->gpct_mite_ring[1] = mite_alloc_ring(devpriv->mite);\n\tif (!devpriv->gpct_mite_ring[1])\n\t\treturn -ENOMEM;\n\n\tif (devpriv->is_m_series)\n\t\tm_series_init_eeprom_buffer(dev);\n\tif (devpriv->is_6143)\n\t\tinit_6143(dev);\n\n\tirq = pcidev->irq;\n\tif (irq) {\n\t\tret = request_irq(irq, ni_E_interrupt, IRQF_SHARED,\n\t\t\t\t  dev->board_name, dev);\n\t\tif (ret == 0)\n\t\t\tdev->irq = irq;\n\t}\n\n\tret = ni_E_init(dev, 0, 1);\n\tif (ret < 0)\n\t\treturn ret;\n\n\tdev->subdevices[NI_AI_SUBDEV].buf_change = &pcimio_ai_change;\n\tdev->subdevices[NI_AO_SUBDEV].buf_change = &pcimio_ao_change;\n\tdev->subdevices[NI_GPCT_SUBDEV(0)].buf_change = &pcimio_gpct0_change;\n\tdev->subdevices[NI_GPCT_SUBDEV(1)].buf_change = &pcimio_gpct1_change;\n\tdev->subdevices[NI_DIO_SUBDEV].buf_change = &pcimio_dio_change;\n\n\treturn 0;\n}\n\nstatic struct comedi_driver ni_pcimio_driver = {\n\t.driver_name\t= \"ni_pcimio\",\n\t.module\t\t= THIS_MODULE,\n\t.auto_attach\t= pcimio_auto_attach,\n\t.detach\t\t= pcimio_detach,\n};\n\nstatic int ni_pcimio_pci_probe(struct pci_dev *dev,\n\t\t\t       const struct pci_device_id *id)\n{\n\treturn comedi_pci_auto_config(dev, &ni_pcimio_driver, id->driver_data);\n}\n\nstatic const struct pci_device_id ni_pcimio_pci_table[] = {\n\t{ PCI_VDEVICE(NI, 0x0162), BOARD_PCIMIO_16XE_50 },\t \n\t{ PCI_VDEVICE(NI, 0x1170), BOARD_PCIMIO_16XE_10 },\n\t{ PCI_VDEVICE(NI, 0x1180), BOARD_PCIMIO_16E_1 },\n\t{ PCI_VDEVICE(NI, 0x1190), BOARD_PCIMIO_16E_4 },\n\t{ PCI_VDEVICE(NI, 0x11b0), BOARD_PXI6070E },\n\t{ PCI_VDEVICE(NI, 0x11c0), BOARD_PXI6040E },\n\t{ PCI_VDEVICE(NI, 0x11d0), BOARD_PXI6030E },\n\t{ PCI_VDEVICE(NI, 0x1270), BOARD_PCI6032E },\n\t{ PCI_VDEVICE(NI, 0x1330), BOARD_PCI6031E },\n\t{ PCI_VDEVICE(NI, 0x1340), BOARD_PCI6033E },\n\t{ PCI_VDEVICE(NI, 0x1350), BOARD_PCI6071E },\n\t{ PCI_VDEVICE(NI, 0x14e0), BOARD_PCI6110 },\n\t{ PCI_VDEVICE(NI, 0x14f0), BOARD_PCI6111 },\n\t{ PCI_VDEVICE(NI, 0x1580), BOARD_PXI6031E },\n\t{ PCI_VDEVICE(NI, 0x15b0), BOARD_PXI6071E },\n\t{ PCI_VDEVICE(NI, 0x1880), BOARD_PCI6711 },\n\t{ PCI_VDEVICE(NI, 0x1870), BOARD_PCI6713 },\n\t{ PCI_VDEVICE(NI, 0x18b0), BOARD_PCI6052E },\n\t{ PCI_VDEVICE(NI, 0x18c0), BOARD_PXI6052E },\n\t{ PCI_VDEVICE(NI, 0x2410), BOARD_PCI6733 },\n\t{ PCI_VDEVICE(NI, 0x2420), BOARD_PXI6733 },\n\t{ PCI_VDEVICE(NI, 0x2430), BOARD_PCI6731 },\n\t{ PCI_VDEVICE(NI, 0x2890), BOARD_PCI6036E },\n\t{ PCI_VDEVICE(NI, 0x28c0), BOARD_PCI6014 },\n\t{ PCI_VDEVICE(NI, 0x2a60), BOARD_PCI6023E },\n\t{ PCI_VDEVICE(NI, 0x2a70), BOARD_PCI6024E },\n\t{ PCI_VDEVICE(NI, 0x2a80), BOARD_PCI6025E },\n\t{ PCI_VDEVICE(NI, 0x2ab0), BOARD_PXI6025E },\n\t{ PCI_VDEVICE(NI, 0x2b80), BOARD_PXI6713 },\n\t{ PCI_VDEVICE(NI, 0x2b90), BOARD_PXI6711 },\n\t{ PCI_VDEVICE(NI, 0x2c80), BOARD_PCI6035E },\n\t{ PCI_VDEVICE(NI, 0x2ca0), BOARD_PCI6034E },\n\t{ PCI_VDEVICE(NI, 0x70aa), BOARD_PCI6229 },\n\t{ PCI_VDEVICE(NI, 0x70ab), BOARD_PCI6259 },\n\t{ PCI_VDEVICE(NI, 0x70ac), BOARD_PCI6289 },\n\t{ PCI_VDEVICE(NI, 0x70ad), BOARD_PXI6251 },\n\t{ PCI_VDEVICE(NI, 0x70ae), BOARD_PXI6220 },\n\t{ PCI_VDEVICE(NI, 0x70af), BOARD_PCI6221 },\n\t{ PCI_VDEVICE(NI, 0x70b0), BOARD_PCI6220 },\n\t{ PCI_VDEVICE(NI, 0x70b1), BOARD_PXI6229 },\n\t{ PCI_VDEVICE(NI, 0x70b2), BOARD_PXI6259 },\n\t{ PCI_VDEVICE(NI, 0x70b3), BOARD_PXI6289 },\n\t{ PCI_VDEVICE(NI, 0x70b4), BOARD_PCI6250 },\n\t{ PCI_VDEVICE(NI, 0x70b5), BOARD_PXI6221 },\n\t{ PCI_VDEVICE(NI, 0x70b6), BOARD_PCI6280 },\n\t{ PCI_VDEVICE(NI, 0x70b7), BOARD_PCI6254 },\n\t{ PCI_VDEVICE(NI, 0x70b8), BOARD_PCI6251 },\n\t{ PCI_VDEVICE(NI, 0x70b9), BOARD_PXI6250 },\n\t{ PCI_VDEVICE(NI, 0x70ba), BOARD_PXI6254 },\n\t{ PCI_VDEVICE(NI, 0x70bb), BOARD_PXI6280 },\n\t{ PCI_VDEVICE(NI, 0x70bc), BOARD_PCI6284 },\n\t{ PCI_VDEVICE(NI, 0x70bd), BOARD_PCI6281 },\n\t{ PCI_VDEVICE(NI, 0x70be), BOARD_PXI6284 },\n\t{ PCI_VDEVICE(NI, 0x70bf), BOARD_PXI6281 },\n\t{ PCI_VDEVICE(NI, 0x70c0), BOARD_PCI6143 },\n\t{ PCI_VDEVICE(NI, 0x70f2), BOARD_PCI6224 },\n\t{ PCI_VDEVICE(NI, 0x70f3), BOARD_PXI6224 },\n\t{ PCI_VDEVICE(NI, 0x710d), BOARD_PXI6143 },\n\t{ PCI_VDEVICE(NI, 0x716c), BOARD_PCI6225 },\n\t{ PCI_VDEVICE(NI, 0x716d), BOARD_PXI6225 },\n\t{ PCI_VDEVICE(NI, 0x717d), BOARD_PCIE6251 },\n\t{ PCI_VDEVICE(NI, 0x717f), BOARD_PCIE6259 },\n\t{ PCI_VDEVICE(NI, 0x71bc), BOARD_PCI6221_37PIN },\n\t{ PCI_VDEVICE(NI, 0x72e8), BOARD_PXIE6251 },\n\t{ PCI_VDEVICE(NI, 0x72e9), BOARD_PXIE6259 },\n\t{ 0 }\n};\nMODULE_DEVICE_TABLE(pci, ni_pcimio_pci_table);\n\nstatic struct pci_driver ni_pcimio_pci_driver = {\n\t.name\t\t= \"ni_pcimio\",\n\t.id_table\t= ni_pcimio_pci_table,\n\t.probe\t\t= ni_pcimio_pci_probe,\n\t.remove\t\t= comedi_pci_auto_unconfig,\n};\nmodule_comedi_pci_driver(ni_pcimio_driver, ni_pcimio_pci_driver);\n\nMODULE_AUTHOR(\"Comedi https://www.comedi.org\");\nMODULE_DESCRIPTION(\"Comedi low-level driver\");\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}