{
  "module_name": "ni_labpc_cs.c",
  "hash_id": "0d821ce99a2523ed970fceca8827bad07cf8386ed8dbdeda709b18a98443648f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/comedi/drivers/ni_labpc_cs.c",
  "human_readable_source": "\n \n\n \n\n#include <linux/module.h>\n#include <linux/comedi/comedi_pcmcia.h>\n\n#include \"ni_labpc.h\"\n\nstatic const struct labpc_boardinfo labpc_cs_boards[] = {\n\t{\n\t\t.name\t\t\t= \"daqcard-1200\",\n\t\t.ai_speed\t\t= 10000,\n\t\t.has_ao\t\t\t= 1,\n\t\t.is_labpc1200\t\t= 1,\n\t},\n};\n\nstatic int labpc_cs_auto_attach(struct comedi_device *dev,\n\t\t\t\tunsigned long context)\n{\n\tstruct pcmcia_device *link = comedi_to_pcmcia_dev(dev);\n\tint ret;\n\n\t \n\tdev->board_ptr = &labpc_cs_boards[0];\n\n\tlink->config_flags |= CONF_AUTO_SET_IO |\n\t\t\t      CONF_ENABLE_IRQ | CONF_ENABLE_PULSE_IRQ;\n\tret = comedi_pcmcia_enable(dev, NULL);\n\tif (ret)\n\t\treturn ret;\n\tdev->iobase = link->resource[0]->start;\n\n\tif (!link->irq)\n\t\treturn -EINVAL;\n\n\treturn labpc_common_attach(dev, link->irq, IRQF_SHARED);\n}\n\nstatic void labpc_cs_detach(struct comedi_device *dev)\n{\n\tlabpc_common_detach(dev);\n\tcomedi_pcmcia_disable(dev);\n}\n\nstatic struct comedi_driver driver_labpc_cs = {\n\t.driver_name\t= \"ni_labpc_cs\",\n\t.module\t\t= THIS_MODULE,\n\t.auto_attach\t= labpc_cs_auto_attach,\n\t.detach\t\t= labpc_cs_detach,\n};\n\nstatic int labpc_cs_attach(struct pcmcia_device *link)\n{\n\treturn comedi_pcmcia_auto_config(link, &driver_labpc_cs);\n}\n\nstatic const struct pcmcia_device_id labpc_cs_ids[] = {\n\tPCMCIA_DEVICE_MANF_CARD(0x010b, 0x0103),\t \n\tPCMCIA_DEVICE_NULL\n};\nMODULE_DEVICE_TABLE(pcmcia, labpc_cs_ids);\n\nstatic struct pcmcia_driver labpc_cs_driver = {\n\t.name\t\t= \"daqcard-1200\",\n\t.owner\t\t= THIS_MODULE,\n\t.id_table\t= labpc_cs_ids,\n\t.probe\t\t= labpc_cs_attach,\n\t.remove\t\t= comedi_pcmcia_auto_unconfig,\n};\nmodule_comedi_pcmcia_driver(driver_labpc_cs, labpc_cs_driver);\n\nMODULE_DESCRIPTION(\"Comedi driver for National Instruments Lab-PC\");\nMODULE_AUTHOR(\"Frank Mori Hess <fmhess@users.sourceforge.net>\");\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}