{
  "module_name": "ni_tio.h",
  "hash_id": "3a9a307acc926adbed6ee49a4117457fbccd787f596e3a821dcc33c817de4207",
  "original_prompt": "Ingested from linux-6.6.14/drivers/comedi/drivers/ni_tio.h",
  "human_readable_source": " \n \n\n#ifndef _COMEDI_NI_TIO_H\n#define _COMEDI_NI_TIO_H\n\n#include <linux/comedi/comedidev.h>\n\nenum ni_gpct_register {\n\tNITIO_G0_AUTO_INC,\n\tNITIO_G1_AUTO_INC,\n\tNITIO_G2_AUTO_INC,\n\tNITIO_G3_AUTO_INC,\n\tNITIO_G0_CMD,\n\tNITIO_G1_CMD,\n\tNITIO_G2_CMD,\n\tNITIO_G3_CMD,\n\tNITIO_G0_HW_SAVE,\n\tNITIO_G1_HW_SAVE,\n\tNITIO_G2_HW_SAVE,\n\tNITIO_G3_HW_SAVE,\n\tNITIO_G0_SW_SAVE,\n\tNITIO_G1_SW_SAVE,\n\tNITIO_G2_SW_SAVE,\n\tNITIO_G3_SW_SAVE,\n\tNITIO_G0_MODE,\n\tNITIO_G1_MODE,\n\tNITIO_G2_MODE,\n\tNITIO_G3_MODE,\n\tNITIO_G0_LOADA,\n\tNITIO_G1_LOADA,\n\tNITIO_G2_LOADA,\n\tNITIO_G3_LOADA,\n\tNITIO_G0_LOADB,\n\tNITIO_G1_LOADB,\n\tNITIO_G2_LOADB,\n\tNITIO_G3_LOADB,\n\tNITIO_G0_INPUT_SEL,\n\tNITIO_G1_INPUT_SEL,\n\tNITIO_G2_INPUT_SEL,\n\tNITIO_G3_INPUT_SEL,\n\tNITIO_G0_CNT_MODE,\n\tNITIO_G1_CNT_MODE,\n\tNITIO_G2_CNT_MODE,\n\tNITIO_G3_CNT_MODE,\n\tNITIO_G0_GATE2,\n\tNITIO_G1_GATE2,\n\tNITIO_G2_GATE2,\n\tNITIO_G3_GATE2,\n\tNITIO_G01_STATUS,\n\tNITIO_G23_STATUS,\n\tNITIO_G01_RESET,\n\tNITIO_G23_RESET,\n\tNITIO_G01_STATUS1,\n\tNITIO_G23_STATUS1,\n\tNITIO_G01_STATUS2,\n\tNITIO_G23_STATUS2,\n\tNITIO_G0_DMA_CFG,\n\tNITIO_G1_DMA_CFG,\n\tNITIO_G2_DMA_CFG,\n\tNITIO_G3_DMA_CFG,\n\tNITIO_G0_DMA_STATUS,\n\tNITIO_G1_DMA_STATUS,\n\tNITIO_G2_DMA_STATUS,\n\tNITIO_G3_DMA_STATUS,\n\tNITIO_G0_ABZ,\n\tNITIO_G1_ABZ,\n\tNITIO_G0_INT_ACK,\n\tNITIO_G1_INT_ACK,\n\tNITIO_G2_INT_ACK,\n\tNITIO_G3_INT_ACK,\n\tNITIO_G0_STATUS,\n\tNITIO_G1_STATUS,\n\tNITIO_G2_STATUS,\n\tNITIO_G3_STATUS,\n\tNITIO_G0_INT_ENA,\n\tNITIO_G1_INT_ENA,\n\tNITIO_G2_INT_ENA,\n\tNITIO_G3_INT_ENA,\n\tNITIO_NUM_REGS,\n};\n\nenum ni_gpct_variant {\n\tni_gpct_variant_e_series,\n\tni_gpct_variant_m_series,\n\tni_gpct_variant_660x\n};\n\nstruct ni_gpct {\n\tstruct ni_gpct_device *counter_dev;\n\tunsigned int counter_index;\n\tunsigned int chip_index;\n\tu64 clock_period_ps;\t \n\tstruct mite_channel *mite_chan;\n\tspinlock_t lock;\t \n};\n\nstruct ni_gpct_device {\n\tstruct comedi_device *dev;\n\tvoid (*write)(struct ni_gpct *counter, unsigned int value,\n\t\t      enum ni_gpct_register);\n\tunsigned int (*read)(struct ni_gpct *counter, enum ni_gpct_register);\n\tenum ni_gpct_variant variant;\n\tstruct ni_gpct *counters;\n\tunsigned int num_counters;\n\tunsigned int num_chips;\n\tunsigned int (*regs)[NITIO_NUM_REGS];  \n\tspinlock_t regs_lock;\t\t \n\tconst struct ni_route_tables *routing_tables;  \n};\n\nstruct ni_gpct_device *\nni_gpct_device_construct(struct comedi_device *dev,\n\t\t\t void (*write)(struct ni_gpct *counter,\n\t\t\t\t       unsigned int value,\n\t\t\t\t       enum ni_gpct_register),\n\t\t\t unsigned int (*read)(struct ni_gpct *counter,\n\t\t\t\t\t      enum ni_gpct_register),\n\t\t\t enum ni_gpct_variant,\n\t\t\t unsigned int num_counters,\n\t\t\t unsigned int counters_per_chip,\n\t\t\t const struct ni_route_tables *routing_tables);\nvoid ni_gpct_device_destroy(struct ni_gpct_device *counter_dev);\nvoid ni_tio_init_counter(struct ni_gpct *counter);\nint ni_tio_insn_read(struct comedi_device *dev, struct comedi_subdevice *s,\n\t\t     struct comedi_insn *insn, unsigned int *data);\nint ni_tio_insn_config(struct comedi_device *dev, struct comedi_subdevice *s,\n\t\t       struct comedi_insn *insn, unsigned int *data);\nint ni_tio_insn_write(struct comedi_device *dev, struct comedi_subdevice *s,\n\t\t      struct comedi_insn *insn, unsigned int *data);\nint ni_tio_cmd(struct comedi_device *dev, struct comedi_subdevice *s);\nint ni_tio_cmdtest(struct comedi_device *dev, struct comedi_subdevice *s,\n\t\t   struct comedi_cmd *cmd);\nint ni_tio_cancel(struct ni_gpct *counter);\nvoid ni_tio_handle_interrupt(struct ni_gpct *counter,\n\t\t\t     struct comedi_subdevice *s);\nvoid ni_tio_set_mite_channel(struct ni_gpct *counter,\n\t\t\t     struct mite_channel *mite_chan);\nvoid ni_tio_acknowledge(struct ni_gpct *counter);\n\n \nint ni_tio_get_routing(struct ni_gpct_device *counter_dev,\n\t\t       unsigned int destination);\n\n \nint ni_tio_set_routing(struct ni_gpct_device *counter_dev,\n\t\t       unsigned int destination, unsigned int register_value);\n\n \nint ni_tio_unset_routing(struct ni_gpct_device *counter_dev,\n\t\t\t unsigned int destination);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}