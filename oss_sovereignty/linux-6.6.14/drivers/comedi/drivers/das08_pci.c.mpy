{
  "module_name": "das08_pci.c",
  "hash_id": "ccd1f89e1bae80da71fe01bb27348f2b1373a7190efcf7128af7354865d31249",
  "original_prompt": "Ingested from linux-6.6.14/drivers/comedi/drivers/das08_pci.c",
  "human_readable_source": "\n \n\n \n\n#include <linux/module.h>\n#include <linux/comedi/comedi_pci.h>\n\n#include \"das08.h\"\n\nstatic const struct das08_board_struct das08_pci_boards[] = {\n\t{\n\t\t.name\t\t= \"pci-das08\",\n\t\t.ai_nbits\t= 12,\n\t\t.ai_pg\t\t= das08_bipolar5,\n\t\t.ai_encoding\t= das08_encode12,\n\t\t.di_nchan\t= 3,\n\t\t.do_nchan\t= 4,\n\t\t.i8254_offset\t= 4,\n\t\t.iosize\t\t= 8,\n\t},\n};\n\nstatic int das08_pci_auto_attach(struct comedi_device *dev,\n\t\t\t\t unsigned long context_unused)\n{\n\tstruct pci_dev *pdev = comedi_to_pci_dev(dev);\n\tstruct das08_private_struct *devpriv;\n\tint ret;\n\n\tdevpriv = comedi_alloc_devpriv(dev, sizeof(*devpriv));\n\tif (!devpriv)\n\t\treturn -ENOMEM;\n\n\t \n\tdev->board_ptr = &das08_pci_boards[0];\n\n\tret = comedi_pci_enable(dev);\n\tif (ret)\n\t\treturn ret;\n\tdev->iobase = pci_resource_start(pdev, 2);\n\n\treturn das08_common_attach(dev, dev->iobase);\n}\n\nstatic struct comedi_driver das08_pci_comedi_driver = {\n\t.driver_name\t= \"pci-das08\",\n\t.module\t\t= THIS_MODULE,\n\t.auto_attach\t= das08_pci_auto_attach,\n\t.detach\t\t= comedi_pci_detach,\n};\n\nstatic int das08_pci_probe(struct pci_dev *dev,\n\t\t\t   const struct pci_device_id *id)\n{\n\treturn comedi_pci_auto_config(dev, &das08_pci_comedi_driver,\n\t\t\t\t      id->driver_data);\n}\n\nstatic const struct pci_device_id das08_pci_table[] = {\n\t{ PCI_DEVICE(PCI_VENDOR_ID_CB, 0x0029) },\n\t{ 0 }\n};\nMODULE_DEVICE_TABLE(pci, das08_pci_table);\n\nstatic struct pci_driver das08_pci_driver = {\n\t.name\t\t= \"pci-das08\",\n\t.id_table\t= das08_pci_table,\n\t.probe\t\t= das08_pci_probe,\n\t.remove\t\t= comedi_pci_auto_unconfig,\n};\nmodule_comedi_pci_driver(das08_pci_comedi_driver, das08_pci_driver);\n\nMODULE_AUTHOR(\"Comedi https://www.comedi.org\");\nMODULE_DESCRIPTION(\"Comedi low-level driver\");\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}