{
  "module_name": "sd.h",
  "hash_id": "55fe6ad990b0908f2963d686e2206adb239979170013ace586ef670ee8d64013",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/rts5208/sd.h",
  "human_readable_source": " \n \n\n#ifndef __REALTEK_RTSX_SD_H\n#define __REALTEK_RTSX_SD_H\n\n#include \"rtsx_chip.h\"\n\n#define SUPPORT_VOLTAGE\t0x003C0000\n\n \n#define\tSD_NO_ERROR\t\t0x0\n#define\tSD_CRC_ERR\t\t0x80\n#define\tSD_TO_ERR\t\t0x40\n#define\tSD_NO_CARD\t\t0x20\n#define SD_BUSY\t\t\t0x10\n#define\tSD_STS_ERR\t\t0x08\n#define SD_RSP_TIMEOUT\t\t0x04\n#define SD_IO_ERR\t\t0x02\n\n \n#define SWITCH_SUCCESS\t\t0\n#define SWITCH_ERR\t\t1\n#define SWITCH_FAIL\t\t2\n\n \n \n#define GO_IDLE_STATE\t\t0\n#define\tSEND_OP_COND\t\t1\n#define\tALL_SEND_CID\t\t2\n#define\tSET_RELATIVE_ADDR\t3\n#define\tSEND_RELATIVE_ADDR\t3\n#define\tSET_DSR\t\t\t4\n#define IO_SEND_OP_COND\t\t5\n#define\tSWITCH\t\t\t6\n#define\tSELECT_CARD\t\t7\n#define\tDESELECT_CARD\t\t7\n \n#define\tSEND_EXT_CSD\t\t8\n#define\tSEND_IF_COND\t\t8\n\n#define\tSEND_CSD\t\t9\n#define\tSEND_CID\t\t10\n#define\tVOLTAGE_SWITCH\t\t11\n#define\tREAD_DAT_UTIL_STOP\t11\n#define\tSTOP_TRANSMISSION\t12\n#define\tSEND_STATUS\t\t13\n#define\tGO_INACTIVE_STATE\t15\n\n#define\tSET_BLOCKLEN\t\t16\n#define\tREAD_SINGLE_BLOCK\t17\n#define\tREAD_MULTIPLE_BLOCK\t18\n#define\tSEND_TUNING_PATTERN\t19\n\n#define\tBUSTEST_R\t\t14\n#define\tBUSTEST_W\t\t19\n\n#define\tWRITE_BLOCK\t\t24\n#define\tWRITE_MULTIPLE_BLOCK\t25\n#define\tPROGRAM_CSD\t\t27\n\n#define\tERASE_WR_BLK_START\t32\n#define\tERASE_WR_BLK_END\t33\n#define\tERASE_CMD\t\t38\n\n#define LOCK_UNLOCK\t\t42\n#define\tIO_RW_DIRECT\t\t52\n\n#define\tAPP_CMD\t\t\t55\n#define\tGEN_CMD\t\t\t56\n\n#define\tSET_BUS_WIDTH\t\t6\n#define\tSD_STATUS\t\t13\n#define\tSEND_NUM_WR_BLOCKS\t22\n#define\tSET_WR_BLK_ERASE_COUNT\t23\n#define\tSD_APP_OP_COND\t\t41\n#define\tSET_CLR_CARD_DETECT\t42\n#define\tSEND_SCR\t\t51\n\n#define\tSD_READ_COMPLETE\t0x00\n#define\tSD_READ_TO\t\t0x01\n#define\tSD_READ_ADVENCE\t\t0x02\n\n#define\tSD_CHECK_MODE\t\t0x00\n#define\tSD_SWITCH_MODE\t\t0x80\n#define\tSD_FUNC_GROUP_1\t\t0x01\n#define\tSD_FUNC_GROUP_2\t\t0x02\n#define\tSD_FUNC_GROUP_3\t\t0x03\n#define\tSD_FUNC_GROUP_4\t\t0x04\n#define\tSD_CHECK_SPEC_V1_1\t0xFF\n\n#define\tNO_ARGUMENT\t\t\t\t0x00\n#define\tCHECK_PATTERN\t\t\t\t0x000000AA\n#define\tVOLTAGE_SUPPLY_RANGE\t\t\t0x00000100\n#define\tSUPPORT_HIGH_AND_EXTENDED_CAPACITY\t0x40000000\n#define\tSUPPORT_MAX_POWER_PERMANCE\t\t0x10000000\n#define\tSUPPORT_1V8\t\t\t\t0x01000000\n\n#define\tSWITCH_NO_ERR\t\t0x00\n#define\tCARD_NOT_EXIST\t\t0x01\n#define\tSPEC_NOT_SUPPORT\t0x02\n#define\tCHECK_MODE_ERR\t\t0x03\n#define\tCHECK_NOT_READY\t\t0x04\n#define\tSWITCH_CRC_ERR\t\t0x05\n#define\tSWITCH_MODE_ERR\t\t0x06\n#define\tSWITCH_PASS\t\t0x07\n\n#ifdef SUPPORT_SD_LOCK\n#define SD_ERASE\t\t0x08\n#define SD_LOCK\t\t\t0x04\n#define SD_UNLOCK\t\t0x00\n#define SD_CLR_PWD\t\t0x02\n#define SD_SET_PWD\t\t0x01\n\n#define SD_PWD_LEN\t\t0x10\n\n#define SD_LOCKED\t\t0x80\n#define SD_LOCK_1BIT_MODE\t0x40\n#define SD_PWD_EXIST\t\t0x20\n#define SD_UNLOCK_POW_ON\t0x01\n#define SD_SDR_RST\t\t0x02\n\n#define SD_NOT_ERASE\t\t0x00\n#define SD_UNDER_ERASING\t0x01\n#define SD_COMPLETE_ERASE\t0x02\n\n#define SD_RW_FORBIDDEN\t\t0x0F\n\n#endif\n\n#define\tHS_SUPPORT\t\t\t0x01\n#define\tSDR50_SUPPORT\t\t\t0x02\n#define\tSDR104_SUPPORT\t\t\t0x03\n#define\tDDR50_SUPPORT\t\t\t0x04\n\n#define\tHS_SUPPORT_MASK\t\t\t0x02\n#define\tSDR50_SUPPORT_MASK\t\t0x04\n#define\tSDR104_SUPPORT_MASK\t\t0x08\n#define\tDDR50_SUPPORT_MASK\t\t0x10\n\n#define\tHS_QUERY_SWITCH_OK\t\t0x01\n#define\tSDR50_QUERY_SWITCH_OK\t\t0x02\n#define\tSDR104_QUERY_SWITCH_OK\t\t0x03\n#define\tDDR50_QUERY_SWITCH_OK\t\t0x04\n\n#define\tHS_SWITCH_BUSY\t\t\t0x02\n#define\tSDR50_SWITCH_BUSY\t\t0x04\n#define\tSDR104_SWITCH_BUSY\t\t0x08\n#define\tDDR50_SWITCH_BUSY\t\t0x10\n\n#define\tFUNCTION_GROUP1_SUPPORT_OFFSET       0x0D\n#define FUNCTION_GROUP1_QUERY_SWITCH_OFFSET  0x10\n#define FUNCTION_GROUP1_CHECK_BUSY_OFFSET    0x1D\n\n#define\tDRIVING_TYPE_A\t\t0x01\n#define\tDRIVING_TYPE_B\t\t    0x00\n#define\tDRIVING_TYPE_C\t\t    0x02\n#define\tDRIVING_TYPE_D\t\t0x03\n\n#define\tDRIVING_TYPE_A_MASK\t    0x02\n#define\tDRIVING_TYPE_B_MASK\t    0x01\n#define\tDRIVING_TYPE_C_MASK\t    0x04\n#define\tDRIVING_TYPE_D_MASK\t    0x08\n\n#define\tTYPE_A_QUERY_SWITCH_OK\t0x01\n#define\tTYPE_B_QUERY_SWITCH_OK\t0x00\n#define\tTYPE_C_QUERY_SWITCH_OK  0x02\n#define\tTYPE_D_QUERY_SWITCH_OK  0x03\n\n#define\tTYPE_A_SWITCH_BUSY\t    0x02\n#define\tTYPE_B_SWITCH_BUSY\t    0x01\n#define\tTYPE_C_SWITCH_BUSY      0x04\n#define\tTYPE_D_SWITCH_BUSY      0x08\n\n#define\tFUNCTION_GROUP3_SUPPORT_OFFSET       0x09\n#define FUNCTION_GROUP3_QUERY_SWITCH_OFFSET  0x0F\n#define FUNCTION_GROUP3_CHECK_BUSY_OFFSET    0x19\n\n#define\tCURRENT_LIMIT_200\t    0x00\n#define\tCURRENT_LIMIT_400\t    0x01\n#define\tCURRENT_LIMIT_600\t    0x02\n#define\tCURRENT_LIMIT_800\t    0x03\n\n#define\tCURRENT_LIMIT_200_MASK\t0x01\n#define\tCURRENT_LIMIT_400_MASK\t0x02\n#define\tCURRENT_LIMIT_600_MASK\t0x04\n#define\tCURRENT_LIMIT_800_MASK\t0x08\n\n#define\tCURRENT_LIMIT_200_QUERY_SWITCH_OK    0x00\n#define\tCURRENT_LIMIT_400_QUERY_SWITCH_OK    0x01\n#define\tCURRENT_LIMIT_600_QUERY_SWITCH_OK    0x02\n#define\tCURRENT_LIMIT_800_QUERY_SWITCH_OK    0x03\n\n#define\tCURRENT_LIMIT_200_SWITCH_BUSY        0x01\n#define\tCURRENT_LIMIT_400_SWITCH_BUSY\t     0x02\n#define\tCURRENT_LIMIT_600_SWITCH_BUSY        0x04\n#define\tCURRENT_LIMIT_800_SWITCH_BUSY        0x08\n\n#define\tFUNCTION_GROUP4_SUPPORT_OFFSET       0x07\n#define FUNCTION_GROUP4_QUERY_SWITCH_OFFSET  0x0F\n#define FUNCTION_GROUP4_CHECK_BUSY_OFFSET    0x17\n\n#define\tDATA_STRUCTURE_VER_OFFSET\t0x11\n\n#define MAX_PHASE\t\t\t31\n\n#define MMC_8BIT_BUS\t\t\t0x0010\n#define MMC_4BIT_BUS\t\t\t0x0020\n\n#define MMC_SWITCH_ERR\t\t\t0x80\n\n#define SD_IO_3V3\t\t0\n#define SD_IO_1V8\t\t1\n\n#define TUNE_TX    0x00\n#define TUNE_RX\t   0x01\n\n#define CHANGE_TX  0x00\n#define CHANGE_RX  0x01\n\n#define DCM_HIGH_FREQUENCY_MODE  0x00\n#define DCM_LOW_FREQUENCY_MODE   0x01\n\n#define DCM_HIGH_FREQUENCY_MODE_SET  0x0C\n#define DCM_LOW_FREQUENCY_MODE_SET   0x00\n\n#define MULTIPLY_BY_1    0x00\n#define MULTIPLY_BY_2    0x01\n#define MULTIPLY_BY_3    0x02\n#define MULTIPLY_BY_4    0x03\n#define MULTIPLY_BY_5    0x04\n#define MULTIPLY_BY_6    0x05\n#define MULTIPLY_BY_7    0x06\n#define MULTIPLY_BY_8    0x07\n#define MULTIPLY_BY_9    0x08\n#define MULTIPLY_BY_10   0x09\n\n#define DIVIDE_BY_2      0x01\n#define DIVIDE_BY_3      0x02\n#define DIVIDE_BY_4      0x03\n#define DIVIDE_BY_5      0x04\n#define DIVIDE_BY_6      0x05\n#define DIVIDE_BY_7      0x06\n#define DIVIDE_BY_8      0x07\n#define DIVIDE_BY_9      0x08\n#define DIVIDE_BY_10     0x09\n\nstruct timing_phase_path {\n\tint start;\n\tint end;\n\tint mid;\n\tint len;\n};\n\nint sd_select_card(struct rtsx_chip *chip, int select);\nint sd_pull_ctl_enable(struct rtsx_chip *chip);\nint reset_sd_card(struct rtsx_chip *chip);\nint sd_switch_clock(struct rtsx_chip *chip);\nvoid sd_stop_seq_mode(struct rtsx_chip *chip);\nint sd_rw(struct scsi_cmnd *srb, struct rtsx_chip *chip,\n\t  u32 start_sector, u16 sector_cnt);\nvoid sd_cleanup_work(struct rtsx_chip *chip);\nint sd_power_off_card3v3(struct rtsx_chip *chip);\nint release_sd_card(struct rtsx_chip *chip);\n#ifdef SUPPORT_CPRM\nint ext_sd_send_cmd_get_rsp(struct rtsx_chip *chip, u8 cmd_idx,\n\t\t\t    u32 arg, u8 rsp_type, u8 *rsp, int rsp_len,\n\t\t\t    bool special_check);\nint ext_sd_get_rsp(struct rtsx_chip *chip, int len, u8 *rsp, u8 rsp_type);\n\nint sd_pass_thru_mode(struct scsi_cmnd *srb, struct rtsx_chip *chip);\nint sd_execute_no_data(struct scsi_cmnd *srb, struct rtsx_chip *chip);\nint sd_execute_read_data(struct scsi_cmnd *srb, struct rtsx_chip *chip);\nint sd_execute_write_data(struct scsi_cmnd *srb, struct rtsx_chip *chip);\nint sd_get_cmd_rsp(struct scsi_cmnd *srb, struct rtsx_chip *chip);\nint sd_hw_rst(struct scsi_cmnd *srb, struct rtsx_chip *chip);\n#endif\n\n#endif   \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}