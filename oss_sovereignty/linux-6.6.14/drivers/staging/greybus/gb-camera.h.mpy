{
  "module_name": "gb-camera.h",
  "hash_id": "7d85a5c9ad44b6feb92e099627cf0d904f0f4a2d32f6d5d439d7b0ea088ff62c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/greybus/gb-camera.h",
  "human_readable_source": " \n \n#ifndef __GB_CAMERA_H\n#define __GB_CAMERA_H\n\n#include <linux/v4l2-mediabus.h>\n\n \n#define GB_CAMERA_IN_FLAG_TEST\t\t(1 << 0)\n \n#define GB_CAMERA_OUT_FLAG_ADJUSTED\t(1 << 0)\n\n \nstruct gb_camera_stream {\n\tunsigned int width;\n\tunsigned int height;\n\tenum v4l2_mbus_pixelcode pixel_code;\n\tunsigned int vc;\n\tunsigned int dt[2];\n\tunsigned int max_size;\n};\n\n \nstruct gb_camera_csi_params {\n\tunsigned int num_lanes;\n\tunsigned int clk_freq;\n};\n\n \nstruct gb_camera_ops {\n\tssize_t (*capabilities)(void *priv, char *buf, size_t len);\n\tint (*configure_streams)(void *priv, unsigned int *nstreams,\n\t\t\tunsigned int *flags, struct gb_camera_stream *streams,\n\t\t\tstruct gb_camera_csi_params *csi_params);\n\tint (*capture)(void *priv, u32 request_id,\n\t\t\tunsigned int streams, unsigned int num_frames,\n\t\t\tsize_t settings_size, const void *settings);\n\tint (*flush)(void *priv, u32 *request_id);\n};\n\n \nstruct gb_camera_module {\n\tvoid *priv;\n\tconst struct gb_camera_ops *ops;\n\n\tunsigned int interface_id;\n\tstruct kref refcount;\n\tvoid (*release)(struct kref *kref);\n\tstruct list_head list;  \n};\n\n#define gb_camera_call(f, op, args...)      \\\n\t(!(f) ? -ENODEV : (((f)->ops->op) ?  \\\n\t(f)->ops->op((f)->priv, ##args) : -ENOIOCTLCMD))\n\nint gb_camera_register(struct gb_camera_module *module);\nint gb_camera_unregister(struct gb_camera_module *module);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}