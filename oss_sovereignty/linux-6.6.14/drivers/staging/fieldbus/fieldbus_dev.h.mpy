{
  "module_name": "fieldbus_dev.h",
  "hash_id": "99835d3432dbe74e6e6298f644d2f84208e3c8cec4b5f13da5193d177dc05233",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/fieldbus/fieldbus_dev.h",
  "human_readable_source": " \n \n\n#ifndef __FIELDBUS_DEV_H\n#define __FIELDBUS_DEV_H\n\n#include <linux/cdev.h>\n#include <linux/wait.h>\n\nenum fieldbus_dev_type {\n\tFIELDBUS_DEV_TYPE_UNKNOWN = 0,\n\tFIELDBUS_DEV_TYPE_PROFINET,\n};\n\nenum fieldbus_dev_offl_mode {\n\tFIELDBUS_DEV_OFFL_MODE_CLEAR = 0,\n\tFIELDBUS_DEV_OFFL_MODE_FREEZE,\n\tFIELDBUS_DEV_OFFL_MODE_SET\n};\n\n \nstruct fieldbus_dev {\n\tssize_t (*read_area)(struct fieldbus_dev *fbdev, char __user *buf,\n\t\t\t     size_t size, loff_t *offset);\n\tssize_t (*write_area)(struct fieldbus_dev *fbdev,\n\t\t\t      const char __user *buf, size_t size,\n\t\t\t      loff_t *offset);\n\tsize_t write_area_sz, read_area_sz;\n\tconst char *card_name;\n\tenum fieldbus_dev_type fieldbus_type;\n\tbool (*enable_get)(struct fieldbus_dev *fbdev);\n\tint (*fieldbus_id_get)(struct fieldbus_dev *fbdev, char *buf,\n\t\t\t       size_t max_size);\n\tint (*simple_enable_set)(struct fieldbus_dev *fbdev, bool enable);\n\tstruct device *parent;\n\n\t \n\tint id;\n\tstruct cdev cdev;\n\tstruct device *dev;\n\tint dc_event;\n\twait_queue_head_t dc_wq;\n\tbool online;\n};\n\n#if IS_ENABLED(CONFIG_FIELDBUS_DEV)\n\n \nvoid fieldbus_dev_unregister(struct fieldbus_dev *fb);\n\n \nint __must_check fieldbus_dev_register(struct fieldbus_dev *fb);\n\n \nvoid fieldbus_dev_area_updated(struct fieldbus_dev *fb);\n\n \nvoid fieldbus_dev_online_changed(struct fieldbus_dev *fb, bool online);\n\n#else  \n\nstatic inline void fieldbus_dev_unregister(struct fieldbus_dev *fb) {}\nstatic inline int __must_check fieldbus_dev_register(struct fieldbus_dev *fb)\n{\n\treturn -ENOTSUPP;\n}\n\nstatic inline void fieldbus_dev_area_updated(struct fieldbus_dev *fb) {}\nstatic inline void fieldbus_dev_online_changed(struct fieldbus_dev *fb,\n\t\t\t\t\t       bool online) {}\n\n#endif  \n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}