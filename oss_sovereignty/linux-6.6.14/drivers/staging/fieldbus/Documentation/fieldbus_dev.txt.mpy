{
  "module_name": "fieldbus_dev.txt",
  "hash_id": "ff4138e2ddf6617a19904984201281b8978bedb09ba082907855d0689d1bba50",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/fieldbus/Documentation/fieldbus_dev.txt",
  "human_readable_source": "                       Fieldbus-Device Subsystem\n               ============================================\n\nPart 0 - What is a Fieldbus Device ?\n------------------------------------\n\nFieldbus is the name of a family of industrial computer network protocols used\nfor real-time distributed control, standardized as IEC 61158.\n\nA complex automated industrial system -- such as manufacturing assembly line --\nusually needs a distributed control system -- an organized hierarchy of\ncontroller systems -- to function. In this hierarchy, there is usually a\nHuman Machine Interface (HMI) at the top, where an operator can monitor or\noperate the system. This is typically linked to a middle layer of programmable\nlogic controllers (PLC) via a non-time-critical communications system\n(e.g. Ethernet). At the bottom of the control chain is the fieldbus that links\nthe PLCs to the components that actually do the work, such as sensors,\nactuators, electric motors, console lights, switches, valves and contactors.\n\n(Source: Wikipedia)\n\nA \"Fieldbus Device\" is such an actuator, motor, console light, switch, ...\ncontrolled via the Fieldbus by a PLC aka \"Fieldbus Controller\".\n\nCommunication between PLC and device typically happens via process data memory,\nseparated into input and output areas. The Fieldbus then cyclically transfers\nthe PLC's output area to the device's input area, and vice versa.\n\nPart I - Why do we need this subsystem?\n---------------------------------------\n\nFieldbus device (client) adapters are commercially available. They allow data\nexchange with a PLC aka \"Fieldbus Controller\" via process data memory.\n\nThey are typically used when a Linux device wants to expose itself as an\nactuator, motor, console light, switch, etc. over the fieldbus.\n\nThe purpose of this subsystem is:\na) present a general, standardized, extensible API/ABI to userspace; and\nb) present a convenient interface to drivers.\n\nPart II - How can drivers use the subsystem?\n--------------------------------------------\n\nAny driver that wants to register as a Fieldbus Device should allocate and\npopulate a 'struct fieldbus_dev' (from include/linux/fieldbus_dev.h).\nRegistration then happens by calling fieldbus_dev_register().\n\nPart III - How can userspace use the subsystem?\n-----------------------------------------------\n\nFieldbus protocols and adapters are diverse and varied. However, they share\na limited few common behaviours and properties. This allows us to define\na simple interface consisting of a character device and a set of sysfs files:\n\nSee:\ndrivers/staging/fieldbus/Documentation/ABI/sysfs-class-fieldbus-dev\ndrivers/staging/fieldbus/Documentation/ABI/fieldbus-dev-cdev\n\nNote that this simple interface does not provide a way to modify adapter\nconfiguration settings. It is therefore useful only for adapters that get their\nconfiguration settings some other way, e.g. non-volatile memory on the adapter,\nthrough the network, ...\n\nAt a later phase, this simple interface can easily co-exist with a future\n(netlink-based ?) configuration settings interface.\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}