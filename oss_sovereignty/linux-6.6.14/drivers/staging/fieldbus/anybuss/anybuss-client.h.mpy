{
  "module_name": "anybuss-client.h",
  "hash_id": "bc703de91853f92e8d9fd8eed071998df55d98986eb7fb5c2258ce8ef41bc58f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/fieldbus/anybuss/anybuss-client.h",
  "human_readable_source": " \n \n\n#ifndef __LINUX_ANYBUSS_CLIENT_H__\n#define __LINUX_ANYBUSS_CLIENT_H__\n\n#include <linux/device.h>\n#include <linux/types.h>\n#include <linux/poll.h>\n\n \n#include \"../fieldbus_dev.h\"\n\nstruct anybuss_host;\n\nstruct anybuss_client {\n\tstruct device dev;\n\tstruct anybuss_host *host;\n\t__be16 anybus_id;\n\t \n\tvoid (*on_area_updated)(struct anybuss_client *client);\n\tvoid (*on_online_changed)(struct anybuss_client *client, bool online);\n};\n\nstruct anybuss_client_driver {\n\tstruct device_driver driver;\n\tint (*probe)(struct anybuss_client *adev);\n\tvoid (*remove)(struct anybuss_client *adev);\n\tu16 anybus_id;\n};\n\nint anybuss_client_driver_register(struct anybuss_client_driver *drv);\nvoid anybuss_client_driver_unregister(struct anybuss_client_driver *drv);\n\nstatic inline struct anybuss_client *to_anybuss_client(struct device *dev)\n{\n\treturn container_of(dev, struct anybuss_client, dev);\n}\n\nstatic inline struct anybuss_client_driver *\nto_anybuss_client_driver(struct device_driver *drv)\n{\n\treturn container_of(drv, struct anybuss_client_driver, driver);\n}\n\nstatic inline void *\nanybuss_get_drvdata(const struct anybuss_client *client)\n{\n\treturn dev_get_drvdata(&client->dev);\n}\n\nstatic inline void\nanybuss_set_drvdata(struct anybuss_client *client, void *data)\n{\n\tdev_set_drvdata(&client->dev, data);\n}\n\nint anybuss_set_power(struct anybuss_client *client, bool power_on);\n\nstruct anybuss_memcfg {\n\tu16 input_io;\n\tu16 input_dpram;\n\tu16 input_total;\n\n\tu16 output_io;\n\tu16 output_dpram;\n\tu16 output_total;\n\n\tenum fieldbus_dev_offl_mode offl_mode;\n};\n\nint anybuss_start_init(struct anybuss_client *client,\n\t\t       const struct anybuss_memcfg *cfg);\nint anybuss_finish_init(struct anybuss_client *client);\nint anybuss_read_fbctrl(struct anybuss_client *client, u16 addr,\n\t\t\tvoid *buf, size_t count);\nint anybuss_send_msg(struct anybuss_client *client, u16 cmd_num,\n\t\t     const void *buf, size_t count);\nint anybuss_send_ext(struct anybuss_client *client, u16 cmd_num,\n\t\t     const void *buf, size_t count);\nint anybuss_recv_msg(struct anybuss_client *client, u16 cmd_num,\n\t\t     void *buf, size_t count);\n\n \nint anybuss_write_input(struct anybuss_client *client,\n\t\t\tconst char __user *buf, size_t size,\n\t\t\t\tloff_t *offset);\nint anybuss_read_output(struct anybuss_client *client,\n\t\t\tchar __user *buf, size_t size,\n\t\t\t\tloff_t *offset);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}