{
  "module_name": "rtl_core.h",
  "hash_id": "23c9e14a9e6ff17f06eb1b62c2df45a92aa94eabfd80efd108fe73afffbf3574",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/rtl8192e/rtl8192e/rtl_core.h",
  "human_readable_source": " \n \n#ifndef _RTL_CORE_H\n#define _RTL_CORE_H\n\n#include <linux/module.h>\n#include <linux/kernel.h>\n#include <linux/ioport.h>\n#include <linux/sched.h>\n#include <linux/types.h>\n#include <linux/interrupt.h>\n#include <linux/slab.h>\n#include <linux/netdevice.h>\n#include <linux/pci.h>\n#include <linux/etherdevice.h>\n#include <linux/delay.h>\n#include <linux/rtnetlink.h>\n#include <linux/wireless.h>\n#include <linux/timer.h>\n#include <linux/proc_fs.h>\n#include <linux/if_arp.h>\n#include <linux/random.h>\n#include <linux/io.h>\n\n \n#define DRV_NAME \"rtl819xE\"\n\n#include \"../rtllib.h\"\n\n#include \"../dot11d.h\"\n\n#include \"r8192E_firmware.h\"\n#include \"r8192E_hw.h\"\n\n#include \"r8190P_def.h\"\n#include \"r8192E_dev.h\"\n\n#include \"rtl_eeprom.h\"\n#include \"rtl_ps.h\"\n#include \"rtl_pci.h\"\n#include \"rtl_cam.h\"\n\n#define DRV_COPYRIGHT\t\t\\\n\t\"Copyright(c) 2008 - 2010 Realsil Semiconductor Corporation\"\n#define DRV_AUTHOR  \"<wlanfae@realtek.com>\"\n#define DRV_VERSION  \"0014.0401.2010\"\n\n#define TOTAL_CAM_ENTRY\t\t32\n#define CAM_CONTENT_COUNT\t8\n\n#define HAL_HW_PCI_REVISION_ID_8192PCIE\t\t0x01\n#define HAL_HW_PCI_REVISION_ID_8192SE\t0x10\n\n#define RTLLIB_WATCH_DOG_TIME\t\t2000\n\n#define MAX_DEV_ADDR_SIZE\t\t8   \n#define MAX_FIRMWARE_INFORMATION_SIZE   32\n#define MAX_802_11_HEADER_LENGTH\t(40 + MAX_FIRMWARE_INFORMATION_SIZE)\n#define ENCRYPTION_MAX_OVERHEAD\t\t128\n#define MAX_FRAGMENT_COUNT\t\t8\n#define MAX_TRANSMIT_BUFFER_SIZE\t\\\n\t(1600 + (MAX_802_11_HEADER_LENGTH + ENCRYPTION_MAX_OVERHEAD) *\t\\\n\t MAX_FRAGMENT_COUNT)\n\n#define CMDPACKET_FRAG_SIZE (4 * (MAX_TRANSMIT_BUFFER_SIZE / 4) - 8)\n\n#define DEFAULT_FRAG_THRESHOLD\t2342U\n#define MIN_FRAG_THRESHOLD\t256U\n#define DEFAULT_BEACONINTERVAL\t0x64U\n\n#define DEFAULT_RETRY_RTS\t7\n#define DEFAULT_RETRY_DATA\t7\n\n#define\tPHY_RSSI_SLID_WIN_MAX\t\t\t100\n\n#define TX_BB_GAIN_TABLE_LEN\t\t\t37\n#define CCK_TX_BB_GAIN_TABLE_LEN\t\t23\n\n#define CHANNEL_PLAN_LEN\t\t\t10\n#define S_CRC_LEN\t\t\t\t4\n\n#define NIC_SEND_HANG_THRESHOLD_NORMAL\t\t4\n#define NIC_SEND_HANG_THRESHOLD_POWERSAVE\t8\n\n#define MAX_TX_QUEUE\t\t\t\t9\n\n#define MAX_RX_QUEUE\t\t\t\t1\n\n#define MAX_RX_COUNT\t\t\t\t64\n#define MAX_TX_QUEUE_COUNT\t\t\t9\n\nextern int hwwep;\n\nenum nic_t {\n\tNIC_UNKNOWN     = 0,\n\tNIC_8192E       = 1,\n\tNIC_8190P       = 2,\n\tNIC_8192SE      = 4,\n\tNIC_8192CE\t= 5,\n\tNIC_8192CU\t= 6,\n\tNIC_8192DE\t= 7,\n\tNIC_8192DU\t= 8,\n};\n\nenum rt_eeprom_type {\n\tEEPROM_93C46,\n\tEEPROM_93C56,\n};\n\nenum dcmg_txcmd_op {\n\tTXCMD_TXRA_HISTORY_CTRL\t\t= 0xFF900000,\n\tTXCMD_RESET_TX_PKT_BUFF\t\t= 0xFF900001,\n\tTXCMD_RESET_RX_PKT_BUFF\t\t= 0xFF900002,\n\tTXCMD_SET_TX_DURATION\t\t= 0xFF900003,\n\tTXCMD_SET_RX_RSSI\t\t= 0xFF900004,\n\tTXCMD_SET_TX_PWR_TRACKING\t= 0xFF900005,\n\tTXCMD_XXXX_CTRL,\n};\n\nenum rt_customer_id {\n\tRT_CID_DEFAULT\t  = 0,\n\tRT_CID_TOSHIBA\t  = 9,\n\tRT_CID_819X_NETCORE     = 10,\n};\n\nenum reset_type {\n\tRESET_TYPE_NORESET = 0x00,\n\tRESET_TYPE_NORMAL = 0x01,\n\tRESET_TYPE_SILENT = 0x02\n};\n\nstruct rt_stats {\n\tunsigned long received_rate_histogram[4][32];\n\tunsigned long txbytesunicast;\n\tunsigned long rxbytesunicast;\n\tunsigned long txretrycount;\n\tu8\tlast_packet_rate;\n\tunsigned long slide_signal_strength[100];\n\tunsigned long slide_evm[100];\n\tunsigned long\tslide_rssi_total;\n\tunsigned long slide_evm_total;\n\tlong signal_strength;\n\tlong last_signal_strength_inpercent;\n\tlong\trecv_signal_power;\n\tu8 rx_rssi_percentage[4];\n\tu8 rx_evm_percentage[2];\n\tu32 slide_beacon_pwdb[100];\n\tu32 slide_beacon_total;\n\tu32\tCurrentShowTxate;\n};\n\nstruct init_gain {\n\tu8\txaagccore1;\n\tu8\txbagccore1;\n\tu8\txcagccore1;\n\tu8\txdagccore1;\n\tu8\tcca;\n\n};\n\nstruct tx_ring {\n\tu32 *desc;\n\tu8 nStuckCount;\n\tstruct tx_ring *next;\n} __packed;\n\nstruct rtl8192_tx_ring {\n\tstruct tx_desc *desc;\n\tdma_addr_t dma;\n\tunsigned int idx;\n\tunsigned int entries;\n\tstruct sk_buff_head queue;\n};\n\nstruct r8192_priv {\n\tstruct pci_dev *pdev;\n\tstruct pci_dev *bridge_pdev;\n\n\tbool\t\tbfirst_after_down;\n\tbool\t\tbeing_init_adapter;\n\n\tint\t\tirq;\n\tshort\tirq_enabled;\n\n\tshort\tup;\n\tshort\tup_first_time;\n\tstruct delayed_work\t\tupdate_beacon_wq;\n\tstruct delayed_work\t\twatch_dog_wq;\n\tstruct delayed_work\t\ttxpower_tracking_wq;\n\tstruct delayed_work\t\trfpath_check_wq;\n\tstruct delayed_work\t\tgpio_change_rf_wq;\n\tstruct rtllib_device\t\t\t*rtllib;\n\n\tstruct work_struct\t\t\t\treset_wq;\n\n\tenum rt_customer_id customer_id;\n\n\tenum ht_channel_width current_chnl_bw;\n\tstruct bb_reg_definition phy_reg_def[4];\n\tstruct rate_adaptive rate_adaptive;\n\n\tstruct rt_firmware *fw_info;\n\tenum rtl819x_loopback loopback_mode;\n\n\tstruct timer_list\t\t\twatch_dog_timer;\n\tstruct timer_list\t\t\tfsync_timer;\n\tstruct timer_list\t\t\tgpio_polling_timer;\n\n\tspinlock_t\t\t\t\tirq_th_lock;\n\tspinlock_t\t\t\t\ttx_lock;\n\tspinlock_t\t\t\t\trf_ps_lock;\n\tspinlock_t\t\t\t\tps_lock;\n\n\tstruct sk_buff_head\t\tskb_queue;\n\n\tstruct tasklet_struct\t\tirq_rx_tasklet;\n\tstruct tasklet_struct\t\tirq_tx_tasklet;\n\tstruct tasklet_struct\t\tirq_prepare_beacon_tasklet;\n\n\tstruct mutex\t\t\t\twx_mutex;\n\tstruct mutex\t\t\t\trf_mutex;\n\tstruct mutex\t\t\t\tmutex;\n\n\tstruct rt_stats stats;\n\tstruct iw_statistics\t\t\twstats;\n\n\tu8 (*rf_set_chan)(struct net_device *dev, u8 ch);\n\n\tstruct rx_desc *rx_ring[MAX_RX_QUEUE];\n\tstruct sk_buff\t*rx_buf[MAX_RX_QUEUE][MAX_RX_COUNT];\n\tdma_addr_t\trx_ring_dma[MAX_RX_QUEUE];\n\tunsigned int\trx_idx[MAX_RX_QUEUE];\n\tint\t\trxringcount;\n\tu16\t\trxbuffersize;\n\n\tu64 last_rx_desc_tsf;\n\n\tu32 receive_config;\n\tu8\t\tretry_data;\n\tu8\t\tretry_rts;\n\tu16\t\trts;\n\n\tstruct rtl8192_tx_ring tx_ring[MAX_TX_QUEUE_COUNT];\n\tint\t\t txringcount;\n\tatomic_t\ttx_pending[0x10];\n\n\tu16 short_retry_limit;\n\tu16 long_retry_limit;\n\n\tbool\t\thw_radio_off;\n\tbool\t\tblinked_ingpio;\n\tu8\t\tpolling_timer_on;\n\n\t \n\tstruct work_struct qos_activate;\n\n\tshort\tpromisc;\n\n\tshort\tchan;\n\tbool ps_force;\n\n\tu32 irq_mask[2];\n\n\tu8 rf_mode;\n\tenum nic_t card_8192;\n\tu8 card_8192_version;\n\n\tu8 ic_cut;\n\tchar nick[IW_ESSID_MAX_SIZE + 1];\n\tu8 check_roaming_cnt;\n\n\tu32 silent_reset_rx_slot_index;\n\tu32 silent_reset_rx_stuck_event[MAX_SILENT_RESET_RX_SLOT_NUM];\n\n\tu16 basic_rate;\n\tu8 short_preamble;\n\tu8 dot11_current_preamble_mode;\n\tu8 slot_time;\n\n\tbool autoload_fail_flag;\n\n\tshort\tepromtype;\n\tu16 eeprom_vid;\n\tu16 eeprom_did;\n\tu8 eeprom_customer_id;\n\tu16 eeprom_chnl_plan;\n\n\tu8 eeprom_tx_pwr_level_cck[14];\n\tu8 eeprom_tx_pwr_level_ofdm24g[14];\n\tu16 eeprom_ant_pwr_diff;\n\tu8 eeprom_thermal_meter;\n\tu8 eeprom_crystal_cap;\n\n\tu8 eeprom_legacy_ht_tx_pwr_diff;\n\n\tu8 crystal_cap;\n\tu8 thermal_meter[2];\n\n\tu8 sw_chnl_in_progress;\n\tu8 sw_chnl_stage;\n\tu8 sw_chnl_step;\n\tu8 set_bw_mode_in_progress;\n\n\tu8 n_cur_40mhz_prime_sc;\n\n\tu32 rf_reg_0value[4];\n\tu8 num_total_rf_path;\n\tbool brfpath_rxenable[4];\n\n\tbool tx_pwr_data_read_from_eeprom;\n\n\tu16 chnl_plan;\n\tu8 hw_rf_off_action;\n\n\tbool rf_change_in_progress;\n\tbool set_rf_pwr_state_in_progress;\n\n\tu8 cck_pwr_enl;\n\tu16 tssi_13dBm;\n\tu32 pwr_track;\n\tu8 cck_present_attn_20m_def;\n\tu8 cck_present_attn_40m_def;\n\ts8 cck_present_attn_diff;\n\ts8 cck_present_attn;\n\tlong undecorated_smoothed_pwdb;\n\n\tu32 mcs_tx_pwr_level_org_offset[6];\n\tu8 tx_pwr_level_cck[14];\n\tu8 tx_pwr_level_ofdm_24g[14];\n\tu8 legacy_ht_tx_pwr_diff;\n\tu8 antenna_tx_pwr_diff[3];\n\n\tbool\t\tdynamic_tx_high_pwr;\n\tbool\t\tdynamic_tx_low_pwr;\n\tbool\t\tlast_dtp_flag_high;\n\tbool\t\tlast_dtp_flag_low;\n\n\tu8\t\trfa_txpowertrackingindex;\n\tu8\t\trfa_txpowertrackingindex_real;\n\tu8\t\trfa_txpowertracking_default;\n\tu8\t\trfc_txpowertrackingindex;\n\tbool\t\tbtxpower_tracking;\n\tbool\t\tbcck_in_ch14;\n\n\tu8\t\ttxpower_count;\n\tbool\t\ttx_pwr_tracking_init;\n\n\tu8\t\tofdm_index[2];\n\tu8\t\tcck_index;\n\n\tu8\t\trec_cck_20m_idx;\n\tu8\t\trec_cck_40m_idx;\n\n\tstruct init_gain initgain_backup;\n\tu8\t\tdef_initial_gain[4];\n\tbool\t\tbis_any_nonbepkts;\n\tbool\t\tbcurrent_turbo_EDCA;\n\tbool\t\tbis_cur_rdlstate;\n\n\tu32\t\trate_record;\n\tu32\t\trate_count_diff_rec;\n\tu32\t\tcontinue_diff_count;\n\tbool\t\tbswitch_fsync;\n\tu8\t\tframesync;\n\tu32\t\treset_count;\n\n\tenum reset_type rst_progress;\n\tu16\t\ttx_counter;\n\tu16\t\trx_ctr;\n\tbool\t\treset_in_progress;\n\tbool\t\tforce_reset;\n\tbool\t\tforce_lps;\n};\n\nextern const struct ethtool_ops rtl819x_ethtool_ops;\n\nu8 rtl92e_readb(struct net_device *dev, int x);\nu32 rtl92e_readl(struct net_device *dev, int x);\nu16 rtl92e_readw(struct net_device *dev, int x);\nvoid rtl92e_writeb(struct net_device *dev, int x, u8 y);\nvoid rtl92e_writew(struct net_device *dev, int x, u16 y);\nvoid rtl92e_writel(struct net_device *dev, int x, u32 y);\n\nvoid force_pci_posting(struct net_device *dev);\n\nvoid rtl92e_rx_enable(struct net_device *dev);\nvoid rtl92e_tx_enable(struct net_device *dev);\n\nvoid rtl92e_hw_sleep_wq(void *data);\nvoid rtl92e_commit(struct net_device *dev);\n\nvoid rtl92e_check_rfctrl_gpio_timer(struct timer_list *t);\n\nvoid rtl92e_hw_wakeup_wq(void *data);\n\nvoid rtl92e_reset_desc_ring(struct net_device *dev);\nvoid rtl92e_set_wireless_mode(struct net_device *dev, u8 wireless_mode);\nvoid rtl92e_irq_enable(struct net_device *dev);\nvoid rtl92e_config_rate(struct net_device *dev, u16 *rate_config);\nvoid rtl92e_irq_disable(struct net_device *dev);\n\nvoid rtl92e_update_rx_pkt_timestamp(struct net_device *dev,\n\t\t\t\t    struct rtllib_rx_stats *stats);\nlong rtl92e_translate_to_dbm(struct r8192_priv *priv, u8 signal_strength_index);\nvoid rtl92e_update_rx_statistics(struct r8192_priv *priv,\n\t\t\t\t struct rtllib_rx_stats *pprevious_stats);\nu8 rtl92e_evm_db_to_percent(s8 value);\nu8 rtl92e_rx_db_to_percent(s8 antpower);\nvoid rtl92e_copy_mpdu_stats(struct rtllib_rx_stats *psrc_stats,\n\t\t\t    struct rtllib_rx_stats *ptarget_stats);\nbool rtl92e_enable_nic(struct net_device *dev);\n\nbool rtl92e_set_rf_state(struct net_device *dev,\n\t\t\t enum rt_rf_power_state state_to_set,\n\t\t\t RT_RF_CHANGE_SOURCE change_source);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}