{
  "module_name": "rtl8723b_rf6052.c",
  "hash_id": "4a39a72e077cc3f96c4c3d9f57181780736e451c25a44c574b539f4bfe9e95a9",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/rtl8723bs/hal/rtl8723b_rf6052.c",
  "human_readable_source": "\n \n \n\n#include <rtl8723b_hal.h>\n\n \n \n\n\n \n \n\n\n \n \n \n\n \nvoid PHY_RF6052SetBandwidth8723B(\n\tstruct adapter *Adapter, enum channel_width Bandwidth\n)  \n{\n\tstruct hal_com_data *pHalData = GET_HAL_DATA(Adapter);\n\n\tswitch (Bandwidth) {\n\tcase CHANNEL_WIDTH_20:\n\t\tpHalData->RfRegChnlVal[0] = ((pHalData->RfRegChnlVal[0] & 0xfffff3ff) | BIT10 | BIT11);\n\t\tPHY_SetRFReg(Adapter, RF_PATH_A, RF_CHNLBW, bRFRegOffsetMask, pHalData->RfRegChnlVal[0]);\n\t\tPHY_SetRFReg(Adapter, RF_PATH_B, RF_CHNLBW, bRFRegOffsetMask, pHalData->RfRegChnlVal[0]);\n\t\tbreak;\n\n\tcase CHANNEL_WIDTH_40:\n\t\tpHalData->RfRegChnlVal[0] = ((pHalData->RfRegChnlVal[0] & 0xfffff3ff) | BIT10);\n\t\tPHY_SetRFReg(Adapter, RF_PATH_A, RF_CHNLBW, bRFRegOffsetMask, pHalData->RfRegChnlVal[0]);\n\t\tPHY_SetRFReg(Adapter, RF_PATH_B, RF_CHNLBW, bRFRegOffsetMask, pHalData->RfRegChnlVal[0]);\n\t\tbreak;\n\n\tdefault:\n\t\tbreak;\n\t}\n\n}\n\nstatic int phy_RF6052_Config_ParaFile(struct adapter *Adapter)\n{\n\tu32 u4RegValue = 0;\n\tu8 eRFPath;\n\tstruct bb_register_def *pPhyReg;\n\tstruct hal_com_data *pHalData = GET_HAL_DATA(Adapter);\n\n\t \n\t \n\t \n\t \n\tfor (eRFPath = 0; eRFPath < pHalData->NumTotalRFPath; eRFPath++) {\n\n\t\tpPhyReg = &pHalData->PHYRegDef[eRFPath];\n\n\t\t \n\t\tswitch (eRFPath) {\n\t\tcase RF_PATH_A:\n\t\t\tu4RegValue = PHY_QueryBBReg(Adapter, pPhyReg->rfintfs, bRFSI_RFENV);\n\t\t\tbreak;\n\t\tcase RF_PATH_B:\n\t\t\tu4RegValue = PHY_QueryBBReg(Adapter, pPhyReg->rfintfs, bRFSI_RFENV << 16);\n\t\t\tbreak;\n\t\t}\n\n\t\t \n\t\tPHY_SetBBReg(Adapter, pPhyReg->rfintfe, bRFSI_RFENV << 16, 0x1);\n\t\tudelay(1); \n\n\t\t \n\t\tPHY_SetBBReg(Adapter, pPhyReg->rfintfo, bRFSI_RFENV, 0x1);\n\t\tudelay(1); \n\n\t\t \n\t\tPHY_SetBBReg(Adapter, pPhyReg->rfHSSIPara2, b3WireAddressLength, 0x0);\t \n\t\tudelay(1); \n\n\t\tPHY_SetBBReg(Adapter, pPhyReg->rfHSSIPara2, b3WireDataLength, 0x0);\t \n\t\tudelay(1); \n\n\t\t \n\t\tswitch (eRFPath) {\n\t\tcase RF_PATH_A:\n\t\tcase RF_PATH_B:\n\t\t\tODM_ConfigRFWithHeaderFile(&pHalData->odmpriv,\n\t\t\t\t\t\t   CONFIG_RF_RADIO, eRFPath);\n\t\t\tbreak;\n\t\t}\n\n\t\t \n\t\tswitch (eRFPath) {\n\t\tcase RF_PATH_A:\n\t\t\tPHY_SetBBReg(Adapter, pPhyReg->rfintfs, bRFSI_RFENV, u4RegValue);\n\t\t\tbreak;\n\t\tcase RF_PATH_B:\n\t\t\tPHY_SetBBReg(Adapter, pPhyReg->rfintfs, bRFSI_RFENV << 16, u4RegValue);\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t \n\t \n\t \n\n\tODM_ConfigRFWithTxPwrTrackHeaderFile(&pHalData->odmpriv);\n\n\treturn _SUCCESS;\n}\n\n\nint PHY_RF6052_Config8723B(struct adapter *Adapter)\n{\n\tstruct hal_com_data *pHalData = GET_HAL_DATA(Adapter);\n\n\t \n\t \n\t \n\tpHalData->NumTotalRFPath = 1;\n\n\t \n\t \n\t \n\treturn phy_RF6052_Config_ParaFile(Adapter);\n\n}\n\n \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}