{
  "module_name": "HalHWImg8723B_MAC.c",
  "hash_id": "770dbb948248af4305e4164c4ff91b76ad7896965b8d2364640634093566b68f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/rtl8723bs/hal/HalHWImg8723B_MAC.c",
  "human_readable_source": "\n \n\n#include <linux/kernel.h>\n#include \"odm_precomp.h\"\n\nstatic bool CheckPositive(\n\tstruct dm_odm_t *pDM_Odm, const u32 Condition1, const u32 Condition2\n)\n{\n\tu8 _BoardType =\n\t\t((pDM_Odm->BoardType & BIT4) >> 4) << 0 |  \n\t\t((pDM_Odm->BoardType & BIT3) >> 3) << 1 |  \n\t\t((pDM_Odm->BoardType & BIT7) >> 7) << 2 |  \n\t\t((pDM_Odm->BoardType & BIT6) >> 6) << 3 |  \n\t\t((pDM_Odm->BoardType & BIT2) >> 2) << 4;   \n\n\tu32   cond1   = Condition1, cond2 = Condition2;\n\tu32    driver1 =\n\t\tpDM_Odm->CutVersion       << 24 |\n\t\tpDM_Odm->SupportPlatform  << 16 |\n\t\tpDM_Odm->PackageType      << 12 |\n\t\tpDM_Odm->SupportInterface << 8  |\n\t\t_BoardType;\n\n\tu32 driver2 =\n\t\tpDM_Odm->TypeGLNA <<  0 |\n\t\tpDM_Odm->TypeGPA  <<  8 |\n\t\tpDM_Odm->TypeALNA << 16 |\n\t\tpDM_Odm->TypeAPA  << 24;\n\n\n\t \n\t \n\n\tif (((cond1 & 0x0000F000) != 0) && ((cond1 & 0x0000F000) != (driver1 & 0x0000F000)))\n\t\treturn false;\n\tif (((cond1 & 0x0F000000) != 0) && ((cond1 & 0x0F000000) != (driver1 & 0x0F000000)))\n\t\treturn false;\n\n\t \n\t \n\t \n\tcond1   &= 0x000F0FFF;\n\tdriver1 &= 0x000F0FFF;\n\n\tif ((cond1 & driver1) == cond1) {\n\t\tu32 bitMask = 0;\n\t\tif ((cond1 & 0x0F) == 0)  \n\t\t\treturn true;\n\n\t\tif ((cond1 & BIT0) != 0)  \n\t\t\tbitMask |= 0x000000FF;\n\t\tif ((cond1 & BIT1) != 0)  \n\t\t\tbitMask |= 0x0000FF00;\n\t\tif ((cond1 & BIT2) != 0)  \n\t\t\tbitMask |= 0x00FF0000;\n\t\tif ((cond1 & BIT3) != 0)  \n\t\t\tbitMask |= 0xFF000000;\n\n\t\tif ((cond2 & bitMask) == (driver2 & bitMask))  \n\t\t\treturn true;\n\t}\n\treturn false;\n}\n\nstatic bool CheckNegative(\n\tstruct dm_odm_t *pDM_Odm, const u32 Condition1, const u32 Condition2\n)\n{\n\treturn true;\n}\n\n \n\nstatic u32 Array_MP_8723B_MAC_REG[] = {\n\t\t0x02F, 0x00000030,\n\t\t0x035, 0x00000000,\n\t\t0x039, 0x00000008,\n\t\t0x04E, 0x000000E0,\n\t\t0x064, 0x00000000,\n\t\t0x067, 0x00000020,\n\t\t0x428, 0x0000000A,\n\t\t0x429, 0x00000010,\n\t\t0x430, 0x00000000,\n\t\t0x431, 0x00000000,\n\t\t0x432, 0x00000000,\n\t\t0x433, 0x00000001,\n\t\t0x434, 0x00000004,\n\t\t0x435, 0x00000005,\n\t\t0x436, 0x00000007,\n\t\t0x437, 0x00000008,\n\t\t0x43C, 0x00000004,\n\t\t0x43D, 0x00000005,\n\t\t0x43E, 0x00000007,\n\t\t0x43F, 0x00000008,\n\t\t0x440, 0x0000005D,\n\t\t0x441, 0x00000001,\n\t\t0x442, 0x00000000,\n\t\t0x444, 0x00000010,\n\t\t0x445, 0x00000000,\n\t\t0x446, 0x00000000,\n\t\t0x447, 0x00000000,\n\t\t0x448, 0x00000000,\n\t\t0x449, 0x000000F0,\n\t\t0x44A, 0x0000000F,\n\t\t0x44B, 0x0000003E,\n\t\t0x44C, 0x00000010,\n\t\t0x44D, 0x00000000,\n\t\t0x44E, 0x00000000,\n\t\t0x44F, 0x00000000,\n\t\t0x450, 0x00000000,\n\t\t0x451, 0x000000F0,\n\t\t0x452, 0x0000000F,\n\t\t0x453, 0x00000000,\n\t\t0x456, 0x0000005E,\n\t\t0x460, 0x00000066,\n\t\t0x461, 0x00000066,\n\t\t0x4C8, 0x000000FF,\n\t\t0x4C9, 0x00000008,\n\t\t0x4CC, 0x000000FF,\n\t\t0x4CD, 0x000000FF,\n\t\t0x4CE, 0x00000001,\n\t\t0x500, 0x00000026,\n\t\t0x501, 0x000000A2,\n\t\t0x502, 0x0000002F,\n\t\t0x503, 0x00000000,\n\t\t0x504, 0x00000028,\n\t\t0x505, 0x000000A3,\n\t\t0x506, 0x0000005E,\n\t\t0x507, 0x00000000,\n\t\t0x508, 0x0000002B,\n\t\t0x509, 0x000000A4,\n\t\t0x50A, 0x0000005E,\n\t\t0x50B, 0x00000000,\n\t\t0x50C, 0x0000004F,\n\t\t0x50D, 0x000000A4,\n\t\t0x50E, 0x00000000,\n\t\t0x50F, 0x00000000,\n\t\t0x512, 0x0000001C,\n\t\t0x514, 0x0000000A,\n\t\t0x516, 0x0000000A,\n\t\t0x525, 0x0000004F,\n\t\t0x550, 0x00000010,\n\t\t0x551, 0x00000010,\n\t\t0x559, 0x00000002,\n\t\t0x55C, 0x00000050,\n\t\t0x55D, 0x000000FF,\n\t\t0x605, 0x00000030,\n\t\t0x608, 0x0000000E,\n\t\t0x609, 0x0000002A,\n\t\t0x620, 0x000000FF,\n\t\t0x621, 0x000000FF,\n\t\t0x622, 0x000000FF,\n\t\t0x623, 0x000000FF,\n\t\t0x624, 0x000000FF,\n\t\t0x625, 0x000000FF,\n\t\t0x626, 0x000000FF,\n\t\t0x627, 0x000000FF,\n\t\t0x638, 0x00000050,\n\t\t0x63C, 0x0000000A,\n\t\t0x63D, 0x0000000A,\n\t\t0x63E, 0x0000000E,\n\t\t0x63F, 0x0000000E,\n\t\t0x640, 0x00000040,\n\t\t0x642, 0x00000040,\n\t\t0x643, 0x00000000,\n\t\t0x652, 0x000000C8,\n\t\t0x66E, 0x00000005,\n\t\t0x700, 0x00000021,\n\t\t0x701, 0x00000043,\n\t\t0x702, 0x00000065,\n\t\t0x703, 0x00000087,\n\t\t0x708, 0x00000021,\n\t\t0x709, 0x00000043,\n\t\t0x70A, 0x00000065,\n\t\t0x70B, 0x00000087,\n\t\t0x765, 0x00000018,\n\t\t0x76E, 0x00000004,\n\n};\n\nvoid ODM_ReadAndConfig_MP_8723B_MAC_REG(struct dm_odm_t *pDM_Odm)\n{\n\tu32 i = 0;\n\tu32 ArrayLen = ARRAY_SIZE(Array_MP_8723B_MAC_REG);\n\tu32 *Array = Array_MP_8723B_MAC_REG;\n\n\tfor (i = 0; i < ArrayLen; i += 2) {\n\t\tu32 v1 = Array[i];\n\t\tu32 v2 = Array[i+1];\n\n\t\t \n\t\tif (v1 < 0x40000000) {\n\t\t\todm_ConfigMAC_8723B(pDM_Odm, v1, (u8)v2);\n\t\t\tcontinue;\n\t\t} else {\n\t\t\t \n\t\t\tbool bMatched = true;\n\t\t\tu8  cCond  = (u8)((v1 & (BIT29|BIT28)) >> 28);\n\n\t\t\tif (cCond == COND_ELSE) {  \n\t\t\t\tbMatched = true;\n\t\t\t\tREAD_NEXT_PAIR(v1, v2, i);\n\t\t\t} else if (!CheckPositive(pDM_Odm, v1, v2)) {\n\t\t\t\tbMatched = false;\n\t\t\t\tREAD_NEXT_PAIR(v1, v2, i);\n\t\t\t\tREAD_NEXT_PAIR(v1, v2, i);\n\t\t\t} else {\n\t\t\t\tREAD_NEXT_PAIR(v1, v2, i);\n\t\t\t\tif (!CheckNegative(pDM_Odm, v1, v2))\n\t\t\t\t\tbMatched = false;\n\t\t\t\telse\n\t\t\t\t\tbMatched = true;\n\t\t\t\tREAD_NEXT_PAIR(v1, v2, i);\n\t\t\t}\n\n\t\t\tif (!bMatched) {\n\t\t\t\t \n\t\t\t\twhile (v1 < 0x40000000 && i < ArrayLen-2)\n\t\t\t\t\tREAD_NEXT_PAIR(v1, v2, i);\n\n\t\t\t\ti -= 2;  \n\t\t\t} else {  \n\t\t\t\twhile (v1 < 0x40000000 && i < ArrayLen-2) {\n\t\t\t\t\todm_ConfigMAC_8723B(pDM_Odm, v1, (u8)v2);\n\t\t\t\t\tREAD_NEXT_PAIR(v1, v2, i);\n\t\t\t\t}\n\n\t\t\t\t \n\t\t\t\tcCond = (u8)((v1 & (BIT29|BIT28)) >> 28);\n\t\t\t\twhile (cCond != COND_ENDIF && i < ArrayLen-2) {\n\t\t\t\t\tREAD_NEXT_PAIR(v1, v2, i);\n\t\t\t\t\tcCond = (u8)((v1 & (BIT29|BIT28)) >> 28);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}