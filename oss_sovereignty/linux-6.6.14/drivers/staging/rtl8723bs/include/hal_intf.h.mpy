{
  "module_name": "hal_intf.h",
  "hash_id": "8eddd0bed0c08960d9ece69c9c25adda9b35478041c3a9130f7fd9acd3fa97f9",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/rtl8723bs/include/hal_intf.h",
  "human_readable_source": " \n \n#ifndef __HAL_INTF_H__\n#define __HAL_INTF_H__\n\n\nenum {\n\tRTW_PCIE\t= BIT0,\n\tRTW_USB\t\t= BIT1,\n\tRTW_SDIO\t= BIT2,\n\tRTW_GSPI\t= BIT3,\n};\n\nenum {\n\tHW_VAR_MEDIA_STATUS,\n\tHW_VAR_MEDIA_STATUS1,\n\tHW_VAR_SET_OPMODE,\n\tHW_VAR_MAC_ADDR,\n\tHW_VAR_BSSID,\n\tHW_VAR_INIT_RTS_RATE,\n\tHW_VAR_BASIC_RATE,\n\tHW_VAR_TXPAUSE,\n\tHW_VAR_BCN_FUNC,\n\tHW_VAR_CORRECT_TSF,\n\tHW_VAR_CHECK_BSSID,\n\tHW_VAR_MLME_DISCONNECT,\n\tHW_VAR_MLME_SITESURVEY,\n\tHW_VAR_MLME_JOIN,\n\tHW_VAR_ON_RCR_AM,\n\tHW_VAR_OFF_RCR_AM,\n\tHW_VAR_BEACON_INTERVAL,\n\tHW_VAR_SLOT_TIME,\n\tHW_VAR_RESP_SIFS,\n\tHW_VAR_ACK_PREAMBLE,\n\tHW_VAR_SEC_CFG,\n\tHW_VAR_SEC_DK_CFG,\n\tHW_VAR_BCN_VALID,\n\tHW_VAR_RF_TYPE,\n\tHW_VAR_DM_FLAG,\n\tHW_VAR_DM_FUNC_OP,\n\tHW_VAR_DM_FUNC_SET,\n\tHW_VAR_DM_FUNC_CLR,\n\tHW_VAR_CAM_EMPTY_ENTRY,\n\tHW_VAR_CAM_INVALID_ALL,\n\tHW_VAR_CAM_WRITE,\n\tHW_VAR_CAM_READ,\n\tHW_VAR_AC_PARAM_VO,\n\tHW_VAR_AC_PARAM_VI,\n\tHW_VAR_AC_PARAM_BE,\n\tHW_VAR_AC_PARAM_BK,\n\tHW_VAR_ACM_CTRL,\n\tHW_VAR_AMPDU_MIN_SPACE,\n\tHW_VAR_AMPDU_FACTOR,\n\tHW_VAR_RXDMA_AGG_PG_TH,\n\tHW_VAR_SET_RPWM,\n\tHW_VAR_CPWM,\n\tHW_VAR_H2C_FW_PWRMODE,\n\tHW_VAR_H2C_PS_TUNE_PARAM,\n\tHW_VAR_H2C_FW_JOINBSSRPT,\n\tHW_VAR_FWLPS_RF_ON,\n\tHW_VAR_H2C_FW_P2P_PS_OFFLOAD,\n\tHW_VAR_TDLS_WRCR,\n\tHW_VAR_TDLS_INIT_CH_SEN,\n\tHW_VAR_TDLS_RS_RCR,\n\tHW_VAR_TDLS_DONE_CH_SEN,\n\tHW_VAR_INITIAL_GAIN,\n\tHW_VAR_TRIGGER_GPIO_0,\n\tHW_VAR_BT_SET_COEXIST,\n\tHW_VAR_BT_ISSUE_DELBA,\n\tHW_VAR_CURRENT_ANTENNA,\n\tHW_VAR_ANTENNA_DIVERSITY_LINK,\n\tHW_VAR_ANTENNA_DIVERSITY_SELECT,\n\tHW_VAR_SWITCH_EPHY_WoWLAN,\n\tHW_VAR_EFUSE_USAGE,\n\tHW_VAR_EFUSE_BYTES,\n\tHW_VAR_EFUSE_BT_USAGE,\n\tHW_VAR_EFUSE_BT_BYTES,\n\tHW_VAR_FIFO_CLEARN_UP,\n\tHW_VAR_CHECK_TXBUF,\n\tHW_VAR_PCIE_STOP_TX_DMA,\n\tHW_VAR_APFM_ON_MAC,  \n\t \n\t \n\tHW_VAR_SYS_CLKR,\n\tHW_VAR_NAV_UPPER,\n\tHW_VAR_C2H_HANDLE,\n\tHW_VAR_RPT_TIMER_SETTING,\n\tHW_VAR_TX_RPT_MAX_MACID,\n\tHW_VAR_H2C_MEDIA_STATUS_RPT,\n\tHW_VAR_CHK_HI_QUEUE_EMPTY,\n\tHW_VAR_DL_BCN_SEL,\n\tHW_VAR_AMPDU_MAX_TIME,\n\tHW_VAR_WIRELESS_MODE,\n\tHW_VAR_USB_MODE,\n\tHW_VAR_PORT_SWITCH,\n\tHW_VAR_DO_IQK,\n\tHW_VAR_DM_IN_LPS,\n\tHW_VAR_SET_REQ_FW_PS,\n\tHW_VAR_FW_PS_STATE,\n\tHW_VAR_SOUNDING_ENTER,\n\tHW_VAR_SOUNDING_LEAVE,\n\tHW_VAR_SOUNDING_RATE,\n\tHW_VAR_SOUNDING_STATUS,\n\tHW_VAR_SOUNDING_FW_NDPA,\n\tHW_VAR_SOUNDING_CLK,\n\tHW_VAR_DL_RSVD_PAGE,\n\tHW_VAR_MACID_SLEEP,\n\tHW_VAR_MACID_WAKEUP,\n};\n\nenum hal_def_variable {\n\tHAL_DEF_UNDERCORATEDSMOOTHEDPWDB,\n\tHAL_DEF_IS_SUPPORT_ANT_DIV,\n\tHAL_DEF_CURRENT_ANTENNA,\n\tHAL_DEF_DRVINFO_SZ,\n\tHAL_DEF_MAX_RECVBUF_SZ,\n\tHAL_DEF_RX_PACKET_OFFSET,\n\tHAL_DEF_DBG_DUMP_RXPKT, \n\tHAL_DEF_DBG_DM_FUNC, \n\tHAL_DEF_RA_DECISION_RATE,\n\tHAL_DEF_RA_SGI,\n\tHAL_DEF_PT_PWR_STATUS,\n\tHAL_DEF_TX_LDPC,\t\t\t\t \n\tHAL_DEF_RX_LDPC,\t\t\t\t \n\tHAL_DEF_TX_STBC,\t\t\t\t \n\tHAL_DEF_RX_STBC,\t\t\t\t \n\tHAL_DEF_EXPLICIT_BEAMFORMER, \n\tHAL_DEF_EXPLICIT_BEAMFORMEE, \n\tHW_VAR_MAX_RX_AMPDU_FACTOR,\n\tHW_DEF_RA_INFO_DUMP,\n\tHAL_DEF_DBG_DUMP_TXPKT,\n\tHW_DEF_FA_CNT_DUMP,\n\tHW_DEF_ODM_DBG_FLAG,\n\tHW_DEF_ODM_DBG_LEVEL,\n\tHAL_DEF_TX_PAGE_SIZE,\n\tHAL_DEF_TX_PAGE_BOUNDARY,\n\tHAL_DEF_TX_PAGE_BOUNDARY_WOWLAN,\n\tHAL_DEF_ANT_DETECT, \n\tHAL_DEF_PCI_SUUPORT_L1_BACKDOOR,  \n\tHAL_DEF_PCI_AMD_L1_SUPPORT,\n\tHAL_DEF_PCI_ASPM_OSC,  \n\tHAL_DEF_MACID_SLEEP,  \n\tHAL_DEF_DBG_RX_INFO_DUMP,\n};\n\nenum hal_odm_variable {\n\tHAL_ODM_STA_INFO,\n\tHAL_ODM_P2P_STATE,\n\tHAL_ODM_WIFI_DISPLAY_STATE,\n\tHAL_ODM_NOISE_MONITOR,\n};\n\nenum hal_intf_ps_func {\n\tHAL_USB_SELECT_SUSPEND,\n\tHAL_MAX_ID,\n};\n\ntypedef s32 (*c2h_id_filter)(u8 *c2h_evt);\n\nstruct hal_ops {\n\tu32 (*hal_power_on)(struct adapter *padapter);\n\tvoid (*hal_power_off)(struct adapter *padapter);\n\tu32 (*hal_init)(struct adapter *padapter);\n\tu32 (*hal_deinit)(struct adapter *padapter);\n\n\tvoid (*free_hal_data)(struct adapter *padapter);\n\n\tu32 (*inirp_init)(struct adapter *padapter);\n\tu32 (*inirp_deinit)(struct adapter *padapter);\n\tvoid (*irp_reset)(struct adapter *padapter);\n\n\ts32\t(*init_xmit_priv)(struct adapter *padapter);\n\tvoid (*free_xmit_priv)(struct adapter *padapter);\n\n\ts32\t(*init_recv_priv)(struct adapter *padapter);\n\tvoid (*free_recv_priv)(struct adapter *padapter);\n\n\tvoid (*dm_init)(struct adapter *padapter);\n\tvoid (*dm_deinit)(struct adapter *padapter);\n\tvoid (*read_chip_version)(struct adapter *padapter);\n\n\tvoid (*init_default_value)(struct adapter *padapter);\n\n\tvoid (*intf_chip_configure)(struct adapter *padapter);\n\n\tvoid (*read_adapter_info)(struct adapter *padapter);\n\n\tvoid (*enable_interrupt)(struct adapter *padapter);\n\tvoid (*disable_interrupt)(struct adapter *padapter);\n\tu8 (*check_ips_status)(struct adapter *padapter);\n\ts32\t\t(*interrupt_handler)(struct adapter *padapter);\n\tvoid    (*clear_interrupt)(struct adapter *padapter);\n\tvoid (*set_bwmode_handler)(struct adapter *padapter, enum channel_width Bandwidth, u8 Offset);\n\tvoid (*set_channel_handler)(struct adapter *padapter, u8 channel);\n\tvoid (*set_chnl_bw_handler)(struct adapter *padapter, u8 channel, enum channel_width Bandwidth, u8 Offset40, u8 Offset80);\n\n\tvoid (*set_tx_power_level_handler)(struct adapter *padapter, u8 channel);\n\tvoid (*get_tx_power_level_handler)(struct adapter *padapter, s32 *powerlevel);\n\n\tvoid (*hal_dm_watchdog)(struct adapter *padapter);\n\tvoid (*hal_dm_watchdog_in_lps)(struct adapter *padapter);\n\n\n\tvoid (*SetHwRegHandler)(struct adapter *padapter, u8 variable, u8 *val);\n\tvoid (*GetHwRegHandler)(struct adapter *padapter, u8 variable, u8 *val);\n\n\tvoid (*SetHwRegHandlerWithBuf)(struct adapter *padapter, u8 variable, u8 *pbuf, int len);\n\n\tu8 (*GetHalDefVarHandler)(struct adapter *padapter, enum hal_def_variable eVariable, void *pValue);\n\tu8 (*SetHalDefVarHandler)(struct adapter *padapter, enum hal_def_variable eVariable, void *pValue);\n\n\tvoid (*GetHalODMVarHandler)(struct adapter *padapter, enum hal_odm_variable eVariable, void *pValue1, void *pValue2);\n\tvoid (*SetHalODMVarHandler)(struct adapter *padapter, enum hal_odm_variable eVariable, void *pValue1, bool bSet);\n\n\tvoid (*UpdateRAMaskHandler)(struct adapter *padapter, u32 mac_id, u8 rssi_level);\n\tvoid (*SetBeaconRelatedRegistersHandler)(struct adapter *padapter);\n\n\tvoid (*Add_RateATid)(struct adapter *padapter, u32 bitmap, u8 *arg, u8 rssi_level);\n\n\tvoid (*run_thread)(struct adapter *padapter);\n\tvoid (*cancel_thread)(struct adapter *padapter);\n\n\tu8 (*interface_ps_func)(struct adapter *padapter, enum hal_intf_ps_func efunc_id, u8 *val);\n\n\ts32\t(*hal_xmit)(struct adapter *padapter, struct xmit_frame *pxmitframe);\n\t \n\ts32 (*mgnt_xmit)(struct adapter *padapter, struct xmit_frame *pmgntframe);\n\ts32\t(*hal_xmitframe_enqueue)(struct adapter *padapter, struct xmit_frame *pxmitframe);\n\n\tu32 (*read_bbreg)(struct adapter *padapter, u32 RegAddr, u32 BitMask);\n\tvoid (*write_bbreg)(struct adapter *padapter, u32 RegAddr, u32 BitMask, u32 Data);\n\tu32 (*read_rfreg)(struct adapter *padapter, u8 eRFPath, u32 RegAddr, u32 BitMask);\n\tvoid (*write_rfreg)(struct adapter *padapter, u8 eRFPath, u32 RegAddr, u32 BitMask, u32 Data);\n\n\tvoid (*EfusePowerSwitch)(struct adapter *padapter, u8 bWrite, u8 PwrState);\n\tvoid (*BTEfusePowerSwitch)(struct adapter *padapter, u8 bWrite, u8 PwrState);\n\tvoid (*ReadEFuse)(struct adapter *padapter, u8 efuseType, u16 _offset, u16 _size_byte, u8 *pbuf, bool bPseudoTest);\n\tvoid (*EFUSEGetEfuseDefinition)(struct adapter *padapter, u8 efuseType, u8 type, void *pOut, bool bPseudoTest);\n\tu16 (*EfuseGetCurrentSize)(struct adapter *padapter, u8 efuseType, bool bPseudoTest);\n\tint\t(*Efuse_PgPacketRead)(struct adapter *padapter, u8 offset, u8 *data, bool bPseudoTest);\n\tint\t(*Efuse_PgPacketWrite)(struct adapter *padapter, u8 offset, u8 word_en, u8 *data, bool bPseudoTest);\n\tu8 (*Efuse_WordEnableDataWrite)(struct adapter *padapter, u16 efuse_addr, u8 word_en, u8 *data, bool bPseudoTest);\n\tbool\t(*Efuse_PgPacketWrite_BT)(struct adapter *padapter, u8 offset, u8 word_en, u8 *data, bool bPseudoTest);\n\n\ts32 (*xmit_thread_handler)(struct adapter *padapter);\n\tvoid (*hal_notch_filter)(struct adapter *adapter, bool enable);\n\tvoid (*hal_reset_security_engine)(struct adapter *adapter);\n\ts32 (*c2h_handler)(struct adapter *padapter, u8 *c2h_evt);\n\tc2h_id_filter c2h_id_filter_ccx;\n\n\ts32 (*fill_h2c_cmd)(struct adapter *, u8 ElementID, u32 CmdLen, u8 *pCmdBuffer);\n};\n\n#define RF_CHANGE_BY_INIT\t0\n#define RF_CHANGE_BY_IPS\tBIT28\n#define RF_CHANGE_BY_PS\t\tBIT29\n#define RF_CHANGE_BY_HW\t\tBIT30\n#define RF_CHANGE_BY_SW\t\tBIT31\n\n#define GET_EEPROM_EFUSE_PRIV(adapter) (&adapter->eeprompriv)\n#define is_boot_from_eeprom(adapter) (adapter->eeprompriv.EepromOrEfuse)\n\n#define Rx_Pairwisekey\t\t\t0x01\n#define Rx_GTK\t\t\t\t\t0x02\n#define Rx_DisAssoc\t\t\t\t0x04\n#define Rx_DeAuth\t\t\t\t0x08\n#define Rx_ARPReq\t\t\t\t0x09\n#define FWDecisionDisconnect\t0x10\n#define Rx_MagicPkt\t\t\t\t0x21\n#define Rx_UnicastPkt\t\t\t0x22\n#define Rx_PatternPkt\t\t\t0x23\n#define\tRX_PNOWakeUp\t\t\t0x55\n#define\tAP_WakeUp\t\t\t0x66\n\nvoid rtw_hal_def_value_init(struct adapter *padapter);\n\nvoid rtw_hal_free_data(struct adapter *padapter);\n\nvoid rtw_hal_dm_init(struct adapter *padapter);\nvoid rtw_hal_dm_deinit(struct adapter *padapter);\n\nuint rtw_hal_init(struct adapter *padapter);\nuint rtw_hal_deinit(struct adapter *padapter);\nvoid rtw_hal_stop(struct adapter *padapter);\nvoid rtw_hal_set_hwreg(struct adapter *padapter, u8 variable, u8 *val);\nvoid rtw_hal_get_hwreg(struct adapter *padapter, u8 variable, u8 *val);\n\nvoid rtw_hal_set_hwreg_with_buf(struct adapter *padapter, u8 variable, u8 *pbuf, int len);\n\nvoid rtw_hal_chip_configure(struct adapter *padapter);\nvoid rtw_hal_read_chip_info(struct adapter *padapter);\nvoid rtw_hal_read_chip_version(struct adapter *padapter);\n\nu8 rtw_hal_set_def_var(struct adapter *padapter, enum hal_def_variable eVariable, void *pValue);\nu8 rtw_hal_get_def_var(struct adapter *padapter, enum hal_def_variable eVariable, void *pValue);\n\nvoid rtw_hal_set_odm_var(struct adapter *padapter, enum hal_odm_variable eVariable, void *pValue1, bool bSet);\nvoid rtw_hal_get_odm_var(struct adapter *padapter, enum hal_odm_variable eVariable, void *pValue1, void *pValue2);\n\nvoid rtw_hal_enable_interrupt(struct adapter *padapter);\nvoid rtw_hal_disable_interrupt(struct adapter *padapter);\n\nu8 rtw_hal_check_ips_status(struct adapter *padapter);\n\ns32\trtw_hal_xmitframe_enqueue(struct adapter *padapter, struct xmit_frame *pxmitframe);\ns32\trtw_hal_xmit(struct adapter *padapter, struct xmit_frame *pxmitframe);\ns32\trtw_hal_mgnt_xmit(struct adapter *padapter, struct xmit_frame *pmgntframe);\n\ns32\trtw_hal_init_xmit_priv(struct adapter *padapter);\nvoid rtw_hal_free_xmit_priv(struct adapter *padapter);\n\ns32\trtw_hal_init_recv_priv(struct adapter *padapter);\nvoid rtw_hal_free_recv_priv(struct adapter *padapter);\n\nvoid rtw_hal_update_ra_mask(struct sta_info *psta, u8 rssi_level);\nvoid rtw_hal_add_ra_tid(struct adapter *padapter, u32 bitmap, u8 *arg, u8 rssi_level);\n\nvoid rtw_hal_start_thread(struct adapter *padapter);\nvoid rtw_hal_stop_thread(struct adapter *padapter);\n\nvoid beacon_timing_control(struct adapter *padapter);\n\nu32 rtw_hal_read_bbreg(struct adapter *padapter, u32 RegAddr, u32 BitMask);\nvoid rtw_hal_write_bbreg(struct adapter *padapter, u32 RegAddr, u32 BitMask, u32 Data);\nu32 rtw_hal_read_rfreg(struct adapter *padapter, u32 eRFPath, u32 RegAddr, u32 BitMask);\nvoid rtw_hal_write_rfreg(struct adapter *padapter, u32 eRFPath, u32 RegAddr, u32 BitMask, u32 Data);\n\n#define PHY_QueryBBReg(Adapter, RegAddr, BitMask) rtw_hal_read_bbreg((Adapter), (RegAddr), (BitMask))\n#define PHY_SetBBReg(Adapter, RegAddr, BitMask, Data) rtw_hal_write_bbreg((Adapter), (RegAddr), (BitMask), (Data))\n#define PHY_QueryRFReg(Adapter, eRFPath, RegAddr, BitMask) rtw_hal_read_rfreg((Adapter), (eRFPath), (RegAddr), (BitMask))\n#define PHY_SetRFReg(Adapter, eRFPath, RegAddr, BitMask, Data) rtw_hal_write_rfreg((Adapter), (eRFPath), (RegAddr), (BitMask), (Data))\n\n#define PHY_SetMacReg\tPHY_SetBBReg\n#define PHY_QueryMacReg PHY_QueryBBReg\n\nvoid rtw_hal_set_chan(struct adapter *padapter, u8 channel);\nvoid rtw_hal_set_chnl_bw(struct adapter *padapter, u8 channel, enum channel_width Bandwidth, u8 Offset40, u8 Offset80);\nvoid rtw_hal_dm_watchdog(struct adapter *padapter);\nvoid rtw_hal_dm_watchdog_in_lps(struct adapter *padapter);\n\ns32 rtw_hal_xmit_thread_handler(struct adapter *padapter);\n\nvoid rtw_hal_notch_filter(struct adapter *adapter, bool enable);\nvoid rtw_hal_reset_security_engine(struct adapter *adapter);\n\nbool rtw_hal_c2h_valid(struct adapter *adapter, u8 *buf);\ns32 rtw_hal_c2h_handler(struct adapter *adapter, u8 *c2h_evt);\nc2h_id_filter rtw_hal_c2h_id_filter_ccx(struct adapter *adapter);\n\ns32 rtw_hal_macid_sleep(struct adapter *padapter, u32 macid);\ns32 rtw_hal_macid_wakeup(struct adapter *padapter, u32 macid);\n\ns32 rtw_hal_fill_h2c_cmd(struct adapter *, u8 ElementID, u32 CmdLen, u8 *pCmdBuffer);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}