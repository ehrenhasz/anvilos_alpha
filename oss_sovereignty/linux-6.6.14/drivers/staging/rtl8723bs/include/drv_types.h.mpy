{
  "module_name": "drv_types.h",
  "hash_id": "771c20adb9694dd74f3e4bfdbe8b355e029f20171893d3563a717dc8d8ec55d2",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/rtl8723bs/include/drv_types.h",
  "human_readable_source": " \n \n \n\n\n#ifndef __DRV_TYPES_H__\n#define __DRV_TYPES_H__\n\n#include <linux/sched/signal.h>\n#include <basic_types.h>\n#include <osdep_service.h>\n#include <rtw_byteorder.h>\n#include <wlan_bssdef.h>\n#include <wifi.h>\n#include <ieee80211.h>\n\n#include <rtw_rf.h>\n\n#include <rtw_ht.h>\n\n#include <rtw_cmd.h>\n#include <cmd_osdep.h>\n#include <rtw_security.h>\n#include <rtw_xmit.h>\n#include <xmit_osdep.h>\n#include <rtw_recv.h>\n\n#include <recv_osdep.h>\n#include <rtw_efuse.h>\n#include <hal_intf.h>\n#include <hal_com.h>\n#include <rtw_qos.h>\n#include <rtw_pwrctrl.h>\n#include <rtw_mlme.h>\n#include <mlme_osdep.h>\n#include <rtw_io.h>\n#include <rtw_ioctl_set.h>\n#include <osdep_intf.h>\n#include <rtw_eeprom.h>\n#include <sta_info.h>\n#include <rtw_event.h>\n#include <rtw_mlme_ext.h>\n#include <rtw_ap.h>\n#include <rtw_version.h>\n\n#include \"ioctl_cfg80211.h\"\n\n#include <linux/ip.h>\n#include <linux/if_ether.h>\n\n#define SPEC_DEV_ID_NONE BIT(0)\n#define SPEC_DEV_ID_DISABLE_HT BIT(1)\n#define SPEC_DEV_ID_ENABLE_PS BIT(2)\n#define SPEC_DEV_ID_RF_CONFIG_1T1R BIT(3)\n#define SPEC_DEV_ID_RF_CONFIG_2T2R BIT(4)\n#define SPEC_DEV_ID_ASSIGN_IFNAME BIT(5)\n\nstruct registry_priv {\n\tu8 chip_version;\n\tu8 rfintfs;\n\tu8 lbkmode;\n\tu8 hci;\n\tstruct ndis_802_11_ssid\tssid;\n\tu8 network_mode;\t \n\tu8 channel; \n\tu8 wireless_mode; \n\tu8 scan_mode; \n\tu8 radio_enable;\n\tu8 preamble; \n\tu8 vrtl_carrier_sense; \n\tu8 vcs_type; \n\tu16 rts_thresh;\n\tu16  frag_thresh;\n\tu8 adhoc_tx_pwr;\n\tu8 soft_ap;\n\tu8 power_mgnt;\n\tu8 ips_mode;\n\tu8 smart_ps;\n\tu8   usb_rxagg_mode;\n\tu8 long_retry_lmt;\n\tu8 short_retry_lmt;\n\tu16 busy_thresh;\n\tu8 ack_policy;\n\tu8  mp_dm;\n\tu8 software_encrypt;\n\tu8 software_decrypt;\n\tu8 acm_method;\n\t   \n\tu8 wmm_enable;\n\tu8 uapsd_enable;\n\tu8 uapsd_max_sp;\n\tu8 uapsd_acbk_en;\n\tu8 uapsd_acbe_en;\n\tu8 uapsd_acvi_en;\n\tu8 uapsd_acvo_en;\n\n\tstruct wlan_bssid_ex    dev_network;\n\n\tu8 ht_enable;\n\t \n\tu8 bw_mode;\n\tu8 ampdu_enable; \n\tu8 rx_stbc;\n\tu8 ampdu_amsdu; \n\t \n\t \n\t \n\t \n\t \n\tu8 short_gi;\n\t \n\tu8 ldpc_cap;\n\t \n\tu8 stbc_cap;\n\t \n\tu8 beamform_cap;\n\n\tu8 lowrate_two_xmit;\n\n\tu8 low_power;\n\n\tu8 wifi_spec; \n\n\tu8 channel_plan;\n\n\ts8\tant_num;\n\n\t \n\tbool\taccept_addba_req;\n\n\tu8 antdiv_cfg;\n\tu8 antdiv_type;\n\n\tu8 usbss_enable; \n\tu8 hwpdn_mode; \n\tu8 hwpwrp_detect; \n\n\tu8 hw_wps_pbc; \n\n\tu8 max_roaming_times;  \n\n\tu8 enable80211d;\n\n\tu8 ifname[16];\n\n\tu8 notch_filter;\n\n\t \n\tu8 RegEnableTxPowerLimit;\n\tu8 RegEnableTxPowerByRate;\n\tu8 RegPowerBase;\n\tu8 RegPwrTblSel;\n\ts8\tTxBBSwing_2G;\n\tu8 AmplifierType_2G;\n\tu8 bEn_RFE;\n\tu8 RFE_Type;\n\tu8  check_fw_ps;\n\n\tu8 qos_opt_enable;\n\n\tu8 hiq_filter;\n};\n\n\n \n#define RGTRY_OFT(field) ((u32)FIELD_OFFSET(struct registry_priv, field))\n#define RGTRY_SZ(field)   sizeof(((struct registry_priv *)0)->field)\n#define BSSID_OFT(field) ((u32)FIELD_OFFSET(struct wlan_bssid_ex, field))\n#define BSSID_SZ(field)   sizeof(((struct wlan_bssid_ex *) 0)->field)\n\n#include <drv_types_sdio.h>\n\n#define is_primary_adapter(adapter) (1)\n#define get_iface_type(adapter) (IFACE_PORT0)\n#define GET_PRIMARY_ADAPTER(padapter) (((struct adapter *)padapter)->dvobj->if1)\n#define GET_IFACE_NUMS(padapter) (((struct adapter *)padapter)->dvobj->iface_nums)\n#define GET_ADAPTER(padapter, iface_id) (((struct adapter *)padapter)->dvobj->padapters[iface_id])\n\nstruct debug_priv {\n\tu32 dbg_sdio_free_irq_error_cnt;\n\tu32 dbg_sdio_alloc_irq_error_cnt;\n\tu32 dbg_sdio_free_irq_cnt;\n\tu32 dbg_sdio_alloc_irq_cnt;\n\tu32 dbg_sdio_deinit_error_cnt;\n\tu32 dbg_sdio_init_error_cnt;\n\tu32 dbg_suspend_error_cnt;\n\tu32 dbg_suspend_cnt;\n\tu32 dbg_resume_cnt;\n\tu32 dbg_resume_error_cnt;\n\tu32 dbg_deinit_fail_cnt;\n\tu32 dbg_carddisable_cnt;\n\tu32 dbg_carddisable_error_cnt;\n\tu32 dbg_ps_insuspend_cnt;\n\tu32 dbg_dev_unload_inIPS_cnt;\n\tu32 dbg_wow_leave_ps_fail_cnt;\n\tu32 dbg_scan_pwr_state_cnt;\n\tu32 dbg_downloadfw_pwr_state_cnt;\n\tu32 dbg_fw_read_ps_state_fail_cnt;\n\tu32 dbg_leave_ips_fail_cnt;\n\tu32 dbg_leave_lps_fail_cnt;\n\tu32 dbg_h2c_leave32k_fail_cnt;\n\tu32 dbg_diswow_dload_fw_fail_cnt;\n\tu32 dbg_enwow_dload_fw_fail_cnt;\n\tu32 dbg_ips_drvopen_fail_cnt;\n\tu32 dbg_poll_fail_cnt;\n\tu32 dbg_rpwm_toggle_cnt;\n\tu32 dbg_rpwm_timeout_fail_cnt;\n\tu64 dbg_rx_fifo_last_overflow;\n\tu64 dbg_rx_fifo_curr_overflow;\n\tu64 dbg_rx_fifo_diff_overflow;\n\tu64 dbg_rx_ampdu_drop_count;\n\tu64 dbg_rx_ampdu_forced_indicate_count;\n\tu64 dbg_rx_ampdu_loss_count;\n\tu64 dbg_rx_dup_mgt_frame_drop_count;\n\tu64 dbg_rx_ampdu_window_shift_cnt;\n};\n\nstruct rtw_traffic_statistics {\n\t \n\tu64\ttx_bytes;\n\tu64\ttx_pkts;\n\tu64\ttx_drop;\n\tu64\tcur_tx_bytes;\n\tu64\tlast_tx_bytes;\n\tu32 cur_tx_tp;  \n\n\t \n\tu64\trx_bytes;\n\tu64\trx_pkts;\n\tu64\trx_drop;\n\tu64\tcur_rx_bytes;\n\tu64\tlast_rx_bytes;\n\tu32 cur_rx_tp;  \n};\n\nstruct cam_ctl_t {\n\tspinlock_t lock;\n\tu64 bitmap;\n};\n\nstruct cam_entry_cache {\n\tu16 ctrl;\n\tu8 mac[ETH_ALEN];\n\tu8 key[16];\n};\n\nstruct dvobj_priv {\n\t \n\tstruct adapter *if1;  \n\n\ts32\tprocessing_dev_remove;\n\n\tstruct debug_priv drv_dbg;\n\n\t \n\t \n\tspinlock_t\tlock;\n\tint macid[NUM_STA];\n\n\tstruct mutex hw_init_mutex;\n\tstruct mutex h2c_fwcmd_mutex;\n\tstruct mutex setch_mutex;\n\tstruct mutex setbw_mutex;\n\n\tunsigned char oper_channel;  \n\tunsigned char oper_bwmode;\n\tunsigned char oper_ch_offset; \n\tunsigned long on_oper_ch_time;\n\n\tstruct adapter *padapters;\n\n\tstruct cam_ctl_t cam_ctl;\n\tstruct cam_entry_cache cam_cache[TOTAL_CAM_ENTRY];\n\n\t \n\tint\tRtInPipe[2];\n\tint\tRtOutPipe[4];\n\tu8 Queue2Pipe[HW_QUEUE_ENTRY]; \n\n\tu8 irq_alloc;\n\tatomic_t continual_io_error;\n\n\tatomic_t disable_func;\n\n\tstruct pwrctrl_priv pwrctl_priv;\n\n\tstruct rtw_traffic_statistics\ttraffic_stat;\n\n \n\nstruct sdio_data intf_data;\n\n};\n\n#define dvobj_to_pwrctl(dvobj) (&(dvobj->pwrctl_priv))\n\nstatic inline struct dvobj_priv *pwrctl_to_dvobj(struct pwrctrl_priv *pwrctl_priv)\n{\n\treturn container_of(pwrctl_priv, struct dvobj_priv, pwrctl_priv);\n}\n\nstatic inline struct device *dvobj_to_dev(struct dvobj_priv *dvobj)\n{\n\t \n#ifdef RTW_DVOBJ_CHIP_HW_TYPE\n#endif\n\n\treturn &dvobj->intf_data.func->dev;\n}\n\nstruct adapter *dvobj_get_port0_adapter(struct dvobj_priv *dvobj);\n\nenum {\n\tIFACE_PORT0,  \n\tIFACE_PORT1,  \n\tMAX_IFACE_PORT,\n};\n\nenum {\n\tDRIVER_NORMAL = 0,\n\tDRIVER_DISAPPEAR = 1,\n\tDRIVER_REPLACE_DONGLE = 2,\n};\n\nstruct adapter {\n\tint\tDriverState; \n\tint\tpid[3]; \n\tint\tbDongle; \n\n\tstruct dvobj_priv *dvobj;\n\tstruct\tmlme_priv mlmepriv;\n\tstruct\tmlme_ext_priv mlmeextpriv;\n\tstruct\tcmd_priv cmdpriv;\n\tstruct\tevt_priv evtpriv;\n\t \n\tstruct\tio_priv iopriv;\n\tstruct\txmit_priv xmitpriv;\n\tstruct\trecv_priv recvpriv;\n\tstruct\tsta_priv stapriv;\n\tstruct\tsecurity_priv securitypriv;\n\tspinlock_t   security_key_mutex;  \n\tstruct\tregistry_priv registrypriv;\n\tstruct\teeprom_priv eeprompriv;\n\n\tstruct\thostapd_priv *phostapdpriv;\n\n\tu32 setband;\n\n\tvoid *HalData;\n\tu32 hal_data_sz;\n\tstruct hal_ops\tHalFunc;\n\n\ts32\tbDriverStopped;\n\ts32\tbSurpriseRemoved;\n\ts32  bCardDisableWOHSM;\n\n\tu32 IsrContent;\n\tu32 ImrContent;\n\n\tu8 EepromAddressSize;\n\tu8 hw_init_completed;\n\tu8 bDriverIsGoingToUnload;\n\tu8 init_adpt_in_progress;\n\tu8 bHaltInProgress;\n\n\tvoid *cmdThread;\n\tvoid *evtThread;\n\tvoid *xmitThread;\n\tvoid *recvThread;\n\n\tu32 (*intf_init)(struct dvobj_priv *dvobj);\n\tvoid (*intf_deinit)(struct dvobj_priv *dvobj);\n\tint (*intf_alloc_irq)(struct dvobj_priv *dvobj);\n\tvoid (*intf_free_irq)(struct dvobj_priv *dvobj);\n\n\n\tvoid (*intf_start)(struct adapter *adapter);\n\tvoid (*intf_stop)(struct adapter *adapter);\n\n\tstruct net_device *pnetdev;\n\tchar old_ifname[IFNAMSIZ];\n\n\t \n\tstruct rereg_nd_name_data {\n\t\tstruct net_device *old_pnetdev;\n\t\tchar old_ifname[IFNAMSIZ];\n\t\tu8 old_bRegUseLed;\n\t} rereg_nd_name_priv;\n\n\tint bup;\n\tstruct net_device_stats stats;\n\tstruct iw_statistics iwstats;\n\n\tstruct wireless_dev *rtw_wdev;\n\tstruct rtw_wdev_priv wdev_data;\n\n\tint net_closed;\n\n\tu8 netif_up;\n\n\tu8 bFWReady;\n\tu8 bBTFWReady;\n\tu8 bLinkInfoDump;\n\tu8 bRxRSSIDisplay;\n\t \n\t \n\tu8 bNotifyChannelChange;\n\n\t \n\t \n\t \n\t \n\t \n\t \n\tstruct adapter *pbuddy_adapter;\n\n\t \n        \n        \n\tu8 iface_id;\n\n\t \n\tu8 fix_rate;\n\tu8 driver_vcs_en;  \n\tu8 driver_vcs_type; \n\tu8 driver_ampdu_spacing; \n\tu8 driver_rx_ampdu_factor; \n\n\tunsigned char     in_cta_test;\n};\n\n#define adapter_to_dvobj(adapter) (adapter->dvobj)\n#define adapter_to_pwrctl(adapter) (dvobj_to_pwrctl(adapter->dvobj))\n#define adapter_wdev_data(adapter) (&((adapter)->wdev_data))\n\n \n \n \n#define DF_TX_BIT\t\tBIT0\n#define DF_RX_BIT\t\tBIT1\n#define DF_IO_BIT\t\tBIT2\n\n \n \nstatic inline void RTW_DISABLE_FUNC(struct adapter *padapter, int func_bit)\n{\n\tint\tdf = atomic_read(&adapter_to_dvobj(padapter)->disable_func);\n\tdf |= func_bit;\n\tatomic_set(&adapter_to_dvobj(padapter)->disable_func, df);\n}\n\nstatic inline void RTW_ENABLE_FUNC(struct adapter *padapter, int func_bit)\n{\n\tint\tdf = atomic_read(&adapter_to_dvobj(padapter)->disable_func);\n\tdf &= ~(func_bit);\n\tatomic_set(&adapter_to_dvobj(padapter)->disable_func, df);\n}\n\n#define RTW_IS_FUNC_DISABLED(padapter, func_bit) (atomic_read(&adapter_to_dvobj(padapter)->disable_func) & (func_bit))\n\n#define RTW_CANNOT_IO(padapter) \\\n\t\t\t((padapter)->bSurpriseRemoved || \\\n\t\t\t RTW_IS_FUNC_DISABLED((padapter), DF_IO_BIT))\n\n#define RTW_CANNOT_RX(padapter) \\\n\t\t\t((padapter)->bDriverStopped || \\\n\t\t\t (padapter)->bSurpriseRemoved || \\\n\t\t\t RTW_IS_FUNC_DISABLED((padapter), DF_RX_BIT))\n\n#define RTW_CANNOT_TX(padapter) \\\n\t\t\t((padapter)->bDriverStopped || \\\n\t\t\t (padapter)->bSurpriseRemoved || \\\n\t\t\t RTW_IS_FUNC_DISABLED((padapter), DF_TX_BIT))\n\nstatic inline u8 *myid(struct eeprom_priv *peepriv)\n{\n\treturn peepriv->mac_addr;\n}\n\n \n#include <sdio_osintf.h>\n#include <sdio_ops.h>\n#include <sdio_hal.h>\n\n#include <rtw_btcoex.h>\n\nextern char *rtw_initmac;\nextern int rtw_mc2u_disable;\nextern int rtw_ht_enable;\nextern u32 g_wait_hiq_empty;\nextern u8 g_fwdl_wintint_rdy_fail;\nextern u8 g_fwdl_chksum_fail;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}