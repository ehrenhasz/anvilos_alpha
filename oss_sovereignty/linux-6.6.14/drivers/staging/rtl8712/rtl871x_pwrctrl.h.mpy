{
  "module_name": "rtl871x_pwrctrl.h",
  "hash_id": "982541306a61f6b93d0dc67ac06bd4579caafbc778cedf6b04fcd4beb7662689",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/rtl8712/rtl871x_pwrctrl.h",
  "human_readable_source": " \n \n#ifndef __RTL871X_PWRCTRL_H_\n#define __RTL871X_PWRCTRL_H_\n\n#include \"osdep_service.h\"\n#include \"drv_types.h\"\n\n#define CMD_ALIVE\tBIT(2)\n\nenum Power_Mgnt {\n\tPS_MODE_ACTIVE\t= 0,\n\tPS_MODE_MIN,\n\tPS_MODE_MAX,\n\tPS_MODE_DTIM,\n\tPS_MODE_VOIP,\n\tPS_MODE_UAPSD_WMM,\n\tPS_MODE_UAPSD,\n\tPS_MODE_IBSS,\n\tPS_MODE_WWLAN,\n\tPM_Radio_Off,\n\tPM_Card_Disable,\n\tPS_MODE_NUM\n};\n\n \n\n#define\t\tPS_DPS\t\t\t\tBIT(0)\n#define\t\tPS_LCLK\t\t\t\t(PS_DPS)\n#define\tPS_RF_OFF\t\t\tBIT(1)\n#define\tPS_ALL_ON\t\t\tBIT(2)\n#define\tPS_ST_ACTIVE\t\tBIT(3)\n#define\tPS_LP\t\t\t\tBIT(4)\t \n\n#define\tPS_STATE_MASK\t\t(0x0F)\n#define\tPS_STATE_HW_MASK\t(0x07)\n#define\t\tPS_SEQ_MASK\t\t(0xc0)\n\n#define\tPS_STATE(x)\t\t\t(PS_STATE_MASK & (x))\n#define\tPS_STATE_HW(x)\t(PS_STATE_HW_MASK & (x))\n#define\tPS_SEQ(x)\t\t\t(PS_SEQ_MASK & (x))\n\n#define\tPS_STATE_S0\t\t(PS_DPS)\n#define\t\tPS_STATE_S1\t\t(PS_LCLK)\n#define\tPS_STATE_S2\t\t(PS_RF_OFF)\n#define\t\tPS_STATE_S3\t\t(PS_ALL_ON)\n#define\tPS_STATE_S4\t\t((PS_ST_ACTIVE) | (PS_ALL_ON))\n\n#define\t\tPS_IS_RF_ON(x)\t\t((x) & (PS_ALL_ON))\n#define\t\tPS_IS_ACTIVE(x)\t\t((x) & (PS_ST_ACTIVE))\n#define\t\tCLR_PS_STATE(x)\t((x) = ((x) & (0xF0)))\n\nstruct reportpwrstate_parm {\n\tunsigned char mode;\n\tunsigned char state;  \n\tunsigned short rsvd;\n};\n\nstruct\tpwrctrl_priv {\n\tstruct mutex mutex_lock;\n\t  u8 rpwm;  \n\t \n\t  u8 cpwm;\n\t  u8 tog;  \n\t  u8 cpwm_tog;  \n\t  u8 tgt_rpwm;  \n\tuint pwr_mode;\n\tuint smart_ps;\n\tuint alives;\n\tuint ImrContent;\t \n\tuint bSleep;  \n\n\tstruct work_struct SetPSModeWorkItem;\n\tstruct work_struct rpwm_workitem;\n\tstruct timer_list rpwm_check_timer;\n\tu8\trpwm_retry;\n\tuint\tbSetPSModeWorkItemInProgress;\n\n\tspinlock_t pnp_pwr_mgnt_lock;\n\ts32\tpnp_current_pwr_state;\n\tu8\tpnp_bstop_trx;\n\tu8\tpnp_wwirp_pending;\n};\n\nvoid r8712_init_pwrctrl_priv(struct _adapter *adapter);\nint r8712_register_cmd_alive(struct _adapter *padapter);\nvoid r8712_unregister_cmd_alive(struct _adapter *padapter);\nvoid r8712_cpwm_int_hdl(struct _adapter *padapter,\n\t\t\tstruct reportpwrstate_parm *preportpwrstate);\nvoid r8712_set_ps_mode(struct _adapter *padapter, uint ps_mode,\n\t\t\tuint smart_ps);\nvoid r8712_set_rpwm(struct _adapter *padapter, u8 val8);\nvoid r8712_flush_rwctrl_works(struct _adapter *padapter);\n\n#endif   \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}