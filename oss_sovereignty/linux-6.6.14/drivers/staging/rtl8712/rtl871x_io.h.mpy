{
  "module_name": "rtl871x_io.h",
  "hash_id": "58e18ad8c7eba6dc38b6f254886edaf93d368c85268fe540dee0d18b6c428c2d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/rtl8712/rtl871x_io.h",
  "human_readable_source": " \n \n#ifndef _RTL871X_IO_H_\n#define _RTL871X_IO_H_\n\n#include \"osdep_service.h\"\n#include \"osdep_intf.h\"\n\n#define NUM_IOREQ\t\t8\n\n#define MAX_PROT_SZ\t(64-16)\n\n#define _IOREADY\t\t\t0\n#define _IO_WAIT_COMPLETE   1\n#define _IO_WAIT_RSP        2\n\n \n#define _IOSZ_MASK_\t\t(0x7F)\n#define _IO_WRITE_\t\tBIT(7)\n#define _IO_FIXED_\t\tBIT(8)\n#define _IO_BURST_\t\tBIT(9)\n#define _IO_BYTE_\t\tBIT(10)\n#define _IO_HW_\t\t\tBIT(11)\n#define _IO_WORD_\t\tBIT(12)\n#define _IO_SYNC_\t\tBIT(13)\n#define _IO_CMDMASK_\t(0x1F80)\n\n \n \n#define _IO_ERR_\t\tBIT(2)\n#define _IO_SUCCESS_\tBIT(1)\n#define _IO_DONE_\t\tBIT(0)\n#define IO_RD32\t\t\t(_IO_SYNC_ | _IO_WORD_)\n#define IO_RD16\t\t\t(_IO_SYNC_ | _IO_HW_)\n#define IO_RD8\t\t\t(_IO_SYNC_ | _IO_BYTE_)\n#define IO_RD32_ASYNC\t(_IO_WORD_)\n#define IO_RD16_ASYNC\t(_IO_HW_)\n#define IO_RD8_ASYNC\t(_IO_BYTE_)\n#define IO_WR32\t\t\t(_IO_WRITE_ | _IO_SYNC_ | _IO_WORD_)\n#define IO_WR16\t\t\t(_IO_WRITE_ | _IO_SYNC_ | _IO_HW_)\n#define IO_WR8\t\t\t(_IO_WRITE_ | _IO_SYNC_ | _IO_BYTE_)\n#define IO_WR32_ASYNC\t(_IO_WRITE_ | _IO_WORD_)\n#define IO_WR16_ASYNC\t(_IO_WRITE_ | _IO_HW_)\n#define IO_WR8_ASYNC\t(_IO_WRITE_ | _IO_BYTE_)\n \n#define IO_WR_BURST(x)\t\t(IO_WRITE_ | _IO_SYNC_ | _IO_BURST_ | \\\n\t\t\t\t((x) & _IOSZ_MASK_))\n#define IO_RD_BURST(x)\t\t(_IO_SYNC_ | _IO_BURST_ | ((x) & _IOSZ_MASK_))\n \n#define _INTF_ASYNC_\tBIT(0)\t \nstruct intf_priv;\nstruct\tintf_hdl;\nstruct io_queue;\nstruct\t_io_ops {\n\tuint (*_sdbus_read_bytes_to_membuf)(struct intf_priv *pintfpriv,\n\t\t\t\t\t    u32 addr, u32 cnt, u8 *pbuf);\n\tuint (*_sdbus_read_blocks_to_membuf)(struct intf_priv *pintfpriv,\n\t\t\t\t\t     u32 addr, u32 cnt, u8 *pbuf);\n\tu8 (*_read8)(struct intf_hdl *pintfhdl, u32 addr);\n\tu16 (*_read16)(struct intf_hdl *pintfhdl, u32 addr);\n\tu32 (*_read32)(struct intf_hdl *pintfhdl, u32 addr);\n\tuint (*_sdbus_write_blocks_from_membuf)(struct intf_priv *pintfpriv,\n\t\t\t\t\t\tu32 addr, u32 cnt, u8 *pbuf,\n\t\t\t\t\t\tu8 async);\n\tuint (*_sdbus_write_bytes_from_membuf)(struct intf_priv *pintfpriv,\n\t\t\t\t\t       u32 addr, u32 cnt, u8 *pbuf);\n\tu8 (*_cmd52r)(struct intf_priv *pintfpriv, u32 addr);\n\tvoid (*_cmd52w)(struct intf_priv *pintfpriv, u32 addr, u8 val8);\n\tu8 (*_cmdfunc152r)(struct intf_priv *pintfpriv, u32 addr);\n\tvoid (*_cmdfunc152w)(struct intf_priv *pintfpriv, u32 addr, u8 val8);\n\tvoid (*_write8)(struct intf_hdl *pintfhdl, u32 addr, u8 val);\n\tvoid (*_write16)(struct intf_hdl *pintfhdl, u32 addr, u16 val);\n\tvoid (*_write32)(struct intf_hdl *pintfhdl, u32 addr, u32 val);\n\tvoid (*_read_mem)(struct intf_hdl *pintfhdl, u32 addr, u32 cnt,\n\t\t\t  u8 *pmem);\n\tvoid (*_write_mem)(struct intf_hdl *pintfhdl, u32 addr, u32 cnt,\n\t\t\t   u8 *pmem);\n\tvoid (*_sync_irp_protocol_rw)(struct io_queue *pio_q);\n\tu32 (*_read_port)(struct intf_hdl *pintfhdl, u32 addr, u32 cnt,\n\t\t\t  u8 *pmem);\n\tu32 (*_write_port)(struct intf_hdl *pintfhdl, u32 addr, u32 cnt,\n\t\t\t   u8 *pmem);\n};\n\nstruct io_req {\n\tstruct list_head list;\n\tu32\taddr;\n\t  u32\tval;\n\tu32\tcommand;\n\tu32\tstatus;\n\tu8\t*pbuf;\n\tvoid (*_async_io_callback)(struct _adapter *padapter,\n\t\t\t\t   struct io_req *pio_req, u8 *cnxt);\n\tu8 *cnxt;\n};\n\nstruct\tintf_hdl {\n\tu32\tintf_option;\n\tu8\t*adapter;\n\tu8\t*intf_dev;\n\tstruct intf_priv\t*pintfpriv;\n\tvoid (*intf_hdl_init)(u8 *priv);\n\tvoid (*intf_hdl_unload)(u8 *priv);\n\tvoid (*intf_hdl_open)(u8 *priv);\n\tvoid (*intf_hdl_close)(u8 *priv);\n\tstruct\t_io_ops\tio_ops;\n};\n\nstruct reg_protocol_rd {\n#ifdef __LITTLE_ENDIAN\n\t \n\tu32\t\tNumOfTrans:4;\n\tu32\t\tReserved1:4;\n\tu32\t\tReserved2:24;\n\t \n\tu32\t\tByteCount:7;\n\tu32\t\tWriteEnable:1;\t\t \n\tu32\t\tFixOrContinuous:1;\t \n\tu32\t\tBurstMode:1;\n\tu32\t\tByte1Access:1;\n\tu32\t\tByte2Access:1;\n\tu32\t\tByte4Access:1;\n\tu32\t\tReserved3:3;\n\tu32\t\tReserved4:16;\n\t \n\tu32\t\tBusAddress;\n\t \n#else\n \n\tu32 Reserved1:4;\n\tu32 NumOfTrans:4;\n\tu32 Reserved2:24;\n\t \n\tu32 WriteEnable:1;\n\tu32 ByteCount:7;\n\tu32 Reserved3:3;\n\tu32 Byte4Access:1;\n\tu32 Byte2Access:1;\n\tu32 Byte1Access:1;\n\tu32 BurstMode:1;\n\tu32 FixOrContinuous:1;\n\tu32 Reserved4:16;\n\t \n\tu32 BusAddress;\n\t \n#endif\n};\n\nstruct reg_protocol_wt {\n#ifdef __LITTLE_ENDIAN\n\t \n\tu32 NumOfTrans:4;\n\tu32 Reserved1:4;\n\tu32 Reserved2:24;\n\t \n\tu32 ByteCount:7;\n\tu32 WriteEnable:1;\t \n\tu32 FixOrContinuous:1;\t \n\tu32 BurstMode:1;\n\tu32 Byte1Access:1;\n\tu32 Byte2Access:1;\n\tu32 Byte4Access:1;\n\tu32 Reserved3:3;\n\tu32 Reserved4:16;\n\t \n\tu32 BusAddress;\n\t \n\tu32 Value;\n#else\n\t \n\tu32 Reserved1:4;\n\tu32 NumOfTrans:4;\n\tu32 Reserved2:24;\n\t \n\tu32 WriteEnable:1;\n\tu32 ByteCount:7;\n\tu32 Reserved3:3;\n\tu32 Byte4Access:1;\n\tu32 Byte2Access:1;\n\tu32 Byte1Access:1;\n\tu32 BurstMode:1;\n\tu32 FixOrContinuous:1;\n\tu32 Reserved4:16;\n\t \n\tu32 BusAddress;\n\t \n\tu32 Value;\n#endif\n};\n\n \n\nstruct io_queue {\n\tspinlock_t lock;\n\tstruct list_head free_ioreqs;\n\t \n\tstruct list_head pending;\n\tstruct list_head processing;\n\tu8 *free_ioreqs_buf;  \n\tu8 *pallocated_free_ioreqs_buf;\n\tstruct\tintf_hdl intf;\n};\n\nu8 r8712_read8(struct _adapter *adapter, u32 addr);\nu16 r8712_read16(struct _adapter *adapter, u32 addr);\nu32 r8712_read32(struct _adapter *adapter, u32 addr);\nvoid r8712_read_mem(struct _adapter *adapter, u32 addr, u32 cnt, u8 *pmem);\nvoid r8712_read_port(struct _adapter *adapter, u32 addr, u32 cnt, u8 *pmem);\nvoid r8712_write8(struct _adapter *adapter, u32 addr, u8 val);\nvoid r8712_write16(struct _adapter *adapter, u32 addr, u16 val);\nvoid r8712_write32(struct _adapter *adapter, u32 addr, u32 val);\nvoid r8712_write_mem(struct _adapter *adapter, u32 addr, u32 cnt, u8 *pmem);\nvoid r8712_write_port(struct _adapter *adapter, u32 addr, u32 cnt, u8 *pmem);\n \nuint r8712_alloc_io_queue(struct _adapter *adapter);\nvoid r8712_free_io_queue(struct _adapter *adapter);\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}