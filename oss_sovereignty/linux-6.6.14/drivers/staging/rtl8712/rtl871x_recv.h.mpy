{
  "module_name": "rtl871x_recv.h",
  "hash_id": "7db02dcfab520c38d2a8098ba47a31b0beb0c0d971e8e7b2ebd54081db361f10",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/rtl8712/rtl871x_recv.h",
  "human_readable_source": " \n#ifndef _RTL871X_RECV_H_\n#define _RTL871X_RECV_H_\n\n#include \"osdep_service.h\"\n#include \"drv_types.h\"\n\n#define NR_RECVFRAME 256\n\n#define RXFRAME_ALIGN\t8\n#define RXFRAME_ALIGN_SZ\t(1 << RXFRAME_ALIGN)\n\n#define MAX_SUBFRAME_COUNT\t64\n\n \nstruct recv_reorder_ctrl {\n\tstruct _adapter\t*padapter;\n\tu16 indicate_seq;  \n\tu16 wend_b;\n\tu8 wsize_b;\n\tstruct  __queue pending_recvframe_queue;\n\tstruct timer_list reordering_ctrl_timer;\n};\n\nstruct\tstainfo_rxcache\t{\n\tu16\ttid_rxseq[16];\n};\n\n#define\t\tPHY_RSSI_SLID_WIN_MAX\t\t\t100\n#define\t\tPHY_LINKQUALITY_SLID_WIN_MAX\t\t20\n\nstruct smooth_rssi_data {\n\tu32\telements[100];\t \n\tu32\tindex;\t\t \n\tu32\ttotal_num;\t \n\tu32\ttotal_val;\t \n};\n\nstruct rx_pkt_attrib {\n\tu8\tamsdu;\n\tu8\torder;\n\tu8\tqos;\n\tu8\tto_fr_ds;\n\tu8\tfrag_num;\n\tu16\tseq_num;\n\tu8   pw_save;\n\tu8    mfrag;\n\tu8    mdata;\n\tu8\tprivacy;  \n\tu8\tbdecrypted;\n\tint\thdrlen;\t  \n\tint\tencrypt;  \n\tint\tiv_len;\n\tint\ticv_len;\n\tint\tpriority;\n\tint\tack_policy;\n\tu8\tcrc_err;\n\tu8\tdst[ETH_ALEN];\n\tu8\tsrc[ETH_ALEN];\n\tu8\tta[ETH_ALEN];\n\tu8\tra[ETH_ALEN];\n\tu8\tbssid[ETH_ALEN];\n\tu8\ttcpchk_valid;  \n\tu8\tip_chkrpt;  \n\tu8\ttcp_chkrpt;  \n\tu8\tsignal_qual;\n\ts8\trx_mimo_signal_qual[2];\n\tu8\tmcs_rate;\n\tu8\thtc;\n\tu8\tsignal_strength;\n};\n\n \nstruct recv_priv {\n\tspinlock_t lock;\n\tstruct  __queue\tfree_recv_queue;\n\tstruct  __queue\trecv_pending_queue;\n\tu8 *pallocated_frame_buf;\n\tu8 *precv_frame_buf;\n\tuint free_recvframe_cnt;\n\tstruct _adapter\t*adapter;\n\tuint\trx_bytes;\n\tuint\trx_pkts;\n\tuint\trx_drop;\n\tuint  rx_icv_err;\n\tuint  rx_largepacket_crcerr;\n\tuint  rx_smallpacket_crcerr;\n\tuint  rx_middlepacket_crcerr;\n\tu8  rx_pending_cnt;\n\tuint\tff_hwaddr;\n\tstruct tasklet_struct recv_tasklet;\n\tstruct sk_buff_head free_recv_skb_queue;\n\tstruct sk_buff_head rx_skb_queue;\n\tu8 *pallocated_recv_buf;\n\tu8 *precv_buf;     \n\tstruct  __queue\tfree_recv_buf_queue;\n\tu32\tfree_recv_buf_queue_cnt;\n\t \n\ts8 rssi;\n\tu8 signal;\n\tu8 noise;\n\tu8 fw_rssi;\n\tstruct smooth_rssi_data signal_qual_data;\n\tstruct smooth_rssi_data signal_strength_data;\n};\n\nstruct sta_recv_priv {\n\tspinlock_t lock;\n\tsint\toption;\n\tstruct  __queue defrag_q;  \n\tstruct\tstainfo_rxcache rxcache;\n\tuint\tsta_rx_bytes;\n\tuint\tsta_rx_pkts;\n\tuint\tsta_rx_fail;\n};\n\n#include \"rtl8712_recv.h\"\n\n \nunion recv_frame *r8712_alloc_recvframe(struct  __queue *pfree_recv_queue);\nvoid r8712_free_recvframe(union recv_frame *precvframe,\n\t\t\t  struct  __queue *pfree_recv_queue);\nvoid r8712_free_recvframe_queue(struct  __queue *pframequeue,\n\t\t\t\t struct  __queue *pfree_recv_queue);\nint r8712_wlanhdr_to_ethhdr(union recv_frame *precvframe);\nint recv_func(struct _adapter *padapter, void *pcontext);\n\nstatic inline u8 *get_rxmem(union recv_frame *precvframe)\n{\n\t \n\tif (!precvframe)\n\t\treturn NULL;\n\treturn precvframe->u.hdr.rx_head;\n}\n\nstatic inline u8 *recvframe_pull(union recv_frame *precvframe, sint sz)\n{\n\t \n\tif (!precvframe)\n\t\treturn NULL;\n\tprecvframe->u.hdr.rx_data += sz;\n\tif (precvframe->u.hdr.rx_data > precvframe->u.hdr.rx_tail) {\n\t\tprecvframe->u.hdr.rx_data -= sz;\n\t\treturn NULL;\n\t}\n\tprecvframe->u.hdr.len -= sz;\n\treturn precvframe->u.hdr.rx_data;\n}\n\nstatic inline u8 *recvframe_put(union recv_frame *precvframe, sint sz)\n{\n\t \n\tif (!precvframe)\n\t\treturn NULL;\n\tprecvframe->u.hdr.rx_tail += sz;\n\tif (precvframe->u.hdr.rx_tail > precvframe->u.hdr.rx_end) {\n\t\tprecvframe->u.hdr.rx_tail -= sz;\n\t\treturn NULL;\n\t}\n\tprecvframe->u.hdr.len += sz;\n\treturn precvframe->u.hdr.rx_tail;\n}\n\nstatic inline u8 *recvframe_pull_tail(union recv_frame *precvframe, sint sz)\n{\n\t \n\tif (!precvframe)\n\t\treturn NULL;\n\tprecvframe->u.hdr.rx_tail -= sz;\n\tif (precvframe->u.hdr.rx_tail < precvframe->u.hdr.rx_data) {\n\t\tprecvframe->u.hdr.rx_tail += sz;\n\t\treturn NULL;\n\t}\n\tprecvframe->u.hdr.len -= sz;\n\treturn precvframe->u.hdr.rx_tail;\n}\n\nstruct sta_info;\n\nvoid\t_r8712_init_sta_recv_priv(struct sta_recv_priv *psta_recvpriv);\nsint r8712_recvframe_chkmic(struct _adapter *adapter,\n\t\t\t    union recv_frame *precvframe);\nunion recv_frame *r8712_decryptor(struct _adapter *adapter,\n\t\t\t\t  union recv_frame *precv_frame);\nunion recv_frame *r8712_recvframe_chk_defrag(struct _adapter *adapter,\n\t\t\t\t\t     union recv_frame *precv_frame);\nint r8712_validate_recv_frame(struct _adapter *adapter,\n\t\t\t      union recv_frame *precv_frame);\nunion recv_frame *r8712_portctrl(struct _adapter *adapter,\n\t\t\t\t union recv_frame *precv_frame);\n\n#endif\n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}