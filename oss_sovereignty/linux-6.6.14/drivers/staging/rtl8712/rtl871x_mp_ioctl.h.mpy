{
  "module_name": "rtl871x_mp_ioctl.h",
  "hash_id": "a8a6de4b8a8fe4f4f0e7c605ac07e8d2dea70139467e20e653c17d6240db749e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/rtl8712/rtl871x_mp_ioctl.h",
  "human_readable_source": " \n \n#ifndef _RTL871X_MP_IOCTL_H\n#define _RTL871X_MP_IOCTL_H\n\n#include \"osdep_service.h\"\n#include \"drv_types.h\"\n#include \"mp_custom_oid.h\"\n#include \"rtl871x_ioctl.h\"\n#include \"rtl871x_ioctl_rtl.h\"\n#include \"rtl8712_efuse.h\"\n\n#define TESTFWCMDNUMBER\t\t\t1000000\n#define TEST_H2CINT_WAIT_TIME\t\t500\n#define TEST_C2HINT_WAIT_TIME\t\t500\n#define HCI_TEST_SYSCFG_HWMASK\t\t1\n#define _BUSCLK_40M\t\t\t(4 << 2)\n\nstruct CFG_DBG_MSG_STRUCT {\n\tu32 DebugLevel;\n\tu32 DebugComponent_H32;\n\tu32 DebugComponent_L32;\n};\n\nstruct mp_rw_reg {\n\tuint offset;\n\tuint width;\n\tu32 value;\n};\n\n \nstruct eeprom_rw_param {\n\tuint offset;\n\tu16 value;\n};\n\nstruct EFUSE_ACCESS_STRUCT {\n\tu16\tstart_addr;\n\tu16\tcnts;\n\tu8\tdata[];\n};\n\nstruct burst_rw_reg {\n\tuint offset;\n\tuint len;\n\tu8 Data[256];\n};\n\nstruct usb_vendor_req {\n\tu8\tbRequest;\n\tu16\twValue;\n\tu16\twIndex;\n\tu16\twLength;\n\tu8\tu8Dir; \n\tu8\tu8InData;\n};\n\nstruct DR_VARIABLE_STRUCT {\n\tu8 offset;\n\tu32 variable;\n};\n\n \nuint oid_rt_pro_read_register_hdl(struct oid_par_priv *poid_par_priv);\nuint oid_rt_pro_write_register_hdl(struct oid_par_priv *poid_par_priv);\n \nuint oid_rt_pro_set_data_rate_hdl(\n\t\t\t\tstruct oid_par_priv *poid_par_priv);\nuint oid_rt_pro_start_test_hdl(struct oid_par_priv *poid_par_priv);\nuint oid_rt_pro_stop_test_hdl(struct oid_par_priv *poid_par_priv);\nuint oid_rt_pro_set_channel_direct_call_hdl(\n\t\t\t\tstruct oid_par_priv *poid_par_priv);\nuint oid_rt_pro_set_antenna_bb_hdl(\n\t\t\t\tstruct oid_par_priv *poid_par_priv);\nuint oid_rt_pro_set_tx_power_control_hdl(\n\t\t\t\tstruct oid_par_priv *poid_par_priv);\n \nuint oid_rt_pro_query_tx_packet_sent_hdl(\n\t\t\t\tstruct oid_par_priv *poid_par_priv);\nuint oid_rt_pro_query_rx_packet_received_hdl(\n\t\t\t\tstruct oid_par_priv *poid_par_priv);\nuint oid_rt_pro_query_rx_packet_crc32_error_hdl(\n\t\t\t\tstruct oid_par_priv *poid_par_priv);\nuint oid_rt_pro_reset_tx_packet_sent_hdl(\n\t\t\t\tstruct oid_par_priv *poid_par_priv);\nuint oid_rt_pro_reset_rx_packet_received_hdl(\n\t\t\t\tstruct oid_par_priv *poid_par_priv);\nuint oid_rt_pro_set_modulation_hdl(struct oid_par_priv *poid_par_priv);\nuint oid_rt_pro_set_continuous_tx_hdl(\n\t\t\t\tstruct oid_par_priv *poid_par_priv);\nuint oid_rt_pro_set_single_carrier_tx_hdl(\n\t\t\t\tstruct oid_par_priv *poid_par_priv);\nuint oid_rt_pro_set_carrier_suppression_tx_hdl(\n\t\t\t\tstruct oid_par_priv *poid_par_priv);\nuint oid_rt_pro_set_single_tone_tx_hdl(\n\t\t\t\tstruct oid_par_priv *poid_par_priv);\n \nuint oid_rt_pro_write_bb_reg_hdl(struct oid_par_priv *poid_par_priv);\nuint oid_rt_pro_read_bb_reg_hdl(struct oid_par_priv *poid_par_priv);\nuint oid_rt_pro_write_rf_reg_hdl(struct oid_par_priv *poid_par_priv);\nuint oid_rt_pro_read_rf_reg_hdl(struct oid_par_priv *poid_par_priv);\n \nuint oid_rt_wireless_mode_hdl(struct oid_par_priv *poid_par_priv);\nuint oid_rt_pro_read_efuse_hdl(struct oid_par_priv *poid_par_priv);\nuint oid_rt_pro_write_efuse_hdl(struct oid_par_priv *poid_par_priv);\nuint oid_rt_get_efuse_current_size_hdl(\n\t\t\t\tstruct oid_par_priv *poid_par_priv);\nuint oid_rt_pro_efuse_hdl(struct oid_par_priv *poid_par_priv);\nuint oid_rt_pro_efuse_map_hdl(struct oid_par_priv *poid_par_priv);\nuint oid_rt_set_bandwidth_hdl(struct oid_par_priv *poid_par_priv);\nuint oid_rt_set_rx_packet_type_hdl(struct oid_par_priv *poid_par_priv);\nuint oid_rt_get_efuse_max_size_hdl(struct oid_par_priv *poid_par_priv);\nuint oid_rt_get_thermal_meter_hdl(\n\t\t\t\tstruct oid_par_priv *poid_par_priv);\nuint oid_rt_reset_phy_rx_packet_count_hdl(\n\t\t\t\tstruct oid_par_priv *poid_par_priv);\nuint oid_rt_get_phy_rx_packet_received_hdl(\n\t\t\t\tstruct oid_par_priv *poid_par_priv);\nuint oid_rt_get_phy_rx_packet_crc32_error_hdl(\n\t\t\t\tstruct oid_par_priv *poid_par_priv);\nuint oid_rt_set_power_down_hdl(\n\t\t\t\tstruct oid_par_priv *poid_par_priv);\nuint oid_rt_get_power_mode_hdl(\n\t\t\t\tstruct oid_par_priv *poid_par_priv);\n#ifdef _RTL871X_MP_IOCTL_C_  \n \n\n#else  \nextern struct oid_obj_priv oid_rtl_seg_81_87[5];\nextern struct oid_obj_priv oid_rtl_seg_87_11_00[32];\nextern struct oid_obj_priv oid_rtl_seg_87_11_20[5];\nextern struct oid_obj_priv oid_rtl_seg_87_11_50[2];\nextern struct oid_obj_priv oid_rtl_seg_87_11_80[1];\nextern struct oid_obj_priv oid_rtl_seg_87_11_B0[1];\nextern struct oid_obj_priv oid_rtl_seg_87_11_F0[16];\nextern struct oid_obj_priv oid_rtl_seg_87_12_00[32];\n\n#endif  \n\nenum MP_MODE {\n\tMP_START_MODE,\n\tMP_STOP_MODE,\n\tMP_ERR_MODE\n};\n\nstruct rwreg_param {\n\tunsigned int offset;\n\tunsigned int width;\n\tunsigned int value;\n};\n\nstruct bbreg_param {\n\tunsigned int offset;\n\tunsigned int phymask;\n\tunsigned int value;\n};\n\nstruct txpower_param {\n\tunsigned int pwr_index;\n};\n\nstruct datarate_param {\n\tunsigned int rate_index;\n};\n\nstruct rfintfs_parm {\n\tunsigned int rfintfs;\n};\n\nstruct mp_xmit_packet {\n\tunsigned int len;\n};\n\nstruct psmode_param {\n\tunsigned int ps_mode;\n\tunsigned int smart_ps;\n};\n\nstruct mp_ioctl_handler {\n\tunsigned int paramsize;\n\tunsigned int (*handler)(struct oid_par_priv *poid_par_priv);\n\tunsigned int oid;\n};\n\nstruct mp_ioctl_param {\n\tunsigned int subcode;\n\tunsigned int len;\n\tunsigned char data[];\n};\n\n#define GEN_MP_IOCTL_SUBCODE(code) _MP_IOCTL_ ## code ## _CMD_\n\nenum RTL871X_MP_IOCTL_SUBCODE {\n\tGEN_MP_IOCTL_SUBCODE(MP_START),\t\t\t \n\tGEN_MP_IOCTL_SUBCODE(MP_STOP),\t\t\t \n\tGEN_MP_IOCTL_SUBCODE(READ_REG),\t\t\t \n\tGEN_MP_IOCTL_SUBCODE(WRITE_REG),\n\tGEN_MP_IOCTL_SUBCODE(SET_CHANNEL),\t\t \n\tGEN_MP_IOCTL_SUBCODE(SET_TXPOWER),\t\t \n\tGEN_MP_IOCTL_SUBCODE(SET_DATARATE),\t\t \n\tGEN_MP_IOCTL_SUBCODE(READ_BB_REG),\t\t \n\tGEN_MP_IOCTL_SUBCODE(WRITE_BB_REG),\n\tGEN_MP_IOCTL_SUBCODE(READ_RF_REG),\t\t \n\tGEN_MP_IOCTL_SUBCODE(WRITE_RF_REG),\n\tGEN_MP_IOCTL_SUBCODE(SET_RF_INTFS),\n\tGEN_MP_IOCTL_SUBCODE(IOCTL_XMIT_PACKET),\t \n\tGEN_MP_IOCTL_SUBCODE(PS_STATE),\t\t\t \n\tGEN_MP_IOCTL_SUBCODE(READ16_EEPROM),\t\t \n\tGEN_MP_IOCTL_SUBCODE(WRITE16_EEPROM),\t\t \n\tGEN_MP_IOCTL_SUBCODE(SET_PTM),\t\t\t \n\tGEN_MP_IOCTL_SUBCODE(READ_TSSI),\t\t \n\tGEN_MP_IOCTL_SUBCODE(CNTU_TX),\t\t\t \n\tGEN_MP_IOCTL_SUBCODE(SET_BANDWIDTH),\t\t \n\tGEN_MP_IOCTL_SUBCODE(SET_RX_PKT_TYPE),\t\t \n\tGEN_MP_IOCTL_SUBCODE(RESET_PHY_RX_PKT_CNT),\t \n\tGEN_MP_IOCTL_SUBCODE(GET_PHY_RX_PKT_RECV),\t \n\tGEN_MP_IOCTL_SUBCODE(GET_PHY_RX_PKT_ERROR),\t \n\tGEN_MP_IOCTL_SUBCODE(SET_POWER_DOWN),\t\t \n\tGEN_MP_IOCTL_SUBCODE(GET_THERMAL_METER),\t \n\tGEN_MP_IOCTL_SUBCODE(GET_POWER_MODE),\t\t \n\tGEN_MP_IOCTL_SUBCODE(EFUSE),\t\t\t \n\tGEN_MP_IOCTL_SUBCODE(EFUSE_MAP),\t\t \n\tGEN_MP_IOCTL_SUBCODE(GET_EFUSE_MAX_SIZE),\t \n\tGEN_MP_IOCTL_SUBCODE(GET_EFUSE_CURRENT_SIZE),\t \n\tGEN_MP_IOCTL_SUBCODE(SC_TX),\t\t\t \n\tGEN_MP_IOCTL_SUBCODE(CS_TX),\t\t\t \n\tGEN_MP_IOCTL_SUBCODE(ST_TX),\t\t\t \n\tGEN_MP_IOCTL_SUBCODE(SET_ANTENNA),\t\t \n\tMAX_MP_IOCTL_SUBCODE,\n};\n\nunsigned int mp_ioctl_xmit_packet_hdl(struct oid_par_priv *poid_par_priv);\n\n#ifdef _RTL871X_MP_IOCTL_C_  \n \n\nstatic struct mp_ioctl_handler mp_ioctl_hdl[] = {\n\t{sizeof(u32), oid_rt_pro_start_test_hdl,\n\t\t\t     OID_RT_PRO_START_TEST}, \n\t{sizeof(u32), oid_rt_pro_stop_test_hdl,\n\t\t\t     OID_RT_PRO_STOP_TEST}, \n\t{sizeof(struct rwreg_param),\n\t\t\t     oid_rt_pro_read_register_hdl,\n\t\t\t     OID_RT_PRO_READ_REGISTER}, \n\t{sizeof(struct rwreg_param),\n\t\t\t     oid_rt_pro_write_register_hdl,\n\t\t\t     OID_RT_PRO_WRITE_REGISTER},\n\t{sizeof(u32),\n\t\t\t     oid_rt_pro_set_channel_direct_call_hdl,\n\t\t\t     OID_RT_PRO_SET_CHANNEL_DIRECT_CALL},\n\t{sizeof(struct txpower_param),\n\t\t\t     oid_rt_pro_set_tx_power_control_hdl,\n\t\t\t     OID_RT_PRO_SET_TX_POWER_CONTROL},\n\t{sizeof(u32),\n\t\t\t     oid_rt_pro_set_data_rate_hdl,\n\t\t\t     OID_RT_PRO_SET_DATA_RATE},\n\t{sizeof(struct bb_reg_param),\n\t\t\t     oid_rt_pro_read_bb_reg_hdl,\n\t\t\t     OID_RT_PRO_READ_BB_REG}, \n\t{sizeof(struct bb_reg_param),\n\t\t\t     oid_rt_pro_write_bb_reg_hdl,\n\t\t\t     OID_RT_PRO_WRITE_BB_REG},\n\t{sizeof(struct rwreg_param),\n\t\t\t     oid_rt_pro_read_rf_reg_hdl,\n\t\t\t     OID_RT_PRO_RF_READ_REGISTRY}, \n\t{sizeof(struct rwreg_param),\n\t\t\t     oid_rt_pro_write_rf_reg_hdl,\n\t\t\t     OID_RT_PRO_RF_WRITE_REGISTRY},\n\t{sizeof(struct rfintfs_parm), NULL, 0},\n\t{0, mp_ioctl_xmit_packet_hdl, 0}, \n\t{sizeof(struct psmode_param), NULL, 0}, \n\t{sizeof(struct eeprom_rw_param), NULL, 0}, \n\t{sizeof(struct eeprom_rw_param), NULL, 0}, \n\t{sizeof(unsigned char), NULL, 0}, \n\t{sizeof(u32), NULL, 0}, \n\t{sizeof(u32), oid_rt_pro_set_continuous_tx_hdl,\n\t\t\t     OID_RT_PRO_SET_CONTINUOUS_TX}, \n\t{sizeof(u32), oid_rt_set_bandwidth_hdl,\n\t\t\t     OID_RT_SET_BANDWIDTH}, \n\t{sizeof(u32), oid_rt_set_rx_packet_type_hdl,\n\t\t\t     OID_RT_SET_RX_PACKET_TYPE}, \n\t{0, oid_rt_reset_phy_rx_packet_count_hdl,\n\t\t\t     OID_RT_RESET_PHY_RX_PACKET_COUNT}, \n\t{sizeof(u32), oid_rt_get_phy_rx_packet_received_hdl,\n\t\t\t     OID_RT_GET_PHY_RX_PACKET_RECEIVED}, \n\t{sizeof(u32), oid_rt_get_phy_rx_packet_crc32_error_hdl,\n\t\t\t     OID_RT_GET_PHY_RX_PACKET_CRC32_ERROR}, \n\t{sizeof(unsigned char), oid_rt_set_power_down_hdl,\n\t\t\t     OID_RT_SET_POWER_DOWN}, \n\t{sizeof(u32), oid_rt_get_thermal_meter_hdl,\n\t\t\t     OID_RT_PRO_GET_THERMAL_METER}, \n\t{sizeof(u32), oid_rt_get_power_mode_hdl,\n\t\t\t     OID_RT_GET_POWER_MODE}, \n\t{sizeof(struct EFUSE_ACCESS_STRUCT),\n\t\t\t     oid_rt_pro_efuse_hdl, OID_RT_PRO_EFUSE}, \n\t{EFUSE_MAP_MAX_SIZE, oid_rt_pro_efuse_map_hdl,\n\t\t\t     OID_RT_PRO_EFUSE_MAP}, \n\t{sizeof(u32), oid_rt_get_efuse_max_size_hdl,\n\t\t\t     OID_RT_GET_EFUSE_MAX_SIZE}, \n\t{sizeof(u32), oid_rt_get_efuse_current_size_hdl,\n\t\t\t     OID_RT_GET_EFUSE_CURRENT_SIZE}, \n\t{sizeof(u32), oid_rt_pro_set_single_carrier_tx_hdl,\n\t\t\t     OID_RT_PRO_SET_SINGLE_CARRIER_TX}, \n\t{sizeof(u32), oid_rt_pro_set_carrier_suppression_tx_hdl,\n\t\t\t     OID_RT_PRO_SET_CARRIER_SUPPRESSION_TX}, \n\t{sizeof(u32), oid_rt_pro_set_single_tone_tx_hdl,\n\t\t\t     OID_RT_PRO_SET_SINGLE_TONE_TX}, \n\t{sizeof(u32), oid_rt_pro_set_antenna_bb_hdl,\n\t\t\t     OID_RT_PRO_SET_ANTENNA_BB}, \n};\n\n#else  \nextern struct mp_ioctl_handler mp_ioctl_hdl[];\n#endif  \n\n#endif\n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}