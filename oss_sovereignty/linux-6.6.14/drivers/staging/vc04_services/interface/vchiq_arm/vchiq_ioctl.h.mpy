{
  "module_name": "vchiq_ioctl.h",
  "hash_id": "c8a91364d91ac13eb4c96a98c53a2a241f391a388a3e0efe960b2785bf67ef9b",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/vc04_services/interface/vchiq_arm/vchiq_ioctl.h",
  "human_readable_source": " \n \n\n#ifndef VCHIQ_IOCTLS_H\n#define VCHIQ_IOCTLS_H\n\n#include <linux/ioctl.h>\n\n#include \"../../include/linux/raspberrypi/vchiq.h\"\n\n#define VCHIQ_IOC_MAGIC 0xc4\n#define VCHIQ_INVALID_HANDLE (~0)\n\nstruct vchiq_service_params {\n\tint fourcc;\n\tint __user (*callback)(enum vchiq_reason reason,\n\t\t\t       struct vchiq_header *header,\n\t\t\t       unsigned int handle,\n\t\t\t       void *bulk_userdata);\n\tvoid __user *userdata;\n\tshort version;        \n\tshort version_min;    \n};\n\nstruct vchiq_create_service {\n\tstruct vchiq_service_params params;\n\tint is_open;\n\tint is_vchi;\n\tunsigned int handle;        \n};\n\nstruct vchiq_queue_message {\n\tunsigned int handle;\n\tunsigned int count;\n\tconst struct vchiq_element __user *elements;\n};\n\nstruct vchiq_queue_bulk_transfer {\n\tunsigned int handle;\n\tvoid __user *data;\n\tunsigned int size;\n\tvoid __user *userdata;\n\tenum vchiq_bulk_mode mode;\n};\n\nstruct vchiq_completion_data {\n\tenum vchiq_reason reason;\n\tstruct vchiq_header __user *header;\n\tvoid __user *service_userdata;\n\tvoid __user *bulk_userdata;\n};\n\nstruct vchiq_await_completion {\n\tunsigned int count;\n\tstruct vchiq_completion_data __user *buf;\n\tunsigned int msgbufsize;\n\tunsigned int msgbufcount;  \n\tvoid * __user *msgbufs;\n};\n\nstruct vchiq_dequeue_message {\n\tunsigned int handle;\n\tint blocking;\n\tunsigned int bufsize;\n\tvoid __user *buf;\n};\n\nstruct vchiq_get_config {\n\tunsigned int config_size;\n\tstruct vchiq_config __user *pconfig;\n};\n\nstruct vchiq_set_service_option {\n\tunsigned int handle;\n\tenum vchiq_service_option option;\n\tint value;\n};\n\nstruct vchiq_dump_mem {\n\tvoid     __user *virt_addr;\n\tsize_t    num_bytes;\n};\n\n#define VCHIQ_IOC_CONNECT              _IO(VCHIQ_IOC_MAGIC,   0)\n#define VCHIQ_IOC_SHUTDOWN             _IO(VCHIQ_IOC_MAGIC,   1)\n#define VCHIQ_IOC_CREATE_SERVICE \\\n\t_IOWR(VCHIQ_IOC_MAGIC, 2, struct vchiq_create_service)\n#define VCHIQ_IOC_REMOVE_SERVICE       _IO(VCHIQ_IOC_MAGIC,   3)\n#define VCHIQ_IOC_QUEUE_MESSAGE \\\n\t_IOW(VCHIQ_IOC_MAGIC,  4, struct vchiq_queue_message)\n#define VCHIQ_IOC_QUEUE_BULK_TRANSMIT \\\n\t_IOWR(VCHIQ_IOC_MAGIC, 5, struct vchiq_queue_bulk_transfer)\n#define VCHIQ_IOC_QUEUE_BULK_RECEIVE \\\n\t_IOWR(VCHIQ_IOC_MAGIC, 6, struct vchiq_queue_bulk_transfer)\n#define VCHIQ_IOC_AWAIT_COMPLETION \\\n\t_IOWR(VCHIQ_IOC_MAGIC, 7, struct vchiq_await_completion)\n#define VCHIQ_IOC_DEQUEUE_MESSAGE \\\n\t_IOWR(VCHIQ_IOC_MAGIC, 8, struct vchiq_dequeue_message)\n#define VCHIQ_IOC_GET_CLIENT_ID        _IO(VCHIQ_IOC_MAGIC,   9)\n#define VCHIQ_IOC_GET_CONFIG \\\n\t_IOWR(VCHIQ_IOC_MAGIC, 10, struct vchiq_get_config)\n#define VCHIQ_IOC_CLOSE_SERVICE        _IO(VCHIQ_IOC_MAGIC,   11)\n#define VCHIQ_IOC_USE_SERVICE          _IO(VCHIQ_IOC_MAGIC,   12)\n#define VCHIQ_IOC_RELEASE_SERVICE      _IO(VCHIQ_IOC_MAGIC,   13)\n#define VCHIQ_IOC_SET_SERVICE_OPTION \\\n\t_IOW(VCHIQ_IOC_MAGIC,  14, struct vchiq_set_service_option)\n#define VCHIQ_IOC_DUMP_PHYS_MEM \\\n\t_IOW(VCHIQ_IOC_MAGIC,  15, struct vchiq_dump_mem)\n#define VCHIQ_IOC_LIB_VERSION          _IO(VCHIQ_IOC_MAGIC,   16)\n#define VCHIQ_IOC_CLOSE_DELIVERED      _IO(VCHIQ_IOC_MAGIC,   17)\n#define VCHIQ_IOC_MAX                  17\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}