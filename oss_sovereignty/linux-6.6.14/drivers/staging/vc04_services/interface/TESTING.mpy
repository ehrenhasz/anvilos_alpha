{
  "module_name": "TESTING",
  "hash_id": "1fdf1b1ae5242cc3fb42b68727103eb11e0c895d0d0ae0a342afdf0df525646e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/vc04_services/interface/TESTING",
  "human_readable_source": "This document contains some hints to test the function of the VCHIQ driver\nwithout having additional hardware to the Raspberry Pi.\n\n* Requirements & limitations\n\nTesting the VCHIQ driver requires a Raspberry Pi with one of the following SoC:\n  - BCM2835 ( e.g. Raspberry Pi Zero W )\n  - BCM2836 ( e.g. Raspberry Pi 2 )\n  - BCM2837 ( e.g. Raspberry Pi 3 B+ )\n\nThe BCM2711 used in the Raspberry Pi 4 is currently not supported in the\nmainline kernel.\n\nThere are no specific requirements to the VideoCore firmware to get VCHIQ\nworking.\n\nThe test scenarios described in this document based on the tool vchiq_test.\nIts source code is available here: https://github.com/raspberrypi/userland\n\n* Configuration\n\nHere are the most common kernel configurations:\n\n 1. BCM2835 target SoC (ARM 32 bit)\n\n    Just use bcm2835_defconfig which already has VCHIQ enabled.\n\n 2. BCM2836/7 target SoC (ARM 32 bit)\n\n    Use the multi_v7_defconfig as a base and then enable all VCHIQ options.\n\n 3. BCM2837 target SoC (ARM 64 bit)\n\n    Use the defconfig as a base and then enable all VCHIQ options.\n\n* Scenarios\n\n * Initial test\n\n   Check the driver is probed and /dev/vchiq is created\n\n * Functional test\n\n   Command: vchiq_test -f 10\n\n   Expected output:\n   Functional test - iters:10\n   ======== iteration 1 ========\n   Testing bulk transfer for alignment.\n   Testing bulk transfer at PAGE_SIZE.\n   ...\n\n * Ping test\n\n   Command: vchiq_test -p 1\n\n   Expected output:\n   Ping test - service:echo, iters:1, version 3\n   vchi ping (size 0) -> 57.000000us\n   vchi ping (size 0, 0 async, 0 oneway) -> 122.000000us\n   vchi bulk (size 0, 0 async, 0 oneway) -> 546.000000us\n   vchi bulk (size 0, 0 oneway) -> 230.000000us\n   vchi ping (size 0) -> 49.000000us\n   vchi ping (size 0, 0 async, 0 oneway) -> 70.000000us\n   vchi bulk (size 0, 0 async, 0 oneway) -> 296.000000us\n   vchi bulk (size 0, 0 oneway) -> 266.000000us\n   vchi ping (size 0, 1 async, 0 oneway) -> 65.000000us\n   vchi bulk (size 0, 0 oneway) -> 456.000000us\n   vchi ping (size 0, 2 async, 0 oneway) -> 74.000000us\n   vchi bulk (size 0, 0 oneway) -> 640.000000us\n   vchi ping (size 0, 10 async, 0 oneway) -> 125.000000us\n   vchi bulk (size 0, 0 oneway) -> 2309.000000us\n   vchi ping (size 0, 0 async, 1 oneway) -> 70.000000us\n   vchi ping (size 0, 0 async, 2 oneway) -> 76.000000us\n   vchi ping (size 0, 0 async, 10 oneway) -> 105.000000us\n   vchi ping (size 0, 10 async, 10 oneway) -> 165.000000us\n   vchi ping (size 0, 100 async, 0 oneway) -> nanus\n   vchi bulk (size 0, 0 oneway) -> nanus\n   vchi ping (size 0, 0 async, 100 oneway) -> nanus\n   vchi ping (size 0, 100 async, 100 oneway) -> infus\n   vchi ping (size 0, 200 async, 0 oneway) -> infus\n   ...\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}