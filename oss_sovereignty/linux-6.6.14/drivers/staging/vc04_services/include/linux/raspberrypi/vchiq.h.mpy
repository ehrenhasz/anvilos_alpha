{
  "module_name": "vchiq.h",
  "hash_id": "c3c05089d595e61c13fee6e2d21ce865574e87873631cf03bbb7226b3d49c73d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/vc04_services/include/linux/raspberrypi/vchiq.h",
  "human_readable_source": " \n \n\n#ifndef VCHIQ_H\n#define VCHIQ_H\n\n#define VCHIQ_MAKE_FOURCC(x0, x1, x2, x3) \\\n\t\t\t(((x0) << 24) | ((x1) << 16) | ((x2) << 8) | (x3))\n\nenum vchiq_reason {\n\tVCHIQ_SERVICE_OPENED,          \n\tVCHIQ_SERVICE_CLOSED,          \n\tVCHIQ_MESSAGE_AVAILABLE,       \n\tVCHIQ_BULK_TRANSMIT_DONE,      \n\tVCHIQ_BULK_RECEIVE_DONE,       \n\tVCHIQ_BULK_TRANSMIT_ABORTED,   \n\tVCHIQ_BULK_RECEIVE_ABORTED     \n};\n\nenum vchiq_bulk_mode {\n\tVCHIQ_BULK_MODE_CALLBACK,\n\tVCHIQ_BULK_MODE_BLOCKING,\n\tVCHIQ_BULK_MODE_NOCALLBACK,\n\tVCHIQ_BULK_MODE_WAITING\t\t \n};\n\nenum vchiq_service_option {\n\tVCHIQ_SERVICE_OPTION_AUTOCLOSE,\n\tVCHIQ_SERVICE_OPTION_SLOT_QUOTA,\n\tVCHIQ_SERVICE_OPTION_MESSAGE_QUOTA,\n\tVCHIQ_SERVICE_OPTION_SYNCHRONOUS,\n\tVCHIQ_SERVICE_OPTION_TRACE\n};\n\nstruct vchiq_header {\n\t \n\tint msgid;\n\n\t \n\tunsigned int size;\n\n\tchar data[];            \n};\n\nstruct vchiq_element {\n\tconst void __user *data;\n\tunsigned int size;\n};\n\nstruct vchiq_instance;\n\nstruct vchiq_service_base {\n\tint fourcc;\n\tint (*callback)(struct vchiq_instance *instance,\n\t\t\tenum vchiq_reason reason,\n\t\t\tstruct vchiq_header *header,\n\t\t\tunsigned int handle,\n\t\t\tvoid *bulk_userdata);\n\tvoid *userdata;\n};\n\nstruct vchiq_completion_data_kernel {\n\tenum vchiq_reason reason;\n\tstruct vchiq_header *header;\n\tvoid *service_userdata;\n\tvoid *bulk_userdata;\n};\n\nstruct vchiq_service_params_kernel {\n\tint fourcc;\n\tint (*callback)(struct vchiq_instance *instance,\n\t\t\tenum vchiq_reason reason,\n\t\t\tstruct vchiq_header *header,\n\t\t\tunsigned int handle,\n\t\t\tvoid *bulk_userdata);\n\tvoid *userdata;\n\tshort version;        \n\tshort version_min;    \n};\n\nextern int vchiq_initialise(struct vchiq_instance **pinstance);\nextern int vchiq_shutdown(struct vchiq_instance *instance);\nextern int vchiq_connect(struct vchiq_instance *instance);\nextern int vchiq_open_service(struct vchiq_instance *instance,\n\t\t\t      const struct vchiq_service_params_kernel *params,\n\t\t\t      unsigned int *pservice);\nextern int vchiq_close_service(struct vchiq_instance *instance,\n\t\t\t       unsigned int service);\nextern int vchiq_use_service(struct vchiq_instance *instance, unsigned int service);\nextern int vchiq_release_service(struct vchiq_instance *instance,\n\t\t\t\t unsigned int service);\nextern void vchiq_msg_queue_push(struct vchiq_instance *instance, unsigned int handle,\n\t\t\t\t struct vchiq_header *header);\nextern void vchiq_release_message(struct vchiq_instance *instance, unsigned int service,\n\t\t\t\t  struct vchiq_header *header);\nextern int vchiq_queue_kernel_message(struct vchiq_instance *instance, unsigned int handle,\n\t\t\t\t      void *data, unsigned int size);\nextern int vchiq_bulk_transmit(struct vchiq_instance *instance, unsigned int service,\n\t\t\t       const void *data, unsigned int size, void *userdata,\n\t\t\t       enum vchiq_bulk_mode mode);\nextern int vchiq_bulk_receive(struct vchiq_instance *instance, unsigned int service,\n\t\t\t      void *data, unsigned int size, void *userdata,\n\t\t\t      enum vchiq_bulk_mode mode);\nextern void *vchiq_get_service_userdata(struct vchiq_instance *instance, unsigned int service);\nextern int vchiq_get_peer_version(struct vchiq_instance *instance, unsigned int handle,\n\t\t\t\t  short *peer_version);\nextern struct vchiq_header *vchiq_msg_hold(struct vchiq_instance *instance, unsigned int handle);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}