{
  "module_name": "mmal-msg.h",
  "hash_id": "41ffbc0d5ed0e047c436d10e8496c6e885d229ddc991954c8a77cb6a6f4d367b",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/vc04_services/vchiq-mmal/mmal-msg.h",
  "human_readable_source": " \n \n\n \n#ifndef MMAL_MSG_H\n#define MMAL_MSG_H\n\n#define VC_MMAL_VER 15\n#define VC_MMAL_MIN_VER 10\n\n \n#define MMAL_MSG_MAX_SIZE 512\n \n#define MMAL_MSG_MAX_PAYLOAD 488\n\n#include \"mmal-msg-common.h\"\n#include \"mmal-msg-format.h\"\n#include \"mmal-msg-port.h\"\n#include \"mmal-vchiq.h\"\n\nenum mmal_msg_type {\n\tMMAL_MSG_TYPE_QUIT = 1,\n\tMMAL_MSG_TYPE_SERVICE_CLOSED,\n\tMMAL_MSG_TYPE_GET_VERSION,\n\tMMAL_MSG_TYPE_COMPONENT_CREATE,\n\tMMAL_MSG_TYPE_COMPONENT_DESTROY,\t \n\tMMAL_MSG_TYPE_COMPONENT_ENABLE,\n\tMMAL_MSG_TYPE_COMPONENT_DISABLE,\n\tMMAL_MSG_TYPE_PORT_INFO_GET,\n\tMMAL_MSG_TYPE_PORT_INFO_SET,\n\tMMAL_MSG_TYPE_PORT_ACTION,\t\t \n\tMMAL_MSG_TYPE_BUFFER_FROM_HOST,\n\tMMAL_MSG_TYPE_BUFFER_TO_HOST,\n\tMMAL_MSG_TYPE_GET_STATS,\n\tMMAL_MSG_TYPE_PORT_PARAMETER_SET,\n\tMMAL_MSG_TYPE_PORT_PARAMETER_GET,\t \n\tMMAL_MSG_TYPE_EVENT_TO_HOST,\n\tMMAL_MSG_TYPE_GET_CORE_STATS_FOR_PORT,\n\tMMAL_MSG_TYPE_OPAQUE_ALLOCATOR,\n\tMMAL_MSG_TYPE_CONSUME_MEM,\n\tMMAL_MSG_TYPE_LMK,\t\t\t \n\tMMAL_MSG_TYPE_OPAQUE_ALLOCATOR_DESC,\n\tMMAL_MSG_TYPE_DRM_GET_LHS32,\n\tMMAL_MSG_TYPE_DRM_GET_TIME,\n\tMMAL_MSG_TYPE_BUFFER_FROM_HOST_ZEROLEN,\n\tMMAL_MSG_TYPE_PORT_FLUSH,\t\t \n\tMMAL_MSG_TYPE_HOST_LOG,\n\tMMAL_MSG_TYPE_MSG_LAST\n};\n\n \nenum mmal_msg_port_action_type {\n\tMMAL_MSG_PORT_ACTION_TYPE_UNKNOWN = 0,\t \n\tMMAL_MSG_PORT_ACTION_TYPE_ENABLE,\t \n\tMMAL_MSG_PORT_ACTION_TYPE_DISABLE,\t \n\tMMAL_MSG_PORT_ACTION_TYPE_FLUSH,\t \n\tMMAL_MSG_PORT_ACTION_TYPE_CONNECT,\t \n\tMMAL_MSG_PORT_ACTION_TYPE_DISCONNECT,\t \n\tMMAL_MSG_PORT_ACTION_TYPE_SET_REQUIREMENTS,  \n};\n\nstruct mmal_msg_header {\n\tu32 magic;\n\tu32 type;\t \n\n\t \n\tu32 control_service;\n\n\tu32 context;\t \n\tu32 status;\t \n\tu32 padding;\n};\n\n \nstruct mmal_msg_version {\n\tu32 flags;\n\tu32 major;\n\tu32 minor;\n\tu32 minimum;\n};\n\n \nstruct mmal_msg_component_create {\n\tu32 client_component;\t \n\tchar name[128];\n\tu32 pid;\t\t \n};\n\n \nstruct mmal_msg_component_create_reply {\n\tu32 status;\t \n\tu32 component_handle;  \n\tu32 input_num;         \n\tu32 output_num;        \n\tu32 clock_num;         \n};\n\n \nstruct mmal_msg_component_destroy {\n\tu32 component_handle;\n};\n\nstruct mmal_msg_component_destroy_reply {\n\tu32 status;  \n};\n\n \nstruct mmal_msg_component_enable {\n\tu32 component_handle;\n};\n\nstruct mmal_msg_component_enable_reply {\n\tu32 status;  \n};\n\n \nstruct mmal_msg_component_disable {\n\tu32 component_handle;\n};\n\nstruct mmal_msg_component_disable_reply {\n\tu32 status;  \n};\n\n \nstruct mmal_msg_port_info_get {\n\tu32 component_handle;   \n\tu32 port_type;          \n\tu32 index;              \n};\n\n \nstruct mmal_msg_port_info_get_reply {\n\tu32 status;\t\t \n\tu32 component_handle;\t \n\tu32 port_type;\t\t \n\tu32 port_index;\t\t \n\ts32 found;\t\t \n\tu32 port_handle;\t \n\tstruct mmal_port port;\n\tstruct mmal_es_format format;  \n\tunion mmal_es_specific_format es;  \n\tu8 extradata[MMAL_FORMAT_EXTRADATA_MAX_SIZE];  \n};\n\n \nstruct mmal_msg_port_info_set {\n\tu32 component_handle;\n\tu32 port_type;\t\t \n\tu32 port_index;\t\t \n\tstruct mmal_port port;\n\tstruct mmal_es_format format;\n\tunion mmal_es_specific_format es;\n\tu8 extradata[MMAL_FORMAT_EXTRADATA_MAX_SIZE];\n};\n\n \nstruct mmal_msg_port_info_set_reply {\n\tu32 status;\n\tu32 component_handle;\t \n\tu32 port_type;\t\t \n\tu32 index;\t\t \n\ts32 found;\t\t \n\tu32 port_handle;\t \n\tstruct mmal_port port;\n\tstruct mmal_es_format format;\n\tunion mmal_es_specific_format es;\n\tu8 extradata[MMAL_FORMAT_EXTRADATA_MAX_SIZE];\n};\n\n \nstruct mmal_msg_port_action_port {\n\tu32 component_handle;\n\tu32 port_handle;\n\tu32 action;\t\t \n\tstruct mmal_port port;\n};\n\n \nstruct mmal_msg_port_action_handle {\n\tu32 component_handle;\n\tu32 port_handle;\n\tu32 action;\t\t \n\tu32 connect_component_handle;\n\tu32 connect_port_handle;\n};\n\nstruct mmal_msg_port_action_reply {\n\tu32 status;\t \n};\n\n \n\n \n#define MMAL_VC_SHORT_DATA 128\n\n \n#define MMAL_BUFFER_HEADER_FLAG_EOS                    BIT(0)\n \n#define MMAL_BUFFER_HEADER_FLAG_FRAME_START            BIT(1)\n \n#define MMAL_BUFFER_HEADER_FLAG_FRAME_END              BIT(2)\n \n#define MMAL_BUFFER_HEADER_FLAG_FRAME                  \\\n\t(MMAL_BUFFER_HEADER_FLAG_FRAME_START | \\\n\t MMAL_BUFFER_HEADER_FLAG_FRAME_END)\n \n#define MMAL_BUFFER_HEADER_FLAG_KEYFRAME               BIT(3)\n \n#define MMAL_BUFFER_HEADER_FLAG_DISCONTINUITY          BIT(4)\n \n#define MMAL_BUFFER_HEADER_FLAG_CONFIG                 BIT(5)\n \n#define MMAL_BUFFER_HEADER_FLAG_ENCRYPTED              BIT(6)\n \n#define MMAL_BUFFER_HEADER_FLAG_CODECSIDEINFO          BIT(7)\n \n#define MMAL_BUFFER_HEADER_FLAGS_SNAPSHOT              BIT(8)\n \n#define MMAL_BUFFER_HEADER_FLAG_CORRUPTED              BIT(9)\n \n#define MMAL_BUFFER_HEADER_FLAG_TRANSMISSION_FAILED    BIT(10)\n\nstruct mmal_driver_buffer {\n\tu32 magic;\n\tu32 component_handle;\n\tu32 port_handle;\n\tu32 client_context;\n};\n\n \nstruct mmal_buffer_header {\n\tu32 next;\t \n\tu32 priv;\t \n\tu32 cmd;\n\tu32 data;\n\tu32 alloc_size;\n\tu32 length;\n\tu32 offset;\n\tu32 flags;\n\ts64 pts;\n\ts64 dts;\n\tu32 type;\n\tu32 user_data;\n};\n\nstruct mmal_buffer_header_type_specific {\n\tunion {\n\t\tstruct {\n\t\tu32 planes;\n\t\tu32 offset[4];\n\t\tu32 pitch[4];\n\t\tu32 flags;\n\t\t} video;\n\t} u;\n};\n\nstruct mmal_msg_buffer_from_host {\n\t \n\t \n\tstruct mmal_driver_buffer drvbuf;\n\n\t \n\tstruct mmal_driver_buffer drvbuf_ref;\n\tstruct mmal_buffer_header buffer_header;  \n\tstruct mmal_buffer_header_type_specific buffer_header_type_specific;\n\ts32 is_zero_copy;\n\ts32 has_reference;\n\n\t \n\tu32 payload_in_message;\n\tu8 short_data[MMAL_VC_SHORT_DATA];\n};\n\n \n\n#define MMAL_WORKER_PORT_PARAMETER_SPACE      96\n\nstruct mmal_msg_port_parameter_set {\n\tu32 component_handle;\t \n\tu32 port_handle;\t \n\tu32 id;\t\t\t \n\tu32 size;\t\t \n\tu32 value[MMAL_WORKER_PORT_PARAMETER_SPACE];\n};\n\nstruct mmal_msg_port_parameter_set_reply {\n\tu32 status;\t \n};\n\n \n\nstruct mmal_msg_port_parameter_get {\n\tu32 component_handle;\t \n\tu32 port_handle;\t \n\tu32 id;\t\t\t \n\tu32 size;\t\t \n};\n\nstruct mmal_msg_port_parameter_get_reply {\n\tu32 status;\t\t \n\tu32 id;\t\t\t \n\tu32 size;\t\t \n\tu32 value[MMAL_WORKER_PORT_PARAMETER_SPACE];\n};\n\n \n#define MMAL_WORKER_EVENT_SPACE 256\n\nstruct mmal_msg_event_to_host {\n\tu32 client_component;\t \n\n\tu32 port_type;\n\tu32 port_num;\n\n\tu32 cmd;\n\tu32 length;\n\tu8 data[MMAL_WORKER_EVENT_SPACE];\n\tu32 delayed_buffer;\n};\n\n \nstruct mmal_msg {\n\t \n\tstruct mmal_msg_header h;\n\t \n\tunion {\n\t\tstruct mmal_msg_version version;\n\n\t\tstruct mmal_msg_component_create component_create;\n\t\tstruct mmal_msg_component_create_reply component_create_reply;\n\n\t\tstruct mmal_msg_component_destroy component_destroy;\n\t\tstruct mmal_msg_component_destroy_reply component_destroy_reply;\n\n\t\tstruct mmal_msg_component_enable component_enable;\n\t\tstruct mmal_msg_component_enable_reply component_enable_reply;\n\n\t\tstruct mmal_msg_component_disable component_disable;\n\t\tstruct mmal_msg_component_disable_reply component_disable_reply;\n\n\t\tstruct mmal_msg_port_info_get port_info_get;\n\t\tstruct mmal_msg_port_info_get_reply port_info_get_reply;\n\n\t\tstruct mmal_msg_port_info_set port_info_set;\n\t\tstruct mmal_msg_port_info_set_reply port_info_set_reply;\n\n\t\tstruct mmal_msg_port_action_port port_action_port;\n\t\tstruct mmal_msg_port_action_handle port_action_handle;\n\t\tstruct mmal_msg_port_action_reply port_action_reply;\n\n\t\tstruct mmal_msg_buffer_from_host buffer_from_host;\n\n\t\tstruct mmal_msg_port_parameter_set port_parameter_set;\n\t\tstruct mmal_msg_port_parameter_set_reply\n\t\t\tport_parameter_set_reply;\n\t\tstruct mmal_msg_port_parameter_get\n\t\t\tport_parameter_get;\n\t\tstruct mmal_msg_port_parameter_get_reply\n\t\t\tport_parameter_get_reply;\n\n\t\tstruct mmal_msg_event_to_host event_to_host;\n\n\t\tu8 payload[MMAL_MSG_MAX_PAYLOAD];\n\t} u;\n};\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}