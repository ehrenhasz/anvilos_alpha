{
  "module_name": "dvb_filter.h",
  "hash_id": "8283092125efdaf56da528ef92f011468190dde10519254d7e40d7b594652622",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/media/av7110/dvb_filter.h",
  "human_readable_source": " \n\n#ifndef _DVB_FILTER_H_\n#define _DVB_FILTER_H_\n\n#include <linux/slab.h>\n\n#include <media/demux.h>\n\ntypedef int (dvb_filter_pes2ts_cb_t) (void *, unsigned char *);\n\nstruct dvb_filter_pes2ts {\n\tunsigned char buf[188];\n\tunsigned char cc;\n\tdvb_filter_pes2ts_cb_t *cb;\n\tvoid *priv;\n};\n\nvoid dvb_filter_pes2ts_init(struct dvb_filter_pes2ts *p2ts, unsigned short pid,\n\t\t\t    dvb_filter_pes2ts_cb_t *cb, void *priv);\n\nint dvb_filter_pes2ts(struct dvb_filter_pes2ts *p2ts, unsigned char *pes,\n\t\t      int len, int payload_start);\n\n\n#define PROG_STREAM_MAP  0xBC\n#define PRIVATE_STREAM1  0xBD\n#define PADDING_STREAM   0xBE\n#define PRIVATE_STREAM2  0xBF\n#define AUDIO_STREAM_S   0xC0\n#define AUDIO_STREAM_E   0xDF\n#define VIDEO_STREAM_S   0xE0\n#define VIDEO_STREAM_E   0xEF\n#define ECM_STREAM       0xF0\n#define EMM_STREAM       0xF1\n#define DSM_CC_STREAM    0xF2\n#define ISO13522_STREAM  0xF3\n#define PROG_STREAM_DIR  0xFF\n\n#define DVB_PICTURE_START    0x00\n#define DVB_USER_START       0xb2\n#define DVB_SEQUENCE_HEADER  0xb3\n#define DVB_SEQUENCE_ERROR   0xb4\n#define DVB_EXTENSION_START  0xb5\n#define DVB_SEQUENCE_END     0xb7\n#define DVB_GOP_START        0xb8\n#define DVB_EXCEPT_SLICE     0xb0\n\n#define SEQUENCE_EXTENSION           0x01\n#define SEQUENCE_DISPLAY_EXTENSION   0x02\n#define PICTURE_CODING_EXTENSION     0x08\n#define QUANT_MATRIX_EXTENSION       0x03\n#define PICTURE_DISPLAY_EXTENSION    0x07\n\n#define I_FRAME 0x01\n#define B_FRAME 0x02\n#define P_FRAME 0x03\n\n \n#define INIT_HORIZONTAL_SIZE        720\n#define INIT_VERTICAL_SIZE          576\n#define INIT_ASPECT_RATIO          0x02\n#define INIT_FRAME_RATE            0x03\n#define INIT_DISP_HORIZONTAL_SIZE   540\n#define INIT_DISP_VERTICAL_SIZE     576\n\n\n\n#define PTS_DTS_FLAGS    0xC0\n#define ESCR_FLAG        0x20\n#define ES_RATE_FLAG     0x10\n#define DSM_TRICK_FLAG   0x08\n#define ADD_CPY_FLAG     0x04\n#define PES_CRC_FLAG     0x02\n#define PES_EXT_FLAG     0x01\n\n\n#define PTS_ONLY         0x80\n#define PTS_DTS          0xC0\n\n#define TS_SIZE        188\n#define TRANS_ERROR    0x80\n#define PAY_START      0x40\n#define TRANS_PRIO     0x20\n#define PID_MASK_HI    0x1F\n\n#define TRANS_SCRMBL1  0x80\n#define TRANS_SCRMBL2  0x40\n#define ADAPT_FIELD    0x20\n#define PAYLOAD        0x10\n#define COUNT_MASK     0x0F\n\n\n#define DISCON_IND     0x80\n#define RAND_ACC_IND   0x40\n#define ES_PRI_IND     0x20\n#define PCR_FLAG       0x10\n#define OPCR_FLAG      0x08\n#define SPLICE_FLAG    0x04\n#define TRANS_PRIV     0x02\n#define ADAP_EXT_FLAG  0x01\n\n\n#define LTW_FLAG       0x80\n#define PIECE_RATE     0x40\n#define SEAM_SPLICE    0x20\n\n\n#define MAX_PLENGTH 0xFFFF\n#define MMAX_PLENGTH (256*MAX_PLENGTH)\n\n#ifndef IPACKS\n#define IPACKS 2048\n#endif\n\nstruct ipack {\n\tint size;\n\tint found;\n\tu8 *buf;\n\tu8 cid;\n\tu32 plength;\n\tu8 plen[2];\n\tu8 flag1;\n\tu8 flag2;\n\tu8 hlength;\n\tu8 pts[5];\n\tu16 *pid;\n\tint mpeg;\n\tu8 check;\n\tint which;\n\tint done;\n\tvoid *data;\n\tvoid (*func)(u8 *buf,  int size, void *priv);\n\tint count;\n\tint repack_subids;\n};\n\nstruct dvb_video_info {\n\tu32 horizontal_size;\n\tu32 vertical_size;\n\tu32 aspect_ratio;\n\tu32 framerate;\n\tu32 video_format;\n\tu32 bit_rate;\n\tu32 comp_bit_rate;\n\tu32 vbv_buffer_size;\n\ts16 vbv_delay;\n\tu32 CSPF;\n\tu32 off;\n};\n\n#define OFF_SIZE 4\n#define FIRST_FIELD 0\n#define SECOND_FIELD 1\n#define VIDEO_FRAME_PICTURE 0x03\n\nstruct mpg_picture {\n\tint       channel;\n\tstruct dvb_video_info vinfo;\n\tu32      *sequence_gop_header;\n\tu32      *picture_header;\n\ts32       time_code;\n\tint       low_delay;\n\tint       closed_gop;\n\tint       broken_link;\n\tint       sequence_header_flag;\n\tint       gop_flag;\n\tint       sequence_end_flag;\n\n\tu8        profile_and_level;\n\ts32       picture_coding_parameter;\n\tu32       matrix[32];\n\ts8        matrix_change_flag;\n\n\tu8        picture_header_parameter;\n   \n\n\tint       mpeg1_flag;\n\tint       progressive_sequence;\n\tint       sequence_display_extension_flag;\n\tu32       sequence_header_data;\n\ts16       last_frame_centre_horizontal_offset;\n\ts16       last_frame_centre_vertical_offset;\n\n\tu32       pts[2];  \n\tint       top_field_first;\n\tint       repeat_first_field;\n\tint       progressive_frame;\n\tint       bank;\n\tint       forward_bank;\n\tint       backward_bank;\n\tint       compress;\n\ts16       frame_centre_horizontal_offset[OFF_SIZE];\n\t\t   \n\ts16       frame_centre_vertical_offset[OFF_SIZE];\n\t\t   \n\ts16       temporal_reference[2];\n\t\t   \n\n\ts8        picture_coding_type[2];\n\t\t   \n\ts8        picture_structure[2];\n\t\t   \n\ts8        picture_display_extension_flag[2];\n\t\t   \n\t\t   \n\ts8        pts_flag[2];\n\t\t   \n};\n\nstruct dvb_audio_info {\n\tint layer;\n\tu32 bit_rate;\n\tu32 frequency;\n\tu32 mode;\n\tu32 mode_extension ;\n\tu32 emphasis;\n\tu32 framesize;\n\tu32 off;\n};\n\nint dvb_filter_get_ac3info(u8 *mbuf, int count, struct dvb_audio_info *ai, int pr);\n\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}