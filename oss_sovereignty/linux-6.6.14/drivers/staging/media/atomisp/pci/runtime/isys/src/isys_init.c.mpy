{
  "module_name": "isys_init.c",
  "hash_id": "952794583ebc1b8765e72849fa7c264816f75625deae4936816ae9ba594334b0",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/media/atomisp/pci/runtime/isys/src/isys_init.c",
  "human_readable_source": "\n \n\n#include \"input_system.h\"\n\n#include \"ia_css_isys.h\"\n#include \"platform_support.h\"\n\n#ifdef ISP2401\n#include \"isys_dma_public.h\"\t \n#include \"isys_irq.h\"\n#endif\n\n#if !defined(ISP2401)\ninput_system_err_t ia_css_isys_init(void)\n{\n\tbackend_channel_cfg_t backend_ch0;\n\tbackend_channel_cfg_t backend_ch1;\n\ttarget_cfg2400_t targetB;\n\ttarget_cfg2400_t targetC;\n\tu32 acq_mem_region_size = 24;\n\tu32 acq_nof_mem_regions = 2;\n\tinput_system_err_t error = INPUT_SYSTEM_ERR_NO_ERROR;\n\n\tmemset(&backend_ch0, 0, sizeof(backend_channel_cfg_t));\n\tmemset(&backend_ch1, 0, sizeof(backend_channel_cfg_t));\n\tmemset(&targetB, 0, sizeof(targetB));\n\tmemset(&targetC, 0, sizeof(targetC));\n\n\terror = input_system_configuration_reset();\n\tif (error != INPUT_SYSTEM_ERR_NO_ERROR)\n\t\treturn error;\n\n\terror = input_system_csi_xmem_channel_cfg(\n\t\t    0,\t\t\t \n\t\t    INPUT_SYSTEM_PORT_A,\t \n\t\t    backend_ch0,\t\t \n\t\t    32,\t\t\t \n\t\t    6,\t\t\t \n\t\t    acq_mem_region_size,\t \n\t\t    acq_nof_mem_regions,\t \n\t\t    targetB,\t\t \n\t\t    3);\t\t\t \n\tif (error != INPUT_SYSTEM_ERR_NO_ERROR)\n\t\treturn error;\n\n\terror = input_system_csi_xmem_channel_cfg(\n\t\t    1,\t\t\t \n\t\t    INPUT_SYSTEM_PORT_B,\t \n\t\t    backend_ch0,\t\t \n\t\t    16,\t\t\t \n\t\t    3,\t\t\t \n\t\t    acq_mem_region_size,\t \n\t\t    acq_nof_mem_regions,\t \n\t\t    targetB,\t\t \n\t\t    3);\t\t\t \n\tif (error != INPUT_SYSTEM_ERR_NO_ERROR)\n\t\treturn error;\n\n\terror = input_system_csi_xmem_channel_cfg(\n\t\t    2,\t\t\t \n\t\t    INPUT_SYSTEM_PORT_C,\t \n\t\t    backend_ch1,\t\t \n\t\t    32,\t\t\t \n\t\t    3,\t\t\t \n\t\t    acq_mem_region_size,\t \n\t\t    acq_nof_mem_regions,\t \n\t\t    targetC,\t\t \n\t\t    2);\t\t\t \n\tif (error != INPUT_SYSTEM_ERR_NO_ERROR)\n\t\treturn error;\n\n\terror = input_system_configuration_commit();\n\n\treturn error;\n}\n#elif defined(ISP2401)\ninput_system_err_t ia_css_isys_init(void)\n{\n\tia_css_isys_csi_rx_lut_rmgr_init();\n\tia_css_isys_ibuf_rmgr_init();\n\tia_css_isys_dma_channel_rmgr_init();\n\tia_css_isys_stream2mmio_sid_rmgr_init();\n\n\tisys2401_dma_set_max_burst_size(ISYS2401_DMA0_ID,\n\t\t\t\t\t1  );\n\n\t \n\tisys_irqc_status_enable(ISYS_IRQ0_ID);\n\tisys_irqc_status_enable(ISYS_IRQ1_ID);\n\tisys_irqc_status_enable(ISYS_IRQ2_ID);\n\n\treturn INPUT_SYSTEM_ERR_NO_ERROR;\n}\n#endif\n\n#if !defined(ISP2401)\nvoid ia_css_isys_uninit(void)\n{\n}\n#elif defined(ISP2401)\nvoid ia_css_isys_uninit(void)\n{\n\tia_css_isys_csi_rx_lut_rmgr_uninit();\n\tia_css_isys_ibuf_rmgr_uninit();\n\tia_css_isys_dma_channel_rmgr_uninit();\n\tia_css_isys_stream2mmio_sid_rmgr_uninit();\n}\n#endif\n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}