{
  "module_name": "gdc.c",
  "hash_id": "fbb55cfaad1692714f8ee2ed7f5ea09a6bacaaf752834f7a3c4f0531ba05be43",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/media/atomisp/pci/hive_isp_css_common/host/gdc.c",
  "human_readable_source": "\n \n\n \n#include \"gdc_device.h\"\n\n#include \"device_access.h\"\n\n#include \"assert_support.h\"\n\n \nstatic inline void gdc_reg_store(\n    const gdc_ID_t\t\tID,\n    const unsigned int\treg,\n    const hrt_data\t\tvalue);\n\n#ifndef __INLINE_GDC__\n#include \"gdc_private.h\"\n#endif  \n\n \nvoid gdc_lut_store(\n    const gdc_ID_t\t\tID,\n    const int\t\t\tdata[4][HRT_GDC_N])\n{\n\tunsigned int i, lut_offset = HRT_GDC_LUT_IDX;\n\n\tassert(ID < N_GDC_ID);\n\tassert(HRT_GDC_LUT_COEFF_OFFSET <= (4 * sizeof(hrt_data)));\n\n\tfor (i = 0; i < HRT_GDC_N; i++) {\n\t\thrt_data\tentry_0 = data[0][i] & HRT_GDC_BCI_COEF_MASK;\n\t\thrt_data\tentry_1 = data[1][i] & HRT_GDC_BCI_COEF_MASK;\n\t\thrt_data\tentry_2 = data[2][i] & HRT_GDC_BCI_COEF_MASK;\n\t\thrt_data\tentry_3 = data[3][i] & HRT_GDC_BCI_COEF_MASK;\n\n\t\thrt_data\tword_0 = entry_0 |\n\t\t\t\t     (entry_1 << HRT_GDC_LUT_COEFF_OFFSET);\n\t\thrt_data\tword_1 = entry_2 |\n\t\t\t\t     (entry_3 << HRT_GDC_LUT_COEFF_OFFSET);\n\n\t\tgdc_reg_store(ID, lut_offset++, word_0);\n\t\tgdc_reg_store(ID, lut_offset++, word_1);\n\t}\n\treturn;\n}\n\n \nvoid gdc_lut_convert_to_isp_format(const int in_lut[4][HRT_GDC_N],\n\t\t\t\t   int out_lut[4][HRT_GDC_N])\n{\n\tunsigned int i;\n\tint *out = (int *)out_lut;\n\n\tfor (i = 0; i < HRT_GDC_N; i++) {\n\t\tout[0] = in_lut[0][i];\n\t\tout[1] = in_lut[1][i];\n\t\tout[2] = in_lut[2][i];\n\t\tout[3] = in_lut[3][i];\n\t\tout += 4;\n\t}\n}\n\nint gdc_get_unity(\n    const gdc_ID_t\t\tID)\n{\n\tassert(ID < N_GDC_ID);\n\t(void)ID;\n\treturn (int)(1UL << HRT_GDC_FRAC_BITS);\n}\n\n \nstatic inline void gdc_reg_store(\n    const gdc_ID_t\t\tID,\n    const unsigned int\treg,\n    const hrt_data\t\tvalue)\n{\n\tia_css_device_store_uint32(GDC_BASE[ID] + reg * sizeof(hrt_data), value);\n\treturn;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}