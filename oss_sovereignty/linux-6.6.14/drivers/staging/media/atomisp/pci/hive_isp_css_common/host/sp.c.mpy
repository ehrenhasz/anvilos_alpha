{
  "module_name": "sp.c",
  "hash_id": "b1fb223b8237d1b1f40454b0830d652f83948646d537bf4037e8a66a3aa5bf95",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/media/atomisp/pci/hive_isp_css_common/host/sp.c",
  "human_readable_source": "\n \n\n#include \"sp.h\"\n\n#ifndef __INLINE_SP__\n#include \"sp_private.h\"\n#endif  \n\n#include \"assert_support.h\"\n\nvoid cnd_sp_irq_enable(\n    const sp_ID_t\t\tID,\n    const bool\t\tcnd)\n{\n\tif (cnd) {\n\t\tsp_ctrl_setbit(ID, SP_IRQ_READY_REG, SP_IRQ_READY_BIT);\n\t\t \n\t\tsp_ctrl_setbit(ID, SP_IRQ_CLEAR_REG, SP_IRQ_CLEAR_BIT);\n\t} else {\n\t\tsp_ctrl_clearbit(ID, SP_IRQ_READY_REG, SP_IRQ_READY_BIT);\n\t}\n}\n\nvoid sp_get_state(\n    const sp_ID_t\t\t\tID,\n    sp_state_t\t\t\t\t*state,\n    sp_stall_t\t\t\t\t*stall)\n{\n\thrt_data sc = sp_ctrl_load(ID, SP_SC_REG);\n\n\tassert(state);\n\tassert(stall);\n\n\tstate->pc = sp_ctrl_load(ID, SP_PC_REG);\n\tstate->status_register = sc;\n\tstate->is_broken   = (sc & (1U << SP_BROKEN_BIT)) != 0;\n\tstate->is_idle     = (sc & (1U << SP_IDLE_BIT)) != 0;\n\tstate->is_sleeping = (sc & (1U << SP_SLEEPING_BIT)) != 0;\n\tstate->is_stalling = (sc & (1U << SP_STALLING_BIT)) != 0;\n\tstall->fifo0 =\n\t    !sp_ctrl_getbit(ID, SP_FIFO0_SINK_REG, SP_FIFO0_SINK_BIT);\n\tstall->fifo1 =\n\t    !sp_ctrl_getbit(ID, SP_FIFO1_SINK_REG, SP_FIFO1_SINK_BIT);\n\tstall->fifo2 =\n\t    !sp_ctrl_getbit(ID, SP_FIFO2_SINK_REG, SP_FIFO2_SINK_BIT);\n\tstall->fifo3 =\n\t    !sp_ctrl_getbit(ID, SP_FIFO3_SINK_REG, SP_FIFO3_SINK_BIT);\n\tstall->fifo4 =\n\t    !sp_ctrl_getbit(ID, SP_FIFO4_SINK_REG, SP_FIFO4_SINK_BIT);\n\tstall->fifo5 =\n\t    !sp_ctrl_getbit(ID, SP_FIFO5_SINK_REG, SP_FIFO5_SINK_BIT);\n\tstall->fifo6 =\n\t    !sp_ctrl_getbit(ID, SP_FIFO6_SINK_REG, SP_FIFO6_SINK_BIT);\n\tstall->fifo7 =\n\t    !sp_ctrl_getbit(ID, SP_FIFO7_SINK_REG, SP_FIFO7_SINK_BIT);\n\tstall->fifo8 =\n\t    !sp_ctrl_getbit(ID, SP_FIFO8_SINK_REG, SP_FIFO8_SINK_BIT);\n\tstall->fifo9 =\n\t    !sp_ctrl_getbit(ID, SP_FIFO9_SINK_REG, SP_FIFO9_SINK_BIT);\n\tstall->fifoa =\n\t    !sp_ctrl_getbit(ID, SP_FIFOA_SINK_REG, SP_FIFOA_SINK_BIT);\n\tstall->dmem =\n\t    !sp_ctrl_getbit(ID, SP_DMEM_SINK_REG, SP_DMEM_SINK_BIT);\n\tstall->control_master =\n\t    !sp_ctrl_getbit(ID, SP_CTRL_MT_SINK_REG, SP_CTRL_MT_SINK_BIT);\n\tstall->icache_master =\n\t    !sp_ctrl_getbit(ID, SP_ICACHE_MT_SINK_REG,\n\t\t\t    SP_ICACHE_MT_SINK_BIT);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}