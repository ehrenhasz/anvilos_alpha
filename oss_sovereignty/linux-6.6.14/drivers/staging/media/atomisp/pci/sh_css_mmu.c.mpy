{
  "module_name": "sh_css_mmu.c",
  "hash_id": "b2bf96fdbeb58f3ac418b011bcd3694a8c08e43b86211a7937d69a2c37b96190",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/media/atomisp/pci/sh_css_mmu.c",
  "human_readable_source": "\n \n\n#include \"ia_css_mmu.h\"\n#include \"ia_css_mmu_private.h\"\n#include <ia_css_debug.h>\n#include \"sh_css_sp.h\"\n#include \"sh_css_firmware.h\"\n#include \"sp.h\"\n#include \"mmu_device.h\"\n\nvoid\nia_css_mmu_invalidate_cache(void)\n{\n\tconst struct ia_css_fw_info *fw = &sh_css_sp_fw;\n\tunsigned int HIVE_ADDR_ia_css_dmaproxy_sp_invalidate_tlb;\n\n\tia_css_debug_dtrace(IA_CSS_DEBUG_TRACE,\n\t\t\t    \"ia_css_mmu_invalidate_cache() enter\\n\");\n\n\t \n\tif (sh_css_sp_is_running()) {\n\t\tHIVE_ADDR_ia_css_dmaproxy_sp_invalidate_tlb = fw->info.sp.invalidate_tlb;\n\n\t\t(void)HIVE_ADDR_ia_css_dmaproxy_sp_invalidate_tlb;  \n\n\t\tsp_dmem_store_uint32(SP0_ID,\n\t\t\t\t     (unsigned int)sp_address_of(ia_css_dmaproxy_sp_invalidate_tlb),\n\t\t\t\t     true);\n\t}\n\tia_css_debug_dtrace(IA_CSS_DEBUG_TRACE,\n\t\t\t    \"ia_css_mmu_invalidate_cache() leave\\n\");\n}\n\nvoid\nsh_css_mmu_set_page_table_base_index(hrt_data base_index)\n{\n\tint i;\n\n\tIA_CSS_ENTER_PRIVATE(\"base_index=0x%08x\\n\", base_index);\n\tfor (i = 0; i < N_MMU_ID; i++) {\n\t\tmmu_ID_t mmu_id = i;\n\n\t\tmmu_set_page_table_base_index(mmu_id, base_index);\n\t\tmmu_invalidate_cache(mmu_id);\n\t}\n\tIA_CSS_LEAVE_PRIVATE(\"\");\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}