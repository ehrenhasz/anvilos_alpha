{
  "module_name": "pipe_stagedesc.c",
  "hash_id": "2070c0c56424e2ca5b62790cba912e234e38bf7f662e86f97cb2021260930e14",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/media/atomisp/pci/camera/pipe/src/pipe_stagedesc.c",
  "human_readable_source": "\n \n\n#include \"ia_css_pipe_stagedesc.h\"\n#include \"assert_support.h\"\n#include \"ia_css_debug.h\"\n\nvoid ia_css_pipe_get_generic_stage_desc(\n    struct ia_css_pipeline_stage_desc *stage_desc,\n    struct ia_css_binary *binary,\n    struct ia_css_frame *out_frame[],\n    struct ia_css_frame *in_frame,\n    struct ia_css_frame *vf_frame)\n{\n\tunsigned int i;\n\n\tIA_CSS_ENTER_PRIVATE(\"stage_desc = %p, binary = %p, out_frame = %p, in_frame = %p, vf_frame = %p\",\n\t\t\t     stage_desc, binary, out_frame, in_frame, vf_frame);\n\n\tassert(stage_desc && binary && binary->info);\n\tif (!stage_desc || !binary || !binary->info) {\n\t\tIA_CSS_ERROR(\"invalid arguments\");\n\t\tgoto ERR;\n\t}\n\n\tstage_desc->binary = binary;\n\tstage_desc->firmware = NULL;\n\tstage_desc->sp_func = IA_CSS_PIPELINE_NO_FUNC;\n\tstage_desc->max_input_width = 0;\n\tstage_desc->mode = binary->info->sp.pipeline.mode;\n\tstage_desc->in_frame = in_frame;\n\tfor (i = 0; i < IA_CSS_BINARY_MAX_OUTPUT_PORTS; i++) {\n\t\tstage_desc->out_frame[i] = out_frame[i];\n\t}\n\tstage_desc->vf_frame = vf_frame;\nERR:\n\tIA_CSS_LEAVE_PRIVATE(\"\");\n}\n\nvoid ia_css_pipe_get_firmwares_stage_desc(\n    struct ia_css_pipeline_stage_desc *stage_desc,\n    struct ia_css_binary *binary,\n    struct ia_css_frame *out_frame[],\n    struct ia_css_frame *in_frame,\n    struct ia_css_frame *vf_frame,\n    const struct ia_css_fw_info *fw,\n    unsigned int mode)\n{\n\tunsigned int i;\n\n\tia_css_debug_dtrace(IA_CSS_DEBUG_TRACE_PRIVATE,\n\t\t\t    \"ia_css_pipe_get_firmwares_stage_desc() enter:\\n\");\n\tstage_desc->binary = binary;\n\tstage_desc->firmware = fw;\n\tstage_desc->sp_func = IA_CSS_PIPELINE_NO_FUNC;\n\tstage_desc->max_input_width = 0;\n\tstage_desc->mode = mode;\n\tstage_desc->in_frame = in_frame;\n\tfor (i = 0; i < IA_CSS_BINARY_MAX_OUTPUT_PORTS; i++) {\n\t\tstage_desc->out_frame[i] = out_frame[i];\n\t}\n\tstage_desc->vf_frame = vf_frame;\n}\n\nvoid ia_css_pipe_get_sp_func_stage_desc(\n    struct ia_css_pipeline_stage_desc *stage_desc,\n    struct ia_css_frame *out_frame,\n    enum ia_css_pipeline_stage_sp_func sp_func,\n    unsigned int max_input_width)\n{\n\tunsigned int i;\n\n\tia_css_debug_dtrace(IA_CSS_DEBUG_TRACE_PRIVATE,\n\t\t\t    \"ia_css_pipe_get_sp_func_stage_desc() enter:\\n\");\n\tstage_desc->binary = NULL;\n\tstage_desc->firmware = NULL;\n\tstage_desc->sp_func = sp_func;\n\tstage_desc->max_input_width = max_input_width;\n\tstage_desc->mode = (unsigned int)-1;\n\tstage_desc->in_frame = NULL;\n\tstage_desc->out_frame[0] = out_frame;\n\tfor (i = 1; i < IA_CSS_BINARY_MAX_OUTPUT_PORTS; i++) {\n\t\tstage_desc->out_frame[i] = NULL;\n\t}\n\tstage_desc->vf_frame = NULL;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}