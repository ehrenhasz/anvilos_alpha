{
  "module_name": "ia_css_frame_public.h",
  "hash_id": "aaa662a77fa8a1345854a984d0e93a5a1bbbd1f5aff30990a6d452fda276c1aa",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/media/atomisp/pci/ia_css_frame_public.h",
  "human_readable_source": " \n \n\n#ifndef __IA_CSS_FRAME_PUBLIC_H\n#define __IA_CSS_FRAME_PUBLIC_H\n\n \n\n#include <media/videobuf2-v4l2.h>\n#include <type_support.h>\n#include \"ia_css_err.h\"\n#include \"ia_css_types.h\"\n#include \"ia_css_frame_format.h\"\n#include \"ia_css_buffer.h\"\n\n \nenum ia_css_bayer_order {\n\tIA_CSS_BAYER_ORDER_GRBG,  \n\tIA_CSS_BAYER_ORDER_RGGB,  \n\tIA_CSS_BAYER_ORDER_BGGR,  \n\tIA_CSS_BAYER_ORDER_GBRG,  \n};\n\n#define IA_CSS_BAYER_ORDER_NUM (IA_CSS_BAYER_ORDER_GBRG + 1)\n\n \nstruct ia_css_frame_plane {\n\tunsigned int height;  \n\tunsigned int width;   \n\tunsigned int stride;  \n\tunsigned int offset;  \n};\n\n \nstruct ia_css_frame_binary_plane {\n\tunsigned int\t\t  size;  \n\tstruct ia_css_frame_plane data;  \n};\n\n \nstruct ia_css_frame_yuv_planes {\n\tstruct ia_css_frame_plane y;  \n\tstruct ia_css_frame_plane u;  \n\tstruct ia_css_frame_plane v;  \n};\n\n \nstruct ia_css_frame_nv_planes {\n\tstruct ia_css_frame_plane y;   \n\tstruct ia_css_frame_plane uv;  \n};\n\n \nstruct ia_css_frame_rgb_planes {\n\tstruct ia_css_frame_plane r;  \n\tstruct ia_css_frame_plane g;  \n\tstruct ia_css_frame_plane b;  \n};\n\n \nstruct ia_css_frame_plane6_planes {\n\tstruct ia_css_frame_plane r;\t   \n\tstruct ia_css_frame_plane r_at_b;  \n\tstruct ia_css_frame_plane gr;\t   \n\tstruct ia_css_frame_plane gb;\t   \n\tstruct ia_css_frame_plane b;\t   \n\tstruct ia_css_frame_plane b_at_r;  \n};\n\n \nstruct ia_css_crop_info {\n\t \n\tunsigned int start_column;\n\tunsigned int start_line;\n};\n\n \nstruct ia_css_frame_info {\n\tstruct ia_css_resolution res;  \n\tunsigned int padded_width;  \n\tenum ia_css_frame_format format;  \n\tunsigned int raw_bit_depth;  \n\tenum ia_css_bayer_order raw_bayer_order;  \n\t \n\tstruct ia_css_crop_info crop_info;\n};\n\n#define IA_CSS_BINARY_DEFAULT_FRAME_INFO { \\\n\t.format\t\t\t= IA_CSS_FRAME_FORMAT_NUM,  \\\n\t.raw_bayer_order\t= IA_CSS_BAYER_ORDER_NUM, \\\n}\n\n \nenum ia_css_frame_delay {\n\tIA_CSS_FRAME_DELAY_0,  \n\tIA_CSS_FRAME_DELAY_1,  \n\tIA_CSS_FRAME_DELAY_2   \n};\n\nenum ia_css_frame_flash_state {\n\tIA_CSS_FRAME_FLASH_STATE_NONE,\n\tIA_CSS_FRAME_FLASH_STATE_PARTIAL,\n\tIA_CSS_FRAME_FLASH_STATE_FULL\n};\n\n \nstruct ia_css_frame {\n\t \n\tstruct vb2_v4l2_buffer vb;\n\t \n\tstruct list_head queue;\n\tstruct ia_css_frame_info frame_info;  \n\tia_css_ptr   data;\t        \n\tunsigned int data_bytes;        \n\t \n\t \n\tint dynamic_queue_id;\n\t \n\tenum ia_css_buffer_type buf_type;\n\tenum ia_css_frame_flash_state flash_state;\n\tunsigned int exp_id;\n\t \n\tu32 isp_config_id;  \n\tbool valid;  \n\tunion {\n\t\tunsigned int\t_initialisation_dummy;\n\t\tstruct ia_css_frame_plane raw;\n\t\tstruct ia_css_frame_plane rgb;\n\t\tstruct ia_css_frame_rgb_planes planar_rgb;\n\t\tstruct ia_css_frame_plane yuyv;\n\t\tstruct ia_css_frame_yuv_planes yuv;\n\t\tstruct ia_css_frame_nv_planes nv;\n\t\tstruct ia_css_frame_plane6_planes plane6;\n\t\tstruct ia_css_frame_binary_plane binary;\n\t} planes;  \n};\n\n#define vb_to_frame(vb2) \\\n\tcontainer_of(to_vb2_v4l2_buffer(vb2), struct ia_css_frame, vb)\n\n#define DEFAULT_FRAME { \\\n\t.frame_info\t\t= IA_CSS_BINARY_DEFAULT_FRAME_INFO, \\\n\t.dynamic_queue_id\t= SH_CSS_INVALID_QUEUE_ID, \\\n\t.buf_type\t\t= IA_CSS_BUFFER_TYPE_INVALID, \\\n\t.flash_state\t\t= IA_CSS_FRAME_FLASH_STATE_NONE, \\\n}\n\n \nint\nia_css_frame_allocate(struct ia_css_frame **frame,\n\t\t      unsigned int width,\n\t\t      unsigned int height,\n\t\t      enum ia_css_frame_format format,\n\t\t      unsigned int stride,\n\t\t      unsigned int raw_bit_depth);\n\n \nint ia_css_frame_init_from_info(struct ia_css_frame *frame,\n\t\t\t\tconst struct ia_css_frame_info *info);\n\n \nint\nia_css_frame_allocate_from_info(struct ia_css_frame **frame,\n\t\t\t\tconst struct ia_css_frame_info *info);\n \nvoid\nia_css_frame_free(struct ia_css_frame *frame);\n\nstatic inline const struct ia_css_frame_info *\nia_css_frame_get_info(const struct ia_css_frame *frame)\n{\n\treturn frame ? &frame->frame_info : NULL;\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}