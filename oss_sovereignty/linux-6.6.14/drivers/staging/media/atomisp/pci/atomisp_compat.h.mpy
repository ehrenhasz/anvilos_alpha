{
  "module_name": "atomisp_compat.h",
  "hash_id": "32a029df9ade311cf4d425809143b4177f5ada59484d0e4a57978f2da24d0a24",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/media/atomisp/pci/atomisp_compat.h",
  "human_readable_source": " \n \n\n#ifndef __ATOMISP_COMPAT_H__\n#define __ATOMISP_COMPAT_H__\n\n#include \"atomisp_compat_css20.h\"\n\n#include \"../../include/linux/atomisp.h\"\n\nstruct atomisp_device;\nstruct atomisp_sub_device;\nstruct video_device;\nenum atomisp_input_stream_id;\n\nstruct atomisp_metadata_buf {\n\tstruct ia_css_metadata *metadata;\n\tvoid *md_vptr;\n\tstruct list_head list;\n};\n\nvoid atomisp_css2_hw_store_32(hrt_address addr, uint32_t data);\nvoid atomisp_load_uint32(hrt_address addr, uint32_t *data);\n\nint atomisp_css_init(struct atomisp_device *isp);\n\nvoid atomisp_css_uninit(struct atomisp_device *isp);\n\nvoid atomisp_css_init_struct(struct atomisp_sub_device *asd);\n\nint atomisp_css_irq_translate(struct atomisp_device *isp,\n\t\t\t      unsigned int *infos);\n\nvoid atomisp_css_rx_get_irq_info(enum mipi_port_id port,\n\t\t\t\t unsigned int *infos);\n\nvoid atomisp_css_rx_clear_irq_info(enum mipi_port_id port,\n\t\t\t\t   unsigned int infos);\n\nint atomisp_css_irq_enable(struct atomisp_device *isp,\n\t\t\t   enum ia_css_irq_info info, bool enable);\n\nint atomisp_q_video_buffer_to_css(struct atomisp_sub_device *asd,\n\t\t\t\t  struct ia_css_frame *frame,\n\t\t\t\t  enum atomisp_input_stream_id stream_id,\n\t\t\t\t  enum ia_css_buffer_type css_buf_type,\n\t\t\t\t  enum ia_css_pipe_id css_pipe_id);\n\nint atomisp_q_s3a_buffer_to_css(struct atomisp_sub_device *asd,\n\t\t\t\tstruct atomisp_s3a_buf *s3a_buf,\n\t\t\t\tenum atomisp_input_stream_id stream_id,\n\t\t\t\tenum ia_css_pipe_id css_pipe_id);\n\nint atomisp_q_metadata_buffer_to_css(struct atomisp_sub_device *asd,\n\t\t\t\t     struct atomisp_metadata_buf *metadata_buf,\n\t\t\t\t     enum atomisp_input_stream_id stream_id,\n\t\t\t\t     enum ia_css_pipe_id css_pipe_id);\n\nint atomisp_q_dis_buffer_to_css(struct atomisp_sub_device *asd,\n\t\t\t\tstruct atomisp_dis_buf *dis_buf,\n\t\t\t\tenum atomisp_input_stream_id stream_id,\n\t\t\t\tenum ia_css_pipe_id css_pipe_id);\n\nvoid ia_css_mmu_invalidate_cache(void);\n\nint atomisp_css_start(struct atomisp_sub_device *asd);\n\nvoid atomisp_css_update_isp_params(struct atomisp_sub_device *asd);\nvoid atomisp_css_update_isp_params_on_pipe(struct atomisp_sub_device *asd,\n\tstruct ia_css_pipe *pipe);\n\nint atomisp_css_queue_buffer(struct atomisp_sub_device *asd,\n\t\t\t     enum atomisp_input_stream_id stream_id,\n\t\t\t     enum ia_css_pipe_id pipe_id,\n\t\t\t     enum ia_css_buffer_type buf_type,\n\t\t\t     struct atomisp_css_buffer *isp_css_buffer);\n\nint atomisp_css_dequeue_buffer(struct atomisp_sub_device *asd,\n\t\t\t       enum atomisp_input_stream_id stream_id,\n\t\t\t       enum ia_css_pipe_id pipe_id,\n\t\t\t       enum ia_css_buffer_type buf_type,\n\t\t\t       struct atomisp_css_buffer *isp_css_buffer);\n\nint atomisp_css_allocate_stat_buffers(struct atomisp_sub_device *asd,\n\t\t\t\t      u16 stream_id,\n\t\t\t\t      struct atomisp_s3a_buf *s3a_buf,\n\t\t\t\t      struct atomisp_dis_buf *dis_buf,\n\t\t\t\t      struct atomisp_metadata_buf *md_buf);\n\nvoid atomisp_css_free_stat_buffers(struct atomisp_sub_device *asd);\n\nvoid atomisp_css_free_3a_buffer(struct atomisp_s3a_buf *s3a_buf);\n\nvoid atomisp_css_free_dis_buffer(struct atomisp_dis_buf *dis_buf);\n\nvoid atomisp_css_free_metadata_buffer(struct atomisp_metadata_buf\n\t\t\t\t      *metadata_buf);\n\nint atomisp_css_get_grid_info(struct atomisp_sub_device *asd,\n\t\t\t      enum ia_css_pipe_id pipe_id);\n\nint atomisp_alloc_3a_output_buf(struct atomisp_sub_device *asd);\n\nint atomisp_alloc_dis_coef_buf(struct atomisp_sub_device *asd);\n\nint atomisp_alloc_metadata_output_buf(struct atomisp_sub_device *asd);\n\nvoid atomisp_free_metadata_output_buf(struct atomisp_sub_device *asd);\n\nvoid atomisp_css_temp_pipe_to_pipe_id(struct atomisp_sub_device *asd,\n\t\t\t\t      struct atomisp_css_event *current_event);\n\nint atomisp_css_isys_set_resolution(struct atomisp_sub_device *asd,\n\t\t\t\t    enum atomisp_input_stream_id stream_id,\n\t\t\t\t    struct v4l2_mbus_framefmt *ffmt,\n\t\t\t\t    int isys_stream);\n\nvoid atomisp_css_isys_set_link(struct atomisp_sub_device *asd,\n\t\t\t       enum atomisp_input_stream_id stream_id,\n\t\t\t       int link,\n\t\t\t       int isys_stream);\n\nvoid atomisp_css_isys_set_valid(struct atomisp_sub_device *asd,\n\t\t\t\tenum atomisp_input_stream_id stream_id,\n\t\t\t\tbool valid,\n\t\t\t\tint isys_stream);\n\nvoid atomisp_css_isys_set_format(struct atomisp_sub_device *asd,\n\t\t\t\t enum atomisp_input_stream_id stream_id,\n\t\t\t\t enum atomisp_input_format format,\n\t\t\t\t int isys_stream);\n\nint atomisp_css_set_default_isys_config(struct atomisp_sub_device *asd,\n\t\t\t\t\tenum atomisp_input_stream_id stream_id,\n\t\t\t\t\tstruct v4l2_mbus_framefmt *ffmt);\n\nvoid atomisp_css_isys_two_stream_cfg_update_stream1(\n    struct atomisp_sub_device *asd,\n    enum atomisp_input_stream_id stream_id,\n    enum atomisp_input_format input_format,\n    unsigned int width, unsigned int height);\n\nvoid atomisp_css_isys_two_stream_cfg_update_stream2(\n    struct atomisp_sub_device *asd,\n    enum atomisp_input_stream_id stream_id,\n    enum atomisp_input_format input_format,\n    unsigned int width, unsigned int height);\n\nint atomisp_css_input_set_resolution(struct atomisp_sub_device *asd,\n\t\t\t\t     enum atomisp_input_stream_id stream_id,\n\t\t\t\t     struct v4l2_mbus_framefmt *ffmt);\n\nvoid atomisp_css_input_set_binning_factor(struct atomisp_sub_device *asd,\n\tenum atomisp_input_stream_id stream_id,\n\tunsigned int bin_factor);\n\nvoid atomisp_css_input_set_bayer_order(struct atomisp_sub_device *asd,\n\t\t\t\t       enum atomisp_input_stream_id stream_id,\n\t\t\t\t       enum ia_css_bayer_order bayer_order);\n\nvoid atomisp_css_input_set_format(struct atomisp_sub_device *asd,\n\t\t\t\t  enum atomisp_input_stream_id stream_id,\n\t\t\t\t  enum atomisp_input_format format);\n\nint atomisp_css_input_set_effective_resolution(\n    struct atomisp_sub_device *asd,\n    enum atomisp_input_stream_id stream_id,\n    unsigned int width,\n    unsigned int height);\n\nvoid atomisp_css_video_set_dis_envelope(struct atomisp_sub_device *asd,\n\t\t\t\t\tunsigned int dvs_w, unsigned int dvs_h);\n\nvoid atomisp_css_input_set_two_pixels_per_clock(\n    struct atomisp_sub_device *asd,\n    bool two_ppc);\n\nvoid atomisp_css_enable_dz(struct atomisp_sub_device *asd, bool enable);\n\nvoid atomisp_css_capture_set_mode(struct atomisp_sub_device *asd,\n\t\t\t\t  enum ia_css_capture_mode mode);\n\nvoid atomisp_css_input_set_mode(struct atomisp_sub_device *asd,\n\t\t\t\tenum ia_css_input_mode mode);\n\nvoid atomisp_css_capture_enable_online(struct atomisp_sub_device *asd,\n\t\t\t\t       unsigned short stream_index, bool enable);\n\nvoid atomisp_css_preview_enable_online(struct atomisp_sub_device *asd,\n\t\t\t\t       unsigned short stream_index, bool enable);\n\nint atomisp_css_input_configure_port(struct atomisp_sub_device *asd,\n\t\t\t\t     enum mipi_port_id port,\n\t\t\t\t     unsigned int num_lanes,\n\t\t\t\t     unsigned int timeout,\n\t\t\t\t     unsigned int mipi_freq,\n\t\t\t\t     enum atomisp_input_format metadata_format,\n\t\t\t\t     unsigned int metadata_width,\n\t\t\t\t     unsigned int metadata_height);\n\nint atomisp_create_pipes_stream(struct atomisp_sub_device *asd);\nvoid atomisp_destroy_pipes_stream(struct atomisp_sub_device *asd);\n\nvoid atomisp_css_stop(struct atomisp_sub_device *asd, bool in_reset);\n\nvoid atomisp_css_continuous_set_num_raw_frames(\n     struct atomisp_sub_device *asd,\n     int num_frames);\n\nint atomisp_css_copy_configure_output(struct atomisp_sub_device *asd,\n\t\t\t\t      unsigned int stream_index,\n\t\t\t\t      unsigned int width, unsigned int height,\n\t\t\t\t      unsigned int padded_width,\n\t\t\t\t      enum ia_css_frame_format format);\n\nint atomisp_css_preview_configure_output(struct atomisp_sub_device *asd,\n\tunsigned int width, unsigned int height,\n\tunsigned int min_width,\n\tenum ia_css_frame_format format);\n\nint atomisp_css_capture_configure_output(struct atomisp_sub_device *asd,\n\tunsigned int width, unsigned int height,\n\tunsigned int min_width,\n\tenum ia_css_frame_format format);\n\nint atomisp_css_video_configure_output(struct atomisp_sub_device *asd,\n\t\t\t\t       unsigned int width, unsigned int height,\n\t\t\t\t       unsigned int min_width,\n\t\t\t\t       enum ia_css_frame_format format);\n\nint atomisp_get_css_frame_info(struct atomisp_sub_device *asd,\n\t\t\t       struct ia_css_frame_info *frame_info);\n\nint atomisp_css_video_configure_viewfinder(struct atomisp_sub_device *asd,\n\tunsigned int width, unsigned int height,\n\tunsigned int min_width,\n\tenum ia_css_frame_format format);\n\nint atomisp_css_capture_configure_viewfinder(\n    struct atomisp_sub_device *asd,\n    unsigned int width, unsigned int height,\n    unsigned int min_width,\n    enum ia_css_frame_format format);\n\nint atomisp_css_video_get_viewfinder_frame_info(\n    struct atomisp_sub_device *asd,\n    struct ia_css_frame_info *info);\n\nint atomisp_css_capture_get_viewfinder_frame_info(\n    struct atomisp_sub_device *asd,\n    struct ia_css_frame_info *info);\n\nint atomisp_css_copy_get_output_frame_info(\n    struct atomisp_sub_device *asd,\n    unsigned int stream_index,\n    struct ia_css_frame_info *info);\n\nint atomisp_css_preview_get_output_frame_info(\n    struct atomisp_sub_device *asd,\n    struct ia_css_frame_info *info);\n\nint atomisp_css_capture_get_output_frame_info(\n    struct atomisp_sub_device *asd,\n    struct ia_css_frame_info *info);\n\nint atomisp_css_video_get_output_frame_info(\n    struct atomisp_sub_device *asd,\n    struct ia_css_frame_info *info);\n\nint atomisp_css_preview_configure_pp_input(\n    struct atomisp_sub_device *asd,\n    unsigned int width, unsigned int height);\n\nint atomisp_css_capture_configure_pp_input(\n    struct atomisp_sub_device *asd,\n    unsigned int width, unsigned int height);\n\nint atomisp_css_video_configure_pp_input(\n    struct atomisp_sub_device *asd,\n    unsigned int width, unsigned int height);\n\nint atomisp_css_offline_capture_configure(struct atomisp_sub_device *asd,\n\tint num_captures, unsigned int skip, int offset);\nint atomisp_css_exp_id_capture(struct atomisp_sub_device *asd, int exp_id);\nint atomisp_css_exp_id_unlock(struct atomisp_sub_device *asd, int exp_id);\n\nint atomisp_css_capture_enable_xnr(struct atomisp_sub_device *asd,\n\t\t\t\t   bool enable);\n\nvoid atomisp_css_set_ctc_table(struct atomisp_sub_device *asd,\n\t\t\t       struct ia_css_ctc_table *ctc_table);\n\nvoid atomisp_css_video_set_dis_vector(struct atomisp_sub_device *asd,\n\t\t\t\t      struct atomisp_dis_vector *vector);\n\nvoid atomisp_css_set_dvs2_coefs(struct atomisp_sub_device *asd,\n\t\t\t\tstruct ia_css_dvs2_coefficients *coefs);\n\nint atomisp_css_set_dis_coefs(struct atomisp_sub_device *asd,\n\t\t\t      struct atomisp_dis_coefficients *coefs);\n\nvoid atomisp_css_set_zoom_factor(struct atomisp_sub_device *asd,\n\t\t\t\t unsigned int zoom);\n\nint atomisp_css_get_wb_config(struct atomisp_sub_device *asd,\n\t\t\t      struct atomisp_wb_config *config);\n\nint atomisp_css_get_ob_config(struct atomisp_sub_device *asd,\n\t\t\t      struct atomisp_ob_config *config);\n\nint atomisp_css_get_dp_config(struct atomisp_sub_device *asd,\n\t\t\t      struct atomisp_dp_config *config);\n\nint atomisp_css_get_de_config(struct atomisp_sub_device *asd,\n\t\t\t      struct atomisp_de_config *config);\n\nint atomisp_css_get_nr_config(struct atomisp_sub_device *asd,\n\t\t\t      struct atomisp_nr_config *config);\n\nint atomisp_css_get_ee_config(struct atomisp_sub_device *asd,\n\t\t\t      struct atomisp_ee_config *config);\n\nint atomisp_css_get_tnr_config(struct atomisp_sub_device *asd,\n\t\t\t       struct atomisp_tnr_config *config);\n\nint atomisp_css_get_ctc_table(struct atomisp_sub_device *asd,\n\t\t\t      struct atomisp_ctc_table *config);\n\nint atomisp_css_get_gamma_table(struct atomisp_sub_device *asd,\n\t\t\t\tstruct atomisp_gamma_table *config);\n\nint atomisp_css_get_gc_config(struct atomisp_sub_device *asd,\n\t\t\t      struct atomisp_gc_config *config);\n\nint atomisp_css_get_3a_config(struct atomisp_sub_device *asd,\n\t\t\t      struct atomisp_3a_config *config);\n\nint atomisp_css_get_formats_config(struct atomisp_sub_device *asd,\n\t\t\t\t   struct atomisp_formats_config *formats_config);\n\nvoid atomisp_css_set_formats_config(struct atomisp_sub_device *asd,\n\t\t\t\t    struct ia_css_formats_config *formats_config);\n\nint atomisp_css_get_zoom_factor(struct atomisp_sub_device *asd,\n\t\t\t\tunsigned int *zoom);\n\nstruct ia_css_shading_table *atomisp_css_shading_table_alloc(\n    unsigned int width, unsigned int height);\n\nvoid atomisp_css_set_shading_table(struct atomisp_sub_device *asd,\n\t\t\t\t   struct ia_css_shading_table *table);\n\nvoid atomisp_css_shading_table_free(struct ia_css_shading_table *table);\n\nstruct ia_css_morph_table *atomisp_css_morph_table_allocate(\n    unsigned int width, unsigned int height);\n\nvoid atomisp_css_set_morph_table(struct atomisp_sub_device *asd,\n\t\t\t\t struct ia_css_morph_table *table);\n\nvoid atomisp_css_get_morph_table(struct atomisp_sub_device *asd,\n\t\t\t\t struct ia_css_morph_table *table);\n\nvoid atomisp_css_morph_table_free(struct ia_css_morph_table *table);\n\nint atomisp_css_get_dis_stat(struct atomisp_sub_device *asd,\n\t\t\t     struct atomisp_dis_statistics *stats);\n\nint atomisp_css_update_stream(struct atomisp_sub_device *asd);\n\nint atomisp_css_isr_thread(struct atomisp_device *isp);\n\nbool atomisp_css_valid_sof(struct atomisp_device *isp);\n\nvoid atomisp_en_dz_capt_pipe(struct atomisp_sub_device *asd, bool enable);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}