{
  "module_name": "ia_css_output.host.c",
  "hash_id": "c89f99b22787e079f25f35e6fedce2a54d9b7fd0108995868306cee4b09892f5",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/media/atomisp/pci/isp/kernels/output/output_1.0/ia_css_output.host.c",
  "human_readable_source": "\n \n\n#include \"ia_css_frame.h\"\n#include \"ia_css_debug.h\"\n#define IA_CSS_INCLUDE_CONFIGURATIONS\n#include \"ia_css_isp_configs.h\"\n#include \"ia_css_output.host.h\"\n#include \"isp.h\"\n\n#include \"assert_support.h\"\n\nconst struct ia_css_output_config default_output_config = {\n\t0,\n\t0\n};\n\nstatic const struct ia_css_output_configuration default_output_configuration = {\n\t.info = (struct ia_css_frame_info *)NULL,\n};\n\nstatic const struct ia_css_output0_configuration default_output0_configuration\n\t= {\n\t.info = (struct ia_css_frame_info *)NULL,\n};\n\nstatic const struct ia_css_output1_configuration default_output1_configuration\n\t= {\n\t.info = (struct ia_css_frame_info *)NULL,\n};\n\nvoid\nia_css_output_encode(\n    struct sh_css_isp_output_params *to,\n    const struct ia_css_output_config *from,\n    unsigned int size)\n{\n\t(void)size;\n\tto->enable_hflip = from->enable_hflip;\n\tto->enable_vflip = from->enable_vflip;\n}\n\nint ia_css_output_config(struct sh_css_isp_output_isp_config *to,\n\t\t\t const struct ia_css_output_configuration  *from,\n\t\t\t unsigned int size)\n{\n\tunsigned int elems_a = ISP_VEC_NELEMS;\n\tint ret;\n\n\tret = ia_css_dma_configure_from_info(&to->port_b, from->info);\n\tif (ret)\n\t\treturn ret;\n\n\tto->width_a_over_b = elems_a / to->port_b.elems;\n\tto->height = from->info ? from->info->res.height : 0;\n\tto->enable = from->info != NULL;\n\tia_css_frame_info_to_frame_sp_info(&to->info, from->info);\n\n\t \n\tif (elems_a % to->port_b.elems != 0)\n\t\treturn -EINVAL;\n\n\treturn 0;\n}\n\nint ia_css_output0_config(struct sh_css_isp_output_isp_config       *to,\n\t\t\t  const struct ia_css_output0_configuration *from,\n\t\t\t  unsigned int size)\n{\n\treturn ia_css_output_config(to, (const struct ia_css_output_configuration *)from, size);\n}\n\nint ia_css_output1_config(struct sh_css_isp_output_isp_config       *to,\n\t\t          const struct ia_css_output1_configuration *from,\n\t\t\t  unsigned int size)\n{\n\treturn ia_css_output_config(to, (const struct ia_css_output_configuration *)from, size);\n}\n\nint ia_css_output_configure(const struct ia_css_binary     *binary,\n\t\t\t    const struct ia_css_frame_info *info)\n{\n\tif (info) {\n\t\tstruct ia_css_output_configuration config =\n\t\t\t    default_output_configuration;\n\n\t\tconfig.info = info;\n\n\t\treturn ia_css_configure_output(binary, &config);\n\t}\n\treturn 0;\n}\n\nint ia_css_output0_configure(const struct ia_css_binary    *binary,\n\t\t\t    const struct ia_css_frame_info *info)\n{\n\tif (info) {\n\t\tstruct ia_css_output0_configuration config =\n\t\t\t    default_output0_configuration;\n\n\t\tconfig.info = info;\n\n\t\treturn ia_css_configure_output0(binary, &config);\n\t}\n\treturn 0;\n}\n\nint ia_css_output1_configure(const struct ia_css_binary     *binary,\n\t\t\t     const struct ia_css_frame_info *info)\n{\n\tif (info) {\n\t\tstruct ia_css_output1_configuration config =\n\t\t\t    default_output1_configuration;\n\n\t\tconfig.info = info;\n\n\t\treturn ia_css_configure_output1(binary, &config);\n\t}\n\treturn 0;\n}\n\nvoid\nia_css_output_dump(\n    const struct sh_css_isp_output_params *output,\n    unsigned int level)\n{\n\tif (!output) return;\n\tia_css_debug_dtrace(level, \"Horizontal Output Flip:\\n\");\n\tia_css_debug_dtrace(level, \"\\t%-32s = %d\\n\",\n\t\t\t    \"enable\", output->enable_hflip);\n\tia_css_debug_dtrace(level, \"Vertical Output Flip:\\n\");\n\tia_css_debug_dtrace(level, \"\\t%-32s = %d\\n\",\n\t\t\t    \"enable\", output->enable_vflip);\n}\n\nvoid\nia_css_output_debug_dtrace(\n    const struct ia_css_output_config *config,\n    unsigned int level)\n{\n\tia_css_debug_dtrace(level,\n\t\t\t    \"config.enable_hflip=%d\",\n\t\t\t    config->enable_hflip);\n\tia_css_debug_dtrace(level,\n\t\t\t    \"config.enable_vflip=%d\",\n\t\t\t    config->enable_vflip);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}