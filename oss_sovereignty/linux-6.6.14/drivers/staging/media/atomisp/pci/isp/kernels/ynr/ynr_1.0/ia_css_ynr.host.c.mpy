{
  "module_name": "ia_css_ynr.host.c",
  "hash_id": "db18a4640a574d39ef096374d203dc8fee642e36110f985d4d29ba96c67ff1b9",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/media/atomisp/pci/isp/kernels/ynr/ynr_1.0/ia_css_ynr.host.c",
  "human_readable_source": "\n \n\n#include \"ia_css_types.h\"\n#include \"sh_css_defs.h\"\n#include \"ia_css_debug.h\"\n#include \"sh_css_frac.h\"\n\n#include \"bnr/bnr_1.0/ia_css_bnr.host.h\"\n#include \"ia_css_ynr.host.h\"\n\nconst struct ia_css_nr_config default_nr_config = {\n\t16384,\n\t8192,\n\t1280,\n\t0,\n\t0\n};\n\nconst struct ia_css_ee_config default_ee_config = {\n\t8192,\n\t128,\n\t2048\n};\n\nvoid\nia_css_nr_encode(\n    struct sh_css_isp_ynr_params *to,\n    const struct ia_css_nr_config *from,\n    unsigned int size)\n{\n\t(void)size;\n\t \n\tto->threshold =\n\t    uDIGIT_FITTING(8192U, 16, SH_CSS_BAYER_BITS);\n\tto->gain_all =\n\t    uDIGIT_FITTING(from->ynr_gain, 16, SH_CSS_YNR_GAIN_SHIFT);\n\tto->gain_dir =\n\t    uDIGIT_FITTING(from->ynr_gain, 16, SH_CSS_YNR_GAIN_SHIFT);\n\tto->threshold_cb =\n\t    uDIGIT_FITTING(from->threshold_cb, 16, SH_CSS_BAYER_BITS);\n\tto->threshold_cr =\n\t    uDIGIT_FITTING(from->threshold_cr, 16, SH_CSS_BAYER_BITS);\n}\n\nvoid\nia_css_yee_encode(\n    struct sh_css_isp_yee_params *to,\n    const struct ia_css_yee_config *from,\n    unsigned int size)\n{\n\tint asiWk1 = (int)from->ee.gain;\n\tint asiWk2 = asiWk1 / 8;\n\tint asiWk3 = asiWk1 / 4;\n\n\t(void)size;\n\t \n\tto->dirthreshold_s =\n\t    min((uDIGIT_FITTING(from->nr.direction, 16, SH_CSS_BAYER_BITS)\n\t\t << 1),\n\t\tSH_CSS_BAYER_MAXVAL);\n\tto->dirthreshold_g =\n\t    min((uDIGIT_FITTING(from->nr.direction, 16, SH_CSS_BAYER_BITS)\n\t\t << 4),\n\t\tSH_CSS_BAYER_MAXVAL);\n\tto->dirthreshold_width_log2 =\n\t    uFRACTION_BITS_FITTING(8);\n\tto->dirthreshold_width =\n\t    1 << to->dirthreshold_width_log2;\n\tto->detailgain =\n\t    uDIGIT_FITTING(from->ee.detail_gain, 11,\n\t\t\t   SH_CSS_YEE_DETAIL_GAIN_SHIFT);\n\tto->coring_s =\n\t    (uDIGIT_FITTING(56U, 16, SH_CSS_BAYER_BITS) *\n\t     from->ee.threshold) >> 8;\n\tto->coring_g =\n\t    (uDIGIT_FITTING(224U, 16, SH_CSS_BAYER_BITS) *\n\t     from->ee.threshold) >> 8;\n\t  * state,\n    size_t size)\n{\n\tmemset(state, 0, size);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}