{
  "module_name": "ia_css_iterator.host.c",
  "hash_id": "d110870b18b079370249c171ab3389dbaae15caf231a575a22853ebda0bf1bc5",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/media/atomisp/pci/isp/kernels/iterator/iterator_1.0/ia_css_iterator.host.c",
  "human_readable_source": "\n \n\n#include \"ia_css_iterator.host.h\"\n#include \"ia_css_frame_public.h\"\n#include \"ia_css_binary.h\"\n#include \"ia_css_err.h\"\n#define IA_CSS_INCLUDE_CONFIGURATIONS\n#include \"ia_css_isp_configs.h\"\n\nstatic const struct ia_css_iterator_configuration default_config = {\n\t.input_info = (struct ia_css_frame_info *)NULL,\n};\n\nvoid\nia_css_iterator_config(\n    struct sh_css_isp_iterator_isp_config *to,\n    const struct ia_css_iterator_configuration *from,\n    unsigned int size)\n{\n\t(void)size;\n\tia_css_frame_info_to_frame_sp_info(&to->input_info,    from->input_info);\n\tia_css_frame_info_to_frame_sp_info(&to->internal_info, from->internal_info);\n\tia_css_frame_info_to_frame_sp_info(&to->output_info,   from->output_info);\n\tia_css_frame_info_to_frame_sp_info(&to->vf_info,       from->vf_info);\n\tia_css_resolution_to_sp_resolution(&to->dvs_envelope,  from->dvs_envelope);\n}\n\nint ia_css_iterator_configure(const struct ia_css_binary *binary,\n\t\t\t      const struct ia_css_frame_info *in_info)\n{\n\tstruct ia_css_frame_info my_info = IA_CSS_BINARY_DEFAULT_FRAME_INFO;\n\tstruct ia_css_iterator_configuration config = default_config;\n\n\tconfig.input_info    = &binary->in_frame_info;\n\tconfig.internal_info = &binary->internal_frame_info;\n\tconfig.output_info   = &binary->out_frame_info[0];\n\tconfig.vf_info       = &binary->vf_frame_info;\n\tconfig.dvs_envelope  = &binary->dvs_envelope;\n\n\t \n\tif (in_info)\n\t\tconfig.input_info = in_info;\n\tif (binary->out_frame_info[0].res.width == 0)\n\t\tconfig.output_info = &binary->out_frame_info[1];\n\tmy_info = *config.output_info;\n\tconfig.output_info = &my_info;\n\t \n\tif (binary->info->sp.pipeline.mode == IA_CSS_BINARY_MODE_PREVIEW &&\n\t    binary->vf_downscale_log2 > 0)\n\t{\n\t\t \n\t\tmy_info.padded_width <<= binary->vf_downscale_log2;\n\t\tmy_info.res.width    <<= binary->vf_downscale_log2;\n\t\tmy_info.res.height   <<= binary->vf_downscale_log2;\n\t}\n\n\treturn ia_css_configure_iterator(binary, &config);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}