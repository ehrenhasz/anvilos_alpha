{
  "module_name": "atomisp_platform.h",
  "hash_id": "f2e951daf5c2b2cc93130bda63720f034d115f8b40adce4d73d7d506ae9f9d0f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/media/atomisp/include/linux/atomisp_platform.h",
  "human_readable_source": " \n \n#ifndef ATOMISP_PLATFORM_H_\n#define ATOMISP_PLATFORM_H_\n\n#include <asm/intel-family.h>\n#include <asm/processor.h>\n\n#include <linux/i2c.h>\n#include <media/v4l2-subdev.h>\n#include \"atomisp.h\"\n\n#define MAX_SENSORS_PER_PORT 4\n#define MAX_STREAMS_PER_CHANNEL 2\n\n#define CAMERA_MODULE_ID_LEN 64\n\nenum atomisp_bayer_order {\n\tatomisp_bayer_order_grbg,\n\tatomisp_bayer_order_rggb,\n\tatomisp_bayer_order_bggr,\n\tatomisp_bayer_order_gbrg\n};\n\nenum atomisp_input_stream_id {\n\tATOMISP_INPUT_STREAM_GENERAL = 0,\n\tATOMISP_INPUT_STREAM_CAPTURE = 0,\n\tATOMISP_INPUT_STREAM_POSTVIEW,\n\tATOMISP_INPUT_STREAM_PREVIEW,\n\tATOMISP_INPUT_STREAM_VIDEO,\n\tATOMISP_INPUT_STREAM_NUM\n};\n\nenum atomisp_input_format {\n\tATOMISP_INPUT_FORMAT_YUV420_8_LEGACY, \n\tATOMISP_INPUT_FORMAT_YUV420_8,  \n\tATOMISP_INPUT_FORMAT_YUV420_10, \n\tATOMISP_INPUT_FORMAT_YUV420_16, \n\tATOMISP_INPUT_FORMAT_YUV422_8,  \n\tATOMISP_INPUT_FORMAT_YUV422_10, \n\tATOMISP_INPUT_FORMAT_YUV422_16, \n\tATOMISP_INPUT_FORMAT_RGB_444,   \n\tATOMISP_INPUT_FORMAT_RGB_555,   \n\tATOMISP_INPUT_FORMAT_RGB_565,   \n\tATOMISP_INPUT_FORMAT_RGB_666,   \n\tATOMISP_INPUT_FORMAT_RGB_888,   \n\tATOMISP_INPUT_FORMAT_RAW_6,     \n\tATOMISP_INPUT_FORMAT_RAW_7,     \n\tATOMISP_INPUT_FORMAT_RAW_8,     \n\tATOMISP_INPUT_FORMAT_RAW_10,    \n\tATOMISP_INPUT_FORMAT_RAW_12,    \n\tATOMISP_INPUT_FORMAT_RAW_14,    \n\tATOMISP_INPUT_FORMAT_RAW_16,    \n\tATOMISP_INPUT_FORMAT_BINARY_8,  \n\n\t \n\tATOMISP_INPUT_FORMAT_GENERIC_SHORT1,   \n\tATOMISP_INPUT_FORMAT_GENERIC_SHORT2,   \n\tATOMISP_INPUT_FORMAT_GENERIC_SHORT3,   \n\tATOMISP_INPUT_FORMAT_GENERIC_SHORT4,   \n\tATOMISP_INPUT_FORMAT_GENERIC_SHORT5,   \n\tATOMISP_INPUT_FORMAT_GENERIC_SHORT6,   \n\tATOMISP_INPUT_FORMAT_GENERIC_SHORT7,   \n\tATOMISP_INPUT_FORMAT_GENERIC_SHORT8,   \n\n\t \n\tATOMISP_INPUT_FORMAT_YUV420_8_SHIFT,   \n\tATOMISP_INPUT_FORMAT_YUV420_10_SHIFT,  \n\n\t \n\tATOMISP_INPUT_FORMAT_EMBEDDED,  \n\n\t \n\tATOMISP_INPUT_FORMAT_USER_DEF1,   \n\tATOMISP_INPUT_FORMAT_USER_DEF2,   \n\tATOMISP_INPUT_FORMAT_USER_DEF3,   \n\tATOMISP_INPUT_FORMAT_USER_DEF4,   \n\tATOMISP_INPUT_FORMAT_USER_DEF5,   \n\tATOMISP_INPUT_FORMAT_USER_DEF6,   \n\tATOMISP_INPUT_FORMAT_USER_DEF7,   \n\tATOMISP_INPUT_FORMAT_USER_DEF8,   \n};\n\n#define N_ATOMISP_INPUT_FORMAT (ATOMISP_INPUT_FORMAT_USER_DEF8 + 1)\n\nenum intel_v4l2_subdev_type {\n\tRAW_CAMERA = 1,\n\tCAMERA_MOTOR = 2,\n\tLED_FLASH = 3,\n\tTEST_PATTERN = 4,\n};\n\nstruct intel_v4l2_subdev_id {\n\tchar name[17];\n\tenum intel_v4l2_subdev_type type;\n\tenum atomisp_camera_port    port;\n};\n\nstruct intel_v4l2_subdev_table {\n\tenum intel_v4l2_subdev_type type;\n\tenum atomisp_camera_port port;\n\tunsigned int lanes;\n\tstruct v4l2_subdev *subdev;\n};\n\nstruct atomisp_platform_data {\n\tstruct intel_v4l2_subdev_table *subdevs;\n};\n\n \nstruct atomisp_isys_config_info {\n\tu8 input_format;\n\tu16 width;\n\tu16 height;\n};\n\nstruct atomisp_input_stream_info {\n\tenum atomisp_input_stream_id stream;\n\tu8 enable;\n\t \n\tu8 ch_id;\n\t \n\tu8 isys_configs;\n\t \n\tstruct atomisp_isys_config_info isys_info[MAX_STREAMS_PER_CHANNEL];\n};\n\nstruct camera_vcm_control;\nstruct camera_vcm_ops {\n\tint (*power_up)(struct v4l2_subdev *sd, struct camera_vcm_control *vcm);\n\tint (*power_down)(struct v4l2_subdev *sd,\n\t\t\t  struct camera_vcm_control *vcm);\n\tint (*queryctrl)(struct v4l2_subdev *sd, struct v4l2_queryctrl *qc,\n\t\t\t struct camera_vcm_control *vcm);\n\tint (*g_ctrl)(struct v4l2_subdev *sd, struct v4l2_control *ctrl,\n\t\t      struct camera_vcm_control *vcm);\n\tint (*s_ctrl)(struct v4l2_subdev *sd, struct v4l2_control *ctrl,\n\t\t      struct camera_vcm_control *vcm);\n};\n\nstruct camera_vcm_control {\n\tchar camera_module[CAMERA_MODULE_ID_LEN];\n\tstruct camera_vcm_ops *ops;\n\tstruct list_head list;\n};\n\nstruct camera_sensor_platform_data {\n\tint (*flisclk_ctrl)(struct v4l2_subdev *subdev, int flag);\n\tint (*csi_cfg)(struct v4l2_subdev *subdev, int flag);\n\n\t \n\tint (*gpio0_ctrl)(struct v4l2_subdev *subdev, int on);\n\tint (*gpio1_ctrl)(struct v4l2_subdev *subdev, int on);\n\tint (*v1p8_ctrl)(struct v4l2_subdev *subdev, int on);\n\tint (*v2p8_ctrl)(struct v4l2_subdev *subdev, int on);\n\tint (*v1p2_ctrl)(struct v4l2_subdev *subdev, int on);\n\tstruct camera_vcm_control *(*get_vcm_ctrl)(struct v4l2_subdev *subdev,\n\t\tchar *module_id);\n};\n\nstruct camera_mipi_info {\n\tenum atomisp_camera_port        port;\n\tunsigned int                    num_lanes;\n\tenum atomisp_input_format       input_format;\n\tenum atomisp_bayer_order        raw_bayer_order;\n\tenum atomisp_input_format       metadata_format;\n\tu32                             metadata_width;\n\tu32                             metadata_height;\n\tconst u32                       *metadata_effective_width;\n};\n\nconst struct atomisp_platform_data *atomisp_get_platform_data(void);\nint atomisp_register_sensor_no_gmin(struct v4l2_subdev *subdev, u32 lanes,\n\t\t\t\t    enum atomisp_input_format format,\n\t\t\t\t    enum atomisp_bayer_order bayer_order);\nvoid atomisp_unregister_subdev(struct v4l2_subdev *subdev);\n\nint v4l2_get_acpi_sensor_info(struct device *dev, char **module_id_str);\n\n \n#define __IS_SOC(x) (boot_cpu_data.x86_vendor == X86_VENDOR_INTEL && \\\n\t\t     boot_cpu_data.x86 == 6 &&                       \\\n\t\t     boot_cpu_data.x86_model == (x))\n#define __IS_SOCS(x,y) (boot_cpu_data.x86_vendor == X86_VENDOR_INTEL && \\\n\t\t        boot_cpu_data.x86 == 6 &&                       \\\n\t\t        (boot_cpu_data.x86_model == (x) || \\\n\t\t         boot_cpu_data.x86_model == (y)))\n\n#define IS_MFLD\t__IS_SOC(INTEL_FAM6_ATOM_SALTWELL_MID)\n#define IS_BYT\t__IS_SOC(INTEL_FAM6_ATOM_SILVERMONT)\n#define IS_CHT\t__IS_SOC(INTEL_FAM6_ATOM_AIRMONT)\n#define IS_MRFD\t__IS_SOC(INTEL_FAM6_ATOM_SILVERMONT_MID)\n#define IS_MOFD\t__IS_SOC(INTEL_FAM6_ATOM_AIRMONT_MID)\n\n \n#define IS_ISP2401 __IS_SOCS(INTEL_FAM6_ATOM_AIRMONT, \\\n\t\t\t     INTEL_FAM6_ATOM_AIRMONT_MID)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}