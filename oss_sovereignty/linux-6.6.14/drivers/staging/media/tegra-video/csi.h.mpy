{
  "module_name": "csi.h",
  "hash_id": "f1dc5e882bd576820681fd97107187909d71140ab35613a171e76f0e4b632bc8",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/media/tegra-video/csi.h",
  "human_readable_source": " \n \n\n#ifndef __TEGRA_CSI_H__\n#define __TEGRA_CSI_H__\n\n#include <media/media-entity.h>\n#include <media/v4l2-async.h>\n#include <media/v4l2-subdev.h>\n\n \n#define CSI_PORTS_PER_BRICK\t2\n#define CSI_LANES_PER_BRICK\t4\n\n \n#define GANG_PORTS_MAX\t2\n\n \n#define TEGRA_CSI_PADS_NUM\t2\n\nenum tegra_csi_cil_port {\n\tPORT_A = 0,\n\tPORT_B,\n};\n\nenum tegra_csi_block {\n\tCSI_CIL_AB = 0,\n\tCSI_CIL_CD,\n\tCSI_CIL_EF,\n};\n\nstruct tegra_csi;\n\n \nstruct tegra_csi_channel {\n\tstruct list_head list;\n\tstruct v4l2_subdev subdev;\n\tstruct media_pad pads[TEGRA_CSI_PADS_NUM];\n\tunsigned int numpads;\n\tstruct tegra_csi *csi;\n\tstruct device_node *of_node;\n\tu8 numgangports;\n\tunsigned int numlanes;\n\tu8 csi_port_nums[GANG_PORTS_MAX];\n\tu8 pg_mode;\n\tstruct v4l2_mbus_framefmt format;\n\tunsigned int framerate;\n\tunsigned int h_blank;\n\tunsigned int v_blank;\n\tstruct tegra_mipi_device *mipi;\n\tunsigned int pixel_rate;\n};\n\n \nstruct tpg_framerate {\n\tstruct v4l2_frmsize_discrete frmsize;\n\tu32 code;\n\tunsigned int h_blank;\n\tunsigned int v_blank;\n\tunsigned int framerate;\n};\n\n \nstruct tegra_csi_ops {\n\tint (*csi_start_streaming)(struct tegra_csi_channel *csi_chan);\n\tvoid (*csi_stop_streaming)(struct tegra_csi_channel *csi_chan);\n\tvoid (*csi_err_recover)(struct tegra_csi_channel *csi_chan);\n};\n\n \nstruct tegra_csi_soc {\n\tconst struct tegra_csi_ops *ops;\n\tunsigned int csi_max_channels;\n\tconst char * const *clk_names;\n\tunsigned int num_clks;\n\tconst struct tpg_framerate *tpg_frmrate_table;\n\tunsigned int tpg_frmrate_table_size;\n};\n\n \nstruct tegra_csi {\n\tstruct device *dev;\n\tstruct host1x_client client;\n\tvoid __iomem *iomem;\n\tstruct clk_bulk_data *clks;\n\tconst struct tegra_csi_soc *soc;\n\tconst struct tegra_csi_ops *ops;\n\tstruct list_head csi_chans;\n};\n\nvoid tegra_csi_error_recover(struct v4l2_subdev *subdev);\nvoid tegra_csi_calc_settle_time(struct tegra_csi_channel *csi_chan,\n\t\t\t\tu8 csi_port_num,\n\t\t\t\tu8 *clk_settle_time,\n\t\t\t\tu8 *ths_settle_time);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}