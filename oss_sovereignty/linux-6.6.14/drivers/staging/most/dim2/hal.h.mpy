{
  "module_name": "hal.h",
  "hash_id": "b877348ddb897b73ff7f8cd8615a38d7efdf43214fb7238bbdbe5ebc14bec740",
  "original_prompt": "Ingested from linux-6.6.14/drivers/staging/most/dim2/hal.h",
  "human_readable_source": " \n \n\n#ifndef _DIM2_HAL_H\n#define _DIM2_HAL_H\n\n#include <linux/types.h>\n#include \"reg.h\"\n\n \nenum mlb_clk_speed {\n\tCLK_256FS = 0,\n\tCLK_512FS = 1,\n\tCLK_1024FS = 2,\n\tCLK_2048FS = 3,\n\tCLK_3072FS = 4,\n\tCLK_4096FS = 5,\n\tCLK_6144FS = 6,\n\tCLK_8192FS = 7,\n};\n\nstruct dim_ch_state {\n\tbool ready;  \n\tu16 done_buffers;  \n};\n\nstruct int_ch_state {\n\t \n\tvolatile int request_counter;\n\n\t \n\tvolatile int service_counter;\n\n\tu8 idx1;\n\tu8 idx2;\n\tu8 level;  \n};\n\nstruct dim_channel {\n\tstruct int_ch_state state;\n\tu8 addr;\n\tu16 dbr_addr;\n\tu16 dbr_size;\n\tu16 packet_length;  \n\tu16 bytes_per_frame;  \n\tu16 done_sw_buffers_number;  \n};\n\nu8 dim_startup(struct dim2_regs __iomem *dim_base_address, u32 mlb_clock,\n\t       u32 fcnt);\n\nvoid dim_shutdown(void);\n\nbool dim_get_lock_state(void);\n\nu16 dim_norm_ctrl_async_buffer_size(u16 buf_size);\n\nu16 dim_norm_isoc_buffer_size(u16 buf_size, u16 packet_length);\n\nu16 dim_norm_sync_buffer_size(u16 buf_size, u16 bytes_per_frame);\n\nu8 dim_init_control(struct dim_channel *ch, u8 is_tx, u16 ch_address,\n\t\t    u16 max_buffer_size);\n\nu8 dim_init_async(struct dim_channel *ch, u8 is_tx, u16 ch_address,\n\t\t  u16 max_buffer_size);\n\nu8 dim_init_isoc(struct dim_channel *ch, u8 is_tx, u16 ch_address,\n\t\t u16 packet_length);\n\nu8 dim_init_sync(struct dim_channel *ch, u8 is_tx, u16 ch_address,\n\t\t u16 bytes_per_frame);\n\nu8 dim_destroy_channel(struct dim_channel *ch);\n\nvoid dim_service_mlb_int_irq(void);\n\nvoid dim_service_ahb_int_irq(struct dim_channel *const *channels);\n\nu8 dim_service_channel(struct dim_channel *ch);\n\nstruct dim_ch_state *dim_get_channel_state(struct dim_channel *ch,\n\t\t\t\t\t   struct dim_ch_state *state_ptr);\n\nu16 dim_dbr_space(struct dim_channel *ch);\n\nbool dim_enqueue_buffer(struct dim_channel *ch, u32 buffer_addr,\n\t\t\tu16 buffer_size);\n\nbool dim_detach_buffers(struct dim_channel *ch, u16 buffers_number);\n\nvoid dimcb_on_error(u8 error_id, const char *error_message);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}