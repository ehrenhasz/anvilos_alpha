{
  "module_name": "max14577_charger.c",
  "hash_id": "95a179cbfbbbbf11527ffe96589e02b47f58392cce835fef1e24ec8b2a907d16",
  "original_prompt": "Ingested from linux-6.6.14/drivers/power/supply/max14577_charger.c",
  "human_readable_source": "\n\n\n\n\n\n\n#include <linux/module.h>\n#include <linux/platform_device.h>\n#include <linux/power_supply.h>\n#include <linux/mfd/max14577-private.h>\n#include <linux/mfd/max14577.h>\n\nstruct max14577_charger {\n\tstruct device\t\t*dev;\n\tstruct max14577\t\t*max14577;\n\tstruct power_supply\t*charger;\n\n\tstruct max14577_charger_platform_data\t*pdata;\n};\n\n \nstatic enum max14577_muic_charger_type maxim_get_charger_type(\n\t\tenum maxim_device_type dev_type, u8 val) {\n\tswitch (val) {\n\tcase MAX14577_CHARGER_TYPE_NONE:\n\tcase MAX14577_CHARGER_TYPE_USB:\n\tcase MAX14577_CHARGER_TYPE_DOWNSTREAM_PORT:\n\tcase MAX14577_CHARGER_TYPE_DEDICATED_CHG:\n\tcase MAX14577_CHARGER_TYPE_SPECIAL_500MA:\n\tcase MAX14577_CHARGER_TYPE_SPECIAL_1A:\n\t\treturn val;\n\tcase MAX14577_CHARGER_TYPE_DEAD_BATTERY:\n\tcase MAX14577_CHARGER_TYPE_RESERVED:\n\t\tif (dev_type == MAXIM_DEVICE_TYPE_MAX77836)\n\t\t\tval |= 0x8;\n\t\treturn val;\n\tdefault:\n\t\tWARN_ONCE(1, \"max14577: Unsupported chgtyp register value 0x%02x\", val);\n\t\treturn val;\n\t}\n}\n\nstatic int max14577_get_charger_state(struct max14577_charger *chg, int *val)\n{\n\tstruct regmap *rmap = chg->max14577->regmap;\n\tint ret;\n\tu8 reg_data;\n\n\t \n\tret = max14577_read_reg(rmap, MAX14577_CHG_REG_CHG_CTRL2, &reg_data);\n\tif (ret < 0)\n\t\tgoto out;\n\n\tif ((reg_data & CHGCTRL2_MBCHOSTEN_MASK) == 0) {\n\t\t*val = POWER_SUPPLY_STATUS_DISCHARGING;\n\t\tgoto out;\n\t}\n\n\tret = max14577_read_reg(rmap, MAX14577_CHG_REG_STATUS3, &reg_data);\n\tif (ret < 0)\n\t\tgoto out;\n\n\tif (reg_data & STATUS3_CGMBC_MASK) {\n\t\t \n\t\tif (reg_data & STATUS3_EOC_MASK)\n\t\t\t*val = POWER_SUPPLY_STATUS_FULL;\n\t\telse\n\t\t\t*val = POWER_SUPPLY_STATUS_CHARGING;\n\t\tgoto out;\n\t}\n\n\t*val = POWER_SUPPLY_STATUS_DISCHARGING;\n\nout:\n\treturn ret;\n}\n\n \nstatic int max14577_get_charge_type(struct max14577_charger *chg, int *val)\n{\n\tint ret, charging;\n\n\t \n\tret = max14577_get_charger_state(chg, &charging);\n\tif (ret < 0)\n\t\treturn ret;\n\n\tif (charging == POWER_SUPPLY_STATUS_CHARGING)\n\t\t*val = POWER_SUPPLY_CHARGE_TYPE_FAST;\n\telse\n\t\t*val = POWER_SUPPLY_CHARGE_TYPE_NONE;\n\n\treturn 0;\n}\n\nstatic int max14577_get_online(struct max14577_charger *chg, int *val)\n{\n\tstruct regmap *rmap = chg->max14577->regmap;\n\tu8 reg_data;\n\tint ret;\n\tenum max14577_muic_charger_type chg_type;\n\n\tret = max14577_read_reg(rmap, MAX14577_MUIC_REG_STATUS2, &reg_data);\n\tif (ret < 0)\n\t\treturn ret;\n\n\treg_data = ((reg_data & STATUS2_CHGTYP_MASK) >> STATUS2_CHGTYP_SHIFT);\n\tchg_type = maxim_get_charger_type(chg->max14577->dev_type, reg_data);\n\tswitch (chg_type) {\n\tcase MAX14577_CHARGER_TYPE_USB:\n\tcase MAX14577_CHARGER_TYPE_DEDICATED_CHG:\n\tcase MAX14577_CHARGER_TYPE_SPECIAL_500MA:\n\tcase MAX14577_CHARGER_TYPE_SPECIAL_1A:\n\tcase MAX14577_CHARGER_TYPE_DEAD_BATTERY:\n\tcase MAX77836_CHARGER_TYPE_SPECIAL_BIAS:\n\t\t*val = 1;\n\t\tbreak;\n\tcase MAX14577_CHARGER_TYPE_NONE:\n\tcase MAX14577_CHARGER_TYPE_DOWNSTREAM_PORT:\n\tcase MAX14577_CHARGER_TYPE_RESERVED:\n\tcase MAX77836_CHARGER_TYPE_RESERVED:\n\tdefault:\n\t\t*val = 0;\n\t}\n\n\treturn 0;\n}\n\n \nstatic int max14577_get_battery_health(struct max14577_charger *chg, int *val)\n{\n\tstruct regmap *rmap = chg->max14577->regmap;\n\tint ret;\n\tu8 reg_data;\n\tenum max14577_muic_charger_type chg_type;\n\n\tret = max14577_read_reg(rmap, MAX14577_MUIC_REG_STATUS2, &reg_data);\n\tif (ret < 0)\n\t\tgoto out;\n\n\treg_data = ((reg_data & STATUS2_CHGTYP_MASK) >> STATUS2_CHGTYP_SHIFT);\n\tchg_type = maxim_get_charger_type(chg->max14577->dev_type, reg_data);\n\tif (chg_type == MAX14577_CHARGER_TYPE_DEAD_BATTERY) {\n\t\t*val = POWER_SUPPLY_HEALTH_DEAD;\n\t\tgoto out;\n\t}\n\n\tret = max14577_read_reg(rmap, MAX14577_CHG_REG_STATUS3, &reg_data);\n\tif (ret < 0)\n\t\tgoto out;\n\n\tif (reg_data & STATUS3_OVP_MASK) {\n\t\t*val = POWER_SUPPLY_HEALTH_OVERVOLTAGE;\n\t\tgoto out;\n\t}\n\n\t \n\t*val = POWER_SUPPLY_HEALTH_GOOD;\n\nout:\n\treturn ret;\n}\n\n \nstatic int max14577_get_present(struct max14577_charger *chg, int *val)\n{\n\t*val = 1;\n\n\treturn 0;\n}\n\nstatic int max14577_set_fast_charge_timer(struct max14577_charger *chg,\n\t\tunsigned long hours)\n{\n\tu8 reg_data;\n\n\tswitch (hours) {\n\tcase 5 ... 7:\n\t\treg_data = hours - 3;\n\t\tbreak;\n\tcase 0:\n\t\t \n\t\treg_data = 0x7;\n\t\tbreak;\n\tdefault:\n\t\tdev_err(chg->dev, \"Wrong value for Fast-Charge Timer: %lu\\n\",\n\t\t\t\thours);\n\t\treturn -EINVAL;\n\t}\n\treg_data <<= CHGCTRL1_TCHW_SHIFT;\n\n\treturn max14577_update_reg(chg->max14577->regmap,\n\t\t\tMAX14577_REG_CHGCTRL1, CHGCTRL1_TCHW_MASK, reg_data);\n}\n\nstatic int max14577_init_constant_voltage(struct max14577_charger *chg,\n\t\tunsigned int uvolt)\n{\n\tu8 reg_data;\n\n\tif (uvolt < MAXIM_CHARGER_CONSTANT_VOLTAGE_MIN ||\n\t\t\tuvolt > MAXIM_CHARGER_CONSTANT_VOLTAGE_MAX)\n\t\treturn -EINVAL;\n\n\tif (uvolt == 4200000)\n\t\treg_data = 0x0;\n\telse if (uvolt == MAXIM_CHARGER_CONSTANT_VOLTAGE_MAX)\n\t\treg_data = 0x1f;\n\telse if (uvolt <= 4280000) {\n\t\tunsigned int val = uvolt;\n\n\t\tval -= MAXIM_CHARGER_CONSTANT_VOLTAGE_MIN;\n\t\tval /= MAXIM_CHARGER_CONSTANT_VOLTAGE_STEP;\n\t\tif (uvolt <= 4180000)\n\t\t\treg_data = 0x1 + val;\n\t\telse\n\t\t\treg_data = val;  \n\t} else\n\t\treturn -EINVAL;\n\n\treg_data <<= CHGCTRL3_MBCCVWRC_SHIFT;\n\n\treturn max14577_write_reg(chg->max14577->regmap,\n\t\t\tMAX14577_CHG_REG_CHG_CTRL3, reg_data);\n}\n\nstatic int max14577_init_eoc(struct max14577_charger *chg,\n\t\tunsigned int uamp)\n{\n\tunsigned int current_bits;\n\tu8 reg_data;\n\n\tswitch (chg->max14577->dev_type) {\n\tcase MAXIM_DEVICE_TYPE_MAX77836:\n\t\tif (uamp < 5000)\n\t\t\treturn -EINVAL;  \n\n\t\tif (uamp >= 7500 && uamp < 10000)\n\t\t\tcurrent_bits = 0x0;\n\t\telse if (uamp <= 50000) {\n\t\t\t \n\t\t\tcurrent_bits = uamp / 5000;\n\t\t} else {\n\t\t\tuamp = min(uamp, 100000U) - 50000U;\n\t\t\tcurrent_bits = 0xa + uamp / 10000;\n\t\t}\n\t\tbreak;\n\n\tcase MAXIM_DEVICE_TYPE_MAX14577:\n\tdefault:\n\t\tif (uamp < MAX14577_CHARGER_EOC_CURRENT_LIMIT_MIN)\n\t\t\treturn -EINVAL;  \n\n\t\tuamp = min(uamp, MAX14577_CHARGER_EOC_CURRENT_LIMIT_MAX);\n\t\tuamp -= MAX14577_CHARGER_EOC_CURRENT_LIMIT_MIN;\n\t\tcurrent_bits = uamp / MAX14577_CHARGER_EOC_CURRENT_LIMIT_STEP;\n\t\tbreak;\n\t}\n\n\treg_data = current_bits << CHGCTRL5_EOCS_SHIFT;\n\n\treturn max14577_update_reg(chg->max14577->regmap,\n\t\t\tMAX14577_CHG_REG_CHG_CTRL5, CHGCTRL5_EOCS_MASK,\n\t\t\treg_data);\n}\n\nstatic int max14577_init_fast_charge(struct max14577_charger *chg,\n\t\tunsigned int uamp)\n{\n\tu8 reg_data;\n\tint ret;\n\tconst struct maxim_charger_current *limits =\n\t\t&maxim_charger_currents[chg->max14577->dev_type];\n\n\tret = maxim_charger_calc_reg_current(limits, uamp, uamp, &reg_data);\n\tif (ret) {\n\t\tdev_err(chg->dev, \"Wrong value for fast charge: %u\\n\", uamp);\n\t\treturn ret;\n\t}\n\n\treturn max14577_update_reg(chg->max14577->regmap,\n\t\t\tMAX14577_CHG_REG_CHG_CTRL4,\n\t\t\tCHGCTRL4_MBCICHWRCL_MASK | CHGCTRL4_MBCICHWRCH_MASK,\n\t\t\treg_data);\n}\n\n \nstatic int max14577_charger_reg_init(struct max14577_charger *chg)\n{\n\tstruct regmap *rmap = chg->max14577->regmap;\n\tu8 reg_data;\n\tint ret;\n\n\t \n\treg_data = 0x1 << CDETCTRL1_CHGDETEN_SHIFT;\n\tmax14577_update_reg(rmap, MAX14577_REG_CDETCTRL1,\n\t\t\tCDETCTRL1_CHGDETEN_MASK | CDETCTRL1_CHGTYPMAN_MASK,\n\t\t\treg_data);\n\n\t \n\treg_data = 0x1 << CHGCTRL2_VCHGR_RC_SHIFT;\n\treg_data |= 0x1 << CHGCTRL2_MBCHOSTEN_SHIFT;\n\tmax14577_write_reg(rmap, MAX14577_REG_CHGCTRL2, reg_data);\n\n\t \n\treg_data = 0x0 << CHGCTRL6_AUTOSTOP_SHIFT;\n\tmax14577_write_reg(rmap, MAX14577_REG_CHGCTRL6, reg_data);\n\n\tret = max14577_init_constant_voltage(chg, chg->pdata->constant_uvolt);\n\tif (ret)\n\t\treturn ret;\n\n\tret = max14577_init_eoc(chg, chg->pdata->eoc_uamp);\n\tif (ret)\n\t\treturn ret;\n\n\tret = max14577_init_fast_charge(chg, chg->pdata->fast_charge_uamp);\n\tif (ret)\n\t\treturn ret;\n\n\tret = max14577_set_fast_charge_timer(chg,\n\t\t\tMAXIM_CHARGER_FAST_CHARGE_TIMER_DEFAULT);\n\tif (ret)\n\t\treturn ret;\n\n\t \n\tswitch (chg->pdata->ovp_uvolt) {\n\tcase 7500000:\n\t\treg_data = 0x0;\n\t\tbreak;\n\tcase 6000000:\n\tcase 6500000:\n\tcase 7000000:\n\t\treg_data = 0x1 + (chg->pdata->ovp_uvolt - 6000000) / 500000;\n\t\tbreak;\n\tdefault:\n\t\tdev_err(chg->dev, \"Wrong value for OVP: %u\\n\",\n\t\t\t\tchg->pdata->ovp_uvolt);\n\t\treturn -EINVAL;\n\t}\n\treg_data <<= CHGCTRL7_OTPCGHCVS_SHIFT;\n\tmax14577_write_reg(rmap, MAX14577_REG_CHGCTRL7, reg_data);\n\n\treturn 0;\n}\n\n \nstatic enum power_supply_property max14577_charger_props[] = {\n\tPOWER_SUPPLY_PROP_STATUS,\n\tPOWER_SUPPLY_PROP_CHARGE_TYPE,\n\tPOWER_SUPPLY_PROP_HEALTH,\n\tPOWER_SUPPLY_PROP_PRESENT,\n\tPOWER_SUPPLY_PROP_ONLINE,\n\tPOWER_SUPPLY_PROP_MODEL_NAME,\n\tPOWER_SUPPLY_PROP_MANUFACTURER,\n};\n\nstatic const char * const model_names[] = {\n\t[MAXIM_DEVICE_TYPE_UNKNOWN]\t= \"MAX14577-like\",\n\t[MAXIM_DEVICE_TYPE_MAX14577]\t= \"MAX14577\",\n\t[MAXIM_DEVICE_TYPE_MAX77836]\t= \"MAX77836\",\n};\nstatic const char *manufacturer = \"Maxim Integrated\";\n\nstatic int max14577_charger_get_property(struct power_supply *psy,\n\t\t\t    enum power_supply_property psp,\n\t\t\t    union power_supply_propval *val)\n{\n\tstruct max14577_charger *chg = power_supply_get_drvdata(psy);\n\tint ret = 0;\n\n\tswitch (psp) {\n\tcase POWER_SUPPLY_PROP_STATUS:\n\t\tret = max14577_get_charger_state(chg, &val->intval);\n\t\tbreak;\n\tcase POWER_SUPPLY_PROP_CHARGE_TYPE:\n\t\tret = max14577_get_charge_type(chg, &val->intval);\n\t\tbreak;\n\tcase POWER_SUPPLY_PROP_HEALTH:\n\t\tret = max14577_get_battery_health(chg, &val->intval);\n\t\tbreak;\n\tcase POWER_SUPPLY_PROP_PRESENT:\n\t\tret = max14577_get_present(chg, &val->intval);\n\t\tbreak;\n\tcase POWER_SUPPLY_PROP_ONLINE:\n\t\tret = max14577_get_online(chg, &val->intval);\n\t\tbreak;\n\tcase POWER_SUPPLY_PROP_MODEL_NAME:\n\t\tBUILD_BUG_ON(ARRAY_SIZE(model_names) != MAXIM_DEVICE_TYPE_NUM);\n\t\tval->strval = model_names[chg->max14577->dev_type];\n\t\tbreak;\n\tcase POWER_SUPPLY_PROP_MANUFACTURER:\n\t\tval->strval = manufacturer;\n\t\tbreak;\n\tdefault:\n\t\treturn -EINVAL;\n\t}\n\n\treturn ret;\n}\n\nstatic const struct power_supply_desc max14577_charger_desc = {\n\t.name = \"max14577-charger\",\n\t.type = POWER_SUPPLY_TYPE_BATTERY,\n\t.properties = max14577_charger_props,\n\t.num_properties = ARRAY_SIZE(max14577_charger_props),\n\t.get_property = max14577_charger_get_property,\n};\n\n#ifdef CONFIG_OF\nstatic struct max14577_charger_platform_data *max14577_charger_dt_init(\n\t\tstruct platform_device *pdev)\n{\n\tstruct max14577_charger_platform_data *pdata;\n\tstruct device_node *np = pdev->dev.of_node;\n\tint ret;\n\n\tif (!np) {\n\t\tdev_err(&pdev->dev, \"No charger OF node\\n\");\n\t\treturn ERR_PTR(-EINVAL);\n\t}\n\n\tpdata = devm_kzalloc(&pdev->dev, sizeof(*pdata), GFP_KERNEL);\n\tif (!pdata)\n\t\treturn ERR_PTR(-ENOMEM);\n\n\tret = of_property_read_u32(np, \"maxim,constant-uvolt\",\n\t\t\t&pdata->constant_uvolt);\n\tif (ret) {\n\t\tdev_err(&pdev->dev, \"Cannot parse maxim,constant-uvolt field from DT\\n\");\n\t\treturn ERR_PTR(ret);\n\t}\n\n\tret = of_property_read_u32(np, \"maxim,fast-charge-uamp\",\n\t\t\t&pdata->fast_charge_uamp);\n\tif (ret) {\n\t\tdev_err(&pdev->dev, \"Cannot parse maxim,fast-charge-uamp field from DT\\n\");\n\t\treturn ERR_PTR(ret);\n\t}\n\n\tret = of_property_read_u32(np, \"maxim,eoc-uamp\", &pdata->eoc_uamp);\n\tif (ret) {\n\t\tdev_err(&pdev->dev, \"Cannot parse maxim,eoc-uamp field from DT\\n\");\n\t\treturn ERR_PTR(ret);\n\t}\n\n\tret = of_property_read_u32(np, \"maxim,ovp-uvolt\", &pdata->ovp_uvolt);\n\tif (ret) {\n\t\tdev_err(&pdev->dev, \"Cannot parse maxim,ovp-uvolt field from DT\\n\");\n\t\treturn ERR_PTR(ret);\n\t}\n\n\treturn pdata;\n}\n#else  \nstatic struct max14577_charger_platform_data *max14577_charger_dt_init(\n\t\tstruct platform_device *pdev)\n{\n\treturn NULL;\n}\n#endif  \n\nstatic ssize_t show_fast_charge_timer(struct device *dev,\n\t\tstruct device_attribute *attr, char *buf)\n{\n\tstruct max14577_charger *chg = dev_get_drvdata(dev);\n\tu8 reg_data;\n\tint ret;\n\tunsigned int val;\n\n\tret = max14577_read_reg(chg->max14577->regmap, MAX14577_REG_CHGCTRL1,\n\t\t\t&reg_data);\n\tif (ret)\n\t\treturn ret;\n\n\treg_data &= CHGCTRL1_TCHW_MASK;\n\treg_data >>= CHGCTRL1_TCHW_SHIFT;\n\tswitch (reg_data) {\n\tcase 0x2 ... 0x4:\n\t\tval = reg_data + 3;\n\t\tbreak;\n\tcase 0x7:\n\t\tval = 0;\n\t\tbreak;\n\tdefault:\n\t\tval = 5;\n\t\tbreak;\n\t}\n\n\treturn sysfs_emit(buf, \"%u\\n\", val);\n}\n\nstatic ssize_t store_fast_charge_timer(struct device *dev,\n\t\tstruct device_attribute *attr, const char *buf, size_t count)\n{\n\tstruct max14577_charger *chg = dev_get_drvdata(dev);\n\tunsigned long val;\n\tint ret;\n\n\tret = kstrtoul(buf, 10, &val);\n\tif (ret)\n\t\treturn ret;\n\n\tret = max14577_set_fast_charge_timer(chg, val);\n\tif (ret)\n\t\treturn ret;\n\n\treturn count;\n}\n\nstatic DEVICE_ATTR(fast_charge_timer, S_IRUGO | S_IWUSR,\n\t\tshow_fast_charge_timer, store_fast_charge_timer);\n\nstatic int max14577_charger_probe(struct platform_device *pdev)\n{\n\tstruct max14577_charger *chg;\n\tstruct power_supply_config psy_cfg = {};\n\tstruct max14577 *max14577 = dev_get_drvdata(pdev->dev.parent);\n\tint ret;\n\n\tchg = devm_kzalloc(&pdev->dev, sizeof(*chg), GFP_KERNEL);\n\tif (!chg)\n\t\treturn -ENOMEM;\n\n\tplatform_set_drvdata(pdev, chg);\n\tchg->dev = &pdev->dev;\n\tchg->max14577 = max14577;\n\n\tchg->pdata = max14577_charger_dt_init(pdev);\n\tif (IS_ERR_OR_NULL(chg->pdata))\n\t\treturn PTR_ERR(chg->pdata);\n\n\tret = max14577_charger_reg_init(chg);\n\tif (ret)\n\t\treturn ret;\n\n\tret = device_create_file(&pdev->dev, &dev_attr_fast_charge_timer);\n\tif (ret) {\n\t\tdev_err(&pdev->dev, \"failed: create sysfs entry\\n\");\n\t\treturn ret;\n\t}\n\n\tpsy_cfg.drv_data = chg;\n\tchg->charger = power_supply_register(&pdev->dev, &max14577_charger_desc,\n\t\t\t\t\t\t&psy_cfg);\n\tif (IS_ERR(chg->charger)) {\n\t\tdev_err(&pdev->dev, \"failed: power supply register\\n\");\n\t\tret = PTR_ERR(chg->charger);\n\t\tgoto err;\n\t}\n\n\t \n\tBUILD_BUG_ON(MAX14577_CHARGER_EOC_CURRENT_LIMIT_MIN +\n\t\t\tMAX14577_CHARGER_EOC_CURRENT_LIMIT_STEP * 0xf !=\n\t\t\tMAX14577_CHARGER_EOC_CURRENT_LIMIT_MAX);\n\treturn 0;\n\nerr:\n\tdevice_remove_file(&pdev->dev, &dev_attr_fast_charge_timer);\n\n\treturn ret;\n}\n\nstatic int max14577_charger_remove(struct platform_device *pdev)\n{\n\tstruct max14577_charger *chg = platform_get_drvdata(pdev);\n\n\tdevice_remove_file(&pdev->dev, &dev_attr_fast_charge_timer);\n\tpower_supply_unregister(chg->charger);\n\n\treturn 0;\n}\n\nstatic const struct platform_device_id max14577_charger_id[] = {\n\t{ \"max14577-charger\", MAXIM_DEVICE_TYPE_MAX14577, },\n\t{ \"max77836-charger\", MAXIM_DEVICE_TYPE_MAX77836, },\n\t{ }\n};\nMODULE_DEVICE_TABLE(platform, max14577_charger_id);\n\nstatic const struct of_device_id of_max14577_charger_dt_match[] = {\n\t{ .compatible = \"maxim,max14577-charger\",\n\t  .data = (void *)MAXIM_DEVICE_TYPE_MAX14577, },\n\t{ .compatible = \"maxim,max77836-charger\",\n\t  .data = (void *)MAXIM_DEVICE_TYPE_MAX77836, },\n\t{ },\n};\nMODULE_DEVICE_TABLE(of, of_max14577_charger_dt_match);\n\nstatic struct platform_driver max14577_charger_driver = {\n\t.driver = {\n\t\t.name\t= \"max14577-charger\",\n\t\t.of_match_table = of_max14577_charger_dt_match,\n\t},\n\t.probe\t\t= max14577_charger_probe,\n\t.remove\t\t= max14577_charger_remove,\n\t.id_table\t= max14577_charger_id,\n};\nmodule_platform_driver(max14577_charger_driver);\n\nMODULE_AUTHOR(\"Krzysztof Kozlowski <krzk@kernel.org>\");\nMODULE_DESCRIPTION(\"Maxim 14577/77836 charger driver\");\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}