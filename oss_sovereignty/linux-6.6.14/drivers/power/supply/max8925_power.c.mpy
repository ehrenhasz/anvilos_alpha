{
  "module_name": "max8925_power.c",
  "hash_id": "8997adc4924c375662e3440fa3c3646ccdf3a42d321033768d6a4d2827a27d37",
  "original_prompt": "Ingested from linux-6.6.14/drivers/power/supply/max8925_power.c",
  "human_readable_source": "\n \n\n#include <linux/module.h>\n#include <linux/err.h>\n#include <linux/slab.h>\n#include <linux/of.h>\n#include <linux/i2c.h>\n#include <linux/interrupt.h>\n#include <linux/platform_device.h>\n#include <linux/power_supply.h>\n#include <linux/mfd/max8925.h>\n\n \n#define MAX8925_OUT5VEN\t\t\t0x54\n#define MAX8925_OUT3VEN\t\t\t0x58\n#define MAX8925_CHG_CNTL1\t\t0x7c\n\n \n#define MAX8925_CHG_STAT_VSYSLOW\t(1 << 0)\n#define MAX8925_CHG_STAT_MODE_MASK\t(3 << 2)\n#define MAX8925_CHG_STAT_EN_MASK\t(1 << 4)\n#define MAX8925_CHG_MBDET\t\t(1 << 1)\n#define MAX8925_CHG_AC_RANGE_MASK\t(3 << 6)\n\n \n#define MAX8925_ADC_RES_CNFG1\t\t0x06\n#define MAX8925_ADC_AVG_CNFG1\t\t0x07\n#define MAX8925_ADC_ACQ_CNFG1\t\t0x08\n#define MAX8925_ADC_ACQ_CNFG2\t\t0x09\n \n#define MAX8925_ADC_AUX2\t\t0x62\n#define MAX8925_ADC_VCHG\t\t0x64\n#define MAX8925_ADC_VBBATT\t\t0x66\n#define MAX8925_ADC_VMBATT\t\t0x68\n#define MAX8925_ADC_ISNS\t\t0x6a\n#define MAX8925_ADC_THM\t\t\t0x6c\n#define MAX8925_ADC_TDIE\t\t0x6e\n#define MAX8925_CMD_AUX2\t\t0xc8\n#define MAX8925_CMD_VCHG\t\t0xd0\n#define MAX8925_CMD_VBBATT\t\t0xd8\n#define MAX8925_CMD_VMBATT\t\t0xe0\n#define MAX8925_CMD_ISNS\t\t0xe8\n#define MAX8925_CMD_THM\t\t\t0xf0\n#define MAX8925_CMD_TDIE\t\t0xf8\n\nenum {\n\tMEASURE_AUX2,\n\tMEASURE_VCHG,\n\tMEASURE_VBBATT,\n\tMEASURE_VMBATT,\n\tMEASURE_ISNS,\n\tMEASURE_THM,\n\tMEASURE_TDIE,\n\tMEASURE_MAX,\n};\n\nstruct max8925_power_info {\n\tstruct max8925_chip\t*chip;\n\tstruct i2c_client\t*gpm;\n\tstruct i2c_client\t*adc;\n\n\tstruct power_supply\t*ac;\n\tstruct power_supply\t*usb;\n\tstruct power_supply\t*battery;\n\tint\t\t\tirq_base;\n\tunsigned\t\tac_online:1;\n\tunsigned\t\tusb_online:1;\n\tunsigned\t\tbat_online:1;\n\tunsigned\t\tchg_mode:2;\n\tunsigned\t\tbatt_detect:1;\t \n\tunsigned\t\ttopoff_threshold:2;\n\tunsigned\t\tfast_charge:3;\n\tunsigned\t\tno_temp_support:1;\n\tunsigned\t\tno_insert_detect:1;\n\n\tint (*set_charger) (int);\n};\n\nstatic int __set_charger(struct max8925_power_info *info, int enable)\n{\n\tstruct max8925_chip *chip = info->chip;\n\tif (enable) {\n\t\t \n\t\tif (info->set_charger)\n\t\t\tinfo->set_charger(1);\n\t\t \n\t\tmax8925_set_bits(info->gpm, MAX8925_CHG_CNTL1, 1 << 7, 0);\n\t} else {\n\t\t \n\t\tmax8925_set_bits(info->gpm, MAX8925_CHG_CNTL1, 1 << 7, 1 << 7);\n\t\tif (info->set_charger)\n\t\t\tinfo->set_charger(0);\n\t}\n\tdev_dbg(chip->dev, \"%s\\n\", (enable) ? \"Enable charger\"\n\t\t: \"Disable charger\");\n\treturn 0;\n}\n\nstatic irqreturn_t max8925_charger_handler(int irq, void *data)\n{\n\tstruct max8925_power_info *info = (struct max8925_power_info *)data;\n\tstruct max8925_chip *chip = info->chip;\n\n\tswitch (irq - chip->irq_base) {\n\tcase MAX8925_IRQ_VCHG_DC_R:\n\t\tinfo->ac_online = 1;\n\t\t__set_charger(info, 1);\n\t\tdev_dbg(chip->dev, \"Adapter inserted\\n\");\n\t\tbreak;\n\tcase MAX8925_IRQ_VCHG_DC_F:\n\t\tinfo->ac_online = 0;\n\t\t__set_charger(info, 0);\n\t\tdev_dbg(chip->dev, \"Adapter removed\\n\");\n\t\tbreak;\n\tcase MAX8925_IRQ_VCHG_THM_OK_F:\n\t\t \n\t\tdev_dbg(chip->dev, \"Battery temperature is out of range\\n\");\n\t\tfallthrough;\n\tcase MAX8925_IRQ_VCHG_DC_OVP:\n\t\tdev_dbg(chip->dev, \"Error detection\\n\");\n\t\t__set_charger(info, 0);\n\t\tbreak;\n\tcase MAX8925_IRQ_VCHG_THM_OK_R:\n\t\t \n\t\tdev_dbg(chip->dev, \"Battery temperature is in range\\n\");\n\t\tbreak;\n\tcase MAX8925_IRQ_VCHG_SYSLOW_R:\n\t\t \n\t\tdev_info(chip->dev, \"Sys power is too low\\n\");\n\t\tbreak;\n\tcase MAX8925_IRQ_VCHG_SYSLOW_F:\n\t\tdev_dbg(chip->dev, \"Sys power is above low threshold\\n\");\n\t\tbreak;\n\tcase MAX8925_IRQ_VCHG_DONE:\n\t\t__set_charger(info, 0);\n\t\tdev_dbg(chip->dev, \"Charging is done\\n\");\n\t\tbreak;\n\tcase MAX8925_IRQ_VCHG_TOPOFF:\n\t\tdev_dbg(chip->dev, \"Charging in top-off mode\\n\");\n\t\tbreak;\n\tcase MAX8925_IRQ_VCHG_TMR_FAULT:\n\t\t__set_charger(info, 0);\n\t\tdev_dbg(chip->dev, \"Safe timer is expired\\n\");\n\t\tbreak;\n\tcase MAX8925_IRQ_VCHG_RST:\n\t\t__set_charger(info, 0);\n\t\tdev_dbg(chip->dev, \"Charger is reset\\n\");\n\t\tbreak;\n\t}\n\treturn IRQ_HANDLED;\n}\n\nstatic int start_measure(struct max8925_power_info *info, int type)\n{\n\tunsigned char buf[2] = {0, 0};\n\tint meas_cmd;\n\tint meas_reg = 0, ret;\n\n\tswitch (type) {\n\tcase MEASURE_VCHG:\n\t\tmeas_cmd = MAX8925_CMD_VCHG;\n\t\tmeas_reg = MAX8925_ADC_VCHG;\n\t\tbreak;\n\tcase MEASURE_VBBATT:\n\t\tmeas_cmd = MAX8925_CMD_VBBATT;\n\t\tmeas_reg = MAX8925_ADC_VBBATT;\n\t\tbreak;\n\tcase MEASURE_VMBATT:\n\t\tmeas_cmd = MAX8925_CMD_VMBATT;\n\t\tmeas_reg = MAX8925_ADC_VMBATT;\n\t\tbreak;\n\tcase MEASURE_ISNS:\n\t\tmeas_cmd = MAX8925_CMD_ISNS;\n\t\tmeas_reg = MAX8925_ADC_ISNS;\n\t\tbreak;\n\tdefault:\n\t\treturn -EINVAL;\n\t}\n\n\tmax8925_reg_write(info->adc, meas_cmd, 0);\n\tmax8925_bulk_read(info->adc, meas_reg, 2, buf);\n\tret = ((buf[0]<<8) | buf[1]) >> 4;\n\n\treturn ret;\n}\n\nstatic int max8925_ac_get_prop(struct power_supply *psy,\n\t\t\t       enum power_supply_property psp,\n\t\t\t       union power_supply_propval *val)\n{\n\tstruct max8925_power_info *info = dev_get_drvdata(psy->dev.parent);\n\tint ret = 0;\n\n\tswitch (psp) {\n\tcase POWER_SUPPLY_PROP_ONLINE:\n\t\tval->intval = info->ac_online;\n\t\tbreak;\n\tcase POWER_SUPPLY_PROP_VOLTAGE_NOW:\n\t\tif (info->ac_online) {\n\t\t\tret = start_measure(info, MEASURE_VCHG);\n\t\t\tif (ret >= 0) {\n\t\t\t\tval->intval = ret * 2000;\t \n\t\t\t\tgoto out;\n\t\t\t}\n\t\t}\n\t\tret = -ENODATA;\n\t\tbreak;\n\tdefault:\n\t\tret = -ENODEV;\n\t\tbreak;\n\t}\nout:\n\treturn ret;\n}\n\nstatic enum power_supply_property max8925_ac_props[] = {\n\tPOWER_SUPPLY_PROP_ONLINE,\n\tPOWER_SUPPLY_PROP_VOLTAGE_NOW,\n};\n\nstatic int max8925_usb_get_prop(struct power_supply *psy,\n\t\t\t\tenum power_supply_property psp,\n\t\t\t\tunion power_supply_propval *val)\n{\n\tstruct max8925_power_info *info = dev_get_drvdata(psy->dev.parent);\n\tint ret = 0;\n\n\tswitch (psp) {\n\tcase POWER_SUPPLY_PROP_ONLINE:\n\t\tval->intval = info->usb_online;\n\t\tbreak;\n\tcase POWER_SUPPLY_PROP_VOLTAGE_NOW:\n\t\tif (info->usb_online) {\n\t\t\tret = start_measure(info, MEASURE_VCHG);\n\t\t\tif (ret >= 0) {\n\t\t\t\tval->intval = ret * 2000;\t \n\t\t\t\tgoto out;\n\t\t\t}\n\t\t}\n\t\tret = -ENODATA;\n\t\tbreak;\n\tdefault:\n\t\tret = -ENODEV;\n\t\tbreak;\n\t}\nout:\n\treturn ret;\n}\n\nstatic enum power_supply_property max8925_usb_props[] = {\n\tPOWER_SUPPLY_PROP_ONLINE,\n\tPOWER_SUPPLY_PROP_VOLTAGE_NOW,\n};\n\nstatic int max8925_bat_get_prop(struct power_supply *psy,\n\t\t\t\tenum power_supply_property psp,\n\t\t\t\tunion power_supply_propval *val)\n{\n\tstruct max8925_power_info *info = dev_get_drvdata(psy->dev.parent);\n\tint ret = 0;\n\n\tswitch (psp) {\n\tcase POWER_SUPPLY_PROP_ONLINE:\n\t\tval->intval = info->bat_online;\n\t\tbreak;\n\tcase POWER_SUPPLY_PROP_VOLTAGE_NOW:\n\t\tif (info->bat_online) {\n\t\t\tret = start_measure(info, MEASURE_VMBATT);\n\t\t\tif (ret >= 0) {\n\t\t\t\tval->intval = ret * 2000;\t \n\t\t\t\tret = 0;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tret = -ENODATA;\n\t\tbreak;\n\tcase POWER_SUPPLY_PROP_CURRENT_NOW:\n\t\tif (info->bat_online) {\n\t\t\tret = start_measure(info, MEASURE_ISNS);\n\t\t\tif (ret >= 0) {\n\t\t\t\t \n\t\t\t\tret = ((ret * 6250) - 3125)  ;\n\t\t\t\tval->intval = 0;\n\t\t\t\tif (ret > 0)\n\t\t\t\t\tval->intval = ret;  \n\t\t\t\tret = 0;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tret = -ENODATA;\n\t\tbreak;\n\tcase POWER_SUPPLY_PROP_CHARGE_TYPE:\n\t\tif (!info->bat_online) {\n\t\t\tret = -ENODATA;\n\t\t\tbreak;\n\t\t}\n\t\tret = max8925_reg_read(info->gpm, MAX8925_CHG_STATUS);\n\t\tret = (ret & MAX8925_CHG_STAT_MODE_MASK) >> 2;\n\t\tswitch (ret) {\n\t\tcase 1:\n\t\t\tval->intval = POWER_SUPPLY_CHARGE_TYPE_FAST;\n\t\t\tbreak;\n\t\tcase 0:\n\t\tcase 2:\n\t\t\tval->intval = POWER_SUPPLY_CHARGE_TYPE_TRICKLE;\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tval->intval = POWER_SUPPLY_CHARGE_TYPE_NONE;\n\t\t\tbreak;\n\t\t}\n\t\tret = 0;\n\t\tbreak;\n\tcase POWER_SUPPLY_PROP_STATUS:\n\t\tif (!info->bat_online) {\n\t\t\tret = -ENODATA;\n\t\t\tbreak;\n\t\t}\n\t\tret = max8925_reg_read(info->gpm, MAX8925_CHG_STATUS);\n\t\tif (info->usb_online || info->ac_online) {\n\t\t\tval->intval = POWER_SUPPLY_STATUS_NOT_CHARGING;\n\t\t\tif (ret & MAX8925_CHG_STAT_EN_MASK)\n\t\t\t\tval->intval = POWER_SUPPLY_STATUS_CHARGING;\n\t\t} else\n\t\t\tval->intval = POWER_SUPPLY_STATUS_DISCHARGING;\n\t\tret = 0;\n\t\tbreak;\n\tdefault:\n\t\tret = -ENODEV;\n\t\tbreak;\n\t}\n\treturn ret;\n}\n\nstatic enum power_supply_property max8925_battery_props[] = {\n\tPOWER_SUPPLY_PROP_ONLINE,\n\tPOWER_SUPPLY_PROP_VOLTAGE_NOW,\n\tPOWER_SUPPLY_PROP_CURRENT_NOW,\n\tPOWER_SUPPLY_PROP_CHARGE_TYPE,\n\tPOWER_SUPPLY_PROP_STATUS,\n};\n\nstatic const struct power_supply_desc ac_desc = {\n\t.name\t\t= \"max8925-ac\",\n\t.type\t\t= POWER_SUPPLY_TYPE_MAINS,\n\t.properties\t= max8925_ac_props,\n\t.num_properties\t= ARRAY_SIZE(max8925_ac_props),\n\t.get_property\t= max8925_ac_get_prop,\n};\n\nstatic const struct power_supply_desc usb_desc = {\n\t.name\t\t= \"max8925-usb\",\n\t.type\t\t= POWER_SUPPLY_TYPE_USB,\n\t.properties\t= max8925_usb_props,\n\t.num_properties\t= ARRAY_SIZE(max8925_usb_props),\n\t.get_property\t= max8925_usb_get_prop,\n};\n\nstatic const struct power_supply_desc battery_desc = {\n\t.name\t\t= \"max8925-battery\",\n\t.type\t\t= POWER_SUPPLY_TYPE_BATTERY,\n\t.properties\t= max8925_battery_props,\n\t.num_properties\t= ARRAY_SIZE(max8925_battery_props),\n\t.get_property\t= max8925_bat_get_prop,\n};\n\n#define REQUEST_IRQ(_irq, _name)\t\t\t\t\t\\\ndo {\t\t\t\t\t\t\t\t\t\\\n\tret = request_threaded_irq(chip->irq_base + _irq, NULL,\t\t\\\n\t\t\t\t    max8925_charger_handler,\t\t\\\n\t\t\t\t    IRQF_ONESHOT, _name, info);\t\t\\\n\tif (ret)\t\t\t\t\t\t\t\\\n\t\tdev_err(chip->dev, \"Failed to request IRQ #%d: %d\\n\",\t\\\n\t\t\t_irq, ret);\t\t\t\t\t\\\n} while (0)\n\nstatic int max8925_init_charger(struct max8925_chip *chip,\n\t\t\t\t\t  struct max8925_power_info *info)\n{\n\tint ret;\n\n\tREQUEST_IRQ(MAX8925_IRQ_VCHG_DC_OVP, \"ac-ovp\");\n\tif (!info->no_insert_detect) {\n\t\tREQUEST_IRQ(MAX8925_IRQ_VCHG_DC_F, \"ac-remove\");\n\t\tREQUEST_IRQ(MAX8925_IRQ_VCHG_DC_R, \"ac-insert\");\n\t}\n\tif (!info->no_temp_support) {\n\t\tREQUEST_IRQ(MAX8925_IRQ_VCHG_THM_OK_R, \"batt-temp-in-range\");\n\t\tREQUEST_IRQ(MAX8925_IRQ_VCHG_THM_OK_F, \"batt-temp-out-range\");\n\t}\n\tREQUEST_IRQ(MAX8925_IRQ_VCHG_SYSLOW_F, \"vsys-high\");\n\tREQUEST_IRQ(MAX8925_IRQ_VCHG_SYSLOW_R, \"vsys-low\");\n\tREQUEST_IRQ(MAX8925_IRQ_VCHG_RST, \"charger-reset\");\n\tREQUEST_IRQ(MAX8925_IRQ_VCHG_DONE, \"charger-done\");\n\tREQUEST_IRQ(MAX8925_IRQ_VCHG_TOPOFF, \"charger-topoff\");\n\tREQUEST_IRQ(MAX8925_IRQ_VCHG_TMR_FAULT, \"charger-timer-expire\");\n\n\tinfo->usb_online = 0;\n\tinfo->bat_online = 0;\n\n\t \n\tif (start_measure(info, MEASURE_VCHG) * 2000 > 500000)\n\t\tinfo->ac_online = 1;\n\telse\n\t\tinfo->ac_online = 0;\n\n\tret = max8925_reg_read(info->gpm, MAX8925_CHG_STATUS);\n\tif (ret >= 0) {\n\t\t \n\t\tif (info->batt_detect)\n\t\t\tinfo->bat_online = (ret & MAX8925_CHG_MBDET) ? 0 : 1;\n\t\telse\n\t\t\tinfo->bat_online = 1;\n\t\tif (ret & MAX8925_CHG_AC_RANGE_MASK)\n\t\t\tinfo->ac_online = 1;\n\t\telse\n\t\t\tinfo->ac_online = 0;\n\t}\n\t \n\tmax8925_set_bits(info->gpm, MAX8925_CHG_CNTL1, 1 << 7, 1 << 7);\n\t \n\tmax8925_set_bits(info->gpm, MAX8925_CHG_CNTL1, 3 << 5,\n\t\t\t info->topoff_threshold << 5);\n\t \n\tmax8925_set_bits(info->gpm, MAX8925_CHG_CNTL1, 7, info->fast_charge);\n\n\treturn 0;\n}\n\nstatic int max8925_deinit_charger(struct max8925_power_info *info)\n{\n\tstruct max8925_chip *chip = info->chip;\n\tint irq;\n\n\tirq = chip->irq_base + MAX8925_IRQ_VCHG_DC_OVP;\n\tfor (; irq <= chip->irq_base + MAX8925_IRQ_VCHG_TMR_FAULT; irq++)\n\t\tfree_irq(irq, info);\n\n\treturn 0;\n}\n\n#ifdef CONFIG_OF\nstatic struct max8925_power_pdata *\nmax8925_power_dt_init(struct platform_device *pdev)\n{\n\tstruct device_node *nproot = pdev->dev.parent->of_node;\n\tstruct device_node *np;\n\tint batt_detect;\n\tint topoff_threshold;\n\tint fast_charge;\n\tint no_temp_support;\n\tint no_insert_detect;\n\tstruct max8925_power_pdata *pdata;\n\n\tif (!nproot)\n\t\treturn pdev->dev.platform_data;\n\n\tnp = of_get_child_by_name(nproot, \"charger\");\n\tif (!np) {\n\t\tdev_err(&pdev->dev, \"failed to find charger node\\n\");\n\t\treturn NULL;\n\t}\n\n\tpdata = devm_kzalloc(&pdev->dev,\n\t\t\tsizeof(struct max8925_power_pdata),\n\t\t\tGFP_KERNEL);\n\tif (!pdata)\n\t\tgoto ret;\n\n\tof_property_read_u32(np, \"topoff-threshold\", &topoff_threshold);\n\tof_property_read_u32(np, \"batt-detect\", &batt_detect);\n\tof_property_read_u32(np, \"fast-charge\", &fast_charge);\n\tof_property_read_u32(np, \"no-insert-detect\", &no_insert_detect);\n\tof_property_read_u32(np, \"no-temp-support\", &no_temp_support);\n\n\tpdata->batt_detect = batt_detect;\n\tpdata->fast_charge = fast_charge;\n\tpdata->topoff_threshold = topoff_threshold;\n\tpdata->no_insert_detect = no_insert_detect;\n\tpdata->no_temp_support = no_temp_support;\n\nret:\n\tof_node_put(np);\n\treturn pdata;\n}\n#else\nstatic struct max8925_power_pdata *\nmax8925_power_dt_init(struct platform_device *pdev)\n{\n\treturn pdev->dev.platform_data;\n}\n#endif\n\nstatic int max8925_power_probe(struct platform_device *pdev)\n{\n\tstruct max8925_chip *chip = dev_get_drvdata(pdev->dev.parent);\n\tstruct power_supply_config psy_cfg = {};  \n\tstruct max8925_power_pdata *pdata = NULL;\n\tstruct max8925_power_info *info;\n\tint ret;\n\n\tpdata = max8925_power_dt_init(pdev);\n\tif (!pdata) {\n\t\tdev_err(&pdev->dev, \"platform data isn't assigned to \"\n\t\t\t\"power supply\\n\");\n\t\treturn -EINVAL;\n\t}\n\n\tinfo = devm_kzalloc(&pdev->dev, sizeof(struct max8925_power_info),\n\t\t\t\tGFP_KERNEL);\n\tif (!info)\n\t\treturn -ENOMEM;\n\tinfo->chip = chip;\n\tinfo->gpm = chip->i2c;\n\tinfo->adc = chip->adc;\n\tplatform_set_drvdata(pdev, info);\n\n\tpsy_cfg.supplied_to = pdata->supplied_to;\n\tpsy_cfg.num_supplicants = pdata->num_supplicants;\n\n\tinfo->ac = power_supply_register(&pdev->dev, &ac_desc, &psy_cfg);\n\tif (IS_ERR(info->ac)) {\n\t\tret = PTR_ERR(info->ac);\n\t\tgoto out;\n\t}\n\tinfo->ac->dev.parent = &pdev->dev;\n\n\tinfo->usb = power_supply_register(&pdev->dev, &usb_desc, &psy_cfg);\n\tif (IS_ERR(info->usb)) {\n\t\tret = PTR_ERR(info->usb);\n\t\tgoto out_unregister_ac;\n\t}\n\tinfo->usb->dev.parent = &pdev->dev;\n\n\tinfo->battery = power_supply_register(&pdev->dev, &battery_desc, NULL);\n\tif (IS_ERR(info->battery)) {\n\t\tret = PTR_ERR(info->battery);\n\t\tgoto out_unregister_usb;\n\t}\n\tinfo->battery->dev.parent = &pdev->dev;\n\n\tinfo->batt_detect = pdata->batt_detect;\n\tinfo->topoff_threshold = pdata->topoff_threshold;\n\tinfo->fast_charge = pdata->fast_charge;\n\tinfo->set_charger = pdata->set_charger;\n\tinfo->no_temp_support = pdata->no_temp_support;\n\tinfo->no_insert_detect = pdata->no_insert_detect;\n\n\tmax8925_init_charger(chip, info);\n\treturn 0;\nout_unregister_usb:\n\tpower_supply_unregister(info->usb);\nout_unregister_ac:\n\tpower_supply_unregister(info->ac);\nout:\n\treturn ret;\n}\n\nstatic int max8925_power_remove(struct platform_device *pdev)\n{\n\tstruct max8925_power_info *info = platform_get_drvdata(pdev);\n\n\tif (info) {\n\t\tpower_supply_unregister(info->ac);\n\t\tpower_supply_unregister(info->usb);\n\t\tpower_supply_unregister(info->battery);\n\t\tmax8925_deinit_charger(info);\n\t}\n\treturn 0;\n}\n\nstatic struct platform_driver max8925_power_driver = {\n\t.probe\t= max8925_power_probe,\n\t.remove\t= max8925_power_remove,\n\t.driver\t= {\n\t\t.name\t= \"max8925-power\",\n\t},\n};\n\nmodule_platform_driver(max8925_power_driver);\n\nMODULE_LICENSE(\"GPL\");\nMODULE_DESCRIPTION(\"Power supply driver for MAX8925\");\nMODULE_ALIAS(\"platform:max8925-power\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}