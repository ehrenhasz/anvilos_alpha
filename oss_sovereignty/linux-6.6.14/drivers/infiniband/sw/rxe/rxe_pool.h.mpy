{
  "module_name": "rxe_pool.h",
  "hash_id": "588f1250bee2dae09da07e14b86e0358839f48b47ef27c9d6eee58fc1faf7af2",
  "original_prompt": "Ingested from linux-6.6.14/drivers/infiniband/sw/rxe/rxe_pool.h",
  "human_readable_source": " \n \n\n#ifndef RXE_POOL_H\n#define RXE_POOL_H\n\nenum rxe_elem_type {\n\tRXE_TYPE_UC,\n\tRXE_TYPE_PD,\n\tRXE_TYPE_AH,\n\tRXE_TYPE_SRQ,\n\tRXE_TYPE_QP,\n\tRXE_TYPE_CQ,\n\tRXE_TYPE_MR,\n\tRXE_TYPE_MW,\n\tRXE_NUM_TYPES,\t\t \n};\n\nstruct rxe_pool_elem {\n\tstruct rxe_pool\t\t*pool;\n\tvoid\t\t\t*obj;\n\tstruct kref\t\tref_cnt;\n\tstruct list_head\tlist;\n\tstruct completion\tcomplete;\n\tu32\t\t\tindex;\n};\n\nstruct rxe_pool {\n\tstruct rxe_dev\t\t*rxe;\n\tconst char\t\t*name;\n\tvoid\t\t\t(*cleanup)(struct rxe_pool_elem *elem);\n\tenum rxe_elem_type\ttype;\n\n\tunsigned int\t\tmax_elem;\n\tatomic_t\t\tnum_elem;\n\tsize_t\t\t\telem_size;\n\tsize_t\t\t\telem_offset;\n\n\tstruct xarray\t\txa;\n\tstruct xa_limit\t\tlimit;\n\tu32\t\t\tnext;\n};\n\n \nvoid rxe_pool_init(struct rxe_dev *rxe, struct rxe_pool *pool,\n\t\t  enum rxe_elem_type type);\n\n \nvoid rxe_pool_cleanup(struct rxe_pool *pool);\n\n \nint __rxe_add_to_pool(struct rxe_pool *pool, struct rxe_pool_elem *elem,\n\t\t\t\tbool sleepable);\n#define rxe_add_to_pool(pool, obj) __rxe_add_to_pool(pool, &(obj)->elem, true)\n#define rxe_add_to_pool_ah(pool, obj, sleepable) __rxe_add_to_pool(pool, \\\n\t\t\t\t&(obj)->elem, sleepable)\n\n \nvoid *rxe_pool_get_index(struct rxe_pool *pool, u32 index);\n\nint __rxe_get(struct rxe_pool_elem *elem);\n#define rxe_get(obj) __rxe_get(&(obj)->elem)\n\nint __rxe_put(struct rxe_pool_elem *elem);\n#define rxe_put(obj) __rxe_put(&(obj)->elem)\n\nint __rxe_cleanup(struct rxe_pool_elem *elem, bool sleepable);\n#define rxe_cleanup(obj) __rxe_cleanup(&(obj)->elem, true)\n#define rxe_cleanup_ah(obj, sleepable) __rxe_cleanup(&(obj)->elem, sleepable)\n\n#define rxe_read(obj) kref_read(&(obj)->elem.ref_cnt)\n\nvoid __rxe_finalize(struct rxe_pool_elem *elem);\n#define rxe_finalize(obj) __rxe_finalize(&(obj)->elem)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}