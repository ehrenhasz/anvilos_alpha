{
  "module_name": "rxe_hw_counters.c",
  "hash_id": "db8858153c9b7dab08361ba1da57f71cd1659bbcbb52d32148a653fc3e78cc8f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/infiniband/sw/rxe/rxe_hw_counters.c",
  "human_readable_source": "\n \n\n#include \"rxe.h\"\n#include \"rxe_hw_counters.h\"\n\nstatic const struct rdma_stat_desc rxe_counter_descs[] = {\n\t[RXE_CNT_SENT_PKTS].name           =  \"sent_pkts\",\n\t[RXE_CNT_RCVD_PKTS].name           =  \"rcvd_pkts\",\n\t[RXE_CNT_DUP_REQ].name             =  \"duplicate_request\",\n\t[RXE_CNT_OUT_OF_SEQ_REQ].name      =  \"out_of_seq_request\",\n\t[RXE_CNT_RCV_RNR].name             =  \"rcvd_rnr_err\",\n\t[RXE_CNT_SND_RNR].name             =  \"send_rnr_err\",\n\t[RXE_CNT_RCV_SEQ_ERR].name         =  \"rcvd_seq_err\",\n\t[RXE_CNT_COMPLETER_SCHED].name     =  \"ack_deferred\",\n\t[RXE_CNT_RETRY_EXCEEDED].name      =  \"retry_exceeded_err\",\n\t[RXE_CNT_RNR_RETRY_EXCEEDED].name  =  \"retry_rnr_exceeded_err\",\n\t[RXE_CNT_COMP_RETRY].name          =  \"completer_retry_err\",\n\t[RXE_CNT_SEND_ERR].name            =  \"send_err\",\n\t[RXE_CNT_LINK_DOWNED].name         =  \"link_downed\",\n\t[RXE_CNT_RDMA_SEND].name           =  \"rdma_sends\",\n\t[RXE_CNT_RDMA_RECV].name           =  \"rdma_recvs\",\n};\n\nint rxe_ib_get_hw_stats(struct ib_device *ibdev,\n\t\t\tstruct rdma_hw_stats *stats,\n\t\t\tu32 port, int index)\n{\n\tstruct rxe_dev *dev = to_rdev(ibdev);\n\tunsigned int cnt;\n\n\tif (!port || !stats)\n\t\treturn -EINVAL;\n\n\tfor (cnt = 0; cnt < ARRAY_SIZE(rxe_counter_descs); cnt++)\n\t\tstats->value[cnt] = atomic64_read(&dev->stats_counters[cnt]);\n\n\treturn ARRAY_SIZE(rxe_counter_descs);\n}\n\nstruct rdma_hw_stats *rxe_ib_alloc_hw_port_stats(struct ib_device *ibdev,\n\t\t\t\t\t\t u32 port_num)\n{\n\tBUILD_BUG_ON(ARRAY_SIZE(rxe_counter_descs) != RXE_NUM_OF_COUNTERS);\n\n\treturn rdma_alloc_hw_stats_struct(rxe_counter_descs,\n\t\t\t\t\t  ARRAY_SIZE(rxe_counter_descs),\n\t\t\t\t\t  RDMA_HW_STATS_DEFAULT_LIFESPAN);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}