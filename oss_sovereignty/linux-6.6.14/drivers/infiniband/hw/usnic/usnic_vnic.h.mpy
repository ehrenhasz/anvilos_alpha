{
  "module_name": "usnic_vnic.h",
  "hash_id": "8520b743364ff83d51c9c192072f9e8635c835c51385e9325291448f55d8bb09",
  "original_prompt": "Ingested from linux-6.6.14/drivers/infiniband/hw/usnic/usnic_vnic.h",
  "human_readable_source": " \n\n#ifndef USNIC_VNIC_H_\n#define USNIC_VNIC_H_\n\n#include <linux/pci.h>\n\n#include \"vnic_dev.h\"\n\n \n#define USNIC_VNIC_RES_TYPES \\\n\tDEFINE_USNIC_VNIC_RES_AT(EOL, RES_TYPE_EOL, \"EOL\", 0) \\\n\tDEFINE_USNIC_VNIC_RES(WQ, RES_TYPE_WQ, \"WQ\") \\\n\tDEFINE_USNIC_VNIC_RES(RQ, RES_TYPE_RQ, \"RQ\") \\\n\tDEFINE_USNIC_VNIC_RES(CQ, RES_TYPE_CQ, \"CQ\") \\\n\tDEFINE_USNIC_VNIC_RES(INTR, RES_TYPE_INTR_CTRL, \"INT\") \\\n\tDEFINE_USNIC_VNIC_RES(MAX, RES_TYPE_MAX, \"MAX\")\\\n\n#define DEFINE_USNIC_VNIC_RES_AT(usnic_vnic_res_t, vnic_res_type, desc, val) \\\n\tUSNIC_VNIC_RES_TYPE_##usnic_vnic_res_t = val,\n#define DEFINE_USNIC_VNIC_RES(usnic_vnic_res_t, vnic_res_type, desc) \\\n\tUSNIC_VNIC_RES_TYPE_##usnic_vnic_res_t,\nenum usnic_vnic_res_type {\n\tUSNIC_VNIC_RES_TYPES\n};\n#undef DEFINE_USNIC_VNIC_RES\n#undef DEFINE_USNIC_VNIC_RES_AT\n\nstruct usnic_vnic_res {\n\tenum usnic_vnic_res_type\ttype;\n\tunsigned int\t\t\tvnic_idx;\n\tstruct usnic_vnic\t\t*vnic;\n\tvoid __iomem\t\t\t*ctrl;\n\tvoid\t\t\t\t*owner;\n};\n\nstruct usnic_vnic_res_chunk {\n\tenum usnic_vnic_res_type\ttype;\n\tint\t\t\t\tcnt;\n\tint\t\t\t\tfree_cnt;\n\tstruct usnic_vnic_res\t\t**res;\n\tstruct usnic_vnic\t\t*vnic;\n};\n\nstruct usnic_vnic_res_desc {\n\tenum usnic_vnic_res_type\ttype;\n\tuint16_t\t\t\tcnt;\n};\n\nstruct usnic_vnic_res_spec {\n\tstruct usnic_vnic_res_desc resources[USNIC_VNIC_RES_TYPE_MAX];\n};\n\nconst char *usnic_vnic_res_type_to_str(enum usnic_vnic_res_type res_type);\nconst char *usnic_vnic_pci_name(struct usnic_vnic *vnic);\nint usnic_vnic_dump(struct usnic_vnic *vnic, char *buf, int buf_sz,\n\t\t\tvoid *hdr_obj,\n\t\t\tint (*printtitle)(void *, char*, int),\n\t\t\tint (*printcols)(char *, int),\n\t\t\tint (*printrow)(void *, char *, int));\nvoid usnic_vnic_res_spec_update(struct usnic_vnic_res_spec *spec,\n\t\t\t\tenum usnic_vnic_res_type trgt_type,\n\t\t\t\tu16 cnt);\nint usnic_vnic_res_spec_satisfied(const struct usnic_vnic_res_spec *min_spec,\n\t\t\t\t\tstruct usnic_vnic_res_spec *res_spec);\nint usnic_vnic_spec_dump(char *buf, int buf_sz,\n\t\t\t\tstruct usnic_vnic_res_spec *res_spec);\nint usnic_vnic_check_room(struct usnic_vnic *vnic,\n\t\t\t\tstruct usnic_vnic_res_spec *res_spec);\nint usnic_vnic_res_cnt(struct usnic_vnic *vnic,\n\t\t\t\tenum usnic_vnic_res_type type);\nint usnic_vnic_res_free_cnt(struct usnic_vnic *vnic,\n\t\t\t\tenum usnic_vnic_res_type type);\nstruct usnic_vnic_res_chunk *\nusnic_vnic_get_resources(struct usnic_vnic *vnic,\n\t\t\t\tenum usnic_vnic_res_type type,\n\t\t\t\tint cnt,\n\t\t\t\tvoid *owner);\nvoid usnic_vnic_put_resources(struct usnic_vnic_res_chunk *chunk);\nstruct pci_dev *usnic_vnic_get_pdev(struct usnic_vnic *vnic);\nstruct vnic_dev_bar *usnic_vnic_get_bar(struct usnic_vnic *vnic,\n\t\t\t\tint bar_num);\nstruct usnic_vnic *usnic_vnic_alloc(struct pci_dev *pdev);\nvoid usnic_vnic_free(struct usnic_vnic *vnic);\nu16 usnic_vnic_get_index(struct usnic_vnic *vnic);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}