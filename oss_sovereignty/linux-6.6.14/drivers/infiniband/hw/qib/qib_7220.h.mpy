{
  "module_name": "qib_7220.h",
  "hash_id": "d28ff7d5443b7ae17e9e05d13cfa5e07f25442b5a6b9f5f32e2b4b5f91aa0aa0",
  "original_prompt": "Ingested from linux-6.6.14/drivers/infiniband/hw/qib/qib_7220.h",
  "human_readable_source": "#ifndef _QIB_7220_H\n#define _QIB_7220_H\n \n\n \n#include \"qib_7220_regs.h\"\n\n \n#define IBA7220_KRCVEGRCNT      2048U\n\n#define IB_7220_LT_STATE_CFGRCVFCFG      0x09\n#define IB_7220_LT_STATE_CFGWAITRMT      0x0a\n#define IB_7220_LT_STATE_TXREVLANES      0x0d\n#define IB_7220_LT_STATE_CFGENH          0x10\n\nstruct qib_chip_specific {\n\tu64 __iomem *cregbase;\n\tu64 *cntrs;\n\tu64 *portcntrs;\n\tspinlock_t sdepb_lock;  \n\tspinlock_t rcvmod_lock;  \n\tspinlock_t gpio_lock;  \n\tu64 hwerrmask;\n\tu64 errormask;\n\tu64 gpio_out;  \n\tu64 gpio_mask;  \n\tu64 extctrl;  \n\tu32 ncntrs;\n\tu32 nportcntrs;\n\tu32 cntrnamelen;\n\tu32 portcntrnamelen;\n\tu32 numctxts;\n\tu32 rcvegrcnt;\n\tu32 autoneg_tries;\n\tu32 serdes_first_init_done;\n\tu32 sdmabufcnt;\n\tu32 lastbuf_for_pio;\n\tu32 updthresh;  \n\tu32 updthresh_dflt;  \n\tu8 presets_needed;\n\tu8 relock_timer_active;\n\tchar emsgbuf[128];\n\tchar sdmamsgbuf[192];\n\tchar bitsmsgbuf[64];\n\tstruct timer_list relock_timer;\n\tunsigned int relock_interval;  \n\tstruct qib_devdata *dd;\n};\n\nstruct qib_chippport_specific {\n\tstruct qib_pportdata pportdata;\n\twait_queue_head_t autoneg_wait;\n\tstruct delayed_work autoneg_work;\n\tstruct timer_list chase_timer;\n\t \n\tu64 ibdeltainprog;\n\tu64 ibsymdelta;\n\tu64 ibsymsnap;\n\tu64 iblnkerrdelta;\n\tu64 iblnkerrsnap;\n\tu64 ibcctrl;  \n\tu64 ibcddrctrl;  \n\tunsigned long chase_end;\n\tu32 last_delay_mult;\n};\n\n \nint qib_sd7220_presets(struct qib_devdata *dd);\nint qib_sd7220_init(struct qib_devdata *dd);\nvoid qib_sd7220_clr_ibpar(struct qib_devdata *);\n \n#define IB_7220_SERDES 2\n\nstatic inline u32 qib_read_kreg32(const struct qib_devdata *dd,\n\t\t\t\t  const u16 regno)\n{\n\tif (!dd->kregbase || !(dd->flags & QIB_PRESENT))\n\t\treturn -1;\n\treturn readl((u32 __iomem *)&dd->kregbase[regno]);\n}\n\nstatic inline u64 qib_read_kreg64(const struct qib_devdata *dd,\n\t\t\t\t  const u16 regno)\n{\n\tif (!dd->kregbase || !(dd->flags & QIB_PRESENT))\n\t\treturn -1;\n\n\treturn readq(&dd->kregbase[regno]);\n}\n\nstatic inline void qib_write_kreg(const struct qib_devdata *dd,\n\t\t\t\t  const u16 regno, u64 value)\n{\n\tif (dd->kregbase)\n\t\twriteq(value, &dd->kregbase[regno]);\n}\n\nvoid set_7220_relock_poll(struct qib_devdata *, int);\nvoid shutdown_7220_relock_poll(struct qib_devdata *);\nvoid toggle_7220_rclkrls(struct qib_devdata *);\n\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}