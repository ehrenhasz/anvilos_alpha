{
  "module_name": "qplib_sp.h",
  "hash_id": "acff03bdcee4b8c55b4a340ba8d93ed70e98bc7facfc01a3d50ecc4f6f4eb4b2",
  "original_prompt": "Ingested from linux-6.6.14/drivers/infiniband/hw/bnxt_re/qplib_sp.h",
  "human_readable_source": " \n\n#ifndef __BNXT_QPLIB_SP_H__\n#define __BNXT_QPLIB_SP_H__\n\n#define BNXT_QPLIB_RESERVED_QP_WRS\t128\n\nstruct bnxt_qplib_dev_attr {\n#define FW_VER_ARR_LEN\t\t\t4\n\tu8\t\t\t\tfw_ver[FW_VER_ARR_LEN];\n#define BNXT_QPLIB_NUM_GIDS_SUPPORTED\t256\n\tu16\t\t\t\tmax_sgid;\n\tu16\t\t\t\tmax_mrw;\n\tu32\t\t\t\tmax_qp;\n#define BNXT_QPLIB_MAX_OUT_RD_ATOM\t126\n\tu32\t\t\t\tmax_qp_rd_atom;\n\tu32\t\t\t\tmax_qp_init_rd_atom;\n\tu32\t\t\t\tmax_qp_wqes;\n\tu32\t\t\t\tmax_qp_sges;\n\tu32\t\t\t\tmax_cq;\n\tu32\t\t\t\tmax_cq_wqes;\n\tu32\t\t\t\tmax_cq_sges;\n\tu32\t\t\t\tmax_mr;\n\tu64\t\t\t\tmax_mr_size;\n\tu32\t\t\t\tmax_pd;\n\tu32\t\t\t\tmax_mw;\n\tu32\t\t\t\tmax_raw_ethy_qp;\n\tu32\t\t\t\tmax_ah;\n\tu32\t\t\t\tmax_srq;\n\tu32\t\t\t\tmax_srq_wqes;\n\tu32\t\t\t\tmax_srq_sges;\n\tu32\t\t\t\tmax_pkey;\n\tu32\t\t\t\tmax_inline_data;\n\tu32\t\t\t\tl2_db_size;\n\tu8\t\t\t\ttqm_alloc_reqs[MAX_TQM_ALLOC_REQ];\n\tbool\t\t\t\tis_atomic;\n\tu16                             dev_cap_flags;\n\tu32                             max_dpi;\n};\n\nstruct bnxt_qplib_pd {\n\tu32\t\t\t\tid;\n};\n\nstruct bnxt_qplib_gid {\n\tu8\t\t\t\tdata[16];\n};\n\nstruct bnxt_qplib_gid_info {\n\tstruct bnxt_qplib_gid gid;\n\tu16 vlan_id;\n};\n\nstruct bnxt_qplib_ah {\n\tstruct bnxt_qplib_gid\t\tdgid;\n\tstruct bnxt_qplib_pd\t\t*pd;\n\tu32\t\t\t\tid;\n\tu8\t\t\t\tsgid_index;\n\t \n\tu8\t\t\t\thost_sgid_index;\n\tu8\t\t\t\ttraffic_class;\n\tu32\t\t\t\tflow_label;\n\tu8\t\t\t\thop_limit;\n\tu8\t\t\t\tsl;\n\tu8\t\t\t\tdmac[6];\n\tu16\t\t\t\tvlan_id;\n\tu8\t\t\t\tnw_type;\n};\n\nstruct bnxt_qplib_mrw {\n\tstruct bnxt_qplib_pd\t\t*pd;\n\tint\t\t\t\ttype;\n\tu32\t\t\t\tflags;\n#define BNXT_QPLIB_FR_PMR\t\t0x80000000\n\tu32\t\t\t\tlkey;\n\tu32\t\t\t\trkey;\n#define BNXT_QPLIB_RSVD_LKEY\t\t0xFFFFFFFF\n\tu64\t\t\t\tva;\n\tu64\t\t\t\ttotal_size;\n\tu32\t\t\t\tnpages;\n\tu64\t\t\t\tmr_handle;\n\tstruct bnxt_qplib_hwq\t\thwq;\n};\n\nstruct bnxt_qplib_frpl {\n\tint\t\t\t\tmax_pg_ptrs;\n\tstruct bnxt_qplib_hwq\t\thwq;\n};\n\n#define BNXT_QPLIB_ACCESS_LOCAL_WRITE\tBIT(0)\n#define BNXT_QPLIB_ACCESS_REMOTE_READ\tBIT(1)\n#define BNXT_QPLIB_ACCESS_REMOTE_WRITE\tBIT(2)\n#define BNXT_QPLIB_ACCESS_REMOTE_ATOMIC\tBIT(3)\n#define BNXT_QPLIB_ACCESS_MW_BIND\tBIT(4)\n#define BNXT_QPLIB_ACCESS_ZERO_BASED\tBIT(5)\n#define BNXT_QPLIB_ACCESS_ON_DEMAND\tBIT(6)\n\nstruct bnxt_qplib_roce_stats {\n\tu64 to_retransmits;\n\tu64 seq_err_naks_rcvd;\n\t \n\tu64 max_retry_exceeded;\n\t \n\tu64 rnr_naks_rcvd;\n\t \n\tu64 missing_resp;\n\tu64 unrecoverable_err;\n\t \n\tu64 bad_resp_err;\n\t \n\tu64 local_qp_op_err;\n\t \n\tu64 local_protection_err;\n\t \n\tu64 mem_mgmt_op_err;\n\t \n\tu64 remote_invalid_req_err;\n\t \n\tu64 remote_access_err;\n\t \n\tu64 remote_op_err;\n\t \n\tu64 dup_req;\n\t \n\tu64 res_exceed_max;\n\t \n\tu64 res_length_mismatch;\n\t \n\tu64 res_exceeds_wqe;\n\t \n\tu64 res_opcode_err;\n\t \n\tu64 res_rx_invalid_rkey;\n\t \n\tu64 res_rx_domain_err;\n\t \n\tu64 res_rx_no_perm;\n\t \n\tu64 res_rx_range_err;\n\t \n\tu64 res_tx_invalid_rkey;\n\t \n\tu64 res_tx_domain_err;\n\t \n\tu64 res_tx_no_perm;\n\t \n\tu64 res_tx_range_err;\n\t \n\tu64 res_irrq_oflow;\n\t \n\tu64 res_unsup_opcode;\n\t \n\tu64 res_unaligned_atomic;\n\t \n\tu64 res_rem_inv_err;\n\t \n\tu64 res_mem_error;\n\t \n\tu64 res_srq_err;\n\t \n\tu64 res_cmp_err;\n\t \n\tu64 res_invalid_dup_rkey;\n\t \n\tu64 res_wqe_format_err;\n\t \n\tu64 res_cq_load_err;\n\t \n\tu64 res_srq_load_err;\n\t \n\tu64 res_tx_pci_err;\n\t \n\tu64 res_rx_pci_err;\n\t \n\tu64 res_oos_drop_count;\n\t \n\tu64     active_qp_count_p0;\n\t \n\tu64     active_qp_count_p1;\n\t \n\tu64     active_qp_count_p2;\n\t \n\tu64     active_qp_count_p3;\n\t \n};\n\nstruct bnxt_qplib_ext_stat {\n\tu64  tx_atomic_req;\n\tu64  tx_read_req;\n\tu64  tx_read_res;\n\tu64  tx_write_req;\n\tu64  tx_send_req;\n\tu64  tx_roce_pkts;\n\tu64  tx_roce_bytes;\n\tu64  rx_atomic_req;\n\tu64  rx_read_req;\n\tu64  rx_read_res;\n\tu64  rx_write_req;\n\tu64  rx_send_req;\n\tu64  rx_roce_pkts;\n\tu64  rx_roce_bytes;\n\tu64  rx_roce_good_pkts;\n\tu64  rx_roce_good_bytes;\n\tu64  rx_out_of_buffer;\n\tu64  rx_out_of_sequence;\n\tu64  tx_cnp;\n\tu64  rx_cnp;\n\tu64  rx_ecn_marked;\n};\n\nstruct bnxt_qplib_cc_param_ext {\n\tu64 ext_mask;\n\tu16 inact_th_hi;\n\tu16 min_delta_cnp;\n\tu16 init_cp;\n\tu8 tr_update_mode;\n\tu8 tr_update_cyls;\n\tu8 fr_rtt;\n\tu8 ai_rate_incr;\n\tu16 rr_rtt_th;\n\tu16 ar_cr_th;\n\tu16 cr_min_th;\n\tu8 bw_avg_weight;\n\tu8 cr_factor;\n\tu16 cr_th_max_cp;\n\tu8 cp_bias_en;\n\tu8 cp_bias;\n\tu8 cnp_ecn;\n\tu8 rtt_jitter_en;\n\tu16 bytes_per_usec;\n\tu16 cc_cr_reset_th;\n\tu8 cr_width;\n\tu8 min_quota;\n\tu8 max_quota;\n\tu8 abs_max_quota;\n\tu16 tr_lb;\n\tu8 cr_prob_fac;\n\tu8 tr_prob_fac;\n\tu16 fair_cr_th;\n\tu8 red_div;\n\tu8 cnp_ratio_th;\n\tu16 ai_ext_rtt;\n\tu8 exp_crcp_ratio;\n\tu8 low_rate_en;\n\tu16 cpcr_update_th;\n\tu16 ai_rtt_th1;\n\tu16 ai_rtt_th2;\n\tu16 cf_rtt_th;\n\tu16 sc_cr_th1;  \n\tu16 sc_cr_th2;  \n\tu32 l64B_per_rtt;\n\tu8 cc_ack_bytes;\n\tu16 reduce_cf_rtt_th;\n};\n\nstruct bnxt_qplib_cc_param {\n\tu8 alt_vlan_pcp;\n\tu16 alt_tos_dscp;\n\tu8 cc_mode;\n\tu8 enable;\n\tu16 inact_th;\n\tu16 init_cr;\n\tu16 init_tr;\n\tu16 rtt;\n\tu8 g;\n\tu8 nph_per_state;\n\tu8 time_pph;\n\tu8 pkts_pph;\n\tu8 tos_ecn;\n\tu8 tos_dscp;\n\tu16 tcp_cp;\n\tstruct bnxt_qplib_cc_param_ext cc_ext;\n\tu32 mask;\n};\n\nint bnxt_qplib_get_sgid(struct bnxt_qplib_res *res,\n\t\t\tstruct bnxt_qplib_sgid_tbl *sgid_tbl, int index,\n\t\t\tstruct bnxt_qplib_gid *gid);\nint bnxt_qplib_del_sgid(struct bnxt_qplib_sgid_tbl *sgid_tbl,\n\t\t\tstruct bnxt_qplib_gid *gid, u16 vlan_id, bool update);\nint bnxt_qplib_add_sgid(struct bnxt_qplib_sgid_tbl *sgid_tbl,\n\t\t\tstruct bnxt_qplib_gid *gid, const u8 *mac, u16 vlan_id,\n\t\t\tbool update, u32 *index);\nint bnxt_qplib_update_sgid(struct bnxt_qplib_sgid_tbl *sgid_tbl,\n\t\t\t   struct bnxt_qplib_gid *gid, u16 gid_idx,\n\t\t\t   const u8 *smac);\nint bnxt_qplib_get_dev_attr(struct bnxt_qplib_rcfw *rcfw,\n\t\t\t    struct bnxt_qplib_dev_attr *attr);\nint bnxt_qplib_set_func_resources(struct bnxt_qplib_res *res,\n\t\t\t\t  struct bnxt_qplib_rcfw *rcfw,\n\t\t\t\t  struct bnxt_qplib_ctx *ctx);\nint bnxt_qplib_create_ah(struct bnxt_qplib_res *res, struct bnxt_qplib_ah *ah,\n\t\t\t bool block);\nint bnxt_qplib_destroy_ah(struct bnxt_qplib_res *res, struct bnxt_qplib_ah *ah,\n\t\t\t  bool block);\nint bnxt_qplib_alloc_mrw(struct bnxt_qplib_res *res,\n\t\t\t struct bnxt_qplib_mrw *mrw);\nint bnxt_qplib_dereg_mrw(struct bnxt_qplib_res *res, struct bnxt_qplib_mrw *mrw,\n\t\t\t bool block);\nint bnxt_qplib_reg_mr(struct bnxt_qplib_res *res, struct bnxt_qplib_mrw *mr,\n\t\t      struct ib_umem *umem, int num_pbls, u32 buf_pg_size);\nint bnxt_qplib_free_mrw(struct bnxt_qplib_res *res, struct bnxt_qplib_mrw *mr);\nint bnxt_qplib_alloc_fast_reg_mr(struct bnxt_qplib_res *res,\n\t\t\t\t struct bnxt_qplib_mrw *mr, int max);\nint bnxt_qplib_alloc_fast_reg_page_list(struct bnxt_qplib_res *res,\n\t\t\t\t\tstruct bnxt_qplib_frpl *frpl, int max);\nint bnxt_qplib_free_fast_reg_page_list(struct bnxt_qplib_res *res,\n\t\t\t\t       struct bnxt_qplib_frpl *frpl);\nint bnxt_qplib_get_roce_stats(struct bnxt_qplib_rcfw *rcfw,\n\t\t\t      struct bnxt_qplib_roce_stats *stats);\nint bnxt_qplib_qext_stat(struct bnxt_qplib_rcfw *rcfw, u32 fid,\n\t\t\t struct bnxt_qplib_ext_stat *estat);\nint bnxt_qplib_modify_cc(struct bnxt_qplib_res *res,\n\t\t\t struct bnxt_qplib_cc_param *cc_param);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}