{
  "module_name": "defs.h",
  "hash_id": "d3a469577d7a8b9b5aca8f1252e4963541b70ea683982efc56ed54a7964336aa",
  "original_prompt": "Ingested from linux-6.6.14/drivers/infiniband/hw/irdma/defs.h",
  "human_readable_source": " \n \n#ifndef IRDMA_DEFS_H\n#define IRDMA_DEFS_H\n\n#define IRDMA_FIRST_USER_QP_ID\t3\n\n#define ECN_CODE_PT_VAL\t2\n\n#define IRDMA_PUSH_OFFSET\t\t(8 * 1024 * 1024)\n#define IRDMA_PF_FIRST_PUSH_PAGE_INDEX\t16\n#define IRDMA_PF_BAR_RSVD\t\t(60 * 1024)\n\n#define IRDMA_PE_DB_SIZE_4M\t1\n#define IRDMA_PE_DB_SIZE_8M\t2\n\n#define IRDMA_IRD_HW_SIZE_4\t0\n#define IRDMA_IRD_HW_SIZE_16\t1\n#define IRDMA_IRD_HW_SIZE_64\t2\n#define IRDMA_IRD_HW_SIZE_128\t3\n#define IRDMA_IRD_HW_SIZE_256\t4\n\nenum irdma_protocol_used {\n\tIRDMA_ANY_PROTOCOL = 0,\n\tIRDMA_IWARP_PROTOCOL_ONLY = 1,\n\tIRDMA_ROCE_PROTOCOL_ONLY = 2,\n};\n\n#define IRDMA_QP_STATE_INVALID\t\t0\n#define IRDMA_QP_STATE_IDLE\t\t1\n#define IRDMA_QP_STATE_RTS\t\t2\n#define IRDMA_QP_STATE_CLOSING\t\t3\n#define IRDMA_QP_STATE_SQD\t\t3\n#define IRDMA_QP_STATE_RTR\t\t4\n#define IRDMA_QP_STATE_TERMINATE\t5\n#define IRDMA_QP_STATE_ERROR\t\t6\n\n#define IRDMA_MAX_TRAFFIC_CLASS\t\t8\n#define\tIRDMA_MAX_STATS_COUNT_GEN_1\t12\n#define IRDMA_MAX_USER_PRIORITY\t\t8\n#define IRDMA_MAX_APPS\t\t\t8\n#define IRDMA_MAX_STATS_COUNT\t\t128\n#define IRDMA_FIRST_NON_PF_STAT\t\t4\n\n#define IRDMA_MIN_MTU_IPV4\t576\n#define IRDMA_MIN_MTU_IPV6\t1280\n#define IRDMA_MTU_TO_MSS_IPV4\t40\n#define IRDMA_MTU_TO_MSS_IPV6\t60\n#define IRDMA_DEFAULT_MTU\t1500\n\n#define Q2_FPSN_OFFSET\t\t64\n#define TERM_DDP_LEN_TAGGED\t14\n#define TERM_DDP_LEN_UNTAGGED\t18\n#define TERM_RDMA_LEN\t\t28\n#define RDMA_OPCODE_M\t\t0x0f\n#define RDMA_READ_REQ_OPCODE\t1\n#define Q2_BAD_FRAME_OFFSET\t72\n#define CQE_MAJOR_DRV\t\t0x8000\n\n#define IRDMA_TERM_SENT\t\t1\n#define IRDMA_TERM_RCVD\t\t2\n#define IRDMA_TERM_DONE\t\t4\n#define IRDMA_MAC_HLEN\t\t14\n\n#define IRDMA_CQP_WAIT_POLL_REGS\t1\n#define IRDMA_CQP_WAIT_POLL_CQ\t\t2\n#define IRDMA_CQP_WAIT_EVENT\t\t3\n\n#define IRDMA_AE_SOURCE_RSVD\t\t0x0\n#define IRDMA_AE_SOURCE_RQ\t\t0x1\n#define IRDMA_AE_SOURCE_RQ_0011\t\t0x3\n\n#define IRDMA_AE_SOURCE_CQ\t\t0x2\n#define IRDMA_AE_SOURCE_CQ_0110\t\t0x6\n#define IRDMA_AE_SOURCE_CQ_1010\t\t0xa\n#define IRDMA_AE_SOURCE_CQ_1110\t\t0xe\n\n#define IRDMA_AE_SOURCE_SQ\t\t0x5\n#define IRDMA_AE_SOURCE_SQ_0111\t\t0x7\n\n#define IRDMA_AE_SOURCE_IN_RR_WR\t0x9\n#define IRDMA_AE_SOURCE_IN_RR_WR_1011\t0xb\n#define IRDMA_AE_SOURCE_OUT_RR\t\t0xd\n#define IRDMA_AE_SOURCE_OUT_RR_1111\t0xf\n\n#define IRDMA_TCP_STATE_NON_EXISTENT\t0\n#define IRDMA_TCP_STATE_CLOSED\t\t1\n#define IRDMA_TCP_STATE_LISTEN\t\t2\n#define IRDMA_STATE_SYN_SEND\t\t3\n#define IRDMA_TCP_STATE_SYN_RECEIVED\t4\n#define IRDMA_TCP_STATE_ESTABLISHED\t5\n#define IRDMA_TCP_STATE_CLOSE_WAIT\t6\n#define IRDMA_TCP_STATE_FIN_WAIT_1\t7\n#define IRDMA_TCP_STATE_CLOSING\t\t8\n#define IRDMA_TCP_STATE_LAST_ACK\t9\n#define IRDMA_TCP_STATE_FIN_WAIT_2\t10\n#define IRDMA_TCP_STATE_TIME_WAIT\t11\n#define IRDMA_TCP_STATE_RESERVED_1\t12\n#define IRDMA_TCP_STATE_RESERVED_2\t13\n#define IRDMA_TCP_STATE_RESERVED_3\t14\n#define IRDMA_TCP_STATE_RESERVED_4\t15\n\n#define IRDMA_CQP_SW_SQSIZE_4\t\t4\n#define IRDMA_CQP_SW_SQSIZE_2048\t2048\n\n#define IRDMA_CQ_TYPE_IWARP\t1\n#define IRDMA_CQ_TYPE_ILQ\t2\n#define IRDMA_CQ_TYPE_IEQ\t3\n#define IRDMA_CQ_TYPE_CQP\t4\n\n#define IRDMA_DONE_COUNT\t1000\n#define IRDMA_SLEEP_COUNT\t10\n\n#define IRDMA_UPDATE_SD_BUFF_SIZE\t128\n#define IRDMA_FEATURE_BUF_SIZE\t\t(8 * IRDMA_MAX_FEATURES)\n\n#define IRDMA_MAX_QUANTA_PER_WR\t8\n\n#define IRDMA_QP_SW_MAX_WQ_QUANTA\t32768\n#define IRDMA_QP_SW_MAX_SQ_QUANTA\t32768\n#define IRDMA_QP_SW_MAX_RQ_QUANTA\t32768\n#define IRDMA_MAX_QP_WRS(max_quanta_per_wr) \\\n\t((IRDMA_QP_SW_MAX_WQ_QUANTA - IRDMA_SQ_RSVD) / (max_quanta_per_wr))\n\n#define IRDMAQP_TERM_SEND_TERM_AND_FIN\t\t0\n#define IRDMAQP_TERM_SEND_TERM_ONLY\t\t1\n#define IRDMAQP_TERM_SEND_FIN_ONLY\t\t2\n#define IRDMAQP_TERM_DONOT_SEND_TERM_OR_FIN\t3\n\n#define IRDMA_QP_TYPE_IWARP\t1\n#define IRDMA_QP_TYPE_UDA\t2\n#define IRDMA_QP_TYPE_ROCE_RC\t3\n#define IRDMA_QP_TYPE_ROCE_UD\t4\n\n#define IRDMA_HW_PAGE_SIZE\t4096\n#define IRDMA_HW_PAGE_SHIFT\t12\n#define IRDMA_CQE_QTYPE_RQ\t0\n#define IRDMA_CQE_QTYPE_SQ\t1\n\n#define IRDMA_QP_SW_MIN_WQSIZE\t8u  \n#define IRDMA_QP_WQE_MIN_SIZE\t32\n#define IRDMA_QP_WQE_MAX_SIZE\t256\n#define IRDMA_QP_WQE_MIN_QUANTA 1\n#define IRDMA_MAX_RQ_WQE_SHIFT_GEN1 2\n#define IRDMA_MAX_RQ_WQE_SHIFT_GEN2 3\n\n#define IRDMA_SQ_RSVD\t258\n#define IRDMA_RQ_RSVD\t1\n\n#define IRDMA_FEATURE_RTS_AE\t\t\t1ULL\n#define IRDMA_FEATURE_CQ_RESIZE\t\t\t2ULL\n#define IRDMAQP_OP_RDMA_WRITE\t\t\t0x00\n#define IRDMAQP_OP_RDMA_READ\t\t\t0x01\n#define IRDMAQP_OP_RDMA_SEND\t\t\t0x03\n#define IRDMAQP_OP_RDMA_SEND_INV\t\t0x04\n#define IRDMAQP_OP_RDMA_SEND_SOL_EVENT\t\t0x05\n#define IRDMAQP_OP_RDMA_SEND_SOL_EVENT_INV\t0x06\n#define IRDMAQP_OP_BIND_MW\t\t\t0x08\n#define IRDMAQP_OP_FAST_REGISTER\t\t0x09\n#define IRDMAQP_OP_LOCAL_INVALIDATE\t\t0x0a\n#define IRDMAQP_OP_RDMA_READ_LOC_INV\t\t0x0b\n#define IRDMAQP_OP_NOP\t\t\t\t0x0c\n#define IRDMAQP_OP_RDMA_WRITE_SOL\t\t0x0d\n#define IRDMAQP_OP_GEN_RTS_AE\t\t\t0x30\n\nenum irdma_cqp_op_type {\n\tIRDMA_OP_CEQ_DESTROY\t\t\t= 1,\n\tIRDMA_OP_AEQ_DESTROY\t\t\t= 2,\n\tIRDMA_OP_DELETE_ARP_CACHE_ENTRY\t\t= 3,\n\tIRDMA_OP_MANAGE_APBVT_ENTRY\t\t= 4,\n\tIRDMA_OP_CEQ_CREATE\t\t\t= 5,\n\tIRDMA_OP_AEQ_CREATE\t\t\t= 6,\n\tIRDMA_OP_MANAGE_QHASH_TABLE_ENTRY\t= 7,\n\tIRDMA_OP_QP_MODIFY\t\t\t= 8,\n\tIRDMA_OP_QP_UPLOAD_CONTEXT\t\t= 9,\n\tIRDMA_OP_CQ_CREATE\t\t\t= 10,\n\tIRDMA_OP_CQ_DESTROY\t\t\t= 11,\n\tIRDMA_OP_QP_CREATE\t\t\t= 12,\n\tIRDMA_OP_QP_DESTROY\t\t\t= 13,\n\tIRDMA_OP_ALLOC_STAG\t\t\t= 14,\n\tIRDMA_OP_MR_REG_NON_SHARED\t\t= 15,\n\tIRDMA_OP_DEALLOC_STAG\t\t\t= 16,\n\tIRDMA_OP_MW_ALLOC\t\t\t= 17,\n\tIRDMA_OP_QP_FLUSH_WQES\t\t\t= 18,\n\tIRDMA_OP_ADD_ARP_CACHE_ENTRY\t\t= 19,\n\tIRDMA_OP_MANAGE_PUSH_PAGE\t\t= 20,\n\tIRDMA_OP_UPDATE_PE_SDS\t\t\t= 21,\n\tIRDMA_OP_MANAGE_HMC_PM_FUNC_TABLE\t= 22,\n\tIRDMA_OP_SUSPEND\t\t\t= 23,\n\tIRDMA_OP_RESUME\t\t\t\t= 24,\n\tIRDMA_OP_MANAGE_VF_PBLE_BP\t\t= 25,\n\tIRDMA_OP_QUERY_FPM_VAL\t\t\t= 26,\n\tIRDMA_OP_COMMIT_FPM_VAL\t\t\t= 27,\n\tIRDMA_OP_AH_CREATE\t\t\t= 28,\n\tIRDMA_OP_AH_MODIFY\t\t\t= 29,\n\tIRDMA_OP_AH_DESTROY\t\t\t= 30,\n\tIRDMA_OP_MC_CREATE\t\t\t= 31,\n\tIRDMA_OP_MC_DESTROY\t\t\t= 32,\n\tIRDMA_OP_MC_MODIFY\t\t\t= 33,\n\tIRDMA_OP_STATS_ALLOCATE\t\t\t= 34,\n\tIRDMA_OP_STATS_FREE\t\t\t= 35,\n\tIRDMA_OP_STATS_GATHER\t\t\t= 36,\n\tIRDMA_OP_WS_ADD_NODE\t\t\t= 37,\n\tIRDMA_OP_WS_MODIFY_NODE\t\t\t= 38,\n\tIRDMA_OP_WS_DELETE_NODE\t\t\t= 39,\n\tIRDMA_OP_WS_FAILOVER_START\t\t= 40,\n\tIRDMA_OP_WS_FAILOVER_COMPLETE\t\t= 41,\n\tIRDMA_OP_SET_UP_MAP\t\t\t= 42,\n\tIRDMA_OP_GEN_AE\t\t\t\t= 43,\n\tIRDMA_OP_QUERY_RDMA_FEATURES\t\t= 44,\n\tIRDMA_OP_ALLOC_LOCAL_MAC_ENTRY\t\t= 45,\n\tIRDMA_OP_ADD_LOCAL_MAC_ENTRY\t\t= 46,\n\tIRDMA_OP_DELETE_LOCAL_MAC_ENTRY\t\t= 47,\n\tIRDMA_OP_CQ_MODIFY\t\t\t= 48,\n\n\t \n\tIRDMA_MAX_CQP_OPS\t\t\t= 49,\n};\n\n \n#define IRDMA_CQP_OP_CREATE_QP\t\t\t\t0\n#define IRDMA_CQP_OP_MODIFY_QP\t\t\t\t0x1\n#define IRDMA_CQP_OP_DESTROY_QP\t\t\t\t0x02\n#define IRDMA_CQP_OP_CREATE_CQ\t\t\t\t0x03\n#define IRDMA_CQP_OP_MODIFY_CQ\t\t\t\t0x04\n#define IRDMA_CQP_OP_DESTROY_CQ\t\t\t\t0x05\n#define IRDMA_CQP_OP_ALLOC_STAG\t\t\t\t0x09\n#define IRDMA_CQP_OP_REG_MR\t\t\t\t0x0a\n#define IRDMA_CQP_OP_QUERY_STAG\t\t\t\t0x0b\n#define IRDMA_CQP_OP_REG_SMR\t\t\t\t0x0c\n#define IRDMA_CQP_OP_DEALLOC_STAG\t\t\t0x0d\n#define IRDMA_CQP_OP_MANAGE_LOC_MAC_TABLE\t\t0x0e\n#define IRDMA_CQP_OP_MANAGE_ARP\t\t\t\t0x0f\n#define IRDMA_CQP_OP_MANAGE_VF_PBLE_BP\t\t\t0x10\n#define IRDMA_CQP_OP_MANAGE_PUSH_PAGES\t\t\t0x11\n#define IRDMA_CQP_OP_QUERY_RDMA_FEATURES\t\t0x12\n#define IRDMA_CQP_OP_UPLOAD_CONTEXT\t\t\t0x13\n#define IRDMA_CQP_OP_ALLOCATE_LOC_MAC_TABLE_ENTRY\t0x14\n#define IRDMA_CQP_OP_UPLOAD_CONTEXT\t\t\t0x13\n#define IRDMA_CQP_OP_MANAGE_HMC_PM_FUNC_TABLE\t\t0x15\n#define IRDMA_CQP_OP_CREATE_CEQ\t\t\t\t0x16\n#define IRDMA_CQP_OP_DESTROY_CEQ\t\t\t0x18\n#define IRDMA_CQP_OP_CREATE_AEQ\t\t\t\t0x19\n#define IRDMA_CQP_OP_DESTROY_AEQ\t\t\t0x1b\n#define IRDMA_CQP_OP_CREATE_ADDR_HANDLE\t\t\t0x1c\n#define IRDMA_CQP_OP_MODIFY_ADDR_HANDLE\t\t\t0x1d\n#define IRDMA_CQP_OP_DESTROY_ADDR_HANDLE\t\t0x1e\n#define IRDMA_CQP_OP_UPDATE_PE_SDS\t\t\t0x1f\n#define IRDMA_CQP_OP_QUERY_FPM_VAL\t\t\t0x20\n#define IRDMA_CQP_OP_COMMIT_FPM_VAL\t\t\t0x21\n#define IRDMA_CQP_OP_FLUSH_WQES\t\t\t\t0x22\n \n#define IRDMA_CQP_OP_GEN_AE\t\t\t\t0x22\n#define IRDMA_CQP_OP_MANAGE_APBVT\t\t\t0x23\n#define IRDMA_CQP_OP_NOP\t\t\t\t0x24\n#define IRDMA_CQP_OP_MANAGE_QUAD_HASH_TABLE_ENTRY\t0x25\n#define IRDMA_CQP_OP_CREATE_MCAST_GRP\t\t\t0x26\n#define IRDMA_CQP_OP_MODIFY_MCAST_GRP\t\t\t0x27\n#define IRDMA_CQP_OP_DESTROY_MCAST_GRP\t\t\t0x28\n#define IRDMA_CQP_OP_SUSPEND_QP\t\t\t\t0x29\n#define IRDMA_CQP_OP_RESUME_QP\t\t\t\t0x2a\n#define IRDMA_CQP_OP_SHMC_PAGES_ALLOCATED\t\t0x2b\n#define IRDMA_CQP_OP_WORK_SCHED_NODE\t\t\t0x2c\n#define IRDMA_CQP_OP_MANAGE_STATS\t\t\t0x2d\n#define IRDMA_CQP_OP_GATHER_STATS\t\t\t0x2e\n#define IRDMA_CQP_OP_UP_MAP\t\t\t\t0x2f\n\n \n#define IRDMA_AE_AMP_UNALLOCATED_STAG\t\t\t\t\t0x0102\n#define IRDMA_AE_AMP_INVALID_STAG\t\t\t\t\t0x0103\n#define IRDMA_AE_AMP_BAD_QP\t\t\t\t\t\t0x0104\n#define IRDMA_AE_AMP_BAD_PD\t\t\t\t\t\t0x0105\n#define IRDMA_AE_AMP_BAD_STAG_KEY\t\t\t\t\t0x0106\n#define IRDMA_AE_AMP_BAD_STAG_INDEX\t\t\t\t\t0x0107\n#define IRDMA_AE_AMP_BOUNDS_VIOLATION\t\t\t\t\t0x0108\n#define IRDMA_AE_AMP_RIGHTS_VIOLATION\t\t\t\t\t0x0109\n#define IRDMA_AE_AMP_TO_WRAP\t\t\t\t\t\t0x010a\n#define IRDMA_AE_AMP_FASTREG_VALID_STAG\t\t\t\t\t0x010c\n#define IRDMA_AE_AMP_FASTREG_MW_STAG\t\t\t\t\t0x010d\n#define IRDMA_AE_AMP_FASTREG_INVALID_RIGHTS\t\t\t\t0x010e\n#define IRDMA_AE_AMP_FASTREG_INVALID_LENGTH\t\t\t\t0x0110\n#define IRDMA_AE_AMP_INVALIDATE_SHARED\t\t\t\t\t0x0111\n#define IRDMA_AE_AMP_INVALIDATE_NO_REMOTE_ACCESS_RIGHTS\t\t\t0x0112\n#define IRDMA_AE_AMP_INVALIDATE_MR_WITH_BOUND_WINDOWS\t\t\t0x0113\n#define IRDMA_AE_AMP_MWBIND_VALID_STAG\t\t\t\t\t0x0114\n#define IRDMA_AE_AMP_MWBIND_OF_MR_STAG\t\t\t\t\t0x0115\n#define IRDMA_AE_AMP_MWBIND_TO_ZERO_BASED_STAG\t\t\t\t0x0116\n#define IRDMA_AE_AMP_MWBIND_TO_MW_STAG\t\t\t\t\t0x0117\n#define IRDMA_AE_AMP_MWBIND_INVALID_RIGHTS\t\t\t\t0x0118\n#define IRDMA_AE_AMP_MWBIND_INVALID_BOUNDS\t\t\t\t0x0119\n#define IRDMA_AE_AMP_MWBIND_TO_INVALID_PARENT\t\t\t\t0x011a\n#define IRDMA_AE_AMP_MWBIND_BIND_DISABLED\t\t\t\t0x011b\n#define IRDMA_AE_PRIV_OPERATION_DENIED\t\t\t\t\t0x011c\n#define IRDMA_AE_AMP_INVALIDATE_TYPE1_MW\t\t\t\t0x011d\n#define IRDMA_AE_AMP_MWBIND_ZERO_BASED_TYPE1_MW\t\t\t\t0x011e\n#define IRDMA_AE_AMP_FASTREG_INVALID_PBL_HPS_CFG\t\t\t0x011f\n#define IRDMA_AE_AMP_MWBIND_WRONG_TYPE\t\t\t\t\t0x0120\n#define IRDMA_AE_AMP_FASTREG_PBLE_MISMATCH\t\t\t\t0x0121\n#define IRDMA_AE_UDA_XMIT_DGRAM_TOO_LONG\t\t\t\t0x0132\n#define IRDMA_AE_UDA_XMIT_BAD_PD\t\t\t\t\t0x0133\n#define IRDMA_AE_UDA_XMIT_DGRAM_TOO_SHORT\t\t\t\t0x0134\n#define IRDMA_AE_UDA_L4LEN_INVALID\t\t\t\t\t0x0135\n#define IRDMA_AE_BAD_CLOSE\t\t\t\t\t\t0x0201\n#define IRDMA_AE_RDMAP_ROE_BAD_LLP_CLOSE\t\t\t\t0x0202\n#define IRDMA_AE_CQ_OPERATION_ERROR\t\t\t\t\t0x0203\n#define IRDMA_AE_RDMA_READ_WHILE_ORD_ZERO\t\t\t\t0x0205\n#define IRDMA_AE_STAG_ZERO_INVALID\t\t\t\t\t0x0206\n#define IRDMA_AE_IB_RREQ_AND_Q1_FULL\t\t\t\t\t0x0207\n#define IRDMA_AE_IB_INVALID_REQUEST\t\t\t\t\t0x0208\n#define IRDMA_AE_WQE_UNEXPECTED_OPCODE\t\t\t\t\t0x020a\n#define IRDMA_AE_WQE_INVALID_PARAMETER\t\t\t\t\t0x020b\n#define IRDMA_AE_WQE_INVALID_FRAG_DATA\t\t\t\t\t0x020c\n#define IRDMA_AE_IB_REMOTE_ACCESS_ERROR\t\t\t\t\t0x020d\n#define IRDMA_AE_IB_REMOTE_OP_ERROR\t\t\t\t\t0x020e\n#define IRDMA_AE_WQE_LSMM_TOO_LONG\t\t\t\t\t0x0220\n#define IRDMA_AE_INVALID_REQUEST\t\t\t\t\t0x0223\n#define IRDMA_AE_DDP_INVALID_MSN_GAP_IN_MSN\t\t\t\t0x0301\n#define IRDMA_AE_DDP_UBE_DDP_MESSAGE_TOO_LONG_FOR_AVAILABLE_BUFFER\t0x0303\n#define IRDMA_AE_DDP_UBE_INVALID_DDP_VERSION\t\t\t\t0x0304\n#define IRDMA_AE_DDP_UBE_INVALID_MO\t\t\t\t\t0x0305\n#define IRDMA_AE_DDP_UBE_INVALID_MSN_NO_BUFFER_AVAILABLE\t\t0x0306\n#define IRDMA_AE_DDP_UBE_INVALID_QN\t\t\t\t\t0x0307\n#define IRDMA_AE_DDP_NO_L_BIT\t\t\t\t\t\t0x0308\n#define IRDMA_AE_RDMAP_ROE_INVALID_RDMAP_VERSION\t\t\t0x0311\n#define IRDMA_AE_RDMAP_ROE_UNEXPECTED_OPCODE\t\t\t\t0x0312\n#define IRDMA_AE_ROE_INVALID_RDMA_READ_REQUEST\t\t\t\t0x0313\n#define IRDMA_AE_ROE_INVALID_RDMA_WRITE_OR_READ_RESP\t\t\t0x0314\n#define IRDMA_AE_ROCE_RSP_LENGTH_ERROR\t\t\t\t\t0x0316\n#define IRDMA_AE_ROCE_EMPTY_MCG\t\t\t\t\t\t0x0380\n#define IRDMA_AE_ROCE_BAD_MC_IP_ADDR\t\t\t\t\t0x0381\n#define IRDMA_AE_ROCE_BAD_MC_QPID\t\t\t\t\t0x0382\n#define IRDMA_AE_MCG_QP_PROTOCOL_MISMATCH\t\t\t\t0x0383\n#define IRDMA_AE_INVALID_ARP_ENTRY\t\t\t\t\t0x0401\n#define IRDMA_AE_INVALID_TCP_OPTION_RCVD\t\t\t\t0x0402\n#define IRDMA_AE_STALE_ARP_ENTRY\t\t\t\t\t0x0403\n#define IRDMA_AE_INVALID_AH_ENTRY\t\t\t\t\t0x0406\n#define IRDMA_AE_LLP_CLOSE_COMPLETE\t\t\t\t\t0x0501\n#define IRDMA_AE_LLP_CONNECTION_RESET\t\t\t\t\t0x0502\n#define IRDMA_AE_LLP_FIN_RECEIVED\t\t\t\t\t0x0503\n#define IRDMA_AE_LLP_RECEIVED_MARKER_AND_LENGTH_FIELDS_DONT_MATCH\t0x0504\n#define IRDMA_AE_LLP_RECEIVED_MPA_CRC_ERROR\t\t\t\t0x0505\n#define IRDMA_AE_LLP_SEGMENT_TOO_SMALL\t\t\t\t\t0x0507\n#define IRDMA_AE_LLP_SYN_RECEIVED\t\t\t\t\t0x0508\n#define IRDMA_AE_LLP_TERMINATE_RECEIVED\t\t\t\t\t0x0509\n#define IRDMA_AE_LLP_TOO_MANY_RETRIES\t\t\t\t\t0x050a\n#define IRDMA_AE_LLP_TOO_MANY_KEEPALIVE_RETRIES\t\t\t\t0x050b\n#define IRDMA_AE_LLP_DOUBT_REACHABILITY\t\t\t\t\t0x050c\n#define IRDMA_AE_LLP_CONNECTION_ESTABLISHED\t\t\t\t0x050e\n#define IRDMA_AE_RESOURCE_EXHAUSTION\t\t\t\t\t0x0520\n#define IRDMA_AE_RESET_SENT\t\t\t\t\t\t0x0601\n#define IRDMA_AE_TERMINATE_SENT\t\t\t\t\t\t0x0602\n#define IRDMA_AE_RESET_NOT_SENT\t\t\t\t\t\t0x0603\n#define IRDMA_AE_LCE_QP_CATASTROPHIC\t\t\t\t\t0x0700\n#define IRDMA_AE_LCE_FUNCTION_CATASTROPHIC\t\t\t\t0x0701\n#define IRDMA_AE_LCE_CQ_CATASTROPHIC\t\t\t\t\t0x0702\n#define IRDMA_AE_QP_SUSPEND_COMPLETE\t\t\t\t\t0x0900\n\n#define FLD_LS_64(dev, val, field)\t\\\n\t(((u64)(val) << (dev)->hw_shifts[field ## _S]) & (dev)->hw_masks[field ## _M])\n#define FLD_RS_64(dev, val, field)\t\\\n\t((u64)((val) & (dev)->hw_masks[field ## _M]) >> (dev)->hw_shifts[field ## _S])\n#define FLD_LS_32(dev, val, field)\t\\\n\t(((val) << (dev)->hw_shifts[field ## _S]) & (dev)->hw_masks[field ## _M])\n#define FLD_RS_32(dev, val, field)\t\\\n\t((u64)((val) & (dev)->hw_masks[field ## _M]) >> (dev)->hw_shifts[field ## _S])\n\n#define IRDMA_MAX_STATS_24\t0xffffffULL\n#define IRDMA_MAX_STATS_32\t0xffffffffULL\n#define IRDMA_MAX_STATS_48\t0xffffffffffffULL\n#define IRDMA_MAX_STATS_56\t0xffffffffffffffULL\n#define IRDMA_MAX_STATS_64\t0xffffffffffffffffULL\n\n#define IRDMA_MAX_CQ_READ_THRESH 0x3FFFF\n#define IRDMA_CQPSQ_QHASH_VLANID GENMASK_ULL(43, 32)\n#define IRDMA_CQPSQ_QHASH_QPN GENMASK_ULL(49, 32)\n#define IRDMA_CQPSQ_QHASH_QS_HANDLE GENMASK_ULL(9, 0)\n#define IRDMA_CQPSQ_QHASH_SRC_PORT GENMASK_ULL(31, 16)\n#define IRDMA_CQPSQ_QHASH_DEST_PORT GENMASK_ULL(15, 0)\n#define IRDMA_CQPSQ_QHASH_ADDR0 GENMASK_ULL(63, 32)\n#define IRDMA_CQPSQ_QHASH_ADDR1 GENMASK_ULL(31, 0)\n#define IRDMA_CQPSQ_QHASH_ADDR2 GENMASK_ULL(63, 32)\n#define IRDMA_CQPSQ_QHASH_ADDR3 GENMASK_ULL(31, 0)\n#define IRDMA_CQPSQ_QHASH_WQEVALID BIT_ULL(63)\n#define IRDMA_CQPSQ_QHASH_OPCODE GENMASK_ULL(37, 32)\n#define IRDMA_CQPSQ_QHASH_MANAGE GENMASK_ULL(62, 61)\n#define IRDMA_CQPSQ_QHASH_IPV4VALID BIT_ULL(60)\n#define IRDMA_CQPSQ_QHASH_VLANVALID BIT_ULL(59)\n#define IRDMA_CQPSQ_QHASH_ENTRYTYPE GENMASK_ULL(44, 42)\n#define IRDMA_CQPSQ_STATS_WQEVALID BIT_ULL(63)\n#define IRDMA_CQPSQ_STATS_ALLOC_INST BIT_ULL(62)\n#define IRDMA_CQPSQ_STATS_USE_HMC_FCN_INDEX BIT_ULL(60)\n#define IRDMA_CQPSQ_STATS_USE_INST BIT_ULL(61)\n#define IRDMA_CQPSQ_STATS_OP GENMASK_ULL(37, 32)\n#define IRDMA_CQPSQ_STATS_INST_INDEX GENMASK_ULL(6, 0)\n#define IRDMA_CQPSQ_STATS_HMC_FCN_INDEX GENMASK_ULL(5, 0)\n#define IRDMA_CQPSQ_WS_WQEVALID BIT_ULL(63)\n#define IRDMA_CQPSQ_WS_NODEOP GENMASK_ULL(53, 52)\n\n#define IRDMA_CQPSQ_WS_ENABLENODE BIT_ULL(62)\n#define IRDMA_CQPSQ_WS_NODETYPE BIT_ULL(61)\n#define IRDMA_CQPSQ_WS_PRIOTYPE GENMASK_ULL(60, 59)\n#define IRDMA_CQPSQ_WS_TC GENMASK_ULL(58, 56)\n#define IRDMA_CQPSQ_WS_VMVFTYPE GENMASK_ULL(55, 54)\n#define IRDMA_CQPSQ_WS_VMVFNUM GENMASK_ULL(51, 42)\n#define IRDMA_CQPSQ_WS_OP GENMASK_ULL(37, 32)\n#define IRDMA_CQPSQ_WS_PARENTID GENMASK_ULL(25, 16)\n#define IRDMA_CQPSQ_WS_NODEID GENMASK_ULL(9, 0)\n#define IRDMA_CQPSQ_WS_VSI GENMASK_ULL(57, 48)\n#define IRDMA_CQPSQ_WS_WEIGHT GENMASK_ULL(38, 32)\n\n#define IRDMA_CQPSQ_UP_WQEVALID BIT_ULL(63)\n#define IRDMA_CQPSQ_UP_USEVLAN BIT_ULL(62)\n#define IRDMA_CQPSQ_UP_USEOVERRIDE BIT_ULL(61)\n#define IRDMA_CQPSQ_UP_OP GENMASK_ULL(37, 32)\n#define IRDMA_CQPSQ_UP_HMCFCNIDX GENMASK_ULL(5, 0)\n#define IRDMA_CQPSQ_UP_CNPOVERRIDE GENMASK_ULL(37, 32)\n#define IRDMA_CQPSQ_QUERY_RDMA_FEATURES_WQEVALID BIT_ULL(63)\n#define IRDMA_CQPSQ_QUERY_RDMA_FEATURES_BUF_LEN GENMASK_ULL(31, 0)\n#define IRDMA_CQPSQ_QUERY_RDMA_FEATURES_OP GENMASK_ULL(37, 32)\n#define IRDMA_CQPSQ_QUERY_RDMA_FEATURES_HW_MODEL_USED GENMASK_ULL(47, 32)\n#define IRDMA_CQPSQ_QUERY_RDMA_FEATURES_HW_MAJOR_VERSION GENMASK_ULL(23, 16)\n#define IRDMA_CQPSQ_QUERY_RDMA_FEATURES_HW_MINOR_VERSION GENMASK_ULL(7, 0)\n#define IRDMA_CQPHC_SQSIZE GENMASK_ULL(11, 8)\n#define IRDMA_CQPHC_DISABLE_PFPDUS BIT_ULL(1)\n#define IRDMA_CQPHC_ROCEV2_RTO_POLICY BIT_ULL(2)\n#define IRDMA_CQPHC_PROTOCOL_USED GENMASK_ULL(4, 3)\n#define IRDMA_CQPHC_MIN_RATE GENMASK_ULL(51, 48)\n#define IRDMA_CQPHC_MIN_DEC_FACTOR GENMASK_ULL(59, 56)\n#define IRDMA_CQPHC_DCQCN_T GENMASK_ULL(15, 0)\n#define IRDMA_CQPHC_HAI_FACTOR GENMASK_ULL(47, 32)\n#define IRDMA_CQPHC_RAI_FACTOR GENMASK_ULL(63, 48)\n#define IRDMA_CQPHC_DCQCN_B GENMASK_ULL(24, 0)\n#define IRDMA_CQPHC_DCQCN_F GENMASK_ULL(27, 25)\n#define IRDMA_CQPHC_CC_CFG_VALID BIT_ULL(31)\n#define IRDMA_CQPHC_RREDUCE_MPERIOD GENMASK_ULL(63, 32)\n#define IRDMA_CQPHC_HW_MINVER GENMASK_ULL(15, 0)\n\n#define IRDMA_CQPHC_HW_MAJVER_GEN_1 0\n#define IRDMA_CQPHC_HW_MAJVER_GEN_2 1\n#define IRDMA_CQPHC_HW_MAJVER_GEN_3 2\n#define IRDMA_CQPHC_HW_MAJVER GENMASK_ULL(31, 16)\n#define IRDMA_CQPHC_CEQPERVF GENMASK_ULL(39, 32)\n\n#define IRDMA_CQPHC_ENABLED_VFS GENMASK_ULL(37, 32)\n\n#define IRDMA_CQPHC_HMC_PROFILE GENMASK_ULL(2, 0)\n#define IRDMA_CQPHC_SVER GENMASK_ULL(31, 24)\n#define IRDMA_CQPHC_SQBASE GENMASK_ULL(63, 9)\n\n#define IRDMA_CQPHC_QPCTX GENMASK_ULL(63, 0)\n#define IRDMA_QP_DBSA_HW_SQ_TAIL GENMASK_ULL(14, 0)\n#define IRDMA_CQ_DBSA_CQEIDX GENMASK_ULL(19, 0)\n#define IRDMA_CQ_DBSA_SW_CQ_SELECT GENMASK_ULL(13, 0)\n#define IRDMA_CQ_DBSA_ARM_NEXT BIT_ULL(14)\n#define IRDMA_CQ_DBSA_ARM_NEXT_SE BIT_ULL(15)\n#define IRDMA_CQ_DBSA_ARM_SEQ_NUM GENMASK_ULL(17, 16)\n\n \n#define IRDMA_CQ_QPCTX IRDMA_CQPHC_QPCTX\n\n#define IRDMA_CCQ_OPRETVAL GENMASK_ULL(31, 0)\n\n#define IRDMA_CQ_MINERR GENMASK_ULL(15, 0)\n#define IRDMA_CQ_MAJERR GENMASK_ULL(31, 16)\n#define IRDMA_CQ_WQEIDX GENMASK_ULL(46, 32)\n#define IRDMA_CQ_EXTCQE BIT_ULL(50)\n#define IRDMA_OOO_CMPL BIT_ULL(54)\n#define IRDMA_CQ_ERROR BIT_ULL(55)\n#define IRDMA_CQ_SQ BIT_ULL(62)\n\n#define IRDMA_CQ_VALID BIT_ULL(63)\n#define IRDMA_CQ_IMMVALID BIT_ULL(62)\n#define IRDMA_CQ_UDSMACVALID BIT_ULL(61)\n#define IRDMA_CQ_UDVLANVALID BIT_ULL(60)\n#define IRDMA_CQ_UDSMAC GENMASK_ULL(47, 0)\n#define IRDMA_CQ_UDVLAN GENMASK_ULL(63, 48)\n\n#define IRDMA_CQ_IMMDATA_S 0\n#define IRDMA_CQ_IMMDATA_M (0xffffffffffffffffULL << IRDMA_CQ_IMMVALID_S)\n#define IRDMA_CQ_IMMDATALOW32 GENMASK_ULL(31, 0)\n#define IRDMA_CQ_IMMDATAUP32 GENMASK_ULL(63, 32)\n#define IRDMACQ_PAYLDLEN GENMASK_ULL(31, 0)\n#define IRDMACQ_TCPSEQNUMRTT GENMASK_ULL(63, 32)\n#define IRDMACQ_INVSTAG GENMASK_ULL(31, 0)\n#define IRDMACQ_QPID GENMASK_ULL(55, 32)\n\n#define IRDMACQ_UDSRCQPN GENMASK_ULL(31, 0)\n#define IRDMACQ_PSHDROP BIT_ULL(51)\n#define IRDMACQ_STAG BIT_ULL(53)\n#define IRDMACQ_IPV4 BIT_ULL(53)\n#define IRDMACQ_SOEVENT BIT_ULL(54)\n#define IRDMACQ_OP GENMASK_ULL(61, 56)\n\n#define IRDMA_CEQE_CQCTX GENMASK_ULL(62, 0)\n#define IRDMA_CEQE_VALID BIT_ULL(63)\n\n \n#define IRDMA_AEQE_COMPCTX IRDMA_CQPHC_QPCTX\n#define IRDMA_AEQE_QPCQID_LOW GENMASK_ULL(17, 0)\n#define IRDMA_AEQE_QPCQID_HI BIT_ULL(46)\n#define IRDMA_AEQE_WQDESCIDX GENMASK_ULL(32, 18)\n#define IRDMA_AEQE_OVERFLOW BIT_ULL(33)\n#define IRDMA_AEQE_AECODE GENMASK_ULL(45, 34)\n#define IRDMA_AEQE_AESRC GENMASK_ULL(53, 50)\n#define IRDMA_AEQE_IWSTATE GENMASK_ULL(56, 54)\n#define IRDMA_AEQE_TCPSTATE GENMASK_ULL(60, 57)\n#define IRDMA_AEQE_Q2DATA GENMASK_ULL(62, 61)\n#define IRDMA_AEQE_VALID BIT_ULL(63)\n\n#define IRDMA_UDA_QPSQ_NEXT_HDR GENMASK_ULL(23, 16)\n#define IRDMA_UDA_QPSQ_OPCODE GENMASK_ULL(37, 32)\n#define IRDMA_UDA_QPSQ_L4LEN GENMASK_ULL(45, 42)\n#define IRDMA_GEN1_UDA_QPSQ_L4LEN GENMASK_ULL(27, 24)\n#define IRDMA_UDA_QPSQ_AHIDX GENMASK_ULL(16, 0)\n#define IRDMA_UDA_QPSQ_VALID BIT_ULL(63)\n#define IRDMA_UDA_QPSQ_SIGCOMPL BIT_ULL(62)\n#define IRDMA_UDA_QPSQ_MACLEN GENMASK_ULL(62, 56)\n#define IRDMA_UDA_QPSQ_IPLEN GENMASK_ULL(54, 48)\n#define IRDMA_UDA_QPSQ_L4T GENMASK_ULL(31, 30)\n#define IRDMA_UDA_QPSQ_IIPT GENMASK_ULL(29, 28)\n#define IRDMA_UDA_PAYLOADLEN GENMASK_ULL(13, 0)\n#define IRDMA_UDA_HDRLEN GENMASK_ULL(24, 16)\n#define IRDMA_VLAN_TAG_VALID BIT_ULL(50)\n#define IRDMA_UDA_L3PROTO GENMASK_ULL(1, 0)\n#define IRDMA_UDA_L4PROTO GENMASK_ULL(17, 16)\n#define IRDMA_UDA_QPSQ_DOLOOPBACK BIT_ULL(44)\n#define IRDMA_CQPSQ_BUFSIZE GENMASK_ULL(31, 0)\n#define IRDMA_CQPSQ_OPCODE GENMASK_ULL(37, 32)\n#define IRDMA_CQPSQ_WQEVALID BIT_ULL(63)\n#define IRDMA_CQPSQ_TPHVAL GENMASK_ULL(7, 0)\n\n#define IRDMA_CQPSQ_VSIIDX GENMASK_ULL(17, 8)\n#define IRDMA_CQPSQ_TPHEN BIT_ULL(60)\n\n#define IRDMA_CQPSQ_PBUFADDR IRDMA_CQPHC_QPCTX\n\n \n\n#define IRDMA_CQPSQ_QP_NEWMSS GENMASK_ULL(45, 32)\n#define IRDMA_CQPSQ_QP_TERMLEN GENMASK_ULL(51, 48)\n\n#define IRDMA_CQPSQ_QP_QPCTX IRDMA_CQPHC_QPCTX\n\n#define IRDMA_CQPSQ_QP_QPID_S 0\n#define IRDMA_CQPSQ_QP_QPID_M (0xFFFFFFUL)\n\n#define IRDMA_CQPSQ_QP_OP_S 32\n#define IRDMA_CQPSQ_QP_OP_M IRDMACQ_OP_M\n#define IRDMA_CQPSQ_QP_ORDVALID BIT_ULL(42)\n#define IRDMA_CQPSQ_QP_TOECTXVALID BIT_ULL(43)\n#define IRDMA_CQPSQ_QP_CACHEDVARVALID BIT_ULL(44)\n#define IRDMA_CQPSQ_QP_VQ BIT_ULL(45)\n#define IRDMA_CQPSQ_QP_FORCELOOPBACK BIT_ULL(46)\n#define IRDMA_CQPSQ_QP_CQNUMVALID BIT_ULL(47)\n#define IRDMA_CQPSQ_QP_QPTYPE GENMASK_ULL(50, 48)\n#define IRDMA_CQPSQ_QP_MACVALID BIT_ULL(51)\n#define IRDMA_CQPSQ_QP_MSSCHANGE BIT_ULL(52)\n\n#define IRDMA_CQPSQ_QP_IGNOREMWBOUND BIT_ULL(54)\n#define IRDMA_CQPSQ_QP_REMOVEHASHENTRY BIT_ULL(55)\n#define IRDMA_CQPSQ_QP_TERMACT GENMASK_ULL(57, 56)\n#define IRDMA_CQPSQ_QP_RESETCON BIT_ULL(58)\n#define IRDMA_CQPSQ_QP_ARPTABIDXVALID BIT_ULL(59)\n#define IRDMA_CQPSQ_QP_NEXTIWSTATE GENMASK_ULL(62, 60)\n\n#define IRDMA_CQPSQ_QP_DBSHADOWADDR IRDMA_CQPHC_QPCTX\n\n#define IRDMA_CQPSQ_CQ_CQSIZE GENMASK_ULL(20, 0)\n#define IRDMA_CQPSQ_CQ_CQCTX GENMASK_ULL(62, 0)\n#define IRDMA_CQPSQ_CQ_SHADOW_READ_THRESHOLD GENMASK(17, 0)\n\n#define IRDMA_CQPSQ_CQ_OP GENMASK_ULL(37, 32)\n#define IRDMA_CQPSQ_CQ_CQRESIZE BIT_ULL(43)\n#define IRDMA_CQPSQ_CQ_LPBLSIZE GENMASK_ULL(45, 44)\n#define IRDMA_CQPSQ_CQ_CHKOVERFLOW BIT_ULL(46)\n#define IRDMA_CQPSQ_CQ_VIRTMAP BIT_ULL(47)\n#define IRDMA_CQPSQ_CQ_ENCEQEMASK BIT_ULL(48)\n#define IRDMA_CQPSQ_CQ_CEQIDVALID BIT_ULL(49)\n#define IRDMA_CQPSQ_CQ_AVOIDMEMCNFLCT BIT_ULL(61)\n#define IRDMA_CQPSQ_CQ_FIRSTPMPBLIDX GENMASK_ULL(27, 0)\n\n \n#define IRDMA_CQPSQ_STAG_VA_FBO IRDMA_CQPHC_QPCTX\n#define IRDMA_CQPSQ_STAG_STAGLEN GENMASK_ULL(45, 0)\n#define IRDMA_CQPSQ_STAG_KEY GENMASK_ULL(7, 0)\n#define IRDMA_CQPSQ_STAG_IDX GENMASK_ULL(31, 8)\n#define IRDMA_CQPSQ_STAG_IDX_S 8\n#define IRDMA_CQPSQ_STAG_PARENTSTAGIDX GENMASK_ULL(55, 32)\n#define IRDMA_CQPSQ_STAG_MR BIT_ULL(43)\n#define IRDMA_CQPSQ_STAG_MWTYPE BIT_ULL(42)\n#define IRDMA_CQPSQ_STAG_MW1_BIND_DONT_VLDT_KEY BIT_ULL(58)\n\n#define IRDMA_CQPSQ_STAG_LPBLSIZE IRDMA_CQPSQ_CQ_LPBLSIZE\n#define IRDMA_CQPSQ_STAG_HPAGESIZE GENMASK_ULL(47, 46)\n#define IRDMA_CQPSQ_STAG_ARIGHTS GENMASK_ULL(52, 48)\n#define IRDMA_CQPSQ_STAG_REMACCENABLED BIT_ULL(53)\n#define IRDMA_CQPSQ_STAG_VABASEDTO BIT_ULL(59)\n#define IRDMA_CQPSQ_STAG_USEHMCFNIDX BIT_ULL(60)\n#define IRDMA_CQPSQ_STAG_USEPFRID BIT_ULL(61)\n\n#define IRDMA_CQPSQ_STAG_PBA IRDMA_CQPHC_QPCTX\n#define IRDMA_CQPSQ_STAG_HMCFNIDX GENMASK_ULL(5, 0)\n\n#define IRDMA_CQPSQ_STAG_FIRSTPMPBLIDX GENMASK_ULL(27, 0)\n#define IRDMA_CQPSQ_QUERYSTAG_IDX IRDMA_CQPSQ_STAG_IDX\n#define IRDMA_CQPSQ_MLM_TABLEIDX GENMASK_ULL(5, 0)\n#define IRDMA_CQPSQ_MLM_FREEENTRY BIT_ULL(62)\n#define IRDMA_CQPSQ_MLM_IGNORE_REF_CNT BIT_ULL(61)\n#define IRDMA_CQPSQ_MLM_MAC0 GENMASK_ULL(7, 0)\n#define IRDMA_CQPSQ_MLM_MAC1 GENMASK_ULL(15, 8)\n#define IRDMA_CQPSQ_MLM_MAC2 GENMASK_ULL(23, 16)\n#define IRDMA_CQPSQ_MLM_MAC3 GENMASK_ULL(31, 24)\n#define IRDMA_CQPSQ_MLM_MAC4 GENMASK_ULL(39, 32)\n#define IRDMA_CQPSQ_MLM_MAC5 GENMASK_ULL(47, 40)\n#define IRDMA_CQPSQ_MAT_REACHMAX GENMASK_ULL(31, 0)\n#define IRDMA_CQPSQ_MAT_MACADDR GENMASK_ULL(47, 0)\n#define IRDMA_CQPSQ_MAT_ARPENTRYIDX GENMASK_ULL(11, 0)\n#define IRDMA_CQPSQ_MAT_ENTRYVALID BIT_ULL(42)\n#define IRDMA_CQPSQ_MAT_PERMANENT BIT_ULL(43)\n#define IRDMA_CQPSQ_MAT_QUERY BIT_ULL(44)\n#define IRDMA_CQPSQ_MVPBP_PD_ENTRY_CNT GENMASK_ULL(9, 0)\n#define IRDMA_CQPSQ_MVPBP_FIRST_PD_INX GENMASK_ULL(24, 16)\n#define IRDMA_CQPSQ_MVPBP_SD_INX GENMASK_ULL(43, 32)\n#define IRDMA_CQPSQ_MVPBP_INV_PD_ENT BIT_ULL(62)\n#define IRDMA_CQPSQ_MVPBP_PD_PLPBA GENMASK_ULL(63, 3)\n\n \n#define IRDMA_INVALID_PUSH_PAGE_INDEX_GEN_1 0xffff\n#define IRDMA_INVALID_PUSH_PAGE_INDEX 0xffffffff\n\n#define IRDMA_CQPSQ_MPP_QS_HANDLE GENMASK_ULL(9, 0)\n#define IRDMA_CQPSQ_MPP_PPIDX GENMASK_ULL(9, 0)\n#define IRDMA_CQPSQ_MPP_PPTYPE GENMASK_ULL(61, 60)\n\n#define IRDMA_CQPSQ_MPP_FREE_PAGE BIT_ULL(62)\n\n \n#define IRDMA_CQPSQ_UCTX_QPCTXADDR IRDMA_CQPHC_QPCTX\n#define IRDMA_CQPSQ_UCTX_QPID GENMASK_ULL(23, 0)\n#define IRDMA_CQPSQ_UCTX_QPTYPE GENMASK_ULL(51, 48)\n\n#define IRDMA_CQPSQ_UCTX_RAWFORMAT BIT_ULL(61)\n#define IRDMA_CQPSQ_UCTX_FREEZEQP BIT_ULL(62)\n\n#define IRDMA_CQPSQ_MHMC_VFIDX GENMASK_ULL(15, 0)\n#define IRDMA_CQPSQ_MHMC_FREEPMFN BIT_ULL(62)\n\n#define IRDMA_CQPSQ_SHMCRP_HMC_PROFILE GENMASK_ULL(2, 0)\n#define IRDMA_CQPSQ_SHMCRP_VFNUM GENMASK_ULL(37, 32)\n#define IRDMA_CQPSQ_CEQ_CEQSIZE GENMASK_ULL(21, 0)\n#define IRDMA_CQPSQ_CEQ_CEQID GENMASK_ULL(9, 0)\n\n#define IRDMA_CQPSQ_CEQ_LPBLSIZE IRDMA_CQPSQ_CQ_LPBLSIZE\n#define IRDMA_CQPSQ_CEQ_VMAP BIT_ULL(47)\n#define IRDMA_CQPSQ_CEQ_ITRNOEXPIRE BIT_ULL(46)\n#define IRDMA_CQPSQ_CEQ_FIRSTPMPBLIDX GENMASK_ULL(27, 0)\n#define IRDMA_CQPSQ_AEQ_AEQECNT GENMASK_ULL(18, 0)\n#define IRDMA_CQPSQ_AEQ_LPBLSIZE IRDMA_CQPSQ_CQ_LPBLSIZE\n#define IRDMA_CQPSQ_AEQ_VMAP BIT_ULL(47)\n#define IRDMA_CQPSQ_AEQ_FIRSTPMPBLIDX GENMASK_ULL(27, 0)\n\n#define IRDMA_COMMIT_FPM_QPCNT GENMASK_ULL(18, 0)\n\n#define IRDMA_COMMIT_FPM_BASE_S 32\n#define IRDMA_CQPSQ_CFPM_HMCFNID GENMASK_ULL(5, 0)\n#define IRDMA_CQPSQ_FWQE_AECODE GENMASK_ULL(15, 0)\n#define IRDMA_CQPSQ_FWQE_AESOURCE GENMASK_ULL(19, 16)\n#define IRDMA_CQPSQ_FWQE_RQMNERR GENMASK_ULL(15, 0)\n#define IRDMA_CQPSQ_FWQE_RQMJERR GENMASK_ULL(31, 16)\n#define IRDMA_CQPSQ_FWQE_SQMNERR GENMASK_ULL(47, 32)\n#define IRDMA_CQPSQ_FWQE_SQMJERR GENMASK_ULL(63, 48)\n#define IRDMA_CQPSQ_FWQE_QPID GENMASK_ULL(23, 0)\n#define IRDMA_CQPSQ_FWQE_GENERATE_AE BIT_ULL(59)\n#define IRDMA_CQPSQ_FWQE_USERFLCODE BIT_ULL(60)\n#define IRDMA_CQPSQ_FWQE_FLUSHSQ BIT_ULL(61)\n#define IRDMA_CQPSQ_FWQE_FLUSHRQ BIT_ULL(62)\n#define IRDMA_CQPSQ_MAPT_PORT GENMASK_ULL(15, 0)\n#define IRDMA_CQPSQ_MAPT_ADDPORT BIT_ULL(62)\n#define IRDMA_CQPSQ_UPESD_SDCMD GENMASK_ULL(31, 0)\n#define IRDMA_CQPSQ_UPESD_SDDATALOW GENMASK_ULL(31, 0)\n#define IRDMA_CQPSQ_UPESD_SDDATAHI GENMASK_ULL(63, 32)\n#define IRDMA_CQPSQ_UPESD_HMCFNID GENMASK_ULL(5, 0)\n#define IRDMA_CQPSQ_UPESD_ENTRY_VALID BIT_ULL(63)\n\n#define IRDMA_CQPSQ_UPESD_BM_PF 0\n#define IRDMA_CQPSQ_UPESD_BM_CP_LM 1\n#define IRDMA_CQPSQ_UPESD_BM_AXF 2\n#define IRDMA_CQPSQ_UPESD_BM_LM 4\n#define IRDMA_CQPSQ_UPESD_BM GENMASK_ULL(34, 32)\n#define IRDMA_CQPSQ_UPESD_ENTRY_COUNT GENMASK_ULL(3, 0)\n#define IRDMA_CQPSQ_UPESD_SKIP_ENTRY BIT_ULL(7)\n#define IRDMA_CQPSQ_SUSPENDQP_QPID GENMASK_ULL(23, 0)\n#define IRDMA_CQPSQ_RESUMEQP_QSHANDLE GENMASK_ULL(31, 0)\n#define IRDMA_CQPSQ_RESUMEQP_QPID GENMASK(23, 0)\n\n#define IRDMA_CQPSQ_MIN_STAG_INVALID 0x0001\n#define IRDMA_CQPSQ_MIN_SUSPEND_PND 0x0005\n\n#define IRDMA_CQPSQ_MAJ_NO_ERROR 0x0000\n#define IRDMA_CQPSQ_MAJ_OBJCACHE_ERROR 0xF000\n#define IRDMA_CQPSQ_MAJ_CNTXTCACHE_ERROR 0xF001\n#define IRDMA_CQPSQ_MAJ_ERROR 0xFFFF\n#define IRDMAQPC_DDP_VER GENMASK_ULL(1, 0)\n#define IRDMAQPC_IBRDENABLE BIT_ULL(2)\n#define IRDMAQPC_IPV4 BIT_ULL(3)\n#define IRDMAQPC_NONAGLE BIT_ULL(4)\n#define IRDMAQPC_INSERTVLANTAG BIT_ULL(5)\n#define IRDMAQPC_ISQP1 BIT_ULL(6)\n#define IRDMAQPC_TIMESTAMP BIT_ULL(7)\n#define IRDMAQPC_RQWQESIZE GENMASK_ULL(9, 8)\n#define IRDMAQPC_INSERTL2TAG2 BIT_ULL(11)\n#define IRDMAQPC_LIMIT GENMASK_ULL(13, 12)\n\n#define IRDMAQPC_ECN_EN BIT_ULL(14)\n#define IRDMAQPC_DROPOOOSEG BIT_ULL(15)\n#define IRDMAQPC_DUPACK_THRESH GENMASK_ULL(18, 16)\n#define IRDMAQPC_ERR_RQ_IDX_VALID BIT_ULL(19)\n#define IRDMAQPC_DIS_VLAN_CHECKS GENMASK_ULL(21, 19)\n#define IRDMAQPC_DC_TCP_EN BIT_ULL(25)\n#define IRDMAQPC_RCVTPHEN BIT_ULL(28)\n#define IRDMAQPC_XMITTPHEN BIT_ULL(29)\n#define IRDMAQPC_RQTPHEN BIT_ULL(30)\n#define IRDMAQPC_SQTPHEN BIT_ULL(31)\n#define IRDMAQPC_PPIDX GENMASK_ULL(41, 32)\n#define IRDMAQPC_PMENA BIT_ULL(47)\n#define IRDMAQPC_RDMAP_VER GENMASK_ULL(63, 62)\n#define IRDMAQPC_ROCE_TVER GENMASK_ULL(63, 60)\n\n#define IRDMAQPC_SQADDR IRDMA_CQPHC_QPCTX\n#define IRDMAQPC_RQADDR IRDMA_CQPHC_QPCTX\n#define IRDMAQPC_TTL GENMASK_ULL(7, 0)\n#define IRDMAQPC_RQSIZE GENMASK_ULL(11, 8)\n#define IRDMAQPC_SQSIZE GENMASK_ULL(15, 12)\n#define IRDMAQPC_GEN1_SRCMACADDRIDX GENMASK(21, 16)\n#define IRDMAQPC_AVOIDSTRETCHACK BIT_ULL(23)\n#define IRDMAQPC_TOS GENMASK_ULL(31, 24)\n#define IRDMAQPC_SRCPORTNUM GENMASK_ULL(47, 32)\n#define IRDMAQPC_DESTPORTNUM GENMASK_ULL(63, 48)\n#define IRDMAQPC_DESTIPADDR0 GENMASK_ULL(63, 32)\n#define IRDMAQPC_DESTIPADDR1 GENMASK_ULL(31, 0)\n#define IRDMAQPC_DESTIPADDR2 GENMASK_ULL(63, 32)\n#define IRDMAQPC_DESTIPADDR3 GENMASK_ULL(31, 0)\n#define IRDMAQPC_SNDMSS GENMASK_ULL(29, 16)\n#define IRDMAQPC_SYN_RST_HANDLING GENMASK_ULL(31, 30)\n#define IRDMAQPC_VLANTAG GENMASK_ULL(47, 32)\n#define IRDMAQPC_ARPIDX GENMASK_ULL(63, 48)\n#define IRDMAQPC_FLOWLABEL GENMASK_ULL(19, 0)\n#define IRDMAQPC_WSCALE BIT_ULL(20)\n#define IRDMAQPC_KEEPALIVE BIT_ULL(21)\n#define IRDMAQPC_IGNORE_TCP_OPT BIT_ULL(22)\n#define IRDMAQPC_IGNORE_TCP_UNS_OPT BIT_ULL(23)\n#define IRDMAQPC_TCPSTATE GENMASK_ULL(31, 28)\n#define IRDMAQPC_RCVSCALE GENMASK_ULL(35, 32)\n#define IRDMAQPC_SNDSCALE GENMASK_ULL(43, 40)\n#define IRDMAQPC_PDIDX GENMASK_ULL(63, 48)\n#define IRDMAQPC_PDIDXHI GENMASK_ULL(21, 20)\n#define IRDMAQPC_PKEY GENMASK_ULL(47, 32)\n#define IRDMAQPC_ACKCREDITS GENMASK_ULL(24, 20)\n#define IRDMAQPC_QKEY GENMASK_ULL(63, 32)\n#define IRDMAQPC_DESTQP GENMASK_ULL(23, 0)\n#define IRDMAQPC_KALIVE_TIMER_MAX_PROBES GENMASK_ULL(23, 16)\n#define IRDMAQPC_KEEPALIVE_INTERVAL GENMASK_ULL(31, 24)\n#define IRDMAQPC_TIMESTAMP_RECENT GENMASK_ULL(31, 0)\n#define IRDMAQPC_TIMESTAMP_AGE GENMASK_ULL(63, 32)\n#define IRDMAQPC_SNDNXT GENMASK_ULL(31, 0)\n#define IRDMAQPC_ISN GENMASK_ULL(55, 32)\n#define IRDMAQPC_PSNNXT GENMASK_ULL(23, 0)\n#define IRDMAQPC_LSN GENMASK_ULL(55, 32)\n#define IRDMAQPC_SNDWND GENMASK_ULL(63, 32)\n#define IRDMAQPC_RCVNXT GENMASK_ULL(31, 0)\n#define IRDMAQPC_EPSN GENMASK_ULL(23, 0)\n#define IRDMAQPC_RCVWND GENMASK_ULL(63, 32)\n#define IRDMAQPC_SNDMAX GENMASK_ULL(31, 0)\n#define IRDMAQPC_SNDUNA GENMASK_ULL(63, 32)\n#define IRDMAQPC_PSNMAX GENMASK_ULL(23, 0)\n#define IRDMAQPC_PSNUNA GENMASK_ULL(55, 32)\n#define IRDMAQPC_SRTT GENMASK_ULL(31, 0)\n#define IRDMAQPC_RTTVAR GENMASK_ULL(63, 32)\n#define IRDMAQPC_SSTHRESH GENMASK_ULL(31, 0)\n#define IRDMAQPC_CWND GENMASK_ULL(63, 32)\n#define IRDMAQPC_CWNDROCE GENMASK_ULL(55, 32)\n#define IRDMAQPC_SNDWL1 GENMASK_ULL(31, 0)\n#define IRDMAQPC_SNDWL2 GENMASK_ULL(63, 32)\n#define IRDMAQPC_ERR_RQ_IDX GENMASK_ULL(45, 32)\n#define IRDMAQPC_RTOMIN GENMASK_ULL(63, 57)\n#define IRDMAQPC_MAXSNDWND GENMASK_ULL(31, 0)\n#define IRDMAQPC_REXMIT_THRESH GENMASK_ULL(53, 48)\n#define IRDMAQPC_RNRNAK_THRESH GENMASK_ULL(56, 54)\n#define IRDMAQPC_TXCQNUM GENMASK_ULL(18, 0)\n#define IRDMAQPC_RXCQNUM GENMASK_ULL(50, 32)\n#define IRDMAQPC_STAT_INDEX GENMASK_ULL(6, 0)\n#define IRDMAQPC_Q2ADDR GENMASK_ULL(63, 8)\n#define IRDMAQPC_LASTBYTESENT GENMASK_ULL(7, 0)\n#define IRDMAQPC_MACADDRESS GENMASK_ULL(63, 16)\n#define IRDMAQPC_ORDSIZE GENMASK_ULL(7, 0)\n\n#define IRDMAQPC_IRDSIZE GENMASK_ULL(18, 16)\n\n#define IRDMAQPC_UDPRIVCQENABLE BIT_ULL(19)\n#define IRDMAQPC_WRRDRSPOK BIT_ULL(20)\n#define IRDMAQPC_RDOK BIT_ULL(21)\n#define IRDMAQPC_SNDMARKERS BIT_ULL(22)\n#define IRDMAQPC_DCQCNENABLE BIT_ULL(22)\n#define IRDMAQPC_FW_CC_ENABLE BIT_ULL(28)\n#define IRDMAQPC_RCVNOICRC BIT_ULL(31)\n#define IRDMAQPC_BINDEN BIT_ULL(23)\n#define IRDMAQPC_FASTREGEN BIT_ULL(24)\n#define IRDMAQPC_PRIVEN BIT_ULL(25)\n#define IRDMAQPC_TIMELYENABLE BIT_ULL(27)\n#define IRDMAQPC_THIGH GENMASK_ULL(63, 52)\n#define IRDMAQPC_TLOW GENMASK_ULL(39, 32)\n#define IRDMAQPC_REMENDPOINTIDX GENMASK_ULL(16, 0)\n#define IRDMAQPC_USESTATSINSTANCE BIT_ULL(26)\n#define IRDMAQPC_IWARPMODE BIT_ULL(28)\n#define IRDMAQPC_RCVMARKERS BIT_ULL(29)\n#define IRDMAQPC_ALIGNHDRS BIT_ULL(30)\n#define IRDMAQPC_RCVNOMPACRC BIT_ULL(31)\n#define IRDMAQPC_RCVMARKOFFSET GENMASK_ULL(40, 32)\n#define IRDMAQPC_SNDMARKOFFSET GENMASK_ULL(56, 48)\n\n#define IRDMAQPC_QPCOMPCTX IRDMA_CQPHC_QPCTX\n#define IRDMAQPC_SQTPHVAL GENMASK_ULL(7, 0)\n#define IRDMAQPC_RQTPHVAL GENMASK_ULL(15, 8)\n#define IRDMAQPC_QSHANDLE GENMASK_ULL(25, 16)\n#define IRDMAQPC_EXCEPTION_LAN_QUEUE GENMASK_ULL(43, 32)\n#define IRDMAQPC_LOCAL_IPADDR3 GENMASK_ULL(31, 0)\n#define IRDMAQPC_LOCAL_IPADDR2 GENMASK_ULL(63, 32)\n#define IRDMAQPC_LOCAL_IPADDR1 GENMASK_ULL(31, 0)\n#define IRDMAQPC_LOCAL_IPADDR0 GENMASK_ULL(63, 32)\n#define IRDMA_FW_VER_MINOR GENMASK_ULL(15, 0)\n#define IRDMA_FW_VER_MAJOR GENMASK_ULL(31, 16)\n#define IRDMA_FEATURE_INFO GENMASK_ULL(47, 0)\n#define IRDMA_FEATURE_CNT GENMASK_ULL(47, 32)\n#define IRDMA_FEATURE_TYPE GENMASK_ULL(63, 48)\n\n#define IRDMAQPSQ_OPCODE GENMASK_ULL(37, 32)\n#define IRDMAQPSQ_COPY_HOST_PBL BIT_ULL(43)\n#define IRDMAQPSQ_ADDFRAGCNT GENMASK_ULL(41, 38)\n#define IRDMAQPSQ_PUSHWQE BIT_ULL(56)\n#define IRDMAQPSQ_STREAMMODE BIT_ULL(58)\n#define IRDMAQPSQ_WAITFORRCVPDU BIT_ULL(59)\n#define IRDMAQPSQ_READFENCE BIT_ULL(60)\n#define IRDMAQPSQ_LOCALFENCE BIT_ULL(61)\n#define IRDMAQPSQ_UDPHEADER BIT_ULL(61)\n#define IRDMAQPSQ_L4LEN GENMASK_ULL(45, 42)\n#define IRDMAQPSQ_SIGCOMPL BIT_ULL(62)\n#define IRDMAQPSQ_VALID BIT_ULL(63)\n\n#define IRDMAQPSQ_FRAG_TO IRDMA_CQPHC_QPCTX\n#define IRDMAQPSQ_FRAG_VALID BIT_ULL(63)\n#define IRDMAQPSQ_FRAG_LEN GENMASK_ULL(62, 32)\n#define IRDMAQPSQ_FRAG_STAG GENMASK_ULL(31, 0)\n#define IRDMAQPSQ_GEN1_FRAG_LEN GENMASK_ULL(31, 0)\n#define IRDMAQPSQ_GEN1_FRAG_STAG GENMASK_ULL(63, 32)\n#define IRDMAQPSQ_REMSTAGINV GENMASK_ULL(31, 0)\n#define IRDMAQPSQ_DESTQKEY GENMASK_ULL(31, 0)\n#define IRDMAQPSQ_DESTQPN GENMASK_ULL(55, 32)\n#define IRDMAQPSQ_AHID GENMASK_ULL(16, 0)\n#define IRDMAQPSQ_INLINEDATAFLAG BIT_ULL(57)\n\n#define IRDMA_INLINE_VALID_S 7\n#define IRDMAQPSQ_INLINEDATALEN GENMASK_ULL(55, 48)\n#define IRDMAQPSQ_IMMDATAFLAG BIT_ULL(47)\n#define IRDMAQPSQ_REPORTRTT BIT_ULL(46)\n\n#define IRDMAQPSQ_IMMDATA GENMASK_ULL(63, 0)\n#define IRDMAQPSQ_REMSTAG GENMASK_ULL(31, 0)\n\n#define IRDMAQPSQ_REMTO IRDMA_CQPHC_QPCTX\n\n#define IRDMAQPSQ_STAGRIGHTS GENMASK_ULL(52, 48)\n#define IRDMAQPSQ_VABASEDTO BIT_ULL(53)\n#define IRDMAQPSQ_MEMWINDOWTYPE BIT_ULL(54)\n\n#define IRDMAQPSQ_MWLEN IRDMA_CQPHC_QPCTX\n#define IRDMAQPSQ_PARENTMRSTAG GENMASK_ULL(63, 32)\n#define IRDMAQPSQ_MWSTAG GENMASK_ULL(31, 0)\n\n#define IRDMAQPSQ_BASEVA_TO_FBO IRDMA_CQPHC_QPCTX\n\n#define IRDMAQPSQ_LOCSTAG GENMASK_ULL(31, 0)\n\n#define IRDMAQPSQ_STAGKEY GENMASK_ULL(7, 0)\n#define IRDMAQPSQ_STAGINDEX GENMASK_ULL(31, 8)\n#define IRDMAQPSQ_COPYHOSTPBLS BIT_ULL(43)\n#define IRDMAQPSQ_LPBLSIZE GENMASK_ULL(45, 44)\n#define IRDMAQPSQ_HPAGESIZE GENMASK_ULL(47, 46)\n#define IRDMAQPSQ_STAGLEN GENMASK_ULL(40, 0)\n#define IRDMAQPSQ_FIRSTPMPBLIDXLO GENMASK_ULL(63, 48)\n#define IRDMAQPSQ_FIRSTPMPBLIDXHI GENMASK_ULL(11, 0)\n#define IRDMAQPSQ_PBLADDR GENMASK_ULL(63, 12)\n\n \n#define IRDMAQPRQ_ADDFRAGCNT IRDMAQPSQ_ADDFRAGCNT\n#define IRDMAQPRQ_VALID IRDMAQPSQ_VALID\n#define IRDMAQPRQ_COMPLCTX IRDMA_CQPHC_QPCTX\n#define IRDMAQPRQ_FRAG_LEN IRDMAQPSQ_FRAG_LEN\n#define IRDMAQPRQ_STAG IRDMAQPSQ_FRAG_STAG\n#define IRDMAQPRQ_TO IRDMAQPSQ_FRAG_TO\n\n#define IRDMAPFINT_OICR_HMC_ERR_M BIT(26)\n#define IRDMAPFINT_OICR_PE_PUSH_M BIT(27)\n#define IRDMAPFINT_OICR_PE_CRITERR_M BIT(28)\n\n#define IRDMA_QUERY_FPM_MAX_QPS GENMASK_ULL(18, 0)\n#define IRDMA_QUERY_FPM_MAX_CQS GENMASK_ULL(19, 0)\n#define IRDMA_QUERY_FPM_FIRST_PE_SD_INDEX GENMASK_ULL(13, 0)\n#define IRDMA_QUERY_FPM_MAX_PE_SDS GENMASK_ULL(45, 32)\n#define IRDMA_QUERY_FPM_MAX_CEQS GENMASK_ULL(9, 0)\n#define IRDMA_QUERY_FPM_XFBLOCKSIZE GENMASK_ULL(63, 32)\n#define IRDMA_QUERY_FPM_Q1BLOCKSIZE GENMASK_ULL(63, 32)\n#define IRDMA_QUERY_FPM_HTMULTIPLIER GENMASK_ULL(19, 16)\n#define IRDMA_QUERY_FPM_TIMERBUCKET GENMASK_ULL(47, 32)\n#define IRDMA_QUERY_FPM_RRFBLOCKSIZE GENMASK_ULL(63, 32)\n#define IRDMA_QUERY_FPM_RRFFLBLOCKSIZE GENMASK_ULL(63, 32)\n#define IRDMA_QUERY_FPM_OOISCFBLOCKSIZE GENMASK_ULL(63, 32)\n#define IRDMA_SHMC_PAGE_ALLOCATED_HMC_FN_ID GENMASK_ULL(5, 0)\n\n#define IRDMA_GET_CURRENT_AEQ_ELEM(_aeq) \\\n\t( \\\n\t\t(_aeq)->aeqe_base[IRDMA_RING_CURRENT_TAIL((_aeq)->aeq_ring)].buf \\\n\t)\n\n#define IRDMA_GET_CURRENT_CEQ_ELEM(_ceq) \\\n\t( \\\n\t\t(_ceq)->ceqe_base[IRDMA_RING_CURRENT_TAIL((_ceq)->ceq_ring)].buf \\\n\t)\n\n#define IRDMA_GET_CEQ_ELEM_AT_POS(_ceq, _pos) \\\n\t( \\\n\t\t(_ceq)->ceqe_base[_pos].buf  \\\n\t)\n\n#define IRDMA_RING_GET_NEXT_TAIL(_ring, _idx) \\\n\t( \\\n\t\t((_ring).tail + (_idx)) % (_ring).size \\\n\t)\n\n#define IRDMA_CQP_INIT_WQE(wqe) memset(wqe, 0, 64)\n\n#define IRDMA_GET_CURRENT_CQ_ELEM(_cq) \\\n\t( \\\n\t\t(_cq)->cq_base[IRDMA_RING_CURRENT_HEAD((_cq)->cq_ring)].buf  \\\n\t)\n#define IRDMA_GET_CURRENT_EXTENDED_CQ_ELEM(_cq) \\\n\t( \\\n\t\t((struct irdma_extended_cqe *) \\\n\t\t((_cq)->cq_base))[IRDMA_RING_CURRENT_HEAD((_cq)->cq_ring)].buf \\\n\t)\n\n#define IRDMA_RING_INIT(_ring, _size) \\\n\t{ \\\n\t\t(_ring).head = 0; \\\n\t\t(_ring).tail = 0; \\\n\t\t(_ring).size = (_size); \\\n\t}\n#define IRDMA_RING_SIZE(_ring) ((_ring).size)\n#define IRDMA_RING_CURRENT_HEAD(_ring) ((_ring).head)\n#define IRDMA_RING_CURRENT_TAIL(_ring) ((_ring).tail)\n\n#define IRDMA_RING_MOVE_HEAD(_ring, _retcode) \\\n\t{ \\\n\t\tregister u32 size; \\\n\t\tsize = (_ring).size;  \\\n\t\tif (!IRDMA_RING_FULL_ERR(_ring)) { \\\n\t\t\t(_ring).head = ((_ring).head + 1) % size; \\\n\t\t\t(_retcode) = 0; \\\n\t\t} else { \\\n\t\t\t(_retcode) = -ENOMEM; \\\n\t\t} \\\n\t}\n#define IRDMA_RING_MOVE_HEAD_BY_COUNT(_ring, _count, _retcode) \\\n\t{ \\\n\t\tregister u32 size; \\\n\t\tsize = (_ring).size; \\\n\t\tif ((IRDMA_RING_USED_QUANTA(_ring) + (_count)) < size) { \\\n\t\t\t(_ring).head = ((_ring).head + (_count)) % size; \\\n\t\t\t(_retcode) = 0; \\\n\t\t} else { \\\n\t\t\t(_retcode) = -ENOMEM; \\\n\t\t} \\\n\t}\n#define IRDMA_SQ_RING_MOVE_HEAD(_ring, _retcode) \\\n\t{ \\\n\t\tregister u32 size; \\\n\t\tsize = (_ring).size;  \\\n\t\tif (!IRDMA_SQ_RING_FULL_ERR(_ring)) { \\\n\t\t\t(_ring).head = ((_ring).head + 1) % size; \\\n\t\t\t(_retcode) = 0; \\\n\t\t} else { \\\n\t\t\t(_retcode) = -ENOMEM; \\\n\t\t} \\\n\t}\n#define IRDMA_SQ_RING_MOVE_HEAD_BY_COUNT(_ring, _count, _retcode) \\\n\t{ \\\n\t\tregister u32 size; \\\n\t\tsize = (_ring).size; \\\n\t\tif ((IRDMA_RING_USED_QUANTA(_ring) + (_count)) < (size - 256)) { \\\n\t\t\t(_ring).head = ((_ring).head + (_count)) % size; \\\n\t\t\t(_retcode) = 0; \\\n\t\t} else { \\\n\t\t\t(_retcode) = -ENOMEM; \\\n\t\t} \\\n\t}\n#define IRDMA_RING_MOVE_HEAD_BY_COUNT_NOCHECK(_ring, _count) \\\n\t(_ring).head = ((_ring).head + (_count)) % (_ring).size\n\n#define IRDMA_RING_MOVE_TAIL(_ring) \\\n\t(_ring).tail = ((_ring).tail + 1) % (_ring).size\n\n#define IRDMA_RING_MOVE_HEAD_NOCHECK(_ring) \\\n\t(_ring).head = ((_ring).head + 1) % (_ring).size\n\n#define IRDMA_RING_MOVE_TAIL_BY_COUNT(_ring, _count) \\\n\t(_ring).tail = ((_ring).tail + (_count)) % (_ring).size\n\n#define IRDMA_RING_SET_TAIL(_ring, _pos) \\\n\t(_ring).tail = (_pos) % (_ring).size\n\n#define IRDMA_RING_FULL_ERR(_ring) \\\n\t( \\\n\t\t(IRDMA_RING_USED_QUANTA(_ring) == ((_ring).size - 1))  \\\n\t)\n\n#define IRDMA_ERR_RING_FULL2(_ring) \\\n\t( \\\n\t\t(IRDMA_RING_USED_QUANTA(_ring) == ((_ring).size - 2))  \\\n\t)\n\n#define IRDMA_ERR_RING_FULL3(_ring) \\\n\t( \\\n\t\t(IRDMA_RING_USED_QUANTA(_ring) == ((_ring).size - 3))  \\\n\t)\n\n#define IRDMA_SQ_RING_FULL_ERR(_ring) \\\n\t( \\\n\t\t(IRDMA_RING_USED_QUANTA(_ring) == ((_ring).size - 257))  \\\n\t)\n\n#define IRDMA_ERR_SQ_RING_FULL2(_ring) \\\n\t( \\\n\t\t(IRDMA_RING_USED_QUANTA(_ring) == ((_ring).size - 258))  \\\n\t)\n#define IRDMA_ERR_SQ_RING_FULL3(_ring) \\\n\t( \\\n\t\t(IRDMA_RING_USED_QUANTA(_ring) == ((_ring).size - 259))  \\\n\t)\n#define IRDMA_RING_MORE_WORK(_ring) \\\n\t( \\\n\t\t(IRDMA_RING_USED_QUANTA(_ring) != 0) \\\n\t)\n\n#define IRDMA_RING_USED_QUANTA(_ring) \\\n\t( \\\n\t\t(((_ring).head + (_ring).size - (_ring).tail) % (_ring).size) \\\n\t)\n\n#define IRDMA_RING_FREE_QUANTA(_ring) \\\n\t( \\\n\t\t((_ring).size - IRDMA_RING_USED_QUANTA(_ring) - 1) \\\n\t)\n\n#define IRDMA_SQ_RING_FREE_QUANTA(_ring) \\\n\t( \\\n\t\t((_ring).size - IRDMA_RING_USED_QUANTA(_ring) - 257) \\\n\t)\n\n#define IRDMA_ATOMIC_RING_MOVE_HEAD(_ring, index, _retcode) \\\n\t{ \\\n\t\tindex = IRDMA_RING_CURRENT_HEAD(_ring); \\\n\t\tIRDMA_RING_MOVE_HEAD(_ring, _retcode); \\\n\t}\n\nenum irdma_qp_wqe_size {\n\tIRDMA_WQE_SIZE_32  = 32,\n\tIRDMA_WQE_SIZE_64  = 64,\n\tIRDMA_WQE_SIZE_96  = 96,\n\tIRDMA_WQE_SIZE_128 = 128,\n\tIRDMA_WQE_SIZE_256 = 256,\n};\n\nenum irdma_ws_node_op {\n\tIRDMA_ADD_NODE = 0,\n\tIRDMA_MODIFY_NODE,\n\tIRDMA_DEL_NODE,\n};\n\nenum {\tIRDMA_Q_ALIGNMENT_M\t\t = (128 - 1),\n\tIRDMA_AEQ_ALIGNMENT_M\t\t = (256 - 1),\n\tIRDMA_Q2_ALIGNMENT_M\t\t = (256 - 1),\n\tIRDMA_CEQ_ALIGNMENT_M\t\t = (256 - 1),\n\tIRDMA_CQ0_ALIGNMENT_M\t\t = (256 - 1),\n\tIRDMA_HOST_CTX_ALIGNMENT_M\t = (4 - 1),\n\tIRDMA_SHADOWAREA_M\t\t = (128 - 1),\n\tIRDMA_FPM_QUERY_BUF_ALIGNMENT_M\t = (4 - 1),\n\tIRDMA_FPM_COMMIT_BUF_ALIGNMENT_M = (4 - 1),\n};\n\nenum irdma_alignment {\n\tIRDMA_CQP_ALIGNMENT\t    = 0x200,\n\tIRDMA_AEQ_ALIGNMENT\t    = 0x100,\n\tIRDMA_CEQ_ALIGNMENT\t    = 0x100,\n\tIRDMA_CQ0_ALIGNMENT\t    = 0x100,\n\tIRDMA_SD_BUF_ALIGNMENT      = 0x80,\n\tIRDMA_FEATURE_BUF_ALIGNMENT = 0x8,\n};\n\nenum icrdma_protocol_used {\n\tICRDMA_ANY_PROTOCOL\t   = 0,\n\tICRDMA_IWARP_PROTOCOL_ONLY = 1,\n\tICRDMA_ROCE_PROTOCOL_ONLY  = 2,\n};\n\n \nstatic inline void set_64bit_val(__le64 *wqe_words, u32 byte_index, u64 val)\n{\n\twqe_words[byte_index >> 3] = cpu_to_le64(val);\n}\n\n \nstatic inline void set_32bit_val(__le32 *wqe_words, u32 byte_index, u32 val)\n{\n\twqe_words[byte_index >> 2] = cpu_to_le32(val);\n}\n\n \nstatic inline void get_64bit_val(__le64 *wqe_words, u32 byte_index, u64 *val)\n{\n\t*val = le64_to_cpu(wqe_words[byte_index >> 3]);\n}\n\n \nstatic inline void get_32bit_val(__le32 *wqe_words, u32 byte_index, u32 *val)\n{\n\t*val = le32_to_cpu(wqe_words[byte_index >> 2]);\n}\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}