{
  "module_name": "type.h",
  "hash_id": "0ad911e0afc775bd33b448e1354be5fa50bdc8531a91fc06eaeeef167e9ad4c4",
  "original_prompt": "Ingested from linux-6.6.14/drivers/infiniband/hw/irdma/type.h",
  "human_readable_source": " \n \n#ifndef IRDMA_TYPE_H\n#define IRDMA_TYPE_H\n#include \"osdep.h\"\n#include \"irdma.h\"\n#include \"user.h\"\n#include \"hmc.h\"\n#include \"uda.h\"\n#include \"ws.h\"\n#define IRDMA_DEBUG_ERR\t\t\"ERR\"\n#define IRDMA_DEBUG_INIT\t\"INIT\"\n#define IRDMA_DEBUG_DEV\t\t\"DEV\"\n#define IRDMA_DEBUG_CM\t\t\"CM\"\n#define IRDMA_DEBUG_VERBS\t\"VERBS\"\n#define IRDMA_DEBUG_PUDA\t\"PUDA\"\n#define IRDMA_DEBUG_ILQ\t\t\"ILQ\"\n#define IRDMA_DEBUG_IEQ\t\t\"IEQ\"\n#define IRDMA_DEBUG_QP\t\t\"QP\"\n#define IRDMA_DEBUG_CQ\t\t\"CQ\"\n#define IRDMA_DEBUG_MR\t\t\"MR\"\n#define IRDMA_DEBUG_PBLE\t\"PBLE\"\n#define IRDMA_DEBUG_WQE\t\t\"WQE\"\n#define IRDMA_DEBUG_AEQ\t\t\"AEQ\"\n#define IRDMA_DEBUG_CQP\t\t\"CQP\"\n#define IRDMA_DEBUG_HMC\t\t\"HMC\"\n#define IRDMA_DEBUG_USER\t\"USER\"\n#define IRDMA_DEBUG_VIRT\t\"VIRT\"\n#define IRDMA_DEBUG_DCB\t\t\"DCB\"\n#define\tIRDMA_DEBUG_CQE\t\t\"CQE\"\n#define IRDMA_DEBUG_CLNT\t\"CLNT\"\n#define IRDMA_DEBUG_WS\t\t\"WS\"\n#define IRDMA_DEBUG_STATS\t\"STATS\"\n\nenum irdma_page_size {\n\tIRDMA_PAGE_SIZE_4K = 0,\n\tIRDMA_PAGE_SIZE_2M,\n\tIRDMA_PAGE_SIZE_1G,\n};\n\nenum irdma_hdrct_flags {\n\tDDP_LEN_FLAG  = 0x80,\n\tDDP_HDR_FLAG  = 0x40,\n\tRDMA_HDR_FLAG = 0x20,\n};\n\nenum irdma_term_layers {\n\tLAYER_RDMA = 0,\n\tLAYER_DDP  = 1,\n\tLAYER_MPA  = 2,\n};\n\nenum irdma_term_error_types {\n\tRDMAP_REMOTE_PROT = 1,\n\tRDMAP_REMOTE_OP   = 2,\n\tDDP_CATASTROPHIC  = 0,\n\tDDP_TAGGED_BUF    = 1,\n\tDDP_UNTAGGED_BUF  = 2,\n\tDDP_LLP\t\t  = 3,\n};\n\nenum irdma_term_rdma_errors {\n\tRDMAP_INV_STAG\t\t  = 0x00,\n\tRDMAP_INV_BOUNDS\t  = 0x01,\n\tRDMAP_ACCESS\t\t  = 0x02,\n\tRDMAP_UNASSOC_STAG\t  = 0x03,\n\tRDMAP_TO_WRAP\t\t  = 0x04,\n\tRDMAP_INV_RDMAP_VER       = 0x05,\n\tRDMAP_UNEXPECTED_OP       = 0x06,\n\tRDMAP_CATASTROPHIC_LOCAL  = 0x07,\n\tRDMAP_CATASTROPHIC_GLOBAL = 0x08,\n\tRDMAP_CANT_INV_STAG       = 0x09,\n\tRDMAP_UNSPECIFIED\t  = 0xff,\n};\n\nenum irdma_term_ddp_errors {\n\tDDP_CATASTROPHIC_LOCAL      = 0x00,\n\tDDP_TAGGED_INV_STAG\t    = 0x00,\n\tDDP_TAGGED_BOUNDS\t    = 0x01,\n\tDDP_TAGGED_UNASSOC_STAG     = 0x02,\n\tDDP_TAGGED_TO_WRAP\t    = 0x03,\n\tDDP_TAGGED_INV_DDP_VER      = 0x04,\n\tDDP_UNTAGGED_INV_QN\t    = 0x01,\n\tDDP_UNTAGGED_INV_MSN_NO_BUF = 0x02,\n\tDDP_UNTAGGED_INV_MSN_RANGE  = 0x03,\n\tDDP_UNTAGGED_INV_MO\t    = 0x04,\n\tDDP_UNTAGGED_INV_TOO_LONG   = 0x05,\n\tDDP_UNTAGGED_INV_DDP_VER    = 0x06,\n};\n\nenum irdma_term_mpa_errors {\n\tMPA_CLOSED  = 0x01,\n\tMPA_CRC     = 0x02,\n\tMPA_MARKER  = 0x03,\n\tMPA_REQ_RSP = 0x04,\n};\n\nenum irdma_qp_event_type {\n\tIRDMA_QP_EVENT_CATASTROPHIC,\n\tIRDMA_QP_EVENT_ACCESS_ERR,\n\tIRDMA_QP_EVENT_REQ_ERR,\n};\n\nenum irdma_hw_stats_index {\n\t \n\tIRDMA_HW_STAT_INDEX_IP4RXDISCARD\t= 0,\n\tIRDMA_HW_STAT_INDEX_IP4RXTRUNC\t\t= 1,\n\tIRDMA_HW_STAT_INDEX_IP4TXNOROUTE\t= 2,\n\tIRDMA_HW_STAT_INDEX_IP6RXDISCARD\t= 3,\n\tIRDMA_HW_STAT_INDEX_IP6RXTRUNC\t\t= 4,\n\tIRDMA_HW_STAT_INDEX_IP6TXNOROUTE\t= 5,\n\tIRDMA_HW_STAT_INDEX_TCPRTXSEG\t\t= 6,\n\tIRDMA_HW_STAT_INDEX_TCPRXOPTERR\t\t= 7,\n\tIRDMA_HW_STAT_INDEX_TCPRXPROTOERR\t= 8,\n\tIRDMA_HW_STAT_INDEX_RXVLANERR\t\t= 9,\n\t\t \n\tIRDMA_HW_STAT_INDEX_IP4RXOCTS\t\t= 10,\n\tIRDMA_HW_STAT_INDEX_IP4RXPKTS\t\t= 11,\n\tIRDMA_HW_STAT_INDEX_IP4RXFRAGS\t\t= 12,\n\tIRDMA_HW_STAT_INDEX_IP4RXMCPKTS\t\t= 13,\n\tIRDMA_HW_STAT_INDEX_IP4TXOCTS\t\t= 14,\n\tIRDMA_HW_STAT_INDEX_IP4TXPKTS\t\t= 15,\n\tIRDMA_HW_STAT_INDEX_IP4TXFRAGS\t\t= 16,\n\tIRDMA_HW_STAT_INDEX_IP4TXMCPKTS\t\t= 17,\n\tIRDMA_HW_STAT_INDEX_IP6RXOCTS\t\t= 18,\n\tIRDMA_HW_STAT_INDEX_IP6RXPKTS\t\t= 19,\n\tIRDMA_HW_STAT_INDEX_IP6RXFRAGS\t\t= 20,\n\tIRDMA_HW_STAT_INDEX_IP6RXMCPKTS\t\t= 21,\n\tIRDMA_HW_STAT_INDEX_IP6TXOCTS\t\t= 22,\n\tIRDMA_HW_STAT_INDEX_IP6TXPKTS\t\t= 23,\n\tIRDMA_HW_STAT_INDEX_IP6TXFRAGS\t\t= 24,\n\tIRDMA_HW_STAT_INDEX_IP6TXMCPKTS\t\t= 25,\n\tIRDMA_HW_STAT_INDEX_TCPRXSEGS\t\t= 26,\n\tIRDMA_HW_STAT_INDEX_TCPTXSEG\t\t= 27,\n\tIRDMA_HW_STAT_INDEX_RDMARXRDS\t\t= 28,\n\tIRDMA_HW_STAT_INDEX_RDMARXSNDS\t\t= 29,\n\tIRDMA_HW_STAT_INDEX_RDMARXWRS\t\t= 30,\n\tIRDMA_HW_STAT_INDEX_RDMATXRDS\t\t= 31,\n\tIRDMA_HW_STAT_INDEX_RDMATXSNDS\t\t= 32,\n\tIRDMA_HW_STAT_INDEX_RDMATXWRS\t\t= 33,\n\tIRDMA_HW_STAT_INDEX_RDMAVBND\t\t= 34,\n\tIRDMA_HW_STAT_INDEX_RDMAVINV\t\t= 35,\n\tIRDMA_HW_STAT_INDEX_IP4RXMCOCTS         = 36,\n\tIRDMA_HW_STAT_INDEX_IP4TXMCOCTS         = 37,\n\tIRDMA_HW_STAT_INDEX_IP6RXMCOCTS         = 38,\n\tIRDMA_HW_STAT_INDEX_IP6TXMCOCTS         = 39,\n\tIRDMA_HW_STAT_INDEX_UDPRXPKTS           = 40,\n\tIRDMA_HW_STAT_INDEX_UDPTXPKTS           = 41,\n\tIRDMA_HW_STAT_INDEX_MAX_GEN_1           = 42,  \n\t \n\tIRDMA_HW_STAT_INDEX_RXNPECNMARKEDPKTS   = 42,\n\t \n\tIRDMA_HW_STAT_INDEX_RXRPCNPHANDLED      = 43,\n\tIRDMA_HW_STAT_INDEX_RXRPCNPIGNORED      = 44,\n\tIRDMA_HW_STAT_INDEX_TXNPCNPSENT         = 45,\n\tIRDMA_HW_STAT_INDEX_MAX_GEN_2\t\t= 46,\n};\n\nenum irdma_feature_type {\n\tIRDMA_FEATURE_FW_INFO = 0,\n\tIRDMA_HW_VERSION_INFO = 1,\n\tIRDMA_QSETS_MAX       = 26,\n\tIRDMA_MAX_FEATURES,  \n};\n\nenum irdma_sched_prio_type {\n\tIRDMA_PRIO_WEIGHTED_RR     = 1,\n\tIRDMA_PRIO_STRICT\t   = 2,\n\tIRDMA_PRIO_WEIGHTED_STRICT = 3,\n};\n\nenum irdma_vm_vf_type {\n\tIRDMA_VF_TYPE = 0,\n\tIRDMA_VM_TYPE,\n\tIRDMA_PF_TYPE,\n};\n\nenum irdma_cqp_hmc_profile {\n\tIRDMA_HMC_PROFILE_DEFAULT  = 1,\n\tIRDMA_HMC_PROFILE_FAVOR_VF = 2,\n\tIRDMA_HMC_PROFILE_EQUAL    = 3,\n};\n\nenum irdma_quad_entry_type {\n\tIRDMA_QHASH_TYPE_TCP_ESTABLISHED = 1,\n\tIRDMA_QHASH_TYPE_TCP_SYN,\n\tIRDMA_QHASH_TYPE_UDP_UNICAST,\n\tIRDMA_QHASH_TYPE_UDP_MCAST,\n\tIRDMA_QHASH_TYPE_ROCE_MCAST,\n\tIRDMA_QHASH_TYPE_ROCEV2_HW,\n};\n\nenum irdma_quad_hash_manage_type {\n\tIRDMA_QHASH_MANAGE_TYPE_DELETE = 0,\n\tIRDMA_QHASH_MANAGE_TYPE_ADD,\n\tIRDMA_QHASH_MANAGE_TYPE_MODIFY,\n};\n\nenum irdma_syn_rst_handling {\n\tIRDMA_SYN_RST_HANDLING_HW_TCP_SECURE = 0,\n\tIRDMA_SYN_RST_HANDLING_HW_TCP,\n\tIRDMA_SYN_RST_HANDLING_FW_TCP_SECURE,\n\tIRDMA_SYN_RST_HANDLING_FW_TCP,\n};\n\nenum irdma_queue_type {\n\tIRDMA_QUEUE_TYPE_SQ_RQ = 0,\n\tIRDMA_QUEUE_TYPE_CQP,\n};\n\nstruct irdma_sc_dev;\nstruct irdma_vsi_pestat;\n\nstruct irdma_dcqcn_cc_params {\n\tu8 cc_cfg_valid;\n\tu8 min_dec_factor;\n\tu8 min_rate;\n\tu8 dcqcn_f;\n\tu16 rai_factor;\n\tu16 hai_factor;\n\tu16 dcqcn_t;\n\tu32 dcqcn_b;\n\tu32 rreduce_mperiod;\n};\n\nstruct irdma_cqp_init_info {\n\tu64 cqp_compl_ctx;\n\tu64 host_ctx_pa;\n\tu64 sq_pa;\n\tstruct irdma_sc_dev *dev;\n\tstruct irdma_cqp_quanta *sq;\n\tstruct irdma_dcqcn_cc_params dcqcn_params;\n\t__le64 *host_ctx;\n\tu64 *scratch_array;\n\tu32 sq_size;\n\tu16 hw_maj_ver;\n\tu16 hw_min_ver;\n\tu8 struct_ver;\n\tu8 hmc_profile;\n\tu8 ena_vf_count;\n\tu8 ceqs_per_vf;\n\tbool en_datacenter_tcp:1;\n\tbool disable_packed:1;\n\tbool rocev2_rto_policy:1;\n\tenum irdma_protocol_used protocol_used;\n};\n\nstruct irdma_terminate_hdr {\n\tu8 layer_etype;\n\tu8 error_code;\n\tu8 hdrct;\n\tu8 rsvd;\n};\n\nstruct irdma_cqp_sq_wqe {\n\t__le64 buf[IRDMA_CQP_WQE_SIZE];\n};\n\nstruct irdma_sc_aeqe {\n\t__le64 buf[IRDMA_AEQE_SIZE];\n};\n\nstruct irdma_ceqe {\n\t__le64 buf[IRDMA_CEQE_SIZE];\n};\n\nstruct irdma_cqp_ctx {\n\t__le64 buf[IRDMA_CQP_CTX_SIZE];\n};\n\nstruct irdma_cq_shadow_area {\n\t__le64 buf[IRDMA_SHADOW_AREA_SIZE];\n};\n\nstruct irdma_dev_hw_stats_offsets {\n\tu32 stats_offset[IRDMA_HW_STAT_INDEX_MAX_GEN_1];\n};\n\nstruct irdma_dev_hw_stats {\n\tu64 stats_val[IRDMA_GATHER_STATS_BUF_SIZE / sizeof(u64)];\n};\n\nstruct irdma_gather_stats {\n\tu64 val[IRDMA_GATHER_STATS_BUF_SIZE / sizeof(u64)];\n};\n\nstruct irdma_hw_stat_map {\n\tu16 byteoff;\n\tu8 bitoff;\n\tu64 bitmask;\n};\n\nstruct irdma_stats_gather_info {\n\tbool use_hmc_fcn_index:1;\n\tbool use_stats_inst:1;\n\tu8 hmc_fcn_index;\n\tu8 stats_inst_index;\n\tstruct irdma_dma_mem stats_buff_mem;\n\tvoid *gather_stats_va;\n\tvoid *last_gather_stats_va;\n};\n\nstruct irdma_vsi_pestat {\n\tstruct irdma_hw *hw;\n\tstruct irdma_dev_hw_stats hw_stats;\n\tstruct irdma_stats_gather_info gather_info;\n\tstruct timer_list stats_timer;\n\tstruct irdma_sc_vsi *vsi;\n\tstruct irdma_dev_hw_stats last_hw_stats;\n\tspinlock_t lock;  \n};\n\nstruct irdma_hw {\n\tu8 __iomem *hw_addr;\n\tu8 __iomem *priv_hw_addr;\n\tstruct device *device;\n\tstruct irdma_hmc_info hmc;\n};\n\nstruct irdma_pfpdu {\n\tstruct list_head rxlist;\n\tu32 rcv_nxt;\n\tu32 fps;\n\tu32 max_fpdu_data;\n\tu32 nextseqnum;\n\tu32 rcv_start_seq;\n\tbool mode:1;\n\tbool mpa_crc_err:1;\n\tu8  marker_len;\n\tu64 total_ieq_bufs;\n\tu64 fpdu_processed;\n\tu64 bad_seq_num;\n\tu64 crc_err;\n\tu64 no_tx_bufs;\n\tu64 tx_err;\n\tu64 out_of_order;\n\tu64 pmode_count;\n\tstruct irdma_sc_ah *ah;\n\tstruct irdma_puda_buf *ah_buf;\n\tspinlock_t lock;  \n\tstruct irdma_puda_buf *lastrcv_buf;\n};\n\nstruct irdma_sc_pd {\n\tstruct irdma_sc_dev *dev;\n\tu32 pd_id;\n\tint abi_ver;\n};\n\nstruct irdma_cqp_quanta {\n\t__le64 elem[IRDMA_CQP_WQE_SIZE];\n};\n\nstruct irdma_sc_cqp {\n\tu32 size;\n\tu64 sq_pa;\n\tu64 host_ctx_pa;\n\tvoid *back_cqp;\n\tstruct irdma_sc_dev *dev;\n\tint (*process_cqp_sds)(struct irdma_sc_dev *dev,\n\t\t\t       struct irdma_update_sds_info *info);\n\tstruct irdma_dma_mem sdbuf;\n\tstruct irdma_ring sq_ring;\n\tstruct irdma_cqp_quanta *sq_base;\n\tstruct irdma_dcqcn_cc_params dcqcn_params;\n\t__le64 *host_ctx;\n\tu64 *scratch_array;\n\tu64 requested_ops;\n\tatomic64_t completed_ops;\n\tu32 cqp_id;\n\tu32 sq_size;\n\tu32 hw_sq_size;\n\tu16 hw_maj_ver;\n\tu16 hw_min_ver;\n\tu8 struct_ver;\n\tu8 polarity;\n\tu8 hmc_profile;\n\tu8 ena_vf_count;\n\tu8 timeout_count;\n\tu8 ceqs_per_vf;\n\tbool en_datacenter_tcp:1;\n\tbool disable_packed:1;\n\tbool rocev2_rto_policy:1;\n\tenum irdma_protocol_used protocol_used;\n};\n\nstruct irdma_sc_aeq {\n\tu32 size;\n\tu64 aeq_elem_pa;\n\tstruct irdma_sc_dev *dev;\n\tstruct irdma_sc_aeqe *aeqe_base;\n\tvoid *pbl_list;\n\tu32 elem_cnt;\n\tstruct irdma_ring aeq_ring;\n\tu8 pbl_chunk_size;\n\tu32 first_pm_pbl_idx;\n\tu32 msix_idx;\n\tu8 polarity;\n\tbool virtual_map:1;\n};\n\nstruct irdma_sc_ceq {\n\tu32 size;\n\tu64 ceq_elem_pa;\n\tstruct irdma_sc_dev *dev;\n\tstruct irdma_ceqe *ceqe_base;\n\tvoid *pbl_list;\n\tu32 ceq_id;\n\tu32 elem_cnt;\n\tstruct irdma_ring ceq_ring;\n\tu8 pbl_chunk_size;\n\tu8 tph_val;\n\tu32 first_pm_pbl_idx;\n\tu8 polarity;\n\tstruct irdma_sc_vsi *vsi;\n\tstruct irdma_sc_cq **reg_cq;\n\tu32 reg_cq_size;\n\tspinlock_t req_cq_lock;  \n\tbool virtual_map:1;\n\tbool tph_en:1;\n\tbool itr_no_expire:1;\n};\n\nstruct irdma_sc_cq {\n\tstruct irdma_cq_uk cq_uk;\n\tu64 cq_pa;\n\tu64 shadow_area_pa;\n\tstruct irdma_sc_dev *dev;\n\tstruct irdma_sc_vsi *vsi;\n\tvoid *pbl_list;\n\tvoid *back_cq;\n\tu32 ceq_id;\n\tu32 shadow_read_threshold;\n\tu8 pbl_chunk_size;\n\tu8 cq_type;\n\tu8 tph_val;\n\tu32 first_pm_pbl_idx;\n\tbool ceqe_mask:1;\n\tbool virtual_map:1;\n\tbool check_overflow:1;\n\tbool ceq_id_valid:1;\n\tbool tph_en;\n};\n\nstruct irdma_sc_qp {\n\tstruct irdma_qp_uk qp_uk;\n\tu64 sq_pa;\n\tu64 rq_pa;\n\tu64 hw_host_ctx_pa;\n\tu64 shadow_area_pa;\n\tu64 q2_pa;\n\tstruct irdma_sc_dev *dev;\n\tstruct irdma_sc_vsi *vsi;\n\tstruct irdma_sc_pd *pd;\n\t__le64 *hw_host_ctx;\n\tvoid *llp_stream_handle;\n\tstruct irdma_pfpdu pfpdu;\n\tu32 ieq_qp;\n\tu8 *q2_buf;\n\tu64 qp_compl_ctx;\n\tu32 push_idx;\n\tu16 qs_handle;\n\tu16 push_offset;\n\tu8 flush_wqes_count;\n\tu8 sq_tph_val;\n\tu8 rq_tph_val;\n\tu8 qp_state;\n\tu8 hw_sq_size;\n\tu8 hw_rq_size;\n\tu8 src_mac_addr_idx;\n\tbool on_qoslist:1;\n\tbool ieq_pass_thru:1;\n\tbool sq_tph_en:1;\n\tbool rq_tph_en:1;\n\tbool rcv_tph_en:1;\n\tbool xmit_tph_en:1;\n\tbool virtual_map:1;\n\tbool flush_sq:1;\n\tbool flush_rq:1;\n\tbool sq_flush_code:1;\n\tbool rq_flush_code:1;\n\tenum irdma_flush_opcode flush_code;\n\tenum irdma_qp_event_type event_type;\n\tu8 term_flags;\n\tu8 user_pri;\n\tstruct list_head list;\n};\n\nstruct irdma_stats_inst_info {\n\tbool use_hmc_fcn_index;\n\tu8 hmc_fn_id;\n\tu8 stats_idx;\n};\n\nstruct irdma_up_info {\n\tu8 map[8];\n\tu8 cnp_up_override;\n\tu8 hmc_fcn_idx;\n\tbool use_vlan:1;\n\tbool use_cnp_up_override:1;\n};\n\n#define IRDMA_MAX_WS_NODES\t0x3FF\n#define IRDMA_WS_NODE_INVALID\t0xFFFF\n\nstruct irdma_ws_node_info {\n\tu16 id;\n\tu16 vsi;\n\tu16 parent_id;\n\tu16 qs_handle;\n\tbool type_leaf:1;\n\tbool enable:1;\n\tu8 prio_type;\n\tu8 tc;\n\tu8 weight;\n};\n\nstruct irdma_hmc_fpm_misc {\n\tu32 max_ceqs;\n\tu32 max_sds;\n\tu32 xf_block_size;\n\tu32 q1_block_size;\n\tu32 ht_multiplier;\n\tu32 timer_bucket;\n\tu32 rrf_block_size;\n\tu32 ooiscf_block_size;\n};\n\n#define IRDMA_LEAF_DEFAULT_REL_BW\t\t64\n#define IRDMA_PARENT_DEFAULT_REL_BW\t\t1\n\nstruct irdma_qos {\n\tstruct list_head qplist;\n\tstruct mutex qos_mutex;  \n\tu64 lan_qos_handle;\n\tu32 l2_sched_node_id;\n\tu16 qs_handle;\n\tu8 traffic_class;\n\tu8 rel_bw;\n\tu8 prio_type;\n\tbool valid;\n};\n\n#define IRDMA_INVALID_STATS_IDX 0xff\nstruct irdma_sc_vsi {\n\tu16 vsi_idx;\n\tstruct irdma_sc_dev *dev;\n\tvoid *back_vsi;\n\tu32 ilq_count;\n\tstruct irdma_virt_mem ilq_mem;\n\tstruct irdma_puda_rsrc *ilq;\n\tu32 ieq_count;\n\tstruct irdma_virt_mem ieq_mem;\n\tstruct irdma_puda_rsrc *ieq;\n\tu32 exception_lan_q;\n\tu16 mtu;\n\tu16 vm_id;\n\tenum irdma_vm_vf_type vm_vf_type;\n\tbool stats_inst_alloc:1;\n\tbool tc_change_pending:1;\n\tstruct irdma_vsi_pestat *pestat;\n\tatomic_t qp_suspend_reqs;\n\tint (*register_qset)(struct irdma_sc_vsi *vsi,\n\t\t\t     struct irdma_ws_node *tc_node);\n\tvoid (*unregister_qset)(struct irdma_sc_vsi *vsi,\n\t\t\t\tstruct irdma_ws_node *tc_node);\n\tu8 qos_rel_bw;\n\tu8 qos_prio_type;\n\tu8 stats_idx;\n\tu8 dscp_map[IIDC_MAX_DSCP_MAPPING];\n\tstruct irdma_qos qos[IRDMA_MAX_USER_PRIORITY];\n\tu64 hw_stats_regs[IRDMA_HW_STAT_INDEX_MAX_GEN_1];\n\tbool dscp_mode:1;\n};\n\nstruct irdma_sc_dev {\n\tstruct list_head cqp_cmd_head;  \n\tspinlock_t cqp_lock;  \n\tbool stats_idx_array[IRDMA_MAX_STATS_COUNT_GEN_1];\n\tstruct irdma_dma_mem vf_fpm_query_buf[IRDMA_MAX_PE_ENA_VF_COUNT];\n\tu64 fpm_query_buf_pa;\n\tu64 fpm_commit_buf_pa;\n\t__le64 *fpm_query_buf;\n\t__le64 *fpm_commit_buf;\n\tstruct irdma_hw *hw;\n\tu8 __iomem *db_addr;\n\tu32 __iomem *wqe_alloc_db;\n\tu32 __iomem *cq_arm_db;\n\tu32 __iomem *aeq_alloc_db;\n\tu32 __iomem *cqp_db;\n\tu32 __iomem *cq_ack_db;\n\tu32 __iomem *ceq_itr_mask_db;\n\tu32 __iomem *aeq_itr_mask_db;\n\tu32 __iomem *hw_regs[IRDMA_MAX_REGS];\n\tu32 ceq_itr;    \n\tu64 hw_masks[IRDMA_MAX_MASKS];\n\tu64 hw_shifts[IRDMA_MAX_SHIFTS];\n\tconst struct irdma_hw_stat_map *hw_stats_map;\n\tu64 hw_stats_regs[IRDMA_HW_STAT_INDEX_MAX_GEN_1];\n\tu64 feature_info[IRDMA_MAX_FEATURES];\n\tu64 cqp_cmd_stats[IRDMA_MAX_CQP_OPS];\n\tstruct irdma_hw_attrs hw_attrs;\n\tstruct irdma_hmc_info *hmc_info;\n\tstruct irdma_sc_cqp *cqp;\n\tstruct irdma_sc_aeq *aeq;\n\tstruct irdma_sc_ceq *ceq[IRDMA_CEQ_MAX_COUNT];\n\tstruct irdma_sc_cq *ccq;\n\tconst struct irdma_irq_ops *irq_ops;\n\tstruct irdma_hmc_fpm_misc hmc_fpm_misc;\n\tstruct irdma_ws_node *ws_tree_root;\n\tstruct mutex ws_mutex;  \n\tu16 num_vfs;\n\tu8 hmc_fn_id;\n\tu8 vf_id;\n\tbool vchnl_up:1;\n\tbool ceq_valid:1;\n\tu8 pci_rev;\n\tint (*ws_add)(struct irdma_sc_vsi *vsi, u8 user_pri);\n\tvoid (*ws_remove)(struct irdma_sc_vsi *vsi, u8 user_pri);\n\tvoid (*ws_reset)(struct irdma_sc_vsi *vsi);\n};\n\nstruct irdma_modify_cq_info {\n\tu64 cq_pa;\n\tstruct irdma_cqe *cq_base;\n\tu32 cq_size;\n\tu32 shadow_read_threshold;\n\tu8 pbl_chunk_size;\n\tu32 first_pm_pbl_idx;\n\tbool virtual_map:1;\n\tbool check_overflow;\n\tbool cq_resize:1;\n};\n\nstruct irdma_create_qp_info {\n\tbool ord_valid:1;\n\tbool tcp_ctx_valid:1;\n\tbool cq_num_valid:1;\n\tbool arp_cache_idx_valid:1;\n\tbool mac_valid:1;\n\tbool force_lpb;\n\tu8 next_iwarp_state;\n};\n\nstruct irdma_modify_qp_info {\n\tu64 rx_win0;\n\tu64 rx_win1;\n\tu16 new_mss;\n\tu8 next_iwarp_state;\n\tu8 curr_iwarp_state;\n\tu8 termlen;\n\tbool ord_valid:1;\n\tbool tcp_ctx_valid:1;\n\tbool udp_ctx_valid:1;\n\tbool cq_num_valid:1;\n\tbool arp_cache_idx_valid:1;\n\tbool reset_tcp_conn:1;\n\tbool remove_hash_idx:1;\n\tbool dont_send_term:1;\n\tbool dont_send_fin:1;\n\tbool cached_var_valid:1;\n\tbool mss_change:1;\n\tbool force_lpb:1;\n\tbool mac_valid:1;\n};\n\nstruct irdma_ccq_cqe_info {\n\tstruct irdma_sc_cqp *cqp;\n\tu64 scratch;\n\tu32 op_ret_val;\n\tu16 maj_err_code;\n\tu16 min_err_code;\n\tu8 op_code;\n\tbool error;\n};\n\nstruct irdma_dcb_app_info {\n\tu8 priority;\n\tu8 selector;\n\tu16 prot_id;\n};\n\nstruct irdma_qos_tc_info {\n\tu64 tc_ctx;\n\tu8 rel_bw;\n\tu8 prio_type;\n\tu8 egress_virt_up;\n\tu8 ingress_virt_up;\n};\n\nstruct irdma_l2params {\n\tstruct irdma_qos_tc_info tc_info[IRDMA_MAX_USER_PRIORITY];\n\tstruct irdma_dcb_app_info apps[IRDMA_MAX_APPS];\n\tu32 num_apps;\n\tu16 qs_handle_list[IRDMA_MAX_USER_PRIORITY];\n\tu16 mtu;\n\tu8 up2tc[IRDMA_MAX_USER_PRIORITY];\n\tu8 dscp_map[IIDC_MAX_DSCP_MAPPING];\n\tu8 num_tc;\n\tu8 vsi_rel_bw;\n\tu8 vsi_prio_type;\n\tbool mtu_changed:1;\n\tbool tc_changed:1;\n\tbool dscp_mode:1;\n};\n\nstruct irdma_vsi_init_info {\n\tstruct irdma_sc_dev *dev;\n\tvoid *back_vsi;\n\tstruct irdma_l2params *params;\n\tu16 exception_lan_q;\n\tu16 pf_data_vsi_num;\n\tenum irdma_vm_vf_type vm_vf_type;\n\tu16 vm_id;\n\tint (*register_qset)(struct irdma_sc_vsi *vsi,\n\t\t\t     struct irdma_ws_node *tc_node);\n\tvoid (*unregister_qset)(struct irdma_sc_vsi *vsi,\n\t\t\t\tstruct irdma_ws_node *tc_node);\n};\n\nstruct irdma_vsi_stats_info {\n\tstruct irdma_vsi_pestat *pestat;\n\tu8 fcn_id;\n\tbool alloc_stats_inst;\n};\n\nstruct irdma_device_init_info {\n\tu64 fpm_query_buf_pa;\n\tu64 fpm_commit_buf_pa;\n\t__le64 *fpm_query_buf;\n\t__le64 *fpm_commit_buf;\n\tstruct irdma_hw *hw;\n\tvoid __iomem *bar0;\n\tu8 hmc_fn_id;\n};\n\nstruct irdma_ceq_init_info {\n\tu64 ceqe_pa;\n\tstruct irdma_sc_dev *dev;\n\tu64 *ceqe_base;\n\tvoid *pbl_list;\n\tu32 elem_cnt;\n\tu32 ceq_id;\n\tbool virtual_map:1;\n\tbool tph_en:1;\n\tbool itr_no_expire:1;\n\tu8 pbl_chunk_size;\n\tu8 tph_val;\n\tu32 first_pm_pbl_idx;\n\tstruct irdma_sc_vsi *vsi;\n\tstruct irdma_sc_cq **reg_cq;\n\tu32 reg_cq_idx;\n};\n\nstruct irdma_aeq_init_info {\n\tu64 aeq_elem_pa;\n\tstruct irdma_sc_dev *dev;\n\tu32 *aeqe_base;\n\tvoid *pbl_list;\n\tu32 elem_cnt;\n\tbool virtual_map;\n\tu8 pbl_chunk_size;\n\tu32 first_pm_pbl_idx;\n\tu32 msix_idx;\n};\n\nstruct irdma_ccq_init_info {\n\tu64 cq_pa;\n\tu64 shadow_area_pa;\n\tstruct irdma_sc_dev *dev;\n\tstruct irdma_cqe *cq_base;\n\t__le64 *shadow_area;\n\tvoid *pbl_list;\n\tu32 num_elem;\n\tu32 ceq_id;\n\tu32 shadow_read_threshold;\n\tbool ceqe_mask:1;\n\tbool ceq_id_valid:1;\n\tbool avoid_mem_cflct:1;\n\tbool virtual_map:1;\n\tbool tph_en:1;\n\tu8 tph_val;\n\tu8 pbl_chunk_size;\n\tu32 first_pm_pbl_idx;\n\tstruct irdma_sc_vsi *vsi;\n};\n\nstruct irdma_udp_offload_info {\n\tbool ipv4:1;\n\tbool insert_vlan_tag:1;\n\tu8 ttl;\n\tu8 tos;\n\tu16 src_port;\n\tu16 dst_port;\n\tu32 dest_ip_addr[4];\n\tu32 snd_mss;\n\tu16 vlan_tag;\n\tu16 arp_idx;\n\tu32 flow_label;\n\tu8 udp_state;\n\tu32 psn_nxt;\n\tu32 lsn;\n\tu32 epsn;\n\tu32 psn_max;\n\tu32 psn_una;\n\tu32 local_ipaddr[4];\n\tu32 cwnd;\n\tu8 rexmit_thresh;\n\tu8 rnr_nak_thresh;\n};\n\nstruct irdma_roce_offload_info {\n\tu16 p_key;\n\tu16 err_rq_idx;\n\tu32 qkey;\n\tu32 dest_qp;\n\tu8 roce_tver;\n\tu8 ack_credits;\n\tu8 err_rq_idx_valid;\n\tu32 pd_id;\n\tu16 ord_size;\n\tu16 ird_size;\n\tbool is_qp1:1;\n\tbool udprivcq_en:1;\n\tbool dcqcn_en:1;\n\tbool rcv_no_icrc:1;\n\tbool wr_rdresp_en:1;\n\tbool bind_en:1;\n\tbool fast_reg_en:1;\n\tbool priv_mode_en:1;\n\tbool rd_en:1;\n\tbool timely_en:1;\n\tbool dctcp_en:1;\n\tbool fw_cc_enable:1;\n\tbool use_stats_inst:1;\n\tu16 t_high;\n\tu16 t_low;\n\tu8 last_byte_sent;\n\tu8 mac_addr[ETH_ALEN];\n\tu8 rtomin;\n};\n\nstruct irdma_iwarp_offload_info {\n\tu16 rcv_mark_offset;\n\tu16 snd_mark_offset;\n\tu8 ddp_ver;\n\tu8 rdmap_ver;\n\tu8 iwarp_mode;\n\tu16 err_rq_idx;\n\tu32 pd_id;\n\tu16 ord_size;\n\tu16 ird_size;\n\tbool ib_rd_en:1;\n\tbool align_hdrs:1;\n\tbool rcv_no_mpa_crc:1;\n\tbool err_rq_idx_valid:1;\n\tbool snd_mark_en:1;\n\tbool rcv_mark_en:1;\n\tbool wr_rdresp_en:1;\n\tbool bind_en:1;\n\tbool fast_reg_en:1;\n\tbool priv_mode_en:1;\n\tbool rd_en:1;\n\tbool timely_en:1;\n\tbool use_stats_inst:1;\n\tbool ecn_en:1;\n\tbool dctcp_en:1;\n\tu16 t_high;\n\tu16 t_low;\n\tu8 last_byte_sent;\n\tu8 mac_addr[ETH_ALEN];\n\tu8 rtomin;\n};\n\nstruct irdma_tcp_offload_info {\n\tbool ipv4:1;\n\tbool no_nagle:1;\n\tbool insert_vlan_tag:1;\n\tbool time_stamp:1;\n\tbool drop_ooo_seg:1;\n\tbool avoid_stretch_ack:1;\n\tbool wscale:1;\n\tbool ignore_tcp_opt:1;\n\tbool ignore_tcp_uns_opt:1;\n\tu8 cwnd_inc_limit;\n\tu8 dup_ack_thresh;\n\tu8 ttl;\n\tu8 src_mac_addr_idx;\n\tu8 tos;\n\tu16 src_port;\n\tu16 dst_port;\n\tu32 dest_ip_addr[4];\n\t\n\t\n\t\n\t\n\tu32 snd_mss;\n\tu16 syn_rst_handling;\n\tu16 vlan_tag;\n\tu16 arp_idx;\n\tu32 flow_label;\n\tu8 tcp_state;\n\tu8 snd_wscale;\n\tu8 rcv_wscale;\n\tu32 time_stamp_recent;\n\tu32 time_stamp_age;\n\tu32 snd_nxt;\n\tu32 snd_wnd;\n\tu32 rcv_nxt;\n\tu32 rcv_wnd;\n\tu32 snd_max;\n\tu32 snd_una;\n\tu32 srtt;\n\tu32 rtt_var;\n\tu32 ss_thresh;\n\tu32 cwnd;\n\tu32 snd_wl1;\n\tu32 snd_wl2;\n\tu32 max_snd_window;\n\tu8 rexmit_thresh;\n\tu32 local_ipaddr[4];\n};\n\nstruct irdma_qp_host_ctx_info {\n\tu64 qp_compl_ctx;\n\tunion {\n\t\tstruct irdma_tcp_offload_info *tcp_info;\n\t\tstruct irdma_udp_offload_info *udp_info;\n\t};\n\tunion {\n\t\tstruct irdma_iwarp_offload_info *iwarp_info;\n\t\tstruct irdma_roce_offload_info *roce_info;\n\t};\n\tu32 send_cq_num;\n\tu32 rcv_cq_num;\n\tu32 rem_endpoint_idx;\n\tu8 stats_idx;\n\tbool srq_valid:1;\n\tbool tcp_info_valid:1;\n\tbool iwarp_info_valid:1;\n\tbool stats_idx_valid:1;\n\tu8 user_pri;\n};\n\nstruct irdma_aeqe_info {\n\tu64 compl_ctx;\n\tu32 qp_cq_id;\n\tu16 ae_id;\n\tu16 wqe_idx;\n\tu8 tcp_state;\n\tu8 iwarp_state;\n\tbool qp:1;\n\tbool cq:1;\n\tbool sq:1;\n\tbool rq:1;\n\tbool in_rdrsp_wr:1;\n\tbool out_rdrsp:1;\n\tbool aeqe_overflow:1;\n\tu8 q2_data_written;\n\tu8 ae_src;\n};\n\nstruct irdma_allocate_stag_info {\n\tu64 total_len;\n\tu64 first_pm_pbl_idx;\n\tu32 chunk_size;\n\tu32 stag_idx;\n\tu32 page_size;\n\tu32 pd_id;\n\tu16 access_rights;\n\tbool remote_access:1;\n\tbool use_hmc_fcn_index:1;\n\tbool use_pf_rid:1;\n\tbool all_memory:1;\n\tu8 hmc_fcn_index;\n};\n\nstruct irdma_mw_alloc_info {\n\tu32 mw_stag_index;\n\tu32 page_size;\n\tu32 pd_id;\n\tbool remote_access:1;\n\tbool mw_wide:1;\n\tbool mw1_bind_dont_vldt_key:1;\n};\n\nstruct irdma_reg_ns_stag_info {\n\tu64 reg_addr_pa;\n\tu64 va;\n\tu64 total_len;\n\tu32 page_size;\n\tu32 chunk_size;\n\tu32 first_pm_pbl_index;\n\tenum irdma_addressing_type addr_type;\n\tirdma_stag_index stag_idx;\n\tu16 access_rights;\n\tu32 pd_id;\n\tirdma_stag_key stag_key;\n\tbool use_hmc_fcn_index:1;\n\tu8 hmc_fcn_index;\n\tbool use_pf_rid:1;\n\tbool all_memory:1;\n};\n\nstruct irdma_fast_reg_stag_info {\n\tu64 wr_id;\n\tu64 reg_addr_pa;\n\tu64 fbo;\n\tvoid *va;\n\tu64 total_len;\n\tu32 page_size;\n\tu32 chunk_size;\n\tu32 first_pm_pbl_index;\n\tenum irdma_addressing_type addr_type;\n\tirdma_stag_index stag_idx;\n\tu16 access_rights;\n\tu32 pd_id;\n\tirdma_stag_key stag_key;\n\tbool local_fence:1;\n\tbool read_fence:1;\n\tbool signaled:1;\n\tbool use_hmc_fcn_index:1;\n\tu8 hmc_fcn_index;\n\tbool use_pf_rid:1;\n\tbool defer_flag:1;\n};\n\nstruct irdma_dealloc_stag_info {\n\tu32 stag_idx;\n\tu32 pd_id;\n\tbool mr:1;\n\tbool dealloc_pbl:1;\n};\n\nstruct irdma_register_shared_stag {\n\tu64 va;\n\tenum irdma_addressing_type addr_type;\n\tirdma_stag_index new_stag_idx;\n\tirdma_stag_index parent_stag_idx;\n\tu32 access_rights;\n\tu32 pd_id;\n\tu32 page_size;\n\tirdma_stag_key new_stag_key;\n};\n\nstruct irdma_qp_init_info {\n\tstruct irdma_qp_uk_init_info qp_uk_init_info;\n\tstruct irdma_sc_pd *pd;\n\tstruct irdma_sc_vsi *vsi;\n\t__le64 *host_ctx;\n\tu8 *q2;\n\tu64 sq_pa;\n\tu64 rq_pa;\n\tu64 host_ctx_pa;\n\tu64 q2_pa;\n\tu64 shadow_area_pa;\n\tu8 sq_tph_val;\n\tu8 rq_tph_val;\n\tbool sq_tph_en:1;\n\tbool rq_tph_en:1;\n\tbool rcv_tph_en:1;\n\tbool xmit_tph_en:1;\n\tbool virtual_map:1;\n};\n\nstruct irdma_cq_init_info {\n\tstruct irdma_sc_dev *dev;\n\tu64 cq_base_pa;\n\tu64 shadow_area_pa;\n\tu32 ceq_id;\n\tu32 shadow_read_threshold;\n\tu8 pbl_chunk_size;\n\tu32 first_pm_pbl_idx;\n\tbool virtual_map:1;\n\tbool ceqe_mask:1;\n\tbool ceq_id_valid:1;\n\tbool tph_en:1;\n\tu8 tph_val;\n\tu8 type;\n\tstruct irdma_cq_uk_init_info cq_uk_init_info;\n\tstruct irdma_sc_vsi *vsi;\n};\n\nstruct irdma_upload_context_info {\n\tu64 buf_pa;\n\tu32 qp_id;\n\tu8 qp_type;\n\tbool freeze_qp:1;\n\tbool raw_format:1;\n};\n\nstruct irdma_local_mac_entry_info {\n\tu8 mac_addr[6];\n\tu16 entry_idx;\n};\n\nstruct irdma_add_arp_cache_entry_info {\n\tu8 mac_addr[ETH_ALEN];\n\tu32 reach_max;\n\tu16 arp_index;\n\tbool permanent;\n};\n\nstruct irdma_apbvt_info {\n\tu16 port;\n\tbool add;\n};\n\nstruct irdma_qhash_table_info {\n\tstruct irdma_sc_vsi *vsi;\n\tenum irdma_quad_hash_manage_type manage;\n\tenum irdma_quad_entry_type entry_type;\n\tbool vlan_valid:1;\n\tbool ipv4_valid:1;\n\tu8 mac_addr[ETH_ALEN];\n\tu16 vlan_id;\n\tu8 user_pri;\n\tu32 qp_num;\n\tu32 dest_ip[4];\n\tu32 src_ip[4];\n\tu16 dest_port;\n\tu16 src_port;\n};\n\nstruct irdma_cqp_manage_push_page_info {\n\tu32 push_idx;\n\tu16 qs_handle;\n\tu8 free_page;\n\tu8 push_page_type;\n};\n\nstruct irdma_qp_flush_info {\n\tu16 sq_minor_code;\n\tu16 sq_major_code;\n\tu16 rq_minor_code;\n\tu16 rq_major_code;\n\tu16 ae_code;\n\tu8 ae_src;\n\tbool sq:1;\n\tbool rq:1;\n\tbool userflushcode:1;\n\tbool generate_ae:1;\n};\n\nstruct irdma_gen_ae_info {\n\tu16 ae_code;\n\tu8 ae_src;\n};\n\nstruct irdma_cqp_timeout {\n\tu64 compl_cqp_cmds;\n\tu32 count;\n};\n\nstruct irdma_irq_ops {\n\tvoid (*irdma_cfg_aeq)(struct irdma_sc_dev *dev, u32 idx, bool enable);\n\tvoid (*irdma_cfg_ceq)(struct irdma_sc_dev *dev, u32 ceq_id, u32 idx,\n\t\t\t      bool enable);\n\tvoid (*irdma_dis_irq)(struct irdma_sc_dev *dev, u32 idx);\n\tvoid (*irdma_en_irq)(struct irdma_sc_dev *dev, u32 idx);\n};\n\nvoid irdma_sc_ccq_arm(struct irdma_sc_cq *ccq);\nint irdma_sc_ccq_create(struct irdma_sc_cq *ccq, u64 scratch,\n\t\t\tbool check_overflow, bool post_sq);\nint irdma_sc_ccq_destroy(struct irdma_sc_cq *ccq, u64 scratch, bool post_sq);\nint irdma_sc_ccq_get_cqe_info(struct irdma_sc_cq *ccq,\n\t\t\t      struct irdma_ccq_cqe_info *info);\nint irdma_sc_ccq_init(struct irdma_sc_cq *ccq,\n\t\t      struct irdma_ccq_init_info *info);\n\nint irdma_sc_cceq_create(struct irdma_sc_ceq *ceq, u64 scratch);\nint irdma_sc_cceq_destroy_done(struct irdma_sc_ceq *ceq);\n\nint irdma_sc_ceq_destroy(struct irdma_sc_ceq *ceq, u64 scratch, bool post_sq);\nint irdma_sc_ceq_init(struct irdma_sc_ceq *ceq,\n\t\t      struct irdma_ceq_init_info *info);\nvoid irdma_sc_cleanup_ceqes(struct irdma_sc_cq *cq, struct irdma_sc_ceq *ceq);\nvoid *irdma_sc_process_ceq(struct irdma_sc_dev *dev, struct irdma_sc_ceq *ceq);\n\nint irdma_sc_aeq_init(struct irdma_sc_aeq *aeq,\n\t\t      struct irdma_aeq_init_info *info);\nint irdma_sc_get_next_aeqe(struct irdma_sc_aeq *aeq,\n\t\t\t   struct irdma_aeqe_info *info);\nvoid irdma_sc_repost_aeq_entries(struct irdma_sc_dev *dev, u32 count);\n\nvoid irdma_sc_pd_init(struct irdma_sc_dev *dev, struct irdma_sc_pd *pd, u32 pd_id,\n\t\t      int abi_ver);\nvoid irdma_cfg_aeq(struct irdma_sc_dev *dev, u32 idx, bool enable);\nvoid irdma_check_cqp_progress(struct irdma_cqp_timeout *cqp_timeout,\n\t\t\t      struct irdma_sc_dev *dev);\nint irdma_sc_cqp_create(struct irdma_sc_cqp *cqp, u16 *maj_err, u16 *min_err);\nint irdma_sc_cqp_destroy(struct irdma_sc_cqp *cqp);\nint irdma_sc_cqp_init(struct irdma_sc_cqp *cqp,\n\t\t      struct irdma_cqp_init_info *info);\nvoid irdma_sc_cqp_post_sq(struct irdma_sc_cqp *cqp);\nint irdma_sc_poll_for_cqp_op_done(struct irdma_sc_cqp *cqp, u8 opcode,\n\t\t\t\t  struct irdma_ccq_cqe_info *cmpl_info);\nint irdma_sc_fast_register(struct irdma_sc_qp *qp,\n\t\t\t   struct irdma_fast_reg_stag_info *info, bool post_sq);\nint irdma_sc_qp_create(struct irdma_sc_qp *qp,\n\t\t       struct irdma_create_qp_info *info, u64 scratch,\n\t\t       bool post_sq);\nint irdma_sc_qp_destroy(struct irdma_sc_qp *qp, u64 scratch,\n\t\t\tbool remove_hash_idx, bool ignore_mw_bnd, bool post_sq);\nint irdma_sc_qp_flush_wqes(struct irdma_sc_qp *qp,\n\t\t\t   struct irdma_qp_flush_info *info, u64 scratch,\n\t\t\t   bool post_sq);\nint irdma_sc_qp_init(struct irdma_sc_qp *qp, struct irdma_qp_init_info *info);\nint irdma_sc_qp_modify(struct irdma_sc_qp *qp,\n\t\t       struct irdma_modify_qp_info *info, u64 scratch,\n\t\t       bool post_sq);\nvoid irdma_sc_send_lsmm(struct irdma_sc_qp *qp, void *lsmm_buf, u32 size,\n\t\t\tirdma_stag stag);\n\nvoid irdma_sc_send_rtt(struct irdma_sc_qp *qp, bool read);\nvoid irdma_sc_qp_setctx(struct irdma_sc_qp *qp, __le64 *qp_ctx,\n\t\t\tstruct irdma_qp_host_ctx_info *info);\nvoid irdma_sc_qp_setctx_roce(struct irdma_sc_qp *qp, __le64 *qp_ctx,\n\t\t\t     struct irdma_qp_host_ctx_info *info);\nint irdma_sc_cq_destroy(struct irdma_sc_cq *cq, u64 scratch, bool post_sq);\nint irdma_sc_cq_init(struct irdma_sc_cq *cq, struct irdma_cq_init_info *info);\nvoid irdma_sc_cq_resize(struct irdma_sc_cq *cq, struct irdma_modify_cq_info *info);\nint irdma_sc_static_hmc_pages_allocated(struct irdma_sc_cqp *cqp, u64 scratch,\n\t\t\t\t\tu8 hmc_fn_id, bool post_sq,\n\t\t\t\t\tbool poll_registers);\n\nvoid sc_vsi_update_stats(struct irdma_sc_vsi *vsi);\nstruct cqp_info {\n\tunion {\n\t\tstruct {\n\t\t\tstruct irdma_sc_qp *qp;\n\t\t\tstruct irdma_create_qp_info info;\n\t\t\tu64 scratch;\n\t\t} qp_create;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_qp *qp;\n\t\t\tstruct irdma_modify_qp_info info;\n\t\t\tu64 scratch;\n\t\t} qp_modify;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_qp *qp;\n\t\t\tu64 scratch;\n\t\t\tbool remove_hash_idx;\n\t\t\tbool ignore_mw_bnd;\n\t\t} qp_destroy;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cq *cq;\n\t\t\tu64 scratch;\n\t\t\tbool check_overflow;\n\t\t} cq_create;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cq *cq;\n\t\t\tstruct irdma_modify_cq_info info;\n\t\t\tu64 scratch;\n\t\t} cq_modify;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cq *cq;\n\t\t\tu64 scratch;\n\t\t} cq_destroy;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_dev *dev;\n\t\t\tstruct irdma_allocate_stag_info info;\n\t\t\tu64 scratch;\n\t\t} alloc_stag;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_dev *dev;\n\t\t\tstruct irdma_mw_alloc_info info;\n\t\t\tu64 scratch;\n\t\t} mw_alloc;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_dev *dev;\n\t\t\tstruct irdma_reg_ns_stag_info info;\n\t\t\tu64 scratch;\n\t\t} mr_reg_non_shared;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_dev *dev;\n\t\t\tstruct irdma_dealloc_stag_info info;\n\t\t\tu64 scratch;\n\t\t} dealloc_stag;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cqp *cqp;\n\t\t\tstruct irdma_add_arp_cache_entry_info info;\n\t\t\tu64 scratch;\n\t\t} add_arp_cache_entry;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cqp *cqp;\n\t\t\tu64 scratch;\n\t\t\tu16 arp_index;\n\t\t} del_arp_cache_entry;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cqp *cqp;\n\t\t\tstruct irdma_local_mac_entry_info info;\n\t\t\tu64 scratch;\n\t\t} add_local_mac_entry;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cqp *cqp;\n\t\t\tu64 scratch;\n\t\t\tu8 entry_idx;\n\t\t\tu8 ignore_ref_count;\n\t\t} del_local_mac_entry;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cqp *cqp;\n\t\t\tu64 scratch;\n\t\t} alloc_local_mac_entry;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cqp *cqp;\n\t\t\tstruct irdma_cqp_manage_push_page_info info;\n\t\t\tu64 scratch;\n\t\t} manage_push_page;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_dev *dev;\n\t\t\tstruct irdma_upload_context_info info;\n\t\t\tu64 scratch;\n\t\t} qp_upload_context;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_dev *dev;\n\t\t\tstruct irdma_hmc_fcn_info info;\n\t\t\tu64 scratch;\n\t\t} manage_hmc_pm;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_ceq *ceq;\n\t\t\tu64 scratch;\n\t\t} ceq_create;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_ceq *ceq;\n\t\t\tu64 scratch;\n\t\t} ceq_destroy;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_aeq *aeq;\n\t\t\tu64 scratch;\n\t\t} aeq_create;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_aeq *aeq;\n\t\t\tu64 scratch;\n\t\t} aeq_destroy;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_qp *qp;\n\t\t\tstruct irdma_qp_flush_info info;\n\t\t\tu64 scratch;\n\t\t} qp_flush_wqes;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_qp *qp;\n\t\t\tstruct irdma_gen_ae_info info;\n\t\t\tu64 scratch;\n\t\t} gen_ae;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cqp *cqp;\n\t\t\tvoid *fpm_val_va;\n\t\t\tu64 fpm_val_pa;\n\t\t\tu8 hmc_fn_id;\n\t\t\tu64 scratch;\n\t\t} query_fpm_val;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cqp *cqp;\n\t\t\tvoid *fpm_val_va;\n\t\t\tu64 fpm_val_pa;\n\t\t\tu8 hmc_fn_id;\n\t\t\tu64 scratch;\n\t\t} commit_fpm_val;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cqp *cqp;\n\t\t\tstruct irdma_apbvt_info info;\n\t\t\tu64 scratch;\n\t\t} manage_apbvt_entry;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cqp *cqp;\n\t\t\tstruct irdma_qhash_table_info info;\n\t\t\tu64 scratch;\n\t\t} manage_qhash_table_entry;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_dev *dev;\n\t\t\tstruct irdma_update_sds_info info;\n\t\t\tu64 scratch;\n\t\t} update_pe_sds;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cqp *cqp;\n\t\t\tstruct irdma_sc_qp *qp;\n\t\t\tu64 scratch;\n\t\t} suspend_resume;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cqp *cqp;\n\t\t\tstruct irdma_ah_info info;\n\t\t\tu64 scratch;\n\t\t} ah_create;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cqp *cqp;\n\t\t\tstruct irdma_ah_info info;\n\t\t\tu64 scratch;\n\t\t} ah_destroy;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cqp *cqp;\n\t\t\tstruct irdma_mcast_grp_info info;\n\t\t\tu64 scratch;\n\t\t} mc_create;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cqp *cqp;\n\t\t\tstruct irdma_mcast_grp_info info;\n\t\t\tu64 scratch;\n\t\t} mc_destroy;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cqp *cqp;\n\t\t\tstruct irdma_mcast_grp_info info;\n\t\t\tu64 scratch;\n\t\t} mc_modify;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cqp *cqp;\n\t\t\tstruct irdma_stats_inst_info info;\n\t\t\tu64 scratch;\n\t\t} stats_manage;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cqp *cqp;\n\t\t\tstruct irdma_stats_gather_info info;\n\t\t\tu64 scratch;\n\t\t} stats_gather;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cqp *cqp;\n\t\t\tstruct irdma_ws_node_info info;\n\t\t\tu64 scratch;\n\t\t} ws_node;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cqp *cqp;\n\t\t\tstruct irdma_up_info info;\n\t\t\tu64 scratch;\n\t\t} up_map;\n\n\t\tstruct {\n\t\t\tstruct irdma_sc_cqp *cqp;\n\t\t\tstruct irdma_dma_mem query_buff_mem;\n\t\t\tu64 scratch;\n\t\t} query_rdma;\n\t} u;\n};\n\nstruct cqp_cmds_info {\n\tstruct list_head cqp_cmd_entry;\n\tu8 cqp_cmd;\n\tu8 post_sq;\n\tstruct cqp_info in;\n};\n\n__le64 *irdma_sc_cqp_get_next_send_wqe_idx(struct irdma_sc_cqp *cqp, u64 scratch,\n\t\t\t\t\t   u32 *wqe_idx);\n\n \nstatic inline __le64 *irdma_sc_cqp_get_next_send_wqe(struct irdma_sc_cqp *cqp, u64 scratch)\n{\n\tu32 wqe_idx;\n\n\treturn irdma_sc_cqp_get_next_send_wqe_idx(cqp, scratch, &wqe_idx);\n}\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}