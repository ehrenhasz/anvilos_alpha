{
  "module_name": "mthca_dev.h",
  "hash_id": "b8e1a71d5998864bc1d64b3bd01aff1ef397572f41453a70bff7fa55e709bd1d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/infiniband/hw/mthca/mthca_dev.h",
  "human_readable_source": " \n\n#ifndef MTHCA_DEV_H\n#define MTHCA_DEV_H\n\n#include <linux/spinlock.h>\n#include <linux/kernel.h>\n#include <linux/pci.h>\n#include <linux/dma-mapping.h>\n#include <linux/timer.h>\n#include <linux/mutex.h>\n#include <linux/list.h>\n#include <linux/semaphore.h>\n\n#include \"mthca_provider.h\"\n#include \"mthca_doorbell.h\"\n\n#define DRV_NAME\t\"ib_mthca\"\n#define PFX\t\tDRV_NAME \": \"\n#define DRV_VERSION\t\"1.0\"\n#define DRV_RELDATE\t\"April 4, 2008\"\n\nenum {\n\tMTHCA_FLAG_DDR_HIDDEN = 1 << 1,\n\tMTHCA_FLAG_SRQ        = 1 << 2,\n\tMTHCA_FLAG_MSI_X      = 1 << 3,\n\tMTHCA_FLAG_NO_LAM     = 1 << 4,\n\tMTHCA_FLAG_FMR        = 1 << 5,\n\tMTHCA_FLAG_MEMFREE    = 1 << 6,\n\tMTHCA_FLAG_PCIE       = 1 << 7,\n\tMTHCA_FLAG_SINAI_OPT  = 1 << 8\n};\n\nenum {\n\tMTHCA_MAX_PORTS = 2\n};\n\nenum {\n\tMTHCA_BOARD_ID_LEN = 64\n};\n\nenum {\n\tMTHCA_EQ_CONTEXT_SIZE =  0x40,\n\tMTHCA_CQ_CONTEXT_SIZE =  0x40,\n\tMTHCA_QP_CONTEXT_SIZE = 0x200,\n\tMTHCA_RDB_ENTRY_SIZE  =  0x20,\n\tMTHCA_AV_SIZE         =  0x20,\n\tMTHCA_MGM_ENTRY_SIZE  = 0x100,\n\n\t \n\tMTHCA_MPT_ENTRY_SIZE  =  0x40,\n\tMTHCA_MTT_SEG_SIZE    =  0x40,\n\n\tMTHCA_QP_PER_MGM      = 4 * (MTHCA_MGM_ENTRY_SIZE / 16 - 2)\n};\n\nenum {\n\tMTHCA_EQ_CMD,\n\tMTHCA_EQ_ASYNC,\n\tMTHCA_EQ_COMP,\n\tMTHCA_NUM_EQ\n};\n\nenum {\n\tMTHCA_OPCODE_NOP            = 0x00,\n\tMTHCA_OPCODE_RDMA_WRITE     = 0x08,\n\tMTHCA_OPCODE_RDMA_WRITE_IMM = 0x09,\n\tMTHCA_OPCODE_SEND           = 0x0a,\n\tMTHCA_OPCODE_SEND_IMM       = 0x0b,\n\tMTHCA_OPCODE_RDMA_READ      = 0x10,\n\tMTHCA_OPCODE_ATOMIC_CS      = 0x11,\n\tMTHCA_OPCODE_ATOMIC_FA      = 0x12,\n\tMTHCA_OPCODE_BIND_MW        = 0x18,\n};\n\nenum {\n\tMTHCA_CMD_USE_EVENTS         = 1 << 0,\n\tMTHCA_CMD_POST_DOORBELLS     = 1 << 1\n};\n\nenum {\n\tMTHCA_CMD_NUM_DBELL_DWORDS = 8\n};\n\nstruct mthca_cmd {\n\tstruct dma_pool          *pool;\n\tstruct mutex              hcr_mutex;\n\tstruct semaphore \t  poll_sem;\n\tstruct semaphore \t  event_sem;\n\tint              \t  max_cmds;\n\tspinlock_t                context_lock;\n\tint                       free_head;\n\tstruct mthca_cmd_context *context;\n\tu16                       token_mask;\n\tu32                       flags;\n\tvoid __iomem             *dbell_map;\n\tu16                       dbell_offsets[MTHCA_CMD_NUM_DBELL_DWORDS];\n};\n\nstruct mthca_limits {\n\tint      num_ports;\n\tint      vl_cap;\n\tint      mtu_cap;\n\tint      gid_table_len;\n\tint      pkey_table_len;\n\tint      local_ca_ack_delay;\n\tint      num_uars;\n\tint      max_sg;\n\tint      num_qps;\n\tint      max_wqes;\n\tint\t max_desc_sz;\n\tint\t max_qp_init_rdma;\n\tint      reserved_qps;\n\tint      num_srqs;\n\tint      max_srq_wqes;\n\tint      max_srq_sge;\n\tint      reserved_srqs;\n\tint      num_eecs;\n\tint      reserved_eecs;\n\tint      num_cqs;\n\tint      max_cqes;\n\tint      reserved_cqs;\n\tint      num_eqs;\n\tint      reserved_eqs;\n\tint      num_mpts;\n\tint      num_mtt_segs;\n\tint\t mtt_seg_size;\n\tint      fmr_reserved_mtts;\n\tint      reserved_mtts;\n\tint      reserved_mrws;\n\tint      reserved_uars;\n\tint      num_mgms;\n\tint      num_amgms;\n\tint      reserved_mcgs;\n\tint      num_pds;\n\tint      reserved_pds;\n\tu32      page_size_cap;\n\tu32      flags;\n\tu16      stat_rate_support;\n\tu8       port_width_cap;\n};\n\nstruct mthca_alloc {\n\tu32            last;\n\tu32            top;\n\tu32            max;\n\tu32            mask;\n\tspinlock_t     lock;\n\tunsigned long *table;\n};\n\nstruct mthca_array {\n\tstruct {\n\t\tvoid    **page;\n\t\tint       used;\n\t} *page_list;\n};\n\nstruct mthca_uar_table {\n\tstruct mthca_alloc alloc;\n\tu64                uarc_base;\n\tint                uarc_size;\n};\n\nstruct mthca_pd_table {\n\tstruct mthca_alloc alloc;\n};\n\nstruct mthca_buddy {\n\tunsigned long **bits;\n\tint\t       *num_free;\n\tint             max_order;\n\tspinlock_t      lock;\n};\n\nstruct mthca_mr_table {\n\tstruct mthca_alloc      mpt_alloc;\n\tstruct mthca_buddy      mtt_buddy;\n\tstruct mthca_buddy     *fmr_mtt_buddy;\n\tu64                     mtt_base;\n\tu64                     mpt_base;\n\tstruct mthca_icm_table *mtt_table;\n\tstruct mthca_icm_table *mpt_table;\n\tstruct {\n\t\tvoid __iomem   *mpt_base;\n\t\tvoid __iomem   *mtt_base;\n\t\tstruct mthca_buddy mtt_buddy;\n\t} tavor_fmr;\n};\n\nstruct mthca_eq_table {\n\tstruct mthca_alloc alloc;\n\tvoid __iomem      *clr_int;\n\tu32                clr_mask;\n\tu32                arm_mask;\n\tstruct mthca_eq    eq[MTHCA_NUM_EQ];\n\tu64                icm_virt;\n\tstruct page       *icm_page;\n\tdma_addr_t         icm_dma;\n\tint                have_irq;\n\tu8                 inta_pin;\n};\n\nstruct mthca_cq_table {\n\tstruct mthca_alloc \talloc;\n\tspinlock_t         \tlock;\n\tstruct mthca_array      cq;\n\tstruct mthca_icm_table *table;\n};\n\nstruct mthca_srq_table {\n\tstruct mthca_alloc \talloc;\n\tspinlock_t         \tlock;\n\tstruct mthca_array      srq;\n\tstruct mthca_icm_table *table;\n};\n\nstruct mthca_qp_table {\n\tstruct mthca_alloc     \talloc;\n\tu32                    \trdb_base;\n\tint                    \trdb_shift;\n\tint                    \tsqp_start;\n\tspinlock_t             \tlock;\n\tstruct mthca_array     \tqp;\n\tstruct mthca_icm_table *qp_table;\n\tstruct mthca_icm_table *eqp_table;\n\tstruct mthca_icm_table *rdb_table;\n};\n\nstruct mthca_av_table {\n\tstruct dma_pool   *pool;\n\tint                num_ddr_avs;\n\tu64                ddr_av_base;\n\tvoid __iomem      *av_map;\n\tstruct mthca_alloc alloc;\n};\n\nstruct mthca_mcg_table {\n\tstruct mutex\t\tmutex;\n\tstruct mthca_alloc \talloc;\n\tstruct mthca_icm_table *table;\n};\n\nstruct mthca_catas_err {\n\tu64\t\t\taddr;\n\tu32 __iomem\t       *map;\n\tu32\t\t\tsize;\n\tstruct timer_list\ttimer;\n\tstruct list_head\tlist;\n};\n\nextern struct mutex mthca_device_mutex;\n\nstruct mthca_dev {\n\tstruct ib_device  ib_dev;\n\tstruct pci_dev   *pdev;\n\n\tint          \t hca_type;\n\tunsigned long\t mthca_flags;\n\tunsigned long    device_cap_flags;\n\n\tu32              rev_id;\n\tchar             board_id[MTHCA_BOARD_ID_LEN];\n\n\t \n\tu64              fw_ver;\n\tunion {\n\t\tstruct {\n\t\t\tu64 fw_start;\n\t\t\tu64 fw_end;\n\t\t}        tavor;\n\t\tstruct {\n\t\t\tu64 clr_int_base;\n\t\t\tu64 eq_arm_base;\n\t\t\tu64 eq_set_ci_base;\n\t\t\tstruct mthca_icm *fw_icm;\n\t\t\tstruct mthca_icm *aux_icm;\n\t\t\tu16 fw_pages;\n\t\t}        arbel;\n\t}                fw;\n\n\tu64              ddr_start;\n\tu64              ddr_end;\n\n\tMTHCA_DECLARE_DOORBELL_LOCK(doorbell_lock)\n\tstruct mutex cap_mask_mutex;\n\n\tvoid __iomem    *hcr;\n\tvoid __iomem    *kar;\n\tvoid __iomem    *clr_base;\n\tunion {\n\t\tstruct {\n\t\t\tvoid __iomem *ecr_base;\n\t\t} tavor;\n\t\tstruct {\n\t\t\tvoid __iomem *eq_arm;\n\t\t\tvoid __iomem *eq_set_ci_base;\n\t\t} arbel;\n\t} eq_regs;\n\n\tstruct mthca_cmd    cmd;\n\tstruct mthca_limits limits;\n\n\tstruct mthca_uar_table uar_table;\n\tstruct mthca_pd_table  pd_table;\n\tstruct mthca_mr_table  mr_table;\n\tstruct mthca_eq_table  eq_table;\n\tstruct mthca_cq_table  cq_table;\n\tstruct mthca_srq_table srq_table;\n\tstruct mthca_qp_table  qp_table;\n\tstruct mthca_av_table  av_table;\n\tstruct mthca_mcg_table mcg_table;\n\n\tstruct mthca_catas_err catas_err;\n\n\tstruct mthca_uar       driver_uar;\n\tstruct mthca_db_table *db_tab;\n\tstruct mthca_pd        driver_pd;\n\tstruct mthca_mr        driver_mr;\n\n\tstruct ib_mad_agent  *send_agent[MTHCA_MAX_PORTS][2];\n\tstruct ib_ah         *sm_ah[MTHCA_MAX_PORTS];\n\tspinlock_t            sm_lock;\n\tu8                    rate[MTHCA_MAX_PORTS];\n\tbool\t\t      active;\n};\n\n#ifdef CONFIG_INFINIBAND_MTHCA_DEBUG\nextern int mthca_debug_level;\n\n#define mthca_dbg(mdev, format, arg...)\t\t\t\t\t\\\n\tdo {\t\t\t\t\t\t\t\t\\\n\t\tif (mthca_debug_level)\t\t\t\t\t\\\n\t\t\tdev_printk(KERN_DEBUG, &mdev->pdev->dev, format, ## arg); \\\n\t} while (0)\n\n#else  \n\n#define mthca_dbg(mdev, format, arg...) do { (void) mdev; } while (0)\n\n#endif  \n\n#define mthca_err(mdev, format, arg...) \\\n\tdev_err(&mdev->pdev->dev, format, ## arg)\n#define mthca_info(mdev, format, arg...) \\\n\tdev_info(&mdev->pdev->dev, format, ## arg)\n#define mthca_warn(mdev, format, arg...) \\\n\tdev_warn(&mdev->pdev->dev, format, ## arg)\n\nextern void __buggy_use_of_MTHCA_GET(void);\nextern void __buggy_use_of_MTHCA_PUT(void);\n\n#define MTHCA_GET(dest, source, offset)                               \\\n\tdo {                                                          \\\n\t\tvoid *__p = (char *) (source) + (offset);             \\\n\t\tswitch (sizeof (dest)) {                              \\\n\t\tcase 1: (dest) = *(u8 *) __p;       break;\t      \\\n\t\tcase 2: (dest) = be16_to_cpup(__p); break;\t      \\\n\t\tcase 4: (dest) = be32_to_cpup(__p); break;\t      \\\n\t\tcase 8: (dest) = be64_to_cpup(__p); break;\t      \\\n\t\tdefault: __buggy_use_of_MTHCA_GET();\t\t      \\\n\t\t}                                                     \\\n\t} while (0)\n\n#define MTHCA_PUT(dest, source, offset)                               \\\n\tdo {                                                          \\\n\t\tvoid *__d = ((char *) (dest) + (offset));\t      \\\n\t\tswitch (sizeof(source)) {                             \\\n\t\tcase 1: *(u8 *) __d = (source);                break; \\\n\t\tcase 2:\t*(__be16 *) __d = cpu_to_be16(source); break; \\\n\t\tcase 4:\t*(__be32 *) __d = cpu_to_be32(source); break; \\\n\t\tcase 8:\t*(__be64 *) __d = cpu_to_be64(source); break; \\\n\t\tdefault: __buggy_use_of_MTHCA_PUT();\t\t      \\\n\t\t}                                                     \\\n\t} while (0)\n\nint mthca_reset(struct mthca_dev *mdev);\n\nu32 mthca_alloc(struct mthca_alloc *alloc);\nvoid mthca_free(struct mthca_alloc *alloc, u32 obj);\nint mthca_alloc_init(struct mthca_alloc *alloc, u32 num, u32 mask,\n\t\t     u32 reserved);\nvoid mthca_alloc_cleanup(struct mthca_alloc *alloc);\nvoid *mthca_array_get(struct mthca_array *array, int index);\nint mthca_array_set(struct mthca_array *array, int index, void *value);\nvoid mthca_array_clear(struct mthca_array *array, int index);\nint mthca_array_init(struct mthca_array *array, int nent);\nvoid mthca_array_cleanup(struct mthca_array *array, int nent);\nint mthca_buf_alloc(struct mthca_dev *dev, int size, int max_direct,\n\t\t    union mthca_buf *buf, int *is_direct, struct mthca_pd *pd,\n\t\t    int hca_write, struct mthca_mr *mr);\nvoid mthca_buf_free(struct mthca_dev *dev, int size, union mthca_buf *buf,\n\t\t    int is_direct, struct mthca_mr *mr);\n\nint mthca_init_uar_table(struct mthca_dev *dev);\nint mthca_init_pd_table(struct mthca_dev *dev);\nint mthca_init_mr_table(struct mthca_dev *dev);\nint mthca_init_eq_table(struct mthca_dev *dev);\nint mthca_init_cq_table(struct mthca_dev *dev);\nint mthca_init_srq_table(struct mthca_dev *dev);\nint mthca_init_qp_table(struct mthca_dev *dev);\nint mthca_init_av_table(struct mthca_dev *dev);\nint mthca_init_mcg_table(struct mthca_dev *dev);\n\nvoid mthca_cleanup_uar_table(struct mthca_dev *dev);\nvoid mthca_cleanup_pd_table(struct mthca_dev *dev);\nvoid mthca_cleanup_mr_table(struct mthca_dev *dev);\nvoid mthca_cleanup_eq_table(struct mthca_dev *dev);\nvoid mthca_cleanup_cq_table(struct mthca_dev *dev);\nvoid mthca_cleanup_srq_table(struct mthca_dev *dev);\nvoid mthca_cleanup_qp_table(struct mthca_dev *dev);\nvoid mthca_cleanup_av_table(struct mthca_dev *dev);\nvoid mthca_cleanup_mcg_table(struct mthca_dev *dev);\n\nint mthca_register_device(struct mthca_dev *dev);\nvoid mthca_unregister_device(struct mthca_dev *dev);\n\nvoid mthca_start_catas_poll(struct mthca_dev *dev);\nvoid mthca_stop_catas_poll(struct mthca_dev *dev);\nint __mthca_restart_one(struct pci_dev *pdev);\nint mthca_catas_init(void);\nvoid mthca_catas_cleanup(void);\n\nint mthca_uar_alloc(struct mthca_dev *dev, struct mthca_uar *uar);\nvoid mthca_uar_free(struct mthca_dev *dev, struct mthca_uar *uar);\n\nint mthca_pd_alloc(struct mthca_dev *dev, int privileged, struct mthca_pd *pd);\nvoid mthca_pd_free(struct mthca_dev *dev, struct mthca_pd *pd);\n\nint mthca_write_mtt_size(struct mthca_dev *dev);\n\nstruct mthca_mtt *mthca_alloc_mtt(struct mthca_dev *dev, int size);\nvoid mthca_free_mtt(struct mthca_dev *dev, struct mthca_mtt *mtt);\nint mthca_write_mtt(struct mthca_dev *dev, struct mthca_mtt *mtt,\n\t\t    int start_index, u64 *buffer_list, int list_len);\nint mthca_mr_alloc(struct mthca_dev *dev, u32 pd, int buffer_size_shift,\n\t\t   u64 iova, u64 total_size, u32 access, struct mthca_mr *mr);\nint mthca_mr_alloc_notrans(struct mthca_dev *dev, u32 pd,\n\t\t\t   u32 access, struct mthca_mr *mr);\nint mthca_mr_alloc_phys(struct mthca_dev *dev, u32 pd,\n\t\t\tu64 *buffer_list, int buffer_size_shift,\n\t\t\tint list_len, u64 iova, u64 total_size,\n\t\t\tu32 access, struct mthca_mr *mr);\nvoid mthca_free_mr(struct mthca_dev *dev,  struct mthca_mr *mr);\n\nint mthca_map_eq_icm(struct mthca_dev *dev, u64 icm_virt);\nvoid mthca_unmap_eq_icm(struct mthca_dev *dev);\n\nint mthca_poll_cq(struct ib_cq *ibcq, int num_entries,\n\t\t  struct ib_wc *entry);\nint mthca_tavor_arm_cq(struct ib_cq *cq, enum ib_cq_notify_flags flags);\nint mthca_arbel_arm_cq(struct ib_cq *cq, enum ib_cq_notify_flags flags);\nint mthca_init_cq(struct mthca_dev *dev, int nent,\n\t\t  struct mthca_ucontext *ctx, u32 pdn,\n\t\t  struct mthca_cq *cq);\nvoid mthca_free_cq(struct mthca_dev *dev,\n\t\t   struct mthca_cq *cq);\nvoid mthca_cq_completion(struct mthca_dev *dev, u32 cqn);\nvoid mthca_cq_event(struct mthca_dev *dev, u32 cqn,\n\t\t    enum ib_event_type event_type);\nvoid mthca_cq_clean(struct mthca_dev *dev, struct mthca_cq *cq, u32 qpn,\n\t\t    struct mthca_srq *srq);\nvoid mthca_cq_resize_copy_cqes(struct mthca_cq *cq);\nint mthca_alloc_cq_buf(struct mthca_dev *dev, struct mthca_cq_buf *buf, int nent);\nvoid mthca_free_cq_buf(struct mthca_dev *dev, struct mthca_cq_buf *buf, int cqe);\n\nint mthca_alloc_srq(struct mthca_dev *dev, struct mthca_pd *pd,\n\t\t    struct ib_srq_attr *attr, struct mthca_srq *srq,\n\t\t    struct ib_udata *udata);\nvoid mthca_free_srq(struct mthca_dev *dev, struct mthca_srq *srq);\nint mthca_modify_srq(struct ib_srq *ibsrq, struct ib_srq_attr *attr,\n\t\t     enum ib_srq_attr_mask attr_mask, struct ib_udata *udata);\nint mthca_query_srq(struct ib_srq *srq, struct ib_srq_attr *srq_attr);\nint mthca_max_srq_sge(struct mthca_dev *dev);\nvoid mthca_srq_event(struct mthca_dev *dev, u32 srqn,\n\t\t     enum ib_event_type event_type);\nvoid mthca_free_srq_wqe(struct mthca_srq *srq, u32 wqe_addr);\nint mthca_tavor_post_srq_recv(struct ib_srq *srq, const struct ib_recv_wr *wr,\n\t\t\t      const struct ib_recv_wr **bad_wr);\nint mthca_arbel_post_srq_recv(struct ib_srq *srq, const struct ib_recv_wr *wr,\n\t\t\t      const struct ib_recv_wr **bad_wr);\n\nvoid mthca_qp_event(struct mthca_dev *dev, u32 qpn,\n\t\t    enum ib_event_type event_type);\nint mthca_query_qp(struct ib_qp *ibqp, struct ib_qp_attr *qp_attr, int qp_attr_mask,\n\t\t   struct ib_qp_init_attr *qp_init_attr);\nint mthca_modify_qp(struct ib_qp *ibqp, struct ib_qp_attr *attr, int attr_mask,\n\t\t    struct ib_udata *udata);\nint mthca_tavor_post_send(struct ib_qp *ibqp, const struct ib_send_wr *wr,\n\t\t\t  const struct ib_send_wr **bad_wr);\nint mthca_tavor_post_receive(struct ib_qp *ibqp, const struct ib_recv_wr *wr,\n\t\t\t     const struct ib_recv_wr **bad_wr);\nint mthca_arbel_post_send(struct ib_qp *ibqp, const struct ib_send_wr *wr,\n\t\t\t  const struct ib_send_wr **bad_wr);\nint mthca_arbel_post_receive(struct ib_qp *ibqp, const struct ib_recv_wr *wr,\n\t\t\t     const struct ib_recv_wr **bad_wr);\nvoid mthca_free_err_wqe(struct mthca_dev *dev, struct mthca_qp *qp, int is_send,\n\t\t\tint index, int *dbd, __be32 *new_wqe);\nint mthca_alloc_qp(struct mthca_dev *dev,\n\t\t   struct mthca_pd *pd,\n\t\t   struct mthca_cq *send_cq,\n\t\t   struct mthca_cq *recv_cq,\n\t\t   enum ib_qp_type type,\n\t\t   enum ib_sig_type send_policy,\n\t\t   struct ib_qp_cap *cap,\n\t\t   struct mthca_qp *qp,\n\t\t   struct ib_udata *udata);\nint mthca_alloc_sqp(struct mthca_dev *dev,\n\t\t    struct mthca_pd *pd,\n\t\t    struct mthca_cq *send_cq,\n\t\t    struct mthca_cq *recv_cq,\n\t\t    enum ib_sig_type send_policy,\n\t\t    struct ib_qp_cap *cap,\n\t\t    int qpn,\n\t\t    u32 port,\n\t\t    struct mthca_qp *qp,\n\t\t    struct ib_udata *udata);\nvoid mthca_free_qp(struct mthca_dev *dev, struct mthca_qp *qp);\nint mthca_create_ah(struct mthca_dev *dev,\n\t\t    struct mthca_pd *pd,\n\t\t    struct rdma_ah_attr *ah_attr,\n\t\t    struct mthca_ah *ah);\nint mthca_destroy_ah(struct mthca_dev *dev, struct mthca_ah *ah);\nint mthca_read_ah(struct mthca_dev *dev, struct mthca_ah *ah,\n\t\t  struct ib_ud_header *header);\nint mthca_ah_query(struct ib_ah *ibah, struct rdma_ah_attr *attr);\nint mthca_ah_grh_present(struct mthca_ah *ah);\nu8 mthca_get_rate(struct mthca_dev *dev, int static_rate, u32 port);\nenum ib_rate mthca_rate_to_ib(struct mthca_dev *dev, u8 mthca_rate, u32 port);\n\nint mthca_multicast_attach(struct ib_qp *ibqp, union ib_gid *gid, u16 lid);\nint mthca_multicast_detach(struct ib_qp *ibqp, union ib_gid *gid, u16 lid);\n\nint mthca_process_mad(struct ib_device *ibdev, int mad_flags, u32 port_num,\n\t\t      const struct ib_wc *in_wc, const struct ib_grh *in_grh,\n\t\t      const struct ib_mad *in, struct ib_mad *out,\n\t\t      size_t *out_mad_size, u16 *out_mad_pkey_index);\nint mthca_create_agents(struct mthca_dev *dev);\nvoid mthca_free_agents(struct mthca_dev *dev);\n\nstatic inline struct mthca_dev *to_mdev(struct ib_device *ibdev)\n{\n\treturn container_of(ibdev, struct mthca_dev, ib_dev);\n}\n\nstatic inline int mthca_is_memfree(struct mthca_dev *dev)\n{\n\treturn dev->mthca_flags & MTHCA_FLAG_MEMFREE;\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}