{
  "module_name": "pvrdma_verbs.h",
  "hash_id": "9aa8b91a4961cb91625912dfd4d1655ef8b3a3efe4e505a0a8426952dcb1b787",
  "original_prompt": "Ingested from linux-6.6.14/drivers/infiniband/hw/vmw_pvrdma/pvrdma_verbs.h",
  "human_readable_source": " \n\n#ifndef __PVRDMA_VERBS_H__\n#define __PVRDMA_VERBS_H__\n\n#include <linux/types.h>\n\nunion pvrdma_gid {\n\tu8\traw[16];\n\tstruct {\n\t\t__be64\tsubnet_prefix;\n\t\t__be64\tinterface_id;\n\t} global;\n};\n\nenum pvrdma_link_layer {\n\tPVRDMA_LINK_LAYER_UNSPECIFIED,\n\tPVRDMA_LINK_LAYER_INFINIBAND,\n\tPVRDMA_LINK_LAYER_ETHERNET,\n};\n\nenum pvrdma_mtu {\n\tPVRDMA_MTU_256  = 1,\n\tPVRDMA_MTU_512  = 2,\n\tPVRDMA_MTU_1024 = 3,\n\tPVRDMA_MTU_2048 = 4,\n\tPVRDMA_MTU_4096 = 5,\n};\n\nenum pvrdma_port_state {\n\tPVRDMA_PORT_NOP\t\t\t= 0,\n\tPVRDMA_PORT_DOWN\t\t= 1,\n\tPVRDMA_PORT_INIT\t\t= 2,\n\tPVRDMA_PORT_ARMED\t\t= 3,\n\tPVRDMA_PORT_ACTIVE\t\t= 4,\n\tPVRDMA_PORT_ACTIVE_DEFER\t= 5,\n};\n\nenum pvrdma_port_cap_flags {\n\tPVRDMA_PORT_SM\t\t\t\t= 1 <<  1,\n\tPVRDMA_PORT_NOTICE_SUP\t\t\t= 1 <<  2,\n\tPVRDMA_PORT_TRAP_SUP\t\t\t= 1 <<  3,\n\tPVRDMA_PORT_OPT_IPD_SUP\t\t\t= 1 <<  4,\n\tPVRDMA_PORT_AUTO_MIGR_SUP\t\t= 1 <<  5,\n\tPVRDMA_PORT_SL_MAP_SUP\t\t\t= 1 <<  6,\n\tPVRDMA_PORT_MKEY_NVRAM\t\t\t= 1 <<  7,\n\tPVRDMA_PORT_PKEY_NVRAM\t\t\t= 1 <<  8,\n\tPVRDMA_PORT_LED_INFO_SUP\t\t= 1 <<  9,\n\tPVRDMA_PORT_SM_DISABLED\t\t\t= 1 << 10,\n\tPVRDMA_PORT_SYS_IMAGE_GUID_SUP\t\t= 1 << 11,\n\tPVRDMA_PORT_PKEY_SW_EXT_PORT_TRAP_SUP\t= 1 << 12,\n\tPVRDMA_PORT_EXTENDED_SPEEDS_SUP\t\t= 1 << 14,\n\tPVRDMA_PORT_CM_SUP\t\t\t= 1 << 16,\n\tPVRDMA_PORT_SNMP_TUNNEL_SUP\t\t= 1 << 17,\n\tPVRDMA_PORT_REINIT_SUP\t\t\t= 1 << 18,\n\tPVRDMA_PORT_DEVICE_MGMT_SUP\t\t= 1 << 19,\n\tPVRDMA_PORT_VENDOR_CLASS_SUP\t\t= 1 << 20,\n\tPVRDMA_PORT_DR_NOTICE_SUP\t\t= 1 << 21,\n\tPVRDMA_PORT_CAP_MASK_NOTICE_SUP\t\t= 1 << 22,\n\tPVRDMA_PORT_BOOT_MGMT_SUP\t\t= 1 << 23,\n\tPVRDMA_PORT_LINK_LATENCY_SUP\t\t= 1 << 24,\n\tPVRDMA_PORT_CLIENT_REG_SUP\t\t= 1 << 25,\n\tPVRDMA_PORT_IP_BASED_GIDS\t\t= 1 << 26,\n\tPVRDMA_PORT_CAP_FLAGS_MAX\t\t= PVRDMA_PORT_IP_BASED_GIDS,\n};\n\nenum pvrdma_port_width {\n\tPVRDMA_WIDTH_1X\t\t= 1,\n\tPVRDMA_WIDTH_4X\t\t= 2,\n\tPVRDMA_WIDTH_8X\t\t= 4,\n\tPVRDMA_WIDTH_12X\t= 8,\n};\n\nenum pvrdma_port_speed {\n\tPVRDMA_SPEED_SDR\t= 1,\n\tPVRDMA_SPEED_DDR\t= 2,\n\tPVRDMA_SPEED_QDR\t= 4,\n\tPVRDMA_SPEED_FDR10\t= 8,\n\tPVRDMA_SPEED_FDR\t= 16,\n\tPVRDMA_SPEED_EDR\t= 32,\n};\n\nstruct pvrdma_port_attr {\n\tenum pvrdma_port_state\tstate;\n\tenum pvrdma_mtu\t\tmax_mtu;\n\tenum pvrdma_mtu\t\tactive_mtu;\n\tu32\t\t\tgid_tbl_len;\n\tu32\t\t\tport_cap_flags;\n\tu32\t\t\tmax_msg_sz;\n\tu32\t\t\tbad_pkey_cntr;\n\tu32\t\t\tqkey_viol_cntr;\n\tu16\t\t\tpkey_tbl_len;\n\tu16\t\t\tlid;\n\tu16\t\t\tsm_lid;\n\tu8\t\t\tlmc;\n\tu8\t\t\tmax_vl_num;\n\tu8\t\t\tsm_sl;\n\tu8\t\t\tsubnet_timeout;\n\tu8\t\t\tinit_type_reply;\n\tu8\t\t\tactive_width;\n\tu8\t\t\tactive_speed;\n\tu8\t\t\tphys_state;\n\tu8\t\t\treserved[2];\n};\n\nstruct pvrdma_global_route {\n\tunion pvrdma_gid\tdgid;\n\tu32\t\t\tflow_label;\n\tu8\t\t\tsgid_index;\n\tu8\t\t\thop_limit;\n\tu8\t\t\ttraffic_class;\n\tu8\t\t\treserved;\n};\n\nstruct pvrdma_grh {\n\t__be32\t\t\tversion_tclass_flow;\n\t__be16\t\t\tpaylen;\n\tu8\t\t\tnext_hdr;\n\tu8\t\t\thop_limit;\n\tunion pvrdma_gid\tsgid;\n\tunion pvrdma_gid\tdgid;\n};\n\nenum pvrdma_ah_flags {\n\tPVRDMA_AH_GRH = 1,\n};\n\nenum pvrdma_rate {\n\tPVRDMA_RATE_PORT_CURRENT\t= 0,\n\tPVRDMA_RATE_2_5_GBPS\t\t= 2,\n\tPVRDMA_RATE_5_GBPS\t\t= 5,\n\tPVRDMA_RATE_10_GBPS\t\t= 3,\n\tPVRDMA_RATE_20_GBPS\t\t= 6,\n\tPVRDMA_RATE_30_GBPS\t\t= 4,\n\tPVRDMA_RATE_40_GBPS\t\t= 7,\n\tPVRDMA_RATE_60_GBPS\t\t= 8,\n\tPVRDMA_RATE_80_GBPS\t\t= 9,\n\tPVRDMA_RATE_120_GBPS\t\t= 10,\n\tPVRDMA_RATE_14_GBPS\t\t= 11,\n\tPVRDMA_RATE_56_GBPS\t\t= 12,\n\tPVRDMA_RATE_112_GBPS\t\t= 13,\n\tPVRDMA_RATE_168_GBPS\t\t= 14,\n\tPVRDMA_RATE_25_GBPS\t\t= 15,\n\tPVRDMA_RATE_100_GBPS\t\t= 16,\n\tPVRDMA_RATE_200_GBPS\t\t= 17,\n\tPVRDMA_RATE_300_GBPS\t\t= 18,\n};\n\nstruct pvrdma_ah_attr {\n\tstruct pvrdma_global_route\tgrh;\n\tu16\t\t\t\tdlid;\n\tu16\t\t\t\tvlan_id;\n\tu8\t\t\t\tsl;\n\tu8\t\t\t\tsrc_path_bits;\n\tu8\t\t\t\tstatic_rate;\n\tu8\t\t\t\tah_flags;\n\tu8\t\t\t\tport_num;\n\tu8\t\t\t\tdmac[6];\n\tu8\t\t\t\treserved;\n};\n\nenum pvrdma_cq_notify_flags {\n\tPVRDMA_CQ_SOLICITED\t\t= 1 << 0,\n\tPVRDMA_CQ_NEXT_COMP\t\t= 1 << 1,\n\tPVRDMA_CQ_SOLICITED_MASK\t= PVRDMA_CQ_SOLICITED |\n\t\t\t\t\t  PVRDMA_CQ_NEXT_COMP,\n\tPVRDMA_CQ_REPORT_MISSED_EVENTS\t= 1 << 2,\n};\n\nstruct pvrdma_qp_cap {\n\tu32\tmax_send_wr;\n\tu32\tmax_recv_wr;\n\tu32\tmax_send_sge;\n\tu32\tmax_recv_sge;\n\tu32\tmax_inline_data;\n\tu32\treserved;\n};\n\nenum pvrdma_sig_type {\n\tPVRDMA_SIGNAL_ALL_WR,\n\tPVRDMA_SIGNAL_REQ_WR,\n};\n\nenum pvrdma_qp_type {\n\tPVRDMA_QPT_SMI,\n\tPVRDMA_QPT_GSI,\n\tPVRDMA_QPT_RC,\n\tPVRDMA_QPT_UC,\n\tPVRDMA_QPT_UD,\n\tPVRDMA_QPT_RAW_IPV6,\n\tPVRDMA_QPT_RAW_ETHERTYPE,\n\tPVRDMA_QPT_RAW_PACKET = 8,\n\tPVRDMA_QPT_XRC_INI = 9,\n\tPVRDMA_QPT_XRC_TGT,\n\tPVRDMA_QPT_MAX,\n};\n\nenum pvrdma_qp_create_flags {\n\tPVRDMA_QP_CREATE_IPOPVRDMA_UD_LSO\t\t= 1 << 0,\n\tPVRDMA_QP_CREATE_BLOCK_MULTICAST_LOOPBACK\t= 1 << 1,\n};\n\nenum pvrdma_qp_attr_mask {\n\tPVRDMA_QP_STATE\t\t\t= 1 << 0,\n\tPVRDMA_QP_CUR_STATE\t\t= 1 << 1,\n\tPVRDMA_QP_EN_SQD_ASYNC_NOTIFY\t= 1 << 2,\n\tPVRDMA_QP_ACCESS_FLAGS\t\t= 1 << 3,\n\tPVRDMA_QP_PKEY_INDEX\t\t= 1 << 4,\n\tPVRDMA_QP_PORT\t\t\t= 1 << 5,\n\tPVRDMA_QP_QKEY\t\t\t= 1 << 6,\n\tPVRDMA_QP_AV\t\t\t= 1 << 7,\n\tPVRDMA_QP_PATH_MTU\t\t= 1 << 8,\n\tPVRDMA_QP_TIMEOUT\t\t= 1 << 9,\n\tPVRDMA_QP_RETRY_CNT\t\t= 1 << 10,\n\tPVRDMA_QP_RNR_RETRY\t\t= 1 << 11,\n\tPVRDMA_QP_RQ_PSN\t\t= 1 << 12,\n\tPVRDMA_QP_MAX_QP_RD_ATOMIC\t= 1 << 13,\n\tPVRDMA_QP_ALT_PATH\t\t= 1 << 14,\n\tPVRDMA_QP_MIN_RNR_TIMER\t\t= 1 << 15,\n\tPVRDMA_QP_SQ_PSN\t\t= 1 << 16,\n\tPVRDMA_QP_MAX_DEST_RD_ATOMIC\t= 1 << 17,\n\tPVRDMA_QP_PATH_MIG_STATE\t= 1 << 18,\n\tPVRDMA_QP_CAP\t\t\t= 1 << 19,\n\tPVRDMA_QP_DEST_QPN\t\t= 1 << 20,\n\tPVRDMA_QP_ATTR_MASK_MAX\t\t= PVRDMA_QP_DEST_QPN,\n};\n\nenum pvrdma_qp_state {\n\tPVRDMA_QPS_RESET,\n\tPVRDMA_QPS_INIT,\n\tPVRDMA_QPS_RTR,\n\tPVRDMA_QPS_RTS,\n\tPVRDMA_QPS_SQD,\n\tPVRDMA_QPS_SQE,\n\tPVRDMA_QPS_ERR,\n};\n\nenum pvrdma_mig_state {\n\tPVRDMA_MIG_MIGRATED,\n\tPVRDMA_MIG_REARM,\n\tPVRDMA_MIG_ARMED,\n};\n\nenum pvrdma_mw_type {\n\tPVRDMA_MW_TYPE_1 = 1,\n\tPVRDMA_MW_TYPE_2 = 2,\n};\n\nstruct pvrdma_srq_attr {\n\tu32\t\t\tmax_wr;\n\tu32\t\t\tmax_sge;\n\tu32\t\t\tsrq_limit;\n\tu32\t\t\treserved;\n};\n\nstruct pvrdma_qp_attr {\n\tenum pvrdma_qp_state\tqp_state;\n\tenum pvrdma_qp_state\tcur_qp_state;\n\tenum pvrdma_mtu\t\tpath_mtu;\n\tenum pvrdma_mig_state\tpath_mig_state;\n\tu32\t\t\tqkey;\n\tu32\t\t\trq_psn;\n\tu32\t\t\tsq_psn;\n\tu32\t\t\tdest_qp_num;\n\tu32\t\t\tqp_access_flags;\n\tu16\t\t\tpkey_index;\n\tu16\t\t\talt_pkey_index;\n\tu8\t\t\ten_sqd_async_notify;\n\tu8\t\t\tsq_draining;\n\tu8\t\t\tmax_rd_atomic;\n\tu8\t\t\tmax_dest_rd_atomic;\n\tu8\t\t\tmin_rnr_timer;\n\tu8\t\t\tport_num;\n\tu8\t\t\ttimeout;\n\tu8\t\t\tretry_cnt;\n\tu8\t\t\trnr_retry;\n\tu8\t\t\talt_port_num;\n\tu8\t\t\talt_timeout;\n\tu8\t\t\treserved[5];\n\tstruct pvrdma_qp_cap\tcap;\n\tstruct pvrdma_ah_attr\tah_attr;\n\tstruct pvrdma_ah_attr\talt_ah_attr;\n};\n\nenum pvrdma_send_flags {\n\tPVRDMA_SEND_FENCE\t= 1 << 0,\n\tPVRDMA_SEND_SIGNALED\t= 1 << 1,\n\tPVRDMA_SEND_SOLICITED\t= 1 << 2,\n\tPVRDMA_SEND_INLINE\t= 1 << 3,\n\tPVRDMA_SEND_IP_CSUM\t= 1 << 4,\n\tPVRDMA_SEND_FLAGS_MAX\t= PVRDMA_SEND_IP_CSUM,\n};\n\nenum pvrdma_access_flags {\n\tPVRDMA_ACCESS_LOCAL_WRITE\t= 1 << 0,\n\tPVRDMA_ACCESS_REMOTE_WRITE\t= 1 << 1,\n\tPVRDMA_ACCESS_REMOTE_READ\t= 1 << 2,\n\tPVRDMA_ACCESS_REMOTE_ATOMIC\t= 1 << 3,\n\tPVRDMA_ACCESS_MW_BIND\t\t= 1 << 4,\n\tPVRDMA_ZERO_BASED\t\t= 1 << 5,\n\tPVRDMA_ACCESS_ON_DEMAND\t\t= 1 << 6,\n\tPVRDMA_ACCESS_FLAGS_MAX\t\t= PVRDMA_ACCESS_ON_DEMAND,\n};\n\nint pvrdma_query_device(struct ib_device *ibdev,\n\t\t\tstruct ib_device_attr *props,\n\t\t\tstruct ib_udata *udata);\nint pvrdma_query_port(struct ib_device *ibdev, u32 port,\n\t\t      struct ib_port_attr *props);\nint pvrdma_query_gid(struct ib_device *ibdev, u32 port,\n\t\t     int index, union ib_gid *gid);\nint pvrdma_query_pkey(struct ib_device *ibdev, u32 port,\n\t\t      u16 index, u16 *pkey);\nenum rdma_link_layer pvrdma_port_link_layer(struct ib_device *ibdev,\n\t\t\t\t\t    u32 port);\nint pvrdma_modify_device(struct ib_device *ibdev, int mask,\n\t\t\t struct ib_device_modify *props);\nint pvrdma_modify_port(struct ib_device *ibdev, u32 port,\n\t\t       int mask, struct ib_port_modify *props);\nint pvrdma_mmap(struct ib_ucontext *context, struct vm_area_struct *vma);\nint pvrdma_alloc_ucontext(struct ib_ucontext *uctx, struct ib_udata *udata);\nvoid pvrdma_dealloc_ucontext(struct ib_ucontext *context);\nint pvrdma_alloc_pd(struct ib_pd *pd, struct ib_udata *udata);\nint pvrdma_dealloc_pd(struct ib_pd *ibpd, struct ib_udata *udata);\nstruct ib_mr *pvrdma_get_dma_mr(struct ib_pd *pd, int acc);\nstruct ib_mr *pvrdma_reg_user_mr(struct ib_pd *pd, u64 start, u64 length,\n\t\t\t\t u64 virt_addr, int access_flags,\n\t\t\t\t struct ib_udata *udata);\nint pvrdma_dereg_mr(struct ib_mr *mr, struct ib_udata *udata);\nstruct ib_mr *pvrdma_alloc_mr(struct ib_pd *pd, enum ib_mr_type mr_type,\n\t\t\t      u32 max_num_sg);\nint pvrdma_map_mr_sg(struct ib_mr *ibmr, struct scatterlist *sg,\n\t\t     int sg_nents, unsigned int *sg_offset);\nint pvrdma_create_cq(struct ib_cq *ibcq, const struct ib_cq_init_attr *attr,\n\t\t     struct ib_udata *udata);\nint pvrdma_destroy_cq(struct ib_cq *cq, struct ib_udata *udata);\nint pvrdma_poll_cq(struct ib_cq *ibcq, int num_entries, struct ib_wc *wc);\nint pvrdma_req_notify_cq(struct ib_cq *cq, enum ib_cq_notify_flags flags);\nint pvrdma_create_ah(struct ib_ah *ah, struct rdma_ah_init_attr *init_attr,\n\t\t     struct ib_udata *udata);\nint pvrdma_destroy_ah(struct ib_ah *ah, u32 flags);\n\nint pvrdma_create_srq(struct ib_srq *srq, struct ib_srq_init_attr *init_attr,\n\t\t      struct ib_udata *udata);\nint pvrdma_modify_srq(struct ib_srq *ibsrq, struct ib_srq_attr *attr,\n\t\t      enum ib_srq_attr_mask attr_mask, struct ib_udata *udata);\nint pvrdma_query_srq(struct ib_srq *srq, struct ib_srq_attr *srq_attr);\nint pvrdma_destroy_srq(struct ib_srq *srq, struct ib_udata *udata);\n\nint pvrdma_create_qp(struct ib_qp *qp, struct ib_qp_init_attr *init_attr,\n\t\t     struct ib_udata *udata);\nint pvrdma_modify_qp(struct ib_qp *ibqp, struct ib_qp_attr *attr,\n\t\t     int attr_mask, struct ib_udata *udata);\nint pvrdma_query_qp(struct ib_qp *ibqp, struct ib_qp_attr *qp_attr,\n\t\t    int qp_attr_mask, struct ib_qp_init_attr *qp_init_attr);\nint pvrdma_destroy_qp(struct ib_qp *qp, struct ib_udata *udata);\nint pvrdma_post_send(struct ib_qp *ibqp, const struct ib_send_wr *wr,\n\t\t     const struct ib_send_wr **bad_wr);\nint pvrdma_post_recv(struct ib_qp *ibqp, const struct ib_recv_wr *wr,\n\t\t     const struct ib_recv_wr **bad_wr);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}