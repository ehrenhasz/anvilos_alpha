{
  "module_name": "hns_roce_common.h",
  "hash_id": "20e83c164be0fda1a758b117be5e9d4725efb42b6132152218cf387125092ca3",
  "original_prompt": "Ingested from linux-6.6.14/drivers/infiniband/hw/hns/hns_roce_common.h",
  "human_readable_source": " \n\n#ifndef _HNS_ROCE_COMMON_H\n#define _HNS_ROCE_COMMON_H\n#include <linux/bitfield.h>\n\n#define roce_write(dev, reg, val)\twritel((val), (dev)->reg_base + (reg))\n#define roce_read(dev, reg)\t\treadl((dev)->reg_base + (reg))\n#define roce_raw_write(value, addr) \\\n\t__raw_writel((__force u32)cpu_to_le32(value), (addr))\n\n#define roce_get_field(origin, mask, shift)                                    \\\n\t((le32_to_cpu(origin) & (mask)) >> (u32)(shift))\n\n#define roce_get_bit(origin, shift) \\\n\troce_get_field((origin), (1ul << (shift)), (shift))\n\n#define roce_set_field(origin, mask, shift, val)                               \\\n\tdo {                                                                   \\\n\t\t(origin) &= ~cpu_to_le32(mask);                                \\\n\t\t(origin) |=                                                    \\\n\t\t\tcpu_to_le32(((u32)(val) << (u32)(shift)) & (mask));    \\\n\t} while (0)\n\n#define roce_set_bit(origin, shift, val)                                       \\\n\troce_set_field((origin), (1ul << (shift)), (shift), (val))\n\n#define FIELD_LOC(field_type, field_h, field_l) field_type, field_h, field_l\n\n#define _hr_reg_enable(ptr, field_type, field_h, field_l)                      \\\n\t({                                                                     \\\n\t\tconst field_type *_ptr = ptr;                                  \\\n\t\t*((__le32 *)_ptr + (field_h) / 32) |= cpu_to_le32(             \\\n\t\t\tBIT((field_l) % 32) +                                  \\\n\t\t\tBUILD_BUG_ON_ZERO((field_h) != (field_l)));            \\\n\t})\n\n#define hr_reg_enable(ptr, field) _hr_reg_enable(ptr, field)\n\n#define _hr_reg_clear(ptr, field_type, field_h, field_l)                       \\\n\t({                                                                     \\\n\t\tconst field_type *_ptr = ptr;                                  \\\n\t\tBUILD_BUG_ON(((field_h) / 32) != ((field_l) / 32));            \\\n\t\t*((__le32 *)_ptr + (field_h) / 32) &=                          \\\n\t\t\t~cpu_to_le32(GENMASK((field_h) % 32, (field_l) % 32)); \\\n\t})\n\n#define hr_reg_clear(ptr, field) _hr_reg_clear(ptr, field)\n\n#define _hr_reg_write_bool(ptr, field_type, field_h, field_l, val)             \\\n\t({                                                                     \\\n\t\t(val) ? _hr_reg_enable(ptr, field_type, field_h, field_l) :    \\\n\t\t\t_hr_reg_clear(ptr, field_type, field_h, field_l);      \\\n\t})\n\n#define hr_reg_write_bool(ptr, field, val) _hr_reg_write_bool(ptr, field, val)\n\n#define _hr_reg_write(ptr, field_type, field_h, field_l, val)                  \\\n\t({                                                                     \\\n\t\t_hr_reg_clear(ptr, field_type, field_h, field_l);              \\\n\t\t*((__le32 *)ptr + (field_h) / 32) |= cpu_to_le32(FIELD_PREP(   \\\n\t\t\tGENMASK((field_h) % 32, (field_l) % 32), val));        \\\n\t})\n\n#define hr_reg_write(ptr, field, val) _hr_reg_write(ptr, field, val)\n\n#define _hr_reg_read(ptr, field_type, field_h, field_l)                        \\\n\t({                                                                     \\\n\t\tconst field_type *_ptr = ptr;                                  \\\n\t\tBUILD_BUG_ON(((field_h) / 32) != ((field_l) / 32));            \\\n\t\tFIELD_GET(GENMASK((field_h) % 32, (field_l) % 32),             \\\n\t\t\t  le32_to_cpu(*((__le32 *)_ptr + (field_h) / 32)));    \\\n\t})\n\n#define hr_reg_read(ptr, field) _hr_reg_read(ptr, field)\n\n \n#define ROCEE_VENDOR_ID_REG\t\t\t0x0\n#define ROCEE_VENDOR_PART_ID_REG\t\t0x4\n\n#define ROCEE_SYS_IMAGE_GUID_L_REG\t\t0xC\n#define ROCEE_SYS_IMAGE_GUID_H_REG\t\t0x10\n\n#define ROCEE_PORT_GID_L_0_REG\t\t\t0x50\n#define ROCEE_PORT_GID_ML_0_REG\t\t\t0x54\n#define ROCEE_PORT_GID_MH_0_REG\t\t\t0x58\n#define ROCEE_PORT_GID_H_0_REG\t\t\t0x5C\n\n#define ROCEE_BT_CMD_H_REG\t\t\t0x204\n\n#define ROCEE_SMAC_L_0_REG\t\t\t0x240\n#define ROCEE_SMAC_H_0_REG\t\t\t0x244\n\n#define ROCEE_QP1C_CFG3_0_REG\t\t\t0x27C\n\n#define ROCEE_CAEP_AEQE_CONS_IDX_REG\t\t0x3AC\n#define ROCEE_CAEP_CEQC_CONS_IDX_0_REG\t\t0x3BC\n\n#define ROCEE_ECC_UCERR_ALM1_REG\t\t0xB38\n#define ROCEE_ECC_UCERR_ALM2_REG\t\t0xB3C\n#define ROCEE_ECC_CERR_ALM1_REG\t\t\t0xB44\n#define ROCEE_ECC_CERR_ALM2_REG\t\t\t0xB48\n\n#define ROCEE_ACK_DELAY_REG\t\t\t0x14\n#define ROCEE_GLB_CFG_REG\t\t\t0x18\n\n#define ROCEE_DMAE_USER_CFG1_REG\t\t0x40\n#define ROCEE_DMAE_USER_CFG2_REG\t\t0x44\n\n#define ROCEE_DB_SQ_WL_REG\t\t\t0x154\n#define ROCEE_DB_OTHERS_WL_REG\t\t\t0x158\n#define ROCEE_RAQ_WL_REG\t\t\t0x15C\n#define ROCEE_WRMS_POL_TIME_INTERVAL_REG\t0x160\n#define ROCEE_EXT_DB_SQ_REG\t\t\t0x164\n#define ROCEE_EXT_DB_SQ_H_REG\t\t\t0x168\n#define ROCEE_EXT_DB_OTH_REG\t\t\t0x16C\n\n#define ROCEE_EXT_DB_OTH_H_REG\t\t\t0x170\n#define ROCEE_EXT_DB_SQ_WL_EMPTY_REG\t\t0x174\n#define ROCEE_EXT_DB_SQ_WL_REG\t\t\t0x178\n#define ROCEE_EXT_DB_OTHERS_WL_EMPTY_REG\t0x17C\n#define ROCEE_EXT_DB_OTHERS_WL_REG\t\t0x180\n#define ROCEE_EXT_RAQ_REG\t\t\t0x184\n#define ROCEE_EXT_RAQ_H_REG\t\t\t0x188\n\n#define ROCEE_CAEP_CE_INTERVAL_CFG_REG\t\t0x190\n#define ROCEE_CAEP_CE_BURST_NUM_CFG_REG\t\t0x194\n#define ROCEE_BT_CMD_L_REG\t\t\t0x200\n\n#define ROCEE_MB1_REG\t\t\t\t0x210\n#define ROCEE_MB6_REG\t\t\t\t0x224\n#define ROCEE_DB_SQ_L_0_REG\t\t\t0x230\n#define ROCEE_DB_OTHERS_L_0_REG\t\t\t0x238\n#define ROCEE_QP1C_CFG0_0_REG\t\t\t0x270\n\n#define ROCEE_CAEP_AEQC_AEQE_SHIFT_REG\t\t0x3A0\n#define ROCEE_CAEP_CEQC_SHIFT_0_REG\t\t0x3B0\n#define ROCEE_CAEP_CE_IRQ_MASK_0_REG\t\t0x3C0\n#define ROCEE_CAEP_CEQ_ALM_OVF_0_REG\t\t0x3C4\n#define ROCEE_CAEP_AE_MASK_REG\t\t\t0x6C8\n#define ROCEE_CAEP_AE_ST_REG\t\t\t0x6CC\n\n#define ROCEE_CAEP_CQE_WCMD_EMPTY\t\t0x850\n#define ROCEE_SCAEP_WR_CQE_CNT\t\t\t0x8D0\n#define ROCEE_ECC_UCERR_ALM0_REG\t\t0xB34\n#define ROCEE_ECC_CERR_ALM0_REG\t\t\t0xB40\n\n \n#define ROCEE_TX_CMQ_BASEADDR_L_REG\t\t0x07000\n#define ROCEE_TX_CMQ_BASEADDR_H_REG\t\t0x07004\n#define ROCEE_TX_CMQ_DEPTH_REG\t\t\t0x07008\n#define ROCEE_TX_CMQ_PI_REG\t\t\t0x07010\n#define ROCEE_TX_CMQ_CI_REG\t\t\t0x07014\n\n#define ROCEE_RX_CMQ_BASEADDR_L_REG\t\t0x07018\n#define ROCEE_RX_CMQ_BASEADDR_H_REG\t\t0x0701c\n#define ROCEE_RX_CMQ_DEPTH_REG\t\t\t0x07020\n#define ROCEE_RX_CMQ_TAIL_REG\t\t\t0x07024\n#define ROCEE_RX_CMQ_HEAD_REG\t\t\t0x07028\n\n#define ROCEE_VF_EQ_DB_CFG0_REG\t\t\t0x238\n#define ROCEE_VF_EQ_DB_CFG1_REG\t\t\t0x23C\n\n#define ROCEE_VF_ABN_INT_CFG_REG\t\t0x13000\n#define ROCEE_VF_ABN_INT_ST_REG\t\t\t0x13004\n#define ROCEE_VF_ABN_INT_EN_REG\t\t\t0x13008\n#define ROCEE_VF_EVENT_INT_EN_REG\t\t0x1300c\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}