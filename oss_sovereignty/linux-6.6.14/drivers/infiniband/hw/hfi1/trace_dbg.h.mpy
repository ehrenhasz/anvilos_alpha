{
  "module_name": "trace_dbg.h",
  "hash_id": "93d9fe1e2878dc7e5d781bcf075787e366c94b3c3f95d46147baac9974ff89de",
  "original_prompt": "Ingested from linux-6.6.14/drivers/infiniband/hw/hfi1/trace_dbg.h",
  "human_readable_source": " \n \n\n#if !defined(__HFI1_TRACE_EXTRA_H) || defined(TRACE_HEADER_MULTI_READ)\n#define __HFI1_TRACE_EXTRA_H\n\n#include <linux/tracepoint.h>\n#include <linux/trace_seq.h>\n\n#include \"hfi.h\"\n\n \n\n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM hfi1_dbg\n\n#define MAX_MSG_LEN 512\n\n#pragma GCC diagnostic push\n#ifndef __clang__\n#pragma GCC diagnostic ignored \"-Wsuggest-attribute=format\"\n#endif\n\nDECLARE_EVENT_CLASS(hfi1_trace_template,\n\t\t    TP_PROTO(const char *function, struct va_format *vaf),\n\t\t    TP_ARGS(function, vaf),\n\t\t    TP_STRUCT__entry(__string(function, function)\n\t\t\t\t     __vstring(msg, vaf->fmt, vaf->va)\n\t\t\t\t     ),\n\t\t    TP_fast_assign(__assign_str(function, function);\n\t\t\t\t   __assign_vstr(msg, vaf->fmt, vaf->va);\n\t\t\t\t   ),\n\t\t    TP_printk(\"(%s) %s\",\n\t\t\t      __get_str(function),\n\t\t\t      __get_str(msg))\n);\n\n#pragma GCC diagnostic pop\n\n \n#define __hfi1_trace_def(lvl) \\\nvoid __printf(2, 3) __hfi1_trace_##lvl(const char *funct, char *fmt, ...); \\\n\t\t\t\t\t\t\t\t\t\\\nDEFINE_EVENT(hfi1_trace_template, hfi1_ ##lvl,\t\t\t\t\\\n\tTP_PROTO(const char *function, struct va_format *vaf),\t\t\\\n\tTP_ARGS(function, vaf))\n\n#define __hfi1_trace_fn(lvl) \\\nvoid __printf(2, 3) __hfi1_trace_##lvl(const char *func, char *fmt, ...)\\\n{\t\t\t\t\t\t\t\t\t\\\n\tstruct va_format vaf = {\t\t\t\t\t\\\n\t\t.fmt = fmt,\t\t\t\t\t\t\\\n\t};\t\t\t\t\t\t\t\t\\\n\tva_list args;\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\tva_start(args, fmt);\t\t\t\t\t\t\\\n\tvaf.va = &args;\t\t\t\t\t\t\t\\\n\ttrace_hfi1_ ##lvl(func, &vaf);\t\t\t\t\t\\\n\tva_end(args);\t\t\t\t\t\t\t\\\n\treturn;\t\t\t\t\t\t\t\t\\\n}\n\n \n__hfi1_trace_def(AFFINITY);\n__hfi1_trace_def(PKT);\n__hfi1_trace_def(PROC);\n__hfi1_trace_def(SDMA);\n__hfi1_trace_def(LINKVERB);\n__hfi1_trace_def(DEBUG);\n__hfi1_trace_def(SNOOP);\n__hfi1_trace_def(CNTR);\n__hfi1_trace_def(PIO);\n__hfi1_trace_def(DC8051);\n__hfi1_trace_def(FIRMWARE);\n__hfi1_trace_def(RCVCTRL);\n__hfi1_trace_def(TID);\n__hfi1_trace_def(MMU);\n__hfi1_trace_def(IOCTL);\n\n#define hfi1_cdbg(which, fmt, ...) \\\n\t__hfi1_trace_##which(__func__, fmt, ##__VA_ARGS__)\n\n#define hfi1_dbg(fmt, ...) \\\n\thfi1_cdbg(DEBUG, fmt, ##__VA_ARGS__)\n\n \n\n#ifdef HFI1_EARLY_DBG\n#define hfi1_dbg_early(fmt, ...) \\\n\ttrace_printk(fmt, ##__VA_ARGS__)\n#else\n#define hfi1_dbg_early(fmt, ...)\n#endif\n\n#endif  \n\n#undef TRACE_INCLUDE_PATH\n#undef TRACE_INCLUDE_FILE\n#define TRACE_INCLUDE_PATH .\n#define TRACE_INCLUDE_FILE trace_dbg\n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}