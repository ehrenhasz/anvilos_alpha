{
  "module_name": "netdev.h",
  "hash_id": "22050c897336402f3041e039efb076a35036d13f148bfab3b34674c1a07e9737",
  "original_prompt": "Ingested from linux-6.6.14/drivers/infiniband/hw/hfi1/netdev.h",
  "human_readable_source": " \n \n\n#ifndef HFI1_NETDEV_H\n#define HFI1_NETDEV_H\n\n#include \"hfi.h\"\n\n#include <linux/netdevice.h>\n#include <linux/xarray.h>\n\n \nstruct hfi1_netdev_rxq {\n\tstruct napi_struct napi;\n\tstruct hfi1_netdev_rx *rx;\n\tstruct hfi1_ctxtdata *rcd;\n};\n\n \n#define HFI1_MAX_NETDEV_CTXTS   8\n\n \n#define NUM_NETDEV_MAP_ENTRIES HFI1_MAX_NETDEV_CTXTS\n\n \nstruct hfi1_netdev_rx {\n\tstruct net_device rx_napi;\n\tstruct hfi1_devdata *dd;\n\tstruct hfi1_netdev_rxq *rxq;\n\tint num_rx_q;\n\tint rmt_start;\n\tstruct xarray dev_tbl;\n\t \n\tatomic_t enabled;\n\t \n\tatomic_t netdevs;\n};\n\nstatic inline\nint hfi1_netdev_ctxt_count(struct hfi1_devdata *dd)\n{\n\treturn dd->netdev_rx->num_rx_q;\n}\n\nstatic inline\nstruct hfi1_ctxtdata *hfi1_netdev_get_ctxt(struct hfi1_devdata *dd, int ctxt)\n{\n\treturn dd->netdev_rx->rxq[ctxt].rcd;\n}\n\nstatic inline\nint hfi1_netdev_get_free_rmt_idx(struct hfi1_devdata *dd)\n{\n\treturn dd->netdev_rx->rmt_start;\n}\n\nstatic inline\nvoid hfi1_netdev_set_free_rmt_idx(struct hfi1_devdata *dd, int rmt_idx)\n{\n\tdd->netdev_rx->rmt_start = rmt_idx;\n}\n\nu32 hfi1_num_netdev_contexts(struct hfi1_devdata *dd, u32 available_contexts,\n\t\t\t     struct cpumask *cpu_mask);\n\nvoid hfi1_netdev_enable_queues(struct hfi1_devdata *dd);\nvoid hfi1_netdev_disable_queues(struct hfi1_devdata *dd);\nint hfi1_netdev_rx_init(struct hfi1_devdata *dd);\nint hfi1_netdev_rx_destroy(struct hfi1_devdata *dd);\nint hfi1_alloc_rx(struct hfi1_devdata *dd);\nvoid hfi1_free_rx(struct hfi1_devdata *dd);\nint hfi1_netdev_add_data(struct hfi1_devdata *dd, int id, void *data);\nvoid *hfi1_netdev_remove_data(struct hfi1_devdata *dd, int id);\nvoid *hfi1_netdev_get_data(struct hfi1_devdata *dd, int id);\nvoid *hfi1_netdev_get_first_data(struct hfi1_devdata *dd, int *start_id);\n\n \nint hfi1_netdev_rx_napi(struct napi_struct *napi, int budget);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}