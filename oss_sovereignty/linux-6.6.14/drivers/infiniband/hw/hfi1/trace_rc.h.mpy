{
  "module_name": "trace_rc.h",
  "hash_id": "e8dcad958b161053c7f82135f646477807bc11fdca5b74d78420cade57fda4af",
  "original_prompt": "Ingested from linux-6.6.14/drivers/infiniband/hw/hfi1/trace_rc.h",
  "human_readable_source": " \n \n\n#if !defined(__HFI1_TRACE_RC_H) || defined(TRACE_HEADER_MULTI_READ)\n#define __HFI1_TRACE_RC_H\n\n#include <linux/tracepoint.h>\n#include <linux/trace_seq.h>\n\n#include \"hfi.h\"\n\n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM hfi1_rc\n\nDECLARE_EVENT_CLASS(hfi1_rc_template,\n\t\t    TP_PROTO(struct rvt_qp *qp, u32 psn),\n\t\t    TP_ARGS(qp, psn),\n\t\t    TP_STRUCT__entry(\n\t\t\tDD_DEV_ENTRY(dd_from_ibdev(qp->ibqp.device))\n\t\t\t__field(u32, qpn)\n\t\t\t__field(u32, s_flags)\n\t\t\t__field(u32, psn)\n\t\t\t__field(u32, s_psn)\n\t\t\t__field(u32, s_next_psn)\n\t\t\t__field(u32, s_sending_psn)\n\t\t\t__field(u32, s_sending_hpsn)\n\t\t\t__field(u32, r_psn)\n\t\t\t),\n\t\t    TP_fast_assign(\n\t\t\tDD_DEV_ASSIGN(dd_from_ibdev(qp->ibqp.device));\n\t\t\t__entry->qpn = qp->ibqp.qp_num;\n\t\t\t__entry->s_flags = qp->s_flags;\n\t\t\t__entry->psn = psn;\n\t\t\t__entry->s_psn = qp->s_psn;\n\t\t\t__entry->s_next_psn = qp->s_next_psn;\n\t\t\t__entry->s_sending_psn = qp->s_sending_psn;\n\t\t\t__entry->s_sending_hpsn = qp->s_sending_hpsn;\n\t\t\t__entry->r_psn = qp->r_psn;\n\t\t\t),\n\t\t    TP_printk(\n\t\t\t\"[%s] qpn 0x%x s_flags 0x%x psn 0x%x s_psn 0x%x s_next_psn 0x%x s_sending_psn 0x%x sending_hpsn 0x%x r_psn 0x%x\",\n\t\t\t__get_str(dev),\n\t\t\t__entry->qpn,\n\t\t\t__entry->s_flags,\n\t\t\t__entry->psn,\n\t\t\t__entry->s_psn,\n\t\t\t__entry->s_next_psn,\n\t\t\t__entry->s_sending_psn,\n\t\t\t__entry->s_sending_hpsn,\n\t\t\t__entry->r_psn\n\t\t\t)\n);\n\nDEFINE_EVENT(hfi1_rc_template, hfi1_sendcomplete,\n\t     TP_PROTO(struct rvt_qp *qp, u32 psn),\n\t     TP_ARGS(qp, psn)\n);\n\nDEFINE_EVENT(hfi1_rc_template, hfi1_ack,\n\t     TP_PROTO(struct rvt_qp *qp, u32 psn),\n\t     TP_ARGS(qp, psn)\n);\n\nDEFINE_EVENT(hfi1_rc_template, hfi1_rcv_error,\n\t     TP_PROTO(struct rvt_qp *qp, u32 psn),\n\t     TP_ARGS(qp, psn)\n);\n\nDEFINE_EVENT( \n\thfi1_rc_template, hfi1_rc_completion,\n\tTP_PROTO(struct rvt_qp *qp, u32 psn),\n\tTP_ARGS(qp, psn)\n);\n\nDECLARE_EVENT_CLASS( \n\thfi1_rc_ack_template,\n\tTP_PROTO(struct rvt_qp *qp, u32 aeth, u32 psn,\n\t\t struct rvt_swqe *wqe),\n\tTP_ARGS(qp, aeth, psn, wqe),\n\tTP_STRUCT__entry( \n\t\tDD_DEV_ENTRY(dd_from_ibdev(qp->ibqp.device))\n\t\t__field(u32, qpn)\n\t\t__field(u32, aeth)\n\t\t__field(u32, psn)\n\t\t__field(u8, opcode)\n\t\t__field(u32, spsn)\n\t\t__field(u32, lpsn)\n\t),\n\tTP_fast_assign( \n\t\tDD_DEV_ASSIGN(dd_from_ibdev(qp->ibqp.device));\n\t\t__entry->qpn = qp->ibqp.qp_num;\n\t\t__entry->aeth = aeth;\n\t\t__entry->psn = psn;\n\t\t__entry->opcode = wqe->wr.opcode;\n\t\t__entry->spsn = wqe->psn;\n\t\t__entry->lpsn = wqe->lpsn;\n\t),\n\tTP_printk( \n\t\t\"[%s] qpn 0x%x aeth 0x%x psn 0x%x opcode 0x%x spsn 0x%x lpsn 0x%x\",\n\t\t__get_str(dev),\n\t\t__entry->qpn,\n\t\t__entry->aeth,\n\t\t__entry->psn,\n\t\t__entry->opcode,\n\t\t__entry->spsn,\n\t\t__entry->lpsn\n\t)\n);\n\nDEFINE_EVENT( \n\thfi1_rc_ack_template, hfi1_rc_ack_do,\n\tTP_PROTO(struct rvt_qp *qp, u32 aeth, u32 psn,\n\t\t struct rvt_swqe *wqe),\n\tTP_ARGS(qp, aeth, psn, wqe)\n);\n\n#endif  \n\n#undef TRACE_INCLUDE_PATH\n#undef TRACE_INCLUDE_FILE\n#define TRACE_INCLUDE_PATH .\n#define TRACE_INCLUDE_FILE trace_rc\n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}