{
  "module_name": "ocrdma_hw.h",
  "hash_id": "00f88062b6ddd508c5396aea76fa84ff4576cd872498a0bb2eb3b609c4f62dd5",
  "original_prompt": "Ingested from linux-6.6.14/drivers/infiniband/hw/ocrdma/ocrdma_hw.h",
  "human_readable_source": " \n\n#ifndef __OCRDMA_HW_H__\n#define __OCRDMA_HW_H__\n\n#include \"ocrdma_sli.h\"\n\nstatic inline void ocrdma_cpu_to_le32(void *dst, u32 len)\n{\n#ifdef __BIG_ENDIAN\n\tint i = 0;\n\tu32 *src_ptr = dst;\n\tu32 *dst_ptr = dst;\n\tfor (; i < (len / 4); i++)\n\t\t*(dst_ptr + i) = cpu_to_le32p(src_ptr + i);\n#endif\n}\n\nstatic inline void ocrdma_le32_to_cpu(void *dst, u32 len)\n{\n#ifdef __BIG_ENDIAN\n\tint i = 0;\n\tu32 *src_ptr = dst;\n\tu32 *dst_ptr = dst;\n\tfor (; i < (len / sizeof(u32)); i++)\n\t\t*(dst_ptr + i) = le32_to_cpu(*(src_ptr + i));\n#endif\n}\n\nstatic inline void ocrdma_copy_cpu_to_le32(void *dst, void *src, u32 len)\n{\n#ifdef __BIG_ENDIAN\n\tint i = 0;\n\tu32 *src_ptr = src;\n\tu32 *dst_ptr = dst;\n\tfor (; i < (len / sizeof(u32)); i++)\n\t\t*(dst_ptr + i) = cpu_to_le32p(src_ptr + i);\n#else\n\tmemcpy(dst, src, len);\n#endif\n}\n\nstatic inline void ocrdma_copy_le32_to_cpu(void *dst, void *src, u32 len)\n{\n#ifdef __BIG_ENDIAN\n\tint i = 0;\n\tu32 *src_ptr = src;\n\tu32 *dst_ptr = dst;\n\tfor (; i < len / sizeof(u32); i++)\n\t\t*(dst_ptr + i) = le32_to_cpu(*(src_ptr + i));\n#else\n\tmemcpy(dst, src, len);\n#endif\n}\n\nstatic inline u64 ocrdma_get_db_addr(struct ocrdma_dev *dev, u32 pdid)\n{\n\treturn dev->nic_info.unmapped_db + (pdid * dev->nic_info.db_page_size);\n}\n\nint ocrdma_init_hw(struct ocrdma_dev *);\nvoid ocrdma_cleanup_hw(struct ocrdma_dev *);\n\nenum ib_qp_state get_ibqp_state(enum ocrdma_qp_state qps);\nvoid ocrdma_ring_cq_db(struct ocrdma_dev *, u16 cq_id, bool armed,\n\t\t       bool solicited, u16 cqe_popped);\n\n \nint ocrdma_mbx_get_link_speed(struct ocrdma_dev *dev, u8 *lnk_speed,\n\t\t\t      u8 *lnk_st);\nint ocrdma_query_config(struct ocrdma_dev *,\n\t\t\tstruct ocrdma_mbx_query_config *config);\n\nint ocrdma_mbx_alloc_pd(struct ocrdma_dev *, struct ocrdma_pd *);\nint ocrdma_mbx_dealloc_pd(struct ocrdma_dev *, struct ocrdma_pd *);\n\nint ocrdma_mbx_alloc_lkey(struct ocrdma_dev *, struct ocrdma_hw_mr *hwmr,\n\t\t\t  u32 pd_id, int addr_check);\nint ocrdma_mbx_dealloc_lkey(struct ocrdma_dev *, int fmr, u32 lkey);\n\nint ocrdma_reg_mr(struct ocrdma_dev *, struct ocrdma_hw_mr *hwmr,\n\t\t\tu32 pd_id, int acc);\nint ocrdma_mbx_create_cq(struct ocrdma_dev *, struct ocrdma_cq *,\n\t\t\t\tint entries, int dpp_cq, u16 pd_id);\nvoid ocrdma_mbx_destroy_cq(struct ocrdma_dev *dev, struct ocrdma_cq *cq);\n\nint ocrdma_mbx_create_qp(struct ocrdma_qp *, struct ib_qp_init_attr *attrs,\n\t\t\t u8 enable_dpp_cq, u16 dpp_cq_id, u16 *dpp_offset,\n\t\t\t u16 *dpp_credit_lmt);\nint ocrdma_mbx_modify_qp(struct ocrdma_dev *, struct ocrdma_qp *,\n\t\t\t struct ib_qp_attr *attrs, int attr_mask);\nint ocrdma_mbx_query_qp(struct ocrdma_dev *, struct ocrdma_qp *,\n\t\t\tstruct ocrdma_qp_params *param);\nint ocrdma_mbx_destroy_qp(struct ocrdma_dev *, struct ocrdma_qp *);\nint ocrdma_mbx_create_srq(struct ocrdma_dev *, struct ocrdma_srq *,\n\t\t\t  struct ib_srq_init_attr *,\n\t\t\t  struct ocrdma_pd *);\nint ocrdma_mbx_modify_srq(struct ocrdma_srq *, struct ib_srq_attr *);\nint ocrdma_mbx_query_srq(struct ocrdma_srq *, struct ib_srq_attr *);\nvoid ocrdma_mbx_destroy_srq(struct ocrdma_dev *dev, struct ocrdma_srq *srq);\n\nint ocrdma_alloc_av(struct ocrdma_dev *dev, struct ocrdma_ah *ah);\nvoid ocrdma_free_av(struct ocrdma_dev *dev, struct ocrdma_ah *ah);\n\nint ocrdma_qp_state_change(struct ocrdma_qp *, enum ib_qp_state new_state,\n\t\t\t    enum ib_qp_state *old_ib_state);\nbool ocrdma_is_qp_in_sq_flushlist(struct ocrdma_cq *, struct ocrdma_qp *);\nbool ocrdma_is_qp_in_rq_flushlist(struct ocrdma_cq *, struct ocrdma_qp *);\nvoid ocrdma_flush_qp(struct ocrdma_qp *);\nint ocrdma_get_irq(struct ocrdma_dev *dev, struct ocrdma_eq *eq);\n\nint ocrdma_mbx_rdma_stats(struct ocrdma_dev *, bool reset);\nchar *port_speed_string(struct ocrdma_dev *dev);\nvoid ocrdma_init_service_level(struct ocrdma_dev *);\nvoid ocrdma_alloc_pd_pool(struct ocrdma_dev *dev);\nvoid ocrdma_free_pd_range(struct ocrdma_dev *dev);\nvoid ocrdma_update_link_state(struct ocrdma_dev *dev, u8 lstate);\n\n#endif\t\t\t\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}