{
  "module_name": "ocrdma_sli.h",
  "hash_id": "5f2b2a7386b387c5b681d22d9ae6309bbb91a8190fede4b7dc7b8a1f76c62f63",
  "original_prompt": "Ingested from linux-6.6.14/drivers/infiniband/hw/ocrdma/ocrdma_sli.h",
  "human_readable_source": " \n\n#ifndef __OCRDMA_SLI_H__\n#define __OCRDMA_SLI_H__\n\nenum {\n\tOCRDMA_ASIC_GEN_SKH_R = 0x04,\n\tOCRDMA_ASIC_GEN_LANCER = 0x0B\n};\n\nenum {\n\tOCRDMA_ASIC_REV_A0 = 0x00,\n\tOCRDMA_ASIC_REV_B0 = 0x10,\n\tOCRDMA_ASIC_REV_C0 = 0x20\n};\n\n#define OCRDMA_SUBSYS_ROCE 10\nenum {\n\tOCRDMA_CMD_QUERY_CONFIG = 1,\n\tOCRDMA_CMD_ALLOC_PD = 2,\n\tOCRDMA_CMD_DEALLOC_PD = 3,\n\n\tOCRDMA_CMD_CREATE_AH_TBL = 4,\n\tOCRDMA_CMD_DELETE_AH_TBL = 5,\n\n\tOCRDMA_CMD_CREATE_QP = 6,\n\tOCRDMA_CMD_QUERY_QP = 7,\n\tOCRDMA_CMD_MODIFY_QP = 8 ,\n\tOCRDMA_CMD_DELETE_QP = 9,\n\n\tOCRDMA_CMD_RSVD1 = 10,\n\tOCRDMA_CMD_ALLOC_LKEY = 11,\n\tOCRDMA_CMD_DEALLOC_LKEY = 12,\n\tOCRDMA_CMD_REGISTER_NSMR = 13,\n\tOCRDMA_CMD_REREGISTER_NSMR = 14,\n\tOCRDMA_CMD_REGISTER_NSMR_CONT = 15,\n\tOCRDMA_CMD_QUERY_NSMR = 16,\n\tOCRDMA_CMD_ALLOC_MW = 17,\n\tOCRDMA_CMD_QUERY_MW = 18,\n\n\tOCRDMA_CMD_CREATE_SRQ = 19,\n\tOCRDMA_CMD_QUERY_SRQ = 20,\n\tOCRDMA_CMD_MODIFY_SRQ = 21,\n\tOCRDMA_CMD_DELETE_SRQ = 22,\n\n\tOCRDMA_CMD_ATTACH_MCAST = 23,\n\tOCRDMA_CMD_DETACH_MCAST = 24,\n\n\tOCRDMA_CMD_CREATE_RBQ = 25,\n\tOCRDMA_CMD_DESTROY_RBQ = 26,\n\n\tOCRDMA_CMD_GET_RDMA_STATS = 27,\n\tOCRDMA_CMD_ALLOC_PD_RANGE = 28,\n\tOCRDMA_CMD_DEALLOC_PD_RANGE = 29,\n\n\tOCRDMA_CMD_MAX\n};\n\n#define OCRDMA_SUBSYS_COMMON 1\nenum {\n\tOCRDMA_CMD_QUERY_NTWK_LINK_CONFIG_V1 = 5,\n\tOCRDMA_CMD_CREATE_CQ\t\t= 12,\n\tOCRDMA_CMD_CREATE_EQ\t\t= 13,\n\tOCRDMA_CMD_CREATE_MQ\t\t= 21,\n\tOCRDMA_CMD_GET_CTRL_ATTRIBUTES  = 32,\n\tOCRDMA_CMD_GET_FW_VER\t\t= 35,\n\tOCRDMA_CMD_MODIFY_EQ_DELAY      = 41,\n\tOCRDMA_CMD_DELETE_MQ\t\t= 53,\n\tOCRDMA_CMD_DELETE_CQ\t\t= 54,\n\tOCRDMA_CMD_DELETE_EQ\t\t= 55,\n\tOCRDMA_CMD_GET_FW_CONFIG\t= 58,\n\tOCRDMA_CMD_CREATE_MQ_EXT\t= 90,\n\tOCRDMA_CMD_PHY_DETAILS\t\t= 102\n};\n\nenum {\n\tQTYPE_EQ\t= 1,\n\tQTYPE_CQ\t= 2,\n\tQTYPE_MCCQ\t= 3\n};\n\n#define OCRDMA_MAX_SGID\t\t16\n\n#define OCRDMA_MAX_QP    2048\n#define OCRDMA_MAX_CQ    2048\n#define OCRDMA_MAX_STAG 16384\n\nenum {\n\tOCRDMA_DB_RQ_OFFSET\t\t= 0xE0,\n\tOCRDMA_DB_GEN2_RQ_OFFSET        = 0x100,\n\tOCRDMA_DB_SQ_OFFSET\t\t= 0x60,\n\tOCRDMA_DB_GEN2_SQ_OFFSET\t= 0x1C0,\n\tOCRDMA_DB_SRQ_OFFSET\t\t= OCRDMA_DB_RQ_OFFSET,\n\tOCRDMA_DB_GEN2_SRQ_OFFSET\t= OCRDMA_DB_GEN2_RQ_OFFSET,\n\tOCRDMA_DB_CQ_OFFSET\t\t= 0x120,\n\tOCRDMA_DB_EQ_OFFSET\t\t= OCRDMA_DB_CQ_OFFSET,\n\tOCRDMA_DB_MQ_OFFSET\t\t= 0x140,\n\n\tOCRDMA_DB_SQ_SHIFT\t\t= 16,\n\tOCRDMA_DB_RQ_SHIFT\t\t= 24\n};\n\nenum {\n\tOCRDMA_L3_TYPE_IB_GRH   = 0x00,\n\tOCRDMA_L3_TYPE_IPV4     = 0x01,\n\tOCRDMA_L3_TYPE_IPV6     = 0x02\n};\n\n#define OCRDMA_DB_CQ_RING_ID_MASK       0x3FF\t \n#define OCRDMA_DB_CQ_RING_ID_EXT_MASK  0x0C00\t \n \n#define OCRDMA_DB_CQ_RING_ID_EXT_MASK_SHIFT  0x1\n#define OCRDMA_DB_CQ_NUM_POPPED_SHIFT\t16\t \n \n#define OCRDMA_DB_CQ_REARM_SHIFT\t29\t \n \n#define OCRDMA_DB_CQ_SOLICIT_SHIFT\t31\t \n\n#define OCRDMA_EQ_ID_MASK\t\t0x1FF\t \n#define OCRDMA_EQ_ID_EXT_MASK\t\t0x3e00\t \n#define OCRDMA_EQ_ID_EXT_MASK_SHIFT\t2\t \n\n \n#define OCRDMA_EQ_CLR_SHIFT\t\t9\t \n \n#define OCRDMA_EQ_TYPE_SHIFT\t\t10\t \n \n#define OCRDMA_NUM_EQE_SHIFT\t\t16\t \n \n#define OCRDMA_REARM_SHIFT\t\t29\t \n\n#define OCRDMA_MQ_ID_MASK\t\t0x7FF\t \n \n#define OCRDMA_MQ_NUM_MQE_SHIFT\t16\t \n\n#define OCRDMA_MIN_HPAGE_SIZE\t4096\n\n#define OCRDMA_MIN_Q_PAGE_SIZE\t4096\n#define OCRDMA_MAX_Q_PAGES\t8\n\n#define OCRDMA_SLI_ASIC_ID_OFFSET\t0x9C\n#define OCRDMA_SLI_ASIC_REV_MASK\t0x000000FF\n#define OCRDMA_SLI_ASIC_GEN_NUM_MASK\t0x0000FF00\n#define OCRDMA_SLI_ASIC_GEN_NUM_SHIFT\t0x08\n \n#define OCRDMA_MAX_Q_PAGE_SIZE_CNT\t8\n#define OCRDMA_Q_PAGE_BASE_SIZE (OCRDMA_MIN_Q_PAGE_SIZE * OCRDMA_MAX_Q_PAGES)\n\n#define MAX_OCRDMA_QP_PAGES\t\t8\n#define OCRDMA_MAX_WQE_MEM_SIZE (MAX_OCRDMA_QP_PAGES * OCRDMA_MIN_HQ_PAGE_SIZE)\n\n#define OCRDMA_CREATE_CQ_MAX_PAGES\t4\n#define OCRDMA_DPP_CQE_SIZE\t\t4\n\n#define OCRDMA_GEN2_MAX_CQE 1024\n#define OCRDMA_GEN2_CQ_PAGE_SIZE 4096\n#define OCRDMA_GEN2_WQE_SIZE 256\n#define OCRDMA_MAX_CQE  4095\n#define OCRDMA_CQ_PAGE_SIZE 16384\n#define OCRDMA_WQE_SIZE 128\n#define OCRDMA_WQE_STRIDE 8\n#define OCRDMA_WQE_ALIGN_BYTES 16\n\n#define MAX_OCRDMA_SRQ_PAGES MAX_OCRDMA_QP_PAGES\n\nenum {\n\tOCRDMA_MCH_OPCODE_SHIFT\t= 0,\n\tOCRDMA_MCH_OPCODE_MASK\t= 0xFF,\n\tOCRDMA_MCH_SUBSYS_SHIFT\t= 8,\n\tOCRDMA_MCH_SUBSYS_MASK\t= 0xFF00\n};\n\n \nstruct ocrdma_mbx_hdr {\n\tu32 subsys_op;\n\tu32 timeout;\t\t \n\tu32 cmd_len;\n\tu32 rsvd_version;\n};\n\nenum {\n\tOCRDMA_MBX_RSP_OPCODE_SHIFT\t= 0,\n\tOCRDMA_MBX_RSP_OPCODE_MASK\t= 0xFF,\n\tOCRDMA_MBX_RSP_SUBSYS_SHIFT\t= 8,\n\tOCRDMA_MBX_RSP_SUBSYS_MASK\t= 0xFF << OCRDMA_MBX_RSP_SUBSYS_SHIFT,\n\n\tOCRDMA_MBX_RSP_STATUS_SHIFT\t= 0,\n\tOCRDMA_MBX_RSP_STATUS_MASK\t= 0xFF,\n\tOCRDMA_MBX_RSP_ASTATUS_SHIFT\t= 8,\n\tOCRDMA_MBX_RSP_ASTATUS_MASK\t= 0xFF << OCRDMA_MBX_RSP_ASTATUS_SHIFT\n};\n\n \nstruct ocrdma_mbx_rsp {\n\tu32 subsys_op;\n\tu32 status;\n\tu32 rsp_len;\n\tu32 add_rsp_len;\n};\n\nenum {\n\tOCRDMA_MQE_EMBEDDED\t= 1,\n\tOCRDMA_MQE_NONEMBEDDED\t= 0\n};\n\nstruct ocrdma_mqe_sge {\n\tu32 pa_lo;\n\tu32 pa_hi;\n\tu32 len;\n};\n\nenum {\n\tOCRDMA_MQE_HDR_EMB_SHIFT\t= 0,\n\tOCRDMA_MQE_HDR_EMB_MASK\t\t= BIT(0),\n\tOCRDMA_MQE_HDR_SGE_CNT_SHIFT\t= 3,\n\tOCRDMA_MQE_HDR_SGE_CNT_MASK\t= 0x1F << OCRDMA_MQE_HDR_SGE_CNT_SHIFT,\n\tOCRDMA_MQE_HDR_SPECIAL_SHIFT\t= 24,\n\tOCRDMA_MQE_HDR_SPECIAL_MASK\t= 0xFF << OCRDMA_MQE_HDR_SPECIAL_SHIFT\n};\n\nstruct ocrdma_mqe_hdr {\n\tu32 spcl_sge_cnt_emb;\n\tu32 pyld_len;\n\tu32 tag_lo;\n\tu32 tag_hi;\n\tu32 rsvd3;\n};\n\nstruct ocrdma_mqe_emb_cmd {\n\tstruct ocrdma_mbx_hdr mch;\n\tu8 pyld[220];\n};\n\nstruct ocrdma_mqe {\n\tstruct ocrdma_mqe_hdr hdr;\n\tunion {\n\t\tstruct ocrdma_mqe_emb_cmd emb_req;\n\t\tstruct {\n\t\t\tstruct ocrdma_mqe_sge sge[19];\n\t\t} nonemb_req;\n\t\tu8 cmd[236];\n\t\tstruct ocrdma_mbx_rsp rsp;\n\t} u;\n};\n\n#define OCRDMA_EQ_LEN       4096\n#define OCRDMA_MQ_CQ_LEN    256\n#define OCRDMA_MQ_LEN       128\n\n#define PAGE_SHIFT_4K\t\t12\n#define PAGE_SIZE_4K\t\t(1 << PAGE_SHIFT_4K)\n\n \n#define PAGES_4K_SPANNED(_address, size) \\\n\t((u32)((((size_t)(_address) & (PAGE_SIZE_4K - 1)) +\t\\\n\t\t\t(size) + (PAGE_SIZE_4K - 1)) >> PAGE_SHIFT_4K))\n\nstruct ocrdma_delete_q_req {\n\tstruct ocrdma_mbx_hdr req;\n\tu32 id;\n};\n\nstruct ocrdma_pa {\n\tu32 lo;\n\tu32 hi;\n};\n\n#define MAX_OCRDMA_EQ_PAGES\t8\nstruct ocrdma_create_eq_req {\n\tstruct ocrdma_mbx_hdr req;\n\tu32 num_pages;\n\tu32 valid;\n\tu32 cnt;\n\tu32 delay;\n\tu32 rsvd;\n\tstruct ocrdma_pa pa[MAX_OCRDMA_EQ_PAGES];\n};\n\nenum {\n\tOCRDMA_CREATE_EQ_VALID\t= BIT(29),\n\tOCRDMA_CREATE_EQ_CNT_SHIFT\t= 26,\n\tOCRDMA_CREATE_CQ_DELAY_SHIFT\t= 13,\n};\n\nstruct ocrdma_create_eq_rsp {\n\tstruct ocrdma_mbx_rsp rsp;\n\tu32 vector_eqid;\n};\n\n#define OCRDMA_EQ_MINOR_OTHER\t0x1\n\nstruct ocrmda_set_eqd {\n\tu32 eq_id;\n\tu32 phase;\n\tu32 delay_multiplier;\n};\n\nstruct ocrdma_modify_eqd_cmd {\n\tstruct ocrdma_mbx_hdr req;\n\tu32 num_eq;\n\tstruct ocrmda_set_eqd set_eqd[8];\n} __packed;\n\nstruct ocrdma_modify_eqd_req {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_modify_eqd_cmd cmd;\n};\n\n\nstruct ocrdma_modify_eq_delay_rsp {\n\tstruct ocrdma_mbx_rsp hdr;\n\tu32 rsvd0;\n} __packed;\n\nenum {\n\tOCRDMA_MCQE_STATUS_SHIFT\t= 0,\n\tOCRDMA_MCQE_STATUS_MASK\t\t= 0xFFFF,\n\tOCRDMA_MCQE_ESTATUS_SHIFT\t= 16,\n\tOCRDMA_MCQE_ESTATUS_MASK\t= 0xFFFF << OCRDMA_MCQE_ESTATUS_SHIFT,\n\tOCRDMA_MCQE_CONS_SHIFT\t\t= 27,\n\tOCRDMA_MCQE_CONS_MASK\t\t= BIT(27),\n\tOCRDMA_MCQE_CMPL_SHIFT\t\t= 28,\n\tOCRDMA_MCQE_CMPL_MASK\t\t= BIT(28),\n\tOCRDMA_MCQE_AE_SHIFT\t\t= 30,\n\tOCRDMA_MCQE_AE_MASK\t\t= BIT(30),\n\tOCRDMA_MCQE_VALID_SHIFT\t\t= 31,\n\tOCRDMA_MCQE_VALID_MASK\t\t= BIT(31)\n};\n\nstruct ocrdma_mcqe {\n\tu32 status;\n\tu32 tag_lo;\n\tu32 tag_hi;\n\tu32 valid_ae_cmpl_cons;\n};\n\nenum {\n\tOCRDMA_AE_MCQE_QPVALID\t\t= BIT(31),\n\tOCRDMA_AE_MCQE_QPID_MASK\t= 0xFFFF,\n\n\tOCRDMA_AE_MCQE_CQVALID\t\t= BIT(31),\n\tOCRDMA_AE_MCQE_CQID_MASK\t= 0xFFFF,\n\tOCRDMA_AE_MCQE_VALID\t\t= BIT(31),\n\tOCRDMA_AE_MCQE_AE\t\t= BIT(30),\n\tOCRDMA_AE_MCQE_EVENT_TYPE_SHIFT\t= 16,\n\tOCRDMA_AE_MCQE_EVENT_TYPE_MASK\t=\n\t\t\t\t\t0xFF << OCRDMA_AE_MCQE_EVENT_TYPE_SHIFT,\n\tOCRDMA_AE_MCQE_EVENT_CODE_SHIFT\t= 8,\n\tOCRDMA_AE_MCQE_EVENT_CODE_MASK\t=\n\t\t\t\t\t0xFF << OCRDMA_AE_MCQE_EVENT_CODE_SHIFT\n};\nstruct ocrdma_ae_mcqe {\n\tu32 qpvalid_qpid;\n\tu32 cqvalid_cqid;\n\tu32 evt_tag;\n\tu32 valid_ae_event;\n};\n\nenum {\n\tOCRDMA_AE_PVID_MCQE_ENABLED_SHIFT = 0,\n\tOCRDMA_AE_PVID_MCQE_ENABLED_MASK  = 0xFF,\n\tOCRDMA_AE_PVID_MCQE_TAG_SHIFT = 16,\n\tOCRDMA_AE_PVID_MCQE_TAG_MASK = 0xFFFF << OCRDMA_AE_PVID_MCQE_TAG_SHIFT\n};\n\nstruct ocrdma_ae_pvid_mcqe {\n\tu32 tag_enabled;\n\tu32 event_tag;\n\tu32 rsvd1;\n\tu32 rsvd2;\n};\n\nenum {\n\tOCRDMA_AE_MPA_MCQE_REQ_ID_SHIFT\t\t= 16,\n\tOCRDMA_AE_MPA_MCQE_REQ_ID_MASK\t\t= 0xFFFF <<\n\t\t\t\t\tOCRDMA_AE_MPA_MCQE_REQ_ID_SHIFT,\n\n\tOCRDMA_AE_MPA_MCQE_EVENT_CODE_SHIFT\t= 8,\n\tOCRDMA_AE_MPA_MCQE_EVENT_CODE_MASK\t= 0xFF <<\n\t\t\t\t\tOCRDMA_AE_MPA_MCQE_EVENT_CODE_SHIFT,\n\tOCRDMA_AE_MPA_MCQE_EVENT_TYPE_SHIFT\t= 16,\n\tOCRDMA_AE_MPA_MCQE_EVENT_TYPE_MASK\t= 0xFF <<\n\t\t\t\t\tOCRDMA_AE_MPA_MCQE_EVENT_TYPE_SHIFT,\n\tOCRDMA_AE_MPA_MCQE_EVENT_AE_SHIFT\t= 30,\n\tOCRDMA_AE_MPA_MCQE_EVENT_AE_MASK\t= BIT(30),\n\tOCRDMA_AE_MPA_MCQE_EVENT_VALID_SHIFT\t= 31,\n\tOCRDMA_AE_MPA_MCQE_EVENT_VALID_MASK\t= BIT(31)\n};\n\nstruct ocrdma_ae_mpa_mcqe {\n\tu32 req_id;\n\tu32 w1;\n\tu32 w2;\n\tu32 valid_ae_event;\n};\n\nenum {\n\tOCRDMA_AE_QP_MCQE_NEW_QP_STATE_SHIFT\t= 0,\n\tOCRDMA_AE_QP_MCQE_NEW_QP_STATE_MASK\t= 0xFFFF,\n\tOCRDMA_AE_QP_MCQE_QP_ID_SHIFT\t\t= 16,\n\tOCRDMA_AE_QP_MCQE_QP_ID_MASK\t\t= 0xFFFF <<\n\t\t\t\t\t\tOCRDMA_AE_QP_MCQE_QP_ID_SHIFT,\n\n\tOCRDMA_AE_QP_MCQE_EVENT_CODE_SHIFT\t= 8,\n\tOCRDMA_AE_QP_MCQE_EVENT_CODE_MASK\t= 0xFF <<\n\t\t\t\tOCRDMA_AE_QP_MCQE_EVENT_CODE_SHIFT,\n\tOCRDMA_AE_QP_MCQE_EVENT_TYPE_SHIFT\t= 16,\n\tOCRDMA_AE_QP_MCQE_EVENT_TYPE_MASK\t= 0xFF <<\n\t\t\t\tOCRDMA_AE_QP_MCQE_EVENT_TYPE_SHIFT,\n\tOCRDMA_AE_QP_MCQE_EVENT_AE_SHIFT\t= 30,\n\tOCRDMA_AE_QP_MCQE_EVENT_AE_MASK\t\t= BIT(30),\n\tOCRDMA_AE_QP_MCQE_EVENT_VALID_SHIFT\t= 31,\n\tOCRDMA_AE_QP_MCQE_EVENT_VALID_MASK\t= BIT(31)\n};\n\nstruct ocrdma_ae_qp_mcqe {\n\tu32 qp_id_state;\n\tu32 w1;\n\tu32 w2;\n\tu32 valid_ae_event;\n};\n\nenum ocrdma_async_event_code {\n\tOCRDMA_ASYNC_LINK_EVE_CODE\t= 0x01,\n\tOCRDMA_ASYNC_GRP5_EVE_CODE\t= 0x05,\n\tOCRDMA_ASYNC_RDMA_EVE_CODE\t= 0x14\n};\n\nenum ocrdma_async_grp5_events {\n\tOCRDMA_ASYNC_EVENT_QOS_VALUE\t= 0x01,\n\tOCRDMA_ASYNC_EVENT_COS_VALUE\t= 0x02,\n\tOCRDMA_ASYNC_EVENT_PVID_STATE\t= 0x03\n};\n\nenum OCRDMA_ASYNC_EVENT_TYPE {\n\tOCRDMA_CQ_ERROR\t\t\t= 0x00,\n\tOCRDMA_CQ_OVERRUN_ERROR\t\t= 0x01,\n\tOCRDMA_CQ_QPCAT_ERROR\t\t= 0x02,\n\tOCRDMA_QP_ACCESS_ERROR\t\t= 0x03,\n\tOCRDMA_QP_COMM_EST_EVENT\t= 0x04,\n\tOCRDMA_SQ_DRAINED_EVENT\t\t= 0x05,\n\tOCRDMA_DEVICE_FATAL_EVENT\t= 0x08,\n\tOCRDMA_SRQCAT_ERROR\t\t= 0x0E,\n\tOCRDMA_SRQ_LIMIT_EVENT\t\t= 0x0F,\n\tOCRDMA_QP_LAST_WQE_EVENT\t= 0x10,\n\n\tOCRDMA_MAX_ASYNC_ERRORS\n};\n\nstruct ocrdma_ae_lnkst_mcqe {\n\tu32 speed_state_ptn;\n\tu32 qos_reason_falut;\n\tu32 evt_tag;\n\tu32 valid_ae_event;\n};\n\nenum {\n\tOCRDMA_AE_LSC_PORT_NUM_MASK\t= 0x3F,\n\tOCRDMA_AE_LSC_PT_SHIFT\t\t= 0x06,\n\tOCRDMA_AE_LSC_PT_MASK\t\t= (0x03 <<\n\t\t\tOCRDMA_AE_LSC_PT_SHIFT),\n\tOCRDMA_AE_LSC_LS_SHIFT\t\t= 0x08,\n\tOCRDMA_AE_LSC_LS_MASK\t\t= (0xFF <<\n\t\t\tOCRDMA_AE_LSC_LS_SHIFT),\n\tOCRDMA_AE_LSC_LD_SHIFT\t\t= 0x10,\n\tOCRDMA_AE_LSC_LD_MASK\t\t= (0xFF <<\n\t\t\tOCRDMA_AE_LSC_LD_SHIFT),\n\tOCRDMA_AE_LSC_PPS_SHIFT\t\t= 0x18,\n\tOCRDMA_AE_LSC_PPS_MASK\t\t= (0xFF <<\n\t\t\tOCRDMA_AE_LSC_PPS_SHIFT),\n\tOCRDMA_AE_LSC_PPF_MASK\t\t= 0xFF,\n\tOCRDMA_AE_LSC_ER_SHIFT\t\t= 0x08,\n\tOCRDMA_AE_LSC_ER_MASK\t\t= (0xFF <<\n\t\t\tOCRDMA_AE_LSC_ER_SHIFT),\n\tOCRDMA_AE_LSC_QOS_SHIFT\t\t= 0x10,\n\tOCRDMA_AE_LSC_QOS_MASK\t\t= (0xFFFF <<\n\t\t\tOCRDMA_AE_LSC_QOS_SHIFT)\n};\n\nenum {\n\tOCRDMA_AE_LSC_PLINK_DOWN\t= 0x00,\n\tOCRDMA_AE_LSC_PLINK_UP\t\t= 0x01,\n\tOCRDMA_AE_LSC_LLINK_DOWN\t= 0x02,\n\tOCRDMA_AE_LSC_LLINK_MASK\t= 0x02,\n\tOCRDMA_AE_LSC_LLINK_UP\t\t= 0x03\n};\n\n \nenum {\n\tOCRDMA_MBX_QUERY_CFG_CQ_OVERFLOW_SHIFT\t\t= 2,\n\tOCRDMA_MBX_QUERY_CFG_CQ_OVERFLOW_MASK\t\t= BIT(2),\n\tOCRDMA_MBX_QUERY_CFG_SRQ_SUPPORTED_SHIFT\t= 3,\n\tOCRDMA_MBX_QUERY_CFG_SRQ_SUPPORTED_MASK\t\t= BIT(3),\n\tOCRDMA_MBX_QUERY_CFG_MAX_QP_SHIFT\t\t= 8,\n\tOCRDMA_MBX_QUERY_CFG_MAX_QP_MASK\t\t= 0xFFFFFF <<\n\t\t\t\tOCRDMA_MBX_QUERY_CFG_MAX_QP_SHIFT,\n\n\tOCRDMA_MBX_QUERY_CFG_MAX_PD_SHIFT\t\t= 16,\n\tOCRDMA_MBX_QUERY_CFG_MAX_PD_MASK\t\t= 0xFFFF <<\n\t\t\t\t\tOCRDMA_MBX_QUERY_CFG_MAX_PD_SHIFT,\n\tOCRDMA_MBX_QUERY_CFG_CA_ACK_DELAY_SHIFT\t\t= 8,\n\tOCRDMA_MBX_QUERY_CFG_CA_ACK_DELAY_MASK\t\t= 0xFF <<\n\t\t\t\tOCRDMA_MBX_QUERY_CFG_CA_ACK_DELAY_SHIFT,\n\tOCRDMA_MBX_QUERY_CFG_L3_TYPE_SHIFT\t\t= 3,\n\tOCRDMA_MBX_QUERY_CFG_L3_TYPE_MASK\t\t= 0x18,\n\tOCRDMA_MBX_QUERY_CFG_MAX_SEND_SGE_SHIFT\t\t= 0,\n\tOCRDMA_MBX_QUERY_CFG_MAX_SEND_SGE_MASK\t\t= 0xFFFF,\n\tOCRDMA_MBX_QUERY_CFG_MAX_RECV_SGE_SHIFT\t= 16,\n\tOCRDMA_MBX_QUERY_CFG_MAX_RECV_SGE_MASK\t\t= 0xFFFF <<\n\t\t\t\tOCRDMA_MBX_QUERY_CFG_MAX_RECV_SGE_SHIFT,\n\n\tOCRDMA_MBX_QUERY_CFG_MAX_ORD_PER_QP_SHIFT\t= 0,\n\tOCRDMA_MBX_QUERY_CFG_MAX_ORD_PER_QP_MASK\t= 0xFFFF,\n\tOCRDMA_MBX_QUERY_CFG_MAX_IRD_PER_QP_SHIFT\t= 16,\n\tOCRDMA_MBX_QUERY_CFG_MAX_IRD_PER_QP_MASK\t= 0xFFFF <<\n\t\t\t\tOCRDMA_MBX_QUERY_CFG_MAX_IRD_PER_QP_SHIFT,\n\n\tOCRDMA_MBX_QUERY_CFG_MAX_WQE_SIZE_OFFSET\t= 24,\n\tOCRDMA_MBX_QUERY_CFG_MAX_WQE_SIZE_MASK\t\t= 0xFF <<\n\t\t\t\tOCRDMA_MBX_QUERY_CFG_MAX_WQE_SIZE_OFFSET,\n\tOCRDMA_MBX_QUERY_CFG_MAX_RQE_SIZE_OFFSET\t= 16,\n\tOCRDMA_MBX_QUERY_CFG_MAX_RQE_SIZE_MASK\t\t= 0xFF <<\n\t\t\t\tOCRDMA_MBX_QUERY_CFG_MAX_RQE_SIZE_OFFSET,\n\tOCRDMA_MBX_QUERY_CFG_MAX_DPP_CQES_OFFSET\t= 0,\n\tOCRDMA_MBX_QUERY_CFG_MAX_DPP_CQES_MASK\t\t= 0xFFFF <<\n\t\t\t\tOCRDMA_MBX_QUERY_CFG_MAX_DPP_CQES_OFFSET,\n\n\tOCRDMA_MBX_QUERY_CFG_MAX_SRQ_OFFSET\t\t= 16,\n\tOCRDMA_MBX_QUERY_CFG_MAX_SRQ_MASK\t\t= 0xFFFF <<\n\t\t\t\tOCRDMA_MBX_QUERY_CFG_MAX_SRQ_OFFSET,\n\tOCRDMA_MBX_QUERY_CFG_MAX_RPIR_QPS_OFFSET\t= 0,\n\tOCRDMA_MBX_QUERY_CFG_MAX_RPIR_QPS_MASK\t\t= 0xFFFF <<\n\t\t\t\tOCRDMA_MBX_QUERY_CFG_MAX_RPIR_QPS_OFFSET,\n\n\tOCRDMA_MBX_QUERY_CFG_MAX_DPP_PDS_OFFSET\t\t= 16,\n\tOCRDMA_MBX_QUERY_CFG_MAX_DPP_PDS_MASK\t\t= 0xFFFF <<\n\t\t\t\tOCRDMA_MBX_QUERY_CFG_MAX_DPP_PDS_OFFSET,\n\tOCRDMA_MBX_QUERY_CFG_MAX_DPP_CREDITS_OFFSET\t= 0,\n\tOCRDMA_MBX_QUERY_CFG_MAX_DPP_CREDITS_MASK\t= 0xFFFF <<\n\t\t\t\tOCRDMA_MBX_QUERY_CFG_MAX_DPP_CREDITS_OFFSET,\n\n\tOCRDMA_MBX_QUERY_CFG_MAX_DPP_QPS_OFFSET\t\t= 0,\n\tOCRDMA_MBX_QUERY_CFG_MAX_DPP_QPS_MASK\t\t= 0xFFFF <<\n\t\t\t\tOCRDMA_MBX_QUERY_CFG_MAX_DPP_QPS_OFFSET,\n\n\tOCRDMA_MBX_QUERY_CFG_MAX_WQES_PER_WQ_OFFSET\t= 16,\n\tOCRDMA_MBX_QUERY_CFG_MAX_WQES_PER_WQ_MASK\t= 0xFFFF <<\n\t\t\t\tOCRDMA_MBX_QUERY_CFG_MAX_WQES_PER_WQ_OFFSET,\n\tOCRDMA_MBX_QUERY_CFG_MAX_RQES_PER_RQ_OFFSET\t= 0,\n\tOCRDMA_MBX_QUERY_CFG_MAX_RQES_PER_RQ_MASK\t= 0xFFFF <<\n\t\t\t\tOCRDMA_MBX_QUERY_CFG_MAX_RQES_PER_RQ_OFFSET,\n\n\tOCRDMA_MBX_QUERY_CFG_MAX_CQ_OFFSET\t\t= 16,\n\tOCRDMA_MBX_QUERY_CFG_MAX_CQ_MASK\t\t= 0xFFFF <<\n\t\t\t\tOCRDMA_MBX_QUERY_CFG_MAX_CQ_OFFSET,\n\tOCRDMA_MBX_QUERY_CFG_MAX_CQES_PER_CQ_OFFSET\t= 0,\n\tOCRDMA_MBX_QUERY_CFG_MAX_CQES_PER_CQ_MASK\t= 0xFFFF <<\n\t\t\t\tOCRDMA_MBX_QUERY_CFG_MAX_CQES_PER_CQ_OFFSET,\n\n\tOCRDMA_MBX_QUERY_CFG_MAX_SRQ_RQE_OFFSET\t\t= 16,\n\tOCRDMA_MBX_QUERY_CFG_MAX_SRQ_RQE_MASK\t\t= 0xFFFF <<\n\t\t\t\tOCRDMA_MBX_QUERY_CFG_MAX_SRQ_RQE_OFFSET,\n\tOCRDMA_MBX_QUERY_CFG_MAX_SRQ_SGE_OFFSET\t\t= 0,\n\tOCRDMA_MBX_QUERY_CFG_MAX_SRQ_SGE_MASK\t\t= 0xFFFF <<\n\t\t\t\tOCRDMA_MBX_QUERY_CFG_MAX_SRQ_SGE_OFFSET,\n\tOCRDMA_MBX_QUERY_CFG_MAX_RD_SGE_SHIFT\t\t= 0,\n\tOCRDMA_MBX_QUERY_CFG_MAX_RD_SGE_MASK\t\t= 0xFFFF,\n};\n\nstruct ocrdma_mbx_query_config {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rsp;\n\tu32 qp_srq_cq_ird_ord;\n\tu32 max_pd_ca_ack_delay;\n\tu32 max_recv_send_sge;\n\tu32 max_ird_ord_per_qp;\n\tu32 max_shared_ird_ord;\n\tu32 max_mr;\n\tu32 max_mr_size_hi;\n\tu32 max_mr_size_lo;\n\tu32 max_num_mr_pbl;\n\tu32 max_mw;\n\tu32 max_fmr;\n\tu32 max_pages_per_frmr;\n\tu32 max_mcast_group;\n\tu32 max_mcast_qp_attach;\n\tu32 max_total_mcast_qp_attach;\n\tu32 wqe_rqe_stride_max_dpp_cqs;\n\tu32 max_srq_rpir_qps;\n\tu32 max_dpp_pds_credits;\n\tu32 max_dpp_credits_pds_per_pd;\n\tu32 max_wqes_rqes_per_q;\n\tu32 max_cq_cqes_per_cq;\n\tu32 max_srq_rqe_sge;\n\tu32 max_wr_rd_sge;\n\tu32 ird_pgsz_num_pages;\n};\n\nstruct ocrdma_fw_ver_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rsp;\n\n\tu8 running_ver[32];\n};\n\nstruct ocrdma_fw_conf_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rsp;\n\n\tu32 config_num;\n\tu32 asic_revision;\n\tu32 phy_port;\n\tu32 fn_mode;\n\tstruct {\n\t\tu32 mode;\n\t\tu32 nic_wqid_base;\n\t\tu32 nic_wq_tot;\n\t\tu32 prot_wqid_base;\n\t\tu32 prot_wq_tot;\n\t\tu32 prot_rqid_base;\n\t\tu32 prot_rqid_tot;\n\t\tu32 rsvd[6];\n\t} ulp[2];\n\tu32 fn_capabilities;\n\tu32 rsvd1;\n\tu32 rsvd2;\n\tu32 base_eqid;\n\tu32 max_eq;\n\n};\n\nenum {\n\tOCRDMA_FN_MODE_RDMA\t= 0x4\n};\n\nenum {\n\tOCRDMA_IF_TYPE_MASK\t\t= 0xFFFF0000,\n\tOCRDMA_IF_TYPE_SHIFT\t\t= 0x10,\n\tOCRDMA_PHY_TYPE_MASK\t\t= 0x0000FFFF,\n\tOCRDMA_FUTURE_DETAILS_MASK\t= 0xFFFF0000,\n\tOCRDMA_FUTURE_DETAILS_SHIFT\t= 0x10,\n\tOCRDMA_EX_PHY_DETAILS_MASK\t= 0x0000FFFF,\n\tOCRDMA_FSPEED_SUPP_MASK\t\t= 0xFFFF0000,\n\tOCRDMA_FSPEED_SUPP_SHIFT\t= 0x10,\n\tOCRDMA_ASPEED_SUPP_MASK\t\t= 0x0000FFFF\n};\n\nstruct ocrdma_get_phy_info_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rsp;\n\n\tu32 ityp_ptyp;\n\tu32 misc_params;\n\tu32 ftrdtl_exphydtl;\n\tu32 fspeed_aspeed;\n\tu32 future_use[2];\n};\n\nenum {\n\tOCRDMA_PHY_SPEED_ZERO = 0x0,\n\tOCRDMA_PHY_SPEED_10MBPS = 0x1,\n\tOCRDMA_PHY_SPEED_100MBPS = 0x2,\n\tOCRDMA_PHY_SPEED_1GBPS = 0x4,\n\tOCRDMA_PHY_SPEED_10GBPS = 0x8,\n\tOCRDMA_PHY_SPEED_40GBPS = 0x20\n};\n\nenum {\n\tOCRDMA_PORT_NUM_MASK\t= 0x3F,\n\tOCRDMA_PT_MASK\t\t= 0xC0,\n\tOCRDMA_PT_SHIFT\t\t= 0x6,\n\tOCRDMA_LINK_DUP_MASK\t= 0x0000FF00,\n\tOCRDMA_LINK_DUP_SHIFT\t= 0x8,\n\tOCRDMA_PHY_PS_MASK\t= 0x00FF0000,\n\tOCRDMA_PHY_PS_SHIFT\t= 0x10,\n\tOCRDMA_PHY_PFLT_MASK\t= 0xFF000000,\n\tOCRDMA_PHY_PFLT_SHIFT\t= 0x18,\n\tOCRDMA_QOS_LNKSP_MASK\t= 0xFFFF0000,\n\tOCRDMA_QOS_LNKSP_SHIFT\t= 0x10,\n\tOCRDMA_LINK_ST_MASK\t= 0x01,\n\tOCRDMA_PLFC_MASK\t= 0x00000400,\n\tOCRDMA_PLFC_SHIFT\t= 0x8,\n\tOCRDMA_PLRFC_MASK\t= 0x00000200,\n\tOCRDMA_PLRFC_SHIFT\t= 0x8,\n\tOCRDMA_PLTFC_MASK\t= 0x00000100,\n\tOCRDMA_PLTFC_SHIFT\t= 0x8\n};\n\nstruct ocrdma_get_link_speed_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rsp;\n\n\tu32 pflt_pps_ld_pnum;\n\tu32 qos_lsp;\n\tu32 res_lnk_st;\n};\n\nenum {\n\tOCRDMA_PHYS_LINK_SPEED_ZERO = 0x0,\n\tOCRDMA_PHYS_LINK_SPEED_10MBPS = 0x1,\n\tOCRDMA_PHYS_LINK_SPEED_100MBPS = 0x2,\n\tOCRDMA_PHYS_LINK_SPEED_1GBPS = 0x3,\n\tOCRDMA_PHYS_LINK_SPEED_10GBPS = 0x4,\n\tOCRDMA_PHYS_LINK_SPEED_20GBPS = 0x5,\n\tOCRDMA_PHYS_LINK_SPEED_25GBPS = 0x6,\n\tOCRDMA_PHYS_LINK_SPEED_40GBPS = 0x7,\n\tOCRDMA_PHYS_LINK_SPEED_100GBPS = 0x8\n};\n\nenum {\n\tOCRDMA_CREATE_CQ_VER2\t\t\t= 2,\n\tOCRDMA_CREATE_CQ_VER3\t\t\t= 3,\n\n\tOCRDMA_CREATE_CQ_PAGE_CNT_MASK\t\t= 0xFFFF,\n\tOCRDMA_CREATE_CQ_PAGE_SIZE_SHIFT\t= 16,\n\tOCRDMA_CREATE_CQ_PAGE_SIZE_MASK\t\t= 0xFF,\n\n\tOCRDMA_CREATE_CQ_COALESCWM_SHIFT\t= 12,\n\tOCRDMA_CREATE_CQ_COALESCWM_MASK\t\t= BIT(13) | BIT(12),\n\tOCRDMA_CREATE_CQ_FLAGS_NODELAY\t\t= BIT(14),\n\tOCRDMA_CREATE_CQ_FLAGS_AUTO_VALID\t= BIT(15),\n\n\tOCRDMA_CREATE_CQ_EQ_ID_MASK\t\t= 0xFFFF,\n\tOCRDMA_CREATE_CQ_CQE_COUNT_MASK\t\t= 0xFFFF\n};\n\nenum {\n\tOCRDMA_CREATE_CQ_VER0\t\t\t= 0,\n\tOCRDMA_CREATE_CQ_DPP\t\t\t= 1,\n\tOCRDMA_CREATE_CQ_TYPE_SHIFT\t\t= 24,\n\tOCRDMA_CREATE_CQ_EQID_SHIFT\t\t= 22,\n\n\tOCRDMA_CREATE_CQ_CNT_SHIFT\t\t= 27,\n\tOCRDMA_CREATE_CQ_FLAGS_VALID\t\t= BIT(29),\n\tOCRDMA_CREATE_CQ_FLAGS_EVENTABLE\t= BIT(31),\n\tOCRDMA_CREATE_CQ_DEF_FLAGS\t\t= OCRDMA_CREATE_CQ_FLAGS_VALID |\n\t\t\t\t\tOCRDMA_CREATE_CQ_FLAGS_EVENTABLE |\n\t\t\t\t\tOCRDMA_CREATE_CQ_FLAGS_NODELAY\n};\n\nstruct ocrdma_create_cq_cmd {\n\tstruct ocrdma_mbx_hdr req;\n\tu32 pgsz_pgcnt;\n\tu32 ev_cnt_flags;\n\tu32 eqn;\n\tu32 pdid_cqecnt;\n\tu32 rsvd6;\n\tstruct ocrdma_pa pa[OCRDMA_CREATE_CQ_MAX_PAGES];\n};\n\nstruct ocrdma_create_cq {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_create_cq_cmd cmd;\n};\n\nenum {\n\tOCRDMA_CREATE_CQ_CMD_PDID_SHIFT\t= 0x10\n};\n\nenum {\n\tOCRDMA_CREATE_CQ_RSP_CQ_ID_MASK\t= 0xFFFF\n};\n\nstruct ocrdma_create_cq_cmd_rsp {\n\tstruct ocrdma_mbx_rsp rsp;\n\tu32 cq_id;\n};\n\nstruct ocrdma_create_cq_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_create_cq_cmd_rsp rsp;\n};\n\nenum {\n\tOCRDMA_CREATE_MQ_V0_CQ_ID_SHIFT\t\t= 22,\n\tOCRDMA_CREATE_MQ_CQ_ID_SHIFT\t\t= 16,\n\tOCRDMA_CREATE_MQ_RING_SIZE_SHIFT\t= 16,\n\tOCRDMA_CREATE_MQ_VALID\t\t\t= BIT(31),\n\tOCRDMA_CREATE_MQ_ASYNC_CQ_VALID\t\t= BIT(0)\n};\n\nstruct ocrdma_create_mq_req {\n\tstruct ocrdma_mbx_hdr req;\n\tu32 cqid_pages;\n\tu32 async_event_bitmap;\n\tu32 async_cqid_ringsize;\n\tu32 valid;\n\tu32 async_cqid_valid;\n\tu32 rsvd;\n\tstruct ocrdma_pa pa[8];\n};\n\nstruct ocrdma_create_mq_rsp {\n\tstruct ocrdma_mbx_rsp rsp;\n\tu32 id;\n};\n\nenum {\n\tOCRDMA_DESTROY_CQ_QID_SHIFT\t\t\t= 0,\n\tOCRDMA_DESTROY_CQ_QID_MASK\t\t\t= 0xFFFF,\n\tOCRDMA_DESTROY_CQ_QID_BYPASS_FLUSH_SHIFT\t= 16,\n\tOCRDMA_DESTROY_CQ_QID_BYPASS_FLUSH_MASK\t\t= 0xFFFF <<\n\t\t\t\tOCRDMA_DESTROY_CQ_QID_BYPASS_FLUSH_SHIFT\n};\n\nstruct ocrdma_destroy_cq {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_hdr req;\n\n\tu32 bypass_flush_qid;\n};\n\nstruct ocrdma_destroy_cq_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rsp;\n};\n\nenum {\n\tOCRDMA_QPT_GSI\t= 1,\n\tOCRDMA_QPT_RC\t= 2,\n\tOCRDMA_QPT_UD\t= 4,\n};\n\nenum {\n\tOCRDMA_CREATE_QP_REQ_PD_ID_SHIFT\t= 0,\n\tOCRDMA_CREATE_QP_REQ_PD_ID_MASK\t\t= 0xFFFF,\n\tOCRDMA_CREATE_QP_REQ_SQ_PAGE_SIZE_SHIFT\t= 16,\n\tOCRDMA_CREATE_QP_REQ_RQ_PAGE_SIZE_SHIFT\t= 19,\n\tOCRDMA_CREATE_QP_REQ_QPT_SHIFT\t\t= 29,\n\tOCRDMA_CREATE_QP_REQ_QPT_MASK\t\t= BIT(31) | BIT(30) | BIT(29),\n\n\tOCRDMA_CREATE_QP_REQ_MAX_RQE_SHIFT\t= 0,\n\tOCRDMA_CREATE_QP_REQ_MAX_RQE_MASK\t= 0xFFFF,\n\tOCRDMA_CREATE_QP_REQ_MAX_WQE_SHIFT\t= 16,\n\tOCRDMA_CREATE_QP_REQ_MAX_WQE_MASK\t= 0xFFFF <<\n\t\t\t\t\tOCRDMA_CREATE_QP_REQ_MAX_WQE_SHIFT,\n\n\tOCRDMA_CREATE_QP_REQ_MAX_SGE_WRITE_SHIFT\t= 0,\n\tOCRDMA_CREATE_QP_REQ_MAX_SGE_WRITE_MASK\t\t= 0xFFFF,\n\tOCRDMA_CREATE_QP_REQ_MAX_SGE_SEND_SHIFT\t\t= 16,\n\tOCRDMA_CREATE_QP_REQ_MAX_SGE_SEND_MASK\t\t= 0xFFFF <<\n\t\t\t\t\tOCRDMA_CREATE_QP_REQ_MAX_SGE_SEND_SHIFT,\n\n\tOCRDMA_CREATE_QP_REQ_FMR_EN_SHIFT\t\t= 0,\n\tOCRDMA_CREATE_QP_REQ_FMR_EN_MASK\t\t= BIT(0),\n\tOCRDMA_CREATE_QP_REQ_ZERO_LKEYEN_SHIFT\t\t= 1,\n\tOCRDMA_CREATE_QP_REQ_ZERO_LKEYEN_MASK\t\t= BIT(1),\n\tOCRDMA_CREATE_QP_REQ_BIND_MEMWIN_SHIFT\t\t= 2,\n\tOCRDMA_CREATE_QP_REQ_BIND_MEMWIN_MASK\t\t= BIT(2),\n\tOCRDMA_CREATE_QP_REQ_INB_WREN_SHIFT\t\t= 3,\n\tOCRDMA_CREATE_QP_REQ_INB_WREN_MASK\t\t= BIT(3),\n\tOCRDMA_CREATE_QP_REQ_INB_RDEN_SHIFT\t\t= 4,\n\tOCRDMA_CREATE_QP_REQ_INB_RDEN_MASK\t\t= BIT(4),\n\tOCRDMA_CREATE_QP_REQ_USE_SRQ_SHIFT\t\t= 5,\n\tOCRDMA_CREATE_QP_REQ_USE_SRQ_MASK\t\t= BIT(5),\n\tOCRDMA_CREATE_QP_REQ_ENABLE_RPIR_SHIFT\t\t= 6,\n\tOCRDMA_CREATE_QP_REQ_ENABLE_RPIR_MASK\t\t= BIT(6),\n\tOCRDMA_CREATE_QP_REQ_ENABLE_DPP_SHIFT\t\t= 7,\n\tOCRDMA_CREATE_QP_REQ_ENABLE_DPP_MASK\t\t= BIT(7),\n\tOCRDMA_CREATE_QP_REQ_ENABLE_DPP_CQ_SHIFT\t= 8,\n\tOCRDMA_CREATE_QP_REQ_ENABLE_DPP_CQ_MASK\t\t= BIT(8),\n\tOCRDMA_CREATE_QP_REQ_MAX_SGE_RECV_SHIFT\t\t= 16,\n\tOCRDMA_CREATE_QP_REQ_MAX_SGE_RECV_MASK\t\t= 0xFFFF <<\n\t\t\t\tOCRDMA_CREATE_QP_REQ_MAX_SGE_RECV_SHIFT,\n\n\tOCRDMA_CREATE_QP_REQ_MAX_IRD_SHIFT\t\t= 0,\n\tOCRDMA_CREATE_QP_REQ_MAX_IRD_MASK\t\t= 0xFFFF,\n\tOCRDMA_CREATE_QP_REQ_MAX_ORD_SHIFT\t\t= 16,\n\tOCRDMA_CREATE_QP_REQ_MAX_ORD_MASK\t\t= 0xFFFF <<\n\t\t\t\tOCRDMA_CREATE_QP_REQ_MAX_ORD_SHIFT,\n\n\tOCRDMA_CREATE_QP_REQ_NUM_RQ_PAGES_SHIFT\t\t= 0,\n\tOCRDMA_CREATE_QP_REQ_NUM_RQ_PAGES_MASK\t\t= 0xFFFF,\n\tOCRDMA_CREATE_QP_REQ_NUM_WQ_PAGES_SHIFT\t\t= 16,\n\tOCRDMA_CREATE_QP_REQ_NUM_WQ_PAGES_MASK\t\t= 0xFFFF <<\n\t\t\t\tOCRDMA_CREATE_QP_REQ_NUM_WQ_PAGES_SHIFT,\n\n\tOCRDMA_CREATE_QP_REQ_RQE_SIZE_SHIFT\t\t= 0,\n\tOCRDMA_CREATE_QP_REQ_RQE_SIZE_MASK\t\t= 0xFFFF,\n\tOCRDMA_CREATE_QP_REQ_WQE_SIZE_SHIFT\t\t= 16,\n\tOCRDMA_CREATE_QP_REQ_WQE_SIZE_MASK\t\t= 0xFFFF <<\n\t\t\t\tOCRDMA_CREATE_QP_REQ_WQE_SIZE_SHIFT,\n\n\tOCRDMA_CREATE_QP_REQ_RQ_CQID_SHIFT\t\t= 0,\n\tOCRDMA_CREATE_QP_REQ_RQ_CQID_MASK\t\t= 0xFFFF,\n\tOCRDMA_CREATE_QP_REQ_WQ_CQID_SHIFT\t\t= 16,\n\tOCRDMA_CREATE_QP_REQ_WQ_CQID_MASK\t\t= 0xFFFF <<\n\t\t\t\tOCRDMA_CREATE_QP_REQ_WQ_CQID_SHIFT,\n\n\tOCRDMA_CREATE_QP_REQ_DPP_CQPID_SHIFT\t\t= 0,\n\tOCRDMA_CREATE_QP_REQ_DPP_CQPID_MASK\t\t= 0xFFFF,\n\tOCRDMA_CREATE_QP_REQ_DPP_CREDIT_SHIFT\t\t= 16,\n\tOCRDMA_CREATE_QP_REQ_DPP_CREDIT_MASK\t\t= 0xFFFF <<\n\t\t\t\tOCRDMA_CREATE_QP_REQ_DPP_CREDIT_SHIFT\n};\n\nenum {\n\tOCRDMA_CREATE_QP_REQ_DPP_CREDIT_LIMIT\t= 16,\n\tOCRDMA_CREATE_QP_RSP_DPP_PAGE_SHIFT\t= 1\n};\n\n#define MAX_OCRDMA_IRD_PAGES 4\n\nenum ocrdma_qp_flags {\n\tOCRDMA_QP_MW_BIND\t= 1,\n\tOCRDMA_QP_LKEY0\t\t= (1 << 1),\n\tOCRDMA_QP_FAST_REG\t= (1 << 2),\n\tOCRDMA_QP_INB_RD\t= (1 << 6),\n\tOCRDMA_QP_INB_WR\t= (1 << 7),\n};\n\nenum ocrdma_qp_state {\n\tOCRDMA_QPS_RST\t\t= 0,\n\tOCRDMA_QPS_INIT\t\t= 1,\n\tOCRDMA_QPS_RTR\t\t= 2,\n\tOCRDMA_QPS_RTS\t\t= 3,\n\tOCRDMA_QPS_SQE\t\t= 4,\n\tOCRDMA_QPS_SQ_DRAINING\t= 5,\n\tOCRDMA_QPS_ERR\t\t= 6,\n\tOCRDMA_QPS_SQD\t\t= 7\n};\n\nstruct ocrdma_create_qp_req {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_hdr req;\n\n\tu32 type_pgsz_pdn;\n\tu32 max_wqe_rqe;\n\tu32 max_sge_send_write;\n\tu32 max_sge_recv_flags;\n\tu32 max_ord_ird;\n\tu32 num_wq_rq_pages;\n\tu32 wqe_rqe_size;\n\tu32 wq_rq_cqid;\n\tstruct ocrdma_pa wq_addr[MAX_OCRDMA_QP_PAGES];\n\tstruct ocrdma_pa rq_addr[MAX_OCRDMA_QP_PAGES];\n\tu32 dpp_credits_cqid;\n\tu32 rpir_lkey;\n\tstruct ocrdma_pa ird_addr[MAX_OCRDMA_IRD_PAGES];\n};\n\nenum {\n\tOCRDMA_CREATE_QP_RSP_QP_ID_SHIFT\t\t= 0,\n\tOCRDMA_CREATE_QP_RSP_QP_ID_MASK\t\t\t= 0xFFFF,\n\n\tOCRDMA_CREATE_QP_RSP_MAX_RQE_SHIFT\t\t= 0,\n\tOCRDMA_CREATE_QP_RSP_MAX_RQE_MASK\t\t= 0xFFFF,\n\tOCRDMA_CREATE_QP_RSP_MAX_WQE_SHIFT\t\t= 16,\n\tOCRDMA_CREATE_QP_RSP_MAX_WQE_MASK\t\t= 0xFFFF <<\n\t\t\t\tOCRDMA_CREATE_QP_RSP_MAX_WQE_SHIFT,\n\n\tOCRDMA_CREATE_QP_RSP_MAX_SGE_WRITE_SHIFT\t= 0,\n\tOCRDMA_CREATE_QP_RSP_MAX_SGE_WRITE_MASK\t\t= 0xFFFF,\n\tOCRDMA_CREATE_QP_RSP_MAX_SGE_SEND_SHIFT\t\t= 16,\n\tOCRDMA_CREATE_QP_RSP_MAX_SGE_SEND_MASK\t\t= 0xFFFF <<\n\t\t\t\tOCRDMA_CREATE_QP_RSP_MAX_SGE_SEND_SHIFT,\n\n\tOCRDMA_CREATE_QP_RSP_MAX_SGE_RECV_SHIFT\t\t= 16,\n\tOCRDMA_CREATE_QP_RSP_MAX_SGE_RECV_MASK\t\t= 0xFFFF <<\n\t\t\t\tOCRDMA_CREATE_QP_RSP_MAX_SGE_RECV_SHIFT,\n\n\tOCRDMA_CREATE_QP_RSP_MAX_IRD_SHIFT\t\t= 0,\n\tOCRDMA_CREATE_QP_RSP_MAX_IRD_MASK\t\t= 0xFFFF,\n\tOCRDMA_CREATE_QP_RSP_MAX_ORD_SHIFT\t\t= 16,\n\tOCRDMA_CREATE_QP_RSP_MAX_ORD_MASK\t\t= 0xFFFF <<\n\t\t\t\tOCRDMA_CREATE_QP_RSP_MAX_ORD_SHIFT,\n\n\tOCRDMA_CREATE_QP_RSP_RQ_ID_SHIFT\t\t= 0,\n\tOCRDMA_CREATE_QP_RSP_RQ_ID_MASK\t\t\t= 0xFFFF,\n\tOCRDMA_CREATE_QP_RSP_SQ_ID_SHIFT\t\t= 16,\n\tOCRDMA_CREATE_QP_RSP_SQ_ID_MASK\t\t\t= 0xFFFF <<\n\t\t\t\tOCRDMA_CREATE_QP_RSP_SQ_ID_SHIFT,\n\n\tOCRDMA_CREATE_QP_RSP_DPP_ENABLED_MASK\t\t= BIT(0),\n\tOCRDMA_CREATE_QP_RSP_DPP_PAGE_OFFSET_SHIFT\t= 1,\n\tOCRDMA_CREATE_QP_RSP_DPP_PAGE_OFFSET_MASK\t= 0x7FFF <<\n\t\t\t\tOCRDMA_CREATE_QP_RSP_DPP_PAGE_OFFSET_SHIFT,\n\tOCRDMA_CREATE_QP_RSP_DPP_CREDITS_SHIFT\t\t= 16,\n\tOCRDMA_CREATE_QP_RSP_DPP_CREDITS_MASK\t\t= 0xFFFF <<\n\t\t\t\tOCRDMA_CREATE_QP_RSP_DPP_CREDITS_SHIFT,\n};\n\nstruct ocrdma_create_qp_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rsp;\n\n\tu32 qp_id;\n\tu32 max_wqe_rqe;\n\tu32 max_sge_send_write;\n\tu32 max_sge_recv;\n\tu32 max_ord_ird;\n\tu32 sq_rq_id;\n\tu32 dpp_response;\n};\n\nstruct ocrdma_destroy_qp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_hdr req;\n\tu32 qp_id;\n};\n\nstruct ocrdma_destroy_qp_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rsp;\n};\n\nenum {\n\tOCRDMA_MODIFY_QP_ID_SHIFT\t= 0,\n\tOCRDMA_MODIFY_QP_ID_MASK\t= 0xFFFF,\n\n\tOCRDMA_QP_PARA_QPS_VALID\t= BIT(0),\n\tOCRDMA_QP_PARA_SQD_ASYNC_VALID\t= BIT(1),\n\tOCRDMA_QP_PARA_PKEY_VALID\t= BIT(2),\n\tOCRDMA_QP_PARA_QKEY_VALID\t= BIT(3),\n\tOCRDMA_QP_PARA_PMTU_VALID\t= BIT(4),\n\tOCRDMA_QP_PARA_ACK_TO_VALID\t= BIT(5),\n\tOCRDMA_QP_PARA_RETRY_CNT_VALID\t= BIT(6),\n\tOCRDMA_QP_PARA_RRC_VALID\t= BIT(7),\n\tOCRDMA_QP_PARA_RQPSN_VALID\t= BIT(8),\n\tOCRDMA_QP_PARA_MAX_IRD_VALID\t= BIT(9),\n\tOCRDMA_QP_PARA_MAX_ORD_VALID\t= BIT(10),\n\tOCRDMA_QP_PARA_RNT_VALID\t= BIT(11),\n\tOCRDMA_QP_PARA_SQPSN_VALID\t= BIT(12),\n\tOCRDMA_QP_PARA_DST_QPN_VALID\t= BIT(13),\n\tOCRDMA_QP_PARA_MAX_WQE_VALID\t= BIT(14),\n\tOCRDMA_QP_PARA_MAX_RQE_VALID\t= BIT(15),\n\tOCRDMA_QP_PARA_SGE_SEND_VALID\t= BIT(16),\n\tOCRDMA_QP_PARA_SGE_RECV_VALID\t= BIT(17),\n\tOCRDMA_QP_PARA_SGE_WR_VALID\t= BIT(18),\n\tOCRDMA_QP_PARA_INB_RDEN_VALID\t= BIT(19),\n\tOCRDMA_QP_PARA_INB_WREN_VALID\t= BIT(20),\n\tOCRDMA_QP_PARA_FLOW_LBL_VALID\t= BIT(21),\n\tOCRDMA_QP_PARA_BIND_EN_VALID\t= BIT(22),\n\tOCRDMA_QP_PARA_ZLKEY_EN_VALID\t= BIT(23),\n\tOCRDMA_QP_PARA_FMR_EN_VALID\t= BIT(24),\n\tOCRDMA_QP_PARA_INBAT_EN_VALID\t= BIT(25),\n\tOCRDMA_QP_PARA_VLAN_EN_VALID\t= BIT(26),\n\n\tOCRDMA_MODIFY_QP_FLAGS_RD\t= BIT(0),\n\tOCRDMA_MODIFY_QP_FLAGS_WR\t= BIT(1),\n\tOCRDMA_MODIFY_QP_FLAGS_SEND\t= BIT(2),\n\tOCRDMA_MODIFY_QP_FLAGS_ATOMIC\t= BIT(3)\n};\n\nenum {\n\tOCRDMA_QP_PARAMS_SRQ_ID_SHIFT\t\t= 0,\n\tOCRDMA_QP_PARAMS_SRQ_ID_MASK\t\t= 0xFFFF,\n\n\tOCRDMA_QP_PARAMS_MAX_RQE_SHIFT\t\t= 0,\n\tOCRDMA_QP_PARAMS_MAX_RQE_MASK\t\t= 0xFFFF,\n\tOCRDMA_QP_PARAMS_MAX_WQE_SHIFT\t\t= 16,\n\tOCRDMA_QP_PARAMS_MAX_WQE_MASK\t\t= 0xFFFF <<\n\t    OCRDMA_QP_PARAMS_MAX_WQE_SHIFT,\n\n\tOCRDMA_QP_PARAMS_MAX_SGE_WRITE_SHIFT\t= 0,\n\tOCRDMA_QP_PARAMS_MAX_SGE_WRITE_MASK\t= 0xFFFF,\n\tOCRDMA_QP_PARAMS_MAX_SGE_SEND_SHIFT\t= 16,\n\tOCRDMA_QP_PARAMS_MAX_SGE_SEND_MASK\t= 0xFFFF <<\n\t\t\t\t\tOCRDMA_QP_PARAMS_MAX_SGE_SEND_SHIFT,\n\n\tOCRDMA_QP_PARAMS_FLAGS_FMR_EN\t\t= BIT(0),\n\tOCRDMA_QP_PARAMS_FLAGS_LKEY_0_EN\t= BIT(1),\n\tOCRDMA_QP_PARAMS_FLAGS_BIND_MW_EN\t= BIT(2),\n\tOCRDMA_QP_PARAMS_FLAGS_INBWR_EN\t\t= BIT(3),\n\tOCRDMA_QP_PARAMS_FLAGS_INBRD_EN\t\t= BIT(4),\n\tOCRDMA_QP_PARAMS_STATE_SHIFT\t\t= 5,\n\tOCRDMA_QP_PARAMS_STATE_MASK\t\t= BIT(5) | BIT(6) | BIT(7),\n\tOCRDMA_QP_PARAMS_FLAGS_SQD_ASYNC\t= BIT(8),\n\tOCRDMA_QP_PARAMS_FLAGS_INB_ATEN\t\t= BIT(9),\n\tOCRDMA_QP_PARAMS_FLAGS_L3_TYPE_SHIFT    = 11,\n\tOCRDMA_QP_PARAMS_FLAGS_L3_TYPE_MASK     = BIT(11) | BIT(12) | BIT(13),\n\tOCRDMA_QP_PARAMS_MAX_SGE_RECV_SHIFT\t= 16,\n\tOCRDMA_QP_PARAMS_MAX_SGE_RECV_MASK\t= 0xFFFF <<\n\t\t\t\t\tOCRDMA_QP_PARAMS_MAX_SGE_RECV_SHIFT,\n\n\tOCRDMA_QP_PARAMS_MAX_IRD_SHIFT\t\t= 0,\n\tOCRDMA_QP_PARAMS_MAX_IRD_MASK\t\t= 0xFFFF,\n\tOCRDMA_QP_PARAMS_MAX_ORD_SHIFT\t\t= 16,\n\tOCRDMA_QP_PARAMS_MAX_ORD_MASK\t\t= 0xFFFF <<\n\t\t\t\t\tOCRDMA_QP_PARAMS_MAX_ORD_SHIFT,\n\n\tOCRDMA_QP_PARAMS_RQ_CQID_SHIFT\t\t= 0,\n\tOCRDMA_QP_PARAMS_RQ_CQID_MASK\t\t= 0xFFFF,\n\tOCRDMA_QP_PARAMS_WQ_CQID_SHIFT\t\t= 16,\n\tOCRDMA_QP_PARAMS_WQ_CQID_MASK\t\t= 0xFFFF <<\n\t\t\t\t\tOCRDMA_QP_PARAMS_WQ_CQID_SHIFT,\n\n\tOCRDMA_QP_PARAMS_RQ_PSN_SHIFT\t\t= 0,\n\tOCRDMA_QP_PARAMS_RQ_PSN_MASK\t\t= 0xFFFFFF,\n\tOCRDMA_QP_PARAMS_HOP_LMT_SHIFT\t\t= 24,\n\tOCRDMA_QP_PARAMS_HOP_LMT_MASK\t\t= 0xFF <<\n\t\t\t\t\tOCRDMA_QP_PARAMS_HOP_LMT_SHIFT,\n\n\tOCRDMA_QP_PARAMS_SQ_PSN_SHIFT\t\t= 0,\n\tOCRDMA_QP_PARAMS_SQ_PSN_MASK\t\t= 0xFFFFFF,\n\tOCRDMA_QP_PARAMS_TCLASS_SHIFT\t\t= 24,\n\tOCRDMA_QP_PARAMS_TCLASS_MASK\t\t= 0xFF <<\n\t\t\t\t\tOCRDMA_QP_PARAMS_TCLASS_SHIFT,\n\n\tOCRDMA_QP_PARAMS_DEST_QPN_SHIFT\t\t= 0,\n\tOCRDMA_QP_PARAMS_DEST_QPN_MASK\t\t= 0xFFFFFF,\n\tOCRDMA_QP_PARAMS_RNR_RETRY_CNT_SHIFT\t= 24,\n\tOCRDMA_QP_PARAMS_RNR_RETRY_CNT_MASK\t= 0x7 <<\n\t\t\t\t\tOCRDMA_QP_PARAMS_RNR_RETRY_CNT_SHIFT,\n\tOCRDMA_QP_PARAMS_ACK_TIMEOUT_SHIFT\t= 27,\n\tOCRDMA_QP_PARAMS_ACK_TIMEOUT_MASK\t= 0x1F <<\n\t\t\t\t\tOCRDMA_QP_PARAMS_ACK_TIMEOUT_SHIFT,\n\n\tOCRDMA_QP_PARAMS_PKEY_IDNEX_SHIFT\t= 0,\n\tOCRDMA_QP_PARAMS_PKEY_INDEX_MASK\t= 0xFFFF,\n\tOCRDMA_QP_PARAMS_PATH_MTU_SHIFT\t\t= 18,\n\tOCRDMA_QP_PARAMS_PATH_MTU_MASK\t\t= 0x3FFF <<\n\t\t\t\t\tOCRDMA_QP_PARAMS_PATH_MTU_SHIFT,\n\n\tOCRDMA_QP_PARAMS_FLOW_LABEL_SHIFT\t= 0,\n\tOCRDMA_QP_PARAMS_FLOW_LABEL_MASK\t= 0xFFFFF,\n\tOCRDMA_QP_PARAMS_SL_SHIFT\t\t= 20,\n\tOCRDMA_QP_PARAMS_SL_MASK\t\t= 0xF <<\n\t\t\t\t\tOCRDMA_QP_PARAMS_SL_SHIFT,\n\tOCRDMA_QP_PARAMS_RETRY_CNT_SHIFT\t= 24,\n\tOCRDMA_QP_PARAMS_RETRY_CNT_MASK\t\t= 0x7 <<\n\t\t\t\t\tOCRDMA_QP_PARAMS_RETRY_CNT_SHIFT,\n\tOCRDMA_QP_PARAMS_RNR_NAK_TIMER_SHIFT\t= 27,\n\tOCRDMA_QP_PARAMS_RNR_NAK_TIMER_MASK\t= 0x1F <<\n\t\t\t\t\tOCRDMA_QP_PARAMS_RNR_NAK_TIMER_SHIFT,\n\n\tOCRDMA_QP_PARAMS_DMAC_B4_TO_B5_SHIFT\t= 0,\n\tOCRDMA_QP_PARAMS_DMAC_B4_TO_B5_MASK\t= 0xFFFF,\n\tOCRDMA_QP_PARAMS_VLAN_SHIFT\t\t= 16,\n\tOCRDMA_QP_PARAMS_VLAN_MASK\t\t= 0xFFFF <<\n\t\t\t\t\tOCRDMA_QP_PARAMS_VLAN_SHIFT\n};\n\nstruct ocrdma_qp_params {\n\tu32 id;\n\tu32 max_wqe_rqe;\n\tu32 max_sge_send_write;\n\tu32 max_sge_recv_flags;\n\tu32 max_ord_ird;\n\tu32 wq_rq_cqid;\n\tu32 hop_lmt_rq_psn;\n\tu32 tclass_sq_psn;\n\tu32 ack_to_rnr_rtc_dest_qpn;\n\tu32 path_mtu_pkey_indx;\n\tu32 rnt_rc_sl_fl;\n\tu8 sgid[16];\n\tu8 dgid[16];\n\tu32 dmac_b0_to_b3;\n\tu32 vlan_dmac_b4_to_b5;\n\tu32 qkey;\n};\n\n\nstruct ocrdma_modify_qp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_hdr req;\n\n\tstruct ocrdma_qp_params params;\n\tu32 flags;\n\tu32 rdma_flags;\n\tu32 num_outstanding_atomic_rd;\n};\n\nenum {\n\tOCRDMA_MODIFY_QP_RSP_MAX_RQE_SHIFT\t= 0,\n\tOCRDMA_MODIFY_QP_RSP_MAX_RQE_MASK\t= 0xFFFF,\n\tOCRDMA_MODIFY_QP_RSP_MAX_WQE_SHIFT\t= 16,\n\tOCRDMA_MODIFY_QP_RSP_MAX_WQE_MASK\t= 0xFFFF <<\n\t\t\t\t\tOCRDMA_MODIFY_QP_RSP_MAX_WQE_SHIFT,\n\n\tOCRDMA_MODIFY_QP_RSP_MAX_IRD_SHIFT\t= 0,\n\tOCRDMA_MODIFY_QP_RSP_MAX_IRD_MASK\t= 0xFFFF,\n\tOCRDMA_MODIFY_QP_RSP_MAX_ORD_SHIFT\t= 16,\n\tOCRDMA_MODIFY_QP_RSP_MAX_ORD_MASK\t= 0xFFFF <<\n\t\t\t\t\tOCRDMA_MODIFY_QP_RSP_MAX_ORD_SHIFT\n};\n\nstruct ocrdma_modify_qp_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rsp;\n\n\tu32 max_wqe_rqe;\n\tu32 max_ord_ird;\n};\n\nstruct ocrdma_query_qp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_hdr req;\n\n#define OCRDMA_QUERY_UP_QP_ID_SHIFT\t0\n#define OCRDMA_QUERY_UP_QP_ID_MASK\t0xFFFFFF\n\tu32 qp_id;\n};\n\nstruct ocrdma_query_qp_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rsp;\n\tstruct ocrdma_qp_params params;\n\tu32 dpp_credits_cqid;\n\tu32 rbq_id;\n};\n\nenum {\n\tOCRDMA_CREATE_SRQ_PD_ID_SHIFT\t\t= 0,\n\tOCRDMA_CREATE_SRQ_PD_ID_MASK\t\t= 0xFFFF,\n\tOCRDMA_CREATE_SRQ_PG_SZ_SHIFT\t\t= 16,\n\tOCRDMA_CREATE_SRQ_PG_SZ_MASK\t\t= 0x3 <<\n\t\t\t\t\tOCRDMA_CREATE_SRQ_PG_SZ_SHIFT,\n\n\tOCRDMA_CREATE_SRQ_MAX_RQE_SHIFT\t\t= 0,\n\tOCRDMA_CREATE_SRQ_MAX_SGE_RECV_SHIFT\t= 16,\n\tOCRDMA_CREATE_SRQ_MAX_SGE_RECV_MASK\t= 0xFFFF <<\n\t\t\t\t\tOCRDMA_CREATE_SRQ_MAX_SGE_RECV_SHIFT,\n\n\tOCRDMA_CREATE_SRQ_RQE_SIZE_SHIFT\t= 0,\n\tOCRDMA_CREATE_SRQ_RQE_SIZE_MASK\t\t= 0xFFFF,\n\tOCRDMA_CREATE_SRQ_NUM_RQ_PAGES_SHIFT\t= 16,\n\tOCRDMA_CREATE_SRQ_NUM_RQ_PAGES_MASK\t= 0xFFFF <<\n\t\t\t\t\tOCRDMA_CREATE_SRQ_NUM_RQ_PAGES_SHIFT\n};\n\nstruct ocrdma_create_srq {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_hdr req;\n\n\tu32 pgsz_pdid;\n\tu32 max_sge_rqe;\n\tu32 pages_rqe_sz;\n\tstruct ocrdma_pa rq_addr[MAX_OCRDMA_SRQ_PAGES];\n};\n\nenum {\n\tOCRDMA_CREATE_SRQ_RSP_SRQ_ID_SHIFT\t\t\t= 0,\n\tOCRDMA_CREATE_SRQ_RSP_SRQ_ID_MASK\t\t\t= 0xFFFFFF,\n\n\tOCRDMA_CREATE_SRQ_RSP_MAX_RQE_ALLOCATED_SHIFT\t\t= 0,\n\tOCRDMA_CREATE_SRQ_RSP_MAX_RQE_ALLOCATED_MASK\t\t= 0xFFFF,\n\tOCRDMA_CREATE_SRQ_RSP_MAX_SGE_RECV_ALLOCATED_SHIFT\t= 16,\n\tOCRDMA_CREATE_SRQ_RSP_MAX_SGE_RECV_ALLOCATED_MASK\t= 0xFFFF <<\n\t\t\tOCRDMA_CREATE_SRQ_RSP_MAX_SGE_RECV_ALLOCATED_SHIFT\n};\n\nstruct ocrdma_create_srq_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rsp;\n\n\tu32 id;\n\tu32 max_sge_rqe_allocated;\n};\n\nenum {\n\tOCRDMA_MODIFY_SRQ_ID_SHIFT\t= 0,\n\tOCRDMA_MODIFY_SRQ_ID_MASK\t= 0xFFFFFF,\n\n\tOCRDMA_MODIFY_SRQ_MAX_RQE_SHIFT\t= 0,\n\tOCRDMA_MODIFY_SRQ_MAX_RQE_MASK\t= 0xFFFF,\n\tOCRDMA_MODIFY_SRQ_LIMIT_SHIFT\t= 16,\n\tOCRDMA_MODIFY_SRQ__LIMIT_MASK\t= 0xFFFF <<\n\t\t\t\t\tOCRDMA_MODIFY_SRQ_LIMIT_SHIFT\n};\n\nstruct ocrdma_modify_srq {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rep;\n\n\tu32 id;\n\tu32 limit_max_rqe;\n};\n\nenum {\n\tOCRDMA_QUERY_SRQ_ID_SHIFT\t= 0,\n\tOCRDMA_QUERY_SRQ_ID_MASK\t= 0xFFFFFF\n};\n\nstruct ocrdma_query_srq {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp req;\n\n\tu32 id;\n};\n\nenum {\n\tOCRDMA_QUERY_SRQ_RSP_PD_ID_SHIFT\t= 0,\n\tOCRDMA_QUERY_SRQ_RSP_PD_ID_MASK\t\t= 0xFFFF,\n\tOCRDMA_QUERY_SRQ_RSP_MAX_RQE_SHIFT\t= 16,\n\tOCRDMA_QUERY_SRQ_RSP_MAX_RQE_MASK\t= 0xFFFF <<\n\t\t\t\t\tOCRDMA_QUERY_SRQ_RSP_MAX_RQE_SHIFT,\n\n\tOCRDMA_QUERY_SRQ_RSP_MAX_SGE_RECV_SHIFT\t= 0,\n\tOCRDMA_QUERY_SRQ_RSP_MAX_SGE_RECV_MASK\t= 0xFFFF,\n\tOCRDMA_QUERY_SRQ_RSP_SRQ_LIMIT_SHIFT\t= 16,\n\tOCRDMA_QUERY_SRQ_RSP_SRQ_LIMIT_MASK\t= 0xFFFF <<\n\t\t\t\t\tOCRDMA_QUERY_SRQ_RSP_SRQ_LIMIT_SHIFT\n};\n\nstruct ocrdma_query_srq_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp req;\n\n\tu32 max_rqe_pdid;\n\tu32 srq_lmt_max_sge;\n};\n\nenum {\n\tOCRDMA_DESTROY_SRQ_ID_SHIFT\t= 0,\n\tOCRDMA_DESTROY_SRQ_ID_MASK\t= 0xFFFFFF\n};\n\nstruct ocrdma_destroy_srq {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp req;\n\n\tu32 id;\n};\n\nenum {\n\tOCRDMA_ALLOC_PD_ENABLE_DPP\t= BIT(16),\n\tOCRDMA_DPP_PAGE_SIZE\t\t= 4096\n};\n\nstruct ocrdma_alloc_pd {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_hdr req;\n\tu32 enable_dpp_rsvd;\n};\n\nenum {\n\tOCRDMA_ALLOC_PD_RSP_DPP\t\t\t= BIT(16),\n\tOCRDMA_ALLOC_PD_RSP_DPP_PAGE_SHIFT\t= 20,\n\tOCRDMA_ALLOC_PD_RSP_PDID_MASK\t\t= 0xFFFF,\n};\n\nstruct ocrdma_alloc_pd_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rsp;\n\tu32 dpp_page_pdid;\n};\n\nstruct ocrdma_dealloc_pd {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_hdr req;\n\tu32 id;\n};\n\nstruct ocrdma_dealloc_pd_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rsp;\n};\n\nstruct ocrdma_alloc_pd_range {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_hdr req;\n\tu32 enable_dpp_rsvd;\n\tu32 pd_count;\n};\n\nstruct ocrdma_alloc_pd_range_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rsp;\n\tu32 dpp_page_pdid;\n\tu32 pd_count;\n};\n\nenum {\n\tOCRDMA_ALLOC_PD_RNG_RSP_START_PDID_MASK = 0xFFFF,\n};\n\nstruct ocrdma_dealloc_pd_range {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_hdr req;\n\tu32 start_pd_id;\n\tu32 pd_count;\n};\n\nstruct ocrdma_dealloc_pd_range_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_hdr req;\n\tu32 rsvd;\n};\n\nenum {\n\tOCRDMA_ADDR_CHECK_ENABLE\t= 1,\n\tOCRDMA_ADDR_CHECK_DISABLE\t= 0\n};\n\nenum {\n\tOCRDMA_ALLOC_LKEY_PD_ID_SHIFT\t\t= 0,\n\tOCRDMA_ALLOC_LKEY_PD_ID_MASK\t\t= 0xFFFF,\n\n\tOCRDMA_ALLOC_LKEY_ADDR_CHECK_SHIFT\t= 0,\n\tOCRDMA_ALLOC_LKEY_ADDR_CHECK_MASK\t= BIT(0),\n\tOCRDMA_ALLOC_LKEY_FMR_SHIFT\t\t= 1,\n\tOCRDMA_ALLOC_LKEY_FMR_MASK\t\t= BIT(1),\n\tOCRDMA_ALLOC_LKEY_REMOTE_INV_SHIFT\t= 2,\n\tOCRDMA_ALLOC_LKEY_REMOTE_INV_MASK\t= BIT(2),\n\tOCRDMA_ALLOC_LKEY_REMOTE_WR_SHIFT\t= 3,\n\tOCRDMA_ALLOC_LKEY_REMOTE_WR_MASK\t= BIT(3),\n\tOCRDMA_ALLOC_LKEY_REMOTE_RD_SHIFT\t= 4,\n\tOCRDMA_ALLOC_LKEY_REMOTE_RD_MASK\t= BIT(4),\n\tOCRDMA_ALLOC_LKEY_LOCAL_WR_SHIFT\t= 5,\n\tOCRDMA_ALLOC_LKEY_LOCAL_WR_MASK\t\t= BIT(5),\n\tOCRDMA_ALLOC_LKEY_REMOTE_ATOMIC_MASK\t= BIT(6),\n\tOCRDMA_ALLOC_LKEY_REMOTE_ATOMIC_SHIFT\t= 6,\n\tOCRDMA_ALLOC_LKEY_PBL_SIZE_SHIFT\t= 16,\n\tOCRDMA_ALLOC_LKEY_PBL_SIZE_MASK\t\t= 0xFFFF <<\n\t\t\t\t\t\tOCRDMA_ALLOC_LKEY_PBL_SIZE_SHIFT\n};\n\nstruct ocrdma_alloc_lkey {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_hdr req;\n\n\tu32 pdid;\n\tu32 pbl_sz_flags;\n};\n\nstruct ocrdma_alloc_lkey_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rsp;\n\n\tu32 lrkey;\n\tu32 num_pbl_rsvd;\n};\n\nstruct ocrdma_dealloc_lkey {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_hdr req;\n\n\tu32 lkey;\n\tu32 rsvd_frmr;\n};\n\nstruct ocrdma_dealloc_lkey_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rsp;\n};\n\n#define MAX_OCRDMA_NSMR_PBL    (u32)22\n#define MAX_OCRDMA_PBL_SIZE     65536\n#define MAX_OCRDMA_PBL_PER_LKEY\t32767\n\nenum {\n\tOCRDMA_REG_NSMR_LRKEY_INDEX_SHIFT\t= 0,\n\tOCRDMA_REG_NSMR_LRKEY_INDEX_MASK\t= 0xFFFFFF,\n\tOCRDMA_REG_NSMR_LRKEY_SHIFT\t\t= 24,\n\tOCRDMA_REG_NSMR_LRKEY_MASK\t\t= 0xFF <<\n\t\t\t\t\tOCRDMA_REG_NSMR_LRKEY_SHIFT,\n\n\tOCRDMA_REG_NSMR_PD_ID_SHIFT\t\t= 0,\n\tOCRDMA_REG_NSMR_PD_ID_MASK\t\t= 0xFFFF,\n\tOCRDMA_REG_NSMR_NUM_PBL_SHIFT\t\t= 16,\n\tOCRDMA_REG_NSMR_NUM_PBL_MASK\t\t= 0xFFFF <<\n\t\t\t\t\tOCRDMA_REG_NSMR_NUM_PBL_SHIFT,\n\n\tOCRDMA_REG_NSMR_PBE_SIZE_SHIFT\t\t= 0,\n\tOCRDMA_REG_NSMR_PBE_SIZE_MASK\t\t= 0xFFFF,\n\tOCRDMA_REG_NSMR_HPAGE_SIZE_SHIFT\t= 16,\n\tOCRDMA_REG_NSMR_HPAGE_SIZE_MASK\t\t= 0xFF <<\n\t\t\t\t\tOCRDMA_REG_NSMR_HPAGE_SIZE_SHIFT,\n\tOCRDMA_REG_NSMR_BIND_MEMWIN_SHIFT\t= 24,\n\tOCRDMA_REG_NSMR_BIND_MEMWIN_MASK\t= BIT(24),\n\tOCRDMA_REG_NSMR_ZB_SHIFT\t\t= 25,\n\tOCRDMA_REG_NSMR_ZB_SHIFT_MASK\t\t= BIT(25),\n\tOCRDMA_REG_NSMR_REMOTE_INV_SHIFT\t= 26,\n\tOCRDMA_REG_NSMR_REMOTE_INV_MASK\t\t= BIT(26),\n\tOCRDMA_REG_NSMR_REMOTE_WR_SHIFT\t\t= 27,\n\tOCRDMA_REG_NSMR_REMOTE_WR_MASK\t\t= BIT(27),\n\tOCRDMA_REG_NSMR_REMOTE_RD_SHIFT\t\t= 28,\n\tOCRDMA_REG_NSMR_REMOTE_RD_MASK\t\t= BIT(28),\n\tOCRDMA_REG_NSMR_LOCAL_WR_SHIFT\t\t= 29,\n\tOCRDMA_REG_NSMR_LOCAL_WR_MASK\t\t= BIT(29),\n\tOCRDMA_REG_NSMR_REMOTE_ATOMIC_SHIFT\t= 30,\n\tOCRDMA_REG_NSMR_REMOTE_ATOMIC_MASK\t= BIT(30),\n\tOCRDMA_REG_NSMR_LAST_SHIFT\t\t= 31,\n\tOCRDMA_REG_NSMR_LAST_MASK\t\t= BIT(31)\n};\n\nstruct ocrdma_reg_nsmr {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_hdr cmd;\n\n\tu32 fr_mr;\n\tu32 num_pbl_pdid;\n\tu32 flags_hpage_pbe_sz;\n\tu32 totlen_low;\n\tu32 totlen_high;\n\tu32 fbo_low;\n\tu32 fbo_high;\n\tu32 va_loaddr;\n\tu32 va_hiaddr;\n\tstruct ocrdma_pa pbl[MAX_OCRDMA_NSMR_PBL];\n};\n\nenum {\n\tOCRDMA_REG_NSMR_CONT_PBL_SHIFT\t\t= 0,\n\tOCRDMA_REG_NSMR_CONT_PBL_SHIFT_MASK\t= 0xFFFF,\n\tOCRDMA_REG_NSMR_CONT_NUM_PBL_SHIFT\t= 16,\n\tOCRDMA_REG_NSMR_CONT_NUM_PBL_MASK\t= 0xFFFF <<\n\t\t\t\t\tOCRDMA_REG_NSMR_CONT_NUM_PBL_SHIFT,\n\n\tOCRDMA_REG_NSMR_CONT_LAST_SHIFT\t\t= 31,\n\tOCRDMA_REG_NSMR_CONT_LAST_MASK\t\t= BIT(31)\n};\n\nstruct ocrdma_reg_nsmr_cont {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_hdr cmd;\n\n\tu32 lrkey;\n\tu32 num_pbl_offset;\n\tu32 last;\n\n\tstruct ocrdma_pa pbl[MAX_OCRDMA_NSMR_PBL];\n};\n\nstruct ocrdma_pbe {\n\tu32 pa_hi;\n\tu32 pa_lo;\n};\n\nenum {\n\tOCRDMA_REG_NSMR_RSP_NUM_PBL_SHIFT\t= 16,\n\tOCRDMA_REG_NSMR_RSP_NUM_PBL_MASK\t= 0xFFFF0000\n};\nstruct ocrdma_reg_nsmr_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rsp;\n\n\tu32 lrkey;\n\tu32 num_pbl;\n};\n\nenum {\n\tOCRDMA_REG_NSMR_CONT_RSP_LRKEY_INDEX_SHIFT\t= 0,\n\tOCRDMA_REG_NSMR_CONT_RSP_LRKEY_INDEX_MASK\t= 0xFFFFFF,\n\tOCRDMA_REG_NSMR_CONT_RSP_LRKEY_SHIFT\t\t= 24,\n\tOCRDMA_REG_NSMR_CONT_RSP_LRKEY_MASK\t\t= 0xFF <<\n\t\t\t\t\tOCRDMA_REG_NSMR_CONT_RSP_LRKEY_SHIFT,\n\n\tOCRDMA_REG_NSMR_CONT_RSP_NUM_PBL_SHIFT\t\t= 16,\n\tOCRDMA_REG_NSMR_CONT_RSP_NUM_PBL_MASK\t\t= 0xFFFF <<\n\t\t\t\t\tOCRDMA_REG_NSMR_CONT_RSP_NUM_PBL_SHIFT\n};\n\nstruct ocrdma_reg_nsmr_cont_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rsp;\n\n\tu32 lrkey_key_index;\n\tu32 num_pbl;\n};\n\nenum {\n\tOCRDMA_ALLOC_MW_PD_ID_SHIFT\t= 0,\n\tOCRDMA_ALLOC_MW_PD_ID_MASK\t= 0xFFFF\n};\n\nstruct ocrdma_alloc_mw {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_hdr req;\n\n\tu32 pdid;\n};\n\nenum {\n\tOCRDMA_ALLOC_MW_RSP_LRKEY_INDEX_SHIFT\t= 0,\n\tOCRDMA_ALLOC_MW_RSP_LRKEY_INDEX_MASK\t= 0xFFFFFF\n};\n\nstruct ocrdma_alloc_mw_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rsp;\n\n\tu32 lrkey_index;\n};\n\nstruct ocrdma_attach_mcast {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_hdr req;\n\tu32 qp_id;\n\tu8 mgid[16];\n\tu32 mac_b0_to_b3;\n\tu32 vlan_mac_b4_to_b5;\n};\n\nstruct ocrdma_attach_mcast_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rsp;\n};\n\nstruct ocrdma_detach_mcast {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_hdr req;\n\tu32 qp_id;\n\tu8 mgid[16];\n\tu32 mac_b0_to_b3;\n\tu32 vlan_mac_b4_to_b5;\n};\n\nstruct ocrdma_detach_mcast_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rsp;\n};\n\nenum {\n\tOCRDMA_CREATE_AH_NUM_PAGES_SHIFT\t= 19,\n\tOCRDMA_CREATE_AH_NUM_PAGES_MASK\t\t= 0xF <<\n\t\t\t\t\tOCRDMA_CREATE_AH_NUM_PAGES_SHIFT,\n\n\tOCRDMA_CREATE_AH_PAGE_SIZE_SHIFT\t= 16,\n\tOCRDMA_CREATE_AH_PAGE_SIZE_MASK\t\t= 0x7 <<\n\t\t\t\t\tOCRDMA_CREATE_AH_PAGE_SIZE_SHIFT,\n\n\tOCRDMA_CREATE_AH_ENTRY_SIZE_SHIFT\t= 23,\n\tOCRDMA_CREATE_AH_ENTRY_SIZE_MASK\t= 0x1FF <<\n\t\t\t\t\tOCRDMA_CREATE_AH_ENTRY_SIZE_SHIFT,\n};\n\n#define OCRDMA_AH_TBL_PAGES 8\n\nstruct ocrdma_create_ah_tbl {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_hdr req;\n\n\tu32 ah_conf;\n\tstruct ocrdma_pa tbl_addr[8];\n};\n\nstruct ocrdma_create_ah_tbl_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rsp;\n\tu32 ahid;\n};\n\nstruct ocrdma_delete_ah_tbl {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_hdr req;\n\tu32 ahid;\n};\n\nstruct ocrdma_delete_ah_tbl_rsp {\n\tstruct ocrdma_mqe_hdr hdr;\n\tstruct ocrdma_mbx_rsp rsp;\n};\n\nenum {\n\tOCRDMA_EQE_VALID_SHIFT\t\t= 0,\n\tOCRDMA_EQE_VALID_MASK\t\t= BIT(0),\n\tOCRDMA_EQE_MAJOR_CODE_MASK      = 0x0E,\n\tOCRDMA_EQE_MAJOR_CODE_SHIFT     = 0x01,\n\tOCRDMA_EQE_FOR_CQE_MASK\t\t= 0xFFFE,\n\tOCRDMA_EQE_RESOURCE_ID_SHIFT\t= 16,\n\tOCRDMA_EQE_RESOURCE_ID_MASK\t= 0xFFFF <<\n\t\t\t\tOCRDMA_EQE_RESOURCE_ID_SHIFT,\n};\n\nenum major_code {\n\tOCRDMA_MAJOR_CODE_COMPLETION    = 0x00,\n\tOCRDMA_MAJOR_CODE_SENTINAL      = 0x01\n};\n\nstruct ocrdma_eqe {\n\tu32 id_valid;\n};\n\nenum OCRDMA_CQE_STATUS {\n\tOCRDMA_CQE_SUCCESS = 0,\n\tOCRDMA_CQE_LOC_LEN_ERR,\n\tOCRDMA_CQE_LOC_QP_OP_ERR,\n\tOCRDMA_CQE_LOC_EEC_OP_ERR,\n\tOCRDMA_CQE_LOC_PROT_ERR,\n\tOCRDMA_CQE_WR_FLUSH_ERR,\n\tOCRDMA_CQE_MW_BIND_ERR,\n\tOCRDMA_CQE_BAD_RESP_ERR,\n\tOCRDMA_CQE_LOC_ACCESS_ERR,\n\tOCRDMA_CQE_REM_INV_REQ_ERR,\n\tOCRDMA_CQE_REM_ACCESS_ERR,\n\tOCRDMA_CQE_REM_OP_ERR,\n\tOCRDMA_CQE_RETRY_EXC_ERR,\n\tOCRDMA_CQE_RNR_RETRY_EXC_ERR,\n\tOCRDMA_CQE_LOC_RDD_VIOL_ERR,\n\tOCRDMA_CQE_REM_INV_RD_REQ_ERR,\n\tOCRDMA_CQE_REM_ABORT_ERR,\n\tOCRDMA_CQE_INV_EECN_ERR,\n\tOCRDMA_CQE_INV_EEC_STATE_ERR,\n\tOCRDMA_CQE_FATAL_ERR,\n\tOCRDMA_CQE_RESP_TIMEOUT_ERR,\n\tOCRDMA_CQE_GENERAL_ERR,\n\n\tOCRDMA_MAX_CQE_ERR\n};\n\nenum {\n\t \n\tOCRDMA_CQE_WQEIDX_SHIFT\t\t= 0,\n\tOCRDMA_CQE_WQEIDX_MASK\t\t= 0xFFFF,\n\n\t \n\tOCRDMA_CQE_UD_XFER_LEN_SHIFT\t= 16,\n\tOCRDMA_CQE_UD_XFER_LEN_MASK     = 0x1FFF,\n\tOCRDMA_CQE_PKEY_SHIFT\t\t= 0,\n\tOCRDMA_CQE_PKEY_MASK\t\t= 0xFFFF,\n\tOCRDMA_CQE_UD_L3TYPE_SHIFT      = 29,\n\tOCRDMA_CQE_UD_L3TYPE_MASK       = 0x07,\n\n\t \n\tOCRDMA_CQE_QPN_SHIFT\t\t= 0,\n\tOCRDMA_CQE_QPN_MASK\t\t= 0x0000FFFF,\n\n\tOCRDMA_CQE_BUFTAG_SHIFT\t\t= 16,\n\tOCRDMA_CQE_BUFTAG_MASK\t\t= 0xFFFF << OCRDMA_CQE_BUFTAG_SHIFT,\n\n\t \n\tOCRDMA_CQE_UD_STATUS_SHIFT\t= 24,\n\tOCRDMA_CQE_UD_STATUS_MASK\t= 0x7 << OCRDMA_CQE_UD_STATUS_SHIFT,\n\tOCRDMA_CQE_STATUS_SHIFT\t\t= 16,\n\tOCRDMA_CQE_STATUS_MASK\t\t= 0xFF << OCRDMA_CQE_STATUS_SHIFT,\n\tOCRDMA_CQE_VALID\t\t= BIT(31),\n\tOCRDMA_CQE_INVALIDATE\t\t= BIT(30),\n\tOCRDMA_CQE_QTYPE\t\t= BIT(29),\n\tOCRDMA_CQE_IMM\t\t\t= BIT(28),\n\tOCRDMA_CQE_WRITE_IMM\t\t= BIT(27),\n\tOCRDMA_CQE_QTYPE_SQ\t\t= 0,\n\tOCRDMA_CQE_QTYPE_RQ\t\t= 1,\n\tOCRDMA_CQE_SRCQP_MASK\t\t= 0xFFFFFF\n};\n\nstruct ocrdma_cqe {\n\tunion {\n\t\t \n\t\tstruct {\n\t\t\tu32 wqeidx;\n\t\t\tu32 bytes_xfered;\n\t\t\tu32 qpn;\n\t\t} wq;\n\t\tstruct {\n\t\t\tu32 lkey_immdt;\n\t\t\tu32 rxlen;\n\t\t\tu32 buftag_qpn;\n\t\t} rq;\n\t\tstruct {\n\t\t\tu32 lkey_immdt;\n\t\t\tu32 rxlen_pkey;\n\t\t\tu32 buftag_qpn;\n\t\t} ud;\n\t\tstruct {\n\t\t\tu32 word_0;\n\t\t\tu32 word_1;\n\t\t\tu32 qpn;\n\t\t} cmn;\n\t};\n\tu32 flags_status_srcqpn;\t \n};\n\nstruct ocrdma_sge {\n\tu32 addr_hi;\n\tu32 addr_lo;\n\tu32 lrkey;\n\tu32 len;\n};\n\nenum {\n\tOCRDMA_FLAG_SIG\t\t= 0x1,\n\tOCRDMA_FLAG_INV\t\t= 0x2,\n\tOCRDMA_FLAG_FENCE_L\t= 0x4,\n\tOCRDMA_FLAG_FENCE_R\t= 0x8,\n\tOCRDMA_FLAG_SOLICIT\t= 0x10,\n\tOCRDMA_FLAG_IMM\t\t= 0x20,\n\tOCRDMA_FLAG_AH_VLAN_PR  = 0x40,\n\n\t \n\tOCRDMA_LKEY_FLAG_LOCAL_WR\t= 0x1,\n\tOCRDMA_LKEY_FLAG_REMOTE_RD\t= 0x2,\n\tOCRDMA_LKEY_FLAG_REMOTE_WR\t= 0x4,\n\tOCRDMA_LKEY_FLAG_VATO\t\t= 0x8,\n};\n\nenum OCRDMA_WQE_OPCODE {\n\tOCRDMA_WRITE\t\t= 0x06,\n\tOCRDMA_READ\t\t= 0x0C,\n\tOCRDMA_RESV0\t\t= 0x02,\n\tOCRDMA_SEND\t\t= 0x00,\n\tOCRDMA_CMP_SWP\t\t= 0x14,\n\tOCRDMA_BIND_MW\t\t= 0x10,\n\tOCRDMA_FR_MR            = 0x11,\n\tOCRDMA_RESV1\t\t= 0x0A,\n\tOCRDMA_LKEY_INV\t\t= 0x15,\n\tOCRDMA_FETCH_ADD\t= 0x13,\n\tOCRDMA_POST_RQ\t\t= 0x12\n};\n\nenum {\n\tOCRDMA_TYPE_INLINE\t= 0x0,\n\tOCRDMA_TYPE_LKEY\t= 0x1,\n};\n\nenum {\n\tOCRDMA_WQE_OPCODE_SHIFT\t\t= 0,\n\tOCRDMA_WQE_OPCODE_MASK\t\t= 0x0000001F,\n\tOCRDMA_WQE_FLAGS_SHIFT\t\t= 5,\n\tOCRDMA_WQE_TYPE_SHIFT\t\t= 16,\n\tOCRDMA_WQE_TYPE_MASK\t\t= 0x00030000,\n\tOCRDMA_WQE_SIZE_SHIFT\t\t= 18,\n\tOCRDMA_WQE_SIZE_MASK\t\t= 0xFF,\n\tOCRDMA_WQE_NXT_WQE_SIZE_SHIFT\t= 25,\n\n\tOCRDMA_WQE_LKEY_FLAGS_SHIFT\t= 0,\n\tOCRDMA_WQE_LKEY_FLAGS_MASK\t= 0xF\n};\n\n \nstruct ocrdma_hdr_wqe {\n\tu32 cw;\n\tunion {\n\t\tu32 rsvd_tag;\n\t\tu32 rsvd_lkey_flags;\n\t};\n\tunion {\n\t\tu32 immdt;\n\t\tu32 lkey;\n\t};\n\tu32 total_len;\n};\n\nstruct ocrdma_ewqe_ud_hdr {\n\tu32 rsvd_dest_qpn;\n\tu32 qkey;\n\tu32 rsvd_ahid;\n\tu32 hdr_type;\n};\n\n \nstruct ocrdma_ewqe_fr {\n\tu32 va_hi;\n\tu32 va_lo;\n\tu32 fbo_hi;\n\tu32 fbo_lo;\n\tu32 size_sge;\n\tu32 num_sges;\n\tu32 rsvd;\n\tu32 rsvd2;\n};\n\nstruct ocrdma_eth_basic {\n\tu8 dmac[6];\n\tu8 smac[6];\n\t__be16 eth_type;\n} __packed;\n\nstruct ocrdma_eth_vlan {\n\tu8 dmac[6];\n\tu8 smac[6];\n\t__be16 eth_type;\n\t__be16 vlan_tag;\n\t__be16 roce_eth_type;\n} __packed;\n\nstruct ocrdma_grh {\n\t__be32\ttclass_flow;\n\t__be32\tpdid_hoplimit;\n\tu8\tsgid[16];\n\tu8\tdgid[16];\n\tu16\trsvd;\n} __packed;\n\n#define OCRDMA_AV_VALID\t\tBIT(7)\n#define OCRDMA_AV_VLAN_VALID\tBIT(1)\n\nstruct ocrdma_av {\n\tstruct ocrdma_eth_vlan eth_hdr;\n\tstruct ocrdma_grh grh;\n\tu32 valid;\n} __packed;\n\nstruct ocrdma_rsrc_stats {\n\tu32 dpp_pds;\n\tu32 non_dpp_pds;\n\tu32 rc_dpp_qps;\n\tu32 uc_dpp_qps;\n\tu32 ud_dpp_qps;\n\tu32 rc_non_dpp_qps;\n\tu32 rsvd;\n\tu32 uc_non_dpp_qps;\n\tu32 ud_non_dpp_qps;\n\tu32 rsvd1;\n\tu32 srqs;\n\tu32 rbqs;\n\tu32 r64K_nsmr;\n\tu32 r64K_to_2M_nsmr;\n\tu32 r2M_to_44M_nsmr;\n\tu32 r44M_to_1G_nsmr;\n\tu32 r1G_to_4G_nsmr;\n\tu32 nsmr_count_4G_to_32G;\n\tu32 r32G_to_64G_nsmr;\n\tu32 r64G_to_128G_nsmr;\n\tu32 r128G_to_higher_nsmr;\n\tu32 embedded_nsmr;\n\tu32 frmr;\n\tu32 prefetch_qps;\n\tu32 ondemand_qps;\n\tu32 phy_mr;\n\tu32 mw;\n\tu32 rsvd2[7];\n};\n\nstruct ocrdma_db_err_stats {\n\tu32 sq_doorbell_errors;\n\tu32 cq_doorbell_errors;\n\tu32 rq_srq_doorbell_errors;\n\tu32 cq_overflow_errors;\n\tu32 rsvd[4];\n};\n\nstruct ocrdma_wqe_stats {\n\tu32 large_send_rc_wqes_lo;\n\tu32 large_send_rc_wqes_hi;\n\tu32 large_write_rc_wqes_lo;\n\tu32 large_write_rc_wqes_hi;\n\tu32 rsvd[4];\n\tu32 read_wqes_lo;\n\tu32 read_wqes_hi;\n\tu32 frmr_wqes_lo;\n\tu32 frmr_wqes_hi;\n\tu32 mw_bind_wqes_lo;\n\tu32 mw_bind_wqes_hi;\n\tu32 invalidate_wqes_lo;\n\tu32 invalidate_wqes_hi;\n\tu32 rsvd1[2];\n\tu32 dpp_wqe_drops;\n\tu32 rsvd2[5];\n};\n\nstruct ocrdma_tx_stats {\n\tu32 send_pkts_lo;\n\tu32 send_pkts_hi;\n\tu32 write_pkts_lo;\n\tu32 write_pkts_hi;\n\tu32 read_pkts_lo;\n\tu32 read_pkts_hi;\n\tu32 read_rsp_pkts_lo;\n\tu32 read_rsp_pkts_hi;\n\tu32 ack_pkts_lo;\n\tu32 ack_pkts_hi;\n\tu32 send_bytes_lo;\n\tu32 send_bytes_hi;\n\tu32 write_bytes_lo;\n\tu32 write_bytes_hi;\n\tu32 read_req_bytes_lo;\n\tu32 read_req_bytes_hi;\n\tu32 read_rsp_bytes_lo;\n\tu32 read_rsp_bytes_hi;\n\tu32 ack_timeouts;\n\tu32 rsvd[5];\n};\n\n\nstruct ocrdma_tx_qp_err_stats {\n\tu32 local_length_errors;\n\tu32 local_protection_errors;\n\tu32 local_qp_operation_errors;\n\tu32 retry_count_exceeded_errors;\n\tu32 rnr_retry_count_exceeded_errors;\n\tu32 rsvd[3];\n};\n\nstruct ocrdma_rx_stats {\n\tu32 roce_frame_bytes_lo;\n\tu32 roce_frame_bytes_hi;\n\tu32 roce_frame_icrc_drops;\n\tu32 roce_frame_payload_len_drops;\n\tu32 ud_drops;\n\tu32 qp1_drops;\n\tu32 psn_error_request_packets;\n\tu32 psn_error_resp_packets;\n\tu32 rnr_nak_timeouts;\n\tu32 rnr_nak_receives;\n\tu32 roce_frame_rxmt_drops;\n\tu32 nak_count_psn_sequence_errors;\n\tu32 rc_drop_count_lookup_errors;\n\tu32 rq_rnr_naks;\n\tu32 srq_rnr_naks;\n\tu32 roce_frames_lo;\n\tu32 roce_frames_hi;\n\tu32 rsvd;\n};\n\nstruct ocrdma_rx_qp_err_stats {\n\tu32 nak_invalid_request_errors;\n\tu32 nak_remote_operation_errors;\n\tu32 nak_count_remote_access_errors;\n\tu32 local_length_errors;\n\tu32 local_protection_errors;\n\tu32 local_qp_operation_errors;\n\tu32 rsvd[2];\n};\n\nstruct ocrdma_tx_dbg_stats {\n\tu32 data[100];\n};\n\nstruct ocrdma_rx_dbg_stats {\n\tu32 data[200];\n};\n\nstruct ocrdma_rdma_stats_req {\n\tstruct ocrdma_mbx_hdr hdr;\n\tu8 reset_stats;\n\tu8 rsvd[3];\n} __packed;\n\nstruct ocrdma_rdma_stats_resp {\n\tstruct ocrdma_mbx_hdr hdr;\n\tstruct ocrdma_rsrc_stats act_rsrc_stats;\n\tstruct ocrdma_rsrc_stats th_rsrc_stats;\n\tstruct ocrdma_db_err_stats\tdb_err_stats;\n\tstruct ocrdma_wqe_stats\t\twqe_stats;\n\tstruct ocrdma_tx_stats\t\ttx_stats;\n\tstruct ocrdma_tx_qp_err_stats\ttx_qp_err_stats;\n\tstruct ocrdma_rx_stats\t\trx_stats;\n\tstruct ocrdma_rx_qp_err_stats\trx_qp_err_stats;\n\tstruct ocrdma_tx_dbg_stats\ttx_dbg_stats;\n\tstruct ocrdma_rx_dbg_stats\trx_dbg_stats;\n} __packed;\n\nenum {\n\tOCRDMA_HBA_ATTRB_EPROM_VER_LO_MASK\t= 0xFF,\n\tOCRDMA_HBA_ATTRB_EPROM_VER_HI_MASK\t= 0xFF00,\n\tOCRDMA_HBA_ATTRB_EPROM_VER_HI_SHIFT\t= 0x08,\n\tOCRDMA_HBA_ATTRB_CDBLEN_MASK\t\t= 0xFFFF,\n\tOCRDMA_HBA_ATTRB_ASIC_REV_MASK\t\t= 0xFF0000,\n\tOCRDMA_HBA_ATTRB_ASIC_REV_SHIFT\t\t= 0x10,\n\tOCRDMA_HBA_ATTRB_GUID0_MASK\t\t= 0xFF000000,\n\tOCRDMA_HBA_ATTRB_GUID0_SHIFT\t\t= 0x18,\n\tOCRDMA_HBA_ATTRB_GUID13_MASK\t\t= 0xFF,\n\tOCRDMA_HBA_ATTRB_GUID14_MASK\t\t= 0xFF00,\n\tOCRDMA_HBA_ATTRB_GUID14_SHIFT\t\t= 0x08,\n\tOCRDMA_HBA_ATTRB_GUID15_MASK\t\t= 0xFF0000,\n\tOCRDMA_HBA_ATTRB_GUID15_SHIFT\t\t= 0x10,\n\tOCRDMA_HBA_ATTRB_PCNT_MASK\t\t= 0xFF000000,\n\tOCRDMA_HBA_ATTRB_PCNT_SHIFT\t\t= 0x18,\n\tOCRDMA_HBA_ATTRB_LDTOUT_MASK\t\t= 0xFFFF,\n\tOCRDMA_HBA_ATTRB_ISCSI_VER_MASK\t\t= 0xFF0000,\n\tOCRDMA_HBA_ATTRB_ISCSI_VER_SHIFT\t= 0x10,\n\tOCRDMA_HBA_ATTRB_MFUNC_DEV_MASK\t\t= 0xFF000000,\n\tOCRDMA_HBA_ATTRB_MFUNC_DEV_SHIFT\t= 0x18,\n\tOCRDMA_HBA_ATTRB_CV_MASK\t\t= 0xFF,\n\tOCRDMA_HBA_ATTRB_HBA_ST_MASK\t\t= 0xFF00,\n\tOCRDMA_HBA_ATTRB_HBA_ST_SHIFT\t\t= 0x08,\n\tOCRDMA_HBA_ATTRB_MAX_DOMS_MASK\t\t= 0xFF0000,\n\tOCRDMA_HBA_ATTRB_MAX_DOMS_SHIFT\t\t= 0x10,\n\tOCRDMA_HBA_ATTRB_PTNUM_MASK\t\t= 0x3F000000,\n\tOCRDMA_HBA_ATTRB_PTNUM_SHIFT\t\t= 0x18,\n\tOCRDMA_HBA_ATTRB_PT_MASK\t\t= 0xC0000000,\n\tOCRDMA_HBA_ATTRB_PT_SHIFT\t\t= 0x1E,\n\tOCRDMA_HBA_ATTRB_ISCSI_FET_MASK\t\t= 0xFF,\n\tOCRDMA_HBA_ATTRB_ASIC_GEN_MASK\t\t= 0xFF00,\n\tOCRDMA_HBA_ATTRB_ASIC_GEN_SHIFT\t\t= 0x08,\n\tOCRDMA_HBA_ATTRB_PCI_VID_MASK\t\t= 0xFFFF,\n\tOCRDMA_HBA_ATTRB_PCI_DID_MASK\t\t= 0xFFFF0000,\n\tOCRDMA_HBA_ATTRB_PCI_DID_SHIFT\t\t= 0x10,\n\tOCRDMA_HBA_ATTRB_PCI_SVID_MASK\t\t= 0xFFFF,\n\tOCRDMA_HBA_ATTRB_PCI_SSID_MASK\t\t= 0xFFFF0000,\n\tOCRDMA_HBA_ATTRB_PCI_SSID_SHIFT\t\t= 0x10,\n\tOCRDMA_HBA_ATTRB_PCI_BUSNUM_MASK\t= 0xFF,\n\tOCRDMA_HBA_ATTRB_PCI_DEVNUM_MASK\t= 0xFF00,\n\tOCRDMA_HBA_ATTRB_PCI_DEVNUM_SHIFT\t= 0x08,\n\tOCRDMA_HBA_ATTRB_PCI_FUNCNUM_MASK\t= 0xFF0000,\n\tOCRDMA_HBA_ATTRB_PCI_FUNCNUM_SHIFT\t= 0x10,\n\tOCRDMA_HBA_ATTRB_IF_TYPE_MASK\t\t= 0xFF000000,\n\tOCRDMA_HBA_ATTRB_IF_TYPE_SHIFT\t\t= 0x18,\n\tOCRDMA_HBA_ATTRB_NETFIL_MASK\t\t=0xFF\n};\n\nstruct mgmt_hba_attribs {\n\tu8 flashrom_version_string[32];\n\tu8 manufacturer_name[32];\n\tu32 supported_modes;\n\tu32 rsvd_eprom_verhi_verlo;\n\tu32 mbx_ds_ver;\n\tu32 epfw_ds_ver;\n\tu8 ncsi_ver_string[12];\n\tu32 default_extended_timeout;\n\tu8 controller_model_number[32];\n\tu8 controller_description[64];\n\tu8 controller_serial_number[32];\n\tu8 ip_version_string[32];\n\tu8 firmware_version_string[32];\n\tu8 bios_version_string[32];\n\tu8 redboot_version_string[32];\n\tu8 driver_version_string[32];\n\tu8 fw_on_flash_version_string[32];\n\tu32 functionalities_supported;\n\tu32 guid0_asicrev_cdblen;\n\tu8 generational_guid[12];\n\tu32 portcnt_guid15;\n\tu32 mfuncdev_iscsi_ldtout;\n\tu32 ptpnum_maxdoms_hbast_cv;\n\tu32 firmware_post_status;\n\tu32 hba_mtu[8];\n\tu32 res_asicgen_iscsi_feaures;\n\tu32 rsvd1[3];\n};\n\nstruct mgmt_controller_attrib {\n\tstruct mgmt_hba_attribs hba_attribs;\n\tu32 pci_did_vid;\n\tu32 pci_ssid_svid;\n\tu32 ityp_fnum_devnum_bnum;\n\tu32 uid_hi;\n\tu32 uid_lo;\n\tu32 res_nnetfil;\n\tu32 rsvd0[4];\n};\n\nstruct ocrdma_get_ctrl_attribs_rsp {\n\tstruct ocrdma_mbx_hdr hdr;\n\tstruct mgmt_controller_attrib ctrl_attribs;\n};\n\n#define OCRDMA_SUBSYS_DCBX 0x10\n\nenum OCRDMA_DCBX_OPCODE {\n\tOCRDMA_CMD_GET_DCBX_CONFIG = 0x01\n};\n\nenum OCRDMA_DCBX_PARAM_TYPE {\n\tOCRDMA_PARAMETER_TYPE_ADMIN\t= 0x00,\n\tOCRDMA_PARAMETER_TYPE_OPER\t= 0x01,\n\tOCRDMA_PARAMETER_TYPE_PEER\t= 0x02\n};\n\nenum OCRDMA_DCBX_PROTO {\n\tOCRDMA_PROTO_SELECT_L2\t= 0x00,\n\tOCRDMA_PROTO_SELECT_L4\t= 0x01\n};\n\nenum OCRDMA_DCBX_APP_PARAM {\n\tOCRDMA_APP_PARAM_APP_PROTO_MASK = 0xFFFF,\n\tOCRDMA_APP_PARAM_PROTO_SEL_MASK = 0xFF,\n\tOCRDMA_APP_PARAM_PROTO_SEL_SHIFT = 0x10,\n\tOCRDMA_APP_PARAM_VALID_MASK\t= 0xFF,\n\tOCRDMA_APP_PARAM_VALID_SHIFT\t= 0x18\n};\n\nenum OCRDMA_DCBX_STATE_FLAGS {\n\tOCRDMA_STATE_FLAG_ENABLED\t= 0x01,\n\tOCRDMA_STATE_FLAG_ADDVERTISED\t= 0x02,\n\tOCRDMA_STATE_FLAG_WILLING\t= 0x04,\n\tOCRDMA_STATE_FLAG_SYNC\t\t= 0x08,\n\tOCRDMA_STATE_FLAG_UNSUPPORTED\t= 0x40000000,\n\tOCRDMA_STATE_FLAG_NEG_FAILD\t= 0x80000000\n};\n\nenum OCRDMA_TCV_AEV_OPV_ST {\n\tOCRDMA_DCBX_TC_SUPPORT_MASK\t= 0xFF,\n\tOCRDMA_DCBX_TC_SUPPORT_SHIFT\t= 0x18,\n\tOCRDMA_DCBX_APP_ENTRY_SHIFT\t= 0x10,\n\tOCRDMA_DCBX_OP_PARAM_SHIFT\t= 0x08,\n\tOCRDMA_DCBX_STATE_MASK\t\t= 0xFF\n};\n\nstruct ocrdma_app_parameter {\n\tu32 valid_proto_app;\n\tu32 oui;\n\tu32 app_prio[2];\n};\n\nstruct ocrdma_dcbx_cfg {\n\tu32 tcv_aev_opv_st;\n\tu32 tc_state;\n\tu32 pfc_state;\n\tu32 qcn_state;\n\tu32 appl_state;\n\tu32 ll_state;\n\tu32 tc_bw[2];\n\tu32 tc_prio[8];\n\tu32 pfc_prio[2];\n\tstruct ocrdma_app_parameter app_param[15];\n};\n\nstruct ocrdma_get_dcbx_cfg_req {\n\tstruct ocrdma_mbx_hdr hdr;\n\tu32 param_type;\n} __packed;\n\nstruct ocrdma_get_dcbx_cfg_rsp {\n\tstruct ocrdma_mbx_rsp hdr;\n\tstruct ocrdma_dcbx_cfg cfg;\n} __packed;\n\n#endif\t\t\t\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}