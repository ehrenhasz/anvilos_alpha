{
  "module_name": "efa_io_defs.h",
  "hash_id": "658d96c48bf18253a882cd4c9dc799e5377957bb9aede335fbe2f18c8bb46ccb",
  "original_prompt": "Ingested from linux-6.6.14/drivers/infiniband/hw/efa/efa_io_defs.h",
  "human_readable_source": " \n \n\n#ifndef _EFA_IO_H_\n#define _EFA_IO_H_\n\n#define EFA_IO_TX_DESC_NUM_BUFS              2\n#define EFA_IO_TX_DESC_NUM_RDMA_BUFS         1\n#define EFA_IO_TX_DESC_INLINE_MAX_SIZE       32\n#define EFA_IO_TX_DESC_IMM_DATA_SIZE         4\n\nenum efa_io_queue_type {\n\t \n\tEFA_IO_SEND_QUEUE                           = 1,\n\t \n\tEFA_IO_RECV_QUEUE                           = 2,\n};\n\nenum efa_io_send_op_type {\n\t \n\tEFA_IO_SEND                                 = 0,\n\t \n\tEFA_IO_RDMA_READ                            = 1,\n\t \n\tEFA_IO_RDMA_WRITE                           = 2,\n};\n\nenum efa_io_comp_status {\n\t \n\tEFA_IO_COMP_STATUS_OK                       = 0,\n\t \n\tEFA_IO_COMP_STATUS_FLUSHED                  = 1,\n\t \n\tEFA_IO_COMP_STATUS_LOCAL_ERROR_QP_INTERNAL_ERROR = 2,\n\t \n\tEFA_IO_COMP_STATUS_LOCAL_ERROR_INVALID_OP_TYPE = 3,\n\t \n\tEFA_IO_COMP_STATUS_LOCAL_ERROR_INVALID_AH   = 4,\n\t \n\tEFA_IO_COMP_STATUS_LOCAL_ERROR_INVALID_LKEY = 5,\n\t \n\tEFA_IO_COMP_STATUS_LOCAL_ERROR_BAD_LENGTH   = 6,\n\t \n\tEFA_IO_COMP_STATUS_REMOTE_ERROR_BAD_ADDRESS = 7,\n\t \n\tEFA_IO_COMP_STATUS_REMOTE_ERROR_ABORT       = 8,\n\t \n\tEFA_IO_COMP_STATUS_REMOTE_ERROR_BAD_DEST_QPN = 9,\n\t \n\tEFA_IO_COMP_STATUS_REMOTE_ERROR_RNR         = 10,\n\t \n\tEFA_IO_COMP_STATUS_REMOTE_ERROR_BAD_LENGTH  = 11,\n\t \n\tEFA_IO_COMP_STATUS_REMOTE_ERROR_BAD_STATUS  = 12,\n\t \n\tEFA_IO_COMP_STATUS_LOCAL_ERROR_UNRESP_REMOTE = 13,\n};\n\nstruct efa_io_tx_meta_desc {\n\t \n\tu16 req_id;\n\n\t \n\tu8 ctrl1;\n\n\t \n\tu8 ctrl2;\n\n\tu16 dest_qp_num;\n\n\t \n\tu16 length;\n\n\t \n\tu32 immediate_data;\n\n\tu16 ah;\n\n\tu16 reserved;\n\n\t \n\tu32 qkey;\n\n\tu8 reserved2[12];\n};\n\n \nstruct efa_io_tx_buf_desc {\n\t \n\tu32 length;\n\n\t \n\tu32 lkey;\n\n\t \n\tu32 buf_addr_lo;\n\n\t \n\tu32 buf_addr_hi;\n};\n\nstruct efa_io_remote_mem_addr {\n\t \n\tu32 length;\n\n\t \n\tu32 rkey;\n\n\t \n\tu32 buf_addr_lo;\n\n\t \n\tu32 buf_addr_hi;\n};\n\nstruct efa_io_rdma_req {\n\t \n\tstruct efa_io_remote_mem_addr remote_mem;\n\n\t \n\tstruct efa_io_tx_buf_desc local_mem[1];\n};\n\n \nstruct efa_io_tx_wqe {\n\t \n\tstruct efa_io_tx_meta_desc meta;\n\n\tunion {\n\t\t \n\t\tstruct efa_io_tx_buf_desc sgl[2];\n\n\t\tu8 inline_data[32];\n\n\t\t \n\t\tstruct efa_io_rdma_req rdma_req;\n\t} data;\n};\n\n \nstruct efa_io_rx_desc {\n\t \n\tu32 buf_addr_lo;\n\n\t \n\tu32 buf_addr_hi;\n\n\t \n\tu16 req_id;\n\n\t \n\tu16 length;\n\n\t \n\tu32 lkey_ctrl;\n};\n\n \nstruct efa_io_cdesc_common {\n\t \n\tu16 req_id;\n\n\tu8 status;\n\n\t \n\tu8 flags;\n\n\t \n\tu16 qp_num;\n};\n\n \nstruct efa_io_tx_cdesc {\n\t \n\tstruct efa_io_cdesc_common common;\n\n\t \n\tu16 reserved16;\n};\n\n \nstruct efa_io_rx_cdesc {\n\t \n\tstruct efa_io_cdesc_common common;\n\n\t \n\tu16 length;\n\n\t \n\tu16 ah;\n\n\tu16 src_qp_num;\n\n\t \n\tu32 imm;\n};\n\n \nstruct efa_io_rx_cdesc_rdma_write {\n\t \n\tu16 length_hi;\n};\n\n \nstruct efa_io_rx_cdesc_ex {\n\t \n\tstruct efa_io_rx_cdesc base;\n\n\tunion {\n\t\tstruct efa_io_rx_cdesc_rdma_write rdma_write;\n\n\t\t \n\t\tu8 src_addr[16];\n\t} u;\n};\n\n \n#define EFA_IO_TX_META_DESC_OP_TYPE_MASK                    GENMASK(3, 0)\n#define EFA_IO_TX_META_DESC_HAS_IMM_MASK                    BIT(4)\n#define EFA_IO_TX_META_DESC_INLINE_MSG_MASK                 BIT(5)\n#define EFA_IO_TX_META_DESC_META_EXTENSION_MASK             BIT(6)\n#define EFA_IO_TX_META_DESC_META_DESC_MASK                  BIT(7)\n#define EFA_IO_TX_META_DESC_PHASE_MASK                      BIT(0)\n#define EFA_IO_TX_META_DESC_FIRST_MASK                      BIT(2)\n#define EFA_IO_TX_META_DESC_LAST_MASK                       BIT(3)\n#define EFA_IO_TX_META_DESC_COMP_REQ_MASK                   BIT(4)\n\n \n#define EFA_IO_TX_BUF_DESC_LKEY_MASK                        GENMASK(23, 0)\n\n \n#define EFA_IO_RX_DESC_LKEY_MASK                            GENMASK(23, 0)\n#define EFA_IO_RX_DESC_FIRST_MASK                           BIT(30)\n#define EFA_IO_RX_DESC_LAST_MASK                            BIT(31)\n\n \n#define EFA_IO_CDESC_COMMON_PHASE_MASK                      BIT(0)\n#define EFA_IO_CDESC_COMMON_Q_TYPE_MASK                     GENMASK(2, 1)\n#define EFA_IO_CDESC_COMMON_HAS_IMM_MASK                    BIT(3)\n#define EFA_IO_CDESC_COMMON_OP_TYPE_MASK                    GENMASK(6, 4)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}