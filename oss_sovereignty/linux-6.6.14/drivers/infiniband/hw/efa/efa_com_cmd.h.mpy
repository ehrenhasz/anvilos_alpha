{
  "module_name": "efa_com_cmd.h",
  "hash_id": "e0b1f8a508569e5f65e8cb21f70127d5c0882b5988d312d45a8a175e32f03443",
  "original_prompt": "Ingested from linux-6.6.14/drivers/infiniband/hw/efa/efa_com_cmd.h",
  "human_readable_source": " \n \n\n#ifndef _EFA_COM_CMD_H_\n#define _EFA_COM_CMD_H_\n\n#include \"efa_com.h\"\n\n#define EFA_GID_SIZE 16\n\nstruct efa_com_create_qp_params {\n\tu64 rq_base_addr;\n\tu32 send_cq_idx;\n\tu32 recv_cq_idx;\n\t \n\tu32 sq_ring_size_in_bytes;\n\t \n\tu32 sq_depth;\n\t \n\tu32 rq_ring_size_in_bytes;\n\tu32 rq_depth;\n\tu16 pd;\n\tu16 uarn;\n\tu8 qp_type;\n};\n\nstruct efa_com_create_qp_result {\n\tu32 qp_handle;\n\tu32 qp_num;\n\tu32 sq_db_offset;\n\tu32 rq_db_offset;\n\tu32 llq_descriptors_offset;\n\tu16 send_sub_cq_idx;\n\tu16 recv_sub_cq_idx;\n};\n\nstruct efa_com_modify_qp_params {\n\tu32 modify_mask;\n\tu32 qp_handle;\n\tu32 qp_state;\n\tu32 cur_qp_state;\n\tu32 qkey;\n\tu32 sq_psn;\n\tu8 sq_drained_async_notify;\n\tu8 rnr_retry;\n};\n\nstruct efa_com_query_qp_params {\n\tu32 qp_handle;\n};\n\nstruct efa_com_query_qp_result {\n\tu32 qp_state;\n\tu32 qkey;\n\tu32 sq_draining;\n\tu32 sq_psn;\n\tu8 rnr_retry;\n};\n\nstruct efa_com_destroy_qp_params {\n\tu32 qp_handle;\n};\n\nstruct efa_com_create_cq_params {\n\t \n\tdma_addr_t dma_addr;\n\t \n\tu16 cq_depth;\n\tu16 num_sub_cqs;\n\tu16 uarn;\n\tu16 eqn;\n\tu8 entry_size_in_bytes;\n\tu8 interrupt_mode_enabled : 1;\n\tu8 set_src_addr : 1;\n};\n\nstruct efa_com_create_cq_result {\n\t \n\tu16 cq_idx;\n\t \n\tu16 actual_depth;\n\tu32 db_off;\n\tbool db_valid;\n};\n\nstruct efa_com_destroy_cq_params {\n\tu16 cq_idx;\n};\n\nstruct efa_com_create_ah_params {\n\tu16 pdn;\n\t \n\tu8 dest_addr[EFA_GID_SIZE];\n};\n\nstruct efa_com_create_ah_result {\n\tu16 ah;\n};\n\nstruct efa_com_destroy_ah_params {\n\tu16 ah;\n\tu16 pdn;\n};\n\nstruct efa_com_get_device_attr_result {\n\tu8 addr[EFA_GID_SIZE];\n\tu64 page_size_cap;\n\tu64 max_mr_pages;\n\tu32 mtu;\n\tu32 fw_version;\n\tu32 admin_api_version;\n\tu32 device_version;\n\tu32 supported_features;\n\tu32 phys_addr_width;\n\tu32 virt_addr_width;\n\tu32 max_qp;\n\tu32 max_sq_depth;  \n\tu32 max_rq_depth;  \n\tu32 max_cq;\n\tu32 max_cq_depth;  \n\tu32 inline_buf_size;\n\tu32 max_mr;\n\tu32 max_pd;\n\tu32 max_ah;\n\tu32 max_llq_size;\n\tu32 max_rdma_size;\n\tu32 device_caps;\n\tu32 max_eq;\n\tu32 max_eq_depth;\n\tu32 event_bitmask;  \n\tu16 sub_cqs_per_cq;\n\tu16 max_sq_sge;\n\tu16 max_rq_sge;\n\tu16 max_wr_rdma_sge;\n\tu16 max_tx_batch;\n\tu16 min_sq_depth;\n\tu8 db_bar;\n};\n\nstruct efa_com_get_hw_hints_result {\n\tu16 mmio_read_timeout;\n\tu16 driver_watchdog_timeout;\n\tu16 admin_completion_timeout;\n\tu16 poll_interval;\n\tu32 reserved[4];\n};\n\nstruct efa_com_mem_addr {\n\tu32 mem_addr_low;\n\tu32 mem_addr_high;\n};\n\n \nstruct efa_com_ctrl_buff_info {\n\t \n\tu32 length;\n\t \n\tstruct efa_com_mem_addr address;\n};\n\nstruct efa_com_reg_mr_params {\n\t \n\tu64 mr_length_in_bytes;\n\t \n\tu64 iova;\n\t \n\tunion {\n\t\t \n\t\tu64 inline_pbl_array[4];\n\t\t \n\t\tstruct efa_com_ctrl_buff_info pbl;\n\t} pbl;\n\t \n\tu32 page_num;\n\t \n\tu16 pd;\n\t \n\tu8 page_shift;\n\t \n\tu8 permissions;\n\tu8 inline_pbl;\n\tu8 indirect;\n};\n\nstruct efa_com_reg_mr_result {\n\t \n\tu32 l_key;\n\t \n\tu32 r_key;\n};\n\nstruct efa_com_dereg_mr_params {\n\tu32 l_key;\n};\n\nstruct efa_com_alloc_pd_result {\n\tu16 pdn;\n};\n\nstruct efa_com_dealloc_pd_params {\n\tu16 pdn;\n};\n\nstruct efa_com_alloc_uar_result {\n\tu16 uarn;\n};\n\nstruct efa_com_dealloc_uar_params {\n\tu16 uarn;\n};\n\nstruct efa_com_get_stats_params {\n\t \n\tu8 type;\n\t \n\tu8 scope;\n\tu16 scope_modifier;\n};\n\nstruct efa_com_basic_stats {\n\tu64 tx_bytes;\n\tu64 tx_pkts;\n\tu64 rx_bytes;\n\tu64 rx_pkts;\n\tu64 rx_drops;\n};\n\nstruct efa_com_messages_stats {\n\tu64 send_bytes;\n\tu64 send_wrs;\n\tu64 recv_bytes;\n\tu64 recv_wrs;\n};\n\nstruct efa_com_rdma_read_stats {\n\tu64 read_wrs;\n\tu64 read_bytes;\n\tu64 read_wr_err;\n\tu64 read_resp_bytes;\n};\n\nstruct efa_com_rdma_write_stats {\n\tu64 write_wrs;\n\tu64 write_bytes;\n\tu64 write_wr_err;\n\tu64 write_recv_bytes;\n};\n\nunion efa_com_get_stats_result {\n\tstruct efa_com_basic_stats basic_stats;\n\tstruct efa_com_messages_stats messages_stats;\n\tstruct efa_com_rdma_read_stats rdma_read_stats;\n\tstruct efa_com_rdma_write_stats rdma_write_stats;\n};\n\nint efa_com_create_qp(struct efa_com_dev *edev,\n\t\t      struct efa_com_create_qp_params *params,\n\t\t      struct efa_com_create_qp_result *res);\nint efa_com_modify_qp(struct efa_com_dev *edev,\n\t\t      struct efa_com_modify_qp_params *params);\nint efa_com_query_qp(struct efa_com_dev *edev,\n\t\t     struct efa_com_query_qp_params *params,\n\t\t     struct efa_com_query_qp_result *result);\nint efa_com_destroy_qp(struct efa_com_dev *edev,\n\t\t       struct efa_com_destroy_qp_params *params);\nint efa_com_create_cq(struct efa_com_dev *edev,\n\t\t      struct efa_com_create_cq_params *params,\n\t\t      struct efa_com_create_cq_result *result);\nint efa_com_destroy_cq(struct efa_com_dev *edev,\n\t\t       struct efa_com_destroy_cq_params *params);\nint efa_com_register_mr(struct efa_com_dev *edev,\n\t\t\tstruct efa_com_reg_mr_params *params,\n\t\t\tstruct efa_com_reg_mr_result *result);\nint efa_com_dereg_mr(struct efa_com_dev *edev,\n\t\t     struct efa_com_dereg_mr_params *params);\nint efa_com_create_ah(struct efa_com_dev *edev,\n\t\t      struct efa_com_create_ah_params *params,\n\t\t      struct efa_com_create_ah_result *result);\nint efa_com_destroy_ah(struct efa_com_dev *edev,\n\t\t       struct efa_com_destroy_ah_params *params);\nint efa_com_get_device_attr(struct efa_com_dev *edev,\n\t\t\t    struct efa_com_get_device_attr_result *result);\nint efa_com_get_hw_hints(struct efa_com_dev *edev,\n\t\t\t struct efa_com_get_hw_hints_result *result);\nbool\nefa_com_check_supported_feature_id(struct efa_com_dev *edev,\n\t\t\t\t   enum efa_admin_aq_feature_id feature_id);\nint efa_com_set_feature_ex(struct efa_com_dev *edev,\n\t\t\t   struct efa_admin_set_feature_resp *set_resp,\n\t\t\t   struct efa_admin_set_feature_cmd *set_cmd,\n\t\t\t   enum efa_admin_aq_feature_id feature_id,\n\t\t\t   dma_addr_t control_buf_dma_addr,\n\t\t\t   u32 control_buff_size);\nint efa_com_set_aenq_config(struct efa_com_dev *edev, u32 groups);\nint efa_com_alloc_pd(struct efa_com_dev *edev,\n\t\t     struct efa_com_alloc_pd_result *result);\nint efa_com_dealloc_pd(struct efa_com_dev *edev,\n\t\t       struct efa_com_dealloc_pd_params *params);\nint efa_com_alloc_uar(struct efa_com_dev *edev,\n\t\t      struct efa_com_alloc_uar_result *result);\nint efa_com_dealloc_uar(struct efa_com_dev *edev,\n\t\t\tstruct efa_com_dealloc_uar_params *params);\nint efa_com_get_stats(struct efa_com_dev *edev,\n\t\t      struct efa_com_get_stats_params *params,\n\t\t      union efa_com_get_stats_result *result);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}