{
  "module_name": "rtrs-clt-trace.h",
  "hash_id": "32b9d69670a59bdc5259ed70530e7e20cd1c8a645a39d4c19920bccde9a25d7e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/infiniband/ulp/rtrs/rtrs-clt-trace.h",
  "human_readable_source": " \n \n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM rtrs_clt\n\n#if !defined(_TRACE_RTRS_CLT_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _TRACE_RTRS_CLT_H\n\n#include <linux/tracepoint.h>\n\nstruct rtrs_clt_path;\nstruct rtrs_clt_sess;\n\nTRACE_DEFINE_ENUM(RTRS_CLT_CONNECTING);\nTRACE_DEFINE_ENUM(RTRS_CLT_CONNECTING_ERR);\nTRACE_DEFINE_ENUM(RTRS_CLT_RECONNECTING);\nTRACE_DEFINE_ENUM(RTRS_CLT_CONNECTED);\nTRACE_DEFINE_ENUM(RTRS_CLT_CLOSING);\nTRACE_DEFINE_ENUM(RTRS_CLT_CLOSED);\nTRACE_DEFINE_ENUM(RTRS_CLT_DEAD);\n\n#define show_rtrs_clt_state(x) \\\n\t__print_symbolic(x, \\\n\t\t{ RTRS_CLT_CONNECTING,\t\t\"CONNECTING\" }, \\\n\t\t{ RTRS_CLT_CONNECTING_ERR,\t\"CONNECTING_ERR\" }, \\\n\t\t{ RTRS_CLT_RECONNECTING,\t\"RECONNECTING\" }, \\\n\t\t{ RTRS_CLT_CONNECTED,\t\t\"CONNECTED\" }, \\\n\t\t{ RTRS_CLT_CLOSING,\t\t\"CLOSING\" }, \\\n\t\t{ RTRS_CLT_CLOSED,\t\t\"CLOSED\" }, \\\n\t\t{ RTRS_CLT_DEAD,\t\t\"DEAD\" })\n\nDECLARE_EVENT_CLASS(rtrs_clt_conn_class,\n\tTP_PROTO(struct rtrs_clt_path *clt_path),\n\n\tTP_ARGS(clt_path),\n\n\tTP_STRUCT__entry(\n\t\t__field(int, state)\n\t\t__field(int, reconnect_attempts)\n\t\t__field(int, max_reconnect_attempts)\n\t\t__field(int, fail_cnt)\n\t\t__field(int, success_cnt)\n\t\t__array(char, sessname, NAME_MAX)\n\t),\n\n\tTP_fast_assign(\n\t\tstruct rtrs_clt_sess *clt = clt_path->clt;\n\n\t\t__entry->state = clt_path->state;\n\t\t__entry->reconnect_attempts = clt_path->reconnect_attempts;\n\t\t__entry->max_reconnect_attempts = clt->max_reconnect_attempts;\n\t\t__entry->fail_cnt = clt_path->stats->reconnects.fail_cnt;\n\t\t__entry->success_cnt = clt_path->stats->reconnects.successful_cnt;\n\t\tmemcpy(__entry->sessname, kobject_name(&clt_path->kobj), NAME_MAX);\n\t),\n\n\tTP_printk(\"RTRS-CLT: sess='%s' state=%s attempts='%d' max-attempts='%d' fail='%d' success='%d'\",\n\t\t   __entry->sessname,\n\t\t   show_rtrs_clt_state(__entry->state),\n\t\t   __entry->reconnect_attempts,\n\t\t   __entry->max_reconnect_attempts,\n\t\t   __entry->fail_cnt,\n\t\t   __entry->success_cnt\n\t)\n);\n\n#define DEFINE_CLT_CONN_EVENT(name) \\\nDEFINE_EVENT(rtrs_clt_conn_class, rtrs_##name, \\\n\tTP_PROTO(struct rtrs_clt_path *clt_path), \\\n\tTP_ARGS(clt_path))\n\nDEFINE_CLT_CONN_EVENT(clt_reconnect_work);\nDEFINE_CLT_CONN_EVENT(clt_close_conns);\nDEFINE_CLT_CONN_EVENT(rdma_error_recovery);\n\n#endif  \n\n#undef TRACE_INCLUDE_PATH\n#define TRACE_INCLUDE_PATH .\n#define TRACE_INCLUDE_FILE rtrs-clt-trace\n#include <trace/define_trace.h>\n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}