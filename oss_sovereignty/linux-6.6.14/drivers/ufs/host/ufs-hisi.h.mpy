{
  "module_name": "ufs-hisi.h",
  "hash_id": "0ec49b780922a83ba12f1bca9d01b96fc4aa4868e9a4d439f366f73f6eb2b779",
  "original_prompt": "Ingested from linux-6.6.14/drivers/ufs/host/ufs-hisi.h",
  "human_readable_source": " \n \n\n#ifndef UFS_HISI_H_\n#define UFS_HISI_H_\n\n#define HBRN8_POLL_TOUT_MS\t1000\n\n \n#define PSW_POWER_CTRL\t(0x04)\n#define PHY_ISO_EN\t(0x08)\n#define HC_LP_CTRL\t(0x0C)\n#define PHY_CLK_CTRL\t(0x10)\n#define PSW_CLK_CTRL\t(0x14)\n#define CLOCK_GATE_BYPASS\t(0x18)\n#define RESET_CTRL_EN\t(0x1C)\n#define UFS_SYSCTRL\t(0x5C)\n#define UFS_DEVICE_RESET_CTRL\t(0x60)\n\n#define BIT_UFS_PSW_ISO_CTRL\t\t(1 << 16)\n#define BIT_UFS_PSW_MTCMOS_EN\t\t(1 << 0)\n#define BIT_UFS_REFCLK_ISO_EN\t\t(1 << 16)\n#define BIT_UFS_PHY_ISO_CTRL\t\t(1 << 0)\n#define BIT_SYSCTRL_LP_ISOL_EN\t\t(1 << 16)\n#define BIT_SYSCTRL_PWR_READY\t\t(1 << 8)\n#define BIT_SYSCTRL_REF_CLOCK_EN\t(1 << 24)\n#define MASK_SYSCTRL_REF_CLOCK_SEL\t(0x3 << 8)\n#define MASK_SYSCTRL_CFG_CLOCK_FREQ\t(0xFF)\n#define UFS_FREQ_CFG_CLK                (0x39)\n#define BIT_SYSCTRL_PSW_CLK_EN\t\t(1 << 4)\n#define MASK_UFS_CLK_GATE_BYPASS\t(0x3F)\n#define BIT_SYSCTRL_LP_RESET_N\t\t(1 << 0)\n#define BIT_UFS_REFCLK_SRC_SEl\t\t(1 << 0)\n#define MASK_UFS_SYSCRTL_BYPASS\t\t(0x3F << 16)\n#define MASK_UFS_DEVICE_RESET\t\t(0x1 << 16)\n#define BIT_UFS_DEVICE_RESET\t\t(0x1)\n\n \n#define MPHY_TX_FSM_STATE\t0x41\n#define TX_FSM_HIBERN8\t0x1\n\n \nenum {\n\tUFS_REG_OCPTHRTL = 0xc0,\n\tUFS_REG_OOCPR    = 0xc4,\n\n\tUFS_REG_CDACFG   = 0xd0,\n\tUFS_REG_CDATX1   = 0xd4,\n\tUFS_REG_CDATX2   = 0xd8,\n\tUFS_REG_CDARX1   = 0xdc,\n\tUFS_REG_CDARX2   = 0xe0,\n\tUFS_REG_CDASTA   = 0xe4,\n\n\tUFS_REG_LBMCFG   = 0xf0,\n\tUFS_REG_LBMSTA   = 0xf4,\n\tUFS_REG_UFSMODE  = 0xf8,\n\n\tUFS_REG_HCLKDIV  = 0xfc,\n};\n\n \n#define UFS_AHIT_AH8ITV_MASK\t0x3FF\n\n \n#define UFS_HCLKDIV_NORMAL_VALUE\t0xE4\n\n \n#define SLOW\t1\n#define FAST\t2\n\n#define UFS_HISI_CAP_RESERVED\t\tBIT(0)\n#define UFS_HISI_CAP_PHY10nm\t\tBIT(1)\n\nstruct ufs_hisi_host {\n\tstruct ufs_hba *hba;\n\tvoid __iomem *ufs_sys_ctrl;\n\n\tstruct reset_control\t*rst;\n\n\tuint64_t caps;\n\n\tbool in_suspend;\n};\n\n#define ufs_sys_ctrl_writel(host, val, reg)                                    \\\n\twritel((val), (host)->ufs_sys_ctrl + (reg))\n#define ufs_sys_ctrl_readl(host, reg) readl((host)->ufs_sys_ctrl + (reg))\n#define ufs_sys_ctrl_set_bits(host, mask, reg)                                 \\\n\tufs_sys_ctrl_writel(                                                   \\\n\t\t(host), ((mask) | (ufs_sys_ctrl_readl((host), (reg)))), (reg))\n#define ufs_sys_ctrl_clr_bits(host, mask, reg)                                 \\\n\tufs_sys_ctrl_writel((host),                                            \\\n\t\t\t    ((~(mask)) & (ufs_sys_ctrl_readl((host), (reg)))), \\\n\t\t\t    (reg))\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}