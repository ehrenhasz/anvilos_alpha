{
  "module_name": "xdma-regs.h",
  "hash_id": "0d42ae6cc68e7e24c642b63946e9352a4833cab33184bd3d10a7c3633ac5e04e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/dma/xilinx/xdma-regs.h",
  "human_readable_source": " \n \n\n#ifndef __DMA_XDMA_REGS_H\n#define __DMA_XDMA_REGS_H\n\n \n#define XDMA_REG_SPACE_LEN\t65536\n\n \n#define XDMA_MAX_CHANNELS\t4\n\n \n#define XDMA_DESC_BLOCK_NUM\t\tBIT(7)\n#define XDMA_DESC_BLOCK_MASK\t\t(XDMA_DESC_BLOCK_NUM - 1)\n\n \n#define XDMA_DESC_ADJACENT\t\t32\n#define XDMA_DESC_ADJACENT_MASK\t\t(XDMA_DESC_ADJACENT - 1)\n#define XDMA_DESC_ADJACENT_BITS\t\tGENMASK(13, 8)\n#define XDMA_DESC_MAGIC\t\t\t0xad4bUL\n#define XDMA_DESC_MAGIC_BITS\t\tGENMASK(31, 16)\n#define XDMA_DESC_FLAGS_BITS\t\tGENMASK(7, 0)\n#define XDMA_DESC_STOPPED\t\tBIT(0)\n#define XDMA_DESC_COMPLETED\t\tBIT(1)\n#define XDMA_DESC_BLEN_BITS\t\t28\n#define XDMA_DESC_BLEN_MAX\t\t(BIT(XDMA_DESC_BLEN_BITS) - PAGE_SIZE)\n\n \n#define XDMA_DESC_CONTROL(adjacent, flag)\t\t\t\t\\\n\t(FIELD_PREP(XDMA_DESC_MAGIC_BITS, XDMA_DESC_MAGIC) |\t\t\\\n\t FIELD_PREP(XDMA_DESC_ADJACENT_BITS, (adjacent) - 1) |\t\t\\\n\t FIELD_PREP(XDMA_DESC_FLAGS_BITS, (flag)))\n#define XDMA_DESC_CONTROL_LAST\t\t\t\t\t\t\\\n\tXDMA_DESC_CONTROL(1, XDMA_DESC_STOPPED | XDMA_DESC_COMPLETED)\n\n \nstruct xdma_hw_desc {\n\t__le32\t\tcontrol;\n\t__le32\t\tbytes;\n\t__le64\t\tsrc_addr;\n\t__le64\t\tdst_addr;\n\t__le64\t\tnext_desc;\n};\n\n#define XDMA_DESC_SIZE\t\tsizeof(struct xdma_hw_desc)\n#define XDMA_DESC_BLOCK_SIZE\t(XDMA_DESC_SIZE * XDMA_DESC_ADJACENT)\n#define XDMA_DESC_BLOCK_ALIGN\t4096\n\n \n#define XDMA_CHAN_IDENTIFIER\t\t0x0\n#define XDMA_CHAN_CONTROL\t\t0x4\n#define XDMA_CHAN_CONTROL_W1S\t\t0x8\n#define XDMA_CHAN_CONTROL_W1C\t\t0xc\n#define XDMA_CHAN_STATUS\t\t0x40\n#define XDMA_CHAN_COMPLETED_DESC\t0x48\n#define XDMA_CHAN_ALIGNMENTS\t\t0x4c\n#define XDMA_CHAN_INTR_ENABLE\t\t0x90\n#define XDMA_CHAN_INTR_ENABLE_W1S\t0x94\n#define XDMA_CHAN_INTR_ENABLE_W1C\t0x9c\n\n#define XDMA_CHAN_STRIDE\t0x100\n#define XDMA_CHAN_H2C_OFFSET\t0x0\n#define XDMA_CHAN_C2H_OFFSET\t0x1000\n#define XDMA_CHAN_H2C_TARGET\t0x0\n#define XDMA_CHAN_C2H_TARGET\t0x1\n\n \n#define XDMA_CHAN_MAGIC\t\t0x1fc0\n#define XDMA_CHAN_CHECK_TARGET(id, target)\t\t\\\n\t(((u32)(id) >> 16) == XDMA_CHAN_MAGIC + (target))\n\n \n#define CHAN_CTRL_RUN_STOP\t\t\tBIT(0)\n#define CHAN_CTRL_IE_DESC_STOPPED\t\tBIT(1)\n#define CHAN_CTRL_IE_DESC_COMPLETED\t\tBIT(2)\n#define CHAN_CTRL_IE_DESC_ALIGN_MISMATCH\tBIT(3)\n#define CHAN_CTRL_IE_MAGIC_STOPPED\t\tBIT(4)\n#define CHAN_CTRL_IE_IDLE_STOPPED\t\tBIT(6)\n#define CHAN_CTRL_IE_READ_ERROR\t\t\tGENMASK(13, 9)\n#define CHAN_CTRL_IE_DESC_ERROR\t\t\tGENMASK(23, 19)\n#define CHAN_CTRL_NON_INCR_ADDR\t\t\tBIT(25)\n#define CHAN_CTRL_POLL_MODE_WB\t\t\tBIT(26)\n\n#define CHAN_CTRL_START\t(CHAN_CTRL_RUN_STOP |\t\t\t\t\\\n\t\t\t CHAN_CTRL_IE_DESC_STOPPED |\t\t\t\\\n\t\t\t CHAN_CTRL_IE_DESC_COMPLETED |\t\t\t\\\n\t\t\t CHAN_CTRL_IE_DESC_ALIGN_MISMATCH |\t\t\\\n\t\t\t CHAN_CTRL_IE_MAGIC_STOPPED |\t\t\t\\\n\t\t\t CHAN_CTRL_IE_READ_ERROR |\t\t\t\\\n\t\t\t CHAN_CTRL_IE_DESC_ERROR)\n\n \n#define CHAN_IM_DESC_ERROR\t\t\tBIT(19)\n#define CHAN_IM_READ_ERROR\t\t\tBIT(9)\n#define CHAN_IM_IDLE_STOPPED\t\t\tBIT(6)\n#define CHAN_IM_MAGIC_STOPPED\t\t\tBIT(4)\n#define CHAN_IM_DESC_COMPLETED\t\t\tBIT(2)\n#define CHAN_IM_DESC_STOPPED\t\t\tBIT(1)\n\n#define CHAN_IM_ALL\t(CHAN_IM_DESC_ERROR | CHAN_IM_READ_ERROR |\t\\\n\t\t\t CHAN_IM_IDLE_STOPPED | CHAN_IM_MAGIC_STOPPED | \\\n\t\t\t CHAN_IM_DESC_COMPLETED | CHAN_IM_DESC_STOPPED)\n\n \n#define XDMA_SGDMA_IDENTIFIER\t0x4000\n#define XDMA_SGDMA_DESC_LO\t0x4080\n#define XDMA_SGDMA_DESC_HI\t0x4084\n#define XDMA_SGDMA_DESC_ADJ\t0x4088\n#define XDMA_SGDMA_DESC_CREDIT\t0x408c\n\n \n#define XDMA_CTRL_RUN_STOP\t\t\tBIT(0)\n#define XDMA_CTRL_IE_DESC_STOPPED\t\tBIT(1)\n#define XDMA_CTRL_IE_DESC_COMPLETED\t\tBIT(2)\n#define XDMA_CTRL_IE_DESC_ALIGN_MISMATCH\tBIT(3)\n#define XDMA_CTRL_IE_MAGIC_STOPPED\t\tBIT(4)\n#define XDMA_CTRL_IE_IDLE_STOPPED\t\tBIT(6)\n#define XDMA_CTRL_IE_READ_ERROR\t\t\tGENMASK(13, 9)\n#define XDMA_CTRL_IE_DESC_ERROR\t\t\tGENMASK(23, 19)\n#define XDMA_CTRL_NON_INCR_ADDR\t\t\tBIT(25)\n#define XDMA_CTRL_POLL_MODE_WB\t\t\tBIT(26)\n\n \n#define XDMA_IRQ_IDENTIFIER\t\t0x2000\n#define XDMA_IRQ_USER_INT_EN\t\t0x2004\n#define XDMA_IRQ_USER_INT_EN_W1S\t0x2008\n#define XDMA_IRQ_USER_INT_EN_W1C\t0x200c\n#define XDMA_IRQ_CHAN_INT_EN\t\t0x2010\n#define XDMA_IRQ_CHAN_INT_EN_W1S\t0x2014\n#define XDMA_IRQ_CHAN_INT_EN_W1C\t0x2018\n#define XDMA_IRQ_USER_INT_REQ\t\t0x2040\n#define XDMA_IRQ_CHAN_INT_REQ\t\t0x2044\n#define XDMA_IRQ_USER_INT_PEND\t\t0x2048\n#define XDMA_IRQ_CHAN_INT_PEND\t\t0x204c\n#define XDMA_IRQ_USER_VEC_NUM\t\t0x2080\n#define XDMA_IRQ_CHAN_VEC_NUM\t\t0x20a0\n\n#define XDMA_IRQ_VEC_SHIFT\t\t8\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}