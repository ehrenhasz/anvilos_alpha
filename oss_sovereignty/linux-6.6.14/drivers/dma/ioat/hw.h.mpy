{
  "module_name": "hw.h",
  "hash_id": "c27a4c5b19bb8ec1911a6b459781d615fcbe0c821be1068692865805f960448d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/dma/ioat/hw.h",
  "human_readable_source": " \n \n#ifndef _IOAT_HW_H_\n#define _IOAT_HW_H_\n\n \n#define IOAT_MMIO_BAR\t\t0\n\n \n#define PCI_DEVICE_ID_INTEL_IOAT_IVB0\t0x0e20\n#define PCI_DEVICE_ID_INTEL_IOAT_IVB1\t0x0e21\n#define PCI_DEVICE_ID_INTEL_IOAT_IVB2\t0x0e22\n#define PCI_DEVICE_ID_INTEL_IOAT_IVB3\t0x0e23\n#define PCI_DEVICE_ID_INTEL_IOAT_IVB4\t0x0e24\n#define PCI_DEVICE_ID_INTEL_IOAT_IVB5\t0x0e25\n#define PCI_DEVICE_ID_INTEL_IOAT_IVB6\t0x0e26\n#define PCI_DEVICE_ID_INTEL_IOAT_IVB7\t0x0e27\n#define PCI_DEVICE_ID_INTEL_IOAT_IVB8\t0x0e2e\n#define PCI_DEVICE_ID_INTEL_IOAT_IVB9\t0x0e2f\n\n#define PCI_DEVICE_ID_INTEL_IOAT_HSW0\t0x2f20\n#define PCI_DEVICE_ID_INTEL_IOAT_HSW1\t0x2f21\n#define PCI_DEVICE_ID_INTEL_IOAT_HSW2\t0x2f22\n#define PCI_DEVICE_ID_INTEL_IOAT_HSW3\t0x2f23\n#define PCI_DEVICE_ID_INTEL_IOAT_HSW4\t0x2f24\n#define PCI_DEVICE_ID_INTEL_IOAT_HSW5\t0x2f25\n#define PCI_DEVICE_ID_INTEL_IOAT_HSW6\t0x2f26\n#define PCI_DEVICE_ID_INTEL_IOAT_HSW7\t0x2f27\n#define PCI_DEVICE_ID_INTEL_IOAT_HSW8\t0x2f2e\n#define PCI_DEVICE_ID_INTEL_IOAT_HSW9\t0x2f2f\n\n#define PCI_DEVICE_ID_INTEL_IOAT_BWD0\t0x0C50\n#define PCI_DEVICE_ID_INTEL_IOAT_BWD1\t0x0C51\n#define PCI_DEVICE_ID_INTEL_IOAT_BWD2\t0x0C52\n#define PCI_DEVICE_ID_INTEL_IOAT_BWD3\t0x0C53\n\n#define PCI_DEVICE_ID_INTEL_IOAT_BDXDE0\t0x6f50\n#define PCI_DEVICE_ID_INTEL_IOAT_BDXDE1\t0x6f51\n#define PCI_DEVICE_ID_INTEL_IOAT_BDXDE2\t0x6f52\n#define PCI_DEVICE_ID_INTEL_IOAT_BDXDE3\t0x6f53\n\n#define PCI_DEVICE_ID_INTEL_IOAT_BDX0\t0x6f20\n#define PCI_DEVICE_ID_INTEL_IOAT_BDX1\t0x6f21\n#define PCI_DEVICE_ID_INTEL_IOAT_BDX2\t0x6f22\n#define PCI_DEVICE_ID_INTEL_IOAT_BDX3\t0x6f23\n#define PCI_DEVICE_ID_INTEL_IOAT_BDX4\t0x6f24\n#define PCI_DEVICE_ID_INTEL_IOAT_BDX5\t0x6f25\n#define PCI_DEVICE_ID_INTEL_IOAT_BDX6\t0x6f26\n#define PCI_DEVICE_ID_INTEL_IOAT_BDX7\t0x6f27\n#define PCI_DEVICE_ID_INTEL_IOAT_BDX8\t0x6f2e\n#define PCI_DEVICE_ID_INTEL_IOAT_BDX9\t0x6f2f\n\n#define PCI_DEVICE_ID_INTEL_IOAT_SKX\t0x2021\n\n#define PCI_DEVICE_ID_INTEL_IOAT_ICX\t0x0b00\n\n#define IOAT_VER_1_2            0x12     \n#define IOAT_VER_2_0            0x20     \n#define IOAT_VER_3_0            0x30     \n#define IOAT_VER_3_2            0x32     \n#define IOAT_VER_3_3            0x33     \n#define IOAT_VER_3_4\t\t0x34\t \n\n\nint system_has_dca_enabled(struct pci_dev *pdev);\n\n#define IOAT_DESC_SZ\t64\n\nstruct ioat_dma_descriptor {\n\tuint32_t\tsize;\n\tunion {\n\t\tuint32_t ctl;\n\t\tstruct {\n\t\t\tunsigned int int_en:1;\n\t\t\tunsigned int src_snoop_dis:1;\n\t\t\tunsigned int dest_snoop_dis:1;\n\t\t\tunsigned int compl_write:1;\n\t\t\tunsigned int fence:1;\n\t\t\tunsigned int null:1;\n\t\t\tunsigned int src_brk:1;\n\t\t\tunsigned int dest_brk:1;\n\t\t\tunsigned int bundle:1;\n\t\t\tunsigned int dest_dca:1;\n\t\t\tunsigned int hint:1;\n\t\t\tunsigned int rsvd2:13;\n\t\t\t#define IOAT_OP_COPY 0x00\n\t\t\tunsigned int op:8;\n\t\t} ctl_f;\n\t};\n\tuint64_t\tsrc_addr;\n\tuint64_t\tdst_addr;\n\tuint64_t\tnext;\n\tuint64_t\trsv1;\n\tuint64_t\trsv2;\n\t \n\tunion {\n\t\tuint64_t\tuser1;\n\t\tuint64_t\ttx_cnt;\n\t};\n\tuint64_t\tuser2;\n};\n\nstruct ioat_xor_descriptor {\n\tuint32_t\tsize;\n\tunion {\n\t\tuint32_t ctl;\n\t\tstruct {\n\t\t\tunsigned int int_en:1;\n\t\t\tunsigned int src_snoop_dis:1;\n\t\t\tunsigned int dest_snoop_dis:1;\n\t\t\tunsigned int compl_write:1;\n\t\t\tunsigned int fence:1;\n\t\t\tunsigned int src_cnt:3;\n\t\t\tunsigned int bundle:1;\n\t\t\tunsigned int dest_dca:1;\n\t\t\tunsigned int hint:1;\n\t\t\tunsigned int rsvd:13;\n\t\t\t#define IOAT_OP_XOR 0x87\n\t\t\t#define IOAT_OP_XOR_VAL 0x88\n\t\t\tunsigned int op:8;\n\t\t} ctl_f;\n\t};\n\tuint64_t\tsrc_addr;\n\tuint64_t\tdst_addr;\n\tuint64_t\tnext;\n\tuint64_t\tsrc_addr2;\n\tuint64_t\tsrc_addr3;\n\tuint64_t\tsrc_addr4;\n\tuint64_t\tsrc_addr5;\n};\n\nstruct ioat_xor_ext_descriptor {\n\tuint64_t\tsrc_addr6;\n\tuint64_t\tsrc_addr7;\n\tuint64_t\tsrc_addr8;\n\tuint64_t\tnext;\n\tuint64_t\trsvd[4];\n};\n\nstruct ioat_pq_descriptor {\n\tunion {\n\t\tuint32_t\tsize;\n\t\tuint32_t\tdwbes;\n\t\tstruct {\n\t\t\tunsigned int rsvd:25;\n\t\t\tunsigned int p_val_err:1;\n\t\t\tunsigned int q_val_err:1;\n\t\t\tunsigned int rsvd1:4;\n\t\t\tunsigned int wbes:1;\n\t\t} dwbes_f;\n\t};\n\tunion {\n\t\tuint32_t ctl;\n\t\tstruct {\n\t\t\tunsigned int int_en:1;\n\t\t\tunsigned int src_snoop_dis:1;\n\t\t\tunsigned int dest_snoop_dis:1;\n\t\t\tunsigned int compl_write:1;\n\t\t\tunsigned int fence:1;\n\t\t\tunsigned int src_cnt:3;\n\t\t\tunsigned int bundle:1;\n\t\t\tunsigned int dest_dca:1;\n\t\t\tunsigned int hint:1;\n\t\t\tunsigned int p_disable:1;\n\t\t\tunsigned int q_disable:1;\n\t\t\tunsigned int rsvd2:2;\n\t\t\tunsigned int wb_en:1;\n\t\t\tunsigned int prl_en:1;\n\t\t\tunsigned int rsvd3:7;\n\t\t\t#define IOAT_OP_PQ 0x89\n\t\t\t#define IOAT_OP_PQ_VAL 0x8a\n\t\t\t#define IOAT_OP_PQ_16S 0xa0\n\t\t\t#define IOAT_OP_PQ_VAL_16S 0xa1\n\t\t\tunsigned int op:8;\n\t\t} ctl_f;\n\t};\n\tuint64_t\tsrc_addr;\n\tuint64_t\tp_addr;\n\tuint64_t\tnext;\n\tuint64_t\tsrc_addr2;\n\tunion {\n\t\tuint64_t\tsrc_addr3;\n\t\tuint64_t\tsed_addr;\n\t};\n\tuint8_t\t\tcoef[8];\n\tuint64_t\tq_addr;\n};\n\nstruct ioat_pq_ext_descriptor {\n\tuint64_t\tsrc_addr4;\n\tuint64_t\tsrc_addr5;\n\tuint64_t\tsrc_addr6;\n\tuint64_t\tnext;\n\tuint64_t\tsrc_addr7;\n\tuint64_t\tsrc_addr8;\n\tuint64_t\trsvd[2];\n};\n\nstruct ioat_pq_update_descriptor {\n\tuint32_t\tsize;\n\tunion {\n\t\tuint32_t ctl;\n\t\tstruct {\n\t\t\tunsigned int int_en:1;\n\t\t\tunsigned int src_snoop_dis:1;\n\t\t\tunsigned int dest_snoop_dis:1;\n\t\t\tunsigned int compl_write:1;\n\t\t\tunsigned int fence:1;\n\t\t\tunsigned int src_cnt:3;\n\t\t\tunsigned int bundle:1;\n\t\t\tunsigned int dest_dca:1;\n\t\t\tunsigned int hint:1;\n\t\t\tunsigned int p_disable:1;\n\t\t\tunsigned int q_disable:1;\n\t\t\tunsigned int rsvd:3;\n\t\t\tunsigned int coef:8;\n\t\t\t#define IOAT_OP_PQ_UP 0x8b\n\t\t\tunsigned int op:8;\n\t\t} ctl_f;\n\t};\n\tuint64_t\tsrc_addr;\n\tuint64_t\tp_addr;\n\tuint64_t\tnext;\n\tuint64_t\tsrc_addr2;\n\tuint64_t\tp_src;\n\tuint64_t\tq_src;\n\tuint64_t\tq_addr;\n};\n\nstruct ioat_raw_descriptor {\n\tuint64_t\tfield[8];\n};\n\nstruct ioat_pq16a_descriptor {\n\tuint8_t coef[8];\n\tuint64_t src_addr3;\n\tuint64_t src_addr4;\n\tuint64_t src_addr5;\n\tuint64_t src_addr6;\n\tuint64_t src_addr7;\n\tuint64_t src_addr8;\n\tuint64_t src_addr9;\n};\n\nstruct ioat_pq16b_descriptor {\n\tuint64_t src_addr10;\n\tuint64_t src_addr11;\n\tuint64_t src_addr12;\n\tuint64_t src_addr13;\n\tuint64_t src_addr14;\n\tuint64_t src_addr15;\n\tuint64_t src_addr16;\n\tuint64_t rsvd;\n};\n\nunion ioat_sed_pq_descriptor {\n\tstruct ioat_pq16a_descriptor a;\n\tstruct ioat_pq16b_descriptor b;\n};\n\n#define SED_SIZE\t64\n\nstruct ioat_sed_raw_descriptor {\n\tuint64_t\ta[8];\n\tuint64_t\tb[8];\n\tuint64_t\tc[8];\n};\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}