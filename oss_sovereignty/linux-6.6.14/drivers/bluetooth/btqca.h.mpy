{
  "module_name": "btqca.h",
  "hash_id": "7fede7c62b2b5a98466b96f910c0cde3b24e69041aaa9b8c58f6c58b42b72987",
  "original_prompt": "Ingested from linux-6.6.14/drivers/bluetooth/btqca.h",
  "human_readable_source": " \n \n\n#define EDL_PATCH_CMD_OPCODE\t\t(0xFC00)\n#define EDL_NVM_ACCESS_OPCODE\t\t(0xFC0B)\n#define EDL_WRITE_BD_ADDR_OPCODE\t(0xFC14)\n#define EDL_PATCH_CMD_LEN\t\t(1)\n#define EDL_PATCH_VER_REQ_CMD\t\t(0x19)\n#define EDL_PATCH_TLV_REQ_CMD\t\t(0x1E)\n#define EDL_GET_BUILD_INFO_CMD\t\t(0x20)\n#define EDL_NVM_ACCESS_SET_REQ_CMD\t(0x01)\n#define EDL_PATCH_CONFIG_CMD\t\t(0x28)\n#define MAX_SIZE_PER_TLV_SEGMENT\t(243)\n#define QCA_PRE_SHUTDOWN_CMD\t\t(0xFC08)\n#define QCA_DISABLE_LOGGING\t\t(0xFC17)\n\n#define EDL_CMD_REQ_RES_EVT\t\t(0x00)\n#define EDL_PATCH_VER_RES_EVT\t\t(0x19)\n#define EDL_APP_VER_RES_EVT\t\t(0x02)\n#define EDL_TVL_DNLD_RES_EVT\t\t(0x04)\n#define EDL_CMD_EXE_STATUS_EVT\t\t(0x00)\n#define EDL_SET_BAUDRATE_RSP_EVT\t(0x92)\n#define EDL_NVM_ACCESS_CODE_EVT\t\t(0x0B)\n#define EDL_PATCH_CONFIG_RES_EVT\t(0x00)\n#define QCA_DISABLE_LOGGING_SUB_OP\t(0x14)\n\n#define EDL_TAG_ID_HCI\t\t\t(17)\n#define EDL_TAG_ID_DEEP_SLEEP\t\t(27)\n\n#define QCA_WCN3990_POWERON_PULSE\t0xFC\n#define QCA_WCN3990_POWEROFF_PULSE\t0xC0\n\n#define QCA_HCI_CC_OPCODE\t\t0xFC00\n#define QCA_HCI_CC_SUCCESS\t\t0x00\n\n#define QCA_WCN3991_SOC_ID\t\t(0x40014320)\n\n \n#define get_soc_ver(soc_id, rom_ver)\t\\\n\t((le32_to_cpu(soc_id) << 16) | (le16_to_cpu(rom_ver)))\n\n#define QCA_FW_BUILD_VER_LEN\t\t255\n\n\nenum qca_baudrate {\n\tQCA_BAUDRATE_115200 \t= 0,\n\tQCA_BAUDRATE_57600,\n\tQCA_BAUDRATE_38400,\n\tQCA_BAUDRATE_19200,\n\tQCA_BAUDRATE_9600,\n\tQCA_BAUDRATE_230400,\n\tQCA_BAUDRATE_250000,\n\tQCA_BAUDRATE_460800,\n\tQCA_BAUDRATE_500000,\n\tQCA_BAUDRATE_720000,\n\tQCA_BAUDRATE_921600,\n\tQCA_BAUDRATE_1000000,\n\tQCA_BAUDRATE_1250000,\n\tQCA_BAUDRATE_2000000,\n\tQCA_BAUDRATE_3000000,\n\tQCA_BAUDRATE_4000000,\n\tQCA_BAUDRATE_1600000,\n\tQCA_BAUDRATE_3200000,\n\tQCA_BAUDRATE_3500000,\n\tQCA_BAUDRATE_AUTO \t= 0xFE,\n\tQCA_BAUDRATE_RESERVED\n};\n\nenum qca_tlv_dnld_mode {\n\tQCA_SKIP_EVT_NONE,\n\tQCA_SKIP_EVT_VSE,\n\tQCA_SKIP_EVT_CC,\n\tQCA_SKIP_EVT_VSE_CC\n};\n\nenum qca_tlv_type {\n\tTLV_TYPE_PATCH = 1,\n\tTLV_TYPE_NVM,\n\tELF_TYPE_PATCH,\n};\n\nstruct qca_fw_config {\n\tu8 type;\n\tchar fwname[64];\n\tuint8_t user_baud_rate;\n\tenum qca_tlv_dnld_mode dnld_mode;\n\tenum qca_tlv_dnld_mode dnld_type;\n};\n\nstruct edl_event_hdr {\n\t__u8 cresp;\n\t__u8 rtype;\n\t__u8 data[];\n} __packed;\n\nstruct qca_btsoc_version {\n\t__le32 product_id;\n\t__le16 patch_ver;\n\t__le16 rom_ver;\n\t__le32 soc_id;\n} __packed;\n\nstruct tlv_seg_resp {\n\t__u8 result;\n} __packed;\n\nstruct tlv_type_patch {\n\t__le32 total_size;\n\t__le32 data_length;\n\t__u8   format_version;\n\t__u8   signature;\n\t__u8   download_mode;\n\t__u8   reserved1;\n\t__le16 product_id;\n\t__le16 rom_build;\n\t__le16 patch_version;\n\t__le16 reserved2;\n\t__le32 entry;\n} __packed;\n\nstruct tlv_type_nvm {\n\t__le16 tag_id;\n\t__le16 tag_len;\n\t__le32 reserve1;\n\t__le32 reserve2;\n\t__u8   data[];\n} __packed;\n\nstruct tlv_type_hdr {\n\t__le32 type_len;\n\t__u8   data[];\n} __packed;\n\nenum qca_btsoc_type {\n\tQCA_INVALID = -1,\n\tQCA_AR3002,\n\tQCA_ROME,\n\tQCA_WCN3988,\n\tQCA_WCN3990,\n\tQCA_WCN3998,\n\tQCA_WCN3991,\n\tQCA_QCA6390,\n\tQCA_WCN6750,\n\tQCA_WCN6855,\n\tQCA_WCN7850,\n};\n\n#if IS_ENABLED(CONFIG_BT_QCA)\n\nint qca_set_bdaddr_rome(struct hci_dev *hdev, const bdaddr_t *bdaddr);\nint qca_uart_setup(struct hci_dev *hdev, uint8_t baudrate,\n\t\t   enum qca_btsoc_type soc_type, struct qca_btsoc_version ver,\n\t\t   const char *firmware_name);\nint qca_read_soc_version(struct hci_dev *hdev, struct qca_btsoc_version *ver,\n\t\t\t enum qca_btsoc_type);\nint qca_set_bdaddr(struct hci_dev *hdev, const bdaddr_t *bdaddr);\nint qca_send_pre_shutdown_cmd(struct hci_dev *hdev);\n#else\n\nstatic inline int qca_set_bdaddr_rome(struct hci_dev *hdev, const bdaddr_t *bdaddr)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline int qca_uart_setup(struct hci_dev *hdev, uint8_t baudrate,\n\t\t\t\t enum qca_btsoc_type soc_type,\n\t\t\t\t struct qca_btsoc_version ver,\n\t\t\t\t const char *firmware_name)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline int qca_read_soc_version(struct hci_dev *hdev,\n\t\t\t\t       struct qca_btsoc_version *ver,\n\t\t\t\t       enum qca_btsoc_type)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline int qca_set_bdaddr(struct hci_dev *hdev, const bdaddr_t *bdaddr)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline int qca_send_pre_shutdown_cmd(struct hci_dev *hdev)\n{\n\treturn -EOPNOTSUPP;\n}\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}