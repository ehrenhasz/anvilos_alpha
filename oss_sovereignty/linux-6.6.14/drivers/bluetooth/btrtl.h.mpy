{
  "module_name": "btrtl.h",
  "hash_id": "7c1229bc461b7cf7110ff85e84db42353693c80c31c013714b9782f2ee7da16f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/bluetooth/btrtl.h",
  "human_readable_source": " \n \n\n#define RTL_FRAG_LEN 252\n\n#define rtl_dev_err(dev, fmt, ...) bt_dev_err(dev, \"RTL: \" fmt, ##__VA_ARGS__)\n#define rtl_dev_warn(dev, fmt, ...) bt_dev_warn(dev, \"RTL: \" fmt, ##__VA_ARGS__)\n#define rtl_dev_info(dev, fmt, ...) bt_dev_info(dev, \"RTL: \" fmt, ##__VA_ARGS__)\n#define rtl_dev_dbg(dev, fmt, ...) bt_dev_dbg(dev, \"RTL: \" fmt, ##__VA_ARGS__)\n\nstruct btrtl_device_info;\n\nstruct rtl_chip_type_evt {\n\t__u8 status;\n\t__u8 type;\n} __packed;\n\nstruct rtl_download_cmd {\n\t__u8 index;\n\t__u8 data[RTL_FRAG_LEN];\n} __packed;\n\nstruct rtl_download_response {\n\t__u8 status;\n\t__u8 index;\n} __packed;\n\nstruct rtl_rom_version_evt {\n\t__u8 status;\n\t__u8 version;\n} __packed;\n\nstruct rtl_epatch_header {\n\t__u8 signature[8];\n\t__le32 fw_version;\n\t__le16 num_patches;\n} __packed;\n\nstruct rtl_vendor_config_entry {\n\t__le16 offset;\n\t__u8 len;\n\t__u8 data[];\n} __packed;\n\nstruct rtl_vendor_config {\n\t__le32 signature;\n\t__le16 total_len;\n\t__u8 entry[];\n} __packed;\n\nstruct rtl_epatch_header_v2 {\n\t__u8   signature[8];\n\t__u8   fw_version[8];\n\t__le32 num_sections;\n} __packed;\n\nstruct rtl_section {\n\t__le32 opcode;\n\t__le32 len;\n\tu8     data[];\n} __packed;\n\nstruct rtl_section_hdr {\n\t__le16 num;\n\t__le16 reserved;\n} __packed;\n\nstruct rtl_common_subsec {\n\t__u8   eco;\n\t__u8   prio;\n\t__u8   cb[2];\n\t__le32 len;\n\t__u8   data[];\n};\n\nstruct rtl_sec_hdr {\n\t__u8   eco;\n\t__u8   prio;\n\t__u8   key_id;\n\t__u8   reserved;\n\t__le32 len;\n\t__u8   data[];\n} __packed;\n\nstruct rtl_subsection {\n\tstruct list_head list;\n\tu32 opcode;\n\tu32 len;\n\tu8 prio;\n\tu8 *data;\n};\n\nstruct rtl_iovec {\n\tu8  *data;\n\tu32 len;\n};\n\nstruct rtl_vendor_cmd {\n\t__u8 param[5];\n} __packed;\n\nenum {\n\tREALTEK_ALT6_CONTINUOUS_TX_CHIP,\n\n\t__REALTEK_NUM_FLAGS,\n};\n\nstruct rtl_dump_info {\n\tconst char *driver_name;\n\tchar *controller;\n\tu32  fw_version;\n};\n\nstruct btrealtek_data {\n\tDECLARE_BITMAP(flags, __REALTEK_NUM_FLAGS);\n\n\tstruct rtl_dump_info rtl_dump;\n};\n\n#define btrealtek_set_flag(hdev, nr)\t\t\t\t\t\\\n\tdo {\t\t\t\t\t\t\t\t\\\n\t\tstruct btrealtek_data *realtek = hci_get_priv((hdev));\t\\\n\t\tset_bit((nr), realtek->flags);\t\t\t\t\\\n\t} while (0)\n\n#define btrealtek_get_flag(hdev)\t\t\t\t\t\\\n\t(((struct btrealtek_data *)hci_get_priv(hdev))->flags)\n\n#define btrealtek_test_flag(hdev, nr)\ttest_bit((nr), btrealtek_get_flag(hdev))\n\n#if IS_ENABLED(CONFIG_BT_RTL)\n\nstruct btrtl_device_info *btrtl_initialize(struct hci_dev *hdev,\n\t\t\t\t\t   const char *postfix);\nvoid btrtl_free(struct btrtl_device_info *btrtl_dev);\nint btrtl_download_firmware(struct hci_dev *hdev,\n\t\t\t    struct btrtl_device_info *btrtl_dev);\nvoid btrtl_set_quirks(struct hci_dev *hdev,\n\t\t      struct btrtl_device_info *btrtl_dev);\nint btrtl_setup_realtek(struct hci_dev *hdev);\nint btrtl_shutdown_realtek(struct hci_dev *hdev);\nint btrtl_get_uart_settings(struct hci_dev *hdev,\n\t\t\t    struct btrtl_device_info *btrtl_dev,\n\t\t\t    unsigned int *controller_baudrate,\n\t\t\t    u32 *device_baudrate, bool *flow_control);\nvoid btrtl_set_driver_name(struct hci_dev *hdev, const char *driver_name);\n\n#else\n\nstatic inline struct btrtl_device_info *btrtl_initialize(struct hci_dev *hdev,\n\t\t\t\t\t\t\t const char *postfix)\n{\n\treturn ERR_PTR(-EOPNOTSUPP);\n}\n\nstatic inline void btrtl_free(struct btrtl_device_info *btrtl_dev)\n{\n}\n\nstatic inline int btrtl_download_firmware(struct hci_dev *hdev,\n\t\t\t\t\t  struct btrtl_device_info *btrtl_dev)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline void btrtl_set_quirks(struct hci_dev *hdev,\n\t\t\t\t    struct btrtl_device_info *btrtl_dev)\n{\n}\n\nstatic inline int btrtl_setup_realtek(struct hci_dev *hdev)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline int btrtl_shutdown_realtek(struct hci_dev *hdev)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline int btrtl_get_uart_settings(struct hci_dev *hdev,\n\t\t\t\t\t  struct btrtl_device_info *btrtl_dev,\n\t\t\t\t\t  unsigned int *controller_baudrate,\n\t\t\t\t\t  u32 *device_baudrate,\n\t\t\t\t\t  bool *flow_control)\n{\n\treturn -ENOENT;\n}\n\nstatic inline void btrtl_set_driver_name(struct hci_dev *hdev, const char *driver_name)\n{\n}\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}