{
  "module_name": "clk-uniphier.h",
  "hash_id": "f84e12833408be7fb1bbfd8c8a46e08818e4c8e4d46ae84cfbb5fa860581d62b",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/uniphier/clk-uniphier.h",
  "human_readable_source": " \n \n\n#ifndef __CLK_UNIPHIER_H__\n#define __CLK_UNIPHIER_H__\n\nstruct clk_hw;\nstruct device;\nstruct regmap;\n\n#define UNIPHIER_CLK_CPUGEAR_MAX_PARENTS\t16\n#define UNIPHIER_CLK_MUX_MAX_PARENTS\t\t8\n\nenum uniphier_clk_type {\n\tUNIPHIER_CLK_TYPE_CPUGEAR,\n\tUNIPHIER_CLK_TYPE_FIXED_FACTOR,\n\tUNIPHIER_CLK_TYPE_FIXED_RATE,\n\tUNIPHIER_CLK_TYPE_GATE,\n\tUNIPHIER_CLK_TYPE_MUX,\n};\n\nstruct uniphier_clk_cpugear_data {\n\tconst char *parent_names[UNIPHIER_CLK_CPUGEAR_MAX_PARENTS];\n\tunsigned int num_parents;\n\tunsigned int regbase;\n\tunsigned int mask;\n};\n\nstruct uniphier_clk_fixed_factor_data {\n\tconst char *parent_name;\n\tunsigned int mult;\n\tunsigned int div;\n};\n\nstruct uniphier_clk_fixed_rate_data {\n\tunsigned long fixed_rate;\n};\n\nstruct uniphier_clk_gate_data {\n\tconst char *parent_name;\n\tunsigned int reg;\n\tunsigned int bit;\n};\n\nstruct uniphier_clk_mux_data {\n\tconst char *parent_names[UNIPHIER_CLK_MUX_MAX_PARENTS];\n\tunsigned int num_parents;\n\tunsigned int reg;\n\tunsigned int masks[UNIPHIER_CLK_MUX_MAX_PARENTS];\n\tunsigned int vals[UNIPHIER_CLK_MUX_MAX_PARENTS];\n};\n\nstruct uniphier_clk_data {\n\tconst char *name;\n\tenum uniphier_clk_type type;\n\tint idx;\n\tunion {\n\t\tstruct uniphier_clk_cpugear_data cpugear;\n\t\tstruct uniphier_clk_fixed_factor_data factor;\n\t\tstruct uniphier_clk_fixed_rate_data rate;\n\t\tstruct uniphier_clk_gate_data gate;\n\t\tstruct uniphier_clk_mux_data mux;\n\t} data;\n};\n\n#define UNIPHIER_CLK_CPUGEAR(_name, _idx, _regbase, _mask,\t\\\n\t\t\t     _num_parents, ...)\t\t\t\\\n\t{\t\t\t\t\t\t\t\\\n\t\t.name = (_name),\t\t\t\t\\\n\t\t.type = UNIPHIER_CLK_TYPE_CPUGEAR,\t\t\\\n\t\t.idx = (_idx),\t\t\t\t\t\\\n\t\t.data.cpugear = {\t\t\t\t\\\n\t\t\t.parent_names = { __VA_ARGS__ },\t\\\n\t\t\t.num_parents = (_num_parents),\t\t\\\n\t\t\t.regbase = (_regbase),\t\t\t\\\n\t\t\t.mask = (_mask)\t\t\t\t\\\n\t\t },\t\t\t\t\t\t\\\n\t}\n\n#define UNIPHIER_CLK_FACTOR(_name, _idx, _parent, _mult, _div)\t\\\n\t{\t\t\t\t\t\t\t\\\n\t\t.name = (_name),\t\t\t\t\\\n\t\t.type = UNIPHIER_CLK_TYPE_FIXED_FACTOR,\t\t\\\n\t\t.idx = (_idx),\t\t\t\t\t\\\n\t\t.data.factor = {\t\t\t\t\\\n\t\t\t.parent_name = (_parent),\t\t\\\n\t\t\t.mult = (_mult),\t\t\t\\\n\t\t\t.div = (_div),\t\t\t\t\\\n\t\t},\t\t\t\t\t\t\\\n\t}\n\n#define UNIPHIER_CLK_GATE(_name, _idx, _parent, _reg, _bit)\t\\\n\t{\t\t\t\t\t\t\t\\\n\t\t.name = (_name),\t\t\t\t\\\n\t\t.type = UNIPHIER_CLK_TYPE_GATE,\t\t\t\\\n\t\t.idx = (_idx),\t\t\t\t\t\\\n\t\t.data.gate = {\t\t\t\t\t\\\n\t\t\t.parent_name = (_parent),\t\t\\\n\t\t\t.reg = (_reg),\t\t\t\t\\\n\t\t\t.bit = (_bit),\t\t\t\t\\\n\t\t},\t\t\t\t\t\t\\\n\t}\n\n#define UNIPHIER_CLK_DIV(parent, div)\t\t\t\t\\\n\tUNIPHIER_CLK_FACTOR(parent \"/\" #div, -1, parent, 1, div)\n\n#define UNIPHIER_CLK_DIV2(parent, div0, div1)\t\t\t\\\n\tUNIPHIER_CLK_DIV(parent, div0),\t\t\t\t\\\n\tUNIPHIER_CLK_DIV(parent, div1)\n\n#define UNIPHIER_CLK_DIV3(parent, div0, div1, div2)\t\t\\\n\tUNIPHIER_CLK_DIV2(parent, div0, div1),\t\t\t\\\n\tUNIPHIER_CLK_DIV(parent, div2)\n\n#define UNIPHIER_CLK_DIV4(parent, div0, div1, div2, div3)\t\\\n\tUNIPHIER_CLK_DIV2(parent, div0, div1),\t\t\t\\\n\tUNIPHIER_CLK_DIV2(parent, div2, div3)\n\n#define UNIPHIER_CLK_DIV5(parent, div0, div1, div2, div3, div4)\t\\\n\tUNIPHIER_CLK_DIV4(parent, div0, div1, div2, div3),\t\\\n\tUNIPHIER_CLK_DIV(parent, div4)\n\nstruct clk_hw *uniphier_clk_register_cpugear(struct device *dev,\n\t\t\t\t\t     struct regmap *regmap,\n\t\t\t\t\t     const char *name,\n\t\t\t\tconst struct uniphier_clk_cpugear_data *data);\nstruct clk_hw *uniphier_clk_register_fixed_factor(struct device *dev,\n\t\t\t\t\t\t  const char *name,\n\t\t\tconst struct uniphier_clk_fixed_factor_data *data);\nstruct clk_hw *uniphier_clk_register_fixed_rate(struct device *dev,\n\t\t\t\t\t\tconst char *name,\n\t\t\tconst struct uniphier_clk_fixed_rate_data *data);\nstruct clk_hw *uniphier_clk_register_gate(struct device *dev,\n\t\t\t\t\t  struct regmap *regmap,\n\t\t\t\t\t  const char *name,\n\t\t\t\tconst struct uniphier_clk_gate_data *data);\nstruct clk_hw *uniphier_clk_register_mux(struct device *dev,\n\t\t\t\t\t struct regmap *regmap,\n\t\t\t\t\t const char *name,\n\t\t\t\tconst struct uniphier_clk_mux_data *data);\n\nextern const struct uniphier_clk_data uniphier_ld4_sys_clk_data[];\nextern const struct uniphier_clk_data uniphier_pro4_sys_clk_data[];\nextern const struct uniphier_clk_data uniphier_sld8_sys_clk_data[];\nextern const struct uniphier_clk_data uniphier_pro5_sys_clk_data[];\nextern const struct uniphier_clk_data uniphier_pxs2_sys_clk_data[];\nextern const struct uniphier_clk_data uniphier_ld11_sys_clk_data[];\nextern const struct uniphier_clk_data uniphier_ld20_sys_clk_data[];\nextern const struct uniphier_clk_data uniphier_pxs3_sys_clk_data[];\nextern const struct uniphier_clk_data uniphier_nx1_sys_clk_data[];\nextern const struct uniphier_clk_data uniphier_ld4_mio_clk_data[];\nextern const struct uniphier_clk_data uniphier_pro5_sd_clk_data[];\nextern const struct uniphier_clk_data uniphier_ld4_peri_clk_data[];\nextern const struct uniphier_clk_data uniphier_pro4_peri_clk_data[];\nextern const struct uniphier_clk_data uniphier_pro4_sg_clk_data[];\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}