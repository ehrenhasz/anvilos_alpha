{
  "module_name": "pll.h",
  "hash_id": "f0cccf44a126549a64de570560202abb107294dc7549238bf610e31b42653bd0",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/sprd/pll.h",
  "human_readable_source": " \n\n\n\n\n\n\n#ifndef _SPRD_PLL_H_\n#define _SPRD_PLL_H_\n\n#include \"common.h\"\n\nstruct reg_cfg {\n\tu32 val;\n\tu32 msk;\n};\n\nstruct clk_bit_field {\n\tu8 shift;\n\tu8 width;\n};\n\nenum {\n\tPLL_LOCK_DONE,\n\tPLL_DIV_S,\n\tPLL_MOD_EN,\n\tPLL_SDM_EN,\n\tPLL_REFIN,\n\tPLL_IBIAS,\n\tPLL_N,\n\tPLL_NINT,\n\tPLL_KINT,\n\tPLL_PREDIV,\n\tPLL_POSTDIV,\n\n\tPLL_FACT_MAX\n};\n\n \nstruct sprd_pll {\n\tu32 regs_num;\n\tconst u64 *itable;\n\tconst struct clk_bit_field *factors;\n\tu16 udelay;\n\tu16 k1;\n\tu16 k2;\n\tu16 fflag;\n\tu64 fvco;\n\n\tstruct sprd_clk_common\tcommon;\n};\n\n#define SPRD_PLL_HW_INIT_FN(_struct, _name, _parent, _reg,\t\\\n\t\t\t    _regs_num, _itable, _factors,\t\\\n\t\t\t    _udelay, _k1, _k2, _fflag,\t\t\\\n\t\t\t    _fvco, _fn)\t\t\t\t\\\n\tstruct sprd_pll _struct = {\t\t\t\t\\\n\t\t.regs_num\t= _regs_num,\t\t\t\\\n\t\t.itable\t\t= _itable,\t\t\t\\\n\t\t.factors\t= _factors,\t\t\t\\\n\t\t.udelay\t\t= _udelay,\t\t\t\\\n\t\t.k1\t\t= _k1,\t\t\t\t\\\n\t\t.k2\t\t= _k2,\t\t\t\t\\\n\t\t.fflag\t\t= _fflag,\t\t\t\\\n\t\t.fvco\t\t= _fvco,\t\t\t\\\n\t\t.common\t\t= {\t\t\t\t\\\n\t\t\t.regmap\t\t= NULL,\t\t\t\\\n\t\t\t.reg\t\t= _reg,\t\t\t\\\n\t\t\t.hw.init\t= _fn(_name, _parent,\t\\\n\t\t\t\t\t      &sprd_pll_ops, 0),\\\n\t\t},\t\t\t\t\t\t\\\n\t}\n\n#define SPRD_PLL_WITH_ITABLE_K_FVCO(_struct, _name, _parent, _reg,\t\\\n\t\t\t\t    _regs_num, _itable, _factors,\t\\\n\t\t\t\t    _udelay, _k1, _k2, _fflag, _fvco)\t\\\n\tSPRD_PLL_HW_INIT_FN(_struct, _name, _parent, _reg, _regs_num,\t\\\n\t\t\t    _itable, _factors, _udelay, _k1, _k2,\t\\\n\t\t\t    _fflag, _fvco, CLK_HW_INIT)\n\n#define SPRD_PLL_WITH_ITABLE_K(_struct, _name, _parent, _reg,\t\t\\\n\t\t\t       _regs_num, _itable, _factors,\t\t\\\n\t\t\t       _udelay, _k1, _k2)\t\t\t\\\n\tSPRD_PLL_WITH_ITABLE_K_FVCO(_struct, _name, _parent, _reg,\t\\\n\t\t\t\t    _regs_num, _itable, _factors,\t\\\n\t\t\t\t    _udelay, _k1, _k2, 0, 0)\n\n#define SPRD_PLL_WITH_ITABLE_1K(_struct, _name, _parent, _reg,\t\t\\\n\t\t\t\t_regs_num, _itable, _factors, _udelay)\t\\\n\tSPRD_PLL_WITH_ITABLE_K_FVCO(_struct, _name, _parent, _reg,\t\\\n\t\t\t\t    _regs_num, _itable, _factors,\t\\\n\t\t\t\t    _udelay, 1000, 1000, 0, 0)\n\n#define SPRD_PLL_FW_NAME(_struct, _name, _parent, _reg, _regs_num,\t\\\n\t\t\t _itable, _factors, _udelay, _k1, _k2,\t\t\\\n\t\t\t _fflag, _fvco)\t\t\t\t\t\\\n\tSPRD_PLL_HW_INIT_FN(_struct, _name, _parent, _reg, _regs_num,\t\\\n\t\t\t    _itable, _factors, _udelay, _k1, _k2,\t\\\n\t\t\t    _fflag, _fvco, CLK_HW_INIT_FW_NAME)\n\n#define SPRD_PLL_HW(_struct, _name, _parent, _reg, _regs_num, _itable,\t\\\n\t\t    _factors, _udelay, _k1, _k2, _fflag, _fvco)\t\t\\\n\tSPRD_PLL_HW_INIT_FN(_struct, _name, _parent, _reg, _regs_num,\t\\\n\t\t\t    _itable, _factors, _udelay, _k1, _k2,\t\\\n\t\t\t    _fflag, _fvco, CLK_HW_INIT_HW)\n\nstatic inline struct sprd_pll *hw_to_sprd_pll(struct clk_hw *hw)\n{\n\tstruct sprd_clk_common *common = hw_to_sprd_clk_common(hw);\n\n\treturn container_of(common, struct sprd_pll, common);\n}\n\nextern const struct clk_ops sprd_pll_ops;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}