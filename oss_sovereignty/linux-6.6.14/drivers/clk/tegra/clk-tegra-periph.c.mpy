{
  "module_name": "clk-tegra-periph.c",
  "hash_id": "1f38e91eb476c58d21b553805c8e7898f01c8a08306f4082d9c73defe5982dec",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/tegra/clk-tegra-periph.c",
  "human_readable_source": "\n \n\n#include <linux/io.h>\n#include <linux/clk-provider.h>\n#include <linux/clkdev.h>\n#include <linux/of.h>\n#include <linux/of_address.h>\n#include <linux/delay.h>\n#include <linux/export.h>\n#include <linux/clk/tegra.h>\n\n#include \"clk.h\"\n#include \"clk-id.h\"\n\n#define CLK_SOURCE_I2S0 0x1d8\n#define CLK_SOURCE_I2S1 0x100\n#define CLK_SOURCE_I2S2 0x104\n#define CLK_SOURCE_NDFLASH 0x160\n#define CLK_SOURCE_I2S3 0x3bc\n#define CLK_SOURCE_I2S4 0x3c0\n#define CLK_SOURCE_SPDIF_OUT 0x108\n#define CLK_SOURCE_SPDIF_IN 0x10c\n#define CLK_SOURCE_PWM 0x110\n#define CLK_SOURCE_ADX 0x638\n#define CLK_SOURCE_ADX1 0x670\n#define CLK_SOURCE_AMX 0x63c\n#define CLK_SOURCE_AMX1 0x674\n#define CLK_SOURCE_HDA 0x428\n#define CLK_SOURCE_HDA2CODEC_2X 0x3e4\n#define CLK_SOURCE_SBC1 0x134\n#define CLK_SOURCE_SBC2 0x118\n#define CLK_SOURCE_SBC3 0x11c\n#define CLK_SOURCE_SBC4 0x1b4\n#define CLK_SOURCE_SBC5 0x3c8\n#define CLK_SOURCE_SBC6 0x3cc\n#define CLK_SOURCE_SATA_OOB 0x420\n#define CLK_SOURCE_SATA 0x424\n#define CLK_SOURCE_NDSPEED 0x3f8\n#define CLK_SOURCE_VFIR 0x168\n#define CLK_SOURCE_SDMMC1 0x150\n#define CLK_SOURCE_SDMMC2 0x154\n#define CLK_SOURCE_SDMMC3 0x1bc\n#define CLK_SOURCE_SDMMC4 0x164\n#define CLK_SOURCE_CVE 0x140\n#define CLK_SOURCE_TVO 0x188\n#define CLK_SOURCE_TVDAC 0x194\n#define CLK_SOURCE_VDE 0x1c8\n#define CLK_SOURCE_CSITE 0x1d4\n#define CLK_SOURCE_LA 0x1f8\n#define CLK_SOURCE_TRACE 0x634\n#define CLK_SOURCE_OWR 0x1cc\n#define CLK_SOURCE_NOR 0x1d0\n#define CLK_SOURCE_MIPI 0x174\n#define CLK_SOURCE_I2C1 0x124\n#define CLK_SOURCE_I2C2 0x198\n#define CLK_SOURCE_I2C3 0x1b8\n#define CLK_SOURCE_I2C4 0x3c4\n#define CLK_SOURCE_I2C5 0x128\n#define CLK_SOURCE_I2C6 0x65c\n#define CLK_SOURCE_UARTA 0x178\n#define CLK_SOURCE_UARTB 0x17c\n#define CLK_SOURCE_UARTC 0x1a0\n#define CLK_SOURCE_UARTD 0x1c0\n#define CLK_SOURCE_UARTE 0x1c4\n#define CLK_SOURCE_3D 0x158\n#define CLK_SOURCE_2D 0x15c\n#define CLK_SOURCE_MPE 0x170\n#define CLK_SOURCE_VI_SENSOR 0x1a8\n#define CLK_SOURCE_VI 0x148\n#define CLK_SOURCE_EPP 0x16c\n#define CLK_SOURCE_MSENC 0x1f0\n#define CLK_SOURCE_TSEC 0x1f4\n#define CLK_SOURCE_HOST1X 0x180\n#define CLK_SOURCE_HDMI 0x18c\n#define CLK_SOURCE_DISP1 0x138\n#define CLK_SOURCE_DISP2 0x13c\n#define CLK_SOURCE_CILAB 0x614\n#define CLK_SOURCE_CILCD 0x618\n#define CLK_SOURCE_CILE 0x61c\n#define CLK_SOURCE_DSIALP 0x620\n#define CLK_SOURCE_DSIBLP 0x624\n#define CLK_SOURCE_TSENSOR 0x3b8\n#define CLK_SOURCE_D_AUDIO 0x3d0\n#define CLK_SOURCE_DAM0 0x3d8\n#define CLK_SOURCE_DAM1 0x3dc\n#define CLK_SOURCE_DAM2 0x3e0\n#define CLK_SOURCE_ACTMON 0x3e8\n#define CLK_SOURCE_EXTERN1 0x3ec\n#define CLK_SOURCE_EXTERN2 0x3f0\n#define CLK_SOURCE_EXTERN3 0x3f4\n#define CLK_SOURCE_I2CSLOW 0x3fc\n#define CLK_SOURCE_SE 0x42c\n#define CLK_SOURCE_MSELECT 0x3b4\n#define CLK_SOURCE_DFLL_REF 0x62c\n#define CLK_SOURCE_DFLL_SOC 0x630\n#define CLK_SOURCE_SOC_THERM 0x644\n#define CLK_SOURCE_XUSB_HOST_SRC 0x600\n#define CLK_SOURCE_XUSB_FALCON_SRC 0x604\n#define CLK_SOURCE_XUSB_FS_SRC 0x608\n#define CLK_SOURCE_XUSB_SS_SRC 0x610\n#define CLK_SOURCE_XUSB_DEV_SRC 0x60c\n#define CLK_SOURCE_ISP 0x144\n#define CLK_SOURCE_SOR0 0x414\n#define CLK_SOURCE_DPAUX 0x418\n#define CLK_SOURCE_ENTROPY 0x628\n#define CLK_SOURCE_VI_SENSOR2 0x658\n#define CLK_SOURCE_HDMI_AUDIO 0x668\n#define CLK_SOURCE_VIC03 0x678\n#define CLK_SOURCE_CLK72MHZ 0x66c\n#define CLK_SOURCE_DBGAPB 0x718\n#define CLK_SOURCE_NVENC 0x6a0\n#define CLK_SOURCE_NVDEC 0x698\n#define CLK_SOURCE_NVJPG 0x69c\n#define CLK_SOURCE_APE 0x6c0\n#define CLK_SOURCE_SDMMC_LEGACY 0x694\n#define CLK_SOURCE_QSPI 0x6c4\n#define CLK_SOURCE_VI_I2C 0x6c8\n#define CLK_SOURCE_MIPIBIF 0x660\n#define CLK_SOURCE_UARTAPE 0x710\n#define CLK_SOURCE_TSECB 0x6d8\n#define CLK_SOURCE_MAUD 0x6d4\n#define CLK_SOURCE_USB2_HSIC_TRK 0x6cc\n#define CLK_SOURCE_DMIC1 0x64c\n#define CLK_SOURCE_DMIC2 0x650\n#define CLK_SOURCE_DMIC3 0x6bc\n\n#define MASK(x) (BIT(x) - 1)\n\n#define MUX(_name, _parents, _offset,\t\\\n\t\t\t    _clk_num, _gate_flags, _clk_id)\t\\\n\tTEGRA_INIT_DATA_TABLE(_name, NULL, NULL, _parents, _offset,\\\n\t\t\t30, MASK(2), 0, 0, 8, 1, TEGRA_DIVIDER_ROUND_UP, \\\n\t\t\t_clk_num,  _gate_flags, _clk_id, _parents##_idx, 0,\\\n\t\t\tNULL)\n\n#define MUX_FLAGS(_name, _parents, _offset,\\\n\t\t\t    _clk_num, _gate_flags, _clk_id, flags)\\\n\tTEGRA_INIT_DATA_TABLE(_name, NULL, NULL, _parents, _offset,\\\n\t\t\t30, MASK(2), 0, 0, 8, 1, TEGRA_DIVIDER_ROUND_UP,\\\n\t\t\t_clk_num, _gate_flags, _clk_id, _parents##_idx, flags,\\\n\t\t\tNULL)\n\n#define MUX8(_name, _parents, _offset, \\\n\t\t\t     _clk_num, _gate_flags, _clk_id)\t\\\n\tTEGRA_INIT_DATA_TABLE(_name, NULL, NULL, _parents, _offset,\\\n\t\t\t29, MASK(3), 0, 0, 8, 1, TEGRA_DIVIDER_ROUND_UP,\\\n\t\t\t_clk_num, _gate_flags, _clk_id, _parents##_idx, 0,\\\n\t\t\tNULL)\n\n#define MUX8_NOGATE_LOCK(_name, _parents, _offset, _clk_id, _lock)\t\\\n\tTEGRA_INIT_DATA_TABLE(_name, NULL, NULL, _parents, _offset,\t\\\n\t\t\t      29, MASK(3), 0, 0, 8, 1, TEGRA_DIVIDER_ROUND_UP,\\\n\t\t\t      0, TEGRA_PERIPH_NO_GATE, _clk_id,\\\n\t\t\t      _parents##_idx, 0, _lock)\n\n#define MUX8_NOGATE(_name, _parents, _offset, _clk_id)\t\\\n\tTEGRA_INIT_DATA_TABLE(_name, NULL, NULL, _parents, _offset,\t\\\n\t\t\t      29, MASK(3), 0, 0, 8, 1, TEGRA_DIVIDER_ROUND_UP,\\\n\t\t\t      0, TEGRA_PERIPH_NO_GATE, _clk_id,\\\n\t\t\t      _parents##_idx, 0, NULL)\n\n#define INT(_name, _parents, _offset,\t\\\n\t\t\t    _clk_num, _gate_flags, _clk_id)\t\\\n\tTEGRA_INIT_DATA_TABLE(_name, NULL, NULL, _parents, _offset,\\\n\t\t\t30, MASK(2), 0, 0, 8, 1, TEGRA_DIVIDER_INT| \\\n\t\t\tTEGRA_DIVIDER_ROUND_UP, _clk_num, _gate_flags,\\\n\t\t\t_clk_id, _parents##_idx, 0, NULL)\n\n#define INT_FLAGS(_name, _parents, _offset,\\\n\t\t\t    _clk_num, _gate_flags, _clk_id, flags)\\\n\tTEGRA_INIT_DATA_TABLE(_name, NULL, NULL, _parents, _offset,\\\n\t\t\t30, MASK(2), 0, 0, 8, 1, TEGRA_DIVIDER_INT| \\\n\t\t\tTEGRA_DIVIDER_ROUND_UP, _clk_num,  _gate_flags,\\\n\t\t\t_clk_id, _parents##_idx, flags, NULL)\n\n#define INT8(_name, _parents, _offset,\\\n\t\t\t    _clk_num, _gate_flags, _clk_id)\t\\\n\tTEGRA_INIT_DATA_TABLE(_name, NULL, NULL, _parents, _offset,\\\n\t\t\t29, MASK(3), 0, 0, 8, 1, TEGRA_DIVIDER_INT| \\\n\t\t\tTEGRA_DIVIDER_ROUND_UP, _clk_num, _gate_flags,\\\n\t\t\t_clk_id, _parents##_idx, 0, NULL)\n\n#define UART(_name, _parents, _offset,\\\n\t\t\t     _clk_num, _clk_id)\t\t\t\\\n\tTEGRA_INIT_DATA_TABLE(_name, NULL, NULL, _parents, _offset,\\\n\t\t\t30, MASK(2), 0, 0, 16, 1, TEGRA_DIVIDER_UART| \\\n\t\t\tTEGRA_DIVIDER_ROUND_UP, _clk_num, 0, _clk_id,\\\n\t\t\t_parents##_idx, 0, NULL)\n\n#define UART8(_name, _parents, _offset,\\\n\t\t\t     _clk_num, _clk_id)\t\t\t\\\n\tTEGRA_INIT_DATA_TABLE(_name, NULL, NULL, _parents, _offset,\\\n\t\t\t29, MASK(3), 0, 0, 16, 1, TEGRA_DIVIDER_UART| \\\n\t\t\tTEGRA_DIVIDER_ROUND_UP, _clk_num, 0, _clk_id,\\\n\t\t\t_parents##_idx, 0, NULL)\n\n#define I2C(_name, _parents, _offset,\\\n\t\t\t     _clk_num, _clk_id)\t\t\t\\\n\tTEGRA_INIT_DATA_TABLE(_name, NULL, NULL, _parents, _offset,\\\n\t\t\t30, MASK(2), 0, 0, 16, 0, TEGRA_DIVIDER_ROUND_UP,\\\n\t\t\t_clk_num, TEGRA_PERIPH_ON_APB, _clk_id, \\\n\t\t\t_parents##_idx, 0, NULL)\n\n#define XUSB(_name, _parents, _offset, \\\n\t\t\t     _clk_num, _gate_flags, _clk_id)\t \\\n\tTEGRA_INIT_DATA_TABLE(_name, NULL, NULL, _parents, _offset, \\\n\t\t\t29, MASK(3), 0, 0, 8, 1, TEGRA_DIVIDER_INT| \\\n\t\t\tTEGRA_DIVIDER_ROUND_UP, _clk_num, _gate_flags,\\\n\t\t\t_clk_id, _parents##_idx, 0, NULL)\n\n#define AUDIO(_name, _offset,  _clk_num,\\\n\t\t\t\t _gate_flags, _clk_id)\t\t\\\n\tTEGRA_INIT_DATA_TABLE(_name, NULL, NULL, mux_d_audio_clk,\t\\\n\t\t\t_offset, 16, 0xE01F, 0, 0, 8, 1,\t\t\\\n\t\t\tTEGRA_DIVIDER_ROUND_UP, _clk_num, _gate_flags,\t\\\n\t\t\t_clk_id, mux_d_audio_clk_idx, 0, NULL)\n\n#define NODIV(_name, _parents, _offset, \\\n\t\t\t      _mux_shift, _mux_mask, _clk_num, \\\n\t\t\t      _gate_flags, _clk_id, _lock)\t\t\\\n\tTEGRA_INIT_DATA_TABLE(_name, NULL, NULL, _parents, _offset,\\\n\t\t\t_mux_shift, _mux_mask, 0, 0, 0, 0, 0,\\\n\t\t\t_clk_num, (_gate_flags) | TEGRA_PERIPH_NO_DIV,\\\n\t\t\t_clk_id, _parents##_idx, 0, _lock)\n\n#define GATE(_name, _parent_name,\t\\\n\t\t\t     _clk_num, _gate_flags,  _clk_id, _flags)\t\\\n\t{\t\t\t\t\t\t\t\t\\\n\t\t.name = _name,\t\t\t\t\t\t\\\n\t\t.clk_id = _clk_id,\t\t\t\t\t\\\n\t\t.p.parent_name = _parent_name,\t\t\t\t\\\n\t\t.periph = TEGRA_CLK_PERIPH(0, 0, 0, 0, 0, 0, 0,\t\t\\\n\t\t\t\t_clk_num, _gate_flags, NULL, NULL),\t\\\n\t\t.flags = _flags\t\t\t\t\t\t\\\n\t}\n\n#define DIV8(_name, _parent_name, _offset, _clk_id, _flags)\t\t\\\n\t{\t\t\t\t\t\t\t\t\\\n\t\t.name = _name,\t\t\t\t\t\t\\\n\t\t.clk_id = _clk_id,\t\t\t\t\t\\\n\t\t.p.parent_name = _parent_name,\t\t\t\t\\\n\t\t.periph = TEGRA_CLK_PERIPH(0, 0, 0, 0, 8, 1,\t\t\\\n\t\t\t\tTEGRA_DIVIDER_ROUND_UP, 0, 0,\t\t\\\n\t\t\t\tNULL, NULL),\t\t\t\t\\\n\t\t.offset = _offset,\t\t\t\t\t\\\n\t\t.flags = _flags,\t\t\t\t\t\\\n\t}\n\n#define PLLP_BASE 0xa0\n#define PLLP_MISC 0xac\n#define PLLP_MISC1 0x680\n#define PLLP_OUTA 0xa4\n#define PLLP_OUTB 0xa8\n#define PLLP_OUTC 0x67c\n\n#define PLL_BASE_LOCK BIT(27)\n#define PLL_MISC_LOCK_ENABLE 18\n\nstatic DEFINE_SPINLOCK(PLLP_OUTA_lock);\nstatic DEFINE_SPINLOCK(PLLP_OUTB_lock);\nstatic DEFINE_SPINLOCK(PLLP_OUTC_lock);\n\n#define MUX_I2S_SPDIF(_id)\t\t\t\t\t\t\\\nstatic const char *mux_pllaout0_##_id##_2x_pllp_clkm[] = { \"pll_a_out0\", \\\n\t\t\t\t\t\t\t   #_id, \"pll_p\",\\\n\t\t\t\t\t\t\t   \"clk_m\"};\nMUX_I2S_SPDIF(audio0)\nMUX_I2S_SPDIF(audio1)\nMUX_I2S_SPDIF(audio2)\nMUX_I2S_SPDIF(audio3)\nMUX_I2S_SPDIF(audio4)\nMUX_I2S_SPDIF(audio)\n\n#define mux_pllaout0_audio0_2x_pllp_clkm_idx NULL\n#define mux_pllaout0_audio1_2x_pllp_clkm_idx NULL\n#define mux_pllaout0_audio2_2x_pllp_clkm_idx NULL\n#define mux_pllaout0_audio3_2x_pllp_clkm_idx NULL\n#define mux_pllaout0_audio4_2x_pllp_clkm_idx NULL\n#define mux_pllaout0_audio_2x_pllp_clkm_idx NULL\n\nstatic const char *mux_pllp_pllc_pllm_clkm[] = {\n\t\"pll_p\", \"pll_c\", \"pll_m\", \"clk_m\"\n};\n#define mux_pllp_pllc_pllm_clkm_idx NULL\n\nstatic const char *mux_pllp_pllc_pllm[] = { \"pll_p\", \"pll_c\", \"pll_m\" };\n#define mux_pllp_pllc_pllm_idx NULL\n\nstatic const char *mux_pllp_pllc_clk32_clkm[] = {\n\t\"pll_p\", \"pll_c\", \"clk_32k\", \"clk_m\"\n};\n#define mux_pllp_pllc_clk32_clkm_idx NULL\n\nstatic const char *mux_plla_pllc_pllp_clkm[] = {\n\t\"pll_a_out0\", \"pll_c\", \"pll_p\", \"clk_m\"\n};\n#define mux_plla_pllc_pllp_clkm_idx mux_pllp_pllc_pllm_clkm_idx\n\nstatic const char *mux_pllp_pllc2_c_c3_pllm_clkm[] = {\n\t\"pll_p\", \"pll_c2\", \"pll_c\", \"pll_c3\", \"pll_m\", \"clk_m\"\n};\nstatic u32 mux_pllp_pllc2_c_c3_pllm_clkm_idx[] = {\n\t[0] = 0, [1] = 1, [2] = 2, [3] = 3, [4] = 4, [5] = 6,\n};\n\nstatic const char *mux_pllp_clkm[] = {\n\t\"pll_p\", \"clk_m\"\n};\nstatic u32 mux_pllp_clkm_idx[] = {\n\t[0] = 0, [1] = 3,\n};\n\nstatic const char *mux_pllp_clkm_2[] = {\n\t\"pll_p\", \"clk_m\"\n};\nstatic u32 mux_pllp_clkm_2_idx[] = {\n\t[0] = 2, [1] = 6,\n};\n\nstatic const char *mux_pllc2_c_c3_pllp_plla1_clkm[] = {\n\t\"pll_c2\", \"pll_c\", \"pll_c3\", \"pll_p\", \"pll_a1\", \"clk_m\"\n};\nstatic u32 mux_pllc2_c_c3_pllp_plla1_clkm_idx[] = {\n\t[0] = 1, [1] = 2, [2] = 3, [3] = 4, [4] = 6, [5] = 7,\n};\n\nstatic const char *\nmux_pllc4_out1_pllc_pllc4_out2_pllp_clkm_plla_pllc4_out0[] = {\n\t\"pll_c4_out1\", \"pll_c\", \"pll_c4_out2\", \"pll_p\", \"clk_m\",\n\t\"pll_a_out0\", \"pll_c4_out0\"\n};\nstatic u32 mux_pllc4_out1_pllc_pllc4_out2_pllp_clkm_plla_pllc4_out0_idx[] = {\n\t[0] = 0, [1] = 2, [2] = 3, [3] = 4, [4] = 5, [5] = 6, [6] = 7,\n};\n\nstatic const char *mux_pllc_pllp_plla[] = {\n\t\"pll_c\", \"pll_p\", \"pll_a_out0\"\n};\nstatic u32 mux_pllc_pllp_plla_idx[] = {\n\t[0] = 1, [1] = 2, [2] = 3,\n};\n\nstatic const char *mux_clkm_pllc_pllp_plla[] = {\n\t\"clk_m\", \"pll_c\", \"pll_p\", \"pll_a_out0\"\n};\n#define mux_clkm_pllc_pllp_plla_idx NULL\n\nstatic const char *mux_pllc_pllp_plla1_pllc2_c3_clkm[] = {\n\t\"pll_c\", \"pll_p\", \"pll_a1\", \"pll_c2\", \"pll_c3\", \"clk_m\"\n};\nstatic u32 mux_pllc_pllp_plla1_pllc2_c3_clkm_idx[] = {\n\t[0] = 1, [1] = 2, [2] = 3, [3] = 4, [4] = 5, [5] = 6,\n};\n\nstatic const char *mux_pllc2_c_c3_pllp_clkm_plla1_pllc4[] = {\n\t\"pll_c2\", \"pll_c\", \"pll_c3\", \"pll_p\", \"clk_m\", \"pll_a1\", \"pll_c4_out0\",\n};\nstatic u32 mux_pllc2_c_c3_pllp_clkm_plla1_pllc4_idx[] = {\n\t[0] = 1, [1] = 2, [2] = 3, [3] = 4, [4] = 5, [5] = 6, [6] = 7,\n};\n\nstatic const char *mux_pllc_pllp_plla1_pllc2_c3_clkm_pllc4[] = {\n\t\"pll_c\", \"pll_p\", \"pll_a1\", \"pll_c2\", \"pll_c3\", \"clk_m\", \"pll_c4_out0\",\n};\n#define mux_pllc_pllp_plla1_pllc2_c3_clkm_pllc4_idx \\\n\tmux_pllc2_c_c3_pllp_clkm_plla1_pllc4_idx\n\nstatic const char *\nmux_plla_pllc4_out0_pllc_pllc4_out1_pllp_pllc4_out2_clkm[] = {\n\t\"pll_a_out0\", \"pll_c4_out0\", \"pll_c\", \"pll_c4_out1\", \"pll_p\",\n\t\"pll_c4_out2\", \"clk_m\"\n};\n#define mux_plla_pllc4_out0_pllc_pllc4_out1_pllp_pllc4_out2_clkm_idx NULL\n\nstatic const char *mux_pllm_pllc2_c_c3_pllp_plla[] = {\n\t\"pll_m\", \"pll_c2\", \"pll_c\", \"pll_c3\", \"pll_p\", \"pll_a_out0\"\n};\n#define mux_pllm_pllc2_c_c3_pllp_plla_idx mux_pllp_pllc2_c_c3_pllm_clkm_idx\n\nstatic const char *mux_pllp_pllm_plld_plla_pllc_plld2_clkm[] = {\n\t\"pll_p\", \"pll_m\", \"pll_d_out0\", \"pll_a_out0\", \"pll_c\",\n\t\"pll_d2_out0\", \"clk_m\"\n};\n#define mux_pllp_pllm_plld_plla_pllc_plld2_clkm_idx NULL\n\nstatic const char *mux_pllm_pllc_pllp_plla[] = {\n\t\"pll_m\", \"pll_c\", \"pll_p\", \"pll_a_out0\"\n};\n#define mux_pllm_pllc_pllp_plla_idx mux_pllp_pllc_pllm_clkm_idx\n\nstatic const char *mux_pllp_pllc_clkm[] = {\n\t\"pll_p\", \"pll_c\", \"clk_m\"\n};\nstatic u32 mux_pllp_pllc_clkm_idx[] = {\n\t[0] = 0, [1] = 1, [2] = 3,\n};\n\nstatic const char *mux_pllp_pllc_clkm_1[] = {\n\t\"pll_p\", \"pll_c\", \"clk_m\"\n};\nstatic u32 mux_pllp_pllc_clkm_1_idx[] = {\n\t[0] = 0, [1] = 2, [2] = 5,\n};\n\nstatic const char *mux_pllp_pllc_plla_clkm[] = {\n\t\"pll_p\", \"pll_c\", \"pll_a_out0\", \"clk_m\"\n};\nstatic u32 mux_pllp_pllc_plla_clkm_idx[] = {\n\t[0] = 0, [1] = 2, [2] = 4, [3] = 6,\n};\n\nstatic const char *mux_pllp_pllc_pllc4_out0_pllc4_out1_clkm_pllc4_out2[] = {\n\t\"pll_p\", \"pll_c\", \"pll_c4_out0\", \"pll_c4_out1\", \"clk_m\", \"pll_c4_out2\"\n};\nstatic u32 mux_pllp_pllc_pllc4_out0_pllc4_out1_clkm_pllc4_out2_idx[] = {\n\t[0] = 0, [1] = 2, [2] = 3, [3] = 5, [4] = 6, [5] = 7,\n};\n\nstatic const char *\nmux_pllp_pllc_pllc_out1_pllc4_out2_pllc4_out1_clkm_pllc4_out0[] = {\n\t\"pll_p\", \"pll_c_out1\", \"pll_c\", \"pll_c4_out2\", \"pll_c4_out1\",\n\t\"clk_m\", \"pll_c4_out0\"\n};\nstatic u32\nmux_pllp_pllc_pllc_out1_pllc4_out2_pllc4_out1_clkm_pllc4_out0_idx[] = {\n\t[0] = 0, [1] = 1, [2] = 2, [3] = 4, [4] = 5, [5] = 6, [6] = 7,\n};\n\nstatic const char *mux_pllp_pllc4_out2_pllc4_out1_clkm_pllc4_out0[] = {\n\t\"pll_p\", \"pll_c4_out2\", \"pll_c4_out1\", \"clk_m\", \"pll_c4_out0\"\n};\nstatic u32 mux_pllp_pllc4_out2_pllc4_out1_clkm_pllc4_out0_idx[] = {\n\t[0] = 0, [1] = 3, [2] = 4, [3] = 6, [4] = 7,\n};\n\nstatic const char *mux_pllp_pllc2_c_c3_clkm[] = {\n\t\"pll_p\", \"pll_c2\", \"pll_c\", \"pll_c3\", \"clk_m\"\n};\nstatic u32 mux_pllp_pllc2_c_c3_clkm_idx[] = {\n\t[0] = 0, [1] = 1, [2] = 2, [3] = 3, [4] = 6,\n};\n\nstatic const char *mux_pllp_clkm_clk32_plle[] = {\n\t\"pll_p\", \"clk_m\", \"clk_32k\", \"pll_e\"\n};\nstatic u32 mux_pllp_clkm_clk32_plle_idx[] = {\n\t[0] = 0, [1] = 2, [2] = 4, [3] = 6,\n};\n\nstatic const char *mux_pllp_pllp_out3_clkm_clk32k_plla[] = {\n\t\"pll_p\", \"pll_p_out3\", \"clk_m\", \"clk_32k\", \"pll_a_out0\"\n};\n#define mux_pllp_pllp_out3_clkm_clk32k_plla_idx NULL\n\nstatic const char *mux_pllp_out3_clkm_pllp_pllc4[] = {\n\t\"pll_p_out3\", \"clk_m\", \"pll_p\", \"pll_c4_out0\", \"pll_c4_out1\",\n\t\"pll_c4_out2\"\n};\nstatic u32 mux_pllp_out3_clkm_pllp_pllc4_idx[] = {\n\t[0] = 0, [1] = 3, [2] = 4, [3] = 5, [4] = 6, [5] = 7,\n};\n\nstatic const char *mux_clkm_pllp_pllre[] = {\n\t\"clk_m\", \"pll_p_out_xusb\", \"pll_re_out\"\n};\nstatic u32 mux_clkm_pllp_pllre_idx[] = {\n\t[0] = 0, [1] = 1, [2] = 5,\n};\n\nstatic const char *mux_pllp_pllc_clkm_clk32[] = {\n\t\"pll_p\", \"pll_c\", \"clk_m\", \"clk_32k\"\n};\n#define mux_pllp_pllc_clkm_clk32_idx NULL\n\nstatic const char *mux_plla_clk32_pllp_clkm_plle[] = {\n\t\"pll_a_out0\", \"clk_32k\", \"pll_p\", \"clk_m\", \"pll_e_out0\"\n};\n#define mux_plla_clk32_pllp_clkm_plle_idx NULL\n\nstatic const char *mux_clkm_pllp_pllc_pllre[] = {\n\t\"clk_m\", \"pll_p\", \"pll_c\", \"pll_re_out\"\n};\nstatic u32 mux_clkm_pllp_pllc_pllre_idx[] = {\n\t[0] = 0, [1] = 1, [2] = 3, [3] = 5,\n};\n\nstatic const char *mux_clkm_48M_pllp_480M[] = {\n\t\"clk_m\", \"pll_u_48M\", \"pll_p\", \"pll_u_480M\"\n};\nstatic u32 mux_clkm_48M_pllp_480M_idx[] = {\n\t[0] = 0, [1] = 2, [2] = 4, [3] = 6,\n};\n\nstatic const char *mux_clkm_pllre_clk32_480M[] = {\n\t\"clk_m\", \"pll_re_out\", \"clk_32k\", \"pll_u_480M\"\n};\n#define mux_clkm_pllre_clk32_480M_idx NULL\n\nstatic const char *mux_clkm_pllre_clk32_480M_pllc_ref[] = {\n\t\"clk_m\", \"pll_re_out\", \"clk_32k\", \"pll_u_480M\", \"pll_c\", \"pll_ref\"\n};\nstatic u32 mux_clkm_pllre_clk32_480M_pllc_ref_idx[] = {\n\t[0] = 0, [1] = 1, [2] = 3, [3] = 3, [4] = 4, [5] = 7,\n};\n\nstatic const char *mux_pllp_out3_pllp_pllc_clkm[] = {\n\t\"pll_p_out3\", \"pll_p\", \"pll_c\", \"clk_m\"\n};\nstatic u32 mux_pllp_out3_pllp_pllc_clkm_idx[] = {\n\t[0] = 0, [1] = 1, [2] = 2, [3] = 6,\n};\n\nstatic const char *mux_ss_div2_60M[] = {\n\t\"xusb_ss_div2\", \"pll_u_60M\"\n};\n#define mux_ss_div2_60M_idx NULL\n\nstatic const char *mux_ss_div2_60M_ss[] = {\n\t\"xusb_ss_div2\", \"pll_u_60M\", \"xusb_ss_src\"\n};\n#define mux_ss_div2_60M_ss_idx NULL\n\nstatic const char *mux_ss_clkm[] = {\n\t\"xusb_ss_src\", \"clk_m\"\n};\n#define mux_ss_clkm_idx NULL\n\nstatic const char *mux_d_audio_clk[] = {\n\t\"pll_a_out0\", \"pll_p\", \"clk_m\", \"spdif_in_sync\", \"i2s0_sync\",\n\t\"i2s1_sync\", \"i2s2_sync\", \"i2s3_sync\", \"i2s4_sync\", \"vimclk_sync\",\n};\nstatic u32 mux_d_audio_clk_idx[] = {\n\t[0] = 0, [1] = 0x8000, [2] = 0xc000, [3] = 0xE000, [4] = 0xE001,\n\t[5] = 0xE002, [6] = 0xE003, [7] = 0xE004, [8] = 0xE005, [9] = 0xE007,\n};\n\nstatic const char *mux_pllp_plld_pllc_clkm[] = {\n\t\"pll_p\", \"pll_d_out0\", \"pll_c\", \"clk_m\"\n};\n#define mux_pllp_plld_pllc_clkm_idx NULL\nstatic const char *mux_pllm_pllc_pllp_plla_clkm_pllc4[] = {\n\t\"pll_m\", \"pll_c\", \"pll_p\", \"pll_a_out0\", \"clk_m\", \"pll_c4\",\n};\nstatic u32 mux_pllm_pllc_pllp_plla_clkm_pllc4_idx[] = {\n\t[0] = 0, [1] = 1, [2] = 3, [3] = 3, [4] = 6, [5] = 7,\n};\n\nstatic const char *mux_pllp_clkm1[] = {\n\t\"pll_p\", \"clk_m\",\n};\n#define mux_pllp_clkm1_idx NULL\n\nstatic const char *mux_pllp3_pllc_clkm[] = {\n\t\"pll_p_out3\", \"pll_c\", \"pll_c2\", \"clk_m\",\n};\n#define mux_pllp3_pllc_clkm_idx NULL\n\nstatic const char *mux_pllm_pllc_pllp_plla_pllc2_c3_clkm[] = {\n\t\"pll_m\", \"pll_c\", \"pll_p\", \"pll_a\", \"pll_c2\", \"pll_c3\", \"clk_m\"\n};\n#define mux_pllm_pllc_pllp_plla_pllc2_c3_clkm_idx NULL\n\nstatic const char *mux_pllm_pllc2_c_c3_pllp_plla_pllc4[] = {\n\t\"pll_m\", \"pll_c2\", \"pll_c\", \"pll_c3\", \"pll_p\", \"pll_a_out0\", \"pll_c4\",\n};\nstatic u32 mux_pllm_pllc2_c_c3_pllp_plla_pllc4_idx[] = {\n\t[0] = 0, [1] = 1, [2] = 2, [3] = 3, [4] = 4, [5] = 6, [6] = 7,\n};\n\n \nstatic const char *mux_pllp_plld_plld2_clkm[] = {\n\t\"pll_p\", \"pll_d_out0\", \"pll_d2_out0\", \"clk_m\"\n};\nstatic u32 mux_pllp_plld_plld2_clkm_idx[] = {\n\t[0] = 0, [1] = 2, [2] = 5, [3] = 6\n};\n\nstatic const char *mux_pllp_pllre_clkm[] = {\n\t\"pll_p\", \"pll_re_out1\", \"clk_m\"\n};\n\nstatic u32 mux_pllp_pllre_clkm_idx[] = {\n\t[0] = 0, [1] = 2, [2] = 3,\n};\n\nstatic const char * const mux_dmic1[] = {\n\t\"pll_a_out0\", \"dmic1_sync_clk\", \"pll_p\", \"clk_m\"\n};\n#define mux_dmic1_idx NULL\n\nstatic const char * const mux_dmic2[] = {\n\t\"pll_a_out0\", \"dmic2_sync_clk\", \"pll_p\", \"clk_m\"\n};\n#define mux_dmic2_idx NULL\n\nstatic const char * const mux_dmic3[] = {\n\t\"pll_a_out0\", \"dmic3_sync_clk\", \"pll_p\", \"clk_m\"\n};\n#define mux_dmic3_idx NULL\n\nstatic struct tegra_periph_init_data periph_clks[] = {\n\tAUDIO(\"d_audio\", CLK_SOURCE_D_AUDIO, 106, TEGRA_PERIPH_ON_APB, tegra_clk_d_audio),\n\tAUDIO(\"dam0\", CLK_SOURCE_DAM0, 108, TEGRA_PERIPH_ON_APB, tegra_clk_dam0),\n\tAUDIO(\"dam1\", CLK_SOURCE_DAM1, 109, TEGRA_PERIPH_ON_APB, tegra_clk_dam1),\n\tAUDIO(\"dam2\", CLK_SOURCE_DAM2, 110, TEGRA_PERIPH_ON_APB, tegra_clk_dam2),\n\tI2C(\"i2c1\", mux_pllp_clkm, CLK_SOURCE_I2C1, 12, tegra_clk_i2c1),\n\tI2C(\"i2c2\", mux_pllp_clkm, CLK_SOURCE_I2C2, 54, tegra_clk_i2c2),\n\tI2C(\"i2c3\", mux_pllp_clkm, CLK_SOURCE_I2C3, 67, tegra_clk_i2c3),\n\tI2C(\"i2c4\", mux_pllp_clkm, CLK_SOURCE_I2C4, 103, tegra_clk_i2c4),\n\tI2C(\"i2c5\", mux_pllp_clkm, CLK_SOURCE_I2C5, 47, tegra_clk_i2c5),\n\tI2C(\"i2c6\", mux_pllp_clkm, CLK_SOURCE_I2C6, 166, tegra_clk_i2c6),\n\tINT(\"vde\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_VDE, 61, 0, tegra_clk_vde),\n\tINT(\"vi\", mux_pllm_pllc_pllp_plla, CLK_SOURCE_VI, 20, 0, tegra_clk_vi),\n\tINT(\"epp\", mux_pllm_pllc_pllp_plla, CLK_SOURCE_EPP, 19, 0, tegra_clk_epp),\n\tINT(\"host1x\", mux_pllm_pllc_pllp_plla, CLK_SOURCE_HOST1X, 28, 0, tegra_clk_host1x),\n\tINT(\"mpe\", mux_pllm_pllc_pllp_plla, CLK_SOURCE_MPE, 60, 0, tegra_clk_mpe),\n\tINT(\"2d\", mux_pllm_pllc_pllp_plla, CLK_SOURCE_2D, 21, 0, tegra_clk_gr2d),\n\tINT(\"3d\", mux_pllm_pllc_pllp_plla, CLK_SOURCE_3D, 24, 0, tegra_clk_gr3d),\n\tINT8(\"vde\", mux_pllp_pllc2_c_c3_pllm_clkm, CLK_SOURCE_VDE, 61, 0, tegra_clk_vde_8),\n\tINT8(\"vi\", mux_pllm_pllc2_c_c3_pllp_plla, CLK_SOURCE_VI, 20, 0, tegra_clk_vi_8),\n\tINT8(\"vi\", mux_pllm_pllc2_c_c3_pllp_plla_pllc4, CLK_SOURCE_VI, 20, 0, tegra_clk_vi_9),\n\tINT8(\"vi\", mux_pllc2_c_c3_pllp_clkm_plla1_pllc4, CLK_SOURCE_VI, 20, 0, tegra_clk_vi_10),\n\tINT8(\"epp\", mux_pllm_pllc2_c_c3_pllp_plla, CLK_SOURCE_EPP, 19, 0, tegra_clk_epp_8),\n\tINT8(\"msenc\", mux_pllm_pllc2_c_c3_pllp_plla, CLK_SOURCE_MSENC, 91, TEGRA_PERIPH_WAR_1005168, tegra_clk_msenc),\n\tINT8(\"tsec\", mux_pllp_pllc2_c_c3_pllm_clkm, CLK_SOURCE_TSEC, 83, 0, tegra_clk_tsec),\n\tINT(\"tsec\", mux_pllp_pllc_clkm, CLK_SOURCE_TSEC, 83, 0, tegra_clk_tsec_8),\n\tINT8(\"host1x\", mux_pllm_pllc2_c_c3_pllp_plla, CLK_SOURCE_HOST1X, 28, 0, tegra_clk_host1x_8),\n\tINT8(\"host1x\", mux_pllc4_out1_pllc_pllc4_out2_pllp_clkm_plla_pllc4_out0, CLK_SOURCE_HOST1X, 28, 0, tegra_clk_host1x_9),\n\tINT8(\"se\", mux_pllp_pllc2_c_c3_pllm_clkm, CLK_SOURCE_SE, 127, TEGRA_PERIPH_ON_APB, tegra_clk_se),\n\tINT8(\"se\", mux_pllp_pllc2_c_c3_clkm, CLK_SOURCE_SE, 127, TEGRA_PERIPH_ON_APB, tegra_clk_se_10),\n\tINT8(\"2d\", mux_pllm_pllc2_c_c3_pllp_plla, CLK_SOURCE_2D, 21, 0, tegra_clk_gr2d_8),\n\tINT8(\"3d\", mux_pllm_pllc2_c_c3_pllp_plla, CLK_SOURCE_3D, 24, 0, tegra_clk_gr3d_8),\n\tINT8(\"vic03\", mux_pllm_pllc_pllp_plla_pllc2_c3_clkm, CLK_SOURCE_VIC03, 178, 0, tegra_clk_vic03),\n\tINT8(\"vic03\", mux_pllc_pllp_plla1_pllc2_c3_clkm, CLK_SOURCE_VIC03, 178, 0, tegra_clk_vic03_8),\n\tINT_FLAGS(\"mselect\", mux_pllp_clkm, CLK_SOURCE_MSELECT, 99, 0, tegra_clk_mselect, CLK_IGNORE_UNUSED),\n\tMUX(\"i2s0\", mux_pllaout0_audio0_2x_pllp_clkm, CLK_SOURCE_I2S0, 30, TEGRA_PERIPH_ON_APB, tegra_clk_i2s0),\n\tMUX(\"i2s1\", mux_pllaout0_audio1_2x_pllp_clkm, CLK_SOURCE_I2S1, 11, TEGRA_PERIPH_ON_APB, tegra_clk_i2s1),\n\tMUX(\"i2s2\", mux_pllaout0_audio2_2x_pllp_clkm, CLK_SOURCE_I2S2, 18, TEGRA_PERIPH_ON_APB, tegra_clk_i2s2),\n\tMUX(\"i2s3\", mux_pllaout0_audio3_2x_pllp_clkm, CLK_SOURCE_I2S3, 101, TEGRA_PERIPH_ON_APB, tegra_clk_i2s3),\n\tMUX(\"i2s4\", mux_pllaout0_audio4_2x_pllp_clkm, CLK_SOURCE_I2S4, 102, TEGRA_PERIPH_ON_APB, tegra_clk_i2s4),\n\tMUX(\"spdif_out\", mux_pllaout0_audio_2x_pllp_clkm, CLK_SOURCE_SPDIF_OUT, 10, TEGRA_PERIPH_ON_APB, tegra_clk_spdif_out),\n\tMUX(\"spdif_in\", mux_pllp_pllc_pllm, CLK_SOURCE_SPDIF_IN, 10, TEGRA_PERIPH_ON_APB, tegra_clk_spdif_in),\n\tMUX8(\"spdif_in\", mux_pllp_pllc_clkm_1, CLK_SOURCE_SPDIF_IN, 10, TEGRA_PERIPH_ON_APB, tegra_clk_spdif_in_8),\n\tMUX(\"pwm\", mux_pllp_pllc_clk32_clkm, CLK_SOURCE_PWM, 17, TEGRA_PERIPH_ON_APB, tegra_clk_pwm),\n\tMUX(\"adx\", mux_plla_pllc_pllp_clkm, CLK_SOURCE_ADX, 154, TEGRA_PERIPH_ON_APB, tegra_clk_adx),\n\tMUX(\"amx\", mux_plla_pllc_pllp_clkm, CLK_SOURCE_AMX, 153, TEGRA_PERIPH_ON_APB, tegra_clk_amx),\n\tMUX(\"hda\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_HDA, 125, TEGRA_PERIPH_ON_APB, tegra_clk_hda),\n\tMUX(\"hda\", mux_pllp_pllc_clkm, CLK_SOURCE_HDA, 125, TEGRA_PERIPH_ON_APB, tegra_clk_hda_8),\n\tMUX(\"hda2codec_2x\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_HDA2CODEC_2X, 111, TEGRA_PERIPH_ON_APB, tegra_clk_hda2codec_2x),\n\tMUX8(\"hda2codec_2x\", mux_pllp_pllc_plla_clkm, CLK_SOURCE_HDA2CODEC_2X, 111, TEGRA_PERIPH_ON_APB, tegra_clk_hda2codec_2x_8),\n\tMUX(\"vfir\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_VFIR, 7, TEGRA_PERIPH_ON_APB, tegra_clk_vfir),\n\tMUX(\"sdmmc1\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_SDMMC1, 14, TEGRA_PERIPH_ON_APB, tegra_clk_sdmmc1),\n\tMUX(\"sdmmc2\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_SDMMC2, 9, TEGRA_PERIPH_ON_APB, tegra_clk_sdmmc2),\n\tMUX(\"sdmmc3\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_SDMMC3, 69, TEGRA_PERIPH_ON_APB, tegra_clk_sdmmc3),\n\tMUX(\"sdmmc4\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_SDMMC4, 15, TEGRA_PERIPH_ON_APB, tegra_clk_sdmmc4),\n\tMUX8(\"sdmmc1\", mux_pllp_pllc4_out2_pllc4_out1_clkm_pllc4_out0, CLK_SOURCE_SDMMC1, 14, TEGRA_PERIPH_ON_APB, tegra_clk_sdmmc1_9),\n\tMUX8(\"sdmmc3\", mux_pllp_pllc4_out2_pllc4_out1_clkm_pllc4_out0, CLK_SOURCE_SDMMC3, 69, TEGRA_PERIPH_ON_APB, tegra_clk_sdmmc3_9),\n\tMUX(\"la\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_LA, 76, TEGRA_PERIPH_ON_APB, tegra_clk_la),\n\tMUX(\"trace\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_TRACE, 77, TEGRA_PERIPH_ON_APB, tegra_clk_trace),\n\tMUX(\"owr\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_OWR, 71, TEGRA_PERIPH_ON_APB, tegra_clk_owr),\n\tMUX(\"owr\", mux_pllp_pllc_clkm, CLK_SOURCE_OWR, 71, TEGRA_PERIPH_ON_APB, tegra_clk_owr_8),\n\tMUX(\"nor\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_NOR, 42, 0, tegra_clk_nor),\n\tMUX(\"mipi\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_MIPI, 50, TEGRA_PERIPH_ON_APB, tegra_clk_mipi),\n\tMUX(\"vi_sensor\", mux_pllm_pllc_pllp_plla, CLK_SOURCE_VI_SENSOR, 20, TEGRA_PERIPH_NO_RESET, tegra_clk_vi_sensor),\n\tMUX(\"vi_sensor\", mux_pllc_pllp_plla, CLK_SOURCE_VI_SENSOR, 20, TEGRA_PERIPH_NO_RESET, tegra_clk_vi_sensor_9),\n\tMUX(\"cilab\", mux_pllp_pllc_clkm, CLK_SOURCE_CILAB, 144, 0, tegra_clk_cilab),\n\tMUX(\"cilcd\", mux_pllp_pllc_clkm, CLK_SOURCE_CILCD, 145, 0, tegra_clk_cilcd),\n\tMUX(\"cile\", mux_pllp_pllc_clkm, CLK_SOURCE_CILE, 146, 0, tegra_clk_cile),\n\tMUX(\"dsialp\", mux_pllp_pllc_clkm, CLK_SOURCE_DSIALP, 147, 0, tegra_clk_dsialp),\n\tMUX(\"dsiblp\", mux_pllp_pllc_clkm, CLK_SOURCE_DSIBLP, 148, 0, tegra_clk_dsiblp),\n\tMUX(\"tsensor\", mux_pllp_pllc_clkm_clk32, CLK_SOURCE_TSENSOR, 100, TEGRA_PERIPH_ON_APB, tegra_clk_tsensor),\n\tMUX(\"actmon\", mux_pllp_pllc_clk32_clkm, CLK_SOURCE_ACTMON, 119, 0, tegra_clk_actmon),\n\tMUX(\"dfll_ref\", mux_pllp_clkm, CLK_SOURCE_DFLL_REF, 155, TEGRA_PERIPH_ON_APB, tegra_clk_dfll_ref),\n\tMUX(\"dfll_soc\", mux_pllp_clkm, CLK_SOURCE_DFLL_SOC, 155, TEGRA_PERIPH_ON_APB, tegra_clk_dfll_soc),\n\tMUX(\"i2cslow\", mux_pllp_pllc_clk32_clkm, CLK_SOURCE_I2CSLOW, 81, TEGRA_PERIPH_ON_APB, tegra_clk_i2cslow),\n\tMUX(\"sbc1\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_SBC1, 41, TEGRA_PERIPH_ON_APB, tegra_clk_sbc1),\n\tMUX(\"sbc2\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_SBC2, 44, TEGRA_PERIPH_ON_APB, tegra_clk_sbc2),\n\tMUX(\"sbc3\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_SBC3, 46, TEGRA_PERIPH_ON_APB, tegra_clk_sbc3),\n\tMUX(\"sbc4\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_SBC4, 68, TEGRA_PERIPH_ON_APB, tegra_clk_sbc4),\n\tMUX(\"sbc5\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_SBC5, 104, TEGRA_PERIPH_ON_APB, tegra_clk_sbc5),\n\tMUX(\"sbc6\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_SBC6, 105, TEGRA_PERIPH_ON_APB, tegra_clk_sbc6),\n\tMUX(\"cve\", mux_pllp_plld_pllc_clkm, CLK_SOURCE_CVE, 49, 0, tegra_clk_cve),\n\tMUX(\"tvo\", mux_pllp_plld_pllc_clkm, CLK_SOURCE_TVO, 49, 0, tegra_clk_tvo),\n\tMUX(\"tvdac\", mux_pllp_plld_pllc_clkm, CLK_SOURCE_TVDAC, 53, 0, tegra_clk_tvdac),\n\tMUX(\"ndflash\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_NDFLASH, 13, TEGRA_PERIPH_ON_APB, tegra_clk_ndflash),\n\tMUX(\"ndspeed\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_NDSPEED, 80, TEGRA_PERIPH_ON_APB, tegra_clk_ndspeed),\n\tMUX(\"sata_oob\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_SATA_OOB, 123, TEGRA_PERIPH_ON_APB, tegra_clk_sata_oob),\n\tMUX(\"sata_oob\", mux_pllp_pllc_clkm, CLK_SOURCE_SATA_OOB, 123, TEGRA_PERIPH_ON_APB, tegra_clk_sata_oob_8),\n\tMUX(\"sata\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_SATA, 124, TEGRA_PERIPH_ON_APB, tegra_clk_sata),\n\tMUX(\"sata\", mux_pllp_pllc_clkm, CLK_SOURCE_SATA, 124, TEGRA_PERIPH_ON_APB, tegra_clk_sata_8),\n\tMUX(\"adx1\", mux_plla_pllc_pllp_clkm, CLK_SOURCE_ADX1, 180, TEGRA_PERIPH_ON_APB, tegra_clk_adx1),\n\tMUX(\"amx1\", mux_plla_pllc_pllp_clkm, CLK_SOURCE_AMX1, 185, TEGRA_PERIPH_ON_APB, tegra_clk_amx1),\n\tMUX(\"vi_sensor2\", mux_pllm_pllc2_c_c3_pllp_plla, CLK_SOURCE_VI_SENSOR2, 165, TEGRA_PERIPH_NO_RESET, tegra_clk_vi_sensor2),\n\tMUX(\"vi_sensor2\", mux_pllc_pllp_plla, CLK_SOURCE_VI_SENSOR2, 165, TEGRA_PERIPH_NO_RESET, tegra_clk_vi_sensor2_8),\n\tMUX8(\"sdmmc1\", mux_pllp_pllc2_c_c3_pllm_clkm, CLK_SOURCE_SDMMC1, 14, TEGRA_PERIPH_ON_APB, tegra_clk_sdmmc1_8),\n\tMUX8(\"sdmmc2\", mux_pllp_pllc2_c_c3_pllm_clkm, CLK_SOURCE_SDMMC2, 9, TEGRA_PERIPH_ON_APB, tegra_clk_sdmmc2_8),\n\tMUX8(\"sdmmc3\", mux_pllp_pllc2_c_c3_pllm_clkm, CLK_SOURCE_SDMMC3, 69, TEGRA_PERIPH_ON_APB, tegra_clk_sdmmc3_8),\n\tMUX8(\"sdmmc4\", mux_pllp_pllc2_c_c3_pllm_clkm, CLK_SOURCE_SDMMC4, 15, TEGRA_PERIPH_ON_APB, tegra_clk_sdmmc4_8),\n\tMUX8(\"sbc1\", mux_pllp_pllc2_c_c3_pllm_clkm, CLK_SOURCE_SBC1, 41, TEGRA_PERIPH_ON_APB, tegra_clk_sbc1_8),\n\tMUX8(\"sbc2\", mux_pllp_pllc2_c_c3_pllm_clkm, CLK_SOURCE_SBC2, 44, TEGRA_PERIPH_ON_APB, tegra_clk_sbc2_8),\n\tMUX8(\"sbc3\", mux_pllp_pllc2_c_c3_pllm_clkm, CLK_SOURCE_SBC3, 46, TEGRA_PERIPH_ON_APB, tegra_clk_sbc3_8),\n\tMUX8(\"sbc4\", mux_pllp_pllc2_c_c3_pllm_clkm, CLK_SOURCE_SBC4, 68, TEGRA_PERIPH_ON_APB, tegra_clk_sbc4_8),\n\tMUX8(\"sbc5\", mux_pllp_pllc2_c_c3_pllm_clkm, CLK_SOURCE_SBC5, 104, TEGRA_PERIPH_ON_APB, tegra_clk_sbc5_8),\n\tMUX8(\"sbc6\", mux_pllp_pllc2_c_c3_pllm_clkm, CLK_SOURCE_SBC6, 105, TEGRA_PERIPH_ON_APB, tegra_clk_sbc6_8),\n\tMUX(\"sbc1\", mux_pllp_pllc_clkm, CLK_SOURCE_SBC1, 41, TEGRA_PERIPH_ON_APB, tegra_clk_sbc1_9),\n\tMUX(\"sbc2\", mux_pllp_pllc_clkm, CLK_SOURCE_SBC2, 44, TEGRA_PERIPH_ON_APB, tegra_clk_sbc2_9),\n\tMUX(\"sbc3\", mux_pllp_pllc_clkm, CLK_SOURCE_SBC3, 46, TEGRA_PERIPH_ON_APB, tegra_clk_sbc3_9),\n\tMUX(\"sbc4\", mux_pllp_pllc_clkm, CLK_SOURCE_SBC4, 68, TEGRA_PERIPH_ON_APB, tegra_clk_sbc4_9),\n\tMUX8(\"ndflash\", mux_pllp_pllc2_c_c3_pllm_clkm, CLK_SOURCE_NDFLASH, 13, TEGRA_PERIPH_ON_APB, tegra_clk_ndflash_8),\n\tMUX8(\"ndspeed\", mux_pllp_pllc2_c_c3_pllm_clkm, CLK_SOURCE_NDSPEED, 80, TEGRA_PERIPH_ON_APB, tegra_clk_ndspeed_8),\n\tMUX8(\"hdmi\", mux_pllp_pllm_plld_plla_pllc_plld2_clkm, CLK_SOURCE_HDMI, 51, 0, tegra_clk_hdmi),\n\tMUX8(\"extern1\", mux_plla_clk32_pllp_clkm_plle, CLK_SOURCE_EXTERN1, 120, TEGRA_PERIPH_NO_RESET, tegra_clk_extern1),\n\tMUX8(\"extern2\", mux_plla_clk32_pllp_clkm_plle, CLK_SOURCE_EXTERN2, 121, TEGRA_PERIPH_NO_RESET, tegra_clk_extern2),\n\tMUX8(\"extern3\", mux_plla_clk32_pllp_clkm_plle, CLK_SOURCE_EXTERN3, 122, TEGRA_PERIPH_NO_RESET, tegra_clk_extern3),\n\tMUX8(\"soc_therm\", mux_pllm_pllc_pllp_plla, CLK_SOURCE_SOC_THERM, 78, TEGRA_PERIPH_ON_APB, tegra_clk_soc_therm),\n\tMUX8(\"soc_therm\", mux_clkm_pllc_pllp_plla, CLK_SOURCE_SOC_THERM, 78, TEGRA_PERIPH_ON_APB, tegra_clk_soc_therm_8),\n\tMUX8(\"vi_sensor\", mux_pllm_pllc2_c_c3_pllp_plla, CLK_SOURCE_VI_SENSOR, 164, TEGRA_PERIPH_NO_RESET, tegra_clk_vi_sensor_8),\n\tMUX8(\"isp\", mux_pllm_pllc_pllp_plla_clkm_pllc4, CLK_SOURCE_ISP, 23, TEGRA_PERIPH_ON_APB, tegra_clk_isp_8),\n\tMUX8_NOGATE(\"isp\", mux_pllc_pllp_plla1_pllc2_c3_clkm_pllc4, CLK_SOURCE_ISP, tegra_clk_isp_9),\n\tMUX8(\"entropy\", mux_pllp_clkm1, CLK_SOURCE_ENTROPY, 149,  0, tegra_clk_entropy),\n\tMUX8(\"entropy\", mux_pllp_clkm_clk32_plle, CLK_SOURCE_ENTROPY, 149,  0, tegra_clk_entropy_8),\n\tMUX8(\"hdmi_audio\", mux_pllp3_pllc_clkm, CLK_SOURCE_HDMI_AUDIO, 176, TEGRA_PERIPH_NO_RESET, tegra_clk_hdmi_audio),\n\tMUX8(\"clk72mhz\", mux_pllp3_pllc_clkm, CLK_SOURCE_CLK72MHZ, 177, TEGRA_PERIPH_NO_RESET, tegra_clk_clk72Mhz),\n\tMUX8(\"clk72mhz\", mux_pllp_out3_pllp_pllc_clkm, CLK_SOURCE_CLK72MHZ, 177, TEGRA_PERIPH_NO_RESET, tegra_clk_clk72Mhz_8),\n\tMUX_FLAGS(\"csite\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_CSITE, 73, TEGRA_PERIPH_ON_APB, tegra_clk_csite, CLK_IGNORE_UNUSED),\n\tMUX_FLAGS(\"csite\", mux_pllp_pllre_clkm, CLK_SOURCE_CSITE, 73, TEGRA_PERIPH_ON_APB, tegra_clk_csite_8, CLK_IGNORE_UNUSED),\n\tNODIV(\"disp1\", mux_pllp_pllm_plld_plla_pllc_plld2_clkm, CLK_SOURCE_DISP1, 29, 7, 27, 0, tegra_clk_disp1, NULL),\n\tNODIV(\"disp1\", mux_pllp_plld_plld2_clkm, CLK_SOURCE_DISP1, 29, 7, 27, 0, tegra_clk_disp1_8, NULL),\n\tNODIV(\"disp2\", mux_pllp_pllm_plld_plla_pllc_plld2_clkm, CLK_SOURCE_DISP2, 29, 7, 26, 0, tegra_clk_disp2, NULL),\n\tNODIV(\"disp2\", mux_pllp_plld_plld2_clkm, CLK_SOURCE_DISP2, 29, 7, 26, 0, tegra_clk_disp2_8, NULL),\n\tUART(\"uarta\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_UARTA, 6, tegra_clk_uarta),\n\tUART(\"uartb\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_UARTB, 7, tegra_clk_uartb),\n\tUART(\"uartc\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_UARTC, 55, tegra_clk_uartc),\n\tUART(\"uartd\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_UARTD, 65, tegra_clk_uartd),\n\tUART(\"uarte\", mux_pllp_pllc_pllm_clkm, CLK_SOURCE_UARTE, 66, tegra_clk_uarte),\n\tUART8(\"uarta\", mux_pllp_pllc_pllc4_out0_pllc4_out1_clkm_pllc4_out2, CLK_SOURCE_UARTA, 6, tegra_clk_uarta_8),\n\tUART8(\"uartb\", mux_pllp_pllc_pllc4_out0_pllc4_out1_clkm_pllc4_out2, CLK_SOURCE_UARTB, 7, tegra_clk_uartb_8),\n\tUART8(\"uartc\", mux_pllp_pllc_pllc4_out0_pllc4_out1_clkm_pllc4_out2, CLK_SOURCE_UARTC, 55, tegra_clk_uartc_8),\n\tUART8(\"uartd\", mux_pllp_pllc_pllc4_out0_pllc4_out1_clkm_pllc4_out2, CLK_SOURCE_UARTD, 65, tegra_clk_uartd_8),\n\tXUSB(\"xusb_host_src\", mux_clkm_pllp_pllc_pllre, CLK_SOURCE_XUSB_HOST_SRC, 143, TEGRA_PERIPH_ON_APB | TEGRA_PERIPH_NO_RESET, tegra_clk_xusb_host_src),\n\tXUSB(\"xusb_host_src\", mux_clkm_pllp_pllre, CLK_SOURCE_XUSB_HOST_SRC, 143, TEGRA_PERIPH_ON_APB | TEGRA_PERIPH_NO_RESET, tegra_clk_xusb_host_src_8),\n\tXUSB(\"xusb_falcon_src\", mux_clkm_pllp_pllc_pllre, CLK_SOURCE_XUSB_FALCON_SRC, 143, TEGRA_PERIPH_NO_RESET, tegra_clk_xusb_falcon_src),\n\tXUSB(\"xusb_falcon_src\", mux_clkm_pllp_pllre, CLK_SOURCE_XUSB_FALCON_SRC, 143, TEGRA_PERIPH_NO_RESET, tegra_clk_xusb_falcon_src_8),\n\tXUSB(\"xusb_fs_src\", mux_clkm_48M_pllp_480M, CLK_SOURCE_XUSB_FS_SRC, 143, TEGRA_PERIPH_NO_RESET, tegra_clk_xusb_fs_src),\n\tXUSB(\"xusb_ss_src\", mux_clkm_pllre_clk32_480M_pllc_ref, CLK_SOURCE_XUSB_SS_SRC, 143, TEGRA_PERIPH_NO_RESET, tegra_clk_xusb_ss_src),\n\tXUSB(\"xusb_ss_src\", mux_clkm_pllre_clk32_480M, CLK_SOURCE_XUSB_SS_SRC, 143, TEGRA_PERIPH_NO_RESET, tegra_clk_xusb_ss_src_8),\n\tNODIV(\"xusb_hs_src\", mux_ss_div2_60M, CLK_SOURCE_XUSB_SS_SRC, 25, MASK(1), 143, TEGRA_PERIPH_NO_RESET, tegra_clk_xusb_hs_src, NULL),\n\tNODIV(\"xusb_hs_src\", mux_ss_div2_60M_ss, CLK_SOURCE_XUSB_SS_SRC, 25, MASK(2), 143, TEGRA_PERIPH_NO_RESET, tegra_clk_xusb_hs_src_4, NULL),\n\tNODIV(\"xusb_ssp_src\", mux_ss_clkm, CLK_SOURCE_XUSB_SS_SRC, 24, MASK(1), 143, TEGRA_PERIPH_NO_RESET, tegra_clk_xusb_ssp_src, NULL),\n\tXUSB(\"xusb_dev_src\", mux_clkm_pllp_pllc_pllre, CLK_SOURCE_XUSB_DEV_SRC, 95, TEGRA_PERIPH_ON_APB | TEGRA_PERIPH_NO_RESET, tegra_clk_xusb_dev_src),\n\tXUSB(\"xusb_dev_src\", mux_clkm_pllp_pllre, CLK_SOURCE_XUSB_DEV_SRC, 95, TEGRA_PERIPH_ON_APB | TEGRA_PERIPH_NO_RESET, tegra_clk_xusb_dev_src_8),\n\tMUX8(\"dbgapb\", mux_pllp_clkm_2, CLK_SOURCE_DBGAPB, 185, TEGRA_PERIPH_NO_RESET, tegra_clk_dbgapb),\n\tMUX8(\"nvenc\", mux_pllc2_c_c3_pllp_plla1_clkm, CLK_SOURCE_NVENC, 219, 0, tegra_clk_nvenc),\n\tMUX8(\"nvdec\", mux_pllc2_c_c3_pllp_plla1_clkm, CLK_SOURCE_NVDEC, 194, 0, tegra_clk_nvdec),\n\tMUX8(\"nvjpg\", mux_pllc2_c_c3_pllp_plla1_clkm, CLK_SOURCE_NVJPG, 195, 0, tegra_clk_nvjpg),\n\tMUX8(\"ape\", mux_plla_pllc4_out0_pllc_pllc4_out1_pllp_pllc4_out2_clkm, CLK_SOURCE_APE, 198, TEGRA_PERIPH_ON_APB, tegra_clk_ape),\n\tMUX8(\"sdmmc_legacy\", mux_pllp_out3_clkm_pllp_pllc4, CLK_SOURCE_SDMMC_LEGACY, 193, TEGRA_PERIPH_ON_APB | TEGRA_PERIPH_NO_RESET, tegra_clk_sdmmc_legacy),\n\tMUX8(\"qspi\", mux_pllp_pllc_pllc_out1_pllc4_out2_pllc4_out1_clkm_pllc4_out0, CLK_SOURCE_QSPI, 211, TEGRA_PERIPH_ON_APB, tegra_clk_qspi),\n\tI2C(\"vii2c\", mux_pllp_pllc_clkm, CLK_SOURCE_VI_I2C, 208, tegra_clk_vi_i2c),\n\tMUX(\"mipibif\", mux_pllp_clkm, CLK_SOURCE_MIPIBIF, 173, TEGRA_PERIPH_ON_APB, tegra_clk_mipibif),\n\tMUX(\"uartape\", mux_pllp_pllc_clkm, CLK_SOURCE_UARTAPE, 212, TEGRA_PERIPH_ON_APB | TEGRA_PERIPH_NO_RESET, tegra_clk_uartape),\n\tMUX8(\"tsecb\", mux_pllp_pllc2_c_c3_clkm, CLK_SOURCE_TSECB, 206, 0, tegra_clk_tsecb),\n\tMUX8(\"maud\", mux_pllp_pllp_out3_clkm_clk32k_plla, CLK_SOURCE_MAUD, 202, TEGRA_PERIPH_ON_APB | TEGRA_PERIPH_NO_RESET, tegra_clk_maud),\n\tMUX8(\"dmic1\", mux_dmic1, CLK_SOURCE_DMIC1, 161, TEGRA_PERIPH_ON_APB | TEGRA_PERIPH_NO_RESET, tegra_clk_dmic1),\n\tMUX8(\"dmic2\", mux_dmic2, CLK_SOURCE_DMIC2, 162, TEGRA_PERIPH_ON_APB | TEGRA_PERIPH_NO_RESET, tegra_clk_dmic2),\n\tMUX8(\"dmic3\", mux_dmic3, CLK_SOURCE_DMIC3, 197, TEGRA_PERIPH_ON_APB | TEGRA_PERIPH_NO_RESET, tegra_clk_dmic3),\n};\n\nstatic struct tegra_periph_init_data gate_clks[] = {\n\tGATE(\"rtc\", \"clk_32k\", 4, TEGRA_PERIPH_ON_APB | TEGRA_PERIPH_NO_RESET, tegra_clk_rtc, 0),\n\tGATE(\"timer\", \"clk_m\", 5, 0, tegra_clk_timer, CLK_IS_CRITICAL),\n\tGATE(\"isp\", \"clk_m\", 23, 0, tegra_clk_isp, 0),\n\tGATE(\"vcp\", \"clk_m\", 29, 0, tegra_clk_vcp, 0),\n\tGATE(\"ahbdma\", \"hclk\", 33, 0, tegra_clk_ahbdma, 0),\n\tGATE(\"apbdma\", \"pclk\", 34, 0, tegra_clk_apbdma, 0),\n\tGATE(\"kbc\", \"clk_32k\", 36, TEGRA_PERIPH_ON_APB | TEGRA_PERIPH_NO_RESET, tegra_clk_kbc, 0),\n\tGATE(\"fuse\", \"clk_m\", 39, TEGRA_PERIPH_ON_APB, tegra_clk_fuse, 0),\n\tGATE(\"fuse_burn\", \"clk_m\", 39, TEGRA_PERIPH_ON_APB, tegra_clk_fuse_burn, 0),\n\tGATE(\"kfuse\", \"clk_m\", 40, TEGRA_PERIPH_ON_APB, tegra_clk_kfuse, 0),\n\tGATE(\"apbif\", \"clk_m\", 107, TEGRA_PERIPH_ON_APB, tegra_clk_apbif, 0),\n\tGATE(\"hda2hdmi\", \"clk_m\", 128, TEGRA_PERIPH_ON_APB, tegra_clk_hda2hdmi, 0),\n\tGATE(\"bsea\", \"clk_m\", 62, 0, tegra_clk_bsea, 0),\n\tGATE(\"bsev\", \"clk_m\", 63, 0, tegra_clk_bsev, 0),\n\tGATE(\"mipi-cal\", \"clk72mhz\", 56, 0, tegra_clk_mipi_cal, 0),\n\tGATE(\"usbd\", \"clk_m\", 22, 0, tegra_clk_usbd, 0),\n\tGATE(\"usb2\", \"clk_m\", 58, 0, tegra_clk_usb2, 0),\n\tGATE(\"usb3\", \"clk_m\", 59, 0, tegra_clk_usb3, 0),\n\tGATE(\"csi\", \"pll_p_out3\", 52, 0, tegra_clk_csi, 0),\n\tGATE(\"afi\", \"mselect\", 72, 0, tegra_clk_afi, 0),\n\tGATE(\"csus\", \"clk_m\", 92, TEGRA_PERIPH_NO_RESET, tegra_clk_csus, 0),\n\tGATE(\"dds\", \"clk_m\", 150, TEGRA_PERIPH_ON_APB, tegra_clk_dds, 0),\n\tGATE(\"dp2\", \"clk_m\", 152, TEGRA_PERIPH_ON_APB, tegra_clk_dp2, 0),\n\tGATE(\"dtv\", \"clk_m\", 79, TEGRA_PERIPH_ON_APB, tegra_clk_dtv, 0),\n\tGATE(\"xusb_host\", \"xusb_host_src\", 89, 0, tegra_clk_xusb_host, 0),\n\tGATE(\"xusb_ss\", \"xusb_ss_src\", 156, 0, tegra_clk_xusb_ss, 0),\n\tGATE(\"xusb_dev\", \"xusb_dev_src\", 95, 0, tegra_clk_xusb_dev, 0),\n\tGATE(\"emc\", \"emc_mux\", 57, 0, tegra_clk_emc, CLK_IS_CRITICAL),\n\tGATE(\"sata_cold\", \"clk_m\", 129, TEGRA_PERIPH_ON_APB, tegra_clk_sata_cold, 0),\n\tGATE(\"ispa\", \"isp\", 23, 0, tegra_clk_ispa, 0),\n\tGATE(\"ispb\", \"isp\", 3, 0, tegra_clk_ispb, 0),\n\tGATE(\"vim2_clk\", \"clk_m\", 11, 0, tegra_clk_vim2_clk, 0),\n\tGATE(\"pcie\", \"clk_m\", 70, 0, tegra_clk_pcie, 0),\n\tGATE(\"gpu\", \"pll_ref\", 184, 0, tegra_clk_gpu, 0),\n\tGATE(\"pllg_ref\", \"pll_ref\", 189, 0, tegra_clk_pll_g_ref, 0),\n\tGATE(\"hsic_trk\", \"usb2_hsic_trk\", 209, TEGRA_PERIPH_NO_RESET, tegra_clk_hsic_trk, 0),\n\tGATE(\"usb2_trk\", \"usb2_hsic_trk\", 210, TEGRA_PERIPH_NO_RESET, tegra_clk_usb2_trk, 0),\n\tGATE(\"xusb_gate\", \"osc\", 143, 0, tegra_clk_xusb_gate, 0),\n\tGATE(\"pll_p_out_cpu\", \"pll_p\", 223, 0, tegra_clk_pll_p_out_cpu, 0),\n\tGATE(\"pll_p_out_adsp\", \"pll_p\", 187, 0, tegra_clk_pll_p_out_adsp, 0),\n\tGATE(\"apb2ape\", \"clk_m\", 107, 0, tegra_clk_apb2ape, 0),\n\tGATE(\"cec\", \"pclk\", 136, 0, tegra_clk_cec, 0),\n\tGATE(\"iqc1\", \"clk_m\", 221, 0, tegra_clk_iqc1, 0),\n\tGATE(\"iqc2\", \"clk_m\", 220, 0, tegra_clk_iqc1, 0),\n\tGATE(\"pll_a_out_adsp\", \"pll_a\", 188, 0, tegra_clk_pll_a_out_adsp, 0),\n\tGATE(\"pll_a_out0_out_adsp\", \"pll_a\", 188, 0, tegra_clk_pll_a_out0_out_adsp, 0),\n\tGATE(\"adsp\", \"aclk\", 199, 0, tegra_clk_adsp, 0),\n\tGATE(\"adsp_neon\", \"aclk\", 218, 0, tegra_clk_adsp_neon, 0),\n};\n\nstatic struct tegra_periph_init_data div_clks[] = {\n\tDIV8(\"usb2_hsic_trk\", \"osc\", CLK_SOURCE_USB2_HSIC_TRK, tegra_clk_usb2_hsic_trk, 0),\n};\n\nstruct pll_out_data {\n\tchar *div_name;\n\tchar *pll_out_name;\n\tu32 offset;\n\tint clk_id;\n\tu8 div_shift;\n\tu8 div_flags;\n\tu8 rst_shift;\n\tspinlock_t *lock;\n};\n\n#define PLL_OUT(_num, _offset, _div_shift, _div_flags, _rst_shift, _id) \\\n\t{\\\n\t\t.div_name = \"pll_p_out\" #_num \"_div\",\\\n\t\t.pll_out_name = \"pll_p_out\" #_num,\\\n\t\t.offset = _offset,\\\n\t\t.div_shift = _div_shift,\\\n\t\t.div_flags = _div_flags | TEGRA_DIVIDER_FIXED |\\\n\t\t\t\t\tTEGRA_DIVIDER_ROUND_UP,\\\n\t\t.rst_shift = _rst_shift,\\\n\t\t.clk_id = tegra_clk_ ## _id,\\\n\t\t.lock = &_offset ##_lock,\\\n\t}\n\nstatic struct pll_out_data pllp_out_clks[] = {\n\tPLL_OUT(1, PLLP_OUTA, 8, 0, 0, pll_p_out1),\n\tPLL_OUT(2, PLLP_OUTA, 24, 0, 16, pll_p_out2),\n\tPLL_OUT(2, PLLP_OUTA, 24, TEGRA_DIVIDER_INT, 16, pll_p_out2_int),\n\tPLL_OUT(3, PLLP_OUTB, 8, 0, 0, pll_p_out3),\n\tPLL_OUT(4, PLLP_OUTB, 24, 0, 16, pll_p_out4),\n\tPLL_OUT(5, PLLP_OUTC, 24, 0, 16, pll_p_out5),\n};\n\nstatic void __init periph_clk_init(void __iomem *clk_base,\n\t\t\t\tstruct tegra_clk *tegra_clks)\n{\n\tint i;\n\tstruct clk *clk;\n\tstruct clk **dt_clk;\n\n\tfor (i = 0; i < ARRAY_SIZE(periph_clks); i++) {\n\t\tconst struct tegra_clk_periph_regs *bank;\n\t\tstruct tegra_periph_init_data *data;\n\n\t\tdata = periph_clks + i;\n\n\t\tdt_clk = tegra_lookup_dt_id(data->clk_id, tegra_clks);\n\t\tif (!dt_clk)\n\t\t\tcontinue;\n\n\t\tbank = get_reg_bank(data->periph.gate.clk_num);\n\t\tif (!bank)\n\t\t\tcontinue;\n\n\t\tdata->periph.gate.regs = bank;\n\t\tclk = tegra_clk_register_periph_data(clk_base, data);\n\t\t*dt_clk = clk;\n\t}\n}\n\nstatic void __init gate_clk_init(void __iomem *clk_base,\n\t\t\t\tstruct tegra_clk *tegra_clks)\n{\n\tint i;\n\tstruct clk *clk;\n\tstruct clk **dt_clk;\n\n\tfor (i = 0; i < ARRAY_SIZE(gate_clks); i++) {\n\t\tstruct tegra_periph_init_data *data;\n\n\t\tdata = gate_clks + i;\n\n\t\tdt_clk = tegra_lookup_dt_id(data->clk_id, tegra_clks);\n\t\tif (!dt_clk)\n\t\t\tcontinue;\n\n\t\tclk = tegra_clk_register_periph_gate(data->name,\n\t\t\t\tdata->p.parent_name, data->periph.gate.flags,\n\t\t\t\tclk_base, data->flags,\n\t\t\t\tdata->periph.gate.clk_num,\n\t\t\t\tperiph_clk_enb_refcnt);\n\t\t*dt_clk = clk;\n\t}\n}\n\nstatic void __init div_clk_init(void __iomem *clk_base,\n\t\t\t\tstruct tegra_clk *tegra_clks)\n{\n\tint i;\n\tstruct clk *clk;\n\tstruct clk **dt_clk;\n\n\tfor (i = 0; i < ARRAY_SIZE(div_clks); i++) {\n\t\tstruct tegra_periph_init_data *data;\n\n\t\tdata = div_clks + i;\n\n\t\tdt_clk = tegra_lookup_dt_id(data->clk_id, tegra_clks);\n\t\tif (!dt_clk)\n\t\t\tcontinue;\n\n\t\tclk = tegra_clk_register_divider(data->name,\n\t\t\t\tdata->p.parent_name, clk_base + data->offset,\n\t\t\t\tdata->flags, data->periph.divider.flags,\n\t\t\t\tdata->periph.divider.shift,\n\t\t\t\tdata->periph.divider.width,\n\t\t\t\tdata->periph.divider.frac_width,\n\t\t\t\tdata->periph.divider.lock);\n\t\t*dt_clk = clk;\n\t}\n}\n\nstatic void __init init_pllp(void __iomem *clk_base, void __iomem *pmc_base,\n\t\t\t\tstruct tegra_clk *tegra_clks,\n\t\t\t\tstruct tegra_clk_pll_params *pll_params)\n{\n\tstruct clk *clk;\n\tstruct clk **dt_clk;\n\tint i;\n\n\tdt_clk = tegra_lookup_dt_id(tegra_clk_pll_p, tegra_clks);\n\tif (dt_clk) {\n\t\t \n\t\tclk = tegra_clk_register_pll(\"pll_p\", \"pll_ref\", clk_base,\n\t\t\t\t\tpmc_base, 0, pll_params, NULL);\n\t\tclk_register_clkdev(clk, \"pll_p\", NULL);\n\t\t*dt_clk = clk;\n\t}\n\n\tfor (i = 0; i < ARRAY_SIZE(pllp_out_clks); i++) {\n\t\tstruct pll_out_data *data;\n\n\t\tdata = pllp_out_clks + i;\n\n\t\tdt_clk = tegra_lookup_dt_id(data->clk_id, tegra_clks);\n\t\tif (!dt_clk)\n\t\t\tcontinue;\n\n\t\tclk = tegra_clk_register_divider(data->div_name, \"pll_p\",\n\t\t\t\tclk_base + data->offset, 0, data->div_flags,\n\t\t\t\tdata->div_shift, 8, 1, data->lock);\n\t\tclk = tegra_clk_register_pll_out(data->pll_out_name,\n\t\t\t\tdata->div_name, clk_base + data->offset,\n\t\t\t\tdata->rst_shift + 1, data->rst_shift,\n\t\t\t\tCLK_IGNORE_UNUSED | CLK_SET_RATE_PARENT, 0,\n\t\t\t\tdata->lock);\n\t\t*dt_clk = clk;\n\t}\n\n\tdt_clk = tegra_lookup_dt_id(tegra_clk_pll_p_out_cpu,\n\t\t\ttegra_clks);\n\tif (dt_clk) {\n\t\t \n\t\tclk = tegra_clk_register_divider(\"pll_p_out4_div\",\n\t\t\t\t\"pll_p_out_cpu\", clk_base + PLLP_OUTB, 0, 0, 24,\n\t\t\t\t8, 1, &PLLP_OUTB_lock);\n\n\t\tdt_clk = tegra_lookup_dt_id(tegra_clk_pll_p_out4_cpu, tegra_clks);\n\t\tif (dt_clk) {\n\t\t\tclk = tegra_clk_register_pll_out(\"pll_p_out4\",\n\t\t\t\t\t\"pll_p_out4_div\", clk_base + PLLP_OUTB,\n\t\t\t\t\t17, 16, CLK_IGNORE_UNUSED |\n\t\t\t\t\tCLK_SET_RATE_PARENT, 0,\n\t\t\t\t\t&PLLP_OUTB_lock);\n\t\t\t*dt_clk = clk;\n\t\t}\n\t}\n\n\tdt_clk = tegra_lookup_dt_id(tegra_clk_pll_p_out_hsio, tegra_clks);\n\tif (dt_clk) {\n\t\t \n\t\tclk = clk_register_gate(NULL, \"pll_p_out_hsio\", \"pll_p\",\n\t\t\t\tCLK_SET_RATE_PARENT | CLK_IGNORE_UNUSED,\n\t\t\t\tclk_base + PLLP_MISC1, 29, 0, NULL);\n\t\t*dt_clk = clk;\n\t}\n\n\tdt_clk = tegra_lookup_dt_id(tegra_clk_pll_p_out_xusb, tegra_clks);\n\tif (dt_clk) {\n\t\t \n\t\tclk = clk_register_gate(NULL, \"pll_p_out_xusb\",\n\t\t\t\t\"pll_p_out_hsio\", CLK_SET_RATE_PARENT |\n\t\t\t\tCLK_IGNORE_UNUSED, clk_base + PLLP_MISC1, 28, 0,\n\t\t\t\tNULL);\n\t\tclk_register_clkdev(clk, \"pll_p_out_xusb\", NULL);\n\t\t*dt_clk = clk;\n\t}\n}\n\nvoid __init tegra_periph_clk_init(void __iomem *clk_base,\n\t\t\tvoid __iomem *pmc_base, struct tegra_clk *tegra_clks,\n\t\t\tstruct tegra_clk_pll_params *pll_params)\n{\n\tinit_pllp(clk_base, pmc_base, tegra_clks, pll_params);\n\tperiph_clk_init(clk_base, tegra_clks);\n\tgate_clk_init(clk_base, tegra_clks);\n\tdiv_clk_init(clk_base, tegra_clks);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}