{
  "module_name": "clk.h",
  "hash_id": "aae44a731c6eb45280567d446c54fbd1bd4e1ecb9dd0a5ecc24c6131bf94376d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/tegra/clk.h",
  "human_readable_source": " \n\t \n\n#ifndef __TEGRA_CLK_H\n#define __TEGRA_CLK_H\n\n#include <linux/clk-provider.h>\n#include <linux/clkdev.h>\n#include <linux/delay.h>\n\n#define CLK_OUT_ENB_L\t\t\t0x010\n#define CLK_OUT_ENB_H\t\t\t0x014\n#define CLK_OUT_ENB_U\t\t\t0x018\n#define CLK_OUT_ENB_V\t\t\t0x360\n#define CLK_OUT_ENB_W\t\t\t0x364\n#define CLK_OUT_ENB_X\t\t\t0x280\n#define CLK_OUT_ENB_Y\t\t\t0x298\n#define CLK_ENB_PLLP_OUT_CPU\t\tBIT(31)\n#define CLK_OUT_ENB_SET_L\t\t0x320\n#define CLK_OUT_ENB_CLR_L\t\t0x324\n#define CLK_OUT_ENB_SET_H\t\t0x328\n#define CLK_OUT_ENB_CLR_H\t\t0x32c\n#define CLK_OUT_ENB_SET_U\t\t0x330\n#define CLK_OUT_ENB_CLR_U\t\t0x334\n#define CLK_OUT_ENB_SET_V\t\t0x440\n#define CLK_OUT_ENB_CLR_V\t\t0x444\n#define CLK_OUT_ENB_SET_W\t\t0x448\n#define CLK_OUT_ENB_CLR_W\t\t0x44c\n#define CLK_OUT_ENB_SET_X\t\t0x284\n#define CLK_OUT_ENB_CLR_X\t\t0x288\n#define CLK_OUT_ENB_SET_Y\t\t0x29c\n#define CLK_OUT_ENB_CLR_Y\t\t0x2a0\n\n#define RST_DEVICES_L\t\t\t0x004\n#define RST_DEVICES_H\t\t\t0x008\n#define RST_DEVICES_U\t\t\t0x00C\n#define RST_DEVICES_V\t\t\t0x358\n#define RST_DEVICES_W\t\t\t0x35C\n#define RST_DEVICES_X\t\t\t0x28C\n#define RST_DEVICES_Y\t\t\t0x2a4\n#define RST_DEVICES_SET_L\t\t0x300\n#define RST_DEVICES_CLR_L\t\t0x304\n#define RST_DEVICES_SET_H\t\t0x308\n#define RST_DEVICES_CLR_H\t\t0x30c\n#define RST_DEVICES_SET_U\t\t0x310\n#define RST_DEVICES_CLR_U\t\t0x314\n#define RST_DEVICES_SET_V\t\t0x430\n#define RST_DEVICES_CLR_V\t\t0x434\n#define RST_DEVICES_SET_W\t\t0x438\n#define RST_DEVICES_CLR_W\t\t0x43c\n#define RST_DEVICES_SET_X\t\t0x290\n#define RST_DEVICES_CLR_X\t\t0x294\n#define RST_DEVICES_SET_Y\t\t0x2a8\n#define RST_DEVICES_CLR_Y\t\t0x2ac\n\n \n#define TEGRA210_CLK_ENB_VLD_MSK_L\t0xdcd7dff9\n#define TEGRA210_CLK_ENB_VLD_MSK_H\t0x87d1f3e7\n#define TEGRA210_CLK_ENB_VLD_MSK_U\t0xf3fed3fa\n#define TEGRA210_CLK_ENB_VLD_MSK_V\t0xffc18cfb\n#define TEGRA210_CLK_ENB_VLD_MSK_W\t0x793fb7ff\n#define TEGRA210_CLK_ENB_VLD_MSK_X\t0x3fe66fff\n#define TEGRA210_CLK_ENB_VLD_MSK_Y\t0xfc1fc7ff\n\n \nstruct tegra_clk_sync_source {\n\tstruct\t\tclk_hw hw;\n\tunsigned long\trate;\n\tunsigned long\tmax_rate;\n};\n\n#define to_clk_sync_source(_hw)\t\t\t\t\t\\\n\tcontainer_of(_hw, struct tegra_clk_sync_source, hw)\n\nextern const struct clk_ops tegra_clk_sync_source_ops;\nextern int *periph_clk_enb_refcnt;\n\nstruct clk *tegra_clk_register_sync_source(const char *name,\n\t\t\t\t\t   unsigned long max_rate);\n\n \nstruct tegra_clk_frac_div {\n\tstruct clk_hw\thw;\n\tvoid __iomem\t*reg;\n\tu8\t\tflags;\n\tu8\t\tshift;\n\tu8\t\twidth;\n\tu8\t\tfrac_width;\n\tspinlock_t\t*lock;\n};\n\n#define to_clk_frac_div(_hw) container_of(_hw, struct tegra_clk_frac_div, hw)\n\n#define TEGRA_DIVIDER_ROUND_UP BIT(0)\n#define TEGRA_DIVIDER_FIXED BIT(1)\n#define TEGRA_DIVIDER_INT BIT(2)\n#define TEGRA_DIVIDER_UART BIT(3)\n\nextern const struct clk_ops tegra_clk_frac_div_ops;\nstruct clk *tegra_clk_register_divider(const char *name,\n\t\tconst char *parent_name, void __iomem *reg,\n\t\tunsigned long flags, u8 clk_divider_flags, u8 shift, u8 width,\n\t\tu8 frac_width, spinlock_t *lock);\nstruct clk *tegra_clk_register_mc(const char *name, const char *parent_name,\n\t\t\t\t  void __iomem *reg, spinlock_t *lock);\n\n \n\n \nstruct tegra_clk_pll_freq_table {\n\tunsigned long\tinput_rate;\n\tunsigned long\toutput_rate;\n\tu32\t\tn;\n\tu32\t\tm;\n\tu8\t\tp;\n\tu8\t\tcpcon;\n\tu16\t\tsdm_data;\n};\n\n \nstruct pdiv_map {\n\tu8 pdiv;\n\tu8 hw_val;\n};\n\n \nstruct div_nmp {\n\tu8\t\tdivn_shift;\n\tu8\t\tdivn_width;\n\tu8\t\tdivm_shift;\n\tu8\t\tdivm_width;\n\tu8\t\tdivp_shift;\n\tu8\t\tdivp_width;\n\tu8\t\toverride_divn_shift;\n\tu8\t\toverride_divm_shift;\n\tu8\t\toverride_divp_shift;\n};\n\n#define MAX_PLL_MISC_REG_COUNT\t6\n\nstruct tegra_clk_pll;\n\n \nstruct tegra_clk_pll_params {\n\tunsigned long\tinput_min;\n\tunsigned long\tinput_max;\n\tunsigned long\tcf_min;\n\tunsigned long\tcf_max;\n\tunsigned long\tvco_min;\n\tunsigned long\tvco_max;\n\n\tu32\t\tbase_reg;\n\tu32\t\tmisc_reg;\n\tu32\t\tlock_reg;\n\tu32\t\tlock_mask;\n\tu32\t\tlock_enable_bit_idx;\n\tu32\t\tiddq_reg;\n\tu32\t\tiddq_bit_idx;\n\tu32\t\treset_reg;\n\tu32\t\treset_bit_idx;\n\tu32\t\tsdm_din_reg;\n\tu32\t\tsdm_din_mask;\n\tu32\t\tsdm_ctrl_reg;\n\tu32\t\tsdm_ctrl_en_mask;\n\tu32\t\tssc_ctrl_reg;\n\tu32\t\tssc_ctrl_en_mask;\n\tu32\t\taux_reg;\n\tu32\t\tdyn_ramp_reg;\n\tu32\t\text_misc_reg[MAX_PLL_MISC_REG_COUNT];\n\tu32\t\tpmc_divnm_reg;\n\tu32\t\tpmc_divp_reg;\n\tu32\t\tflags;\n\tint\t\tstepa_shift;\n\tint\t\tstepb_shift;\n\tint\t\tlock_delay;\n\tint\t\tmax_p;\n\tbool\t\tdefaults_set;\n\tconst struct pdiv_map *pdiv_tohw;\n\tstruct div_nmp\t*div_nmp;\n\tstruct tegra_clk_pll_freq_table\t*freq_table;\n\tunsigned long\tfixed_rate;\n\tu16\t\tmdiv_default;\n\tu32\t(*round_p_to_pdiv)(u32 p, u32 *pdiv);\n\tvoid\t(*set_gain)(struct tegra_clk_pll_freq_table *cfg);\n\tint\t(*calc_rate)(struct clk_hw *hw,\n\t\t\tstruct tegra_clk_pll_freq_table *cfg,\n\t\t\tunsigned long rate, unsigned long parent_rate);\n\tunsigned long\t(*adjust_vco)(struct tegra_clk_pll_params *pll_params,\n\t\t\t\tunsigned long parent_rate);\n\tvoid\t(*set_defaults)(struct tegra_clk_pll *pll);\n\tint\t(*dyn_ramp)(struct tegra_clk_pll *pll,\n\t\t\tstruct tegra_clk_pll_freq_table *cfg);\n\tint\t(*pre_rate_change)(void);\n\tvoid\t(*post_rate_change)(void);\n};\n\n#define TEGRA_PLL_USE_LOCK BIT(0)\n#define TEGRA_PLL_HAS_CPCON BIT(1)\n#define TEGRA_PLL_SET_LFCON BIT(2)\n#define TEGRA_PLL_SET_DCCON BIT(3)\n#define TEGRA_PLLU BIT(4)\n#define TEGRA_PLLM BIT(5)\n#define TEGRA_PLL_FIXED BIT(6)\n#define TEGRA_PLLE_CONFIGURE BIT(7)\n#define TEGRA_PLL_LOCK_MISC BIT(8)\n#define TEGRA_PLL_BYPASS BIT(9)\n#define TEGRA_PLL_HAS_LOCK_ENABLE BIT(10)\n#define TEGRA_MDIV_NEW BIT(11)\n#define TEGRA_PLLMB BIT(12)\n#define TEGRA_PLL_VCO_OUT BIT(13)\n\n \nstruct tegra_clk_pll {\n\tstruct clk_hw\thw;\n\tvoid __iomem\t*clk_base;\n\tvoid __iomem\t*pmc;\n\tspinlock_t\t*lock;\n\tstruct tegra_clk_pll_params\t*params;\n};\n\n#define to_clk_pll(_hw) container_of(_hw, struct tegra_clk_pll, hw)\n\n \nstruct tegra_audio_clk_info {\n\tchar *name;\n\tstruct tegra_clk_pll_params *pll_params;\n\tint clk_id;\n\tchar *parent;\n};\n\nextern const struct clk_ops tegra_clk_pll_ops;\nextern const struct clk_ops tegra_clk_plle_ops;\nstruct clk *tegra_clk_register_pll(const char *name, const char *parent_name,\n\t\tvoid __iomem *clk_base, void __iomem *pmc,\n\t\tunsigned long flags, struct tegra_clk_pll_params *pll_params,\n\t\tspinlock_t *lock);\n\nstruct clk *tegra_clk_register_plle(const char *name, const char *parent_name,\n\t\tvoid __iomem *clk_base, void __iomem *pmc,\n\t\tunsigned long flags, struct tegra_clk_pll_params *pll_params,\n\t\tspinlock_t *lock);\n\nstruct clk *tegra_clk_register_pllxc(const char *name, const char *parent_name,\n\t\t\t    void __iomem *clk_base, void __iomem *pmc,\n\t\t\t    unsigned long flags,\n\t\t\t    struct tegra_clk_pll_params *pll_params,\n\t\t\t    spinlock_t *lock);\n\nstruct clk *tegra_clk_register_pllm(const char *name, const char *parent_name,\n\t\t\t   void __iomem *clk_base, void __iomem *pmc,\n\t\t\t   unsigned long flags,\n\t\t\t   struct tegra_clk_pll_params *pll_params,\n\t\t\t   spinlock_t *lock);\n\nstruct clk *tegra_clk_register_pllc(const char *name, const char *parent_name,\n\t\t\t   void __iomem *clk_base, void __iomem *pmc,\n\t\t\t   unsigned long flags,\n\t\t\t   struct tegra_clk_pll_params *pll_params,\n\t\t\t   spinlock_t *lock);\n\nstruct clk *tegra_clk_register_pllre(const char *name, const char *parent_name,\n\t\t\t   void __iomem *clk_base, void __iomem *pmc,\n\t\t\t   unsigned long flags,\n\t\t\t   struct tegra_clk_pll_params *pll_params,\n\t\t\t   spinlock_t *lock, unsigned long parent_rate);\n\nstruct clk *tegra_clk_register_pllre_tegra210(const char *name,\n\t\t\t   const char *parent_name, void __iomem *clk_base,\n\t\t\t   void __iomem *pmc, unsigned long flags,\n\t\t\t   struct tegra_clk_pll_params *pll_params,\n\t\t\t   spinlock_t *lock, unsigned long parent_rate);\n\nstruct clk *tegra_clk_register_plle_tegra114(const char *name,\n\t\t\t\tconst char *parent_name,\n\t\t\t\tvoid __iomem *clk_base, unsigned long flags,\n\t\t\t\tstruct tegra_clk_pll_params *pll_params,\n\t\t\t\tspinlock_t *lock);\n\nstruct clk *tegra_clk_register_plle_tegra210(const char *name,\n\t\t\t\tconst char *parent_name,\n\t\t\t\tvoid __iomem *clk_base, unsigned long flags,\n\t\t\t\tstruct tegra_clk_pll_params *pll_params,\n\t\t\t\tspinlock_t *lock);\n\nstruct clk *tegra_clk_register_pllc_tegra210(const char *name,\n\t\t\t\tconst char *parent_name, void __iomem *clk_base,\n\t\t\t\tvoid __iomem *pmc, unsigned long flags,\n\t\t\t\tstruct tegra_clk_pll_params *pll_params,\n\t\t\t\tspinlock_t *lock);\n\nstruct clk *tegra_clk_register_pllss_tegra210(const char *name,\n\t\t\t\tconst char *parent_name, void __iomem *clk_base,\n\t\t\t\tunsigned long flags,\n\t\t\t\tstruct tegra_clk_pll_params *pll_params,\n\t\t\t\tspinlock_t *lock);\n\nstruct clk *tegra_clk_register_pllss(const char *name, const char *parent_name,\n\t\t\t   void __iomem *clk_base, unsigned long flags,\n\t\t\t   struct tegra_clk_pll_params *pll_params,\n\t\t\t   spinlock_t *lock);\n\nstruct clk *tegra_clk_register_pllmb(const char *name, const char *parent_name,\n\t\t\t   void __iomem *clk_base, void __iomem *pmc,\n\t\t\t   unsigned long flags,\n\t\t\t   struct tegra_clk_pll_params *pll_params,\n\t\t\t   spinlock_t *lock);\n\nstruct clk *tegra_clk_register_pllu(const char *name, const char *parent_name,\n\t\t\t\tvoid __iomem *clk_base, unsigned long flags,\n\t\t\t\tstruct tegra_clk_pll_params *pll_params,\n\t\t\t\tspinlock_t *lock);\n\nstruct clk *tegra_clk_register_pllu_tegra114(const char *name,\n\t\t\t\tconst char *parent_name,\n\t\t\t\tvoid __iomem *clk_base, unsigned long flags,\n\t\t\t\tstruct tegra_clk_pll_params *pll_params,\n\t\t\t\tspinlock_t *lock);\n\nstruct clk *tegra_clk_register_pllu_tegra210(const char *name,\n\t\t\t\tconst char *parent_name,\n\t\t\t\tvoid __iomem *clk_base, unsigned long flags,\n\t\t\t\tstruct tegra_clk_pll_params *pll_params,\n\t\t\t\tspinlock_t *lock);\n\n \nstruct tegra_clk_pll_out {\n\tstruct clk_hw\thw;\n\tvoid __iomem\t*reg;\n\tu8\t\tenb_bit_idx;\n\tu8\t\trst_bit_idx;\n\tspinlock_t\t*lock;\n\tu8\t\tflags;\n};\n\n#define to_clk_pll_out(_hw) container_of(_hw, struct tegra_clk_pll_out, hw)\n\nextern const struct clk_ops tegra_clk_pll_out_ops;\nstruct clk *tegra_clk_register_pll_out(const char *name,\n\t\tconst char *parent_name, void __iomem *reg, u8 enb_bit_idx,\n\t\tu8 rst_bit_idx, unsigned long flags, u8 pll_div_flags,\n\t\tspinlock_t *lock);\n\n \nstruct tegra_clk_periph_regs {\n\tu32 enb_reg;\n\tu32 enb_set_reg;\n\tu32 enb_clr_reg;\n\tu32 rst_reg;\n\tu32 rst_set_reg;\n\tu32 rst_clr_reg;\n};\n\n \nstruct tegra_clk_periph_gate {\n\tu32\t\t\tmagic;\n\tstruct clk_hw\t\thw;\n\tvoid __iomem\t\t*clk_base;\n\tu8\t\t\tflags;\n\tint\t\t\tclk_num;\n\tint\t\t\t*enable_refcnt;\n\tconst struct tegra_clk_periph_regs *regs;\n};\n\n#define to_clk_periph_gate(_hw)\t\t\t\t\t\\\n\tcontainer_of(_hw, struct tegra_clk_periph_gate, hw)\n\n#define TEGRA_CLK_PERIPH_GATE_MAGIC 0x17760309\n\n#define TEGRA_PERIPH_NO_RESET BIT(0)\n#define TEGRA_PERIPH_ON_APB BIT(2)\n#define TEGRA_PERIPH_WAR_1005168 BIT(3)\n#define TEGRA_PERIPH_NO_DIV BIT(4)\n#define TEGRA_PERIPH_NO_GATE BIT(5)\n\nextern const struct clk_ops tegra_clk_periph_gate_ops;\nstruct clk *tegra_clk_register_periph_gate(const char *name,\n\t\tconst char *parent_name, u8 gate_flags, void __iomem *clk_base,\n\t\tunsigned long flags, int clk_num, int *enable_refcnt);\n\nstruct tegra_clk_periph_fixed {\n\tstruct clk_hw hw;\n\tvoid __iomem *base;\n\tconst struct tegra_clk_periph_regs *regs;\n\tunsigned int mul;\n\tunsigned int div;\n\tunsigned int num;\n};\n\nstruct clk *tegra_clk_register_periph_fixed(const char *name,\n\t\t\t\t\t    const char *parent,\n\t\t\t\t\t    unsigned long flags,\n\t\t\t\t\t    void __iomem *base,\n\t\t\t\t\t    unsigned int mul,\n\t\t\t\t\t    unsigned int div,\n\t\t\t\t\t    unsigned int num);\n\n \nstruct tegra_clk_periph {\n\tu32\t\t\tmagic;\n\tstruct clk_hw\t\thw;\n\tstruct clk_mux\t\tmux;\n\tstruct tegra_clk_frac_div\tdivider;\n\tstruct tegra_clk_periph_gate\tgate;\n\n\tconst struct clk_ops\t*mux_ops;\n\tconst struct clk_ops\t*div_ops;\n\tconst struct clk_ops\t*gate_ops;\n};\n\n#define to_clk_periph(_hw) container_of(_hw, struct tegra_clk_periph, hw)\n\n#define TEGRA_CLK_PERIPH_MAGIC 0x18221223\n\nextern const struct clk_ops tegra_clk_periph_ops;\nstruct clk *tegra_clk_register_periph(const char *name,\n\t\tconst char * const *parent_names, int num_parents,\n\t\tstruct tegra_clk_periph *periph, void __iomem *clk_base,\n\t\tu32 offset, unsigned long flags);\nstruct clk *tegra_clk_register_periph_nodiv(const char *name,\n\t\tconst char * const *parent_names, int num_parents,\n\t\tstruct tegra_clk_periph *periph, void __iomem *clk_base,\n\t\tu32 offset);\n\n#define TEGRA_CLK_PERIPH(_mux_shift, _mux_mask, _mux_flags,\t\t\\\n\t\t\t _div_shift, _div_width, _div_frac_width,\t\\\n\t\t\t _div_flags, _clk_num,\\\n\t\t\t _gate_flags, _table, _lock)\t\t\t\\\n\t{\t\t\t\t\t\t\t\t\\\n\t\t.mux = {\t\t\t\t\t\t\\\n\t\t\t.flags = _mux_flags,\t\t\t\t\\\n\t\t\t.shift = _mux_shift,\t\t\t\t\\\n\t\t\t.mask = _mux_mask,\t\t\t\t\\\n\t\t\t.table = _table,\t\t\t\t\\\n\t\t\t.lock = _lock,\t\t\t\t\t\\\n\t\t},\t\t\t\t\t\t\t\\\n\t\t.divider = {\t\t\t\t\t\t\\\n\t\t\t.flags = _div_flags,\t\t\t\t\\\n\t\t\t.shift = _div_shift,\t\t\t\t\\\n\t\t\t.width = _div_width,\t\t\t\t\\\n\t\t\t.frac_width = _div_frac_width,\t\t\t\\\n\t\t\t.lock = _lock,\t\t\t\t\t\\\n\t\t},\t\t\t\t\t\t\t\\\n\t\t.gate = {\t\t\t\t\t\t\\\n\t\t\t.flags = _gate_flags,\t\t\t\t\\\n\t\t\t.clk_num = _clk_num,\t\t\t\t\\\n\t\t},\t\t\t\t\t\t\t\\\n\t\t.mux_ops = &clk_mux_ops,\t\t\t\t\\\n\t\t.div_ops = &tegra_clk_frac_div_ops,\t\t\t\\\n\t\t.gate_ops = &tegra_clk_periph_gate_ops,\t\t\t\\\n\t}\n\nstruct tegra_periph_init_data {\n\tconst char *name;\n\tint clk_id;\n\tunion {\n\t\tconst char *const *parent_names;\n\t\tconst char *parent_name;\n\t} p;\n\tint num_parents;\n\tstruct tegra_clk_periph periph;\n\tu32 offset;\n\tconst char *con_id;\n\tconst char *dev_id;\n\tunsigned long flags;\n};\n\n#define TEGRA_INIT_DATA_TABLE(_name, _con_id, _dev_id, _parent_names, _offset,\\\n\t\t\t_mux_shift, _mux_mask, _mux_flags, _div_shift,\t\\\n\t\t\t_div_width, _div_frac_width, _div_flags,\t\\\n\t\t\t_clk_num, _gate_flags, _clk_id, _table,\t\t\\\n\t\t\t_flags, _lock) \\\n\t{\t\t\t\t\t\t\t\t\\\n\t\t.name = _name,\t\t\t\t\t\t\\\n\t\t.clk_id = _clk_id,\t\t\t\t\t\\\n\t\t.p.parent_names = _parent_names,\t\t\t\\\n\t\t.num_parents = ARRAY_SIZE(_parent_names),\t\t\\\n\t\t.periph = TEGRA_CLK_PERIPH(_mux_shift, _mux_mask,\t\\\n\t\t\t\t\t   _mux_flags, _div_shift,\t\\\n\t\t\t\t\t   _div_width, _div_frac_width,\t\\\n\t\t\t\t\t   _div_flags, _clk_num,\t\\\n\t\t\t\t\t   _gate_flags, _table, _lock),\t\\\n\t\t.offset = _offset,\t\t\t\t\t\\\n\t\t.con_id = _con_id,\t\t\t\t\t\\\n\t\t.dev_id = _dev_id,\t\t\t\t\t\\\n\t\t.flags = _flags\t\t\t\t\t\t\\\n\t}\n\n#define TEGRA_INIT_DATA(_name, _con_id, _dev_id, _parent_names, _offset,\\\n\t\t\t_mux_shift, _mux_width, _mux_flags, _div_shift,\t\\\n\t\t\t_div_width, _div_frac_width, _div_flags, \\\n\t\t\t_clk_num, _gate_flags, _clk_id)\t\\\n\tTEGRA_INIT_DATA_TABLE(_name, _con_id, _dev_id, _parent_names, _offset,\\\n\t\t\t_mux_shift, BIT(_mux_width) - 1, _mux_flags,\t\\\n\t\t\t_div_shift, _div_width, _div_frac_width, _div_flags, \\\n\t\t\t_clk_num, _gate_flags, _clk_id,\\\n\t\t\tNULL, 0, NULL)\n\nstruct clk *tegra_clk_register_periph_data(void __iomem *clk_base,\n\t\t\t\t\t   struct tegra_periph_init_data *init);\n\n \nstruct tegra_clk_super_mux {\n\tstruct clk_hw\thw;\n\tvoid __iomem\t*reg;\n\tstruct tegra_clk_frac_div frac_div;\n\tconst struct clk_ops\t*div_ops;\n\tu8\t\twidth;\n\tu8\t\tflags;\n\tu8\t\tdiv2_index;\n\tu8\t\tpllx_index;\n\tspinlock_t\t*lock;\n};\n\n#define to_clk_super_mux(_hw) container_of(_hw, struct tegra_clk_super_mux, hw)\n\n#define TEGRA_DIVIDER_2 BIT(0)\n#define TEGRA210_CPU_CLK BIT(1)\n#define TEGRA20_SUPER_CLK BIT(2)\n\nextern const struct clk_ops tegra_clk_super_ops;\nstruct clk *tegra_clk_register_super_mux(const char *name,\n\t\tconst char **parent_names, u8 num_parents,\n\t\tunsigned long flags, void __iomem *reg, u8 clk_super_flags,\n\t\tu8 width, u8 pllx_index, u8 div2_index, spinlock_t *lock);\nstruct clk *tegra_clk_register_super_clk(const char *name,\n\t\tconst char * const *parent_names, u8 num_parents,\n\t\tunsigned long flags, void __iomem *reg, u8 clk_super_flags,\n\t\tspinlock_t *lock);\nstruct clk *tegra_clk_register_super_cclk(const char *name,\n\t\tconst char * const *parent_names, u8 num_parents,\n\t\tunsigned long flags, void __iomem *reg, u8 clk_super_flags,\n\t\tspinlock_t *lock);\nint tegra_cclk_pre_pllx_rate_change(void);\nvoid tegra_cclk_post_pllx_rate_change(void);\n\n \nstruct tegra_sdmmc_mux {\n\tstruct clk_hw\t\thw;\n\tvoid __iomem\t\t*reg;\n\tspinlock_t\t\t*lock;\n\tconst struct clk_ops\t*gate_ops;\n\tstruct tegra_clk_periph_gate\tgate;\n\tu8\t\t\tdiv_flags;\n};\n\n#define to_clk_sdmmc_mux(_hw) container_of(_hw, struct tegra_sdmmc_mux, hw)\n\nstruct clk *tegra_clk_register_sdmmc_mux_div(const char *name,\n\t\tvoid __iomem *clk_base, u32 offset, u32 clk_num, u8 div_flags,\n\t\tunsigned long flags, void *lock);\n\n \nstruct tegra_clk_init_table {\n\tunsigned int\tclk_id;\n\tunsigned int\tparent_id;\n\tunsigned long\trate;\n\tint\t\tstate;\n};\n\n \nstruct tegra_clk_duplicate {\n\tint\t\t\tclk_id;\n\tstruct clk_lookup\tlookup;\n};\n\n#define TEGRA_CLK_DUPLICATE(_clk_id, _dev, _con) \\\n\t{\t\t\t\t\t\\\n\t\t.clk_id = _clk_id,\t\t\\\n\t\t.lookup = {\t\t\t\\\n\t\t\t.dev_id = _dev,\t\t\\\n\t\t\t.con_id = _con,\t\t\\\n\t\t},\t\t\t\t\\\n\t}\n\nstruct tegra_clk {\n\tint\t\t\tdt_id;\n\tbool\t\t\tpresent;\n};\n\nstruct tegra_devclk {\n\tint\t\tdt_id;\n\tchar\t\t*dev_id;\n\tchar\t\t*con_id;\n};\n\nvoid tegra_init_special_resets(unsigned int num, int (*assert)(unsigned long),\n\t\t\t       int (*deassert)(unsigned long));\n\nvoid tegra_init_from_table(struct tegra_clk_init_table *tbl,\n\t\tstruct clk *clks[], int clk_max);\n\nvoid tegra_init_dup_clks(struct tegra_clk_duplicate *dup_list,\n\t\tstruct clk *clks[], int clk_max);\n\nconst struct tegra_clk_periph_regs *get_reg_bank(int clkid);\nstruct clk **tegra_clk_init(void __iomem *clk_base, int num, int periph_banks);\n\nstruct clk **tegra_lookup_dt_id(int clk_id, struct tegra_clk *tegra_clk);\n\nvoid tegra_add_of_provider(struct device_node *np, void *clk_src_onecell_get);\nvoid tegra_register_devclks(struct tegra_devclk *dev_clks, int num);\n\nvoid tegra_audio_clk_init(void __iomem *clk_base,\n\t\t\tvoid __iomem *pmc_base, struct tegra_clk *tegra_clks,\n\t\t\tstruct tegra_audio_clk_info *audio_info,\n\t\t\tunsigned int num_plls, unsigned long sync_max_rate);\n\nvoid tegra_periph_clk_init(void __iomem *clk_base, void __iomem *pmc_base,\n\t\t\tstruct tegra_clk *tegra_clks,\n\t\t\tstruct tegra_clk_pll_params *pll_params);\n\nvoid tegra_fixed_clk_init(struct tegra_clk *tegra_clks);\nint tegra_osc_clk_init(void __iomem *clk_base, struct tegra_clk *clks,\n\t\t       unsigned long *input_freqs, unsigned int num,\n\t\t       unsigned int clk_m_div, unsigned long *osc_freq,\n\t\t       unsigned long *pll_ref_freq);\nvoid tegra_super_clk_gen4_init(void __iomem *clk_base,\n\t\t\tvoid __iomem *pmc_base, struct tegra_clk *tegra_clks,\n\t\t\tstruct tegra_clk_pll_params *pll_params);\nvoid tegra_super_clk_gen5_init(void __iomem *clk_base,\n\t\t\tvoid __iomem *pmc_base, struct tegra_clk *tegra_clks,\n\t\t\tstruct tegra_clk_pll_params *pll_params);\n\n#ifdef CONFIG_TEGRA124_CLK_EMC\nstruct clk *tegra124_clk_register_emc(void __iomem *base, struct device_node *np,\n\t\t\t\t      spinlock_t *lock);\nbool tegra124_clk_emc_driver_available(struct clk_hw *emc_hw);\n#else\nstatic inline struct clk *\ntegra124_clk_register_emc(void __iomem *base, struct device_node *np,\n\t\t\t  spinlock_t *lock)\n{\n\treturn NULL;\n}\n\nstatic inline bool tegra124_clk_emc_driver_available(struct clk_hw *emc_hw)\n{\n\treturn false;\n}\n#endif\n\nvoid tegra114_clock_tune_cpu_trimmers_high(void);\nvoid tegra114_clock_tune_cpu_trimmers_low(void);\nvoid tegra114_clock_tune_cpu_trimmers_init(void);\nvoid tegra114_clock_assert_dfll_dvco_reset(void);\nvoid tegra114_clock_deassert_dfll_dvco_reset(void);\n\ntypedef void (*tegra_clk_apply_init_table_func)(void);\nextern tegra_clk_apply_init_table_func tegra_clk_apply_init_table;\nint tegra_pll_wait_for_lock(struct tegra_clk_pll *pll);\nu16 tegra_pll_get_fixed_mdiv(struct clk_hw *hw, unsigned long input_rate);\nint tegra_pll_p_div_to_hw(struct tegra_clk_pll *pll, u8 p_div);\nint div_frac_get(unsigned long rate, unsigned parent_rate, u8 width,\n\t\t u8 frac_width, u8 flags);\nvoid tegra_clk_osc_resume(void __iomem *clk_base);\nvoid tegra_clk_set_pllp_out_cpu(bool enable);\nvoid tegra_clk_periph_suspend(void);\nvoid tegra_clk_periph_resume(void);\n\n\n \n#define fence_udelay(delay, reg)\t\\\n\tdo {\t\t\t\t\\\n\t\treadl(reg);\t\t\\\n\t\tudelay(delay);\t\t\\\n\t} while (0)\n\nbool tegra20_clk_emc_driver_available(struct clk_hw *emc_hw);\nstruct clk *tegra20_clk_register_emc(void __iomem *ioaddr, bool low_jitter);\n\nstruct clk *tegra210_clk_register_emc(struct device_node *np,\n\t\t\t\t      void __iomem *regs);\n\nstruct clk *tegra_clk_dev_register(struct clk_hw *hw);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}