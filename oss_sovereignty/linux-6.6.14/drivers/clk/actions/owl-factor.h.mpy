{
  "module_name": "owl-factor.h",
  "hash_id": "8457866844729b2a10ec0a4a6566006b8fa6076ce7d5900f3aa93c772fe98610",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/actions/owl-factor.h",
  "human_readable_source": " \n\n\n\n\n\n\n\n\n\n#ifndef _OWL_FACTOR_H_\n#define _OWL_FACTOR_H_\n\n#include \"owl-common.h\"\n\nstruct clk_factor_table {\n\tunsigned int\t\tval;\n\tunsigned int\t\tmul;\n\tunsigned int\t\tdiv;\n};\n\nstruct owl_factor_hw {\n\tu32\t\t\treg;\n\tu8\t\t\tshift;\n\tu8\t\t\twidth;\n\tu8\t\t\tfct_flags;\n\tstruct clk_factor_table\t*table;\n};\n\nstruct owl_factor {\n\tstruct owl_factor_hw\tfactor_hw;\n\tstruct owl_clk_common\tcommon;\n};\n\n#define OWL_FACTOR_HW(_reg, _shift, _width, _fct_flags, _table)\t\t\\\n\t{\t\t\t\t\t\t\t\t\\\n\t\t.reg\t\t= _reg,\t\t\t\t\t\\\n\t\t.shift\t\t= _shift,\t\t\t\t\\\n\t\t.width\t\t= _width,\t\t\t\t\\\n\t\t.fct_flags\t= _fct_flags,\t\t\t\t\\\n\t\t.table\t\t= _table,\t\t\t\t\\\n\t}\n\n#define OWL_FACTOR(_struct, _name, _parent, _reg,\t\t\t\\\n\t\t   _shift, _width, _table, _fct_flags, _flags)\t\t\\\n\tstruct owl_factor _struct = {\t\t\t\t\t\\\n\t\t.factor_hw = OWL_FACTOR_HW(_reg, _shift,\t\t\\\n\t\t\t\t\t   _width, _fct_flags, _table),\t\\\n\t\t.common = {\t\t\t\t\t\t\\\n\t\t\t.regmap\t\t= NULL,\t\t\t\t\\\n\t\t\t.hw.init\t= CLK_HW_INIT(_name,\t\t\\\n\t\t\t\t\t\t      _parent,\t\t\\\n\t\t\t\t\t\t      &owl_factor_ops,\t\\\n\t\t\t\t\t\t      _flags),\t\t\\\n\t\t},\t\t\t\t\t\t\t\\\n\t}\n\n#define div_mask(d) ((1 << ((d)->width)) - 1)\n\nstatic inline struct owl_factor *hw_to_owl_factor(const struct clk_hw *hw)\n{\n\tstruct owl_clk_common *common = hw_to_owl_clk_common(hw);\n\n\treturn container_of(common, struct owl_factor, common);\n}\n\nlong owl_factor_helper_round_rate(struct owl_clk_common *common,\n\t\t\t\tconst struct owl_factor_hw *factor_hw,\n\t\t\t\tunsigned long rate,\n\t\t\t\tunsigned long *parent_rate);\n\nunsigned long owl_factor_helper_recalc_rate(struct owl_clk_common *common,\n\t\t\t\t\t const struct owl_factor_hw *factor_hw,\n\t\t\t\t\t unsigned long parent_rate);\n\nint owl_factor_helper_set_rate(const struct owl_clk_common *common,\n\t\t\t\tconst struct owl_factor_hw *factor_hw,\n\t\t\t\tunsigned long rate,\n\t\t\t\tunsigned long parent_rate);\n\nextern const struct clk_ops owl_factor_ops;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}