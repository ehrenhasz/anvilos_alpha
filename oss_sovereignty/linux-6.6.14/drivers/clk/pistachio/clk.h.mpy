{
  "module_name": "clk.h",
  "hash_id": "c7bf38bda4842b8ab92cf7876924e2a188720b24a68ab3949639e43822efa180",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/pistachio/clk.h",
  "human_readable_source": " \n \n\n#ifndef __PISTACHIO_CLK_H\n#define __PISTACHIO_CLK_H\n\n#include <linux/clk-provider.h>\n\nstruct pistachio_gate {\n\tunsigned int id;\n\tunsigned long reg;\n\tunsigned int shift;\n\tconst char *name;\n\tconst char *parent;\n};\n\n#define GATE(_id, _name, _pname, _reg, _shift)\t\\\n\t{\t\t\t\t\t\\\n\t\t.id\t= _id,\t\t\t\\\n\t\t.reg\t= _reg,\t\t\t\\\n\t\t.shift\t= _shift,\t\t\\\n\t\t.name\t= _name,\t\t\\\n\t\t.parent = _pname,\t\t\\\n\t}\n\nstruct pistachio_mux {\n\tunsigned int id;\n\tunsigned long reg;\n\tunsigned int shift;\n\tunsigned int num_parents;\n\tconst char *name;\n\tconst char *const *parents;\n};\n\n#define PNAME(x) static const char *const x[] __initconst\n\n#define MUX(_id, _name, _pnames, _reg, _shift)\t\t\t\\\n\t{\t\t\t\t\t\t\t\\\n\t\t.id\t\t= _id,\t\t\t\t\\\n\t\t.reg\t\t= _reg,\t\t\t\t\\\n\t\t.shift\t\t= _shift,\t\t\t\\\n\t\t.name\t\t= _name,\t\t\t\\\n\t\t.parents\t= _pnames,\t\t\t\\\n\t\t.num_parents\t= ARRAY_SIZE(_pnames)\t\t\\\n\t}\n\n\nstruct pistachio_div {\n\tunsigned int id;\n\tunsigned long reg;\n\tunsigned int width;\n\tunsigned int div_flags;\n\tconst char *name;\n\tconst char *parent;\n};\n\n#define DIV(_id, _name, _pname, _reg, _width)\t\t\t\\\n\t{\t\t\t\t\t\t\t\\\n\t\t.id\t\t= _id,\t\t\t\t\\\n\t\t.reg\t\t= _reg,\t\t\t\t\\\n\t\t.width\t\t= _width,\t\t\t\\\n\t\t.div_flags\t= 0,\t\t\t\t\\\n\t\t.name\t\t= _name,\t\t\t\\\n\t\t.parent\t\t= _pname,\t\t\t\\\n\t}\n\n#define DIV_F(_id, _name, _pname, _reg, _width, _div_flags)\t\\\n\t{\t\t\t\t\t\t\t\\\n\t\t.id\t\t= _id,\t\t\t\t\\\n\t\t.reg\t\t= _reg,\t\t\t\t\\\n\t\t.width\t\t= _width,\t\t\t\\\n\t\t.div_flags\t= _div_flags,\t\t\t\\\n\t\t.name\t\t= _name,\t\t\t\\\n\t\t.parent\t\t= _pname,\t\t\t\\\n\t}\n\nstruct pistachio_fixed_factor {\n\tunsigned int id;\n\tunsigned int div;\n\tconst char *name;\n\tconst char *parent;\n};\n\n#define FIXED_FACTOR(_id, _name, _pname, _div)\t\t\t\\\n\t{\t\t\t\t\t\t\t\\\n\t\t.id\t\t= _id,\t\t\t\t\\\n\t\t.div\t\t= _div,\t\t\t\t\\\n\t\t.name\t\t= _name,\t\t\t\\\n\t\t.parent\t\t= _pname,\t\t\t\\\n\t}\n\nstruct pistachio_pll_rate_table {\n\tunsigned long long fref;\n\tunsigned long long fout;\n\tunsigned long long refdiv;\n\tunsigned long long fbdiv;\n\tunsigned long long postdiv1;\n\tunsigned long long postdiv2;\n\tunsigned long long frac;\n};\n\nenum pistachio_pll_type {\n\tPLL_GF40LP_LAINT,\n\tPLL_GF40LP_FRAC,\n};\n\nstruct pistachio_pll {\n\tunsigned int id;\n\tunsigned long reg_base;\n\tenum pistachio_pll_type type;\n\tstruct pistachio_pll_rate_table *rates;\n\tunsigned int nr_rates;\n\tconst char *name;\n\tconst char *parent;\n};\n\n#define PLL(_id, _name, _pname, _type, _reg, _rates)\t\t\\\n\t{\t\t\t\t\t\t\t\\\n\t\t.id\t\t= _id,\t\t\t\t\\\n\t\t.reg_base\t= _reg,\t\t\t\t\\\n\t\t.type\t\t= _type,\t\t\t\\\n\t\t.rates\t\t= _rates,\t\t\t\\\n\t\t.nr_rates\t= ARRAY_SIZE(_rates),\t\t\\\n\t\t.name\t\t= _name,\t\t\t\\\n\t\t.parent\t\t= _pname,\t\t\t\\\n\t}\n\n#define PLL_FIXED(_id, _name, _pname, _type, _reg)\t\t\\\n\t{\t\t\t\t\t\t\t\\\n\t\t.id\t\t= _id,\t\t\t\t\\\n\t\t.reg_base\t= _reg,\t\t\t\t\\\n\t\t.type\t\t= _type,\t\t\t\\\n\t\t.rates\t\t= NULL,\t\t\t\t\\\n\t\t.nr_rates\t= 0,\t\t\t\t\\\n\t\t.name\t\t= _name,\t\t\t\\\n\t\t.parent\t\t= _pname,\t\t\t\\\n\t}\n\nstruct pistachio_clk_provider {\n\tstruct device_node *node;\n\tvoid __iomem *base;\n\tstruct clk_onecell_data clk_data;\n};\n\nextern struct pistachio_clk_provider *\npistachio_clk_alloc_provider(struct device_node *node, unsigned int num_clks);\nextern void pistachio_clk_register_provider(struct pistachio_clk_provider *p);\n\nextern void pistachio_clk_register_gate(struct pistachio_clk_provider *p,\n\t\t\t\t\tstruct pistachio_gate *gate,\n\t\t\t\t\tunsigned int num);\nextern void pistachio_clk_register_mux(struct pistachio_clk_provider *p,\n\t\t\t\t       struct pistachio_mux *mux,\n\t\t\t\t       unsigned int num);\nextern void pistachio_clk_register_div(struct pistachio_clk_provider *p,\n\t\t\t\t       struct pistachio_div *div,\n\t\t\t\t       unsigned int num);\nextern void\npistachio_clk_register_fixed_factor(struct pistachio_clk_provider *p,\n\t\t\t\t    struct pistachio_fixed_factor *ff,\n\t\t\t\t    unsigned int num);\nextern void pistachio_clk_register_pll(struct pistachio_clk_provider *p,\n\t\t\t\t       struct pistachio_pll *pll,\n\t\t\t\t       unsigned int num);\n\nextern void pistachio_clk_force_enable(struct pistachio_clk_provider *p,\n\t\t\t\t       unsigned int *clk_ids, unsigned int num);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}