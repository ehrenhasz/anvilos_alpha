{
  "module_name": "clk-rcg.h",
  "hash_id": "fcffd95e9be5b7d72c2391fa0f95dcecd61341df1d6e12447f02b9df9798598e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/qcom/clk-rcg.h",
  "human_readable_source": " \n \n\n#ifndef __QCOM_CLK_RCG_H__\n#define __QCOM_CLK_RCG_H__\n\n#include <linux/clk-provider.h>\n#include \"clk-regmap.h\"\n\n#define F(f, s, h, m, n) { (f), (s), (2 * (h) - 1), (m), (n) }\n\nstruct freq_tbl {\n\tunsigned long freq;\n\tu8 src;\n\tu8 pre_div;\n\tu16 m;\n\tu16 n;\n};\n\n \nstruct mn {\n\tu8\t\tmnctr_en_bit;\n\tu8\t\tmnctr_reset_bit;\n\tu8\t\tmnctr_mode_shift;\n#define MNCTR_MODE_DUAL 0x2\n#define MNCTR_MODE_MASK 0x3\n\tu8\t\tn_val_shift;\n\tu8\t\tm_val_shift;\n\tu8\t\twidth;\n\tbool\t\treset_in_cc;\n};\n\n \nstruct pre_div {\n\tu8\t\tpre_div_shift;\n\tu8\t\tpre_div_width;\n};\n\n \nstruct src_sel {\n\tu8\t\tsrc_sel_shift;\n#define SRC_SEL_MASK\t0x7\n\tconst struct parent_map\t*parent_map;\n};\n\n \nstruct clk_rcg {\n\tu32\t\tns_reg;\n\tu32\t\tmd_reg;\n\n\tstruct mn\tmn;\n\tstruct pre_div\tp;\n\tstruct src_sel\ts;\n\n\tconst struct freq_tbl\t*freq_tbl;\n\n\tstruct clk_regmap\tclkr;\n};\n\nextern const struct clk_ops clk_rcg_ops;\nextern const struct clk_ops clk_rcg_floor_ops;\nextern const struct clk_ops clk_rcg_bypass_ops;\nextern const struct clk_ops clk_rcg_bypass2_ops;\nextern const struct clk_ops clk_rcg_pixel_ops;\nextern const struct clk_ops clk_rcg_esc_ops;\nextern const struct clk_ops clk_rcg_lcc_ops;\n\n#define to_clk_rcg(_hw) container_of(to_clk_regmap(_hw), struct clk_rcg, clkr)\n\n \nstruct clk_dyn_rcg {\n\tu32\tns_reg[2];\n\tu32\tmd_reg[2];\n\tu32\tbank_reg;\n\n\tu8\tmux_sel_bit;\n\n\tstruct mn\tmn[2];\n\tstruct pre_div\tp[2];\n\tstruct src_sel\ts[2];\n\n\tconst struct freq_tbl *freq_tbl;\n\n\tstruct clk_regmap clkr;\n};\n\nextern const struct clk_ops clk_dyn_rcg_ops;\n\n#define to_clk_dyn_rcg(_hw) \\\n\tcontainer_of(to_clk_regmap(_hw), struct clk_dyn_rcg, clkr)\n\n \nstruct clk_rcg2 {\n\tu32\t\t\tcmd_rcgr;\n\tu8\t\t\tmnd_width;\n\tu8\t\t\thid_width;\n\tu8\t\t\tsafe_src_index;\n\tconst struct parent_map\t*parent_map;\n\tconst struct freq_tbl\t*freq_tbl;\n\tstruct clk_regmap\tclkr;\n\tu8\t\t\tcfg_off;\n\tu32\t\t\tparked_cfg;\n\tbool\t\t\thw_clk_ctrl;\n};\n\n#define to_clk_rcg2(_hw) container_of(to_clk_regmap(_hw), struct clk_rcg2, clkr)\n\nstruct clk_rcg2_gfx3d {\n\tu8 div;\n\tstruct clk_rcg2 rcg;\n\tstruct clk_hw **hws;\n};\n\n#define to_clk_rcg2_gfx3d(_hw) \\\n\tcontainer_of(to_clk_rcg2(_hw), struct clk_rcg2_gfx3d, rcg)\n\nextern const struct clk_ops clk_rcg2_ops;\nextern const struct clk_ops clk_rcg2_floor_ops;\nextern const struct clk_ops clk_rcg2_mux_closest_ops;\nextern const struct clk_ops clk_edp_pixel_ops;\nextern const struct clk_ops clk_byte_ops;\nextern const struct clk_ops clk_byte2_ops;\nextern const struct clk_ops clk_pixel_ops;\nextern const struct clk_ops clk_gfx3d_ops;\nextern const struct clk_ops clk_rcg2_shared_ops;\nextern const struct clk_ops clk_dp_ops;\n\nstruct clk_rcg_dfs_data {\n\tstruct clk_rcg2 *rcg;\n\tstruct clk_init_data *init;\n};\n\n#define DEFINE_RCG_DFS(r) \\\n\t{ .rcg = &r, .init = &r##_init }\n\nextern int qcom_cc_register_rcg_dfs(struct regmap *regmap,\n\t\t\t\t    const struct clk_rcg_dfs_data *rcgs,\n\t\t\t\t    size_t len);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}