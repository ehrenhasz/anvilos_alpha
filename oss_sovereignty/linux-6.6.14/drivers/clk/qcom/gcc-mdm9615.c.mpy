{
  "module_name": "gcc-mdm9615.c",
  "hash_id": "f3999912653dd511eef2ad40c244b770b892012f0e61b868ef4313c321027c87",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/qcom/gcc-mdm9615.c",
  "human_readable_source": "\n \n\n#include <linux/kernel.h>\n#include <linux/bitops.h>\n#include <linux/err.h>\n#include <linux/platform_device.h>\n#include <linux/module.h>\n#include <linux/of.h>\n#include <linux/clk-provider.h>\n#include <linux/regmap.h>\n#include <linux/reset-controller.h>\n\n#include <dt-bindings/clock/qcom,gcc-mdm9615.h>\n#include <dt-bindings/reset/qcom,gcc-mdm9615.h>\n\n#include \"common.h\"\n#include \"clk-regmap.h\"\n#include \"clk-pll.h\"\n#include \"clk-rcg.h\"\n#include \"clk-branch.h\"\n#include \"reset.h\"\n\nenum {\n\tDT_CXO,\n\tDT_PLL4,\n};\n\nenum {\n\tP_CXO,\n\tP_PLL8,\n\tP_PLL14,\n};\n\nstatic const struct parent_map gcc_cxo_map[] = {\n\t{ P_CXO, 0 },\n};\n\nstatic const struct clk_parent_data gcc_cxo[] = {\n\t{ .index = DT_CXO, .name = \"cxo_board\" },\n};\n\nstatic struct clk_pll pll0 = {\n\t.l_reg = 0x30c4,\n\t.m_reg = 0x30c8,\n\t.n_reg = 0x30cc,\n\t.config_reg = 0x30d4,\n\t.mode_reg = 0x30c0,\n\t.status_reg = 0x30d8,\n\t.status_bit = 16,\n\t.clkr.hw.init = &(struct clk_init_data){\n\t\t.name = \"pll0\",\n\t\t.parent_data = gcc_cxo,\n\t\t.num_parents = ARRAY_SIZE(gcc_cxo),\n\t\t.ops = &clk_pll_ops,\n\t},\n};\n\nstatic struct clk_regmap pll0_vote = {\n\t.enable_reg = 0x34c0,\n\t.enable_mask = BIT(0),\n\t.hw.init = &(struct clk_init_data){\n\t\t.name = \"pll0_vote\",\n\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t&pll0.clkr.hw,\n\t\t},\n\t\t.num_parents = 1,\n\t\t.ops = &clk_pll_vote_ops,\n\t},\n};\n\nstatic struct clk_regmap pll4_vote = {\n\t.enable_reg = 0x34c0,\n\t.enable_mask = BIT(4),\n\t.hw.init = &(struct clk_init_data){\n\t\t.name = \"pll4_vote\",\n\t\t.parent_data = &(const struct clk_parent_data) {\n\t\t\t.index = DT_PLL4, .name = \"pll4\",\n\t\t},\n\t\t.num_parents = 1,\n\t\t.ops = &clk_pll_vote_ops,\n\t},\n};\n\nstatic struct clk_pll pll8 = {\n\t.l_reg = 0x3144,\n\t.m_reg = 0x3148,\n\t.n_reg = 0x314c,\n\t.config_reg = 0x3154,\n\t.mode_reg = 0x3140,\n\t.status_reg = 0x3158,\n\t.status_bit = 16,\n\t.clkr.hw.init = &(struct clk_init_data){\n\t\t.name = \"pll8\",\n\t\t.parent_data = gcc_cxo,\n\t\t.num_parents = ARRAY_SIZE(gcc_cxo),\n\t\t.ops = &clk_pll_ops,\n\t},\n};\n\nstatic struct clk_regmap pll8_vote = {\n\t.enable_reg = 0x34c0,\n\t.enable_mask = BIT(8),\n\t.hw.init = &(struct clk_init_data){\n\t\t.name = \"pll8_vote\",\n\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t&pll8.clkr.hw,\n\t\t},\n\t\t.num_parents = 1,\n\t\t.ops = &clk_pll_vote_ops,\n\t},\n};\n\nstatic struct clk_pll pll14 = {\n\t.l_reg = 0x31c4,\n\t.m_reg = 0x31c8,\n\t.n_reg = 0x31cc,\n\t.config_reg = 0x31d4,\n\t.mode_reg = 0x31c0,\n\t.status_reg = 0x31d8,\n\t.status_bit = 16,\n\t.clkr.hw.init = &(struct clk_init_data){\n\t\t.name = \"pll14\",\n\t\t.parent_data = gcc_cxo,\n\t\t.num_parents = ARRAY_SIZE(gcc_cxo),\n\t\t.ops = &clk_pll_ops,\n\t},\n};\n\nstatic struct clk_regmap pll14_vote = {\n\t.enable_reg = 0x34c0,\n\t.enable_mask = BIT(11),\n\t.hw.init = &(struct clk_init_data){\n\t\t.name = \"pll14_vote\",\n\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t&pll14.clkr.hw,\n\t\t},\n\t\t.num_parents = 1,\n\t\t.ops = &clk_pll_vote_ops,\n\t},\n};\n\nstatic const struct parent_map gcc_cxo_pll8_map[] = {\n\t{ P_CXO, 0 },\n\t{ P_PLL8, 3 }\n};\n\nstatic const struct clk_parent_data gcc_cxo_pll8[] = {\n\t{ .index = DT_CXO, .name = \"cxo_board\" },\n\t{ .hw = &pll8_vote.hw },\n};\n\nstatic const struct parent_map gcc_cxo_pll14_map[] = {\n\t{ P_CXO, 0 },\n\t{ P_PLL14, 4 }\n};\n\nstatic const struct clk_parent_data gcc_cxo_pll14[] = {\n\t{ .index = DT_CXO, .name = \"cxo_board\" },\n\t{ .hw = &pll14_vote.hw },\n};\n\nstatic struct freq_tbl clk_tbl_gsbi_uart[] = {\n\t{  1843200, P_PLL8, 2,  6, 625 },\n\t{  3686400, P_PLL8, 2, 12, 625 },\n\t{  7372800, P_PLL8, 2, 24, 625 },\n\t{ 14745600, P_PLL8, 2, 48, 625 },\n\t{ 16000000, P_PLL8, 4,  1,   6 },\n\t{ 24000000, P_PLL8, 4,  1,   4 },\n\t{ 32000000, P_PLL8, 4,  1,   3 },\n\t{ 40000000, P_PLL8, 1,  5,  48 },\n\t{ 46400000, P_PLL8, 1, 29, 240 },\n\t{ 48000000, P_PLL8, 4,  1,   2 },\n\t{ 51200000, P_PLL8, 1,  2,  15 },\n\t{ 56000000, P_PLL8, 1,  7,  48 },\n\t{ 58982400, P_PLL8, 1, 96, 625 },\n\t{ 64000000, P_PLL8, 2,  1,   3 },\n\t{ }\n};\n\nstatic struct clk_rcg gsbi1_uart_src = {\n\t.ns_reg = 0x29d4,\n\t.md_reg = 0x29d0,\n\t.mn = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 5,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 16,\n\t\t.width = 16,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 3,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = gcc_cxo_pll8_map,\n\t},\n\t.freq_tbl = clk_tbl_gsbi_uart,\n\t.clkr = {\n\t\t.enable_reg = 0x29d4,\n\t\t.enable_mask = BIT(11),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi1_uart_src\",\n\t\t\t.parent_data = gcc_cxo_pll8,\n\t\t\t.num_parents = ARRAY_SIZE(gcc_cxo_pll8),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t\t.flags = CLK_SET_PARENT_GATE,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch gsbi1_uart_clk = {\n\t.halt_reg = 0x2fcc,\n\t.halt_bit = 10,\n\t.clkr = {\n\t\t.enable_reg = 0x29d4,\n\t\t.enable_mask = BIT(9),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi1_uart_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t\t&gsbi1_uart_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_rcg gsbi2_uart_src = {\n\t.ns_reg = 0x29f4,\n\t.md_reg = 0x29f0,\n\t.mn = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 5,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 16,\n\t\t.width = 16,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 3,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = gcc_cxo_pll8_map,\n\t},\n\t.freq_tbl = clk_tbl_gsbi_uart,\n\t.clkr = {\n\t\t.enable_reg = 0x29f4,\n\t\t.enable_mask = BIT(11),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi2_uart_src\",\n\t\t\t.parent_data = gcc_cxo_pll8,\n\t\t\t.num_parents = ARRAY_SIZE(gcc_cxo_pll8),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t\t.flags = CLK_SET_PARENT_GATE,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch gsbi2_uart_clk = {\n\t.halt_reg = 0x2fcc,\n\t.halt_bit = 6,\n\t.clkr = {\n\t\t.enable_reg = 0x29f4,\n\t\t.enable_mask = BIT(9),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi2_uart_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t\t&gsbi2_uart_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_rcg gsbi3_uart_src = {\n\t.ns_reg = 0x2a14,\n\t.md_reg = 0x2a10,\n\t.mn = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 5,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 16,\n\t\t.width = 16,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 3,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = gcc_cxo_pll8_map,\n\t},\n\t.freq_tbl = clk_tbl_gsbi_uart,\n\t.clkr = {\n\t\t.enable_reg = 0x2a14,\n\t\t.enable_mask = BIT(11),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi3_uart_src\",\n\t\t\t.parent_data = gcc_cxo_pll8,\n\t\t\t.num_parents = ARRAY_SIZE(gcc_cxo_pll8),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t\t.flags = CLK_SET_PARENT_GATE,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch gsbi3_uart_clk = {\n\t.halt_reg = 0x2fcc,\n\t.halt_bit = 2,\n\t.clkr = {\n\t\t.enable_reg = 0x2a14,\n\t\t.enable_mask = BIT(9),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi3_uart_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t\t&gsbi3_uart_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_rcg gsbi4_uart_src = {\n\t.ns_reg = 0x2a34,\n\t.md_reg = 0x2a30,\n\t.mn = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 5,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 16,\n\t\t.width = 16,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 3,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = gcc_cxo_pll8_map,\n\t},\n\t.freq_tbl = clk_tbl_gsbi_uart,\n\t.clkr = {\n\t\t.enable_reg = 0x2a34,\n\t\t.enable_mask = BIT(11),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi4_uart_src\",\n\t\t\t.parent_data = gcc_cxo_pll8,\n\t\t\t.num_parents = ARRAY_SIZE(gcc_cxo_pll8),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t\t.flags = CLK_SET_PARENT_GATE,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch gsbi4_uart_clk = {\n\t.halt_reg = 0x2fd0,\n\t.halt_bit = 26,\n\t.clkr = {\n\t\t.enable_reg = 0x2a34,\n\t\t.enable_mask = BIT(9),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi4_uart_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t\t&gsbi4_uart_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_rcg gsbi5_uart_src = {\n\t.ns_reg = 0x2a54,\n\t.md_reg = 0x2a50,\n\t.mn = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 5,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 16,\n\t\t.width = 16,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 3,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = gcc_cxo_pll8_map,\n\t},\n\t.freq_tbl = clk_tbl_gsbi_uart,\n\t.clkr = {\n\t\t.enable_reg = 0x2a54,\n\t\t.enable_mask = BIT(11),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi5_uart_src\",\n\t\t\t.parent_data = gcc_cxo_pll8,\n\t\t\t.num_parents = ARRAY_SIZE(gcc_cxo_pll8),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t\t.flags = CLK_SET_PARENT_GATE,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch gsbi5_uart_clk = {\n\t.halt_reg = 0x2fd0,\n\t.halt_bit = 22,\n\t.clkr = {\n\t\t.enable_reg = 0x2a54,\n\t\t.enable_mask = BIT(9),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi5_uart_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t\t&gsbi5_uart_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct freq_tbl clk_tbl_gsbi_qup[] = {\n\t{   960000, P_CXO,  4, 1,  5 },\n\t{  4800000, P_CXO,  4, 0,  1 },\n\t{  9600000, P_CXO,  2, 0,  1 },\n\t{ 15060000, P_PLL8, 1, 2, 51 },\n\t{ 24000000, P_PLL8, 4, 1,  4 },\n\t{ 25600000, P_PLL8, 1, 1, 15 },\n\t{ 48000000, P_PLL8, 4, 1,  2 },\n\t{ 51200000, P_PLL8, 1, 2, 15 },\n\t{ }\n};\n\nstatic struct clk_rcg gsbi1_qup_src = {\n\t.ns_reg = 0x29cc,\n\t.md_reg = 0x29c8,\n\t.mn = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 5,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 16,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 3,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = gcc_cxo_pll8_map,\n\t},\n\t.freq_tbl = clk_tbl_gsbi_qup,\n\t.clkr = {\n\t\t.enable_reg = 0x29cc,\n\t\t.enable_mask = BIT(11),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi1_qup_src\",\n\t\t\t.parent_data = gcc_cxo_pll8,\n\t\t\t.num_parents = ARRAY_SIZE(gcc_cxo_pll8),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t\t.flags = CLK_SET_PARENT_GATE,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch gsbi1_qup_clk = {\n\t.halt_reg = 0x2fcc,\n\t.halt_bit = 9,\n\t.clkr = {\n\t\t.enable_reg = 0x29cc,\n\t\t.enable_mask = BIT(9),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi1_qup_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t\t&gsbi1_qup_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_rcg gsbi2_qup_src = {\n\t.ns_reg = 0x29ec,\n\t.md_reg = 0x29e8,\n\t.mn = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 5,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 16,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 3,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = gcc_cxo_pll8_map,\n\t},\n\t.freq_tbl = clk_tbl_gsbi_qup,\n\t.clkr = {\n\t\t.enable_reg = 0x29ec,\n\t\t.enable_mask = BIT(11),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi2_qup_src\",\n\t\t\t.parent_data = gcc_cxo_pll8,\n\t\t\t.num_parents = ARRAY_SIZE(gcc_cxo_pll8),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t\t.flags = CLK_SET_PARENT_GATE,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch gsbi2_qup_clk = {\n\t.halt_reg = 0x2fcc,\n\t.halt_bit = 4,\n\t.clkr = {\n\t\t.enable_reg = 0x29ec,\n\t\t.enable_mask = BIT(9),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi2_qup_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t\t&gsbi2_qup_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_rcg gsbi3_qup_src = {\n\t.ns_reg = 0x2a0c,\n\t.md_reg = 0x2a08,\n\t.mn = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 5,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 16,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 3,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = gcc_cxo_pll8_map,\n\t},\n\t.freq_tbl = clk_tbl_gsbi_qup,\n\t.clkr = {\n\t\t.enable_reg = 0x2a0c,\n\t\t.enable_mask = BIT(11),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi3_qup_src\",\n\t\t\t.parent_data = gcc_cxo_pll8,\n\t\t\t.num_parents = ARRAY_SIZE(gcc_cxo_pll8),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t\t.flags = CLK_SET_PARENT_GATE,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch gsbi3_qup_clk = {\n\t.halt_reg = 0x2fcc,\n\t.halt_bit = 0,\n\t.clkr = {\n\t\t.enable_reg = 0x2a0c,\n\t\t.enable_mask = BIT(9),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi3_qup_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t\t&gsbi3_qup_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_rcg gsbi4_qup_src = {\n\t.ns_reg = 0x2a2c,\n\t.md_reg = 0x2a28,\n\t.mn = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 5,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 16,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 3,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = gcc_cxo_pll8_map,\n\t},\n\t.freq_tbl = clk_tbl_gsbi_qup,\n\t.clkr = {\n\t\t.enable_reg = 0x2a2c,\n\t\t.enable_mask = BIT(11),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi4_qup_src\",\n\t\t\t.parent_data = gcc_cxo_pll8,\n\t\t\t.num_parents = ARRAY_SIZE(gcc_cxo_pll8),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t\t.flags = CLK_SET_PARENT_GATE,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch gsbi4_qup_clk = {\n\t.halt_reg = 0x2fd0,\n\t.halt_bit = 24,\n\t.clkr = {\n\t\t.enable_reg = 0x2a2c,\n\t\t.enable_mask = BIT(9),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi4_qup_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t\t&gsbi4_qup_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_rcg gsbi5_qup_src = {\n\t.ns_reg = 0x2a4c,\n\t.md_reg = 0x2a48,\n\t.mn = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 5,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 16,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 3,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = gcc_cxo_pll8_map,\n\t},\n\t.freq_tbl = clk_tbl_gsbi_qup,\n\t.clkr = {\n\t\t.enable_reg = 0x2a4c,\n\t\t.enable_mask = BIT(11),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi5_qup_src\",\n\t\t\t.parent_data = gcc_cxo_pll8,\n\t\t\t.num_parents = ARRAY_SIZE(gcc_cxo_pll8),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t\t.flags = CLK_SET_PARENT_GATE,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch gsbi5_qup_clk = {\n\t.halt_reg = 0x2fd0,\n\t.halt_bit = 20,\n\t.clkr = {\n\t\t.enable_reg = 0x2a4c,\n\t\t.enable_mask = BIT(9),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi5_qup_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t\t&gsbi5_qup_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic const struct freq_tbl clk_tbl_gp[] = {\n\t{ 9600000, P_CXO,  2, 0, 0 },\n\t{ 19200000, P_CXO,  1, 0, 0 },\n\t{ }\n};\n\nstatic struct clk_rcg gp0_src = {\n\t.ns_reg = 0x2d24,\n\t.md_reg = 0x2d00,\n\t.mn = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 5,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 16,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 3,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = gcc_cxo_map,\n\t},\n\t.freq_tbl = clk_tbl_gp,\n\t.clkr = {\n\t\t.enable_reg = 0x2d24,\n\t\t.enable_mask = BIT(11),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gp0_src\",\n\t\t\t.parent_data = gcc_cxo,\n\t\t\t.num_parents = ARRAY_SIZE(gcc_cxo),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t\t.flags = CLK_SET_PARENT_GATE,\n\t\t},\n\t}\n};\n\nstatic struct clk_branch gp0_clk = {\n\t.halt_reg = 0x2fd8,\n\t.halt_bit = 7,\n\t.clkr = {\n\t\t.enable_reg = 0x2d24,\n\t\t.enable_mask = BIT(9),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gp0_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t\t&gp0_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_rcg gp1_src = {\n\t.ns_reg = 0x2d44,\n\t.md_reg = 0x2d40,\n\t.mn = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 5,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 16,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 3,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = gcc_cxo_map,\n\t},\n\t.freq_tbl = clk_tbl_gp,\n\t.clkr = {\n\t\t.enable_reg = 0x2d44,\n\t\t.enable_mask = BIT(11),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gp1_src\",\n\t\t\t.parent_data = gcc_cxo,\n\t\t\t.num_parents = ARRAY_SIZE(gcc_cxo),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t\t.flags = CLK_SET_RATE_GATE,\n\t\t},\n\t}\n};\n\nstatic struct clk_branch gp1_clk = {\n\t.halt_reg = 0x2fd8,\n\t.halt_bit = 6,\n\t.clkr = {\n\t\t.enable_reg = 0x2d44,\n\t\t.enable_mask = BIT(9),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gp1_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t\t&gp1_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_rcg gp2_src = {\n\t.ns_reg = 0x2d64,\n\t.md_reg = 0x2d60,\n\t.mn = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 5,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 16,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 3,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = gcc_cxo_map,\n\t},\n\t.freq_tbl = clk_tbl_gp,\n\t.clkr = {\n\t\t.enable_reg = 0x2d64,\n\t\t.enable_mask = BIT(11),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gp2_src\",\n\t\t\t.parent_data = gcc_cxo,\n\t\t\t.num_parents = ARRAY_SIZE(gcc_cxo),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t\t.flags = CLK_SET_RATE_GATE,\n\t\t},\n\t}\n};\n\nstatic struct clk_branch gp2_clk = {\n\t.halt_reg = 0x2fd8,\n\t.halt_bit = 5,\n\t.clkr = {\n\t\t.enable_reg = 0x2d64,\n\t\t.enable_mask = BIT(9),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gp2_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t\t&gp2_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch pmem_clk = {\n\t.hwcg_reg = 0x25a0,\n\t.hwcg_bit = 6,\n\t.halt_reg = 0x2fc8,\n\t.halt_bit = 20,\n\t.clkr = {\n\t\t.enable_reg = 0x25a0,\n\t\t.enable_mask = BIT(4),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"pmem_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_rcg prng_src = {\n\t.ns_reg = 0x2e80,\n\t.p = {\n\t\t.pre_div_shift = 3,\n\t\t.pre_div_width = 4,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = gcc_cxo_pll8_map,\n\t},\n\t.clkr = {\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"prng_src\",\n\t\t\t.parent_data = gcc_cxo_pll8,\n\t\t\t.num_parents = ARRAY_SIZE(gcc_cxo_pll8),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch prng_clk = {\n\t.halt_reg = 0x2fd8,\n\t.halt_check = BRANCH_HALT_VOTED,\n\t.halt_bit = 10,\n\t.clkr = {\n\t\t.enable_reg = 0x3080,\n\t\t.enable_mask = BIT(10),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"prng_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t\t&prng_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic const struct freq_tbl clk_tbl_sdc[] = {\n\t{    144000, P_CXO,   1, 1, 133 },\n\t{    400000, P_PLL8,  4, 1, 240 },\n\t{  16000000, P_PLL8,  4, 1,   6 },\n\t{  17070000, P_PLL8,  1, 2,  45 },\n\t{  20210000, P_PLL8,  1, 1,  19 },\n\t{  24000000, P_PLL8,  4, 1,   4 },\n\t{  38400000, P_PLL8,  2, 1,   5 },\n\t{  48000000, P_PLL8,  4, 1,   2 },\n\t{  64000000, P_PLL8,  3, 1,   2 },\n\t{  76800000, P_PLL8,  1, 1,   5 },\n\t{ }\n};\n\nstatic struct clk_rcg sdc1_src = {\n\t.ns_reg = 0x282c,\n\t.md_reg = 0x2828,\n\t.mn = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 5,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 16,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 3,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = gcc_cxo_pll8_map,\n\t},\n\t.freq_tbl = clk_tbl_sdc,\n\t.clkr = {\n\t\t.enable_reg = 0x282c,\n\t\t.enable_mask = BIT(11),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"sdc1_src\",\n\t\t\t.parent_data = gcc_cxo_pll8,\n\t\t\t.num_parents = ARRAY_SIZE(gcc_cxo_pll8),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t},\n\t}\n};\n\nstatic struct clk_branch sdc1_clk = {\n\t.halt_reg = 0x2fc8,\n\t.halt_bit = 6,\n\t.clkr = {\n\t\t.enable_reg = 0x282c,\n\t\t.enable_mask = BIT(9),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"sdc1_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t\t&sdc1_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_rcg sdc2_src = {\n\t.ns_reg = 0x284c,\n\t.md_reg = 0x2848,\n\t.mn = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 5,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 16,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 3,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = gcc_cxo_pll8_map,\n\t},\n\t.freq_tbl = clk_tbl_sdc,\n\t.clkr = {\n\t\t.enable_reg = 0x284c,\n\t\t.enable_mask = BIT(11),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"sdc2_src\",\n\t\t\t.parent_data = gcc_cxo_pll8,\n\t\t\t.num_parents = ARRAY_SIZE(gcc_cxo_pll8),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t},\n\t}\n};\n\nstatic struct clk_branch sdc2_clk = {\n\t.halt_reg = 0x2fc8,\n\t.halt_bit = 5,\n\t.clkr = {\n\t\t.enable_reg = 0x284c,\n\t\t.enable_mask = BIT(9),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"sdc2_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t\t&sdc2_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic const struct freq_tbl clk_tbl_usb[] = {\n\t{ 60000000, P_PLL8, 1, 5, 32 },\n\t{ }\n};\n\nstatic struct clk_rcg usb_hs1_xcvr_src = {\n\t.ns_reg = 0x290c,\n\t.md_reg = 0x2908,\n\t.mn = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 5,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 16,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 3,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = gcc_cxo_pll8_map,\n\t},\n\t.freq_tbl = clk_tbl_usb,\n\t.clkr = {\n\t\t.enable_reg = 0x290c,\n\t\t.enable_mask = BIT(11),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"usb_hs1_xcvr_src\",\n\t\t\t.parent_data = gcc_cxo_pll8,\n\t\t\t.num_parents = ARRAY_SIZE(gcc_cxo_pll8),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t\t.flags = CLK_SET_RATE_GATE,\n\t\t},\n\t}\n};\n\nstatic struct clk_branch usb_hs1_xcvr_clk = {\n\t.halt_reg = 0x2fc8,\n\t.halt_bit = 0,\n\t.clkr = {\n\t\t.enable_reg = 0x290c,\n\t\t.enable_mask = BIT(9),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"usb_hs1_xcvr_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t\t&usb_hs1_xcvr_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_rcg usb_hsic_xcvr_fs_src = {\n\t.ns_reg = 0x2928,\n\t.md_reg = 0x2924,\n\t.mn = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 5,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 16,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 3,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = gcc_cxo_pll8_map,\n\t},\n\t.freq_tbl = clk_tbl_usb,\n\t.clkr = {\n\t\t.enable_reg = 0x2928,\n\t\t.enable_mask = BIT(11),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"usb_hsic_xcvr_fs_src\",\n\t\t\t.parent_data = gcc_cxo_pll8,\n\t\t\t.num_parents = ARRAY_SIZE(gcc_cxo_pll8),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t\t.flags = CLK_SET_RATE_GATE,\n\t\t},\n\t}\n};\n\nstatic struct clk_branch usb_hsic_xcvr_fs_clk = {\n\t.halt_reg = 0x2fc8,\n\t.halt_bit = 9,\n\t.clkr = {\n\t\t.enable_reg = 0x2928,\n\t\t.enable_mask = BIT(9),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"usb_hsic_xcvr_fs_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t\t&usb_hsic_xcvr_fs_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic const struct freq_tbl clk_tbl_usb_hs1_system[] = {\n\t{ 60000000, P_PLL8, 1, 5, 32 },\n\t{ }\n};\n\nstatic struct clk_rcg usb_hs1_system_src = {\n\t.ns_reg = 0x36a4,\n\t.md_reg = 0x36a0,\n\t.mn = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 5,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 16,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 3,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = gcc_cxo_pll8_map,\n\t},\n\t.freq_tbl = clk_tbl_usb_hs1_system,\n\t.clkr = {\n\t\t.enable_reg = 0x36a4,\n\t\t.enable_mask = BIT(11),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"usb_hs1_system_src\",\n\t\t\t.parent_data = gcc_cxo_pll8,\n\t\t\t.num_parents = ARRAY_SIZE(gcc_cxo_pll8),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t\t.flags = CLK_SET_RATE_GATE,\n\t\t},\n\t}\n};\n\nstatic struct clk_branch usb_hs1_system_clk = {\n\t.halt_reg = 0x2fc8,\n\t.halt_bit = 4,\n\t.clkr = {\n\t\t.enable_reg = 0x36a4,\n\t\t.enable_mask = BIT(9),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t\t&usb_hs1_system_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.name = \"usb_hs1_system_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT | CLK_IGNORE_UNUSED,\n\t\t},\n\t},\n};\n\nstatic const struct freq_tbl clk_tbl_usb_hsic_system[] = {\n\t{ 64000000, P_PLL8, 1, 1, 6 },\n\t{ }\n};\n\nstatic struct clk_rcg usb_hsic_system_src = {\n\t.ns_reg = 0x2b58,\n\t.md_reg = 0x2b54,\n\t.mn = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 5,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 16,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 3,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = gcc_cxo_pll8_map,\n\t},\n\t.freq_tbl = clk_tbl_usb_hsic_system,\n\t.clkr = {\n\t\t.enable_reg = 0x2b58,\n\t\t.enable_mask = BIT(11),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"usb_hsic_system_src\",\n\t\t\t.parent_data = gcc_cxo_pll8,\n\t\t\t.num_parents = ARRAY_SIZE(gcc_cxo_pll8),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t\t.flags = CLK_SET_RATE_GATE,\n\t\t},\n\t}\n};\n\nstatic struct clk_branch usb_hsic_system_clk = {\n\t.halt_reg = 0x2fc8,\n\t.halt_bit = 7,\n\t.clkr = {\n\t\t.enable_reg = 0x2b58,\n\t\t.enable_mask = BIT(9),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t\t&usb_hsic_system_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.name = \"usb_hsic_system_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic const struct freq_tbl clk_tbl_usb_hsic_hsic[] = {\n\t{ 48000000, P_PLL14, 1, 0, 0 },\n\t{ }\n};\n\nstatic struct clk_rcg usb_hsic_hsic_src = {\n\t.ns_reg = 0x2b50,\n\t.md_reg = 0x2b4c,\n\t.mn = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 5,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 16,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 3,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = gcc_cxo_pll14_map,\n\t},\n\t.freq_tbl = clk_tbl_usb_hsic_hsic,\n\t.clkr = {\n\t\t.enable_reg = 0x2b50,\n\t\t.enable_mask = BIT(11),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"usb_hsic_hsic_src\",\n\t\t\t.parent_data = gcc_cxo_pll14,\n\t\t\t.num_parents = ARRAY_SIZE(gcc_cxo_pll14),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t\t.flags = CLK_SET_RATE_GATE,\n\t\t},\n\t}\n};\n\nstatic struct clk_branch usb_hsic_hsic_clk = {\n\t.halt_check = BRANCH_HALT_DELAY,\n\t.clkr = {\n\t\t.enable_reg = 0x2b50,\n\t\t.enable_mask = BIT(9),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.parent_hws = (const struct clk_hw*[]) {\n\t\t\t\t&usb_hsic_hsic_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.name = \"usb_hsic_hsic_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch usb_hsic_hsio_cal_clk = {\n\t.halt_reg = 0x2fc8,\n\t.halt_bit = 8,\n\t.clkr = {\n\t\t.enable_reg = 0x2b48,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.parent_data = gcc_cxo,\n\t\t\t.num_parents = ARRAY_SIZE(gcc_cxo),\n\t\t\t.name = \"usb_hsic_hsio_cal_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch ce1_core_clk = {\n\t.hwcg_reg = 0x2724,\n\t.hwcg_bit = 6,\n\t.halt_reg = 0x2fd4,\n\t.halt_bit = 27,\n\t.clkr = {\n\t\t.enable_reg = 0x2724,\n\t\t.enable_mask = BIT(4),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"ce1_core_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch ce1_h_clk = {\n\t.halt_reg = 0x2fd4,\n\t.halt_bit = 1,\n\t.clkr = {\n\t\t.enable_reg = 0x2720,\n\t\t.enable_mask = BIT(4),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"ce1_h_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch dma_bam_h_clk = {\n\t.hwcg_reg = 0x25c0,\n\t.hwcg_bit = 6,\n\t.halt_reg = 0x2fc8,\n\t.halt_bit = 12,\n\t.clkr = {\n\t\t.enable_reg = 0x25c0,\n\t\t.enable_mask = BIT(4),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"dma_bam_h_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch gsbi1_h_clk = {\n\t.hwcg_reg = 0x29c0,\n\t.hwcg_bit = 6,\n\t.halt_reg = 0x2fcc,\n\t.halt_bit = 11,\n\t.clkr = {\n\t\t.enable_reg = 0x29c0,\n\t\t.enable_mask = BIT(4),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi1_h_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch gsbi2_h_clk = {\n\t.hwcg_reg = 0x29e0,\n\t.hwcg_bit = 6,\n\t.halt_reg = 0x2fcc,\n\t.halt_bit = 7,\n\t.clkr = {\n\t\t.enable_reg = 0x29e0,\n\t\t.enable_mask = BIT(4),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi2_h_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch gsbi3_h_clk = {\n\t.hwcg_reg = 0x2a00,\n\t.hwcg_bit = 6,\n\t.halt_reg = 0x2fcc,\n\t.halt_bit = 3,\n\t.clkr = {\n\t\t.enable_reg = 0x2a00,\n\t\t.enable_mask = BIT(4),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi3_h_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch gsbi4_h_clk = {\n\t.hwcg_reg = 0x2a20,\n\t.hwcg_bit = 6,\n\t.halt_reg = 0x2fd0,\n\t.halt_bit = 27,\n\t.clkr = {\n\t\t.enable_reg = 0x2a20,\n\t\t.enable_mask = BIT(4),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi4_h_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch gsbi5_h_clk = {\n\t.hwcg_reg = 0x2a40,\n\t.hwcg_bit = 6,\n\t.halt_reg = 0x2fd0,\n\t.halt_bit = 23,\n\t.clkr = {\n\t\t.enable_reg = 0x2a40,\n\t\t.enable_mask = BIT(4),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gsbi5_h_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch usb_hs1_h_clk = {\n\t.hwcg_reg = 0x2900,\n\t.hwcg_bit = 6,\n\t.halt_reg = 0x2fc8,\n\t.halt_bit = 1,\n\t.clkr = {\n\t\t.enable_reg = 0x2900,\n\t\t.enable_mask = BIT(4),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"usb_hs1_h_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch usb_hsic_h_clk = {\n\t.halt_reg = 0x2fcc,\n\t.halt_bit = 28,\n\t.clkr = {\n\t\t.enable_reg = 0x2920,\n\t\t.enable_mask = BIT(4),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"usb_hsic_h_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch sdc1_h_clk = {\n\t.hwcg_reg = 0x2820,\n\t.hwcg_bit = 6,\n\t.halt_reg = 0x2fc8,\n\t.halt_bit = 11,\n\t.clkr = {\n\t\t.enable_reg = 0x2820,\n\t\t.enable_mask = BIT(4),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"sdc1_h_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch sdc2_h_clk = {\n\t.hwcg_reg = 0x2840,\n\t.hwcg_bit = 6,\n\t.halt_reg = 0x2fc8,\n\t.halt_bit = 10,\n\t.clkr = {\n\t\t.enable_reg = 0x2840,\n\t\t.enable_mask = BIT(4),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"sdc2_h_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch adm0_clk = {\n\t.halt_reg = 0x2fdc,\n\t.halt_check = BRANCH_HALT_VOTED,\n\t.halt_bit = 14,\n\t.clkr = {\n\t\t.enable_reg = 0x3080,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"adm0_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch adm0_pbus_clk = {\n\t.hwcg_reg = 0x2208,\n\t.hwcg_bit = 6,\n\t.halt_reg = 0x2fdc,\n\t.halt_check = BRANCH_HALT_VOTED,\n\t.halt_bit = 13,\n\t.clkr = {\n\t\t.enable_reg = 0x3080,\n\t\t.enable_mask = BIT(3),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"adm0_pbus_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch pmic_arb0_h_clk = {\n\t.halt_reg = 0x2fd8,\n\t.halt_check = BRANCH_HALT_VOTED,\n\t.halt_bit = 22,\n\t.clkr = {\n\t\t.enable_reg = 0x3080,\n\t\t.enable_mask = BIT(8),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"pmic_arb0_h_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch pmic_arb1_h_clk = {\n\t.halt_reg = 0x2fd8,\n\t.halt_check = BRANCH_HALT_VOTED,\n\t.halt_bit = 21,\n\t.clkr = {\n\t\t.enable_reg = 0x3080,\n\t\t.enable_mask = BIT(9),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"pmic_arb1_h_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch pmic_ssbi2_clk = {\n\t.halt_reg = 0x2fd8,\n\t.halt_check = BRANCH_HALT_VOTED,\n\t.halt_bit = 23,\n\t.clkr = {\n\t\t.enable_reg = 0x3080,\n\t\t.enable_mask = BIT(7),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"pmic_ssbi2_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch rpm_msg_ram_h_clk = {\n\t.hwcg_reg = 0x27e0,\n\t.hwcg_bit = 6,\n\t.halt_reg = 0x2fd8,\n\t.halt_check = BRANCH_HALT_VOTED,\n\t.halt_bit = 12,\n\t.clkr = {\n\t\t.enable_reg = 0x3080,\n\t\t.enable_mask = BIT(6),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"rpm_msg_ram_h_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch ebi2_clk = {\n\t.hwcg_reg = 0x2664,\n\t.hwcg_bit = 6,\n\t.halt_reg = 0x2fcc,\n\t.halt_bit = 24,\n\t.clkr = {\n\t\t.enable_reg = 0x2664,\n\t\t.enable_mask = BIT(6) | BIT(4),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"ebi2_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch ebi2_aon_clk = {\n\t.halt_reg = 0x2fcc,\n\t.halt_bit = 23,\n\t.clkr = {\n\t\t.enable_reg = 0x2664,\n\t\t.enable_mask = BIT(8),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"ebi2_aon_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_regmap *gcc_mdm9615_clks[] = {\n\t[PLL0] = &pll0.clkr,\n\t[PLL0_VOTE] = &pll0_vote,\n\t[PLL4_VOTE] = &pll4_vote,\n\t[PLL8] = &pll8.clkr,\n\t[PLL8_VOTE] = &pll8_vote,\n\t[PLL14] = &pll14.clkr,\n\t[PLL14_VOTE] = &pll14_vote,\n\t[GSBI1_UART_SRC] = &gsbi1_uart_src.clkr,\n\t[GSBI1_UART_CLK] = &gsbi1_uart_clk.clkr,\n\t[GSBI2_UART_SRC] = &gsbi2_uart_src.clkr,\n\t[GSBI2_UART_CLK] = &gsbi2_uart_clk.clkr,\n\t[GSBI3_UART_SRC] = &gsbi3_uart_src.clkr,\n\t[GSBI3_UART_CLK] = &gsbi3_uart_clk.clkr,\n\t[GSBI4_UART_SRC] = &gsbi4_uart_src.clkr,\n\t[GSBI4_UART_CLK] = &gsbi4_uart_clk.clkr,\n\t[GSBI5_UART_SRC] = &gsbi5_uart_src.clkr,\n\t[GSBI5_UART_CLK] = &gsbi5_uart_clk.clkr,\n\t[GSBI1_QUP_SRC] = &gsbi1_qup_src.clkr,\n\t[GSBI1_QUP_CLK] = &gsbi1_qup_clk.clkr,\n\t[GSBI2_QUP_SRC] = &gsbi2_qup_src.clkr,\n\t[GSBI2_QUP_CLK] = &gsbi2_qup_clk.clkr,\n\t[GSBI3_QUP_SRC] = &gsbi3_qup_src.clkr,\n\t[GSBI3_QUP_CLK] = &gsbi3_qup_clk.clkr,\n\t[GSBI4_QUP_SRC] = &gsbi4_qup_src.clkr,\n\t[GSBI4_QUP_CLK] = &gsbi4_qup_clk.clkr,\n\t[GSBI5_QUP_SRC] = &gsbi5_qup_src.clkr,\n\t[GSBI5_QUP_CLK] = &gsbi5_qup_clk.clkr,\n\t[GP0_SRC] = &gp0_src.clkr,\n\t[GP0_CLK] = &gp0_clk.clkr,\n\t[GP1_SRC] = &gp1_src.clkr,\n\t[GP1_CLK] = &gp1_clk.clkr,\n\t[GP2_SRC] = &gp2_src.clkr,\n\t[GP2_CLK] = &gp2_clk.clkr,\n\t[PMEM_A_CLK] = &pmem_clk.clkr,\n\t[PRNG_SRC] = &prng_src.clkr,\n\t[PRNG_CLK] = &prng_clk.clkr,\n\t[SDC1_SRC] = &sdc1_src.clkr,\n\t[SDC1_CLK] = &sdc1_clk.clkr,\n\t[SDC2_SRC] = &sdc2_src.clkr,\n\t[SDC2_CLK] = &sdc2_clk.clkr,\n\t[USB_HS1_XCVR_SRC] = &usb_hs1_xcvr_src.clkr,\n\t[USB_HS1_XCVR_CLK] = &usb_hs1_xcvr_clk.clkr,\n\t[USB_HS1_SYSTEM_CLK_SRC] = &usb_hs1_system_src.clkr,\n\t[USB_HS1_SYSTEM_CLK] = &usb_hs1_system_clk.clkr,\n\t[USB_HSIC_XCVR_FS_SRC] = &usb_hsic_xcvr_fs_src.clkr,\n\t[USB_HSIC_XCVR_FS_CLK] = &usb_hsic_xcvr_fs_clk.clkr,\n\t[USB_HSIC_SYSTEM_CLK_SRC] = &usb_hsic_system_src.clkr,\n\t[USB_HSIC_SYSTEM_CLK] = &usb_hsic_system_clk.clkr,\n\t[USB_HSIC_HSIC_CLK_SRC] = &usb_hsic_hsic_src.clkr,\n\t[USB_HSIC_HSIC_CLK] = &usb_hsic_hsic_clk.clkr,\n\t[USB_HSIC_HSIO_CAL_CLK] = &usb_hsic_hsio_cal_clk.clkr,\n\t[CE1_CORE_CLK] = &ce1_core_clk.clkr,\n\t[CE1_H_CLK] = &ce1_h_clk.clkr,\n\t[DMA_BAM_H_CLK] = &dma_bam_h_clk.clkr,\n\t[GSBI1_H_CLK] = &gsbi1_h_clk.clkr,\n\t[GSBI2_H_CLK] = &gsbi2_h_clk.clkr,\n\t[GSBI3_H_CLK] = &gsbi3_h_clk.clkr,\n\t[GSBI4_H_CLK] = &gsbi4_h_clk.clkr,\n\t[GSBI5_H_CLK] = &gsbi5_h_clk.clkr,\n\t[USB_HS1_H_CLK] = &usb_hs1_h_clk.clkr,\n\t[USB_HSIC_H_CLK] = &usb_hsic_h_clk.clkr,\n\t[SDC1_H_CLK] = &sdc1_h_clk.clkr,\n\t[SDC2_H_CLK] = &sdc2_h_clk.clkr,\n\t[ADM0_CLK] = &adm0_clk.clkr,\n\t[ADM0_PBUS_CLK] = &adm0_pbus_clk.clkr,\n\t[PMIC_ARB0_H_CLK] = &pmic_arb0_h_clk.clkr,\n\t[PMIC_ARB1_H_CLK] = &pmic_arb1_h_clk.clkr,\n\t[PMIC_SSBI2_CLK] = &pmic_ssbi2_clk.clkr,\n\t[RPM_MSG_RAM_H_CLK] = &rpm_msg_ram_h_clk.clkr,\n\t[EBI2_CLK] = &ebi2_clk.clkr,\n\t[EBI2_AON_CLK] = &ebi2_aon_clk.clkr,\n};\n\nstatic const struct qcom_reset_map gcc_mdm9615_resets[] = {\n\t[DMA_BAM_RESET] = { 0x25c0, 7 },\n\t[CE1_H_RESET] = { 0x2720, 7 },\n\t[CE1_CORE_RESET] = { 0x2724, 7 },\n\t[SDC1_RESET] = { 0x2830 },\n\t[SDC2_RESET] = { 0x2850 },\n\t[ADM0_C2_RESET] = { 0x220c, 4 },\n\t[ADM0_C1_RESET] = { 0x220c, 3 },\n\t[ADM0_C0_RESET] = { 0x220c, 2 },\n\t[ADM0_PBUS_RESET] = { 0x220c, 1 },\n\t[ADM0_RESET] = { 0x220c },\n\t[USB_HS1_RESET] = { 0x2910 },\n\t[USB_HSIC_RESET] = { 0x2934 },\n\t[GSBI1_RESET] = { 0x29dc },\n\t[GSBI2_RESET] = { 0x29fc },\n\t[GSBI3_RESET] = { 0x2a1c },\n\t[GSBI4_RESET] = { 0x2a3c },\n\t[GSBI5_RESET] = { 0x2a5c },\n\t[PDM_RESET] = { 0x2CC0, 12 },\n};\n\nstatic const struct regmap_config gcc_mdm9615_regmap_config = {\n\t.reg_bits\t= 32,\n\t.reg_stride\t= 4,\n\t.val_bits\t= 32,\n\t.max_register\t= 0x3660,\n\t.fast_io\t= true,\n};\n\nstatic const struct qcom_cc_desc gcc_mdm9615_desc = {\n\t.config = &gcc_mdm9615_regmap_config,\n\t.clks = gcc_mdm9615_clks,\n\t.num_clks = ARRAY_SIZE(gcc_mdm9615_clks),\n\t.resets = gcc_mdm9615_resets,\n\t.num_resets = ARRAY_SIZE(gcc_mdm9615_resets),\n};\n\nstatic const struct of_device_id gcc_mdm9615_match_table[] = {\n\t{ .compatible = \"qcom,gcc-mdm9615\" },\n\t{ }\n};\nMODULE_DEVICE_TABLE(of, gcc_mdm9615_match_table);\n\nstatic int gcc_mdm9615_probe(struct platform_device *pdev)\n{\n\tstruct regmap *regmap;\n\n\tregmap = qcom_cc_map(pdev, &gcc_mdm9615_desc);\n\tif (IS_ERR(regmap))\n\t\treturn PTR_ERR(regmap);\n\n\treturn qcom_cc_really_probe(pdev, &gcc_mdm9615_desc, regmap);\n}\n\nstatic struct platform_driver gcc_mdm9615_driver = {\n\t.probe\t\t= gcc_mdm9615_probe,\n\t.driver\t\t= {\n\t\t.name\t= \"gcc-mdm9615\",\n\t\t.of_match_table = gcc_mdm9615_match_table,\n\t},\n};\n\nstatic int __init gcc_mdm9615_init(void)\n{\n\treturn platform_driver_register(&gcc_mdm9615_driver);\n}\ncore_initcall(gcc_mdm9615_init);\n\nstatic void __exit gcc_mdm9615_exit(void)\n{\n\tplatform_driver_unregister(&gcc_mdm9615_driver);\n}\nmodule_exit(gcc_mdm9615_exit);\n\nMODULE_DESCRIPTION(\"QCOM GCC MDM9615 Driver\");\nMODULE_LICENSE(\"GPL v2\");\nMODULE_ALIAS(\"platform:gcc-mdm9615\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}