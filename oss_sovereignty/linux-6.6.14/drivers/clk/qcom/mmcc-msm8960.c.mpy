{
  "module_name": "mmcc-msm8960.c",
  "hash_id": "578168f9958769fa41c542467e30c8d2854c6f162136a4b0e3cd39d3fade964c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/qcom/mmcc-msm8960.c",
  "human_readable_source": "\n \n\n#include <linux/kernel.h>\n#include <linux/bitops.h>\n#include <linux/err.h>\n#include <linux/delay.h>\n#include <linux/platform_device.h>\n#include <linux/module.h>\n#include <linux/of.h>\n#include <linux/of_device.h>\n#include <linux/clk.h>\n#include <linux/clk-provider.h>\n#include <linux/regmap.h>\n#include <linux/reset-controller.h>\n\n#include <dt-bindings/clock/qcom,mmcc-msm8960.h>\n#include <dt-bindings/reset/qcom,mmcc-msm8960.h>\n\n#include \"common.h\"\n#include \"clk-regmap.h\"\n#include \"clk-pll.h\"\n#include \"clk-rcg.h\"\n#include \"clk-branch.h\"\n#include \"reset.h\"\n\nenum {\n\tP_PXO,\n\tP_PLL8,\n\tP_PLL2,\n\tP_PLL3,\n\tP_PLL15,\n\tP_HDMI_PLL,\n\tP_DSI1_PLL_DSICLK,\n\tP_DSI2_PLL_DSICLK,\n\tP_DSI1_PLL_BYTECLK,\n\tP_DSI2_PLL_BYTECLK,\n};\n\n#define F_MN(f, s, _m, _n) { .freq = f, .src = s, .m = _m, .n = _n }\n\nstatic struct clk_pll pll2 = {\n\t.l_reg = 0x320,\n\t.m_reg = 0x324,\n\t.n_reg = 0x328,\n\t.config_reg = 0x32c,\n\t.mode_reg = 0x31c,\n\t.status_reg = 0x334,\n\t.status_bit = 16,\n\t.clkr.hw.init = &(struct clk_init_data){\n\t\t.name = \"pll2\",\n\t\t.parent_data = (const struct clk_parent_data[]){\n\t\t\t{ .fw_name = \"pxo\", .name = \"pxo_board\" },\n\t\t},\n\t\t.num_parents = 1,\n\t\t.ops = &clk_pll_ops,\n\t},\n};\n\nstatic struct clk_pll pll15 = {\n\t.l_reg = 0x33c,\n\t.m_reg = 0x340,\n\t.n_reg = 0x344,\n\t.config_reg = 0x348,\n\t.mode_reg = 0x338,\n\t.status_reg = 0x350,\n\t.status_bit = 16,\n\t.clkr.hw.init = &(struct clk_init_data){\n\t\t.name = \"pll15\",\n\t\t.parent_data = (const struct clk_parent_data[]){\n\t\t\t{ .fw_name = \"pxo\", .name = \"pxo_board\" },\n\t\t},\n\t\t.num_parents = 1,\n\t\t.ops = &clk_pll_ops,\n\t},\n};\n\nstatic const struct pll_config pll15_config = {\n\t.l = 33,\n\t.m = 1,\n\t.n = 3,\n\t.vco_val = 0x2 << 16,\n\t.vco_mask = 0x3 << 16,\n\t.pre_div_val = 0x0,\n\t.pre_div_mask = BIT(19),\n\t.post_div_val = 0x0,\n\t.post_div_mask = 0x3 << 20,\n\t.mn_ena_mask = BIT(22),\n\t.main_output_mask = BIT(23),\n};\n\nstatic const struct parent_map mmcc_pxo_pll8_pll2_map[] = {\n\t{ P_PXO, 0 },\n\t{ P_PLL8, 2 },\n\t{ P_PLL2, 1 }\n};\n\nstatic const struct clk_parent_data mmcc_pxo_pll8_pll2[] = {\n\t{ .fw_name = \"pxo\", .name = \"pxo_board\" },\n\t{ .fw_name = \"pll8_vote\", .name = \"pll8_vote\" },\n\t{ .hw = &pll2.clkr.hw },\n};\n\nstatic const struct parent_map mmcc_pxo_pll8_pll2_pll3_map[] = {\n\t{ P_PXO, 0 },\n\t{ P_PLL8, 2 },\n\t{ P_PLL2, 1 },\n\t{ P_PLL3, 3 }\n};\n\nstatic const struct clk_parent_data mmcc_pxo_pll8_pll2_pll15[] = {\n\t{ .fw_name = \"pxo\", .name = \"pxo_board\" },\n\t{ .fw_name = \"pll8_vote\", .name = \"pll8_vote\" },\n\t{ .hw = &pll2.clkr.hw },\n\t{ .hw = &pll15.clkr.hw },\n};\n\nstatic const struct parent_map mmcc_pxo_pll8_pll2_pll15_map[] = {\n\t{ P_PXO, 0 },\n\t{ P_PLL8, 2 },\n\t{ P_PLL2, 1 },\n\t{ P_PLL15, 3 }\n};\n\nstatic const struct clk_parent_data mmcc_pxo_pll8_pll2_pll3[] = {\n\t{ .fw_name = \"pxo\", .name = \"pxo_board\" },\n\t{ .fw_name = \"pll8_vote\", .name = \"pll8_vote\" },\n\t{ .hw = &pll2.clkr.hw },\n\t{ .fw_name = \"pll3\", .name = \"pll3\" },\n};\n\nstatic const struct parent_map mmcc_pxo_dsi2_dsi1_map[] = {\n\t{ P_PXO, 0 },\n\t{ P_DSI2_PLL_DSICLK, 1 },\n\t{ P_DSI1_PLL_DSICLK, 3 },\n};\n\nstatic const struct clk_parent_data mmcc_pxo_dsi2_dsi1[] = {\n\t{ .fw_name = \"pxo\", .name = \"pxo_board\" },\n\t{ .fw_name = \"dsi2pll\", .name = \"dsi2pll\" },\n\t{ .fw_name = \"dsi1pll\", .name = \"dsi1pll\" },\n};\n\nstatic const struct parent_map mmcc_pxo_dsi1_dsi2_byte_map[] = {\n\t{ P_PXO, 0 },\n\t{ P_DSI1_PLL_BYTECLK, 1 },\n\t{ P_DSI2_PLL_BYTECLK, 2 },\n};\n\nstatic const struct clk_parent_data mmcc_pxo_dsi1_dsi2_byte[] = {\n\t{ .fw_name = \"pxo\", .name = \"pxo_board\" },\n\t{ .fw_name = \"dsi1pllbyte\", .name = \"dsi1pllbyte\" },\n\t{ .fw_name = \"dsi2pllbyte\", .name = \"dsi2pllbyte\" },\n};\n\nstatic struct freq_tbl clk_tbl_cam[] = {\n\t{   6000000, P_PLL8, 4, 1, 16 },\n\t{   8000000, P_PLL8, 4, 1, 12 },\n\t{  12000000, P_PLL8, 4, 1,  8 },\n\t{  16000000, P_PLL8, 4, 1,  6 },\n\t{  19200000, P_PLL8, 4, 1,  5 },\n\t{  24000000, P_PLL8, 4, 1,  4 },\n\t{  32000000, P_PLL8, 4, 1,  3 },\n\t{  48000000, P_PLL8, 4, 1,  2 },\n\t{  64000000, P_PLL8, 3, 1,  2 },\n\t{  96000000, P_PLL8, 4, 0,  0 },\n\t{ 128000000, P_PLL8, 3, 0,  0 },\n\t{ }\n};\n\nstatic struct clk_rcg camclk0_src = {\n\t.ns_reg = 0x0148,\n\t.md_reg = 0x0144,\n\t.mn = {\n\t\t.mnctr_en_bit = 5,\n\t\t.mnctr_reset_bit = 8,\n\t\t.reset_in_cc = true,\n\t\t.mnctr_mode_shift = 6,\n\t\t.n_val_shift = 24,\n\t\t.m_val_shift = 8,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 14,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_map,\n\t},\n\t.freq_tbl = clk_tbl_cam,\n\t.clkr = {\n\t\t.enable_reg = 0x0140,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"camclk0_src\",\n\t\t\t.parent_data = mmcc_pxo_pll8_pll2,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_pll8_pll2),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch camclk0_clk = {\n\t.halt_reg = 0x01e8,\n\t.halt_bit = 15,\n\t.clkr = {\n\t\t.enable_reg = 0x0140,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"camclk0_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&camclk0_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n\n};\n\nstatic struct clk_rcg camclk1_src = {\n\t.ns_reg = 0x015c,\n\t.md_reg = 0x0158,\n\t.mn = {\n\t\t.mnctr_en_bit = 5,\n\t\t.mnctr_reset_bit = 8,\n\t\t.reset_in_cc = true,\n\t\t.mnctr_mode_shift = 6,\n\t\t.n_val_shift = 24,\n\t\t.m_val_shift = 8,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 14,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_map,\n\t},\n\t.freq_tbl = clk_tbl_cam,\n\t.clkr = {\n\t\t.enable_reg = 0x0154,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"camclk1_src\",\n\t\t\t.parent_data = mmcc_pxo_pll8_pll2,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_pll8_pll2),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch camclk1_clk = {\n\t.halt_reg = 0x01e8,\n\t.halt_bit = 16,\n\t.clkr = {\n\t\t.enable_reg = 0x0154,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"camclk1_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&camclk1_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n\n};\n\nstatic struct clk_rcg camclk2_src = {\n\t.ns_reg = 0x0228,\n\t.md_reg = 0x0224,\n\t.mn = {\n\t\t.mnctr_en_bit = 5,\n\t\t.mnctr_reset_bit = 8,\n\t\t.reset_in_cc = true,\n\t\t.mnctr_mode_shift = 6,\n\t\t.n_val_shift = 24,\n\t\t.m_val_shift = 8,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 14,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_map,\n\t},\n\t.freq_tbl = clk_tbl_cam,\n\t.clkr = {\n\t\t.enable_reg = 0x0220,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"camclk2_src\",\n\t\t\t.parent_data = mmcc_pxo_pll8_pll2,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_pll8_pll2),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch camclk2_clk = {\n\t.halt_reg = 0x01e8,\n\t.halt_bit = 16,\n\t.clkr = {\n\t\t.enable_reg = 0x0220,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"camclk2_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&camclk2_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n\n};\n\nstatic struct freq_tbl clk_tbl_csi[] = {\n\t{  27000000, P_PXO,  1, 0, 0 },\n\t{  85330000, P_PLL8, 1, 2, 9 },\n\t{ 177780000, P_PLL2, 1, 2, 9 },\n\t{ }\n};\n\nstatic struct clk_rcg csi0_src = {\n\t.ns_reg = 0x0048,\n\t.md_reg\t= 0x0044,\n\t.mn = {\n\t\t.mnctr_en_bit = 5,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 6,\n\t\t.n_val_shift = 24,\n\t\t.m_val_shift = 8,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 14,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_map,\n\t},\n\t.freq_tbl = clk_tbl_csi,\n\t.clkr = {\n\t\t.enable_reg = 0x0040,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"csi0_src\",\n\t\t\t.parent_data = mmcc_pxo_pll8_pll2,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_pll8_pll2),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch csi0_clk = {\n\t.halt_reg = 0x01cc,\n\t.halt_bit = 13,\n\t.clkr = {\n\t\t.enable_reg = 0x0040,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&csi0_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.name = \"csi0_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch csi0_phy_clk = {\n\t.halt_reg = 0x01e8,\n\t.halt_bit = 9,\n\t.clkr = {\n\t\t.enable_reg = 0x0040,\n\t\t.enable_mask = BIT(8),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&csi0_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.name = \"csi0_phy_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_rcg csi1_src = {\n\t.ns_reg = 0x0010,\n\t.md_reg\t= 0x0028,\n\t.mn = {\n\t\t.mnctr_en_bit = 5,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 6,\n\t\t.n_val_shift = 24,\n\t\t.m_val_shift = 8,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 14,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_map,\n\t},\n\t.freq_tbl = clk_tbl_csi,\n\t.clkr = {\n\t\t.enable_reg = 0x0024,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"csi1_src\",\n\t\t\t.parent_data = mmcc_pxo_pll8_pll2,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_pll8_pll2),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch csi1_clk = {\n\t.halt_reg = 0x01cc,\n\t.halt_bit = 14,\n\t.clkr = {\n\t\t.enable_reg = 0x0024,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&csi1_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.name = \"csi1_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch csi1_phy_clk = {\n\t.halt_reg = 0x01e8,\n\t.halt_bit = 10,\n\t.clkr = {\n\t\t.enable_reg = 0x0024,\n\t\t.enable_mask = BIT(8),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&csi1_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.name = \"csi1_phy_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_rcg csi2_src = {\n\t.ns_reg = 0x0234,\n\t.md_reg = 0x022c,\n\t.mn = {\n\t\t.mnctr_en_bit = 5,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 6,\n\t\t.n_val_shift = 24,\n\t\t.m_val_shift = 8,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 14,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_map,\n\t},\n\t.freq_tbl = clk_tbl_csi,\n\t.clkr = {\n\t\t.enable_reg = 0x022c,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"csi2_src\",\n\t\t\t.parent_data = mmcc_pxo_pll8_pll2,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_pll8_pll2),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch csi2_clk = {\n\t.halt_reg = 0x01cc,\n\t.halt_bit = 29,\n\t.clkr = {\n\t\t.enable_reg = 0x022c,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&csi2_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.name = \"csi2_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch csi2_phy_clk = {\n\t.halt_reg = 0x01e8,\n\t.halt_bit = 29,\n\t.clkr = {\n\t\t.enable_reg = 0x022c,\n\t\t.enable_mask = BIT(8),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&csi2_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.name = \"csi2_phy_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstruct clk_pix_rdi {\n\tu32 s_reg;\n\tu32 s_mask;\n\tu32 s2_reg;\n\tu32 s2_mask;\n\tstruct clk_regmap clkr;\n};\n\n#define to_clk_pix_rdi(_hw) \\\n\tcontainer_of(to_clk_regmap(_hw), struct clk_pix_rdi, clkr)\n\nstatic int pix_rdi_set_parent(struct clk_hw *hw, u8 index)\n{\n\tint i;\n\tint ret = 0;\n\tu32 val;\n\tstruct clk_pix_rdi *rdi = to_clk_pix_rdi(hw);\n\tint num_parents = clk_hw_get_num_parents(hw);\n\n\t \n\tfor (i = 0; i < num_parents; i++) {\n\t\tstruct clk_hw *p = clk_hw_get_parent_by_index(hw, i);\n\t\tret = clk_prepare_enable(p->clk);\n\t\tif (ret)\n\t\t\tgoto err;\n\t}\n\n\tif (index == 2)\n\t\tval = rdi->s2_mask;\n\telse\n\t\tval = 0;\n\tregmap_update_bits(rdi->clkr.regmap, rdi->s2_reg, rdi->s2_mask, val);\n\t \n\tudelay(1);\n\n\tif (index == 1)\n\t\tval = rdi->s_mask;\n\telse\n\t\tval = 0;\n\tregmap_update_bits(rdi->clkr.regmap, rdi->s_reg, rdi->s_mask, val);\n\t \n\tudelay(1);\n\nerr:\n\tfor (i--; i >= 0; i--) {\n\t\tstruct clk_hw *p = clk_hw_get_parent_by_index(hw, i);\n\t\tclk_disable_unprepare(p->clk);\n\t}\n\n\treturn ret;\n}\n\nstatic u8 pix_rdi_get_parent(struct clk_hw *hw)\n{\n\tu32 val;\n\tstruct clk_pix_rdi *rdi = to_clk_pix_rdi(hw);\n\n\n\tregmap_read(rdi->clkr.regmap, rdi->s2_reg, &val);\n\tif (val & rdi->s2_mask)\n\t\treturn 2;\n\n\tregmap_read(rdi->clkr.regmap, rdi->s_reg, &val);\n\tif (val & rdi->s_mask)\n\t\treturn 1;\n\n\treturn 0;\n}\n\nstatic const struct clk_ops clk_ops_pix_rdi = {\n\t.enable = clk_enable_regmap,\n\t.disable = clk_disable_regmap,\n\t.set_parent = pix_rdi_set_parent,\n\t.get_parent = pix_rdi_get_parent,\n\t.determine_rate = __clk_mux_determine_rate,\n};\n\nstatic const struct clk_hw *pix_rdi_parents[] = {\n\t&csi0_clk.clkr.hw,\n\t&csi1_clk.clkr.hw,\n\t&csi2_clk.clkr.hw,\n};\n\nstatic struct clk_pix_rdi csi_pix_clk = {\n\t.s_reg = 0x0058,\n\t.s_mask = BIT(25),\n\t.s2_reg = 0x0238,\n\t.s2_mask = BIT(13),\n\t.clkr = {\n\t\t.enable_reg = 0x0058,\n\t\t.enable_mask = BIT(26),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"csi_pix_clk\",\n\t\t\t.parent_hws = pix_rdi_parents,\n\t\t\t.num_parents = ARRAY_SIZE(pix_rdi_parents),\n\t\t\t.ops = &clk_ops_pix_rdi,\n\t\t},\n\t},\n};\n\nstatic struct clk_pix_rdi csi_pix1_clk = {\n\t.s_reg = 0x0238,\n\t.s_mask = BIT(8),\n\t.s2_reg = 0x0238,\n\t.s2_mask = BIT(9),\n\t.clkr = {\n\t\t.enable_reg = 0x0238,\n\t\t.enable_mask = BIT(10),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"csi_pix1_clk\",\n\t\t\t.parent_hws = pix_rdi_parents,\n\t\t\t.num_parents = ARRAY_SIZE(pix_rdi_parents),\n\t\t\t.ops = &clk_ops_pix_rdi,\n\t\t},\n\t},\n};\n\nstatic struct clk_pix_rdi csi_rdi_clk = {\n\t.s_reg = 0x0058,\n\t.s_mask = BIT(12),\n\t.s2_reg = 0x0238,\n\t.s2_mask = BIT(12),\n\t.clkr = {\n\t\t.enable_reg = 0x0058,\n\t\t.enable_mask = BIT(13),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"csi_rdi_clk\",\n\t\t\t.parent_hws = pix_rdi_parents,\n\t\t\t.num_parents = ARRAY_SIZE(pix_rdi_parents),\n\t\t\t.ops = &clk_ops_pix_rdi,\n\t\t},\n\t},\n};\n\nstatic struct clk_pix_rdi csi_rdi1_clk = {\n\t.s_reg = 0x0238,\n\t.s_mask = BIT(0),\n\t.s2_reg = 0x0238,\n\t.s2_mask = BIT(1),\n\t.clkr = {\n\t\t.enable_reg = 0x0238,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"csi_rdi1_clk\",\n\t\t\t.parent_hws = pix_rdi_parents,\n\t\t\t.num_parents = ARRAY_SIZE(pix_rdi_parents),\n\t\t\t.ops = &clk_ops_pix_rdi,\n\t\t},\n\t},\n};\n\nstatic struct clk_pix_rdi csi_rdi2_clk = {\n\t.s_reg = 0x0238,\n\t.s_mask = BIT(4),\n\t.s2_reg = 0x0238,\n\t.s2_mask = BIT(5),\n\t.clkr = {\n\t\t.enable_reg = 0x0238,\n\t\t.enable_mask = BIT(6),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"csi_rdi2_clk\",\n\t\t\t.parent_hws = pix_rdi_parents,\n\t\t\t.num_parents = ARRAY_SIZE(pix_rdi_parents),\n\t\t\t.ops = &clk_ops_pix_rdi,\n\t\t},\n\t},\n};\n\nstatic struct freq_tbl clk_tbl_csiphytimer[] = {\n\t{  85330000, P_PLL8, 1, 2, 9 },\n\t{ 177780000, P_PLL2, 1, 2, 9 },\n\t{ }\n};\n\nstatic struct clk_rcg csiphytimer_src = {\n\t.ns_reg = 0x0168,\n\t.md_reg = 0x0164,\n\t.mn = {\n\t\t.mnctr_en_bit = 5,\n\t\t.mnctr_reset_bit = 8,\n\t\t.reset_in_cc = true,\n\t\t.mnctr_mode_shift = 6,\n\t\t.n_val_shift = 24,\n\t\t.m_val_shift = 8,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 14,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_map,\n\t},\n\t.freq_tbl = clk_tbl_csiphytimer,\n\t.clkr = {\n\t\t.enable_reg = 0x0160,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"csiphytimer_src\",\n\t\t\t.parent_data = mmcc_pxo_pll8_pll2,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_pll8_pll2),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch csiphy0_timer_clk = {\n\t.halt_reg = 0x01e8,\n\t.halt_bit = 17,\n\t.clkr = {\n\t\t.enable_reg = 0x0160,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&csiphytimer_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.name = \"csiphy0_timer_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch csiphy1_timer_clk = {\n\t.halt_reg = 0x01e8,\n\t.halt_bit = 18,\n\t.clkr = {\n\t\t.enable_reg = 0x0160,\n\t\t.enable_mask = BIT(9),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&csiphytimer_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.name = \"csiphy1_timer_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch csiphy2_timer_clk = {\n\t.halt_reg = 0x01e8,\n\t.halt_bit = 30,\n\t.clkr = {\n\t\t.enable_reg = 0x0160,\n\t\t.enable_mask = BIT(11),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&csiphytimer_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.name = \"csiphy2_timer_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct freq_tbl clk_tbl_gfx2d[] = {\n\tF_MN( 27000000, P_PXO,  1,  0),\n\tF_MN( 48000000, P_PLL8, 1,  8),\n\tF_MN( 54857000, P_PLL8, 1,  7),\n\tF_MN( 64000000, P_PLL8, 1,  6),\n\tF_MN( 76800000, P_PLL8, 1,  5),\n\tF_MN( 96000000, P_PLL8, 1,  4),\n\tF_MN(128000000, P_PLL8, 1,  3),\n\tF_MN(145455000, P_PLL2, 2, 11),\n\tF_MN(160000000, P_PLL2, 1,  5),\n\tF_MN(177778000, P_PLL2, 2,  9),\n\tF_MN(200000000, P_PLL2, 1,  4),\n\tF_MN(228571000, P_PLL2, 2,  7),\n\t{ }\n};\n\nstatic struct clk_dyn_rcg gfx2d0_src = {\n\t.ns_reg[0] = 0x0070,\n\t.ns_reg[1] = 0x0070,\n\t.md_reg[0] = 0x0064,\n\t.md_reg[1] = 0x0068,\n\t.bank_reg = 0x0060,\n\t.mn[0] = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 25,\n\t\t.mnctr_mode_shift = 9,\n\t\t.n_val_shift = 20,\n\t\t.m_val_shift = 4,\n\t\t.width = 4,\n\t},\n\t.mn[1] = {\n\t\t.mnctr_en_bit = 5,\n\t\t.mnctr_reset_bit = 24,\n\t\t.mnctr_mode_shift = 6,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 4,\n\t\t.width = 4,\n\t},\n\t.s[0] = {\n\t\t.src_sel_shift = 3,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_map,\n\t},\n\t.s[1] = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_map,\n\t},\n\t.mux_sel_bit = 11,\n\t.freq_tbl = clk_tbl_gfx2d,\n\t.clkr = {\n\t\t.enable_reg = 0x0060,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gfx2d0_src\",\n\t\t\t.parent_data = mmcc_pxo_pll8_pll2,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_pll8_pll2),\n\t\t\t.ops = &clk_dyn_rcg_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch gfx2d0_clk = {\n\t.halt_reg = 0x01c8,\n\t.halt_bit = 9,\n\t.clkr = {\n\t\t.enable_reg = 0x0060,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gfx2d0_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&gfx2d0_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_dyn_rcg gfx2d1_src = {\n\t.ns_reg[0] = 0x007c,\n\t.ns_reg[1] = 0x007c,\n\t.md_reg[0] = 0x0078,\n\t.md_reg[1] = 0x006c,\n\t.bank_reg = 0x0074,\n\t.mn[0] = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 25,\n\t\t.mnctr_mode_shift = 9,\n\t\t.n_val_shift = 20,\n\t\t.m_val_shift = 4,\n\t\t.width = 4,\n\t},\n\t.mn[1] = {\n\t\t.mnctr_en_bit = 5,\n\t\t.mnctr_reset_bit = 24,\n\t\t.mnctr_mode_shift = 6,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 4,\n\t\t.width = 4,\n\t},\n\t.s[0] = {\n\t\t.src_sel_shift = 3,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_map,\n\t},\n\t.s[1] = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_map,\n\t},\n\t.mux_sel_bit = 11,\n\t.freq_tbl = clk_tbl_gfx2d,\n\t.clkr = {\n\t\t.enable_reg = 0x0074,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gfx2d1_src\",\n\t\t\t.parent_data = mmcc_pxo_pll8_pll2,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_pll8_pll2),\n\t\t\t.ops = &clk_dyn_rcg_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch gfx2d1_clk = {\n\t.halt_reg = 0x01c8,\n\t.halt_bit = 14,\n\t.clkr = {\n\t\t.enable_reg = 0x0074,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gfx2d1_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&gfx2d1_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct freq_tbl clk_tbl_gfx3d[] = {\n\tF_MN( 27000000, P_PXO,  1,  0),\n\tF_MN( 48000000, P_PLL8, 1,  8),\n\tF_MN( 54857000, P_PLL8, 1,  7),\n\tF_MN( 64000000, P_PLL8, 1,  6),\n\tF_MN( 76800000, P_PLL8, 1,  5),\n\tF_MN( 96000000, P_PLL8, 1,  4),\n\tF_MN(128000000, P_PLL8, 1,  3),\n\tF_MN(145455000, P_PLL2, 2, 11),\n\tF_MN(160000000, P_PLL2, 1,  5),\n\tF_MN(177778000, P_PLL2, 2,  9),\n\tF_MN(200000000, P_PLL2, 1,  4),\n\tF_MN(228571000, P_PLL2, 2,  7),\n\tF_MN(266667000, P_PLL2, 1,  3),\n\tF_MN(300000000, P_PLL3, 1,  4),\n\tF_MN(320000000, P_PLL2, 2,  5),\n\tF_MN(400000000, P_PLL2, 1,  2),\n\t{ }\n};\n\nstatic struct freq_tbl clk_tbl_gfx3d_8064[] = {\n\tF_MN( 27000000, P_PXO,   0,  0),\n\tF_MN( 48000000, P_PLL8,  1,  8),\n\tF_MN( 54857000, P_PLL8,  1,  7),\n\tF_MN( 64000000, P_PLL8,  1,  6),\n\tF_MN( 76800000, P_PLL8,  1,  5),\n\tF_MN( 96000000, P_PLL8,  1,  4),\n\tF_MN(128000000, P_PLL8,  1,  3),\n\tF_MN(145455000, P_PLL2,  2, 11),\n\tF_MN(160000000, P_PLL2,  1,  5),\n\tF_MN(177778000, P_PLL2,  2,  9),\n\tF_MN(192000000, P_PLL8,  1,  2),\n\tF_MN(200000000, P_PLL2,  1,  4),\n\tF_MN(228571000, P_PLL2,  2,  7),\n\tF_MN(266667000, P_PLL2,  1,  3),\n\tF_MN(320000000, P_PLL2,  2,  5),\n\tF_MN(400000000, P_PLL2,  1,  2),\n\tF_MN(450000000, P_PLL15, 1,  2),\n\t{ }\n};\n\nstatic struct clk_dyn_rcg gfx3d_src = {\n\t.ns_reg[0] = 0x008c,\n\t.ns_reg[1] = 0x008c,\n\t.md_reg[0] = 0x0084,\n\t.md_reg[1] = 0x0088,\n\t.bank_reg = 0x0080,\n\t.mn[0] = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 25,\n\t\t.mnctr_mode_shift = 9,\n\t\t.n_val_shift = 18,\n\t\t.m_val_shift = 4,\n\t\t.width = 4,\n\t},\n\t.mn[1] = {\n\t\t.mnctr_en_bit = 5,\n\t\t.mnctr_reset_bit = 24,\n\t\t.mnctr_mode_shift = 6,\n\t\t.n_val_shift = 14,\n\t\t.m_val_shift = 4,\n\t\t.width = 4,\n\t},\n\t.s[0] = {\n\t\t.src_sel_shift = 3,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_pll3_map,\n\t},\n\t.s[1] = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_pll3_map,\n\t},\n\t.mux_sel_bit = 11,\n\t.freq_tbl = clk_tbl_gfx3d,\n\t.clkr = {\n\t\t.enable_reg = 0x0080,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gfx3d_src\",\n\t\t\t.parent_data = mmcc_pxo_pll8_pll2_pll3,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_pll8_pll2_pll3),\n\t\t\t.ops = &clk_dyn_rcg_ops,\n\t\t},\n\t},\n};\n\nstatic const struct clk_init_data gfx3d_8064_init = {\n\t.name = \"gfx3d_src\",\n\t.parent_data = mmcc_pxo_pll8_pll2_pll15,\n\t.num_parents = ARRAY_SIZE(mmcc_pxo_pll8_pll2_pll15),\n\t.ops = &clk_dyn_rcg_ops,\n};\n\nstatic struct clk_branch gfx3d_clk = {\n\t.halt_reg = 0x01c8,\n\t.halt_bit = 4,\n\t.clkr = {\n\t\t.enable_reg = 0x0080,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gfx3d_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&gfx3d_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct freq_tbl clk_tbl_vcap[] = {\n\tF_MN( 27000000, P_PXO,  0,  0),\n\tF_MN( 54860000, P_PLL8, 1,  7),\n\tF_MN( 64000000, P_PLL8, 1,  6),\n\tF_MN( 76800000, P_PLL8, 1,  5),\n\tF_MN(128000000, P_PLL8, 1,  3),\n\tF_MN(160000000, P_PLL2, 1,  5),\n\tF_MN(200000000, P_PLL2, 1,  4),\n\t{ }\n};\n\nstatic struct clk_dyn_rcg vcap_src = {\n\t.ns_reg[0] = 0x021c,\n\t.ns_reg[1] = 0x021c,\n\t.md_reg[0] = 0x01ec,\n\t.md_reg[1] = 0x0218,\n\t.bank_reg = 0x0178,\n\t.mn[0] = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 23,\n\t\t.mnctr_mode_shift = 9,\n\t\t.n_val_shift = 18,\n\t\t.m_val_shift = 4,\n\t\t.width = 4,\n\t},\n\t.mn[1] = {\n\t\t.mnctr_en_bit = 5,\n\t\t.mnctr_reset_bit = 22,\n\t\t.mnctr_mode_shift = 6,\n\t\t.n_val_shift = 14,\n\t\t.m_val_shift = 4,\n\t\t.width = 4,\n\t},\n\t.s[0] = {\n\t\t.src_sel_shift = 3,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_map,\n\t},\n\t.s[1] = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_map,\n\t},\n\t.mux_sel_bit = 11,\n\t.freq_tbl = clk_tbl_vcap,\n\t.clkr = {\n\t\t.enable_reg = 0x0178,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"vcap_src\",\n\t\t\t.parent_data = mmcc_pxo_pll8_pll2,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_pll8_pll2),\n\t\t\t.ops = &clk_dyn_rcg_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch vcap_clk = {\n\t.halt_reg = 0x0240,\n\t.halt_bit = 15,\n\t.clkr = {\n\t\t.enable_reg = 0x0178,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"vcap_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&vcap_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch vcap_npl_clk = {\n\t.halt_reg = 0x0240,\n\t.halt_bit = 25,\n\t.clkr = {\n\t\t.enable_reg = 0x0178,\n\t\t.enable_mask = BIT(13),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"vcap_npl_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&vcap_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct freq_tbl clk_tbl_ijpeg[] = {\n\t{  27000000, P_PXO,  1, 0,  0 },\n\t{  36570000, P_PLL8, 1, 2, 21 },\n\t{  54860000, P_PLL8, 7, 0,  0 },\n\t{  96000000, P_PLL8, 4, 0,  0 },\n\t{ 109710000, P_PLL8, 1, 2,  7 },\n\t{ 128000000, P_PLL8, 3, 0,  0 },\n\t{ 153600000, P_PLL8, 1, 2,  5 },\n\t{ 200000000, P_PLL2, 4, 0,  0 },\n\t{ 228571000, P_PLL2, 1, 2,  7 },\n\t{ 266667000, P_PLL2, 1, 1,  3 },\n\t{ 320000000, P_PLL2, 1, 2,  5 },\n\t{ }\n};\n\nstatic struct clk_rcg ijpeg_src = {\n\t.ns_reg = 0x00a0,\n\t.md_reg = 0x009c,\n\t.mn = {\n\t\t.mnctr_en_bit = 5,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 6,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 8,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 12,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_map,\n\t},\n\t.freq_tbl = clk_tbl_ijpeg,\n\t.clkr = {\n\t\t.enable_reg = 0x0098,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"ijpeg_src\",\n\t\t\t.parent_data = mmcc_pxo_pll8_pll2,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_pll8_pll2),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch ijpeg_clk = {\n\t.halt_reg = 0x01c8,\n\t.halt_bit = 24,\n\t.clkr = {\n\t\t.enable_reg = 0x0098,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"ijpeg_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&ijpeg_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct freq_tbl clk_tbl_jpegd[] = {\n\t{  64000000, P_PLL8, 6 },\n\t{  76800000, P_PLL8, 5 },\n\t{  96000000, P_PLL8, 4 },\n\t{ 160000000, P_PLL2, 5 },\n\t{ 200000000, P_PLL2, 4 },\n\t{ }\n};\n\nstatic struct clk_rcg jpegd_src = {\n\t.ns_reg = 0x00ac,\n\t.p = {\n\t\t.pre_div_shift = 12,\n\t\t.pre_div_width = 4,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_map,\n\t},\n\t.freq_tbl = clk_tbl_jpegd,\n\t.clkr = {\n\t\t.enable_reg = 0x00a4,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"jpegd_src\",\n\t\t\t.parent_data = mmcc_pxo_pll8_pll2,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_pll8_pll2),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch jpegd_clk = {\n\t.halt_reg = 0x01c8,\n\t.halt_bit = 19,\n\t.clkr = {\n\t\t.enable_reg = 0x00a4,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"jpegd_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&jpegd_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct freq_tbl clk_tbl_mdp[] = {\n\t{   9600000, P_PLL8, 1, 1, 40 },\n\t{  13710000, P_PLL8, 1, 1, 28 },\n\t{  27000000, P_PXO,  1, 0,  0 },\n\t{  29540000, P_PLL8, 1, 1, 13 },\n\t{  34910000, P_PLL8, 1, 1, 11 },\n\t{  38400000, P_PLL8, 1, 1, 10 },\n\t{  59080000, P_PLL8, 1, 2, 13 },\n\t{  76800000, P_PLL8, 1, 1,  5 },\n\t{  85330000, P_PLL8, 1, 2,  9 },\n\t{  96000000, P_PLL8, 1, 1,  4 },\n\t{ 128000000, P_PLL8, 1, 1,  3 },\n\t{ 160000000, P_PLL2, 1, 1,  5 },\n\t{ 177780000, P_PLL2, 1, 2,  9 },\n\t{ 200000000, P_PLL2, 1, 1,  4 },\n\t{ 228571000, P_PLL2, 1, 2,  7 },\n\t{ 266667000, P_PLL2, 1, 1,  3 },\n\t{ }\n};\n\nstatic struct clk_dyn_rcg mdp_src = {\n\t.ns_reg[0] = 0x00d0,\n\t.ns_reg[1] = 0x00d0,\n\t.md_reg[0] = 0x00c4,\n\t.md_reg[1] = 0x00c8,\n\t.bank_reg = 0x00c0,\n\t.mn[0] = {\n\t\t.mnctr_en_bit = 8,\n\t\t.mnctr_reset_bit = 31,\n\t\t.mnctr_mode_shift = 9,\n\t\t.n_val_shift = 22,\n\t\t.m_val_shift = 8,\n\t\t.width = 8,\n\t},\n\t.mn[1] = {\n\t\t.mnctr_en_bit = 5,\n\t\t.mnctr_reset_bit = 30,\n\t\t.mnctr_mode_shift = 6,\n\t\t.n_val_shift = 14,\n\t\t.m_val_shift = 8,\n\t\t.width = 8,\n\t},\n\t.s[0] = {\n\t\t.src_sel_shift = 3,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_map,\n\t},\n\t.s[1] = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_map,\n\t},\n\t.mux_sel_bit = 11,\n\t.freq_tbl = clk_tbl_mdp,\n\t.clkr = {\n\t\t.enable_reg = 0x00c0,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"mdp_src\",\n\t\t\t.parent_data = mmcc_pxo_pll8_pll2,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_pll8_pll2),\n\t\t\t.ops = &clk_dyn_rcg_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch mdp_clk = {\n\t.halt_reg = 0x01d0,\n\t.halt_bit = 10,\n\t.clkr = {\n\t\t.enable_reg = 0x00c0,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"mdp_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&mdp_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch mdp_lut_clk = {\n\t.halt_reg = 0x01e8,\n\t.halt_bit = 13,\n\t.clkr = {\n\t\t.enable_reg = 0x016c,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&mdp_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.name = \"mdp_lut_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch mdp_vsync_clk = {\n\t.halt_reg = 0x01cc,\n\t.halt_bit = 22,\n\t.clkr = {\n\t\t.enable_reg = 0x0058,\n\t\t.enable_mask = BIT(6),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"mdp_vsync_clk\",\n\t\t\t.parent_data = (const struct clk_parent_data[]){\n\t\t\t\t{ .fw_name = \"pxo\", .name = \"pxo_board\" },\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops\n\t\t},\n\t},\n};\n\nstatic struct freq_tbl clk_tbl_rot[] = {\n\t{  27000000, P_PXO,   1 },\n\t{  29540000, P_PLL8, 13 },\n\t{  32000000, P_PLL8, 12 },\n\t{  38400000, P_PLL8, 10 },\n\t{  48000000, P_PLL8,  8 },\n\t{  54860000, P_PLL8,  7 },\n\t{  64000000, P_PLL8,  6 },\n\t{  76800000, P_PLL8,  5 },\n\t{  96000000, P_PLL8,  4 },\n\t{ 100000000, P_PLL2,  8 },\n\t{ 114290000, P_PLL2,  7 },\n\t{ 133330000, P_PLL2,  6 },\n\t{ 160000000, P_PLL2,  5 },\n\t{ 200000000, P_PLL2,  4 },\n\t{ }\n};\n\nstatic struct clk_dyn_rcg rot_src = {\n\t.ns_reg[0] = 0x00e8,\n\t.ns_reg[1] = 0x00e8,\n\t.bank_reg = 0x00e8,\n\t.p[0] = {\n\t\t.pre_div_shift = 22,\n\t\t.pre_div_width = 4,\n\t},\n\t.p[1] = {\n\t\t.pre_div_shift = 26,\n\t\t.pre_div_width = 4,\n\t},\n\t.s[0] = {\n\t\t.src_sel_shift = 16,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_map,\n\t},\n\t.s[1] = {\n\t\t.src_sel_shift = 19,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_map,\n\t},\n\t.mux_sel_bit = 30,\n\t.freq_tbl = clk_tbl_rot,\n\t.clkr = {\n\t\t.enable_reg = 0x00e0,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"rot_src\",\n\t\t\t.parent_data = mmcc_pxo_pll8_pll2,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_pll8_pll2),\n\t\t\t.ops = &clk_dyn_rcg_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch rot_clk = {\n\t.halt_reg = 0x01d0,\n\t.halt_bit = 15,\n\t.clkr = {\n\t\t.enable_reg = 0x00e0,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"rot_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&rot_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic const struct parent_map mmcc_pxo_hdmi_map[] = {\n\t{ P_PXO, 0 },\n\t{ P_HDMI_PLL, 3 }\n};\n\nstatic const struct clk_parent_data mmcc_pxo_hdmi[] = {\n\t{ .fw_name = \"pxo\", .name = \"pxo_board\" },\n\t{ .fw_name = \"hdmipll\", .name = \"hdmi_pll\" },\n};\n\nstatic struct freq_tbl clk_tbl_tv[] = {\n\t{  .src = P_HDMI_PLL, .pre_div = 1 },\n\t{ }\n};\n\nstatic struct clk_rcg tv_src = {\n\t.ns_reg = 0x00f4,\n\t.md_reg = 0x00f0,\n\t.mn = {\n\t\t.mnctr_en_bit = 5,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 6,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 8,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 14,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_hdmi_map,\n\t},\n\t.freq_tbl = clk_tbl_tv,\n\t.clkr = {\n\t\t.enable_reg = 0x00ec,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"tv_src\",\n\t\t\t.parent_data = mmcc_pxo_hdmi,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_hdmi),\n\t\t\t.ops = &clk_rcg_bypass_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch tv_enc_clk = {\n\t.halt_reg = 0x01d4,\n\t.halt_bit = 9,\n\t.clkr = {\n\t\t.enable_reg = 0x00ec,\n\t\t.enable_mask = BIT(8),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&tv_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.name = \"tv_enc_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch tv_dac_clk = {\n\t.halt_reg = 0x01d4,\n\t.halt_bit = 10,\n\t.clkr = {\n\t\t.enable_reg = 0x00ec,\n\t\t.enable_mask = BIT(10),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&tv_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.name = \"tv_dac_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch mdp_tv_clk = {\n\t.halt_reg = 0x01d4,\n\t.halt_bit = 12,\n\t.clkr = {\n\t\t.enable_reg = 0x00ec,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&tv_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.name = \"mdp_tv_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch hdmi_tv_clk = {\n\t.halt_reg = 0x01d4,\n\t.halt_bit = 11,\n\t.clkr = {\n\t\t.enable_reg = 0x00ec,\n\t\t.enable_mask = BIT(12),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&tv_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.name = \"hdmi_tv_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch rgb_tv_clk = {\n\t.halt_reg = 0x0240,\n\t.halt_bit = 27,\n\t.clkr = {\n\t\t.enable_reg = 0x0124,\n\t\t.enable_mask = BIT(14),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&tv_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.name = \"rgb_tv_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch npl_tv_clk = {\n\t.halt_reg = 0x0240,\n\t.halt_bit = 26,\n\t.clkr = {\n\t\t.enable_reg = 0x0124,\n\t\t.enable_mask = BIT(16),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&tv_src.clkr.hw,\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.name = \"npl_tv_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch hdmi_app_clk = {\n\t.halt_reg = 0x01cc,\n\t.halt_bit = 25,\n\t.clkr = {\n\t\t.enable_reg = 0x005c,\n\t\t.enable_mask = BIT(11),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.parent_data = (const struct clk_parent_data[]){\n\t\t\t\t{ .fw_name = \"pxo\", .name = \"pxo_board\" },\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.name = \"hdmi_app_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct freq_tbl clk_tbl_vcodec[] = {\n\tF_MN( 27000000, P_PXO,  1,  0),\n\tF_MN( 32000000, P_PLL8, 1, 12),\n\tF_MN( 48000000, P_PLL8, 1,  8),\n\tF_MN( 54860000, P_PLL8, 1,  7),\n\tF_MN( 96000000, P_PLL8, 1,  4),\n\tF_MN(133330000, P_PLL2, 1,  6),\n\tF_MN(200000000, P_PLL2, 1,  4),\n\tF_MN(228570000, P_PLL2, 2,  7),\n\tF_MN(266670000, P_PLL2, 1,  3),\n\t{ }\n};\n\nstatic struct clk_dyn_rcg vcodec_src = {\n\t.ns_reg[0] = 0x0100,\n\t.ns_reg[1] = 0x0100,\n\t.md_reg[0] = 0x00fc,\n\t.md_reg[1] = 0x0128,\n\t.bank_reg = 0x00f8,\n\t.mn[0] = {\n\t\t.mnctr_en_bit = 5,\n\t\t.mnctr_reset_bit = 31,\n\t\t.mnctr_mode_shift = 6,\n\t\t.n_val_shift = 11,\n\t\t.m_val_shift = 8,\n\t\t.width = 8,\n\t},\n\t.mn[1] = {\n\t\t.mnctr_en_bit = 10,\n\t\t.mnctr_reset_bit = 30,\n\t\t.mnctr_mode_shift = 11,\n\t\t.n_val_shift = 19,\n\t\t.m_val_shift = 8,\n\t\t.width = 8,\n\t},\n\t.s[0] = {\n\t\t.src_sel_shift = 27,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_map,\n\t},\n\t.s[1] = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_map,\n\t},\n\t.mux_sel_bit = 13,\n\t.freq_tbl = clk_tbl_vcodec,\n\t.clkr = {\n\t\t.enable_reg = 0x00f8,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"vcodec_src\",\n\t\t\t.parent_data = mmcc_pxo_pll8_pll2,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_pll8_pll2),\n\t\t\t.ops = &clk_dyn_rcg_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch vcodec_clk = {\n\t.halt_reg = 0x01d0,\n\t.halt_bit = 29,\n\t.clkr = {\n\t\t.enable_reg = 0x00f8,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"vcodec_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&vcodec_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct freq_tbl clk_tbl_vpe[] = {\n\t{  27000000, P_PXO,   1 },\n\t{  34909000, P_PLL8, 11 },\n\t{  38400000, P_PLL8, 10 },\n\t{  64000000, P_PLL8,  6 },\n\t{  76800000, P_PLL8,  5 },\n\t{  96000000, P_PLL8,  4 },\n\t{ 100000000, P_PLL2,  8 },\n\t{ 160000000, P_PLL2,  5 },\n\t{ }\n};\n\nstatic struct clk_rcg vpe_src = {\n\t.ns_reg = 0x0118,\n\t.p = {\n\t\t.pre_div_shift = 12,\n\t\t.pre_div_width = 4,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_map,\n\t},\n\t.freq_tbl = clk_tbl_vpe,\n\t.clkr = {\n\t\t.enable_reg = 0x0110,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"vpe_src\",\n\t\t\t.parent_data = mmcc_pxo_pll8_pll2,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_pll8_pll2),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch vpe_clk = {\n\t.halt_reg = 0x01c8,\n\t.halt_bit = 28,\n\t.clkr = {\n\t\t.enable_reg = 0x0110,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"vpe_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&vpe_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct freq_tbl clk_tbl_vfe[] = {\n\t{  13960000, P_PLL8,  1, 2, 55 },\n\t{  27000000, P_PXO,   1, 0,  0 },\n\t{  36570000, P_PLL8,  1, 2, 21 },\n\t{  38400000, P_PLL8,  2, 1,  5 },\n\t{  45180000, P_PLL8,  1, 2, 17 },\n\t{  48000000, P_PLL8,  2, 1,  4 },\n\t{  54860000, P_PLL8,  1, 1,  7 },\n\t{  64000000, P_PLL8,  2, 1,  3 },\n\t{  76800000, P_PLL8,  1, 1,  5 },\n\t{  96000000, P_PLL8,  2, 1,  2 },\n\t{ 109710000, P_PLL8,  1, 2,  7 },\n\t{ 128000000, P_PLL8,  1, 1,  3 },\n\t{ 153600000, P_PLL8,  1, 2,  5 },\n\t{ 200000000, P_PLL2,  2, 1,  2 },\n\t{ 228570000, P_PLL2,  1, 2,  7 },\n\t{ 266667000, P_PLL2,  1, 1,  3 },\n\t{ 320000000, P_PLL2,  1, 2,  5 },\n\t{ }\n};\n\nstatic struct clk_rcg vfe_src = {\n\t.ns_reg = 0x0108,\n\t.mn = {\n\t\t.mnctr_en_bit = 5,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 6,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 8,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 10,\n\t\t.pre_div_width = 1,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_pll8_pll2_map,\n\t},\n\t.freq_tbl = clk_tbl_vfe,\n\t.clkr = {\n\t\t.enable_reg = 0x0104,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"vfe_src\",\n\t\t\t.parent_data = mmcc_pxo_pll8_pll2,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_pll8_pll2),\n\t\t\t.ops = &clk_rcg_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch vfe_clk = {\n\t.halt_reg = 0x01cc,\n\t.halt_bit = 6,\n\t.clkr = {\n\t\t.enable_reg = 0x0104,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"vfe_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&vfe_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch vfe_csi_clk = {\n\t.halt_reg = 0x01cc,\n\t.halt_bit = 8,\n\t.clkr = {\n\t\t.enable_reg = 0x0104,\n\t\t.enable_mask = BIT(12),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&vfe_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.name = \"vfe_csi_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch gmem_axi_clk = {\n\t.halt_reg = 0x01d8,\n\t.halt_bit = 6,\n\t.clkr = {\n\t\t.enable_reg = 0x0018,\n\t\t.enable_mask = BIT(24),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gmem_axi_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch ijpeg_axi_clk = {\n\t.hwcg_reg = 0x0018,\n\t.hwcg_bit = 11,\n\t.halt_reg = 0x01d8,\n\t.halt_bit = 4,\n\t.clkr = {\n\t\t.enable_reg = 0x0018,\n\t\t.enable_mask = BIT(21),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"ijpeg_axi_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch mmss_imem_axi_clk = {\n\t.hwcg_reg = 0x0018,\n\t.hwcg_bit = 15,\n\t.halt_reg = 0x01d8,\n\t.halt_bit = 7,\n\t.clkr = {\n\t\t.enable_reg = 0x0018,\n\t\t.enable_mask = BIT(22),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"mmss_imem_axi_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch jpegd_axi_clk = {\n\t.halt_reg = 0x01d8,\n\t.halt_bit = 5,\n\t.clkr = {\n\t\t.enable_reg = 0x0018,\n\t\t.enable_mask = BIT(25),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"jpegd_axi_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch vcodec_axi_b_clk = {\n\t.hwcg_reg = 0x0114,\n\t.hwcg_bit = 22,\n\t.halt_reg = 0x01e8,\n\t.halt_bit = 25,\n\t.clkr = {\n\t\t.enable_reg = 0x0114,\n\t\t.enable_mask = BIT(23),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"vcodec_axi_b_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch vcodec_axi_a_clk = {\n\t.hwcg_reg = 0x0114,\n\t.hwcg_bit = 24,\n\t.halt_reg = 0x01e8,\n\t.halt_bit = 26,\n\t.clkr = {\n\t\t.enable_reg = 0x0114,\n\t\t.enable_mask = BIT(25),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"vcodec_axi_a_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch vcodec_axi_clk = {\n\t.hwcg_reg = 0x0018,\n\t.hwcg_bit = 13,\n\t.halt_reg = 0x01d8,\n\t.halt_bit = 3,\n\t.clkr = {\n\t\t.enable_reg = 0x0018,\n\t\t.enable_mask = BIT(19),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"vcodec_axi_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch vfe_axi_clk = {\n\t.halt_reg = 0x01d8,\n\t.halt_bit = 0,\n\t.clkr = {\n\t\t.enable_reg = 0x0018,\n\t\t.enable_mask = BIT(18),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"vfe_axi_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch mdp_axi_clk = {\n\t.hwcg_reg = 0x0018,\n\t.hwcg_bit = 16,\n\t.halt_reg = 0x01d8,\n\t.halt_bit = 8,\n\t.clkr = {\n\t\t.enable_reg = 0x0018,\n\t\t.enable_mask = BIT(23),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"mdp_axi_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch rot_axi_clk = {\n\t.hwcg_reg = 0x0020,\n\t.hwcg_bit = 25,\n\t.halt_reg = 0x01d8,\n\t.halt_bit = 2,\n\t.clkr = {\n\t\t.enable_reg = 0x0020,\n\t\t.enable_mask = BIT(24),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"rot_axi_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch vcap_axi_clk = {\n\t.halt_reg = 0x0240,\n\t.halt_bit = 20,\n\t.hwcg_reg = 0x0244,\n\t.hwcg_bit = 11,\n\t.clkr = {\n\t\t.enable_reg = 0x0244,\n\t\t.enable_mask = BIT(12),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"vcap_axi_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch vpe_axi_clk = {\n\t.hwcg_reg = 0x0020,\n\t.hwcg_bit = 27,\n\t.halt_reg = 0x01d8,\n\t.halt_bit = 1,\n\t.clkr = {\n\t\t.enable_reg = 0x0020,\n\t\t.enable_mask = BIT(26),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"vpe_axi_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch gfx3d_axi_clk = {\n\t.hwcg_reg = 0x0244,\n\t.hwcg_bit = 24,\n\t.halt_reg = 0x0240,\n\t.halt_bit = 30,\n\t.clkr = {\n\t\t.enable_reg = 0x0244,\n\t\t.enable_mask = BIT(25),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gfx3d_axi_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch amp_ahb_clk = {\n\t.halt_reg = 0x01dc,\n\t.halt_bit = 18,\n\t.clkr = {\n\t\t.enable_reg = 0x0008,\n\t\t.enable_mask = BIT(24),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"amp_ahb_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch csi_ahb_clk = {\n\t.halt_reg = 0x01dc,\n\t.halt_bit = 16,\n\t.clkr = {\n\t\t.enable_reg = 0x0008,\n\t\t.enable_mask = BIT(7),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"csi_ahb_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch dsi_m_ahb_clk = {\n\t.halt_reg = 0x01dc,\n\t.halt_bit = 19,\n\t.clkr = {\n\t\t.enable_reg = 0x0008,\n\t\t.enable_mask = BIT(9),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"dsi_m_ahb_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch dsi_s_ahb_clk = {\n\t.hwcg_reg = 0x0038,\n\t.hwcg_bit = 20,\n\t.halt_reg = 0x01dc,\n\t.halt_bit = 21,\n\t.clkr = {\n\t\t.enable_reg = 0x0008,\n\t\t.enable_mask = BIT(18),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"dsi_s_ahb_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch dsi2_m_ahb_clk = {\n\t.halt_reg = 0x01d8,\n\t.halt_bit = 18,\n\t.clkr = {\n\t\t.enable_reg = 0x0008,\n\t\t.enable_mask = BIT(17),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"dsi2_m_ahb_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch dsi2_s_ahb_clk = {\n\t.hwcg_reg = 0x0038,\n\t.hwcg_bit = 15,\n\t.halt_reg = 0x01dc,\n\t.halt_bit = 20,\n\t.clkr = {\n\t\t.enable_reg = 0x0008,\n\t\t.enable_mask = BIT(22),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"dsi2_s_ahb_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_rcg dsi1_src = {\n\t.ns_reg = 0x0054,\n\t.md_reg = 0x0050,\n\t.mn = {\n\t\t.mnctr_en_bit = 5,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 6,\n\t\t.n_val_shift = 24,\n\t\t.m_val_shift = 8,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 14,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_dsi2_dsi1_map,\n\t},\n\t.clkr = {\n\t\t.enable_reg = 0x004c,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"dsi1_src\",\n\t\t\t.parent_data = mmcc_pxo_dsi2_dsi1,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_dsi2_dsi1),\n\t\t\t.ops = &clk_rcg_bypass2_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch dsi1_clk = {\n\t.halt_reg = 0x01d0,\n\t.halt_bit = 2,\n\t.clkr = {\n\t\t.enable_reg = 0x004c,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"dsi1_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&dsi1_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_rcg dsi2_src = {\n\t.ns_reg = 0x012c,\n\t.md_reg = 0x00a8,\n\t.mn = {\n\t\t.mnctr_en_bit = 5,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 6,\n\t\t.n_val_shift = 24,\n\t\t.m_val_shift = 8,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 14,\n\t\t.pre_div_width = 2,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_dsi2_dsi1_map,\n\t},\n\t.clkr = {\n\t\t.enable_reg = 0x003c,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"dsi2_src\",\n\t\t\t.parent_data = mmcc_pxo_dsi2_dsi1,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_dsi2_dsi1),\n\t\t\t.ops = &clk_rcg_bypass2_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch dsi2_clk = {\n\t.halt_reg = 0x01d0,\n\t.halt_bit = 20,\n\t.clkr = {\n\t\t.enable_reg = 0x003c,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"dsi2_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&dsi2_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_rcg dsi1_byte_src = {\n\t.ns_reg = 0x00b0,\n\t.p = {\n\t\t.pre_div_shift = 12,\n\t\t.pre_div_width = 4,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_dsi1_dsi2_byte_map,\n\t},\n\t.clkr = {\n\t\t.enable_reg = 0x0090,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"dsi1_byte_src\",\n\t\t\t.parent_data = mmcc_pxo_dsi1_dsi2_byte,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_dsi1_dsi2_byte),\n\t\t\t.ops = &clk_rcg_bypass2_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch dsi1_byte_clk = {\n\t.halt_reg = 0x01cc,\n\t.halt_bit = 21,\n\t.clkr = {\n\t\t.enable_reg = 0x0090,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"dsi1_byte_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&dsi1_byte_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_rcg dsi2_byte_src = {\n\t.ns_reg = 0x012c,\n\t.p = {\n\t\t.pre_div_shift = 12,\n\t\t.pre_div_width = 4,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_dsi1_dsi2_byte_map,\n\t},\n\t.clkr = {\n\t\t.enable_reg = 0x0130,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"dsi2_byte_src\",\n\t\t\t.parent_data = mmcc_pxo_dsi1_dsi2_byte,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_dsi1_dsi2_byte),\n\t\t\t.ops = &clk_rcg_bypass2_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch dsi2_byte_clk = {\n\t.halt_reg = 0x01cc,\n\t.halt_bit = 20,\n\t.clkr = {\n\t\t.enable_reg = 0x00b4,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"dsi2_byte_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&dsi2_byte_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_rcg dsi1_esc_src = {\n\t.ns_reg = 0x0011c,\n\t.p = {\n\t\t.pre_div_shift = 12,\n\t\t.pre_div_width = 4,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_dsi1_dsi2_byte_map,\n\t},\n\t.clkr = {\n\t\t.enable_reg = 0x00cc,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"dsi1_esc_src\",\n\t\t\t.parent_data = mmcc_pxo_dsi1_dsi2_byte,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_dsi1_dsi2_byte),\n\t\t\t.ops = &clk_rcg_esc_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch dsi1_esc_clk = {\n\t.halt_reg = 0x01e8,\n\t.halt_bit = 1,\n\t.clkr = {\n\t\t.enable_reg = 0x00cc,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"dsi1_esc_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&dsi1_esc_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_rcg dsi2_esc_src = {\n\t.ns_reg = 0x0150,\n\t.p = {\n\t\t.pre_div_shift = 12,\n\t\t.pre_div_width = 4,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_dsi1_dsi2_byte_map,\n\t},\n\t.clkr = {\n\t\t.enable_reg = 0x013c,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"dsi2_esc_src\",\n\t\t\t.parent_data = mmcc_pxo_dsi1_dsi2_byte,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_dsi1_dsi2_byte),\n\t\t\t.ops = &clk_rcg_esc_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch dsi2_esc_clk = {\n\t.halt_reg = 0x01e8,\n\t.halt_bit = 3,\n\t.clkr = {\n\t\t.enable_reg = 0x013c,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"dsi2_esc_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&dsi2_esc_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_rcg dsi1_pixel_src = {\n\t.ns_reg = 0x0138,\n\t.md_reg = 0x0134,\n\t.mn = {\n\t\t.mnctr_en_bit = 5,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 6,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 8,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 12,\n\t\t.pre_div_width = 4,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_dsi2_dsi1_map,\n\t},\n\t.clkr = {\n\t\t.enable_reg = 0x0130,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"dsi1_pixel_src\",\n\t\t\t.parent_data = mmcc_pxo_dsi2_dsi1,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_dsi2_dsi1),\n\t\t\t.ops = &clk_rcg_pixel_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch dsi1_pixel_clk = {\n\t.halt_reg = 0x01d0,\n\t.halt_bit = 6,\n\t.clkr = {\n\t\t.enable_reg = 0x0130,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"mdp_pclk1_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&dsi1_pixel_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_rcg dsi2_pixel_src = {\n\t.ns_reg = 0x00e4,\n\t.md_reg = 0x00b8,\n\t.mn = {\n\t\t.mnctr_en_bit = 5,\n\t\t.mnctr_reset_bit = 7,\n\t\t.mnctr_mode_shift = 6,\n\t\t.n_val_shift = 16,\n\t\t.m_val_shift = 8,\n\t\t.width = 8,\n\t},\n\t.p = {\n\t\t.pre_div_shift = 12,\n\t\t.pre_div_width = 4,\n\t},\n\t.s = {\n\t\t.src_sel_shift = 0,\n\t\t.parent_map = mmcc_pxo_dsi2_dsi1_map,\n\t},\n\t.clkr = {\n\t\t.enable_reg = 0x0094,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"dsi2_pixel_src\",\n\t\t\t.parent_data = mmcc_pxo_dsi2_dsi1,\n\t\t\t.num_parents = ARRAY_SIZE(mmcc_pxo_dsi2_dsi1),\n\t\t\t.ops = &clk_rcg_pixel_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch dsi2_pixel_clk = {\n\t.halt_reg = 0x01d0,\n\t.halt_bit = 19,\n\t.clkr = {\n\t\t.enable_reg = 0x0094,\n\t\t.enable_mask = BIT(0),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"mdp_pclk2_clk\",\n\t\t\t.parent_hws = (const struct clk_hw*[]){\n\t\t\t\t&dsi2_pixel_src.clkr.hw\n\t\t\t},\n\t\t\t.num_parents = 1,\n\t\t\t.ops = &clk_branch_ops,\n\t\t\t.flags = CLK_SET_RATE_PARENT,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch gfx2d0_ahb_clk = {\n\t.hwcg_reg = 0x0038,\n\t.hwcg_bit = 28,\n\t.halt_reg = 0x01dc,\n\t.halt_bit = 2,\n\t.clkr = {\n\t\t.enable_reg = 0x0008,\n\t\t.enable_mask = BIT(19),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gfx2d0_ahb_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch gfx2d1_ahb_clk = {\n\t.hwcg_reg = 0x0038,\n\t.hwcg_bit = 29,\n\t.halt_reg = 0x01dc,\n\t.halt_bit = 3,\n\t.clkr = {\n\t\t.enable_reg = 0x0008,\n\t\t.enable_mask = BIT(2),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gfx2d1_ahb_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch gfx3d_ahb_clk = {\n\t.hwcg_reg = 0x0038,\n\t.hwcg_bit = 27,\n\t.halt_reg = 0x01dc,\n\t.halt_bit = 4,\n\t.clkr = {\n\t\t.enable_reg = 0x0008,\n\t\t.enable_mask = BIT(3),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"gfx3d_ahb_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch hdmi_m_ahb_clk = {\n\t.hwcg_reg = 0x0038,\n\t.hwcg_bit = 21,\n\t.halt_reg = 0x01dc,\n\t.halt_bit = 5,\n\t.clkr = {\n\t\t.enable_reg = 0x0008,\n\t\t.enable_mask = BIT(14),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"hdmi_m_ahb_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch hdmi_s_ahb_clk = {\n\t.hwcg_reg = 0x0038,\n\t.hwcg_bit = 22,\n\t.halt_reg = 0x01dc,\n\t.halt_bit = 6,\n\t.clkr = {\n\t\t.enable_reg = 0x0008,\n\t\t.enable_mask = BIT(4),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"hdmi_s_ahb_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch ijpeg_ahb_clk = {\n\t.halt_reg = 0x01dc,\n\t.halt_bit = 9,\n\t.clkr = {\n\t\t.enable_reg = 0x0008,\n\t\t.enable_mask = BIT(5),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"ijpeg_ahb_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch mmss_imem_ahb_clk = {\n\t.hwcg_reg = 0x0038,\n\t.hwcg_bit = 12,\n\t.halt_reg = 0x01dc,\n\t.halt_bit = 10,\n\t.clkr = {\n\t\t.enable_reg = 0x0008,\n\t\t.enable_mask = BIT(6),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"mmss_imem_ahb_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch jpegd_ahb_clk = {\n\t.halt_reg = 0x01dc,\n\t.halt_bit = 7,\n\t.clkr = {\n\t\t.enable_reg = 0x0008,\n\t\t.enable_mask = BIT(21),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"jpegd_ahb_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch mdp_ahb_clk = {\n\t.halt_reg = 0x01dc,\n\t.halt_bit = 11,\n\t.clkr = {\n\t\t.enable_reg = 0x0008,\n\t\t.enable_mask = BIT(10),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"mdp_ahb_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch rot_ahb_clk = {\n\t.halt_reg = 0x01dc,\n\t.halt_bit = 13,\n\t.clkr = {\n\t\t.enable_reg = 0x0008,\n\t\t.enable_mask = BIT(12),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"rot_ahb_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch smmu_ahb_clk = {\n\t.hwcg_reg = 0x0008,\n\t.hwcg_bit = 26,\n\t.halt_reg = 0x01dc,\n\t.halt_bit = 22,\n\t.clkr = {\n\t\t.enable_reg = 0x0008,\n\t\t.enable_mask = BIT(15),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"smmu_ahb_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch tv_enc_ahb_clk = {\n\t.halt_reg = 0x01dc,\n\t.halt_bit = 23,\n\t.clkr = {\n\t\t.enable_reg = 0x0008,\n\t\t.enable_mask = BIT(25),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"tv_enc_ahb_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch vcap_ahb_clk = {\n\t.halt_reg = 0x0240,\n\t.halt_bit = 23,\n\t.clkr = {\n\t\t.enable_reg = 0x0248,\n\t\t.enable_mask = BIT(1),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"vcap_ahb_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch vcodec_ahb_clk = {\n\t.hwcg_reg = 0x0038,\n\t.hwcg_bit = 26,\n\t.halt_reg = 0x01dc,\n\t.halt_bit = 12,\n\t.clkr = {\n\t\t.enable_reg = 0x0008,\n\t\t.enable_mask = BIT(11),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"vcodec_ahb_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch vfe_ahb_clk = {\n\t.halt_reg = 0x01dc,\n\t.halt_bit = 14,\n\t.clkr = {\n\t\t.enable_reg = 0x0008,\n\t\t.enable_mask = BIT(13),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"vfe_ahb_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_branch vpe_ahb_clk = {\n\t.halt_reg = 0x01dc,\n\t.halt_bit = 15,\n\t.clkr = {\n\t\t.enable_reg = 0x0008,\n\t\t.enable_mask = BIT(16),\n\t\t.hw.init = &(struct clk_init_data){\n\t\t\t.name = \"vpe_ahb_clk\",\n\t\t\t.ops = &clk_branch_ops,\n\t\t},\n\t},\n};\n\nstatic struct clk_regmap *mmcc_msm8960_clks[] = {\n\t[TV_ENC_AHB_CLK] = &tv_enc_ahb_clk.clkr,\n\t[AMP_AHB_CLK] = &amp_ahb_clk.clkr,\n\t[DSI2_S_AHB_CLK] = &dsi2_s_ahb_clk.clkr,\n\t[JPEGD_AHB_CLK] = &jpegd_ahb_clk.clkr,\n\t[GFX2D0_AHB_CLK] = &gfx2d0_ahb_clk.clkr,\n\t[DSI_S_AHB_CLK] = &dsi_s_ahb_clk.clkr,\n\t[DSI2_M_AHB_CLK] = &dsi2_m_ahb_clk.clkr,\n\t[VPE_AHB_CLK] = &vpe_ahb_clk.clkr,\n\t[SMMU_AHB_CLK] = &smmu_ahb_clk.clkr,\n\t[HDMI_M_AHB_CLK] = &hdmi_m_ahb_clk.clkr,\n\t[VFE_AHB_CLK] = &vfe_ahb_clk.clkr,\n\t[ROT_AHB_CLK] = &rot_ahb_clk.clkr,\n\t[VCODEC_AHB_CLK] = &vcodec_ahb_clk.clkr,\n\t[MDP_AHB_CLK] = &mdp_ahb_clk.clkr,\n\t[DSI_M_AHB_CLK] = &dsi_m_ahb_clk.clkr,\n\t[CSI_AHB_CLK] = &csi_ahb_clk.clkr,\n\t[MMSS_IMEM_AHB_CLK] = &mmss_imem_ahb_clk.clkr,\n\t[IJPEG_AHB_CLK] = &ijpeg_ahb_clk.clkr,\n\t[HDMI_S_AHB_CLK] = &hdmi_s_ahb_clk.clkr,\n\t[GFX3D_AHB_CLK] = &gfx3d_ahb_clk.clkr,\n\t[GFX2D1_AHB_CLK] = &gfx2d1_ahb_clk.clkr,\n\t[JPEGD_AXI_CLK] = &jpegd_axi_clk.clkr,\n\t[GMEM_AXI_CLK] = &gmem_axi_clk.clkr,\n\t[MDP_AXI_CLK] = &mdp_axi_clk.clkr,\n\t[MMSS_IMEM_AXI_CLK] = &mmss_imem_axi_clk.clkr,\n\t[IJPEG_AXI_CLK] = &ijpeg_axi_clk.clkr,\n\t[GFX3D_AXI_CLK] = &gfx3d_axi_clk.clkr,\n\t[VCODEC_AXI_CLK] = &vcodec_axi_clk.clkr,\n\t[VFE_AXI_CLK] = &vfe_axi_clk.clkr,\n\t[VPE_AXI_CLK] = &vpe_axi_clk.clkr,\n\t[ROT_AXI_CLK] = &rot_axi_clk.clkr,\n\t[VCODEC_AXI_A_CLK] = &vcodec_axi_a_clk.clkr,\n\t[VCODEC_AXI_B_CLK] = &vcodec_axi_b_clk.clkr,\n\t[CSI0_SRC] = &csi0_src.clkr,\n\t[CSI0_CLK] = &csi0_clk.clkr,\n\t[CSI0_PHY_CLK] = &csi0_phy_clk.clkr,\n\t[CSI1_SRC] = &csi1_src.clkr,\n\t[CSI1_CLK] = &csi1_clk.clkr,\n\t[CSI1_PHY_CLK] = &csi1_phy_clk.clkr,\n\t[CSI2_SRC] = &csi2_src.clkr,\n\t[CSI2_CLK] = &csi2_clk.clkr,\n\t[CSI2_PHY_CLK] = &csi2_phy_clk.clkr,\n\t[DSI_SRC] = &dsi1_src.clkr,\n\t[DSI_CLK] = &dsi1_clk.clkr,\n\t[CSI_PIX_CLK] = &csi_pix_clk.clkr,\n\t[CSI_RDI_CLK] = &csi_rdi_clk.clkr,\n\t[MDP_VSYNC_CLK] = &mdp_vsync_clk.clkr,\n\t[HDMI_APP_CLK] = &hdmi_app_clk.clkr,\n\t[CSI_PIX1_CLK] = &csi_pix1_clk.clkr,\n\t[CSI_RDI2_CLK] = &csi_rdi2_clk.clkr,\n\t[CSI_RDI1_CLK] = &csi_rdi1_clk.clkr,\n\t[GFX2D0_SRC] = &gfx2d0_src.clkr,\n\t[GFX2D0_CLK] = &gfx2d0_clk.clkr,\n\t[GFX2D1_SRC] = &gfx2d1_src.clkr,\n\t[GFX2D1_CLK] = &gfx2d1_clk.clkr,\n\t[GFX3D_SRC] = &gfx3d_src.clkr,\n\t[GFX3D_CLK] = &gfx3d_clk.clkr,\n\t[IJPEG_SRC] = &ijpeg_src.clkr,\n\t[IJPEG_CLK] = &ijpeg_clk.clkr,\n\t[JPEGD_SRC] = &jpegd_src.clkr,\n\t[JPEGD_CLK] = &jpegd_clk.clkr,\n\t[MDP_SRC] = &mdp_src.clkr,\n\t[MDP_CLK] = &mdp_clk.clkr,\n\t[MDP_LUT_CLK] = &mdp_lut_clk.clkr,\n\t[DSI2_PIXEL_SRC] = &dsi2_pixel_src.clkr,\n\t[DSI2_PIXEL_CLK] = &dsi2_pixel_clk.clkr,\n\t[DSI2_SRC] = &dsi2_src.clkr,\n\t[DSI2_CLK] = &dsi2_clk.clkr,\n\t[DSI1_BYTE_SRC] = &dsi1_byte_src.clkr,\n\t[DSI1_BYTE_CLK] = &dsi1_byte_clk.clkr,\n\t[DSI2_BYTE_SRC] = &dsi2_byte_src.clkr,\n\t[DSI2_BYTE_CLK] = &dsi2_byte_clk.clkr,\n\t[DSI1_ESC_SRC] = &dsi1_esc_src.clkr,\n\t[DSI1_ESC_CLK] = &dsi1_esc_clk.clkr,\n\t[DSI2_ESC_SRC] = &dsi2_esc_src.clkr,\n\t[DSI2_ESC_CLK] = &dsi2_esc_clk.clkr,\n\t[ROT_SRC] = &rot_src.clkr,\n\t[ROT_CLK] = &rot_clk.clkr,\n\t[TV_ENC_CLK] = &tv_enc_clk.clkr,\n\t[TV_DAC_CLK] = &tv_dac_clk.clkr,\n\t[HDMI_TV_CLK] = &hdmi_tv_clk.clkr,\n\t[MDP_TV_CLK] = &mdp_tv_clk.clkr,\n\t[TV_SRC] = &tv_src.clkr,\n\t[VCODEC_SRC] = &vcodec_src.clkr,\n\t[VCODEC_CLK] = &vcodec_clk.clkr,\n\t[VFE_SRC] = &vfe_src.clkr,\n\t[VFE_CLK] = &vfe_clk.clkr,\n\t[VFE_CSI_CLK] = &vfe_csi_clk.clkr,\n\t[VPE_SRC] = &vpe_src.clkr,\n\t[VPE_CLK] = &vpe_clk.clkr,\n\t[DSI_PIXEL_SRC] = &dsi1_pixel_src.clkr,\n\t[DSI_PIXEL_CLK] = &dsi1_pixel_clk.clkr,\n\t[CAMCLK0_SRC] = &camclk0_src.clkr,\n\t[CAMCLK0_CLK] = &camclk0_clk.clkr,\n\t[CAMCLK1_SRC] = &camclk1_src.clkr,\n\t[CAMCLK1_CLK] = &camclk1_clk.clkr,\n\t[CAMCLK2_SRC] = &camclk2_src.clkr,\n\t[CAMCLK2_CLK] = &camclk2_clk.clkr,\n\t[CSIPHYTIMER_SRC] = &csiphytimer_src.clkr,\n\t[CSIPHY2_TIMER_CLK] = &csiphy2_timer_clk.clkr,\n\t[CSIPHY1_TIMER_CLK] = &csiphy1_timer_clk.clkr,\n\t[CSIPHY0_TIMER_CLK] = &csiphy0_timer_clk.clkr,\n\t[PLL2] = &pll2.clkr,\n};\n\nstatic const struct qcom_reset_map mmcc_msm8960_resets[] = {\n\t[VPE_AXI_RESET] = { 0x0208, 15 },\n\t[IJPEG_AXI_RESET] = { 0x0208, 14 },\n\t[MPD_AXI_RESET] = { 0x0208, 13 },\n\t[VFE_AXI_RESET] = { 0x0208, 9 },\n\t[SP_AXI_RESET] = { 0x0208, 8 },\n\t[VCODEC_AXI_RESET] = { 0x0208, 7 },\n\t[ROT_AXI_RESET] = { 0x0208, 6 },\n\t[VCODEC_AXI_A_RESET] = { 0x0208, 5 },\n\t[VCODEC_AXI_B_RESET] = { 0x0208, 4 },\n\t[FAB_S3_AXI_RESET] = { 0x0208, 3 },\n\t[FAB_S2_AXI_RESET] = { 0x0208, 2 },\n\t[FAB_S1_AXI_RESET] = { 0x0208, 1 },\n\t[FAB_S0_AXI_RESET] = { 0x0208 },\n\t[SMMU_GFX3D_ABH_RESET] = { 0x020c, 31 },\n\t[SMMU_VPE_AHB_RESET] = { 0x020c, 30 },\n\t[SMMU_VFE_AHB_RESET] = { 0x020c, 29 },\n\t[SMMU_ROT_AHB_RESET] = { 0x020c, 28 },\n\t[SMMU_VCODEC_B_AHB_RESET] = { 0x020c, 27 },\n\t[SMMU_VCODEC_A_AHB_RESET] = { 0x020c, 26 },\n\t[SMMU_MDP1_AHB_RESET] = { 0x020c, 25 },\n\t[SMMU_MDP0_AHB_RESET] = { 0x020c, 24 },\n\t[SMMU_JPEGD_AHB_RESET] = { 0x020c, 23 },\n\t[SMMU_IJPEG_AHB_RESET] = { 0x020c, 22 },\n\t[SMMU_GFX2D0_AHB_RESET] = { 0x020c, 21 },\n\t[SMMU_GFX2D1_AHB_RESET] = { 0x020c, 20 },\n\t[APU_AHB_RESET] = { 0x020c, 18 },\n\t[CSI_AHB_RESET] = { 0x020c, 17 },\n\t[TV_ENC_AHB_RESET] = { 0x020c, 15 },\n\t[VPE_AHB_RESET] = { 0x020c, 14 },\n\t[FABRIC_AHB_RESET] = { 0x020c, 13 },\n\t[GFX2D0_AHB_RESET] = { 0x020c, 12 },\n\t[GFX2D1_AHB_RESET] = { 0x020c, 11 },\n\t[GFX3D_AHB_RESET] = { 0x020c, 10 },\n\t[HDMI_AHB_RESET] = { 0x020c, 9 },\n\t[MSSS_IMEM_AHB_RESET] = { 0x020c, 8 },\n\t[IJPEG_AHB_RESET] = { 0x020c, 7 },\n\t[DSI_M_AHB_RESET] = { 0x020c, 6 },\n\t[DSI_S_AHB_RESET] = { 0x020c, 5 },\n\t[JPEGD_AHB_RESET] = { 0x020c, 4 },\n\t[MDP_AHB_RESET] = { 0x020c, 3 },\n\t[ROT_AHB_RESET] = { 0x020c, 2 },\n\t[VCODEC_AHB_RESET] = { 0x020c, 1 },\n\t[VFE_AHB_RESET] = { 0x020c, 0 },\n\t[DSI2_M_AHB_RESET] = { 0x0210, 31 },\n\t[DSI2_S_AHB_RESET] = { 0x0210, 30 },\n\t[CSIPHY2_RESET] = { 0x0210, 29 },\n\t[CSI_PIX1_RESET] = { 0x0210, 28 },\n\t[CSIPHY0_RESET] = { 0x0210, 27 },\n\t[CSIPHY1_RESET] = { 0x0210, 26 },\n\t[DSI2_RESET] = { 0x0210, 25 },\n\t[VFE_CSI_RESET] = { 0x0210, 24 },\n\t[MDP_RESET] = { 0x0210, 21 },\n\t[AMP_RESET] = { 0x0210, 20 },\n\t[JPEGD_RESET] = { 0x0210, 19 },\n\t[CSI1_RESET] = { 0x0210, 18 },\n\t[VPE_RESET] = { 0x0210, 17 },\n\t[MMSS_FABRIC_RESET] = { 0x0210, 16 },\n\t[VFE_RESET] = { 0x0210, 15 },\n\t[GFX2D0_RESET] = { 0x0210, 14 },\n\t[GFX2D1_RESET] = { 0x0210, 13 },\n\t[GFX3D_RESET] = { 0x0210, 12 },\n\t[HDMI_RESET] = { 0x0210, 11 },\n\t[MMSS_IMEM_RESET] = { 0x0210, 10 },\n\t[IJPEG_RESET] = { 0x0210, 9 },\n\t[CSI0_RESET] = { 0x0210, 8 },\n\t[DSI_RESET] = { 0x0210, 7 },\n\t[VCODEC_RESET] = { 0x0210, 6 },\n\t[MDP_TV_RESET] = { 0x0210, 4 },\n\t[MDP_VSYNC_RESET] = { 0x0210, 3 },\n\t[ROT_RESET] = { 0x0210, 2 },\n\t[TV_HDMI_RESET] = { 0x0210, 1 },\n\t[TV_ENC_RESET] = { 0x0210 },\n\t[CSI2_RESET] = { 0x0214, 2 },\n\t[CSI_RDI1_RESET] = { 0x0214, 1 },\n\t[CSI_RDI2_RESET] = { 0x0214 },\n};\n\nstatic struct clk_regmap *mmcc_apq8064_clks[] = {\n\t[AMP_AHB_CLK] = &amp_ahb_clk.clkr,\n\t[DSI2_S_AHB_CLK] = &dsi2_s_ahb_clk.clkr,\n\t[JPEGD_AHB_CLK] = &jpegd_ahb_clk.clkr,\n\t[DSI_S_AHB_CLK] = &dsi_s_ahb_clk.clkr,\n\t[DSI2_M_AHB_CLK] = &dsi2_m_ahb_clk.clkr,\n\t[VPE_AHB_CLK] = &vpe_ahb_clk.clkr,\n\t[SMMU_AHB_CLK] = &smmu_ahb_clk.clkr,\n\t[HDMI_M_AHB_CLK] = &hdmi_m_ahb_clk.clkr,\n\t[VFE_AHB_CLK] = &vfe_ahb_clk.clkr,\n\t[ROT_AHB_CLK] = &rot_ahb_clk.clkr,\n\t[VCODEC_AHB_CLK] = &vcodec_ahb_clk.clkr,\n\t[MDP_AHB_CLK] = &mdp_ahb_clk.clkr,\n\t[DSI_M_AHB_CLK] = &dsi_m_ahb_clk.clkr,\n\t[CSI_AHB_CLK] = &csi_ahb_clk.clkr,\n\t[MMSS_IMEM_AHB_CLK] = &mmss_imem_ahb_clk.clkr,\n\t[IJPEG_AHB_CLK] = &ijpeg_ahb_clk.clkr,\n\t[HDMI_S_AHB_CLK] = &hdmi_s_ahb_clk.clkr,\n\t[GFX3D_AHB_CLK] = &gfx3d_ahb_clk.clkr,\n\t[JPEGD_AXI_CLK] = &jpegd_axi_clk.clkr,\n\t[GMEM_AXI_CLK] = &gmem_axi_clk.clkr,\n\t[MDP_AXI_CLK] = &mdp_axi_clk.clkr,\n\t[MMSS_IMEM_AXI_CLK] = &mmss_imem_axi_clk.clkr,\n\t[IJPEG_AXI_CLK] = &ijpeg_axi_clk.clkr,\n\t[GFX3D_AXI_CLK] = &gfx3d_axi_clk.clkr,\n\t[VCODEC_AXI_CLK] = &vcodec_axi_clk.clkr,\n\t[VFE_AXI_CLK] = &vfe_axi_clk.clkr,\n\t[VPE_AXI_CLK] = &vpe_axi_clk.clkr,\n\t[ROT_AXI_CLK] = &rot_axi_clk.clkr,\n\t[VCODEC_AXI_A_CLK] = &vcodec_axi_a_clk.clkr,\n\t[VCODEC_AXI_B_CLK] = &vcodec_axi_b_clk.clkr,\n\t[CSI0_SRC] = &csi0_src.clkr,\n\t[CSI0_CLK] = &csi0_clk.clkr,\n\t[CSI0_PHY_CLK] = &csi0_phy_clk.clkr,\n\t[CSI1_SRC] = &csi1_src.clkr,\n\t[CSI1_CLK] = &csi1_clk.clkr,\n\t[CSI1_PHY_CLK] = &csi1_phy_clk.clkr,\n\t[CSI2_SRC] = &csi2_src.clkr,\n\t[CSI2_CLK] = &csi2_clk.clkr,\n\t[CSI2_PHY_CLK] = &csi2_phy_clk.clkr,\n\t[DSI_SRC] = &dsi1_src.clkr,\n\t[DSI_CLK] = &dsi1_clk.clkr,\n\t[CSI_PIX_CLK] = &csi_pix_clk.clkr,\n\t[CSI_RDI_CLK] = &csi_rdi_clk.clkr,\n\t[MDP_VSYNC_CLK] = &mdp_vsync_clk.clkr,\n\t[HDMI_APP_CLK] = &hdmi_app_clk.clkr,\n\t[CSI_PIX1_CLK] = &csi_pix1_clk.clkr,\n\t[CSI_RDI2_CLK] = &csi_rdi2_clk.clkr,\n\t[CSI_RDI1_CLK] = &csi_rdi1_clk.clkr,\n\t[GFX3D_SRC] = &gfx3d_src.clkr,\n\t[GFX3D_CLK] = &gfx3d_clk.clkr,\n\t[IJPEG_SRC] = &ijpeg_src.clkr,\n\t[IJPEG_CLK] = &ijpeg_clk.clkr,\n\t[JPEGD_SRC] = &jpegd_src.clkr,\n\t[JPEGD_CLK] = &jpegd_clk.clkr,\n\t[MDP_SRC] = &mdp_src.clkr,\n\t[MDP_CLK] = &mdp_clk.clkr,\n\t[MDP_LUT_CLK] = &mdp_lut_clk.clkr,\n\t[DSI2_PIXEL_SRC] = &dsi2_pixel_src.clkr,\n\t[DSI2_PIXEL_CLK] = &dsi2_pixel_clk.clkr,\n\t[DSI2_SRC] = &dsi2_src.clkr,\n\t[DSI2_CLK] = &dsi2_clk.clkr,\n\t[DSI1_BYTE_SRC] = &dsi1_byte_src.clkr,\n\t[DSI1_BYTE_CLK] = &dsi1_byte_clk.clkr,\n\t[DSI2_BYTE_SRC] = &dsi2_byte_src.clkr,\n\t[DSI2_BYTE_CLK] = &dsi2_byte_clk.clkr,\n\t[DSI1_ESC_SRC] = &dsi1_esc_src.clkr,\n\t[DSI1_ESC_CLK] = &dsi1_esc_clk.clkr,\n\t[DSI2_ESC_SRC] = &dsi2_esc_src.clkr,\n\t[DSI2_ESC_CLK] = &dsi2_esc_clk.clkr,\n\t[ROT_SRC] = &rot_src.clkr,\n\t[ROT_CLK] = &rot_clk.clkr,\n\t[TV_DAC_CLK] = &tv_dac_clk.clkr,\n\t[HDMI_TV_CLK] = &hdmi_tv_clk.clkr,\n\t[MDP_TV_CLK] = &mdp_tv_clk.clkr,\n\t[TV_SRC] = &tv_src.clkr,\n\t[VCODEC_SRC] = &vcodec_src.clkr,\n\t[VCODEC_CLK] = &vcodec_clk.clkr,\n\t[VFE_SRC] = &vfe_src.clkr,\n\t[VFE_CLK] = &vfe_clk.clkr,\n\t[VFE_CSI_CLK] = &vfe_csi_clk.clkr,\n\t[VPE_SRC] = &vpe_src.clkr,\n\t[VPE_CLK] = &vpe_clk.clkr,\n\t[DSI_PIXEL_SRC] = &dsi1_pixel_src.clkr,\n\t[DSI_PIXEL_CLK] = &dsi1_pixel_clk.clkr,\n\t[CAMCLK0_SRC] = &camclk0_src.clkr,\n\t[CAMCLK0_CLK] = &camclk0_clk.clkr,\n\t[CAMCLK1_SRC] = &camclk1_src.clkr,\n\t[CAMCLK1_CLK] = &camclk1_clk.clkr,\n\t[CAMCLK2_SRC] = &camclk2_src.clkr,\n\t[CAMCLK2_CLK] = &camclk2_clk.clkr,\n\t[CSIPHYTIMER_SRC] = &csiphytimer_src.clkr,\n\t[CSIPHY2_TIMER_CLK] = &csiphy2_timer_clk.clkr,\n\t[CSIPHY1_TIMER_CLK] = &csiphy1_timer_clk.clkr,\n\t[CSIPHY0_TIMER_CLK] = &csiphy0_timer_clk.clkr,\n\t[PLL2] = &pll2.clkr,\n\t[RGB_TV_CLK] = &rgb_tv_clk.clkr,\n\t[NPL_TV_CLK] = &npl_tv_clk.clkr,\n\t[VCAP_AHB_CLK] = &vcap_ahb_clk.clkr,\n\t[VCAP_AXI_CLK] = &vcap_axi_clk.clkr,\n\t[VCAP_SRC] = &vcap_src.clkr,\n\t[VCAP_CLK] = &vcap_clk.clkr,\n\t[VCAP_NPL_CLK] = &vcap_npl_clk.clkr,\n\t[PLL15] = &pll15.clkr,\n};\n\nstatic const struct qcom_reset_map mmcc_apq8064_resets[] = {\n\t[GFX3D_AXI_RESET] = { 0x0208, 17 },\n\t[VCAP_AXI_RESET] = { 0x0208, 16 },\n\t[VPE_AXI_RESET] = { 0x0208, 15 },\n\t[IJPEG_AXI_RESET] = { 0x0208, 14 },\n\t[MPD_AXI_RESET] = { 0x0208, 13 },\n\t[VFE_AXI_RESET] = { 0x0208, 9 },\n\t[SP_AXI_RESET] = { 0x0208, 8 },\n\t[VCODEC_AXI_RESET] = { 0x0208, 7 },\n\t[ROT_AXI_RESET] = { 0x0208, 6 },\n\t[VCODEC_AXI_A_RESET] = { 0x0208, 5 },\n\t[VCODEC_AXI_B_RESET] = { 0x0208, 4 },\n\t[FAB_S3_AXI_RESET] = { 0x0208, 3 },\n\t[FAB_S2_AXI_RESET] = { 0x0208, 2 },\n\t[FAB_S1_AXI_RESET] = { 0x0208, 1 },\n\t[FAB_S0_AXI_RESET] = { 0x0208 },\n\t[SMMU_GFX3D_ABH_RESET] = { 0x020c, 31 },\n\t[SMMU_VPE_AHB_RESET] = { 0x020c, 30 },\n\t[SMMU_VFE_AHB_RESET] = { 0x020c, 29 },\n\t[SMMU_ROT_AHB_RESET] = { 0x020c, 28 },\n\t[SMMU_VCODEC_B_AHB_RESET] = { 0x020c, 27 },\n\t[SMMU_VCODEC_A_AHB_RESET] = { 0x020c, 26 },\n\t[SMMU_MDP1_AHB_RESET] = { 0x020c, 25 },\n\t[SMMU_MDP0_AHB_RESET] = { 0x020c, 24 },\n\t[SMMU_JPEGD_AHB_RESET] = { 0x020c, 23 },\n\t[SMMU_IJPEG_AHB_RESET] = { 0x020c, 22 },\n\t[APU_AHB_RESET] = { 0x020c, 18 },\n\t[CSI_AHB_RESET] = { 0x020c, 17 },\n\t[TV_ENC_AHB_RESET] = { 0x020c, 15 },\n\t[VPE_AHB_RESET] = { 0x020c, 14 },\n\t[FABRIC_AHB_RESET] = { 0x020c, 13 },\n\t[GFX3D_AHB_RESET] = { 0x020c, 10 },\n\t[HDMI_AHB_RESET] = { 0x020c, 9 },\n\t[MSSS_IMEM_AHB_RESET] = { 0x020c, 8 },\n\t[IJPEG_AHB_RESET] = { 0x020c, 7 },\n\t[DSI_M_AHB_RESET] = { 0x020c, 6 },\n\t[DSI_S_AHB_RESET] = { 0x020c, 5 },\n\t[JPEGD_AHB_RESET] = { 0x020c, 4 },\n\t[MDP_AHB_RESET] = { 0x020c, 3 },\n\t[ROT_AHB_RESET] = { 0x020c, 2 },\n\t[VCODEC_AHB_RESET] = { 0x020c, 1 },\n\t[VFE_AHB_RESET] = { 0x020c, 0 },\n\t[SMMU_VCAP_AHB_RESET] = { 0x0200, 3 },\n\t[VCAP_AHB_RESET] = { 0x0200, 2 },\n\t[DSI2_M_AHB_RESET] = { 0x0200, 1 },\n\t[DSI2_S_AHB_RESET] = { 0x0200, 0 },\n\t[CSIPHY2_RESET] = { 0x0210, 31 },\n\t[CSI_PIX1_RESET] = { 0x0210, 30 },\n\t[CSIPHY0_RESET] = { 0x0210, 29 },\n\t[CSIPHY1_RESET] = { 0x0210, 28 },\n\t[CSI_RDI_RESET] = { 0x0210, 27 },\n\t[CSI_PIX_RESET] = { 0x0210, 26 },\n\t[DSI2_RESET] = { 0x0210, 25 },\n\t[VFE_CSI_RESET] = { 0x0210, 24 },\n\t[MDP_RESET] = { 0x0210, 21 },\n\t[AMP_RESET] = { 0x0210, 20 },\n\t[JPEGD_RESET] = { 0x0210, 19 },\n\t[CSI1_RESET] = { 0x0210, 18 },\n\t[VPE_RESET] = { 0x0210, 17 },\n\t[MMSS_FABRIC_RESET] = { 0x0210, 16 },\n\t[VFE_RESET] = { 0x0210, 15 },\n\t[GFX3D_RESET] = { 0x0210, 12 },\n\t[HDMI_RESET] = { 0x0210, 11 },\n\t[MMSS_IMEM_RESET] = { 0x0210, 10 },\n\t[IJPEG_RESET] = { 0x0210, 9 },\n\t[CSI0_RESET] = { 0x0210, 8 },\n\t[DSI_RESET] = { 0x0210, 7 },\n\t[VCODEC_RESET] = { 0x0210, 6 },\n\t[MDP_TV_RESET] = { 0x0210, 4 },\n\t[MDP_VSYNC_RESET] = { 0x0210, 3 },\n\t[ROT_RESET] = { 0x0210, 2 },\n\t[TV_HDMI_RESET] = { 0x0210, 1 },\n\t[VCAP_NPL_RESET] = { 0x0214, 4 },\n\t[VCAP_RESET] = { 0x0214, 3 },\n\t[CSI2_RESET] = { 0x0214, 2 },\n\t[CSI_RDI1_RESET] = { 0x0214, 1 },\n\t[CSI_RDI2_RESET] = { 0x0214 },\n};\n\nstatic const struct regmap_config mmcc_msm8960_regmap_config = {\n\t.reg_bits\t= 32,\n\t.reg_stride\t= 4,\n\t.val_bits\t= 32,\n\t.max_register\t= 0x334,\n\t.fast_io\t= true,\n};\n\nstatic const struct regmap_config mmcc_apq8064_regmap_config = {\n\t.reg_bits\t= 32,\n\t.reg_stride\t= 4,\n\t.val_bits\t= 32,\n\t.max_register\t= 0x350,\n\t.fast_io\t= true,\n};\n\nstatic const struct qcom_cc_desc mmcc_msm8960_desc = {\n\t.config = &mmcc_msm8960_regmap_config,\n\t.clks = mmcc_msm8960_clks,\n\t.num_clks = ARRAY_SIZE(mmcc_msm8960_clks),\n\t.resets = mmcc_msm8960_resets,\n\t.num_resets = ARRAY_SIZE(mmcc_msm8960_resets),\n};\n\nstatic const struct qcom_cc_desc mmcc_apq8064_desc = {\n\t.config = &mmcc_apq8064_regmap_config,\n\t.clks = mmcc_apq8064_clks,\n\t.num_clks = ARRAY_SIZE(mmcc_apq8064_clks),\n\t.resets = mmcc_apq8064_resets,\n\t.num_resets = ARRAY_SIZE(mmcc_apq8064_resets),\n};\n\nstatic const struct of_device_id mmcc_msm8960_match_table[] = {\n\t{ .compatible = \"qcom,mmcc-msm8960\", .data = &mmcc_msm8960_desc },\n\t{ .compatible = \"qcom,mmcc-apq8064\", .data = &mmcc_apq8064_desc },\n\t{ }\n};\nMODULE_DEVICE_TABLE(of, mmcc_msm8960_match_table);\n\nstatic int mmcc_msm8960_probe(struct platform_device *pdev)\n{\n\tconst struct of_device_id *match;\n\tstruct regmap *regmap;\n\tbool is_8064;\n\tstruct device *dev = &pdev->dev;\n\n\tmatch = of_match_device(mmcc_msm8960_match_table, dev);\n\tif (!match)\n\t\treturn -EINVAL;\n\n\tis_8064 = of_device_is_compatible(dev->of_node, \"qcom,mmcc-apq8064\");\n\tif (is_8064) {\n\t\tgfx3d_src.freq_tbl = clk_tbl_gfx3d_8064;\n\t\tgfx3d_src.clkr.hw.init = &gfx3d_8064_init;\n\t\tgfx3d_src.s[0].parent_map = mmcc_pxo_pll8_pll2_pll15_map;\n\t\tgfx3d_src.s[1].parent_map = mmcc_pxo_pll8_pll2_pll15_map;\n\t}\n\n\tregmap = qcom_cc_map(pdev, match->data);\n\tif (IS_ERR(regmap))\n\t\treturn PTR_ERR(regmap);\n\n\tclk_pll_configure_sr(&pll15, regmap, &pll15_config, false);\n\n\treturn qcom_cc_really_probe(pdev, match->data, regmap);\n}\n\nstatic struct platform_driver mmcc_msm8960_driver = {\n\t.probe\t\t= mmcc_msm8960_probe,\n\t.driver\t\t= {\n\t\t.name\t= \"mmcc-msm8960\",\n\t\t.of_match_table = mmcc_msm8960_match_table,\n\t},\n};\n\nmodule_platform_driver(mmcc_msm8960_driver);\n\nMODULE_DESCRIPTION(\"QCOM MMCC MSM8960 Driver\");\nMODULE_LICENSE(\"GPL v2\");\nMODULE_ALIAS(\"platform:mmcc-msm8960\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}