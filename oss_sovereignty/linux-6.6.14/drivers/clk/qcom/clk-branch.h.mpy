{
  "module_name": "clk-branch.h",
  "hash_id": "4eaccbbc697f970619c85ade78022ad9c3bd0d5a6d8a658d006b64adaae314b3",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/qcom/clk-branch.h",
  "human_readable_source": " \n \n\n#ifndef __QCOM_CLK_BRANCH_H__\n#define __QCOM_CLK_BRANCH_H__\n\n#include <linux/bitfield.h>\n#include <linux/clk-provider.h>\n\n#include \"clk-regmap.h\"\n\n \nstruct clk_branch {\n\tu32\thwcg_reg;\n\tu32\thalt_reg;\n\tu8\thwcg_bit;\n\tu8\thalt_bit;\n\tu8\thalt_check;\n#define BRANCH_VOTED\t\t\tBIT(7)  \n#define BRANCH_HALT\t\t\t0  \n#define BRANCH_HALT_VOTED\t\t(BRANCH_HALT | BRANCH_VOTED)\n#define BRANCH_HALT_ENABLE\t\t1  \n#define BRANCH_HALT_ENABLE_VOTED\t(BRANCH_HALT_ENABLE | BRANCH_VOTED)\n#define BRANCH_HALT_DELAY\t\t2  \n#define BRANCH_HALT_SKIP\t\t3  \n\n\tstruct clk_regmap clkr;\n};\n\n \n#define CBCR_CLK_OFF\t\t\tBIT(31)\n#define CBCR_NOC_FSM_STATUS\t\tGENMASK(30, 28)\n #define FSM_STATUS_ON\t\t\tBIT(1)\n#define CBCR_FORCE_MEM_CORE_ON\t\tBIT(14)\n#define CBCR_FORCE_MEM_PERIPH_ON\tBIT(13)\n#define CBCR_FORCE_MEM_PERIPH_OFF\tBIT(12)\n#define CBCR_WAKEUP\t\t\tGENMASK(11, 8)\n#define CBCR_SLEEP\t\t\tGENMASK(7, 4)\n\nstatic inline void qcom_branch_set_force_mem_core(struct regmap *regmap,\n\t\t\t\t\t\t  struct clk_branch clk, bool on)\n{\n\tregmap_update_bits(regmap, clk.halt_reg, CBCR_FORCE_MEM_CORE_ON,\n\t\t\t   on ? CBCR_FORCE_MEM_CORE_ON : 0);\n}\n\nstatic inline void qcom_branch_set_force_periph_on(struct regmap *regmap,\n\t\t\t\t\t\t   struct clk_branch clk, bool on)\n{\n\tregmap_update_bits(regmap, clk.halt_reg, CBCR_FORCE_MEM_PERIPH_ON,\n\t\t\t   on ? CBCR_FORCE_MEM_PERIPH_ON : 0);\n}\n\nstatic inline void qcom_branch_set_force_periph_off(struct regmap *regmap,\n\t\t\t\t\t\t    struct clk_branch clk, bool on)\n{\n\tregmap_update_bits(regmap, clk.halt_reg, CBCR_FORCE_MEM_PERIPH_OFF,\n\t\t\t   on ? CBCR_FORCE_MEM_PERIPH_OFF : 0);\n}\n\nstatic inline void qcom_branch_set_wakeup(struct regmap *regmap, struct clk_branch clk, u32 val)\n{\n\tregmap_update_bits(regmap, clk.halt_reg, CBCR_WAKEUP,\n\t\t\t   FIELD_PREP(CBCR_WAKEUP, val));\n}\n\nstatic inline void qcom_branch_set_sleep(struct regmap *regmap, struct clk_branch clk, u32 val)\n{\n\tregmap_update_bits(regmap, clk.halt_reg, CBCR_SLEEP,\n\t\t\t   FIELD_PREP(CBCR_SLEEP, val));\n}\n\nextern const struct clk_ops clk_branch_ops;\nextern const struct clk_ops clk_branch2_ops;\nextern const struct clk_ops clk_branch_simple_ops;\nextern const struct clk_ops clk_branch2_aon_ops;\n\n#define to_clk_branch(_hw) \\\n\tcontainer_of(to_clk_regmap(_hw), struct clk_branch, clkr)\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}