{
  "module_name": "psc-da850.c",
  "hash_id": "0073355f2970969e173efdab89e6a6a42565b427db291ce4e1c2e79dea38f8c4",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/davinci/psc-da850.c",
  "human_readable_source": "\n \n\n#include <linux/clk-provider.h>\n#include <linux/reset-controller.h>\n#include <linux/clk.h>\n#include <linux/clkdev.h>\n#include <linux/init.h>\n#include <linux/kernel.h>\n#include <linux/of.h>\n#include <linux/types.h>\n\n#include \"psc.h\"\n\nLPSC_CLKDEV1(emifa_clkdev,\tNULL,\t\t\"ti-aemif\");\nLPSC_CLKDEV1(spi0_clkdev,\tNULL,\t\t\"spi_davinci.0\");\nLPSC_CLKDEV1(mmcsd0_clkdev,\tNULL,\t\t\"da830-mmc.0\");\nLPSC_CLKDEV1(uart0_clkdev,\tNULL,\t\t\"serial8250.0\");\n \nLPSC_CLKDEV1(arm_clkdev,\t\"arm\",\t\tNULL);\nLPSC_CLKDEV1(dsp_clkdev,\tNULL,\t\t\"davinci-rproc.0\");\n\nstatic const struct davinci_lpsc_clk_info da850_psc0_info[] = {\n\tLPSC(0,  0, tpcc0,   pll0_sysclk2, NULL,          LPSC_ALWAYS_ENABLED),\n\tLPSC(1,  0, tptc0,   pll0_sysclk2, NULL,          LPSC_ALWAYS_ENABLED),\n\tLPSC(2,  0, tptc1,   pll0_sysclk2, NULL,          LPSC_ALWAYS_ENABLED),\n\tLPSC(3,  0, emifa,   async1,       emifa_clkdev,  0),\n\tLPSC(4,  0, spi0,    pll0_sysclk2, spi0_clkdev,   0),\n\tLPSC(5,  0, mmcsd0,  pll0_sysclk2, mmcsd0_clkdev, 0),\n\tLPSC(6,  0, aintc,   pll0_sysclk4, NULL,          LPSC_ALWAYS_ENABLED),\n\tLPSC(7,  0, arm_rom, pll0_sysclk2, NULL,          LPSC_ALWAYS_ENABLED),\n\tLPSC(9,  0, uart0,   pll0_sysclk2, uart0_clkdev,  0),\n\tLPSC(13, 0, pruss,   pll0_sysclk2, NULL,          0),\n\tLPSC(14, 0, arm,     pll0_sysclk6, arm_clkdev,    LPSC_ALWAYS_ENABLED | LPSC_SET_RATE_PARENT),\n\tLPSC(15, 1, dsp,     pll0_sysclk1, dsp_clkdev,    LPSC_FORCE | LPSC_LOCAL_RESET),\n\t{ }\n};\n\nLPSC_CLKDEV3(usb0_clkdev,\t\"fck\",\t\"da830-usb-phy-clks\",\n\t\t\t\tNULL,\t\"musb-da8xx\",\n\t\t\t\tNULL,\t\"cppi41-dmaengine\");\nLPSC_CLKDEV1(usb1_clkdev,\tNULL,\t\"ohci-da8xx\");\n \nLPSC_CLKDEV1(gpio_clkdev,\t\"gpio\",\tNULL);\nLPSC_CLKDEV2(emac_clkdev,\tNULL,\t\"davinci_emac.1\",\n\t\t\t\t\"fck\",\t\"davinci_mdio.0\");\nLPSC_CLKDEV1(mcasp0_clkdev,\tNULL,\t\"davinci-mcasp.0\");\nLPSC_CLKDEV1(sata_clkdev,\t\"fck\",\t\"ahci_da850\");\nLPSC_CLKDEV1(vpif_clkdev,\tNULL,\t\"vpif\");\nLPSC_CLKDEV1(spi1_clkdev,\tNULL,\t\"spi_davinci.1\");\nLPSC_CLKDEV1(i2c1_clkdev,\tNULL,\t\"i2c_davinci.2\");\nLPSC_CLKDEV1(uart1_clkdev,\tNULL,\t\"serial8250.1\");\nLPSC_CLKDEV1(uart2_clkdev,\tNULL,\t\"serial8250.2\");\nLPSC_CLKDEV1(mcbsp0_clkdev,\tNULL,\t\"davinci-mcbsp.0\");\nLPSC_CLKDEV1(mcbsp1_clkdev,\tNULL,\t\"davinci-mcbsp.1\");\nLPSC_CLKDEV1(lcdc_clkdev,\t\"fck\",\t\"da8xx_lcdc.0\");\nLPSC_CLKDEV3(ehrpwm_clkdev,\t\"fck\",\t\"ehrpwm.0\",\n\t\t\t\t\"fck\",\t\"ehrpwm.1\",\n\t\t\t\tNULL,\t\"da830-tbclksync\");\nLPSC_CLKDEV1(mmcsd1_clkdev,\tNULL,\t\"da830-mmc.1\");\nLPSC_CLKDEV3(ecap_clkdev,\t\"fck\",\t\"ecap.0\",\n\t\t\t\t\"fck\",\t\"ecap.1\",\n\t\t\t\t\"fck\",\t\"ecap.2\");\n\nstatic struct reset_control_lookup da850_psc0_reset_lookup_table[] = {\n\tRESET_LOOKUP(\"da850-psc0\", 15, \"davinci-rproc.0\", NULL),\n};\n\nstatic int da850_psc0_init(struct device *dev, void __iomem *base)\n{\n\treset_controller_add_lookup(da850_psc0_reset_lookup_table,\n\t\t\t\t    ARRAY_SIZE(da850_psc0_reset_lookup_table));\n\treturn davinci_psc_register_clocks(dev, da850_psc0_info, 16, base);\n}\n\nstatic int of_da850_psc0_init(struct device *dev, void __iomem *base)\n{\n\treturn of_davinci_psc_clk_init(dev, da850_psc0_info, 16, base);\n}\n\nstatic struct clk_bulk_data da850_psc0_parent_clks[] = {\n\t{ .id = \"pll0_sysclk1\" },\n\t{ .id = \"pll0_sysclk2\" },\n\t{ .id = \"pll0_sysclk4\" },\n\t{ .id = \"pll0_sysclk6\" },\n\t{ .id = \"async1\"       },\n};\n\nconst struct davinci_psc_init_data da850_psc0_init_data = {\n\t.parent_clks\t\t= da850_psc0_parent_clks,\n\t.num_parent_clks\t= ARRAY_SIZE(da850_psc0_parent_clks),\n\t.psc_init\t\t= &da850_psc0_init,\n};\n\nconst struct davinci_psc_init_data of_da850_psc0_init_data = {\n\t.parent_clks\t\t= da850_psc0_parent_clks,\n\t.num_parent_clks\t= ARRAY_SIZE(da850_psc0_parent_clks),\n\t.psc_init\t\t= &of_da850_psc0_init,\n};\n\nstatic const struct davinci_lpsc_clk_info da850_psc1_info[] = {\n\tLPSC(0,  0, tpcc1,  pll0_sysclk2, NULL,          LPSC_ALWAYS_ENABLED),\n\tLPSC(1,  0, usb0,   pll0_sysclk2, usb0_clkdev,   0),\n\tLPSC(2,  0, usb1,   pll0_sysclk4, usb1_clkdev,   0),\n\tLPSC(3,  0, gpio,   pll0_sysclk4, gpio_clkdev,   0),\n\tLPSC(5,  0, emac,   pll0_sysclk4, emac_clkdev,   0),\n\tLPSC(6,  0, ddr,    pll0_sysclk2, NULL,          LPSC_ALWAYS_ENABLED),\n\tLPSC(7,  0, mcasp0, async3,       mcasp0_clkdev, 0),\n\tLPSC(8,  0, sata,   pll0_sysclk2, sata_clkdev,   LPSC_FORCE),\n\tLPSC(9,  0, vpif,   pll0_sysclk2, vpif_clkdev,   0),\n\tLPSC(10, 0, spi1,   async3,       spi1_clkdev,   0),\n\tLPSC(11, 0, i2c1,   pll0_sysclk4, i2c1_clkdev,   0),\n\tLPSC(12, 0, uart1,  async3,       uart1_clkdev,  0),\n\tLPSC(13, 0, uart2,  async3,       uart2_clkdev,  0),\n\tLPSC(14, 0, mcbsp0, async3,       mcbsp0_clkdev, 0),\n\tLPSC(15, 0, mcbsp1, async3,       mcbsp1_clkdev, 0),\n\tLPSC(16, 0, lcdc,   pll0_sysclk2, lcdc_clkdev,   0),\n\tLPSC(17, 0, ehrpwm, async3,       ehrpwm_clkdev, 0),\n\tLPSC(18, 0, mmcsd1, pll0_sysclk2, mmcsd1_clkdev, 0),\n\tLPSC(20, 0, ecap,   async3,       ecap_clkdev,   0),\n\tLPSC(21, 0, tptc2,  pll0_sysclk2, NULL,          LPSC_ALWAYS_ENABLED),\n\t{ }\n};\n\nstatic int da850_psc1_init(struct device *dev, void __iomem *base)\n{\n\treturn davinci_psc_register_clocks(dev, da850_psc1_info, 32, base);\n}\n\nstatic int of_da850_psc1_init(struct device *dev, void __iomem *base)\n{\n\treturn of_davinci_psc_clk_init(dev, da850_psc1_info, 32, base);\n}\n\nstatic struct clk_bulk_data da850_psc1_parent_clks[] = {\n\t{ .id = \"pll0_sysclk2\" },\n\t{ .id = \"pll0_sysclk4\" },\n\t{ .id = \"async3\"       },\n};\n\nconst struct davinci_psc_init_data da850_psc1_init_data = {\n\t.parent_clks\t\t= da850_psc1_parent_clks,\n\t.num_parent_clks\t= ARRAY_SIZE(da850_psc1_parent_clks),\n\t.psc_init\t\t= &da850_psc1_init,\n};\n\nconst struct davinci_psc_init_data of_da850_psc1_init_data = {\n\t.parent_clks\t\t= da850_psc1_parent_clks,\n\t.num_parent_clks\t= ARRAY_SIZE(da850_psc1_parent_clks),\n\t.psc_init\t\t= &of_da850_psc1_init,\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}