{
  "module_name": "clk-regmap.h",
  "hash_id": "36c04b12c987748461e512bd46218b50d261be63967df462b8308686b08065fe",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/meson/clk-regmap.h",
  "human_readable_source": " \n \n\n#ifndef __CLK_REGMAP_H\n#define __CLK_REGMAP_H\n\n#include <linux/clk-provider.h>\n#include <linux/regmap.h>\n\n \nstruct clk_regmap {\n\tstruct clk_hw\thw;\n\tstruct regmap\t*map;\n\tvoid\t\t*data;\n};\n\nstatic inline struct clk_regmap *to_clk_regmap(struct clk_hw *hw)\n{\n\treturn container_of(hw, struct clk_regmap, hw);\n}\n\n \nstruct clk_regmap_gate_data {\n\tunsigned int\toffset;\n\tu8\t\tbit_idx;\n\tu8\t\tflags;\n};\n\nstatic inline struct clk_regmap_gate_data *\nclk_get_regmap_gate_data(struct clk_regmap *clk)\n{\n\treturn (struct clk_regmap_gate_data *)clk->data;\n}\n\nextern const struct clk_ops clk_regmap_gate_ops;\nextern const struct clk_ops clk_regmap_gate_ro_ops;\n\n \nstruct clk_regmap_div_data {\n\tunsigned int\toffset;\n\tu8\t\tshift;\n\tu8\t\twidth;\n\tu8\t\tflags;\n\tconst struct clk_div_table\t*table;\n};\n\nstatic inline struct clk_regmap_div_data *\nclk_get_regmap_div_data(struct clk_regmap *clk)\n{\n\treturn (struct clk_regmap_div_data *)clk->data;\n}\n\nextern const struct clk_ops clk_regmap_divider_ops;\nextern const struct clk_ops clk_regmap_divider_ro_ops;\n\n \nstruct clk_regmap_mux_data {\n\tunsigned int\toffset;\n\tu32\t\t*table;\n\tu32\t\tmask;\n\tu8\t\tshift;\n\tu8\t\tflags;\n};\n\nstatic inline struct clk_regmap_mux_data *\nclk_get_regmap_mux_data(struct clk_regmap *clk)\n{\n\treturn (struct clk_regmap_mux_data *)clk->data;\n}\n\nextern const struct clk_ops clk_regmap_mux_ops;\nextern const struct clk_ops clk_regmap_mux_ro_ops;\n\n#define __MESON_PCLK(_name, _reg, _bit, _ops, _pname)\t\t\t\\\nstruct clk_regmap _name = {\t\t\t\t\t\t\\\n\t.data = &(struct clk_regmap_gate_data){\t\t\t\t\\\n\t\t.offset = (_reg),\t\t\t\t\t\\\n\t\t.bit_idx = (_bit),\t\t\t\t\t\\\n\t},\t\t\t\t\t\t\t\t\\\n\t.hw.init = &(struct clk_init_data) {\t\t\t\t\\\n\t\t.name = #_name,\t\t\t\t\t\t\\\n\t\t.ops = _ops,\t\t\t\t\t\t\\\n\t\t.parent_hws = (const struct clk_hw *[]) { _pname },\t\\\n\t\t.num_parents = 1,\t\t\t\t\t\\\n\t\t.flags = (CLK_SET_RATE_PARENT | CLK_IGNORE_UNUSED),\t\\\n\t},\t\t\t\t\t\t\t\t\\\n}\n\n#define MESON_PCLK(_name, _reg, _bit, _pname)\t\\\n\t__MESON_PCLK(_name, _reg, _bit, &clk_regmap_gate_ops, _pname)\n\n#define MESON_PCLK_RO(_name, _reg, _bit, _pname)\t\\\n\t__MESON_PCLK(_name, _reg, _bit, &clk_regmap_gate_ro_ops, _pname)\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}