{
  "module_name": "parm.h",
  "hash_id": "ee269d487641268e4f352cfc3a3fc8320798658a69d68470b4ca0bb6e1a7abab",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/meson/parm.h",
  "human_readable_source": " \n \n\n#ifndef __MESON_PARM_H\n#define __MESON_PARM_H\n\n#include <linux/bits.h>\n#include <linux/regmap.h>\n\n#define PMASK(width)\t\t\tGENMASK(width - 1, 0)\n#define SETPMASK(width, shift)\t\tGENMASK(shift + width - 1, shift)\n#define CLRPMASK(width, shift)\t\t(~SETPMASK(width, shift))\n\n#define PARM_GET(width, shift, reg)\t\t\t\t\t\\\n\t(((reg) & SETPMASK(width, shift)) >> (shift))\n#define PARM_SET(width, shift, reg, val)\t\t\t\t\\\n\t(((reg) & CLRPMASK(width, shift)) | ((val) << (shift)))\n\n#define MESON_PARM_APPLICABLE(p)\t\t(!!((p)->width))\n\nstruct parm {\n\tu16\treg_off;\n\tu8\tshift;\n\tu8\twidth;\n};\n\nstatic inline unsigned int meson_parm_read(struct regmap *map, struct parm *p)\n{\n\tunsigned int val;\n\n\tregmap_read(map, p->reg_off, &val);\n\treturn PARM_GET(p->width, p->shift, val);\n}\n\nstatic inline void meson_parm_write(struct regmap *map, struct parm *p,\n\t\t\t\t    unsigned int val)\n{\n\tregmap_update_bits(map, p->reg_off, SETPMASK(p->width, p->shift),\n\t\t\t   val << p->shift);\n}\n\n#endif  \n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}