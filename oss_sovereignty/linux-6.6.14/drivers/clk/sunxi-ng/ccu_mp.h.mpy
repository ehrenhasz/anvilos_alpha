{
  "module_name": "ccu_mp.h",
  "hash_id": "e83d1fa38a116f348c941cb4bf708e14c537d5fff454d6b80b4623ad1c15f1cd",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/sunxi-ng/ccu_mp.h",
  "human_readable_source": " \n \n\n#ifndef _CCU_MP_H_\n#define _CCU_MP_H_\n\n#include <linux/bitops.h>\n#include <linux/clk-provider.h>\n\n#include \"ccu_common.h\"\n#include \"ccu_div.h\"\n#include \"ccu_mult.h\"\n#include \"ccu_mux.h\"\n\n \nstruct ccu_mp {\n\tu32\t\t\tenable;\n\n\tstruct ccu_div_internal\t\tm;\n\tstruct ccu_div_internal\t\tp;\n\tstruct ccu_mux_internal\tmux;\n\n\tunsigned int\t\tfixed_post_div;\n\n\tstruct ccu_common\tcommon;\n};\n\n#define SUNXI_CCU_MP_WITH_MUX_GATE_POSTDIV(_struct, _name, _parents, _reg, \\\n\t\t\t\t\t   _mshift, _mwidth,\t\t\\\n\t\t\t\t\t   _pshift, _pwidth,\t\t\\\n\t\t\t\t\t   _muxshift, _muxwidth,\t\\\n\t\t\t\t\t   _gate, _postdiv, _flags)\t\\\n\tstruct ccu_mp _struct = {\t\t\t\t\t\\\n\t\t.enable\t= _gate,\t\t\t\t\t\\\n\t\t.m\t= _SUNXI_CCU_DIV(_mshift, _mwidth),\t\t\\\n\t\t.p\t= _SUNXI_CCU_DIV(_pshift, _pwidth),\t\t\\\n\t\t.mux\t= _SUNXI_CCU_MUX(_muxshift, _muxwidth),\t\t\\\n\t\t.fixed_post_div\t= _postdiv,\t\t\t\t\\\n\t\t.common\t= {\t\t\t\t\t\t\\\n\t\t\t.reg\t\t= _reg,\t\t\t\t\\\n\t\t\t.features\t= CCU_FEATURE_FIXED_POSTDIV,\t\\\n\t\t\t.hw.init\t= CLK_HW_INIT_PARENTS(_name,\t\\\n\t\t\t\t\t\t\t      _parents, \\\n\t\t\t\t\t\t\t      &ccu_mp_ops, \\\n\t\t\t\t\t\t\t      _flags),\t\\\n\t\t}\t\t\t\t\t\t\t\\\n\t}\n\n#define SUNXI_CCU_MP_WITH_MUX_GATE(_struct, _name, _parents, _reg,\t\\\n\t\t\t\t   _mshift, _mwidth,\t\t\t\\\n\t\t\t\t   _pshift, _pwidth,\t\t\t\\\n\t\t\t\t   _muxshift, _muxwidth,\t\t\\\n\t\t\t\t   _gate, _flags)\t\t\t\\\n\tstruct ccu_mp _struct = {\t\t\t\t\t\\\n\t\t.enable\t= _gate,\t\t\t\t\t\\\n\t\t.m\t= _SUNXI_CCU_DIV(_mshift, _mwidth),\t\t\\\n\t\t.p\t= _SUNXI_CCU_DIV(_pshift, _pwidth),\t\t\\\n\t\t.mux\t= _SUNXI_CCU_MUX(_muxshift, _muxwidth),\t\t\\\n\t\t.common\t= {\t\t\t\t\t\t\\\n\t\t\t.reg\t\t= _reg,\t\t\t\t\\\n\t\t\t.hw.init\t= CLK_HW_INIT_PARENTS(_name,\t\\\n\t\t\t\t\t\t\t      _parents, \\\n\t\t\t\t\t\t\t      &ccu_mp_ops, \\\n\t\t\t\t\t\t\t      _flags),\t\\\n\t\t}\t\t\t\t\t\t\t\\\n\t}\n\n#define SUNXI_CCU_MP_WITH_MUX(_struct, _name, _parents, _reg,\t\t\\\n\t\t\t      _mshift, _mwidth,\t\t\t\t\\\n\t\t\t      _pshift, _pwidth,\t\t\t\t\\\n\t\t\t      _muxshift, _muxwidth,\t\t\t\\\n\t\t\t      _flags)\t\t\t\t\t\\\n\tSUNXI_CCU_MP_WITH_MUX_GATE(_struct, _name, _parents, _reg,\t\\\n\t\t\t\t   _mshift, _mwidth,\t\t\t\\\n\t\t\t\t   _pshift, _pwidth,\t\t\t\\\n\t\t\t\t   _muxshift, _muxwidth,\t\t\\\n\t\t\t\t   0, _flags)\n\n#define SUNXI_CCU_MP_DATA_WITH_MUX_GATE(_struct, _name, _parents, _reg,\t\\\n\t\t\t\t\t_mshift, _mwidth,\t\t\\\n\t\t\t\t\t_pshift, _pwidth,\t\t\\\n\t\t\t\t\t_muxshift, _muxwidth,\t\t\\\n\t\t\t\t\t_gate, _flags)\t\t\t\\\n\tstruct ccu_mp _struct = {\t\t\t\t\t\\\n\t\t.enable\t= _gate,\t\t\t\t\t\\\n\t\t.m\t= _SUNXI_CCU_DIV(_mshift, _mwidth),\t\t\\\n\t\t.p\t= _SUNXI_CCU_DIV(_pshift, _pwidth),\t\t\\\n\t\t.mux\t= _SUNXI_CCU_MUX(_muxshift, _muxwidth),\t\t\\\n\t\t.common\t= {\t\t\t\t\t\t\\\n\t\t\t.reg\t\t= _reg,\t\t\t\t\\\n\t\t\t.hw.init\t= CLK_HW_INIT_PARENTS_DATA(_name, \\\n\t\t\t\t\t\t\t\t   _parents, \\\n\t\t\t\t\t\t\t\t   &ccu_mp_ops, \\\n\t\t\t\t\t\t\t\t   _flags), \\\n\t\t}\t\t\t\t\t\t\t\\\n\t}\n\n#define SUNXI_CCU_MP_DATA_WITH_MUX(_struct, _name, _parents, _reg,\t\\\n\t\t\t\t   _mshift, _mwidth,\t\t\t\\\n\t\t\t\t   _pshift, _pwidth,\t\t\t\\\n\t\t\t\t   _muxshift, _muxwidth,\t\t\\\n\t\t\t\t   _flags)\t\t\t\t\\\n\tSUNXI_CCU_MP_DATA_WITH_MUX_GATE(_struct, _name, _parents, _reg,\t\\\n\t\t\t\t\t_mshift, _mwidth,\t\t\\\n\t\t\t\t\t_pshift, _pwidth,\t\t\\\n\t\t\t\t\t_muxshift, _muxwidth,\t\t\\\n\t\t\t\t\t0, _flags)\n\n#define SUNXI_CCU_MP_HW_WITH_MUX_GATE(_struct, _name, _parents, _reg,\t\\\n\t\t\t\t      _mshift, _mwidth,\t\t\t\\\n\t\t\t\t      _pshift, _pwidth,\t\t\t\\\n\t\t\t\t      _muxshift, _muxwidth,\t\t\\\n\t\t\t\t      _gate, _flags)\t\t\t\\\n\tstruct ccu_mp _struct = {\t\t\t\t\t\\\n\t\t.enable\t= _gate,\t\t\t\t\t\\\n\t\t.m\t= _SUNXI_CCU_DIV(_mshift, _mwidth),\t\t\\\n\t\t.p\t= _SUNXI_CCU_DIV(_pshift, _pwidth),\t\t\\\n\t\t.mux\t= _SUNXI_CCU_MUX(_muxshift, _muxwidth),\t\t\\\n\t\t.common\t= {\t\t\t\t\t\t\\\n\t\t\t.reg\t\t= _reg,\t\t\t\t\\\n\t\t\t.hw.init\t= CLK_HW_INIT_PARENTS_HW(_name, \\\n\t\t\t\t\t\t\t\t _parents, \\\n\t\t\t\t\t\t\t\t &ccu_mp_ops, \\\n\t\t\t\t\t\t\t\t _flags), \\\n\t\t}\t\t\t\t\t\t\t\\\n\t}\n\nstatic inline struct ccu_mp *hw_to_ccu_mp(struct clk_hw *hw)\n{\n\tstruct ccu_common *common = hw_to_ccu_common(hw);\n\n\treturn container_of(common, struct ccu_mp, common);\n}\n\nextern const struct clk_ops ccu_mp_ops;\n\n \n\n#define SUNXI_CCU_MP_MMC_WITH_MUX_GATE(_struct, _name, _parents, _reg,\t\\\n\t\t\t\t       _flags)\t\t\t\t\\\n\tstruct ccu_mp _struct = {\t\t\t\t\t\\\n\t\t.enable\t= BIT(31),\t\t\t\t\t\\\n\t\t.m\t= _SUNXI_CCU_DIV(0, 4),\t\t\t\t\\\n\t\t.p\t= _SUNXI_CCU_DIV(16, 2),\t\t\t\\\n\t\t.mux\t= _SUNXI_CCU_MUX(24, 2),\t\t\t\\\n\t\t.common\t= {\t\t\t\t\t\t\\\n\t\t\t.reg\t\t= _reg,\t\t\t\t\\\n\t\t\t.features\t= CCU_FEATURE_MMC_TIMING_SWITCH, \\\n\t\t\t.hw.init\t= CLK_HW_INIT_PARENTS(_name,\t\\\n\t\t\t\t\t\t\t      _parents, \\\n\t\t\t\t\t\t\t      &ccu_mp_mmc_ops, \\\n\t\t\t\t\t\t\t      CLK_GET_RATE_NOCACHE | \\\n\t\t\t\t\t\t\t      _flags),\t\\\n\t\t}\t\t\t\t\t\t\t\\\n\t}\n\nextern const struct clk_ops ccu_mp_mmc_ops;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}