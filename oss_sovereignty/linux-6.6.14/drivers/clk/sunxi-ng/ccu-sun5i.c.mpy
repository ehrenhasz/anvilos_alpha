{
  "module_name": "ccu-sun5i.c",
  "hash_id": "a5e209f184afa95e3b8365f15d6873906ef929f89a21c75805653a7dfc33b067",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/sunxi-ng/ccu-sun5i.c",
  "human_readable_source": "\n \n\n#include <linux/clk-provider.h>\n#include <linux/io.h>\n#include <linux/of_address.h>\n\n#include \"ccu_common.h\"\n#include \"ccu_reset.h\"\n\n#include \"ccu_div.h\"\n#include \"ccu_gate.h\"\n#include \"ccu_mp.h\"\n#include \"ccu_mult.h\"\n#include \"ccu_nk.h\"\n#include \"ccu_nkm.h\"\n#include \"ccu_nkmp.h\"\n#include \"ccu_nm.h\"\n#include \"ccu_phase.h\"\n#include \"ccu_sdm.h\"\n\n#include \"ccu-sun5i.h\"\n\nstatic struct ccu_nkmp pll_core_clk = {\n\t.enable\t\t= BIT(31),\n\t.n\t\t= _SUNXI_CCU_MULT_OFFSET(8, 5, 0),\n\t.k\t\t= _SUNXI_CCU_MULT(4, 2),\n\t.m\t\t= _SUNXI_CCU_DIV(0, 2),\n\t.p\t\t= _SUNXI_CCU_DIV(16, 2),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x000,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-core\",\n\t\t\t\t\t      \"hosc\",\n\t\t\t\t\t      &ccu_nkmp_ops,\n\t\t\t\t\t      0),\n\t},\n};\n\n \n#define SUN5I_PLL_AUDIO_REG\t0x008\n\nstatic struct ccu_sdm_setting pll_audio_sdm_table[] = {\n\t{ .rate = 22579200, .pattern = 0xc0010d84, .m = 8, .n = 7 },\n\t{ .rate = 24576000, .pattern = 0xc000ac02, .m = 14, .n = 14 },\n};\n\nstatic struct ccu_nm pll_audio_base_clk = {\n\t.enable\t\t= BIT(31),\n\t.n\t\t= _SUNXI_CCU_MULT_OFFSET(8, 7, 0),\n\n\t \n\t.m\t\t= _SUNXI_CCU_DIV_OFFSET(0, 5, 0),\n\t.sdm\t\t= _SUNXI_CCU_SDM(pll_audio_sdm_table, 0,\n\t\t\t\t\t 0x00c, BIT(31)),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x008,\n\t\t.features\t= CCU_FEATURE_SIGMA_DELTA_MOD,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-audio-base\",\n\t\t\t\t\t      \"hosc\",\n\t\t\t\t\t      &ccu_nm_ops,\n\t\t\t\t\t      0),\n\t},\n};\n\nstatic struct ccu_mult pll_video0_clk = {\n\t.enable\t\t= BIT(31),\n\t.mult\t\t= _SUNXI_CCU_MULT_OFFSET_MIN_MAX(0, 7, 0, 9, 127),\n\t.frac\t\t= _SUNXI_CCU_FRAC(BIT(15), BIT(14),\n\t\t\t\t\t  270000000, 297000000),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x010,\n\t\t.features\t= (CCU_FEATURE_FRACTIONAL |\n\t\t\t\t   CCU_FEATURE_ALL_PREDIV),\n\t\t.prediv\t\t= 8,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-video0\",\n\t\t\t\t\t      \"hosc\",\n\t\t\t\t\t      &ccu_mult_ops,\n\t\t\t\t\t      0),\n\t},\n};\n\nstatic struct ccu_nkmp pll_ve_clk = {\n\t.enable\t\t= BIT(31),\n\t.n\t\t= _SUNXI_CCU_MULT_OFFSET(8, 5, 0),\n\t.k\t\t= _SUNXI_CCU_MULT(4, 2),\n\t.m\t\t= _SUNXI_CCU_DIV(0, 2),\n\t.p\t\t= _SUNXI_CCU_DIV(16, 2),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x018,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-ve\",\n\t\t\t\t\t      \"hosc\",\n\t\t\t\t\t      &ccu_nkmp_ops,\n\t\t\t\t\t      0),\n\t},\n};\n\nstatic struct ccu_nk pll_ddr_base_clk = {\n\t.enable\t\t= BIT(31),\n\t.n\t\t= _SUNXI_CCU_MULT_OFFSET(8, 5, 0),\n\t.k\t\t= _SUNXI_CCU_MULT(4, 2),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x020,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-ddr-base\",\n\t\t\t\t\t      \"hosc\",\n\t\t\t\t\t      &ccu_nk_ops,\n\t\t\t\t\t      0),\n\t},\n};\n\nstatic SUNXI_CCU_M(pll_ddr_clk, \"pll-ddr\", \"pll-ddr-base\", 0x020, 0, 2,\n\t\t   CLK_IS_CRITICAL);\n\nstatic struct ccu_div pll_ddr_other_clk = {\n\t.div\t\t= _SUNXI_CCU_DIV_FLAGS(16, 2, CLK_DIVIDER_POWER_OF_TWO),\n\n\t.common\t\t= {\n\t\t.reg\t\t= 0x020,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-ddr-other\", \"pll-ddr-base\",\n\t\t\t\t\t      &ccu_div_ops,\n\t\t\t\t\t      0),\n\t},\n};\n\nstatic struct ccu_nk pll_periph_clk = {\n\t.enable\t\t= BIT(31),\n\t.n\t\t= _SUNXI_CCU_MULT_OFFSET(8, 5, 0),\n\t.k\t\t= _SUNXI_CCU_MULT(4, 2),\n\t.fixed_post_div\t= 2,\n\t.common\t\t= {\n\t\t.reg\t\t= 0x028,\n\t\t.features\t= CCU_FEATURE_FIXED_POSTDIV,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-periph\",\n\t\t\t\t\t      \"hosc\",\n\t\t\t\t\t      &ccu_nk_ops,\n\t\t\t\t\t      0),\n\t},\n};\n\nstatic struct ccu_mult pll_video1_clk = {\n\t.enable\t\t= BIT(31),\n\t.mult\t\t= _SUNXI_CCU_MULT_OFFSET_MIN_MAX(0, 7, 0, 9, 127),\n\t.frac\t\t= _SUNXI_CCU_FRAC(BIT(15), BIT(14),\n\t\t\t\t  270000000, 297000000),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x030,\n\t\t.features\t= (CCU_FEATURE_FRACTIONAL |\n\t\t\t\t   CCU_FEATURE_ALL_PREDIV),\n\t\t.prediv\t\t= 8,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-video1\",\n\t\t\t\t\t      \"hosc\",\n\t\t\t\t\t      &ccu_mult_ops,\n\t\t\t\t\t      0),\n\t},\n};\n\nstatic SUNXI_CCU_GATE(hosc_clk,\t\"hosc\",\t\"osc24M\", 0x050, BIT(0), 0);\n\n#define SUN5I_AHB_REG\t0x054\nstatic const char * const cpu_parents[] = { \"osc32k\", \"hosc\",\n\t\t\t\t\t    \"pll-core\" , \"pll-periph\" };\nstatic const struct ccu_mux_fixed_prediv cpu_predivs[] = {\n\t{ .index = 3, .div = 3, },\n};\nstatic struct ccu_mux cpu_clk = {\n\t.mux\t\t= {\n\t\t.shift\t\t= 16,\n\t\t.width\t\t= 2,\n\t\t.fixed_predivs\t= cpu_predivs,\n\t\t.n_predivs\t= ARRAY_SIZE(cpu_predivs),\n\t},\n\t.common\t\t= {\n\t\t.reg\t\t= 0x054,\n\t\t.features\t= CCU_FEATURE_FIXED_PREDIV,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"cpu\",\n\t\t\t\t\t\t      cpu_parents,\n\t\t\t\t\t\t      &ccu_mux_ops,\n\t\t\t\t\t\t      CLK_SET_RATE_PARENT | CLK_IS_CRITICAL),\n\t}\n};\n\nstatic SUNXI_CCU_M(axi_clk, \"axi\", \"cpu\", 0x054, 0, 2, 0);\n\nstatic const char * const ahb_parents[] = { \"axi\" , \"cpu\", \"pll-periph\" };\nstatic const struct ccu_mux_fixed_prediv ahb_predivs[] = {\n\t{ .index = 2, .div = 2, },\n};\nstatic struct ccu_div ahb_clk = {\n\t.div\t\t= _SUNXI_CCU_DIV_FLAGS(4, 2, CLK_DIVIDER_POWER_OF_TWO),\n\t.mux\t\t= {\n\t\t.shift\t\t= 6,\n\t\t.width\t\t= 2,\n\t\t.fixed_predivs\t= ahb_predivs,\n\t\t.n_predivs\t= ARRAY_SIZE(ahb_predivs),\n\t},\n\n\t.common\t\t= {\n\t\t.reg\t\t= 0x054,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"ahb\",\n\t\t\t\t\t\t      ahb_parents,\n\t\t\t\t\t\t      &ccu_div_ops,\n\t\t\t\t\t\t      0),\n\t},\n};\n\nstatic struct clk_div_table apb0_div_table[] = {\n\t{ .val = 0, .div = 2 },\n\t{ .val = 1, .div = 2 },\n\t{ .val = 2, .div = 4 },\n\t{ .val = 3, .div = 8 },\n\t{   },\n};\nstatic SUNXI_CCU_DIV_TABLE(apb0_clk, \"apb0\", \"ahb\",\n\t\t\t   0x054, 8, 2, apb0_div_table, 0);\n\nstatic const char * const apb1_parents[] = { \"hosc\", \"pll-periph\", \"osc32k\" };\nstatic SUNXI_CCU_MP_WITH_MUX(apb1_clk, \"apb1\", apb1_parents, 0x058,\n\t\t\t     0, 5,\t \n\t\t\t     16, 2,\t \n\t\t\t     24, 2,\t \n\t\t\t     0);\n\nstatic SUNXI_CCU_GATE(axi_dram_clk,\t\"axi-dram\",\t\"axi\",\n\t\t      0x05c, BIT(0), 0);\n\nstatic SUNXI_CCU_GATE(ahb_otg_clk,\t\"ahb-otg\",\t\"ahb\",\n\t\t      0x060, BIT(0), 0);\nstatic SUNXI_CCU_GATE(ahb_ehci_clk,\t\"ahb-ehci\",\t\"ahb\",\n\t\t      0x060, BIT(1), 0);\nstatic SUNXI_CCU_GATE(ahb_ohci_clk,\t\"ahb-ohci\",\t\"ahb\",\n\t\t      0x060, BIT(2), 0);\nstatic SUNXI_CCU_GATE(ahb_ss_clk,\t\"ahb-ss\",\t\"ahb\",\n\t\t      0x060, BIT(5), 0);\nstatic SUNXI_CCU_GATE(ahb_dma_clk,\t\"ahb-dma\",\t\"ahb\",\n\t\t      0x060, BIT(6), 0);\nstatic SUNXI_CCU_GATE(ahb_bist_clk,\t\"ahb-bist\",\t\"ahb\",\n\t\t      0x060, BIT(7), 0);\nstatic SUNXI_CCU_GATE(ahb_mmc0_clk,\t\"ahb-mmc0\",\t\"ahb\",\n\t\t      0x060, BIT(8), 0);\nstatic SUNXI_CCU_GATE(ahb_mmc1_clk,\t\"ahb-mmc1\",\t\"ahb\",\n\t\t      0x060, BIT(9), 0);\nstatic SUNXI_CCU_GATE(ahb_mmc2_clk,\t\"ahb-mmc2\",\t\"ahb\",\n\t\t      0x060, BIT(10), 0);\nstatic SUNXI_CCU_GATE(ahb_nand_clk,\t\"ahb-nand\",\t\"ahb\",\n\t\t      0x060, BIT(13), 0);\nstatic SUNXI_CCU_GATE(ahb_sdram_clk,\t\"ahb-sdram\",\t\"ahb\",\n\t\t      0x060, BIT(14), CLK_IS_CRITICAL);\nstatic SUNXI_CCU_GATE(ahb_emac_clk,\t\"ahb-emac\",\t\"ahb\",\n\t\t      0x060, BIT(17), 0);\nstatic SUNXI_CCU_GATE(ahb_ts_clk,\t\"ahb-ts\",\t\"ahb\",\n\t\t      0x060, BIT(18), 0);\nstatic SUNXI_CCU_GATE(ahb_spi0_clk,\t\"ahb-spi0\",\t\"ahb\",\n\t\t      0x060, BIT(20), 0);\nstatic SUNXI_CCU_GATE(ahb_spi1_clk,\t\"ahb-spi1\",\t\"ahb\",\n\t\t      0x060, BIT(21), 0);\nstatic SUNXI_CCU_GATE(ahb_spi2_clk,\t\"ahb-spi2\",\t\"ahb\",\n\t\t      0x060, BIT(22), 0);\nstatic SUNXI_CCU_GATE(ahb_gps_clk,\t\"ahb-gps\",\t\"ahb\",\n\t\t      0x060, BIT(26), 0);\nstatic SUNXI_CCU_GATE(ahb_hstimer_clk,\t\"ahb-hstimer\",\t\"ahb\",\n\t\t      0x060, BIT(28), 0);\n\nstatic SUNXI_CCU_GATE(ahb_ve_clk,\t\"ahb-ve\",\t\"ahb\",\n\t\t      0x064, BIT(0), 0);\nstatic SUNXI_CCU_GATE(ahb_tve_clk,\t\"ahb-tve\",\t\"ahb\",\n\t\t      0x064, BIT(2), 0);\nstatic SUNXI_CCU_GATE(ahb_lcd_clk,\t\"ahb-lcd\",\t\"ahb\",\n\t\t      0x064, BIT(4), 0);\nstatic SUNXI_CCU_GATE(ahb_csi_clk,\t\"ahb-csi\",\t\"ahb\",\n\t\t      0x064, BIT(8), 0);\nstatic SUNXI_CCU_GATE(ahb_hdmi_clk,\t\"ahb-hdmi\",\t\"ahb\",\n\t\t      0x064, BIT(11), 0);\nstatic SUNXI_CCU_GATE(ahb_de_be_clk,\t\"ahb-de-be\",\t\"ahb\",\n\t\t      0x064, BIT(12), 0);\nstatic SUNXI_CCU_GATE(ahb_de_fe_clk,\t\"ahb-de-fe\",\t\"ahb\",\n\t\t      0x064, BIT(14), 0);\nstatic SUNXI_CCU_GATE(ahb_iep_clk,\t\"ahb-iep\",\t\"ahb\",\n\t\t      0x064, BIT(19), 0);\nstatic SUNXI_CCU_GATE(ahb_gpu_clk,\t\"ahb-gpu\",\t\"ahb\",\n\t\t      0x064, BIT(20), 0);\n\nstatic SUNXI_CCU_GATE(apb0_codec_clk,\t\"apb0-codec\",\t\"apb0\",\n\t\t      0x068, BIT(0), 0);\nstatic SUNXI_CCU_GATE(apb0_spdif_clk,\t\"apb0-spdif\",\t\"apb0\",\n\t\t      0x068, BIT(1), 0);\nstatic SUNXI_CCU_GATE(apb0_i2s_clk,\t\"apb0-i2s\",\t\"apb0\",\n\t\t      0x068, BIT(3), 0);\nstatic SUNXI_CCU_GATE(apb0_pio_clk,\t\"apb0-pio\",\t\"apb0\",\n\t\t      0x068, BIT(5), 0);\nstatic SUNXI_CCU_GATE(apb0_ir_clk,\t\"apb0-ir\",\t\"apb0\",\n\t\t      0x068, BIT(6), 0);\nstatic SUNXI_CCU_GATE(apb0_keypad_clk,\t\"apb0-keypad\",\t\"apb0\",\n\t\t      0x068, BIT(10), 0);\n\nstatic SUNXI_CCU_GATE(apb1_i2c0_clk,\t\"apb1-i2c0\",\t\"apb1\",\n\t\t      0x06c, BIT(0), 0);\nstatic SUNXI_CCU_GATE(apb1_i2c1_clk,\t\"apb1-i2c1\",\t\"apb1\",\n\t\t      0x06c, BIT(1), 0);\nstatic SUNXI_CCU_GATE(apb1_i2c2_clk,\t\"apb1-i2c2\",\t\"apb1\",\n\t\t      0x06c, BIT(2), 0);\nstatic SUNXI_CCU_GATE(apb1_uart0_clk,\t\"apb1-uart0\",\t\"apb1\",\n\t\t      0x06c, BIT(16), 0);\nstatic SUNXI_CCU_GATE(apb1_uart1_clk,\t\"apb1-uart1\",\t\"apb1\",\n\t\t      0x06c, BIT(17), 0);\nstatic SUNXI_CCU_GATE(apb1_uart2_clk,\t\"apb1-uart2\",\t\"apb1\",\n\t\t      0x06c, BIT(18), 0);\nstatic SUNXI_CCU_GATE(apb1_uart3_clk,\t\"apb1-uart3\",\t\"apb1\",\n\t\t      0x06c, BIT(19), 0);\n\nstatic const char * const mod0_default_parents[] = { \"hosc\", \"pll-periph\",\n\t\t\t\t\t\t     \"pll-ddr-other\" };\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(nand_clk, \"nand\", mod0_default_parents, 0x080,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(mmc0_clk, \"mmc0\", mod0_default_parents, 0x088,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(mmc1_clk, \"mmc1\", mod0_default_parents, 0x08c,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(mmc2_clk, \"mmc2\", mod0_default_parents, 0x090,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(ts_clk, \"ts\", mod0_default_parents, 0x098,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(ss_clk, \"ss\", mod0_default_parents, 0x09c,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(spi0_clk, \"spi0\", mod0_default_parents, 0x0a0,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(spi1_clk, \"spi1\", mod0_default_parents, 0x0a4,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(spi2_clk, \"spi2\", mod0_default_parents, 0x0a8,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(ir_clk, \"ir\", mod0_default_parents, 0x0b0,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic const char * const i2s_parents[] = { \"pll-audio-8x\", \"pll-audio-4x\",\n\t\t\t\t\t    \"pll-audio-2x\", \"pll-audio\" };\nstatic SUNXI_CCU_MUX_WITH_GATE(i2s_clk, \"i2s\", i2s_parents,\n\t\t\t       0x0b8, 16, 2, BIT(31), CLK_SET_RATE_PARENT);\n\nstatic const char * const spdif_parents[] = { \"pll-audio-8x\", \"pll-audio-4x\",\n\t\t\t\t\t    \"pll-audio-2x\", \"pll-audio\" };\nstatic SUNXI_CCU_MUX_WITH_GATE(spdif_clk, \"spdif\", spdif_parents,\n\t\t\t       0x0c0, 16, 2, BIT(31), CLK_SET_RATE_PARENT);\n\nstatic const char * const keypad_parents[] = { \"hosc\", \"losc\"};\nstatic const u8 keypad_table[] = { 0, 2 };\nstatic struct ccu_mp keypad_clk = {\n\t.enable\t\t= BIT(31),\n\t.m\t\t= _SUNXI_CCU_DIV(8, 5),\n\t.p\t\t= _SUNXI_CCU_DIV(20, 2),\n\t.mux\t\t= _SUNXI_CCU_MUX_TABLE(24, 2, keypad_table),\n\n\t.common\t\t= {\n\t\t.reg\t\t= 0x0c4,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"keypad\",\n\t\t\t\t\t\t      keypad_parents,\n\t\t\t\t\t\t      &ccu_mp_ops,\n\t\t\t\t\t\t      0),\n\t},\n};\n\nstatic SUNXI_CCU_GATE(usb_ohci_clk,\t\"usb-ohci\",\t\"pll-periph\",\n\t\t      0x0cc, BIT(6), 0);\nstatic SUNXI_CCU_GATE(usb_phy0_clk,\t\"usb-phy0\",\t\"pll-periph\",\n\t\t      0x0cc, BIT(8), 0);\nstatic SUNXI_CCU_GATE(usb_phy1_clk,\t\"usb-phy1\",\t\"pll-periph\",\n\t\t      0x0cc, BIT(9), 0);\n\nstatic const char * const gps_parents[] = { \"hosc\", \"pll-periph\",\n\t\t\t\t\t    \"pll-video1\", \"pll-ve\" };\nstatic SUNXI_CCU_M_WITH_MUX_GATE(gps_clk, \"gps\", gps_parents,\n\t\t\t\t 0x0d0, 0, 3, 24, 2, BIT(31), 0);\n\nstatic SUNXI_CCU_GATE(dram_ve_clk,\t\"dram-ve\",\t\"pll-ddr\",\n\t\t      0x100, BIT(0), 0);\nstatic SUNXI_CCU_GATE(dram_csi_clk,\t\"dram-csi\",\t\"pll-ddr\",\n\t\t      0x100, BIT(1), 0);\nstatic SUNXI_CCU_GATE(dram_ts_clk,\t\"dram-ts\",\t\"pll-ddr\",\n\t\t      0x100, BIT(3), 0);\nstatic SUNXI_CCU_GATE(dram_tve_clk,\t\"dram-tve\",\t\"pll-ddr\",\n\t\t      0x100, BIT(5), 0);\nstatic SUNXI_CCU_GATE(dram_de_fe_clk,\t\"dram-de-fe\",\t\"pll-ddr\",\n\t\t      0x100, BIT(25), 0);\nstatic SUNXI_CCU_GATE(dram_de_be_clk,\t\"dram-de-be\",\t\"pll-ddr\",\n\t\t      0x100, BIT(26), 0);\nstatic SUNXI_CCU_GATE(dram_ace_clk,\t\"dram-ace\",\t\"pll-ddr\",\n\t\t      0x100, BIT(29), 0);\nstatic SUNXI_CCU_GATE(dram_iep_clk,\t\"dram-iep\",\t\"pll-ddr\",\n\t\t      0x100, BIT(31), 0);\n\nstatic const char * const de_parents[] = { \"pll-video0\", \"pll-video1\",\n\t\t\t\t\t   \"pll-ddr-other\" };\nstatic SUNXI_CCU_M_WITH_MUX_GATE(de_be_clk, \"de-be\", de_parents,\n\t\t\t\t 0x104, 0, 4, 24, 2, BIT(31), 0);\n\nstatic SUNXI_CCU_M_WITH_MUX_GATE(de_fe_clk, \"de-fe\", de_parents,\n\t\t\t\t 0x10c, 0, 4, 24, 2, BIT(31), 0);\n\nstatic const char * const tcon_parents[] = { \"pll-video0\", \"pll-video1\",\n\t\t\t\t\t     \"pll-video0-2x\", \"pll-video1-2x\" };\nstatic SUNXI_CCU_MUX_WITH_GATE(tcon_ch0_clk, \"tcon-ch0-sclk\", tcon_parents,\n\t\t\t       0x118, 24, 2, BIT(31), CLK_SET_RATE_PARENT);\n\nstatic SUNXI_CCU_M_WITH_MUX_GATE(tcon_ch1_sclk2_clk, \"tcon-ch1-sclk2\",\n\t\t\t\t tcon_parents,\n\t\t\t\t 0x12c, 0, 4, 24, 2, BIT(31), CLK_SET_RATE_PARENT);\n\nstatic SUNXI_CCU_M_WITH_GATE(tcon_ch1_sclk1_clk, \"tcon-ch1-sclk1\", \"tcon-ch1-sclk2\",\n\t\t\t     0x12c, 11, 1, BIT(15), CLK_SET_RATE_PARENT);\n\nstatic const char * const csi_parents[] = { \"hosc\", \"pll-video0\", \"pll-video1\",\n\t\t\t\t\t    \"pll-video0-2x\", \"pll-video1-2x\" };\nstatic const u8 csi_table[] = { 0, 1, 2, 5, 6 };\nstatic SUNXI_CCU_M_WITH_MUX_TABLE_GATE(csi_clk, \"csi\",\n\t\t\t\t       csi_parents, csi_table,\n\t\t\t\t       0x134, 0, 5, 24, 3, BIT(31), 0);\n\nstatic SUNXI_CCU_GATE(ve_clk,\t\t\"ve\",\t\t\"pll-ve\",\n\t\t      0x13c, BIT(31), CLK_SET_RATE_PARENT);\n\nstatic SUNXI_CCU_GATE(codec_clk,\t\"codec\",\t\"pll-audio\",\n\t\t      0x140, BIT(31), CLK_SET_RATE_PARENT);\n\nstatic SUNXI_CCU_GATE(avs_clk,\t\t\"avs\",\t\t\"hosc\",\n\t\t      0x144, BIT(31), 0);\n\nstatic const char * const hdmi_parents[] = { \"pll-video0\", \"pll-video0-2x\" };\nstatic const u8 hdmi_table[] = { 0, 2 };\nstatic SUNXI_CCU_M_WITH_MUX_TABLE_GATE(hdmi_clk, \"hdmi\",\n\t\t\t\t       hdmi_parents, hdmi_table,\n\t\t\t\t       0x150, 0, 4, 24, 2, BIT(31),\n\t\t\t\t       CLK_SET_RATE_PARENT);\n\nstatic const char * const gpu_parents[] = { \"pll-video0\", \"pll-ve\",\n\t\t\t\t\t    \"pll-ddr-other\", \"pll-video1\",\n\t\t\t\t\t    \"pll-video1-2x\" };\nstatic SUNXI_CCU_M_WITH_MUX_GATE(gpu_clk, \"gpu\", gpu_parents,\n\t\t\t\t 0x154, 0, 4, 24, 3, BIT(31), 0);\n\nstatic const char * const mbus_parents[] = { \"hosc\", \"pll-periph\", \"pll-ddr\" };\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(mbus_clk, \"mbus\", mbus_parents,\n\t\t\t\t  0x15c, 0, 4, 16, 2, 24, 2, BIT(31), CLK_IS_CRITICAL);\n\nstatic SUNXI_CCU_GATE(iep_clk,\t\t\"iep\",\t\t\"de-be\",\n\t\t      0x160, BIT(31), 0);\n\nstatic struct ccu_common *sun5i_a10s_ccu_clks[] = {\n\t&hosc_clk.common,\n\t&pll_core_clk.common,\n\t&pll_audio_base_clk.common,\n\t&pll_video0_clk.common,\n\t&pll_ve_clk.common,\n\t&pll_ddr_base_clk.common,\n\t&pll_ddr_clk.common,\n\t&pll_ddr_other_clk.common,\n\t&pll_periph_clk.common,\n\t&pll_video1_clk.common,\n\t&cpu_clk.common,\n\t&axi_clk.common,\n\t&ahb_clk.common,\n\t&apb0_clk.common,\n\t&apb1_clk.common,\n\t&axi_dram_clk.common,\n\t&ahb_otg_clk.common,\n\t&ahb_ehci_clk.common,\n\t&ahb_ohci_clk.common,\n\t&ahb_ss_clk.common,\n\t&ahb_dma_clk.common,\n\t&ahb_bist_clk.common,\n\t&ahb_mmc0_clk.common,\n\t&ahb_mmc1_clk.common,\n\t&ahb_mmc2_clk.common,\n\t&ahb_nand_clk.common,\n\t&ahb_sdram_clk.common,\n\t&ahb_emac_clk.common,\n\t&ahb_ts_clk.common,\n\t&ahb_spi0_clk.common,\n\t&ahb_spi1_clk.common,\n\t&ahb_spi2_clk.common,\n\t&ahb_gps_clk.common,\n\t&ahb_hstimer_clk.common,\n\t&ahb_ve_clk.common,\n\t&ahb_tve_clk.common,\n\t&ahb_lcd_clk.common,\n\t&ahb_csi_clk.common,\n\t&ahb_hdmi_clk.common,\n\t&ahb_de_be_clk.common,\n\t&ahb_de_fe_clk.common,\n\t&ahb_iep_clk.common,\n\t&ahb_gpu_clk.common,\n\t&apb0_codec_clk.common,\n\t&apb0_spdif_clk.common,\n\t&apb0_i2s_clk.common,\n\t&apb0_pio_clk.common,\n\t&apb0_ir_clk.common,\n\t&apb0_keypad_clk.common,\n\t&apb1_i2c0_clk.common,\n\t&apb1_i2c1_clk.common,\n\t&apb1_i2c2_clk.common,\n\t&apb1_uart0_clk.common,\n\t&apb1_uart1_clk.common,\n\t&apb1_uart2_clk.common,\n\t&apb1_uart3_clk.common,\n\t&nand_clk.common,\n\t&mmc0_clk.common,\n\t&mmc1_clk.common,\n\t&mmc2_clk.common,\n\t&ts_clk.common,\n\t&ss_clk.common,\n\t&spi0_clk.common,\n\t&spi1_clk.common,\n\t&spi2_clk.common,\n\t&ir_clk.common,\n\t&i2s_clk.common,\n\t&spdif_clk.common,\n\t&keypad_clk.common,\n\t&usb_ohci_clk.common,\n\t&usb_phy0_clk.common,\n\t&usb_phy1_clk.common,\n\t&gps_clk.common,\n\t&dram_ve_clk.common,\n\t&dram_csi_clk.common,\n\t&dram_ts_clk.common,\n\t&dram_tve_clk.common,\n\t&dram_de_fe_clk.common,\n\t&dram_de_be_clk.common,\n\t&dram_ace_clk.common,\n\t&dram_iep_clk.common,\n\t&de_be_clk.common,\n\t&de_fe_clk.common,\n\t&tcon_ch0_clk.common,\n\t&tcon_ch1_sclk2_clk.common,\n\t&tcon_ch1_sclk1_clk.common,\n\t&csi_clk.common,\n\t&ve_clk.common,\n\t&codec_clk.common,\n\t&avs_clk.common,\n\t&hdmi_clk.common,\n\t&gpu_clk.common,\n\t&mbus_clk.common,\n\t&iep_clk.common,\n};\n\nstatic const struct clk_hw *clk_parent_pll_audio[] = {\n\t&pll_audio_base_clk.common.hw\n};\n\n \nstatic CLK_FIXED_FACTOR_HWS(pll_audio_clk, \"pll-audio\",\n\t\t\t    clk_parent_pll_audio,\n\t\t\t    1, 1, CLK_SET_RATE_PARENT);\nstatic CLK_FIXED_FACTOR_HWS(pll_audio_2x_clk, \"pll-audio-2x\",\n\t\t\t    clk_parent_pll_audio,\n\t\t\t    2, 1, CLK_SET_RATE_PARENT);\nstatic CLK_FIXED_FACTOR_HWS(pll_audio_4x_clk, \"pll-audio-4x\",\n\t\t\t    clk_parent_pll_audio,\n\t\t\t    1, 1, CLK_SET_RATE_PARENT);\nstatic CLK_FIXED_FACTOR_HWS(pll_audio_8x_clk, \"pll-audio-8x\",\n\t\t\t    clk_parent_pll_audio,\n\t\t\t    1, 2, CLK_SET_RATE_PARENT);\nstatic CLK_FIXED_FACTOR_HW(pll_video0_2x_clk, \"pll-video0-2x\",\n\t\t\t   &pll_video0_clk.common.hw,\n\t\t\t   1, 2, CLK_SET_RATE_PARENT);\nstatic CLK_FIXED_FACTOR_HW(pll_video1_2x_clk, \"pll-video1-2x\",\n\t\t\t   &pll_video1_clk.common.hw,\n\t\t\t   1, 2, CLK_SET_RATE_PARENT);\n\nstatic struct clk_hw_onecell_data sun5i_a10s_hw_clks = {\n\t.hws\t= {\n\t\t[CLK_HOSC]\t\t= &hosc_clk.common.hw,\n\t\t[CLK_PLL_CORE]\t\t= &pll_core_clk.common.hw,\n\t\t[CLK_PLL_AUDIO_BASE]\t= &pll_audio_base_clk.common.hw,\n\t\t[CLK_PLL_AUDIO]\t\t= &pll_audio_clk.hw,\n\t\t[CLK_PLL_AUDIO_2X]\t= &pll_audio_2x_clk.hw,\n\t\t[CLK_PLL_AUDIO_4X]\t= &pll_audio_4x_clk.hw,\n\t\t[CLK_PLL_AUDIO_8X]\t= &pll_audio_8x_clk.hw,\n\t\t[CLK_PLL_VIDEO0]\t= &pll_video0_clk.common.hw,\n\t\t[CLK_PLL_VIDEO0_2X]\t= &pll_video0_2x_clk.hw,\n\t\t[CLK_PLL_VE]\t\t= &pll_ve_clk.common.hw,\n\t\t[CLK_PLL_DDR_BASE]\t= &pll_ddr_base_clk.common.hw,\n\t\t[CLK_PLL_DDR]\t\t= &pll_ddr_clk.common.hw,\n\t\t[CLK_PLL_DDR_OTHER]\t= &pll_ddr_other_clk.common.hw,\n\t\t[CLK_PLL_PERIPH]\t= &pll_periph_clk.common.hw,\n\t\t[CLK_PLL_VIDEO1]\t= &pll_video1_clk.common.hw,\n\t\t[CLK_PLL_VIDEO1_2X]\t= &pll_video1_2x_clk.hw,\n\t\t[CLK_CPU]\t\t= &cpu_clk.common.hw,\n\t\t[CLK_AXI]\t\t= &axi_clk.common.hw,\n\t\t[CLK_AHB]\t\t= &ahb_clk.common.hw,\n\t\t[CLK_APB0]\t\t= &apb0_clk.common.hw,\n\t\t[CLK_APB1]\t\t= &apb1_clk.common.hw,\n\t\t[CLK_DRAM_AXI]\t\t= &axi_dram_clk.common.hw,\n\t\t[CLK_AHB_OTG]\t\t= &ahb_otg_clk.common.hw,\n\t\t[CLK_AHB_EHCI]\t\t= &ahb_ehci_clk.common.hw,\n\t\t[CLK_AHB_OHCI]\t\t= &ahb_ohci_clk.common.hw,\n\t\t[CLK_AHB_SS]\t\t= &ahb_ss_clk.common.hw,\n\t\t[CLK_AHB_DMA]\t\t= &ahb_dma_clk.common.hw,\n\t\t[CLK_AHB_BIST]\t\t= &ahb_bist_clk.common.hw,\n\t\t[CLK_AHB_MMC0]\t\t= &ahb_mmc0_clk.common.hw,\n\t\t[CLK_AHB_MMC1]\t\t= &ahb_mmc1_clk.common.hw,\n\t\t[CLK_AHB_MMC2]\t\t= &ahb_mmc2_clk.common.hw,\n\t\t[CLK_AHB_NAND]\t\t= &ahb_nand_clk.common.hw,\n\t\t[CLK_AHB_SDRAM]\t\t= &ahb_sdram_clk.common.hw,\n\t\t[CLK_AHB_EMAC]\t\t= &ahb_emac_clk.common.hw,\n\t\t[CLK_AHB_TS]\t\t= &ahb_ts_clk.common.hw,\n\t\t[CLK_AHB_SPI0]\t\t= &ahb_spi0_clk.common.hw,\n\t\t[CLK_AHB_SPI1]\t\t= &ahb_spi1_clk.common.hw,\n\t\t[CLK_AHB_SPI2]\t\t= &ahb_spi2_clk.common.hw,\n\t\t[CLK_AHB_GPS]\t\t= &ahb_gps_clk.common.hw,\n\t\t[CLK_AHB_HSTIMER]\t= &ahb_hstimer_clk.common.hw,\n\t\t[CLK_AHB_VE]\t\t= &ahb_ve_clk.common.hw,\n\t\t[CLK_AHB_TVE]\t\t= &ahb_tve_clk.common.hw,\n\t\t[CLK_AHB_LCD]\t\t= &ahb_lcd_clk.common.hw,\n\t\t[CLK_AHB_CSI]\t\t= &ahb_csi_clk.common.hw,\n\t\t[CLK_AHB_HDMI]\t\t= &ahb_hdmi_clk.common.hw,\n\t\t[CLK_AHB_DE_BE]\t\t= &ahb_de_be_clk.common.hw,\n\t\t[CLK_AHB_DE_FE]\t\t= &ahb_de_fe_clk.common.hw,\n\t\t[CLK_AHB_IEP]\t\t= &ahb_iep_clk.common.hw,\n\t\t[CLK_AHB_GPU]\t\t= &ahb_gpu_clk.common.hw,\n\t\t[CLK_APB0_CODEC]\t= &apb0_codec_clk.common.hw,\n\t\t[CLK_APB0_I2S]\t\t= &apb0_i2s_clk.common.hw,\n\t\t[CLK_APB0_PIO]\t\t= &apb0_pio_clk.common.hw,\n\t\t[CLK_APB0_IR]\t\t= &apb0_ir_clk.common.hw,\n\t\t[CLK_APB0_KEYPAD]\t= &apb0_keypad_clk.common.hw,\n\t\t[CLK_APB1_I2C0]\t\t= &apb1_i2c0_clk.common.hw,\n\t\t[CLK_APB1_I2C1]\t\t= &apb1_i2c1_clk.common.hw,\n\t\t[CLK_APB1_I2C2]\t\t= &apb1_i2c2_clk.common.hw,\n\t\t[CLK_APB1_UART0]\t= &apb1_uart0_clk.common.hw,\n\t\t[CLK_APB1_UART1]\t= &apb1_uart1_clk.common.hw,\n\t\t[CLK_APB1_UART2]\t= &apb1_uart2_clk.common.hw,\n\t\t[CLK_APB1_UART3]\t= &apb1_uart3_clk.common.hw,\n\t\t[CLK_NAND]\t\t= &nand_clk.common.hw,\n\t\t[CLK_MMC0]\t\t= &mmc0_clk.common.hw,\n\t\t[CLK_MMC1]\t\t= &mmc1_clk.common.hw,\n\t\t[CLK_MMC2]\t\t= &mmc2_clk.common.hw,\n\t\t[CLK_TS]\t\t= &ts_clk.common.hw,\n\t\t[CLK_SS]\t\t= &ss_clk.common.hw,\n\t\t[CLK_SPI0]\t\t= &spi0_clk.common.hw,\n\t\t[CLK_SPI1]\t\t= &spi1_clk.common.hw,\n\t\t[CLK_SPI2]\t\t= &spi2_clk.common.hw,\n\t\t[CLK_IR]\t\t= &ir_clk.common.hw,\n\t\t[CLK_I2S]\t\t= &i2s_clk.common.hw,\n\t\t[CLK_KEYPAD]\t\t= &keypad_clk.common.hw,\n\t\t[CLK_USB_OHCI]\t\t= &usb_ohci_clk.common.hw,\n\t\t[CLK_USB_PHY0]\t\t= &usb_phy0_clk.common.hw,\n\t\t[CLK_USB_PHY1]\t\t= &usb_phy1_clk.common.hw,\n\t\t[CLK_GPS]\t\t= &gps_clk.common.hw,\n\t\t[CLK_DRAM_VE]\t\t= &dram_ve_clk.common.hw,\n\t\t[CLK_DRAM_CSI]\t\t= &dram_csi_clk.common.hw,\n\t\t[CLK_DRAM_TS]\t\t= &dram_ts_clk.common.hw,\n\t\t[CLK_DRAM_TVE]\t\t= &dram_tve_clk.common.hw,\n\t\t[CLK_DRAM_DE_FE]\t= &dram_de_fe_clk.common.hw,\n\t\t[CLK_DRAM_DE_BE]\t= &dram_de_be_clk.common.hw,\n\t\t[CLK_DRAM_ACE]\t\t= &dram_ace_clk.common.hw,\n\t\t[CLK_DRAM_IEP]\t\t= &dram_iep_clk.common.hw,\n\t\t[CLK_DE_BE]\t\t= &de_be_clk.common.hw,\n\t\t[CLK_DE_FE]\t\t= &de_fe_clk.common.hw,\n\t\t[CLK_TCON_CH0]\t\t= &tcon_ch0_clk.common.hw,\n\t\t[CLK_TCON_CH1_SCLK]\t= &tcon_ch1_sclk2_clk.common.hw,\n\t\t[CLK_TCON_CH1]\t\t= &tcon_ch1_sclk1_clk.common.hw,\n\t\t[CLK_CSI]\t\t= &csi_clk.common.hw,\n\t\t[CLK_VE]\t\t= &ve_clk.common.hw,\n\t\t[CLK_CODEC]\t\t= &codec_clk.common.hw,\n\t\t[CLK_AVS]\t\t= &avs_clk.common.hw,\n\t\t[CLK_HDMI]\t\t= &hdmi_clk.common.hw,\n\t\t[CLK_GPU]\t\t= &gpu_clk.common.hw,\n\t\t[CLK_MBUS]\t\t= &mbus_clk.common.hw,\n\t\t[CLK_IEP]\t\t= &iep_clk.common.hw,\n\t},\n\t.num\t= CLK_NUMBER,\n};\n\nstatic struct ccu_reset_map sun5i_a10s_ccu_resets[] = {\n\t[RST_USB_PHY0]\t\t=  { 0x0cc, BIT(0) },\n\t[RST_USB_PHY1]\t\t=  { 0x0cc, BIT(1) },\n\n\t[RST_GPS]\t\t=  { 0x0d0, BIT(30) },\n\n\t[RST_DE_BE]\t\t=  { 0x104, BIT(30) },\n\n\t[RST_DE_FE]\t\t=  { 0x10c, BIT(30) },\n\n\t[RST_TVE]\t\t=  { 0x118, BIT(29) },\n\t[RST_LCD]\t\t=  { 0x118, BIT(30) },\n\n\t[RST_CSI]\t\t=  { 0x134, BIT(30) },\n\n\t[RST_VE]\t\t=  { 0x13c, BIT(0) },\n\n\t[RST_GPU]\t\t=  { 0x154, BIT(30) },\n\n\t[RST_IEP]\t\t=  { 0x160, BIT(30) },\n};\n\nstatic const struct sunxi_ccu_desc sun5i_a10s_ccu_desc = {\n\t.ccu_clks\t= sun5i_a10s_ccu_clks,\n\t.num_ccu_clks\t= ARRAY_SIZE(sun5i_a10s_ccu_clks),\n\n\t.hw_clks\t= &sun5i_a10s_hw_clks,\n\n\t.resets\t\t= sun5i_a10s_ccu_resets,\n\t.num_resets\t= ARRAY_SIZE(sun5i_a10s_ccu_resets),\n};\n\n \nstatic struct clk_hw_onecell_data sun5i_a13_hw_clks = {\n\t.hws\t= {\n\t\t[CLK_HOSC]\t\t= &hosc_clk.common.hw,\n\t\t[CLK_PLL_CORE]\t\t= &pll_core_clk.common.hw,\n\t\t[CLK_PLL_AUDIO_BASE]\t= &pll_audio_base_clk.common.hw,\n\t\t[CLK_PLL_AUDIO]\t\t= &pll_audio_clk.hw,\n\t\t[CLK_PLL_AUDIO_2X]\t= &pll_audio_2x_clk.hw,\n\t\t[CLK_PLL_AUDIO_4X]\t= &pll_audio_4x_clk.hw,\n\t\t[CLK_PLL_AUDIO_8X]\t= &pll_audio_8x_clk.hw,\n\t\t[CLK_PLL_VIDEO0]\t= &pll_video0_clk.common.hw,\n\t\t[CLK_PLL_VIDEO0_2X]\t= &pll_video0_2x_clk.hw,\n\t\t[CLK_PLL_VE]\t\t= &pll_ve_clk.common.hw,\n\t\t[CLK_PLL_DDR_BASE]\t= &pll_ddr_base_clk.common.hw,\n\t\t[CLK_PLL_DDR]\t\t= &pll_ddr_clk.common.hw,\n\t\t[CLK_PLL_DDR_OTHER]\t= &pll_ddr_other_clk.common.hw,\n\t\t[CLK_PLL_PERIPH]\t= &pll_periph_clk.common.hw,\n\t\t[CLK_PLL_VIDEO1]\t= &pll_video1_clk.common.hw,\n\t\t[CLK_PLL_VIDEO1_2X]\t= &pll_video1_2x_clk.hw,\n\t\t[CLK_CPU]\t\t= &cpu_clk.common.hw,\n\t\t[CLK_AXI]\t\t= &axi_clk.common.hw,\n\t\t[CLK_AHB]\t\t= &ahb_clk.common.hw,\n\t\t[CLK_APB0]\t\t= &apb0_clk.common.hw,\n\t\t[CLK_APB1]\t\t= &apb1_clk.common.hw,\n\t\t[CLK_DRAM_AXI]\t\t= &axi_dram_clk.common.hw,\n\t\t[CLK_AHB_OTG]\t\t= &ahb_otg_clk.common.hw,\n\t\t[CLK_AHB_EHCI]\t\t= &ahb_ehci_clk.common.hw,\n\t\t[CLK_AHB_OHCI]\t\t= &ahb_ohci_clk.common.hw,\n\t\t[CLK_AHB_SS]\t\t= &ahb_ss_clk.common.hw,\n\t\t[CLK_AHB_DMA]\t\t= &ahb_dma_clk.common.hw,\n\t\t[CLK_AHB_BIST]\t\t= &ahb_bist_clk.common.hw,\n\t\t[CLK_AHB_MMC0]\t\t= &ahb_mmc0_clk.common.hw,\n\t\t[CLK_AHB_MMC1]\t\t= &ahb_mmc1_clk.common.hw,\n\t\t[CLK_AHB_MMC2]\t\t= &ahb_mmc2_clk.common.hw,\n\t\t[CLK_AHB_NAND]\t\t= &ahb_nand_clk.common.hw,\n\t\t[CLK_AHB_SDRAM]\t\t= &ahb_sdram_clk.common.hw,\n\t\t[CLK_AHB_EMAC]\t\t= &ahb_emac_clk.common.hw,\n\t\t[CLK_AHB_SPI0]\t\t= &ahb_spi0_clk.common.hw,\n\t\t[CLK_AHB_SPI1]\t\t= &ahb_spi1_clk.common.hw,\n\t\t[CLK_AHB_SPI2]\t\t= &ahb_spi2_clk.common.hw,\n\t\t[CLK_AHB_HSTIMER]\t= &ahb_hstimer_clk.common.hw,\n\t\t[CLK_AHB_VE]\t\t= &ahb_ve_clk.common.hw,\n\t\t[CLK_AHB_TVE]\t\t= &ahb_tve_clk.common.hw,\n\t\t[CLK_AHB_LCD]\t\t= &ahb_lcd_clk.common.hw,\n\t\t[CLK_AHB_CSI]\t\t= &ahb_csi_clk.common.hw,\n\t\t[CLK_AHB_DE_BE]\t\t= &ahb_de_be_clk.common.hw,\n\t\t[CLK_AHB_DE_FE]\t\t= &ahb_de_fe_clk.common.hw,\n\t\t[CLK_AHB_IEP]\t\t= &ahb_iep_clk.common.hw,\n\t\t[CLK_AHB_GPU]\t\t= &ahb_gpu_clk.common.hw,\n\t\t[CLK_APB0_CODEC]\t= &apb0_codec_clk.common.hw,\n\t\t[CLK_APB0_PIO]\t\t= &apb0_pio_clk.common.hw,\n\t\t[CLK_APB0_IR]\t\t= &apb0_ir_clk.common.hw,\n\t\t[CLK_APB1_I2C0]\t\t= &apb1_i2c0_clk.common.hw,\n\t\t[CLK_APB1_I2C1]\t\t= &apb1_i2c1_clk.common.hw,\n\t\t[CLK_APB1_I2C2]\t\t= &apb1_i2c2_clk.common.hw,\n\t\t[CLK_APB1_UART0]\t= &apb1_uart0_clk.common.hw,\n\t\t[CLK_APB1_UART1]\t= &apb1_uart1_clk.common.hw,\n\t\t[CLK_APB1_UART2]\t= &apb1_uart2_clk.common.hw,\n\t\t[CLK_APB1_UART3]\t= &apb1_uart3_clk.common.hw,\n\t\t[CLK_NAND]\t\t= &nand_clk.common.hw,\n\t\t[CLK_MMC0]\t\t= &mmc0_clk.common.hw,\n\t\t[CLK_MMC1]\t\t= &mmc1_clk.common.hw,\n\t\t[CLK_MMC2]\t\t= &mmc2_clk.common.hw,\n\t\t[CLK_SS]\t\t= &ss_clk.common.hw,\n\t\t[CLK_SPI0]\t\t= &spi0_clk.common.hw,\n\t\t[CLK_SPI1]\t\t= &spi1_clk.common.hw,\n\t\t[CLK_SPI2]\t\t= &spi2_clk.common.hw,\n\t\t[CLK_IR]\t\t= &ir_clk.common.hw,\n\t\t[CLK_USB_OHCI]\t\t= &usb_ohci_clk.common.hw,\n\t\t[CLK_USB_PHY0]\t\t= &usb_phy0_clk.common.hw,\n\t\t[CLK_USB_PHY1]\t\t= &usb_phy1_clk.common.hw,\n\t\t[CLK_DRAM_VE]\t\t= &dram_ve_clk.common.hw,\n\t\t[CLK_DRAM_CSI]\t\t= &dram_csi_clk.common.hw,\n\t\t[CLK_DRAM_TVE]\t\t= &dram_tve_clk.common.hw,\n\t\t[CLK_DRAM_DE_FE]\t= &dram_de_fe_clk.common.hw,\n\t\t[CLK_DRAM_DE_BE]\t= &dram_de_be_clk.common.hw,\n\t\t[CLK_DRAM_ACE]\t\t= &dram_ace_clk.common.hw,\n\t\t[CLK_DRAM_IEP]\t\t= &dram_iep_clk.common.hw,\n\t\t[CLK_DE_BE]\t\t= &de_be_clk.common.hw,\n\t\t[CLK_DE_FE]\t\t= &de_fe_clk.common.hw,\n\t\t[CLK_TCON_CH0]\t\t= &tcon_ch0_clk.common.hw,\n\t\t[CLK_TCON_CH1_SCLK]\t= &tcon_ch1_sclk2_clk.common.hw,\n\t\t[CLK_TCON_CH1]\t\t= &tcon_ch1_sclk1_clk.common.hw,\n\t\t[CLK_CSI]\t\t= &csi_clk.common.hw,\n\t\t[CLK_VE]\t\t= &ve_clk.common.hw,\n\t\t[CLK_CODEC]\t\t= &codec_clk.common.hw,\n\t\t[CLK_AVS]\t\t= &avs_clk.common.hw,\n\t\t[CLK_GPU]\t\t= &gpu_clk.common.hw,\n\t\t[CLK_MBUS]\t\t= &mbus_clk.common.hw,\n\t\t[CLK_IEP]\t\t= &iep_clk.common.hw,\n\t},\n\t.num\t= CLK_NUMBER,\n};\n\nstatic const struct sunxi_ccu_desc sun5i_a13_ccu_desc = {\n\t.ccu_clks\t= sun5i_a10s_ccu_clks,\n\t.num_ccu_clks\t= ARRAY_SIZE(sun5i_a10s_ccu_clks),\n\n\t.hw_clks\t= &sun5i_a13_hw_clks,\n\n\t.resets\t\t= sun5i_a10s_ccu_resets,\n\t.num_resets\t= ARRAY_SIZE(sun5i_a10s_ccu_resets),\n};\n\n \nstatic struct clk_hw_onecell_data sun5i_gr8_hw_clks = {\n\t.hws\t= {\n\t\t[CLK_HOSC]\t\t= &hosc_clk.common.hw,\n\t\t[CLK_PLL_CORE]\t\t= &pll_core_clk.common.hw,\n\t\t[CLK_PLL_AUDIO_BASE]\t= &pll_audio_base_clk.common.hw,\n\t\t[CLK_PLL_AUDIO]\t\t= &pll_audio_clk.hw,\n\t\t[CLK_PLL_AUDIO_2X]\t= &pll_audio_2x_clk.hw,\n\t\t[CLK_PLL_AUDIO_4X]\t= &pll_audio_4x_clk.hw,\n\t\t[CLK_PLL_AUDIO_8X]\t= &pll_audio_8x_clk.hw,\n\t\t[CLK_PLL_VIDEO0]\t= &pll_video0_clk.common.hw,\n\t\t[CLK_PLL_VIDEO0_2X]\t= &pll_video0_2x_clk.hw,\n\t\t[CLK_PLL_VE]\t\t= &pll_ve_clk.common.hw,\n\t\t[CLK_PLL_DDR_BASE]\t= &pll_ddr_base_clk.common.hw,\n\t\t[CLK_PLL_DDR]\t\t= &pll_ddr_clk.common.hw,\n\t\t[CLK_PLL_DDR_OTHER]\t= &pll_ddr_other_clk.common.hw,\n\t\t[CLK_PLL_PERIPH]\t= &pll_periph_clk.common.hw,\n\t\t[CLK_PLL_VIDEO1]\t= &pll_video1_clk.common.hw,\n\t\t[CLK_PLL_VIDEO1_2X]\t= &pll_video1_2x_clk.hw,\n\t\t[CLK_CPU]\t\t= &cpu_clk.common.hw,\n\t\t[CLK_AXI]\t\t= &axi_clk.common.hw,\n\t\t[CLK_AHB]\t\t= &ahb_clk.common.hw,\n\t\t[CLK_APB0]\t\t= &apb0_clk.common.hw,\n\t\t[CLK_APB1]\t\t= &apb1_clk.common.hw,\n\t\t[CLK_DRAM_AXI]\t\t= &axi_dram_clk.common.hw,\n\t\t[CLK_AHB_OTG]\t\t= &ahb_otg_clk.common.hw,\n\t\t[CLK_AHB_EHCI]\t\t= &ahb_ehci_clk.common.hw,\n\t\t[CLK_AHB_OHCI]\t\t= &ahb_ohci_clk.common.hw,\n\t\t[CLK_AHB_SS]\t\t= &ahb_ss_clk.common.hw,\n\t\t[CLK_AHB_DMA]\t\t= &ahb_dma_clk.common.hw,\n\t\t[CLK_AHB_BIST]\t\t= &ahb_bist_clk.common.hw,\n\t\t[CLK_AHB_MMC0]\t\t= &ahb_mmc0_clk.common.hw,\n\t\t[CLK_AHB_MMC1]\t\t= &ahb_mmc1_clk.common.hw,\n\t\t[CLK_AHB_MMC2]\t\t= &ahb_mmc2_clk.common.hw,\n\t\t[CLK_AHB_NAND]\t\t= &ahb_nand_clk.common.hw,\n\t\t[CLK_AHB_SDRAM]\t\t= &ahb_sdram_clk.common.hw,\n\t\t[CLK_AHB_EMAC]\t\t= &ahb_emac_clk.common.hw,\n\t\t[CLK_AHB_TS]\t\t= &ahb_ts_clk.common.hw,\n\t\t[CLK_AHB_SPI0]\t\t= &ahb_spi0_clk.common.hw,\n\t\t[CLK_AHB_SPI1]\t\t= &ahb_spi1_clk.common.hw,\n\t\t[CLK_AHB_SPI2]\t\t= &ahb_spi2_clk.common.hw,\n\t\t[CLK_AHB_GPS]\t\t= &ahb_gps_clk.common.hw,\n\t\t[CLK_AHB_HSTIMER]\t= &ahb_hstimer_clk.common.hw,\n\t\t[CLK_AHB_VE]\t\t= &ahb_ve_clk.common.hw,\n\t\t[CLK_AHB_TVE]\t\t= &ahb_tve_clk.common.hw,\n\t\t[CLK_AHB_LCD]\t\t= &ahb_lcd_clk.common.hw,\n\t\t[CLK_AHB_CSI]\t\t= &ahb_csi_clk.common.hw,\n\t\t[CLK_AHB_DE_BE]\t\t= &ahb_de_be_clk.common.hw,\n\t\t[CLK_AHB_DE_FE]\t\t= &ahb_de_fe_clk.common.hw,\n\t\t[CLK_AHB_IEP]\t\t= &ahb_iep_clk.common.hw,\n\t\t[CLK_AHB_GPU]\t\t= &ahb_gpu_clk.common.hw,\n\t\t[CLK_APB0_CODEC]\t= &apb0_codec_clk.common.hw,\n\t\t[CLK_APB0_SPDIF]\t= &apb0_spdif_clk.common.hw,\n\t\t[CLK_APB0_I2S]\t\t= &apb0_i2s_clk.common.hw,\n\t\t[CLK_APB0_PIO]\t\t= &apb0_pio_clk.common.hw,\n\t\t[CLK_APB0_IR]\t\t= &apb0_ir_clk.common.hw,\n\t\t[CLK_APB1_I2C0]\t\t= &apb1_i2c0_clk.common.hw,\n\t\t[CLK_APB1_I2C1]\t\t= &apb1_i2c1_clk.common.hw,\n\t\t[CLK_APB1_I2C2]\t\t= &apb1_i2c2_clk.common.hw,\n\t\t[CLK_APB1_UART0]\t= &apb1_uart0_clk.common.hw,\n\t\t[CLK_APB1_UART1]\t= &apb1_uart1_clk.common.hw,\n\t\t[CLK_APB1_UART2]\t= &apb1_uart2_clk.common.hw,\n\t\t[CLK_APB1_UART3]\t= &apb1_uart3_clk.common.hw,\n\t\t[CLK_NAND]\t\t= &nand_clk.common.hw,\n\t\t[CLK_MMC0]\t\t= &mmc0_clk.common.hw,\n\t\t[CLK_MMC1]\t\t= &mmc1_clk.common.hw,\n\t\t[CLK_MMC2]\t\t= &mmc2_clk.common.hw,\n\t\t[CLK_TS]\t\t= &ts_clk.common.hw,\n\t\t[CLK_SS]\t\t= &ss_clk.common.hw,\n\t\t[CLK_SPI0]\t\t= &spi0_clk.common.hw,\n\t\t[CLK_SPI1]\t\t= &spi1_clk.common.hw,\n\t\t[CLK_SPI2]\t\t= &spi2_clk.common.hw,\n\t\t[CLK_IR]\t\t= &ir_clk.common.hw,\n\t\t[CLK_I2S]\t\t= &i2s_clk.common.hw,\n\t\t[CLK_SPDIF]\t\t= &spdif_clk.common.hw,\n\t\t[CLK_USB_OHCI]\t\t= &usb_ohci_clk.common.hw,\n\t\t[CLK_USB_PHY0]\t\t= &usb_phy0_clk.common.hw,\n\t\t[CLK_USB_PHY1]\t\t= &usb_phy1_clk.common.hw,\n\t\t[CLK_GPS]\t\t= &gps_clk.common.hw,\n\t\t[CLK_DRAM_VE]\t\t= &dram_ve_clk.common.hw,\n\t\t[CLK_DRAM_CSI]\t\t= &dram_csi_clk.common.hw,\n\t\t[CLK_DRAM_TS]\t\t= &dram_ts_clk.common.hw,\n\t\t[CLK_DRAM_TVE]\t\t= &dram_tve_clk.common.hw,\n\t\t[CLK_DRAM_DE_FE]\t= &dram_de_fe_clk.common.hw,\n\t\t[CLK_DRAM_DE_BE]\t= &dram_de_be_clk.common.hw,\n\t\t[CLK_DRAM_ACE]\t\t= &dram_ace_clk.common.hw,\n\t\t[CLK_DRAM_IEP]\t\t= &dram_iep_clk.common.hw,\n\t\t[CLK_DE_BE]\t\t= &de_be_clk.common.hw,\n\t\t[CLK_DE_FE]\t\t= &de_fe_clk.common.hw,\n\t\t[CLK_TCON_CH0]\t\t= &tcon_ch0_clk.common.hw,\n\t\t[CLK_TCON_CH1_SCLK]\t= &tcon_ch1_sclk2_clk.common.hw,\n\t\t[CLK_TCON_CH1]\t\t= &tcon_ch1_sclk1_clk.common.hw,\n\t\t[CLK_CSI]\t\t= &csi_clk.common.hw,\n\t\t[CLK_VE]\t\t= &ve_clk.common.hw,\n\t\t[CLK_CODEC]\t\t= &codec_clk.common.hw,\n\t\t[CLK_AVS]\t\t= &avs_clk.common.hw,\n\t\t[CLK_GPU]\t\t= &gpu_clk.common.hw,\n\t\t[CLK_MBUS]\t\t= &mbus_clk.common.hw,\n\t\t[CLK_IEP]\t\t= &iep_clk.common.hw,\n\t},\n\t.num\t= CLK_NUMBER,\n};\n\nstatic const struct sunxi_ccu_desc sun5i_gr8_ccu_desc = {\n\t.ccu_clks\t= sun5i_a10s_ccu_clks,\n\t.num_ccu_clks\t= ARRAY_SIZE(sun5i_a10s_ccu_clks),\n\n\t.hw_clks\t= &sun5i_gr8_hw_clks,\n\n\t.resets\t\t= sun5i_a10s_ccu_resets,\n\t.num_resets\t= ARRAY_SIZE(sun5i_a10s_ccu_resets),\n};\n\nstatic void __init sun5i_ccu_init(struct device_node *node,\n\t\t\t\t  const struct sunxi_ccu_desc *desc)\n{\n\tvoid __iomem *reg;\n\tu32 val;\n\n\treg = of_io_request_and_map(node, 0, of_node_full_name(node));\n\tif (IS_ERR(reg)) {\n\t\tpr_err(\"%pOF: Could not map the clock registers\\n\", node);\n\t\treturn;\n\t}\n\n\t \n\tval = readl(reg + SUN5I_PLL_AUDIO_REG);\n\tval &= ~GENMASK(29, 26);\n\twritel(val | (0 << 26), reg + SUN5I_PLL_AUDIO_REG);\n\n\t \n\tval = readl(reg + SUN5I_AHB_REG);\n\tval &= ~GENMASK(7, 6);\n\twritel(val | (2 << 6), reg + SUN5I_AHB_REG);\n\n\tof_sunxi_ccu_probe(node, reg, desc);\n}\n\nstatic void __init sun5i_a10s_ccu_setup(struct device_node *node)\n{\n\tsun5i_ccu_init(node, &sun5i_a10s_ccu_desc);\n}\nCLK_OF_DECLARE(sun5i_a10s_ccu, \"allwinner,sun5i-a10s-ccu\",\n\t       sun5i_a10s_ccu_setup);\n\nstatic void __init sun5i_a13_ccu_setup(struct device_node *node)\n{\n\tsun5i_ccu_init(node, &sun5i_a13_ccu_desc);\n}\nCLK_OF_DECLARE(sun5i_a13_ccu, \"allwinner,sun5i-a13-ccu\",\n\t       sun5i_a13_ccu_setup);\n\nstatic void __init sun5i_gr8_ccu_setup(struct device_node *node)\n{\n\tsun5i_ccu_init(node, &sun5i_gr8_ccu_desc);\n}\nCLK_OF_DECLARE(sun5i_gr8_ccu, \"nextthing,gr8-ccu\",\n\t       sun5i_gr8_ccu_setup);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}