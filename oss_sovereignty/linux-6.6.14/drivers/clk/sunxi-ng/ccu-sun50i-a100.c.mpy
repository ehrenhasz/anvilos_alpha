{
  "module_name": "ccu-sun50i-a100.c",
  "hash_id": "f8ab126abec206c32327edf94afdcb00f229720d90f3b136608489bf76e44cc3",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/sunxi-ng/ccu-sun50i-a100.c",
  "human_readable_source": "\n \n\n#include <linux/clk-provider.h>\n#include <linux/io.h>\n#include <linux/module.h>\n#include <linux/platform_device.h>\n\n#include \"ccu_common.h\"\n#include \"ccu_reset.h\"\n\n#include \"ccu_div.h\"\n#include \"ccu_gate.h\"\n#include \"ccu_mp.h\"\n#include \"ccu_mult.h\"\n#include \"ccu_nk.h\"\n#include \"ccu_nkm.h\"\n#include \"ccu_nkmp.h\"\n#include \"ccu_nm.h\"\n\n#include \"ccu-sun50i-a100.h\"\n\n#define SUN50I_A100_PLL_SDM_ENABLE\t\tBIT(24)\n#define SUN50I_A100_PLL_OUTPUT_ENABLE\t\tBIT(27)\n#define SUN50I_A100_PLL_LOCK\t\t\tBIT(28)\n#define SUN50I_A100_PLL_LOCK_ENABLE\t\tBIT(29)\n#define SUN50I_A100_PLL_ENABLE\t\t\tBIT(31)\n\n#define SUN50I_A100_PLL_PERIPH1_PATTERN0\t0xd1303333\n\n \n#define SUN50I_A100_PLL_CPUX_REG\t\t0x000\nstatic struct ccu_mult pll_cpux_clk = {\n\t.enable\t\t= SUN50I_A100_PLL_OUTPUT_ENABLE,\n\t.lock\t\t= SUN50I_A100_PLL_LOCK,\n\t.mult\t\t= _SUNXI_CCU_MULT_MIN(8, 8, 12),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x000,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-cpux\", \"dcxo24M\",\n\t\t\t\t\t      &ccu_mult_ops,\n\t\t\t\t\t      CLK_SET_RATE_UNGATE),\n\t},\n};\n\n \n#define SUN50I_A100_PLL_DDR0_REG\t\t0x010\nstatic struct ccu_nkmp pll_ddr0_clk = {\n\t.enable\t\t= SUN50I_A100_PLL_OUTPUT_ENABLE,\n\t.lock\t\t= SUN50I_A100_PLL_LOCK,\n\t.n\t\t= _SUNXI_CCU_MULT_MIN(8, 8, 12),\n\t.m\t\t= _SUNXI_CCU_DIV(1, 1),  \n\t.p\t\t= _SUNXI_CCU_DIV(0, 1),  \n\t.common\t\t= {\n\t\t.reg\t\t= 0x010,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-ddr0\", \"dcxo24M\",\n\t\t\t\t\t      &ccu_nkmp_ops,\n\t\t\t\t\t      CLK_SET_RATE_UNGATE |\n\t\t\t\t\t      CLK_IS_CRITICAL),\n\t},\n};\n\n#define SUN50I_A100_PLL_PERIPH0_REG\t0x020\nstatic struct ccu_nkmp pll_periph0_clk = {\n\t.enable\t\t= SUN50I_A100_PLL_OUTPUT_ENABLE,\n\t.lock\t\t= SUN50I_A100_PLL_LOCK,\n\t.n\t\t= _SUNXI_CCU_MULT_MIN(8, 8, 12),\n\t.m\t\t= _SUNXI_CCU_DIV(1, 1),  \n\t.p\t\t= _SUNXI_CCU_DIV(0, 1),  \n\t.fixed_post_div\t= 2,\n\t.common\t\t= {\n\t\t.reg\t\t= 0x020,\n\t\t.features\t= CCU_FEATURE_FIXED_POSTDIV,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-periph0\", \"dcxo24M\",\n\t\t\t\t\t      &ccu_nkmp_ops,\n\t\t\t\t\t      CLK_SET_RATE_UNGATE),\n\t},\n};\n\n#define SUN50I_A100_PLL_PERIPH1_REG\t0x028\nstatic struct ccu_nkmp pll_periph1_clk = {\n\t.enable\t\t= SUN50I_A100_PLL_OUTPUT_ENABLE,\n\t.lock\t\t= SUN50I_A100_PLL_LOCK,\n\t.n\t\t= _SUNXI_CCU_MULT_MIN(8, 8, 12),\n\t.m\t\t= _SUNXI_CCU_DIV(1, 1),  \n\t.p\t\t= _SUNXI_CCU_DIV(0, 1),  \n\t.fixed_post_div\t= 2,\n\t.common\t\t= {\n\t\t.reg\t\t= 0x028,\n\t\t.features\t= CCU_FEATURE_FIXED_POSTDIV,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-periph1\", \"dcxo24M\",\n\t\t\t\t\t      &ccu_nkmp_ops,\n\t\t\t\t\t      CLK_SET_RATE_UNGATE),\n\t},\n};\n#define SUN50I_A100_PLL_PERIPH1_PATTERN0_REG\t0x128\n\n#define SUN50I_A100_PLL_GPU_REG\t\t0x030\nstatic struct ccu_nkmp pll_gpu_clk = {\n\t.enable\t\t= SUN50I_A100_PLL_OUTPUT_ENABLE,\n\t.lock\t\t= SUN50I_A100_PLL_LOCK,\n\t.n\t\t= _SUNXI_CCU_MULT_MIN(8, 8, 12),\n\t.m\t\t= _SUNXI_CCU_DIV(1, 1),  \n\t.p\t\t= _SUNXI_CCU_DIV(0, 1),  \n\t.common\t\t= {\n\t\t.reg\t\t= 0x030,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-gpu\", \"dcxo24M\",\n\t\t\t\t\t      &ccu_nkmp_ops,\n\t\t\t\t\t      CLK_SET_RATE_UNGATE),\n\t},\n};\n\n \n#define SUN50I_A100_PLL_VIDEO0_REG\t0x040\nstatic struct ccu_nm pll_video0_clk = {\n\t.enable\t\t= SUN50I_A100_PLL_OUTPUT_ENABLE,\n\t.lock\t\t= SUN50I_A100_PLL_LOCK,\n\t.n\t\t= _SUNXI_CCU_MULT_MIN(8, 8, 12),\n\t.m\t\t= _SUNXI_CCU_DIV(1, 1),  \n\t.fixed_post_div\t= 4,\n\t.common\t\t= {\n\t\t.reg\t\t= 0x040,\n\t\t.features\t= CCU_FEATURE_FIXED_POSTDIV,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-video0\", \"dcxo24M\",\n\t\t\t\t\t      &ccu_nm_ops,\n\t\t\t\t\t      CLK_SET_RATE_UNGATE),\n\t},\n};\n\n#define SUN50I_A100_PLL_VIDEO1_REG\t0x048\nstatic struct ccu_nm pll_video1_clk = {\n\t.enable\t\t= SUN50I_A100_PLL_OUTPUT_ENABLE,\n\t.lock\t\t= SUN50I_A100_PLL_LOCK,\n\t.n\t\t= _SUNXI_CCU_MULT_MIN(8, 8, 12),\n\t.m\t\t= _SUNXI_CCU_DIV(1, 1),  \n\t.fixed_post_div\t= 4,\n\t.common\t\t= {\n\t\t.reg\t\t= 0x048,\n\t\t.features\t= CCU_FEATURE_FIXED_POSTDIV,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-video1\", \"dcxo24M\",\n\t\t\t\t\t      &ccu_nm_ops,\n\t\t\t\t\t      CLK_SET_RATE_UNGATE),\n\t},\n};\n\n#define SUN50I_A100_PLL_VIDEO2_REG\t0x050\nstatic struct ccu_nm pll_video2_clk = {\n\t.enable\t\t= SUN50I_A100_PLL_OUTPUT_ENABLE,\n\t.lock\t\t= SUN50I_A100_PLL_LOCK,\n\t.n\t\t= _SUNXI_CCU_MULT_MIN(8, 8, 12),\n\t.m\t\t= _SUNXI_CCU_DIV(1, 1),  \n\t.fixed_post_div\t= 4,\n\t.common\t\t= {\n\t\t.reg\t\t= 0x050,\n\t\t.features\t= CCU_FEATURE_FIXED_POSTDIV,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-video2\", \"dcxo24M\",\n\t\t\t\t\t      &ccu_nm_ops,\n\t\t\t\t\t      CLK_SET_RATE_UNGATE),\n\t},\n};\n\n#define SUN50I_A100_PLL_VE_REG\t\t0x058\nstatic struct ccu_nkmp pll_ve_clk = {\n\t.enable\t\t= SUN50I_A100_PLL_OUTPUT_ENABLE,\n\t.lock\t\t= SUN50I_A100_PLL_LOCK,\n\t.n\t\t= _SUNXI_CCU_MULT_MIN(8, 8, 12),\n\t.m\t\t= _SUNXI_CCU_DIV(1, 1),  \n\t.p\t\t= _SUNXI_CCU_DIV(0, 1),  \n\t.common\t\t= {\n\t\t.reg\t\t= 0x058,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-ve\", \"dcxo24M\",\n\t\t\t\t\t      &ccu_nkmp_ops,\n\t\t\t\t\t      CLK_SET_RATE_UNGATE),\n\t},\n};\n\n \n#define SUN50I_A100_PLL_COM_REG\t\t0x060\nstatic struct ccu_sdm_setting pll_com_sdm_table[] = {\n\t{ .rate = 451584000, .pattern = 0xc0014396, .m = 2, .n = 37 },\n};\n\nstatic struct ccu_nm pll_com_clk = {\n\t.enable\t\t= SUN50I_A100_PLL_OUTPUT_ENABLE,\n\t.lock\t\t= SUN50I_A100_PLL_LOCK,\n\t.n\t\t= _SUNXI_CCU_MULT_MIN(8, 8, 12),\n\t.m\t\t= _SUNXI_CCU_DIV(0, 1),\n\t.sdm\t\t= _SUNXI_CCU_SDM(pll_com_sdm_table, BIT(24),\n\t\t\t\t\t 0x160, BIT(31)),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x060,\n\t\t.features\t= CCU_FEATURE_SIGMA_DELTA_MOD,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-com\", \"dcxo24M\",\n\t\t\t\t\t      &ccu_nm_ops,\n\t\t\t\t\t      CLK_SET_RATE_UNGATE),\n\t},\n};\n\n#define SUN50I_A100_PLL_VIDEO3_REG\t0x068\nstatic struct ccu_nm pll_video3_clk = {\n\t.enable\t\t= SUN50I_A100_PLL_OUTPUT_ENABLE,\n\t.lock\t\t= SUN50I_A100_PLL_LOCK,\n\t.n\t\t= _SUNXI_CCU_MULT_MIN(8, 8, 12),\n\t.m\t\t= _SUNXI_CCU_DIV(1, 1),  \n\t.fixed_post_div\t= 4,\n\t.common\t\t= {\n\t\t.reg\t\t= 0x068,\n\t\t.features\t= CCU_FEATURE_FIXED_POSTDIV,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-video3\", \"dcxo24M\",\n\t\t\t\t\t      &ccu_nm_ops,\n\t\t\t\t\t      CLK_SET_RATE_UNGATE),\n\t},\n};\n\n \n#define SUN50I_A100_PLL_AUDIO_REG\t\t0x078\nstatic struct ccu_sdm_setting pll_audio_sdm_table[] = {\n\t{ .rate = 45158400, .pattern = 0xc001bcd3, .m = 18, .n = 33 },\n\t{ .rate = 49152000, .pattern = 0xc001eb85, .m = 20, .n = 40 },\n\t{ .rate = 180633600, .pattern = 0xc001288d, .m = 3, .n = 22 },\n\t{ .rate = 196608000, .pattern = 0xc001eb85, .m = 5, .n = 40 },\n};\n\nstatic struct ccu_nm pll_audio_clk = {\n\t.enable\t\t= SUN50I_A100_PLL_OUTPUT_ENABLE,\n\t.lock\t\t= SUN50I_A100_PLL_LOCK,\n\t.n\t\t= _SUNXI_CCU_MULT_MIN(8, 8, 12),\n\t.m\t\t= _SUNXI_CCU_DIV(16, 6),\n\t.fixed_post_div\t= 2,\n\t.sdm\t\t= _SUNXI_CCU_SDM(pll_audio_sdm_table, BIT(24),\n\t\t\t\t\t 0x178, BIT(31)),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x078,\n\t\t.features\t= CCU_FEATURE_FIXED_POSTDIV |\n\t\t\t\t  CCU_FEATURE_SIGMA_DELTA_MOD,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-audio\", \"dcxo24M\",\n\t\t\t\t\t      &ccu_nm_ops,\n\t\t\t\t\t      CLK_SET_RATE_UNGATE),\n\t},\n};\n\nstatic const char * const cpux_parents[] = { \"dcxo24M\", \"osc32k\",\n\t\t\t\t\t     \"iosc\", \"pll-cpux\",\n\t\t\t\t\t      \"pll-periph0\" };\nstatic SUNXI_CCU_MUX(cpux_clk, \"cpux\", cpux_parents,\n\t\t     0x500, 24, 3, CLK_SET_RATE_PARENT | CLK_IS_CRITICAL);\nstatic SUNXI_CCU_M(axi_clk, \"axi\", \"cpux\", 0x500, 0, 2, 0);\nstatic SUNXI_CCU_M(cpux_apb_clk, \"cpux-apb\", \"cpux\", 0x500, 8, 2, 0);\n\nstatic const char * const psi_ahb1_ahb2_parents[] = { \"dcxo24M\", \"osc32k\",\n\t\t\t\t\t\t      \"iosc\", \"pll-periph0\",\n\t\t\t\t\t\t      \"pll-periph0-2x\" };\nstatic SUNXI_CCU_MP_WITH_MUX(psi_ahb1_ahb2_clk, \"psi-ahb1-ahb2\",\n\t\t\t     psi_ahb1_ahb2_parents, 0x510,\n\t\t\t     0, 2,\t \n\t\t\t     8, 2,\t \n\t\t\t     24, 3,\t \n\t\t\t     0);\n\nstatic const char * const ahb3_apb1_apb2_parents[] = { \"dcxo24M\", \"osc32k\",\n\t\t\t\t\t\t       \"psi-ahb1-ahb2\",\n\t\t\t\t\t\t       \"pll-periph0\",\n\t\t\t\t\t\t       \"pll-periph0-2x\" };\nstatic SUNXI_CCU_MP_WITH_MUX(ahb3_clk, \"ahb3\", ahb3_apb1_apb2_parents, 0x51c,\n\t\t\t     0, 2,\t \n\t\t\t     8, 2,\t \n\t\t\t     24, 3,\t \n\t\t\t     0);\n\nstatic SUNXI_CCU_MP_WITH_MUX(apb1_clk, \"apb1\", ahb3_apb1_apb2_parents, 0x520,\n\t\t\t     0, 2,\t \n\t\t\t     8, 2,\t \n\t\t\t     24, 3,\t \n\t\t\t     0);\n\nstatic SUNXI_CCU_MP_WITH_MUX(apb2_clk, \"apb2\", ahb3_apb1_apb2_parents, 0x524,\n\t\t\t     0, 2,\t \n\t\t\t     8, 2,\t \n\t\t\t     24, 3,\t \n\t\t\t     0);\n\nstatic const char * const mbus_parents[] = { \"dcxo24M\", \"pll-ddr0\",\n\t\t\t\t\t     \"pll-periph0\",\n\t\t\t\t\t     \"pll-periph0-2x\" };\nstatic SUNXI_CCU_M_WITH_MUX_GATE(mbus_clk, \"mbus\", mbus_parents, 0x540,\n\t\t\t\t 0, 3,\t\t \n\t\t\t\t 24, 2,\t\t \n\t\t\t\t BIT(31),\t \n\t\t\t\t CLK_IS_CRITICAL);\n\nstatic const char * const de_parents[] = { \"pll-com\", \"pll-periph0-2x\" };\nstatic SUNXI_CCU_M_WITH_MUX_GATE(de_clk, \"de0\", de_parents, 0x600,\n\t\t\t\t 0, 4,\t\t \n\t\t\t\t 24, 1,\t\t \n\t\t\t\t BIT(31),\t \n\t\t\t\t CLK_SET_RATE_PARENT);\n\nstatic SUNXI_CCU_GATE(bus_de_clk, \"bus-de\", \"psi-ahb1-ahb2\",\n\t\t      0x60c, BIT(0), 0);\n\nstatic const char * const g2d_parents[] = { \"pll-com\", \"pll-periph0-2x\",\n\t\t\t\t\t     \"pll-video0-2x\", \"pll-video1-2x\",\n\t\t\t\t\t     \"pll-video2-2x\"};\nstatic SUNXI_CCU_M_WITH_MUX_GATE(g2d_clk, \"g2d\",\n\t\t\t\t g2d_parents,\n\t\t\t\t 0x630,\n\t\t\t\t 0, 4,\t\t \n\t\t\t\t 24, 3,\t\t \n\t\t\t\t BIT(31),\t \n\t\t\t\t 0);\n\nstatic SUNXI_CCU_GATE(bus_g2d_clk, \"bus-g2d\", \"psi-ahb1-ahb2\",\n\t\t      0x63c, BIT(0), 0);\n\nstatic const char * const gpu_parents[] = { \"pll-gpu\" };\nstatic SUNXI_CCU_M_WITH_MUX_GATE(gpu_clk, \"gpu\", gpu_parents, 0x670,\n\t\t\t\t       0, 2,\t \n\t\t\t\t       24, 1,\t \n\t\t\t\t       BIT(31),\t \n\t\t\t\t       0);\n\nstatic SUNXI_CCU_GATE(bus_gpu_clk, \"bus-gpu\", \"psi-ahb1-ahb2\",\n\t\t      0x67c, BIT(0), 0);\n\nstatic const char * const ce_parents[] = { \"dcxo24M\", \"pll-periph0-2x\" };\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(ce_clk, \"ce\", ce_parents, 0x680,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  8, 2,\t\t \n\t\t\t\t  24, 1,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_GATE(bus_ce_clk, \"bus-ce\", \"psi-ahb1-ahb2\",\n\t\t      0x68c, BIT(0), 0);\n\nstatic const char * const ve_parents[] = { \"pll-ve\" };\nstatic SUNXI_CCU_M_WITH_MUX_GATE(ve_clk, \"ve\", ve_parents, 0x690,\n\t\t\t\t 0, 3,\t\t \n\t\t\t\t 24, 1,\t\t \n\t\t\t\t BIT(31),\t \n\t\t\t\t CLK_SET_RATE_PARENT);\n\nstatic SUNXI_CCU_GATE(bus_ve_clk, \"bus-ve\", \"psi-ahb1-ahb2\",\n\t\t      0x69c, BIT(0), 0);\n\nstatic SUNXI_CCU_GATE(bus_dma_clk, \"bus-dma\", \"psi-ahb1-ahb2\",\n\t\t      0x70c, BIT(0), 0);\n\nstatic SUNXI_CCU_GATE(bus_msgbox_clk, \"bus-msgbox\", \"psi-ahb1-ahb2\",\n\t\t      0x71c, BIT(0), 0);\n\nstatic SUNXI_CCU_GATE(bus_spinlock_clk, \"bus-spinlock\", \"psi-ahb1-ahb2\",\n\t\t      0x72c, BIT(0), 0);\n\nstatic SUNXI_CCU_GATE(bus_hstimer_clk, \"bus-hstimer\", \"psi-ahb1-ahb2\",\n\t\t      0x73c, BIT(0), 0);\n\nstatic SUNXI_CCU_GATE(avs_clk, \"avs\", \"dcxo24M\", 0x740, BIT(31), 0);\n\nstatic SUNXI_CCU_GATE(bus_dbg_clk, \"bus-dbg\", \"psi-ahb1-ahb2\",\n\t\t      0x78c, BIT(0), 0);\n\nstatic SUNXI_CCU_GATE(bus_psi_clk, \"bus-psi\", \"psi-ahb1-ahb2\",\n\t\t      0x79c, BIT(0), 0);\n\nstatic SUNXI_CCU_GATE(bus_pwm_clk, \"bus-pwm\", \"apb1\", 0x7ac, BIT(0), 0);\n\nstatic SUNXI_CCU_GATE(bus_iommu_clk, \"bus-iommu\", \"apb1\", 0x7bc, BIT(0), 0);\n\nstatic SUNXI_CCU_GATE(mbus_dma_clk, \"mbus-dma\", \"mbus\",\n\t\t      0x804, BIT(0), 0);\nstatic SUNXI_CCU_GATE(mbus_ve_clk, \"mbus-ve\", \"mbus\",\n\t\t      0x804, BIT(1), 0);\nstatic SUNXI_CCU_GATE(mbus_ce_clk, \"mbus-ce\", \"mbus\",\n\t\t      0x804, BIT(2), 0);\nstatic SUNXI_CCU_GATE(mbus_nand_clk, \"mbus-nand\", \"mbus\",\n\t\t      0x804, BIT(5), 0);\nstatic SUNXI_CCU_GATE(mbus_csi_clk, \"mbus-csi\", \"mbus\",\n\t\t      0x804, BIT(8), 0);\nstatic SUNXI_CCU_GATE(mbus_isp_clk, \"mbus-isp\", \"mbus\",\n\t\t      0x804, BIT(9), 0);\nstatic SUNXI_CCU_GATE(mbus_g2d_clk, \"mbus-g2d\", \"mbus\",\n\t\t      0x804, BIT(10), 0);\n\nstatic SUNXI_CCU_GATE(bus_dram_clk, \"bus-dram\", \"psi-ahb1-ahb2\",\n\t\t      0x80c, BIT(0), CLK_IS_CRITICAL);\n\nstatic const char * const nand_spi_parents[] = { \"dcxo24M\",\n\t\t\t\t\t\t \"pll-periph0\",\n\t\t\t\t\t\t \"pll-periph1\",\n\t\t\t\t\t\t \"pll-periph0-2x\",\n\t\t\t\t\t\t \"pll-periph1-2x\" };\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(nand0_clk, \"nand0\", nand_spi_parents, 0x810,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  8, 2,\t\t \n\t\t\t\t  24, 3,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(nand1_clk, \"nand1\", nand_spi_parents, 0x814,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  8, 2,\t\t \n\t\t\t\t  24, 3,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_GATE(bus_nand_clk, \"bus-nand\", \"ahb3\", 0x82c, BIT(0), 0);\n\nstatic const char * const mmc_parents[] = { \"dcxo24M\", \"pll-periph0-2x\",\n\t\t\t\t\t    \"pll-periph1-2x\" };\nstatic SUNXI_CCU_MP_WITH_MUX_GATE_POSTDIV(mmc0_clk, \"mmc0\", mmc_parents, 0x830,\n\t\t\t\t\t  0, 4,\t\t \n\t\t\t\t\t  8, 2,\t\t \n\t\t\t\t\t  24, 2,\t \n\t\t\t\t\t  BIT(31),\t \n\t\t\t\t\t  2,\t\t \n\t\t\t\t\t  CLK_SET_RATE_NO_REPARENT);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE_POSTDIV(mmc1_clk, \"mmc1\", mmc_parents, 0x834,\n\t\t\t\t\t  0, 4,\t\t \n\t\t\t\t\t  8, 2,\t\t \n\t\t\t\t\t  24, 2,\t \n\t\t\t\t\t  BIT(31),\t \n\t\t\t\t\t  2,\t\t \n\t\t\t\t\t  CLK_SET_RATE_NO_REPARENT);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE_POSTDIV(mmc2_clk, \"mmc2\", mmc_parents, 0x838,\n\t\t\t\t\t  0, 4,\t\t \n\t\t\t\t\t  8, 2,\t\t \n\t\t\t\t\t  24, 2,\t \n\t\t\t\t\t  BIT(31),\t \n\t\t\t\t\t  2,\t\t \n\t\t\t\t\t  CLK_SET_RATE_NO_REPARENT);\n\nstatic SUNXI_CCU_GATE(bus_mmc0_clk, \"bus-mmc0\", \"ahb3\", 0x84c, BIT(0), 0);\nstatic SUNXI_CCU_GATE(bus_mmc1_clk, \"bus-mmc1\", \"ahb3\", 0x84c, BIT(1), 0);\nstatic SUNXI_CCU_GATE(bus_mmc2_clk, \"bus-mmc2\", \"ahb3\", 0x84c, BIT(2), 0);\n\nstatic SUNXI_CCU_GATE(bus_uart0_clk, \"bus-uart0\", \"apb2\", 0x90c, BIT(0), 0);\nstatic SUNXI_CCU_GATE(bus_uart1_clk, \"bus-uart1\", \"apb2\", 0x90c, BIT(1), 0);\nstatic SUNXI_CCU_GATE(bus_uart2_clk, \"bus-uart2\", \"apb2\", 0x90c, BIT(2), 0);\nstatic SUNXI_CCU_GATE(bus_uart3_clk, \"bus-uart3\", \"apb2\", 0x90c, BIT(3), 0);\nstatic SUNXI_CCU_GATE(bus_uart4_clk, \"bus-uart4\", \"apb2\", 0x90c, BIT(4), 0);\n\nstatic SUNXI_CCU_GATE(bus_i2c0_clk, \"bus-i2c0\", \"apb2\", 0x91c, BIT(0), 0);\nstatic SUNXI_CCU_GATE(bus_i2c1_clk, \"bus-i2c1\", \"apb2\", 0x91c, BIT(1), 0);\nstatic SUNXI_CCU_GATE(bus_i2c2_clk, \"bus-i2c2\", \"apb2\", 0x91c, BIT(2), 0);\nstatic SUNXI_CCU_GATE(bus_i2c3_clk, \"bus-i2c3\", \"apb2\", 0x91c, BIT(3), 0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(spi0_clk, \"spi0\", nand_spi_parents, 0x940,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  8, 2,\t\t \n\t\t\t\t  24, 3,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(spi1_clk, \"spi1\", nand_spi_parents, 0x944,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  8, 2,\t\t \n\t\t\t\t  24, 3,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(spi2_clk, \"spi2\", nand_spi_parents, 0x948,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  8, 2,\t\t \n\t\t\t\t  24, 3,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_GATE(bus_spi0_clk, \"bus-spi0\", \"ahb3\", 0x96c, BIT(0), 0);\nstatic SUNXI_CCU_GATE(bus_spi1_clk, \"bus-spi1\", \"ahb3\", 0x96c, BIT(1), 0);\nstatic SUNXI_CCU_GATE(bus_spi2_clk, \"bus-spi2\", \"ahb3\", 0x96c, BIT(2), 0);\n\nstatic SUNXI_CCU_GATE(emac_25m_clk, \"emac-25m\", \"ahb3\", 0x970,\n\t\t      BIT(31) | BIT(30), 0);\n\nstatic SUNXI_CCU_GATE(bus_emac_clk, \"bus-emac\", \"ahb3\", 0x97c, BIT(0), 0);\n\nstatic const char * const ir_parents[] = { \"osc32k\", \"iosc\",\n\t\t\t\t\t   \"pll-periph0\", \"pll-periph1\" };\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(ir_rx_clk, \"ir-rx\", ir_parents, 0x990,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  8, 2,\t\t \n\t\t\t\t  24, 3,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_GATE(bus_ir_rx_clk, \"bus-ir-rx\", \"ahb3\", 0x99c, BIT(0), 0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(ir_tx_clk, \"ir-tx\", ir_parents, 0x9c0,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  8, 2,\t\t \n\t\t\t\t  24, 3,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_GATE(bus_ir_tx_clk, \"bus-ir-tx\", \"apb1\", 0x9cc, BIT(0), 0);\n\nstatic SUNXI_CCU_GATE(bus_gpadc_clk, \"bus-gpadc\", \"apb1\", 0x9ec, BIT(0), 0);\n\nstatic SUNXI_CCU_GATE(bus_ths_clk, \"bus-ths\", \"apb1\", 0x9fc, BIT(0), 0);\n\nstatic const char * const audio_parents[] = { \"pll-audio\", \"pll-com-audio\" };\nstatic struct ccu_div i2s0_clk = {\n\t.enable\t\t= BIT(31),\n\t.div\t\t= _SUNXI_CCU_DIV_FLAGS(8, 2, CLK_DIVIDER_POWER_OF_TWO),\n\t.mux\t\t= _SUNXI_CCU_MUX(24, 2),\n\t.common\t\t= {\n\t\t.reg\t\t= 0xa10,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"i2s0\",\n\t\t\t\t\t\t      audio_parents,\n\t\t\t\t\t\t      &ccu_div_ops,\n\t\t\t\t\t\t      CLK_SET_RATE_PARENT),\n\t},\n};\n\nstatic struct ccu_div i2s1_clk = {\n\t.enable\t\t= BIT(31),\n\t.div\t\t= _SUNXI_CCU_DIV_FLAGS(8, 2, CLK_DIVIDER_POWER_OF_TWO),\n\t.mux\t\t= _SUNXI_CCU_MUX(24, 2),\n\t.common\t\t= {\n\t\t.reg\t\t= 0xa14,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"i2s1\",\n\t\t\t\t\t\t      audio_parents,\n\t\t\t\t\t\t      &ccu_div_ops,\n\t\t\t\t\t\t      CLK_SET_RATE_PARENT),\n\t},\n};\n\nstatic struct ccu_div i2s2_clk = {\n\t.enable\t\t= BIT(31),\n\t.div\t\t= _SUNXI_CCU_DIV_FLAGS(8, 2, CLK_DIVIDER_POWER_OF_TWO),\n\t.mux\t\t= _SUNXI_CCU_MUX(24, 2),\n\t.common\t\t= {\n\t\t.reg\t\t= 0xa18,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"i2s2\",\n\t\t\t\t\t\t      audio_parents,\n\t\t\t\t\t\t      &ccu_div_ops,\n\t\t\t\t\t\t      CLK_SET_RATE_PARENT),\n\t},\n};\n\nstatic struct ccu_div i2s3_clk = {\n\t.enable\t\t= BIT(31),\n\t.div\t\t= _SUNXI_CCU_DIV_FLAGS(8, 2, CLK_DIVIDER_POWER_OF_TWO),\n\t.mux\t\t= _SUNXI_CCU_MUX(24, 2),\n\t.common\t\t= {\n\t\t.reg\t\t= 0xa1c,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"i2s3\",\n\t\t\t\t\t\t      audio_parents,\n\t\t\t\t\t\t      &ccu_div_ops,\n\t\t\t\t\t\t      CLK_SET_RATE_PARENT),\n\t},\n};\n\nstatic SUNXI_CCU_GATE(bus_i2s0_clk, \"bus-i2s0\", \"apb1\", 0xa20, BIT(0), 0);\nstatic SUNXI_CCU_GATE(bus_i2s1_clk, \"bus-i2s1\", \"apb1\", 0xa20, BIT(1), 0);\nstatic SUNXI_CCU_GATE(bus_i2s2_clk, \"bus-i2s2\", \"apb1\", 0xa20, BIT(2), 0);\nstatic SUNXI_CCU_GATE(bus_i2s3_clk, \"bus-i2s3\", \"apb1\", 0xa20, BIT(3), 0);\n\nstatic struct ccu_div spdif_clk = {\n\t.enable\t\t= BIT(31),\n\t.div\t\t= _SUNXI_CCU_DIV_FLAGS(8, 2, CLK_DIVIDER_POWER_OF_TWO),\n\t.mux\t\t= _SUNXI_CCU_MUX(24, 2),\n\t.common\t\t= {\n\t\t.reg\t\t= 0xa24,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"spdif\",\n\t\t\t\t\t\t      audio_parents,\n\t\t\t\t\t\t      &ccu_div_ops,\n\t\t\t\t\t\t      0),\n\t},\n};\n\nstatic SUNXI_CCU_GATE(bus_spdif_clk, \"bus-spdif\", \"apb1\", 0xa2c, BIT(0), 0);\n\nstatic struct ccu_div dmic_clk = {\n\t.enable\t\t= BIT(31),\n\t.div\t\t= _SUNXI_CCU_DIV_FLAGS(8, 2, CLK_DIVIDER_POWER_OF_TWO),\n\t.mux\t\t= _SUNXI_CCU_MUX(24, 2),\n\t.common\t\t= {\n\t\t.reg\t\t= 0xa40,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"dmic\",\n\t\t\t\t\t\t      audio_parents,\n\t\t\t\t\t\t      &ccu_div_ops,\n\t\t\t\t\t\t      0),\n\t},\n};\n\nstatic SUNXI_CCU_GATE(bus_dmic_clk, \"bus-dmic\", \"apb1\", 0xa4c, BIT(0), 0);\n\nstatic SUNXI_CCU_M_WITH_MUX_GATE(audio_codec_dac_clk, \"audio-codec-dac\",\n\t\t\t\t audio_parents, 0xa50,\n\t\t\t\t 0, 4,\t\t \n\t\t\t\t 24, 2,\t\t \n\t\t\t\t BIT(31),\t \n\t\t\t\t 0);\n\nstatic SUNXI_CCU_M_WITH_MUX_GATE(audio_codec_adc_clk, \"audio-codec-adc\",\n\t\t\t\t audio_parents, 0xa54,\n\t\t\t\t 0, 4,\t\t \n\t\t\t\t 24, 2,\t\t \n\t\t\t\t BIT(31),\t \n\t\t\t\t 0);\n\nstatic SUNXI_CCU_M_WITH_MUX_GATE(audio_codec_4x_clk, \"audio-codec-4x\",\n\t\t\t\t audio_parents, 0xa58,\n\t\t\t\t 0, 4,\t\t \n\t\t\t\t 24, 2,\t\t \n\t\t\t\t BIT(31),\t \n\t\t\t\t 0);\n\nstatic SUNXI_CCU_GATE(bus_audio_codec_clk, \"bus-audio-codec\", \"apb1\", 0xa5c,\n\t\t      BIT(0), 0);\n\n \n#define SUN50I_A100_USB0_CLK_REG\t\t0xa70\n#define SUN50I_A100_USB1_CLK_REG\t\t0xa74\n\nstatic SUNXI_CCU_GATE(usb_ohci0_clk, \"usb-ohci0\", \"osc12M\", 0xa70, BIT(31), 0);\nstatic SUNXI_CCU_GATE(usb_phy0_clk, \"usb-phy0\", \"dcxo24M\", 0xa70, BIT(29), 0);\n\nstatic SUNXI_CCU_GATE(usb_ohci1_clk, \"usb-ohci1\", \"osc12M\", 0xa74, BIT(31), 0);\nstatic SUNXI_CCU_GATE(usb_phy1_clk, \"usb-phy1\", \"dcxo24M\", 0xa74, BIT(29), 0);\n\nstatic SUNXI_CCU_GATE(bus_ohci0_clk, \"bus-ohci0\", \"ahb3\", 0xa8c, BIT(0), 0);\nstatic SUNXI_CCU_GATE(bus_ohci1_clk, \"bus-ohci1\", \"ahb3\", 0xa8c, BIT(1), 0);\nstatic SUNXI_CCU_GATE(bus_ehci0_clk, \"bus-ehci0\", \"ahb3\", 0xa8c, BIT(4), 0);\nstatic SUNXI_CCU_GATE(bus_ehci1_clk, \"bus-ehci1\", \"ahb3\", 0xa8c, BIT(5), 0);\nstatic SUNXI_CCU_GATE(bus_otg_clk, \"bus-otg\", \"ahb3\", 0xa8c, BIT(8), 0);\n\nstatic SUNXI_CCU_GATE(bus_lradc_clk, \"bus-lradc\", \"ahb3\", 0xa9c, BIT(0), 0);\n\nstatic SUNXI_CCU_GATE(bus_dpss_top0_clk, \"bus-dpss-top0\", \"ahb3\",\n\t\t      0xabc, BIT(0), 0);\n\nstatic SUNXI_CCU_GATE(bus_dpss_top1_clk, \"bus-dpss-top1\", \"ahb3\",\n\t\t      0xacc, BIT(0), 0);\n\nstatic const char * const mipi_dsi_parents[] = { \"dcxo24M\", \"pll-periph0-2x\",\n\t\t\t\t\t\t \"pll-periph0\" };\nstatic SUNXI_CCU_M_WITH_MUX_GATE(mipi_dsi_clk, \"mipi-dsi\",\n\t\t\t\t mipi_dsi_parents,\n\t\t\t\t 0xb24,\n\t\t\t\t 0, 4,\t\t \n\t\t\t\t 24, 2,\t\t \n\t\t\t\t BIT(31),\t \n\t\t\t\t 0);\n\nstatic SUNXI_CCU_GATE(bus_mipi_dsi_clk, \"bus-mipi-dsi\", \"ahb3\",\n\t\t      0xb4c, BIT(0), 0);\n\nstatic const char * const tcon_lcd_parents[] = { \"pll-video0-4x\",\n\t\t\t\t\t\t  \"pll-video1-4x\",\n\t\t\t\t\t\t  \"pll-video2-4x\",\n\t\t\t\t\t\t  \"pll-video3-4x\",\n\t\t\t\t\t\t  \"pll-periph0-2x\" };\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(tcon_lcd_clk, \"tcon-lcd0\",\n\t\t\t\t  tcon_lcd_parents, 0xb60,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  8, 2,\t\t \n\t\t\t\t  24, 3,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_GATE(bus_tcon_lcd_clk, \"bus-tcon-lcd0\", \"ahb3\",\n\t\t      0xb7c, BIT(0), 0);\n\nstatic const char * const ledc_parents[] = { \"dcxo24M\",\n\t\t\t\t\t     \"pll-periph0\" };\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(ledc_clk, \"ledc\",\n\t\t\t\t  ledc_parents, 0xbf0,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  8, 2,\t\t \n\t\t\t\t  24, 3,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_GATE(bus_ledc_clk, \"bus-ledc\", \"ahb3\", 0xbfc, BIT(0), 0);\n\nstatic const char * const csi_top_parents[] = { \"pll-periph0-2x\",\n\t\t\t\t\t\t\"pll-video0-2x\",\n\t\t\t\t\t\t\"pll-video1-2x\",\n\t\t\t\t\t\t\"pll-video2-2x\",\n\t\t\t\t\t\t\"pll-video3-2x\" };\nstatic SUNXI_CCU_M_WITH_MUX_GATE(csi_top_clk, \"csi-top\",\n\t\t\t\t csi_top_parents, 0xc04,\n\t\t\t\t 0, 4,\t\t \n\t\t\t\t 24, 3,\t\t \n\t\t\t\t BIT(31),\t \n\t\t\t\t 0);\n\nstatic const char * const csi0_mclk_parents[] = { \"dcxo24M\", \"pll-video2\",\n\t\t\t\t\t\t  \"pll-video3\", \"pll-video0\",\n\t\t\t\t\t\t  \"pll-video1\" };\nstatic SUNXI_CCU_M_WITH_MUX_GATE(csi0_mclk_clk, \"csi0-mclk\",\n\t\t\t\t csi0_mclk_parents, 0xc08,\n\t\t\t\t 0, 5,\t\t \n\t\t\t\t 24, 3,\t\t \n\t\t\t\t BIT(31),\t \n\t\t\t\t 0);\n\nstatic const char * const csi1_mclk_parents[] = { \"dcxo24M\", \"pll-video3\",\n\t\t\t\t\t\t  \"pll-video0\", \"pll-video1\",\n\t\t\t\t\t\t  \"pll-video2\" };\nstatic SUNXI_CCU_M_WITH_MUX_GATE(csi1_mclk_clk, \"csi1-mclk\",\n\t\t\t\t csi1_mclk_parents, 0xc0c,\n\t\t\t\t 0, 5,\t\t \n\t\t\t\t 24, 3,\t\t \n\t\t\t\t BIT(31),\t \n\t\t\t\t 0);\n\nstatic SUNXI_CCU_GATE(bus_csi_clk, \"bus-csi\", \"ahb3\", 0xc1c, BIT(0), 0);\n\nstatic const char * const csi_isp_parents[] = { \"pll-periph0-2x\",\n\t\t\t\t\t\t\"pll-video0-2x\",\n\t\t\t\t\t\t\"pll-video1-2x\",\n\t\t\t\t\t\t\"pll-video2-2x\",\n\t\t\t\t\t\t\"pll-video3-2x\" };\nstatic SUNXI_CCU_M_WITH_MUX_GATE(csi_isp_clk, \"csi-isp\",\n\t\t\t\t csi_isp_parents, 0xc20,\n\t\t\t\t 0, 5,\t\t \n\t\t\t\t 24, 3,\t\t \n\t\t\t\t BIT(31),\t \n\t\t\t\t 0);\n\n \nstatic CLK_FIXED_FACTOR_FW_NAME(osc12M_clk, \"osc12M\", \"hosc\", 2, 1, 0);\n\nstatic CLK_FIXED_FACTOR_HW(pll_com_audio_clk, \"pll-com-audio\",\n\t\t\t   &pll_com_clk.common.hw,\n\t\t\t   5, 1, CLK_SET_RATE_PARENT);\n\nstatic CLK_FIXED_FACTOR_HW(pll_periph0_2x_clk, \"pll-periph0-2x\",\n\t\t\t   &pll_periph0_clk.common.hw,\n\t\t\t   1, 2, 0);\n\nstatic CLK_FIXED_FACTOR_HW(pll_periph1_2x_clk, \"pll-periph1-2x\",\n\t\t\t   &pll_periph1_clk.common.hw,\n\t\t\t   1, 2, 0);\n\nstatic const struct clk_hw *pll_video0_parents[] = {\n\t&pll_video0_clk.common.hw\n};\nstatic CLK_FIXED_FACTOR_HWS(pll_video0_4x_clk, \"pll-video0-4x\",\n\t\t\t    pll_video0_parents,\n\t\t\t    1, 4, CLK_SET_RATE_PARENT);\nstatic CLK_FIXED_FACTOR_HWS(pll_video0_2x_clk, \"pll-video0-2x\",\n\t\t\t    pll_video0_parents,\n\t\t\t    1, 2, CLK_SET_RATE_PARENT);\n\nstatic const struct clk_hw *pll_video1_parents[] = {\n\t&pll_video1_clk.common.hw\n};\nstatic CLK_FIXED_FACTOR_HWS(pll_video1_4x_clk, \"pll-video1-4x\",\n\t\t\t    pll_video1_parents,\n\t\t\t    1, 4, CLK_SET_RATE_PARENT);\nstatic CLK_FIXED_FACTOR_HWS(pll_video1_2x_clk, \"pll-video1-2x\",\n\t\t\t    pll_video1_parents,\n\t\t\t    1, 2, CLK_SET_RATE_PARENT);\n\nstatic const struct clk_hw *pll_video2_parents[] = {\n\t&pll_video2_clk.common.hw\n};\nstatic CLK_FIXED_FACTOR_HWS(pll_video2_4x_clk, \"pll-video2-4x\",\n\t\t\t    pll_video2_parents,\n\t\t\t    1, 4, CLK_SET_RATE_PARENT);\nstatic CLK_FIXED_FACTOR_HWS(pll_video2_2x_clk, \"pll-video2-2x\",\n\t\t\t    pll_video2_parents,\n\t\t\t    1, 2, CLK_SET_RATE_PARENT);\n\nstatic const struct clk_hw *pll_video3_parents[] = {\n\t&pll_video3_clk.common.hw\n};\nstatic CLK_FIXED_FACTOR_HWS(pll_video3_4x_clk, \"pll-video3-4x\",\n\t\t\t    pll_video3_parents,\n\t\t\t    1, 4, CLK_SET_RATE_PARENT);\nstatic CLK_FIXED_FACTOR_HWS(pll_video3_2x_clk, \"pll-video3-2x\",\n\t\t\t    pll_video3_parents,\n\t\t\t    1, 2, CLK_SET_RATE_PARENT);\n\nstatic struct ccu_common *sun50i_a100_ccu_clks[] = {\n\t&pll_cpux_clk.common,\n\t&pll_ddr0_clk.common,\n\t&pll_periph0_clk.common,\n\t&pll_periph1_clk.common,\n\t&pll_gpu_clk.common,\n\t&pll_video0_clk.common,\n\t&pll_video1_clk.common,\n\t&pll_video2_clk.common,\n\t&pll_video3_clk.common,\n\t&pll_ve_clk.common,\n\t&pll_com_clk.common,\n\t&pll_audio_clk.common,\n\t&cpux_clk.common,\n\t&axi_clk.common,\n\t&cpux_apb_clk.common,\n\t&psi_ahb1_ahb2_clk.common,\n\t&ahb3_clk.common,\n\t&apb1_clk.common,\n\t&apb2_clk.common,\n\t&mbus_clk.common,\n\t&de_clk.common,\n\t&bus_de_clk.common,\n\t&g2d_clk.common,\n\t&bus_g2d_clk.common,\n\t&gpu_clk.common,\n\t&bus_gpu_clk.common,\n\t&ce_clk.common,\n\t&bus_ce_clk.common,\n\t&ve_clk.common,\n\t&bus_ve_clk.common,\n\t&bus_dma_clk.common,\n\t&bus_msgbox_clk.common,\n\t&bus_spinlock_clk.common,\n\t&bus_hstimer_clk.common,\n\t&avs_clk.common,\n\t&bus_dbg_clk.common,\n\t&bus_psi_clk.common,\n\t&bus_pwm_clk.common,\n\t&bus_iommu_clk.common,\n\t&mbus_dma_clk.common,\n\t&mbus_ve_clk.common,\n\t&mbus_ce_clk.common,\n\t&mbus_nand_clk.common,\n\t&mbus_csi_clk.common,\n\t&mbus_isp_clk.common,\n\t&mbus_g2d_clk.common,\n\t&bus_dram_clk.common,\n\t&nand0_clk.common,\n\t&nand1_clk.common,\n\t&bus_nand_clk.common,\n\t&mmc0_clk.common,\n\t&mmc1_clk.common,\n\t&mmc2_clk.common,\n\t&bus_mmc0_clk.common,\n\t&bus_mmc1_clk.common,\n\t&bus_mmc2_clk.common,\n\t&bus_uart0_clk.common,\n\t&bus_uart1_clk.common,\n\t&bus_uart2_clk.common,\n\t&bus_uart3_clk.common,\n\t&bus_uart4_clk.common,\n\t&bus_i2c0_clk.common,\n\t&bus_i2c1_clk.common,\n\t&bus_i2c2_clk.common,\n\t&bus_i2c3_clk.common,\n\t&spi0_clk.common,\n\t&spi1_clk.common,\n\t&spi2_clk.common,\n\t&bus_spi0_clk.common,\n\t&bus_spi1_clk.common,\n\t&bus_spi2_clk.common,\n\t&emac_25m_clk.common,\n\t&bus_emac_clk.common,\n\t&ir_rx_clk.common,\n\t&bus_ir_rx_clk.common,\n\t&ir_tx_clk.common,\n\t&bus_ir_tx_clk.common,\n\t&bus_gpadc_clk.common,\n\t&bus_ths_clk.common,\n\t&i2s0_clk.common,\n\t&i2s1_clk.common,\n\t&i2s2_clk.common,\n\t&i2s3_clk.common,\n\t&bus_i2s0_clk.common,\n\t&bus_i2s1_clk.common,\n\t&bus_i2s2_clk.common,\n\t&bus_i2s3_clk.common,\n\t&spdif_clk.common,\n\t&bus_spdif_clk.common,\n\t&dmic_clk.common,\n\t&bus_dmic_clk.common,\n\t&audio_codec_dac_clk.common,\n\t&audio_codec_adc_clk.common,\n\t&audio_codec_4x_clk.common,\n\t&bus_audio_codec_clk.common,\n\t&usb_ohci0_clk.common,\n\t&usb_phy0_clk.common,\n\t&usb_ohci1_clk.common,\n\t&usb_phy1_clk.common,\n\t&bus_ohci0_clk.common,\n\t&bus_ohci1_clk.common,\n\t&bus_ehci0_clk.common,\n\t&bus_ehci1_clk.common,\n\t&bus_otg_clk.common,\n\t&bus_lradc_clk.common,\n\t&bus_dpss_top0_clk.common,\n\t&bus_dpss_top1_clk.common,\n\t&mipi_dsi_clk.common,\n\t&bus_mipi_dsi_clk.common,\n\t&tcon_lcd_clk.common,\n\t&bus_tcon_lcd_clk.common,\n\t&ledc_clk.common,\n\t&bus_ledc_clk.common,\n\t&csi_top_clk.common,\n\t&csi0_mclk_clk.common,\n\t&csi1_mclk_clk.common,\n\t&bus_csi_clk.common,\n\t&csi_isp_clk.common,\n};\n\nstatic struct clk_hw_onecell_data sun50i_a100_hw_clks = {\n\t.hws\t= {\n\t\t[CLK_OSC12M]\t\t= &osc12M_clk.hw,\n\t\t[CLK_PLL_CPUX]\t\t= &pll_cpux_clk.common.hw,\n\t\t[CLK_PLL_DDR0]\t\t= &pll_ddr0_clk.common.hw,\n\t\t[CLK_PLL_PERIPH0]\t= &pll_periph0_clk.common.hw,\n\t\t[CLK_PLL_PERIPH0_2X]\t= &pll_periph0_2x_clk.hw,\n\t\t[CLK_PLL_PERIPH1]\t= &pll_periph1_clk.common.hw,\n\t\t[CLK_PLL_PERIPH1_2X]\t= &pll_periph1_2x_clk.hw,\n\t\t[CLK_PLL_GPU]\t\t= &pll_gpu_clk.common.hw,\n\t\t[CLK_PLL_VIDEO0]\t= &pll_video0_clk.common.hw,\n\t\t[CLK_PLL_VIDEO0_2X]\t= &pll_video0_2x_clk.hw,\n\t\t[CLK_PLL_VIDEO0_4X]\t= &pll_video0_4x_clk.hw,\n\t\t[CLK_PLL_VIDEO1]\t= &pll_video1_clk.common.hw,\n\t\t[CLK_PLL_VIDEO1_2X]\t= &pll_video1_2x_clk.hw,\n\t\t[CLK_PLL_VIDEO1_4X]\t= &pll_video1_4x_clk.hw,\n\t\t[CLK_PLL_VIDEO2]\t= &pll_video2_clk.common.hw,\n\t\t[CLK_PLL_VIDEO2_2X]\t= &pll_video2_2x_clk.hw,\n\t\t[CLK_PLL_VIDEO2_4X]\t= &pll_video2_4x_clk.hw,\n\t\t[CLK_PLL_VIDEO3]\t= &pll_video3_clk.common.hw,\n\t\t[CLK_PLL_VIDEO3_2X]\t= &pll_video3_2x_clk.hw,\n\t\t[CLK_PLL_VIDEO3_4X]\t= &pll_video3_4x_clk.hw,\n\t\t[CLK_PLL_VE]\t\t= &pll_ve_clk.common.hw,\n\t\t[CLK_PLL_COM]\t\t= &pll_com_clk.common.hw,\n\t\t[CLK_PLL_COM_AUDIO]\t= &pll_com_audio_clk.hw,\n\t\t[CLK_PLL_AUDIO]\t\t= &pll_audio_clk.common.hw,\n\t\t[CLK_CPUX]\t\t= &cpux_clk.common.hw,\n\t\t[CLK_AXI]\t\t= &axi_clk.common.hw,\n\t\t[CLK_CPUX_APB]\t\t= &cpux_apb_clk.common.hw,\n\t\t[CLK_PSI_AHB1_AHB2]\t= &psi_ahb1_ahb2_clk.common.hw,\n\t\t[CLK_AHB3]\t\t= &ahb3_clk.common.hw,\n\t\t[CLK_APB1]\t\t= &apb1_clk.common.hw,\n\t\t[CLK_APB2]\t\t= &apb2_clk.common.hw,\n\t\t[CLK_MBUS]\t\t= &mbus_clk.common.hw,\n\t\t[CLK_DE]\t\t= &de_clk.common.hw,\n\t\t[CLK_BUS_DE]\t\t= &bus_de_clk.common.hw,\n\t\t[CLK_G2D]\t\t= &g2d_clk.common.hw,\n\t\t[CLK_BUS_G2D]\t\t= &bus_g2d_clk.common.hw,\n\t\t[CLK_GPU]\t\t= &gpu_clk.common.hw,\n\t\t[CLK_BUS_GPU]\t\t= &bus_gpu_clk.common.hw,\n\t\t[CLK_CE]\t\t= &ce_clk.common.hw,\n\t\t[CLK_BUS_CE]\t\t= &bus_ce_clk.common.hw,\n\t\t[CLK_VE]\t\t= &ve_clk.common.hw,\n\t\t[CLK_BUS_VE]\t\t= &bus_ve_clk.common.hw,\n\t\t[CLK_BUS_DMA]\t\t= &bus_dma_clk.common.hw,\n\t\t[CLK_BUS_MSGBOX]\t= &bus_msgbox_clk.common.hw,\n\t\t[CLK_BUS_SPINLOCK]\t= &bus_spinlock_clk.common.hw,\n\t\t[CLK_BUS_HSTIMER]\t= &bus_hstimer_clk.common.hw,\n\t\t[CLK_AVS]\t\t= &avs_clk.common.hw,\n\t\t[CLK_BUS_DBG]\t\t= &bus_dbg_clk.common.hw,\n\t\t[CLK_BUS_PSI]\t\t= &bus_psi_clk.common.hw,\n\t\t[CLK_BUS_PWM]\t\t= &bus_pwm_clk.common.hw,\n\t\t[CLK_BUS_IOMMU]\t\t= &bus_iommu_clk.common.hw,\n\t\t[CLK_MBUS_DMA]\t\t= &mbus_dma_clk.common.hw,\n\t\t[CLK_MBUS_VE]\t\t= &mbus_ve_clk.common.hw,\n\t\t[CLK_MBUS_CE]\t\t= &mbus_ce_clk.common.hw,\n\t\t[CLK_MBUS_NAND]\t\t= &mbus_nand_clk.common.hw,\n\t\t[CLK_MBUS_CSI]\t\t= &mbus_csi_clk.common.hw,\n\t\t[CLK_MBUS_ISP]\t\t= &mbus_isp_clk.common.hw,\n\t\t[CLK_MBUS_G2D]\t\t= &mbus_g2d_clk.common.hw,\n\t\t[CLK_BUS_DRAM]\t\t= &bus_dram_clk.common.hw,\n\t\t[CLK_NAND0]\t\t= &nand0_clk.common.hw,\n\t\t[CLK_NAND1]\t\t= &nand1_clk.common.hw,\n\t\t[CLK_BUS_NAND]\t\t= &bus_nand_clk.common.hw,\n\t\t[CLK_MMC0]\t\t= &mmc0_clk.common.hw,\n\t\t[CLK_MMC1]\t\t= &mmc1_clk.common.hw,\n\t\t[CLK_MMC2]\t\t= &mmc2_clk.common.hw,\n\t\t[CLK_BUS_MMC0]\t\t= &bus_mmc0_clk.common.hw,\n\t\t[CLK_BUS_MMC1]\t\t= &bus_mmc1_clk.common.hw,\n\t\t[CLK_BUS_MMC2]\t\t= &bus_mmc2_clk.common.hw,\n\t\t[CLK_BUS_UART0]\t\t= &bus_uart0_clk.common.hw,\n\t\t[CLK_BUS_UART1]\t\t= &bus_uart1_clk.common.hw,\n\t\t[CLK_BUS_UART2]\t\t= &bus_uart2_clk.common.hw,\n\t\t[CLK_BUS_UART3]\t\t= &bus_uart3_clk.common.hw,\n\t\t[CLK_BUS_UART4]\t\t= &bus_uart4_clk.common.hw,\n\t\t[CLK_BUS_I2C0]\t\t= &bus_i2c0_clk.common.hw,\n\t\t[CLK_BUS_I2C1]\t\t= &bus_i2c1_clk.common.hw,\n\t\t[CLK_BUS_I2C2]\t\t= &bus_i2c2_clk.common.hw,\n\t\t[CLK_BUS_I2C3]\t\t= &bus_i2c3_clk.common.hw,\n\t\t[CLK_SPI0]\t\t= &spi0_clk.common.hw,\n\t\t[CLK_SPI1]\t\t= &spi1_clk.common.hw,\n\t\t[CLK_SPI2]\t\t= &spi2_clk.common.hw,\n\t\t[CLK_BUS_SPI0]\t\t= &bus_spi0_clk.common.hw,\n\t\t[CLK_BUS_SPI1]\t\t= &bus_spi1_clk.common.hw,\n\t\t[CLK_BUS_SPI2]\t\t= &bus_spi2_clk.common.hw,\n\t\t[CLK_EMAC_25M]\t\t= &emac_25m_clk.common.hw,\n\t\t[CLK_BUS_EMAC]\t\t= &bus_emac_clk.common.hw,\n\t\t[CLK_IR_RX]\t\t= &ir_rx_clk.common.hw,\n\t\t[CLK_BUS_IR_RX]\t\t= &bus_ir_rx_clk.common.hw,\n\t\t[CLK_IR_TX]\t\t= &ir_tx_clk.common.hw,\n\t\t[CLK_BUS_IR_TX]\t\t= &bus_ir_tx_clk.common.hw,\n\t\t[CLK_BUS_GPADC]\t\t= &bus_gpadc_clk.common.hw,\n\t\t[CLK_BUS_THS]\t\t= &bus_ths_clk.common.hw,\n\t\t[CLK_I2S0]\t\t= &i2s0_clk.common.hw,\n\t\t[CLK_I2S1]\t\t= &i2s1_clk.common.hw,\n\t\t[CLK_I2S2]\t\t= &i2s2_clk.common.hw,\n\t\t[CLK_I2S3]\t\t= &i2s3_clk.common.hw,\n\t\t[CLK_BUS_I2S0]\t\t= &bus_i2s0_clk.common.hw,\n\t\t[CLK_BUS_I2S1]\t\t= &bus_i2s1_clk.common.hw,\n\t\t[CLK_BUS_I2S2]\t\t= &bus_i2s2_clk.common.hw,\n\t\t[CLK_BUS_I2S3]\t\t= &bus_i2s3_clk.common.hw,\n\t\t[CLK_SPDIF]\t\t= &spdif_clk.common.hw,\n\t\t[CLK_BUS_SPDIF]\t\t= &bus_spdif_clk.common.hw,\n\t\t[CLK_DMIC]\t\t= &dmic_clk.common.hw,\n\t\t[CLK_BUS_DMIC]\t\t= &bus_dmic_clk.common.hw,\n\t\t[CLK_AUDIO_DAC]\t\t= &audio_codec_dac_clk.common.hw,\n\t\t[CLK_AUDIO_ADC]\t\t= &audio_codec_adc_clk.common.hw,\n\t\t[CLK_AUDIO_4X]\t\t= &audio_codec_4x_clk.common.hw,\n\t\t[CLK_BUS_AUDIO_CODEC]\t= &bus_audio_codec_clk.common.hw,\n\t\t[CLK_USB_OHCI0]\t\t= &usb_ohci0_clk.common.hw,\n\t\t[CLK_USB_PHY0]\t\t= &usb_phy0_clk.common.hw,\n\t\t[CLK_USB_OHCI1]\t\t= &usb_ohci1_clk.common.hw,\n\t\t[CLK_USB_PHY1]\t\t= &usb_phy1_clk.common.hw,\n\t\t[CLK_BUS_OHCI0]\t\t= &bus_ohci0_clk.common.hw,\n\t\t[CLK_BUS_OHCI1]\t\t= &bus_ohci1_clk.common.hw,\n\t\t[CLK_BUS_EHCI0]\t\t= &bus_ehci0_clk.common.hw,\n\t\t[CLK_BUS_EHCI1]\t\t= &bus_ehci1_clk.common.hw,\n\t\t[CLK_BUS_OTG]\t\t= &bus_otg_clk.common.hw,\n\t\t[CLK_BUS_LRADC]\t\t= &bus_lradc_clk.common.hw,\n\t\t[CLK_BUS_DPSS_TOP0]\t= &bus_dpss_top0_clk.common.hw,\n\t\t[CLK_BUS_DPSS_TOP1]\t= &bus_dpss_top1_clk.common.hw,\n\t\t[CLK_MIPI_DSI]\t\t= &mipi_dsi_clk.common.hw,\n\t\t[CLK_BUS_MIPI_DSI]\t= &bus_mipi_dsi_clk.common.hw,\n\t\t[CLK_TCON_LCD]\t\t= &tcon_lcd_clk.common.hw,\n\t\t[CLK_BUS_TCON_LCD]\t= &bus_tcon_lcd_clk.common.hw,\n\t\t[CLK_LEDC]\t\t= &ledc_clk.common.hw,\n\t\t[CLK_BUS_LEDC]\t\t= &bus_ledc_clk.common.hw,\n\t\t[CLK_CSI_TOP]\t\t= &csi_top_clk.common.hw,\n\t\t[CLK_CSI0_MCLK]\t\t= &csi0_mclk_clk.common.hw,\n\t\t[CLK_CSI1_MCLK]\t\t= &csi1_mclk_clk.common.hw,\n\t\t[CLK_BUS_CSI]\t\t= &bus_csi_clk.common.hw,\n\t\t[CLK_CSI_ISP]\t\t= &csi_isp_clk.common.hw,\n\t},\n\t.num = CLK_NUMBER,\n};\n\nstatic struct ccu_reset_map sun50i_a100_ccu_resets[] = {\n\t[RST_MBUS]\t\t= { 0x540, BIT(30) },\n\n\t[RST_BUS_DE]\t\t= { 0x60c, BIT(16) },\n\t[RST_BUS_G2D]\t\t= { 0x63c, BIT(16) },\n\t[RST_BUS_GPU]\t\t= { 0x67c, BIT(16) },\n\t[RST_BUS_CE]\t\t= { 0x68c, BIT(16) },\n\t[RST_BUS_VE]\t\t= { 0x69c, BIT(16) },\n\t[RST_BUS_DMA]\t\t= { 0x70c, BIT(16) },\n\t[RST_BUS_MSGBOX]\t= { 0x71c, BIT(16) },\n\t[RST_BUS_SPINLOCK]\t= { 0x72c, BIT(16) },\n\t[RST_BUS_HSTIMER]\t= { 0x73c, BIT(16) },\n\t[RST_BUS_DBG]\t\t= { 0x78c, BIT(16) },\n\t[RST_BUS_PSI]\t\t= { 0x79c, BIT(16) },\n\t[RST_BUS_PWM]\t\t= { 0x7ac, BIT(16) },\n\t[RST_BUS_DRAM]\t\t= { 0x80c, BIT(16) },\n\t[RST_BUS_NAND]\t\t= { 0x82c, BIT(16) },\n\t[RST_BUS_MMC0]\t\t= { 0x84c, BIT(16) },\n\t[RST_BUS_MMC1]\t\t= { 0x84c, BIT(17) },\n\t[RST_BUS_MMC2]\t\t= { 0x84c, BIT(18) },\n\t[RST_BUS_UART0]\t\t= { 0x90c, BIT(16) },\n\t[RST_BUS_UART1]\t\t= { 0x90c, BIT(17) },\n\t[RST_BUS_UART2]\t\t= { 0x90c, BIT(18) },\n\t[RST_BUS_UART3]\t\t= { 0x90c, BIT(19) },\n\t[RST_BUS_UART4]\t\t= { 0x90c, BIT(20) },\n\t[RST_BUS_I2C0]\t\t= { 0x91c, BIT(16) },\n\t[RST_BUS_I2C1]\t\t= { 0x91c, BIT(17) },\n\t[RST_BUS_I2C2]\t\t= { 0x91c, BIT(18) },\n\t[RST_BUS_I2C3]\t\t= { 0x91c, BIT(19) },\n\t[RST_BUS_SPI0]\t\t= { 0x96c, BIT(16) },\n\t[RST_BUS_SPI1]\t\t= { 0x96c, BIT(17) },\n\t[RST_BUS_SPI2]\t\t= { 0x96c, BIT(18) },\n\t[RST_BUS_EMAC]\t\t= { 0x97c, BIT(16) },\n\t[RST_BUS_IR_RX]\t\t= { 0x99c, BIT(16) },\n\t[RST_BUS_IR_TX]\t\t= { 0x9cc, BIT(16) },\n\t[RST_BUS_GPADC]\t\t= { 0x9ec, BIT(16) },\n\t[RST_BUS_THS]\t\t= { 0x9fc, BIT(16) },\n\t[RST_BUS_I2S0]\t\t= { 0xa20, BIT(16) },\n\t[RST_BUS_I2S1]\t\t= { 0xa20, BIT(17) },\n\t[RST_BUS_I2S2]\t\t= { 0xa20, BIT(18) },\n\t[RST_BUS_I2S3]\t\t= { 0xa20, BIT(19) },\n\t[RST_BUS_SPDIF]\t\t= { 0xa2c, BIT(16) },\n\t[RST_BUS_DMIC]\t\t= { 0xa4c, BIT(16) },\n\t[RST_BUS_AUDIO_CODEC]\t= { 0xa5c, BIT(16) },\n\n\t[RST_USB_PHY0]\t\t= { 0xa70, BIT(30) },\n\t[RST_USB_PHY1]\t\t= { 0xa74, BIT(30) },\n\n\t[RST_BUS_OHCI0]\t\t= { 0xa8c, BIT(16) },\n\t[RST_BUS_OHCI1]\t\t= { 0xa8c, BIT(17) },\n\t[RST_BUS_EHCI0]\t\t= { 0xa8c, BIT(20) },\n\t[RST_BUS_EHCI1]\t\t= { 0xa8c, BIT(21) },\n\t[RST_BUS_OTG]\t\t= { 0xa8c, BIT(24) },\n\n\t[RST_BUS_LRADC]\t\t= { 0xa9c, BIT(16) },\n\t[RST_BUS_DPSS_TOP0]\t= { 0xabc, BIT(16) },\n\t[RST_BUS_DPSS_TOP1]\t= { 0xacc, BIT(16) },\n\t[RST_BUS_MIPI_DSI]\t= { 0xb4c, BIT(16) },\n\t[RST_BUS_TCON_LCD]\t= { 0xb7c, BIT(16) },\n\t[RST_BUS_LVDS]\t\t= { 0xbac, BIT(16) },\n\t[RST_BUS_LEDC]\t\t= { 0xbfc, BIT(16) },\n\t[RST_BUS_CSI]\t\t= { 0xc1c, BIT(16) },\n\t[RST_BUS_CSI_ISP]\t= { 0xc2c, BIT(16) },\n};\n\nstatic const struct sunxi_ccu_desc sun50i_a100_ccu_desc = {\n\t.ccu_clks\t= sun50i_a100_ccu_clks,\n\t.num_ccu_clks\t= ARRAY_SIZE(sun50i_a100_ccu_clks),\n\n\t.hw_clks\t= &sun50i_a100_hw_clks,\n\n\t.resets\t\t= sun50i_a100_ccu_resets,\n\t.num_resets\t= ARRAY_SIZE(sun50i_a100_ccu_resets),\n};\n\nstatic const u32 sun50i_a100_pll_regs[] = {\n\tSUN50I_A100_PLL_CPUX_REG,\n\tSUN50I_A100_PLL_DDR0_REG,\n\tSUN50I_A100_PLL_PERIPH0_REG,\n\tSUN50I_A100_PLL_PERIPH1_REG,\n\tSUN50I_A100_PLL_GPU_REG,\n\tSUN50I_A100_PLL_VIDEO0_REG,\n\tSUN50I_A100_PLL_VIDEO1_REG,\n\tSUN50I_A100_PLL_VIDEO2_REG,\n\tSUN50I_A100_PLL_VIDEO3_REG,\n\tSUN50I_A100_PLL_VE_REG,\n\tSUN50I_A100_PLL_COM_REG,\n\tSUN50I_A100_PLL_AUDIO_REG,\n};\n\nstatic const u32 sun50i_a100_pll_video_regs[] = {\n\tSUN50I_A100_PLL_VIDEO0_REG,\n\tSUN50I_A100_PLL_VIDEO1_REG,\n\tSUN50I_A100_PLL_VIDEO2_REG,\n\tSUN50I_A100_PLL_VIDEO3_REG,\n};\n\nstatic const u32 sun50i_a100_usb2_clk_regs[] = {\n\tSUN50I_A100_USB0_CLK_REG,\n\tSUN50I_A100_USB1_CLK_REG,\n};\n\nstatic struct ccu_pll_nb sun50i_a100_pll_cpu_nb = {\n\t.common = &pll_cpux_clk.common,\n\t \n\t.enable = BIT(27),\n\t.lock   = BIT(28),\n};\n\nstatic struct ccu_mux_nb sun50i_a100_cpu_nb = {\n\t.common         = &cpux_clk.common,\n\t.cm             = &cpux_clk.mux,\n\t.delay_us       = 1,\n\t.bypass_index   = 4,  \n};\n\nstatic int sun50i_a100_ccu_probe(struct platform_device *pdev)\n{\n\tvoid __iomem *reg;\n\tu32 val;\n\tint i, ret;\n\n\treg = devm_platform_ioremap_resource(pdev, 0);\n\tif (IS_ERR(reg))\n\t\treturn PTR_ERR(reg);\n\n\t \n\tfor (i = 0; i < ARRAY_SIZE(sun50i_a100_pll_regs); i++) {\n\t\tval = readl(reg + sun50i_a100_pll_regs[i]);\n\t\tval |= SUN50I_A100_PLL_LOCK_ENABLE | SUN50I_A100_PLL_ENABLE;\n\t\twritel(val, reg + sun50i_a100_pll_regs[i]);\n\t}\n\n\t \n\twritel(SUN50I_A100_PLL_PERIPH1_PATTERN0,\n\t       reg + SUN50I_A100_PLL_PERIPH1_PATTERN0_REG);\n\n\tval = readl(reg + SUN50I_A100_PLL_PERIPH1_REG);\n\tval |= SUN50I_A100_PLL_SDM_ENABLE;\n\twritel(val, reg + SUN50I_A100_PLL_PERIPH1_REG);\n\n\t \n\tfor (i = 0; i < ARRAY_SIZE(sun50i_a100_pll_video_regs); i++) {\n\t\tval = readl(reg + sun50i_a100_pll_video_regs[i]);\n\t\tval &= ~BIT(0);\n\t\twritel(val, reg + sun50i_a100_pll_video_regs[i]);\n\t}\n\n\t \n\tval = readl(reg + SUN50I_A100_PLL_AUDIO_REG);\n\tval &= ~BIT(1);\n\tval |= BIT(0);\n\twritel(val, reg + SUN50I_A100_PLL_AUDIO_REG);\n\n\t \n\tfor (i = 0; i < ARRAY_SIZE(sun50i_a100_usb2_clk_regs); i++) {\n\t\tval = readl(reg + sun50i_a100_usb2_clk_regs[i]);\n\t\tval &= ~GENMASK(25, 24);\n\t\twritel(val, reg + sun50i_a100_usb2_clk_regs[i]);\n\t}\n\n\tret = devm_sunxi_ccu_probe(&pdev->dev, reg, &sun50i_a100_ccu_desc);\n\tif (ret)\n\t\treturn ret;\n\n\t \n\tccu_pll_notifier_register(&sun50i_a100_pll_cpu_nb);\n\n\t \n\tccu_mux_notifier_register(pll_cpux_clk.common.hw.clk,\n\t\t\t\t  &sun50i_a100_cpu_nb);\n\n\treturn 0;\n}\n\nstatic const struct of_device_id sun50i_a100_ccu_ids[] = {\n\t{ .compatible = \"allwinner,sun50i-a100-ccu\" },\n\t{ }\n};\n\nstatic struct platform_driver sun50i_a100_ccu_driver = {\n\t.probe\t= sun50i_a100_ccu_probe,\n\t.driver\t= {\n\t\t.name\t= \"sun50i-a100-ccu\",\n\t\t.suppress_bind_attrs = true,\n\t\t.of_match_table\t= sun50i_a100_ccu_ids,\n\t},\n};\nmodule_platform_driver(sun50i_a100_ccu_driver);\n\nMODULE_IMPORT_NS(SUNXI_CCU);\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}