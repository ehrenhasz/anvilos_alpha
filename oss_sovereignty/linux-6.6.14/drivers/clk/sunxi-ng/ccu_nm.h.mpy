{
  "module_name": "ccu_nm.h",
  "hash_id": "309904ac01fe5f0906060d0f9df29f5235f9a26dbe13a9b188f1c082b6018d76",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/sunxi-ng/ccu_nm.h",
  "human_readable_source": " \n \n\n#ifndef _CCU_NM_H_\n#define _CCU_NM_H_\n\n#include <linux/clk-provider.h>\n\n#include \"ccu_common.h\"\n#include \"ccu_div.h\"\n#include \"ccu_frac.h\"\n#include \"ccu_mult.h\"\n#include \"ccu_sdm.h\"\n\n \nstruct ccu_nm {\n\tu32\t\t\tenable;\n\tu32\t\t\tlock;\n\n\tstruct ccu_mult_internal\tn;\n\tstruct ccu_div_internal\t\tm;\n\tstruct ccu_frac_internal\tfrac;\n\tstruct ccu_sdm_internal\t\tsdm;\n\n\tunsigned int\t\tfixed_post_div;\n\tunsigned int\t\tmin_rate;\n\tunsigned int\t\tmax_rate;\n\n\tstruct ccu_common\tcommon;\n};\n\n#define SUNXI_CCU_NM_WITH_SDM_GATE_LOCK(_struct, _name, _parent, _reg,\t\\\n\t\t\t\t\t_nshift, _nwidth,\t\t\\\n\t\t\t\t\t_mshift, _mwidth,\t\t\\\n\t\t\t\t\t_sdm_table, _sdm_en,\t\t\\\n\t\t\t\t\t_sdm_reg, _sdm_reg_en,\t\t\\\n\t\t\t\t\t_gate, _lock, _flags)\t\t\\\n\tstruct ccu_nm _struct = {\t\t\t\t\t\\\n\t\t.enable\t\t= _gate,\t\t\t\t\\\n\t\t.lock\t\t= _lock,\t\t\t\t\\\n\t\t.n\t\t= _SUNXI_CCU_MULT(_nshift, _nwidth),\t\\\n\t\t.m\t\t= _SUNXI_CCU_DIV(_mshift, _mwidth),\t\\\n\t\t.sdm\t\t= _SUNXI_CCU_SDM(_sdm_table, _sdm_en,\t\\\n\t\t\t\t\t\t _sdm_reg, _sdm_reg_en),\\\n\t\t.common\t\t= {\t\t\t\t\t\\\n\t\t\t.reg\t\t= _reg,\t\t\t\t\\\n\t\t\t.features\t= CCU_FEATURE_SIGMA_DELTA_MOD,\t\\\n\t\t\t.hw.init\t= CLK_HW_INIT(_name,\t\t\\\n\t\t\t\t\t\t      _parent,\t\t\\\n\t\t\t\t\t\t      &ccu_nm_ops,\t\\\n\t\t\t\t\t\t      _flags),\t\t\\\n\t\t},\t\t\t\t\t\t\t\\\n\t}\n\n#define SUNXI_CCU_NM_WITH_FRAC_GATE_LOCK(_struct, _name, _parent, _reg,\t\\\n\t\t\t\t\t _nshift, _nwidth,\t\t\\\n\t\t\t\t\t _mshift, _mwidth,\t\t\\\n\t\t\t\t\t _frac_en, _frac_sel,\t\t\\\n\t\t\t\t\t _frac_rate_0, _frac_rate_1,\t\\\n\t\t\t\t\t _gate, _lock, _flags)\t\t\\\n\tstruct ccu_nm _struct = {\t\t\t\t\t\\\n\t\t.enable\t\t= _gate,\t\t\t\t\\\n\t\t.lock\t\t= _lock,\t\t\t\t\\\n\t\t.n\t\t= _SUNXI_CCU_MULT(_nshift, _nwidth),\t\\\n\t\t.m\t\t= _SUNXI_CCU_DIV(_mshift, _mwidth),\t\\\n\t\t.frac\t\t= _SUNXI_CCU_FRAC(_frac_en, _frac_sel,\t\\\n\t\t\t\t\t\t  _frac_rate_0,\t\t\\\n\t\t\t\t\t\t  _frac_rate_1),\t\\\n\t\t.common\t\t= {\t\t\t\t\t\\\n\t\t\t.reg\t\t= _reg,\t\t\t\t\\\n\t\t\t.features\t= CCU_FEATURE_FRACTIONAL,\t\\\n\t\t\t.hw.init\t= CLK_HW_INIT(_name,\t\t\\\n\t\t\t\t\t\t      _parent,\t\t\\\n\t\t\t\t\t\t      &ccu_nm_ops,\t\\\n\t\t\t\t\t\t      _flags),\t\t\\\n\t\t},\t\t\t\t\t\t\t\\\n\t}\n\n#define SUNXI_CCU_NM_WITH_FRAC_GATE_LOCK_MIN(_struct, _name, _parent,\t\\\n\t\t\t\t\t     _reg, _min_rate,\t\t\\\n\t\t\t\t\t     _nshift, _nwidth,\t\t\\\n\t\t\t\t\t     _mshift, _mwidth,\t\t\\\n\t\t\t\t\t     _frac_en, _frac_sel,\t\\\n\t\t\t\t\t     _frac_rate_0, _frac_rate_1,\\\n\t\t\t\t\t     _gate, _lock, _flags)\t\\\n\tstruct ccu_nm _struct = {\t\t\t\t\t\\\n\t\t.enable\t\t= _gate,\t\t\t\t\\\n\t\t.lock\t\t= _lock,\t\t\t\t\\\n\t\t.n\t\t= _SUNXI_CCU_MULT(_nshift, _nwidth),\t\\\n\t\t.m\t\t= _SUNXI_CCU_DIV(_mshift, _mwidth),\t\\\n\t\t.frac\t\t= _SUNXI_CCU_FRAC(_frac_en, _frac_sel,\t\\\n\t\t\t\t\t\t  _frac_rate_0,\t\t\\\n\t\t\t\t\t\t  _frac_rate_1),\t\\\n\t\t.min_rate\t= _min_rate,\t\t\t\t\\\n\t\t.common\t\t= {\t\t\t\t\t\\\n\t\t\t.reg\t\t= _reg,\t\t\t\t\\\n\t\t\t.features\t= CCU_FEATURE_FRACTIONAL,\t\\\n\t\t\t.hw.init\t= CLK_HW_INIT(_name,\t\t\\\n\t\t\t\t\t\t      _parent,\t\t\\\n\t\t\t\t\t\t      &ccu_nm_ops,\t\\\n\t\t\t\t\t\t      _flags),\t\t\\\n\t\t},\t\t\t\t\t\t\t\\\n\t}\n\n#define SUNXI_CCU_NM_WITH_FRAC_GATE_LOCK_MIN_MAX_FEAT(_struct, _name,\t\\\n\t\t\t\t\t\t _parent, _reg,\t\t\\\n\t\t\t\t\t\t _min_rate, _max_rate,\t\\\n\t\t\t\t\t\t _nshift, _nwidth,\t\\\n\t\t\t\t\t\t _mshift, _mwidth,\t\\\n\t\t\t\t\t\t _frac_en, _frac_sel,\t\\\n\t\t\t\t\t\t _frac_rate_0,\t\t\\\n\t\t\t\t\t\t _frac_rate_1,\t\t\\\n\t\t\t\t\t\t _gate, _lock, _flags,\t\\\n\t\t\t\t\t\t _features)\t\t\\\n\tstruct ccu_nm _struct = {\t\t\t\t\t\\\n\t\t.enable\t\t= _gate,\t\t\t\t\\\n\t\t.lock\t\t= _lock,\t\t\t\t\\\n\t\t.n\t\t= _SUNXI_CCU_MULT(_nshift, _nwidth),\t\\\n\t\t.m\t\t= _SUNXI_CCU_DIV(_mshift, _mwidth),\t\\\n\t\t.frac\t\t= _SUNXI_CCU_FRAC(_frac_en, _frac_sel,\t\\\n\t\t\t\t\t\t  _frac_rate_0,\t\t\\\n\t\t\t\t\t\t  _frac_rate_1),\t\\\n\t\t.min_rate\t= _min_rate,\t\t\t\t\\\n\t\t.max_rate\t= _max_rate,\t\t\t\t\\\n\t\t.common\t\t= {\t\t\t\t\t\\\n\t\t\t.reg\t\t= _reg,\t\t\t\t\\\n\t\t\t.features\t= _features,\t\t\t\\\n\t\t\t.hw.init\t= CLK_HW_INIT(_name,\t\t\\\n\t\t\t\t\t\t      _parent,\t\t\\\n\t\t\t\t\t\t      &ccu_nm_ops,\t\\\n\t\t\t\t\t\t      _flags),\t\t\\\n\t\t},\t\t\t\t\t\t\t\\\n\t}\n\n#define SUNXI_CCU_NM_WITH_FRAC_GATE_LOCK_MIN_MAX(_struct, _name,\t\\\n\t\t\t\t\t\t _parent, _reg,\t\t\\\n\t\t\t\t\t\t _min_rate, _max_rate,\t\\\n\t\t\t\t\t\t _nshift, _nwidth,\t\\\n\t\t\t\t\t\t _mshift, _mwidth,\t\\\n\t\t\t\t\t\t _frac_en, _frac_sel,\t\\\n\t\t\t\t\t\t _frac_rate_0,\t\t\\\n\t\t\t\t\t\t _frac_rate_1,\t\t\\\n\t\t\t\t\t\t _gate, _lock, _flags)\t\\\n\tSUNXI_CCU_NM_WITH_FRAC_GATE_LOCK_MIN_MAX_FEAT(_struct, _name,\t\\\n\t\t\t\t\t\t_parent, _reg,\t\t\\\n\t\t\t\t\t\t_min_rate, _max_rate,\t\\\n\t\t\t\t\t\t_nshift, _nwidth,\t\\\n\t\t\t\t\t\t_mshift, _mwidth,\t\\\n\t\t\t\t\t\t_frac_en, _frac_sel,\t\\\n\t\t\t\t\t\t_frac_rate_0,\t\t\\\n\t\t\t\t\t\t_frac_rate_1,\t\t\\\n\t\t\t\t\t\t_gate, _lock, _flags,\t\\\n\t\t\t\t\t\tCCU_FEATURE_FRACTIONAL)\n\n#define SUNXI_CCU_NM_WITH_FRAC_GATE_LOCK_MIN_MAX_CLOSEST(_struct, _name, \\\n\t\t\t\t\t\t _parent, _reg,\t\t\\\n\t\t\t\t\t\t _min_rate, _max_rate,\t\\\n\t\t\t\t\t\t _nshift, _nwidth,\t\\\n\t\t\t\t\t\t _mshift, _mwidth,\t\\\n\t\t\t\t\t\t _frac_en, _frac_sel,\t\\\n\t\t\t\t\t\t _frac_rate_0,\t\t\\\n\t\t\t\t\t\t _frac_rate_1,\t\t\\\n\t\t\t\t\t\t _gate, _lock, _flags)\t\\\n\tSUNXI_CCU_NM_WITH_FRAC_GATE_LOCK_MIN_MAX_FEAT(_struct, _name,\t\\\n\t\t\t\t\t\t_parent, _reg,\t\t\\\n\t\t\t\t\t\t_min_rate, _max_rate,\t\\\n\t\t\t\t\t\t_nshift, _nwidth,\t\\\n\t\t\t\t\t\t_mshift, _mwidth,\t\\\n\t\t\t\t\t\t_frac_en, _frac_sel,\t\\\n\t\t\t\t\t\t_frac_rate_0,\t\t\\\n\t\t\t\t\t\t_frac_rate_1,\t\t\\\n\t\t\t\t\t\t_gate, _lock, _flags,\t\\\n\t\t\t\t\t\tCCU_FEATURE_FRACTIONAL |\\\n\t\t\t\t\t\tCCU_FEATURE_CLOSEST_RATE)\n\n#define SUNXI_CCU_NM_WITH_GATE_LOCK(_struct, _name, _parent, _reg,\t\\\n\t\t\t\t    _nshift, _nwidth,\t\t\t\\\n\t\t\t\t    _mshift, _mwidth,\t\t\t\\\n\t\t\t\t    _gate, _lock, _flags)\t\t\\\n\tstruct ccu_nm _struct = {\t\t\t\t\t\\\n\t\t.enable\t\t= _gate,\t\t\t\t\\\n\t\t.lock\t\t= _lock,\t\t\t\t\\\n\t\t.n\t\t= _SUNXI_CCU_MULT(_nshift, _nwidth),\t\\\n\t\t.m\t\t= _SUNXI_CCU_DIV(_mshift, _mwidth),\t\\\n\t\t.common\t\t= {\t\t\t\t\t\\\n\t\t\t.reg\t\t= _reg,\t\t\t\t\\\n\t\t\t.hw.init\t= CLK_HW_INIT(_name,\t\t\\\n\t\t\t\t\t\t      _parent,\t\t\\\n\t\t\t\t\t\t      &ccu_nm_ops,\t\\\n\t\t\t\t\t\t      _flags),\t\t\\\n\t\t},\t\t\t\t\t\t\t\\\n\t}\n\nstatic inline struct ccu_nm *hw_to_ccu_nm(struct clk_hw *hw)\n{\n\tstruct ccu_common *common = hw_to_ccu_common(hw);\n\n\treturn container_of(common, struct ccu_nm, common);\n}\n\nextern const struct clk_ops ccu_nm_ops;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}