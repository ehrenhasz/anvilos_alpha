{
  "module_name": "ccu-sun4i-a10.c",
  "hash_id": "efb89a95b67161fc091e1f15b42828d2320105e1c78a8a0fd6ca30ccd18360f5",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/sunxi-ng/ccu-sun4i-a10.c",
  "human_readable_source": "\n \n\n#include <linux/clk-provider.h>\n#include <linux/io.h>\n#include <linux/module.h>\n#include <linux/of.h>\n#include <linux/platform_device.h>\n\n#include \"ccu_common.h\"\n#include \"ccu_reset.h\"\n\n#include \"ccu_div.h\"\n#include \"ccu_gate.h\"\n#include \"ccu_mp.h\"\n#include \"ccu_mult.h\"\n#include \"ccu_nk.h\"\n#include \"ccu_nkm.h\"\n#include \"ccu_nkmp.h\"\n#include \"ccu_nm.h\"\n#include \"ccu_phase.h\"\n#include \"ccu_sdm.h\"\n\n#include \"ccu-sun4i-a10.h\"\n\nstatic struct ccu_nkmp pll_core_clk = {\n\t.enable\t\t= BIT(31),\n\t.n\t\t= _SUNXI_CCU_MULT_OFFSET(8, 5, 0),\n\t.k\t\t= _SUNXI_CCU_MULT(4, 2),\n\t.m\t\t= _SUNXI_CCU_DIV(0, 2),\n\t.p\t\t= _SUNXI_CCU_DIV(16, 2),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x000,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-core\",\n\t\t\t\t\t      \"hosc\",\n\t\t\t\t\t      &ccu_nkmp_ops,\n\t\t\t\t\t      0),\n\t},\n};\n\n \n#define SUN4I_PLL_AUDIO_REG\t0x008\n\nstatic struct ccu_sdm_setting pll_audio_sdm_table[] = {\n\t{ .rate = 22579200, .pattern = 0xc0010d84, .m = 8, .n = 7 },\n\t{ .rate = 24576000, .pattern = 0xc000ac02, .m = 14, .n = 14 },\n};\n\nstatic struct ccu_nm pll_audio_base_clk = {\n\t.enable\t\t= BIT(31),\n\t.n\t\t= _SUNXI_CCU_MULT_OFFSET(8, 7, 0),\n\t.m\t\t= _SUNXI_CCU_DIV_OFFSET(0, 5, 0),\n\t.sdm\t\t= _SUNXI_CCU_SDM(pll_audio_sdm_table, 0,\n\t\t\t\t\t 0x00c, BIT(31)),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x008,\n\t\t.features\t= CCU_FEATURE_SIGMA_DELTA_MOD,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-audio-base\",\n\t\t\t\t\t      \"hosc\",\n\t\t\t\t\t      &ccu_nm_ops,\n\t\t\t\t\t      0),\n\t},\n\n};\n\nstatic struct ccu_mult pll_video0_clk = {\n\t.enable\t\t= BIT(31),\n\t.mult\t\t= _SUNXI_CCU_MULT_OFFSET_MIN_MAX(0, 7, 0, 9, 127),\n\t.frac\t\t= _SUNXI_CCU_FRAC(BIT(15), BIT(14),\n\t\t\t\t\t  270000000, 297000000),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x010,\n\t\t.features\t= (CCU_FEATURE_FRACTIONAL |\n\t\t\t\t   CCU_FEATURE_ALL_PREDIV),\n\t\t.prediv\t\t= 8,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-video0\",\n\t\t\t\t\t      \"hosc\",\n\t\t\t\t\t      &ccu_mult_ops,\n\t\t\t\t\t      0),\n\t},\n};\n\nstatic struct ccu_nkmp pll_ve_sun4i_clk = {\n\t.enable\t\t= BIT(31),\n\t.n\t\t= _SUNXI_CCU_MULT_OFFSET(8, 5, 0),\n\t.k\t\t= _SUNXI_CCU_MULT(4, 2),\n\t.m\t\t= _SUNXI_CCU_DIV(0, 2),\n\t.p\t\t= _SUNXI_CCU_DIV(16, 2),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x018,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-ve\",\n\t\t\t\t\t      \"hosc\",\n\t\t\t\t\t      &ccu_nkmp_ops,\n\t\t\t\t\t      0),\n\t},\n};\n\nstatic struct ccu_nk pll_ve_sun7i_clk = {\n\t.enable\t\t= BIT(31),\n\t.n\t\t= _SUNXI_CCU_MULT_OFFSET(8, 5, 0),\n\t.k\t\t= _SUNXI_CCU_MULT(4, 2),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x018,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-ve\",\n\t\t\t\t\t      \"hosc\",\n\t\t\t\t\t      &ccu_nk_ops,\n\t\t\t\t\t      0),\n\t},\n};\n\nstatic struct ccu_nk pll_ddr_base_clk = {\n\t.enable\t\t= BIT(31),\n\t.n\t\t= _SUNXI_CCU_MULT_OFFSET(8, 5, 0),\n\t.k\t\t= _SUNXI_CCU_MULT(4, 2),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x020,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-ddr-base\",\n\t\t\t\t\t      \"hosc\",\n\t\t\t\t\t      &ccu_nk_ops,\n\t\t\t\t\t      0),\n\t},\n};\n\nstatic SUNXI_CCU_M(pll_ddr_clk, \"pll-ddr\", \"pll-ddr-base\", 0x020, 0, 2,\n\t\t   CLK_IS_CRITICAL);\n\nstatic struct ccu_div pll_ddr_other_clk = {\n\t.div\t\t= _SUNXI_CCU_DIV_FLAGS(16, 2, CLK_DIVIDER_POWER_OF_TWO),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x020,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-ddr-other\", \"pll-ddr-base\",\n\t\t\t\t\t      &ccu_div_ops,\n\t\t\t\t\t      0),\n\t},\n};\n\nstatic struct ccu_nk pll_periph_base_clk = {\n\t.enable\t\t= BIT(31),\n\t.n\t\t= _SUNXI_CCU_MULT_OFFSET(8, 5, 0),\n\t.k\t\t= _SUNXI_CCU_MULT(4, 2),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x028,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-periph-base\",\n\t\t\t\t\t      \"hosc\",\n\t\t\t\t\t      &ccu_nk_ops,\n\t\t\t\t\t      0),\n\t},\n};\n\nstatic CLK_FIXED_FACTOR_HW(pll_periph_clk, \"pll-periph\",\n\t\t\t   &pll_periph_base_clk.common.hw,\n\t\t\t   2, 1, CLK_SET_RATE_PARENT);\n\n \nstatic struct ccu_div pll_periph_sata_clk = {\n\t.enable\t\t= BIT(14),\n\t.div\t\t= _SUNXI_CCU_DIV(0, 2),\n\t.fixed_post_div\t= 6,\n\t.common\t\t= {\n\t\t.reg\t\t= 0x028,\n\t\t.features\t= CCU_FEATURE_FIXED_POSTDIV,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-periph-sata\",\n\t\t\t\t\t      \"pll-periph-base\",\n\t\t\t\t\t      &ccu_div_ops, 0),\n\t},\n};\n\nstatic struct ccu_mult pll_video1_clk = {\n\t.enable\t\t= BIT(31),\n\t.mult\t\t= _SUNXI_CCU_MULT_OFFSET_MIN_MAX(0, 7, 0, 9, 127),\n\t.frac\t\t= _SUNXI_CCU_FRAC(BIT(15), BIT(14),\n\t\t\t\t  270000000, 297000000),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x030,\n\t\t.features\t= (CCU_FEATURE_FRACTIONAL |\n\t\t\t\t   CCU_FEATURE_ALL_PREDIV),\n\t\t.prediv\t\t= 8,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-video1\",\n\t\t\t\t\t      \"hosc\",\n\t\t\t\t\t      &ccu_mult_ops,\n\t\t\t\t\t      0),\n\t},\n};\n\n \nstatic struct ccu_nk pll_gpu_clk = {\n\t.enable\t\t= BIT(31),\n\t.n\t\t= _SUNXI_CCU_MULT_OFFSET(8, 5, 0),\n\t.k\t\t= _SUNXI_CCU_MULT(4, 2),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x040,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-gpu\",\n\t\t\t\t\t      \"hosc\",\n\t\t\t\t\t      &ccu_nk_ops,\n\t\t\t\t\t      0),\n\t},\n};\n\nstatic SUNXI_CCU_GATE(hosc_clk,\t\"hosc\",\t\"osc24M\", 0x050, BIT(0), 0);\n\nstatic const char *const cpu_parents[] = { \"osc32k\", \"hosc\",\n\t\t\t\t\t   \"pll-core\", \"pll-periph\" };\nstatic const struct ccu_mux_fixed_prediv cpu_predivs[] = {\n\t{ .index = 3, .div = 3, },\n};\n\n#define SUN4I_AHB_REG\t\t0x054\nstatic struct ccu_mux cpu_clk = {\n\t.mux\t\t= {\n\t\t.shift\t\t= 16,\n\t\t.width\t\t= 2,\n\t\t.fixed_predivs\t= cpu_predivs,\n\t\t.n_predivs\t= ARRAY_SIZE(cpu_predivs),\n\t},\n\t.common\t\t= {\n\t\t.reg\t\t= 0x054,\n\t\t.features\t= CCU_FEATURE_FIXED_PREDIV,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"cpu\",\n\t\t\t\t\t\t      cpu_parents,\n\t\t\t\t\t\t      &ccu_mux_ops,\n\t\t\t\t\t\t      CLK_SET_RATE_PARENT | CLK_IS_CRITICAL),\n\t}\n};\n\nstatic SUNXI_CCU_M(axi_clk, \"axi\", \"cpu\", 0x054, 0, 2, 0);\n\nstatic struct ccu_div ahb_sun4i_clk = {\n\t.div\t\t= _SUNXI_CCU_DIV_FLAGS(4, 2, CLK_DIVIDER_POWER_OF_TWO),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x054,\n\t\t.hw.init\t= CLK_HW_INIT(\"ahb\", \"axi\", &ccu_div_ops, 0),\n\t},\n};\n\nstatic const char *const ahb_sun7i_parents[] = { \"axi\", \"pll-periph\",\n\t\t\t\t\t\t \"pll-periph\" };\nstatic const struct ccu_mux_fixed_prediv ahb_sun7i_predivs[] = {\n\t{ .index = 1, .div = 2, },\n\t{   },\n};\nstatic struct ccu_div ahb_sun7i_clk = {\n\t.div\t\t= _SUNXI_CCU_DIV_FLAGS(4, 2, CLK_DIVIDER_POWER_OF_TWO),\n\t.mux\t\t= {\n\t\t.shift\t\t= 6,\n\t\t.width\t\t= 2,\n\t\t.fixed_predivs\t= ahb_sun7i_predivs,\n\t\t.n_predivs\t= ARRAY_SIZE(ahb_sun7i_predivs),\n\t},\n\n\t.common\t\t= {\n\t\t.reg\t\t= 0x054,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"ahb\",\n\t\t\t\t\t\t      ahb_sun7i_parents,\n\t\t\t\t\t\t      &ccu_div_ops,\n\t\t\t\t\t\t      0),\n\t},\n};\n\nstatic struct clk_div_table apb0_div_table[] = {\n\t{ .val = 0, .div = 2 },\n\t{ .val = 1, .div = 2 },\n\t{ .val = 2, .div = 4 },\n\t{ .val = 3, .div = 8 },\n\t{   },\n};\nstatic SUNXI_CCU_DIV_TABLE(apb0_clk, \"apb0\", \"ahb\",\n\t\t\t   0x054, 8, 2, apb0_div_table, 0);\n\nstatic const char *const apb1_parents[] = { \"hosc\", \"pll-periph\", \"osc32k\" };\nstatic SUNXI_CCU_MP_WITH_MUX(apb1_clk, \"apb1\", apb1_parents, 0x058,\n\t\t\t     0, 5,\t \n\t\t\t     16, 2,\t \n\t\t\t     24, 2,\t \n\t\t\t     0);\n\n \nstatic SUNXI_CCU_GATE(axi_dram_clk,\t\"axi-dram\",\t\"ahb\",\n\t\t      0x05c, BIT(31), 0);\n\nstatic SUNXI_CCU_GATE(ahb_otg_clk,\t\"ahb-otg\",\t\"ahb\",\n\t\t      0x060, BIT(0), 0);\nstatic SUNXI_CCU_GATE(ahb_ehci0_clk,\t\"ahb-ehci0\",\t\"ahb\",\n\t\t      0x060, BIT(1), 0);\nstatic SUNXI_CCU_GATE(ahb_ohci0_clk,\t\"ahb-ohci0\",\t\"ahb\",\n\t\t      0x060, BIT(2), 0);\nstatic SUNXI_CCU_GATE(ahb_ehci1_clk,\t\"ahb-ehci1\",\t\"ahb\",\n\t\t      0x060, BIT(3), 0);\nstatic SUNXI_CCU_GATE(ahb_ohci1_clk,\t\"ahb-ohci1\",\t\"ahb\",\n\t\t      0x060, BIT(4), 0);\nstatic SUNXI_CCU_GATE(ahb_ss_clk,\t\"ahb-ss\",\t\"ahb\",\n\t\t      0x060, BIT(5), 0);\nstatic SUNXI_CCU_GATE(ahb_dma_clk,\t\"ahb-dma\",\t\"ahb\",\n\t\t      0x060, BIT(6), 0);\nstatic SUNXI_CCU_GATE(ahb_bist_clk,\t\"ahb-bist\",\t\"ahb\",\n\t\t      0x060, BIT(7), 0);\nstatic SUNXI_CCU_GATE(ahb_mmc0_clk,\t\"ahb-mmc0\",\t\"ahb\",\n\t\t      0x060, BIT(8), 0);\nstatic SUNXI_CCU_GATE(ahb_mmc1_clk,\t\"ahb-mmc1\",\t\"ahb\",\n\t\t      0x060, BIT(9), 0);\nstatic SUNXI_CCU_GATE(ahb_mmc2_clk,\t\"ahb-mmc2\",\t\"ahb\",\n\t\t      0x060, BIT(10), 0);\nstatic SUNXI_CCU_GATE(ahb_mmc3_clk,\t\"ahb-mmc3\",\t\"ahb\",\n\t\t      0x060, BIT(11), 0);\nstatic SUNXI_CCU_GATE(ahb_ms_clk,\t\"ahb-ms\",\t\"ahb\",\n\t\t      0x060, BIT(12), 0);\nstatic SUNXI_CCU_GATE(ahb_nand_clk,\t\"ahb-nand\",\t\"ahb\",\n\t\t      0x060, BIT(13), 0);\nstatic SUNXI_CCU_GATE(ahb_sdram_clk,\t\"ahb-sdram\",\t\"ahb\",\n\t\t      0x060, BIT(14), CLK_IS_CRITICAL);\n\nstatic SUNXI_CCU_GATE(ahb_ace_clk,\t\"ahb-ace\",\t\"ahb\",\n\t\t      0x060, BIT(16), 0);\nstatic SUNXI_CCU_GATE(ahb_emac_clk,\t\"ahb-emac\",\t\"ahb\",\n\t\t      0x060, BIT(17), 0);\nstatic SUNXI_CCU_GATE(ahb_ts_clk,\t\"ahb-ts\",\t\"ahb\",\n\t\t      0x060, BIT(18), 0);\nstatic SUNXI_CCU_GATE(ahb_spi0_clk,\t\"ahb-spi0\",\t\"ahb\",\n\t\t      0x060, BIT(20), 0);\nstatic SUNXI_CCU_GATE(ahb_spi1_clk,\t\"ahb-spi1\",\t\"ahb\",\n\t\t      0x060, BIT(21), 0);\nstatic SUNXI_CCU_GATE(ahb_spi2_clk,\t\"ahb-spi2\",\t\"ahb\",\n\t\t      0x060, BIT(22), 0);\nstatic SUNXI_CCU_GATE(ahb_spi3_clk,\t\"ahb-spi3\",\t\"ahb\",\n\t\t      0x060, BIT(23), 0);\nstatic SUNXI_CCU_GATE(ahb_pata_clk,\t\"ahb-pata\",\t\"ahb\",\n\t\t      0x060, BIT(24), 0);\n \nstatic SUNXI_CCU_GATE(ahb_sata_clk,\t\"ahb-sata\",\t\"ahb\",\n\t\t      0x060, BIT(25), 0);\n \nstatic SUNXI_CCU_GATE(ahb_gps_clk,\t\"ahb-gps\",\t\"ahb\",\n\t\t      0x060, BIT(26), 0);\n \nstatic SUNXI_CCU_GATE(ahb_hstimer_clk,\t\"ahb-hstimer\",\t\"ahb\",\n\t\t      0x060, BIT(28), 0);\n\nstatic SUNXI_CCU_GATE(ahb_ve_clk,\t\"ahb-ve\",\t\"ahb\",\n\t\t      0x064, BIT(0), 0);\nstatic SUNXI_CCU_GATE(ahb_tvd_clk,\t\"ahb-tvd\",\t\"ahb\",\n\t\t      0x064, BIT(1), 0);\nstatic SUNXI_CCU_GATE(ahb_tve0_clk,\t\"ahb-tve0\",\t\"ahb\",\n\t\t      0x064, BIT(2), 0);\nstatic SUNXI_CCU_GATE(ahb_tve1_clk,\t\"ahb-tve1\",\t\"ahb\",\n\t\t      0x064, BIT(3), 0);\nstatic SUNXI_CCU_GATE(ahb_lcd0_clk,\t\"ahb-lcd0\",\t\"ahb\",\n\t\t      0x064, BIT(4), 0);\nstatic SUNXI_CCU_GATE(ahb_lcd1_clk,\t\"ahb-lcd1\",\t\"ahb\",\n\t\t      0x064, BIT(5), 0);\nstatic SUNXI_CCU_GATE(ahb_csi0_clk,\t\"ahb-csi0\",\t\"ahb\",\n\t\t      0x064, BIT(8), 0);\nstatic SUNXI_CCU_GATE(ahb_csi1_clk,\t\"ahb-csi1\",\t\"ahb\",\n\t\t      0x064, BIT(9), 0);\n \nstatic SUNXI_CCU_GATE(ahb_hdmi1_clk,\t\"ahb-hdmi1\",\t\"ahb\",\n\t\t      0x064, BIT(10), 0);\nstatic SUNXI_CCU_GATE(ahb_hdmi0_clk,\t\"ahb-hdmi0\",\t\"ahb\",\n\t\t      0x064, BIT(11), 0);\nstatic SUNXI_CCU_GATE(ahb_de_be0_clk,\t\"ahb-de-be0\",\t\"ahb\",\n\t\t      0x064, BIT(12), 0);\nstatic SUNXI_CCU_GATE(ahb_de_be1_clk,\t\"ahb-de-be1\",\t\"ahb\",\n\t\t      0x064, BIT(13), 0);\nstatic SUNXI_CCU_GATE(ahb_de_fe0_clk,\t\"ahb-de-fe0\",\t\"ahb\",\n\t\t      0x064, BIT(14), 0);\nstatic SUNXI_CCU_GATE(ahb_de_fe1_clk,\t\"ahb-de-fe1\",\t\"ahb\",\n\t\t      0x064, BIT(15), 0);\n \nstatic SUNXI_CCU_GATE(ahb_gmac_clk,\t\"ahb-gmac\",\t\"ahb\",\n\t\t      0x064, BIT(17), 0);\nstatic SUNXI_CCU_GATE(ahb_mp_clk,\t\"ahb-mp\",\t\"ahb\",\n\t\t      0x064, BIT(18), 0);\nstatic SUNXI_CCU_GATE(ahb_gpu_clk,\t\"ahb-gpu\",\t\"ahb\",\n\t\t      0x064, BIT(20), 0);\n\nstatic SUNXI_CCU_GATE(apb0_codec_clk,\t\"apb0-codec\",\t\"apb0\",\n\t\t      0x068, BIT(0), 0);\nstatic SUNXI_CCU_GATE(apb0_spdif_clk,\t\"apb0-spdif\",\t\"apb0\",\n\t\t      0x068, BIT(1), 0);\nstatic SUNXI_CCU_GATE(apb0_ac97_clk,\t\"apb0-ac97\",\t\"apb0\",\n\t\t      0x068, BIT(2), 0);\nstatic SUNXI_CCU_GATE(apb0_i2s0_clk,\t\"apb0-i2s0\",\t\"apb0\",\n\t\t      0x068, BIT(3), 0);\n \nstatic SUNXI_CCU_GATE(apb0_i2s1_clk,\t\"apb0-i2s1\",\t\"apb0\",\n\t\t      0x068, BIT(4), 0);\nstatic SUNXI_CCU_GATE(apb0_pio_clk,\t\"apb0-pio\",\t\"apb0\",\n\t\t      0x068, BIT(5), 0);\nstatic SUNXI_CCU_GATE(apb0_ir0_clk,\t\"apb0-ir0\",\t\"apb0\",\n\t\t      0x068, BIT(6), 0);\nstatic SUNXI_CCU_GATE(apb0_ir1_clk,\t\"apb0-ir1\",\t\"apb0\",\n\t\t      0x068, BIT(7), 0);\n \nstatic SUNXI_CCU_GATE(apb0_i2s2_clk,\t\"apb0-i2s2\",\t\"apb0\",\n\t\t      0x068, BIT(8), 0);\nstatic SUNXI_CCU_GATE(apb0_keypad_clk,\t\"apb0-keypad\",\t\"apb0\",\n\t\t      0x068, BIT(10), 0);\n\nstatic SUNXI_CCU_GATE(apb1_i2c0_clk,\t\"apb1-i2c0\",\t\"apb1\",\n\t\t      0x06c, BIT(0), 0);\nstatic SUNXI_CCU_GATE(apb1_i2c1_clk,\t\"apb1-i2c1\",\t\"apb1\",\n\t\t      0x06c, BIT(1), 0);\nstatic SUNXI_CCU_GATE(apb1_i2c2_clk,\t\"apb1-i2c2\",\t\"apb1\",\n\t\t      0x06c, BIT(2), 0);\n \nstatic SUNXI_CCU_GATE(apb1_i2c3_clk,\t\"apb1-i2c3\",\t\"apb1\",\n\t\t      0x06c, BIT(3), 0);\nstatic SUNXI_CCU_GATE(apb1_can_clk,\t\"apb1-can\",\t\"apb1\",\n\t\t      0x06c, BIT(4), 0);\nstatic SUNXI_CCU_GATE(apb1_scr_clk,\t\"apb1-scr\",\t\"apb1\",\n\t\t      0x06c, BIT(5), 0);\nstatic SUNXI_CCU_GATE(apb1_ps20_clk,\t\"apb1-ps20\",\t\"apb1\",\n\t\t      0x06c, BIT(6), 0);\nstatic SUNXI_CCU_GATE(apb1_ps21_clk,\t\"apb1-ps21\",\t\"apb1\",\n\t\t      0x06c, BIT(7), 0);\n \nstatic SUNXI_CCU_GATE(apb1_i2c4_clk,\t\"apb1-i2c4\",\t\"apb1\",\n\t\t      0x06c, BIT(15), 0);\nstatic SUNXI_CCU_GATE(apb1_uart0_clk,\t\"apb1-uart0\",\t\"apb1\",\n\t\t      0x06c, BIT(16), 0);\nstatic SUNXI_CCU_GATE(apb1_uart1_clk,\t\"apb1-uart1\",\t\"apb1\",\n\t\t      0x06c, BIT(17), 0);\nstatic SUNXI_CCU_GATE(apb1_uart2_clk,\t\"apb1-uart2\",\t\"apb1\",\n\t\t      0x06c, BIT(18), 0);\nstatic SUNXI_CCU_GATE(apb1_uart3_clk,\t\"apb1-uart3\",\t\"apb1\",\n\t\t      0x06c, BIT(19), 0);\nstatic SUNXI_CCU_GATE(apb1_uart4_clk,\t\"apb1-uart4\",\t\"apb1\",\n\t\t      0x06c, BIT(20), 0);\nstatic SUNXI_CCU_GATE(apb1_uart5_clk,\t\"apb1-uart5\",\t\"apb1\",\n\t\t      0x06c, BIT(21), 0);\nstatic SUNXI_CCU_GATE(apb1_uart6_clk,\t\"apb1-uart6\",\t\"apb1\",\n\t\t      0x06c, BIT(22), 0);\nstatic SUNXI_CCU_GATE(apb1_uart7_clk,\t\"apb1-uart7\",\t\"apb1\",\n\t\t      0x06c, BIT(23), 0);\n\nstatic const char *const mod0_default_parents[] = { \"hosc\", \"pll-periph\",\n\t\t\t\t\t\t     \"pll-ddr-other\" };\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(nand_clk, \"nand\", mod0_default_parents, 0x080,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\n \nstatic SUNXI_CCU_MP_WITH_MUX_GATE(ms_clk, \"ms\", mod0_default_parents, 0x084,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(mmc0_clk, \"mmc0\", mod0_default_parents, 0x088,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\n \nstatic SUNXI_CCU_PHASE(mmc0_output_clk, \"mmc0_output\", \"mmc0\",\n\t\t       0x088, 8, 3, 0);\nstatic SUNXI_CCU_PHASE(mmc0_sample_clk, \"mmc0_sample\", \"mmc0\",\n\t\t       0x088, 20, 3, 0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(mmc1_clk, \"mmc1\", mod0_default_parents, 0x08c,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\n \nstatic SUNXI_CCU_PHASE(mmc1_output_clk, \"mmc1_output\", \"mmc1\",\n\t\t       0x08c, 8, 3, 0);\nstatic SUNXI_CCU_PHASE(mmc1_sample_clk, \"mmc1_sample\", \"mmc1\",\n\t\t       0x08c, 20, 3, 0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(mmc2_clk, \"mmc2\", mod0_default_parents, 0x090,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\n \nstatic SUNXI_CCU_PHASE(mmc2_output_clk, \"mmc2_output\", \"mmc2\",\n\t\t       0x090, 8, 3, 0);\nstatic SUNXI_CCU_PHASE(mmc2_sample_clk, \"mmc2_sample\", \"mmc2\",\n\t\t       0x090, 20, 3, 0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(mmc3_clk, \"mmc3\", mod0_default_parents, 0x094,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\n \nstatic SUNXI_CCU_PHASE(mmc3_output_clk, \"mmc3_output\", \"mmc3\",\n\t\t       0x094, 8, 3, 0);\nstatic SUNXI_CCU_PHASE(mmc3_sample_clk, \"mmc3_sample\", \"mmc3\",\n\t\t       0x094, 20, 3, 0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(ts_clk, \"ts\", mod0_default_parents, 0x098,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(ss_clk, \"ss\", mod0_default_parents, 0x09c,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(spi0_clk, \"spi0\", mod0_default_parents, 0x0a0,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(spi1_clk, \"spi1\", mod0_default_parents, 0x0a4,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(spi2_clk, \"spi2\", mod0_default_parents, 0x0a8,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\n \nstatic SUNXI_CCU_MP_WITH_MUX_GATE(pata_clk, \"pata\", mod0_default_parents, 0x0ac,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\n \nstatic const char *const ir_parents_sun4i[] = { \"hosc\", \"pll-periph\",\n\t\t\t\t\t\t\"pll-ddr-other\" };\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(ir0_sun4i_clk, \"ir0\", ir_parents_sun4i, 0x0b0,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(ir1_sun4i_clk, \"ir1\", ir_parents_sun4i, 0x0b4,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\nstatic const char *const ir_parents_sun7i[] = { \"hosc\", \"pll-periph\",\n\t\t\t\t\t\t\"pll-ddr-other\", \"osc32k\" };\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(ir0_sun7i_clk, \"ir0\", ir_parents_sun7i, 0x0b0,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(ir1_sun7i_clk, \"ir1\", ir_parents_sun7i, 0x0b4,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic const char *const audio_parents[] = { \"pll-audio-8x\", \"pll-audio-4x\",\n\t\t\t\t\t      \"pll-audio-2x\", \"pll-audio\" };\nstatic SUNXI_CCU_MUX_WITH_GATE(i2s0_clk, \"i2s0\", audio_parents,\n\t\t\t       0x0b8, 16, 2, BIT(31), CLK_SET_RATE_PARENT);\n\nstatic SUNXI_CCU_MUX_WITH_GATE(ac97_clk, \"ac97\", audio_parents,\n\t\t\t       0x0bc, 16, 2, BIT(31), CLK_SET_RATE_PARENT);\n\n \nstatic SUNXI_CCU_MUX_WITH_GATE(spdif_clk, \"spdif\", audio_parents,\n\t\t\t       0x0c0, 16, 2, BIT(31), CLK_SET_RATE_PARENT);\n\nstatic const char *const keypad_parents[] = { \"hosc\", \"losc\"};\nstatic const u8 keypad_table[] = { 0, 2 };\nstatic struct ccu_mp keypad_clk = {\n\t.enable\t\t= BIT(31),\n\t.m\t\t= _SUNXI_CCU_DIV(0, 5),\n\t.p\t\t= _SUNXI_CCU_DIV(16, 2),\n\t.mux\t\t= _SUNXI_CCU_MUX_TABLE(24, 2, keypad_table),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x0c4,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"keypad\",\n\t\t\t\t\t\t      keypad_parents,\n\t\t\t\t\t\t      &ccu_mp_ops,\n\t\t\t\t\t\t      0),\n\t},\n};\n\n \nstatic const char *const sata_parents[] = {\"pll-periph-sata\", \"sata-ext\"};\nstatic SUNXI_CCU_MUX_WITH_GATE(sata_clk, \"sata\", sata_parents,\n\t\t\t       0x0c8, 24, 1, BIT(31), CLK_SET_RATE_PARENT);\n\n\nstatic SUNXI_CCU_GATE(usb_ohci0_clk,\t\"usb-ohci0\",\t\"pll-periph\",\n\t\t      0x0cc, BIT(6), 0);\nstatic SUNXI_CCU_GATE(usb_ohci1_clk,\t\"usb-ohci1\",\t\"pll-periph\",\n\t\t      0x0cc, BIT(7), 0);\nstatic SUNXI_CCU_GATE(usb_phy_clk,\t\"usb-phy\",\t\"pll-periph\",\n\t\t      0x0cc, BIT(8), 0);\n\n \n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(spi3_clk, \"spi3\", mod0_default_parents, 0x0d4,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 2,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\n \nstatic SUNXI_CCU_MUX_WITH_GATE(i2s1_clk, \"i2s1\", audio_parents,\n\t\t\t       0x0d8, 16, 2, BIT(31), CLK_SET_RATE_PARENT);\n\n \nstatic SUNXI_CCU_MUX_WITH_GATE(i2s2_clk, \"i2s2\", audio_parents,\n\t\t\t       0x0dc, 16, 2, BIT(31), CLK_SET_RATE_PARENT);\n\nstatic SUNXI_CCU_GATE(dram_ve_clk,\t\"dram-ve\",\t\"pll-ddr\",\n\t\t      0x100, BIT(0), 0);\nstatic SUNXI_CCU_GATE(dram_csi0_clk,\t\"dram-csi0\",\t\"pll-ddr\",\n\t\t      0x100, BIT(1), 0);\nstatic SUNXI_CCU_GATE(dram_csi1_clk,\t\"dram-csi1\",\t\"pll-ddr\",\n\t\t      0x100, BIT(2), 0);\nstatic SUNXI_CCU_GATE(dram_ts_clk,\t\"dram-ts\",\t\"pll-ddr\",\n\t\t      0x100, BIT(3), 0);\nstatic SUNXI_CCU_GATE(dram_tvd_clk,\t\"dram-tvd\",\t\"pll-ddr\",\n\t\t      0x100, BIT(4), 0);\nstatic SUNXI_CCU_GATE(dram_tve0_clk,\t\"dram-tve0\",\t\"pll-ddr\",\n\t\t      0x100, BIT(5), 0);\nstatic SUNXI_CCU_GATE(dram_tve1_clk,\t\"dram-tve1\",\t\"pll-ddr\",\n\t\t      0x100, BIT(6), 0);\n\n \nstatic SUNXI_CCU_GATE(dram_out_clk,\t\"dram-out\",\t\"pll-ddr\",\n\t\t      0x100, BIT(15), CLK_IS_CRITICAL);\nstatic SUNXI_CCU_GATE(dram_de_fe1_clk,\t\"dram-de-fe1\",\t\"pll-ddr\",\n\t\t      0x100, BIT(24), 0);\nstatic SUNXI_CCU_GATE(dram_de_fe0_clk,\t\"dram-de-fe0\",\t\"pll-ddr\",\n\t\t      0x100, BIT(25), 0);\nstatic SUNXI_CCU_GATE(dram_de_be0_clk,\t\"dram-de-be0\",\t\"pll-ddr\",\n\t\t      0x100, BIT(26), 0);\nstatic SUNXI_CCU_GATE(dram_de_be1_clk,\t\"dram-de-be1\",\t\"pll-ddr\",\n\t\t      0x100, BIT(27), 0);\nstatic SUNXI_CCU_GATE(dram_mp_clk,\t\"dram-mp\",\t\"pll-ddr\",\n\t\t      0x100, BIT(28), 0);\nstatic SUNXI_CCU_GATE(dram_ace_clk,\t\"dram-ace\",\t\"pll-ddr\",\n\t\t      0x100, BIT(29), 0);\n\nstatic const char *const de_parents[] = { \"pll-video0\", \"pll-video1\",\n\t\t\t\t\t   \"pll-ddr-other\" };\nstatic SUNXI_CCU_M_WITH_MUX_GATE(de_be0_clk, \"de-be0\", de_parents,\n\t\t\t\t 0x104, 0, 4, 24, 2, BIT(31), 0);\n\nstatic SUNXI_CCU_M_WITH_MUX_GATE(de_be1_clk, \"de-be1\", de_parents,\n\t\t\t\t 0x108, 0, 4, 24, 2, BIT(31), 0);\n\nstatic SUNXI_CCU_M_WITH_MUX_GATE(de_fe0_clk, \"de-fe0\", de_parents,\n\t\t\t\t 0x10c, 0, 4, 24, 2, BIT(31), 0);\n\nstatic SUNXI_CCU_M_WITH_MUX_GATE(de_fe1_clk, \"de-fe1\", de_parents,\n\t\t\t\t 0x110, 0, 4, 24, 2, BIT(31), 0);\n\n \nstatic SUNXI_CCU_M_WITH_MUX_GATE(de_mp_clk, \"de-mp\", de_parents,\n\t\t\t\t 0x114, 0, 4, 24, 2, BIT(31), 0);\n\nstatic const char *const disp_parents[] = { \"pll-video0\", \"pll-video1\",\n\t\t\t\t\t    \"pll-video0-2x\", \"pll-video1-2x\" };\nstatic SUNXI_CCU_MUX_WITH_GATE(tcon0_ch0_clk, \"tcon0-ch0-sclk\", disp_parents,\n\t\t\t       0x118, 24, 2, BIT(31), CLK_SET_RATE_PARENT);\nstatic SUNXI_CCU_MUX_WITH_GATE(tcon1_ch0_clk, \"tcon1-ch0-sclk\", disp_parents,\n\t\t\t       0x11c, 24, 2, BIT(31), CLK_SET_RATE_PARENT);\n\nstatic const char *const csi_sclk_parents[] = { \"pll-video0\", \"pll-ve\",\n\t\t\t\t\t\t\"pll-ddr-other\", \"pll-periph\" };\n\nstatic SUNXI_CCU_M_WITH_MUX_GATE(csi_sclk_clk, \"csi-sclk\",\n\t\t\t\t csi_sclk_parents,\n\t\t\t\t 0x120, 0, 4, 24, 2, BIT(31), 0);\n\n \nstatic const char *const tvd_parents[] = { \"pll-video0\", \"pll-video1\" };\nstatic SUNXI_CCU_MUX_WITH_GATE(tvd_sun4i_clk, \"tvd\", tvd_parents,\n\t\t\t       0x128, 24, 1, BIT(31), 0);\n\n \nstatic SUNXI_CCU_MP_WITH_MUX_GATE(tvd_sclk2_sun7i_clk,\n\t\t\t\t  \"tvd-sclk2\", tvd_parents,\n\t\t\t\t  0x128,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 4,\t \n\t\t\t\t  8, 1,\t\t \n\t\t\t\t  BIT(15),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_M_WITH_GATE(tvd_sclk1_sun7i_clk, \"tvd-sclk1\", \"tvd-sclk2\",\n\t\t\t     0x128, 0, 4, BIT(31), 0);\n\nstatic SUNXI_CCU_M_WITH_MUX_GATE(tcon0_ch1_sclk2_clk, \"tcon0-ch1-sclk2\",\n\t\t\t\t disp_parents,\n\t\t\t\t 0x12c, 0, 4, 24, 2, BIT(31),\n\t\t\t\t CLK_SET_RATE_PARENT);\n\nstatic SUNXI_CCU_M_WITH_GATE(tcon0_ch1_clk,\n\t\t\t     \"tcon0-ch1-sclk1\", \"tcon0-ch1-sclk2\",\n\t\t\t     0x12c, 11, 1, BIT(15),\n\t\t\t     CLK_SET_RATE_PARENT);\n\nstatic SUNXI_CCU_M_WITH_MUX_GATE(tcon1_ch1_sclk2_clk, \"tcon1-ch1-sclk2\",\n\t\t\t\t disp_parents,\n\t\t\t\t 0x130, 0, 4, 24, 2, BIT(31),\n\t\t\t\t CLK_SET_RATE_PARENT);\n\nstatic SUNXI_CCU_M_WITH_GATE(tcon1_ch1_clk,\n\t\t\t     \"tcon1-ch1-sclk1\", \"tcon1-ch1-sclk2\",\n\t\t\t     0x130, 11, 1, BIT(15),\n\t\t\t     CLK_SET_RATE_PARENT);\n\nstatic const char *const csi_parents[] = { \"hosc\", \"pll-video0\", \"pll-video1\",\n\t\t\t\t\t   \"pll-video0-2x\", \"pll-video1-2x\"};\nstatic const u8 csi_table[] = { 0, 1, 2, 5, 6};\nstatic SUNXI_CCU_M_WITH_MUX_TABLE_GATE(csi0_clk, \"csi0\",\n\t\t\t\t       csi_parents, csi_table,\n\t\t\t\t       0x134, 0, 5, 24, 3, BIT(31), 0);\n\nstatic SUNXI_CCU_M_WITH_MUX_TABLE_GATE(csi1_clk, \"csi1\",\n\t\t\t\t       csi_parents, csi_table,\n\t\t\t\t       0x138, 0, 5, 24, 3, BIT(31), 0);\n\nstatic SUNXI_CCU_M_WITH_GATE(ve_clk, \"ve\", \"pll-ve\", 0x13c, 16, 8, BIT(31), 0);\n\nstatic SUNXI_CCU_GATE(codec_clk, \"codec\", \"pll-audio\",\n\t\t      0x140, BIT(31), CLK_SET_RATE_PARENT);\n\nstatic SUNXI_CCU_GATE(avs_clk, \"avs\", \"hosc\", 0x144, BIT(31), 0);\n\nstatic const char *const ace_parents[] = { \"pll-ve\", \"pll-ddr-other\" };\nstatic SUNXI_CCU_M_WITH_MUX_GATE(ace_clk, \"ace\", ace_parents,\n\t\t\t\t 0x148, 0, 4, 24, 1, BIT(31), 0);\n\nstatic SUNXI_CCU_M_WITH_MUX_GATE(hdmi_clk, \"hdmi\", disp_parents,\n\t\t\t\t 0x150, 0, 4, 24, 2, BIT(31),\n\t\t\t\t CLK_SET_RATE_PARENT);\n\nstatic const char *const gpu_parents_sun4i[] = { \"pll-video0\", \"pll-ve\",\n\t\t\t\t\t\t \"pll-ddr-other\",\n\t\t\t\t\t\t \"pll-video1\" };\nstatic SUNXI_CCU_M_WITH_MUX_GATE(gpu_sun4i_clk, \"gpu\", gpu_parents_sun4i,\n\t\t\t\t 0x154, 0, 4, 24, 2, BIT(31),\n\t\t\t\t CLK_SET_RATE_PARENT);\n\nstatic const char *const gpu_parents_sun7i[] = { \"pll-video0\", \"pll-ve\",\n\t\t\t\t\t\t \"pll-ddr-other\", \"pll-video1\",\n\t\t\t\t\t\t \"pll-gpu\" };\nstatic const u8 gpu_table_sun7i[] = { 0, 1, 2, 3, 4 };\nstatic SUNXI_CCU_M_WITH_MUX_TABLE_GATE(gpu_sun7i_clk, \"gpu\",\n\t\t\t\t       gpu_parents_sun7i, gpu_table_sun7i,\n\t\t\t\t       0x154, 0, 4, 24, 3, BIT(31),\n\t\t\t\t       CLK_SET_RATE_PARENT);\n\nstatic const char *const mbus_sun4i_parents[] = { \"hosc\", \"pll-periph\",\n\t\t\t\t\t\t  \"pll-ddr-other\" };\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(mbus_sun4i_clk, \"mbus\", mbus_sun4i_parents,\n\t\t\t\t  0x15c, 0, 4, 16, 2, 24, 2, BIT(31),\n\t\t\t\t  0);\nstatic const char *const mbus_sun7i_parents[] = { \"hosc\", \"pll-periph-base\",\n\t\t\t\t\t\t  \"pll-ddr-other\" };\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(mbus_sun7i_clk, \"mbus\", mbus_sun7i_parents,\n\t\t\t\t  0x15c, 0, 4, 16, 2, 24, 2, BIT(31),\n\t\t\t\t  CLK_IS_CRITICAL);\n\nstatic SUNXI_CCU_GATE(hdmi1_slow_clk, \"hdmi1-slow\", \"hosc\", 0x178, BIT(31), 0);\n\nstatic const char *const hdmi1_parents[] = { \"pll-video0\", \"pll-video1\" };\nstatic const u8 hdmi1_table[] = { 0, 1};\nstatic SUNXI_CCU_M_WITH_MUX_TABLE_GATE(hdmi1_clk, \"hdmi1\",\n\t\t\t\t       hdmi1_parents, hdmi1_table,\n\t\t\t\t       0x17c, 0, 4, 24, 2, BIT(31),\n\t\t\t\t       CLK_SET_RATE_PARENT);\n\nstatic const char *const out_parents[] = { \"hosc\", \"osc32k\", \"hosc\" };\nstatic const struct ccu_mux_fixed_prediv clk_out_predivs[] = {\n\t{ .index = 0, .div = 750, },\n};\n\nstatic struct ccu_mp out_a_clk = {\n\t.enable\t\t= BIT(31),\n\t.m\t\t= _SUNXI_CCU_DIV(8, 5),\n\t.p\t\t= _SUNXI_CCU_DIV(20, 2),\n\t.mux\t\t= {\n\t\t.shift\t\t= 24,\n\t\t.width\t\t= 2,\n\t\t.fixed_predivs\t= clk_out_predivs,\n\t\t.n_predivs\t= ARRAY_SIZE(clk_out_predivs),\n\t},\n\t.common\t\t= {\n\t\t.reg\t\t= 0x1f0,\n\t\t.features\t= CCU_FEATURE_FIXED_PREDIV,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"out-a\",\n\t\t\t\t\t\t      out_parents,\n\t\t\t\t\t\t      &ccu_mp_ops,\n\t\t\t\t\t\t      0),\n\t},\n};\nstatic struct ccu_mp out_b_clk = {\n\t.enable\t\t= BIT(31),\n\t.m\t\t= _SUNXI_CCU_DIV(8, 5),\n\t.p\t\t= _SUNXI_CCU_DIV(20, 2),\n\t.mux\t\t= {\n\t\t.shift\t\t= 24,\n\t\t.width\t\t= 2,\n\t\t.fixed_predivs\t= clk_out_predivs,\n\t\t.n_predivs\t= ARRAY_SIZE(clk_out_predivs),\n\t},\n\t.common\t\t= {\n\t\t.reg\t\t= 0x1f4,\n\t\t.features\t= CCU_FEATURE_FIXED_PREDIV,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"out-b\",\n\t\t\t\t\t\t      out_parents,\n\t\t\t\t\t\t      &ccu_mp_ops,\n\t\t\t\t\t\t      0),\n\t},\n};\n\nstatic struct ccu_common *sun4i_sun7i_ccu_clks[] = {\n\t&hosc_clk.common,\n\t&pll_core_clk.common,\n\t&pll_audio_base_clk.common,\n\t&pll_video0_clk.common,\n\t&pll_ve_sun4i_clk.common,\n\t&pll_ve_sun7i_clk.common,\n\t&pll_ddr_base_clk.common,\n\t&pll_ddr_clk.common,\n\t&pll_ddr_other_clk.common,\n\t&pll_periph_base_clk.common,\n\t&pll_periph_sata_clk.common,\n\t&pll_video1_clk.common,\n\t&pll_gpu_clk.common,\n\t&cpu_clk.common,\n\t&axi_clk.common,\n\t&axi_dram_clk.common,\n\t&ahb_sun4i_clk.common,\n\t&ahb_sun7i_clk.common,\n\t&apb0_clk.common,\n\t&apb1_clk.common,\n\t&ahb_otg_clk.common,\n\t&ahb_ehci0_clk.common,\n\t&ahb_ohci0_clk.common,\n\t&ahb_ehci1_clk.common,\n\t&ahb_ohci1_clk.common,\n\t&ahb_ss_clk.common,\n\t&ahb_dma_clk.common,\n\t&ahb_bist_clk.common,\n\t&ahb_mmc0_clk.common,\n\t&ahb_mmc1_clk.common,\n\t&ahb_mmc2_clk.common,\n\t&ahb_mmc3_clk.common,\n\t&ahb_ms_clk.common,\n\t&ahb_nand_clk.common,\n\t&ahb_sdram_clk.common,\n\t&ahb_ace_clk.common,\n\t&ahb_emac_clk.common,\n\t&ahb_ts_clk.common,\n\t&ahb_spi0_clk.common,\n\t&ahb_spi1_clk.common,\n\t&ahb_spi2_clk.common,\n\t&ahb_spi3_clk.common,\n\t&ahb_pata_clk.common,\n\t&ahb_sata_clk.common,\n\t&ahb_gps_clk.common,\n\t&ahb_hstimer_clk.common,\n\t&ahb_ve_clk.common,\n\t&ahb_tvd_clk.common,\n\t&ahb_tve0_clk.common,\n\t&ahb_tve1_clk.common,\n\t&ahb_lcd0_clk.common,\n\t&ahb_lcd1_clk.common,\n\t&ahb_csi0_clk.common,\n\t&ahb_csi1_clk.common,\n\t&ahb_hdmi1_clk.common,\n\t&ahb_hdmi0_clk.common,\n\t&ahb_de_be0_clk.common,\n\t&ahb_de_be1_clk.common,\n\t&ahb_de_fe0_clk.common,\n\t&ahb_de_fe1_clk.common,\n\t&ahb_gmac_clk.common,\n\t&ahb_mp_clk.common,\n\t&ahb_gpu_clk.common,\n\t&apb0_codec_clk.common,\n\t&apb0_spdif_clk.common,\n\t&apb0_ac97_clk.common,\n\t&apb0_i2s0_clk.common,\n\t&apb0_i2s1_clk.common,\n\t&apb0_pio_clk.common,\n\t&apb0_ir0_clk.common,\n\t&apb0_ir1_clk.common,\n\t&apb0_i2s2_clk.common,\n\t&apb0_keypad_clk.common,\n\t&apb1_i2c0_clk.common,\n\t&apb1_i2c1_clk.common,\n\t&apb1_i2c2_clk.common,\n\t&apb1_i2c3_clk.common,\n\t&apb1_can_clk.common,\n\t&apb1_scr_clk.common,\n\t&apb1_ps20_clk.common,\n\t&apb1_ps21_clk.common,\n\t&apb1_i2c4_clk.common,\n\t&apb1_uart0_clk.common,\n\t&apb1_uart1_clk.common,\n\t&apb1_uart2_clk.common,\n\t&apb1_uart3_clk.common,\n\t&apb1_uart4_clk.common,\n\t&apb1_uart5_clk.common,\n\t&apb1_uart6_clk.common,\n\t&apb1_uart7_clk.common,\n\t&nand_clk.common,\n\t&ms_clk.common,\n\t&mmc0_clk.common,\n\t&mmc0_output_clk.common,\n\t&mmc0_sample_clk.common,\n\t&mmc1_clk.common,\n\t&mmc1_output_clk.common,\n\t&mmc1_sample_clk.common,\n\t&mmc2_clk.common,\n\t&mmc2_output_clk.common,\n\t&mmc2_sample_clk.common,\n\t&mmc3_clk.common,\n\t&mmc3_output_clk.common,\n\t&mmc3_sample_clk.common,\n\t&ts_clk.common,\n\t&ss_clk.common,\n\t&spi0_clk.common,\n\t&spi1_clk.common,\n\t&spi2_clk.common,\n\t&pata_clk.common,\n\t&ir0_sun4i_clk.common,\n\t&ir1_sun4i_clk.common,\n\t&ir0_sun7i_clk.common,\n\t&ir1_sun7i_clk.common,\n\t&i2s0_clk.common,\n\t&ac97_clk.common,\n\t&spdif_clk.common,\n\t&keypad_clk.common,\n\t&sata_clk.common,\n\t&usb_ohci0_clk.common,\n\t&usb_ohci1_clk.common,\n\t&usb_phy_clk.common,\n\t&spi3_clk.common,\n\t&i2s1_clk.common,\n\t&i2s2_clk.common,\n\t&dram_ve_clk.common,\n\t&dram_csi0_clk.common,\n\t&dram_csi1_clk.common,\n\t&dram_ts_clk.common,\n\t&dram_tvd_clk.common,\n\t&dram_tve0_clk.common,\n\t&dram_tve1_clk.common,\n\t&dram_out_clk.common,\n\t&dram_de_fe1_clk.common,\n\t&dram_de_fe0_clk.common,\n\t&dram_de_be0_clk.common,\n\t&dram_de_be1_clk.common,\n\t&dram_mp_clk.common,\n\t&dram_ace_clk.common,\n\t&de_be0_clk.common,\n\t&de_be1_clk.common,\n\t&de_fe0_clk.common,\n\t&de_fe1_clk.common,\n\t&de_mp_clk.common,\n\t&tcon0_ch0_clk.common,\n\t&tcon1_ch0_clk.common,\n\t&csi_sclk_clk.common,\n\t&tvd_sun4i_clk.common,\n\t&tvd_sclk1_sun7i_clk.common,\n\t&tvd_sclk2_sun7i_clk.common,\n\t&tcon0_ch1_sclk2_clk.common,\n\t&tcon0_ch1_clk.common,\n\t&tcon1_ch1_sclk2_clk.common,\n\t&tcon1_ch1_clk.common,\n\t&csi0_clk.common,\n\t&csi1_clk.common,\n\t&ve_clk.common,\n\t&codec_clk.common,\n\t&avs_clk.common,\n\t&ace_clk.common,\n\t&hdmi_clk.common,\n\t&gpu_sun4i_clk.common,\n\t&gpu_sun7i_clk.common,\n\t&mbus_sun4i_clk.common,\n\t&mbus_sun7i_clk.common,\n\t&hdmi1_slow_clk.common,\n\t&hdmi1_clk.common,\n\t&out_a_clk.common,\n\t&out_b_clk.common\n};\n\nstatic const struct clk_hw *clk_parent_pll_audio[] = {\n\t&pll_audio_base_clk.common.hw\n};\n\n \nstatic CLK_FIXED_FACTOR_HWS(pll_audio_clk, \"pll-audio\",\n\t\t\t    clk_parent_pll_audio,\n\t\t\t    1, 1, CLK_SET_RATE_PARENT);\nstatic CLK_FIXED_FACTOR_HWS(pll_audio_2x_clk, \"pll-audio-2x\",\n\t\t\t    clk_parent_pll_audio,\n\t\t\t    2, 1, CLK_SET_RATE_PARENT);\nstatic CLK_FIXED_FACTOR_HWS(pll_audio_4x_clk, \"pll-audio-4x\",\n\t\t\t    clk_parent_pll_audio,\n\t\t\t    1, 1, CLK_SET_RATE_PARENT);\nstatic CLK_FIXED_FACTOR_HWS(pll_audio_8x_clk, \"pll-audio-8x\",\n\t\t\t    clk_parent_pll_audio,\n\t\t\t    1, 2, CLK_SET_RATE_PARENT);\nstatic CLK_FIXED_FACTOR_HW(pll_video0_2x_clk, \"pll-video0-2x\",\n\t\t\t   &pll_video0_clk.common.hw,\n\t\t\t   1, 2, CLK_SET_RATE_PARENT);\nstatic CLK_FIXED_FACTOR_HW(pll_video1_2x_clk, \"pll-video1-2x\",\n\t\t\t   &pll_video1_clk.common.hw,\n\t\t\t   1, 2, CLK_SET_RATE_PARENT);\n\n\nstatic struct clk_hw_onecell_data sun4i_a10_hw_clks = {\n\t.hws\t= {\n\t\t[CLK_HOSC]\t\t= &hosc_clk.common.hw,\n\t\t[CLK_PLL_CORE]\t\t= &pll_core_clk.common.hw,\n\t\t[CLK_PLL_AUDIO_BASE]\t= &pll_audio_base_clk.common.hw,\n\t\t[CLK_PLL_AUDIO]\t\t= &pll_audio_clk.hw,\n\t\t[CLK_PLL_AUDIO_2X]\t= &pll_audio_2x_clk.hw,\n\t\t[CLK_PLL_AUDIO_4X]\t= &pll_audio_4x_clk.hw,\n\t\t[CLK_PLL_AUDIO_8X]\t= &pll_audio_8x_clk.hw,\n\t\t[CLK_PLL_VIDEO0]\t= &pll_video0_clk.common.hw,\n\t\t[CLK_PLL_VIDEO0_2X]\t= &pll_video0_2x_clk.hw,\n\t\t[CLK_PLL_VE]\t\t= &pll_ve_sun4i_clk.common.hw,\n\t\t[CLK_PLL_DDR_BASE]\t= &pll_ddr_base_clk.common.hw,\n\t\t[CLK_PLL_DDR]\t\t= &pll_ddr_clk.common.hw,\n\t\t[CLK_PLL_DDR_OTHER]\t= &pll_ddr_other_clk.common.hw,\n\t\t[CLK_PLL_PERIPH_BASE]\t= &pll_periph_base_clk.common.hw,\n\t\t[CLK_PLL_PERIPH]\t= &pll_periph_clk.hw,\n\t\t[CLK_PLL_PERIPH_SATA]\t= &pll_periph_sata_clk.common.hw,\n\t\t[CLK_PLL_VIDEO1]\t= &pll_video1_clk.common.hw,\n\t\t[CLK_PLL_VIDEO1_2X]\t= &pll_video1_2x_clk.hw,\n\t\t[CLK_CPU]\t\t= &cpu_clk.common.hw,\n\t\t[CLK_AXI]\t\t= &axi_clk.common.hw,\n\t\t[CLK_AXI_DRAM]\t\t= &axi_dram_clk.common.hw,\n\t\t[CLK_AHB]\t\t= &ahb_sun4i_clk.common.hw,\n\t\t[CLK_APB0]\t\t= &apb0_clk.common.hw,\n\t\t[CLK_APB1]\t\t= &apb1_clk.common.hw,\n\t\t[CLK_AHB_OTG]\t\t= &ahb_otg_clk.common.hw,\n\t\t[CLK_AHB_EHCI0]\t\t= &ahb_ehci0_clk.common.hw,\n\t\t[CLK_AHB_OHCI0]\t\t= &ahb_ohci0_clk.common.hw,\n\t\t[CLK_AHB_EHCI1]\t\t= &ahb_ehci1_clk.common.hw,\n\t\t[CLK_AHB_OHCI1]\t\t= &ahb_ohci1_clk.common.hw,\n\t\t[CLK_AHB_SS]\t\t= &ahb_ss_clk.common.hw,\n\t\t[CLK_AHB_DMA]\t\t= &ahb_dma_clk.common.hw,\n\t\t[CLK_AHB_BIST]\t\t= &ahb_bist_clk.common.hw,\n\t\t[CLK_AHB_MMC0]\t\t= &ahb_mmc0_clk.common.hw,\n\t\t[CLK_AHB_MMC1]\t\t= &ahb_mmc1_clk.common.hw,\n\t\t[CLK_AHB_MMC2]\t\t= &ahb_mmc2_clk.common.hw,\n\t\t[CLK_AHB_MMC3]\t\t= &ahb_mmc3_clk.common.hw,\n\t\t[CLK_AHB_MS]\t\t= &ahb_ms_clk.common.hw,\n\t\t[CLK_AHB_NAND]\t\t= &ahb_nand_clk.common.hw,\n\t\t[CLK_AHB_SDRAM]\t\t= &ahb_sdram_clk.common.hw,\n\t\t[CLK_AHB_ACE]\t\t= &ahb_ace_clk.common.hw,\n\t\t[CLK_AHB_EMAC]\t\t= &ahb_emac_clk.common.hw,\n\t\t[CLK_AHB_TS]\t\t= &ahb_ts_clk.common.hw,\n\t\t[CLK_AHB_SPI0]\t\t= &ahb_spi0_clk.common.hw,\n\t\t[CLK_AHB_SPI1]\t\t= &ahb_spi1_clk.common.hw,\n\t\t[CLK_AHB_SPI2]\t\t= &ahb_spi2_clk.common.hw,\n\t\t[CLK_AHB_SPI3]\t\t= &ahb_spi3_clk.common.hw,\n\t\t[CLK_AHB_PATA]\t\t= &ahb_pata_clk.common.hw,\n\t\t[CLK_AHB_SATA]\t\t= &ahb_sata_clk.common.hw,\n\t\t[CLK_AHB_GPS]\t\t= &ahb_gps_clk.common.hw,\n\t\t[CLK_AHB_VE]\t\t= &ahb_ve_clk.common.hw,\n\t\t[CLK_AHB_TVD]\t\t= &ahb_tvd_clk.common.hw,\n\t\t[CLK_AHB_TVE0]\t\t= &ahb_tve0_clk.common.hw,\n\t\t[CLK_AHB_TVE1]\t\t= &ahb_tve1_clk.common.hw,\n\t\t[CLK_AHB_LCD0]\t\t= &ahb_lcd0_clk.common.hw,\n\t\t[CLK_AHB_LCD1]\t\t= &ahb_lcd1_clk.common.hw,\n\t\t[CLK_AHB_CSI0]\t\t= &ahb_csi0_clk.common.hw,\n\t\t[CLK_AHB_CSI1]\t\t= &ahb_csi1_clk.common.hw,\n\t\t[CLK_AHB_HDMI0]\t\t= &ahb_hdmi0_clk.common.hw,\n\t\t[CLK_AHB_DE_BE0]\t= &ahb_de_be0_clk.common.hw,\n\t\t[CLK_AHB_DE_BE1]\t= &ahb_de_be1_clk.common.hw,\n\t\t[CLK_AHB_DE_FE0]\t= &ahb_de_fe0_clk.common.hw,\n\t\t[CLK_AHB_DE_FE1]\t= &ahb_de_fe1_clk.common.hw,\n\t\t[CLK_AHB_MP]\t\t= &ahb_mp_clk.common.hw,\n\t\t[CLK_AHB_GPU]\t\t= &ahb_gpu_clk.common.hw,\n\t\t[CLK_APB0_CODEC]\t= &apb0_codec_clk.common.hw,\n\t\t[CLK_APB0_SPDIF]\t= &apb0_spdif_clk.common.hw,\n\t\t[CLK_APB0_AC97]\t\t= &apb0_ac97_clk.common.hw,\n\t\t[CLK_APB0_I2S0]\t\t= &apb0_i2s0_clk.common.hw,\n\t\t[CLK_APB0_PIO]\t\t= &apb0_pio_clk.common.hw,\n\t\t[CLK_APB0_IR0]\t\t= &apb0_ir0_clk.common.hw,\n\t\t[CLK_APB0_IR1]\t\t= &apb0_ir1_clk.common.hw,\n\t\t[CLK_APB0_KEYPAD]\t= &apb0_keypad_clk.common.hw,\n\t\t[CLK_APB1_I2C0]\t\t= &apb1_i2c0_clk.common.hw,\n\t\t[CLK_APB1_I2C1]\t\t= &apb1_i2c1_clk.common.hw,\n\t\t[CLK_APB1_I2C2]\t\t= &apb1_i2c2_clk.common.hw,\n\t\t[CLK_APB1_CAN]\t\t= &apb1_can_clk.common.hw,\n\t\t[CLK_APB1_SCR]\t\t= &apb1_scr_clk.common.hw,\n\t\t[CLK_APB1_PS20]\t\t= &apb1_ps20_clk.common.hw,\n\t\t[CLK_APB1_PS21]\t\t= &apb1_ps21_clk.common.hw,\n\t\t[CLK_APB1_UART0]\t= &apb1_uart0_clk.common.hw,\n\t\t[CLK_APB1_UART1]\t= &apb1_uart1_clk.common.hw,\n\t\t[CLK_APB1_UART2]\t= &apb1_uart2_clk.common.hw,\n\t\t[CLK_APB1_UART3]\t= &apb1_uart3_clk.common.hw,\n\t\t[CLK_APB1_UART4]\t= &apb1_uart4_clk.common.hw,\n\t\t[CLK_APB1_UART5]\t= &apb1_uart5_clk.common.hw,\n\t\t[CLK_APB1_UART6]\t= &apb1_uart6_clk.common.hw,\n\t\t[CLK_APB1_UART7]\t= &apb1_uart7_clk.common.hw,\n\t\t[CLK_NAND]\t\t= &nand_clk.common.hw,\n\t\t[CLK_MS]\t\t= &ms_clk.common.hw,\n\t\t[CLK_MMC0]\t\t= &mmc0_clk.common.hw,\n\t\t[CLK_MMC1]\t\t= &mmc1_clk.common.hw,\n\t\t[CLK_MMC2]\t\t= &mmc2_clk.common.hw,\n\t\t[CLK_MMC3]\t\t= &mmc3_clk.common.hw,\n\t\t[CLK_TS]\t\t= &ts_clk.common.hw,\n\t\t[CLK_SS]\t\t= &ss_clk.common.hw,\n\t\t[CLK_SPI0]\t\t= &spi0_clk.common.hw,\n\t\t[CLK_SPI1]\t\t= &spi1_clk.common.hw,\n\t\t[CLK_SPI2]\t\t= &spi2_clk.common.hw,\n\t\t[CLK_PATA]\t\t= &pata_clk.common.hw,\n\t\t[CLK_IR0]\t\t= &ir0_sun4i_clk.common.hw,\n\t\t[CLK_IR1]\t\t= &ir1_sun4i_clk.common.hw,\n\t\t[CLK_I2S0]\t\t= &i2s0_clk.common.hw,\n\t\t[CLK_AC97]\t\t= &ac97_clk.common.hw,\n\t\t[CLK_SPDIF]\t\t= &spdif_clk.common.hw,\n\t\t[CLK_KEYPAD]\t\t= &keypad_clk.common.hw,\n\t\t[CLK_SATA]\t\t= &sata_clk.common.hw,\n\t\t[CLK_USB_OHCI0]\t\t= &usb_ohci0_clk.common.hw,\n\t\t[CLK_USB_OHCI1]\t\t= &usb_ohci1_clk.common.hw,\n\t\t[CLK_USB_PHY]\t\t= &usb_phy_clk.common.hw,\n\t\t \n\t\t[CLK_SPI3]\t\t= &spi3_clk.common.hw,\n\t\t[CLK_DRAM_VE]\t\t= &dram_ve_clk.common.hw,\n\t\t[CLK_DRAM_CSI0]\t\t= &dram_csi0_clk.common.hw,\n\t\t[CLK_DRAM_CSI1]\t\t= &dram_csi1_clk.common.hw,\n\t\t[CLK_DRAM_TS]\t\t= &dram_ts_clk.common.hw,\n\t\t[CLK_DRAM_TVD]\t\t= &dram_tvd_clk.common.hw,\n\t\t[CLK_DRAM_TVE0]\t\t= &dram_tve0_clk.common.hw,\n\t\t[CLK_DRAM_TVE1]\t\t= &dram_tve1_clk.common.hw,\n\t\t[CLK_DRAM_OUT]\t\t= &dram_out_clk.common.hw,\n\t\t[CLK_DRAM_DE_FE1]\t= &dram_de_fe1_clk.common.hw,\n\t\t[CLK_DRAM_DE_FE0]\t= &dram_de_fe0_clk.common.hw,\n\t\t[CLK_DRAM_DE_BE0]\t= &dram_de_be0_clk.common.hw,\n\t\t[CLK_DRAM_DE_BE1]\t= &dram_de_be1_clk.common.hw,\n\t\t[CLK_DRAM_MP]\t\t= &dram_mp_clk.common.hw,\n\t\t[CLK_DRAM_ACE]\t\t= &dram_ace_clk.common.hw,\n\t\t[CLK_DE_BE0]\t\t= &de_be0_clk.common.hw,\n\t\t[CLK_DE_BE1]\t\t= &de_be1_clk.common.hw,\n\t\t[CLK_DE_FE0]\t\t= &de_fe0_clk.common.hw,\n\t\t[CLK_DE_FE1]\t\t= &de_fe1_clk.common.hw,\n\t\t[CLK_DE_MP]\t\t= &de_mp_clk.common.hw,\n\t\t[CLK_TCON0_CH0]\t\t= &tcon0_ch0_clk.common.hw,\n\t\t[CLK_TCON1_CH0]\t\t= &tcon1_ch0_clk.common.hw,\n\t\t[CLK_CSI_SCLK]\t\t= &csi_sclk_clk.common.hw,\n\t\t[CLK_TVD]\t\t= &tvd_sun4i_clk.common.hw,\n\t\t[CLK_TCON0_CH1_SCLK2]\t= &tcon0_ch1_sclk2_clk.common.hw,\n\t\t[CLK_TCON0_CH1]\t\t= &tcon0_ch1_clk.common.hw,\n\t\t[CLK_TCON1_CH1_SCLK2]\t= &tcon1_ch1_sclk2_clk.common.hw,\n\t\t[CLK_TCON1_CH1]\t\t= &tcon1_ch1_clk.common.hw,\n\t\t[CLK_CSI0]\t\t= &csi0_clk.common.hw,\n\t\t[CLK_CSI1]\t\t= &csi1_clk.common.hw,\n\t\t[CLK_VE]\t\t= &ve_clk.common.hw,\n\t\t[CLK_CODEC]\t\t= &codec_clk.common.hw,\n\t\t[CLK_AVS]\t\t= &avs_clk.common.hw,\n\t\t[CLK_ACE]\t\t= &ace_clk.common.hw,\n\t\t[CLK_HDMI]\t\t= &hdmi_clk.common.hw,\n\t\t[CLK_GPU]\t\t= &gpu_sun7i_clk.common.hw,\n\t\t[CLK_MBUS]\t\t= &mbus_sun4i_clk.common.hw,\n\t},\n\t.num\t= CLK_NUMBER_SUN4I,\n};\nstatic struct clk_hw_onecell_data sun7i_a20_hw_clks = {\n\t.hws\t= {\n\t\t[CLK_HOSC]\t\t= &hosc_clk.common.hw,\n\t\t[CLK_PLL_CORE]\t\t= &pll_core_clk.common.hw,\n\t\t[CLK_PLL_AUDIO_BASE]\t= &pll_audio_base_clk.common.hw,\n\t\t[CLK_PLL_AUDIO]\t\t= &pll_audio_clk.hw,\n\t\t[CLK_PLL_AUDIO_2X]\t= &pll_audio_2x_clk.hw,\n\t\t[CLK_PLL_AUDIO_4X]\t= &pll_audio_4x_clk.hw,\n\t\t[CLK_PLL_AUDIO_8X]\t= &pll_audio_8x_clk.hw,\n\t\t[CLK_PLL_VIDEO0]\t= &pll_video0_clk.common.hw,\n\t\t[CLK_PLL_VIDEO0_2X]\t= &pll_video0_2x_clk.hw,\n\t\t[CLK_PLL_VE]\t\t= &pll_ve_sun7i_clk.common.hw,\n\t\t[CLK_PLL_DDR_BASE]\t= &pll_ddr_base_clk.common.hw,\n\t\t[CLK_PLL_DDR]\t\t= &pll_ddr_clk.common.hw,\n\t\t[CLK_PLL_DDR_OTHER]\t= &pll_ddr_other_clk.common.hw,\n\t\t[CLK_PLL_PERIPH_BASE]\t= &pll_periph_base_clk.common.hw,\n\t\t[CLK_PLL_PERIPH]\t= &pll_periph_clk.hw,\n\t\t[CLK_PLL_PERIPH_SATA]\t= &pll_periph_sata_clk.common.hw,\n\t\t[CLK_PLL_VIDEO1]\t= &pll_video1_clk.common.hw,\n\t\t[CLK_PLL_VIDEO1_2X]\t= &pll_video1_2x_clk.hw,\n\t\t[CLK_PLL_GPU]\t\t= &pll_gpu_clk.common.hw,\n\t\t[CLK_CPU]\t\t= &cpu_clk.common.hw,\n\t\t[CLK_AXI]\t\t= &axi_clk.common.hw,\n\t\t[CLK_AHB]\t\t= &ahb_sun7i_clk.common.hw,\n\t\t[CLK_APB0]\t\t= &apb0_clk.common.hw,\n\t\t[CLK_APB1]\t\t= &apb1_clk.common.hw,\n\t\t[CLK_AHB_OTG]\t\t= &ahb_otg_clk.common.hw,\n\t\t[CLK_AHB_EHCI0]\t\t= &ahb_ehci0_clk.common.hw,\n\t\t[CLK_AHB_OHCI0]\t\t= &ahb_ohci0_clk.common.hw,\n\t\t[CLK_AHB_EHCI1]\t\t= &ahb_ehci1_clk.common.hw,\n\t\t[CLK_AHB_OHCI1]\t\t= &ahb_ohci1_clk.common.hw,\n\t\t[CLK_AHB_SS]\t\t= &ahb_ss_clk.common.hw,\n\t\t[CLK_AHB_DMA]\t\t= &ahb_dma_clk.common.hw,\n\t\t[CLK_AHB_BIST]\t\t= &ahb_bist_clk.common.hw,\n\t\t[CLK_AHB_MMC0]\t\t= &ahb_mmc0_clk.common.hw,\n\t\t[CLK_AHB_MMC1]\t\t= &ahb_mmc1_clk.common.hw,\n\t\t[CLK_AHB_MMC2]\t\t= &ahb_mmc2_clk.common.hw,\n\t\t[CLK_AHB_MMC3]\t\t= &ahb_mmc3_clk.common.hw,\n\t\t[CLK_AHB_MS]\t\t= &ahb_ms_clk.common.hw,\n\t\t[CLK_AHB_NAND]\t\t= &ahb_nand_clk.common.hw,\n\t\t[CLK_AHB_SDRAM]\t\t= &ahb_sdram_clk.common.hw,\n\t\t[CLK_AHB_ACE]\t\t= &ahb_ace_clk.common.hw,\n\t\t[CLK_AHB_EMAC]\t\t= &ahb_emac_clk.common.hw,\n\t\t[CLK_AHB_TS]\t\t= &ahb_ts_clk.common.hw,\n\t\t[CLK_AHB_SPI0]\t\t= &ahb_spi0_clk.common.hw,\n\t\t[CLK_AHB_SPI1]\t\t= &ahb_spi1_clk.common.hw,\n\t\t[CLK_AHB_SPI2]\t\t= &ahb_spi2_clk.common.hw,\n\t\t[CLK_AHB_SPI3]\t\t= &ahb_spi3_clk.common.hw,\n\t\t[CLK_AHB_PATA]\t\t= &ahb_pata_clk.common.hw,\n\t\t[CLK_AHB_SATA]\t\t= &ahb_sata_clk.common.hw,\n\t\t[CLK_AHB_HSTIMER]\t= &ahb_hstimer_clk.common.hw,\n\t\t[CLK_AHB_VE]\t\t= &ahb_ve_clk.common.hw,\n\t\t[CLK_AHB_TVD]\t\t= &ahb_tvd_clk.common.hw,\n\t\t[CLK_AHB_TVE0]\t\t= &ahb_tve0_clk.common.hw,\n\t\t[CLK_AHB_TVE1]\t\t= &ahb_tve1_clk.common.hw,\n\t\t[CLK_AHB_LCD0]\t\t= &ahb_lcd0_clk.common.hw,\n\t\t[CLK_AHB_LCD1]\t\t= &ahb_lcd1_clk.common.hw,\n\t\t[CLK_AHB_CSI0]\t\t= &ahb_csi0_clk.common.hw,\n\t\t[CLK_AHB_CSI1]\t\t= &ahb_csi1_clk.common.hw,\n\t\t[CLK_AHB_HDMI1]\t\t= &ahb_hdmi1_clk.common.hw,\n\t\t[CLK_AHB_HDMI0]\t\t= &ahb_hdmi0_clk.common.hw,\n\t\t[CLK_AHB_DE_BE0]\t= &ahb_de_be0_clk.common.hw,\n\t\t[CLK_AHB_DE_BE1]\t= &ahb_de_be1_clk.common.hw,\n\t\t[CLK_AHB_DE_FE0]\t= &ahb_de_fe0_clk.common.hw,\n\t\t[CLK_AHB_DE_FE1]\t= &ahb_de_fe1_clk.common.hw,\n\t\t[CLK_AHB_GMAC]\t\t= &ahb_gmac_clk.common.hw,\n\t\t[CLK_AHB_MP]\t\t= &ahb_mp_clk.common.hw,\n\t\t[CLK_AHB_GPU]\t\t= &ahb_gpu_clk.common.hw,\n\t\t[CLK_APB0_CODEC]\t= &apb0_codec_clk.common.hw,\n\t\t[CLK_APB0_SPDIF]\t= &apb0_spdif_clk.common.hw,\n\t\t[CLK_APB0_AC97]\t\t= &apb0_ac97_clk.common.hw,\n\t\t[CLK_APB0_I2S0]\t\t= &apb0_i2s0_clk.common.hw,\n\t\t[CLK_APB0_I2S1]\t\t= &apb0_i2s1_clk.common.hw,\n\t\t[CLK_APB0_PIO]\t\t= &apb0_pio_clk.common.hw,\n\t\t[CLK_APB0_IR0]\t\t= &apb0_ir0_clk.common.hw,\n\t\t[CLK_APB0_IR1]\t\t= &apb0_ir1_clk.common.hw,\n\t\t[CLK_APB0_I2S2]\t\t= &apb0_i2s2_clk.common.hw,\n\t\t[CLK_APB0_KEYPAD]\t= &apb0_keypad_clk.common.hw,\n\t\t[CLK_APB1_I2C0]\t\t= &apb1_i2c0_clk.common.hw,\n\t\t[CLK_APB1_I2C1]\t\t= &apb1_i2c1_clk.common.hw,\n\t\t[CLK_APB1_I2C2]\t\t= &apb1_i2c2_clk.common.hw,\n\t\t[CLK_APB1_I2C3]\t\t= &apb1_i2c3_clk.common.hw,\n\t\t[CLK_APB1_CAN]\t\t= &apb1_can_clk.common.hw,\n\t\t[CLK_APB1_SCR]\t\t= &apb1_scr_clk.common.hw,\n\t\t[CLK_APB1_PS20]\t\t= &apb1_ps20_clk.common.hw,\n\t\t[CLK_APB1_PS21]\t\t= &apb1_ps21_clk.common.hw,\n\t\t[CLK_APB1_I2C4]\t\t= &apb1_i2c4_clk.common.hw,\n\t\t[CLK_APB1_UART0]\t= &apb1_uart0_clk.common.hw,\n\t\t[CLK_APB1_UART1]\t= &apb1_uart1_clk.common.hw,\n\t\t[CLK_APB1_UART2]\t= &apb1_uart2_clk.common.hw,\n\t\t[CLK_APB1_UART3]\t= &apb1_uart3_clk.common.hw,\n\t\t[CLK_APB1_UART4]\t= &apb1_uart4_clk.common.hw,\n\t\t[CLK_APB1_UART5]\t= &apb1_uart5_clk.common.hw,\n\t\t[CLK_APB1_UART6]\t= &apb1_uart6_clk.common.hw,\n\t\t[CLK_APB1_UART7]\t= &apb1_uart7_clk.common.hw,\n\t\t[CLK_NAND]\t\t= &nand_clk.common.hw,\n\t\t[CLK_MS]\t\t= &ms_clk.common.hw,\n\t\t[CLK_MMC0]\t\t= &mmc0_clk.common.hw,\n\t\t[CLK_MMC0_OUTPUT]\t= &mmc0_output_clk.common.hw,\n\t\t[CLK_MMC0_SAMPLE]\t= &mmc0_sample_clk.common.hw,\n\t\t[CLK_MMC1]\t\t= &mmc1_clk.common.hw,\n\t\t[CLK_MMC1_OUTPUT]\t= &mmc1_output_clk.common.hw,\n\t\t[CLK_MMC1_SAMPLE]\t= &mmc1_sample_clk.common.hw,\n\t\t[CLK_MMC2]\t\t= &mmc2_clk.common.hw,\n\t\t[CLK_MMC2_OUTPUT]\t= &mmc2_output_clk.common.hw,\n\t\t[CLK_MMC2_SAMPLE]\t= &mmc2_sample_clk.common.hw,\n\t\t[CLK_MMC3]\t\t= &mmc3_clk.common.hw,\n\t\t[CLK_MMC3_OUTPUT]\t= &mmc3_output_clk.common.hw,\n\t\t[CLK_MMC3_SAMPLE]\t= &mmc3_sample_clk.common.hw,\n\t\t[CLK_TS]\t\t= &ts_clk.common.hw,\n\t\t[CLK_SS]\t\t= &ss_clk.common.hw,\n\t\t[CLK_SPI0]\t\t= &spi0_clk.common.hw,\n\t\t[CLK_SPI1]\t\t= &spi1_clk.common.hw,\n\t\t[CLK_SPI2]\t\t= &spi2_clk.common.hw,\n\t\t[CLK_PATA]\t\t= &pata_clk.common.hw,\n\t\t[CLK_IR0]\t\t= &ir0_sun7i_clk.common.hw,\n\t\t[CLK_IR1]\t\t= &ir1_sun7i_clk.common.hw,\n\t\t[CLK_I2S0]\t\t= &i2s0_clk.common.hw,\n\t\t[CLK_AC97]\t\t= &ac97_clk.common.hw,\n\t\t[CLK_SPDIF]\t\t= &spdif_clk.common.hw,\n\t\t[CLK_KEYPAD]\t\t= &keypad_clk.common.hw,\n\t\t[CLK_SATA]\t\t= &sata_clk.common.hw,\n\t\t[CLK_USB_OHCI0]\t\t= &usb_ohci0_clk.common.hw,\n\t\t[CLK_USB_OHCI1]\t\t= &usb_ohci1_clk.common.hw,\n\t\t[CLK_USB_PHY]\t\t= &usb_phy_clk.common.hw,\n\t\t \n\t\t[CLK_SPI3]\t\t= &spi3_clk.common.hw,\n\t\t[CLK_I2S1]\t\t= &i2s1_clk.common.hw,\n\t\t[CLK_I2S2]\t\t= &i2s2_clk.common.hw,\n\t\t[CLK_DRAM_VE]\t\t= &dram_ve_clk.common.hw,\n\t\t[CLK_DRAM_CSI0]\t\t= &dram_csi0_clk.common.hw,\n\t\t[CLK_DRAM_CSI1]\t\t= &dram_csi1_clk.common.hw,\n\t\t[CLK_DRAM_TS]\t\t= &dram_ts_clk.common.hw,\n\t\t[CLK_DRAM_TVD]\t\t= &dram_tvd_clk.common.hw,\n\t\t[CLK_DRAM_TVE0]\t\t= &dram_tve0_clk.common.hw,\n\t\t[CLK_DRAM_TVE1]\t\t= &dram_tve1_clk.common.hw,\n\t\t[CLK_DRAM_OUT]\t\t= &dram_out_clk.common.hw,\n\t\t[CLK_DRAM_DE_FE1]\t= &dram_de_fe1_clk.common.hw,\n\t\t[CLK_DRAM_DE_FE0]\t= &dram_de_fe0_clk.common.hw,\n\t\t[CLK_DRAM_DE_BE0]\t= &dram_de_be0_clk.common.hw,\n\t\t[CLK_DRAM_DE_BE1]\t= &dram_de_be1_clk.common.hw,\n\t\t[CLK_DRAM_MP]\t\t= &dram_mp_clk.common.hw,\n\t\t[CLK_DRAM_ACE]\t\t= &dram_ace_clk.common.hw,\n\t\t[CLK_DE_BE0]\t\t= &de_be0_clk.common.hw,\n\t\t[CLK_DE_BE1]\t\t= &de_be1_clk.common.hw,\n\t\t[CLK_DE_FE0]\t\t= &de_fe0_clk.common.hw,\n\t\t[CLK_DE_FE1]\t\t= &de_fe1_clk.common.hw,\n\t\t[CLK_DE_MP]\t\t= &de_mp_clk.common.hw,\n\t\t[CLK_TCON0_CH0]\t\t= &tcon0_ch0_clk.common.hw,\n\t\t[CLK_TCON1_CH0]\t\t= &tcon1_ch0_clk.common.hw,\n\t\t[CLK_CSI_SCLK]\t\t= &csi_sclk_clk.common.hw,\n\t\t[CLK_TVD_SCLK2]\t\t= &tvd_sclk2_sun7i_clk.common.hw,\n\t\t[CLK_TVD]\t\t= &tvd_sclk1_sun7i_clk.common.hw,\n\t\t[CLK_TCON0_CH1_SCLK2]\t= &tcon0_ch1_sclk2_clk.common.hw,\n\t\t[CLK_TCON0_CH1]\t\t= &tcon0_ch1_clk.common.hw,\n\t\t[CLK_TCON1_CH1_SCLK2]\t= &tcon1_ch1_sclk2_clk.common.hw,\n\t\t[CLK_TCON1_CH1]\t\t= &tcon1_ch1_clk.common.hw,\n\t\t[CLK_CSI0]\t\t= &csi0_clk.common.hw,\n\t\t[CLK_CSI1]\t\t= &csi1_clk.common.hw,\n\t\t[CLK_VE]\t\t= &ve_clk.common.hw,\n\t\t[CLK_CODEC]\t\t= &codec_clk.common.hw,\n\t\t[CLK_AVS]\t\t= &avs_clk.common.hw,\n\t\t[CLK_ACE]\t\t= &ace_clk.common.hw,\n\t\t[CLK_HDMI]\t\t= &hdmi_clk.common.hw,\n\t\t[CLK_GPU]\t\t= &gpu_sun7i_clk.common.hw,\n\t\t[CLK_MBUS]\t\t= &mbus_sun7i_clk.common.hw,\n\t\t[CLK_HDMI1_SLOW]\t= &hdmi1_slow_clk.common.hw,\n\t\t[CLK_HDMI1]\t\t= &hdmi1_clk.common.hw,\n\t\t[CLK_OUT_A]\t\t= &out_a_clk.common.hw,\n\t\t[CLK_OUT_B]\t\t= &out_b_clk.common.hw,\n\t},\n\t.num\t= CLK_NUMBER_SUN7I,\n};\n\nstatic struct ccu_reset_map sunxi_a10_a20_ccu_resets[] = {\n\t[RST_USB_PHY0]\t\t= { 0x0cc, BIT(0) },\n\t[RST_USB_PHY1]\t\t= { 0x0cc, BIT(1) },\n\t[RST_USB_PHY2]\t\t= { 0x0cc, BIT(2) },\n\t[RST_GPS]\t\t= { 0x0d0, BIT(0) },\n\t[RST_DE_BE0]\t\t= { 0x104, BIT(30) },\n\t[RST_DE_BE1]\t\t= { 0x108, BIT(30) },\n\t[RST_DE_FE0]\t\t= { 0x10c, BIT(30) },\n\t[RST_DE_FE1]\t\t= { 0x110, BIT(30) },\n\t[RST_DE_MP]\t\t= { 0x114, BIT(30) },\n\t[RST_TVE0]\t\t= { 0x118, BIT(29) },\n\t[RST_TCON0]\t\t= { 0x118, BIT(30) },\n\t[RST_TVE1]\t\t= { 0x11c, BIT(29) },\n\t[RST_TCON1]\t\t= { 0x11c, BIT(30) },\n\t[RST_CSI0]\t\t= { 0x134, BIT(30) },\n\t[RST_CSI1]\t\t= { 0x138, BIT(30) },\n\t[RST_VE]\t\t= { 0x13c, BIT(0) },\n\t[RST_ACE]\t\t= { 0x148, BIT(16) },\n\t[RST_LVDS]\t\t= { 0x14c, BIT(0) },\n\t[RST_GPU]\t\t= { 0x154, BIT(30) },\n\t[RST_HDMI_H]\t\t= { 0x170, BIT(0) },\n\t[RST_HDMI_SYS]\t\t= { 0x170, BIT(1) },\n\t[RST_HDMI_AUDIO_DMA]\t= { 0x170, BIT(2) },\n};\n\nstatic const struct sunxi_ccu_desc sun4i_a10_ccu_desc = {\n\t.ccu_clks\t= sun4i_sun7i_ccu_clks,\n\t.num_ccu_clks\t= ARRAY_SIZE(sun4i_sun7i_ccu_clks),\n\n\t.hw_clks\t= &sun4i_a10_hw_clks,\n\n\t.resets\t\t= sunxi_a10_a20_ccu_resets,\n\t.num_resets\t= ARRAY_SIZE(sunxi_a10_a20_ccu_resets),\n};\n\nstatic const struct sunxi_ccu_desc sun7i_a20_ccu_desc = {\n\t.ccu_clks\t= sun4i_sun7i_ccu_clks,\n\t.num_ccu_clks\t= ARRAY_SIZE(sun4i_sun7i_ccu_clks),\n\n\t.hw_clks\t= &sun7i_a20_hw_clks,\n\n\t.resets\t\t= sunxi_a10_a20_ccu_resets,\n\t.num_resets\t= ARRAY_SIZE(sunxi_a10_a20_ccu_resets),\n};\n\nstatic int sun4i_a10_ccu_probe(struct platform_device *pdev)\n{\n\tconst struct sunxi_ccu_desc *desc;\n\tvoid __iomem *reg;\n\tu32 val;\n\n\tdesc = of_device_get_match_data(&pdev->dev);\n\tif (!desc)\n\t\treturn -EINVAL;\n\n\treg = devm_platform_ioremap_resource(pdev, 0);\n\tif (IS_ERR(reg))\n\t\treturn PTR_ERR(reg);\n\n\tval = readl(reg + SUN4I_PLL_AUDIO_REG);\n\n\t \n\tval &= ~GENMASK(25, 16);\n\n\t \n\tval &= ~GENMASK(29, 26);\n\twritel(val | (1 << 26), reg + SUN4I_PLL_AUDIO_REG);\n\n\t \n\tval = readl(reg + SUN4I_AHB_REG);\n\tval &= ~GENMASK(7, 6);\n\twritel(val | (2 << 6), reg + SUN4I_AHB_REG);\n\n\treturn devm_sunxi_ccu_probe(&pdev->dev, reg, desc);\n}\n\nstatic const struct of_device_id sun4i_a10_ccu_ids[] = {\n\t{\n\t\t.compatible = \"allwinner,sun4i-a10-ccu\",\n\t\t.data = &sun4i_a10_ccu_desc,\n\t},\n\t{\n\t\t.compatible = \"allwinner,sun7i-a20-ccu\",\n\t\t.data = &sun7i_a20_ccu_desc,\n\t},\n\t{ }\n};\n\nstatic struct platform_driver sun4i_a10_ccu_driver = {\n\t.probe\t= sun4i_a10_ccu_probe,\n\t.driver\t= {\n\t\t.name\t\t\t= \"sun4i-a10-ccu\",\n\t\t.suppress_bind_attrs\t= true,\n\t\t.of_match_table\t\t= sun4i_a10_ccu_ids,\n\t},\n};\nmodule_platform_driver(sun4i_a10_ccu_driver);\n\nMODULE_IMPORT_NS(SUNXI_CCU);\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}