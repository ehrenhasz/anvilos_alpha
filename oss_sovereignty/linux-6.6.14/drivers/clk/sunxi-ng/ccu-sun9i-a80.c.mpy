{
  "module_name": "ccu-sun9i-a80.c",
  "hash_id": "68b08c6048e94a574fec6b94cf9c0ba34492360aba8fccf167cb1581f49539f4",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/sunxi-ng/ccu-sun9i-a80.c",
  "human_readable_source": "\n \n\n#include <linux/clk-provider.h>\n#include <linux/io.h>\n#include <linux/module.h>\n#include <linux/platform_device.h>\n\n#include \"ccu_common.h\"\n#include \"ccu_reset.h\"\n\n#include \"ccu_div.h\"\n#include \"ccu_gate.h\"\n#include \"ccu_mp.h\"\n#include \"ccu_nkmp.h\"\n#include \"ccu_nm.h\"\n#include \"ccu_phase.h\"\n\n#include \"ccu-sun9i-a80.h\"\n\n#define CCU_SUN9I_LOCK_REG\t0x09c\n\n \n#define SUN9I_A80_PLL_C0CPUX_REG\t0x000\n#define SUN9I_A80_PLL_C1CPUX_REG\t0x004\n\nstatic struct ccu_mult pll_c0cpux_clk = {\n\t.enable\t\t= BIT(31),\n\t.lock\t\t= BIT(0),\n\t.mult\t\t= _SUNXI_CCU_MULT_OFFSET_MIN_MAX(8, 8, 0, 12, 0),\n\t.common\t\t= {\n\t\t.reg\t\t= SUN9I_A80_PLL_C0CPUX_REG,\n\t\t.lock_reg\t= CCU_SUN9I_LOCK_REG,\n\t\t.features\t= CCU_FEATURE_LOCK_REG,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-c0cpux\", \"osc24M\",\n\t\t\t\t\t      &ccu_mult_ops,\n\t\t\t\t\t      CLK_SET_RATE_UNGATE),\n\t},\n};\n\nstatic struct ccu_mult pll_c1cpux_clk = {\n\t.enable\t\t= BIT(31),\n\t.lock\t\t= BIT(1),\n\t.mult\t\t= _SUNXI_CCU_MULT_OFFSET_MIN_MAX(8, 8, 0, 12, 0),\n\t.common\t\t= {\n\t\t.reg\t\t= SUN9I_A80_PLL_C1CPUX_REG,\n\t\t.lock_reg\t= CCU_SUN9I_LOCK_REG,\n\t\t.features\t= CCU_FEATURE_LOCK_REG,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-c1cpux\", \"osc24M\",\n\t\t\t\t\t      &ccu_mult_ops,\n\t\t\t\t\t      CLK_SET_RATE_UNGATE),\n\t},\n};\n\n \n#define SUN9I_A80_PLL_AUDIO_REG\t0x008\n\nstatic struct ccu_nm pll_audio_clk = {\n\t.enable\t\t= BIT(31),\n\t.lock\t\t= BIT(2),\n\t.n\t\t= _SUNXI_CCU_MULT_OFFSET_MIN_MAX(8, 8, 0, 12, 0),\n\t.m\t\t= _SUNXI_CCU_DIV_OFFSET(0, 6, 0),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x008,\n\t\t.lock_reg\t= CCU_SUN9I_LOCK_REG,\n\t\t.features\t= CCU_FEATURE_LOCK_REG,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-audio\", \"osc24M\",\n\t\t\t\t\t      &ccu_nm_ops, CLK_SET_RATE_UNGATE),\n\t},\n};\n\n \nstatic struct ccu_nkmp pll_periph0_clk = {\n\t.enable\t\t= BIT(31),\n\t.lock\t\t= BIT(3),\n\t.n\t\t= _SUNXI_CCU_MULT_OFFSET_MIN_MAX(8, 8, 0, 12, 0),\n\t.m\t\t= _SUNXI_CCU_DIV(16, 1),  \n\t.p\t\t= _SUNXI_CCU_DIV(18, 1),  \n\t.common\t\t= {\n\t\t.reg\t\t= 0x00c,\n\t\t.lock_reg\t= CCU_SUN9I_LOCK_REG,\n\t\t.features\t= CCU_FEATURE_LOCK_REG,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-periph0\", \"osc24M\",\n\t\t\t\t\t      &ccu_nkmp_ops,\n\t\t\t\t\t      CLK_SET_RATE_UNGATE),\n\t},\n};\n\nstatic struct ccu_nkmp pll_ve_clk = {\n\t.enable\t\t= BIT(31),\n\t.lock\t\t= BIT(4),\n\t.n\t\t= _SUNXI_CCU_MULT_OFFSET_MIN_MAX(8, 8, 0, 12, 0),\n\t.m\t\t= _SUNXI_CCU_DIV(16, 1),  \n\t.p\t\t= _SUNXI_CCU_DIV(18, 1),  \n\t.common\t\t= {\n\t\t.reg\t\t= 0x010,\n\t\t.lock_reg\t= CCU_SUN9I_LOCK_REG,\n\t\t.features\t= CCU_FEATURE_LOCK_REG,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-ve\", \"osc24M\",\n\t\t\t\t\t      &ccu_nkmp_ops,\n\t\t\t\t\t      CLK_SET_RATE_UNGATE),\n\t},\n};\n\nstatic struct ccu_nkmp pll_ddr_clk = {\n\t.enable\t\t= BIT(31),\n\t.lock\t\t= BIT(5),\n\t.n\t\t= _SUNXI_CCU_MULT_OFFSET_MIN_MAX(8, 8, 0, 12, 0),\n\t.m\t\t= _SUNXI_CCU_DIV(16, 1),  \n\t.p\t\t= _SUNXI_CCU_DIV(18, 1),  \n\t.common\t\t= {\n\t\t.reg\t\t= 0x014,\n\t\t.lock_reg\t= CCU_SUN9I_LOCK_REG,\n\t\t.features\t= CCU_FEATURE_LOCK_REG,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-ddr\", \"osc24M\",\n\t\t\t\t\t      &ccu_nkmp_ops,\n\t\t\t\t\t      CLK_SET_RATE_UNGATE),\n\t},\n};\n\nstatic struct ccu_nm pll_video0_clk = {\n\t.enable\t\t= BIT(31),\n\t.lock\t\t= BIT(6),\n\t.n\t\t= _SUNXI_CCU_MULT_OFFSET_MIN_MAX(8, 8, 0, 12, 0),\n\t.m\t\t= _SUNXI_CCU_DIV(16, 1),  \n\t.common\t\t= {\n\t\t.reg\t\t= 0x018,\n\t\t.lock_reg\t= CCU_SUN9I_LOCK_REG,\n\t\t.features\t= CCU_FEATURE_LOCK_REG,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-video0\", \"osc24M\",\n\t\t\t\t\t      &ccu_nm_ops,\n\t\t\t\t\t      CLK_SET_RATE_UNGATE),\n\t},\n};\n\nstatic struct ccu_nkmp pll_video1_clk = {\n\t.enable\t\t= BIT(31),\n\t.lock\t\t= BIT(7),\n\t.n\t\t= _SUNXI_CCU_MULT_OFFSET_MIN_MAX(8, 8, 0, 12, 0),\n\t.m\t\t= _SUNXI_CCU_DIV(16, 1),  \n\t.p\t\t= _SUNXI_CCU_DIV(0, 2),  \n\t.common\t\t= {\n\t\t.reg\t\t= 0x01c,\n\t\t.lock_reg\t= CCU_SUN9I_LOCK_REG,\n\t\t.features\t= CCU_FEATURE_LOCK_REG,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-video1\", \"osc24M\",\n\t\t\t\t\t      &ccu_nkmp_ops,\n\t\t\t\t\t      CLK_SET_RATE_UNGATE),\n\t},\n};\n\nstatic struct ccu_nkmp pll_gpu_clk = {\n\t.enable\t\t= BIT(31),\n\t.lock\t\t= BIT(8),\n\t.n\t\t= _SUNXI_CCU_MULT_OFFSET_MIN_MAX(8, 8, 0, 12, 0),\n\t.m\t\t= _SUNXI_CCU_DIV(16, 1),  \n\t.p\t\t= _SUNXI_CCU_DIV(18, 1),  \n\t.common\t\t= {\n\t\t.reg\t\t= 0x020,\n\t\t.lock_reg\t= CCU_SUN9I_LOCK_REG,\n\t\t.features\t= CCU_FEATURE_LOCK_REG,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-gpu\", \"osc24M\",\n\t\t\t\t\t      &ccu_nkmp_ops,\n\t\t\t\t\t      CLK_SET_RATE_UNGATE),\n\t},\n};\n\nstatic struct ccu_nkmp pll_de_clk = {\n\t.enable\t\t= BIT(31),\n\t.lock\t\t= BIT(9),\n\t.n\t\t= _SUNXI_CCU_MULT_OFFSET_MIN_MAX(8, 8, 0, 12, 0),\n\t.m\t\t= _SUNXI_CCU_DIV(16, 1),  \n\t.p\t\t= _SUNXI_CCU_DIV(18, 1),  \n\t.common\t\t= {\n\t\t.reg\t\t= 0x024,\n\t\t.lock_reg\t= CCU_SUN9I_LOCK_REG,\n\t\t.features\t= CCU_FEATURE_LOCK_REG,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-de\", \"osc24M\",\n\t\t\t\t\t      &ccu_nkmp_ops,\n\t\t\t\t\t      CLK_SET_RATE_UNGATE),\n\t},\n};\n\nstatic struct ccu_nkmp pll_isp_clk = {\n\t.enable\t\t= BIT(31),\n\t.lock\t\t= BIT(10),\n\t.n\t\t= _SUNXI_CCU_MULT_OFFSET_MIN_MAX(8, 8, 0, 12, 0),\n\t.m\t\t= _SUNXI_CCU_DIV(16, 1),  \n\t.p\t\t= _SUNXI_CCU_DIV(18, 1),  \n\t.common\t\t= {\n\t\t.reg\t\t= 0x028,\n\t\t.lock_reg\t= CCU_SUN9I_LOCK_REG,\n\t\t.features\t= CCU_FEATURE_LOCK_REG,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-isp\", \"osc24M\",\n\t\t\t\t\t      &ccu_nkmp_ops,\n\t\t\t\t\t      CLK_SET_RATE_UNGATE),\n\t},\n};\n\nstatic struct ccu_nkmp pll_periph1_clk = {\n\t.enable\t\t= BIT(31),\n\t.lock\t\t= BIT(11),\n\t.n\t\t= _SUNXI_CCU_MULT_OFFSET_MIN_MAX(8, 8, 0, 12, 0),\n\t.m\t\t= _SUNXI_CCU_DIV(16, 1),  \n\t.p\t\t= _SUNXI_CCU_DIV(18, 1),  \n\t.common\t\t= {\n\t\t.reg\t\t= 0x028,\n\t\t.lock_reg\t= CCU_SUN9I_LOCK_REG,\n\t\t.features\t= CCU_FEATURE_LOCK_REG,\n\t\t.hw.init\t= CLK_HW_INIT(\"pll-periph1\", \"osc24M\",\n\t\t\t\t\t      &ccu_nkmp_ops,\n\t\t\t\t\t      CLK_SET_RATE_UNGATE),\n\t},\n};\n\nstatic const char * const c0cpux_parents[] = { \"osc24M\", \"pll-c0cpux\" };\nstatic SUNXI_CCU_MUX(c0cpux_clk, \"c0cpux\", c0cpux_parents,\n\t\t     0x50, 0, 1, CLK_SET_RATE_PARENT | CLK_IS_CRITICAL);\n\nstatic const char * const c1cpux_parents[] = { \"osc24M\", \"pll-c1cpux\" };\nstatic SUNXI_CCU_MUX(c1cpux_clk, \"c1cpux\", c1cpux_parents,\n\t\t     0x50, 8, 1, CLK_SET_RATE_PARENT | CLK_IS_CRITICAL);\n\nstatic struct clk_div_table axi_div_table[] = {\n\t{ .val = 0, .div = 1 },\n\t{ .val = 1, .div = 2 },\n\t{ .val = 2, .div = 3 },\n\t{ .val = 3, .div = 4 },\n\t{ .val = 4, .div = 4 },\n\t{ .val = 5, .div = 4 },\n\t{ .val = 6, .div = 4 },\n\t{ .val = 7, .div = 4 },\n\t{   },\n};\n\nstatic SUNXI_CCU_M(atb0_clk, \"atb0\", \"c0cpux\", 0x054, 8, 2, 0);\n\nstatic SUNXI_CCU_DIV_TABLE(axi0_clk, \"axi0\", \"c0cpux\",\n\t\t\t   0x054, 0, 3, axi_div_table, 0);\n\nstatic SUNXI_CCU_M(atb1_clk, \"atb1\", \"c1cpux\", 0x058, 8, 2, 0);\n\nstatic SUNXI_CCU_DIV_TABLE(axi1_clk, \"axi1\", \"c1cpux\",\n\t\t\t   0x058, 0, 3, axi_div_table, 0);\n\nstatic const char * const gtbus_parents[] = { \"osc24M\", \"pll-periph0\",\n\t\t\t\t\t      \"pll-periph1\", \"pll-periph1\" };\nstatic SUNXI_CCU_M_WITH_MUX(gtbus_clk, \"gtbus\", gtbus_parents,\n\t\t\t    0x05c, 0, 2, 24, 2, CLK_IS_CRITICAL);\n\nstatic const char * const ahb_parents[] = { \"gtbus\", \"pll-periph0\",\n\t\t\t\t\t    \"pll-periph1\", \"pll-periph1\" };\nstatic struct ccu_div ahb0_clk = {\n\t.div\t\t= _SUNXI_CCU_DIV_FLAGS(0, 2, CLK_DIVIDER_POWER_OF_TWO),\n\t.mux\t\t= _SUNXI_CCU_MUX(24, 2),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x060,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"ahb0\",\n\t\t\t\t\t\t      ahb_parents,\n\t\t\t\t\t\t      &ccu_div_ops,\n\t\t\t\t\t\t      0),\n\t},\n};\n\nstatic struct ccu_div ahb1_clk = {\n\t.div\t\t= _SUNXI_CCU_DIV_FLAGS(0, 2, CLK_DIVIDER_POWER_OF_TWO),\n\t.mux\t\t= _SUNXI_CCU_MUX(24, 2),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x064,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"ahb1\",\n\t\t\t\t\t\t      ahb_parents,\n\t\t\t\t\t\t      &ccu_div_ops,\n\t\t\t\t\t\t      0),\n\t},\n};\n\nstatic struct ccu_div ahb2_clk = {\n\t.div\t\t= _SUNXI_CCU_DIV_FLAGS(0, 2, CLK_DIVIDER_POWER_OF_TWO),\n\t.mux\t\t= _SUNXI_CCU_MUX(24, 2),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x068,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"ahb2\",\n\t\t\t\t\t\t      ahb_parents,\n\t\t\t\t\t\t      &ccu_div_ops,\n\t\t\t\t\t\t      0),\n\t},\n};\n\nstatic const char * const apb_parents[] = { \"osc24M\", \"pll-periph0\" };\n\nstatic struct ccu_div apb0_clk = {\n\t.div\t\t= _SUNXI_CCU_DIV_FLAGS(0, 2, CLK_DIVIDER_POWER_OF_TWO),\n\t.mux\t\t= _SUNXI_CCU_MUX(24, 1),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x070,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"apb0\",\n\t\t\t\t\t\t      apb_parents,\n\t\t\t\t\t\t      &ccu_div_ops,\n\t\t\t\t\t\t      0),\n\t},\n};\n\nstatic struct ccu_div apb1_clk = {\n\t.div\t\t= _SUNXI_CCU_DIV_FLAGS(0, 2, CLK_DIVIDER_POWER_OF_TWO),\n\t.mux\t\t= _SUNXI_CCU_MUX(24, 1),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x074,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"apb1\",\n\t\t\t\t\t\t      apb_parents,\n\t\t\t\t\t\t      &ccu_div_ops,\n\t\t\t\t\t\t      0),\n\t},\n};\n\nstatic struct ccu_div cci400_clk = {\n\t.div\t\t= _SUNXI_CCU_DIV_FLAGS(0, 2, CLK_DIVIDER_POWER_OF_TWO),\n\t.mux\t\t= _SUNXI_CCU_MUX(24, 2),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x078,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"cci400\",\n\t\t\t\t\t\t      ahb_parents,\n\t\t\t\t\t\t      &ccu_div_ops,\n\t\t\t\t\t\t      CLK_IS_CRITICAL),\n\t},\n};\n\nstatic SUNXI_CCU_M_WITH_MUX_GATE(ats_clk, \"ats\", apb_parents,\n\t\t\t\t 0x080, 0, 3, 24, 2, BIT(31), 0);\n\nstatic SUNXI_CCU_M_WITH_MUX_GATE(trace_clk, \"trace\", apb_parents,\n\t\t\t\t 0x084, 0, 3, 24, 2, BIT(31), 0);\n\nstatic const char * const out_parents[] = { \"osc24M\", \"osc32k\", \"osc24M\" };\nstatic const struct ccu_mux_fixed_prediv out_prediv = {\n\t.index = 0, .div = 750\n};\n\nstatic struct ccu_mp out_a_clk = {\n\t.enable\t\t= BIT(31),\n\t.m\t\t= _SUNXI_CCU_DIV(8, 5),\n\t.p\t\t= _SUNXI_CCU_DIV(20, 2),\n\t.mux\t\t= {\n\t\t.shift\t\t= 24,\n\t\t.width\t\t= 4,\n\t\t.fixed_predivs\t= &out_prediv,\n\t\t.n_predivs\t= 1,\n\t},\n\t.common\t\t= {\n\t\t.reg\t\t= 0x180,\n\t\t.features\t= CCU_FEATURE_FIXED_PREDIV,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"out-a\",\n\t\t\t\t\t\t      out_parents,\n\t\t\t\t\t\t      &ccu_mp_ops,\n\t\t\t\t\t\t      0),\n\t},\n};\n\nstatic struct ccu_mp out_b_clk = {\n\t.enable\t\t= BIT(31),\n\t.m\t\t= _SUNXI_CCU_DIV(8, 5),\n\t.p\t\t= _SUNXI_CCU_DIV(20, 2),\n\t.mux\t\t= {\n\t\t.shift\t\t= 24,\n\t\t.width\t\t= 4,\n\t\t.fixed_predivs\t= &out_prediv,\n\t\t.n_predivs\t= 1,\n\t},\n\t.common\t\t= {\n\t\t.reg\t\t= 0x184,\n\t\t.features\t= CCU_FEATURE_FIXED_PREDIV,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"out-b\",\n\t\t\t\t\t\t      out_parents,\n\t\t\t\t\t\t      &ccu_mp_ops,\n\t\t\t\t\t\t      0),\n\t},\n};\n\nstatic const char * const mod0_default_parents[] = { \"osc24M\", \"pll-periph0\" };\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(nand0_0_clk, \"nand0-0\", mod0_default_parents,\n\t\t\t\t  0x400,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 4,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(nand0_1_clk, \"nand0-1\", mod0_default_parents,\n\t\t\t\t  0x404,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 4,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(nand1_0_clk, \"nand1-0\", mod0_default_parents,\n\t\t\t\t  0x408,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 4,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(nand1_1_clk, \"nand1-1\", mod0_default_parents,\n\t\t\t\t  0x40c,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 4,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(mmc0_clk, \"mmc0\", mod0_default_parents,\n\t\t\t\t  0x410,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 4,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_PHASE(mmc0_sample_clk, \"mmc0-sample\", \"mmc0\",\n\t\t       0x410, 20, 3, 0);\nstatic SUNXI_CCU_PHASE(mmc0_output_clk, \"mmc0-output\", \"mmc0\",\n\t\t       0x410, 8, 3, 0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(mmc1_clk, \"mmc1\", mod0_default_parents,\n\t\t\t\t  0x414,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 4,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_PHASE(mmc1_sample_clk, \"mmc1-sample\", \"mmc1\",\n\t\t       0x414, 20, 3, 0);\nstatic SUNXI_CCU_PHASE(mmc1_output_clk, \"mmc1-output\", \"mmc1\",\n\t\t       0x414, 8, 3, 0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(mmc2_clk, \"mmc2\", mod0_default_parents,\n\t\t\t\t  0x418,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 4,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_PHASE(mmc2_sample_clk, \"mmc2-sample\", \"mmc2\",\n\t\t       0x418, 20, 3, 0);\nstatic SUNXI_CCU_PHASE(mmc2_output_clk, \"mmc2-output\", \"mmc2\",\n\t\t       0x418, 8, 3, 0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(mmc3_clk, \"mmc3\", mod0_default_parents,\n\t\t\t\t  0x41c,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 4,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_PHASE(mmc3_sample_clk, \"mmc3-sample\", \"mmc3\",\n\t\t       0x41c, 20, 3, 0);\nstatic SUNXI_CCU_PHASE(mmc3_output_clk, \"mmc3-output\", \"mmc3\",\n\t\t       0x41c, 8, 3, 0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(ts_clk, \"ts\", mod0_default_parents,\n\t\t\t\t  0x428,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 4,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic const char * const ss_parents[] = { \"osc24M\", \"pll-periph\",\n\t\t\t\t\t   \"pll-periph1\" };\nstatic const u8 ss_table[] = { 0, 1, 13 };\nstatic struct ccu_mp ss_clk = {\n\t.enable\t\t= BIT(31),\n\t.m\t\t= _SUNXI_CCU_DIV(0, 4),\n\t.p\t\t= _SUNXI_CCU_DIV(16, 2),\n\t.mux\t\t= _SUNXI_CCU_MUX_TABLE(24, 4, ss_table),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x42c,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"ss\",\n\t\t\t\t\t\t      ss_parents,\n\t\t\t\t\t\t      &ccu_mp_ops,\n\t\t\t\t\t\t      0),\n\t},\n};\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(spi0_clk, \"spi0\", mod0_default_parents,\n\t\t\t\t  0x430,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 4,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(spi1_clk, \"spi1\", mod0_default_parents,\n\t\t\t\t  0x434,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 4,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(spi2_clk, \"spi2\", mod0_default_parents,\n\t\t\t\t  0x438,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 4,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_MP_WITH_MUX_GATE(spi3_clk, \"spi3\", mod0_default_parents,\n\t\t\t\t  0x43c,\n\t\t\t\t  0, 4,\t\t \n\t\t\t\t  16, 2,\t \n\t\t\t\t  24, 4,\t \n\t\t\t\t  BIT(31),\t \n\t\t\t\t  0);\n\nstatic SUNXI_CCU_M_WITH_GATE(i2s0_clk, \"i2s0\", \"pll-audio\",\n\t\t\t     0x440, 0, 4, BIT(31), CLK_SET_RATE_PARENT);\nstatic SUNXI_CCU_M_WITH_GATE(i2s1_clk, \"i2s1\", \"pll-audio\",\n\t\t\t     0x444, 0, 4, BIT(31), CLK_SET_RATE_PARENT);\nstatic SUNXI_CCU_M_WITH_GATE(spdif_clk, \"spdif\", \"pll-audio\",\n\t\t\t     0x44c, 0, 4, BIT(31), CLK_SET_RATE_PARENT);\n\nstatic const char * const sdram_parents[] = { \"pll-periph0\", \"pll-ddr\" };\nstatic const u8 sdram_table[] = { 0, 3 };\n\nstatic SUNXI_CCU_M_WITH_MUX_TABLE_GATE(sdram_clk, \"sdram\",\n\t\t\t\t       sdram_parents, sdram_table,\n\t\t\t\t       0x484,\n\t\t\t\t       8, 4,\t \n\t\t\t\t       12, 4,\t \n\t\t\t\t       0,\t \n\t\t\t\t       CLK_IS_CRITICAL);\n\nstatic SUNXI_CCU_M_WITH_GATE(de_clk, \"de\", \"pll-de\", 0x490,\n\t\t\t     0, 4, BIT(31), CLK_SET_RATE_PARENT);\n\nstatic SUNXI_CCU_GATE(edp_clk, \"edp\", \"osc24M\", 0x494, BIT(31), 0);\n\nstatic const char * const mp_parents[] = { \"pll-video1\", \"pll-gpu\", \"pll-de\" };\nstatic const u8 mp_table[] = { 9, 10, 11 };\nstatic SUNXI_CCU_M_WITH_MUX_TABLE_GATE(mp_clk, \"mp\", mp_parents, mp_table,\n\t\t\t\t       0x498,\n\t\t\t\t       0, 4,\t \n\t\t\t\t       24, 4,\t \n\t\t\t\t       BIT(31),\t \n\t\t\t\t       0);\n\nstatic const char * const display_parents[] = { \"pll-video0\", \"pll-video1\" };\nstatic const u8 display_table[] = { 8, 9 };\n\nstatic SUNXI_CCU_M_WITH_MUX_TABLE_GATE(lcd0_clk, \"lcd0\",\n\t\t\t\t       display_parents, display_table,\n\t\t\t\t       0x49c,\n\t\t\t\t       0, 4,\t \n\t\t\t\t       24, 4,\t \n\t\t\t\t       BIT(31),\t \n\t\t\t\t       CLK_SET_RATE_NO_REPARENT |\n\t\t\t\t       CLK_SET_RATE_PARENT);\n\nstatic SUNXI_CCU_M_WITH_MUX_TABLE_GATE(lcd1_clk, \"lcd1\",\n\t\t\t\t       display_parents, display_table,\n\t\t\t\t       0x4a0,\n\t\t\t\t       0, 4,\t \n\t\t\t\t       24, 4,\t \n\t\t\t\t       BIT(31),\t \n\t\t\t\t       CLK_SET_RATE_NO_REPARENT |\n\t\t\t\t       CLK_SET_RATE_PARENT);\n\nstatic SUNXI_CCU_M_WITH_MUX_TABLE_GATE(mipi_dsi0_clk, \"mipi-dsi0\",\n\t\t\t\t       display_parents, display_table,\n\t\t\t\t       0x4a8,\n\t\t\t\t       0, 4,\t \n\t\t\t\t       24, 4,\t \n\t\t\t\t       BIT(31),\t \n\t\t\t\t       CLK_SET_RATE_PARENT);\n\nstatic const char * const mipi_dsi1_parents[] = { \"osc24M\", \"pll-video1\" };\nstatic const u8 mipi_dsi1_table[] = { 0, 9 };\nstatic SUNXI_CCU_M_WITH_MUX_TABLE_GATE(mipi_dsi1_clk, \"mipi-dsi1\",\n\t\t\t\t       mipi_dsi1_parents, mipi_dsi1_table,\n\t\t\t\t       0x4ac,\n\t\t\t\t       0, 4,\t \n\t\t\t\t       24, 4,\t \n\t\t\t\t       BIT(31),\t \n\t\t\t\t       CLK_SET_RATE_PARENT);\n\nstatic SUNXI_CCU_M_WITH_MUX_TABLE_GATE(hdmi_clk, \"hdmi\",\n\t\t\t\t       display_parents, display_table,\n\t\t\t\t       0x4b0,\n\t\t\t\t       0, 4,\t \n\t\t\t\t       24, 4,\t \n\t\t\t\t       BIT(31),\t \n\t\t\t\t       CLK_SET_RATE_NO_REPARENT |\n\t\t\t\t       CLK_SET_RATE_PARENT);\n\nstatic SUNXI_CCU_GATE(hdmi_slow_clk, \"hdmi-slow\", \"osc24M\", 0x4b4, BIT(31), 0);\n\nstatic SUNXI_CCU_M_WITH_GATE(mipi_csi_clk, \"mipi-csi\", \"osc24M\", 0x4bc,\n\t\t\t     0, 4, BIT(31), 0);\n\nstatic SUNXI_CCU_M_WITH_GATE(csi_isp_clk, \"csi-isp\", \"pll-isp\", 0x4c0,\n\t\t\t     0, 4, BIT(31), CLK_SET_RATE_PARENT);\n\nstatic SUNXI_CCU_GATE(csi_misc_clk, \"csi-misc\", \"osc24M\", 0x4c0, BIT(16), 0);\n\nstatic SUNXI_CCU_M_WITH_MUX_TABLE_GATE(csi0_mclk_clk, \"csi0-mclk\",\n\t\t\t\t       mipi_dsi1_parents, mipi_dsi1_table,\n\t\t\t\t       0x4c4,\n\t\t\t\t       0, 4,\t \n\t\t\t\t       24, 4,\t \n\t\t\t\t       BIT(31),\t \n\t\t\t\t       CLK_SET_RATE_PARENT);\n\nstatic SUNXI_CCU_M_WITH_MUX_TABLE_GATE(csi1_mclk_clk, \"csi1-mclk\",\n\t\t\t\t       mipi_dsi1_parents, mipi_dsi1_table,\n\t\t\t\t       0x4c8,\n\t\t\t\t       0, 4,\t \n\t\t\t\t       24, 4,\t \n\t\t\t\t       BIT(31),\t \n\t\t\t\t       CLK_SET_RATE_PARENT);\n\nstatic const char * const fd_parents[] = { \"pll-periph0\", \"pll-isp\" };\nstatic const u8 fd_table[] = { 1, 12 };\nstatic SUNXI_CCU_M_WITH_MUX_TABLE_GATE(fd_clk, \"fd\", fd_parents, fd_table,\n\t\t\t\t       0x4cc,\n\t\t\t\t       0, 4,\t \n\t\t\t\t       24, 4,\t \n\t\t\t\t       BIT(31),\t \n\t\t\t\t       0);\nstatic SUNXI_CCU_M_WITH_GATE(ve_clk, \"ve\", \"pll-ve\", 0x4d0,\n\t\t\t     16, 3, BIT(31), CLK_SET_RATE_PARENT);\n\nstatic SUNXI_CCU_GATE(avs_clk, \"avs\", \"osc24M\", 0x4d4, BIT(31), 0);\n\nstatic SUNXI_CCU_M_WITH_GATE(gpu_core_clk, \"gpu-core\", \"pll-gpu\", 0x4f0,\n\t\t\t     0, 3, BIT(31), CLK_SET_RATE_PARENT);\nstatic SUNXI_CCU_M_WITH_GATE(gpu_memory_clk, \"gpu-memory\", \"pll-gpu\", 0x4f4,\n\t\t\t     0, 3, BIT(31), CLK_SET_RATE_PARENT);\n\nstatic const char * const gpu_axi_parents[] = { \"pll-periph0\", \"pll-gpu\" };\nstatic const u8 gpu_axi_table[] = { 1, 10 };\nstatic SUNXI_CCU_M_WITH_MUX_TABLE_GATE(gpu_axi_clk, \"gpu-axi\",\n\t\t\t\t       gpu_axi_parents, gpu_axi_table,\n\t\t\t\t       0x4f8,\n\t\t\t\t       0, 4,\t \n\t\t\t\t       24, 4,\t \n\t\t\t\t       BIT(31),\t \n\t\t\t\t       CLK_SET_RATE_PARENT);\n\nstatic SUNXI_CCU_M_WITH_GATE(sata_clk, \"sata\", \"pll-periph0\", 0x500,\n\t\t\t     0, 4, BIT(31), 0);\n\nstatic SUNXI_CCU_M_WITH_GATE(ac97_clk, \"ac97\", \"pll-audio\",\n\t\t\t     0x504, 0, 4, BIT(31), CLK_SET_RATE_PARENT);\n\nstatic SUNXI_CCU_M_WITH_MUX_GATE(mipi_hsi_clk, \"mipi-hsi\",\n\t\t\t\t mod0_default_parents, 0x508,\n\t\t\t\t 0, 4,\t\t \n\t\t\t\t 24, 4,\t\t \n\t\t\t\t BIT(31),\t \n\t\t\t\t 0);\n\nstatic const char * const gpadc_parents[] = { \"osc24M\", \"pll-audio\", \"osc32k\" };\nstatic const u8 gpadc_table[] = { 0, 4, 7 };\nstatic struct ccu_mp gpadc_clk = {\n\t.enable\t\t= BIT(31),\n\t.m\t\t= _SUNXI_CCU_DIV(0, 4),\n\t.p\t\t= _SUNXI_CCU_DIV(16, 2),\n\t.mux\t\t= _SUNXI_CCU_MUX_TABLE(24, 4, gpadc_table),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x50c,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"gpadc\",\n\t\t\t\t\t\t      gpadc_parents,\n\t\t\t\t\t\t      &ccu_mp_ops,\n\t\t\t\t\t\t      0),\n\t},\n};\n\nstatic const char * const cir_tx_parents[] = { \"osc24M\", \"osc32k\" };\nstatic const u8 cir_tx_table[] = { 0, 7 };\nstatic struct ccu_mp cir_tx_clk = {\n\t.enable\t\t= BIT(31),\n\t.m\t\t= _SUNXI_CCU_DIV(0, 4),\n\t.p\t\t= _SUNXI_CCU_DIV(16, 2),\n\t.mux\t\t= _SUNXI_CCU_MUX_TABLE(24, 4, cir_tx_table),\n\t.common\t\t= {\n\t\t.reg\t\t= 0x510,\n\t\t.hw.init\t= CLK_HW_INIT_PARENTS(\"cir-tx\",\n\t\t\t\t\t\t      cir_tx_parents,\n\t\t\t\t\t\t      &ccu_mp_ops,\n\t\t\t\t\t\t      0),\n\t},\n};\n\n \nstatic SUNXI_CCU_GATE(bus_fd_clk,\t\"bus-fd\",\t\"ahb0\",\n\t\t      0x580, BIT(0), 0);\nstatic SUNXI_CCU_GATE(bus_ve_clk,\t\"bus-ve\",\t\"ahb0\",\n\t\t      0x580, BIT(1), 0);\nstatic SUNXI_CCU_GATE(bus_gpu_ctrl_clk,\t\"bus-gpu-ctrl\",\t\"ahb0\",\n\t\t      0x580, BIT(3), 0);\nstatic SUNXI_CCU_GATE(bus_ss_clk,\t\"bus-ss\",\t\"ahb0\",\n\t\t      0x580, BIT(5), 0);\nstatic SUNXI_CCU_GATE(bus_mmc_clk,\t\"bus-mmc\",\t\"ahb0\",\n\t\t      0x580, BIT(8), 0);\nstatic SUNXI_CCU_GATE(bus_nand0_clk,\t\"bus-nand0\",\t\"ahb0\",\n\t\t      0x580, BIT(12), 0);\nstatic SUNXI_CCU_GATE(bus_nand1_clk,\t\"bus-nand1\",\t\"ahb0\",\n\t\t      0x580, BIT(13), 0);\nstatic SUNXI_CCU_GATE(bus_sdram_clk,\t\"bus-sdram\",\t\"ahb0\",\n\t\t      0x580, BIT(14), 0);\nstatic SUNXI_CCU_GATE(bus_mipi_hsi_clk,\t\"bus-mipi-hsi\",\t\"ahb0\",\n\t\t      0x580, BIT(15), 0);\nstatic SUNXI_CCU_GATE(bus_sata_clk,\t\"bus-sata\",\t\"ahb0\",\n\t\t      0x580, BIT(16), 0);\nstatic SUNXI_CCU_GATE(bus_ts_clk,\t\"bus-ts\",\t\"ahb0\",\n\t\t      0x580, BIT(18), 0);\nstatic SUNXI_CCU_GATE(bus_spi0_clk,\t\"bus-spi0\",\t\"ahb0\",\n\t\t      0x580, BIT(20), 0);\nstatic SUNXI_CCU_GATE(bus_spi1_clk,\t\"bus-spi1\",\t\"ahb0\",\n\t\t      0x580, BIT(21), 0);\nstatic SUNXI_CCU_GATE(bus_spi2_clk,\t\"bus-spi2\",\t\"ahb0\",\n\t\t      0x580, BIT(22), 0);\nstatic SUNXI_CCU_GATE(bus_spi3_clk,\t\"bus-spi3\",\t\"ahb0\",\n\t\t      0x580, BIT(23), 0);\n\n \nstatic SUNXI_CCU_GATE(bus_otg_clk,\t\"bus-otg\",\t\"ahb1\",\n\t\t      0x584, BIT(0), 0);\nstatic SUNXI_CCU_GATE(bus_usb_clk,\t\"bus-usb\",\t\"ahb1\",\n\t\t      0x584, BIT(1), 0);\nstatic SUNXI_CCU_GATE(bus_gmac_clk,\t\"bus-gmac\",\t\"ahb1\",\n\t\t      0x584, BIT(17), 0);\nstatic SUNXI_CCU_GATE(bus_msgbox_clk,\t\"bus-msgbox\",\t\"ahb1\",\n\t\t      0x584, BIT(21), 0);\nstatic SUNXI_CCU_GATE(bus_spinlock_clk,\t\"bus-spinlock\",\t\"ahb1\",\n\t\t      0x584, BIT(22), 0);\nstatic SUNXI_CCU_GATE(bus_hstimer_clk,\t\"bus-hstimer\",\t\"ahb1\",\n\t\t      0x584, BIT(23), 0);\nstatic SUNXI_CCU_GATE(bus_dma_clk,\t\"bus-dma\",\t\"ahb1\",\n\t\t      0x584, BIT(24), 0);\n\n \nstatic SUNXI_CCU_GATE(bus_lcd0_clk,\t\"bus-lcd0\",\t\"ahb2\",\n\t\t      0x588, BIT(0), 0);\nstatic SUNXI_CCU_GATE(bus_lcd1_clk,\t\"bus-lcd1\",\t\"ahb2\",\n\t\t      0x588, BIT(1), 0);\nstatic SUNXI_CCU_GATE(bus_edp_clk,\t\"bus-edp\",\t\"ahb2\",\n\t\t      0x588, BIT(2), 0);\nstatic SUNXI_CCU_GATE(bus_csi_clk,\t\"bus-csi\",\t\"ahb2\",\n\t\t      0x588, BIT(4), 0);\nstatic SUNXI_CCU_GATE(bus_hdmi_clk,\t\"bus-hdmi\",\t\"ahb2\",\n\t\t      0x588, BIT(5), 0);\nstatic SUNXI_CCU_GATE(bus_de_clk,\t\"bus-de\",\t\"ahb2\",\n\t\t      0x588, BIT(7), 0);\nstatic SUNXI_CCU_GATE(bus_mp_clk,\t\"bus-mp\",\t\"ahb2\",\n\t\t      0x588, BIT(8), 0);\nstatic SUNXI_CCU_GATE(bus_mipi_dsi_clk,\t\"bus-mipi-dsi\",\t\"ahb2\",\n\t\t      0x588, BIT(11), 0);\n\n \nstatic SUNXI_CCU_GATE(bus_spdif_clk,\t\"bus-spdif\",\t\"apb0\",\n\t\t      0x590, BIT(1), 0);\nstatic SUNXI_CCU_GATE(bus_pio_clk,\t\"bus-pio\",\t\"apb0\",\n\t\t      0x590, BIT(5), 0);\nstatic SUNXI_CCU_GATE(bus_ac97_clk,\t\"bus-ac97\",\t\"apb0\",\n\t\t      0x590, BIT(11), 0);\nstatic SUNXI_CCU_GATE(bus_i2s0_clk,\t\"bus-i2s0\",\t\"apb0\",\n\t\t      0x590, BIT(12), 0);\nstatic SUNXI_CCU_GATE(bus_i2s1_clk,\t\"bus-i2s1\",\t\"apb0\",\n\t\t      0x590, BIT(13), 0);\nstatic SUNXI_CCU_GATE(bus_lradc_clk,\t\"bus-lradc\",\t\"apb0\",\n\t\t      0x590, BIT(15), 0);\nstatic SUNXI_CCU_GATE(bus_gpadc_clk,\t\"bus-gpadc\",\t\"apb0\",\n\t\t      0x590, BIT(17), 0);\nstatic SUNXI_CCU_GATE(bus_twd_clk,\t\"bus-twd\",\t\"apb0\",\n\t\t      0x590, BIT(18), 0);\nstatic SUNXI_CCU_GATE(bus_cir_tx_clk,\t\"bus-cir-tx\",\t\"apb0\",\n\t\t      0x590, BIT(19), 0);\n\n \nstatic SUNXI_CCU_GATE(bus_i2c0_clk,\t\"bus-i2c0\",\t\"apb1\",\n\t\t      0x594, BIT(0), 0);\nstatic SUNXI_CCU_GATE(bus_i2c1_clk,\t\"bus-i2c1\",\t\"apb1\",\n\t\t      0x594, BIT(1), 0);\nstatic SUNXI_CCU_GATE(bus_i2c2_clk,\t\"bus-i2c2\",\t\"apb1\",\n\t\t      0x594, BIT(2), 0);\nstatic SUNXI_CCU_GATE(bus_i2c3_clk,\t\"bus-i2c3\",\t\"apb1\",\n\t\t      0x594, BIT(3), 0);\nstatic SUNXI_CCU_GATE(bus_i2c4_clk,\t\"bus-i2c4\",\t\"apb1\",\n\t\t      0x594, BIT(4), 0);\nstatic SUNXI_CCU_GATE(bus_uart0_clk,\t\"bus-uart0\",\t\"apb1\",\n\t\t      0x594, BIT(16), 0);\nstatic SUNXI_CCU_GATE(bus_uart1_clk,\t\"bus-uart1\",\t\"apb1\",\n\t\t      0x594, BIT(17), 0);\nstatic SUNXI_CCU_GATE(bus_uart2_clk,\t\"bus-uart2\",\t\"apb1\",\n\t\t      0x594, BIT(18), 0);\nstatic SUNXI_CCU_GATE(bus_uart3_clk,\t\"bus-uart3\",\t\"apb1\",\n\t\t      0x594, BIT(19), 0);\nstatic SUNXI_CCU_GATE(bus_uart4_clk,\t\"bus-uart4\",\t\"apb1\",\n\t\t      0x594, BIT(20), 0);\nstatic SUNXI_CCU_GATE(bus_uart5_clk,\t\"bus-uart5\",\t\"apb1\",\n\t\t      0x594, BIT(21), 0);\n\nstatic struct ccu_common *sun9i_a80_ccu_clks[] = {\n\t&pll_c0cpux_clk.common,\n\t&pll_c1cpux_clk.common,\n\t&pll_audio_clk.common,\n\t&pll_periph0_clk.common,\n\t&pll_ve_clk.common,\n\t&pll_ddr_clk.common,\n\t&pll_video0_clk.common,\n\t&pll_video1_clk.common,\n\t&pll_gpu_clk.common,\n\t&pll_de_clk.common,\n\t&pll_isp_clk.common,\n\t&pll_periph1_clk.common,\n\t&c0cpux_clk.common,\n\t&c1cpux_clk.common,\n\t&atb0_clk.common,\n\t&axi0_clk.common,\n\t&atb1_clk.common,\n\t&axi1_clk.common,\n\t&gtbus_clk.common,\n\t&ahb0_clk.common,\n\t&ahb1_clk.common,\n\t&ahb2_clk.common,\n\t&apb0_clk.common,\n\t&apb1_clk.common,\n\t&cci400_clk.common,\n\t&ats_clk.common,\n\t&trace_clk.common,\n\n\t&out_a_clk.common,\n\t&out_b_clk.common,\n\n\t \n\t&nand0_0_clk.common,\n\t&nand0_1_clk.common,\n\t&nand1_0_clk.common,\n\t&nand1_1_clk.common,\n\t&mmc0_clk.common,\n\t&mmc0_sample_clk.common,\n\t&mmc0_output_clk.common,\n\t&mmc1_clk.common,\n\t&mmc1_sample_clk.common,\n\t&mmc1_output_clk.common,\n\t&mmc2_clk.common,\n\t&mmc2_sample_clk.common,\n\t&mmc2_output_clk.common,\n\t&mmc3_clk.common,\n\t&mmc3_sample_clk.common,\n\t&mmc3_output_clk.common,\n\t&ts_clk.common,\n\t&ss_clk.common,\n\t&spi0_clk.common,\n\t&spi1_clk.common,\n\t&spi2_clk.common,\n\t&spi3_clk.common,\n\t&i2s0_clk.common,\n\t&i2s1_clk.common,\n\t&spdif_clk.common,\n\t&sdram_clk.common,\n\t&de_clk.common,\n\t&edp_clk.common,\n\t&mp_clk.common,\n\t&lcd0_clk.common,\n\t&lcd1_clk.common,\n\t&mipi_dsi0_clk.common,\n\t&mipi_dsi1_clk.common,\n\t&hdmi_clk.common,\n\t&hdmi_slow_clk.common,\n\t&mipi_csi_clk.common,\n\t&csi_isp_clk.common,\n\t&csi_misc_clk.common,\n\t&csi0_mclk_clk.common,\n\t&csi1_mclk_clk.common,\n\t&fd_clk.common,\n\t&ve_clk.common,\n\t&avs_clk.common,\n\t&gpu_core_clk.common,\n\t&gpu_memory_clk.common,\n\t&gpu_axi_clk.common,\n\t&sata_clk.common,\n\t&ac97_clk.common,\n\t&mipi_hsi_clk.common,\n\t&gpadc_clk.common,\n\t&cir_tx_clk.common,\n\n\t \n\t&bus_fd_clk.common,\n\t&bus_ve_clk.common,\n\t&bus_gpu_ctrl_clk.common,\n\t&bus_ss_clk.common,\n\t&bus_mmc_clk.common,\n\t&bus_nand0_clk.common,\n\t&bus_nand1_clk.common,\n\t&bus_sdram_clk.common,\n\t&bus_mipi_hsi_clk.common,\n\t&bus_sata_clk.common,\n\t&bus_ts_clk.common,\n\t&bus_spi0_clk.common,\n\t&bus_spi1_clk.common,\n\t&bus_spi2_clk.common,\n\t&bus_spi3_clk.common,\n\n\t \n\t&bus_otg_clk.common,\n\t&bus_usb_clk.common,\n\t&bus_gmac_clk.common,\n\t&bus_msgbox_clk.common,\n\t&bus_spinlock_clk.common,\n\t&bus_hstimer_clk.common,\n\t&bus_dma_clk.common,\n\n\t \n\t&bus_lcd0_clk.common,\n\t&bus_lcd1_clk.common,\n\t&bus_edp_clk.common,\n\t&bus_csi_clk.common,\n\t&bus_hdmi_clk.common,\n\t&bus_de_clk.common,\n\t&bus_mp_clk.common,\n\t&bus_mipi_dsi_clk.common,\n\n\t \n\t&bus_spdif_clk.common,\n\t&bus_pio_clk.common,\n\t&bus_ac97_clk.common,\n\t&bus_i2s0_clk.common,\n\t&bus_i2s1_clk.common,\n\t&bus_lradc_clk.common,\n\t&bus_gpadc_clk.common,\n\t&bus_twd_clk.common,\n\t&bus_cir_tx_clk.common,\n\n\t \n\t&bus_i2c0_clk.common,\n\t&bus_i2c1_clk.common,\n\t&bus_i2c2_clk.common,\n\t&bus_i2c3_clk.common,\n\t&bus_i2c4_clk.common,\n\t&bus_uart0_clk.common,\n\t&bus_uart1_clk.common,\n\t&bus_uart2_clk.common,\n\t&bus_uart3_clk.common,\n\t&bus_uart4_clk.common,\n\t&bus_uart5_clk.common,\n};\n\nstatic struct clk_hw_onecell_data sun9i_a80_hw_clks = {\n\t.hws\t= {\n\t\t[CLK_PLL_C0CPUX]\t= &pll_c0cpux_clk.common.hw,\n\t\t[CLK_PLL_C1CPUX]\t= &pll_c1cpux_clk.common.hw,\n\t\t[CLK_PLL_AUDIO]\t\t= &pll_audio_clk.common.hw,\n\t\t[CLK_PLL_PERIPH0]\t= &pll_periph0_clk.common.hw,\n\t\t[CLK_PLL_VE]\t\t= &pll_ve_clk.common.hw,\n\t\t[CLK_PLL_DDR]\t\t= &pll_ddr_clk.common.hw,\n\t\t[CLK_PLL_VIDEO0]\t= &pll_video0_clk.common.hw,\n\t\t[CLK_PLL_VIDEO1]\t= &pll_video1_clk.common.hw,\n\t\t[CLK_PLL_GPU]\t\t= &pll_gpu_clk.common.hw,\n\t\t[CLK_PLL_DE]\t\t= &pll_de_clk.common.hw,\n\t\t[CLK_PLL_ISP]\t\t= &pll_isp_clk.common.hw,\n\t\t[CLK_PLL_PERIPH1]\t= &pll_periph1_clk.common.hw,\n\t\t[CLK_C0CPUX]\t\t= &c0cpux_clk.common.hw,\n\t\t[CLK_C1CPUX]\t\t= &c1cpux_clk.common.hw,\n\t\t[CLK_ATB0]\t\t= &atb0_clk.common.hw,\n\t\t[CLK_AXI0]\t\t= &axi0_clk.common.hw,\n\t\t[CLK_ATB1]\t\t= &atb1_clk.common.hw,\n\t\t[CLK_AXI1]\t\t= &axi1_clk.common.hw,\n\t\t[CLK_GTBUS]\t\t= &gtbus_clk.common.hw,\n\t\t[CLK_AHB0]\t\t= &ahb0_clk.common.hw,\n\t\t[CLK_AHB1]\t\t= &ahb1_clk.common.hw,\n\t\t[CLK_AHB2]\t\t= &ahb2_clk.common.hw,\n\t\t[CLK_APB0]\t\t= &apb0_clk.common.hw,\n\t\t[CLK_APB1]\t\t= &apb1_clk.common.hw,\n\t\t[CLK_CCI400]\t\t= &cci400_clk.common.hw,\n\t\t[CLK_ATS]\t\t= &ats_clk.common.hw,\n\t\t[CLK_TRACE]\t\t= &trace_clk.common.hw,\n\n\t\t[CLK_OUT_A]\t\t= &out_a_clk.common.hw,\n\t\t[CLK_OUT_B]\t\t= &out_b_clk.common.hw,\n\n\t\t[CLK_NAND0_0]\t\t= &nand0_0_clk.common.hw,\n\t\t[CLK_NAND0_1]\t\t= &nand0_1_clk.common.hw,\n\t\t[CLK_NAND1_0]\t\t= &nand1_0_clk.common.hw,\n\t\t[CLK_NAND1_1]\t\t= &nand1_1_clk.common.hw,\n\t\t[CLK_MMC0]\t\t= &mmc0_clk.common.hw,\n\t\t[CLK_MMC0_SAMPLE]\t= &mmc0_sample_clk.common.hw,\n\t\t[CLK_MMC0_OUTPUT]\t= &mmc0_output_clk.common.hw,\n\t\t[CLK_MMC1]\t\t= &mmc1_clk.common.hw,\n\t\t[CLK_MMC1_SAMPLE]\t= &mmc1_sample_clk.common.hw,\n\t\t[CLK_MMC1_OUTPUT]\t= &mmc1_output_clk.common.hw,\n\t\t[CLK_MMC2]\t\t= &mmc2_clk.common.hw,\n\t\t[CLK_MMC2_SAMPLE]\t= &mmc2_sample_clk.common.hw,\n\t\t[CLK_MMC2_OUTPUT]\t= &mmc2_output_clk.common.hw,\n\t\t[CLK_MMC3]\t\t= &mmc3_clk.common.hw,\n\t\t[CLK_MMC3_SAMPLE]\t= &mmc3_sample_clk.common.hw,\n\t\t[CLK_MMC3_OUTPUT]\t= &mmc3_output_clk.common.hw,\n\t\t[CLK_TS]\t\t= &ts_clk.common.hw,\n\t\t[CLK_SS]\t\t= &ss_clk.common.hw,\n\t\t[CLK_SPI0]\t\t= &spi0_clk.common.hw,\n\t\t[CLK_SPI1]\t\t= &spi1_clk.common.hw,\n\t\t[CLK_SPI2]\t\t= &spi2_clk.common.hw,\n\t\t[CLK_SPI3]\t\t= &spi3_clk.common.hw,\n\t\t[CLK_I2S0]\t\t= &i2s0_clk.common.hw,\n\t\t[CLK_I2S1]\t\t= &i2s1_clk.common.hw,\n\t\t[CLK_SPDIF]\t\t= &spdif_clk.common.hw,\n\t\t[CLK_SDRAM]\t\t= &sdram_clk.common.hw,\n\t\t[CLK_DE]\t\t= &de_clk.common.hw,\n\t\t[CLK_EDP]\t\t= &edp_clk.common.hw,\n\t\t[CLK_MP]\t\t= &mp_clk.common.hw,\n\t\t[CLK_LCD0]\t\t= &lcd0_clk.common.hw,\n\t\t[CLK_LCD1]\t\t= &lcd1_clk.common.hw,\n\t\t[CLK_MIPI_DSI0]\t\t= &mipi_dsi0_clk.common.hw,\n\t\t[CLK_MIPI_DSI1]\t\t= &mipi_dsi1_clk.common.hw,\n\t\t[CLK_HDMI]\t\t= &hdmi_clk.common.hw,\n\t\t[CLK_HDMI_SLOW]\t\t= &hdmi_slow_clk.common.hw,\n\t\t[CLK_MIPI_CSI]\t\t= &mipi_csi_clk.common.hw,\n\t\t[CLK_CSI_ISP]\t\t= &csi_isp_clk.common.hw,\n\t\t[CLK_CSI_MISC]\t\t= &csi_misc_clk.common.hw,\n\t\t[CLK_CSI0_MCLK]\t\t= &csi0_mclk_clk.common.hw,\n\t\t[CLK_CSI1_MCLK]\t\t= &csi1_mclk_clk.common.hw,\n\t\t[CLK_FD]\t\t= &fd_clk.common.hw,\n\t\t[CLK_VE]\t\t= &ve_clk.common.hw,\n\t\t[CLK_AVS]\t\t= &avs_clk.common.hw,\n\t\t[CLK_GPU_CORE]\t\t= &gpu_core_clk.common.hw,\n\t\t[CLK_GPU_MEMORY]\t= &gpu_memory_clk.common.hw,\n\t\t[CLK_GPU_AXI]\t\t= &gpu_axi_clk.common.hw,\n\t\t[CLK_SATA]\t\t= &sata_clk.common.hw,\n\t\t[CLK_AC97]\t\t= &ac97_clk.common.hw,\n\t\t[CLK_MIPI_HSI]\t\t= &mipi_hsi_clk.common.hw,\n\t\t[CLK_GPADC]\t\t= &gpadc_clk.common.hw,\n\t\t[CLK_CIR_TX]\t\t= &cir_tx_clk.common.hw,\n\n\t\t[CLK_BUS_FD]\t\t= &bus_fd_clk.common.hw,\n\t\t[CLK_BUS_VE]\t\t= &bus_ve_clk.common.hw,\n\t\t[CLK_BUS_GPU_CTRL]\t= &bus_gpu_ctrl_clk.common.hw,\n\t\t[CLK_BUS_SS]\t\t= &bus_ss_clk.common.hw,\n\t\t[CLK_BUS_MMC]\t\t= &bus_mmc_clk.common.hw,\n\t\t[CLK_BUS_NAND0]\t\t= &bus_nand0_clk.common.hw,\n\t\t[CLK_BUS_NAND1]\t\t= &bus_nand1_clk.common.hw,\n\t\t[CLK_BUS_SDRAM]\t\t= &bus_sdram_clk.common.hw,\n\t\t[CLK_BUS_MIPI_HSI]\t= &bus_mipi_hsi_clk.common.hw,\n\t\t[CLK_BUS_SATA]\t\t= &bus_sata_clk.common.hw,\n\t\t[CLK_BUS_TS]\t\t= &bus_ts_clk.common.hw,\n\t\t[CLK_BUS_SPI0]\t\t= &bus_spi0_clk.common.hw,\n\t\t[CLK_BUS_SPI1]\t\t= &bus_spi1_clk.common.hw,\n\t\t[CLK_BUS_SPI2]\t\t= &bus_spi2_clk.common.hw,\n\t\t[CLK_BUS_SPI3]\t\t= &bus_spi3_clk.common.hw,\n\n\t\t[CLK_BUS_OTG]\t\t= &bus_otg_clk.common.hw,\n\t\t[CLK_BUS_USB]\t\t= &bus_usb_clk.common.hw,\n\t\t[CLK_BUS_GMAC]\t\t= &bus_gmac_clk.common.hw,\n\t\t[CLK_BUS_MSGBOX]\t= &bus_msgbox_clk.common.hw,\n\t\t[CLK_BUS_SPINLOCK]\t= &bus_spinlock_clk.common.hw,\n\t\t[CLK_BUS_HSTIMER]\t= &bus_hstimer_clk.common.hw,\n\t\t[CLK_BUS_DMA]\t\t= &bus_dma_clk.common.hw,\n\n\t\t[CLK_BUS_LCD0]\t\t= &bus_lcd0_clk.common.hw,\n\t\t[CLK_BUS_LCD1]\t\t= &bus_lcd1_clk.common.hw,\n\t\t[CLK_BUS_EDP]\t\t= &bus_edp_clk.common.hw,\n\t\t[CLK_BUS_CSI]\t\t= &bus_csi_clk.common.hw,\n\t\t[CLK_BUS_HDMI]\t\t= &bus_hdmi_clk.common.hw,\n\t\t[CLK_BUS_DE]\t\t= &bus_de_clk.common.hw,\n\t\t[CLK_BUS_MP]\t\t= &bus_mp_clk.common.hw,\n\t\t[CLK_BUS_MIPI_DSI]\t= &bus_mipi_dsi_clk.common.hw,\n\n\t\t[CLK_BUS_SPDIF]\t\t= &bus_spdif_clk.common.hw,\n\t\t[CLK_BUS_PIO]\t\t= &bus_pio_clk.common.hw,\n\t\t[CLK_BUS_AC97]\t\t= &bus_ac97_clk.common.hw,\n\t\t[CLK_BUS_I2S0]\t\t= &bus_i2s0_clk.common.hw,\n\t\t[CLK_BUS_I2S1]\t\t= &bus_i2s1_clk.common.hw,\n\t\t[CLK_BUS_LRADC]\t\t= &bus_lradc_clk.common.hw,\n\t\t[CLK_BUS_GPADC]\t\t= &bus_gpadc_clk.common.hw,\n\t\t[CLK_BUS_TWD]\t\t= &bus_twd_clk.common.hw,\n\t\t[CLK_BUS_CIR_TX]\t= &bus_cir_tx_clk.common.hw,\n\n\t\t[CLK_BUS_I2C0]\t\t= &bus_i2c0_clk.common.hw,\n\t\t[CLK_BUS_I2C1]\t\t= &bus_i2c1_clk.common.hw,\n\t\t[CLK_BUS_I2C2]\t\t= &bus_i2c2_clk.common.hw,\n\t\t[CLK_BUS_I2C3]\t\t= &bus_i2c3_clk.common.hw,\n\t\t[CLK_BUS_I2C4]\t\t= &bus_i2c4_clk.common.hw,\n\t\t[CLK_BUS_UART0]\t\t= &bus_uart0_clk.common.hw,\n\t\t[CLK_BUS_UART1]\t\t= &bus_uart1_clk.common.hw,\n\t\t[CLK_BUS_UART2]\t\t= &bus_uart2_clk.common.hw,\n\t\t[CLK_BUS_UART3]\t\t= &bus_uart3_clk.common.hw,\n\t\t[CLK_BUS_UART4]\t\t= &bus_uart4_clk.common.hw,\n\t\t[CLK_BUS_UART5]\t\t= &bus_uart5_clk.common.hw,\n\t},\n\t.num\t= CLK_NUMBER,\n};\n\nstatic struct ccu_reset_map sun9i_a80_ccu_resets[] = {\n\t \n\t[RST_BUS_FD]\t\t= { 0x5a0, BIT(0) },\n\t[RST_BUS_VE]\t\t= { 0x5a0, BIT(1) },\n\t[RST_BUS_GPU_CTRL]\t= { 0x5a0, BIT(3) },\n\t[RST_BUS_SS]\t\t= { 0x5a0, BIT(5) },\n\t[RST_BUS_MMC]\t\t= { 0x5a0, BIT(8) },\n\t[RST_BUS_NAND0]\t\t= { 0x5a0, BIT(12) },\n\t[RST_BUS_NAND1]\t\t= { 0x5a0, BIT(13) },\n\t[RST_BUS_SDRAM]\t\t= { 0x5a0, BIT(14) },\n\t[RST_BUS_SATA]\t\t= { 0x5a0, BIT(16) },\n\t[RST_BUS_TS]\t\t= { 0x5a0, BIT(18) },\n\t[RST_BUS_SPI0]\t\t= { 0x5a0, BIT(20) },\n\t[RST_BUS_SPI1]\t\t= { 0x5a0, BIT(21) },\n\t[RST_BUS_SPI2]\t\t= { 0x5a0, BIT(22) },\n\t[RST_BUS_SPI3]\t\t= { 0x5a0, BIT(23) },\n\n\t \n\t[RST_BUS_OTG]\t\t= { 0x5a4, BIT(0) },\n\t[RST_BUS_OTG_PHY]\t= { 0x5a4, BIT(1) },\n\t[RST_BUS_MIPI_HSI]\t= { 0x5a4, BIT(9) },\n\t[RST_BUS_GMAC]\t\t= { 0x5a4, BIT(17) },\n\t[RST_BUS_MSGBOX]\t= { 0x5a4, BIT(21) },\n\t[RST_BUS_SPINLOCK]\t= { 0x5a4, BIT(22) },\n\t[RST_BUS_HSTIMER]\t= { 0x5a4, BIT(23) },\n\t[RST_BUS_DMA]\t\t= { 0x5a4, BIT(24) },\n\n\t \n\t[RST_BUS_LCD0]\t\t= { 0x5a8, BIT(0) },\n\t[RST_BUS_LCD1]\t\t= { 0x5a8, BIT(1) },\n\t[RST_BUS_EDP]\t\t= { 0x5a8, BIT(2) },\n\t[RST_BUS_LVDS]\t\t= { 0x5a8, BIT(3) },\n\t[RST_BUS_CSI]\t\t= { 0x5a8, BIT(4) },\n\t[RST_BUS_HDMI0]\t\t= { 0x5a8, BIT(5) },\n\t[RST_BUS_HDMI1]\t\t= { 0x5a8, BIT(6) },\n\t[RST_BUS_DE]\t\t= { 0x5a8, BIT(7) },\n\t[RST_BUS_MP]\t\t= { 0x5a8, BIT(8) },\n\t[RST_BUS_GPU]\t\t= { 0x5a8, BIT(9) },\n\t[RST_BUS_MIPI_DSI]\t= { 0x5a8, BIT(11) },\n\n\t \n\t[RST_BUS_SPDIF]\t\t= { 0x5b0, BIT(1) },\n\t[RST_BUS_AC97]\t\t= { 0x5b0, BIT(11) },\n\t[RST_BUS_I2S0]\t\t= { 0x5b0, BIT(12) },\n\t[RST_BUS_I2S1]\t\t= { 0x5b0, BIT(13) },\n\t[RST_BUS_LRADC]\t\t= { 0x5b0, BIT(15) },\n\t[RST_BUS_GPADC]\t\t= { 0x5b0, BIT(17) },\n\t[RST_BUS_CIR_TX]\t= { 0x5b0, BIT(19) },\n\n\t \n\t[RST_BUS_I2C0]\t\t= { 0x5b4, BIT(0) },\n\t[RST_BUS_I2C1]\t\t= { 0x5b4, BIT(1) },\n\t[RST_BUS_I2C2]\t\t= { 0x5b4, BIT(2) },\n\t[RST_BUS_I2C3]\t\t= { 0x5b4, BIT(3) },\n\t[RST_BUS_I2C4]\t\t= { 0x5b4, BIT(4) },\n\t[RST_BUS_UART0]\t\t= { 0x5b4, BIT(16) },\n\t[RST_BUS_UART1]\t\t= { 0x5b4, BIT(17) },\n\t[RST_BUS_UART2]\t\t= { 0x5b4, BIT(18) },\n\t[RST_BUS_UART3]\t\t= { 0x5b4, BIT(19) },\n\t[RST_BUS_UART4]\t\t= { 0x5b4, BIT(20) },\n\t[RST_BUS_UART5]\t\t= { 0x5b4, BIT(21) },\n};\n\nstatic const struct sunxi_ccu_desc sun9i_a80_ccu_desc = {\n\t.ccu_clks\t= sun9i_a80_ccu_clks,\n\t.num_ccu_clks\t= ARRAY_SIZE(sun9i_a80_ccu_clks),\n\n\t.hw_clks\t= &sun9i_a80_hw_clks,\n\n\t.resets\t\t= sun9i_a80_ccu_resets,\n\t.num_resets\t= ARRAY_SIZE(sun9i_a80_ccu_resets),\n};\n\n#define SUN9I_A80_PLL_P_SHIFT\t16\n#define SUN9I_A80_PLL_N_SHIFT\t8\n#define SUN9I_A80_PLL_N_WIDTH\t8\n\nstatic void sun9i_a80_cpu_pll_fixup(void __iomem *reg)\n{\n\tu32 val = readl(reg);\n\n\t \n\tif (!(val & BIT(SUN9I_A80_PLL_P_SHIFT)))\n\t\treturn;\n\n\t \n\tval &= ~GENMASK(SUN9I_A80_PLL_N_SHIFT + SUN9I_A80_PLL_N_WIDTH - 1,\n\t\t\tSUN9I_A80_PLL_N_SHIFT);\n\tval |= 17 << SUN9I_A80_PLL_N_SHIFT;\n\n\t \n\tval &= ~BIT(SUN9I_A80_PLL_P_SHIFT);\n\n\twritel(val, reg);\n}\n\nstatic int sun9i_a80_ccu_probe(struct platform_device *pdev)\n{\n\tvoid __iomem *reg;\n\tu32 val;\n\n\treg = devm_platform_ioremap_resource(pdev, 0);\n\tif (IS_ERR(reg))\n\t\treturn PTR_ERR(reg);\n\n\t \n\tval = readl(reg + SUN9I_A80_PLL_AUDIO_REG);\n\tval &= ~(BIT(16) | BIT(18));\n\twritel(val, reg + SUN9I_A80_PLL_AUDIO_REG);\n\n\t \n\tsun9i_a80_cpu_pll_fixup(reg + SUN9I_A80_PLL_C0CPUX_REG);\n\tsun9i_a80_cpu_pll_fixup(reg + SUN9I_A80_PLL_C1CPUX_REG);\n\n\treturn devm_sunxi_ccu_probe(&pdev->dev, reg, &sun9i_a80_ccu_desc);\n}\n\nstatic const struct of_device_id sun9i_a80_ccu_ids[] = {\n\t{ .compatible = \"allwinner,sun9i-a80-ccu\" },\n\t{ }\n};\n\nstatic struct platform_driver sun9i_a80_ccu_driver = {\n\t.probe\t= sun9i_a80_ccu_probe,\n\t.driver\t= {\n\t\t.name\t= \"sun9i-a80-ccu\",\n\t\t.suppress_bind_attrs = true,\n\t\t.of_match_table\t= sun9i_a80_ccu_ids,\n\t},\n};\nmodule_platform_driver(sun9i_a80_ccu_driver);\n\nMODULE_IMPORT_NS(SUNXI_CCU);\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}