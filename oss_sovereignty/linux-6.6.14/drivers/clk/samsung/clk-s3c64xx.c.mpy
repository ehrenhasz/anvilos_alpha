{
  "module_name": "clk-s3c64xx.c",
  "hash_id": "3241ca4a10f892c405843de2461dd52217d297759a9ebd541bcfab0194fc9ca4",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/samsung/clk-s3c64xx.c",
  "human_readable_source": "\n \n\n#include <linux/slab.h>\n#include <linux/clk-provider.h>\n#include <linux/clk/samsung.h>\n#include <linux/of.h>\n#include <linux/of_address.h>\n\n#include <dt-bindings/clock/samsung,s3c64xx-clock.h>\n\n#include \"clk.h\"\n#include \"clk-pll.h\"\n\n \n#define APLL_LOCK\t\t0x000\n#define MPLL_LOCK\t\t0x004\n#define EPLL_LOCK\t\t0x008\n#define APLL_CON\t\t0x00c\n#define MPLL_CON\t\t0x010\n#define EPLL_CON0\t\t0x014\n#define EPLL_CON1\t\t0x018\n#define CLK_SRC\t\t\t0x01c\n#define CLK_DIV0\t\t0x020\n#define CLK_DIV1\t\t0x024\n#define CLK_DIV2\t\t0x028\n#define HCLK_GATE\t\t0x030\n#define PCLK_GATE\t\t0x034\n#define SCLK_GATE\t\t0x038\n#define MEM0_GATE\t\t0x03c\n#define CLK_SRC2\t\t0x10c\n#define OTHERS\t\t\t0x900\n\n \n#define FIXED_RATE_CLOCKS(name)\t\\\n\t\tstatic struct samsung_fixed_rate_clock name[]\n#define MUX_CLOCKS(name)\t\\\n\t\tstatic struct samsung_mux_clock name[]\n#define DIV_CLOCKS(name)\t\\\n\t\tstatic struct samsung_div_clock name[]\n#define GATE_CLOCKS(name)\t\\\n\t\tstatic struct samsung_gate_clock name[]\n\n \n#define GATE_BUS(_id, cname, pname, o, b) \\\n\t\tGATE(_id, cname, pname, o, b, 0, 0)\n#define GATE_SCLK(_id, cname, pname, o, b) \\\n\t\tGATE(_id, cname, pname, o, b, CLK_SET_RATE_PARENT, 0)\n#define GATE_ON(_id, cname, pname, o, b) \\\n\t\tGATE(_id, cname, pname, o, b, CLK_IGNORE_UNUSED, 0)\n\nstatic void __iomem *reg_base;\nstatic bool is_s3c6400;\n\n \nstatic unsigned long s3c64xx_clk_regs[] __initdata = {\n\tAPLL_LOCK,\n\tMPLL_LOCK,\n\tEPLL_LOCK,\n\tAPLL_CON,\n\tMPLL_CON,\n\tEPLL_CON0,\n\tEPLL_CON1,\n\tCLK_SRC,\n\tCLK_DIV0,\n\tCLK_DIV1,\n\tCLK_DIV2,\n\tHCLK_GATE,\n\tPCLK_GATE,\n\tSCLK_GATE,\n};\n\nstatic unsigned long s3c6410_clk_regs[] __initdata = {\n\tCLK_SRC2,\n\tMEM0_GATE,\n};\n\n \nPNAME(spi_mmc_p)\t= { \"mout_epll\", \"dout_mpll\", \"fin_pll\", \"clk27m\" };\nPNAME(uart_p)\t\t= { \"mout_epll\", \"dout_mpll\" };\nPNAME(audio0_p)\t\t= { \"mout_epll\", \"dout_mpll\", \"fin_pll\", \"iiscdclk0\",\n\t\t\t\t\"pcmcdclk0\", \"none\", \"none\", \"none\" };\nPNAME(audio1_p)\t\t= { \"mout_epll\", \"dout_mpll\", \"fin_pll\", \"iiscdclk1\",\n\t\t\t\t\"pcmcdclk0\", \"none\", \"none\", \"none\" };\nPNAME(mfc_p)\t\t= { \"hclkx2\", \"mout_epll\" };\nPNAME(apll_p)\t\t= { \"fin_pll\", \"fout_apll\" };\nPNAME(mpll_p)\t\t= { \"fin_pll\", \"fout_mpll\" };\nPNAME(epll_p)\t\t= { \"fin_pll\", \"fout_epll\" };\nPNAME(hclkx2_p)\t\t= { \"mout_mpll\", \"mout_apll\" };\n\n \nPNAME(scaler_lcd_p6400)\t= { \"mout_epll\", \"dout_mpll\", \"none\", \"none\" };\nPNAME(irda_p6400)\t= { \"mout_epll\", \"dout_mpll\", \"none\", \"clk48m\" };\nPNAME(uhost_p6400)\t= { \"clk48m\", \"mout_epll\", \"dout_mpll\", \"none\" };\n\n \nPNAME(clk27_p6410)\t= { \"clk27m\", \"fin_pll\" };\nPNAME(scaler_lcd_p6410)\t= { \"mout_epll\", \"dout_mpll\", \"fin_pll\", \"none\" };\nPNAME(irda_p6410)\t= { \"mout_epll\", \"dout_mpll\", \"fin_pll\", \"clk48m\" };\nPNAME(uhost_p6410)\t= { \"clk48m\", \"mout_epll\", \"dout_mpll\", \"fin_pll\" };\nPNAME(audio2_p6410)\t= { \"mout_epll\", \"dout_mpll\", \"fin_pll\", \"iiscdclk2\",\n\t\t\t\t\"pcmcdclk1\", \"none\", \"none\", \"none\" };\n\n \nFIXED_RATE_CLOCKS(s3c64xx_fixed_rate_ext_clks) __initdata = {\n\tFRATE(0, \"fin_pll\", NULL, 0, 0),\n\tFRATE(0, \"xusbxti\", NULL, 0, 0),\n};\n\n \nFIXED_RATE_CLOCKS(s3c64xx_fixed_rate_clks) __initdata = {\n\tFRATE(CLK27M, \"clk27m\", NULL, 0, 27000000),\n\tFRATE(CLK48M, \"clk48m\", NULL, 0, 48000000),\n};\n\n \nMUX_CLOCKS(s3c64xx_mux_clks) __initdata = {\n\tMUX_F(0, \"mout_syncmux\", hclkx2_p, OTHERS, 6, 1, 0, CLK_MUX_READ_ONLY),\n\tMUX(MOUT_APLL, \"mout_apll\", apll_p, CLK_SRC, 0, 1),\n\tMUX(MOUT_MPLL, \"mout_mpll\", mpll_p, CLK_SRC, 1, 1),\n\tMUX(MOUT_EPLL, \"mout_epll\", epll_p, CLK_SRC, 2, 1),\n\tMUX(MOUT_MFC, \"mout_mfc\", mfc_p, CLK_SRC, 4, 1),\n\tMUX(MOUT_AUDIO0, \"mout_audio0\", audio0_p, CLK_SRC, 7, 3),\n\tMUX(MOUT_AUDIO1, \"mout_audio1\", audio1_p, CLK_SRC, 10, 3),\n\tMUX(MOUT_UART, \"mout_uart\", uart_p, CLK_SRC, 13, 1),\n\tMUX(MOUT_SPI0, \"mout_spi0\", spi_mmc_p, CLK_SRC, 14, 2),\n\tMUX(MOUT_SPI1, \"mout_spi1\", spi_mmc_p, CLK_SRC, 16, 2),\n\tMUX(MOUT_MMC0, \"mout_mmc0\", spi_mmc_p, CLK_SRC, 18, 2),\n\tMUX(MOUT_MMC1, \"mout_mmc1\", spi_mmc_p, CLK_SRC, 20, 2),\n\tMUX(MOUT_MMC2, \"mout_mmc2\", spi_mmc_p, CLK_SRC, 22, 2),\n};\n\n \nMUX_CLOCKS(s3c6400_mux_clks) __initdata = {\n\tMUX(MOUT_UHOST, \"mout_uhost\", uhost_p6400, CLK_SRC, 5, 2),\n\tMUX(MOUT_IRDA, \"mout_irda\", irda_p6400, CLK_SRC, 24, 2),\n\tMUX(MOUT_LCD, \"mout_lcd\", scaler_lcd_p6400, CLK_SRC, 26, 2),\n\tMUX(MOUT_SCALER, \"mout_scaler\", scaler_lcd_p6400, CLK_SRC, 28, 2),\n};\n\n \nMUX_CLOCKS(s3c6410_mux_clks) __initdata = {\n\tMUX(MOUT_UHOST, \"mout_uhost\", uhost_p6410, CLK_SRC, 5, 2),\n\tMUX(MOUT_IRDA, \"mout_irda\", irda_p6410, CLK_SRC, 24, 2),\n\tMUX(MOUT_LCD, \"mout_lcd\", scaler_lcd_p6410, CLK_SRC, 26, 2),\n\tMUX(MOUT_SCALER, \"mout_scaler\", scaler_lcd_p6410, CLK_SRC, 28, 2),\n\tMUX(MOUT_DAC27, \"mout_dac27\", clk27_p6410, CLK_SRC, 30, 1),\n\tMUX(MOUT_TV27, \"mout_tv27\", clk27_p6410, CLK_SRC, 31, 1),\n\tMUX(MOUT_AUDIO2, \"mout_audio2\", audio2_p6410, CLK_SRC2, 0, 3),\n};\n\n \nDIV_CLOCKS(s3c64xx_div_clks) __initdata = {\n\tDIV(DOUT_MPLL, \"dout_mpll\", \"mout_mpll\", CLK_DIV0, 4, 1),\n\tDIV(HCLKX2, \"hclkx2\", \"mout_syncmux\", CLK_DIV0, 9, 3),\n\tDIV(HCLK, \"hclk\", \"hclkx2\", CLK_DIV0, 8, 1),\n\tDIV(PCLK, \"pclk\", \"hclkx2\", CLK_DIV0, 12, 4),\n\tDIV(DOUT_SECUR, \"dout_secur\", \"hclkx2\", CLK_DIV0, 18, 2),\n\tDIV(DOUT_CAM, \"dout_cam\", \"hclkx2\", CLK_DIV0, 20, 4),\n\tDIV(DOUT_JPEG, \"dout_jpeg\", \"hclkx2\", CLK_DIV0, 24, 4),\n\tDIV(DOUT_MFC, \"dout_mfc\", \"mout_mfc\", CLK_DIV0, 28, 4),\n\tDIV(DOUT_MMC0, \"dout_mmc0\", \"mout_mmc0\", CLK_DIV1, 0, 4),\n\tDIV(DOUT_MMC1, \"dout_mmc1\", \"mout_mmc1\", CLK_DIV1, 4, 4),\n\tDIV(DOUT_MMC2, \"dout_mmc2\", \"mout_mmc2\", CLK_DIV1, 8, 4),\n\tDIV(DOUT_LCD, \"dout_lcd\", \"mout_lcd\", CLK_DIV1, 12, 4),\n\tDIV(DOUT_SCALER, \"dout_scaler\", \"mout_scaler\", CLK_DIV1, 16, 4),\n\tDIV(DOUT_UHOST, \"dout_uhost\", \"mout_uhost\", CLK_DIV1, 20, 4),\n\tDIV(DOUT_SPI0, \"dout_spi0\", \"mout_spi0\", CLK_DIV2, 0, 4),\n\tDIV(DOUT_SPI1, \"dout_spi1\", \"mout_spi1\", CLK_DIV2, 4, 4),\n\tDIV(DOUT_AUDIO0, \"dout_audio0\", \"mout_audio0\", CLK_DIV2, 8, 4),\n\tDIV(DOUT_AUDIO1, \"dout_audio1\", \"mout_audio1\", CLK_DIV2, 12, 4),\n\tDIV(DOUT_UART, \"dout_uart\", \"mout_uart\", CLK_DIV2, 16, 4),\n\tDIV(DOUT_IRDA, \"dout_irda\", \"mout_irda\", CLK_DIV2, 20, 4),\n};\n\n \nDIV_CLOCKS(s3c6400_div_clks) __initdata = {\n\tDIV(ARMCLK, \"armclk\", \"mout_apll\", CLK_DIV0, 0, 3),\n};\n\n \nDIV_CLOCKS(s3c6410_div_clks) __initdata = {\n\tDIV(ARMCLK, \"armclk\", \"mout_apll\", CLK_DIV0, 0, 4),\n\tDIV(DOUT_FIMC, \"dout_fimc\", \"hclk\", CLK_DIV1, 24, 4),\n\tDIV(DOUT_AUDIO2, \"dout_audio2\", \"mout_audio2\", CLK_DIV2, 24, 4),\n};\n\n \nGATE_CLOCKS(s3c64xx_gate_clks) __initdata = {\n\tGATE_BUS(HCLK_UHOST, \"hclk_uhost\", \"hclk\", HCLK_GATE, 29),\n\tGATE_BUS(HCLK_SECUR, \"hclk_secur\", \"hclk\", HCLK_GATE, 28),\n\tGATE_BUS(HCLK_SDMA1, \"hclk_sdma1\", \"hclk\", HCLK_GATE, 27),\n\tGATE_BUS(HCLK_SDMA0, \"hclk_sdma0\", \"hclk\", HCLK_GATE, 26),\n\tGATE_ON(HCLK_DDR1, \"hclk_ddr1\", \"hclk\", HCLK_GATE, 24),\n\tGATE_BUS(HCLK_USB, \"hclk_usb\", \"hclk\", HCLK_GATE, 20),\n\tGATE_BUS(HCLK_HSMMC2, \"hclk_hsmmc2\", \"hclk\", HCLK_GATE, 19),\n\tGATE_BUS(HCLK_HSMMC1, \"hclk_hsmmc1\", \"hclk\", HCLK_GATE, 18),\n\tGATE_BUS(HCLK_HSMMC0, \"hclk_hsmmc0\", \"hclk\", HCLK_GATE, 17),\n\tGATE_BUS(HCLK_MDP, \"hclk_mdp\", \"hclk\", HCLK_GATE, 16),\n\tGATE_BUS(HCLK_DHOST, \"hclk_dhost\", \"hclk\", HCLK_GATE, 15),\n\tGATE_BUS(HCLK_IHOST, \"hclk_ihost\", \"hclk\", HCLK_GATE, 14),\n\tGATE_BUS(HCLK_DMA1, \"hclk_dma1\", \"hclk\", HCLK_GATE, 13),\n\tGATE_BUS(HCLK_DMA0, \"hclk_dma0\", \"hclk\", HCLK_GATE, 12),\n\tGATE_BUS(HCLK_JPEG, \"hclk_jpeg\", \"hclk\", HCLK_GATE, 11),\n\tGATE_BUS(HCLK_CAMIF, \"hclk_camif\", \"hclk\", HCLK_GATE, 10),\n\tGATE_BUS(HCLK_SCALER, \"hclk_scaler\", \"hclk\", HCLK_GATE, 9),\n\tGATE_BUS(HCLK_2D, \"hclk_2d\", \"hclk\", HCLK_GATE, 8),\n\tGATE_BUS(HCLK_TV, \"hclk_tv\", \"hclk\", HCLK_GATE, 7),\n\tGATE_BUS(HCLK_POST0, \"hclk_post0\", \"hclk\", HCLK_GATE, 5),\n\tGATE_BUS(HCLK_ROT, \"hclk_rot\", \"hclk\", HCLK_GATE, 4),\n\tGATE_BUS(HCLK_LCD, \"hclk_lcd\", \"hclk\", HCLK_GATE, 3),\n\tGATE_BUS(HCLK_TZIC, \"hclk_tzic\", \"hclk\", HCLK_GATE, 2),\n\tGATE_ON(HCLK_INTC, \"hclk_intc\", \"hclk\", HCLK_GATE, 1),\n\tGATE_ON(PCLK_SKEY, \"pclk_skey\", \"pclk\", PCLK_GATE, 24),\n\tGATE_ON(PCLK_CHIPID, \"pclk_chipid\", \"pclk\", PCLK_GATE, 23),\n\tGATE_BUS(PCLK_SPI1, \"pclk_spi1\", \"pclk\", PCLK_GATE, 22),\n\tGATE_BUS(PCLK_SPI0, \"pclk_spi0\", \"pclk\", PCLK_GATE, 21),\n\tGATE_BUS(PCLK_HSIRX, \"pclk_hsirx\", \"pclk\", PCLK_GATE, 20),\n\tGATE_BUS(PCLK_HSITX, \"pclk_hsitx\", \"pclk\", PCLK_GATE, 19),\n\tGATE_ON(PCLK_GPIO, \"pclk_gpio\", \"pclk\", PCLK_GATE, 18),\n\tGATE_BUS(PCLK_IIC0, \"pclk_iic0\", \"pclk\", PCLK_GATE, 17),\n\tGATE_BUS(PCLK_IIS1, \"pclk_iis1\", \"pclk\", PCLK_GATE, 16),\n\tGATE_BUS(PCLK_IIS0, \"pclk_iis0\", \"pclk\", PCLK_GATE, 15),\n\tGATE_BUS(PCLK_AC97, \"pclk_ac97\", \"pclk\", PCLK_GATE, 14),\n\tGATE_BUS(PCLK_TZPC, \"pclk_tzpc\", \"pclk\", PCLK_GATE, 13),\n\tGATE_BUS(PCLK_TSADC, \"pclk_tsadc\", \"pclk\", PCLK_GATE, 12),\n\tGATE_BUS(PCLK_KEYPAD, \"pclk_keypad\", \"pclk\", PCLK_GATE, 11),\n\tGATE_BUS(PCLK_IRDA, \"pclk_irda\", \"pclk\", PCLK_GATE, 10),\n\tGATE_BUS(PCLK_PCM1, \"pclk_pcm1\", \"pclk\", PCLK_GATE, 9),\n\tGATE_BUS(PCLK_PCM0, \"pclk_pcm0\", \"pclk\", PCLK_GATE, 8),\n\tGATE_BUS(PCLK_PWM, \"pclk_pwm\", \"pclk\", PCLK_GATE, 7),\n\tGATE_BUS(PCLK_RTC, \"pclk_rtc\", \"pclk\", PCLK_GATE, 6),\n\tGATE_BUS(PCLK_WDT, \"pclk_wdt\", \"pclk\", PCLK_GATE, 5),\n\tGATE_BUS(PCLK_UART3, \"pclk_uart3\", \"pclk\", PCLK_GATE, 4),\n\tGATE_BUS(PCLK_UART2, \"pclk_uart2\", \"pclk\", PCLK_GATE, 3),\n\tGATE_BUS(PCLK_UART1, \"pclk_uart1\", \"pclk\", PCLK_GATE, 2),\n\tGATE_BUS(PCLK_UART0, \"pclk_uart0\", \"pclk\", PCLK_GATE, 1),\n\tGATE_BUS(PCLK_MFC, \"pclk_mfc\", \"pclk\", PCLK_GATE, 0),\n\tGATE_SCLK(SCLK_UHOST, \"sclk_uhost\", \"dout_uhost\", SCLK_GATE, 30),\n\tGATE_SCLK(SCLK_MMC2_48, \"sclk_mmc2_48\", \"clk48m\", SCLK_GATE, 29),\n\tGATE_SCLK(SCLK_MMC1_48, \"sclk_mmc1_48\", \"clk48m\", SCLK_GATE, 28),\n\tGATE_SCLK(SCLK_MMC0_48, \"sclk_mmc0_48\", \"clk48m\", SCLK_GATE, 27),\n\tGATE_SCLK(SCLK_MMC2, \"sclk_mmc2\", \"dout_mmc2\", SCLK_GATE, 26),\n\tGATE_SCLK(SCLK_MMC1, \"sclk_mmc1\", \"dout_mmc1\", SCLK_GATE, 25),\n\tGATE_SCLK(SCLK_MMC0, \"sclk_mmc0\", \"dout_mmc0\", SCLK_GATE, 24),\n\tGATE_SCLK(SCLK_SPI1_48, \"sclk_spi1_48\", \"clk48m\", SCLK_GATE, 23),\n\tGATE_SCLK(SCLK_SPI0_48, \"sclk_spi0_48\", \"clk48m\", SCLK_GATE, 22),\n\tGATE_SCLK(SCLK_SPI1, \"sclk_spi1\", \"dout_spi1\", SCLK_GATE, 21),\n\tGATE_SCLK(SCLK_SPI0, \"sclk_spi0\", \"dout_spi0\", SCLK_GATE, 20),\n\tGATE_SCLK(SCLK_DAC27, \"sclk_dac27\", \"mout_dac27\", SCLK_GATE, 19),\n\tGATE_SCLK(SCLK_TV27, \"sclk_tv27\", \"mout_tv27\", SCLK_GATE, 18),\n\tGATE_SCLK(SCLK_SCALER27, \"sclk_scaler27\", \"clk27m\", SCLK_GATE, 17),\n\tGATE_SCLK(SCLK_SCALER, \"sclk_scaler\", \"dout_scaler\", SCLK_GATE, 16),\n\tGATE_SCLK(SCLK_LCD27, \"sclk_lcd27\", \"clk27m\", SCLK_GATE, 15),\n\tGATE_SCLK(SCLK_LCD, \"sclk_lcd\", \"dout_lcd\", SCLK_GATE, 14),\n\tGATE_SCLK(SCLK_POST0_27, \"sclk_post0_27\", \"clk27m\", SCLK_GATE, 12),\n\tGATE_SCLK(SCLK_POST0, \"sclk_post0\", \"dout_lcd\", SCLK_GATE, 10),\n\tGATE_SCLK(SCLK_AUDIO1, \"sclk_audio1\", \"dout_audio1\", SCLK_GATE, 9),\n\tGATE_SCLK(SCLK_AUDIO0, \"sclk_audio0\", \"dout_audio0\", SCLK_GATE, 8),\n\tGATE_SCLK(SCLK_SECUR, \"sclk_secur\", \"dout_secur\", SCLK_GATE, 7),\n\tGATE_SCLK(SCLK_IRDA, \"sclk_irda\", \"dout_irda\", SCLK_GATE, 6),\n\tGATE_SCLK(SCLK_UART, \"sclk_uart\", \"dout_uart\", SCLK_GATE, 5),\n\tGATE_SCLK(SCLK_MFC, \"sclk_mfc\", \"dout_mfc\", SCLK_GATE, 3),\n\tGATE_SCLK(SCLK_CAM, \"sclk_cam\", \"dout_cam\", SCLK_GATE, 2),\n\tGATE_SCLK(SCLK_JPEG, \"sclk_jpeg\", \"dout_jpeg\", SCLK_GATE, 1),\n};\n\n \nGATE_CLOCKS(s3c6400_gate_clks) __initdata = {\n\tGATE_ON(HCLK_DDR0, \"hclk_ddr0\", \"hclk\", HCLK_GATE, 23),\n\tGATE_SCLK(SCLK_ONENAND, \"sclk_onenand\", \"parent\", SCLK_GATE, 4),\n};\n\n \nGATE_CLOCKS(s3c6410_gate_clks) __initdata = {\n\tGATE_BUS(HCLK_3DSE, \"hclk_3dse\", \"hclk\", HCLK_GATE, 31),\n\tGATE_ON(HCLK_IROM, \"hclk_irom\", \"hclk\", HCLK_GATE, 25),\n\tGATE_ON(HCLK_MEM1, \"hclk_mem1\", \"hclk\", HCLK_GATE, 22),\n\tGATE_ON(HCLK_MEM0, \"hclk_mem0\", \"hclk\", HCLK_GATE, 21),\n\tGATE_BUS(HCLK_MFC, \"hclk_mfc\", \"hclk\", HCLK_GATE, 0),\n\tGATE_BUS(PCLK_IIC1, \"pclk_iic1\", \"pclk\", PCLK_GATE, 27),\n\tGATE_BUS(PCLK_IIS2, \"pclk_iis2\", \"pclk\", PCLK_GATE, 26),\n\tGATE_SCLK(SCLK_FIMC, \"sclk_fimc\", \"dout_fimc\", SCLK_GATE, 13),\n\tGATE_SCLK(SCLK_AUDIO2, \"sclk_audio2\", \"dout_audio2\", SCLK_GATE, 11),\n\tGATE_BUS(MEM0_CFCON, \"mem0_cfcon\", \"hclk_mem0\", MEM0_GATE, 5),\n\tGATE_BUS(MEM0_ONENAND1, \"mem0_onenand1\", \"hclk_mem0\", MEM0_GATE, 4),\n\tGATE_BUS(MEM0_ONENAND0, \"mem0_onenand0\", \"hclk_mem0\", MEM0_GATE, 3),\n\tGATE_BUS(MEM0_NFCON, \"mem0_nfcon\", \"hclk_mem0\", MEM0_GATE, 2),\n\tGATE_ON(MEM0_SROM, \"mem0_srom\", \"hclk_mem0\", MEM0_GATE, 1),\n};\n\n \nstatic struct samsung_pll_clock s3c64xx_pll_clks[] __initdata = {\n\tPLL(pll_6552, FOUT_APLL, \"fout_apll\", \"fin_pll\",\n\t\t\t\t\tAPLL_LOCK, APLL_CON, NULL),\n\tPLL(pll_6552, FOUT_MPLL, \"fout_mpll\", \"fin_pll\",\n\t\t\t\t\tMPLL_LOCK, MPLL_CON, NULL),\n\tPLL(pll_6553, FOUT_EPLL, \"fout_epll\", \"fin_pll\",\n\t\t\t\t\tEPLL_LOCK, EPLL_CON0, NULL),\n};\n\n \nstatic struct samsung_clock_alias s3c64xx_clock_aliases[] = {\n\tALIAS(FOUT_APLL, NULL, \"fout_apll\"),\n\tALIAS(FOUT_MPLL, NULL, \"fout_mpll\"),\n\tALIAS(FOUT_EPLL, NULL, \"fout_epll\"),\n\tALIAS(MOUT_EPLL, NULL, \"mout_epll\"),\n\tALIAS(DOUT_MPLL, NULL, \"dout_mpll\"),\n\tALIAS(HCLKX2, NULL, \"hclk2\"),\n\tALIAS(HCLK, NULL, \"hclk\"),\n\tALIAS(PCLK, NULL, \"pclk\"),\n\tALIAS(PCLK, NULL, \"clk_uart_baud2\"),\n\tALIAS(ARMCLK, NULL, \"armclk\"),\n\tALIAS(HCLK_UHOST, \"s3c2410-ohci\", \"usb-host\"),\n\tALIAS(HCLK_USB, \"s3c-hsotg\", \"otg\"),\n\tALIAS(HCLK_HSMMC2, \"s3c-sdhci.2\", \"hsmmc\"),\n\tALIAS(HCLK_HSMMC2, \"s3c-sdhci.2\", \"mmc_busclk.0\"),\n\tALIAS(HCLK_HSMMC1, \"s3c-sdhci.1\", \"hsmmc\"),\n\tALIAS(HCLK_HSMMC1, \"s3c-sdhci.1\", \"mmc_busclk.0\"),\n\tALIAS(HCLK_HSMMC0, \"s3c-sdhci.0\", \"hsmmc\"),\n\tALIAS(HCLK_HSMMC0, \"s3c-sdhci.0\", \"mmc_busclk.0\"),\n\tALIAS(HCLK_DMA1, \"dma-pl080s.1\", \"apb_pclk\"),\n\tALIAS(HCLK_DMA0, \"dma-pl080s.0\", \"apb_pclk\"),\n\tALIAS(HCLK_CAMIF, \"s3c-camif\", \"camif\"),\n\tALIAS(HCLK_LCD, \"s3c-fb\", \"lcd\"),\n\tALIAS(PCLK_SPI1, \"s3c6410-spi.1\", \"spi\"),\n\tALIAS(PCLK_SPI0, \"s3c6410-spi.0\", \"spi\"),\n\tALIAS(PCLK_IIC0, \"s3c2440-i2c.0\", \"i2c\"),\n\tALIAS(PCLK_IIS1, \"samsung-i2s.1\", \"iis\"),\n\tALIAS(PCLK_IIS0, \"samsung-i2s.0\", \"iis\"),\n\tALIAS(PCLK_AC97, \"samsung-ac97\", \"ac97\"),\n\tALIAS(PCLK_TSADC, \"s3c64xx-adc\", \"adc\"),\n\tALIAS(PCLK_KEYPAD, \"samsung-keypad\", \"keypad\"),\n\tALIAS(PCLK_PCM1, \"samsung-pcm.1\", \"pcm\"),\n\tALIAS(PCLK_PCM0, \"samsung-pcm.0\", \"pcm\"),\n\tALIAS(PCLK_PWM, NULL, \"timers\"),\n\tALIAS(PCLK_RTC, \"s3c64xx-rtc\", \"rtc\"),\n\tALIAS(PCLK_WDT, NULL, \"watchdog\"),\n\tALIAS(PCLK_UART3, \"s3c6400-uart.3\", \"uart\"),\n\tALIAS(PCLK_UART2, \"s3c6400-uart.2\", \"uart\"),\n\tALIAS(PCLK_UART1, \"s3c6400-uart.1\", \"uart\"),\n\tALIAS(PCLK_UART0, \"s3c6400-uart.0\", \"uart\"),\n\tALIAS(SCLK_UHOST, \"s3c2410-ohci\", \"usb-bus-host\"),\n\tALIAS(SCLK_MMC2, \"s3c-sdhci.2\", \"mmc_busclk.2\"),\n\tALIAS(SCLK_MMC1, \"s3c-sdhci.1\", \"mmc_busclk.2\"),\n\tALIAS(SCLK_MMC0, \"s3c-sdhci.0\", \"mmc_busclk.2\"),\n\tALIAS(PCLK_SPI1, \"s3c6410-spi.1\", \"spi_busclk0\"),\n\tALIAS(SCLK_SPI1, \"s3c6410-spi.1\", \"spi_busclk2\"),\n\tALIAS(PCLK_SPI0, \"s3c6410-spi.0\", \"spi_busclk0\"),\n\tALIAS(SCLK_SPI0, \"s3c6410-spi.0\", \"spi_busclk2\"),\n\tALIAS(SCLK_AUDIO1, \"samsung-pcm.1\", \"audio-bus\"),\n\tALIAS(SCLK_AUDIO1, \"samsung-i2s.1\", \"audio-bus\"),\n\tALIAS(SCLK_AUDIO0, \"samsung-pcm.0\", \"audio-bus\"),\n\tALIAS(SCLK_AUDIO0, \"samsung-i2s.0\", \"audio-bus\"),\n\tALIAS(SCLK_UART, NULL, \"clk_uart_baud3\"),\n\tALIAS(SCLK_CAM, \"s3c-camif\", \"camera\"),\n};\n\n \nstatic struct samsung_clock_alias s3c6400_clock_aliases[] = {\n\t \n};\n\n \nstatic struct samsung_clock_alias s3c6410_clock_aliases[] = {\n\tALIAS(PCLK_IIC1, \"s3c2440-i2c.1\", \"i2c\"),\n\tALIAS(PCLK_IIS2, \"samsung-i2s.2\", \"iis\"),\n\tALIAS(SCLK_FIMC, \"s3c-camif\", \"fimc\"),\n\tALIAS(SCLK_AUDIO2, \"samsung-i2s.2\", \"audio-bus\"),\n\tALIAS(MEM0_SROM, NULL, \"srom\"),\n};\n\nstatic void __init s3c64xx_clk_register_fixed_ext(\n\t\t\t\tstruct samsung_clk_provider *ctx,\n\t\t\t\tunsigned long fin_pll_f,\n\t\t\t\tunsigned long xusbxti_f)\n{\n\ts3c64xx_fixed_rate_ext_clks[0].fixed_rate = fin_pll_f;\n\ts3c64xx_fixed_rate_ext_clks[1].fixed_rate = xusbxti_f;\n\tsamsung_clk_register_fixed_rate(ctx, s3c64xx_fixed_rate_ext_clks,\n\t\t\t\tARRAY_SIZE(s3c64xx_fixed_rate_ext_clks));\n}\n\n \nvoid __init s3c64xx_clk_init(struct device_node *np, unsigned long xtal_f,\n\t\t\t     unsigned long xusbxti_f, bool s3c6400,\n\t\t\t     void __iomem *base)\n{\n\tstruct samsung_clk_provider *ctx;\n\tstruct clk_hw **hws;\n\n\treg_base = base;\n\tis_s3c6400 = s3c6400;\n\n\tif (np) {\n\t\treg_base = of_iomap(np, 0);\n\t\tif (!reg_base)\n\t\t\tpanic(\"%s: failed to map registers\\n\", __func__);\n\t}\n\n\tctx = samsung_clk_init(NULL, reg_base, NR_CLKS);\n\thws = ctx->clk_data.hws;\n\n\t \n\tif (!np)\n\t\ts3c64xx_clk_register_fixed_ext(ctx, xtal_f, xusbxti_f);\n\n\t \n\tsamsung_clk_register_pll(ctx, s3c64xx_pll_clks,\n\t\t\t\tARRAY_SIZE(s3c64xx_pll_clks));\n\n\t \n\tsamsung_clk_register_fixed_rate(ctx, s3c64xx_fixed_rate_clks,\n\t\t\t\t\tARRAY_SIZE(s3c64xx_fixed_rate_clks));\n\tsamsung_clk_register_mux(ctx, s3c64xx_mux_clks,\n\t\t\t\t\tARRAY_SIZE(s3c64xx_mux_clks));\n\tsamsung_clk_register_div(ctx, s3c64xx_div_clks,\n\t\t\t\t\tARRAY_SIZE(s3c64xx_div_clks));\n\tsamsung_clk_register_gate(ctx, s3c64xx_gate_clks,\n\t\t\t\t\tARRAY_SIZE(s3c64xx_gate_clks));\n\n\t \n\tif (is_s3c6400) {\n\t\tsamsung_clk_register_mux(ctx, s3c6400_mux_clks,\n\t\t\t\t\tARRAY_SIZE(s3c6400_mux_clks));\n\t\tsamsung_clk_register_div(ctx, s3c6400_div_clks,\n\t\t\t\t\tARRAY_SIZE(s3c6400_div_clks));\n\t\tsamsung_clk_register_gate(ctx, s3c6400_gate_clks,\n\t\t\t\t\tARRAY_SIZE(s3c6400_gate_clks));\n\t\tsamsung_clk_register_alias(ctx, s3c6400_clock_aliases,\n\t\t\t\t\tARRAY_SIZE(s3c6400_clock_aliases));\n\t} else {\n\t\tsamsung_clk_register_mux(ctx, s3c6410_mux_clks,\n\t\t\t\t\tARRAY_SIZE(s3c6410_mux_clks));\n\t\tsamsung_clk_register_div(ctx, s3c6410_div_clks,\n\t\t\t\t\tARRAY_SIZE(s3c6410_div_clks));\n\t\tsamsung_clk_register_gate(ctx, s3c6410_gate_clks,\n\t\t\t\t\tARRAY_SIZE(s3c6410_gate_clks));\n\t\tsamsung_clk_register_alias(ctx, s3c6410_clock_aliases,\n\t\t\t\t\tARRAY_SIZE(s3c6410_clock_aliases));\n\t}\n\n\tsamsung_clk_register_alias(ctx, s3c64xx_clock_aliases,\n\t\t\t\t\tARRAY_SIZE(s3c64xx_clock_aliases));\n\n\tsamsung_clk_sleep_init(reg_base, s3c64xx_clk_regs,\n\t\t\t       ARRAY_SIZE(s3c64xx_clk_regs));\n\tif (!is_s3c6400)\n\t\tsamsung_clk_sleep_init(reg_base, s3c6410_clk_regs,\n\t\t\t\t       ARRAY_SIZE(s3c6410_clk_regs));\n\n\tsamsung_clk_of_add_provider(np, ctx);\n\n\tpr_info(\"%s clocks: apll = %lu, mpll = %lu\\n\"\n\t\t\"\\tepll = %lu, arm_clk = %lu\\n\",\n\t\tis_s3c6400 ? \"S3C6400\" : \"S3C6410\",\n\t\tclk_hw_get_rate(hws[MOUT_APLL]),\n\t\tclk_hw_get_rate(hws[MOUT_MPLL]),\n\t\tclk_hw_get_rate(hws[MOUT_EPLL]),\n\t\tclk_hw_get_rate(hws[ARMCLK]));\n}\n\nstatic void __init s3c6400_clk_init(struct device_node *np)\n{\n\ts3c64xx_clk_init(np, 0, 0, true, NULL);\n}\nCLK_OF_DECLARE(s3c6400_clk, \"samsung,s3c6400-clock\", s3c6400_clk_init);\n\nstatic void __init s3c6410_clk_init(struct device_node *np)\n{\n\ts3c64xx_clk_init(np, 0, 0, false, NULL);\n}\nCLK_OF_DECLARE(s3c6410_clk, \"samsung,s3c6410-clock\", s3c6410_clk_init);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}