{
  "module_name": "clk.h",
  "hash_id": "5737525950a9898b0cd3b6d56005e49631c4bbed68abec623047ecec8e435eb5",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/samsung/clk.h",
  "human_readable_source": " \n \n\n#ifndef __SAMSUNG_CLK_H\n#define __SAMSUNG_CLK_H\n\n#include <linux/clk-provider.h>\n#include \"clk-pll.h\"\n\n \nstruct samsung_clk_provider {\n\tvoid __iomem *reg_base;\n\tstruct device *dev;\n\tspinlock_t lock;\n\t \n\tstruct clk_hw_onecell_data clk_data;\n};\n\n \nstruct samsung_clock_alias {\n\tunsigned int\t\tid;\n\tconst char\t\t*dev_name;\n\tconst char\t\t*alias;\n};\n\n#define ALIAS(_id, dname, a)\t\\\n\t{\t\t\t\t\t\t\t\\\n\t\t.id\t\t= _id,\t\t\t\t\\\n\t\t.dev_name\t= dname,\t\t\t\\\n\t\t.alias\t\t= a,\t\t\t\t\\\n\t}\n\n#define MHZ (1000 * 1000)\n\n \nstruct samsung_fixed_rate_clock {\n\tunsigned int\t\tid;\n\tchar\t\t\t*name;\n\tconst char\t\t*parent_name;\n\tunsigned long\t\tflags;\n\tunsigned long\t\tfixed_rate;\n};\n\n#define FRATE(_id, cname, pname, f, frate)\t\t\\\n\t{\t\t\t\t\t\t\\\n\t\t.id\t\t= _id,\t\t\t\\\n\t\t.name\t\t= cname,\t\t\\\n\t\t.parent_name\t= pname,\t\t\\\n\t\t.flags\t\t= f,\t\t\t\\\n\t\t.fixed_rate\t= frate,\t\t\\\n\t}\n\n \nstruct samsung_fixed_factor_clock {\n\tunsigned int\t\tid;\n\tchar\t\t\t*name;\n\tconst char\t\t*parent_name;\n\tunsigned long\t\tmult;\n\tunsigned long\t\tdiv;\n\tunsigned long\t\tflags;\n};\n\n#define FFACTOR(_id, cname, pname, m, d, f)\t\t\\\n\t{\t\t\t\t\t\t\\\n\t\t.id\t\t= _id,\t\t\t\\\n\t\t.name\t\t= cname,\t\t\\\n\t\t.parent_name\t= pname,\t\t\\\n\t\t.mult\t\t= m,\t\t\t\\\n\t\t.div\t\t= d,\t\t\t\\\n\t\t.flags\t\t= f,\t\t\t\\\n\t}\n\n \nstruct samsung_mux_clock {\n\tunsigned int\t\tid;\n\tconst char\t\t*name;\n\tconst char\t\t*const *parent_names;\n\tu8\t\t\tnum_parents;\n\tunsigned long\t\tflags;\n\tunsigned long\t\toffset;\n\tu8\t\t\tshift;\n\tu8\t\t\twidth;\n\tu8\t\t\tmux_flags;\n};\n\n#define __MUX(_id, cname, pnames, o, s, w, f, mf)\t\t\\\n\t{\t\t\t\t\t\t\t\\\n\t\t.id\t\t= _id,\t\t\t\t\\\n\t\t.name\t\t= cname,\t\t\t\\\n\t\t.parent_names\t= pnames,\t\t\t\\\n\t\t.num_parents\t= ARRAY_SIZE(pnames),\t\t\\\n\t\t.flags\t\t= (f) | CLK_SET_RATE_NO_REPARENT, \\\n\t\t.offset\t\t= o,\t\t\t\t\\\n\t\t.shift\t\t= s,\t\t\t\t\\\n\t\t.width\t\t= w,\t\t\t\t\\\n\t\t.mux_flags\t= mf,\t\t\t\t\\\n\t}\n\n#define MUX(_id, cname, pnames, o, s, w)\t\t\t\\\n\t__MUX(_id, cname, pnames, o, s, w, 0, 0)\n\n#define MUX_F(_id, cname, pnames, o, s, w, f, mf)\t\t\\\n\t__MUX(_id, cname, pnames, o, s, w, f, mf)\n\n \nstruct samsung_div_clock {\n\tunsigned int\t\tid;\n\tconst char\t\t*name;\n\tconst char\t\t*parent_name;\n\tunsigned long\t\tflags;\n\tunsigned long\t\toffset;\n\tu8\t\t\tshift;\n\tu8\t\t\twidth;\n\tu8\t\t\tdiv_flags;\n\tstruct clk_div_table\t*table;\n};\n\n#define __DIV(_id, cname, pname, o, s, w, f, df, t)\t\\\n\t{\t\t\t\t\t\t\t\\\n\t\t.id\t\t= _id,\t\t\t\t\\\n\t\t.name\t\t= cname,\t\t\t\\\n\t\t.parent_name\t= pname,\t\t\t\\\n\t\t.flags\t\t= f,\t\t\t\t\\\n\t\t.offset\t\t= o,\t\t\t\t\\\n\t\t.shift\t\t= s,\t\t\t\t\\\n\t\t.width\t\t= w,\t\t\t\t\\\n\t\t.div_flags\t= df,\t\t\t\t\\\n\t\t.table\t\t= t,\t\t\t\t\\\n\t}\n\n#define DIV(_id, cname, pname, o, s, w)\t\t\t\t\\\n\t__DIV(_id, cname, pname, o, s, w, 0, 0, NULL)\n\n#define DIV_F(_id, cname, pname, o, s, w, f, df)\t\t\\\n\t__DIV(_id, cname, pname, o, s, w, f, df, NULL)\n\n#define DIV_T(_id, cname, pname, o, s, w, t)\t\t\t\\\n\t__DIV(_id, cname, pname, o, s, w, 0, 0, t)\n\n \nstruct samsung_gate_clock {\n\tunsigned int\t\tid;\n\tconst char\t\t*name;\n\tconst char\t\t*parent_name;\n\tunsigned long\t\tflags;\n\tunsigned long\t\toffset;\n\tu8\t\t\tbit_idx;\n\tu8\t\t\tgate_flags;\n};\n\n#define __GATE(_id, cname, pname, o, b, f, gf)\t\t\t\\\n\t{\t\t\t\t\t\t\t\\\n\t\t.id\t\t= _id,\t\t\t\t\\\n\t\t.name\t\t= cname,\t\t\t\\\n\t\t.parent_name\t= pname,\t\t\t\\\n\t\t.flags\t\t= f,\t\t\t\t\\\n\t\t.offset\t\t= o,\t\t\t\t\\\n\t\t.bit_idx\t= b,\t\t\t\t\\\n\t\t.gate_flags\t= gf,\t\t\t\t\\\n\t}\n\n#define GATE(_id, cname, pname, o, b, f, gf)\t\t\t\\\n\t__GATE(_id, cname, pname, o, b, f, gf)\n\n#define PNAME(x) static const char * const x[] __initconst\n\n \nstruct samsung_clk_reg_dump {\n\tu32\toffset;\n\tu32\tvalue;\n};\n\n \nstruct samsung_pll_clock {\n\tunsigned int\t\tid;\n\tconst char\t\t*name;\n\tconst char\t\t*parent_name;\n\tunsigned long\t\tflags;\n\tint\t\t\tcon_offset;\n\tint\t\t\tlock_offset;\n\tenum samsung_pll_type\ttype;\n\tconst struct samsung_pll_rate_table *rate_table;\n};\n\n#define __PLL(_typ, _id, _name, _pname, _flags, _lock, _con, _rtable)\t\\\n\t{\t\t\t\t\t\t\t\t\\\n\t\t.id\t\t= _id,\t\t\t\t\t\\\n\t\t.type\t\t= _typ,\t\t\t\t\t\\\n\t\t.name\t\t= _name,\t\t\t\t\\\n\t\t.parent_name\t= _pname,\t\t\t\t\\\n\t\t.flags\t\t= _flags,\t\t\t\t\\\n\t\t.con_offset\t= _con,\t\t\t\t\t\\\n\t\t.lock_offset\t= _lock,\t\t\t\t\\\n\t\t.rate_table\t= _rtable,\t\t\t\t\\\n\t}\n\n#define PLL(_typ, _id, _name, _pname, _lock, _con, _rtable)\t\\\n\t__PLL(_typ, _id, _name, _pname, CLK_GET_RATE_NOCACHE, _lock,\t\\\n\t      _con, _rtable)\n\nstruct samsung_cpu_clock {\n\tunsigned int\tid;\n\tconst char\t*name;\n\tunsigned int\tparent_id;\n\tunsigned int\talt_parent_id;\n\tunsigned long\tflags;\n\tint\t\toffset;\n\tconst struct exynos_cpuclk_cfg_data *cfg;\n};\n\n#define CPU_CLK(_id, _name, _pid, _apid, _flags, _offset, _cfg) \\\n\t{\t\t\t\t\t\t\t\\\n\t\t.id\t\t  = _id,\t\t\t\\\n\t\t.name\t\t  = _name,\t\t\t\\\n\t\t.parent_id\t  = _pid,\t\t\t\\\n\t\t.alt_parent_id\t  = _apid,\t\t\t\\\n\t\t.flags\t\t  = _flags,\t\t\t\\\n\t\t.offset\t\t  = _offset,\t\t\t\\\n\t\t.cfg\t\t  = _cfg,\t\t\t\\\n\t}\n\nstruct samsung_clock_reg_cache {\n\tstruct list_head node;\n\tvoid __iomem *reg_base;\n\tstruct samsung_clk_reg_dump *rdump;\n\tunsigned int rd_num;\n\tconst struct samsung_clk_reg_dump *rsuspend;\n\tunsigned int rsuspend_num;\n};\n\nstruct samsung_cmu_info {\n\t \n\tconst struct samsung_pll_clock *pll_clks;\n\tunsigned int nr_pll_clks;\n\t \n\tconst struct samsung_mux_clock *mux_clks;\n\tunsigned int nr_mux_clks;\n\t \n\tconst struct samsung_div_clock *div_clks;\n\tunsigned int nr_div_clks;\n\t \n\tconst struct samsung_gate_clock *gate_clks;\n\tunsigned int nr_gate_clks;\n\t \n\tconst struct samsung_fixed_rate_clock *fixed_clks;\n\tunsigned int nr_fixed_clks;\n\t \n\tconst struct samsung_fixed_factor_clock *fixed_factor_clks;\n\tunsigned int nr_fixed_factor_clks;\n\t \n\tunsigned int nr_clk_ids;\n\t \n\tconst struct samsung_cpu_clock *cpu_clks;\n\tunsigned int nr_cpu_clks;\n\n\t \n\tconst unsigned long *clk_regs;\n\tunsigned int nr_clk_regs;\n\n\t \n\tconst struct samsung_clk_reg_dump *suspend_regs;\n\tunsigned int nr_suspend_regs;\n\t \n\tconst char *clk_name;\n};\n\nstruct samsung_clk_provider *samsung_clk_init(struct device *dev,\n\t\t\tvoid __iomem *base, unsigned long nr_clks);\nvoid samsung_clk_of_add_provider(struct device_node *np,\n\t\t\tstruct samsung_clk_provider *ctx);\nvoid samsung_clk_of_register_fixed_ext(\n\t\t\tstruct samsung_clk_provider *ctx,\n\t\t\tstruct samsung_fixed_rate_clock *fixed_rate_clk,\n\t\t\tunsigned int nr_fixed_rate_clk,\n\t\t\tconst struct of_device_id *clk_matches);\n\nvoid samsung_clk_add_lookup(struct samsung_clk_provider *ctx,\n\t\t\tstruct clk_hw *clk_hw, unsigned int id);\n\nvoid samsung_clk_register_alias(struct samsung_clk_provider *ctx,\n\t\t\tconst struct samsung_clock_alias *list,\n\t\t\tunsigned int nr_clk);\nvoid samsung_clk_register_fixed_rate(\n\t\t\tstruct samsung_clk_provider *ctx,\n\t\t\tconst struct samsung_fixed_rate_clock *clk_list,\n\t\t\tunsigned int nr_clk);\nvoid samsung_clk_register_fixed_factor(\n\t\t\tstruct samsung_clk_provider *ctx,\n\t\t\tconst struct samsung_fixed_factor_clock *list,\n\t\t\tunsigned int nr_clk);\nvoid samsung_clk_register_mux(struct samsung_clk_provider *ctx,\n\t\t\tconst struct samsung_mux_clock *clk_list,\n\t\t\tunsigned int nr_clk);\nvoid samsung_clk_register_div(struct samsung_clk_provider *ctx,\n\t\t\tconst struct samsung_div_clock *clk_list,\n\t\t\tunsigned int nr_clk);\nvoid samsung_clk_register_gate(struct samsung_clk_provider *ctx,\n\t\t\tconst struct samsung_gate_clock *clk_list,\n\t\t\tunsigned int nr_clk);\nvoid samsung_clk_register_pll(struct samsung_clk_provider *ctx,\n\t\t\tconst struct samsung_pll_clock *pll_list,\n\t\t\tunsigned int nr_clk);\nvoid samsung_clk_register_cpu(struct samsung_clk_provider *ctx,\n\t\tconst struct samsung_cpu_clock *list, unsigned int nr_clk);\n\nvoid samsung_cmu_register_clocks(struct samsung_clk_provider *ctx,\n\t\t\t\t const struct samsung_cmu_info *cmu);\nstruct samsung_clk_provider *samsung_cmu_register_one(\n\t\t\tstruct device_node *,\n\t\t\tconst struct samsung_cmu_info *);\n\n#ifdef CONFIG_PM_SLEEP\nvoid samsung_clk_extended_sleep_init(void __iomem *reg_base,\n\t\t\tconst unsigned long *rdump,\n\t\t\tunsigned long nr_rdump,\n\t\t\tconst struct samsung_clk_reg_dump *rsuspend,\n\t\t\tunsigned long nr_rsuspend);\n#else\nstatic inline void samsung_clk_extended_sleep_init(void __iomem *reg_base,\n\t\t\tconst unsigned long *rdump,\n\t\t\tunsigned long nr_rdump,\n\t\t\tconst struct samsung_clk_reg_dump *rsuspend,\n\t\t\tunsigned long nr_rsuspend) {}\n#endif\n#define samsung_clk_sleep_init(reg_base, rdump, nr_rdump) \\\n\tsamsung_clk_extended_sleep_init(reg_base, rdump, nr_rdump, NULL, 0)\n\nvoid samsung_clk_save(void __iomem *base,\n\t\t\tstruct samsung_clk_reg_dump *rd,\n\t\t\tunsigned int num_regs);\nvoid samsung_clk_restore(void __iomem *base,\n\t\t\tconst struct samsung_clk_reg_dump *rd,\n\t\t\tunsigned int num_regs);\nstruct samsung_clk_reg_dump *samsung_clk_alloc_reg_dump(\n\t\t\tconst unsigned long *rdump,\n\t\t\tunsigned long nr_rdump);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}