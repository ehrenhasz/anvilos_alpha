{
  "module_name": "clk-rk3288.c",
  "hash_id": "0375c06a1faaa64e4fff97cf485ae5c3cee920c1fd0dfd7c3e7b1f029a7eb240",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/rockchip/clk-rk3288.c",
  "human_readable_source": "\n \n\n#include <linux/clk-provider.h>\n#include <linux/io.h>\n#include <linux/of.h>\n#include <linux/of_address.h>\n#include <linux/syscore_ops.h>\n#include <dt-bindings/clock/rk3288-cru.h>\n#include \"clk.h\"\n\n#define RK3288_GRF_SOC_CON(x)\t(0x244 + x * 4)\n#define RK3288_GRF_SOC_STATUS1\t0x284\n\nenum rk3288_variant {\n\tRK3288_CRU,\n\tRK3288W_CRU,\n};\n\nenum rk3288_plls {\n\tapll, dpll, cpll, gpll, npll,\n};\n\nstatic struct rockchip_pll_rate_table rk3288_pll_rates[] = {\n\tRK3066_PLL_RATE(2208000000, 1, 92, 1),\n\tRK3066_PLL_RATE(2184000000, 1, 91, 1),\n\tRK3066_PLL_RATE(2160000000, 1, 90, 1),\n\tRK3066_PLL_RATE(2136000000, 1, 89, 1),\n\tRK3066_PLL_RATE(2112000000, 1, 88, 1),\n\tRK3066_PLL_RATE(2088000000, 1, 87, 1),\n\tRK3066_PLL_RATE(2064000000, 1, 86, 1),\n\tRK3066_PLL_RATE(2040000000, 1, 85, 1),\n\tRK3066_PLL_RATE(2016000000, 1, 84, 1),\n\tRK3066_PLL_RATE(1992000000, 1, 83, 1),\n\tRK3066_PLL_RATE(1968000000, 1, 82, 1),\n\tRK3066_PLL_RATE(1944000000, 1, 81, 1),\n\tRK3066_PLL_RATE(1920000000, 1, 80, 1),\n\tRK3066_PLL_RATE(1896000000, 1, 79, 1),\n\tRK3066_PLL_RATE(1872000000, 1, 78, 1),\n\tRK3066_PLL_RATE(1848000000, 1, 77, 1),\n\tRK3066_PLL_RATE(1824000000, 1, 76, 1),\n\tRK3066_PLL_RATE(1800000000, 1, 75, 1),\n\tRK3066_PLL_RATE(1776000000, 1, 74, 1),\n\tRK3066_PLL_RATE(1752000000, 1, 73, 1),\n\tRK3066_PLL_RATE(1728000000, 1, 72, 1),\n\tRK3066_PLL_RATE(1704000000, 1, 71, 1),\n\tRK3066_PLL_RATE(1680000000, 1, 70, 1),\n\tRK3066_PLL_RATE(1656000000, 1, 69, 1),\n\tRK3066_PLL_RATE(1632000000, 1, 68, 1),\n\tRK3066_PLL_RATE(1608000000, 1, 67, 1),\n\tRK3066_PLL_RATE(1560000000, 1, 65, 1),\n\tRK3066_PLL_RATE(1512000000, 1, 63, 1),\n\tRK3066_PLL_RATE(1488000000, 1, 62, 1),\n\tRK3066_PLL_RATE(1464000000, 1, 61, 1),\n\tRK3066_PLL_RATE(1440000000, 1, 60, 1),\n\tRK3066_PLL_RATE(1416000000, 1, 59, 1),\n\tRK3066_PLL_RATE(1392000000, 1, 58, 1),\n\tRK3066_PLL_RATE(1368000000, 1, 57, 1),\n\tRK3066_PLL_RATE(1344000000, 1, 56, 1),\n\tRK3066_PLL_RATE(1320000000, 1, 55, 1),\n\tRK3066_PLL_RATE(1296000000, 1, 54, 1),\n\tRK3066_PLL_RATE(1272000000, 1, 53, 1),\n\tRK3066_PLL_RATE(1248000000, 1, 52, 1),\n\tRK3066_PLL_RATE(1224000000, 1, 51, 1),\n\tRK3066_PLL_RATE(1200000000, 1, 50, 1),\n\tRK3066_PLL_RATE(1188000000, 2, 99, 1),\n\tRK3066_PLL_RATE(1176000000, 1, 49, 1),\n\tRK3066_PLL_RATE(1128000000, 1, 47, 1),\n\tRK3066_PLL_RATE(1104000000, 1, 46, 1),\n\tRK3066_PLL_RATE(1008000000, 1, 84, 2),\n\tRK3066_PLL_RATE( 912000000, 1, 76, 2),\n\tRK3066_PLL_RATE( 891000000, 8, 594, 2),\n\tRK3066_PLL_RATE( 888000000, 1, 74, 2),\n\tRK3066_PLL_RATE( 816000000, 1, 68, 2),\n\tRK3066_PLL_RATE( 798000000, 2, 133, 2),\n\tRK3066_PLL_RATE( 792000000, 1, 66, 2),\n\tRK3066_PLL_RATE( 768000000, 1, 64, 2),\n\tRK3066_PLL_RATE( 742500000, 8, 495, 2),\n\tRK3066_PLL_RATE( 696000000, 1, 58, 2),\n\tRK3066_PLL_RATE_NB(621000000, 1, 207, 8, 1),\n\tRK3066_PLL_RATE( 600000000, 1, 50, 2),\n\tRK3066_PLL_RATE_NB(594000000, 1, 198, 8, 1),\n\tRK3066_PLL_RATE( 552000000, 1, 46, 2),\n\tRK3066_PLL_RATE( 504000000, 1, 84, 4),\n\tRK3066_PLL_RATE( 500000000, 3, 125, 2),\n\tRK3066_PLL_RATE( 456000000, 1, 76, 4),\n\tRK3066_PLL_RATE( 428000000, 1, 107, 6),\n\tRK3066_PLL_RATE( 408000000, 1, 68, 4),\n\tRK3066_PLL_RATE( 400000000, 3, 100, 2),\n\tRK3066_PLL_RATE_NB( 394000000, 1, 197, 12, 1),\n\tRK3066_PLL_RATE( 384000000, 2, 128, 4),\n\tRK3066_PLL_RATE( 360000000, 1, 60, 4),\n\tRK3066_PLL_RATE_NB( 356000000, 1, 178, 12, 1),\n\tRK3066_PLL_RATE_NB( 324000000, 1, 189, 14, 1),\n\tRK3066_PLL_RATE( 312000000, 1, 52, 4),\n\tRK3066_PLL_RATE_NB( 308000000, 1, 154, 12, 1),\n\tRK3066_PLL_RATE_NB( 303000000, 1, 202, 16, 1),\n\tRK3066_PLL_RATE( 300000000, 1, 75, 6),\n\tRK3066_PLL_RATE_NB( 297750000, 2, 397, 16, 1),\n\tRK3066_PLL_RATE_NB( 293250000, 2, 391, 16, 1),\n\tRK3066_PLL_RATE_NB( 292500000, 1, 195, 16, 1),\n\tRK3066_PLL_RATE( 273600000, 1, 114, 10),\n\tRK3066_PLL_RATE_NB( 273000000, 1, 182, 16, 1),\n\tRK3066_PLL_RATE_NB( 270000000, 1, 180, 16, 1),\n\tRK3066_PLL_RATE_NB( 266250000, 2, 355, 16, 1),\n\tRK3066_PLL_RATE_NB( 256500000, 1, 171, 16, 1),\n\tRK3066_PLL_RATE( 252000000, 1, 84, 8),\n\tRK3066_PLL_RATE_NB( 250500000, 1, 167, 16, 1),\n\tRK3066_PLL_RATE_NB( 243428571, 1, 142, 14, 1),\n\tRK3066_PLL_RATE( 238000000, 1, 119, 12),\n\tRK3066_PLL_RATE_NB( 219750000, 2, 293, 16, 1),\n\tRK3066_PLL_RATE_NB( 216000000, 1, 144, 16, 1),\n\tRK3066_PLL_RATE_NB( 213000000, 1, 142, 16, 1),\n\tRK3066_PLL_RATE( 195428571, 1, 114, 14),\n\tRK3066_PLL_RATE( 160000000, 1, 80, 12),\n\tRK3066_PLL_RATE( 157500000, 1, 105, 16),\n\tRK3066_PLL_RATE( 126000000, 1, 84, 16),\n\t{   },\n};\n\n#define RK3288_DIV_ACLK_CORE_M0_MASK\t0xf\n#define RK3288_DIV_ACLK_CORE_M0_SHIFT\t0\n#define RK3288_DIV_ACLK_CORE_MP_MASK\t0xf\n#define RK3288_DIV_ACLK_CORE_MP_SHIFT\t4\n#define RK3288_DIV_L2RAM_MASK\t\t0x7\n#define RK3288_DIV_L2RAM_SHIFT\t\t0\n#define RK3288_DIV_ATCLK_MASK\t\t0x1f\n#define RK3288_DIV_ATCLK_SHIFT\t\t4\n#define RK3288_DIV_PCLK_DBGPRE_MASK\t0x1f\n#define RK3288_DIV_PCLK_DBGPRE_SHIFT\t9\n\n#define RK3288_CLKSEL0(_core_m0, _core_mp)\t\t\t\t\\\n\t{\t\t\t\t\t\t\t\t\\\n\t\t.reg = RK3288_CLKSEL_CON(0),\t\t\t\t\\\n\t\t.val = HIWORD_UPDATE(_core_m0, RK3288_DIV_ACLK_CORE_M0_MASK, \\\n\t\t\t\tRK3288_DIV_ACLK_CORE_M0_SHIFT) |\t\\\n\t\t       HIWORD_UPDATE(_core_mp, RK3288_DIV_ACLK_CORE_MP_MASK, \\\n\t\t\t\tRK3288_DIV_ACLK_CORE_MP_SHIFT),\t\t\\\n\t}\n#define RK3288_CLKSEL37(_l2ram, _atclk, _pclk_dbg_pre)\t\t\t\\\n\t{\t\t\t\t\t\t\t\t\\\n\t\t.reg = RK3288_CLKSEL_CON(37),\t\t\t\t\\\n\t\t.val = HIWORD_UPDATE(_l2ram, RK3288_DIV_L2RAM_MASK,\t\\\n\t\t\t\tRK3288_DIV_L2RAM_SHIFT) |\t\t\\\n\t\t       HIWORD_UPDATE(_atclk, RK3288_DIV_ATCLK_MASK,\t\\\n\t\t\t\tRK3288_DIV_ATCLK_SHIFT) |\t\t\\\n\t\t       HIWORD_UPDATE(_pclk_dbg_pre,\t\t\t\\\n\t\t\t\tRK3288_DIV_PCLK_DBGPRE_MASK,\t\t\\\n\t\t\t\tRK3288_DIV_PCLK_DBGPRE_SHIFT),\t\t\\\n\t}\n\n#define RK3288_CPUCLK_RATE(_prate, _core_m0, _core_mp, _l2ram, _atclk, _pdbg) \\\n\t{\t\t\t\t\t\t\t\t\\\n\t\t.prate = _prate,\t\t\t\t\t\\\n\t\t.divs = {\t\t\t\t\t\t\\\n\t\t\tRK3288_CLKSEL0(_core_m0, _core_mp),\t\t\\\n\t\t\tRK3288_CLKSEL37(_l2ram, _atclk, _pdbg),\t\t\\\n\t\t},\t\t\t\t\t\t\t\\\n\t}\n\nstatic struct rockchip_cpuclk_rate_table rk3288_cpuclk_rates[] __initdata = {\n\tRK3288_CPUCLK_RATE(1800000000, 1, 3, 1, 3, 3),\n\tRK3288_CPUCLK_RATE(1704000000, 1, 3, 1, 3, 3),\n\tRK3288_CPUCLK_RATE(1608000000, 1, 3, 1, 3, 3),\n\tRK3288_CPUCLK_RATE(1512000000, 1, 3, 1, 3, 3),\n\tRK3288_CPUCLK_RATE(1416000000, 1, 3, 1, 3, 3),\n\tRK3288_CPUCLK_RATE(1200000000, 1, 3, 1, 3, 3),\n\tRK3288_CPUCLK_RATE(1008000000, 1, 3, 1, 3, 3),\n\tRK3288_CPUCLK_RATE( 816000000, 1, 3, 1, 3, 3),\n\tRK3288_CPUCLK_RATE( 696000000, 1, 3, 1, 3, 3),\n\tRK3288_CPUCLK_RATE( 600000000, 1, 3, 1, 3, 3),\n\tRK3288_CPUCLK_RATE( 408000000, 1, 3, 1, 3, 3),\n\tRK3288_CPUCLK_RATE( 312000000, 1, 3, 1, 3, 3),\n\tRK3288_CPUCLK_RATE( 216000000, 1, 3, 1, 3, 3),\n\tRK3288_CPUCLK_RATE( 126000000, 1, 3, 1, 3, 3),\n};\n\nstatic const struct rockchip_cpuclk_reg_data rk3288_cpuclk_data = {\n\t.core_reg[0] = RK3288_CLKSEL_CON(0),\n\t.div_core_shift[0] = 8,\n\t.div_core_mask[0] = 0x1f,\n\t.num_cores = 1,\n\t.mux_core_alt = 1,\n\t.mux_core_main = 0,\n\t.mux_core_shift = 15,\n\t.mux_core_mask = 0x1,\n};\n\nPNAME(mux_pll_p)\t\t= { \"xin24m\", \"xin32k\" };\nPNAME(mux_armclk_p)\t\t= { \"apll_core\", \"gpll_core\" };\nPNAME(mux_ddrphy_p)\t\t= { \"dpll_ddr\", \"gpll_ddr\" };\nPNAME(mux_aclk_cpu_src_p)\t= { \"cpll_aclk_cpu\", \"gpll_aclk_cpu\" };\n\nPNAME(mux_pll_src_cpll_gpll_p)\t\t= { \"cpll\", \"gpll\" };\nPNAME(mux_pll_src_npll_cpll_gpll_p)\t= { \"npll\", \"cpll\", \"gpll\" };\nPNAME(mux_pll_src_cpll_gpll_npll_p)\t= { \"cpll\", \"gpll\", \"npll\" };\nPNAME(mux_pll_src_cpll_gpll_usb480m_p)\t= { \"cpll\", \"gpll\", \"unstable:usbphy480m_src\" };\nPNAME(mux_pll_src_cpll_gll_usb_npll_p)\t= { \"cpll\", \"gpll\", \"unstable:usbphy480m_src\", \"npll\" };\n\nPNAME(mux_mmc_src_p)\t= { \"cpll\", \"gpll\", \"xin24m\", \"xin24m\" };\nPNAME(mux_i2s_pre_p)\t= { \"i2s_src\", \"i2s_frac\", \"ext_i2s\", \"xin12m\" };\nPNAME(mux_i2s_clkout_p)\t= { \"i2s_pre\", \"xin12m\" };\nPNAME(mux_spdif_p)\t= { \"spdif_pre\", \"spdif_frac\", \"xin12m\" };\nPNAME(mux_spdif_8ch_p)\t= { \"spdif_8ch_pre\", \"spdif_8ch_frac\", \"xin12m\" };\nPNAME(mux_uart0_p)\t= { \"uart0_src\", \"uart0_frac\", \"xin24m\" };\nPNAME(mux_uart1_p)\t= { \"uart1_src\", \"uart1_frac\", \"xin24m\" };\nPNAME(mux_uart2_p)\t= { \"uart2_src\", \"uart2_frac\", \"xin24m\" };\nPNAME(mux_uart3_p)\t= { \"uart3_src\", \"uart3_frac\", \"xin24m\" };\nPNAME(mux_uart4_p)\t= { \"uart4_src\", \"uart4_frac\", \"xin24m\" };\nPNAME(mux_vip_out_p)\t= { \"vip_src\", \"xin24m\" };\nPNAME(mux_mac_p)\t= { \"mac_pll_src\", \"ext_gmac\" };\nPNAME(mux_hsadcout_p)\t= { \"hsadc_src\", \"ext_hsadc\" };\nPNAME(mux_edp_24m_p)\t= { \"ext_edp_24m\", \"xin24m\" };\nPNAME(mux_tspout_p)\t= { \"cpll\", \"gpll\", \"npll\", \"xin27m\" };\n\nPNAME(mux_aclk_vcodec_pre_p)\t= { \"aclk_vdpu\", \"aclk_vepu\" };\nPNAME(mux_usbphy480m_p)\t\t= { \"sclk_otgphy1_480m\", \"sclk_otgphy2_480m\",\n\t\t\t\t    \"sclk_otgphy0_480m\" };\nPNAME(mux_hsicphy480m_p)\t= { \"cpll\", \"gpll\", \"usbphy480m_src\" };\nPNAME(mux_hsicphy12m_p)\t\t= { \"hsicphy12m_xin12m\", \"hsicphy12m_usbphy\" };\n\nstatic struct rockchip_pll_clock rk3288_pll_clks[] __initdata = {\n\t[apll] = PLL(pll_rk3066, PLL_APLL, \"apll\", mux_pll_p, 0, RK3288_PLL_CON(0),\n\t\t     RK3288_MODE_CON, 0, 6, 0, rk3288_pll_rates),\n\t[dpll] = PLL(pll_rk3066, PLL_DPLL, \"dpll\", mux_pll_p, 0, RK3288_PLL_CON(4),\n\t\t     RK3288_MODE_CON, 4, 5, 0, NULL),\n\t[cpll] = PLL(pll_rk3066, PLL_CPLL, \"cpll\", mux_pll_p, 0, RK3288_PLL_CON(8),\n\t\t     RK3288_MODE_CON, 8, 7, ROCKCHIP_PLL_SYNC_RATE, rk3288_pll_rates),\n\t[gpll] = PLL(pll_rk3066, PLL_GPLL, \"gpll\", mux_pll_p, 0, RK3288_PLL_CON(12),\n\t\t     RK3288_MODE_CON, 12, 8, ROCKCHIP_PLL_SYNC_RATE, rk3288_pll_rates),\n\t[npll] = PLL(pll_rk3066, PLL_NPLL, \"npll\",  mux_pll_p, 0, RK3288_PLL_CON(16),\n\t\t     RK3288_MODE_CON, 14, 9, ROCKCHIP_PLL_SYNC_RATE, rk3288_pll_rates),\n};\n\nstatic struct clk_div_table div_hclk_cpu_t[] = {\n\t{ .val = 0, .div = 1 },\n\t{ .val = 1, .div = 2 },\n\t{ .val = 3, .div = 4 },\n\t{  },\n};\n\n#define MFLAGS CLK_MUX_HIWORD_MASK\n#define DFLAGS CLK_DIVIDER_HIWORD_MASK\n#define GFLAGS (CLK_GATE_HIWORD_MASK | CLK_GATE_SET_TO_DISABLE)\n#define IFLAGS ROCKCHIP_INVERTER_HIWORD_MASK\n\nstatic struct rockchip_clk_branch rk3288_i2s_fracmux __initdata =\n\tMUX(0, \"i2s_pre\", mux_i2s_pre_p, CLK_SET_RATE_PARENT,\n\t\t\tRK3288_CLKSEL_CON(4), 8, 2, MFLAGS);\n\nstatic struct rockchip_clk_branch rk3288_spdif_fracmux __initdata =\n\tMUX(0, \"spdif_mux\", mux_spdif_p, CLK_SET_RATE_PARENT,\n\t\t\tRK3288_CLKSEL_CON(5), 8, 2, MFLAGS);\n\nstatic struct rockchip_clk_branch rk3288_spdif_8ch_fracmux __initdata =\n\tMUX(0, \"spdif_8ch_mux\", mux_spdif_8ch_p, CLK_SET_RATE_PARENT,\n\t\t\tRK3288_CLKSEL_CON(40), 8, 2, MFLAGS);\n\nstatic struct rockchip_clk_branch rk3288_uart0_fracmux __initdata =\n\tMUX(SCLK_UART0, \"sclk_uart0\", mux_uart0_p, CLK_SET_RATE_PARENT,\n\t\t\tRK3288_CLKSEL_CON(13), 8, 2, MFLAGS);\n\nstatic struct rockchip_clk_branch rk3288_uart1_fracmux __initdata =\n\tMUX(SCLK_UART1, \"sclk_uart1\", mux_uart1_p, CLK_SET_RATE_PARENT,\n\t\t\tRK3288_CLKSEL_CON(14), 8, 2, MFLAGS);\n\nstatic struct rockchip_clk_branch rk3288_uart2_fracmux __initdata =\n\tMUX(SCLK_UART2, \"sclk_uart2\", mux_uart2_p, CLK_SET_RATE_PARENT,\n\t\t\tRK3288_CLKSEL_CON(15), 8, 2, MFLAGS);\n\nstatic struct rockchip_clk_branch rk3288_uart3_fracmux __initdata =\n\tMUX(SCLK_UART3, \"sclk_uart3\", mux_uart3_p, CLK_SET_RATE_PARENT,\n\t\t\tRK3288_CLKSEL_CON(16), 8, 2, MFLAGS);\n\nstatic struct rockchip_clk_branch rk3288_uart4_fracmux __initdata =\n\tMUX(SCLK_UART4, \"sclk_uart4\", mux_uart4_p, CLK_SET_RATE_PARENT,\n\t\t\tRK3288_CLKSEL_CON(3), 8, 2, MFLAGS);\n\nstatic struct rockchip_clk_branch rk3288_clk_branches[] __initdata = {\n\t \n\n\tGATE(0, \"apll_core\", \"apll\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKGATE_CON(0), 1, GFLAGS),\n\tGATE(0, \"gpll_core\", \"gpll\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKGATE_CON(0), 2, GFLAGS),\n\n\tCOMPOSITE_NOMUX(0, \"armcore0\", \"armclk\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKSEL_CON(36), 0, 3, DFLAGS | CLK_DIVIDER_READ_ONLY,\n\t\t\tRK3288_CLKGATE_CON(12), 0, GFLAGS),\n\tCOMPOSITE_NOMUX(0, \"armcore1\", \"armclk\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKSEL_CON(36), 4, 3, DFLAGS | CLK_DIVIDER_READ_ONLY,\n\t\t\tRK3288_CLKGATE_CON(12), 1, GFLAGS),\n\tCOMPOSITE_NOMUX(0, \"armcore2\", \"armclk\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKSEL_CON(36), 8, 3, DFLAGS | CLK_DIVIDER_READ_ONLY,\n\t\t\tRK3288_CLKGATE_CON(12), 2, GFLAGS),\n\tCOMPOSITE_NOMUX(0, \"armcore3\", \"armclk\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKSEL_CON(36), 12, 3, DFLAGS | CLK_DIVIDER_READ_ONLY,\n\t\t\tRK3288_CLKGATE_CON(12), 3, GFLAGS),\n\tCOMPOSITE_NOMUX(0, \"l2ram\", \"armclk\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKSEL_CON(37), 0, 3, DFLAGS | CLK_DIVIDER_READ_ONLY,\n\t\t\tRK3288_CLKGATE_CON(12), 4, GFLAGS),\n\tCOMPOSITE_NOMUX(0, \"aclk_core_m0\", \"armclk\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKSEL_CON(0), 0, 4, DFLAGS | CLK_DIVIDER_READ_ONLY,\n\t\t\tRK3288_CLKGATE_CON(12), 5, GFLAGS),\n\tCOMPOSITE_NOMUX(0, \"aclk_core_mp\", \"armclk\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKSEL_CON(0), 4, 4, DFLAGS | CLK_DIVIDER_READ_ONLY,\n\t\t\tRK3288_CLKGATE_CON(12), 6, GFLAGS),\n\tCOMPOSITE_NOMUX(0, \"atclk\", \"armclk\", 0,\n\t\t\tRK3288_CLKSEL_CON(37), 4, 5, DFLAGS | CLK_DIVIDER_READ_ONLY,\n\t\t\tRK3288_CLKGATE_CON(12), 7, GFLAGS),\n\tCOMPOSITE_NOMUX(0, \"pclk_dbg_pre\", \"armclk\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKSEL_CON(37), 9, 5, DFLAGS | CLK_DIVIDER_READ_ONLY,\n\t\t\tRK3288_CLKGATE_CON(12), 8, GFLAGS),\n\tGATE(0, \"pclk_dbg\", \"pclk_dbg_pre\", 0,\n\t\t\tRK3288_CLKGATE_CON(12), 9, GFLAGS),\n\tGATE(0, \"cs_dbg\", \"pclk_dbg_pre\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKGATE_CON(12), 10, GFLAGS),\n\tGATE(0, \"pclk_core_niu\", \"pclk_dbg_pre\", 0,\n\t\t\tRK3288_CLKGATE_CON(12), 11, GFLAGS),\n\n\tGATE(0, \"dpll_ddr\", \"dpll\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKGATE_CON(0), 8, GFLAGS),\n\tGATE(0, \"gpll_ddr\", \"gpll\", 0,\n\t\t\tRK3288_CLKGATE_CON(0), 9, GFLAGS),\n\tCOMPOSITE_NOGATE(0, \"ddrphy\", mux_ddrphy_p, CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKSEL_CON(26), 2, 1, MFLAGS, 0, 2,\n\t\t\t\t\tDFLAGS | CLK_DIVIDER_POWER_OF_TWO),\n\n\tGATE(0, \"gpll_aclk_cpu\", \"gpll\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKGATE_CON(0), 10, GFLAGS),\n\tGATE(0, \"cpll_aclk_cpu\", \"cpll\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKGATE_CON(0), 11, GFLAGS),\n\tCOMPOSITE_NOGATE(0, \"aclk_cpu_src\", mux_aclk_cpu_src_p, CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKSEL_CON(1), 15, 1, MFLAGS, 3, 5, DFLAGS),\n\tDIV(0, \"aclk_cpu_pre\", \"aclk_cpu_src\", CLK_SET_RATE_PARENT,\n\t\t\tRK3288_CLKSEL_CON(1), 0, 3, DFLAGS),\n\tGATE(ACLK_CPU, \"aclk_cpu\", \"aclk_cpu_pre\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKGATE_CON(0), 3, GFLAGS),\n\tCOMPOSITE_NOMUX(PCLK_CPU, \"pclk_cpu\", \"aclk_cpu_pre\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKSEL_CON(1), 12, 3, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(0), 5, GFLAGS),\n\tCOMPOSITE_NOMUX_DIVTBL(HCLK_CPU, \"hclk_cpu\", \"aclk_cpu_pre\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKSEL_CON(1), 8, 2, DFLAGS, div_hclk_cpu_t,\n\t\t\tRK3288_CLKGATE_CON(0), 4, GFLAGS),\n\tGATE(0, \"c2c_host\", \"aclk_cpu_src\", 0,\n\t\t\tRK3288_CLKGATE_CON(13), 8, GFLAGS),\n\tCOMPOSITE_NOMUX(SCLK_CRYPTO, \"crypto\", \"aclk_cpu_pre\", 0,\n\t\t\tRK3288_CLKSEL_CON(26), 6, 2, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(5), 4, GFLAGS),\n\tGATE(0, \"aclk_bus_2pmu\", \"aclk_cpu_pre\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKGATE_CON(0), 7, GFLAGS),\n\n\tFACTOR(0, \"xin12m\", \"xin24m\", 0, 1, 2),\n\n\tCOMPOSITE(0, \"i2s_src\", mux_pll_src_cpll_gpll_p, 0,\n\t\t\tRK3288_CLKSEL_CON(4), 15, 1, MFLAGS, 0, 7, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(4), 1, GFLAGS),\n\tCOMPOSITE_FRACMUX(0, \"i2s_frac\", \"i2s_src\", CLK_SET_RATE_PARENT,\n\t\t\tRK3288_CLKSEL_CON(8), 0,\n\t\t\tRK3288_CLKGATE_CON(4), 2, GFLAGS,\n\t\t\t&rk3288_i2s_fracmux),\n\tCOMPOSITE_NODIV(SCLK_I2S0_OUT, \"i2s0_clkout\", mux_i2s_clkout_p, 0,\n\t\t\tRK3288_CLKSEL_CON(4), 12, 1, MFLAGS,\n\t\t\tRK3288_CLKGATE_CON(4), 0, GFLAGS),\n\tGATE(SCLK_I2S0, \"sclk_i2s0\", \"i2s_pre\", CLK_SET_RATE_PARENT,\n\t\t\tRK3288_CLKGATE_CON(4), 3, GFLAGS),\n\n\tMUX(0, \"spdif_src\", mux_pll_src_cpll_gpll_p, 0,\n\t\t\tRK3288_CLKSEL_CON(5), 15, 1, MFLAGS),\n\tCOMPOSITE_NOMUX(0, \"spdif_pre\", \"spdif_src\", CLK_SET_RATE_PARENT,\n\t\t\tRK3288_CLKSEL_CON(5), 0, 7, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(4), 4, GFLAGS),\n\tCOMPOSITE_FRACMUX(0, \"spdif_frac\", \"spdif_src\", CLK_SET_RATE_PARENT,\n\t\t\tRK3288_CLKSEL_CON(9), 0,\n\t\t\tRK3288_CLKGATE_CON(4), 5, GFLAGS,\n\t\t\t&rk3288_spdif_fracmux),\n\tGATE(SCLK_SPDIF, \"sclk_spdif\", \"spdif_mux\", CLK_SET_RATE_PARENT,\n\t\t\tRK3288_CLKGATE_CON(4), 6, GFLAGS),\n\tCOMPOSITE_NOMUX(0, \"spdif_8ch_pre\", \"spdif_src\", CLK_SET_RATE_PARENT,\n\t\t\tRK3288_CLKSEL_CON(40), 0, 7, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(4), 7, GFLAGS),\n\tCOMPOSITE_FRACMUX(0, \"spdif_8ch_frac\", \"spdif_8ch_pre\", CLK_SET_RATE_PARENT,\n\t\t\tRK3288_CLKSEL_CON(41), 0,\n\t\t\tRK3288_CLKGATE_CON(4), 8, GFLAGS,\n\t\t\t&rk3288_spdif_8ch_fracmux),\n\tGATE(SCLK_SPDIF8CH, \"sclk_spdif_8ch\", \"spdif_8ch_mux\", CLK_SET_RATE_PARENT,\n\t\t\tRK3288_CLKGATE_CON(4), 9, GFLAGS),\n\n\tGATE(0, \"sclk_acc_efuse\", \"xin24m\", 0,\n\t\t\tRK3288_CLKGATE_CON(0), 12, GFLAGS),\n\n\tGATE(SCLK_TIMER0, \"sclk_timer0\", \"xin24m\", 0,\n\t\t\tRK3288_CLKGATE_CON(1), 0, GFLAGS),\n\tGATE(SCLK_TIMER1, \"sclk_timer1\", \"xin24m\", 0,\n\t\t\tRK3288_CLKGATE_CON(1), 1, GFLAGS),\n\tGATE(SCLK_TIMER2, \"sclk_timer2\", \"xin24m\", 0,\n\t\t\tRK3288_CLKGATE_CON(1), 2, GFLAGS),\n\tGATE(SCLK_TIMER3, \"sclk_timer3\", \"xin24m\", 0,\n\t\t\tRK3288_CLKGATE_CON(1), 3, GFLAGS),\n\tGATE(SCLK_TIMER4, \"sclk_timer4\", \"xin24m\", 0,\n\t\t\tRK3288_CLKGATE_CON(1), 4, GFLAGS),\n\tGATE(SCLK_TIMER5, \"sclk_timer5\", \"xin24m\", 0,\n\t\t\tRK3288_CLKGATE_CON(1), 5, GFLAGS),\n\n\t \n\n\tCOMPOSITE(0, \"aclk_vepu\", mux_pll_src_cpll_gpll_usb480m_p, 0,\n\t\t\tRK3288_CLKSEL_CON(32), 6, 2, MFLAGS, 0, 5, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(3), 9, GFLAGS),\n\tCOMPOSITE(0, \"aclk_vdpu\", mux_pll_src_cpll_gpll_usb480m_p, 0,\n\t\t\tRK3288_CLKSEL_CON(32), 14, 2, MFLAGS, 8, 5, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(3), 11, GFLAGS),\n\tMUXGRF(0, \"aclk_vcodec_pre\", mux_aclk_vcodec_pre_p, CLK_SET_RATE_PARENT,\n\t\t\tRK3288_GRF_SOC_CON(0), 7, 1, MFLAGS),\n\tGATE(ACLK_VCODEC, \"aclk_vcodec\", \"aclk_vcodec_pre\", 0,\n\t\tRK3288_CLKGATE_CON(9), 0, GFLAGS),\n\n\tFACTOR_GATE(0, \"hclk_vcodec_pre\", \"aclk_vcodec_pre\", 0, 1, 4,\n\t\tRK3288_CLKGATE_CON(3), 10, GFLAGS),\n\n\tGATE(HCLK_VCODEC, \"hclk_vcodec\", \"hclk_vcodec_pre\", 0,\n\t\tRK3288_CLKGATE_CON(9), 1, GFLAGS),\n\n\tCOMPOSITE(0, \"aclk_vio0\", mux_pll_src_cpll_gpll_usb480m_p, CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKSEL_CON(31), 6, 2, MFLAGS, 0, 5, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(3), 0, GFLAGS),\n\tCOMPOSITE(0, \"aclk_vio1\", mux_pll_src_cpll_gpll_usb480m_p, CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKSEL_CON(31), 14, 2, MFLAGS, 8, 5, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(3), 2, GFLAGS),\n\n\tCOMPOSITE(0, \"aclk_rga_pre\", mux_pll_src_cpll_gpll_usb480m_p, 0,\n\t\t\tRK3288_CLKSEL_CON(30), 6, 2, MFLAGS, 0, 5, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(3), 5, GFLAGS),\n\tCOMPOSITE(SCLK_RGA, \"sclk_rga\", mux_pll_src_cpll_gpll_usb480m_p, 0,\n\t\t\tRK3288_CLKSEL_CON(30), 14, 2, MFLAGS, 8, 5, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(3), 4, GFLAGS),\n\n\tCOMPOSITE(DCLK_VOP0, \"dclk_vop0\", mux_pll_src_cpll_gpll_npll_p, 0,\n\t\t\tRK3288_CLKSEL_CON(27), 0, 2, MFLAGS, 8, 8, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(3), 1, GFLAGS),\n\tCOMPOSITE(DCLK_VOP1, \"dclk_vop1\", mux_pll_src_cpll_gpll_npll_p, 0,\n\t\t\tRK3288_CLKSEL_CON(29), 6, 2, MFLAGS, 8, 8, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(3), 3, GFLAGS),\n\n\tCOMPOSITE_NODIV(SCLK_EDP_24M, \"sclk_edp_24m\", mux_edp_24m_p, 0,\n\t\t\tRK3288_CLKSEL_CON(28), 15, 1, MFLAGS,\n\t\t\tRK3288_CLKGATE_CON(3), 12, GFLAGS),\n\tCOMPOSITE(SCLK_EDP, \"sclk_edp\", mux_pll_src_cpll_gpll_npll_p, 0,\n\t\t\tRK3288_CLKSEL_CON(28), 6, 2, MFLAGS, 0, 6, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(3), 13, GFLAGS),\n\n\tCOMPOSITE(SCLK_ISP, \"sclk_isp\", mux_pll_src_cpll_gpll_npll_p, 0,\n\t\t\tRK3288_CLKSEL_CON(6), 6, 2, MFLAGS, 0, 6, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(3), 14, GFLAGS),\n\tCOMPOSITE(SCLK_ISP_JPE, \"sclk_isp_jpe\", mux_pll_src_cpll_gpll_npll_p, 0,\n\t\t\tRK3288_CLKSEL_CON(6), 14, 2, MFLAGS, 8, 6, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(3), 15, GFLAGS),\n\n\tGATE(SCLK_HDMI_HDCP, \"sclk_hdmi_hdcp\", \"xin24m\", 0,\n\t\t\tRK3288_CLKGATE_CON(5), 12, GFLAGS),\n\tGATE(SCLK_HDMI_CEC, \"sclk_hdmi_cec\", \"xin32k\", 0,\n\t\t\tRK3288_CLKGATE_CON(5), 11, GFLAGS),\n\n\tCOMPOSITE(ACLK_HEVC, \"aclk_hevc\", mux_pll_src_cpll_gpll_npll_p, 0,\n\t\t\tRK3288_CLKSEL_CON(39), 14, 2, MFLAGS, 8, 5, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(13), 13, GFLAGS),\n\tDIV(HCLK_HEVC, \"hclk_hevc\", \"aclk_hevc\", 0,\n\t\t\tRK3288_CLKSEL_CON(40), 12, 2, DFLAGS),\n\n\tCOMPOSITE(SCLK_HEVC_CABAC, \"sclk_hevc_cabac\", mux_pll_src_cpll_gpll_npll_p, 0,\n\t\t\tRK3288_CLKSEL_CON(42), 6, 2, MFLAGS, 0, 5, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(13), 14, GFLAGS),\n\tCOMPOSITE(SCLK_HEVC_CORE, \"sclk_hevc_core\", mux_pll_src_cpll_gpll_npll_p, 0,\n\t\t\tRK3288_CLKSEL_CON(42), 14, 2, MFLAGS, 8, 5, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(13), 15, GFLAGS),\n\n\tCOMPOSITE_NODIV(0, \"vip_src\", mux_pll_src_cpll_gpll_p, 0,\n\t\t\tRK3288_CLKSEL_CON(26), 8, 1, MFLAGS,\n\t\t\tRK3288_CLKGATE_CON(3), 7, GFLAGS),\n\tCOMPOSITE_NOGATE(SCLK_VIP_OUT, \"sclk_vip_out\", mux_vip_out_p, 0,\n\t\t\tRK3288_CLKSEL_CON(26), 15, 1, MFLAGS, 9, 5, DFLAGS),\n\n\tDIV(0, \"pclk_pd_alive\", \"gpll\", 0,\n\t\t\tRK3288_CLKSEL_CON(33), 8, 5, DFLAGS),\n\tCOMPOSITE_NOMUX(0, \"pclk_pd_pmu\", \"gpll\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKSEL_CON(33), 0, 5, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(5), 8, GFLAGS),\n\n\tCOMPOSITE(SCLK_GPU, \"sclk_gpu\", mux_pll_src_cpll_gll_usb_npll_p, 0,\n\t\t\tRK3288_CLKSEL_CON(34), 6, 2, MFLAGS, 0, 5, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(5), 7, GFLAGS),\n\n\tCOMPOSITE(0, \"aclk_peri_src\", mux_pll_src_cpll_gpll_p, CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKSEL_CON(10), 15, 1, MFLAGS, 0, 5, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(2), 0, GFLAGS),\n\tCOMPOSITE_NOMUX(PCLK_PERI, \"pclk_peri\", \"aclk_peri_src\", 0,\n\t\t\tRK3288_CLKSEL_CON(10), 12, 2, DFLAGS | CLK_DIVIDER_POWER_OF_TWO,\n\t\t\tRK3288_CLKGATE_CON(2), 3, GFLAGS),\n\tCOMPOSITE_NOMUX(HCLK_PERI, \"hclk_peri\", \"aclk_peri_src\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKSEL_CON(10), 8, 2, DFLAGS | CLK_DIVIDER_POWER_OF_TWO,\n\t\t\tRK3288_CLKGATE_CON(2), 2, GFLAGS),\n\tGATE(ACLK_PERI, \"aclk_peri\", \"aclk_peri_src\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKGATE_CON(2), 1, GFLAGS),\n\n\t \n\n\tCOMPOSITE(SCLK_SPI0, \"sclk_spi0\", mux_pll_src_cpll_gpll_p, 0,\n\t\t\tRK3288_CLKSEL_CON(25), 7, 1, MFLAGS, 0, 7, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(2), 9, GFLAGS),\n\tCOMPOSITE(SCLK_SPI1, \"sclk_spi1\", mux_pll_src_cpll_gpll_p, 0,\n\t\t\tRK3288_CLKSEL_CON(25), 15, 1, MFLAGS, 8, 7, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(2), 10, GFLAGS),\n\tCOMPOSITE(SCLK_SPI2, \"sclk_spi2\", mux_pll_src_cpll_gpll_p, 0,\n\t\t\tRK3288_CLKSEL_CON(39), 7, 1, MFLAGS, 0, 7, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(2), 11, GFLAGS),\n\n\tCOMPOSITE(SCLK_SDMMC, \"sclk_sdmmc\", mux_mmc_src_p, 0,\n\t\t\tRK3288_CLKSEL_CON(11), 6, 2, MFLAGS, 0, 6, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(13), 0, GFLAGS),\n\tCOMPOSITE(SCLK_SDIO0, \"sclk_sdio0\", mux_mmc_src_p, 0,\n\t\t\tRK3288_CLKSEL_CON(12), 6, 2, MFLAGS, 0, 6, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(13), 1, GFLAGS),\n\tCOMPOSITE(SCLK_SDIO1, \"sclk_sdio1\", mux_mmc_src_p, 0,\n\t\t\tRK3288_CLKSEL_CON(34), 14, 2, MFLAGS, 8, 6, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(13), 2, GFLAGS),\n\tCOMPOSITE(SCLK_EMMC, \"sclk_emmc\", mux_mmc_src_p, 0,\n\t\t\tRK3288_CLKSEL_CON(12), 14, 2, MFLAGS, 8, 6, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(13), 3, GFLAGS),\n\n\tMMC(SCLK_SDMMC_DRV,    \"sdmmc_drv\",    \"sclk_sdmmc\", RK3288_SDMMC_CON0, 1),\n\tMMC(SCLK_SDMMC_SAMPLE, \"sdmmc_sample\", \"sclk_sdmmc\", RK3288_SDMMC_CON1, 0),\n\n\tMMC(SCLK_SDIO0_DRV,    \"sdio0_drv\",    \"sclk_sdio0\", RK3288_SDIO0_CON0, 1),\n\tMMC(SCLK_SDIO0_SAMPLE, \"sdio0_sample\", \"sclk_sdio0\", RK3288_SDIO0_CON1, 0),\n\n\tMMC(SCLK_SDIO1_DRV,    \"sdio1_drv\",    \"sclk_sdio1\", RK3288_SDIO1_CON0, 1),\n\tMMC(SCLK_SDIO1_SAMPLE, \"sdio1_sample\", \"sclk_sdio1\", RK3288_SDIO1_CON1, 0),\n\n\tMMC(SCLK_EMMC_DRV,     \"emmc_drv\",     \"sclk_emmc\",  RK3288_EMMC_CON0,  1),\n\tMMC(SCLK_EMMC_SAMPLE,  \"emmc_sample\",  \"sclk_emmc\",  RK3288_EMMC_CON1,  0),\n\n\tCOMPOSITE(0, \"sclk_tspout\", mux_tspout_p, 0,\n\t\t\tRK3288_CLKSEL_CON(35), 14, 2, MFLAGS, 8, 5, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(4), 11, GFLAGS),\n\tCOMPOSITE(0, \"sclk_tsp\", mux_pll_src_cpll_gpll_npll_p, 0,\n\t\t\tRK3288_CLKSEL_CON(35), 6, 2, MFLAGS, 0, 5, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(4), 10, GFLAGS),\n\n\tGATE(SCLK_OTGPHY0, \"sclk_otgphy0\", \"xin24m\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKGATE_CON(13), 4, GFLAGS),\n\tGATE(SCLK_OTGPHY1, \"sclk_otgphy1\", \"xin24m\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKGATE_CON(13), 5, GFLAGS),\n\tGATE(SCLK_OTGPHY2, \"sclk_otgphy2\", \"xin24m\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKGATE_CON(13), 6, GFLAGS),\n\tGATE(SCLK_OTG_ADP, \"sclk_otg_adp\", \"xin32k\", CLK_IGNORE_UNUSED,\n\t\t\tRK3288_CLKGATE_CON(13), 7, GFLAGS),\n\n\tCOMPOSITE_NOMUX(SCLK_TSADC, \"sclk_tsadc\", \"xin32k\", 0,\n\t\t\tRK3288_CLKSEL_CON(2), 0, 6, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(2), 7, GFLAGS),\n\n\tCOMPOSITE_NOMUX(SCLK_SARADC, \"sclk_saradc\", \"xin24m\", 0,\n\t\t\tRK3288_CLKSEL_CON(24), 8, 8, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(2), 8, GFLAGS),\n\n\tGATE(SCLK_PS2C, \"sclk_ps2c\", \"xin24m\", 0,\n\t\t\tRK3288_CLKGATE_CON(5), 13, GFLAGS),\n\n\tCOMPOSITE(SCLK_NANDC0, \"sclk_nandc0\", mux_pll_src_cpll_gpll_p, 0,\n\t\t\tRK3288_CLKSEL_CON(38), 7, 1, MFLAGS, 0, 5, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(5), 5, GFLAGS),\n\tCOMPOSITE(SCLK_NANDC1, \"sclk_nandc1\", mux_pll_src_cpll_gpll_p, 0,\n\t\t\tRK3288_CLKSEL_CON(38), 15, 1, MFLAGS, 8, 5, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(5), 6, GFLAGS),\n\n\tCOMPOSITE(0, \"uart0_src\", mux_pll_src_cpll_gll_usb_npll_p, 0,\n\t\t\tRK3288_CLKSEL_CON(13), 13, 2, MFLAGS, 0, 7, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(1), 8, GFLAGS),\n\tCOMPOSITE_FRACMUX(0, \"uart0_frac\", \"uart0_src\", CLK_SET_RATE_PARENT,\n\t\t\tRK3288_CLKSEL_CON(17), 0,\n\t\t\tRK3288_CLKGATE_CON(1), 9, GFLAGS,\n\t\t\t&rk3288_uart0_fracmux),\n\tMUX(0, \"uart_src\", mux_pll_src_cpll_gpll_p, 0,\n\t\t\tRK3288_CLKSEL_CON(13), 15, 1, MFLAGS),\n\tCOMPOSITE_NOMUX(0, \"uart1_src\", \"uart_src\", 0,\n\t\t\tRK3288_CLKSEL_CON(14), 0, 7, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(1), 10, GFLAGS),\n\tCOMPOSITE_FRACMUX(0, \"uart1_frac\", \"uart1_src\", CLK_SET_RATE_PARENT,\n\t\t\tRK3288_CLKSEL_CON(18), 0,\n\t\t\tRK3288_CLKGATE_CON(1), 11, GFLAGS,\n\t\t\t&rk3288_uart1_fracmux),\n\tCOMPOSITE_NOMUX(0, \"uart2_src\", \"uart_src\", 0,\n\t\t\tRK3288_CLKSEL_CON(15), 0, 7, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(1), 12, GFLAGS),\n\tCOMPOSITE_FRACMUX(0, \"uart2_frac\", \"uart2_src\", CLK_SET_RATE_PARENT,\n\t\t\tRK3288_CLKSEL_CON(19), 0,\n\t\t\tRK3288_CLKGATE_CON(1), 13, GFLAGS,\n\t\t\t&rk3288_uart2_fracmux),\n\tCOMPOSITE_NOMUX(0, \"uart3_src\", \"uart_src\", 0,\n\t\t\tRK3288_CLKSEL_CON(16), 0, 7, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(1), 14, GFLAGS),\n\tCOMPOSITE_FRACMUX(0, \"uart3_frac\", \"uart3_src\", CLK_SET_RATE_PARENT,\n\t\t\tRK3288_CLKSEL_CON(20), 0,\n\t\t\tRK3288_CLKGATE_CON(1), 15, GFLAGS,\n\t\t\t&rk3288_uart3_fracmux),\n\tCOMPOSITE_NOMUX(0, \"uart4_src\", \"uart_src\", 0,\n\t\t\tRK3288_CLKSEL_CON(3), 0, 7, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(2), 12, GFLAGS),\n\tCOMPOSITE_FRACMUX(0, \"uart4_frac\", \"uart4_src\", CLK_SET_RATE_PARENT,\n\t\t\tRK3288_CLKSEL_CON(7), 0,\n\t\t\tRK3288_CLKGATE_CON(2), 13, GFLAGS,\n\t\t\t&rk3288_uart4_fracmux),\n\n\tCOMPOSITE(0, \"mac_pll_src\", mux_pll_src_npll_cpll_gpll_p, 0,\n\t\t\tRK3288_CLKSEL_CON(21), 0, 2, MFLAGS, 8, 5, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(2), 5, GFLAGS),\n\tMUX(SCLK_MAC, \"mac_clk\", mux_mac_p, CLK_SET_RATE_PARENT,\n\t\t\tRK3288_CLKSEL_CON(21), 4, 1, MFLAGS),\n\tGATE(SCLK_MACREF_OUT, \"sclk_macref_out\", \"mac_clk\", 0,\n\t\t\tRK3288_CLKGATE_CON(5), 3, GFLAGS),\n\tGATE(SCLK_MACREF, \"sclk_macref\", \"mac_clk\", 0,\n\t\t\tRK3288_CLKGATE_CON(5), 2, GFLAGS),\n\tGATE(SCLK_MAC_RX, \"sclk_mac_rx\", \"mac_clk\", 0,\n\t\t\tRK3288_CLKGATE_CON(5), 0, GFLAGS),\n\tGATE(SCLK_MAC_TX, \"sclk_mac_tx\", \"mac_clk\", 0,\n\t\t\tRK3288_CLKGATE_CON(5), 1, GFLAGS),\n\n\tCOMPOSITE(0, \"hsadc_src\", mux_pll_src_cpll_gpll_p, 0,\n\t\t\tRK3288_CLKSEL_CON(22), 0, 1, MFLAGS, 8, 8, DFLAGS,\n\t\t\tRK3288_CLKGATE_CON(2), 6, GFLAGS),\n\tMUX(0, \"sclk_hsadc_out\", mux_hsadcout_p, 0,\n\t\t\tRK3288_CLKSEL_CON(22), 4, 1, MFLAGS),\n\tINVERTER(SCLK_HSADC, \"sclk_hsadc\", \"sclk_hsadc_out\",\n\t\t\tRK3288_CLKSEL_CON(22), 7, IFLAGS),\n\n\tGATE(0, \"jtag\", \"ext_jtag\", 0,\n\t\t\tRK3288_CLKGATE_CON(4), 14, GFLAGS),\n\n\tCOMPOSITE_NODIV(SCLK_USBPHY480M_SRC, \"usbphy480m_src\", mux_usbphy480m_p, 0,\n\t\t\tRK3288_CLKSEL_CON(13), 11, 2, MFLAGS,\n\t\t\tRK3288_CLKGATE_CON(5), 14, GFLAGS),\n\tCOMPOSITE_NODIV(SCLK_HSICPHY480M, \"sclk_hsicphy480m\", mux_hsicphy480m_p, 0,\n\t\t\tRK3288_CLKSEL_CON(29), 0, 2, MFLAGS,\n\t\t\tRK3288_CLKGATE_CON(3), 6, GFLAGS),\n\tGATE(0, \"hsicphy12m_xin12m\", \"xin12m\", 0,\n\t\t\tRK3288_CLKGATE_CON(13), 9, GFLAGS),\n\tDIV(0, \"hsicphy12m_usbphy\", \"sclk_hsicphy480m\", 0,\n\t\t\tRK3288_CLKSEL_CON(11), 8, 6, DFLAGS),\n\tMUX(SCLK_HSICPHY12M, \"sclk_hsicphy12m\", mux_hsicphy12m_p, 0,\n\t\t\tRK3288_CLKSEL_CON(22), 4, 1, MFLAGS),\n\n\t \n\n\t \n\tGATE(0, \"sclk_intmem0\", \"aclk_cpu\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(10), 5, GFLAGS),\n\tGATE(0, \"sclk_intmem1\", \"aclk_cpu\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(10), 6, GFLAGS),\n\tGATE(0, \"sclk_intmem2\", \"aclk_cpu\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(10), 7, GFLAGS),\n\tGATE(ACLK_DMAC1, \"aclk_dmac1\", \"aclk_cpu\", 0, RK3288_CLKGATE_CON(10), 12, GFLAGS),\n\tGATE(0, \"aclk_strc_sys\", \"aclk_cpu\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(10), 13, GFLAGS),\n\tGATE(0, \"aclk_intmem\", \"aclk_cpu\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(10), 4, GFLAGS),\n\tGATE(ACLK_CRYPTO, \"aclk_crypto\", \"aclk_cpu\", 0, RK3288_CLKGATE_CON(11), 6, GFLAGS),\n\tGATE(0, \"aclk_ccp\", \"aclk_cpu\", 0, RK3288_CLKGATE_CON(11), 8, GFLAGS),\n\n\t \n\tGATE(HCLK_CRYPTO, \"hclk_crypto\", \"hclk_cpu\", 0, RK3288_CLKGATE_CON(11), 7, GFLAGS),\n\tGATE(HCLK_I2S0, \"hclk_i2s0\", \"hclk_cpu\", 0, RK3288_CLKGATE_CON(10), 8, GFLAGS),\n\tGATE(HCLK_ROM, \"hclk_rom\", \"hclk_cpu\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(10), 9, GFLAGS),\n\tGATE(HCLK_SPDIF, \"hclk_spdif\", \"hclk_cpu\", 0, RK3288_CLKGATE_CON(10), 10, GFLAGS),\n\tGATE(HCLK_SPDIF8CH, \"hclk_spdif_8ch\", \"hclk_cpu\", 0, RK3288_CLKGATE_CON(10), 11, GFLAGS),\n\n\t \n\tGATE(PCLK_PWM, \"pclk_pwm\", \"pclk_cpu\", 0, RK3288_CLKGATE_CON(10), 0, GFLAGS),\n\tGATE(PCLK_TIMER, \"pclk_timer\", \"pclk_cpu\", 0, RK3288_CLKGATE_CON(10), 1, GFLAGS),\n\tGATE(PCLK_I2C0, \"pclk_i2c0\", \"pclk_cpu\", 0, RK3288_CLKGATE_CON(10), 2, GFLAGS),\n\tGATE(PCLK_I2C2, \"pclk_i2c2\", \"pclk_cpu\", 0, RK3288_CLKGATE_CON(10), 3, GFLAGS),\n\tGATE(PCLK_DDRUPCTL0, \"pclk_ddrupctl0\", \"pclk_cpu\", 0, RK3288_CLKGATE_CON(10), 14, GFLAGS),\n\tGATE(PCLK_PUBL0, \"pclk_publ0\", \"pclk_cpu\", 0, RK3288_CLKGATE_CON(10), 15, GFLAGS),\n\tGATE(PCLK_DDRUPCTL1, \"pclk_ddrupctl1\", \"pclk_cpu\", 0, RK3288_CLKGATE_CON(11), 0, GFLAGS),\n\tGATE(PCLK_PUBL1, \"pclk_publ1\", \"pclk_cpu\", 0, RK3288_CLKGATE_CON(11), 1, GFLAGS),\n\tGATE(PCLK_EFUSE1024, \"pclk_efuse_1024\", \"pclk_cpu\", 0, RK3288_CLKGATE_CON(11), 2, GFLAGS),\n\tGATE(PCLK_TZPC, \"pclk_tzpc\", \"pclk_cpu\", 0, RK3288_CLKGATE_CON(11), 3, GFLAGS),\n\tGATE(PCLK_UART2, \"pclk_uart2\", \"pclk_cpu\", 0, RK3288_CLKGATE_CON(11), 9, GFLAGS),\n\tGATE(PCLK_EFUSE256, \"pclk_efuse_256\", \"pclk_cpu\", 0, RK3288_CLKGATE_CON(11), 10, GFLAGS),\n\tGATE(PCLK_RKPWM, \"pclk_rkpwm\", \"pclk_cpu\", 0, RK3288_CLKGATE_CON(11), 11, GFLAGS),\n\n\t \n\tGATE(0, \"nclk_ddrupctl0\", \"ddrphy\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(11), 4, GFLAGS),\n\tGATE(0, \"nclk_ddrupctl1\", \"ddrphy\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(11), 5, GFLAGS),\n\n\t \n\tGATE(0, \"sclk_ddrphy0\", \"ddrphy\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(4), 12, GFLAGS),\n\tGATE(0, \"sclk_ddrphy1\", \"ddrphy\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(4), 13, GFLAGS),\n\n\t \n\tGATE(0, \"aclk_peri_axi_matrix\", \"aclk_peri\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(6), 2, GFLAGS),\n\tGATE(ACLK_DMAC2, \"aclk_dmac2\", \"aclk_peri\", 0, RK3288_CLKGATE_CON(6), 3, GFLAGS),\n\tGATE(0, \"aclk_peri_niu\", \"aclk_peri\", 0, RK3288_CLKGATE_CON(7), 11, GFLAGS),\n\tGATE(ACLK_MMU, \"aclk_mmu\", \"aclk_peri\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(8), 12, GFLAGS),\n\tGATE(ACLK_GMAC, \"aclk_gmac\", \"aclk_peri\", 0, RK3288_CLKGATE_CON(8), 0, GFLAGS),\n\tGATE(HCLK_GPS, \"hclk_gps\", \"aclk_peri\", 0, RK3288_CLKGATE_CON(8), 2, GFLAGS),\n\n\t \n\tGATE(0, \"hclk_peri_matrix\", \"hclk_peri\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(6), 0, GFLAGS),\n\tGATE(HCLK_OTG0, \"hclk_otg0\", \"hclk_peri\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(7), 4, GFLAGS),\n\tGATE(HCLK_USBHOST0, \"hclk_host0\", \"hclk_peri\", 0, RK3288_CLKGATE_CON(7), 6, GFLAGS),\n\tGATE(HCLK_USBHOST1, \"hclk_host1\", \"hclk_peri\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(7), 7, GFLAGS),\n\tGATE(HCLK_HSIC, \"hclk_hsic\", \"hclk_peri\", 0, RK3288_CLKGATE_CON(7), 8, GFLAGS),\n\tGATE(0, \"hclk_usb_peri\", \"hclk_peri\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(7), 9, GFLAGS),\n\tGATE(0, \"hclk_peri_ahb_arbi\", \"hclk_peri\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(7), 10, GFLAGS),\n\tGATE(0, \"hclk_emem\", \"hclk_peri\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(7), 12, GFLAGS),\n\tGATE(0, \"hclk_mem\", \"hclk_peri\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(7), 13, GFLAGS),\n\tGATE(HCLK_NANDC0, \"hclk_nandc0\", \"hclk_peri\", 0, RK3288_CLKGATE_CON(7), 14, GFLAGS),\n\tGATE(HCLK_NANDC1, \"hclk_nandc1\", \"hclk_peri\", 0, RK3288_CLKGATE_CON(7), 15, GFLAGS),\n\tGATE(HCLK_TSP, \"hclk_tsp\", \"hclk_peri\", 0, RK3288_CLKGATE_CON(8), 8, GFLAGS),\n\tGATE(HCLK_SDMMC, \"hclk_sdmmc\", \"hclk_peri\", 0, RK3288_CLKGATE_CON(8), 3, GFLAGS),\n\tGATE(HCLK_SDIO0, \"hclk_sdio0\", \"hclk_peri\", 0, RK3288_CLKGATE_CON(8), 4, GFLAGS),\n\tGATE(HCLK_SDIO1, \"hclk_sdio1\", \"hclk_peri\", 0, RK3288_CLKGATE_CON(8), 5, GFLAGS),\n\tGATE(HCLK_EMMC, \"hclk_emmc\", \"hclk_peri\", 0, RK3288_CLKGATE_CON(8), 6, GFLAGS),\n\tGATE(HCLK_HSADC, \"hclk_hsadc\", \"hclk_peri\", 0, RK3288_CLKGATE_CON(8), 7, GFLAGS),\n\tGATE(0, \"pmu_hclk_otg0\", \"hclk_peri\", 0, RK3288_CLKGATE_CON(7), 5, GFLAGS),\n\n\t \n\tGATE(0, \"pclk_peri_matrix\", \"pclk_peri\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(6), 1, GFLAGS),\n\tGATE(PCLK_SPI0, \"pclk_spi0\", \"pclk_peri\", 0, RK3288_CLKGATE_CON(6), 4, GFLAGS),\n\tGATE(PCLK_SPI1, \"pclk_spi1\", \"pclk_peri\", 0, RK3288_CLKGATE_CON(6), 5, GFLAGS),\n\tGATE(PCLK_SPI2, \"pclk_spi2\", \"pclk_peri\", 0, RK3288_CLKGATE_CON(6), 6, GFLAGS),\n\tGATE(PCLK_PS2C, \"pclk_ps2c\", \"pclk_peri\", 0, RK3288_CLKGATE_CON(6), 7, GFLAGS),\n\tGATE(PCLK_UART0, \"pclk_uart0\", \"pclk_peri\", 0, RK3288_CLKGATE_CON(6), 8, GFLAGS),\n\tGATE(PCLK_UART1, \"pclk_uart1\", \"pclk_peri\", 0, RK3288_CLKGATE_CON(6), 9, GFLAGS),\n\tGATE(PCLK_I2C4, \"pclk_i2c4\", \"pclk_peri\", 0, RK3288_CLKGATE_CON(6), 15, GFLAGS),\n\tGATE(PCLK_UART3, \"pclk_uart3\", \"pclk_peri\", 0, RK3288_CLKGATE_CON(6), 11, GFLAGS),\n\tGATE(PCLK_UART4, \"pclk_uart4\", \"pclk_peri\", 0, RK3288_CLKGATE_CON(6), 12, GFLAGS),\n\tGATE(PCLK_I2C1, \"pclk_i2c1\", \"pclk_peri\", 0, RK3288_CLKGATE_CON(6), 13, GFLAGS),\n\tGATE(PCLK_I2C3, \"pclk_i2c3\", \"pclk_peri\", 0, RK3288_CLKGATE_CON(6), 14, GFLAGS),\n\tGATE(PCLK_SARADC, \"pclk_saradc\", \"pclk_peri\", 0, RK3288_CLKGATE_CON(7), 1, GFLAGS),\n\tGATE(PCLK_TSADC, \"pclk_tsadc\", \"pclk_peri\", 0, RK3288_CLKGATE_CON(7), 2, GFLAGS),\n\tGATE(PCLK_SIM, \"pclk_sim\", \"pclk_peri\", 0, RK3288_CLKGATE_CON(7), 3, GFLAGS),\n\tGATE(PCLK_I2C5, \"pclk_i2c5\", \"pclk_peri\", 0, RK3288_CLKGATE_CON(7), 0, GFLAGS),\n\tGATE(PCLK_GMAC, \"pclk_gmac\", \"pclk_peri\", 0, RK3288_CLKGATE_CON(8), 1, GFLAGS),\n\n\tGATE(SCLK_LCDC_PWM0, \"sclk_lcdc_pwm0\", \"xin24m\", 0, RK3288_CLKGATE_CON(13), 10, GFLAGS),\n\tGATE(SCLK_LCDC_PWM1, \"sclk_lcdc_pwm1\", \"xin24m\", 0, RK3288_CLKGATE_CON(13), 11, GFLAGS),\n\tGATE(SCLK_PVTM_CORE, \"sclk_pvtm_core\", \"xin24m\", 0, RK3288_CLKGATE_CON(5), 9, GFLAGS),\n\tGATE(SCLK_PVTM_GPU, \"sclk_pvtm_gpu\", \"xin24m\", 0, RK3288_CLKGATE_CON(5), 10, GFLAGS),\n\tGATE(SCLK_MIPIDSI_24M, \"sclk_mipidsi_24m\", \"xin24m\", 0, RK3288_CLKGATE_CON(5), 15, GFLAGS),\n\n\t \n\tGATE(ACLK_GPU, \"aclk_gpu\", \"sclk_gpu\", 0, RK3288_CLKGATE_CON(18), 0, GFLAGS),\n\n\t \n\tGATE(PCLK_GPIO8, \"pclk_gpio8\", \"pclk_pd_alive\", 0, RK3288_CLKGATE_CON(14), 8, GFLAGS),\n\tGATE(PCLK_GPIO7, \"pclk_gpio7\", \"pclk_pd_alive\", 0, RK3288_CLKGATE_CON(14), 7, GFLAGS),\n\tGATE(PCLK_GPIO1, \"pclk_gpio1\", \"pclk_pd_alive\", 0, RK3288_CLKGATE_CON(14), 1, GFLAGS),\n\tGATE(PCLK_GPIO2, \"pclk_gpio2\", \"pclk_pd_alive\", 0, RK3288_CLKGATE_CON(14), 2, GFLAGS),\n\tGATE(PCLK_GPIO3, \"pclk_gpio3\", \"pclk_pd_alive\", 0, RK3288_CLKGATE_CON(14), 3, GFLAGS),\n\tGATE(PCLK_GPIO4, \"pclk_gpio4\", \"pclk_pd_alive\", 0, RK3288_CLKGATE_CON(14), 4, GFLAGS),\n\tGATE(PCLK_GPIO5, \"pclk_gpio5\", \"pclk_pd_alive\", 0, RK3288_CLKGATE_CON(14), 5, GFLAGS),\n\tGATE(PCLK_GPIO6, \"pclk_gpio6\", \"pclk_pd_alive\", 0, RK3288_CLKGATE_CON(14), 6, GFLAGS),\n\tGATE(PCLK_GRF, \"pclk_grf\", \"pclk_pd_alive\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(14), 11, GFLAGS),\n\tGATE(0, \"pclk_alive_niu\", \"pclk_pd_alive\", 0, RK3288_CLKGATE_CON(14), 12, GFLAGS),\n\n\t \n\tSGRF_GATE(PCLK_WDT, \"pclk_wdt\", \"pclk_pd_alive\"),\n\n\t \n\tGATE(PCLK_PMU, \"pclk_pmu\", \"pclk_pd_pmu\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(17), 0, GFLAGS),\n\tGATE(0, \"pclk_intmem1\", \"pclk_pd_pmu\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(17), 1, GFLAGS),\n\tGATE(0, \"pclk_pmu_niu\", \"pclk_pd_pmu\", 0, RK3288_CLKGATE_CON(17), 2, GFLAGS),\n\tGATE(PCLK_SGRF, \"pclk_sgrf\", \"pclk_pd_pmu\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(17), 3, GFLAGS),\n\tGATE(PCLK_GPIO0, \"pclk_gpio0\", \"pclk_pd_pmu\", 0, RK3288_CLKGATE_CON(17), 4, GFLAGS),\n\n\t \n\tGATE(HCLK_RGA, \"hclk_rga\", \"hclk_vio\", 0, RK3288_CLKGATE_CON(15), 1, GFLAGS),\n\tGATE(HCLK_VOP0, \"hclk_vop0\", \"hclk_vio\", 0, RK3288_CLKGATE_CON(15), 6, GFLAGS),\n\tGATE(HCLK_VOP1, \"hclk_vop1\", \"hclk_vio\", 0, RK3288_CLKGATE_CON(15), 8, GFLAGS),\n\tGATE(HCLK_VIO_AHB_ARBI, \"hclk_vio_ahb_arbi\", \"hclk_vio\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(15), 9, GFLAGS),\n\tGATE(HCLK_VIO_NIU, \"hclk_vio_niu\", \"hclk_vio\", 0, RK3288_CLKGATE_CON(15), 10, GFLAGS),\n\tGATE(HCLK_VIP, \"hclk_vip\", \"hclk_vio\", 0, RK3288_CLKGATE_CON(15), 15, GFLAGS),\n\tGATE(HCLK_IEP, \"hclk_iep\", \"hclk_vio\", 0, RK3288_CLKGATE_CON(15), 3, GFLAGS),\n\tGATE(HCLK_ISP, \"hclk_isp\", \"hclk_vio\", 0, RK3288_CLKGATE_CON(16), 1, GFLAGS),\n\tGATE(HCLK_VIO2_H2P, \"hclk_vio2_h2p\", \"hclk_vio\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(16), 10, GFLAGS),\n\tGATE(PCLK_MIPI_DSI0, \"pclk_mipi_dsi0\", \"hclk_vio\", 0, RK3288_CLKGATE_CON(16), 4, GFLAGS),\n\tGATE(PCLK_MIPI_DSI1, \"pclk_mipi_dsi1\", \"hclk_vio\", 0, RK3288_CLKGATE_CON(16), 5, GFLAGS),\n\tGATE(PCLK_MIPI_CSI, \"pclk_mipi_csi\", \"hclk_vio\", 0, RK3288_CLKGATE_CON(16), 6, GFLAGS),\n\tGATE(PCLK_LVDS_PHY, \"pclk_lvds_phy\", \"hclk_vio\", 0, RK3288_CLKGATE_CON(16), 7, GFLAGS),\n\tGATE(PCLK_EDP_CTRL, \"pclk_edp_ctrl\", \"hclk_vio\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(16), 8, GFLAGS),\n\tGATE(PCLK_HDMI_CTRL, \"pclk_hdmi_ctrl\", \"hclk_vio\", 0, RK3288_CLKGATE_CON(16), 9, GFLAGS),\n\tGATE(PCLK_VIO2_H2P, \"pclk_vio2_h2p\", \"hclk_vio\", CLK_IGNORE_UNUSED, RK3288_CLKGATE_CON(16), 11, GFLAGS),\n\n\t \n\tGATE(ACLK_VOP0, \"aclk_vop0\", \"aclk_vio0\", 0, RK3288_CLKGATE_CON(15), 5, GFLAGS),\n\tGATE(ACLK_IEP, \"aclk_iep\", \"aclk_vio0\", 0, RK3288_CLKGATE_CON(15), 2, GFLAGS),\n\tGATE(ACLK_VIO0_NIU, \"aclk_vio0_niu\", \"aclk_vio0\", 0, RK3288_CLKGATE_CON(15), 11, GFLAGS),\n\tGATE(ACLK_VIP, \"aclk_vip\", \"aclk_vio0\", 0, RK3288_CLKGATE_CON(15), 14, GFLAGS),\n\n\t \n\tGATE(ACLK_VOP1, \"aclk_vop1\", \"aclk_vio1\", 0, RK3288_CLKGATE_CON(15), 7, GFLAGS),\n\tGATE(ACLK_ISP, \"aclk_isp\", \"aclk_vio1\", 0, RK3288_CLKGATE_CON(16), 2, GFLAGS),\n\tGATE(ACLK_VIO1_NIU, \"aclk_vio1_niu\", \"aclk_vio1\", 0, RK3288_CLKGATE_CON(15), 12, GFLAGS),\n\n\t \n\tGATE(ACLK_RGA, \"aclk_rga\", \"aclk_rga_pre\", 0, RK3288_CLKGATE_CON(15), 0, GFLAGS),\n\tGATE(ACLK_RGA_NIU, \"aclk_rga_niu\", \"aclk_rga_pre\", 0, RK3288_CLKGATE_CON(15), 13, GFLAGS),\n\n\t \n\n\tGATE(0, \"pclk_vip_in\", \"ext_vip\", 0, RK3288_CLKGATE_CON(16), 0, GFLAGS),\n\tINVERTER(0, \"pclk_vip\", \"pclk_vip_in\", RK3288_CLKSEL_CON(29), 4, IFLAGS),\n\tGATE(PCLK_ISP_IN, \"pclk_isp_in\", \"ext_isp\", 0, RK3288_CLKGATE_CON(16), 3, GFLAGS),\n\tINVERTER(0, \"pclk_isp\", \"pclk_isp_in\", RK3288_CLKSEL_CON(29), 3, IFLAGS),\n};\n\nstatic struct rockchip_clk_branch rk3288w_hclkvio_branch[] __initdata = {\n\tDIV(0, \"hclk_vio\", \"aclk_vio1\", 0,\n\t\t\tRK3288_CLKSEL_CON(28), 8, 5, DFLAGS),\n};\n\nstatic struct rockchip_clk_branch rk3288_hclkvio_branch[] __initdata = {\n\tDIV(0, \"hclk_vio\", \"aclk_vio0\", 0,\n\t\t\tRK3288_CLKSEL_CON(28), 8, 5, DFLAGS),\n};\n\nstatic const char *const rk3288_critical_clocks[] __initconst = {\n\t\"aclk_cpu\",\n\t\"aclk_peri\",\n\t\"aclk_peri_niu\",\n\t\"aclk_vio0_niu\",\n\t\"aclk_vio1_niu\",\n\t\"aclk_rga_niu\",\n\t\"hclk_peri\",\n\t\"hclk_vio_niu\",\n\t\"pclk_alive_niu\",\n\t\"pclk_pd_pmu\",\n\t\"pclk_pmu_niu\",\n\t\"pmu_hclk_otg0\",\n\t \n\t\"pclk_rkpwm\",\n};\n\nstatic void __iomem *rk3288_cru_base;\n\n \nstatic const int rk3288_saved_cru_reg_ids[] = {\n\tRK3288_MODE_CON,\n\tRK3288_CLKSEL_CON(0),\n\tRK3288_CLKSEL_CON(1),\n\tRK3288_CLKSEL_CON(10),\n\tRK3288_CLKSEL_CON(33),\n\tRK3288_CLKSEL_CON(37),\n\n\t \n\tRK3288_CLKGATE_CON(10),\n};\n\nstatic u32 rk3288_saved_cru_regs[ARRAY_SIZE(rk3288_saved_cru_reg_ids)];\n\nstatic int rk3288_clk_suspend(void)\n{\n\tint i, reg_id;\n\n\tfor (i = 0; i < ARRAY_SIZE(rk3288_saved_cru_reg_ids); i++) {\n\t\treg_id = rk3288_saved_cru_reg_ids[i];\n\n\t\trk3288_saved_cru_regs[i] =\n\t\t\t\treadl_relaxed(rk3288_cru_base + reg_id);\n\t}\n\n\t \n\twritel_relaxed(1 << (12 + 16),\n\t\t       rk3288_cru_base + RK3288_CLKGATE_CON(10));\n\n\t \n\n\twritel_relaxed(0xf3030000, rk3288_cru_base + RK3288_MODE_CON);\n\n\treturn 0;\n}\n\nstatic void rk3288_clk_resume(void)\n{\n\tint i, reg_id;\n\n\tfor (i = ARRAY_SIZE(rk3288_saved_cru_reg_ids) - 1; i >= 0; i--) {\n\t\treg_id = rk3288_saved_cru_reg_ids[i];\n\n\t\twritel_relaxed(rk3288_saved_cru_regs[i] | 0xffff0000,\n\t\t\t       rk3288_cru_base + reg_id);\n\t}\n}\n\nstatic void rk3288_clk_shutdown(void)\n{\n\twritel_relaxed(0xf3030000, rk3288_cru_base + RK3288_MODE_CON);\n}\n\nstatic struct syscore_ops rk3288_clk_syscore_ops = {\n\t.suspend = rk3288_clk_suspend,\n\t.resume = rk3288_clk_resume,\n};\n\nstatic void __init rk3288_common_init(struct device_node *np,\n\t\t\t\t      enum rk3288_variant soc)\n{\n\tstruct rockchip_clk_provider *ctx;\n\n\trk3288_cru_base = of_iomap(np, 0);\n\tif (!rk3288_cru_base) {\n\t\tpr_err(\"%s: could not map cru region\\n\", __func__);\n\t\treturn;\n\t}\n\n\tctx = rockchip_clk_init(np, rk3288_cru_base, CLK_NR_CLKS);\n\tif (IS_ERR(ctx)) {\n\t\tpr_err(\"%s: rockchip clk init failed\\n\", __func__);\n\t\tiounmap(rk3288_cru_base);\n\t\treturn;\n\t}\n\n\trockchip_clk_register_plls(ctx, rk3288_pll_clks,\n\t\t\t\t   ARRAY_SIZE(rk3288_pll_clks),\n\t\t\t\t   RK3288_GRF_SOC_STATUS1);\n\trockchip_clk_register_branches(ctx, rk3288_clk_branches,\n\t\t\t\t  ARRAY_SIZE(rk3288_clk_branches));\n\n\tif (soc == RK3288W_CRU)\n\t\trockchip_clk_register_branches(ctx, rk3288w_hclkvio_branch,\n\t\t\t\t\t       ARRAY_SIZE(rk3288w_hclkvio_branch));\n\telse\n\t\trockchip_clk_register_branches(ctx, rk3288_hclkvio_branch,\n\t\t\t\t\t       ARRAY_SIZE(rk3288_hclkvio_branch));\n\n\trockchip_clk_protect_critical(rk3288_critical_clocks,\n\t\t\t\t      ARRAY_SIZE(rk3288_critical_clocks));\n\n\trockchip_clk_register_armclk(ctx, ARMCLK, \"armclk\",\n\t\t\tmux_armclk_p, ARRAY_SIZE(mux_armclk_p),\n\t\t\t&rk3288_cpuclk_data, rk3288_cpuclk_rates,\n\t\t\tARRAY_SIZE(rk3288_cpuclk_rates));\n\n\trockchip_register_softrst(np, 12,\n\t\t\t\t  rk3288_cru_base + RK3288_SOFTRST_CON(0),\n\t\t\t\t  ROCKCHIP_SOFTRST_HIWORD_MASK);\n\n\trockchip_register_restart_notifier(ctx, RK3288_GLB_SRST_FST,\n\t\t\t\t\t   rk3288_clk_shutdown);\n\tregister_syscore_ops(&rk3288_clk_syscore_ops);\n\n\trockchip_clk_of_add_provider(np, ctx);\n}\n\nstatic void __init rk3288_clk_init(struct device_node *np)\n{\n\trk3288_common_init(np, RK3288_CRU);\n}\nCLK_OF_DECLARE(rk3288_cru, \"rockchip,rk3288-cru\", rk3288_clk_init);\n\nstatic void __init rk3288w_clk_init(struct device_node *np)\n{\n\trk3288_common_init(np, RK3288W_CRU);\n}\nCLK_OF_DECLARE(rk3288w_cru, \"rockchip,rk3288w-cru\", rk3288w_clk_init);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}