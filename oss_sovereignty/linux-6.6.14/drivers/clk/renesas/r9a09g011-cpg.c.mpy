{
  "module_name": "r9a09g011-cpg.c",
  "hash_id": "abb659607c849708fe3768940034e3ebc04724a98fda5ce4d8d4c4f0dd02dc98",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/renesas/r9a09g011-cpg.c",
  "human_readable_source": "\n \n\n#include <linux/clk-provider.h>\n#include <linux/device.h>\n#include <linux/init.h>\n#include <linux/kernel.h>\n\n#include <dt-bindings/clock/r9a09g011-cpg.h>\n\n#include \"rzg2l-cpg.h\"\n\n#define RZV2M_SAMPLL4_CLK1\t0x104\n#define RZV2M_SAMPLL4_CLK2\t0x108\n\n#define PLL4_CONF\t(RZV2M_SAMPLL4_CLK1 << 22 | RZV2M_SAMPLL4_CLK2 << 12)\n\n#define DIV_A\t\tDDIV_PACK(0x200, 0, 3)\n#define DIV_B\t\tDDIV_PACK(0x204, 0, 2)\n#define DIV_D\t\tDDIV_PACK(0x204, 4, 2)\n#define DIV_E\t\tDDIV_PACK(0x204, 8, 1)\n#define DIV_W\t\tDDIV_PACK(0x328, 0, 3)\n\n#define SEL_B\t\tSEL_PLL_PACK(0x214, 0, 1)\n#define SEL_CSI0\tSEL_PLL_PACK(0x330, 0, 1)\n#define SEL_CSI4\tSEL_PLL_PACK(0x330, 4, 1)\n#define SEL_D\t\tSEL_PLL_PACK(0x214, 1, 1)\n#define SEL_E\t\tSEL_PLL_PACK(0x214, 2, 1)\n#define SEL_SDI\t\tSEL_PLL_PACK(0x300, 0, 1)\n#define SEL_W0\t\tSEL_PLL_PACK(0x32C, 0, 1)\n\nenum clk_ids {\n\t \n\tLAST_DT_CORE_CLK = 0,\n\n\t \n\tCLK_EXTAL,\n\n\t \n\tCLK_MAIN,\n\tCLK_MAIN_24,\n\tCLK_MAIN_2,\n\tCLK_PLL1,\n\tCLK_PLL2,\n\tCLK_PLL2_800,\n\tCLK_PLL2_400,\n\tCLK_PLL2_200,\n\tCLK_PLL2_100,\n\tCLK_PLL4,\n\tCLK_DIV_A,\n\tCLK_DIV_B,\n\tCLK_DIV_D,\n\tCLK_DIV_E,\n\tCLK_DIV_W,\n\tCLK_SEL_B,\n\tCLK_SEL_B_D2,\n\tCLK_SEL_CSI0,\n\tCLK_SEL_CSI4,\n\tCLK_SEL_D,\n\tCLK_SEL_E,\n\tCLK_SEL_SDI,\n\tCLK_SEL_W0,\n\n\t \n\tMOD_CLK_BASE\n};\n\n \nstatic const struct clk_div_table dtable_diva[] = {\n\t{0, 1},\n\t{1, 2},\n\t{2, 3},\n\t{3, 4},\n\t{4, 6},\n\t{5, 12},\n\t{6, 24},\n\t{0, 0},\n};\n\nstatic const struct clk_div_table dtable_divb[] = {\n\t{0, 1},\n\t{1, 2},\n\t{2, 4},\n\t{3, 8},\n\t{0, 0},\n};\n\nstatic const struct clk_div_table dtable_divd[] = {\n\t{0, 1},\n\t{1, 2},\n\t{2, 4},\n\t{0, 0},\n};\n\n\nstatic const struct clk_div_table dtable_divw[] = {\n\t{0, 6},\n\t{1, 7},\n\t{2, 8},\n\t{3, 9},\n\t{4, 10},\n\t{5, 11},\n\t{6, 12},\n\t{0, 0},\n};\n\n \nstatic const char * const sel_b[] = { \".main\", \".divb\" };\nstatic const char * const sel_csi[] = { \".main_24\", \".main\" };\nstatic const char * const sel_d[] = { \".main\", \".divd\" };\nstatic const char * const sel_e[] = { \".main\", \".dive\" };\nstatic const char * const sel_w[] = { \".main\", \".divw\" };\nstatic const char * const sel_sdi[] = { \".main\", \".pll2_200\" };\n\nstatic const struct cpg_core_clk r9a09g011_core_clks[] __initconst = {\n\t \n\tDEF_INPUT(\"extal\",\tCLK_EXTAL),\n\n\t \n\tDEF_FIXED(\".main\",\tCLK_MAIN,\tCLK_EXTAL,\t1,\t1),\n\tDEF_FIXED(\".main_24\",\tCLK_MAIN_24,\tCLK_MAIN,\t1,\t2),\n\tDEF_FIXED(\".main_2\",\tCLK_MAIN_2,\tCLK_MAIN,\t1,\t24),\n\tDEF_FIXED(\".pll1\",\tCLK_PLL1,\tCLK_MAIN_2,\t498,\t1),\n\tDEF_FIXED(\".pll2\",\tCLK_PLL2,\tCLK_MAIN_2,\t800,\t1),\n\tDEF_FIXED(\".pll2_800\",\tCLK_PLL2_800,\tCLK_PLL2,\t1,\t2),\n\tDEF_FIXED(\".pll2_400\",\tCLK_PLL2_400,\tCLK_PLL2_800,\t1,\t2),\n\tDEF_FIXED(\".pll2_200\",\tCLK_PLL2_200,\tCLK_PLL2_800,\t1,\t4),\n\tDEF_FIXED(\".pll2_100\",\tCLK_PLL2_100,\tCLK_PLL2_800,\t1,\t8),\n\tDEF_SAMPLL(\".pll4\",\tCLK_PLL4,\tCLK_MAIN_2,\tPLL4_CONF),\n\n\tDEF_DIV_RO(\".diva\",\tCLK_DIV_A,\tCLK_PLL1,\tDIV_A,\tdtable_diva),\n\tDEF_DIV_RO(\".divb\",\tCLK_DIV_B,\tCLK_PLL2_400,\tDIV_B,\tdtable_divb),\n\tDEF_DIV_RO(\".divd\",\tCLK_DIV_D,\tCLK_PLL2_200,\tDIV_D,\tdtable_divd),\n\tDEF_DIV_RO(\".dive\",\tCLK_DIV_E,\tCLK_PLL2_100,\tDIV_E,\tNULL),\n\tDEF_DIV_RO(\".divw\",\tCLK_DIV_W,\tCLK_PLL4,\tDIV_W,\tdtable_divw),\n\n\tDEF_MUX_RO(\".selb\",\tCLK_SEL_B,\tSEL_B,\t\tsel_b),\n\tDEF_MUX_RO(\".seld\",\tCLK_SEL_D,\tSEL_D,\t\tsel_d),\n\tDEF_MUX_RO(\".sele\",\tCLK_SEL_E,\tSEL_E,\t\tsel_e),\n\tDEF_MUX(\".selsdi\",\tCLK_SEL_SDI,\tSEL_SDI,\tsel_sdi),\n\tDEF_MUX(\".selcsi0\",\tCLK_SEL_CSI0,\tSEL_CSI0,\tsel_csi),\n\tDEF_MUX(\".selcsi4\",\tCLK_SEL_CSI4,\tSEL_CSI4,\tsel_csi),\n\tDEF_MUX(\".selw0\",\tCLK_SEL_W0,\tSEL_W0,\t\tsel_w),\n\n\tDEF_FIXED(\".selb_d2\",\tCLK_SEL_B_D2,\tCLK_SEL_B,\t1,\t2),\n};\n\nstatic const struct rzg2l_mod_clk r9a09g011_mod_clks[] __initconst = {\n\tDEF_MOD(\"pfc\",\t\tR9A09G011_PFC_PCLK,\t CLK_MAIN,     0x400, 2),\n\tDEF_MOD(\"gic\",\t\tR9A09G011_GIC_CLK,\t CLK_SEL_B_D2, 0x400, 5),\n\tDEF_MOD(\"sdi0_aclk\",\tR9A09G011_SDI0_ACLK,\t CLK_SEL_D,    0x408, 0),\n\tDEF_MOD(\"sdi0_imclk\",\tR9A09G011_SDI0_IMCLK,\t CLK_SEL_SDI,  0x408, 1),\n\tDEF_MOD(\"sdi0_imclk2\",\tR9A09G011_SDI0_IMCLK2,\t CLK_SEL_SDI,  0x408, 2),\n\tDEF_MOD(\"sdi0_clk_hs\",\tR9A09G011_SDI0_CLK_HS,\t CLK_PLL2_800, 0x408, 3),\n\tDEF_MOD(\"sdi1_aclk\",\tR9A09G011_SDI1_ACLK,\t CLK_SEL_D,    0x408, 4),\n\tDEF_MOD(\"sdi1_imclk\",\tR9A09G011_SDI1_IMCLK,\t CLK_SEL_SDI,  0x408, 5),\n\tDEF_MOD(\"sdi1_imclk2\",\tR9A09G011_SDI1_IMCLK2,\t CLK_SEL_SDI,  0x408, 6),\n\tDEF_MOD(\"sdi1_clk_hs\",\tR9A09G011_SDI1_CLK_HS,\t CLK_PLL2_800, 0x408, 7),\n\tDEF_MOD(\"emm_aclk\",\tR9A09G011_EMM_ACLK,\t CLK_SEL_D,    0x408, 8),\n\tDEF_MOD(\"emm_imclk\",\tR9A09G011_EMM_IMCLK,\t CLK_SEL_SDI,  0x408, 9),\n\tDEF_MOD(\"emm_imclk2\",\tR9A09G011_EMM_IMCLK2,\t CLK_SEL_SDI,  0x408, 10),\n\tDEF_MOD(\"emm_clk_hs\",\tR9A09G011_EMM_CLK_HS,\t CLK_PLL2_800, 0x408, 11),\n\tDEF_COUPLED(\"eth_axi\",\tR9A09G011_ETH0_CLK_AXI,\t CLK_PLL2_200, 0x40c, 8),\n\tDEF_COUPLED(\"eth_chi\",\tR9A09G011_ETH0_CLK_CHI,\t CLK_PLL2_100, 0x40c, 8),\n\tDEF_MOD(\"eth_clk_gptp\",\tR9A09G011_ETH0_GPTP_EXT, CLK_PLL2_100, 0x40c, 9),\n\tDEF_MOD(\"usb_aclk_h\",\tR9A09G011_USB_ACLK_H,\t CLK_SEL_D,    0x40c, 4),\n\tDEF_MOD(\"usb_aclk_p\",\tR9A09G011_USB_ACLK_P,\t CLK_SEL_D,    0x40c, 5),\n\tDEF_MOD(\"usb_pclk\",\tR9A09G011_USB_PCLK,\t CLK_SEL_E,    0x40c, 6),\n\tDEF_MOD(\"syc_cnt_clk\",\tR9A09G011_SYC_CNT_CLK,\t CLK_MAIN_24,  0x41c, 12),\n\tDEF_MOD(\"iic_pclk0\",\tR9A09G011_IIC_PCLK0,\t CLK_SEL_E,    0x420, 12),\n\tDEF_MOD(\"cperi_grpb\",\tR9A09G011_CPERI_GRPB_PCLK, CLK_SEL_E,  0x424, 0),\n\tDEF_MOD(\"tim_clk_8\",\tR9A09G011_TIM8_CLK,\t CLK_MAIN_2,   0x424, 4),\n\tDEF_MOD(\"tim_clk_9\",\tR9A09G011_TIM9_CLK,\t CLK_MAIN_2,   0x424, 5),\n\tDEF_MOD(\"tim_clk_10\",\tR9A09G011_TIM10_CLK,\t CLK_MAIN_2,   0x424, 6),\n\tDEF_MOD(\"tim_clk_11\",\tR9A09G011_TIM11_CLK,\t CLK_MAIN_2,   0x424, 7),\n\tDEF_MOD(\"tim_clk_12\",\tR9A09G011_TIM12_CLK,\t CLK_MAIN_2,   0x424, 8),\n\tDEF_MOD(\"tim_clk_13\",\tR9A09G011_TIM13_CLK,\t CLK_MAIN_2,   0x424, 9),\n\tDEF_MOD(\"tim_clk_14\",\tR9A09G011_TIM14_CLK,\t CLK_MAIN_2,   0x424, 10),\n\tDEF_MOD(\"tim_clk_15\",\tR9A09G011_TIM15_CLK,\t CLK_MAIN_2,   0x424, 11),\n\tDEF_MOD(\"iic_pclk1\",\tR9A09G011_IIC_PCLK1,\t CLK_SEL_E,    0x424, 12),\n\tDEF_MOD(\"cperi_grpc\",\tR9A09G011_CPERI_GRPC_PCLK, CLK_SEL_E,  0x428, 0),\n\tDEF_MOD(\"tim_clk_16\",\tR9A09G011_TIM16_CLK,\t CLK_MAIN_2,   0x428, 4),\n\tDEF_MOD(\"tim_clk_17\",\tR9A09G011_TIM17_CLK,\t CLK_MAIN_2,   0x428, 5),\n\tDEF_MOD(\"tim_clk_18\",\tR9A09G011_TIM18_CLK,\t CLK_MAIN_2,   0x428, 6),\n\tDEF_MOD(\"tim_clk_19\",\tR9A09G011_TIM19_CLK,\t CLK_MAIN_2,   0x428, 7),\n\tDEF_MOD(\"tim_clk_20\",\tR9A09G011_TIM20_CLK,\t CLK_MAIN_2,   0x428, 8),\n\tDEF_MOD(\"tim_clk_21\",\tR9A09G011_TIM21_CLK,\t CLK_MAIN_2,   0x428, 9),\n\tDEF_MOD(\"tim_clk_22\",\tR9A09G011_TIM22_CLK,\t CLK_MAIN_2,   0x428, 10),\n\tDEF_MOD(\"tim_clk_23\",\tR9A09G011_TIM23_CLK,\t CLK_MAIN_2,   0x428, 11),\n\tDEF_MOD(\"wdt0_pclk\",\tR9A09G011_WDT0_PCLK,\t CLK_SEL_E,    0x428, 12),\n\tDEF_MOD(\"wdt0_clk\",\tR9A09G011_WDT0_CLK,\t CLK_MAIN,     0x428, 13),\n\tDEF_MOD(\"cperi_grpf\",\tR9A09G011_CPERI_GRPF_PCLK, CLK_SEL_E,  0x434, 0),\n\tDEF_MOD(\"pwm8_clk\",\tR9A09G011_PWM8_CLK,\t CLK_MAIN,     0x434, 4),\n\tDEF_MOD(\"pwm9_clk\",\tR9A09G011_PWM9_CLK,\t CLK_MAIN,     0x434, 5),\n\tDEF_MOD(\"pwm10_clk\",\tR9A09G011_PWM10_CLK,\t CLK_MAIN,     0x434, 6),\n\tDEF_MOD(\"pwm11_clk\",\tR9A09G011_PWM11_CLK,\t CLK_MAIN,     0x434, 7),\n\tDEF_MOD(\"pwm12_clk\",\tR9A09G011_PWM12_CLK,\t CLK_MAIN,     0x434, 8),\n\tDEF_MOD(\"pwm13_clk\",\tR9A09G011_PWM13_CLK,\t CLK_MAIN,     0x434, 9),\n\tDEF_MOD(\"pwm14_clk\",\tR9A09G011_PWM14_CLK,\t CLK_MAIN,     0x434, 10),\n\tDEF_MOD(\"cperi_grpg\",\tR9A09G011_CPERI_GRPG_PCLK, CLK_SEL_E,  0x438, 0),\n\tDEF_MOD(\"cperi_grph\",\tR9A09G011_CPERI_GRPH_PCLK, CLK_SEL_E,  0x438, 1),\n\tDEF_MOD(\"urt_pclk\",\tR9A09G011_URT_PCLK,\t CLK_SEL_E,    0x438, 4),\n\tDEF_MOD(\"urt0_clk\",\tR9A09G011_URT0_CLK,\t CLK_SEL_W0,   0x438, 5),\n\tDEF_MOD(\"csi0_clk\",\tR9A09G011_CSI0_CLK,\t CLK_SEL_CSI0, 0x438, 8),\n\tDEF_MOD(\"csi4_clk\",\tR9A09G011_CSI4_CLK,\t CLK_SEL_CSI4, 0x438, 12),\n\tDEF_MOD(\"ca53\",\t\tR9A09G011_CA53_CLK,\t CLK_DIV_A,    0x448, 0),\n};\n\nstatic const struct rzg2l_reset r9a09g011_resets[] = {\n\tDEF_RST(R9A09G011_PFC_PRESETN,\t\t0x600, 2),\n\tDEF_RST_MON(R9A09G011_SDI0_IXRST,\t0x608, 0,  6),\n\tDEF_RST_MON(R9A09G011_SDI1_IXRST,\t0x608, 1,  7),\n\tDEF_RST_MON(R9A09G011_EMM_IXRST,\t0x608, 2,  8),\n\tDEF_RST(R9A09G011_USB_PRESET_N,\t\t0x608, 7),\n\tDEF_RST(R9A09G011_USB_DRD_RESET,\t0x608, 8),\n\tDEF_RST(R9A09G011_USB_ARESETN_P,\t0x608, 9),\n\tDEF_RST(R9A09G011_USB_ARESETN_H,\t0x608, 10),\n\tDEF_RST_MON(R9A09G011_ETH0_RST_HW_N,\t0x608, 11, 11),\n\tDEF_RST_MON(R9A09G011_SYC_RST_N,\t0x610, 9,  13),\n\tDEF_RST(R9A09G011_TIM_GPB_PRESETN,\t0x614, 1),\n\tDEF_RST(R9A09G011_TIM_GPC_PRESETN,\t0x614, 2),\n\tDEF_RST_MON(R9A09G011_PWM_GPF_PRESETN,\t0x614, 5, 23),\n\tDEF_RST_MON(R9A09G011_CSI_GPG_PRESETN,\t0x614, 6, 22),\n\tDEF_RST_MON(R9A09G011_CSI_GPH_PRESETN,\t0x614, 7, 23),\n\tDEF_RST(R9A09G011_IIC_GPA_PRESETN,\t0x614, 8),\n\tDEF_RST(R9A09G011_IIC_GPB_PRESETN,\t0x614, 9),\n\tDEF_RST_MON(R9A09G011_WDT0_PRESETN,\t0x614, 12, 19),\n};\n\nstatic const unsigned int r9a09g011_crit_mod_clks[] __initconst = {\n\tMOD_CLK_BASE + R9A09G011_CA53_CLK,\n\tMOD_CLK_BASE + R9A09G011_CPERI_GRPB_PCLK,\n\tMOD_CLK_BASE + R9A09G011_CPERI_GRPC_PCLK,\n\tMOD_CLK_BASE + R9A09G011_CPERI_GRPF_PCLK,\n\tMOD_CLK_BASE + R9A09G011_CPERI_GRPG_PCLK,\n\tMOD_CLK_BASE + R9A09G011_CPERI_GRPH_PCLK,\n\tMOD_CLK_BASE + R9A09G011_GIC_CLK,\n\tMOD_CLK_BASE + R9A09G011_SYC_CNT_CLK,\n\tMOD_CLK_BASE + R9A09G011_URT_PCLK,\n};\n\nconst struct rzg2l_cpg_info r9a09g011_cpg_info = {\n\t \n\t.core_clks = r9a09g011_core_clks,\n\t.num_core_clks = ARRAY_SIZE(r9a09g011_core_clks),\n\t.last_dt_core_clk = LAST_DT_CORE_CLK,\n\t.num_total_core_clks = MOD_CLK_BASE,\n\n\t \n\t.crit_mod_clks = r9a09g011_crit_mod_clks,\n\t.num_crit_mod_clks = ARRAY_SIZE(r9a09g011_crit_mod_clks),\n\n\t \n\t.mod_clks = r9a09g011_mod_clks,\n\t.num_mod_clks = ARRAY_SIZE(r9a09g011_mod_clks),\n\t.num_hw_mod_clks = R9A09G011_CA53_CLK + 1,\n\n\t \n\t.resets = r9a09g011_resets,\n\t.num_resets = ARRAY_SIZE(r9a09g011_resets),\n\n\t.has_clk_mon_regs = false,\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}