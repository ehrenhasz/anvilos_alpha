{
  "module_name": "clk.c",
  "hash_id": "9544888fe3397a6cee9466817c89e50b070db6036e2be0df5685ab044d3ea51a",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/spear/clk.c",
  "human_readable_source": "\n \n\n#include <linux/clk-provider.h>\n#include <linux/types.h>\n#include \"clk.h\"\n\nlong clk_round_rate_index(struct clk_hw *hw, unsigned long drate,\n\t\tunsigned long parent_rate, clk_calc_rate calc_rate, u8 rtbl_cnt,\n\t\tint *index)\n{\n\tunsigned long prev_rate, rate = 0;\n\n\tfor (*index = 0; *index < rtbl_cnt; (*index)++) {\n\t\tprev_rate = rate;\n\t\trate = calc_rate(hw, parent_rate, *index);\n\t\tif (drate < rate) {\n\t\t\t \n\t\t\tif (*index) {\n\t\t\t\trate = prev_rate;\n\t\t\t\t(*index)--;\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif ((*index) == rtbl_cnt)\n\t\t(*index)--;\n\n\treturn rate;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}