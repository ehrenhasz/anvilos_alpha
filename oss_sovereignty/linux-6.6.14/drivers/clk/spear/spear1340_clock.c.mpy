{
  "module_name": "spear1340_clock.c",
  "hash_id": "3dd78b4b2ce0a1c5c22dde3450ee2fcbb2e711178761e6732015a359973871d2",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/spear/spear1340_clock.c",
  "human_readable_source": "\n \n\n#include <linux/clkdev.h>\n#include <linux/clk/spear.h>\n#include <linux/err.h>\n#include <linux/io.h>\n#include <linux/spinlock_types.h>\n#include \"clk.h\"\n\n \n#define SPEAR1340_SYS_CLK_CTRL\t\t\t(misc_base + 0x200)\n\t#define SPEAR1340_HCLK_SRC_SEL_SHIFT\t27\n\t#define SPEAR1340_HCLK_SRC_SEL_MASK\t1\n\t#define SPEAR1340_SCLK_SRC_SEL_SHIFT\t23\n\t#define SPEAR1340_SCLK_SRC_SEL_MASK\t3\n\n \n#define SPEAR1340_PLL_CFG\t\t\t(misc_base + 0x210)\n\t \n\t#define SPEAR1340_CLCD_SYNT_CLK_MASK\t\t1\n\t#define SPEAR1340_CLCD_SYNT_CLK_SHIFT\t\t31\n\t#define SPEAR1340_GEN_SYNT2_3_CLK_SHIFT\t\t29\n\t#define SPEAR1340_GEN_SYNT_CLK_MASK\t\t2\n\t#define SPEAR1340_GEN_SYNT0_1_CLK_SHIFT\t\t27\n\t#define SPEAR1340_PLL_CLK_MASK\t\t\t2\n\t#define SPEAR1340_PLL3_CLK_SHIFT\t\t24\n\t#define SPEAR1340_PLL2_CLK_SHIFT\t\t22\n\t#define SPEAR1340_PLL1_CLK_SHIFT\t\t20\n\n#define SPEAR1340_PLL1_CTR\t\t\t(misc_base + 0x214)\n#define SPEAR1340_PLL1_FRQ\t\t\t(misc_base + 0x218)\n#define SPEAR1340_PLL2_CTR\t\t\t(misc_base + 0x220)\n#define SPEAR1340_PLL2_FRQ\t\t\t(misc_base + 0x224)\n#define SPEAR1340_PLL3_CTR\t\t\t(misc_base + 0x22C)\n#define SPEAR1340_PLL3_FRQ\t\t\t(misc_base + 0x230)\n#define SPEAR1340_PLL4_CTR\t\t\t(misc_base + 0x238)\n#define SPEAR1340_PLL4_FRQ\t\t\t(misc_base + 0x23C)\n#define SPEAR1340_PERIP_CLK_CFG\t\t\t(misc_base + 0x244)\n\t \n\t#define SPEAR1340_SPDIF_CLK_MASK\t\t1\n\t#define SPEAR1340_SPDIF_OUT_CLK_SHIFT\t\t15\n\t#define SPEAR1340_SPDIF_IN_CLK_SHIFT\t\t14\n\t#define SPEAR1340_GPT3_CLK_SHIFT\t\t13\n\t#define SPEAR1340_GPT2_CLK_SHIFT\t\t12\n\t#define SPEAR1340_GPT_CLK_MASK\t\t\t1\n\t#define SPEAR1340_GPT1_CLK_SHIFT\t\t9\n\t#define SPEAR1340_GPT0_CLK_SHIFT\t\t8\n\t#define SPEAR1340_UART_CLK_MASK\t\t\t2\n\t#define SPEAR1340_UART1_CLK_SHIFT\t\t6\n\t#define SPEAR1340_UART0_CLK_SHIFT\t\t4\n\t#define SPEAR1340_CLCD_CLK_MASK\t\t\t2\n\t#define SPEAR1340_CLCD_CLK_SHIFT\t\t2\n\t#define SPEAR1340_C3_CLK_MASK\t\t\t1\n\t#define SPEAR1340_C3_CLK_SHIFT\t\t\t1\n\n#define SPEAR1340_GMAC_CLK_CFG\t\t\t(misc_base + 0x248)\n\t#define SPEAR1340_GMAC_PHY_CLK_MASK\t\t1\n\t#define SPEAR1340_GMAC_PHY_CLK_SHIFT\t\t2\n\t#define SPEAR1340_GMAC_PHY_INPUT_CLK_MASK\t2\n\t#define SPEAR1340_GMAC_PHY_INPUT_CLK_SHIFT\t0\n\n#define SPEAR1340_I2S_CLK_CFG\t\t\t(misc_base + 0x24C)\n\t \n\t#define SPEAR1340_I2S_SCLK_X_MASK\t\t0x1F\n\t#define SPEAR1340_I2S_SCLK_X_SHIFT\t\t27\n\t#define SPEAR1340_I2S_SCLK_Y_MASK\t\t0x1F\n\t#define SPEAR1340_I2S_SCLK_Y_SHIFT\t\t22\n\t#define SPEAR1340_I2S_SCLK_EQ_SEL_SHIFT\t\t21\n\t#define SPEAR1340_I2S_SCLK_SYNTH_ENB\t\t20\n\t#define SPEAR1340_I2S_PRS1_CLK_X_MASK\t\t0xFF\n\t#define SPEAR1340_I2S_PRS1_CLK_X_SHIFT\t\t12\n\t#define SPEAR1340_I2S_PRS1_CLK_Y_MASK\t\t0xFF\n\t#define SPEAR1340_I2S_PRS1_CLK_Y_SHIFT\t\t4\n\t#define SPEAR1340_I2S_PRS1_EQ_SEL_SHIFT\t\t3\n\t#define SPEAR1340_I2S_REF_SEL_MASK\t\t1\n\t#define SPEAR1340_I2S_REF_SHIFT\t\t\t2\n\t#define SPEAR1340_I2S_SRC_CLK_MASK\t\t2\n\t#define SPEAR1340_I2S_SRC_CLK_SHIFT\t\t0\n\n#define SPEAR1340_C3_CLK_SYNT\t\t\t(misc_base + 0x250)\n#define SPEAR1340_UART0_CLK_SYNT\t\t(misc_base + 0x254)\n#define SPEAR1340_UART1_CLK_SYNT\t\t(misc_base + 0x258)\n#define SPEAR1340_GMAC_CLK_SYNT\t\t\t(misc_base + 0x25C)\n#define SPEAR1340_SDHCI_CLK_SYNT\t\t(misc_base + 0x260)\n#define SPEAR1340_CFXD_CLK_SYNT\t\t\t(misc_base + 0x264)\n#define SPEAR1340_ADC_CLK_SYNT\t\t\t(misc_base + 0x270)\n#define SPEAR1340_AMBA_CLK_SYNT\t\t\t(misc_base + 0x274)\n#define SPEAR1340_CLCD_CLK_SYNT\t\t\t(misc_base + 0x27C)\n#define SPEAR1340_SYS_CLK_SYNT\t\t\t(misc_base + 0x284)\n#define SPEAR1340_GEN_CLK_SYNT0\t\t\t(misc_base + 0x28C)\n#define SPEAR1340_GEN_CLK_SYNT1\t\t\t(misc_base + 0x294)\n#define SPEAR1340_GEN_CLK_SYNT2\t\t\t(misc_base + 0x29C)\n#define SPEAR1340_GEN_CLK_SYNT3\t\t\t(misc_base + 0x304)\n#define SPEAR1340_PERIP1_CLK_ENB\t\t(misc_base + 0x30C)\n\t#define SPEAR1340_RTC_CLK_ENB\t\t\t31\n\t#define SPEAR1340_ADC_CLK_ENB\t\t\t30\n\t#define SPEAR1340_C3_CLK_ENB\t\t\t29\n\t#define SPEAR1340_CLCD_CLK_ENB\t\t\t27\n\t#define SPEAR1340_DMA_CLK_ENB\t\t\t25\n\t#define SPEAR1340_GPIO1_CLK_ENB\t\t\t24\n\t#define SPEAR1340_GPIO0_CLK_ENB\t\t\t23\n\t#define SPEAR1340_GPT1_CLK_ENB\t\t\t22\n\t#define SPEAR1340_GPT0_CLK_ENB\t\t\t21\n\t#define SPEAR1340_I2S_PLAY_CLK_ENB\t\t20\n\t#define SPEAR1340_I2S_REC_CLK_ENB\t\t19\n\t#define SPEAR1340_I2C0_CLK_ENB\t\t\t18\n\t#define SPEAR1340_SSP_CLK_ENB\t\t\t17\n\t#define SPEAR1340_UART0_CLK_ENB\t\t\t15\n\t#define SPEAR1340_PCIE_SATA_CLK_ENB\t\t12\n\t#define SPEAR1340_UOC_CLK_ENB\t\t\t11\n\t#define SPEAR1340_UHC1_CLK_ENB\t\t\t10\n\t#define SPEAR1340_UHC0_CLK_ENB\t\t\t9\n\t#define SPEAR1340_GMAC_CLK_ENB\t\t\t8\n\t#define SPEAR1340_CFXD_CLK_ENB\t\t\t7\n\t#define SPEAR1340_SDHCI_CLK_ENB\t\t\t6\n\t#define SPEAR1340_SMI_CLK_ENB\t\t\t5\n\t#define SPEAR1340_FSMC_CLK_ENB\t\t\t4\n\t#define SPEAR1340_SYSRAM0_CLK_ENB\t\t3\n\t#define SPEAR1340_SYSRAM1_CLK_ENB\t\t2\n\t#define SPEAR1340_SYSROM_CLK_ENB\t\t1\n\t#define SPEAR1340_BUS_CLK_ENB\t\t\t0\n\n#define SPEAR1340_PERIP2_CLK_ENB\t\t(misc_base + 0x310)\n\t#define SPEAR1340_THSENS_CLK_ENB\t\t8\n\t#define SPEAR1340_I2S_REF_PAD_CLK_ENB\t\t7\n\t#define SPEAR1340_ACP_CLK_ENB\t\t\t6\n\t#define SPEAR1340_GPT3_CLK_ENB\t\t\t5\n\t#define SPEAR1340_GPT2_CLK_ENB\t\t\t4\n\t#define SPEAR1340_KBD_CLK_ENB\t\t\t3\n\t#define SPEAR1340_CPU_DBG_CLK_ENB\t\t2\n\t#define SPEAR1340_DDR_CORE_CLK_ENB\t\t1\n\t#define SPEAR1340_DDR_CTRL_CLK_ENB\t\t0\n\n#define SPEAR1340_PERIP3_CLK_ENB\t\t(misc_base + 0x314)\n\t#define SPEAR1340_PLGPIO_CLK_ENB\t\t18\n\t#define SPEAR1340_VIDEO_DEC_CLK_ENB\t\t16\n\t#define SPEAR1340_VIDEO_ENC_CLK_ENB\t\t15\n\t#define SPEAR1340_SPDIF_OUT_CLK_ENB\t\t13\n\t#define SPEAR1340_SPDIF_IN_CLK_ENB\t\t12\n\t#define SPEAR1340_VIDEO_IN_CLK_ENB\t\t11\n\t#define SPEAR1340_CAM0_CLK_ENB\t\t\t10\n\t#define SPEAR1340_CAM1_CLK_ENB\t\t\t9\n\t#define SPEAR1340_CAM2_CLK_ENB\t\t\t8\n\t#define SPEAR1340_CAM3_CLK_ENB\t\t\t7\n\t#define SPEAR1340_MALI_CLK_ENB\t\t\t6\n\t#define SPEAR1340_CEC0_CLK_ENB\t\t\t5\n\t#define SPEAR1340_CEC1_CLK_ENB\t\t\t4\n\t#define SPEAR1340_PWM_CLK_ENB\t\t\t3\n\t#define SPEAR1340_I2C1_CLK_ENB\t\t\t2\n\t#define SPEAR1340_UART1_CLK_ENB\t\t\t1\n\nstatic DEFINE_SPINLOCK(_lock);\n\n \nstatic struct pll_rate_tbl pll_rtbl[] = {\n\t \n\t{.mode = 0, .m = 0x83, .n = 0x04, .p = 0x5},  \n\t{.mode = 0, .m = 0x7D, .n = 0x06, .p = 0x3},  \n\t{.mode = 0, .m = 0x64, .n = 0x06, .p = 0x1},  \n\t{.mode = 0, .m = 0x7D, .n = 0x06, .p = 0x1},  \n\t{.mode = 0, .m = 0xA6, .n = 0x06, .p = 0x1},  \n\t{.mode = 0, .m = 0xC8, .n = 0x06, .p = 0x1},  \n\t{.mode = 0, .m = 0x7D, .n = 0x06, .p = 0x0},  \n\t{.mode = 0, .m = 0x96, .n = 0x06, .p = 0x0},  \n};\n\n \nstatic struct pll_rate_tbl pll4_rtbl[] = {\n\t{.mode = 0, .m = 0x7D, .n = 0x06, .p = 0x2},  \n\t{.mode = 0, .m = 0xA6, .n = 0x06, .p = 0x2},  \n\t{.mode = 0, .m = 0xC8, .n = 0x06, .p = 0x2},  \n\t{.mode = 0, .m = 0x7D, .n = 0x06, .p = 0x0},  \n};\n\n \nstatic struct frac_rate_tbl amba_synth_rtbl[] = {\n\t{.div = 0x073A8},  \n\t{.div = 0x06062},  \n\t{.div = 0x04D1B},  \n\t{.div = 0x04000},  \n\t{.div = 0x03031},  \n\t{.div = 0x0268D},  \n};\n\n \nstatic struct frac_rate_tbl sys_synth_rtbl[] = {\n\t{.div = 0x08000},\n\t{.div = 0x06a38},\n\t{.div = 0x06666},\n\t{.div = 0x06000},\n\t{.div = 0x054FD},\n\t{.div = 0x05000},\n\t{.div = 0x04D18},\n\t{.div = 0x04CCE},\n\t{.div = 0x04000},\n\t{.div = 0x039D5},\n\t{.div = 0x0351E},\n\t{.div = 0x03333},\n\t{.div = 0x03031},\n\t{.div = 0x03000},\n\t{.div = 0x02A7E},\n\t{.div = 0x02800},\n\t{.div = 0x0268D},\n\t{.div = 0x02666},\n\t{.div = 0x02000},\n};\n\n \nstatic struct aux_rate_tbl aux_rtbl[] = {\n\t \n\t{.xscale = 5, .yscale = 122, .eq = 0},\n\t \n\t{.xscale = 10, .yscale = 204, .eq = 0},\n\t \n\t{.xscale = 4, .yscale = 25, .eq = 0},\n\t \n\t{.xscale = 4, .yscale = 21, .eq = 0},\n\t \n\t{.xscale = 5, .yscale = 18, .eq = 0},\n\t \n\t{.xscale = 2, .yscale = 6, .eq = 0},\n\t \n\t{.xscale = 5, .yscale = 12, .eq = 0},\n\t \n\t{.xscale = 2, .yscale = 4, .eq = 0},\n\t \n\t{.xscale = 5, .yscale = 18, .eq = 1},\n\t \n\t{.xscale = 1, .yscale = 3, .eq = 1},\n\t \n\t{.xscale = 5, .yscale = 12, .eq = 1},\n\t \n\t{.xscale = 1, .yscale = 2, .eq = 1},\n};\n\n \nstatic struct aux_rate_tbl gmac_rtbl[] = {\n\t \n\t{.xscale = 2, .yscale = 6, .eq = 0},  \n\t{.xscale = 2, .yscale = 4, .eq = 0},  \n\t{.xscale = 1, .yscale = 3, .eq = 1},  \n\t{.xscale = 1, .yscale = 2, .eq = 1},  \n};\n\n \nstatic struct frac_rate_tbl clcd_rtbl[] = {\n\t{.div = 0x18000},  \n\t{.div = 0x1638E},  \n\t{.div = 0x14000},  \n\t{.div = 0x1284B},  \n\t{.div = 0x0D8D3},  \n\t{.div = 0x0B72C},  \n\t{.div = 0x0A584},  \n\t{.div = 0x093B1},  \n\t{.div = 0x089EE},  \n\t{.div = 0x081BA},  \n\t{.div = 0x07BA0},  \n\t{.div = 0x06f1C},  \n\t{.div = 0x06E58},  \n\t{.div = 0x06c1B},  \n\t{.div = 0x058E3},  \n\t{.div = 0x04A12},  \n\t{.div = 0x040A5},  \n\t{.div = 0x0378E},  \n\t{.div = 0x0360D},  \n\t{.div = 0x035E0},  \n};\n\n \nstatic const struct aux_clk_masks i2s_prs1_masks = {\n\t.eq_sel_mask = AUX_EQ_SEL_MASK,\n\t.eq_sel_shift = SPEAR1340_I2S_PRS1_EQ_SEL_SHIFT,\n\t.eq1_mask = AUX_EQ1_SEL,\n\t.eq2_mask = AUX_EQ2_SEL,\n\t.xscale_sel_mask = SPEAR1340_I2S_PRS1_CLK_X_MASK,\n\t.xscale_sel_shift = SPEAR1340_I2S_PRS1_CLK_X_SHIFT,\n\t.yscale_sel_mask = SPEAR1340_I2S_PRS1_CLK_Y_MASK,\n\t.yscale_sel_shift = SPEAR1340_I2S_PRS1_CLK_Y_SHIFT,\n};\n\n \nstatic const struct aux_clk_masks i2s_sclk_masks = {\n\t.eq_sel_mask = AUX_EQ_SEL_MASK,\n\t.eq_sel_shift = SPEAR1340_I2S_SCLK_EQ_SEL_SHIFT,\n\t.eq1_mask = AUX_EQ1_SEL,\n\t.eq2_mask = AUX_EQ2_SEL,\n\t.xscale_sel_mask = SPEAR1340_I2S_SCLK_X_MASK,\n\t.xscale_sel_shift = SPEAR1340_I2S_SCLK_X_SHIFT,\n\t.yscale_sel_mask = SPEAR1340_I2S_SCLK_Y_MASK,\n\t.yscale_sel_shift = SPEAR1340_I2S_SCLK_Y_SHIFT,\n\t.enable_bit = SPEAR1340_I2S_SCLK_SYNTH_ENB,\n};\n\n \nstatic struct aux_rate_tbl i2s_prs1_rtbl[] = {\n\t \n\t{.xscale = 1, .yscale = 12, .eq = 0},  \n\t{.xscale = 11, .yscale = 96, .eq = 0},  \n\t{.xscale = 1, .yscale = 6, .eq = 0},  \n\t{.xscale = 11, .yscale = 48, .eq = 0},  \n\n\t \n\t{.xscale = 1, .yscale = 3, .eq = 0},\n\n\t \n\t{.xscale = 17, .yscale = 37, .eq = 0},  \n\t{.xscale = 1, .yscale = 2, .eq = 0},  \n};\n\n \nstatic struct aux_rate_tbl i2s_sclk_rtbl[] = {\n\t \n\t{.xscale = 1, .yscale = 4, .eq = 0},\n\t{.xscale = 1, .yscale = 2, .eq = 0},\n};\n\n \n \nstatic struct aux_rate_tbl adc_rtbl[] = {\n\t \n\t{.xscale = 1, .yscale = 31, .eq = 0},  \n\t{.xscale = 2, .yscale = 21, .eq = 0},  \n\t{.xscale = 4, .yscale = 21, .eq = 0},  \n\t{.xscale = 10, .yscale = 42, .eq = 0},  \n};\n\n \nstatic struct frac_rate_tbl gen_rtbl[] = {\n\t{.div = 0x1A92B},  \n\t{.div = 0x186A0},  \n\t{.div = 0x18000},  \n\t{.div = 0x1624E},  \n\t{.div = 0x14585},  \n\t{.div = 0x14000},  \n\t{.div = 0x0D495},  \n\t{.div = 0x0C000},  \n\t{.div = 0x0B127},  \n\t{.div = 0x0A000},  \n\t{.div = 0x07530},  \n\t{.div = 0x061A8},  \n\t{.div = 0x06000},  \n\t{.div = 0x05000},  \n\t{.div = 0x03000},  \n\t{.div = 0x02DB6},  \n\t{.div = 0x02BA2},  \n\t{.div = 0x029BD},  \n\t{.div = 0x02800},  \n\t{.div = 0x02666},  \n\t{.div = 0x02620},  \n\t{.div = 0x02460},  \n\t{.div = 0x022C0},  \n\t{.div = 0x02160},  \n\t{.div = 0x02000},  \n};\n\n \nstatic const char *vco_parents[] = { \"osc_24m_clk\", \"osc_25m_clk\", };\nstatic const char *sys_parents[] = { \"pll1_clk\", \"pll1_clk\", \"pll1_clk\",\n\t\"pll1_clk\", \"sys_syn_clk\", \"sys_syn_clk\", \"pll2_clk\", \"pll3_clk\", };\nstatic const char *ahb_parents[] = { \"cpu_div3_clk\", \"amba_syn_clk\", };\nstatic const char *gpt_parents[] = { \"osc_24m_clk\", \"apb_clk\", };\nstatic const char *uart0_parents[] = { \"pll5_clk\", \"osc_24m_clk\",\n\t\"uart0_syn_gclk\", };\nstatic const char *uart1_parents[] = { \"pll5_clk\", \"osc_24m_clk\",\n\t\"uart1_syn_gclk\", };\nstatic const char *c3_parents[] = { \"pll5_clk\", \"c3_syn_gclk\", };\nstatic const char *gmac_phy_input_parents[] = { \"gmii_pad_clk\", \"pll2_clk\",\n\t\"osc_25m_clk\", };\nstatic const char *gmac_phy_parents[] = { \"phy_input_mclk\", \"phy_syn_gclk\", };\nstatic const char *clcd_synth_parents[] = { \"vco1div4_clk\", \"pll2_clk\", };\nstatic const char *clcd_pixel_parents[] = { \"pll5_clk\", \"clcd_syn_clk\", };\nstatic const char *i2s_src_parents[] = { \"vco1div2_clk\", \"pll2_clk\", \"pll3_clk\",\n\t\"i2s_src_pad_clk\", };\nstatic const char *i2s_ref_parents[] = { \"i2s_src_mclk\", \"i2s_prs1_clk\", };\nstatic const char *spdif_out_parents[] = { \"i2s_src_pad_clk\", \"gen_syn2_clk\", };\nstatic const char *spdif_in_parents[] = { \"pll2_clk\", \"gen_syn3_clk\", };\n\nstatic const char *gen_synth0_1_parents[] = { \"vco1div4_clk\", \"vco3div2_clk\",\n\t\"pll3_clk\", };\nstatic const char *gen_synth2_3_parents[] = { \"vco1div4_clk\", \"vco2div2_clk\",\n\t\"pll2_clk\", };\n\nvoid __init spear1340_clk_init(void __iomem *misc_base)\n{\n\tstruct clk *clk, *clk1;\n\n\tclk = clk_register_fixed_rate(NULL, \"osc_32k_clk\", NULL, 0, 32000);\n\tclk_register_clkdev(clk, \"osc_32k_clk\", NULL);\n\n\tclk = clk_register_fixed_rate(NULL, \"osc_24m_clk\", NULL, 0, 24000000);\n\tclk_register_clkdev(clk, \"osc_24m_clk\", NULL);\n\n\tclk = clk_register_fixed_rate(NULL, \"osc_25m_clk\", NULL, 0, 25000000);\n\tclk_register_clkdev(clk, \"osc_25m_clk\", NULL);\n\n\tclk = clk_register_fixed_rate(NULL, \"gmii_pad_clk\", NULL, 0, 125000000);\n\tclk_register_clkdev(clk, \"gmii_pad_clk\", NULL);\n\n\tclk = clk_register_fixed_rate(NULL, \"i2s_src_pad_clk\", NULL, 0,\n\t\t\t\t      12288000);\n\tclk_register_clkdev(clk, \"i2s_src_pad_clk\", NULL);\n\n\t \n\tclk = clk_register_gate(NULL, \"rtc-spear\", \"osc_32k_clk\", 0,\n\t\t\tSPEAR1340_PERIP1_CLK_ENB, SPEAR1340_RTC_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"e0580000.rtc\");\n\n\t \n\t \n\tclk = clk_register_mux(NULL, \"vco1_mclk\", vco_parents,\n\t\t\tARRAY_SIZE(vco_parents), CLK_SET_RATE_NO_REPARENT,\n\t\t\tSPEAR1340_PLL_CFG, SPEAR1340_PLL1_CLK_SHIFT,\n\t\t\tSPEAR1340_PLL_CLK_MASK, 0, &_lock);\n\tclk_register_clkdev(clk, \"vco1_mclk\", NULL);\n\tclk = clk_register_vco_pll(\"vco1_clk\", \"pll1_clk\", NULL, \"vco1_mclk\", 0,\n\t\t\tSPEAR1340_PLL1_CTR, SPEAR1340_PLL1_FRQ, pll_rtbl,\n\t\t\tARRAY_SIZE(pll_rtbl), &_lock, &clk1, NULL);\n\tclk_register_clkdev(clk, \"vco1_clk\", NULL);\n\tclk_register_clkdev(clk1, \"pll1_clk\", NULL);\n\n\tclk = clk_register_mux(NULL, \"vco2_mclk\", vco_parents,\n\t\t\tARRAY_SIZE(vco_parents), CLK_SET_RATE_NO_REPARENT,\n\t\t\tSPEAR1340_PLL_CFG, SPEAR1340_PLL2_CLK_SHIFT,\n\t\t\tSPEAR1340_PLL_CLK_MASK, 0, &_lock);\n\tclk_register_clkdev(clk, \"vco2_mclk\", NULL);\n\tclk = clk_register_vco_pll(\"vco2_clk\", \"pll2_clk\", NULL, \"vco2_mclk\", 0,\n\t\t\tSPEAR1340_PLL2_CTR, SPEAR1340_PLL2_FRQ, pll_rtbl,\n\t\t\tARRAY_SIZE(pll_rtbl), &_lock, &clk1, NULL);\n\tclk_register_clkdev(clk, \"vco2_clk\", NULL);\n\tclk_register_clkdev(clk1, \"pll2_clk\", NULL);\n\n\tclk = clk_register_mux(NULL, \"vco3_mclk\", vco_parents,\n\t\t\tARRAY_SIZE(vco_parents), CLK_SET_RATE_NO_REPARENT,\n\t\t\tSPEAR1340_PLL_CFG, SPEAR1340_PLL3_CLK_SHIFT,\n\t\t\tSPEAR1340_PLL_CLK_MASK, 0, &_lock);\n\tclk_register_clkdev(clk, \"vco3_mclk\", NULL);\n\tclk = clk_register_vco_pll(\"vco3_clk\", \"pll3_clk\", NULL, \"vco3_mclk\", 0,\n\t\t\tSPEAR1340_PLL3_CTR, SPEAR1340_PLL3_FRQ, pll_rtbl,\n\t\t\tARRAY_SIZE(pll_rtbl), &_lock, &clk1, NULL);\n\tclk_register_clkdev(clk, \"vco3_clk\", NULL);\n\tclk_register_clkdev(clk1, \"pll3_clk\", NULL);\n\n\tclk = clk_register_vco_pll(\"vco4_clk\", \"pll4_clk\", NULL, \"osc_24m_clk\",\n\t\t\t0, SPEAR1340_PLL4_CTR, SPEAR1340_PLL4_FRQ, pll4_rtbl,\n\t\t\tARRAY_SIZE(pll4_rtbl), &_lock, &clk1, NULL);\n\tclk_register_clkdev(clk, \"vco4_clk\", NULL);\n\tclk_register_clkdev(clk1, \"pll4_clk\", NULL);\n\n\tclk = clk_register_fixed_rate(NULL, \"pll5_clk\", \"osc_24m_clk\", 0,\n\t\t\t48000000);\n\tclk_register_clkdev(clk, \"pll5_clk\", NULL);\n\n\tclk = clk_register_fixed_rate(NULL, \"pll6_clk\", \"osc_25m_clk\", 0,\n\t\t\t25000000);\n\tclk_register_clkdev(clk, \"pll6_clk\", NULL);\n\n\t \n\tclk = clk_register_fixed_factor(NULL, \"vco1div2_clk\", \"vco1_clk\", 0, 1,\n\t\t\t2);\n\tclk_register_clkdev(clk, \"vco1div2_clk\", NULL);\n\n\tclk = clk_register_fixed_factor(NULL, \"vco1div4_clk\", \"vco1_clk\", 0, 1,\n\t\t\t4);\n\tclk_register_clkdev(clk, \"vco1div4_clk\", NULL);\n\n\tclk = clk_register_fixed_factor(NULL, \"vco2div2_clk\", \"vco2_clk\", 0, 1,\n\t\t\t2);\n\tclk_register_clkdev(clk, \"vco2div2_clk\", NULL);\n\n\tclk = clk_register_fixed_factor(NULL, \"vco3div2_clk\", \"vco3_clk\", 0, 1,\n\t\t\t2);\n\tclk_register_clkdev(clk, \"vco3div2_clk\", NULL);\n\n\t \n\tclk_register_fixed_factor(NULL, \"thermal_clk\", \"osc_24m_clk\", 0, 1,\n\t\t\t128);\n\tclk = clk_register_gate(NULL, \"thermal_gclk\", \"thermal_clk\", 0,\n\t\t\tSPEAR1340_PERIP2_CLK_ENB, SPEAR1340_THSENS_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"e07008c4.thermal\");\n\n\t \n\tclk = clk_register_fixed_factor(NULL, \"ddr_clk\", \"pll4_clk\", 0, 1,\n\t\t\t1);\n\tclk_register_clkdev(clk, \"ddr_clk\", NULL);\n\n\t \n\tclk = clk_register_frac(\"sys_syn_clk\", \"vco1div2_clk\", 0,\n\t\t\tSPEAR1340_SYS_CLK_SYNT, sys_synth_rtbl,\n\t\t\tARRAY_SIZE(sys_synth_rtbl), &_lock);\n\tclk_register_clkdev(clk, \"sys_syn_clk\", NULL);\n\n\tclk = clk_register_frac(\"amba_syn_clk\", \"vco1div2_clk\", 0,\n\t\t\tSPEAR1340_AMBA_CLK_SYNT, amba_synth_rtbl,\n\t\t\tARRAY_SIZE(amba_synth_rtbl), &_lock);\n\tclk_register_clkdev(clk, \"amba_syn_clk\", NULL);\n\n\tclk = clk_register_mux(NULL, \"sys_mclk\", sys_parents,\n\t\t\tARRAY_SIZE(sys_parents), CLK_SET_RATE_NO_REPARENT,\n\t\t\tSPEAR1340_SYS_CLK_CTRL, SPEAR1340_SCLK_SRC_SEL_SHIFT,\n\t\t\tSPEAR1340_SCLK_SRC_SEL_MASK, 0, &_lock);\n\tclk_register_clkdev(clk, \"sys_mclk\", NULL);\n\n\tclk = clk_register_fixed_factor(NULL, \"cpu_clk\", \"sys_mclk\", 0, 1,\n\t\t\t2);\n\tclk_register_clkdev(clk, \"cpu_clk\", NULL);\n\n\tclk = clk_register_fixed_factor(NULL, \"cpu_div3_clk\", \"cpu_clk\", 0, 1,\n\t\t\t3);\n\tclk_register_clkdev(clk, \"cpu_div3_clk\", NULL);\n\n\tclk = clk_register_fixed_factor(NULL, \"wdt_clk\", \"cpu_clk\", 0, 1,\n\t\t\t2);\n\tclk_register_clkdev(clk, NULL, \"ec800620.wdt\");\n\n\tclk = clk_register_fixed_factor(NULL, \"smp_twd_clk\", \"cpu_clk\", 0, 1,\n\t\t\t2);\n\tclk_register_clkdev(clk, NULL, \"smp_twd\");\n\n\tclk = clk_register_mux(NULL, \"ahb_clk\", ahb_parents,\n\t\t\tARRAY_SIZE(ahb_parents), CLK_SET_RATE_NO_REPARENT,\n\t\t\tSPEAR1340_SYS_CLK_CTRL, SPEAR1340_HCLK_SRC_SEL_SHIFT,\n\t\t\tSPEAR1340_HCLK_SRC_SEL_MASK, 0, &_lock);\n\tclk_register_clkdev(clk, \"ahb_clk\", NULL);\n\n\tclk = clk_register_fixed_factor(NULL, \"apb_clk\", \"ahb_clk\", 0, 1,\n\t\t\t2);\n\tclk_register_clkdev(clk, \"apb_clk\", NULL);\n\n\t \n\tclk = clk_register_mux(NULL, \"gpt0_mclk\", gpt_parents,\n\t\t\tARRAY_SIZE(gpt_parents), CLK_SET_RATE_NO_REPARENT,\n\t\t\tSPEAR1340_PERIP_CLK_CFG, SPEAR1340_GPT0_CLK_SHIFT,\n\t\t\tSPEAR1340_GPT_CLK_MASK, 0, &_lock);\n\tclk_register_clkdev(clk, \"gpt0_mclk\", NULL);\n\tclk = clk_register_gate(NULL, \"gpt0_clk\", \"gpt0_mclk\", 0,\n\t\t\tSPEAR1340_PERIP1_CLK_ENB, SPEAR1340_GPT0_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"gpt0\");\n\n\tclk = clk_register_mux(NULL, \"gpt1_mclk\", gpt_parents,\n\t\t\tARRAY_SIZE(gpt_parents), CLK_SET_RATE_NO_REPARENT,\n\t\t\tSPEAR1340_PERIP_CLK_CFG, SPEAR1340_GPT1_CLK_SHIFT,\n\t\t\tSPEAR1340_GPT_CLK_MASK, 0, &_lock);\n\tclk_register_clkdev(clk, \"gpt1_mclk\", NULL);\n\tclk = clk_register_gate(NULL, \"gpt1_clk\", \"gpt1_mclk\", 0,\n\t\t\tSPEAR1340_PERIP1_CLK_ENB, SPEAR1340_GPT1_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"gpt1\");\n\n\tclk = clk_register_mux(NULL, \"gpt2_mclk\", gpt_parents,\n\t\t\tARRAY_SIZE(gpt_parents), CLK_SET_RATE_NO_REPARENT,\n\t\t\tSPEAR1340_PERIP_CLK_CFG, SPEAR1340_GPT2_CLK_SHIFT,\n\t\t\tSPEAR1340_GPT_CLK_MASK, 0, &_lock);\n\tclk_register_clkdev(clk, \"gpt2_mclk\", NULL);\n\tclk = clk_register_gate(NULL, \"gpt2_clk\", \"gpt2_mclk\", 0,\n\t\t\tSPEAR1340_PERIP2_CLK_ENB, SPEAR1340_GPT2_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"gpt2\");\n\n\tclk = clk_register_mux(NULL, \"gpt3_mclk\", gpt_parents,\n\t\t\tARRAY_SIZE(gpt_parents), CLK_SET_RATE_NO_REPARENT,\n\t\t\tSPEAR1340_PERIP_CLK_CFG, SPEAR1340_GPT3_CLK_SHIFT,\n\t\t\tSPEAR1340_GPT_CLK_MASK, 0, &_lock);\n\tclk_register_clkdev(clk, \"gpt3_mclk\", NULL);\n\tclk = clk_register_gate(NULL, \"gpt3_clk\", \"gpt3_mclk\", 0,\n\t\t\tSPEAR1340_PERIP2_CLK_ENB, SPEAR1340_GPT3_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"gpt3\");\n\n\t \n\tclk = clk_register_aux(\"uart0_syn_clk\", \"uart0_syn_gclk\",\n\t\t\t\"vco1div2_clk\", 0, SPEAR1340_UART0_CLK_SYNT, NULL,\n\t\t\taux_rtbl, ARRAY_SIZE(aux_rtbl), &_lock, &clk1);\n\tclk_register_clkdev(clk, \"uart0_syn_clk\", NULL);\n\tclk_register_clkdev(clk1, \"uart0_syn_gclk\", NULL);\n\n\tclk = clk_register_mux(NULL, \"uart0_mclk\", uart0_parents,\n\t\t\tARRAY_SIZE(uart0_parents),\n\t\t\tCLK_SET_RATE_PARENT | CLK_SET_RATE_NO_REPARENT,\n\t\t\tSPEAR1340_PERIP_CLK_CFG, SPEAR1340_UART0_CLK_SHIFT,\n\t\t\tSPEAR1340_UART_CLK_MASK, 0, &_lock);\n\tclk_register_clkdev(clk, \"uart0_mclk\", NULL);\n\n\tclk = clk_register_gate(NULL, \"uart0_clk\", \"uart0_mclk\",\n\t\t\tCLK_SET_RATE_PARENT, SPEAR1340_PERIP1_CLK_ENB,\n\t\t\tSPEAR1340_UART0_CLK_ENB, 0, &_lock);\n\tclk_register_clkdev(clk, NULL, \"e0000000.serial\");\n\n\tclk = clk_register_aux(\"uart1_syn_clk\", \"uart1_syn_gclk\",\n\t\t\t\"vco1div2_clk\", 0, SPEAR1340_UART1_CLK_SYNT, NULL,\n\t\t\taux_rtbl, ARRAY_SIZE(aux_rtbl), &_lock, &clk1);\n\tclk_register_clkdev(clk, \"uart1_syn_clk\", NULL);\n\tclk_register_clkdev(clk1, \"uart1_syn_gclk\", NULL);\n\n\tclk = clk_register_mux(NULL, \"uart1_mclk\", uart1_parents,\n\t\t\tARRAY_SIZE(uart1_parents), CLK_SET_RATE_NO_REPARENT,\n\t\t\tSPEAR1340_PERIP_CLK_CFG, SPEAR1340_UART1_CLK_SHIFT,\n\t\t\tSPEAR1340_UART_CLK_MASK, 0, &_lock);\n\tclk_register_clkdev(clk, \"uart1_mclk\", NULL);\n\n\tclk = clk_register_gate(NULL, \"uart1_clk\", \"uart1_mclk\", 0,\n\t\t\tSPEAR1340_PERIP3_CLK_ENB, SPEAR1340_UART1_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"b4100000.serial\");\n\n\tclk = clk_register_aux(\"sdhci_syn_clk\", \"sdhci_syn_gclk\",\n\t\t\t\"vco1div2_clk\", 0, SPEAR1340_SDHCI_CLK_SYNT, NULL,\n\t\t\taux_rtbl, ARRAY_SIZE(aux_rtbl), &_lock, &clk1);\n\tclk_register_clkdev(clk, \"sdhci_syn_clk\", NULL);\n\tclk_register_clkdev(clk1, \"sdhci_syn_gclk\", NULL);\n\n\tclk = clk_register_gate(NULL, \"sdhci_clk\", \"sdhci_syn_gclk\",\n\t\t\tCLK_SET_RATE_PARENT, SPEAR1340_PERIP1_CLK_ENB,\n\t\t\tSPEAR1340_SDHCI_CLK_ENB, 0, &_lock);\n\tclk_register_clkdev(clk, NULL, \"b3000000.sdhci\");\n\n\tclk = clk_register_aux(\"cfxd_syn_clk\", \"cfxd_syn_gclk\", \"vco1div2_clk\",\n\t\t\t0, SPEAR1340_CFXD_CLK_SYNT, NULL, aux_rtbl,\n\t\t\tARRAY_SIZE(aux_rtbl), &_lock, &clk1);\n\tclk_register_clkdev(clk, \"cfxd_syn_clk\", NULL);\n\tclk_register_clkdev(clk1, \"cfxd_syn_gclk\", NULL);\n\n\tclk = clk_register_gate(NULL, \"cfxd_clk\", \"cfxd_syn_gclk\",\n\t\t\tCLK_SET_RATE_PARENT, SPEAR1340_PERIP1_CLK_ENB,\n\t\t\tSPEAR1340_CFXD_CLK_ENB, 0, &_lock);\n\tclk_register_clkdev(clk, NULL, \"b2800000.cf\");\n\tclk_register_clkdev(clk, NULL, \"arasan_xd\");\n\n\tclk = clk_register_aux(\"c3_syn_clk\", \"c3_syn_gclk\", \"vco1div2_clk\", 0,\n\t\t\tSPEAR1340_C3_CLK_SYNT, NULL, aux_rtbl,\n\t\t\tARRAY_SIZE(aux_rtbl), &_lock, &clk1);\n\tclk_register_clkdev(clk, \"c3_syn_clk\", NULL);\n\tclk_register_clkdev(clk1, \"c3_syn_gclk\", NULL);\n\n\tclk = clk_register_mux(NULL, \"c3_mclk\", c3_parents,\n\t\t\tARRAY_SIZE(c3_parents),\n\t\t\tCLK_SET_RATE_PARENT | CLK_SET_RATE_NO_REPARENT,\n\t\t\tSPEAR1340_PERIP_CLK_CFG, SPEAR1340_C3_CLK_SHIFT,\n\t\t\tSPEAR1340_C3_CLK_MASK, 0, &_lock);\n\tclk_register_clkdev(clk, \"c3_mclk\", NULL);\n\n\tclk = clk_register_gate(NULL, \"c3_clk\", \"c3_mclk\", CLK_SET_RATE_PARENT,\n\t\t\tSPEAR1340_PERIP1_CLK_ENB, SPEAR1340_C3_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"e1800000.c3\");\n\n\t \n\tclk = clk_register_mux(NULL, \"phy_input_mclk\", gmac_phy_input_parents,\n\t\t\tARRAY_SIZE(gmac_phy_input_parents),\n\t\t\tCLK_SET_RATE_NO_REPARENT, SPEAR1340_GMAC_CLK_CFG,\n\t\t\tSPEAR1340_GMAC_PHY_INPUT_CLK_SHIFT,\n\t\t\tSPEAR1340_GMAC_PHY_INPUT_CLK_MASK, 0, &_lock);\n\tclk_register_clkdev(clk, \"phy_input_mclk\", NULL);\n\n\tclk = clk_register_aux(\"phy_syn_clk\", \"phy_syn_gclk\", \"phy_input_mclk\",\n\t\t\t0, SPEAR1340_GMAC_CLK_SYNT, NULL, gmac_rtbl,\n\t\t\tARRAY_SIZE(gmac_rtbl), &_lock, &clk1);\n\tclk_register_clkdev(clk, \"phy_syn_clk\", NULL);\n\tclk_register_clkdev(clk1, \"phy_syn_gclk\", NULL);\n\n\tclk = clk_register_mux(NULL, \"phy_mclk\", gmac_phy_parents,\n\t\t\tARRAY_SIZE(gmac_phy_parents), CLK_SET_RATE_NO_REPARENT,\n\t\t\tSPEAR1340_PERIP_CLK_CFG, SPEAR1340_GMAC_PHY_CLK_SHIFT,\n\t\t\tSPEAR1340_GMAC_PHY_CLK_MASK, 0, &_lock);\n\tclk_register_clkdev(clk, \"stmmacphy.0\", NULL);\n\n\t \n\tclk = clk_register_mux(NULL, \"clcd_syn_mclk\", clcd_synth_parents,\n\t\t\tARRAY_SIZE(clcd_synth_parents),\n\t\t\tCLK_SET_RATE_NO_REPARENT, SPEAR1340_CLCD_CLK_SYNT,\n\t\t\tSPEAR1340_CLCD_SYNT_CLK_SHIFT,\n\t\t\tSPEAR1340_CLCD_SYNT_CLK_MASK, 0, &_lock);\n\tclk_register_clkdev(clk, \"clcd_syn_mclk\", NULL);\n\n\tclk = clk_register_frac(\"clcd_syn_clk\", \"clcd_syn_mclk\", 0,\n\t\t\tSPEAR1340_CLCD_CLK_SYNT, clcd_rtbl,\n\t\t\tARRAY_SIZE(clcd_rtbl), &_lock);\n\tclk_register_clkdev(clk, \"clcd_syn_clk\", NULL);\n\n\tclk = clk_register_mux(NULL, \"clcd_pixel_mclk\", clcd_pixel_parents,\n\t\t\tARRAY_SIZE(clcd_pixel_parents),\n\t\t\tCLK_SET_RATE_PARENT | CLK_SET_RATE_NO_REPARENT,\n\t\t\tSPEAR1340_PERIP_CLK_CFG, SPEAR1340_CLCD_CLK_SHIFT,\n\t\t\tSPEAR1340_CLCD_CLK_MASK, 0, &_lock);\n\tclk_register_clkdev(clk, \"clcd_pixel_mclk\", NULL);\n\n\tclk = clk_register_gate(NULL, \"clcd_clk\", \"clcd_pixel_mclk\", 0,\n\t\t\tSPEAR1340_PERIP1_CLK_ENB, SPEAR1340_CLCD_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"e1000000.clcd\");\n\n\t \n\tclk = clk_register_mux(NULL, \"i2s_src_mclk\", i2s_src_parents,\n\t\t\tARRAY_SIZE(i2s_src_parents), CLK_SET_RATE_NO_REPARENT,\n\t\t\tSPEAR1340_I2S_CLK_CFG, SPEAR1340_I2S_SRC_CLK_SHIFT,\n\t\t\tSPEAR1340_I2S_SRC_CLK_MASK, 0, &_lock);\n\tclk_register_clkdev(clk, \"i2s_src_mclk\", NULL);\n\n\tclk = clk_register_aux(\"i2s_prs1_clk\", NULL, \"i2s_src_mclk\",\n\t\t\tCLK_SET_RATE_PARENT, SPEAR1340_I2S_CLK_CFG,\n\t\t\t&i2s_prs1_masks, i2s_prs1_rtbl,\n\t\t\tARRAY_SIZE(i2s_prs1_rtbl), &_lock, NULL);\n\tclk_register_clkdev(clk, \"i2s_prs1_clk\", NULL);\n\n\tclk = clk_register_mux(NULL, \"i2s_ref_mclk\", i2s_ref_parents,\n\t\t\tARRAY_SIZE(i2s_ref_parents),\n\t\t\tCLK_SET_RATE_PARENT | CLK_SET_RATE_NO_REPARENT,\n\t\t\tSPEAR1340_I2S_CLK_CFG, SPEAR1340_I2S_REF_SHIFT,\n\t\t\tSPEAR1340_I2S_REF_SEL_MASK, 0, &_lock);\n\tclk_register_clkdev(clk, \"i2s_ref_mclk\", NULL);\n\n\tclk = clk_register_gate(NULL, \"i2s_ref_pad_clk\", \"i2s_ref_mclk\", 0,\n\t\t\tSPEAR1340_PERIP2_CLK_ENB, SPEAR1340_I2S_REF_PAD_CLK_ENB,\n\t\t\t0, &_lock);\n\tclk_register_clkdev(clk, \"i2s_ref_pad_clk\", NULL);\n\n\tclk = clk_register_aux(\"i2s_sclk_clk\", \"i2s_sclk_gclk\", \"i2s_ref_mclk\",\n\t\t\t0, SPEAR1340_I2S_CLK_CFG, &i2s_sclk_masks,\n\t\t\ti2s_sclk_rtbl, ARRAY_SIZE(i2s_sclk_rtbl), &_lock,\n\t\t\t&clk1);\n\tclk_register_clkdev(clk, \"i2s_sclk_clk\", NULL);\n\tclk_register_clkdev(clk1, \"i2s_sclk_gclk\", NULL);\n\n\t \n\tclk = clk_register_gate(NULL, \"i2c0_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP1_CLK_ENB, SPEAR1340_I2C0_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"e0280000.i2c\");\n\n\tclk = clk_register_gate(NULL, \"i2c1_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP3_CLK_ENB, SPEAR1340_I2C1_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"b4000000.i2c\");\n\n\tclk = clk_register_gate(NULL, \"dma_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP1_CLK_ENB, SPEAR1340_DMA_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"ea800000.dma\");\n\tclk_register_clkdev(clk, NULL, \"eb000000.dma\");\n\n\tclk = clk_register_gate(NULL, \"gmac_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP1_CLK_ENB, SPEAR1340_GMAC_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"e2000000.eth\");\n\n\tclk = clk_register_gate(NULL, \"fsmc_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP1_CLK_ENB, SPEAR1340_FSMC_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"b0000000.flash\");\n\n\tclk = clk_register_gate(NULL, \"smi_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP1_CLK_ENB, SPEAR1340_SMI_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"ea000000.flash\");\n\n\tclk = clk_register_gate(NULL, \"usbh0_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP1_CLK_ENB, SPEAR1340_UHC0_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"e4000000.ohci\");\n\tclk_register_clkdev(clk, NULL, \"e4800000.ehci\");\n\n\tclk = clk_register_gate(NULL, \"usbh1_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP1_CLK_ENB, SPEAR1340_UHC1_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"e5000000.ohci\");\n\tclk_register_clkdev(clk, NULL, \"e5800000.ehci\");\n\n\tclk = clk_register_gate(NULL, \"uoc_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP1_CLK_ENB, SPEAR1340_UOC_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"e3800000.otg\");\n\n\tclk = clk_register_gate(NULL, \"pcie_sata_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP1_CLK_ENB, SPEAR1340_PCIE_SATA_CLK_ENB,\n\t\t\t0, &_lock);\n\tclk_register_clkdev(clk, NULL, \"b1000000.pcie\");\n\tclk_register_clkdev(clk, NULL, \"b1000000.ahci\");\n\n\tclk = clk_register_gate(NULL, \"sysram0_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP1_CLK_ENB, SPEAR1340_SYSRAM0_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, \"sysram0_clk\", NULL);\n\n\tclk = clk_register_gate(NULL, \"sysram1_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP1_CLK_ENB, SPEAR1340_SYSRAM1_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, \"sysram1_clk\", NULL);\n\n\tclk = clk_register_aux(\"adc_syn_clk\", \"adc_syn_gclk\", \"ahb_clk\",\n\t\t\t0, SPEAR1340_ADC_CLK_SYNT, NULL, adc_rtbl,\n\t\t\tARRAY_SIZE(adc_rtbl), &_lock, &clk1);\n\tclk_register_clkdev(clk, \"adc_syn_clk\", NULL);\n\tclk_register_clkdev(clk1, \"adc_syn_gclk\", NULL);\n\n\tclk = clk_register_gate(NULL, \"adc_clk\", \"adc_syn_gclk\",\n\t\t\tCLK_SET_RATE_PARENT, SPEAR1340_PERIP1_CLK_ENB,\n\t\t\tSPEAR1340_ADC_CLK_ENB, 0, &_lock);\n\tclk_register_clkdev(clk, NULL, \"e0080000.adc\");\n\n\t \n\tclk = clk_register_gate(NULL, \"ssp_clk\", \"apb_clk\", 0,\n\t\t\tSPEAR1340_PERIP1_CLK_ENB, SPEAR1340_SSP_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"e0100000.spi\");\n\n\tclk = clk_register_gate(NULL, \"gpio0_clk\", \"apb_clk\", 0,\n\t\t\tSPEAR1340_PERIP1_CLK_ENB, SPEAR1340_GPIO0_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"e0600000.gpio\");\n\n\tclk = clk_register_gate(NULL, \"gpio1_clk\", \"apb_clk\", 0,\n\t\t\tSPEAR1340_PERIP1_CLK_ENB, SPEAR1340_GPIO1_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"e0680000.gpio\");\n\n\tclk = clk_register_gate(NULL, \"i2s_play_clk\", \"apb_clk\", 0,\n\t\t\tSPEAR1340_PERIP1_CLK_ENB, SPEAR1340_I2S_PLAY_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"b2400000.i2s-play\");\n\n\tclk = clk_register_gate(NULL, \"i2s_rec_clk\", \"apb_clk\", 0,\n\t\t\tSPEAR1340_PERIP1_CLK_ENB, SPEAR1340_I2S_REC_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"b2000000.i2s-rec\");\n\n\tclk = clk_register_gate(NULL, \"kbd_clk\", \"apb_clk\", 0,\n\t\t\tSPEAR1340_PERIP2_CLK_ENB, SPEAR1340_KBD_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"e0300000.kbd\");\n\n\t \n\tclk = clk_register_mux(NULL, \"gen_syn0_1_mclk\", gen_synth0_1_parents,\n\t\t\tARRAY_SIZE(gen_synth0_1_parents),\n\t\t\tCLK_SET_RATE_NO_REPARENT, SPEAR1340_PLL_CFG,\n\t\t\tSPEAR1340_GEN_SYNT0_1_CLK_SHIFT,\n\t\t\tSPEAR1340_GEN_SYNT_CLK_MASK, 0, &_lock);\n\tclk_register_clkdev(clk, \"gen_syn0_1_mclk\", NULL);\n\n\tclk = clk_register_mux(NULL, \"gen_syn2_3_mclk\", gen_synth2_3_parents,\n\t\t\tARRAY_SIZE(gen_synth2_3_parents),\n\t\t\tCLK_SET_RATE_NO_REPARENT, SPEAR1340_PLL_CFG,\n\t\t\tSPEAR1340_GEN_SYNT2_3_CLK_SHIFT,\n\t\t\tSPEAR1340_GEN_SYNT_CLK_MASK, 0, &_lock);\n\tclk_register_clkdev(clk, \"gen_syn2_3_mclk\", NULL);\n\n\tclk = clk_register_frac(\"gen_syn0_clk\", \"gen_syn0_1_mclk\", 0,\n\t\t\tSPEAR1340_GEN_CLK_SYNT0, gen_rtbl, ARRAY_SIZE(gen_rtbl),\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, \"gen_syn0_clk\", NULL);\n\n\tclk = clk_register_frac(\"gen_syn1_clk\", \"gen_syn0_1_mclk\", 0,\n\t\t\tSPEAR1340_GEN_CLK_SYNT1, gen_rtbl, ARRAY_SIZE(gen_rtbl),\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, \"gen_syn1_clk\", NULL);\n\n\tclk = clk_register_frac(\"gen_syn2_clk\", \"gen_syn2_3_mclk\", 0,\n\t\t\tSPEAR1340_GEN_CLK_SYNT2, gen_rtbl, ARRAY_SIZE(gen_rtbl),\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, \"gen_syn2_clk\", NULL);\n\n\tclk = clk_register_frac(\"gen_syn3_clk\", \"gen_syn2_3_mclk\", 0,\n\t\t\tSPEAR1340_GEN_CLK_SYNT3, gen_rtbl, ARRAY_SIZE(gen_rtbl),\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, \"gen_syn3_clk\", NULL);\n\n\tclk = clk_register_gate(NULL, \"mali_clk\", \"gen_syn3_clk\",\n\t\t\tCLK_SET_RATE_PARENT, SPEAR1340_PERIP3_CLK_ENB,\n\t\t\tSPEAR1340_MALI_CLK_ENB, 0, &_lock);\n\tclk_register_clkdev(clk, NULL, \"mali\");\n\n\tclk = clk_register_gate(NULL, \"cec0_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP3_CLK_ENB, SPEAR1340_CEC0_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"spear_cec.0\");\n\n\tclk = clk_register_gate(NULL, \"cec1_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP3_CLK_ENB, SPEAR1340_CEC1_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"spear_cec.1\");\n\n\tclk = clk_register_mux(NULL, \"spdif_out_mclk\", spdif_out_parents,\n\t\t\tARRAY_SIZE(spdif_out_parents),\n\t\t\tCLK_SET_RATE_PARENT | CLK_SET_RATE_NO_REPARENT,\n\t\t\tSPEAR1340_PERIP_CLK_CFG, SPEAR1340_SPDIF_OUT_CLK_SHIFT,\n\t\t\tSPEAR1340_SPDIF_CLK_MASK, 0, &_lock);\n\tclk_register_clkdev(clk, \"spdif_out_mclk\", NULL);\n\n\tclk = clk_register_gate(NULL, \"spdif_out_clk\", \"spdif_out_mclk\",\n\t\t\tCLK_SET_RATE_PARENT, SPEAR1340_PERIP3_CLK_ENB,\n\t\t\tSPEAR1340_SPDIF_OUT_CLK_ENB, 0, &_lock);\n\tclk_register_clkdev(clk, NULL, \"d0000000.spdif-out\");\n\n\tclk = clk_register_mux(NULL, \"spdif_in_mclk\", spdif_in_parents,\n\t\t\tARRAY_SIZE(spdif_in_parents),\n\t\t\tCLK_SET_RATE_PARENT | CLK_SET_RATE_NO_REPARENT,\n\t\t\tSPEAR1340_PERIP_CLK_CFG, SPEAR1340_SPDIF_IN_CLK_SHIFT,\n\t\t\tSPEAR1340_SPDIF_CLK_MASK, 0, &_lock);\n\tclk_register_clkdev(clk, \"spdif_in_mclk\", NULL);\n\n\tclk = clk_register_gate(NULL, \"spdif_in_clk\", \"spdif_in_mclk\",\n\t\t\tCLK_SET_RATE_PARENT, SPEAR1340_PERIP3_CLK_ENB,\n\t\t\tSPEAR1340_SPDIF_IN_CLK_ENB, 0, &_lock);\n\tclk_register_clkdev(clk, NULL, \"d0100000.spdif-in\");\n\n\tclk = clk_register_gate(NULL, \"acp_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP2_CLK_ENB, SPEAR1340_ACP_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"acp_clk\");\n\n\tclk = clk_register_gate(NULL, \"plgpio_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP3_CLK_ENB, SPEAR1340_PLGPIO_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"e2800000.gpio\");\n\n\tclk = clk_register_gate(NULL, \"video_dec_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP3_CLK_ENB, SPEAR1340_VIDEO_DEC_CLK_ENB,\n\t\t\t0, &_lock);\n\tclk_register_clkdev(clk, NULL, \"video_dec\");\n\n\tclk = clk_register_gate(NULL, \"video_enc_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP3_CLK_ENB, SPEAR1340_VIDEO_ENC_CLK_ENB,\n\t\t\t0, &_lock);\n\tclk_register_clkdev(clk, NULL, \"video_enc\");\n\n\tclk = clk_register_gate(NULL, \"video_in_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP3_CLK_ENB, SPEAR1340_VIDEO_IN_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"spear_vip\");\n\n\tclk = clk_register_gate(NULL, \"cam0_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP3_CLK_ENB, SPEAR1340_CAM0_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"d0200000.cam0\");\n\n\tclk = clk_register_gate(NULL, \"cam1_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP3_CLK_ENB, SPEAR1340_CAM1_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"d0300000.cam1\");\n\n\tclk = clk_register_gate(NULL, \"cam2_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP3_CLK_ENB, SPEAR1340_CAM2_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"d0400000.cam2\");\n\n\tclk = clk_register_gate(NULL, \"cam3_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP3_CLK_ENB, SPEAR1340_CAM3_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"d0500000.cam3\");\n\n\tclk = clk_register_gate(NULL, \"pwm_clk\", \"ahb_clk\", 0,\n\t\t\tSPEAR1340_PERIP3_CLK_ENB, SPEAR1340_PWM_CLK_ENB, 0,\n\t\t\t&_lock);\n\tclk_register_clkdev(clk, NULL, \"e0180000.pwm\");\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}