{
  "module_name": "sifive-prci.h",
  "hash_id": "117be37c1af861cd07df520ae948fc389a3c2715f409ca57400e9c26ae1b9a3d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/sifive/sifive-prci.h",
  "human_readable_source": " \n \n\n#ifndef __SIFIVE_CLK_SIFIVE_PRCI_H\n#define __SIFIVE_CLK_SIFIVE_PRCI_H\n\n#include <linux/clk/analogbits-wrpll-cln28hpc.h>\n#include <linux/clk-provider.h>\n#include <linux/reset/reset-simple.h>\n#include <linux/platform_device.h>\n\n \n#define EXPECTED_CLK_PARENT_COUNT 2\n\n \n\n \n#define PRCI_COREPLLCFG0_OFFSET\t\t0x4\n#define PRCI_COREPLLCFG0_DIVR_SHIFT\t0\n#define PRCI_COREPLLCFG0_DIVR_MASK\t(0x3f << PRCI_COREPLLCFG0_DIVR_SHIFT)\n#define PRCI_COREPLLCFG0_DIVF_SHIFT\t6\n#define PRCI_COREPLLCFG0_DIVF_MASK\t(0x1ff << PRCI_COREPLLCFG0_DIVF_SHIFT)\n#define PRCI_COREPLLCFG0_DIVQ_SHIFT\t15\n#define PRCI_COREPLLCFG0_DIVQ_MASK\t(0x7 << PRCI_COREPLLCFG0_DIVQ_SHIFT)\n#define PRCI_COREPLLCFG0_RANGE_SHIFT\t18\n#define PRCI_COREPLLCFG0_RANGE_MASK\t(0x7 << PRCI_COREPLLCFG0_RANGE_SHIFT)\n#define PRCI_COREPLLCFG0_BYPASS_SHIFT\t24\n#define PRCI_COREPLLCFG0_BYPASS_MASK\t(0x1 << PRCI_COREPLLCFG0_BYPASS_SHIFT)\n#define PRCI_COREPLLCFG0_FSE_SHIFT\t25\n#define PRCI_COREPLLCFG0_FSE_MASK\t(0x1 << PRCI_COREPLLCFG0_FSE_SHIFT)\n#define PRCI_COREPLLCFG0_LOCK_SHIFT\t31\n#define PRCI_COREPLLCFG0_LOCK_MASK\t(0x1 << PRCI_COREPLLCFG0_LOCK_SHIFT)\n\n \n#define PRCI_COREPLLCFG1_OFFSET\t\t0x8\n#define PRCI_COREPLLCFG1_CKE_SHIFT\t31\n#define PRCI_COREPLLCFG1_CKE_MASK\t(0x1 << PRCI_COREPLLCFG1_CKE_SHIFT)\n\n \n#define PRCI_DDRPLLCFG0_OFFSET\t\t0xc\n#define PRCI_DDRPLLCFG0_DIVR_SHIFT\t0\n#define PRCI_DDRPLLCFG0_DIVR_MASK\t(0x3f << PRCI_DDRPLLCFG0_DIVR_SHIFT)\n#define PRCI_DDRPLLCFG0_DIVF_SHIFT\t6\n#define PRCI_DDRPLLCFG0_DIVF_MASK\t(0x1ff << PRCI_DDRPLLCFG0_DIVF_SHIFT)\n#define PRCI_DDRPLLCFG0_DIVQ_SHIFT\t15\n#define PRCI_DDRPLLCFG0_DIVQ_MASK\t(0x7 << PRCI_DDRPLLCFG0_DIVQ_SHIFT)\n#define PRCI_DDRPLLCFG0_RANGE_SHIFT\t18\n#define PRCI_DDRPLLCFG0_RANGE_MASK\t(0x7 << PRCI_DDRPLLCFG0_RANGE_SHIFT)\n#define PRCI_DDRPLLCFG0_BYPASS_SHIFT\t24\n#define PRCI_DDRPLLCFG0_BYPASS_MASK\t(0x1 << PRCI_DDRPLLCFG0_BYPASS_SHIFT)\n#define PRCI_DDRPLLCFG0_FSE_SHIFT\t25\n#define PRCI_DDRPLLCFG0_FSE_MASK\t(0x1 << PRCI_DDRPLLCFG0_FSE_SHIFT)\n#define PRCI_DDRPLLCFG0_LOCK_SHIFT\t31\n#define PRCI_DDRPLLCFG0_LOCK_MASK\t(0x1 << PRCI_DDRPLLCFG0_LOCK_SHIFT)\n\n \n#define PRCI_DDRPLLCFG1_OFFSET\t\t0x10\n#define PRCI_DDRPLLCFG1_CKE_SHIFT\t31\n#define PRCI_DDRPLLCFG1_CKE_MASK\t(0x1 << PRCI_DDRPLLCFG1_CKE_SHIFT)\n\n \n#define PRCI_PCIE_AUX_OFFSET\t\t0x14\n#define PRCI_PCIE_AUX_EN_SHIFT\t\t0\n#define PRCI_PCIE_AUX_EN_MASK\t\t(0x1 << PRCI_PCIE_AUX_EN_SHIFT)\n\n \n#define PRCI_GEMGXLPLLCFG0_OFFSET\t0x1c\n#define PRCI_GEMGXLPLLCFG0_DIVR_SHIFT\t0\n#define PRCI_GEMGXLPLLCFG0_DIVR_MASK\t(0x3f << PRCI_GEMGXLPLLCFG0_DIVR_SHIFT)\n#define PRCI_GEMGXLPLLCFG0_DIVF_SHIFT\t6\n#define PRCI_GEMGXLPLLCFG0_DIVF_MASK\t(0x1ff << PRCI_GEMGXLPLLCFG0_DIVF_SHIFT)\n#define PRCI_GEMGXLPLLCFG0_DIVQ_SHIFT\t15\n#define PRCI_GEMGXLPLLCFG0_DIVQ_MASK\t(0x7 << PRCI_GEMGXLPLLCFG0_DIVQ_SHIFT)\n#define PRCI_GEMGXLPLLCFG0_RANGE_SHIFT\t18\n#define PRCI_GEMGXLPLLCFG0_RANGE_MASK\t(0x7 << PRCI_GEMGXLPLLCFG0_RANGE_SHIFT)\n#define PRCI_GEMGXLPLLCFG0_BYPASS_SHIFT\t24\n#define PRCI_GEMGXLPLLCFG0_BYPASS_MASK\t(0x1 << PRCI_GEMGXLPLLCFG0_BYPASS_SHIFT)\n#define PRCI_GEMGXLPLLCFG0_FSE_SHIFT\t25\n#define PRCI_GEMGXLPLLCFG0_FSE_MASK\t(0x1 << PRCI_GEMGXLPLLCFG0_FSE_SHIFT)\n#define PRCI_GEMGXLPLLCFG0_LOCK_SHIFT\t31\n#define PRCI_GEMGXLPLLCFG0_LOCK_MASK\t(0x1 << PRCI_GEMGXLPLLCFG0_LOCK_SHIFT)\n\n \n#define PRCI_GEMGXLPLLCFG1_OFFSET\t0x20\n#define PRCI_GEMGXLPLLCFG1_CKE_SHIFT\t31\n#define PRCI_GEMGXLPLLCFG1_CKE_MASK\t(0x1 << PRCI_GEMGXLPLLCFG1_CKE_SHIFT)\n\n \n#define PRCI_CORECLKSEL_OFFSET\t\t\t0x24\n#define PRCI_CORECLKSEL_CORECLKSEL_SHIFT\t0\n#define PRCI_CORECLKSEL_CORECLKSEL_MASK\t\t\t\t\t\\\n\t\t(0x1 << PRCI_CORECLKSEL_CORECLKSEL_SHIFT)\n\n \n#define PRCI_DEVICESRESETREG_OFFSET\t\t\t\t0x28\n#define PRCI_DEVICESRESETREG_DDR_CTRL_RST_N_SHIFT\t\t0\n#define PRCI_DEVICESRESETREG_DDR_CTRL_RST_N_MASK\t\t\t\\\n\t\t(0x1 << PRCI_DEVICESRESETREG_DDR_CTRL_RST_N_SHIFT)\n#define PRCI_DEVICESRESETREG_DDR_AXI_RST_N_SHIFT\t\t1\n#define PRCI_DEVICESRESETREG_DDR_AXI_RST_N_MASK\t\t\t\t\\\n\t\t(0x1 << PRCI_DEVICESRESETREG_DDR_AXI_RST_N_SHIFT)\n#define PRCI_DEVICESRESETREG_DDR_AHB_RST_N_SHIFT\t\t2\n#define PRCI_DEVICESRESETREG_DDR_AHB_RST_N_MASK\t\t\t\t\\\n\t\t(0x1 << PRCI_DEVICESRESETREG_DDR_AHB_RST_N_SHIFT)\n#define PRCI_DEVICESRESETREG_DDR_PHY_RST_N_SHIFT\t\t3\n#define PRCI_DEVICESRESETREG_DDR_PHY_RST_N_MASK\t\t\t\t\\\n\t\t(0x1 << PRCI_DEVICESRESETREG_DDR_PHY_RST_N_SHIFT)\n#define PRCI_DEVICESRESETREG_GEMGXL_RST_N_SHIFT\t\t\t5\n#define PRCI_DEVICESRESETREG_GEMGXL_RST_N_MASK\t\t\t\t\\\n\t\t(0x1 << PRCI_DEVICESRESETREG_GEMGXL_RST_N_SHIFT)\n#define PRCI_DEVICESRESETREG_CHIPLINK_RST_N_SHIFT\t\t6\n#define PRCI_DEVICESRESETREG_CHIPLINK_RST_N_MASK\t\t\t\\\n\t\t(0x1 << PRCI_DEVICESRESETREG_CHIPLINK_RST_N_SHIFT)\n\n#define PRCI_RST_NR\t\t\t\t\t\t7\n\n \n#define PRCI_CLKMUXSTATUSREG_OFFSET\t\t\t\t0x2c\n#define PRCI_CLKMUXSTATUSREG_TLCLKSEL_STATUS_SHIFT\t\t1\n#define PRCI_CLKMUXSTATUSREG_TLCLKSEL_STATUS_MASK\t\t\t\\\n\t\t(0x1 << PRCI_CLKMUXSTATUSREG_TLCLKSEL_STATUS_SHIFT)\n\n \n#define PRCI_CLTXPLLCFG0_OFFSET\t\t0x30\n#define PRCI_CLTXPLLCFG0_DIVR_SHIFT\t0\n#define PRCI_CLTXPLLCFG0_DIVR_MASK\t(0x3f << PRCI_CLTXPLLCFG0_DIVR_SHIFT)\n#define PRCI_CLTXPLLCFG0_DIVF_SHIFT\t6\n#define PRCI_CLTXPLLCFG0_DIVF_MASK\t(0x1ff << PRCI_CLTXPLLCFG0_DIVF_SHIFT)\n#define PRCI_CLTXPLLCFG0_DIVQ_SHIFT\t15\n#define PRCI_CLTXPLLCFG0_DIVQ_MASK\t(0x7 << PRCI_CLTXPLLCFG0_DIVQ_SHIFT)\n#define PRCI_CLTXPLLCFG0_RANGE_SHIFT\t18\n#define PRCI_CLTXPLLCFG0_RANGE_MASK\t(0x7 << PRCI_CLTXPLLCFG0_RANGE_SHIFT)\n#define PRCI_CLTXPLLCFG0_BYPASS_SHIFT\t24\n#define PRCI_CLTXPLLCFG0_BYPASS_MASK\t(0x1 << PRCI_CLTXPLLCFG0_BYPASS_SHIFT)\n#define PRCI_CLTXPLLCFG0_FSE_SHIFT\t25\n#define PRCI_CLTXPLLCFG0_FSE_MASK\t(0x1 << PRCI_CLTXPLLCFG0_FSE_SHIFT)\n#define PRCI_CLTXPLLCFG0_LOCK_SHIFT\t31\n#define PRCI_CLTXPLLCFG0_LOCK_MASK\t(0x1 << PRCI_CLTXPLLCFG0_LOCK_SHIFT)\n\n \n#define PRCI_CLTXPLLCFG1_OFFSET\t\t0x34\n#define PRCI_CLTXPLLCFG1_CKE_SHIFT\t31\n#define PRCI_CLTXPLLCFG1_CKE_MASK\t(0x1 << PRCI_CLTXPLLCFG1_CKE_SHIFT)\n\n \n#define PRCI_DVFSCOREPLLCFG0_OFFSET\t0x38\n\n \n#define PRCI_DVFSCOREPLLCFG1_OFFSET\t0x3c\n#define PRCI_DVFSCOREPLLCFG1_CKE_SHIFT\t31\n#define PRCI_DVFSCOREPLLCFG1_CKE_MASK\t(0x1 << PRCI_DVFSCOREPLLCFG1_CKE_SHIFT)\n\n \n#define PRCI_COREPLLSEL_OFFSET\t\t\t0x40\n#define PRCI_COREPLLSEL_COREPLLSEL_SHIFT\t0\n#define PRCI_COREPLLSEL_COREPLLSEL_MASK\t\t\t\t\t\\\n\t\t(0x1 << PRCI_COREPLLSEL_COREPLLSEL_SHIFT)\n\n \n#define PRCI_HFPCLKPLLCFG0_OFFSET\t\t0x50\n#define PRCI_HFPCLKPLL_CFG0_DIVR_SHIFT\t\t0\n#define PRCI_HFPCLKPLL_CFG0_DIVR_MASK\t\t\t\t\t\\\n\t\t(0x3f << PRCI_HFPCLKPLLCFG0_DIVR_SHIFT)\n#define PRCI_HFPCLKPLL_CFG0_DIVF_SHIFT\t\t6\n#define PRCI_HFPCLKPLL_CFG0_DIVF_MASK\t\t\t\t\t\\\n\t\t(0x1ff << PRCI_HFPCLKPLLCFG0_DIVF_SHIFT)\n#define PRCI_HFPCLKPLL_CFG0_DIVQ_SHIFT\t\t15\n#define PRCI_HFPCLKPLL_CFG0_DIVQ_MASK\t\t\t\t\t\\\n\t\t(0x7 << PRCI_HFPCLKPLLCFG0_DIVQ_SHIFT)\n#define PRCI_HFPCLKPLL_CFG0_RANGE_SHIFT\t\t18\n#define PRCI_HFPCLKPLL_CFG0_RANGE_MASK\t\t\t\t\t\\\n\t\t(0x7 << PRCI_HFPCLKPLLCFG0_RANGE_SHIFT)\n#define PRCI_HFPCLKPLL_CFG0_BYPASS_SHIFT\t24\n#define PRCI_HFPCLKPLL_CFG0_BYPASS_MASK\t\t\t\t\t\\\n\t\t(0x1 << PRCI_HFPCLKPLLCFG0_BYPASS_SHIFT)\n#define PRCI_HFPCLKPLL_CFG0_FSE_SHIFT\t\t25\n#define PRCI_HFPCLKPLL_CFG0_FSE_MASK\t\t\t\t\t\\\n\t\t(0x1 << PRCI_HFPCLKPLLCFG0_FSE_SHIFT)\n#define PRCI_HFPCLKPLL_CFG0_LOCK_SHIFT\t\t31\n#define PRCI_HFPCLKPLL_CFG0_LOCK_MASK\t\t\t\t\t\\\n\t\t(0x1 << PRCI_HFPCLKPLLCFG0_LOCK_SHIFT)\n\n \n#define PRCI_HFPCLKPLLCFG1_OFFSET\t\t0x54\n#define PRCI_HFPCLKPLLCFG1_CKE_SHIFT\t\t31\n#define PRCI_HFPCLKPLLCFG1_CKE_MASK\t\t\t\t\t\\\n\t\t(0x1 << PRCI_HFPCLKPLLCFG1_CKE_SHIFT)\n\n \n#define PRCI_HFPCLKPLLSEL_OFFSET\t\t0x58\n#define PRCI_HFPCLKPLLSEL_HFPCLKPLLSEL_SHIFT\t0\n#define PRCI_HFPCLKPLLSEL_HFPCLKPLLSEL_MASK\t\t\t\t\\\n\t\t(0x1 << PRCI_HFPCLKPLLSEL_HFPCLKPLLSEL_SHIFT)\n\n \n#define PRCI_HFPCLKPLLDIV_OFFSET\t\t0x5c\n\n \n#define PRCI_PRCIPLL_OFFSET\t\t\t0xe0\n\n \n#define PRCI_PROCMONCFG_OFFSET\t\t\t0xf0\n\n \n\n \nstruct __prci_data {\n\tvoid __iomem *va;\n\tstruct reset_simple_data reset;\n\tstruct clk_hw_onecell_data hw_clks;\n};\n\n \nstruct __prci_wrpll_data {\n\tstruct wrpll_cfg c;\n\tvoid (*enable_bypass)(struct __prci_data *pd);\n\tvoid (*disable_bypass)(struct __prci_data *pd);\n\tu8 cfg0_offs;\n\tu8 cfg1_offs;\n};\n\n \nstruct __prci_clock {\n\tconst char *name;\n\tconst char *parent_name;\n\tconst struct clk_ops *ops;\n\tstruct clk_hw hw;\n\tstruct __prci_wrpll_data *pwd;\n\tstruct __prci_data *pd;\n};\n\n#define clk_hw_to_prci_clock(pwd) container_of(pwd, struct __prci_clock, hw)\n\n \nstruct prci_clk_desc {\n\tstruct __prci_clock *clks;\n\tsize_t num_clks;\n};\n\n \nvoid sifive_prci_coreclksel_use_hfclk(struct __prci_data *pd);\nvoid sifive_prci_coreclksel_use_corepll(struct __prci_data *pd);\nvoid sifive_prci_coreclksel_use_final_corepll(struct __prci_data *pd);\nvoid sifive_prci_corepllsel_use_dvfscorepll(struct __prci_data *pd);\nvoid sifive_prci_corepllsel_use_corepll(struct __prci_data *pd);\nvoid sifive_prci_hfpclkpllsel_use_hfclk(struct __prci_data *pd);\nvoid sifive_prci_hfpclkpllsel_use_hfpclkpll(struct __prci_data *pd);\n\n \nlong sifive_prci_wrpll_round_rate(struct clk_hw *hw, unsigned long rate,\n\t\t\t\t  unsigned long *parent_rate);\nint sifive_prci_wrpll_set_rate(struct clk_hw *hw, unsigned long rate,\n\t\t\t       unsigned long parent_rate);\nint sifive_clk_is_enabled(struct clk_hw *hw);\nint sifive_prci_clock_enable(struct clk_hw *hw);\nvoid sifive_prci_clock_disable(struct clk_hw *hw);\nunsigned long sifive_prci_wrpll_recalc_rate(struct clk_hw *hw,\n\t\t\t\t\t    unsigned long parent_rate);\nunsigned long sifive_prci_tlclksel_recalc_rate(struct clk_hw *hw,\n\t\t\t\t\t       unsigned long parent_rate);\nunsigned long sifive_prci_hfpclkplldiv_recalc_rate(struct clk_hw *hw,\n\t\t\t\t\t\t   unsigned long parent_rate);\n\nint sifive_prci_pcie_aux_clock_is_enabled(struct clk_hw *hw);\nint sifive_prci_pcie_aux_clock_enable(struct clk_hw *hw);\nvoid sifive_prci_pcie_aux_clock_disable(struct clk_hw *hw);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}