{
  "module_name": "clk-mt2712-mm.c",
  "hash_id": "6d31ad853aac416d2be45c8f753515808262424ae5343ab0bf3c73ec744368bd",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/mediatek/clk-mt2712-mm.c",
  "human_readable_source": "\n \n\n#include <linux/clk-provider.h>\n#include <linux/platform_device.h>\n\n#include \"clk-mtk.h\"\n#include \"clk-gate.h\"\n\n#include <dt-bindings/clock/mt2712-clk.h>\n\nstatic const struct mtk_gate_regs mm0_cg_regs = {\n\t.set_ofs = 0x104,\n\t.clr_ofs = 0x108,\n\t.sta_ofs = 0x100,\n};\n\nstatic const struct mtk_gate_regs mm1_cg_regs = {\n\t.set_ofs = 0x114,\n\t.clr_ofs = 0x118,\n\t.sta_ofs = 0x110,\n};\n\nstatic const struct mtk_gate_regs mm2_cg_regs = {\n\t.set_ofs = 0x224,\n\t.clr_ofs = 0x228,\n\t.sta_ofs = 0x220,\n};\n\n#define GATE_MM0(_id, _name, _parent, _shift)\t\\\n\tGATE_MTK(_id, _name, _parent, &mm0_cg_regs, _shift, &mtk_clk_gate_ops_setclr)\n\n#define GATE_MM1(_id, _name, _parent, _shift)\t\\\n\tGATE_MTK(_id, _name, _parent, &mm1_cg_regs, _shift, &mtk_clk_gate_ops_setclr)\n\n#define GATE_MM2(_id, _name, _parent, _shift)\t\\\n\tGATE_MTK(_id, _name, _parent, &mm2_cg_regs, _shift, &mtk_clk_gate_ops_setclr)\n\nstatic const struct mtk_gate mm_clks[] = {\n\t \n\tGATE_MM0(CLK_MM_SMI_COMMON, \"mm_smi_common\", \"mm_sel\", 0),\n\tGATE_MM0(CLK_MM_SMI_LARB0, \"mm_smi_larb0\", \"mm_sel\", 1),\n\tGATE_MM0(CLK_MM_CAM_MDP, \"mm_cam_mdp\", \"mm_sel\", 2),\n\tGATE_MM0(CLK_MM_MDP_RDMA0, \"mm_mdp_rdma0\", \"mm_sel\", 3),\n\tGATE_MM0(CLK_MM_MDP_RDMA1, \"mm_mdp_rdma1\", \"mm_sel\", 4),\n\tGATE_MM0(CLK_MM_MDP_RSZ0, \"mm_mdp_rsz0\", \"mm_sel\", 5),\n\tGATE_MM0(CLK_MM_MDP_RSZ1, \"mm_mdp_rsz1\", \"mm_sel\", 6),\n\tGATE_MM0(CLK_MM_MDP_RSZ2, \"mm_mdp_rsz2\", \"mm_sel\", 7),\n\tGATE_MM0(CLK_MM_MDP_TDSHP0, \"mm_mdp_tdshp0\", \"mm_sel\", 8),\n\tGATE_MM0(CLK_MM_MDP_TDSHP1, \"mm_mdp_tdshp1\", \"mm_sel\", 9),\n\tGATE_MM0(CLK_MM_MDP_CROP, \"mm_mdp_crop\", \"mm_sel\", 10),\n\tGATE_MM0(CLK_MM_MDP_WDMA, \"mm_mdp_wdma\", \"mm_sel\", 11),\n\tGATE_MM0(CLK_MM_MDP_WROT0, \"mm_mdp_wrot0\", \"mm_sel\", 12),\n\tGATE_MM0(CLK_MM_MDP_WROT1, \"mm_mdp_wrot1\", \"mm_sel\", 13),\n\tGATE_MM0(CLK_MM_FAKE_ENG, \"mm_fake_eng\", \"mm_sel\", 14),\n\tGATE_MM0(CLK_MM_MUTEX_32K, \"mm_mutex_32k\", \"clk32k\", 15),\n\tGATE_MM0(CLK_MM_DISP_OVL0, \"mm_disp_ovl0\", \"mm_sel\", 16),\n\tGATE_MM0(CLK_MM_DISP_OVL1, \"mm_disp_ovl1\", \"mm_sel\", 17),\n\tGATE_MM0(CLK_MM_DISP_RDMA0, \"mm_disp_rdma0\", \"mm_sel\", 18),\n\tGATE_MM0(CLK_MM_DISP_RDMA1, \"mm_disp_rdma1\", \"mm_sel\", 19),\n\tGATE_MM0(CLK_MM_DISP_RDMA2, \"mm_disp_rdma2\", \"mm_sel\", 20),\n\tGATE_MM0(CLK_MM_DISP_WDMA0, \"mm_disp_wdma0\", \"mm_sel\", 21),\n\tGATE_MM0(CLK_MM_DISP_WDMA1, \"mm_disp_wdma1\", \"mm_sel\", 22),\n\tGATE_MM0(CLK_MM_DISP_COLOR0, \"mm_disp_color0\", \"mm_sel\", 23),\n\tGATE_MM0(CLK_MM_DISP_COLOR1, \"mm_disp_color1\", \"mm_sel\", 24),\n\tGATE_MM0(CLK_MM_DISP_AAL, \"mm_disp_aal\", \"mm_sel\", 25),\n\tGATE_MM0(CLK_MM_DISP_GAMMA, \"mm_disp_gamma\", \"mm_sel\", 26),\n\tGATE_MM0(CLK_MM_DISP_UFOE, \"mm_disp_ufoe\", \"mm_sel\", 27),\n\tGATE_MM0(CLK_MM_DISP_SPLIT0, \"mm_disp_split0\", \"mm_sel\", 28),\n\tGATE_MM0(CLK_MM_DISP_OD, \"mm_disp_od\", \"mm_sel\", 31),\n\t \n\tGATE_MM1(CLK_MM_DISP_PWM0_MM, \"mm_pwm0_mm\", \"mm_sel\", 0),\n\tGATE_MM1(CLK_MM_DISP_PWM0_26M, \"mm_pwm0_26m\", \"pwm_sel\", 1),\n\tGATE_MM1(CLK_MM_DISP_PWM1_MM, \"mm_pwm1_mm\", \"mm_sel\", 2),\n\tGATE_MM1(CLK_MM_DISP_PWM1_26M, \"mm_pwm1_26m\", \"pwm_sel\", 3),\n\tGATE_MM1(CLK_MM_DSI0_ENGINE, \"mm_dsi0_engine\", \"mm_sel\", 4),\n\tGATE_MM1(CLK_MM_DSI0_DIGITAL, \"mm_dsi0_digital\", \"dsi0_lntc\", 5),\n\tGATE_MM1(CLK_MM_DSI1_ENGINE, \"mm_dsi1_engine\", \"mm_sel\", 6),\n\tGATE_MM1(CLK_MM_DSI1_DIGITAL, \"mm_dsi1_digital\", \"dsi1_lntc\", 7),\n\tGATE_MM1(CLK_MM_DPI_PIXEL, \"mm_dpi_pixel\", \"vpll_dpix\", 8),\n\tGATE_MM1(CLK_MM_DPI_ENGINE, \"mm_dpi_engine\", \"mm_sel\", 9),\n\tGATE_MM1(CLK_MM_DPI1_PIXEL, \"mm_dpi1_pixel\", \"vpll3_dpix\", 10),\n\tGATE_MM1(CLK_MM_DPI1_ENGINE, \"mm_dpi1_engine\", \"mm_sel\", 11),\n\tGATE_MM1(CLK_MM_LVDS_PIXEL, \"mm_lvds_pixel\", \"vpll_dpix\", 16),\n\tGATE_MM1(CLK_MM_LVDS_CTS, \"mm_lvds_cts\", \"lvdstx\", 17),\n\tGATE_MM1(CLK_MM_SMI_LARB4, \"mm_smi_larb4\", \"mm_sel\", 18),\n\tGATE_MM1(CLK_MM_SMI_COMMON1, \"mm_smi_common1\", \"mm_sel\", 21),\n\tGATE_MM1(CLK_MM_SMI_LARB5, \"mm_smi_larb5\", \"mm_sel\", 22),\n\tGATE_MM1(CLK_MM_MDP_RDMA2, \"mm_mdp_rdma2\", \"mm_sel\", 23),\n\tGATE_MM1(CLK_MM_MDP_TDSHP2, \"mm_mdp_tdshp2\", \"mm_sel\", 24),\n\tGATE_MM1(CLK_MM_DISP_OVL2, \"mm_disp_ovl2\", \"mm_sel\", 25),\n\tGATE_MM1(CLK_MM_DISP_WDMA2, \"mm_disp_wdma2\", \"mm_sel\", 26),\n\tGATE_MM1(CLK_MM_DISP_COLOR2, \"mm_disp_color2\", \"mm_sel\", 27),\n\tGATE_MM1(CLK_MM_DISP_AAL1, \"mm_disp_aal1\", \"mm_sel\", 28),\n\tGATE_MM1(CLK_MM_DISP_OD1, \"mm_disp_od1\", \"mm_sel\", 29),\n\tGATE_MM1(CLK_MM_LVDS1_PIXEL, \"mm_lvds1_pixel\", \"vpll3_dpix\", 30),\n\tGATE_MM1(CLK_MM_LVDS1_CTS, \"mm_lvds1_cts\", \"lvdstx3\", 31),\n\t \n\tGATE_MM2(CLK_MM_SMI_LARB7, \"mm_smi_larb7\", \"mm_sel\", 0),\n\tGATE_MM2(CLK_MM_MDP_RDMA3, \"mm_mdp_rdma3\", \"mm_sel\", 1),\n\tGATE_MM2(CLK_MM_MDP_WROT2, \"mm_mdp_wrot2\", \"mm_sel\", 2),\n\tGATE_MM2(CLK_MM_DSI2, \"mm_dsi2\", \"mm_sel\", 3),\n\tGATE_MM2(CLK_MM_DSI2_DIGITAL, \"mm_dsi2_digital\", \"dsi0_lntc\", 4),\n\tGATE_MM2(CLK_MM_DSI3, \"mm_dsi3\", \"mm_sel\", 5),\n\tGATE_MM2(CLK_MM_DSI3_DIGITAL, \"mm_dsi3_digital\", \"dsi1_lntc\", 6),\n};\n\nstatic const struct mtk_clk_desc mm_desc = {\n\t.clks = mm_clks,\n\t.num_clks = ARRAY_SIZE(mm_clks),\n};\n\nstatic const struct platform_device_id clk_mt2712_mm_id_table[] = {\n\t{ .name = \"clk-mt2712-mm\", .driver_data = (kernel_ulong_t)&mm_desc },\n\t{   }\n};\nMODULE_DEVICE_TABLE(platform, clk_mt2712_mm_id_table);\n\nstatic struct platform_driver clk_mt2712_mm_drv = {\n\t.probe = mtk_clk_pdev_probe,\n\t.remove_new = mtk_clk_pdev_remove,\n\t.driver = {\n\t\t.name = \"clk-mt2712-mm\",\n\t},\n\t.id_table = clk_mt2712_mm_id_table,\n};\nmodule_platform_driver(clk_mt2712_mm_drv);\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}