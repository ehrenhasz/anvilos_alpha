{
  "module_name": "clk-mt2712.c",
  "hash_id": "b602515953e4c7a9457338a3fd2b56d529af991ca89b195146e9525b29120001",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/mediatek/clk-mt2712.c",
  "human_readable_source": "\n \n\n#include <linux/clk.h>\n#include <linux/delay.h>\n#include <linux/mfd/syscon.h>\n#include <linux/mod_devicetable.h>\n#include <linux/platform_device.h>\n#include <linux/slab.h>\n\n#include \"clk-gate.h\"\n#include \"clk-mtk.h\"\n\n#include <dt-bindings/clock/mt2712-clk.h>\n\nstatic DEFINE_SPINLOCK(mt2712_clk_lock);\n\nstatic const struct mtk_fixed_clk top_fixed_clks[] = {\n\tFIXED_CLK(CLK_TOP_VPLL3_DPIX, \"vpll3_dpix\", NULL, 200000000),\n\tFIXED_CLK(CLK_TOP_VPLL_DPIX, \"vpll_dpix\", NULL, 200000000),\n\tFIXED_CLK(CLK_TOP_LTEPLL_FS26M, \"ltepll_fs26m\", NULL, 26000000),\n\tFIXED_CLK(CLK_TOP_DMPLL, \"dmpll_ck\", NULL, 350000000),\n\tFIXED_CLK(CLK_TOP_DSI0_LNTC, \"dsi0_lntc\", NULL, 143000000),\n\tFIXED_CLK(CLK_TOP_DSI1_LNTC, \"dsi1_lntc\", NULL, 143000000),\n\tFIXED_CLK(CLK_TOP_LVDSTX3_CLKDIG_CTS, \"lvdstx3\", NULL, 140000000),\n\tFIXED_CLK(CLK_TOP_LVDSTX_CLKDIG_CTS, \"lvdstx\", NULL, 140000000),\n\tFIXED_CLK(CLK_TOP_CLKRTC_EXT, \"clkrtc_ext\", NULL, 32768),\n\tFIXED_CLK(CLK_TOP_CLKRTC_INT, \"clkrtc_int\", NULL, 32747),\n\tFIXED_CLK(CLK_TOP_CSI0, \"csi0\", NULL, 26000000),\n\tFIXED_CLK(CLK_TOP_CVBSPLL, \"cvbspll\", NULL, 108000000),\n};\n\nstatic const struct mtk_fixed_factor top_divs[] = {\n\tFACTOR(CLK_TOP_SYS_26M, \"sys_26m\", \"clk26m\", 1, 1),\n\tFACTOR(CLK_TOP_CLK26M_D2, \"clk26m_d2\", \"sys_26m\", 1, 2),\n\tFACTOR(CLK_TOP_ARMCA35PLL, \"armca35pll_ck\", \"armca35pll\", 1, 1),\n\tFACTOR(CLK_TOP_ARMCA35PLL_600M, \"armca35pll_600m\", \"armca35pll_ck\", 1, 2),\n\tFACTOR(CLK_TOP_ARMCA35PLL_400M, \"armca35pll_400m\", \"armca35pll_ck\", 1, 3),\n\tFACTOR(CLK_TOP_ARMCA72PLL, \"armca72pll_ck\", \"armca72pll\", 1, 1),\n\tFACTOR(CLK_TOP_SYSPLL, \"syspll_ck\", \"mainpll\", 1, 1),\n\tFACTOR(CLK_TOP_SYSPLL_D2, \"syspll_d2\", \"syspll_ck\", 1, 2),\n\tFACTOR(CLK_TOP_SYSPLL1_D2, \"syspll1_d2\", \"syspll_d2\", 1, 2),\n\tFACTOR(CLK_TOP_SYSPLL1_D4, \"syspll1_d4\", \"syspll_d2\", 1, 4),\n\tFACTOR(CLK_TOP_SYSPLL1_D8, \"syspll1_d8\", \"syspll_d2\", 1, 8),\n\tFACTOR(CLK_TOP_SYSPLL1_D16, \"syspll1_d16\", \"syspll_d2\", 1, 16),\n\tFACTOR(CLK_TOP_SYSPLL_D3, \"syspll_d3\", \"syspll_ck\", 1, 3),\n\tFACTOR(CLK_TOP_SYSPLL2_D2, \"syspll2_d2\", \"syspll_d3\", 1, 2),\n\tFACTOR(CLK_TOP_SYSPLL2_D4, \"syspll2_d4\", \"syspll_d3\", 1, 4),\n\tFACTOR(CLK_TOP_SYSPLL_D5, \"syspll_d5\", \"syspll_ck\", 1, 5),\n\tFACTOR(CLK_TOP_SYSPLL3_D2, \"syspll3_d2\", \"syspll_d5\", 1, 2),\n\tFACTOR(CLK_TOP_SYSPLL3_D4, \"syspll3_d4\", \"syspll_d5\", 1, 4),\n\tFACTOR(CLK_TOP_SYSPLL_D7, \"syspll_d7\", \"syspll_ck\", 1, 7),\n\tFACTOR(CLK_TOP_SYSPLL4_D2, \"syspll4_d2\", \"syspll_d7\", 1, 2),\n\tFACTOR(CLK_TOP_SYSPLL4_D4, \"syspll4_d4\", \"syspll_d7\", 1, 4),\n\tFACTOR(CLK_TOP_UNIVPLL, \"univpll_ck\", \"univpll\", 1, 1),\n\tFACTOR(CLK_TOP_UNIVPLL_D7, \"univpll_d7\", \"univpll_ck\", 1, 7),\n\tFACTOR(CLK_TOP_UNIVPLL_D26, \"univpll_d26\", \"univpll_ck\", 1, 26),\n\tFACTOR(CLK_TOP_UNIVPLL_D52, \"univpll_d52\", \"univpll_ck\", 1, 52),\n\tFACTOR(CLK_TOP_UNIVPLL_D104, \"univpll_d104\", \"univpll_ck\", 1, 104),\n\tFACTOR(CLK_TOP_UNIVPLL_D208, \"univpll_d208\", \"univpll_ck\", 1, 208),\n\tFACTOR(CLK_TOP_UNIVPLL_D2, \"univpll_d2\", \"univpll_ck\", 1, 2),\n\tFACTOR(CLK_TOP_UNIVPLL1_D2, \"univpll1_d2\", \"univpll_d2\", 1, 2),\n\tFACTOR(CLK_TOP_UNIVPLL1_D4, \"univpll1_d4\", \"univpll_d2\", 1, 4),\n\tFACTOR(CLK_TOP_UNIVPLL1_D8, \"univpll1_d8\", \"univpll_d2\", 1, 8),\n\tFACTOR(CLK_TOP_UNIVPLL_D3, \"univpll_d3\", \"univpll_ck\", 1, 3),\n\tFACTOR(CLK_TOP_UNIVPLL2_D2, \"univpll2_d2\", \"univpll_d3\", 1, 2),\n\tFACTOR(CLK_TOP_UNIVPLL2_D4, \"univpll2_d4\", \"univpll_d3\", 1, 4),\n\tFACTOR(CLK_TOP_UNIVPLL2_D8, \"univpll2_d8\", \"univpll_d3\", 1, 8),\n\tFACTOR(CLK_TOP_UNIVPLL_D5, \"univpll_d5\", \"univpll_ck\", 1, 5),\n\tFACTOR(CLK_TOP_UNIVPLL3_D2, \"univpll3_d2\", \"univpll_d5\", 1, 2),\n\tFACTOR(CLK_TOP_UNIVPLL3_D4, \"univpll3_d4\", \"univpll_d5\", 1, 4),\n\tFACTOR(CLK_TOP_UNIVPLL3_D8, \"univpll3_d8\", \"univpll_d5\", 1, 8),\n\tFACTOR(CLK_TOP_F_MP0_PLL1, \"f_mp0_pll1_ck\", \"univpll_d2\", 1, 1),\n\tFACTOR(CLK_TOP_F_MP0_PLL2, \"f_mp0_pll2_ck\", \"univpll1_d2\", 1, 1),\n\tFACTOR(CLK_TOP_F_BIG_PLL1, \"f_big_pll1_ck\", \"univpll_d2\", 1, 1),\n\tFACTOR(CLK_TOP_F_BIG_PLL2, \"f_big_pll2_ck\", \"univpll1_d2\", 1, 1),\n\tFACTOR(CLK_TOP_F_BUS_PLL1, \"f_bus_pll1_ck\", \"univpll_d2\", 1, 1),\n\tFACTOR(CLK_TOP_F_BUS_PLL2, \"f_bus_pll2_ck\", \"univpll1_d2\", 1, 1),\n\tFACTOR(CLK_TOP_APLL1, \"apll1_ck\", \"apll1\", 1, 1),\n\tFACTOR(CLK_TOP_APLL1_D2, \"apll1_d2\", \"apll1_ck\", 1, 2),\n\tFACTOR(CLK_TOP_APLL1_D4, \"apll1_d4\", \"apll1_ck\", 1, 4),\n\tFACTOR(CLK_TOP_APLL1_D8, \"apll1_d8\", \"apll1_ck\", 1, 8),\n\tFACTOR(CLK_TOP_APLL1_D16, \"apll1_d16\", \"apll1_ck\", 1, 16),\n\tFACTOR(CLK_TOP_APLL2, \"apll2_ck\", \"apll2\", 1, 1),\n\tFACTOR(CLK_TOP_APLL2_D2, \"apll2_d2\", \"apll2_ck\", 1, 2),\n\tFACTOR(CLK_TOP_APLL2_D4, \"apll2_d4\", \"apll2_ck\", 1, 4),\n\tFACTOR(CLK_TOP_APLL2_D8, \"apll2_d8\", \"apll2_ck\", 1, 8),\n\tFACTOR(CLK_TOP_APLL2_D16, \"apll2_d16\", \"apll2_ck\", 1, 16),\n\tFACTOR(CLK_TOP_LVDSPLL, \"lvdspll_ck\", \"lvdspll\", 1, 1),\n\tFACTOR(CLK_TOP_LVDSPLL_D2, \"lvdspll_d2\", \"lvdspll_ck\", 1, 2),\n\tFACTOR(CLK_TOP_LVDSPLL_D4, \"lvdspll_d4\", \"lvdspll_ck\", 1, 4),\n\tFACTOR(CLK_TOP_LVDSPLL_D8, \"lvdspll_d8\", \"lvdspll_ck\", 1, 8),\n\tFACTOR(CLK_TOP_LVDSPLL2, \"lvdspll2_ck\", \"lvdspll2\", 1, 1),\n\tFACTOR(CLK_TOP_LVDSPLL2_D2, \"lvdspll2_d2\", \"lvdspll2_ck\", 1, 2),\n\tFACTOR(CLK_TOP_LVDSPLL2_D4, \"lvdspll2_d4\", \"lvdspll2_ck\", 1, 4),\n\tFACTOR(CLK_TOP_LVDSPLL2_D8, \"lvdspll2_d8\", \"lvdspll2_ck\", 1, 8),\n\tFACTOR(CLK_TOP_ETHERPLL_125M, \"etherpll_125m\", \"etherpll\", 1, 1),\n\tFACTOR(CLK_TOP_ETHERPLL_50M, \"etherpll_50m\", \"etherpll\", 1, 1),\n\tFACTOR(CLK_TOP_CVBS, \"cvbs\", \"cvbspll\", 1, 1),\n\tFACTOR(CLK_TOP_CVBS_D2, \"cvbs_d2\", \"cvbs\", 1, 2),\n\tFACTOR(CLK_TOP_MMPLL, \"mmpll_ck\", \"mmpll\", 1, 1),\n\tFACTOR(CLK_TOP_MMPLL_D2, \"mmpll_d2\", \"mmpll_ck\", 1, 2),\n\tFACTOR(CLK_TOP_VENCPLL, \"vencpll_ck\", \"vencpll\", 1, 1),\n\tFACTOR(CLK_TOP_VENCPLL_D2, \"vencpll_d2\", \"vencpll_ck\", 1, 2),\n\tFACTOR(CLK_TOP_VCODECPLL, \"vcodecpll_ck\", \"vcodecpll\", 1, 1),\n\tFACTOR(CLK_TOP_VCODECPLL_D2, \"vcodecpll_d2\", \"vcodecpll_ck\", 1, 2),\n\tFACTOR(CLK_TOP_TVDPLL, \"tvdpll_ck\", \"tvdpll\", 1, 1),\n\tFACTOR(CLK_TOP_TVDPLL_D2, \"tvdpll_d2\", \"tvdpll_ck\", 1, 2),\n\tFACTOR(CLK_TOP_TVDPLL_D4, \"tvdpll_d4\", \"tvdpll_ck\", 1, 4),\n\tFACTOR(CLK_TOP_TVDPLL_D8, \"tvdpll_d8\", \"tvdpll_ck\", 1, 8),\n\tFACTOR(CLK_TOP_TVDPLL_429M, \"tvdpll_429m\", \"tvdpll\", 1, 1),\n\tFACTOR(CLK_TOP_TVDPLL_429M_D2, \"tvdpll_429m_d2\", \"tvdpll_429m\", 1, 2),\n\tFACTOR(CLK_TOP_TVDPLL_429M_D4, \"tvdpll_429m_d4\", \"tvdpll_429m\", 1, 4),\n\tFACTOR(CLK_TOP_MSDCPLL, \"msdcpll_ck\", \"msdcpll\", 1, 1),\n\tFACTOR(CLK_TOP_MSDCPLL_D2, \"msdcpll_d2\", \"msdcpll_ck\", 1, 2),\n\tFACTOR(CLK_TOP_MSDCPLL_D4, \"msdcpll_d4\", \"msdcpll_ck\", 1, 4),\n\tFACTOR(CLK_TOP_MSDCPLL2, \"msdcpll2_ck\", \"msdcpll2\", 1, 1),\n\tFACTOR(CLK_TOP_MSDCPLL2_D2, \"msdcpll2_d2\", \"msdcpll2_ck\", 1, 2),\n\tFACTOR(CLK_TOP_MSDCPLL2_D4, \"msdcpll2_d4\", \"msdcpll2_ck\", 1, 4),\n\tFACTOR(CLK_TOP_D2A_ULCLK_6P5M, \"d2a_ulclk_6p5m\", \"clk26m\", 1, 4),\n\tFACTOR(CLK_TOP_APLL1_D3, \"apll1_d3\", \"apll1_ck\", 1, 3),\n\tFACTOR(CLK_TOP_APLL2_D3, \"apll2_d3\", \"apll2_ck\", 1, 3),\n};\n\nstatic const char * const axi_parents[] = {\n\t\"clk26m\",\n\t\"syspll1_d2\",\n\t\"syspll_d5\",\n\t\"syspll1_d4\",\n\t\"univpll_d5\",\n\t\"univpll2_d2\",\n\t\"msdcpll2_ck\"\n};\n\nstatic const char * const mem_parents[] = {\n\t\"clk26m\",\n\t\"dmpll_ck\"\n};\n\nstatic const char * const mm_parents[] = {\n\t\"clk26m\",\n\t\"vencpll_ck\",\n\t\"syspll_d3\",\n\t\"syspll1_d2\",\n\t\"syspll_d5\",\n\t\"syspll1_d4\",\n\t\"univpll1_d2\",\n\t\"univpll2_d2\"\n};\n\nstatic const char * const pwm_parents[] = {\n\t\"clk26m\",\n\t\"univpll2_d4\",\n\t\"univpll3_d2\",\n\t\"univpll1_d4\"\n};\n\nstatic const char * const vdec_parents[] = {\n\t\"clk26m\",\n\t\"vcodecpll_ck\",\n\t\"tvdpll_429m\",\n\t\"univpll_d3\",\n\t\"vencpll_ck\",\n\t\"syspll_d3\",\n\t\"univpll1_d2\",\n\t\"mmpll_d2\",\n\t\"syspll3_d2\",\n\t\"tvdpll_ck\"\n};\n\nstatic const char * const venc_parents[] = {\n\t\"clk26m\",\n\t\"univpll1_d2\",\n\t\"mmpll_d2\",\n\t\"tvdpll_d2\",\n\t\"syspll1_d2\",\n\t\"univpll_d5\",\n\t\"vcodecpll_d2\",\n\t\"univpll2_d2\",\n\t\"syspll3_d2\"\n};\n\nstatic const char * const mfg_parents[] = {\n\t\"clk26m\",\n\t\"mmpll_ck\",\n\t\"univpll_d3\",\n\t\"clk26m\",\n\t\"clk26m\",\n\t\"clk26m\",\n\t\"clk26m\",\n\t\"clk26m\",\n\t\"clk26m\",\n\t\"syspll_d3\",\n\t\"syspll1_d2\",\n\t\"syspll_d5\",\n\t\"univpll_d3\",\n\t\"univpll1_d2\",\n\t\"univpll_d5\",\n\t\"univpll2_d2\"\n};\n\nstatic const char * const camtg_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d52\",\n\t\"univpll_d208\",\n\t\"univpll_d104\",\n\t\"clk26m_d2\",\n\t\"univpll_d26\",\n\t\"univpll2_d8\",\n\t\"syspll3_d4\",\n\t\"syspll3_d2\",\n\t\"univpll1_d4\",\n\t\"univpll2_d2\"\n};\n\nstatic const char * const uart_parents[] = {\n\t\"clk26m\",\n\t\"univpll2_d8\"\n};\n\nstatic const char * const spi_parents[] = {\n\t\"clk26m\",\n\t\"univpll2_d4\",\n\t\"univpll1_d4\",\n\t\"univpll2_d2\",\n\t\"univpll3_d2\",\n\t\"univpll1_d8\"\n};\n\nstatic const char * const usb20_parents[] = {\n\t\"clk26m\",\n\t\"univpll1_d8\",\n\t\"univpll3_d4\"\n};\n\nstatic const char * const usb30_parents[] = {\n\t\"clk26m\",\n\t\"univpll3_d2\",\n\t\"univpll3_d4\",\n\t\"univpll2_d4\"\n};\n\nstatic const char * const msdc50_0_h_parents[] = {\n\t\"clk26m\",\n\t\"syspll1_d2\",\n\t\"syspll2_d2\",\n\t\"syspll4_d2\",\n\t\"univpll_d5\",\n\t\"univpll1_d4\"\n};\n\nstatic const char * const msdc50_0_parents[] = {\n\t\"clk26m\",\n\t\"msdcpll_ck\",\n\t\"msdcpll_d2\",\n\t\"univpll1_d4\",\n\t\"syspll2_d2\",\n\t\"msdcpll_d4\",\n\t\"vencpll_d2\",\n\t\"univpll1_d2\",\n\t\"msdcpll2_ck\",\n\t\"msdcpll2_d2\",\n\t\"msdcpll2_d4\"\n};\n\nstatic const char * const msdc30_1_parents[] = {\n\t\"clk26m\",\n\t\"univpll2_d2\",\n\t\"msdcpll_d2\",\n\t\"univpll1_d4\",\n\t\"syspll2_d2\",\n\t\"univpll_d7\",\n\t\"vencpll_d2\"\n};\n\nstatic const char * const msdc30_3_parents[] = {\n\t\"clk26m\",\n\t\"msdcpll2_ck\",\n\t\"msdcpll2_d2\",\n\t\"univpll2_d2\",\n\t\"msdcpll2_d4\",\n\t\"univpll1_d4\",\n\t\"syspll2_d2\",\n\t\"syspll_d7\",\n\t\"univpll_d7\",\n\t\"vencpll_d2\",\n\t\"msdcpll_ck\",\n\t\"msdcpll_d2\",\n\t\"msdcpll_d4\"\n};\n\nstatic const char * const audio_parents[] = {\n\t\"clk26m\",\n\t\"syspll3_d4\",\n\t\"syspll4_d4\",\n\t\"syspll1_d16\"\n};\n\nstatic const char * const aud_intbus_parents[] = {\n\t\"clk26m\",\n\t\"syspll1_d4\",\n\t\"syspll4_d2\",\n\t\"univpll3_d2\",\n\t\"univpll2_d8\",\n\t\"syspll3_d2\",\n\t\"syspll3_d4\"\n};\n\nstatic const char * const pmicspi_parents[] = {\n\t\"clk26m\",\n\t\"syspll1_d8\",\n\t\"syspll3_d4\",\n\t\"syspll1_d16\",\n\t\"univpll3_d4\",\n\t\"univpll_d26\",\n\t\"syspll3_d4\"\n};\n\nstatic const char * const dpilvds1_parents[] = {\n\t\"clk26m\",\n\t\"lvdspll2_ck\",\n\t\"lvdspll2_d2\",\n\t\"lvdspll2_d4\",\n\t\"lvdspll2_d8\",\n\t\"clkfpc\"\n};\n\nstatic const char * const atb_parents[] = {\n\t\"clk26m\",\n\t\"syspll1_d2\",\n\t\"univpll_d5\",\n\t\"syspll_d5\"\n};\n\nstatic const char * const nr_parents[] = {\n\t\"clk26m\",\n\t\"univpll1_d4\",\n\t\"syspll2_d2\",\n\t\"syspll1_d4\",\n\t\"univpll1_d8\",\n\t\"univpll3_d2\",\n\t\"univpll2_d2\",\n\t\"syspll_d5\"\n};\n\nstatic const char * const nfi2x_parents[] = {\n\t\"clk26m\",\n\t\"syspll4_d4\",\n\t\"univpll3_d4\",\n\t\"univpll1_d8\",\n\t\"syspll2_d4\",\n\t\"univpll3_d2\",\n\t\"syspll_d7\",\n\t\"syspll2_d2\",\n\t\"univpll2_d2\",\n\t\"syspll_d5\",\n\t\"syspll1_d2\"\n};\n\nstatic const char * const irda_parents[] = {\n\t\"clk26m\",\n\t\"univpll2_d4\",\n\t\"syspll2_d4\",\n\t\"univpll2_d8\"\n};\n\nstatic const char * const cci400_parents[] = {\n\t\"clk26m\",\n\t\"vencpll_ck\",\n\t\"armca35pll_600m\",\n\t\"armca35pll_400m\",\n\t\"univpll_d2\",\n\t\"syspll_d2\",\n\t\"msdcpll_ck\",\n\t\"univpll_d3\"\n};\n\nstatic const char * const aud_1_parents[] = {\n\t\"clk26m\",\n\t\"apll1_ck\",\n\t\"univpll2_d4\",\n\t\"univpll2_d8\"\n};\n\nstatic const char * const aud_2_parents[] = {\n\t\"clk26m\",\n\t\"apll2_ck\",\n\t\"univpll2_d4\",\n\t\"univpll2_d8\"\n};\n\nstatic const char * const mem_mfg_parents[] = {\n\t\"clk26m\",\n\t\"mmpll_ck\",\n\t\"univpll_d3\"\n};\n\nstatic const char * const axi_mfg_parents[] = {\n\t\"clk26m\",\n\t\"axi_sel\",\n\t\"univpll_d5\"\n};\n\nstatic const char * const scam_parents[] = {\n\t\"clk26m\",\n\t\"syspll3_d2\",\n\t\"univpll2_d4\",\n\t\"syspll2_d4\"\n};\n\nstatic const char * const nfiecc_parents[] = {\n\t\"clk26m\",\n\t\"nfi2x_sel\",\n\t\"syspll_d7\",\n\t\"syspll2_d2\",\n\t\"univpll2_d2\",\n\t\"univpll_d5\",\n\t\"syspll1_d2\"\n};\n\nstatic const char * const pe2_mac_p0_parents[] = {\n\t\"clk26m\",\n\t\"syspll1_d8\",\n\t\"syspll4_d2\",\n\t\"syspll2_d4\",\n\t\"univpll2_d4\",\n\t\"syspll3_d2\"\n};\n\nstatic const char * const dpilvds_parents[] = {\n\t\"clk26m\",\n\t\"lvdspll_ck\",\n\t\"lvdspll_d2\",\n\t\"lvdspll_d4\",\n\t\"lvdspll_d8\",\n\t\"clkfpc\"\n};\n\nstatic const char * const hdcp_parents[] = {\n\t\"clk26m\",\n\t\"syspll4_d2\",\n\t\"syspll3_d4\",\n\t\"univpll2_d4\"\n};\n\nstatic const char * const hdcp_24m_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d26\",\n\t\"univpll_d52\",\n\t\"univpll2_d8\"\n};\n\nstatic const char * const rtc_parents[] = {\n\t\"clkrtc_int\",\n\t\"clkrtc_ext\",\n\t\"clk26m\",\n\t\"univpll3_d8\"\n};\n\nstatic const char * const spinor_parents[] = {\n\t\"clk26m\",\n\t\"clk26m_d2\",\n\t\"syspll4_d4\",\n\t\"univpll2_d8\",\n\t\"univpll3_d4\",\n\t\"syspll4_d2\",\n\t\"syspll2_d4\",\n\t\"univpll2_d4\",\n\t\"etherpll_125m\",\n\t\"syspll1_d4\"\n};\n\nstatic const char * const apll_parents[] = {\n\t\"clk26m\",\n\t\"apll1_ck\",\n\t\"apll1_d2\",\n\t\"apll1_d4\",\n\t\"apll1_d8\",\n\t\"apll1_d16\",\n\t\"apll2_ck\",\n\t\"apll2_d2\",\n\t\"apll2_d4\",\n\t\"apll2_d8\",\n\t\"apll2_d16\",\n\t\"clk26m\",\n\t\"clk26m\"\n};\n\nstatic const char * const a1sys_hp_parents[] = {\n\t\"clk26m\",\n\t\"apll1_ck\",\n\t\"apll1_d2\",\n\t\"apll1_d4\",\n\t\"apll1_d8\",\n\t\"apll1_d3\"\n};\n\nstatic const char * const a2sys_hp_parents[] = {\n\t\"clk26m\",\n\t\"apll2_ck\",\n\t\"apll2_d2\",\n\t\"apll2_d4\",\n\t\"apll2_d8\",\n\t\"apll2_d3\"\n};\n\nstatic const char * const asm_l_parents[] = {\n\t\"clk26m\",\n\t\"univpll2_d4\",\n\t\"univpll2_d2\",\n\t\"syspll_d5\"\n};\n\nstatic const char * const i2so1_parents[] = {\n\t\"clk26m\",\n\t\"apll1_ck\",\n\t\"apll2_ck\"\n};\n\nstatic const char * const ether_125m_parents[] = {\n\t\"clk26m\",\n\t\"etherpll_125m\",\n\t\"univpll3_d2\"\n};\n\nstatic const char * const ether_50m_parents[] = {\n\t\"clk26m\",\n\t\"etherpll_50m\",\n\t\"apll1_d3\",\n\t\"univpll3_d4\"\n};\n\nstatic const char * const jpgdec_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d3\",\n\t\"tvdpll_429m\",\n\t\"vencpll_ck\",\n\t\"syspll_d3\",\n\t\"vcodecpll_ck\",\n\t\"univpll1_d2\",\n\t\"armca35pll_400m\",\n\t\"tvdpll_429m_d2\",\n\t\"tvdpll_429m_d4\"\n};\n\nstatic const char * const spislv_parents[] = {\n\t\"clk26m\",\n\t\"univpll2_d4\",\n\t\"univpll1_d4\",\n\t\"univpll2_d2\",\n\t\"univpll3_d2\",\n\t\"univpll1_d8\",\n\t\"univpll1_d2\",\n\t\"univpll_d5\"\n};\n\nstatic const char * const ether_parents[] = {\n\t\"clk26m\",\n\t\"etherpll_50m\",\n\t\"univpll_d26\"\n};\n\nstatic const char * const di_parents[] = {\n\t\"clk26m\",\n\t\"tvdpll_d2\",\n\t\"tvdpll_d4\",\n\t\"tvdpll_d8\",\n\t\"vencpll_ck\",\n\t\"vencpll_d2\",\n\t\"cvbs\",\n\t\"cvbs_d2\"\n};\n\nstatic const char * const tvd_parents[] = {\n\t\"clk26m\",\n\t\"cvbs_d2\",\n\t\"univpll2_d8\"\n};\n\nstatic const char * const i2c_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d26\",\n\t\"univpll2_d4\",\n\t\"univpll3_d2\",\n\t\"univpll1_d4\"\n};\n\nstatic const char * const msdc0p_aes_parents[] = {\n\t\"clk26m\",\n\t\"syspll_d2\",\n\t\"univpll_d3\",\n\t\"vcodecpll_ck\"\n};\n\nstatic const char * const cmsys_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d3\",\n\t\"syspll_d3\",\n\t\"syspll1_d2\",\n\t\"syspll2_d2\"\n};\n\nstatic const char * const gcpu_parents[] = {\n\t\"clk26m\",\n\t\"syspll_d3\",\n\t\"syspll1_d2\",\n\t\"univpll1_d2\",\n\t\"univpll_d5\",\n\t\"univpll3_d2\",\n\t\"univpll_d3\"\n};\n\nstatic const char * const aud_apll1_parents[] = {\n\t\"apll1\",\n\t\"clkaud_ext_i_1\"\n};\n\nstatic const char * const aud_apll2_parents[] = {\n\t\"apll2\",\n\t\"clkaud_ext_i_2\"\n};\n\nstatic const char * const apll1_ref_parents[] = {\n\t\"clkaud_ext_i_2\",\n\t\"clkaud_ext_i_1\",\n\t\"clki2si0_mck_i\",\n\t\"clki2si1_mck_i\",\n\t\"clki2si2_mck_i\",\n\t\"clktdmin_mclk_i\",\n\t\"clki2si2_mck_i\",\n\t\"clktdmin_mclk_i\"\n};\n\nstatic const char * const audull_vtx_parents[] = {\n\t\"d2a_ulclk_6p5m\",\n\t\"clkaud_ext_i_0\"\n};\n\nstatic struct mtk_composite top_muxes[] = {\n\t \n\tMUX_GATE_FLAGS(CLK_TOP_AXI_SEL, \"axi_sel\", axi_parents, 0x040, 0, 3,\n\t\t       7, CLK_IS_CRITICAL),\n\tMUX_GATE_FLAGS(CLK_TOP_MEM_SEL, \"mem_sel\", mem_parents, 0x040, 8, 1,\n\t\t       15, CLK_IS_CRITICAL),\n\tMUX_GATE(CLK_TOP_MM_SEL, \"mm_sel\", mm_parents, 0x040, 24, 3, 31),\n\t \n\tMUX_GATE(CLK_TOP_PWM_SEL, \"pwm_sel\", pwm_parents, 0x050, 0, 2, 7),\n\tMUX_GATE(CLK_TOP_VDEC_SEL, \"vdec_sel\", vdec_parents, 0x050, 8, 4, 15),\n\tMUX_GATE(CLK_TOP_VENC_SEL, \"venc_sel\", venc_parents, 0x050, 16, 4, 23),\n\tMUX_GATE(CLK_TOP_MFG_SEL, \"mfg_sel\", mfg_parents, 0x050, 24, 4, 31),\n\t \n\tMUX_GATE(CLK_TOP_CAMTG_SEL, \"camtg_sel\", camtg_parents, 0x060, 0, 4, 7),\n\tMUX_GATE(CLK_TOP_UART_SEL, \"uart_sel\", uart_parents, 0x060, 8, 1, 15),\n\tMUX_GATE(CLK_TOP_SPI_SEL, \"spi_sel\", spi_parents, 0x060, 16, 3, 23),\n\tMUX_GATE(CLK_TOP_USB20_SEL, \"usb20_sel\", usb20_parents, 0x060, 24, 2, 31),\n\t \n\tMUX_GATE(CLK_TOP_USB30_SEL, \"usb30_sel\", usb30_parents, 0x070, 0, 2, 7),\n\tMUX_GATE(CLK_TOP_MSDC50_0_HCLK_SEL, \"msdc50_0_h_sel\", msdc50_0_h_parents,\n\t\t 0x070, 8, 3, 15),\n\tMUX_GATE(CLK_TOP_MSDC50_0_SEL, \"msdc50_0_sel\", msdc50_0_parents,\n\t\t 0x070, 16, 4, 23),\n\tMUX_GATE(CLK_TOP_MSDC30_1_SEL, \"msdc30_1_sel\", msdc30_1_parents,\n\t\t 0x070, 24, 3, 31),\n\t \n\tMUX_GATE(CLK_TOP_MSDC30_2_SEL, \"msdc30_2_sel\", msdc30_1_parents,\n\t\t 0x080, 0, 3, 7),\n\tMUX_GATE(CLK_TOP_MSDC30_3_SEL, \"msdc30_3_sel\", msdc30_3_parents,\n\t\t 0x080, 8, 4, 15),\n\tMUX_GATE(CLK_TOP_AUDIO_SEL, \"audio_sel\", audio_parents,\n\t\t 0x080, 16, 2, 23),\n\tMUX_GATE(CLK_TOP_AUD_INTBUS_SEL, \"aud_intbus_sel\", aud_intbus_parents,\n\t\t 0x080, 24, 3, 31),\n\t \n\tMUX_GATE(CLK_TOP_PMICSPI_SEL, \"pmicspi_sel\", pmicspi_parents, 0x090, 0, 3, 7),\n\tMUX_GATE(CLK_TOP_DPILVDS1_SEL, \"dpilvds1_sel\", dpilvds1_parents,\n\t\t 0x090, 8, 3, 15),\n\tMUX_GATE(CLK_TOP_ATB_SEL, \"atb_sel\", atb_parents, 0x090, 16, 2, 23),\n\tMUX_GATE(CLK_TOP_NR_SEL, \"nr_sel\", nr_parents, 0x090, 24, 3, 31),\n\t \n\tMUX_GATE(CLK_TOP_NFI2X_SEL, \"nfi2x_sel\", nfi2x_parents, 0x0a0, 0, 4, 7),\n\tMUX_GATE(CLK_TOP_IRDA_SEL, \"irda_sel\", irda_parents, 0x0a0, 8, 2, 15),\n\tMUX_GATE(CLK_TOP_CCI400_SEL, \"cci400_sel\", cci400_parents, 0x0a0, 16, 3, 23),\n\tMUX_GATE(CLK_TOP_AUD_1_SEL, \"aud_1_sel\", aud_1_parents, 0x0a0, 24, 2, 31),\n\t \n\tMUX_GATE(CLK_TOP_AUD_2_SEL, \"aud_2_sel\", aud_2_parents, 0x0b0, 0, 2, 7),\n\tMUX_GATE(CLK_TOP_MEM_MFG_IN_AS_SEL, \"mem_mfg_sel\", mem_mfg_parents,\n\t\t 0x0b0, 8, 2, 15),\n\tMUX_GATE(CLK_TOP_AXI_MFG_IN_AS_SEL, \"axi_mfg_sel\", axi_mfg_parents,\n\t\t 0x0b0, 16, 2, 23),\n\tMUX_GATE(CLK_TOP_SCAM_SEL, \"scam_sel\", scam_parents, 0x0b0, 24, 2, 31),\n\t \n\tMUX_GATE(CLK_TOP_NFIECC_SEL, \"nfiecc_sel\", nfiecc_parents, 0x0c0, 0, 3, 7),\n\tMUX_GATE(CLK_TOP_PE2_MAC_P0_SEL, \"pe2_mac_p0_sel\", pe2_mac_p0_parents,\n\t\t 0x0c0, 8, 3, 15),\n\tMUX_GATE(CLK_TOP_PE2_MAC_P1_SEL, \"pe2_mac_p1_sel\", pe2_mac_p0_parents,\n\t\t 0x0c0, 16, 3, 23),\n\tMUX_GATE(CLK_TOP_DPILVDS_SEL, \"dpilvds_sel\", dpilvds_parents, 0x0c0, 24, 3, 31),\n\t \n\tMUX_GATE(CLK_TOP_MSDC50_3_HCLK_SEL, \"msdc50_3_h_sel\", msdc50_0_h_parents,\n\t\t 0x0d0, 0, 3, 7),\n\tMUX_GATE(CLK_TOP_HDCP_SEL, \"hdcp_sel\", hdcp_parents, 0x0d0, 8, 2, 15),\n\tMUX_GATE(CLK_TOP_HDCP_24M_SEL, \"hdcp_24m_sel\", hdcp_24m_parents,\n\t\t 0x0d0, 16, 2, 23),\n\tMUX_GATE_FLAGS(CLK_TOP_RTC_SEL, \"rtc_sel\", rtc_parents,\n\t\t       0x0d0, 24, 2, 31, CLK_IS_CRITICAL),\n\t \n\tMUX_GATE(CLK_TOP_SPINOR_SEL, \"spinor_sel\", spinor_parents, 0x500, 0, 4, 7),\n\tMUX_GATE(CLK_TOP_APLL_SEL, \"apll_sel\", apll_parents, 0x500, 8, 4, 15),\n\tMUX_GATE(CLK_TOP_APLL2_SEL, \"apll2_sel\", apll_parents, 0x500, 16, 4, 23),\n\tMUX_GATE(CLK_TOP_A1SYS_HP_SEL, \"a1sys_hp_sel\", a1sys_hp_parents,\n\t\t 0x500, 24, 3, 31),\n\t \n\tMUX_GATE(CLK_TOP_A2SYS_HP_SEL, \"a2sys_hp_sel\", a2sys_hp_parents, 0x510, 0, 3, 7),\n\tMUX_GATE(CLK_TOP_ASM_L_SEL, \"asm_l_sel\", asm_l_parents, 0x510, 8, 2, 15),\n\tMUX_GATE(CLK_TOP_ASM_M_SEL, \"asm_m_sel\", asm_l_parents, 0x510, 16, 2, 23),\n\tMUX_GATE(CLK_TOP_ASM_H_SEL, \"asm_h_sel\", asm_l_parents, 0x510, 24, 2, 31),\n\t \n\tMUX_GATE(CLK_TOP_I2SO1_SEL, \"i2so1_sel\", i2so1_parents, 0x520, 0, 2, 7),\n\tMUX_GATE(CLK_TOP_I2SO2_SEL, \"i2so2_sel\", i2so1_parents, 0x520, 8, 2, 15),\n\tMUX_GATE(CLK_TOP_I2SO3_SEL, \"i2so3_sel\", i2so1_parents, 0x520, 16, 2, 23),\n\tMUX_GATE(CLK_TOP_TDMO0_SEL, \"tdmo0_sel\", i2so1_parents, 0x520, 24, 2, 31),\n\t \n\tMUX_GATE(CLK_TOP_TDMO1_SEL, \"tdmo1_sel\", i2so1_parents, 0x530, 0, 2, 7),\n\tMUX_GATE(CLK_TOP_I2SI1_SEL, \"i2si1_sel\", i2so1_parents, 0x530, 8, 2, 15),\n\tMUX_GATE(CLK_TOP_I2SI2_SEL, \"i2si2_sel\", i2so1_parents, 0x530, 16, 2, 23),\n\tMUX_GATE(CLK_TOP_I2SI3_SEL, \"i2si3_sel\", i2so1_parents, 0x530, 24, 2, 31),\n\t \n\tMUX_GATE(CLK_TOP_ETHER_125M_SEL, \"ether_125m_sel\", ether_125m_parents,\n\t\t 0x540, 0, 2, 7),\n\tMUX_GATE(CLK_TOP_ETHER_50M_SEL, \"ether_50m_sel\", ether_50m_parents,\n\t\t 0x540, 8, 2, 15),\n\tMUX_GATE(CLK_TOP_JPGDEC_SEL, \"jpgdec_sel\", jpgdec_parents, 0x540, 16, 4, 23),\n\tMUX_GATE(CLK_TOP_SPISLV_SEL, \"spislv_sel\", spislv_parents, 0x540, 24, 3, 31),\n\t \n\tMUX_GATE(CLK_TOP_ETHER_50M_RMII_SEL, \"ether_sel\", ether_parents, 0x550, 0, 2, 7),\n\tMUX_GATE(CLK_TOP_CAM2TG_SEL, \"cam2tg_sel\", camtg_parents, 0x550, 8, 4, 15),\n\tMUX_GATE(CLK_TOP_DI_SEL, \"di_sel\", di_parents, 0x550, 16, 3, 23),\n\tMUX_GATE(CLK_TOP_TVD_SEL, \"tvd_sel\", tvd_parents, 0x550, 24, 2, 31),\n\t \n\tMUX_GATE(CLK_TOP_I2C_SEL, \"i2c_sel\", i2c_parents, 0x560, 0, 3, 7),\n\tMUX_GATE(CLK_TOP_PWM_INFRA_SEL, \"pwm_infra_sel\", pwm_parents, 0x560, 8, 2, 15),\n\tMUX_GATE(CLK_TOP_MSDC0P_AES_SEL, \"msdc0p_aes_sel\", msdc0p_aes_parents,\n\t\t 0x560, 16, 2, 23),\n\tMUX_GATE(CLK_TOP_CMSYS_SEL, \"cmsys_sel\", cmsys_parents, 0x560, 24, 3, 31),\n\t \n\tMUX_GATE(CLK_TOP_GCPU_SEL, \"gcpu_sel\", gcpu_parents, 0x570, 0, 3, 7),\n\t \n\tMUX(CLK_TOP_AUD_APLL1_SEL, \"aud_apll1_sel\", aud_apll1_parents, 0x134, 0, 1),\n\tMUX(CLK_TOP_AUD_APLL2_SEL, \"aud_apll2_sel\", aud_apll2_parents, 0x134, 1, 1),\n\tMUX(CLK_TOP_DA_AUDULL_VTX_6P5M_SEL, \"audull_vtx_sel\", audull_vtx_parents,\n\t    0x134, 31, 1),\n\tMUX(CLK_TOP_APLL1_REF_SEL, \"apll1_ref_sel\", apll1_ref_parents, 0x134, 4, 3),\n\tMUX(CLK_TOP_APLL2_REF_SEL, \"apll2_ref_sel\", apll1_ref_parents, 0x134, 7, 3),\n};\n\nstatic const char * const mcu_mp0_parents[] = {\n\t\"clk26m\",\n\t\"armca35pll_ck\",\n\t\"f_mp0_pll1_ck\",\n\t\"f_mp0_pll2_ck\"\n};\n\nstatic const char * const mcu_mp2_parents[] = {\n\t\"clk26m\",\n\t\"armca72pll_ck\",\n\t\"f_big_pll1_ck\",\n\t\"f_big_pll2_ck\"\n};\n\nstatic const char * const mcu_bus_parents[] = {\n\t\"clk26m\",\n\t\"cci400_sel\",\n\t\"f_bus_pll1_ck\",\n\t\"f_bus_pll2_ck\"\n};\n\nstatic struct mtk_composite mcu_muxes[] = {\n\t \n\tMUX_GATE_FLAGS(CLK_MCU_MP0_SEL, \"mcu_mp0_sel\", mcu_mp0_parents, 0x7A0,\n\t\t       9, 2, -1, CLK_IS_CRITICAL),\n\t \n\tMUX_GATE_FLAGS(CLK_MCU_MP2_SEL, \"mcu_mp2_sel\", mcu_mp2_parents, 0x7A8,\n\t\t       9, 2, -1, CLK_IS_CRITICAL),\n\t \n\tMUX_GATE_FLAGS(CLK_MCU_BUS_SEL, \"mcu_bus_sel\", mcu_bus_parents, 0x7C0,\n\t\t       9, 2, -1, CLK_IS_CRITICAL),\n};\n\nstatic const struct mtk_clk_divider top_adj_divs[] = {\n\tDIV_ADJ(CLK_TOP_APLL_DIV0, \"apll_div0\", \"i2so1_sel\", 0x124, 0, 8),\n\tDIV_ADJ(CLK_TOP_APLL_DIV1, \"apll_div1\", \"i2so2_sel\", 0x124, 8, 8),\n\tDIV_ADJ(CLK_TOP_APLL_DIV2, \"apll_div2\", \"i2so3_sel\", 0x124, 16, 8),\n\tDIV_ADJ(CLK_TOP_APLL_DIV3, \"apll_div3\", \"tdmo0_sel\", 0x124, 24, 8),\n\tDIV_ADJ(CLK_TOP_APLL_DIV4, \"apll_div4\", \"tdmo1_sel\", 0x128, 0, 8),\n\tDIV_ADJ(CLK_TOP_APLL_DIV5, \"apll_div5\", \"i2si1_sel\", 0x128, 8, 8),\n\tDIV_ADJ(CLK_TOP_APLL_DIV6, \"apll_div6\", \"i2si2_sel\", 0x128, 16, 8),\n\tDIV_ADJ(CLK_TOP_APLL_DIV7, \"apll_div7\", \"i2si3_sel\", 0x128, 24, 8),\n};\n\nstatic const struct mtk_gate_regs top0_cg_regs = {\n\t.set_ofs = 0x120,\n\t.clr_ofs = 0x120,\n\t.sta_ofs = 0x120,\n};\n\nstatic const struct mtk_gate_regs top1_cg_regs = {\n\t.set_ofs = 0x424,\n\t.clr_ofs = 0x424,\n\t.sta_ofs = 0x424,\n};\n\n#define GATE_TOP0(_id, _name, _parent, _shift)\t\t\t\t\\\n\tGATE_MTK(_id, _name, _parent, &top0_cg_regs, _shift, &mtk_clk_gate_ops_no_setclr)\n\n#define GATE_TOP1(_id, _name, _parent, _shift)\t\t\t\t\\\n\tGATE_MTK(_id, _name, _parent, &top1_cg_regs, _shift, &mtk_clk_gate_ops_no_setclr_inv)\n\nstatic const struct mtk_gate top_clks[] = {\n\t \n\tGATE_TOP0(CLK_TOP_APLL_DIV_PDN0, \"apll_div_pdn0\", \"i2so1_sel\", 0),\n\tGATE_TOP0(CLK_TOP_APLL_DIV_PDN1, \"apll_div_pdn1\", \"i2so2_sel\", 1),\n\tGATE_TOP0(CLK_TOP_APLL_DIV_PDN2, \"apll_div_pdn2\", \"i2so3_sel\", 2),\n\tGATE_TOP0(CLK_TOP_APLL_DIV_PDN3, \"apll_div_pdn3\", \"tdmo0_sel\", 3),\n\tGATE_TOP0(CLK_TOP_APLL_DIV_PDN4, \"apll_div_pdn4\", \"tdmo1_sel\", 4),\n\tGATE_TOP0(CLK_TOP_APLL_DIV_PDN5, \"apll_div_pdn5\", \"i2si1_sel\", 5),\n\tGATE_TOP0(CLK_TOP_APLL_DIV_PDN6, \"apll_div_pdn6\", \"i2si2_sel\", 6),\n\tGATE_TOP0(CLK_TOP_APLL_DIV_PDN7, \"apll_div_pdn7\", \"i2si3_sel\", 7),\n\t \n\tGATE_TOP1(CLK_TOP_NFI2X_EN, \"nfi2x_en\", \"nfi2x_sel\", 0),\n\tGATE_TOP1(CLK_TOP_NFIECC_EN, \"nfiecc_en\", \"nfiecc_sel\", 1),\n\tGATE_TOP1(CLK_TOP_NFI1X_CK_EN, \"nfi1x_ck_en\", \"nfi2x_sel\", 2),\n};\n\nstatic const struct mtk_gate_regs infra_cg_regs = {\n\t.set_ofs = 0x40,\n\t.clr_ofs = 0x44,\n\t.sta_ofs = 0x48,\n};\n\n#define GATE_INFRA(_id, _name, _parent, _shift)\t\t\t\t\\\n\tGATE_MTK(_id, _name, _parent, &infra_cg_regs, _shift, &mtk_clk_gate_ops_setclr)\n\nstatic const struct mtk_gate infra_clks[] = {\n\tGATE_INFRA(CLK_INFRA_DBGCLK, \"infra_dbgclk\", \"axi_sel\", 0),\n\tGATE_INFRA(CLK_INFRA_GCE, \"infra_gce\", \"axi_sel\", 6),\n\tGATE_INFRA(CLK_INFRA_M4U, \"infra_m4u\", \"mem_sel\", 8),\n\tGATE_INFRA(CLK_INFRA_KP, \"infra_kp\", \"axi_sel\", 16),\n\tGATE_INFRA(CLK_INFRA_AO_SPI0, \"infra_ao_spi0\", \"spi_sel\", 24),\n\tGATE_INFRA(CLK_INFRA_AO_SPI1, \"infra_ao_spi1\", \"spislv_sel\", 25),\n\tGATE_INFRA(CLK_INFRA_AO_UART5, \"infra_ao_uart5\", \"axi_sel\", 26),\n};\n\nstatic const struct mtk_gate_regs peri0_cg_regs = {\n\t.set_ofs = 0x8,\n\t.clr_ofs = 0x10,\n\t.sta_ofs = 0x18,\n};\n\nstatic const struct mtk_gate_regs peri1_cg_regs = {\n\t.set_ofs = 0xc,\n\t.clr_ofs = 0x14,\n\t.sta_ofs = 0x1c,\n};\n\nstatic const struct mtk_gate_regs peri2_cg_regs = {\n\t.set_ofs = 0x42c,\n\t.clr_ofs = 0x42c,\n\t.sta_ofs = 0x42c,\n};\n\n#define GATE_PERI0(_id, _name, _parent, _shift)\t\t\t\t\\\n\tGATE_MTK(_id, _name, _parent, &peri0_cg_regs, _shift, &mtk_clk_gate_ops_setclr)\n\n#define GATE_PERI1(_id, _name, _parent, _shift)\t\t\t\t\\\n\tGATE_MTK(_id, _name, _parent, &peri1_cg_regs, _shift, &mtk_clk_gate_ops_setclr)\n\n#define GATE_PERI2(_id, _name, _parent, _shift)\t\t\t\t\\\n\tGATE_MTK(_id, _name, _parent, &peri2_cg_regs, _shift, &mtk_clk_gate_ops_no_setclr_inv)\n\nstatic const struct mtk_gate peri_clks[] = {\n\t \n\tGATE_PERI0(CLK_PERI_NFI, \"per_nfi\", \"axi_sel\", 0),\n\tGATE_PERI0(CLK_PERI_THERM, \"per_therm\", \"axi_sel\", 1),\n\tGATE_PERI0(CLK_PERI_PWM0, \"per_pwm0\", \"pwm_sel\", 2),\n\tGATE_PERI0(CLK_PERI_PWM1, \"per_pwm1\", \"pwm_sel\", 3),\n\tGATE_PERI0(CLK_PERI_PWM2, \"per_pwm2\", \"pwm_sel\", 4),\n\tGATE_PERI0(CLK_PERI_PWM3, \"per_pwm3\", \"pwm_sel\", 5),\n\tGATE_PERI0(CLK_PERI_PWM4, \"per_pwm4\", \"pwm_sel\", 6),\n\tGATE_PERI0(CLK_PERI_PWM5, \"per_pwm5\", \"pwm_sel\", 7),\n\tGATE_PERI0(CLK_PERI_PWM6, \"per_pwm6\", \"pwm_sel\", 8),\n\tGATE_PERI0(CLK_PERI_PWM7, \"per_pwm7\", \"pwm_sel\", 9),\n\tGATE_PERI0(CLK_PERI_PWM, \"per_pwm\", \"pwm_sel\", 10),\n\tGATE_PERI0(CLK_PERI_AP_DMA, \"per_ap_dma\", \"axi_sel\", 13),\n\tGATE_PERI0(CLK_PERI_MSDC30_0, \"per_msdc30_0\", \"msdc50_0_sel\", 14),\n\tGATE_PERI0(CLK_PERI_MSDC30_1, \"per_msdc30_1\", \"msdc30_1_sel\", 15),\n\tGATE_PERI0(CLK_PERI_MSDC30_2, \"per_msdc30_2\", \"msdc30_2_sel\", 16),\n\tGATE_PERI0(CLK_PERI_MSDC30_3, \"per_msdc30_3\", \"msdc30_3_sel\", 17),\n\tGATE_PERI0(CLK_PERI_UART0, \"per_uart0\", \"uart_sel\", 20),\n\tGATE_PERI0(CLK_PERI_UART1, \"per_uart1\", \"uart_sel\", 21),\n\tGATE_PERI0(CLK_PERI_UART2, \"per_uart2\", \"uart_sel\", 22),\n\tGATE_PERI0(CLK_PERI_UART3, \"per_uart3\", \"uart_sel\", 23),\n\tGATE_PERI0(CLK_PERI_I2C0, \"per_i2c0\", \"axi_sel\", 24),\n\tGATE_PERI0(CLK_PERI_I2C1, \"per_i2c1\", \"axi_sel\", 25),\n\tGATE_PERI0(CLK_PERI_I2C2, \"per_i2c2\", \"axi_sel\", 26),\n\tGATE_PERI0(CLK_PERI_I2C3, \"per_i2c3\", \"axi_sel\", 27),\n\tGATE_PERI0(CLK_PERI_I2C4, \"per_i2c4\", \"axi_sel\", 28),\n\tGATE_PERI0(CLK_PERI_AUXADC, \"per_auxadc\", \"ltepll_fs26m\", 29),\n\tGATE_PERI0(CLK_PERI_SPI0, \"per_spi0\", \"spi_sel\", 30),\n\t \n\tGATE_PERI1(CLK_PERI_SPI, \"per_spi\", \"spinor_sel\", 1),\n\tGATE_PERI1(CLK_PERI_I2C5, \"per_i2c5\", \"axi_sel\", 3),\n\tGATE_PERI1(CLK_PERI_SPI2, \"per_spi2\", \"spi_sel\", 5),\n\tGATE_PERI1(CLK_PERI_SPI3, \"per_spi3\", \"spi_sel\", 6),\n\tGATE_PERI1(CLK_PERI_SPI5, \"per_spi5\", \"spi_sel\", 8),\n\tGATE_PERI1(CLK_PERI_UART4, \"per_uart4\", \"uart_sel\", 9),\n\tGATE_PERI1(CLK_PERI_SFLASH, \"per_sflash\", \"uart_sel\", 11),\n\tGATE_PERI1(CLK_PERI_GMAC, \"per_gmac\", \"uart_sel\", 12),\n\tGATE_PERI1(CLK_PERI_PCIE0, \"per_pcie0\", \"uart_sel\", 14),\n\tGATE_PERI1(CLK_PERI_PCIE1, \"per_pcie1\", \"uart_sel\", 15),\n\tGATE_PERI1(CLK_PERI_GMAC_PCLK, \"per_gmac_pclk\", \"uart_sel\", 16),\n\t \n\tGATE_PERI2(CLK_PERI_MSDC50_0_EN, \"per_msdc50_0_en\", \"msdc50_0_sel\", 0),\n\tGATE_PERI2(CLK_PERI_MSDC30_1_EN, \"per_msdc30_1_en\", \"msdc30_1_sel\", 1),\n\tGATE_PERI2(CLK_PERI_MSDC30_2_EN, \"per_msdc30_2_en\", \"msdc30_2_sel\", 2),\n\tGATE_PERI2(CLK_PERI_MSDC30_3_EN, \"per_msdc30_3_en\", \"msdc30_3_sel\", 3),\n\tGATE_PERI2(CLK_PERI_MSDC50_0_HCLK_EN, \"per_msdc50_0_h\", \"msdc50_0_h_sel\", 4),\n\tGATE_PERI2(CLK_PERI_MSDC50_3_HCLK_EN, \"per_msdc50_3_h\", \"msdc50_3_h_sel\", 5),\n\tGATE_PERI2(CLK_PERI_MSDC30_0_QTR_EN, \"per_msdc30_0_q\", \"axi_sel\", 6),\n\tGATE_PERI2(CLK_PERI_MSDC30_3_QTR_EN, \"per_msdc30_3_q\", \"mem_sel\", 7),\n};\n\nstatic u16 infrasys_rst_ofs[] = { 0x30, 0x34, };\nstatic u16 pericfg_rst_ofs[] = { 0x0, 0x4, };\n\nstatic const struct mtk_clk_rst_desc clk_rst_desc[] = {\n\t \n\t{\n\t\t.version = MTK_RST_SIMPLE,\n\t\t.rst_bank_ofs = infrasys_rst_ofs,\n\t\t.rst_bank_nr = ARRAY_SIZE(infrasys_rst_ofs),\n\t},\n\t \n\t{\n\t\t.version = MTK_RST_SIMPLE,\n\t\t.rst_bank_ofs = pericfg_rst_ofs,\n\t\t.rst_bank_nr = ARRAY_SIZE(pericfg_rst_ofs),\n\t},\n};\n\nstatic const struct mtk_clk_desc topck_desc = {\n\t.clks = top_clks,\n\t.num_clks = ARRAY_SIZE(top_clks),\n\t.fixed_clks = top_fixed_clks,\n\t.num_fixed_clks = ARRAY_SIZE(top_fixed_clks),\n\t.factor_clks = top_divs,\n\t.num_factor_clks = ARRAY_SIZE(top_divs),\n\t.composite_clks = top_muxes,\n\t.num_composite_clks = ARRAY_SIZE(top_muxes),\n\t.divider_clks = top_adj_divs,\n\t.num_divider_clks = ARRAY_SIZE(top_adj_divs),\n\t.clk_lock = &mt2712_clk_lock,\n};\n\nstatic const struct mtk_clk_desc mcu_desc = {\n\t.composite_clks = mcu_muxes,\n\t.num_composite_clks = ARRAY_SIZE(mcu_muxes),\n\t.clk_lock = &mt2712_clk_lock,\n};\n\nstatic const struct mtk_clk_desc infra_desc = {\n\t.clks = infra_clks,\n\t.num_clks = ARRAY_SIZE(infra_clks),\n\t.rst_desc = &clk_rst_desc[0],\n};\n\nstatic const struct mtk_clk_desc peri_desc = {\n\t.clks = peri_clks,\n\t.num_clks = ARRAY_SIZE(peri_clks),\n\t.rst_desc = &clk_rst_desc[1],\n};\n\nstatic const struct of_device_id of_match_clk_mt2712[] = {\n\t{ .compatible = \"mediatek,mt2712-infracfg\", .data = &infra_desc },\n\t{ .compatible = \"mediatek,mt2712-mcucfg\", .data = &mcu_desc },\n\t{ .compatible = \"mediatek,mt2712-pericfg\", .data = &peri_desc, },\n\t{ .compatible = \"mediatek,mt2712-topckgen\", .data = &topck_desc },\n\t{   }\n};\nMODULE_DEVICE_TABLE(of, of_match_clk_mt2712);\n\nstatic struct platform_driver clk_mt2712_drv = {\n\t.probe = mtk_clk_simple_probe,\n\t.remove_new = mtk_clk_simple_remove,\n\t.driver = {\n\t\t.name = \"clk-mt2712\",\n\t\t.of_match_table = of_match_clk_mt2712,\n\t},\n};\nmodule_platform_driver(clk_mt2712_drv);\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}