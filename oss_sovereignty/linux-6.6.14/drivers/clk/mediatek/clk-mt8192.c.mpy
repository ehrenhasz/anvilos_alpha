{
  "module_name": "clk-mt8192.c",
  "hash_id": "12988ed99e02b03200b8c08cd2cf4a9aa70d1d79bdd1d22d861138d7b0b095da",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/mediatek/clk-mt8192.c",
  "human_readable_source": "\n\n\n\n\n#include <linux/clk.h>\n#include <linux/delay.h>\n#include <linux/mfd/syscon.h>\n#include <linux/mod_devicetable.h>\n#include <linux/platform_device.h>\n#include <linux/slab.h>\n\n#include \"clk-gate.h\"\n#include \"clk-mtk.h\"\n#include \"clk-mux.h\"\n\n#include <dt-bindings/clock/mt8192-clk.h>\n#include <dt-bindings/reset/mt8192-resets.h>\n\nstatic DEFINE_SPINLOCK(mt8192_clk_lock);\n\nstatic const struct mtk_fixed_clk top_fixed_clks[] = {\n\tFIXED_CLK(CLK_TOP_ULPOSC, \"ulposc\", NULL, 260000000),\n};\n\nstatic const struct mtk_fixed_factor top_divs[] = {\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D3, \"mainpll_d3\", \"mainpll\", 1, 3, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D4, \"mainpll_d4\", \"mainpll\", 1, 4, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D4_D2, \"mainpll_d4_d2\", \"mainpll_d4\", 1, 2, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D4_D4, \"mainpll_d4_d4\", \"mainpll_d4\", 1, 4, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D4_D8, \"mainpll_d4_d8\", \"mainpll_d4\", 1, 8, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D4_D16, \"mainpll_d4_d16\", \"mainpll_d4\", 1, 16, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D5, \"mainpll_d5\", \"mainpll\", 1, 5, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D5_D2, \"mainpll_d5_d2\", \"mainpll_d5\", 1, 2, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D5_D4, \"mainpll_d5_d4\", \"mainpll_d5\", 1, 4, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D5_D8, \"mainpll_d5_d8\", \"mainpll_d5\", 1, 8, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D6, \"mainpll_d6\", \"mainpll\", 1, 6, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D6_D2, \"mainpll_d6_d2\", \"mainpll_d6\", 1, 2, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D6_D4, \"mainpll_d6_d4\", \"mainpll_d6\", 1, 4, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D7, \"mainpll_d7\", \"mainpll\", 1, 7, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D7_D2, \"mainpll_d7_d2\", \"mainpll_d7\", 1, 2, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D7_D4, \"mainpll_d7_d4\", \"mainpll_d7\", 1, 4, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D7_D8, \"mainpll_d7_d8\", \"mainpll_d7\", 1, 8, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D3, \"univpll_d3\", \"univpll\", 1, 3, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D4, \"univpll_d4\", \"univpll\", 1, 4, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D4_D2, \"univpll_d4_d2\", \"univpll_d4\", 1, 2, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D4_D4, \"univpll_d4_d4\", \"univpll_d4\", 1, 4, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D4_D8, \"univpll_d4_d8\", \"univpll_d4\", 1, 8, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D5, \"univpll_d5\", \"univpll\", 1, 5, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D5_D2, \"univpll_d5_d2\", \"univpll_d5\", 1, 2, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D5_D4, \"univpll_d5_d4\", \"univpll_d5\", 1, 4, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D5_D8, \"univpll_d5_d8\", \"univpll_d5\", 1, 8, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D6, \"univpll_d6\", \"univpll\", 1, 6, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D6_D2, \"univpll_d6_d2\", \"univpll_d6\", 1, 2, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D6_D4, \"univpll_d6_d4\", \"univpll_d6\", 1, 4, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D6_D8, \"univpll_d6_d8\", \"univpll_d6\", 1, 8, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D6_D16, \"univpll_d6_d16\", \"univpll_d6\", 1, 16, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D7, \"univpll_d7\", \"univpll\", 1, 7, 0),\n\tFACTOR(CLK_TOP_APLL1, \"apll1_ck\", \"apll1\", 1, 1),\n\tFACTOR(CLK_TOP_APLL1_D2, \"apll1_d2\", \"apll1\", 1, 2),\n\tFACTOR(CLK_TOP_APLL1_D4, \"apll1_d4\", \"apll1\", 1, 4),\n\tFACTOR(CLK_TOP_APLL1_D8, \"apll1_d8\", \"apll1\", 1, 8),\n\tFACTOR(CLK_TOP_APLL2, \"apll2_ck\", \"apll2\", 1, 1),\n\tFACTOR(CLK_TOP_APLL2_D2, \"apll2_d2\", \"apll2\", 1, 2),\n\tFACTOR(CLK_TOP_APLL2_D4, \"apll2_d4\", \"apll2\", 1, 4),\n\tFACTOR(CLK_TOP_APLL2_D8, \"apll2_d8\", \"apll2\", 1, 8),\n\tFACTOR(CLK_TOP_MMPLL_D4, \"mmpll_d4\", \"mmpll\", 1, 4),\n\tFACTOR(CLK_TOP_MMPLL_D4_D2, \"mmpll_d4_d2\", \"mmpll_d4\", 1, 2),\n\tFACTOR(CLK_TOP_MMPLL_D5, \"mmpll_d5\", \"mmpll\", 1, 5),\n\tFACTOR(CLK_TOP_MMPLL_D5_D2, \"mmpll_d5_d2\", \"mmpll_d5\", 1, 2),\n\tFACTOR(CLK_TOP_MMPLL_D6, \"mmpll_d6\", \"mmpll\", 1, 6),\n\tFACTOR(CLK_TOP_MMPLL_D6_D2, \"mmpll_d6_d2\", \"mmpll_d6\", 1, 2),\n\tFACTOR(CLK_TOP_MMPLL_D7, \"mmpll_d7\", \"mmpll\", 1, 7),\n\tFACTOR(CLK_TOP_MMPLL_D9, \"mmpll_d9\", \"mmpll\", 1, 9),\n\tFACTOR(CLK_TOP_APUPLL, \"apupll_ck\", \"apupll\", 1, 2),\n\tFACTOR(CLK_TOP_NPUPLL, \"npupll_ck\", \"npupll\", 1, 1),\n\tFACTOR(CLK_TOP_TVDPLL, \"tvdpll_ck\", \"tvdpll\", 1, 1),\n\tFACTOR(CLK_TOP_TVDPLL_D2, \"tvdpll_d2\", \"tvdpll\", 1, 2),\n\tFACTOR(CLK_TOP_TVDPLL_D4, \"tvdpll_d4\", \"tvdpll\", 1, 4),\n\tFACTOR(CLK_TOP_TVDPLL_D8, \"tvdpll_d8\", \"tvdpll\", 1, 8),\n\tFACTOR(CLK_TOP_TVDPLL_D16, \"tvdpll_d16\", \"tvdpll\", 1, 16),\n\tFACTOR(CLK_TOP_MSDCPLL, \"msdcpll_ck\", \"msdcpll\", 1, 1),\n\tFACTOR(CLK_TOP_MSDCPLL_D2, \"msdcpll_d2\", \"msdcpll\", 1, 2),\n\tFACTOR(CLK_TOP_MSDCPLL_D4, \"msdcpll_d4\", \"msdcpll\", 1, 4),\n\tFACTOR(CLK_TOP_OSC_D2, \"osc_d2\", \"ulposc\", 1, 2),\n\tFACTOR(CLK_TOP_OSC_D4, \"osc_d4\", \"ulposc\", 1, 4),\n\tFACTOR(CLK_TOP_OSC_D8, \"osc_d8\", \"ulposc\", 1, 8),\n\tFACTOR(CLK_TOP_OSC_D10, \"osc_d10\", \"ulposc\", 1, 10),\n\tFACTOR(CLK_TOP_OSC_D16, \"osc_d16\", \"ulposc\", 1, 16),\n\tFACTOR(CLK_TOP_OSC_D20, \"osc_d20\", \"ulposc\", 1, 20),\n\tFACTOR(CLK_TOP_CSW_F26M_D2, \"csw_f26m_d2\", \"clk26m\", 1, 2),\n\tFACTOR(CLK_TOP_ADSPPLL, \"adsppll_ck\", \"adsppll\", 1, 1),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_192M, \"univpll_192m\", \"univpll\", 1, 13, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_192M_D2, \"univpll_192m_d2\", \"univpll_192m\", 1, 2, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_192M_D4, \"univpll_192m_d4\", \"univpll_192m\", 1, 4, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_192M_D8, \"univpll_192m_d8\", \"univpll_192m\", 1, 8, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_192M_D16, \"univpll_192m_d16\", \"univpll_192m\", 1, 16, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_192M_D32, \"univpll_192m_d32\", \"univpll_192m\", 1, 32, 0),\n};\n\nstatic const char * const axi_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d4_d4\",\n\t\"mainpll_d7_d2\",\n\t\"mainpll_d4_d2\",\n\t\"mainpll_d5_d2\",\n\t\"mainpll_d6_d2\",\n\t\"osc_d4\"\n};\n\nstatic const char * const spm_parents[] = {\n\t\"clk26m\",\n\t\"osc_d10\",\n\t\"mainpll_d7_d4\",\n\t\"clk32k\"\n};\n\nstatic const char * const scp_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d5\",\n\t\"mainpll_d6_d2\",\n\t\"mainpll_d6\",\n\t\"univpll_d6\",\n\t\"mainpll_d4_d2\",\n\t\"mainpll_d5_d2\",\n\t\"univpll_d4_d2\"\n};\n\nstatic const char * const bus_aximem_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d7_d2\",\n\t\"mainpll_d4_d2\",\n\t\"mainpll_d5_d2\",\n\t\"mainpll_d6\"\n};\n\nstatic const char * const disp_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d6_d2\",\n\t\"mainpll_d5_d2\",\n\t\"mmpll_d6_d2\",\n\t\"univpll_d5_d2\",\n\t\"univpll_d4_d2\",\n\t\"mmpll_d7\",\n\t\"univpll_d6\",\n\t\"mainpll_d4\",\n\t\"mmpll_d5_d2\"\n};\n\nstatic const char * const mdp_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d5_d2\",\n\t\"mmpll_d6_d2\",\n\t\"mainpll_d4_d2\",\n\t\"mmpll_d4_d2\",\n\t\"mainpll_d6\",\n\t\"univpll_d6\",\n\t\"mainpll_d4\",\n\t\"tvdpll_ck\",\n\t\"univpll_d4\",\n\t\"mmpll_d5_d2\"\n};\n\nstatic const char * const img_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d4\",\n\t\"tvdpll_ck\",\n\t\"mainpll_d4\",\n\t\"univpll_d5\",\n\t\"mmpll_d6\",\n\t\"univpll_d6\",\n\t\"mainpll_d6\",\n\t\"mmpll_d4_d2\",\n\t\"mainpll_d4_d2\",\n\t\"mmpll_d6_d2\",\n\t\"mmpll_d5_d2\"\n};\n\nstatic const char * const ipe_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d4\",\n\t\"mmpll_d6\",\n\t\"univpll_d6\",\n\t\"mainpll_d6\",\n\t\"univpll_d4_d2\",\n\t\"mainpll_d4_d2\",\n\t\"mmpll_d6_d2\",\n\t\"mmpll_d5_d2\"\n};\n\nstatic const char * const dpe_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d4\",\n\t\"mmpll_d6\",\n\t\"univpll_d6\",\n\t\"mainpll_d6\",\n\t\"univpll_d4_d2\",\n\t\"univpll_d5_d2\",\n\t\"mmpll_d6_d2\"\n};\n\nstatic const char * const cam_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d4\",\n\t\"mmpll_d6\",\n\t\"univpll_d4\",\n\t\"univpll_d5\",\n\t\"univpll_d6\",\n\t\"mmpll_d7\",\n\t\"univpll_d4_d2\",\n\t\"mainpll_d4_d2\",\n\t\"univpll_d6_d2\"\n};\n\nstatic const char * const ccu_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d4\",\n\t\"mmpll_d6\",\n\t\"mainpll_d6\",\n\t\"mmpll_d7\",\n\t\"univpll_d4_d2\",\n\t\"mmpll_d6_d2\",\n\t\"mmpll_d5_d2\",\n\t\"univpll_d5\",\n\t\"univpll_d6_d2\"\n};\n\nstatic const char * const dsp7_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d4_d2\",\n\t\"mainpll_d6\",\n\t\"mmpll_d6\",\n\t\"univpll_d5\",\n\t\"mmpll_d5\",\n\t\"univpll_d4\",\n\t\"mmpll_d4\"\n};\n\nstatic const char * const mfg_ref_parents[] = {\n\t\"clk26m\",\n\t\"clk26m\",\n\t\"univpll_d6\",\n\t\"mainpll_d5_d2\"\n};\n\nstatic const char * const mfg_pll_parents[] = {\n\t\"mfg_ref_sel\",\n\t\"mfgpll\"\n};\n\nstatic const char * const camtg_parents[] = {\n\t\"clk26m\",\n\t\"univpll_192m_d8\",\n\t\"univpll_d6_d8\",\n\t\"univpll_192m_d4\",\n\t\"univpll_d6_d16\",\n\t\"csw_f26m_d2\",\n\t\"univpll_192m_d16\",\n\t\"univpll_192m_d32\"\n};\n\nstatic const char * const uart_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d6_d8\"\n};\n\nstatic const char * const spi_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d5_d4\",\n\t\"mainpll_d6_d4\",\n\t\"msdcpll_d4\"\n};\n\nstatic const char * const msdc50_0_h_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d4_d2\",\n\t\"mainpll_d6_d2\"\n};\n\nstatic const char * const msdc50_0_parents[] = {\n\t\"clk26m\",\n\t\"msdcpll_ck\",\n\t\"msdcpll_d2\",\n\t\"univpll_d4_d4\",\n\t\"mainpll_d6_d2\",\n\t\"univpll_d4_d2\"\n};\n\nstatic const char * const msdc30_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d6_d2\",\n\t\"mainpll_d6_d2\",\n\t\"mainpll_d7_d2\",\n\t\"msdcpll_d2\"\n};\n\nstatic const char * const audio_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d5_d8\",\n\t\"mainpll_d7_d8\",\n\t\"mainpll_d4_d16\"\n};\n\nstatic const char * const aud_intbus_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d4_d4\",\n\t\"mainpll_d7_d4\"\n};\n\nstatic const char * const pwrap_ulposc_parents[] = {\n\t\"osc_d10\",\n\t\"clk26m\",\n\t\"osc_d4\",\n\t\"osc_d8\",\n\t\"osc_d16\"\n};\n\nstatic const char * const atb_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d4_d2\",\n\t\"mainpll_d5_d2\"\n};\n\nstatic const char * const dpi_parents[] = {\n\t\"clk26m\",\n\t\"tvdpll_d2\",\n\t\"tvdpll_d4\",\n\t\"tvdpll_d8\",\n\t\"tvdpll_d16\"\n};\n\nstatic const char * const scam_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d5_d4\"\n};\n\nstatic const char * const disp_pwm_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d6_d4\",\n\t\"osc_d2\",\n\t\"osc_d4\",\n\t\"osc_d16\"\n};\n\nstatic const char * const usb_top_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d5_d4\",\n\t\"univpll_d6_d4\",\n\t\"univpll_d5_d2\"\n};\n\nstatic const char * const ssusb_xhci_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d5_d4\",\n\t\"univpll_d6_d4\",\n\t\"univpll_d5_d2\"\n};\n\nstatic const char * const i2c_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d4_d8\",\n\t\"univpll_d5_d4\"\n};\n\nstatic const char * const seninf_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d4_d4\",\n\t\"univpll_d6_d2\",\n\t\"univpll_d4_d2\",\n\t\"univpll_d7\",\n\t\"univpll_d6\",\n\t\"mmpll_d6\",\n\t\"univpll_d5\"\n};\n\nstatic const char * const tl_parents[] = {\n\t\"clk26m\",\n\t\"univpll_192m_d2\",\n\t\"mainpll_d6_d4\"\n};\n\nstatic const char * const dxcc_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d4_d2\",\n\t\"mainpll_d4_d4\",\n\t\"mainpll_d4_d8\"\n};\n\nstatic const char * const aud_engen1_parents[] = {\n\t\"clk26m\",\n\t\"apll1_d2\",\n\t\"apll1_d4\",\n\t\"apll1_d8\"\n};\n\nstatic const char * const aud_engen2_parents[] = {\n\t\"clk26m\",\n\t\"apll2_d2\",\n\t\"apll2_d4\",\n\t\"apll2_d8\"\n};\n\nstatic const char * const aes_ufsfde_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d4\",\n\t\"mainpll_d4_d2\",\n\t\"mainpll_d6\",\n\t\"mainpll_d4_d4\",\n\t\"univpll_d4_d2\",\n\t\"univpll_d6\"\n};\n\nstatic const char * const ufs_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d4_d4\",\n\t\"mainpll_d4_d8\",\n\t\"univpll_d4_d4\",\n\t\"mainpll_d6_d2\",\n\t\"mainpll_d5_d2\",\n\t\"msdcpll_d2\"\n};\n\nstatic const char * const aud_1_parents[] = {\n\t\"clk26m\",\n\t\"apll1_ck\"\n};\n\nstatic const char * const aud_2_parents[] = {\n\t\"clk26m\",\n\t\"apll2_ck\"\n};\n\nstatic const char * const adsp_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d6\",\n\t\"mainpll_d5_d2\",\n\t\"univpll_d4_d4\",\n\t\"univpll_d4\",\n\t\"univpll_d6\",\n\t\"ulposc\",\n\t\"adsppll_ck\"\n};\n\nstatic const char * const dpmaif_main_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d4_d4\",\n\t\"mainpll_d6\",\n\t\"mainpll_d4_d2\",\n\t\"univpll_d4_d2\"\n};\n\nstatic const char * const venc_parents[] = {\n\t\"clk26m\",\n\t\"mmpll_d7\",\n\t\"mainpll_d6\",\n\t\"univpll_d4_d2\",\n\t\"mainpll_d4_d2\",\n\t\"univpll_d6\",\n\t\"mmpll_d6\",\n\t\"mainpll_d5_d2\",\n\t\"mainpll_d6_d2\",\n\t\"mmpll_d9\",\n\t\"univpll_d4_d4\",\n\t\"mainpll_d4\",\n\t\"univpll_d4\",\n\t\"univpll_d5\",\n\t\"univpll_d5_d2\",\n\t\"mainpll_d5\"\n};\n\nstatic const char * const vdec_parents[] = {\n\t\"clk26m\",\n\t\"univpll_192m_d2\",\n\t\"univpll_d5_d4\",\n\t\"mainpll_d5\",\n\t\"mainpll_d5_d2\",\n\t\"mmpll_d6_d2\",\n\t\"univpll_d5_d2\",\n\t\"mainpll_d4_d2\",\n\t\"univpll_d4_d2\",\n\t\"univpll_d7\",\n\t\"mmpll_d7\",\n\t\"mmpll_d6\",\n\t\"univpll_d5\",\n\t\"mainpll_d4\",\n\t\"univpll_d4\",\n\t\"univpll_d6\"\n};\n\nstatic const char * const camtm_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d7\",\n\t\"univpll_d6_d2\",\n\t\"univpll_d4_d2\"\n};\n\nstatic const char * const pwm_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d4_d8\"\n};\n\nstatic const char * const audio_h_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d7\",\n\t\"apll1_ck\",\n\t\"apll2_ck\"\n};\n\nstatic const char * const spmi_mst_parents[] = {\n\t\"clk26m\",\n\t\"csw_f26m_d2\",\n\t\"osc_d8\",\n\t\"osc_d10\",\n\t\"osc_d16\",\n\t\"osc_d20\",\n\t\"clk32k\"\n};\n\nstatic const char * const aes_msdcfde_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d4_d2\",\n\t\"mainpll_d6\",\n\t\"mainpll_d4_d4\",\n\t\"univpll_d4_d2\",\n\t\"univpll_d6\"\n};\n\nstatic const char * const sflash_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d7_d8\",\n\t\"univpll_d6_d8\",\n\t\"univpll_d5_d8\"\n};\n\nstatic const char * const apll_i2s_m_parents[] = {\n\t\"aud_1_sel\",\n\t\"aud_2_sel\"\n};\n\n \nstatic const struct mtk_mux top_mtk_muxes[] = {\n\t \n\tMUX_GATE_CLR_SET_UPD_FLAGS(CLK_TOP_AXI_SEL, \"axi_sel\",\n\t\t\t\t   axi_parents, 0x010, 0x014, 0x018, 0, 3, 7, 0x004, 0,\n\t\t\t\t   CLK_IS_CRITICAL | CLK_SET_RATE_PARENT),\n\tMUX_GATE_CLR_SET_UPD_FLAGS(CLK_TOP_SPM_SEL, \"spm_sel\",\n\t\t\t\t   spm_parents, 0x010, 0x014, 0x018, 8, 2, 15, 0x004, 1,\n\t\t\t\t   CLK_IS_CRITICAL | CLK_SET_RATE_PARENT),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_SCP_SEL, \"scp_sel\",\n\t\t\t     scp_parents, 0x010, 0x014, 0x018, 16, 3, 23, 0x004, 2),\n\tMUX_GATE_CLR_SET_UPD_FLAGS(CLK_TOP_BUS_AXIMEM_SEL, \"bus_aximem_sel\",\n\t\t\t\t   bus_aximem_parents, 0x010, 0x014, 0x018, 24, 3, 31, 0x004, 3,\n\t\t\t\t   CLK_IS_CRITICAL | CLK_SET_RATE_PARENT),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_DISP_SEL, \"disp_sel\",\n\t\t\t     disp_parents, 0x020, 0x024, 0x028, 0, 4, 7, 0x004, 4),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_MDP_SEL, \"mdp_sel\",\n\t\t\t     mdp_parents, 0x020, 0x024, 0x028, 8, 4, 15, 0x004, 5),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_IMG1_SEL, \"img1_sel\",\n\t\t\t     img_parents, 0x020, 0x024, 0x028, 16, 4, 23, 0x004, 6),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_IMG2_SEL, \"img2_sel\",\n\t\t\t     img_parents, 0x020, 0x024, 0x028, 24, 4, 31, 0x004, 7),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_IPE_SEL, \"ipe_sel\",\n\t\t\t     ipe_parents, 0x030, 0x034, 0x038, 0, 4, 7, 0x004, 8),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_DPE_SEL, \"dpe_sel\",\n\t\t\t     dpe_parents, 0x030, 0x034, 0x038, 8, 3, 15, 0x004, 9),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_CAM_SEL, \"cam_sel\",\n\t\t\t     cam_parents, 0x030, 0x034, 0x038, 16, 4, 23, 0x004, 10),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_CCU_SEL, \"ccu_sel\",\n\t\t\t     ccu_parents, 0x030, 0x034, 0x038, 24, 4, 31, 0x004, 11),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_DSP7_SEL, \"dsp7_sel\",\n\t\t\t     dsp7_parents, 0x050, 0x054, 0x058, 0, 3, 7, 0x004, 16),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_MFG_REF_SEL, \"mfg_ref_sel\",\n\t\t\t     mfg_ref_parents, 0x050, 0x054, 0x058, 16, 2, 23, 0x004, 18),\n\tMUX_CLR_SET_UPD(CLK_TOP_MFG_PLL_SEL, \"mfg_pll_sel\",\n\t\t\tmfg_pll_parents, 0x050, 0x054, 0x058, 18, 1, -1, -1),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_CAMTG_SEL, \"camtg_sel\",\n\t\t\t     camtg_parents, 0x050, 0x054, 0x058, 24, 3, 31, 0x004, 19),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_CAMTG2_SEL, \"camtg2_sel\",\n\t\t\t     camtg_parents, 0x060, 0x064, 0x068, 0, 3, 7, 0x004, 20),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_CAMTG3_SEL, \"camtg3_sel\",\n\t\t\t     camtg_parents, 0x060, 0x064, 0x068, 8, 3, 15, 0x004, 21),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_CAMTG4_SEL, \"camtg4_sel\",\n\t\t\t     camtg_parents, 0x060, 0x064, 0x068, 16, 3, 23, 0x004, 22),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_CAMTG5_SEL, \"camtg5_sel\",\n\t\t\t     camtg_parents, 0x060, 0x064, 0x068, 24, 3, 31, 0x004, 23),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_CAMTG6_SEL, \"camtg6_sel\",\n\t\t\t     camtg_parents, 0x070, 0x074, 0x078, 0, 3, 7, 0x004, 24),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_UART_SEL, \"uart_sel\",\n\t\t\t     uart_parents, 0x070, 0x074, 0x078, 8, 1, 15, 0x004, 25),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_SPI_SEL, \"spi_sel\",\n\t\t\t     spi_parents, 0x070, 0x074, 0x078, 16, 2, 23, 0x004, 26),\n\tMUX_GATE_CLR_SET_UPD_FLAGS(CLK_TOP_MSDC50_0_H_SEL, \"msdc50_0_h_sel\",\n\t\t\t\t   msdc50_0_h_parents, 0x070, 0x074, 0x078, 24, 2,\n\t\t\t\t   31, 0x004, 27, 0),\n\t \n\tMUX_GATE_CLR_SET_UPD_FLAGS(CLK_TOP_MSDC50_0_SEL, \"msdc50_0_sel\",\n\t\t\t\t   msdc50_0_parents, 0x080, 0x084, 0x088, 0, 3, 7, 0x004, 28, 0),\n\tMUX_GATE_CLR_SET_UPD_FLAGS(CLK_TOP_MSDC30_1_SEL, \"msdc30_1_sel\",\n\t\t\t\t   msdc30_parents, 0x080, 0x084, 0x088, 8, 3, 15, 0x004, 29, 0),\n\tMUX_GATE_CLR_SET_UPD_FLAGS(CLK_TOP_MSDC30_2_SEL, \"msdc30_2_sel\",\n\t\t\t\t   msdc30_parents, 0x080, 0x084, 0x088, 16, 3, 23, 0x004, 30, 0),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_AUDIO_SEL, \"audio_sel\",\n\t\t\t     audio_parents, 0x080, 0x084, 0x088, 24, 2, 31, 0x008, 0),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_AUD_INTBUS_SEL, \"aud_intbus_sel\",\n\t\t\t     aud_intbus_parents, 0x090, 0x094, 0x098, 0, 2, 7, 0x008, 1),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_PWRAP_ULPOSC_SEL, \"pwrap_ulposc_sel\",\n\t\t\t     pwrap_ulposc_parents, 0x090, 0x094, 0x098, 8, 3, 15, 0x008, 2),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_ATB_SEL, \"atb_sel\",\n\t\t\t     atb_parents, 0x090, 0x094, 0x098, 16, 2, 23, 0x008, 3),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_DPI_SEL, \"dpi_sel\",\n\t\t\t     dpi_parents, 0x0a0, 0x0a4, 0x0a8, 0, 3, 7, 0x008, 5),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_SCAM_SEL, \"scam_sel\",\n\t\t\t     scam_parents, 0x0a0, 0x0a4, 0x0a8, 8, 1, 15, 0x008, 6),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_DISP_PWM_SEL, \"disp_pwm_sel\",\n\t\t\t     disp_pwm_parents, 0x0a0, 0x0a4, 0x0a8, 16, 3, 23, 0x008, 7),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_USB_TOP_SEL, \"usb_top_sel\",\n\t\t\t     usb_top_parents, 0x0a0, 0x0a4, 0x0a8, 24, 2, 31, 0x008, 8),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_SSUSB_XHCI_SEL, \"ssusb_xhci_sel\",\n\t\t\t     ssusb_xhci_parents, 0x0b0, 0x0b4, 0x0b8, 0, 2, 7, 0x008, 9),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_I2C_SEL, \"i2c_sel\",\n\t\t\t     i2c_parents, 0x0b0, 0x0b4, 0x0b8, 8, 2, 15, 0x008, 10),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_SENINF_SEL, \"seninf_sel\",\n\t\t\t     seninf_parents, 0x0b0, 0x0b4, 0x0b8, 16, 3, 23, 0x008, 11),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_SENINF1_SEL, \"seninf1_sel\",\n\t\t\t     seninf_parents, 0x0b0, 0x0b4, 0x0b8, 24, 3, 31, 0x008, 12),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_SENINF2_SEL, \"seninf2_sel\",\n\t\t\t     seninf_parents, 0x0c0, 0x0c4, 0x0c8, 0, 3, 7, 0x008, 13),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_SENINF3_SEL, \"seninf3_sel\",\n\t\t\t     seninf_parents, 0x0c0, 0x0c4, 0x0c8, 8, 3, 15, 0x008, 14),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_TL_SEL, \"tl_sel\",\n\t\t\t     tl_parents, 0x0c0, 0x0c4, 0x0c8, 16, 2, 23, 0x008, 15),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_DXCC_SEL, \"dxcc_sel\",\n\t\t\t     dxcc_parents, 0x0c0, 0x0c4, 0x0c8, 24, 2, 31, 0x008, 16),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_AUD_ENGEN1_SEL, \"aud_engen1_sel\",\n\t\t\t     aud_engen1_parents, 0x0d0, 0x0d4, 0x0d8, 0, 2, 7, 0x008, 17),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_AUD_ENGEN2_SEL, \"aud_engen2_sel\",\n\t\t\t     aud_engen2_parents, 0x0d0, 0x0d4, 0x0d8, 8, 2, 15, 0x008, 18),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_AES_UFSFDE_SEL, \"aes_ufsfde_sel\",\n\t\t\t     aes_ufsfde_parents, 0x0d0, 0x0d4, 0x0d8, 16, 3, 23, 0x008, 19),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_UFS_SEL, \"ufs_sel\",\n\t\t\t     ufs_parents, 0x0d0, 0x0d4, 0x0d8, 24, 3, 31, 0x008, 20),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_AUD_1_SEL, \"aud_1_sel\",\n\t\t\t     aud_1_parents, 0x0e0, 0x0e4, 0x0e8, 0, 1, 7, 0x008, 21),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_AUD_2_SEL, \"aud_2_sel\",\n\t\t\t     aud_2_parents, 0x0e0, 0x0e4, 0x0e8, 8, 1, 15, 0x008, 22),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_ADSP_SEL, \"adsp_sel\",\n\t\t\t     adsp_parents, 0x0e0, 0x0e4, 0x0e8, 16, 3, 23, 0x008, 23),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_DPMAIF_MAIN_SEL, \"dpmaif_main_sel\",\n\t\t\t     dpmaif_main_parents, 0x0e0, 0x0e4, 0x0e8, 24, 3, 31, 0x008, 24),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_VENC_SEL, \"venc_sel\",\n\t\t\t     venc_parents, 0x0f0, 0x0f4, 0x0f8, 0, 4, 7, 0x008, 25),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_VDEC_SEL, \"vdec_sel\",\n\t\t\t     vdec_parents, 0x0f0, 0x0f4, 0x0f8, 8, 4, 15, 0x008, 26),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_CAMTM_SEL, \"camtm_sel\",\n\t\t\t     camtm_parents, 0x0f0, 0x0f4, 0x0f8, 16, 2, 23, 0x008, 27),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_PWM_SEL, \"pwm_sel\",\n\t\t\t     pwm_parents, 0x0f0, 0x0f4, 0x0f8, 24, 1, 31, 0x008, 28),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_AUDIO_H_SEL, \"audio_h_sel\",\n\t\t\t     audio_h_parents, 0x100, 0x104, 0x108, 0, 2, 7, 0x008, 29),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_SPMI_MST_SEL, \"spmi_mst_sel\",\n\t\t\t     spmi_mst_parents, 0x100, 0x104, 0x108, 8, 3, 15, 0x008, 30),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_AES_MSDCFDE_SEL, \"aes_msdcfde_sel\",\n\t\t\t     aes_msdcfde_parents, 0x100, 0x104, 0x108, 24, 3, 31, 0x00c, 1),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_SFLASH_SEL, \"sflash_sel\",\n\t\t\t     sflash_parents, 0x110, 0x114, 0x118, 8, 2, 15, 0x00c, 3),\n};\n\nstatic struct mtk_composite top_muxes[] = {\n\t \n\tMUX(CLK_TOP_APLL_I2S0_M_SEL, \"apll_i2s0_m_sel\", apll_i2s_m_parents, 0x320, 16, 1),\n\tMUX(CLK_TOP_APLL_I2S1_M_SEL, \"apll_i2s1_m_sel\", apll_i2s_m_parents, 0x320, 17, 1),\n\tMUX(CLK_TOP_APLL_I2S2_M_SEL, \"apll_i2s2_m_sel\", apll_i2s_m_parents, 0x320, 18, 1),\n\tMUX(CLK_TOP_APLL_I2S3_M_SEL, \"apll_i2s3_m_sel\", apll_i2s_m_parents, 0x320, 19, 1),\n\tMUX(CLK_TOP_APLL_I2S4_M_SEL, \"apll_i2s4_m_sel\", apll_i2s_m_parents, 0x320, 20, 1),\n\tMUX(CLK_TOP_APLL_I2S5_M_SEL, \"apll_i2s5_m_sel\", apll_i2s_m_parents, 0x320, 21, 1),\n\tMUX(CLK_TOP_APLL_I2S6_M_SEL, \"apll_i2s6_m_sel\", apll_i2s_m_parents, 0x320, 22, 1),\n\tMUX(CLK_TOP_APLL_I2S7_M_SEL, \"apll_i2s7_m_sel\", apll_i2s_m_parents, 0x320, 23, 1),\n\tMUX(CLK_TOP_APLL_I2S8_M_SEL, \"apll_i2s8_m_sel\", apll_i2s_m_parents, 0x320, 24, 1),\n\tMUX(CLK_TOP_APLL_I2S9_M_SEL, \"apll_i2s9_m_sel\", apll_i2s_m_parents, 0x320, 25, 1),\n\t \n\tDIV_GATE(CLK_TOP_APLL12_DIV0, \"apll12_div0\", \"apll_i2s0_m_sel\", 0x320, 0, 0x328, 8, 0),\n\tDIV_GATE(CLK_TOP_APLL12_DIV1, \"apll12_div1\", \"apll_i2s1_m_sel\", 0x320, 1, 0x328, 8, 8),\n\tDIV_GATE(CLK_TOP_APLL12_DIV2, \"apll12_div2\", \"apll_i2s2_m_sel\", 0x320, 2, 0x328, 8, 16),\n\tDIV_GATE(CLK_TOP_APLL12_DIV3, \"apll12_div3\", \"apll_i2s3_m_sel\", 0x320, 3, 0x328, 8, 24),\n\tDIV_GATE(CLK_TOP_APLL12_DIV4, \"apll12_div4\", \"apll_i2s4_m_sel\", 0x320, 4, 0x334, 8, 0),\n\tDIV_GATE(CLK_TOP_APLL12_DIVB, \"apll12_divb\", \"apll12_div4\", 0x320, 5, 0x334, 8, 8),\n\tDIV_GATE(CLK_TOP_APLL12_DIV5, \"apll12_div5\", \"apll_i2s5_m_sel\", 0x320, 6, 0x334, 8, 16),\n\tDIV_GATE(CLK_TOP_APLL12_DIV6, \"apll12_div6\", \"apll_i2s6_m_sel\", 0x320, 7, 0x334, 8, 24),\n\tDIV_GATE(CLK_TOP_APLL12_DIV7, \"apll12_div7\", \"apll_i2s7_m_sel\", 0x320, 8, 0x338, 8, 0),\n\tDIV_GATE(CLK_TOP_APLL12_DIV8, \"apll12_div8\", \"apll_i2s8_m_sel\", 0x320, 9, 0x338, 8, 8),\n\tDIV_GATE(CLK_TOP_APLL12_DIV9, \"apll12_div9\", \"apll_i2s9_m_sel\", 0x320, 10, 0x338, 8, 16),\n};\n\nstatic const struct mtk_gate_regs infra0_cg_regs = {\n\t.set_ofs = 0x80,\n\t.clr_ofs = 0x84,\n\t.sta_ofs = 0x90,\n};\n\nstatic const struct mtk_gate_regs infra1_cg_regs = {\n\t.set_ofs = 0x88,\n\t.clr_ofs = 0x8c,\n\t.sta_ofs = 0x94,\n};\n\nstatic const struct mtk_gate_regs infra2_cg_regs = {\n\t.set_ofs = 0xa4,\n\t.clr_ofs = 0xa8,\n\t.sta_ofs = 0xac,\n};\n\nstatic const struct mtk_gate_regs infra3_cg_regs = {\n\t.set_ofs = 0xc0,\n\t.clr_ofs = 0xc4,\n\t.sta_ofs = 0xc8,\n};\n\nstatic const struct mtk_gate_regs infra4_cg_regs = {\n\t.set_ofs = 0xd0,\n\t.clr_ofs = 0xd4,\n\t.sta_ofs = 0xd8,\n};\n\nstatic const struct mtk_gate_regs infra5_cg_regs = {\n\t.set_ofs = 0xe0,\n\t.clr_ofs = 0xe4,\n\t.sta_ofs = 0xe8,\n};\n\n#define GATE_INFRA0(_id, _name, _parent, _shift)\t\\\n\tGATE_MTK(_id, _name, _parent, &infra0_cg_regs, _shift, &mtk_clk_gate_ops_setclr)\n\n#define GATE_INFRA1_FLAGS(_id, _name, _parent, _shift, _flag)\t\t\\\n\tGATE_MTK_FLAGS(_id, _name, _parent, &infra1_cg_regs, _shift,\t\\\n\t\t&mtk_clk_gate_ops_setclr, _flag)\n\n#define GATE_INFRA1(_id, _name, _parent, _shift)\t\\\n\tGATE_INFRA1_FLAGS(_id, _name, _parent, _shift, 0)\n\n#define GATE_INFRA2(_id, _name, _parent, _shift)\t\\\n\tGATE_MTK(_id, _name, _parent, &infra2_cg_regs, _shift, &mtk_clk_gate_ops_setclr)\n\n#define GATE_INFRA3_FLAGS(_id, _name, _parent, _shift, _flag)\t\t\\\n\tGATE_MTK_FLAGS(_id, _name, _parent, &infra3_cg_regs, _shift,\t\\\n\t\t&mtk_clk_gate_ops_setclr, _flag)\n\n#define GATE_INFRA3(_id, _name, _parent, _shift)\t\\\n\tGATE_INFRA3_FLAGS(_id, _name, _parent, _shift, 0)\n\n#define GATE_INFRA4(_id, _name, _parent, _shift)\t\\\n\tGATE_MTK(_id, _name, _parent, &infra4_cg_regs, _shift, &mtk_clk_gate_ops_setclr)\n\n#define GATE_INFRA5_FLAGS(_id, _name, _parent, _shift, _flag)\t\t\\\n\tGATE_MTK_FLAGS(_id, _name, _parent, &infra5_cg_regs, _shift,\t\\\n\t\t&mtk_clk_gate_ops_setclr, _flag)\n\n#define GATE_INFRA5(_id, _name, _parent, _shift)\t\\\n\tGATE_INFRA5_FLAGS(_id, _name, _parent, _shift, 0)\n\n \nstatic const struct mtk_gate infra_clks[] = {\n\t \n\tGATE_INFRA0(CLK_INFRA_PMIC_TMR, \"infra_pmic_tmr\", \"pwrap_ulposc_sel\", 0),\n\tGATE_INFRA0(CLK_INFRA_PMIC_AP, \"infra_pmic_ap\", \"pwrap_ulposc_sel\", 1),\n\tGATE_INFRA0(CLK_INFRA_PMIC_MD, \"infra_pmic_md\", \"pwrap_ulposc_sel\", 2),\n\tGATE_INFRA0(CLK_INFRA_PMIC_CONN, \"infra_pmic_conn\", \"pwrap_ulposc_sel\", 3),\n\tGATE_INFRA0(CLK_INFRA_SCPSYS, \"infra_scpsys\", \"scp_sel\", 4),\n\tGATE_INFRA0(CLK_INFRA_SEJ, \"infra_sej\", \"axi_sel\", 5),\n\tGATE_INFRA0(CLK_INFRA_APXGPT, \"infra_apxgpt\", \"axi_sel\", 6),\n\tGATE_INFRA0(CLK_INFRA_GCE, \"infra_gce\", \"axi_sel\", 8),\n\tGATE_INFRA0(CLK_INFRA_GCE2, \"infra_gce2\", \"axi_sel\", 9),\n\tGATE_INFRA0(CLK_INFRA_THERM, \"infra_therm\", \"axi_sel\", 10),\n\tGATE_INFRA0(CLK_INFRA_I2C0, \"infra_i2c0\", \"i2c_sel\", 11),\n\tGATE_INFRA0(CLK_INFRA_AP_DMA_PSEUDO, \"infra_ap_dma_pseudo\", \"axi_sel\", 12),\n\tGATE_INFRA0(CLK_INFRA_I2C2, \"infra_i2c2\", \"i2c_sel\", 13),\n\tGATE_INFRA0(CLK_INFRA_I2C3, \"infra_i2c3\", \"i2c_sel\", 14),\n\tGATE_INFRA0(CLK_INFRA_PWM_H, \"infra_pwm_h\", \"axi_sel\", 15),\n\tGATE_INFRA0(CLK_INFRA_PWM1, \"infra_pwm1\", \"pwm_sel\", 16),\n\tGATE_INFRA0(CLK_INFRA_PWM2, \"infra_pwm2\", \"pwm_sel\", 17),\n\tGATE_INFRA0(CLK_INFRA_PWM3, \"infra_pwm3\", \"pwm_sel\", 18),\n\tGATE_INFRA0(CLK_INFRA_PWM4, \"infra_pwm4\", \"pwm_sel\", 19),\n\tGATE_INFRA0(CLK_INFRA_PWM, \"infra_pwm\", \"pwm_sel\", 21),\n\tGATE_INFRA0(CLK_INFRA_UART0, \"infra_uart0\", \"uart_sel\", 22),\n\tGATE_INFRA0(CLK_INFRA_UART1, \"infra_uart1\", \"uart_sel\", 23),\n\tGATE_INFRA0(CLK_INFRA_UART2, \"infra_uart2\", \"uart_sel\", 24),\n\tGATE_INFRA0(CLK_INFRA_UART3, \"infra_uart3\", \"uart_sel\", 25),\n\tGATE_INFRA0(CLK_INFRA_GCE_26M, \"infra_gce_26m\", \"axi_sel\", 27),\n\tGATE_INFRA0(CLK_INFRA_CQ_DMA_FPC, \"infra_cq_dma_fpc\", \"axi_sel\", 28),\n\tGATE_INFRA0(CLK_INFRA_BTIF, \"infra_btif\", \"axi_sel\", 31),\n\t \n\tGATE_INFRA1(CLK_INFRA_SPI0, \"infra_spi0\", \"spi_sel\", 1),\n\tGATE_INFRA1(CLK_INFRA_MSDC0, \"infra_msdc0\", \"msdc50_0_h_sel\", 2),\n\tGATE_INFRA1(CLK_INFRA_MSDC1, \"infra_msdc1\", \"msdc50_0_h_sel\", 4),\n\tGATE_INFRA1(CLK_INFRA_MSDC2, \"infra_msdc2\", \"msdc50_0_h_sel\", 5),\n\tGATE_INFRA1(CLK_INFRA_MSDC0_SRC, \"infra_msdc0_src\", \"msdc50_0_sel\", 6),\n\tGATE_INFRA1(CLK_INFRA_GCPU, \"infra_gcpu\", \"axi_sel\", 8),\n\tGATE_INFRA1(CLK_INFRA_TRNG, \"infra_trng\", \"axi_sel\", 9),\n\tGATE_INFRA1(CLK_INFRA_AUXADC, \"infra_auxadc\", \"clk26m\", 10),\n\tGATE_INFRA1(CLK_INFRA_CPUM, \"infra_cpum\", \"axi_sel\", 11),\n\tGATE_INFRA1(CLK_INFRA_CCIF1_AP, \"infra_ccif1_ap\", \"axi_sel\", 12),\n\tGATE_INFRA1(CLK_INFRA_CCIF1_MD, \"infra_ccif1_md\", \"axi_sel\", 13),\n\tGATE_INFRA1(CLK_INFRA_AUXADC_MD, \"infra_auxadc_md\", \"clk26m\", 14),\n\tGATE_INFRA1(CLK_INFRA_PCIE_TL_26M, \"infra_pcie_tl_26m\", \"axi_sel\", 15),\n\tGATE_INFRA1(CLK_INFRA_MSDC1_SRC, \"infra_msdc1_src\", \"msdc30_1_sel\", 16),\n\tGATE_INFRA1(CLK_INFRA_MSDC2_SRC, \"infra_msdc2_src\", \"msdc30_2_sel\", 17),\n\tGATE_INFRA1(CLK_INFRA_PCIE_TL_96M, \"infra_pcie_tl_96m\", \"tl_sel\", 18),\n\tGATE_INFRA1(CLK_INFRA_PCIE_PL_P_250M, \"infra_pcie_pl_p_250m\", \"axi_sel\", 19),\n\tGATE_INFRA1_FLAGS(CLK_INFRA_DEVICE_APC, \"infra_device_apc\", \"axi_sel\", 20, CLK_IS_CRITICAL),\n\tGATE_INFRA1(CLK_INFRA_CCIF_AP, \"infra_ccif_ap\", \"axi_sel\", 23),\n\tGATE_INFRA1(CLK_INFRA_DEBUGSYS, \"infra_debugsys\", \"axi_sel\", 24),\n\tGATE_INFRA1(CLK_INFRA_AUDIO, \"infra_audio\", \"axi_sel\", 25),\n\tGATE_INFRA1(CLK_INFRA_CCIF_MD, \"infra_ccif_md\", \"axi_sel\", 26),\n\tGATE_INFRA1(CLK_INFRA_DXCC_SEC_CORE, \"infra_dxcc_sec_core\", \"dxcc_sel\", 27),\n\tGATE_INFRA1(CLK_INFRA_DXCC_AO, \"infra_dxcc_ao\", \"dxcc_sel\", 28),\n\tGATE_INFRA1(CLK_INFRA_DBG_TRACE, \"infra_dbg_trace\", \"axi_sel\", 29),\n\tGATE_INFRA1(CLK_INFRA_DEVMPU_B, \"infra_devmpu_b\", \"axi_sel\", 30),\n\tGATE_INFRA1(CLK_INFRA_DRAMC_F26M, \"infra_dramc_f26m\", \"clk26m\", 31),\n\t \n\tGATE_INFRA2(CLK_INFRA_IRTX, \"infra_irtx\", \"clk26m\", 0),\n\tGATE_INFRA2(CLK_INFRA_SSUSB, \"infra_ssusb\", \"usb_top_sel\", 1),\n\tGATE_INFRA2(CLK_INFRA_DISP_PWM, \"infra_disp_pwm\", \"axi_sel\", 2),\n\tGATE_INFRA2(CLK_INFRA_CLDMA_B, \"infra_cldma_b\", \"axi_sel\", 3),\n\tGATE_INFRA2(CLK_INFRA_AUDIO_26M_B, \"infra_audio_26m_b\", \"clk26m\", 4),\n\tGATE_INFRA2(CLK_INFRA_MODEM_TEMP_SHARE, \"infra_modem_temp_share\", \"clk26m\", 5),\n\tGATE_INFRA2(CLK_INFRA_SPI1, \"infra_spi1\", \"spi_sel\", 6),\n\tGATE_INFRA2(CLK_INFRA_I2C4, \"infra_i2c4\", \"i2c_sel\", 7),\n\tGATE_INFRA2(CLK_INFRA_SPI2, \"infra_spi2\", \"spi_sel\", 9),\n\tGATE_INFRA2(CLK_INFRA_SPI3, \"infra_spi3\", \"spi_sel\", 10),\n\tGATE_INFRA2(CLK_INFRA_UNIPRO_SYS, \"infra_unipro_sys\", \"ufs_sel\", 11),\n\tGATE_INFRA2(CLK_INFRA_UNIPRO_TICK, \"infra_unipro_tick\", \"clk26m\", 12),\n\tGATE_INFRA2(CLK_INFRA_UFS_MP_SAP_B, \"infra_ufs_mp_sap_b\", \"clk26m\", 13),\n\tGATE_INFRA2(CLK_INFRA_MD32_B, \"infra_md32_b\", \"axi_sel\", 14),\n\tGATE_INFRA2(CLK_INFRA_UNIPRO_MBIST, \"infra_unipro_mbist\", \"axi_sel\", 16),\n\tGATE_INFRA2(CLK_INFRA_I2C5, \"infra_i2c5\", \"i2c_sel\", 18),\n\tGATE_INFRA2(CLK_INFRA_I2C5_ARBITER, \"infra_i2c5_arbiter\", \"i2c_sel\", 19),\n\tGATE_INFRA2(CLK_INFRA_I2C5_IMM, \"infra_i2c5_imm\", \"i2c_sel\", 20),\n\tGATE_INFRA2(CLK_INFRA_I2C1_ARBITER, \"infra_i2c1_arbiter\", \"i2c_sel\", 21),\n\tGATE_INFRA2(CLK_INFRA_I2C1_IMM, \"infra_i2c1_imm\", \"i2c_sel\", 22),\n\tGATE_INFRA2(CLK_INFRA_I2C2_ARBITER, \"infra_i2c2_arbiter\", \"i2c_sel\", 23),\n\tGATE_INFRA2(CLK_INFRA_I2C2_IMM, \"infra_i2c2_imm\", \"i2c_sel\", 24),\n\tGATE_INFRA2(CLK_INFRA_SPI4, \"infra_spi4\", \"spi_sel\", 25),\n\tGATE_INFRA2(CLK_INFRA_SPI5, \"infra_spi5\", \"spi_sel\", 26),\n\tGATE_INFRA2(CLK_INFRA_CQ_DMA, \"infra_cq_dma\", \"axi_sel\", 27),\n\tGATE_INFRA2(CLK_INFRA_UFS, \"infra_ufs\", \"ufs_sel\", 28),\n\tGATE_INFRA2(CLK_INFRA_AES_UFSFDE, \"infra_aes_ufsfde\", \"aes_ufsfde_sel\", 29),\n\tGATE_INFRA2(CLK_INFRA_UFS_TICK, \"infra_ufs_tick\", \"ufs_sel\", 30),\n\tGATE_INFRA2(CLK_INFRA_SSUSB_XHCI, \"infra_ssusb_xhci\", \"ssusb_xhci_sel\", 31),\n\t \n\tGATE_INFRA3(CLK_INFRA_MSDC0_SELF, \"infra_msdc0_self\", \"msdc50_0_sel\", 0),\n\tGATE_INFRA3(CLK_INFRA_MSDC1_SELF, \"infra_msdc1_self\", \"msdc50_0_sel\", 1),\n\tGATE_INFRA3(CLK_INFRA_MSDC2_SELF, \"infra_msdc2_self\", \"msdc50_0_sel\", 2),\n\tGATE_INFRA3(CLK_INFRA_UFS_AXI, \"infra_ufs_axi\", \"axi_sel\", 5),\n\tGATE_INFRA3(CLK_INFRA_I2C6, \"infra_i2c6\", \"i2c_sel\", 6),\n\tGATE_INFRA3(CLK_INFRA_AP_MSDC0, \"infra_ap_msdc0\", \"msdc50_0_sel\", 7),\n\tGATE_INFRA3(CLK_INFRA_MD_MSDC0, \"infra_md_msdc0\", \"msdc50_0_sel\", 8),\n\tGATE_INFRA3(CLK_INFRA_CCIF5_AP, \"infra_ccif5_ap\", \"axi_sel\", 9),\n\tGATE_INFRA3(CLK_INFRA_CCIF5_MD, \"infra_ccif5_md\", \"axi_sel\", 10),\n\tGATE_INFRA3(CLK_INFRA_PCIE_TOP_H_133M, \"infra_pcie_top_h_133m\", \"axi_sel\", 11),\n\tGATE_INFRA3(CLK_INFRA_FLASHIF_TOP_H_133M, \"infra_flashif_top_h_133m\", \"axi_sel\", 14),\n\tGATE_INFRA3(CLK_INFRA_PCIE_PERI_26M, \"infra_pcie_peri_26m\", \"axi_sel\", 15),\n\tGATE_INFRA3(CLK_INFRA_CCIF2_AP, \"infra_ccif2_ap\", \"axi_sel\", 16),\n\tGATE_INFRA3(CLK_INFRA_CCIF2_MD, \"infra_ccif2_md\", \"axi_sel\", 17),\n\tGATE_INFRA3(CLK_INFRA_CCIF3_AP, \"infra_ccif3_ap\", \"axi_sel\", 18),\n\tGATE_INFRA3(CLK_INFRA_CCIF3_MD, \"infra_ccif3_md\", \"axi_sel\", 19),\n\tGATE_INFRA3(CLK_INFRA_SEJ_F13M, \"infra_sej_f13m\", \"clk26m\", 20),\n\tGATE_INFRA3(CLK_INFRA_AES, \"infra_aes\", \"axi_sel\", 21),\n\tGATE_INFRA3(CLK_INFRA_I2C7, \"infra_i2c7\", \"i2c_sel\", 22),\n\tGATE_INFRA3(CLK_INFRA_I2C8, \"infra_i2c8\", \"i2c_sel\", 23),\n\tGATE_INFRA3(CLK_INFRA_FBIST2FPC, \"infra_fbist2fpc\", \"msdc50_0_sel\", 24),\n\tGATE_INFRA3_FLAGS(CLK_INFRA_DEVICE_APC_SYNC, \"infra_device_apc_sync\", \"axi_sel\", 25,\n\t\t\t  CLK_IS_CRITICAL),\n\tGATE_INFRA3(CLK_INFRA_DPMAIF_MAIN, \"infra_dpmaif_main\", \"dpmaif_main_sel\", 26),\n\tGATE_INFRA3(CLK_INFRA_PCIE_TL_32K, \"infra_pcie_tl_32k\", \"axi_sel\", 27),\n\tGATE_INFRA3(CLK_INFRA_CCIF4_AP, \"infra_ccif4_ap\", \"axi_sel\", 28),\n\tGATE_INFRA3(CLK_INFRA_CCIF4_MD, \"infra_ccif4_md\", \"axi_sel\", 29),\n\tGATE_INFRA3(CLK_INFRA_SPI6, \"infra_spi6\", \"spi_sel\", 30),\n\tGATE_INFRA3(CLK_INFRA_SPI7, \"infra_spi7\", \"spi_sel\", 31),\n\t \n\tGATE_INFRA4(CLK_INFRA_AP_DMA, \"infra_ap_dma\", \"infra_ap_dma_pseudo\", 31),\n\t \n\tGATE_INFRA5_FLAGS(CLK_INFRA_133M, \"infra_133m\", \"axi_sel\", 0, CLK_IS_CRITICAL),\n\tGATE_INFRA5_FLAGS(CLK_INFRA_66M, \"infra_66m\", \"axi_sel\", 1, CLK_IS_CRITICAL),\n\tGATE_INFRA5(CLK_INFRA_66M_PERI_BUS, \"infra_66m_peri_bus\", \"axi_sel\", 2),\n\tGATE_INFRA5(CLK_INFRA_FREE_DCM_133M, \"infra_free_dcm_133m\", \"axi_sel\", 3),\n\tGATE_INFRA5(CLK_INFRA_FREE_DCM_66M, \"infra_free_dcm_66m\", \"axi_sel\", 4),\n\tGATE_INFRA5(CLK_INFRA_PERI_BUS_DCM_133M, \"infra_peri_bus_dcm_133m\", \"axi_sel\", 5),\n\tGATE_INFRA5(CLK_INFRA_PERI_BUS_DCM_66M, \"infra_peri_bus_dcm_66m\", \"axi_sel\", 6),\n\tGATE_INFRA5(CLK_INFRA_FLASHIF_PERI_26M, \"infra_flashif_peri_26m\", \"axi_sel\", 30),\n\tGATE_INFRA5(CLK_INFRA_FLASHIF_SFLASH, \"infra_flashif_fsflash\", \"axi_sel\", 31),\n};\n\nstatic const struct mtk_gate_regs peri_cg_regs = {\n\t.set_ofs = 0x20c,\n\t.clr_ofs = 0x20c,\n\t.sta_ofs = 0x20c,\n};\n\n#define GATE_PERI(_id, _name, _parent, _shift)\t\\\n\tGATE_MTK(_id, _name, _parent, &peri_cg_regs, _shift, &mtk_clk_gate_ops_no_setclr_inv)\n\nstatic const struct mtk_gate peri_clks[] = {\n\tGATE_PERI(CLK_PERI_PERIAXI, \"peri_periaxi\", \"axi_sel\", 31),\n};\n\nstatic const struct mtk_gate_regs top_cg_regs = {\n\t.set_ofs = 0x150,\n\t.clr_ofs = 0x150,\n\t.sta_ofs = 0x150,\n};\n\n#define GATE_TOP(_id, _name, _parent, _shift)\t\\\n\tGATE_MTK(_id, _name, _parent, &top_cg_regs, _shift, &mtk_clk_gate_ops_no_setclr_inv)\n\nstatic const struct mtk_gate top_clks[] = {\n\tGATE_TOP(CLK_TOP_SSUSB_TOP_REF, \"ssusb_top_ref\", \"clk26m\", 24),\n\tGATE_TOP(CLK_TOP_SSUSB_PHY_REF, \"ssusb_phy_ref\", \"clk26m\", 25),\n};\n\nstatic u16 infra_ao_rst_ofs[] = {\n\tINFRA_RST0_SET_OFFSET,\n\tINFRA_RST1_SET_OFFSET,\n\tINFRA_RST2_SET_OFFSET,\n\tINFRA_RST3_SET_OFFSET,\n\tINFRA_RST4_SET_OFFSET,\n};\n\nstatic u16 infra_ao_idx_map[] = {\n\t[MT8192_INFRA_RST0_THERM_CTRL_SWRST] = 0 * RST_NR_PER_BANK + 0,\n\t[MT8192_INFRA_RST2_PEXTP_PHY_SWRST] = 2 * RST_NR_PER_BANK + 15,\n\t[MT8192_INFRA_RST3_THERM_CTRL_PTP_SWRST] = 3 * RST_NR_PER_BANK + 5,\n\t[MT8192_INFRA_RST4_PCIE_TOP_SWRST] = 4 * RST_NR_PER_BANK + 1,\n\t[MT8192_INFRA_RST4_THERM_CTRL_MCU_SWRST] = 4 * RST_NR_PER_BANK + 12,\n};\n\nstatic const struct mtk_clk_rst_desc clk_rst_desc = {\n\t.version = MTK_RST_SET_CLR,\n\t.rst_bank_ofs = infra_ao_rst_ofs,\n\t.rst_bank_nr = ARRAY_SIZE(infra_ao_rst_ofs),\n\t.rst_idx_map = infra_ao_idx_map,\n\t.rst_idx_map_nr = ARRAY_SIZE(infra_ao_idx_map),\n};\n\n \nstatic int clk_mt8192_reg_mfg_mux_notifier(struct device *dev, struct clk *clk)\n{\n\tstruct mtk_mux_nb *mfg_mux_nb;\n\tint i;\n\n\tmfg_mux_nb = devm_kzalloc(dev, sizeof(*mfg_mux_nb), GFP_KERNEL);\n\tif (!mfg_mux_nb)\n\t\treturn -ENOMEM;\n\n\tfor (i = 0; i < ARRAY_SIZE(top_mtk_muxes); i++)\n\t\tif (top_mtk_muxes[i].id == CLK_TOP_MFG_PLL_SEL)\n\t\t\tbreak;\n\tif (i == ARRAY_SIZE(top_mtk_muxes))\n\t\treturn -EINVAL;\n\n\tmfg_mux_nb->ops = top_mtk_muxes[i].ops;\n\tmfg_mux_nb->bypass_index = 0;  \n\n\treturn devm_mtk_clk_mux_notifier_register(dev, clk, mfg_mux_nb);\n}\n\nstatic const struct mtk_clk_desc infra_desc = {\n\t.clks = infra_clks,\n\t.num_clks = ARRAY_SIZE(infra_clks),\n\t.rst_desc = &clk_rst_desc,\n};\n\nstatic const struct mtk_clk_desc peri_desc = {\n\t.clks = peri_clks,\n\t.num_clks = ARRAY_SIZE(peri_clks),\n};\n\nstatic const struct mtk_clk_desc topck_desc = {\n\t.fixed_clks = top_fixed_clks,\n\t.num_fixed_clks = ARRAY_SIZE(top_fixed_clks),\n\t.factor_clks = top_divs,\n\t.num_factor_clks = ARRAY_SIZE(top_divs),\n\t.mux_clks = top_mtk_muxes,\n\t.num_mux_clks = ARRAY_SIZE(top_mtk_muxes),\n\t.composite_clks = top_muxes,\n\t.num_composite_clks = ARRAY_SIZE(top_muxes),\n\t.clks = top_clks,\n\t.num_clks = ARRAY_SIZE(top_clks),\n\t.clk_lock = &mt8192_clk_lock,\n\t.clk_notifier_func = clk_mt8192_reg_mfg_mux_notifier,\n\t.mfg_clk_idx = CLK_TOP_MFG_PLL_SEL,\n};\n\nstatic const struct of_device_id of_match_clk_mt8192[] = {\n\t{ .compatible = \"mediatek,mt8192-infracfg\", .data = &infra_desc },\n\t{ .compatible = \"mediatek,mt8192-pericfg\", .data = &peri_desc },\n\t{ .compatible = \"mediatek,mt8192-topckgen\", .data = &topck_desc },\n\t{   }\n};\nMODULE_DEVICE_TABLE(of, of_match_clk_mt8192);\n\nstatic struct platform_driver clk_mt8192_drv = {\n\t.driver = {\n\t\t.name = \"clk-mt8192\",\n\t\t.of_match_table = of_match_clk_mt8192,\n\t},\n\t.probe = mtk_clk_simple_probe,\n\t.remove_new = mtk_clk_simple_remove,\n};\nmodule_platform_driver(clk_mt8192_drv);\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}