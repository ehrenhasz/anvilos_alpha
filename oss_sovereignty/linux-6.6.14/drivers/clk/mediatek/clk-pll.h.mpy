{
  "module_name": "clk-pll.h",
  "hash_id": "e1d888c65ce269176a83cd76062c95f1f260dd6c9695b2c06b4bf0e104f62a4e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/mediatek/clk-pll.h",
  "human_readable_source": " \n \n\n#ifndef __DRV_CLK_MTK_PLL_H\n#define __DRV_CLK_MTK_PLL_H\n\n#include <linux/clk-provider.h>\n#include <linux/types.h>\n\nstruct clk_ops;\nstruct clk_hw_onecell_data;\nstruct device_node;\n\nstruct mtk_pll_div_table {\n\tu32 div;\n\tunsigned long freq;\n};\n\n#define HAVE_RST_BAR\tBIT(0)\n#define PLL_AO\t\tBIT(1)\n#define POSTDIV_MASK\tGENMASK(2, 0)\n\nstruct mtk_pll_data {\n\tint id;\n\tconst char *name;\n\tu32 reg;\n\tu32 pwr_reg;\n\tu32 en_mask;\n\tu32 pd_reg;\n\tu32 tuner_reg;\n\tu32 tuner_en_reg;\n\tu8 tuner_en_bit;\n\tint pd_shift;\n\tunsigned int flags;\n\tconst struct clk_ops *ops;\n\tu32 rst_bar_mask;\n\tunsigned long fmin;\n\tunsigned long fmax;\n\tint pcwbits;\n\tint pcwibits;\n\tu32 pcw_reg;\n\tint pcw_shift;\n\tu32 pcw_chg_reg;\n\tconst struct mtk_pll_div_table *div_table;\n\tconst char *parent_name;\n\tu32 en_reg;\n\tu8 pll_en_bit;  \n};\n\n \n\nstruct mtk_clk_pll {\n\tstruct clk_hw\thw;\n\tvoid __iomem\t*base_addr;\n\tvoid __iomem\t*pd_addr;\n\tvoid __iomem\t*pwr_addr;\n\tvoid __iomem\t*tuner_addr;\n\tvoid __iomem\t*tuner_en_addr;\n\tvoid __iomem\t*pcw_addr;\n\tvoid __iomem\t*pcw_chg_addr;\n\tvoid __iomem\t*en_addr;\n\tconst struct mtk_pll_data *data;\n};\n\nint mtk_clk_register_plls(struct device_node *node,\n\t\t\t  const struct mtk_pll_data *plls, int num_plls,\n\t\t\t  struct clk_hw_onecell_data *clk_data);\nvoid mtk_clk_unregister_plls(const struct mtk_pll_data *plls, int num_plls,\n\t\t\t     struct clk_hw_onecell_data *clk_data);\n\nextern const struct clk_ops mtk_pll_ops;\n\nstatic inline struct mtk_clk_pll *to_mtk_clk_pll(struct clk_hw *hw)\n{\n\treturn container_of(hw, struct mtk_clk_pll, hw);\n}\n\nint mtk_pll_is_prepared(struct clk_hw *hw);\n\nint mtk_pll_prepare(struct clk_hw *hw);\n\nvoid mtk_pll_unprepare(struct clk_hw *hw);\n\nunsigned long mtk_pll_recalc_rate(struct clk_hw *hw, unsigned long parent_rate);\n\nvoid mtk_pll_calc_values(struct mtk_clk_pll *pll, u32 *pcw, u32 *postdiv,\n\t\t\t u32 freq, u32 fin);\nint mtk_pll_set_rate(struct clk_hw *hw, unsigned long rate,\n\t\t     unsigned long parent_rate);\nlong mtk_pll_round_rate(struct clk_hw *hw, unsigned long rate,\n\t\t\tunsigned long *prate);\n\nstruct clk_hw *mtk_clk_register_pll_ops(struct mtk_clk_pll *pll,\n\t\t\t\t\tconst struct mtk_pll_data *data,\n\t\t\t\t\tvoid __iomem *base,\n\t\t\t\t\tconst struct clk_ops *pll_ops);\nstruct clk_hw *mtk_clk_register_pll(const struct mtk_pll_data *data,\n\t\t\t\t    void __iomem *base);\nvoid mtk_clk_unregister_pll(struct clk_hw *hw);\n\n__iomem void *mtk_clk_pll_get_base(struct clk_hw *hw,\n\t\t\t\t   const struct mtk_pll_data *data);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}