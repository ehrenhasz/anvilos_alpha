{
  "module_name": "clk-mt8186-mm.c",
  "hash_id": "6531497b98d7682bbeb32926eb3ffdfb849b19967a9b11a7845ca5c6e39b6b05",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/mediatek/clk-mt8186-mm.c",
  "human_readable_source": "\n\n\n\n\n#include <linux/clk-provider.h>\n#include <linux/platform_device.h>\n#include <dt-bindings/clock/mt8186-clk.h>\n\n#include \"clk-gate.h\"\n#include \"clk-mtk.h\"\n\nstatic const struct mtk_gate_regs mm0_cg_regs = {\n\t.set_ofs = 0x104,\n\t.clr_ofs = 0x108,\n\t.sta_ofs = 0x100,\n};\n\nstatic const struct mtk_gate_regs mm1_cg_regs = {\n\t.set_ofs = 0x1a4,\n\t.clr_ofs = 0x1a8,\n\t.sta_ofs = 0x1a0,\n};\n\n#define GATE_MM0(_id, _name, _parent, _shift)\t\t\t\\\n\tGATE_MTK(_id, _name, _parent, &mm0_cg_regs, _shift, &mtk_clk_gate_ops_setclr)\n\n#define GATE_MM1(_id, _name, _parent, _shift)\t\t\t\\\n\tGATE_MTK(_id, _name, _parent, &mm1_cg_regs, _shift, &mtk_clk_gate_ops_setclr)\n\nstatic const struct mtk_gate mm_clks[] = {\n\t \n\tGATE_MM0(CLK_MM_DISP_MUTEX0, \"mm_disp_mutex0\", \"top_disp\", 0),\n\tGATE_MM0(CLK_MM_APB_MM_BUS, \"mm_apb_mm_bus\", \"top_disp\", 1),\n\tGATE_MM0(CLK_MM_DISP_OVL0, \"mm_disp_ovl0\", \"top_disp\", 2),\n\tGATE_MM0(CLK_MM_DISP_RDMA0, \"mm_disp_rdma0\", \"top_disp\", 3),\n\tGATE_MM0(CLK_MM_DISP_OVL0_2L, \"mm_disp_ovl0_2l\", \"top_disp\", 4),\n\tGATE_MM0(CLK_MM_DISP_WDMA0, \"mm_disp_wdma0\", \"top_disp\", 5),\n\tGATE_MM0(CLK_MM_DISP_RSZ0, \"mm_disp_rsz0\", \"top_disp\", 7),\n\tGATE_MM0(CLK_MM_DISP_AAL0, \"mm_disp_aal0\", \"top_disp\", 8),\n\tGATE_MM0(CLK_MM_DISP_CCORR0, \"mm_disp_ccorr0\", \"top_disp\", 9),\n\tGATE_MM0(CLK_MM_DISP_COLOR0, \"mm_disp_color0\", \"top_disp\", 10),\n\tGATE_MM0(CLK_MM_SMI_INFRA, \"mm_smi_infra\", \"top_disp\", 11),\n\tGATE_MM0(CLK_MM_DISP_DSC_WRAP0, \"mm_disp_dsc_wrap0\", \"top_disp\", 12),\n\tGATE_MM0(CLK_MM_DISP_GAMMA0, \"mm_disp_gamma0\", \"top_disp\", 13),\n\tGATE_MM0(CLK_MM_DISP_POSTMASK0, \"mm_disp_postmask0\", \"top_disp\", 14),\n\tGATE_MM0(CLK_MM_DISP_DITHER0, \"mm_disp_dither0\", \"top_disp\", 16),\n\tGATE_MM0(CLK_MM_SMI_COMMON, \"mm_smi_common\", \"top_disp\", 17),\n\tGATE_MM0(CLK_MM_DSI0, \"mm_dsi0\", \"top_disp\", 19),\n\tGATE_MM0(CLK_MM_DISP_FAKE_ENG0, \"mm_disp_fake_eng0\", \"top_disp\", 20),\n\tGATE_MM0(CLK_MM_DISP_FAKE_ENG1, \"mm_disp_fake_eng1\", \"top_disp\", 21),\n\tGATE_MM0(CLK_MM_SMI_GALS, \"mm_smi_gals\", \"top_disp\", 22),\n\tGATE_MM0(CLK_MM_SMI_IOMMU, \"mm_smi_iommu\", \"top_disp\", 24),\n\tGATE_MM0(CLK_MM_DISP_RDMA1, \"mm_disp_rdma1\", \"top_disp\", 25),\n\tGATE_MM0(CLK_MM_DISP_DPI, \"mm_disp_dpi\", \"top_disp\", 26),\n\t \n\tGATE_MM1(CLK_MM_DSI0_DSI_CK_DOMAIN, \"mm_dsi0_dsi_domain\", \"top_disp\", 0),\n\tGATE_MM1(CLK_MM_DISP_26M, \"mm_disp_26m_ck\", \"top_disp\", 10),\n};\n\nstatic const struct mtk_clk_desc mm_desc = {\n\t.clks = mm_clks,\n\t.num_clks = ARRAY_SIZE(mm_clks),\n};\n\nstatic const struct platform_device_id clk_mt8186_mm_id_table[] = {\n\t{ .name = \"clk-mt8186-mm\", .driver_data = (kernel_ulong_t)&mm_desc },\n\t{   }\n};\nMODULE_DEVICE_TABLE(platform, clk_mt8186_mm_id_table);\n\nstatic struct platform_driver clk_mt8186_mm_drv = {\n\t.probe = mtk_clk_pdev_probe,\n\t.remove_new = mtk_clk_pdev_remove,\n\t.driver = {\n\t\t.name = \"clk-mt8186-mm\",\n\t},\n\t.id_table = clk_mt8186_mm_id_table,\n};\nmodule_platform_driver(clk_mt8186_mm_drv);\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}