{
  "module_name": "clk-mt8186-topckgen.c",
  "hash_id": "4deabba6ef4d5f538fa6c2748627063943f1009e4b872e345e6933de14b0dce1",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/mediatek/clk-mt8186-topckgen.c",
  "human_readable_source": "\n\n\n\n\n#include <linux/clk-provider.h>\n#include <linux/platform_device.h>\n#include <dt-bindings/clock/mt8186-clk.h>\n\n#include \"clk-mtk.h\"\n#include \"clk-mux.h\"\n\nstatic DEFINE_SPINLOCK(mt8186_clk_lock);\n\nstatic const struct mtk_fixed_clk top_fixed_clks[] = {\n\tFIXED_CLK(CLK_TOP_ULPOSC1, \"ulposc1\", NULL, 250000000),\n\tFIXED_CLK(CLK_TOP_466M_FMEM, \"hd_466m_fmem_ck\", NULL, 466000000),\n\tFIXED_CLK(CLK_TOP_MPLL, \"mpll\", NULL, 208000000),\n};\n\nstatic const struct mtk_fixed_factor top_divs[] = {\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D2, \"mainpll_d2\", \"mainpll\", 1, 2, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D2_D2, \"mainpll_d2_d2\", \"mainpll_d2\", 1, 2, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D2_D4, \"mainpll_d2_d4\", \"mainpll_d2\", 1, 4, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D2_D16, \"mainpll_d2_d16\", \"mainpll_d2\", 1, 16, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D3, \"mainpll_d3\", \"mainpll\", 1, 3, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D3_D2, \"mainpll_d3_d2\", \"mainpll_d3\", 1, 2, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D3_D4, \"mainpll_d3_d4\", \"mainpll_d3\", 1, 4, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D5, \"mainpll_d5\", \"mainpll\", 1, 5, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D5_D2, \"mainpll_d5_d2\", \"mainpll_d5\", 1, 2, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D5_D4, \"mainpll_d5_d4\", \"mainpll_d5\", 1, 4, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D7, \"mainpll_d7\", \"mainpll\", 1, 7, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D7_D2, \"mainpll_d7_d2\", \"mainpll_d7\", 1, 2, 0),\n\tFACTOR_FLAGS(CLK_TOP_MAINPLL_D7_D4, \"mainpll_d7_d4\", \"mainpll_d7\", 1, 4, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL, \"univpll\", \"univ2pll\", 1, 2, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D2, \"univpll_d2\", \"univpll\", 1, 2, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D2_D2, \"univpll_d2_d2\", \"univpll_d2\", 1, 2, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D2_D4, \"univpll_d2_d4\", \"univpll_d2\", 1, 4, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D3, \"univpll_d3\", \"univpll\", 1, 3, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D3_D2, \"univpll_d3_d2\", \"univpll_d3\", 1, 2, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D3_D4, \"univpll_d3_d4\", \"univpll_d3\", 1, 4, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D3_D8, \"univpll_d3_d8\", \"univpll_d3\", 1, 8, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D3_D32, \"univpll_d3_d32\", \"univpll_d3\", 1, 32, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D5, \"univpll_d5\", \"univpll\", 1, 5, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D5_D2, \"univpll_d5_d2\", \"univpll_d5\", 1, 2, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D5_D4, \"univpll_d5_d4\", \"univpll_d5\", 1, 4, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_D7, \"univpll_d7\", \"univpll\", 1, 7, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_192M, \"univpll_192m\", \"univ2pll\", 1, 13, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_192M_D4, \"univpll_192m_d4\", \"univpll_192m\", 1, 4, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_192M_D8, \"univpll_192m_d8\", \"univpll_192m\", 1, 8, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_192M_D16, \"univpll_192m_d16\", \"univpll_192m\", 1, 16, 0),\n\tFACTOR_FLAGS(CLK_TOP_UNIVPLL_192M_D32, \"univpll_192m_d32\", \"univpll_192m\", 1, 32, 0),\n\tFACTOR(CLK_TOP_APLL1_D2, \"apll1_d2\", \"apll1\", 1, 2),\n\tFACTOR(CLK_TOP_APLL1_D4, \"apll1_d4\", \"apll1\", 1, 4),\n\tFACTOR(CLK_TOP_APLL1_D8, \"apll1_d8\", \"apll1\", 1, 8),\n\tFACTOR(CLK_TOP_APLL2_D2, \"apll2_d2\", \"apll2\", 1, 2),\n\tFACTOR(CLK_TOP_APLL2_D4, \"apll2_d4\", \"apll2\", 1, 4),\n\tFACTOR(CLK_TOP_APLL2_D8, \"apll2_d8\", \"apll2\", 1, 8),\n\tFACTOR(CLK_TOP_MMPLL_D2, \"mmpll_d2\", \"mmpll\", 1, 2),\n\tFACTOR(CLK_TOP_TVDPLL_D2, \"tvdpll_d2\", \"tvdpll\", 1, 2),\n\tFACTOR(CLK_TOP_TVDPLL_D4, \"tvdpll_d4\", \"tvdpll\", 1, 4),\n\tFACTOR(CLK_TOP_TVDPLL_D8, \"tvdpll_d8\", \"tvdpll\", 1, 8),\n\tFACTOR(CLK_TOP_TVDPLL_D16, \"tvdpll_d16\", \"tvdpll\", 1, 16),\n\tFACTOR(CLK_TOP_TVDPLL_D32, \"tvdpll_d32\", \"tvdpll\", 1, 32),\n\tFACTOR(CLK_TOP_MSDCPLL_D2, \"msdcpll_d2\", \"msdcpll\", 1, 2),\n\tFACTOR(CLK_TOP_ULPOSC1_D2, \"ulposc1_d2\", \"ulposc1\", 1, 2),\n\tFACTOR(CLK_TOP_ULPOSC1_D4, \"ulposc1_d4\", \"ulposc1\", 1, 4),\n\tFACTOR(CLK_TOP_ULPOSC1_D8, \"ulposc1_d8\", \"ulposc1\", 1, 8),\n\tFACTOR(CLK_TOP_ULPOSC1_D10, \"ulposc1_d10\", \"ulposc1\", 1, 10),\n\tFACTOR(CLK_TOP_ULPOSC1_D16, \"ulposc1_d16\", \"ulposc1\", 1, 16),\n\tFACTOR(CLK_TOP_ULPOSC1_D32, \"ulposc1_d32\", \"ulposc1\", 1, 32),\n\tFACTOR(CLK_TOP_ADSPPLL_D2, \"adsppll_d2\", \"adsppll\", 1, 2),\n\tFACTOR(CLK_TOP_ADSPPLL_D4, \"adsppll_d4\", \"adsppll\", 1, 4),\n\tFACTOR(CLK_TOP_ADSPPLL_D8, \"adsppll_d8\", \"adsppll\", 1, 8),\n\tFACTOR(CLK_TOP_NNAPLL_D2, \"nnapll_d2\", \"nnapll\", 1, 2),\n\tFACTOR(CLK_TOP_NNAPLL_D4, \"nnapll_d4\", \"nnapll\", 1, 4),\n\tFACTOR(CLK_TOP_NNAPLL_D8, \"nnapll_d8\", \"nnapll\", 1, 8),\n\tFACTOR(CLK_TOP_NNA2PLL_D2, \"nna2pll_d2\", \"nna2pll\", 1, 2),\n\tFACTOR(CLK_TOP_NNA2PLL_D4, \"nna2pll_d4\", \"nna2pll\", 1, 4),\n\tFACTOR(CLK_TOP_NNA2PLL_D8, \"nna2pll_d8\", \"nna2pll\", 1, 8),\n\tFACTOR(CLK_TOP_F_BIST2FPC, \"f_bist2fpc_ck\", \"univpll_d3_d2\", 1, 1),\n};\n\nstatic const char * const axi_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d7\",\n\t\"mainpll_d2_d4\",\n\t\"univpll_d7\"\n};\n\nstatic const char * const scp_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d2_d4\",\n\t\"mainpll_d5\",\n\t\"mainpll_d2_d2\",\n\t\"mainpll_d3\",\n\t\"univpll_d3\"\n};\n\nstatic const char * const mfg_parents[] = {\n\t\"clk26m\",\n\t\"mfgpll\",\n\t\"mainpll_d3\",\n\t\"mainpll_d5\"\n};\n\nstatic const char * const camtg_parents[] = {\n\t\"clk26m\",\n\t\"univpll_192m_d8\",\n\t\"univpll_d3_d8\",\n\t\"univpll_192m_d4\",\n\t\"univpll_d3_d32\",\n\t\"univpll_192m_d16\",\n\t\"univpll_192m_d32\"\n};\n\nstatic const char * const uart_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d3_d8\"\n};\n\nstatic const char * const spi_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d5_d4\",\n\t\"mainpll_d3_d4\",\n\t\"mainpll_d5_d2\",\n\t\"mainpll_d2_d4\",\n\t\"mainpll_d7\",\n\t\"mainpll_d3_d2\",\n\t\"mainpll_d5\"\n};\n\nstatic const char * const msdc5hclk_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d2_d2\",\n\t\"mainpll_d7\",\n\t\"mainpll_d3_d2\"\n};\n\nstatic const char * const msdc50_0_parents[] = {\n\t\"clk26m\",\n\t\"msdcpll\",\n\t\"univpll_d3\",\n\t\"msdcpll_d2\",\n\t\"mainpll_d7\",\n\t\"mainpll_d3_d2\",\n\t\"univpll_d2_d2\"\n};\n\nstatic const char * const msdc30_1_parents[] = {\n\t\"clk26m\",\n\t\"msdcpll_d2\",\n\t\"univpll_d3_d2\",\n\t\"mainpll_d3_d2\",\n\t\"mainpll_d7\"\n};\n\nstatic const char * const audio_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d5_d4\",\n\t\"mainpll_d7_d4\",\n\t\"mainpll_d2_d16\"\n};\n\nstatic const char * const aud_intbus_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d2_d4\",\n\t\"mainpll_d7_d2\"\n};\n\nstatic const char * const aud_1_parents[] = {\n\t\"clk26m\",\n\t\"apll1\"\n};\n\nstatic const char * const aud_2_parents[] = {\n\t\"clk26m\",\n\t\"apll2\"\n};\n\nstatic const char * const aud_engen1_parents[] = {\n\t\"clk26m\",\n\t\"apll1_d2\",\n\t\"apll1_d4\",\n\t\"apll1_d8\"\n};\n\nstatic const char * const aud_engen2_parents[] = {\n\t\"clk26m\",\n\t\"apll2_d2\",\n\t\"apll2_d4\",\n\t\"apll2_d8\"\n};\n\nstatic const char * const disp_pwm_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d5_d2\",\n\t\"univpll_d3_d4\",\n\t\"ulposc1_d2\",\n\t\"ulposc1_d8\"\n};\n\nstatic const char * const sspm_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d2_d2\",\n\t\"mainpll_d3_d2\",\n\t\"mainpll_d5\",\n\t\"mainpll_d3\"\n};\n\nstatic const char * const dxcc_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d2_d2\",\n\t\"mainpll_d2_d4\"\n};\n\nstatic const char * const usb_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d5_d4\",\n\t\"univpll_d5_d2\"\n};\n\nstatic const char * const srck_parents[] = {\n\t\"clk32k\",\n\t\"clk26m\",\n\t\"ulposc1_d10\"\n};\n\nstatic const char * const spm_parents[] = {\n\t\"clk32k\",\n\t\"ulposc1_d10\",\n\t\"clk26m\",\n\t\"mainpll_d7_d2\"\n};\n\nstatic const char * const i2c_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d5_d4\",\n\t\"univpll_d3_d4\",\n\t\"univpll_d5_d2\"\n};\n\nstatic const char * const pwm_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d3_d8\",\n\t\"univpll_d3_d4\",\n\t\"univpll_d2_d4\"\n};\n\nstatic const char * const seninf_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d2_d4\",\n\t\"univpll_d2_d2\",\n\t\"univpll_d3_d2\"\n};\n\nstatic const char * const aes_msdcfde_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d3\",\n\t\"mainpll_d3\",\n\t\"univpll_d2_d2\",\n\t\"mainpll_d2_d2\",\n\t\"mainpll_d2_d4\"\n};\n\nstatic const char * const pwrap_ulposc_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d5_d4\",\n\t\"ulposc1_d4\",\n\t\"ulposc1_d8\",\n\t\"ulposc1_d10\",\n\t\"ulposc1_d16\",\n\t\"ulposc1_d32\"\n};\n\nstatic const char * const camtm_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d2_d4\",\n\t\"univpll_d3_d2\"\n};\n\nstatic const char * const venc_parents[] = {\n\t\"clk26m\",\n\t\"mmpll\",\n\t\"mainpll_d2_d2\",\n\t\"mainpll_d2\",\n\t\"univpll_d3\",\n\t\"univpll_d2_d2\",\n\t\"mainpll_d3\",\n\t\"mmpll\"\n};\n\nstatic const char * const isp_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d2\",\n\t\"mainpll_d2_d2\",\n\t\"univpll_d3\",\n\t\"mainpll_d3\",\n\t\"mmpll\",\n\t\"univpll_d5\",\n\t\"univpll_d2_d2\",\n\t\"mmpll_d2\"\n};\n\nstatic const char * const dpmaif_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d2_d2\",\n\t\"mainpll_d3\",\n\t\"mainpll_d2_d2\",\n\t\"univpll_d3_d2\"\n};\n\nstatic const char * const vdec_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d3\",\n\t\"mainpll_d2_d2\",\n\t\"univpll_d5\",\n\t\"mainpll_d2\",\n\t\"univpll_d3\",\n\t\"univpll_d2_d2\"\n};\n\nstatic const char * const disp_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d3_d2\",\n\t\"mainpll_d5\",\n\t\"univpll_d5\",\n\t\"univpll_d2_d2\",\n\t\"mainpll_d3\",\n\t\"univpll_d3\",\n\t\"mainpll_d2\",\n\t\"mmpll\"\n};\n\nstatic const char * const mdp_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d5\",\n\t\"univpll_d5\",\n\t\"mainpll_d2_d2\",\n\t\"univpll_d2_d2\",\n\t\"mainpll_d3\",\n\t\"univpll_d3\",\n\t\"mainpll_d2\",\n\t\"mmpll\"\n};\n\nstatic const char * const audio_h_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d7\",\n\t\"apll1\",\n\t\"apll2\"\n};\n\nstatic const char * const ufs_parents[] = {\n\t\"clk26m\",\n\t\"mainpll_d7\",\n\t\"univpll_d2_d4\",\n\t\"mainpll_d2_d4\"\n};\n\nstatic const char * const aes_fde_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d3\",\n\t\"mainpll_d2_d2\",\n\t\"univpll_d5\"\n};\n\nstatic const char * const audiodsp_parents[] = {\n\t\"clk26m\",\n\t\"ulposc1_d10\",\n\t\"adsppll\",\n\t\"adsppll_d2\",\n\t\"adsppll_d4\",\n\t\"adsppll_d8\"\n};\n\nstatic const char * const dvfsrc_parents[] = {\n\t\"clk26m\",\n\t\"ulposc1_d10\",\n};\n\nstatic const char * const dsi_occ_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d3_d2\",\n\t\"mpll\",\n\t\"mainpll_d5\"\n};\n\nstatic const char * const spmi_mst_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d5_d4\",\n\t\"ulposc1_d4\",\n\t\"ulposc1_d8\",\n\t\"ulposc1_d10\",\n\t\"ulposc1_d16\",\n\t\"ulposc1_d32\"\n};\n\nstatic const char * const spinor_parents[] = {\n\t\"clk26m\",\n\t\"clk13m\",\n\t\"mainpll_d7_d4\",\n\t\"univpll_d3_d8\",\n\t\"univpll_d5_d4\",\n\t\"mainpll_d7_d2\"\n};\n\nstatic const char * const nna_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d3_d8\",\n\t\"mainpll_d2_d4\",\n\t\"univpll_d3_d2\",\n\t\"mainpll_d2_d2\",\n\t\"univpll_d2_d2\",\n\t\"mainpll_d3\",\n\t\"univpll_d3\",\n\t\"mmpll\",\n\t\"mainpll_d2\",\n\t\"univpll_d2\",\n\t\"nnapll_d2\",\n\t\"nnapll_d4\",\n\t\"nnapll_d8\",\n\t\"nnapll\",\n\t\"nna2pll\"\n};\n\nstatic const char * const nna2_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d3_d8\",\n\t\"mainpll_d2_d4\",\n\t\"univpll_d3_d2\",\n\t\"mainpll_d2_d2\",\n\t\"univpll_d2_d2\",\n\t\"mainpll_d3\",\n\t\"univpll_d3\",\n\t\"mmpll\",\n\t\"mainpll_d2\",\n\t\"univpll_d2\",\n\t\"nna2pll_d2\",\n\t\"nna2pll_d4\",\n\t\"nna2pll_d8\",\n\t\"nnapll\",\n\t\"nna2pll\"\n};\n\nstatic const char * const ssusb_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d5_d4\",\n\t\"univpll_d5_d2\"\n};\n\nstatic const char * const wpe_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d3_d2\",\n\t\"mainpll_d5\",\n\t\"univpll_d5\",\n\t\"univpll_d2_d2\",\n\t\"mainpll_d3\",\n\t\"univpll_d3\",\n\t\"mainpll_d2\",\n\t\"mmpll\"\n};\n\nstatic const char * const dpi_parents[] = {\n\t\"clk26m\",\n\t\"tvdpll\",\n\t\"tvdpll_d2\",\n\t\"tvdpll_d4\",\n\t\"tvdpll_d8\",\n\t\"tvdpll_d16\",\n\t\"tvdpll_d32\"\n};\n\nstatic const char * const u3_occ_250m_parents[] = {\n\t\"clk26m\",\n\t\"univpll_d5\"\n};\n\nstatic const char * const u3_occ_500m_parents[] = {\n\t\"clk26m\",\n\t\"nna2pll_d2\"\n};\n\nstatic const char * const adsp_bus_parents[] = {\n\t\"clk26m\",\n\t\"ulposc1_d2\",\n\t\"mainpll_d5\",\n\t\"mainpll_d2_d2\",\n\t\"mainpll_d3\",\n\t\"mainpll_d2\",\n\t\"univpll_d3\"\n};\n\nstatic const char * const apll_mck_parents[] = {\n\t\"top_aud_1\",\n\t\"top_aud_2\"\n};\n\nstatic const struct mtk_mux top_mtk_muxes[] = {\n\t \n\tMUX_GATE_CLR_SET_UPD_FLAGS(CLK_TOP_AXI, \"top_axi\", axi_parents,\n\t\t\t\t   0x0040, 0x0044, 0x0048, 0, 2, 7, 0x0004, 0,\n\t\t\t\t   CLK_IS_CRITICAL | CLK_SET_RATE_PARENT),\n\tMUX_GATE_CLR_SET_UPD_FLAGS(CLK_TOP_SCP, \"top_scp\", scp_parents,\n\t\t\t\t   0x0040, 0x0044, 0x0048, 8, 3, 15, 0x0004, 1,\n\t\t\t\t   CLK_IS_CRITICAL | CLK_SET_RATE_PARENT),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_MFG, \"top_mfg\",\n\t\tmfg_parents, 0x0040, 0x0044, 0x0048, 16, 2, 23, 0x0004, 2),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_CAMTG, \"top_camtg\",\n\t\tcamtg_parents, 0x0040, 0x0044, 0x0048, 24, 3, 31, 0x0004, 3),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_CAMTG1, \"top_camtg1\",\n\t\tcamtg_parents, 0x0050, 0x0054, 0x0058, 0, 3, 7, 0x0004, 4),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_CAMTG2, \"top_camtg2\",\n\t\tcamtg_parents, 0x0050, 0x0054, 0x0058, 8, 3, 15, 0x0004, 5),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_CAMTG3, \"top_camtg3\",\n\t\tcamtg_parents, 0x0050, 0x0054, 0x0058, 16, 3, 23, 0x0004, 6),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_CAMTG4, \"top_camtg4\",\n\t\tcamtg_parents, 0x0050, 0x0054, 0x0058, 24, 3, 31, 0x0004, 7),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_CAMTG5, \"top_camtg5\",\n\t\tcamtg_parents, 0x0060, 0x0064, 0x0068, 0, 3, 7, 0x0004, 8),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_CAMTG6, \"top_camtg6\",\n\t\tcamtg_parents, 0x0060, 0x0064, 0x0068, 8, 3, 15, 0x0004, 9),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_UART, \"top_uart\",\n\t\tuart_parents, 0x0060, 0x0064, 0x0068, 16, 1, 23, 0x0004, 10),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_SPI, \"top_spi\",\n\t\tspi_parents, 0x0060, 0x0064, 0x0068, 24, 3, 31, 0x0004, 11),\n\t \n\tMUX_GATE_CLR_SET_UPD_FLAGS(CLK_TOP_MSDC50_0_HCLK, \"top_msdc5hclk\",\n\t\tmsdc5hclk_parents, 0x0070, 0x0074, 0x0078, 0, 2, 7, 0x0004, 12, 0),\n\tMUX_GATE_CLR_SET_UPD_FLAGS(CLK_TOP_MSDC50_0, \"top_msdc50_0\",\n\t\tmsdc50_0_parents, 0x0070, 0x0074, 0x0078, 8, 3, 15, 0x0004, 13, 0),\n\tMUX_GATE_CLR_SET_UPD_FLAGS(CLK_TOP_MSDC30_1, \"top_msdc30_1\",\n\t\tmsdc30_1_parents, 0x0070, 0x0074, 0x0078, 16, 3, 23, 0x0004, 14, 0),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_AUDIO, \"top_audio\",\n\t\taudio_parents, 0x0070, 0x0074, 0x0078, 24, 2, 31, 0x0004, 15),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_AUD_INTBUS, \"top_aud_intbus\",\n\t\taud_intbus_parents, 0x0080, 0x0084, 0x0088, 0, 2, 7, 0x0004, 16),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_AUD_1, \"top_aud_1\",\n\t\taud_1_parents, 0x0080, 0x0084, 0x0088, 8, 1, 15, 0x0004, 17),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_AUD_2, \"top_aud_2\",\n\t\taud_2_parents, 0x0080, 0x0084, 0x0088, 16, 1, 23, 0x0004, 18),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_AUD_ENGEN1, \"top_aud_engen1\",\n\t\taud_engen1_parents, 0x0080, 0x0084, 0x0088, 24, 2, 31, 0x0004, 19),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_AUD_ENGEN2, \"top_aud_engen2\",\n\t\taud_engen2_parents, 0x0090, 0x0094, 0x0098, 0, 2, 7, 0x0004, 20),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_DISP_PWM, \"top_disp_pwm\",\n\t\tdisp_pwm_parents, 0x0090, 0x0094, 0x0098, 8, 3, 15, 0x0004, 21),\n\tMUX_GATE_CLR_SET_UPD_FLAGS(CLK_TOP_SSPM, \"top_sspm\", sspm_parents,\n\t\t\t\t   0x0090, 0x0094, 0x0098, 16, 3, 23, 0x0004, 22,\n\t\t\t\t   CLK_IS_CRITICAL | CLK_SET_RATE_PARENT),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_DXCC, \"top_dxcc\",\n\t\tdxcc_parents, 0x0090, 0x0094, 0x0098, 24, 2, 31, 0x0004, 23),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_USB_TOP, \"top_usb\",\n\t\tusb_parents, 0x00a0, 0x00a4, 0x00a8, 0, 2, 7, 0x0004, 24),\n\tMUX_GATE_CLR_SET_UPD_FLAGS(CLK_TOP_SRCK, \"top_srck\", srck_parents,\n\t\t\t\t   0x00a0, 0x00a4, 0x00a8, 8, 2, 15, 0x0004, 25,\n\t\t\t\t   CLK_IS_CRITICAL | CLK_SET_RATE_PARENT),\n\tMUX_GATE_CLR_SET_UPD_FLAGS(CLK_TOP_SPM, \"top_spm\", spm_parents,\n\t\t\t\t   0x00a0, 0x00a4, 0x00a8, 16, 2, 23, 0x0004, 26,\n\t\t\t\t   CLK_IS_CRITICAL | CLK_SET_RATE_PARENT),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_I2C, \"top_i2c\",\n\t\ti2c_parents, 0x00a0, 0x00a4, 0x00a8, 24, 2, 31, 0x0004, 27),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_PWM, \"top_pwm\",\n\t\tpwm_parents, 0x00b0, 0x00b4, 0x00b8, 0, 2, 7, 0x0004, 28),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_SENINF, \"top_seninf\",\n\t\tseninf_parents, 0x00b0, 0x00b4, 0x00b8, 8, 2, 15, 0x0004, 29),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_SENINF1, \"top_seninf1\",\n\t\tseninf_parents, 0x00b0, 0x00b4, 0x00b8, 16, 2, 23, 0x0004, 30),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_SENINF2, \"top_seninf2\",\n\t\tseninf_parents, 0x00b0, 0x00b4, 0x00b8, 24, 2, 31, 0x0008, 0),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_SENINF3, \"top_seninf3\",\n\t\tseninf_parents, 0x00c0, 0x00c4, 0x00c8, 0, 2, 7, 0x0008, 1),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_AES_MSDCFDE, \"top_aes_msdcfde\",\n\t\taes_msdcfde_parents, 0x00c0, 0x00c4, 0x00c8, 8, 3, 15, 0x0008, 2),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_PWRAP_ULPOSC, \"top_pwrap_ulposc\",\n\t\tpwrap_ulposc_parents, 0x00c0, 0x00c4, 0x00c8, 16, 3, 23, 0x0008, 3),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_CAMTM, \"top_camtm\",\n\t\tcamtm_parents, 0x00c0, 0x00c4, 0x00c8, 24, 2, 31, 0x0008, 4),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_VENC, \"top_venc\",\n\t\tvenc_parents, 0x00d0, 0x00d4, 0x00d8, 0, 3, 7, 0x0008, 5),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_CAM, \"top_cam\",\n\t\tisp_parents, 0x00d0, 0x00d4, 0x00d8, 8, 4, 15, 0x0008, 6),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_IMG1, \"top_img1\",\n\t\tisp_parents, 0x00d0, 0x00d4, 0x00d8, 16, 4, 23, 0x0008, 7),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_IPE, \"top_ipe\",\n\t\tisp_parents, 0x00d0, 0x00d4, 0x00d8, 24, 4, 31, 0x0008, 8),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_DPMAIF, \"top_dpmaif\",\n\t\tdpmaif_parents, 0x00e0, 0x00e4, 0x00e8, 0, 3, 7, 0x0008, 9),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_VDEC, \"top_vdec\",\n\t\tvdec_parents, 0x00e0, 0x00e4, 0x00e8, 8, 3, 15, 0x0008, 10),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_DISP, \"top_disp\",\n\t\tdisp_parents, 0x00e0, 0x00e4, 0x00e8, 16, 4, 23, 0x0008, 11),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_MDP, \"top_mdp\",\n\t\tmdp_parents, 0x00e0, 0x00e4, 0x00e8, 24, 4, 31, 0x0008, 12),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_AUDIO_H, \"top_audio_h\",\n\t\taudio_h_parents, 0x00ec, 0x00f0, 0x00f4, 0, 2, 7, 0x0008, 13),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_UFS, \"top_ufs\",\n\t\tufs_parents, 0x00ec, 0x00f0, 0x00f4, 8, 2, 15, 0x0008, 14),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_AES_FDE, \"top_aes_fde\",\n\t\taes_fde_parents, 0x00ec, 0x00f0, 0x00f4, 16, 2, 23, 0x0008, 15),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_AUDIODSP, \"top_audiodsp\",\n\t\taudiodsp_parents, 0x00ec, 0x00f0, 0x00f4, 24, 3, 31, 0x0008, 16),\n\t \n\tMUX_GATE_CLR_SET_UPD_FLAGS(CLK_TOP_DVFSRC, \"top_dvfsrc\", dvfsrc_parents,\n\t\t\t\t   0x0100, 0x0104, 0x0108, 0, 1, 7, 0x0008, 17,\n\t\t\t\t   CLK_IS_CRITICAL | CLK_SET_RATE_PARENT),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_DSI_OCC, \"top_dsi_occ\",\n\t\tdsi_occ_parents, 0x0100, 0x0104, 0x0108, 8, 2, 15, 0x0008, 18),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_SPMI_MST, \"top_spmi_mst\",\n\t\tspmi_mst_parents, 0x0100, 0x0104, 0x0108, 16, 3, 23, 0x0008, 19),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_SPINOR, \"top_spinor\",\n\t\tspinor_parents, 0x0110, 0x0114, 0x0118, 0, 3, 6, 0x0008, 20),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_NNA, \"top_nna\",\n\t\tnna_parents, 0x0110, 0x0114, 0x0118, 7, 4, 14, 0x0008, 21),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_NNA1, \"top_nna1\",\n\t\tnna_parents, 0x0110, 0x0114, 0x0118, 15, 4, 22, 0x0008, 22),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_NNA2, \"top_nna2\",\n\t\tnna2_parents, 0x0110, 0x0114, 0x0118, 23, 4, 30, 0x0008, 23),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_SSUSB_XHCI, \"top_ssusb_xhci\",\n\t\tssusb_parents, 0x0120, 0x0124, 0x0128, 0, 2, 5, 0x0008, 24),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_SSUSB_TOP_1P, \"top_ssusb_1p\",\n\t\tssusb_parents, 0x0120, 0x0124, 0x0128, 6, 2, 11, 0x0008, 25),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_SSUSB_XHCI_1P, \"top_ssusb_xhci_1p\",\n\t\tssusb_parents, 0x0120, 0x0124, 0x0128, 12, 2, 17, 0x0008, 26),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_WPE, \"top_wpe\",\n\t\twpe_parents, 0x0120, 0x0124, 0x0128, 18, 4, 25, 0x0008, 27),\n\t \n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_DPI, \"top_dpi\",\n\t\tdpi_parents, 0x0180, 0x0184, 0x0188, 0, 3, 6, 0x0008, 28),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_U3_OCC_250M, \"top_u3_occ_250m\",\n\t\tu3_occ_250m_parents, 0x0180, 0x0184, 0x0188, 7, 1, 11, 0x0008, 29),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_U3_OCC_500M, \"top_u3_occ_500m\",\n\t\tu3_occ_500m_parents, 0x0180, 0x0184, 0x0188, 12, 1, 16, 0x0008, 30),\n\tMUX_GATE_CLR_SET_UPD(CLK_TOP_ADSP_BUS, \"top_adsp_bus\",\n\t\tadsp_bus_parents, 0x0180, 0x0184, 0x0188, 17, 3, 23, 0x0008, 31),\n};\n\nstatic struct mtk_composite top_muxes[] = {\n\t \n\tMUX(CLK_TOP_APLL_I2S0_MCK_SEL, \"apll_i2s0_mck_sel\", apll_mck_parents, 0x0320, 16, 1),\n\tMUX(CLK_TOP_APLL_I2S1_MCK_SEL, \"apll_i2s1_mck_sel\", apll_mck_parents, 0x0320, 17, 1),\n\tMUX(CLK_TOP_APLL_I2S2_MCK_SEL, \"apll_i2s2_mck_sel\", apll_mck_parents, 0x0320, 18, 1),\n\tMUX(CLK_TOP_APLL_I2S4_MCK_SEL, \"apll_i2s4_mck_sel\", apll_mck_parents, 0x0320, 19, 1),\n\tMUX(CLK_TOP_APLL_TDMOUT_MCK_SEL, \"apll_tdmout_mck_sel\", apll_mck_parents,\n\t\t0x0320, 20, 1),\n\tDIV_GATE(CLK_TOP_APLL12_CK_DIV0, \"apll12_div0\", \"apll_i2s0_mck_sel\",\n\t\t\t0x0320, 0, 0x0328, 8, 0),\n\tDIV_GATE(CLK_TOP_APLL12_CK_DIV1, \"apll12_div1\", \"apll_i2s1_mck_sel\",\n\t\t\t0x0320, 1, 0x0328, 8, 8),\n\tDIV_GATE(CLK_TOP_APLL12_CK_DIV2, \"apll12_div2\", \"apll_i2s2_mck_sel\",\n\t\t\t0x0320, 2, 0x0328, 8, 16),\n\tDIV_GATE(CLK_TOP_APLL12_CK_DIV4, \"apll12_div4\", \"apll_i2s4_mck_sel\",\n\t\t\t0x0320, 3, 0x0328, 8, 24),\n\tDIV_GATE(CLK_TOP_APLL12_CK_DIV_TDMOUT_M, \"apll12_div_tdmout_m\", \"apll_tdmout_mck_sel\",\n\t\t\t0x0320, 4, 0x0334, 8, 0),\n};\n\n \nstatic int clk_mt8186_reg_mfg_mux_notifier(struct device *dev, struct clk *clk)\n{\n\tstruct mtk_mux_nb *mfg_mux_nb;\n\tint i;\n\n\tmfg_mux_nb = devm_kzalloc(dev, sizeof(*mfg_mux_nb), GFP_KERNEL);\n\tif (!mfg_mux_nb)\n\t\treturn -ENOMEM;\n\n\tfor (i = 0; i < ARRAY_SIZE(top_mtk_muxes); i++)\n\t\tif (top_mtk_muxes[i].id == CLK_TOP_MFG)\n\t\t\tbreak;\n\tif (i == ARRAY_SIZE(top_mtk_muxes))\n\t\treturn -EINVAL;\n\n\tmfg_mux_nb->ops = top_mtk_muxes[i].ops;\n\tmfg_mux_nb->bypass_index = 0;  \n\n\treturn devm_mtk_clk_mux_notifier_register(dev, clk, mfg_mux_nb);\n}\n\nstatic const struct mtk_clk_desc topck_desc = {\n\t.fixed_clks = top_fixed_clks,\n\t.num_fixed_clks = ARRAY_SIZE(top_fixed_clks),\n\t.factor_clks = top_divs,\n\t.num_factor_clks = ARRAY_SIZE(top_divs),\n\t.mux_clks = top_mtk_muxes,\n\t.num_mux_clks = ARRAY_SIZE(top_mtk_muxes),\n\t.composite_clks = top_muxes,\n\t.num_composite_clks = ARRAY_SIZE(top_muxes),\n\t.clk_lock = &mt8186_clk_lock,\n\t.clk_notifier_func = clk_mt8186_reg_mfg_mux_notifier,\n\t.mfg_clk_idx = CLK_TOP_MFG,\n};\n\nstatic const struct of_device_id of_match_clk_mt8186_topck[] = {\n\t{ .compatible = \"mediatek,mt8186-topckgen\", .data = &topck_desc },\n\t{   }\n};\nMODULE_DEVICE_TABLE(of, of_match_clk_mt8186_topck);\n\nstatic struct platform_driver clk_mt8186_topck_drv = {\n\t.probe = mtk_clk_simple_probe,\n\t.remove_new = mtk_clk_simple_remove,\n\t.driver = {\n\t\t.name = \"clk-mt8186-topck\",\n\t\t.of_match_table = of_match_clk_mt8186_topck,\n\t},\n};\nmodule_platform_driver(clk_mt8186_topck_drv);\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}