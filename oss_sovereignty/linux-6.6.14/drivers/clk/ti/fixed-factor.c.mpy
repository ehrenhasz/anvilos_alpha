{
  "module_name": "fixed-factor.c",
  "hash_id": "c9def8f374bb0b77e662b9d8148582e2c7cb0153ec013142c9fa19d650b5e89e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/ti/fixed-factor.c",
  "human_readable_source": "\n \n\n#include <linux/clk-provider.h>\n#include <linux/slab.h>\n#include <linux/err.h>\n#include <linux/of.h>\n#include <linux/of_address.h>\n#include <linux/clk/ti.h>\n\n#include \"clock.h\"\n\n#undef pr_fmt\n#define pr_fmt(fmt) \"%s: \" fmt, __func__\n\n \nstatic void __init of_ti_fixed_factor_clk_setup(struct device_node *node)\n{\n\tstruct clk *clk;\n\tconst char *clk_name = ti_dt_clk_name(node);\n\tconst char *parent_name;\n\tu32 div, mult;\n\tu32 flags = 0;\n\n\tif (of_property_read_u32(node, \"ti,clock-div\", &div)) {\n\t\tpr_err(\"%pOFn must have a clock-div property\\n\", node);\n\t\treturn;\n\t}\n\n\tif (of_property_read_u32(node, \"ti,clock-mult\", &mult)) {\n\t\tpr_err(\"%pOFn must have a clock-mult property\\n\", node);\n\t\treturn;\n\t}\n\n\tif (of_property_read_bool(node, \"ti,set-rate-parent\"))\n\t\tflags |= CLK_SET_RATE_PARENT;\n\n\tparent_name = of_clk_get_parent_name(node, 0);\n\n\tclk = clk_register_fixed_factor(NULL, clk_name, parent_name, flags,\n\t\t\t\t\tmult, div);\n\n\tif (!IS_ERR(clk)) {\n\t\tof_clk_add_provider(node, of_clk_src_simple_get, clk);\n\t\tof_ti_clk_autoidle_setup(node);\n\t\tti_clk_add_alias(clk, clk_name);\n\t}\n}\nCLK_OF_DECLARE(ti_fixed_factor_clk, \"ti,fixed-factor-clock\",\n\t       of_ti_fixed_factor_clk_setup);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}