{
  "module_name": "clk-2xxx.c",
  "hash_id": "8eb16bdf3c3cbb9dc311a96661f4ed5b92b0821f0999df89f9caa2c144bd71b4",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/ti/clk-2xxx.c",
  "human_readable_source": "\n \n\n#include <linux/kernel.h>\n#include <linux/list.h>\n#include <linux/clk.h>\n#include <linux/clk/ti.h>\n\n#include \"clock.h\"\n\nstatic struct ti_dt_clk omap2xxx_clks[] = {\n\tDT_CLK(NULL, \"func_32k_ck\", \"func_32k_ck\"),\n\tDT_CLK(NULL, \"secure_32k_ck\", \"secure_32k_ck\"),\n\tDT_CLK(NULL, \"virt_12m_ck\", \"virt_12m_ck\"),\n\tDT_CLK(NULL, \"virt_13m_ck\", \"virt_13m_ck\"),\n\tDT_CLK(NULL, \"virt_19200000_ck\", \"virt_19200000_ck\"),\n\tDT_CLK(NULL, \"virt_26m_ck\", \"virt_26m_ck\"),\n\tDT_CLK(NULL, \"aplls_clkin_ck\", \"aplls_clkin_ck\"),\n\tDT_CLK(NULL, \"aplls_clkin_x2_ck\", \"aplls_clkin_x2_ck\"),\n\tDT_CLK(NULL, \"osc_ck\", \"osc_ck\"),\n\tDT_CLK(NULL, \"sys_ck\", \"sys_ck\"),\n\tDT_CLK(NULL, \"alt_ck\", \"alt_ck\"),\n\tDT_CLK(NULL, \"mcbsp_clks\", \"mcbsp_clks\"),\n\tDT_CLK(NULL, \"dpll_ck\", \"dpll_ck\"),\n\tDT_CLK(NULL, \"apll96_ck\", \"apll96_ck\"),\n\tDT_CLK(NULL, \"apll54_ck\", \"apll54_ck\"),\n\tDT_CLK(NULL, \"func_54m_ck\", \"func_54m_ck\"),\n\tDT_CLK(NULL, \"core_ck\", \"core_ck\"),\n\tDT_CLK(NULL, \"func_96m_ck\", \"func_96m_ck\"),\n\tDT_CLK(NULL, \"func_48m_ck\", \"func_48m_ck\"),\n\tDT_CLK(NULL, \"func_12m_ck\", \"func_12m_ck\"),\n\tDT_CLK(NULL, \"sys_clkout_src\", \"sys_clkout_src\"),\n\tDT_CLK(NULL, \"sys_clkout\", \"sys_clkout\"),\n\tDT_CLK(NULL, \"emul_ck\", \"emul_ck\"),\n\tDT_CLK(NULL, \"mpu_ck\", \"mpu_ck\"),\n\tDT_CLK(NULL, \"dsp_fck\", \"dsp_fck\"),\n\tDT_CLK(NULL, \"gfx_3d_fck\", \"gfx_3d_fck\"),\n\tDT_CLK(NULL, \"gfx_2d_fck\", \"gfx_2d_fck\"),\n\tDT_CLK(NULL, \"gfx_ick\", \"gfx_ick\"),\n\tDT_CLK(\"omapdss_dss\", \"ick\", \"dss_ick\"),\n\tDT_CLK(NULL, \"dss_ick\", \"dss_ick\"),\n\tDT_CLK(NULL, \"dss1_fck\", \"dss1_fck\"),\n\tDT_CLK(NULL, \"dss2_fck\", \"dss2_fck\"),\n\tDT_CLK(NULL, \"dss_54m_fck\", \"dss_54m_fck\"),\n\tDT_CLK(NULL, \"core_l3_ck\", \"core_l3_ck\"),\n\tDT_CLK(NULL, \"ssi_fck\", \"ssi_ssr_sst_fck\"),\n\tDT_CLK(NULL, \"usb_l4_ick\", \"usb_l4_ick\"),\n\tDT_CLK(NULL, \"l4_ck\", \"l4_ck\"),\n\tDT_CLK(NULL, \"ssi_l4_ick\", \"ssi_l4_ick\"),\n\tDT_CLK(NULL, \"gpt1_ick\", \"gpt1_ick\"),\n\tDT_CLK(NULL, \"gpt1_fck\", \"gpt1_fck\"),\n\tDT_CLK(NULL, \"gpt2_ick\", \"gpt2_ick\"),\n\tDT_CLK(NULL, \"gpt2_fck\", \"gpt2_fck\"),\n\tDT_CLK(NULL, \"gpt3_ick\", \"gpt3_ick\"),\n\tDT_CLK(NULL, \"gpt3_fck\", \"gpt3_fck\"),\n\tDT_CLK(NULL, \"gpt4_ick\", \"gpt4_ick\"),\n\tDT_CLK(NULL, \"gpt4_fck\", \"gpt4_fck\"),\n\tDT_CLK(NULL, \"gpt5_ick\", \"gpt5_ick\"),\n\tDT_CLK(NULL, \"gpt5_fck\", \"gpt5_fck\"),\n\tDT_CLK(NULL, \"gpt6_ick\", \"gpt6_ick\"),\n\tDT_CLK(NULL, \"gpt6_fck\", \"gpt6_fck\"),\n\tDT_CLK(NULL, \"gpt7_ick\", \"gpt7_ick\"),\n\tDT_CLK(NULL, \"gpt7_fck\", \"gpt7_fck\"),\n\tDT_CLK(NULL, \"gpt8_ick\", \"gpt8_ick\"),\n\tDT_CLK(NULL, \"gpt8_fck\", \"gpt8_fck\"),\n\tDT_CLK(NULL, \"gpt9_ick\", \"gpt9_ick\"),\n\tDT_CLK(NULL, \"gpt9_fck\", \"gpt9_fck\"),\n\tDT_CLK(NULL, \"gpt10_ick\", \"gpt10_ick\"),\n\tDT_CLK(NULL, \"gpt10_fck\", \"gpt10_fck\"),\n\tDT_CLK(NULL, \"gpt11_ick\", \"gpt11_ick\"),\n\tDT_CLK(NULL, \"gpt11_fck\", \"gpt11_fck\"),\n\tDT_CLK(NULL, \"gpt12_ick\", \"gpt12_ick\"),\n\tDT_CLK(NULL, \"gpt12_fck\", \"gpt12_fck\"),\n\tDT_CLK(\"omap-mcbsp.1\", \"ick\", \"mcbsp1_ick\"),\n\tDT_CLK(NULL, \"mcbsp1_ick\", \"mcbsp1_ick\"),\n\tDT_CLK(NULL, \"mcbsp1_fck\", \"mcbsp1_fck\"),\n\tDT_CLK(\"omap-mcbsp.2\", \"ick\", \"mcbsp2_ick\"),\n\tDT_CLK(NULL, \"mcbsp2_ick\", \"mcbsp2_ick\"),\n\tDT_CLK(NULL, \"mcbsp2_fck\", \"mcbsp2_fck\"),\n\tDT_CLK(\"omap2_mcspi.1\", \"ick\", \"mcspi1_ick\"),\n\tDT_CLK(NULL, \"mcspi1_ick\", \"mcspi1_ick\"),\n\tDT_CLK(NULL, \"mcspi1_fck\", \"mcspi1_fck\"),\n\tDT_CLK(\"omap2_mcspi.2\", \"ick\", \"mcspi2_ick\"),\n\tDT_CLK(NULL, \"mcspi2_ick\", \"mcspi2_ick\"),\n\tDT_CLK(NULL, \"mcspi2_fck\", \"mcspi2_fck\"),\n\tDT_CLK(NULL, \"uart1_ick\", \"uart1_ick\"),\n\tDT_CLK(NULL, \"uart1_fck\", \"uart1_fck\"),\n\tDT_CLK(NULL, \"uart2_ick\", \"uart2_ick\"),\n\tDT_CLK(NULL, \"uart2_fck\", \"uart2_fck\"),\n\tDT_CLK(NULL, \"uart3_ick\", \"uart3_ick\"),\n\tDT_CLK(NULL, \"uart3_fck\", \"uart3_fck\"),\n\tDT_CLK(NULL, \"gpios_ick\", \"gpios_ick\"),\n\tDT_CLK(NULL, \"gpios_fck\", \"gpios_fck\"),\n\tDT_CLK(\"omap_wdt\", \"ick\", \"mpu_wdt_ick\"),\n\tDT_CLK(NULL, \"mpu_wdt_ick\", \"mpu_wdt_ick\"),\n\tDT_CLK(NULL, \"mpu_wdt_fck\", \"mpu_wdt_fck\"),\n\tDT_CLK(NULL, \"sync_32k_ick\", \"sync_32k_ick\"),\n\tDT_CLK(NULL, \"wdt1_ick\", \"wdt1_ick\"),\n\tDT_CLK(NULL, \"omapctrl_ick\", \"omapctrl_ick\"),\n\tDT_CLK(\"omap24xxcam\", \"fck\", \"cam_fck\"),\n\tDT_CLK(NULL, \"cam_fck\", \"cam_fck\"),\n\tDT_CLK(\"omap24xxcam\", \"ick\", \"cam_ick\"),\n\tDT_CLK(NULL, \"cam_ick\", \"cam_ick\"),\n\tDT_CLK(NULL, \"mailboxes_ick\", \"mailboxes_ick\"),\n\tDT_CLK(NULL, \"wdt4_ick\", \"wdt4_ick\"),\n\tDT_CLK(NULL, \"wdt4_fck\", \"wdt4_fck\"),\n\tDT_CLK(NULL, \"mspro_ick\", \"mspro_ick\"),\n\tDT_CLK(NULL, \"mspro_fck\", \"mspro_fck\"),\n\tDT_CLK(NULL, \"fac_ick\", \"fac_ick\"),\n\tDT_CLK(NULL, \"fac_fck\", \"fac_fck\"),\n\tDT_CLK(\"omap_hdq.0\", \"ick\", \"hdq_ick\"),\n\tDT_CLK(NULL, \"hdq_ick\", \"hdq_ick\"),\n\tDT_CLK(\"omap_hdq.0\", \"fck\", \"hdq_fck\"),\n\tDT_CLK(NULL, \"hdq_fck\", \"hdq_fck\"),\n\tDT_CLK(\"omap_i2c.1\", \"ick\", \"i2c1_ick\"),\n\tDT_CLK(NULL, \"i2c1_ick\", \"i2c1_ick\"),\n\tDT_CLK(\"omap_i2c.2\", \"ick\", \"i2c2_ick\"),\n\tDT_CLK(NULL, \"i2c2_ick\", \"i2c2_ick\"),\n\tDT_CLK(NULL, \"gpmc_fck\", \"gpmc_fck\"),\n\tDT_CLK(NULL, \"sdma_fck\", \"sdma_fck\"),\n\tDT_CLK(NULL, \"sdma_ick\", \"sdma_ick\"),\n\tDT_CLK(NULL, \"sdrc_ick\", \"sdrc_ick\"),\n\tDT_CLK(NULL, \"des_ick\", \"des_ick\"),\n\tDT_CLK(\"omap-sham\", \"ick\", \"sha_ick\"),\n\tDT_CLK(NULL, \"sha_ick\", \"sha_ick\"),\n\tDT_CLK(\"omap_rng\", \"ick\", \"rng_ick\"),\n\tDT_CLK(NULL, \"rng_ick\", \"rng_ick\"),\n\tDT_CLK(\"omap-aes\", \"ick\", \"aes_ick\"),\n\tDT_CLK(NULL, \"aes_ick\", \"aes_ick\"),\n\tDT_CLK(NULL, \"pka_ick\", \"pka_ick\"),\n\tDT_CLK(NULL, \"usb_fck\", \"usb_fck\"),\n\tDT_CLK(NULL, \"timer_32k_ck\", \"func_32k_ck\"),\n\tDT_CLK(NULL, \"timer_sys_ck\", \"sys_ck\"),\n\tDT_CLK(NULL, \"timer_ext_ck\", \"alt_ck\"),\n\t{ .node_name = NULL },\n};\n\nstatic struct ti_dt_clk omap2420_clks[] = {\n\tDT_CLK(NULL, \"sys_clkout2_src\", \"sys_clkout2_src\"),\n\tDT_CLK(NULL, \"sys_clkout2\", \"sys_clkout2\"),\n\tDT_CLK(NULL, \"dsp_ick\", \"dsp_ick\"),\n\tDT_CLK(NULL, \"iva1_ifck\", \"iva1_ifck\"),\n\tDT_CLK(NULL, \"iva1_mpu_int_ifck\", \"iva1_mpu_int_ifck\"),\n\tDT_CLK(NULL, \"wdt3_ick\", \"wdt3_ick\"),\n\tDT_CLK(NULL, \"wdt3_fck\", \"wdt3_fck\"),\n\tDT_CLK(\"mmci-omap.0\", \"ick\", \"mmc_ick\"),\n\tDT_CLK(NULL, \"mmc_ick\", \"mmc_ick\"),\n\tDT_CLK(\"mmci-omap.0\", \"fck\", \"mmc_fck\"),\n\tDT_CLK(NULL, \"mmc_fck\", \"mmc_fck\"),\n\tDT_CLK(NULL, \"eac_ick\", \"eac_ick\"),\n\tDT_CLK(NULL, \"eac_fck\", \"eac_fck\"),\n\tDT_CLK(NULL, \"i2c1_fck\", \"i2c1_fck\"),\n\tDT_CLK(NULL, \"i2c2_fck\", \"i2c2_fck\"),\n\tDT_CLK(NULL, \"vlynq_ick\", \"vlynq_ick\"),\n\tDT_CLK(NULL, \"vlynq_fck\", \"vlynq_fck\"),\n\tDT_CLK(\"musb-hdrc\", \"fck\", \"osc_ck\"),\n\t{ .node_name = NULL },\n};\n\nstatic struct ti_dt_clk omap2430_clks[] = {\n\tDT_CLK(\"twl\", \"fck\", \"osc_ck\"),\n\tDT_CLK(NULL, \"iva2_1_ick\", \"iva2_1_ick\"),\n\tDT_CLK(NULL, \"mdm_ick\", \"mdm_ick\"),\n\tDT_CLK(NULL, \"mdm_osc_ck\", \"mdm_osc_ck\"),\n\tDT_CLK(\"omap-mcbsp.3\", \"ick\", \"mcbsp3_ick\"),\n\tDT_CLK(NULL, \"mcbsp3_ick\", \"mcbsp3_ick\"),\n\tDT_CLK(NULL, \"mcbsp3_fck\", \"mcbsp3_fck\"),\n\tDT_CLK(\"omap-mcbsp.4\", \"ick\", \"mcbsp4_ick\"),\n\tDT_CLK(NULL, \"mcbsp4_ick\", \"mcbsp4_ick\"),\n\tDT_CLK(NULL, \"mcbsp4_fck\", \"mcbsp4_fck\"),\n\tDT_CLK(\"omap-mcbsp.5\", \"ick\", \"mcbsp5_ick\"),\n\tDT_CLK(NULL, \"mcbsp5_ick\", \"mcbsp5_ick\"),\n\tDT_CLK(NULL, \"mcbsp5_fck\", \"mcbsp5_fck\"),\n\tDT_CLK(\"omap2_mcspi.3\", \"ick\", \"mcspi3_ick\"),\n\tDT_CLK(NULL, \"mcspi3_ick\", \"mcspi3_ick\"),\n\tDT_CLK(NULL, \"mcspi3_fck\", \"mcspi3_fck\"),\n\tDT_CLK(NULL, \"icr_ick\", \"icr_ick\"),\n\tDT_CLK(NULL, \"i2chs1_fck\", \"i2chs1_fck\"),\n\tDT_CLK(NULL, \"i2chs2_fck\", \"i2chs2_fck\"),\n\tDT_CLK(\"musb-omap2430\", \"ick\", \"usbhs_ick\"),\n\tDT_CLK(NULL, \"usbhs_ick\", \"usbhs_ick\"),\n\tDT_CLK(\"omap_hsmmc.0\", \"ick\", \"mmchs1_ick\"),\n\tDT_CLK(NULL, \"mmchs1_ick\", \"mmchs1_ick\"),\n\tDT_CLK(NULL, \"mmchs1_fck\", \"mmchs1_fck\"),\n\tDT_CLK(\"omap_hsmmc.1\", \"ick\", \"mmchs2_ick\"),\n\tDT_CLK(NULL, \"mmchs2_ick\", \"mmchs2_ick\"),\n\tDT_CLK(NULL, \"mmchs2_fck\", \"mmchs2_fck\"),\n\tDT_CLK(NULL, \"gpio5_ick\", \"gpio5_ick\"),\n\tDT_CLK(NULL, \"gpio5_fck\", \"gpio5_fck\"),\n\tDT_CLK(NULL, \"mdm_intc_ick\", \"mdm_intc_ick\"),\n\tDT_CLK(\"omap_hsmmc.0\", \"mmchsdb_fck\", \"mmchsdb1_fck\"),\n\tDT_CLK(NULL, \"mmchsdb1_fck\", \"mmchsdb1_fck\"),\n\tDT_CLK(\"omap_hsmmc.1\", \"mmchsdb_fck\", \"mmchsdb2_fck\"),\n\tDT_CLK(NULL, \"mmchsdb2_fck\", \"mmchsdb2_fck\"),\n\t{ .node_name = NULL },\n};\n\nstatic const char *enable_init_clks[] = {\n\t\"apll96_ck\",\n\t\"apll54_ck\",\n\t\"sync_32k_ick\",\n\t\"omapctrl_ick\",\n\t\"gpmc_fck\",\n\t\"sdrc_ick\",\n};\n\nenum {\n\tOMAP2_SOC_OMAP2420,\n\tOMAP2_SOC_OMAP2430,\n};\n\nstatic int __init omap2xxx_dt_clk_init(int soc_type)\n{\n\tti_dt_clocks_register(omap2xxx_clks);\n\n\tif (soc_type == OMAP2_SOC_OMAP2420)\n\t\tti_dt_clocks_register(omap2420_clks);\n\telse\n\t\tti_dt_clocks_register(omap2430_clks);\n\n\tomap2xxx_clkt_vps_init();\n\n\tomap2_clk_disable_autoidle_all();\n\n\tomap2_clk_enable_init_clocks(enable_init_clks,\n\t\t\t\t     ARRAY_SIZE(enable_init_clks));\n\n\tpr_info(\"Clocking rate (Crystal/DPLL/MPU): %ld.%01ld/%ld/%ld MHz\\n\",\n\t\t(clk_get_rate(clk_get_sys(NULL, \"sys_ck\")) / 1000000),\n\t\t(clk_get_rate(clk_get_sys(NULL, \"sys_ck\")) / 100000) % 10,\n\t\t(clk_get_rate(clk_get_sys(NULL, \"dpll_ck\")) / 1000000),\n\t\t(clk_get_rate(clk_get_sys(NULL, \"mpu_ck\")) / 1000000));\n\n\treturn 0;\n}\n\nint __init omap2420_dt_clk_init(void)\n{\n\treturn omap2xxx_dt_clk_init(OMAP2_SOC_OMAP2420);\n}\n\nint __init omap2430_dt_clk_init(void)\n{\n\treturn omap2xxx_dt_clk_init(OMAP2_SOC_OMAP2430);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}