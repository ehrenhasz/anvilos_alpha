{
  "module_name": "clk-816x.c",
  "hash_id": "ce6c24beca26ba65797f9131ec01beaa3daf475d3782a9f6a562e15d77d6d8a0",
  "original_prompt": "Ingested from linux-6.6.14/drivers/clk/ti/clk-816x.c",
  "human_readable_source": "\n\n#include <linux/kernel.h>\n#include <linux/list.h>\n#include <linux/clk-provider.h>\n#include <linux/clk/ti.h>\n#include <dt-bindings/clock/dm816.h>\n\n#include \"clock.h\"\n\nstatic const struct omap_clkctrl_reg_data dm816_default_clkctrl_regs[] __initconst = {\n\t{ DM816_USB_OTG_HS_CLKCTRL, NULL, CLKF_SW_SUP, \"sysclk6_ck\" },\n\t{ 0 },\n};\n\nstatic const struct omap_clkctrl_reg_data dm816_alwon_clkctrl_regs[] __initconst = {\n\t{ DM816_UART1_CLKCTRL, NULL, CLKF_SW_SUP, \"sysclk10_ck\" },\n\t{ DM816_UART2_CLKCTRL, NULL, CLKF_SW_SUP, \"sysclk10_ck\" },\n\t{ DM816_UART3_CLKCTRL, NULL, CLKF_SW_SUP, \"sysclk10_ck\" },\n\t{ DM816_GPIO1_CLKCTRL, NULL, CLKF_SW_SUP, \"sysclk6_ck\" },\n\t{ DM816_GPIO2_CLKCTRL, NULL, CLKF_SW_SUP, \"sysclk6_ck\" },\n\t{ DM816_I2C1_CLKCTRL, NULL, CLKF_SW_SUP, \"sysclk10_ck\" },\n\t{ DM816_I2C2_CLKCTRL, NULL, CLKF_SW_SUP, \"sysclk10_ck\" },\n\t{ DM816_TIMER1_CLKCTRL, NULL, CLKF_SW_SUP, \"timer1_fck\" },\n\t{ DM816_TIMER2_CLKCTRL, NULL, CLKF_SW_SUP, \"timer2_fck\" },\n\t{ DM816_TIMER3_CLKCTRL, NULL, CLKF_SW_SUP, \"timer3_fck\" },\n\t{ DM816_TIMER4_CLKCTRL, NULL, CLKF_SW_SUP, \"timer4_fck\" },\n\t{ DM816_TIMER5_CLKCTRL, NULL, CLKF_SW_SUP, \"timer5_fck\" },\n\t{ DM816_TIMER6_CLKCTRL, NULL, CLKF_SW_SUP, \"timer6_fck\" },\n\t{ DM816_TIMER7_CLKCTRL, NULL, CLKF_SW_SUP, \"timer7_fck\" },\n\t{ DM816_WD_TIMER_CLKCTRL, NULL, CLKF_SW_SUP | CLKF_NO_IDLEST, \"sysclk18_ck\" },\n\t{ DM816_MCSPI1_CLKCTRL, NULL, CLKF_SW_SUP, \"sysclk10_ck\" },\n\t{ DM816_MAILBOX_CLKCTRL, NULL, CLKF_SW_SUP, \"sysclk6_ck\" },\n\t{ DM816_SPINBOX_CLKCTRL, NULL, CLKF_SW_SUP, \"sysclk6_ck\" },\n\t{ DM816_MMC1_CLKCTRL, NULL, CLKF_SW_SUP, \"sysclk10_ck\" },\n\t{ DM816_GPMC_CLKCTRL, NULL, CLKF_SW_SUP, \"sysclk6_ck\" },\n\t{ DM816_DAVINCI_MDIO_CLKCTRL, NULL, CLKF_SW_SUP | CLKF_NO_IDLEST, \"sysclk24_ck\" },\n\t{ DM816_EMAC1_CLKCTRL, NULL, CLKF_SW_SUP | CLKF_NO_IDLEST, \"sysclk24_ck\" },\n\t{ DM816_MPU_CLKCTRL, NULL, CLKF_SW_SUP, \"sysclk2_ck\" },\n\t{ DM816_RTC_CLKCTRL, NULL, CLKF_SW_SUP | CLKF_NO_IDLEST, \"sysclk18_ck\" },\n\t{ DM816_TPCC_CLKCTRL, NULL, CLKF_SW_SUP, \"sysclk4_ck\" },\n\t{ DM816_TPTC0_CLKCTRL, NULL, CLKF_SW_SUP, \"sysclk4_ck\" },\n\t{ DM816_TPTC1_CLKCTRL, NULL, CLKF_SW_SUP, \"sysclk4_ck\" },\n\t{ DM816_TPTC2_CLKCTRL, NULL, CLKF_SW_SUP, \"sysclk4_ck\" },\n\t{ DM816_TPTC3_CLKCTRL, NULL, CLKF_SW_SUP, \"sysclk4_ck\" },\n\t{ 0 },\n};\n\nconst struct omap_clkctrl_data dm816_clkctrl_data[] __initconst = {\n\t{ 0x48180500, dm816_default_clkctrl_regs },\n\t{ 0x48181400, dm816_alwon_clkctrl_regs },\n\t{ 0 },\n};\n\nstatic struct ti_dt_clk dm816x_clks[] = {\n\tDT_CLK(NULL, \"sys_clkin\", \"sys_clkin_ck\"),\n\tDT_CLK(NULL, \"timer_sys_ck\", \"sys_clkin_ck\"),\n\tDT_CLK(NULL, \"timer_32k_ck\", \"sysclk18_ck\"),\n\tDT_CLK(NULL, \"timer_ext_ck\", \"tclkin_ck\"),\n\t{ .node_name = NULL },\n};\n\nstatic const char *enable_init_clks[] = {\n\t\"ddr_pll_clk1\",\n\t\"ddr_pll_clk2\",\n\t\"ddr_pll_clk3\",\n\t\"sysclk6_ck\",\n};\n\nint __init dm816x_dt_clk_init(void)\n{\n\tti_dt_clocks_register(dm816x_clks);\n\tomap2_clk_disable_autoidle_all();\n\tti_clk_add_aliases();\n\tomap2_clk_enable_init_clocks(enable_init_clks,\n\t\t\t\t     ARRAY_SIZE(enable_init_clks));\n\n\treturn 0;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}