{
  "module_name": "pcidev_msi.c",
  "hash_id": "b13e05f2486a8527504484430ff61363804eb294374c22024f7f3e63c7a01036",
  "original_prompt": "Ingested from linux-6.6.14/drivers/pci/msi/pcidev_msi.c",
  "human_readable_source": "\n \n#include \"../pci.h\"\n\n \n\nvoid pci_msi_init(struct pci_dev *dev)\n{\n\tu16 ctrl;\n\n\tdev->msi_cap = pci_find_capability(dev, PCI_CAP_ID_MSI);\n\tif (!dev->msi_cap)\n\t\treturn;\n\n\tpci_read_config_word(dev, dev->msi_cap + PCI_MSI_FLAGS, &ctrl);\n\tif (ctrl & PCI_MSI_FLAGS_ENABLE) {\n\t\tpci_write_config_word(dev, dev->msi_cap + PCI_MSI_FLAGS,\n\t\t\t\t      ctrl & ~PCI_MSI_FLAGS_ENABLE);\n\t}\n\n\tif (!(ctrl & PCI_MSI_FLAGS_64BIT))\n\t\tdev->no_64bit_msi = 1;\n}\n\nvoid pci_msix_init(struct pci_dev *dev)\n{\n\tu16 ctrl;\n\n\tdev->msix_cap = pci_find_capability(dev, PCI_CAP_ID_MSIX);\n\tif (!dev->msix_cap)\n\t\treturn;\n\n\tpci_read_config_word(dev, dev->msix_cap + PCI_MSIX_FLAGS, &ctrl);\n\tif (ctrl & PCI_MSIX_FLAGS_ENABLE) {\n\t\tpci_write_config_word(dev, dev->msix_cap + PCI_MSIX_FLAGS,\n\t\t\t\t      ctrl & ~PCI_MSIX_FLAGS_ENABLE);\n\t}\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}