{
  "module_name": "pcie-cadence.h",
  "hash_id": "4cbf232137fff9113e089972d07fc187123ef73d18abc0a4385facee224a44f9",
  "original_prompt": "Ingested from linux-6.6.14/drivers/pci/controller/cadence/pcie-cadence.h",
  "human_readable_source": " \n\n\n\n\n#ifndef _PCIE_CADENCE_H\n#define _PCIE_CADENCE_H\n\n#include <linux/kernel.h>\n#include <linux/pci.h>\n#include <linux/pci-epf.h>\n#include <linux/phy/phy.h>\n\n \n#define LINK_WAIT_MAX_RETRIES\t10\n#define LINK_WAIT_USLEEP_MIN\t90000\n#define LINK_WAIT_USLEEP_MAX\t100000\n\n \n#define CDNS_PCIE_LM_BASE\t0x00100000\n\n \n#define CDNS_PCIE_LM_ID\t\t(CDNS_PCIE_LM_BASE + 0x0044)\n#define  CDNS_PCIE_LM_ID_VENDOR_MASK\tGENMASK(15, 0)\n#define  CDNS_PCIE_LM_ID_VENDOR_SHIFT\t0\n#define  CDNS_PCIE_LM_ID_VENDOR(vid) \\\n\t(((vid) << CDNS_PCIE_LM_ID_VENDOR_SHIFT) & CDNS_PCIE_LM_ID_VENDOR_MASK)\n#define  CDNS_PCIE_LM_ID_SUBSYS_MASK\tGENMASK(31, 16)\n#define  CDNS_PCIE_LM_ID_SUBSYS_SHIFT\t16\n#define  CDNS_PCIE_LM_ID_SUBSYS(sub) \\\n\t(((sub) << CDNS_PCIE_LM_ID_SUBSYS_SHIFT) & CDNS_PCIE_LM_ID_SUBSYS_MASK)\n\n \n#define CDNS_PCIE_LM_RP_RID\t(CDNS_PCIE_LM_BASE + 0x0228)\n#define  CDNS_PCIE_LM_RP_RID_MASK\tGENMASK(15, 0)\n#define  CDNS_PCIE_LM_RP_RID_SHIFT\t0\n#define  CDNS_PCIE_LM_RP_RID_(rid) \\\n\t(((rid) << CDNS_PCIE_LM_RP_RID_SHIFT) & CDNS_PCIE_LM_RP_RID_MASK)\n\n \n#define CDNS_PCIE_LM_EP_ID\t(CDNS_PCIE_LM_BASE + 0x022c)\n#define  CDNS_PCIE_LM_EP_ID_DEV_MASK\tGENMASK(4, 0)\n#define  CDNS_PCIE_LM_EP_ID_DEV_SHIFT\t0\n#define  CDNS_PCIE_LM_EP_ID_BUS_MASK\tGENMASK(15, 8)\n#define  CDNS_PCIE_LM_EP_ID_BUS_SHIFT\t8\n\n \n#define CDNS_PCIE_LM_EP_FUNC_BAR_CFG(bar, fn) \\\n\t(((bar) < BAR_4) ? CDNS_PCIE_LM_EP_FUNC_BAR_CFG0(fn) : CDNS_PCIE_LM_EP_FUNC_BAR_CFG1(fn))\n#define CDNS_PCIE_LM_EP_FUNC_BAR_CFG0(fn) \\\n\t(CDNS_PCIE_LM_BASE + 0x0240 + (fn) * 0x0008)\n#define CDNS_PCIE_LM_EP_FUNC_BAR_CFG1(fn) \\\n\t(CDNS_PCIE_LM_BASE + 0x0244 + (fn) * 0x0008)\n#define CDNS_PCIE_LM_EP_VFUNC_BAR_CFG(bar, fn) \\\n\t(((bar) < BAR_4) ? CDNS_PCIE_LM_EP_VFUNC_BAR_CFG0(fn) : CDNS_PCIE_LM_EP_VFUNC_BAR_CFG1(fn))\n#define CDNS_PCIE_LM_EP_VFUNC_BAR_CFG0(fn) \\\n\t(CDNS_PCIE_LM_BASE + 0x0280 + (fn) * 0x0008)\n#define CDNS_PCIE_LM_EP_VFUNC_BAR_CFG1(fn) \\\n\t(CDNS_PCIE_LM_BASE + 0x0284 + (fn) * 0x0008)\n#define  CDNS_PCIE_LM_EP_FUNC_BAR_CFG_BAR_APERTURE_MASK(b) \\\n\t(GENMASK(4, 0) << ((b) * 8))\n#define  CDNS_PCIE_LM_EP_FUNC_BAR_CFG_BAR_APERTURE(b, a) \\\n\t(((a) << ((b) * 8)) & CDNS_PCIE_LM_EP_FUNC_BAR_CFG_BAR_APERTURE_MASK(b))\n#define  CDNS_PCIE_LM_EP_FUNC_BAR_CFG_BAR_CTRL_MASK(b) \\\n\t(GENMASK(7, 5) << ((b) * 8))\n#define  CDNS_PCIE_LM_EP_FUNC_BAR_CFG_BAR_CTRL(b, c) \\\n\t(((c) << ((b) * 8 + 5)) & CDNS_PCIE_LM_EP_FUNC_BAR_CFG_BAR_CTRL_MASK(b))\n\n \n#define CDNS_PCIE_LM_EP_FUNC_CFG\t(CDNS_PCIE_LM_BASE + 0x02c0)\n\n \n#define CDNS_PCIE_LM_RC_BAR_CFG\t(CDNS_PCIE_LM_BASE + 0x0300)\n#define  CDNS_PCIE_LM_RC_BAR_CFG_BAR0_APERTURE_MASK\tGENMASK(5, 0)\n#define  CDNS_PCIE_LM_RC_BAR_CFG_BAR0_APERTURE(a) \\\n\t(((a) << 0) & CDNS_PCIE_LM_RC_BAR_CFG_BAR0_APERTURE_MASK)\n#define  CDNS_PCIE_LM_RC_BAR_CFG_BAR0_CTRL_MASK\t\tGENMASK(8, 6)\n#define  CDNS_PCIE_LM_RC_BAR_CFG_BAR0_CTRL(c) \\\n\t(((c) << 6) & CDNS_PCIE_LM_RC_BAR_CFG_BAR0_CTRL_MASK)\n#define  CDNS_PCIE_LM_RC_BAR_CFG_BAR1_APERTURE_MASK\tGENMASK(13, 9)\n#define  CDNS_PCIE_LM_RC_BAR_CFG_BAR1_APERTURE(a) \\\n\t(((a) << 9) & CDNS_PCIE_LM_RC_BAR_CFG_BAR1_APERTURE_MASK)\n#define  CDNS_PCIE_LM_RC_BAR_CFG_BAR1_CTRL_MASK\t\tGENMASK(16, 14)\n#define  CDNS_PCIE_LM_RC_BAR_CFG_BAR1_CTRL(c) \\\n\t(((c) << 14) & CDNS_PCIE_LM_RC_BAR_CFG_BAR1_CTRL_MASK)\n#define  CDNS_PCIE_LM_RC_BAR_CFG_PREFETCH_MEM_ENABLE\tBIT(17)\n#define  CDNS_PCIE_LM_RC_BAR_CFG_PREFETCH_MEM_32BITS\t0\n#define  CDNS_PCIE_LM_RC_BAR_CFG_PREFETCH_MEM_64BITS\tBIT(18)\n#define  CDNS_PCIE_LM_RC_BAR_CFG_IO_ENABLE\t\tBIT(19)\n#define  CDNS_PCIE_LM_RC_BAR_CFG_IO_16BITS\t\t0\n#define  CDNS_PCIE_LM_RC_BAR_CFG_IO_32BITS\t\tBIT(20)\n#define  CDNS_PCIE_LM_RC_BAR_CFG_CHECK_ENABLE\t\tBIT(31)\n\n \n#define  CDNS_PCIE_LM_BAR_CFG_CTRL_DISABLED\t\t0x0\n#define  CDNS_PCIE_LM_BAR_CFG_CTRL_IO_32BITS\t\t0x1\n#define  CDNS_PCIE_LM_BAR_CFG_CTRL_MEM_32BITS\t\t0x4\n#define  CDNS_PCIE_LM_BAR_CFG_CTRL_PREFETCH_MEM_32BITS\t0x5\n#define  CDNS_PCIE_LM_BAR_CFG_CTRL_MEM_64BITS\t\t0x6\n#define  CDNS_PCIE_LM_BAR_CFG_CTRL_PREFETCH_MEM_64BITS\t0x7\n\n#define LM_RC_BAR_CFG_CTRL_DISABLED(bar)\t\t\\\n\t\t(CDNS_PCIE_LM_BAR_CFG_CTRL_DISABLED << (((bar) * 8) + 6))\n#define LM_RC_BAR_CFG_CTRL_IO_32BITS(bar)\t\t\\\n\t\t(CDNS_PCIE_LM_BAR_CFG_CTRL_IO_32BITS << (((bar) * 8) + 6))\n#define LM_RC_BAR_CFG_CTRL_MEM_32BITS(bar)\t\t\\\n\t\t(CDNS_PCIE_LM_BAR_CFG_CTRL_MEM_32BITS << (((bar) * 8) + 6))\n#define LM_RC_BAR_CFG_CTRL_PREF_MEM_32BITS(bar)\t\\\n\t(CDNS_PCIE_LM_BAR_CFG_CTRL_PREFETCH_MEM_32BITS << (((bar) * 8) + 6))\n#define LM_RC_BAR_CFG_CTRL_MEM_64BITS(bar)\t\t\\\n\t\t(CDNS_PCIE_LM_BAR_CFG_CTRL_MEM_64BITS << (((bar) * 8) + 6))\n#define LM_RC_BAR_CFG_CTRL_PREF_MEM_64BITS(bar)\t\\\n\t(CDNS_PCIE_LM_BAR_CFG_CTRL_PREFETCH_MEM_64BITS << (((bar) * 8) + 6))\n#define LM_RC_BAR_CFG_APERTURE(bar, aperture)\t\t\\\n\t\t\t\t\t(((aperture) - 2) << ((bar) * 8))\n\n \n#define CDNS_PCIE_LM_PTM_CTRL \t(CDNS_PCIE_LM_BASE + 0x0da8)\n#define CDNS_PCIE_LM_TPM_CTRL_PTMRSEN \tBIT(17)\n\n \n#define CDNS_PCIE_EP_FUNC_BASE(fn)\t(((fn) << 12) & GENMASK(19, 12))\n\n#define CDNS_PCIE_EP_FUNC_MSI_CAP_OFFSET\t0x90\n#define CDNS_PCIE_EP_FUNC_MSIX_CAP_OFFSET\t0xb0\n#define CDNS_PCIE_EP_FUNC_DEV_CAP_OFFSET\t0xc0\n#define CDNS_PCIE_EP_FUNC_SRIOV_CAP_OFFSET\t0x200\n\n \n#define CDNS_PCIE_RP_BASE\t0x00200000\n#define CDNS_PCIE_RP_CAP_OFFSET 0xc0\n\n \n#define CDNS_PCIE_AT_BASE\t0x00400000\n\n \n#define CDNS_PCIE_AT_OB_REGION_PCI_ADDR0(r) \\\n\t(CDNS_PCIE_AT_BASE + 0x0000 + ((r) & 0x1f) * 0x0020)\n#define  CDNS_PCIE_AT_OB_REGION_PCI_ADDR0_NBITS_MASK\tGENMASK(5, 0)\n#define  CDNS_PCIE_AT_OB_REGION_PCI_ADDR0_NBITS(nbits) \\\n\t(((nbits) - 1) & CDNS_PCIE_AT_OB_REGION_PCI_ADDR0_NBITS_MASK)\n#define  CDNS_PCIE_AT_OB_REGION_PCI_ADDR0_DEVFN_MASK\tGENMASK(19, 12)\n#define  CDNS_PCIE_AT_OB_REGION_PCI_ADDR0_DEVFN(devfn) \\\n\t(((devfn) << 12) & CDNS_PCIE_AT_OB_REGION_PCI_ADDR0_DEVFN_MASK)\n#define  CDNS_PCIE_AT_OB_REGION_PCI_ADDR0_BUS_MASK\tGENMASK(27, 20)\n#define  CDNS_PCIE_AT_OB_REGION_PCI_ADDR0_BUS(bus) \\\n\t(((bus) << 20) & CDNS_PCIE_AT_OB_REGION_PCI_ADDR0_BUS_MASK)\n\n \n#define CDNS_PCIE_AT_OB_REGION_PCI_ADDR1(r) \\\n\t(CDNS_PCIE_AT_BASE + 0x0004 + ((r) & 0x1f) * 0x0020)\n\n \n#define CDNS_PCIE_AT_OB_REGION_DESC0(r) \\\n\t(CDNS_PCIE_AT_BASE + 0x0008 + ((r) & 0x1f) * 0x0020)\n#define  CDNS_PCIE_AT_OB_REGION_DESC0_TYPE_MASK\t\tGENMASK(3, 0)\n#define  CDNS_PCIE_AT_OB_REGION_DESC0_TYPE_MEM\t\t0x2\n#define  CDNS_PCIE_AT_OB_REGION_DESC0_TYPE_IO\t\t0x6\n#define  CDNS_PCIE_AT_OB_REGION_DESC0_TYPE_CONF_TYPE0\t0xa\n#define  CDNS_PCIE_AT_OB_REGION_DESC0_TYPE_CONF_TYPE1\t0xb\n#define  CDNS_PCIE_AT_OB_REGION_DESC0_TYPE_NORMAL_MSG\t0xc\n#define  CDNS_PCIE_AT_OB_REGION_DESC0_TYPE_VENDOR_MSG\t0xd\n \n#define  CDNS_PCIE_AT_OB_REGION_DESC0_HARDCODED_RID\tBIT(23)\n#define  CDNS_PCIE_AT_OB_REGION_DESC0_DEVFN_MASK\tGENMASK(31, 24)\n#define  CDNS_PCIE_AT_OB_REGION_DESC0_DEVFN(devfn) \\\n\t(((devfn) << 24) & CDNS_PCIE_AT_OB_REGION_DESC0_DEVFN_MASK)\n\n \n#define CDNS_PCIE_AT_OB_REGION_DESC1(r)\t\\\n\t(CDNS_PCIE_AT_BASE + 0x000c + ((r) & 0x1f) * 0x0020)\n#define  CDNS_PCIE_AT_OB_REGION_DESC1_BUS_MASK\tGENMASK(7, 0)\n#define  CDNS_PCIE_AT_OB_REGION_DESC1_BUS(bus) \\\n\t((bus) & CDNS_PCIE_AT_OB_REGION_DESC1_BUS_MASK)\n\n \n#define CDNS_PCIE_AT_OB_REGION_CPU_ADDR0(r) \\\n\t(CDNS_PCIE_AT_BASE + 0x0018 + ((r) & 0x1f) * 0x0020)\n#define  CDNS_PCIE_AT_OB_REGION_CPU_ADDR0_NBITS_MASK\tGENMASK(5, 0)\n#define  CDNS_PCIE_AT_OB_REGION_CPU_ADDR0_NBITS(nbits) \\\n\t(((nbits) - 1) & CDNS_PCIE_AT_OB_REGION_CPU_ADDR0_NBITS_MASK)\n\n \n#define CDNS_PCIE_AT_OB_REGION_CPU_ADDR1(r) \\\n\t(CDNS_PCIE_AT_BASE + 0x001c + ((r) & 0x1f) * 0x0020)\n\n \n#define CDNS_PCIE_AT_IB_RP_BAR_ADDR0(bar) \\\n\t(CDNS_PCIE_AT_BASE + 0x0800 + (bar) * 0x0008)\n#define  CDNS_PCIE_AT_IB_RP_BAR_ADDR0_NBITS_MASK\tGENMASK(5, 0)\n#define  CDNS_PCIE_AT_IB_RP_BAR_ADDR0_NBITS(nbits) \\\n\t(((nbits) - 1) & CDNS_PCIE_AT_IB_RP_BAR_ADDR0_NBITS_MASK)\n#define CDNS_PCIE_AT_IB_RP_BAR_ADDR1(bar) \\\n\t(CDNS_PCIE_AT_BASE + 0x0804 + (bar) * 0x0008)\n\n \n#define CDNS_PCIE_AT_LINKDOWN (CDNS_PCIE_AT_BASE + 0x0824)\n\n \n#define CDNS_PCIE_LTSSM_CONTROL_CAP             (CDNS_PCIE_LM_BASE + 0x0054)\n#define  CDNS_PCIE_DETECT_QUIET_MIN_DELAY_MASK  GENMASK(2, 1)\n#define  CDNS_PCIE_DETECT_QUIET_MIN_DELAY_SHIFT 1\n#define  CDNS_PCIE_DETECT_QUIET_MIN_DELAY(delay) \\\n\t (((delay) << CDNS_PCIE_DETECT_QUIET_MIN_DELAY_SHIFT) & \\\n\t CDNS_PCIE_DETECT_QUIET_MIN_DELAY_MASK)\n\nenum cdns_pcie_rp_bar {\n\tRP_BAR_UNDEFINED = -1,\n\tRP_BAR0,\n\tRP_BAR1,\n\tRP_NO_BAR\n};\n\n#define CDNS_PCIE_RP_MAX_IB\t0x3\n#define CDNS_PCIE_MAX_OB\t32\n\nstruct cdns_pcie_rp_ib_bar {\n\tu64 size;\n\tbool free;\n};\n\n \n#define CDNS_PCIE_AT_IB_EP_FUNC_BAR_ADDR0(fn, bar) \\\n\t(CDNS_PCIE_AT_BASE + 0x0840 + (fn) * 0x0040 + (bar) * 0x0008)\n#define CDNS_PCIE_AT_IB_EP_FUNC_BAR_ADDR1(fn, bar) \\\n\t(CDNS_PCIE_AT_BASE + 0x0844 + (fn) * 0x0040 + (bar) * 0x0008)\n\n \n#define CDNS_PCIE_NORMAL_MSG_ROUTING_MASK\tGENMASK(7, 5)\n#define CDNS_PCIE_NORMAL_MSG_ROUTING(route) \\\n\t(((route) << 5) & CDNS_PCIE_NORMAL_MSG_ROUTING_MASK)\n#define CDNS_PCIE_NORMAL_MSG_CODE_MASK\t\tGENMASK(15, 8)\n#define CDNS_PCIE_NORMAL_MSG_CODE(code) \\\n\t(((code) << 8) & CDNS_PCIE_NORMAL_MSG_CODE_MASK)\n#define CDNS_PCIE_MSG_NO_DATA\t\t\tBIT(16)\n\nstruct cdns_pcie;\n\nenum cdns_pcie_msg_code {\n\tMSG_CODE_ASSERT_INTA\t= 0x20,\n\tMSG_CODE_ASSERT_INTB\t= 0x21,\n\tMSG_CODE_ASSERT_INTC\t= 0x22,\n\tMSG_CODE_ASSERT_INTD\t= 0x23,\n\tMSG_CODE_DEASSERT_INTA\t= 0x24,\n\tMSG_CODE_DEASSERT_INTB\t= 0x25,\n\tMSG_CODE_DEASSERT_INTC\t= 0x26,\n\tMSG_CODE_DEASSERT_INTD\t= 0x27,\n};\n\nenum cdns_pcie_msg_routing {\n\t \n\tMSG_ROUTING_TO_RC,\n\n\t \n\tMSG_ROUTING_BY_ADDR,\n\n\t \n\tMSG_ROUTING_BY_ID,\n\n\t \n\tMSG_ROUTING_BCAST,\n\n\t \n\tMSG_ROUTING_LOCAL,\n\n\t \n\tMSG_ROUTING_GATHER,\n};\n\nstruct cdns_pcie_ops {\n\tint\t(*start_link)(struct cdns_pcie *pcie);\n\tvoid\t(*stop_link)(struct cdns_pcie *pcie);\n\tbool\t(*link_up)(struct cdns_pcie *pcie);\n\tu64     (*cpu_addr_fixup)(struct cdns_pcie *pcie, u64 cpu_addr);\n};\n\n \nstruct cdns_pcie {\n\tvoid __iomem\t\t*reg_base;\n\tstruct resource\t\t*mem_res;\n\tstruct device\t\t*dev;\n\tbool\t\t\tis_rc;\n\tint\t\t\tphy_count;\n\tstruct phy\t\t**phy;\n\tstruct device_link\t**link;\n\tconst struct cdns_pcie_ops *ops;\n};\n\n \nstruct cdns_pcie_rc {\n\tstruct cdns_pcie\tpcie;\n\tstruct resource\t\t*cfg_res;\n\tvoid __iomem\t\t*cfg_base;\n\tu32\t\t\tvendor_id;\n\tu32\t\t\tdevice_id;\n\tbool\t\t\tavail_ib_bar[CDNS_PCIE_RP_MAX_IB];\n\tunsigned int\t\tquirk_retrain_flag:1;\n\tunsigned int\t\tquirk_detect_quiet_flag:1;\n};\n\n \nstruct cdns_pcie_epf {\n\tstruct cdns_pcie_epf *epf;\n\tstruct pci_epf_bar *epf_bar[PCI_STD_NUM_BARS];\n};\n\n \nstruct cdns_pcie_ep {\n\tstruct cdns_pcie\tpcie;\n\tu32\t\t\tmax_regions;\n\tunsigned long\t\tob_region_map;\n\tphys_addr_t\t\t*ob_addr;\n\tphys_addr_t\t\tirq_phys_addr;\n\tvoid __iomem\t\t*irq_cpu_addr;\n\tu64\t\t\tirq_pci_addr;\n\tu8\t\t\tirq_pci_fn;\n\tu8\t\t\tirq_pending;\n\t \n\tspinlock_t\t\tlock;\n\tstruct cdns_pcie_epf\t*epf;\n\tunsigned int\t\tquirk_detect_quiet_flag:1;\n\tunsigned int\t\tquirk_disable_flr:1;\n};\n\n\n \nstatic inline void cdns_pcie_writel(struct cdns_pcie *pcie, u32 reg, u32 value)\n{\n\twritel(value, pcie->reg_base + reg);\n}\n\nstatic inline u32 cdns_pcie_readl(struct cdns_pcie *pcie, u32 reg)\n{\n\treturn readl(pcie->reg_base + reg);\n}\n\nstatic inline u32 cdns_pcie_read_sz(void __iomem *addr, int size)\n{\n\tvoid __iomem *aligned_addr = PTR_ALIGN_DOWN(addr, 0x4);\n\tunsigned int offset = (unsigned long)addr & 0x3;\n\tu32 val = readl(aligned_addr);\n\n\tif (!IS_ALIGNED((uintptr_t)addr, size)) {\n\t\tpr_warn(\"Address %p and size %d are not aligned\\n\", addr, size);\n\t\treturn 0;\n\t}\n\n\tif (size > 2)\n\t\treturn val;\n\n\treturn (val >> (8 * offset)) & ((1 << (size * 8)) - 1);\n}\n\nstatic inline void cdns_pcie_write_sz(void __iomem *addr, int size, u32 value)\n{\n\tvoid __iomem *aligned_addr = PTR_ALIGN_DOWN(addr, 0x4);\n\tunsigned int offset = (unsigned long)addr & 0x3;\n\tu32 mask;\n\tu32 val;\n\n\tif (!IS_ALIGNED((uintptr_t)addr, size)) {\n\t\tpr_warn(\"Address %p and size %d are not aligned\\n\", addr, size);\n\t\treturn;\n\t}\n\n\tif (size > 2) {\n\t\twritel(value, addr);\n\t\treturn;\n\t}\n\n\tmask = ~(((1 << (size * 8)) - 1) << (offset * 8));\n\tval = readl(aligned_addr) & mask;\n\tval |= value << (offset * 8);\n\twritel(val, aligned_addr);\n}\n\n \nstatic inline void cdns_pcie_rp_writeb(struct cdns_pcie *pcie,\n\t\t\t\t       u32 reg, u8 value)\n{\n\tvoid __iomem *addr = pcie->reg_base + CDNS_PCIE_RP_BASE + reg;\n\n\tcdns_pcie_write_sz(addr, 0x1, value);\n}\n\nstatic inline void cdns_pcie_rp_writew(struct cdns_pcie *pcie,\n\t\t\t\t       u32 reg, u16 value)\n{\n\tvoid __iomem *addr = pcie->reg_base + CDNS_PCIE_RP_BASE + reg;\n\n\tcdns_pcie_write_sz(addr, 0x2, value);\n}\n\nstatic inline u16 cdns_pcie_rp_readw(struct cdns_pcie *pcie, u32 reg)\n{\n\tvoid __iomem *addr = pcie->reg_base + CDNS_PCIE_RP_BASE + reg;\n\n\treturn cdns_pcie_read_sz(addr, 0x2);\n}\n\n \nstatic inline void cdns_pcie_ep_fn_writeb(struct cdns_pcie *pcie, u8 fn,\n\t\t\t\t\t  u32 reg, u8 value)\n{\n\tvoid __iomem *addr = pcie->reg_base + CDNS_PCIE_EP_FUNC_BASE(fn) + reg;\n\n\tcdns_pcie_write_sz(addr, 0x1, value);\n}\n\nstatic inline void cdns_pcie_ep_fn_writew(struct cdns_pcie *pcie, u8 fn,\n\t\t\t\t\t  u32 reg, u16 value)\n{\n\tvoid __iomem *addr = pcie->reg_base + CDNS_PCIE_EP_FUNC_BASE(fn) + reg;\n\n\tcdns_pcie_write_sz(addr, 0x2, value);\n}\n\nstatic inline void cdns_pcie_ep_fn_writel(struct cdns_pcie *pcie, u8 fn,\n\t\t\t\t\t  u32 reg, u32 value)\n{\n\twritel(value, pcie->reg_base + CDNS_PCIE_EP_FUNC_BASE(fn) + reg);\n}\n\nstatic inline u16 cdns_pcie_ep_fn_readw(struct cdns_pcie *pcie, u8 fn, u32 reg)\n{\n\tvoid __iomem *addr = pcie->reg_base + CDNS_PCIE_EP_FUNC_BASE(fn) + reg;\n\n\treturn cdns_pcie_read_sz(addr, 0x2);\n}\n\nstatic inline u32 cdns_pcie_ep_fn_readl(struct cdns_pcie *pcie, u8 fn, u32 reg)\n{\n\treturn readl(pcie->reg_base + CDNS_PCIE_EP_FUNC_BASE(fn) + reg);\n}\n\nstatic inline int cdns_pcie_start_link(struct cdns_pcie *pcie)\n{\n\tif (pcie->ops->start_link)\n\t\treturn pcie->ops->start_link(pcie);\n\n\treturn 0;\n}\n\nstatic inline void cdns_pcie_stop_link(struct cdns_pcie *pcie)\n{\n\tif (pcie->ops->stop_link)\n\t\tpcie->ops->stop_link(pcie);\n}\n\nstatic inline bool cdns_pcie_link_up(struct cdns_pcie *pcie)\n{\n\tif (pcie->ops->link_up)\n\t\treturn pcie->ops->link_up(pcie);\n\n\treturn true;\n}\n\n#ifdef CONFIG_PCIE_CADENCE_HOST\nint cdns_pcie_host_setup(struct cdns_pcie_rc *rc);\nvoid __iomem *cdns_pci_map_bus(struct pci_bus *bus, unsigned int devfn,\n\t\t\t       int where);\n#else\nstatic inline int cdns_pcie_host_setup(struct cdns_pcie_rc *rc)\n{\n\treturn 0;\n}\n\nstatic inline void __iomem *cdns_pci_map_bus(struct pci_bus *bus, unsigned int devfn,\n\t\t\t\t\t     int where)\n{\n\treturn NULL;\n}\n#endif\n\n#ifdef CONFIG_PCIE_CADENCE_EP\nint cdns_pcie_ep_setup(struct cdns_pcie_ep *ep);\n#else\nstatic inline int cdns_pcie_ep_setup(struct cdns_pcie_ep *ep)\n{\n\treturn 0;\n}\n#endif\n\nvoid cdns_pcie_detect_quiet_min_delay_set(struct cdns_pcie *pcie);\n\nvoid cdns_pcie_set_outbound_region(struct cdns_pcie *pcie, u8 busnr, u8 fn,\n\t\t\t\t   u32 r, bool is_io,\n\t\t\t\t   u64 cpu_addr, u64 pci_addr, size_t size);\n\nvoid cdns_pcie_set_outbound_region_for_normal_msg(struct cdns_pcie *pcie,\n\t\t\t\t\t\t  u8 busnr, u8 fn,\n\t\t\t\t\t\t  u32 r, u64 cpu_addr);\n\nvoid cdns_pcie_reset_outbound_region(struct cdns_pcie *pcie, u32 r);\nvoid cdns_pcie_disable_phy(struct cdns_pcie *pcie);\nint cdns_pcie_enable_phy(struct cdns_pcie *pcie);\nint cdns_pcie_init_phy(struct device *dev, struct cdns_pcie *pcie);\nextern const struct dev_pm_ops cdns_pcie_pm_ops;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}