{
  "module_name": "pcie-rockchip.h",
  "hash_id": "95b63f720c66c5c9fa152b41ed197a68ba8e0462dc2134264ef094fc522cc860",
  "original_prompt": "Ingested from linux-6.6.14/drivers/pci/controller/pcie-rockchip.h",
  "human_readable_source": " \n \n\n#ifndef _PCIE_ROCKCHIP_H\n#define _PCIE_ROCKCHIP_H\n\n#include <linux/kernel.h>\n#include <linux/pci.h>\n#include <linux/pci-ecam.h>\n\n \n#define HIWORD_UPDATE(mask, val)\t(((mask) << 16) | (val))\n#define HIWORD_UPDATE_BIT(val)\t\tHIWORD_UPDATE(val, val)\n\n#define ENCODE_LANES(x)\t\t\t((((x) >> 1) & 3) << 4)\n#define MAX_LANE_NUM\t\t\t4\n#define MAX_REGION_LIMIT\t\t32\n#define MIN_EP_APERTURE\t\t\t28\n\n#define PCIE_CLIENT_BASE\t\t0x0\n#define PCIE_CLIENT_CONFIG\t\t(PCIE_CLIENT_BASE + 0x00)\n#define   PCIE_CLIENT_CONF_ENABLE\t  HIWORD_UPDATE_BIT(0x0001)\n#define   PCIE_CLIENT_CONF_DISABLE       HIWORD_UPDATE(0x0001, 0)\n#define   PCIE_CLIENT_LINK_TRAIN_ENABLE\t  HIWORD_UPDATE_BIT(0x0002)\n#define   PCIE_CLIENT_ARI_ENABLE\t  HIWORD_UPDATE_BIT(0x0008)\n#define   PCIE_CLIENT_CONF_LANE_NUM(x)\t  HIWORD_UPDATE(0x0030, ENCODE_LANES(x))\n#define   PCIE_CLIENT_MODE_RC\t\t  HIWORD_UPDATE_BIT(0x0040)\n#define   PCIE_CLIENT_MODE_EP            HIWORD_UPDATE(0x0040, 0)\n#define   PCIE_CLIENT_GEN_SEL_1\t\t  HIWORD_UPDATE(0x0080, 0)\n#define   PCIE_CLIENT_GEN_SEL_2\t\t  HIWORD_UPDATE_BIT(0x0080)\n#define PCIE_CLIENT_LEGACY_INT_CTRL\t(PCIE_CLIENT_BASE + 0x0c)\n#define   PCIE_CLIENT_INT_IN_ASSERT\t\tHIWORD_UPDATE_BIT(0x0002)\n#define   PCIE_CLIENT_INT_IN_DEASSERT\t\tHIWORD_UPDATE(0x0002, 0)\n#define   PCIE_CLIENT_INT_PEND_ST_PEND\t\tHIWORD_UPDATE_BIT(0x0001)\n#define   PCIE_CLIENT_INT_PEND_ST_NORMAL\tHIWORD_UPDATE(0x0001, 0)\n#define PCIE_CLIENT_SIDE_BAND_STATUS\t(PCIE_CLIENT_BASE + 0x20)\n#define   PCIE_CLIENT_PHY_ST\t\t\tBIT(12)\n#define PCIE_CLIENT_DEBUG_OUT_0\t\t(PCIE_CLIENT_BASE + 0x3c)\n#define   PCIE_CLIENT_DEBUG_LTSSM_MASK\t\tGENMASK(5, 0)\n#define   PCIE_CLIENT_DEBUG_LTSSM_L1\t\t0x18\n#define   PCIE_CLIENT_DEBUG_LTSSM_L2\t\t0x19\n#define PCIE_CLIENT_BASIC_STATUS1\t(PCIE_CLIENT_BASE + 0x48)\n#define   PCIE_CLIENT_LINK_STATUS_UP\t\t0x00300000\n#define   PCIE_CLIENT_LINK_STATUS_MASK\t\t0x00300000\n#define PCIE_CLIENT_INT_MASK\t\t(PCIE_CLIENT_BASE + 0x4c)\n#define PCIE_CLIENT_INT_STATUS\t\t(PCIE_CLIENT_BASE + 0x50)\n#define   PCIE_CLIENT_INTR_MASK\t\t\tGENMASK(8, 5)\n#define   PCIE_CLIENT_INTR_SHIFT\t\t5\n#define   PCIE_CLIENT_INT_LEGACY_DONE\t\tBIT(15)\n#define   PCIE_CLIENT_INT_MSG\t\t\tBIT(14)\n#define   PCIE_CLIENT_INT_HOT_RST\t\tBIT(13)\n#define   PCIE_CLIENT_INT_DPA\t\t\tBIT(12)\n#define   PCIE_CLIENT_INT_FATAL_ERR\t\tBIT(11)\n#define   PCIE_CLIENT_INT_NFATAL_ERR\t\tBIT(10)\n#define   PCIE_CLIENT_INT_CORR_ERR\t\tBIT(9)\n#define   PCIE_CLIENT_INT_INTD\t\t\tBIT(8)\n#define   PCIE_CLIENT_INT_INTC\t\t\tBIT(7)\n#define   PCIE_CLIENT_INT_INTB\t\t\tBIT(6)\n#define   PCIE_CLIENT_INT_INTA\t\t\tBIT(5)\n#define   PCIE_CLIENT_INT_LOCAL\t\t\tBIT(4)\n#define   PCIE_CLIENT_INT_UDMA\t\t\tBIT(3)\n#define   PCIE_CLIENT_INT_PHY\t\t\tBIT(2)\n#define   PCIE_CLIENT_INT_HOT_PLUG\t\tBIT(1)\n#define   PCIE_CLIENT_INT_PWR_STCG\t\tBIT(0)\n\n#define PCIE_CLIENT_INT_LEGACY \\\n\t(PCIE_CLIENT_INT_INTA | PCIE_CLIENT_INT_INTB | \\\n\tPCIE_CLIENT_INT_INTC | PCIE_CLIENT_INT_INTD)\n\n#define PCIE_CLIENT_INT_CLI \\\n\t(PCIE_CLIENT_INT_CORR_ERR | PCIE_CLIENT_INT_NFATAL_ERR | \\\n\tPCIE_CLIENT_INT_FATAL_ERR | PCIE_CLIENT_INT_DPA | \\\n\tPCIE_CLIENT_INT_HOT_RST | PCIE_CLIENT_INT_MSG | \\\n\tPCIE_CLIENT_INT_LEGACY_DONE | PCIE_CLIENT_INT_LEGACY | \\\n\tPCIE_CLIENT_INT_PHY)\n\n#define PCIE_CORE_CTRL_MGMT_BASE\t0x900000\n#define PCIE_CORE_CTRL\t\t\t(PCIE_CORE_CTRL_MGMT_BASE + 0x000)\n#define   PCIE_CORE_PL_CONF_SPEED_5G\t\t0x00000008\n#define   PCIE_CORE_PL_CONF_SPEED_MASK\t\t0x00000018\n#define   PCIE_CORE_PL_CONF_LANE_MASK\t\t0x00000006\n#define   PCIE_CORE_PL_CONF_LANE_SHIFT\t\t1\n#define PCIE_CORE_CTRL_PLC1\t\t(PCIE_CORE_CTRL_MGMT_BASE + 0x004)\n#define   PCIE_CORE_CTRL_PLC1_FTS_MASK\t\tGENMASK(23, 8)\n#define   PCIE_CORE_CTRL_PLC1_FTS_SHIFT\t\t8\n#define   PCIE_CORE_CTRL_PLC1_FTS_CNT\t\t0xffff\n#define PCIE_CORE_TXCREDIT_CFG1\t\t(PCIE_CORE_CTRL_MGMT_BASE + 0x020)\n#define   PCIE_CORE_TXCREDIT_CFG1_MUI_MASK\t0xFFFF0000\n#define   PCIE_CORE_TXCREDIT_CFG1_MUI_SHIFT\t16\n#define   PCIE_CORE_TXCREDIT_CFG1_MUI_ENCODE(x) \\\n\t\t(((x) >> 3) << PCIE_CORE_TXCREDIT_CFG1_MUI_SHIFT)\n#define PCIE_CORE_LANE_MAP             (PCIE_CORE_CTRL_MGMT_BASE + 0x200)\n#define   PCIE_CORE_LANE_MAP_MASK              0x0000000f\n#define   PCIE_CORE_LANE_MAP_REVERSE           BIT(16)\n#define PCIE_CORE_INT_STATUS\t\t(PCIE_CORE_CTRL_MGMT_BASE + 0x20c)\n#define   PCIE_CORE_INT_PRFPE\t\t\tBIT(0)\n#define   PCIE_CORE_INT_CRFPE\t\t\tBIT(1)\n#define   PCIE_CORE_INT_RRPE\t\t\tBIT(2)\n#define   PCIE_CORE_INT_PRFO\t\t\tBIT(3)\n#define   PCIE_CORE_INT_CRFO\t\t\tBIT(4)\n#define   PCIE_CORE_INT_RT\t\t\tBIT(5)\n#define   PCIE_CORE_INT_RTR\t\t\tBIT(6)\n#define   PCIE_CORE_INT_PE\t\t\tBIT(7)\n#define   PCIE_CORE_INT_MTR\t\t\tBIT(8)\n#define   PCIE_CORE_INT_UCR\t\t\tBIT(9)\n#define   PCIE_CORE_INT_FCE\t\t\tBIT(10)\n#define   PCIE_CORE_INT_CT\t\t\tBIT(11)\n#define   PCIE_CORE_INT_UTC\t\t\tBIT(18)\n#define   PCIE_CORE_INT_MMVC\t\t\tBIT(19)\n#define PCIE_CORE_CONFIG_VENDOR\t\t(PCIE_CORE_CTRL_MGMT_BASE + 0x44)\n#define PCIE_CORE_INT_MASK\t\t(PCIE_CORE_CTRL_MGMT_BASE + 0x210)\n#define PCIE_CORE_PHY_FUNC_CFG\t\t(PCIE_CORE_CTRL_MGMT_BASE + 0x2c0)\n#define PCIE_RC_BAR_CONF\t\t(PCIE_CORE_CTRL_MGMT_BASE + 0x300)\n#define ROCKCHIP_PCIE_CORE_BAR_CFG_CTRL_DISABLED\t\t0x0\n#define ROCKCHIP_PCIE_CORE_BAR_CFG_CTRL_IO_32BITS\t\t0x1\n#define ROCKCHIP_PCIE_CORE_BAR_CFG_CTRL_MEM_32BITS\t\t0x4\n#define ROCKCHIP_PCIE_CORE_BAR_CFG_CTRL_PREFETCH_MEM_32BITS\t0x5\n#define ROCKCHIP_PCIE_CORE_BAR_CFG_CTRL_MEM_64BITS\t\t0x6\n#define ROCKCHIP_PCIE_CORE_BAR_CFG_CTRL_PREFETCH_MEM_64BITS\t0x7\n\n#define PCIE_CORE_INT \\\n\t\t(PCIE_CORE_INT_PRFPE | PCIE_CORE_INT_CRFPE | \\\n\t\t PCIE_CORE_INT_RRPE | PCIE_CORE_INT_CRFO | \\\n\t\t PCIE_CORE_INT_RT | PCIE_CORE_INT_RTR | \\\n\t\t PCIE_CORE_INT_PE | PCIE_CORE_INT_MTR | \\\n\t\t PCIE_CORE_INT_UCR | PCIE_CORE_INT_FCE | \\\n\t\t PCIE_CORE_INT_CT | PCIE_CORE_INT_UTC | \\\n\t\t PCIE_CORE_INT_MMVC)\n\n#define PCIE_RC_RP_ATS_BASE\t\t0x400000\n#define PCIE_RC_CONFIG_NORMAL_BASE\t0x800000\n#define PCIE_EP_PF_CONFIG_REGS_BASE\t0x800000\n#define PCIE_RC_CONFIG_BASE\t\t0xa00000\n#define PCIE_EP_CONFIG_BASE\t\t0xa00000\n#define PCIE_EP_CONFIG_DID_VID\t\t(PCIE_EP_CONFIG_BASE + 0x00)\n#define PCIE_RC_CONFIG_RID_CCR\t\t(PCIE_RC_CONFIG_BASE + 0x08)\n#define PCIE_RC_CONFIG_DCR\t\t(PCIE_RC_CONFIG_BASE + 0xc4)\n#define   PCIE_RC_CONFIG_DCR_CSPL_SHIFT\t\t18\n#define   PCIE_RC_CONFIG_DCR_CSPL_LIMIT\t\t0xff\n#define   PCIE_RC_CONFIG_DCR_CPLS_SHIFT\t\t26\n#define PCIE_RC_CONFIG_DCSR\t\t(PCIE_RC_CONFIG_BASE + 0xc8)\n#define   PCIE_RC_CONFIG_DCSR_MPS_MASK\t\tGENMASK(7, 5)\n#define   PCIE_RC_CONFIG_DCSR_MPS_256\t\t(0x1 << 5)\n#define PCIE_RC_CONFIG_LINK_CAP\t\t(PCIE_RC_CONFIG_BASE + 0xcc)\n#define   PCIE_RC_CONFIG_LINK_CAP_L0S\t\tBIT(10)\n#define PCIE_RC_CONFIG_LCS\t\t(PCIE_RC_CONFIG_BASE + 0xd0)\n#define PCIE_RC_CONFIG_L1_SUBSTATE_CTRL2 (PCIE_RC_CONFIG_BASE + 0x90c)\n#define PCIE_RC_CONFIG_THP_CAP\t\t(PCIE_RC_CONFIG_BASE + 0x274)\n#define   PCIE_RC_CONFIG_THP_CAP_NEXT_MASK\tGENMASK(31, 20)\n\n#define MAX_AXI_IB_ROOTPORT_REGION_NUM\t\t3\n#define MIN_AXI_ADDR_BITS_PASSED\t\t8\n#define PCIE_ADDR_MASK\t\t\tGENMASK_ULL(63, MIN_AXI_ADDR_BITS_PASSED)\n#define PCIE_CORE_AXI_CONF_BASE\t\t0xc00000\n#define PCIE_CORE_OB_REGION_ADDR0\t(PCIE_CORE_AXI_CONF_BASE + 0x0)\n#define   PCIE_CORE_OB_REGION_ADDR0_NUM_BITS\t0x3f\n#define   PCIE_CORE_OB_REGION_ADDR0_LO_ADDR\tPCIE_ADDR_MASK\n#define PCIE_CORE_OB_REGION_ADDR1\t(PCIE_CORE_AXI_CONF_BASE + 0x4)\n#define PCIE_CORE_OB_REGION_DESC0\t(PCIE_CORE_AXI_CONF_BASE + 0x8)\n#define PCIE_CORE_OB_REGION_DESC1\t(PCIE_CORE_AXI_CONF_BASE + 0xc)\n\n#define PCIE_CORE_AXI_INBOUND_BASE\t0xc00800\n#define PCIE_RP_IB_ADDR0\t\t(PCIE_CORE_AXI_INBOUND_BASE + 0x0)\n#define   PCIE_CORE_IB_REGION_ADDR0_NUM_BITS\t0x3f\n#define   PCIE_CORE_IB_REGION_ADDR0_LO_ADDR\tPCIE_ADDR_MASK\n#define PCIE_RP_IB_ADDR1\t\t(PCIE_CORE_AXI_INBOUND_BASE + 0x4)\n\n \n#define AXI_REGION_SIZE\t\t\t\tBIT(20)\n \n#define AXI_REGION_0_SIZE\t\t\t(32 * (0x1 << 20))\n#define OB_REG_SIZE_SHIFT\t\t\t5\n#define IB_ROOT_PORT_REG_SIZE_SHIFT\t\t3\n#define AXI_WRAPPER_IO_WRITE\t\t\t0x6\n#define AXI_WRAPPER_MEM_WRITE\t\t\t0x2\n#define AXI_WRAPPER_TYPE0_CFG\t\t\t0xa\n#define AXI_WRAPPER_TYPE1_CFG\t\t\t0xb\n#define AXI_WRAPPER_NOR_MSG\t\t\t0xc\n\n#define PCIE_RC_SEND_PME_OFF\t\t\t0x11960\n#define ROCKCHIP_VENDOR_ID\t\t\t0x1d87\n#define PCIE_LINK_IS_L2(x) \\\n\t(((x) & PCIE_CLIENT_DEBUG_LTSSM_MASK) == PCIE_CLIENT_DEBUG_LTSSM_L2)\n#define PCIE_LINK_UP(x) \\\n\t(((x) & PCIE_CLIENT_LINK_STATUS_MASK) == PCIE_CLIENT_LINK_STATUS_UP)\n#define PCIE_LINK_IS_GEN2(x) \\\n\t(((x) & PCIE_CORE_PL_CONF_SPEED_MASK) == PCIE_CORE_PL_CONF_SPEED_5G)\n\n#define RC_REGION_0_ADDR_TRANS_H\t\t0x00000000\n#define RC_REGION_0_ADDR_TRANS_L\t\t0x00000000\n#define RC_REGION_0_PASS_BITS\t\t\t(25 - 1)\n#define RC_REGION_0_TYPE_MASK\t\t\tGENMASK(3, 0)\n#define MAX_AXI_WRAPPER_REGION_NUM\t\t33\n\n#define ROCKCHIP_PCIE_MSG_ROUTING_TO_RC\t\t0x0\n#define ROCKCHIP_PCIE_MSG_ROUTING_VIA_ADDR\t\t0x1\n#define ROCKCHIP_PCIE_MSG_ROUTING_VIA_ID\t\t0x2\n#define ROCKCHIP_PCIE_MSG_ROUTING_BROADCAST\t\t0x3\n#define ROCKCHIP_PCIE_MSG_ROUTING_LOCAL_INTX\t\t0x4\n#define ROCKCHIP_PCIE_MSG_ROUTING_PME_ACK\t\t0x5\n#define ROCKCHIP_PCIE_MSG_CODE_ASSERT_INTA\t\t0x20\n#define ROCKCHIP_PCIE_MSG_CODE_ASSERT_INTB\t\t0x21\n#define ROCKCHIP_PCIE_MSG_CODE_ASSERT_INTC\t\t0x22\n#define ROCKCHIP_PCIE_MSG_CODE_ASSERT_INTD\t\t0x23\n#define ROCKCHIP_PCIE_MSG_CODE_DEASSERT_INTA\t\t0x24\n#define ROCKCHIP_PCIE_MSG_CODE_DEASSERT_INTB\t\t0x25\n#define ROCKCHIP_PCIE_MSG_CODE_DEASSERT_INTC\t\t0x26\n#define ROCKCHIP_PCIE_MSG_CODE_DEASSERT_INTD\t\t0x27\n#define ROCKCHIP_PCIE_MSG_ROUTING_MASK\t\t\tGENMASK(7, 5)\n#define ROCKCHIP_PCIE_MSG_ROUTING(route) \\\n\t(((route) << 5) & ROCKCHIP_PCIE_MSG_ROUTING_MASK)\n#define ROCKCHIP_PCIE_MSG_CODE_MASK\t\t\tGENMASK(15, 8)\n#define ROCKCHIP_PCIE_MSG_CODE(code) \\\n\t(((code) << 8) & ROCKCHIP_PCIE_MSG_CODE_MASK)\n#define ROCKCHIP_PCIE_MSG_NO_DATA\t\t\tBIT(16)\n\n#define ROCKCHIP_PCIE_EP_CMD_STATUS\t\t\t0x4\n#define   ROCKCHIP_PCIE_EP_CMD_STATUS_IS\t\tBIT(19)\n#define ROCKCHIP_PCIE_EP_MSI_CTRL_REG\t\t\t0x90\n#define   ROCKCHIP_PCIE_EP_MSI_CP1_OFFSET\t\t8\n#define   ROCKCHIP_PCIE_EP_MSI_CP1_MASK\t\t\tGENMASK(15, 8)\n#define   ROCKCHIP_PCIE_EP_MSI_FLAGS_OFFSET\t\t16\n#define   ROCKCHIP_PCIE_EP_MSI_CTRL_MMC_OFFSET\t\t17\n#define   ROCKCHIP_PCIE_EP_MSI_CTRL_MMC_MASK\t\tGENMASK(19, 17)\n#define   ROCKCHIP_PCIE_EP_MSI_CTRL_MME_OFFSET\t\t20\n#define   ROCKCHIP_PCIE_EP_MSI_CTRL_MME_MASK\t\tGENMASK(22, 20)\n#define   ROCKCHIP_PCIE_EP_MSI_CTRL_ME\t\t\t\tBIT(16)\n#define   ROCKCHIP_PCIE_EP_MSI_CTRL_MASK_MSI_CAP\tBIT(24)\n#define ROCKCHIP_PCIE_EP_MSIX_CAP_REG\t\t\t0xb0\n#define   ROCKCHIP_PCIE_EP_MSIX_CAP_CP_OFFSET\t\t8\n#define   ROCKCHIP_PCIE_EP_MSIX_CAP_CP_MASK\t\tGENMASK(15, 8)\n#define ROCKCHIP_PCIE_EP_DUMMY_IRQ_ADDR\t\t\t\t0x1\n#define ROCKCHIP_PCIE_EP_PCI_LEGACY_IRQ_ADDR\t\t0x3\n#define ROCKCHIP_PCIE_EP_FUNC_BASE(fn) \\\n\t(PCIE_EP_PF_CONFIG_REGS_BASE + (((fn) << 12) & GENMASK(19, 12)))\n#define ROCKCHIP_PCIE_EP_VIRT_FUNC_BASE(fn) \\\n\t(PCIE_EP_PF_CONFIG_REGS_BASE + 0x10000 + (((fn) << 12) & GENMASK(19, 12)))\n#define ROCKCHIP_PCIE_AT_IB_EP_FUNC_BAR_ADDR0(fn, bar) \\\n\t(PCIE_CORE_AXI_CONF_BASE + 0x0828 + (fn) * 0x0040 + (bar) * 0x0008)\n#define ROCKCHIP_PCIE_AT_IB_EP_FUNC_BAR_ADDR1(fn, bar) \\\n\t(PCIE_CORE_AXI_CONF_BASE + 0x082c + (fn) * 0x0040 + (bar) * 0x0008)\n#define ROCKCHIP_PCIE_AT_OB_REGION_PCI_ADDR0_DEVFN_MASK\tGENMASK(19, 12)\n#define ROCKCHIP_PCIE_AT_OB_REGION_PCI_ADDR0_DEVFN(devfn) \\\n\t(((devfn) << 12) & \\\n\t\t ROCKCHIP_PCIE_AT_OB_REGION_PCI_ADDR0_DEVFN_MASK)\n#define ROCKCHIP_PCIE_AT_OB_REGION_PCI_ADDR0_BUS_MASK\tGENMASK(27, 20)\n#define ROCKCHIP_PCIE_AT_OB_REGION_PCI_ADDR0_BUS(bus) \\\n\t\t(((bus) << 20) & ROCKCHIP_PCIE_AT_OB_REGION_PCI_ADDR0_BUS_MASK)\n#define PCIE_RC_EP_ATR_OB_REGIONS_1_32 (PCIE_CORE_AXI_CONF_BASE + 0x0020)\n#define ROCKCHIP_PCIE_AT_OB_REGION_PCI_ADDR0(r) \\\n\t\t(PCIE_RC_EP_ATR_OB_REGIONS_1_32 + 0x0000 + ((r) & 0x1f) * 0x0020)\n#define ROCKCHIP_PCIE_AT_OB_REGION_PCI_ADDR1(r) \\\n\t\t(PCIE_RC_EP_ATR_OB_REGIONS_1_32 + 0x0004 + ((r) & 0x1f) * 0x0020)\n#define ROCKCHIP_PCIE_AT_OB_REGION_DESC0_HARDCODED_RID\tBIT(23)\n#define ROCKCHIP_PCIE_AT_OB_REGION_DESC0_DEVFN_MASK\tGENMASK(31, 24)\n#define ROCKCHIP_PCIE_AT_OB_REGION_DESC0_DEVFN(devfn) \\\n\t\t(((devfn) << 24) & ROCKCHIP_PCIE_AT_OB_REGION_DESC0_DEVFN_MASK)\n#define ROCKCHIP_PCIE_AT_OB_REGION_DESC0(r) \\\n\t\t(PCIE_RC_EP_ATR_OB_REGIONS_1_32 + 0x0008 + ((r) & 0x1f) * 0x0020)\n#define ROCKCHIP_PCIE_AT_OB_REGION_DESC1(r) \\\n\t\t(PCIE_RC_EP_ATR_OB_REGIONS_1_32 + 0x000c + ((r) & 0x1f) * 0x0020)\n#define ROCKCHIP_PCIE_AT_OB_REGION_DESC2(r) \\\n\t\t(PCIE_RC_EP_ATR_OB_REGIONS_1_32 + 0x0010 + ((r) & 0x1f) * 0x0020)\n\n#define ROCKCHIP_PCIE_CORE_EP_FUNC_BAR_CFG0(fn) \\\n\t\t(PCIE_CORE_CTRL_MGMT_BASE + 0x0240 + (fn) * 0x0008)\n#define ROCKCHIP_PCIE_CORE_EP_FUNC_BAR_CFG1(fn) \\\n\t\t(PCIE_CORE_CTRL_MGMT_BASE + 0x0244 + (fn) * 0x0008)\n#define ROCKCHIP_PCIE_CORE_EP_FUNC_BAR_CFG_BAR_APERTURE_MASK(b) \\\n\t\t(GENMASK(4, 0) << ((b) * 8))\n#define ROCKCHIP_PCIE_CORE_EP_FUNC_BAR_CFG_BAR_APERTURE(b, a) \\\n\t\t(((a) << ((b) * 8)) & \\\n\t\t ROCKCHIP_PCIE_CORE_EP_FUNC_BAR_CFG_BAR_APERTURE_MASK(b))\n#define ROCKCHIP_PCIE_CORE_EP_FUNC_BAR_CFG_BAR_CTRL_MASK(b) \\\n\t\t(GENMASK(7, 5) << ((b) * 8))\n#define ROCKCHIP_PCIE_CORE_EP_FUNC_BAR_CFG_BAR_CTRL(b, c) \\\n\t\t(((c) << ((b) * 8 + 5)) & \\\n\t\t ROCKCHIP_PCIE_CORE_EP_FUNC_BAR_CFG_BAR_CTRL_MASK(b))\n\nstruct rockchip_pcie {\n\tvoid\t__iomem *reg_base;\t\t \n\tvoid\t__iomem *apb_base;\t\t \n\tbool    legacy_phy;\n\tstruct  phy *phys[MAX_LANE_NUM];\n\tstruct\treset_control *core_rst;\n\tstruct\treset_control *mgmt_rst;\n\tstruct\treset_control *mgmt_sticky_rst;\n\tstruct\treset_control *pipe_rst;\n\tstruct\treset_control *pm_rst;\n\tstruct\treset_control *aclk_rst;\n\tstruct\treset_control *pclk_rst;\n\tstruct\tclk *aclk_pcie;\n\tstruct\tclk *aclk_perf_pcie;\n\tstruct\tclk *hclk_pcie;\n\tstruct\tclk *clk_pcie_pm;\n\tstruct\tregulator *vpcie12v;  \n\tstruct\tregulator *vpcie3v3;  \n\tstruct\tregulator *vpcie1v8;  \n\tstruct\tregulator *vpcie0v9;  \n\tstruct\tgpio_desc *ep_gpio;\n\tu32\tlanes;\n\tu8      lanes_map;\n\tint\tlink_gen;\n\tstruct\tdevice *dev;\n\tstruct\tirq_domain *irq_domain;\n\tint     offset;\n\tvoid    __iomem *msg_region;\n\tphys_addr_t msg_bus_addr;\n\tbool is_rc;\n\tstruct resource *mem_res;\n};\n\nstatic u32 rockchip_pcie_read(struct rockchip_pcie *rockchip, u32 reg)\n{\n\treturn readl(rockchip->apb_base + reg);\n}\n\nstatic void rockchip_pcie_write(struct rockchip_pcie *rockchip, u32 val,\n\t\t\t\tu32 reg)\n{\n\twritel(val, rockchip->apb_base + reg);\n}\n\nint rockchip_pcie_parse_dt(struct rockchip_pcie *rockchip);\nint rockchip_pcie_init_port(struct rockchip_pcie *rockchip);\nint rockchip_pcie_get_phys(struct rockchip_pcie *rockchip);\nvoid rockchip_pcie_deinit_phys(struct rockchip_pcie *rockchip);\nint rockchip_pcie_enable_clocks(struct rockchip_pcie *rockchip);\nvoid rockchip_pcie_disable_clocks(void *data);\nvoid rockchip_pcie_cfg_configuration_accesses(\n\t\tstruct rockchip_pcie *rockchip, u32 type);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}