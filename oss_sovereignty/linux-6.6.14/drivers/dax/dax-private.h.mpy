{
  "module_name": "dax-private.h",
  "hash_id": "5250fb08c16796c7d2e2ea8d5172bb078b176273ba3ad9515b04b7e2bcd522d4",
  "original_prompt": "Ingested from linux-6.6.14/drivers/dax/dax-private.h",
  "human_readable_source": " \n \n#ifndef __DAX_PRIVATE_H__\n#define __DAX_PRIVATE_H__\n\n#include <linux/device.h>\n#include <linux/cdev.h>\n#include <linux/idr.h>\n\n \nstruct dax_device;\nstruct dax_device *inode_dax(struct inode *inode);\nstruct inode *dax_inode(struct dax_device *dax_dev);\nint dax_bus_init(void);\nvoid dax_bus_exit(void);\n\n \nstruct dax_region {\n\tint id;\n\tint target_node;\n\tstruct kref kref;\n\tstruct device *dev;\n\tunsigned int align;\n\tstruct ida ida;\n\tstruct resource res;\n\tstruct device *seed;\n\tstruct device *youngest;\n};\n\nstruct dax_mapping {\n\tstruct device dev;\n\tint range_id;\n\tint id;\n};\n\n \nstruct dev_dax {\n\tstruct dax_region *region;\n\tstruct dax_device *dax_dev;\n\tunsigned int align;\n\tint target_node;\n\tbool dyn_id;\n\tint id;\n\tstruct ida ida;\n\tstruct device dev;\n\tstruct dev_pagemap *pgmap;\n\tint nr_range;\n\tstruct dev_dax_range {\n\t\tunsigned long pgoff;\n\t\tstruct range range;\n\t\tstruct dax_mapping *mapping;\n\t} *ranges;\n};\n\n \nvoid run_dax(struct dax_device *dax_dev);\n\nstatic inline struct dev_dax *to_dev_dax(struct device *dev)\n{\n\treturn container_of(dev, struct dev_dax, dev);\n}\n\nstatic inline struct dax_mapping *to_dax_mapping(struct device *dev)\n{\n\treturn container_of(dev, struct dax_mapping, dev);\n}\n\nphys_addr_t dax_pgoff_to_phys(struct dev_dax *dev_dax, pgoff_t pgoff, unsigned long size);\n\n#ifdef CONFIG_TRANSPARENT_HUGEPAGE\nstatic inline bool dax_align_valid(unsigned long align)\n{\n\tif (align == PUD_SIZE && IS_ENABLED(CONFIG_HAVE_ARCH_TRANSPARENT_HUGEPAGE_PUD))\n\t\treturn true;\n\tif (align == PMD_SIZE && has_transparent_hugepage())\n\t\treturn true;\n\tif (align == PAGE_SIZE)\n\t\treturn true;\n\treturn false;\n}\n#else\nstatic inline bool dax_align_valid(unsigned long align)\n{\n\treturn align == PAGE_SIZE;\n}\n#endif  \n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}