{
  "module_name": "spi-cavium.h",
  "hash_id": "68f11e19e24922bb54ccc2df9817d51a3a39c66c96bc538ccd8ebba58c2e32df",
  "original_prompt": "Ingested from linux-6.6.14/drivers/spi/spi-cavium.h",
  "human_readable_source": " \n#ifndef __SPI_CAVIUM_H\n#define __SPI_CAVIUM_H\n\n#include <linux/clk.h>\n\n#define OCTEON_SPI_MAX_BYTES 9\n#define OCTEON_SPI_MAX_CLOCK_HZ 16000000\n\nstruct octeon_spi_regs {\n\tint config;\n\tint status;\n\tint tx;\n\tint data;\n};\n\nstruct octeon_spi {\n\tvoid __iomem *register_base;\n\tu64 last_cfg;\n\tu64 cs_enax;\n\tint sys_freq;\n\tstruct octeon_spi_regs regs;\n\tstruct clk *clk;\n};\n\n#define OCTEON_SPI_CFG(x)\t(x->regs.config)\n#define OCTEON_SPI_STS(x)\t(x->regs.status)\n#define OCTEON_SPI_TX(x)\t(x->regs.tx)\n#define OCTEON_SPI_DAT0(x)\t(x->regs.data)\n\nint octeon_spi_transfer_one_message(struct spi_master *master,\n\t\t\t\t    struct spi_message *msg);\n\n \n\n#define CVMX_MPI_CFG (CVMX_ADD_IO_SEG(0x0001070000001000ull))\n#define CVMX_MPI_DATX(offset) (CVMX_ADD_IO_SEG(0x0001070000001080ull) + ((offset) & 15) * 8)\n#define CVMX_MPI_STS (CVMX_ADD_IO_SEG(0x0001070000001008ull))\n#define CVMX_MPI_TX (CVMX_ADD_IO_SEG(0x0001070000001010ull))\n\nunion cvmx_mpi_cfg {\n\tuint64_t u64;\n\tstruct cvmx_mpi_cfg_s {\n#ifdef __BIG_ENDIAN_BITFIELD\n\t\tuint64_t reserved_29_63:35;\n\t\tuint64_t clkdiv:13;\n\t\tuint64_t csena3:1;\n\t\tuint64_t csena2:1;\n\t\tuint64_t csena1:1;\n\t\tuint64_t csena0:1;\n\t\tuint64_t cslate:1;\n\t\tuint64_t tritx:1;\n\t\tuint64_t idleclks:2;\n\t\tuint64_t cshi:1;\n\t\tuint64_t csena:1;\n\t\tuint64_t int_ena:1;\n\t\tuint64_t lsbfirst:1;\n\t\tuint64_t wireor:1;\n\t\tuint64_t clk_cont:1;\n\t\tuint64_t idlelo:1;\n\t\tuint64_t enable:1;\n#else\n\t\tuint64_t enable:1;\n\t\tuint64_t idlelo:1;\n\t\tuint64_t clk_cont:1;\n\t\tuint64_t wireor:1;\n\t\tuint64_t lsbfirst:1;\n\t\tuint64_t int_ena:1;\n\t\tuint64_t csena:1;\n\t\tuint64_t cshi:1;\n\t\tuint64_t idleclks:2;\n\t\tuint64_t tritx:1;\n\t\tuint64_t cslate:1;\n\t\tuint64_t csena0:1;\n\t\tuint64_t csena1:1;\n\t\tuint64_t csena2:1;\n\t\tuint64_t csena3:1;\n\t\tuint64_t clkdiv:13;\n\t\tuint64_t reserved_29_63:35;\n#endif\n\t} s;\n\tstruct cvmx_mpi_cfg_cn30xx {\n#ifdef __BIG_ENDIAN_BITFIELD\n\t\tuint64_t reserved_29_63:35;\n\t\tuint64_t clkdiv:13;\n\t\tuint64_t reserved_12_15:4;\n\t\tuint64_t cslate:1;\n\t\tuint64_t tritx:1;\n\t\tuint64_t idleclks:2;\n\t\tuint64_t cshi:1;\n\t\tuint64_t csena:1;\n\t\tuint64_t int_ena:1;\n\t\tuint64_t lsbfirst:1;\n\t\tuint64_t wireor:1;\n\t\tuint64_t clk_cont:1;\n\t\tuint64_t idlelo:1;\n\t\tuint64_t enable:1;\n#else\n\t\tuint64_t enable:1;\n\t\tuint64_t idlelo:1;\n\t\tuint64_t clk_cont:1;\n\t\tuint64_t wireor:1;\n\t\tuint64_t lsbfirst:1;\n\t\tuint64_t int_ena:1;\n\t\tuint64_t csena:1;\n\t\tuint64_t cshi:1;\n\t\tuint64_t idleclks:2;\n\t\tuint64_t tritx:1;\n\t\tuint64_t cslate:1;\n\t\tuint64_t reserved_12_15:4;\n\t\tuint64_t clkdiv:13;\n\t\tuint64_t reserved_29_63:35;\n#endif\n\t} cn30xx;\n\tstruct cvmx_mpi_cfg_cn31xx {\n#ifdef __BIG_ENDIAN_BITFIELD\n\t\tuint64_t reserved_29_63:35;\n\t\tuint64_t clkdiv:13;\n\t\tuint64_t reserved_11_15:5;\n\t\tuint64_t tritx:1;\n\t\tuint64_t idleclks:2;\n\t\tuint64_t cshi:1;\n\t\tuint64_t csena:1;\n\t\tuint64_t int_ena:1;\n\t\tuint64_t lsbfirst:1;\n\t\tuint64_t wireor:1;\n\t\tuint64_t clk_cont:1;\n\t\tuint64_t idlelo:1;\n\t\tuint64_t enable:1;\n#else\n\t\tuint64_t enable:1;\n\t\tuint64_t idlelo:1;\n\t\tuint64_t clk_cont:1;\n\t\tuint64_t wireor:1;\n\t\tuint64_t lsbfirst:1;\n\t\tuint64_t int_ena:1;\n\t\tuint64_t csena:1;\n\t\tuint64_t cshi:1;\n\t\tuint64_t idleclks:2;\n\t\tuint64_t tritx:1;\n\t\tuint64_t reserved_11_15:5;\n\t\tuint64_t clkdiv:13;\n\t\tuint64_t reserved_29_63:35;\n#endif\n\t} cn31xx;\n\tstruct cvmx_mpi_cfg_cn30xx cn50xx;\n\tstruct cvmx_mpi_cfg_cn61xx {\n#ifdef __BIG_ENDIAN_BITFIELD\n\t\tuint64_t reserved_29_63:35;\n\t\tuint64_t clkdiv:13;\n\t\tuint64_t reserved_14_15:2;\n\t\tuint64_t csena1:1;\n\t\tuint64_t csena0:1;\n\t\tuint64_t cslate:1;\n\t\tuint64_t tritx:1;\n\t\tuint64_t idleclks:2;\n\t\tuint64_t cshi:1;\n\t\tuint64_t reserved_6_6:1;\n\t\tuint64_t int_ena:1;\n\t\tuint64_t lsbfirst:1;\n\t\tuint64_t wireor:1;\n\t\tuint64_t clk_cont:1;\n\t\tuint64_t idlelo:1;\n\t\tuint64_t enable:1;\n#else\n\t\tuint64_t enable:1;\n\t\tuint64_t idlelo:1;\n\t\tuint64_t clk_cont:1;\n\t\tuint64_t wireor:1;\n\t\tuint64_t lsbfirst:1;\n\t\tuint64_t int_ena:1;\n\t\tuint64_t reserved_6_6:1;\n\t\tuint64_t cshi:1;\n\t\tuint64_t idleclks:2;\n\t\tuint64_t tritx:1;\n\t\tuint64_t cslate:1;\n\t\tuint64_t csena0:1;\n\t\tuint64_t csena1:1;\n\t\tuint64_t reserved_14_15:2;\n\t\tuint64_t clkdiv:13;\n\t\tuint64_t reserved_29_63:35;\n#endif\n\t} cn61xx;\n\tstruct cvmx_mpi_cfg_cn66xx {\n#ifdef __BIG_ENDIAN_BITFIELD\n\t\tuint64_t reserved_29_63:35;\n\t\tuint64_t clkdiv:13;\n\t\tuint64_t csena3:1;\n\t\tuint64_t csena2:1;\n\t\tuint64_t reserved_12_13:2;\n\t\tuint64_t cslate:1;\n\t\tuint64_t tritx:1;\n\t\tuint64_t idleclks:2;\n\t\tuint64_t cshi:1;\n\t\tuint64_t reserved_6_6:1;\n\t\tuint64_t int_ena:1;\n\t\tuint64_t lsbfirst:1;\n\t\tuint64_t wireor:1;\n\t\tuint64_t clk_cont:1;\n\t\tuint64_t idlelo:1;\n\t\tuint64_t enable:1;\n#else\n\t\tuint64_t enable:1;\n\t\tuint64_t idlelo:1;\n\t\tuint64_t clk_cont:1;\n\t\tuint64_t wireor:1;\n\t\tuint64_t lsbfirst:1;\n\t\tuint64_t int_ena:1;\n\t\tuint64_t reserved_6_6:1;\n\t\tuint64_t cshi:1;\n\t\tuint64_t idleclks:2;\n\t\tuint64_t tritx:1;\n\t\tuint64_t cslate:1;\n\t\tuint64_t reserved_12_13:2;\n\t\tuint64_t csena2:1;\n\t\tuint64_t csena3:1;\n\t\tuint64_t clkdiv:13;\n\t\tuint64_t reserved_29_63:35;\n#endif\n\t} cn66xx;\n\tstruct cvmx_mpi_cfg_cn61xx cnf71xx;\n};\n\nunion cvmx_mpi_datx {\n\tuint64_t u64;\n\tstruct cvmx_mpi_datx_s {\n#ifdef __BIG_ENDIAN_BITFIELD\n\t\tuint64_t reserved_8_63:56;\n\t\tuint64_t data:8;\n#else\n\t\tuint64_t data:8;\n\t\tuint64_t reserved_8_63:56;\n#endif\n\t} s;\n\tstruct cvmx_mpi_datx_s cn30xx;\n\tstruct cvmx_mpi_datx_s cn31xx;\n\tstruct cvmx_mpi_datx_s cn50xx;\n\tstruct cvmx_mpi_datx_s cn61xx;\n\tstruct cvmx_mpi_datx_s cn66xx;\n\tstruct cvmx_mpi_datx_s cnf71xx;\n};\n\nunion cvmx_mpi_sts {\n\tuint64_t u64;\n\tstruct cvmx_mpi_sts_s {\n#ifdef __BIG_ENDIAN_BITFIELD\n\t\tuint64_t reserved_13_63:51;\n\t\tuint64_t rxnum:5;\n\t\tuint64_t reserved_1_7:7;\n\t\tuint64_t busy:1;\n#else\n\t\tuint64_t busy:1;\n\t\tuint64_t reserved_1_7:7;\n\t\tuint64_t rxnum:5;\n\t\tuint64_t reserved_13_63:51;\n#endif\n\t} s;\n\tstruct cvmx_mpi_sts_s cn30xx;\n\tstruct cvmx_mpi_sts_s cn31xx;\n\tstruct cvmx_mpi_sts_s cn50xx;\n\tstruct cvmx_mpi_sts_s cn61xx;\n\tstruct cvmx_mpi_sts_s cn66xx;\n\tstruct cvmx_mpi_sts_s cnf71xx;\n};\n\nunion cvmx_mpi_tx {\n\tuint64_t u64;\n\tstruct cvmx_mpi_tx_s {\n#ifdef __BIG_ENDIAN_BITFIELD\n\t\tuint64_t reserved_22_63:42;\n\t\tuint64_t csid:2;\n\t\tuint64_t reserved_17_19:3;\n\t\tuint64_t leavecs:1;\n\t\tuint64_t reserved_13_15:3;\n\t\tuint64_t txnum:5;\n\t\tuint64_t reserved_5_7:3;\n\t\tuint64_t totnum:5;\n#else\n\t\tuint64_t totnum:5;\n\t\tuint64_t reserved_5_7:3;\n\t\tuint64_t txnum:5;\n\t\tuint64_t reserved_13_15:3;\n\t\tuint64_t leavecs:1;\n\t\tuint64_t reserved_17_19:3;\n\t\tuint64_t csid:2;\n\t\tuint64_t reserved_22_63:42;\n#endif\n\t} s;\n\tstruct cvmx_mpi_tx_cn30xx {\n#ifdef __BIG_ENDIAN_BITFIELD\n\t\tuint64_t reserved_17_63:47;\n\t\tuint64_t leavecs:1;\n\t\tuint64_t reserved_13_15:3;\n\t\tuint64_t txnum:5;\n\t\tuint64_t reserved_5_7:3;\n\t\tuint64_t totnum:5;\n#else\n\t\tuint64_t totnum:5;\n\t\tuint64_t reserved_5_7:3;\n\t\tuint64_t txnum:5;\n\t\tuint64_t reserved_13_15:3;\n\t\tuint64_t leavecs:1;\n\t\tuint64_t reserved_17_63:47;\n#endif\n\t} cn30xx;\n\tstruct cvmx_mpi_tx_cn30xx cn31xx;\n\tstruct cvmx_mpi_tx_cn30xx cn50xx;\n\tstruct cvmx_mpi_tx_cn61xx {\n#ifdef __BIG_ENDIAN_BITFIELD\n\t\tuint64_t reserved_21_63:43;\n\t\tuint64_t csid:1;\n\t\tuint64_t reserved_17_19:3;\n\t\tuint64_t leavecs:1;\n\t\tuint64_t reserved_13_15:3;\n\t\tuint64_t txnum:5;\n\t\tuint64_t reserved_5_7:3;\n\t\tuint64_t totnum:5;\n#else\n\t\tuint64_t totnum:5;\n\t\tuint64_t reserved_5_7:3;\n\t\tuint64_t txnum:5;\n\t\tuint64_t reserved_13_15:3;\n\t\tuint64_t leavecs:1;\n\t\tuint64_t reserved_17_19:3;\n\t\tuint64_t csid:1;\n\t\tuint64_t reserved_21_63:43;\n#endif\n\t} cn61xx;\n\tstruct cvmx_mpi_tx_s cn66xx;\n\tstruct cvmx_mpi_tx_cn61xx cnf71xx;\n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}