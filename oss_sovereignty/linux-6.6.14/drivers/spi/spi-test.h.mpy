{
  "module_name": "spi-test.h",
  "hash_id": "dd86fe7d1e075933aefc5645109b7d78a53fbae1d3e9a696ec07bdc69d91d13f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/spi/spi-test.h",
  "human_readable_source": " \n \n\n#include <linux/spi/spi.h>\n\n#define SPI_TEST_MAX_TRANSFERS 4\n#define SPI_TEST_MAX_SIZE (32 * PAGE_SIZE)\n#define SPI_TEST_MAX_ITERATE 32\n\n \n#define RX_START\tBIT(30)\n#define TX_START\tBIT(31)\n#define RX(off)\t\t((void *)(RX_START + off))\n#define TX(off)\t\t((void *)(TX_START + off))\n\n \n#define SPI_TEST_MAX_SIZE_HALF\tBIT(29)\n\n \n#define SPI_TEST_PATTERN_UNWRITTEN 0xAA\n#define SPI_TEST_PATTERN_DO_NOT_WRITE 0x55\n#define SPI_TEST_CHECK_DO_NOT_WRITE 64\n\n \n\nstruct spi_test {\n\tchar description[64];\n\tstruct spi_message msg;\n\tstruct spi_transfer transfers[SPI_TEST_MAX_TRANSFERS];\n\tunsigned int transfer_count;\n\tint (*run_test)(struct spi_device *spi, struct spi_test *test,\n\t\t\tvoid *tx, void *rx);\n\tint (*execute_msg)(struct spi_device *spi, struct spi_test *test,\n\t\t\t   void *tx, void *rx);\n\tint expected_return;\n\t \n\tint iterate_len[SPI_TEST_MAX_ITERATE];\n\tint iterate_tx_align;\n\tint iterate_rx_align;\n\tu32 iterate_transfer_mask;\n\t \n\tu32 fill_option;\n#define FILL_MEMSET_8\t0\t \n#define FILL_MEMSET_16\t1\t \n#define FILL_MEMSET_24\t2\t \n#define FILL_MEMSET_32\t3\t \n#define FILL_COUNT_8\t4\t \n#define FILL_COUNT_16\t5\t \n#define FILL_COUNT_24\t6\t \n#define FILL_COUNT_32\t7\t \n#define FILL_TRANSFER_BYTE_8  8\t \n#define FILL_TRANSFER_BYTE_16 9\t \n#define FILL_TRANSFER_BYTE_24 10  \n#define FILL_TRANSFER_BYTE_32 11  \n#define FILL_TRANSFER_NUM     16  \n\tu32 fill_pattern;\n\tunsigned long long elapsed_time;\n};\n\n \nint spi_test_run_test(struct spi_device *spi,\n\t\t      const struct spi_test *test,\n\t\t      void *tx, void *rx);\n\n \nint spi_test_execute_msg(struct spi_device *spi,\n\t\t\t struct spi_test *test,\n\t\t\t void *tx, void *rx);\n\n \nint spi_test_run_tests(struct spi_device *spi,\n\t\t       struct spi_test *tests);\n\n#define ITERATE_LEN_LIST 0, 1, 2, 3, 7, 11, 16, 31, 32, 64, 97, 128, 251, 256, \\\n\t\t1021, 1024, 1031, 4093, PAGE_SIZE, 4099, 65536, 65537\n \n#define ITERATE_LEN ITERATE_LEN_LIST, -1\n#define ITERATE_MAX_LEN ITERATE_LEN_LIST, (SPI_TEST_MAX_SIZE - 1), \\\n\t\tSPI_TEST_MAX_SIZE, -1\n\n \n#define ITERATE_ALIGN sizeof(int)\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}