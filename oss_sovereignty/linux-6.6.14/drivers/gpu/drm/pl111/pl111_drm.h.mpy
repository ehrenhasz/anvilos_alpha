{
  "module_name": "pl111_drm.h",
  "hash_id": "3d60e67aed75c2daef34eec65d45973dda62b692e93cec63f76de57015cffad8",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/pl111/pl111_drm.h",
  "human_readable_source": " \n \n\n#ifndef _PL111_DRM_H_\n#define _PL111_DRM_H_\n\n#include <linux/clk-provider.h>\n#include <linux/interrupt.h>\n\n#include <drm/drm_bridge.h>\n#include <drm/drm_connector.h>\n#include <drm/drm_encoder.h>\n#include <drm/drm_gem.h>\n#include <drm/drm_panel.h>\n#include <drm/drm_simple_kms_helper.h>\n\n \n#define CLCD_TIM0\t\t0x00000000\n#define CLCD_TIM1\t\t0x00000004\n#define CLCD_TIM2\t\t0x00000008\n#define CLCD_TIM3\t\t0x0000000c\n#define CLCD_UBAS\t\t0x00000010\n#define CLCD_LBAS\t\t0x00000014\n\n#define CLCD_PL110_IENB\t\t0x00000018\n#define CLCD_PL110_CNTL\t\t0x0000001c\n#define CLCD_PL110_STAT\t\t0x00000020\n#define CLCD_PL110_INTR\t\t0x00000024\n#define CLCD_PL110_UCUR\t\t0x00000028\n#define CLCD_PL110_LCUR\t\t0x0000002C\n\n#define CLCD_PL111_CNTL\t\t0x00000018\n#define CLCD_PL111_IENB\t\t0x0000001c\n#define CLCD_PL111_RIS\t\t0x00000020\n#define CLCD_PL111_MIS\t\t0x00000024\n#define CLCD_PL111_ICR\t\t0x00000028\n#define CLCD_PL111_UCUR\t\t0x0000002c\n#define CLCD_PL111_LCUR\t\t0x00000030\n\n#define CLCD_PALL\t\t0x00000200\n#define CLCD_PALETTE\t\t0x00000200\n\n#define TIM2_PCD_LO_MASK\tGENMASK(4, 0)\n#define TIM2_PCD_LO_BITS\t5\n#define TIM2_CLKSEL\t\t(1 << 5)\n#define TIM2_ACB_MASK\t\tGENMASK(10, 6)\n#define TIM2_IVS\t\t(1 << 11)\n#define TIM2_IHS\t\t(1 << 12)\n#define TIM2_IPC\t\t(1 << 13)\n#define TIM2_IOE\t\t(1 << 14)\n#define TIM2_BCD\t\t(1 << 26)\n#define TIM2_PCD_HI_MASK\tGENMASK(31, 27)\n#define TIM2_PCD_HI_BITS\t5\n#define TIM2_PCD_HI_SHIFT\t27\n\n#define CNTL_LCDEN\t\t(1 << 0)\n#define CNTL_LCDBPP1\t\t(0 << 1)\n#define CNTL_LCDBPP2\t\t(1 << 1)\n#define CNTL_LCDBPP4\t\t(2 << 1)\n#define CNTL_LCDBPP8\t\t(3 << 1)\n#define CNTL_LCDBPP16\t\t(4 << 1)\n#define CNTL_LCDBPP16_565\t(6 << 1)\n#define CNTL_LCDBPP16_444\t(7 << 1)\n#define CNTL_LCDBPP24\t\t(5 << 1)\n#define CNTL_LCDBW\t\t(1 << 4)\n#define CNTL_LCDTFT\t\t(1 << 5)\n#define CNTL_LCDMONO8\t\t(1 << 6)\n#define CNTL_LCDDUAL\t\t(1 << 7)\n#define CNTL_BGR\t\t(1 << 8)\n#define CNTL_BEBO\t\t(1 << 9)\n#define CNTL_BEPO\t\t(1 << 10)\n#define CNTL_LCDPWR\t\t(1 << 11)\n#define CNTL_LCDVCOMP(x)\t((x) << 12)\n#define CNTL_LDMAFIFOTIME\t(1 << 15)\n#define CNTL_WATERMARK\t\t(1 << 16)\n\n \n#define CNTL_ST_1XBPP_444\t0x0\n#define CNTL_ST_1XBPP_5551\t(1 << 17)\n#define CNTL_ST_1XBPP_565\t(1 << 18)\n#define CNTL_ST_CDWID_12\t0x0\n#define CNTL_ST_CDWID_16\t(1 << 19)\n#define CNTL_ST_CDWID_18\t(1 << 20)\n#define CNTL_ST_CDWID_24\t((1 << 19) | (1 << 20))\n#define CNTL_ST_CEAEN\t\t(1 << 21)\n#define CNTL_ST_LCDBPP24_PACKED\t(6 << 1)\n\n#define CLCD_IRQ_NEXTBASE_UPDATE BIT(2)\n\nstruct drm_minor;\n\n \nstruct pl111_variant_data {\n\tconst char *name;\n\tbool is_pl110;\n\tbool is_lcdc;\n\tbool external_bgr;\n\tbool broken_clockdivider;\n\tbool broken_vblank;\n\tbool st_bitmux_control;\n\tconst u32 *formats;\n\tunsigned int nformats;\n\tunsigned int fb_depth;\n};\n\nstruct pl111_drm_dev_private {\n\tstruct drm_device *drm;\n\n\tstruct drm_connector *connector;\n\tstruct drm_panel *panel;\n\tstruct drm_bridge *bridge;\n\tstruct drm_simple_display_pipe pipe;\n\n\tvoid *regs;\n\tu32 memory_bw;\n\tu32 ienb;\n\tu32 ctrl;\n\t \n\tstruct clk *clk;\n\t \n\tstruct clk_hw clk_div;\n\t \n\tspinlock_t tim2_lock;\n\tconst struct pl111_variant_data *variant;\n\tvoid (*variant_display_enable) (struct drm_device *drm, u32 format);\n\tvoid (*variant_display_disable) (struct drm_device *drm);\n\tbool use_device_memory;\n};\n\nint pl111_display_init(struct drm_device *dev);\nirqreturn_t pl111_irq(int irq, void *data);\nvoid pl111_debugfs_init(struct drm_minor *minor);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}