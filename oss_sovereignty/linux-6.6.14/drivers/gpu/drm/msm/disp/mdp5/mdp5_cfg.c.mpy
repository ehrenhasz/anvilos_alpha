{
  "module_name": "mdp5_cfg.c",
  "hash_id": "40bcdfc9827c7fd9876b18352712d8584071069b552141a0b5f8c1dea78135c3",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/msm/disp/mdp5/mdp5_cfg.c",
  "human_readable_source": "\n \n\n#include \"mdp5_kms.h\"\n#include \"mdp5_cfg.h\"\n\nstruct mdp5_cfg_handler {\n\tint revision;\n\tstruct mdp5_cfg config;\n};\n\n \nconst struct mdp5_cfg_hw *mdp5_cfg = NULL;\n\nstatic const struct mdp5_cfg_hw msm8x74v1_config = {\n\t.name = \"msm8x74v1\",\n\t.mdp = {\n\t\t.count = 1,\n\t\t.caps = MDP_CAP_SMP |\n\t\t\t0,\n\t},\n\t.smp = {\n\t\t.mmb_count = 22,\n\t\t.mmb_size = 4096,\n\t\t.clients = {\n\t\t\t[SSPP_VIG0] =  1, [SSPP_VIG1] =  4, [SSPP_VIG2] =  7,\n\t\t\t[SSPP_DMA0] = 10, [SSPP_DMA1] = 13,\n\t\t\t[SSPP_RGB0] = 16, [SSPP_RGB1] = 17, [SSPP_RGB2] = 18,\n\t\t},\n\t},\n\t.ctl = {\n\t\t.count = 5,\n\t\t.base = { 0x00500, 0x00600, 0x00700, 0x00800, 0x00900 },\n\t\t.flush_hw_mask = 0x0003ffff,\n\t},\n\t.pipe_vig = {\n\t\t.count = 3,\n\t\t.base = { 0x01100, 0x01500, 0x01900 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP |\n\t\t\tMDP_PIPE_CAP_VFLIP |\n\t\t\tMDP_PIPE_CAP_SCALE |\n\t\t\tMDP_PIPE_CAP_CSC   |\n\t\t\t0,\n\t},\n\t.pipe_rgb = {\n\t\t.count = 3,\n\t\t.base = { 0x01d00, 0x02100, 0x02500 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP |\n\t\t\tMDP_PIPE_CAP_VFLIP |\n\t\t\tMDP_PIPE_CAP_SCALE |\n\t\t\t0,\n\t},\n\t.pipe_dma = {\n\t\t.count = 2,\n\t\t.base = { 0x02900, 0x02d00 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP |\n\t\t\tMDP_PIPE_CAP_VFLIP |\n\t\t\t0,\n\t},\n\t.lm = {\n\t\t.count = 5,\n\t\t.base = { 0x03100, 0x03500, 0x03900, 0x03d00, 0x04100 },\n\t\t.instances = {\n\t\t\t\t{ .id = 0, .pp = 0, .dspp = 0,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY, },\n\t\t\t\t{ .id = 1, .pp = 1, .dspp = 1,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY, },\n\t\t\t\t{ .id = 2, .pp = 2, .dspp = 2,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY, },\n\t\t\t\t{ .id = 3, .pp = -1, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_WB },\n\t\t\t\t{ .id = 4, .pp = -1, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_WB },\n\t\t\t     },\n\t\t.nb_stages = 5,\n\t\t.max_width = 2048,\n\t\t.max_height = 0xFFFF,\n\t},\n\t.dspp = {\n\t\t.count = 3,\n\t\t.base = { 0x04500, 0x04900, 0x04d00 },\n\t},\n\t.pp = {\n\t\t.count = 3,\n\t\t.base = { 0x21a00, 0x21b00, 0x21c00 },\n\t},\n\t.intf = {\n\t\t.base = { 0x21000, 0x21200, 0x21400, 0x21600 },\n\t\t.connect = {\n\t\t\t[0] = INTF_eDP,\n\t\t\t[1] = INTF_DSI,\n\t\t\t[2] = INTF_DSI,\n\t\t\t[3] = INTF_HDMI,\n\t\t},\n\t},\n\t.perf = {\n\t\t.ab_inefficiency = 200,\n\t\t.ib_inefficiency = 120,\n\t\t.clk_inefficiency = 125\n\t},\n\t.max_clk = 200000000,\n};\n\nstatic const struct mdp5_cfg_hw msm8x26_config = {\n\t.name = \"msm8x26\",\n\t.mdp = {\n\t\t.count = 1,\n\t\t.caps = MDP_CAP_SMP |\n\t\t\t0,\n\t},\n\t.smp = {\n\t\t.mmb_count = 7,\n\t\t.mmb_size = 4096,\n\t\t.clients = {\n\t\t\t[SSPP_VIG0] =  1,\n\t\t\t[SSPP_DMA0] = 4,\n\t\t\t[SSPP_RGB0] = 7,\n\t\t},\n\t},\n\t.ctl = {\n\t\t.count = 2,\n\t\t.base = { 0x00500, 0x00600 },\n\t\t.flush_hw_mask = 0x0003ffff,\n\t},\n\t.pipe_vig = {\n\t\t.count = 1,\n\t\t.base = { 0x01100 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP |\n\t\t\tMDP_PIPE_CAP_VFLIP |\n\t\t\tMDP_PIPE_CAP_SCALE |\n\t\t\tMDP_PIPE_CAP_CSC   |\n\t\t\t0,\n\t},\n\t.pipe_rgb = {\n\t\t.count = 1,\n\t\t.base = { 0x01d00 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP |\n\t\t\tMDP_PIPE_CAP_VFLIP |\n\t\t\tMDP_PIPE_CAP_SCALE |\n\t\t\t0,\n\t},\n\t.pipe_dma = {\n\t\t.count = 1,\n\t\t.base = { 0x02900 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP |\n\t\t\tMDP_PIPE_CAP_VFLIP |\n\t\t\t0,\n\t},\n\t.lm = {\n\t\t.count = 2,\n\t\t.base = { 0x03100, 0x03d00 },\n\t\t.instances = {\n\t\t\t\t{ .id = 0, .pp = 0, .dspp = 0,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY, },\n\t\t\t\t{ .id = 1, .pp = -1, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_WB },\n\t\t\t     },\n\t\t.nb_stages = 2,\n\t\t.max_width = 2048,\n\t\t.max_height = 0xFFFF,\n\t},\n\t.dspp = {\n\t\t.count = 1,\n\t\t.base = { 0x04500 },\n\t},\n\t.pp = {\n\t\t.count = 1,\n\t\t.base = { 0x21a00 },\n\t},\n\t.intf = {\n\t\t.base = { 0x00000, 0x21200 },\n\t\t.connect = {\n\t\t\t[0] = INTF_DISABLED,\n\t\t\t[1] = INTF_DSI,\n\t\t},\n\t},\n\t.perf = {\n\t\t.ab_inefficiency = 100,\n\t\t.ib_inefficiency = 200,\n\t\t.clk_inefficiency = 125\n\t},\n\t.max_clk = 200000000,\n};\n\nstatic const struct mdp5_cfg_hw msm8x74v2_config = {\n\t.name = \"msm8x74\",\n\t.mdp = {\n\t\t.count = 1,\n\t\t.caps = MDP_CAP_SMP |\n\t\t\t0,\n\t},\n\t.smp = {\n\t\t.mmb_count = 22,\n\t\t.mmb_size = 4096,\n\t\t.clients = {\n\t\t\t[SSPP_VIG0] =  1, [SSPP_VIG1] =  4, [SSPP_VIG2] =  7,\n\t\t\t[SSPP_DMA0] = 10, [SSPP_DMA1] = 13,\n\t\t\t[SSPP_RGB0] = 16, [SSPP_RGB1] = 17, [SSPP_RGB2] = 18,\n\t\t},\n\t},\n\t.ctl = {\n\t\t.count = 5,\n\t\t.base = { 0x00500, 0x00600, 0x00700, 0x00800, 0x00900 },\n\t\t.flush_hw_mask = 0x0003ffff,\n\t},\n\t.pipe_vig = {\n\t\t.count = 3,\n\t\t.base = { 0x01100, 0x01500, 0x01900 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP | MDP_PIPE_CAP_VFLIP |\n\t\t\t\tMDP_PIPE_CAP_SCALE | MDP_PIPE_CAP_CSC |\n\t\t\t\tMDP_PIPE_CAP_DECIMATION,\n\t},\n\t.pipe_rgb = {\n\t\t.count = 3,\n\t\t.base = { 0x01d00, 0x02100, 0x02500 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP | MDP_PIPE_CAP_VFLIP |\n\t\t\t\tMDP_PIPE_CAP_SCALE | MDP_PIPE_CAP_DECIMATION,\n\t},\n\t.pipe_dma = {\n\t\t.count = 2,\n\t\t.base = { 0x02900, 0x02d00 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP | MDP_PIPE_CAP_VFLIP,\n\t},\n\t.lm = {\n\t\t.count = 5,\n\t\t.base = { 0x03100, 0x03500, 0x03900, 0x03d00, 0x04100 },\n\t\t.instances = {\n\t\t\t\t{ .id = 0, .pp = 0, .dspp = 0,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY, },\n\t\t\t\t{ .id = 1, .pp = 1, .dspp = 1,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY, },\n\t\t\t\t{ .id = 2, .pp = 2, .dspp = 2,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY, },\n\t\t\t\t{ .id = 3, .pp = -1, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_WB, },\n\t\t\t\t{ .id = 4, .pp = -1, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_WB, },\n\t\t\t     },\n\t\t.nb_stages = 5,\n\t\t.max_width = 2048,\n\t\t.max_height = 0xFFFF,\n\t},\n\t.dspp = {\n\t\t.count = 3,\n\t\t.base = { 0x04500, 0x04900, 0x04d00 },\n\t},\n\t.ad = {\n\t\t.count = 2,\n\t\t.base = { 0x13000, 0x13200 },\n\t},\n\t.pp = {\n\t\t.count = 3,\n\t\t.base = { 0x12c00, 0x12d00, 0x12e00 },\n\t},\n\t.intf = {\n\t\t.base = { 0x12400, 0x12600, 0x12800, 0x12a00 },\n\t\t.connect = {\n\t\t\t[0] = INTF_eDP,\n\t\t\t[1] = INTF_DSI,\n\t\t\t[2] = INTF_DSI,\n\t\t\t[3] = INTF_HDMI,\n\t\t},\n\t},\n\t.perf = {\n\t\t.ab_inefficiency = 200,\n\t\t.ib_inefficiency = 120,\n\t\t.clk_inefficiency = 125\n\t},\n\t.max_clk = 320000000,\n};\n\nstatic const struct mdp5_cfg_hw apq8084_config = {\n\t.name = \"apq8084\",\n\t.mdp = {\n\t\t.count = 1,\n\t\t.caps = MDP_CAP_SMP |\n\t\t\tMDP_CAP_SRC_SPLIT |\n\t\t\t0,\n\t},\n\t.smp = {\n\t\t.mmb_count = 44,\n\t\t.mmb_size = 8192,\n\t\t.clients = {\n\t\t\t[SSPP_VIG0] =  1, [SSPP_VIG1] =  4,\n\t\t\t[SSPP_VIG2] =  7, [SSPP_VIG3] = 19,\n\t\t\t[SSPP_DMA0] = 10, [SSPP_DMA1] = 13,\n\t\t\t[SSPP_RGB0] = 16, [SSPP_RGB1] = 17,\n\t\t\t[SSPP_RGB2] = 18, [SSPP_RGB3] = 22,\n\t\t},\n\t\t.reserved_state[0] = GENMASK(7, 0),\t \n\t\t.reserved = {\n\t\t\t \n\t\t\t[16] = 2, [17] = 2, [18] = 2, [22] = 2,\n\t\t},\n\t},\n\t.ctl = {\n\t\t.count = 5,\n\t\t.base = { 0x00500, 0x00600, 0x00700, 0x00800, 0x00900 },\n\t\t.flush_hw_mask = 0x003fffff,\n\t},\n\t.pipe_vig = {\n\t\t.count = 4,\n\t\t.base = { 0x01100, 0x01500, 0x01900, 0x01d00 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP | MDP_PIPE_CAP_VFLIP |\n\t\t\t\tMDP_PIPE_CAP_SCALE | MDP_PIPE_CAP_CSC |\n\t\t\t\tMDP_PIPE_CAP_DECIMATION,\n\t},\n\t.pipe_rgb = {\n\t\t.count = 4,\n\t\t.base = { 0x02100, 0x02500, 0x02900, 0x02d00 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP | MDP_PIPE_CAP_VFLIP |\n\t\t\t\tMDP_PIPE_CAP_SCALE | MDP_PIPE_CAP_DECIMATION,\n\t},\n\t.pipe_dma = {\n\t\t.count = 2,\n\t\t.base = { 0x03100, 0x03500 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP | MDP_PIPE_CAP_VFLIP,\n\t},\n\t.lm = {\n\t\t.count = 6,\n\t\t.base = { 0x03900, 0x03d00, 0x04100, 0x04500, 0x04900, 0x04d00 },\n\t\t.instances = {\n\t\t\t\t{ .id = 0, .pp = 0, .dspp = 0,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY |\n\t\t\t\t\t  MDP_LM_CAP_PAIR, },\n\t\t\t\t{ .id = 1, .pp = 1, .dspp = 1,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY, },\n\t\t\t\t{ .id = 2, .pp = 2, .dspp = 2,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY |\n\t\t\t\t\t  MDP_LM_CAP_PAIR, },\n\t\t\t\t{ .id = 3, .pp = -1, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_WB, },\n\t\t\t\t{ .id = 4, .pp = -1, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_WB, },\n\t\t\t\t{ .id = 5, .pp = 3, .dspp = 3,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY, },\n\t\t\t     },\n\t\t.nb_stages = 5,\n\t\t.max_width = 2048,\n\t\t.max_height = 0xFFFF,\n\t},\n\t.dspp = {\n\t\t.count = 4,\n\t\t.base = { 0x05100, 0x05500, 0x05900, 0x05d00 },\n\n\t},\n\t.ad = {\n\t\t.count = 3,\n\t\t.base = { 0x13400, 0x13600, 0x13800 },\n\t},\n\t.pp = {\n\t\t.count = 4,\n\t\t.base = { 0x12e00, 0x12f00, 0x13000, 0x13100 },\n\t},\n\t.intf = {\n\t\t.base = { 0x12400, 0x12600, 0x12800, 0x12a00, 0x12c00 },\n\t\t.connect = {\n\t\t\t[0] = INTF_eDP,\n\t\t\t[1] = INTF_DSI,\n\t\t\t[2] = INTF_DSI,\n\t\t\t[3] = INTF_HDMI,\n\t\t},\n\t},\n\t.perf = {\n\t\t.ab_inefficiency = 200,\n\t\t.ib_inefficiency = 120,\n\t\t.clk_inefficiency = 105\n\t},\n\t.max_clk = 320000000,\n};\n\nstatic const struct mdp5_cfg_hw msm8x16_config = {\n\t.name = \"msm8x16\",\n\t.mdp = {\n\t\t.count = 1,\n\t\t.base = { 0x0 },\n\t\t.caps = MDP_CAP_SMP |\n\t\t\t0,\n\t},\n\t.smp = {\n\t\t.mmb_count = 8,\n\t\t.mmb_size = 8192,\n\t\t.clients = {\n\t\t\t[SSPP_VIG0] = 1, [SSPP_DMA0] = 4,\n\t\t\t[SSPP_RGB0] = 7, [SSPP_RGB1] = 8,\n\t\t},\n\t},\n\t.ctl = {\n\t\t.count = 5,\n\t\t.base = { 0x01000, 0x01200, 0x01400, 0x01600, 0x01800 },\n\t\t.flush_hw_mask = 0x4003ffff,\n\t},\n\t.pipe_vig = {\n\t\t.count = 1,\n\t\t.base = { 0x04000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP | MDP_PIPE_CAP_VFLIP |\n\t\t\t\tMDP_PIPE_CAP_SCALE | MDP_PIPE_CAP_CSC |\n\t\t\t\tMDP_PIPE_CAP_DECIMATION,\n\t},\n\t.pipe_rgb = {\n\t\t.count = 2,\n\t\t.base = { 0x14000, 0x16000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP | MDP_PIPE_CAP_VFLIP |\n\t\t\t\tMDP_PIPE_CAP_DECIMATION,\n\t},\n\t.pipe_dma = {\n\t\t.count = 1,\n\t\t.base = { 0x24000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP | MDP_PIPE_CAP_VFLIP,\n\t},\n\t.lm = {\n\t\t.count = 2,  \n\t\t.base = { 0x44000, 0x47000 },\n\t\t.instances = {\n\t\t\t\t{ .id = 0, .pp = 0, .dspp = 0,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY, },\n\t\t\t\t{ .id = 3, .pp = -1, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_WB },\n\t\t\t     },\n\t\t.nb_stages = 8,\n\t\t.max_width = 2048,\n\t\t.max_height = 0xFFFF,\n\t},\n\t.dspp = {\n\t\t.count = 1,\n\t\t.base = { 0x54000 },\n\n\t},\n\t.intf = {\n\t\t.base = { 0x00000, 0x6a800 },\n\t\t.connect = {\n\t\t\t[0] = INTF_DISABLED,\n\t\t\t[1] = INTF_DSI,\n\t\t},\n\t},\n\t.perf = {\n\t\t.ab_inefficiency = 100,\n\t\t.ib_inefficiency = 200,\n\t\t.clk_inefficiency = 105\n\t},\n\t.max_clk = 320000000,\n};\n\nstatic const struct mdp5_cfg_hw msm8x36_config = {\n\t.name = \"msm8x36\",\n\t.mdp = {\n\t\t.count = 1,\n\t\t.base = { 0x0 },\n\t\t.caps = MDP_CAP_SMP |\n\t\t\t0,\n\t},\n\t.smp = {\n\t\t.mmb_count = 8,\n\t\t.mmb_size = 10240,\n\t\t.clients = {\n\t\t\t[SSPP_VIG0] = 1, [SSPP_DMA0] = 4,\n\t\t\t[SSPP_RGB0] = 7, [SSPP_RGB1] = 8,\n\t\t},\n\t},\n\t.ctl = {\n\t\t.count = 3,\n\t\t.base = { 0x01000, 0x01200, 0x01400 },\n\t\t.flush_hw_mask = 0x4003ffff,\n\t},\n\t.pipe_vig = {\n\t\t.count = 1,\n\t\t.base = { 0x04000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP | MDP_PIPE_CAP_VFLIP |\n\t\t\t\tMDP_PIPE_CAP_SCALE | MDP_PIPE_CAP_CSC |\n\t\t\t\tMDP_PIPE_CAP_DECIMATION,\n\t},\n\t.pipe_rgb = {\n\t\t.count = 2,\n\t\t.base = { 0x14000, 0x16000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP | MDP_PIPE_CAP_VFLIP |\n\t\t\t\tMDP_PIPE_CAP_DECIMATION,\n\t},\n\t.pipe_dma = {\n\t\t.count = 1,\n\t\t.base = { 0x24000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP | MDP_PIPE_CAP_VFLIP,\n\t},\n\t.lm = {\n\t\t.count = 2,\n\t\t.base = { 0x44000, 0x47000 },\n\t\t.instances = {\n\t\t\t\t{ .id = 0, .pp = 0, .dspp = 0,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY, },\n\t\t\t\t{ .id = 1, .pp = -1, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_WB, },\n\t\t\t\t},\n\t\t.nb_stages = 8,\n\t\t.max_width = 2560,\n\t\t.max_height = 0xFFFF,\n\t},\n\t.pp = {\n\t\t.count = 1,\n\t\t.base = { 0x70000 },\n\t},\n\t.ad = {\n\t\t.count = 1,\n\t\t.base = { 0x78000 },\n\t},\n\t.dspp = {\n\t\t.count = 1,\n\t\t.base = { 0x54000 },\n\t},\n\t.intf = {\n\t\t.base = { 0x00000, 0x6a800, 0x6b000 },\n\t\t.connect = {\n\t\t\t[0] = INTF_DISABLED,\n\t\t\t[1] = INTF_DSI,\n\t\t\t[2] = INTF_DSI,\n\t\t},\n\t},\n\t.perf = {\n\t\t.ab_inefficiency = 100,\n\t\t.ib_inefficiency = 200,\n\t\t.clk_inefficiency = 105\n\t},\n\t.max_clk = 366670000,\n};\n\nstatic const struct mdp5_cfg_hw msm8x94_config = {\n\t.name = \"msm8x94\",\n\t.mdp = {\n\t\t.count = 1,\n\t\t.caps = MDP_CAP_SMP |\n\t\t\tMDP_CAP_SRC_SPLIT |\n\t\t\t0,\n\t},\n\t.smp = {\n\t\t.mmb_count = 44,\n\t\t.mmb_size = 8192,\n\t\t.clients = {\n\t\t\t[SSPP_VIG0] =  1, [SSPP_VIG1] =  4,\n\t\t\t[SSPP_VIG2] =  7, [SSPP_VIG3] = 19,\n\t\t\t[SSPP_DMA0] = 10, [SSPP_DMA1] = 13,\n\t\t\t[SSPP_RGB0] = 16, [SSPP_RGB1] = 17,\n\t\t\t[SSPP_RGB2] = 18, [SSPP_RGB3] = 22,\n\t\t},\n\t\t.reserved_state[0] = GENMASK(23, 0),\t \n\t\t.reserved = {\n\t\t\t [1] = 1,  [4] = 1,  [7] = 1, [19] = 1,\n\t\t\t[16] = 5, [17] = 5, [18] = 5, [22] = 5,\n\t\t},\n\t},\n\t.ctl = {\n\t\t.count = 5,\n\t\t.base = { 0x01000, 0x01200, 0x01400, 0x01600, 0x01800 },\n\t\t.flush_hw_mask = 0xf0ffffff,\n\t},\n\t.pipe_vig = {\n\t\t.count = 4,\n\t\t.base = { 0x04000, 0x06000, 0x08000, 0x0a000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP | MDP_PIPE_CAP_VFLIP |\n\t\t\t\tMDP_PIPE_CAP_SCALE | MDP_PIPE_CAP_CSC |\n\t\t\t\tMDP_PIPE_CAP_DECIMATION,\n\t},\n\t.pipe_rgb = {\n\t\t.count = 4,\n\t\t.base = { 0x14000, 0x16000, 0x18000, 0x1a000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP | MDP_PIPE_CAP_VFLIP |\n\t\t\t\tMDP_PIPE_CAP_SCALE | MDP_PIPE_CAP_DECIMATION,\n\t},\n\t.pipe_dma = {\n\t\t.count = 2,\n\t\t.base = { 0x24000, 0x26000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP | MDP_PIPE_CAP_VFLIP,\n\t},\n\t.lm = {\n\t\t.count = 6,\n\t\t.base = { 0x44000, 0x45000, 0x46000, 0x47000, 0x48000, 0x49000 },\n\t\t.instances = {\n\t\t\t\t{ .id = 0, .pp = 0, .dspp = 0,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY |\n\t\t\t\t\t  MDP_LM_CAP_PAIR, },\n\t\t\t\t{ .id = 1, .pp = 1, .dspp = 1,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY, },\n\t\t\t\t{ .id = 2, .pp = 2, .dspp = 2,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY |\n\t\t\t\t\t  MDP_LM_CAP_PAIR, },\n\t\t\t\t{ .id = 3, .pp = -1, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_WB, },\n\t\t\t\t{ .id = 4, .pp = -1, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_WB, },\n\t\t\t\t{ .id = 5, .pp = 3, .dspp = 3,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY, },\n\t\t\t     },\n\t\t.nb_stages = 8,\n\t\t.max_width = 2048,\n\t\t.max_height = 0xFFFF,\n\t},\n\t.dspp = {\n\t\t.count = 4,\n\t\t.base = { 0x54000, 0x56000, 0x58000, 0x5a000 },\n\n\t},\n\t.ad = {\n\t\t.count = 3,\n\t\t.base = { 0x78000, 0x78800, 0x79000 },\n\t},\n\t.pp = {\n\t\t.count = 4,\n\t\t.base = { 0x70000, 0x70800, 0x71000, 0x71800 },\n\t},\n\t.intf = {\n\t\t.base = { 0x6a000, 0x6a800, 0x6b000, 0x6b800, 0x6c000 },\n\t\t.connect = {\n\t\t\t[0] = INTF_DISABLED,\n\t\t\t[1] = INTF_DSI,\n\t\t\t[2] = INTF_DSI,\n\t\t\t[3] = INTF_HDMI,\n\t\t},\n\t},\n\t.perf = {\n\t\t.ab_inefficiency = 100,\n\t\t.ib_inefficiency = 100,\n\t\t.clk_inefficiency = 105\n\t},\n\t.max_clk = 400000000,\n};\n\nstatic const struct mdp5_cfg_hw msm8x96_config = {\n\t.name = \"msm8x96\",\n\t.mdp = {\n\t\t.count = 1,\n\t\t.caps = MDP_CAP_DSC |\n\t\t\tMDP_CAP_CDM |\n\t\t\tMDP_CAP_SRC_SPLIT |\n\t\t\t0,\n\t},\n\t.ctl = {\n\t\t.count = 5,\n\t\t.base = { 0x01000, 0x01200, 0x01400, 0x01600, 0x01800 },\n\t\t.flush_hw_mask = 0xf4ffffff,\n\t},\n\t.pipe_vig = {\n\t\t.count = 4,\n\t\t.base = { 0x04000, 0x06000, 0x08000, 0x0a000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SCALE\t|\n\t\t\tMDP_PIPE_CAP_CSC\t|\n\t\t\tMDP_PIPE_CAP_DECIMATION\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\t0,\n\t},\n\t.pipe_rgb = {\n\t\t.count = 4,\n\t\t.base = { 0x14000, 0x16000, 0x18000, 0x1a000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SCALE\t|\n\t\t\tMDP_PIPE_CAP_DECIMATION\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\t0,\n\t},\n\t.pipe_dma = {\n\t\t.count = 2,\n\t\t.base = { 0x24000, 0x26000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\t0,\n\t},\n\t.pipe_cursor = {\n\t\t.count = 2,\n\t\t.base = { 0x34000, 0x36000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\tMDP_PIPE_CAP_CURSOR\t|\n\t\t\t0,\n\t},\n\n\t.lm = {\n\t\t.count = 6,\n\t\t.base = { 0x44000, 0x45000, 0x46000, 0x47000, 0x48000, 0x49000 },\n\t\t.instances = {\n\t\t\t\t{ .id = 0, .pp = 0, .dspp = 0,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY |\n\t\t\t\t\t  MDP_LM_CAP_PAIR, },\n\t\t\t\t{ .id = 1, .pp = 1, .dspp = 1,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY, },\n\t\t\t\t{ .id = 2, .pp = 2, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY |\n\t\t\t\t\t  MDP_LM_CAP_PAIR, },\n\t\t\t\t{ .id = 3, .pp = -1, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_WB, },\n\t\t\t\t{ .id = 4, .pp = -1, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_WB, },\n\t\t\t\t{ .id = 5, .pp = 3, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY, },\n\t\t\t     },\n\t\t.nb_stages = 8,\n\t\t.max_width = 2560,\n\t\t.max_height = 0xFFFF,\n\t},\n\t.dspp = {\n\t\t.count = 2,\n\t\t.base = { 0x54000, 0x56000 },\n\t},\n\t.ad = {\n\t\t.count = 3,\n\t\t.base = { 0x78000, 0x78800, 0x79000 },\n\t},\n\t.pp = {\n\t\t.count = 4,\n\t\t.base = { 0x70000, 0x70800, 0x71000, 0x71800 },\n\t},\n\t.cdm = {\n\t\t.count = 1,\n\t\t.base = { 0x79200 },\n\t},\n\t.dsc = {\n\t\t.count = 2,\n\t\t.base = { 0x80000, 0x80400 },\n\t},\n\t.intf = {\n\t\t.base = { 0x6a000, 0x6a800, 0x6b000, 0x6b800, 0x6c000 },\n\t\t.connect = {\n\t\t\t[0] = INTF_DISABLED,\n\t\t\t[1] = INTF_DSI,\n\t\t\t[2] = INTF_DSI,\n\t\t\t[3] = INTF_HDMI,\n\t\t},\n\t},\n\t.perf = {\n\t\t.ab_inefficiency = 100,\n\t\t.ib_inefficiency = 200,\n\t\t.clk_inefficiency = 105\n\t},\n\t.max_clk = 412500000,\n};\n\nstatic const struct mdp5_cfg_hw msm8x76_config = {\n\t.name = \"msm8x76\",\n\t.mdp = {\n\t\t.count = 1,\n\t\t.caps = MDP_CAP_SMP |\n\t\t\tMDP_CAP_DSC |\n\t\t\tMDP_CAP_SRC_SPLIT |\n\t\t\t0,\n\t},\n\t.ctl = {\n\t\t.count = 3,\n\t\t.base = { 0x01000, 0x01200, 0x01400 },\n\t\t.flush_hw_mask = 0xffffffff,\n\t},\n\t.smp = {\n\t\t.mmb_count = 10,\n\t\t.mmb_size = 10240,\n\t\t.clients = {\n\t\t\t[SSPP_VIG0] = 1, [SSPP_VIG1] = 9,\n\t\t\t[SSPP_DMA0] = 4,\n\t\t\t[SSPP_RGB0] = 7, [SSPP_RGB1] = 8,\n\t\t},\n\t},\n\t.pipe_vig = {\n\t\t.count = 2,\n\t\t.base = { 0x04000, 0x06000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SCALE\t|\n\t\t\tMDP_PIPE_CAP_CSC\t|\n\t\t\tMDP_PIPE_CAP_DECIMATION\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\t0,\n\t},\n\t.pipe_rgb = {\n\t\t.count = 2,\n\t\t.base = { 0x14000, 0x16000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_DECIMATION\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\t0,\n\t},\n\t.pipe_dma = {\n\t\t.count = 1,\n\t\t.base = { 0x24000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\t0,\n\t},\n\t.pipe_cursor = {\n\t\t.count = 1,\n\t\t.base = { 0x440DC },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\tMDP_PIPE_CAP_CURSOR\t|\n\t\t\t0,\n\t},\n\t.lm = {\n\t\t.count = 2,\n\t\t.base = { 0x44000, 0x45000 },\n\t\t.instances = {\n\t\t\t\t{ .id = 0, .pp = 0, .dspp = 0,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY, },\n\t\t\t\t{ .id = 1, .pp = -1, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_WB },\n\t\t\t     },\n\t\t.nb_stages = 8,\n\t\t.max_width = 2560,\n\t\t.max_height = 0xFFFF,\n\t},\n\t.dspp = {\n\t\t.count = 1,\n\t\t.base = { 0x54000 },\n\n\t},\n\t.pp = {\n\t\t.count = 3,\n\t\t.base = { 0x70000, 0x70800, 0x72000 },\n\t},\n\t.dsc = {\n\t\t.count = 2,\n\t\t.base = { 0x80000, 0x80400 },\n\t},\n\t.intf = {\n\t\t.base = { 0x6a000, 0x6a800, 0x6b000 },\n\t\t.connect = {\n\t\t\t[0] = INTF_DISABLED,\n\t\t\t[1] = INTF_DSI,\n\t\t\t[2] = INTF_DSI,\n\t\t},\n\t},\n\t.max_clk = 360000000,\n};\n\nstatic const struct mdp5_cfg_hw msm8x53_config = {\n\t.name = \"msm8x53\",\n\t.mdp = {\n\t\t.count = 1,\n\t\t.caps = MDP_CAP_CDM |\n\t\t\tMDP_CAP_SRC_SPLIT,\n\t},\n\t.ctl = {\n\t\t.count = 3,\n\t\t.base = { 0x01000, 0x01200, 0x01400 },\n\t\t.flush_hw_mask = 0xffffffff,\n\t},\n\t.pipe_vig = {\n\t\t.count = 1,\n\t\t.base = { 0x04000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SCALE\t|\n\t\t\tMDP_PIPE_CAP_CSC\t|\n\t\t\tMDP_PIPE_CAP_DECIMATION\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\t0,\n\t},\n\t.pipe_rgb = {\n\t\t.count = 2,\n\t\t.base = { 0x14000, 0x16000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_DECIMATION\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\t0,\n\t},\n\t.pipe_dma = {\n\t\t.count = 1,\n\t\t.base = { 0x24000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\t0,\n\t},\n\t.pipe_cursor = {\n\t\t.count = 1,\n\t\t.base = { 0x34000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\tMDP_PIPE_CAP_CURSOR\t|\n\t\t\t0,\n\t},\n\n\t.lm = {\n\t\t.count = 3,\n\t\t.base = { 0x44000, 0x45000 },\n\t\t.instances = {\n\t\t\t\t{ .id = 0, .pp = 0, .dspp = 0,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY |\n\t\t\t\t\t  MDP_LM_CAP_PAIR },\n\t\t\t\t{ .id = 1, .pp = 1, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY },\n\t\t\t     },\n\t\t.nb_stages = 5,\n\t\t.max_width = 2048,\n\t\t.max_height = 0xFFFF,\n\t},\n\t.dspp = {\n\t\t.count = 1,\n\t\t.base = { 0x54000 },\n\n\t},\n\t.pp = {\n\t\t.count = 2,\n\t\t.base = { 0x70000, 0x70800 },\n\t},\n\t.cdm = {\n\t\t.count = 1,\n\t\t.base = { 0x79200 },\n\t},\n\t.intf = {\n\t\t.base = { 0x6a000, 0x6a800, 0x6b000 },\n\t\t.connect = {\n\t\t\t[0] = INTF_DISABLED,\n\t\t\t[1] = INTF_DSI,\n\t\t\t[2] = INTF_DSI,\n\t\t},\n\t},\n\t.perf = {\n\t\t.ab_inefficiency = 100,\n\t\t.ib_inefficiency = 200,\n\t\t.clk_inefficiency = 105\n\t},\n\t.max_clk = 400000000,\n};\n\nstatic const struct mdp5_cfg_hw msm8917_config = {\n\t.name = \"msm8917\",\n\t.mdp = {\n\t\t.count = 1,\n\t\t.caps = MDP_CAP_CDM,\n\t},\n\t.ctl = {\n\t\t.count = 3,\n\t\t.base = { 0x01000, 0x01200, 0x01400 },\n\t\t.flush_hw_mask = 0xffffffff,\n\t},\n\t.pipe_vig = {\n\t\t.count = 1,\n\t\t.base = { 0x04000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SCALE\t|\n\t\t\tMDP_PIPE_CAP_CSC\t|\n\t\t\tMDP_PIPE_CAP_DECIMATION\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\t0,\n\t},\n\t.pipe_rgb = {\n\t\t.count = 2,\n\t\t.base = { 0x14000, 0x16000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_DECIMATION\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\t0,\n\t},\n\t.pipe_dma = {\n\t\t.count = 1,\n\t\t.base = { 0x24000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\t0,\n\t},\n\t.pipe_cursor = {\n\t\t.count = 1,\n\t\t.base = { 0x34000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\tMDP_PIPE_CAP_CURSOR\t|\n\t\t\t0,\n\t},\n\n\t.lm = {\n\t\t.count = 2,\n\t\t.base = { 0x44000, 0x45000 },\n\t\t.instances = {\n\t\t\t\t{ .id = 0, .pp = 0, .dspp = 0,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY, },\n\t\t\t\t{ .id = 1, .pp = -1, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_WB },\n\t\t\t     },\n\t\t.nb_stages = 8,\n\t\t.max_width = 2048,\n\t\t.max_height = 0xFFFF,\n\t},\n\t.dspp = {\n\t\t.count = 1,\n\t\t.base = { 0x54000 },\n\n\t},\n\t.pp = {\n\t\t.count = 1,\n\t\t.base = { 0x70000 },\n\t},\n\t.cdm = {\n\t\t.count = 1,\n\t\t.base = { 0x79200 },\n\t},\n\t.intf = {\n\t\t.base = { 0x6a000, 0x6a800 },\n\t\t.connect = {\n\t\t\t[0] = INTF_DISABLED,\n\t\t\t[1] = INTF_DSI,\n\t\t},\n\t},\n\t.max_clk = 320000000,\n};\n\nstatic const struct mdp5_cfg_hw msm8998_config = {\n\t.name = \"msm8998\",\n\t.mdp = {\n\t\t.count = 1,\n\t\t.caps = MDP_CAP_DSC |\n\t\t\tMDP_CAP_CDM |\n\t\t\tMDP_CAP_SRC_SPLIT |\n\t\t\t0,\n\t},\n\t.ctl = {\n\t\t.count = 5,\n\t\t.base = { 0x01000, 0x01200, 0x01400, 0x01600, 0x01800 },\n\t\t.flush_hw_mask = 0xf7ffffff,\n\t},\n\t.pipe_vig = {\n\t\t.count = 4,\n\t\t.base = { 0x04000, 0x06000, 0x08000, 0x0a000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SCALE\t|\n\t\t\tMDP_PIPE_CAP_CSC\t|\n\t\t\tMDP_PIPE_CAP_DECIMATION\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\t0,\n\t},\n\t.pipe_rgb = {\n\t\t.count = 4,\n\t\t.base = { 0x14000, 0x16000, 0x18000, 0x1a000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SCALE\t|\n\t\t\tMDP_PIPE_CAP_DECIMATION\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\t0,\n\t},\n\t.pipe_dma = {\n\t\t.count = 2,  \n\t\t.base = { 0x24000, 0x26000, 0x28000, 0x2a000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\t0,\n\t},\n\t.pipe_cursor = {\n\t\t.count = 2,\n\t\t.base = { 0x34000, 0x36000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\tMDP_PIPE_CAP_CURSOR\t|\n\t\t\t0,\n\t},\n\n\t.lm = {\n\t\t.count = 6,\n\t\t.base = { 0x44000, 0x45000, 0x46000, 0x47000, 0x48000, 0x49000 },\n\t\t.instances = {\n\t\t\t\t{ .id = 0, .pp = 0, .dspp = 0,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY |\n\t\t\t\t\t  MDP_LM_CAP_PAIR, },\n\t\t\t\t{ .id = 1, .pp = 1, .dspp = 1,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY, },\n\t\t\t\t{ .id = 2, .pp = 2, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY |\n\t\t\t\t\t  MDP_LM_CAP_PAIR, },\n\t\t\t\t{ .id = 3, .pp = -1, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_WB, },\n\t\t\t\t{ .id = 4, .pp = -1, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_WB, },\n\t\t\t\t{ .id = 5, .pp = 3, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY, },\n\t\t\t     },\n\t\t.nb_stages = 8,\n\t\t.max_width = 2560,\n\t\t.max_height = 0xFFFF,\n\t},\n\t.dspp = {\n\t\t.count = 2,\n\t\t.base = { 0x54000, 0x56000 },\n\t},\n\t.ad = {\n\t\t.count = 3,\n\t\t.base = { 0x78000, 0x78800, 0x79000 },\n\t},\n\t.pp = {\n\t\t.count = 4,\n\t\t.base = { 0x70000, 0x70800, 0x71000, 0x71800 },\n\t},\n\t.cdm = {\n\t\t.count = 1,\n\t\t.base = { 0x79200 },\n\t},\n\t.dsc = {\n\t\t.count = 2,\n\t\t.base = { 0x80000, 0x80400 },\n\t},\n\t.intf = {\n\t\t.base = { 0x6a000, 0x6a800, 0x6b000, 0x6b800, 0x6c000 },\n\t\t.connect = {\n\t\t\t[0] = INTF_eDP,\n\t\t\t[1] = INTF_DSI,\n\t\t\t[2] = INTF_DSI,\n\t\t\t[3] = INTF_HDMI,\n\t\t},\n\t},\n\t.max_clk = 412500000,\n};\n\nstatic const struct mdp5_cfg_hw sdm630_config = {\n\t.name = \"sdm630\",\n\t.mdp = {\n\t\t.count = 1,\n\t\t.caps = MDP_CAP_CDM |\n\t\t\tMDP_CAP_SRC_SPLIT |\n\t\t\t0,\n\t},\n\t.ctl = {\n\t\t.count = 5,\n\t\t.base = { 0x01000, 0x01200, 0x01400, 0x01600, 0x01800 },\n\t\t.flush_hw_mask = 0xf4ffffff,\n\t},\n\t.pipe_vig = {\n\t\t.count = 1,\n\t\t.base = { 0x04000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SCALE\t|\n\t\t\tMDP_PIPE_CAP_CSC\t|\n\t\t\tMDP_PIPE_CAP_DECIMATION\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\t0,\n\t},\n\t.pipe_rgb = {\n\t\t.count = 4,\n\t\t.base = { 0x14000, 0x16000, 0x18000, 0x1a000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SCALE\t|\n\t\t\tMDP_PIPE_CAP_DECIMATION\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\t0,\n\t},\n\t.pipe_dma = {\n\t\t.count = 2,  \n\t\t.base = { 0x24000, 0x26000, 0x28000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\t0,\n\t},\n\t.pipe_cursor = {\n\t\t.count = 1,\n\t\t.base = { 0x34000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\tMDP_PIPE_CAP_CURSOR\t|\n\t\t\t0,\n\t},\n\n\t.lm = {\n\t\t.count = 2,\n\t\t.base = { 0x44000, 0x46000 },\n\t\t.instances = {\n\t\t\t\t{ .id = 0, .pp = 0, .dspp = 0,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY |\n\t\t\t\t\t  MDP_LM_CAP_PAIR, },\n\t\t\t\t{ .id = 1, .pp = 1, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_WB, },\n\t\t\t\t},\n\t\t.nb_stages = 8,\n\t\t.max_width = 2048,\n\t\t.max_height = 0xFFFF,\n\t},\n\t.dspp = {\n\t\t.count = 1,\n\t\t.base = { 0x54000 },\n\t},\n\t.ad = {\n\t\t.count = 2,\n\t\t.base = { 0x78000, 0x78800 },\n\t},\n\t.pp = {\n\t\t.count = 3,\n\t\t.base = { 0x70000, 0x71000, 0x72000 },\n\t},\n\t.cdm = {\n\t\t.count = 1,\n\t\t.base = { 0x79200 },\n\t},\n\t.intf = {\n\t\t.base = { 0x6a000, 0x6a800 },\n\t\t.connect = {\n\t\t\t[0] = INTF_DISABLED,\n\t\t\t[1] = INTF_DSI,\n\t\t},\n\t},\n\t.max_clk = 412500000,\n};\n\nstatic const struct mdp5_cfg_hw sdm660_config = {\n\t.name = \"sdm660\",\n\t.mdp = {\n\t\t.count = 1,\n\t\t.caps = MDP_CAP_DSC |\n\t\t\tMDP_CAP_CDM |\n\t\t\tMDP_CAP_SRC_SPLIT |\n\t\t\t0,\n\t},\n\t.ctl = {\n\t\t.count = 5,\n\t\t.base = { 0x01000, 0x01200, 0x01400, 0x01600, 0x01800 },\n\t\t.flush_hw_mask = 0xf4ffffff,\n\t},\n\t.pipe_vig = {\n\t\t.count = 2,\n\t\t.base = { 0x04000, 0x6000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SCALE\t|\n\t\t\tMDP_PIPE_CAP_CSC\t|\n\t\t\tMDP_PIPE_CAP_DECIMATION\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\t0,\n\t},\n\t.pipe_rgb = {\n\t\t.count = 4,\n\t\t.base = { 0x14000, 0x16000, 0x18000, 0x1a000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SCALE\t|\n\t\t\tMDP_PIPE_CAP_DECIMATION\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\t0,\n\t},\n\t.pipe_dma = {\n\t\t.count = 2,  \n\t\t.base = { 0x24000, 0x26000, 0x28000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\t0,\n\t},\n\t.pipe_cursor = {\n\t\t.count = 1,\n\t\t.base = { 0x34000 },\n\t\t.caps = MDP_PIPE_CAP_HFLIP\t|\n\t\t\tMDP_PIPE_CAP_VFLIP\t|\n\t\t\tMDP_PIPE_CAP_SW_PIX_EXT\t|\n\t\t\tMDP_PIPE_CAP_CURSOR\t|\n\t\t\t0,\n\t},\n\n\t.lm = {\n\t\t.count = 4,\n\t\t.base = { 0x44000, 0x45000, 0x46000, 0x49000 },\n\t\t.instances = {\n\t\t\t\t{ .id = 0, .pp = 0, .dspp = 0,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY |\n\t\t\t\t\t  MDP_LM_CAP_PAIR, },\n\t\t\t\t{ .id = 1, .pp = 1, .dspp = 1,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY, },\n\t\t\t\t{ .id = 2, .pp = 2, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_DISPLAY |\n\t\t\t\t\t  MDP_LM_CAP_PAIR, },\n\t\t\t\t{ .id = 3, .pp = 3, .dspp = -1,\n\t\t\t\t  .caps = MDP_LM_CAP_WB, },\n\t\t\t\t},\n\t\t.nb_stages = 8,\n\t\t.max_width = 2560,\n\t\t.max_height = 0xFFFF,\n\t},\n\t.dspp = {\n\t\t.count = 2,\n\t\t.base = { 0x54000, 0x56000 },\n\t},\n\t.ad = {\n\t\t.count = 2,\n\t\t.base = { 0x78000, 0x78800 },\n\t},\n\t.pp = {\n\t\t.count = 5,\n\t\t.base = { 0x70000, 0x70800, 0x71000, 0x71800, 0x72000 },\n\t},\n\t.cdm = {\n\t\t.count = 1,\n\t\t.base = { 0x79200 },\n\t},\n\t.dsc = {\n\t\t.count = 2,\n\t\t.base = { 0x80000, 0x80400 },\n\t},\n\t.intf = {\n\t\t.base = { 0x6a000, 0x6a800, 0x6b000, 0x6b800 },\n\t\t.connect = {\n\t\t\t[0] = INTF_DISABLED,\n\t\t\t[1] = INTF_DSI,\n\t\t\t[2] = INTF_DSI,\n\t\t\t[3] = INTF_HDMI,\n\t\t},\n\t},\n\t.max_clk = 412500000,\n};\n\nstatic const struct mdp5_cfg_handler cfg_handlers_v1[] = {\n\t{ .revision = 0, .config = { .hw = &msm8x74v1_config } },\n\t{ .revision = 1, .config = { .hw = &msm8x26_config } },\n\t{ .revision = 2, .config = { .hw = &msm8x74v2_config } },\n\t{ .revision = 3, .config = { .hw = &apq8084_config } },\n\t{ .revision = 6, .config = { .hw = &msm8x16_config } },\n\t{ .revision = 8, .config = { .hw = &msm8x36_config } },\n\t{ .revision = 9, .config = { .hw = &msm8x94_config } },\n\t{ .revision = 7, .config = { .hw = &msm8x96_config } },\n\t{ .revision = 11, .config = { .hw = &msm8x76_config } },\n\t{ .revision = 15, .config = { .hw = &msm8917_config } },\n\t{ .revision = 16, .config = { .hw = &msm8x53_config } },\n};\n\nstatic const struct mdp5_cfg_handler cfg_handlers_v3[] = {\n\t{ .revision = 0, .config = { .hw = &msm8998_config } },\n\t{ .revision = 2, .config = { .hw = &sdm660_config } },\n\t{ .revision = 3, .config = { .hw = &sdm630_config } },\n};\n\nconst struct mdp5_cfg_hw *mdp5_cfg_get_hw_config(struct mdp5_cfg_handler *cfg_handler)\n{\n\treturn cfg_handler->config.hw;\n}\n\nstruct mdp5_cfg *mdp5_cfg_get_config(struct mdp5_cfg_handler *cfg_handler)\n{\n\treturn &cfg_handler->config;\n}\n\nint mdp5_cfg_get_hw_rev(struct mdp5_cfg_handler *cfg_handler)\n{\n\treturn cfg_handler->revision;\n}\n\nvoid mdp5_cfg_destroy(struct mdp5_cfg_handler *cfg_handler)\n{\n\tkfree(cfg_handler);\n}\n\nstruct mdp5_cfg_handler *mdp5_cfg_init(struct mdp5_kms *mdp5_kms,\n\t\tuint32_t major, uint32_t minor)\n{\n\tstruct drm_device *dev = mdp5_kms->dev;\n\tstruct mdp5_cfg_handler *cfg_handler;\n\tconst struct mdp5_cfg_handler *cfg_handlers;\n\tint i, ret = 0, num_handlers;\n\n\tcfg_handler = kzalloc(sizeof(*cfg_handler), GFP_KERNEL);\n\tif (unlikely(!cfg_handler)) {\n\t\tret = -ENOMEM;\n\t\tgoto fail;\n\t}\n\n\tswitch (major) {\n\tcase 1:\n\t\tcfg_handlers = cfg_handlers_v1;\n\t\tnum_handlers = ARRAY_SIZE(cfg_handlers_v1);\n\t\tbreak;\n\tcase 3:\n\t\tcfg_handlers = cfg_handlers_v3;\n\t\tnum_handlers = ARRAY_SIZE(cfg_handlers_v3);\n\t\tbreak;\n\tdefault:\n\t\tDRM_DEV_ERROR(dev->dev, \"unexpected MDP major version: v%d.%d\\n\",\n\t\t\t\tmajor, minor);\n\t\tret = -ENXIO;\n\t\tgoto fail;\n\t}\n\n\t \n\tfor (i = 0; i < num_handlers; i++) {\n\t\tif (cfg_handlers[i].revision != minor)\n\t\t\tcontinue;\n\t\tmdp5_cfg = cfg_handlers[i].config.hw;\n\n\t\tbreak;\n\t}\n\tif (unlikely(!mdp5_cfg)) {\n\t\tDRM_DEV_ERROR(dev->dev, \"unexpected MDP minor revision: v%d.%d\\n\",\n\t\t\t\tmajor, minor);\n\t\tret = -ENXIO;\n\t\tgoto fail;\n\t}\n\n\tcfg_handler->revision = minor;\n\tcfg_handler->config.hw = mdp5_cfg;\n\n\tDBG(\"MDP5: %s hw config selected\", mdp5_cfg->name);\n\n\treturn cfg_handler;\n\nfail:\n\tif (cfg_handler)\n\t\tmdp5_cfg_destroy(cfg_handler);\n\n\treturn ERR_PTR(ret);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}