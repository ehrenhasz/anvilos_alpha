{
  "module_name": "dpu_hw_mdss.h",
  "hash_id": "1656f642a76de92ee31b5e6f64db3f7697cc407598c4c7c6a86e2d2f1a87196c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/msm/disp/dpu1/dpu_hw_mdss.h",
  "human_readable_source": " \n \n\n#ifndef _DPU_HW_MDSS_H\n#define _DPU_HW_MDSS_H\n\n#include <linux/kernel.h>\n#include <linux/err.h>\n\n#include \"msm_drv.h\"\n\n#define DPU_DBG_NAME\t\t\t\"dpu\"\n\n#define DPU_NONE                        0\n\n#ifndef DPU_CSC_MATRIX_COEFF_SIZE\n#define DPU_CSC_MATRIX_COEFF_SIZE\t9\n#endif\n\n#ifndef DPU_CSC_CLAMP_SIZE\n#define DPU_CSC_CLAMP_SIZE\t\t6\n#endif\n\n#ifndef DPU_CSC_BIAS_SIZE\n#define DPU_CSC_BIAS_SIZE\t\t3\n#endif\n\n#ifndef DPU_MAX_PLANES\n#define DPU_MAX_PLANES\t\t\t4\n#endif\n\n#define PIPES_PER_STAGE\t\t\t2\n#ifndef DPU_MAX_DE_CURVES\n#define DPU_MAX_DE_CURVES\t\t3\n#endif\n\nenum dpu_format_flags {\n\tDPU_FORMAT_FLAG_YUV_BIT,\n\tDPU_FORMAT_FLAG_DX_BIT,\n\tDPU_FORMAT_FLAG_COMPRESSED_BIT,\n\tDPU_FORMAT_FLAG_BIT_MAX,\n};\n\n#define DPU_FORMAT_FLAG_YUV\t\tBIT(DPU_FORMAT_FLAG_YUV_BIT)\n#define DPU_FORMAT_FLAG_DX\t\tBIT(DPU_FORMAT_FLAG_DX_BIT)\n#define DPU_FORMAT_FLAG_COMPRESSED\tBIT(DPU_FORMAT_FLAG_COMPRESSED_BIT)\n#define DPU_FORMAT_IS_YUV(X)\t\t\\\n\t(test_bit(DPU_FORMAT_FLAG_YUV_BIT, (X)->flag))\n#define DPU_FORMAT_IS_DX(X)\t\t\\\n\t(test_bit(DPU_FORMAT_FLAG_DX_BIT, (X)->flag))\n#define DPU_FORMAT_IS_LINEAR(X)\t\t((X)->fetch_mode == DPU_FETCH_LINEAR)\n#define DPU_FORMAT_IS_TILE(X) \\\n\t(((X)->fetch_mode == DPU_FETCH_UBWC) && \\\n\t\t\t!test_bit(DPU_FORMAT_FLAG_COMPRESSED_BIT, (X)->flag))\n#define DPU_FORMAT_IS_UBWC(X) \\\n\t(((X)->fetch_mode == DPU_FETCH_UBWC) && \\\n\t\t\ttest_bit(DPU_FORMAT_FLAG_COMPRESSED_BIT, (X)->flag))\n\n#define DPU_BLEND_FG_ALPHA_FG_CONST\t(0 << 0)\n#define DPU_BLEND_FG_ALPHA_BG_CONST\t(1 << 0)\n#define DPU_BLEND_FG_ALPHA_FG_PIXEL\t(2 << 0)\n#define DPU_BLEND_FG_ALPHA_BG_PIXEL\t(3 << 0)\n#define DPU_BLEND_FG_INV_ALPHA\t\t(1 << 2)\n#define DPU_BLEND_FG_MOD_ALPHA\t\t(1 << 3)\n#define DPU_BLEND_FG_INV_MOD_ALPHA\t(1 << 4)\n#define DPU_BLEND_FG_TRANSP_EN\t\t(1 << 5)\n#define DPU_BLEND_BG_ALPHA_FG_CONST\t(0 << 8)\n#define DPU_BLEND_BG_ALPHA_BG_CONST\t(1 << 8)\n#define DPU_BLEND_BG_ALPHA_FG_PIXEL\t(2 << 8)\n#define DPU_BLEND_BG_ALPHA_BG_PIXEL\t(3 << 8)\n#define DPU_BLEND_BG_INV_ALPHA\t\t(1 << 10)\n#define DPU_BLEND_BG_MOD_ALPHA\t\t(1 << 11)\n#define DPU_BLEND_BG_INV_MOD_ALPHA\t(1 << 12)\n#define DPU_BLEND_BG_TRANSP_EN\t\t(1 << 13)\n\n#define DPU_VSYNC0_SOURCE_GPIO\t\t0\n#define DPU_VSYNC1_SOURCE_GPIO\t\t1\n#define DPU_VSYNC2_SOURCE_GPIO\t\t2\n#define DPU_VSYNC_SOURCE_INTF_0\t\t3\n#define DPU_VSYNC_SOURCE_INTF_1\t\t4\n#define DPU_VSYNC_SOURCE_INTF_2\t\t5\n#define DPU_VSYNC_SOURCE_INTF_3\t\t6\n#define DPU_VSYNC_SOURCE_WD_TIMER_4\t11\n#define DPU_VSYNC_SOURCE_WD_TIMER_3\t12\n#define DPU_VSYNC_SOURCE_WD_TIMER_2\t13\n#define DPU_VSYNC_SOURCE_WD_TIMER_1\t14\n#define DPU_VSYNC_SOURCE_WD_TIMER_0\t15\n\nenum dpu_hw_blk_type {\n\tDPU_HW_BLK_TOP = 0,\n\tDPU_HW_BLK_SSPP,\n\tDPU_HW_BLK_LM,\n\tDPU_HW_BLK_CTL,\n\tDPU_HW_BLK_PINGPONG,\n\tDPU_HW_BLK_INTF,\n\tDPU_HW_BLK_WB,\n\tDPU_HW_BLK_DSPP,\n\tDPU_HW_BLK_MERGE_3D,\n\tDPU_HW_BLK_DSC,\n\tDPU_HW_BLK_MAX,\n};\n\nenum dpu_sspp {\n\tSSPP_NONE,\n\tSSPP_VIG0,\n\tSSPP_VIG1,\n\tSSPP_VIG2,\n\tSSPP_VIG3,\n\tSSPP_RGB0,\n\tSSPP_RGB1,\n\tSSPP_RGB2,\n\tSSPP_RGB3,\n\tSSPP_DMA0,\n\tSSPP_DMA1,\n\tSSPP_DMA2,\n\tSSPP_DMA3,\n\tSSPP_DMA4,\n\tSSPP_DMA5,\n\tSSPP_CURSOR0,\n\tSSPP_CURSOR1,\n\tSSPP_MAX\n};\n\nenum dpu_sspp_type {\n\tSSPP_TYPE_VIG,\n\tSSPP_TYPE_RGB,\n\tSSPP_TYPE_DMA,\n\tSSPP_TYPE_CURSOR,\n\tSSPP_TYPE_MAX\n};\n\nenum dpu_lm {\n\tLM_0 = 1,\n\tLM_1,\n\tLM_2,\n\tLM_3,\n\tLM_4,\n\tLM_5,\n\tLM_6,\n\tLM_MAX\n};\n\nenum dpu_stage {\n\tDPU_STAGE_BASE = 0,\n\tDPU_STAGE_0,\n\tDPU_STAGE_1,\n\tDPU_STAGE_2,\n\tDPU_STAGE_3,\n\tDPU_STAGE_4,\n\tDPU_STAGE_5,\n\tDPU_STAGE_6,\n\tDPU_STAGE_7,\n\tDPU_STAGE_8,\n\tDPU_STAGE_9,\n\tDPU_STAGE_10,\n\tDPU_STAGE_MAX\n};\nenum dpu_dspp {\n\tDSPP_0 = 1,\n\tDSPP_1,\n\tDSPP_2,\n\tDSPP_3,\n\tDSPP_MAX\n};\n\nenum dpu_ctl {\n\tCTL_0 = 1,\n\tCTL_1,\n\tCTL_2,\n\tCTL_3,\n\tCTL_4,\n\tCTL_5,\n\tCTL_MAX\n};\n\nenum dpu_dsc {\n\tDSC_NONE = 0,\n\tDSC_0,\n\tDSC_1,\n\tDSC_2,\n\tDSC_3,\n\tDSC_4,\n\tDSC_5,\n\tDSC_MAX\n};\n\nenum dpu_pingpong {\n\tPINGPONG_NONE,\n\tPINGPONG_0,\n\tPINGPONG_1,\n\tPINGPONG_2,\n\tPINGPONG_3,\n\tPINGPONG_4,\n\tPINGPONG_5,\n\tPINGPONG_6,\n\tPINGPONG_7,\n\tPINGPONG_S0,\n\tPINGPONG_MAX\n};\n\nenum dpu_merge_3d {\n\tMERGE_3D_0 = 1,\n\tMERGE_3D_1,\n\tMERGE_3D_2,\n\tMERGE_3D_3,\n\tMERGE_3D_MAX\n};\n\nenum dpu_intf {\n\tINTF_0 = 1,\n\tINTF_1,\n\tINTF_2,\n\tINTF_3,\n\tINTF_4,\n\tINTF_5,\n\tINTF_6,\n\tINTF_7,\n\tINTF_8,\n\tINTF_MAX\n};\n\n \nenum dpu_intf_type {\n\tINTF_NONE = 0x0,\n\tINTF_DSI = 0x1,\n\tINTF_HDMI = 0x3,\n\tINTF_LCDC = 0x5,\n\t \n\tINTF_EDP = 0x9,\n\t \n\tINTF_DP = 0xa,\n\n\t \n\tINTF_WB = 0x100,\n};\n\nenum dpu_intf_mode {\n\tINTF_MODE_NONE = 0,\n\tINTF_MODE_CMD,\n\tINTF_MODE_VIDEO,\n\tINTF_MODE_WB_BLOCK,\n\tINTF_MODE_WB_LINE,\n\tINTF_MODE_MAX\n};\n\nenum dpu_wb {\n\tWB_0 = 1,\n\tWB_1,\n\tWB_2,\n\tWB_3,\n\tWB_MAX\n};\n\nenum dpu_cwb {\n\tCWB_0 = 0x1,\n\tCWB_1,\n\tCWB_2,\n\tCWB_3,\n\tCWB_MAX\n};\n\nenum dpu_wd_timer {\n\tWD_TIMER_0 = 0x1,\n\tWD_TIMER_1,\n\tWD_TIMER_2,\n\tWD_TIMER_3,\n\tWD_TIMER_4,\n\tWD_TIMER_5,\n\tWD_TIMER_MAX\n};\n\nenum dpu_vbif {\n\tVBIF_RT,\n\tVBIF_NRT,\n\tVBIF_MAX,\n};\n\n \nenum {\n\tC0_G_Y = 0,\n\tC1_B_Cb = 1,\n\tC2_R_Cr = 2,\n\tC3_ALPHA = 3\n};\n\n \nenum dpu_plane_type {\n\tDPU_PLANE_INTERLEAVED,\n\tDPU_PLANE_PLANAR,\n\tDPU_PLANE_PSEUDO_PLANAR,\n};\n\n \nenum dpu_chroma_samp_type {\n\tDPU_CHROMA_RGB,\n\tDPU_CHROMA_H2V1,\n\tDPU_CHROMA_H1V2,\n\tDPU_CHROMA_420\n};\n\n \nenum dpu_fetch_type {\n\tDPU_FETCH_LINEAR,\n\tDPU_FETCH_TILE,\n\tDPU_FETCH_UBWC\n};\n\n \nenum {\n\tCOLOR_ALPHA_1BIT = 0,\n\tCOLOR_ALPHA_4BIT = 1,\n\tCOLOR_4BIT = 0,\n\tCOLOR_5BIT = 1,  \n\tCOLOR_6BIT = 2,  \n\tCOLOR_8BIT = 3,  \n};\n\n \nenum dpu_3d_blend_mode {\n\tBLEND_3D_NONE = 0,\n\tBLEND_3D_FRAME_INT,\n\tBLEND_3D_H_ROW_INT,\n\tBLEND_3D_V_ROW_INT,\n\tBLEND_3D_COL_INT,\n\tBLEND_3D_MAX\n};\n\n \nstruct dpu_format {\n\tstruct msm_format base;\n\tenum dpu_plane_type fetch_planes;\n\tu8 element[DPU_MAX_PLANES];\n\tu8 bits[DPU_MAX_PLANES];\n\tenum dpu_chroma_samp_type chroma_sample;\n\tu8 unpack_align_msb;\n\tu8 unpack_tight;\n\tu8 unpack_count;\n\tu8 bpp;\n\tu8 alpha_enable;\n\tu8 num_planes;\n\tenum dpu_fetch_type fetch_mode;\n\tDECLARE_BITMAP(flag, DPU_FORMAT_FLAG_BIT_MAX);\n\tu16 tile_width;\n\tu16 tile_height;\n};\n#define to_dpu_format(x) container_of(x, struct dpu_format, base)\n\n \nstruct dpu_hw_fmt_layout {\n\tconst struct dpu_format *format;\n\tuint32_t num_planes;\n\tuint32_t width;\n\tuint32_t height;\n\tuint32_t total_size;\n\tuint32_t plane_addr[DPU_MAX_PLANES];\n\tuint32_t plane_size[DPU_MAX_PLANES];\n\tuint32_t plane_pitch[DPU_MAX_PLANES];\n};\n\nstruct dpu_csc_cfg {\n\t \n\tuint32_t csc_mv[DPU_CSC_MATRIX_COEFF_SIZE];\n\tuint32_t csc_pre_bv[DPU_CSC_BIAS_SIZE];\n\tuint32_t csc_post_bv[DPU_CSC_BIAS_SIZE];\n\tuint32_t csc_pre_lv[DPU_CSC_CLAMP_SIZE];\n\tuint32_t csc_post_lv[DPU_CSC_CLAMP_SIZE];\n};\n\n \nstruct dpu_mdss_color {\n\tu32 color_0;\n\tu32 color_1;\n\tu32 color_2;\n\tu32 color_3;\n};\n\n \n#define DPU_DBG_MASK_NONE     (1 << 0)\n#define DPU_DBG_MASK_INTF     (1 << 1)\n#define DPU_DBG_MASK_LM       (1 << 2)\n#define DPU_DBG_MASK_CTL      (1 << 3)\n#define DPU_DBG_MASK_PINGPONG (1 << 4)\n#define DPU_DBG_MASK_SSPP     (1 << 5)\n#define DPU_DBG_MASK_WB       (1 << 6)\n#define DPU_DBG_MASK_TOP      (1 << 7)\n#define DPU_DBG_MASK_VBIF     (1 << 8)\n#define DPU_DBG_MASK_ROT      (1 << 9)\n#define DPU_DBG_MASK_DSPP     (1 << 10)\n#define DPU_DBG_MASK_DSC      (1 << 11)\n\n \nstruct dpu_hw_tear_check {\n\t \n\tu32 vsync_count;\n\tu32 sync_cfg_height;\n\tu32 vsync_init_val;\n\tu32 sync_threshold_start;\n\tu32 sync_threshold_continue;\n\tu32 start_pos;\n\tu32 rd_ptr_irq;\n\tu8 hw_vsync_mode;\n};\n\n \nstruct dpu_hw_pp_vsync_info {\n\tu32 rd_ptr_init_val;\n\tu32 rd_ptr_frame_count;\n\tu32 rd_ptr_line_count;\n\tu32 wr_ptr_line_count;\n\tu32 intf_frame_count;\n};\n\n#endif   \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}