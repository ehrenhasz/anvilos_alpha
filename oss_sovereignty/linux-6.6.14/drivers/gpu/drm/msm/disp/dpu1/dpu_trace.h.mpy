{
  "module_name": "dpu_trace.h",
  "hash_id": "6d39a2d13b2f7aeb5712b03cd285b992b2ae89c140d37dfdd4769e65f52304b5",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/msm/disp/dpu1/dpu_trace.h",
  "human_readable_source": " \n \n\n#if !defined(_DPU_TRACE_H_) || defined(TRACE_HEADER_MULTI_READ)\n#define _DPU_TRACE_H_\n\n#include <linux/stringify.h>\n#include <linux/types.h>\n#include <linux/tracepoint.h>\n\n#include <drm/drm_rect.h>\n#include \"dpu_crtc.h\"\n#include \"dpu_encoder_phys.h\"\n#include \"dpu_hw_mdss.h\"\n#include \"dpu_hw_vbif.h\"\n#include \"dpu_plane.h\"\n\n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM dpu\n#undef TRACE_INCLUDE_FILE\n#define TRACE_INCLUDE_FILE dpu_trace\n\nTRACE_EVENT(dpu_perf_set_qos_luts,\n\tTP_PROTO(u32 pnum, u32 fmt, bool rt, u32 fl,\n\t\tu32 lut, u32 lut_usage),\n\tTP_ARGS(pnum, fmt, rt, fl, lut, lut_usage),\n\tTP_STRUCT__entry(\n\t\t\t__field(u32, pnum)\n\t\t\t__field(u32, fmt)\n\t\t\t__field(bool, rt)\n\t\t\t__field(u32, fl)\n\t\t\t__field(u64, lut)\n\t\t\t__field(u32, lut_usage)\n\t),\n\tTP_fast_assign(\n\t\t\t__entry->pnum = pnum;\n\t\t\t__entry->fmt = fmt;\n\t\t\t__entry->rt = rt;\n\t\t\t__entry->fl = fl;\n\t\t\t__entry->lut = lut;\n\t\t\t__entry->lut_usage = lut_usage;\n\t),\n\tTP_printk(\"pnum=%d fmt=%x rt=%d fl=%d lut=0x%llx lut_usage=%d\",\n\t\t\t__entry->pnum, __entry->fmt,\n\t\t\t__entry->rt, __entry->fl,\n\t\t\t__entry->lut, __entry->lut_usage)\n);\n\nTRACE_EVENT(dpu_perf_set_danger_luts,\n\tTP_PROTO(u32 pnum, u32 fmt, u32 mode, u32 danger_lut,\n\t\tu32 safe_lut),\n\tTP_ARGS(pnum, fmt, mode, danger_lut, safe_lut),\n\tTP_STRUCT__entry(\n\t\t\t__field(u32, pnum)\n\t\t\t__field(u32, fmt)\n\t\t\t__field(u32, mode)\n\t\t\t__field(u32, danger_lut)\n\t\t\t__field(u32, safe_lut)\n\t),\n\tTP_fast_assign(\n\t\t\t__entry->pnum = pnum;\n\t\t\t__entry->fmt = fmt;\n\t\t\t__entry->mode = mode;\n\t\t\t__entry->danger_lut = danger_lut;\n\t\t\t__entry->safe_lut = safe_lut;\n\t),\n\tTP_printk(\"pnum=%d fmt=%x mode=%d luts[0x%x, 0x%x]\",\n\t\t\t__entry->pnum, __entry->fmt,\n\t\t\t__entry->mode, __entry->danger_lut,\n\t\t\t__entry->safe_lut)\n);\n\nTRACE_EVENT(dpu_perf_set_ot,\n\tTP_PROTO(u32 pnum, u32 xin_id, u32 rd_lim, u32 vbif_idx),\n\tTP_ARGS(pnum, xin_id, rd_lim, vbif_idx),\n\tTP_STRUCT__entry(\n\t\t\t__field(u32, pnum)\n\t\t\t__field(u32, xin_id)\n\t\t\t__field(u32, rd_lim)\n\t\t\t__field(u32, vbif_idx)\n\t),\n\tTP_fast_assign(\n\t\t\t__entry->pnum = pnum;\n\t\t\t__entry->xin_id = xin_id;\n\t\t\t__entry->rd_lim = rd_lim;\n\t\t\t__entry->vbif_idx = vbif_idx;\n\t),\n\tTP_printk(\"pnum:%d xin_id:%d ot:%d vbif:%d\",\n\t\t\t__entry->pnum, __entry->xin_id, __entry->rd_lim,\n\t\t\t__entry->vbif_idx)\n)\n\nTRACE_EVENT(dpu_cmd_release_bw,\n\tTP_PROTO(u32 crtc_id),\n\tTP_ARGS(crtc_id),\n\tTP_STRUCT__entry(\n\t\t\t__field(u32, crtc_id)\n\t),\n\tTP_fast_assign(\n\t\t\t__entry->crtc_id = crtc_id;\n\t),\n\tTP_printk(\"crtc:%d\", __entry->crtc_id)\n);\n\nTRACE_EVENT(tracing_mark_write,\n\tTP_PROTO(int pid, const char *name, bool trace_begin),\n\tTP_ARGS(pid, name, trace_begin),\n\tTP_STRUCT__entry(\n\t\t\t__field(int, pid)\n\t\t\t__string(trace_name, name)\n\t\t\t__field(bool, trace_begin)\n\t),\n\tTP_fast_assign(\n\t\t\t__entry->pid = pid;\n\t\t\t__assign_str(trace_name, name);\n\t\t\t__entry->trace_begin = trace_begin;\n\t),\n\tTP_printk(\"%s|%d|%s\", __entry->trace_begin ? \"B\" : \"E\",\n\t\t__entry->pid, __get_str(trace_name))\n)\n\nTRACE_EVENT(dpu_trace_counter,\n\tTP_PROTO(int pid, char *name, int value),\n\tTP_ARGS(pid, name, value),\n\tTP_STRUCT__entry(\n\t\t\t__field(int, pid)\n\t\t\t__string(counter_name, name)\n\t\t\t__field(int, value)\n\t),\n\tTP_fast_assign(\n\t\t\t__entry->pid = current->tgid;\n\t\t\t__assign_str(counter_name, name);\n\t\t\t__entry->value = value;\n\t),\n\tTP_printk(\"%d|%s|%d\", __entry->pid,\n\t\t\t__get_str(counter_name), __entry->value)\n)\n\nTRACE_EVENT(dpu_perf_crtc_update,\n\tTP_PROTO(u32 crtc, u64 bw_ctl, u32 core_clk_rate,\n\t\t\tbool stop_req, bool update_bus, bool update_clk),\n\tTP_ARGS(crtc, bw_ctl, core_clk_rate, stop_req, update_bus, update_clk),\n\tTP_STRUCT__entry(\n\t\t\t__field(u32, crtc)\n\t\t\t__field(u64, bw_ctl)\n\t\t\t__field(u32, core_clk_rate)\n\t\t\t__field(bool, stop_req)\n\t\t\t__field(u32, update_bus)\n\t\t\t__field(u32, update_clk)\n\t),\n\tTP_fast_assign(\n\t\t\t__entry->crtc = crtc;\n\t\t\t__entry->bw_ctl = bw_ctl;\n\t\t\t__entry->core_clk_rate = core_clk_rate;\n\t\t\t__entry->stop_req = stop_req;\n\t\t\t__entry->update_bus = update_bus;\n\t\t\t__entry->update_clk = update_clk;\n\t),\n\t TP_printk(\n\t\t\"crtc=%d bw_ctl=%llu clk_rate=%u stop_req=%d u_bus=%d u_clk=%d\",\n\t\t\t__entry->crtc,\n\t\t\t__entry->bw_ctl,\n\t\t\t__entry->core_clk_rate,\n\t\t\t__entry->stop_req,\n\t\t\t__entry->update_bus,\n\t\t\t__entry->update_clk)\n);\n\nDECLARE_EVENT_CLASS(dpu_irq_template,\n\tTP_PROTO(int irq_idx),\n\tTP_ARGS(irq_idx),\n\tTP_STRUCT__entry(\n\t\t__field(\tint,\t\t\tirq_idx\t\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->irq_idx = irq_idx;\n\t),\n\tTP_printk(\"irq=%d\", __entry->irq_idx)\n);\nDEFINE_EVENT(dpu_irq_template, dpu_irq_register_success,\n\tTP_PROTO(int irq_idx),\n\tTP_ARGS(irq_idx)\n);\nDEFINE_EVENT(dpu_irq_template, dpu_irq_unregister_success,\n\tTP_PROTO(int irq_idx),\n\tTP_ARGS(irq_idx)\n);\n\nTRACE_EVENT(dpu_enc_irq_wait_success,\n\tTP_PROTO(uint32_t drm_id, void *func,\n\t\t int irq_idx, enum dpu_pingpong pp_idx, int atomic_cnt),\n\tTP_ARGS(drm_id, func, irq_idx, pp_idx, atomic_cnt),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\t\tdrm_id\t\t)\n\t\t__field(\tvoid *,\t\t\tfunc\t\t)\n\t\t__field(\tint,\t\t\tirq_idx\t\t)\n\t\t__field(\tenum dpu_pingpong,\tpp_idx\t\t)\n\t\t__field(\tint,\t\t\tatomic_cnt\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->drm_id = drm_id;\n\t\t__entry->func = func;\n\t\t__entry->irq_idx = irq_idx;\n\t\t__entry->pp_idx = pp_idx;\n\t\t__entry->atomic_cnt = atomic_cnt;\n\t),\n\tTP_printk(\"id=%u, callback=%ps, irq=%d, pp=%d, atomic_cnt=%d\",\n\t\t  __entry->drm_id, __entry->func,\n\t\t  __entry->irq_idx, __entry->pp_idx, __entry->atomic_cnt)\n);\n\nDECLARE_EVENT_CLASS(dpu_drm_obj_template,\n\tTP_PROTO(uint32_t drm_id),\n\tTP_ARGS(drm_id),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\t\tdrm_id\t\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->drm_id = drm_id;\n\t),\n\tTP_printk(\"id=%u\", __entry->drm_id)\n);\nDEFINE_EVENT(dpu_drm_obj_template, dpu_enc_atomic_check,\n\tTP_PROTO(uint32_t drm_id),\n\tTP_ARGS(drm_id)\n);\nDEFINE_EVENT(dpu_drm_obj_template, dpu_enc_mode_set,\n\tTP_PROTO(uint32_t drm_id),\n\tTP_ARGS(drm_id)\n);\nDEFINE_EVENT(dpu_drm_obj_template, dpu_enc_disable,\n\tTP_PROTO(uint32_t drm_id),\n\tTP_ARGS(drm_id)\n);\nDEFINE_EVENT(dpu_drm_obj_template, dpu_enc_kickoff,\n\tTP_PROTO(uint32_t drm_id),\n\tTP_ARGS(drm_id)\n);\nDEFINE_EVENT(dpu_drm_obj_template, dpu_enc_prepare_kickoff,\n\tTP_PROTO(uint32_t drm_id),\n\tTP_ARGS(drm_id)\n);\nDEFINE_EVENT(dpu_drm_obj_template, dpu_enc_prepare_kickoff_reset,\n\tTP_PROTO(uint32_t drm_id),\n\tTP_ARGS(drm_id)\n);\nDEFINE_EVENT(dpu_drm_obj_template, dpu_crtc_complete_flip,\n\tTP_PROTO(uint32_t drm_id),\n\tTP_ARGS(drm_id)\n);\nDEFINE_EVENT(dpu_drm_obj_template, dpu_crtc_vblank_cb,\n\tTP_PROTO(uint32_t drm_id),\n\tTP_ARGS(drm_id)\n);\nDEFINE_EVENT(dpu_drm_obj_template, dpu_crtc_complete_commit,\n\tTP_PROTO(uint32_t drm_id),\n\tTP_ARGS(drm_id)\n);\nDEFINE_EVENT(dpu_drm_obj_template, dpu_kms_commit,\n\tTP_PROTO(uint32_t drm_id),\n\tTP_ARGS(drm_id)\n);\nDEFINE_EVENT(dpu_drm_obj_template, dpu_kms_wait_for_commit_done,\n\tTP_PROTO(uint32_t drm_id),\n\tTP_ARGS(drm_id)\n);\nDEFINE_EVENT(dpu_drm_obj_template, dpu_crtc_runtime_resume,\n\tTP_PROTO(uint32_t drm_id),\n\tTP_ARGS(drm_id)\n);\n\nTRACE_EVENT(dpu_enc_enable,\n\tTP_PROTO(uint32_t drm_id, int hdisplay, int vdisplay),\n\tTP_ARGS(drm_id, hdisplay, vdisplay),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\t\tdrm_id\t\t)\n\t\t__field(\tint,\t\t\thdisplay\t)\n\t\t__field(\tint,\t\t\tvdisplay\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->drm_id = drm_id;\n\t\t__entry->hdisplay = hdisplay;\n\t\t__entry->vdisplay = vdisplay;\n\t),\n\tTP_printk(\"id=%u, mode=%dx%d\",\n\t\t  __entry->drm_id, __entry->hdisplay, __entry->vdisplay)\n);\n\nDECLARE_EVENT_CLASS(dpu_enc_keyval_template,\n\tTP_PROTO(uint32_t drm_id, int val),\n\tTP_ARGS(drm_id, val),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\tdrm_id\t)\n\t\t__field(\tint,\t\tval\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->drm_id = drm_id;\n\t\t__entry->val = val;\n\t),\n\tTP_printk(\"id=%u, val=%d\", __entry->drm_id, __entry->val)\n);\nDEFINE_EVENT(dpu_enc_keyval_template, dpu_enc_underrun_cb,\n\tTP_PROTO(uint32_t drm_id, int count),\n\tTP_ARGS(drm_id, count)\n);\nDEFINE_EVENT(dpu_enc_keyval_template, dpu_enc_trigger_start,\n\tTP_PROTO(uint32_t drm_id, int ctl_idx),\n\tTP_ARGS(drm_id, ctl_idx)\n);\n\nTRACE_EVENT(dpu_enc_atomic_check_flags,\n\tTP_PROTO(uint32_t drm_id, unsigned int flags),\n\tTP_ARGS(drm_id, flags),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\t\tdrm_id\t\t)\n\t\t__field(\tunsigned int,\t\tflags\t\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->drm_id = drm_id;\n\t\t__entry->flags = flags;\n\t),\n\tTP_printk(\"id=%u, flags=%u\",\n\t\t  __entry->drm_id, __entry->flags)\n);\n\nDECLARE_EVENT_CLASS(dpu_enc_id_enable_template,\n\tTP_PROTO(uint32_t drm_id, bool enable),\n\tTP_ARGS(drm_id, enable),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\t\tdrm_id\t\t)\n\t\t__field(\tbool,\t\t\tenable\t\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->drm_id = drm_id;\n\t\t__entry->enable = enable;\n\t),\n\tTP_printk(\"id=%u, enable=%s\",\n\t\t  __entry->drm_id, __entry->enable ? \"true\" : \"false\")\n);\nDEFINE_EVENT(dpu_enc_id_enable_template, dpu_enc_rc_helper,\n\tTP_PROTO(uint32_t drm_id, bool enable),\n\tTP_ARGS(drm_id, enable)\n);\nDEFINE_EVENT(dpu_enc_id_enable_template, dpu_enc_vblank_cb,\n\tTP_PROTO(uint32_t drm_id, bool enable),\n\tTP_ARGS(drm_id, enable)\n);\nDEFINE_EVENT(dpu_enc_id_enable_template, dpu_enc_frame_event_cb,\n\tTP_PROTO(uint32_t drm_id, bool enable),\n\tTP_ARGS(drm_id, enable)\n);\nDEFINE_EVENT(dpu_enc_id_enable_template, dpu_enc_phys_cmd_connect_te,\n\tTP_PROTO(uint32_t drm_id, bool enable),\n\tTP_ARGS(drm_id, enable)\n);\n\nTRACE_EVENT(dpu_enc_rc,\n\tTP_PROTO(uint32_t drm_id, u32 sw_event, bool idle_pc_supported,\n\t\t int rc_state, const char *stage),\n\tTP_ARGS(drm_id, sw_event, idle_pc_supported, rc_state, stage),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\tdrm_id\t\t\t)\n\t\t__field(\tu32,\t\tsw_event\t\t)\n\t\t__field(\tbool,\t\tidle_pc_supported\t)\n\t\t__field(\tint,\t\trc_state\t\t)\n\t\t__string(\tstage_str,\tstage\t\t\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->drm_id = drm_id;\n\t\t__entry->sw_event = sw_event;\n\t\t__entry->idle_pc_supported = idle_pc_supported;\n\t\t__entry->rc_state = rc_state;\n\t\t__assign_str(stage_str, stage);\n\t),\n\tTP_printk(\"%s: id:%u, sw_event:%d, idle_pc_supported:%s, rc_state:%d\",\n\t\t  __get_str(stage_str), __entry->drm_id, __entry->sw_event,\n\t\t  __entry->idle_pc_supported ? \"true\" : \"false\",\n\t\t  __entry->rc_state)\n);\n\nTRACE_EVENT(dpu_enc_frame_done_cb_not_busy,\n\tTP_PROTO(uint32_t drm_id, u32 event, char *intf_mode, enum dpu_intf intf_idx,\n\t\t\tenum dpu_wb wb_idx),\n\tTP_ARGS(drm_id, event, intf_mode, intf_idx, wb_idx),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\tdrm_id\t\t)\n\t\t__field(\tu32,\t\tevent\t\t)\n\t\t__string(\tintf_mode_str,\tintf_mode\t)\n\t\t__field(\tenum dpu_intf,\tintf_idx\t)\n\t\t__field(\tenum dpu_wb,\twb_idx\t\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->drm_id = drm_id;\n\t\t__entry->event = event;\n\t\t__assign_str(intf_mode_str, intf_mode);\n\t\t__entry->intf_idx = intf_idx;\n\t\t__entry->wb_idx = wb_idx;\n\t),\n\tTP_printk(\"id=%u, event=%u, intf_mode=%s intf=%d wb=%d\", __entry->drm_id,\n\t\t\t__entry->event, __get_str(intf_mode_str),\n\t\t\t__entry->intf_idx, __entry->wb_idx)\n);\n\nTRACE_EVENT(dpu_enc_frame_done_cb,\n\tTP_PROTO(uint32_t drm_id, unsigned int idx,\n\t\t unsigned long frame_busy_mask),\n\tTP_ARGS(drm_id, idx, frame_busy_mask),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\t\tdrm_id\t\t)\n\t\t__field(\tunsigned int,\t\tidx\t\t)\n\t\t__field(\tunsigned long,\t\tframe_busy_mask\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->drm_id = drm_id;\n\t\t__entry->idx = idx;\n\t\t__entry->frame_busy_mask = frame_busy_mask;\n\t),\n\tTP_printk(\"id=%u, idx=%u, frame_busy_mask=%lx\", __entry->drm_id,\n\t\t  __entry->idx, __entry->frame_busy_mask)\n);\n\nTRACE_EVENT(dpu_enc_trigger_flush,\n\tTP_PROTO(uint32_t drm_id, char *intf_mode, enum dpu_intf intf_idx, enum dpu_wb wb_idx,\n\t\t int pending_kickoff_cnt, int ctl_idx, u32 extra_flush_bits,\n\t\t u32 pending_flush_ret),\n\tTP_ARGS(drm_id, intf_mode, intf_idx, wb_idx, pending_kickoff_cnt, ctl_idx,\n\t\textra_flush_bits, pending_flush_ret),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\tdrm_id\t\t\t)\n\t\t__string(\tintf_mode_str,\tintf_mode\t\t)\n\t\t__field(\tenum dpu_intf,\tintf_idx\t\t)\n\t\t__field(\tenum dpu_wb,\twb_idx\t\t\t)\n\t\t__field(\tint,\t\tpending_kickoff_cnt\t)\n\t\t__field(\tint,\t\tctl_idx\t\t\t)\n\t\t__field(\tu32,\t\textra_flush_bits\t)\n\t\t__field(\tu32,\t\tpending_flush_ret\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->drm_id = drm_id;\n\t\t__assign_str(intf_mode_str, intf_mode);\n\t\t__entry->intf_idx = intf_idx;\n\t\t__entry->wb_idx = wb_idx;\n\t\t__entry->pending_kickoff_cnt = pending_kickoff_cnt;\n\t\t__entry->ctl_idx = ctl_idx;\n\t\t__entry->extra_flush_bits = extra_flush_bits;\n\t\t__entry->pending_flush_ret = pending_flush_ret;\n\t),\n\tTP_printk(\"id=%u, intf_mode=%s, intf_idx=%d, wb_idx=%d, pending_kickoff_cnt=%d ctl_idx=%d \"\n\t\t  \"extra_flush_bits=0x%x pending_flush_ret=0x%x\",\n\t\t  __entry->drm_id, __get_str(intf_mode_str), __entry->intf_idx, __entry->wb_idx,\n\t\t  __entry->pending_kickoff_cnt, __entry->ctl_idx,\n\t\t  __entry->extra_flush_bits, __entry->pending_flush_ret)\n);\n\nDECLARE_EVENT_CLASS(dpu_id_event_template,\n\tTP_PROTO(uint32_t drm_id, u32 event),\n\tTP_ARGS(drm_id, event),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\tdrm_id\t)\n\t\t__field(\tu32,\t\tevent\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->drm_id = drm_id;\n\t\t__entry->event = event;\n\t),\n\tTP_printk(\"id=%u, event=%u\", __entry->drm_id, __entry->event)\n);\nDEFINE_EVENT(dpu_id_event_template, dpu_enc_frame_done_timeout,\n\tTP_PROTO(uint32_t drm_id, u32 event),\n\tTP_ARGS(drm_id, event)\n);\nDEFINE_EVENT(dpu_id_event_template, dpu_crtc_frame_event_cb,\n\tTP_PROTO(uint32_t drm_id, u32 event),\n\tTP_ARGS(drm_id, event)\n);\nDEFINE_EVENT(dpu_id_event_template, dpu_crtc_frame_event_done,\n\tTP_PROTO(uint32_t drm_id, u32 event),\n\tTP_ARGS(drm_id, event)\n);\nDEFINE_EVENT(dpu_id_event_template, dpu_crtc_frame_event_more_pending,\n\tTP_PROTO(uint32_t drm_id, u32 event),\n\tTP_ARGS(drm_id, event)\n);\n\nTRACE_EVENT(dpu_enc_wait_event_timeout,\n\tTP_PROTO(uint32_t drm_id, int irq_idx, int rc, s64 time,\n\t\t s64 expected_time, int atomic_cnt),\n\tTP_ARGS(drm_id, irq_idx, rc, time, expected_time, atomic_cnt),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\tdrm_id\t\t)\n\t\t__field(\tint,\t\tirq_idx\t\t)\n\t\t__field(\tint,\t\trc\t\t)\n\t\t__field(\ts64,\t\ttime\t\t)\n\t\t__field(\ts64,\t\texpected_time\t)\n\t\t__field(\tint,\t\tatomic_cnt\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->drm_id = drm_id;\n\t\t__entry->irq_idx = irq_idx;\n\t\t__entry->rc = rc;\n\t\t__entry->time = time;\n\t\t__entry->expected_time = expected_time;\n\t\t__entry->atomic_cnt = atomic_cnt;\n\t),\n\tTP_printk(\"id=%u, irq_idx=%d, rc=%d, time=%lld, expected=%lld cnt=%d\",\n\t\t  __entry->drm_id, __entry->irq_idx, __entry->rc, __entry->time,\n\t\t  __entry->expected_time, __entry->atomic_cnt)\n);\n\nTRACE_EVENT(dpu_enc_phys_cmd_irq_ctrl,\n\tTP_PROTO(uint32_t drm_id, enum dpu_pingpong pp, bool enable,\n\t\t int refcnt),\n\tTP_ARGS(drm_id, pp, enable, refcnt),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\t\tdrm_id\t)\n\t\t__field(\tenum dpu_pingpong,\tpp\t)\n\t\t__field(\tbool,\t\t\tenable\t)\n\t\t__field(\tint,\t\t\trefcnt\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->drm_id = drm_id;\n\t\t__entry->pp = pp;\n\t\t__entry->enable = enable;\n\t\t__entry->refcnt = refcnt;\n\t),\n\tTP_printk(\"id=%u, pp=%d, enable=%s, refcnt=%d\", __entry->drm_id,\n\t\t  __entry->pp, __entry->enable ? \"true\" : \"false\",\n\t\t  __entry->refcnt)\n);\n\nTRACE_EVENT(dpu_enc_phys_cmd_pp_tx_done,\n\tTP_PROTO(uint32_t drm_id, enum dpu_pingpong pp, int new_count,\n\t\t u32 event),\n\tTP_ARGS(drm_id, pp, new_count, event),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\t\tdrm_id\t\t)\n\t\t__field(\tenum dpu_pingpong,\tpp\t\t)\n\t\t__field(\tint,\t\t\tnew_count\t)\n\t\t__field(\tu32,\t\t\tevent\t\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->drm_id = drm_id;\n\t\t__entry->pp = pp;\n\t\t__entry->new_count = new_count;\n\t\t__entry->event = event;\n\t),\n\tTP_printk(\"id=%u, pp=%d, new_count=%d, event=%u\", __entry->drm_id,\n\t\t  __entry->pp, __entry->new_count, __entry->event)\n);\n\nTRACE_EVENT(dpu_enc_phys_cmd_pdone_timeout,\n\tTP_PROTO(uint32_t drm_id, enum dpu_pingpong pp, int timeout_count,\n\t\t int kickoff_count, u32 event),\n\tTP_ARGS(drm_id, pp, timeout_count, kickoff_count, event),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\t\tdrm_id\t\t)\n\t\t__field(\tenum dpu_pingpong,\tpp\t\t)\n\t\t__field(\tint,\t\t\ttimeout_count\t)\n\t\t__field(\tint,\t\t\tkickoff_count\t)\n\t\t__field(\tu32,\t\t\tevent\t\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->drm_id = drm_id;\n\t\t__entry->pp = pp;\n\t\t__entry->timeout_count = timeout_count;\n\t\t__entry->kickoff_count = kickoff_count;\n\t\t__entry->event = event;\n\t),\n\tTP_printk(\"id=%u, pp=%d, timeout_count=%d, kickoff_count=%d, event=%u\",\n\t\t  __entry->drm_id, __entry->pp, __entry->timeout_count,\n\t\t  __entry->kickoff_count, __entry->event)\n);\n\nTRACE_EVENT(dpu_enc_phys_vid_post_kickoff,\n\tTP_PROTO(uint32_t drm_id, enum dpu_intf intf_idx),\n\tTP_ARGS(drm_id, intf_idx),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\tdrm_id\t\t\t)\n\t\t__field(\tenum dpu_intf,\tintf_idx\t\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->drm_id = drm_id;\n\t\t__entry->intf_idx = intf_idx;\n\t),\n\tTP_printk(\"id=%u, intf_idx=%d\", __entry->drm_id, __entry->intf_idx)\n);\n\nTRACE_EVENT(dpu_enc_phys_vid_irq_ctrl,\n\tTP_PROTO(uint32_t drm_id, enum dpu_intf intf_idx, bool enable,\n\t\t int refcnt),\n\tTP_ARGS(drm_id, intf_idx, enable, refcnt),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\tdrm_id\t\t)\n\t\t__field(\tenum dpu_intf,\tintf_idx\t)\n\t\t__field(\tbool,\t\tenable\t\t)\n\t\t__field(\tint,\t\trefcnt\t\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->drm_id = drm_id;\n\t\t__entry->intf_idx = intf_idx;\n\t\t__entry->enable = enable;\n\t\t__entry->refcnt = refcnt;\n\t),\n\tTP_printk(\"id=%u, intf_idx=%d enable=%s refcnt=%d\", __entry->drm_id,\n\t\t  __entry->intf_idx, __entry->enable ? \"true\" : \"false\",\n\t\t  __entry->drm_id)\n);\n\nTRACE_EVENT(dpu_crtc_setup_mixer,\n\tTP_PROTO(uint32_t crtc_id, uint32_t plane_id,\n\t\t struct drm_plane_state *state, struct dpu_plane_state *pstate,\n\t\t uint32_t stage_idx, uint32_t pixel_format,\n\t\t uint64_t modifier),\n\tTP_ARGS(crtc_id, plane_id, state, pstate, stage_idx,\n\t\tpixel_format, modifier),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\t\tcrtc_id\t\t)\n\t\t__field(\tuint32_t,\t\tplane_id\t)\n\t\t__field(\tuint32_t,\t\tfb_id\t\t)\n\t\t__field_struct(\tstruct drm_rect,\tsrc_rect\t)\n\t\t__field_struct(\tstruct drm_rect,\tdst_rect\t)\n\t\t__field(\tuint32_t,\t\tstage_idx\t)\n\t\t__field(\tenum dpu_stage,\t\tstage\t\t)\n\t\t__field(\tenum dpu_sspp,\t\tsspp\t\t)\n\t\t__field(\tuint32_t,\t\tmultirect_idx\t)\n\t\t__field(\tuint32_t,\t\tmultirect_mode\t)\n\t\t__field(\tuint32_t,\t\tpixel_format\t)\n\t\t__field(\tuint64_t,\t\tmodifier\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->crtc_id = crtc_id;\n\t\t__entry->plane_id = plane_id;\n\t\t__entry->fb_id = state ? state->fb->base.id : 0;\n\t\t__entry->src_rect = drm_plane_state_src(state);\n\t\t__entry->dst_rect = drm_plane_state_dest(state);\n\t\t__entry->stage_idx = stage_idx;\n\t\t__entry->stage = pstate->stage;\n\t\t__entry->sspp = pstate->pipe.sspp->idx;\n\t\t__entry->multirect_idx = pstate->pipe.multirect_index;\n\t\t__entry->multirect_mode = pstate->pipe.multirect_mode;\n\t\t__entry->pixel_format = pixel_format;\n\t\t__entry->modifier = modifier;\n\t),\n\tTP_printk(\"crtc_id:%u plane_id:%u fb_id:%u src:\" DRM_RECT_FP_FMT\n\t\t  \" dst:\" DRM_RECT_FMT \" stage_idx:%u stage:%d, sspp:%d \"\n\t\t  \"multirect_index:%d multirect_mode:%u pix_format:%u \"\n\t\t  \"modifier:%llu\",\n\t\t  __entry->crtc_id, __entry->plane_id, __entry->fb_id,\n\t\t  DRM_RECT_FP_ARG(&__entry->src_rect),\n\t\t  DRM_RECT_ARG(&__entry->dst_rect),\n\t\t  __entry->stage_idx, __entry->stage, __entry->sspp,\n\t\t  __entry->multirect_idx, __entry->multirect_mode,\n\t\t  __entry->pixel_format, __entry->modifier)\n);\n\nTRACE_EVENT(dpu_crtc_setup_lm_bounds,\n\tTP_PROTO(uint32_t drm_id, int mixer, struct drm_rect *bounds),\n\tTP_ARGS(drm_id, mixer, bounds),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\t\tdrm_id\t)\n\t\t__field(\tint,\t\t\tmixer\t)\n\t\t__field_struct(\tstruct drm_rect,\tbounds\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->drm_id = drm_id;\n\t\t__entry->mixer = mixer;\n\t\t__entry->bounds = *bounds;\n\t),\n\tTP_printk(\"id:%u mixer:%d bounds:\" DRM_RECT_FMT, __entry->drm_id,\n\t\t  __entry->mixer, DRM_RECT_ARG(&__entry->bounds))\n);\n\nTRACE_EVENT(dpu_crtc_vblank_enable,\n\tTP_PROTO(uint32_t drm_id, uint32_t enc_id, bool enable,\n\t\t struct dpu_crtc *crtc),\n\tTP_ARGS(drm_id, enc_id, enable, crtc),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\t\tdrm_id\t)\n\t\t__field(\tuint32_t,\t\tenc_id\t)\n\t\t__field(\tbool,\t\t\tenable\t)\n\t\t__field(\tbool,\t\t\tenabled )\n\t),\n\tTP_fast_assign(\n\t\t__entry->drm_id = drm_id;\n\t\t__entry->enc_id = enc_id;\n\t\t__entry->enable = enable;\n\t\t__entry->enabled = crtc->enabled;\n\t),\n\tTP_printk(\"id:%u encoder:%u enable:%s state{enabled:%s}\",\n\t\t  __entry->drm_id, __entry->enc_id,\n\t\t  __entry->enable ? \"true\" : \"false\",\n\t\t  __entry->enabled ? \"true\" : \"false\")\n);\n\nDECLARE_EVENT_CLASS(dpu_crtc_enable_template,\n\tTP_PROTO(uint32_t drm_id, bool enable, struct dpu_crtc *crtc),\n\tTP_ARGS(drm_id, enable, crtc),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\t\tdrm_id\t)\n\t\t__field(\tbool,\t\t\tenable\t)\n\t\t__field(\tbool,\t\t\tenabled )\n\t),\n\tTP_fast_assign(\n\t\t__entry->drm_id = drm_id;\n\t\t__entry->enable = enable;\n\t\t__entry->enabled = crtc->enabled;\n\t),\n\tTP_printk(\"id:%u enable:%s state{enabled:%s}\",\n\t\t  __entry->drm_id, __entry->enable ? \"true\" : \"false\",\n\t\t  __entry->enabled ? \"true\" : \"false\")\n);\nDEFINE_EVENT(dpu_crtc_enable_template, dpu_crtc_enable,\n\tTP_PROTO(uint32_t drm_id, bool enable, struct dpu_crtc *crtc),\n\tTP_ARGS(drm_id, enable, crtc)\n);\nDEFINE_EVENT(dpu_crtc_enable_template, dpu_crtc_disable,\n\tTP_PROTO(uint32_t drm_id, bool enable, struct dpu_crtc *crtc),\n\tTP_ARGS(drm_id, enable, crtc)\n);\nDEFINE_EVENT(dpu_crtc_enable_template, dpu_crtc_vblank,\n\tTP_PROTO(uint32_t drm_id, bool enable, struct dpu_crtc *crtc),\n\tTP_ARGS(drm_id, enable, crtc)\n);\n\nTRACE_EVENT(dpu_crtc_disable_frame_pending,\n\tTP_PROTO(uint32_t drm_id, int frame_pending),\n\tTP_ARGS(drm_id, frame_pending),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\t\tdrm_id\t\t)\n\t\t__field(\tint,\t\t\tframe_pending\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->drm_id = drm_id;\n\t\t__entry->frame_pending = frame_pending;\n\t),\n\tTP_printk(\"id:%u frame_pending:%d\", __entry->drm_id,\n\t\t  __entry->frame_pending)\n);\n\nTRACE_EVENT(dpu_plane_set_scanout,\n\tTP_PROTO(struct dpu_sw_pipe *pipe, struct dpu_hw_fmt_layout *layout),\n\tTP_ARGS(pipe, layout),\n\tTP_STRUCT__entry(\n\t\t__field(\tenum dpu_sspp,\t\t\tindex\t)\n\t\t__field_struct(\tstruct dpu_hw_fmt_layout,\tlayout\t)\n\t\t__field(\tenum dpu_sspp_multirect_index,\tmultirect_index)\n\t),\n\tTP_fast_assign(\n\t\t__entry->index = pipe->sspp->idx;\n\t\t__entry->layout = *layout;\n\t\t__entry->multirect_index = pipe->multirect_index;\n\t),\n\tTP_printk(\"index:%d layout:{%ux%u @ [%u/%u, %u/%u, %u/%u, %u/%u]} \"\n\t\t  \"multirect_index:%d\", __entry->index, __entry->layout.width,\n\t\t  __entry->layout.height, __entry->layout.plane_addr[0],\n\t\t  __entry->layout.plane_size[0],\n\t\t  __entry->layout.plane_addr[1],\n\t\t  __entry->layout.plane_size[1],\n\t\t  __entry->layout.plane_addr[2],\n\t\t  __entry->layout.plane_size[2],\n\t\t  __entry->layout.plane_addr[3],\n\t\t  __entry->layout.plane_size[3], __entry->multirect_index)\n);\n\nTRACE_EVENT(dpu_plane_disable,\n\tTP_PROTO(uint32_t drm_id, bool is_virtual, uint32_t multirect_mode),\n\tTP_ARGS(drm_id, is_virtual, multirect_mode),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\t\tdrm_id\t\t)\n\t\t__field(\tbool,\t\t\tis_virtual\t)\n\t\t__field(\tuint32_t,\t\tmultirect_mode\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->drm_id = drm_id;\n\t\t__entry->is_virtual = is_virtual;\n\t\t__entry->multirect_mode = multirect_mode;\n\t),\n\tTP_printk(\"id:%u is_virtual:%s multirect_mode:%u\", __entry->drm_id,\n\t\t  __entry->is_virtual ? \"true\" : \"false\",\n\t\t  __entry->multirect_mode)\n);\n\nDECLARE_EVENT_CLASS(dpu_rm_iter_template,\n\tTP_PROTO(uint32_t id, uint32_t enc_id),\n\tTP_ARGS(id, enc_id),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\t\tid\t)\n\t\t__field(\tuint32_t,\t\tenc_id\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->id = id;\n\t\t__entry->enc_id = enc_id;\n\t),\n\tTP_printk(\"id:%d enc_id:%u\", __entry->id, __entry->enc_id)\n);\nDEFINE_EVENT(dpu_rm_iter_template, dpu_rm_reserve_intf,\n\tTP_PROTO(uint32_t id, uint32_t enc_id),\n\tTP_ARGS(id, enc_id)\n);\nDEFINE_EVENT(dpu_rm_iter_template, dpu_rm_reserve_ctls,\n\tTP_PROTO(uint32_t id, uint32_t enc_id),\n\tTP_ARGS(id, enc_id)\n);\n\nTRACE_EVENT(dpu_rm_reserve_lms,\n\tTP_PROTO(uint32_t id, uint32_t enc_id, uint32_t pp_id),\n\tTP_ARGS(id, enc_id, pp_id),\n\tTP_STRUCT__entry(\n\t\t__field(\tuint32_t,\t\tid\t)\n\t\t__field(\tuint32_t,\t\tenc_id\t)\n\t\t__field(\tuint32_t,\t\tpp_id\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->id = id;\n\t\t__entry->enc_id = enc_id;\n\t\t__entry->pp_id = pp_id;\n\t),\n\tTP_printk(\"id:%d enc_id:%u pp_id:%u\", __entry->id,\n\t\t  __entry->enc_id, __entry->pp_id)\n);\n\nTRACE_EVENT(dpu_vbif_wait_xin_halt_fail,\n\tTP_PROTO(enum dpu_vbif index, u32 xin_id),\n\tTP_ARGS(index, xin_id),\n\tTP_STRUCT__entry(\n\t\t__field(\tenum dpu_vbif,\tindex\t)\n\t\t__field(\tu32,\t\txin_id\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->index = index;\n\t\t__entry->xin_id = xin_id;\n\t),\n\tTP_printk(\"index:%d xin_id:%u\", __entry->index, __entry->xin_id)\n);\n\nTRACE_EVENT(dpu_pp_connect_ext_te,\n\tTP_PROTO(enum dpu_pingpong pp, u32 cfg),\n\tTP_ARGS(pp, cfg),\n\tTP_STRUCT__entry(\n\t\t__field(\tenum dpu_pingpong,\tpp\t)\n\t\t__field(\tu32,\t\t\tcfg\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->pp = pp;\n\t\t__entry->cfg = cfg;\n\t),\n\tTP_printk(\"pp:%d cfg:%u\", __entry->pp, __entry->cfg)\n);\n\nTRACE_EVENT(dpu_intf_connect_ext_te,\n\tTP_PROTO(enum dpu_intf intf, u32 cfg),\n\tTP_ARGS(intf, cfg),\n\tTP_STRUCT__entry(\n\t\t__field(\tenum dpu_intf,\tintf\t)\n\t\t__field(\tu32,\t\t\tcfg\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->intf = intf;\n\t\t__entry->cfg = cfg;\n\t),\n\tTP_printk(\"intf:%d cfg:%u\", __entry->intf, __entry->cfg)\n);\n\nTRACE_EVENT(dpu_core_irq_register_callback,\n\tTP_PROTO(int irq_idx, void *callback),\n\tTP_ARGS(irq_idx, callback),\n\tTP_STRUCT__entry(\n\t\t__field(\tint,\t\t\t\tirq_idx\t)\n\t\t__field(\tvoid *,\t\t\t\tcallback)\n\t),\n\tTP_fast_assign(\n\t\t__entry->irq_idx = irq_idx;\n\t\t__entry->callback = callback;\n\t),\n\tTP_printk(\"irq_idx:%d callback:%ps\", __entry->irq_idx,\n\t\t  __entry->callback)\n);\n\nTRACE_EVENT(dpu_core_irq_unregister_callback,\n\tTP_PROTO(int irq_idx),\n\tTP_ARGS(irq_idx),\n\tTP_STRUCT__entry(\n\t\t__field(\tint,\t\t\t\tirq_idx\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->irq_idx = irq_idx;\n\t),\n\tTP_printk(\"irq_idx:%d\", __entry->irq_idx)\n);\n\nTRACE_EVENT(dpu_core_perf_update_clk,\n\tTP_PROTO(struct drm_device *dev, bool stop_req, u64 clk_rate),\n\tTP_ARGS(dev, stop_req, clk_rate),\n\tTP_STRUCT__entry(\n\t\t__string(\tdev_name,\t\tdev->unique\t)\n\t\t__field(\tbool,\t\t\tstop_req\t)\n\t\t__field(\tu64,\t\t\tclk_rate\t)\n\t),\n\tTP_fast_assign(\n\t\t__assign_str(dev_name, dev->unique);\n\t\t__entry->stop_req = stop_req;\n\t\t__entry->clk_rate = clk_rate;\n\t),\n\tTP_printk(\"dev:%s stop_req:%s clk_rate:%llu\", __get_str(dev_name),\n\t\t  __entry->stop_req ? \"true\" : \"false\", __entry->clk_rate)\n);\n\nTRACE_EVENT(dpu_hw_ctl_update_pending_flush,\n\tTP_PROTO(u32 new_bits, u32 pending_mask),\n\tTP_ARGS(new_bits, pending_mask),\n\tTP_STRUCT__entry(\n\t\t__field(\tu32,\t\t\tnew_bits\t)\n\t\t__field(\tu32,\t\t\tpending_mask\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->new_bits = new_bits;\n\t\t__entry->pending_mask = pending_mask;\n\t),\n\tTP_printk(\"new=%x existing=%x\", __entry->new_bits,\n\t\t  __entry->pending_mask)\n);\n\nDECLARE_EVENT_CLASS(dpu_hw_ctl_pending_flush_template,\n\tTP_PROTO(u32 pending_mask, u32 ctl_flush),\n\tTP_ARGS(pending_mask, ctl_flush),\n\tTP_STRUCT__entry(\n\t\t__field(\tu32,\t\t\tpending_mask\t)\n\t\t__field(\tu32,\t\t\tctl_flush\t)\n\t),\n\tTP_fast_assign(\n\t\t__entry->pending_mask = pending_mask;\n\t\t__entry->ctl_flush = ctl_flush;\n\t),\n\tTP_printk(\"pending_mask=%x CTL_FLUSH=%x\", __entry->pending_mask,\n\t\t  __entry->ctl_flush)\n);\nDEFINE_EVENT(dpu_hw_ctl_pending_flush_template, dpu_hw_ctl_clear_pending_flush,\n\tTP_PROTO(u32 pending_mask, u32 ctl_flush),\n\tTP_ARGS(pending_mask, ctl_flush)\n);\nDEFINE_EVENT(dpu_hw_ctl_pending_flush_template,\n\t     dpu_hw_ctl_trigger_pending_flush,\n\tTP_PROTO(u32 pending_mask, u32 ctl_flush),\n\tTP_ARGS(pending_mask, ctl_flush)\n);\nDEFINE_EVENT(dpu_hw_ctl_pending_flush_template, dpu_hw_ctl_trigger_prepare,\n\tTP_PROTO(u32 pending_mask, u32 ctl_flush),\n\tTP_ARGS(pending_mask, ctl_flush)\n);\nDEFINE_EVENT(dpu_hw_ctl_pending_flush_template, dpu_hw_ctl_trigger_start,\n\tTP_PROTO(u32 pending_mask, u32 ctl_flush),\n\tTP_ARGS(pending_mask, ctl_flush)\n);\n\n#define DPU_ATRACE_END(name) trace_tracing_mark_write(current->tgid, name, 0)\n#define DPU_ATRACE_BEGIN(name) trace_tracing_mark_write(current->tgid, name, 1)\n#define DPU_ATRACE_FUNC() DPU_ATRACE_BEGIN(__func__)\n\n#define DPU_ATRACE_INT(name, value) \\\n\ttrace_dpu_trace_counter(current->tgid, name, value)\n\n#endif  \n\n \n#undef TRACE_INCLUDE_PATH\n#define TRACE_INCLUDE_PATH .\n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}