{
  "module_name": "dpu_hw_sspp.h",
  "hash_id": "d788fde6d2720adbcfd9ee7664b3abc03c17c2bacc99d39a3a35521f30d384cd",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/msm/disp/dpu1/dpu_hw_sspp.h",
  "human_readable_source": " \n \n\n#ifndef _DPU_HW_SSPP_H\n#define _DPU_HW_SSPP_H\n\n#include \"dpu_hw_catalog.h\"\n#include \"dpu_hw_mdss.h\"\n#include \"dpu_hw_util.h\"\n#include \"dpu_formats.h\"\n\nstruct dpu_hw_sspp;\n\n \n#define DPU_SSPP_FLIP_LR\t\tBIT(0)\n#define DPU_SSPP_FLIP_UD\t\tBIT(1)\n#define DPU_SSPP_SOURCE_ROTATED_90\tBIT(2)\n#define DPU_SSPP_ROT_90\t\t\tBIT(3)\n#define DPU_SSPP_SOLID_FILL\t\tBIT(4)\n\n \n#define DPU_SSPP_SCALER (BIT(DPU_SSPP_SCALER_RGB) | \\\n\t\t\t BIT(DPU_SSPP_SCALER_QSEED2) | \\\n\t\t\t BIT(DPU_SSPP_SCALER_QSEED3) | \\\n\t\t\t BIT(DPU_SSPP_SCALER_QSEED3LITE) | \\\n\t\t\t BIT(DPU_SSPP_SCALER_QSEED4))\n\n \n#define DPU_SSPP_CSC_ANY (BIT(DPU_SSPP_CSC) | \\\n\t\t\t  BIT(DPU_SSPP_CSC_10BIT))\n\n \nenum {\n\tDPU_SSPP_COMP_0,\n\tDPU_SSPP_COMP_1_2,\n\tDPU_SSPP_COMP_2,\n\tDPU_SSPP_COMP_3,\n\n\tDPU_SSPP_COMP_MAX\n};\n\n \nenum dpu_sspp_multirect_index {\n\tDPU_SSPP_RECT_SOLO = 0,\n\tDPU_SSPP_RECT_0,\n\tDPU_SSPP_RECT_1,\n};\n\nenum dpu_sspp_multirect_mode {\n\tDPU_SSPP_MULTIRECT_NONE = 0,\n\tDPU_SSPP_MULTIRECT_PARALLEL,\n\tDPU_SSPP_MULTIRECT_TIME_MX,\n};\n\nenum {\n\tDPU_FRAME_LINEAR,\n\tDPU_FRAME_TILE_A4X,\n\tDPU_FRAME_TILE_A5X,\n};\n\nenum dpu_hw_filter {\n\tDPU_SCALE_FILTER_NEAREST = 0,\n\tDPU_SCALE_FILTER_BIL,\n\tDPU_SCALE_FILTER_PCMN,\n\tDPU_SCALE_FILTER_CA,\n\tDPU_SCALE_FILTER_MAX\n};\n\nenum dpu_hw_filter_alpa {\n\tDPU_SCALE_ALPHA_PIXEL_REP,\n\tDPU_SCALE_ALPHA_BIL\n};\n\nenum dpu_hw_filter_yuv {\n\tDPU_SCALE_2D_4X4,\n\tDPU_SCALE_2D_CIR,\n\tDPU_SCALE_1D_SEP,\n\tDPU_SCALE_BIL\n};\n\nstruct dpu_hw_sharp_cfg {\n\tu32 strength;\n\tu32 edge_thr;\n\tu32 smooth_thr;\n\tu32 noise_thr;\n};\n\nstruct dpu_hw_pixel_ext {\n\t \n\tuint8_t enable_pxl_ext;\n\n\tint init_phase_x[DPU_MAX_PLANES];\n\tint phase_step_x[DPU_MAX_PLANES];\n\tint init_phase_y[DPU_MAX_PLANES];\n\tint phase_step_y[DPU_MAX_PLANES];\n\n\t \n\tint num_ext_pxls_left[DPU_MAX_PLANES];\n\tint num_ext_pxls_right[DPU_MAX_PLANES];\n\tint num_ext_pxls_top[DPU_MAX_PLANES];\n\tint num_ext_pxls_btm[DPU_MAX_PLANES];\n\n\t \n\tint left_ftch[DPU_MAX_PLANES];\n\tint right_ftch[DPU_MAX_PLANES];\n\tint top_ftch[DPU_MAX_PLANES];\n\tint btm_ftch[DPU_MAX_PLANES];\n\n\t \n\tint left_rpt[DPU_MAX_PLANES];\n\tint right_rpt[DPU_MAX_PLANES];\n\tint top_rpt[DPU_MAX_PLANES];\n\tint btm_rpt[DPU_MAX_PLANES];\n\n\tuint32_t roi_w[DPU_MAX_PLANES];\n\tuint32_t roi_h[DPU_MAX_PLANES];\n\n\t \n\tenum dpu_hw_filter horz_filter[DPU_MAX_PLANES];\n\tenum dpu_hw_filter vert_filter[DPU_MAX_PLANES];\n\n};\n\n \nstruct dpu_sw_pipe_cfg {\n\tstruct drm_rect src_rect;\n\tstruct drm_rect dst_rect;\n};\n\n \nstruct dpu_hw_pipe_ts_cfg {\n\tu64 size;\n\tu64 time;\n};\n\n \nstruct dpu_sw_pipe {\n\tstruct dpu_hw_sspp *sspp;\n\tenum dpu_sspp_multirect_index multirect_index;\n\tenum dpu_sspp_multirect_mode multirect_mode;\n};\n\n \nstruct dpu_hw_sspp_ops {\n\t \n\tvoid (*setup_format)(struct dpu_sw_pipe *pipe,\n\t\t\t     const struct dpu_format *fmt, u32 flags);\n\n\t \n\tvoid (*setup_rects)(struct dpu_sw_pipe *pipe,\n\t\t\t    struct dpu_sw_pipe_cfg *cfg);\n\n\t \n\tvoid (*setup_pe)(struct dpu_hw_sspp *ctx,\n\t\t\tstruct dpu_hw_pixel_ext *pe_ext);\n\n\t \n\tvoid (*setup_sourceaddress)(struct dpu_sw_pipe *ctx,\n\t\t\t\t    struct dpu_hw_fmt_layout *layout);\n\n\t \n\tvoid (*setup_csc)(struct dpu_hw_sspp *ctx, const struct dpu_csc_cfg *data);\n\n\t \n\tvoid (*setup_solidfill)(struct dpu_sw_pipe *pipe, u32 color);\n\n\t \n\n\tvoid (*setup_multirect)(struct dpu_sw_pipe *pipe);\n\n\t \n\tvoid (*setup_sharpening)(struct dpu_hw_sspp *ctx,\n\t\t\tstruct dpu_hw_sharp_cfg *cfg);\n\n\n\t \n\tvoid (*setup_qos_lut)(struct dpu_hw_sspp *ctx,\n\t\t\tstruct dpu_hw_qos_cfg *cfg);\n\n\t \n\tvoid (*setup_qos_ctrl)(struct dpu_hw_sspp *ctx,\n\t\t\t       bool danger_safe_en);\n\n\t \n\tvoid (*setup_histogram)(struct dpu_hw_sspp *ctx,\n\t\t\tvoid *cfg);\n\n\t \n\tvoid (*setup_scaler)(struct dpu_hw_sspp *ctx,\n\t\tstruct dpu_hw_scaler3_cfg *scaler3_cfg,\n\t\tconst struct dpu_format *format);\n\n\t \n\tu32 (*get_scaler_ver)(struct dpu_hw_sspp *ctx);\n\n\t \n\tvoid (*setup_cdp)(struct dpu_sw_pipe *pipe,\n\t\t\t  const struct dpu_format *fmt,\n\t\t\t  bool enable);\n};\n\n \nstruct dpu_hw_sspp {\n\tstruct dpu_hw_blk base;\n\tstruct dpu_hw_blk_reg_map hw;\n\tconst struct msm_mdss_data *ubwc;\n\n\t \n\tenum dpu_sspp idx;\n\tconst struct dpu_sspp_cfg *cap;\n\n\t \n\tstruct dpu_hw_sspp_ops ops;\n};\n\nstruct dpu_kms;\n \nstruct dpu_hw_sspp *dpu_hw_sspp_init(const struct dpu_sspp_cfg *cfg,\n\t\tvoid __iomem *addr, const struct msm_mdss_data *mdss_data);\n\n \nvoid dpu_hw_sspp_destroy(struct dpu_hw_sspp *ctx);\n\nint _dpu_hw_sspp_init_debugfs(struct dpu_hw_sspp *hw_pipe, struct dpu_kms *kms,\n\t\t\t      struct dentry *entry);\n\n#endif  \n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}