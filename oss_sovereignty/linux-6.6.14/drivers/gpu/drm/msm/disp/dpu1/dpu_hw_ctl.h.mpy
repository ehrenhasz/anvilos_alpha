{
  "module_name": "dpu_hw_ctl.h",
  "hash_id": "d38c698dca5037377b1d2fc2618354cdbe2bc4e1f3cf7f367e2c56377433a634",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/msm/disp/dpu1/dpu_hw_ctl.h",
  "human_readable_source": " \n \n\n#ifndef _DPU_HW_CTL_H\n#define _DPU_HW_CTL_H\n\n#include \"dpu_hw_mdss.h\"\n#include \"dpu_hw_util.h\"\n#include \"dpu_hw_catalog.h\"\n#include \"dpu_hw_sspp.h\"\n\n \nenum dpu_ctl_mode_sel {\n\tDPU_CTL_MODE_SEL_VID = 0,\n\tDPU_CTL_MODE_SEL_CMD\n};\n\nstruct dpu_hw_ctl;\n \nstruct dpu_hw_stage_cfg {\n\tenum dpu_sspp stage[DPU_STAGE_MAX][PIPES_PER_STAGE];\n\tenum dpu_sspp_multirect_index multirect_index\n\t\t\t\t\t[DPU_STAGE_MAX][PIPES_PER_STAGE];\n};\n\n \nstruct dpu_hw_intf_cfg {\n\tenum dpu_intf intf;\n\tenum dpu_wb wb;\n\tenum dpu_3d_blend_mode mode_3d;\n\tenum dpu_merge_3d merge_3d;\n\tenum dpu_ctl_mode_sel intf_mode_sel;\n\tint stream_sel;\n\tunsigned int dsc;\n};\n\n \nstruct dpu_hw_ctl_ops {\n\t \n\tvoid (*trigger_start)(struct dpu_hw_ctl *ctx);\n\n\t \n\tbool (*is_started)(struct dpu_hw_ctl *ctx);\n\n\t \n\tvoid (*trigger_pending)(struct dpu_hw_ctl *ctx);\n\n\t \n\tvoid (*clear_pending_flush)(struct dpu_hw_ctl *ctx);\n\n\t \n\tu32 (*get_pending_flush)(struct dpu_hw_ctl *ctx);\n\n\t \n\tvoid (*update_pending_flush)(struct dpu_hw_ctl *ctx,\n\t\tu32 flushbits);\n\n\t \n\tvoid (*update_pending_flush_wb)(struct dpu_hw_ctl *ctx,\n\t\tenum dpu_wb blk);\n\n\t \n\tvoid (*update_pending_flush_intf)(struct dpu_hw_ctl *ctx,\n\t\tenum dpu_intf blk);\n\n\t \n\tvoid (*update_pending_flush_merge_3d)(struct dpu_hw_ctl *ctx,\n\t\tenum dpu_merge_3d blk);\n\n\t \n\tvoid (*update_pending_flush_sspp)(struct dpu_hw_ctl *ctx,\n\t\tenum dpu_sspp blk);\n\n\t \n\tvoid (*update_pending_flush_mixer)(struct dpu_hw_ctl *ctx,\n\t\tenum dpu_lm blk);\n\n\t \n\tvoid (*update_pending_flush_dspp)(struct dpu_hw_ctl *ctx,\n\t\tenum dpu_dspp blk, u32 dspp_sub_blk);\n\n\t \n\tvoid (*update_pending_flush_dsc)(struct dpu_hw_ctl *ctx,\n\t\t\t\t\t enum dpu_dsc blk);\n\n\t \n\tvoid (*trigger_flush)(struct dpu_hw_ctl *ctx);\n\n\t \n\tu32 (*get_flush_register)(struct dpu_hw_ctl *ctx);\n\n\t \n\tvoid (*setup_intf_cfg)(struct dpu_hw_ctl *ctx,\n\t\tstruct dpu_hw_intf_cfg *cfg);\n\n\t \n\tvoid (*reset_intf_cfg)(struct dpu_hw_ctl *ctx,\n\t\t\tstruct dpu_hw_intf_cfg *cfg);\n\n\tint (*reset)(struct dpu_hw_ctl *c);\n\n\t \n\tint (*wait_reset_status)(struct dpu_hw_ctl *ctx);\n\n\t \n\tvoid (*clear_all_blendstages)(struct dpu_hw_ctl *ctx);\n\n\t \n\tvoid (*setup_blendstage)(struct dpu_hw_ctl *ctx,\n\t\tenum dpu_lm lm, struct dpu_hw_stage_cfg *cfg);\n\n\tvoid (*set_active_pipes)(struct dpu_hw_ctl *ctx,\n\t\tunsigned long *fetch_active);\n};\n\n \nstruct dpu_hw_ctl {\n\tstruct dpu_hw_blk base;\n\tstruct dpu_hw_blk_reg_map hw;\n\n\t \n\tint idx;\n\tconst struct dpu_ctl_cfg *caps;\n\tint mixer_count;\n\tconst struct dpu_lm_cfg *mixer_hw_caps;\n\tu32 pending_flush_mask;\n\tu32 pending_intf_flush_mask;\n\tu32 pending_wb_flush_mask;\n\tu32 pending_merge_3d_flush_mask;\n\tu32 pending_dspp_flush_mask[DSPP_MAX - DSPP_0];\n\tu32 pending_dsc_flush_mask;\n\n\t \n\tstruct dpu_hw_ctl_ops ops;\n};\n\n \nstatic inline struct dpu_hw_ctl *to_dpu_hw_ctl(struct dpu_hw_blk *hw)\n{\n\treturn container_of(hw, struct dpu_hw_ctl, base);\n}\n\n \nstruct dpu_hw_ctl *dpu_hw_ctl_init(const struct dpu_ctl_cfg *cfg,\n\t\tvoid __iomem *addr,\n\t\tu32 mixer_count,\n\t\tconst struct dpu_lm_cfg *mixer);\n\n \nvoid dpu_hw_ctl_destroy(struct dpu_hw_ctl *ctx);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}