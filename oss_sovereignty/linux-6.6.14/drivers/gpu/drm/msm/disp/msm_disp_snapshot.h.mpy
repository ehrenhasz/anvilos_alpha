{
  "module_name": "msm_disp_snapshot.h",
  "hash_id": "04dd7d7680460b9873031314130f43894593a2756b4b9ace4e93de9f09307cea",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/msm/disp/msm_disp_snapshot.h",
  "human_readable_source": " \n \n\n#ifndef MSM_DISP_SNAPSHOT_H_\n#define MSM_DISP_SNAPSHOT_H_\n\n#include <drm/drm_atomic_helper.h>\n#include <drm/drm_device.h>\n#include \"../../../drm_crtc_internal.h\"\n#include <drm/drm_print.h>\n#include <drm/drm_atomic.h>\n#include <linux/debugfs.h>\n#include <linux/list.h>\n#include <linux/delay.h>\n#include <linux/spinlock.h>\n#include <linux/ktime.h>\n#include <linux/uaccess.h>\n#include <linux/dma-buf.h>\n#include <linux/slab.h>\n#include <linux/list_sort.h>\n#include <linux/pm.h>\n#include <linux/pm_runtime.h>\n#include <linux/kthread.h>\n#include <linux/devcoredump.h>\n#include \"msm_kms.h\"\n\n#define MSM_DISP_SNAPSHOT_MAX_BLKS\t\t10\n\n \n#define MSM_DISP_SNAPSHOT_DUMP_IN_CONSOLE 0\n\n \n#define REG_DUMP_ALIGN\t\t16\n\n \nstruct msm_disp_state {\n\tstruct device *dev;\n\tstruct drm_device *drm_dev;\n\n\tstruct list_head blocks;\n\n\tstruct drm_atomic_state *atomic_state;\n\n\tstruct timespec64 time;\n};\n\n \nstruct msm_disp_state_block {\n\tchar name[SZ_128];\n\tstruct list_head node;\n\tunsigned int size;\n\tu32 *state;\n\tvoid __iomem *base_addr;\n};\n\n \nint msm_disp_snapshot_init(struct drm_device *drm_dev);\n\n \nvoid msm_disp_snapshot_destroy(struct drm_device *drm_dev);\n\n \nstruct msm_disp_state *msm_disp_snapshot_state_sync(struct msm_kms *kms);\n\n \nvoid msm_disp_snapshot_state(struct drm_device *drm_dev);\n\n \nvoid msm_disp_state_print(struct msm_disp_state *disp_state, struct drm_printer *p);\n\n \nvoid msm_disp_snapshot_capture_state(struct msm_disp_state *disp_state);\n\n \nvoid msm_disp_state_free(void *data);\n\n \n__printf(4, 5)\nvoid msm_disp_snapshot_add_block(struct msm_disp_state *disp_state, u32 len,\n\t\tvoid __iomem *base_addr, const char *fmt, ...);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}