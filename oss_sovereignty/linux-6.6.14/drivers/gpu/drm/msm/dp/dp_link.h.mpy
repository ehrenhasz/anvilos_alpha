{
  "module_name": "dp_link.h",
  "hash_id": "5f7768fe8df82053890e9f5770189bcf08084d3bcf21c458920e89677dbb6e3e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/msm/dp/dp_link.h",
  "human_readable_source": " \n \n\n#ifndef _DP_LINK_H_\n#define _DP_LINK_H_\n\n#include \"dp_aux.h\"\n\n#define DS_PORT_STATUS_CHANGED 0x200\n#define DP_TEST_BIT_DEPTH_UNKNOWN 0xFFFFFFFF\n#define DP_LINK_CAP_ENHANCED_FRAMING (1 << 0)\n\nstruct dp_link_info {\n\tunsigned char revision;\n\tunsigned int rate;\n\tunsigned int num_lanes;\n\tunsigned long capabilities;\n};\n\nenum dp_link_voltage_level {\n\tDP_TRAIN_VOLTAGE_SWING_LVL_0\t= 0,\n\tDP_TRAIN_VOLTAGE_SWING_LVL_1\t= 1,\n\tDP_TRAIN_VOLTAGE_SWING_LVL_2\t= 2,\n\tDP_TRAIN_VOLTAGE_SWING_MAX\t= DP_TRAIN_VOLTAGE_SWING_LVL_2,\n};\n\nenum dp_link_preemaphasis_level {\n\tDP_TRAIN_PRE_EMPHASIS_LVL_0\t= 0,\n\tDP_TRAIN_PRE_EMPHASIS_LVL_1\t= 1,\n\tDP_TRAIN_PRE_EMPHASIS_LVL_2\t= 2,\n\tDP_TRAIN_PRE_EMPHASIS_MAX\t= DP_TRAIN_PRE_EMPHASIS_LVL_2,\n};\n\nstruct dp_link_test_video {\n\tu32 test_video_pattern;\n\tu32 test_bit_depth;\n\tu32 test_dyn_range;\n\tu32 test_h_total;\n\tu32 test_v_total;\n\tu32 test_h_start;\n\tu32 test_v_start;\n\tu32 test_hsync_pol;\n\tu32 test_hsync_width;\n\tu32 test_vsync_pol;\n\tu32 test_vsync_width;\n\tu32 test_h_width;\n\tu32 test_v_height;\n\tu32 test_rr_d;\n\tu32 test_rr_n;\n};\n\nstruct dp_link_test_audio {\n\tu32 test_audio_sampling_rate;\n\tu32 test_audio_channel_count;\n\tu32 test_audio_pattern_type;\n\tu32 test_audio_period_ch_1;\n\tu32 test_audio_period_ch_2;\n\tu32 test_audio_period_ch_3;\n\tu32 test_audio_period_ch_4;\n\tu32 test_audio_period_ch_5;\n\tu32 test_audio_period_ch_6;\n\tu32 test_audio_period_ch_7;\n\tu32 test_audio_period_ch_8;\n};\n\nstruct dp_link_phy_params {\n\tu32 phy_test_pattern_sel;\n\tu8 v_level;\n\tu8 p_level;\n};\n\nstruct dp_link {\n\tu32 sink_request;\n\tu32 test_response;\n\tbool psm_enabled;\n\n\tu8 sink_count;\n\tstruct dp_link_test_video test_video;\n\tstruct dp_link_test_audio test_audio;\n\tstruct dp_link_phy_params phy_params;\n\tstruct dp_link_info link_params;\n};\n\n \nstatic inline u32 dp_link_bit_depth_to_bpp(u32 tbd)\n{\n\t \n\tswitch (tbd) {\n\tcase DP_TEST_BIT_DEPTH_6:\n\t\treturn 18;\n\tcase DP_TEST_BIT_DEPTH_8:\n\t\treturn 24;\n\tcase DP_TEST_BIT_DEPTH_10:\n\t\treturn 30;\n\tcase DP_TEST_BIT_DEPTH_UNKNOWN:\n\tdefault:\n\t\treturn 0;\n\t}\n}\n\n \nstatic inline u32 dp_link_bit_depth_to_bpc(u32 tbd)\n{\n\tswitch (tbd) {\n\tcase DP_TEST_BIT_DEPTH_6:\n\t\treturn 6;\n\tcase DP_TEST_BIT_DEPTH_8:\n\t\treturn 8;\n\tcase DP_TEST_BIT_DEPTH_10:\n\t\treturn 10;\n\tcase DP_TEST_BIT_DEPTH_UNKNOWN:\n\tdefault:\n\t\treturn 0;\n\t}\n}\n\nvoid dp_link_reset_phy_params_vx_px(struct dp_link *dp_link);\nu32 dp_link_get_test_bits_depth(struct dp_link *dp_link, u32 bpp);\nint dp_link_process_request(struct dp_link *dp_link);\nint dp_link_get_colorimetry_config(struct dp_link *dp_link);\nint dp_link_adjust_levels(struct dp_link *dp_link, u8 *link_status);\nbool dp_link_send_test_response(struct dp_link *dp_link);\nint dp_link_psm_config(struct dp_link *dp_link,\n\t\tstruct dp_link_info *link_info, bool enable);\nbool dp_link_send_edid_checksum(struct dp_link *dp_link, u8 checksum);\n\n \nstruct dp_link *dp_link_get(struct device *dev, struct drm_dp_aux *aux);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}