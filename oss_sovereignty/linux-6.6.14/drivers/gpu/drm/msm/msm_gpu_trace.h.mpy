{
  "module_name": "msm_gpu_trace.h",
  "hash_id": "5e893e4b7076bb997c824cda9811dbfe29a5276f19a14da412109eb192cce3e9",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/msm/msm_gpu_trace.h",
  "human_readable_source": " \n#if !defined(_MSM_GPU_TRACE_H_) || defined(TRACE_HEADER_MULTI_READ)\n#define _MSM_GPU_TRACE_H_\n\n#include <linux/tracepoint.h>\n\n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM drm_msm_gpu\n#define TRACE_INCLUDE_FILE msm_gpu_trace\n\nTRACE_EVENT(msm_gpu_submit,\n\t    TP_PROTO(pid_t pid, u32 ringid, u32 id, u32 nr_bos, u32 nr_cmds),\n\t    TP_ARGS(pid, ringid, id, nr_bos, nr_cmds),\n\t    TP_STRUCT__entry(\n\t\t    __field(pid_t, pid)\n\t\t    __field(u32, id)\n\t\t    __field(u32, ringid)\n\t\t    __field(u32, nr_cmds)\n\t\t    __field(u32, nr_bos)\n\t\t    ),\n\t    TP_fast_assign(\n\t\t    __entry->pid = pid;\n\t\t    __entry->id = id;\n\t\t    __entry->ringid = ringid;\n\t\t    __entry->nr_bos = nr_bos;\n\t\t    __entry->nr_cmds = nr_cmds\n\t\t    ),\n\t    TP_printk(\"id=%d pid=%d ring=%d bos=%d cmds=%d\",\n\t\t    __entry->id, __entry->pid, __entry->ringid,\n\t\t    __entry->nr_bos, __entry->nr_cmds)\n);\n\nTRACE_EVENT(msm_gpu_submit_flush,\n\t    TP_PROTO(struct msm_gem_submit *submit, u64 ticks),\n\t    TP_ARGS(submit, ticks),\n\t    TP_STRUCT__entry(\n\t\t    __field(pid_t, pid)\n\t\t    __field(u32, id)\n\t\t    __field(u32, ringid)\n\t\t    __field(u32, seqno)\n\t\t    __field(u64, ticks)\n\t\t    ),\n\t    TP_fast_assign(\n\t\t    __entry->pid = pid_nr(submit->pid);\n\t\t    __entry->id = submit->ident;\n\t\t    __entry->ringid = submit->ring->id;\n\t\t    __entry->seqno = submit->seqno;\n\t\t    __entry->ticks = ticks;\n\t\t    ),\n\t    TP_printk(\"id=%d pid=%d ring=%d:%d ticks=%lld\",\n\t\t    __entry->id, __entry->pid, __entry->ringid, __entry->seqno,\n\t\t    __entry->ticks)\n);\n\n\nTRACE_EVENT(msm_gpu_submit_retired,\n\t    TP_PROTO(struct msm_gem_submit *submit, u64 elapsed, u64 clock,\n\t\t    u64 start, u64 end),\n\t    TP_ARGS(submit, elapsed, clock, start, end),\n\t    TP_STRUCT__entry(\n\t\t    __field(pid_t, pid)\n\t\t    __field(u32, id)\n\t\t    __field(u32, ringid)\n\t\t    __field(u32, seqno)\n\t\t    __field(u64, elapsed)\n\t\t    __field(u64, clock)\n\t\t    __field(u64, start_ticks)\n\t\t    __field(u64, end_ticks)\n\t\t    ),\n\t    TP_fast_assign(\n\t\t    __entry->pid = pid_nr(submit->pid);\n\t\t    __entry->id = submit->ident;\n\t\t    __entry->ringid = submit->ring->id;\n\t\t    __entry->seqno = submit->seqno;\n\t\t    __entry->elapsed = elapsed;\n\t\t    __entry->clock = clock;\n\t\t    __entry->start_ticks = start;\n\t\t    __entry->end_ticks = end;\n\t\t    ),\n\t    TP_printk(\"id=%d pid=%d ring=%d:%d elapsed=%lld ns mhz=%lld start=%lld end=%lld\",\n\t\t    __entry->id, __entry->pid, __entry->ringid, __entry->seqno,\n\t\t    __entry->elapsed, __entry->clock,\n\t\t    __entry->start_ticks, __entry->end_ticks)\n);\n\n\nTRACE_EVENT(msm_gpu_freq_change,\n\t\tTP_PROTO(u32 freq),\n\t\tTP_ARGS(freq),\n\t\tTP_STRUCT__entry(\n\t\t\t__field(u32, freq)\n\t\t\t),\n\t\tTP_fast_assign(\n\t\t\t \n\t\t\t__entry->freq = DIV_ROUND_UP(freq, 1000000);\n\t\t\t),\n\t\tTP_printk(\"new_freq=%u\", __entry->freq)\n);\n\n\nTRACE_EVENT(msm_gmu_freq_change,\n\t\tTP_PROTO(u32 freq, u32 perf_index),\n\t\tTP_ARGS(freq, perf_index),\n\t\tTP_STRUCT__entry(\n\t\t\t__field(u32, freq)\n\t\t\t__field(u32, perf_index)\n\t\t\t),\n\t\tTP_fast_assign(\n\t\t\t__entry->freq = freq;\n\t\t\t__entry->perf_index = perf_index;\n\t\t\t),\n\t\tTP_printk(\"freq=%u, perf_index=%u\", __entry->freq, __entry->perf_index)\n);\n\n\nTRACE_EVENT(msm_gem_shrink,\n\t\tTP_PROTO(u32 nr_to_scan, u32 purged, u32 evicted,\n\t\t\t u32 active_purged, u32 active_evicted),\n\t\tTP_ARGS(nr_to_scan, purged, evicted, active_purged, active_evicted),\n\t\tTP_STRUCT__entry(\n\t\t\t__field(u32, nr_to_scan)\n\t\t\t__field(u32, purged)\n\t\t\t__field(u32, evicted)\n\t\t\t__field(u32, active_purged)\n\t\t\t__field(u32, active_evicted)\n\t\t\t),\n\t\tTP_fast_assign(\n\t\t\t__entry->nr_to_scan = nr_to_scan;\n\t\t\t__entry->purged = purged;\n\t\t\t__entry->evicted = evicted;\n\t\t\t__entry->active_purged = active_purged;\n\t\t\t__entry->active_evicted = active_evicted;\n\t\t\t),\n\t\tTP_printk(\"nr_to_scan=%u pg, purged=%u pg, evicted=%u pg, active_purged=%u pg, active_evicted=%u pg\",\n\t\t\t  __entry->nr_to_scan, __entry->purged, __entry->evicted,\n\t\t\t  __entry->active_purged, __entry->active_evicted)\n);\n\n\nTRACE_EVENT(msm_gem_purge_vmaps,\n\t\tTP_PROTO(u32 unmapped),\n\t\tTP_ARGS(unmapped),\n\t\tTP_STRUCT__entry(\n\t\t\t__field(u32, unmapped)\n\t\t\t),\n\t\tTP_fast_assign(\n\t\t\t__entry->unmapped = unmapped;\n\t\t\t),\n\t\tTP_printk(\"Purging %u vmaps\", __entry->unmapped)\n);\n\n\nTRACE_EVENT(msm_gpu_suspend,\n\t\tTP_PROTO(int dummy),\n\t\tTP_ARGS(dummy),\n\t\tTP_STRUCT__entry(\n\t\t\t__field(u32, dummy)\n\t\t\t),\n\t\tTP_fast_assign(\n\t\t\t__entry->dummy = dummy;\n\t\t\t),\n\t\tTP_printk(\"%u\", __entry->dummy)\n);\n\n\nTRACE_EVENT(msm_gpu_resume,\n\t\tTP_PROTO(int dummy),\n\t\tTP_ARGS(dummy),\n\t\tTP_STRUCT__entry(\n\t\t\t__field(u32, dummy)\n\t\t\t),\n\t\tTP_fast_assign(\n\t\t\t__entry->dummy = dummy;\n\t\t\t),\n\t\tTP_printk(\"%u\", __entry->dummy)\n);\n\n#endif\n\n#undef TRACE_INCLUDE_PATH\n#define TRACE_INCLUDE_PATH ../../drivers/gpu/drm/msm\n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}