{
  "module_name": "a6xx_hfi.h",
  "hash_id": "6a4937f917b99e0999ef41888b048402812b4a1579520099831a050c7873a0f4",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/msm/adreno/a6xx_hfi.h",
  "human_readable_source": " \n \n\n#ifndef _A6XX_HFI_H_\n#define _A6XX_HFI_H_\n\nstruct a6xx_hfi_queue_table_header {\n\tu32 version;\n\tu32 size;\t\t \n\tu32 qhdr0_offset;\t \n\tu32 qhdr_size;\t\t \n\tu32 num_queues;\t\t \n\tu32 active_queues;\t \n};\n\nstruct a6xx_hfi_queue_header {\n\tu32 status;\n\tu32 iova;\n\tu32 type;\n\tu32 size;\n\tu32 msg_size;\n\tu32 dropped;\n\tu32 rx_watermark;\n\tu32 tx_watermark;\n\tu32 rx_request;\n\tu32 tx_request;\n\tu32 read_index;\n\tu32 write_index;\n};\n\nstruct a6xx_hfi_queue {\n\tstruct a6xx_hfi_queue_header *header;\n\tspinlock_t lock;\n\tu32 *data;\n\tatomic_t seqnum;\n\n\t \n#define HFI_HISTORY_SZ 8\n\ts32 history[HFI_HISTORY_SZ];\n\tu8  history_idx;\n};\n\n \n#define HFI_COMMAND_QUEUE 0\n\n \n#define HFI_RESPONSE_QUEUE 1\n\n#define HFI_HEADER_ID(msg) ((msg) & 0xff)\n#define HFI_HEADER_SIZE(msg) (((msg) >> 8) & 0xff)\n#define HFI_HEADER_SEQNUM(msg) (((msg) >> 20) & 0xfff)\n\n \n#define HFI_RESPONSE_PAYLOAD_SIZE 16\n\n \n\n#define HFI_MSG_CMD 0\n#define HFI_MSG_ACK 1\n#define HFI_MSG_ACK_V1 2\n\n#define HFI_F2H_MSG_ACK 126\n\nstruct a6xx_hfi_msg_response {\n\tu32 header;\n\tu32 ret_header;\n\tu32 error;\n\tu32 payload[HFI_RESPONSE_PAYLOAD_SIZE];\n};\n\n#define HFI_F2H_MSG_ERROR 100\n\nstruct a6xx_hfi_msg_error {\n\tu32 header;\n\tu32 code;\n\tu32 payload[2];\n};\n\n#define HFI_H2F_MSG_INIT 0\n\nstruct a6xx_hfi_msg_gmu_init_cmd {\n\tu32 header;\n\tu32 seg_id;\n\tu32 dbg_buffer_addr;\n\tu32 dbg_buffer_size;\n\tu32 boot_state;\n};\n\n#define HFI_H2F_MSG_FW_VERSION 1\n\nstruct a6xx_hfi_msg_fw_version {\n\tu32 header;\n\tu32 supported_version;\n};\n\n#define HFI_H2F_MSG_PERF_TABLE 4\n\nstruct perf_level {\n\tu32 vote;\n\tu32 freq;\n};\n\nstruct perf_gx_level {\n\tu32 vote;\n\tu32 acd;\n\tu32 freq;\n};\n\nstruct a6xx_hfi_msg_perf_table_v1 {\n\tu32 header;\n\tu32 num_gpu_levels;\n\tu32 num_gmu_levels;\n\n\tstruct perf_level gx_votes[16];\n\tstruct perf_level cx_votes[4];\n};\n\nstruct a6xx_hfi_msg_perf_table {\n\tu32 header;\n\tu32 num_gpu_levels;\n\tu32 num_gmu_levels;\n\n\tstruct perf_gx_level gx_votes[16];\n\tstruct perf_level cx_votes[4];\n};\n\n#define HFI_H2F_MSG_BW_TABLE 3\n\nstruct a6xx_hfi_msg_bw_table {\n\tu32 header;\n\tu32 bw_level_num;\n\tu32 cnoc_cmds_num;\n\tu32 ddr_cmds_num;\n\tu32 cnoc_wait_bitmask;\n\tu32 ddr_wait_bitmask;\n\tu32 cnoc_cmds_addrs[6];\n\tu32 cnoc_cmds_data[2][6];\n\tu32 ddr_cmds_addrs[8];\n\tu32 ddr_cmds_data[16][8];\n};\n\n#define HFI_H2F_MSG_TEST 5\n\nstruct a6xx_hfi_msg_test {\n\tu32 header;\n};\n\n#define HFI_H2F_MSG_START 10\n\nstruct a6xx_hfi_msg_start {\n\tu32 header;\n};\n\n#define HFI_H2F_MSG_CORE_FW_START 14\n\nstruct a6xx_hfi_msg_core_fw_start {\n\tu32 header;\n\tu32 handle;\n};\n\n#define HFI_H2F_MSG_GX_BW_PERF_VOTE 30\n\nstruct a6xx_hfi_gx_bw_perf_vote_cmd {\n\tu32 header;\n\tu32 ack_type;\n\tu32 freq;\n\tu32 bw;\n};\n\n#define HFI_H2F_MSG_PREPARE_SLUMBER 33\n\nstruct a6xx_hfi_prep_slumber_cmd {\n\tu32 header;\n\tu32 bw;\n\tu32 freq;\n};\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}