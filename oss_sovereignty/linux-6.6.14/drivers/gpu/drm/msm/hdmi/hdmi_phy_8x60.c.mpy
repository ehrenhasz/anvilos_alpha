{
  "module_name": "hdmi_phy_8x60.c",
  "hash_id": "15eb780c275d4326fd58e827860565a768a34b6628ecc08d8ac04cae4a3f6163",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/msm/hdmi/hdmi_phy_8x60.c",
  "human_readable_source": "\n \n\n#include <linux/delay.h>\n\n#include \"hdmi.h\"\n\nstatic void hdmi_phy_8x60_powerup(struct hdmi_phy *phy,\n\t\tunsigned long int pixclock)\n{\n\t \n\thdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG0,\n\t\t       HDMI_8x60_PHY_REG0_DESER_DEL_CTRL(3));\n\n\tif (pixclock == 27000000) {\n\t\t \n\t\thdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG1,\n\t\t\t       HDMI_8x60_PHY_REG1_DTEST_MUX_SEL(5) |\n\t\t\t       HDMI_8x60_PHY_REG1_OUTVOL_SWING_CTRL(3));\n\t} else {\n\t\thdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG1,\n\t\t\t       HDMI_8x60_PHY_REG1_DTEST_MUX_SEL(5) |\n\t\t\t       HDMI_8x60_PHY_REG1_OUTVOL_SWING_CTRL(4));\n\t}\n\n\t \n\thdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG2,\n\t\t       HDMI_8x60_PHY_REG2_PD_PWRGEN |\n\t\t       HDMI_8x60_PHY_REG2_PD_PLL |\n\t\t       HDMI_8x60_PHY_REG2_PD_DRIVE_4 |\n\t\t       HDMI_8x60_PHY_REG2_PD_DRIVE_3 |\n\t\t       HDMI_8x60_PHY_REG2_PD_DRIVE_2 |\n\t\t       HDMI_8x60_PHY_REG2_PD_DRIVE_1 |\n\t\t       HDMI_8x60_PHY_REG2_PD_DESER);\n\n\t \n\thdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG2,\n\t\t       HDMI_8x60_PHY_REG2_PD_PLL |\n\t\t       HDMI_8x60_PHY_REG2_PD_DRIVE_4 |\n\t\t       HDMI_8x60_PHY_REG2_PD_DRIVE_3 |\n\t\t       HDMI_8x60_PHY_REG2_PD_DRIVE_2 |\n\t\t       HDMI_8x60_PHY_REG2_PD_DRIVE_1 |\n\t\t       HDMI_8x60_PHY_REG2_PD_DESER);\n\n\t \n\thdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG2,\n\t\t       HDMI_8x60_PHY_REG2_PD_DRIVE_4 |\n\t\t       HDMI_8x60_PHY_REG2_PD_DRIVE_3 |\n\t\t       HDMI_8x60_PHY_REG2_PD_DRIVE_2 |\n\t\t       HDMI_8x60_PHY_REG2_PD_DRIVE_1 |\n\t\t       HDMI_8x60_PHY_REG2_PD_DESER);\n\n\t \n\thdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG3,\n\t\t       HDMI_8x60_PHY_REG3_PLL_ENABLE);\n\n\t \n\thdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG9, 0);\n\n\t \n\thdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG12,\n\t\t       HDMI_8x60_PHY_REG12_RETIMING_EN |\n\t\t       HDMI_8x60_PHY_REG12_PLL_LOCK_DETECT_EN);\n\n\t \n\thdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG2,\n\t\t       HDMI_8x60_PHY_REG2_PD_DESER);\n\n\t \n\thdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG2,\n\t\t       HDMI_8x60_PHY_REG2_RCV_SENSE_EN |\n\t\t       HDMI_8x60_PHY_REG2_PD_DESER);\n\n\thdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG4, 0);\n\thdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG5, 0);\n\thdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG6, 0);\n\thdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG7, 0);\n\thdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG8, 0);\n\thdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG9, 0);\n\thdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG10, 0);\n\thdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG11, 0);\n\n\t \n\thdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG12,\n\t\t       HDMI_8x60_PHY_REG12_RETIMING_EN |\n\t\t       HDMI_8x60_PHY_REG12_PLL_LOCK_DETECT_EN |\n\t\t       HDMI_8x60_PHY_REG12_FORCE_LOCK);\n}\n\nstatic void hdmi_phy_8x60_powerdown(struct hdmi_phy *phy)\n{\n\t \n\thdmi_phy_write(phy, REG_HDMI_PHY_CTRL,\n\t\t       HDMI_PHY_CTRL_SW_RESET);\n\tudelay(10);\n\t \n\thdmi_phy_write(phy, REG_HDMI_PHY_CTRL, 0);\n\t \n\thdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG2,\n\t\t       HDMI_8x60_PHY_REG2_PD_DRIVE_4 |\n\t\t       HDMI_8x60_PHY_REG2_PD_DRIVE_3 |\n\t\t       HDMI_8x60_PHY_REG2_PD_DRIVE_2 |\n\t\t       HDMI_8x60_PHY_REG2_PD_DRIVE_1 |\n\t\t       HDMI_8x60_PHY_REG2_PD_DESER);\n\tudelay(10);\n\t \n\thdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG3, 0);\n\t \n\thdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG2,\n\t\t       HDMI_8x60_PHY_REG2_RCV_SENSE_EN |\n\t\t       HDMI_8x60_PHY_REG2_PD_PWRGEN |\n\t\t       HDMI_8x60_PHY_REG2_PD_PLL |\n\t\t       HDMI_8x60_PHY_REG2_PD_DRIVE_4 |\n\t\t       HDMI_8x60_PHY_REG2_PD_DRIVE_3 |\n\t\t       HDMI_8x60_PHY_REG2_PD_DRIVE_2 |\n\t\t       HDMI_8x60_PHY_REG2_PD_DRIVE_1 |\n\t\t       HDMI_8x60_PHY_REG2_PD_DESER);\n}\n\nstatic const char * const hdmi_phy_8x60_reg_names[] = {\n\t\"core-vdda\",\n};\n\nstatic const char * const hdmi_phy_8x60_clk_names[] = {\n\t\"slave_iface\",\n};\n\nconst struct hdmi_phy_cfg msm_hdmi_phy_8x60_cfg = {\n\t.type = MSM_HDMI_PHY_8x60,\n\t.powerup = hdmi_phy_8x60_powerup,\n\t.powerdown = hdmi_phy_8x60_powerdown,\n\t.reg_names = hdmi_phy_8x60_reg_names,\n\t.num_regs = ARRAY_SIZE(hdmi_phy_8x60_reg_names),\n\t.clk_names = hdmi_phy_8x60_clk_names,\n\t.num_clks = ARRAY_SIZE(hdmi_phy_8x60_clk_names),\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}