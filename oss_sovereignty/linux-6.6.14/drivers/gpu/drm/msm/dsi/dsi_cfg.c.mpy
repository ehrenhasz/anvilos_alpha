{
  "module_name": "dsi_cfg.c",
  "hash_id": "a280b752b6a26d0fa66309668be5981834b791a350119957dc4f784f8114b5be",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/msm/dsi/dsi_cfg.c",
  "human_readable_source": "\n \n\n#include \"dsi_cfg.h\"\n\nstatic const char * const dsi_v2_bus_clk_names[] = {\n\t\"core_mmss\", \"iface\", \"bus\",\n};\n\nstatic const struct regulator_bulk_data apq8064_dsi_regulators[] = {\n\t{ .supply = \"vdda\", .init_load_uA = 100000 },\t \n\t{ .supply = \"avdd\", .init_load_uA = 10000 },\t \n\t{ .supply = \"vddio\", .init_load_uA = 100000 },\t \n};\n\nstatic const struct msm_dsi_config apq8064_dsi_cfg = {\n\t.io_offset = 0,\n\t.regulator_data = apq8064_dsi_regulators,\n\t.num_regulators = ARRAY_SIZE(apq8064_dsi_regulators),\n\t.bus_clk_names = dsi_v2_bus_clk_names,\n\t.num_bus_clks = ARRAY_SIZE(dsi_v2_bus_clk_names),\n\t.io_start = {\n\t\t{ 0x4700000, 0x5800000 },\n\t},\n};\n\nstatic const char * const dsi_6g_bus_clk_names[] = {\n\t\"mdp_core\", \"iface\", \"bus\", \"core_mmss\",\n};\n\nstatic const struct regulator_bulk_data msm8974_apq8084_regulators[] = {\n\t{ .supply = \"vdd\", .init_load_uA = 150000 },\t \n\t{ .supply = \"vdda\", .init_load_uA = 100000 },\t \n\t{ .supply = \"vddio\", .init_load_uA = 100000 },\t \n};\n\nstatic const struct msm_dsi_config msm8974_apq8084_dsi_cfg = {\n\t.io_offset = DSI_6G_REG_SHIFT,\n\t.regulator_data = msm8974_apq8084_regulators,\n\t.num_regulators = ARRAY_SIZE(msm8974_apq8084_regulators),\n\t.bus_clk_names = dsi_6g_bus_clk_names,\n\t.num_bus_clks = ARRAY_SIZE(dsi_6g_bus_clk_names),\n\t.io_start = {\n\t\t{ 0xfd922800, 0xfd922b00 },\n\t},\n};\n\nstatic const char * const dsi_v1_3_1_clk_names[] = {\n\t\"mdp_core\", \"iface\", \"bus\",\n};\n\nstatic const struct regulator_bulk_data dsi_v1_3_1_regulators[] = {\n\t{ .supply = \"vdda\", .init_load_uA = 100000 },\t \n\t{ .supply = \"vddio\", .init_load_uA = 100000 },\t \n};\n\nstatic const struct msm_dsi_config msm8916_dsi_cfg = {\n\t.io_offset = DSI_6G_REG_SHIFT,\n\t.regulator_data = dsi_v1_3_1_regulators,\n\t.num_regulators = ARRAY_SIZE(dsi_v1_3_1_regulators),\n\t.bus_clk_names = dsi_v1_3_1_clk_names,\n\t.num_bus_clks = ARRAY_SIZE(dsi_v1_3_1_clk_names),\n\t.io_start = {\n\t\t{ 0x1a98000 },\n\t},\n};\n\nstatic const struct msm_dsi_config msm8976_dsi_cfg = {\n\t.io_offset = DSI_6G_REG_SHIFT,\n\t.regulator_data = dsi_v1_3_1_regulators,\n\t.num_regulators = ARRAY_SIZE(dsi_v1_3_1_regulators),\n\t.bus_clk_names = dsi_v1_3_1_clk_names,\n\t.num_bus_clks = ARRAY_SIZE(dsi_v1_3_1_clk_names),\n\t.io_start = {\n\t\t{ 0x1a94000, 0x1a96000 },\n\t},\n};\n\nstatic const struct regulator_bulk_data msm8994_dsi_regulators[] = {\n\t{ .supply = \"vdda\", .init_load_uA = 100000 },\t \n\t{ .supply = \"vddio\", .init_load_uA = 100000 },\t \n\t{ .supply = \"vcca\", .init_load_uA = 10000 },\t \n\t{ .supply = \"vdd\", .init_load_uA = 100000 },\t \n\t{ .supply = \"lab_reg\", .init_load_uA = -1 },\n\t{ .supply = \"ibb_reg\", .init_load_uA = -1 },\n};\n\nstatic const struct msm_dsi_config msm8994_dsi_cfg = {\n\t.io_offset = DSI_6G_REG_SHIFT,\n\t.regulator_data = msm8994_dsi_regulators,\n\t.num_regulators = ARRAY_SIZE(msm8994_dsi_regulators),\n\t.bus_clk_names = dsi_6g_bus_clk_names,\n\t.num_bus_clks = ARRAY_SIZE(dsi_6g_bus_clk_names),\n\t.io_start = {\n\t\t{ 0xfd998000, 0xfd9a0000 },\n\t},\n};\n\nstatic const struct regulator_bulk_data msm8996_dsi_regulators[] = {\n\t{ .supply = \"vdda\", .init_load_uA = 18160 },\t \n\t{ .supply = \"vcca\", .init_load_uA = 17000 },\t \n\t{ .supply = \"vddio\", .init_load_uA = 100000 },\t \n};\n\nstatic const struct msm_dsi_config msm8996_dsi_cfg = {\n\t.io_offset = DSI_6G_REG_SHIFT,\n\t.regulator_data = msm8996_dsi_regulators,\n\t.num_regulators = ARRAY_SIZE(msm8996_dsi_regulators),\n\t.bus_clk_names = dsi_6g_bus_clk_names,\n\t.num_bus_clks = ARRAY_SIZE(dsi_6g_bus_clk_names),\n\t.io_start = {\n\t\t{ 0x994000, 0x996000 },\n\t},\n};\n\nstatic const char * const dsi_msm8998_bus_clk_names[] = {\n\t\"iface\", \"bus\", \"core\",\n};\n\nstatic const struct regulator_bulk_data msm8998_dsi_regulators[] = {\n\t{ .supply = \"vdd\", .init_load_uA = 367000 },\t \n\t{ .supply = \"vdda\", .init_load_uA = 62800 },\t \n};\n\nstatic const struct msm_dsi_config msm8998_dsi_cfg = {\n\t.io_offset = DSI_6G_REG_SHIFT,\n\t.regulator_data = msm8998_dsi_regulators,\n\t.num_regulators = ARRAY_SIZE(msm8998_dsi_regulators),\n\t.bus_clk_names = dsi_msm8998_bus_clk_names,\n\t.num_bus_clks = ARRAY_SIZE(dsi_msm8998_bus_clk_names),\n\t.io_start = {\n\t\t{ 0xc994000, 0xc996000 },\n\t},\n};\n\nstatic const char * const dsi_sdm660_bus_clk_names[] = {\n\t\"iface\", \"bus\", \"core\", \"core_mmss\",\n};\n\nstatic const struct regulator_bulk_data sdm660_dsi_regulators[] = {\n\t{ .supply = \"vdda\", .init_load_uA = 12560 },\t \n};\n\nstatic const struct msm_dsi_config sdm660_dsi_cfg = {\n\t.io_offset = DSI_6G_REG_SHIFT,\n\t.regulator_data = sdm660_dsi_regulators,\n\t.num_regulators = ARRAY_SIZE(sdm660_dsi_regulators),\n\t.bus_clk_names = dsi_sdm660_bus_clk_names,\n\t.num_bus_clks = ARRAY_SIZE(dsi_sdm660_bus_clk_names),\n\t.io_start = {\n\t\t{ 0xc994000, 0xc996000 },\n\t},\n};\n\nstatic const char * const dsi_v2_4_clk_names[] = {\n\t\"iface\", \"bus\",\n};\n\nstatic const struct regulator_bulk_data dsi_v2_4_regulators[] = {\n\t{ .supply = \"vdda\", .init_load_uA = 21800 },\t \n\t{ .supply = \"refgen\" },\n};\n\nstatic const struct msm_dsi_config sdm845_dsi_cfg = {\n\t.io_offset = DSI_6G_REG_SHIFT,\n\t.regulator_data = dsi_v2_4_regulators,\n\t.num_regulators = ARRAY_SIZE(dsi_v2_4_regulators),\n\t.bus_clk_names = dsi_v2_4_clk_names,\n\t.num_bus_clks = ARRAY_SIZE(dsi_v2_4_clk_names),\n\t.io_start = {\n\t\t{ 0xae94000, 0xae96000 },  \n\t\t{ 0x5e94000 },  \n\t},\n};\n\nstatic const struct regulator_bulk_data sm8550_dsi_regulators[] = {\n\t{ .supply = \"vdda\", .init_load_uA = 16800 },\t \n};\n\nstatic const struct msm_dsi_config sm8550_dsi_cfg = {\n\t.io_offset = DSI_6G_REG_SHIFT,\n\t.regulator_data = sm8550_dsi_regulators,\n\t.num_regulators = ARRAY_SIZE(sm8550_dsi_regulators),\n\t.bus_clk_names = dsi_v2_4_clk_names,\n\t.num_bus_clks = ARRAY_SIZE(dsi_v2_4_clk_names),\n\t.io_start = {\n\t\t{ 0xae94000, 0xae96000 },\n\t},\n};\n\nstatic const struct regulator_bulk_data sc7280_dsi_regulators[] = {\n\t{ .supply = \"vdda\", .init_load_uA = 8350 },\t \n\t{ .supply = \"refgen\" },\n};\n\nstatic const struct msm_dsi_config sc7280_dsi_cfg = {\n\t.io_offset = DSI_6G_REG_SHIFT,\n\t.regulator_data = sc7280_dsi_regulators,\n\t.num_regulators = ARRAY_SIZE(sc7280_dsi_regulators),\n\t.bus_clk_names = dsi_v2_4_clk_names,\n\t.num_bus_clks = ARRAY_SIZE(dsi_v2_4_clk_names),\n\t.io_start = {\n\t\t{ 0xae94000, 0xae96000 },\n\t},\n};\n\nstatic const struct msm_dsi_host_cfg_ops msm_dsi_v2_host_ops = {\n\t.link_clk_set_rate = dsi_link_clk_set_rate_v2,\n\t.link_clk_enable = dsi_link_clk_enable_v2,\n\t.link_clk_disable = dsi_link_clk_disable_v2,\n\t.clk_init_ver = dsi_clk_init_v2,\n\t.tx_buf_alloc = dsi_tx_buf_alloc_v2,\n\t.tx_buf_get = dsi_tx_buf_get_v2,\n\t.tx_buf_put = NULL,\n\t.dma_base_get = dsi_dma_base_get_v2,\n\t.calc_clk_rate = dsi_calc_clk_rate_v2,\n};\n\nstatic const struct msm_dsi_host_cfg_ops msm_dsi_6g_host_ops = {\n\t.link_clk_set_rate = dsi_link_clk_set_rate_6g,\n\t.link_clk_enable = dsi_link_clk_enable_6g,\n\t.link_clk_disable = dsi_link_clk_disable_6g,\n\t.clk_init_ver = NULL,\n\t.tx_buf_alloc = dsi_tx_buf_alloc_6g,\n\t.tx_buf_get = dsi_tx_buf_get_6g,\n\t.tx_buf_put = dsi_tx_buf_put_6g,\n\t.dma_base_get = dsi_dma_base_get_6g,\n\t.calc_clk_rate = dsi_calc_clk_rate_6g,\n};\n\nstatic const struct msm_dsi_host_cfg_ops msm_dsi_6g_v2_host_ops = {\n\t.link_clk_set_rate = dsi_link_clk_set_rate_6g,\n\t.link_clk_enable = dsi_link_clk_enable_6g,\n\t.link_clk_disable = dsi_link_clk_disable_6g,\n\t.clk_init_ver = dsi_clk_init_6g_v2,\n\t.tx_buf_alloc = dsi_tx_buf_alloc_6g,\n\t.tx_buf_get = dsi_tx_buf_get_6g,\n\t.tx_buf_put = dsi_tx_buf_put_6g,\n\t.dma_base_get = dsi_dma_base_get_6g,\n\t.calc_clk_rate = dsi_calc_clk_rate_6g,\n};\n\nstatic const struct msm_dsi_cfg_handler dsi_cfg_handlers[] = {\n\t{MSM_DSI_VER_MAJOR_V2, MSM_DSI_V2_VER_MINOR_8064,\n\t\t&apq8064_dsi_cfg, &msm_dsi_v2_host_ops},\n\t{MSM_DSI_VER_MAJOR_6G, MSM_DSI_6G_VER_MINOR_V1_0,\n\t\t&msm8974_apq8084_dsi_cfg, &msm_dsi_6g_host_ops},\n\t{MSM_DSI_VER_MAJOR_6G, MSM_DSI_6G_VER_MINOR_V1_0_2,\n\t\t&msm8974_apq8084_dsi_cfg, &msm_dsi_6g_host_ops},\n\t{MSM_DSI_VER_MAJOR_6G, MSM_DSI_6G_VER_MINOR_V1_1,\n\t\t&msm8974_apq8084_dsi_cfg, &msm_dsi_6g_host_ops},\n\t{MSM_DSI_VER_MAJOR_6G, MSM_DSI_6G_VER_MINOR_V1_1_1,\n\t\t&msm8974_apq8084_dsi_cfg, &msm_dsi_6g_host_ops},\n\t{MSM_DSI_VER_MAJOR_6G, MSM_DSI_6G_VER_MINOR_V1_2,\n\t\t&msm8974_apq8084_dsi_cfg, &msm_dsi_6g_host_ops},\n\t{MSM_DSI_VER_MAJOR_6G, MSM_DSI_6G_VER_MINOR_V1_3,\n\t\t&msm8994_dsi_cfg, &msm_dsi_6g_host_ops},\n\t{MSM_DSI_VER_MAJOR_6G, MSM_DSI_6G_VER_MINOR_V1_3_1,\n\t\t&msm8916_dsi_cfg, &msm_dsi_6g_host_ops},\n\t{MSM_DSI_VER_MAJOR_6G, MSM_DSI_6G_VER_MINOR_V1_4_1,\n\t\t&msm8996_dsi_cfg, &msm_dsi_6g_host_ops},\n\t{MSM_DSI_VER_MAJOR_6G, MSM_DSI_6G_VER_MINOR_V1_4_2,\n\t\t&msm8976_dsi_cfg, &msm_dsi_6g_host_ops},\n\t{MSM_DSI_VER_MAJOR_6G, MSM_DSI_6G_VER_MINOR_V2_1_0,\n\t\t&sdm660_dsi_cfg, &msm_dsi_6g_v2_host_ops},\n\t{MSM_DSI_VER_MAJOR_6G, MSM_DSI_6G_VER_MINOR_V2_2_0,\n\t\t&msm8998_dsi_cfg, &msm_dsi_6g_v2_host_ops},\n\t{MSM_DSI_VER_MAJOR_6G, MSM_DSI_6G_VER_MINOR_V2_2_1,\n\t\t&sdm845_dsi_cfg, &msm_dsi_6g_v2_host_ops},\n\t{MSM_DSI_VER_MAJOR_6G, MSM_DSI_6G_VER_MINOR_V2_3_0,\n\t\t&sdm845_dsi_cfg, &msm_dsi_6g_v2_host_ops},\n\t{MSM_DSI_VER_MAJOR_6G, MSM_DSI_6G_VER_MINOR_V2_4_0,\n\t\t&sdm845_dsi_cfg, &msm_dsi_6g_v2_host_ops},\n\t{MSM_DSI_VER_MAJOR_6G, MSM_DSI_6G_VER_MINOR_V2_4_1,\n\t\t&sdm845_dsi_cfg, &msm_dsi_6g_v2_host_ops},\n\t{MSM_DSI_VER_MAJOR_6G, MSM_DSI_6G_VER_MINOR_V2_5_0,\n\t\t&sc7280_dsi_cfg, &msm_dsi_6g_v2_host_ops},\n\t{MSM_DSI_VER_MAJOR_6G, MSM_DSI_6G_VER_MINOR_V2_6_0,\n\t\t&sdm845_dsi_cfg, &msm_dsi_6g_v2_host_ops},\n\t{MSM_DSI_VER_MAJOR_6G, MSM_DSI_6G_VER_MINOR_V2_7_0,\n\t\t&sm8550_dsi_cfg, &msm_dsi_6g_v2_host_ops},\n};\n\nconst struct msm_dsi_cfg_handler *msm_dsi_cfg_get(u32 major, u32 minor)\n{\n\tconst struct msm_dsi_cfg_handler *cfg_hnd = NULL;\n\tint i;\n\n\tfor (i = ARRAY_SIZE(dsi_cfg_handlers) - 1; i >= 0; i--) {\n\t\tif ((dsi_cfg_handlers[i].major == major) &&\n\t\t\t(dsi_cfg_handlers[i].minor == minor)) {\n\t\t\tcfg_hnd = &dsi_cfg_handlers[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn cfg_hnd;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}