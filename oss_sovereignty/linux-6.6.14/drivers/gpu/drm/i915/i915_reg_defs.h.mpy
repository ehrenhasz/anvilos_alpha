{
  "module_name": "i915_reg_defs.h",
  "hash_id": "b386a946636780fdc5212f1e7c1e9a75d8526b8d366e0444a0e9a4bcb3ac02f0",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/i915/i915_reg_defs.h",
  "human_readable_source": " \n \n\n#ifndef __I915_REG_DEFS__\n#define __I915_REG_DEFS__\n\n#include <linux/bitfield.h>\n#include <linux/bits.h>\n\n \n#define REG_BIT(__n)\t\t\t\t\t\t\t\\\n\t((u32)(BIT(__n) +\t\t\t\t\t\t\\\n\t       BUILD_BUG_ON_ZERO(__is_constexpr(__n) &&\t\t\\\n\t\t\t\t ((__n) < 0 || (__n) > 31))))\n\n \n#define REG_BIT8(__n)                                                   \\\n\t((u8)(BIT(__n) +                                                \\\n\t       BUILD_BUG_ON_ZERO(__is_constexpr(__n) &&         \\\n\t\t\t\t ((__n) < 0 || (__n) > 7))))\n\n \n#define REG_GENMASK(__high, __low)\t\t\t\t\t\\\n\t((u32)(GENMASK(__high, __low) +\t\t\t\t\t\\\n\t       BUILD_BUG_ON_ZERO(__is_constexpr(__high) &&\t\\\n\t\t\t\t __is_constexpr(__low) &&\t\t\\\n\t\t\t\t ((__low) < 0 || (__high) > 31 || (__low) > (__high)))))\n\n \n#define REG_GENMASK64(__high, __low)\t\t\t\t\t\\\n\t((u64)(GENMASK_ULL(__high, __low) +\t\t\t\t\\\n\t       BUILD_BUG_ON_ZERO(__is_constexpr(__high) &&\t\t\\\n\t\t\t\t __is_constexpr(__low) &&\t\t\\\n\t\t\t\t ((__low) < 0 || (__high) > 63 || (__low) > (__high)))))\n\n \n#define REG_GENMASK8(__high, __low)                                     \\\n\t((u8)(GENMASK(__high, __low) +                                  \\\n\t       BUILD_BUG_ON_ZERO(__is_constexpr(__high) &&      \\\n\t\t\t\t __is_constexpr(__low) &&               \\\n\t\t\t\t ((__low) < 0 || (__high) > 7 || (__low) > (__high)))))\n\n \n#define IS_POWER_OF_2(__x)\t\t((__x) && (((__x) & ((__x) - 1)) == 0))\n\n \n#define REG_FIELD_PREP(__mask, __val)\t\t\t\t\t\t\\\n\t((u32)((((typeof(__mask))(__val) << __bf_shf(__mask)) & (__mask)) +\t\\\n\t       BUILD_BUG_ON_ZERO(!__is_constexpr(__mask)) +\t\t\\\n\t       BUILD_BUG_ON_ZERO((__mask) == 0 || (__mask) > U32_MAX) +\t\t\\\n\t       BUILD_BUG_ON_ZERO(!IS_POWER_OF_2((__mask) + (1ULL << __bf_shf(__mask)))) + \\\n\t       BUILD_BUG_ON_ZERO(__builtin_choose_expr(__is_constexpr(__val), (~((__mask) >> __bf_shf(__mask)) & (__val)), 0))))\n\n \n#define REG_FIELD_PREP8(__mask, __val)                                          \\\n\t((u8)((((typeof(__mask))(__val) << __bf_shf(__mask)) & (__mask)) +      \\\n\t       BUILD_BUG_ON_ZERO(!__is_constexpr(__mask)) +             \\\n\t       BUILD_BUG_ON_ZERO((__mask) == 0 || (__mask) > U8_MAX) +          \\\n\t       BUILD_BUG_ON_ZERO(!IS_POWER_OF_2((__mask) + (1ULL << __bf_shf(__mask)))) + \\\n\t       BUILD_BUG_ON_ZERO(__builtin_choose_expr(__is_constexpr(__val), (~((__mask) >> __bf_shf(__mask)) & (__val)), 0))))\n\n \n#define REG_FIELD_GET(__mask, __val)\t((u32)FIELD_GET(__mask, __val))\n\n \n#define REG_FIELD_GET64(__mask, __val)\t((u64)FIELD_GET(__mask, __val))\n\n \n#define REG_BIT16(__n)                                                   \\\n\t((u16)(BIT(__n) +                                                \\\n\t       BUILD_BUG_ON_ZERO(__is_constexpr(__n) &&         \\\n\t\t\t\t ((__n) < 0 || (__n) > 15))))\n\n \n#define REG_GENMASK16(__high, __low)                                     \\\n\t((u16)(GENMASK(__high, __low) +                                  \\\n\t       BUILD_BUG_ON_ZERO(__is_constexpr(__high) &&      \\\n\t\t\t\t __is_constexpr(__low) &&               \\\n\t\t\t\t ((__low) < 0 || (__high) > 15 || (__low) > (__high)))))\n\n \n#define REG_FIELD_PREP16(__mask, __val)                                          \\\n\t((u16)((((typeof(__mask))(__val) << __bf_shf(__mask)) & (__mask)) +      \\\n\t       BUILD_BUG_ON_ZERO(!__is_constexpr(__mask)) +             \\\n\t       BUILD_BUG_ON_ZERO((__mask) == 0 || (__mask) > U16_MAX) +          \\\n\t       BUILD_BUG_ON_ZERO(!IS_POWER_OF_2((__mask) + (1ULL << __bf_shf(__mask)))) + \\\n\t       BUILD_BUG_ON_ZERO(__builtin_choose_expr(__is_constexpr(__val), (~((__mask) >> __bf_shf(__mask)) & (__val)), 0))))\n\n#define __MASKED_FIELD(mask, value) ((mask) << 16 | (value))\n#define _MASKED_FIELD(mask, value) ({\t\t\t\t\t   \\\n\tif (__builtin_constant_p(mask))\t\t\t\t\t   \\\n\t\tBUILD_BUG_ON_MSG(((mask) & 0xffff0000), \"Incorrect mask\"); \\\n\tif (__builtin_constant_p(value))\t\t\t\t   \\\n\t\tBUILD_BUG_ON_MSG((value) & 0xffff0000, \"Incorrect value\"); \\\n\tif (__builtin_constant_p(mask) && __builtin_constant_p(value))\t   \\\n\t\tBUILD_BUG_ON_MSG((value) & ~(mask),\t\t\t   \\\n\t\t\t\t \"Incorrect value for mask\");\t\t   \\\n\t__MASKED_FIELD(mask, value); })\n#define _MASKED_BIT_ENABLE(a)\t({ typeof(a) _a = (a); _MASKED_FIELD(_a, _a); })\n#define _MASKED_BIT_DISABLE(a)\t(_MASKED_FIELD((a), 0))\n\n \n#define _PICK_EVEN(__index, __a, __b) ((__a) + (__index) * ((__b) - (__a)))\n\n \n#define _PICK_EVEN_2RANGES(__index, __c_index, __a, __b, __c, __d)\t\t\\\n\t(BUILD_BUG_ON_ZERO(!__is_constexpr(__c_index)) +\t\t\t\\\n\t ((__index) < (__c_index) ? _PICK_EVEN(__index, __a, __b) :\t\t\\\n\t\t\t\t   _PICK_EVEN((__index) - (__c_index), __c, __d)))\n\n \n#define _PICK(__index, ...) (((const u32 []){ __VA_ARGS__ })[__index])\n\n \n#define REG_FIELD_GET8(__mask, __val)   ((u8)FIELD_GET(__mask, __val))\n\ntypedef struct {\n\tu32 reg;\n} i915_reg_t;\n\n#define _MMIO(r) ((const i915_reg_t){ .reg = (r) })\n\ntypedef struct {\n\tu32 reg;\n} i915_mcr_reg_t;\n\n#define MCR_REG(offset)\t((const i915_mcr_reg_t){ .reg = (offset) })\n\n#define INVALID_MMIO_REG _MMIO(0)\n\n \n#define i915_mmio_reg_offset(r) \\\n\t_Generic((r), i915_reg_t: (r).reg, i915_mcr_reg_t: (r).reg)\n#define i915_mmio_reg_equal(a, b) (i915_mmio_reg_offset(a) == i915_mmio_reg_offset(b))\n#define i915_mmio_reg_valid(r) (!i915_mmio_reg_equal(r, INVALID_MMIO_REG))\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}