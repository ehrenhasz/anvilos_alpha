{
  "module_name": "fb_decoder.h",
  "hash_id": "b7d17d027c9b5e8328a69b5f331f0e0f80b7e4cc1408503e6cf6961cf91a7dd4",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/i915/gvt/fb_decoder.h",
  "human_readable_source": " \n\n#ifndef _GVT_FB_DECODER_H_\n#define _GVT_FB_DECODER_H_\n\n#include <linux/types.h>\n\n#include \"display/intel_display_limits.h\"\n\nstruct intel_vgpu;\n\n#define _PLANE_CTL_FORMAT_SHIFT\t\t24\n#define _PLANE_CTL_TILED_SHIFT\t\t10\n#define _PIPE_V_SRCSZ_SHIFT\t\t0\n#define _PIPE_V_SRCSZ_MASK\t\t(0xfff << _PIPE_V_SRCSZ_SHIFT)\n#define _PIPE_H_SRCSZ_SHIFT\t\t16\n#define _PIPE_H_SRCSZ_MASK\t\t(0x1fff << _PIPE_H_SRCSZ_SHIFT)\n\n#define _PRI_PLANE_FMT_SHIFT\t\t26\n#define _PRI_PLANE_STRIDE_MASK\t\t(0x3ff << 6)\n#define _PRI_PLANE_X_OFF_SHIFT\t\t0\n#define _PRI_PLANE_X_OFF_MASK\t\t(0x1fff << _PRI_PLANE_X_OFF_SHIFT)\n#define _PRI_PLANE_Y_OFF_SHIFT\t\t16\n#define _PRI_PLANE_Y_OFF_MASK\t\t(0xfff << _PRI_PLANE_Y_OFF_SHIFT)\n\n#define _CURSOR_MODE\t\t\t0x3f\n#define _CURSOR_ALPHA_FORCE_SHIFT\t8\n#define _CURSOR_ALPHA_FORCE_MASK\t(0x3 << _CURSOR_ALPHA_FORCE_SHIFT)\n#define _CURSOR_ALPHA_PLANE_SHIFT\t10\n#define _CURSOR_ALPHA_PLANE_MASK\t(0x3 << _CURSOR_ALPHA_PLANE_SHIFT)\n#define _CURSOR_POS_X_SHIFT\t\t0\n#define _CURSOR_POS_X_MASK\t\t(0x1fff << _CURSOR_POS_X_SHIFT)\n#define _CURSOR_SIGN_X_SHIFT\t\t15\n#define _CURSOR_SIGN_X_MASK\t\t(1 << _CURSOR_SIGN_X_SHIFT)\n#define _CURSOR_POS_Y_SHIFT\t\t16\n#define _CURSOR_POS_Y_MASK\t\t(0xfff << _CURSOR_POS_Y_SHIFT)\n#define _CURSOR_SIGN_Y_SHIFT\t\t31\n#define _CURSOR_SIGN_Y_MASK\t\t(1 << _CURSOR_SIGN_Y_SHIFT)\n\n#define _SPRITE_FMT_SHIFT\t\t25\n#define _SPRITE_COLOR_ORDER_SHIFT\t20\n#define _SPRITE_YUV_ORDER_SHIFT\t\t16\n#define _SPRITE_STRIDE_SHIFT\t\t6\n#define _SPRITE_STRIDE_MASK\t\t(0x1ff << _SPRITE_STRIDE_SHIFT)\n#define _SPRITE_SIZE_WIDTH_SHIFT\t0\n#define _SPRITE_SIZE_HEIGHT_SHIFT\t16\n#define _SPRITE_SIZE_WIDTH_MASK\t\t(0x1fff << _SPRITE_SIZE_WIDTH_SHIFT)\n#define _SPRITE_SIZE_HEIGHT_MASK\t(0xfff << _SPRITE_SIZE_HEIGHT_SHIFT)\n#define _SPRITE_POS_X_SHIFT\t\t0\n#define _SPRITE_POS_Y_SHIFT\t\t16\n#define _SPRITE_POS_X_MASK\t\t(0x1fff << _SPRITE_POS_X_SHIFT)\n#define _SPRITE_POS_Y_MASK\t\t(0xfff << _SPRITE_POS_Y_SHIFT)\n#define _SPRITE_OFFSET_START_X_SHIFT\t0\n#define _SPRITE_OFFSET_START_Y_SHIFT\t16\n#define _SPRITE_OFFSET_START_X_MASK\t(0x1fff << _SPRITE_OFFSET_START_X_SHIFT)\n#define _SPRITE_OFFSET_START_Y_MASK\t(0xfff << _SPRITE_OFFSET_START_Y_SHIFT)\n\nenum GVT_FB_EVENT {\n\tFB_MODE_SET_START = 1,\n\tFB_MODE_SET_END,\n\tFB_DISPLAY_FLIP,\n};\n\nenum DDI_PORT {\n\tDDI_PORT_NONE\t= 0,\n\tDDI_PORT_B\t= 1,\n\tDDI_PORT_C\t= 2,\n\tDDI_PORT_D\t= 3,\n\tDDI_PORT_E\t= 4\n};\n\n \nstruct intel_vgpu_primary_plane_format {\n\tu8\tenabled;\t \n\tu32\ttiled;\t\t \n\tu8\tbpp;\t\t \n\tu32\thw_format;\t \n\tu32\tdrm_format;\t \n\tu32\tbase;\t\t \n\tu64     base_gpa;\n\tu32\tx_offset;\t \n\tu32\ty_offset;\t \n\tu32\twidth;\t\t \n\tu32\theight;\t\t \n\tu32\tstride;\t\t \n};\n\nstruct intel_vgpu_sprite_plane_format {\n\tu8\tenabled;\t \n\tu8\ttiled;\t\t \n\tu8\tbpp;\t\t \n\tu32\thw_format;\t \n\tu32\tdrm_format;\t \n\tu32\tbase;\t\t \n\tu64     base_gpa;\n\tu32\tx_pos;\t\t \n\tu32\ty_pos;\t\t \n\tu32\tx_offset;\t \n\tu32\ty_offset;\t \n\tu32\twidth;\t\t \n\tu32\theight;\t\t \n\tu32\tstride;\t\t \n};\n\nstruct intel_vgpu_cursor_plane_format {\n\tu8\tenabled;\n\tu8\tmode;\t\t \n\tu8\tbpp;\t\t \n\tu32\tdrm_format;\t \n\tu32\tbase;\t\t \n\tu64     base_gpa;\n\tu32\tx_pos;\t\t \n\tu32\ty_pos;\t\t \n\tu8\tx_sign;\t\t \n\tu8\ty_sign;\t\t \n\tu32\twidth;\t\t \n\tu32\theight;\t\t \n\tu32\tx_hot;\t\t \n\tu32\ty_hot;\t\t \n};\n\nstruct intel_vgpu_pipe_format {\n\tstruct intel_vgpu_primary_plane_format\tprimary;\n\tstruct intel_vgpu_sprite_plane_format\tsprite;\n\tstruct intel_vgpu_cursor_plane_format\tcursor;\n\tenum DDI_PORT ddi_port;   \n};\n\nstruct intel_vgpu_fb_format {\n\tstruct intel_vgpu_pipe_format\tpipes[I915_MAX_PIPES];\n};\n\nint intel_vgpu_decode_primary_plane(struct intel_vgpu *vgpu,\n\tstruct intel_vgpu_primary_plane_format *plane);\nint intel_vgpu_decode_cursor_plane(struct intel_vgpu *vgpu,\n\tstruct intel_vgpu_cursor_plane_format *plane);\nint intel_vgpu_decode_sprite_plane(struct intel_vgpu *vgpu,\n\tstruct intel_vgpu_sprite_plane_format *plane);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}