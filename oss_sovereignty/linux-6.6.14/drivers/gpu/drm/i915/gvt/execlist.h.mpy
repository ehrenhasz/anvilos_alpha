{
  "module_name": "execlist.h",
  "hash_id": "362158192f663ed39e17180cbe3abd648cab6be3fd94e9f0ea9e6336145cdfae",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/i915/gvt/execlist.h",
  "human_readable_source": " \n\n#ifndef _GVT_EXECLIST_H_\n#define _GVT_EXECLIST_H_\n\n#include <linux/types.h>\n\nstruct execlist_ctx_descriptor_format {\n\tunion {\n\t\tu32 ldw;\n\t\tstruct {\n\t\t\tu32 valid                  : 1;\n\t\t\tu32 force_pd_restore       : 1;\n\t\t\tu32 force_restore          : 1;\n\t\t\tu32 addressing_mode        : 2;\n\t\t\tu32 llc_coherency          : 1;\n\t\t\tu32 fault_handling         : 2;\n\t\t\tu32 privilege_access       : 1;\n\t\t\tu32 reserved               : 3;\n\t\t\tu32 lrca                   : 20;\n\t\t};\n\t};\n\tunion {\n\t\tu32 udw;\n\t\tu32 context_id;\n\t};\n};\n\nstruct execlist_status_format {\n\tunion {\n\t\tu32 ldw;\n\t\tstruct {\n\t\t\tu32 current_execlist_pointer       :1;\n\t\t\tu32 execlist_write_pointer         :1;\n\t\t\tu32 execlist_queue_full            :1;\n\t\t\tu32 execlist_1_valid               :1;\n\t\t\tu32 execlist_0_valid               :1;\n\t\t\tu32 last_ctx_switch_reason         :9;\n\t\t\tu32 current_active_elm_status      :2;\n\t\t\tu32 arbitration_enable             :1;\n\t\t\tu32 execlist_1_active              :1;\n\t\t\tu32 execlist_0_active              :1;\n\t\t\tu32 reserved                       :13;\n\t\t};\n\t};\n\tunion {\n\t\tu32 udw;\n\t\tu32 context_id;\n\t};\n};\n\nstruct execlist_context_status_pointer_format {\n\tunion {\n\t\tu32 dw;\n\t\tstruct {\n\t\t\tu32 write_ptr              :3;\n\t\t\tu32 reserved               :5;\n\t\t\tu32 read_ptr               :3;\n\t\t\tu32 reserved2              :5;\n\t\t\tu32 mask                   :16;\n\t\t};\n\t};\n};\n\nstruct execlist_context_status_format {\n\tunion {\n\t\tu32 ldw;\n\t\tstruct {\n\t\t\tu32 idle_to_active         :1;\n\t\t\tu32 preempted              :1;\n\t\t\tu32 element_switch         :1;\n\t\t\tu32 active_to_idle         :1;\n\t\t\tu32 context_complete       :1;\n\t\t\tu32 wait_on_sync_flip      :1;\n\t\t\tu32 wait_on_vblank         :1;\n\t\t\tu32 wait_on_semaphore      :1;\n\t\t\tu32 wait_on_scanline       :1;\n\t\t\tu32 reserved               :2;\n\t\t\tu32 semaphore_wait_mode    :1;\n\t\t\tu32 display_plane          :3;\n\t\t\tu32 lite_restore           :1;\n\t\t\tu32 reserved_2             :16;\n\t\t};\n\t};\n\tunion {\n\t\tu32 udw;\n\t\tu32 context_id;\n\t};\n};\n\nstruct execlist_mmio_pair {\n\tu32 addr;\n\tu32 val;\n};\n\n \nstruct execlist_ring_context {\n\tu32 nop1;\n\tu32 lri_cmd_1;\n\tstruct execlist_mmio_pair ctx_ctrl;\n\tstruct execlist_mmio_pair ring_header;\n\tstruct execlist_mmio_pair ring_tail;\n\tstruct execlist_mmio_pair rb_start;\n\tstruct execlist_mmio_pair rb_ctrl;\n\tstruct execlist_mmio_pair bb_cur_head_UDW;\n\tstruct execlist_mmio_pair bb_cur_head_LDW;\n\tstruct execlist_mmio_pair bb_state;\n\tstruct execlist_mmio_pair second_bb_addr_UDW;\n\tstruct execlist_mmio_pair second_bb_addr_LDW;\n\tstruct execlist_mmio_pair second_bb_state;\n\tstruct execlist_mmio_pair bb_per_ctx_ptr;\n\tstruct execlist_mmio_pair rcs_indirect_ctx;\n\tstruct execlist_mmio_pair rcs_indirect_ctx_offset;\n\tu32 nop2;\n\tu32 nop3;\n\tu32 nop4;\n\tu32 lri_cmd_2;\n\tstruct execlist_mmio_pair ctx_timestamp;\n\t \n\tstruct execlist_mmio_pair pdps[8];\n};\n\nstruct intel_vgpu_elsp_dwords {\n\tu32 data[4];\n\tu32 index;\n};\n\nstruct intel_vgpu_execlist_slot {\n\tstruct execlist_ctx_descriptor_format ctx[2];\n\tu32 index;\n};\n\nstruct intel_vgpu_execlist {\n\tstruct intel_vgpu_execlist_slot slot[2];\n\tstruct intel_vgpu_execlist_slot *running_slot;\n\tstruct intel_vgpu_execlist_slot *pending_slot;\n\tstruct execlist_ctx_descriptor_format *running_context;\n\tstruct intel_vgpu *vgpu;\n\tstruct intel_vgpu_elsp_dwords elsp_dwords;\n\tconst struct intel_engine_cs *engine;\n};\n\nvoid intel_vgpu_clean_execlist(struct intel_vgpu *vgpu);\n\nint intel_vgpu_init_execlist(struct intel_vgpu *vgpu);\n\nint intel_vgpu_submit_execlist(struct intel_vgpu *vgpu,\n\t\t\t       const struct intel_engine_cs *engine);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}