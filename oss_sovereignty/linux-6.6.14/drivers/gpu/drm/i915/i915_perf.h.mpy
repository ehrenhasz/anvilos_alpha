{
  "module_name": "i915_perf.h",
  "hash_id": "ed0d2270bda2029484e64f4e7a35e17f222e8dc1b1800990b3b3717f55c7b4f5",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/i915/i915_perf.h",
  "human_readable_source": " \n \n\n#ifndef __I915_PERF_H__\n#define __I915_PERF_H__\n\n#include <linux/kref.h>\n#include <linux/types.h>\n\n#include \"i915_perf_types.h\"\n\nstruct drm_device;\nstruct drm_file;\nstruct drm_i915_private;\nstruct i915_oa_config;\nstruct intel_context;\nstruct intel_engine_cs;\n\nint i915_perf_init(struct drm_i915_private *i915);\nvoid i915_perf_fini(struct drm_i915_private *i915);\nvoid i915_perf_register(struct drm_i915_private *i915);\nvoid i915_perf_unregister(struct drm_i915_private *i915);\nint i915_perf_ioctl_version(struct drm_i915_private *i915);\nint i915_perf_sysctl_register(void);\nvoid i915_perf_sysctl_unregister(void);\n\nint i915_perf_open_ioctl(struct drm_device *dev, void *data,\n\t\t\t struct drm_file *file);\nint i915_perf_add_config_ioctl(struct drm_device *dev, void *data,\n\t\t\t       struct drm_file *file);\nint i915_perf_remove_config_ioctl(struct drm_device *dev, void *data,\n\t\t\t\t  struct drm_file *file);\n\nvoid i915_oa_init_reg_state(const struct intel_context *ce,\n\t\t\t    const struct intel_engine_cs *engine);\n\nstruct i915_oa_config *\ni915_perf_get_oa_config(struct i915_perf *perf, int metrics_set);\n\nstatic inline struct i915_oa_config *\ni915_oa_config_get(struct i915_oa_config *oa_config)\n{\n\tif (kref_get_unless_zero(&oa_config->ref))\n\t\treturn oa_config;\n\telse\n\t\treturn NULL;\n}\n\nvoid i915_oa_config_release(struct kref *ref);\nstatic inline void i915_oa_config_put(struct i915_oa_config *oa_config)\n{\n\tif (!oa_config)\n\t\treturn;\n\n\tkref_put(&oa_config->ref, i915_oa_config_release);\n}\n\nu32 i915_perf_oa_timestamp_frequency(struct drm_i915_private *i915);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}