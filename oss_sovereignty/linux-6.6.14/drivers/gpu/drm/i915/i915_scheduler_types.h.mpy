{
  "module_name": "i915_scheduler_types.h",
  "hash_id": "552704bebd58be9d82c647eceb8060b3abe6d932a0907cd63bfa234651053bcd",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/i915/i915_scheduler_types.h",
  "human_readable_source": " \n\n#ifndef _I915_SCHEDULER_TYPES_H_\n#define _I915_SCHEDULER_TYPES_H_\n\n#include <linux/list.h>\n\n#include \"gt/intel_engine_types.h\"\n#include \"i915_priolist_types.h\"\n\nstruct drm_i915_private;\nstruct i915_request;\nstruct intel_engine_cs;\n\nstruct i915_sched_attr {\n\t \n\tint priority;\n};\n\n \nstruct i915_sched_node {\n\tstruct list_head signalers_list;  \n\tstruct list_head waiters_list;  \n\tstruct list_head link;\n\tstruct i915_sched_attr attr;\n\tunsigned int flags;\n#define I915_SCHED_HAS_EXTERNAL_CHAIN\tBIT(0)\n\tintel_engine_mask_t semaphores;\n};\n\nstruct i915_dependency {\n\tstruct i915_sched_node *signaler;\n\tstruct i915_sched_node *waiter;\n\tstruct list_head signal_link;\n\tstruct list_head wait_link;\n\tstruct list_head dfs_link;\n\tunsigned long flags;\n#define I915_DEPENDENCY_ALLOC\t\tBIT(0)\n#define I915_DEPENDENCY_EXTERNAL\tBIT(1)\n#define I915_DEPENDENCY_WEAK\t\tBIT(2)\n};\n\n#define for_each_waiter(p__, rq__) \\\n\tlist_for_each_entry_lockless(p__, \\\n\t\t\t\t     &(rq__)->sched.waiters_list, \\\n\t\t\t\t     wait_link)\n\n#define for_each_signaler(p__, rq__) \\\n\tlist_for_each_entry_rcu(p__, \\\n\t\t\t\t&(rq__)->sched.signalers_list, \\\n\t\t\t\tsignal_link)\n\n \nstruct i915_sched_engine {\n\t \n\tstruct kref ref;\n\n\t \n\tspinlock_t lock;\n\n\t \n\tstruct list_head requests;\n\n\t \n\tstruct list_head hold;\n\n\t \n\tstruct tasklet_struct tasklet;\n\n\t \n\tstruct i915_priolist default_priolist;\n\n\t \n\tint queue_priority_hint;\n\n\t \n\tstruct rb_root_cached queue;\n\n\t \n\tbool no_priolist;\n\n\t \n\tvoid *private_data;\n\n\t \n\tvoid\t(*destroy)(struct kref *kref);\n\n\t \n\tbool\t(*disabled)(struct i915_sched_engine *sched_engine);\n\n\t \n\tvoid\t(*kick_backend)(const struct i915_request *rq,\n\t\t\t\tint prio);\n\n\t \n\tvoid\t(*bump_inflight_request_prio)(struct i915_request *rq,\n\t\t\t\t\t      int prio);\n\n\t \n\tvoid\t(*retire_inflight_request_prio)(struct i915_request *rq);\n\n\t \n\tvoid\t(*schedule)(struct i915_request *request,\n\t\t\t    const struct i915_sched_attr *attr);\n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}