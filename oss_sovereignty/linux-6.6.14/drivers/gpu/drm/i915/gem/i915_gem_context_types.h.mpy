{
  "module_name": "i915_gem_context_types.h",
  "hash_id": "d7fd2b50564de2d249bf5443bd5b22a6735f2d1fc885d4bbc5f4a1fe6677c4d8",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/i915/gem/i915_gem_context_types.h",
  "human_readable_source": " \n\n#ifndef __I915_GEM_CONTEXT_TYPES_H__\n#define __I915_GEM_CONTEXT_TYPES_H__\n\n#include <linux/atomic.h>\n#include <linux/list.h>\n#include <linux/llist.h>\n#include <linux/kref.h>\n#include <linux/mutex.h>\n#include <linux/radix-tree.h>\n#include <linux/rbtree.h>\n#include <linux/rcupdate.h>\n#include <linux/types.h>\n\n#include \"gt/intel_context_types.h\"\n\n#include \"i915_scheduler.h\"\n#include \"i915_sw_fence.h\"\n\nstruct pid;\n\nstruct drm_i915_private;\nstruct drm_i915_file_private;\nstruct i915_address_space;\nstruct intel_timeline;\nstruct intel_ring;\n\n \nstruct i915_gem_engines {\n\tunion {\n\t\t \n\t\tstruct list_head link;\n\n\t\t \n\t\tstruct rcu_head rcu;\n\t};\n\n\t \n\tstruct i915_sw_fence fence;\n\n\t \n\tstruct i915_gem_context *ctx;\n\n\t \n\tunsigned int num_engines;\n\n\t \n\tstruct intel_context *engines[];\n};\n\n \nstruct i915_gem_engines_iter {\n\t \n\tunsigned int idx;\n\n\t \n\tconst struct i915_gem_engines *engines;\n};\n\n \nenum i915_gem_engine_type {\n\t \n\tI915_GEM_ENGINE_TYPE_INVALID = 0,\n\n\t \n\tI915_GEM_ENGINE_TYPE_PHYSICAL,\n\n\t \n\tI915_GEM_ENGINE_TYPE_BALANCED,\n\n\t \n\tI915_GEM_ENGINE_TYPE_PARALLEL,\n};\n\n \nstruct i915_gem_proto_engine {\n\t \n\tenum i915_gem_engine_type type;\n\n\t \n\tstruct intel_engine_cs *engine;\n\n\t \n\tunsigned int num_siblings;\n\n\t \n\tunsigned int width;\n\n\t \n\tstruct intel_engine_cs **siblings;\n\n\t \n\tstruct intel_sseu sseu;\n};\n\n \nstruct i915_gem_proto_context {\n\t \n\tstruct i915_address_space *vm;\n\n\t \n\tunsigned long user_flags;\n\n\t \n\tstruct i915_sched_attr sched;\n\n\t \n\tint num_user_engines;\n\n\t \n\tstruct i915_gem_proto_engine *user_engines;\n\n\t \n\tstruct intel_sseu legacy_rcs_sseu;\n\n\t \n\tbool single_timeline;\n\n\t \n\tbool uses_protected_content;\n\n\t \n\tintel_wakeref_t pxp_wakeref;\n};\n\n \nstruct i915_gem_context {\n\t \n\tstruct drm_i915_private *i915;\n\n\t \n\tstruct drm_i915_file_private *file_priv;\n\n\t \n\tstruct i915_gem_engines __rcu *engines;\n\n\t \n\tstruct mutex engines_mutex;\n\n\t \n\tstruct drm_syncobj *syncobj;\n\n\t \n\tstruct i915_address_space *vm;\n\n\t \n\tstruct pid *pid;\n\n\t \n\tstruct list_head link;\n\n\t \n\tstruct i915_drm_client *client;\n\n\t \n\tstruct list_head client_link;\n\n\t \n\tstruct kref ref;\n\n\t \n\tstruct work_struct release_work;\n\n\t \n\tstruct rcu_head rcu;\n\n\t \n\tunsigned long user_flags;\n#define UCONTEXT_NO_ERROR_CAPTURE\t1\n#define UCONTEXT_BANNABLE\t\t2\n#define UCONTEXT_RECOVERABLE\t\t3\n#define UCONTEXT_PERSISTENCE\t\t4\n\n\t \n\tunsigned long flags;\n#define CONTEXT_CLOSED\t\t\t0\n#define CONTEXT_USER_ENGINES\t\t1\n\n\t \n\tbool uses_protected_content;\n\n\t \n\tintel_wakeref_t pxp_wakeref;\n\n\t \n\tstruct mutex mutex;\n\n\t \n\tstruct i915_sched_attr sched;\n\n\t \n\tatomic_t guilty_count;\n\t \n\tatomic_t active_count;\n\n\t \n\tunsigned long hang_timestamp[2];\n#define CONTEXT_FAST_HANG_JIFFIES (120 * HZ)  \n\n\t \n\tu8 remap_slice;\n\n\t \n\tstruct radix_tree_root handles_vma;\n\n\t \n\tstruct mutex lut_mutex;\n\n\t \n\tchar name[TASK_COMM_LEN + 8];\n\n\t \n\tstruct {\n\t\t \n\t\tspinlock_t lock;\n\t\t \n\t\tstruct list_head engines;\n\t} stale;\n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}