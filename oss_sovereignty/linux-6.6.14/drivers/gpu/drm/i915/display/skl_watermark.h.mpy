{
  "module_name": "skl_watermark.h",
  "hash_id": "47715d4d9d0f0e0eef15d576d71002b2a51613b3cd0112239ce876d17da924e3",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/i915/display/skl_watermark.h",
  "human_readable_source": " \n \n\n#ifndef __SKL_WATERMARK_H__\n#define __SKL_WATERMARK_H__\n\n#include <linux/types.h>\n\n#include \"intel_display_limits.h\"\n#include \"intel_global_state.h\"\n#include \"intel_wm_types.h\"\n\nstruct drm_i915_private;\nstruct intel_atomic_state;\nstruct intel_bw_state;\nstruct intel_crtc;\nstruct intel_crtc_state;\nstruct intel_plane;\n\nu8 intel_enabled_dbuf_slices_mask(struct drm_i915_private *i915);\n\nvoid intel_sagv_pre_plane_update(struct intel_atomic_state *state);\nvoid intel_sagv_post_plane_update(struct intel_atomic_state *state);\nbool intel_can_enable_sagv(struct drm_i915_private *i915,\n\t\t\t   const struct intel_bw_state *bw_state);\n\nu32 skl_ddb_dbuf_slice_mask(struct drm_i915_private *i915,\n\t\t\t    const struct skl_ddb_entry *entry);\n\nvoid skl_write_plane_wm(struct intel_plane *plane,\n\t\t\tconst struct intel_crtc_state *crtc_state);\nvoid skl_write_cursor_wm(struct intel_plane *plane,\n\t\t\t const struct intel_crtc_state *crtc_state);\n\nbool skl_ddb_allocation_overlaps(const struct skl_ddb_entry *ddb,\n\t\t\t\t const struct skl_ddb_entry *entries,\n\t\t\t\t int num_entries, int ignore_idx);\n\nvoid intel_wm_state_verify(struct intel_crtc *crtc,\n\t\t\t   struct intel_crtc_state *new_crtc_state);\n\nvoid skl_watermark_ipc_init(struct drm_i915_private *i915);\nvoid skl_watermark_ipc_update(struct drm_i915_private *i915);\nbool skl_watermark_ipc_enabled(struct drm_i915_private *i915);\nvoid skl_watermark_debugfs_register(struct drm_i915_private *i915);\n\nvoid skl_wm_init(struct drm_i915_private *i915);\n\nstruct intel_dbuf_state {\n\tstruct intel_global_state base;\n\n\tstruct skl_ddb_entry ddb[I915_MAX_PIPES];\n\tunsigned int weight[I915_MAX_PIPES];\n\tu8 slices[I915_MAX_PIPES];\n\tu8 enabled_slices;\n\tu8 active_pipes;\n\tbool joined_mbus;\n};\n\nstruct intel_dbuf_state *\nintel_atomic_get_dbuf_state(struct intel_atomic_state *state);\n\n#define to_intel_dbuf_state(x) container_of((x), struct intel_dbuf_state, base)\n#define intel_atomic_get_old_dbuf_state(state) \\\n\tto_intel_dbuf_state(intel_atomic_get_old_global_obj_state(state, &to_i915(state->base.dev)->display.dbuf.obj))\n#define intel_atomic_get_new_dbuf_state(state) \\\n\tto_intel_dbuf_state(intel_atomic_get_new_global_obj_state(state, &to_i915(state->base.dev)->display.dbuf.obj))\n\nint intel_dbuf_init(struct drm_i915_private *i915);\nvoid intel_dbuf_pre_plane_update(struct intel_atomic_state *state);\nvoid intel_dbuf_post_plane_update(struct intel_atomic_state *state);\nvoid intel_mbus_dbox_update(struct intel_atomic_state *state);\n\n#endif  \n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}