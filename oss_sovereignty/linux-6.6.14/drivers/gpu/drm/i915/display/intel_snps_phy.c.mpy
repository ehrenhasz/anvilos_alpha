{
  "module_name": "intel_snps_phy.c",
  "hash_id": "2c8da42eb8021e78637a8fcda136f67caea36e58febeac6fc163df09117a8159",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/i915/display/intel_snps_phy.c",
  "human_readable_source": "\n \n\n#include <linux/util_macros.h>\n\n#include \"i915_reg.h\"\n#include \"intel_ddi.h\"\n#include \"intel_ddi_buf_trans.h\"\n#include \"intel_de.h\"\n#include \"intel_display_types.h\"\n#include \"intel_snps_phy.h\"\n#include \"intel_snps_phy_regs.h\"\n\n \n\nvoid intel_snps_phy_wait_for_calibration(struct drm_i915_private *i915)\n{\n\tenum phy phy;\n\n\tfor_each_phy_masked(phy, ~0) {\n\t\tif (!intel_phy_is_snps(i915, phy))\n\t\t\tcontinue;\n\n\t\t \n\t\tif (intel_de_wait_for_clear(i915, DG2_PHY_MISC(phy),\n\t\t\t\t\t    DG2_PHY_DP_TX_ACK_MASK, 25))\n\t\t\ti915->display.snps.phy_failed_calibration |= BIT(phy);\n\t}\n}\n\nvoid intel_snps_phy_update_psr_power_state(struct drm_i915_private *i915,\n\t\t\t\t\t   enum phy phy, bool enable)\n{\n\tu32 val;\n\n\tif (!intel_phy_is_snps(i915, phy))\n\t\treturn;\n\n\tval = REG_FIELD_PREP(SNPS_PHY_TX_REQ_LN_DIS_PWR_STATE_PSR,\n\t\t\t     enable ? 2 : 3);\n\tintel_de_rmw(i915, SNPS_PHY_TX_REQ(phy),\n\t\t     SNPS_PHY_TX_REQ_LN_DIS_PWR_STATE_PSR, val);\n}\n\nvoid intel_snps_phy_set_signal_levels(struct intel_encoder *encoder,\n\t\t\t\t      const struct intel_crtc_state *crtc_state)\n{\n\tstruct drm_i915_private *dev_priv = to_i915(encoder->base.dev);\n\tconst struct intel_ddi_buf_trans *trans;\n\tenum phy phy = intel_port_to_phy(dev_priv, encoder->port);\n\tint n_entries, ln;\n\n\ttrans = encoder->get_buf_trans(encoder, crtc_state, &n_entries);\n\tif (drm_WARN_ON_ONCE(&dev_priv->drm, !trans))\n\t\treturn;\n\n\tfor (ln = 0; ln < 4; ln++) {\n\t\tint level = intel_ddi_level(encoder, crtc_state, ln);\n\t\tu32 val = 0;\n\n\t\tval |= REG_FIELD_PREP(SNPS_PHY_TX_EQ_MAIN, trans->entries[level].snps.vswing);\n\t\tval |= REG_FIELD_PREP(SNPS_PHY_TX_EQ_PRE, trans->entries[level].snps.pre_cursor);\n\t\tval |= REG_FIELD_PREP(SNPS_PHY_TX_EQ_POST, trans->entries[level].snps.post_cursor);\n\n\t\tintel_de_write(dev_priv, SNPS_PHY_TX_EQ(ln, phy), val);\n\t}\n}\n\n \n\nstatic const struct intel_mpllb_state dg2_dp_rbr_100 = {\n\t.clock = 162000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 4) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 20) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 65) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 127),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 2),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 226),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 5),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 39321) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 3),\n};\n\nstatic const struct intel_mpllb_state dg2_dp_hbr1_100 = {\n\t.clock = 270000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 4) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 20) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 65) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 127),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 3),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 184),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_dp_hbr2_100 = {\n\t.clock = 540000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 4) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 20) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 65) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 127),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 3),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 184),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_dp_hbr3_100 = {\n\t.clock = 810000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 4) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 19) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 65) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 127),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 292),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_dp_uhbr10_100 = {\n\t.clock = 1000000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 4) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 21) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 65) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 127),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV_MULTIPLIER, 8) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_WORD_DIV2_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DP2_MODE, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SHIM_DIV32_CLK_SEL, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 368),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 1),\n\n\t \n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_PEAK, 58982),\n\t.mpllb_sscstep =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_STEPSIZE, 76101),\n};\n\nstatic const struct intel_mpllb_state dg2_dp_uhbr13_100 = {\n\t.clock = 1350000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 5) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 45) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 65) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 127),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV_MULTIPLIER, 8) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_WORD_DIV2_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DP2_MODE, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 3),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 508),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 1),\n\n\t \n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_PEAK, 79626),\n\t.mpllb_sscstep =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_STEPSIZE, 102737),\n};\n\nstatic const struct intel_mpllb_state * const dg2_dp_100_tables[] = {\n\t&dg2_dp_rbr_100,\n\t&dg2_dp_hbr1_100,\n\t&dg2_dp_hbr2_100,\n\t&dg2_dp_hbr3_100,\n\t&dg2_dp_uhbr10_100,\n\t&dg2_dp_uhbr13_100,\n\tNULL,\n};\n\n \n\nstatic const struct intel_mpllb_state dg2_edp_r216 = {\n\t.clock = 216000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 4) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 19) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 65) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 127),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 312),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 5),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 52428) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 4),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_PEAK, 50961),\n\t.mpllb_sscstep =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_STEPSIZE, 65752),\n};\n\nstatic const struct intel_mpllb_state dg2_edp_r243 = {\n\t.clock = 243000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 4) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 20) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 65) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 127),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 356),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 5),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 26214) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 2),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_PEAK, 57331),\n\t.mpllb_sscstep =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_STEPSIZE, 73971),\n};\n\nstatic const struct intel_mpllb_state dg2_edp_r324 = {\n\t.clock = 324000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 4) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 20) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 65) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 127),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 2),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 226),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 5),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 39321) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 3),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_PEAK, 38221),\n\t.mpllb_sscstep =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_STEPSIZE, 49314),\n};\n\nstatic const struct intel_mpllb_state dg2_edp_r432 = {\n\t.clock = 432000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 4) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 19) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 65) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 127),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 312),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 5),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 52428) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 4),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_PEAK, 50961),\n\t.mpllb_sscstep =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_STEPSIZE, 65752),\n};\n\nstatic const struct intel_mpllb_state * const dg2_edp_tables[] = {\n\t&dg2_dp_rbr_100,\n\t&dg2_edp_r216,\n\t&dg2_edp_r243,\n\t&dg2_dp_hbr1_100,\n\t&dg2_edp_r324,\n\t&dg2_edp_r432,\n\t&dg2_dp_hbr2_100,\n\t&dg2_dp_hbr3_100,\n\tNULL,\n};\n\n \n\nstatic const struct intel_mpllb_state dg2_hdmi_25_175 = {\n\t.clock = 25175,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 5) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 15) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 5) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 128) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 143),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 36663) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 71),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_27_0 = {\n\t.clock = 27000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 5) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 15) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 5) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 140) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 5),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 26214) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 2),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_74_25 = {\n\t.clock = 74250,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 4) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 15) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 3) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 3),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 86) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 5),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 26214) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 2),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_148_5 = {\n\t.clock = 148500,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 4) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 15) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 3),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 86) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 5),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 26214) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 2),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\n \nstatic const struct intel_mpllb_state dg2_hdmi_25200 = {\n\t.clock = 25200,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 7) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 5) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 0),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 128) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 41943) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 2621),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_27027 = {\n\t.clock = 27027,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 5) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 0),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 140) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 31876) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 46555),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_28320 = {\n\t.clock = 28320,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 5) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 0),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 148) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 40894) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 30408),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_30240 = {\n\t.clock = 30240,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 5) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 0),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 160) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 50331) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 42466),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_31500 = {\n\t.clock = 31500,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 7) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 4) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 3),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 68) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 26214) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 26214),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_36000 = {\n\t.clock = 36000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 4) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 3),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 82) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 39321) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 39320),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_40000 = {\n\t.clock = 40000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 4) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 0) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 2),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 96) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 0) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 0) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 0),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_49500 = {\n\t.clock = 49500,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 4) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 1),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 126) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 13107) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 13107),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_50000 = {\n\t.clock = 50000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 4) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 0) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 1),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 128) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 0) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 0) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 0),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_57284 = {\n\t.clock = 57284,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 4) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 0),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 150) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 42886) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 49701),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_58000 = {\n\t.clock = 58000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 4) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 0),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 152) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 52428) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 52427),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_65000 = {\n\t.clock = 65000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 7) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 3) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 0) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 3),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 72) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 0) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 0) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 0),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_71000 = {\n\t.clock = 71000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 3) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 3),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 80) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 52428) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 52427),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_74176 = {\n\t.clock = 74176,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 3) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 3),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 86) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 22334) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 43829),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_75000 = {\n\t.clock = 75000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 3) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 0) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 3),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 88) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 0) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 0) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 0),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_78750 = {\n\t.clock = 78750,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 3) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 0) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 2),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 94) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 0) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 0) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 0),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_85500 = {\n\t.clock = 85500,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 3) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 2),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 104) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 26214) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 26214),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_88750 = {\n\t.clock = 88750,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 7) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 15) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 3) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 0) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 1),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 110) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 0) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 0) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 0),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_106500 = {\n\t.clock = 106500,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 3) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 0),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 138) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 13107) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 13107),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_108000 = {\n\t.clock = 108000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 3) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 0),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 140) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 26214) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 26214),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_115500 = {\n\t.clock = 115500,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 3) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 0),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 152) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 26214) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 26214),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_119000 = {\n\t.clock = 119000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 3) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 0),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 158) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 13107) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 13107),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_135000 = {\n\t.clock = 135000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 7) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 15) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 0) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 3),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 76) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 0) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 0) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 0),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_138500 = {\n\t.clock = 138500,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 3),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 78) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 26214) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 26214),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_147160 = {\n\t.clock = 147160,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 3),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 84) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 56623) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 6815),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_148352 = {\n\t.clock = 148352,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 3),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 86) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 22334) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 43829),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_154000 = {\n\t.clock = 154000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 13) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 2),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 90) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 39321) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 39320),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_162000 = {\n\t.clock = 162000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 2),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 96) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 52428) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 52427),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_209800 = {\n\t.clock = 209800,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 7) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 0),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 134) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 60293) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 7864),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_262750 = {\n\t.clock = 262750,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 7) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 3),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 72) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 36044) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 52427),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_267300 = {\n\t.clock = 267300,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 7) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 3),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 74) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 30146) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 36699),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_268500 = {\n\t.clock = 268500,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 7) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 3),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 74) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 45875) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 13107),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_296703 = {\n\t.clock = 296703,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 3),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 86) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 22321) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 36804),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_241500 = {\n\t.clock = 241500,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 0),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 160) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 39321) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 39320),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_319890 = {\n\t.clock = 319890,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 2),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 94) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 64094) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 13631),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_497750 = {\n\t.clock = 497750,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 15) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 0),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 166) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 36044) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 52427),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_592000 = {\n\t.clock = 592000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 0) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 3),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 86) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 13107) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 13107),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_593407 = {\n\t.clock = 593407,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 0) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 3),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 86) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 22328) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 7549),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_297 = {\n\t.clock = 297000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 6) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 14) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_TX_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 3),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 86) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 65535),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 26214) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 26214),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state dg2_hdmi_594 = {\n\t.clock = 594000,\n\t.ref_control =\n\t\tREG_FIELD_PREP(SNPS_PHY_REF_CONTROL_REF_RANGE, 3),\n\t.mpllb_cp =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT, 4) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP, 15) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_INT_GS, 64) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_CP_PROP_GS, 124),\n\t.mpllb_div =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_DIV5_CLK_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_PMIX_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_V2I, 2) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FREQ_VCO, 3),\n\t.mpllb_div2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_REF_CLK_DIV, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_MULTIPLIER, 86) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_HDMI_DIV, 1),\n\t.mpllb_fracn1 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_CGG_UPDATE_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_EN, 1) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_DEN, 5),\n\t.mpllb_fracn2 =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_QUOT, 26214) |\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_FRACN_REM, 2),\n\t.mpllb_sscen =\n\t\tREG_FIELD_PREP(SNPS_PHY_MPLLB_SSC_UP_SPREAD, 1),\n};\n\nstatic const struct intel_mpllb_state * const dg2_hdmi_tables[] = {\n\t&dg2_hdmi_25_175,\n\t&dg2_hdmi_27_0,\n\t&dg2_hdmi_74_25,\n\t&dg2_hdmi_148_5,\n\t&dg2_hdmi_297,\n\t&dg2_hdmi_594,\n\t&dg2_hdmi_25200,\n\t&dg2_hdmi_27027,\n\t&dg2_hdmi_28320,\n\t&dg2_hdmi_30240,\n\t&dg2_hdmi_31500,\n\t&dg2_hdmi_36000,\n\t&dg2_hdmi_40000,\n\t&dg2_hdmi_49500,\n\t&dg2_hdmi_50000,\n\t&dg2_hdmi_57284,\n\t&dg2_hdmi_58000,\n\t&dg2_hdmi_65000,\n\t&dg2_hdmi_71000,\n\t&dg2_hdmi_74176,\n\t&dg2_hdmi_75000,\n\t&dg2_hdmi_78750,\n\t&dg2_hdmi_85500,\n\t&dg2_hdmi_88750,\n\t&dg2_hdmi_106500,\n\t&dg2_hdmi_108000,\n\t&dg2_hdmi_115500,\n\t&dg2_hdmi_119000,\n\t&dg2_hdmi_135000,\n\t&dg2_hdmi_138500,\n\t&dg2_hdmi_147160,\n\t&dg2_hdmi_148352,\n\t&dg2_hdmi_154000,\n\t&dg2_hdmi_162000,\n\t&dg2_hdmi_209800,\n\t&dg2_hdmi_241500,\n\t&dg2_hdmi_262750,\n\t&dg2_hdmi_267300,\n\t&dg2_hdmi_268500,\n\t&dg2_hdmi_296703,\n\t&dg2_hdmi_319890,\n\t&dg2_hdmi_497750,\n\t&dg2_hdmi_592000,\n\t&dg2_hdmi_593407,\n\tNULL,\n};\n\nstatic const struct intel_mpllb_state * const *\nintel_mpllb_tables_get(struct intel_crtc_state *crtc_state,\n\t\t       struct intel_encoder *encoder)\n{\n\tif (intel_crtc_has_type(crtc_state, INTEL_OUTPUT_EDP)) {\n\t\treturn dg2_edp_tables;\n\t} else if (intel_crtc_has_dp_encoder(crtc_state)) {\n\t\treturn dg2_dp_100_tables;\n\t} else if (intel_crtc_has_type(crtc_state, INTEL_OUTPUT_HDMI)) {\n\t\treturn dg2_hdmi_tables;\n\t}\n\n\tMISSING_CASE(encoder->type);\n\treturn NULL;\n}\n\nint intel_mpllb_calc_state(struct intel_crtc_state *crtc_state,\n\t\t\t   struct intel_encoder *encoder)\n{\n\tstruct drm_i915_private *i915 = to_i915(encoder->base.dev);\n\tconst struct intel_mpllb_state * const *tables;\n\tint i;\n\n\tif (intel_crtc_has_type(crtc_state, INTEL_OUTPUT_HDMI)) {\n\t\tif (intel_snps_phy_check_hdmi_link_rate(crtc_state->port_clock)\n\t\t    != MODE_OK) {\n\t\t\t \n\t\t\tdrm_dbg_kms(&i915->drm, \"Can't support HDMI link rate %d\\n\",\n\t\t\t\t    crtc_state->port_clock);\n\t\t\treturn -EINVAL;\n\t\t}\n\t}\n\n\ttables = intel_mpllb_tables_get(crtc_state, encoder);\n\tif (!tables)\n\t\treturn -EINVAL;\n\n\tfor (i = 0; tables[i]; i++) {\n\t\tif (crtc_state->port_clock == tables[i]->clock) {\n\t\t\tcrtc_state->mpllb_state = *tables[i];\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\treturn -EINVAL;\n}\n\nvoid intel_mpllb_enable(struct intel_encoder *encoder,\n\t\t\tconst struct intel_crtc_state *crtc_state)\n{\n\tstruct drm_i915_private *dev_priv = to_i915(encoder->base.dev);\n\tconst struct intel_mpllb_state *pll_state = &crtc_state->mpllb_state;\n\tenum phy phy = intel_port_to_phy(dev_priv, encoder->port);\n\ti915_reg_t enable_reg = (phy <= PHY_D ?\n\t\t\t\t DG2_PLL_ENABLE(phy) : MG_PLL_ENABLE(0));\n\n\t \n\tintel_de_write(dev_priv, SNPS_PHY_MPLLB_CP(phy), pll_state->mpllb_cp);\n\tintel_de_write(dev_priv, SNPS_PHY_MPLLB_DIV(phy), pll_state->mpllb_div);\n\tintel_de_write(dev_priv, SNPS_PHY_MPLLB_DIV2(phy), pll_state->mpllb_div2);\n\tintel_de_write(dev_priv, SNPS_PHY_MPLLB_SSCEN(phy), pll_state->mpllb_sscen);\n\tintel_de_write(dev_priv, SNPS_PHY_MPLLB_SSCSTEP(phy), pll_state->mpllb_sscstep);\n\tintel_de_write(dev_priv, SNPS_PHY_MPLLB_FRACN1(phy), pll_state->mpllb_fracn1);\n\tintel_de_write(dev_priv, SNPS_PHY_MPLLB_FRACN2(phy), pll_state->mpllb_fracn2);\n\n\t \n\n\t \n\tintel_de_rmw(dev_priv, enable_reg, 0, PLL_ENABLE);\n\n\t \n\tintel_de_write(dev_priv, SNPS_PHY_MPLLB_DIV(phy),\n\t\t       pll_state->mpllb_div | SNPS_PHY_MPLLB_FORCE_EN);\n\n\t \n\tif (intel_de_wait_for_set(dev_priv, enable_reg, PLL_LOCK, 5))\n\t\tdrm_dbg_kms(&dev_priv->drm, \"Port %c PLL not locked\\n\", phy_name(phy));\n\n\t \n}\n\nvoid intel_mpllb_disable(struct intel_encoder *encoder)\n{\n\tstruct drm_i915_private *i915 = to_i915(encoder->base.dev);\n\tenum phy phy = intel_port_to_phy(i915, encoder->port);\n\ti915_reg_t enable_reg = (phy <= PHY_D ?\n\t\t\t\t DG2_PLL_ENABLE(phy) : MG_PLL_ENABLE(0));\n\n\t \n\n\t \n\tintel_de_rmw(i915, enable_reg, PLL_ENABLE, 0);\n\n\t \n\tintel_de_rmw(i915, SNPS_PHY_MPLLB_DIV(phy), SNPS_PHY_MPLLB_FORCE_EN, 0);\n\n\t \n\tif (intel_de_wait_for_clear(i915, enable_reg, PLL_LOCK, 5))\n\t\tdrm_err(&i915->drm, \"Port %c PLL not locked\\n\", phy_name(phy));\n\n\t \n}\n\nint intel_mpllb_calc_port_clock(struct intel_encoder *encoder,\n\t\t\t\tconst struct intel_mpllb_state *pll_state)\n{\n\tunsigned int frac_quot = 0, frac_rem = 0, frac_den = 1;\n\tunsigned int multiplier, tx_clk_div, refclk;\n\tbool frac_en;\n\n\tif (0)\n\t\trefclk = 38400;\n\telse\n\t\trefclk = 100000;\n\n\trefclk >>= REG_FIELD_GET(SNPS_PHY_MPLLB_REF_CLK_DIV, pll_state->mpllb_div2) - 1;\n\n\tfrac_en = REG_FIELD_GET(SNPS_PHY_MPLLB_FRACN_EN, pll_state->mpllb_fracn1);\n\n\tif (frac_en) {\n\t\tfrac_quot = REG_FIELD_GET(SNPS_PHY_MPLLB_FRACN_QUOT, pll_state->mpllb_fracn2);\n\t\tfrac_rem = REG_FIELD_GET(SNPS_PHY_MPLLB_FRACN_REM, pll_state->mpllb_fracn2);\n\t\tfrac_den = REG_FIELD_GET(SNPS_PHY_MPLLB_FRACN_DEN, pll_state->mpllb_fracn1);\n\t}\n\n\tmultiplier = REG_FIELD_GET(SNPS_PHY_MPLLB_MULTIPLIER, pll_state->mpllb_div2) / 2 + 16;\n\n\ttx_clk_div = REG_FIELD_GET(SNPS_PHY_MPLLB_TX_CLK_DIV, pll_state->mpllb_div);\n\n\treturn DIV_ROUND_CLOSEST_ULL(mul_u32_u32(refclk, (multiplier << 16) + frac_quot) +\n\t\t\t\t     DIV_ROUND_CLOSEST(refclk * frac_rem, frac_den),\n\t\t\t\t     10 << (tx_clk_div + 16));\n}\n\nvoid intel_mpllb_readout_hw_state(struct intel_encoder *encoder,\n\t\t\t\t  struct intel_mpllb_state *pll_state)\n{\n\tstruct drm_i915_private *dev_priv = to_i915(encoder->base.dev);\n\tenum phy phy = intel_port_to_phy(dev_priv, encoder->port);\n\n\tpll_state->mpllb_cp = intel_de_read(dev_priv, SNPS_PHY_MPLLB_CP(phy));\n\tpll_state->mpllb_div = intel_de_read(dev_priv, SNPS_PHY_MPLLB_DIV(phy));\n\tpll_state->mpllb_div2 = intel_de_read(dev_priv, SNPS_PHY_MPLLB_DIV2(phy));\n\tpll_state->mpllb_sscen = intel_de_read(dev_priv, SNPS_PHY_MPLLB_SSCEN(phy));\n\tpll_state->mpllb_sscstep = intel_de_read(dev_priv, SNPS_PHY_MPLLB_SSCSTEP(phy));\n\tpll_state->mpllb_fracn1 = intel_de_read(dev_priv, SNPS_PHY_MPLLB_FRACN1(phy));\n\tpll_state->mpllb_fracn2 = intel_de_read(dev_priv, SNPS_PHY_MPLLB_FRACN2(phy));\n\n\t \n\tpll_state->ref_control = intel_de_read(dev_priv, SNPS_PHY_REF_CONTROL(phy)) &\n\t\tSNPS_PHY_REF_CONTROL_REF_RANGE;\n\n\t \n\tpll_state->mpllb_div &= ~SNPS_PHY_MPLLB_FORCE_EN;\n}\n\nint intel_snps_phy_check_hdmi_link_rate(int clock)\n{\n\tconst struct intel_mpllb_state * const *tables = dg2_hdmi_tables;\n\tint i;\n\n\tfor (i = 0; tables[i]; i++) {\n\t\tif (clock == tables[i]->clock)\n\t\t\treturn MODE_OK;\n\t}\n\n\treturn MODE_CLOCK_RANGE;\n}\n\nvoid intel_mpllb_state_verify(struct intel_atomic_state *state,\n\t\t\t      struct intel_crtc_state *new_crtc_state)\n{\n\tstruct drm_i915_private *i915 = to_i915(state->base.dev);\n\tstruct intel_mpllb_state mpllb_hw_state = { 0 };\n\tstruct intel_mpllb_state *mpllb_sw_state = &new_crtc_state->mpllb_state;\n\tstruct intel_crtc *crtc = to_intel_crtc(new_crtc_state->uapi.crtc);\n\tstruct intel_encoder *encoder;\n\n\tif (!IS_DG2(i915))\n\t\treturn;\n\n\tif (!new_crtc_state->hw.active)\n\t\treturn;\n\n\t \n\tif (!intel_crtc_needs_modeset(new_crtc_state) &&\n\t    !intel_crtc_needs_fastset(new_crtc_state))\n\t\treturn;\n\n\tencoder = intel_get_crtc_new_encoder(state, new_crtc_state);\n\tintel_mpllb_readout_hw_state(encoder, &mpllb_hw_state);\n\n#define MPLLB_CHECK(__name)\t\t\t\t\t\t\\\n\tI915_STATE_WARN(i915, mpllb_sw_state->__name != mpllb_hw_state.__name, \\\n\t\t\t\"[CRTC:%d:%s] mismatch in MPLLB: %s (expected 0x%08x, found 0x%08x)\", \\\n\t\t\tcrtc->base.base.id, crtc->base.name,\t\t\\\n\t\t\t__stringify(__name),\t\t\t\t\\\n\t\t\tmpllb_sw_state->__name, mpllb_hw_state.__name)\n\n\tMPLLB_CHECK(mpllb_cp);\n\tMPLLB_CHECK(mpllb_div);\n\tMPLLB_CHECK(mpllb_div2);\n\tMPLLB_CHECK(mpllb_fracn1);\n\tMPLLB_CHECK(mpllb_fracn2);\n\tMPLLB_CHECK(mpllb_sscen);\n\tMPLLB_CHECK(mpllb_sscstep);\n\n\t \n\tMPLLB_CHECK(ref_control);\n\n#undef MPLLB_CHECK\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}