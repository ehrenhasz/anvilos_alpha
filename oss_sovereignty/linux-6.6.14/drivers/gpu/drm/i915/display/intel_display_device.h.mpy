{
  "module_name": "intel_display_device.h",
  "hash_id": "988c3972a3e0e1021102a0fc6404a2b3610fa5926528861a40d412bb8bf69b49",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/i915/display/intel_display_device.h",
  "human_readable_source": " \n \n\n#ifndef __INTEL_DISPLAY_DEVICE_H__\n#define __INTEL_DISPLAY_DEVICE_H__\n\n#include <linux/types.h>\n\n#include \"intel_display_limits.h\"\n\nstruct drm_i915_private;\nstruct drm_printer;\n\n#define DEV_INFO_DISPLAY_FOR_EACH_FLAG(func) \\\n\t  \\\n\tfunc(cursor_needs_physical); \\\n\tfunc(has_cdclk_crawl); \\\n\tfunc(has_cdclk_squash); \\\n\tfunc(has_ddi); \\\n\tfunc(has_dp_mst); \\\n\tfunc(has_dsb); \\\n\tfunc(has_fpga_dbg); \\\n\tfunc(has_gmch); \\\n\tfunc(has_hotplug); \\\n\tfunc(has_hti); \\\n\tfunc(has_ipc); \\\n\tfunc(has_overlay); \\\n\tfunc(has_psr); \\\n\tfunc(has_psr_hw_tracking); \\\n\tfunc(overlay_needs_physical); \\\n\tfunc(supports_tv);\n\n#define HAS_ASYNC_FLIPS(i915)\t\t(DISPLAY_VER(i915) >= 5)\n#define HAS_CDCLK_CRAWL(i915)\t\t(DISPLAY_INFO(i915)->has_cdclk_crawl)\n#define HAS_CDCLK_SQUASH(i915)\t\t(DISPLAY_INFO(i915)->has_cdclk_squash)\n#define HAS_CUR_FBC(i915)\t\t(!HAS_GMCH(i915) && DISPLAY_VER(i915) >= 7)\n#define HAS_D12_PLANE_MINIMIZATION(i915) (IS_ROCKETLAKE(i915) || IS_ALDERLAKE_S(i915))\n#define HAS_DDI(i915)\t\t\t(DISPLAY_INFO(i915)->has_ddi)\n#define HAS_DISPLAY(i915)\t\t(DISPLAY_RUNTIME_INFO(i915)->pipe_mask != 0)\n#define HAS_DMC(i915)\t\t\t(DISPLAY_RUNTIME_INFO(i915)->has_dmc)\n#define HAS_DOUBLE_BUFFERED_M_N(i915)\t(DISPLAY_VER(i915) >= 9 || IS_BROADWELL(i915))\n#define HAS_DP_MST(i915)\t\t(DISPLAY_INFO(i915)->has_dp_mst)\n#define HAS_DP20(i915)\t\t\t(IS_DG2(i915) || DISPLAY_VER(i915) >= 14)\n#define HAS_DPT(i915)\t\t\t(DISPLAY_VER(i915) >= 13)\n#define HAS_DSB(i915)\t\t\t(DISPLAY_INFO(i915)->has_dsb)\n#define HAS_DSC(__i915)\t\t\t(DISPLAY_RUNTIME_INFO(__i915)->has_dsc)\n#define HAS_FBC(i915)\t\t\t(DISPLAY_RUNTIME_INFO(i915)->fbc_mask != 0)\n#define HAS_FPGA_DBG_UNCLAIMED(i915)\t(DISPLAY_INFO(i915)->has_fpga_dbg)\n#define HAS_FW_BLC(i915)\t\t(DISPLAY_VER(i915) > 2)\n#define HAS_GMBUS_IRQ(i915)\t\t(DISPLAY_VER(i915) >= 4)\n#define HAS_GMBUS_BURST_READ(i915)\t(DISPLAY_VER(i915) >= 10 || IS_KABYLAKE(i915))\n#define HAS_GMCH(i915)\t\t\t(DISPLAY_INFO(i915)->has_gmch)\n#define HAS_HW_SAGV_WM(i915)\t\t(DISPLAY_VER(i915) >= 13 && !IS_DGFX(i915))\n#define HAS_IPC(i915)\t\t\t(DISPLAY_INFO(i915)->has_ipc)\n#define HAS_IPS(i915)\t\t\t(IS_HASWELL_ULT(i915) || IS_BROADWELL(i915))\n#define HAS_LSPCON(i915)\t\t(IS_DISPLAY_VER(i915, 9, 10))\n#define HAS_MBUS_JOINING(i915)\t\t(IS_ALDERLAKE_P(i915) || DISPLAY_VER(i915) >= 14)\n#define HAS_MSO(i915)\t\t\t(DISPLAY_VER(i915) >= 12)\n#define HAS_OVERLAY(i915)\t\t(DISPLAY_INFO(i915)->has_overlay)\n#define HAS_PSR(i915)\t\t\t(DISPLAY_INFO(i915)->has_psr)\n#define HAS_PSR_HW_TRACKING(i915)\t(DISPLAY_INFO(i915)->has_psr_hw_tracking)\n#define HAS_PSR2_SEL_FETCH(i915)\t(DISPLAY_VER(i915) >= 12)\n#define HAS_SAGV(i915)\t\t\t(DISPLAY_VER(i915) >= 9 && !IS_LP(i915))\n#define HAS_TRANSCODER(i915, trans)\t((DISPLAY_RUNTIME_INFO(i915)->cpu_transcoder_mask & \\\n\t\t\t\t\t  BIT(trans)) != 0)\n#define HAS_VRR(i915)\t\t\t(DISPLAY_VER(i915) >= 11)\n#define INTEL_NUM_PIPES(i915)\t\t(hweight8(DISPLAY_RUNTIME_INFO(i915)->pipe_mask))\n#define I915_HAS_HOTPLUG(i915)\t\t(DISPLAY_INFO(i915)->has_hotplug)\n#define OVERLAY_NEEDS_PHYSICAL(i915)\t(DISPLAY_INFO(i915)->overlay_needs_physical)\n#define SUPPORTS_TV(i915)\t\t(DISPLAY_INFO(i915)->supports_tv)\n\nstruct intel_display_runtime_info {\n\tstruct {\n\t\tu16 ver;\n\t\tu16 rel;\n\t\tu16 step;\n\t} ip;\n\n\tu8 pipe_mask;\n\tu8 cpu_transcoder_mask;\n\tu16 port_mask;\n\n\tu8 num_sprites[I915_MAX_PIPES];\n\tu8 num_scalers[I915_MAX_PIPES];\n\n\tu8 fbc_mask;\n\n\tbool has_hdcp;\n\tbool has_dmc;\n\tbool has_dsc;\n};\n\nstruct intel_display_device_info {\n\t \n\tconst struct intel_display_runtime_info __runtime_defaults;\n\n\tu8 abox_mask;\n\n\tstruct {\n\t\tu16 size;  \n\t\tu8 slice_mask;\n\t} dbuf;\n\n#define DEFINE_FLAG(name) u8 name:1\n\tDEV_INFO_DISPLAY_FOR_EACH_FLAG(DEFINE_FLAG);\n#undef DEFINE_FLAG\n\n\t \n\tu32 mmio_offset;\n\n\t \n\tu32 pipe_offsets[I915_MAX_TRANSCODERS];\n\tu32 trans_offsets[I915_MAX_TRANSCODERS];\n\tu32 cursor_offsets[I915_MAX_PIPES];\n\n\tstruct {\n\t\tu32 degamma_lut_size;\n\t\tu32 gamma_lut_size;\n\t\tu32 degamma_lut_tests;\n\t\tu32 gamma_lut_tests;\n\t} color;\n};\n\nconst struct intel_display_device_info *\nintel_display_device_probe(struct drm_i915_private *i915, bool has_gmdid,\n\t\t\t   u16 *ver, u16 *rel, u16 *step);\nvoid intel_display_device_info_runtime_init(struct drm_i915_private *i915);\n\nvoid intel_display_device_info_print(const struct intel_display_device_info *info,\n\t\t\t\t     const struct intel_display_runtime_info *runtime,\n\t\t\t\t     struct drm_printer *p);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}