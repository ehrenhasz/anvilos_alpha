{
  "module_name": "intel_display_power_well.h",
  "hash_id": "da00419e2e40a7e51f902d05c9210d1698db4c7ed80e7b98c7993ee4d69f859b",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/i915/display/intel_display_power_well.h",
  "human_readable_source": " \n \n#ifndef __INTEL_DISPLAY_POWER_WELL_H__\n#define __INTEL_DISPLAY_POWER_WELL_H__\n\n#include <linux/types.h>\n\n#include \"intel_display_power.h\"\n#include \"intel_dpio_phy.h\"\n\nstruct drm_i915_private;\nstruct i915_power_well_ops;\nstruct intel_encoder;\n\n#define for_each_power_well(__dev_priv, __power_well)\t\t\t\t\\\n\tfor ((__power_well) = (__dev_priv)->display.power.domains.power_wells;\t\\\n\t     (__power_well) - (__dev_priv)->display.power.domains.power_wells <\t\\\n\t\t(__dev_priv)->display.power.domains.power_well_count;\t\t\\\n\t     (__power_well)++)\n\n#define for_each_power_well_reverse(__dev_priv, __power_well)\t\t\t\\\n\tfor ((__power_well) = (__dev_priv)->display.power.domains.power_wells +\t\t\\\n\t\t\t      (__dev_priv)->display.power.domains.power_well_count - 1;\t\\\n\t     (__power_well) - (__dev_priv)->display.power.domains.power_wells >= 0;\t\\\n\t     (__power_well)--)\n\n \nenum i915_power_well_id {\n\tDISP_PW_ID_NONE = 0,\t\t \n\n\tVLV_DISP_PW_DISP2D,\n\tBXT_DISP_PW_DPIO_CMN_A,\n\tVLV_DISP_PW_DPIO_CMN_BC,\n\tGLK_DISP_PW_DPIO_CMN_C,\n\tCHV_DISP_PW_DPIO_CMN_D,\n\tHSW_DISP_PW_GLOBAL,\n\tSKL_DISP_PW_MISC_IO,\n\tSKL_DISP_PW_1,\n\tSKL_DISP_PW_2,\n\tICL_DISP_PW_3,\n\tSKL_DISP_DC_OFF,\n\tTGL_DISP_PW_TC_COLD_OFF,\n};\n\nstruct i915_power_well_instance {\n\tconst char *name;\n\tconst struct i915_power_domain_list {\n\t\tconst enum intel_display_power_domain *list;\n\t\tu8 count;\n\t} *domain_list;\n\n\t \n\tenum i915_power_well_id id;\n\t \n\tunion {\n\t\tstruct {\n\t\t\t \n\t\t\tu8 idx;\n\t\t} vlv;\n\t\tstruct {\n\t\t\tenum dpio_phy phy;\n\t\t} bxt;\n\t\tstruct {\n\t\t\t \n\t\t\tu8 idx;\n\t\t} hsw;\n\t\tstruct {\n\t\t\tu8 aux_ch;\n\t\t} xelpdp;\n\t};\n};\n\nstruct i915_power_well_desc {\n\tconst struct i915_power_well_ops *ops;\n\tconst struct i915_power_well_instance_list {\n\t\tconst struct i915_power_well_instance *list;\n\t\tu8 count;\n\t} *instances;\n\n\t \n\tu16 irq_pipe_mask:4;\n\tu16 always_on:1;\n\t \n\tu16 fixed_enable_delay:1;\n\t \n\tu16 has_vga:1;\n\tu16 has_fuses:1;\n\t \n\tu16 is_tc_tbt:1;\n\t \n\tu16 enable_timeout;\n};\n\nstruct i915_power_well {\n\tconst struct i915_power_well_desc *desc;\n\tstruct intel_power_domain_mask domains;\n\t \n\tint count;\n\t \n\tbool hw_enabled;\n\t \n\tu8 instance_idx;\n};\n\nstruct i915_power_well *lookup_power_well(struct drm_i915_private *i915,\n\t\t\t\t\t  enum i915_power_well_id id);\n\nvoid intel_power_well_enable(struct drm_i915_private *i915,\n\t\t\t     struct i915_power_well *power_well);\nvoid intel_power_well_disable(struct drm_i915_private *i915,\n\t\t\t      struct i915_power_well *power_well);\nvoid intel_power_well_sync_hw(struct drm_i915_private *i915,\n\t\t\t      struct i915_power_well *power_well);\nvoid intel_power_well_get(struct drm_i915_private *i915,\n\t\t\t  struct i915_power_well *power_well);\nvoid intel_power_well_put(struct drm_i915_private *i915,\n\t\t\t  struct i915_power_well *power_well);\nbool intel_power_well_is_enabled(struct drm_i915_private *i915,\n\t\t\t\t struct i915_power_well *power_well);\nbool intel_power_well_is_enabled_cached(struct i915_power_well *power_well);\nbool intel_display_power_well_is_enabled(struct drm_i915_private *dev_priv,\n\t\t\t\t\t enum i915_power_well_id power_well_id);\nbool intel_power_well_is_always_on(struct i915_power_well *power_well);\nconst char *intel_power_well_name(struct i915_power_well *power_well);\nstruct intel_power_domain_mask *intel_power_well_domains(struct i915_power_well *power_well);\nint intel_power_well_refcount(struct i915_power_well *power_well);\n\nvoid chv_phy_powergate_lanes(struct intel_encoder *encoder,\n\t\t\t     bool override, unsigned int mask);\nbool chv_phy_powergate_ch(struct drm_i915_private *dev_priv, enum dpio_phy phy,\n\t\t\t  enum dpio_channel ch, bool override);\n\nvoid gen9_enable_dc5(struct drm_i915_private *dev_priv);\nvoid skl_enable_dc6(struct drm_i915_private *dev_priv);\nvoid gen9_sanitize_dc_state(struct drm_i915_private *dev_priv);\nvoid gen9_set_dc_state(struct drm_i915_private *dev_priv, u32 state);\nvoid gen9_disable_dc_states(struct drm_i915_private *dev_priv);\nvoid bxt_enable_dc9(struct drm_i915_private *dev_priv);\nvoid bxt_disable_dc9(struct drm_i915_private *dev_priv);\n\nextern const struct i915_power_well_ops i9xx_always_on_power_well_ops;\nextern const struct i915_power_well_ops chv_pipe_power_well_ops;\nextern const struct i915_power_well_ops chv_dpio_cmn_power_well_ops;\nextern const struct i915_power_well_ops i830_pipes_power_well_ops;\nextern const struct i915_power_well_ops hsw_power_well_ops;\nextern const struct i915_power_well_ops gen9_dc_off_power_well_ops;\nextern const struct i915_power_well_ops bxt_dpio_cmn_power_well_ops;\nextern const struct i915_power_well_ops vlv_display_power_well_ops;\nextern const struct i915_power_well_ops vlv_dpio_cmn_power_well_ops;\nextern const struct i915_power_well_ops vlv_dpio_power_well_ops;\nextern const struct i915_power_well_ops icl_aux_power_well_ops;\nextern const struct i915_power_well_ops icl_ddi_power_well_ops;\nextern const struct i915_power_well_ops tgl_tc_cold_off_ops;\nextern const struct i915_power_well_ops xelpdp_aux_power_well_ops;\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}