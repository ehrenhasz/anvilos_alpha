{
  "module_name": "intel_dsi.h",
  "hash_id": "c7661510800be087ef83967068002dd83239055260c6c33b0153ddb85c45601c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/i915/display/intel_dsi.h",
  "human_readable_source": " \n\n#ifndef _INTEL_DSI_H\n#define _INTEL_DSI_H\n\n#include <drm/drm_crtc.h>\n#include <drm/drm_mipi_dsi.h>\n\n#include \"intel_display_types.h\"\n\n#define INTEL_DSI_VIDEO_MODE\t0\n#define INTEL_DSI_COMMAND_MODE\t1\n\n \n#define DSI_DUAL_LINK_NONE\t\t0\n#define DSI_DUAL_LINK_FRONT_BACK\t1\n#define DSI_DUAL_LINK_PIXEL_ALT\t\t2\n\nstruct intel_dsi_host;\n\nstruct intel_dsi {\n\tstruct intel_encoder base;\n\n\tstruct intel_dsi_host *dsi_hosts[I915_MAX_PORTS];\n\tintel_wakeref_t io_wakeref[I915_MAX_PORTS];\n\n\t \n\tstruct gpio_desc *gpio_panel;\n\tstruct gpio_desc *gpio_backlight;\n\n\tstruct intel_connector *attached_connector;\n\n\t \n\tunion {\n\t\tu16 ports;\t \n\t\tu16 phys;\t \n\t};\n\n\t \n\tbool hs;\n\n\t \n\tint channel;\n\n\t \n\tu16 operation_mode;\n\n\t \n\tunsigned int lane_count;\n\n\t \n\tint i2c_bus_num;\n\n\t \n\tenum mipi_dsi_pixel_format pixel_format;\n\n\t \n\tint video_mode;\n\n\t \n\tu8 eotp_pkt;\n\tu8 clock_stop;\n\n\tu8 escape_clk_div;\n\tu8 dual_link;\n\n\t \n\tbool bgr_enabled;\n\n\tu8 pixel_overlap;\n\tu32 port_bits;\n\tu32 bw_timer;\n\tu32 dphy_reg;\n\n\t \n\tu32 dphy_data_lane_reg;\n\tu32 video_frmt_cfg_bits;\n\tu16 lp_byte_clk;\n\n\t \n\tu16 hs_tx_timeout;\n\tu16 lp_rx_timeout;\n\tu16 turn_arnd_val;\n\tu16 rst_timer_val;\n\tu16 hs_to_lp_count;\n\tu16 clk_lp_to_hs_count;\n\tu16 clk_hs_to_lp_count;\n\n\tu16 init_count;\n\tu32 pclk;\n\tu16 burst_mode_ratio;\n\n\t \n\tu16 backlight_off_delay;\n\tu16 backlight_on_delay;\n\tu16 panel_on_delay;\n\tu16 panel_off_delay;\n\tu16 panel_pwr_cycle_delay;\n\tktime_t panel_power_off_time;\n};\n\nstruct intel_dsi_host {\n\tstruct mipi_dsi_host base;\n\tstruct intel_dsi *intel_dsi;\n\tenum port port;\n\n\t \n\tstruct mipi_dsi_device *device;\n};\n\nstatic inline struct intel_dsi_host *to_intel_dsi_host(struct mipi_dsi_host *h)\n{\n\treturn container_of(h, struct intel_dsi_host, base);\n}\n\n#define for_each_dsi_port(__port, __ports_mask) \\\n\tfor_each_port_masked(__port, __ports_mask)\n#define for_each_dsi_phy(__phy, __phys_mask) \\\n\tfor_each_phy_masked(__phy, __phys_mask)\n\nstatic inline struct intel_dsi *enc_to_intel_dsi(struct intel_encoder *encoder)\n{\n\treturn container_of(&encoder->base, struct intel_dsi, base.base);\n}\n\nstatic inline bool is_vid_mode(struct intel_dsi *intel_dsi)\n{\n\treturn intel_dsi->operation_mode == INTEL_DSI_VIDEO_MODE;\n}\n\nstatic inline bool is_cmd_mode(struct intel_dsi *intel_dsi)\n{\n\treturn intel_dsi->operation_mode == INTEL_DSI_COMMAND_MODE;\n}\n\nstatic inline u16 intel_dsi_encoder_ports(struct intel_encoder *encoder)\n{\n\treturn enc_to_intel_dsi(encoder)->ports;\n}\n\nint intel_dsi_bitrate(const struct intel_dsi *intel_dsi);\nint intel_dsi_tlpx_ns(const struct intel_dsi *intel_dsi);\nenum drm_panel_orientation\nintel_dsi_get_panel_orientation(struct intel_connector *connector);\nint intel_dsi_get_modes(struct drm_connector *connector);\nenum drm_mode_status intel_dsi_mode_valid(struct drm_connector *connector,\n\t\t\t\t\t  struct drm_display_mode *mode);\nstruct intel_dsi_host *intel_dsi_host_init(struct intel_dsi *intel_dsi,\n\t\t\t\t\t   const struct mipi_dsi_host_ops *funcs,\n\t\t\t\t\t   enum port port);\nvoid intel_dsi_wait_panel_power_cycle(struct intel_dsi *intel_dsi);\nvoid intel_dsi_shutdown(struct intel_encoder *encoder);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}