{
  "module_name": "intel_uc_debugfs.c",
  "hash_id": "55f536c5896ff23f6eef8b4ab8de8cd3d13cc813d6d1dc718669633b485b8bd4",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/i915/gt/uc/intel_uc_debugfs.c",
  "human_readable_source": "\n \n\n#include <linux/debugfs.h>\n#include <linux/string_helpers.h>\n\n#include <drm/drm_print.h>\n\n#include \"gt/intel_gt_debugfs.h\"\n#include \"intel_guc_debugfs.h\"\n#include \"intel_gsc_uc_debugfs.h\"\n#include \"intel_huc_debugfs.h\"\n#include \"intel_uc.h\"\n#include \"intel_uc_debugfs.h\"\n\nstatic int uc_usage_show(struct seq_file *m, void *data)\n{\n\tstruct intel_uc *uc = m->private;\n\tstruct drm_printer p = drm_seq_file_printer(m);\n\n\tdrm_printf(&p, \"[guc] supported:%s wanted:%s used:%s\\n\",\n\t\t   str_yes_no(intel_uc_supports_guc(uc)),\n\t\t   str_yes_no(intel_uc_wants_guc(uc)),\n\t\t   str_yes_no(intel_uc_uses_guc(uc)));\n\tdrm_printf(&p, \"[huc] supported:%s wanted:%s used:%s\\n\",\n\t\t   str_yes_no(intel_uc_supports_huc(uc)),\n\t\t   str_yes_no(intel_uc_wants_huc(uc)),\n\t\t   str_yes_no(intel_uc_uses_huc(uc)));\n\tdrm_printf(&p, \"[submission] supported:%s wanted:%s used:%s\\n\",\n\t\t   str_yes_no(intel_uc_supports_guc_submission(uc)),\n\t\t   str_yes_no(intel_uc_wants_guc_submission(uc)),\n\t\t   str_yes_no(intel_uc_uses_guc_submission(uc)));\n\n\treturn 0;\n}\nDEFINE_INTEL_GT_DEBUGFS_ATTRIBUTE(uc_usage);\n\nvoid intel_uc_debugfs_register(struct intel_uc *uc, struct dentry *gt_root)\n{\n\tstatic const struct intel_gt_debugfs_file files[] = {\n\t\t{ \"usage\", &uc_usage_fops, NULL },\n\t};\n\tstruct dentry *root;\n\n\tif (!gt_root)\n\t\treturn;\n\n\t \n\tif (!intel_uc_supports_guc(uc))\n\t\treturn;\n\n\troot = debugfs_create_dir(\"uc\", gt_root);\n\tif (IS_ERR(root))\n\t\treturn;\n\n\tuc->guc.dbgfs_node = root;\n\n\tintel_gt_debugfs_register_files(root, files, ARRAY_SIZE(files), uc);\n\n\tintel_gsc_uc_debugfs_register(&uc->gsc, root);\n\tintel_guc_debugfs_register(&uc->guc, root);\n\tintel_huc_debugfs_register(&uc->huc, root);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}