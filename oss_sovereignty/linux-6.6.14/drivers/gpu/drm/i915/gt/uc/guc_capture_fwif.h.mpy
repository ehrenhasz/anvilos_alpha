{
  "module_name": "guc_capture_fwif.h",
  "hash_id": "8729b3280cde05f217569138225005784f4028a425f4b5523b8e62a667c2247e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/i915/gt/uc/guc_capture_fwif.h",
  "human_readable_source": " \n \n\n#ifndef _INTEL_GUC_CAPTURE_FWIF_H\n#define _INTEL_GUC_CAPTURE_FWIF_H\n\n#include <linux/types.h>\n#include \"intel_guc_fwif.h\"\n\nstruct intel_guc;\nstruct file;\n\n \nstruct __guc_capture_bufstate {\n\tu32 size;\n\tvoid *data;\n\tu32 rd;\n\tu32 wr;\n};\n\n \nstruct __guc_capture_parsed_output {\n\t \n\tstruct list_head link;\n\tbool is_partial;\n\tu32 eng_class;\n\tu32 eng_inst;\n\tu32 guc_id;\n\tu32 lrca;\n\tstruct gcap_reg_list_info {\n\t\tu32 vfid;\n\t\tu32 num_regs;\n\t\tstruct guc_mmio_reg *regs;\n\t} reginfo[GUC_CAPTURE_LIST_TYPE_MAX];\n#define GCAP_PARSED_REGLIST_INDEX_GLOBAL   BIT(GUC_CAPTURE_LIST_TYPE_GLOBAL)\n#define GCAP_PARSED_REGLIST_INDEX_ENGCLASS BIT(GUC_CAPTURE_LIST_TYPE_ENGINE_CLASS)\n#define GCAP_PARSED_REGLIST_INDEX_ENGINST  BIT(GUC_CAPTURE_LIST_TYPE_ENGINE_INSTANCE)\n};\n\n \nstruct guc_debug_capture_list_header {\n\tu32 info;\n#define GUC_CAPTURELISTHDR_NUMDESCR GENMASK(15, 0)\n} __packed;\n\nstruct guc_debug_capture_list {\n\tstruct guc_debug_capture_list_header header;\n\tstruct guc_mmio_reg regs[];\n} __packed;\n\n \nstruct __guc_mmio_reg_descr {\n\ti915_reg_t reg;\n\tu32 flags;\n\tu32 mask;\n\tconst char *regname;\n};\n\nstruct __guc_mmio_reg_descr_group {\n\tconst struct __guc_mmio_reg_descr *list;\n\tu32 num_regs;\n\tu32 owner;  \n\tu32 type;  \n\tu32 engine;  \n\tstruct __guc_mmio_reg_descr *extlist;  \n};\n\n \nstruct guc_state_capture_header_t {\n\tu32 owner;\n#define CAP_HDR_CAPTURE_VFID GENMASK(7, 0)\n\tu32 info;\n#define CAP_HDR_CAPTURE_TYPE GENMASK(3, 0)  \n#define CAP_HDR_ENGINE_CLASS GENMASK(7, 4)  \n#define CAP_HDR_ENGINE_INSTANCE GENMASK(11, 8)\n\tu32 lrca;  \n\tu32 guc_id;  \n\tu32 num_mmios;\n#define CAP_HDR_NUM_MMIOS GENMASK(9, 0)\n} __packed;\n\nstruct guc_state_capture_t {\n\tstruct guc_state_capture_header_t header;\n\tstruct guc_mmio_reg mmio_entries[];\n} __packed;\n\nenum guc_capture_group_types {\n\tGUC_STATE_CAPTURE_GROUP_TYPE_FULL,\n\tGUC_STATE_CAPTURE_GROUP_TYPE_PARTIAL,\n\tGUC_STATE_CAPTURE_GROUP_TYPE_MAX,\n};\n\nstruct guc_state_capture_group_header_t {\n\tu32 owner;\n#define CAP_GRP_HDR_CAPTURE_VFID GENMASK(7, 0)\n\tu32 info;\n#define CAP_GRP_HDR_NUM_CAPTURES GENMASK(7, 0)\n#define CAP_GRP_HDR_CAPTURE_TYPE GENMASK(15, 8)  \n} __packed;\n\n \nstruct guc_state_capture_group_t {\n\tstruct guc_state_capture_group_header_t grp_header;\n\tstruct guc_state_capture_t capture_entries[];\n} __packed;\n\n \nstruct __guc_capture_ads_cache {\n\tbool is_valid;\n\tvoid *ptr;\n\tsize_t size;\n\tint status;\n};\n\n \nstruct intel_guc_state_capture {\n\t \n\tconst struct __guc_mmio_reg_descr_group *reglists;\n\n\t \n\tstruct __guc_mmio_reg_descr_group *extlists;\n\n\t \n\tstruct __guc_capture_ads_cache ads_cache[GUC_CAPTURE_LIST_INDEX_MAX]\n\t\t\t\t\t\t[GUC_CAPTURE_LIST_TYPE_MAX]\n\t\t\t\t\t\t[GUC_MAX_ENGINE_CLASSES];\n\n\t \n\tvoid *ads_null_cache;\n\n\t \n\tstruct list_head cachelist;\n#define PREALLOC_NODES_MAX_COUNT (3 * GUC_MAX_ENGINE_CLASSES * GUC_MAX_INSTANCES_PER_CLASS)\n#define PREALLOC_NODES_DEFAULT_NUMREGS 64\n\n\t \n\tint max_mmio_per_node;\n\n\t \n\tstruct list_head outlist;\n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}