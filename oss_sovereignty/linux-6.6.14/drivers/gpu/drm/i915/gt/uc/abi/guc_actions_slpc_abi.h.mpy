{
  "module_name": "guc_actions_slpc_abi.h",
  "hash_id": "3dfaa0d5c2872e1b5aa1fd78e458cd2a8df7b6e6cfb8c4ee6b0801eb10ff30fa",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/i915/gt/uc/abi/guc_actions_slpc_abi.h",
  "human_readable_source": " \n \n\n#ifndef _GUC_ACTIONS_SLPC_ABI_H_\n#define _GUC_ACTIONS_SLPC_ABI_H_\n\n#include <linux/types.h>\n\n \n\n \n\n#define SLPC_MAX_OVERRIDE_PARAMETERS\t\t256\n#define SLPC_OVERRIDE_BITFIELD_SIZE \\\n\t\t(SLPC_MAX_OVERRIDE_PARAMETERS / 32)\n\n#define SLPC_PAGE_SIZE_BYTES\t\t\t4096\n#define SLPC_CACHELINE_SIZE_BYTES\t\t64\n#define SLPC_SHARED_DATA_SIZE_BYTE_HEADER\tSLPC_CACHELINE_SIZE_BYTES\n#define SLPC_SHARED_DATA_SIZE_BYTE_PLATFORM_INFO\tSLPC_CACHELINE_SIZE_BYTES\n#define SLPC_SHARED_DATA_SIZE_BYTE_TASK_STATE\tSLPC_CACHELINE_SIZE_BYTES\n#define SLPC_SHARED_DATA_MODE_DEFN_TABLE_SIZE\tSLPC_PAGE_SIZE_BYTES\n#define SLPC_SHARED_DATA_SIZE_BYTE_MAX\t\t(2 * SLPC_PAGE_SIZE_BYTES)\n\n \n#define SLPC_OVERRIDE_PARAMS_TOTAL_BYTES\t(((((SLPC_MAX_OVERRIDE_PARAMETERS * 4) \\\n\t\t\t\t\t\t+ ((SLPC_MAX_OVERRIDE_PARAMETERS / 32) * 4)) \\\n\t\t+ (SLPC_CACHELINE_SIZE_BYTES - 1)) / SLPC_CACHELINE_SIZE_BYTES) * \\\n\t\t\t\t\tSLPC_CACHELINE_SIZE_BYTES)\n\n#define SLPC_SHARED_DATA_SIZE_BYTE_OTHER\t(SLPC_SHARED_DATA_SIZE_BYTE_MAX - \\\n\t\t\t\t\t(SLPC_SHARED_DATA_SIZE_BYTE_HEADER \\\n\t\t\t\t\t+ SLPC_SHARED_DATA_SIZE_BYTE_PLATFORM_INFO \\\n\t\t\t\t\t+ SLPC_SHARED_DATA_SIZE_BYTE_TASK_STATE \\\n\t\t\t\t\t+ SLPC_OVERRIDE_PARAMS_TOTAL_BYTES \\\n\t\t\t\t\t+ SLPC_SHARED_DATA_MODE_DEFN_TABLE_SIZE))\n\nenum slpc_task_enable {\n\tSLPC_PARAM_TASK_DEFAULT = 0,\n\tSLPC_PARAM_TASK_ENABLED,\n\tSLPC_PARAM_TASK_DISABLED,\n\tSLPC_PARAM_TASK_UNKNOWN\n};\n\nenum slpc_global_state {\n\tSLPC_GLOBAL_STATE_NOT_RUNNING = 0,\n\tSLPC_GLOBAL_STATE_INITIALIZING = 1,\n\tSLPC_GLOBAL_STATE_RESETTING = 2,\n\tSLPC_GLOBAL_STATE_RUNNING = 3,\n\tSLPC_GLOBAL_STATE_SHUTTING_DOWN = 4,\n\tSLPC_GLOBAL_STATE_ERROR = 5\n};\n\nenum slpc_param_id {\n\tSLPC_PARAM_TASK_ENABLE_GTPERF = 0,\n\tSLPC_PARAM_TASK_DISABLE_GTPERF = 1,\n\tSLPC_PARAM_TASK_ENABLE_BALANCER = 2,\n\tSLPC_PARAM_TASK_DISABLE_BALANCER = 3,\n\tSLPC_PARAM_TASK_ENABLE_DCC = 4,\n\tSLPC_PARAM_TASK_DISABLE_DCC = 5,\n\tSLPC_PARAM_GLOBAL_MIN_GT_UNSLICE_FREQ_MHZ = 6,\n\tSLPC_PARAM_GLOBAL_MAX_GT_UNSLICE_FREQ_MHZ = 7,\n\tSLPC_PARAM_GLOBAL_MIN_GT_SLICE_FREQ_MHZ = 8,\n\tSLPC_PARAM_GLOBAL_MAX_GT_SLICE_FREQ_MHZ = 9,\n\tSLPC_PARAM_GTPERF_THRESHOLD_MAX_FPS = 10,\n\tSLPC_PARAM_GLOBAL_DISABLE_GT_FREQ_MANAGEMENT = 11,\n\tSLPC_PARAM_GTPERF_ENABLE_FRAMERATE_STALLING = 12,\n\tSLPC_PARAM_GLOBAL_DISABLE_RC6_MODE_CHANGE = 13,\n\tSLPC_PARAM_GLOBAL_OC_UNSLICE_FREQ_MHZ = 14,\n\tSLPC_PARAM_GLOBAL_OC_SLICE_FREQ_MHZ = 15,\n\tSLPC_PARAM_GLOBAL_ENABLE_IA_GT_BALANCING = 16,\n\tSLPC_PARAM_GLOBAL_ENABLE_ADAPTIVE_BURST_TURBO = 17,\n\tSLPC_PARAM_GLOBAL_ENABLE_EVAL_MODE = 18,\n\tSLPC_PARAM_GLOBAL_ENABLE_BALANCER_IN_NON_GAMING_MODE = 19,\n\tSLPC_PARAM_GLOBAL_RT_MODE_TURBO_FREQ_DELTA_MHZ = 20,\n\tSLPC_PARAM_PWRGATE_RC_MODE = 21,\n\tSLPC_PARAM_EDR_MODE_COMPUTE_TIMEOUT_MS = 22,\n\tSLPC_PARAM_EDR_QOS_FREQ_MHZ = 23,\n\tSLPC_PARAM_MEDIA_FF_RATIO_MODE = 24,\n\tSLPC_PARAM_ENABLE_IA_FREQ_LIMITING = 25,\n\tSLPC_PARAM_STRATEGIES = 26,\n\tSLPC_PARAM_POWER_PROFILE = 27,\n\tSLPC_PARAM_IGNORE_EFFICIENT_FREQUENCY = 28,\n\tSLPC_MAX_PARAM = 32,\n};\n\nenum slpc_media_ratio_mode {\n\tSLPC_MEDIA_RATIO_MODE_DYNAMIC_CONTROL = 0,\n\tSLPC_MEDIA_RATIO_MODE_FIXED_ONE_TO_ONE = 1,\n\tSLPC_MEDIA_RATIO_MODE_FIXED_ONE_TO_TWO = 2,\n};\n\nenum slpc_gucrc_mode {\n\tSLPC_GUCRC_MODE_HW = 0,\n\tSLPC_GUCRC_MODE_GUCRC_NO_RC6 = 1,\n\tSLPC_GUCRC_MODE_GUCRC_STATIC_TIMEOUT = 2,\n\tSLPC_GUCRC_MODE_GUCRC_DYNAMIC_HYSTERESIS = 3,\n\n\tSLPC_GUCRC_MODE_MAX,\n};\n\nenum slpc_event_id {\n\tSLPC_EVENT_RESET = 0,\n\tSLPC_EVENT_SHUTDOWN = 1,\n\tSLPC_EVENT_PLATFORM_INFO_CHANGE = 2,\n\tSLPC_EVENT_DISPLAY_MODE_CHANGE = 3,\n\tSLPC_EVENT_FLIP_COMPLETE = 4,\n\tSLPC_EVENT_QUERY_TASK_STATE = 5,\n\tSLPC_EVENT_PARAMETER_SET = 6,\n\tSLPC_EVENT_PARAMETER_UNSET = 7,\n};\n\nstruct slpc_task_state_data {\n\tunion {\n\t\tu32 task_status_padding;\n\t\tstruct {\n\t\t\tu32 status;\n#define SLPC_GTPERF_TASK_ENABLED\tREG_BIT(0)\n#define SLPC_DCC_TASK_ENABLED\t\tREG_BIT(11)\n#define SLPC_IN_DCC\t\t\tREG_BIT(12)\n#define SLPC_BALANCER_ENABLED\t\tREG_BIT(15)\n#define SLPC_IBC_TASK_ENABLED\t\tREG_BIT(16)\n#define SLPC_BALANCER_IA_LMT_ENABLED\tREG_BIT(17)\n#define SLPC_BALANCER_IA_LMT_ACTIVE\tREG_BIT(18)\n\t\t};\n\t};\n\tunion {\n\t\tu32 freq_padding;\n\t\tstruct {\n#define SLPC_MAX_UNSLICE_FREQ_MASK\tREG_GENMASK(7, 0)\n#define SLPC_MIN_UNSLICE_FREQ_MASK\tREG_GENMASK(15, 8)\n#define SLPC_MAX_SLICE_FREQ_MASK\tREG_GENMASK(23, 16)\n#define SLPC_MIN_SLICE_FREQ_MASK\tREG_GENMASK(31, 24)\n\t\t\tu32 freq;\n\t\t};\n\t};\n} __packed;\n\nstruct slpc_shared_data_header {\n\t \n\tu32 size;\n\tu32 global_state;\n\tu32 display_data_addr;\n} __packed;\n\nstruct slpc_override_params {\n\tu32 bits[SLPC_OVERRIDE_BITFIELD_SIZE];\n\tu32 values[SLPC_MAX_OVERRIDE_PARAMETERS];\n} __packed;\n\nstruct slpc_shared_data {\n\tstruct slpc_shared_data_header header;\n\tu8 shared_data_header_pad[SLPC_SHARED_DATA_SIZE_BYTE_HEADER -\n\t\t\t\tsizeof(struct slpc_shared_data_header)];\n\n\tu8 platform_info_pad[SLPC_SHARED_DATA_SIZE_BYTE_PLATFORM_INFO];\n\n\tstruct slpc_task_state_data task_state_data;\n\tu8 task_state_data_pad[SLPC_SHARED_DATA_SIZE_BYTE_TASK_STATE -\n\t\t\t\tsizeof(struct slpc_task_state_data)];\n\n\tstruct slpc_override_params override_params;\n\tu8 override_params_pad[SLPC_OVERRIDE_PARAMS_TOTAL_BYTES -\n\t\t\t\tsizeof(struct slpc_override_params)];\n\n\tu8 shared_data_pad[SLPC_SHARED_DATA_SIZE_BYTE_OTHER];\n\n\t \n\tu8 reserved_mode_definition[4096];\n} __packed;\n\n \n\n#define GUC_ACTION_HOST2GUC_PC_SLPC_REQUEST\t\t0x3003\n\n#define HOST2GUC_PC_SLPC_REQUEST_MSG_MIN_LEN \\\n\t\t\t\t(GUC_HXG_REQUEST_MSG_MIN_LEN + 1u)\n#define HOST2GUC_PC_SLPC_EVENT_MAX_INPUT_ARGS\t\t9\n#define HOST2GUC_PC_SLPC_REQUEST_MSG_MAX_LEN \\\n\t\t(HOST2GUC_PC_SLPC_REQUEST_REQUEST_MSG_MIN_LEN + \\\n\t\t\tHOST2GUC_PC_SLPC_EVENT_MAX_INPUT_ARGS)\n#define HOST2GUC_PC_SLPC_REQUEST_MSG_0_MBZ\t\tGUC_HXG_REQUEST_MSG_0_DATA0\n#define HOST2GUC_PC_SLPC_REQUEST_MSG_1_EVENT_ID\t\t(0xff << 8)\n#define HOST2GUC_PC_SLPC_REQUEST_MSG_1_EVENT_ARGC\t(0xff << 0)\n#define HOST2GUC_PC_SLPC_REQUEST_MSG_N_EVENT_DATA_N\tGUC_HXG_REQUEST_MSG_n_DATAn\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}