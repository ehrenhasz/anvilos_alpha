{
  "module_name": "intel_uc.h",
  "hash_id": "efb2c3f505e49162ba6b28e86a79914dd653491388b9bb06f31e332ebfa7d6b4",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/i915/gt/uc/intel_uc.h",
  "human_readable_source": " \n \n\n#ifndef _INTEL_UC_H_\n#define _INTEL_UC_H_\n\n#include \"intel_gsc_uc.h\"\n#include \"intel_guc.h\"\n#include \"intel_guc_rc.h\"\n#include \"intel_guc_submission.h\"\n#include \"intel_guc_slpc.h\"\n#include \"intel_huc.h\"\n#include \"i915_params.h\"\n\nstruct intel_uc;\n\nstruct intel_uc_ops {\n\tint (*sanitize)(struct intel_uc *uc);\n\tvoid (*init_fw)(struct intel_uc *uc);\n\tvoid (*fini_fw)(struct intel_uc *uc);\n\tint (*init)(struct intel_uc *uc);\n\tvoid (*fini)(struct intel_uc *uc);\n\tint (*init_hw)(struct intel_uc *uc);\n\tvoid (*fini_hw)(struct intel_uc *uc);\n\tvoid (*resume_mappings)(struct intel_uc *uc);\n};\n\nstruct intel_uc {\n\tstruct intel_uc_ops const *ops;\n\tstruct intel_gsc_uc gsc;\n\tstruct intel_guc guc;\n\tstruct intel_huc huc;\n\n\t \n\tstruct drm_i915_gem_object *load_err_log;\n\n\tbool reset_in_progress;\n\tbool fw_table_invalid;\n};\n\nvoid intel_uc_init_early(struct intel_uc *uc);\nvoid intel_uc_init_late(struct intel_uc *uc);\nvoid intel_uc_driver_late_release(struct intel_uc *uc);\nvoid intel_uc_driver_remove(struct intel_uc *uc);\nvoid intel_uc_init_mmio(struct intel_uc *uc);\nvoid intel_uc_reset_prepare(struct intel_uc *uc);\nvoid intel_uc_reset(struct intel_uc *uc, intel_engine_mask_t stalled);\nvoid intel_uc_reset_finish(struct intel_uc *uc);\nvoid intel_uc_cancel_requests(struct intel_uc *uc);\nvoid intel_uc_suspend(struct intel_uc *uc);\nvoid intel_uc_runtime_suspend(struct intel_uc *uc);\nint intel_uc_resume(struct intel_uc *uc);\nint intel_uc_runtime_resume(struct intel_uc *uc);\n\n \n\n#define __uc_state_checker(x, func, state, required) \\\nstatic inline bool intel_uc_##state##_##func(struct intel_uc *uc) \\\n{ \\\n\treturn intel_##func##_is_##required(&uc->x); \\\n}\n\n#define uc_state_checkers(x, func) \\\n__uc_state_checker(x, func, supports, supported) \\\n__uc_state_checker(x, func, wants, wanted) \\\n__uc_state_checker(x, func, uses, used)\n\nuc_state_checkers(guc, guc);\nuc_state_checkers(huc, huc);\nuc_state_checkers(guc, guc_submission);\nuc_state_checkers(guc, guc_slpc);\nuc_state_checkers(guc, guc_rc);\nuc_state_checkers(gsc, gsc_uc);\n\n#undef uc_state_checkers\n#undef __uc_state_checker\n\nstatic inline int intel_uc_wait_for_idle(struct intel_uc *uc, long timeout)\n{\n\treturn intel_guc_wait_for_idle(&uc->guc, timeout);\n}\n\n#define intel_uc_ops_function(_NAME, _OPS, _TYPE, _RET) \\\nstatic inline _TYPE intel_uc_##_NAME(struct intel_uc *uc) \\\n{ \\\n\tif (uc->ops->_OPS) \\\n\t\treturn uc->ops->_OPS(uc); \\\n\treturn _RET; \\\n}\nintel_uc_ops_function(sanitize, sanitize, int, 0);\nintel_uc_ops_function(fetch_firmwares, init_fw, void, );\nintel_uc_ops_function(cleanup_firmwares, fini_fw, void, );\nintel_uc_ops_function(init, init, int, 0);\nintel_uc_ops_function(fini, fini, void, );\nintel_uc_ops_function(init_hw, init_hw, int, 0);\nintel_uc_ops_function(fini_hw, fini_hw, void, );\nintel_uc_ops_function(resume_mappings, resume_mappings, void, );\n#undef intel_uc_ops_function\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}