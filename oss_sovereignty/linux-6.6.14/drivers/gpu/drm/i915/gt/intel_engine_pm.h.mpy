{
  "module_name": "intel_engine_pm.h",
  "hash_id": "acf1cc6424a95e44f13bac049e245a6c7b5d8cfb9e7d2cf4fe2590203d95e8a0",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/i915/gt/intel_engine_pm.h",
  "human_readable_source": " \n \n\n#ifndef INTEL_ENGINE_PM_H\n#define INTEL_ENGINE_PM_H\n\n#include \"i915_drv.h\"\n#include \"i915_request.h\"\n#include \"intel_engine_types.h\"\n#include \"intel_wakeref.h\"\n#include \"intel_gt_pm.h\"\n\nstatic inline bool\nintel_engine_pm_is_awake(const struct intel_engine_cs *engine)\n{\n\treturn intel_wakeref_is_active(&engine->wakeref);\n}\n\nstatic inline void __intel_engine_pm_get(struct intel_engine_cs *engine)\n{\n\t__intel_wakeref_get(&engine->wakeref);\n}\n\nstatic inline void intel_engine_pm_get(struct intel_engine_cs *engine)\n{\n\tintel_wakeref_get(&engine->wakeref);\n}\n\nstatic inline bool intel_engine_pm_get_if_awake(struct intel_engine_cs *engine)\n{\n\treturn intel_wakeref_get_if_active(&engine->wakeref);\n}\n\nstatic inline void intel_engine_pm_might_get(struct intel_engine_cs *engine)\n{\n\tif (!intel_engine_is_virtual(engine)) {\n\t\tintel_wakeref_might_get(&engine->wakeref);\n\t} else {\n\t\tstruct intel_gt *gt = engine->gt;\n\t\tstruct intel_engine_cs *tengine;\n\t\tintel_engine_mask_t tmp, mask = engine->mask;\n\n\t\tfor_each_engine_masked(tengine, gt, mask, tmp)\n\t\t\tintel_wakeref_might_get(&tengine->wakeref);\n\t}\n\tintel_gt_pm_might_get(engine->gt);\n}\n\nstatic inline void intel_engine_pm_put(struct intel_engine_cs *engine)\n{\n\tintel_wakeref_put(&engine->wakeref);\n}\n\nstatic inline void intel_engine_pm_put_async(struct intel_engine_cs *engine)\n{\n\tintel_wakeref_put_async(&engine->wakeref);\n}\n\nstatic inline void intel_engine_pm_put_delay(struct intel_engine_cs *engine,\n\t\t\t\t\t     unsigned long delay)\n{\n\tintel_wakeref_put_delay(&engine->wakeref, delay);\n}\n\nstatic inline void intel_engine_pm_flush(struct intel_engine_cs *engine)\n{\n\tintel_wakeref_unlock_wait(&engine->wakeref);\n}\n\nstatic inline void intel_engine_pm_might_put(struct intel_engine_cs *engine)\n{\n\tif (!intel_engine_is_virtual(engine)) {\n\t\tintel_wakeref_might_put(&engine->wakeref);\n\t} else {\n\t\tstruct intel_gt *gt = engine->gt;\n\t\tstruct intel_engine_cs *tengine;\n\t\tintel_engine_mask_t tmp, mask = engine->mask;\n\n\t\tfor_each_engine_masked(tengine, gt, mask, tmp)\n\t\t\tintel_wakeref_might_put(&tengine->wakeref);\n\t}\n\tintel_gt_pm_might_put(engine->gt);\n}\n\nstatic inline struct i915_request *\nintel_engine_create_kernel_request(struct intel_engine_cs *engine)\n{\n\tstruct i915_request *rq;\n\n\t \n\tintel_engine_pm_get(engine);\n\trq = i915_request_create(engine->kernel_context);\n\tintel_engine_pm_put(engine);\n\n\treturn rq;\n}\n\nvoid intel_engine_init__pm(struct intel_engine_cs *engine);\n\nvoid intel_engine_reset_pinned_contexts(struct intel_engine_cs *engine);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}