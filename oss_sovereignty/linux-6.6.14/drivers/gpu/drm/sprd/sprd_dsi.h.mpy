{
  "module_name": "sprd_dsi.h",
  "hash_id": "f6432b08c48390a4b3c67fe3aa6b2909ea7dbb3ed82ddd205f4feed84f3559f1",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/sprd/sprd_dsi.h",
  "human_readable_source": " \n \n\n#ifndef __SPRD_DSI_H__\n#define __SPRD_DSI_H__\n\n#include <linux/of.h>\n#include <linux/device.h>\n#include <linux/regmap.h>\n#include <video/videomode.h>\n\n#include <drm/drm_bridge.h>\n#include <drm/drm_connector.h>\n#include <drm/drm_encoder.h>\n#include <drm/drm_mipi_dsi.h>\n#include <drm/drm_print.h>\n#include <drm/drm_panel.h>\n\n#define encoder_to_dsi(encoder) \\\n\tcontainer_of(encoder, struct sprd_dsi, encoder)\n\nenum dsi_work_mode {\n\tDSI_MODE_CMD = 0,\n\tDSI_MODE_VIDEO\n};\n\nenum video_burst_mode {\n\tVIDEO_NON_BURST_WITH_SYNC_PULSES = 0,\n\tVIDEO_NON_BURST_WITH_SYNC_EVENTS,\n\tVIDEO_BURST_WITH_SYNC_PULSES\n};\n\nenum dsi_color_coding {\n\tCOLOR_CODE_16BIT_CONFIG1 = 0,\n\tCOLOR_CODE_16BIT_CONFIG2,\n\tCOLOR_CODE_16BIT_CONFIG3,\n\tCOLOR_CODE_18BIT_CONFIG1,\n\tCOLOR_CODE_18BIT_CONFIG2,\n\tCOLOR_CODE_24BIT,\n\tCOLOR_CODE_20BIT_YCC422_LOOSELY,\n\tCOLOR_CODE_24BIT_YCC422,\n\tCOLOR_CODE_16BIT_YCC422,\n\tCOLOR_CODE_30BIT,\n\tCOLOR_CODE_36BIT,\n\tCOLOR_CODE_12BIT_YCC420,\n\tCOLOR_CODE_COMPRESSTION,\n\tCOLOR_CODE_MAX\n};\n\nenum pll_timing {\n\tNONE,\n\tREQUEST_TIME,\n\tPREPARE_TIME,\n\tSETTLE_TIME,\n\tZERO_TIME,\n\tTRAIL_TIME,\n\tEXIT_TIME,\n\tCLKPOST_TIME,\n\tTA_GET,\n\tTA_GO,\n\tTA_SURE,\n\tTA_WAIT,\n};\n\nstruct dphy_pll {\n\tu8 refin;  \n\tu8 cp_s;  \n\tu8 fdk_s;  \n\tu8 sdm_en;\n\tu8 div;\n\tu8 int_n;  \n\tu32 ref_clk;  \n\tu32 freq;  \n\tu32 fvco;\n\tu32 potential_fvco;\n\tu32 nint;  \n\tu32 kint;  \n\tu8 lpf_sel;  \n\tu8 out_sel;  \n\tu8 vco_band;  \n\tu8 det_delay;\n};\n\nstruct dsi_context {\n\tvoid __iomem *base;\n\tstruct regmap *regmap;\n\tstruct dphy_pll pll;\n\tstruct videomode vm;\n\tbool enabled;\n\n\tu8 work_mode;\n\tu8 burst_mode;\n\tu32 int0_mask;\n\tu32 int1_mask;\n\n\t \n\tu16 data_hs2lp;\n\t \n\tu16 data_lp2hs;\n\t \n\tu16 clk_hs2lp;\n\t \n\tu16 clk_lp2hs;\n\t \n\tu16 max_rd_time;\n\t \n\tbool frame_ack_en;\n\t \n\tbool te_ack_en;\n};\n\nstruct sprd_dsi {\n\tstruct drm_device *drm;\n\tstruct mipi_dsi_host host;\n\tstruct mipi_dsi_device *slave;\n\tstruct drm_encoder encoder;\n\tstruct drm_bridge *panel_bridge;\n\tstruct dsi_context ctx;\n};\n\nint dphy_pll_config(struct dsi_context *ctx);\nvoid dphy_timing_config(struct dsi_context *ctx);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}