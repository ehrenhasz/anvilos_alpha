{
  "module_name": "ttm_sys_manager.c",
  "hash_id": "c3f7ef3e3dce1bca51ad3527b6e201ab7425c07067f59e784409b8ac0e0560ed",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/ttm/ttm_sys_manager.c",
  "human_readable_source": " \n\n#include <drm/ttm/ttm_resource.h>\n#include <drm/ttm/ttm_device.h>\n#include <drm/ttm/ttm_placement.h>\n#include <linux/slab.h>\n\n#include \"ttm_module.h\"\n\nstatic int ttm_sys_man_alloc(struct ttm_resource_manager *man,\n\t\t\t     struct ttm_buffer_object *bo,\n\t\t\t     const struct ttm_place *place,\n\t\t\t     struct ttm_resource **res)\n{\n\t*res = kzalloc(sizeof(**res), GFP_KERNEL);\n\tif (!*res)\n\t\treturn -ENOMEM;\n\n\tttm_resource_init(bo, place, *res);\n\treturn 0;\n}\n\nstatic void ttm_sys_man_free(struct ttm_resource_manager *man,\n\t\t\t     struct ttm_resource *res)\n{\n\tttm_resource_fini(man, res);\n\tkfree(res);\n}\n\nstatic const struct ttm_resource_manager_func ttm_sys_manager_func = {\n\t.alloc = ttm_sys_man_alloc,\n\t.free = ttm_sys_man_free,\n};\n\nvoid ttm_sys_man_init(struct ttm_device *bdev)\n{\n\tstruct ttm_resource_manager *man = &bdev->sysman;\n\n\t \n\tman->use_tt = true;\n\tman->func = &ttm_sys_manager_func;\n\n\tttm_resource_manager_init(man, bdev, 0);\n\tttm_set_driver_manager(bdev, TTM_PL_SYSTEM, man);\n\tttm_resource_manager_set_used(man, true);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}