{
  "module_name": "sti_plane.h",
  "hash_id": "3ec61ce007c986fe32588e561c4705f739cab735e51230bbfccd7c697230efb7",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/sti/sti_plane.h",
  "human_readable_source": " \n \n\n#ifndef _STI_PLANE_H_\n#define _STI_PLANE_H_\n\n#include <drm/drm_atomic_helper.h>\n\n#define to_sti_plane(x) container_of(x, struct sti_plane, drm_plane)\n\n#define STI_PLANE_TYPE_SHIFT 8\n#define STI_PLANE_TYPE_MASK (~((1 << STI_PLANE_TYPE_SHIFT) - 1))\n\nenum sti_plane_type {\n\tSTI_GDP = 1 << STI_PLANE_TYPE_SHIFT,\n\tSTI_VDP = 2 << STI_PLANE_TYPE_SHIFT,\n\tSTI_CUR = 3 << STI_PLANE_TYPE_SHIFT,\n\tSTI_BCK = 4 << STI_PLANE_TYPE_SHIFT\n};\n\nenum sti_plane_id_of_type {\n\tSTI_ID_0 = 0,\n\tSTI_ID_1 = 1,\n\tSTI_ID_2 = 2,\n\tSTI_ID_3 = 3\n};\n\nenum sti_plane_desc {\n\tSTI_GDP_0       = STI_GDP | STI_ID_0,\n\tSTI_GDP_1       = STI_GDP | STI_ID_1,\n\tSTI_GDP_2       = STI_GDP | STI_ID_2,\n\tSTI_GDP_3       = STI_GDP | STI_ID_3,\n\tSTI_HQVDP_0     = STI_VDP | STI_ID_0,\n\tSTI_CURSOR      = STI_CUR,\n\tSTI_BACK        = STI_BCK\n};\n\nenum sti_plane_status {\n\tSTI_PLANE_READY,\n\tSTI_PLANE_UPDATED,\n\tSTI_PLANE_DISABLING,\n\tSTI_PLANE_FLUSHING,\n\tSTI_PLANE_DISABLED,\n};\n\n#define FPS_LENGTH 128\nstruct sti_fps_info {\n\tbool output;\n\tunsigned int curr_frame_counter;\n\tunsigned int last_frame_counter;\n\tunsigned int curr_field_counter;\n\tunsigned int last_field_counter;\n\tktime_t\t     last_timestamp;\n\tchar fps_str[FPS_LENGTH];\n\tchar fips_str[FPS_LENGTH];\n};\n\n \nstruct sti_plane {\n\tstruct drm_plane drm_plane;\n\tenum sti_plane_desc desc;\n\tenum sti_plane_status status;\n\tstruct sti_fps_info fps_info;\n};\n\nconst char *sti_plane_to_str(struct sti_plane *plane);\nvoid sti_plane_update_fps(struct sti_plane *plane,\n\t\t\t  bool new_frame,\n\t\t\t  bool new_field);\n\nvoid sti_plane_init_property(struct sti_plane *plane,\n\t\t\t     enum drm_plane_type type);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}