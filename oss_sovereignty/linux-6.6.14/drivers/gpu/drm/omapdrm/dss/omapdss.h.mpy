{
  "module_name": "omapdss.h",
  "hash_id": "d6409f0da63277a0c4ea9fc213c764f19d2a5aa9d4f442c77fb72b561388304c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/omapdrm/dss/omapdss.h",
  "human_readable_source": " \n \n\n#ifndef __OMAP_DRM_DSS_H\n#define __OMAP_DRM_DSS_H\n\n#include <drm/drm_color_mgmt.h>\n#include <drm/drm_crtc.h>\n#include <drm/drm_mode.h>\n#include <linux/device.h>\n#include <linux/interrupt.h>\n#include <linux/list.h>\n#include <linux/platform_data/omapdss.h>\n#include <video/videomode.h>\n\n#define DISPC_IRQ_FRAMEDONE\t\t(1 << 0)\n#define DISPC_IRQ_VSYNC\t\t\t(1 << 1)\n#define DISPC_IRQ_EVSYNC_EVEN\t\t(1 << 2)\n#define DISPC_IRQ_EVSYNC_ODD\t\t(1 << 3)\n#define DISPC_IRQ_ACBIAS_COUNT_STAT\t(1 << 4)\n#define DISPC_IRQ_PROG_LINE_NUM\t\t(1 << 5)\n#define DISPC_IRQ_GFX_FIFO_UNDERFLOW\t(1 << 6)\n#define DISPC_IRQ_GFX_END_WIN\t\t(1 << 7)\n#define DISPC_IRQ_PAL_GAMMA_MASK\t(1 << 8)\n#define DISPC_IRQ_OCP_ERR\t\t(1 << 9)\n#define DISPC_IRQ_VID1_FIFO_UNDERFLOW\t(1 << 10)\n#define DISPC_IRQ_VID1_END_WIN\t\t(1 << 11)\n#define DISPC_IRQ_VID2_FIFO_UNDERFLOW\t(1 << 12)\n#define DISPC_IRQ_VID2_END_WIN\t\t(1 << 13)\n#define DISPC_IRQ_SYNC_LOST\t\t(1 << 14)\n#define DISPC_IRQ_SYNC_LOST_DIGIT\t(1 << 15)\n#define DISPC_IRQ_WAKEUP\t\t(1 << 16)\n#define DISPC_IRQ_SYNC_LOST2\t\t(1 << 17)\n#define DISPC_IRQ_VSYNC2\t\t(1 << 18)\n#define DISPC_IRQ_VID3_END_WIN\t\t(1 << 19)\n#define DISPC_IRQ_VID3_FIFO_UNDERFLOW\t(1 << 20)\n#define DISPC_IRQ_ACBIAS_COUNT_STAT2\t(1 << 21)\n#define DISPC_IRQ_FRAMEDONE2\t\t(1 << 22)\n#define DISPC_IRQ_FRAMEDONEWB\t\t(1 << 23)\n#define DISPC_IRQ_FRAMEDONETV\t\t(1 << 24)\n#define DISPC_IRQ_WBBUFFEROVERFLOW\t(1 << 25)\n#define DISPC_IRQ_WBUNCOMPLETEERROR\t(1 << 26)\n#define DISPC_IRQ_SYNC_LOST3\t\t(1 << 27)\n#define DISPC_IRQ_VSYNC3\t\t(1 << 28)\n#define DISPC_IRQ_ACBIAS_COUNT_STAT3\t(1 << 29)\n#define DISPC_IRQ_FRAMEDONE3\t\t(1 << 30)\n\nstruct dispc_device;\nstruct drm_connector;\nstruct dss_device;\nstruct dss_lcd_mgr_config;\nstruct hdmi_avi_infoframe;\nstruct omap_drm_private;\nstruct omap_dss_device;\nstruct snd_aes_iec958;\nstruct snd_cea_861_aud_if;\n\nenum omap_display_type {\n\tOMAP_DISPLAY_TYPE_NONE\t\t= 0,\n\tOMAP_DISPLAY_TYPE_DPI\t\t= 1 << 0,\n\tOMAP_DISPLAY_TYPE_DBI\t\t= 1 << 1,\n\tOMAP_DISPLAY_TYPE_SDI\t\t= 1 << 2,\n\tOMAP_DISPLAY_TYPE_DSI\t\t= 1 << 3,\n\tOMAP_DISPLAY_TYPE_VENC\t\t= 1 << 4,\n\tOMAP_DISPLAY_TYPE_HDMI\t\t= 1 << 5,\n\tOMAP_DISPLAY_TYPE_DVI\t\t= 1 << 6,\n};\n\nenum omap_plane_id {\n\tOMAP_DSS_GFX\t= 0,\n\tOMAP_DSS_VIDEO1\t= 1,\n\tOMAP_DSS_VIDEO2\t= 2,\n\tOMAP_DSS_VIDEO3\t= 3,\n\tOMAP_DSS_WB\t= 4,\n};\n\nenum omap_channel {\n\tOMAP_DSS_CHANNEL_LCD\t= 0,\n\tOMAP_DSS_CHANNEL_DIGIT\t= 1,\n\tOMAP_DSS_CHANNEL_LCD2\t= 2,\n\tOMAP_DSS_CHANNEL_LCD3\t= 3,\n\tOMAP_DSS_CHANNEL_WB\t= 4,\n};\n\nenum omap_color_mode {\n\t_UNUSED_,\n};\n\nenum omap_dss_load_mode {\n\tOMAP_DSS_LOAD_CLUT_AND_FRAME\t= 0,\n\tOMAP_DSS_LOAD_CLUT_ONLY\t\t= 1,\n\tOMAP_DSS_LOAD_FRAME_ONLY\t= 2,\n\tOMAP_DSS_LOAD_CLUT_ONCE_FRAME\t= 3,\n};\n\nenum omap_dss_trans_key_type {\n\tOMAP_DSS_COLOR_KEY_GFX_DST = 0,\n\tOMAP_DSS_COLOR_KEY_VID_SRC = 1,\n};\n\nenum omap_dss_signal_level {\n\tOMAPDSS_SIG_ACTIVE_LOW,\n\tOMAPDSS_SIG_ACTIVE_HIGH,\n};\n\nenum omap_dss_signal_edge {\n\tOMAPDSS_DRIVE_SIG_FALLING_EDGE,\n\tOMAPDSS_DRIVE_SIG_RISING_EDGE,\n};\n\nenum omap_dss_venc_type {\n\tOMAP_DSS_VENC_TYPE_COMPOSITE,\n\tOMAP_DSS_VENC_TYPE_SVIDEO,\n};\n\nenum omap_dss_rotation_type {\n\tOMAP_DSS_ROT_NONE\t= 0,\n\tOMAP_DSS_ROT_TILER\t= 1 << 0,\n};\n\nenum omap_overlay_caps {\n\tOMAP_DSS_OVL_CAP_SCALE = 1 << 0,\n\tOMAP_DSS_OVL_CAP_GLOBAL_ALPHA = 1 << 1,\n\tOMAP_DSS_OVL_CAP_PRE_MULT_ALPHA = 1 << 2,\n\tOMAP_DSS_OVL_CAP_ZORDER = 1 << 3,\n\tOMAP_DSS_OVL_CAP_POS = 1 << 4,\n\tOMAP_DSS_OVL_CAP_REPLICATION = 1 << 5,\n};\n\nenum omap_dss_output_id {\n\tOMAP_DSS_OUTPUT_DPI\t= 1 << 0,\n\tOMAP_DSS_OUTPUT_DBI\t= 1 << 1,\n\tOMAP_DSS_OUTPUT_SDI\t= 1 << 2,\n\tOMAP_DSS_OUTPUT_DSI1\t= 1 << 3,\n\tOMAP_DSS_OUTPUT_DSI2\t= 1 << 4,\n\tOMAP_DSS_OUTPUT_VENC\t= 1 << 5,\n\tOMAP_DSS_OUTPUT_HDMI\t= 1 << 6,\n};\n\nstruct omap_dss_cpr_coefs {\n\ts16 rr, rg, rb;\n\ts16 gr, gg, gb;\n\ts16 br, bg, bb;\n};\n\nstruct omap_overlay_info {\n\tdma_addr_t paddr;\n\tdma_addr_t p_uv_addr;   \n\tu16 screen_width;\n\tu16 width;\n\tu16 height;\n\tu32 fourcc;\n\tu8 rotation;\n\tenum omap_dss_rotation_type rotation_type;\n\n\tu16 pos_x;\n\tu16 pos_y;\n\tu16 out_width;\t \n\tu16 out_height;\t \n\tu8 global_alpha;\n\tu8 pre_mult_alpha;\n\tu8 zorder;\n\n\tenum drm_color_encoding color_encoding;\n\tenum drm_color_range color_range;\n};\n\nstruct omap_overlay_manager_info {\n\tu32 default_color;\n\n\tenum omap_dss_trans_key_type trans_key_type;\n\tu32 trans_key;\n\tbool trans_enabled;\n\n\tbool partial_alpha_enabled;\n\n\tbool cpr_enable;\n\tstruct omap_dss_cpr_coefs cpr_coefs;\n};\n\nstruct omap_dss_writeback_info {\n\tu32 paddr;\n\tu32 p_uv_addr;\n\tu16 buf_width;\n\tu16 width;\n\tu16 height;\n\tu32 fourcc;\n\tu8 rotation;\n\tenum omap_dss_rotation_type rotation_type;\n\tu8 pre_mult_alpha;\n};\n\nstruct omapdss_dsi_ops {\n\tint (*update)(struct omap_dss_device *dssdev);\n\tbool (*is_video_mode)(struct omap_dss_device *dssdev);\n};\n\nstruct omap_dss_device {\n\tstruct device *dev;\n\n\tstruct dss_device *dss;\n\tstruct drm_bridge *bridge;\n\tstruct drm_bridge *next_bridge;\n\tstruct drm_panel *panel;\n\n\tstruct list_head list;\n\n\t \n\tenum omap_display_type type;\n\n\tconst char *name;\n\n\tconst struct omapdss_dsi_ops *dsi_ops;\n\tu32 bus_flags;\n\n\t \n\n\t \n\tenum omap_channel dispc_channel;\n\n\t \n\tenum omap_dss_output_id id;\n\n\t \n\tunsigned int of_port;\n};\n\nstruct dss_pdata {\n\tstruct dss_device *dss;\n};\n\nvoid omapdss_device_register(struct omap_dss_device *dssdev);\nvoid omapdss_device_unregister(struct omap_dss_device *dssdev);\nstruct omap_dss_device *omapdss_device_get(struct omap_dss_device *dssdev);\nvoid omapdss_device_put(struct omap_dss_device *dssdev);\nstruct omap_dss_device *omapdss_find_device_by_node(struct device_node *node);\nint omapdss_device_connect(struct dss_device *dss,\n\t\t\t   struct omap_dss_device *src,\n\t\t\t   struct omap_dss_device *dst);\nvoid omapdss_device_disconnect(struct omap_dss_device *src,\n\t\t\t       struct omap_dss_device *dst);\n\nint omap_dss_get_num_overlay_managers(void);\n\nint omap_dss_get_num_overlays(void);\n\n#define for_each_dss_output(d) \\\n\twhile ((d = omapdss_device_next_output(d)) != NULL)\nstruct omap_dss_device *omapdss_device_next_output(struct omap_dss_device *from);\nint omapdss_device_init_output(struct omap_dss_device *out,\n\t\t\t       struct drm_bridge *local_bridge);\nvoid omapdss_device_cleanup_output(struct omap_dss_device *out);\n\ntypedef void (*omap_dispc_isr_t) (void *arg, u32 mask);\nint omap_dispc_register_isr(omap_dispc_isr_t isr, void *arg, u32 mask);\nint omap_dispc_unregister_isr(omap_dispc_isr_t isr, void *arg, u32 mask);\n\nint omapdss_compat_init(void);\nvoid omapdss_compat_uninit(void);\n\nenum dss_writeback_channel {\n\tDSS_WB_LCD1_MGR =\t0,\n\tDSS_WB_LCD2_MGR =\t1,\n\tDSS_WB_TV_MGR =\t\t2,\n\tDSS_WB_OVL0 =\t\t3,\n\tDSS_WB_OVL1 =\t\t4,\n\tDSS_WB_OVL2 =\t\t5,\n\tDSS_WB_OVL3 =\t\t6,\n\tDSS_WB_LCD3_MGR =\t7,\n};\n\nvoid omap_crtc_dss_start_update(struct omap_drm_private *priv,\n\t\t\t\t       enum omap_channel channel);\nvoid omap_crtc_set_enabled(struct drm_crtc *crtc, bool enable);\nint omap_crtc_dss_enable(struct omap_drm_private *priv, enum omap_channel channel);\nvoid omap_crtc_dss_disable(struct omap_drm_private *priv, enum omap_channel channel);\nvoid omap_crtc_dss_set_timings(struct omap_drm_private *priv,\n\t\tenum omap_channel channel,\n\t\tconst struct videomode *vm);\nvoid omap_crtc_dss_set_lcd_config(struct omap_drm_private *priv,\n\t\tenum omap_channel channel,\n\t\tconst struct dss_lcd_mgr_config *config);\nint omap_crtc_dss_register_framedone(\n\t\tstruct omap_drm_private *priv, enum omap_channel channel,\n\t\tvoid (*handler)(void *), void *data);\nvoid omap_crtc_dss_unregister_framedone(\n\t\tstruct omap_drm_private *priv, enum omap_channel channel,\n\t\tvoid (*handler)(void *), void *data);\n\nvoid dss_mgr_set_timings(struct omap_dss_device *dssdev,\n\t\tconst struct videomode *vm);\nvoid dss_mgr_set_lcd_config(struct omap_dss_device *dssdev,\n\t\tconst struct dss_lcd_mgr_config *config);\nint dss_mgr_enable(struct omap_dss_device *dssdev);\nvoid dss_mgr_disable(struct omap_dss_device *dssdev);\nvoid dss_mgr_start_update(struct omap_dss_device *dssdev);\nint dss_mgr_register_framedone_handler(struct omap_dss_device *dssdev,\n\t\tvoid (*handler)(void *), void *data);\nvoid dss_mgr_unregister_framedone_handler(struct omap_dss_device *dssdev,\n\t\tvoid (*handler)(void *), void *data);\n\nstruct dispc_device *dispc_get_dispc(struct dss_device *dss);\n\nbool omapdss_stack_is_ready(void);\nvoid omapdss_gather_components(struct device *dev);\n\nint omap_dss_init(void);\nvoid omap_dss_exit(void);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}