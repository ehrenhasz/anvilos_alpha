{
  "module_name": "imx-ldb-helper.h",
  "hash_id": "cb3046e3703dc829fdd27f752b583c90f05b35de6ff27fd9c9785a2146603054",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/bridge/imx/imx-ldb-helper.h",
  "human_readable_source": " \n\n \n\n#ifndef __IMX_LDB_HELPER__\n#define __IMX_LDB_HELPER__\n\n#include <linux/device.h>\n#include <linux/kernel.h>\n#include <linux/of.h>\n#include <linux/regmap.h>\n\n#include <drm/drm_atomic.h>\n#include <drm/drm_bridge.h>\n#include <drm/drm_device.h>\n#include <drm/drm_encoder.h>\n#include <drm/drm_modeset_helper_vtables.h>\n\n#define LDB_CH0_MODE_EN_TO_DI0\t\tBIT(0)\n#define LDB_CH0_MODE_EN_TO_DI1\t\t(3 << 0)\n#define LDB_CH0_MODE_EN_MASK\t\t(3 << 0)\n#define LDB_CH1_MODE_EN_TO_DI0\t\tBIT(2)\n#define LDB_CH1_MODE_EN_TO_DI1\t\t(3 << 2)\n#define LDB_CH1_MODE_EN_MASK\t\t(3 << 2)\n#define LDB_SPLIT_MODE_EN\t\tBIT(4)\n#define LDB_DATA_WIDTH_CH0_24\t\tBIT(5)\n#define LDB_BIT_MAP_CH0_JEIDA\t\tBIT(6)\n#define LDB_DATA_WIDTH_CH1_24\t\tBIT(7)\n#define LDB_BIT_MAP_CH1_JEIDA\t\tBIT(8)\n#define LDB_DI0_VS_POL_ACT_LOW\t\tBIT(9)\n#define LDB_DI1_VS_POL_ACT_LOW\t\tBIT(10)\n\n#define MAX_LDB_CHAN_NUM\t\t2\n\nenum ldb_channel_link_type {\n\tLDB_CH_SINGLE_LINK,\n\tLDB_CH_DUAL_LINK_EVEN_ODD_PIXELS,\n\tLDB_CH_DUAL_LINK_ODD_EVEN_PIXELS,\n};\n\nstruct ldb;\n\nstruct ldb_channel {\n\tstruct ldb *ldb;\n\tstruct drm_bridge bridge;\n\tstruct drm_bridge *next_bridge;\n\tstruct device_node *np;\n\tu32 chno;\n\tbool is_available;\n\tu32 in_bus_format;\n\tu32 out_bus_format;\n\tenum ldb_channel_link_type link_type;\n};\n\nstruct ldb {\n\tstruct regmap *regmap;\n\tstruct device *dev;\n\tstruct ldb_channel *channel[MAX_LDB_CHAN_NUM];\n\tunsigned int ctrl_reg;\n\tu32 ldb_ctrl;\n\tunsigned int available_ch_cnt;\n};\n\n#define bridge_to_ldb_ch(b)\tcontainer_of(b, struct ldb_channel, bridge)\n\nbool ldb_channel_is_single_link(struct ldb_channel *ldb_ch);\nbool ldb_channel_is_split_link(struct ldb_channel *ldb_ch);\n\nint ldb_bridge_atomic_check_helper(struct drm_bridge *bridge,\n\t\t\t\t   struct drm_bridge_state *bridge_state,\n\t\t\t\t   struct drm_crtc_state *crtc_state,\n\t\t\t\t   struct drm_connector_state *conn_state);\n\nvoid ldb_bridge_mode_set_helper(struct drm_bridge *bridge,\n\t\t\t\tconst struct drm_display_mode *mode,\n\t\t\t\tconst struct drm_display_mode *adjusted_mode);\n\nvoid ldb_bridge_enable_helper(struct drm_bridge *bridge);\n\nvoid ldb_bridge_disable_helper(struct drm_bridge *bridge);\n\nint ldb_bridge_attach_helper(struct drm_bridge *bridge,\n\t\t\t     enum drm_bridge_attach_flags flags);\n\nint ldb_init_helper(struct ldb *ldb);\n\nint ldb_find_next_bridge_helper(struct ldb *ldb);\n\nvoid ldb_add_bridge_helper(struct ldb *ldb,\n\t\t\t   const struct drm_bridge_funcs *bridge_funcs);\n\nvoid ldb_remove_bridge_helper(struct ldb *ldb);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}