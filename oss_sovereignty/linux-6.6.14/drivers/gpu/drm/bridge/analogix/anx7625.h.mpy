{
  "module_name": "anx7625.h",
  "hash_id": "92ec22a1b0eafd17945aa979efa43f0fb7cb9322e93d95ee3d980cb824c51d93",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/bridge/analogix/anx7625.h",
  "human_readable_source": " \n \n\n#ifndef __ANX7625_H__\n#define __ANX7625_H__\n\n#define ANX7625_DRV_VERSION \"0.1.04\"\n\n \n#define OCM_LOADING_TIME 10\n\n \n#define TX_P0_ADDR\t\t\t\t0x70\n#define TX_P1_ADDR\t\t\t\t0x7A\n#define TX_P2_ADDR\t\t\t\t0x72\n\n#define RX_P0_ADDR\t\t\t\t0x7e\n#define RX_P1_ADDR\t\t\t\t0x84\n#define RX_P2_ADDR\t\t\t\t0x54\n\n#define RSVD_00_ADDR\t\t\t\t0x00\n#define RSVD_D1_ADDR\t\t\t\t0xD1\n#define RSVD_60_ADDR\t\t\t\t0x60\n#define RSVD_39_ADDR\t\t\t\t0x39\n#define RSVD_7F_ADDR\t\t\t\t0x7F\n\n#define TCPC_INTERFACE_ADDR\t\t\t0x58\n\n \n#define XTAL_FRQ        (27 * 1000000)\n\n#define  POST_DIVIDER_MIN\t1\n#define  POST_DIVIDER_MAX\t16\n#define  PLL_OUT_FREQ_MIN\t520000000UL\n#define  PLL_OUT_FREQ_MAX\t730000000UL\n#define  PLL_OUT_FREQ_ABS_MIN\t300000000UL\n#define  PLL_OUT_FREQ_ABS_MAX\t800000000UL\n#define  MAX_UNSIGNED_24BIT\t16777215UL\n\n \n \n\n#define PRODUCT_ID_L 0x02\n#define PRODUCT_ID_H 0x03\n\n#define INTR_ALERT_1  0xCC\n#define INTR_SOFTWARE_INT BIT(3)\n#define INTR_RECEIVED_MSG BIT(5)\n\n#define SYSTEM_STSTUS 0x45\n#define INTERFACE_CHANGE_INT 0x44\n#define HPD_STATUS_CHANGE 0x80\n#define HPD_STATUS 0x80\n\n \n\n \n \n#define TX_HDCP_CTRL0\t\t\t0x01\n#define STORE_AN\t\t\tBIT(7)\n#define RX_REPEATER\t\t\tBIT(6)\n#define RE_AUTHEN\t\t\tBIT(5)\n#define SW_AUTH_OK\t\t\tBIT(4)\n#define HARD_AUTH_EN\t\t\tBIT(3)\n#define ENC_EN\t\t\t\tBIT(2)\n#define BKSV_SRM_PASS\t\t\tBIT(1)\n#define KSVLIST_VLD\t\t\tBIT(0)\n\n#define SP_TX_WAIT_R0_TIME\t\t0x40\n#define SP_TX_WAIT_KSVR_TIME\t\t0x42\n#define SP_TX_SYS_CTRL1_REG\t\t0x80\n#define HDCP2TX_FW_EN\t\t\tBIT(4)\n\n#define SP_TX_LINK_BW_SET_REG\t\t0xA0\n#define SP_TX_LANE_COUNT_SET_REG\t0xA1\n\n#define M_VID_0 0xC0\n#define M_VID_1 0xC1\n#define M_VID_2 0xC2\n#define N_VID_0 0xC3\n#define N_VID_1 0xC4\n#define N_VID_2 0xC5\n\n#define KEY_START_ADDR\t\t\t0x9000\n#define KEY_RESERVED\t\t\t416\n\n#define HDCP14KEY_START_ADDR\t\t(KEY_START_ADDR + KEY_RESERVED)\n#define HDCP14KEY_SIZE\t\t\t624\n\n \n \n#define AUX_RST\t0x04\n#define RST_CTRL2 0x07\n\n#define SP_TX_TOTAL_LINE_STA_L 0x24\n#define SP_TX_TOTAL_LINE_STA_H 0x25\n#define SP_TX_ACT_LINE_STA_L 0x26\n#define SP_TX_ACT_LINE_STA_H 0x27\n#define SP_TX_V_F_PORCH_STA 0x28\n#define SP_TX_V_SYNC_STA 0x29\n#define SP_TX_V_B_PORCH_STA 0x2A\n#define SP_TX_TOTAL_PIXEL_STA_L 0x2B\n#define SP_TX_TOTAL_PIXEL_STA_H 0x2C\n#define SP_TX_ACT_PIXEL_STA_L 0x2D\n#define SP_TX_ACT_PIXEL_STA_H 0x2E\n#define SP_TX_H_F_PORCH_STA_L 0x2F\n#define SP_TX_H_F_PORCH_STA_H 0x30\n#define SP_TX_H_SYNC_STA_L 0x31\n#define SP_TX_H_SYNC_STA_H 0x32\n#define SP_TX_H_B_PORCH_STA_L 0x33\n#define SP_TX_H_B_PORCH_STA_H 0x34\n\n#define SP_TX_VID_CTRL 0x84\n#define SP_TX_BPC_MASK 0xE0\n#define SP_TX_BPC_6    0x00\n#define SP_TX_BPC_8    0x20\n#define SP_TX_BPC_10   0x40\n#define SP_TX_BPC_12   0x60\n\n#define VIDEO_BIT_MATRIX_12 0x4c\n\n#define AUDIO_CHANNEL_STATUS_1 0xd0\n#define AUDIO_CHANNEL_STATUS_2 0xd1\n#define AUDIO_CHANNEL_STATUS_3 0xd2\n#define AUDIO_CHANNEL_STATUS_4 0xd3\n#define AUDIO_CHANNEL_STATUS_5 0xd4\n#define AUDIO_CHANNEL_STATUS_6 0xd5\n#define TDM_SLAVE_MODE 0x10\n#define I2S_SLAVE_MODE 0x08\n#define AUDIO_LAYOUT   0x01\n\n#define HPD_DET_TIMER_BIT0_7   0xea\n#define HPD_DET_TIMER_BIT8_15  0xeb\n#define HPD_DET_TIMER_BIT16_23 0xec\n \n#define HPD_TIME               54000\n\n#define AUDIO_CONTROL_REGISTER 0xe6\n#define TDM_TIMING_MODE 0x08\n\n#define I2C_ADDR_72_DPTX              0x72\n\n#define HP_MIN\t\t\t8\n#define HBLANKING_MIN\t\t80\n#define SYNC_LEN_DEF\t\t32\n#define HFP_HBP_DEF\t\t((HBLANKING_MIN - SYNC_LEN_DEF) / 2)\n#define VIDEO_CONTROL_0\t0x08\n\n#define  ACTIVE_LINES_L         0x14\n#define  ACTIVE_LINES_H         0x15   \n#define  VERTICAL_FRONT_PORCH   0x16\n#define  VERTICAL_SYNC_WIDTH    0x17\n#define  VERTICAL_BACK_PORCH    0x18\n\n#define  HORIZONTAL_TOTAL_PIXELS_L    0x19\n#define  HORIZONTAL_TOTAL_PIXELS_H    0x1A   \n#define  HORIZONTAL_ACTIVE_PIXELS_L   0x1B\n#define  HORIZONTAL_ACTIVE_PIXELS_H   0x1C   \n#define  HORIZONTAL_FRONT_PORCH_L     0x1D\n#define  HORIZONTAL_FRONT_PORCH_H     0x1E   \n#define  HORIZONTAL_SYNC_WIDTH_L      0x1F\n#define  HORIZONTAL_SYNC_WIDTH_H      0x20   \n#define  HORIZONTAL_BACK_PORCH_L      0x21\n#define  HORIZONTAL_BACK_PORCH_H      0x22   \n\n \n\n \n \n#define DP_TX_SWING_REG_CNT\t\t0x14\n#define DP_TX_LANE0_SWING_REG0\t\t0x00\n#define DP_TX_LANE1_SWING_REG0\t\t0x14\n \n\n \n \n\n#define  I2C_ADDR_7E_FLASH_CONTROLLER  0x7E\n\n#define R_BOOT_RETRY\t\t0x00\n#define R_RAM_ADDR_H\t\t0x01\n#define R_RAM_ADDR_L\t\t0x02\n#define R_RAM_LEN_H\t\t0x03\n#define R_RAM_LEN_L\t\t0x04\n#define FLASH_LOAD_STA          0x05\n#define FLASH_LOAD_STA_CHK\tBIT(7)\n\n#define R_RAM_CTRL              0x05\n \n#define FLASH_DONE              BIT(7)\n#define BOOT_LOAD_DONE          BIT(6)\n#define CRC_OK                  BIT(5)\n#define LOAD_DONE               BIT(4)\n#define O_RW_DONE               BIT(3)\n#define FUSE_BUSY               BIT(2)\n#define DECRYPT_EN              BIT(1)\n#define LOAD_START              BIT(0)\n\n#define FLASH_ADDR_HIGH         0x0F\n#define FLASH_ADDR_LOW          0x10\n#define FLASH_LEN_HIGH          0x31\n#define FLASH_LEN_LOW           0x32\n#define R_FLASH_RW_CTRL         0x33\n \n#define READ_DELAY_SELECT       BIT(7)\n#define GENERAL_INSTRUCTION_EN  BIT(6)\n#define FLASH_ERASE_EN          BIT(5)\n#define RDID_READ_EN            BIT(4)\n#define REMS_READ_EN            BIT(3)\n#define WRITE_STATUS_EN         BIT(2)\n#define FLASH_READ              BIT(1)\n#define FLASH_WRITE             BIT(0)\n\n#define FLASH_BUF_BASE_ADDR     0x60\n#define FLASH_BUF_LEN           0x20\n\n#define  XTAL_FRQ_SEL    0x3F\n \n#define  XTAL_FRQ_SEL_POS    5\n \n#define  XTAL_FRQ_19M2   (0 << XTAL_FRQ_SEL_POS)\n#define  XTAL_FRQ_27M    (4 << XTAL_FRQ_SEL_POS)\n\n#define  R_DSC_CTRL_0    0x40\n#define  READ_STATUS_EN  7\n#define  CLK_1MEG_RB     6   \n#define  DSC_BIST_DONE   1   \n#define  DSC_EN          0x01   \n\n#define OCM_FW_VERSION   0x31\n#define OCM_FW_REVERSION 0x32\n\n#define AP_AUX_ADDR_7_0   0x11\n#define AP_AUX_ADDR_15_8  0x12\n#define AP_AUX_ADDR_19_16 0x13\n\n \n#define AP_AUX_CTRL_STATUS 0x14\n#define AP_AUX_CTRL_OP_EN 0x10\n#define AP_AUX_CTRL_ADDRONLY 0x20\n\n#define AP_AUX_BUFF_START 0x15\n#define PIXEL_CLOCK_L\t0x25\n#define PIXEL_CLOCK_H\t0x26\n\n#define AP_AUX_COMMAND\t0x27   \n#define LENGTH_SHIFT\t4\n#define DPCD_CMD(len, cmd)\t((((len) - 1) << LENGTH_SHIFT) | (cmd))\n\n \n \n#define AP_AV_STATUS 0x28\n#define AP_VIDEO_CHG  BIT(2)\n#define AP_AUDIO_CHG  BIT(3)\n#define AP_MIPI_MUTE  BIT(4)  \n#define AP_MIPI_RX_EN BIT(5)  \n#define AP_DISABLE_PD BIT(6)\n#define AP_DISABLE_DISPLAY BIT(7)\n \n \n#define  MIPI_PHY_CONTROL_3            0x03\n#define  MIPI_HS_PWD_CLK               7\n#define  MIPI_HS_RT_CLK                6\n#define  MIPI_PD_CLK                   5\n#define  MIPI_CLK_RT_MANUAL_PD_EN      4\n#define  MIPI_CLK_HS_MANUAL_PD_EN      3\n#define  MIPI_CLK_DET_DET_BYPASS       2\n#define  MIPI_CLK_MISS_CTRL            1\n#define  MIPI_PD_LPTX_CH_MANUAL_PD_EN  0\n\n#define  MIPI_LANE_CTRL_0\t\t0x05\n#define  MIPI_TIME_HS_PRPR\t\t0x08\n\n \n#define  MIPI_VIDEO_STABLE_CNT           0x0A\n\n#define  MIPI_LANE_CTRL_10               0x0F\n#define  MIPI_DIGITAL_ADJ_1     0x1B\n#define  IVO_MID0               0x26\n#define  IVO_MID1               0xCF\n\n#define  MIPI_PLL_M_NUM_23_16   0x1E\n#define  MIPI_PLL_M_NUM_15_8    0x1F\n#define  MIPI_PLL_M_NUM_7_0     0x20\n#define  MIPI_PLL_N_NUM_23_16   0x21\n#define  MIPI_PLL_N_NUM_15_8    0x22\n#define  MIPI_PLL_N_NUM_7_0     0x23\n\n#define  MIPI_DIGITAL_PLL_6     0x2A\n \n#define  MIPI_M_NUM_READY        0x10\n#define  MIPI_N_NUM_READY        0x08\n#define  STABLE_INTEGER_CNT_EN   0x04\n#define  MIPI_PLL_TEST_BIT       0\n \n \n\n#define  MIPI_DIGITAL_PLL_7      0x2B\n#define  MIPI_PLL_FORCE_N_EN     7\n#define  MIPI_PLL_FORCE_BAND_EN  6\n\n#define  MIPI_PLL_VCO_TUNE_REG   4\n \n \n#define  MIPI_PLL_VCO_TUNE_REG_VAL   0x30\n\n#define  MIPI_PLL_PLL_LDO_BIT    2\n \n \n#define  MIPI_PLL_RESET_N        0x02\n#define  MIPI_FRQ_FORCE_NDET     0\n\n#define  MIPI_ALERT_CLR_0        0x2D\n#define  HS_link_error_clear     7\n \n\n#define  MIPI_ALERT_OUT_0        0x31\n#define  check_sum_err_hs_sync   7\n \n\n#define  MIPI_DIGITAL_PLL_8    0x33\n#define  MIPI_POST_DIV_VAL     4\n \n#define  MIPI_EN_LOCK_FRZ      3\n#define  MIPI_FRQ_COUNTER_RST  2\n#define  MIPI_FRQ_SET_REG_8    1\n \n\n#define  MIPI_DIGITAL_PLL_9    0x34\n\n#define  MIPI_DIGITAL_PLL_16   0x3B\n#define  MIPI_FRQ_FREEZE_NDET          7\n#define  MIPI_FRQ_REG_SET_ENABLE       6\n#define  MIPI_REG_FORCE_SEL_EN         5\n#define  MIPI_REG_SEL_DIV_REG          4\n#define  MIPI_REG_FORCE_PRE_DIV_EN     3\n \n#define  MIPI_FREF_D_IND               1\n#define  REF_CLK_27000KHZ    1\n#define  REF_CLK_19200KHZ    0\n#define  MIPI_REG_PLL_PLL_TEST_ENABLE  0\n\n#define  MIPI_DIGITAL_PLL_18  0x3D\n#define  FRQ_COUNT_RB_SEL       7\n#define  REG_FORCE_POST_DIV_EN  6\n#define  MIPI_DPI_SELECT        5\n#define  SELECT_DSI  1\n#define  SELECT_DPI  0\n#define  REG_BAUD_DIV_RATIO     0\n\n#define  H_BLANK_L            0x3E\n \n#define  H_BLANK_H            0x3F\n \n#define  MIPI_SWAP  0x4A\n#define  MIPI_SWAP_CH0    7\n#define  MIPI_SWAP_CH1    6\n#define  MIPI_SWAP_CH2    5\n#define  MIPI_SWAP_CH3    4\n#define  MIPI_SWAP_CLK    3\n \n\n \n\n \n#define DPCD_DPCD_REV                  0x00\n#define DPCD_MAX_LINK_RATE             0x01\n#define DPCD_MAX_LANE_COUNT            0x02\n\n \n\n \nenum audio_fs {\n\tAUDIO_FS_441K  = 0x00,\n\tAUDIO_FS_48K   = 0x02,\n\tAUDIO_FS_32K   = 0x03,\n\tAUDIO_FS_882K  = 0x08,\n\tAUDIO_FS_96K   = 0x0a,\n\tAUDIO_FS_1764K = 0x0c,\n\tAUDIO_FS_192K  = 0x0e\n};\n\nenum audio_wd_len {\n\tAUDIO_W_LEN_16_20MAX = 0x02,\n\tAUDIO_W_LEN_18_20MAX = 0x04,\n\tAUDIO_W_LEN_17_20MAX = 0x0c,\n\tAUDIO_W_LEN_19_20MAX = 0x08,\n\tAUDIO_W_LEN_20_20MAX = 0x0a,\n\tAUDIO_W_LEN_20_24MAX = 0x03,\n\tAUDIO_W_LEN_22_24MAX = 0x05,\n\tAUDIO_W_LEN_21_24MAX = 0x0d,\n\tAUDIO_W_LEN_23_24MAX = 0x09,\n\tAUDIO_W_LEN_24_24MAX = 0x0b\n};\n\n#define I2S_CH_2\t0x01\n#define TDM_CH_4\t0x03\n#define TDM_CH_6\t0x05\n#define TDM_CH_8\t0x07\n\n#define MAX_DPCD_BUFFER_SIZE\t16\n\n#define ONE_BLOCK_SIZE      128\n#define FOUR_BLOCK_SIZE     (128 * 4)\n\n#define MAX_EDID_BLOCK\t3\n#define EDID_TRY_CNT\t3\n#define SUPPORT_PIXEL_CLOCK\t300000\n\nstruct s_edid_data {\n\tint edid_block_num;\n\tu8 edid_raw_data[FOUR_BLOCK_SIZE];\n};\n\n \n\n#define MAX_LANES_SUPPORT\t4\n\nstruct anx7625_platform_data {\n\tstruct gpio_desc *gpio_p_on;\n\tstruct gpio_desc *gpio_reset;\n\tstruct regulator_bulk_data supplies[3];\n\tstruct drm_bridge *panel_bridge;\n\tint intp_irq;\n\tint is_dpi;\n\tint mipi_lanes;\n\tint audio_en;\n\tint dp_lane0_swing_reg_cnt;\n\tu8 lane0_reg_data[DP_TX_SWING_REG_CNT];\n\tint dp_lane1_swing_reg_cnt;\n\tu8 lane1_reg_data[DP_TX_SWING_REG_CNT];\n\tu32 low_power_mode;\n\tstruct device_node *mipi_host_node;\n};\n\nstruct anx7625_i2c_client {\n\tstruct i2c_client *tx_p0_client;\n\tstruct i2c_client *tx_p1_client;\n\tstruct i2c_client *tx_p2_client;\n\tstruct i2c_client *rx_p0_client;\n\tstruct i2c_client *rx_p1_client;\n\tstruct i2c_client *rx_p2_client;\n\tstruct i2c_client *tcpc_client;\n};\n\nstruct anx7625_data {\n\tstruct anx7625_platform_data pdata;\n\tstruct platform_device *audio_pdev;\n\tint hpd_status;\n\tint hpd_high_cnt;\n\tint dp_en;\n\tint hdcp_cp;\n\t \n\tstruct mutex lock;\n\tstruct device *dev;\n\tstruct anx7625_i2c_client i2c;\n\tstruct i2c_client *last_client;\n\tstruct timer_list hdcp_timer;\n\tstruct s_edid_data slimport_edid_p;\n\tstruct device *codec_dev;\n\thdmi_codec_plugged_cb plugged_cb;\n\tstruct work_struct work;\n\tstruct workqueue_struct *workqueue;\n\tstruct delayed_work hdcp_work;\n\tstruct workqueue_struct *hdcp_workqueue;\n\t \n\tstruct mutex hdcp_wq_lock;\n\tchar edid_block;\n\tstruct display_timing dt;\n\tu8 display_timing_valid;\n\tstruct drm_bridge bridge;\n\tu8 bridge_attached;\n\tstruct drm_connector *connector;\n\tstruct mipi_dsi_device *dsi;\n\tstruct drm_dp_aux aux;\n};\n\n#endif   \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}