{
  "module_name": "drm_panel_orientation_quirks.c",
  "hash_id": "ea19fddb0ea2abbfbb60cbf6377dcf51a663b19fd3f033ec7e65d95b002b5664",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/drm_panel_orientation_quirks.c",
  "human_readable_source": " \n \n\n#include <linux/dmi.h>\n#include <linux/module.h>\n#include <drm/drm_connector.h>\n#include <drm/drm_utils.h>\n\n#ifdef CONFIG_DMI\n\n \n\nstruct drm_dmi_panel_orientation_data {\n\tint width;\n\tint height;\n\tconst char * const *bios_dates;\n\tint orientation;\n};\n\nstatic const struct drm_dmi_panel_orientation_data gpd_micropc = {\n\t.width = 720,\n\t.height = 1280,\n\t.bios_dates = (const char * const []){ \"04/26/2019\",\n\t\tNULL },\n\t.orientation = DRM_MODE_PANEL_ORIENTATION_RIGHT_UP,\n};\n\nstatic const struct drm_dmi_panel_orientation_data gpd_onemix2s = {\n\t.width = 1200,\n\t.height = 1920,\n\t.bios_dates = (const char * const []){ \"05/21/2018\", \"10/26/2018\",\n\t\t\"03/04/2019\", NULL },\n\t.orientation = DRM_MODE_PANEL_ORIENTATION_RIGHT_UP,\n};\n\nstatic const struct drm_dmi_panel_orientation_data gpd_pocket = {\n\t.width = 1200,\n\t.height = 1920,\n\t.bios_dates = (const char * const []){ \"05/26/2017\", \"06/28/2017\",\n\t\t\"07/05/2017\", \"08/07/2017\", NULL },\n\t.orientation = DRM_MODE_PANEL_ORIENTATION_RIGHT_UP,\n};\n\nstatic const struct drm_dmi_panel_orientation_data gpd_pocket2 = {\n\t.width = 1200,\n\t.height = 1920,\n\t.bios_dates = (const char * const []){ \"06/28/2018\", \"08/28/2018\",\n\t\t\"12/07/2018\", NULL },\n\t.orientation = DRM_MODE_PANEL_ORIENTATION_RIGHT_UP,\n};\n\nstatic const struct drm_dmi_panel_orientation_data gpd_win = {\n\t.width = 720,\n\t.height = 1280,\n\t.bios_dates = (const char * const []){\n\t\t\"10/25/2016\", \"11/18/2016\", \"12/23/2016\", \"12/26/2016\",\n\t\t\"02/21/2017\", \"03/20/2017\", \"05/25/2017\", NULL },\n\t.orientation = DRM_MODE_PANEL_ORIENTATION_RIGHT_UP,\n};\n\nstatic const struct drm_dmi_panel_orientation_data gpd_win2 = {\n\t.width = 720,\n\t.height = 1280,\n\t.bios_dates = (const char * const []){\n\t\t\"12/07/2017\", \"05/24/2018\", \"06/29/2018\", NULL },\n\t.orientation = DRM_MODE_PANEL_ORIENTATION_RIGHT_UP,\n};\n\nstatic const struct drm_dmi_panel_orientation_data itworks_tw891 = {\n\t.width = 800,\n\t.height = 1280,\n\t.bios_dates = (const char * const []){ \"10/16/2015\", NULL },\n\t.orientation = DRM_MODE_PANEL_ORIENTATION_RIGHT_UP,\n};\n\nstatic const struct drm_dmi_panel_orientation_data onegx1_pro = {\n\t.width = 1200,\n\t.height = 1920,\n\t.bios_dates = (const char * const []){ \"12/17/2020\", NULL },\n\t.orientation = DRM_MODE_PANEL_ORIENTATION_RIGHT_UP,\n};\n\nstatic const struct drm_dmi_panel_orientation_data lcd720x1280_rightside_up = {\n\t.width = 720,\n\t.height = 1280,\n\t.orientation = DRM_MODE_PANEL_ORIENTATION_RIGHT_UP,\n};\n\nstatic const struct drm_dmi_panel_orientation_data lcd800x1280_leftside_up = {\n\t.width = 800,\n\t.height = 1280,\n\t.orientation = DRM_MODE_PANEL_ORIENTATION_LEFT_UP,\n};\n\nstatic const struct drm_dmi_panel_orientation_data lcd800x1280_rightside_up = {\n\t.width = 800,\n\t.height = 1280,\n\t.orientation = DRM_MODE_PANEL_ORIENTATION_RIGHT_UP,\n};\n\nstatic const struct drm_dmi_panel_orientation_data lcd1080x1920_leftside_up = {\n\t.width = 1080,\n\t.height = 1920,\n\t.orientation = DRM_MODE_PANEL_ORIENTATION_LEFT_UP,\n};\n\nstatic const struct drm_dmi_panel_orientation_data lcd1200x1920_rightside_up = {\n\t.width = 1200,\n\t.height = 1920,\n\t.orientation = DRM_MODE_PANEL_ORIENTATION_RIGHT_UP,\n};\n\nstatic const struct drm_dmi_panel_orientation_data lcd1280x1920_rightside_up = {\n\t.width = 1280,\n\t.height = 1920,\n\t.orientation = DRM_MODE_PANEL_ORIENTATION_RIGHT_UP,\n};\n\nstatic const struct drm_dmi_panel_orientation_data lcd1600x2560_leftside_up = {\n\t.width = 1600,\n\t.height = 2560,\n\t.orientation = DRM_MODE_PANEL_ORIENTATION_LEFT_UP,\n};\n\nstatic const struct drm_dmi_panel_orientation_data lcd1600x2560_rightside_up = {\n\t.width = 1600,\n\t.height = 2560,\n\t.orientation = DRM_MODE_PANEL_ORIENTATION_RIGHT_UP,\n};\n\nstatic const struct dmi_system_id orientation_data[] = {\n\t{\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"Acer\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"One S1003\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd800x1280_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"Acer\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"SW5-017\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd800x1280_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_BOARD_VENDOR, \"Anbernic\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"Win600\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd720x1280_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"ASUSTeK COMPUTER INC.\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"T100HAN\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd800x1280_leftside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"ASUSTeK COMPUTER INC.\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"T101HA\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd800x1280_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"ASUSTeK COMPUTER INC.\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"T103HAF\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd800x1280_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"AYADEVICE\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"AYA NEO 2021\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd800x1280_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"AYANEO\"),\n\t\t  DMI_MATCH(DMI_PRODUCT_NAME, \"AIR\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd1080x1920_leftside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_BOARD_VENDOR, \"AYANEO\"),\n\t\t  DMI_MATCH(DMI_BOARD_NAME, \"NEXT\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd800x1280_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t\tDMI_MATCH(DMI_BOARD_VENDOR, \"Hampoo\"),\n\t\t\tDMI_MATCH(DMI_BOARD_NAME, \"Cherry Trail CR\"),\n\t\t\t \n\t\t\tDMI_MATCH(DMI_BIOS_DATE, \"05/07/2016\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd1200x1920_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_BOARD_VENDOR, \"Hampoo\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"Hi10 pro tablet\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd1200x1920_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"Dynabook Inc.\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"dynabook K50/FR\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd800x1280_leftside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"Default string\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"Default string\"),\n\t\t  DMI_EXACT_MATCH(DMI_BOARD_VENDOR, \"Default string\"),\n\t\t  DMI_EXACT_MATCH(DMI_BOARD_NAME, \"Default string\"),\n\t\t},\n\t\t.driver_data = (void *)&gpd_micropc,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"GPD\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"MicroPC\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd720x1280_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"GPD\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"G1619-01\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd800x1280_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_BOARD_VENDOR, \"AMI Corporation\"),\n\t\t  DMI_EXACT_MATCH(DMI_BOARD_NAME, \"Default string\"),\n\t\t  DMI_EXACT_MATCH(DMI_BOARD_SERIAL, \"Default string\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"Default string\"),\n\t\t},\n\t\t.driver_data = (void *)&gpd_pocket,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"Default string\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"Default string\"),\n\t\t  DMI_EXACT_MATCH(DMI_BOARD_VENDOR, \"Default string\"),\n\t\t  DMI_EXACT_MATCH(DMI_BOARD_NAME, \"Default string\"),\n\t\t},\n\t\t.driver_data = (void *)&gpd_pocket2,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_BOARD_VENDOR, \"AMI Corporation\"),\n\t\t  DMI_EXACT_MATCH(DMI_BOARD_NAME, \"Default string\"),\n\t\t  DMI_EXACT_MATCH(DMI_BOARD_SERIAL, \"Default string\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"Default string\"),\n\t\t},\n\t\t.driver_data = (void *)&gpd_win,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"Default string\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"Default string\"),\n\t\t  DMI_EXACT_MATCH(DMI_BOARD_VENDOR, \"Default string\"),\n\t\t  DMI_EXACT_MATCH(DMI_BOARD_NAME, \"Default string\"),\n\t\t},\n\t\t.driver_data = (void *)&gpd_win2,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"GPD\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"G1618-03\")\n\t\t},\n\t\t.driver_data = (void *)&lcd720x1280_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"To be filled by O.E.M.\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"TW891\"),\n\t\t  DMI_EXACT_MATCH(DMI_BOARD_VENDOR, \"To be filled by O.E.M.\"),\n\t\t  DMI_EXACT_MATCH(DMI_BOARD_NAME, \"TW891\"),\n\t\t},\n\t\t.driver_data = (void *)&itworks_tw891,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"KD Interactive\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"Kurio Smart\"),\n\t\t  DMI_EXACT_MATCH(DMI_BOARD_NAME, \"KDM960BCP\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd800x1280_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"LENOVO\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"80SG\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_VERSION, \"MIIX 310-10ICR\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd800x1280_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"LENOVO\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"80XF\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_VERSION, \"Lenovo MIIX 320-10ICR\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd800x1280_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"LENOVO\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_VERSION, \"Lenovo ideapad D330-10IGM\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd800x1280_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"LENOVO\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_VERSION, \"Lenovo ideapad D330-10IGM\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd1200x1920_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"LENOVO\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_VERSION, \"Lenovo ideapad D330-10IGL\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd800x1280_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"LENOVO\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_VERSION, \"IdeaPad Duet 3 10IGL5\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd1200x1920_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"Intel Corporation\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"CHERRYVIEW D1 PLATFORM\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_VERSION, \"YETI-11\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd1200x1920_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t   \n\t\t  DMI_MATCH(DMI_PRODUCT_NAME, \"Lenovo YB1-X91\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd1200x1920_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  \n\t\t DMI_MATCH(DMI_SYS_VENDOR, \"Intel Corp.\"),\n\t\t DMI_MATCH(DMI_PRODUCT_NAME, \"VALLEYVIEW C0 PLATFORM\"),\n\t\t DMI_MATCH(DMI_BOARD_NAME, \"BYT-T FFD8\"),\n\t\t  \n\t\t DMI_MATCH(DMI_BIOS_VERSION, \"BLADE_21\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd1200x1920_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t DMI_MATCH(DMI_SYS_VENDOR, \"Intel Corporation\"),\n\t\t DMI_MATCH(DMI_PRODUCT_NAME, \"CHERRYVIEW D1 PLATFORM\"),\n\t\t DMI_MATCH(DMI_PRODUCT_VERSION, \"Blade3-10A-001\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd1600x2560_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t DMI_MATCH(DMI_SYS_VENDOR, \"RWC CO.,LTD\"),\n\t\t DMI_MATCH(DMI_PRODUCT_NAME, \"UMPC-01\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd1200x1920_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"SYSTEM_MANUFACTURER\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"SYSTEM_PRODUCT_NAME\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_VERSION, \"Default string\"),\n\t\t},\n\t\t.driver_data = (void *)&onegx1_pro,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"ONE-NETBOOK TECHNOLOGY CO., LTD.\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"ONE XPLAYER\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd1600x2560_leftside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"SAMSUNG ELECTRONICS CO., LTD.\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"Galaxy Book 10.6\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd1280x1920_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"Valve\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"Jupiter\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_VERSION, \"1\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd800x1280_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"VIOS\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"LTH17\"),\n\t\t},\n\t\t.driver_data = (void *)&lcd800x1280_rightside_up,\n\t}, {\t \n\t\t.matches = {\n\t\t  DMI_EXACT_MATCH(DMI_SYS_VENDOR, \"Default string\"),\n\t\t  DMI_EXACT_MATCH(DMI_PRODUCT_NAME, \"Default string\"),\n\t\t  DMI_EXACT_MATCH(DMI_BOARD_VENDOR, \"Default string\"),\n\t\t  DMI_EXACT_MATCH(DMI_BOARD_NAME, \"Default string\"),\n\t\t},\n\t\t.driver_data = (void *)&gpd_onemix2s,\n\t},\n\t{}\n};\n\n \nint drm_get_panel_orientation_quirk(int width, int height)\n{\n\tconst struct dmi_system_id *match;\n\tconst struct drm_dmi_panel_orientation_data *data;\n\tconst char *bios_date;\n\tint i;\n\n\tfor (match = dmi_first_match(orientation_data);\n\t     match;\n\t     match = dmi_first_match(match + 1)) {\n\t\tdata = match->driver_data;\n\n\t\tif (data->width != width ||\n\t\t    data->height != height)\n\t\t\tcontinue;\n\n\t\tif (!data->bios_dates)\n\t\t\treturn data->orientation;\n\n\t\tbios_date = dmi_get_system_info(DMI_BIOS_DATE);\n\t\tif (!bios_date)\n\t\t\tcontinue;\n\n\t\ti = match_string(data->bios_dates, -1, bios_date);\n\t\tif (i >= 0)\n\t\t\treturn data->orientation;\n\t}\n\n\treturn DRM_MODE_PANEL_ORIENTATION_UNKNOWN;\n}\nEXPORT_SYMBOL(drm_get_panel_orientation_quirk);\n\n#else\n\n \nint drm_get_panel_orientation_quirk(int width, int height)\n{\n\treturn DRM_MODE_PANEL_ORIENTATION_UNKNOWN;\n}\nEXPORT_SYMBOL(drm_get_panel_orientation_quirk);\n\n#endif\n\nMODULE_LICENSE(\"Dual MIT/GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}