{
  "module_name": "cgs_common.h",
  "hash_id": "bbffd9d693ad30533b4ac89549b2017e34047985f17e84c8652766eb3b6638f2",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/include/cgs_common.h",
  "human_readable_source": " \n#ifndef _CGS_COMMON_H\n#define _CGS_COMMON_H\n\n#include \"amd_shared.h\"\n\nstruct cgs_device;\n\n \nenum cgs_ind_reg {\n\tCGS_IND_REG__PCIE,\n\tCGS_IND_REG__SMC,\n\tCGS_IND_REG__UVD_CTX,\n\tCGS_IND_REG__DIDT,\n\tCGS_IND_REG_GC_CAC,\n\tCGS_IND_REG_SE_CAC,\n\tCGS_IND_REG__AUDIO_ENDPT\n};\n\n \nenum cgs_ucode_id {\n\tCGS_UCODE_ID_SMU = 0,\n\tCGS_UCODE_ID_SMU_SK,\n\tCGS_UCODE_ID_SDMA0,\n\tCGS_UCODE_ID_SDMA1,\n\tCGS_UCODE_ID_CP_CE,\n\tCGS_UCODE_ID_CP_PFP,\n\tCGS_UCODE_ID_CP_ME,\n\tCGS_UCODE_ID_CP_MEC,\n\tCGS_UCODE_ID_CP_MEC_JT1,\n\tCGS_UCODE_ID_CP_MEC_JT2,\n\tCGS_UCODE_ID_GMCON_RENG,\n\tCGS_UCODE_ID_RLC_G,\n\tCGS_UCODE_ID_STORAGE,\n\tCGS_UCODE_ID_MAXIMUM,\n};\n\n \nstruct cgs_firmware_info {\n\tuint16_t\t\tversion;\n\tuint16_t\t\tfw_version;\n\tuint16_t\t\tfeature_version;\n\tuint32_t\t\timage_size;\n\tuint64_t\t\tmc_addr;\n\n\t \n\tuint32_t\t\tucode_start_address;\n\n\tvoid\t\t\t*kptr;\n\tbool\t\t\tis_kicker;\n};\n\ntypedef unsigned long cgs_handle_t;\n\n \ntypedef uint32_t (*cgs_read_register_t)(struct cgs_device *cgs_device, unsigned offset);\n\n \ntypedef void (*cgs_write_register_t)(struct cgs_device *cgs_device, unsigned offset,\n\t\t\t\t     uint32_t value);\n\n \ntypedef uint32_t (*cgs_read_ind_register_t)(struct cgs_device *cgs_device, enum cgs_ind_reg space,\n\t\t\t\t\t    unsigned index);\n\n \ntypedef void (*cgs_write_ind_register_t)(struct cgs_device *cgs_device, enum cgs_ind_reg space,\n\t\t\t\t\t unsigned index, uint32_t value);\n\n#define CGS_REG_FIELD_SHIFT(reg, field) reg##__##field##__SHIFT\n#define CGS_REG_FIELD_MASK(reg, field) reg##__##field##_MASK\n\n#define CGS_REG_SET_FIELD(orig_val, reg, field, field_val)\t\t\t\\\n\t(((orig_val) & ~CGS_REG_FIELD_MASK(reg, field)) |\t\t\t\\\n\t (CGS_REG_FIELD_MASK(reg, field) & ((field_val) << CGS_REG_FIELD_SHIFT(reg, field))))\n\n#define CGS_REG_GET_FIELD(value, reg, field)\t\t\t\t\\\n\t(((value) & CGS_REG_FIELD_MASK(reg, field)) >> CGS_REG_FIELD_SHIFT(reg, field))\n\n#define CGS_WREG32_FIELD(device, reg, field, val)\t\\\n\tcgs_write_register(device, mm##reg, (cgs_read_register(device, mm##reg) & ~CGS_REG_FIELD_MASK(reg, field)) | (val) << CGS_REG_FIELD_SHIFT(reg, field))\n\n#define CGS_WREG32_FIELD_IND(device, space, reg, field, val)\t\\\n\tcgs_write_ind_register(device, space, ix##reg, (cgs_read_ind_register(device, space, ix##reg) & ~CGS_REG_FIELD_MASK(reg, field)) | (val) << CGS_REG_FIELD_SHIFT(reg, field))\n\ntypedef int (*cgs_get_firmware_info)(struct cgs_device *cgs_device,\n\t\t\t\t     enum cgs_ucode_id type,\n\t\t\t\t     struct cgs_firmware_info *info);\n\nstruct cgs_ops {\n\t \n\tcgs_read_register_t read_register;\n\tcgs_write_register_t write_register;\n\tcgs_read_ind_register_t read_ind_register;\n\tcgs_write_ind_register_t write_ind_register;\n\t \n\tcgs_get_firmware_info get_firmware_info;\n};\n\nstruct cgs_os_ops;  \n\nstruct cgs_device\n{\n\tconst struct cgs_ops *ops;\n\t \n};\n\n \n#define CGS_CALL(func,dev,...) \\\n\t(((struct cgs_device *)dev)->ops->func(dev, ##__VA_ARGS__))\n#define CGS_OS_CALL(func,dev,...) \\\n\t(((struct cgs_device *)dev)->os_ops->func(dev, ##__VA_ARGS__))\n\n#define cgs_read_register(dev,offset)\t\t\\\n\tCGS_CALL(read_register,dev,offset)\n#define cgs_write_register(dev,offset,value)\t\t\\\n\tCGS_CALL(write_register,dev,offset,value)\n#define cgs_read_ind_register(dev,space,index)\t\t\\\n\tCGS_CALL(read_ind_register,dev,space,index)\n#define cgs_write_ind_register(dev,space,index,value)\t\t\\\n\tCGS_CALL(write_ind_register,dev,space,index,value)\n\n#define cgs_get_firmware_info(dev, type, info)\t\\\n\tCGS_CALL(get_firmware_info, dev, type, info)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}