{
  "module_name": "amd_shared.h",
  "hash_id": "4bb8a7fa1f880b5c0ec3949e555c8d21d3fe729b13a5f6bd15743f15a7f042b7",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/include/amd_shared.h",
  "human_readable_source": " \n\n#ifndef __AMD_SHARED_H__\n#define __AMD_SHARED_H__\n\n#include <drm/amd_asic_type.h>\n\n\n#define AMD_MAX_USEC_TIMEOUT\t\t1000000   \n\n \nenum amd_chip_flags {\n\tAMD_ASIC_MASK = 0x0000ffffUL,\n\tAMD_FLAGS_MASK  = 0xffff0000UL,\n\tAMD_IS_MOBILITY = 0x00010000UL,\n\tAMD_IS_APU      = 0x00020000UL,\n\tAMD_IS_PX       = 0x00040000UL,\n\tAMD_EXP_HW_SUPPORT = 0x00080000UL,\n};\n\nenum amd_apu_flags {\n\tAMD_APU_IS_RAVEN = 0x00000001UL,\n\tAMD_APU_IS_RAVEN2 = 0x00000002UL,\n\tAMD_APU_IS_PICASSO = 0x00000004UL,\n\tAMD_APU_IS_RENOIR = 0x00000008UL,\n\tAMD_APU_IS_GREEN_SARDINE = 0x00000010UL,\n\tAMD_APU_IS_VANGOGH = 0x00000020UL,\n\tAMD_APU_IS_CYAN_SKILLFISH2 = 0x00000040UL,\n};\n\n \n\n \nenum amd_ip_block_type {\n\tAMD_IP_BLOCK_TYPE_COMMON,\n\tAMD_IP_BLOCK_TYPE_GMC,\n\tAMD_IP_BLOCK_TYPE_IH,\n\tAMD_IP_BLOCK_TYPE_SMC,\n\tAMD_IP_BLOCK_TYPE_PSP,\n\tAMD_IP_BLOCK_TYPE_DCE,\n\tAMD_IP_BLOCK_TYPE_GFX,\n\tAMD_IP_BLOCK_TYPE_SDMA,\n\tAMD_IP_BLOCK_TYPE_UVD,\n\tAMD_IP_BLOCK_TYPE_VCE,\n\tAMD_IP_BLOCK_TYPE_ACP,\n\tAMD_IP_BLOCK_TYPE_VCN,\n\tAMD_IP_BLOCK_TYPE_MES,\n\tAMD_IP_BLOCK_TYPE_JPEG,\n\tAMD_IP_BLOCK_TYPE_NUM,\n};\n\nenum amd_clockgating_state {\n\tAMD_CG_STATE_GATE = 0,\n\tAMD_CG_STATE_UNGATE,\n};\n\n\nenum amd_powergating_state {\n\tAMD_PG_STATE_GATE = 0,\n\tAMD_PG_STATE_UNGATE,\n};\n\n\n \n#define AMD_CG_SUPPORT_GFX_MGCG\t\t\t(1ULL << 0)\n#define AMD_CG_SUPPORT_GFX_MGLS\t\t\t(1ULL << 1)\n#define AMD_CG_SUPPORT_GFX_CGCG\t\t\t(1ULL << 2)\n#define AMD_CG_SUPPORT_GFX_CGLS\t\t\t(1ULL << 3)\n#define AMD_CG_SUPPORT_GFX_CGTS\t\t\t(1ULL << 4)\n#define AMD_CG_SUPPORT_GFX_CGTS_LS\t\t(1ULL << 5)\n#define AMD_CG_SUPPORT_GFX_CP_LS\t\t(1ULL << 6)\n#define AMD_CG_SUPPORT_GFX_RLC_LS\t\t(1ULL << 7)\n#define AMD_CG_SUPPORT_MC_LS\t\t\t(1ULL << 8)\n#define AMD_CG_SUPPORT_MC_MGCG\t\t\t(1ULL << 9)\n#define AMD_CG_SUPPORT_SDMA_LS\t\t\t(1ULL << 10)\n#define AMD_CG_SUPPORT_SDMA_MGCG\t\t(1ULL << 11)\n#define AMD_CG_SUPPORT_BIF_LS\t\t\t(1ULL << 12)\n#define AMD_CG_SUPPORT_UVD_MGCG\t\t\t(1ULL << 13)\n#define AMD_CG_SUPPORT_VCE_MGCG\t\t\t(1ULL << 14)\n#define AMD_CG_SUPPORT_HDP_LS\t\t\t(1ULL << 15)\n#define AMD_CG_SUPPORT_HDP_MGCG\t\t\t(1ULL << 16)\n#define AMD_CG_SUPPORT_ROM_MGCG\t\t\t(1ULL << 17)\n#define AMD_CG_SUPPORT_DRM_LS\t\t\t(1ULL << 18)\n#define AMD_CG_SUPPORT_BIF_MGCG\t\t\t(1ULL << 19)\n#define AMD_CG_SUPPORT_GFX_3D_CGCG\t\t(1ULL << 20)\n#define AMD_CG_SUPPORT_GFX_3D_CGLS\t\t(1ULL << 21)\n#define AMD_CG_SUPPORT_DRM_MGCG\t\t\t(1ULL << 22)\n#define AMD_CG_SUPPORT_DF_MGCG\t\t\t(1ULL << 23)\n#define AMD_CG_SUPPORT_VCN_MGCG\t\t\t(1ULL << 24)\n#define AMD_CG_SUPPORT_HDP_DS\t\t\t(1ULL << 25)\n#define AMD_CG_SUPPORT_HDP_SD\t\t\t(1ULL << 26)\n#define AMD_CG_SUPPORT_IH_CG\t\t\t(1ULL << 27)\n#define AMD_CG_SUPPORT_ATHUB_LS\t\t\t(1ULL << 28)\n#define AMD_CG_SUPPORT_ATHUB_MGCG\t\t(1ULL << 29)\n#define AMD_CG_SUPPORT_JPEG_MGCG\t\t(1ULL << 30)\n#define AMD_CG_SUPPORT_GFX_FGCG\t\t\t(1ULL << 31)\n#define AMD_CG_SUPPORT_REPEATER_FGCG\t\t(1ULL << 32)\n#define AMD_CG_SUPPORT_GFX_PERF_CLK\t\t(1ULL << 33)\n \n#define AMD_PG_SUPPORT_GFX_PG\t\t\t(1 << 0)\n#define AMD_PG_SUPPORT_GFX_SMG\t\t\t(1 << 1)\n#define AMD_PG_SUPPORT_GFX_DMG\t\t\t(1 << 2)\n#define AMD_PG_SUPPORT_UVD\t\t\t(1 << 3)\n#define AMD_PG_SUPPORT_VCE\t\t\t(1 << 4)\n#define AMD_PG_SUPPORT_CP\t\t\t(1 << 5)\n#define AMD_PG_SUPPORT_GDS\t\t\t(1 << 6)\n#define AMD_PG_SUPPORT_RLC_SMU_HS\t\t(1 << 7)\n#define AMD_PG_SUPPORT_SDMA\t\t\t(1 << 8)\n#define AMD_PG_SUPPORT_ACP\t\t\t(1 << 9)\n#define AMD_PG_SUPPORT_SAMU\t\t\t(1 << 10)\n#define AMD_PG_SUPPORT_GFX_QUICK_MG\t\t(1 << 11)\n#define AMD_PG_SUPPORT_GFX_PIPELINE\t\t(1 << 12)\n#define AMD_PG_SUPPORT_MMHUB\t\t\t(1 << 13)\n#define AMD_PG_SUPPORT_VCN\t\t\t(1 << 14)\n#define AMD_PG_SUPPORT_VCN_DPG\t\t\t(1 << 15)\n#define AMD_PG_SUPPORT_ATHUB\t\t\t(1 << 16)\n#define AMD_PG_SUPPORT_JPEG\t\t\t(1 << 17)\n#define AMD_PG_SUPPORT_IH_SRAM_PG\t\t(1 << 18)\n\n \nenum PP_FEATURE_MASK {\n\tPP_SCLK_DPM_MASK = 0x1,\n\tPP_MCLK_DPM_MASK = 0x2,\n\tPP_PCIE_DPM_MASK = 0x4,\n\tPP_SCLK_DEEP_SLEEP_MASK = 0x8,\n\tPP_POWER_CONTAINMENT_MASK = 0x10,\n\tPP_UVD_HANDSHAKE_MASK = 0x20,\n\tPP_SMC_VOLTAGE_CONTROL_MASK = 0x40,\n\tPP_VBI_TIME_SUPPORT_MASK = 0x80,\n\tPP_ULV_MASK = 0x100,\n\tPP_ENABLE_GFX_CG_THRU_SMU = 0x200,\n\tPP_CLOCK_STRETCH_MASK = 0x400,\n\tPP_OD_FUZZY_FAN_CONTROL_MASK = 0x800,\n\tPP_SOCCLK_DPM_MASK = 0x1000,\n\tPP_DCEFCLK_DPM_MASK = 0x2000,\n\tPP_OVERDRIVE_MASK = 0x4000,\n\tPP_GFXOFF_MASK = 0x8000,\n\tPP_ACG_MASK = 0x10000,\n\tPP_STUTTER_MODE = 0x20000,\n\tPP_AVFS_MASK = 0x40000,\n\tPP_GFX_DCS_MASK = 0x80000,\n};\n\nenum amd_harvest_ip_mask {\n    AMD_HARVEST_IP_VCN_MASK = 0x1,\n    AMD_HARVEST_IP_JPEG_MASK = 0x2,\n    AMD_HARVEST_IP_DMU_MASK = 0x4,\n};\n\nenum DC_FEATURE_MASK {\n\t\n\tDC_FBC_MASK = (1 << 0), \n\tDC_MULTI_MON_PP_MCLK_SWITCH_MASK = (1 << 1), \n\tDC_DISABLE_FRACTIONAL_PWM_MASK = (1 << 2), \n\tDC_PSR_MASK = (1 << 3), \n\tDC_EDP_NO_POWER_SEQUENCING = (1 << 4), \n\tDC_DISABLE_LTTPR_DP1_4A = (1 << 5), \n\tDC_DISABLE_LTTPR_DP2_0 = (1 << 6), \n\tDC_PSR_ALLOW_SMU_OPT = (1 << 7), \n\tDC_PSR_ALLOW_MULTI_DISP_OPT = (1 << 8), \n\tDC_REPLAY_MASK = (1 << 9), \n};\n\nenum DC_DEBUG_MASK {\n\tDC_DISABLE_PIPE_SPLIT = 0x1,\n\tDC_DISABLE_STUTTER = 0x2,\n\tDC_DISABLE_DSC = 0x4,\n\tDC_DISABLE_CLOCK_GATING = 0x8,\n\tDC_DISABLE_PSR = 0x10,\n\tDC_FORCE_SUBVP_MCLK_SWITCH = 0x20,\n\tDC_DISABLE_MPO = 0x40,\n\tDC_DISABLE_REPLAY = 0x50,\n\tDC_ENABLE_DPIA_TRACE = 0x80,\n};\n\nenum amd_dpm_forced_level;\n\n \nstruct amd_ip_funcs {\n\tchar *name;\n\tint (*early_init)(void *handle);\n\tint (*late_init)(void *handle);\n\tint (*sw_init)(void *handle);\n\tint (*sw_fini)(void *handle);\n\tint (*early_fini)(void *handle);\n\tint (*hw_init)(void *handle);\n\tint (*hw_fini)(void *handle);\n\tvoid (*late_fini)(void *handle);\n\tint (*suspend)(void *handle);\n\tint (*resume)(void *handle);\n\tbool (*is_idle)(void *handle);\n\tint (*wait_for_idle)(void *handle);\n\tbool (*check_soft_reset)(void *handle);\n\tint (*pre_soft_reset)(void *handle);\n\tint (*soft_reset)(void *handle);\n\tint (*post_soft_reset)(void *handle);\n\tint (*set_clockgating_state)(void *handle,\n\t\t\t\t     enum amd_clockgating_state state);\n\tint (*set_powergating_state)(void *handle,\n\t\t\t\t     enum amd_powergating_state state);\n\tvoid (*get_clockgating_state)(void *handle, u64 *flags);\n};\n\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}