{
  "module_name": "smu9_driver_if.h",
  "hash_id": "b72dd20112bf78fd530545687d51d2ae56fc3908c4756841a1a65bf36f7751ed",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/pm/powerplay/inc/smu9_driver_if.h",
  "human_readable_source": " \n\n#ifndef SMU9_DRIVER_IF_H\n#define SMU9_DRIVER_IF_H\n\n#include \"smu9.h\"\n\n \n#define SMU9_DRIVER_IF_VERSION 0xE\n\n#define PPTABLE_V10_SMU_VERSION 1\n\n#define NUM_GFXCLK_DPM_LEVELS  8\n#define NUM_UVD_DPM_LEVELS     8\n#define NUM_VCE_DPM_LEVELS     8\n#define NUM_MP0CLK_DPM_LEVELS  8\n#define NUM_UCLK_DPM_LEVELS    4\n#define NUM_SOCCLK_DPM_LEVELS  8\n#define NUM_DCEFCLK_DPM_LEVELS 8\n#define NUM_LINK_LEVELS        2\n\n#define MAX_GFXCLK_DPM_LEVEL  (NUM_GFXCLK_DPM_LEVELS  - 1)\n#define MAX_UVD_DPM_LEVEL     (NUM_UVD_DPM_LEVELS     - 1)\n#define MAX_VCE_DPM_LEVEL     (NUM_VCE_DPM_LEVELS     - 1)\n#define MAX_MP0CLK_DPM_LEVEL  (NUM_MP0CLK_DPM_LEVELS  - 1)\n#define MAX_UCLK_DPM_LEVEL    (NUM_UCLK_DPM_LEVELS    - 1)\n#define MAX_SOCCLK_DPM_LEVEL  (NUM_SOCCLK_DPM_LEVELS  - 1)\n#define MAX_DCEFCLK_DPM_LEVEL (NUM_DCEFCLK_DPM_LEVELS - 1)\n#define MAX_LINK_DPM_LEVEL    (NUM_LINK_LEVELS        - 1)\n\n#define MIN_GFXCLK_DPM_LEVEL  0\n#define MIN_UVD_DPM_LEVEL     0\n#define MIN_VCE_DPM_LEVEL     0\n#define MIN_MP0CLK_DPM_LEVEL  0\n#define MIN_UCLK_DPM_LEVEL    0\n#define MIN_SOCCLK_DPM_LEVEL  0\n#define MIN_DCEFCLK_DPM_LEVEL 0\n#define MIN_LINK_DPM_LEVEL    0\n\n#define NUM_EVV_VOLTAGE_LEVELS 8\n#define MAX_EVV_VOLTAGE_LEVEL (NUM_EVV_VOLTAGE_LEVELS - 1)\n#define MIN_EVV_VOLTAGE_LEVEL 0\n\n#define NUM_PSP_LEVEL_MAP 4\n\n \n#define PPSMC_GeminiModeNone   0   \n#define PPSMC_GeminiModeMaster 1   \n#define PPSMC_GeminiModeSlave  2   \n\n \n#define VOLTAGE_MODE_AVFS_INTERPOLATE 0\n#define VOLTAGE_MODE_AVFS_WORST_CASE  1\n#define VOLTAGE_MODE_STATIC           2\n\ntypedef struct {\n  uint32_t FbMult;  \n  uint32_t SsFbMult;  \n  uint16_t SsSlewFrac;\n  uint8_t  SsOn;\n  uint8_t  Did;       \n} PllSetting_t;\n\ntypedef struct {\n  int32_t a0;\n  int32_t a1;\n  int32_t a2;\n\n  uint8_t a0_shift;\n  uint8_t a1_shift;\n  uint8_t a2_shift;\n  uint8_t padding;\n} GbVdroopTable_t;\n\ntypedef struct {\n  int32_t m1;\n  int32_t m2;\n  int32_t b;\n\n  uint8_t m1_shift;\n  uint8_t m2_shift;\n  uint8_t b_shift;\n  uint8_t padding;\n} QuadraticInt_t;\n\n#define NUM_DSPCLK_LEVELS 8\n\ntypedef enum {\n  DSPCLK_DCEFCLK = 0,\n  DSPCLK_DISPCLK,\n  DSPCLK_PIXCLK,\n  DSPCLK_PHYCLK,\n  DSPCLK_COUNT,\n} DSPCLK_e;\n\ntypedef struct {\n  uint16_t Freq;  \n  uint16_t Vid;   \n} DisplayClockTable_t;\n\n#pragma pack(push, 1)\ntypedef struct {\n   \n  uint16_t SocketPowerLimit;  \n  uint16_t TdcLimit;          \n  uint16_t EdcLimit;          \n  uint16_t TedgeLimit;        \n  uint16_t ThotspotLimit;     \n  uint16_t ThbmLimit;         \n  uint16_t Tvr_socLimit;      \n  uint16_t Tvr_memLimit;      \n  uint16_t Tliquid1Limit;     \n  uint16_t Tliquid2Limit;     \n  uint16_t TplxLimit;         \n  uint16_t LoadLineResistance;  \n  uint32_t FitLimit;          \n\n   \n  uint8_t  Liquid1_I2C_address;\n  uint8_t  Liquid2_I2C_address;\n  uint8_t  Vr_I2C_address;\n  uint8_t  Plx_I2C_address;\n\n  uint8_t  GeminiMode;\n  uint8_t  spare17[3];\n  uint32_t GeminiApertureHigh;\n  uint32_t GeminiApertureLow;\n\n  uint8_t  Liquid_I2C_LineSCL;\n  uint8_t  Liquid_I2C_LineSDA;\n  uint8_t  Vr_I2C_LineSCL;\n  uint8_t  Vr_I2C_LineSDA;\n  uint8_t  Plx_I2C_LineSCL;\n  uint8_t  Plx_I2C_LineSDA;\n  uint8_t  paddingx[2];\n\n   \n  uint8_t  UlvOffsetVid;      \n  uint8_t  UlvSmnclkDid;      \n  uint8_t  UlvMp1clkDid;      \n  uint8_t  UlvGfxclkBypass;   \n\n   \n  uint8_t      SocVid[NUM_EVV_VOLTAGE_LEVELS];\n\n   \n  uint8_t      MinVoltageVid;  \n  uint8_t      MaxVoltageVid;  \n  uint8_t      MaxVidStep;  \n  uint8_t      padding8;\n\n  uint8_t      UlvPhaseSheddingPsi0;  \n  uint8_t      UlvPhaseSheddingPsi1;  \n  uint8_t      padding8_2[2];\n\n   \n  PllSetting_t GfxclkLevel[NUM_GFXCLK_DPM_LEVELS];\n\n  uint8_t      SocclkDid[NUM_SOCCLK_DPM_LEVELS];           \n  uint8_t      SocDpmVoltageIndex[NUM_SOCCLK_DPM_LEVELS];\n\n  uint8_t      VclkDid[NUM_UVD_DPM_LEVELS];             \n  uint8_t      DclkDid[NUM_UVD_DPM_LEVELS];             \n  uint8_t      UvdDpmVoltageIndex[NUM_UVD_DPM_LEVELS];\n\n  uint8_t      EclkDid[NUM_VCE_DPM_LEVELS];             \n  uint8_t      VceDpmVoltageIndex[NUM_VCE_DPM_LEVELS];\n\n  uint8_t      Mp0clkDid[NUM_MP0CLK_DPM_LEVELS];           \n  uint8_t      Mp0DpmVoltageIndex[NUM_MP0CLK_DPM_LEVELS];\n\n  DisplayClockTable_t DisplayClockTable[DSPCLK_COUNT][NUM_DSPCLK_LEVELS];\n  QuadraticInt_t      DisplayClock2Gfxclk[DSPCLK_COUNT];\n\n  uint8_t      GfxDpmVoltageMode;\n  uint8_t      SocDpmVoltageMode;\n  uint8_t      UclkDpmVoltageMode;\n  uint8_t      UvdDpmVoltageMode;\n\n  uint8_t      VceDpmVoltageMode;\n  uint8_t      Mp0DpmVoltageMode;\n  uint8_t      DisplayDpmVoltageMode;\n  uint8_t      padding8_3;\n\n  uint16_t     GfxclkSlewRate;\n  uint16_t     padding;\n\n  uint32_t     LowGfxclkInterruptThreshold;   \n\n   \n  uint8_t      GfxclkAverageAlpha;\n  uint8_t      SocclkAverageAlpha;\n  uint8_t      UclkAverageAlpha;\n  uint8_t      GfxActivityAverageAlpha;\n\n   \n  uint8_t      MemVid[NUM_UCLK_DPM_LEVELS];     \n  PllSetting_t UclkLevel[NUM_UCLK_DPM_LEVELS];    \n  uint8_t      MemSocVoltageIndex[NUM_UCLK_DPM_LEVELS];\n  uint8_t      LowestUclkReservedForUlv;  \n  uint8_t      paddingUclk[3];\n  uint16_t     NumMemoryChannels;   \n  uint16_t     MemoryChannelWidth;  \n\n   \n  uint8_t      CksEnable[NUM_GFXCLK_DPM_LEVELS];\n  uint8_t      CksVidOffset[NUM_GFXCLK_DPM_LEVELS];\n\n   \n  uint8_t      PspLevelMap[NUM_PSP_LEVEL_MAP];\n\n   \n  uint8_t     PcieGenSpeed[NUM_LINK_LEVELS];            \n  uint8_t     PcieLaneCount[NUM_LINK_LEVELS];           \n  uint8_t     LclkDid[NUM_LINK_LEVELS];                 \n  uint8_t     paddingLinkDpm[2];\n\n   \n  uint16_t     FanStopTemp;           \n  uint16_t     FanStartTemp;          \n\n  uint16_t     FanGainEdge;\n  uint16_t     FanGainHotspot;\n  uint16_t     FanGainLiquid;\n  uint16_t     FanGainVrVddc;\n  uint16_t     FanGainVrMvdd;\n  uint16_t     FanGainPlx;\n  uint16_t     FanGainHbm;\n  uint16_t     FanPwmMin;\n  uint16_t     FanAcousticLimitRpm;\n  uint16_t     FanThrottlingRpm;\n  uint16_t     FanMaximumRpm;\n  uint16_t     FanTargetTemperature;\n  uint16_t     FanTargetGfxclk;\n  uint8_t      FanZeroRpmEnable;\n  uint8_t      FanSpare;\n\n   \n  int16_t      FuzzyFan_ErrorSetDelta;\n  int16_t      FuzzyFan_ErrorRateSetDelta;\n  int16_t      FuzzyFan_PwmSetDelta;\n  uint16_t     FuzzyFan_Reserved;\n\n   \n  uint8_t      AcDcGpio;         \n  uint8_t      AcDcPolarity;     \n  uint8_t      VR0HotGpio;       \n  uint8_t      VR0HotPolarity;   \n  uint8_t      VR1HotGpio;       \n  uint8_t      VR1HotPolarity;   \n  uint8_t      Padding1;        \n  uint8_t      Padding2;        \n\n   \n  uint8_t      LedPin0;          \n  uint8_t      LedPin1;          \n  uint8_t      LedPin2;          \n  uint8_t      padding8_4;\n\n   \n  uint8_t      OverrideBtcGbCksOn;\n  uint8_t      OverrideAvfsGbCksOn;\n  uint8_t      PaddingAvfs8[2];\n\n  GbVdroopTable_t BtcGbVdroopTableCksOn;\n  GbVdroopTable_t BtcGbVdroopTableCksOff;\n\n  QuadraticInt_t  AvfsGbCksOn;   \n  QuadraticInt_t  AvfsGbCksOff;  \n\n  uint8_t      StaticVoltageOffsetVid[NUM_GFXCLK_DPM_LEVELS];  \n\n   \n  uint32_t     AConstant[3];\n  uint16_t     DC_tol_sigma;\n  uint16_t     Platform_mean;\n  uint16_t     Platform_sigma;\n  uint16_t     PSM_Age_CompFactor;\n\n  uint32_t     DpmLevelPowerDelta;\n\n  uint8_t      EnableBoostState;\n  uint8_t      AConstant_Shift;\n  uint8_t      DC_tol_sigma_Shift;\n  uint8_t      PSM_Age_CompFactor_Shift;\n\n  uint16_t     BoostStartTemperature;\n  uint16_t     BoostStopTemperature;\n\n  PllSetting_t GfxBoostState;\n\n  uint8_t      AcgEnable[NUM_GFXCLK_DPM_LEVELS];\n  GbVdroopTable_t AcgBtcGbVdroopTable;\n  QuadraticInt_t  AcgAvfsGb;\n\n   \n  uint32_t     AcgFreqTable[NUM_GFXCLK_DPM_LEVELS];\n\n   \n  uint32_t     MmHubPadding[3];  \n\n} PPTable_t;\n#pragma pack(pop)\n\ntypedef struct {\n  uint16_t MinClock; \n  uint16_t MaxClock; \n  uint16_t MinUclk;\n  uint16_t MaxUclk;\n\n  uint8_t  WmSetting;\n  uint8_t  Padding[3];\n} WatermarkRowGeneric_t;\n\n#define NUM_WM_RANGES 4\n\ntypedef enum {\n  WM_SOCCLK = 0,\n  WM_DCEFCLK,\n  WM_COUNT,\n} WM_CLOCK_e;\n\ntypedef struct {\n   \n  WatermarkRowGeneric_t WatermarkRow[WM_COUNT][NUM_WM_RANGES];\n\n  uint32_t     MmHubPadding[7];  \n} Watermarks_t;\n\n#ifdef PPTABLE_V10_SMU_VERSION\ntypedef struct {\n  float        AvfsGbCksOn[NUM_GFXCLK_DPM_LEVELS];\n  float        AcBtcGbCksOn[NUM_GFXCLK_DPM_LEVELS];\n  float        AvfsGbCksOff[NUM_GFXCLK_DPM_LEVELS];\n  float        AcBtcGbCksOff[NUM_GFXCLK_DPM_LEVELS];\n  float        DcBtcGb;\n\n  uint32_t     MmHubPadding[7];  \n} AvfsTable_t;\n#else\ntypedef struct {\n  uint32_t     AvfsGbCksOn[NUM_GFXCLK_DPM_LEVELS];\n  uint32_t     AcBtcGbCksOn[NUM_GFXCLK_DPM_LEVELS];\n  uint32_t     AvfsGbCksOff[NUM_GFXCLK_DPM_LEVELS];\n  uint32_t     AcBtcGbCksOff[NUM_GFXCLK_DPM_LEVELS];\n  uint32_t     DcBtcGb;\n\n  uint32_t     MmHubPadding[7];  \n} AvfsTable_t;\n#endif\n\ntypedef struct {\n  uint16_t avgPsmCount[30];\n  uint16_t minPsmCount[30];\n  float    avgPsmVoltage[30];\n  float    minPsmVoltage[30];\n\n  uint32_t MmHubPadding[7];  \n} AvfsDebugTable_t;\n\ntypedef struct {\n  uint8_t  AvfsEn;\n  uint8_t  AvfsVersion;\n  uint8_t  Padding[2];\n\n  int32_t VFT0_m1;  \n  int32_t VFT0_m2;  \n  int32_t VFT0_b;   \n\n  int32_t VFT1_m1;  \n  int32_t VFT1_m2;  \n  int32_t VFT1_b;   \n\n  int32_t VFT2_m1;  \n  int32_t VFT2_m2;  \n  int32_t VFT2_b;   \n\n  int32_t AvfsGb0_m1;  \n  int32_t AvfsGb0_m2;  \n  int32_t AvfsGb0_b;   \n\n  int32_t AcBtcGb_m1;  \n  int32_t AcBtcGb_m2;  \n  int32_t AcBtcGb_b;   \n\n  uint32_t AvfsTempCold;\n  uint32_t AvfsTempMid;\n  uint32_t AvfsTempHot;\n\n  uint32_t InversionVoltage;  \n\n  int32_t P2V_m1;  \n  int32_t P2V_m2;  \n  int32_t P2V_b;   \n\n  uint32_t P2VCharzFreq;  \n\n  uint32_t EnabledAvfsModules;\n\n  uint32_t MmHubPadding[7];  \n} AvfsFuseOverride_t;\n\n \n#define TABLE_PPTABLE            0\n#define TABLE_WATERMARKS         1\n#define TABLE_AVFS               2\n#define TABLE_AVFS_PSM_DEBUG     3\n#define TABLE_AVFS_FUSE_OVERRIDE 4\n#define TABLE_PMSTATUSLOG        5\n#define TABLE_COUNT              6\n\n \n#define UCLK_SWITCH_SLOW 0\n#define UCLK_SWITCH_FAST 1\n\n \n#define SQ_Enable_MASK 0x1\n#define SQ_IR_MASK 0x2\n#define SQ_PCC_MASK 0x4\n#define SQ_EDC_MASK 0x8\n\n#define TCP_Enable_MASK 0x100\n#define TCP_IR_MASK 0x200\n#define TCP_PCC_MASK 0x400\n#define TCP_EDC_MASK 0x800\n\n#define TD_Enable_MASK 0x10000\n#define TD_IR_MASK 0x20000\n#define TD_PCC_MASK 0x40000\n#define TD_EDC_MASK 0x80000\n\n#define DB_Enable_MASK 0x1000000\n#define DB_IR_MASK 0x2000000\n#define DB_PCC_MASK 0x4000000\n#define DB_EDC_MASK 0x8000000\n\n#define SQ_Enable_SHIFT 0\n#define SQ_IR_SHIFT 1\n#define SQ_PCC_SHIFT 2\n#define SQ_EDC_SHIFT 3\n\n#define TCP_Enable_SHIFT 8\n#define TCP_IR_SHIFT 9\n#define TCP_PCC_SHIFT 10\n#define TCP_EDC_SHIFT 11\n\n#define TD_Enable_SHIFT 16\n#define TD_IR_SHIFT 17\n#define TD_PCC_SHIFT 18\n#define TD_EDC_SHIFT 19\n\n#define DB_Enable_SHIFT 24\n#define DB_IR_SHIFT 25\n#define DB_PCC_SHIFT 26\n#define DB_EDC_SHIFT 27\n\n#define REMOVE_FMAX_MARGIN_BIT     0x0\n#define REMOVE_DCTOL_MARGIN_BIT    0x1\n#define REMOVE_PLATFORM_MARGIN_BIT 0x2\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}