{
  "module_name": "smu7_discrete.h",
  "hash_id": "f9c39aeb764ed85702b9af2e324cb1c1f32e1d4c513240c973c9246be5b81b2b",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/pm/powerplay/inc/smu7_discrete.h",
  "human_readable_source": " \n\n#ifndef SMU7_DISCRETE_H\n#define SMU7_DISCRETE_H\n\n#include \"smu7.h\"\n\n#pragma pack(push, 1)\n\n#define SMU7_DTE_ITERATIONS 5\n#define SMU7_DTE_SOURCES 3\n#define SMU7_DTE_SINKS 1\n#define SMU7_NUM_CPU_TES 0\n#define SMU7_NUM_GPU_TES 1\n#define SMU7_NUM_NON_TES 2\n\nstruct SMU7_SoftRegisters\n{\n    uint32_t        RefClockFrequency;\n    uint32_t        PmTimerP;\n    uint32_t        FeatureEnables;\n    uint32_t        PreVBlankGap;\n    uint32_t        VBlankTimeout;\n    uint32_t        TrainTimeGap;\n\n    uint32_t        MvddSwitchTime;\n    uint32_t        LongestAcpiTrainTime;\n    uint32_t        AcpiDelay;\n    uint32_t        G5TrainTime;\n    uint32_t        DelayMpllPwron;\n    uint32_t        VoltageChangeTimeout;\n    uint32_t        HandshakeDisables;\n\n    uint8_t         DisplayPhy1Config;\n    uint8_t         DisplayPhy2Config;\n    uint8_t         DisplayPhy3Config;\n    uint8_t         DisplayPhy4Config;\n\n    uint8_t         DisplayPhy5Config;\n    uint8_t         DisplayPhy6Config;\n    uint8_t         DisplayPhy7Config;\n    uint8_t         DisplayPhy8Config;\n\n    uint32_t        AverageGraphicsA;\n    uint32_t        AverageMemoryA;\n    uint32_t        AverageGioA;\n\n    uint8_t         SClkDpmEnabledLevels;\n    uint8_t         MClkDpmEnabledLevels;\n    uint8_t         LClkDpmEnabledLevels;\n    uint8_t         PCIeDpmEnabledLevels;\n\n    uint8_t         UVDDpmEnabledLevels;\n    uint8_t         SAMUDpmEnabledLevels;\n    uint8_t         ACPDpmEnabledLevels;\n    uint8_t         VCEDpmEnabledLevels;\n\n    uint32_t        DRAM_LOG_ADDR_H;\n    uint32_t        DRAM_LOG_ADDR_L;\n    uint32_t        DRAM_LOG_PHY_ADDR_H;\n    uint32_t        DRAM_LOG_PHY_ADDR_L;\n    uint32_t        DRAM_LOG_BUFF_SIZE;\n    uint32_t        UlvEnterC;\n    uint32_t        UlvTime;\n    uint32_t        Reserved[3];\n\n};\n\ntypedef struct SMU7_SoftRegisters SMU7_SoftRegisters;\n\nstruct SMU7_Discrete_VoltageLevel\n{\n    uint16_t    Voltage;\n    uint16_t    StdVoltageHiSidd;\n    uint16_t    StdVoltageLoSidd;\n    uint8_t     Smio;\n    uint8_t     padding;\n};\n\ntypedef struct SMU7_Discrete_VoltageLevel SMU7_Discrete_VoltageLevel;\n\nstruct SMU7_Discrete_GraphicsLevel\n{\n    uint32_t    Flags;\n    uint32_t    MinVddc;\n    uint32_t    MinVddcPhases;\n\n    uint32_t    SclkFrequency;\n\n    uint8_t     padding1[2];\n    uint16_t    ActivityLevel;\n\n    uint32_t    CgSpllFuncCntl3;\n    uint32_t    CgSpllFuncCntl4;\n    uint32_t    SpllSpreadSpectrum;\n    uint32_t    SpllSpreadSpectrum2;\n    uint32_t    CcPwrDynRm;\n    uint32_t    CcPwrDynRm1;\n    uint8_t     SclkDid;\n    uint8_t     DisplayWatermark;\n    uint8_t     EnabledForActivity;\n    uint8_t     EnabledForThrottle;\n    uint8_t     UpH;\n    uint8_t     DownH;\n    uint8_t     VoltageDownH;\n    uint8_t     PowerThrottle;\n    uint8_t     DeepSleepDivId;\n    uint8_t     padding[3];\n};\n\ntypedef struct SMU7_Discrete_GraphicsLevel SMU7_Discrete_GraphicsLevel;\n\nstruct SMU7_Discrete_ACPILevel\n{\n    uint32_t    Flags;\n    uint32_t    MinVddc;\n    uint32_t    MinVddcPhases;\n    uint32_t    SclkFrequency;\n    uint8_t     SclkDid;\n    uint8_t     DisplayWatermark;\n    uint8_t     DeepSleepDivId;\n    uint8_t     padding;\n    uint32_t    CgSpllFuncCntl;\n    uint32_t    CgSpllFuncCntl2;\n    uint32_t    CgSpllFuncCntl3;\n    uint32_t    CgSpllFuncCntl4;\n    uint32_t    SpllSpreadSpectrum;\n    uint32_t    SpllSpreadSpectrum2;\n    uint32_t    CcPwrDynRm;\n    uint32_t    CcPwrDynRm1;\n};\n\ntypedef struct SMU7_Discrete_ACPILevel SMU7_Discrete_ACPILevel;\n\nstruct SMU7_Discrete_Ulv\n{\n    uint32_t    CcPwrDynRm;\n    uint32_t    CcPwrDynRm1;\n    uint16_t    VddcOffset;\n    uint8_t     VddcOffsetVid;\n    uint8_t     VddcPhase;\n    uint32_t    Reserved;\n};\n\ntypedef struct SMU7_Discrete_Ulv SMU7_Discrete_Ulv;\n\nstruct SMU7_Discrete_MemoryLevel\n{\n    uint32_t    MinVddc;\n    uint32_t    MinVddcPhases;\n    uint32_t    MinVddci;\n    uint32_t    MinMvdd;\n\n    uint32_t    MclkFrequency;\n\n    uint8_t     EdcReadEnable;\n    uint8_t     EdcWriteEnable;\n    uint8_t     RttEnable;\n    uint8_t     StutterEnable;\n\n    uint8_t     StrobeEnable;\n    uint8_t     StrobeRatio;\n    uint8_t     EnabledForThrottle;\n    uint8_t     EnabledForActivity;\n\n    uint8_t     UpH;\n    uint8_t     DownH;\n    uint8_t     VoltageDownH;\n    uint8_t     padding;\n\n    uint16_t    ActivityLevel;\n    uint8_t     DisplayWatermark;\n    uint8_t     padding1;\n\n    uint32_t    MpllFuncCntl;\n    uint32_t    MpllFuncCntl_1;\n    uint32_t    MpllFuncCntl_2;\n    uint32_t    MpllAdFuncCntl;\n    uint32_t    MpllDqFuncCntl;\n    uint32_t    MclkPwrmgtCntl;\n    uint32_t    DllCntl;\n    uint32_t    MpllSs1;\n    uint32_t    MpllSs2;\n};\n\ntypedef struct SMU7_Discrete_MemoryLevel SMU7_Discrete_MemoryLevel;\n\nstruct SMU7_Discrete_LinkLevel\n{\n    uint8_t     PcieGenSpeed;\n    uint8_t     PcieLaneCount;\n    uint8_t     EnabledForActivity;\n    uint8_t     Padding;\n    uint32_t    DownT;\n    uint32_t    UpT;\n    uint32_t    Reserved;\n};\n\ntypedef struct SMU7_Discrete_LinkLevel SMU7_Discrete_LinkLevel;\n\n\nstruct SMU7_Discrete_MCArbDramTimingTableEntry\n{\n    uint32_t McArbDramTiming;\n    uint32_t McArbDramTiming2;\n    uint8_t  McArbBurstTime;\n    uint8_t  padding[3];\n};\n\ntypedef struct SMU7_Discrete_MCArbDramTimingTableEntry SMU7_Discrete_MCArbDramTimingTableEntry;\n\nstruct SMU7_Discrete_MCArbDramTimingTable\n{\n    SMU7_Discrete_MCArbDramTimingTableEntry entries[SMU__NUM_SCLK_DPM_STATE][SMU__NUM_MCLK_DPM_LEVELS];\n};\n\ntypedef struct SMU7_Discrete_MCArbDramTimingTable SMU7_Discrete_MCArbDramTimingTable;\n\nstruct SMU7_Discrete_UvdLevel\n{\n    uint32_t VclkFrequency;\n    uint32_t DclkFrequency;\n    uint16_t MinVddc;\n    uint8_t  MinVddcPhases;\n    uint8_t  VclkDivider;\n    uint8_t  DclkDivider;\n    uint8_t  padding[3];\n};\n\ntypedef struct SMU7_Discrete_UvdLevel SMU7_Discrete_UvdLevel;\n\nstruct SMU7_Discrete_ExtClkLevel\n{\n    uint32_t Frequency;\n    uint16_t MinVoltage;\n    uint8_t  MinPhases;\n    uint8_t  Divider;\n};\n\ntypedef struct SMU7_Discrete_ExtClkLevel SMU7_Discrete_ExtClkLevel;\n\nstruct SMU7_Discrete_StateInfo\n{\n    uint32_t SclkFrequency;\n    uint32_t MclkFrequency;\n    uint32_t VclkFrequency;\n    uint32_t DclkFrequency;\n    uint32_t SamclkFrequency;\n    uint32_t AclkFrequency;\n    uint32_t EclkFrequency;\n    uint16_t MvddVoltage;\n    uint16_t padding16;\n    uint8_t  DisplayWatermark;\n    uint8_t  McArbIndex;\n    uint8_t  McRegIndex;\n    uint8_t  SeqIndex;\n    uint8_t  SclkDid;\n    int8_t   SclkIndex;\n    int8_t   MclkIndex;\n    uint8_t  PCIeGen;\n\n};\n\ntypedef struct SMU7_Discrete_StateInfo SMU7_Discrete_StateInfo;\n\n\nstruct SMU7_Discrete_DpmTable\n{\n    SMU7_PIDController                  GraphicsPIDController;\n    SMU7_PIDController                  MemoryPIDController;\n    SMU7_PIDController                  LinkPIDController;\n\n    uint32_t                            SystemFlags;\n\n\n    uint32_t                            SmioMaskVddcVid;\n    uint32_t                            SmioMaskVddcPhase;\n    uint32_t                            SmioMaskVddciVid;\n    uint32_t                            SmioMaskMvddVid;\n\n    uint32_t                            VddcLevelCount;\n    uint32_t                            VddciLevelCount;\n    uint32_t                            MvddLevelCount;\n\n    SMU7_Discrete_VoltageLevel          VddcLevel               [SMU7_MAX_LEVELS_VDDC];\n\n    SMU7_Discrete_VoltageLevel          VddciLevel              [SMU7_MAX_LEVELS_VDDCI];\n    SMU7_Discrete_VoltageLevel          MvddLevel               [SMU7_MAX_LEVELS_MVDD];\n\n    uint8_t                             GraphicsDpmLevelCount;\n    uint8_t                             MemoryDpmLevelCount;\n    uint8_t                             LinkLevelCount;\n    uint8_t                             UvdLevelCount;\n    uint8_t                             VceLevelCount;\n    uint8_t                             AcpLevelCount;\n    uint8_t                             SamuLevelCount;\n    uint8_t                             MasterDeepSleepControl;\n    uint32_t                            VRConfig;\n    uint32_t                            Reserved[4];\n\n\n    SMU7_Discrete_GraphicsLevel         GraphicsLevel           [SMU7_MAX_LEVELS_GRAPHICS];\n    SMU7_Discrete_MemoryLevel           MemoryACPILevel;\n    SMU7_Discrete_MemoryLevel           MemoryLevel             [SMU7_MAX_LEVELS_MEMORY];\n    SMU7_Discrete_LinkLevel             LinkLevel               [SMU7_MAX_LEVELS_LINK];\n    SMU7_Discrete_ACPILevel             ACPILevel;\n    SMU7_Discrete_UvdLevel              UvdLevel                [SMU7_MAX_LEVELS_UVD];\n    SMU7_Discrete_ExtClkLevel           VceLevel                [SMU7_MAX_LEVELS_VCE];\n    SMU7_Discrete_ExtClkLevel           AcpLevel                [SMU7_MAX_LEVELS_ACP];\n    SMU7_Discrete_ExtClkLevel           SamuLevel               [SMU7_MAX_LEVELS_SAMU];\n    SMU7_Discrete_Ulv                   Ulv;\n\n    uint32_t                            SclkStepSize;\n    uint32_t                            Smio                    [SMU7_MAX_ENTRIES_SMIO];\n\n    uint8_t                             UvdBootLevel;\n    uint8_t                             VceBootLevel;\n    uint8_t                             AcpBootLevel;\n    uint8_t                             SamuBootLevel;\n\n    uint8_t                             UVDInterval;\n    uint8_t                             VCEInterval;\n    uint8_t                             ACPInterval;\n    uint8_t                             SAMUInterval;\n\n    uint8_t                             GraphicsBootLevel;\n    uint8_t                             GraphicsVoltageChangeEnable;\n    uint8_t                             GraphicsThermThrottleEnable;\n    uint8_t                             GraphicsInterval;\n\n    uint8_t                             VoltageInterval;\n    uint8_t                             ThermalInterval;\n    uint16_t                            TemperatureLimitHigh;\n\n    uint16_t                            TemperatureLimitLow;\n    uint8_t                             MemoryBootLevel;\n    uint8_t                             MemoryVoltageChangeEnable;\n\n    uint8_t                             MemoryInterval;\n    uint8_t                             MemoryThermThrottleEnable;\n    uint16_t                            VddcVddciDelta;\n\n    uint16_t                            VoltageResponseTime;\n    uint16_t                            PhaseResponseTime;\n\n    uint8_t                             PCIeBootLinkLevel;\n    uint8_t                             PCIeGenInterval;\n    uint8_t                             DTEInterval;\n    uint8_t                             DTEMode;\n\n    uint8_t                             SVI2Enable;\n    uint8_t                             VRHotGpio;\n    uint8_t                             AcDcGpio;\n    uint8_t                             ThermGpio;\n\n    uint16_t                            PPM_PkgPwrLimit;\n    uint16_t                            PPM_TemperatureLimit;\n\n    uint16_t                            DefaultTdp;\n    uint16_t                            TargetTdp;\n\n    uint16_t                            FpsHighT;\n    uint16_t                            FpsLowT;\n\n    uint16_t                            BAPMTI_R  [SMU7_DTE_ITERATIONS][SMU7_DTE_SOURCES][SMU7_DTE_SINKS];\n    uint16_t                            BAPMTI_RC [SMU7_DTE_ITERATIONS][SMU7_DTE_SOURCES][SMU7_DTE_SINKS];\n\n    uint8_t                             DTEAmbientTempBase;\n    uint8_t                             DTETjOffset;\n    uint8_t                             GpuTjMax;\n    uint8_t                             GpuTjHyst;\n\n    uint16_t                            BootVddc;\n    uint16_t                            BootVddci;\n\n    uint16_t                            BootMVdd;\n    uint16_t                            padding;\n\n    uint32_t                            BAPM_TEMP_GRADIENT;\n\n    uint32_t                            LowSclkInterruptT;\n};\n\ntypedef struct SMU7_Discrete_DpmTable SMU7_Discrete_DpmTable;\n\n#define SMU7_DISCRETE_MC_REGISTER_ARRAY_SIZE 16\n#define SMU7_DISCRETE_MC_REGISTER_ARRAY_SET_COUNT SMU7_MAX_LEVELS_MEMORY\n\nstruct SMU7_Discrete_MCRegisterAddress\n{\n    uint16_t s0;\n    uint16_t s1;\n};\n\ntypedef struct SMU7_Discrete_MCRegisterAddress SMU7_Discrete_MCRegisterAddress;\n\nstruct SMU7_Discrete_MCRegisterSet\n{\n    uint32_t value[SMU7_DISCRETE_MC_REGISTER_ARRAY_SIZE];\n};\n\ntypedef struct SMU7_Discrete_MCRegisterSet SMU7_Discrete_MCRegisterSet;\n\nstruct SMU7_Discrete_MCRegisters\n{\n    uint8_t                             last;\n    uint8_t                             reserved[3];\n    SMU7_Discrete_MCRegisterAddress     address[SMU7_DISCRETE_MC_REGISTER_ARRAY_SIZE];\n    SMU7_Discrete_MCRegisterSet         data[SMU7_DISCRETE_MC_REGISTER_ARRAY_SET_COUNT];\n};\n\ntypedef struct SMU7_Discrete_MCRegisters SMU7_Discrete_MCRegisters;\n\nstruct SMU7_Discrete_FanTable\n{\n\tuint16_t FdoMode;\n\tint16_t  TempMin;\n\tint16_t  TempMed;\n\tint16_t  TempMax;\n\tint16_t  Slope1;\n\tint16_t  Slope2;\n\tint16_t  FdoMin;\n\tint16_t  HystUp;\n\tint16_t  HystDown;\n\tint16_t  HystSlope;\n\tint16_t  TempRespLim;\n\tint16_t  TempCurr;\n\tint16_t  SlopeCurr;\n\tint16_t  PwmCurr;\n\tuint32_t RefreshPeriod;\n\tint16_t  FdoMax;\n\tuint8_t  TempSrc;\n\tint8_t   Padding;\n};\n\ntypedef struct SMU7_Discrete_FanTable SMU7_Discrete_FanTable;\n\n\nstruct SMU7_Discrete_PmFuses {\n  \n  uint8_t BapmVddCVidHiSidd[8];\n\n  \n  uint8_t BapmVddCVidLoSidd[8];\n\n  \n  uint8_t VddCVid[8];\n\n  \n  uint8_t SviLoadLineEn;\n  uint8_t SviLoadLineVddC;\n  uint8_t SviLoadLineTrimVddC;\n  uint8_t SviLoadLineOffsetVddC;\n\n  \n  uint16_t TDC_VDDC_PkgLimit;\n  uint8_t TDC_VDDC_ThrottleReleaseLimitPerc;\n  uint8_t TDC_MAWt;\n\n  \n  uint8_t TdcWaterfallCtl;\n  uint8_t LPMLTemperatureMin;\n  uint8_t LPMLTemperatureMax;\n  uint8_t Reserved;\n\n  \n  uint8_t BapmVddCVidHiSidd2[8];\n\n  \n  int16_t FuzzyFan_ErrorSetDelta;\n  int16_t FuzzyFan_ErrorRateSetDelta;\n  int16_t FuzzyFan_PwmSetDelta;\n  uint16_t CalcMeasPowerBlend;\n\n  \n  uint8_t GnbLPML[16];\n\n  \n  uint8_t GnbLPMLMaxVid;\n  uint8_t GnbLPMLMinVid;\n  uint8_t Reserved1[2];\n\n  \n  uint16_t BapmVddCBaseLeakageHiSidd;\n  uint16_t BapmVddCBaseLeakageLoSidd;\n};\n\ntypedef struct SMU7_Discrete_PmFuses SMU7_Discrete_PmFuses;\n\n\n#pragma pack(pop)\n\n#endif\n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}