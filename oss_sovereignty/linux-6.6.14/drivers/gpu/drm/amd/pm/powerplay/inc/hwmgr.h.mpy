{
  "module_name": "hwmgr.h",
  "hash_id": "cd1aa8f1c37d6b23bda299dc0813885d17da2cf6a063c0b98b01bbf277063a9a",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/pm/powerplay/inc/hwmgr.h",
  "human_readable_source": " \n#ifndef _HWMGR_H_\n#define _HWMGR_H_\n\n#include <linux/seq_file.h>\n#include \"amd_powerplay.h\"\n#include \"hardwaremanager.h\"\n#include \"hwmgr_ppt.h\"\n#include \"ppatomctrl.h\"\n#include \"power_state.h\"\n#include \"smu_helper.h\"\n\nstruct pp_hwmgr;\nstruct phm_fan_speed_info;\nstruct pp_atomctrl_voltage_table;\n\n#define VOLTAGE_SCALE 4\n#define VOLTAGE_VID_OFFSET_SCALE1   625\n#define VOLTAGE_VID_OFFSET_SCALE2   100\n\nenum DISPLAY_GAP {\n\tDISPLAY_GAP_VBLANK_OR_WM = 0,    \n\tDISPLAY_GAP_VBLANK       = 1,    \n\tDISPLAY_GAP_WATERMARK    = 2,    \n\tDISPLAY_GAP_IGNORE       = 3     \n};\ntypedef enum DISPLAY_GAP DISPLAY_GAP;\n\nenum BACO_STATE {\n\tBACO_STATE_OUT = 0,\n\tBACO_STATE_IN,\n};\n\nstruct vi_dpm_level {\n\tbool enabled;\n\tuint32_t value;\n\tuint32_t param1;\n};\n\nstruct vi_dpm_table {\n\tuint32_t count;\n\tstruct vi_dpm_level dpm_level[];\n};\n\n#define PCIE_PERF_REQ_REMOVE_REGISTRY   0\n#define PCIE_PERF_REQ_FORCE_LOWPOWER    1\n#define PCIE_PERF_REQ_GEN1         2\n#define PCIE_PERF_REQ_GEN2         3\n#define PCIE_PERF_REQ_GEN3         4\n\nenum PHM_BackEnd_Magic {\n\tPHM_Dummy_Magic       = 0xAA5555AA,\n\tPHM_RV770_Magic       = 0xDCBAABCD,\n\tPHM_Kong_Magic        = 0x239478DF,\n\tPHM_NIslands_Magic    = 0x736C494E,\n\tPHM_Sumo_Magic        = 0x8339FA11,\n\tPHM_SIslands_Magic    = 0x369431AC,\n\tPHM_Trinity_Magic     = 0x96751873,\n\tPHM_CIslands_Magic    = 0x38AC78B0,\n\tPHM_Kv_Magic          = 0xDCBBABC0,\n\tPHM_VIslands_Magic    = 0x20130307,\n\tPHM_Cz_Magic          = 0x67DCBA25,\n\tPHM_Rv_Magic          = 0x20161121\n};\n\nstruct phm_set_power_state_input {\n\tconst struct pp_hw_power_state *pcurrent_state;\n\tconst struct pp_hw_power_state *pnew_state;\n};\n\nstruct phm_clock_array {\n\tuint32_t count;\n\tuint32_t values[];\n};\n\nstruct phm_clock_voltage_dependency_record {\n\tuint32_t clk;\n\tuint32_t v;\n};\n\nstruct phm_vceclock_voltage_dependency_record {\n\tuint32_t ecclk;\n\tuint32_t evclk;\n\tuint32_t v;\n};\n\nstruct phm_uvdclock_voltage_dependency_record {\n\tuint32_t vclk;\n\tuint32_t dclk;\n\tuint32_t v;\n};\n\nstruct phm_samuclock_voltage_dependency_record {\n\tuint32_t samclk;\n\tuint32_t v;\n};\n\nstruct phm_acpclock_voltage_dependency_record {\n\tuint32_t acpclk;\n\tuint32_t v;\n};\n\nstruct phm_clock_voltage_dependency_table {\n\tuint32_t count;\t\t\t\t\t\t\t \n\tstruct phm_clock_voltage_dependency_record entries[];\t\t \n};\n\nstruct phm_phase_shedding_limits_record {\n\tuint32_t  Voltage;\n\tuint32_t    Sclk;\n\tuint32_t    Mclk;\n};\n\nstruct phm_uvd_clock_voltage_dependency_record {\n\tuint32_t vclk;\n\tuint32_t dclk;\n\tuint32_t v;\n};\n\nstruct phm_uvd_clock_voltage_dependency_table {\n\tuint8_t count;\n\tstruct phm_uvd_clock_voltage_dependency_record entries[];\n};\n\nstruct phm_acp_clock_voltage_dependency_record {\n\tuint32_t acpclk;\n\tuint32_t v;\n};\n\nstruct phm_acp_clock_voltage_dependency_table {\n\tuint32_t count;\n\tstruct phm_acp_clock_voltage_dependency_record entries[];\n};\n\nstruct phm_vce_clock_voltage_dependency_record {\n\tuint32_t ecclk;\n\tuint32_t evclk;\n\tuint32_t v;\n};\n\nstruct phm_phase_shedding_limits_table {\n\tuint32_t                           count;\n\tstruct phm_phase_shedding_limits_record  entries[];\n};\n\nstruct phm_vceclock_voltage_dependency_table {\n\tuint8_t count;                                     \n\tstruct phm_vceclock_voltage_dependency_record entries[1];  \n};\n\nstruct phm_uvdclock_voltage_dependency_table {\n\tuint8_t count;                                     \n\tstruct phm_uvdclock_voltage_dependency_record entries[1];  \n};\n\nstruct phm_samuclock_voltage_dependency_table {\n\tuint8_t count;                                     \n\tstruct phm_samuclock_voltage_dependency_record entries[1];  \n};\n\nstruct phm_acpclock_voltage_dependency_table {\n\tuint32_t count;                                     \n\tstruct phm_acpclock_voltage_dependency_record entries[1];  \n};\n\nstruct phm_vce_clock_voltage_dependency_table {\n\tuint8_t count;\n\tstruct phm_vce_clock_voltage_dependency_record entries[];\n};\n\n\nenum SMU_ASIC_RESET_MODE {\n    SMU_ASIC_RESET_MODE_0,\n    SMU_ASIC_RESET_MODE_1,\n    SMU_ASIC_RESET_MODE_2,\n};\n\nstruct pp_smumgr_func {\n\tchar *name;\n\tint (*smu_init)(struct pp_hwmgr  *hwmgr);\n\tint (*smu_fini)(struct pp_hwmgr  *hwmgr);\n\tint (*start_smu)(struct pp_hwmgr  *hwmgr);\n\tint (*check_fw_load_finish)(struct pp_hwmgr  *hwmgr,\n\t\t\t\t    uint32_t firmware);\n\tint (*request_smu_load_fw)(struct pp_hwmgr  *hwmgr);\n\tint (*request_smu_load_specific_fw)(struct pp_hwmgr  *hwmgr,\n\t\t\t\t\t    uint32_t firmware);\n\tuint32_t (*get_argument)(struct pp_hwmgr  *hwmgr);\n\tint (*send_msg_to_smc)(struct pp_hwmgr  *hwmgr, uint16_t msg);\n\tint (*send_msg_to_smc_with_parameter)(struct pp_hwmgr  *hwmgr,\n\t\t\t\t\t  uint16_t msg, uint32_t parameter);\n\tint (*download_pptable_settings)(struct pp_hwmgr  *hwmgr,\n\t\t\t\t\t void **table);\n\tint (*upload_pptable_settings)(struct pp_hwmgr  *hwmgr);\n\tint (*update_smc_table)(struct pp_hwmgr *hwmgr, uint32_t type);\n\tint (*process_firmware_header)(struct pp_hwmgr *hwmgr);\n\tint (*update_sclk_threshold)(struct pp_hwmgr *hwmgr);\n\tint (*thermal_setup_fan_table)(struct pp_hwmgr *hwmgr);\n\tint (*thermal_avfs_enable)(struct pp_hwmgr *hwmgr);\n\tint (*init_smc_table)(struct pp_hwmgr *hwmgr);\n\tint (*populate_all_graphic_levels)(struct pp_hwmgr *hwmgr);\n\tint (*populate_all_memory_levels)(struct pp_hwmgr *hwmgr);\n\tint (*initialize_mc_reg_table)(struct pp_hwmgr *hwmgr);\n\tuint32_t (*get_offsetof)(uint32_t type, uint32_t member);\n\tuint32_t (*get_mac_definition)(uint32_t value);\n\tbool (*is_dpm_running)(struct pp_hwmgr *hwmgr);\n\tbool (*is_hw_avfs_present)(struct pp_hwmgr  *hwmgr);\n\tint (*update_dpm_settings)(struct pp_hwmgr *hwmgr, void *profile_setting);\n\tint (*smc_table_manager)(struct pp_hwmgr *hwmgr, uint8_t *table, uint16_t table_id, bool rw);  \n\tint (*stop_smc)(struct pp_hwmgr *hwmgr);\n};\n\nstruct pp_hwmgr_func {\n\tint (*backend_init)(struct pp_hwmgr *hw_mgr);\n\tint (*backend_fini)(struct pp_hwmgr *hw_mgr);\n\tint (*asic_setup)(struct pp_hwmgr *hw_mgr);\n\tint (*get_power_state_size)(struct pp_hwmgr *hw_mgr);\n\n\tint (*apply_state_adjust_rules)(struct pp_hwmgr *hwmgr,\n\t\t\t\tstruct pp_power_state  *prequest_ps,\n\t\t\tconst struct pp_power_state *pcurrent_ps);\n\n\tint (*apply_clocks_adjust_rules)(struct pp_hwmgr *hwmgr);\n\n\tint (*force_dpm_level)(struct pp_hwmgr *hw_mgr,\n\t\t\t\t\tenum amd_dpm_forced_level level);\n\n\tint (*dynamic_state_management_enable)(\n\t\t\t\t\t\tstruct pp_hwmgr *hw_mgr);\n\tint (*dynamic_state_management_disable)(\n\t\t\t\t\t\tstruct pp_hwmgr *hw_mgr);\n\n\tint (*patch_boot_state)(struct pp_hwmgr *hwmgr,\n\t\t\t\t     struct pp_hw_power_state *hw_ps);\n\n\tint (*get_pp_table_entry)(struct pp_hwmgr *hwmgr,\n\t\t\t    unsigned long, struct pp_power_state *);\n\tint (*get_num_of_pp_table_entries)(struct pp_hwmgr *hwmgr);\n\tint (*powerdown_uvd)(struct pp_hwmgr *hwmgr);\n\tvoid (*powergate_vce)(struct pp_hwmgr *hwmgr, bool bgate);\n\tvoid (*powergate_uvd)(struct pp_hwmgr *hwmgr, bool bgate);\n\tvoid (*powergate_acp)(struct pp_hwmgr *hwmgr, bool bgate);\n\tuint32_t (*get_mclk)(struct pp_hwmgr *hwmgr, bool low);\n\tuint32_t (*get_sclk)(struct pp_hwmgr *hwmgr, bool low);\n\tint (*power_state_set)(struct pp_hwmgr *hwmgr,\n\t\t\t\t\t\tconst void *state);\n\tint (*notify_smc_display_config_after_ps_adjustment)(struct pp_hwmgr *hwmgr);\n\tint (*pre_display_config_changed)(struct pp_hwmgr *hwmgr);\n\tint (*display_config_changed)(struct pp_hwmgr *hwmgr);\n\tint (*disable_clock_power_gating)(struct pp_hwmgr *hwmgr);\n\tint (*update_clock_gatings)(struct pp_hwmgr *hwmgr,\n\t\t\t\t\t\tconst uint32_t *msg_id);\n\tint (*set_max_fan_rpm_output)(struct pp_hwmgr *hwmgr, uint16_t us_max_fan_pwm);\n\tint (*set_max_fan_pwm_output)(struct pp_hwmgr *hwmgr, uint16_t us_max_fan_pwm);\n\tint (*stop_thermal_controller)(struct pp_hwmgr *hwmgr);\n\tint (*get_fan_speed_info)(struct pp_hwmgr *hwmgr, struct phm_fan_speed_info *fan_speed_info);\n\tvoid (*set_fan_control_mode)(struct pp_hwmgr *hwmgr, uint32_t mode);\n\tuint32_t (*get_fan_control_mode)(struct pp_hwmgr *hwmgr);\n\tint (*set_fan_speed_pwm)(struct pp_hwmgr *hwmgr, uint32_t speed);\n\tint (*get_fan_speed_pwm)(struct pp_hwmgr *hwmgr, uint32_t *speed);\n\tint (*set_fan_speed_rpm)(struct pp_hwmgr *hwmgr, uint32_t speed);\n\tint (*get_fan_speed_rpm)(struct pp_hwmgr *hwmgr, uint32_t *speed);\n\tint (*reset_fan_speed_to_default)(struct pp_hwmgr *hwmgr);\n\tint (*uninitialize_thermal_controller)(struct pp_hwmgr *hwmgr);\n\tint (*register_irq_handlers)(struct pp_hwmgr *hwmgr);\n\tbool (*check_smc_update_required_for_display_configuration)(struct pp_hwmgr *hwmgr);\n\tint (*check_states_equal)(struct pp_hwmgr *hwmgr,\n\t\t\t\t\tconst struct pp_hw_power_state *pstate1,\n\t\t\t\t\tconst struct pp_hw_power_state *pstate2,\n\t\t\t\t\tbool *equal);\n\tint (*set_cpu_power_state)(struct pp_hwmgr *hwmgr);\n\tint (*store_cc6_data)(struct pp_hwmgr *hwmgr, uint32_t separation_time,\n\t\t\t\tbool cc6_disable, bool pstate_disable,\n\t\t\t\tbool pstate_switch_disable);\n\tint (*get_dal_power_level)(struct pp_hwmgr *hwmgr,\n\t\t\tstruct amd_pp_simple_clock_info *info);\n\tint (*get_performance_level)(struct pp_hwmgr *, const struct pp_hw_power_state *,\n\t\t\tPHM_PerformanceLevelDesignation, uint32_t, PHM_PerformanceLevel *);\n\tint (*get_current_shallow_sleep_clocks)(struct pp_hwmgr *hwmgr,\n\t\t\t\tconst struct pp_hw_power_state *state, struct pp_clock_info *clock_info);\n\tint (*get_clock_by_type)(struct pp_hwmgr *hwmgr, enum amd_pp_clock_type type, struct amd_pp_clocks *clocks);\n\tint (*get_clock_by_type_with_latency)(struct pp_hwmgr *hwmgr,\n\t\t\tenum amd_pp_clock_type type,\n\t\t\tstruct pp_clock_levels_with_latency *clocks);\n\tint (*get_clock_by_type_with_voltage)(struct pp_hwmgr *hwmgr,\n\t\t\tenum amd_pp_clock_type type,\n\t\t\tstruct pp_clock_levels_with_voltage *clocks);\n\tint (*set_watermarks_for_clocks_ranges)(struct pp_hwmgr *hwmgr, void *clock_ranges);\n\tint (*display_clock_voltage_request)(struct pp_hwmgr *hwmgr,\n\t\t\tstruct pp_display_clock_request *clock);\n\tint (*get_max_high_clocks)(struct pp_hwmgr *hwmgr, struct amd_pp_simple_clock_info *clocks);\n\tint (*power_off_asic)(struct pp_hwmgr *hwmgr);\n\tint (*force_clock_level)(struct pp_hwmgr *hwmgr, enum pp_clock_type type, uint32_t mask);\n\tint (*emit_clock_levels)(struct pp_hwmgr *hwmgr,\n\t\t\t\t enum pp_clock_type type, char *buf, int *offset);\n\tint (*print_clock_levels)(struct pp_hwmgr *hwmgr, enum pp_clock_type type, char *buf);\n\tint (*powergate_gfx)(struct pp_hwmgr *hwmgr, bool enable);\n\tint (*get_sclk_od)(struct pp_hwmgr *hwmgr);\n\tint (*set_sclk_od)(struct pp_hwmgr *hwmgr, uint32_t value);\n\tint (*get_mclk_od)(struct pp_hwmgr *hwmgr);\n\tint (*set_mclk_od)(struct pp_hwmgr *hwmgr, uint32_t value);\n\tint (*read_sensor)(struct pp_hwmgr *hwmgr, int idx, void *value, int *size);\n\tint (*avfs_control)(struct pp_hwmgr *hwmgr, bool enable);\n\tint (*disable_smc_firmware_ctf)(struct pp_hwmgr *hwmgr);\n\tint (*set_active_display_count)(struct pp_hwmgr *hwmgr, uint32_t count);\n\tint (*set_min_deep_sleep_dcefclk)(struct pp_hwmgr *hwmgr, uint32_t clock);\n\tint (*start_thermal_controller)(struct pp_hwmgr *hwmgr, struct PP_TemperatureRange *range);\n\tint (*notify_cac_buffer_info)(struct pp_hwmgr *hwmgr,\n\t\t\t\t\tuint32_t virtual_addr_low,\n\t\t\t\t\tuint32_t virtual_addr_hi,\n\t\t\t\t\tuint32_t mc_addr_low,\n\t\t\t\t\tuint32_t mc_addr_hi,\n\t\t\t\t\tuint32_t size);\n\tint (*get_thermal_temperature_range)(struct pp_hwmgr *hwmgr,\n\t\t\t\t\tstruct PP_TemperatureRange *range);\n\tint (*get_power_profile_mode)(struct pp_hwmgr *hwmgr, char *buf);\n\tint (*set_power_profile_mode)(struct pp_hwmgr *hwmgr, long *input, uint32_t size);\n\tint (*odn_edit_dpm_table)(struct pp_hwmgr *hwmgr,\n\t\t\t\t\tenum PP_OD_DPM_TABLE_COMMAND type,\n\t\t\t\t\tlong *input, uint32_t size);\n\tint (*set_fine_grain_clk_vol)(struct pp_hwmgr *hwmgr,\n\t\t\t\t      enum PP_OD_DPM_TABLE_COMMAND type,\n\t\t\t\t      long *input, uint32_t size);\n\tint (*set_power_limit)(struct pp_hwmgr *hwmgr, uint32_t n);\n\tint (*powergate_mmhub)(struct pp_hwmgr *hwmgr);\n\tint (*smus_notify_pwe)(struct pp_hwmgr *hwmgr);\n\tint (*powergate_sdma)(struct pp_hwmgr *hwmgr, bool bgate);\n\tint (*enable_mgpu_fan_boost)(struct pp_hwmgr *hwmgr);\n\tint (*set_hard_min_dcefclk_by_freq)(struct pp_hwmgr *hwmgr, uint32_t clock);\n\tint (*set_hard_min_fclk_by_freq)(struct pp_hwmgr *hwmgr, uint32_t clock);\n\tint (*set_hard_min_gfxclk_by_freq)(struct pp_hwmgr *hwmgr, uint32_t clock);\n\tint (*set_soft_max_gfxclk_by_freq)(struct pp_hwmgr *hwmgr, uint32_t clock);\n\tint (*get_asic_baco_capability)(struct pp_hwmgr *hwmgr, bool *cap);\n\tint (*get_asic_baco_state)(struct pp_hwmgr *hwmgr, enum BACO_STATE *state);\n\tint (*set_asic_baco_state)(struct pp_hwmgr *hwmgr, enum BACO_STATE state);\n\tint (*get_ppfeature_status)(struct pp_hwmgr *hwmgr, char *buf);\n\tint (*set_ppfeature_status)(struct pp_hwmgr *hwmgr, uint64_t ppfeature_masks);\n\tint (*set_mp1_state)(struct pp_hwmgr *hwmgr, enum pp_mp1_state mp1_state);\n\tint (*asic_reset)(struct pp_hwmgr *hwmgr, enum SMU_ASIC_RESET_MODE mode);\n\tint (*smu_i2c_bus_access)(struct pp_hwmgr *hwmgr, bool acquire);\n\tint (*set_df_cstate)(struct pp_hwmgr *hwmgr, enum pp_df_cstate state);\n\tint (*set_xgmi_pstate)(struct pp_hwmgr *hwmgr, uint32_t pstate);\n\tint (*disable_power_features_for_compute_performance)(struct pp_hwmgr *hwmgr,\n\t\t\t\t\tbool disable);\n\tssize_t (*get_gpu_metrics)(struct pp_hwmgr *hwmgr, void **table);\n\tint (*gfx_state_change)(struct pp_hwmgr *hwmgr, uint32_t state);\n};\n\nstruct pp_table_func {\n\tint (*pptable_init)(struct pp_hwmgr *hw_mgr);\n\tint (*pptable_fini)(struct pp_hwmgr *hw_mgr);\n\tint (*pptable_get_number_of_vce_state_table_entries)(struct pp_hwmgr *hw_mgr);\n\tint (*pptable_get_vce_state_table_entry)(\n\t\t\t\t\t\tstruct pp_hwmgr *hwmgr,\n\t\t\t\t\t\tunsigned long i,\n\t\t\t\t\t\tstruct amd_vce_state *vce_state,\n\t\t\t\t\t\tvoid **clock_info,\n\t\t\t\t\t\tunsigned long *flag);\n};\n\nunion phm_cac_leakage_record {\n\tstruct {\n\t\tuint16_t Vddc;           \n\t\tuint32_t Leakage;        \n\t};\n\tstruct {\n\t\tuint16_t Vddc1;\n\t\tuint16_t Vddc2;\n\t\tuint16_t Vddc3;\n\t};\n};\n\nstruct phm_cac_leakage_table {\n\tuint32_t count;\n\tunion phm_cac_leakage_record entries[];\n};\n\nstruct phm_samu_clock_voltage_dependency_record {\n\tuint32_t samclk;\n\tuint32_t v;\n};\n\n\nstruct phm_samu_clock_voltage_dependency_table {\n\tuint8_t count;\n\tstruct phm_samu_clock_voltage_dependency_record entries[];\n};\n\nstruct phm_cac_tdp_table {\n\tuint16_t usTDP;\n\tuint16_t usConfigurableTDP;\n\tuint16_t usTDC;\n\tuint16_t usBatteryPowerLimit;\n\tuint16_t usSmallPowerLimit;\n\tuint16_t usLowCACLeakage;\n\tuint16_t usHighCACLeakage;\n\tuint16_t usMaximumPowerDeliveryLimit;\n\tuint16_t usEDCLimit;\n\tuint16_t usOperatingTempMinLimit;\n\tuint16_t usOperatingTempMaxLimit;\n\tuint16_t usOperatingTempStep;\n\tuint16_t usOperatingTempHyst;\n\tuint16_t usDefaultTargetOperatingTemp;\n\tuint16_t usTargetOperatingTemp;\n\tuint16_t usPowerTuneDataSetID;\n\tuint16_t usSoftwareShutdownTemp;\n\tuint16_t usClockStretchAmount;\n\tuint16_t usTemperatureLimitHotspot;\n\tuint16_t usTemperatureLimitLiquid1;\n\tuint16_t usTemperatureLimitLiquid2;\n\tuint16_t usTemperatureLimitVrVddc;\n\tuint16_t usTemperatureLimitVrMvdd;\n\tuint16_t usTemperatureLimitPlx;\n\tuint8_t  ucLiquid1_I2C_address;\n\tuint8_t  ucLiquid2_I2C_address;\n\tuint8_t  ucLiquid_I2C_Line;\n\tuint8_t  ucVr_I2C_address;\n\tuint8_t  ucVr_I2C_Line;\n\tuint8_t  ucPlx_I2C_address;\n\tuint8_t  ucPlx_I2C_Line;\n\tuint32_t usBoostPowerLimit;\n\tuint8_t  ucCKS_LDO_REFSEL;\n\tuint8_t  ucHotSpotOnly;\n};\n\nstruct phm_tdp_table {\n\tuint16_t usTDP;\n\tuint16_t usConfigurableTDP;\n\tuint16_t usTDC;\n\tuint16_t usBatteryPowerLimit;\n\tuint16_t usSmallPowerLimit;\n\tuint16_t usLowCACLeakage;\n\tuint16_t usHighCACLeakage;\n\tuint16_t usMaximumPowerDeliveryLimit;\n\tuint16_t usEDCLimit;\n\tuint16_t usOperatingTempMinLimit;\n\tuint16_t usOperatingTempMaxLimit;\n\tuint16_t usOperatingTempStep;\n\tuint16_t usOperatingTempHyst;\n\tuint16_t usDefaultTargetOperatingTemp;\n\tuint16_t usTargetOperatingTemp;\n\tuint16_t usPowerTuneDataSetID;\n\tuint16_t usSoftwareShutdownTemp;\n\tuint16_t usClockStretchAmount;\n\tuint16_t usTemperatureLimitTedge;\n\tuint16_t usTemperatureLimitHotspot;\n\tuint16_t usTemperatureLimitLiquid1;\n\tuint16_t usTemperatureLimitLiquid2;\n\tuint16_t usTemperatureLimitHBM;\n\tuint16_t usTemperatureLimitVrVddc;\n\tuint16_t usTemperatureLimitVrMvdd;\n\tuint16_t usTemperatureLimitPlx;\n\tuint8_t  ucLiquid1_I2C_address;\n\tuint8_t  ucLiquid2_I2C_address;\n\tuint8_t  ucLiquid_I2C_Line;\n\tuint8_t  ucVr_I2C_address;\n\tuint8_t  ucVr_I2C_Line;\n\tuint8_t  ucPlx_I2C_address;\n\tuint8_t  ucPlx_I2C_Line;\n\tuint8_t  ucLiquid_I2C_LineSDA;\n\tuint8_t  ucVr_I2C_LineSDA;\n\tuint8_t  ucPlx_I2C_LineSDA;\n\tuint32_t usBoostPowerLimit;\n\tuint16_t usBoostStartTemperature;\n\tuint16_t usBoostStopTemperature;\n\tuint32_t  ulBoostClock;\n};\n\nstruct phm_ppm_table {\n\tuint8_t   ppm_design;\n\tuint16_t  cpu_core_number;\n\tuint32_t  platform_tdp;\n\tuint32_t  small_ac_platform_tdp;\n\tuint32_t  platform_tdc;\n\tuint32_t  small_ac_platform_tdc;\n\tuint32_t  apu_tdp;\n\tuint32_t  dgpu_tdp;\n\tuint32_t  dgpu_ulv_power;\n\tuint32_t  tj_max;\n};\n\nstruct phm_vq_budgeting_record {\n\tuint32_t ulCUs;\n\tuint32_t ulSustainableSOCPowerLimitLow;\n\tuint32_t ulSustainableSOCPowerLimitHigh;\n\tuint32_t ulMinSclkLow;\n\tuint32_t ulMinSclkHigh;\n\tuint8_t  ucDispConfig;\n\tuint32_t ulDClk;\n\tuint32_t ulEClk;\n\tuint32_t ulSustainableSclk;\n\tuint32_t ulSustainableCUs;\n};\n\nstruct phm_vq_budgeting_table {\n\tuint8_t numEntries;\n\tstruct phm_vq_budgeting_record entries[0];\n};\n\nstruct phm_clock_and_voltage_limits {\n\tuint32_t sclk;\n\tuint32_t mclk;\n\tuint32_t gfxclk;\n\tuint16_t vddc;\n\tuint16_t vddci;\n\tuint16_t vddgfx;\n\tuint16_t vddmem;\n};\n\n \n\nstruct phm_ppt_v1_information {\n\tstruct phm_ppt_v1_clock_voltage_dependency_table *vdd_dep_on_sclk;\n\tstruct phm_ppt_v1_clock_voltage_dependency_table *vdd_dep_on_mclk;\n\tstruct phm_ppt_v1_clock_voltage_dependency_table *vdd_dep_on_socclk;\n\tstruct phm_ppt_v1_clock_voltage_dependency_table *vdd_dep_on_dcefclk;\n\tstruct phm_clock_array *valid_sclk_values;\n\tstruct phm_clock_array *valid_mclk_values;\n\tstruct phm_clock_array *valid_socclk_values;\n\tstruct phm_clock_array *valid_dcefclk_values;\n\tstruct phm_clock_and_voltage_limits max_clock_voltage_on_dc;\n\tstruct phm_clock_and_voltage_limits max_clock_voltage_on_ac;\n\tstruct phm_clock_voltage_dependency_table *vddc_dep_on_dal_pwrl;\n\tstruct phm_ppm_table *ppm_parameter_table;\n\tstruct phm_cac_tdp_table *cac_dtp_table;\n\tstruct phm_tdp_table *tdp_table;\n\tstruct phm_ppt_v1_mm_clock_voltage_dependency_table *mm_dep_table;\n\tstruct phm_ppt_v1_voltage_lookup_table *vddc_lookup_table;\n\tstruct phm_ppt_v1_voltage_lookup_table *vddgfx_lookup_table;\n\tstruct phm_ppt_v1_voltage_lookup_table *vddmem_lookup_table;\n\tstruct phm_ppt_v1_pcie_table *pcie_table;\n\tstruct phm_ppt_v1_gpio_table *gpio_table;\n\tuint16_t us_ulv_voltage_offset;\n\tuint16_t us_ulv_smnclk_did;\n\tuint16_t us_ulv_mp1clk_did;\n\tuint16_t us_ulv_gfxclk_bypass;\n\tuint16_t us_gfxclk_slew_rate;\n\tuint16_t us_min_gfxclk_freq_limit;\n};\n\nstruct phm_ppt_v2_information {\n\tstruct phm_ppt_v1_clock_voltage_dependency_table *vdd_dep_on_sclk;\n\tstruct phm_ppt_v1_clock_voltage_dependency_table *vdd_dep_on_mclk;\n\tstruct phm_ppt_v1_clock_voltage_dependency_table *vdd_dep_on_socclk;\n\tstruct phm_ppt_v1_clock_voltage_dependency_table *vdd_dep_on_dcefclk;\n\tstruct phm_ppt_v1_clock_voltage_dependency_table *vdd_dep_on_pixclk;\n\tstruct phm_ppt_v1_clock_voltage_dependency_table *vdd_dep_on_dispclk;\n\tstruct phm_ppt_v1_clock_voltage_dependency_table *vdd_dep_on_phyclk;\n\tstruct phm_ppt_v1_mm_clock_voltage_dependency_table *mm_dep_table;\n\n\tstruct phm_clock_voltage_dependency_table *vddc_dep_on_dalpwrl;\n\n\tstruct phm_clock_array *valid_sclk_values;\n\tstruct phm_clock_array *valid_mclk_values;\n\tstruct phm_clock_array *valid_socclk_values;\n\tstruct phm_clock_array *valid_dcefclk_values;\n\n\tstruct phm_clock_and_voltage_limits max_clock_voltage_on_dc;\n\tstruct phm_clock_and_voltage_limits max_clock_voltage_on_ac;\n\n\tstruct phm_ppm_table *ppm_parameter_table;\n\tstruct phm_cac_tdp_table *cac_dtp_table;\n\tstruct phm_tdp_table *tdp_table;\n\n\tstruct phm_ppt_v1_voltage_lookup_table *vddc_lookup_table;\n\tstruct phm_ppt_v1_voltage_lookup_table *vddgfx_lookup_table;\n\tstruct phm_ppt_v1_voltage_lookup_table *vddmem_lookup_table;\n\tstruct phm_ppt_v1_voltage_lookup_table *vddci_lookup_table;\n\n\tstruct phm_ppt_v1_pcie_table *pcie_table;\n\n\tuint16_t us_ulv_voltage_offset;\n\tuint16_t us_ulv_smnclk_did;\n\tuint16_t us_ulv_mp1clk_did;\n\tuint16_t us_ulv_gfxclk_bypass;\n\tuint16_t us_gfxclk_slew_rate;\n\tuint16_t us_min_gfxclk_freq_limit;\n\n\tuint8_t  uc_gfx_dpm_voltage_mode;\n\tuint8_t  uc_soc_dpm_voltage_mode;\n\tuint8_t  uc_uclk_dpm_voltage_mode;\n\tuint8_t  uc_uvd_dpm_voltage_mode;\n\tuint8_t  uc_vce_dpm_voltage_mode;\n\tuint8_t  uc_mp0_dpm_voltage_mode;\n\tuint8_t  uc_dcef_dpm_voltage_mode;\n};\n\nstruct phm_ppt_v3_information {\n\tuint8_t uc_thermal_controller_type;\n\n\tuint16_t us_small_power_limit1;\n\tuint16_t us_small_power_limit2;\n\tuint16_t us_boost_power_limit;\n\n\tuint16_t us_od_turbo_power_limit;\n\tuint16_t us_od_powersave_power_limit;\n\tuint16_t us_software_shutdown_temp;\n\n\tuint32_t *power_saving_clock_max;\n\tuint32_t *power_saving_clock_min;\n\n\tuint8_t *od_feature_capabilities;\n\tuint32_t *od_settings_max;\n\tuint32_t *od_settings_min;\n\n\tvoid *smc_pptable;\n};\n\nstruct phm_dynamic_state_info {\n\tstruct phm_clock_voltage_dependency_table *vddc_dependency_on_sclk;\n\tstruct phm_clock_voltage_dependency_table *vddci_dependency_on_mclk;\n\tstruct phm_clock_voltage_dependency_table *vddc_dependency_on_mclk;\n\tstruct phm_clock_voltage_dependency_table *mvdd_dependency_on_mclk;\n\tstruct phm_clock_voltage_dependency_table *vddc_dep_on_dal_pwrl;\n\tstruct phm_clock_array                    *valid_sclk_values;\n\tstruct phm_clock_array                    *valid_mclk_values;\n\tstruct phm_clock_and_voltage_limits       max_clock_voltage_on_dc;\n\tstruct phm_clock_and_voltage_limits       max_clock_voltage_on_ac;\n\tuint32_t                                  mclk_sclk_ratio;\n\tuint32_t                                  sclk_mclk_delta;\n\tuint32_t                                  vddc_vddci_delta;\n\tuint32_t                                  min_vddc_for_pcie_gen2;\n\tstruct phm_cac_leakage_table              *cac_leakage_table;\n\tstruct phm_phase_shedding_limits_table  *vddc_phase_shed_limits_table;\n\n\tstruct phm_vce_clock_voltage_dependency_table\n\t\t\t\t\t    *vce_clock_voltage_dependency_table;\n\tstruct phm_uvd_clock_voltage_dependency_table\n\t\t\t\t\t    *uvd_clock_voltage_dependency_table;\n\tstruct phm_acp_clock_voltage_dependency_table\n\t\t\t\t\t    *acp_clock_voltage_dependency_table;\n\tstruct phm_samu_clock_voltage_dependency_table\n\t\t\t\t\t   *samu_clock_voltage_dependency_table;\n\n\tstruct phm_ppm_table                          *ppm_parameter_table;\n\tstruct phm_cac_tdp_table                      *cac_dtp_table;\n\tstruct phm_clock_voltage_dependency_table\t*vdd_gfx_dependency_on_sclk;\n};\n\nstruct pp_fan_info {\n\tbool bNoFan;\n\tuint8_t   ucTachometerPulsesPerRevolution;\n\tuint32_t   ulMinRPM;\n\tuint32_t   ulMaxRPM;\n};\n\nstruct pp_advance_fan_control_parameters {\n\tuint16_t  usTMin;                           \n\tuint16_t  usTMed;                           \n\tuint16_t  usTHigh;                          \n\tuint16_t  usPWMMin;                         \n\tuint16_t  usPWMMed;                         \n\tuint16_t  usPWMHigh;                        \n\tuint8_t   ucTHyst;                          \n\tuint32_t   ulCycleDelay;                    \n\tuint16_t  usTMax;                           \n\tuint8_t   ucFanControlMode;\n\tuint16_t  usFanPWMMinLimit;\n\tuint16_t  usFanPWMMaxLimit;\n\tuint16_t  usFanPWMStep;\n\tuint16_t  usDefaultMaxFanPWM;\n\tuint16_t  usFanOutputSensitivity;\n\tuint16_t  usDefaultFanOutputSensitivity;\n\tuint16_t  usMaxFanPWM;                      \n\tuint16_t  usFanRPMMinLimit;                 \n\tuint16_t  usFanRPMMaxLimit;                 \n\tuint16_t  usFanRPMStep;                     \n\tuint16_t  usDefaultMaxFanRPM;               \n\tuint16_t  usMaxFanRPM;                      \n\tuint16_t  usFanCurrentLow;                  \n\tuint16_t  usFanCurrentHigh;                 \n\tuint16_t  usFanRPMLow;                      \n\tuint16_t  usFanRPMHigh;                     \n\tuint32_t   ulMinFanSCLKAcousticLimit;       \n\tuint8_t   ucTargetTemperature;              \n\tuint8_t   ucMinimumPWMLimit;                \n\tuint16_t  usFanGainEdge;                    \n\tuint16_t  usFanGainHotspot;\n\tuint16_t  usFanGainLiquid;\n\tuint16_t  usFanGainVrVddc;\n\tuint16_t  usFanGainVrMvdd;\n\tuint16_t  usFanGainPlx;\n\tuint16_t  usFanGainHbm;\n\tuint8_t   ucEnableZeroRPM;\n\tuint8_t   ucFanStopTemperature;\n\tuint8_t   ucFanStartTemperature;\n\tuint32_t  ulMaxFanSCLKAcousticLimit;        \n\tuint32_t  ulTargetGfxClk;\n\tuint16_t  usZeroRPMStartTemperature;\n\tuint16_t  usZeroRPMStopTemperature;\n\tuint16_t  usMGpuThrottlingRPMLimit;\n};\n\nstruct pp_thermal_controller_info {\n\tuint8_t ucType;\n\tuint8_t ucI2cLine;\n\tuint8_t ucI2cAddress;\n\tuint8_t use_hw_fan_control;\n\tstruct pp_fan_info fanInfo;\n\tstruct pp_advance_fan_control_parameters advanceFanControlParameters;\n};\n\nstruct phm_microcode_version_info {\n\tuint32_t SMC;\n\tuint32_t DMCU;\n\tuint32_t MC;\n\tuint32_t NB;\n};\n\nenum PP_TABLE_VERSION {\n\tPP_TABLE_V0 = 0,\n\tPP_TABLE_V1,\n\tPP_TABLE_V2,\n\tPP_TABLE_MAX\n};\n\n \n#define Workload_Policy_Max 6\n\nstruct pp_hwmgr {\n\tvoid *adev;\n\tuint32_t chip_family;\n\tuint32_t chip_id;\n\tuint32_t smu_version;\n\tbool not_vf;\n\tbool pm_en;\n\tbool pp_one_vf;\n\tstruct mutex msg_lock;\n\n\tuint32_t pp_table_version;\n\tvoid *device;\n\tstruct pp_smumgr *smumgr;\n\tconst void *soft_pp_table;\n\tuint32_t soft_pp_table_size;\n\tvoid *hardcode_pp_table;\n\tbool need_pp_table_upload;\n\n\tstruct amd_vce_state vce_states[AMD_MAX_VCE_LEVELS];\n\tuint32_t num_vce_state_tables;\n\n\tenum amd_dpm_forced_level dpm_level;\n\tenum amd_dpm_forced_level saved_dpm_level;\n\tenum amd_dpm_forced_level request_dpm_level;\n\tuint32_t usec_timeout;\n\tvoid *pptable;\n\tstruct phm_platform_descriptor platform_descriptor;\n\tvoid *backend;\n\n\tvoid *smu_backend;\n\tconst struct pp_smumgr_func *smumgr_funcs;\n\tbool is_kicker;\n\n\tenum PP_DAL_POWERLEVEL dal_power_level;\n\tstruct phm_dynamic_state_info dyn_state;\n\tconst struct pp_hwmgr_func *hwmgr_func;\n\tconst struct pp_table_func *pptable_func;\n\n\tstruct pp_power_state    *ps;\n\tuint32_t num_ps;\n\tstruct pp_thermal_controller_info thermal_controller;\n\tbool fan_ctrl_is_in_default_mode;\n\tuint32_t fan_ctrl_default_mode;\n\tbool fan_ctrl_enabled;\n\tuint32_t tmin;\n\tstruct phm_microcode_version_info microcode_version_info;\n\tuint32_t ps_size;\n\tstruct pp_power_state    *current_ps;\n\tstruct pp_power_state    *request_ps;\n\tstruct pp_power_state    *boot_ps;\n\tstruct pp_power_state    *uvd_ps;\n\tconst struct amd_pp_display_configuration *display_config;\n\tuint32_t feature_mask;\n\tbool avfs_supported;\n\t \n\tbool en_umd_pstate;\n\tuint32_t power_profile_mode;\n\tuint32_t default_power_profile_mode;\n\tuint32_t pstate_sclk;\n\tuint32_t pstate_mclk;\n\tbool od_enabled;\n\tuint32_t power_limit;\n\tuint32_t default_power_limit;\n\tuint32_t workload_mask;\n\tuint32_t workload_prority[Workload_Policy_Max];\n\tuint32_t workload_setting[Workload_Policy_Max];\n\tbool gfxoff_state_changed_by_workload;\n\tuint32_t pstate_sclk_peak;\n\tuint32_t pstate_mclk_peak;\n\n\tstruct delayed_work swctf_delayed_work;\n};\n\nint hwmgr_early_init(struct pp_hwmgr *hwmgr);\nint hwmgr_sw_init(struct pp_hwmgr *hwmgr);\nint hwmgr_sw_fini(struct pp_hwmgr *hwmgr);\nint hwmgr_hw_init(struct pp_hwmgr *hwmgr);\nint hwmgr_hw_fini(struct pp_hwmgr *hwmgr);\nint hwmgr_suspend(struct pp_hwmgr *hwmgr);\nint hwmgr_resume(struct pp_hwmgr *hwmgr);\n\nint hwmgr_handle_task(struct pp_hwmgr *hwmgr,\n\t\t\t\tenum amd_pp_task task_id,\n\t\t\t\tenum amd_pm_state_type *user_state);\n\n\n#define PHM_ENTIRE_REGISTER_MASK 0xFFFFFFFFU\n\nint smu7_init_function_pointers(struct pp_hwmgr *hwmgr);\nint smu8_init_function_pointers(struct pp_hwmgr *hwmgr);\nint vega12_hwmgr_init(struct pp_hwmgr *hwmgr);\nint vega20_hwmgr_init(struct pp_hwmgr *hwmgr);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}