{
  "module_name": "smu8_hwmgr.h",
  "hash_id": "23c7ab4f56150904db6b8d36fbdf69a489dccc3496e6f843cd3f011c681f630c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/pm/powerplay/hwmgr/smu8_hwmgr.h",
  "human_readable_source": " \n\n#ifndef _SMU8_HWMGR_H_\n#define _SMU8_HWMGR_H_\n\n#include \"cgs_common.h\"\n#include \"ppatomctrl.h\"\n\n#define SMU8_NUM_NBPSTATES               4\n#define SMU8_NUM_NBPMEMORYCLOCK          2\n#define MAX_DISPLAY_CLOCK_LEVEL        8\n#define SMU8_MAX_HARDWARE_POWERLEVELS    8\n#define SMU8_VOTINGRIGHTSCLIENTS_DFLT0   0x3FFFC102\n#define SMU8_MIN_DEEP_SLEEP_SCLK         800\n\n \n#define DEVICE_ID_CZ_9870             0x9870\n#define DEVICE_ID_CZ_9874             0x9874\n#define DEVICE_ID_CZ_9875             0x9875\n#define DEVICE_ID_CZ_9876             0x9876\n#define DEVICE_ID_CZ_9877             0x9877\n\nstruct smu8_dpm_entry {\n\tuint32_t soft_min_clk;\n\tuint32_t hard_min_clk;\n\tuint32_t soft_max_clk;\n\tuint32_t hard_max_clk;\n};\n\nstruct smu8_sys_info {\n\tuint32_t bootup_uma_clock;\n\tuint32_t bootup_engine_clock;\n\tuint32_t dentist_vco_freq;\n\tuint32_t nb_dpm_enable;\n\tuint32_t nbp_memory_clock[SMU8_NUM_NBPMEMORYCLOCK];\n\tuint32_t nbp_n_clock[SMU8_NUM_NBPSTATES];\n\tuint16_t nbp_voltage_index[SMU8_NUM_NBPSTATES];\n\tuint32_t display_clock[MAX_DISPLAY_CLOCK_LEVEL];\n\tuint16_t bootup_nb_voltage_index;\n\tuint8_t htc_tmp_lmt;\n\tuint8_t htc_hyst_lmt;\n\tuint32_t system_config;\n\tuint32_t uma_channel_number;\n};\n\n#define MAX_DISPLAYPHY_IDS\t\t\t0x8\n#define DISPLAYPHY_LANEMASK\t\t\t0xF\n#define UNKNOWN_TRANSMITTER_PHY_ID\t\t(-1)\n\n#define DISPLAYPHY_PHYID_SHIFT\t\t\t24\n#define DISPLAYPHY_LANESELECT_SHIFT\t\t16\n\n#define DISPLAYPHY_RX_SELECT\t\t\t0x1\n#define DISPLAYPHY_TX_SELECT\t\t\t0x2\n#define DISPLAYPHY_CORE_SELECT\t\t\t0x4\n\n#define DDI_POWERGATING_ARG(phyID, lanemask, rx, tx, core) \\\n\t\t(((uint32_t)(phyID))<<DISPLAYPHY_PHYID_SHIFT | \\\n\t\t((uint32_t)(lanemask))<<DISPLAYPHY_LANESELECT_SHIFT | \\\n\t\t((rx) ? DISPLAYPHY_RX_SELECT : 0) | \\\n\t\t((tx) ? DISPLAYPHY_TX_SELECT : 0) | \\\n\t\t((core) ? DISPLAYPHY_CORE_SELECT : 0))\n\nstruct smu8_display_phy_info_entry {\n\tuint8_t phy_present;\n\tuint8_t active_lane_mapping;\n\tuint8_t display_config_type;\n\tuint8_t active_number_of_lanes;\n};\n\n#define SMU8_MAX_DISPLAYPHY_IDS\t\t\t10\n\nstruct smu8_display_phy_info {\n\tbool display_phy_access_initialized;\n\tstruct smu8_display_phy_info_entry entries[SMU8_MAX_DISPLAYPHY_IDS];\n};\n\nstruct smu8_power_level {\n\tuint32_t engineClock;\n\tuint8_t vddcIndex;\n\tuint8_t dsDividerIndex;\n\tuint8_t ssDividerIndex;\n\tuint8_t allowGnbSlow;\n\tuint8_t forceNBPstate;\n\tuint8_t display_wm;\n\tuint8_t vce_wm;\n\tuint8_t numSIMDToPowerDown;\n\tuint8_t hysteresis_up;\n\tuint8_t rsv[3];\n};\n\nstruct smu8_uvd_clocks {\n\tuint32_t vclk;\n\tuint32_t dclk;\n\tuint32_t vclk_low_divider;\n\tuint32_t vclk_high_divider;\n\tuint32_t dclk_low_divider;\n\tuint32_t dclk_high_divider;\n};\n\nenum smu8_pstate_previous_action {\n\tDO_NOTHING = 1,\n\tFORCE_HIGH,\n\tCANCEL_FORCE_HIGH\n};\n\nstruct pp_disable_nb_ps_flags {\n\tunion {\n\t\tstruct {\n\t\t\tuint32_t entry : 1;\n\t\t\tuint32_t display : 1;\n\t\t\tuint32_t driver: 1;\n\t\t\tuint32_t vce : 1;\n\t\t\tuint32_t uvd : 1;\n\t\t\tuint32_t acp : 1;\n\t\t\tuint32_t reserved: 26;\n\t\t} bits;\n\t\tuint32_t u32All;\n\t};\n};\n\nstruct smu8_power_state {\n\tunsigned int magic;\n\tuint32_t level;\n\tstruct smu8_uvd_clocks uvd_clocks;\n\tuint32_t evclk;\n\tuint32_t ecclk;\n\tuint32_t samclk;\n\tuint32_t acpclk;\n\tbool need_dfs_bypass;\n\tuint32_t nbps_flags;\n\tuint32_t bapm_flags;\n\tuint8_t dpm_0_pg_nb_ps_low;\n\tuint8_t dpm_0_pg_nb_ps_high;\n\tuint8_t dpm_x_nb_ps_low;\n\tuint8_t dpm_x_nb_ps_high;\n\tenum smu8_pstate_previous_action action;\n\tstruct smu8_power_level levels[SMU8_MAX_HARDWARE_POWERLEVELS];\n\tstruct pp_disable_nb_ps_flags disable_nb_ps_flag;\n};\n\n#define DPMFlags_SCLK_Enabled\t\t\t0x00000001\n#define DPMFlags_UVD_Enabled\t\t\t0x00000002\n#define DPMFlags_VCE_Enabled\t\t\t0x00000004\n#define DPMFlags_ACP_Enabled\t\t\t0x00000008\n#define DPMFlags_ForceHighestValid\t\t0x40000000\n#define DPMFlags_Debug\t\t\t\t0x80000000\n\n#define SMU_EnabledFeatureScoreboard_AcpDpmOn   0x00000001  \n#define SMU_EnabledFeatureScoreboard_UvdDpmOn   0x00800000  \n#define SMU_EnabledFeatureScoreboard_VceDpmOn   0x01000000  \n\nstruct cc6_settings {\n\tbool cc6_setting_changed;\n\tbool nb_pstate_switch_disable; \n\tbool cpu_cc6_disable;  \n\tbool cpu_pstate_disable;\n\tuint32_t cpu_pstate_separation_time;\n};\n\nstruct smu8_hwmgr {\n\tuint32_t dpm_interval;\n\n\tuint32_t voltage_drop_threshold;\n\n\tuint32_t voting_rights_clients;\n\n\tuint32_t disable_driver_thermal_policy;\n\n\tuint32_t static_screen_threshold;\n\n\tuint32_t gfx_power_gating_threshold;\n\n\tuint32_t activity_hysteresis;\n\tuint32_t bootup_sclk_divider;\n\tuint32_t gfx_ramp_step;\n\tuint32_t gfx_ramp_delay;  \n\n\tuint32_t thermal_auto_throttling_treshold;\n\n\tstruct smu8_sys_info sys_info;\n\n\tstruct smu8_power_level boot_power_level;\n\tstruct smu8_power_state *smu8_current_ps;\n\tstruct smu8_power_state *smu8_requested_ps;\n\n\tuint32_t mgcg_cgtt_local0;\n\tuint32_t mgcg_cgtt_local1;\n\n\tuint32_t tdr_clock;  \n\n\tuint32_t ddi_power_gating_disabled;\n\tuint32_t disable_gfx_power_gating_in_uvd;\n\tuint32_t disable_nb_ps3_in_battery;\n\n\tuint32_t lock_nb_ps_in_uvd_play_back;\n\n\tstruct smu8_display_phy_info display_phy_info;\n\tuint32_t vce_slow_sclk_threshold;  \n\tuint32_t dce_slow_sclk_threshold;  \n\tuint32_t min_sclk_did;   \n\n\tbool disp_clk_bypass;\n\tbool disp_clk_bypass_pending;\n\tuint32_t bapm_enabled;\n\tuint32_t clock_slow_down_freq;\n\tuint32_t skip_clock_slow_down;\n\tuint32_t enable_nb_ps_policy;\n\tuint32_t voltage_drop_in_dce_power_gating;\n\tuint32_t uvd_dpm_interval;\n\tuint32_t override_dynamic_mgpg;\n\tuint32_t lclk_deep_enabled;\n\n\tuint32_t uvd_performance;\n\n\tbool video_start;\n\tbool battery_state;\n\tuint32_t lowest_valid;\n\tuint32_t highest_valid;\n\tuint32_t high_voltage_threshold;\n\tuint32_t is_nb_dpm_enabled;\n\tstruct cc6_settings cc6_settings;\n\tuint32_t is_voltage_island_enabled;\n\n\tbool pgacpinit;\n\n\tuint8_t disp_config;\n\n\t \n\tuint32_t power_containment_features;\n\tbool cac_enabled;\n\tbool disable_uvd_power_tune_feature;\n\tbool enable_ba_pm_feature;\n\tbool enable_tdc_limit_feature;\n\n\tuint32_t sram_end;\n\tuint32_t dpm_table_start;\n\tuint32_t soft_regs_start;\n\n\tuint8_t uvd_level_count;\n\tuint8_t vce_level_count;\n\n\tuint8_t acp_level_count;\n\tuint8_t samu_level_count;\n\tuint32_t fps_high_threshold;\n\tuint32_t fps_low_threshold;\n\n\tuint32_t dpm_flags;\n\tstruct smu8_dpm_entry sclk_dpm;\n\tstruct smu8_dpm_entry uvd_dpm;\n\tstruct smu8_dpm_entry vce_dpm;\n\tstruct smu8_dpm_entry acp_dpm;\n\n\tuint8_t uvd_boot_level;\n\tuint8_t vce_boot_level;\n\tuint8_t acp_boot_level;\n\tuint8_t samu_boot_level;\n\tuint8_t uvd_interval;\n\tuint8_t vce_interval;\n\tuint8_t acp_interval;\n\tuint8_t samu_interval;\n\n\tuint8_t graphics_interval;\n\tuint8_t graphics_therm_throttle_enable;\n\tuint8_t graphics_voltage_change_enable;\n\n\tuint8_t graphics_clk_slow_enable;\n\tuint8_t graphics_clk_slow_divider;\n\n\tuint32_t display_cac;\n\tuint32_t low_sclk_interrupt_threshold;\n\n\tuint32_t dram_log_addr_h;\n\tuint32_t dram_log_addr_l;\n\tuint32_t dram_log_phy_addr_h;\n\tuint32_t dram_log_phy_addr_l;\n\tuint32_t dram_log_buff_size;\n\n\tbool uvd_power_gated;\n\tbool vce_power_gated;\n\tbool samu_power_gated;\n\tbool acp_power_gated;\n\tbool acp_power_up_no_dsp;\n\tuint32_t active_process_mask;\n\n\tuint32_t max_sclk_level;\n\tuint32_t num_of_clk_entries;\n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}