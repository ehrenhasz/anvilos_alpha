{
  "module_name": "si_dpm.h",
  "hash_id": "8fd919752c8f936e15b717b1b0910b0015c357388d1671a1139d45948c1c0ef6",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/pm/legacy-dpm/si_dpm.h",
  "human_readable_source": " \n#ifndef __SI_DPM_H__\n#define __SI_DPM_H__\n\n#include \"amdgpu_atombios.h\"\n#include \"sislands_smc.h\"\n\n#define MC_CG_CONFIG                                    0x96f\n#define MC_ARB_CG                                       0x9fa\n#define\t\tCG_ARB_REQ(x)\t\t\t\t((x) << 0)\n#define\t\tCG_ARB_REQ_MASK\t\t\t\t(0xff << 0)\n\n#define\tMC_ARB_DRAM_TIMING_1\t\t\t\t0x9fc\n#define\tMC_ARB_DRAM_TIMING_2\t\t\t\t0x9fd\n#define\tMC_ARB_DRAM_TIMING_3\t\t\t\t0x9fe\n#define\tMC_ARB_DRAM_TIMING2_1\t\t\t\t0x9ff\n#define\tMC_ARB_DRAM_TIMING2_2\t\t\t\t0xa00\n#define\tMC_ARB_DRAM_TIMING2_3\t\t\t\t0xa01\n\n#define MAX_NO_OF_MVDD_VALUES 2\n#define MAX_NO_VREG_STEPS 32\n#define NISLANDS_MAX_SMC_PERFORMANCE_LEVELS_PER_SWSTATE 16\n#define SMC_NISLANDS_MC_REGISTER_ARRAY_SIZE 32\n#define SMC_NISLANDS_MC_REGISTER_ARRAY_SET_COUNT 20\n#define RV770_ASI_DFLT                                1000\n#define CYPRESS_HASI_DFLT                               400000\n#define PCIE_PERF_REQ_PECI_GEN1         2\n#define PCIE_PERF_REQ_PECI_GEN2         3\n#define PCIE_PERF_REQ_PECI_GEN3         4\n#define RV770_DEFAULT_VCLK_FREQ  53300  \n#define RV770_DEFAULT_DCLK_FREQ  40000  \n\n#define SMC_EVERGREEN_MC_REGISTER_ARRAY_SIZE 16\n\n#define RV770_SMC_TABLE_ADDRESS 0xB000\n#define RV770_SMC_PERFORMANCE_LEVELS_PER_SWSTATE    3\n\n#define SMC_STROBE_RATIO    0x0F\n#define SMC_STROBE_ENABLE   0x10\n\n#define SMC_MC_EDC_RD_FLAG  0x01\n#define SMC_MC_EDC_WR_FLAG  0x02\n#define SMC_MC_RTT_ENABLE   0x04\n#define SMC_MC_STUTTER_EN   0x08\n\n#define RV770_SMC_VOLTAGEMASK_VDDC 0\n#define RV770_SMC_VOLTAGEMASK_MVDD 1\n#define RV770_SMC_VOLTAGEMASK_VDDCI 2\n#define RV770_SMC_VOLTAGEMASK_MAX  4\n\n#define NISLANDS_MAX_SMC_PERFORMANCE_LEVELS_PER_SWSTATE 16\n#define NISLANDS_SMC_STROBE_RATIO    0x0F\n#define NISLANDS_SMC_STROBE_ENABLE   0x10\n\n#define NISLANDS_SMC_MC_EDC_RD_FLAG  0x01\n#define NISLANDS_SMC_MC_EDC_WR_FLAG  0x02\n#define NISLANDS_SMC_MC_RTT_ENABLE   0x04\n#define NISLANDS_SMC_MC_STUTTER_EN   0x08\n\n#define MAX_NO_VREG_STEPS 32\n\n#define NISLANDS_SMC_VOLTAGEMASK_VDDC  0\n#define NISLANDS_SMC_VOLTAGEMASK_MVDD  1\n#define NISLANDS_SMC_VOLTAGEMASK_VDDCI 2\n#define NISLANDS_SMC_VOLTAGEMASK_MAX   4\n\n#define SISLANDS_MCREGISTERTABLE_INITIAL_SLOT               0\n#define SISLANDS_MCREGISTERTABLE_ACPI_SLOT                  1\n#define SISLANDS_MCREGISTERTABLE_ULV_SLOT                   2\n#define SISLANDS_MCREGISTERTABLE_FIRST_DRIVERSTATE_SLOT     3\n\n#define SISLANDS_LEAKAGE_INDEX0     0xff01\n#define SISLANDS_MAX_LEAKAGE_COUNT  4\n\n#define SISLANDS_MAX_HARDWARE_POWERLEVELS 5\n#define SISLANDS_INITIAL_STATE_ARB_INDEX    0\n#define SISLANDS_ACPI_STATE_ARB_INDEX       1\n#define SISLANDS_ULV_STATE_ARB_INDEX        2\n#define SISLANDS_DRIVER_STATE_ARB_INDEX     3\n\n#define SISLANDS_DPM2_MAX_PULSE_SKIP        256\n\n#define SISLANDS_DPM2_NEAR_TDP_DEC          10\n#define SISLANDS_DPM2_ABOVE_SAFE_INC        5\n#define SISLANDS_DPM2_BELOW_SAFE_INC        20\n\n#define SISLANDS_DPM2_TDP_SAFE_LIMIT_PERCENT            80\n\n#define SISLANDS_DPM2_MAXPS_PERCENT_H                   99\n#define SISLANDS_DPM2_MAXPS_PERCENT_M                   99\n\n#define SISLANDS_DPM2_SQ_RAMP_MAX_POWER                 0x3FFF\n#define SISLANDS_DPM2_SQ_RAMP_MIN_POWER                 0x12\n#define SISLANDS_DPM2_SQ_RAMP_MAX_POWER_DELTA           0x15\n#define SISLANDS_DPM2_SQ_RAMP_STI_SIZE                  0x1E\n#define SISLANDS_DPM2_SQ_RAMP_LTI_RATIO                 0xF\n\n#define SISLANDS_DPM2_PWREFFICIENCYRATIO_MARGIN         10\n\n#define SISLANDS_VRC_DFLT                               0xC000B3\n#define SISLANDS_ULVVOLTAGECHANGEDELAY_DFLT             1687\n#define SISLANDS_CGULVPARAMETER_DFLT                    0x00040035\n#define SISLANDS_CGULVCONTROL_DFLT                      0x1f007550\n\n#define SI_ASI_DFLT                                10000\n#define SI_BSP_DFLT                                0x41EB\n#define SI_BSU_DFLT                                0x2\n#define SI_AH_DFLT                                 5\n#define SI_RLP_DFLT                                25\n#define SI_RMP_DFLT                                65\n#define SI_LHP_DFLT                                40\n#define SI_LMP_DFLT                                15\n#define SI_TD_DFLT                                 0\n#define SI_UTC_DFLT_00                             0x24\n#define SI_UTC_DFLT_01                             0x22\n#define SI_UTC_DFLT_02                             0x22\n#define SI_UTC_DFLT_03                             0x22\n#define SI_UTC_DFLT_04                             0x22\n#define SI_UTC_DFLT_05                             0x22\n#define SI_UTC_DFLT_06                             0x22\n#define SI_UTC_DFLT_07                             0x22\n#define SI_UTC_DFLT_08                             0x22\n#define SI_UTC_DFLT_09                             0x22\n#define SI_UTC_DFLT_10                             0x22\n#define SI_UTC_DFLT_11                             0x22\n#define SI_UTC_DFLT_12                             0x22\n#define SI_UTC_DFLT_13                             0x22\n#define SI_UTC_DFLT_14                             0x22\n#define SI_DTC_DFLT_00                             0x24\n#define SI_DTC_DFLT_01                             0x22\n#define SI_DTC_DFLT_02                             0x22\n#define SI_DTC_DFLT_03                             0x22\n#define SI_DTC_DFLT_04                             0x22\n#define SI_DTC_DFLT_05                             0x22\n#define SI_DTC_DFLT_06                             0x22\n#define SI_DTC_DFLT_07                             0x22\n#define SI_DTC_DFLT_08                             0x22\n#define SI_DTC_DFLT_09                             0x22\n#define SI_DTC_DFLT_10                             0x22\n#define SI_DTC_DFLT_11                             0x22\n#define SI_DTC_DFLT_12                             0x22\n#define SI_DTC_DFLT_13                             0x22\n#define SI_DTC_DFLT_14                             0x22\n#define SI_VRC_DFLT                                0x0000C003\n#define SI_VOLTAGERESPONSETIME_DFLT                1000\n#define SI_BACKBIASRESPONSETIME_DFLT               1000\n#define SI_VRU_DFLT                                0x3\n#define SI_SPLLSTEPTIME_DFLT                       0x1000\n#define SI_SPLLSTEPUNIT_DFLT                       0x3\n#define SI_TPU_DFLT                                0\n#define SI_TPC_DFLT                                0x200\n#define SI_SSTU_DFLT                               0\n#define SI_SST_DFLT                                0x00C8\n#define SI_GICST_DFLT                              0x200\n#define SI_FCT_DFLT                                0x0400\n#define SI_FCTU_DFLT                               0\n#define SI_CTXCGTT3DRPHC_DFLT                      0x20\n#define SI_CTXCGTT3DRSDC_DFLT                      0x40\n#define SI_VDDC3DOORPHC_DFLT                       0x100\n#define SI_VDDC3DOORSDC_DFLT                       0x7\n#define SI_VDDC3DOORSU_DFLT                        0\n#define SI_MPLLLOCKTIME_DFLT                       100\n#define SI_MPLLRESETTIME_DFLT                      150\n#define SI_VCOSTEPPCT_DFLT                          20\n#define SI_ENDINGVCOSTEPPCT_DFLT                    5\n#define SI_REFERENCEDIVIDER_DFLT                    4\n\n#define SI_PM_NUMBER_OF_TC 15\n#define SI_PM_NUMBER_OF_SCLKS 20\n#define SI_PM_NUMBER_OF_MCLKS 4\n#define SI_PM_NUMBER_OF_VOLTAGE_LEVELS 4\n#define SI_PM_NUMBER_OF_ACTIVITY_LEVELS 3\n\n \n#define SI_TEMP_RANGE_MIN (90 * 1000)\n#define SI_TEMP_RANGE_MAX (120 * 1000)\n\n#define FDO_PWM_MODE_STATIC  1\n#define FDO_PWM_MODE_STATIC_RPM 5\n\nenum ni_dc_cac_level\n{\n\tNISLANDS_DCCAC_LEVEL_0 = 0,\n\tNISLANDS_DCCAC_LEVEL_1,\n\tNISLANDS_DCCAC_LEVEL_2,\n\tNISLANDS_DCCAC_LEVEL_3,\n\tNISLANDS_DCCAC_LEVEL_4,\n\tNISLANDS_DCCAC_LEVEL_5,\n\tNISLANDS_DCCAC_LEVEL_6,\n\tNISLANDS_DCCAC_LEVEL_7,\n\tNISLANDS_DCCAC_MAX_LEVELS\n};\n\nenum si_cac_config_reg_type\n{\n\tSISLANDS_CACCONFIG_MMR = 0,\n\tSISLANDS_CACCONFIG_CGIND,\n\tSISLANDS_CACCONFIG_MAX\n};\n\nenum si_power_level {\n\tSI_POWER_LEVEL_LOW = 0,\n\tSI_POWER_LEVEL_MEDIUM = 1,\n\tSI_POWER_LEVEL_HIGH = 2,\n\tSI_POWER_LEVEL_CTXSW = 3,\n};\n\nenum si_td {\n\tSI_TD_AUTO,\n\tSI_TD_UP,\n\tSI_TD_DOWN,\n};\n\nenum si_display_watermark {\n\tSI_DISPLAY_WATERMARK_LOW = 0,\n\tSI_DISPLAY_WATERMARK_HIGH = 1,\n};\n\nenum si_display_gap\n{\n    SI_PM_DISPLAY_GAP_VBLANK_OR_WM = 0,\n    SI_PM_DISPLAY_GAP_VBLANK       = 1,\n    SI_PM_DISPLAY_GAP_WATERMARK    = 2,\n    SI_PM_DISPLAY_GAP_IGNORE       = 3,\n};\n\nextern const struct amdgpu_ip_block_version si_smu_ip_block;\n\nstruct ni_leakage_coeffients\n{\n\tu32 at;\n\tu32 bt;\n\tu32 av;\n\tu32 bv;\n\ts32 t_slope;\n\ts32 t_intercept;\n\tu32 t_ref;\n};\n\nstruct SMC_Evergreen_MCRegisterAddress\n{\n    uint16_t s0;\n    uint16_t s1;\n};\n\ntypedef struct SMC_Evergreen_MCRegisterAddress SMC_Evergreen_MCRegisterAddress;\n\nstruct evergreen_mc_reg_entry {\n\tu32 mclk_max;\n\tu32 mc_data[SMC_EVERGREEN_MC_REGISTER_ARRAY_SIZE];\n};\n\nstruct evergreen_mc_reg_table {\n\tu8 last;\n\tu8 num_entries;\n\tu16 valid_flag;\n\tstruct evergreen_mc_reg_entry mc_reg_table_entry[MAX_AC_TIMING_ENTRIES];\n\tSMC_Evergreen_MCRegisterAddress mc_reg_address[SMC_EVERGREEN_MC_REGISTER_ARRAY_SIZE];\n};\n\nstruct SMC_Evergreen_MCRegisterSet\n{\n    uint32_t value[SMC_EVERGREEN_MC_REGISTER_ARRAY_SIZE];\n};\n\ntypedef struct SMC_Evergreen_MCRegisterSet SMC_Evergreen_MCRegisterSet;\n\nstruct SMC_Evergreen_MCRegisters\n{\n    uint8_t                             last;\n    uint8_t                             reserved[3];\n    SMC_Evergreen_MCRegisterAddress     address[SMC_EVERGREEN_MC_REGISTER_ARRAY_SIZE];\n    SMC_Evergreen_MCRegisterSet         data[5];\n};\n\ntypedef struct SMC_Evergreen_MCRegisters SMC_Evergreen_MCRegisters;\n\nstruct SMC_NIslands_MCRegisterSet\n{\n    uint32_t value[SMC_NISLANDS_MC_REGISTER_ARRAY_SIZE];\n};\n\ntypedef struct SMC_NIslands_MCRegisterSet SMC_NIslands_MCRegisterSet;\n\nstruct ni_mc_reg_entry {\n\tu32 mclk_max;\n\tu32 mc_data[SMC_NISLANDS_MC_REGISTER_ARRAY_SIZE];\n};\n\nstruct SMC_NIslands_MCRegisterAddress\n{\n    uint16_t s0;\n    uint16_t s1;\n};\n\ntypedef struct SMC_NIslands_MCRegisterAddress SMC_NIslands_MCRegisterAddress;\n\nstruct SMC_NIslands_MCRegisters\n{\n    uint8_t                             last;\n    uint8_t                             reserved[3];\n    SMC_NIslands_MCRegisterAddress      address[SMC_NISLANDS_MC_REGISTER_ARRAY_SIZE];\n    SMC_NIslands_MCRegisterSet          data[SMC_NISLANDS_MC_REGISTER_ARRAY_SET_COUNT];\n};\n\ntypedef struct SMC_NIslands_MCRegisters SMC_NIslands_MCRegisters;\n\nstruct evergreen_ulv_param {\n\tbool supported;\n\tstruct rv7xx_pl *pl;\n};\n\nstruct evergreen_arb_registers {\n\tu32 mc_arb_dram_timing;\n\tu32 mc_arb_dram_timing2;\n\tu32 mc_arb_rfsh_rate;\n\tu32 mc_arb_burst_time;\n};\n\nstruct at {\n\tu32 rlp;\n\tu32 rmp;\n\tu32 lhp;\n\tu32 lmp;\n};\n\nstruct ni_clock_registers {\n\tu32 cg_spll_func_cntl;\n\tu32 cg_spll_func_cntl_2;\n\tu32 cg_spll_func_cntl_3;\n\tu32 cg_spll_func_cntl_4;\n\tu32 cg_spll_spread_spectrum;\n\tu32 cg_spll_spread_spectrum_2;\n\tu32 mclk_pwrmgt_cntl;\n\tu32 dll_cntl;\n\tu32 mpll_ad_func_cntl;\n\tu32 mpll_ad_func_cntl_2;\n\tu32 mpll_dq_func_cntl;\n\tu32 mpll_dq_func_cntl_2;\n\tu32 mpll_ss1;\n\tu32 mpll_ss2;\n};\n\nstruct RV770_SMC_SCLK_VALUE\n{\n    uint32_t        vCG_SPLL_FUNC_CNTL;\n    uint32_t        vCG_SPLL_FUNC_CNTL_2;\n    uint32_t        vCG_SPLL_FUNC_CNTL_3;\n    uint32_t        vCG_SPLL_SPREAD_SPECTRUM;\n    uint32_t        vCG_SPLL_SPREAD_SPECTRUM_2;\n    uint32_t        sclk_value;\n};\n\ntypedef struct RV770_SMC_SCLK_VALUE RV770_SMC_SCLK_VALUE;\n\nstruct RV770_SMC_MCLK_VALUE\n{\n    uint32_t        vMPLL_AD_FUNC_CNTL;\n    uint32_t        vMPLL_AD_FUNC_CNTL_2;\n    uint32_t        vMPLL_DQ_FUNC_CNTL;\n    uint32_t        vMPLL_DQ_FUNC_CNTL_2;\n    uint32_t        vMCLK_PWRMGT_CNTL;\n    uint32_t        vDLL_CNTL;\n    uint32_t        vMPLL_SS;\n    uint32_t        vMPLL_SS2;\n    uint32_t        mclk_value;\n};\n\ntypedef struct RV770_SMC_MCLK_VALUE RV770_SMC_MCLK_VALUE;\n\n\nstruct RV730_SMC_MCLK_VALUE\n{\n    uint32_t        vMCLK_PWRMGT_CNTL;\n    uint32_t        vDLL_CNTL;\n    uint32_t        vMPLL_FUNC_CNTL;\n    uint32_t        vMPLL_FUNC_CNTL2;\n    uint32_t        vMPLL_FUNC_CNTL3;\n    uint32_t        vMPLL_SS;\n    uint32_t        vMPLL_SS2;\n    uint32_t        mclk_value;\n};\n\ntypedef struct RV730_SMC_MCLK_VALUE RV730_SMC_MCLK_VALUE;\n\nstruct RV770_SMC_VOLTAGE_VALUE\n{\n    uint16_t             value;\n    uint8_t              index;\n    uint8_t              padding;\n};\n\ntypedef struct RV770_SMC_VOLTAGE_VALUE RV770_SMC_VOLTAGE_VALUE;\n\nunion RV7XX_SMC_MCLK_VALUE\n{\n    RV770_SMC_MCLK_VALUE    mclk770;\n    RV730_SMC_MCLK_VALUE    mclk730;\n};\n\ntypedef union RV7XX_SMC_MCLK_VALUE RV7XX_SMC_MCLK_VALUE, *LPRV7XX_SMC_MCLK_VALUE;\n\nstruct RV770_SMC_HW_PERFORMANCE_LEVEL\n{\n    uint8_t                 arbValue;\n    union{\n        uint8_t             seqValue;\n        uint8_t             ACIndex;\n    };\n    uint8_t                 displayWatermark;\n    uint8_t                 gen2PCIE;\n    uint8_t                 gen2XSP;\n    uint8_t                 backbias;\n    uint8_t                 strobeMode;\n    uint8_t                 mcFlags;\n    uint32_t                aT;\n    uint32_t                bSP;\n    RV770_SMC_SCLK_VALUE    sclk;\n    RV7XX_SMC_MCLK_VALUE    mclk;\n    RV770_SMC_VOLTAGE_VALUE vddc;\n    RV770_SMC_VOLTAGE_VALUE mvdd;\n    RV770_SMC_VOLTAGE_VALUE vddci;\n    uint8_t                 reserved1;\n    uint8_t                 reserved2;\n    uint8_t                 stateFlags;\n    uint8_t                 padding;\n};\n\ntypedef struct RV770_SMC_HW_PERFORMANCE_LEVEL RV770_SMC_HW_PERFORMANCE_LEVEL;\n\nstruct RV770_SMC_SWSTATE\n{\n    uint8_t           flags;\n    uint8_t           padding1;\n    uint8_t           padding2;\n    uint8_t           padding3;\n    RV770_SMC_HW_PERFORMANCE_LEVEL levels[RV770_SMC_PERFORMANCE_LEVELS_PER_SWSTATE];\n};\n\ntypedef struct RV770_SMC_SWSTATE RV770_SMC_SWSTATE;\n\nstruct RV770_SMC_VOLTAGEMASKTABLE\n{\n    uint8_t  highMask[RV770_SMC_VOLTAGEMASK_MAX];\n    uint32_t lowMask[RV770_SMC_VOLTAGEMASK_MAX];\n};\n\ntypedef struct RV770_SMC_VOLTAGEMASKTABLE RV770_SMC_VOLTAGEMASKTABLE;\n\nstruct RV770_SMC_STATETABLE\n{\n    uint8_t             thermalProtectType;\n    uint8_t             systemFlags;\n    uint8_t             maxVDDCIndexInPPTable;\n    uint8_t             extraFlags;\n    uint8_t             highSMIO[MAX_NO_VREG_STEPS];\n    uint32_t            lowSMIO[MAX_NO_VREG_STEPS];\n    RV770_SMC_VOLTAGEMASKTABLE voltageMaskTable;\n    RV770_SMC_SWSTATE   initialState;\n    RV770_SMC_SWSTATE   ACPIState;\n    RV770_SMC_SWSTATE   driverState;\n    RV770_SMC_SWSTATE   ULVState;\n};\n\ntypedef struct RV770_SMC_STATETABLE RV770_SMC_STATETABLE;\n\nstruct vddc_table_entry {\n\tu16 vddc;\n\tu8 vddc_index;\n\tu8 high_smio;\n\tu32 low_smio;\n};\n\nstruct rv770_clock_registers {\n\tu32 cg_spll_func_cntl;\n\tu32 cg_spll_func_cntl_2;\n\tu32 cg_spll_func_cntl_3;\n\tu32 cg_spll_spread_spectrum;\n\tu32 cg_spll_spread_spectrum_2;\n\tu32 mpll_ad_func_cntl;\n\tu32 mpll_ad_func_cntl_2;\n\tu32 mpll_dq_func_cntl;\n\tu32 mpll_dq_func_cntl_2;\n\tu32 mclk_pwrmgt_cntl;\n\tu32 dll_cntl;\n\tu32 mpll_ss1;\n\tu32 mpll_ss2;\n};\n\nstruct rv730_clock_registers {\n\tu32 cg_spll_func_cntl;\n\tu32 cg_spll_func_cntl_2;\n\tu32 cg_spll_func_cntl_3;\n\tu32 cg_spll_spread_spectrum;\n\tu32 cg_spll_spread_spectrum_2;\n\tu32 mclk_pwrmgt_cntl;\n\tu32 dll_cntl;\n\tu32 mpll_func_cntl;\n\tu32 mpll_func_cntl2;\n\tu32 mpll_func_cntl3;\n\tu32 mpll_ss;\n\tu32 mpll_ss2;\n};\n\nunion r7xx_clock_registers {\n\tstruct rv770_clock_registers rv770;\n\tstruct rv730_clock_registers rv730;\n};\n\nstruct rv7xx_power_info {\n\t \n\tbool mem_gddr5;\n\tbool pcie_gen2;\n\tbool dynamic_pcie_gen2;\n\tbool acpi_pcie_gen2;\n\tbool boot_in_gen2;\n\tbool voltage_control;  \n\tbool mvdd_control;\n\tbool sclk_ss;\n\tbool mclk_ss;\n\tbool dynamic_ss;\n\tbool gfx_clock_gating;\n\tbool mg_clock_gating;\n\tbool mgcgtssm;\n\tbool power_gating;\n\tbool thermal_protection;\n\tbool display_gap;\n\tbool dcodt;\n\tbool ulps;\n\t \n\tunion r7xx_clock_registers clk_regs;\n\tu32 s0_vid_lower_smio_cntl;\n\t \n\tu32 vddc_mask_low;\n\tu32 mvdd_mask_low;\n\tu32 mvdd_split_frequency;\n\tu32 mvdd_low_smio[MAX_NO_OF_MVDD_VALUES];\n\tu16 max_vddc;\n\tu16 max_vddc_in_table;\n\tu16 min_vddc_in_table;\n\tstruct vddc_table_entry vddc_table[MAX_NO_VREG_STEPS];\n\tu8 valid_vddc_entries;\n\t \n\tu32 mclk_odt_threshold;\n\tu8 odt_value_0[2];\n\tu8 odt_value_1[2];\n\t \n\tu32 boot_sclk;\n\tu16 acpi_vddc;\n\tu32 ref_div;\n\tu32 active_auto_throttle_sources;\n\tu32 mclk_stutter_mode_threshold;\n\tu32 mclk_strobe_mode_threshold;\n\tu32 mclk_edc_enable_threshold;\n\tu32 bsp;\n\tu32 bsu;\n\tu32 pbsp;\n\tu32 pbsu;\n\tu32 dsp;\n\tu32 psp;\n\tu32 asi;\n\tu32 pasi;\n\tu32 vrc;\n\tu32 restricted_levels;\n\tu32 rlp;\n\tu32 rmp;\n\tu32 lhp;\n\tu32 lmp;\n\t \n\tu16 state_table_start;\n\tu16 soft_regs_start;\n\tu16 sram_end;\n\t \n\tRV770_SMC_STATETABLE smc_statetable;\n};\n\nenum si_pcie_gen {\n\tSI_PCIE_GEN1 = 0,\n\tSI_PCIE_GEN2 = 1,\n\tSI_PCIE_GEN3 = 2,\n\tSI_PCIE_GEN_INVALID = 0xffff\n};\n\nstruct rv7xx_pl {\n\tu32 sclk;\n\tu32 mclk;\n\tu16 vddc;\n\tu16 vddci;  \n\tu32 flags;\n\tenum si_pcie_gen pcie_gen;  \n};\n\nstruct rv7xx_ps {\n\tstruct rv7xx_pl high;\n\tstruct rv7xx_pl medium;\n\tstruct rv7xx_pl low;\n\tbool dc_compatible;\n};\n\nstruct si_ps {\n\tu16 performance_level_count;\n\tbool dc_compatible;\n\tstruct rv7xx_pl performance_levels[NISLANDS_MAX_SMC_PERFORMANCE_LEVELS_PER_SWSTATE];\n};\n\nstruct ni_mc_reg_table {\n\tu8 last;\n\tu8 num_entries;\n\tu16 valid_flag;\n\tstruct ni_mc_reg_entry mc_reg_table_entry[MAX_AC_TIMING_ENTRIES];\n\tSMC_NIslands_MCRegisterAddress mc_reg_address[SMC_NISLANDS_MC_REGISTER_ARRAY_SIZE];\n};\n\nstruct ni_cac_data\n{\n\tstruct ni_leakage_coeffients leakage_coefficients;\n\tu32 i_leakage;\n\ts32 leakage_minimum_temperature;\n\tu32 pwr_const;\n\tu32 dc_cac_value;\n\tu32 bif_cac_value;\n\tu32 lkge_pwr;\n\tu8 mc_wr_weight;\n\tu8 mc_rd_weight;\n\tu8 allow_ovrflw;\n\tu8 num_win_tdp;\n\tu8 l2num_win_tdp;\n\tu8 lts_truncate_n;\n};\n\nstruct evergreen_power_info {\n\t \n\tstruct rv7xx_power_info rv7xx;\n\t \n\tbool vddci_control;\n\tbool dynamic_ac_timing;\n\tbool abm;\n\tbool mcls;\n\tbool light_sleep;\n\tbool memory_transition;\n\tbool pcie_performance_request;\n\tbool pcie_performance_request_registered;\n\tbool sclk_deep_sleep;\n\tbool dll_default_on;\n\tbool ls_clock_gating;\n\tbool smu_uvd_hs;\n\tbool uvd_enabled;\n\t \n\tu16 acpi_vddci;\n\tu8 mvdd_high_index;\n\tu8 mvdd_low_index;\n\tu32 mclk_edc_wr_enable_threshold;\n\tstruct evergreen_mc_reg_table mc_reg_table;\n\tstruct atom_voltage_table vddc_voltage_table;\n\tstruct atom_voltage_table vddci_voltage_table;\n\tstruct evergreen_arb_registers bootup_arb_registers;\n\tstruct evergreen_ulv_param ulv;\n\tstruct at ats[2];\n\t \n\tu16 mc_reg_table_start;\n\tstruct amdgpu_ps current_rps;\n\tstruct rv7xx_ps current_ps;\n\tstruct amdgpu_ps requested_rps;\n\tstruct rv7xx_ps requested_ps;\n};\n\nstruct PP_NIslands_Dpm2PerfLevel\n{\n    uint8_t     MaxPS;\n    uint8_t     TgtAct;\n    uint8_t     MaxPS_StepInc;\n    uint8_t     MaxPS_StepDec;\n    uint8_t     PSST;\n    uint8_t     NearTDPDec;\n    uint8_t     AboveSafeInc;\n    uint8_t     BelowSafeInc;\n    uint8_t     PSDeltaLimit;\n    uint8_t     PSDeltaWin;\n    uint8_t     Reserved[6];\n};\n\ntypedef struct PP_NIslands_Dpm2PerfLevel PP_NIslands_Dpm2PerfLevel;\n\nstruct PP_NIslands_DPM2Parameters\n{\n    uint32_t    TDPLimit;\n    uint32_t    NearTDPLimit;\n    uint32_t    SafePowerLimit;\n    uint32_t    PowerBoostLimit;\n};\ntypedef struct PP_NIslands_DPM2Parameters PP_NIslands_DPM2Parameters;\n\nstruct NISLANDS_SMC_SCLK_VALUE\n{\n    uint32_t        vCG_SPLL_FUNC_CNTL;\n    uint32_t        vCG_SPLL_FUNC_CNTL_2;\n    uint32_t        vCG_SPLL_FUNC_CNTL_3;\n    uint32_t        vCG_SPLL_FUNC_CNTL_4;\n    uint32_t        vCG_SPLL_SPREAD_SPECTRUM;\n    uint32_t        vCG_SPLL_SPREAD_SPECTRUM_2;\n    uint32_t        sclk_value;\n};\n\ntypedef struct NISLANDS_SMC_SCLK_VALUE NISLANDS_SMC_SCLK_VALUE;\n\nstruct NISLANDS_SMC_MCLK_VALUE\n{\n    uint32_t        vMPLL_FUNC_CNTL;\n    uint32_t        vMPLL_FUNC_CNTL_1;\n    uint32_t        vMPLL_FUNC_CNTL_2;\n    uint32_t        vMPLL_AD_FUNC_CNTL;\n    uint32_t        vMPLL_AD_FUNC_CNTL_2;\n    uint32_t        vMPLL_DQ_FUNC_CNTL;\n    uint32_t        vMPLL_DQ_FUNC_CNTL_2;\n    uint32_t        vMCLK_PWRMGT_CNTL;\n    uint32_t        vDLL_CNTL;\n    uint32_t        vMPLL_SS;\n    uint32_t        vMPLL_SS2;\n    uint32_t        mclk_value;\n};\n\ntypedef struct NISLANDS_SMC_MCLK_VALUE NISLANDS_SMC_MCLK_VALUE;\n\nstruct NISLANDS_SMC_VOLTAGE_VALUE\n{\n    uint16_t             value;\n    uint8_t              index;\n    uint8_t              padding;\n};\n\ntypedef struct NISLANDS_SMC_VOLTAGE_VALUE NISLANDS_SMC_VOLTAGE_VALUE;\n\nstruct NISLANDS_SMC_HW_PERFORMANCE_LEVEL\n{\n    uint8_t                     arbValue;\n    uint8_t                     ACIndex;\n    uint8_t                     displayWatermark;\n    uint8_t                     gen2PCIE;\n    uint8_t                     reserved1;\n    uint8_t                     reserved2;\n    uint8_t                     strobeMode;\n    uint8_t                     mcFlags;\n    uint32_t                    aT;\n    uint32_t                    bSP;\n    NISLANDS_SMC_SCLK_VALUE     sclk;\n    NISLANDS_SMC_MCLK_VALUE     mclk;\n    NISLANDS_SMC_VOLTAGE_VALUE  vddc;\n    NISLANDS_SMC_VOLTAGE_VALUE  mvdd;\n    NISLANDS_SMC_VOLTAGE_VALUE  vddci;\n    NISLANDS_SMC_VOLTAGE_VALUE  std_vddc;\n    uint32_t                    powergate_en;\n    uint8_t                     hUp;\n    uint8_t                     hDown;\n    uint8_t                     stateFlags;\n    uint8_t                     arbRefreshState;\n    uint32_t                    SQPowerThrottle;\n    uint32_t                    SQPowerThrottle_2;\n    uint32_t                    reserved[2];\n    PP_NIslands_Dpm2PerfLevel   dpm2;\n};\n\ntypedef struct NISLANDS_SMC_HW_PERFORMANCE_LEVEL NISLANDS_SMC_HW_PERFORMANCE_LEVEL;\n\nstruct NISLANDS_SMC_SWSTATE\n{\n    uint8_t                             flags;\n    uint8_t                             levelCount;\n    uint8_t                             padding2;\n    uint8_t                             padding3;\n    NISLANDS_SMC_HW_PERFORMANCE_LEVEL   levels[];\n};\n\ntypedef struct NISLANDS_SMC_SWSTATE NISLANDS_SMC_SWSTATE;\n\nstruct NISLANDS_SMC_VOLTAGEMASKTABLE\n{\n    uint8_t  highMask[NISLANDS_SMC_VOLTAGEMASK_MAX];\n    uint32_t lowMask[NISLANDS_SMC_VOLTAGEMASK_MAX];\n};\n\ntypedef struct NISLANDS_SMC_VOLTAGEMASKTABLE NISLANDS_SMC_VOLTAGEMASKTABLE;\n\n#define NISLANDS_MAX_NO_VREG_STEPS 32\n\nstruct NISLANDS_SMC_STATETABLE\n{\n    uint8_t                             thermalProtectType;\n    uint8_t                             systemFlags;\n    uint8_t                             maxVDDCIndexInPPTable;\n    uint8_t                             extraFlags;\n    uint8_t                             highSMIO[NISLANDS_MAX_NO_VREG_STEPS];\n    uint32_t                            lowSMIO[NISLANDS_MAX_NO_VREG_STEPS];\n    NISLANDS_SMC_VOLTAGEMASKTABLE       voltageMaskTable;\n    PP_NIslands_DPM2Parameters          dpm2Params;\n    NISLANDS_SMC_SWSTATE                initialState;\n    NISLANDS_SMC_SWSTATE                ACPIState;\n    NISLANDS_SMC_SWSTATE                ULVState;\n    NISLANDS_SMC_SWSTATE                driverState;\n    NISLANDS_SMC_HW_PERFORMANCE_LEVEL   dpmLevels[NISLANDS_MAX_SMC_PERFORMANCE_LEVELS_PER_SWSTATE - 1];\n};\n\ntypedef struct NISLANDS_SMC_STATETABLE NISLANDS_SMC_STATETABLE;\n\nstruct ni_power_info {\n\t \n\tstruct evergreen_power_info eg;\n\tstruct ni_clock_registers clock_registers;\n\tstruct ni_mc_reg_table mc_reg_table;\n\tu32 mclk_rtt_mode_threshold;\n\t \n\tbool use_power_boost_limit;\n\tbool support_cac_long_term_average;\n\tbool cac_enabled;\n\tbool cac_configuration_required;\n\tbool driver_calculate_cac_leakage;\n\tbool pc_enabled;\n\tbool enable_power_containment;\n\tbool enable_cac;\n\tbool enable_sq_ramping;\n\t \n\tu16 arb_table_start;\n\tu16 fan_table_start;\n\tu16 cac_table_start;\n\tu16 spll_table_start;\n\t \n\tstruct ni_cac_data cac_data;\n\tu32 dc_cac_table[NISLANDS_DCCAC_MAX_LEVELS];\n\tconst struct ni_cac_weights *cac_weights;\n\tu8 lta_window_size;\n\tu8 lts_truncate;\n\tstruct si_ps current_ps;\n\tstruct si_ps requested_ps;\n\t \n\tSMC_NIslands_MCRegisters smc_mc_reg_table;\n\tNISLANDS_SMC_STATETABLE smc_statetable;\n};\n\nstruct si_cac_config_reg\n{\n\tu32 offset;\n\tu32 mask;\n\tu32 shift;\n\tu32 value;\n\tenum si_cac_config_reg_type type;\n};\n\nstruct si_powertune_data\n{\n\tu32 cac_window;\n\tu32 l2_lta_window_size_default;\n\tu8 lts_truncate_default;\n\tu8 shift_n_default;\n\tu8 operating_temp;\n\tstruct ni_leakage_coeffients leakage_coefficients;\n\tu32 fixed_kt;\n\tu32 lkge_lut_v0_percent;\n\tu8 dc_cac[NISLANDS_DCCAC_MAX_LEVELS];\n\tbool enable_powertune_by_default;\n};\n\nstruct si_dyn_powertune_data\n{\n\tu32 cac_leakage;\n\ts32 leakage_minimum_temperature;\n\tu32 wintime;\n\tu32 l2_lta_window_size;\n\tu8 lts_truncate;\n\tu8 shift_n;\n\tu8 dc_pwr_value;\n\tbool disable_uvd_powertune;\n};\n\nstruct si_dte_data\n{\n\tu32 tau[SMC_SISLANDS_DTE_MAX_FILTER_STAGES];\n\tu32 r[SMC_SISLANDS_DTE_MAX_FILTER_STAGES];\n\tu32 k;\n\tu32 t0;\n\tu32 max_t;\n\tu8 window_size;\n\tu8 temp_select;\n\tu8 dte_mode;\n\tu8 tdep_count;\n\tu8 t_limits[SMC_SISLANDS_DTE_MAX_TEMPERATURE_DEPENDENT_ARRAY_SIZE];\n\tu32 tdep_tau[SMC_SISLANDS_DTE_MAX_TEMPERATURE_DEPENDENT_ARRAY_SIZE];\n\tu32 tdep_r[SMC_SISLANDS_DTE_MAX_TEMPERATURE_DEPENDENT_ARRAY_SIZE];\n\tu32 t_threshold;\n\tbool enable_dte_by_default;\n};\n\nstruct si_clock_registers {\n\tu32 cg_spll_func_cntl;\n\tu32 cg_spll_func_cntl_2;\n\tu32 cg_spll_func_cntl_3;\n\tu32 cg_spll_func_cntl_4;\n\tu32 cg_spll_spread_spectrum;\n\tu32 cg_spll_spread_spectrum_2;\n\tu32 dll_cntl;\n\tu32 mclk_pwrmgt_cntl;\n\tu32 mpll_ad_func_cntl;\n\tu32 mpll_dq_func_cntl;\n\tu32 mpll_func_cntl;\n\tu32 mpll_func_cntl_1;\n\tu32 mpll_func_cntl_2;\n\tu32 mpll_ss1;\n\tu32 mpll_ss2;\n};\n\nstruct si_mc_reg_entry {\n\tu32 mclk_max;\n\tu32 mc_data[SMC_SISLANDS_MC_REGISTER_ARRAY_SIZE];\n};\n\nstruct si_mc_reg_table {\n\tu8 last;\n\tu8 num_entries;\n\tu16 valid_flag;\n\tstruct si_mc_reg_entry mc_reg_table_entry[MAX_AC_TIMING_ENTRIES];\n\tSMC_NIslands_MCRegisterAddress mc_reg_address[SMC_SISLANDS_MC_REGISTER_ARRAY_SIZE];\n};\n\nstruct si_leakage_voltage_entry\n{\n\tu16 voltage;\n\tu16 leakage_index;\n};\n\nstruct si_leakage_voltage\n{\n\tu16 count;\n\tstruct si_leakage_voltage_entry entries[SISLANDS_MAX_LEAKAGE_COUNT];\n};\n\n\nstruct si_ulv_param {\n\tbool supported;\n\tu32 cg_ulv_control;\n\tu32 cg_ulv_parameter;\n\tu32 volt_change_delay;\n\tstruct rv7xx_pl pl;\n\tbool one_pcie_lane_in_ulv;\n};\n\nstruct si_power_info {\n\t \n\tstruct ni_power_info ni;\n\tstruct si_clock_registers clock_registers;\n\tstruct si_mc_reg_table mc_reg_table;\n\tstruct atom_voltage_table mvdd_voltage_table;\n\tstruct atom_voltage_table vddc_phase_shed_table;\n\tstruct si_leakage_voltage leakage_voltage;\n\tu16 mvdd_bootup_value;\n\tstruct si_ulv_param ulv;\n\tu32 max_cu;\n\t \n\tenum si_pcie_gen force_pcie_gen;\n\tenum si_pcie_gen boot_pcie_gen;\n\tenum si_pcie_gen acpi_pcie_gen;\n\tu32 sys_pcie_mask;\n\t \n\tbool enable_dte;\n\tbool enable_ppm;\n\tbool vddc_phase_shed_control;\n\tbool pspp_notify_required;\n\tbool sclk_deep_sleep_above_low;\n\tbool voltage_control_svi2;\n\tbool vddci_control_svi2;\n\t \n\tu32 sram_end;\n\tu32 state_table_start;\n\tu32 soft_regs_start;\n\tu32 mc_reg_table_start;\n\tu32 arb_table_start;\n\tu32 cac_table_start;\n\tu32 dte_table_start;\n\tu32 spll_table_start;\n\tu32 papm_cfg_table_start;\n\tu32 fan_table_start;\n\t \n\tconst struct si_cac_config_reg *cac_weights;\n\tconst struct si_cac_config_reg *lcac_config;\n\tconst struct si_cac_config_reg *cac_override;\n\tconst struct si_powertune_data *powertune_data;\n\tstruct si_dyn_powertune_data dyn_powertune_data;\n\t \n\tstruct si_dte_data dte_data;\n\t \n\tSMC_SIslands_MCRegisters smc_mc_reg_table;\n\tSISLANDS_SMC_STATETABLE smc_statetable;\n\tPP_SIslands_PAPMParameters papm_parm;\n\t \n\tu8 svd_gpio_id;\n\tu8 svc_gpio_id;\n\t \n\tbool fan_ctrl_is_in_default_mode;\n\tu32 t_min;\n\tu32 fan_ctrl_default_mode;\n\tbool fan_is_controlled_by_smc;\n};\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}