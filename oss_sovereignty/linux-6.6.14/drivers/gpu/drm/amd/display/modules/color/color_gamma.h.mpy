{
  "module_name": "color_gamma.h",
  "hash_id": "86a1ffc6984300f51f5d5b36202a0148a2324dc04f491ea163e12e344cbf308b",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/modules/color/color_gamma.h",
  "human_readable_source": " \n\n#ifndef COLOR_MOD_COLOR_GAMMA_H_\n#define COLOR_MOD_COLOR_GAMMA_H_\n\n#include \"color_table.h\"\n\nstruct dc_transfer_func;\nstruct dc_gamma;\nstruct dc_transfer_func_distributed_points;\nstruct dc_rgb_fixed;\nstruct dc_color_caps;\nenum dc_transfer_func_predefined;\n\n \nunion regamma_flags {\n\tunsigned int raw;\n\tstruct {\n\t\tunsigned int gammaRampArray       :1;    \n\t\tunsigned int gammaFromEdid        :1;    \n\t\tunsigned int gammaFromEdidEx      :1;    \n\t\tunsigned int gammaFromUser        :1;    \n\t\tunsigned int coeffFromUser        :1;    \n\t\tunsigned int coeffFromEdid        :1;    \n\t\tunsigned int applyDegamma         :1;    \n\t\tunsigned int gammaPredefinedSRGB  :1;    \n\t\tunsigned int gammaPredefinedPQ    :1;    \n\t\tunsigned int gammaPredefinedPQ2084Interim :1;    \n\t\tunsigned int gammaPredefined36    :1;    \n\t\tunsigned int gammaPredefinedReset :1;    \n\t} bits;\n};\n\nstruct regamma_ramp {\n\tunsigned short gamma[256*3];  \n};\n\nstruct regamma_coeff {\n\tint    gamma[3];\n\tint    A0[3];\n\tint    A1[3];\n\tint    A2[3];\n\tint    A3[3];\n};\n\nstruct regamma_lut {\n\tunion regamma_flags flags;\n\tunion {\n\t\tstruct regamma_ramp ramp;\n\t\tstruct regamma_coeff coeff;\n\t};\n};\n\nstruct hdr_tm_params {\n\tunsigned int sdr_white_level;\n\tunsigned int min_content; \n\tunsigned int max_content; \n\tunsigned int min_display; \n\tunsigned int max_display; \n\tunsigned int skip_tm; \n};\n\nstruct calculate_buffer {\n\tint buffer_index;\n\tstruct fixed31_32 buffer[NUM_PTS_IN_REGION];\n\tstruct fixed31_32 gamma_of_2;\n};\n\nstruct translate_from_linear_space_args {\n\tstruct fixed31_32 arg;\n\tstruct fixed31_32 a0;\n\tstruct fixed31_32 a1;\n\tstruct fixed31_32 a2;\n\tstruct fixed31_32 a3;\n\tstruct fixed31_32 gamma;\n\tstruct calculate_buffer *cal_buffer;\n};\n\nvoid setup_x_points_distribution(void);\nvoid log_x_points_distribution(struct dal_logger *logger);\nvoid precompute_pq(void);\nvoid precompute_de_pq(void);\n\nbool mod_color_calculate_regamma_params(struct dc_transfer_func *output_tf,\n\t\tconst struct dc_gamma *ramp, bool mapUserRamp, bool canRomBeUsed,\n\t\tconst struct hdr_tm_params *fs_params,\n\t\tstruct calculate_buffer *cal_buffer);\n\nbool mod_color_calculate_degamma_params(struct dc_color_caps *dc_caps,\n\t\tstruct dc_transfer_func *output_tf,\n\t\tconst struct dc_gamma *ramp, bool mapUserRamp);\n\nbool calculate_user_regamma_coeff(struct dc_transfer_func *output_tf,\n\t\tconst struct regamma_lut *regamma,\n\t\tstruct calculate_buffer *cal_buffer,\n\t\tconst struct dc_gamma *ramp);\n\nbool calculate_user_regamma_ramp(struct dc_transfer_func *output_tf,\n\t\tconst struct regamma_lut *regamma,\n\t\tstruct calculate_buffer *cal_buffer,\n\t\tconst struct dc_gamma *ramp);\n\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}