{
  "module_name": "dcn10_mpc.h",
  "hash_id": "a10f37fbdc51ebd785d68b6eea41373234e0cb35bc4423bc079321a8ae08909f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/dcn10/dcn10_mpc.h",
  "human_readable_source": " \n\n#ifndef __DC_MPCC_DCN10_H__\n#define __DC_MPCC_DCN10_H__\n\n#include \"mpc.h\"\n\n#define TO_DCN10_MPC(mpc_base) \\\n\tcontainer_of(mpc_base, struct dcn10_mpc, base)\n\n#define MPC_COMMON_REG_LIST_DCN1_0(inst) \\\n\tSRII(MPCC_TOP_SEL, MPCC, inst),\\\n\tSRII(MPCC_BOT_SEL, MPCC, inst),\\\n\tSRII(MPCC_CONTROL, MPCC, inst),\\\n\tSRII(MPCC_STATUS, MPCC, inst),\\\n\tSRII(MPCC_OPP_ID, MPCC, inst),\\\n\tSRII(MPCC_BG_G_Y, MPCC, inst),\\\n\tSRII(MPCC_BG_R_CR, MPCC, inst),\\\n\tSRII(MPCC_BG_B_CB, MPCC, inst),\\\n\tSRII(MPCC_SM_CONTROL, MPCC, inst),\\\n\tSRII(MPCC_UPDATE_LOCK_SEL, MPCC, inst)\n\n#define MPC_OUT_MUX_COMMON_REG_LIST_DCN1_0(inst) \\\n\tSRII(MUX, MPC_OUT, inst),\\\n\tVUPDATE_SRII(CUR, VUPDATE_LOCK_SET, inst)\n\n#define MPC_COMMON_REG_VARIABLE_LIST \\\n\tuint32_t MPCC_TOP_SEL[MAX_MPCC]; \\\n\tuint32_t MPCC_BOT_SEL[MAX_MPCC]; \\\n\tuint32_t MPCC_CONTROL[MAX_MPCC]; \\\n\tuint32_t MPCC_STATUS[MAX_MPCC]; \\\n\tuint32_t MPCC_OPP_ID[MAX_MPCC]; \\\n\tuint32_t MPCC_BG_G_Y[MAX_MPCC]; \\\n\tuint32_t MPCC_BG_R_CR[MAX_MPCC]; \\\n\tuint32_t MPCC_BG_B_CB[MAX_MPCC]; \\\n\tuint32_t MPCC_SM_CONTROL[MAX_MPCC]; \\\n\tuint32_t MUX[MAX_OPP]; \\\n\tuint32_t MPCC_UPDATE_LOCK_SEL[MAX_MPCC]; \\\n\tuint32_t CUR[MAX_OPP];\n\n#define MPC_COMMON_MASK_SH_LIST_DCN1_0(mask_sh)\\\n\tSF(MPCC0_MPCC_TOP_SEL, MPCC_TOP_SEL, mask_sh),\\\n\tSF(MPCC0_MPCC_BOT_SEL, MPCC_BOT_SEL, mask_sh),\\\n\tSF(MPCC0_MPCC_CONTROL, MPCC_MODE, mask_sh),\\\n\tSF(MPCC0_MPCC_CONTROL, MPCC_ALPHA_BLND_MODE, mask_sh),\\\n\tSF(MPCC0_MPCC_CONTROL, MPCC_ALPHA_MULTIPLIED_MODE, mask_sh),\\\n\tSF(MPCC0_MPCC_CONTROL, MPCC_BLND_ACTIVE_OVERLAP_ONLY, mask_sh),\\\n\tSF(MPCC0_MPCC_CONTROL, MPCC_GLOBAL_ALPHA, mask_sh),\\\n\tSF(MPCC0_MPCC_CONTROL, MPCC_GLOBAL_GAIN, mask_sh),\\\n\tSF(MPCC0_MPCC_STATUS, MPCC_IDLE, mask_sh),\\\n\tSF(MPCC0_MPCC_STATUS, MPCC_BUSY, mask_sh),\\\n\tSF(MPCC0_MPCC_OPP_ID, MPCC_OPP_ID, mask_sh),\\\n\tSF(MPCC0_MPCC_BG_G_Y, MPCC_BG_G_Y, mask_sh),\\\n\tSF(MPCC0_MPCC_BG_R_CR, MPCC_BG_R_CR, mask_sh),\\\n\tSF(MPCC0_MPCC_BG_B_CB, MPCC_BG_B_CB, mask_sh),\\\n\tSF(MPCC0_MPCC_SM_CONTROL, MPCC_SM_EN, mask_sh),\\\n\tSF(MPCC0_MPCC_SM_CONTROL, MPCC_SM_MODE, mask_sh),\\\n\tSF(MPCC0_MPCC_SM_CONTROL, MPCC_SM_FRAME_ALT, mask_sh),\\\n\tSF(MPCC0_MPCC_SM_CONTROL, MPCC_SM_FIELD_ALT, mask_sh),\\\n\tSF(MPCC0_MPCC_SM_CONTROL, MPCC_SM_FORCE_NEXT_FRAME_POL, mask_sh),\\\n\tSF(MPCC0_MPCC_SM_CONTROL, MPCC_SM_FORCE_NEXT_TOP_POL, mask_sh),\\\n\tSF(MPC_OUT0_MUX, MPC_OUT_MUX, mask_sh),\\\n\tSF(MPCC0_MPCC_UPDATE_LOCK_SEL, MPCC_UPDATE_LOCK_SEL, mask_sh)\n\n#define MPC_REG_FIELD_LIST(type) \\\n\ttype MPCC_TOP_SEL;\\\n\ttype MPCC_BOT_SEL;\\\n\ttype MPCC_MODE;\\\n\ttype MPCC_ALPHA_BLND_MODE;\\\n\ttype MPCC_ALPHA_MULTIPLIED_MODE;\\\n\ttype MPCC_BLND_ACTIVE_OVERLAP_ONLY;\\\n\ttype MPCC_GLOBAL_ALPHA;\\\n\ttype MPCC_GLOBAL_GAIN;\\\n\ttype MPCC_IDLE;\\\n\ttype MPCC_BUSY;\\\n\ttype MPCC_OPP_ID;\\\n\ttype MPCC_BG_G_Y;\\\n\ttype MPCC_BG_R_CR;\\\n\ttype MPCC_BG_B_CB;\\\n\ttype MPCC_SM_EN;\\\n\ttype MPCC_SM_MODE;\\\n\ttype MPCC_SM_FRAME_ALT;\\\n\ttype MPCC_SM_FIELD_ALT;\\\n\ttype MPCC_SM_FORCE_NEXT_FRAME_POL;\\\n\ttype MPCC_SM_FORCE_NEXT_TOP_POL;\\\n\ttype MPC_OUT_MUX;\\\n\ttype MPCC_UPDATE_LOCK_SEL;\\\n\ttype CUR_VUPDATE_LOCK_SET;\n\nstruct dcn_mpc_registers {\n\tMPC_COMMON_REG_VARIABLE_LIST\n};\n\nstruct dcn_mpc_shift {\n\tMPC_REG_FIELD_LIST(uint8_t)\n};\n\nstruct dcn_mpc_mask {\n\tMPC_REG_FIELD_LIST(uint32_t)\n};\n\nstruct dcn10_mpc {\n\tstruct mpc base;\n\n\tint mpcc_in_use_mask;\n\tint num_mpcc;\n\tconst struct dcn_mpc_registers *mpc_regs;\n\tconst struct dcn_mpc_shift *mpc_shift;\n\tconst struct dcn_mpc_mask *mpc_mask;\n};\n\nvoid dcn10_mpc_construct(struct dcn10_mpc *mpcc10,\n\tstruct dc_context *ctx,\n\tconst struct dcn_mpc_registers *mpc_regs,\n\tconst struct dcn_mpc_shift *mpc_shift,\n\tconst struct dcn_mpc_mask *mpc_mask,\n\tint num_mpcc);\n\nstruct mpcc *mpc1_insert_plane(\n\tstruct mpc *mpc,\n\tstruct mpc_tree *tree,\n\tstruct mpcc_blnd_cfg *blnd_cfg,\n\tstruct mpcc_sm_cfg *sm_cfg,\n\tstruct mpcc *insert_above_mpcc,\n\tint dpp_id,\n\tint mpcc_id);\n\nvoid mpc1_remove_mpcc(\n\tstruct mpc *mpc,\n\tstruct mpc_tree *tree,\n\tstruct mpcc *mpcc);\n\nvoid mpc1_mpc_init(\n\tstruct mpc *mpc);\n\nvoid mpc1_mpc_init_single_inst(\n\tstruct mpc *mpc,\n\tunsigned int mpcc_id);\n\nvoid mpc1_assert_idle_mpcc(\n\tstruct mpc *mpc,\n\tint id);\n\nvoid mpc1_set_bg_color(\n\tstruct mpc *mpc,\n\tstruct tg_color *bg_color,\n\tint id);\n\nvoid mpc1_update_stereo_mix(\n\tstruct mpc *mpc,\n\tstruct mpcc_sm_cfg *sm_cfg,\n\tint mpcc_id);\n\nbool mpc1_is_mpcc_idle(\n\tstruct mpc *mpc,\n\tint mpcc_id);\n\nvoid mpc1_assert_mpcc_idle_before_connect(\n\tstruct mpc *mpc,\n\tint mpcc_id);\n\nvoid mpc1_init_mpcc_list_from_hw(\n\tstruct mpc *mpc,\n\tstruct mpc_tree *tree);\n\nstruct mpcc *mpc1_get_mpcc(\n\tstruct mpc *mpc,\n\tint mpcc_id);\n\nstruct mpcc *mpc1_get_mpcc_for_dpp(\n\tstruct mpc_tree *tree,\n\tint dpp_id);\n\nvoid mpc1_read_mpcc_state(\n\t\tstruct mpc *mpc,\n\t\tint mpcc_inst,\n\t\tstruct mpcc_state *s);\n\nvoid mpc1_cursor_lock(struct mpc *mpc, int opp_id, bool lock);\n\nunsigned int mpc1_get_mpc_out_mux(struct mpc *mpc, int opp_id);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}