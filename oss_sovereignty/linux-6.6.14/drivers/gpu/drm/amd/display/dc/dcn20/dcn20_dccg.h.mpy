{
  "module_name": "dcn20_dccg.h",
  "hash_id": "7885fc6ca5295f3842874e383aec57bf6a65f7073fbe1d274bd292edcebf4335",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/dcn20/dcn20_dccg.h",
  "human_readable_source": " \n\n#ifndef __DCN20_DCCG_H__\n#define __DCN20_DCCG_H__\n\n#include \"dccg.h\"\n\n#define DCCG_COMMON_REG_LIST_DCN_BASE() \\\n\tSR(DPPCLK_DTO_CTRL),\\\n\tDCCG_SRII(DTO_PARAM, DPPCLK, 0),\\\n\tDCCG_SRII(DTO_PARAM, DPPCLK, 1),\\\n\tDCCG_SRII(DTO_PARAM, DPPCLK, 2),\\\n\tDCCG_SRII(DTO_PARAM, DPPCLK, 3),\\\n\tSR(REFCLK_CNTL),\\\n\tDCCG_SRII(PIXEL_RATE_CNTL, OTG, 0),\\\n\tDCCG_SRII(PIXEL_RATE_CNTL, OTG, 1),\\\n\tSR(DISPCLK_FREQ_CHANGE_CNTL)\n\n#define DCCG_REG_LIST_DCN2() \\\n\tDCCG_COMMON_REG_LIST_DCN_BASE(),\\\n\tDCCG_SRII(DTO_PARAM, DPPCLK, 4),\\\n\tDCCG_SRII(DTO_PARAM, DPPCLK, 5),\\\n\tDCCG_SRII(PIXEL_RATE_CNTL, OTG, 2),\\\n\tDCCG_SRII(PIXEL_RATE_CNTL, OTG, 3),\\\n\tDCCG_SRII(PIXEL_RATE_CNTL, OTG, 4),\\\n\tDCCG_SRII(PIXEL_RATE_CNTL, OTG, 5)\n\n#define DCCG_SF(reg_name, field_name, post_fix)\\\n\t.field_name = reg_name ## __ ## field_name ## post_fix\n\n#define DCCG_SFI(reg_name, field_name, field_prefix, inst, post_fix)\\\n\t.field_prefix ## _ ## field_name[inst] = reg_name ## __ ## field_prefix ## inst ## _ ## field_name ## post_fix\n\n#define DCCG_SFII(block, reg_name, field_prefix, field_name, inst, post_fix)\\\n\t.field_prefix ## _ ## field_name[inst] = block ## inst ## _ ## reg_name ## __ ## field_prefix ## inst ## _ ## field_name ## post_fix\n\n#define DCCG_COMMON_MASK_SH_LIST_DCN_COMMON_BASE(mask_sh) \\\n\tDCCG_SFI(DPPCLK_DTO_CTRL, DTO_ENABLE, DPPCLK, 0, mask_sh),\\\n\tDCCG_SFI(DPPCLK_DTO_CTRL, DTO_DB_EN, DPPCLK, 0, mask_sh),\\\n\tDCCG_SFI(DPPCLK_DTO_CTRL, DTO_ENABLE, DPPCLK, 1, mask_sh),\\\n\tDCCG_SFI(DPPCLK_DTO_CTRL, DTO_DB_EN, DPPCLK, 1, mask_sh),\\\n\tDCCG_SFI(DPPCLK_DTO_CTRL, DTO_ENABLE, DPPCLK, 2, mask_sh),\\\n\tDCCG_SFI(DPPCLK_DTO_CTRL, DTO_DB_EN, DPPCLK, 2, mask_sh),\\\n\tDCCG_SFI(DPPCLK_DTO_CTRL, DTO_ENABLE, DPPCLK, 3, mask_sh),\\\n\tDCCG_SFI(DPPCLK_DTO_CTRL, DTO_DB_EN, DPPCLK, 3, mask_sh),\\\n\tDCCG_SF(DPPCLK0_DTO_PARAM, DPPCLK0_DTO_PHASE, mask_sh),\\\n\tDCCG_SF(DPPCLK0_DTO_PARAM, DPPCLK0_DTO_MODULO, mask_sh),\\\n\tDCCG_SF(REFCLK_CNTL, REFCLK_CLOCK_EN, mask_sh),\\\n\tDCCG_SF(REFCLK_CNTL, REFCLK_SRC_SEL, mask_sh),\\\n\tDCCG_SF(DISPCLK_FREQ_CHANGE_CNTL, DISPCLK_STEP_DELAY, mask_sh),\\\n\tDCCG_SF(DISPCLK_FREQ_CHANGE_CNTL, DISPCLK_STEP_SIZE, mask_sh),\\\n\tDCCG_SF(DISPCLK_FREQ_CHANGE_CNTL, DISPCLK_FREQ_RAMP_DONE, mask_sh),\\\n\tDCCG_SF(DISPCLK_FREQ_CHANGE_CNTL, DISPCLK_MAX_ERRDET_CYCLES, mask_sh),\\\n\tDCCG_SF(DISPCLK_FREQ_CHANGE_CNTL, DCCG_FIFO_ERRDET_RESET, mask_sh),\\\n\tDCCG_SF(DISPCLK_FREQ_CHANGE_CNTL, DCCG_FIFO_ERRDET_STATE, mask_sh),\\\n\tDCCG_SF(DISPCLK_FREQ_CHANGE_CNTL, DCCG_FIFO_ERRDET_OVR_EN, mask_sh),\\\n\tDCCG_SF(DISPCLK_FREQ_CHANGE_CNTL, DISPCLK_CHG_FWD_CORR_DISABLE, mask_sh),\\\n\tDCCG_SFII(OTG, PIXEL_RATE_CNTL, OTG, ADD_PIXEL, 0, mask_sh),\\\n\tDCCG_SFII(OTG, PIXEL_RATE_CNTL, OTG, ADD_PIXEL, 1, mask_sh),\\\n\tDCCG_SFII(OTG, PIXEL_RATE_CNTL, OTG, DROP_PIXEL, 0, mask_sh),\\\n\tDCCG_SFII(OTG, PIXEL_RATE_CNTL, OTG, DROP_PIXEL, 1, mask_sh)\n\n\n\n\n#define DCCG_MASK_SH_LIST_DCN2(mask_sh) \\\n\tDCCG_COMMON_MASK_SH_LIST_DCN_COMMON_BASE(mask_sh),\\\n\tDCCG_SFI(DPPCLK_DTO_CTRL, DTO_ENABLE, DPPCLK, 4, mask_sh),\\\n\tDCCG_SFI(DPPCLK_DTO_CTRL, DTO_DB_EN, DPPCLK, 4, mask_sh),\\\n\tDCCG_SFI(DPPCLK_DTO_CTRL, DTO_ENABLE, DPPCLK, 5, mask_sh),\\\n\tDCCG_SFI(DPPCLK_DTO_CTRL, DTO_DB_EN, DPPCLK, 5, mask_sh),\\\n\tDCCG_SFII(OTG, PIXEL_RATE_CNTL, OTG, ADD_PIXEL, 2, mask_sh),\\\n\tDCCG_SFII(OTG, PIXEL_RATE_CNTL, OTG, ADD_PIXEL, 3, mask_sh),\\\n\tDCCG_SFII(OTG, PIXEL_RATE_CNTL, OTG, ADD_PIXEL, 4, mask_sh),\\\n\tDCCG_SFII(OTG, PIXEL_RATE_CNTL, OTG, ADD_PIXEL, 5, mask_sh),\\\n\tDCCG_SFII(OTG, PIXEL_RATE_CNTL, OTG, DROP_PIXEL, 2, mask_sh),\\\n\tDCCG_SFII(OTG, PIXEL_RATE_CNTL, OTG, DROP_PIXEL, 3, mask_sh),\\\n\tDCCG_SFII(OTG, PIXEL_RATE_CNTL, OTG, DROP_PIXEL, 4, mask_sh),\\\n\tDCCG_SFII(OTG, PIXEL_RATE_CNTL, OTG, DROP_PIXEL, 5, mask_sh)\n\n#define DCCG_MASK_SH_LIST_DCN2_1(mask_sh) \\\n\tDCCG_COMMON_MASK_SH_LIST_DCN_COMMON_BASE(mask_sh),\\\n\tDCCG_SFI(DPPCLK_DTO_CTRL, DTO_ENABLE, DPPCLK, 4, mask_sh),\\\n\tDCCG_SFI(DPPCLK_DTO_CTRL, DTO_DB_EN, DPPCLK, 4, mask_sh),\\\n\tDCCG_SFI(DPPCLK_DTO_CTRL, DTO_ENABLE, DPPCLK, 5, mask_sh),\\\n\tDCCG_SFI(DPPCLK_DTO_CTRL, DTO_DB_EN, DPPCLK, 5, mask_sh),\\\n\tDCCG_SFII(OTG, PIXEL_RATE_CNTL, OTG, ADD_PIXEL, 2, mask_sh),\\\n\tDCCG_SFII(OTG, PIXEL_RATE_CNTL, OTG, ADD_PIXEL, 3, mask_sh),\\\n\tDCCG_SFII(OTG, PIXEL_RATE_CNTL, OTG, DROP_PIXEL, 2, mask_sh),\\\n\tDCCG_SFII(OTG, PIXEL_RATE_CNTL, OTG, DROP_PIXEL, 3, mask_sh)\n\n\n#define DCCG_REG_FIELD_LIST(type) \\\n\ttype DPPCLK0_DTO_PHASE;\\\n\ttype DPPCLK0_DTO_MODULO;\\\n\ttype DPPCLK_DTO_ENABLE[6];\\\n\ttype DPPCLK_DTO_DB_EN[6];\\\n\ttype REFCLK_CLOCK_EN;\\\n\ttype REFCLK_SRC_SEL;\\\n\ttype DISPCLK_STEP_DELAY;\\\n\ttype DISPCLK_STEP_SIZE;\\\n\ttype DISPCLK_FREQ_RAMP_DONE;\\\n\ttype DISPCLK_MAX_ERRDET_CYCLES;\\\n\ttype DCCG_FIFO_ERRDET_RESET;\\\n\ttype DCCG_FIFO_ERRDET_STATE;\\\n\ttype DCCG_FIFO_ERRDET_OVR_EN;\\\n\ttype DISPCLK_CHG_FWD_CORR_DISABLE;\\\n\ttype DISPCLK_FREQ_CHANGE_CNTL;\\\n\ttype OTG_ADD_PIXEL[MAX_PIPES];\\\n\ttype OTG_DROP_PIXEL[MAX_PIPES];\n\n#define DCCG3_REG_FIELD_LIST(type) \\\n\ttype HDMICHARCLK0_EN;\\\n\ttype HDMICHARCLK0_SRC_SEL;\\\n\ttype PHYASYMCLK_FORCE_EN;\\\n\ttype PHYASYMCLK_FORCE_SRC_SEL;\\\n\ttype PHYBSYMCLK_FORCE_EN;\\\n\ttype PHYBSYMCLK_FORCE_SRC_SEL;\\\n\ttype PHYCSYMCLK_FORCE_EN;\\\n\ttype PHYCSYMCLK_FORCE_SRC_SEL;\n\n#define DCCG31_REG_FIELD_LIST(type) \\\n\ttype PHYDSYMCLK_FORCE_EN;\\\n\ttype PHYDSYMCLK_FORCE_SRC_SEL;\\\n\ttype PHYESYMCLK_FORCE_EN;\\\n\ttype PHYESYMCLK_FORCE_SRC_SEL;\\\n\ttype DPSTREAMCLK_PIPE0_EN;\\\n\ttype DPSTREAMCLK_PIPE1_EN;\\\n\ttype DPSTREAMCLK_PIPE2_EN;\\\n\ttype DPSTREAMCLK_PIPE3_EN;\\\n\ttype HDMISTREAMCLK0_SRC_SEL;\\\n\ttype HDMISTREAMCLK0_DTO_FORCE_DIS;\\\n\ttype SYMCLK32_SE0_SRC_SEL;\\\n\ttype SYMCLK32_SE1_SRC_SEL;\\\n\ttype SYMCLK32_SE2_SRC_SEL;\\\n\ttype SYMCLK32_SE3_SRC_SEL;\\\n\ttype SYMCLK32_SE0_EN;\\\n\ttype SYMCLK32_SE1_EN;\\\n\ttype SYMCLK32_SE2_EN;\\\n\ttype SYMCLK32_SE3_EN;\\\n\ttype SYMCLK32_LE0_SRC_SEL;\\\n\ttype SYMCLK32_LE1_SRC_SEL;\\\n\ttype SYMCLK32_LE0_EN;\\\n\ttype SYMCLK32_LE1_EN;\\\n\ttype DTBCLK_DTO_ENABLE[MAX_PIPES];\\\n\ttype DTBCLKDTO_ENABLE_STATUS[MAX_PIPES];\\\n\ttype PIPE_DTO_SRC_SEL[MAX_PIPES];\\\n\ttype DTBCLK_DTO_DIV[MAX_PIPES];\\\n\ttype DCCG_AUDIO_DTO_SEL;\\\n\ttype DCCG_AUDIO_DTO0_SOURCE_SEL;\\\n\ttype DENTIST_DISPCLK_CHG_MODE;\\\n\ttype DSCCLK0_DTO_PHASE;\\\n\ttype DSCCLK0_DTO_MODULO;\\\n\ttype DSCCLK1_DTO_PHASE;\\\n\ttype DSCCLK1_DTO_MODULO;\\\n\ttype DSCCLK2_DTO_PHASE;\\\n\ttype DSCCLK2_DTO_MODULO;\\\n\ttype DSCCLK0_DTO_ENABLE;\\\n\ttype DSCCLK1_DTO_ENABLE;\\\n\ttype DSCCLK2_DTO_ENABLE;\\\n\ttype SYMCLK32_ROOT_SE0_GATE_DISABLE;\\\n\ttype SYMCLK32_ROOT_SE1_GATE_DISABLE;\\\n\ttype SYMCLK32_ROOT_SE2_GATE_DISABLE;\\\n\ttype SYMCLK32_ROOT_SE3_GATE_DISABLE;\\\n\ttype SYMCLK32_SE0_GATE_DISABLE;\\\n\ttype SYMCLK32_SE1_GATE_DISABLE;\\\n\ttype SYMCLK32_SE2_GATE_DISABLE;\\\n\ttype SYMCLK32_SE3_GATE_DISABLE;\\\n\ttype SYMCLK32_ROOT_LE0_GATE_DISABLE;\\\n\ttype SYMCLK32_ROOT_LE1_GATE_DISABLE;\\\n\ttype SYMCLK32_LE0_GATE_DISABLE;\\\n\ttype SYMCLK32_LE1_GATE_DISABLE;\\\n\ttype DPSTREAMCLK_ROOT_GATE_DISABLE;\\\n\ttype DPSTREAMCLK_GATE_DISABLE;\\\n\ttype HDMISTREAMCLK0_DTO_PHASE;\\\n\ttype HDMISTREAMCLK0_DTO_MODULO;\\\n\ttype HDMICHARCLK0_GATE_DISABLE;\\\n\ttype HDMICHARCLK0_ROOT_GATE_DISABLE; \\\n\ttype PHYASYMCLK_GATE_DISABLE; \\\n\ttype PHYBSYMCLK_GATE_DISABLE; \\\n\ttype PHYCSYMCLK_GATE_DISABLE; \\\n\ttype PHYDSYMCLK_GATE_DISABLE; \\\n\ttype PHYESYMCLK_GATE_DISABLE;\n\n#define DCCG314_REG_FIELD_LIST(type) \\\n\ttype DSCCLK3_DTO_PHASE;\\\n\ttype DSCCLK3_DTO_MODULO;\\\n\ttype DSCCLK3_DTO_ENABLE;\\\n\ttype DENTIST_DISPCLK_RDIVIDER;\\\n\ttype DENTIST_DISPCLK_WDIVIDER;\n\n#define DCCG32_REG_FIELD_LIST(type) \\\n\ttype DPSTREAMCLK0_EN;\\\n\ttype DPSTREAMCLK1_EN;\\\n\ttype DPSTREAMCLK2_EN;\\\n\ttype DPSTREAMCLK3_EN;\\\n\ttype DPSTREAMCLK0_SRC_SEL;\\\n\ttype DPSTREAMCLK1_SRC_SEL;\\\n\ttype DPSTREAMCLK2_SRC_SEL;\\\n\ttype DPSTREAMCLK3_SRC_SEL;\\\n\ttype HDMISTREAMCLK0_EN;\\\n\ttype OTG0_PIXEL_RATE_DIVK1;\\\n\ttype OTG0_PIXEL_RATE_DIVK2;\\\n\ttype OTG1_PIXEL_RATE_DIVK1;\\\n\ttype OTG1_PIXEL_RATE_DIVK2;\\\n\ttype OTG2_PIXEL_RATE_DIVK1;\\\n\ttype OTG2_PIXEL_RATE_DIVK2;\\\n\ttype OTG3_PIXEL_RATE_DIVK1;\\\n\ttype OTG3_PIXEL_RATE_DIVK2;\\\n\ttype DTBCLK_P0_SRC_SEL;\\\n\ttype DTBCLK_P0_EN;\\\n\ttype DTBCLK_P1_SRC_SEL;\\\n\ttype DTBCLK_P1_EN;\\\n\ttype DTBCLK_P2_SRC_SEL;\\\n\ttype DTBCLK_P2_EN;\\\n\ttype DTBCLK_P3_SRC_SEL;\\\n\ttype DTBCLK_P3_EN;\\\n\ttype DENTIST_DISPCLK_CHG_DONE;\n\nstruct dccg_shift {\n\tDCCG_REG_FIELD_LIST(uint8_t)\n\tDCCG3_REG_FIELD_LIST(uint8_t)\n\tDCCG31_REG_FIELD_LIST(uint8_t)\n\tDCCG314_REG_FIELD_LIST(uint8_t)\n\tDCCG32_REG_FIELD_LIST(uint8_t)\n};\n\nstruct dccg_mask {\n\tDCCG_REG_FIELD_LIST(uint32_t)\n\tDCCG3_REG_FIELD_LIST(uint32_t)\n\tDCCG31_REG_FIELD_LIST(uint32_t)\n\tDCCG314_REG_FIELD_LIST(uint32_t)\n\tDCCG32_REG_FIELD_LIST(uint32_t)\n};\n\nstruct dccg_registers {\n\tuint32_t DPPCLK_DTO_CTRL;\n\tuint32_t DPPCLK_DTO_PARAM[6];\n\tuint32_t REFCLK_CNTL;\n\tuint32_t DISPCLK_FREQ_CHANGE_CNTL;\n\tuint32_t OTG_PIXEL_RATE_CNTL[MAX_PIPES];\n\tuint32_t HDMICHARCLK_CLOCK_CNTL[6];\n\tuint32_t PHYASYMCLK_CLOCK_CNTL;\n\tuint32_t PHYBSYMCLK_CLOCK_CNTL;\n\tuint32_t PHYCSYMCLK_CLOCK_CNTL;\n\tuint32_t PHYDSYMCLK_CLOCK_CNTL;\n\tuint32_t PHYESYMCLK_CLOCK_CNTL;\n\tuint32_t DTBCLK_DTO_MODULO[MAX_PIPES];\n\tuint32_t DTBCLK_DTO_PHASE[MAX_PIPES];\n\tuint32_t DCCG_AUDIO_DTBCLK_DTO_MODULO;\n\tuint32_t DCCG_AUDIO_DTBCLK_DTO_PHASE;\n\tuint32_t DCCG_AUDIO_DTO_SOURCE;\n\tuint32_t DPSTREAMCLK_CNTL;\n\tuint32_t HDMISTREAMCLK_CNTL;\n\tuint32_t SYMCLK32_SE_CNTL;\n\tuint32_t SYMCLK32_LE_CNTL;\n\tuint32_t DENTIST_DISPCLK_CNTL;\n\tuint32_t DSCCLK_DTO_CTRL;\n\tuint32_t DSCCLK0_DTO_PARAM;\n\tuint32_t DSCCLK1_DTO_PARAM;\n\tuint32_t DSCCLK2_DTO_PARAM;\n\tuint32_t DSCCLK3_DTO_PARAM;\n\tuint32_t DPSTREAMCLK_ROOT_GATE_DISABLE;\n\tuint32_t DPSTREAMCLK_GATE_DISABLE;\n\tuint32_t DCCG_GATE_DISABLE_CNTL;\n\tuint32_t DCCG_GATE_DISABLE_CNTL2;\n\tuint32_t DCCG_GATE_DISABLE_CNTL3;\n\tuint32_t HDMISTREAMCLK0_DTO_PARAM;\n\tuint32_t DCCG_GATE_DISABLE_CNTL4;\n\tuint32_t OTG_PIXEL_RATE_DIV;\n\tuint32_t DTBCLK_P_CNTL;\n};\n\nstruct dcn_dccg {\n\tstruct dccg base;\n\tconst struct dccg_registers *regs;\n\tconst struct dccg_shift *dccg_shift;\n\tconst struct dccg_mask *dccg_mask;\n};\n\nvoid dccg2_update_dpp_dto(struct dccg *dccg, int dpp_inst, int req_dppclk);\n\nvoid dccg2_get_dccg_ref_freq(struct dccg *dccg,\n\t\tunsigned int xtalin_freq_inKhz,\n\t\tunsigned int *dccg_ref_freq_inKhz);\n\nvoid dccg2_set_fifo_errdet_ovr_en(struct dccg *dccg,\n\t\tbool en);\nvoid dccg2_otg_add_pixel(struct dccg *dccg,\n\t\tuint32_t otg_inst);\nvoid dccg2_otg_drop_pixel(struct dccg *dccg,\n\t\tuint32_t otg_inst);\n\n\nvoid dccg2_init(struct dccg *dccg);\n\nstruct dccg *dccg2_create(\n\tstruct dc_context *ctx,\n\tconst struct dccg_registers *regs,\n\tconst struct dccg_shift *dccg_shift,\n\tconst struct dccg_mask *dccg_mask);\n\nvoid dcn_dccg_destroy(struct dccg **dccg);\n\n#endif \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}