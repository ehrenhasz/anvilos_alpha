{
  "module_name": "dcn31_apg.h",
  "hash_id": "84a31e134eba830b6c3b6ee51e00bc7895a9bd382ca810b93454460df40e71f3",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/dcn31/dcn31_apg.h",
  "human_readable_source": " \n\n#ifndef __DAL_DCN31_AGP_H__\n#define __DAL_DCN31_AGP_H__\n\n\n#define DCN31_APG_FROM_APG(apg)\\\n\tcontainer_of(apg, struct dcn31_apg, base)\n\n#define APG_DCN31_REG_LIST(id) \\\n\tSRI(APG_CONTROL, APG, id), \\\n\tSRI(APG_CONTROL2, APG, id),\\\n\tSRI(APG_MEM_PWR, APG, id),\\\n\tSRI(APG_DBG_GEN_CONTROL, APG, id)\n\nstruct dcn31_apg_registers {\n\tuint32_t APG_CONTROL;\n\tuint32_t APG_CONTROL2;\n\tuint32_t APG_MEM_PWR;\n\tuint32_t APG_DBG_GEN_CONTROL;\n};\n\n\n#define DCN31_APG_MASK_SH_LIST(mask_sh)\\\n\tSE_SF(APG0_APG_CONTROL, APG_RESET, mask_sh),\\\n\tSE_SF(APG0_APG_CONTROL, APG_RESET_DONE, mask_sh),\\\n\tSE_SF(APG0_APG_CONTROL2, APG_ENABLE, mask_sh),\\\n\tSE_SF(APG0_APG_CONTROL2, APG_DP_AUDIO_STREAM_ID, mask_sh),\\\n\tSE_SF(APG0_APG_DBG_GEN_CONTROL, APG_DBG_AUDIO_CHANNEL_ENABLE, mask_sh),\\\n\tSE_SF(APG0_APG_MEM_PWR, APG_MEM_PWR_FORCE, mask_sh)\n\n#define APG_DCN31_REG_FIELD_LIST(type) \\\n\t\ttype APG_RESET;\\\n\t\ttype APG_RESET_DONE;\\\n\t\ttype APG_ENABLE;\\\n\t\ttype APG_DP_AUDIO_STREAM_ID;\\\n\t\ttype APG_DBG_AUDIO_CHANNEL_ENABLE;\\\n\t\ttype APG_MEM_PWR_FORCE\n\nstruct dcn31_apg_shift {\n\tAPG_DCN31_REG_FIELD_LIST(uint8_t);\n};\n\nstruct dcn31_apg_mask {\n\tAPG_DCN31_REG_FIELD_LIST(uint32_t);\n};\n\nstruct apg {\n\tconst struct apg_funcs *funcs;\n\tstruct dc_context *ctx;\n\tint inst;\n};\n\nstruct apg_funcs {\n\n\tvoid (*setup_hdmi_audio)(\n\t\tstruct apg *apg);\n\n\tvoid (*se_audio_setup)(\n\t\tstruct apg *apg,\n\t\tunsigned int az_inst,\n\t\tstruct audio_info *audio_info);\n\n\tvoid (*enable_apg)(\n\t\tstruct apg *apg);\n\n\tvoid (*disable_apg)(\n\t\tstruct apg *apg);\n};\n\n\n\nstruct dcn31_apg {\n\tstruct apg base;\n\tconst struct dcn31_apg_registers *regs;\n\tconst struct dcn31_apg_shift *apg_shift;\n\tconst struct dcn31_apg_mask *apg_mask;\n};\n\nvoid apg31_construct(struct dcn31_apg *apg3,\n\tstruct dc_context *ctx,\n\tuint32_t inst,\n\tconst struct dcn31_apg_registers *apg_regs,\n\tconst struct dcn31_apg_shift *apg_shift,\n\tconst struct dcn31_apg_mask *apg_mask);\n\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}