{
  "module_name": "dpp.h",
  "hash_id": "258aadea0e14265bda8c76ef8d8bc40f782fb406ff17a2559a53e84debd05373",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/inc/hw/dpp.h",
  "human_readable_source": " \n\n\n#ifndef __DAL_DPP_H__\n#define __DAL_DPP_H__\n\n#include \"transform.h\"\n#include \"cursor_reg_cache.h\"\n\nunion defer_reg_writes {\n\tstruct {\n\t\tbool disable_blnd_lut:1;\n\t\tbool disable_3dlut:1;\n\t\tbool disable_shaper:1;\n\t\tbool disable_gamcor:1;\n\t\tbool disable_dscl:1;\n\t} bits;\n\tuint32_t raw;\n};\n\nstruct dpp {\n\tconst struct dpp_funcs *funcs;\n\tstruct dc_context *ctx;\n\t \n\tint inst;\n\tstruct dpp_caps *caps;\n\tstruct pwl_params regamma_params;\n\tstruct pwl_params degamma_params;\n\tstruct dpp_cursor_attributes cur_attr;\n\tunion defer_reg_writes deferred_reg_writes;\n\n\tstruct pwl_params shaper_params;\n\tbool cm_bypass_mode;\n\n\tstruct cursor_position_cache_dpp  pos;\n\tstruct cursor_attribute_cache_dpp att;\n};\n\nstruct dpp_input_csc_matrix {\n\tenum dc_color_space color_space;\n\tuint16_t regval[12];\n};\n\nstatic const struct dpp_input_csc_matrix __maybe_unused dpp_input_csc_matrix[] = {\n\t{ COLOR_SPACE_SRGB,\n\t\t{ 0x2000, 0,      0,      0,\n\t\t  0,      0x2000, 0,      0,\n\t\t  0,      0,      0x2000, 0 } },\n\t{ COLOR_SPACE_SRGB_LIMITED,\n\t\t{ 0x2000, 0,      0,      0,\n\t\t  0,      0x2000, 0,      0,\n\t\t  0,      0,      0x2000, 0 } },\n\t{ COLOR_SPACE_YCBCR601,\n\t\t{ 0x2cdd, 0x2000, 0,      0xe991,\n\t\t  0xe926, 0x2000, 0xf4fd, 0x10ef,\n\t\t  0,      0x2000, 0x38b4, 0xe3a6 } },\n\t{ COLOR_SPACE_YCBCR601_LIMITED,\n\t\t{ 0x3353, 0x2568, 0,      0xe400,\n\t\t  0xe5dc, 0x2568, 0xf367, 0x1108,\n\t\t  0,      0x2568, 0x40de, 0xdd3a } },\n\t{ COLOR_SPACE_YCBCR709,\n\t\t{ 0x3265, 0x2000, 0,      0xe6ce,\n\t\t  0xf105, 0x2000, 0xfa01, 0xa7d,\n\t\t  0,      0x2000, 0x3b61, 0xe24f } },\n\t{ COLOR_SPACE_YCBCR709_LIMITED,\n\t\t{ 0x39a6, 0x2568, 0,      0xe0d6,\n\t\t  0xeedd, 0x2568, 0xf925, 0x9a8,\n\t\t  0,      0x2568, 0x43ee, 0xdbb2 } },\n\t{ COLOR_SPACE_2020_YCBCR,\n\t\t{ 0x2F30, 0x2000, 0,      0xE869,\n\t\t  0xEDB7, 0x2000, 0xFABC, 0xBC6,\n\t\t  0,      0x2000, 0x3C34, 0xE1E6 } },\n\t{ COLOR_SPACE_2020_RGB_LIMITEDRANGE,\n\t\t{ 0x35E0, 0x255F, 0,      0xE2B3,\n\t\t  0xEB20, 0x255F, 0xF9FD, 0xB1E,\n\t\t  0,      0x255F, 0x44BD, 0xDB43 } }\n};\n\nstruct dpp_grph_csc_adjustment {\n\tstruct fixed31_32 temperature_matrix[CSC_TEMPERATURE_MATRIX_SIZE];\n\tenum graphics_gamut_adjust_type gamut_adjust_type;\n};\n\nstruct cnv_color_keyer_params {\n\tint color_keyer_en;\n\tint color_keyer_mode;\n\tint color_keyer_alpha_low;\n\tint color_keyer_alpha_high;\n\tint color_keyer_red_low;\n\tint color_keyer_red_high;\n\tint color_keyer_green_low;\n\tint color_keyer_green_high;\n\tint color_keyer_blue_low;\n\tint color_keyer_blue_high;\n};\n\n \nstruct cnv_alpha_2bit_lut {\n\tint lut0;\n\tint lut1;\n\tint lut2;\n\tint lut3;\n};\n\nstruct dcn_dpp_state {\n\tuint32_t is_enabled;\n\tuint32_t igam_lut_mode;\n\tuint32_t igam_input_format;\n\tuint32_t dgam_lut_mode;\n\tuint32_t rgam_lut_mode;\n\tuint32_t gamut_remap_mode;\n\tuint32_t gamut_remap_c11_c12;\n\tuint32_t gamut_remap_c13_c14;\n\tuint32_t gamut_remap_c21_c22;\n\tuint32_t gamut_remap_c23_c24;\n\tuint32_t gamut_remap_c31_c32;\n\tuint32_t gamut_remap_c33_c34;\n};\n\nstruct CM_bias_params {\n\tuint32_t cm_bias_cr_r;\n\tuint32_t cm_bias_y_g;\n\tuint32_t cm_bias_cb_b;\n\tuint32_t cm_bias_format;\n};\n\nstruct dpp_funcs {\n\tbool (*dpp_program_gamcor_lut)(\n\t\tstruct dpp *dpp_base, const struct pwl_params *params);\n\n\tvoid (*dpp_set_pre_degam)(struct dpp *dpp_base,\n\t\t\tenum dc_transfer_func_predefined tr);\n\n\tvoid (*dpp_program_cm_dealpha)(struct dpp *dpp_base,\n\t\tuint32_t enable, uint32_t additive_blending);\n\n\tvoid (*dpp_program_cm_bias)(\n\t\tstruct dpp *dpp_base,\n\t\tstruct CM_bias_params *bias_params);\n\n\tvoid (*dpp_read_state)(struct dpp *dpp, struct dcn_dpp_state *s);\n\n\tvoid (*dpp_reset)(struct dpp *dpp);\n\n\tvoid (*dpp_set_scaler)(struct dpp *dpp,\n\t\t\tconst struct scaler_data *scl_data);\n\n\tvoid (*dpp_set_pixel_storage_depth)(\n\t\t\tstruct dpp *dpp,\n\t\t\tenum lb_pixel_depth depth,\n\t\t\tconst struct bit_depth_reduction_params *bit_depth_params);\n\n\tbool (*dpp_get_optimal_number_of_taps)(\n\t\t\tstruct dpp *dpp,\n\t\t\tstruct scaler_data *scl_data,\n\t\t\tconst struct scaling_taps *in_taps);\n\n\tvoid (*dpp_set_gamut_remap)(\n\t\t\tstruct dpp *dpp,\n\t\t\tconst struct dpp_grph_csc_adjustment *adjust);\n\n\tvoid (*dpp_set_csc_default)(\n\t\tstruct dpp *dpp,\n\t\tenum dc_color_space colorspace);\n\n\tvoid (*dpp_set_csc_adjustment)(\n\t\tstruct dpp *dpp,\n\t\tconst uint16_t *regval);\n\n\tvoid (*dpp_power_on_regamma_lut)(\n\t\tstruct dpp *dpp,\n\t\tbool power_on);\n\n\tvoid (*dpp_program_regamma_lut)(\n\t\t\tstruct dpp *dpp,\n\t\t\tconst struct pwl_result_data *rgb,\n\t\t\tuint32_t num);\n\n\tvoid (*dpp_configure_regamma_lut)(\n\t\t\tstruct dpp *dpp,\n\t\t\tbool is_ram_a);\n\n\tvoid (*dpp_program_regamma_lutb_settings)(\n\t\t\tstruct dpp *dpp,\n\t\t\tconst struct pwl_params *params);\n\n\tvoid (*dpp_program_regamma_luta_settings)(\n\t\t\tstruct dpp *dpp,\n\t\t\tconst struct pwl_params *params);\n\n\tvoid (*dpp_program_regamma_pwl)(\n\t\tstruct dpp *dpp,\n\t\tconst struct pwl_params *params,\n\t\tenum opp_regamma mode);\n\n\tvoid (*dpp_program_bias_and_scale)(\n\t\t\tstruct dpp *dpp,\n\t\t\tstruct dc_bias_and_scale *params);\n\n\tvoid (*dpp_set_degamma)(\n\t\t\tstruct dpp *dpp_base,\n\t\t\tenum ipp_degamma_mode mode);\n\n\tvoid (*dpp_program_input_lut)(\n\t\t\tstruct dpp *dpp_base,\n\t\t\tconst struct dc_gamma *gamma);\n\n\tvoid (*dpp_program_degamma_pwl)(struct dpp *dpp_base,\n\t\t\t\t\t\t\t\t\t const struct pwl_params *params);\n\n\tvoid (*dpp_setup)(\n\t\t\tstruct dpp *dpp_base,\n\t\t\tenum surface_pixel_format format,\n\t\t\tenum expansion_mode mode,\n\t\t\tstruct dc_csc_transform input_csc_color_matrix,\n\t\t\tenum dc_color_space input_color_space,\n\t\t\tstruct cnv_alpha_2bit_lut *alpha_2bit_lut);\n\n\tvoid (*dpp_full_bypass)(struct dpp *dpp_base);\n\n\tvoid (*set_cursor_attributes)(\n\t\t\tstruct dpp *dpp_base,\n\t\t\tstruct dc_cursor_attributes *cursor_attributes);\n\n\tvoid (*set_cursor_position)(\n\t\t\tstruct dpp *dpp_base,\n\t\t\tconst struct dc_cursor_position *pos,\n\t\t\tconst struct dc_cursor_mi_param *param,\n\t\t\tuint32_t width,\n\t\t\tuint32_t height\n\t\t\t);\n\n\tvoid (*dpp_set_hdr_multiplier)(\n\t\t\tstruct dpp *dpp_base,\n\t\t\tuint32_t multiplier);\n\n\tvoid (*set_optional_cursor_attributes)(\n\t\t\tstruct dpp *dpp_base,\n\t\t\tstruct dpp_cursor_attributes *attr);\n\n\tvoid (*dpp_dppclk_control)(\n\t\t\tstruct dpp *dpp_base,\n\t\t\tbool dppclk_div,\n\t\t\tbool enable);\n\n\tvoid (*dpp_deferred_update)(\n\t\t\tstruct dpp *dpp);\n\tbool (*dpp_program_blnd_lut)(\n\t\t\tstruct dpp *dpp,\n\t\t\tconst struct pwl_params *params);\n\tbool (*dpp_program_shaper_lut)(\n\t\t\tstruct dpp *dpp,\n\t\t\tconst struct pwl_params *params);\n\tbool (*dpp_program_3dlut)(\n\t\t\tstruct dpp *dpp,\n\t\t\tstruct tetrahedral_params *params);\n\tvoid (*dpp_cnv_set_alpha_keyer)(\n\t\t\tstruct dpp *dpp_base,\n\t\t\tstruct cnv_color_keyer_params *color_keyer);\n};\n\n\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}