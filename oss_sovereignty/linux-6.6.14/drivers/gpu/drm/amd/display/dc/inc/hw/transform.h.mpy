{
  "module_name": "transform.h",
  "hash_id": "cfa3865dfd326414ac416653bd31f5f9d8cedf2d234e8ddebbed08570d9acd25",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/inc/hw/transform.h",
  "human_readable_source": " \n\n#ifndef __DAL_TRANSFORM_H__\n#define __DAL_TRANSFORM_H__\n\n#include \"hw_shared.h\"\n#include \"dc_hw_types.h\"\n#include \"fixed31_32.h\"\n\n#define CSC_TEMPERATURE_MATRIX_SIZE 12\n\nstruct bit_depth_reduction_params;\n\nstruct transform {\n\tconst struct transform_funcs *funcs;\n\tstruct dc_context *ctx;\n\tint inst;\n\tstruct dpp_caps *caps;\n\tstruct pwl_params regamma_params;\n};\n\n \nenum colorimetry {\n\tCOLORIMETRY_NO_DATA = 0,\n\tCOLORIMETRY_ITU601 = 1,\n\tCOLORIMETRY_ITU709 = 2,\n\tCOLORIMETRY_EXTENDED = 3\n};\n\nenum colorimetry_ext {\n\tCOLORIMETRYEX_XVYCC601 = 0,\n\tCOLORIMETRYEX_XVYCC709 = 1,\n\tCOLORIMETRYEX_SYCC601 = 2,\n\tCOLORIMETRYEX_ADOBEYCC601 = 3,\n\tCOLORIMETRYEX_ADOBERGB = 4,\n\tCOLORIMETRYEX_BT2020YCC = 5,\n\tCOLORIMETRYEX_BT2020RGBYCBCR = 6,\n\tCOLORIMETRYEX_RESERVED = 7\n};\n\nenum active_format_info {\n\tACTIVE_FORMAT_NO_DATA = 0,\n\tACTIVE_FORMAT_VALID = 1\n};\n\n \nenum active_format_aspect_ratio {\n\tACTIVE_FORMAT_ASPECT_RATIO_SAME_AS_PICTURE = 8,\n\tACTIVE_FORMAT_ASPECT_RATIO_4_3 = 9,\n\tACTIVE_FORMAT_ASPECT_RATIO_16_9 = 0XA,\n\tACTIVE_FORMAT_ASPECT_RATIO_14_9 = 0XB\n};\n\nenum bar_info {\n\tBAR_INFO_NOT_VALID = 0,\n\tBAR_INFO_VERTICAL_VALID = 1,\n\tBAR_INFO_HORIZONTAL_VALID = 2,\n\tBAR_INFO_BOTH_VALID = 3\n};\n\nenum picture_scaling {\n\tPICTURE_SCALING_UNIFORM = 0,\n\tPICTURE_SCALING_HORIZONTAL = 1,\n\tPICTURE_SCALING_VERTICAL = 2,\n\tPICTURE_SCALING_BOTH = 3\n};\n\n \nenum rgb_quantization_range {\n\tRGB_QUANTIZATION_DEFAULT_RANGE = 0,\n\tRGB_QUANTIZATION_LIMITED_RANGE = 1,\n\tRGB_QUANTIZATION_FULL_RANGE = 2,\n\tRGB_QUANTIZATION_RESERVED = 3\n};\n\n \nenum yyc_quantization_range {\n\tYYC_QUANTIZATION_LIMITED_RANGE = 0,\n\tYYC_QUANTIZATION_FULL_RANGE = 1,\n\tYYC_QUANTIZATION_RESERVED2 = 2,\n\tYYC_QUANTIZATION_RESERVED3 = 3\n};\n\nenum graphics_gamut_adjust_type {\n\tGRAPHICS_GAMUT_ADJUST_TYPE_BYPASS = 0,\n\tGRAPHICS_GAMUT_ADJUST_TYPE_HW,  \n\tGRAPHICS_GAMUT_ADJUST_TYPE_SW  \n};\n\nenum lb_memory_config {\n\t \n\tLB_MEMORY_CONFIG_0 = 0,\n\n\t \n\tLB_MEMORY_CONFIG_1 = 1,\n\n\t \n\tLB_MEMORY_CONFIG_2 = 2,\n\n\t \n\tLB_MEMORY_CONFIG_3 = 3\n};\n\nstruct xfm_grph_csc_adjustment {\n\tstruct fixed31_32 temperature_matrix[CSC_TEMPERATURE_MATRIX_SIZE];\n\tenum graphics_gamut_adjust_type gamut_adjust_type;\n};\n\nstruct overscan_info {\n\tint left;\n\tint right;\n\tint top;\n\tint bottom;\n};\n\nstruct scaling_ratios {\n\tstruct fixed31_32 horz;\n\tstruct fixed31_32 vert;\n\tstruct fixed31_32 horz_c;\n\tstruct fixed31_32 vert_c;\n};\n\nstruct sharpness_adj {\n\tint horz;\n\tint vert;\n};\n\nstruct line_buffer_params {\n\tbool alpha_en;\n\tbool pixel_expan_mode;\n\tbool interleave_en;\n\tint dynamic_pixel_depth;\n\tenum lb_pixel_depth depth;\n};\n\nstruct scl_inits {\n\tstruct fixed31_32 h;\n\tstruct fixed31_32 h_c;\n\tstruct fixed31_32 v;\n\tstruct fixed31_32 v_c;\n};\n\nstruct scaler_data {\n\tint h_active;\n\tint v_active;\n\tstruct scaling_taps taps;\n\tstruct rect viewport;\n\tstruct rect viewport_c;\n\tstruct rect recout;\n\tstruct scaling_ratios ratios;\n\tstruct scl_inits inits;\n\tstruct sharpness_adj sharpness;\n\tenum pixel_format format;\n\tstruct line_buffer_params lb_params;\n};\n\nstruct transform_funcs {\n\tvoid (*transform_reset)(struct transform *xfm);\n\n\tvoid (*transform_set_scaler)(struct transform *xfm,\n\t\t\tconst struct scaler_data *scl_data);\n\n\tvoid (*transform_set_pixel_storage_depth)(\n\t\t\tstruct transform *xfm,\n\t\t\tenum lb_pixel_depth depth,\n\t\t\tconst struct bit_depth_reduction_params *bit_depth_params);\n\n\tbool (*transform_get_optimal_number_of_taps)(\n\t\t\tstruct transform *xfm,\n\t\t\tstruct scaler_data *scl_data,\n\t\t\tconst struct scaling_taps *in_taps);\n\n\tvoid (*transform_set_gamut_remap)(\n\t\t\tstruct transform *xfm,\n\t\t\tconst struct xfm_grph_csc_adjustment *adjust);\n\n\tvoid (*opp_set_csc_default)(\n\t\tstruct transform *xfm,\n\t\tconst struct default_adjustment *default_adjust);\n\n\tvoid (*opp_set_csc_adjustment)(\n\t\tstruct transform *xfm,\n\t\tconst struct out_csc_color_matrix *tbl_entry);\n\n\tvoid (*opp_power_on_regamma_lut)(\n\t\tstruct transform *xfm,\n\t\tbool power_on);\n\n\tvoid (*opp_program_regamma_lut)(\n\t\t\tstruct transform *xfm,\n\t\t\tconst struct pwl_result_data *rgb,\n\t\t\tuint32_t num);\n\n\tvoid (*opp_configure_regamma_lut)(\n\t\t\tstruct transform *xfm,\n\t\t\tbool is_ram_a);\n\n\tvoid (*opp_program_regamma_lutb_settings)(\n\t\t\tstruct transform *xfm,\n\t\t\tconst struct pwl_params *params);\n\n\tvoid (*opp_program_regamma_luta_settings)(\n\t\t\tstruct transform *xfm,\n\t\t\tconst struct pwl_params *params);\n\n\tvoid (*opp_program_regamma_pwl)(\n\t\tstruct transform *xfm, const struct pwl_params *params);\n\n\tvoid (*opp_set_regamma_mode)(\n\t\t\tstruct transform *xfm_base,\n\t\t\tenum opp_regamma mode);\n\n\tvoid (*ipp_set_degamma)(\n\t\t\tstruct transform *xfm_base,\n\t\t\tenum ipp_degamma_mode mode);\n\n\tvoid (*ipp_program_input_lut)(\n\t\t\tstruct transform *xfm_base,\n\t\t\tconst struct dc_gamma *gamma);\n\n\tvoid (*ipp_program_degamma_pwl)(struct transform *xfm_base,\n\t\t\t\t\t\t\t\t\t const struct pwl_params *params);\n\n\tvoid (*ipp_setup)(\n\t\t\tstruct transform *xfm_base,\n\t\t\tenum surface_pixel_format format,\n\t\t\tenum expansion_mode mode,\n\t\t\tstruct dc_csc_transform input_csc_color_matrix,\n\t\t\tenum dc_color_space input_color_space);\n\n\tvoid (*ipp_full_bypass)(struct transform *xfm_base);\n\n\tvoid (*set_cursor_attributes)(\n\t\t\tstruct transform *xfm_base,\n\t\t\tconst struct dc_cursor_attributes *attr);\n\n};\n\nconst uint16_t *get_filter_2tap_16p(void);\nconst uint16_t *get_filter_2tap_64p(void);\nconst uint16_t *get_filter_3tap_16p(struct fixed31_32 ratio);\nconst uint16_t *get_filter_3tap_64p(struct fixed31_32 ratio);\nconst uint16_t *get_filter_4tap_16p(struct fixed31_32 ratio);\nconst uint16_t *get_filter_4tap_64p(struct fixed31_32 ratio);\nconst uint16_t *get_filter_5tap_64p(struct fixed31_32 ratio);\nconst uint16_t *get_filter_6tap_64p(struct fixed31_32 ratio);\nconst uint16_t *get_filter_7tap_64p(struct fixed31_32 ratio);\nconst uint16_t *get_filter_8tap_64p(struct fixed31_32 ratio);\n\n\n \nenum dscl_data_processing_format {\n\tDSCL_DATA_PRCESSING_FIXED_FORMAT,\t \n\tDSCL_DATA_PRCESSING_FLOAT_FORMAT,\t \n};\n\n \nstruct dpp_caps {\n\t \n\tenum dscl_data_processing_format dscl_data_proc_format;\n\n\t \n\tunsigned int max_lb_partitions;\n\n\t \n\tvoid (*dscl_calc_lb_num_partitions)(\n\t\t\tconst struct scaler_data *scl_data,\n\t\t\tenum lb_memory_config lb_config,\n\t\t\tint *num_part_y,\n\t\t\tint *num_part_c);\n};\n\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}