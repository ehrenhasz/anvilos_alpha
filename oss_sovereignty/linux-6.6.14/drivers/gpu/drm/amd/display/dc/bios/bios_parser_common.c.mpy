{
  "module_name": "bios_parser_common.c",
  "hash_id": "3fb126c32614cbc725a67dfa5ecd14175afa1125d66991c39545af6f84673890",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/bios/bios_parser_common.c",
  "human_readable_source": " \n\n#include \"bios_parser_common.h\"\n#include \"include/grph_object_ctrl_defs.h\"\n\nstatic enum object_type object_type_from_bios_object_id(uint32_t bios_object_id)\n{\n\tuint32_t bios_object_type = (bios_object_id & OBJECT_TYPE_MASK)\n\t\t\t\t>> OBJECT_TYPE_SHIFT;\n\tenum object_type object_type;\n\n\tswitch (bios_object_type) {\n\tcase GRAPH_OBJECT_TYPE_GPU:\n\t\tobject_type = OBJECT_TYPE_GPU;\n\t\tbreak;\n\tcase GRAPH_OBJECT_TYPE_ENCODER:\n\t\tobject_type = OBJECT_TYPE_ENCODER;\n\t\tbreak;\n\tcase GRAPH_OBJECT_TYPE_CONNECTOR:\n\t\tobject_type = OBJECT_TYPE_CONNECTOR;\n\t\tbreak;\n\tcase GRAPH_OBJECT_TYPE_ROUTER:\n\t\tobject_type = OBJECT_TYPE_ROUTER;\n\t\tbreak;\n\tcase GRAPH_OBJECT_TYPE_GENERIC:\n\t\tobject_type = OBJECT_TYPE_GENERIC;\n\t\tbreak;\n\tdefault:\n\t\tobject_type = OBJECT_TYPE_UNKNOWN;\n\t\tbreak;\n\t}\n\n\treturn object_type;\n}\n\nstatic enum object_enum_id enum_id_from_bios_object_id(uint32_t bios_object_id)\n{\n\tuint32_t bios_enum_id =\n\t\t\t(bios_object_id & ENUM_ID_MASK) >> ENUM_ID_SHIFT;\n\tenum object_enum_id id;\n\n\tswitch (bios_enum_id) {\n\tcase GRAPH_OBJECT_ENUM_ID1:\n\t\tid = ENUM_ID_1;\n\t\tbreak;\n\tcase GRAPH_OBJECT_ENUM_ID2:\n\t\tid = ENUM_ID_2;\n\t\tbreak;\n\tcase GRAPH_OBJECT_ENUM_ID3:\n\t\tid = ENUM_ID_3;\n\t\tbreak;\n\tcase GRAPH_OBJECT_ENUM_ID4:\n\t\tid = ENUM_ID_4;\n\t\tbreak;\n\tcase GRAPH_OBJECT_ENUM_ID5:\n\t\tid = ENUM_ID_5;\n\t\tbreak;\n\tcase GRAPH_OBJECT_ENUM_ID6:\n\t\tid = ENUM_ID_6;\n\t\tbreak;\n\tcase GRAPH_OBJECT_ENUM_ID7:\n\t\tid = ENUM_ID_7;\n\t\tbreak;\n\tdefault:\n\t\tid = ENUM_ID_UNKNOWN;\n\t\tbreak;\n\t}\n\n\treturn id;\n}\n\nstatic uint32_t gpu_id_from_bios_object_id(uint32_t bios_object_id)\n{\n\treturn (bios_object_id & OBJECT_ID_MASK) >> OBJECT_ID_SHIFT;\n}\n\nstatic enum encoder_id encoder_id_from_bios_object_id(uint32_t bios_object_id)\n{\n\tuint32_t bios_encoder_id = gpu_id_from_bios_object_id(bios_object_id);\n\tenum encoder_id id;\n\n\tswitch (bios_encoder_id) {\n\tcase ENCODER_OBJECT_ID_INTERNAL_LVDS:\n\t\tid = ENCODER_ID_INTERNAL_LVDS;\n\t\tbreak;\n\tcase ENCODER_OBJECT_ID_INTERNAL_TMDS1:\n\t\tid = ENCODER_ID_INTERNAL_TMDS1;\n\t\tbreak;\n\tcase ENCODER_OBJECT_ID_INTERNAL_TMDS2:\n\t\tid = ENCODER_ID_INTERNAL_TMDS2;\n\t\tbreak;\n\tcase ENCODER_OBJECT_ID_INTERNAL_DAC1:\n\t\tid = ENCODER_ID_INTERNAL_DAC1;\n\t\tbreak;\n\tcase ENCODER_OBJECT_ID_INTERNAL_DAC2:\n\t\tid = ENCODER_ID_INTERNAL_DAC2;\n\t\tbreak;\n\tcase ENCODER_OBJECT_ID_INTERNAL_LVTM1:\n\t\tid = ENCODER_ID_INTERNAL_LVTM1;\n\t\tbreak;\n\tcase ENCODER_OBJECT_ID_HDMI_INTERNAL:\n\t\tid = ENCODER_ID_INTERNAL_HDMI;\n\t\tbreak;\n\tcase ENCODER_OBJECT_ID_INTERNAL_KLDSCP_TMDS1:\n\t\tid = ENCODER_ID_INTERNAL_KLDSCP_TMDS1;\n\t\tbreak;\n\tcase ENCODER_OBJECT_ID_INTERNAL_KLDSCP_DAC1:\n\t\tid = ENCODER_ID_INTERNAL_KLDSCP_DAC1;\n\t\tbreak;\n\tcase ENCODER_OBJECT_ID_INTERNAL_KLDSCP_DAC2:\n\t\tid = ENCODER_ID_INTERNAL_KLDSCP_DAC2;\n\t\tbreak;\n\tcase ENCODER_OBJECT_ID_MVPU_FPGA:\n\t\tid = ENCODER_ID_EXTERNAL_MVPU_FPGA;\n\t\tbreak;\n\tcase ENCODER_OBJECT_ID_INTERNAL_DDI:\n\t\tid = ENCODER_ID_INTERNAL_DDI;\n\t\tbreak;\n\tcase ENCODER_OBJECT_ID_INTERNAL_UNIPHY:\n\t\tid = ENCODER_ID_INTERNAL_UNIPHY;\n\t\tbreak;\n\tcase ENCODER_OBJECT_ID_INTERNAL_KLDSCP_LVTMA:\n\t\tid = ENCODER_ID_INTERNAL_KLDSCP_LVTMA;\n\t\tbreak;\n\tcase ENCODER_OBJECT_ID_INTERNAL_UNIPHY1:\n\t\tid = ENCODER_ID_INTERNAL_UNIPHY1;\n\t\tbreak;\n\tcase ENCODER_OBJECT_ID_INTERNAL_UNIPHY2:\n\t\tid = ENCODER_ID_INTERNAL_UNIPHY2;\n\t\tbreak;\n\tcase ENCODER_OBJECT_ID_ALMOND:  \n\t\tid = ENCODER_ID_EXTERNAL_NUTMEG;\n\t\tbreak;\n\tcase ENCODER_OBJECT_ID_TRAVIS:\n\t\tid = ENCODER_ID_EXTERNAL_TRAVIS;\n\t\tbreak;\n\tcase ENCODER_OBJECT_ID_INTERNAL_UNIPHY3:\n\t\tid = ENCODER_ID_INTERNAL_UNIPHY3;\n\t\tbreak;\n\tdefault:\n\t\tid = ENCODER_ID_UNKNOWN;\n\t\tASSERT(0);\n\t\tbreak;\n\t}\n\n\treturn id;\n}\n\nstatic enum connector_id connector_id_from_bios_object_id(\n\tuint32_t bios_object_id)\n{\n\tuint32_t bios_connector_id = gpu_id_from_bios_object_id(bios_object_id);\n\n\tenum connector_id id;\n\n\tswitch (bios_connector_id) {\n\tcase CONNECTOR_OBJECT_ID_SINGLE_LINK_DVI_I:\n\t\tid = CONNECTOR_ID_SINGLE_LINK_DVII;\n\t\tbreak;\n\tcase CONNECTOR_OBJECT_ID_DUAL_LINK_DVI_I:\n\t\tid = CONNECTOR_ID_DUAL_LINK_DVII;\n\t\tbreak;\n\tcase CONNECTOR_OBJECT_ID_SINGLE_LINK_DVI_D:\n\t\tid = CONNECTOR_ID_SINGLE_LINK_DVID;\n\t\tbreak;\n\tcase CONNECTOR_OBJECT_ID_DUAL_LINK_DVI_D:\n\t\tid = CONNECTOR_ID_DUAL_LINK_DVID;\n\t\tbreak;\n\tcase CONNECTOR_OBJECT_ID_VGA:\n\t\tid = CONNECTOR_ID_VGA;\n\t\tbreak;\n\tcase CONNECTOR_OBJECT_ID_HDMI_TYPE_A:\n\t\tid = CONNECTOR_ID_HDMI_TYPE_A;\n\t\tbreak;\n\tcase CONNECTOR_OBJECT_ID_LVDS:\n\t\tid = CONNECTOR_ID_LVDS;\n\t\tbreak;\n\tcase CONNECTOR_OBJECT_ID_PCIE_CONNECTOR:\n\t\tid = CONNECTOR_ID_PCIE;\n\t\tbreak;\n\tcase CONNECTOR_OBJECT_ID_HARDCODE_DVI:\n\t\tid = CONNECTOR_ID_HARDCODE_DVI;\n\t\tbreak;\n\tcase CONNECTOR_OBJECT_ID_DISPLAYPORT:\n\t\tid = CONNECTOR_ID_DISPLAY_PORT;\n\t\tbreak;\n\tcase CONNECTOR_OBJECT_ID_eDP:\n\t\tid = CONNECTOR_ID_EDP;\n\t\tbreak;\n\tcase CONNECTOR_OBJECT_ID_MXM:\n\t\tid = CONNECTOR_ID_MXM;\n\t\tbreak;\n\tcase CONNECTOR_OBJECT_ID_USBC:\n\t\tid = CONNECTOR_ID_USBC;\n\t\tbreak;\n\tdefault:\n\t\tid = CONNECTOR_ID_UNKNOWN;\n\t\tbreak;\n\t}\n\n\treturn id;\n}\n\nstatic enum generic_id generic_id_from_bios_object_id(uint32_t bios_object_id)\n{\n\tuint32_t bios_generic_id = gpu_id_from_bios_object_id(bios_object_id);\n\n\tenum generic_id id;\n\n\tswitch (bios_generic_id) {\n\tcase GENERIC_OBJECT_ID_MXM_OPM:\n\t\tid = GENERIC_ID_MXM_OPM;\n\t\tbreak;\n\tcase GENERIC_OBJECT_ID_GLSYNC:\n\t\tid = GENERIC_ID_GLSYNC;\n\t\tbreak;\n\tcase GENERIC_OBJECT_ID_STEREO_PIN:\n\t\tid = GENERIC_ID_STEREO;\n\t\tbreak;\n\tdefault:\n\t\tid = GENERIC_ID_UNKNOWN;\n\t\tbreak;\n\t}\n\n\treturn id;\n}\n\nstatic uint32_t id_from_bios_object_id(enum object_type type,\n\tuint32_t bios_object_id)\n{\n\tswitch (type) {\n\tcase OBJECT_TYPE_GPU:\n\t\treturn gpu_id_from_bios_object_id(bios_object_id);\n\tcase OBJECT_TYPE_ENCODER:\n\t\treturn (uint32_t)encoder_id_from_bios_object_id(bios_object_id);\n\tcase OBJECT_TYPE_CONNECTOR:\n\t\treturn (uint32_t)connector_id_from_bios_object_id(\n\t\t\t\tbios_object_id);\n\tcase OBJECT_TYPE_GENERIC:\n\t\treturn generic_id_from_bios_object_id(bios_object_id);\n\tdefault:\n\t\treturn 0;\n\t}\n}\n\nstruct graphics_object_id object_id_from_bios_object_id(uint32_t bios_object_id)\n{\n\tenum object_type type;\n\tenum object_enum_id enum_id;\n\tstruct graphics_object_id go_id = { 0 };\n\n\ttype = object_type_from_bios_object_id(bios_object_id);\n\n\tif (OBJECT_TYPE_UNKNOWN == type)\n\t\treturn go_id;\n\n\tenum_id = enum_id_from_bios_object_id(bios_object_id);\n\n\tif (ENUM_ID_UNKNOWN == enum_id)\n\t\treturn go_id;\n\n\tgo_id = dal_graphics_object_id_init(\n\t\t\tid_from_bios_object_id(type, bios_object_id), enum_id, type);\n\n\treturn go_id;\n}\n\n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}