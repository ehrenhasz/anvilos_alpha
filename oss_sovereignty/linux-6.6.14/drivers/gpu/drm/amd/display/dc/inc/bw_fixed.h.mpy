{
  "module_name": "bw_fixed.h",
  "hash_id": "1cad3c2027eeecade07a3b27f6ca01a90946775ae6bc2ada3ee495f0d3847c4f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/inc/bw_fixed.h",
  "human_readable_source": " \n\n#ifndef BW_FIXED_H_\n#define BW_FIXED_H_\n\n#define BW_FIXED_BITS_PER_FRACTIONAL_PART 24\n\n#define BW_FIXED_GET_INTEGER_PART(x) ((x) >> BW_FIXED_BITS_PER_FRACTIONAL_PART)\nstruct bw_fixed {\n\tint64_t value;\n};\n\n#define BW_FIXED_MIN_I32 \\\n\t(int64_t)(-(1LL << (63 - BW_FIXED_BITS_PER_FRACTIONAL_PART)))\n\n#define BW_FIXED_MAX_I32 \\\n\t(int64_t)((1ULL << (63 - BW_FIXED_BITS_PER_FRACTIONAL_PART)) - 1)\n\nstatic inline struct bw_fixed bw_min2(const struct bw_fixed arg1,\n\t\t\t\t      const struct bw_fixed arg2)\n{\n\treturn (arg1.value <= arg2.value) ? arg1 : arg2;\n}\n\nstatic inline struct bw_fixed bw_max2(const struct bw_fixed arg1,\n\t\t\t\t      const struct bw_fixed arg2)\n{\n\treturn (arg2.value <= arg1.value) ? arg1 : arg2;\n}\n\nstatic inline struct bw_fixed bw_min3(struct bw_fixed v1,\n\t\t\t\t      struct bw_fixed v2,\n\t\t\t\t      struct bw_fixed v3)\n{\n\treturn bw_min2(bw_min2(v1, v2), v3);\n}\n\nstatic inline struct bw_fixed bw_max3(struct bw_fixed v1,\n\t\t\t\t      struct bw_fixed v2,\n\t\t\t\t      struct bw_fixed v3)\n{\n\treturn bw_max2(bw_max2(v1, v2), v3);\n}\n\nstruct bw_fixed bw_int_to_fixed_nonconst(int64_t value);\nstatic inline struct bw_fixed bw_int_to_fixed(int64_t value)\n{\n\tif (__builtin_constant_p(value)) {\n\t\tstruct bw_fixed res;\n\t\tBUILD_BUG_ON(value > BW_FIXED_MAX_I32 || value < BW_FIXED_MIN_I32);\n\t\tres.value = value << BW_FIXED_BITS_PER_FRACTIONAL_PART;\n\t\treturn res;\n\t} else\n\t\treturn bw_int_to_fixed_nonconst(value);\n}\n\nstatic inline int32_t bw_fixed_to_int(struct bw_fixed value)\n{\n\treturn BW_FIXED_GET_INTEGER_PART(value.value);\n}\n\nstruct bw_fixed bw_frc_to_fixed(int64_t num, int64_t denum);\n\nstatic inline struct bw_fixed fixed31_32_to_bw_fixed(int64_t raw)\n{\n\tstruct bw_fixed result = { 0 };\n\n\tif (raw < 0) {\n\t\traw = -raw;\n\t\tresult.value = -(raw >> (32 - BW_FIXED_BITS_PER_FRACTIONAL_PART));\n\t} else {\n\t\tresult.value = raw >> (32 - BW_FIXED_BITS_PER_FRACTIONAL_PART);\n\t}\n\n\treturn result;\n}\n\nstatic inline struct bw_fixed bw_add(const struct bw_fixed arg1,\n\t\t\t\t     const struct bw_fixed arg2)\n{\n\tstruct bw_fixed res;\n\n\tres.value = arg1.value + arg2.value;\n\n\treturn res;\n}\n\nstatic inline struct bw_fixed bw_sub(const struct bw_fixed arg1, const struct bw_fixed arg2)\n{\n\tstruct bw_fixed res;\n\n\tres.value = arg1.value - arg2.value;\n\n\treturn res;\n}\n\nstruct bw_fixed bw_mul(const struct bw_fixed arg1, const struct bw_fixed arg2);\nstatic inline struct bw_fixed bw_div(const struct bw_fixed arg1, const struct bw_fixed arg2)\n{\n\treturn bw_frc_to_fixed(arg1.value, arg2.value);\n}\n\nstatic inline struct bw_fixed bw_mod(const struct bw_fixed arg1, const struct bw_fixed arg2)\n{\n\tstruct bw_fixed res;\n\tdiv64_u64_rem(arg1.value, arg2.value, (uint64_t *)&res.value);\n\treturn res;\n}\n\nstruct bw_fixed bw_floor2(const struct bw_fixed arg, const struct bw_fixed significance);\nstruct bw_fixed bw_ceil2(const struct bw_fixed arg, const struct bw_fixed significance);\n\nstatic inline bool bw_equ(const struct bw_fixed arg1, const struct bw_fixed arg2)\n{\n\treturn arg1.value == arg2.value;\n}\n\nstatic inline bool bw_neq(const struct bw_fixed arg1, const struct bw_fixed arg2)\n{\n\treturn arg1.value != arg2.value;\n}\n\nstatic inline bool bw_leq(const struct bw_fixed arg1, const struct bw_fixed arg2)\n{\n\treturn arg1.value <= arg2.value;\n}\n\nstatic inline bool bw_meq(const struct bw_fixed arg1, const struct bw_fixed arg2)\n{\n\treturn arg1.value >= arg2.value;\n}\n\nstatic inline bool bw_ltn(const struct bw_fixed arg1, const struct bw_fixed arg2)\n{\n\treturn arg1.value < arg2.value;\n}\n\nstatic inline bool bw_mtn(const struct bw_fixed arg1, const struct bw_fixed arg2)\n{\n\treturn arg1.value > arg2.value;\n}\n\n#endif \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}