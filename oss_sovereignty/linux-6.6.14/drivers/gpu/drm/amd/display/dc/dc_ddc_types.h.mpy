{
  "module_name": "dc_ddc_types.h",
  "hash_id": "68ca4a35e35502aa35f1b690296cdc411ae652e862f7827bc0a628438f973f63",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/dc_ddc_types.h",
  "human_readable_source": " \n#ifndef DC_DDC_TYPES_H_\n#define DC_DDC_TYPES_H_\n\nenum aux_transaction_type {\n\tAUX_TRANSACTION_TYPE_DP,\n\tAUX_TRANSACTION_TYPE_I2C\n};\n\n\nenum i2caux_transaction_action {\n\tI2CAUX_TRANSACTION_ACTION_I2C_WRITE = 0x00,\n\tI2CAUX_TRANSACTION_ACTION_I2C_READ = 0x10,\n\tI2CAUX_TRANSACTION_ACTION_I2C_STATUS_REQUEST = 0x20,\n\n\tI2CAUX_TRANSACTION_ACTION_I2C_WRITE_MOT = 0x40,\n\tI2CAUX_TRANSACTION_ACTION_I2C_READ_MOT = 0x50,\n\tI2CAUX_TRANSACTION_ACTION_I2C_STATUS_REQUEST_MOT = 0x60,\n\n\tI2CAUX_TRANSACTION_ACTION_DP_WRITE = 0x80,\n\tI2CAUX_TRANSACTION_ACTION_DP_READ = 0x90\n};\n\nstruct aux_request_transaction_data {\n\tenum aux_transaction_type type;\n\tenum i2caux_transaction_action action;\n\t \n\tuint32_t address;\n\t \n\tuint8_t delay;\n\tuint32_t length;\n\tuint8_t *data;\n};\n\nenum aux_transaction_reply {\n\tAUX_TRANSACTION_REPLY_AUX_ACK = 0x00,\n\tAUX_TRANSACTION_REPLY_AUX_NACK = 0x01,\n\tAUX_TRANSACTION_REPLY_AUX_DEFER = 0x02,\n\tAUX_TRANSACTION_REPLY_I2C_OVER_AUX_NACK = 0x04,\n\tAUX_TRANSACTION_REPLY_I2C_OVER_AUX_DEFER = 0x08,\n\n\tAUX_TRANSACTION_REPLY_I2C_ACK = 0x00,\n\tAUX_TRANSACTION_REPLY_I2C_NACK = 0x10,\n\tAUX_TRANSACTION_REPLY_I2C_DEFER = 0x20,\n\n\tAUX_TRANSACTION_REPLY_HPD_DISCON = 0x40,\n\n\tAUX_TRANSACTION_REPLY_INVALID = 0xFF\n};\n\nstruct aux_reply_transaction_data {\n\tenum aux_transaction_reply status;\n\tuint32_t length;\n\tuint8_t *data;\n};\n\nstruct aux_payload {\n\t \n\tbool i2c_over_aux;\n\t \n\tbool write;\n\tbool mot;\n\tbool write_status_update;\n\n\tuint32_t address;\n\tuint32_t length;\n\tuint8_t *data;\n\t \n\tuint8_t *reply;\n\t \n\tuint32_t defer_delay;\n\n};\n#define DEFAULT_AUX_MAX_DATA_SIZE 16\n\nstruct i2c_payload {\n\tbool write;\n\tuint8_t address;\n\tuint32_t length;\n\tuint8_t *data;\n};\n\nenum i2c_command_engine {\n\tI2C_COMMAND_ENGINE_DEFAULT,\n\tI2C_COMMAND_ENGINE_SW,\n\tI2C_COMMAND_ENGINE_HW\n};\n\n#define DDC_I2C_COMMAND_ENGINE I2C_COMMAND_ENGINE_SW\n\nstruct i2c_command {\n\tstruct i2c_payload *payloads;\n\tuint8_t number_of_payloads;\n\n\tenum i2c_command_engine engine;\n\n\t \n\tuint32_t speed;\n};\n\nstruct gpio_ddc_hw_info {\n\tbool hw_supported;\n\tuint32_t ddc_channel;\n};\n\nstruct ddc {\n\tstruct gpio *pin_data;\n\tstruct gpio *pin_clock;\n\tstruct gpio_ddc_hw_info hw_info;\n\tstruct dc_context *ctx;\n};\n\nunion ddc_wa {\n\tstruct {\n\t\tuint32_t DP_SKIP_POWER_OFF:1;\n\t\tuint32_t DP_AUX_POWER_UP_WA_DELAY:1;\n\t} bits;\n\tuint32_t raw;\n};\n\nstruct ddc_flags {\n\tuint8_t EDID_QUERY_DONE_ONCE:1;\n\tuint8_t IS_INTERNAL_DISPLAY:1;\n\tuint8_t FORCE_READ_REPEATED_START:1;\n\tuint8_t EDID_STRESS_READ:1;\n\n};\n\nenum ddc_transaction_type {\n\tDDC_TRANSACTION_TYPE_NONE = 0,\n\tDDC_TRANSACTION_TYPE_I2C,\n\tDDC_TRANSACTION_TYPE_I2C_OVER_AUX,\n\tDDC_TRANSACTION_TYPE_I2C_OVER_AUX_WITH_DEFER,\n\tDDC_TRANSACTION_TYPE_I2C_OVER_AUX_RETRY_DEFER\n};\n\nenum display_dongle_type {\n\tDISPLAY_DONGLE_NONE = 0,\n\t \n\tDISPLAY_DONGLE_DP_VGA_CONVERTER,\n\tDISPLAY_DONGLE_DP_DVI_CONVERTER,\n\tDISPLAY_DONGLE_DP_HDMI_CONVERTER,\n\t \n\tDISPLAY_DONGLE_DP_DVI_DONGLE,\n\tDISPLAY_DONGLE_DP_HDMI_DONGLE,\n\t \n\tDISPLAY_DONGLE_DP_HDMI_MISMATCHED_DONGLE,\n};\n\n#define DC_MAX_EDID_BUFFER_SIZE 2048\n#define DC_EDID_BLOCK_SIZE 128\n\nstruct ddc_service {\n\tstruct ddc *ddc_pin;\n\tstruct ddc_flags flags;\n\tunion ddc_wa wa;\n\tenum ddc_transaction_type transaction_type;\n\tenum display_dongle_type dongle_type;\n\tstruct dc_context *ctx;\n\tstruct dc_link *link;\n\n\tuint32_t address;\n\tuint32_t edid_buf_len;\n\tuint8_t edid_buf[DC_MAX_EDID_BUFFER_SIZE];\n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}