{
  "module_name": "mem_input.h",
  "hash_id": "d84e59dbbe5f8d852c6167f760e1ce473061a964ea19fcdf576ebeda7c10f4bf",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/inc/hw/mem_input.h",
  "human_readable_source": " \n#ifndef __DAL_MEM_INPUT_H__\n#define __DAL_MEM_INPUT_H__\n\n#include \"dc.h\"\n#include \"include/grph_object_id.h\"\n\n#include \"dml/display_mode_structs.h\"\n\nstruct dchub_init_data;\nstruct cstate_pstate_watermarks_st {\n\tuint32_t cstate_exit_ns;\n\tuint32_t cstate_exit_z8_ns;\n\tuint32_t cstate_enter_plus_exit_z8_ns;\n\tuint32_t cstate_enter_plus_exit_ns;\n\tuint32_t pstate_change_ns;\n\tuint32_t fclk_pstate_change_ns;\n};\n\nstruct dcn_watermarks {\n\tuint32_t pte_meta_urgent_ns;\n\tuint32_t urgent_ns;\n\tuint32_t frac_urg_bw_nom;\n\tuint32_t frac_urg_bw_flip;\n\tint32_t urgent_latency_ns;\n\tstruct cstate_pstate_watermarks_st cstate_pstate;\n\tuint32_t usr_retraining_ns;\n};\n\nstruct dcn_watermark_set {\n\tstruct dcn_watermarks a;\n\tstruct dcn_watermarks b;\n\tstruct dcn_watermarks c;\n\tstruct dcn_watermarks d;\n};\n\nstruct dce_watermarks {\n\tint a_mark;\n\tint b_mark;\n\tint c_mark;\n\tint d_mark;\n};\n\nstruct stutter_modes {\n\tbool enhanced;\n\tbool quad_dmif_buffer;\n\tbool watermark_nb_pstate;\n};\n\nstruct mem_input {\n\tconst struct mem_input_funcs *funcs;\n\tstruct dc_context *ctx;\n\tstruct dc_plane_address request_address;\n\tstruct dc_plane_address current_address;\n\tint inst;\n\tstruct stutter_modes stutter_mode;\n};\n\nstruct vm_system_aperture_param {\n\tPHYSICAL_ADDRESS_LOC sys_default;\n\tPHYSICAL_ADDRESS_LOC sys_low;\n\tPHYSICAL_ADDRESS_LOC sys_high;\n};\n\nstruct vm_context0_param {\n\tPHYSICAL_ADDRESS_LOC pte_base;\n\tPHYSICAL_ADDRESS_LOC pte_start;\n\tPHYSICAL_ADDRESS_LOC pte_end;\n\tPHYSICAL_ADDRESS_LOC fault_default;\n};\n\nstruct mem_input_funcs {\n\tvoid (*mem_input_setup)(\n\t\t\tstruct mem_input *mem_input,\n\t\t\tstruct _vcs_dpi_display_dlg_regs_st *dlg_regs,\n\t\t\tstruct _vcs_dpi_display_ttu_regs_st *ttu_regs,\n\t\t\tstruct _vcs_dpi_display_rq_regs_st *rq_regs,\n\t\t\tstruct _vcs_dpi_display_pipe_dest_params_st *pipe_dest);\n\n\tvoid (*dcc_control)(struct mem_input *mem_input, bool enable,\n\t\t\tbool independent_64b_blks);\n\tvoid (*mem_program_viewport)(\n\t\t\tstruct mem_input *mem_input,\n\t\t\tconst struct rect *viewport,\n\t\t\tconst struct rect *viewport_c);\n\n\tvoid (*mem_input_program_display_marks)(\n\t\tstruct mem_input *mem_input,\n\t\tstruct dce_watermarks nbp,\n\t\tstruct dce_watermarks stutter,\n\t\tstruct dce_watermarks stutter_enter,\n\t\tstruct dce_watermarks urgent,\n\t\tuint32_t total_dest_line_time_ns);\n\n\tvoid (*mem_input_program_chroma_display_marks)(\n\t\t\tstruct mem_input *mem_input,\n\t\t\tstruct dce_watermarks nbp,\n\t\t\tstruct dce_watermarks stutter,\n\t\t\tstruct dce_watermarks urgent,\n\t\t\tuint32_t total_dest_line_time_ns);\n\n\tvoid (*allocate_mem_input)(\n\t\tstruct mem_input *mem_input,\n\t\tuint32_t h_total, \n\t\tuint32_t v_total, \n\t\tuint32_t pix_clk_khz, \n\t\tuint32_t total_streams_num);\n\n\tvoid (*free_mem_input)(\n\t\tstruct mem_input *mem_input,\n\t\tuint32_t paths_num);\n\n\tbool (*mem_input_program_surface_flip_and_addr)(\n\t\tstruct mem_input *mem_input,\n\t\tconst struct dc_plane_address *address,\n\t\tbool flip_immediate);\n\n\tvoid (*mem_input_program_pte_vm)(\n\t\tstruct mem_input *mem_input,\n\t\tenum surface_pixel_format format,\n\t\tunion dc_tiling_info *tiling_info,\n\t\tenum dc_rotation_angle rotation);\n\n\tvoid (*mem_input_set_vm_system_aperture_settings)(\n\t\t\tstruct mem_input *mem_input,\n\t\t\tstruct vm_system_aperture_param *apt);\n\n\tvoid (*mem_input_set_vm_context0_settings)(\n\t\t\tstruct mem_input *mem_input,\n\t\t\tconst struct vm_context0_param *vm0);\n\n\tvoid (*mem_input_program_surface_config)(\n\t\tstruct mem_input *mem_input,\n\t\tenum surface_pixel_format format,\n\t\tunion dc_tiling_info *tiling_info,\n\t\tstruct plane_size *plane_size,\n\t\tenum dc_rotation_angle rotation,\n\t\tstruct dc_plane_dcc_param *dcc,\n\t\tbool horizontal_mirror);\n\n\tbool (*mem_input_is_flip_pending)(struct mem_input *mem_input);\n\n\tvoid (*mem_input_update_dchub)(struct mem_input *mem_input,\n\t\t\t\tstruct dchub_init_data *dh_data);\n\n\tvoid (*set_blank)(struct mem_input *mi, bool blank);\n\tvoid (*set_hubp_blank_en)(struct mem_input *mi, bool blank);\n\n\tvoid (*set_cursor_attributes)(\n\t\t\tstruct mem_input *mem_input,\n\t\t\tconst struct dc_cursor_attributes *attr);\n\n\tvoid (*set_cursor_position)(\n\t\t\tstruct mem_input *mem_input,\n\t\t\tconst struct dc_cursor_position *pos,\n\t\t\tconst struct dc_cursor_mi_param *param);\n\n};\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}