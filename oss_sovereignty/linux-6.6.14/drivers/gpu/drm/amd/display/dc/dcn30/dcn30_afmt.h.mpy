{
  "module_name": "dcn30_afmt.h",
  "hash_id": "c590c21fef82312f100b84c7a2ac07b980cabb62c9066d7aaef7ccc82dcefcce",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/dcn30/dcn30_afmt.h",
  "human_readable_source": " \n\n#ifndef __DAL_DCN30_AFMT_H__\n#define __DAL_DCN30_AFMT_H__\n\n\n#define DCN30_AFMT_FROM_AFMT(afmt)\\\n\tcontainer_of(afmt, struct dcn30_afmt, base)\n\n#define AFMT_DCN3_REG_LIST(id) \\\n\tSRI(AFMT_INFOFRAME_CONTROL0, AFMT, id), \\\n\tSRI(AFMT_VBI_PACKET_CONTROL, AFMT, id), \\\n\tSRI(AFMT_AUDIO_PACKET_CONTROL, AFMT, id), \\\n\tSRI(AFMT_AUDIO_PACKET_CONTROL2, AFMT, id), \\\n\tSRI(AFMT_AUDIO_SRC_CONTROL, AFMT, id), \\\n\tSRI(AFMT_60958_0, AFMT, id), \\\n\tSRI(AFMT_60958_1, AFMT, id), \\\n\tSRI(AFMT_60958_2, AFMT, id), \\\n\tSRI(AFMT_MEM_PWR, AFMT, id)\n\nstruct dcn30_afmt_registers {\n\tuint32_t AFMT_INFOFRAME_CONTROL0;\n\tuint32_t AFMT_VBI_PACKET_CONTROL;\n\tuint32_t AFMT_AUDIO_PACKET_CONTROL;\n\tuint32_t AFMT_AUDIO_PACKET_CONTROL2;\n\tuint32_t AFMT_AUDIO_SRC_CONTROL;\n\tuint32_t AFMT_60958_0;\n\tuint32_t AFMT_60958_1;\n\tuint32_t AFMT_60958_2;\n\tuint32_t AFMT_MEM_PWR;\n};\n\n#define DCN3_AFMT_MASK_SH_LIST(mask_sh)\\\n\tSE_SF(AFMT0_AFMT_INFOFRAME_CONTROL0, AFMT_AUDIO_INFO_UPDATE, mask_sh),\\\n\tSE_SF(AFMT0_AFMT_AUDIO_SRC_CONTROL, AFMT_AUDIO_SRC_SELECT, mask_sh),\\\n\tSE_SF(AFMT0_AFMT_AUDIO_PACKET_CONTROL2, AFMT_AUDIO_CHANNEL_ENABLE, mask_sh),\\\n\tSE_SF(AFMT0_AFMT_AUDIO_PACKET_CONTROL, AFMT_60958_CS_UPDATE, mask_sh),\\\n\tSE_SF(AFMT0_AFMT_AUDIO_PACKET_CONTROL2, AFMT_AUDIO_LAYOUT_OVRD, mask_sh),\\\n\tSE_SF(AFMT0_AFMT_AUDIO_PACKET_CONTROL2, AFMT_60958_OSF_OVRD, mask_sh),\\\n\tSE_SF(AFMT0_AFMT_60958_0, AFMT_60958_CS_CHANNEL_NUMBER_L, mask_sh),\\\n\tSE_SF(AFMT0_AFMT_60958_0, AFMT_60958_CS_CLOCK_ACCURACY, mask_sh),\\\n\tSE_SF(AFMT0_AFMT_60958_1, AFMT_60958_CS_CHANNEL_NUMBER_R, mask_sh),\\\n\tSE_SF(AFMT0_AFMT_60958_2, AFMT_60958_CS_CHANNEL_NUMBER_2, mask_sh),\\\n\tSE_SF(AFMT0_AFMT_60958_2, AFMT_60958_CS_CHANNEL_NUMBER_3, mask_sh),\\\n\tSE_SF(AFMT0_AFMT_60958_2, AFMT_60958_CS_CHANNEL_NUMBER_4, mask_sh),\\\n\tSE_SF(AFMT0_AFMT_60958_2, AFMT_60958_CS_CHANNEL_NUMBER_5, mask_sh),\\\n\tSE_SF(AFMT0_AFMT_60958_2, AFMT_60958_CS_CHANNEL_NUMBER_6, mask_sh),\\\n\tSE_SF(AFMT0_AFMT_60958_2, AFMT_60958_CS_CHANNEL_NUMBER_7, mask_sh),\\\n\tSE_SF(AFMT0_AFMT_AUDIO_PACKET_CONTROL, AFMT_AUDIO_SAMPLE_SEND, mask_sh),\\\n\tSE_SF(AFMT0_AFMT_MEM_PWR, AFMT_MEM_PWR_FORCE, mask_sh)\n\n#define AFMT_DCN3_REG_FIELD_LIST(type) \\\n\t\ttype AFMT_AUDIO_INFO_UPDATE;\\\n\t\ttype AFMT_AUDIO_SRC_SELECT;\\\n\t\ttype AFMT_AUDIO_CHANNEL_ENABLE;\\\n\t\ttype AFMT_60958_CS_UPDATE;\\\n\t\ttype AFMT_AUDIO_LAYOUT_OVRD;\\\n\t\ttype AFMT_60958_OSF_OVRD;\\\n\t\ttype AFMT_60958_CS_CHANNEL_NUMBER_L;\\\n\t\ttype AFMT_60958_CS_CLOCK_ACCURACY;\\\n\t\ttype AFMT_60958_CS_CHANNEL_NUMBER_R;\\\n\t\ttype AFMT_60958_CS_CHANNEL_NUMBER_2;\\\n\t\ttype AFMT_60958_CS_CHANNEL_NUMBER_3;\\\n\t\ttype AFMT_60958_CS_CHANNEL_NUMBER_4;\\\n\t\ttype AFMT_60958_CS_CHANNEL_NUMBER_5;\\\n\t\ttype AFMT_60958_CS_CHANNEL_NUMBER_6;\\\n\t\ttype AFMT_60958_CS_CHANNEL_NUMBER_7;\\\n\t\ttype AFMT_AUDIO_SAMPLE_SEND;\\\n\t\ttype AFMT_MEM_PWR_FORCE\n\nstruct dcn30_afmt_shift {\n\tAFMT_DCN3_REG_FIELD_LIST(uint8_t);\n};\n\nstruct dcn30_afmt_mask {\n\tAFMT_DCN3_REG_FIELD_LIST(uint32_t);\n};\n\n\nstruct afmt;\n\nstruct afmt_funcs {\n\n\tvoid (*setup_hdmi_audio)(\n\t\tstruct afmt *afmt);\n\n\tvoid (*se_audio_setup)(\n\t\tstruct afmt *afmt,\n\t\tunsigned int az_inst,\n\t\tstruct audio_info *audio_info);\n\n\tvoid (*audio_mute_control)(\n\t\tstruct afmt *afmt,\n\t\tbool mute);\n\n\tvoid (*audio_info_immediate_update)(\n\t\tstruct afmt *afmt);\n\n\tvoid (*setup_dp_audio)(\n\t\tstruct afmt *afmt);\n\n\tvoid (*afmt_poweron)(\n\t\tstruct afmt *afmt);\n\n\tvoid (*afmt_powerdown)(\n\t\tstruct afmt *afmt);\n};\n\nstruct afmt {\n\tconst struct afmt_funcs *funcs;\n\tstruct dc_context *ctx;\n\tint inst;\n};\n\nstruct dcn30_afmt {\n\tstruct afmt base;\n\tconst struct dcn30_afmt_registers *regs;\n\tconst struct dcn30_afmt_shift *afmt_shift;\n\tconst struct dcn30_afmt_mask *afmt_mask;\n};\n\nvoid afmt3_setup_hdmi_audio(\n\tstruct afmt *afmt);\n\nvoid afmt3_se_audio_setup(\n\tstruct afmt *afmt,\n\tunsigned int az_inst,\n\tstruct audio_info *audio_info);\n\nvoid afmt3_audio_mute_control(\n\tstruct afmt *afmt,\n\tbool mute);\n\nvoid afmt3_audio_info_immediate_update(\n\tstruct afmt *afmt);\n\nvoid afmt3_setup_dp_audio(\n\t\tstruct afmt *afmt);\n\nvoid afmt3_construct(struct dcn30_afmt *afmt3,\n\tstruct dc_context *ctx,\n\tuint32_t inst,\n\tconst struct dcn30_afmt_registers *afmt_regs,\n\tconst struct dcn30_afmt_shift *afmt_shift,\n\tconst struct dcn30_afmt_mask *afmt_mask);\n\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}