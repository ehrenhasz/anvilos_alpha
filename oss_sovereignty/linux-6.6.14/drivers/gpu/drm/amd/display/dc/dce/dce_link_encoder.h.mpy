{
  "module_name": "dce_link_encoder.h",
  "hash_id": "de437dee7b8ab3491ddb27986a2019687e0ad4b77e8e71a04b95ec9a2c7feb15",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/dce/dce_link_encoder.h",
  "human_readable_source": " \n\n#ifndef __DC_LINK_ENCODER__DCE110_H__\n#define __DC_LINK_ENCODER__DCE110_H__\n\n#include \"link_encoder.h\"\n\n#define TO_DCE110_LINK_ENC(link_encoder)\\\n\tcontainer_of(link_encoder, struct dce110_link_encoder, base)\n\n \n\n#define AUX_REG_LIST(id)\\\n\tSRI(AUX_CONTROL, DP_AUX, id), \\\n\tSRI(AUX_DPHY_RX_CONTROL0, DP_AUX, id), \\\n\tSRI(AUX_DPHY_RX_CONTROL1, DP_AUX, id)\n\n#define HPD_REG_LIST(id)\\\n\tSRI(DC_HPD_CONTROL, HPD, id)\n\n#define LE_COMMON_REG_LIST_BASE(id) \\\n\tSR(DMCU_RAM_ACCESS_CTRL), \\\n\tSR(DMCU_IRAM_RD_CTRL), \\\n\tSR(DMCU_IRAM_RD_DATA), \\\n\tSR(DMCU_INTERRUPT_TO_UC_EN_MASK), \\\n\tSRI(DIG_BE_CNTL, DIG, id), \\\n\tSRI(DIG_BE_EN_CNTL, DIG, id), \\\n\tSRI(DP_CONFIG, DP, id), \\\n\tSRI(DP_DPHY_CNTL, DP, id), \\\n\tSRI(DP_DPHY_PRBS_CNTL, DP, id), \\\n\tSRI(DP_DPHY_SCRAM_CNTL, DP, id),\\\n\tSRI(DP_DPHY_SYM0, DP, id), \\\n\tSRI(DP_DPHY_SYM1, DP, id), \\\n\tSRI(DP_DPHY_SYM2, DP, id), \\\n\tSRI(DP_DPHY_TRAINING_PATTERN_SEL, DP, id), \\\n\tSRI(DP_LINK_CNTL, DP, id), \\\n\tSRI(DP_LINK_FRAMING_CNTL, DP, id), \\\n\tSRI(DP_MSE_SAT0, DP, id), \\\n\tSRI(DP_MSE_SAT1, DP, id), \\\n\tSRI(DP_MSE_SAT2, DP, id), \\\n\tSRI(DP_MSE_SAT_UPDATE, DP, id), \\\n\tSRI(DP_SEC_CNTL, DP, id), \\\n\tSRI(DP_VID_STREAM_CNTL, DP, id), \\\n\tSRI(DP_DPHY_FAST_TRAINING, DP, id), \\\n\tSRI(DP_SEC_CNTL1, DP, id)\n\n#define LE_COMMON_REG_LIST(id)\\\n\tLE_COMMON_REG_LIST_BASE(id), \\\n\tSRI(DP_DPHY_BS_SR_SWAP_CNTL, DP, id), \\\n\tSRI(DP_DPHY_INTERNAL_CTRL, DP, id), \\\n\tSR(DCI_MEM_PWR_STATUS)\n\n#if defined(CONFIG_DRM_AMD_DC_SI)\n#define LE_DCE60_REG_LIST(id)\\\n\tSRI(DP_DPHY_INTERNAL_CTRL, DP, id), \\\n\tSR(DMCU_RAM_ACCESS_CTRL), \\\n\tSR(DMCU_IRAM_RD_CTRL), \\\n\tSR(DMCU_IRAM_RD_DATA), \\\n\tSR(DMCU_INTERRUPT_TO_UC_EN_MASK), \\\n\tSRI(DIG_BE_CNTL, DIG, id), \\\n\tSRI(DIG_BE_EN_CNTL, DIG, id), \\\n\tSRI(DP_CONFIG, DP, id), \\\n\tSRI(DP_DPHY_CNTL, DP, id), \\\n\tSRI(DP_DPHY_PRBS_CNTL, DP, id), \\\n\tSRI(DP_DPHY_SYM0, DP, id), \\\n\tSRI(DP_DPHY_SYM1, DP, id), \\\n\tSRI(DP_DPHY_SYM2, DP, id), \\\n\tSRI(DP_DPHY_TRAINING_PATTERN_SEL, DP, id), \\\n\tSRI(DP_LINK_CNTL, DP, id), \\\n\tSRI(DP_LINK_FRAMING_CNTL, DP, id), \\\n\tSRI(DP_MSE_SAT0, DP, id), \\\n\tSRI(DP_MSE_SAT1, DP, id), \\\n\tSRI(DP_MSE_SAT2, DP, id), \\\n\tSRI(DP_MSE_SAT_UPDATE, DP, id), \\\n\tSRI(DP_SEC_CNTL, DP, id), \\\n\tSRI(DP_VID_STREAM_CNTL, DP, id), \\\n\tSRI(DP_DPHY_FAST_TRAINING, DP, id), \\\n\tSRI(DP_SEC_CNTL1, DP, id)\n#endif\n\n#define LE_DCE80_REG_LIST(id)\\\n\tSRI(DP_DPHY_INTERNAL_CTRL, DP, id), \\\n\tLE_COMMON_REG_LIST_BASE(id)\n\n#define LE_DCE100_REG_LIST(id)\\\n\tLE_COMMON_REG_LIST_BASE(id), \\\n\tSRI(DP_DPHY_BS_SR_SWAP_CNTL, DP, id), \\\n\tSRI(DP_DPHY_INTERNAL_CTRL, DP, id), \\\n\tSR(DCI_MEM_PWR_STATUS)\n\n#define LE_DCE110_REG_LIST(id)\\\n\tLE_COMMON_REG_LIST_BASE(id), \\\n\tSRI(DP_DPHY_BS_SR_SWAP_CNTL, DP, id), \\\n\tSRI(DP_DPHY_INTERNAL_CTRL, DP, id), \\\n\tSRI(DP_DPHY_HBR2_PATTERN_CONTROL, DP, id), \\\n\tSR(DCI_MEM_PWR_STATUS)\n\n#define LE_DCE120_REG_LIST(id)\\\n\tLE_COMMON_REG_LIST_BASE(id), \\\n\tSRI(DP_DPHY_BS_SR_SWAP_CNTL, DP, id), \\\n\tSRI(DP_DPHY_HBR2_PATTERN_CONTROL, DP, id), \\\n\tSR(DCI_MEM_PWR_STATUS)\n\n#define LE_DCN10_REG_LIST(id)\\\n\tLE_COMMON_REG_LIST_BASE(id), \\\n\tSRI(DP_DPHY_BS_SR_SWAP_CNTL, DP, id), \\\n\tSRI(DP_DPHY_INTERNAL_CTRL, DP, id), \\\n\tSRI(DP_DPHY_HBR2_PATTERN_CONTROL, DP, id)\n\nstruct dce110_link_enc_aux_registers {\n\tuint32_t AUX_CONTROL;\n\tuint32_t AUX_DPHY_RX_CONTROL0;\n\tuint32_t AUX_DPHY_RX_CONTROL1;\n};\n\nstruct dce110_link_enc_hpd_registers {\n\tuint32_t DC_HPD_CONTROL;\n};\n\nstruct dce110_link_enc_registers {\n\t \n\tuint32_t MASTER_COMM_DATA_REG1;\n\tuint32_t MASTER_COMM_DATA_REG2;\n\tuint32_t MASTER_COMM_DATA_REG3;\n\tuint32_t MASTER_COMM_CMD_REG;\n\tuint32_t MASTER_COMM_CNTL_REG;\n\tuint32_t DMCU_RAM_ACCESS_CTRL;\n\tuint32_t DCI_MEM_PWR_STATUS;\n\tuint32_t DMU_MEM_PWR_CNTL;\n\tuint32_t DMCU_IRAM_RD_CTRL;\n\tuint32_t DMCU_IRAM_RD_DATA;\n\tuint32_t DMCU_INTERRUPT_TO_UC_EN_MASK;\n\n\t \n\tuint32_t DIG_BE_CNTL;\n\tuint32_t DIG_BE_EN_CNTL;\n\tuint32_t DP_CONFIG;\n\tuint32_t DP_DPHY_CNTL;\n\tuint32_t DP_DPHY_INTERNAL_CTRL;\n\tuint32_t DP_DPHY_PRBS_CNTL;\n\tuint32_t DP_DPHY_SCRAM_CNTL;\n\tuint32_t DP_DPHY_SYM0;\n\tuint32_t DP_DPHY_SYM1;\n\tuint32_t DP_DPHY_SYM2;\n\tuint32_t DP_DPHY_TRAINING_PATTERN_SEL;\n\tuint32_t DP_LINK_CNTL;\n\tuint32_t DP_LINK_FRAMING_CNTL;\n\tuint32_t DP_MSE_SAT0;\n\tuint32_t DP_MSE_SAT1;\n\tuint32_t DP_MSE_SAT2;\n\tuint32_t DP_MSE_SAT_UPDATE;\n\tuint32_t DP_SEC_CNTL;\n\tuint32_t DP_VID_STREAM_CNTL;\n\tuint32_t DP_DPHY_FAST_TRAINING;\n\tuint32_t DP_DPHY_BS_SR_SWAP_CNTL;\n\tuint32_t DP_DPHY_HBR2_PATTERN_CONTROL;\n\tuint32_t DP_SEC_CNTL1;\n};\n\nstruct dce110_link_encoder {\n\tstruct link_encoder base;\n\tconst struct dce110_link_enc_registers *link_regs;\n\tconst struct dce110_link_enc_aux_registers *aux_regs;\n\tconst struct dce110_link_enc_hpd_registers *hpd_regs;\n};\n\n\nvoid dce110_link_encoder_construct(\n\tstruct dce110_link_encoder *enc110,\n\tconst struct encoder_init_data *init_data,\n\tconst struct encoder_feature_support *enc_features,\n\tconst struct dce110_link_enc_registers *link_regs,\n\tconst struct dce110_link_enc_aux_registers *aux_regs,\n\tconst struct dce110_link_enc_hpd_registers *hpd_regs);\n\n#if defined(CONFIG_DRM_AMD_DC_SI)\nvoid dce60_link_encoder_construct(\n\tstruct dce110_link_encoder *enc110,\n\tconst struct encoder_init_data *init_data,\n\tconst struct encoder_feature_support *enc_features,\n\tconst struct dce110_link_enc_registers *link_regs,\n\tconst struct dce110_link_enc_aux_registers *aux_regs,\n\tconst struct dce110_link_enc_hpd_registers *hpd_regs);\n#endif\n\nbool dce110_link_encoder_validate_dvi_output(\n\tconst struct dce110_link_encoder *enc110,\n\tenum signal_type connector_signal,\n\tenum signal_type signal,\n\tconst struct dc_crtc_timing *crtc_timing);\n\nbool dce110_link_encoder_validate_rgb_output(\n\tconst struct dce110_link_encoder *enc110,\n\tconst struct dc_crtc_timing *crtc_timing);\n\nbool dce110_link_encoder_validate_dp_output(\n\tconst struct dce110_link_encoder *enc110,\n\tconst struct dc_crtc_timing *crtc_timing);\n\nbool dce110_link_encoder_validate_wireless_output(\n\tconst struct dce110_link_encoder *enc110,\n\tconst struct dc_crtc_timing *crtc_timing);\n\nbool dce110_link_encoder_validate_output_with_stream(\n\tstruct link_encoder *enc,\n\tconst struct dc_stream_state *stream);\n\n \n\n    \nvoid dce110_link_encoder_hw_init(struct link_encoder *enc);\n\nvoid dce110_link_encoder_destroy(struct link_encoder **enc);\n\n \n \nvoid dce110_link_encoder_setup(\n\tstruct link_encoder *enc,\n\tenum signal_type signal);\n\n \n \nvoid dce110_link_encoder_enable_tmds_output(\n\tstruct link_encoder *enc,\n\tenum clock_source_id clock_source,\n\tenum dc_color_depth color_depth,\n\tenum signal_type signal,\n\tuint32_t pixel_clock);\n\n \nvoid dce110_link_encoder_enable_dp_output(\n\tstruct link_encoder *enc,\n\tconst struct dc_link_settings *link_settings,\n\tenum clock_source_id clock_source);\n\n \nvoid dce110_link_encoder_enable_dp_mst_output(\n\tstruct link_encoder *enc,\n\tconst struct dc_link_settings *link_settings,\n\tenum clock_source_id clock_source);\n\n \nvoid dce110_link_encoder_enable_lvds_output(\n\tstruct link_encoder *enc,\n\tenum clock_source_id clock_source,\n\tuint32_t pixel_clock);\n\n \nvoid dce110_link_encoder_disable_output(\n\tstruct link_encoder *enc,\n\tenum signal_type signal);\n\n \nvoid dce110_link_encoder_dp_set_lane_settings(\n\tstruct link_encoder *enc,\n\tconst struct dc_link_settings *link_settings,\n\tconst struct dc_lane_settings lane_settings[LANE_COUNT_DP_MAX]);\n\nvoid dce110_link_encoder_dp_set_phy_pattern(\n\tstruct link_encoder *enc,\n\tconst struct encoder_set_dp_phy_pattern_param *param);\n\n \nvoid dce110_link_encoder_update_mst_stream_allocation_table(\n\tstruct link_encoder *enc,\n\tconst struct link_mst_stream_allocation_table *table);\n\nvoid dce110_link_encoder_connect_dig_be_to_fe(\n\tstruct link_encoder *enc,\n\tenum engine_id engine,\n\tbool connect);\n\nunsigned int dce110_get_dig_frontend(struct link_encoder *enc);\n\nvoid dce110_link_encoder_set_dp_phy_pattern_training_pattern(\n\tstruct link_encoder *enc,\n\tuint32_t index);\n\nvoid dce110_link_encoder_enable_hpd(struct link_encoder *enc);\n\nvoid dce110_link_encoder_disable_hpd(struct link_encoder *enc);\n\nvoid dce110_psr_program_dp_dphy_fast_training(struct link_encoder *enc,\n\t\t\tbool exit_link_training_required);\n\nvoid dce110_psr_program_secondary_packet(struct link_encoder *enc,\n\t\t\tunsigned int sdp_transmit_line_num_deadline);\n\nbool dce110_is_dig_enabled(struct link_encoder *enc);\n\nvoid dce110_link_encoder_get_max_link_cap(struct link_encoder *enc,\n\tstruct dc_link_settings *link_settings);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}