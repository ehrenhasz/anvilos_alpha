{
  "module_name": "opp.h",
  "hash_id": "1b1c8beefda947cb28c25b114ee375efd6e36aaa915d272fcd1de414743cfa5f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/inc/hw/opp.h",
  "human_readable_source": " \n\n#ifndef __DAL_OPP_H__\n#define __DAL_OPP_H__\n\n#include \"hw_shared.h\"\n#include \"dc_hw_types.h\"\n#include \"transform.h\"\n#include \"mpc.h\"\n\nstruct fixed31_32;\n\n \nenum clamping_range {\n\tCLAMPING_FULL_RANGE = 0,\t    \n\tCLAMPING_LIMITED_RANGE_8BPC,    \n\tCLAMPING_LIMITED_RANGE_10BPC,  \n\tCLAMPING_LIMITED_RANGE_12BPC,  \n\t \n\tCLAMPING_LIMITED_RANGE_PROGRAMMABLE\n};\n\nstruct clamping_and_pixel_encoding_params {\n\tenum dc_pixel_encoding pixel_encoding;  \n\tenum clamping_range clamping_level;  \n\tenum dc_color_depth c_depth;  \n};\n\nstruct bit_depth_reduction_params {\n\tstruct {\n\t\t \n\t\t \n\t\tuint32_t TRUNCATE_ENABLED:1;\n\t\t \n\t\tuint32_t TRUNCATE_DEPTH:2;\n\t\t \n\t\tuint32_t TRUNCATE_MODE:1;\n\n\t\t \n\t\t \n\t\tuint32_t SPATIAL_DITHER_ENABLED:1;\n\t\t \n\t\tuint32_t SPATIAL_DITHER_DEPTH:2;\n\t\t \n\t\tuint32_t SPATIAL_DITHER_MODE:2;\n\t\t \n\t\tuint32_t RGB_RANDOM:1;\n\t\t \n\t\tuint32_t FRAME_RANDOM:1;\n\t\t \n\t\tuint32_t HIGHPASS_RANDOM:1;\n\n\t\t \n\t\t  \n\t\tuint32_t FRAME_MODULATION_ENABLED:1;\n\t\t \n\t\tuint32_t FRAME_MODULATION_DEPTH:2;\n\t\t \n\t\tuint32_t TEMPORAL_LEVEL:1;\n\t\tuint32_t FRC25:2;\n\t\tuint32_t FRC50:2;\n\t\tuint32_t FRC75:2;\n\t} flags;\n\n\tuint32_t r_seed_value;\n\tuint32_t b_seed_value;\n\tuint32_t g_seed_value;\n\tenum dc_pixel_encoding pixel_encoding;\n};\n\nenum wide_gamut_regamma_mode {\n\t \n\tWIDE_GAMUT_REGAMMA_MODE_GRAPHICS_BYPASS,\n\t \n\tWIDE_GAMUT_REGAMMA_MODE_GRAPHICS_SRGB24,\n\t \n\tWIDE_GAMUT_REGAMMA_MODE_GRAPHICS_XYYCC22,\n\t \n\tWIDE_GAMUT_REGAMMA_MODE_GRAPHICS_MATRIX_A,\n\t \n\tWIDE_GAMUT_REGAMMA_MODE_GRAPHICS_MATRIX_B,\n\t \n\tWIDE_GAMUT_REGAMMA_MODE_OVL_BYPASS,\n\t \n\tWIDE_GAMUT_REGAMMA_MODE_OVL_SRGB24,\n\t \n\tWIDE_GAMUT_REGAMMA_MODE_OVL_XYYCC22,\n\t \n\tWIDE_GAMUT_REGAMMA_MODE_OVL_MATRIX_A,\n\t \n\tWIDE_GAMUT_REGAMMA_MODE_OVL_MATRIX_B\n};\n\nstruct gamma_pixel {\n\tstruct fixed31_32 r;\n\tstruct fixed31_32 g;\n\tstruct fixed31_32 b;\n};\n\nenum channel_name {\n\tCHANNEL_NAME_RED,\n\tCHANNEL_NAME_GREEN,\n\tCHANNEL_NAME_BLUE\n};\n\nstruct custom_float_format {\n\tuint32_t mantissa_bits;\n\tuint32_t exponenta_bits;\n\tbool sign;\n};\n\nstruct custom_float_value {\n\tuint32_t mantissa;\n\tuint32_t exponenta;\n\tuint32_t value;\n\tbool negative;\n};\n\nstruct hw_x_point {\n\tuint32_t custom_float_x;\n\tstruct fixed31_32 x;\n\tstruct fixed31_32 regamma_y_red;\n\tstruct fixed31_32 regamma_y_green;\n\tstruct fixed31_32 regamma_y_blue;\n\n};\n\nstruct pwl_float_data_ex {\n\tstruct fixed31_32 r;\n\tstruct fixed31_32 g;\n\tstruct fixed31_32 b;\n\tstruct fixed31_32 delta_r;\n\tstruct fixed31_32 delta_g;\n\tstruct fixed31_32 delta_b;\n};\n\nenum hw_point_position {\n\t \n\tHW_POINT_POSITION_MIDDLE,\n\t \n\tHW_POINT_POSITION_LEFT,\n\t \n\tHW_POINT_POSITION_RIGHT\n};\n\nstruct gamma_point {\n\tint32_t left_index;\n\tint32_t right_index;\n\tenum hw_point_position pos;\n\tstruct fixed31_32 coeff;\n};\n\nstruct pixel_gamma_point {\n\tstruct gamma_point r;\n\tstruct gamma_point g;\n\tstruct gamma_point b;\n};\n\nstruct gamma_coefficients {\n\tstruct fixed31_32 a0[3];\n\tstruct fixed31_32 a1[3];\n\tstruct fixed31_32 a2[3];\n\tstruct fixed31_32 a3[3];\n\tstruct fixed31_32 user_gamma[3];\n\tstruct fixed31_32 user_contrast;\n\tstruct fixed31_32 user_brightness;\n};\n\nstruct pwl_float_data {\n\tstruct fixed31_32 r;\n\tstruct fixed31_32 g;\n\tstruct fixed31_32 b;\n};\n\nstruct mpc_tree_cfg {\n\tint num_pipes;\n\tint dpp[MAX_PIPES];\n\tint mpcc[MAX_PIPES];\n};\n\nstruct output_pixel_processor {\n\tstruct dc_context *ctx;\n\tuint32_t inst;\n\tstruct pwl_params regamma_params;\n\tstruct mpc_tree mpc_tree_params;\n\tbool mpcc_disconnect_pending[MAX_PIPES];\n\tconst struct opp_funcs *funcs;\n\tuint32_t dyn_expansion;\n};\n\nenum fmt_stereo_action {\n\tFMT_STEREO_ACTION_ENABLE = 0,\n\tFMT_STEREO_ACTION_DISABLE,\n\tFMT_STEREO_ACTION_UPDATE_POLARITY\n};\n\nstruct opp_grph_csc_adjustment {\n\t\n\tenum dc_color_space c_space;\n\tenum dc_color_depth color_depth;  \n\tenum graphics_csc_adjust_type   csc_adjust_type;\n\tint32_t adjust_divider;\n\tint32_t grph_cont;\n\tint32_t grph_sat;\n\tint32_t grph_bright;\n\tint32_t grph_hue;\n};\n\n \n\nstruct hw_adjustment_range {\n\tint32_t hw_default;\n\tint32_t min;\n\tint32_t max;\n\tint32_t step;\n\tuint32_t divider;  \n};\n\nenum ovl_csc_adjust_item {\n\tOVERLAY_BRIGHTNESS = 0,\n\tOVERLAY_GAMMA,\n\tOVERLAY_CONTRAST,\n\tOVERLAY_SATURATION,\n\tOVERLAY_HUE,\n\tOVERLAY_ALPHA,\n\tOVERLAY_ALPHA_PER_PIX,\n\tOVERLAY_COLOR_TEMPERATURE\n};\n\nenum oppbuf_display_segmentation {\n\tOPPBUF_DISPLAY_SEGMENTATION_1_SEGMENT = 0,\n\tOPPBUF_DISPLAY_SEGMENTATION_2_SEGMENT = 1,\n\tOPPBUF_DISPLAY_SEGMENTATION_4_SEGMENT = 2,\n\tOPPBUF_DISPLAY_SEGMENTATION_4_SEGMENT_SPLIT_LEFT = 3,\n\tOPPBUF_DISPLAY_SEGMENTATION_4_SEGMENT_SPLIT_RIGHT = 4\n};\n\nstruct oppbuf_params {\n\tuint32_t active_width;\n\tenum oppbuf_display_segmentation mso_segmentation;\n\tuint32_t mso_overlap_pixel_num;\n\tuint32_t pixel_repetition;\n\tuint32_t num_segment_padded_pixels;\n};\n\nstruct opp_funcs {\n\n\n\t \n\n\tvoid (*opp_program_fmt)(\n\t\t\tstruct output_pixel_processor *opp,\n\t\t\tstruct bit_depth_reduction_params *fmt_bit_depth,\n\t\t\tstruct clamping_and_pixel_encoding_params *clamping);\n\n\tvoid (*opp_set_dyn_expansion)(\n\t\tstruct output_pixel_processor *opp,\n\t\tenum dc_color_space color_sp,\n\t\tenum dc_color_depth color_dpth,\n\t\tenum signal_type signal);\n\n\tvoid (*opp_program_bit_depth_reduction)(\n\t\tstruct output_pixel_processor *opp,\n\t\tconst struct bit_depth_reduction_params *params);\n\n\t \n\tvoid (*opp_get_underlay_adjustment_range)(\n\t\t\tstruct output_pixel_processor *opp,\n\t\t\tenum ovl_csc_adjust_item overlay_adjust_item,\n\t\t\tstruct hw_adjustment_range *range);\n\n\tvoid (*opp_destroy)(struct output_pixel_processor **opp);\n\n\tvoid (*opp_program_stereo)(\n\t\tstruct output_pixel_processor *opp,\n\t\tbool enable,\n\t\tconst struct dc_crtc_timing *timing);\n\n\tvoid (*opp_pipe_clock_control)(\n\t\t\tstruct output_pixel_processor *opp,\n\t\t\tbool enable);\n\n\tvoid (*opp_set_disp_pattern_generator)(\n\t\t\tstruct output_pixel_processor *opp,\n\t\t\tenum controller_dp_test_pattern test_pattern,\n\t\t\tenum controller_dp_color_space color_space,\n\t\t\tenum dc_color_depth color_depth,\n\t\t\tconst struct tg_color *solid_color,\n\t\t\tint width,\n\t\t\tint height,\n\t\t\tint offset);\n\n\tvoid (*opp_program_dpg_dimensions)(\n\t\t\t\tstruct output_pixel_processor *opp,\n\t\t\t\tint width,\n\t\t\t\tint height);\n\n\tbool (*dpg_is_blanked)(\n\t\t\tstruct output_pixel_processor *opp);\n\n\tvoid (*opp_dpg_set_blank_color)(\n\t\t\tstruct output_pixel_processor *opp,\n\t\t\tconst struct tg_color *color);\n\n\tvoid (*opp_program_left_edge_extra_pixel)(\n\t\t\tstruct output_pixel_processor *opp,\n\t\t\tbool count);\n\n};\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}