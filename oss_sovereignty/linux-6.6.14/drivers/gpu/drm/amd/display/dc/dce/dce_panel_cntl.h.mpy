{
  "module_name": "dce_panel_cntl.h",
  "hash_id": "0c4dad21793a0abd1fcede38c42dfe09f84b345c101ecfeb6a8324c8c8b4ed90",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/dce/dce_panel_cntl.h",
  "human_readable_source": " \n\n#ifndef __DC_PANEL_CNTL__DCE_H__\n#define __DC_PANEL_CNTL__DCE_H__\n\n#include \"panel_cntl.h\"\n\n \n#define DCE_PANEL_CNTL_SR(reg_name, block)\\\n\t.reg_name = mm ## block ## _ ## reg_name\n\n#define DCE_PANEL_CNTL_REG_LIST()\\\n\tDCE_PANEL_CNTL_SR(PWRSEQ_CNTL, LVTMA), \\\n\tDCE_PANEL_CNTL_SR(PWRSEQ_STATE, LVTMA), \\\n\tDCE_PANEL_CNTL_SR(PWRSEQ_REF_DIV, LVTMA), \\\n\tSR(BL_PWM_CNTL), \\\n\tSR(BL_PWM_CNTL2), \\\n\tSR(BL_PWM_PERIOD_CNTL), \\\n\tSR(BL_PWM_GRP1_REG_LOCK), \\\n\tSR(BIOS_SCRATCH_2)\n\n#define DCN_PANEL_CNTL_SR(reg_name, block)\\\n\t.reg_name = BASE(mm ## block ## _ ## reg_name ## _BASE_IDX) + \\\n\t\t\t\t\tmm ## block ## _ ## reg_name\n\n#define DCN_PANEL_CNTL_REG_LIST()\\\n\tDCN_PANEL_CNTL_SR(PWRSEQ_CNTL, LVTMA), \\\n\tDCN_PANEL_CNTL_SR(PWRSEQ_STATE, LVTMA), \\\n\tDCN_PANEL_CNTL_SR(PWRSEQ_REF_DIV, LVTMA), \\\n\tSR(BL_PWM_CNTL), \\\n\tSR(BL_PWM_CNTL2), \\\n\tSR(BL_PWM_PERIOD_CNTL), \\\n\tSR(BL_PWM_GRP1_REG_LOCK), \\\n\tNBIO_SR(BIOS_SCRATCH_2)\n\n#define DCE_PANEL_CNTL_SF(reg_name, field_name, post_fix)\\\n\t.field_name = reg_name ## __ ## field_name ## post_fix\n\n#define DCE_PANEL_CNTL_MASK_SH_LIST(mask_sh) \\\n\tDCE_PANEL_CNTL_SF(LVTMA_PWRSEQ_CNTL, LVTMA_BLON, mask_sh),\\\n\tDCE_PANEL_CNTL_SF(LVTMA_PWRSEQ_CNTL, LVTMA_BLON_OVRD, mask_sh),\\\n\tDCE_PANEL_CNTL_SF(LVTMA_PWRSEQ_CNTL, LVTMA_DIGON, mask_sh),\\\n\tDCE_PANEL_CNTL_SF(LVTMA_PWRSEQ_CNTL, LVTMA_DIGON_OVRD, mask_sh),\\\n\tDCE_PANEL_CNTL_SF(LVTMA_PWRSEQ_CNTL, LVTMA_PWRSEQ_TARGET_STATE, mask_sh), \\\n\tDCE_PANEL_CNTL_SF(LVTMA_PWRSEQ_STATE, LVTMA_PWRSEQ_TARGET_STATE_R, mask_sh), \\\n\tDCE_PANEL_CNTL_SF(LVTMA_PWRSEQ_REF_DIV, BL_PWM_REF_DIV, mask_sh), \\\n\tDCE_PANEL_CNTL_SF(BL_PWM_PERIOD_CNTL, BL_PWM_PERIOD, mask_sh), \\\n\tDCE_PANEL_CNTL_SF(BL_PWM_PERIOD_CNTL, BL_PWM_PERIOD_BITCNT, mask_sh), \\\n\tDCE_PANEL_CNTL_SF(BL_PWM_CNTL, BL_ACTIVE_INT_FRAC_CNT, mask_sh), \\\n\tDCE_PANEL_CNTL_SF(BL_PWM_CNTL, BL_PWM_FRACTIONAL_EN, mask_sh), \\\n\tDCE_PANEL_CNTL_SF(BL_PWM_CNTL, BL_PWM_EN, mask_sh), \\\n\tDCE_PANEL_CNTL_SF(BL_PWM_GRP1_REG_LOCK, BL_PWM_GRP1_IGNORE_MASTER_LOCK_EN, mask_sh), \\\n\tDCE_PANEL_CNTL_SF(BL_PWM_GRP1_REG_LOCK, BL_PWM_GRP1_REG_LOCK, mask_sh), \\\n\tDCE_PANEL_CNTL_SF(BL_PWM_GRP1_REG_LOCK, BL_PWM_GRP1_REG_UPDATE_PENDING, mask_sh)\n\n#define DCE_PANEL_CNTL_REG_FIELD_LIST(type) \\\n\ttype LVTMA_BLON;\\\n\ttype LVTMA_BLON_OVRD;\\\n\ttype LVTMA_DIGON;\\\n\ttype LVTMA_DIGON_OVRD;\\\n\ttype LVTMA_PWRSEQ_TARGET_STATE; \\\n\ttype LVTMA_PWRSEQ_TARGET_STATE_R; \\\n\ttype BL_PWM_REF_DIV; \\\n\ttype BL_PWM_EN; \\\n\ttype BL_ACTIVE_INT_FRAC_CNT; \\\n\ttype BL_PWM_FRACTIONAL_EN; \\\n\ttype BL_PWM_PERIOD; \\\n\ttype BL_PWM_PERIOD_BITCNT; \\\n\ttype BL_PWM_GRP1_IGNORE_MASTER_LOCK_EN; \\\n\ttype BL_PWM_GRP1_REG_LOCK; \\\n\ttype BL_PWM_GRP1_REG_UPDATE_PENDING\n\nstruct dce_panel_cntl_shift {\n\tDCE_PANEL_CNTL_REG_FIELD_LIST(uint8_t);\n};\n\nstruct dce_panel_cntl_mask {\n\tDCE_PANEL_CNTL_REG_FIELD_LIST(uint32_t);\n};\n\nstruct dce_panel_cntl_registers {\n\tuint32_t PWRSEQ_CNTL;\n\tuint32_t PWRSEQ_STATE;\n\tuint32_t BL_PWM_CNTL;\n\tuint32_t BL_PWM_CNTL2;\n\tuint32_t BL_PWM_PERIOD_CNTL;\n\tuint32_t BL_PWM_GRP1_REG_LOCK;\n\tuint32_t PWRSEQ_REF_DIV;\n\tuint32_t BIOS_SCRATCH_2;\n};\n\nstruct dce_panel_cntl {\n\tstruct panel_cntl base;\n\tconst struct dce_panel_cntl_registers *regs;\n\tconst struct dce_panel_cntl_shift *shift;\n\tconst struct dce_panel_cntl_mask *mask;\n};\n\nvoid dce_panel_cntl_construct(\n\tstruct dce_panel_cntl *panel_cntl,\n\tconst struct panel_cntl_init_data *init_data,\n\tconst struct dce_panel_cntl_registers *regs,\n\tconst struct dce_panel_cntl_shift *shift,\n\tconst struct dce_panel_cntl_mask *mask);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}