{
  "module_name": "virtual_stream_encoder.c",
  "hash_id": "055a75c57d9e06e7798349204ff7895817bf2942d0bdb6b587c9fa08ddcfc11f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/virtual/virtual_stream_encoder.c",
  "human_readable_source": " \n\n#include \"dm_services.h\"\n#include \"virtual_stream_encoder.h\"\n\nstatic void virtual_stream_encoder_dp_set_stream_attribute(\n\tstruct stream_encoder *enc,\n\tstruct dc_crtc_timing *crtc_timing,\n\tenum dc_color_space output_color_space,\n\tbool use_vsc_sdp_for_colorimetry,\n\tuint32_t enable_sdp_splitting) {}\n\nstatic void virtual_stream_encoder_hdmi_set_stream_attribute(\n\tstruct stream_encoder *enc,\n\tstruct dc_crtc_timing *crtc_timing,\n\tint actual_pix_clk_khz,\n\tbool enable_audio) {}\n\nstatic void virtual_stream_encoder_dvi_set_stream_attribute(\n\tstruct stream_encoder *enc,\n\tstruct dc_crtc_timing *crtc_timing,\n\tbool is_dual_link) {}\n\nstatic void virtual_stream_encoder_set_throttled_vcp_size(\n\tstruct stream_encoder *enc,\n\tstruct fixed31_32 avg_time_slots_per_mtp)\n{}\n\nstatic void virtual_stream_encoder_update_hdmi_info_packets(\n\tstruct stream_encoder *enc,\n\tconst struct encoder_info_frame *info_frame) {}\n\nstatic void virtual_stream_encoder_stop_hdmi_info_packets(\n\tstruct stream_encoder *enc) {}\n\nstatic void virtual_stream_encoder_set_avmute(\n\tstruct stream_encoder *enc,\n\tbool enable) {}\nstatic void virtual_stream_encoder_update_dp_info_packets(\n\tstruct stream_encoder *enc,\n\tconst struct encoder_info_frame *info_frame) {}\n\nstatic void virtual_stream_encoder_stop_dp_info_packets(\n\tstruct stream_encoder *enc) {}\n\nstatic void virtual_stream_encoder_dp_blank(\n\tstruct dc_link *link,\n\tstruct stream_encoder *enc) {}\n\nstatic void virtual_stream_encoder_dp_unblank(\n\tstruct dc_link *link,\n\tstruct stream_encoder *enc,\n\tconst struct encoder_unblank_param *param) {}\n\nstatic void virtual_audio_mute_control(\n\tstruct stream_encoder *enc,\n\tbool mute) {}\n\nstatic void virtual_stream_encoder_reset_hdmi_stream_attribute(\n\t\tstruct stream_encoder *enc)\n{}\n\nstatic void virtual_enc_dp_set_odm_combine(\n\tstruct stream_encoder *enc,\n\tbool odm_combine)\n{}\n\nstatic void virtual_dig_connect_to_otg(\n\t\tstruct stream_encoder *enc,\n\t\tint tg_inst)\n{}\n\nstatic void virtual_setup_stereo_sync(\n\t\t\tstruct stream_encoder *enc,\n\t\t\tint tg_inst,\n\t\t\tbool enable)\n{}\n\nstatic void virtual_stream_encoder_set_dsc_pps_info_packet(\n\t\tstruct stream_encoder *enc,\n\t\tbool enable,\n\t\tuint8_t *dsc_packed_pps,\n\t\tbool immediate_update)\n{}\n\nstatic const struct stream_encoder_funcs virtual_str_enc_funcs = {\n\t.dp_set_odm_combine =\n\t\tvirtual_enc_dp_set_odm_combine,\n\t.dp_set_stream_attribute =\n\t\tvirtual_stream_encoder_dp_set_stream_attribute,\n\t.hdmi_set_stream_attribute =\n\t\tvirtual_stream_encoder_hdmi_set_stream_attribute,\n\t.dvi_set_stream_attribute =\n\t\tvirtual_stream_encoder_dvi_set_stream_attribute,\n\t.set_throttled_vcp_size =\n\t\tvirtual_stream_encoder_set_throttled_vcp_size,\n\t.update_hdmi_info_packets =\n\t\tvirtual_stream_encoder_update_hdmi_info_packets,\n\t.stop_hdmi_info_packets =\n\t\tvirtual_stream_encoder_stop_hdmi_info_packets,\n\t.update_dp_info_packets =\n\t\tvirtual_stream_encoder_update_dp_info_packets,\n\t.stop_dp_info_packets =\n\t\tvirtual_stream_encoder_stop_dp_info_packets,\n\t.dp_blank =\n\t\tvirtual_stream_encoder_dp_blank,\n\t.dp_unblank =\n\t\tvirtual_stream_encoder_dp_unblank,\n\n\t.audio_mute_control = virtual_audio_mute_control,\n\t.set_avmute = virtual_stream_encoder_set_avmute,\n\t.hdmi_reset_stream_attribute = virtual_stream_encoder_reset_hdmi_stream_attribute,\n\t.dig_connect_to_otg = virtual_dig_connect_to_otg,\n\t.setup_stereo_sync = virtual_setup_stereo_sync,\n\t.dp_set_dsc_pps_info_packet = virtual_stream_encoder_set_dsc_pps_info_packet,\n};\n\nbool virtual_stream_encoder_construct(\n\tstruct stream_encoder *enc,\n\tstruct dc_context *ctx,\n\tstruct dc_bios *bp)\n{\n\tif (!enc)\n\t\treturn false;\n\tif (!bp)\n\t\treturn false;\n\n\tenc->funcs = &virtual_str_enc_funcs;\n\tenc->ctx = ctx;\n\tenc->id = ENGINE_ID_VIRTUAL;\n\tenc->bp = bp;\n\n\treturn true;\n}\n\nstruct stream_encoder *virtual_stream_encoder_create(\n\tstruct dc_context *ctx, struct dc_bios *bp)\n{\n\tstruct stream_encoder *enc = kzalloc(sizeof(*enc), GFP_KERNEL);\n\n\tif (!enc)\n\t\treturn NULL;\n\n\tif (virtual_stream_encoder_construct(enc, ctx, bp))\n\t\treturn enc;\n\n\tBREAK_TO_DEBUGGER();\n\tkfree(enc);\n\treturn NULL;\n}\n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}