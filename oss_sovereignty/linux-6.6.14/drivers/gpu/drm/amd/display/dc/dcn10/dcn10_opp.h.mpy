{
  "module_name": "dcn10_opp.h",
  "hash_id": "01b2b279e447cb706ad143d4b54f230b207e1563ceb6c3708f8b9966f86f76b1",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/dcn10/dcn10_opp.h",
  "human_readable_source": " \n\n#ifndef __DC_OPP_DCN10_H__\n#define __DC_OPP_DCN10_H__\n\n#include \"opp.h\"\n\n#define TO_DCN10_OPP(opp)\\\n\tcontainer_of(opp, struct dcn10_opp, base)\n\n#define OPP_SF(reg_name, field_name, post_fix)\\\n\t.field_name = reg_name ## __ ## field_name ## post_fix\n\n#define OPP_REG_LIST_DCN(id) \\\n\tSRI(FMT_BIT_DEPTH_CONTROL, FMT, id), \\\n\tSRI(FMT_CONTROL, FMT, id), \\\n\tSRI(FMT_DITHER_RAND_R_SEED, FMT, id), \\\n\tSRI(FMT_DITHER_RAND_G_SEED, FMT, id), \\\n\tSRI(FMT_DITHER_RAND_B_SEED, FMT, id), \\\n\tSRI(FMT_CLAMP_CNTL, FMT, id), \\\n\tSRI(FMT_DYNAMIC_EXP_CNTL, FMT, id), \\\n\tSRI(FMT_MAP420_MEMORY_CONTROL, FMT, id), \\\n\tSRI(OPPBUF_CONTROL, OPPBUF, id),\\\n\tSRI(OPPBUF_3D_PARAMETERS_0, OPPBUF, id), \\\n\tSRI(OPPBUF_3D_PARAMETERS_1, OPPBUF, id), \\\n\tSRI(OPP_PIPE_CONTROL, OPP_PIPE, id)\n\n#define OPP_REG_LIST_DCN10(id) \\\n\tOPP_REG_LIST_DCN(id)\n\n#define OPP_COMMON_REG_VARIABLE_LIST \\\n\tuint32_t FMT_BIT_DEPTH_CONTROL; \\\n\tuint32_t FMT_CONTROL; \\\n\tuint32_t FMT_DITHER_RAND_R_SEED; \\\n\tuint32_t FMT_DITHER_RAND_G_SEED; \\\n\tuint32_t FMT_DITHER_RAND_B_SEED; \\\n\tuint32_t FMT_CLAMP_CNTL; \\\n\tuint32_t FMT_DYNAMIC_EXP_CNTL; \\\n\tuint32_t FMT_MAP420_MEMORY_CONTROL; \\\n\tuint32_t OPPBUF_CONTROL; \\\n\tuint32_t OPPBUF_CONTROL1; \\\n\tuint32_t OPPBUF_3D_PARAMETERS_0; \\\n\tuint32_t OPPBUF_3D_PARAMETERS_1; \\\n\tuint32_t OPP_PIPE_CONTROL\n\n#define OPP_MASK_SH_LIST_DCN(mask_sh) \\\n\tOPP_SF(FMT0_FMT_BIT_DEPTH_CONTROL, FMT_TRUNCATE_EN, mask_sh), \\\n\tOPP_SF(FMT0_FMT_BIT_DEPTH_CONTROL, FMT_TRUNCATE_DEPTH, mask_sh), \\\n\tOPP_SF(FMT0_FMT_BIT_DEPTH_CONTROL, FMT_TRUNCATE_MODE, mask_sh), \\\n\tOPP_SF(FMT0_FMT_BIT_DEPTH_CONTROL, FMT_SPATIAL_DITHER_EN, mask_sh), \\\n\tOPP_SF(FMT0_FMT_BIT_DEPTH_CONTROL, FMT_SPATIAL_DITHER_MODE, mask_sh), \\\n\tOPP_SF(FMT0_FMT_BIT_DEPTH_CONTROL, FMT_SPATIAL_DITHER_DEPTH, mask_sh), \\\n\tOPP_SF(FMT0_FMT_BIT_DEPTH_CONTROL, FMT_TEMPORAL_DITHER_EN, mask_sh), \\\n\tOPP_SF(FMT0_FMT_BIT_DEPTH_CONTROL, FMT_HIGHPASS_RANDOM_ENABLE, mask_sh), \\\n\tOPP_SF(FMT0_FMT_BIT_DEPTH_CONTROL, FMT_FRAME_RANDOM_ENABLE, mask_sh), \\\n\tOPP_SF(FMT0_FMT_BIT_DEPTH_CONTROL, FMT_RGB_RANDOM_ENABLE, mask_sh), \\\n\tOPP_SF(FMT0_FMT_CONTROL, FMT_SPATIAL_DITHER_FRAME_COUNTER_MAX, mask_sh), \\\n\tOPP_SF(FMT0_FMT_CONTROL, FMT_SPATIAL_DITHER_FRAME_COUNTER_BIT_SWAP, mask_sh), \\\n\tOPP_SF(FMT0_FMT_CONTROL, FMT_PIXEL_ENCODING, mask_sh), \\\n\tOPP_SF(FMT0_FMT_CONTROL, FMT_STEREOSYNC_OVERRIDE, mask_sh), \\\n\tOPP_SF(FMT0_FMT_DITHER_RAND_R_SEED, FMT_RAND_R_SEED, mask_sh), \\\n\tOPP_SF(FMT0_FMT_DITHER_RAND_G_SEED, FMT_RAND_G_SEED, mask_sh), \\\n\tOPP_SF(FMT0_FMT_DITHER_RAND_B_SEED, FMT_RAND_B_SEED, mask_sh), \\\n\tOPP_SF(FMT0_FMT_CLAMP_CNTL, FMT_CLAMP_DATA_EN, mask_sh), \\\n\tOPP_SF(FMT0_FMT_CLAMP_CNTL, FMT_CLAMP_COLOR_FORMAT, mask_sh), \\\n\tOPP_SF(FMT0_FMT_DYNAMIC_EXP_CNTL, FMT_DYNAMIC_EXP_EN, mask_sh), \\\n\tOPP_SF(FMT0_FMT_DYNAMIC_EXP_CNTL, FMT_DYNAMIC_EXP_MODE, mask_sh), \\\n\tOPP_SF(FMT0_FMT_MAP420_MEMORY_CONTROL, FMT_MAP420MEM_PWR_FORCE, mask_sh), \\\n\tOPP_SF(OPPBUF0_OPPBUF_CONTROL, OPPBUF_ACTIVE_WIDTH, mask_sh),\\\n\tOPP_SF(OPPBUF0_OPPBUF_CONTROL, OPPBUF_PIXEL_REPETITION, mask_sh),\\\n\tOPP_SF(OPPBUF0_OPPBUF_3D_PARAMETERS_0, OPPBUF_3D_VACT_SPACE1_SIZE, mask_sh), \\\n\tOPP_SF(OPPBUF0_OPPBUF_3D_PARAMETERS_0, OPPBUF_3D_VACT_SPACE2_SIZE, mask_sh), \\\n\tOPP_SF(OPP_PIPE0_OPP_PIPE_CONTROL, OPP_PIPE_CLOCK_EN, mask_sh)\n\n#define OPP_MASK_SH_LIST_DCN10(mask_sh) \\\n\tOPP_MASK_SH_LIST_DCN(mask_sh), \\\n\tOPP_SF(OPPBUF0_OPPBUF_CONTROL, OPPBUF_DISPLAY_SEGMENTATION, mask_sh),\\\n\tOPP_SF(OPPBUF0_OPPBUF_CONTROL, OPPBUF_OVERLAP_PIXEL_NUM, mask_sh)\n\n#define OPP_DCN10_REG_FIELD_LIST(type) \\\n\ttype FMT_TRUNCATE_EN; \\\n\ttype FMT_TRUNCATE_DEPTH; \\\n\ttype FMT_TRUNCATE_MODE; \\\n\ttype FMT_SPATIAL_DITHER_EN; \\\n\ttype FMT_SPATIAL_DITHER_MODE; \\\n\ttype FMT_SPATIAL_DITHER_DEPTH; \\\n\ttype FMT_TEMPORAL_DITHER_EN; \\\n\ttype FMT_HIGHPASS_RANDOM_ENABLE; \\\n\ttype FMT_FRAME_RANDOM_ENABLE; \\\n\ttype FMT_RGB_RANDOM_ENABLE; \\\n\ttype FMT_SPATIAL_DITHER_FRAME_COUNTER_MAX; \\\n\ttype FMT_SPATIAL_DITHER_FRAME_COUNTER_BIT_SWAP; \\\n\ttype FMT_RAND_R_SEED; \\\n\ttype FMT_RAND_G_SEED; \\\n\ttype FMT_RAND_B_SEED; \\\n\ttype FMT_PIXEL_ENCODING; \\\n\ttype FMT_SUBSAMPLING_MODE; \\\n\ttype FMT_CBCR_BIT_REDUCTION_BYPASS; \\\n\ttype FMT_CLAMP_DATA_EN; \\\n\ttype FMT_CLAMP_COLOR_FORMAT; \\\n\ttype FMT_DYNAMIC_EXP_EN; \\\n\ttype FMT_DYNAMIC_EXP_MODE; \\\n\ttype FMT_MAP420MEM_PWR_FORCE; \\\n\ttype FMT_STEREOSYNC_OVERRIDE; \\\n\ttype OPPBUF_ACTIVE_WIDTH;\\\n\ttype OPPBUF_PIXEL_REPETITION;\\\n\ttype OPPBUF_DISPLAY_SEGMENTATION;\\\n\ttype OPPBUF_OVERLAP_PIXEL_NUM;\\\n\ttype OPPBUF_NUM_SEGMENT_PADDED_PIXELS; \\\n\ttype OPPBUF_3D_VACT_SPACE1_SIZE; \\\n\ttype OPPBUF_3D_VACT_SPACE2_SIZE; \\\n\ttype OPP_PIPE_CLOCK_EN\n\nstruct dcn10_opp_registers {\n\tOPP_COMMON_REG_VARIABLE_LIST;\n};\n\nstruct dcn10_opp_shift {\n\tOPP_DCN10_REG_FIELD_LIST(uint8_t);\n};\n\nstruct dcn10_opp_mask {\n\tOPP_DCN10_REG_FIELD_LIST(uint32_t);\n};\n\nstruct dcn10_opp {\n\tstruct output_pixel_processor base;\n\n\tconst struct dcn10_opp_registers *regs;\n\tconst struct dcn10_opp_shift *opp_shift;\n\tconst struct dcn10_opp_mask *opp_mask;\n\n\tbool is_write_to_ram_a_safe;\n};\n\nvoid dcn10_opp_construct(struct dcn10_opp *oppn10,\n\tstruct dc_context *ctx,\n\tuint32_t inst,\n\tconst struct dcn10_opp_registers *regs,\n\tconst struct dcn10_opp_shift *opp_shift,\n\tconst struct dcn10_opp_mask *opp_mask);\n\nvoid opp1_set_dyn_expansion(\n\tstruct output_pixel_processor *opp,\n\tenum dc_color_space color_sp,\n\tenum dc_color_depth color_dpth,\n\tenum signal_type signal);\n\nvoid opp1_program_fmt(\n\tstruct output_pixel_processor *opp,\n\tstruct bit_depth_reduction_params *fmt_bit_depth,\n\tstruct clamping_and_pixel_encoding_params *clamping);\n\nvoid opp1_program_bit_depth_reduction(\n\tstruct output_pixel_processor *opp,\n\tconst struct bit_depth_reduction_params *params);\n\nvoid opp1_program_stereo(\n\tstruct output_pixel_processor *opp,\n\tbool enable,\n\tconst struct dc_crtc_timing *timing);\n\nvoid opp1_pipe_clock_control(struct output_pixel_processor *opp, bool enable);\n\nvoid opp1_destroy(struct output_pixel_processor **opp);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}