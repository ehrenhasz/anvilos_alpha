{
  "module_name": "hw_gpio.h",
  "hash_id": "c79cabc5662437c5548c0b196682f884e01f62ceb5f987ba160c66e0a2cc30ee",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/gpio/hw_gpio.h",
  "human_readable_source": " \n\n#ifndef __DAL_HW_GPIO_H__\n#define __DAL_HW_GPIO_H__\n\n#include \"gpio_regs.h\"\n\n#define FROM_HW_GPIO_PIN(ptr) \\\n\tcontainer_of((ptr), struct hw_gpio, base)\n\nstruct addr_mask {\n\tuint32_t addr;\n\tuint32_t mask;\n};\n\nstruct hw_gpio_pin {\n\tconst struct hw_gpio_pin_funcs *funcs;\n\tenum gpio_id id;\n\tuint32_t en;\n\tenum gpio_mode mode;\n\tbool opened;\n\tstruct dc_context *ctx;\n};\n\nstruct hw_gpio_pin_funcs {\n\tvoid (*destroy)(\n\t\tstruct hw_gpio_pin **ptr);\n\tbool (*open)(\n\t\tstruct hw_gpio_pin *pin,\n\t\tenum gpio_mode mode);\n\tenum gpio_result (*get_value)(\n\t\tconst struct hw_gpio_pin *pin,\n\t\tuint32_t *value);\n\tenum gpio_result (*set_value)(\n\t\tconst struct hw_gpio_pin *pin,\n\t\tuint32_t value);\n\tenum gpio_result (*set_config)(\n\t\tstruct hw_gpio_pin *pin,\n\t\tconst struct gpio_config_data *config_data);\n\tenum gpio_result (*change_mode)(\n\t\tstruct hw_gpio_pin *pin,\n\t\tenum gpio_mode mode);\n\tvoid (*close)(\n\t\tstruct hw_gpio_pin *pin);\n};\n\n\nstruct hw_gpio;\n\n \n\nstruct hw_gpio_pin_reg {\n\tstruct addr_mask DC_GPIO_DATA_MASK;\n\tstruct addr_mask DC_GPIO_DATA_A;\n\tstruct addr_mask DC_GPIO_DATA_EN;\n\tstruct addr_mask DC_GPIO_DATA_Y;\n};\n\nstruct hw_gpio_mux_reg {\n\tstruct addr_mask GPIO_MUX_CONTROL;\n\tstruct addr_mask GPIO_MUX_STEREO_SEL;\n};\n\nstruct hw_gpio {\n\tstruct hw_gpio_pin base;\n\n\t \n\tstruct {\n\t\tuint32_t mask;\n\t\tuint32_t a;\n\t\tuint32_t en;\n\t\tuint32_t mux;\n\t} store;\n\n\t \n\tbool mux_supported;\n\tconst struct gpio_registers *regs;\n};\n\n#define HW_GPIO_FROM_BASE(hw_gpio_pin) \\\n\tcontainer_of((hw_gpio_pin), struct hw_gpio, base)\n\nvoid dal_hw_gpio_construct(\n\tstruct hw_gpio *pin,\n\tenum gpio_id id,\n\tuint32_t en,\n\tstruct dc_context *ctx);\n\nbool dal_hw_gpio_open(\n\tstruct hw_gpio_pin *pin,\n\tenum gpio_mode mode);\n\nenum gpio_result dal_hw_gpio_get_value(\n\tconst struct hw_gpio_pin *pin,\n\tuint32_t *value);\n\nenum gpio_result dal_hw_gpio_config_mode(\n\tstruct hw_gpio *pin,\n\tenum gpio_mode mode);\n\nvoid dal_hw_gpio_destruct(\n\tstruct hw_gpio *pin);\n\nenum gpio_result dal_hw_gpio_set_value(\n\tconst struct hw_gpio_pin *ptr,\n\tuint32_t value);\n\nenum gpio_result dal_hw_gpio_change_mode(\n\tstruct hw_gpio_pin *ptr,\n\tenum gpio_mode mode);\n\nvoid dal_hw_gpio_close(\n\tstruct hw_gpio_pin *ptr);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}