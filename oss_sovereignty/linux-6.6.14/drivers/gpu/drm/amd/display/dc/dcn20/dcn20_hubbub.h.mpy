{
  "module_name": "dcn20_hubbub.h",
  "hash_id": "4809ba02e1214e871296c556e16b8778374bddd98075fa5d9a72c628dc9ece7a",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/dcn20/dcn20_hubbub.h",
  "human_readable_source": " \n\n#ifndef __DC_HUBBUB_DCN20_H__\n#define __DC_HUBBUB_DCN20_H__\n\n#include \"dcn10/dcn10_hubbub.h\"\n#include \"dcn20_vmid.h\"\n\n#define TO_DCN20_HUBBUB(hubbub)\\\n\tcontainer_of(hubbub, struct dcn20_hubbub, base)\n\n#define HUBBUB_REG_LIST_DCN20_COMMON()\\\n\tHUBBUB_REG_LIST_DCN_COMMON(), \\\n\tSR(DCHUBBUB_CRC_CTRL), \\\n\tSR(DCN_VM_FB_LOCATION_BASE),\\\n\tSR(DCN_VM_FB_LOCATION_TOP),\\\n\tSR(DCN_VM_FB_OFFSET),\\\n\tSR(DCN_VM_AGP_BOT),\\\n\tSR(DCN_VM_AGP_TOP),\\\n\tSR(DCN_VM_AGP_BASE),\\\n\tSR(DCN_VM_FAULT_ADDR_MSB), \\\n\tSR(DCN_VM_FAULT_ADDR_LSB), \\\n\tSR(DCN_VM_FAULT_CNTL), \\\n\tSR(DCN_VM_FAULT_STATUS)\n\n#define HUBBUB_REG_LIST_DCN20(id)\\\n\tHUBBUB_REG_LIST_DCN20_COMMON(), \\\n\tHUBBUB_SR_WATERMARK_REG_LIST(), \\\n\tHUBBUB_VM_REG_LIST(),\\\n\tSR(DCN_VM_PROTECTION_FAULT_DEFAULT_ADDR_MSB),\\\n\tSR(DCN_VM_PROTECTION_FAULT_DEFAULT_ADDR_LSB)\n\n\n#define HUBBUB_MASK_SH_LIST_DCN20(mask_sh)\\\n\tHUBBUB_MASK_SH_LIST_DCN_COMMON(mask_sh), \\\n\tHUBBUB_MASK_SH_LIST_STUTTER(mask_sh), \\\n\tHUBBUB_SF(DCHUBBUB_GLOBAL_TIMER_CNTL, DCHUBBUB_GLOBAL_TIMER_REFDIV, mask_sh), \\\n\tHUBBUB_SF(DCN_VM_FB_LOCATION_BASE, FB_BASE, mask_sh), \\\n\tHUBBUB_SF(DCN_VM_FB_LOCATION_TOP, FB_TOP, mask_sh), \\\n\tHUBBUB_SF(DCN_VM_FB_OFFSET, FB_OFFSET, mask_sh), \\\n\tHUBBUB_SF(DCN_VM_AGP_BOT, AGP_BOT, mask_sh), \\\n\tHUBBUB_SF(DCN_VM_AGP_TOP, AGP_TOP, mask_sh), \\\n\tHUBBUB_SF(DCN_VM_AGP_BASE, AGP_BASE, mask_sh), \\\n\tHUBBUB_SF(DCN_VM_PROTECTION_FAULT_DEFAULT_ADDR_MSB, DCN_VM_PROTECTION_FAULT_DEFAULT_ADDR_MSB, mask_sh), \\\n\tHUBBUB_SF(DCN_VM_PROTECTION_FAULT_DEFAULT_ADDR_LSB, DCN_VM_PROTECTION_FAULT_DEFAULT_ADDR_LSB, mask_sh), \\\n\tHUBBUB_SF(DCN_VM_FAULT_ADDR_MSB, DCN_VM_FAULT_ADDR_MSB, mask_sh), \\\n\tHUBBUB_SF(DCN_VM_FAULT_ADDR_LSB, DCN_VM_FAULT_ADDR_LSB, mask_sh), \\\n\tHUBBUB_SF(DCN_VM_FAULT_CNTL, DCN_VM_ERROR_STATUS_CLEAR, mask_sh), \\\n\tHUBBUB_SF(DCN_VM_FAULT_CNTL, DCN_VM_ERROR_STATUS_MODE, mask_sh), \\\n\tHUBBUB_SF(DCN_VM_FAULT_CNTL, DCN_VM_ERROR_INTERRUPT_ENABLE, mask_sh), \\\n\tHUBBUB_SF(DCN_VM_FAULT_CNTL, DCN_VM_RANGE_FAULT_DISABLE, mask_sh), \\\n\tHUBBUB_SF(DCN_VM_FAULT_CNTL, DCN_VM_PRQ_FAULT_DISABLE, mask_sh), \\\n\tHUBBUB_SF(DCN_VM_FAULT_STATUS, DCN_VM_ERROR_STATUS, mask_sh), \\\n\tHUBBUB_SF(DCN_VM_FAULT_STATUS, DCN_VM_ERROR_VMID, mask_sh), \\\n\tHUBBUB_SF(DCN_VM_FAULT_STATUS, DCN_VM_ERROR_TABLE_LEVEL, mask_sh), \\\n\tHUBBUB_SF(DCN_VM_FAULT_STATUS, DCN_VM_ERROR_PIPE, mask_sh), \\\n\tHUBBUB_SF(DCN_VM_FAULT_STATUS, DCN_VM_ERROR_INTERRUPT_STATUS, mask_sh)\n\nstruct dcn20_hubbub {\n\tstruct hubbub base;\n\tconst struct dcn_hubbub_registers *regs;\n\tconst struct dcn_hubbub_shift *shifts;\n\tconst struct dcn_hubbub_mask *masks;\n\tunsigned int debug_test_index_pstate;\n\tstruct dcn_watermark_set watermarks;\n\tint num_vmid;\n\tstruct dcn20_vmid vmid[16];\n\tunsigned int detile_buf_size;\n\tunsigned int crb_size_segs;\n\tunsigned int compbuf_size_segments;\n\tunsigned int pixel_chunk_size;\n\tunsigned int det0_size;\n\tunsigned int det1_size;\n\tunsigned int det2_size;\n\tunsigned int det3_size;\n};\n\nvoid hubbub2_construct(struct dcn20_hubbub *hubbub,\n\tstruct dc_context *ctx,\n\tconst struct dcn_hubbub_registers *hubbub_regs,\n\tconst struct dcn_hubbub_shift *hubbub_shift,\n\tconst struct dcn_hubbub_mask *hubbub_mask);\n\nbool hubbub2_dcc_support_swizzle(\n\t\tenum swizzle_mode_values swizzle,\n\t\tunsigned int bytes_per_element,\n\t\tenum segment_order *segment_order_horz,\n\t\tenum segment_order *segment_order_vert);\n\nbool hubbub2_dcc_support_pixel_format(\n\t\tenum surface_pixel_format format,\n\t\tunsigned int *bytes_per_element);\n\nbool hubbub2_get_dcc_compression_cap(struct hubbub *hubbub,\n\t\tconst struct dc_dcc_surface_param *input,\n\t\tstruct dc_surface_dcc_cap *output);\n\nbool hubbub2_initialize_vmids(struct hubbub *hubbub,\n\t\tconst struct dc_dcc_surface_param *input,\n\t\tstruct dc_surface_dcc_cap *output);\n\nint hubbub2_init_dchub_sys_ctx(struct hubbub *hubbub,\n\t\tstruct dcn_hubbub_phys_addr_config *pa_config);\nvoid hubbub2_init_vm_ctx(struct hubbub *hubbub,\n\t\tstruct dcn_hubbub_virt_addr_config *va_config,\n\t\tint vmid);\nvoid hubbub2_update_dchub(struct hubbub *hubbub,\n\t\tstruct dchub_init_data *dh_data);\n\nvoid hubbub2_get_dchub_ref_freq(struct hubbub *hubbub,\n\t\tunsigned int dccg_ref_freq_inKhz,\n\t\tunsigned int *dchub_ref_freq_inKhz);\n\nvoid hubbub2_wm_read_state(struct hubbub *hubbub,\n\t\tstruct dcn_hubbub_wm *wm);\n\nvoid hubbub2_read_state(struct hubbub *hubbub,\n\t\tstruct dcn_hubbub_state *hubbub_state);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}