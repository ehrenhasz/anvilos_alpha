{
  "module_name": "hubp.h",
  "hash_id": "bdb1497f8a41f7de1e75cc42eb81192ebf73e485e77142d2fb081d23db5d6a31",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/inc/hw/hubp.h",
  "human_readable_source": " \n\n#ifndef __DAL_HUBP_H__\n#define __DAL_HUBP_H__\n\n#include \"mem_input.h\"\n#include \"cursor_reg_cache.h\"\n\n#define OPP_ID_INVALID 0xf\n#define MAX_TTU 0xffffff\n\n\nenum cursor_pitch {\n\tCURSOR_PITCH_64_PIXELS = 0,\n\tCURSOR_PITCH_128_PIXELS,\n\tCURSOR_PITCH_256_PIXELS\n};\n\nenum cursor_lines_per_chunk {\n\tCURSOR_LINE_PER_CHUNK_1 = 0,  \n\tCURSOR_LINE_PER_CHUNK_2 = 1,\n\tCURSOR_LINE_PER_CHUNK_4,\n\tCURSOR_LINE_PER_CHUNK_8,\n\tCURSOR_LINE_PER_CHUNK_16\n};\n\nenum hubp_ind_block_size {\n\thubp_ind_block_unconstrained = 0,\n\thubp_ind_block_64b,\n\thubp_ind_block_128b,\n\thubp_ind_block_64b_no_128bcl,\n};\n\nstruct hubp {\n\tconst struct hubp_funcs *funcs;\n\tstruct dc_context *ctx;\n\tstruct dc_plane_address request_address;\n\tint inst;\n\n\t \n\tint opp_id;\n\tint mpcc_id;\n\tstruct dc_cursor_attributes curs_attr;\n\tstruct dc_cursor_position curs_pos;\n\tbool power_gated;\n\n\tstruct cursor_position_cache_hubp  pos;\n\tstruct cursor_attribute_cache_hubp att;\n\tstruct cursor_rect cur_rect;\n};\n\nstruct surface_flip_registers {\n\tuint32_t DCSURF_SURFACE_CONTROL;\n\tuint32_t DCSURF_PRIMARY_META_SURFACE_ADDRESS_HIGH;\n\tuint32_t DCSURF_PRIMARY_META_SURFACE_ADDRESS;\n\tuint32_t DCSURF_PRIMARY_SURFACE_ADDRESS_HIGH;\n\tuint32_t DCSURF_PRIMARY_SURFACE_ADDRESS;\n\tuint32_t DCSURF_PRIMARY_META_SURFACE_ADDRESS_HIGH_C;\n\tuint32_t DCSURF_PRIMARY_META_SURFACE_ADDRESS_C;\n\tuint32_t DCSURF_PRIMARY_SURFACE_ADDRESS_HIGH_C;\n\tuint32_t DCSURF_PRIMARY_SURFACE_ADDRESS_C;\n\tuint32_t DCSURF_SECONDARY_META_SURFACE_ADDRESS_HIGH;\n\tuint32_t DCSURF_SECONDARY_META_SURFACE_ADDRESS;\n\tuint32_t DCSURF_SECONDARY_SURFACE_ADDRESS_HIGH;\n\tuint32_t DCSURF_SECONDARY_SURFACE_ADDRESS;\n\tbool tmz_surface;\n\tbool immediate;\n\tuint8_t vmid;\n\tbool grph_stereo;\n};\n\nstruct hubp_funcs {\n\tvoid (*hubp_setup)(\n\t\t\tstruct hubp *hubp,\n\t\t\tstruct _vcs_dpi_display_dlg_regs_st *dlg_regs,\n\t\t\tstruct _vcs_dpi_display_ttu_regs_st *ttu_regs,\n\t\t\tstruct _vcs_dpi_display_rq_regs_st *rq_regs,\n\t\t\tstruct _vcs_dpi_display_pipe_dest_params_st *pipe_dest);\n\n\tvoid (*hubp_setup_interdependent)(\n\t\t\tstruct hubp *hubp,\n\t\t\tstruct _vcs_dpi_display_dlg_regs_st *dlg_regs,\n\t\t\tstruct _vcs_dpi_display_ttu_regs_st *ttu_regs);\n\n\tvoid (*dcc_control)(struct hubp *hubp, bool enable,\n\t\t\tenum hubp_ind_block_size blk_size);\n\n\tvoid (*mem_program_viewport)(\n\t\t\tstruct hubp *hubp,\n\t\t\tconst struct rect *viewport,\n\t\t\tconst struct rect *viewport_c);\n\n\tbool (*hubp_program_surface_flip_and_addr)(\n\t\tstruct hubp *hubp,\n\t\tconst struct dc_plane_address *address,\n\t\tbool flip_immediate);\n\n\tvoid (*hubp_program_pte_vm)(\n\t\tstruct hubp *hubp,\n\t\tenum surface_pixel_format format,\n\t\tunion dc_tiling_info *tiling_info,\n\t\tenum dc_rotation_angle rotation);\n\n\tvoid (*hubp_set_vm_system_aperture_settings)(\n\t\t\tstruct hubp *hubp,\n\t\t\tstruct vm_system_aperture_param *apt);\n\n\tvoid (*hubp_set_vm_context0_settings)(\n\t\t\tstruct hubp *hubp,\n\t\t\tconst struct vm_context0_param *vm0);\n\n\tvoid (*hubp_program_surface_config)(\n\t\tstruct hubp *hubp,\n\t\tenum surface_pixel_format format,\n\t\tunion dc_tiling_info *tiling_info,\n\t\tstruct plane_size *plane_size,\n\t\tenum dc_rotation_angle rotation,\n\t\tstruct dc_plane_dcc_param *dcc,\n\t\tbool horizontal_mirror,\n\t\tunsigned int compa_level);\n\n\tbool (*hubp_is_flip_pending)(struct hubp *hubp);\n\n\tvoid (*set_blank)(struct hubp *hubp, bool blank);\n\tvoid (*set_blank_regs)(struct hubp *hubp, bool blank);\n#ifdef CONFIG_DRM_AMD_DC_FP\n\tvoid (*phantom_hubp_post_enable)(struct hubp *hubp);\n#endif\n\tvoid (*set_hubp_blank_en)(struct hubp *hubp, bool blank);\n\n\tvoid (*set_cursor_attributes)(\n\t\t\tstruct hubp *hubp,\n\t\t\tconst struct dc_cursor_attributes *attr);\n\n\tvoid (*set_cursor_position)(\n\t\t\tstruct hubp *hubp,\n\t\t\tconst struct dc_cursor_position *pos,\n\t\t\tconst struct dc_cursor_mi_param *param);\n\n\tvoid (*hubp_disconnect)(struct hubp *hubp);\n\n\tvoid (*hubp_clk_cntl)(struct hubp *hubp, bool enable);\n\tvoid (*hubp_vtg_sel)(struct hubp *hubp, uint32_t otg_inst);\n\tvoid (*hubp_read_state)(struct hubp *hubp);\n\tvoid (*hubp_clear_underflow)(struct hubp *hubp);\n\tvoid (*hubp_disable_control)(struct hubp *hubp, bool disable_hubp);\n\tunsigned int (*hubp_get_underflow_status)(struct hubp *hubp);\n\tvoid (*hubp_init)(struct hubp *hubp);\n\n\tvoid (*dmdata_set_attributes)(\n\t\t\tstruct hubp *hubp,\n\t\t\tconst struct dc_dmdata_attributes *attr);\n\n\tvoid (*dmdata_load)(\n\t\t\tstruct hubp *hubp,\n\t\t\tuint32_t dmdata_sw_size,\n\t\t\tconst uint32_t *dmdata_sw_data);\n\tbool (*dmdata_status_done)(struct hubp *hubp);\n\tvoid (*hubp_enable_tripleBuffer)(\n\t\tstruct hubp *hubp,\n\t\tbool enable);\n\n\tbool (*hubp_is_triplebuffer_enabled)(\n\t\tstruct hubp *hubp);\n\n\tvoid (*hubp_set_flip_control_surface_gsl)(\n\t\tstruct hubp *hubp,\n\t\tbool enable);\n\n\tvoid (*validate_dml_output)(\n\t\t\tstruct hubp *hubp,\n\t\t\tstruct dc_context *ctx,\n\t\t\tstruct _vcs_dpi_display_rq_regs_st *dml_rq_regs,\n\t\t\tstruct _vcs_dpi_display_dlg_regs_st *dml_dlg_attr,\n\t\t\tstruct _vcs_dpi_display_ttu_regs_st *dml_ttu_attr);\n\tvoid (*set_unbounded_requesting)(\n\t\tstruct hubp *hubp,\n\t\tbool enable);\n\tbool (*hubp_in_blank)(struct hubp *hubp);\n\tvoid (*hubp_soft_reset)(struct hubp *hubp, bool reset);\n\n\tvoid (*hubp_update_force_pstate_disallow)(struct hubp *hubp, bool allow);\n\tvoid (*hubp_update_force_cursor_pstate_disallow)(struct hubp *hubp, bool allow);\n\tvoid (*hubp_update_mall_sel)(struct hubp *hubp, uint32_t mall_sel, bool c_cursor);\n\tvoid (*hubp_prepare_subvp_buffering)(struct hubp *hubp, bool enable);\n\n\tvoid (*hubp_set_flip_int)(struct hubp *hubp);\n\n\tvoid (*program_extended_blank)(struct hubp *hubp,\n\t\t\tunsigned int min_dst_y_next_start_optimized);\n\n\tvoid (*hubp_wait_pipe_read_start)(struct hubp *hubp);\n};\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}