{
  "module_name": "dcn_calc_math.c",
  "hash_id": "715167704c9b01776fc18128f6684bfdca8794765bcf030ff79411823543d938",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/dml/calcs/dcn_calc_math.c",
  "human_readable_source": " \n\n#include \"os_types.h\"\n#include \"dcn_calc_math.h\"\n\n#define isNaN(number) ((number) != (number))\n\n \n\nfloat dcn_bw_mod(const float arg1, const float arg2)\n{\n\tif (isNaN(arg1))\n\t\treturn arg2;\n\tif (isNaN(arg2))\n\t\treturn arg1;\n\treturn arg1 - arg1 * ((int) (arg1 / arg2));\n}\n\nfloat dcn_bw_min2(const float arg1, const float arg2)\n{\n\tif (isNaN(arg1))\n\t\treturn arg2;\n\tif (isNaN(arg2))\n\t\treturn arg1;\n\treturn arg1 < arg2 ? arg1 : arg2;\n}\n\nunsigned int dcn_bw_max(const unsigned int arg1, const unsigned int arg2)\n{\n\treturn arg1 > arg2 ? arg1 : arg2;\n}\nfloat dcn_bw_max2(const float arg1, const float arg2)\n{\n\tif (isNaN(arg1))\n\t\treturn arg2;\n\tif (isNaN(arg2))\n\t\treturn arg1;\n\treturn arg1 > arg2 ? arg1 : arg2;\n}\n\nfloat dcn_bw_floor2(const float arg, const float significance)\n{\n\tASSERT(significance != 0);\n\n\treturn ((int) (arg / significance)) * significance;\n}\nfloat dcn_bw_floor(const float arg)\n{\n\treturn ((int) (arg));\n}\n\nfloat dcn_bw_ceil(const float arg)\n{\n\treturn (int) (arg + 0.99999);\n}\n\nfloat dcn_bw_ceil2(const float arg, const float significance)\n{\n\tASSERT(significance != 0);\n\n\treturn ((int) (arg / significance + 0.99999)) * significance;\n}\n\nfloat dcn_bw_max3(float v1, float v2, float v3)\n{\n\treturn v3 > dcn_bw_max2(v1, v2) ? v3 : dcn_bw_max2(v1, v2);\n}\n\nfloat dcn_bw_max5(float v1, float v2, float v3, float v4, float v5)\n{\n\treturn dcn_bw_max3(v1, v2, v3) > dcn_bw_max2(v4, v5) ? dcn_bw_max3(v1, v2, v3) : dcn_bw_max2(v4, v5);\n}\n\nfloat dcn_bw_pow(float a, float exp)\n{\n\tfloat temp;\n\t \n\tif ((int)exp == 0)\n\t\treturn 1;\n\ttemp = dcn_bw_pow(a, (int)(exp / 2));\n\tif (((int)exp % 2) == 0) {\n\t\treturn temp * temp;\n\t} else {\n\t\tif ((int)exp > 0)\n\t\t\treturn a * temp * temp;\n\t\telse\n\t\t\treturn (temp * temp) / a;\n\t}\n}\n\ndouble dcn_bw_fabs(double a)\n{\n\tif (a > 0)\n\t\treturn (a);\n\telse\n\t\treturn (-a);\n}\n\n\nfloat dcn_bw_log(float a, float b)\n{\n\tint * const exp_ptr = (int *)(&a);\n\tint x = *exp_ptr;\n\tconst int log_2 = ((x >> 23) & 255) - 128;\n\tx &= ~(255 << 23);\n\tx += 127 << 23;\n\t*exp_ptr = x;\n\n\ta = ((-1.0f / 3) * a + 2) * a - 2.0f / 3;\n\n\tif (b > 2.00001 || b < 1.99999)\n\t\treturn (a + log_2) / dcn_bw_log(b, 2);\n\telse\n\t\treturn (a + log_2);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}