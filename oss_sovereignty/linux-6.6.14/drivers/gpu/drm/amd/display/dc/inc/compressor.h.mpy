{
  "module_name": "compressor.h",
  "hash_id": "68906d7d053843ea3ab963a92d0e3e0933121abab7825ce6c4829c2ae50effed",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/inc/compressor.h",
  "human_readable_source": " \n\n#ifndef __DAL_COMPRESSOR_H__\n#define __DAL_COMPRESSOR_H__\n\n#include \"include/grph_object_id.h\"\n#include \"bios_parser_interface.h\"\n\nenum fbc_compress_ratio {\n\tFBC_COMPRESS_RATIO_INVALID = 0,\n\tFBC_COMPRESS_RATIO_1TO1 = 1,\n\tFBC_COMPRESS_RATIO_2TO1 = 2,\n\tFBC_COMPRESS_RATIO_4TO1 = 4,\n\tFBC_COMPRESS_RATIO_8TO1 = 8,\n};\n\nunion fbc_physical_address {\n\tstruct {\n\t\tuint32_t low_part;\n\t\tint32_t high_part;\n\t} addr;\n\tuint64_t quad_part;\n};\n\nstruct compr_addr_and_pitch_params {\n\t \n\tuint32_t inst;\n\tuint32_t source_view_width;\n\tuint32_t source_view_height;\n};\n\nenum fbc_hw_max_resolution_supported {\n\tFBC_MAX_X = 3840,\n\tFBC_MAX_Y = 2400,\n\tFBC_MAX_X_SG = 1920,\n\tFBC_MAX_Y_SG = 1080,\n};\n\nstruct compressor;\n\nstruct compressor_funcs {\n\n\tvoid (*power_up_fbc)(struct compressor *cp);\n\tvoid (*enable_fbc)(struct compressor *cp,\n\t\tstruct compr_addr_and_pitch_params *params);\n\tvoid (*disable_fbc)(struct compressor *cp);\n\tvoid (*set_fbc_invalidation_triggers)(struct compressor *cp,\n\t\tuint32_t fbc_trigger);\n\tvoid (*surface_address_and_pitch)(\n\t\tstruct compressor *cp,\n\t\tstruct compr_addr_and_pitch_params *params);\n\tbool (*is_fbc_enabled_in_hw)(struct compressor *cp,\n\t\tuint32_t *fbc_mapped_crtc_id);\n};\nstruct compressor {\n\tstruct dc_context *ctx;\n\t \n\tuint32_t attached_inst;\n\tbool is_enabled;\n\tconst struct compressor_funcs *funcs;\n\tunion {\n\t\tuint32_t raw;\n\t\tstruct {\n\t\t\tuint32_t FBC_SUPPORT:1;\n\t\t\tuint32_t FB_POOL:1;\n\t\t\tuint32_t DYNAMIC_ALLOC:1;\n\t\t\tuint32_t LPT_SUPPORT:1;\n\t\t\tuint32_t LPT_MC_CONFIG:1;\n\t\t\tuint32_t DUMMY_BACKEND:1;\n\t\t\tuint32_t CLK_GATING_DISABLED:1;\n\n\t\t} bits;\n\t} options;\n\n\tunion fbc_physical_address compr_surface_address;\n\n\tuint32_t embedded_panel_h_size;\n\tuint32_t embedded_panel_v_size;\n\tuint32_t memory_bus_width;\n\tuint32_t banks_num;\n\tuint32_t raw_size;\n\tuint32_t channel_interleave_size;\n\tuint32_t dram_channels_num;\n\n\tuint32_t allocated_size;\n\tuint32_t preferred_requested_size;\n\tuint32_t lpt_channels_num;\n\tenum fbc_compress_ratio min_compress_ratio;\n};\n\nstruct fbc_input_info {\n\tbool           dynamic_fbc_buffer_alloc;\n\tunsigned int   source_view_width;\n\tunsigned int   source_view_height;\n\tunsigned int   num_of_active_targets;\n};\n\n\nstruct fbc_requested_compressed_size {\n\tunsigned int   preferred_size;\n\tunsigned int   preferred_size_alignment;\n\tunsigned int   min_size;\n\tunsigned int   min_size_alignment;\n\tunion {\n\t\tstruct {\n\t\t\t \n\t\t\tunsigned int preferred_must_be_framebuffer_pool : 1;\n\t\t\t \n\t\t\tunsigned int min_must_be_framebuffer_pool : 1;\n\t\t} bits;\n\t\tunsigned int flags;\n\t};\n};\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}