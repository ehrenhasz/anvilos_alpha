{
  "module_name": "dchubbub.h",
  "hash_id": "3666ed1b4cff1d03d9b77a66d4d74d6461d4ff491f9468feb993ad567521aa78",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/inc/hw/dchubbub.h",
  "human_readable_source": " \n\n#ifndef __DAL_DCHUBBUB_H__\n#define __DAL_DCHUBBUB_H__\n\n\nenum dcc_control {\n\tdcc_control__256_256_xxx,\n\tdcc_control__128_128_xxx,\n\tdcc_control__256_64_64,\n\tdcc_control__256_128_128,\n};\n\nenum segment_order {\n\tsegment_order__na,\n\tsegment_order__contiguous,\n\tsegment_order__non_contiguous,\n};\n\nstruct dcn_hubbub_wm_set {\n\tuint32_t wm_set;\n\tuint32_t data_urgent;\n\tuint32_t pte_meta_urgent;\n\tuint32_t sr_enter;\n\tuint32_t sr_exit;\n\tuint32_t dram_clk_change;\n\tuint32_t usr_retrain;\n\tuint32_t fclk_pstate_change;\n\tuint32_t sr_enter_exit_Z8;\n\tuint32_t sr_enter_Z8;\n};\n\nstruct dcn_hubbub_wm {\n\tstruct dcn_hubbub_wm_set sets[4];\n};\n\nenum dcn_hubbub_page_table_depth {\n\tDCN_PAGE_TABLE_DEPTH_1_LEVEL,\n\tDCN_PAGE_TABLE_DEPTH_2_LEVEL,\n\tDCN_PAGE_TABLE_DEPTH_3_LEVEL,\n\tDCN_PAGE_TABLE_DEPTH_4_LEVEL\n};\n\nenum dcn_hubbub_page_table_block_size {\n\tDCN_PAGE_TABLE_BLOCK_SIZE_4KB = 0,\n\tDCN_PAGE_TABLE_BLOCK_SIZE_64KB = 4,\n\tDCN_PAGE_TABLE_BLOCK_SIZE_32KB = 3\n};\n\nstruct dcn_hubbub_phys_addr_config {\n\tstruct {\n\t\tuint64_t fb_top;\n\t\tuint64_t fb_offset;\n\t\tuint64_t fb_base;\n\t\tuint64_t agp_top;\n\t\tuint64_t agp_bot;\n\t\tuint64_t agp_base;\n\t} system_aperture;\n\n\tstruct {\n\t\tuint64_t page_table_start_addr;\n\t\tuint64_t page_table_end_addr;\n\t\tuint64_t page_table_base_addr;\n\t} gart_config;\n\n\tuint64_t page_table_default_page_addr;\n};\n\nstruct dcn_hubbub_virt_addr_config {\n\tuint64_t\t\t\t\tpage_table_start_addr;\n\tuint64_t\t\t\t\tpage_table_end_addr;\n\tenum dcn_hubbub_page_table_block_size\tpage_table_block_size;\n\tenum dcn_hubbub_page_table_depth\tpage_table_depth;\n\tuint64_t\t\t\t\tpage_table_base_addr;\n};\n\nstruct hubbub_addr_config {\n\tstruct dcn_hubbub_phys_addr_config pa_config;\n\tstruct dcn_hubbub_virt_addr_config va_config;\n\tstruct {\n\t\tuint64_t aperture_check_fault;\n\t\tuint64_t generic_fault;\n\t} default_addrs;\n};\n\nstruct dcn_hubbub_state {\n\tuint32_t vm_fault_addr_msb;\n\tuint32_t vm_fault_addr_lsb;\n\tuint32_t vm_error_status;\n\tuint32_t vm_error_vmid;\n\tuint32_t vm_error_pipe;\n\tuint32_t vm_error_mode;\n\tuint32_t test_debug_data;\n\tuint32_t watermark_change_cntl;\n\tuint32_t dram_state_cntl;\n};\n\nstruct hubbub_funcs {\n\tvoid (*update_dchub)(\n\t\t\tstruct hubbub *hubbub,\n\t\t\tstruct dchub_init_data *dh_data);\n\n\tint (*init_dchub_sys_ctx)(\n\t\t\tstruct hubbub *hubbub,\n\t\t\tstruct dcn_hubbub_phys_addr_config *pa_config);\n\tvoid (*init_vm_ctx)(\n\t\t\tstruct hubbub *hubbub,\n\t\t\tstruct dcn_hubbub_virt_addr_config *va_config,\n\t\t\tint vmid);\n\n\tbool (*get_dcc_compression_cap)(struct hubbub *hubbub,\n\t\t\tconst struct dc_dcc_surface_param *input,\n\t\t\tstruct dc_surface_dcc_cap *output);\n\n\tbool (*dcc_support_swizzle)(\n\t\t\tenum swizzle_mode_values swizzle,\n\t\t\tunsigned int bytes_per_element,\n\t\t\tenum segment_order *segment_order_horz,\n\t\t\tenum segment_order *segment_order_vert);\n\n\tbool (*dcc_support_pixel_format)(\n\t\t\tenum surface_pixel_format format,\n\t\t\tunsigned int *bytes_per_element);\n\n\tvoid (*wm_read_state)(struct hubbub *hubbub,\n\t\t\tstruct dcn_hubbub_wm *wm);\n\n\tvoid (*get_dchub_ref_freq)(struct hubbub *hubbub,\n\t\t\tunsigned int dccg_ref_freq_inKhz,\n\t\t\tunsigned int *dchub_ref_freq_inKhz);\n\n\tbool (*program_watermarks)(\n\t\t\tstruct hubbub *hubbub,\n\t\t\tstruct dcn_watermark_set *watermarks,\n\t\t\tunsigned int refclk_mhz,\n\t\t\tbool safe_to_lower);\n\n\tbool (*is_allow_self_refresh_enabled)(struct hubbub *hubbub);\n\tvoid (*allow_self_refresh_control)(struct hubbub *hubbub, bool allow);\n\n\tbool (*verify_allow_pstate_change_high)(struct hubbub *hubbub);\n\n\tvoid (*apply_DEDCN21_147_wa)(struct hubbub *hubbub);\n\n\tvoid (*force_wm_propagate_to_pipes)(struct hubbub *hubbub);\n\n\tvoid (*hubbub_read_state)(struct hubbub *hubbub, struct dcn_hubbub_state *hubbub_state);\n\n\tvoid (*force_pstate_change_control)(struct hubbub *hubbub, bool force, bool allow);\n\n\tvoid (*init_watermarks)(struct hubbub *hubbub);\n\n\t \n\tvoid (*program_det_size)(struct hubbub *hubbub, int hubp_inst, unsigned det_buffer_size_in_kbyte);\n\tvoid (*program_compbuf_size)(struct hubbub *hubbub, unsigned compbuf_size_kb, bool safe_to_increase);\n\tvoid (*init_crb)(struct hubbub *hubbub);\n\tvoid (*force_usr_retraining_allow)(struct hubbub *hubbub, bool allow);\n\tvoid (*set_request_limit)(struct hubbub *hubbub, int memory_channel_count, int words_per_channel);\n\tvoid (*dchubbub_init)(struct hubbub *hubbub);\n};\n\nstruct hubbub {\n\tconst struct hubbub_funcs *funcs;\n\tstruct dc_context *ctx;\n\tbool riommu_active;\n};\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}