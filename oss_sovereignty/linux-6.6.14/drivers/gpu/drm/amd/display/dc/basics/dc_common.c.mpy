{
  "module_name": "dc_common.c",
  "hash_id": "95937b41af0bbf8455914a41ea554e63c70ae89611291d5ac68c8078871e7d2e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/basics/dc_common.c",
  "human_readable_source": " \n\n#include \"core_types.h\"\n#include \"dc_common.h\"\n#include \"basics/conversion.h\"\n\nbool is_rgb_cspace(enum dc_color_space output_color_space)\n{\n\tswitch (output_color_space) {\n\tcase COLOR_SPACE_SRGB:\n\tcase COLOR_SPACE_SRGB_LIMITED:\n\tcase COLOR_SPACE_2020_RGB_FULLRANGE:\n\tcase COLOR_SPACE_2020_RGB_LIMITEDRANGE:\n\tcase COLOR_SPACE_ADOBERGB:\n\t\treturn true;\n\tcase COLOR_SPACE_YCBCR601:\n\tcase COLOR_SPACE_YCBCR709:\n\tcase COLOR_SPACE_YCBCR601_LIMITED:\n\tcase COLOR_SPACE_YCBCR709_LIMITED:\n\tcase COLOR_SPACE_2020_YCBCR:\n\t\treturn false;\n\tdefault:\n\t\t \n\t\tBREAK_TO_DEBUGGER();\n\t\treturn false;\n\t}\n}\n\nbool is_lower_pipe_tree_visible(struct pipe_ctx *pipe_ctx)\n{\n\tif (pipe_ctx->plane_state && pipe_ctx->plane_state->visible)\n\t\treturn true;\n\tif (pipe_ctx->bottom_pipe && is_lower_pipe_tree_visible(pipe_ctx->bottom_pipe))\n\t\treturn true;\n\treturn false;\n}\n\nbool is_upper_pipe_tree_visible(struct pipe_ctx *pipe_ctx)\n{\n\tif (pipe_ctx->plane_state && pipe_ctx->plane_state->visible)\n\t\treturn true;\n\tif (pipe_ctx->top_pipe && is_upper_pipe_tree_visible(pipe_ctx->top_pipe))\n\t\treturn true;\n\treturn false;\n}\n\nbool is_pipe_tree_visible(struct pipe_ctx *pipe_ctx)\n{\n\tif (pipe_ctx->plane_state && pipe_ctx->plane_state->visible)\n\t\treturn true;\n\tif (pipe_ctx->top_pipe && is_upper_pipe_tree_visible(pipe_ctx->top_pipe))\n\t\treturn true;\n\tif (pipe_ctx->bottom_pipe && is_lower_pipe_tree_visible(pipe_ctx->bottom_pipe))\n\t\treturn true;\n\treturn false;\n}\n\nvoid build_prescale_params(struct  dc_bias_and_scale *bias_and_scale,\n\t\tconst struct dc_plane_state *plane_state)\n{\n\tif (plane_state->format >= SURFACE_PIXEL_FORMAT_VIDEO_BEGIN\n\t\t\t&& plane_state->format != SURFACE_PIXEL_FORMAT_INVALID\n\t\t\t&& plane_state->input_csc_color_matrix.enable_adjustment\n\t\t\t&& plane_state->coeff_reduction_factor.value != 0) {\n\t\tbias_and_scale->scale_blue = fixed_point_to_int_frac(\n\t\t\tdc_fixpt_mul(plane_state->coeff_reduction_factor,\n\t\t\t\t\tdc_fixpt_from_fraction(256, 255)),\n\t\t\t\t2,\n\t\t\t\t13);\n\t\tbias_and_scale->scale_red = bias_and_scale->scale_blue;\n\t\tbias_and_scale->scale_green = bias_and_scale->scale_blue;\n\t} else {\n\t\tbias_and_scale->scale_blue = 0x2000;\n\t\tbias_and_scale->scale_red = 0x2000;\n\t\tbias_and_scale->scale_green = 0x2000;\n\t}\n}\n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}