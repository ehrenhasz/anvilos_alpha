{
  "module_name": "dce_ipp.h",
  "hash_id": "692e675a21b0254ba2842ce7ee323b2d65cf01d3717028cc0739bc41f187ed0a",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/dce/dce_ipp.h",
  "human_readable_source": " \n\n#ifndef _DCE_IPP_H_\n#define _DCE_IPP_H_\n\n#include \"ipp.h\"\n\n#define TO_DCE_IPP(ipp)\\\n\tcontainer_of(ipp, struct dce_ipp, base)\n\n#define IPP_COMMON_REG_LIST_DCE_BASE(id) \\\n\tSRI(CUR_UPDATE, DCP, id), \\\n\tSRI(CUR_CONTROL, DCP, id), \\\n\tSRI(CUR_POSITION, DCP, id), \\\n\tSRI(CUR_HOT_SPOT, DCP, id), \\\n\tSRI(CUR_COLOR1, DCP, id), \\\n\tSRI(CUR_COLOR2, DCP, id), \\\n\tSRI(CUR_SIZE, DCP, id), \\\n\tSRI(CUR_SURFACE_ADDRESS_HIGH, DCP, id), \\\n\tSRI(CUR_SURFACE_ADDRESS, DCP, id), \\\n\tSRI(PRESCALE_GRPH_CONTROL, DCP, id), \\\n\tSRI(PRESCALE_VALUES_GRPH_R, DCP, id), \\\n\tSRI(PRESCALE_VALUES_GRPH_G, DCP, id), \\\n\tSRI(PRESCALE_VALUES_GRPH_B, DCP, id), \\\n\tSRI(INPUT_GAMMA_CONTROL, DCP, id), \\\n\tSRI(DC_LUT_WRITE_EN_MASK, DCP, id), \\\n\tSRI(DC_LUT_RW_MODE, DCP, id), \\\n\tSRI(DC_LUT_CONTROL, DCP, id), \\\n\tSRI(DC_LUT_RW_INDEX, DCP, id), \\\n\tSRI(DC_LUT_SEQ_COLOR, DCP, id), \\\n\tSRI(DEGAMMA_CONTROL, DCP, id)\n\n#define IPP_DCE100_REG_LIST_DCE_BASE(id) \\\n\tIPP_COMMON_REG_LIST_DCE_BASE(id), \\\n\tSRI(DCFE_MEM_PWR_CTRL, CRTC, id)\n\n#define IPP_DCE110_REG_LIST_DCE_BASE(id) \\\n\tIPP_COMMON_REG_LIST_DCE_BASE(id), \\\n\tSRI(DCFE_MEM_PWR_CTRL, DCFE, id)\n\n#define IPP_SF(reg_name, field_name, post_fix)\\\n\t.field_name = reg_name ## __ ## field_name ## post_fix\n\n#define IPP_COMMON_MASK_SH_LIST_DCE_COMMON_BASE(mask_sh) \\\n\tIPP_SF(CUR_UPDATE, CURSOR_UPDATE_LOCK, mask_sh), \\\n\tIPP_SF(CUR_CONTROL, CURSOR_EN, mask_sh), \\\n\tIPP_SF(CUR_CONTROL, CURSOR_MODE, mask_sh), \\\n\tIPP_SF(CUR_CONTROL, CURSOR_2X_MAGNIFY, mask_sh), \\\n\tIPP_SF(CUR_CONTROL, CUR_INV_TRANS_CLAMP, mask_sh), \\\n\tIPP_SF(CUR_POSITION, CURSOR_X_POSITION, mask_sh), \\\n\tIPP_SF(CUR_POSITION, CURSOR_Y_POSITION, mask_sh), \\\n\tIPP_SF(CUR_HOT_SPOT, CURSOR_HOT_SPOT_X, mask_sh), \\\n\tIPP_SF(CUR_HOT_SPOT, CURSOR_HOT_SPOT_Y, mask_sh), \\\n\tIPP_SF(CUR_COLOR1, CUR_COLOR1_BLUE, mask_sh), \\\n\tIPP_SF(CUR_COLOR1, CUR_COLOR1_GREEN, mask_sh), \\\n\tIPP_SF(CUR_COLOR1, CUR_COLOR1_RED, mask_sh), \\\n\tIPP_SF(CUR_COLOR2, CUR_COLOR2_BLUE, mask_sh), \\\n\tIPP_SF(CUR_COLOR2, CUR_COLOR2_GREEN, mask_sh), \\\n\tIPP_SF(CUR_COLOR2, CUR_COLOR2_RED, mask_sh), \\\n\tIPP_SF(CUR_SIZE, CURSOR_WIDTH, mask_sh), \\\n\tIPP_SF(CUR_SIZE, CURSOR_HEIGHT, mask_sh), \\\n\tIPP_SF(CUR_SURFACE_ADDRESS_HIGH, CURSOR_SURFACE_ADDRESS_HIGH, mask_sh), \\\n\tIPP_SF(CUR_SURFACE_ADDRESS, CURSOR_SURFACE_ADDRESS, mask_sh), \\\n\tIPP_SF(PRESCALE_GRPH_CONTROL, GRPH_PRESCALE_BYPASS, mask_sh), \\\n\tIPP_SF(PRESCALE_VALUES_GRPH_R, GRPH_PRESCALE_SCALE_R, mask_sh), \\\n\tIPP_SF(PRESCALE_VALUES_GRPH_R, GRPH_PRESCALE_BIAS_R, mask_sh), \\\n\tIPP_SF(PRESCALE_VALUES_GRPH_G, GRPH_PRESCALE_SCALE_G, mask_sh), \\\n\tIPP_SF(PRESCALE_VALUES_GRPH_G, GRPH_PRESCALE_BIAS_G, mask_sh), \\\n\tIPP_SF(PRESCALE_VALUES_GRPH_B, GRPH_PRESCALE_SCALE_B, mask_sh), \\\n\tIPP_SF(PRESCALE_VALUES_GRPH_B, GRPH_PRESCALE_BIAS_B, mask_sh), \\\n\tIPP_SF(INPUT_GAMMA_CONTROL, GRPH_INPUT_GAMMA_MODE, mask_sh), \\\n\tIPP_SF(DC_LUT_WRITE_EN_MASK, DC_LUT_WRITE_EN_MASK, mask_sh), \\\n\tIPP_SF(DC_LUT_RW_MODE, DC_LUT_RW_MODE, mask_sh), \\\n\tIPP_SF(DC_LUT_CONTROL, DC_LUT_DATA_R_FORMAT, mask_sh), \\\n\tIPP_SF(DC_LUT_CONTROL, DC_LUT_DATA_G_FORMAT, mask_sh), \\\n\tIPP_SF(DC_LUT_CONTROL, DC_LUT_DATA_B_FORMAT, mask_sh), \\\n\tIPP_SF(DC_LUT_RW_INDEX, DC_LUT_RW_INDEX, mask_sh), \\\n\tIPP_SF(DC_LUT_SEQ_COLOR, DC_LUT_SEQ_COLOR, mask_sh), \\\n\tIPP_SF(DEGAMMA_CONTROL, GRPH_DEGAMMA_MODE, mask_sh), \\\n\tIPP_SF(DEGAMMA_CONTROL, CURSOR_DEGAMMA_MODE, mask_sh), \\\n\tIPP_SF(DEGAMMA_CONTROL, CURSOR2_DEGAMMA_MODE, mask_sh)\n\n#define IPP_DCE100_MASK_SH_LIST_DCE_COMMON_BASE(mask_sh) \\\n\tIPP_COMMON_MASK_SH_LIST_DCE_COMMON_BASE(mask_sh), \\\n\tIPP_SF(DCFE_MEM_PWR_CTRL, DCP_LUT_MEM_PWR_DIS, mask_sh)\n\n#define IPP_DCE120_MASK_SH_LIST_SOC_BASE(mask_sh) \\\n\tIPP_SF(DCP0_CUR_UPDATE, CURSOR_UPDATE_LOCK, mask_sh), \\\n\tIPP_SF(DCP0_CUR_CONTROL, CURSOR_EN, mask_sh), \\\n\tIPP_SF(DCP0_CUR_CONTROL, CURSOR_MODE, mask_sh), \\\n\tIPP_SF(DCP0_CUR_CONTROL, CURSOR_2X_MAGNIFY, mask_sh), \\\n\tIPP_SF(DCP0_CUR_CONTROL, CUR_INV_TRANS_CLAMP, mask_sh), \\\n\tIPP_SF(DCP0_CUR_POSITION, CURSOR_X_POSITION, mask_sh), \\\n\tIPP_SF(DCP0_CUR_POSITION, CURSOR_Y_POSITION, mask_sh), \\\n\tIPP_SF(DCP0_CUR_HOT_SPOT, CURSOR_HOT_SPOT_X, mask_sh), \\\n\tIPP_SF(DCP0_CUR_HOT_SPOT, CURSOR_HOT_SPOT_Y, mask_sh), \\\n\tIPP_SF(DCP0_CUR_COLOR1, CUR_COLOR1_BLUE, mask_sh), \\\n\tIPP_SF(DCP0_CUR_COLOR1, CUR_COLOR1_GREEN, mask_sh), \\\n\tIPP_SF(DCP0_CUR_COLOR1, CUR_COLOR1_RED, mask_sh), \\\n\tIPP_SF(DCP0_CUR_COLOR2, CUR_COLOR2_BLUE, mask_sh), \\\n\tIPP_SF(DCP0_CUR_COLOR2, CUR_COLOR2_GREEN, mask_sh), \\\n\tIPP_SF(DCP0_CUR_COLOR2, CUR_COLOR2_RED, mask_sh), \\\n\tIPP_SF(DCP0_CUR_SIZE, CURSOR_WIDTH, mask_sh), \\\n\tIPP_SF(DCP0_CUR_SIZE, CURSOR_HEIGHT, mask_sh), \\\n\tIPP_SF(DCP0_CUR_SURFACE_ADDRESS_HIGH, CURSOR_SURFACE_ADDRESS_HIGH, mask_sh), \\\n\tIPP_SF(DCP0_CUR_SURFACE_ADDRESS, CURSOR_SURFACE_ADDRESS, mask_sh), \\\n\tIPP_SF(DCP0_PRESCALE_GRPH_CONTROL, GRPH_PRESCALE_BYPASS, mask_sh), \\\n\tIPP_SF(DCP0_PRESCALE_VALUES_GRPH_R, GRPH_PRESCALE_SCALE_R, mask_sh), \\\n\tIPP_SF(DCP0_PRESCALE_VALUES_GRPH_R, GRPH_PRESCALE_BIAS_R, mask_sh), \\\n\tIPP_SF(DCP0_PRESCALE_VALUES_GRPH_G, GRPH_PRESCALE_SCALE_G, mask_sh), \\\n\tIPP_SF(DCP0_PRESCALE_VALUES_GRPH_G, GRPH_PRESCALE_BIAS_G, mask_sh), \\\n\tIPP_SF(DCP0_PRESCALE_VALUES_GRPH_B, GRPH_PRESCALE_SCALE_B, mask_sh), \\\n\tIPP_SF(DCP0_PRESCALE_VALUES_GRPH_B, GRPH_PRESCALE_BIAS_B, mask_sh), \\\n\tIPP_SF(DCP0_INPUT_GAMMA_CONTROL, GRPH_INPUT_GAMMA_MODE, mask_sh), \\\n\tIPP_SF(DCFE0_DCFE_MEM_PWR_CTRL, DCP_LUT_MEM_PWR_DIS, mask_sh), \\\n\tIPP_SF(DCP0_DC_LUT_WRITE_EN_MASK, DC_LUT_WRITE_EN_MASK, mask_sh), \\\n\tIPP_SF(DCP0_DC_LUT_RW_MODE, DC_LUT_RW_MODE, mask_sh), \\\n\tIPP_SF(DCP0_DC_LUT_CONTROL, DC_LUT_DATA_R_FORMAT, mask_sh), \\\n\tIPP_SF(DCP0_DC_LUT_CONTROL, DC_LUT_DATA_G_FORMAT, mask_sh), \\\n\tIPP_SF(DCP0_DC_LUT_CONTROL, DC_LUT_DATA_B_FORMAT, mask_sh), \\\n\tIPP_SF(DCP0_DC_LUT_RW_INDEX, DC_LUT_RW_INDEX, mask_sh), \\\n\tIPP_SF(DCP0_DC_LUT_SEQ_COLOR, DC_LUT_SEQ_COLOR, mask_sh), \\\n\tIPP_SF(DCP0_DEGAMMA_CONTROL, GRPH_DEGAMMA_MODE, mask_sh), \\\n\tIPP_SF(DCP0_DEGAMMA_CONTROL, CURSOR_DEGAMMA_MODE, mask_sh), \\\n\tIPP_SF(DCP0_DEGAMMA_CONTROL, CURSOR2_DEGAMMA_MODE, mask_sh)\n\n#if defined(CONFIG_DRM_AMD_DC_SI)\n#define IPP_DCE60_MASK_SH_LIST_DCE_COMMON_BASE(mask_sh) \\\n\tIPP_SF(CUR_UPDATE, CURSOR_UPDATE_LOCK, mask_sh), \\\n\tIPP_SF(CUR_CONTROL, CURSOR_EN, mask_sh), \\\n\tIPP_SF(CUR_CONTROL, CURSOR_MODE, mask_sh), \\\n\tIPP_SF(CUR_CONTROL, CURSOR_2X_MAGNIFY, mask_sh), \\\n\tIPP_SF(CUR_CONTROL, CUR_INV_TRANS_CLAMP, mask_sh), \\\n\tIPP_SF(CUR_POSITION, CURSOR_X_POSITION, mask_sh), \\\n\tIPP_SF(CUR_POSITION, CURSOR_Y_POSITION, mask_sh), \\\n\tIPP_SF(CUR_HOT_SPOT, CURSOR_HOT_SPOT_X, mask_sh), \\\n\tIPP_SF(CUR_HOT_SPOT, CURSOR_HOT_SPOT_Y, mask_sh), \\\n\tIPP_SF(CUR_COLOR1, CUR_COLOR1_BLUE, mask_sh), \\\n\tIPP_SF(CUR_COLOR1, CUR_COLOR1_GREEN, mask_sh), \\\n\tIPP_SF(CUR_COLOR1, CUR_COLOR1_RED, mask_sh), \\\n\tIPP_SF(CUR_COLOR2, CUR_COLOR2_BLUE, mask_sh), \\\n\tIPP_SF(CUR_COLOR2, CUR_COLOR2_GREEN, mask_sh), \\\n\tIPP_SF(CUR_COLOR2, CUR_COLOR2_RED, mask_sh), \\\n\tIPP_SF(CUR_SIZE, CURSOR_WIDTH, mask_sh), \\\n\tIPP_SF(CUR_SIZE, CURSOR_HEIGHT, mask_sh), \\\n\tIPP_SF(CUR_SURFACE_ADDRESS_HIGH, CURSOR_SURFACE_ADDRESS_HIGH, mask_sh), \\\n\tIPP_SF(CUR_SURFACE_ADDRESS, CURSOR_SURFACE_ADDRESS, mask_sh), \\\n\tIPP_SF(PRESCALE_GRPH_CONTROL, GRPH_PRESCALE_BYPASS, mask_sh), \\\n\tIPP_SF(PRESCALE_VALUES_GRPH_R, GRPH_PRESCALE_SCALE_R, mask_sh), \\\n\tIPP_SF(PRESCALE_VALUES_GRPH_R, GRPH_PRESCALE_BIAS_R, mask_sh), \\\n\tIPP_SF(PRESCALE_VALUES_GRPH_G, GRPH_PRESCALE_SCALE_G, mask_sh), \\\n\tIPP_SF(PRESCALE_VALUES_GRPH_G, GRPH_PRESCALE_BIAS_G, mask_sh), \\\n\tIPP_SF(PRESCALE_VALUES_GRPH_B, GRPH_PRESCALE_SCALE_B, mask_sh), \\\n\tIPP_SF(PRESCALE_VALUES_GRPH_B, GRPH_PRESCALE_BIAS_B, mask_sh), \\\n\tIPP_SF(INPUT_GAMMA_CONTROL, GRPH_INPUT_GAMMA_MODE, mask_sh), \\\n\tIPP_SF(DC_LUT_WRITE_EN_MASK, DC_LUT_WRITE_EN_MASK, mask_sh), \\\n\tIPP_SF(DC_LUT_RW_MODE, DC_LUT_RW_MODE, mask_sh), \\\n\tIPP_SF(DC_LUT_CONTROL, DC_LUT_DATA_R_FORMAT, mask_sh), \\\n\tIPP_SF(DC_LUT_CONTROL, DC_LUT_DATA_G_FORMAT, mask_sh), \\\n\tIPP_SF(DC_LUT_CONTROL, DC_LUT_DATA_B_FORMAT, mask_sh), \\\n\tIPP_SF(DC_LUT_RW_INDEX, DC_LUT_RW_INDEX, mask_sh), \\\n\tIPP_SF(DC_LUT_SEQ_COLOR, DC_LUT_SEQ_COLOR, mask_sh), \\\n\tIPP_SF(DEGAMMA_CONTROL, GRPH_DEGAMMA_MODE, mask_sh), \\\n\tIPP_SF(DEGAMMA_CONTROL, CURSOR_DEGAMMA_MODE, mask_sh)\n#endif\n\n#define IPP_REG_FIELD_LIST(type) \\\n\ttype CURSOR_UPDATE_LOCK; \\\n\ttype CURSOR_EN; \\\n\ttype CURSOR_X_POSITION; \\\n\ttype CURSOR_Y_POSITION; \\\n\ttype CURSOR_HOT_SPOT_X; \\\n\ttype CURSOR_HOT_SPOT_Y; \\\n\ttype CURSOR_MODE; \\\n\ttype CURSOR_2X_MAGNIFY; \\\n\ttype CUR_INV_TRANS_CLAMP; \\\n\ttype CUR_COLOR1_BLUE; \\\n\ttype CUR_COLOR1_GREEN; \\\n\ttype CUR_COLOR1_RED; \\\n\ttype CUR_COLOR2_BLUE; \\\n\ttype CUR_COLOR2_GREEN; \\\n\ttype CUR_COLOR2_RED; \\\n\ttype CURSOR_WIDTH; \\\n\ttype CURSOR_HEIGHT; \\\n\ttype CURSOR_SURFACE_ADDRESS_HIGH; \\\n\ttype CURSOR_SURFACE_ADDRESS; \\\n\ttype GRPH_PRESCALE_BYPASS; \\\n\ttype GRPH_PRESCALE_SCALE_R; \\\n\ttype GRPH_PRESCALE_BIAS_R; \\\n\ttype GRPH_PRESCALE_SCALE_G; \\\n\ttype GRPH_PRESCALE_BIAS_G; \\\n\ttype GRPH_PRESCALE_SCALE_B; \\\n\ttype GRPH_PRESCALE_BIAS_B; \\\n\ttype GRPH_INPUT_GAMMA_MODE; \\\n\ttype DCP_LUT_MEM_PWR_DIS; \\\n\ttype DC_LUT_WRITE_EN_MASK; \\\n\ttype DC_LUT_RW_MODE; \\\n\ttype DC_LUT_DATA_R_FORMAT; \\\n\ttype DC_LUT_DATA_G_FORMAT; \\\n\ttype DC_LUT_DATA_B_FORMAT; \\\n\ttype DC_LUT_RW_INDEX; \\\n\ttype DC_LUT_SEQ_COLOR; \\\n\ttype GRPH_DEGAMMA_MODE; \\\n\ttype CURSOR_DEGAMMA_MODE; \\\n\ttype CURSOR2_DEGAMMA_MODE\n\nstruct dce_ipp_shift {\n\tIPP_REG_FIELD_LIST(uint8_t);\n};\n\nstruct dce_ipp_mask {\n\tIPP_REG_FIELD_LIST(uint32_t);\n};\n\nstruct dce_ipp_registers {\n\tuint32_t CUR_UPDATE;\n\tuint32_t CUR_CONTROL;\n\tuint32_t CUR_POSITION;\n\tuint32_t CUR_HOT_SPOT;\n\tuint32_t CUR_COLOR1;\n\tuint32_t CUR_COLOR2;\n\tuint32_t CUR_SIZE;\n\tuint32_t CUR_SURFACE_ADDRESS_HIGH;\n\tuint32_t CUR_SURFACE_ADDRESS;\n\tuint32_t PRESCALE_GRPH_CONTROL;\n\tuint32_t PRESCALE_VALUES_GRPH_R;\n\tuint32_t PRESCALE_VALUES_GRPH_G;\n\tuint32_t PRESCALE_VALUES_GRPH_B;\n\tuint32_t INPUT_GAMMA_CONTROL;\n\tuint32_t DCFE_MEM_PWR_CTRL;\n\tuint32_t DC_LUT_WRITE_EN_MASK;\n\tuint32_t DC_LUT_RW_MODE;\n\tuint32_t DC_LUT_CONTROL;\n\tuint32_t DC_LUT_RW_INDEX;\n\tuint32_t DC_LUT_SEQ_COLOR;\n\tuint32_t DEGAMMA_CONTROL;\n};\n\nstruct dce_ipp {\n\tstruct input_pixel_processor base;\n\tconst struct dce_ipp_registers *regs;\n\tconst struct dce_ipp_shift *ipp_shift;\n\tconst struct dce_ipp_mask *ipp_mask;\n};\n\nvoid dce_ipp_construct(struct dce_ipp *ipp_dce,\n\tstruct dc_context *ctx,\n\tint inst,\n\tconst struct dce_ipp_registers *regs,\n\tconst struct dce_ipp_shift *ipp_shift,\n\tconst struct dce_ipp_mask *ipp_mask);\n\n#if defined(CONFIG_DRM_AMD_DC_SI)\nvoid dce60_ipp_construct(struct dce_ipp *ipp_dce,\n\tstruct dc_context *ctx,\n\tint inst,\n\tconst struct dce_ipp_registers *regs,\n\tconst struct dce_ipp_shift *ipp_shift,\n\tconst struct dce_ipp_mask *ipp_mask);\n#endif\n\nvoid dce_ipp_destroy(struct input_pixel_processor **ipp);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}