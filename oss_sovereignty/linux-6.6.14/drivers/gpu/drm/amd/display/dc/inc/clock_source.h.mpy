{
  "module_name": "clock_source.h",
  "hash_id": "a80c2355da9d498fd63eeac571a72a912578e154f19338c8e42878982b7ea735",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/inc/clock_source.h",
  "human_readable_source": " \n\n#ifndef __DC_CLOCK_SOURCE_H__\n#define __DC_CLOCK_SOURCE_H__\n\n#include \"dc_types.h\"\n#include \"include/grph_object_id.h\"\n#include \"include/bios_parser_types.h\"\n\nstruct clock_source;\n\nstruct spread_spectrum_data {\n\tuint32_t percentage;\t\t \n\tuint32_t percentage_divider;\t \n\tuint32_t freq_range_khz;\n\tuint32_t modulation_freq_hz;\n\n\tstruct spread_spectrum_flags flags;\n};\n\nstruct delta_sigma_data {\n\tuint32_t feedback_amount;\n\tuint32_t nfrac_amount;\n\tuint32_t ds_frac_size;\n\tuint32_t ds_frac_amount;\n};\n\n \nstruct pixel_clk_flags {\n\tuint32_t ENABLE_SS:1;\n\tuint32_t DISPLAY_BLANKED:1;\n\tuint32_t PROGRAM_PIXEL_CLOCK:1;\n\tuint32_t PROGRAM_ID_CLOCK:1;\n\tuint32_t SUPPORT_YCBCR420:1;\n};\n\n \nstruct csdp_ref_clk_ds_params {\n\tbool hw_dso_n_dp_ref_clk;\n \n\tuint32_t avg_dp_ref_clk_khz;\n \n\tuint32_t ss_percentage_on_dp_ref_clk;\n \n\tuint32_t ss_percentage_divider;\n \n};\n\nstruct pixel_clk_params {\n\tuint32_t requested_pix_clk_100hz;\n \n\tuint32_t requested_sym_clk;  \n \n\tuint32_t dp_ref_clk;  \n \n\tstruct graphics_object_id encoder_object_id;\n \n\tenum signal_type signal_type;\n \n\tenum controller_id controller_id;\n \n\tenum dc_color_depth color_depth;\n\tstruct csdp_ref_clk_ds_params de_spread_params;\n \n\tenum dc_pixel_encoding pixel_encoding;\n\tstruct pixel_clk_flags flags;\n};\n\n \nstruct pll_settings {\n\tuint32_t actual_pix_clk_100hz;\n\tuint32_t adjusted_pix_clk_100hz;\n\tuint32_t calculated_pix_clk_100hz;\n\tuint32_t vco_freq;\n\tuint32_t reference_freq;\n\tuint32_t reference_divider;\n\tuint32_t feedback_divider;\n\tuint32_t fract_feedback_divider;\n\tuint32_t pix_clk_post_divider;\n\tuint32_t ss_percentage;\n\tbool use_external_clk;\n};\n\nstruct calc_pll_clock_source_init_data {\n\tstruct dc_bios *bp;\n\tuint32_t min_pix_clk_pll_post_divider;\n\tuint32_t max_pix_clk_pll_post_divider;\n\tuint32_t min_pll_ref_divider;\n\tuint32_t max_pll_ref_divider;\n\tuint32_t min_override_input_pxl_clk_pll_freq_khz;\n \n\n\tuint32_t max_override_input_pxl_clk_pll_freq_khz;\n \n\n\tuint32_t num_fract_fb_divider_decimal_point;\n \n\n\tuint32_t num_fract_fb_divider_decimal_point_precision;\n \n\tstruct dc_context *ctx;\n\n};\n\nstruct calc_pll_clock_source {\n\tuint32_t ref_freq_khz;\n\tuint32_t min_pix_clock_pll_post_divider;\n\tuint32_t max_pix_clock_pll_post_divider;\n\tuint32_t min_pll_ref_divider;\n\tuint32_t max_pll_ref_divider;\n\n\tuint32_t max_vco_khz;\n\tuint32_t min_vco_khz;\n\tuint32_t min_pll_input_freq_khz;\n\tuint32_t max_pll_input_freq_khz;\n\n\tuint32_t fract_fb_divider_decimal_points_num;\n\tuint32_t fract_fb_divider_factor;\n\tuint32_t fract_fb_divider_precision;\n\tuint32_t fract_fb_divider_precision_factor;\n\tstruct dc_context *ctx;\n};\n\nstruct clock_source_funcs {\n\tbool (*cs_power_down)(\n\t\t\tstruct clock_source *);\n\tbool (*program_pix_clk)(\n\t\t\tstruct clock_source *,\n\t\t\tstruct pixel_clk_params *,\n\t\t\tenum dp_link_encoding encoding,\n\t\t\tstruct pll_settings *);\n\tuint32_t (*get_pix_clk_dividers)(\n\t\t\tstruct clock_source *,\n\t\t\tstruct pixel_clk_params *,\n\t\t\tstruct pll_settings *);\n\tbool (*get_pixel_clk_frequency_100hz)(\n\t\t\tconst struct clock_source *clock_source,\n\t\t\tunsigned int inst,\n\t\t\tunsigned int *pixel_clk_khz);\n\tbool (*override_dp_pix_clk)(\n\t\t\tstruct clock_source *clock_source,\n\t\t\tunsigned int inst,\n\t\t\tunsigned int pixel_clk,\n\t\t\tunsigned int ref_clk);\n};\n\nstruct clock_source {\n\tconst struct clock_source_funcs *funcs;\n\tstruct dc_context *ctx;\n\tenum clock_source_id id;\n\tbool dp_clk_src;\n};\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}