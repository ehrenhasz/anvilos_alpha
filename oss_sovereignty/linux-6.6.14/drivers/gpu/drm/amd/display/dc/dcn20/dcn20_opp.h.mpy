{
  "module_name": "dcn20_opp.h",
  "hash_id": "f68ed168058a7684e20463c9ac2711f902365b1a7351a4c86bc0854f6ab38730",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dc/dcn20/dcn20_opp.h",
  "human_readable_source": " \n\n#ifndef __DC_OPP_DCN20_H__\n#define __DC_OPP_DCN20_H__\n\n#include \"dcn10/dcn10_opp.h\"\n\n#define TO_DCN20_OPP(opp)\\\n\tcontainer_of(opp, struct dcn20_opp, base)\n\n#define OPP_SF(reg_name, field_name, post_fix)\\\n\t.field_name = reg_name ## __ ## field_name ## post_fix\n\n#define OPP_DPG_REG_LIST(id) \\\n\tSRI(DPG_CONTROL, DPG, id), \\\n\tSRI(DPG_DIMENSIONS, DPG, id), \\\n\tSRI(DPG_OFFSET_SEGMENT, DPG, id), \\\n\tSRI(DPG_COLOUR_B_CB, DPG, id), \\\n\tSRI(DPG_COLOUR_G_Y, DPG, id), \\\n\tSRI(DPG_COLOUR_R_CR, DPG, id), \\\n\tSRI(DPG_RAMP_CONTROL, DPG, id), \\\n\tSRI(DPG_STATUS, DPG, id)\n\n#define OPP_REG_LIST_DCN20(id) \\\n\tOPP_REG_LIST_DCN10(id), \\\n\tOPP_DPG_REG_LIST(id), \\\n\tSRI(FMT_422_CONTROL, FMT, id), \\\n\tSRI(OPPBUF_CONTROL1, OPPBUF, id)\n\n#define OPP_REG_VARIABLE_LIST_DCN2_0 \\\n\tOPP_COMMON_REG_VARIABLE_LIST; \\\n\tuint32_t FMT_422_CONTROL; \\\n\tuint32_t DPG_CONTROL; \\\n\tuint32_t DPG_DIMENSIONS; \\\n\tuint32_t DPG_OFFSET_SEGMENT; \\\n\tuint32_t DPG_COLOUR_B_CB; \\\n\tuint32_t DPG_COLOUR_G_Y; \\\n\tuint32_t DPG_COLOUR_R_CR; \\\n\tuint32_t DPG_RAMP_CONTROL; \\\n\tuint32_t DPG_STATUS\n\n#define OPP_DPG_MASK_SH_LIST(mask_sh) \\\n\tOPP_SF(DPG0_DPG_CONTROL, DPG_EN, mask_sh), \\\n\tOPP_SF(DPG0_DPG_CONTROL, DPG_MODE, mask_sh), \\\n\tOPP_SF(DPG0_DPG_CONTROL, DPG_DYNAMIC_RANGE, mask_sh), \\\n\tOPP_SF(DPG0_DPG_CONTROL, DPG_BIT_DEPTH, mask_sh), \\\n\tOPP_SF(DPG0_DPG_CONTROL, DPG_VRES, mask_sh), \\\n\tOPP_SF(DPG0_DPG_CONTROL, DPG_HRES, mask_sh), \\\n\tOPP_SF(DPG0_DPG_DIMENSIONS, DPG_ACTIVE_WIDTH, mask_sh), \\\n\tOPP_SF(DPG0_DPG_DIMENSIONS, DPG_ACTIVE_HEIGHT, mask_sh), \\\n\tOPP_SF(DPG0_DPG_OFFSET_SEGMENT, DPG_X_OFFSET, mask_sh), \\\n\tOPP_SF(DPG0_DPG_OFFSET_SEGMENT, DPG_SEGMENT_WIDTH, mask_sh), \\\n\tOPP_SF(DPG0_DPG_COLOUR_R_CR, DPG_COLOUR0_R_CR, mask_sh), \\\n\tOPP_SF(DPG0_DPG_COLOUR_R_CR, DPG_COLOUR1_R_CR, mask_sh), \\\n\tOPP_SF(DPG0_DPG_COLOUR_B_CB, DPG_COLOUR0_B_CB, mask_sh), \\\n\tOPP_SF(DPG0_DPG_COLOUR_B_CB, DPG_COLOUR1_B_CB, mask_sh), \\\n\tOPP_SF(DPG0_DPG_COLOUR_G_Y, DPG_COLOUR0_G_Y, mask_sh), \\\n\tOPP_SF(DPG0_DPG_COLOUR_G_Y, DPG_COLOUR1_G_Y, mask_sh), \\\n\tOPP_SF(DPG0_DPG_RAMP_CONTROL, DPG_RAMP0_OFFSET, mask_sh), \\\n\tOPP_SF(DPG0_DPG_RAMP_CONTROL, DPG_INC0, mask_sh), \\\n\tOPP_SF(DPG0_DPG_RAMP_CONTROL, DPG_INC1, mask_sh), \\\n\tOPP_SF(DPG0_DPG_STATUS, DPG_DOUBLE_BUFFER_PENDING, mask_sh)\n\n#define OPP_MASK_SH_LIST_DCN20(mask_sh) \\\n\tOPP_MASK_SH_LIST_DCN(mask_sh), \\\n\tOPP_DPG_MASK_SH_LIST(mask_sh), \\\n\tOPP_SF(OPPBUF0_OPPBUF_CONTROL, OPPBUF_DISPLAY_SEGMENTATION, mask_sh),\\\n\tOPP_SF(OPPBUF0_OPPBUF_CONTROL, OPPBUF_OVERLAP_PIXEL_NUM, mask_sh), \\\n\tOPP_SF(FMT0_FMT_422_CONTROL, FMT_LEFT_EDGE_EXTRA_PIXEL_COUNT, mask_sh)\n\n#define OPP_DCN20_REG_FIELD_LIST(type) \\\n\tOPP_DCN10_REG_FIELD_LIST(type); \\\n\ttype FMT_LEFT_EDGE_EXTRA_PIXEL_COUNT; \\\n\ttype DPG_EN; \\\n\ttype DPG_MODE; \\\n\ttype DPG_DYNAMIC_RANGE; \\\n\ttype DPG_BIT_DEPTH; \\\n\ttype DPG_VRES; \\\n\ttype DPG_HRES; \\\n\ttype DPG_ACTIVE_WIDTH; \\\n\ttype DPG_ACTIVE_HEIGHT; \\\n\ttype DPG_X_OFFSET; \\\n\ttype DPG_SEGMENT_WIDTH; \\\n\ttype DPG_COLOUR0_R_CR; \\\n\ttype DPG_COLOUR1_R_CR; \\\n\ttype DPG_COLOUR0_B_CB; \\\n\ttype DPG_COLOUR1_B_CB; \\\n\ttype DPG_COLOUR0_G_Y; \\\n\ttype DPG_COLOUR1_G_Y; \\\n\ttype DPG_RAMP0_OFFSET; \\\n\ttype DPG_INC0; \\\n\ttype DPG_INC1; \\\n\ttype DPG_DOUBLE_BUFFER_PENDING\n\nstruct dcn20_opp_registers {\n\tOPP_REG_VARIABLE_LIST_DCN2_0;\n};\n\nstruct dcn20_opp_shift {\n\tOPP_DCN20_REG_FIELD_LIST(uint8_t);\n};\n\nstruct dcn20_opp_mask {\n\tOPP_DCN20_REG_FIELD_LIST(uint32_t);\n};\n\nstruct dcn20_opp {\n\tstruct output_pixel_processor base;\n\n\tconst struct dcn20_opp_registers *regs;\n\tconst struct dcn20_opp_shift *opp_shift;\n\tconst struct dcn20_opp_mask *opp_mask;\n\n\tbool is_write_to_ram_a_safe;\n};\n\nvoid dcn20_opp_construct(struct dcn20_opp *oppn20,\n\tstruct dc_context *ctx,\n\tuint32_t inst,\n\tconst struct dcn20_opp_registers *regs,\n\tconst struct dcn20_opp_shift *opp_shift,\n\tconst struct dcn20_opp_mask *opp_mask);\n\nvoid opp2_set_disp_pattern_generator(\n\tstruct output_pixel_processor *opp,\n\tenum controller_dp_test_pattern test_pattern,\n\tenum controller_dp_color_space color_space,\n\tenum dc_color_depth color_depth,\n\tconst struct tg_color *solid_color,\n\tint width,\n\tint height,\n\tint offset);\n\nvoid opp2_program_dpg_dimensions(\n\t\tstruct output_pixel_processor *opp,\n\t\tint width, int height);\n\nbool opp2_dpg_is_blanked(struct output_pixel_processor *opp);\n\nvoid opp2_dpg_set_blank_color(\n\t\tstruct output_pixel_processor *opp,\n\t\tconst struct tg_color *color);\n\nvoid opp2_program_left_edge_extra_pixel (\n\t\tstruct output_pixel_processor *opp,\n\t\tbool count);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}