{
  "module_name": "dmub_dcn31.h",
  "hash_id": "ce97c2251e9785c30c76ffbaff5047a915f64f40ba39d5bb934df6ebc084bb30",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dmub/src/dmub_dcn31.h",
  "human_readable_source": " \n\n#ifndef _DMUB_DCN31_H_\n#define _DMUB_DCN31_H_\n\n#include \"dmub_dcn20.h\"\n\nstruct dmub_srv;\n\n \n\n#define DMUB_DCN31_REGS() \\\n\tDMUB_SR(DMCUB_CNTL) \\\n\tDMUB_SR(DMCUB_CNTL2) \\\n\tDMUB_SR(DMCUB_SEC_CNTL) \\\n\tDMUB_SR(DMCUB_INBOX0_SIZE) \\\n\tDMUB_SR(DMCUB_INBOX0_RPTR) \\\n\tDMUB_SR(DMCUB_INBOX0_WPTR) \\\n\tDMUB_SR(DMCUB_INBOX1_BASE_ADDRESS) \\\n\tDMUB_SR(DMCUB_INBOX1_SIZE) \\\n\tDMUB_SR(DMCUB_INBOX1_RPTR) \\\n\tDMUB_SR(DMCUB_INBOX1_WPTR) \\\n\tDMUB_SR(DMCUB_OUTBOX0_BASE_ADDRESS) \\\n\tDMUB_SR(DMCUB_OUTBOX0_SIZE) \\\n\tDMUB_SR(DMCUB_OUTBOX0_RPTR) \\\n\tDMUB_SR(DMCUB_OUTBOX0_WPTR) \\\n\tDMUB_SR(DMCUB_OUTBOX1_BASE_ADDRESS) \\\n\tDMUB_SR(DMCUB_OUTBOX1_SIZE) \\\n\tDMUB_SR(DMCUB_OUTBOX1_RPTR) \\\n\tDMUB_SR(DMCUB_OUTBOX1_WPTR) \\\n\tDMUB_SR(DMCUB_REGION3_CW0_OFFSET) \\\n\tDMUB_SR(DMCUB_REGION3_CW1_OFFSET) \\\n\tDMUB_SR(DMCUB_REGION3_CW2_OFFSET) \\\n\tDMUB_SR(DMCUB_REGION3_CW3_OFFSET) \\\n\tDMUB_SR(DMCUB_REGION3_CW4_OFFSET) \\\n\tDMUB_SR(DMCUB_REGION3_CW5_OFFSET) \\\n\tDMUB_SR(DMCUB_REGION3_CW6_OFFSET) \\\n\tDMUB_SR(DMCUB_REGION3_CW7_OFFSET) \\\n\tDMUB_SR(DMCUB_REGION3_CW0_OFFSET_HIGH) \\\n\tDMUB_SR(DMCUB_REGION3_CW1_OFFSET_HIGH) \\\n\tDMUB_SR(DMCUB_REGION3_CW2_OFFSET_HIGH) \\\n\tDMUB_SR(DMCUB_REGION3_CW3_OFFSET_HIGH) \\\n\tDMUB_SR(DMCUB_REGION3_CW4_OFFSET_HIGH) \\\n\tDMUB_SR(DMCUB_REGION3_CW5_OFFSET_HIGH) \\\n\tDMUB_SR(DMCUB_REGION3_CW6_OFFSET_HIGH) \\\n\tDMUB_SR(DMCUB_REGION3_CW7_OFFSET_HIGH) \\\n\tDMUB_SR(DMCUB_REGION3_CW0_BASE_ADDRESS) \\\n\tDMUB_SR(DMCUB_REGION3_CW1_BASE_ADDRESS) \\\n\tDMUB_SR(DMCUB_REGION3_CW2_BASE_ADDRESS) \\\n\tDMUB_SR(DMCUB_REGION3_CW3_BASE_ADDRESS) \\\n\tDMUB_SR(DMCUB_REGION3_CW4_BASE_ADDRESS) \\\n\tDMUB_SR(DMCUB_REGION3_CW5_BASE_ADDRESS) \\\n\tDMUB_SR(DMCUB_REGION3_CW6_BASE_ADDRESS) \\\n\tDMUB_SR(DMCUB_REGION3_CW7_BASE_ADDRESS) \\\n\tDMUB_SR(DMCUB_REGION3_CW0_TOP_ADDRESS) \\\n\tDMUB_SR(DMCUB_REGION3_CW1_TOP_ADDRESS) \\\n\tDMUB_SR(DMCUB_REGION3_CW2_TOP_ADDRESS) \\\n\tDMUB_SR(DMCUB_REGION3_CW3_TOP_ADDRESS) \\\n\tDMUB_SR(DMCUB_REGION3_CW4_TOP_ADDRESS) \\\n\tDMUB_SR(DMCUB_REGION3_CW5_TOP_ADDRESS) \\\n\tDMUB_SR(DMCUB_REGION3_CW6_TOP_ADDRESS) \\\n\tDMUB_SR(DMCUB_REGION3_CW7_TOP_ADDRESS) \\\n\tDMUB_SR(DMCUB_REGION4_OFFSET) \\\n\tDMUB_SR(DMCUB_REGION4_OFFSET_HIGH) \\\n\tDMUB_SR(DMCUB_REGION4_TOP_ADDRESS) \\\n\tDMUB_SR(DMCUB_REGION5_OFFSET) \\\n\tDMUB_SR(DMCUB_REGION5_OFFSET_HIGH) \\\n\tDMUB_SR(DMCUB_REGION5_TOP_ADDRESS) \\\n\tDMUB_SR(DMCUB_SCRATCH0) \\\n\tDMUB_SR(DMCUB_SCRATCH1) \\\n\tDMUB_SR(DMCUB_SCRATCH2) \\\n\tDMUB_SR(DMCUB_SCRATCH3) \\\n\tDMUB_SR(DMCUB_SCRATCH4) \\\n\tDMUB_SR(DMCUB_SCRATCH5) \\\n\tDMUB_SR(DMCUB_SCRATCH6) \\\n\tDMUB_SR(DMCUB_SCRATCH7) \\\n\tDMUB_SR(DMCUB_SCRATCH8) \\\n\tDMUB_SR(DMCUB_SCRATCH9) \\\n\tDMUB_SR(DMCUB_SCRATCH10) \\\n\tDMUB_SR(DMCUB_SCRATCH11) \\\n\tDMUB_SR(DMCUB_SCRATCH12) \\\n\tDMUB_SR(DMCUB_SCRATCH13) \\\n\tDMUB_SR(DMCUB_SCRATCH14) \\\n\tDMUB_SR(DMCUB_SCRATCH15) \\\n\tDMUB_SR(DMCUB_GPINT_DATAIN1) \\\n\tDMUB_SR(DMCUB_GPINT_DATAOUT) \\\n\tDMUB_SR(CC_DC_PIPE_DIS) \\\n\tDMUB_SR(MMHUBBUB_SOFT_RESET) \\\n\tDMUB_SR(DCN_VM_FB_LOCATION_BASE) \\\n\tDMUB_SR(DCN_VM_FB_OFFSET) \\\n\tDMUB_SR(DMCUB_TIMER_CURRENT) \\\n\tDMUB_SR(DMCUB_INST_FETCH_FAULT_ADDR) \\\n\tDMUB_SR(DMCUB_UNDEFINED_ADDRESS_FAULT_ADDR) \\\n\tDMUB_SR(DMCUB_DATA_WRITE_FAULT_ADDR) \\\n\tDMUB_SR(DMCUB_INTERRUPT_ENABLE) \\\n\tDMUB_SR(DMCUB_INTERRUPT_ACK)\n\n#define DMUB_DCN31_FIELDS() \\\n\tDMUB_SF(DMCUB_CNTL, DMCUB_ENABLE) \\\n\tDMUB_SF(DMCUB_CNTL, DMCUB_TRACEPORT_EN) \\\n\tDMUB_SF(DMCUB_CNTL2, DMCUB_SOFT_RESET) \\\n\tDMUB_SF(DMCUB_SEC_CNTL, DMCUB_SEC_RESET) \\\n\tDMUB_SF(DMCUB_SEC_CNTL, DMCUB_MEM_UNIT_ID) \\\n\tDMUB_SF(DMCUB_SEC_CNTL, DMCUB_SEC_RESET_STATUS) \\\n\tDMUB_SF(DMCUB_REGION3_CW0_TOP_ADDRESS, DMCUB_REGION3_CW0_TOP_ADDRESS) \\\n\tDMUB_SF(DMCUB_REGION3_CW0_TOP_ADDRESS, DMCUB_REGION3_CW0_ENABLE) \\\n\tDMUB_SF(DMCUB_REGION3_CW1_TOP_ADDRESS, DMCUB_REGION3_CW1_TOP_ADDRESS) \\\n\tDMUB_SF(DMCUB_REGION3_CW1_TOP_ADDRESS, DMCUB_REGION3_CW1_ENABLE) \\\n\tDMUB_SF(DMCUB_REGION3_CW2_TOP_ADDRESS, DMCUB_REGION3_CW2_TOP_ADDRESS) \\\n\tDMUB_SF(DMCUB_REGION3_CW2_TOP_ADDRESS, DMCUB_REGION3_CW2_ENABLE) \\\n\tDMUB_SF(DMCUB_REGION3_CW3_TOP_ADDRESS, DMCUB_REGION3_CW3_TOP_ADDRESS) \\\n\tDMUB_SF(DMCUB_REGION3_CW3_TOP_ADDRESS, DMCUB_REGION3_CW3_ENABLE) \\\n\tDMUB_SF(DMCUB_REGION3_CW4_TOP_ADDRESS, DMCUB_REGION3_CW4_TOP_ADDRESS) \\\n\tDMUB_SF(DMCUB_REGION3_CW4_TOP_ADDRESS, DMCUB_REGION3_CW4_ENABLE) \\\n\tDMUB_SF(DMCUB_REGION3_CW5_TOP_ADDRESS, DMCUB_REGION3_CW5_TOP_ADDRESS) \\\n\tDMUB_SF(DMCUB_REGION3_CW5_TOP_ADDRESS, DMCUB_REGION3_CW5_ENABLE) \\\n\tDMUB_SF(DMCUB_REGION3_CW6_TOP_ADDRESS, DMCUB_REGION3_CW6_TOP_ADDRESS) \\\n\tDMUB_SF(DMCUB_REGION3_CW6_TOP_ADDRESS, DMCUB_REGION3_CW6_ENABLE) \\\n\tDMUB_SF(DMCUB_REGION3_CW7_TOP_ADDRESS, DMCUB_REGION3_CW7_TOP_ADDRESS) \\\n\tDMUB_SF(DMCUB_REGION3_CW7_TOP_ADDRESS, DMCUB_REGION3_CW7_ENABLE) \\\n\tDMUB_SF(DMCUB_REGION4_TOP_ADDRESS, DMCUB_REGION4_TOP_ADDRESS) \\\n\tDMUB_SF(DMCUB_REGION4_TOP_ADDRESS, DMCUB_REGION4_ENABLE) \\\n\tDMUB_SF(DMCUB_REGION5_TOP_ADDRESS, DMCUB_REGION5_TOP_ADDRESS) \\\n\tDMUB_SF(DMCUB_REGION5_TOP_ADDRESS, DMCUB_REGION5_ENABLE) \\\n\tDMUB_SF(CC_DC_PIPE_DIS, DC_DMCUB_ENABLE) \\\n\tDMUB_SF(MMHUBBUB_SOFT_RESET, DMUIF_SOFT_RESET) \\\n\tDMUB_SF(DCN_VM_FB_LOCATION_BASE, FB_BASE) \\\n\tDMUB_SF(DCN_VM_FB_OFFSET, FB_OFFSET) \\\n\tDMUB_SF(DMCUB_INBOX0_WPTR, DMCUB_INBOX0_WPTR) \\\n\tDMUB_SF(DMCUB_INTERRUPT_ENABLE, DMCUB_GPINT_IH_INT_EN) \\\n\tDMUB_SF(DMCUB_INTERRUPT_ACK, DMCUB_GPINT_IH_INT_ACK) \\\n\tDMUB_SF(DMCUB_CNTL, DMCUB_PWAIT_MODE_STATUS)\n\nstruct dmub_srv_dcn31_reg_offset {\n#define DMUB_SR(reg) uint32_t reg;\n\tDMUB_DCN31_REGS()\n\tDMCUB_INTERNAL_REGS()\n#undef DMUB_SR\n};\n\nstruct dmub_srv_dcn31_reg_shift {\n#define DMUB_SF(reg, field) uint8_t reg##__##field;\n\tDMUB_DCN31_FIELDS()\n#undef DMUB_SF\n};\n\nstruct dmub_srv_dcn31_reg_mask {\n#define DMUB_SF(reg, field) uint32_t reg##__##field;\n\tDMUB_DCN31_FIELDS()\n#undef DMUB_SF\n};\n\nstruct dmub_srv_dcn31_regs {\n\tconst struct dmub_srv_dcn31_reg_offset offset;\n\tconst struct dmub_srv_dcn31_reg_mask mask;\n\tconst struct dmub_srv_dcn31_reg_shift shift;\n};\n\nextern const struct dmub_srv_dcn31_regs dmub_srv_dcn31_regs;\n\n \n\n\nvoid dmub_dcn31_init(struct dmub_srv *dmub);\n\nvoid dmub_dcn31_reset(struct dmub_srv *dmub);\n\nvoid dmub_dcn31_reset_release(struct dmub_srv *dmub);\n\nvoid dmub_dcn31_backdoor_load(struct dmub_srv *dmub,\n\t\t\t      const struct dmub_window *cw0,\n\t\t\t      const struct dmub_window *cw1);\n\nvoid dmub_dcn31_setup_windows(struct dmub_srv *dmub,\n\t\t\t      const struct dmub_window *cw2,\n\t\t\t      const struct dmub_window *cw3,\n\t\t\t      const struct dmub_window *cw4,\n\t\t\t      const struct dmub_window *cw5,\n\t\t\t      const struct dmub_window *cw6);\n\nvoid dmub_dcn31_setup_mailbox(struct dmub_srv *dmub,\n\t\t\t      const struct dmub_region *inbox1);\n\nuint32_t dmub_dcn31_get_inbox1_wptr(struct dmub_srv *dmub);\n\nuint32_t dmub_dcn31_get_inbox1_rptr(struct dmub_srv *dmub);\n\nvoid dmub_dcn31_set_inbox1_wptr(struct dmub_srv *dmub, uint32_t wptr_offset);\n\nvoid dmub_dcn31_setup_out_mailbox(struct dmub_srv *dmub,\n\t\t\t      const struct dmub_region *outbox1);\n\nuint32_t dmub_dcn31_get_outbox1_wptr(struct dmub_srv *dmub);\n\nvoid dmub_dcn31_set_outbox1_rptr(struct dmub_srv *dmub, uint32_t rptr_offset);\n\nbool dmub_dcn31_is_hw_init(struct dmub_srv *dmub);\n\nbool dmub_dcn31_is_supported(struct dmub_srv *dmub);\n\nbool dmub_dcn31_is_psrsu_supported(struct dmub_srv *dmub);\n\nvoid dmub_dcn31_set_gpint(struct dmub_srv *dmub,\n\t\t\t  union dmub_gpint_data_register reg);\n\nbool dmub_dcn31_is_gpint_acked(struct dmub_srv *dmub,\n\t\t\t       union dmub_gpint_data_register reg);\n\nuint32_t dmub_dcn31_get_gpint_response(struct dmub_srv *dmub);\n\nuint32_t dmub_dcn31_get_gpint_dataout(struct dmub_srv *dmub);\n\nvoid dmub_dcn31_enable_dmub_boot_options(struct dmub_srv *dmub, const struct dmub_srv_hw_params *params);\n\nvoid dmub_dcn31_skip_dmub_panel_power_sequence(struct dmub_srv *dmub, bool skip);\n\nunion dmub_fw_boot_status dmub_dcn31_get_fw_boot_status(struct dmub_srv *dmub);\n\nunion dmub_fw_boot_options dmub_dcn31_get_fw_boot_option(struct dmub_srv *dmub);\n\nvoid dmub_dcn31_setup_outbox0(struct dmub_srv *dmub,\n\t\t\t      const struct dmub_region *outbox0);\n\nuint32_t dmub_dcn31_get_outbox0_wptr(struct dmub_srv *dmub);\n\nvoid dmub_dcn31_set_outbox0_rptr(struct dmub_srv *dmub, uint32_t rptr_offset);\n\nuint32_t dmub_dcn31_get_current_time(struct dmub_srv *dmub);\n\nvoid dmub_dcn31_get_diagnostic_data(struct dmub_srv *dmub, struct dmub_diagnostic_data *diag_data);\n\nbool dmub_dcn31_should_detect(struct dmub_srv *dmub);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}