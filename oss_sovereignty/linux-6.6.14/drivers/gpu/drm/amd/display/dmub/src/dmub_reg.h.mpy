{
  "module_name": "dmub_reg.h",
  "hash_id": "5e4b4c2f6375026187a4907885f292ec4a25c5845d7b864beeb91923a0dd845f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/display/dmub/src/dmub_reg.h",
  "human_readable_source": " \n\n#ifndef _DMUB_REG_H_\n#define _DMUB_REG_H_\n\n#include \"../inc/dmub_cmd.h\"\n\nstruct dmub_srv;\n\n \n\n#define BASE(seg) BASE_INNER(seg)\n\n#define REG_OFFSET(reg_name) (BASE(mm##reg_name##_BASE_IDX) + mm##reg_name)\n\n#define FD_SHIFT(reg_name, field) reg_name##__##field##__SHIFT\n\n#define FD_MASK(reg_name, field) reg_name##__##field##_MASK\n\n#define REG(reg) (REGS)->offset.reg\n\n#define FD(reg_field) (REGS)->shift.reg_field, (REGS)->mask.reg_field\n\n#define FN(reg_name, field) FD(reg_name##__##field)\n\n \n\n#define REG_READ(reg) ((CTX)->funcs.reg_read((CTX)->user_ctx, REG(reg)))\n\n#define REG_WRITE(reg, val) \\\n\t((CTX)->funcs.reg_write((CTX)->user_ctx, REG(reg), (val)))\n\n \n\n#define REG_SET_N(reg_name, n, initial_val, ...) \\\n\tdmub_reg_set(CTX, REG(reg_name), initial_val, n, __VA_ARGS__)\n\n#define REG_SET(reg_name, initial_val, field, val) \\\n\t\tREG_SET_N(reg_name, 1, initial_val, \\\n\t\t\t\tFN(reg_name, field), val)\n\n#define REG_SET_2(reg, init_value, f1, v1, f2, v2) \\\n\t\tREG_SET_N(reg, 2, init_value, \\\n\t\t\t\tFN(reg, f1), v1, \\\n\t\t\t\tFN(reg, f2), v2)\n\n#define REG_SET_3(reg, init_value, f1, v1, f2, v2, f3, v3) \\\n\t\tREG_SET_N(reg, 3, init_value, \\\n\t\t\t\tFN(reg, f1), v1, \\\n\t\t\t\tFN(reg, f2), v2, \\\n\t\t\t\tFN(reg, f3), v3)\n\n#define REG_SET_4(reg, init_value, f1, v1, f2, v2, f3, v3, f4, v4) \\\n\t\tREG_SET_N(reg, 4, init_value, \\\n\t\t\t\tFN(reg, f1), v1, \\\n\t\t\t\tFN(reg, f2), v2, \\\n\t\t\t\tFN(reg, f3), v3, \\\n\t\t\t\tFN(reg, f4), v4)\n\n \n\n#define REG_UPDATE_N(reg_name, n, ...)\\\n\t\tdmub_reg_update(CTX, REG(reg_name), n, __VA_ARGS__)\n\n#define REG_UPDATE(reg_name, field, val)\t\\\n\t\tREG_UPDATE_N(reg_name, 1, \\\n\t\t\t\tFN(reg_name, field), val)\n\n#define REG_UPDATE_2(reg, f1, v1, f2, v2)\t\\\n\t\tREG_UPDATE_N(reg, 2,\\\n\t\t\t\tFN(reg, f1), v1,\\\n\t\t\t\tFN(reg, f2), v2)\n\n#define REG_UPDATE_3(reg, f1, v1, f2, v2, f3, v3) \\\n\t\tREG_UPDATE_N(reg, 3, \\\n\t\t\t\tFN(reg, f1), v1, \\\n\t\t\t\tFN(reg, f2), v2, \\\n\t\t\t\tFN(reg, f3), v3)\n\n#define REG_UPDATE_4(reg, f1, v1, f2, v2, f3, v3, f4, v4) \\\n\t\tREG_UPDATE_N(reg, 4, \\\n\t\t\t\tFN(reg, f1), v1, \\\n\t\t\t\tFN(reg, f2), v2, \\\n\t\t\t\tFN(reg, f3), v3, \\\n\t\t\t\tFN(reg, f4), v4)\n\n \n\n#define REG_GET(reg_name, field, val) \\\n\tdmub_reg_get(CTX, REG(reg_name), FN(reg_name, field), val)\n\nvoid dmub_reg_set(struct dmub_srv *srv, uint32_t addr, uint32_t reg_val, int n,\n\t\t  uint8_t shift1, uint32_t mask1, uint32_t field_value1, ...);\n\nvoid dmub_reg_update(struct dmub_srv *srv, uint32_t addr, int n, uint8_t shift1,\n\t\t     uint32_t mask1, uint32_t field_value1, ...);\n\nvoid dmub_reg_get(struct dmub_srv *srv, uint32_t addr, uint8_t shift,\n\t\t  uint32_t mask, uint32_t *field_value);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}