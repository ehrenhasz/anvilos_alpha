{
  "module_name": "nvd.h",
  "hash_id": "f2bdf4eaadbcb1947c6cad01a37ed8566eb7664cff9fcb0908ad9a39cf27308c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/amdgpu/nvd.h",
  "human_readable_source": " \n\n#ifndef NVD_H\n#define NVD_H\n\n \n#define\tPACKET_TYPE0\t0\n#define\tPACKET_TYPE1\t1\n#define\tPACKET_TYPE2\t2\n#define\tPACKET_TYPE3\t3\n\n#define CP_PACKET_GET_TYPE(h) (((h) >> 30) & 3)\n#define CP_PACKET_GET_COUNT(h) (((h) >> 16) & 0x3FFF)\n#define CP_PACKET0_GET_REG(h) ((h) & 0xFFFF)\n#define CP_PACKET3_GET_OPCODE(h) (((h) >> 8) & 0xFF)\n#define PACKET0(reg, n)\t((PACKET_TYPE0 << 30) |\t\t\t\t\\\n\t\t\t ((reg) & 0xFFFF) |\t\t\t\\\n\t\t\t ((n) & 0x3FFF) << 16)\n#define CP_PACKET2\t\t\t0x80000000\n#define\t\tPACKET2_PAD_SHIFT\t\t0\n#define\t\tPACKET2_PAD_MASK\t\t(0x3fffffff << 0)\n\n#define PACKET2(v)\t(CP_PACKET2 | REG_SET(PACKET2_PAD, (v)))\n\n#define PACKET3(op, n)\t((PACKET_TYPE3 << 30) |\t\t\t\t\\\n\t\t\t (((op) & 0xFF) << 8) |\t\t\t\t\\\n\t\t\t ((n) & 0x3FFF) << 16)\n\n#define PACKET3_COMPUTE(op, n) (PACKET3(op, n) | 1 << 1)\n\n \n#define\tPACKET3_NOP\t\t\t\t\t0x10\n#define\tPACKET3_SET_BASE\t\t\t\t0x11\n#define\t\tPACKET3_BASE_INDEX(x)                  ((x) << 0)\n#define\t\t\tCE_PARTITION_BASE\t\t3\n#define\tPACKET3_CLEAR_STATE\t\t\t\t0x12\n#define\tPACKET3_INDEX_BUFFER_SIZE\t\t\t0x13\n#define\tPACKET3_DISPATCH_DIRECT\t\t\t\t0x15\n#define\tPACKET3_DISPATCH_INDIRECT\t\t\t0x16\n#define\tPACKET3_INDIRECT_BUFFER_END\t\t\t0x17\n#define\tPACKET3_INDIRECT_BUFFER_CNST_END\t\t0x19\n#define\tPACKET3_ATOMIC_GDS\t\t\t\t0x1D\n#define\tPACKET3_ATOMIC_MEM\t\t\t\t0x1E\n#define\tPACKET3_OCCLUSION_QUERY\t\t\t\t0x1F\n#define\tPACKET3_SET_PREDICATION\t\t\t\t0x20\n#define\tPACKET3_REG_RMW\t\t\t\t\t0x21\n#define\tPACKET3_COND_EXEC\t\t\t\t0x22\n#define\tPACKET3_PRED_EXEC\t\t\t\t0x23\n#define\tPACKET3_DRAW_INDIRECT\t\t\t\t0x24\n#define\tPACKET3_DRAW_INDEX_INDIRECT\t\t\t0x25\n#define\tPACKET3_INDEX_BASE\t\t\t\t0x26\n#define\tPACKET3_DRAW_INDEX_2\t\t\t\t0x27\n#define\tPACKET3_CONTEXT_CONTROL\t\t\t\t0x28\n#define\tPACKET3_INDEX_TYPE\t\t\t\t0x2A\n#define\tPACKET3_DRAW_INDIRECT_MULTI\t\t\t0x2C\n#define\tPACKET3_DRAW_INDEX_AUTO\t\t\t\t0x2D\n#define\tPACKET3_NUM_INSTANCES\t\t\t\t0x2F\n#define\tPACKET3_DRAW_INDEX_MULTI_AUTO\t\t\t0x30\n#define\tPACKET3_INDIRECT_BUFFER_PRIV\t\t\t0x32\n#define\tPACKET3_INDIRECT_BUFFER_CNST\t\t\t0x33\n#define\tPACKET3_COND_INDIRECT_BUFFER_CNST\t\t0x33\n#define\tPACKET3_STRMOUT_BUFFER_UPDATE\t\t\t0x34\n#define\tPACKET3_DRAW_INDEX_OFFSET_2\t\t\t0x35\n#define\tPACKET3_DRAW_PREAMBLE\t\t\t\t0x36\n#define\tPACKET3_WRITE_DATA\t\t\t\t0x37\n#define\t\tWRITE_DATA_DST_SEL(x)                   ((x) << 8)\n\t\t \n#define\t\tWR_ONE_ADDR                             (1 << 16)\n#define\t\tWR_CONFIRM                              (1 << 20)\n#define\t\tWRITE_DATA_CACHE_POLICY(x)              ((x) << 25)\n\t\t \n#define\t\tWRITE_DATA_ENGINE_SEL(x)                ((x) << 30)\n\t\t \n#define\tPACKET3_DRAW_INDEX_INDIRECT_MULTI\t\t0x38\n#define\tPACKET3_MEM_SEMAPHORE\t\t\t\t0x39\n#              define PACKET3_SEM_USE_MAILBOX       (0x1 << 16)\n#              define PACKET3_SEM_SEL_SIGNAL_TYPE   (0x1 << 20)  \n#              define PACKET3_SEM_SEL_SIGNAL\t    (0x6 << 29)\n#              define PACKET3_SEM_SEL_WAIT\t    (0x7 << 29)\n#define\tPACKET3_DRAW_INDEX_MULTI_INST\t\t\t0x3A\n#define\tPACKET3_COPY_DW\t\t\t\t\t0x3B\n#define\tPACKET3_WAIT_REG_MEM\t\t\t\t0x3C\n#define\t\tWAIT_REG_MEM_FUNCTION(x)                ((x) << 0)\n\t\t \n#define\t\tWAIT_REG_MEM_MEM_SPACE(x)               ((x) << 4)\n\t\t \n#define\t\tWAIT_REG_MEM_OPERATION(x)               ((x) << 6)\n\t\t \n#define\t\tWAIT_REG_MEM_ENGINE(x)                  ((x) << 8)\n\t\t \n#define\tPACKET3_INDIRECT_BUFFER\t\t\t\t0x3F\n#define\t\tINDIRECT_BUFFER_VALID                   (1 << 23)\n#define\t\tINDIRECT_BUFFER_CACHE_POLICY(x)         ((x) << 28)\n\t\t \n#define\t\tINDIRECT_BUFFER_PRE_ENB(x)\t\t((x) << 21)\n#define\t\tINDIRECT_BUFFER_PRE_RESUME(x)           ((x) << 30)\n#define\tPACKET3_COND_INDIRECT_BUFFER\t\t\t0x3F\n#define\tPACKET3_COPY_DATA\t\t\t\t0x40\n#define\tPACKET3_CP_DMA\t\t\t\t\t0x41\n#define\tPACKET3_PFP_SYNC_ME\t\t\t\t0x42\n#define\tPACKET3_SURFACE_SYNC\t\t\t\t0x43\n#define\tPACKET3_ME_INITIALIZE\t\t\t\t0x44\n#define\tPACKET3_COND_WRITE\t\t\t\t0x45\n#define\tPACKET3_EVENT_WRITE\t\t\t\t0x46\n#define\t\tEVENT_TYPE(x)                           ((x) << 0)\n#define\t\tEVENT_INDEX(x)                          ((x) << 8)\n\t\t \n#define\tPACKET3_EVENT_WRITE_EOP\t\t\t\t0x47\n#define\tPACKET3_EVENT_WRITE_EOS\t\t\t\t0x48\n#define\tPACKET3_RELEASE_MEM\t\t\t\t0x49\n#define\t\tPACKET3_RELEASE_MEM_EVENT_TYPE(x)\t((x) << 0)\n#define\t\tPACKET3_RELEASE_MEM_EVENT_INDEX(x)\t((x) << 8)\n#define\t\tPACKET3_RELEASE_MEM_GCR_GLM_WB\t\t(1 << 12)\n#define\t\tPACKET3_RELEASE_MEM_GCR_GLM_INV\t\t(1 << 13)\n#define\t\tPACKET3_RELEASE_MEM_GCR_GLV_INV\t\t(1 << 14)\n#define\t\tPACKET3_RELEASE_MEM_GCR_GL1_INV\t\t(1 << 15)\n#define\t\tPACKET3_RELEASE_MEM_GCR_GL2_US\t\t(1 << 16)\n#define\t\tPACKET3_RELEASE_MEM_GCR_GL2_RANGE\t(1 << 17)\n#define\t\tPACKET3_RELEASE_MEM_GCR_GL2_DISCARD\t(1 << 19)\n#define\t\tPACKET3_RELEASE_MEM_GCR_GL2_INV\t\t(1 << 20)\n#define\t\tPACKET3_RELEASE_MEM_GCR_GL2_WB\t\t(1 << 21)\n#define\t\tPACKET3_RELEASE_MEM_GCR_SEQ\t\t(1 << 22)\n#define\t\tPACKET3_RELEASE_MEM_CACHE_POLICY(x)\t((x) << 25)\n\t\t \n#define\t\tPACKET3_RELEASE_MEM_EXECUTE\t\t(1 << 28)\n\n#define\t\tPACKET3_RELEASE_MEM_DATA_SEL(x)\t\t((x) << 29)\n\t\t \n#define\t\tPACKET3_RELEASE_MEM_INT_SEL(x)\t\t((x) << 24)\n\t\t \n#define\t\tPACKET3_RELEASE_MEM_DST_SEL(x)\t\t((x) << 16)\n\t\t \n\n\n\n#define\tPACKET3_PREAMBLE_CNTL\t\t\t\t0x4A\n#              define PACKET3_PREAMBLE_BEGIN_CLEAR_STATE     (2 << 28)\n#              define PACKET3_PREAMBLE_END_CLEAR_STATE       (3 << 28)\n#define\tPACKET3_DMA_DATA\t\t\t\t0x50\n \n \n#              define PACKET3_DMA_DATA_ENGINE(x)     ((x) << 0)\n\t\t \n#              define PACKET3_DMA_DATA_SRC_CACHE_POLICY(x) ((x) << 13)\n\t\t \n#              define PACKET3_DMA_DATA_DST_SEL(x)  ((x) << 20)\n\t\t \n#              define PACKET3_DMA_DATA_DST_CACHE_POLICY(x) ((x) << 25)\n\t\t \n#              define PACKET3_DMA_DATA_SRC_SEL(x)  ((x) << 29)\n\t\t \n#              define PACKET3_DMA_DATA_CP_SYNC     (1 << 31)\n \n#              define PACKET3_DMA_DATA_CMD_SAS     (1 << 26)\n\t\t \n#              define PACKET3_DMA_DATA_CMD_DAS     (1 << 27)\n\t\t \n#              define PACKET3_DMA_DATA_CMD_SAIC    (1 << 28)\n#              define PACKET3_DMA_DATA_CMD_DAIC    (1 << 29)\n#              define PACKET3_DMA_DATA_CMD_RAW_WAIT  (1 << 30)\n#define\tPACKET3_CONTEXT_REG_RMW\t\t\t\t0x51\n#define\tPACKET3_GFX_CNTX_UPDATE\t\t\t\t0x52\n#define\tPACKET3_BLK_CNTX_UPDATE\t\t\t\t0x53\n#define\tPACKET3_INCR_UPDT_STATE\t\t\t\t0x55\n#define\tPACKET3_ACQUIRE_MEM\t\t\t\t0x58\n \n#define \tPACKET3_ACQUIRE_MEM_GCR_CNTL_GLI_INV(x) ((x) << 0)\n\t\t \n#define \tPACKET3_ACQUIRE_MEM_GCR_CNTL_GL1_RANGE(x) ((x) << 2)\n\t\t \n#define \tPACKET3_ACQUIRE_MEM_GCR_CNTL_GLM_WB(x) ((x) << 4)\n#define \tPACKET3_ACQUIRE_MEM_GCR_CNTL_GLM_INV(x) ((x) << 5)\n#define \tPACKET3_ACQUIRE_MEM_GCR_CNTL_GLK_WB(x) ((x) << 6)\n#define \tPACKET3_ACQUIRE_MEM_GCR_CNTL_GLK_INV(x) ((x) << 7)\n#define \tPACKET3_ACQUIRE_MEM_GCR_CNTL_GLV_INV(x) ((x) << 8)\n#define \tPACKET3_ACQUIRE_MEM_GCR_CNTL_GL1_INV(x) ((x) << 9)\n#define \tPACKET3_ACQUIRE_MEM_GCR_CNTL_GL2_US(x) ((x) << 10)\n#define \tPACKET3_ACQUIRE_MEM_GCR_CNTL_GL2_RANGE(x) ((x) << 11)\n\t\t \n#define \tPACKET3_ACQUIRE_MEM_GCR_CNTL_GL2_DISCARD(x)  ((x) << 13)\n#define \tPACKET3_ACQUIRE_MEM_GCR_CNTL_GL2_INV(x) ((x) << 14)\n#define \tPACKET3_ACQUIRE_MEM_GCR_CNTL_GL2_WB(x) ((x) << 15)\n#define \tPACKET3_ACQUIRE_MEM_GCR_CNTL_SEQ(x) ((x) << 16)\n\t\t \n#define \tPACKET3_ACQUIRE_MEM_GCR_RANGE_IS_PA  (1 << 18)\n#define\tPACKET3_REWIND\t\t\t\t\t0x59\n#define\tPACKET3_INTERRUPT\t\t\t\t0x5A\n#define\tPACKET3_GEN_PDEPTE\t\t\t\t0x5B\n#define\tPACKET3_INDIRECT_BUFFER_PASID\t\t\t0x5C\n#define\tPACKET3_PRIME_UTCL2\t\t\t\t0x5D\n#define\tPACKET3_LOAD_UCONFIG_REG\t\t\t0x5E\n#define\tPACKET3_LOAD_SH_REG\t\t\t\t0x5F\n#define\tPACKET3_LOAD_CONFIG_REG\t\t\t\t0x60\n#define\tPACKET3_LOAD_CONTEXT_REG\t\t\t0x61\n#define\tPACKET3_LOAD_COMPUTE_STATE\t\t\t0x62\n#define\tPACKET3_LOAD_SH_REG_INDEX\t\t\t0x63\n#define\tPACKET3_SET_CONFIG_REG\t\t\t\t0x68\n#define\t\tPACKET3_SET_CONFIG_REG_START\t\t\t0x00002000\n#define\t\tPACKET3_SET_CONFIG_REG_END\t\t\t0x00002c00\n#define\tPACKET3_SET_CONTEXT_REG\t\t\t\t0x69\n#define\t\tPACKET3_SET_CONTEXT_REG_START\t\t\t0x0000a000\n#define\t\tPACKET3_SET_CONTEXT_REG_END\t\t\t0x0000a400\n#define\tPACKET3_SET_CONTEXT_REG_INDEX\t\t\t0x6A\n#define\tPACKET3_SET_VGPR_REG_DI_MULTI\t\t\t0x71\n#define\tPACKET3_SET_SH_REG_DI\t\t\t\t0x72\n#define\tPACKET3_SET_CONTEXT_REG_INDIRECT\t\t0x73\n#define\tPACKET3_SET_SH_REG_DI_MULTI\t\t\t0x74\n#define\tPACKET3_GFX_PIPE_LOCK\t\t\t\t0x75\n#define\tPACKET3_SET_SH_REG\t\t\t\t0x76\n#define\t\tPACKET3_SET_SH_REG_START\t\t\t0x00002c00\n#define\t\tPACKET3_SET_SH_REG_END\t\t\t\t0x00003000\n#define\tPACKET3_SET_SH_REG_OFFSET\t\t\t0x77\n#define\tPACKET3_SET_QUEUE_REG\t\t\t\t0x78\n#define\tPACKET3_SET_UCONFIG_REG\t\t\t\t0x79\n#define\t\tPACKET3_SET_UCONFIG_REG_START\t\t\t0x0000c000\n#define\t\tPACKET3_SET_UCONFIG_REG_END\t\t\t0x0000c400\n#define\tPACKET3_SET_UCONFIG_REG_INDEX\t\t\t0x7A\n#define\tPACKET3_FORWARD_HEADER\t\t\t\t0x7C\n#define\tPACKET3_SCRATCH_RAM_WRITE\t\t\t0x7D\n#define\tPACKET3_SCRATCH_RAM_READ\t\t\t0x7E\n#define\tPACKET3_LOAD_CONST_RAM\t\t\t\t0x80\n#define\tPACKET3_WRITE_CONST_RAM\t\t\t\t0x81\n#define\tPACKET3_DUMP_CONST_RAM\t\t\t\t0x83\n#define\tPACKET3_INCREMENT_CE_COUNTER\t\t\t0x84\n#define\tPACKET3_INCREMENT_DE_COUNTER\t\t\t0x85\n#define\tPACKET3_WAIT_ON_CE_COUNTER\t\t\t0x86\n#define\tPACKET3_WAIT_ON_DE_COUNTER_DIFF\t\t\t0x88\n#define\tPACKET3_SWITCH_BUFFER\t\t\t\t0x8B\n#define\tPACKET3_DISPATCH_DRAW_PREAMBLE\t\t\t0x8C\n#define\tPACKET3_DISPATCH_DRAW_PREAMBLE_ACE\t\t0x8C\n#define\tPACKET3_DISPATCH_DRAW\t\t\t\t0x8D\n#define\tPACKET3_DISPATCH_DRAW_ACE\t\t\t0x8D\n#define\tPACKET3_GET_LOD_STATS\t\t\t\t0x8E\n#define\tPACKET3_DRAW_MULTI_PREAMBLE\t\t\t0x8F\n#define\tPACKET3_FRAME_CONTROL\t\t\t\t0x90\n#\t\t\tdefine FRAME_TMZ\t(1 << 0)\n#\t\t\tdefine FRAME_CMD(x) ((x) << 28)\n\t\t\t \n#define\tPACKET3_INDEX_ATTRIBUTES_INDIRECT\t\t0x91\n#define\tPACKET3_WAIT_REG_MEM64\t\t\t\t0x93\n#define\tPACKET3_COND_PREEMPT\t\t\t\t0x94\n#define\tPACKET3_HDP_FLUSH\t\t\t\t0x95\n#define\tPACKET3_COPY_DATA_RB\t\t\t\t0x96\n#define\tPACKET3_INVALIDATE_TLBS\t\t\t\t0x98\n#              define PACKET3_INVALIDATE_TLBS_DST_SEL(x)     ((x) << 0)\n#              define PACKET3_INVALIDATE_TLBS_ALL_HUB(x)     ((x) << 4)\n#              define PACKET3_INVALIDATE_TLBS_PASID(x)       ((x) << 5)\n#define\tPACKET3_AQL_PACKET\t\t\t\t0x99\n#define\tPACKET3_DMA_DATA_FILL_MULTI\t\t\t0x9A\n#define\tPACKET3_SET_SH_REG_INDEX\t\t\t0x9B\n#define\tPACKET3_DRAW_INDIRECT_COUNT_MULTI\t\t0x9C\n#define\tPACKET3_DRAW_INDEX_INDIRECT_COUNT_MULTI\t\t0x9D\n#define\tPACKET3_DUMP_CONST_RAM_OFFSET\t\t\t0x9E\n#define\tPACKET3_LOAD_CONTEXT_REG_INDEX\t\t\t0x9F\n#define\tPACKET3_SET_RESOURCES\t\t\t\t0xA0\n \n#              define PACKET3_SET_RESOURCES_VMID_MASK(x)     ((x) << 0)\n#              define PACKET3_SET_RESOURCES_UNMAP_LATENTY(x) ((x) << 16)\n#              define PACKET3_SET_RESOURCES_QUEUE_TYPE(x)    ((x) << 29)\n#define PACKET3_MAP_PROCESS\t\t\t\t0xA1\n#define PACKET3_MAP_QUEUES\t\t\t\t0xA2\n \n \n#              define PACKET3_MAP_QUEUES_QUEUE_SEL(x)       ((x) << 4)\n#              define PACKET3_MAP_QUEUES_VMID(x)            ((x) << 8)\n#              define PACKET3_MAP_QUEUES_QUEUE(x)           ((x) << 13)\n#              define PACKET3_MAP_QUEUES_PIPE(x)            ((x) << 16)\n#              define PACKET3_MAP_QUEUES_ME(x)              ((x) << 18)\n#              define PACKET3_MAP_QUEUES_QUEUE_TYPE(x)      ((x) << 21)\n#              define PACKET3_MAP_QUEUES_ALLOC_FORMAT(x)    ((x) << 24)\n#              define PACKET3_MAP_QUEUES_ENGINE_SEL(x)      ((x) << 26)\n#              define PACKET3_MAP_QUEUES_NUM_QUEUES(x)      ((x) << 29)\n \n#              define PACKET3_MAP_QUEUES_CHECK_DISABLE(x)   ((x) << 1)\n#              define PACKET3_MAP_QUEUES_DOORBELL_OFFSET(x) ((x) << 2)\n#define\tPACKET3_UNMAP_QUEUES\t\t\t\t0xA3\n \n \n#              define PACKET3_UNMAP_QUEUES_ACTION(x)           ((x) << 0)\n\t\t \n#              define PACKET3_UNMAP_QUEUES_QUEUE_SEL(x)        ((x) << 4)\n#              define PACKET3_UNMAP_QUEUES_ENGINE_SEL(x)       ((x) << 26)\n#              define PACKET3_UNMAP_QUEUES_NUM_QUEUES(x)       ((x) << 29)\n \n#              define PACKET3_UNMAP_QUEUES_PASID(x)            ((x) << 0)\n \n#              define PACKET3_UNMAP_QUEUES_DOORBELL_OFFSET0(x) ((x) << 2)\n \n#              define PACKET3_UNMAP_QUEUES_DOORBELL_OFFSET1(x) ((x) << 2)\n \n#              define PACKET3_UNMAP_QUEUES_RB_WPTR(x)          ((x) << 0)\n \n#              define PACKET3_UNMAP_QUEUES_DOORBELL_OFFSET2(x) ((x) << 2)\n \n#              define PACKET3_UNMAP_QUEUES_DOORBELL_OFFSET3(x) ((x) << 2)\n#define\tPACKET3_QUERY_STATUS\t\t\t\t0xA4\n \n \n#              define PACKET3_QUERY_STATUS_CONTEXT_ID(x)       ((x) << 0)\n#              define PACKET3_QUERY_STATUS_INTERRUPT_SEL(x)    ((x) << 28)\n#              define PACKET3_QUERY_STATUS_COMMAND(x)          ((x) << 30)\n \n#              define PACKET3_QUERY_STATUS_PASID(x)            ((x) << 0)\n \n#              define PACKET3_QUERY_STATUS_DOORBELL_OFFSET(x)  ((x) << 2)\n#              define PACKET3_QUERY_STATUS_ENG_SEL(x)          ((x) << 25)\n#define\tPACKET3_RUN_LIST\t\t\t\t0xA5\n#define\tPACKET3_MAP_PROCESS_VM\t\t\t\t0xA6\n \n#define\tPACKET3_SET_Q_PREEMPTION_MODE\t\t\t0xF0\n#              define PACKET3_SET_Q_PREEMPTION_MODE_IB_VMID(x)  ((x) << 0)\n#              define PACKET3_SET_Q_PREEMPTION_MODE_INIT_SHADOW_MEM    (1 << 0)\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}