{
  "module_name": "mmsch_v3_0.h",
  "hash_id": "520d93b5c077c7ba6b82ec6cb820eb6a140c2efab6e4c68e1b8bd8b67610f00e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/amdgpu/mmsch_v3_0.h",
  "human_readable_source": " \n\n#ifndef __MMSCH_V3_0_H__\n#define __MMSCH_V3_0_H__\n\n#include \"amdgpu_vcn.h\"\n\n#define MMSCH_VERSION_MAJOR\t3\n#define MMSCH_VERSION_MINOR\t0\n#define MMSCH_VERSION\t(MMSCH_VERSION_MAJOR << 16 | MMSCH_VERSION_MINOR)\n\n#define MMSCH_V3_0_VCN_INSTANCES 0x2\n\nenum mmsch_v3_0_command_type {\n\tMMSCH_COMMAND__DIRECT_REG_WRITE = 0,\n\tMMSCH_COMMAND__DIRECT_REG_POLLING = 2,\n\tMMSCH_COMMAND__DIRECT_REG_READ_MODIFY_WRITE = 3,\n\tMMSCH_COMMAND__INDIRECT_REG_WRITE = 8,\n\tMMSCH_COMMAND__END = 0xf\n};\n\nstruct mmsch_v3_0_table_info {\n\tuint32_t init_status;\n\tuint32_t table_offset;\n\tuint32_t table_size;\n};\n\nstruct mmsch_v3_0_init_header {\n\tuint32_t version;\n\tuint32_t total_size;\n\tstruct mmsch_v3_0_table_info inst[MMSCH_V3_0_VCN_INSTANCES];\n};\n\nstruct mmsch_v3_0_cmd_direct_reg_header {\n\tuint32_t reg_offset   : 28;\n\tuint32_t command_type : 4;\n};\n\nstruct mmsch_v3_0_cmd_indirect_reg_header {\n\tuint32_t reg_offset    : 20;\n\tuint32_t reg_idx_space : 8;\n\tuint32_t command_type  : 4;\n};\n\nstruct mmsch_v3_0_cmd_direct_write {\n\tstruct mmsch_v3_0_cmd_direct_reg_header cmd_header;\n\tuint32_t reg_value;\n};\n\nstruct mmsch_v3_0_cmd_direct_read_modify_write {\n\tstruct mmsch_v3_0_cmd_direct_reg_header cmd_header;\n\tuint32_t write_data;\n\tuint32_t mask_value;\n};\n\nstruct mmsch_v3_0_cmd_direct_polling {\n\tstruct mmsch_v3_0_cmd_direct_reg_header cmd_header;\n\tuint32_t mask_value;\n\tuint32_t wait_value;\n};\n\nstruct mmsch_v3_0_cmd_end {\n\tstruct mmsch_v3_0_cmd_direct_reg_header cmd_header;\n};\n\nstruct mmsch_v3_0_cmd_indirect_write {\n\tstruct mmsch_v3_0_cmd_indirect_reg_header cmd_header;\n\tuint32_t reg_value;\n};\n\n#define MMSCH_V3_0_INSERT_DIRECT_RD_MOD_WT(reg, mask, data) { \\\n\tsize = sizeof(struct mmsch_v3_0_cmd_direct_read_modify_write); \\\n\tsize_dw = size / 4; \\\n\tdirect_rd_mod_wt.cmd_header.reg_offset = reg; \\\n\tdirect_rd_mod_wt.mask_value = mask; \\\n\tdirect_rd_mod_wt.write_data = data; \\\n\tmemcpy((void *)table_loc, &direct_rd_mod_wt, size); \\\n\ttable_loc += size_dw; \\\n\ttable_size += size_dw; \\\n}\n\n#define MMSCH_V3_0_INSERT_DIRECT_WT(reg, value) { \\\n\tsize = sizeof(struct mmsch_v3_0_cmd_direct_write); \\\n\tsize_dw = size / 4; \\\n\tdirect_wt.cmd_header.reg_offset = reg; \\\n\tdirect_wt.reg_value = value; \\\n\tmemcpy((void *)table_loc, &direct_wt, size); \\\n\ttable_loc += size_dw; \\\n\ttable_size += size_dw; \\\n}\n\n#define MMSCH_V3_0_INSERT_DIRECT_POLL(reg, mask, wait) { \\\n\tsize = sizeof(struct mmsch_v3_0_cmd_direct_polling); \\\n\tsize_dw = size / 4; \\\n\tdirect_poll.cmd_header.reg_offset = reg; \\\n\tdirect_poll.mask_value = mask; \\\n\tdirect_poll.wait_value = wait; \\\n\tmemcpy((void *)table_loc, &direct_poll, size); \\\n\ttable_loc += size_dw; \\\n\ttable_size += size_dw; \\\n}\n\n#define MMSCH_V3_0_INSERT_END() { \\\n\tsize = sizeof(struct mmsch_v3_0_cmd_end); \\\n\tsize_dw = size / 4; \\\n\tmemcpy((void *)table_loc, &end, size); \\\n\ttable_loc += size_dw; \\\n\ttable_size += size_dw; \\\n}\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}