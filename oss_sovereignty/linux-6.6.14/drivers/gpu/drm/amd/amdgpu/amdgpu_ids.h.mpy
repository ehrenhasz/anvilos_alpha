{
  "module_name": "amdgpu_ids.h",
  "hash_id": "9079abdaadb1d28f46446114f7c6545c0b8643e4032be2230e88c2f4e15ec8c7",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/amdgpu/amdgpu_ids.h",
  "human_readable_source": " \n#ifndef __AMDGPU_IDS_H__\n#define __AMDGPU_IDS_H__\n\n#include <linux/types.h>\n#include <linux/mutex.h>\n#include <linux/list.h>\n#include <linux/dma-fence.h>\n\n#include \"amdgpu_sync.h\"\n\n \n#define AMDGPU_NUM_VMID\t16\n\nstruct amdgpu_device;\nstruct amdgpu_vm;\nstruct amdgpu_ring;\nstruct amdgpu_sync;\nstruct amdgpu_job;\n\nstruct amdgpu_vmid {\n\tstruct list_head\tlist;\n\tstruct amdgpu_sync\tactive;\n\tstruct dma_fence\t*last_flush;\n\tuint64_t\t\towner;\n\n\tuint64_t\t\tpd_gpu_addr;\n\t \n\tuint64_t\t\tflushed_updates;\n\n\tuint32_t                current_gpu_reset_count;\n\n\tuint32_t\t\tgds_base;\n\tuint32_t\t\tgds_size;\n\tuint32_t\t\tgws_base;\n\tuint32_t\t\tgws_size;\n\tuint32_t\t\toa_base;\n\tuint32_t\t\toa_size;\n\n\tunsigned\t\tpasid;\n\tstruct dma_fence\t*pasid_mapping;\n};\n\nstruct amdgpu_vmid_mgr {\n\tstruct mutex\t\tlock;\n\tunsigned\t\tnum_ids;\n\tstruct list_head\tids_lru;\n\tstruct amdgpu_vmid\tids[AMDGPU_NUM_VMID];\n\tstruct amdgpu_vmid\t*reserved;\n\tunsigned int\t\treserved_use_count;\n};\n\nint amdgpu_pasid_alloc(unsigned int bits);\nvoid amdgpu_pasid_free(u32 pasid);\nvoid amdgpu_pasid_free_delayed(struct dma_resv *resv,\n\t\t\t       u32 pasid);\n\nbool amdgpu_vmid_had_gpu_reset(struct amdgpu_device *adev,\n\t\t\t       struct amdgpu_vmid *id);\nint amdgpu_vmid_alloc_reserved(struct amdgpu_device *adev,\n\t\t\t\tunsigned vmhub);\nvoid amdgpu_vmid_free_reserved(struct amdgpu_device *adev,\n\t\t\t\tunsigned vmhub);\nint amdgpu_vmid_grab(struct amdgpu_vm *vm, struct amdgpu_ring *ring,\n\t\t     struct amdgpu_job *job, struct dma_fence **fence);\nvoid amdgpu_vmid_reset(struct amdgpu_device *adev, unsigned vmhub,\n\t\t       unsigned vmid);\nvoid amdgpu_vmid_reset_all(struct amdgpu_device *adev);\n\nvoid amdgpu_vmid_mgr_init(struct amdgpu_device *adev);\nvoid amdgpu_vmid_mgr_fini(struct amdgpu_device *adev);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}