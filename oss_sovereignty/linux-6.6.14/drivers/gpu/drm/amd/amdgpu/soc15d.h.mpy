{
  "module_name": "soc15d.h",
  "hash_id": "5973a71679aa5f454c8b70b46d53196e213c1cd31ea2c68bfb04d8c7bae4757d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/amdgpu/soc15d.h",
  "human_readable_source": " \n#ifndef SOC15_H\n#define SOC15_H\n\n#define GFX9_NUM_GFX_RINGS     1\n#define GFX9_NUM_COMPUTE_RINGS 8\n\n \n#define\tPACKET_TYPE0\t0\n#define\tPACKET_TYPE1\t1\n#define\tPACKET_TYPE2\t2\n#define\tPACKET_TYPE3\t3\n\n#define CP_PACKET_GET_TYPE(h) (((h) >> 30) & 3)\n#define CP_PACKET_GET_COUNT(h) (((h) >> 16) & 0x3FFF)\n#define CP_PACKET0_GET_REG(h) ((h) & 0xFFFF)\n#define CP_PACKET3_GET_OPCODE(h) (((h) >> 8) & 0xFF)\n#define PACKET0(reg, n)\t((PACKET_TYPE0 << 30) |\t\t\t\t\\\n\t\t\t ((reg) & 0xFFFF) |\t\t\t\\\n\t\t\t ((n) & 0x3FFF) << 16)\n#define CP_PACKET2\t\t\t0x80000000\n#define\t\tPACKET2_PAD_SHIFT\t\t0\n#define\t\tPACKET2_PAD_MASK\t\t(0x3fffffff << 0)\n\n#define PACKET2(v)\t(CP_PACKET2 | REG_SET(PACKET2_PAD, (v)))\n\n#define PACKET3(op, n)\t((PACKET_TYPE3 << 30) |\t\t\t\t\\\n\t\t\t (((op) & 0xFF) << 8) |\t\t\t\t\\\n\t\t\t ((n) & 0x3FFF) << 16)\n\n#define PACKET3_COMPUTE(op, n) (PACKET3(op, n) | 1 << 1)\n\n#define\tPACKETJ_CONDITION_CHECK0\t0\n#define\tPACKETJ_CONDITION_CHECK1\t1\n#define\tPACKETJ_CONDITION_CHECK2\t2\n#define\tPACKETJ_CONDITION_CHECK3\t3\n#define\tPACKETJ_CONDITION_CHECK4\t4\n#define\tPACKETJ_CONDITION_CHECK5\t5\n#define\tPACKETJ_CONDITION_CHECK6\t6\n#define\tPACKETJ_CONDITION_CHECK7\t7\n\n#define\tPACKETJ_TYPE0\t0\n#define\tPACKETJ_TYPE1\t1\n#define\tPACKETJ_TYPE2\t2\n#define\tPACKETJ_TYPE3\t3\n#define\tPACKETJ_TYPE4\t4\n#define\tPACKETJ_TYPE5\t5\n#define\tPACKETJ_TYPE6\t6\n#define\tPACKETJ_TYPE7\t7\n\n#define PACKETJ(reg, r, cond, type)\t((reg & 0x3FFFF) |\t\t\t\\\n\t\t\t ((r & 0x3F) << 18) |\t\t\t\\\n\t\t\t ((cond & 0xF) << 24) |\t\t\t\t\\\n\t\t\t ((type & 0xF) << 28))\n\n \n#define\tPACKET3_NOP\t\t\t\t\t0x10\n#define\tPACKET3_SET_BASE\t\t\t\t0x11\n#define\t\tPACKET3_BASE_INDEX(x)                  ((x) << 0)\n#define\t\t\tCE_PARTITION_BASE\t\t3\n#define\tPACKET3_CLEAR_STATE\t\t\t\t0x12\n#define\tPACKET3_INDEX_BUFFER_SIZE\t\t\t0x13\n#define\tPACKET3_DISPATCH_DIRECT\t\t\t\t0x15\n#define\tPACKET3_DISPATCH_INDIRECT\t\t\t0x16\n#define\tPACKET3_ATOMIC_GDS\t\t\t\t0x1D\n#define\tPACKET3_ATOMIC_MEM\t\t\t\t0x1E\n#define\tPACKET3_OCCLUSION_QUERY\t\t\t\t0x1F\n#define\tPACKET3_SET_PREDICATION\t\t\t\t0x20\n#define\tPACKET3_REG_RMW\t\t\t\t\t0x21\n#define\tPACKET3_COND_EXEC\t\t\t\t0x22\n#define\tPACKET3_PRED_EXEC\t\t\t\t0x23\n#define\tPACKET3_DRAW_INDIRECT\t\t\t\t0x24\n#define\tPACKET3_DRAW_INDEX_INDIRECT\t\t\t0x25\n#define\tPACKET3_INDEX_BASE\t\t\t\t0x26\n#define\tPACKET3_DRAW_INDEX_2\t\t\t\t0x27\n#define\tPACKET3_CONTEXT_CONTROL\t\t\t\t0x28\n#define\tPACKET3_INDEX_TYPE\t\t\t\t0x2A\n#define\tPACKET3_DRAW_INDIRECT_MULTI\t\t\t0x2C\n#define\tPACKET3_DRAW_INDEX_AUTO\t\t\t\t0x2D\n#define\tPACKET3_NUM_INSTANCES\t\t\t\t0x2F\n#define\tPACKET3_DRAW_INDEX_MULTI_AUTO\t\t\t0x30\n#define\tPACKET3_INDIRECT_BUFFER_CONST\t\t\t0x33\n#define\tPACKET3_STRMOUT_BUFFER_UPDATE\t\t\t0x34\n#define\tPACKET3_DRAW_INDEX_OFFSET_2\t\t\t0x35\n#define\tPACKET3_DRAW_PREAMBLE\t\t\t\t0x36\n#define\tPACKET3_WRITE_DATA\t\t\t\t0x37\n#define\t\tWRITE_DATA_DST_SEL(x)                   ((x) << 8)\n\t\t \n#define\t\tWR_ONE_ADDR                             (1 << 16)\n#define\t\tWR_CONFIRM                              (1 << 20)\n#define\t\tWRITE_DATA_CACHE_POLICY(x)              ((x) << 25)\n\t\t \n#define\t\tWRITE_DATA_ENGINE_SEL(x)                ((x) << 30)\n\t\t \n#define\tPACKET3_DRAW_INDEX_INDIRECT_MULTI\t\t0x38\n#define\tPACKET3_MEM_SEMAPHORE\t\t\t\t0x39\n#              define PACKET3_SEM_USE_MAILBOX       (0x1 << 16)\n#              define PACKET3_SEM_SEL_SIGNAL_TYPE   (0x1 << 20)  \n#              define PACKET3_SEM_SEL_SIGNAL\t    (0x6 << 29)\n#              define PACKET3_SEM_SEL_WAIT\t    (0x7 << 29)\n#define\tPACKET3_WAIT_REG_MEM\t\t\t\t0x3C\n#define\t\tWAIT_REG_MEM_FUNCTION(x)                ((x) << 0)\n\t\t \n#define\t\tWAIT_REG_MEM_MEM_SPACE(x)               ((x) << 4)\n\t\t \n#define\t\tWAIT_REG_MEM_OPERATION(x)               ((x) << 6)\n\t\t \n#define\t\tWAIT_REG_MEM_ENGINE(x)                  ((x) << 8)\n\t\t \n#define\tPACKET3_INDIRECT_BUFFER\t\t\t\t0x3F\n#define\t\tINDIRECT_BUFFER_VALID                   (1 << 23)\n#define\t\tINDIRECT_BUFFER_CACHE_POLICY(x)         ((x) << 28)\n\t\t \n#define     INDIRECT_BUFFER_PRE_ENB(x)\t\t ((x) << 21)\n#define     INDIRECT_BUFFER_PRE_RESUME(x)               ((x) << 30)\n#define\tPACKET3_COPY_DATA\t\t\t\t0x40\n#define\tPACKET3_PFP_SYNC_ME\t\t\t\t0x42\n#define\tPACKET3_COND_WRITE\t\t\t\t0x45\n#define\tPACKET3_EVENT_WRITE\t\t\t\t0x46\n#define\t\tEVENT_TYPE(x)                           ((x) << 0)\n#define\t\tEVENT_INDEX(x)                          ((x) << 8)\n\t\t \n#define\tPACKET3_RELEASE_MEM\t\t\t\t0x49\n#define\t\tEVENT_TYPE(x)                           ((x) << 0)\n#define\t\tEVENT_INDEX(x)                          ((x) << 8)\n#define\t\tEOP_TCL1_VOL_ACTION_EN                  (1 << 12)\n#define\t\tEOP_TC_VOL_ACTION_EN                    (1 << 13)  \n#define\t\tEOP_TC_WB_ACTION_EN                     (1 << 15)  \n#define\t\tEOP_TCL1_ACTION_EN                      (1 << 16)\n#define\t\tEOP_TC_ACTION_EN                        (1 << 17)  \n#define\t\tEOP_TC_NC_ACTION_EN\t\t\t(1 << 19)\n#define\t\tEOP_TC_MD_ACTION_EN\t\t\t(1 << 21)  \n#define\t\tEOP_EXEC\t\t\t\t(1 << 28)  \n\n#define\t\tDATA_SEL(x)                             ((x) << 29)\n\t\t \n#define\t\tINT_SEL(x)                              ((x) << 24)\n\t\t \n#define\t\tDST_SEL(x)                              ((x) << 16)\n\t\t \n\n\n\n#define\tPACKET3_PREAMBLE_CNTL\t\t\t\t0x4A\n#              define PACKET3_PREAMBLE_BEGIN_CLEAR_STATE     (2 << 28)\n#              define PACKET3_PREAMBLE_END_CLEAR_STATE       (3 << 28)\n#define\tPACKET3_DMA_DATA\t\t\t\t0x50\n \n \n#              define PACKET3_DMA_DATA_ENGINE(x)     ((x) << 0)\n\t\t \n#              define PACKET3_DMA_DATA_SRC_CACHE_POLICY(x) ((x) << 13)\n\t\t \n#              define PACKET3_DMA_DATA_DST_SEL(x)  ((x) << 20)\n\t\t \n#              define PACKET3_DMA_DATA_DST_CACHE_POLICY(x) ((x) << 25)\n\t\t \n#              define PACKET3_DMA_DATA_SRC_SEL(x)  ((x) << 29)\n\t\t \n#              define PACKET3_DMA_DATA_CP_SYNC     (1 << 31)\n \n#              define PACKET3_DMA_DATA_CMD_SAS     (1 << 26)\n\t\t \n#              define PACKET3_DMA_DATA_CMD_DAS     (1 << 27)\n\t\t \n#              define PACKET3_DMA_DATA_CMD_SAIC    (1 << 28)\n#              define PACKET3_DMA_DATA_CMD_DAIC    (1 << 29)\n#              define PACKET3_DMA_DATA_CMD_RAW_WAIT  (1 << 30)\n#define\tPACKET3_ACQUIRE_MEM\t\t\t\t0x58\n \n \n#define \tPACKET3_ACQUIRE_MEM_CP_COHER_CNTL_TC_NC_ACTION_ENA(x) ((x) << 3)\n#define \tPACKET3_ACQUIRE_MEM_CP_COHER_CNTL_TC_WC_ACTION_ENA(x) ((x) << 4)\n#define \tPACKET3_ACQUIRE_MEM_CP_COHER_CNTL_TC_INV_METADATA_ACTION_ENA(x) ((x) << 5)\n#define \tPACKET3_ACQUIRE_MEM_CP_COHER_CNTL_TCL1_VOL_ACTION_ENA(x) ((x) << 15)\n#define \tPACKET3_ACQUIRE_MEM_CP_COHER_CNTL_TC_WB_ACTION_ENA(x) ((x) << 18)\n#define \tPACKET3_ACQUIRE_MEM_CP_COHER_CNTL_TCL1_ACTION_ENA(x) ((x) << 22)\n#define \tPACKET3_ACQUIRE_MEM_CP_COHER_CNTL_TC_ACTION_ENA(x) ((x) << 23)\n#define \tPACKET3_ACQUIRE_MEM_CP_COHER_CNTL_CB_ACTION_ENA(x) ((x) << 25)\n#define \tPACKET3_ACQUIRE_MEM_CP_COHER_CNTL_DB_ACTION_ENA(x) ((x) << 26)\n#define \tPACKET3_ACQUIRE_MEM_CP_COHER_CNTL_SH_KCACHE_ACTION_ENA(x) ((x) << 27)\n#define \tPACKET3_ACQUIRE_MEM_CP_COHER_CNTL_SH_KCACHE_VOL_ACTION_ENA(x) ((x) << 28)\n#define \tPACKET3_ACQUIRE_MEM_CP_COHER_CNTL_SH_ICACHE_ACTION_ENA(x) ((x) << 29)\n#define \tPACKET3_ACQUIRE_MEM_CP_COHER_CNTL_SH_KCACHE_WB_ACTION_ENA(x) ((x) << 30)\n#define\tPACKET3_REWIND\t\t\t\t\t0x59\n#define\tPACKET3_LOAD_UCONFIG_REG\t\t\t0x5E\n#define\tPACKET3_LOAD_SH_REG\t\t\t\t0x5F\n#define\tPACKET3_LOAD_CONFIG_REG\t\t\t\t0x60\n#define\tPACKET3_LOAD_CONTEXT_REG\t\t\t0x61\n#define\tPACKET3_SET_CONFIG_REG\t\t\t\t0x68\n#define\t\tPACKET3_SET_CONFIG_REG_START\t\t\t0x00002000\n#define\t\tPACKET3_SET_CONFIG_REG_END\t\t\t0x00002c00\n#define\tPACKET3_SET_CONTEXT_REG\t\t\t\t0x69\n#define\t\tPACKET3_SET_CONTEXT_REG_START\t\t\t0x0000a000\n#define\t\tPACKET3_SET_CONTEXT_REG_END\t\t\t0x0000a400\n#define\tPACKET3_SET_CONTEXT_REG_INDIRECT\t\t0x73\n#define\tPACKET3_SET_SH_REG\t\t\t\t0x76\n#define\t\tPACKET3_SET_SH_REG_START\t\t\t0x00002c00\n#define\t\tPACKET3_SET_SH_REG_END\t\t\t\t0x00003000\n#define\tPACKET3_SET_SH_REG_OFFSET\t\t\t0x77\n#define\tPACKET3_SET_QUEUE_REG\t\t\t\t0x78\n#define\tPACKET3_SET_UCONFIG_REG\t\t\t\t0x79\n#define\t\tPACKET3_SET_UCONFIG_REG_START\t\t\t0x0000c000\n#define\t\tPACKET3_SET_UCONFIG_REG_END\t\t\t0x0000c400\n#define\t\tPACKET3_SET_UCONFIG_REG_INDEX_TYPE\t\t(2 << 28)\n#define\tPACKET3_SCRATCH_RAM_WRITE\t\t\t0x7D\n#define\tPACKET3_SCRATCH_RAM_READ\t\t\t0x7E\n#define\tPACKET3_LOAD_CONST_RAM\t\t\t\t0x80\n#define\tPACKET3_WRITE_CONST_RAM\t\t\t\t0x81\n#define\tPACKET3_DUMP_CONST_RAM\t\t\t\t0x83\n#define\tPACKET3_INCREMENT_CE_COUNTER\t\t\t0x84\n#define\tPACKET3_INCREMENT_DE_COUNTER\t\t\t0x85\n#define\tPACKET3_WAIT_ON_CE_COUNTER\t\t\t0x86\n#define\tPACKET3_WAIT_ON_DE_COUNTER_DIFF\t\t\t0x88\n#define\tPACKET3_SWITCH_BUFFER\t\t\t\t0x8B\n#define PACKET3_FRAME_CONTROL\t\t\t\t0x90\n#\t\t\tdefine FRAME_TMZ\t(1 << 0)\n#\t\t\tdefine FRAME_CMD(x) ((x) << 28)\n\t\t\t \n\n#define\tPACKET3_INVALIDATE_TLBS\t\t\t\t0x98\n#              define PACKET3_INVALIDATE_TLBS_DST_SEL(x)     ((x) << 0)\n#              define PACKET3_INVALIDATE_TLBS_ALL_HUB(x)     ((x) << 4)\n#              define PACKET3_INVALIDATE_TLBS_PASID(x)       ((x) << 5)\n#              define PACKET3_INVALIDATE_TLBS_FLUSH_TYPE(x)  ((x) << 29)\n#define PACKET3_SET_RESOURCES\t\t\t\t0xA0\n \n#              define PACKET3_SET_RESOURCES_VMID_MASK(x)     ((x) << 0)\n#              define PACKET3_SET_RESOURCES_UNMAP_LATENTY(x) ((x) << 16)\n#              define PACKET3_SET_RESOURCES_QUEUE_TYPE(x)    ((x) << 29)\n#define PACKET3_MAP_QUEUES\t\t\t\t0xA2\n \n \n#              define PACKET3_MAP_QUEUES_QUEUE_SEL(x)       ((x) << 4)\n#              define PACKET3_MAP_QUEUES_VMID(x)            ((x) << 8)\n#              define PACKET3_MAP_QUEUES_QUEUE(x)           ((x) << 13)\n#              define PACKET3_MAP_QUEUES_PIPE(x)            ((x) << 16)\n#              define PACKET3_MAP_QUEUES_ME(x)              ((x) << 18)\n#              define PACKET3_MAP_QUEUES_QUEUE_TYPE(x)      ((x) << 21)\n#              define PACKET3_MAP_QUEUES_ALLOC_FORMAT(x)    ((x) << 24)\n#              define PACKET3_MAP_QUEUES_ENGINE_SEL(x)      ((x) << 26)\n#              define PACKET3_MAP_QUEUES_NUM_QUEUES(x)      ((x) << 29)\n \n#              define PACKET3_MAP_QUEUES_CHECK_DISABLE(x)   ((x) << 1)\n#              define PACKET3_MAP_QUEUES_DOORBELL_OFFSET(x) ((x) << 2)\n#define\tPACKET3_UNMAP_QUEUES\t\t\t\t0xA3\n \n \n#              define PACKET3_UNMAP_QUEUES_ACTION(x)           ((x) << 0)\n\t\t \n#              define PACKET3_UNMAP_QUEUES_QUEUE_SEL(x)        ((x) << 4)\n#              define PACKET3_UNMAP_QUEUES_ENGINE_SEL(x)       ((x) << 26)\n#              define PACKET3_UNMAP_QUEUES_NUM_QUEUES(x)       ((x) << 29)\n \n#              define PACKET3_UNMAP_QUEUES_PASID(x)            ((x) << 0)\n \n#              define PACKET3_UNMAP_QUEUES_DOORBELL_OFFSET0(x) ((x) << 2)\n \n#              define PACKET3_UNMAP_QUEUES_DOORBELL_OFFSET1(x) ((x) << 2)\n \n#              define PACKET3_UNMAP_QUEUES_RB_WPTR(x)          ((x) << 0)\n \n#              define PACKET3_UNMAP_QUEUES_DOORBELL_OFFSET2(x) ((x) << 2)\n \n#              define PACKET3_UNMAP_QUEUES_DOORBELL_OFFSET3(x) ((x) << 2)\n#define\tPACKET3_QUERY_STATUS\t\t\t\t0xA4\n \n \n#              define PACKET3_QUERY_STATUS_CONTEXT_ID(x)       ((x) << 0)\n#              define PACKET3_QUERY_STATUS_INTERRUPT_SEL(x)    ((x) << 28)\n#              define PACKET3_QUERY_STATUS_COMMAND(x)          ((x) << 30)\n \n#              define PACKET3_QUERY_STATUS_PASID(x)            ((x) << 0)\n \n#              define PACKET3_QUERY_STATUS_DOORBELL_OFFSET(x)  ((x) << 2)\n#              define PACKET3_QUERY_STATUS_ENG_SEL(x)          ((x) << 25)\n\n\n#define VCE_CMD_NO_OP\t\t0x00000000\n#define VCE_CMD_END\t\t0x00000001\n#define VCE_CMD_IB\t\t0x00000002\n#define VCE_CMD_FENCE\t\t0x00000003\n#define VCE_CMD_TRAP\t\t0x00000004\n#define VCE_CMD_IB_AUTO \t0x00000005\n#define VCE_CMD_SEMAPHORE\t0x00000006\n\n#define VCE_CMD_IB_VM           0x00000102\n#define VCE_CMD_WAIT_GE         0x00000106\n#define VCE_CMD_UPDATE_PTB      0x00000107\n#define VCE_CMD_FLUSH_TLB       0x00000108\n#define VCE_CMD_REG_WRITE       0x00000109\n#define VCE_CMD_REG_WAIT        0x0000010a\n\n#define HEVC_ENC_CMD_NO_OP\t\t0x00000000\n#define HEVC_ENC_CMD_END\t\t0x00000001\n#define HEVC_ENC_CMD_FENCE\t\t0x00000003\n#define HEVC_ENC_CMD_TRAP\t\t0x00000004\n#define HEVC_ENC_CMD_IB_VM\t\t0x00000102\n#define HEVC_ENC_CMD_REG_WRITE\t\t0x00000109\n#define HEVC_ENC_CMD_REG_WAIT\t\t0x0000010a\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}