{
  "module_name": "amdgpu_bo_list.h",
  "hash_id": "4f964f43950d634372581cec0eb5174d04da480f21a4d8e482c4f328da03d68a",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/amdgpu/amdgpu_bo_list.h",
  "human_readable_source": " \n#ifndef __AMDGPU_BO_LIST_H__\n#define __AMDGPU_BO_LIST_H__\n\n#include <drm/amdgpu_drm.h>\n\nstruct hmm_range;\n\nstruct drm_file;\n\nstruct amdgpu_device;\nstruct amdgpu_bo;\nstruct amdgpu_bo_va;\nstruct amdgpu_fpriv;\n\nstruct amdgpu_bo_list_entry {\n\tstruct amdgpu_bo\t\t*bo;\n\tstruct amdgpu_bo_va\t\t*bo_va;\n\tuint32_t\t\t\tpriority;\n\tstruct page\t\t\t**user_pages;\n\tstruct hmm_range\t\t*range;\n\tbool\t\t\t\tuser_invalidated;\n};\n\nstruct amdgpu_bo_list {\n\tstruct rcu_head rhead;\n\tstruct kref refcount;\n\tstruct amdgpu_bo *gds_obj;\n\tstruct amdgpu_bo *gws_obj;\n\tstruct amdgpu_bo *oa_obj;\n\tunsigned first_userptr;\n\tunsigned num_entries;\n\n\t \n\tstruct mutex bo_list_mutex;\n};\n\nint amdgpu_bo_list_get(struct amdgpu_fpriv *fpriv, int id,\n\t\t       struct amdgpu_bo_list **result);\nvoid amdgpu_bo_list_put(struct amdgpu_bo_list *list);\nint amdgpu_bo_create_list_entry_array(struct drm_amdgpu_bo_list_in *in,\n\t\t\t\t      struct drm_amdgpu_bo_list_entry **info_param);\n\nint amdgpu_bo_list_create(struct amdgpu_device *adev,\n\t\t\t\t struct drm_file *filp,\n\t\t\t\t struct drm_amdgpu_bo_list_entry *info,\n\t\t\t\t size_t num_entries,\n\t\t\t\t struct amdgpu_bo_list **list);\n\nstatic inline struct amdgpu_bo_list_entry *\namdgpu_bo_list_array_entry(struct amdgpu_bo_list *list, unsigned index)\n{\n\tstruct amdgpu_bo_list_entry *array = (void *)&list[1];\n\n\treturn &array[index];\n}\n\n#define amdgpu_bo_list_for_each_entry(e, list) \\\n\tfor (e = amdgpu_bo_list_array_entry(list, 0); \\\n\t     e != amdgpu_bo_list_array_entry(list, (list)->num_entries); \\\n\t     ++e)\n\n#define amdgpu_bo_list_for_each_userptr_entry(e, list) \\\n\tfor (e = amdgpu_bo_list_array_entry(list, (list)->first_userptr); \\\n\t     e != amdgpu_bo_list_array_entry(list, (list)->num_entries); \\\n\t     ++e)\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}