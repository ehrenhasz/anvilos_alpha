{
  "module_name": "gfx_v9_4.c",
  "hash_id": "455a3471ce99d40a1df1e776abdb5587dc4cef1169ac21831978d055d2689a10",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/amdgpu/gfx_v9_4.c",
  "human_readable_source": " \n\n#include <linux/kernel.h>\n\n#include \"amdgpu.h\"\n#include \"amdgpu_gfx.h\"\n#include \"soc15.h\"\n#include \"soc15d.h\"\n#include \"amdgpu_atomfirmware.h\"\n#include \"amdgpu_pm.h\"\n\n#include \"gc/gc_9_4_1_offset.h\"\n#include \"gc/gc_9_4_1_sh_mask.h\"\n#include \"soc15_common.h\"\n\n#include \"gfx_v9_4.h\"\n#include \"amdgpu_ras.h\"\n\nstatic const struct soc15_reg_entry gfx_v9_4_edc_counter_regs[] = {\n\t \n\t{ SOC15_REG_ENTRY(GC, 0, mmCPC_EDC_SCRATCH_CNT), 0, 1, 1 },\n\t{ SOC15_REG_ENTRY(GC, 0, mmCPC_EDC_UCODE_CNT), 0, 1, 1 },\n\t \n\t{ SOC15_REG_ENTRY(GC, 0, mmDC_EDC_STATE_CNT), 0, 1, 1 },\n\t{ SOC15_REG_ENTRY(GC, 0, mmDC_EDC_CSINVOC_CNT), 0, 1, 1 },\n\t{ SOC15_REG_ENTRY(GC, 0, mmDC_EDC_RESTORE_CNT), 0, 1, 1 },\n\t \n\t{ SOC15_REG_ENTRY(GC, 0, mmCPF_EDC_ROQ_CNT), 0, 1, 1 },\n\t{ SOC15_REG_ENTRY(GC, 0, mmCPF_EDC_TAG_CNT), 0, 1, 1 },\n\t \n\t{ SOC15_REG_ENTRY(GC, 0, mmGDS_EDC_CNT), 0, 1, 1 },\n\t{ SOC15_REG_ENTRY(GC, 0, mmGDS_EDC_GRBM_CNT), 0, 1, 1 },\n\t{ SOC15_REG_ENTRY(GC, 0, mmGDS_EDC_OA_DED), 0, 1, 1 },\n\t{ SOC15_REG_ENTRY(GC, 0, mmGDS_EDC_OA_PHY_CNT), 0, 1, 1 },\n\t{ SOC15_REG_ENTRY(GC, 0, mmGDS_EDC_OA_PIPE_CNT), 0, 1, 1 },\n\t \n\t{ SOC15_REG_ENTRY(GC, 0, mmSPI_EDC_CNT), 0, 4, 1 },\n\t \n\t{ SOC15_REG_ENTRY(GC, 0, mmSQ_EDC_CNT), 0, 8, 16 },\n\t{ SOC15_REG_ENTRY(GC, 0, mmSQ_EDC_DED_CNT), 0, 8, 16 },\n\t{ SOC15_REG_ENTRY(GC, 0, mmSQ_EDC_INFO), 0, 8, 16 },\n\t{ SOC15_REG_ENTRY(GC, 0, mmSQ_EDC_SEC_CNT), 0, 8, 16 },\n\t \n\t{ SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_CNT), 0, 4, 6 },\n\t{ SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_CNT2), 0, 4, 6 },\n\t{ SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_CNT3), 0, 4, 6 },\n\t{ SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_PARITY_CNT3), 0, 4, 6 },\n\t \n\t{ SOC15_REG_ENTRY(GC, 0, mmTA_EDC_CNT), 0, 4, 16 },\n\t \n\t{ SOC15_REG_ENTRY(GC, 0, mmTCA_EDC_CNT), 0, 1, 2 },\n\t \n\t{ SOC15_REG_ENTRY(GC, 0, mmTCC_EDC_CNT), 0, 1, 16 },\n\t{ SOC15_REG_ENTRY(GC, 0, mmTCC_EDC_CNT2), 0, 1, 16 },\n\t \n\t{ SOC15_REG_ENTRY(GC, 0, mmTCI_EDC_CNT), 0, 1, 72 },\n\t \n\t{ SOC15_REG_ENTRY(GC, 0, mmTCP_EDC_CNT_NEW), 0, 4, 16 },\n\t{ SOC15_REG_ENTRY(GC, 0, mmTCP_ATC_EDC_GATCL1_CNT), 0, 4, 16 },\n\t{ SOC15_REG_ENTRY(GC, 0, mmTCP_EDC_CNT), 0, 4, 16 },\n\t \n\t{ SOC15_REG_ENTRY(GC, 0, mmTD_EDC_CNT), 0, 4, 16 },\n\t \n\t{ SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT), 0, 1, 32 },\n\t{ SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT2), 0, 1, 32 },\n\t{ SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT3), 0, 1, 32 },\n\t \n\t{ SOC15_REG_ENTRY(GC, 0, mmRLC_EDC_CNT), 0, 1, 1 },\n\t{ SOC15_REG_ENTRY(GC, 0, mmRLC_EDC_CNT2), 0, 1, 1 },\n};\n\nstatic void gfx_v9_4_select_se_sh(struct amdgpu_device *adev, u32 se_num,\n\t\t\t\t  u32 sh_num, u32 instance)\n{\n\tu32 data;\n\n\tif (instance == 0xffffffff)\n\t\tdata = REG_SET_FIELD(0, GRBM_GFX_INDEX,\n\t\t\t\t     INSTANCE_BROADCAST_WRITES, 1);\n\telse\n\t\tdata = REG_SET_FIELD(0, GRBM_GFX_INDEX, INSTANCE_INDEX,\n\t\t\t\t     instance);\n\n\tif (se_num == 0xffffffff)\n\t\tdata = REG_SET_FIELD(data, GRBM_GFX_INDEX, SE_BROADCAST_WRITES,\n\t\t\t\t     1);\n\telse\n\t\tdata = REG_SET_FIELD(data, GRBM_GFX_INDEX, SE_INDEX, se_num);\n\n\tif (sh_num == 0xffffffff)\n\t\tdata = REG_SET_FIELD(data, GRBM_GFX_INDEX, SH_BROADCAST_WRITES,\n\t\t\t\t     1);\n\telse\n\t\tdata = REG_SET_FIELD(data, GRBM_GFX_INDEX, SH_INDEX, sh_num);\n\n\tWREG32_SOC15_RLC_SHADOW(GC, 0, mmGRBM_GFX_INDEX, data);\n}\n\nstatic const struct soc15_ras_field_entry gfx_v9_4_ras_fields[] = {\n\t \n\t{ \"CPC_SCRATCH\", SOC15_REG_ENTRY(GC, 0, mmCPC_EDC_SCRATCH_CNT),\n\t  SOC15_REG_FIELD(CPC_EDC_SCRATCH_CNT, SEC_COUNT),\n\t  SOC15_REG_FIELD(CPC_EDC_SCRATCH_CNT, DED_COUNT) },\n\t{ \"CPC_UCODE\", SOC15_REG_ENTRY(GC, 0, mmCPC_EDC_UCODE_CNT),\n\t  SOC15_REG_FIELD(CPC_EDC_UCODE_CNT, SEC_COUNT),\n\t  SOC15_REG_FIELD(CPC_EDC_UCODE_CNT, DED_COUNT) },\n\t{ \"CPC_DC_STATE_RAM_ME1\", SOC15_REG_ENTRY(GC, 0, mmDC_EDC_STATE_CNT),\n\t  SOC15_REG_FIELD(DC_EDC_STATE_CNT, SEC_COUNT_ME1),\n\t  SOC15_REG_FIELD(DC_EDC_STATE_CNT, DED_COUNT_ME1) },\n\t{ \"CPC_DC_CSINVOC_RAM_ME1\",\n\t  SOC15_REG_ENTRY(GC, 0, mmDC_EDC_CSINVOC_CNT),\n\t  SOC15_REG_FIELD(DC_EDC_CSINVOC_CNT, SEC_COUNT_ME1),\n\t  SOC15_REG_FIELD(DC_EDC_CSINVOC_CNT, DED_COUNT_ME1) },\n\t{ \"CPC_DC_RESTORE_RAM_ME1\",\n\t  SOC15_REG_ENTRY(GC, 0, mmDC_EDC_RESTORE_CNT),\n\t  SOC15_REG_FIELD(DC_EDC_RESTORE_CNT, SEC_COUNT_ME1),\n\t  SOC15_REG_FIELD(DC_EDC_RESTORE_CNT, DED_COUNT_ME1) },\n\t{ \"CPC_DC_CSINVOC_RAM1_ME1\",\n\t  SOC15_REG_ENTRY(GC, 0, mmDC_EDC_CSINVOC_CNT),\n\t  SOC15_REG_FIELD(DC_EDC_CSINVOC_CNT, SEC_COUNT1_ME1),\n\t  SOC15_REG_FIELD(DC_EDC_CSINVOC_CNT, DED_COUNT1_ME1) },\n\t{ \"CPC_DC_RESTORE_RAM1_ME1\",\n\t  SOC15_REG_ENTRY(GC, 0, mmDC_EDC_RESTORE_CNT),\n\t  SOC15_REG_FIELD(DC_EDC_RESTORE_CNT, SEC_COUNT1_ME1),\n\t  SOC15_REG_FIELD(DC_EDC_RESTORE_CNT, DED_COUNT1_ME1) },\n\n\t \n\t{ \"CPF_ROQ_ME2\", SOC15_REG_ENTRY(GC, 0, mmCPF_EDC_ROQ_CNT),\n\t  SOC15_REG_FIELD(CPF_EDC_ROQ_CNT, SEC_COUNT_ME2),\n\t  SOC15_REG_FIELD(CPF_EDC_ROQ_CNT, DED_COUNT_ME2) },\n\t{ \"CPF_ROQ_ME1\", SOC15_REG_ENTRY(GC, 0, mmCPF_EDC_ROQ_CNT),\n\t  SOC15_REG_FIELD(CPF_EDC_ROQ_CNT, SEC_COUNT_ME1),\n\t  SOC15_REG_FIELD(CPF_EDC_ROQ_CNT, DED_COUNT_ME1) },\n\t{ \"CPF_TCIU_TAG\", SOC15_REG_ENTRY(GC, 0, mmCPF_EDC_TAG_CNT),\n\t  SOC15_REG_FIELD(CPF_EDC_TAG_CNT, SEC_COUNT),\n\t  SOC15_REG_FIELD(CPF_EDC_TAG_CNT, DED_COUNT) },\n\n\t \n\t{ \"GDS_GRBM\", SOC15_REG_ENTRY(GC, 0, mmGDS_EDC_GRBM_CNT),\n\t  SOC15_REG_FIELD(GDS_EDC_GRBM_CNT, SEC),\n\t  SOC15_REG_FIELD(GDS_EDC_GRBM_CNT, DED) },\n\t{ \"GDS_MEM\", SOC15_REG_ENTRY(GC, 0, mmGDS_EDC_CNT),\n\t  SOC15_REG_FIELD(GDS_EDC_CNT, GDS_MEM_SEC),\n\t  SOC15_REG_FIELD(GDS_EDC_CNT, GDS_MEM_DED) },\n\t{ \"GDS_PHY_CMD_RAM_MEM\", SOC15_REG_ENTRY(GC, 0, mmGDS_EDC_OA_PHY_CNT),\n\t  SOC15_REG_FIELD(GDS_EDC_OA_PHY_CNT, PHY_CMD_RAM_MEM_SEC),\n\t  SOC15_REG_FIELD(GDS_EDC_OA_PHY_CNT, PHY_CMD_RAM_MEM_DED) },\n\t{ \"GDS_PHY_DATA_RAM_MEM\", SOC15_REG_ENTRY(GC, 0, mmGDS_EDC_OA_PHY_CNT),\n\t  SOC15_REG_FIELD(GDS_EDC_OA_PHY_CNT, PHY_DATA_RAM_MEM_SEC),\n\t  SOC15_REG_FIELD(GDS_EDC_OA_PHY_CNT, PHY_DATA_RAM_MEM_DED) },\n\t{ \"GDS_ME0_CS_PIPE_MEM\", SOC15_REG_ENTRY(GC, 0, mmGDS_EDC_OA_PHY_CNT),\n\t  SOC15_REG_FIELD(GDS_EDC_OA_PHY_CNT, ME0_CS_PIPE_MEM_SEC),\n\t  SOC15_REG_FIELD(GDS_EDC_OA_PHY_CNT, ME0_CS_PIPE_MEM_DED) },\n\t{ \"GDS_ME1_PIPE0_PIPE_MEM\",\n\t  SOC15_REG_ENTRY(GC, 0, mmGDS_EDC_OA_PIPE_CNT),\n\t  SOC15_REG_FIELD(GDS_EDC_OA_PIPE_CNT, ME1_PIPE0_PIPE_MEM_SEC),\n\t  SOC15_REG_FIELD(GDS_EDC_OA_PIPE_CNT, ME1_PIPE0_PIPE_MEM_DED) },\n\t{ \"GDS_ME1_PIPE1_PIPE_MEM\",\n\t  SOC15_REG_ENTRY(GC, 0, mmGDS_EDC_OA_PIPE_CNT),\n\t  SOC15_REG_FIELD(GDS_EDC_OA_PIPE_CNT, ME1_PIPE1_PIPE_MEM_SEC),\n\t  SOC15_REG_FIELD(GDS_EDC_OA_PIPE_CNT, ME1_PIPE1_PIPE_MEM_DED) },\n\t{ \"GDS_ME1_PIPE2_PIPE_MEM\",\n\t  SOC15_REG_ENTRY(GC, 0, mmGDS_EDC_OA_PIPE_CNT),\n\t  SOC15_REG_FIELD(GDS_EDC_OA_PIPE_CNT, ME1_PIPE2_PIPE_MEM_SEC),\n\t  SOC15_REG_FIELD(GDS_EDC_OA_PIPE_CNT, ME1_PIPE2_PIPE_MEM_DED) },\n\t{ \"GDS_ME1_PIPE3_PIPE_MEM\",\n\t  SOC15_REG_ENTRY(GC, 0, mmGDS_EDC_OA_PIPE_CNT),\n\t  SOC15_REG_FIELD(GDS_EDC_OA_PIPE_CNT, ME1_PIPE3_PIPE_MEM_SEC),\n\t  SOC15_REG_FIELD(GDS_EDC_OA_PIPE_CNT, ME1_PIPE3_PIPE_MEM_DED) },\n\n\t \n\t{ \"SPI_SR_MEM\", SOC15_REG_ENTRY(GC, 0, mmSPI_EDC_CNT),\n\t  SOC15_REG_FIELD(SPI_EDC_CNT, SPI_SR_MEM_SEC_COUNT),\n\t  SOC15_REG_FIELD(SPI_EDC_CNT, SPI_SR_MEM_DED_COUNT) },\n\t{ \"SPI_GDS_EXPREQ\", SOC15_REG_ENTRY(GC, 0, mmSPI_EDC_CNT),\n\t  SOC15_REG_FIELD(SPI_EDC_CNT, SPI_GDS_EXPREQ_SEC_COUNT),\n\t  SOC15_REG_FIELD(SPI_EDC_CNT, SPI_GDS_EXPREQ_DED_COUNT) },\n\t{ \"SPI_WB_GRANT_30\", SOC15_REG_ENTRY(GC, 0, mmSPI_EDC_CNT),\n\t  SOC15_REG_FIELD(SPI_EDC_CNT, SPI_WB_GRANT_30_SEC_COUNT),\n\t  SOC15_REG_FIELD(SPI_EDC_CNT, SPI_WB_GRANT_30_DED_COUNT) },\n\t{ \"SPI_WB_GRANT_61\", SOC15_REG_ENTRY(GC, 0, mmSPI_EDC_CNT),\n\t  SOC15_REG_FIELD(SPI_EDC_CNT, SPI_WB_GRANT_61_SEC_COUNT),\n\t  SOC15_REG_FIELD(SPI_EDC_CNT, SPI_WB_GRANT_61_DED_COUNT) },\n\t{ \"SPI_LIFE_CNT\", SOC15_REG_ENTRY(GC, 0, mmSPI_EDC_CNT),\n\t  SOC15_REG_FIELD(SPI_EDC_CNT, SPI_LIFE_CNT_SEC_COUNT),\n\t  SOC15_REG_FIELD(SPI_EDC_CNT, SPI_LIFE_CNT_DED_COUNT) },\n\n\t \n\t{ \"SQ_SGPR\", SOC15_REG_ENTRY(GC, 0, mmSQ_EDC_CNT),\n\t  SOC15_REG_FIELD(SQ_EDC_CNT, SGPR_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQ_EDC_CNT, SGPR_DED_COUNT) },\n\t{ \"SQ_LDS_D\", SOC15_REG_ENTRY(GC, 0, mmSQ_EDC_CNT),\n\t  SOC15_REG_FIELD(SQ_EDC_CNT, LDS_D_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQ_EDC_CNT, LDS_D_DED_COUNT) },\n\t{ \"SQ_LDS_I\", SOC15_REG_ENTRY(GC, 0, mmSQ_EDC_CNT),\n\t  SOC15_REG_FIELD(SQ_EDC_CNT, LDS_I_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQ_EDC_CNT, LDS_I_DED_COUNT) },\n\t{ \"SQ_VGPR0\", SOC15_REG_ENTRY(GC, 0, mmSQ_EDC_CNT),\n\t  SOC15_REG_FIELD(SQ_EDC_CNT, VGPR0_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQ_EDC_CNT, VGPR0_DED_COUNT) },\n\t{ \"SQ_VGPR1\", SOC15_REG_ENTRY(GC, 0, mmSQ_EDC_CNT),\n\t  SOC15_REG_FIELD(SQ_EDC_CNT, VGPR1_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQ_EDC_CNT, VGPR1_DED_COUNT) },\n\t{ \"SQ_VGPR2\", SOC15_REG_ENTRY(GC, 0, mmSQ_EDC_CNT),\n\t  SOC15_REG_FIELD(SQ_EDC_CNT, VGPR2_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQ_EDC_CNT, VGPR2_DED_COUNT) },\n\t{ \"SQ_VGPR3\", SOC15_REG_ENTRY(GC, 0, mmSQ_EDC_CNT),\n\t  SOC15_REG_FIELD(SQ_EDC_CNT, VGPR3_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQ_EDC_CNT, VGPR3_DED_COUNT) },\n\n\t \n\t{ \"SQC_INST_UTCL1_LFIFO\", SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_CNT2),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT2, INST_UTCL1_LFIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT2, INST_UTCL1_LFIFO_DED_COUNT) },\n\t{ \"SQC_DATA_CU0_WRITE_DATA_BUF\", SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_CNT),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT, DATA_CU0_WRITE_DATA_BUF_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT, DATA_CU0_WRITE_DATA_BUF_DED_COUNT) },\n\t{ \"SQC_DATA_CU0_UTCL1_LFIFO\", SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_CNT),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT, DATA_CU0_UTCL1_LFIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT, DATA_CU0_UTCL1_LFIFO_DED_COUNT) },\n\t{ \"SQC_DATA_CU1_WRITE_DATA_BUF\", SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_CNT),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT, DATA_CU1_WRITE_DATA_BUF_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT, DATA_CU1_WRITE_DATA_BUF_DED_COUNT) },\n\t{ \"SQC_DATA_CU1_UTCL1_LFIFO\", SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_CNT),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT, DATA_CU1_UTCL1_LFIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT, DATA_CU1_UTCL1_LFIFO_DED_COUNT) },\n\t{ \"SQC_DATA_CU2_WRITE_DATA_BUF\", SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_CNT),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT, DATA_CU2_WRITE_DATA_BUF_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT, DATA_CU2_WRITE_DATA_BUF_DED_COUNT) },\n\t{ \"SQC_DATA_CU2_UTCL1_LFIFO\", SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_CNT),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT, DATA_CU2_UTCL1_LFIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT, DATA_CU2_UTCL1_LFIFO_DED_COUNT) },\n\t{ \"SQC_INST_BANKA_TAG_RAM\", SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_CNT2),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT2, INST_BANKA_TAG_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT2, INST_BANKA_TAG_RAM_DED_COUNT) },\n\t{ \"SQC_INST_BANKA_UTCL1_MISS_FIFO\",\n\t  SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_PARITY_CNT3),\n\t  SOC15_REG_FIELD(SQC_EDC_PARITY_CNT3,\n\t\t\t  INST_BANKA_UTCL1_MISS_FIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQC_EDC_PARITY_CNT3,\n\t\t\t  INST_BANKA_UTCL1_MISS_FIFO_DED_COUNT) },\n\t{ \"SQC_INST_BANKA_MISS_FIFO\",\n\t  SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_PARITY_CNT3),\n\t  SOC15_REG_FIELD(SQC_EDC_PARITY_CNT3, INST_BANKA_MISS_FIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQC_EDC_PARITY_CNT3,\n\t\t\t  INST_BANKA_MISS_FIFO_DED_COUNT) },\n\t{ \"SQC_INST_BANKA_BANK_RAM\", SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_CNT2),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT2, INST_BANKA_BANK_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT2, INST_BANKA_BANK_RAM_DED_COUNT) },\n\t{ \"SQC_DATA_BANKA_TAG_RAM\", SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_CNT2),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT2, DATA_BANKA_TAG_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT2, DATA_BANKA_TAG_RAM_DED_COUNT) },\n\t{ \"SQC_DATA_BANKA_HIT_FIFO\",\n\t  SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_PARITY_CNT3),\n\t  SOC15_REG_FIELD(SQC_EDC_PARITY_CNT3, DATA_BANKA_HIT_FIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQC_EDC_PARITY_CNT3, DATA_BANKA_HIT_FIFO_DED_COUNT) },\n\t{ \"SQC_DATA_BANKA_MISS_FIFO\",\n\t  SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_PARITY_CNT3),\n\t  SOC15_REG_FIELD(SQC_EDC_PARITY_CNT3, DATA_BANKA_MISS_FIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQC_EDC_PARITY_CNT3,\n\t\t\t  DATA_BANKA_MISS_FIFO_DED_COUNT) },\n\t{ \"SQC_DATA_BANKA_BANK_RAM\", SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_CNT2),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT2, DATA_BANKA_BANK_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT2, DATA_BANKA_BANK_RAM_DED_COUNT) },\n\t{ \"SQC_INST_BANKB_TAG_RAM\", SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_CNT3),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT3, INST_BANKB_TAG_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT3, INST_BANKB_TAG_RAM_DED_COUNT) },\n\t{ \"SQC_INST_BANKB_UTCL1_MISS_FIFO\",\n\t  SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_PARITY_CNT3),\n\t  SOC15_REG_FIELD(SQC_EDC_PARITY_CNT3,\n\t\t\t  INST_BANKB_UTCL1_MISS_FIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQC_EDC_PARITY_CNT3,\n\t\t\t  INST_BANKB_UTCL1_MISS_FIFO_DED_COUNT) },\n\t{ \"SQC_INST_BANKB_MISS_FIFO\",\n\t  SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_PARITY_CNT3),\n\t  SOC15_REG_FIELD(SQC_EDC_PARITY_CNT3, INST_BANKB_MISS_FIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQC_EDC_PARITY_CNT3,\n\t\t\t  INST_BANKB_MISS_FIFO_DED_COUNT) },\n\t{ \"SQC_INST_BANKB_BANK_RAM\", SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_CNT3),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT3, INST_BANKB_BANK_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT3, INST_BANKB_BANK_RAM_DED_COUNT) },\n\t{ \"SQC_DATA_BANKB_TAG_RAM\", SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_CNT3),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT3, DATA_BANKB_TAG_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT3, DATA_BANKB_TAG_RAM_DED_COUNT) },\n\t{ \"SQC_DATA_BANKB_HIT_FIFO\",\n\t  SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_PARITY_CNT3),\n\t  SOC15_REG_FIELD(SQC_EDC_PARITY_CNT3, DATA_BANKB_HIT_FIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQC_EDC_PARITY_CNT3, DATA_BANKB_HIT_FIFO_DED_COUNT) },\n\t{ \"SQC_DATA_BANKB_MISS_FIFO\",\n\t  SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_PARITY_CNT3),\n\t  SOC15_REG_FIELD(SQC_EDC_PARITY_CNT3, DATA_BANKB_MISS_FIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQC_EDC_PARITY_CNT3,\n\t\t\t  DATA_BANKB_MISS_FIFO_DED_COUNT) },\n\t{ \"SQC_DATA_BANKB_BANK_RAM\", SOC15_REG_ENTRY(GC, 0, mmSQC_EDC_CNT3),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT3, DATA_BANKB_BANK_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(SQC_EDC_CNT3, DATA_BANKB_BANK_RAM_DED_COUNT) },\n\n\t \n\t{ \"TA_FS_DFIFO\", SOC15_REG_ENTRY(GC, 0, mmTA_EDC_CNT),\n\t  SOC15_REG_FIELD(TA_EDC_CNT, TA_FS_DFIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(TA_EDC_CNT, TA_FS_DFIFO_DED_COUNT) },\n\t{ \"TA_FS_AFIFO\", SOC15_REG_ENTRY(GC, 0, mmTA_EDC_CNT),\n\t  SOC15_REG_FIELD(TA_EDC_CNT, TA_FS_AFIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(TA_EDC_CNT, TA_FS_AFIFO_DED_COUNT) },\n\t{ \"TA_FL_LFIFO\", SOC15_REG_ENTRY(GC, 0, mmTA_EDC_CNT),\n\t  SOC15_REG_FIELD(TA_EDC_CNT, TA_FL_LFIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(TA_EDC_CNT, TA_FL_LFIFO_DED_COUNT) },\n\t{ \"TA_FX_LFIFO\", SOC15_REG_ENTRY(GC, 0, mmTA_EDC_CNT),\n\t  SOC15_REG_FIELD(TA_EDC_CNT, TA_FX_LFIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(TA_EDC_CNT, TA_FX_LFIFO_DED_COUNT) },\n\t{ \"TA_FS_CFIFO\", SOC15_REG_ENTRY(GC, 0, mmTA_EDC_CNT),\n\t  SOC15_REG_FIELD(TA_EDC_CNT, TA_FS_CFIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(TA_EDC_CNT, TA_FS_CFIFO_DED_COUNT) },\n\n\t \n\t{ \"TCA_HOLE_FIFO\", SOC15_REG_ENTRY(GC, 0, mmTCA_EDC_CNT),\n\t  SOC15_REG_FIELD(TCA_EDC_CNT, HOLE_FIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCA_EDC_CNT, HOLE_FIFO_DED_COUNT) },\n\t{ \"TCA_REQ_FIFO\", SOC15_REG_ENTRY(GC, 0, mmTCA_EDC_CNT),\n\t  SOC15_REG_FIELD(TCA_EDC_CNT, REQ_FIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCA_EDC_CNT, REQ_FIFO_DED_COUNT) },\n\n\t \n\t{ \"TCC_CACHE_DATA\", SOC15_REG_ENTRY(GC, 0, mmTCC_EDC_CNT),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT, CACHE_DATA_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT, CACHE_DATA_DED_COUNT) },\n\t{ \"TCC_CACHE_DIRTY\", SOC15_REG_ENTRY(GC, 0, mmTCC_EDC_CNT),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT, CACHE_DIRTY_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT, CACHE_DIRTY_DED_COUNT) },\n\t{ \"TCC_HIGH_RATE_TAG\", SOC15_REG_ENTRY(GC, 0, mmTCC_EDC_CNT),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT, HIGH_RATE_TAG_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT, HIGH_RATE_TAG_DED_COUNT) },\n\t{ \"TCC_LOW_RATE_TAG\", SOC15_REG_ENTRY(GC, 0, mmTCC_EDC_CNT),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT, LOW_RATE_TAG_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT, LOW_RATE_TAG_DED_COUNT) },\n\t{ \"TCC_IN_USE_DEC\", SOC15_REG_ENTRY(GC, 0, mmTCC_EDC_CNT2),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT2, IN_USE_DEC_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT2, IN_USE_DEC_DED_COUNT) },\n\t{ \"TCC_IN_USE_TRANSFER\", SOC15_REG_ENTRY(GC, 0, mmTCC_EDC_CNT2),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT2, IN_USE_TRANSFER_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT2, IN_USE_TRANSFER_DED_COUNT) },\n\t{ \"TCC_RETURN_DATA\", SOC15_REG_ENTRY(GC, 0, mmTCC_EDC_CNT2),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT2, RETURN_DATA_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT2, RETURN_DATA_DED_COUNT) },\n\t{ \"TCC_RETURN_CONTROL\", SOC15_REG_ENTRY(GC, 0, mmTCC_EDC_CNT2),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT2, RETURN_CONTROL_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT2, RETURN_CONTROL_DED_COUNT) },\n\t{ \"TCC_UC_ATOMIC_FIFO\", SOC15_REG_ENTRY(GC, 0, mmTCC_EDC_CNT2),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT2, UC_ATOMIC_FIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT2, UC_ATOMIC_FIFO_DED_COUNT) },\n\t{ \"TCC_WRITE_RETURN\", SOC15_REG_ENTRY(GC, 0, mmTCC_EDC_CNT2),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT2, WRITE_RETURN_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT2, WRITE_RETURN_DED_COUNT) },\n\t{ \"TCC_WRITE_CACHE_READ\", SOC15_REG_ENTRY(GC, 0, mmTCC_EDC_CNT2),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT2, WRITE_CACHE_READ_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT2, WRITE_CACHE_READ_DED_COUNT) },\n\t{ \"TCC_SRC_FIFO\", SOC15_REG_ENTRY(GC, 0, mmTCC_EDC_CNT),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT, SRC_FIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT, SRC_FIFO_DED_COUNT) },\n\t{ \"TCC_CACHE_TAG_PROBE_FIFO\", SOC15_REG_ENTRY(GC, 0, mmTCC_EDC_CNT2),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT2, CACHE_TAG_PROBE_FIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT2, CACHE_TAG_PROBE_FIFO_DED_COUNT) },\n\t{ \"TCC_LATENCY_FIFO\", SOC15_REG_ENTRY(GC, 0, mmTCC_EDC_CNT),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT, LATENCY_FIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT, LATENCY_FIFO_DED_COUNT) },\n\t{ \"TCC_LATENCY_FIFO_NEXT_RAM\", SOC15_REG_ENTRY(GC, 0, mmTCC_EDC_CNT),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT, LATENCY_FIFO_NEXT_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCC_EDC_CNT, LATENCY_FIFO_NEXT_RAM_DED_COUNT) },\n\n\t \n\t{ \"TCI_WRITE_RAM\", SOC15_REG_ENTRY(GC, 0, mmTCI_EDC_CNT),\n\t  SOC15_REG_FIELD(TCI_EDC_CNT, WRITE_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCI_EDC_CNT, WRITE_RAM_DED_COUNT) },\n\n\t \n\t{ \"TCP_CACHE_RAM\", SOC15_REG_ENTRY(GC, 0, mmTCP_EDC_CNT_NEW),\n\t  SOC15_REG_FIELD(TCP_EDC_CNT_NEW, CACHE_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCP_EDC_CNT_NEW, CACHE_RAM_DED_COUNT) },\n\t{ \"TCP_LFIFO_RAM\", SOC15_REG_ENTRY(GC, 0, mmTCP_EDC_CNT_NEW),\n\t  SOC15_REG_FIELD(TCP_EDC_CNT_NEW, LFIFO_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCP_EDC_CNT_NEW, LFIFO_RAM_DED_COUNT) },\n\t{ \"TCP_CMD_FIFO\", SOC15_REG_ENTRY(GC, 0, mmTCP_EDC_CNT_NEW),\n\t  SOC15_REG_FIELD(TCP_EDC_CNT_NEW, CMD_FIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCP_EDC_CNT_NEW, CMD_FIFO_DED_COUNT) },\n\t{ \"TCP_VM_FIFO\", SOC15_REG_ENTRY(GC, 0, mmTCP_EDC_CNT_NEW),\n\t  SOC15_REG_FIELD(TCP_EDC_CNT_NEW, VM_FIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCP_EDC_CNT_NEW, VM_FIFO_DED_COUNT) },\n\t{ \"TCP_DB_RAM\", SOC15_REG_ENTRY(GC, 0, mmTCP_EDC_CNT_NEW),\n\t  SOC15_REG_FIELD(TCP_EDC_CNT_NEW, DB_RAM_SED_COUNT), 0, 0 },\n\t{ \"TCP_UTCL1_LFIFO0\", SOC15_REG_ENTRY(GC, 0, mmTCP_EDC_CNT_NEW),\n\t  SOC15_REG_FIELD(TCP_EDC_CNT_NEW, UTCL1_LFIFO0_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCP_EDC_CNT_NEW, UTCL1_LFIFO0_DED_COUNT) },\n\t{ \"TCP_UTCL1_LFIFO1\", SOC15_REG_ENTRY(GC, 0, mmTCP_EDC_CNT_NEW),\n\t  SOC15_REG_FIELD(TCP_EDC_CNT_NEW, UTCL1_LFIFO1_SEC_COUNT),\n\t  SOC15_REG_FIELD(TCP_EDC_CNT_NEW, UTCL1_LFIFO1_DED_COUNT) },\n\n\t \n\t{ \"TD_SS_FIFO_LO\", SOC15_REG_ENTRY(GC, 0, mmTD_EDC_CNT),\n\t  SOC15_REG_FIELD(TD_EDC_CNT, SS_FIFO_LO_SEC_COUNT),\n\t  SOC15_REG_FIELD(TD_EDC_CNT, SS_FIFO_LO_DED_COUNT) },\n\t{ \"TD_SS_FIFO_HI\", SOC15_REG_ENTRY(GC, 0, mmTD_EDC_CNT),\n\t  SOC15_REG_FIELD(TD_EDC_CNT, SS_FIFO_HI_SEC_COUNT),\n\t  SOC15_REG_FIELD(TD_EDC_CNT, SS_FIFO_HI_DED_COUNT) },\n\t{ \"TD_CS_FIFO\", SOC15_REG_ENTRY(GC, 0, mmTD_EDC_CNT),\n\t  SOC15_REG_FIELD(TD_EDC_CNT, CS_FIFO_SEC_COUNT),\n\t  SOC15_REG_FIELD(TD_EDC_CNT, CS_FIFO_DED_COUNT) },\n\n\t \n\t{ \"EA_DRAMRD_CMDMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT, DRAMRD_CMDMEM_SEC_COUNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT, DRAMRD_CMDMEM_DED_COUNT) },\n\t{ \"EA_DRAMWR_CMDMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT, DRAMWR_CMDMEM_SEC_COUNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT, DRAMWR_CMDMEM_DED_COUNT) },\n\t{ \"EA_DRAMWR_DATAMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT, DRAMWR_DATAMEM_SEC_COUNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT, DRAMWR_DATAMEM_DED_COUNT) },\n\t{ \"EA_RRET_TAGMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT, RRET_TAGMEM_SEC_COUNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT, RRET_TAGMEM_DED_COUNT) },\n\t{ \"EA_WRET_TAGMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT, WRET_TAGMEM_SEC_COUNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT, WRET_TAGMEM_DED_COUNT) },\n\t{ \"EA_GMIRD_CMDMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT2),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT2, GMIRD_CMDMEM_SEC_COUNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT2, GMIRD_CMDMEM_DED_COUNT) },\n\t{ \"EA_GMIWR_CMDMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT2),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT2, GMIWR_CMDMEM_SEC_COUNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT2, GMIWR_CMDMEM_DED_COUNT) },\n\t{ \"EA_GMIWR_DATAMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT2),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT2, GMIWR_DATAMEM_SEC_COUNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT2, GMIWR_DATAMEM_DED_COUNT) },\n\t{ \"EA_DRAMRD_PAGEMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT, DRAMRD_PAGEMEM_SED_COUNT), 0, 0 },\n\t{ \"EA_DRAMRD_PAGEMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT3), 0, 0,\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT3, DRAMRD_PAGEMEM_DED_COUNT) },\n\t{ \"EA_DRAMWR_PAGEMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT, DRAMWR_PAGEMEM_SED_COUNT), 0, 0 },\n\t{ \"EA_DRAMWR_PAGEMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT3), 0, 0,\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT3, DRAMWR_PAGEMEM_DED_COUNT) },\n\t{ \"EA_IORD_CMDMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT, IORD_CMDMEM_SED_COUNT), 0, 0 },\n\t{ \"EA_IORD_CMDMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT3), 0, 0,\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT3, IORD_CMDMEM_DED_COUNT) },\n\t{ \"EA_IOWR_CMDMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT, IOWR_CMDMEM_SED_COUNT), 0, 0 },\n\t{ \"EA_IOWR_CMDMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT3), 0, 0,\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT3, IOWR_CMDMEM_DED_COUNT) },\n\t{ \"EA_IOWR_DATAMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT, IOWR_DATAMEM_SED_COUNT), 0, 0 },\n\t{ \"EA_IOWR_DATAMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT3), 0, 0,\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT3, IOWR_DATAMEM_DED_COUNT) },\n\t{ \"EA_GMIRD_PAGEMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT2),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT2, GMIRD_PAGEMEM_SED_COUNT), 0, 0 },\n\t{ \"EA_GMIRD_PAGEMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT3), 0, 0,\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT3, GMIRD_PAGEMEM_DED_COUNT) },\n\t{ \"EA_GMIWR_PAGEMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT2),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT2, GMIWR_PAGEMEM_SED_COUNT), 0, 0 },\n\t{ \"EA_GMIWR_PAGEMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT3), 0, 0,\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT3, GMIWR_PAGEMEM_DED_COUNT) },\n\t{ \"EA_MAM_D0MEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT2),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT2, MAM_D0MEM_SED_COUNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT2, MAM_D0MEM_DED_COUNT) },\n\t{ \"EA_MAM_D1MEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT2),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT2, MAM_D1MEM_SED_COUNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT2, MAM_D1MEM_DED_COUNT) },\n\t{ \"EA_MAM_D2MEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT2),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT2, MAM_D2MEM_SED_COUNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT2, MAM_D2MEM_DED_COUNT) },\n\t{ \"EA_MAM_D3MEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT2),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT2, MAM_D3MEM_SED_COUNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT2, MAM_D3MEM_DED_COUNT) },\n\t{ \"EA_MAM_A0MEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT3),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT3, MAM_A0MEM_SEC_COUNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT3, MAM_A0MEM_DED_COUNT) },\n\t{ \"EA_MAM_A1MEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT3),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT3, MAM_A1MEM_SEC_COUNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT3, MAM_A1MEM_DED_COUNT) },\n\t{ \"EA_MAM_A2MEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT3),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT3, MAM_A2MEM_SEC_COUNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT3, MAM_A2MEM_DED_COUNT) },\n\t{ \"EA_MAM_A3MEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT3),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT3, MAM_A3MEM_SEC_COUNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT3, MAM_A3MEM_DED_COUNT) },\n\t{ \"EA_MAM_AFMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT),\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT, MAM_AFMEM_SEC_COUNT), 0, 0 },\n\t{ \"EA_MAM_AFMEM\", SOC15_REG_ENTRY(GC, 0, mmGCEA_EDC_CNT3), 0, 0,\n\t  SOC15_REG_FIELD(GCEA_EDC_CNT3, MAM_AFMEM_DED_COUNT) },\n\n\t \n\t{ \"RLCG_INSTR_RAM\", SOC15_REG_ENTRY(GC, 0, mmRLC_EDC_CNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT, RLCG_INSTR_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT, RLCG_INSTR_RAM_DED_COUNT) },\n\t{ \"RLCG_SCRATCH_RAM\", SOC15_REG_ENTRY(GC, 0, mmRLC_EDC_CNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT, RLCG_SCRATCH_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT, RLCG_SCRATCH_RAM_DED_COUNT) },\n\t{ \"RLCV_INSTR_RAM\", SOC15_REG_ENTRY(GC, 0, mmRLC_EDC_CNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT, RLCV_INSTR_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT, RLCV_INSTR_RAM_DED_COUNT) },\n\t{ \"RLCV_SCRATCH_RAM\", SOC15_REG_ENTRY(GC, 0, mmRLC_EDC_CNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT, RLCV_SCRATCH_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT, RLCV_SCRATCH_RAM_DED_COUNT) },\n\t{ \"RLC_TCTAG_RAM\", SOC15_REG_ENTRY(GC, 0, mmRLC_EDC_CNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT, RLC_TCTAG_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT, RLC_TCTAG_RAM_DED_COUNT) },\n\t{ \"RLC_SPM_SCRATCH_RAM\", SOC15_REG_ENTRY(GC, 0, mmRLC_EDC_CNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT, RLC_SPM_SCRATCH_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT, RLC_SPM_SCRATCH_RAM_DED_COUNT) },\n\t{ \"RLC_SRM_DATA_RAM\", SOC15_REG_ENTRY(GC, 0, mmRLC_EDC_CNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT, RLC_SRM_DATA_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT, RLC_SRM_DATA_RAM_DED_COUNT) },\n\t{ \"RLC_SRM_ADDR_RAM\", SOC15_REG_ENTRY(GC, 0, mmRLC_EDC_CNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT, RLC_SRM_ADDR_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT, RLC_SRM_ADDR_RAM_DED_COUNT) },\n\t{ \"RLC_SPM_SE0_SCRATCH_RAM\", SOC15_REG_ENTRY(GC, 0, mmRLC_EDC_CNT2),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT2, RLC_SPM_SE0_SCRATCH_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT2, RLC_SPM_SE0_SCRATCH_RAM_DED_COUNT) },\n\t{ \"RLC_SPM_SE1_SCRATCH_RAM\", SOC15_REG_ENTRY(GC, 0, mmRLC_EDC_CNT2),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT2, RLC_SPM_SE1_SCRATCH_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT2, RLC_SPM_SE1_SCRATCH_RAM_DED_COUNT) },\n\t{ \"RLC_SPM_SE2_SCRATCH_RAM\", SOC15_REG_ENTRY(GC, 0, mmRLC_EDC_CNT2),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT2, RLC_SPM_SE2_SCRATCH_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT2, RLC_SPM_SE2_SCRATCH_RAM_DED_COUNT) },\n\t{ \"RLC_SPM_SE3_SCRATCH_RAM\", SOC15_REG_ENTRY(GC, 0, mmRLC_EDC_CNT2),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT2, RLC_SPM_SE3_SCRATCH_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT2, RLC_SPM_SE3_SCRATCH_RAM_DED_COUNT) },\n\t{ \"RLC_SPM_SE4_SCRATCH_RAM\", SOC15_REG_ENTRY(GC, 0, mmRLC_EDC_CNT2),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT2, RLC_SPM_SE4_SCRATCH_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT2, RLC_SPM_SE4_SCRATCH_RAM_DED_COUNT) },\n\t{ \"RLC_SPM_SE5_SCRATCH_RAM\", SOC15_REG_ENTRY(GC, 0, mmRLC_EDC_CNT2),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT2, RLC_SPM_SE5_SCRATCH_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT2, RLC_SPM_SE5_SCRATCH_RAM_DED_COUNT) },\n\t{ \"RLC_SPM_SE6_SCRATCH_RAM\", SOC15_REG_ENTRY(GC, 0, mmRLC_EDC_CNT2),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT2, RLC_SPM_SE6_SCRATCH_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT2, RLC_SPM_SE6_SCRATCH_RAM_DED_COUNT) },\n\t{ \"RLC_SPM_SE7_SCRATCH_RAM\", SOC15_REG_ENTRY(GC, 0, mmRLC_EDC_CNT2),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT2, RLC_SPM_SE7_SCRATCH_RAM_SEC_COUNT),\n\t  SOC15_REG_FIELD(RLC_EDC_CNT2, RLC_SPM_SE7_SCRATCH_RAM_DED_COUNT) },\n};\n\nstatic const char * const vml2_mems[] = {\n\t\"UTC_VML2_BANK_CACHE_0_BIGK_MEM0\",\n\t\"UTC_VML2_BANK_CACHE_0_BIGK_MEM1\",\n\t\"UTC_VML2_BANK_CACHE_0_4K_MEM0\",\n\t\"UTC_VML2_BANK_CACHE_0_4K_MEM1\",\n\t\"UTC_VML2_BANK_CACHE_1_BIGK_MEM0\",\n\t\"UTC_VML2_BANK_CACHE_1_BIGK_MEM1\",\n\t\"UTC_VML2_BANK_CACHE_1_4K_MEM0\",\n\t\"UTC_VML2_BANK_CACHE_1_4K_MEM1\",\n\t\"UTC_VML2_BANK_CACHE_2_BIGK_MEM0\",\n\t\"UTC_VML2_BANK_CACHE_2_BIGK_MEM1\",\n\t\"UTC_VML2_BANK_CACHE_2_4K_MEM0\",\n\t\"UTC_VML2_BANK_CACHE_2_4K_MEM1\",\n\t\"UTC_VML2_BANK_CACHE_3_BIGK_MEM0\",\n\t\"UTC_VML2_BANK_CACHE_3_BIGK_MEM1\",\n\t\"UTC_VML2_BANK_CACHE_3_4K_MEM0\",\n\t\"UTC_VML2_BANK_CACHE_3_4K_MEM1\",\n\t\"UTC_VML2_IFIFO_GROUP0\",\n\t\"UTC_VML2_IFIFO_GROUP1\",\n\t\"UTC_VML2_IFIFO_GROUP2\",\n\t\"UTC_VML2_IFIFO_GROUP3\",\n\t\"UTC_VML2_IFIFO_GROUP4\",\n\t\"UTC_VML2_IFIFO_GROUP5\",\n\t\"UTC_VML2_IFIFO_GROUP6\",\n\t\"UTC_VML2_IFIFO_GROUP7\",\n\t\"UTC_VML2_IFIFO_GROUP8\",\n\t\"UTC_VML2_IFIFO_GROUP9\",\n\t\"UTC_VML2_IFIFO_GROUP10\",\n\t\"UTC_VML2_IFIFO_GROUP11\",\n\t\"UTC_VML2_IFIFO_GROUP12\",\n\t\"UTC_VML2_IFIFO_GROUP13\",\n\t\"UTC_VML2_IFIFO_GROUP14\",\n\t\"UTC_VML2_IFIFO_GROUP15\",\n\t\"UTC_VML2_IFIFO_GROUP16\",\n\t\"UTC_VML2_IFIFO_GROUP17\",\n\t\"UTC_VML2_IFIFO_GROUP18\",\n\t\"UTC_VML2_IFIFO_GROUP19\",\n\t\"UTC_VML2_IFIFO_GROUP20\",\n\t\"UTC_VML2_IFIFO_GROUP21\",\n\t\"UTC_VML2_IFIFO_GROUP22\",\n\t\"UTC_VML2_IFIFO_GROUP23\",\n\t\"UTC_VML2_IFIFO_GROUP24\",\n};\n\nstatic const char * const vml2_walker_mems[] = {\n\t\"UTC_VML2_CACHE_PDE0_MEM0\",\n\t\"UTC_VML2_CACHE_PDE0_MEM1\",\n\t\"UTC_VML2_CACHE_PDE1_MEM0\",\n\t\"UTC_VML2_CACHE_PDE1_MEM1\",\n\t\"UTC_VML2_CACHE_PDE2_MEM0\",\n\t\"UTC_VML2_CACHE_PDE2_MEM1\",\n\t\"UTC_VML2_RDIF_ARADDRS\",\n\t\"UTC_VML2_RDIF_LOG_FIFO\",\n\t\"UTC_VML2_QUEUE_REQ\",\n\t\"UTC_VML2_QUEUE_RET\",\n};\n\nstatic const char * const utcl2_router_mems[] = {\n\t\"UTCL2_ROUTER_GROUP0_VML2_REQ_FIFO0\",\n\t\"UTCL2_ROUTER_GROUP1_VML2_REQ_FIFO1\",\n\t\"UTCL2_ROUTER_GROUP2_VML2_REQ_FIFO2\",\n\t\"UTCL2_ROUTER_GROUP3_VML2_REQ_FIFO3\",\n\t\"UTCL2_ROUTER_GROUP4_VML2_REQ_FIFO4\",\n\t\"UTCL2_ROUTER_GROUP5_VML2_REQ_FIFO5\",\n\t\"UTCL2_ROUTER_GROUP6_VML2_REQ_FIFO6\",\n\t\"UTCL2_ROUTER_GROUP7_VML2_REQ_FIFO7\",\n\t\"UTCL2_ROUTER_GROUP8_VML2_REQ_FIFO8\",\n\t\"UTCL2_ROUTER_GROUP9_VML2_REQ_FIFO9\",\n\t\"UTCL2_ROUTER_GROUP10_VML2_REQ_FIFO10\",\n\t\"UTCL2_ROUTER_GROUP11_VML2_REQ_FIFO11\",\n\t\"UTCL2_ROUTER_GROUP12_VML2_REQ_FIFO12\",\n\t\"UTCL2_ROUTER_GROUP13_VML2_REQ_FIFO13\",\n\t\"UTCL2_ROUTER_GROUP14_VML2_REQ_FIFO14\",\n\t\"UTCL2_ROUTER_GROUP15_VML2_REQ_FIFO15\",\n\t\"UTCL2_ROUTER_GROUP16_VML2_REQ_FIFO16\",\n\t\"UTCL2_ROUTER_GROUP17_VML2_REQ_FIFO17\",\n\t\"UTCL2_ROUTER_GROUP18_VML2_REQ_FIFO18\",\n\t\"UTCL2_ROUTER_GROUP19_VML2_REQ_FIFO19\",\n\t\"UTCL2_ROUTER_GROUP20_VML2_REQ_FIFO20\",\n\t\"UTCL2_ROUTER_GROUP21_VML2_REQ_FIFO21\",\n\t\"UTCL2_ROUTER_GROUP22_VML2_REQ_FIFO22\",\n\t\"UTCL2_ROUTER_GROUP23_VML2_REQ_FIFO23\",\n\t\"UTCL2_ROUTER_GROUP24_VML2_REQ_FIFO24\",\n};\n\nstatic const char * const atc_l2_cache_2m_mems[] = {\n\t\"UTC_ATCL2_CACHE_2M_BANK0_WAY0_MEM\",\n\t\"UTC_ATCL2_CACHE_2M_BANK0_WAY1_MEM\",\n\t\"UTC_ATCL2_CACHE_2M_BANK1_WAY0_MEM\",\n\t\"UTC_ATCL2_CACHE_2M_BANK1_WAY1_MEM\",\n};\n\nstatic const char * const atc_l2_cache_4k_mems[] = {\n\t\"UTC_ATCL2_CACHE_4K_BANK0_WAY0_MEM0\",\n\t\"UTC_ATCL2_CACHE_4K_BANK0_WAY0_MEM1\",\n\t\"UTC_ATCL2_CACHE_4K_BANK0_WAY0_MEM2\",\n\t\"UTC_ATCL2_CACHE_4K_BANK0_WAY0_MEM3\",\n\t\"UTC_ATCL2_CACHE_4K_BANK0_WAY0_MEM4\",\n\t\"UTC_ATCL2_CACHE_4K_BANK0_WAY0_MEM5\",\n\t\"UTC_ATCL2_CACHE_4K_BANK0_WAY0_MEM6\",\n\t\"UTC_ATCL2_CACHE_4K_BANK0_WAY0_MEM7\",\n\t\"UTC_ATCL2_CACHE_4K_BANK0_WAY1_MEM0\",\n\t\"UTC_ATCL2_CACHE_4K_BANK0_WAY1_MEM1\",\n\t\"UTC_ATCL2_CACHE_4K_BANK0_WAY1_MEM2\",\n\t\"UTC_ATCL2_CACHE_4K_BANK0_WAY1_MEM3\",\n\t\"UTC_ATCL2_CACHE_4K_BANK0_WAY1_MEM4\",\n\t\"UTC_ATCL2_CACHE_4K_BANK0_WAY1_MEM5\",\n\t\"UTC_ATCL2_CACHE_4K_BANK0_WAY1_MEM6\",\n\t\"UTC_ATCL2_CACHE_4K_BANK0_WAY1_MEM7\",\n\t\"UTC_ATCL2_CACHE_4K_BANK1_WAY0_MEM0\",\n\t\"UTC_ATCL2_CACHE_4K_BANK1_WAY0_MEM1\",\n\t\"UTC_ATCL2_CACHE_4K_BANK1_WAY0_MEM2\",\n\t\"UTC_ATCL2_CACHE_4K_BANK1_WAY0_MEM3\",\n\t\"UTC_ATCL2_CACHE_4K_BANK1_WAY0_MEM4\",\n\t\"UTC_ATCL2_CACHE_4K_BANK1_WAY0_MEM5\",\n\t\"UTC_ATCL2_CACHE_4K_BANK1_WAY0_MEM6\",\n\t\"UTC_ATCL2_CACHE_4K_BANK1_WAY0_MEM7\",\n\t\"UTC_ATCL2_CACHE_4K_BANK1_WAY1_MEM0\",\n\t\"UTC_ATCL2_CACHE_4K_BANK1_WAY1_MEM1\",\n\t\"UTC_ATCL2_CACHE_4K_BANK1_WAY1_MEM2\",\n\t\"UTC_ATCL2_CACHE_4K_BANK1_WAY1_MEM3\",\n\t\"UTC_ATCL2_CACHE_4K_BANK1_WAY1_MEM4\",\n\t\"UTC_ATCL2_CACHE_4K_BANK1_WAY1_MEM5\",\n\t\"UTC_ATCL2_CACHE_4K_BANK1_WAY1_MEM6\",\n\t\"UTC_ATCL2_CACHE_4K_BANK1_WAY1_MEM7\",\n};\n\nstatic int gfx_v9_4_query_utc_edc_status(struct amdgpu_device *adev,\n\t\t\t\t\t struct ras_err_data *err_data)\n{\n\tuint32_t i, data;\n\tuint32_t sec_count, ded_count;\n\n\tWREG32_SOC15(GC, 0, mmVML2_MEM_ECC_INDEX, 255);\n\tWREG32_SOC15(GC, 0, mmVML2_MEM_ECC_CNTL, 0);\n\tWREG32_SOC15(GC, 0, mmVML2_WALKER_MEM_ECC_INDEX, 255);\n\tWREG32_SOC15(GC, 0, mmVML2_WALKER_MEM_ECC_CNTL, 0);\n\tWREG32_SOC15(GC, 0, mmUTCL2_MEM_ECC_INDEX, 255);\n\tWREG32_SOC15(GC, 0, mmUTCL2_MEM_ECC_CNTL, 0);\n\n\tWREG32_SOC15(GC, 0, mmATC_L2_CACHE_2M_DSM_INDEX, 255);\n\tWREG32_SOC15(GC, 0, mmATC_L2_CACHE_2M_DSM_CNTL, 0);\n\tWREG32_SOC15(GC, 0, mmATC_L2_CACHE_4K_DSM_INDEX, 255);\n\tWREG32_SOC15(GC, 0, mmATC_L2_CACHE_2M_DSM_CNTL, 0);\n\n\tfor (i = 0; i < ARRAY_SIZE(vml2_mems); i++) {\n\t\tWREG32_SOC15(GC, 0, mmVML2_MEM_ECC_INDEX, i);\n\t\tdata = RREG32_SOC15(GC, 0, mmVML2_MEM_ECC_CNTL);\n\n\t\tsec_count = REG_GET_FIELD(data, VML2_MEM_ECC_CNTL, SEC_COUNT);\n\t\tif (sec_count) {\n\t\t\tdev_info(adev->dev,\n\t\t\t\t \"Instance[%d]: SubBlock %s, SEC %d\\n\", i,\n\t\t\t\t vml2_mems[i], sec_count);\n\t\t\terr_data->ce_count += sec_count;\n\t\t}\n\n\t\tded_count = REG_GET_FIELD(data, VML2_MEM_ECC_CNTL, DED_COUNT);\n\t\tif (ded_count) {\n\t\t\tdev_info(adev->dev,\n\t\t\t\t \"Instance[%d]: SubBlock %s, DED %d\\n\", i,\n\t\t\t\t vml2_mems[i], ded_count);\n\t\t\terr_data->ue_count += ded_count;\n\t\t}\n\t}\n\n\tfor (i = 0; i < ARRAY_SIZE(vml2_walker_mems); i++) {\n\t\tWREG32_SOC15(GC, 0, mmVML2_WALKER_MEM_ECC_INDEX, i);\n\t\tdata = RREG32_SOC15(GC, 0, mmVML2_WALKER_MEM_ECC_CNTL);\n\n\t\tsec_count = REG_GET_FIELD(data, VML2_WALKER_MEM_ECC_CNTL,\n\t\t\t\t\t  SEC_COUNT);\n\t\tif (sec_count) {\n\t\t\tdev_info(adev->dev,\n\t\t\t\t \"Instance[%d]: SubBlock %s, SEC %d\\n\", i,\n\t\t\t\t vml2_walker_mems[i], sec_count);\n\t\t\terr_data->ce_count += sec_count;\n\t\t}\n\n\t\tded_count = REG_GET_FIELD(data, VML2_WALKER_MEM_ECC_CNTL,\n\t\t\t\t\t  DED_COUNT);\n\t\tif (ded_count) {\n\t\t\tdev_info(adev->dev,\n\t\t\t\t \"Instance[%d]: SubBlock %s, DED %d\\n\", i,\n\t\t\t\t vml2_walker_mems[i], ded_count);\n\t\t\terr_data->ue_count += ded_count;\n\t\t}\n\t}\n\n\tfor (i = 0; i < ARRAY_SIZE(utcl2_router_mems); i++) {\n\t\tWREG32_SOC15(GC, 0, mmUTCL2_MEM_ECC_INDEX, i);\n\t\tdata = RREG32_SOC15(GC, 0, mmUTCL2_MEM_ECC_CNTL);\n\n\t\tsec_count = REG_GET_FIELD(data, UTCL2_MEM_ECC_CNTL, SEC_COUNT);\n\t\tif (sec_count) {\n\t\t\tdev_info(adev->dev,\n\t\t\t\t \"Instance[%d]: SubBlock %s, SEC %d\\n\", i,\n\t\t\t\t utcl2_router_mems[i], sec_count);\n\t\t\terr_data->ce_count += sec_count;\n\t\t}\n\n\t\tded_count = REG_GET_FIELD(data, UTCL2_MEM_ECC_CNTL, DED_COUNT);\n\t\tif (ded_count) {\n\t\t\tdev_info(adev->dev,\n\t\t\t\t \"Instance[%d]: SubBlock %s, DED %d\\n\", i,\n\t\t\t\t utcl2_router_mems[i], ded_count);\n\t\t\terr_data->ue_count += ded_count;\n\t\t}\n\t}\n\n\tfor (i = 0; i < ARRAY_SIZE(atc_l2_cache_2m_mems); i++) {\n\t\tWREG32_SOC15(GC, 0, mmATC_L2_CACHE_2M_DSM_INDEX, i);\n\t\tdata = RREG32_SOC15(GC, 0, mmATC_L2_CACHE_2M_DSM_CNTL);\n\n\t\tsec_count = REG_GET_FIELD(data, ATC_L2_CACHE_2M_DSM_CNTL,\n\t\t\t\t\t  SEC_COUNT);\n\t\tif (sec_count) {\n\t\t\tdev_info(adev->dev,\n\t\t\t\t \"Instance[%d]: SubBlock %s, SEC %d\\n\", i,\n\t\t\t\t atc_l2_cache_2m_mems[i], sec_count);\n\t\t\terr_data->ce_count += sec_count;\n\t\t}\n\n\t\tded_count = REG_GET_FIELD(data, ATC_L2_CACHE_2M_DSM_CNTL,\n\t\t\t\t\t  DED_COUNT);\n\t\tif (ded_count) {\n\t\t\tdev_info(adev->dev,\n\t\t\t\t \"Instance[%d]: SubBlock %s, DED %d\\n\", i,\n\t\t\t\t atc_l2_cache_2m_mems[i], ded_count);\n\t\t\terr_data->ue_count += ded_count;\n\t\t}\n\t}\n\n\tfor (i = 0; i < ARRAY_SIZE(atc_l2_cache_4k_mems); i++) {\n\t\tWREG32_SOC15(GC, 0, mmATC_L2_CACHE_4K_DSM_INDEX, i);\n\t\tdata = RREG32_SOC15(GC, 0, mmATC_L2_CACHE_4K_DSM_CNTL);\n\n\t\tsec_count = REG_GET_FIELD(data, ATC_L2_CACHE_4K_DSM_CNTL,\n\t\t\t\t\t  SEC_COUNT);\n\t\tif (sec_count) {\n\t\t\tdev_info(adev->dev,\n\t\t\t\t \"Instance[%d]: SubBlock %s, SEC %d\\n\", i,\n\t\t\t\t atc_l2_cache_4k_mems[i], sec_count);\n\t\t\terr_data->ce_count += sec_count;\n\t\t}\n\n\t\tded_count = REG_GET_FIELD(data, ATC_L2_CACHE_4K_DSM_CNTL,\n\t\t\t\t\t  DED_COUNT);\n\t\tif (ded_count) {\n\t\t\tdev_info(adev->dev,\n\t\t\t\t \"Instance[%d]: SubBlock %s, DED %d\\n\", i,\n\t\t\t\t atc_l2_cache_4k_mems[i], ded_count);\n\t\t\terr_data->ue_count += ded_count;\n\t\t}\n\t}\n\n\tWREG32_SOC15(GC, 0, mmVML2_MEM_ECC_INDEX, 255);\n\tWREG32_SOC15(GC, 0, mmVML2_WALKER_MEM_ECC_INDEX, 255);\n\tWREG32_SOC15(GC, 0, mmUTCL2_MEM_ECC_INDEX, 255);\n\tWREG32_SOC15(GC, 0, mmATC_L2_CACHE_2M_DSM_INDEX, 255);\n\tWREG32_SOC15(GC, 0, mmATC_L2_CACHE_4K_DSM_INDEX, 255);\n\n\treturn 0;\n}\n\nstatic int gfx_v9_4_ras_error_count(struct amdgpu_device *adev,\n\t\t\t\t    const struct soc15_reg_entry *reg,\n\t\t\t\t    uint32_t se_id, uint32_t inst_id,\n\t\t\t\t    uint32_t value, uint32_t *sec_count,\n\t\t\t\t    uint32_t *ded_count)\n{\n\tuint32_t i;\n\tuint32_t sec_cnt, ded_cnt;\n\n\tfor (i = 0; i < ARRAY_SIZE(gfx_v9_4_ras_fields); i++) {\n\t\tif (gfx_v9_4_ras_fields[i].reg_offset != reg->reg_offset ||\n\t\t    gfx_v9_4_ras_fields[i].seg != reg->seg ||\n\t\t    gfx_v9_4_ras_fields[i].inst != reg->inst)\n\t\t\tcontinue;\n\n\t\tsec_cnt = (value & gfx_v9_4_ras_fields[i].sec_count_mask) >>\n\t\t\t  gfx_v9_4_ras_fields[i].sec_count_shift;\n\t\tif (sec_cnt) {\n\t\t\tdev_info(adev->dev,\n\t\t\t\t \"GFX SubBlock %s, Instance[%d][%d], SEC %d\\n\",\n\t\t\t\t gfx_v9_4_ras_fields[i].name, se_id, inst_id,\n\t\t\t\t sec_cnt);\n\t\t\t*sec_count += sec_cnt;\n\t\t}\n\n\t\tded_cnt = (value & gfx_v9_4_ras_fields[i].ded_count_mask) >>\n\t\t\t  gfx_v9_4_ras_fields[i].ded_count_shift;\n\t\tif (ded_cnt) {\n\t\t\tdev_info(adev->dev,\n\t\t\t\t \"GFX SubBlock %s, Instance[%d][%d], DED %d\\n\",\n\t\t\t\t gfx_v9_4_ras_fields[i].name, se_id, inst_id,\n\t\t\t\t ded_cnt);\n\t\t\t*ded_count += ded_cnt;\n\t\t}\n\t}\n\n\treturn 0;\n}\n\nstatic void gfx_v9_4_query_ras_error_count(struct amdgpu_device *adev,\n\t\t\t\t\t  void *ras_error_status)\n{\n\tstruct ras_err_data *err_data = (struct ras_err_data *)ras_error_status;\n\tuint32_t sec_count = 0, ded_count = 0;\n\tuint32_t i, j, k;\n\tuint32_t reg_value;\n\n\tif (!amdgpu_ras_is_supported(adev, AMDGPU_RAS_BLOCK__GFX))\n\t\treturn;\n\n\terr_data->ue_count = 0;\n\terr_data->ce_count = 0;\n\n\tmutex_lock(&adev->grbm_idx_mutex);\n\n\tfor (i = 0; i < ARRAY_SIZE(gfx_v9_4_edc_counter_regs); i++) {\n\t\tfor (j = 0; j < gfx_v9_4_edc_counter_regs[i].se_num; j++) {\n\t\t\tfor (k = 0; k < gfx_v9_4_edc_counter_regs[i].instance;\n\t\t\t     k++) {\n\t\t\t\tgfx_v9_4_select_se_sh(adev, j, 0, k);\n\t\t\t\treg_value = RREG32(SOC15_REG_ENTRY_OFFSET(\n\t\t\t\t\tgfx_v9_4_edc_counter_regs[i]));\n\t\t\t\tif (reg_value)\n\t\t\t\t\tgfx_v9_4_ras_error_count(adev,\n\t\t\t\t\t\t&gfx_v9_4_edc_counter_regs[i],\n\t\t\t\t\t\tj, k, reg_value, &sec_count,\n\t\t\t\t\t\t&ded_count);\n\t\t\t}\n\t\t}\n\t}\n\n\terr_data->ce_count += sec_count;\n\terr_data->ue_count += ded_count;\n\n\tgfx_v9_4_select_se_sh(adev, 0xffffffff, 0xffffffff, 0xffffffff);\n\tmutex_unlock(&adev->grbm_idx_mutex);\n\n\tgfx_v9_4_query_utc_edc_status(adev, err_data);\n\n}\n\nstatic void gfx_v9_4_reset_ras_error_count(struct amdgpu_device *adev)\n{\n\tint i, j, k;\n\n\tif (!amdgpu_ras_is_supported(adev, AMDGPU_RAS_BLOCK__GFX))\n\t\treturn;\n\n\tmutex_lock(&adev->grbm_idx_mutex);\n\tfor (i = 0; i < ARRAY_SIZE(gfx_v9_4_edc_counter_regs); i++) {\n\t\tfor (j = 0; j < gfx_v9_4_edc_counter_regs[i].se_num; j++) {\n\t\t\tfor (k = 0; k < gfx_v9_4_edc_counter_regs[i].instance;\n\t\t\t     k++) {\n\t\t\t\tgfx_v9_4_select_se_sh(adev, j, 0x0, k);\n\t\t\t\tRREG32(SOC15_REG_ENTRY_OFFSET(\n\t\t\t\t\tgfx_v9_4_edc_counter_regs[i]));\n\t\t\t}\n\t\t}\n\t}\n\tWREG32_SOC15(GC, 0, mmGRBM_GFX_INDEX, 0xe0000000);\n\tmutex_unlock(&adev->grbm_idx_mutex);\n\n\tWREG32_SOC15(GC, 0, mmVML2_MEM_ECC_INDEX, 255);\n\tWREG32_SOC15(GC, 0, mmVML2_MEM_ECC_CNTL, 0);\n\tWREG32_SOC15(GC, 0, mmVML2_WALKER_MEM_ECC_INDEX, 255);\n\tWREG32_SOC15(GC, 0, mmVML2_WALKER_MEM_ECC_CNTL, 0);\n\tWREG32_SOC15(GC, 0, mmUTCL2_MEM_ECC_INDEX, 255);\n\tWREG32_SOC15(GC, 0, mmUTCL2_MEM_ECC_CNTL, 0);\n\n\tWREG32_SOC15(GC, 0, mmATC_L2_CACHE_2M_DSM_INDEX, 255);\n\tWREG32_SOC15(GC, 0, mmATC_L2_CACHE_2M_DSM_CNTL, 0);\n\tWREG32_SOC15(GC, 0, mmATC_L2_CACHE_4K_DSM_INDEX, 255);\n\tWREG32_SOC15(GC, 0, mmATC_L2_CACHE_2M_DSM_CNTL, 0);\n\n\tfor (i = 0; i < ARRAY_SIZE(vml2_mems); i++) {\n\t\tWREG32_SOC15(GC, 0, mmVML2_MEM_ECC_INDEX, i);\n\t\tRREG32_SOC15(GC, 0, mmVML2_MEM_ECC_CNTL);\n\t}\n\n\tfor (i = 0; i < ARRAY_SIZE(vml2_walker_mems); i++) {\n\t\tWREG32_SOC15(GC, 0, mmVML2_WALKER_MEM_ECC_INDEX, i);\n\t\tRREG32_SOC15(GC, 0, mmVML2_WALKER_MEM_ECC_CNTL);\n\t}\n\n\tfor (i = 0; i < ARRAY_SIZE(utcl2_router_mems); i++) {\n\t\tWREG32_SOC15(GC, 0, mmUTCL2_MEM_ECC_INDEX, i);\n\t\tRREG32_SOC15(GC, 0, mmUTCL2_MEM_ECC_CNTL);\n\t}\n\n\tfor (i = 0; i < ARRAY_SIZE(atc_l2_cache_2m_mems); i++) {\n\t\tWREG32_SOC15(GC, 0, mmATC_L2_CACHE_2M_DSM_INDEX, i);\n\t\tRREG32_SOC15(GC, 0, mmATC_L2_CACHE_2M_DSM_CNTL);\n\t}\n\n\tfor (i = 0; i < ARRAY_SIZE(atc_l2_cache_4k_mems); i++) {\n\t\tWREG32_SOC15(GC, 0, mmATC_L2_CACHE_4K_DSM_INDEX, i);\n\t\tRREG32_SOC15(GC, 0, mmATC_L2_CACHE_4K_DSM_CNTL);\n\t}\n\n\tWREG32_SOC15(GC, 0, mmVML2_MEM_ECC_INDEX, 255);\n\tWREG32_SOC15(GC, 0, mmVML2_WALKER_MEM_ECC_INDEX, 255);\n\tWREG32_SOC15(GC, 0, mmUTCL2_MEM_ECC_INDEX, 255);\n\tWREG32_SOC15(GC, 0, mmATC_L2_CACHE_2M_DSM_INDEX, 255);\n\tWREG32_SOC15(GC, 0, mmATC_L2_CACHE_4K_DSM_INDEX, 255);\n}\n\nstatic const struct soc15_reg_entry gfx_v9_4_ea_err_status_regs =\n\t{ SOC15_REG_ENTRY(GC, 0, mmGCEA_ERR_STATUS), 0, 1, 32 };\n\nstatic void gfx_v9_4_query_ras_error_status(struct amdgpu_device *adev)\n{\n\tuint32_t i, j;\n\tuint32_t reg_value;\n\n\tif (!amdgpu_ras_is_supported(adev, AMDGPU_RAS_BLOCK__GFX))\n\t\treturn;\n\n\tmutex_lock(&adev->grbm_idx_mutex);\n\n\tfor (i = 0; i < gfx_v9_4_ea_err_status_regs.se_num; i++) {\n\t\tfor (j = 0; j < gfx_v9_4_ea_err_status_regs.instance;\n\t\t     j++) {\n\t\t\tgfx_v9_4_select_se_sh(adev, i, 0, j);\n\t\t\treg_value = RREG32(SOC15_REG_ENTRY_OFFSET(\n\t\t\t\tgfx_v9_4_ea_err_status_regs));\n\t\t\tif (REG_GET_FIELD(reg_value, GCEA_ERR_STATUS, SDP_RDRSP_STATUS) ||\n\t\t\t    REG_GET_FIELD(reg_value, GCEA_ERR_STATUS, SDP_WRRSP_STATUS) ||\n\t\t\t    REG_GET_FIELD(reg_value, GCEA_ERR_STATUS, SDP_RDRSP_DATAPARITY_ERROR)) {\n\t\t\t\t \n\t\t\t\tdev_warn(adev->dev, \"GCEA err detected at instance: %d, status: 0x%x!\\n\",\n\t\t\t\t\t\tj, reg_value);\n\t\t\t}\n\t\t}\n\t}\n\n\tgfx_v9_4_select_se_sh(adev, 0xffffffff, 0xffffffff, 0xffffffff);\n\tmutex_unlock(&adev->grbm_idx_mutex);\n}\n\n\nconst struct amdgpu_ras_block_hw_ops  gfx_v9_4_ras_ops = {\n\t.query_ras_error_count = &gfx_v9_4_query_ras_error_count,\n\t.reset_ras_error_count = &gfx_v9_4_reset_ras_error_count,\n\t.query_ras_error_status = &gfx_v9_4_query_ras_error_status,\n};\n\nstruct amdgpu_gfx_ras gfx_v9_4_ras = {\n\t.ras_block = {\n\t\t.hw_ops = &gfx_v9_4_ras_ops,\n\t},\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}