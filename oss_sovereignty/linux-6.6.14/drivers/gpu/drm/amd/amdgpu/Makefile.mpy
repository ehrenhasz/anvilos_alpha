{
  "module_name": "Makefile",
  "hash_id": "979b81a8fc84cd1f40ffa31001d1797c8e4dfe321332cca8c32d23789a86b972",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/amdgpu/Makefile",
  "human_readable_source": "#\n# Copyright 2017 Advanced Micro Devices, Inc.\n#\n# Permission is hereby granted, free of charge, to any person obtaining a\n# copy of this software and associated documentation files (the \"Software\"),\n# to deal in the Software without restriction, including without limitation\n# the rights to use, copy, modify, merge, publish, distribute, sublicense,\n# and/or sell copies of the Software, and to permit persons to whom the\n# Software is furnished to do so, subject to the following conditions:\n#\n# The above copyright notice and this permission notice shall be included in\n# all copies or substantial portions of the Software.\n#\n# THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n# THE COPYRIGHT HOLDER(S) OR AUTHOR(S) BE LIABLE FOR ANY CLAIM, DAMAGES OR\n# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n# OTHER DEALINGS IN THE SOFTWARE.\n#\n#\n# Makefile for the drm device driver.  This driver provides support for the\n# Direct Rendering Infrastructure (DRI) in XFree86 4.1.0 and higher.\n\nFULL_AMD_PATH=$(srctree)/$(src)/..\nDISPLAY_FOLDER_NAME=display\nFULL_AMD_DISPLAY_PATH = $(FULL_AMD_PATH)/$(DISPLAY_FOLDER_NAME)\n\nccflags-y := -I$(FULL_AMD_PATH)/include/asic_reg \\\n\t-I$(FULL_AMD_PATH)/include \\\n\t-I$(FULL_AMD_PATH)/amdgpu \\\n\t-I$(FULL_AMD_PATH)/pm/inc \\\n\t-I$(FULL_AMD_PATH)/acp/include \\\n\t-I$(FULL_AMD_DISPLAY_PATH) \\\n\t-I$(FULL_AMD_DISPLAY_PATH)/include \\\n\t-I$(FULL_AMD_DISPLAY_PATH)/modules/inc \\\n\t-I$(FULL_AMD_DISPLAY_PATH)/dc \\\n\t-I$(FULL_AMD_DISPLAY_PATH)/amdgpu_dm \\\n\t-I$(FULL_AMD_PATH)/amdkfd\n\nsubdir-ccflags-y := -Wextra\nsubdir-ccflags-y += -Wunused\nsubdir-ccflags-y += -Wmissing-prototypes\nsubdir-ccflags-y += -Wmissing-declarations\nsubdir-ccflags-y += -Wmissing-include-dirs\nsubdir-ccflags-y += -Wold-style-definition\nsubdir-ccflags-y += -Wmissing-format-attribute\n# Need this to avoid recursive variable evaluation issues\ncond-flags := $(call cc-option, -Wunused-but-set-variable) \\\n\t$(call cc-option, -Wunused-const-variable) \\\n\t$(call cc-option, -Wstringop-truncation) \\\n\t$(call cc-option, -Wpacked-not-aligned)\nsubdir-ccflags-y += $(cond-flags)\nsubdir-ccflags-y += -Wno-unused-parameter\nsubdir-ccflags-y += -Wno-type-limits\nsubdir-ccflags-y += -Wno-sign-compare\nsubdir-ccflags-y += -Wno-missing-field-initializers\nsubdir-ccflags-y += -Wno-override-init\nsubdir-ccflags-$(CONFIG_DRM_AMDGPU_WERROR) += -Werror\n\namdgpu-y := amdgpu_drv.o\n\n# add KMS driver\namdgpu-y += amdgpu_device.o amdgpu_doorbell_mgr.o amdgpu_kms.o \\\n\tamdgpu_atombios.o atombios_crtc.o amdgpu_connectors.o \\\n\tatom.o amdgpu_fence.o amdgpu_ttm.o amdgpu_object.o amdgpu_gart.o \\\n\tamdgpu_encoders.o amdgpu_display.o amdgpu_i2c.o \\\n\tamdgpu_gem.o amdgpu_ring.o \\\n\tamdgpu_cs.o amdgpu_bios.o amdgpu_benchmark.o \\\n\tatombios_dp.o amdgpu_afmt.o amdgpu_trace_points.o \\\n\tatombios_encoders.o amdgpu_sa.o atombios_i2c.o \\\n\tamdgpu_dma_buf.o amdgpu_vm.o amdgpu_vm_pt.o amdgpu_ib.o amdgpu_pll.o \\\n\tamdgpu_ucode.o amdgpu_bo_list.o amdgpu_ctx.o amdgpu_sync.o \\\n\tamdgpu_gtt_mgr.o amdgpu_preempt_mgr.o amdgpu_vram_mgr.o amdgpu_virt.o \\\n\tamdgpu_atomfirmware.o amdgpu_vf_error.o amdgpu_sched.o \\\n\tamdgpu_debugfs.o amdgpu_ids.o amdgpu_gmc.o amdgpu_mmhub.o amdgpu_hdp.o \\\n\tamdgpu_xgmi.o amdgpu_csa.o amdgpu_ras.o amdgpu_vm_cpu.o \\\n\tamdgpu_vm_sdma.o amdgpu_discovery.o amdgpu_ras_eeprom.o amdgpu_nbio.o \\\n\tamdgpu_umc.o smu_v11_0_i2c.o amdgpu_fru_eeprom.o amdgpu_rap.o \\\n\tamdgpu_fw_attestation.o amdgpu_securedisplay.o \\\n\tamdgpu_eeprom.o amdgpu_mca.o amdgpu_psp_ta.o amdgpu_lsdma.o \\\n\tamdgpu_ring_mux.o amdgpu_xcp.o\n\namdgpu-$(CONFIG_PROC_FS) += amdgpu_fdinfo.o\n\namdgpu-$(CONFIG_PERF_EVENTS) += amdgpu_pmu.o\n\n# add asic specific block\namdgpu-$(CONFIG_DRM_AMDGPU_CIK)+= cik.o cik_ih.o \\\n\tdce_v8_0.o gfx_v7_0.o cik_sdma.o uvd_v4_2.o vce_v2_0.o\n\namdgpu-$(CONFIG_DRM_AMDGPU_SI)+= si.o gmc_v6_0.o gfx_v6_0.o si_ih.o si_dma.o dce_v6_0.o \\\n\tuvd_v3_1.o\n\namdgpu-y += \\\n\tvi.o mxgpu_vi.o nbio_v6_1.o soc15.o emu_soc.o mxgpu_ai.o nbio_v7_0.o vega10_reg_init.o \\\n\tvega20_reg_init.o nbio_v7_4.o nbio_v2_3.o nv.o arct_reg_init.o mxgpu_nv.o \\\n\tnbio_v7_2.o hdp_v4_0.o hdp_v5_0.o aldebaran_reg_init.o aldebaran.o soc21.o \\\n\tsienna_cichlid.o smu_v13_0_10.o nbio_v4_3.o hdp_v6_0.o nbio_v7_7.o hdp_v5_2.o lsdma_v6_0.o \\\n\tnbio_v7_9.o aqua_vanjaram.o\n\n# add DF block\namdgpu-y += \\\n\tdf_v1_7.o \\\n\tdf_v3_6.o \\\n\tdf_v4_3.o\n\n# add GMC block\namdgpu-y += \\\n\tgmc_v7_0.o \\\n\tgmc_v8_0.o \\\n\tgfxhub_v1_0.o mmhub_v1_0.o gmc_v9_0.o gfxhub_v1_1.o mmhub_v9_4.o \\\n\tgfxhub_v2_0.o mmhub_v2_0.o gmc_v10_0.o gfxhub_v2_1.o mmhub_v2_3.o \\\n\tmmhub_v1_7.o gfxhub_v3_0.o mmhub_v3_0.o mmhub_v3_0_2.o gmc_v11_0.o \\\n\tmmhub_v3_0_1.o gfxhub_v3_0_3.o gfxhub_v1_2.o mmhub_v1_8.o\n\n# add UMC block\namdgpu-y += \\\n\tumc_v6_0.o umc_v6_1.o umc_v6_7.o umc_v8_7.o umc_v8_10.o\n\n# add IH block\namdgpu-y += \\\n\tamdgpu_irq.o \\\n\tamdgpu_ih.o \\\n\ticeland_ih.o \\\n\ttonga_ih.o \\\n\tcz_ih.o \\\n\tvega10_ih.o \\\n\tvega20_ih.o \\\n\tnavi10_ih.o \\\n\tih_v6_0.o \\\n\tih_v6_1.o\n\n# add PSP block\namdgpu-y += \\\n\tamdgpu_psp.o \\\n\tpsp_v3_1.o \\\n\tpsp_v10_0.o \\\n\tpsp_v11_0.o \\\n\tpsp_v11_0_8.o \\\n\tpsp_v12_0.o \\\n\tpsp_v13_0.o \\\n\tpsp_v13_0_4.o\n\n# add DCE block\namdgpu-y += \\\n\tdce_v10_0.o \\\n\tdce_v11_0.o \\\n\tamdgpu_vkms.o\n\n# add GFX block\namdgpu-y += \\\n\tamdgpu_gfx.o \\\n\tamdgpu_rlc.o \\\n\tgfx_v8_0.o \\\n\tgfx_v9_0.o \\\n\tgfx_v9_4.o \\\n\tgfx_v9_4_2.o \\\n\tgfx_v9_4_3.o \\\n\tgfx_v10_0.o \\\n\timu_v11_0.o \\\n\tgfx_v11_0.o \\\n\tgfx_v11_0_3.o \\\n\timu_v11_0_3.o\n\n# add async DMA block\namdgpu-y += \\\n\tamdgpu_sdma.o \\\n\tsdma_v2_4.o \\\n\tsdma_v3_0.o \\\n\tsdma_v4_0.o \\\n\tsdma_v4_4.o \\\n\tsdma_v4_4_2.o \\\n\tsdma_v5_0.o \\\n\tsdma_v5_2.o \\\n\tsdma_v6_0.o\n\n# add MES block\namdgpu-y += \\\n\tamdgpu_mes.o \\\n\tmes_v10_1.o \\\n\tmes_v11_0.o\n\n# add UVD block\namdgpu-y += \\\n\tamdgpu_uvd.o \\\n\tuvd_v5_0.o \\\n\tuvd_v6_0.o \\\n\tuvd_v7_0.o\n\n# add VCE block\namdgpu-y += \\\n\tamdgpu_vce.o \\\n\tvce_v3_0.o \\\n\tvce_v4_0.o\n\n# add VCN and JPEG block\namdgpu-y += \\\n\tamdgpu_vcn.o \\\n\tvcn_sw_ring.o \\\n\tvcn_v1_0.o \\\n\tvcn_v2_0.o \\\n\tvcn_v2_5.o \\\n\tvcn_v3_0.o \\\n\tvcn_v4_0.o \\\n\tvcn_v4_0_3.o \\\n\tamdgpu_jpeg.o \\\n\tjpeg_v1_0.o \\\n\tjpeg_v2_0.o \\\n\tjpeg_v2_5.o \\\n\tjpeg_v3_0.o \\\n\tjpeg_v4_0.o \\\n\tjpeg_v4_0_3.o\n\n# add ATHUB block\namdgpu-y += \\\n\tathub_v1_0.o \\\n\tathub_v2_0.o \\\n\tathub_v2_1.o \\\n\tathub_v3_0.o\n\n# add SMUIO block\namdgpu-y += \\\n\tsmuio_v9_0.o \\\n\tsmuio_v11_0.o \\\n\tsmuio_v11_0_6.o \\\n\tsmuio_v13_0.o \\\n\tsmuio_v13_0_3.o \\\n\tsmuio_v13_0_6.o\n\n# add reset block\namdgpu-y += \\\n\tamdgpu_reset.o\n\n# add MCA block\namdgpu-y += \\\n\tmca_v3_0.o\n\n# add amdkfd interfaces\namdgpu-y += amdgpu_amdkfd.o\n\n\nifneq ($(CONFIG_HSA_AMD),)\nAMDKFD_PATH := ../amdkfd\ninclude $(FULL_AMD_PATH)/amdkfd/Makefile\namdgpu-y += $(AMDKFD_FILES)\namdgpu-y += \\\n\tamdgpu_amdkfd_fence.o \\\n\tamdgpu_amdkfd_gpuvm.o \\\n\tamdgpu_amdkfd_gfx_v8.o \\\n\tamdgpu_amdkfd_gfx_v9.o \\\n\tamdgpu_amdkfd_arcturus.o \\\n\tamdgpu_amdkfd_aldebaran.o \\\n\tamdgpu_amdkfd_gc_9_4_3.o \\\n\tamdgpu_amdkfd_gfx_v10.o \\\n\tamdgpu_amdkfd_gfx_v10_3.o \\\n\tamdgpu_amdkfd_gfx_v11.o\n\nifneq ($(CONFIG_DRM_AMDGPU_CIK),)\namdgpu-y += amdgpu_amdkfd_gfx_v7.o\nendif\n\nendif\n\n# add cgs\namdgpu-y += amdgpu_cgs.o\n\n# GPU scheduler\namdgpu-y += amdgpu_job.o\n\n# ACP componet\nifneq ($(CONFIG_DRM_AMD_ACP),)\namdgpu-y += amdgpu_acp.o\n\nAMDACPPATH := ../acp\ninclude $(FULL_AMD_PATH)/acp/Makefile\n\namdgpu-y += $(AMD_ACP_FILES)\nendif\n\namdgpu-$(CONFIG_COMPAT) += amdgpu_ioc32.o\namdgpu-$(CONFIG_VGA_SWITCHEROO) += amdgpu_atpx_handler.o\namdgpu-$(CONFIG_ACPI) += amdgpu_acpi.o\namdgpu-$(CONFIG_HMM_MIRROR) += amdgpu_hmm.o\n\ninclude $(FULL_AMD_PATH)/pm/Makefile\n\namdgpu-y += $(AMD_POWERPLAY_FILES)\n\nifneq ($(CONFIG_DRM_AMD_DC),)\n\nRELATIVE_AMD_DISPLAY_PATH = ../$(DISPLAY_FOLDER_NAME)\ninclude $(FULL_AMD_DISPLAY_PATH)/Makefile\n\namdgpu-y += $(AMD_DISPLAY_FILES)\n\nendif\n\nobj-$(CONFIG_DRM_AMDGPU)+= amdgpu.o\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}