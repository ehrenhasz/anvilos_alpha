{
  "module_name": "amdgpu_xgmi.h",
  "hash_id": "5112acdb358ab1a89d133499cbe7988b1ce8dfd4d3cf6a7a56af6cbb9ae90116",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/amdgpu/amdgpu_xgmi.h",
  "human_readable_source": " \n#ifndef __AMDGPU_XGMI_H__\n#define __AMDGPU_XGMI_H__\n\n#include <drm/task_barrier.h>\n#include \"amdgpu_psp.h\"\n#include \"amdgpu_ras.h\"\n\nstruct amdgpu_hive_info {\n\tstruct kobject kobj;\n\tuint64_t hive_id;\n\tstruct list_head device_list;\n\tstruct list_head node;\n\tatomic_t number_devices;\n\tstruct mutex hive_lock;\n\tint hi_req_count;\n\tstruct amdgpu_device *hi_req_gpu;\n\tstruct task_barrier tb;\n\tenum {\n\t\tAMDGPU_XGMI_PSTATE_MIN,\n\t\tAMDGPU_XGMI_PSTATE_MAX_VEGA20,\n\t\tAMDGPU_XGMI_PSTATE_UNKNOWN\n\t} pstate;\n\n\tstruct amdgpu_reset_domain *reset_domain;\n\tuint32_t device_remove_count;\n};\n\nstruct amdgpu_pcs_ras_field {\n\tconst char *err_name;\n\tuint32_t pcs_err_mask;\n\tuint32_t pcs_err_shift;\n};\n\nextern struct amdgpu_xgmi_ras  xgmi_ras;\nstruct amdgpu_hive_info *amdgpu_get_xgmi_hive(struct amdgpu_device *adev);\nvoid amdgpu_put_xgmi_hive(struct amdgpu_hive_info *hive);\nint amdgpu_xgmi_update_topology(struct amdgpu_hive_info *hive, struct amdgpu_device *adev);\nint amdgpu_xgmi_add_device(struct amdgpu_device *adev);\nint amdgpu_xgmi_remove_device(struct amdgpu_device *adev);\nint amdgpu_xgmi_set_pstate(struct amdgpu_device *adev, int pstate);\nint amdgpu_xgmi_get_hops_count(struct amdgpu_device *adev,\n\t\tstruct amdgpu_device *peer_adev);\nint amdgpu_xgmi_get_num_links(struct amdgpu_device *adev,\n\t\tstruct amdgpu_device *peer_adev);\nuint64_t amdgpu_xgmi_get_relative_phy_addr(struct amdgpu_device *adev,\n\t\t\t\t\t   uint64_t addr);\nstatic inline bool amdgpu_xgmi_same_hive(struct amdgpu_device *adev,\n\t\tstruct amdgpu_device *bo_adev)\n{\n\treturn (amdgpu_use_xgmi_p2p &&\n\t\tadev != bo_adev &&\n\t\tadev->gmc.xgmi.hive_id &&\n\t\tadev->gmc.xgmi.hive_id == bo_adev->gmc.xgmi.hive_id);\n}\nint amdgpu_xgmi_ras_sw_init(struct amdgpu_device *adev);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}