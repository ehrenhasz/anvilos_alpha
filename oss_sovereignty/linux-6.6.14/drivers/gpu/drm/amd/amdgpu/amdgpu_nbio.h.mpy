{
  "module_name": "amdgpu_nbio.h",
  "hash_id": "a60eadfc67a60c589bb9d66393ff01881f85ab747861352da4ca83812ce68323",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/amdgpu/amdgpu_nbio.h",
  "human_readable_source": " \n#ifndef __AMDGPU_NBIO_H__\n#define __AMDGPU_NBIO_H__\n\n \nstruct nbio_hdp_flush_reg {\n\tu32 ref_and_mask_cp0;\n\tu32 ref_and_mask_cp1;\n\tu32 ref_and_mask_cp2;\n\tu32 ref_and_mask_cp3;\n\tu32 ref_and_mask_cp4;\n\tu32 ref_and_mask_cp5;\n\tu32 ref_and_mask_cp6;\n\tu32 ref_and_mask_cp7;\n\tu32 ref_and_mask_cp8;\n\tu32 ref_and_mask_cp9;\n\tu32 ref_and_mask_sdma0;\n\tu32 ref_and_mask_sdma1;\n\tu32 ref_and_mask_sdma2;\n\tu32 ref_and_mask_sdma3;\n\tu32 ref_and_mask_sdma4;\n\tu32 ref_and_mask_sdma5;\n\tu32 ref_and_mask_sdma6;\n\tu32 ref_and_mask_sdma7;\n};\n\nstruct amdgpu_nbio_ras {\n\tstruct amdgpu_ras_block_object ras_block;\n\tvoid (*handle_ras_controller_intr_no_bifring)(struct amdgpu_device *adev);\n\tvoid (*handle_ras_err_event_athub_intr_no_bifring)(struct amdgpu_device *adev);\n\tint (*init_ras_controller_interrupt)(struct amdgpu_device *adev);\n\tint (*init_ras_err_event_athub_interrupt)(struct amdgpu_device *adev);\n};\n\nstruct amdgpu_nbio_funcs {\n\tconst struct nbio_hdp_flush_reg *hdp_flush_reg;\n\tu32 (*get_hdp_flush_req_offset)(struct amdgpu_device *adev);\n\tu32 (*get_hdp_flush_done_offset)(struct amdgpu_device *adev);\n\tu32 (*get_pcie_index_offset)(struct amdgpu_device *adev);\n\tu32 (*get_pcie_data_offset)(struct amdgpu_device *adev);\n\tu32 (*get_pcie_index_hi_offset)(struct amdgpu_device *adev);\n\tu32 (*get_pcie_port_index_offset)(struct amdgpu_device *adev);\n\tu32 (*get_pcie_port_data_offset)(struct amdgpu_device *adev);\n\tu32 (*get_rev_id)(struct amdgpu_device *adev);\n\tvoid (*mc_access_enable)(struct amdgpu_device *adev, bool enable);\n\tu32 (*get_memsize)(struct amdgpu_device *adev);\n\tvoid (*sdma_doorbell_range)(struct amdgpu_device *adev, int instance,\n\t\t\tbool use_doorbell, int doorbell_index, int doorbell_size);\n\tvoid (*vcn_doorbell_range)(struct amdgpu_device *adev, bool use_doorbell,\n\t\t\t\t   int doorbell_index, int instance);\n\tvoid (*gc_doorbell_init)(struct amdgpu_device *adev);\n\tvoid (*enable_doorbell_aperture)(struct amdgpu_device *adev,\n\t\t\t\t\t bool enable);\n\tvoid (*enable_doorbell_selfring_aperture)(struct amdgpu_device *adev,\n\t\t\t\t\t\t  bool enable);\n\tvoid (*ih_doorbell_range)(struct amdgpu_device *adev,\n\t\t\t\t  bool use_doorbell, int doorbell_index);\n\tvoid (*enable_doorbell_interrupt)(struct amdgpu_device *adev,\n\t\t\t\t\t  bool enable);\n\tvoid (*update_medium_grain_clock_gating)(struct amdgpu_device *adev,\n\t\t\t\t\t\t bool enable);\n\tvoid (*update_medium_grain_light_sleep)(struct amdgpu_device *adev,\n\t\t\t\t\t\tbool enable);\n\tvoid (*get_clockgating_state)(struct amdgpu_device *adev,\n\t\t\t\t      u64 *flags);\n\tvoid (*ih_control)(struct amdgpu_device *adev);\n\tvoid (*init_registers)(struct amdgpu_device *adev);\n\tvoid (*remap_hdp_registers)(struct amdgpu_device *adev);\n\tvoid (*enable_aspm)(struct amdgpu_device *adev,\n\t\t\t    bool enable);\n\tvoid (*program_aspm)(struct amdgpu_device *adev);\n\tvoid (*apply_lc_spc_mode_wa)(struct amdgpu_device *adev);\n\tvoid (*apply_l1_link_width_reconfig_wa)(struct amdgpu_device *adev);\n\tvoid (*clear_doorbell_interrupt)(struct amdgpu_device *adev);\n\tu32 (*get_rom_offset)(struct amdgpu_device *adev);\n\tint (*get_compute_partition_mode)(struct amdgpu_device *adev);\n\tu32 (*get_memory_partition_mode)(struct amdgpu_device *adev,\n\t\t\t\t\t u32 *supp_modes);\n\tu64 (*get_pcie_replay_count)(struct amdgpu_device *adev);\n\tvoid (*get_pcie_usage)(struct amdgpu_device *adev, uint64_t *count0,\n\t\t\t\t\tuint64_t *count1);\n};\n\nstruct amdgpu_nbio {\n\tconst struct nbio_hdp_flush_reg *hdp_flush_reg;\n\tstruct amdgpu_irq_src ras_controller_irq;\n\tstruct amdgpu_irq_src ras_err_event_athub_irq;\n\tstruct ras_common_if *ras_if;\n\tconst struct amdgpu_nbio_funcs *funcs;\n\tstruct amdgpu_nbio_ras  *ras;\n};\n\nint amdgpu_nbio_ras_sw_init(struct amdgpu_device *adev);\nvoid amdgpu_nbio_get_pcie_usage(struct amdgpu_device *adev, uint64_t *count0, uint64_t *count1);\nint amdgpu_nbio_ras_late_init(struct amdgpu_device *adev, struct ras_common_if *ras_block);\nu64 amdgpu_nbio_get_pcie_replay_count(struct amdgpu_device *adev);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}