{
  "module_name": "amdgpu_vce.h",
  "hash_id": "1552361bc403fd76d9ffb965dc8f92f4bde327e08630f31e6303e38257c1954e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/amdgpu/amdgpu_vce.h",
  "human_readable_source": " \n\n#ifndef __AMDGPU_VCE_H__\n#define __AMDGPU_VCE_H__\n\n#define AMDGPU_MAX_VCE_HANDLES\t16\n#define AMDGPU_VCE_FIRMWARE_OFFSET 256\n\n#define AMDGPU_VCE_HARVEST_VCE0 (1 << 0)\n#define AMDGPU_VCE_HARVEST_VCE1 (1 << 1)\n\n#define AMDGPU_VCE_FW_53_45\t((53 << 24) | (45 << 16))\n\nstruct amdgpu_vce {\n\tstruct amdgpu_bo\t*vcpu_bo;\n\tuint64_t\t\tgpu_addr;\n\tvoid\t\t\t*cpu_addr;\n\tvoid\t\t\t*saved_bo;\n\tunsigned\t\tfw_version;\n\tunsigned\t\tfb_version;\n\tatomic_t\t\thandles[AMDGPU_MAX_VCE_HANDLES];\n\tstruct drm_file\t\t*filp[AMDGPU_MAX_VCE_HANDLES];\n\tuint32_t\t\timg_size[AMDGPU_MAX_VCE_HANDLES];\n\tstruct delayed_work\tidle_work;\n\tstruct mutex\t\tidle_mutex;\n\tconst struct firmware\t*fw;\t \n\tstruct amdgpu_ring\tring[AMDGPU_MAX_VCE_RINGS];\n\tstruct amdgpu_irq_src\tirq;\n\tunsigned\t\tharvest_config;\n\tstruct drm_sched_entity\tentity;\n\tuint32_t                srbm_soft_reset;\n\tunsigned\t\tnum_rings;\n};\n\nint amdgpu_vce_sw_init(struct amdgpu_device *adev, unsigned long size);\nint amdgpu_vce_sw_fini(struct amdgpu_device *adev);\nint amdgpu_vce_entity_init(struct amdgpu_device *adev);\nint amdgpu_vce_suspend(struct amdgpu_device *adev);\nint amdgpu_vce_resume(struct amdgpu_device *adev);\nvoid amdgpu_vce_free_handles(struct amdgpu_device *adev, struct drm_file *filp);\nint amdgpu_vce_ring_parse_cs(struct amdgpu_cs_parser *p, struct amdgpu_job *job,\n\t\t\t     struct amdgpu_ib *ib);\nint amdgpu_vce_ring_parse_cs_vm(struct amdgpu_cs_parser *p,\n\t\t\t\tstruct amdgpu_job *job,\n\t\t\t\tstruct amdgpu_ib *ib);\nvoid amdgpu_vce_ring_emit_ib(struct amdgpu_ring *ring, struct amdgpu_job *job,\n\t\t\t\tstruct amdgpu_ib *ib, uint32_t flags);\nvoid amdgpu_vce_ring_emit_fence(struct amdgpu_ring *ring, u64 addr, u64 seq,\n\t\t\t\tunsigned flags);\nint amdgpu_vce_ring_test_ring(struct amdgpu_ring *ring);\nint amdgpu_vce_ring_test_ib(struct amdgpu_ring *ring, long timeout);\nvoid amdgpu_vce_ring_begin_use(struct amdgpu_ring *ring);\nvoid amdgpu_vce_ring_end_use(struct amdgpu_ring *ring);\nunsigned amdgpu_vce_ring_get_emit_ib_size(struct amdgpu_ring *ring);\nunsigned amdgpu_vce_ring_get_dma_frame_size(struct amdgpu_ring *ring);\nenum amdgpu_ring_priority_level amdgpu_vce_get_ring_prio(int ring);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}