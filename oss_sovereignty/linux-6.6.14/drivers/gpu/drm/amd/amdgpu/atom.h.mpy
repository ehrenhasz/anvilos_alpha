{
  "module_name": "atom.h",
  "hash_id": "1edcf7cd60fe3df6aad9117327f76586ecb63b66dbb6d4f308a1f4eb37dc42e0",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/amdgpu/atom.h",
  "human_readable_source": " \n\n#ifndef ATOM_H\n#define ATOM_H\n\n#include <linux/types.h>\n\nstruct drm_device;\n\n#define ATOM_BIOS_MAGIC\t\t0xAA55\n#define ATOM_ATI_MAGIC_PTR\t0x30\n#define ATOM_ATI_MAGIC\t\t\" 761295520\"\n#define ATOM_ROM_TABLE_PTR\t0x48\n\n#define ATOM_ROM_MAGIC\t\t\"ATOM\"\n#define ATOM_ROM_MAGIC_PTR\t4\n\n#define ATOM_ROM_MSG_PTR\t0x10\n#define ATOM_ROM_CMD_PTR\t0x1E\n#define ATOM_ROM_DATA_PTR\t0x20\n\n#define ATOM_CMD_INIT\t\t0\n#define ATOM_CMD_SETSCLK\t0x0A\n#define ATOM_CMD_SETMCLK\t0x0B\n#define ATOM_CMD_SETPCLK\t0x0C\n#define ATOM_CMD_SPDFANCNTL\t0x39\n\n#define ATOM_DATA_FWI_PTR\t0xC\n#define ATOM_DATA_IIO_PTR\t0x32\n\n#define ATOM_FWI_DEFSCLK_PTR\t8\n#define ATOM_FWI_DEFMCLK_PTR\t0xC\n#define ATOM_FWI_MAXSCLK_PTR\t0x24\n#define ATOM_FWI_MAXMCLK_PTR\t0x28\n\n#define ATOM_CT_SIZE_PTR\t0\n#define ATOM_CT_WS_PTR\t\t4\n#define ATOM_CT_PS_PTR\t\t5\n#define ATOM_CT_PS_MASK\t\t0x7F\n#define ATOM_CT_CODE_PTR\t6\n\n#define ATOM_OP_CNT\t\t127\n#define ATOM_OP_EOT\t\t91\n\n#define ATOM_CASE_MAGIC\t\t0x63\n#define ATOM_CASE_END\t\t0x5A5A\n\n#define ATOM_ARG_REG\t\t0\n#define ATOM_ARG_PS\t\t1\n#define ATOM_ARG_WS\t\t2\n#define ATOM_ARG_FB\t\t3\n#define ATOM_ARG_ID\t\t4\n#define ATOM_ARG_IMM\t\t5\n#define ATOM_ARG_PLL\t\t6\n#define ATOM_ARG_MC\t\t7\n\n#define ATOM_SRC_DWORD\t\t0\n#define ATOM_SRC_WORD0\t\t1\n#define ATOM_SRC_WORD8\t\t2\n#define ATOM_SRC_WORD16\t\t3\n#define ATOM_SRC_BYTE0\t\t4\n#define ATOM_SRC_BYTE8\t\t5\n#define ATOM_SRC_BYTE16\t\t6\n#define ATOM_SRC_BYTE24\t\t7\n\n#define ATOM_WS_QUOTIENT\t0x40\n#define ATOM_WS_REMAINDER\t0x41\n#define ATOM_WS_DATAPTR\t\t0x42\n#define ATOM_WS_SHIFT\t\t0x43\n#define ATOM_WS_OR_MASK\t\t0x44\n#define ATOM_WS_AND_MASK\t0x45\n#define ATOM_WS_FB_WINDOW\t0x46\n#define ATOM_WS_ATTRIBUTES\t0x47\n#define ATOM_WS_REGPTR\t\t0x48\n\n#define ATOM_IIO_NOP\t\t0\n#define ATOM_IIO_START\t\t1\n#define ATOM_IIO_READ\t\t2\n#define ATOM_IIO_WRITE\t\t3\n#define ATOM_IIO_CLEAR\t\t4\n#define ATOM_IIO_SET\t\t5\n#define ATOM_IIO_MOVE_INDEX\t6\n#define ATOM_IIO_MOVE_ATTR\t7\n#define ATOM_IIO_MOVE_DATA\t8\n#define ATOM_IIO_END\t\t9\n\n#define ATOM_IO_MM\t\t0\n#define ATOM_IO_PCI\t\t1\n#define ATOM_IO_SYSIO\t\t2\n#define ATOM_IO_IIO\t\t0x80\n\n#define STRLEN_NORMAL\t\t32\n#define STRLEN_LONG\t\t64\n#define STRLEN_VERYLONG\t\t254\n\nstruct card_info {\n\tstruct drm_device *dev;\n\tvoid (*reg_write)(struct card_info *info,\n\t\t\t  u32 reg, uint32_t val);    \n\tuint32_t (*reg_read)(struct card_info *info, uint32_t reg);           \n\tvoid (*mc_write)(struct card_info *info,\n\t\t\t u32 reg, uint32_t val);    \n\tuint32_t (*mc_read)(struct card_info *info, uint32_t reg);           \n\tvoid (*pll_write)(struct card_info *info,\n\t\t\t  u32 reg, uint32_t val);    \n\tuint32_t (*pll_read)(struct card_info *info, uint32_t reg);           \n};\n\nstruct atom_context {\n\tstruct card_info *card;\n\tstruct mutex mutex;\n\tvoid *bios;\n\tuint32_t cmd_table, data_table;\n\tuint16_t *iio;\n\n\tuint16_t data_block;\n\tuint32_t fb_base;\n\tuint32_t divmul[2];\n\tuint16_t io_attr;\n\tuint16_t reg_block;\n\tuint8_t shift;\n\tint cs_equal, cs_above;\n\tint io_mode;\n\tuint32_t *scratch;\n\tint scratch_size_bytes;\n\n\tuint8_t name[STRLEN_LONG];\n\tuint8_t vbios_pn[STRLEN_LONG];\n\tuint32_t version;\n\tuint8_t vbios_ver_str[STRLEN_NORMAL];\n\tuint8_t date[STRLEN_NORMAL];\n};\n\nextern int amdgpu_atom_debug;\n\nstruct atom_context *amdgpu_atom_parse(struct card_info *card, void *bios);\nint amdgpu_atom_execute_table(struct atom_context *ctx, int index, uint32_t *params);\nint amdgpu_atom_asic_init(struct atom_context *ctx);\nvoid amdgpu_atom_destroy(struct atom_context *ctx);\nbool amdgpu_atom_parse_data_header(struct atom_context *ctx, int index, uint16_t *size,\n\t\t\t    uint8_t *frev, uint8_t *crev, uint16_t *data_start);\nbool amdgpu_atom_parse_cmd_header(struct atom_context *ctx, int index,\n\t\t\t   uint8_t *frev, uint8_t *crev);\n#include \"atom-types.h\"\n#include \"atombios.h\"\n#include \"ObjectID.h\"\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}