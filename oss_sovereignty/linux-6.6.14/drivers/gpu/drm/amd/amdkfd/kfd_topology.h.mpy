{
  "module_name": "kfd_topology.h",
  "hash_id": "472518b74536cc1e85b9a372dd1170edd40777ad358e2ca2d64e027adb88ffea",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/amdkfd/kfd_topology.h",
  "human_readable_source": " \n \n\n#ifndef __KFD_TOPOLOGY_H__\n#define __KFD_TOPOLOGY_H__\n\n#include <linux/types.h>\n#include <linux/list.h>\n#include <linux/kfd_sysfs.h>\n#include \"kfd_crat.h\"\n\n#define KFD_TOPOLOGY_PUBLIC_NAME_SIZE 32\n\n#define HSA_DBG_WATCH_ADDR_MASK_LO_BIT_GFX9\t6\n#define HSA_DBG_WATCH_ADDR_MASK_LO_BIT_GFX9_4_3 7\n#define HSA_DBG_WATCH_ADDR_MASK_LO_BIT_GFX10\t7\n#define HSA_DBG_WATCH_ADDR_MASK_HI_BIT  \\\n\t\t\t(29 << HSA_DBG_WATCH_ADDR_MASK_HI_BIT_SHIFT)\n#define HSA_DBG_WATCH_ADDR_MASK_HI_BIT_GFX9_4_3 \\\n\t\t\t(30 << HSA_DBG_WATCH_ADDR_MASK_HI_BIT_SHIFT)\n\nstruct kfd_node_properties {\n\tuint64_t hive_id;\n\tuint32_t cpu_cores_count;\n\tuint32_t simd_count;\n\tuint32_t mem_banks_count;\n\tuint32_t caches_count;\n\tuint32_t io_links_count;\n\tuint32_t p2p_links_count;\n\tuint32_t cpu_core_id_base;\n\tuint32_t simd_id_base;\n\tuint32_t capability;\n\tuint64_t debug_prop;\n\tuint32_t max_waves_per_simd;\n\tuint32_t lds_size_in_kb;\n\tuint32_t gds_size_in_kb;\n\tuint32_t num_gws;\n\tuint32_t wave_front_size;\n\tuint32_t array_count;\n\tuint32_t simd_arrays_per_engine;\n\tuint32_t cu_per_simd_array;\n\tuint32_t simd_per_cu;\n\tuint32_t max_slots_scratch_cu;\n\tuint32_t engine_id;\n\tuint32_t gfx_target_version;\n\tuint32_t vendor_id;\n\tuint32_t device_id;\n\tuint32_t location_id;\n\tuint32_t domain;\n\tuint32_t max_engine_clk_fcompute;\n\tuint32_t max_engine_clk_ccompute;\n\tint32_t  drm_render_minor;\n\tuint32_t num_sdma_engines;\n\tuint32_t num_sdma_xgmi_engines;\n\tuint32_t num_sdma_queues_per_engine;\n\tuint32_t num_cp_queues;\n\tchar name[KFD_TOPOLOGY_PUBLIC_NAME_SIZE];\n};\n\nstruct kfd_mem_properties {\n\tstruct list_head\tlist;\n\tuint32_t\t\theap_type;\n\tuint64_t\t\tsize_in_bytes;\n\tuint32_t\t\tflags;\n\tuint32_t\t\twidth;\n\tuint32_t\t\tmem_clk_max;\n\tstruct kfd_node\t\t*gpu;\n\tstruct kobject\t\t*kobj;\n\tstruct attribute\tattr;\n};\n\n#define CACHE_SIBLINGMAP_SIZE 128\n\nstruct kfd_cache_properties {\n\tstruct list_head\tlist;\n\tuint32_t\t\tprocessor_id_low;\n\tuint32_t\t\tcache_level;\n\tuint32_t\t\tcache_size;\n\tuint32_t\t\tcacheline_size;\n\tuint32_t\t\tcachelines_per_tag;\n\tuint32_t\t\tcache_assoc;\n\tuint32_t\t\tcache_latency;\n\tuint32_t\t\tcache_type;\n\tuint8_t\t\t\tsibling_map[CACHE_SIBLINGMAP_SIZE];\n\tstruct kfd_node\t\t*gpu;\n\tstruct kobject\t\t*kobj;\n\tstruct attribute\tattr;\n\tuint32_t\t\tsibling_map_size;\n};\n\nstruct kfd_iolink_properties {\n\tstruct list_head\tlist;\n\tuint32_t\t\tiolink_type;\n\tuint32_t\t\tver_maj;\n\tuint32_t\t\tver_min;\n\tuint32_t\t\tnode_from;\n\tuint32_t\t\tnode_to;\n\tuint32_t\t\tweight;\n\tuint32_t\t\tmin_latency;\n\tuint32_t\t\tmax_latency;\n\tuint32_t\t\tmin_bandwidth;\n\tuint32_t\t\tmax_bandwidth;\n\tuint32_t\t\trec_transfer_size;\n\tuint32_t\t\tflags;\n\tstruct kfd_node\t\t*gpu;\n\tstruct kobject\t\t*kobj;\n\tstruct attribute\tattr;\n};\n\nstruct kfd_perf_properties {\n\tstruct list_head\tlist;\n\tchar\t\t\tblock_name[16];\n\tuint32_t\t\tmax_concurrent;\n\tstruct attribute_group\t*attr_group;\n};\n\nstruct kfd_topology_device {\n\tstruct list_head\t\tlist;\n\tuint32_t\t\t\tgpu_id;\n\tuint32_t\t\t\tproximity_domain;\n\tstruct kfd_node_properties\tnode_props;\n\tstruct list_head\t\tmem_props;\n\tstruct list_head\t\tcache_props;\n\tstruct list_head\t\tio_link_props;\n\tstruct list_head\t\tp2p_link_props;\n\tstruct list_head\t\tperf_props;\n\tstruct kfd_node\t\t\t*gpu;\n\tstruct kobject\t\t\t*kobj_node;\n\tstruct kobject\t\t\t*kobj_mem;\n\tstruct kobject\t\t\t*kobj_cache;\n\tstruct kobject\t\t\t*kobj_iolink;\n\tstruct kobject\t\t\t*kobj_p2plink;\n\tstruct kobject\t\t\t*kobj_perf;\n\tstruct attribute\t\tattr_gpuid;\n\tstruct attribute\t\tattr_name;\n\tstruct attribute\t\tattr_props;\n\tuint8_t\t\t\t\toem_id[CRAT_OEMID_LENGTH];\n\tuint8_t\t\t\t\toem_table_id[CRAT_OEMTABLEID_LENGTH];\n\tuint32_t\t\t\toem_revision;\n};\n\nstruct kfd_system_properties {\n\tuint32_t\t\tnum_devices;      \n\tuint32_t\t\tgeneration_count;\n\tuint64_t\t\tplatform_oem;\n\tuint64_t\t\tplatform_id;\n\tuint64_t\t\tplatform_rev;\n\tstruct kobject\t\t*kobj_topology;\n\tstruct kobject\t\t*kobj_nodes;\n\tstruct attribute\tattr_genid;\n\tstruct attribute\tattr_props;\n};\n\nstruct kfd_topology_device *kfd_create_topology_device(\n\t\tstruct list_head *device_list);\nvoid kfd_release_topology_device_list(struct list_head *device_list);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}