{
  "module_name": "kfd_queue.c",
  "hash_id": "d6ee50ccecfd67ce0ac6ccc71dbb1679653bfd98f26d058a03413ec5b8818e14",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/amd/amdkfd/kfd_queue.c",
  "human_readable_source": "\n \n\n#include <linux/slab.h>\n#include \"kfd_priv.h\"\n\nvoid print_queue_properties(struct queue_properties *q)\n{\n\tif (!q)\n\t\treturn;\n\n\tpr_debug(\"Printing queue properties:\\n\");\n\tpr_debug(\"Queue Type: %u\\n\", q->type);\n\tpr_debug(\"Queue Size: %llu\\n\", q->queue_size);\n\tpr_debug(\"Queue percent: %u\\n\", q->queue_percent);\n\tpr_debug(\"Queue Address: 0x%llX\\n\", q->queue_address);\n\tpr_debug(\"Queue Id: %u\\n\", q->queue_id);\n\tpr_debug(\"Queue Process Vmid: %u\\n\", q->vmid);\n\tpr_debug(\"Queue Read Pointer: 0x%px\\n\", q->read_ptr);\n\tpr_debug(\"Queue Write Pointer: 0x%px\\n\", q->write_ptr);\n\tpr_debug(\"Queue Doorbell Pointer: 0x%p\\n\", q->doorbell_ptr);\n\tpr_debug(\"Queue Doorbell Offset: %u\\n\", q->doorbell_off);\n}\n\nvoid print_queue(struct queue *q)\n{\n\tif (!q)\n\t\treturn;\n\tpr_debug(\"Printing queue:\\n\");\n\tpr_debug(\"Queue Type: %u\\n\", q->properties.type);\n\tpr_debug(\"Queue Size: %llu\\n\", q->properties.queue_size);\n\tpr_debug(\"Queue percent: %u\\n\", q->properties.queue_percent);\n\tpr_debug(\"Queue Address: 0x%llX\\n\", q->properties.queue_address);\n\tpr_debug(\"Queue Id: %u\\n\", q->properties.queue_id);\n\tpr_debug(\"Queue Process Vmid: %u\\n\", q->properties.vmid);\n\tpr_debug(\"Queue Read Pointer: 0x%px\\n\", q->properties.read_ptr);\n\tpr_debug(\"Queue Write Pointer: 0x%px\\n\", q->properties.write_ptr);\n\tpr_debug(\"Queue Doorbell Pointer: 0x%p\\n\", q->properties.doorbell_ptr);\n\tpr_debug(\"Queue Doorbell Offset: %u\\n\", q->properties.doorbell_off);\n\tpr_debug(\"Queue MQD Address: 0x%p\\n\", q->mqd);\n\tpr_debug(\"Queue MQD Gart: 0x%llX\\n\", q->gart_mqd_addr);\n\tpr_debug(\"Queue Process Address: 0x%p\\n\", q->process);\n\tpr_debug(\"Queue Device Address: 0x%p\\n\", q->device);\n}\n\nint init_queue(struct queue **q, const struct queue_properties *properties)\n{\n\tstruct queue *tmp_q;\n\n\ttmp_q = kzalloc(sizeof(*tmp_q), GFP_KERNEL);\n\tif (!tmp_q)\n\t\treturn -ENOMEM;\n\n\tmemcpy(&tmp_q->properties, properties, sizeof(*properties));\n\n\t*q = tmp_q;\n\treturn 0;\n}\n\nvoid uninit_queue(struct queue *q)\n{\n\tkfree(q);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}