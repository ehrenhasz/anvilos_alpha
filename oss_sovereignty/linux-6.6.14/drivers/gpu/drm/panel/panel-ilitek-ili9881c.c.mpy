{
  "module_name": "panel-ilitek-ili9881c.c",
  "hash_id": "c925611e2727c5de391c44133a6ecdced771b29441a8f679582152122e17d29f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/panel/panel-ilitek-ili9881c.c",
  "human_readable_source": "\n \n\n#include <linux/delay.h>\n#include <linux/device.h>\n#include <linux/err.h>\n#include <linux/errno.h>\n#include <linux/kernel.h>\n#include <linux/module.h>\n#include <linux/of.h>\n\n#include <linux/gpio/consumer.h>\n#include <linux/regulator/consumer.h>\n\n#include <drm/drm_mipi_dsi.h>\n#include <drm/drm_modes.h>\n#include <drm/drm_panel.h>\n\n#include <video/mipi_display.h>\n\nenum ili9881c_op {\n\tILI9881C_SWITCH_PAGE,\n\tILI9881C_COMMAND,\n};\n\nstruct ili9881c_instr {\n\tenum ili9881c_op\top;\n\n\tunion arg {\n\t\tstruct cmd {\n\t\t\tu8\tcmd;\n\t\t\tu8\tdata;\n\t\t} cmd;\n\t\tu8\tpage;\n\t} arg;\n};\n\nstruct ili9881c_desc {\n\tconst struct ili9881c_instr *init;\n\tconst size_t init_length;\n\tconst struct drm_display_mode *mode;\n\tconst unsigned long mode_flags;\n};\n\nstruct ili9881c {\n\tstruct drm_panel\tpanel;\n\tstruct mipi_dsi_device\t*dsi;\n\tconst struct ili9881c_desc\t*desc;\n\n\tstruct regulator\t*power;\n\tstruct gpio_desc\t*reset;\n\n\tenum drm_panel_orientation\torientation;\n};\n\n#define ILI9881C_SWITCH_PAGE_INSTR(_page)\t\\\n\t{\t\t\t\t\t\\\n\t\t.op = ILI9881C_SWITCH_PAGE,\t\\\n\t\t.arg = {\t\t\t\\\n\t\t\t.page = (_page),\t\\\n\t\t},\t\t\t\t\\\n\t}\n\n#define ILI9881C_COMMAND_INSTR(_cmd, _data)\t\t\\\n\t{\t\t\t\t\t\t\\\n\t\t.op = ILI9881C_COMMAND,\t\t\\\n\t\t.arg = {\t\t\t\t\\\n\t\t\t.cmd = {\t\t\t\\\n\t\t\t\t.cmd = (_cmd),\t\t\\\n\t\t\t\t.data = (_data),\t\\\n\t\t\t},\t\t\t\t\\\n\t\t},\t\t\t\t\t\\\n\t}\n\nstatic const struct ili9881c_instr lhr050h41_init[] = {\n\tILI9881C_SWITCH_PAGE_INSTR(3),\n\tILI9881C_COMMAND_INSTR(0x01, 0x00),\n\tILI9881C_COMMAND_INSTR(0x02, 0x00),\n\tILI9881C_COMMAND_INSTR(0x03, 0x73),\n\tILI9881C_COMMAND_INSTR(0x04, 0x03),\n\tILI9881C_COMMAND_INSTR(0x05, 0x00),\n\tILI9881C_COMMAND_INSTR(0x06, 0x06),\n\tILI9881C_COMMAND_INSTR(0x07, 0x06),\n\tILI9881C_COMMAND_INSTR(0x08, 0x00),\n\tILI9881C_COMMAND_INSTR(0x09, 0x18),\n\tILI9881C_COMMAND_INSTR(0x0a, 0x04),\n\tILI9881C_COMMAND_INSTR(0x0b, 0x00),\n\tILI9881C_COMMAND_INSTR(0x0c, 0x02),\n\tILI9881C_COMMAND_INSTR(0x0d, 0x03),\n\tILI9881C_COMMAND_INSTR(0x0e, 0x00),\n\tILI9881C_COMMAND_INSTR(0x0f, 0x25),\n\tILI9881C_COMMAND_INSTR(0x10, 0x25),\n\tILI9881C_COMMAND_INSTR(0x11, 0x00),\n\tILI9881C_COMMAND_INSTR(0x12, 0x00),\n\tILI9881C_COMMAND_INSTR(0x13, 0x00),\n\tILI9881C_COMMAND_INSTR(0x14, 0x00),\n\tILI9881C_COMMAND_INSTR(0x15, 0x00),\n\tILI9881C_COMMAND_INSTR(0x16, 0x0C),\n\tILI9881C_COMMAND_INSTR(0x17, 0x00),\n\tILI9881C_COMMAND_INSTR(0x18, 0x00),\n\tILI9881C_COMMAND_INSTR(0x19, 0x00),\n\tILI9881C_COMMAND_INSTR(0x1a, 0x00),\n\tILI9881C_COMMAND_INSTR(0x1b, 0x00),\n\tILI9881C_COMMAND_INSTR(0x1c, 0x00),\n\tILI9881C_COMMAND_INSTR(0x1d, 0x00),\n\tILI9881C_COMMAND_INSTR(0x1e, 0xC0),\n\tILI9881C_COMMAND_INSTR(0x1f, 0x80),\n\tILI9881C_COMMAND_INSTR(0x20, 0x04),\n\tILI9881C_COMMAND_INSTR(0x21, 0x01),\n\tILI9881C_COMMAND_INSTR(0x22, 0x00),\n\tILI9881C_COMMAND_INSTR(0x23, 0x00),\n\tILI9881C_COMMAND_INSTR(0x24, 0x00),\n\tILI9881C_COMMAND_INSTR(0x25, 0x00),\n\tILI9881C_COMMAND_INSTR(0x26, 0x00),\n\tILI9881C_COMMAND_INSTR(0x27, 0x00),\n\tILI9881C_COMMAND_INSTR(0x28, 0x33),\n\tILI9881C_COMMAND_INSTR(0x29, 0x03),\n\tILI9881C_COMMAND_INSTR(0x2a, 0x00),\n\tILI9881C_COMMAND_INSTR(0x2b, 0x00),\n\tILI9881C_COMMAND_INSTR(0x2c, 0x00),\n\tILI9881C_COMMAND_INSTR(0x2d, 0x00),\n\tILI9881C_COMMAND_INSTR(0x2e, 0x00),\n\tILI9881C_COMMAND_INSTR(0x2f, 0x00),\n\tILI9881C_COMMAND_INSTR(0x30, 0x00),\n\tILI9881C_COMMAND_INSTR(0x31, 0x00),\n\tILI9881C_COMMAND_INSTR(0x32, 0x00),\n\tILI9881C_COMMAND_INSTR(0x33, 0x00),\n\tILI9881C_COMMAND_INSTR(0x34, 0x04),\n\tILI9881C_COMMAND_INSTR(0x35, 0x00),\n\tILI9881C_COMMAND_INSTR(0x36, 0x00),\n\tILI9881C_COMMAND_INSTR(0x37, 0x00),\n\tILI9881C_COMMAND_INSTR(0x38, 0x3C),\n\tILI9881C_COMMAND_INSTR(0x39, 0x00),\n\tILI9881C_COMMAND_INSTR(0x3a, 0x00),\n\tILI9881C_COMMAND_INSTR(0x3b, 0x00),\n\tILI9881C_COMMAND_INSTR(0x3c, 0x00),\n\tILI9881C_COMMAND_INSTR(0x3d, 0x00),\n\tILI9881C_COMMAND_INSTR(0x3e, 0x00),\n\tILI9881C_COMMAND_INSTR(0x3f, 0x00),\n\tILI9881C_COMMAND_INSTR(0x40, 0x00),\n\tILI9881C_COMMAND_INSTR(0x41, 0x00),\n\tILI9881C_COMMAND_INSTR(0x42, 0x00),\n\tILI9881C_COMMAND_INSTR(0x43, 0x00),\n\tILI9881C_COMMAND_INSTR(0x44, 0x00),\n\tILI9881C_COMMAND_INSTR(0x50, 0x01),\n\tILI9881C_COMMAND_INSTR(0x51, 0x23),\n\tILI9881C_COMMAND_INSTR(0x52, 0x45),\n\tILI9881C_COMMAND_INSTR(0x53, 0x67),\n\tILI9881C_COMMAND_INSTR(0x54, 0x89),\n\tILI9881C_COMMAND_INSTR(0x55, 0xab),\n\tILI9881C_COMMAND_INSTR(0x56, 0x01),\n\tILI9881C_COMMAND_INSTR(0x57, 0x23),\n\tILI9881C_COMMAND_INSTR(0x58, 0x45),\n\tILI9881C_COMMAND_INSTR(0x59, 0x67),\n\tILI9881C_COMMAND_INSTR(0x5a, 0x89),\n\tILI9881C_COMMAND_INSTR(0x5b, 0xab),\n\tILI9881C_COMMAND_INSTR(0x5c, 0xcd),\n\tILI9881C_COMMAND_INSTR(0x5d, 0xef),\n\tILI9881C_COMMAND_INSTR(0x5e, 0x11),\n\tILI9881C_COMMAND_INSTR(0x5f, 0x02),\n\tILI9881C_COMMAND_INSTR(0x60, 0x02),\n\tILI9881C_COMMAND_INSTR(0x61, 0x02),\n\tILI9881C_COMMAND_INSTR(0x62, 0x02),\n\tILI9881C_COMMAND_INSTR(0x63, 0x02),\n\tILI9881C_COMMAND_INSTR(0x64, 0x02),\n\tILI9881C_COMMAND_INSTR(0x65, 0x02),\n\tILI9881C_COMMAND_INSTR(0x66, 0x02),\n\tILI9881C_COMMAND_INSTR(0x67, 0x02),\n\tILI9881C_COMMAND_INSTR(0x68, 0x02),\n\tILI9881C_COMMAND_INSTR(0x69, 0x02),\n\tILI9881C_COMMAND_INSTR(0x6a, 0x0C),\n\tILI9881C_COMMAND_INSTR(0x6b, 0x02),\n\tILI9881C_COMMAND_INSTR(0x6c, 0x0F),\n\tILI9881C_COMMAND_INSTR(0x6d, 0x0E),\n\tILI9881C_COMMAND_INSTR(0x6e, 0x0D),\n\tILI9881C_COMMAND_INSTR(0x6f, 0x06),\n\tILI9881C_COMMAND_INSTR(0x70, 0x07),\n\tILI9881C_COMMAND_INSTR(0x71, 0x02),\n\tILI9881C_COMMAND_INSTR(0x72, 0x02),\n\tILI9881C_COMMAND_INSTR(0x73, 0x02),\n\tILI9881C_COMMAND_INSTR(0x74, 0x02),\n\tILI9881C_COMMAND_INSTR(0x75, 0x02),\n\tILI9881C_COMMAND_INSTR(0x76, 0x02),\n\tILI9881C_COMMAND_INSTR(0x77, 0x02),\n\tILI9881C_COMMAND_INSTR(0x78, 0x02),\n\tILI9881C_COMMAND_INSTR(0x79, 0x02),\n\tILI9881C_COMMAND_INSTR(0x7a, 0x02),\n\tILI9881C_COMMAND_INSTR(0x7b, 0x02),\n\tILI9881C_COMMAND_INSTR(0x7c, 0x02),\n\tILI9881C_COMMAND_INSTR(0x7d, 0x02),\n\tILI9881C_COMMAND_INSTR(0x7e, 0x02),\n\tILI9881C_COMMAND_INSTR(0x7f, 0x02),\n\tILI9881C_COMMAND_INSTR(0x80, 0x0C),\n\tILI9881C_COMMAND_INSTR(0x81, 0x02),\n\tILI9881C_COMMAND_INSTR(0x82, 0x0F),\n\tILI9881C_COMMAND_INSTR(0x83, 0x0E),\n\tILI9881C_COMMAND_INSTR(0x84, 0x0D),\n\tILI9881C_COMMAND_INSTR(0x85, 0x06),\n\tILI9881C_COMMAND_INSTR(0x86, 0x07),\n\tILI9881C_COMMAND_INSTR(0x87, 0x02),\n\tILI9881C_COMMAND_INSTR(0x88, 0x02),\n\tILI9881C_COMMAND_INSTR(0x89, 0x02),\n\tILI9881C_COMMAND_INSTR(0x8A, 0x02),\n\tILI9881C_SWITCH_PAGE_INSTR(4),\n\tILI9881C_COMMAND_INSTR(0x6C, 0x15),\n\tILI9881C_COMMAND_INSTR(0x6E, 0x22),\n\tILI9881C_COMMAND_INSTR(0x6F, 0x33),\n\tILI9881C_COMMAND_INSTR(0x3A, 0xA4),\n\tILI9881C_COMMAND_INSTR(0x8D, 0x0D),\n\tILI9881C_COMMAND_INSTR(0x87, 0xBA),\n\tILI9881C_COMMAND_INSTR(0x26, 0x76),\n\tILI9881C_COMMAND_INSTR(0xB2, 0xD1),\n\tILI9881C_SWITCH_PAGE_INSTR(1),\n\tILI9881C_COMMAND_INSTR(0x22, 0x0A),\n\tILI9881C_COMMAND_INSTR(0x53, 0xDC),\n\tILI9881C_COMMAND_INSTR(0x55, 0xA7),\n\tILI9881C_COMMAND_INSTR(0x50, 0x78),\n\tILI9881C_COMMAND_INSTR(0x51, 0x78),\n\tILI9881C_COMMAND_INSTR(0x31, 0x02),\n\tILI9881C_COMMAND_INSTR(0x60, 0x14),\n\tILI9881C_COMMAND_INSTR(0xA0, 0x2A),\n\tILI9881C_COMMAND_INSTR(0xA1, 0x39),\n\tILI9881C_COMMAND_INSTR(0xA2, 0x46),\n\tILI9881C_COMMAND_INSTR(0xA3, 0x0e),\n\tILI9881C_COMMAND_INSTR(0xA4, 0x12),\n\tILI9881C_COMMAND_INSTR(0xA5, 0x25),\n\tILI9881C_COMMAND_INSTR(0xA6, 0x19),\n\tILI9881C_COMMAND_INSTR(0xA7, 0x1d),\n\tILI9881C_COMMAND_INSTR(0xA8, 0xa6),\n\tILI9881C_COMMAND_INSTR(0xA9, 0x1C),\n\tILI9881C_COMMAND_INSTR(0xAA, 0x29),\n\tILI9881C_COMMAND_INSTR(0xAB, 0x85),\n\tILI9881C_COMMAND_INSTR(0xAC, 0x1C),\n\tILI9881C_COMMAND_INSTR(0xAD, 0x1B),\n\tILI9881C_COMMAND_INSTR(0xAE, 0x51),\n\tILI9881C_COMMAND_INSTR(0xAF, 0x22),\n\tILI9881C_COMMAND_INSTR(0xB0, 0x2d),\n\tILI9881C_COMMAND_INSTR(0xB1, 0x4f),\n\tILI9881C_COMMAND_INSTR(0xB2, 0x59),\n\tILI9881C_COMMAND_INSTR(0xB3, 0x3F),\n\tILI9881C_COMMAND_INSTR(0xC0, 0x2A),\n\tILI9881C_COMMAND_INSTR(0xC1, 0x3a),\n\tILI9881C_COMMAND_INSTR(0xC2, 0x45),\n\tILI9881C_COMMAND_INSTR(0xC3, 0x0e),\n\tILI9881C_COMMAND_INSTR(0xC4, 0x11),\n\tILI9881C_COMMAND_INSTR(0xC5, 0x24),\n\tILI9881C_COMMAND_INSTR(0xC6, 0x1a),\n\tILI9881C_COMMAND_INSTR(0xC7, 0x1c),\n\tILI9881C_COMMAND_INSTR(0xC8, 0xaa),\n\tILI9881C_COMMAND_INSTR(0xC9, 0x1C),\n\tILI9881C_COMMAND_INSTR(0xCA, 0x29),\n\tILI9881C_COMMAND_INSTR(0xCB, 0x96),\n\tILI9881C_COMMAND_INSTR(0xCC, 0x1C),\n\tILI9881C_COMMAND_INSTR(0xCD, 0x1B),\n\tILI9881C_COMMAND_INSTR(0xCE, 0x51),\n\tILI9881C_COMMAND_INSTR(0xCF, 0x22),\n\tILI9881C_COMMAND_INSTR(0xD0, 0x2b),\n\tILI9881C_COMMAND_INSTR(0xD1, 0x4b),\n\tILI9881C_COMMAND_INSTR(0xD2, 0x59),\n\tILI9881C_COMMAND_INSTR(0xD3, 0x3F),\n};\n\nstatic const struct ili9881c_instr k101_im2byl02_init[] = {\n\tILI9881C_SWITCH_PAGE_INSTR(3),\n\tILI9881C_COMMAND_INSTR(0x01, 0x00),\n\tILI9881C_COMMAND_INSTR(0x02, 0x00),\n\tILI9881C_COMMAND_INSTR(0x03, 0x73),\n\tILI9881C_COMMAND_INSTR(0x04, 0x00),\n\tILI9881C_COMMAND_INSTR(0x05, 0x00),\n\tILI9881C_COMMAND_INSTR(0x06, 0x08),\n\tILI9881C_COMMAND_INSTR(0x07, 0x00),\n\tILI9881C_COMMAND_INSTR(0x08, 0x00),\n\tILI9881C_COMMAND_INSTR(0x09, 0x00),\n\tILI9881C_COMMAND_INSTR(0x0A, 0x01),\n\tILI9881C_COMMAND_INSTR(0x0B, 0x01),\n\tILI9881C_COMMAND_INSTR(0x0C, 0x00),\n\tILI9881C_COMMAND_INSTR(0x0D, 0x01),\n\tILI9881C_COMMAND_INSTR(0x0E, 0x01),\n\tILI9881C_COMMAND_INSTR(0x0F, 0x00),\n\tILI9881C_COMMAND_INSTR(0x10, 0x00),\n\tILI9881C_COMMAND_INSTR(0x11, 0x00),\n\tILI9881C_COMMAND_INSTR(0x12, 0x00),\n\tILI9881C_COMMAND_INSTR(0x13, 0x00),\n\tILI9881C_COMMAND_INSTR(0x14, 0x00),\n\tILI9881C_COMMAND_INSTR(0x15, 0x00),\n\tILI9881C_COMMAND_INSTR(0x16, 0x00),\n\tILI9881C_COMMAND_INSTR(0x17, 0x00),\n\tILI9881C_COMMAND_INSTR(0x18, 0x00),\n\tILI9881C_COMMAND_INSTR(0x19, 0x00),\n\tILI9881C_COMMAND_INSTR(0x1A, 0x00),\n\tILI9881C_COMMAND_INSTR(0x1B, 0x00),\n\tILI9881C_COMMAND_INSTR(0x1C, 0x00),\n\tILI9881C_COMMAND_INSTR(0x1D, 0x00),\n\tILI9881C_COMMAND_INSTR(0x1E, 0x40),\n\tILI9881C_COMMAND_INSTR(0x1F, 0xC0),\n\tILI9881C_COMMAND_INSTR(0x20, 0x06),\n\tILI9881C_COMMAND_INSTR(0x21, 0x01),\n\tILI9881C_COMMAND_INSTR(0x22, 0x06),\n\tILI9881C_COMMAND_INSTR(0x23, 0x01),\n\tILI9881C_COMMAND_INSTR(0x24, 0x88),\n\tILI9881C_COMMAND_INSTR(0x25, 0x88),\n\tILI9881C_COMMAND_INSTR(0x26, 0x00),\n\tILI9881C_COMMAND_INSTR(0x27, 0x00),\n\tILI9881C_COMMAND_INSTR(0x28, 0x3B),\n\tILI9881C_COMMAND_INSTR(0x29, 0x03),\n\tILI9881C_COMMAND_INSTR(0x2A, 0x00),\n\tILI9881C_COMMAND_INSTR(0x2B, 0x00),\n\tILI9881C_COMMAND_INSTR(0x2C, 0x00),\n\tILI9881C_COMMAND_INSTR(0x2D, 0x00),\n\tILI9881C_COMMAND_INSTR(0x2E, 0x00),\n\tILI9881C_COMMAND_INSTR(0x2F, 0x00),\n\tILI9881C_COMMAND_INSTR(0x30, 0x00),\n\tILI9881C_COMMAND_INSTR(0x31, 0x00),\n\tILI9881C_COMMAND_INSTR(0x32, 0x00),\n\tILI9881C_COMMAND_INSTR(0x33, 0x00),\n\tILI9881C_COMMAND_INSTR(0x34, 0x00),  \n\tILI9881C_COMMAND_INSTR(0x35, 0x00),\n\tILI9881C_COMMAND_INSTR(0x36, 0x00),\n\tILI9881C_COMMAND_INSTR(0x37, 0x00),\n\tILI9881C_COMMAND_INSTR(0x38, 0x00),\n\tILI9881C_COMMAND_INSTR(0x39, 0x00),\n\tILI9881C_COMMAND_INSTR(0x3A, 0x00),\n\tILI9881C_COMMAND_INSTR(0x3B, 0x00),\n\tILI9881C_COMMAND_INSTR(0x3C, 0x00),\n\tILI9881C_COMMAND_INSTR(0x3D, 0x00),\n\tILI9881C_COMMAND_INSTR(0x3E, 0x00),\n\tILI9881C_COMMAND_INSTR(0x3F, 0x00),\n\tILI9881C_COMMAND_INSTR(0x40, 0x00),\n\tILI9881C_COMMAND_INSTR(0x41, 0x00),\n\tILI9881C_COMMAND_INSTR(0x42, 0x00),\n\tILI9881C_COMMAND_INSTR(0x43, 0x00),\n\tILI9881C_COMMAND_INSTR(0x44, 0x00),\n\tILI9881C_COMMAND_INSTR(0x50, 0x01),\n\tILI9881C_COMMAND_INSTR(0x51, 0x23),\n\tILI9881C_COMMAND_INSTR(0x52, 0x45),\n\tILI9881C_COMMAND_INSTR(0x53, 0x67),\n\tILI9881C_COMMAND_INSTR(0x54, 0x89),\n\tILI9881C_COMMAND_INSTR(0x55, 0xAB),\n\tILI9881C_COMMAND_INSTR(0x56, 0x01),\n\tILI9881C_COMMAND_INSTR(0x57, 0x23),\n\tILI9881C_COMMAND_INSTR(0x58, 0x45),\n\tILI9881C_COMMAND_INSTR(0x59, 0x67),\n\tILI9881C_COMMAND_INSTR(0x5A, 0x89),\n\tILI9881C_COMMAND_INSTR(0x5B, 0xAB),\n\tILI9881C_COMMAND_INSTR(0x5C, 0xCD),\n\tILI9881C_COMMAND_INSTR(0x5D, 0xEF),\n\tILI9881C_COMMAND_INSTR(0x5E, 0x00),\n\tILI9881C_COMMAND_INSTR(0x5F, 0x01),\n\tILI9881C_COMMAND_INSTR(0x60, 0x01),\n\tILI9881C_COMMAND_INSTR(0x61, 0x06),\n\tILI9881C_COMMAND_INSTR(0x62, 0x06),\n\tILI9881C_COMMAND_INSTR(0x63, 0x07),\n\tILI9881C_COMMAND_INSTR(0x64, 0x07),\n\tILI9881C_COMMAND_INSTR(0x65, 0x00),\n\tILI9881C_COMMAND_INSTR(0x66, 0x00),\n\tILI9881C_COMMAND_INSTR(0x67, 0x02),\n\tILI9881C_COMMAND_INSTR(0x68, 0x02),\n\tILI9881C_COMMAND_INSTR(0x69, 0x05),\n\tILI9881C_COMMAND_INSTR(0x6A, 0x05),\n\tILI9881C_COMMAND_INSTR(0x6B, 0x02),\n\tILI9881C_COMMAND_INSTR(0x6C, 0x0D),\n\tILI9881C_COMMAND_INSTR(0x6D, 0x0D),\n\tILI9881C_COMMAND_INSTR(0x6E, 0x0C),\n\tILI9881C_COMMAND_INSTR(0x6F, 0x0C),\n\tILI9881C_COMMAND_INSTR(0x70, 0x0F),\n\tILI9881C_COMMAND_INSTR(0x71, 0x0F),\n\tILI9881C_COMMAND_INSTR(0x72, 0x0E),\n\tILI9881C_COMMAND_INSTR(0x73, 0x0E),\n\tILI9881C_COMMAND_INSTR(0x74, 0x02),\n\tILI9881C_COMMAND_INSTR(0x75, 0x01),\n\tILI9881C_COMMAND_INSTR(0x76, 0x01),\n\tILI9881C_COMMAND_INSTR(0x77, 0x06),\n\tILI9881C_COMMAND_INSTR(0x78, 0x06),\n\tILI9881C_COMMAND_INSTR(0x79, 0x07),\n\tILI9881C_COMMAND_INSTR(0x7A, 0x07),\n\tILI9881C_COMMAND_INSTR(0x7B, 0x00),\n\tILI9881C_COMMAND_INSTR(0x7C, 0x00),\n\tILI9881C_COMMAND_INSTR(0x7D, 0x02),\n\tILI9881C_COMMAND_INSTR(0x7E, 0x02),\n\tILI9881C_COMMAND_INSTR(0x7F, 0x05),\n\tILI9881C_COMMAND_INSTR(0x80, 0x05),\n\tILI9881C_COMMAND_INSTR(0x81, 0x02),\n\tILI9881C_COMMAND_INSTR(0x82, 0x0D),\n\tILI9881C_COMMAND_INSTR(0x83, 0x0D),\n\tILI9881C_COMMAND_INSTR(0x84, 0x0C),\n\tILI9881C_COMMAND_INSTR(0x85, 0x0C),\n\tILI9881C_COMMAND_INSTR(0x86, 0x0F),\n\tILI9881C_COMMAND_INSTR(0x87, 0x0F),\n\tILI9881C_COMMAND_INSTR(0x88, 0x0E),\n\tILI9881C_COMMAND_INSTR(0x89, 0x0E),\n\tILI9881C_COMMAND_INSTR(0x8A, 0x02),\n\tILI9881C_SWITCH_PAGE_INSTR(4),\n\tILI9881C_COMMAND_INSTR(0x3B, 0xC0),  \n\tILI9881C_COMMAND_INSTR(0x6C, 0x15),  \n\tILI9881C_COMMAND_INSTR(0x6E, 0x2A),  \n\tILI9881C_COMMAND_INSTR(0x6F, 0x33),  \n\tILI9881C_COMMAND_INSTR(0x8D, 0x1B),  \n\tILI9881C_COMMAND_INSTR(0x87, 0xBA),  \n\tILI9881C_COMMAND_INSTR(0x3A, 0x24),  \n\tILI9881C_COMMAND_INSTR(0x26, 0x76),\n\tILI9881C_COMMAND_INSTR(0xB2, 0xD1),\n\tILI9881C_SWITCH_PAGE_INSTR(1),\n\tILI9881C_COMMAND_INSTR(0x22, 0x0A),  \n\tILI9881C_COMMAND_INSTR(0x31, 0x00),  \n\tILI9881C_COMMAND_INSTR(0x40, 0x53),  \n\tILI9881C_COMMAND_INSTR(0x43, 0x66),\n\tILI9881C_COMMAND_INSTR(0x53, 0x4C),\n\tILI9881C_COMMAND_INSTR(0x50, 0x87),\n\tILI9881C_COMMAND_INSTR(0x51, 0x82),\n\tILI9881C_COMMAND_INSTR(0x60, 0x15),\n\tILI9881C_COMMAND_INSTR(0x61, 0x01),\n\tILI9881C_COMMAND_INSTR(0x62, 0x0C),\n\tILI9881C_COMMAND_INSTR(0x63, 0x00),\n\tILI9881C_COMMAND_INSTR(0xA0, 0x00),\n\tILI9881C_COMMAND_INSTR(0xA1, 0x13),  \n\tILI9881C_COMMAND_INSTR(0xA2, 0x23),  \n\tILI9881C_COMMAND_INSTR(0xA3, 0x14),  \n\tILI9881C_COMMAND_INSTR(0xA4, 0x16),  \n\tILI9881C_COMMAND_INSTR(0xA5, 0x29),  \n\tILI9881C_COMMAND_INSTR(0xA6, 0x1E),  \n\tILI9881C_COMMAND_INSTR(0xA7, 0x1D),  \n\tILI9881C_COMMAND_INSTR(0xA8, 0x86),  \n\tILI9881C_COMMAND_INSTR(0xA9, 0x1E),  \n\tILI9881C_COMMAND_INSTR(0xAA, 0x29),  \n\tILI9881C_COMMAND_INSTR(0xAB, 0x74),  \n\tILI9881C_COMMAND_INSTR(0xAC, 0x19),  \n\tILI9881C_COMMAND_INSTR(0xAD, 0x17),  \n\tILI9881C_COMMAND_INSTR(0xAE, 0x4B),  \n\tILI9881C_COMMAND_INSTR(0xAF, 0x20),  \n\tILI9881C_COMMAND_INSTR(0xB0, 0x26),  \n\tILI9881C_COMMAND_INSTR(0xB1, 0x4C),  \n\tILI9881C_COMMAND_INSTR(0xB2, 0x5D),  \n\tILI9881C_COMMAND_INSTR(0xB3, 0x3F),  \n\tILI9881C_COMMAND_INSTR(0xC0, 0x00),  \n\tILI9881C_COMMAND_INSTR(0xC1, 0x13),  \n\tILI9881C_COMMAND_INSTR(0xC2, 0x23),  \n\tILI9881C_COMMAND_INSTR(0xC3, 0x14),  \n\tILI9881C_COMMAND_INSTR(0xC4, 0x16),  \n\tILI9881C_COMMAND_INSTR(0xC5, 0x29),  \n\tILI9881C_COMMAND_INSTR(0xC6, 0x1E),  \n\tILI9881C_COMMAND_INSTR(0xC7, 0x1D),  \n\tILI9881C_COMMAND_INSTR(0xC8, 0x86),  \n\tILI9881C_COMMAND_INSTR(0xC9, 0x1E),  \n\tILI9881C_COMMAND_INSTR(0xCA, 0x29),  \n\tILI9881C_COMMAND_INSTR(0xCB, 0x74),  \n\tILI9881C_COMMAND_INSTR(0xCC, 0x19),  \n\tILI9881C_COMMAND_INSTR(0xCD, 0x17),  \n\tILI9881C_COMMAND_INSTR(0xCE, 0x4B),  \n\tILI9881C_COMMAND_INSTR(0xCF, 0x20),  \n\tILI9881C_COMMAND_INSTR(0xD0, 0x26),  \n\tILI9881C_COMMAND_INSTR(0xD1, 0x4C),  \n\tILI9881C_COMMAND_INSTR(0xD2, 0x5D),  \n\tILI9881C_COMMAND_INSTR(0xD3, 0x3F),  \n};\n\nstatic const struct ili9881c_instr tl050hdv35_init[] = {\n\tILI9881C_SWITCH_PAGE_INSTR(3),\n\tILI9881C_COMMAND_INSTR(0x01, 0x00),\n\tILI9881C_COMMAND_INSTR(0x02, 0x00),\n\tILI9881C_COMMAND_INSTR(0x03, 0x73),\n\tILI9881C_COMMAND_INSTR(0x04, 0x00),\n\tILI9881C_COMMAND_INSTR(0x05, 0x00),\n\tILI9881C_COMMAND_INSTR(0x06, 0x0a),\n\tILI9881C_COMMAND_INSTR(0x07, 0x00),\n\tILI9881C_COMMAND_INSTR(0x08, 0x00),\n\tILI9881C_COMMAND_INSTR(0x09, 0x01),\n\tILI9881C_COMMAND_INSTR(0x0a, 0x00),\n\tILI9881C_COMMAND_INSTR(0x0b, 0x00),\n\tILI9881C_COMMAND_INSTR(0x0c, 0x01),\n\tILI9881C_COMMAND_INSTR(0x0d, 0x00),\n\tILI9881C_COMMAND_INSTR(0x0e, 0x00),\n\tILI9881C_COMMAND_INSTR(0x0f, 0x1d),\n\tILI9881C_COMMAND_INSTR(0x10, 0x1d),\n\tILI9881C_COMMAND_INSTR(0x15, 0x00),\n\tILI9881C_COMMAND_INSTR(0x16, 0x00),\n\tILI9881C_COMMAND_INSTR(0x17, 0x00),\n\tILI9881C_COMMAND_INSTR(0x18, 0x00),\n\tILI9881C_COMMAND_INSTR(0x19, 0x00),\n\tILI9881C_COMMAND_INSTR(0x1a, 0x00),\n\tILI9881C_COMMAND_INSTR(0x1b, 0x00),\n\tILI9881C_COMMAND_INSTR(0x1c, 0x00),\n\tILI9881C_COMMAND_INSTR(0x1d, 0x00),\n\tILI9881C_COMMAND_INSTR(0x1e, 0x40),\n\tILI9881C_COMMAND_INSTR(0x1f, 0x80),\n\tILI9881C_COMMAND_INSTR(0x20, 0x06),\n\tILI9881C_COMMAND_INSTR(0x21, 0x02),\n\tILI9881C_COMMAND_INSTR(0x28, 0x33),\n\tILI9881C_COMMAND_INSTR(0x29, 0x03),\n\tILI9881C_COMMAND_INSTR(0x2a, 0x00),\n\tILI9881C_COMMAND_INSTR(0x2b, 0x00),\n\tILI9881C_COMMAND_INSTR(0x2c, 0x00),\n\tILI9881C_COMMAND_INSTR(0x2d, 0x00),\n\tILI9881C_COMMAND_INSTR(0x2e, 0x00),\n\tILI9881C_COMMAND_INSTR(0x2f, 0x00),\n\tILI9881C_COMMAND_INSTR(0x35, 0x00),\n\tILI9881C_COMMAND_INSTR(0x36, 0x00),\n\tILI9881C_COMMAND_INSTR(0x37, 0x00),\n\tILI9881C_COMMAND_INSTR(0x38, 0x3C),\n\tILI9881C_COMMAND_INSTR(0x39, 0x00),\n\tILI9881C_COMMAND_INSTR(0x3a, 0x40),\n\tILI9881C_COMMAND_INSTR(0x3b, 0x40),\n\tILI9881C_COMMAND_INSTR(0x3c, 0x00),\n\tILI9881C_COMMAND_INSTR(0x3d, 0x00),\n\tILI9881C_COMMAND_INSTR(0x3e, 0x00),\n\tILI9881C_COMMAND_INSTR(0x3f, 0x00),\n\tILI9881C_COMMAND_INSTR(0x40, 0x00),\n\tILI9881C_COMMAND_INSTR(0x41, 0x00),\n\tILI9881C_COMMAND_INSTR(0x42, 0x00),\n\tILI9881C_COMMAND_INSTR(0x43, 0x00),\n\tILI9881C_COMMAND_INSTR(0x44, 0x00),\n\tILI9881C_COMMAND_INSTR(0x55, 0xab),\n\tILI9881C_COMMAND_INSTR(0x5a, 0x89),\n\tILI9881C_COMMAND_INSTR(0x5b, 0xab),\n\tILI9881C_COMMAND_INSTR(0x5c, 0xcd),\n\tILI9881C_COMMAND_INSTR(0x5d, 0xef),\n\tILI9881C_COMMAND_INSTR(0x5e, 0x11),\n\tILI9881C_COMMAND_INSTR(0x5f, 0x01),\n\tILI9881C_COMMAND_INSTR(0x60, 0x00),\n\tILI9881C_COMMAND_INSTR(0x61, 0x15),\n\tILI9881C_COMMAND_INSTR(0x62, 0x14),\n\tILI9881C_COMMAND_INSTR(0x63, 0x0e),\n\tILI9881C_COMMAND_INSTR(0x64, 0x0f),\n\tILI9881C_COMMAND_INSTR(0x65, 0x0c),\n\tILI9881C_COMMAND_INSTR(0x66, 0x0d),\n\tILI9881C_COMMAND_INSTR(0x67, 0x06),\n\tILI9881C_COMMAND_INSTR(0x68, 0x02),\n\tILI9881C_COMMAND_INSTR(0x69, 0x07),\n\tILI9881C_COMMAND_INSTR(0x6a, 0x02),\n\tILI9881C_COMMAND_INSTR(0x6b, 0x02),\n\tILI9881C_COMMAND_INSTR(0x6c, 0x02),\n\tILI9881C_COMMAND_INSTR(0x6d, 0x02),\n\tILI9881C_COMMAND_INSTR(0x6e, 0x02),\n\tILI9881C_COMMAND_INSTR(0x6f, 0x02),\n\tILI9881C_COMMAND_INSTR(0x70, 0x02),\n\tILI9881C_COMMAND_INSTR(0x71, 0x02),\n\tILI9881C_COMMAND_INSTR(0x72, 0x02),\n\tILI9881C_COMMAND_INSTR(0x73, 0x02),\n\tILI9881C_COMMAND_INSTR(0x74, 0x02),\n\tILI9881C_COMMAND_INSTR(0x75, 0x01),\n\tILI9881C_COMMAND_INSTR(0x76, 0x00),\n\tILI9881C_COMMAND_INSTR(0x77, 0x14),\n\tILI9881C_COMMAND_INSTR(0x78, 0x15),\n\tILI9881C_COMMAND_INSTR(0x79, 0x0e),\n\tILI9881C_COMMAND_INSTR(0x7a, 0x0f),\n\tILI9881C_COMMAND_INSTR(0x7b, 0x0c),\n\tILI9881C_COMMAND_INSTR(0x7c, 0x0d),\n\tILI9881C_COMMAND_INSTR(0x7d, 0x06),\n\tILI9881C_COMMAND_INSTR(0x7e, 0x02),\n\tILI9881C_COMMAND_INSTR(0x7f, 0x07),\n\tILI9881C_COMMAND_INSTR(0x88, 0x02),\n\tILI9881C_COMMAND_INSTR(0x89, 0x02),\n\tILI9881C_COMMAND_INSTR(0x8A, 0x02),\n\tILI9881C_SWITCH_PAGE_INSTR(4),\n\tILI9881C_COMMAND_INSTR(0x38, 0x01),\n\tILI9881C_COMMAND_INSTR(0x39, 0x00),\n\tILI9881C_COMMAND_INSTR(0x6c, 0x15),\n\tILI9881C_COMMAND_INSTR(0x6e, 0x2b),\n\tILI9881C_COMMAND_INSTR(0x6f, 0x33),\n\tILI9881C_COMMAND_INSTR(0x8d, 0x18),\n\tILI9881C_COMMAND_INSTR(0x87, 0xba),\n\tILI9881C_COMMAND_INSTR(0x26, 0x76),\n\tILI9881C_COMMAND_INSTR(0xb2, 0xd1),\n\tILI9881C_COMMAND_INSTR(0xb5, 0x06),\n\tILI9881C_COMMAND_INSTR(0x3a, 0x24),\n\tILI9881C_COMMAND_INSTR(0x35, 0x1f),\n\tILI9881C_COMMAND_INSTR(0x33, 0x14),\n\tILI9881C_COMMAND_INSTR(0x3b, 0x98),\n\tILI9881C_SWITCH_PAGE_INSTR(1),\n\tILI9881C_COMMAND_INSTR(0x22, 0x0a),\n\tILI9881C_COMMAND_INSTR(0x31, 0x00),\n\tILI9881C_COMMAND_INSTR(0x40, 0x33),\n\tILI9881C_COMMAND_INSTR(0x53, 0xa2),\n\tILI9881C_COMMAND_INSTR(0x55, 0x92),\n\tILI9881C_COMMAND_INSTR(0x50, 0x96),\n\tILI9881C_COMMAND_INSTR(0x51, 0x96),\n\tILI9881C_COMMAND_INSTR(0x60, 0x22),\n\tILI9881C_COMMAND_INSTR(0x61, 0x00),\n\tILI9881C_COMMAND_INSTR(0x62, 0x19),\n\tILI9881C_COMMAND_INSTR(0x63, 0x00),\n\tILI9881C_COMMAND_INSTR(0xa0, 0x08),\n\tILI9881C_COMMAND_INSTR(0xa1, 0x11),\n\tILI9881C_COMMAND_INSTR(0xa2, 0x19),\n\tILI9881C_COMMAND_INSTR(0xa3, 0x0d),\n\tILI9881C_COMMAND_INSTR(0xa4, 0x0d),\n\tILI9881C_COMMAND_INSTR(0xa5, 0x1e),\n\tILI9881C_COMMAND_INSTR(0xa6, 0x14),\n\tILI9881C_COMMAND_INSTR(0xa7, 0x17),\n\tILI9881C_COMMAND_INSTR(0xa8, 0x4f),\n\tILI9881C_COMMAND_INSTR(0xa9, 0x1a),\n\tILI9881C_COMMAND_INSTR(0xaa, 0x27),\n\tILI9881C_COMMAND_INSTR(0xab, 0x49),\n\tILI9881C_COMMAND_INSTR(0xac, 0x1a),\n\tILI9881C_COMMAND_INSTR(0xad, 0x18),\n\tILI9881C_COMMAND_INSTR(0xae, 0x4c),\n\tILI9881C_COMMAND_INSTR(0xaf, 0x22),\n\tILI9881C_COMMAND_INSTR(0xb0, 0x27),\n\tILI9881C_COMMAND_INSTR(0xb1, 0x4b),\n\tILI9881C_COMMAND_INSTR(0xb2, 0x60),\n\tILI9881C_COMMAND_INSTR(0xb3, 0x39),\n\tILI9881C_COMMAND_INSTR(0xc0, 0x08),\n\tILI9881C_COMMAND_INSTR(0xc1, 0x11),\n\tILI9881C_COMMAND_INSTR(0xc2, 0x19),\n\tILI9881C_COMMAND_INSTR(0xc3, 0x0d),\n\tILI9881C_COMMAND_INSTR(0xc4, 0x0d),\n\tILI9881C_COMMAND_INSTR(0xc5, 0x1e),\n\tILI9881C_COMMAND_INSTR(0xc6, 0x14),\n\tILI9881C_COMMAND_INSTR(0xc7, 0x17),\n\tILI9881C_COMMAND_INSTR(0xc8, 0x4f),\n\tILI9881C_COMMAND_INSTR(0xc9, 0x1a),\n\tILI9881C_COMMAND_INSTR(0xca, 0x27),\n\tILI9881C_COMMAND_INSTR(0xcb, 0x49),\n\tILI9881C_COMMAND_INSTR(0xcc, 0x1a),\n\tILI9881C_COMMAND_INSTR(0xcd, 0x18),\n\tILI9881C_COMMAND_INSTR(0xce, 0x4c),\n\tILI9881C_COMMAND_INSTR(0xcf, 0x33),\n\tILI9881C_COMMAND_INSTR(0xd0, 0x27),\n\tILI9881C_COMMAND_INSTR(0xd1, 0x4b),\n\tILI9881C_COMMAND_INSTR(0xd2, 0x60),\n\tILI9881C_COMMAND_INSTR(0xd3, 0x39),\n\tILI9881C_SWITCH_PAGE_INSTR(0),\n\tILI9881C_COMMAND_INSTR(0x36, 0x03),\n};\n\nstatic const struct ili9881c_instr w552946ab_init[] = {\n\tILI9881C_SWITCH_PAGE_INSTR(3),\n\tILI9881C_COMMAND_INSTR(0x01, 0x00),\n\tILI9881C_COMMAND_INSTR(0x02, 0x00),\n\tILI9881C_COMMAND_INSTR(0x03, 0x53),\n\tILI9881C_COMMAND_INSTR(0x04, 0x53),\n\tILI9881C_COMMAND_INSTR(0x05, 0x13),\n\tILI9881C_COMMAND_INSTR(0x06, 0x04),\n\tILI9881C_COMMAND_INSTR(0x07, 0x02),\n\tILI9881C_COMMAND_INSTR(0x08, 0x02),\n\tILI9881C_COMMAND_INSTR(0x09, 0x00),\n\tILI9881C_COMMAND_INSTR(0x0A, 0x00),\n\tILI9881C_COMMAND_INSTR(0x0B, 0x00),\n\tILI9881C_COMMAND_INSTR(0x0C, 0x00),\n\tILI9881C_COMMAND_INSTR(0x0D, 0x00),\n\tILI9881C_COMMAND_INSTR(0x0E, 0x00),\n\tILI9881C_COMMAND_INSTR(0x0F, 0x00),\n\n\tILI9881C_COMMAND_INSTR(0x10, 0x00),\n\tILI9881C_COMMAND_INSTR(0x11, 0x00),\n\tILI9881C_COMMAND_INSTR(0x12, 0x00),\n\tILI9881C_COMMAND_INSTR(0x13, 0x00),\n\tILI9881C_COMMAND_INSTR(0x14, 0x00),\n\tILI9881C_COMMAND_INSTR(0x15, 0x08),\n\tILI9881C_COMMAND_INSTR(0x16, 0x10),\n\tILI9881C_COMMAND_INSTR(0x17, 0x00),\n\tILI9881C_COMMAND_INSTR(0x18, 0x08),\n\tILI9881C_COMMAND_INSTR(0x19, 0x00),\n\tILI9881C_COMMAND_INSTR(0x1A, 0x00),\n\tILI9881C_COMMAND_INSTR(0x1B, 0x00),\n\tILI9881C_COMMAND_INSTR(0x1C, 0x00),\n\tILI9881C_COMMAND_INSTR(0x1D, 0x00),\n\tILI9881C_COMMAND_INSTR(0x1E, 0xC0),\n\tILI9881C_COMMAND_INSTR(0x1F, 0x80),\n\n\tILI9881C_COMMAND_INSTR(0x20, 0x02),\n\tILI9881C_COMMAND_INSTR(0x21, 0x09),\n\tILI9881C_COMMAND_INSTR(0x22, 0x00),\n\tILI9881C_COMMAND_INSTR(0x23, 0x00),\n\tILI9881C_COMMAND_INSTR(0x24, 0x00),\n\tILI9881C_COMMAND_INSTR(0x25, 0x00),\n\tILI9881C_COMMAND_INSTR(0x26, 0x00),\n\tILI9881C_COMMAND_INSTR(0x27, 0x00),\n\tILI9881C_COMMAND_INSTR(0x28, 0x55),\n\tILI9881C_COMMAND_INSTR(0x29, 0x03),\n\tILI9881C_COMMAND_INSTR(0x2A, 0x00),\n\tILI9881C_COMMAND_INSTR(0x2B, 0x00),\n\tILI9881C_COMMAND_INSTR(0x2C, 0x00),\n\tILI9881C_COMMAND_INSTR(0x2D, 0x00),\n\tILI9881C_COMMAND_INSTR(0x2E, 0x00),\n\tILI9881C_COMMAND_INSTR(0x2F, 0x00),\n\n\tILI9881C_COMMAND_INSTR(0x30, 0x00),\n\tILI9881C_COMMAND_INSTR(0x31, 0x00),\n\tILI9881C_COMMAND_INSTR(0x32, 0x00),\n\tILI9881C_COMMAND_INSTR(0x33, 0x00),\n\tILI9881C_COMMAND_INSTR(0x34, 0x04),\n\tILI9881C_COMMAND_INSTR(0x35, 0x05),\n\tILI9881C_COMMAND_INSTR(0x36, 0x05),\n\tILI9881C_COMMAND_INSTR(0x37, 0x00),\n\tILI9881C_COMMAND_INSTR(0x38, 0x3C),\n\tILI9881C_COMMAND_INSTR(0x39, 0x35),\n\tILI9881C_COMMAND_INSTR(0x3A, 0x00),\n\tILI9881C_COMMAND_INSTR(0x3B, 0x40),\n\tILI9881C_COMMAND_INSTR(0x3C, 0x00),\n\tILI9881C_COMMAND_INSTR(0x3D, 0x00),\n\tILI9881C_COMMAND_INSTR(0x3E, 0x00),\n\tILI9881C_COMMAND_INSTR(0x3F, 0x00),\n\n\tILI9881C_COMMAND_INSTR(0x40, 0x00),\n\tILI9881C_COMMAND_INSTR(0x41, 0x88),\n\tILI9881C_COMMAND_INSTR(0x42, 0x00),\n\tILI9881C_COMMAND_INSTR(0x43, 0x00),\n\tILI9881C_COMMAND_INSTR(0x44, 0x1F),\n\n\tILI9881C_COMMAND_INSTR(0x50, 0x01),\n\tILI9881C_COMMAND_INSTR(0x51, 0x23),\n\tILI9881C_COMMAND_INSTR(0x52, 0x45),\n\tILI9881C_COMMAND_INSTR(0x53, 0x67),\n\tILI9881C_COMMAND_INSTR(0x54, 0x89),\n\tILI9881C_COMMAND_INSTR(0x55, 0xaB),\n\tILI9881C_COMMAND_INSTR(0x56, 0x01),\n\tILI9881C_COMMAND_INSTR(0x57, 0x23),\n\tILI9881C_COMMAND_INSTR(0x58, 0x45),\n\tILI9881C_COMMAND_INSTR(0x59, 0x67),\n\tILI9881C_COMMAND_INSTR(0x5A, 0x89),\n\tILI9881C_COMMAND_INSTR(0x5B, 0xAB),\n\tILI9881C_COMMAND_INSTR(0x5C, 0xCD),\n\tILI9881C_COMMAND_INSTR(0x5D, 0xEF),\n\tILI9881C_COMMAND_INSTR(0x5E, 0x03),\n\tILI9881C_COMMAND_INSTR(0x5F, 0x14),\n\n\tILI9881C_COMMAND_INSTR(0x60, 0x15),\n\tILI9881C_COMMAND_INSTR(0x61, 0x0C),\n\tILI9881C_COMMAND_INSTR(0x62, 0x0D),\n\tILI9881C_COMMAND_INSTR(0x63, 0x0E),\n\tILI9881C_COMMAND_INSTR(0x64, 0x0F),\n\tILI9881C_COMMAND_INSTR(0x65, 0x10),\n\tILI9881C_COMMAND_INSTR(0x66, 0x11),\n\tILI9881C_COMMAND_INSTR(0x67, 0x08),\n\tILI9881C_COMMAND_INSTR(0x68, 0x02),\n\tILI9881C_COMMAND_INSTR(0x69, 0x0A),\n\tILI9881C_COMMAND_INSTR(0x6A, 0x02),\n\tILI9881C_COMMAND_INSTR(0x6B, 0x02),\n\tILI9881C_COMMAND_INSTR(0x6C, 0x02),\n\tILI9881C_COMMAND_INSTR(0x6D, 0x02),\n\tILI9881C_COMMAND_INSTR(0x6E, 0x02),\n\tILI9881C_COMMAND_INSTR(0x6F, 0x02),\n\n\tILI9881C_COMMAND_INSTR(0x70, 0x02),\n\tILI9881C_COMMAND_INSTR(0x71, 0x02),\n\tILI9881C_COMMAND_INSTR(0x72, 0x06),\n\tILI9881C_COMMAND_INSTR(0x73, 0x02),\n\tILI9881C_COMMAND_INSTR(0x74, 0x02),\n\tILI9881C_COMMAND_INSTR(0x75, 0x14),\n\tILI9881C_COMMAND_INSTR(0x76, 0x15),\n\tILI9881C_COMMAND_INSTR(0x77, 0x0F),\n\tILI9881C_COMMAND_INSTR(0x78, 0x0E),\n\tILI9881C_COMMAND_INSTR(0x79, 0x0D),\n\tILI9881C_COMMAND_INSTR(0x7A, 0x0C),\n\tILI9881C_COMMAND_INSTR(0x7B, 0x11),\n\tILI9881C_COMMAND_INSTR(0x7C, 0x10),\n\tILI9881C_COMMAND_INSTR(0x7D, 0x06),\n\tILI9881C_COMMAND_INSTR(0x7E, 0x02),\n\tILI9881C_COMMAND_INSTR(0x7F, 0x0A),\n\n\tILI9881C_COMMAND_INSTR(0x80, 0x02),\n\tILI9881C_COMMAND_INSTR(0x81, 0x02),\n\tILI9881C_COMMAND_INSTR(0x82, 0x02),\n\tILI9881C_COMMAND_INSTR(0x83, 0x02),\n\tILI9881C_COMMAND_INSTR(0x84, 0x02),\n\tILI9881C_COMMAND_INSTR(0x85, 0x02),\n\tILI9881C_COMMAND_INSTR(0x86, 0x02),\n\tILI9881C_COMMAND_INSTR(0x87, 0x02),\n\tILI9881C_COMMAND_INSTR(0x88, 0x08),\n\tILI9881C_COMMAND_INSTR(0x89, 0x02),\n\tILI9881C_COMMAND_INSTR(0x8A, 0x02),\n\n\tILI9881C_SWITCH_PAGE_INSTR(4),\n\tILI9881C_COMMAND_INSTR(0x00, 0x80),\n\tILI9881C_COMMAND_INSTR(0x70, 0x00),\n\tILI9881C_COMMAND_INSTR(0x71, 0x00),\n\tILI9881C_COMMAND_INSTR(0x66, 0xFE),\n\tILI9881C_COMMAND_INSTR(0x82, 0x15),\n\tILI9881C_COMMAND_INSTR(0x84, 0x15),\n\tILI9881C_COMMAND_INSTR(0x85, 0x15),\n\tILI9881C_COMMAND_INSTR(0x3a, 0x24),\n\tILI9881C_COMMAND_INSTR(0x32, 0xAC),\n\tILI9881C_COMMAND_INSTR(0x8C, 0x80),\n\tILI9881C_COMMAND_INSTR(0x3C, 0xF5),\n\tILI9881C_COMMAND_INSTR(0x88, 0x33),\n\n\tILI9881C_SWITCH_PAGE_INSTR(1),\n\tILI9881C_COMMAND_INSTR(0x22, 0x0A),\n\tILI9881C_COMMAND_INSTR(0x31, 0x00),\n\tILI9881C_COMMAND_INSTR(0x53, 0x78),\n\tILI9881C_COMMAND_INSTR(0x50, 0x5B),\n\tILI9881C_COMMAND_INSTR(0x51, 0x5B),\n\tILI9881C_COMMAND_INSTR(0x60, 0x20),\n\tILI9881C_COMMAND_INSTR(0x61, 0x00),\n\tILI9881C_COMMAND_INSTR(0x62, 0x0D),\n\tILI9881C_COMMAND_INSTR(0x63, 0x00),\n\n\tILI9881C_COMMAND_INSTR(0xA0, 0x00),\n\tILI9881C_COMMAND_INSTR(0xA1, 0x10),\n\tILI9881C_COMMAND_INSTR(0xA2, 0x1C),\n\tILI9881C_COMMAND_INSTR(0xA3, 0x13),\n\tILI9881C_COMMAND_INSTR(0xA4, 0x15),\n\tILI9881C_COMMAND_INSTR(0xA5, 0x26),\n\tILI9881C_COMMAND_INSTR(0xA6, 0x1A),\n\tILI9881C_COMMAND_INSTR(0xA7, 0x1D),\n\tILI9881C_COMMAND_INSTR(0xA8, 0x67),\n\tILI9881C_COMMAND_INSTR(0xA9, 0x1C),\n\tILI9881C_COMMAND_INSTR(0xAA, 0x29),\n\tILI9881C_COMMAND_INSTR(0xAB, 0x5B),\n\tILI9881C_COMMAND_INSTR(0xAC, 0x26),\n\tILI9881C_COMMAND_INSTR(0xAD, 0x28),\n\tILI9881C_COMMAND_INSTR(0xAE, 0x5C),\n\tILI9881C_COMMAND_INSTR(0xAF, 0x30),\n\tILI9881C_COMMAND_INSTR(0xB0, 0x31),\n\tILI9881C_COMMAND_INSTR(0xB1, 0x2E),\n\tILI9881C_COMMAND_INSTR(0xB2, 0x32),\n\tILI9881C_COMMAND_INSTR(0xB3, 0x00),\n\n\tILI9881C_COMMAND_INSTR(0xC0, 0x00),\n\tILI9881C_COMMAND_INSTR(0xC1, 0x10),\n\tILI9881C_COMMAND_INSTR(0xC2, 0x1C),\n\tILI9881C_COMMAND_INSTR(0xC3, 0x13),\n\tILI9881C_COMMAND_INSTR(0xC4, 0x15),\n\tILI9881C_COMMAND_INSTR(0xC5, 0x26),\n\tILI9881C_COMMAND_INSTR(0xC6, 0x1A),\n\tILI9881C_COMMAND_INSTR(0xC7, 0x1D),\n\tILI9881C_COMMAND_INSTR(0xC8, 0x67),\n\tILI9881C_COMMAND_INSTR(0xC9, 0x1C),\n\tILI9881C_COMMAND_INSTR(0xCA, 0x29),\n\tILI9881C_COMMAND_INSTR(0xCB, 0x5B),\n\tILI9881C_COMMAND_INSTR(0xCC, 0x26),\n\tILI9881C_COMMAND_INSTR(0xCD, 0x28),\n\tILI9881C_COMMAND_INSTR(0xCE, 0x5C),\n\tILI9881C_COMMAND_INSTR(0xCF, 0x30),\n\tILI9881C_COMMAND_INSTR(0xD0, 0x31),\n\tILI9881C_COMMAND_INSTR(0xD1, 0x2E),\n\tILI9881C_COMMAND_INSTR(0xD2, 0x32),\n\tILI9881C_COMMAND_INSTR(0xD3, 0x00),\n\tILI9881C_SWITCH_PAGE_INSTR(0),\n};\n\nstatic inline struct ili9881c *panel_to_ili9881c(struct drm_panel *panel)\n{\n\treturn container_of(panel, struct ili9881c, panel);\n}\n\n \nstatic int ili9881c_switch_page(struct ili9881c *ctx, u8 page)\n{\n\tu8 buf[4] = { 0xff, 0x98, 0x81, page };\n\tint ret;\n\n\tret = mipi_dsi_dcs_write_buffer(ctx->dsi, buf, sizeof(buf));\n\tif (ret < 0)\n\t\treturn ret;\n\n\treturn 0;\n}\n\nstatic int ili9881c_send_cmd_data(struct ili9881c *ctx, u8 cmd, u8 data)\n{\n\tu8 buf[2] = { cmd, data };\n\tint ret;\n\n\tret = mipi_dsi_dcs_write_buffer(ctx->dsi, buf, sizeof(buf));\n\tif (ret < 0)\n\t\treturn ret;\n\n\treturn 0;\n}\n\nstatic int ili9881c_prepare(struct drm_panel *panel)\n{\n\tstruct ili9881c *ctx = panel_to_ili9881c(panel);\n\tunsigned int i;\n\tint ret;\n\n\t \n\tret = regulator_enable(ctx->power);\n\tif (ret)\n\t\treturn ret;\n\tmsleep(5);\n\n\t \n\tgpiod_set_value(ctx->reset, 1);\n\tmsleep(20);\n\n\tgpiod_set_value(ctx->reset, 0);\n\tmsleep(20);\n\n\tfor (i = 0; i < ctx->desc->init_length; i++) {\n\t\tconst struct ili9881c_instr *instr = &ctx->desc->init[i];\n\n\t\tif (instr->op == ILI9881C_SWITCH_PAGE)\n\t\t\tret = ili9881c_switch_page(ctx, instr->arg.page);\n\t\telse if (instr->op == ILI9881C_COMMAND)\n\t\t\tret = ili9881c_send_cmd_data(ctx, instr->arg.cmd.cmd,\n\t\t\t\t\t\t      instr->arg.cmd.data);\n\n\t\tif (ret)\n\t\t\treturn ret;\n\t}\n\n\tret = ili9881c_switch_page(ctx, 0);\n\tif (ret)\n\t\treturn ret;\n\n\tret = mipi_dsi_dcs_set_tear_on(ctx->dsi, MIPI_DSI_DCS_TEAR_MODE_VBLANK);\n\tif (ret)\n\t\treturn ret;\n\n\tret = mipi_dsi_dcs_exit_sleep_mode(ctx->dsi);\n\tif (ret)\n\t\treturn ret;\n\n\treturn 0;\n}\n\nstatic int ili9881c_enable(struct drm_panel *panel)\n{\n\tstruct ili9881c *ctx = panel_to_ili9881c(panel);\n\n\tmsleep(120);\n\n\tmipi_dsi_dcs_set_display_on(ctx->dsi);\n\n\treturn 0;\n}\n\nstatic int ili9881c_disable(struct drm_panel *panel)\n{\n\tstruct ili9881c *ctx = panel_to_ili9881c(panel);\n\n\treturn mipi_dsi_dcs_set_display_off(ctx->dsi);\n}\n\nstatic int ili9881c_unprepare(struct drm_panel *panel)\n{\n\tstruct ili9881c *ctx = panel_to_ili9881c(panel);\n\n\tmipi_dsi_dcs_enter_sleep_mode(ctx->dsi);\n\tregulator_disable(ctx->power);\n\tgpiod_set_value(ctx->reset, 1);\n\n\treturn 0;\n}\n\nstatic const struct drm_display_mode lhr050h41_default_mode = {\n\t.clock\t\t= 62000,\n\n\t.hdisplay\t= 720,\n\t.hsync_start\t= 720 + 10,\n\t.hsync_end\t= 720 + 10 + 20,\n\t.htotal\t\t= 720 + 10 + 20 + 30,\n\n\t.vdisplay\t= 1280,\n\t.vsync_start\t= 1280 + 10,\n\t.vsync_end\t= 1280 + 10 + 10,\n\t.vtotal\t\t= 1280 + 10 + 10 + 20,\n\n\t.width_mm\t= 62,\n\t.height_mm\t= 110,\n};\n\nstatic const struct drm_display_mode k101_im2byl02_default_mode = {\n\t.clock\t\t= 69700,\n\n\t.hdisplay\t= 800,\n\t.hsync_start\t= 800 + 52,\n\t.hsync_end\t= 800 + 52 + 8,\n\t.htotal\t\t= 800 + 52 + 8 + 48,\n\n\t.vdisplay\t= 1280,\n\t.vsync_start\t= 1280 + 16,\n\t.vsync_end\t= 1280 + 16 + 6,\n\t.vtotal\t\t= 1280 + 16 + 6 + 15,\n\n\t.width_mm\t= 135,\n\t.height_mm\t= 217,\n};\n\nstatic const struct drm_display_mode tl050hdv35_default_mode = {\n\t.clock\t\t= 59400,\n\n\t.hdisplay\t= 720,\n\t.hsync_start\t= 720 + 18,\n\t.hsync_end\t= 720 + 18 + 3,\n\t.htotal\t\t= 720 + 18 + 3 + 20,\n\n\t.vdisplay\t= 1280,\n\t.vsync_start\t= 1280 + 26,\n\t.vsync_end\t= 1280 + 26 + 6,\n\t.vtotal\t\t= 1280 + 26 + 6 + 28,\n\n\t.width_mm\t= 62,\n\t.height_mm\t= 110,\n};\n\nstatic const struct drm_display_mode w552946aba_default_mode = {\n\t.clock\t\t= 64000,\n\n\t.hdisplay\t= 720,\n\t.hsync_start\t= 720 + 40,\n\t.hsync_end\t= 720 + 40 + 10,\n\t.htotal\t\t= 720 + 40 + 10 + 40,\n\n\t.vdisplay\t= 1280,\n\t.vsync_start\t= 1280 + 22,\n\t.vsync_end\t= 1280 + 22 + 4,\n\t.vtotal\t\t= 1280 + 22 + 4 + 11,\n\n\t.width_mm\t= 68,\n\t.height_mm\t= 121,\n};\n\nstatic int ili9881c_get_modes(struct drm_panel *panel,\n\t\t\t      struct drm_connector *connector)\n{\n\tstruct ili9881c *ctx = panel_to_ili9881c(panel);\n\tstruct drm_display_mode *mode;\n\n\tmode = drm_mode_duplicate(connector->dev, ctx->desc->mode);\n\tif (!mode) {\n\t\tdev_err(&ctx->dsi->dev, \"failed to add mode %ux%ux@%u\\n\",\n\t\t\tctx->desc->mode->hdisplay,\n\t\t\tctx->desc->mode->vdisplay,\n\t\t\tdrm_mode_vrefresh(ctx->desc->mode));\n\t\treturn -ENOMEM;\n\t}\n\n\tdrm_mode_set_name(mode);\n\n\tmode->type = DRM_MODE_TYPE_DRIVER | DRM_MODE_TYPE_PREFERRED;\n\tdrm_mode_probed_add(connector, mode);\n\n\tconnector->display_info.width_mm = mode->width_mm;\n\tconnector->display_info.height_mm = mode->height_mm;\n\n\t \n\tdrm_connector_set_panel_orientation(connector, ctx->orientation);\n\n\treturn 1;\n}\n\nstatic enum drm_panel_orientation ili9881c_get_orientation(struct drm_panel *panel)\n{\n\tstruct ili9881c *ctx = panel_to_ili9881c(panel);\n\n\treturn ctx->orientation;\n}\n\nstatic const struct drm_panel_funcs ili9881c_funcs = {\n\t.prepare\t= ili9881c_prepare,\n\t.unprepare\t= ili9881c_unprepare,\n\t.enable\t\t= ili9881c_enable,\n\t.disable\t= ili9881c_disable,\n\t.get_modes\t= ili9881c_get_modes,\n\t.get_orientation = ili9881c_get_orientation,\n};\n\nstatic int ili9881c_dsi_probe(struct mipi_dsi_device *dsi)\n{\n\tstruct ili9881c *ctx;\n\tint ret;\n\n\tctx = devm_kzalloc(&dsi->dev, sizeof(*ctx), GFP_KERNEL);\n\tif (!ctx)\n\t\treturn -ENOMEM;\n\tmipi_dsi_set_drvdata(dsi, ctx);\n\tctx->dsi = dsi;\n\tctx->desc = of_device_get_match_data(&dsi->dev);\n\n\tdrm_panel_init(&ctx->panel, &dsi->dev, &ili9881c_funcs,\n\t\t       DRM_MODE_CONNECTOR_DSI);\n\n\tctx->power = devm_regulator_get(&dsi->dev, \"power\");\n\tif (IS_ERR(ctx->power))\n\t\treturn dev_err_probe(&dsi->dev, PTR_ERR(ctx->power),\n\t\t\t\t     \"Couldn't get our power regulator\\n\");\n\n\tctx->reset = devm_gpiod_get_optional(&dsi->dev, \"reset\", GPIOD_OUT_LOW);\n\tif (IS_ERR(ctx->reset))\n\t\treturn dev_err_probe(&dsi->dev, PTR_ERR(ctx->reset),\n\t\t\t\t     \"Couldn't get our reset GPIO\\n\");\n\n\tret = of_drm_get_panel_orientation(dsi->dev.of_node, &ctx->orientation);\n\tif (ret) {\n\t\tdev_err(&dsi->dev, \"%pOF: failed to get orientation: %d\\n\",\n\t\t\tdsi->dev.of_node, ret);\n\t\treturn ret;\n\t}\n\n\tret = drm_panel_of_backlight(&ctx->panel);\n\tif (ret)\n\t\treturn ret;\n\n\tdrm_panel_add(&ctx->panel);\n\n\tdsi->mode_flags = ctx->desc->mode_flags;\n\tdsi->format = MIPI_DSI_FMT_RGB888;\n\tdsi->lanes = 4;\n\n\treturn mipi_dsi_attach(dsi);\n}\n\nstatic void ili9881c_dsi_remove(struct mipi_dsi_device *dsi)\n{\n\tstruct ili9881c *ctx = mipi_dsi_get_drvdata(dsi);\n\n\tmipi_dsi_detach(dsi);\n\tdrm_panel_remove(&ctx->panel);\n}\n\nstatic const struct ili9881c_desc lhr050h41_desc = {\n\t.init = lhr050h41_init,\n\t.init_length = ARRAY_SIZE(lhr050h41_init),\n\t.mode = &lhr050h41_default_mode,\n\t.mode_flags = MIPI_DSI_MODE_VIDEO_SYNC_PULSE,\n};\n\nstatic const struct ili9881c_desc k101_im2byl02_desc = {\n\t.init = k101_im2byl02_init,\n\t.init_length = ARRAY_SIZE(k101_im2byl02_init),\n\t.mode = &k101_im2byl02_default_mode,\n\t.mode_flags = MIPI_DSI_MODE_VIDEO_SYNC_PULSE,\n};\n\nstatic const struct ili9881c_desc tl050hdv35_desc = {\n\t.init = tl050hdv35_init,\n\t.init_length = ARRAY_SIZE(tl050hdv35_init),\n\t.mode = &tl050hdv35_default_mode,\n\t.mode_flags = MIPI_DSI_MODE_VIDEO | MIPI_DSI_MODE_VIDEO_SYNC_PULSE |\n\t\t      MIPI_DSI_MODE_LPM,\n};\n\nstatic const struct ili9881c_desc w552946aba_desc = {\n\t.init = w552946ab_init,\n\t.init_length = ARRAY_SIZE(w552946ab_init),\n\t.mode = &w552946aba_default_mode,\n\t.mode_flags = MIPI_DSI_MODE_VIDEO | MIPI_DSI_MODE_VIDEO_BURST |\n\t\t      MIPI_DSI_MODE_LPM | MIPI_DSI_MODE_NO_EOT_PACKET,\n};\n\nstatic const struct of_device_id ili9881c_of_match[] = {\n\t{ .compatible = \"bananapi,lhr050h41\", .data = &lhr050h41_desc },\n\t{ .compatible = \"feixin,k101-im2byl02\", .data = &k101_im2byl02_desc },\n\t{ .compatible = \"tdo,tl050hdv35\", .data = &tl050hdv35_desc },\n\t{ .compatible = \"wanchanglong,w552946aba\", .data = &w552946aba_desc },\n\t{ }\n};\nMODULE_DEVICE_TABLE(of, ili9881c_of_match);\n\nstatic struct mipi_dsi_driver ili9881c_dsi_driver = {\n\t.probe\t\t= ili9881c_dsi_probe,\n\t.remove\t\t= ili9881c_dsi_remove,\n\t.driver = {\n\t\t.name\t\t= \"ili9881c-dsi\",\n\t\t.of_match_table\t= ili9881c_of_match,\n\t},\n};\nmodule_mipi_dsi_driver(ili9881c_dsi_driver);\n\nMODULE_AUTHOR(\"Maxime Ripard <maxime.ripard@free-electrons.com>\");\nMODULE_DESCRIPTION(\"Ilitek ILI9881C Controller Driver\");\nMODULE_LICENSE(\"GPL v2\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}