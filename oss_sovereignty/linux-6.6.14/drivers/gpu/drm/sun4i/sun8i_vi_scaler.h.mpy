{
  "module_name": "sun8i_vi_scaler.h",
  "hash_id": "a0786417be1d8a25b57eb3324e266b96f3e424440f8aef91e17b38cf35c3d12e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/sun4i/sun8i_vi_scaler.h",
  "human_readable_source": " \n\n#ifndef _SUN8I_VI_SCALER_H_\n#define _SUN8I_VI_SCALER_H_\n\n#include <drm/drm_fourcc.h>\n#include \"sun8i_mixer.h\"\n\n#define DE2_VI_SCALER_UNIT_BASE 0x20000\n#define DE2_VI_SCALER_UNIT_SIZE 0x20000\n\n#define DE3_VI_SCALER_UNIT_BASE 0x20000\n#define DE3_VI_SCALER_UNIT_SIZE 0x08000\n\n \n#define SUN8I_VI_SCALER_SCALE_MIN\t\t1\n#define SUN8I_VI_SCALER_SCALE_MAX\t\t((1UL << 20) - 1)\n\n#define SUN8I_VI_SCALER_SCALE_FRAC\t\t20\n#define SUN8I_VI_SCALER_PHASE_FRAC\t\t20\n#define SUN8I_VI_SCALER_COEFF_COUNT\t\t32\n#define SUN8I_VI_SCALER_SIZE(w, h)\t\t(((h) - 1) << 16 | ((w) - 1))\n\n#define SUN8I_SCALER_VSU_CTRL(base)\t\t((base) + 0x0)\n#define SUN50I_SCALER_VSU_SCALE_MODE(base)\t\t((base) + 0x10)\n#define SUN50I_SCALER_VSU_DIR_THR(base)\t\t((base) + 0x20)\n#define SUN50I_SCALER_VSU_EDGE_THR(base)\t\t((base) + 0x24)\n#define SUN50I_SCALER_VSU_EDSCL_CTRL(base)\t\t((base) + 0x28)\n#define SUN50I_SCALER_VSU_ANGLE_THR(base)\t\t((base) + 0x2c)\n#define SUN8I_SCALER_VSU_OUTSIZE(base)\t\t((base) + 0x40)\n#define SUN8I_SCALER_VSU_YINSIZE(base)\t\t((base) + 0x80)\n#define SUN8I_SCALER_VSU_YHSTEP(base)\t\t((base) + 0x88)\n#define SUN8I_SCALER_VSU_YVSTEP(base)\t\t((base) + 0x8c)\n#define SUN8I_SCALER_VSU_YHPHASE(base)\t\t((base) + 0x90)\n#define SUN8I_SCALER_VSU_YVPHASE(base)\t\t((base) + 0x98)\n#define SUN8I_SCALER_VSU_CINSIZE(base)\t\t((base) + 0xc0)\n#define SUN8I_SCALER_VSU_CHSTEP(base)\t\t((base) + 0xc8)\n#define SUN8I_SCALER_VSU_CVSTEP(base)\t\t((base) + 0xcc)\n#define SUN8I_SCALER_VSU_CHPHASE(base)\t\t((base) + 0xd0)\n#define SUN8I_SCALER_VSU_CVPHASE(base)\t\t((base) + 0xd8)\n#define SUN8I_SCALER_VSU_YHCOEFF0(base, i)\t((base) + 0x200 + 0x4 * (i))\n#define SUN8I_SCALER_VSU_YHCOEFF1(base, i)\t((base) + 0x300 + 0x4 * (i))\n#define SUN8I_SCALER_VSU_YVCOEFF(base, i)\t((base) + 0x400 + 0x4 * (i))\n#define SUN8I_SCALER_VSU_CHCOEFF0(base, i)\t((base) + 0x600 + 0x4 * (i))\n#define SUN8I_SCALER_VSU_CHCOEFF1(base, i)\t((base) + 0x700 + 0x4 * (i))\n#define SUN8I_SCALER_VSU_CVCOEFF(base, i)\t((base) + 0x800 + 0x4 * (i))\n\n#define SUN8I_SCALER_VSU_CTRL_EN\t\tBIT(0)\n#define SUN8I_SCALER_VSU_CTRL_COEFF_RDY\t\tBIT(4)\n\n#define SUN50I_SCALER_VSU_SUB_ZERO_DIR_THR(x)\t(((x) << 24) & 0xFF)\n#define SUN50I_SCALER_VSU_ZERO_DIR_THR(x)\t\t(((x) << 16) & 0xFF)\n#define SUN50I_SCALER_VSU_HORZ_DIR_THR(x)\t\t(((x) << 8) & 0xFF)\n#define SUN50I_SCALER_VSU_VERT_DIR_THR(x)\t\t((x) & 0xFF)\n\n#define SUN50I_SCALER_VSU_SCALE_MODE_UI\t\t0\n#define SUN50I_SCALER_VSU_SCALE_MODE_NORMAL\t1\n#define SUN50I_SCALER_VSU_SCALE_MODE_ED_SCALE\t2\n\n#define SUN50I_SCALER_VSU_EDGE_SHIFT(x)\t\t(((x) << 16) & 0xF)\n#define SUN50I_SCALER_VSU_EDGE_OFFSET(x)\t\t((x) & 0xFF)\n\n#define SUN50I_SCALER_VSU_ANGLE_SHIFT(x)\t\t(((x) << 16) & 0xF)\n#define SUN50I_SCALER_VSU_ANGLE_OFFSET(x)\t\t((x) & 0xFF)\n\nvoid sun8i_vi_scaler_enable(struct sun8i_mixer *mixer, int layer, bool enable);\nvoid sun8i_vi_scaler_setup(struct sun8i_mixer *mixer, int layer,\n\t\t\t   u32 src_w, u32 src_h, u32 dst_w, u32 dst_h,\n\t\t\t   u32 hscale, u32 vscale, u32 hphase, u32 vphase,\n\t\t\t   const struct drm_format_info *format);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}