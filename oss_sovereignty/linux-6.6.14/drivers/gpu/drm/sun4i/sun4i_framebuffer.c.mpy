{
  "module_name": "sun4i_framebuffer.c",
  "hash_id": "4e3c3c950c591cb2b90f72482e03d3ad4a02321c4118fed5e70d7436013a0958",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/sun4i/sun4i_framebuffer.c",
  "human_readable_source": "\n \n\n#include <drm/drm_atomic.h>\n#include <drm/drm_atomic_helper.h>\n#include <drm/drm_blend.h>\n#include <drm/drm_gem_framebuffer_helper.h>\n\n#include \"sun4i_drv.h\"\n#include \"sun4i_framebuffer.h\"\n\nstatic int sun4i_de_atomic_check(struct drm_device *dev,\n\t\t\t\t struct drm_atomic_state *state)\n{\n\tint ret;\n\n\tret = drm_atomic_helper_check_modeset(dev, state);\n\tif (ret)\n\t\treturn ret;\n\n\tret = drm_atomic_normalize_zpos(dev, state);\n\tif (ret)\n\t\treturn ret;\n\n\treturn drm_atomic_helper_check_planes(dev, state);\n}\n\nstatic const struct drm_mode_config_funcs sun4i_de_mode_config_funcs = {\n\t.atomic_check\t\t= sun4i_de_atomic_check,\n\t.atomic_commit\t\t= drm_atomic_helper_commit,\n\t.fb_create\t\t= drm_gem_fb_create,\n};\n\nstatic const struct drm_mode_config_helper_funcs sun4i_de_mode_config_helpers = {\n\t.atomic_commit_tail\t= drm_atomic_helper_commit_tail_rpm,\n};\n\nvoid sun4i_framebuffer_init(struct drm_device *drm)\n{\n\tdrm_mode_config_reset(drm);\n\n\tdrm->mode_config.max_width = 8192;\n\tdrm->mode_config.max_height = 8192;\n\n\tdrm->mode_config.funcs = &sun4i_de_mode_config_funcs;\n\tdrm->mode_config.helper_private = &sun4i_de_mode_config_helpers;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}