{
  "module_name": "armada_drm.h",
  "hash_id": "a9815d8868098c4f1c1cfad4a4ff836dd52975da451305f3ec6c93313d6055e0",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/armada/armada_drm.h",
  "human_readable_source": " \n \n#ifndef ARMADA_DRM_H\n#define ARMADA_DRM_H\n\n#include <linux/kfifo.h>\n#include <linux/io.h>\n#include <linux/workqueue.h>\n\n#include <drm/drm_device.h>\n#include <drm/drm_mm.h>\n\nstruct armada_crtc;\nstruct armada_gem_object;\nstruct clk;\nstruct drm_display_mode;\n\nstatic inline void\narmada_updatel(uint32_t val, uint32_t mask, void __iomem *ptr)\n{\n\tuint32_t ov, v;\n\n\tov = v = readl_relaxed(ptr);\n\tv = (v & ~mask) | val;\n\tif (ov != v)\n\t\twritel_relaxed(v, ptr);\n}\n\nstatic inline uint32_t armada_pitch(uint32_t width, uint32_t bpp)\n{\n\tuint32_t pitch = bpp != 4 ? width * ((bpp + 7) / 8) : width / 2;\n\n\t \n\treturn ALIGN(pitch, 128);\n}\n\n\nstruct armada_private;\n\nstruct armada_variant {\n\tbool has_spu_adv_reg;\n\tint (*init)(struct armada_crtc *, struct device *);\n\tint (*compute_clock)(struct armada_crtc *,\n\t\t\t     const struct drm_display_mode *,\n\t\t\t     uint32_t *);\n\tvoid (*disable)(struct armada_crtc *);\n\tvoid (*enable)(struct armada_crtc *, const struct drm_display_mode *);\n};\n\n \nextern const struct armada_variant armada510_ops;\n\nstruct armada_private {\n\tstruct drm_device\tdrm;\n\tstruct armada_crtc\t*dcrtc[2];\n\tstruct drm_mm\t\tlinear;  \n\tstruct mutex\t\tlinear_lock;\n\tstruct drm_property\t*colorkey_prop;\n\tstruct drm_property\t*colorkey_min_prop;\n\tstruct drm_property\t*colorkey_max_prop;\n\tstruct drm_property\t*colorkey_val_prop;\n\tstruct drm_property\t*colorkey_alpha_prop;\n\tstruct drm_property\t*colorkey_mode_prop;\n\tstruct drm_property\t*brightness_prop;\n\tstruct drm_property\t*contrast_prop;\n\tstruct drm_property\t*saturation_prop;\n#ifdef CONFIG_DEBUG_FS\n\tstruct dentry\t\t*de;\n#endif\n};\n\n#define drm_to_armada_dev(dev) container_of(dev, struct armada_private, drm)\n\n#if defined(CONFIG_DRM_FBDEV_EMULATION)\nvoid armada_fbdev_setup(struct drm_device *dev);\n#else\nstatic inline void armada_fbdev_setup(struct drm_device *dev)\n{ }\n#endif\n\nint armada_overlay_plane_create(struct drm_device *, unsigned long);\n\nvoid armada_drm_crtc_debugfs_init(struct armada_crtc *dcrtc);\nint armada_drm_debugfs_init(struct drm_minor *);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}