{
  "module_name": "cdn-dp-core.h",
  "hash_id": "8c3aa6d8ae68a89a64e5eb3fea5b98c5f0af242a9029eb12baaec733151b695e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/rockchip/cdn-dp-core.h",
  "human_readable_source": " \n \n\n#ifndef _CDN_DP_CORE_H\n#define _CDN_DP_CORE_H\n\n#include <drm/display/drm_dp_helper.h>\n#include <drm/drm_panel.h>\n#include <drm/drm_probe_helper.h>\n#include <sound/hdmi-codec.h>\n\n#include \"rockchip_drm_drv.h\"\n\n#define MAX_PHY\t\t2\n\nenum audio_format {\n\tAFMT_I2S = 0,\n\tAFMT_SPDIF = 1,\n\tAFMT_UNUSED,\n};\n\nstruct audio_info {\n\tenum audio_format format;\n\tint sample_rate;\n\tint channels;\n\tint sample_width;\n};\n\nenum vic_pxl_encoding_format {\n\tPXL_RGB = 0x1,\n\tYCBCR_4_4_4 = 0x2,\n\tYCBCR_4_2_2 = 0x4,\n\tYCBCR_4_2_0 = 0x8,\n\tY_ONLY = 0x10,\n};\n\nstruct video_info {\n\tbool h_sync_polarity;\n\tbool v_sync_polarity;\n\tbool interlaced;\n\tint color_depth;\n\tenum vic_pxl_encoding_format color_fmt;\n};\n\nstruct cdn_firmware_header {\n\tu32 size_bytes;  \n\tu32 header_size;  \n\tu32 iram_size;  \n\tu32 dram_size;  \n};\n\nstruct cdn_dp_port {\n\tstruct cdn_dp_device *dp;\n\tstruct notifier_block event_nb;\n\tstruct extcon_dev *extcon;\n\tstruct phy *phy;\n\tu8 lanes;\n\tbool phy_enabled;\n\tu8 id;\n};\n\nstruct cdn_dp_device {\n\tstruct device *dev;\n\tstruct drm_device *drm_dev;\n\tstruct drm_connector connector;\n\tstruct rockchip_encoder encoder;\n\tstruct drm_display_mode mode;\n\tstruct platform_device *audio_pdev;\n\tstruct work_struct event_work;\n\tstruct edid *edid;\n\n\tstruct mutex lock;\n\tbool connected;\n\tbool active;\n\tbool suspended;\n\n\tconst struct firmware *fw;\t \n\tunsigned int fw_version;\t \n\tbool fw_loaded;\n\n\tvoid __iomem *regs;\n\tstruct regmap *grf;\n\tstruct clk *core_clk;\n\tstruct clk *pclk;\n\tstruct clk *spdif_clk;\n\tstruct clk *grf_clk;\n\tstruct reset_control *spdif_rst;\n\tstruct reset_control *dptx_rst;\n\tstruct reset_control *apb_rst;\n\tstruct reset_control *core_rst;\n\tstruct audio_info audio_info;\n\tstruct video_info video_info;\n\tstruct cdn_dp_port *port[MAX_PHY];\n\tu8 ports;\n\tu8 max_lanes;\n\tunsigned int max_rate;\n\tu8 lanes;\n\tint active_port;\n\n\tu8 dpcd[DP_RECEIVER_CAP_SIZE];\n\tbool sink_has_audio;\n\n\thdmi_codec_plugged_cb plugged_cb;\n\tstruct device *codec_dev;\n};\n#endif   \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}