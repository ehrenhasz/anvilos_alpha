{
  "module_name": "Kconfig",
  "hash_id": "36fc4bed0ddc99ea11cf80ba8c761aa1bcc2ea0d4f22a7371464fd56be226076",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/Kconfig",
  "human_readable_source": "# SPDX-License-Identifier: GPL-2.0-only\n#\n# Drm device configuration\n#\n# This driver provides support for the\n# Direct Rendering Infrastructure (DRI) in XFree86 4.1.0 and higher.\n#\nmenuconfig DRM\n\ttristate \"Direct Rendering Manager (XFree86 4.1.0 and higher DRI support)\"\n\tdepends on (AGP || AGP=n) && !EMULATED_CMPXCHG && HAS_DMA\n\tselect DRM_PANEL_ORIENTATION_QUIRKS\n\tselect DRM_KMS_HELPER if DRM_FBDEV_EMULATION\n\tselect FB_CORE if DRM_FBDEV_EMULATION\n\tselect FB_SYSMEM_HELPERS_DEFERRED if DRM_FBDEV_EMULATION\n\tselect HDMI\n\tselect I2C\n\tselect DMA_SHARED_BUFFER\n\tselect SYNC_FILE\n# gallium uses SYS_kcmp for os_same_file_description() to de-duplicate\n# device and dmabuf fd. Let's make sure that is available for our userspace.\n\tselect KCMP\n\tselect VIDEO_CMDLINE\n\tselect VIDEO_NOMODESET\n\thelp\n\t  Kernel-level support for the Direct Rendering Infrastructure (DRI)\n\t  introduced in XFree86 4.0. If you say Y here, you need to select\n\t  the module that's right for your graphics card from the list below.\n\t  These modules provide support for synchronization, security, and\n\t  DMA transfers. Please see <http://dri.sourceforge.net/> for more\n\t  details.  You should also select and configure AGP\n\t  (/dev/agpgart) support if it is available for your platform.\n\nconfig DRM_MIPI_DBI\n\ttristate\n\tdepends on DRM\n\tselect DRM_KMS_HELPER\n\nconfig DRM_MIPI_DSI\n\tbool\n\tdepends on DRM\n\nconfig DRM_DEBUG_MM\n\tbool \"Insert extra checks and debug info into the DRM range managers\"\n\tdefault n\n\tdepends on DRM=y\n\tdepends on STACKTRACE_SUPPORT\n\tselect STACKDEPOT\n\thelp\n\t  Enable allocation tracking of memory manager and leak detection on\n\t  shutdown.\n\n\t  Recommended for driver developers only.\n\n\t  If in doubt, say \"N\".\n\nconfig DRM_USE_DYNAMIC_DEBUG\n\tbool \"use dynamic debug to implement drm.debug\"\n\tdefault n\n\tdepends on BROKEN\n\tdepends on DRM\n\tdepends on DYNAMIC_DEBUG || DYNAMIC_DEBUG_CORE\n\tdepends on JUMP_LABEL\n\thelp\n\t  Use dynamic-debug to avoid drm_debug_enabled() runtime overheads.\n\t  Due to callsite counts in DRM drivers (~4k in amdgpu) and 56\n\t  bytes per callsite, the .data costs can be substantial, and\n\t  are therefore configurable.\n\nconfig DRM_KUNIT_TEST_HELPERS\n\ttristate\n\tdepends on DRM && KUNIT\n\thelp\n\t  KUnit Helpers for KMS drivers.\n\nconfig DRM_KUNIT_TEST\n\ttristate \"KUnit tests for DRM\" if !KUNIT_ALL_TESTS\n\tdepends on DRM && KUNIT\n\tselect PRIME_NUMBERS\n\tselect DRM_DISPLAY_DP_HELPER\n\tselect DRM_DISPLAY_HELPER\n\tselect DRM_LIB_RANDOM\n\tselect DRM_KMS_HELPER\n\tselect DRM_BUDDY\n\tselect DRM_EXPORT_FOR_TESTS if m\n\tselect DRM_KUNIT_TEST_HELPERS\n\tselect DRM_EXEC\n\tdefault KUNIT_ALL_TESTS\n\thelp\n\t  This builds unit tests for DRM. This option is not useful for\n\t  distributions or general kernels, but only for kernel\n\t  developers working on DRM and associated drivers.\n\n\t  For more information on KUnit and unit tests in general,\n\t  please refer to the KUnit documentation in\n\t  Documentation/dev-tools/kunit/.\n\n\t  If in doubt, say \"N\".\n\nconfig DRM_KMS_HELPER\n\ttristate\n\tdepends on DRM\n\thelp\n\t  CRTC helpers for KMS drivers.\n\nconfig DRM_DEBUG_DP_MST_TOPOLOGY_REFS\n        bool \"Enable refcount backtrace history in the DP MST helpers\"\n\tdepends on STACKTRACE_SUPPORT\n        select STACKDEPOT\n        depends on DRM_KMS_HELPER\n        depends on DEBUG_KERNEL\n        depends on EXPERT\n        help\n          Enables debug tracing for topology refs in DRM's DP MST helpers. A\n          history of each topology reference/dereference will be printed to the\n          kernel log once a port or branch device's topology refcount reaches 0.\n\n          This has the potential to use a lot of memory and print some very\n          large kernel messages. If in doubt, say \"N\".\n\nconfig DRM_DEBUG_MODESET_LOCK\n\tbool \"Enable backtrace history for lock contention\"\n\tdepends on STACKTRACE_SUPPORT\n\tdepends on DEBUG_KERNEL\n\tdepends on EXPERT\n\tselect STACKDEPOT\n\tdefault y if DEBUG_WW_MUTEX_SLOWPATH\n\thelp\n\t  Enable debug tracing of failures to gracefully handle drm modeset lock\n\t  contention. A history of each drm modeset lock path hitting -EDEADLK\n\t  will be saved until gracefully handled, and the backtrace will be\n\t  printed when attempting to lock a contended lock.\n\n\t  If in doubt, say \"N\".\n\nconfig DRM_FBDEV_EMULATION\n\tbool \"Enable legacy fbdev support for your modesetting driver\"\n\tdepends on DRM\n\tselect FRAMEBUFFER_CONSOLE_DETECT_PRIMARY if FRAMEBUFFER_CONSOLE\n\tdefault FB\n\thelp\n\t  Choose this option if you have a need for the legacy fbdev\n\t  support. Note that this support also provides the linux console\n\t  support on top of your modesetting driver.\n\n\t  If in doubt, say \"Y\".\n\nconfig DRM_FBDEV_OVERALLOC\n\tint \"Overallocation of the fbdev buffer\"\n\tdepends on DRM_FBDEV_EMULATION\n\tdefault 100\n\thelp\n\t  Defines the fbdev buffer overallocation in percent. Default\n\t  is 100. Typical values for double buffering will be 200,\n\t  triple buffering 300.\n\nconfig DRM_FBDEV_LEAK_PHYS_SMEM\n\tbool \"Shamelessly allow leaking of fbdev physical address (DANGEROUS)\"\n\tdepends on DRM_FBDEV_EMULATION && EXPERT\n\tdefault n\n\thelp\n\t  In order to keep user-space compatibility, we want in certain\n\t  use-cases to keep leaking the fbdev physical address to the\n\t  user-space program handling the fbdev buffer.\n\t  This affects, not only, Amlogic, Allwinner or Rockchip devices\n\t  with ARM Mali GPUs using an userspace Blob.\n\t  This option is not supported by upstream developers and should be\n\t  removed as soon as possible and be considered as a broken and\n\t  legacy behaviour from a modern fbdev device driver.\n\n\t  Please send any bug reports when using this to your proprietary\n\t  software vendor that requires this.\n\n\t  If in doubt, say \"N\" or spread the word to your closed source\n\t  library vendor.\n\nconfig DRM_LOAD_EDID_FIRMWARE\n\tbool \"Allow to specify an EDID data set instead of probing for it\"\n\tdepends on DRM\n\thelp\n\t  Say Y here, if you want to use EDID data to be loaded from the\n\t  /lib/firmware directory or one of the provided built-in\n\t  data sets. This may be necessary, if the graphics adapter or\n\t  monitor are unable to provide appropriate EDID data. Since this\n\t  feature is provided as a workaround for broken hardware, the\n\t  default case is N. Details and instructions how to build your own\n\t  EDID data are given in Documentation/admin-guide/edid.rst.\n\nsource \"drivers/gpu/drm/display/Kconfig\"\n\nconfig DRM_TTM\n\ttristate\n\tdepends on DRM && MMU\n\thelp\n\t  GPU memory management subsystem for devices with multiple\n\t  GPU memory types. Will be enabled automatically if a device driver\n\t  uses it.\n\nconfig DRM_TTM_KUNIT_TEST\n        tristate \"KUnit tests for TTM\" if !KUNIT_ALL_TESTS\n        default n\n        depends on DRM && KUNIT && MMU\n        select DRM_TTM\n        select DRM_EXPORT_FOR_TESTS if m\n        select DRM_KUNIT_TEST_HELPERS\n        default KUNIT_ALL_TESTS\n        help\n          Enables unit tests for TTM, a GPU memory manager subsystem used\n          to manage memory buffers. This option is mostly useful for kernel\n          developers.\n\n          If in doubt, say \"N\".\n\nconfig DRM_EXEC\n\ttristate\n\tdepends on DRM\n\thelp\n\t  Execution context for command submissions\n\nconfig DRM_BUDDY\n\ttristate\n\tdepends on DRM\n\thelp\n\t  A page based buddy allocator\n\nconfig DRM_VRAM_HELPER\n\ttristate\n\tdepends on DRM\n\thelp\n\t  Helpers for VRAM memory management\n\nconfig DRM_TTM_HELPER\n\ttristate\n\tdepends on DRM\n\tselect DRM_TTM\n\thelp\n\t  Helpers for ttm-based gem objects\n\nconfig DRM_GEM_DMA_HELPER\n\ttristate\n\tdepends on DRM\n\tselect FB_DMAMEM_HELPERS if DRM_FBDEV_EMULATION\n\thelp\n\t  Choose this if you need the GEM DMA helper functions\n\nconfig DRM_GEM_SHMEM_HELPER\n\ttristate\n\tdepends on DRM && MMU\n\thelp\n\t  Choose this if you need the GEM shmem helper functions\n\nconfig DRM_SUBALLOC_HELPER\n\ttristate\n\tdepends on DRM\n\nconfig DRM_SCHED\n\ttristate\n\tdepends on DRM\n\nsource \"drivers/gpu/drm/i2c/Kconfig\"\n\nsource \"drivers/gpu/drm/arm/Kconfig\"\n\nsource \"drivers/gpu/drm/radeon/Kconfig\"\n\nsource \"drivers/gpu/drm/amd/amdgpu/Kconfig\"\n\nsource \"drivers/gpu/drm/nouveau/Kconfig\"\n\nsource \"drivers/gpu/drm/i915/Kconfig\"\n\nsource \"drivers/gpu/drm/kmb/Kconfig\"\n\nconfig DRM_VGEM\n\ttristate \"Virtual GEM provider\"\n\tdepends on DRM && MMU\n\tselect DRM_GEM_SHMEM_HELPER\n\thelp\n\t  Choose this option to get a virtual graphics memory manager,\n\t  as used by Mesa's software renderer for enhanced performance.\n\t  If M is selected the module will be called vgem.\n\nconfig DRM_VKMS\n\ttristate \"Virtual KMS (EXPERIMENTAL)\"\n\tdepends on DRM && MMU\n\tselect DRM_KMS_HELPER\n\tselect DRM_GEM_SHMEM_HELPER\n\tselect CRC32\n\tdefault n\n\thelp\n\t  Virtual Kernel Mode-Setting (VKMS) is used for testing or for\n\t  running GPU in a headless machines. Choose this option to get\n\t  a VKMS.\n\n\t  If M is selected the module will be called vkms.\n\nsource \"drivers/gpu/drm/exynos/Kconfig\"\n\nsource \"drivers/gpu/drm/rockchip/Kconfig\"\n\nsource \"drivers/gpu/drm/vmwgfx/Kconfig\"\n\nsource \"drivers/gpu/drm/gma500/Kconfig\"\n\nsource \"drivers/gpu/drm/udl/Kconfig\"\n\nsource \"drivers/gpu/drm/ast/Kconfig\"\n\nsource \"drivers/gpu/drm/mgag200/Kconfig\"\n\nsource \"drivers/gpu/drm/armada/Kconfig\"\n\nsource \"drivers/gpu/drm/atmel-hlcdc/Kconfig\"\n\nsource \"drivers/gpu/drm/renesas/Kconfig\"\n\nsource \"drivers/gpu/drm/sun4i/Kconfig\"\n\nsource \"drivers/gpu/drm/omapdrm/Kconfig\"\n\nsource \"drivers/gpu/drm/tilcdc/Kconfig\"\n\nsource \"drivers/gpu/drm/qxl/Kconfig\"\n\nsource \"drivers/gpu/drm/virtio/Kconfig\"\n\nsource \"drivers/gpu/drm/msm/Kconfig\"\n\nsource \"drivers/gpu/drm/fsl-dcu/Kconfig\"\n\nsource \"drivers/gpu/drm/tegra/Kconfig\"\n\nsource \"drivers/gpu/drm/stm/Kconfig\"\n\nsource \"drivers/gpu/drm/panel/Kconfig\"\n\nsource \"drivers/gpu/drm/bridge/Kconfig\"\n\nsource \"drivers/gpu/drm/sti/Kconfig\"\n\nsource \"drivers/gpu/drm/imx/Kconfig\"\n\nsource \"drivers/gpu/drm/ingenic/Kconfig\"\n\nsource \"drivers/gpu/drm/v3d/Kconfig\"\n\nsource \"drivers/gpu/drm/vc4/Kconfig\"\n\nsource \"drivers/gpu/drm/loongson/Kconfig\"\n\nsource \"drivers/gpu/drm/etnaviv/Kconfig\"\n\nsource \"drivers/gpu/drm/hisilicon/Kconfig\"\n\nsource \"drivers/gpu/drm/logicvc/Kconfig\"\n\nsource \"drivers/gpu/drm/mediatek/Kconfig\"\n\nsource \"drivers/gpu/drm/mxsfb/Kconfig\"\n\nsource \"drivers/gpu/drm/meson/Kconfig\"\n\nsource \"drivers/gpu/drm/tiny/Kconfig\"\n\nsource \"drivers/gpu/drm/pl111/Kconfig\"\n\nsource \"drivers/gpu/drm/tve200/Kconfig\"\n\nsource \"drivers/gpu/drm/xen/Kconfig\"\n\nsource \"drivers/gpu/drm/vboxvideo/Kconfig\"\n\nsource \"drivers/gpu/drm/lima/Kconfig\"\n\nsource \"drivers/gpu/drm/panfrost/Kconfig\"\n\nsource \"drivers/gpu/drm/aspeed/Kconfig\"\n\nsource \"drivers/gpu/drm/mcde/Kconfig\"\n\nsource \"drivers/gpu/drm/tidss/Kconfig\"\n\nsource \"drivers/gpu/drm/xlnx/Kconfig\"\n\nsource \"drivers/gpu/drm/gud/Kconfig\"\n\nsource \"drivers/gpu/drm/solomon/Kconfig\"\n\nsource \"drivers/gpu/drm/sprd/Kconfig\"\n\nconfig DRM_HYPERV\n\ttristate \"DRM Support for Hyper-V synthetic video device\"\n\tdepends on DRM && PCI && MMU && HYPERV\n\tselect DRM_KMS_HELPER\n\tselect DRM_GEM_SHMEM_HELPER\n\thelp\n\t This is a KMS driver for Hyper-V synthetic video device. Choose this\n\t option if you would like to enable drm driver for Hyper-V virtual\n\t machine. Unselect Hyper-V framebuffer driver (CONFIG_FB_HYPERV) so\n\t that DRM driver is used by default.\n\n\t If M is selected the module will be called hyperv_drm.\n\n# Keep legacy drivers last\n\nmenuconfig DRM_LEGACY\n\tbool \"Enable legacy drivers (DANGEROUS)\"\n\tdepends on DRM && MMU\n\thelp\n\t  Enable legacy DRI1 drivers. Those drivers expose unsafe and dangerous\n\t  APIs to user-space, which can be used to circumvent access\n\t  restrictions and other security measures. For backwards compatibility\n\t  those drivers are still available, but their use is highly\n\t  inadvisable and might harm your system.\n\n\t  You are recommended to use the safe modeset-only drivers instead, and\n\t  perform 3D emulation in user-space.\n\n\t  Unless you have strong reasons to go rogue, say \"N\".\n\nif DRM_LEGACY\n# leave here to list legacy drivers\nendif # DRM_LEGACY\n\nconfig DRM_EXPORT_FOR_TESTS\n\tbool\n\n# Separate option because drm_panel_orientation_quirks.c is shared with fbdev\nconfig DRM_PANEL_ORIENTATION_QUIRKS\n\ttristate\n\nconfig DRM_LIB_RANDOM\n\tbool\n\tdefault n\n\nconfig DRM_PRIVACY_SCREEN\n\tbool\n\tdefault n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}