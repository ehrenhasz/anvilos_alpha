{
  "module_name": "drm_fourcc.c",
  "hash_id": "da5a9614bb5146685a4e7d0866998ef435ea72a35ab7541950cbe0144231b7c8",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/drm_fourcc.c",
  "human_readable_source": " \n\n#include <linux/bug.h>\n#include <linux/ctype.h>\n#include <linux/export.h>\n#include <linux/kernel.h>\n\n#include <drm/drm_device.h>\n#include <drm/drm_fourcc.h>\n\n \nuint32_t drm_mode_legacy_fb_format(uint32_t bpp, uint32_t depth)\n{\n\tuint32_t fmt = DRM_FORMAT_INVALID;\n\n\tswitch (bpp) {\n\tcase 1:\n\t\tif (depth == 1)\n\t\t\tfmt = DRM_FORMAT_C1;\n\t\tbreak;\n\n\tcase 2:\n\t\tif (depth == 2)\n\t\t\tfmt = DRM_FORMAT_C2;\n\t\tbreak;\n\n\tcase 4:\n\t\tif (depth == 4)\n\t\t\tfmt = DRM_FORMAT_C4;\n\t\tbreak;\n\n\tcase 8:\n\t\tif (depth == 8)\n\t\t\tfmt = DRM_FORMAT_C8;\n\t\tbreak;\n\n\tcase 16:\n\t\tswitch (depth) {\n\t\tcase 15:\n\t\t\tfmt = DRM_FORMAT_XRGB1555;\n\t\t\tbreak;\n\t\tcase 16:\n\t\t\tfmt = DRM_FORMAT_RGB565;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t\tbreak;\n\n\tcase 24:\n\t\tif (depth == 24)\n\t\t\tfmt = DRM_FORMAT_RGB888;\n\t\tbreak;\n\n\tcase 32:\n\t\tswitch (depth) {\n\t\tcase 24:\n\t\t\tfmt = DRM_FORMAT_XRGB8888;\n\t\t\tbreak;\n\t\tcase 30:\n\t\t\tfmt = DRM_FORMAT_XRGB2101010;\n\t\t\tbreak;\n\t\tcase 32:\n\t\t\tfmt = DRM_FORMAT_ARGB8888;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t\tbreak;\n\n\tdefault:\n\t\tbreak;\n\t}\n\n\treturn fmt;\n}\nEXPORT_SYMBOL(drm_mode_legacy_fb_format);\n\n \nuint32_t drm_driver_legacy_fb_format(struct drm_device *dev,\n\t\t\t\t     uint32_t bpp, uint32_t depth)\n{\n\tuint32_t fmt = drm_mode_legacy_fb_format(bpp, depth);\n\n\tif (dev->mode_config.quirk_addfb_prefer_host_byte_order) {\n\t\tif (fmt == DRM_FORMAT_XRGB8888)\n\t\t\tfmt = DRM_FORMAT_HOST_XRGB8888;\n\t\tif (fmt == DRM_FORMAT_ARGB8888)\n\t\t\tfmt = DRM_FORMAT_HOST_ARGB8888;\n\t\tif (fmt == DRM_FORMAT_RGB565)\n\t\t\tfmt = DRM_FORMAT_HOST_RGB565;\n\t\tif (fmt == DRM_FORMAT_XRGB1555)\n\t\t\tfmt = DRM_FORMAT_HOST_XRGB1555;\n\t}\n\n\tif (dev->mode_config.quirk_addfb_prefer_xbgr_30bpp &&\n\t    fmt == DRM_FORMAT_XRGB2101010)\n\t\tfmt = DRM_FORMAT_XBGR2101010;\n\n\treturn fmt;\n}\nEXPORT_SYMBOL(drm_driver_legacy_fb_format);\n\n \nconst struct drm_format_info *__drm_format_info(u32 format)\n{\n\tstatic const struct drm_format_info formats[] = {\n\t\t{ .format = DRM_FORMAT_C1,\t\t.depth = 1,  .num_planes = 1,\n\t\t  .char_per_block = { 1, }, .block_w = { 8, }, .block_h = { 1, }, .hsub = 1, .vsub = 1, .is_color_indexed = true },\n\t\t{ .format = DRM_FORMAT_C2,\t\t.depth = 2,  .num_planes = 1,\n\t\t  .char_per_block = { 1, }, .block_w = { 4, }, .block_h = { 1, }, .hsub = 1, .vsub = 1, .is_color_indexed = true },\n\t\t{ .format = DRM_FORMAT_C4,\t\t.depth = 4,  .num_planes = 1,\n\t\t  .char_per_block = { 1, }, .block_w = { 2, }, .block_h = { 1, }, .hsub = 1, .vsub = 1, .is_color_indexed = true },\n\t\t{ .format = DRM_FORMAT_C8,\t\t.depth = 8,  .num_planes = 1, .cpp = { 1, 0, 0 }, .hsub = 1, .vsub = 1, .is_color_indexed = true },\n\t\t{ .format = DRM_FORMAT_D1,\t\t.depth = 1,  .num_planes = 1,\n\t\t  .char_per_block = { 1, }, .block_w = { 8, }, .block_h = { 1, }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_D2,\t\t.depth = 2,  .num_planes = 1,\n\t\t  .char_per_block = { 1, }, .block_w = { 4, }, .block_h = { 1, }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_D4,\t\t.depth = 4,  .num_planes = 1,\n\t\t  .char_per_block = { 1, }, .block_w = { 2, }, .block_h = { 1, }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_D8,\t\t.depth = 8,  .num_planes = 1, .cpp = { 1, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_R1,\t\t.depth = 1,  .num_planes = 1,\n\t\t  .char_per_block = { 1, }, .block_w = { 8, }, .block_h = { 1, }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_R2,\t\t.depth = 2,  .num_planes = 1,\n\t\t  .char_per_block = { 1, }, .block_w = { 4, }, .block_h = { 1, }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_R4,\t\t.depth = 4,  .num_planes = 1,\n\t\t  .char_per_block = { 1, }, .block_w = { 2, }, .block_h = { 1, }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_R8,\t\t.depth = 8,  .num_planes = 1, .cpp = { 1, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_R10,\t\t.depth = 10, .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_R12,\t\t.depth = 12, .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_RGB332,\t\t.depth = 8,  .num_planes = 1, .cpp = { 1, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_BGR233,\t\t.depth = 8,  .num_planes = 1, .cpp = { 1, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_XRGB4444,\t.depth = 0,  .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_XBGR4444,\t.depth = 0,  .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_RGBX4444,\t.depth = 0,  .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_BGRX4444,\t.depth = 0,  .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_ARGB4444,\t.depth = 0,  .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_ABGR4444,\t.depth = 0,  .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_RGBA4444,\t.depth = 0,  .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_BGRA4444,\t.depth = 0,  .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_XRGB1555,\t.depth = 15, .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_XBGR1555,\t.depth = 15, .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_RGBX5551,\t.depth = 15, .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_BGRX5551,\t.depth = 15, .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_ARGB1555,\t.depth = 15, .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_ABGR1555,\t.depth = 15, .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_RGBA5551,\t.depth = 15, .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_BGRA5551,\t.depth = 15, .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_RGB565,\t\t.depth = 16, .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_BGR565,\t\t.depth = 16, .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 1, .vsub = 1 },\n#ifdef __BIG_ENDIAN\n\t\t{ .format = DRM_FORMAT_XRGB1555 | DRM_FORMAT_BIG_ENDIAN, .depth = 15, .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_RGB565 | DRM_FORMAT_BIG_ENDIAN, .depth = 16, .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 1, .vsub = 1 },\n#endif\n\t\t{ .format = DRM_FORMAT_RGB888,\t\t.depth = 24, .num_planes = 1, .cpp = { 3, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_BGR888,\t\t.depth = 24, .num_planes = 1, .cpp = { 3, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_XRGB8888,\t.depth = 24, .num_planes = 1, .cpp = { 4, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_XBGR8888,\t.depth = 24, .num_planes = 1, .cpp = { 4, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_RGBX8888,\t.depth = 24, .num_planes = 1, .cpp = { 4, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_BGRX8888,\t.depth = 24, .num_planes = 1, .cpp = { 4, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_RGB565_A8,\t.depth = 24, .num_planes = 2, .cpp = { 2, 1, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_BGR565_A8,\t.depth = 24, .num_planes = 2, .cpp = { 2, 1, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_XRGB2101010,\t.depth = 30, .num_planes = 1, .cpp = { 4, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_XBGR2101010,\t.depth = 30, .num_planes = 1, .cpp = { 4, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_RGBX1010102,\t.depth = 30, .num_planes = 1, .cpp = { 4, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_BGRX1010102,\t.depth = 30, .num_planes = 1, .cpp = { 4, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_ARGB2101010,\t.depth = 30, .num_planes = 1, .cpp = { 4, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_ABGR2101010,\t.depth = 30, .num_planes = 1, .cpp = { 4, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_RGBA1010102,\t.depth = 30, .num_planes = 1, .cpp = { 4, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_BGRA1010102,\t.depth = 30, .num_planes = 1, .cpp = { 4, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_ARGB8888,\t.depth = 32, .num_planes = 1, .cpp = { 4, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_ABGR8888,\t.depth = 32, .num_planes = 1, .cpp = { 4, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_RGBA8888,\t.depth = 32, .num_planes = 1, .cpp = { 4, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_BGRA8888,\t.depth = 32, .num_planes = 1, .cpp = { 4, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_XRGB16161616F,\t.depth = 0,  .num_planes = 1, .cpp = { 8, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_XBGR16161616F,\t.depth = 0,  .num_planes = 1, .cpp = { 8, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_ARGB16161616F,\t.depth = 0,  .num_planes = 1, .cpp = { 8, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_ABGR16161616F,\t.depth = 0,  .num_planes = 1, .cpp = { 8, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_AXBXGXRX106106106106, .depth = 0, .num_planes = 1, .cpp = { 8, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_XRGB16161616,\t.depth = 0,  .num_planes = 1, .cpp = { 8, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_XBGR16161616,\t.depth = 0,  .num_planes = 1, .cpp = { 8, 0, 0 }, .hsub = 1, .vsub = 1 },\n\t\t{ .format = DRM_FORMAT_ARGB16161616,\t.depth = 0,  .num_planes = 1, .cpp = { 8, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_ABGR16161616,\t.depth = 0,  .num_planes = 1, .cpp = { 8, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_RGB888_A8,\t.depth = 32, .num_planes = 2, .cpp = { 3, 1, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_BGR888_A8,\t.depth = 32, .num_planes = 2, .cpp = { 3, 1, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_XRGB8888_A8,\t.depth = 32, .num_planes = 2, .cpp = { 4, 1, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_XBGR8888_A8,\t.depth = 32, .num_planes = 2, .cpp = { 4, 1, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_RGBX8888_A8,\t.depth = 32, .num_planes = 2, .cpp = { 4, 1, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_BGRX8888_A8,\t.depth = 32, .num_planes = 2, .cpp = { 4, 1, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true },\n\t\t{ .format = DRM_FORMAT_YUV410,\t\t.depth = 0,  .num_planes = 3, .cpp = { 1, 1, 1 }, .hsub = 4, .vsub = 4, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_YVU410,\t\t.depth = 0,  .num_planes = 3, .cpp = { 1, 1, 1 }, .hsub = 4, .vsub = 4, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_YUV411,\t\t.depth = 0,  .num_planes = 3, .cpp = { 1, 1, 1 }, .hsub = 4, .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_YVU411,\t\t.depth = 0,  .num_planes = 3, .cpp = { 1, 1, 1 }, .hsub = 4, .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_YUV420,\t\t.depth = 0,  .num_planes = 3, .cpp = { 1, 1, 1 }, .hsub = 2, .vsub = 2, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_YVU420,\t\t.depth = 0,  .num_planes = 3, .cpp = { 1, 1, 1 }, .hsub = 2, .vsub = 2, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_YUV422,\t\t.depth = 0,  .num_planes = 3, .cpp = { 1, 1, 1 }, .hsub = 2, .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_YVU422,\t\t.depth = 0,  .num_planes = 3, .cpp = { 1, 1, 1 }, .hsub = 2, .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_YUV444,\t\t.depth = 0,  .num_planes = 3, .cpp = { 1, 1, 1 }, .hsub = 1, .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_YVU444,\t\t.depth = 0,  .num_planes = 3, .cpp = { 1, 1, 1 }, .hsub = 1, .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_NV12,\t\t.depth = 0,  .num_planes = 2, .cpp = { 1, 2, 0 }, .hsub = 2, .vsub = 2, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_NV21,\t\t.depth = 0,  .num_planes = 2, .cpp = { 1, 2, 0 }, .hsub = 2, .vsub = 2, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_NV16,\t\t.depth = 0,  .num_planes = 2, .cpp = { 1, 2, 0 }, .hsub = 2, .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_NV61,\t\t.depth = 0,  .num_planes = 2, .cpp = { 1, 2, 0 }, .hsub = 2, .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_NV24,\t\t.depth = 0,  .num_planes = 2, .cpp = { 1, 2, 0 }, .hsub = 1, .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_NV42,\t\t.depth = 0,  .num_planes = 2, .cpp = { 1, 2, 0 }, .hsub = 1, .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_YUYV,\t\t.depth = 0,  .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 2, .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_YVYU,\t\t.depth = 0,  .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 2, .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_UYVY,\t\t.depth = 0,  .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 2, .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_VYUY,\t\t.depth = 0,  .num_planes = 1, .cpp = { 2, 0, 0 }, .hsub = 2, .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_XYUV8888,\t.depth = 0,  .num_planes = 1, .cpp = { 4, 0, 0 }, .hsub = 1, .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_VUY888,          .depth = 0,  .num_planes = 1, .cpp = { 3, 0, 0 }, .hsub = 1, .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_AYUV,\t\t.depth = 0,  .num_planes = 1, .cpp = { 4, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_Y210,            .depth = 0,  .num_planes = 1, .cpp = { 4, 0, 0 }, .hsub = 2, .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_Y212,            .depth = 0,  .num_planes = 1, .cpp = { 4, 0, 0 }, .hsub = 2, .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_Y216,            .depth = 0,  .num_planes = 1, .cpp = { 4, 0, 0 }, .hsub = 2, .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_Y410,            .depth = 0,  .num_planes = 1, .cpp = { 4, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_Y412,            .depth = 0,  .num_planes = 1, .cpp = { 8, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_Y416,            .depth = 0,  .num_planes = 1, .cpp = { 8, 0, 0 }, .hsub = 1, .vsub = 1, .has_alpha = true, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_XVYU2101010,\t.depth = 0,  .num_planes = 1, .cpp = { 4, 0, 0 }, .hsub = 1, .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_XVYU12_16161616,\t.depth = 0,  .num_planes = 1, .cpp = { 8, 0, 0 }, .hsub = 1, .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_XVYU16161616,\t.depth = 0,  .num_planes = 1, .cpp = { 8, 0, 0 }, .hsub = 1, .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_Y0L0,\t\t.depth = 0,  .num_planes = 1,\n\t\t  .char_per_block = { 8, 0, 0 }, .block_w = { 2, 0, 0 }, .block_h = { 2, 0, 0 },\n\t\t  .hsub = 2, .vsub = 2, .has_alpha = true, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_X0L0,\t\t.depth = 0,  .num_planes = 1,\n\t\t  .char_per_block = { 8, 0, 0 }, .block_w = { 2, 0, 0 }, .block_h = { 2, 0, 0 },\n\t\t  .hsub = 2, .vsub = 2, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_Y0L2,\t\t.depth = 0,  .num_planes = 1,\n\t\t  .char_per_block = { 8, 0, 0 }, .block_w = { 2, 0, 0 }, .block_h = { 2, 0, 0 },\n\t\t  .hsub = 2, .vsub = 2, .has_alpha = true, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_X0L2,\t\t.depth = 0,  .num_planes = 1,\n\t\t  .char_per_block = { 8, 0, 0 }, .block_w = { 2, 0, 0 }, .block_h = { 2, 0, 0 },\n\t\t  .hsub = 2, .vsub = 2, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_P010,            .depth = 0,  .num_planes = 2,\n\t\t  .char_per_block = { 2, 4, 0 }, .block_w = { 1, 1, 0 }, .block_h = { 1, 1, 0 },\n\t\t  .hsub = 2, .vsub = 2, .is_yuv = true},\n\t\t{ .format = DRM_FORMAT_P012,\t\t.depth = 0,  .num_planes = 2,\n\t\t  .char_per_block = { 2, 4, 0 }, .block_w = { 1, 1, 0 }, .block_h = { 1, 1, 0 },\n\t\t   .hsub = 2, .vsub = 2, .is_yuv = true},\n\t\t{ .format = DRM_FORMAT_P016,\t\t.depth = 0,  .num_planes = 2,\n\t\t  .char_per_block = { 2, 4, 0 }, .block_w = { 1, 1, 0 }, .block_h = { 1, 1, 0 },\n\t\t  .hsub = 2, .vsub = 2, .is_yuv = true},\n\t\t{ .format = DRM_FORMAT_P210,\t\t.depth = 0,\n\t\t  .num_planes = 2, .char_per_block = { 2, 4, 0 },\n\t\t  .block_w = { 1, 1, 0 }, .block_h = { 1, 1, 0 }, .hsub = 2,\n\t\t  .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_VUY101010,\t.depth = 0,\n\t\t  .num_planes = 1, .cpp = { 0, 0, 0 }, .hsub = 1, .vsub = 1,\n\t\t  .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_YUV420_8BIT,     .depth = 0,\n\t\t  .num_planes = 1, .cpp = { 0, 0, 0 }, .hsub = 2, .vsub = 2,\n\t\t  .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_YUV420_10BIT,    .depth = 0,\n\t\t  .num_planes = 1, .cpp = { 0, 0, 0 }, .hsub = 2, .vsub = 2,\n\t\t  .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_NV15,\t\t.depth = 0,\n\t\t  .num_planes = 2, .char_per_block = { 5, 5, 0 },\n\t\t  .block_w = { 4, 2, 0 }, .block_h = { 1, 1, 0 }, .hsub = 2,\n\t\t  .vsub = 2, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_Q410,\t\t.depth = 0,\n\t\t  .num_planes = 3, .char_per_block = { 2, 2, 2 },\n\t\t  .block_w = { 1, 1, 1 }, .block_h = { 1, 1, 1 }, .hsub = 1,\n\t\t  .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_Q401,\t\t.depth = 0,\n\t\t  .num_planes = 3, .char_per_block = { 2, 2, 2 },\n\t\t  .block_w = { 1, 1, 1 }, .block_h = { 1, 1, 1 }, .hsub = 1,\n\t\t  .vsub = 1, .is_yuv = true },\n\t\t{ .format = DRM_FORMAT_P030,            .depth = 0,  .num_planes = 2,\n\t\t  .char_per_block = { 4, 8, 0 }, .block_w = { 3, 3, 0 }, .block_h = { 1, 1, 0 },\n\t\t  .hsub = 2, .vsub = 2, .is_yuv = true},\n\t};\n\n\tunsigned int i;\n\n\tfor (i = 0; i < ARRAY_SIZE(formats); ++i) {\n\t\tif (formats[i].format == format)\n\t\t\treturn &formats[i];\n\t}\n\n\treturn NULL;\n}\n\n \nconst struct drm_format_info *drm_format_info(u32 format)\n{\n\tconst struct drm_format_info *info;\n\n\tinfo = __drm_format_info(format);\n\tWARN_ON(!info);\n\treturn info;\n}\nEXPORT_SYMBOL(drm_format_info);\n\n \nconst struct drm_format_info *\ndrm_get_format_info(struct drm_device *dev,\n\t\t    const struct drm_mode_fb_cmd2 *mode_cmd)\n{\n\tconst struct drm_format_info *info = NULL;\n\n\tif (dev->mode_config.funcs->get_format_info)\n\t\tinfo = dev->mode_config.funcs->get_format_info(mode_cmd);\n\n\tif (!info)\n\t\tinfo = drm_format_info(mode_cmd->pixel_format);\n\n\treturn info;\n}\nEXPORT_SYMBOL(drm_get_format_info);\n\n \nunsigned int drm_format_info_block_width(const struct drm_format_info *info,\n\t\t\t\t\t int plane)\n{\n\tif (!info || plane < 0 || plane >= info->num_planes)\n\t\treturn 0;\n\n\tif (!info->block_w[plane])\n\t\treturn 1;\n\treturn info->block_w[plane];\n}\nEXPORT_SYMBOL(drm_format_info_block_width);\n\n \nunsigned int drm_format_info_block_height(const struct drm_format_info *info,\n\t\t\t\t\t  int plane)\n{\n\tif (!info || plane < 0 || plane >= info->num_planes)\n\t\treturn 0;\n\n\tif (!info->block_h[plane])\n\t\treturn 1;\n\treturn info->block_h[plane];\n}\nEXPORT_SYMBOL(drm_format_info_block_height);\n\n \nunsigned int drm_format_info_bpp(const struct drm_format_info *info, int plane)\n{\n\tif (!info || plane < 0 || plane >= info->num_planes)\n\t\treturn 0;\n\n\treturn info->char_per_block[plane] * 8 /\n\t       (drm_format_info_block_width(info, plane) *\n\t\tdrm_format_info_block_height(info, plane));\n}\nEXPORT_SYMBOL(drm_format_info_bpp);\n\n \nuint64_t drm_format_info_min_pitch(const struct drm_format_info *info,\n\t\t\t\t   int plane, unsigned int buffer_width)\n{\n\tif (!info || plane < 0 || plane >= info->num_planes)\n\t\treturn 0;\n\n\treturn DIV_ROUND_UP_ULL((u64)buffer_width * info->char_per_block[plane],\n\t\t\t    drm_format_info_block_width(info, plane) *\n\t\t\t    drm_format_info_block_height(info, plane));\n}\nEXPORT_SYMBOL(drm_format_info_min_pitch);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}