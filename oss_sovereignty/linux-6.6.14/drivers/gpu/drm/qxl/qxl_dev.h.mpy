{
  "module_name": "qxl_dev.h",
  "hash_id": "0e18d107582e393d97d22bee80f9f9ba70ae768b3d7a93cab160c96c8a467a73",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/qxl/qxl_dev.h",
  "human_readable_source": " \n\n#ifndef H_QXL_DEV\n#define H_QXL_DEV\n\n#include <linux/types.h>\n\n \n\n \n\nenum SpiceImageType {\n\tSPICE_IMAGE_TYPE_BITMAP,\n\tSPICE_IMAGE_TYPE_QUIC,\n\tSPICE_IMAGE_TYPE_RESERVED,\n\tSPICE_IMAGE_TYPE_LZ_PLT = 100,\n\tSPICE_IMAGE_TYPE_LZ_RGB,\n\tSPICE_IMAGE_TYPE_GLZ_RGB,\n\tSPICE_IMAGE_TYPE_FROM_CACHE,\n\tSPICE_IMAGE_TYPE_SURFACE,\n\tSPICE_IMAGE_TYPE_JPEG,\n\tSPICE_IMAGE_TYPE_FROM_CACHE_LOSSLESS,\n\tSPICE_IMAGE_TYPE_ZLIB_GLZ_RGB,\n\tSPICE_IMAGE_TYPE_JPEG_ALPHA,\n\n\tSPICE_IMAGE_TYPE_ENUM_END\n};\n\nenum SpiceBitmapFmt {\n\tSPICE_BITMAP_FMT_INVALID,\n\tSPICE_BITMAP_FMT_1BIT_LE,\n\tSPICE_BITMAP_FMT_1BIT_BE,\n\tSPICE_BITMAP_FMT_4BIT_LE,\n\tSPICE_BITMAP_FMT_4BIT_BE,\n\tSPICE_BITMAP_FMT_8BIT,\n\tSPICE_BITMAP_FMT_16BIT,\n\tSPICE_BITMAP_FMT_24BIT,\n\tSPICE_BITMAP_FMT_32BIT,\n\tSPICE_BITMAP_FMT_RGBA,\n\n\tSPICE_BITMAP_FMT_ENUM_END\n};\n\nenum SpiceSurfaceFmt {\n\tSPICE_SURFACE_FMT_INVALID,\n\tSPICE_SURFACE_FMT_1_A,\n\tSPICE_SURFACE_FMT_8_A = 8,\n\tSPICE_SURFACE_FMT_16_555 = 16,\n\tSPICE_SURFACE_FMT_32_xRGB = 32,\n\tSPICE_SURFACE_FMT_16_565 = 80,\n\tSPICE_SURFACE_FMT_32_ARGB = 96,\n\n\tSPICE_SURFACE_FMT_ENUM_END\n};\n\nenum SpiceClipType {\n\tSPICE_CLIP_TYPE_NONE,\n\tSPICE_CLIP_TYPE_RECTS,\n\n\tSPICE_CLIP_TYPE_ENUM_END\n};\n\nenum SpiceRopd {\n\tSPICE_ROPD_INVERS_SRC = (1 << 0),\n\tSPICE_ROPD_INVERS_BRUSH = (1 << 1),\n\tSPICE_ROPD_INVERS_DEST = (1 << 2),\n\tSPICE_ROPD_OP_PUT = (1 << 3),\n\tSPICE_ROPD_OP_OR = (1 << 4),\n\tSPICE_ROPD_OP_AND = (1 << 5),\n\tSPICE_ROPD_OP_XOR = (1 << 6),\n\tSPICE_ROPD_OP_BLACKNESS = (1 << 7),\n\tSPICE_ROPD_OP_WHITENESS = (1 << 8),\n\tSPICE_ROPD_OP_INVERS = (1 << 9),\n\tSPICE_ROPD_INVERS_RES = (1 << 10),\n\n\tSPICE_ROPD_MASK = 0x7ff\n};\n\nenum SpiceBrushType {\n\tSPICE_BRUSH_TYPE_NONE,\n\tSPICE_BRUSH_TYPE_SOLID,\n\tSPICE_BRUSH_TYPE_PATTERN,\n\n\tSPICE_BRUSH_TYPE_ENUM_END\n};\n\nenum SpiceCursorType {\n\tSPICE_CURSOR_TYPE_ALPHA,\n\tSPICE_CURSOR_TYPE_MONO,\n\tSPICE_CURSOR_TYPE_COLOR4,\n\tSPICE_CURSOR_TYPE_COLOR8,\n\tSPICE_CURSOR_TYPE_COLOR16,\n\tSPICE_CURSOR_TYPE_COLOR24,\n\tSPICE_CURSOR_TYPE_COLOR32,\n\n\tSPICE_CURSOR_TYPE_ENUM_END\n};\n\n \n\n#pragma pack(push, 1)\n\n \n#define QXL_DEVICE_ID_STABLE 0x0100\n\nenum {\n\tQXL_REVISION_STABLE_V04 = 0x01,\n\tQXL_REVISION_STABLE_V06 = 0x02,\n\tQXL_REVISION_STABLE_V10 = 0x03,\n\tQXL_REVISION_STABLE_V12 = 0x04,\n};\n\n#define QXL_DEVICE_ID_DEVEL 0x01ff\n#define QXL_REVISION_DEVEL 0x01\n\n#define QXL_ROM_MAGIC (*(uint32_t *)\"QXRO\")\n#define QXL_RAM_MAGIC (*(uint32_t *)\"QXRA\")\n\nenum {\n\tQXL_RAM_RANGE_INDEX,\n\tQXL_VRAM_RANGE_INDEX,\n\tQXL_ROM_RANGE_INDEX,\n\tQXL_IO_RANGE_INDEX,\n\n\tQXL_PCI_RANGES\n};\n\n \nenum {\n\tQXL_IO_NOTIFY_CMD,\n\tQXL_IO_NOTIFY_CURSOR,\n\tQXL_IO_UPDATE_AREA,\n\tQXL_IO_UPDATE_IRQ,\n\tQXL_IO_NOTIFY_OOM,\n\tQXL_IO_RESET,\n\tQXL_IO_SET_MODE,                   \n\tQXL_IO_LOG,\n\t \n\tQXL_IO_MEMSLOT_ADD,\n\tQXL_IO_MEMSLOT_DEL,\n\tQXL_IO_DETACH_PRIMARY,\n\tQXL_IO_ATTACH_PRIMARY,\n\tQXL_IO_CREATE_PRIMARY,\n\tQXL_IO_DESTROY_PRIMARY,\n\tQXL_IO_DESTROY_SURFACE_WAIT,\n\tQXL_IO_DESTROY_ALL_SURFACES,\n\t \n\tQXL_IO_UPDATE_AREA_ASYNC,\n\tQXL_IO_MEMSLOT_ADD_ASYNC,\n\tQXL_IO_CREATE_PRIMARY_ASYNC,\n\tQXL_IO_DESTROY_PRIMARY_ASYNC,\n\tQXL_IO_DESTROY_SURFACE_ASYNC,\n\tQXL_IO_DESTROY_ALL_SURFACES_ASYNC,\n\tQXL_IO_FLUSH_SURFACES_ASYNC,\n\tQXL_IO_FLUSH_RELEASE,\n\t \n\tQXL_IO_MONITORS_CONFIG_ASYNC,\n\n\tQXL_IO_RANGE_SIZE\n};\n\ntypedef uint64_t QXLPHYSICAL;\ntypedef int32_t QXLFIXED;  \n\nstruct qxl_point_fix {\n\tQXLFIXED x;\n\tQXLFIXED y;\n};\n\nstruct qxl_point {\n\tint32_t x;\n\tint32_t y;\n};\n\nstruct qxl_point_1_6 {\n\tint16_t x;\n\tint16_t y;\n};\n\nstruct qxl_rect {\n\tint32_t top;\n\tint32_t left;\n\tint32_t bottom;\n\tint32_t right;\n};\n\nstruct qxl_urect {\n\tuint32_t top;\n\tuint32_t left;\n\tuint32_t bottom;\n\tuint32_t right;\n};\n\n \nstruct qxl_rom {\n\tuint32_t magic;\n\tuint32_t id;\n\tuint32_t update_id;\n\tuint32_t compression_level;\n\tuint32_t log_level;\n\tuint32_t mode;\t\t\t   \n\tuint32_t modes_offset;\n\tuint32_t num_io_pages;\n\tuint32_t pages_offset;\t\t   \n\tuint32_t draw_area_offset;\t   \n\tuint32_t surface0_area_size;\t   \n\tuint32_t ram_header_offset;\n\tuint32_t mm_clock;\n\t \n\tuint32_t n_surfaces;\n\tuint64_t flags;\n\tuint8_t slots_start;\n\tuint8_t slots_end;\n\tuint8_t slot_gen_bits;\n\tuint8_t slot_id_bits;\n\tuint8_t slot_generation;\n\t \n\tuint8_t client_present;\n\tuint8_t client_capabilities[58];\n\tuint32_t client_monitors_config_crc;\n\tstruct {\n\t\tuint16_t count;\n\tuint16_t padding;\n\t\tstruct qxl_urect heads[64];\n\t} client_monitors_config;\n};\n\n \nstruct qxl_mode {\n\tuint32_t id;\n\tuint32_t x_res;\n\tuint32_t y_res;\n\tuint32_t bits;\n\tuint32_t stride;\n\tuint32_t x_mili;\n\tuint32_t y_mili;\n\tuint32_t orientation;\n};\n\n \nstruct qxl_modes {\n\tuint32_t n_modes;\n\tstruct qxl_mode modes[];\n};\n\n \nenum qxl_cmd_type {\n\tQXL_CMD_NOP,\n\tQXL_CMD_DRAW,\n\tQXL_CMD_UPDATE,\n\tQXL_CMD_CURSOR,\n\tQXL_CMD_MESSAGE,\n\tQXL_CMD_SURFACE,\n};\n\n \nstruct qxl_command {\n\tQXLPHYSICAL data;\n\tuint32_t type;\n\tuint32_t padding;\n};\n\n#define QXL_COMMAND_FLAG_COMPAT\t\t(1<<0)\n#define QXL_COMMAND_FLAG_COMPAT_16BPP\t(2<<0)\n\nstruct qxl_command_ext {\n\tstruct qxl_command cmd;\n\tuint32_t group_id;\n\tuint32_t flags;\n};\n\nstruct qxl_mem_slot {\n\tuint64_t mem_start;\n\tuint64_t mem_end;\n};\n\n#define QXL_SURF_TYPE_PRIMARY\t   0\n\n#define QXL_SURF_FLAG_KEEP_DATA\t   (1 << 0)\n\nstruct qxl_surface_create {\n\tuint32_t width;\n\tuint32_t height;\n\tint32_t stride;\n\tuint32_t format;\n\tuint32_t position;\n\tuint32_t mouse_mode;\n\tuint32_t flags;\n\tuint32_t type;\n\tQXLPHYSICAL mem;\n};\n\n#define QXL_COMMAND_RING_SIZE 32\n#define QXL_CURSOR_RING_SIZE 32\n#define QXL_RELEASE_RING_SIZE 8\n\n#define QXL_LOG_BUF_SIZE 4096\n\n#define QXL_INTERRUPT_DISPLAY (1 << 0)\n#define QXL_INTERRUPT_CURSOR (1 << 1)\n#define QXL_INTERRUPT_IO_CMD (1 << 2)\n#define QXL_INTERRUPT_ERROR  (1 << 3)\n#define QXL_INTERRUPT_CLIENT (1 << 4)\n#define QXL_INTERRUPT_CLIENT_MONITORS_CONFIG  (1 << 5)\n\nstruct qxl_ring_header {\n\tuint32_t num_items;\n\tuint32_t prod;\n\tuint32_t notify_on_prod;\n\tuint32_t cons;\n\tuint32_t notify_on_cons;\n};\n\n \nstruct qxl_ram_header {\n\tuint32_t magic;\n\tuint32_t int_pending;\n\tuint32_t int_mask;\n\tuint8_t log_buf[QXL_LOG_BUF_SIZE];\n\tstruct qxl_ring_header  cmd_ring_hdr;\n\tstruct qxl_command\tcmd_ring[QXL_COMMAND_RING_SIZE];\n\tstruct qxl_ring_header  cursor_ring_hdr;\n\tstruct qxl_command\tcursor_ring[QXL_CURSOR_RING_SIZE];\n\tstruct qxl_ring_header  release_ring_hdr;\n\tuint64_t\t\trelease_ring[QXL_RELEASE_RING_SIZE];\n\tstruct qxl_rect update_area;\n\t \n\tuint32_t update_surface;\n\tstruct qxl_mem_slot mem_slot;\n\tstruct qxl_surface_create create_surface;\n\tuint64_t flags;\n\n\t \n\n\t \n\tQXLPHYSICAL monitors_config;\n\tuint8_t guest_capabilities[64];\n};\n\nunion qxl_release_info {\n\tuint64_t id;\t   \n\tuint64_t next;\t   \n};\n\nstruct qxl_release_info_ext {\n\tunion qxl_release_info *info;\n\tuint32_t group_id;\n};\n\nstruct qxl_data_chunk {\n\tuint32_t data_size;\n\tQXLPHYSICAL prev_chunk;\n\tQXLPHYSICAL next_chunk;\n\tuint8_t data[];\n};\n\nstruct qxl_message {\n\tunion qxl_release_info release_info;\n\tuint8_t data[];\n};\n\nstruct qxl_compat_update_cmd {\n\tunion qxl_release_info release_info;\n\tstruct qxl_rect area;\n\tuint32_t update_id;\n};\n\nstruct qxl_update_cmd {\n\tunion qxl_release_info release_info;\n\tstruct qxl_rect area;\n\tuint32_t update_id;\n\tuint32_t surface_id;\n};\n\nstruct qxl_cursor_header {\n\tuint64_t unique;\n\tuint16_t type;\n\tuint16_t width;\n\tuint16_t height;\n\tuint16_t hot_spot_x;\n\tuint16_t hot_spot_y;\n};\n\nstruct qxl_cursor {\n\tstruct qxl_cursor_header header;\n\tuint32_t data_size;\n\tstruct qxl_data_chunk chunk;\n};\n\nenum {\n\tQXL_CURSOR_SET,\n\tQXL_CURSOR_MOVE,\n\tQXL_CURSOR_HIDE,\n\tQXL_CURSOR_TRAIL,\n};\n\n#define QXL_CURSOR_DEVICE_DATA_SIZE 128\n\nstruct qxl_cursor_cmd {\n\tunion qxl_release_info release_info;\n\tuint8_t type;\n\tunion {\n\t\tstruct {\n\t\t\tstruct qxl_point_1_6 position;\n\t\t\tuint8_t visible;\n\t\t\tQXLPHYSICAL shape;\n\t\t} set;\n\t\tstruct {\n\t\t\tuint16_t length;\n\t\t\tuint16_t frequency;\n\t\t} trail;\n\t\tstruct qxl_point_1_6 position;\n\t} u;\n\t \n\tuint8_t device_data[QXL_CURSOR_DEVICE_DATA_SIZE];\n};\n\nenum {\n\tQXL_DRAW_NOP,\n\tQXL_DRAW_FILL,\n\tQXL_DRAW_OPAQUE,\n\tQXL_DRAW_COPY,\n\tQXL_COPY_BITS,\n\tQXL_DRAW_BLEND,\n\tQXL_DRAW_BLACKNESS,\n\tQXL_DRAW_WHITENESS,\n\tQXL_DRAW_INVERS,\n\tQXL_DRAW_ROP3,\n\tQXL_DRAW_STROKE,\n\tQXL_DRAW_TEXT,\n\tQXL_DRAW_TRANSPARENT,\n\tQXL_DRAW_ALPHA_BLEND,\n\tQXL_DRAW_COMPOSITE\n};\n\nstruct qxl_raster_glyph {\n\tstruct qxl_point render_pos;\n\tstruct qxl_point glyph_origin;\n\tuint16_t width;\n\tuint16_t height;\n\tuint8_t data[];\n};\n\nstruct qxl_string {\n\tuint32_t data_size;\n\tuint16_t length;\n\tuint16_t flags;\n\tstruct qxl_data_chunk chunk;\n};\n\nstruct qxl_copy_bits {\n\tstruct qxl_point src_pos;\n};\n\nenum qxl_effect_type {\n\tQXL_EFFECT_BLEND = 0,\n\tQXL_EFFECT_OPAQUE = 1,\n\tQXL_EFFECT_REVERT_ON_DUP = 2,\n\tQXL_EFFECT_BLACKNESS_ON_DUP = 3,\n\tQXL_EFFECT_WHITENESS_ON_DUP = 4,\n\tQXL_EFFECT_NOP_ON_DUP = 5,\n\tQXL_EFFECT_NOP = 6,\n\tQXL_EFFECT_OPAQUE_BRUSH = 7\n};\n\nstruct qxl_pattern {\n\tQXLPHYSICAL pat;\n\tstruct qxl_point pos;\n};\n\nstruct qxl_brush {\n\tuint32_t type;\n\tunion {\n\t\tuint32_t color;\n\t\tstruct qxl_pattern pattern;\n\t} u;\n};\n\nstruct qxl_q_mask {\n\tuint8_t flags;\n\tstruct qxl_point pos;\n\tQXLPHYSICAL bitmap;\n};\n\nstruct qxl_fill {\n\tstruct qxl_brush brush;\n\tuint16_t rop_descriptor;\n\tstruct qxl_q_mask mask;\n};\n\nstruct qxl_opaque {\n\tQXLPHYSICAL src_bitmap;\n\tstruct qxl_rect src_area;\n\tstruct qxl_brush brush;\n\tuint16_t rop_descriptor;\n\tuint8_t scale_mode;\n\tstruct qxl_q_mask mask;\n};\n\nstruct qxl_copy {\n\tQXLPHYSICAL src_bitmap;\n\tstruct qxl_rect src_area;\n\tuint16_t rop_descriptor;\n\tuint8_t scale_mode;\n\tstruct qxl_q_mask mask;\n};\n\nstruct qxl_transparent {\n\tQXLPHYSICAL src_bitmap;\n\tstruct qxl_rect src_area;\n\tuint32_t src_color;\n\tuint32_t true_color;\n};\n\nstruct qxl_alpha_blend {\n\tuint16_t alpha_flags;\n\tuint8_t alpha;\n\tQXLPHYSICAL src_bitmap;\n\tstruct qxl_rect src_area;\n};\n\nstruct qxl_compat_alpha_blend {\n\tuint8_t alpha;\n\tQXLPHYSICAL src_bitmap;\n\tstruct qxl_rect src_area;\n};\n\nstruct qxl_rop_3 {\n\tQXLPHYSICAL src_bitmap;\n\tstruct qxl_rect src_area;\n\tstruct qxl_brush brush;\n\tuint8_t rop3;\n\tuint8_t scale_mode;\n\tstruct qxl_q_mask mask;\n};\n\nstruct qxl_line_attr {\n\tuint8_t flags;\n\tuint8_t join_style;\n\tuint8_t end_style;\n\tuint8_t style_nseg;\n\tQXLFIXED width;\n\tQXLFIXED miter_limit;\n\tQXLPHYSICAL style;\n};\n\nstruct qxl_stroke {\n\tQXLPHYSICAL path;\n\tstruct qxl_line_attr attr;\n\tstruct qxl_brush brush;\n\tuint16_t fore_mode;\n\tuint16_t back_mode;\n};\n\nstruct qxl_text {\n\tQXLPHYSICAL str;\n\tstruct qxl_rect back_area;\n\tstruct qxl_brush fore_brush;\n\tstruct qxl_brush back_brush;\n\tuint16_t fore_mode;\n\tuint16_t back_mode;\n};\n\nstruct qxl_mask {\n\tstruct qxl_q_mask mask;\n};\n\nstruct qxl_clip {\n\tuint32_t type;\n\tQXLPHYSICAL data;\n};\n\nenum qxl_operator {\n\tQXL_OP_CLEAR\t\t\t = 0x00,\n\tQXL_OP_SOURCE\t\t\t = 0x01,\n\tQXL_OP_DST\t\t\t = 0x02,\n\tQXL_OP_OVER\t\t\t = 0x03,\n\tQXL_OP_OVER_REVERSE\t\t = 0x04,\n\tQXL_OP_IN\t\t\t = 0x05,\n\tQXL_OP_IN_REVERSE\t\t = 0x06,\n\tQXL_OP_OUT\t\t\t = 0x07,\n\tQXL_OP_OUT_REVERSE\t\t = 0x08,\n\tQXL_OP_ATOP\t\t\t = 0x09,\n\tQXL_OP_ATOP_REVERSE\t\t = 0x0a,\n\tQXL_OP_XOR\t\t\t = 0x0b,\n\tQXL_OP_ADD\t\t\t = 0x0c,\n\tQXL_OP_SATURATE\t\t\t = 0x0d,\n\t \n\tQXL_OP_MULTIPLY\t\t\t = 0x30,\n\tQXL_OP_SCREEN\t\t\t = 0x31,\n\tQXL_OP_OVERLAY\t\t\t = 0x32,\n\tQXL_OP_DARKEN\t\t\t = 0x33,\n\tQXL_OP_LIGHTEN\t\t\t = 0x34,\n\tQXL_OP_COLOR_DODGE\t\t = 0x35,\n\tQXL_OP_COLOR_BURN\t\t = 0x36,\n\tQXL_OP_HARD_LIGHT\t\t = 0x37,\n\tQXL_OP_SOFT_LIGHT\t\t = 0x38,\n\tQXL_OP_DIFFERENCE\t\t = 0x39,\n\tQXL_OP_EXCLUSION\t\t = 0x3a,\n\tQXL_OP_HSL_HUE\t\t\t = 0x3b,\n\tQXL_OP_HSL_SATURATION\t\t = 0x3c,\n\tQXL_OP_HSL_COLOR\t\t = 0x3d,\n\tQXL_OP_HSL_LUMINOSITY\t\t = 0x3e\n};\n\nstruct qxl_transform {\n\tuint32_t\tt00;\n\tuint32_t\tt01;\n\tuint32_t\tt02;\n\tuint32_t\tt10;\n\tuint32_t\tt11;\n\tuint32_t\tt12;\n};\n\n \nstruct qxl_composite {\n\tuint32_t\t\tflags;\n\n\tQXLPHYSICAL\t\t\tsrc;\n\tQXLPHYSICAL\t\t\tsrc_transform;\t \n\tQXLPHYSICAL\t\t\tmask;\t\t \n\tQXLPHYSICAL\t\t\tmask_transform;\t \n\tstruct qxl_point_1_6\tsrc_origin;\n\tstruct qxl_point_1_6\tmask_origin;\n};\n\nstruct qxl_compat_drawable {\n\tunion qxl_release_info release_info;\n\tuint8_t effect;\n\tuint8_t type;\n\tuint16_t bitmap_offset;\n\tstruct qxl_rect bitmap_area;\n\tstruct qxl_rect bbox;\n\tstruct qxl_clip clip;\n\tuint32_t mm_time;\n\tunion {\n\t\tstruct qxl_fill fill;\n\t\tstruct qxl_opaque opaque;\n\t\tstruct qxl_copy copy;\n\t\tstruct qxl_transparent transparent;\n\t\tstruct qxl_compat_alpha_blend alpha_blend;\n\t\tstruct qxl_copy_bits copy_bits;\n\t\tstruct qxl_copy blend;\n\t\tstruct qxl_rop_3 rop3;\n\t\tstruct qxl_stroke stroke;\n\t\tstruct qxl_text text;\n\t\tstruct qxl_mask blackness;\n\t\tstruct qxl_mask invers;\n\t\tstruct qxl_mask whiteness;\n\t} u;\n};\n\nstruct qxl_drawable {\n\tunion qxl_release_info release_info;\n\tuint32_t surface_id;\n\tuint8_t effect;\n\tuint8_t type;\n\tuint8_t self_bitmap;\n\tstruct qxl_rect self_bitmap_area;\n\tstruct qxl_rect bbox;\n\tstruct qxl_clip clip;\n\tuint32_t mm_time;\n\tint32_t surfaces_dest[3];\n\tstruct qxl_rect surfaces_rects[3];\n\tunion {\n\t\tstruct qxl_fill fill;\n\t\tstruct qxl_opaque opaque;\n\t\tstruct qxl_copy copy;\n\t\tstruct qxl_transparent transparent;\n\t\tstruct qxl_alpha_blend alpha_blend;\n\t\tstruct qxl_copy_bits copy_bits;\n\t\tstruct qxl_copy blend;\n\t\tstruct qxl_rop_3 rop3;\n\t\tstruct qxl_stroke stroke;\n\t\tstruct qxl_text text;\n\t\tstruct qxl_mask blackness;\n\t\tstruct qxl_mask invers;\n\t\tstruct qxl_mask whiteness;\n\t\tstruct qxl_composite composite;\n\t} u;\n};\n\nenum qxl_surface_cmd_type {\n\tQXL_SURFACE_CMD_CREATE,\n\tQXL_SURFACE_CMD_DESTROY,\n};\n\nstruct qxl_surface {\n\tuint32_t format;\n\tuint32_t width;\n\tuint32_t height;\n\tint32_t stride;\n\tQXLPHYSICAL data;\n};\n\nstruct qxl_surface_cmd {\n\tunion qxl_release_info release_info;\n\tuint32_t surface_id;\n\tuint8_t type;\n\tuint32_t flags;\n\tunion {\n\t\tstruct qxl_surface surface_create;\n\t} u;\n};\n\nstruct qxl_clip_rects {\n\tuint32_t num_rects;\n\tstruct qxl_data_chunk chunk;\n};\n\nenum {\n\tQXL_PATH_BEGIN = (1 << 0),\n\tQXL_PATH_END = (1 << 1),\n\tQXL_PATH_CLOSE = (1 << 3),\n\tQXL_PATH_BEZIER = (1 << 4),\n};\n\nstruct qxl_path_seg {\n\tuint32_t flags;\n\tuint32_t count;\n\tstruct qxl_point_fix points[];\n};\n\nstruct qxl_path {\n\tuint32_t data_size;\n\tstruct qxl_data_chunk chunk;\n};\n\nenum {\n\tQXL_IMAGE_GROUP_DRIVER,\n\tQXL_IMAGE_GROUP_DEVICE,\n\tQXL_IMAGE_GROUP_RED,\n\tQXL_IMAGE_GROUP_DRIVER_DONT_CACHE,\n};\n\nstruct qxl_image_id {\n\tuint32_t group;\n\tuint32_t unique;\n};\n\nunion qxl_image_id_union {\n\tstruct qxl_image_id id;\n\tuint64_t value;\n};\n\nenum qxl_image_flags {\n\tQXL_IMAGE_CACHE = (1 << 0),\n\tQXL_IMAGE_HIGH_BITS_SET = (1 << 1),\n};\n\nenum qxl_bitmap_flags {\n\tQXL_BITMAP_DIRECT = (1 << 0),\n\tQXL_BITMAP_UNSTABLE = (1 << 1),\n\tQXL_BITMAP_TOP_DOWN = (1 << 2),  \n};\n\n#define QXL_SET_IMAGE_ID(image, _group, _unique) {              \\\n\t(image)->descriptor.id = (((uint64_t)_unique) << 32) | _group;\t\\\n}\n\nstruct qxl_image_descriptor {\n\tuint64_t id;\n\tuint8_t type;\n\tuint8_t flags;\n\tuint32_t width;\n\tuint32_t height;\n};\n\nstruct qxl_palette {\n\tuint64_t unique;\n\tuint16_t num_ents;\n\tuint32_t ents[];\n};\n\nstruct qxl_bitmap {\n\tuint8_t format;\n\tuint8_t flags;\n\tuint32_t x;\n\tuint32_t y;\n\tuint32_t stride;\n\tQXLPHYSICAL palette;\n\tQXLPHYSICAL data;  \n};\n\nstruct qxl_surface_id {\n\tuint32_t surface_id;\n};\n\nstruct qxl_encoder_data {\n\tuint32_t data_size;\n\tuint8_t data[];\n};\n\nstruct qxl_image {\n\tstruct qxl_image_descriptor descriptor;\n\tunion {  \n\t\tstruct qxl_bitmap bitmap;\n\t\tstruct qxl_encoder_data quic;\n\t\tstruct qxl_surface_id surface_image;\n\t} u;\n};\n\n \nstruct qxl_head {\n\tuint32_t id;\n\tuint32_t surface_id;\n\tuint32_t width;\n\tuint32_t height;\n\tuint32_t x;\n\tuint32_t y;\n\tuint32_t flags;\n};\n\nstruct qxl_monitors_config {\n\tuint16_t count;\n\tuint16_t max_allowed;  \n\tstruct qxl_head heads[];\n};\n\n#pragma pack(pop)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}