{
  "module_name": "ssd130x-i2c.c",
  "hash_id": "c715def676ef32cffe9d630e133f81a04c361edd38b1ab68e58afe16ec3eca42",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/solomon/ssd130x-i2c.c",
  "human_readable_source": "\n \n#include <linux/i2c.h>\n#include <linux/module.h>\n\n#include \"ssd130x.h\"\n\n#define DRIVER_NAME\t\"ssd130x-i2c\"\n#define DRIVER_DESC\t\"DRM driver for Solomon SSD130x OLED displays (I2C)\"\n\nstatic const struct regmap_config ssd130x_i2c_regmap_config = {\n\t.reg_bits = 8,\n\t.val_bits = 8,\n};\n\nstatic int ssd130x_i2c_probe(struct i2c_client *client)\n{\n\tstruct ssd130x_device *ssd130x;\n\tstruct regmap *regmap;\n\n\tregmap = devm_regmap_init_i2c(client, &ssd130x_i2c_regmap_config);\n\tif (IS_ERR(regmap))\n\t\treturn PTR_ERR(regmap);\n\n\tssd130x = ssd130x_probe(&client->dev, regmap);\n\tif (IS_ERR(ssd130x))\n\t\treturn PTR_ERR(ssd130x);\n\n\ti2c_set_clientdata(client, ssd130x);\n\n\treturn 0;\n}\n\nstatic void ssd130x_i2c_remove(struct i2c_client *client)\n{\n\tstruct ssd130x_device *ssd130x = i2c_get_clientdata(client);\n\n\tssd130x_remove(ssd130x);\n}\n\nstatic void ssd130x_i2c_shutdown(struct i2c_client *client)\n{\n\tstruct ssd130x_device *ssd130x = i2c_get_clientdata(client);\n\n\tssd130x_shutdown(ssd130x);\n}\n\nstatic const struct of_device_id ssd130x_of_match[] = {\n\t{\n\t\t.compatible = \"sinowealth,sh1106\",\n\t\t.data = &ssd130x_variants[SH1106_ID],\n\t},\n\t{\n\t\t.compatible = \"solomon,ssd1305\",\n\t\t.data = &ssd130x_variants[SSD1305_ID],\n\t},\n\t{\n\t\t.compatible = \"solomon,ssd1306\",\n\t\t.data = &ssd130x_variants[SSD1306_ID],\n\t},\n\t{\n\t\t.compatible = \"solomon,ssd1307\",\n\t\t.data = &ssd130x_variants[SSD1307_ID],\n\t},\n\t{\n\t\t.compatible = \"solomon,ssd1309\",\n\t\t.data = &ssd130x_variants[SSD1309_ID],\n\t},\n\t \n\t{\n\t\t.compatible = \"solomon,ssd1305fb-i2c\",\n\t\t.data = &ssd130x_variants[SSD1305_ID],\n\t},\n\t{\n\t\t.compatible = \"solomon,ssd1306fb-i2c\",\n\t\t.data = &ssd130x_variants[SSD1306_ID],\n\t},\n\t{\n\t\t.compatible = \"solomon,ssd1307fb-i2c\",\n\t\t.data = &ssd130x_variants[SSD1307_ID],\n\t},\n\t{\n\t\t.compatible = \"solomon,ssd1309fb-i2c\",\n\t\t.data = &ssd130x_variants[SSD1309_ID],\n\t},\n\t{   }\n};\nMODULE_DEVICE_TABLE(of, ssd130x_of_match);\n\nstatic struct i2c_driver ssd130x_i2c_driver = {\n\t.driver = {\n\t\t.name = DRIVER_NAME,\n\t\t.of_match_table = ssd130x_of_match,\n\t},\n\t.probe = ssd130x_i2c_probe,\n\t.remove = ssd130x_i2c_remove,\n\t.shutdown = ssd130x_i2c_shutdown,\n};\nmodule_i2c_driver(ssd130x_i2c_driver);\n\nMODULE_DESCRIPTION(DRIVER_DESC);\nMODULE_AUTHOR(\"Javier Martinez Canillas <javierm@redhat.com>\");\nMODULE_LICENSE(\"GPL v2\");\nMODULE_IMPORT_NS(DRM_SSD130X);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}