{
  "module_name": "vmwgfx_so.h",
  "hash_id": "33355848d270d23d8ca970deeb45e93e38c208d1fdefd12b69bbd5568767c4c1",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/vmwgfx/vmwgfx_so.h",
  "human_readable_source": " \n \n#ifndef VMW_SO_H\n#define VMW_SO_H\n\nenum vmw_view_type {\n\tvmw_view_sr,\n\tvmw_view_rt,\n\tvmw_view_ds,\n\tvmw_view_ua,\n\tvmw_view_max,\n};\n\nenum vmw_so_type {\n\tvmw_so_el,\n\tvmw_so_bs,\n\tvmw_so_ds,\n\tvmw_so_rs,\n\tvmw_so_ss,\n\tvmw_so_so,\n\tvmw_so_max,\n};\n\n \nunion vmw_view_destroy {\n\tstruct SVGA3dCmdDXDestroyRenderTargetView rtv;\n\tstruct SVGA3dCmdDXDestroyShaderResourceView srv;\n\tstruct SVGA3dCmdDXDestroyDepthStencilView dsv;\n\tstruct SVGA3dCmdDXDestroyUAView uav;\n\tu32 view_id;\n};\n\n \nextern const u32 vmw_view_destroy_cmds[];\n\n \nextern const SVGACOTableType vmw_view_cotables[];\n\n \nextern const SVGACOTableType vmw_so_cotables[];\n\n \nstatic inline enum vmw_view_type vmw_view_cmd_to_type(u32 id)\n{\n\tu32 tmp = (id - SVGA_3D_CMD_DX_DEFINE_SHADERRESOURCE_VIEW) / 2;\n\n\tif (id == SVGA_3D_CMD_DX_DEFINE_UA_VIEW ||\n\t    id == SVGA_3D_CMD_DX_DESTROY_UA_VIEW)\n\t\treturn vmw_view_ua;\n\n\tif (id == SVGA_3D_CMD_DX_DEFINE_DEPTHSTENCIL_VIEW_V2)\n\t\treturn vmw_view_ds;\n\n\tif (tmp > (u32)vmw_view_ds)\n\t\treturn vmw_view_max;\n\n\treturn (enum vmw_view_type) tmp;\n}\n\n \nstatic inline enum vmw_so_type vmw_so_cmd_to_type(u32 id)\n{\n\tswitch (id) {\n\tcase SVGA_3D_CMD_DX_DEFINE_ELEMENTLAYOUT:\n\tcase SVGA_3D_CMD_DX_DESTROY_ELEMENTLAYOUT:\n\t\treturn vmw_so_el;\n\tcase SVGA_3D_CMD_DX_DEFINE_BLEND_STATE:\n\tcase SVGA_3D_CMD_DX_DESTROY_BLEND_STATE:\n\t\treturn vmw_so_bs;\n\tcase SVGA_3D_CMD_DX_DEFINE_DEPTHSTENCIL_STATE:\n\tcase SVGA_3D_CMD_DX_DESTROY_DEPTHSTENCIL_STATE:\n\t\treturn vmw_so_ds;\n\tcase SVGA_3D_CMD_DX_DEFINE_RASTERIZER_STATE:\n\tcase SVGA_3D_CMD_DX_DEFINE_RASTERIZER_STATE_V2:\n\tcase SVGA_3D_CMD_DX_DESTROY_RASTERIZER_STATE:\n\t\treturn vmw_so_rs;\n\tcase SVGA_3D_CMD_DX_DEFINE_SAMPLER_STATE:\n\tcase SVGA_3D_CMD_DX_DESTROY_SAMPLER_STATE:\n\t\treturn vmw_so_ss;\n\tcase SVGA_3D_CMD_DX_DEFINE_STREAMOUTPUT:\n\tcase SVGA_3D_CMD_DX_DEFINE_STREAMOUTPUT_WITH_MOB:\n\tcase SVGA_3D_CMD_DX_DESTROY_STREAMOUTPUT:\n\t\treturn vmw_so_so;\n\tdefault:\n\t\tbreak;\n\t}\n\treturn vmw_so_max;\n}\n\n \nextern int vmw_view_add(struct vmw_cmdbuf_res_manager *man,\n\t\t\tstruct vmw_resource *ctx,\n\t\t\tstruct vmw_resource *srf,\n\t\t\tenum vmw_view_type view_type,\n\t\t\tu32 user_key,\n\t\t\tconst void *cmd,\n\t\t\tsize_t cmd_size,\n\t\t\tstruct list_head *list);\n\nextern int vmw_view_remove(struct vmw_cmdbuf_res_manager *man,\n\t\t\t   u32 user_key, enum vmw_view_type view_type,\n\t\t\t   struct list_head *list,\n\t\t\t   struct vmw_resource **res_p);\n\nextern void vmw_view_surface_list_destroy(struct vmw_private *dev_priv,\n\t\t\t\t\t  struct list_head *view_list);\nextern void vmw_view_cotable_list_destroy(struct vmw_private *dev_priv,\n\t\t\t\t\t  struct list_head *list,\n\t\t\t\t\t  bool readback);\nextern struct vmw_resource *vmw_view_srf(struct vmw_resource *res);\nextern struct vmw_resource *vmw_view_lookup(struct vmw_cmdbuf_res_manager *man,\n\t\t\t\t\t    enum vmw_view_type view_type,\n\t\t\t\t\t    u32 user_key);\nextern u32 vmw_view_dirtying(struct vmw_resource *res);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}