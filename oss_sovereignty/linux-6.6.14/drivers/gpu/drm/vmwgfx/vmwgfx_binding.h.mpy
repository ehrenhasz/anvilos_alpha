{
  "module_name": "vmwgfx_binding.h",
  "hash_id": "af9fbd43632158730561dcb9dc7aa55cf65a968f013bd954cd68a5f8d46003cb",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/vmwgfx/vmwgfx_binding.h",
  "human_readable_source": " \n \n#ifndef _VMWGFX_BINDING_H_\n#define _VMWGFX_BINDING_H_\n\n#include <linux/list.h>\n\n#include \"device_include/svga3d_reg.h\"\n\n#define VMW_MAX_VIEW_BINDINGS 128\n\n#define VMW_MAX_UAV_BIND_TYPE 2\n\nstruct vmw_private;\nstruct vmw_ctx_binding_state;\n\n \nenum vmw_ctx_binding_type {\n\tvmw_ctx_binding_shader,\n\tvmw_ctx_binding_rt,\n\tvmw_ctx_binding_tex,\n\tvmw_ctx_binding_cb,\n\tvmw_ctx_binding_dx_shader,\n\tvmw_ctx_binding_dx_rt,\n\tvmw_ctx_binding_sr,\n\tvmw_ctx_binding_ds,\n\tvmw_ctx_binding_so_target,\n\tvmw_ctx_binding_vb,\n\tvmw_ctx_binding_ib,\n\tvmw_ctx_binding_uav,\n\tvmw_ctx_binding_cs_uav,\n\tvmw_ctx_binding_so,\n\tvmw_ctx_binding_max\n};\n\n \nstruct vmw_ctx_bindinfo {\n\tstruct list_head ctx_list;\n\tstruct list_head res_list;\n\tstruct vmw_resource *ctx;\n\tstruct vmw_resource *res;\n\tenum vmw_ctx_binding_type bt;\n\tbool scrubbed;\n};\n\n \nstruct vmw_ctx_bindinfo_tex {\n\tstruct vmw_ctx_bindinfo bi;\n\tuint32 texture_stage;\n};\n\n \nstruct vmw_ctx_bindinfo_shader {\n\tstruct vmw_ctx_bindinfo bi;\n\tSVGA3dShaderType shader_slot;\n};\n\n \nstruct vmw_ctx_bindinfo_cb {\n\tstruct vmw_ctx_bindinfo bi;\n\tSVGA3dShaderType shader_slot;\n\tuint32 offset;\n\tuint32 size;\n\tuint32 slot;\n};\n\n \nstruct vmw_ctx_bindinfo_view {\n\tstruct vmw_ctx_bindinfo bi;\n\tSVGA3dShaderType shader_slot;\n\tuint32 slot;\n};\n\n \nstruct vmw_ctx_bindinfo_so_target {\n\tstruct vmw_ctx_bindinfo bi;\n\tuint32 offset;\n\tuint32 size;\n\tuint32 slot;\n};\n\n \nstruct vmw_ctx_bindinfo_vb {\n\tstruct vmw_ctx_bindinfo bi;\n\tuint32 offset;\n\tuint32 stride;\n\tuint32 slot;\n};\n\n \nstruct vmw_ctx_bindinfo_ib {\n\tstruct vmw_ctx_bindinfo bi;\n\tuint32 offset;\n\tuint32 format;\n};\n\n \nstruct vmw_dx_shader_bindings {\n\tstruct vmw_ctx_bindinfo_shader shader;\n\tstruct vmw_ctx_bindinfo_cb const_buffers[SVGA3D_DX_MAX_CONSTBUFFERS];\n\tstruct vmw_ctx_bindinfo_view shader_res[SVGA3D_DX_MAX_SRVIEWS];\n\tDECLARE_BITMAP(dirty_sr, SVGA3D_DX_MAX_SRVIEWS);\n\tunsigned long dirty;\n};\n\n \nstruct vmw_ctx_bindinfo_uav {\n\tstruct vmw_ctx_bindinfo_view views[SVGA3D_DX11_1_MAX_UAVIEWS];\n\tuint32 index;\n};\n\n \nstruct vmw_ctx_bindinfo_so {\n\tstruct vmw_ctx_bindinfo bi;\n\tuint32 slot;\n};\n\nextern void vmw_binding_add(struct vmw_ctx_binding_state *cbs,\n\t\t\t    const struct vmw_ctx_bindinfo *ci,\n\t\t\t    u32 shader_slot, u32 slot);\nextern void vmw_binding_cb_offset_update(struct vmw_ctx_binding_state *cbs,\n\t\t\t\t\t u32 shader_slot, u32 slot, u32 offsetInBytes);\nextern void vmw_binding_add_uav_index(struct vmw_ctx_binding_state *cbs,\n\t\t\t\t      uint32 slot, uint32 splice_index);\nextern void\nvmw_binding_state_commit(struct vmw_ctx_binding_state *to,\n\t\t\t struct vmw_ctx_binding_state *from);\nextern void vmw_binding_res_list_kill(struct list_head *head);\nextern void vmw_binding_res_list_scrub(struct list_head *head);\nextern int vmw_binding_rebind_all(struct vmw_ctx_binding_state *cbs);\nextern void vmw_binding_state_kill(struct vmw_ctx_binding_state *cbs);\nextern void vmw_binding_state_scrub(struct vmw_ctx_binding_state *cbs);\nextern struct vmw_ctx_binding_state *\nvmw_binding_state_alloc(struct vmw_private *dev_priv);\nextern void vmw_binding_state_free(struct vmw_ctx_binding_state *cbs);\nextern struct list_head *\nvmw_binding_state_list(struct vmw_ctx_binding_state *cbs);\nextern void vmw_binding_state_reset(struct vmw_ctx_binding_state *cbs);\nextern u32 vmw_binding_dirtying(enum vmw_ctx_binding_type binding_type);\n\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}