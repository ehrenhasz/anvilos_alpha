{
  "module_name": "panfrost_gem.h",
  "hash_id": "ddc1d7e701067e7a781233903a4c89fe910a2ca7b9bdd420e8487a69f16d767b",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/panfrost/panfrost_gem.h",
  "human_readable_source": " \n \n\n#ifndef __PANFROST_GEM_H__\n#define __PANFROST_GEM_H__\n\n#include <drm/drm_gem_shmem_helper.h>\n#include <drm/drm_mm.h>\n\nstruct panfrost_mmu;\n\nstruct panfrost_gem_object {\n\tstruct drm_gem_shmem_object base;\n\tstruct sg_table *sgts;\n\n\t \n\tstruct {\n\t\tstruct list_head list;\n\t\tstruct mutex lock;\n\t} mappings;\n\n\t \n\tatomic_t gpu_usecount;\n\n\tbool noexec\t\t:1;\n\tbool is_heap\t\t:1;\n};\n\nstruct panfrost_gem_mapping {\n\tstruct list_head node;\n\tstruct kref refcount;\n\tstruct panfrost_gem_object *obj;\n\tstruct drm_mm_node mmnode;\n\tstruct panfrost_mmu *mmu;\n\tbool active\t\t:1;\n};\n\nstatic inline\nstruct  panfrost_gem_object *to_panfrost_bo(struct drm_gem_object *obj)\n{\n\treturn container_of(to_drm_gem_shmem_obj(obj), struct panfrost_gem_object, base);\n}\n\nstatic inline struct panfrost_gem_mapping *\ndrm_mm_node_to_panfrost_mapping(struct drm_mm_node *node)\n{\n\treturn container_of(node, struct panfrost_gem_mapping, mmnode);\n}\n\nstruct drm_gem_object *panfrost_gem_create_object(struct drm_device *dev, size_t size);\n\nstruct drm_gem_object *\npanfrost_gem_prime_import_sg_table(struct drm_device *dev,\n\t\t\t\t   struct dma_buf_attachment *attach,\n\t\t\t\t   struct sg_table *sgt);\n\nstruct panfrost_gem_object *\npanfrost_gem_create(struct drm_device *dev, size_t size, u32 flags);\n\nint panfrost_gem_open(struct drm_gem_object *obj, struct drm_file *file_priv);\nvoid panfrost_gem_close(struct drm_gem_object *obj,\n\t\t\tstruct drm_file *file_priv);\n\nstruct panfrost_gem_mapping *\npanfrost_gem_mapping_get(struct panfrost_gem_object *bo,\n\t\t\t struct panfrost_file_priv *priv);\nvoid panfrost_gem_mapping_put(struct panfrost_gem_mapping *mapping);\nvoid panfrost_gem_teardown_mappings_locked(struct panfrost_gem_object *bo);\n\nvoid panfrost_gem_shrinker_init(struct drm_device *dev);\nvoid panfrost_gem_shrinker_cleanup(struct drm_device *dev);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}