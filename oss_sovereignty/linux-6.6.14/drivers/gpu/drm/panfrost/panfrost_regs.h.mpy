{
  "module_name": "panfrost_regs.h",
  "hash_id": "c8354c333b4d8e85b4cb3696be1ff771116bc7491709963056a828aee32d9b0f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/panfrost/panfrost_regs.h",
  "human_readable_source": " \n \n \n \n#ifndef __PANFROST_REGS_H__\n#define __PANFROST_REGS_H__\n\n#define GPU_ID\t\t\t\t0x00\n#define GPU_L2_FEATURES\t\t\t0x004\t \n#define GPU_CORE_FEATURES\t\t0x008\t \n#define GPU_TILER_FEATURES\t\t0x00C\t \n#define GPU_MEM_FEATURES\t\t0x010\t \n#define   GROUPS_L2_COHERENT\t\tBIT(0)\t \n\n#define GPU_MMU_FEATURES\t\t0x014\t \n#define GPU_AS_PRESENT\t\t\t0x018\t \n#define GPU_JS_PRESENT\t\t\t0x01C\t \n\n#define GPU_INT_RAWSTAT\t\t\t0x20\n#define GPU_INT_CLEAR\t\t\t0x24\n#define GPU_INT_MASK\t\t\t0x28\n#define GPU_INT_STAT\t\t\t0x2c\n#define   GPU_IRQ_FAULT\t\t\tBIT(0)\n#define   GPU_IRQ_MULTIPLE_FAULT\tBIT(7)\n#define   GPU_IRQ_RESET_COMPLETED\tBIT(8)\n#define   GPU_IRQ_POWER_CHANGED\t\tBIT(9)\n#define   GPU_IRQ_POWER_CHANGED_ALL\tBIT(10)\n#define   GPU_IRQ_PERFCNT_SAMPLE_COMPLETED BIT(16)\n#define   GPU_IRQ_CLEAN_CACHES_COMPLETED BIT(17)\n#define   GPU_IRQ_MASK_ALL\t\t\t \\\n\t  (GPU_IRQ_FAULT\t\t\t|\\\n\t   GPU_IRQ_MULTIPLE_FAULT\t\t|\\\n\t   GPU_IRQ_RESET_COMPLETED\t\t|\\\n\t   GPU_IRQ_POWER_CHANGED\t\t|\\\n\t   GPU_IRQ_POWER_CHANGED_ALL\t\t|\\\n\t   GPU_IRQ_PERFCNT_SAMPLE_COMPLETED\t|\\\n\t   GPU_IRQ_CLEAN_CACHES_COMPLETED)\n#define GPU_IRQ_MASK_ERROR\t   \t\t\\\n\t(\t\t\t\t\t\\\n\t GPU_IRQ_FAULT\t\t\t\t|\\\n\t GPU_IRQ_MULTIPLE_FAULT)\n#define GPU_CMD\t\t\t\t0x30\n#define   GPU_CMD_SOFT_RESET\t\t0x01\n#define   GPU_CMD_PERFCNT_CLEAR\t\t0x03\n#define   GPU_CMD_PERFCNT_SAMPLE\t0x04\n#define   GPU_CMD_CLEAN_CACHES\t\t0x07\n#define   GPU_CMD_CLEAN_INV_CACHES\t0x08\n#define GPU_STATUS\t\t\t0x34\n#define   GPU_STATUS_PRFCNT_ACTIVE\tBIT(2)\n#define GPU_LATEST_FLUSH_ID\t\t0x38\n#define GPU_PWR_KEY\t\t\t0x50\t \n#define  GPU_PWR_KEY_UNLOCK\t\t0x2968A819\n#define GPU_PWR_OVERRIDE0\t\t0x54\t \n#define GPU_PWR_OVERRIDE1\t\t0x58\t \n#define GPU_FAULT_STATUS\t\t0x3C\n#define GPU_FAULT_ADDRESS_LO\t\t0x40\n#define GPU_FAULT_ADDRESS_HI\t\t0x44\n\n#define GPU_PERFCNT_BASE_LO\t\t0x60\n#define GPU_PERFCNT_BASE_HI\t\t0x64\n#define GPU_PERFCNT_CFG\t\t\t0x68\n#define   GPU_PERFCNT_CFG_MODE(x)\t(x)\n#define   GPU_PERFCNT_CFG_MODE_OFF\t0\n#define   GPU_PERFCNT_CFG_MODE_MANUAL\t1\n#define   GPU_PERFCNT_CFG_MODE_TILE\t2\n#define   GPU_PERFCNT_CFG_AS(x)\t\t((x) << 4)\n#define   GPU_PERFCNT_CFG_SETSEL(x)\t((x) << 8)\n#define GPU_PRFCNT_JM_EN\t\t0x6c\n#define GPU_PRFCNT_SHADER_EN\t\t0x70\n#define GPU_PRFCNT_TILER_EN\t\t0x74\n#define GPU_PRFCNT_MMU_L2_EN\t\t0x7c\n\n#define GPU_THREAD_MAX_THREADS\t\t0x0A0\t \n#define GPU_THREAD_MAX_WORKGROUP_SIZE\t0x0A4\t \n#define GPU_THREAD_MAX_BARRIER_SIZE\t0x0A8\t \n#define GPU_THREAD_FEATURES\t\t0x0AC\t \n#define GPU_THREAD_TLS_ALLOC\t\t0x310    \n\n#define GPU_TEXTURE_FEATURES(n)\t\t(0x0B0 + ((n) * 4))\n#define GPU_JS_FEATURES(n)\t\t(0x0C0 + ((n) * 4))\n#define GPU_AFBC_FEATURES\t\t(0x4C)\t \n\n#define GPU_SHADER_PRESENT_LO\t\t0x100\t \n#define GPU_SHADER_PRESENT_HI\t\t0x104\t \n#define GPU_TILER_PRESENT_LO\t\t0x110\t \n#define GPU_TILER_PRESENT_HI\t\t0x114\t \n\n#define GPU_L2_PRESENT_LO\t\t0x120\t \n#define GPU_L2_PRESENT_HI\t\t0x124\t \n\n#define GPU_COHERENCY_FEATURES\t\t0x300\t \n#define   COHERENCY_ACE_LITE\t\tBIT(0)\n#define   COHERENCY_ACE\t\t\tBIT(1)\n\n#define GPU_STACK_PRESENT_LO\t\t0xE00    \n#define GPU_STACK_PRESENT_HI\t\t0xE04    \n\n#define SHADER_READY_LO\t\t\t0x140\t \n#define SHADER_READY_HI\t\t\t0x144\t \n\n#define TILER_READY_LO\t\t\t0x150\t \n#define TILER_READY_HI\t\t\t0x154\t \n\n#define L2_READY_LO\t\t\t0x160\t \n#define L2_READY_HI\t\t\t0x164\t \n\n#define STACK_READY_LO\t\t\t0xE10    \n#define STACK_READY_HI\t\t\t0xE14    \n\n\n#define SHADER_PWRON_LO\t\t\t0x180\t \n#define SHADER_PWRON_HI\t\t\t0x184\t \n\n#define TILER_PWRON_LO\t\t\t0x190\t \n#define TILER_PWRON_HI\t\t\t0x194\t \n\n#define L2_PWRON_LO\t\t\t0x1A0\t \n#define L2_PWRON_HI\t\t\t0x1A4\t \n\n#define STACK_PWRON_LO\t\t\t0xE20    \n#define STACK_PWRON_HI\t\t\t0xE24    \n\n\n#define SHADER_PWROFF_LO\t\t0x1C0\t \n#define SHADER_PWROFF_HI\t\t0x1C4\t \n\n#define TILER_PWROFF_LO\t\t\t0x1D0\t \n#define TILER_PWROFF_HI\t\t\t0x1D4\t \n\n#define L2_PWROFF_LO\t\t\t0x1E0\t \n#define L2_PWROFF_HI\t\t\t0x1E4\t \n\n#define STACK_PWROFF_LO\t\t\t0xE30    \n#define STACK_PWROFF_HI\t\t\t0xE34    \n\n\n#define SHADER_PWRTRANS_LO\t\t0x200\t \n#define SHADER_PWRTRANS_HI\t\t0x204\t \n\n#define TILER_PWRTRANS_LO\t\t0x210\t \n#define TILER_PWRTRANS_HI\t\t0x214\t \n\n#define L2_PWRTRANS_LO\t\t\t0x220\t \n#define L2_PWRTRANS_HI\t\t\t0x224\t \n\n#define STACK_PWRTRANS_LO\t\t0xE40    \n#define STACK_PWRTRANS_HI\t\t0xE44    \n\n\n#define SHADER_PWRACTIVE_LO\t\t0x240\t \n#define SHADER_PWRACTIVE_HI\t\t0x244\t \n\n#define TILER_PWRACTIVE_LO\t\t0x250\t \n#define TILER_PWRACTIVE_HI\t\t0x254\t \n\n#define L2_PWRACTIVE_LO\t\t\t0x260\t \n#define L2_PWRACTIVE_HI\t\t\t0x264\t \n\n#define GPU_JM_CONFIG\t\t\t0xF00    \n#define GPU_SHADER_CONFIG\t\t0xF04\t \n#define GPU_TILER_CONFIG\t\t0xF08    \n#define GPU_L2_MMU_CONFIG\t\t0xF0C\t \n\n \n#define L2_MMU_CONFIG_ALLOW_SNOOP_DISPARITY_SHIFT\t23\n#define L2_MMU_CONFIG_ALLOW_SNOOP_DISPARITY\t\t(0x1 << L2_MMU_CONFIG_ALLOW_SNOOP_DISPARITY_SHIFT)\n#define L2_MMU_CONFIG_LIMIT_EXTERNAL_READS_SHIFT\t24\n#define L2_MMU_CONFIG_LIMIT_EXTERNAL_READS\t\t(0x3 << L2_MMU_CONFIG_LIMIT_EXTERNAL_READS_SHIFT)\n#define L2_MMU_CONFIG_LIMIT_EXTERNAL_READS_OCTANT\t(0x1 << L2_MMU_CONFIG_LIMIT_EXTERNAL_READS_SHIFT)\n#define L2_MMU_CONFIG_LIMIT_EXTERNAL_READS_QUARTER\t(0x2 << L2_MMU_CONFIG_LIMIT_EXTERNAL_READS_SHIFT)\n#define L2_MMU_CONFIG_LIMIT_EXTERNAL_READS_HALF\t\t(0x3 << L2_MMU_CONFIG_LIMIT_EXTERNAL_READS_SHIFT)\n\n#define L2_MMU_CONFIG_LIMIT_EXTERNAL_WRITES_SHIFT\t26\n#define L2_MMU_CONFIG_LIMIT_EXTERNAL_WRITES\t\t(0x3 << L2_MMU_CONFIG_LIMIT_EXTERNAL_WRITES_SHIFT)\n#define L2_MMU_CONFIG_LIMIT_EXTERNAL_WRITES_OCTANT\t(0x1 << L2_MMU_CONFIG_LIMIT_EXTERNAL_WRITES_SHIFT)\n#define L2_MMU_CONFIG_LIMIT_EXTERNAL_WRITES_QUARTER\t(0x2 << L2_MMU_CONFIG_LIMIT_EXTERNAL_WRITES_SHIFT)\n#define L2_MMU_CONFIG_LIMIT_EXTERNAL_WRITES_HALF\t(0x3 << L2_MMU_CONFIG_LIMIT_EXTERNAL_WRITES_SHIFT)\n\n#define L2_MMU_CONFIG_3BIT_LIMIT_EXTERNAL_READS_SHIFT\t12\n#define L2_MMU_CONFIG_3BIT_LIMIT_EXTERNAL_READS\t\t(0x7 << L2_MMU_CONFIG_LIMIT_EXTERNAL_READS_SHIFT)\n\n#define L2_MMU_CONFIG_3BIT_LIMIT_EXTERNAL_WRITES_SHIFT\t15\n#define L2_MMU_CONFIG_3BIT_LIMIT_EXTERNAL_WRITES\t(0x7 << L2_MMU_CONFIG_LIMIT_EXTERNAL_WRITES_SHIFT)\n\n \n#define SC_ALT_COUNTERS\t\t\tBIT(3)\n#define SC_OVERRIDE_FWD_PIXEL_KILL\tBIT(4)\n#define SC_SDC_DISABLE_OQ_DISCARD\tBIT(6)\n#define SC_LS_ALLOW_ATTR_TYPES\t\tBIT(16)\n#define SC_LS_PAUSEBUFFER_DISABLE\tBIT(16)\n#define SC_TLS_HASH_ENABLE\t\tBIT(17)\n#define SC_LS_ATTR_CHECK_DISABLE\tBIT(18)\n#define SC_ENABLE_TEXGRD_FLAGS\t\tBIT(25)\n#define SC_VAR_ALGORITHM\t\tBIT(29)\n \n\n \n#define TC_CLOCK_GATE_OVERRIDE\t\tBIT(0)\n\n \n#define JM_TIMESTAMP_OVERRIDE\t\tBIT(0)\n#define JM_CLOCK_GATE_OVERRIDE\t\tBIT(1)\n#define JM_JOB_THROTTLE_ENABLE\t\tBIT(2)\n#define JM_JOB_THROTTLE_LIMIT_SHIFT\t3\n#define JM_MAX_JOB_THROTTLE_LIMIT\t0x3F\n#define JM_FORCE_COHERENCY_FEATURES_SHIFT 2\n#define JM_IDVS_GROUP_SIZE_SHIFT\t16\n#define JM_DEFAULT_IDVS_GROUP_SIZE\t0xF\n#define JM_MAX_IDVS_GROUP_SIZE\t\t0x3F\n\n\n \n#define JOB_INT_RAWSTAT\t\t\t0x1000\n#define JOB_INT_CLEAR\t\t\t0x1004\n#define JOB_INT_MASK\t\t\t0x1008\n#define JOB_INT_STAT\t\t\t0x100c\n#define JOB_INT_JS_STATE\t\t0x1010\n#define JOB_INT_THROTTLE\t\t0x1014\n\n#define MK_JS_MASK(j)\t\t\t(0x10001 << (j))\n#define JOB_INT_MASK_ERR(j)\t\tBIT((j) + 16)\n#define JOB_INT_MASK_DONE(j)\t\tBIT(j)\n\n#define JS_BASE\t\t\t\t0x1800\n#define JS_SLOT_STRIDE\t\t\t0x80\n\n#define JS_HEAD_LO(n)\t\t\t(JS_BASE + ((n) * JS_SLOT_STRIDE) + 0x00)\n#define JS_HEAD_HI(n)\t\t\t(JS_BASE + ((n) * JS_SLOT_STRIDE) + 0x04)\n#define JS_TAIL_LO(n)\t\t\t(JS_BASE + ((n) * JS_SLOT_STRIDE) + 0x08)\n#define JS_TAIL_HI(n)\t\t\t(JS_BASE + ((n) * JS_SLOT_STRIDE) + 0x0c)\n#define JS_AFFINITY_LO(n)\t\t(JS_BASE + ((n) * JS_SLOT_STRIDE) + 0x10)\n#define JS_AFFINITY_HI(n)\t\t(JS_BASE + ((n) * JS_SLOT_STRIDE) + 0x14)\n#define JS_CONFIG(n)\t\t\t(JS_BASE + ((n) * JS_SLOT_STRIDE) + 0x18)\n#define JS_XAFFINITY(n)\t\t\t(JS_BASE + ((n) * JS_SLOT_STRIDE) + 0x1c)\n#define JS_COMMAND(n)\t\t\t(JS_BASE + ((n) * JS_SLOT_STRIDE) + 0x20)\n#define JS_STATUS(n)\t\t\t(JS_BASE + ((n) * JS_SLOT_STRIDE) + 0x24)\n#define JS_HEAD_NEXT_LO(n)\t\t(JS_BASE + ((n) * JS_SLOT_STRIDE) + 0x40)\n#define JS_HEAD_NEXT_HI(n)\t\t(JS_BASE + ((n) * JS_SLOT_STRIDE) + 0x44)\n#define JS_AFFINITY_NEXT_LO(n)\t\t(JS_BASE + ((n) * JS_SLOT_STRIDE) + 0x50)\n#define JS_AFFINITY_NEXT_HI(n)\t\t(JS_BASE + ((n) * JS_SLOT_STRIDE) + 0x54)\n#define JS_CONFIG_NEXT(n)\t\t(JS_BASE + ((n) * JS_SLOT_STRIDE) + 0x58)\n#define JS_COMMAND_NEXT(n)\t\t(JS_BASE + ((n) * JS_SLOT_STRIDE) + 0x60)\n#define JS_FLUSH_ID_NEXT(n)\t\t(JS_BASE + ((n) * JS_SLOT_STRIDE) + 0x70)\n\n \n#define JS_CONFIG_START_FLUSH_CLEAN\t\tBIT(8)\n#define JS_CONFIG_START_FLUSH_CLEAN_INVALIDATE\t(3u << 8)\n#define JS_CONFIG_START_MMU\t\t\tBIT(10)\n#define JS_CONFIG_JOB_CHAIN_FLAG\t\tBIT(11)\n#define JS_CONFIG_END_FLUSH_CLEAN\t\tBIT(12)\n#define JS_CONFIG_END_FLUSH_CLEAN_INVALIDATE\t(3u << 12)\n#define JS_CONFIG_ENABLE_FLUSH_REDUCTION\tBIT(14)\n#define JS_CONFIG_DISABLE_DESCRIPTOR_WR_BK\tBIT(15)\n#define JS_CONFIG_THREAD_PRI(n)\t\t\t((n) << 16)\n\n#define JS_COMMAND_NOP\t\t\t0x00\n#define JS_COMMAND_START\t\t0x01\n#define JS_COMMAND_SOFT_STOP\t\t0x02\t \n#define JS_COMMAND_HARD_STOP\t\t0x03\t \n#define JS_COMMAND_SOFT_STOP_0\t\t0x04\t \n#define JS_COMMAND_HARD_STOP_0\t\t0x05\t \n#define JS_COMMAND_SOFT_STOP_1\t\t0x06\t \n#define JS_COMMAND_HARD_STOP_1\t\t0x07\t \n\n \n#define MMU_INT_RAWSTAT\t\t\t0x2000\n#define MMU_INT_CLEAR\t\t\t0x2004\n#define MMU_INT_MASK\t\t\t0x2008\n#define MMU_INT_STAT\t\t\t0x200c\n\n \n#define AS_COMMAND_NOP\t\t\t0x00\t \n#define AS_COMMAND_UPDATE\t\t0x01\t \n#define AS_COMMAND_LOCK\t\t\t0x02\t \n#define AS_COMMAND_UNLOCK\t\t0x03\t \n#define AS_COMMAND_FLUSH\t\t0x04\t \n#define AS_COMMAND_FLUSH_PT\t\t0x04\t \n#define AS_COMMAND_FLUSH_MEM\t\t0x05\t \n\n#define MMU_BASE\t\t\t0x2400\n#define MMU_AS_SHIFT\t\t\t0x06\n#define MMU_AS(as)\t\t\t(MMU_BASE + ((as) << MMU_AS_SHIFT))\n\n#define AS_TRANSTAB_LO(as)\t\t(MMU_AS(as) + 0x00)  \n#define AS_TRANSTAB_HI(as)\t\t(MMU_AS(as) + 0x04)  \n#define AS_MEMATTR_LO(as)\t\t(MMU_AS(as) + 0x08)  \n#define AS_MEMATTR_HI(as)\t\t(MMU_AS(as) + 0x0C)  \n#define AS_LOCKADDR_LO(as)\t\t(MMU_AS(as) + 0x10)  \n#define AS_LOCKADDR_HI(as)\t\t(MMU_AS(as) + 0x14)  \n#define AS_COMMAND(as)\t\t\t(MMU_AS(as) + 0x18)  \n#define AS_FAULTSTATUS(as)\t\t(MMU_AS(as) + 0x1C)  \n#define AS_FAULTADDRESS_LO(as)\t\t(MMU_AS(as) + 0x20)  \n#define AS_FAULTADDRESS_HI(as)\t\t(MMU_AS(as) + 0x24)  \n#define AS_STATUS(as)\t\t\t(MMU_AS(as) + 0x28)  \n \n#define AS_TRANSCFG_LO(as)\t\t(MMU_AS(as) + 0x30)  \n#define AS_TRANSCFG_HI(as)\t\t(MMU_AS(as) + 0x34)  \n#define AS_FAULTEXTRA_LO(as)\t\t(MMU_AS(as) + 0x38)  \n#define AS_FAULTEXTRA_HI(as)\t\t(MMU_AS(as) + 0x3C)  \n\n#define MMU_AS_STRIDE\t\t\t(1 << MMU_AS_SHIFT)\n\n \n#define AS_TRANSTAB_LPAE_ADDR_SPACE_MASK\t0xfffffffffffff000\n#define AS_TRANSTAB_LPAE_ADRMODE_IDENTITY\t0x2\n#define AS_TRANSTAB_LPAE_ADRMODE_TABLE\t\t0x3\n#define AS_TRANSTAB_LPAE_ADRMODE_MASK\t\t0x3\n#define AS_TRANSTAB_LPAE_READ_INNER\t\tBIT(2)\n#define AS_TRANSTAB_LPAE_SHARE_OUTER\t\tBIT(4)\n\n#define AS_STATUS_AS_ACTIVE\t\t\t0x01\n\n#define AS_FAULTSTATUS_ACCESS_TYPE_MASK\t\t(0x3 << 8)\n#define AS_FAULTSTATUS_ACCESS_TYPE_ATOMIC\t(0x0 << 8)\n#define AS_FAULTSTATUS_ACCESS_TYPE_EX\t\t(0x1 << 8)\n#define AS_FAULTSTATUS_ACCESS_TYPE_READ\t\t(0x2 << 8)\n#define AS_FAULTSTATUS_ACCESS_TYPE_WRITE\t(0x3 << 8)\n\n#define AS_LOCK_REGION_MIN_SIZE                 (1ULL << 15)\n\n#define gpu_write(dev, reg, data) writel(data, dev->iomem + reg)\n#define gpu_read(dev, reg) readl(dev->iomem + reg)\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}