{
  "module_name": "radeon_mode.h",
  "hash_id": "71b2722b23f56adcaa8ce371ad7e2770bef20b61ff3b56c474532b3a30504294",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/radeon/radeon_mode.h",
  "human_readable_source": " \n\n#ifndef RADEON_MODE_H\n#define RADEON_MODE_H\n\n#include <drm/display/drm_dp_helper.h>\n#include <drm/drm_crtc.h>\n#include <drm/drm_edid.h>\n#include <drm/drm_encoder.h>\n#include <drm/drm_fixed.h>\n#include <drm/drm_modeset_helper_vtables.h>\n#include <linux/i2c.h>\n#include <linux/i2c-algo-bit.h>\n\nstruct radeon_bo;\nstruct radeon_device;\n\n#define to_radeon_crtc(x) container_of(x, struct radeon_crtc, base)\n#define to_radeon_connector(x) container_of(x, struct radeon_connector, base)\n#define to_radeon_encoder(x) container_of(x, struct radeon_encoder, base)\n\n#define RADEON_MAX_HPD_PINS 7\n#define RADEON_MAX_CRTCS 6\n#define RADEON_MAX_AFMT_BLOCKS 7\n\nenum radeon_rmx_type {\n\tRMX_OFF,\n\tRMX_FULL,\n\tRMX_CENTER,\n\tRMX_ASPECT\n};\n\nenum radeon_tv_std {\n\tTV_STD_NTSC,\n\tTV_STD_PAL,\n\tTV_STD_PAL_M,\n\tTV_STD_PAL_60,\n\tTV_STD_NTSC_J,\n\tTV_STD_SCART_PAL,\n\tTV_STD_SECAM,\n\tTV_STD_PAL_CN,\n\tTV_STD_PAL_N,\n};\n\nenum radeon_underscan_type {\n\tUNDERSCAN_OFF,\n\tUNDERSCAN_ON,\n\tUNDERSCAN_AUTO,\n};\n\nenum radeon_hpd_id {\n\tRADEON_HPD_1 = 0,\n\tRADEON_HPD_2,\n\tRADEON_HPD_3,\n\tRADEON_HPD_4,\n\tRADEON_HPD_5,\n\tRADEON_HPD_6,\n\tRADEON_HPD_NONE = 0xff,\n};\n\nenum radeon_output_csc {\n\tRADEON_OUTPUT_CSC_BYPASS = 0,\n\tRADEON_OUTPUT_CSC_TVRGB = 1,\n\tRADEON_OUTPUT_CSC_YCBCR601 = 2,\n\tRADEON_OUTPUT_CSC_YCBCR709 = 3,\n};\n\n#define RADEON_MAX_I2C_BUS 16\n\n \nstruct radeon_i2c_bus_rec {\n\tbool valid;\n\t \n\tuint8_t i2c_id;\n\t \n\tenum radeon_hpd_id hpd;\n\t \n\tbool hw_capable;\n\t \n\tbool mm_i2c;\n\t \n\tuint32_t mask_clk_reg;\n\tuint32_t mask_data_reg;\n\tuint32_t a_clk_reg;\n\tuint32_t a_data_reg;\n\tuint32_t en_clk_reg;\n\tuint32_t en_data_reg;\n\tuint32_t y_clk_reg;\n\tuint32_t y_data_reg;\n\tuint32_t mask_clk_mask;\n\tuint32_t mask_data_mask;\n\tuint32_t a_clk_mask;\n\tuint32_t a_data_mask;\n\tuint32_t en_clk_mask;\n\tuint32_t en_data_mask;\n\tuint32_t y_clk_mask;\n\tuint32_t y_data_mask;\n};\n\nstruct radeon_tmds_pll {\n    uint32_t freq;\n    uint32_t value;\n};\n\n#define RADEON_MAX_BIOS_CONNECTOR 16\n\n \n#define RADEON_PLL_USE_BIOS_DIVS        (1 << 0)\n#define RADEON_PLL_NO_ODD_POST_DIV      (1 << 1)\n#define RADEON_PLL_USE_REF_DIV          (1 << 2)\n#define RADEON_PLL_LEGACY               (1 << 3)\n#define RADEON_PLL_PREFER_LOW_REF_DIV   (1 << 4)\n#define RADEON_PLL_PREFER_HIGH_REF_DIV  (1 << 5)\n#define RADEON_PLL_PREFER_LOW_FB_DIV    (1 << 6)\n#define RADEON_PLL_PREFER_HIGH_FB_DIV   (1 << 7)\n#define RADEON_PLL_PREFER_LOW_POST_DIV  (1 << 8)\n#define RADEON_PLL_PREFER_HIGH_POST_DIV (1 << 9)\n#define RADEON_PLL_USE_FRAC_FB_DIV      (1 << 10)\n#define RADEON_PLL_PREFER_CLOSEST_LOWER (1 << 11)\n#define RADEON_PLL_USE_POST_DIV         (1 << 12)\n#define RADEON_PLL_IS_LCD               (1 << 13)\n#define RADEON_PLL_PREFER_MINM_OVER_MAXP (1 << 14)\n\nstruct radeon_pll {\n\t \n\tuint32_t reference_freq;\n\n\t \n\tuint32_t reference_div;\n\tuint32_t post_div;\n\n\t \n\tuint32_t pll_in_min;\n\tuint32_t pll_in_max;\n\tuint32_t pll_out_min;\n\tuint32_t pll_out_max;\n\tuint32_t lcd_pll_out_min;\n\tuint32_t lcd_pll_out_max;\n\tuint32_t best_vco;\n\n\t \n\tuint32_t min_ref_div;\n\tuint32_t max_ref_div;\n\tuint32_t min_post_div;\n\tuint32_t max_post_div;\n\tuint32_t min_feedback_div;\n\tuint32_t max_feedback_div;\n\tuint32_t min_frac_feedback_div;\n\tuint32_t max_frac_feedback_div;\n\n\t \n\tuint32_t flags;\n\n\t \n\tuint32_t id;\n};\n\nstruct radeon_i2c_chan {\n\tstruct i2c_adapter adapter;\n\tstruct drm_device *dev;\n\tstruct i2c_algo_bit_data bit;\n\tstruct radeon_i2c_bus_rec rec;\n\tstruct drm_dp_aux aux;\n\tbool has_aux;\n\tstruct mutex mutex;\n};\n\n \nenum radeon_connector_table {\n\tCT_NONE = 0,\n\tCT_GENERIC,\n\tCT_IBOOK,\n\tCT_POWERBOOK_EXTERNAL,\n\tCT_POWERBOOK_INTERNAL,\n\tCT_POWERBOOK_VGA,\n\tCT_MINI_EXTERNAL,\n\tCT_MINI_INTERNAL,\n\tCT_IMAC_G5_ISIGHT,\n\tCT_EMAC,\n\tCT_RN50_POWER,\n\tCT_MAC_X800,\n\tCT_MAC_G5_9600,\n\tCT_SAM440EP,\n\tCT_MAC_G4_SILVER\n};\n\nenum radeon_dvo_chip {\n\tDVO_SIL164,\n\tDVO_SIL1178,\n};\n\nstruct radeon_afmt {\n\tbool enabled;\n\tint offset;\n\tbool last_buffer_filled_status;\n\tint id;\n};\n\nstruct radeon_mode_info {\n\tstruct atom_context *atom_context;\n\tstruct card_info *atom_card_info;\n\tenum radeon_connector_table connector_table;\n\tbool mode_config_initialized;\n\tstruct radeon_crtc *crtcs[RADEON_MAX_CRTCS];\n\tstruct radeon_afmt *afmt[RADEON_MAX_AFMT_BLOCKS];\n\t \n\tstruct drm_property *coherent_mode_property;\n\t \n\tstruct drm_property *load_detect_property;\n\t \n\tstruct drm_property *tv_std_property;\n\t \n\tstruct drm_property *tmds_pll_property;\n\t \n\tstruct drm_property *underscan_property;\n\tstruct drm_property *underscan_hborder_property;\n\tstruct drm_property *underscan_vborder_property;\n\t \n\tstruct drm_property *audio_property;\n\t \n\tstruct drm_property *dither_property;\n\t \n\tstruct drm_property *output_csc_property;\n\t \n\tstruct edid *bios_hardcoded_edid;\n\tint bios_hardcoded_edid_size;\n\n\t \n\tu16 firmware_flags;\n\t \n\tstruct radeon_encoder *bl_encoder;\n\n\t \n\tuint32_t active_encoders;\n};\n\n#define RADEON_MAX_BL_LEVEL 0xFF\n\nstruct radeon_backlight_privdata {\n\tstruct radeon_encoder *encoder;\n\tuint8_t negative;\n};\n\n#define MAX_H_CODE_TIMING_LEN 32\n#define MAX_V_CODE_TIMING_LEN 32\n\n \nstruct radeon_tv_regs {\n\tuint32_t tv_uv_adr;\n\tuint32_t timing_cntl;\n\tuint32_t hrestart;\n\tuint32_t vrestart;\n\tuint32_t frestart;\n\tuint16_t h_code_timing[MAX_H_CODE_TIMING_LEN];\n\tuint16_t v_code_timing[MAX_V_CODE_TIMING_LEN];\n};\n\nstruct radeon_atom_ss {\n\tuint16_t percentage;\n\tuint16_t percentage_divider;\n\tuint8_t type;\n\tuint16_t step;\n\tuint8_t delay;\n\tuint8_t range;\n\tuint8_t refdiv;\n\t \n\tuint16_t rate;\n\tuint16_t amount;\n};\n\nenum radeon_flip_status {\n\tRADEON_FLIP_NONE,\n\tRADEON_FLIP_PENDING,\n\tRADEON_FLIP_SUBMITTED\n};\n\nstruct radeon_crtc {\n\tstruct drm_crtc base;\n\tint crtc_id;\n\tbool enabled;\n\tbool can_tile;\n\tbool cursor_out_of_bounds;\n\tuint32_t crtc_offset;\n\tstruct drm_gem_object *cursor_bo;\n\tuint64_t cursor_addr;\n\tint cursor_x;\n\tint cursor_y;\n\tint cursor_hot_x;\n\tint cursor_hot_y;\n\tint cursor_width;\n\tint cursor_height;\n\tint max_cursor_width;\n\tint max_cursor_height;\n\tuint32_t legacy_display_base_addr;\n\tenum radeon_rmx_type rmx_type;\n\tu8 h_border;\n\tu8 v_border;\n\tfixed20_12 vsc;\n\tfixed20_12 hsc;\n\tstruct drm_display_mode native_mode;\n\tint pll_id;\n\t \n\tstruct workqueue_struct *flip_queue;\n\tstruct radeon_flip_work *flip_work;\n\tenum radeon_flip_status flip_status;\n\t \n\tstruct radeon_atom_ss ss;\n\tbool ss_enabled;\n\tu32 adjusted_clock;\n\tint bpc;\n\tu32 pll_reference_div;\n\tu32 pll_post_div;\n\tu32 pll_flags;\n\tstruct drm_encoder *encoder;\n\tstruct drm_connector *connector;\n\t \n\tu32 line_time;\n\tu32 wm_low;\n\tu32 wm_high;\n\tu32 lb_vblank_lead_lines;\n\tstruct drm_display_mode hw_mode;\n\tenum radeon_output_csc output_csc;\n};\n\nstruct radeon_encoder_primary_dac {\n\t \n\tuint32_t ps2_pdac_adj;\n};\n\nstruct radeon_encoder_lvds {\n\t \n\tuint16_t panel_vcc_delay;\n\tuint8_t  panel_pwr_delay;\n\tuint8_t  panel_digon_delay;\n\tuint8_t  panel_blon_delay;\n\tuint16_t panel_ref_divider;\n\tuint8_t  panel_post_divider;\n\tuint16_t panel_fb_divider;\n\tbool     use_bios_dividers;\n\tuint32_t lvds_gen_cntl;\n\t \n\tstruct drm_display_mode native_mode;\n\tstruct backlight_device *bl_dev;\n\tint      dpms_mode;\n\tuint8_t  backlight_level;\n};\n\nstruct radeon_encoder_tv_dac {\n\t \n\tuint32_t ps2_tvdac_adj;\n\tuint32_t ntsc_tvdac_adj;\n\tuint32_t pal_tvdac_adj;\n\n\tint               h_pos;\n\tint               v_pos;\n\tint               h_size;\n\tint               supported_tv_stds;\n\tbool              tv_on;\n\tenum radeon_tv_std tv_std;\n\tstruct radeon_tv_regs tv;\n};\n\nstruct radeon_encoder_int_tmds {\n\t \n\tstruct radeon_tmds_pll tmds_pll[4];\n};\n\nstruct radeon_encoder_ext_tmds {\n\t \n\tstruct radeon_i2c_chan *i2c_bus;\n\tuint8_t slave_addr;\n\tenum radeon_dvo_chip dvo_chip;\n};\n\n \nstruct radeon_encoder_atom_dig {\n\tbool linkb;\n\t \n\tbool coherent_mode;\n\tint dig_encoder;  \n\t \n\tuint32_t lcd_misc;\n\tuint16_t panel_pwr_delay;\n\tuint32_t lcd_ss_id;\n\t \n\tstruct drm_display_mode native_mode;\n\tstruct backlight_device *bl_dev;\n\tint dpms_mode;\n\tuint8_t backlight_level;\n\tint panel_mode;\n\tstruct radeon_afmt *afmt;\n\tstruct r600_audio_pin *pin;\n};\n\nstruct radeon_encoder_atom_dac {\n\tenum radeon_tv_std tv_std;\n};\n\nstruct radeon_encoder {\n\tstruct drm_encoder base;\n\tuint32_t encoder_enum;\n\tuint32_t encoder_id;\n\tuint32_t devices;\n\tuint32_t active_device;\n\tuint32_t flags;\n\tuint32_t pixel_clock;\n\tenum radeon_rmx_type rmx_type;\n\tenum radeon_underscan_type underscan_type;\n\tuint32_t underscan_hborder;\n\tuint32_t underscan_vborder;\n\tstruct drm_display_mode native_mode;\n\tvoid *enc_priv;\n\tint audio_polling_active;\n\tbool is_ext_encoder;\n\tu16 caps;\n\tstruct radeon_audio_funcs *audio;\n\tenum radeon_output_csc output_csc;\n\tbool can_mst;\n\tuint32_t offset;\n};\n\nstruct radeon_connector_atom_dig {\n\tuint32_t igp_lane_info;\n\t \n\tu8 dpcd[DP_RECEIVER_CAP_SIZE];\n\tu8 dp_sink_type;\n\tint dp_clock;\n\tint dp_lane_count;\n\tbool edp_on;\n};\n\nstruct radeon_gpio_rec {\n\tbool valid;\n\tu8 id;\n\tu32 reg;\n\tu32 mask;\n\tu32 shift;\n};\n\nstruct radeon_hpd {\n\tenum radeon_hpd_id hpd;\n\tu8 plugged_state;\n\tstruct radeon_gpio_rec gpio;\n};\n\nstruct radeon_router {\n\tu32 router_id;\n\tstruct radeon_i2c_bus_rec i2c_info;\n\tu8 i2c_addr;\n\t \n\tbool ddc_valid;\n\tu8 ddc_mux_type;\n\tu8 ddc_mux_control_pin;\n\tu8 ddc_mux_state;\n\t \n\tbool cd_valid;\n\tu8 cd_mux_type;\n\tu8 cd_mux_control_pin;\n\tu8 cd_mux_state;\n};\n\nenum radeon_connector_audio {\n\tRADEON_AUDIO_DISABLE = 0,\n\tRADEON_AUDIO_ENABLE = 1,\n\tRADEON_AUDIO_AUTO = 2\n};\n\nenum radeon_connector_dither {\n\tRADEON_FMT_DITHER_DISABLE = 0,\n\tRADEON_FMT_DITHER_ENABLE = 1,\n};\n\nstruct radeon_connector {\n\tstruct drm_connector base;\n\tuint32_t connector_id;\n\tuint32_t devices;\n\tstruct radeon_i2c_chan *ddc_bus;\n\t \n\tbool shared_ddc;\n\tbool use_digital;\n\t \n\tstruct edid *edid;\n\tvoid *con_priv;\n\tbool dac_load_detect;\n\tbool detected_by_load;  \n\tbool detected_hpd_without_ddc;  \n\tuint16_t connector_object_id;\n\tstruct radeon_hpd hpd;\n\tstruct radeon_router router;\n\tstruct radeon_i2c_chan *router_bus;\n\tenum radeon_connector_audio audio;\n\tenum radeon_connector_dither dither;\n\tint pixelclock_for_modeset;\n};\n\n#define ENCODER_MODE_IS_DP(em) (((em) == ATOM_ENCODER_MODE_DP) || \\\n\t\t\t\t((em) == ATOM_ENCODER_MODE_DP_MST))\n\nstruct atom_clock_dividers {\n\tu32 post_div;\n\tunion {\n\t\tstruct {\n#ifdef __BIG_ENDIAN\n\t\t\tu32 reserved : 6;\n\t\t\tu32 whole_fb_div : 12;\n\t\t\tu32 frac_fb_div : 14;\n#else\n\t\t\tu32 frac_fb_div : 14;\n\t\t\tu32 whole_fb_div : 12;\n\t\t\tu32 reserved : 6;\n#endif\n\t\t};\n\t\tu32 fb_div;\n\t};\n\tu32 ref_div;\n\tbool enable_post_div;\n\tbool enable_dithen;\n\tu32 vco_mode;\n\tu32 real_clock;\n\t \n\tu32 post_divider;\n\tu32 flags;\n};\n\nstruct atom_mpll_param {\n\tunion {\n\t\tstruct {\n#ifdef __BIG_ENDIAN\n\t\t\tu32 reserved : 8;\n\t\t\tu32 clkfrac : 12;\n\t\t\tu32 clkf : 12;\n#else\n\t\t\tu32 clkf : 12;\n\t\t\tu32 clkfrac : 12;\n\t\t\tu32 reserved : 8;\n#endif\n\t\t};\n\t\tu32 fb_div;\n\t};\n\tu32 post_div;\n\tu32 bwcntl;\n\tu32 dll_speed;\n\tu32 vco_mode;\n\tu32 yclk_sel;\n\tu32 qdr;\n\tu32 half_rate;\n};\n\n#define MEM_TYPE_GDDR5  0x50\n#define MEM_TYPE_GDDR4  0x40\n#define MEM_TYPE_GDDR3  0x30\n#define MEM_TYPE_DDR2   0x20\n#define MEM_TYPE_GDDR1  0x10\n#define MEM_TYPE_DDR3   0xb0\n#define MEM_TYPE_MASK   0xf0\n\nstruct atom_memory_info {\n\tu8 mem_vendor;\n\tu8 mem_type;\n};\n\n#define MAX_AC_TIMING_ENTRIES 16\n\nstruct atom_memory_clock_range_table\n{\n\tu8 num_entries;\n\tu8 rsv[3];\n\tu32 mclk[MAX_AC_TIMING_ENTRIES];\n};\n\n#define VBIOS_MC_REGISTER_ARRAY_SIZE 32\n#define VBIOS_MAX_AC_TIMING_ENTRIES 20\n\nstruct atom_mc_reg_entry {\n\tu32 mclk_max;\n\tu32 mc_data[VBIOS_MC_REGISTER_ARRAY_SIZE];\n};\n\nstruct atom_mc_register_address {\n\tu16 s1;\n\tu8 pre_reg_data;\n};\n\nstruct atom_mc_reg_table {\n\tu8 last;\n\tu8 num_entries;\n\tstruct atom_mc_reg_entry mc_reg_table_entry[VBIOS_MAX_AC_TIMING_ENTRIES];\n\tstruct atom_mc_register_address mc_reg_address[VBIOS_MC_REGISTER_ARRAY_SIZE];\n};\n\n#define MAX_VOLTAGE_ENTRIES 32\n\nstruct atom_voltage_table_entry\n{\n\tu16 value;\n\tu32 smio_low;\n};\n\nstruct atom_voltage_table\n{\n\tu32 count;\n\tu32 mask_low;\n\tu32 phase_delay;\n\tstruct atom_voltage_table_entry entries[MAX_VOLTAGE_ENTRIES];\n};\n\n \n#define DRM_SCANOUTPOS_VALID        (1 << 0)\n#define DRM_SCANOUTPOS_IN_VBLANK    (1 << 1)\n#define DRM_SCANOUTPOS_ACCURATE     (1 << 2)\n#define USE_REAL_VBLANKSTART \t\t(1 << 30)\n#define GET_DISTANCE_TO_VBLANKSTART\t(1 << 31)\n\nextern void\nradeon_add_atom_connector(struct drm_device *dev,\n\t\t\t  uint32_t connector_id,\n\t\t\t  uint32_t supported_device,\n\t\t\t  int connector_type,\n\t\t\t  struct radeon_i2c_bus_rec *i2c_bus,\n\t\t\t  uint32_t igp_lane_info,\n\t\t\t  uint16_t connector_object_id,\n\t\t\t  struct radeon_hpd *hpd,\n\t\t\t  struct radeon_router *router);\nextern void\nradeon_add_legacy_connector(struct drm_device *dev,\n\t\t\t    uint32_t connector_id,\n\t\t\t    uint32_t supported_device,\n\t\t\t    int connector_type,\n\t\t\t    struct radeon_i2c_bus_rec *i2c_bus,\n\t\t\t    uint16_t connector_object_id,\n\t\t\t    struct radeon_hpd *hpd);\nextern uint32_t\nradeon_get_encoder_enum(struct drm_device *dev, uint32_t supported_device,\n\t\t\tuint8_t dac);\nextern void radeon_link_encoder_connector(struct drm_device *dev);\n\nextern enum radeon_tv_std\nradeon_combios_get_tv_info(struct radeon_device *rdev);\nextern enum radeon_tv_std\nradeon_atombios_get_tv_info(struct radeon_device *rdev);\nextern void radeon_atombios_get_default_voltages(struct radeon_device *rdev,\n\t\t\t\t\t\t u16 *vddc, u16 *vddci, u16 *mvdd);\n\nextern void\nradeon_combios_connected_scratch_regs(struct drm_connector *connector,\n\t\t\t\t      struct drm_encoder *encoder,\n\t\t\t\t      bool connected);\nextern void\nradeon_atombios_connected_scratch_regs(struct drm_connector *connector,\n\t\t\t\t       struct drm_encoder *encoder,\n\t\t\t\t       bool connected);\n\nextern struct drm_connector *\nradeon_get_connector_for_encoder(struct drm_encoder *encoder);\nextern struct drm_connector *\nradeon_get_connector_for_encoder_init(struct drm_encoder *encoder);\nextern bool radeon_dig_monitor_is_duallink(struct drm_encoder *encoder,\n\t\t\t\t    u32 pixel_clock);\n\nextern u16 radeon_encoder_get_dp_bridge_encoder_id(struct drm_encoder *encoder);\nextern u16 radeon_connector_encoder_get_dp_bridge_encoder_id(struct drm_connector *connector);\nextern bool radeon_connector_is_dp12_capable(struct drm_connector *connector);\nextern int radeon_get_monitor_bpc(struct drm_connector *connector);\n\nextern struct edid *radeon_connector_edid(struct drm_connector *connector);\n\nextern void radeon_connector_hotplug(struct drm_connector *connector);\nextern int radeon_dp_mode_valid_helper(struct drm_connector *connector,\n\t\t\t\t       struct drm_display_mode *mode);\nextern void radeon_dp_set_link_config(struct drm_connector *connector,\n\t\t\t\t      const struct drm_display_mode *mode);\nextern void radeon_dp_link_train(struct drm_encoder *encoder,\n\t\t\t\t struct drm_connector *connector);\nextern bool radeon_dp_needs_link_train(struct radeon_connector *radeon_connector);\nextern u8 radeon_dp_getsinktype(struct radeon_connector *radeon_connector);\nextern bool radeon_dp_getdpcd(struct radeon_connector *radeon_connector);\nextern int radeon_dp_get_panel_mode(struct drm_encoder *encoder,\n\t\t\t\t    struct drm_connector *connector);\nextern void radeon_dp_set_rx_power_state(struct drm_connector *connector,\n\t\t\t\t\t u8 power_state);\nextern void radeon_dp_aux_init(struct radeon_connector *radeon_connector);\nextern ssize_t\nradeon_dp_aux_transfer_native(struct drm_dp_aux *aux, struct drm_dp_aux_msg *msg);\n\nextern void atombios_dig_encoder_setup(struct drm_encoder *encoder, int action, int panel_mode);\nextern void atombios_dig_encoder_setup2(struct drm_encoder *encoder, int action, int panel_mode, int enc_override);\nextern void radeon_atom_encoder_init(struct radeon_device *rdev);\nextern void radeon_atom_disp_eng_pll_init(struct radeon_device *rdev);\nextern void atombios_dig_transmitter_setup(struct drm_encoder *encoder,\n\t\t\t\t\t   int action, uint8_t lane_num,\n\t\t\t\t\t   uint8_t lane_set);\nextern void atombios_dig_transmitter_setup2(struct drm_encoder *encoder,\n\t\t\t\t\t    int action, uint8_t lane_num,\n\t\t\t\t\t    uint8_t lane_set, int fe);\nextern void radeon_atom_ext_encoder_setup_ddc(struct drm_encoder *encoder);\nextern struct drm_encoder *radeon_get_external_encoder(struct drm_encoder *encoder);\nvoid radeon_atom_copy_swap(u8 *dst, u8 *src, u8 num_bytes, bool to_le);\n\nextern void radeon_i2c_init(struct radeon_device *rdev);\nextern void radeon_i2c_fini(struct radeon_device *rdev);\nextern void radeon_combios_i2c_init(struct radeon_device *rdev);\nextern void radeon_atombios_i2c_init(struct radeon_device *rdev);\nextern void radeon_i2c_add(struct radeon_device *rdev,\n\t\t\t   struct radeon_i2c_bus_rec *rec,\n\t\t\t   const char *name);\nextern struct radeon_i2c_chan *radeon_i2c_lookup(struct radeon_device *rdev,\n\t\t\t\t\t\t struct radeon_i2c_bus_rec *i2c_bus);\nextern struct radeon_i2c_chan *radeon_i2c_create(struct drm_device *dev,\n\t\t\t\t\t\t struct radeon_i2c_bus_rec *rec,\n\t\t\t\t\t\t const char *name);\nextern void radeon_i2c_destroy(struct radeon_i2c_chan *i2c);\nextern void radeon_i2c_get_byte(struct radeon_i2c_chan *i2c_bus,\n\t\t\t\tu8 slave_addr,\n\t\t\t\tu8 addr,\n\t\t\t\tu8 *val);\nextern void radeon_i2c_put_byte(struct radeon_i2c_chan *i2c,\n\t\t\t\tu8 slave_addr,\n\t\t\t\tu8 addr,\n\t\t\t\tu8 val);\nextern void radeon_router_select_ddc_port(struct radeon_connector *radeon_connector);\nextern void radeon_router_select_cd_port(struct radeon_connector *radeon_connector);\nextern bool radeon_ddc_probe(struct radeon_connector *radeon_connector, bool use_aux);\n\nextern bool radeon_atombios_get_ppll_ss_info(struct radeon_device *rdev,\n\t\t\t\t\t     struct radeon_atom_ss *ss,\n\t\t\t\t\t     int id);\nextern bool radeon_atombios_get_asic_ss_info(struct radeon_device *rdev,\n\t\t\t\t\t     struct radeon_atom_ss *ss,\n\t\t\t\t\t     int id, u32 clock);\nextern struct radeon_gpio_rec radeon_atombios_lookup_gpio(struct radeon_device *rdev,\n\t\t\t\t\t\t\t  u8 id);\n\nextern void radeon_compute_pll_legacy(struct radeon_pll *pll,\n\t\t\t\t      uint64_t freq,\n\t\t\t\t      uint32_t *dot_clock_p,\n\t\t\t\t      uint32_t *fb_div_p,\n\t\t\t\t      uint32_t *frac_fb_div_p,\n\t\t\t\t      uint32_t *ref_div_p,\n\t\t\t\t      uint32_t *post_div_p);\n\nextern void radeon_compute_pll_avivo(struct radeon_pll *pll,\n\t\t\t\t     u32 freq,\n\t\t\t\t     u32 *dot_clock_p,\n\t\t\t\t     u32 *fb_div_p,\n\t\t\t\t     u32 *frac_fb_div_p,\n\t\t\t\t     u32 *ref_div_p,\n\t\t\t\t     u32 *post_div_p);\n\nextern void radeon_setup_encoder_clones(struct drm_device *dev);\n\nstruct drm_encoder *radeon_encoder_legacy_lvds_add(struct drm_device *dev, int bios_index);\nstruct drm_encoder *radeon_encoder_legacy_primary_dac_add(struct drm_device *dev, int bios_index, int with_tv);\nstruct drm_encoder *radeon_encoder_legacy_tv_dac_add(struct drm_device *dev, int bios_index, int with_tv);\nstruct drm_encoder *radeon_encoder_legacy_tmds_int_add(struct drm_device *dev, int bios_index);\nstruct drm_encoder *radeon_encoder_legacy_tmds_ext_add(struct drm_device *dev, int bios_index);\nextern void atombios_dvo_setup(struct drm_encoder *encoder, int action);\nextern void atombios_digital_setup(struct drm_encoder *encoder, int action);\nextern int atombios_get_encoder_mode(struct drm_encoder *encoder);\nextern bool atombios_set_edp_panel_power(struct drm_connector *connector, int action);\nextern void radeon_encoder_set_active_device(struct drm_encoder *encoder);\nextern bool radeon_encoder_is_digital(struct drm_encoder *encoder);\n\nextern void radeon_crtc_load_lut(struct drm_crtc *crtc);\nextern int atombios_crtc_set_base(struct drm_crtc *crtc, int x, int y,\n\t\t\t\t   struct drm_framebuffer *old_fb);\nextern int atombios_crtc_set_base_atomic(struct drm_crtc *crtc,\n\t\t\t\t\t struct drm_framebuffer *fb,\n\t\t\t\t\t int x, int y,\n\t\t\t\t\t enum mode_set_atomic state);\nextern int atombios_crtc_mode_set(struct drm_crtc *crtc,\n\t\t\t\t   struct drm_display_mode *mode,\n\t\t\t\t   struct drm_display_mode *adjusted_mode,\n\t\t\t\t   int x, int y,\n\t\t\t\t   struct drm_framebuffer *old_fb);\nextern void atombios_crtc_dpms(struct drm_crtc *crtc, int mode);\n\nextern int radeon_crtc_set_base(struct drm_crtc *crtc, int x, int y,\n\t\t\t\t struct drm_framebuffer *old_fb);\nextern int radeon_crtc_set_base_atomic(struct drm_crtc *crtc,\n\t\t\t\t       struct drm_framebuffer *fb,\n\t\t\t\t       int x, int y,\n\t\t\t\t       enum mode_set_atomic state);\nextern int radeon_crtc_do_set_base(struct drm_crtc *crtc,\n\t\t\t\t   struct drm_framebuffer *fb,\n\t\t\t\t   int x, int y, int atomic);\nextern int radeon_crtc_cursor_set2(struct drm_crtc *crtc,\n\t\t\t\t   struct drm_file *file_priv,\n\t\t\t\t   uint32_t handle,\n\t\t\t\t   uint32_t width,\n\t\t\t\t   uint32_t height,\n\t\t\t\t   int32_t hot_x,\n\t\t\t\t   int32_t hot_y);\nextern int radeon_crtc_cursor_move(struct drm_crtc *crtc,\n\t\t\t\t   int x, int y);\nextern void radeon_cursor_reset(struct drm_crtc *crtc);\n\nextern int radeon_get_crtc_scanoutpos(struct drm_device *dev, unsigned int pipe,\n\t\t\t\t      unsigned int flags, int *vpos, int *hpos,\n\t\t\t\t      ktime_t *stime, ktime_t *etime,\n\t\t\t\t      const struct drm_display_mode *mode);\n\nextern bool\nradeon_get_crtc_scanout_position(struct drm_crtc *crtc, bool in_vblank_irq,\n\t\t\t\t int *vpos, int *hpos,\n\t\t\t\t ktime_t *stime, ktime_t *etime,\n\t\t\t\t const struct drm_display_mode *mode);\n\nextern bool radeon_combios_check_hardcoded_edid(struct radeon_device *rdev);\nextern struct edid *\nradeon_bios_get_hardcoded_edid(struct radeon_device *rdev);\nextern bool radeon_atom_get_clock_info(struct drm_device *dev);\nextern bool radeon_combios_get_clock_info(struct drm_device *dev);\nextern struct radeon_encoder_atom_dig *\nradeon_atombios_get_lvds_info(struct radeon_encoder *encoder);\nextern bool radeon_atombios_get_tmds_info(struct radeon_encoder *encoder,\n\t\t\t\t\t  struct radeon_encoder_int_tmds *tmds);\nextern bool radeon_legacy_get_tmds_info_from_combios(struct radeon_encoder *encoder,\n\t\t\t\t\t\t     struct radeon_encoder_int_tmds *tmds);\nextern bool radeon_legacy_get_tmds_info_from_table(struct radeon_encoder *encoder,\n\t\t\t\t\t\t   struct radeon_encoder_int_tmds *tmds);\nextern bool radeon_legacy_get_ext_tmds_info_from_combios(struct radeon_encoder *encoder,\n\t\t\t\t\t\t\t struct radeon_encoder_ext_tmds *tmds);\nextern bool radeon_legacy_get_ext_tmds_info_from_table(struct radeon_encoder *encoder,\n\t\t\t\t\t\t       struct radeon_encoder_ext_tmds *tmds);\nextern struct radeon_encoder_primary_dac *\nradeon_atombios_get_primary_dac_info(struct radeon_encoder *encoder);\nextern struct radeon_encoder_tv_dac *\nradeon_atombios_get_tv_dac_info(struct radeon_encoder *encoder);\nextern struct radeon_encoder_lvds *\nradeon_combios_get_lvds_info(struct radeon_encoder *encoder);\nextern struct radeon_encoder_tv_dac *\nradeon_combios_get_tv_dac_info(struct radeon_encoder *encoder);\nextern struct radeon_encoder_primary_dac *\nradeon_combios_get_primary_dac_info(struct radeon_encoder *encoder);\nextern bool radeon_combios_external_tmds_setup(struct drm_encoder *encoder);\nextern void radeon_external_tmds_setup(struct drm_encoder *encoder);\nextern void radeon_combios_output_lock(struct drm_encoder *encoder, bool lock);\nextern void radeon_combios_initialize_bios_scratch_regs(struct drm_device *dev);\nextern void radeon_atom_output_lock(struct drm_encoder *encoder, bool lock);\nextern void radeon_atom_initialize_bios_scratch_regs(struct drm_device *dev);\nextern void radeon_save_bios_scratch_regs(struct radeon_device *rdev);\nextern void radeon_restore_bios_scratch_regs(struct radeon_device *rdev);\nextern void\nradeon_atombios_encoder_crtc_scratch_regs(struct drm_encoder *encoder, int crtc);\nextern void\nradeon_atombios_encoder_dpms_scratch_regs(struct drm_encoder *encoder, bool on);\nextern void\nradeon_combios_encoder_crtc_scratch_regs(struct drm_encoder *encoder, int crtc);\nextern void\nradeon_combios_encoder_dpms_scratch_regs(struct drm_encoder *encoder, bool on);\nint radeon_framebuffer_init(struct drm_device *dev,\n\t\t\t     struct drm_framebuffer *rfb,\n\t\t\t     const struct drm_mode_fb_cmd2 *mode_cmd,\n\t\t\t     struct drm_gem_object *obj);\n\nint radeonfb_remove(struct drm_device *dev, struct drm_framebuffer *fb);\nbool radeon_get_legacy_connector_info_from_bios(struct drm_device *dev);\nbool radeon_get_legacy_connector_info_from_table(struct drm_device *dev);\nvoid radeon_atombios_init_crtc(struct drm_device *dev,\n\t\t\t       struct radeon_crtc *radeon_crtc);\nvoid radeon_legacy_init_crtc(struct drm_device *dev,\n\t\t\t     struct radeon_crtc *radeon_crtc);\n\nvoid radeon_get_clock_info(struct drm_device *dev);\n\nextern bool radeon_get_atom_connector_info_from_object_table(struct drm_device *dev);\nextern bool radeon_get_atom_connector_info_from_supported_devices_table(struct drm_device *dev);\n\nvoid radeon_enc_destroy(struct drm_encoder *encoder);\nvoid radeon_copy_fb(struct drm_device *dev, struct drm_gem_object *dst_obj);\nvoid radeon_combios_asic_init(struct drm_device *dev);\nbool radeon_crtc_scaling_mode_fixup(struct drm_crtc *crtc,\n\t\t\t\t\tconst struct drm_display_mode *mode,\n\t\t\t\t\tstruct drm_display_mode *adjusted_mode);\nvoid radeon_panel_mode_fixup(struct drm_encoder *encoder,\n\t\t\t     struct drm_display_mode *adjusted_mode);\nvoid atom_rv515_force_tv_scaler(struct radeon_device *rdev, struct radeon_crtc *radeon_crtc);\n\n \nvoid radeon_legacy_tv_adjust_crtc_reg(struct drm_encoder *encoder,\n\t\t\t\t      uint32_t *h_total_disp, uint32_t *h_sync_strt_wid,\n\t\t\t\t      uint32_t *v_total_disp, uint32_t *v_sync_strt_wid);\nvoid radeon_legacy_tv_adjust_pll1(struct drm_encoder *encoder,\n\t\t\t\t  uint32_t *htotal_cntl, uint32_t *ppll_ref_div,\n\t\t\t\t  uint32_t *ppll_div_3, uint32_t *pixclks_cntl);\nvoid radeon_legacy_tv_adjust_pll2(struct drm_encoder *encoder,\n\t\t\t\t  uint32_t *htotal2_cntl, uint32_t *p2pll_ref_div,\n\t\t\t\t  uint32_t *p2pll_div_0, uint32_t *pixclks_cntl);\nvoid radeon_legacy_tv_mode_set(struct drm_encoder *encoder,\n\t\t\t       struct drm_display_mode *mode,\n\t\t\t       struct drm_display_mode *adjusted_mode);\n\n \nvoid avivo_program_fmt(struct drm_encoder *encoder);\nvoid dce3_program_fmt(struct drm_encoder *encoder);\nvoid dce4_program_fmt(struct drm_encoder *encoder);\nvoid dce8_program_fmt(struct drm_encoder *encoder);\n\n \n#if defined(CONFIG_DRM_FBDEV_EMULATION)\nvoid radeon_fbdev_setup(struct radeon_device *rdev);\nvoid radeon_fbdev_set_suspend(struct radeon_device *rdev, int state);\nbool radeon_fbdev_robj_is_fb(struct radeon_device *rdev, struct radeon_bo *robj);\n#else\nstatic inline void radeon_fbdev_setup(struct radeon_device *rdev)\n{ }\nstatic inline void radeon_fbdev_set_suspend(struct radeon_device *rdev, int state)\n{ }\nstatic inline bool radeon_fbdev_robj_is_fb(struct radeon_device *rdev, struct radeon_bo *robj)\n{\n\treturn false;\n}\n#endif\n\nvoid radeon_crtc_handle_vblank(struct radeon_device *rdev, int crtc_id);\n\nvoid radeon_crtc_handle_flip(struct radeon_device *rdev, int crtc_id);\n\nint radeon_atom_pick_dig_encoder(struct drm_encoder *encoder, int fe_idx);\nvoid radeon_atom_release_dig_encoder(struct radeon_device *rdev, int enc_idx);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}