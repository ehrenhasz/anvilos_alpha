{
  "module_name": "r200.c",
  "hash_id": "fd74485c953e8fbe1becb1bce9e9df32baa5afd3b443f2fa5fb93f1f6e2cc5aa",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/radeon/r200.c",
  "human_readable_source": " \n\n#include <drm/radeon_drm.h>\n#include \"radeon_reg.h\"\n#include \"radeon.h\"\n#include \"radeon_asic.h\"\n\n#include \"r100d.h\"\n#include \"r200_reg_safe.h\"\n\n#include \"r100_track.h\"\n\nstatic int r200_get_vtx_size_0(uint32_t vtx_fmt_0)\n{\n\tint vtx_size, i;\n\tvtx_size = 2;\n\n\tif (vtx_fmt_0 & R200_VTX_Z0)\n\t\tvtx_size++;\n\tif (vtx_fmt_0 & R200_VTX_W0)\n\t\tvtx_size++;\n\t \n\tif (vtx_fmt_0 & (0x7 << R200_VTX_WEIGHT_COUNT_SHIFT))\n\t\tvtx_size += (vtx_fmt_0 >> R200_VTX_WEIGHT_COUNT_SHIFT) & 0x7;\n\tif (vtx_fmt_0 & R200_VTX_PV_MATRIX_SEL)\n\t\tvtx_size++;\n\tif (vtx_fmt_0 & R200_VTX_N0)\n\t\tvtx_size += 3;\n\tif (vtx_fmt_0 & R200_VTX_POINT_SIZE)\n\t\tvtx_size++;\n\tif (vtx_fmt_0 & R200_VTX_DISCRETE_FOG)\n\t\tvtx_size++;\n\tif (vtx_fmt_0 & R200_VTX_SHININESS_0)\n\t\tvtx_size++;\n\tif (vtx_fmt_0 & R200_VTX_SHININESS_1)\n\t\tvtx_size++;\n\tfor (i = 0; i < 8; i++) {\n\t\tint color_size = (vtx_fmt_0 >> (11 + 2*i)) & 0x3;\n\t\tswitch (color_size) {\n\t\tcase 0: break;\n\t\tcase 1: vtx_size++; break;\n\t\tcase 2: vtx_size += 3; break;\n\t\tcase 3: vtx_size += 4; break;\n\t\t}\n\t}\n\tif (vtx_fmt_0 & R200_VTX_XY1)\n\t\tvtx_size += 2;\n\tif (vtx_fmt_0 & R200_VTX_Z1)\n\t\tvtx_size++;\n\tif (vtx_fmt_0 & R200_VTX_W1)\n\t\tvtx_size++;\n\tif (vtx_fmt_0 & R200_VTX_N1)\n\t\tvtx_size += 3;\n\treturn vtx_size;\n}\n\nstruct radeon_fence *r200_copy_dma(struct radeon_device *rdev,\n\t\t\t\t   uint64_t src_offset,\n\t\t\t\t   uint64_t dst_offset,\n\t\t\t\t   unsigned num_gpu_pages,\n\t\t\t\t   struct dma_resv *resv)\n{\n\tstruct radeon_ring *ring = &rdev->ring[RADEON_RING_TYPE_GFX_INDEX];\n\tstruct radeon_fence *fence;\n\tuint32_t size;\n\tuint32_t cur_size;\n\tint i, num_loops;\n\tint r = 0;\n\n\t \n\tsize = num_gpu_pages << RADEON_GPU_PAGE_SHIFT;\n\tnum_loops = DIV_ROUND_UP(size, 0x1FFFFF);\n\tr = radeon_ring_lock(rdev, ring, num_loops * 4 + 64);\n\tif (r) {\n\t\tDRM_ERROR(\"radeon: moving bo (%d).\\n\", r);\n\t\treturn ERR_PTR(r);\n\t}\n\t \n\tradeon_ring_write(ring, PACKET0(RADEON_WAIT_UNTIL, 0));\n\tradeon_ring_write(ring, (1 << 16));\n\tfor (i = 0; i < num_loops; i++) {\n\t\tcur_size = size;\n\t\tif (cur_size > 0x1FFFFF) {\n\t\t\tcur_size = 0x1FFFFF;\n\t\t}\n\t\tsize -= cur_size;\n\t\tradeon_ring_write(ring, PACKET0(0x720, 2));\n\t\tradeon_ring_write(ring, src_offset);\n\t\tradeon_ring_write(ring, dst_offset);\n\t\tradeon_ring_write(ring, cur_size | (1 << 31) | (1 << 30));\n\t\tsrc_offset += cur_size;\n\t\tdst_offset += cur_size;\n\t}\n\tradeon_ring_write(ring, PACKET0(RADEON_WAIT_UNTIL, 0));\n\tradeon_ring_write(ring, RADEON_WAIT_DMA_GUI_IDLE);\n\tr = radeon_fence_emit(rdev, &fence, RADEON_RING_TYPE_GFX_INDEX);\n\tif (r) {\n\t\tradeon_ring_unlock_undo(rdev, ring);\n\t\treturn ERR_PTR(r);\n\t}\n\tradeon_ring_unlock_commit(rdev, ring, false);\n\treturn fence;\n}\n\n\nstatic int r200_get_vtx_size_1(uint32_t vtx_fmt_1)\n{\n\tint vtx_size, i, tex_size;\n\tvtx_size = 0;\n\tfor (i = 0; i < 6; i++) {\n\t\ttex_size = (vtx_fmt_1 >> (i * 3)) & 0x7;\n\t\tif (tex_size > 4)\n\t\t\tcontinue;\n\t\tvtx_size += tex_size;\n\t}\n\treturn vtx_size;\n}\n\nint r200_packet0_check(struct radeon_cs_parser *p,\n\t\t       struct radeon_cs_packet *pkt,\n\t\t       unsigned idx, unsigned reg)\n{\n\tstruct radeon_bo_list *reloc;\n\tstruct r100_cs_track *track;\n\tvolatile uint32_t *ib;\n\tuint32_t tmp;\n\tint r;\n\tint i;\n\tint face;\n\tu32 tile_flags = 0;\n\tu32 idx_value;\n\n\tib = p->ib.ptr;\n\ttrack = (struct r100_cs_track *)p->track;\n\tidx_value = radeon_get_ib_value(p, idx);\n\tswitch (reg) {\n\tcase RADEON_CRTC_GUI_TRIG_VLINE:\n\t\tr = r100_cs_packet_parse_vline(p);\n\t\tif (r) {\n\t\t\tDRM_ERROR(\"No reloc for ib[%d]=0x%04X\\n\",\n\t\t\t\t  idx, reg);\n\t\t\tradeon_cs_dump_packet(p, pkt);\n\t\t\treturn r;\n\t\t}\n\t\tbreak;\n\t\t \n\tcase RADEON_DST_PITCH_OFFSET:\n\tcase RADEON_SRC_PITCH_OFFSET:\n\t\tr = r100_reloc_pitch_offset(p, pkt, idx, reg);\n\t\tif (r)\n\t\t\treturn r;\n\t\tbreak;\n\tcase RADEON_RB3D_DEPTHOFFSET:\n\t\tr = radeon_cs_packet_next_reloc(p, &reloc, 0);\n\t\tif (r) {\n\t\t\tDRM_ERROR(\"No reloc for ib[%d]=0x%04X\\n\",\n\t\t\t\t  idx, reg);\n\t\t\tradeon_cs_dump_packet(p, pkt);\n\t\t\treturn r;\n\t\t}\n\t\ttrack->zb.robj = reloc->robj;\n\t\ttrack->zb.offset = idx_value;\n\t\ttrack->zb_dirty = true;\n\t\tib[idx] = idx_value + ((u32)reloc->gpu_offset);\n\t\tbreak;\n\tcase RADEON_RB3D_COLOROFFSET:\n\t\tr = radeon_cs_packet_next_reloc(p, &reloc, 0);\n\t\tif (r) {\n\t\t\tDRM_ERROR(\"No reloc for ib[%d]=0x%04X\\n\",\n\t\t\t\t  idx, reg);\n\t\t\tradeon_cs_dump_packet(p, pkt);\n\t\t\treturn r;\n\t\t}\n\t\ttrack->cb[0].robj = reloc->robj;\n\t\ttrack->cb[0].offset = idx_value;\n\t\ttrack->cb_dirty = true;\n\t\tib[idx] = idx_value + ((u32)reloc->gpu_offset);\n\t\tbreak;\n\tcase R200_PP_TXOFFSET_0:\n\tcase R200_PP_TXOFFSET_1:\n\tcase R200_PP_TXOFFSET_2:\n\tcase R200_PP_TXOFFSET_3:\n\tcase R200_PP_TXOFFSET_4:\n\tcase R200_PP_TXOFFSET_5:\n\t\ti = (reg - R200_PP_TXOFFSET_0) / 24;\n\t\tr = radeon_cs_packet_next_reloc(p, &reloc, 0);\n\t\tif (r) {\n\t\t\tDRM_ERROR(\"No reloc for ib[%d]=0x%04X\\n\",\n\t\t\t\t  idx, reg);\n\t\t\tradeon_cs_dump_packet(p, pkt);\n\t\t\treturn r;\n\t\t}\n\t\tif (!(p->cs_flags & RADEON_CS_KEEP_TILING_FLAGS)) {\n\t\t\tif (reloc->tiling_flags & RADEON_TILING_MACRO)\n\t\t\t\ttile_flags |= R200_TXO_MACRO_TILE;\n\t\t\tif (reloc->tiling_flags & RADEON_TILING_MICRO)\n\t\t\t\ttile_flags |= R200_TXO_MICRO_TILE;\n\n\t\t\ttmp = idx_value & ~(0x7 << 2);\n\t\t\ttmp |= tile_flags;\n\t\t\tib[idx] = tmp + ((u32)reloc->gpu_offset);\n\t\t} else\n\t\t\tib[idx] = idx_value + ((u32)reloc->gpu_offset);\n\t\ttrack->textures[i].robj = reloc->robj;\n\t\ttrack->tex_dirty = true;\n\t\tbreak;\n\tcase R200_PP_CUBIC_OFFSET_F1_0:\n\tcase R200_PP_CUBIC_OFFSET_F2_0:\n\tcase R200_PP_CUBIC_OFFSET_F3_0:\n\tcase R200_PP_CUBIC_OFFSET_F4_0:\n\tcase R200_PP_CUBIC_OFFSET_F5_0:\n\tcase R200_PP_CUBIC_OFFSET_F1_1:\n\tcase R200_PP_CUBIC_OFFSET_F2_1:\n\tcase R200_PP_CUBIC_OFFSET_F3_1:\n\tcase R200_PP_CUBIC_OFFSET_F4_1:\n\tcase R200_PP_CUBIC_OFFSET_F5_1:\n\tcase R200_PP_CUBIC_OFFSET_F1_2:\n\tcase R200_PP_CUBIC_OFFSET_F2_2:\n\tcase R200_PP_CUBIC_OFFSET_F3_2:\n\tcase R200_PP_CUBIC_OFFSET_F4_2:\n\tcase R200_PP_CUBIC_OFFSET_F5_2:\n\tcase R200_PP_CUBIC_OFFSET_F1_3:\n\tcase R200_PP_CUBIC_OFFSET_F2_3:\n\tcase R200_PP_CUBIC_OFFSET_F3_3:\n\tcase R200_PP_CUBIC_OFFSET_F4_3:\n\tcase R200_PP_CUBIC_OFFSET_F5_3:\n\tcase R200_PP_CUBIC_OFFSET_F1_4:\n\tcase R200_PP_CUBIC_OFFSET_F2_4:\n\tcase R200_PP_CUBIC_OFFSET_F3_4:\n\tcase R200_PP_CUBIC_OFFSET_F4_4:\n\tcase R200_PP_CUBIC_OFFSET_F5_4:\n\tcase R200_PP_CUBIC_OFFSET_F1_5:\n\tcase R200_PP_CUBIC_OFFSET_F2_5:\n\tcase R200_PP_CUBIC_OFFSET_F3_5:\n\tcase R200_PP_CUBIC_OFFSET_F4_5:\n\tcase R200_PP_CUBIC_OFFSET_F5_5:\n\t\ti = (reg - R200_PP_TXOFFSET_0) / 24;\n\t\tface = (reg - ((i * 24) + R200_PP_TXOFFSET_0)) / 4;\n\t\tr = radeon_cs_packet_next_reloc(p, &reloc, 0);\n\t\tif (r) {\n\t\t\tDRM_ERROR(\"No reloc for ib[%d]=0x%04X\\n\",\n\t\t\t\t  idx, reg);\n\t\t\tradeon_cs_dump_packet(p, pkt);\n\t\t\treturn r;\n\t\t}\n\t\ttrack->textures[i].cube_info[face - 1].offset = idx_value;\n\t\tib[idx] = idx_value + ((u32)reloc->gpu_offset);\n\t\ttrack->textures[i].cube_info[face - 1].robj = reloc->robj;\n\t\ttrack->tex_dirty = true;\n\t\tbreak;\n\tcase RADEON_RE_WIDTH_HEIGHT:\n\t\ttrack->maxy = ((idx_value >> 16) & 0x7FF);\n\t\ttrack->cb_dirty = true;\n\t\ttrack->zb_dirty = true;\n\t\tbreak;\n\tcase RADEON_RB3D_COLORPITCH:\n\t\tr = radeon_cs_packet_next_reloc(p, &reloc, 0);\n\t\tif (r) {\n\t\t\tDRM_ERROR(\"No reloc for ib[%d]=0x%04X\\n\",\n\t\t\t\t  idx, reg);\n\t\t\tradeon_cs_dump_packet(p, pkt);\n\t\t\treturn r;\n\t\t}\n\n\t\tif (!(p->cs_flags & RADEON_CS_KEEP_TILING_FLAGS)) {\n\t\t\tif (reloc->tiling_flags & RADEON_TILING_MACRO)\n\t\t\t\ttile_flags |= RADEON_COLOR_TILE_ENABLE;\n\t\t\tif (reloc->tiling_flags & RADEON_TILING_MICRO)\n\t\t\t\ttile_flags |= RADEON_COLOR_MICROTILE_ENABLE;\n\n\t\t\ttmp = idx_value & ~(0x7 << 16);\n\t\t\ttmp |= tile_flags;\n\t\t\tib[idx] = tmp;\n\t\t} else\n\t\t\tib[idx] = idx_value;\n\n\t\ttrack->cb[0].pitch = idx_value & RADEON_COLORPITCH_MASK;\n\t\ttrack->cb_dirty = true;\n\t\tbreak;\n\tcase RADEON_RB3D_DEPTHPITCH:\n\t\ttrack->zb.pitch = idx_value & RADEON_DEPTHPITCH_MASK;\n\t\ttrack->zb_dirty = true;\n\t\tbreak;\n\tcase RADEON_RB3D_CNTL:\n\t\tswitch ((idx_value >> RADEON_RB3D_COLOR_FORMAT_SHIFT) & 0x1f) {\n\t\tcase 7:\n\t\tcase 8:\n\t\tcase 9:\n\t\tcase 11:\n\t\tcase 12:\n\t\t\ttrack->cb[0].cpp = 1;\n\t\t\tbreak;\n\t\tcase 3:\n\t\tcase 4:\n\t\tcase 15:\n\t\t\ttrack->cb[0].cpp = 2;\n\t\t\tbreak;\n\t\tcase 6:\n\t\t\ttrack->cb[0].cpp = 4;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tDRM_ERROR(\"Invalid color buffer format (%d) !\\n\",\n\t\t\t\t  ((idx_value >> RADEON_RB3D_COLOR_FORMAT_SHIFT) & 0x1f));\n\t\t\treturn -EINVAL;\n\t\t}\n\t\tif (idx_value & RADEON_DEPTHXY_OFFSET_ENABLE) {\n\t\t\tDRM_ERROR(\"No support for depth xy offset in kms\\n\");\n\t\t\treturn -EINVAL;\n\t\t}\n\n\t\ttrack->z_enabled = !!(idx_value & RADEON_Z_ENABLE);\n\t\ttrack->cb_dirty = true;\n\t\ttrack->zb_dirty = true;\n\t\tbreak;\n\tcase RADEON_RB3D_ZSTENCILCNTL:\n\t\tswitch (idx_value & 0xf) {\n\t\tcase 0:\n\t\t\ttrack->zb.cpp = 2;\n\t\t\tbreak;\n\t\tcase 2:\n\t\tcase 3:\n\t\tcase 4:\n\t\tcase 5:\n\t\tcase 9:\n\t\tcase 11:\n\t\t\ttrack->zb.cpp = 4;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t\ttrack->zb_dirty = true;\n\t\tbreak;\n\tcase RADEON_RB3D_ZPASS_ADDR:\n\t\tr = radeon_cs_packet_next_reloc(p, &reloc, 0);\n\t\tif (r) {\n\t\t\tDRM_ERROR(\"No reloc for ib[%d]=0x%04X\\n\",\n\t\t\t\t  idx, reg);\n\t\t\tradeon_cs_dump_packet(p, pkt);\n\t\t\treturn r;\n\t\t}\n\t\tib[idx] = idx_value + ((u32)reloc->gpu_offset);\n\t\tbreak;\n\tcase RADEON_PP_CNTL:\n\t\t{\n\t\t\tuint32_t temp = idx_value >> 4;\n\t\t\tfor (i = 0; i < track->num_texture; i++)\n\t\t\t\ttrack->textures[i].enabled = !!(temp & (1 << i));\n\t\t\ttrack->tex_dirty = true;\n\t\t}\n\t\tbreak;\n\tcase RADEON_SE_VF_CNTL:\n\t\ttrack->vap_vf_cntl = idx_value;\n\t\tbreak;\n\tcase 0x210c:\n\t\t \n\t\ttrack->max_indx = idx_value & 0x00FFFFFFUL;\n\t\tbreak;\n\tcase R200_SE_VTX_FMT_0:\n\t\ttrack->vtx_size = r200_get_vtx_size_0(idx_value);\n\t\tbreak;\n\tcase R200_SE_VTX_FMT_1:\n\t\ttrack->vtx_size += r200_get_vtx_size_1(idx_value);\n\t\tbreak;\n\tcase R200_PP_TXSIZE_0:\n\tcase R200_PP_TXSIZE_1:\n\tcase R200_PP_TXSIZE_2:\n\tcase R200_PP_TXSIZE_3:\n\tcase R200_PP_TXSIZE_4:\n\tcase R200_PP_TXSIZE_5:\n\t\ti = (reg - R200_PP_TXSIZE_0) / 32;\n\t\ttrack->textures[i].width = (idx_value & RADEON_TEX_USIZE_MASK) + 1;\n\t\ttrack->textures[i].height = ((idx_value & RADEON_TEX_VSIZE_MASK) >> RADEON_TEX_VSIZE_SHIFT) + 1;\n\t\ttrack->tex_dirty = true;\n\t\tbreak;\n\tcase R200_PP_TXPITCH_0:\n\tcase R200_PP_TXPITCH_1:\n\tcase R200_PP_TXPITCH_2:\n\tcase R200_PP_TXPITCH_3:\n\tcase R200_PP_TXPITCH_4:\n\tcase R200_PP_TXPITCH_5:\n\t\ti = (reg - R200_PP_TXPITCH_0) / 32;\n\t\ttrack->textures[i].pitch = idx_value + 32;\n\t\ttrack->tex_dirty = true;\n\t\tbreak;\n\tcase R200_PP_TXFILTER_0:\n\tcase R200_PP_TXFILTER_1:\n\tcase R200_PP_TXFILTER_2:\n\tcase R200_PP_TXFILTER_3:\n\tcase R200_PP_TXFILTER_4:\n\tcase R200_PP_TXFILTER_5:\n\t\ti = (reg - R200_PP_TXFILTER_0) / 32;\n\t\ttrack->textures[i].num_levels = ((idx_value & R200_MAX_MIP_LEVEL_MASK)\n\t\t\t\t\t\t >> R200_MAX_MIP_LEVEL_SHIFT);\n\t\ttmp = (idx_value >> 23) & 0x7;\n\t\tif (tmp == 2 || tmp == 6)\n\t\t\ttrack->textures[i].roundup_w = false;\n\t\ttmp = (idx_value >> 27) & 0x7;\n\t\tif (tmp == 2 || tmp == 6)\n\t\t\ttrack->textures[i].roundup_h = false;\n\t\ttrack->tex_dirty = true;\n\t\tbreak;\n\tcase R200_PP_TXMULTI_CTL_0:\n\tcase R200_PP_TXMULTI_CTL_1:\n\tcase R200_PP_TXMULTI_CTL_2:\n\tcase R200_PP_TXMULTI_CTL_3:\n\tcase R200_PP_TXMULTI_CTL_4:\n\tcase R200_PP_TXMULTI_CTL_5:\n\t\ti = (reg - R200_PP_TXMULTI_CTL_0) / 32;\n\t\tbreak;\n\tcase R200_PP_TXFORMAT_X_0:\n\tcase R200_PP_TXFORMAT_X_1:\n\tcase R200_PP_TXFORMAT_X_2:\n\tcase R200_PP_TXFORMAT_X_3:\n\tcase R200_PP_TXFORMAT_X_4:\n\tcase R200_PP_TXFORMAT_X_5:\n\t\ti = (reg - R200_PP_TXFORMAT_X_0) / 32;\n\t\ttrack->textures[i].txdepth = idx_value & 0x7;\n\t\ttmp = (idx_value >> 16) & 0x3;\n\t\t \n\t\tswitch (tmp) {\n\t\tcase 0:\n\t\tcase 3:\n\t\tcase 4:\n\t\tcase 5:\n\t\tcase 6:\n\t\tcase 7:\n\t\t\t \n\t\t\ttrack->textures[i].tex_coord_type = 0;\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\t \n\t\t\ttrack->textures[i].tex_coord_type = 2;\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\t \n\t\t\ttrack->textures[i].tex_coord_type = 1;\n\t\t\tbreak;\n\t\t}\n\t\ttrack->tex_dirty = true;\n\t\tbreak;\n\tcase R200_PP_TXFORMAT_0:\n\tcase R200_PP_TXFORMAT_1:\n\tcase R200_PP_TXFORMAT_2:\n\tcase R200_PP_TXFORMAT_3:\n\tcase R200_PP_TXFORMAT_4:\n\tcase R200_PP_TXFORMAT_5:\n\t\ti = (reg - R200_PP_TXFORMAT_0) / 32;\n\t\tif (idx_value & R200_TXFORMAT_NON_POWER2) {\n\t\t\ttrack->textures[i].use_pitch = 1;\n\t\t} else {\n\t\t\ttrack->textures[i].use_pitch = 0;\n\t\t\ttrack->textures[i].width = 1 << ((idx_value & RADEON_TXFORMAT_WIDTH_MASK) >> RADEON_TXFORMAT_WIDTH_SHIFT);\n\t\t\ttrack->textures[i].height = 1 << ((idx_value & RADEON_TXFORMAT_HEIGHT_MASK) >> RADEON_TXFORMAT_HEIGHT_SHIFT);\n\t\t}\n\t\tif (idx_value & R200_TXFORMAT_LOOKUP_DISABLE)\n\t\t\ttrack->textures[i].lookup_disable = true;\n\t\tswitch ((idx_value & RADEON_TXFORMAT_FORMAT_MASK)) {\n\t\tcase R200_TXFORMAT_I8:\n\t\tcase R200_TXFORMAT_RGB332:\n\t\tcase R200_TXFORMAT_Y8:\n\t\t\ttrack->textures[i].cpp = 1;\n\t\t\ttrack->textures[i].compress_format = R100_TRACK_COMP_NONE;\n\t\t\tbreak;\n\t\tcase R200_TXFORMAT_AI88:\n\t\tcase R200_TXFORMAT_ARGB1555:\n\t\tcase R200_TXFORMAT_RGB565:\n\t\tcase R200_TXFORMAT_ARGB4444:\n\t\tcase R200_TXFORMAT_VYUY422:\n\t\tcase R200_TXFORMAT_YVYU422:\n\t\tcase R200_TXFORMAT_LDVDU655:\n\t\tcase R200_TXFORMAT_DVDU88:\n\t\tcase R200_TXFORMAT_AVYU4444:\n\t\t\ttrack->textures[i].cpp = 2;\n\t\t\ttrack->textures[i].compress_format = R100_TRACK_COMP_NONE;\n\t\t\tbreak;\n\t\tcase R200_TXFORMAT_ARGB8888:\n\t\tcase R200_TXFORMAT_RGBA8888:\n\t\tcase R200_TXFORMAT_ABGR8888:\n\t\tcase R200_TXFORMAT_BGR111110:\n\t\tcase R200_TXFORMAT_LDVDU8888:\n\t\t\ttrack->textures[i].cpp = 4;\n\t\t\ttrack->textures[i].compress_format = R100_TRACK_COMP_NONE;\n\t\t\tbreak;\n\t\tcase R200_TXFORMAT_DXT1:\n\t\t\ttrack->textures[i].cpp = 1;\n\t\t\ttrack->textures[i].compress_format = R100_TRACK_COMP_DXT1;\n\t\t\tbreak;\n\t\tcase R200_TXFORMAT_DXT23:\n\t\tcase R200_TXFORMAT_DXT45:\n\t\t\ttrack->textures[i].cpp = 1;\n\t\t\ttrack->textures[i].compress_format = R100_TRACK_COMP_DXT1;\n\t\t\tbreak;\n\t\t}\n\t\ttrack->textures[i].cube_info[4].width = 1 << ((idx_value >> 16) & 0xf);\n\t\ttrack->textures[i].cube_info[4].height = 1 << ((idx_value >> 20) & 0xf);\n\t\ttrack->tex_dirty = true;\n\t\tbreak;\n\tcase R200_PP_CUBIC_FACES_0:\n\tcase R200_PP_CUBIC_FACES_1:\n\tcase R200_PP_CUBIC_FACES_2:\n\tcase R200_PP_CUBIC_FACES_3:\n\tcase R200_PP_CUBIC_FACES_4:\n\tcase R200_PP_CUBIC_FACES_5:\n\t\ttmp = idx_value;\n\t\ti = (reg - R200_PP_CUBIC_FACES_0) / 32;\n\t\tfor (face = 0; face < 4; face++) {\n\t\t\ttrack->textures[i].cube_info[face].width = 1 << ((tmp >> (face * 8)) & 0xf);\n\t\t\ttrack->textures[i].cube_info[face].height = 1 << ((tmp >> ((face * 8) + 4)) & 0xf);\n\t\t}\n\t\ttrack->tex_dirty = true;\n\t\tbreak;\n\tdefault:\n\t\tpr_err(\"Forbidden register 0x%04X in cs at %d\\n\", reg, idx);\n\t\treturn -EINVAL;\n\t}\n\treturn 0;\n}\n\nvoid r200_set_safe_registers(struct radeon_device *rdev)\n{\n\trdev->config.r100.reg_safe_bm = r200_reg_safe_bm;\n\trdev->config.r100.reg_safe_bm_size = ARRAY_SIZE(r200_reg_safe_bm);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}