{
  "module_name": "sumo_dpm.h",
  "hash_id": "91e0c55e7744b7bb40228c041481c2c93b1f41ef23fdd88b8700b3c54f635de7",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/radeon/sumo_dpm.h",
  "human_readable_source": " \n#ifndef __SUMO_DPM_H__\n#define __SUMO_DPM_H__\n\n#include \"atom.h\"\n#include \"radeon.h\"\n\n#define SUMO_MAX_HARDWARE_POWERLEVELS 5\n#define SUMO_PM_NUMBER_OF_TC 15\n\nstruct sumo_pl {\n\tu32 sclk;\n\tu32 vddc_index;\n\tu32 ds_divider_index;\n\tu32 ss_divider_index;\n\tu32 allow_gnb_slow;\n\tu32 sclk_dpm_tdp_limit;\n};\n\n \n#define SUMO_POWERSTATE_FLAGS_FORCE_NBPS1_STATE (1 << 0)\n#define SUMO_POWERSTATE_FLAGS_BOOST_STATE       (1 << 1)\n\nstruct sumo_ps {\n\tstruct sumo_pl levels[SUMO_MAX_HARDWARE_POWERLEVELS];\n\tu32 num_levels;\n\t \n\tu32 flags;\n};\n\n#define NUMBER_OF_M3ARB_PARAM_SETS 10\n#define SUMO_MAX_NUMBER_VOLTAGES    4\n\nstruct sumo_disp_clock_voltage_mapping_table {\n\tu32 num_max_voltage_levels;\n\tu32 display_clock_frequency[SUMO_MAX_NUMBER_VOLTAGES];\n};\n\nstruct sumo_vid_mapping_entry {\n\tu16 vid_2bit;\n\tu16 vid_7bit;\n};\n\nstruct sumo_vid_mapping_table {\n\tu32 num_entries;\n\tstruct sumo_vid_mapping_entry entries[SUMO_MAX_NUMBER_VOLTAGES];\n};\n\nstruct sumo_sclk_voltage_mapping_entry {\n\tu32 sclk_frequency;\n\tu16 vid_2bit;\n\tu16 rsv;\n};\n\nstruct sumo_sclk_voltage_mapping_table {\n\tu32 num_max_dpm_entries;\n\tstruct sumo_sclk_voltage_mapping_entry entries[SUMO_MAX_HARDWARE_POWERLEVELS];\n};\n\nstruct sumo_sys_info {\n\tu32 bootup_sclk;\n\tu32 min_sclk;\n\tu32 bootup_uma_clk;\n\tu16 bootup_nb_voltage_index;\n\tu8 htc_tmp_lmt;\n\tu8 htc_hyst_lmt;\n\tstruct sumo_sclk_voltage_mapping_table sclk_voltage_mapping_table;\n\tstruct sumo_disp_clock_voltage_mapping_table disp_clk_voltage_mapping_table;\n\tstruct sumo_vid_mapping_table vid_mapping_table;\n\tu32 csr_m3_arb_cntl_default[NUMBER_OF_M3ARB_PARAM_SETS];\n\tu32 csr_m3_arb_cntl_uvd[NUMBER_OF_M3ARB_PARAM_SETS];\n\tu32 csr_m3_arb_cntl_fs3d[NUMBER_OF_M3ARB_PARAM_SETS];\n\tu32 sclk_dpm_boost_margin;\n\tu32 sclk_dpm_throttle_margin;\n\tu32 sclk_dpm_tdp_limit_pg;\n\tu32 gnb_tdp_limit;\n\tu32 sclk_dpm_tdp_limit_boost;\n\tu32 boost_sclk;\n\tu32 boost_vid_2bit;\n\tbool enable_boost;\n};\n\nstruct sumo_power_info {\n\tu32 asi;\n\tu32 pasi;\n\tu32 bsp;\n\tu32 bsu;\n\tu32 pbsp;\n\tu32 pbsu;\n\tu32 dsp;\n\tu32 psp;\n\tu32 thermal_auto_throttling;\n\tu32 uvd_m3_arbiter;\n\tu32 fw_version;\n\tstruct sumo_sys_info sys_info;\n\tstruct sumo_pl acpi_pl;\n\tstruct sumo_pl boot_pl;\n\tstruct sumo_pl boost_pl;\n\tbool disable_gfx_power_gating_in_uvd;\n\tbool driver_nbps_policy_disable;\n\tbool enable_alt_vddnb;\n\tbool enable_dynamic_m3_arbiter;\n\tbool enable_gfx_clock_gating;\n\tbool enable_gfx_power_gating;\n\tbool enable_mg_clock_gating;\n\tbool enable_sclk_ds;\n\tbool enable_auto_thermal_throttling;\n\tbool enable_dynamic_patch_ps;\n\tbool enable_dpm;\n\tbool enable_boost;\n\tstruct radeon_ps current_rps;\n\tstruct sumo_ps current_ps;\n\tstruct radeon_ps requested_rps;\n\tstruct sumo_ps requested_ps;\n};\n\n#define SUMO_UTC_DFLT_00                     0x48\n#define SUMO_UTC_DFLT_01                     0x44\n#define SUMO_UTC_DFLT_02                     0x44\n#define SUMO_UTC_DFLT_03                     0x44\n#define SUMO_UTC_DFLT_04                     0x44\n#define SUMO_UTC_DFLT_05                     0x44\n#define SUMO_UTC_DFLT_06                     0x44\n#define SUMO_UTC_DFLT_07                     0x44\n#define SUMO_UTC_DFLT_08                     0x44\n#define SUMO_UTC_DFLT_09                     0x44\n#define SUMO_UTC_DFLT_10                     0x44\n#define SUMO_UTC_DFLT_11                     0x44\n#define SUMO_UTC_DFLT_12                     0x44\n#define SUMO_UTC_DFLT_13                     0x44\n#define SUMO_UTC_DFLT_14                     0x44\n\n#define SUMO_DTC_DFLT_00                     0x48\n#define SUMO_DTC_DFLT_01                     0x44\n#define SUMO_DTC_DFLT_02                     0x44\n#define SUMO_DTC_DFLT_03                     0x44\n#define SUMO_DTC_DFLT_04                     0x44\n#define SUMO_DTC_DFLT_05                     0x44\n#define SUMO_DTC_DFLT_06                     0x44\n#define SUMO_DTC_DFLT_07                     0x44\n#define SUMO_DTC_DFLT_08                     0x44\n#define SUMO_DTC_DFLT_09                     0x44\n#define SUMO_DTC_DFLT_10                     0x44\n#define SUMO_DTC_DFLT_11                     0x44\n#define SUMO_DTC_DFLT_12                     0x44\n#define SUMO_DTC_DFLT_13                     0x44\n#define SUMO_DTC_DFLT_14                     0x44\n\n#define SUMO_AH_DFLT               5\n\n#define SUMO_R_DFLT0               70\n#define SUMO_R_DFLT1               70\n#define SUMO_R_DFLT2               70\n#define SUMO_R_DFLT3               70\n#define SUMO_R_DFLT4               100\n\n#define SUMO_L_DFLT0               0\n#define SUMO_L_DFLT1               20\n#define SUMO_L_DFLT2               20\n#define SUMO_L_DFLT3               20\n#define SUMO_L_DFLT4               20\n#define SUMO_VRC_DFLT              0x30033\n#define SUMO_MGCGTTLOCAL0_DFLT     0\n#define SUMO_MGCGTTLOCAL1_DFLT     0\n#define SUMO_GICST_DFLT            19\n#define SUMO_SST_DFLT              8\n#define SUMO_VOLTAGEDROPT_DFLT     1\n#define SUMO_GFXPOWERGATINGT_DFLT  100\n\n \nvoid sumo_gfx_clockgating_initialize(struct radeon_device *rdev);\nvoid sumo_program_vc(struct radeon_device *rdev, u32 vrc);\nvoid sumo_clear_vc(struct radeon_device *rdev);\nvoid sumo_program_sstp(struct radeon_device *rdev);\nvoid sumo_take_smu_control(struct radeon_device *rdev, bool enable);\nvoid sumo_construct_sclk_voltage_mapping_table(struct radeon_device *rdev,\n\t\t\t\t\t       struct sumo_sclk_voltage_mapping_table *sclk_voltage_mapping_table,\n\t\t\t\t\t       ATOM_AVAILABLE_SCLK_LIST *table);\nvoid sumo_construct_vid_mapping_table(struct radeon_device *rdev,\n\t\t\t\t      struct sumo_vid_mapping_table *vid_mapping_table,\n\t\t\t\t      ATOM_AVAILABLE_SCLK_LIST *table);\nu32 sumo_convert_vid2_to_vid7(struct radeon_device *rdev,\n\t\t\t      struct sumo_vid_mapping_table *vid_mapping_table,\n\t\t\t      u32 vid_2bit);\nu32 sumo_get_sleep_divider_from_id(u32 id);\nu32 sumo_get_sleep_divider_id_from_clock(struct radeon_device *rdev,\n\t\t\t\t\t u32 sclk,\n\t\t\t\t\t u32 min_sclk_in_sr);\nstruct sumo_power_info *sumo_get_pi(struct radeon_device *rdev);\n\n \nvoid sumo_initialize_m3_arb(struct radeon_device *rdev);\nvoid sumo_smu_pg_init(struct radeon_device *rdev);\nvoid sumo_set_tdp_limit(struct radeon_device *rdev, u32 index, u32 tdp_limit);\nvoid sumo_smu_notify_alt_vddnb_change(struct radeon_device *rdev,\n\t\t\t\t      bool powersaving, bool force_nbps1);\nvoid sumo_boost_state_enable(struct radeon_device *rdev, bool enable);\nvoid sumo_enable_boost_timer(struct radeon_device *rdev);\nu32 sumo_get_running_fw_version(struct radeon_device *rdev);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}