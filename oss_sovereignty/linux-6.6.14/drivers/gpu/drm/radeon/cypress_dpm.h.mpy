{
  "module_name": "cypress_dpm.h",
  "hash_id": "e6a28408ad239e27a58f5b354f6e81c6f05ef61e0418015337b5269cf942ee02",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/radeon/cypress_dpm.h",
  "human_readable_source": " \n#ifndef __CYPRESS_DPM_H__\n#define __CYPRESS_DPM_H__\n\n#include \"rv770_dpm.h\"\n#include \"evergreen_smc.h\"\n\nstruct evergreen_mc_reg_entry {\n\tu32 mclk_max;\n\tu32 mc_data[SMC_EVERGREEN_MC_REGISTER_ARRAY_SIZE];\n};\n\nstruct evergreen_mc_reg_table {\n\tu8 last;\n\tu8 num_entries;\n\tu16 valid_flag;\n\tstruct evergreen_mc_reg_entry mc_reg_table_entry[MAX_AC_TIMING_ENTRIES];\n\tSMC_Evergreen_MCRegisterAddress mc_reg_address[SMC_EVERGREEN_MC_REGISTER_ARRAY_SIZE];\n};\n\nstruct evergreen_ulv_param {\n\tbool supported;\n\tstruct rv7xx_pl *pl;\n};\n\nstruct evergreen_arb_registers {\n\tu32 mc_arb_dram_timing;\n\tu32 mc_arb_dram_timing2;\n\tu32 mc_arb_rfsh_rate;\n\tu32 mc_arb_burst_time;\n};\n\nstruct at {\n\tu32 rlp;\n\tu32 rmp;\n\tu32 lhp;\n\tu32 lmp;\n};\n\nstruct evergreen_power_info {\n\t \n\tstruct rv7xx_power_info rv7xx;\n\t \n\tbool vddci_control;\n\tbool dynamic_ac_timing;\n\tbool abm;\n\tbool mcls;\n\tbool light_sleep;\n\tbool memory_transition;\n\tbool pcie_performance_request;\n\tbool pcie_performance_request_registered;\n\tbool sclk_deep_sleep;\n\tbool dll_default_on;\n\tbool ls_clock_gating;\n\tbool smu_uvd_hs;\n\tbool uvd_enabled;\n\t \n\tu16 acpi_vddci;\n\tu8 mvdd_high_index;\n\tu8 mvdd_low_index;\n\tu32 mclk_edc_wr_enable_threshold;\n\tstruct evergreen_mc_reg_table mc_reg_table;\n\tstruct atom_voltage_table vddc_voltage_table;\n\tstruct atom_voltage_table vddci_voltage_table;\n\tstruct evergreen_arb_registers bootup_arb_registers;\n\tstruct evergreen_ulv_param ulv;\n\tstruct at ats[2];\n\t \n\tu16 mc_reg_table_start;\n\tstruct radeon_ps current_rps;\n\tstruct rv7xx_ps current_ps;\n\tstruct radeon_ps requested_rps;\n\tstruct rv7xx_ps requested_ps;\n};\n\n#define CYPRESS_HASI_DFLT                               400000\n#define CYPRESS_MGCGTTLOCAL0_DFLT                       0x00000000\n#define CYPRESS_MGCGTTLOCAL1_DFLT                       0x00000000\n#define CYPRESS_MGCGTTLOCAL2_DFLT                       0x00000000\n#define CYPRESS_MGCGTTLOCAL3_DFLT                       0x00000000\n#define CYPRESS_MGCGCGTSSMCTRL_DFLT                     0x81944bc0\n#define REDWOOD_MGCGCGTSSMCTRL_DFLT                     0x6e944040\n#define CEDAR_MGCGCGTSSMCTRL_DFLT                       0x46944040\n#define CYPRESS_VRC_DFLT                                0xC00033\n\n#define PCIE_PERF_REQ_REMOVE_REGISTRY   0\n#define PCIE_PERF_REQ_FORCE_LOWPOWER    1\n#define PCIE_PERF_REQ_PECI_GEN1         2\n#define PCIE_PERF_REQ_PECI_GEN2         3\n#define PCIE_PERF_REQ_PECI_GEN3         4\n\nint cypress_convert_power_level_to_smc(struct radeon_device *rdev,\n\t\t\t\t       struct rv7xx_pl *pl,\n\t\t\t\t       RV770_SMC_HW_PERFORMANCE_LEVEL *level,\n\t\t\t\t       u8 watermark_level);\nint cypress_populate_smc_acpi_state(struct radeon_device *rdev,\n\t\t\t\t    RV770_SMC_STATETABLE *table);\nint cypress_populate_smc_voltage_tables(struct radeon_device *rdev,\n\t\t\t\t\tRV770_SMC_STATETABLE *table);\nint cypress_populate_smc_initial_state(struct radeon_device *rdev,\n\t\t\t\t       struct radeon_ps *radeon_initial_state,\n\t\t\t\t       RV770_SMC_STATETABLE *table);\nu32 cypress_calculate_burst_time(struct radeon_device *rdev,\n\t\t\t\t u32 engine_clock, u32 memory_clock);\nvoid cypress_notify_link_speed_change_before_state_change(struct radeon_device *rdev,\n\t\t\t\t\t\t\t  struct radeon_ps *radeon_new_state,\n\t\t\t\t\t\t\t  struct radeon_ps *radeon_current_state);\nint cypress_upload_sw_state(struct radeon_device *rdev,\n\t\t\t    struct radeon_ps *radeon_new_state);\nint cypress_upload_mc_reg_table(struct radeon_device *rdev,\n\t\t\t\tstruct radeon_ps *radeon_new_state);\nvoid cypress_program_memory_timing_parameters(struct radeon_device *rdev,\n\t\t\t\t\t      struct radeon_ps *radeon_new_state);\nvoid cypress_notify_link_speed_change_after_state_change(struct radeon_device *rdev,\n\t\t\t\t\t\t\t struct radeon_ps *radeon_new_state,\n\t\t\t\t\t\t\t struct radeon_ps *radeon_current_state);\nint cypress_construct_voltage_tables(struct radeon_device *rdev);\nint cypress_get_mvdd_configuration(struct radeon_device *rdev);\nvoid cypress_enable_spread_spectrum(struct radeon_device *rdev,\n\t\t\t\t    bool enable);\nvoid cypress_enable_display_gap(struct radeon_device *rdev);\nint cypress_get_table_locations(struct radeon_device *rdev);\nint cypress_populate_mc_reg_table(struct radeon_device *rdev,\n\t\t\t\t  struct radeon_ps *radeon_boot_state);\nvoid cypress_program_response_times(struct radeon_device *rdev);\nint cypress_notify_smc_display_change(struct radeon_device *rdev,\n\t\t\t\t      bool has_display);\nvoid cypress_enable_sclk_control(struct radeon_device *rdev,\n\t\t\t\t bool enable);\nvoid cypress_enable_mclk_control(struct radeon_device *rdev,\n\t\t\t\t bool enable);\nvoid cypress_start_dpm(struct radeon_device *rdev);\nvoid cypress_advertise_gen2_capability(struct radeon_device *rdev);\nu32 cypress_map_clkf_to_ibias(struct radeon_device *rdev, u32 clkf);\nu8 cypress_get_mclk_frequency_ratio(struct radeon_device *rdev,\n\t\t\t\t    u32 memory_clock, bool strobe_mode);\nu8 cypress_get_strobe_mode_settings(struct radeon_device *rdev, u32 mclk);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}