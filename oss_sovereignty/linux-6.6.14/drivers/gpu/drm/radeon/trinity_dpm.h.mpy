{
  "module_name": "trinity_dpm.h",
  "hash_id": "9dd3a019d6ecbb98329e2b6ffb072f9e64ec2767422030de2ea4fc2715dedac7",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/radeon/trinity_dpm.h",
  "human_readable_source": " \n#ifndef __TRINITY_DPM_H__\n#define __TRINITY_DPM_H__\n\n#include \"sumo_dpm.h\"\n\n#define TRINITY_SIZEOF_DPM_STATE_TABLE (SMU_SCLK_DPM_STATE_1_CNTL_0 - SMU_SCLK_DPM_STATE_0_CNTL_0)\n\nstruct trinity_pl {\n\tu32 sclk;\n\tu8 vddc_index;\n\tu8 ds_divider_index;\n\tu8 ss_divider_index;\n\tu8 allow_gnb_slow;\n\tu8 force_nbp_state;\n\tu8 display_wm;\n\tu8 vce_wm;\n};\n\n#define TRINITY_POWERSTATE_FLAGS_NBPS_FORCEHIGH  (1 << 0)\n#define TRINITY_POWERSTATE_FLAGS_NBPS_LOCKTOHIGH (1 << 1)\n#define TRINITY_POWERSTATE_FLAGS_NBPS_LOCKTOLOW  (1 << 2)\n\n#define TRINITY_POWERSTATE_FLAGS_BAPM_DISABLE    (1 << 0)\n\nstruct trinity_ps {\n\tu32 num_levels;\n\tstruct trinity_pl levels[SUMO_MAX_HARDWARE_POWERLEVELS];\n\n\tu32 nbps_flags;\n\tu32 bapm_flags;\n\n\tu8 Dpm0PgNbPsLo;\n\tu8 Dpm0PgNbPsHi;\n\tu8 DpmXNbPsLo;\n\tu8 DpmXNbPsHi;\n\n\tu32 vclk_low_divider;\n\tu32 vclk_high_divider;\n\tu32 dclk_low_divider;\n\tu32 dclk_high_divider;\n};\n\n#define TRINITY_NUM_NBPSTATES   4\n\nstruct trinity_uvd_clock_table_entry\n{\n\tu32 vclk;\n\tu32 dclk;\n\tu8 vclk_did;\n\tu8 dclk_did;\n\tu8 rsv[2];\n};\n\nstruct trinity_sys_info {\n\tu32 bootup_uma_clk;\n\tu32 bootup_sclk;\n\tu32 min_sclk;\n\tu32 dentist_vco_freq;\n\tu32 nb_dpm_enable;\n\tu32 nbp_mclk[TRINITY_NUM_NBPSTATES];\n\tu32 nbp_nclk[TRINITY_NUM_NBPSTATES];\n\tu16 nbp_voltage_index[TRINITY_NUM_NBPSTATES];\n\tu16 bootup_nb_voltage_index;\n\tu8 htc_tmp_lmt;\n\tu8 htc_hyst_lmt;\n\tstruct sumo_sclk_voltage_mapping_table sclk_voltage_mapping_table;\n\tstruct sumo_vid_mapping_table vid_mapping_table;\n\tu32 uma_channel_number;\n\tstruct trinity_uvd_clock_table_entry uvd_clock_table_entries[4];\n};\n\nstruct trinity_power_info {\n\tu32 at[SUMO_MAX_HARDWARE_POWERLEVELS];\n\tu32 dpm_interval;\n\tu32 thermal_auto_throttling;\n\tstruct trinity_sys_info sys_info;\n\tstruct trinity_pl boot_pl;\n\tu32 min_sclk_did;\n\tbool enable_nbps_policy;\n\tbool voltage_drop_in_dce;\n\tbool override_dynamic_mgpg;\n\tbool enable_gfx_clock_gating;\n\tbool enable_gfx_power_gating;\n\tbool enable_mg_clock_gating;\n\tbool enable_gfx_dynamic_mgpg;\n\tbool enable_auto_thermal_throttling;\n\tbool enable_dpm;\n\tbool enable_sclk_ds;\n\tbool enable_bapm;\n\tbool uvd_dpm;\n\tstruct radeon_ps current_rps;\n\tstruct trinity_ps current_ps;\n\tstruct radeon_ps requested_rps;\n\tstruct trinity_ps requested_ps;\n};\n\n#define TRINITY_AT_DFLT            30\n\n \nint trinity_dpm_bapm_enable(struct radeon_device *rdev, bool enable);\nint trinity_dpm_config(struct radeon_device *rdev, bool enable);\nint trinity_uvd_dpm_config(struct radeon_device *rdev);\nint trinity_dpm_force_state(struct radeon_device *rdev, u32 n);\nint trinity_dpm_n_levels_disabled(struct radeon_device *rdev, u32 n);\nint trinity_dpm_no_forced_level(struct radeon_device *rdev);\nint trinity_dce_enable_voltage_adjustment(struct radeon_device *rdev,\n\t\t\t\t\t  bool enable);\nint trinity_gfx_dynamic_mgpg_config(struct radeon_device *rdev);\nvoid trinity_acquire_mutex(struct radeon_device *rdev);\nvoid trinity_release_mutex(struct radeon_device *rdev);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}