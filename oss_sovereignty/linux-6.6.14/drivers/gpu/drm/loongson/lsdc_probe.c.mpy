{
  "module_name": "lsdc_probe.c",
  "hash_id": "523f9ed6d644423b26f701a1d41fdfe41eca6a62bb0fa439b4a012dfbab092f9",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/loongson/lsdc_probe.c",
  "human_readable_source": "\n \n\n#include \"lsdc_drv.h\"\n#include \"lsdc_probe.h\"\n\n \n#define LOONGSON_CPU_IMP_MASK           0xff00\n#define LOONGSON_CPU_IMP_SHIFT          8\n\n#define LOONGARCH_CPU_IMP_LS2K1000      0xa0\n#define LOONGARCH_CPU_IMP_LS2K2000      0xb0\n#define LOONGARCH_CPU_IMP_LS3A5000      0xc0\n\n#define LOONGSON_CPU_MIPS_IMP_LS2K      0x61  \n\n \n#define LOONGSON_CPU_REV_MASK           0x00ff\n\n#define LOONGARCH_CPUCFG_PRID_REG       0x0\n\n \n\nunsigned int loongson_cpu_get_prid(u8 *imp, u8 *rev)\n{\n\tunsigned int prid = 0;\n\n#if defined(__loongarch__)\n\t__asm__ volatile(\"cpucfg %0, %1\\n\\t\"\n\t\t\t: \"=&r\"(prid)\n\t\t\t: \"r\"(LOONGARCH_CPUCFG_PRID_REG)\n\t\t\t);\n#endif\n\n#if defined(__mips__)\n\t__asm__ volatile(\"mfc0\\t%0, $15\\n\\t\"\n\t\t\t: \"=r\" (prid)\n\t\t\t);\n#endif\n\n\tif (imp)\n\t\t*imp = (prid & LOONGSON_CPU_IMP_MASK) >> LOONGSON_CPU_IMP_SHIFT;\n\n\tif (rev)\n\t\t*rev = prid & LOONGSON_CPU_REV_MASK;\n\n\treturn prid;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}