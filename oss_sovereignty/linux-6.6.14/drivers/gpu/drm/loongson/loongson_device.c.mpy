{
  "module_name": "loongson_device.c",
  "hash_id": "e20fe0183e5ffd1fcc0c291b103de49bee2617649254b7cd911c1dabcc328853",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/loongson/loongson_device.c",
  "human_readable_source": "\n \n\n#include <linux/pci.h>\n\n#include \"lsdc_drv.h\"\n\nstatic const struct lsdc_kms_funcs ls7a1000_kms_funcs = {\n\t.create_i2c = lsdc_create_i2c_chan,\n\t.irq_handler = ls7a1000_dc_irq_handler,\n\t.output_init = ls7a1000_output_init,\n\t.cursor_plane_init = ls7a1000_cursor_plane_init,\n\t.primary_plane_init = lsdc_primary_plane_init,\n\t.crtc_init = ls7a1000_crtc_init,\n};\n\nstatic const struct lsdc_kms_funcs ls7a2000_kms_funcs = {\n\t.create_i2c = lsdc_create_i2c_chan,\n\t.irq_handler = ls7a2000_dc_irq_handler,\n\t.output_init = ls7a2000_output_init,\n\t.cursor_plane_init = ls7a2000_cursor_plane_init,\n\t.primary_plane_init = lsdc_primary_plane_init,\n\t.crtc_init = ls7a2000_crtc_init,\n};\n\nstatic const struct loongson_gfx_desc ls7a1000_gfx = {\n\t.dc = {\n\t\t.num_of_crtc = 2,\n\t\t.max_pixel_clk = 200000,\n\t\t.max_width = 2048,\n\t\t.max_height = 2048,\n\t\t.num_of_hw_cursor = 1,\n\t\t.hw_cursor_w = 32,\n\t\t.hw_cursor_h = 32,\n\t\t.pitch_align = 256,\n\t\t.has_vblank_counter = false,\n\t\t.funcs = &ls7a1000_kms_funcs,\n\t},\n\t.conf_reg_base = LS7A1000_CONF_REG_BASE,\n\t.gfxpll = {\n\t\t.reg_offset = LS7A1000_PLL_GFX_REG,\n\t\t.reg_size = 8,\n\t},\n\t.pixpll = {\n\t\t[0] = {\n\t\t\t.reg_offset = LS7A1000_PIXPLL0_REG,\n\t\t\t.reg_size = 8,\n\t\t},\n\t\t[1] = {\n\t\t\t.reg_offset = LS7A1000_PIXPLL1_REG,\n\t\t\t.reg_size = 8,\n\t\t},\n\t},\n\t.chip_id = CHIP_LS7A1000,\n\t.model = \"LS7A1000 bridge chipset\",\n};\n\nstatic const struct loongson_gfx_desc ls7a2000_gfx = {\n\t.dc = {\n\t\t.num_of_crtc = 2,\n\t\t.max_pixel_clk = 350000,\n\t\t.max_width = 4096,\n\t\t.max_height = 4096,\n\t\t.num_of_hw_cursor = 2,\n\t\t.hw_cursor_w = 64,\n\t\t.hw_cursor_h = 64,\n\t\t.pitch_align = 64,\n\t\t.has_vblank_counter = true,\n\t\t.funcs = &ls7a2000_kms_funcs,\n\t},\n\t.conf_reg_base = LS7A2000_CONF_REG_BASE,\n\t.gfxpll = {\n\t\t.reg_offset = LS7A2000_PLL_GFX_REG,\n\t\t.reg_size = 8,\n\t},\n\t.pixpll = {\n\t\t[0] = {\n\t\t\t.reg_offset = LS7A2000_PIXPLL0_REG,\n\t\t\t.reg_size = 8,\n\t\t},\n\t\t[1] = {\n\t\t\t.reg_offset = LS7A2000_PIXPLL1_REG,\n\t\t\t.reg_size = 8,\n\t\t},\n\t},\n\t.chip_id = CHIP_LS7A2000,\n\t.model = \"LS7A2000 bridge chipset\",\n};\n\nstatic const struct lsdc_desc *__chip_id_desc_table[] = {\n\t[CHIP_LS7A1000] = &ls7a1000_gfx.dc,\n\t[CHIP_LS7A2000] = &ls7a2000_gfx.dc,\n\t[CHIP_LS_LAST] = NULL,\n};\n\nconst struct lsdc_desc *\nlsdc_device_probe(struct pci_dev *pdev, enum loongson_chip_id chip_id)\n{\n\treturn __chip_id_desc_table[chip_id];\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}