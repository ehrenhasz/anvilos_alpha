{
  "module_name": "xen_drm_front.h",
  "hash_id": "22784c14ea02217067ac67c2366b2457cfd4ebe21a27efbc3861778dc41bca39",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/xen/xen_drm_front.h",
  "human_readable_source": " \n\n \n\n#ifndef __XEN_DRM_FRONT_H_\n#define __XEN_DRM_FRONT_H_\n\n#include <linux/scatterlist.h>\n\n#include <drm/drm_connector.h>\n#include <drm/drm_simple_kms_helper.h>\n\n#include \"xen_drm_front_cfg.h\"\n\nstruct drm_device;\nstruct drm_framebuffer;\nstruct drm_gem_object;\nstruct drm_pending_vblank_event;\n\n \n\n \n\n \n\n \n\n \n#define XEN_DRM_FRONT_WAIT_BACK_MS\t3000\n\nstruct xen_drm_front_info {\n\tstruct xenbus_device *xb_dev;\n\tstruct xen_drm_front_drm_info *drm_info;\n\n\t \n\tspinlock_t io_lock;\n\n\tint num_evt_pairs;\n\tstruct xen_drm_front_evtchnl_pair *evt_pairs;\n\tstruct xen_drm_front_cfg cfg;\n\n\t \n\tstruct list_head dbuf_list;\n};\n\nstruct xen_drm_front_drm_pipeline {\n\tstruct xen_drm_front_drm_info *drm_info;\n\n\tint index;\n\n\tstruct drm_simple_display_pipe pipe;\n\n\tstruct drm_connector conn;\n\t \n\tint width, height;\n\n\tstruct drm_pending_vblank_event *pending_event;\n\n\tstruct delayed_work pflip_to_worker;\n\n\tbool conn_connected;\n};\n\nstruct xen_drm_front_drm_info {\n\tstruct xen_drm_front_info *front_info;\n\tstruct drm_device *drm_dev;\n\n\tstruct xen_drm_front_drm_pipeline pipeline[XEN_DRM_FRONT_MAX_CRTCS];\n};\n\nstatic inline u64 xen_drm_front_fb_to_cookie(struct drm_framebuffer *fb)\n{\n\treturn (uintptr_t)fb;\n}\n\nstatic inline u64 xen_drm_front_dbuf_to_cookie(struct drm_gem_object *gem_obj)\n{\n\treturn (uintptr_t)gem_obj;\n}\n\nint xen_drm_front_mode_set(struct xen_drm_front_drm_pipeline *pipeline,\n\t\t\t   u32 x, u32 y, u32 width, u32 height,\n\t\t\t   u32 bpp, u64 fb_cookie);\n\nint xen_drm_front_dbuf_create(struct xen_drm_front_info *front_info,\n\t\t\t      u64 dbuf_cookie, u32 width, u32 height,\n\t\t\t      u32 bpp, u64 size, u32 offset, struct page **pages);\n\nint xen_drm_front_fb_attach(struct xen_drm_front_info *front_info,\n\t\t\t    u64 dbuf_cookie, u64 fb_cookie, u32 width,\n\t\t\t    u32 height, u32 pixel_format);\n\nint xen_drm_front_fb_detach(struct xen_drm_front_info *front_info,\n\t\t\t    u64 fb_cookie);\n\nint xen_drm_front_page_flip(struct xen_drm_front_info *front_info,\n\t\t\t    int conn_idx, u64 fb_cookie);\n\nvoid xen_drm_front_on_frame_done(struct xen_drm_front_info *front_info,\n\t\t\t\t int conn_idx, u64 fb_cookie);\n\nvoid xen_drm_front_gem_object_free(struct drm_gem_object *obj);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}