{
  "module_name": "rcar_du_drv.h",
  "hash_id": "df9e91b4d013945beeb88d110cfc753c2f4b0b96457204df2f82a9080f7868bf",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/renesas/rcar-du/rcar_du_drv.h",
  "human_readable_source": " \n \n\n#ifndef __RCAR_DU_DRV_H__\n#define __RCAR_DU_DRV_H__\n\n#include <linux/kernel.h>\n#include <linux/wait.h>\n\n#include <drm/drm_device.h>\n\n#include \"rcar_cmm.h\"\n#include \"rcar_du_crtc.h\"\n#include \"rcar_du_group.h\"\n#include \"rcar_du_vsp.h\"\n\nstruct clk;\nstruct device;\nstruct drm_bridge;\nstruct drm_property;\nstruct rcar_du_device;\n\n#define RCAR_DU_FEATURE_CRTC_IRQ\tBIT(0)\t \n#define RCAR_DU_FEATURE_CRTC_CLOCK\tBIT(1)\t \n#define RCAR_DU_FEATURE_VSP1_SOURCE\tBIT(2)\t \n#define RCAR_DU_FEATURE_INTERLACED\tBIT(3)\t \n#define RCAR_DU_FEATURE_TVM_SYNC\tBIT(4)\t \n#define RCAR_DU_FEATURE_NO_BLENDING\tBIT(5)\t \n\n#define RCAR_DU_QUIRK_ALIGN_128B\tBIT(0)\t \n\nenum rcar_du_output {\n\tRCAR_DU_OUTPUT_DPAD0,\n\tRCAR_DU_OUTPUT_DPAD1,\n\tRCAR_DU_OUTPUT_DSI0,\n\tRCAR_DU_OUTPUT_DSI1,\n\tRCAR_DU_OUTPUT_HDMI0,\n\tRCAR_DU_OUTPUT_HDMI1,\n\tRCAR_DU_OUTPUT_LVDS0,\n\tRCAR_DU_OUTPUT_LVDS1,\n\tRCAR_DU_OUTPUT_TCON,\n\tRCAR_DU_OUTPUT_MAX,\n};\n\n \nstruct rcar_du_output_routing {\n\tunsigned int possible_crtcs;\n\tunsigned int port;\n};\n\n \nstruct rcar_du_device_info {\n\tunsigned int gen;\n\tunsigned int features;\n\tunsigned int quirks;\n\tunsigned int channels_mask;\n\tstruct rcar_du_output_routing routes[RCAR_DU_OUTPUT_MAX];\n\tunsigned int num_lvds;\n\tunsigned int num_rpf;\n\tunsigned int dpll_mask;\n\tunsigned int dsi_clk_mask;\n\tunsigned int lvds_clk_mask;\n};\n\n#define RCAR_DU_MAX_CRTCS\t\t4\n#define RCAR_DU_MAX_GROUPS\t\tDIV_ROUND_UP(RCAR_DU_MAX_CRTCS, 2)\n#define RCAR_DU_MAX_VSPS\t\t4\n#define RCAR_DU_MAX_LVDS\t\t2\n#define RCAR_DU_MAX_DSI\t\t\t2\n\nstruct rcar_du_device {\n\tstruct device *dev;\n\tconst struct rcar_du_device_info *info;\n\n\tvoid __iomem *mmio;\n\n\tstruct drm_device ddev;\n\n\tstruct rcar_du_crtc crtcs[RCAR_DU_MAX_CRTCS];\n\tunsigned int num_crtcs;\n\n\tstruct rcar_du_group groups[RCAR_DU_MAX_GROUPS];\n\tstruct platform_device *cmms[RCAR_DU_MAX_CRTCS];\n\tstruct rcar_du_vsp vsps[RCAR_DU_MAX_VSPS];\n\tstruct drm_bridge *lvds[RCAR_DU_MAX_LVDS];\n\tstruct drm_bridge *dsi[RCAR_DU_MAX_DSI];\n\n\tstruct {\n\t\tstruct drm_property *colorkey;\n\t} props;\n\n\tunsigned int dpad0_source;\n\tunsigned int dpad1_source;\n\tunsigned int vspd1_sink;\n};\n\nstatic inline struct rcar_du_device *to_rcar_du_device(struct drm_device *dev)\n{\n\treturn container_of(dev, struct rcar_du_device, ddev);\n}\n\nstatic inline bool rcar_du_has(struct rcar_du_device *rcdu,\n\t\t\t       unsigned int feature)\n{\n\treturn rcdu->info->features & feature;\n}\n\nstatic inline bool rcar_du_needs(struct rcar_du_device *rcdu,\n\t\t\t\t unsigned int quirk)\n{\n\treturn rcdu->info->quirks & quirk;\n}\n\nstatic inline u32 rcar_du_read(struct rcar_du_device *rcdu, u32 reg)\n{\n\treturn ioread32(rcdu->mmio + reg);\n}\n\nstatic inline void rcar_du_write(struct rcar_du_device *rcdu, u32 reg, u32 data)\n{\n\tiowrite32(data, rcdu->mmio + reg);\n}\n\nconst char *rcar_du_output_name(enum rcar_du_output output);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}