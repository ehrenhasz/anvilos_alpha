{
  "module_name": "rcar_du_vsp.h",
  "hash_id": "804bf53ab149dd0297f88ec63d567458b296d56739ffc1a859c48316a04aa8d1",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/renesas/rcar-du/rcar_du_vsp.h",
  "human_readable_source": " \n \n\n#ifndef __RCAR_DU_VSP_H__\n#define __RCAR_DU_VSP_H__\n\n#include <drm/drm_plane.h>\n\nstruct drm_framebuffer;\nstruct rcar_du_format_info;\nstruct rcar_du_vsp;\nstruct sg_table;\n\nstruct rcar_du_vsp_plane {\n\tstruct drm_plane plane;\n\tstruct rcar_du_vsp *vsp;\n\tunsigned int index;\n};\n\nstruct rcar_du_vsp {\n\tunsigned int index;\n\tstruct device *vsp;\n\tstruct rcar_du_device *dev;\n\tstruct rcar_du_vsp_plane *planes;\n\tunsigned int num_planes;\n};\n\nstatic inline struct rcar_du_vsp_plane *to_rcar_vsp_plane(struct drm_plane *p)\n{\n\treturn container_of(p, struct rcar_du_vsp_plane, plane);\n}\n\n \nstruct rcar_du_vsp_plane_state {\n\tstruct drm_plane_state state;\n\n\tconst struct rcar_du_format_info *format;\n\tstruct sg_table sg_tables[3];\n};\n\nstatic inline struct rcar_du_vsp_plane_state *\nto_rcar_vsp_plane_state(struct drm_plane_state *state)\n{\n\treturn container_of(state, struct rcar_du_vsp_plane_state, state);\n}\n\n#ifdef CONFIG_DRM_RCAR_VSP\nint rcar_du_vsp_init(struct rcar_du_vsp *vsp, struct device_node *np,\n\t\t     unsigned int crtcs);\nvoid rcar_du_vsp_enable(struct rcar_du_crtc *crtc);\nvoid rcar_du_vsp_disable(struct rcar_du_crtc *crtc);\nvoid rcar_du_vsp_atomic_begin(struct rcar_du_crtc *crtc);\nvoid rcar_du_vsp_atomic_flush(struct rcar_du_crtc *crtc);\nint rcar_du_vsp_map_fb(struct rcar_du_vsp *vsp, struct drm_framebuffer *fb,\n\t\t       struct sg_table sg_tables[3]);\nvoid rcar_du_vsp_unmap_fb(struct rcar_du_vsp *vsp, struct drm_framebuffer *fb,\n\t\t\t  struct sg_table sg_tables[3]);\n#else\nstatic inline int rcar_du_vsp_init(struct rcar_du_vsp *vsp,\n\t\t\t\t   struct device_node *np,\n\t\t\t\t   unsigned int crtcs)\n{\n\treturn -ENXIO;\n}\nstatic inline void rcar_du_vsp_enable(struct rcar_du_crtc *crtc) { };\nstatic inline void rcar_du_vsp_disable(struct rcar_du_crtc *crtc) { };\nstatic inline void rcar_du_vsp_atomic_begin(struct rcar_du_crtc *crtc) { };\nstatic inline void rcar_du_vsp_atomic_flush(struct rcar_du_crtc *crtc) { };\nstatic inline int rcar_du_vsp_map_fb(struct rcar_du_vsp *vsp,\n\t\t\t\t     struct drm_framebuffer *fb,\n\t\t\t\t     struct sg_table sg_tables[3])\n{\n\treturn -ENXIO;\n}\nstatic inline void rcar_du_vsp_unmap_fb(struct rcar_du_vsp *vsp,\n\t\t\t\t\tstruct drm_framebuffer *fb,\n\t\t\t\t\tstruct sg_table sg_tables[3])\n{\n}\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}