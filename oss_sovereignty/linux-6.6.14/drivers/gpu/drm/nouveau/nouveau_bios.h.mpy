{
  "module_name": "nouveau_bios.h",
  "hash_id": "d9bb2cbe36e1beb647a3e1dc1a948c0e50e6a4e21ea4339a0fbc7ffaaaff14bc",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/nouveau/nouveau_bios.h",
  "human_readable_source": " \n\n#ifndef __NOUVEAU_DISPBIOS_H__\n#define __NOUVEAU_DISPBIOS_H__\n\n#define DCB_MAX_NUM_ENTRIES 16\n#define DCB_MAX_NUM_I2C_ENTRIES 16\n#define DCB_MAX_NUM_GPIO_ENTRIES 32\n#define DCB_MAX_NUM_CONNECTOR_ENTRIES 16\n\n#define DCB_LOC_ON_CHIP 0\n\n#define ROM16(x) get_unaligned_le16(&(x))\n#define ROM32(x) get_unaligned_le32(&(x))\n#define ROMPTR(d,x) ({            \\\n\tstruct nouveau_drm *drm = nouveau_drm((d)); \\\n\tROM16(x) ? &drm->vbios.data[ROM16(x)] : NULL; \\\n})\n\nstruct bit_entry {\n\tuint8_t  id;\n\tuint8_t  version;\n\tuint16_t length;\n\tuint16_t offset;\n\tuint8_t *data;\n};\n\nint bit_table(struct drm_device *, u8 id, struct bit_entry *);\n\n#include <subdev/bios/dcb.h>\n#include <subdev/bios/conn.h>\n\nstruct dcb_table {\n\tuint8_t version;\n\tint entries;\n\tstruct dcb_output entry[DCB_MAX_NUM_ENTRIES];\n};\n\nenum nouveau_or {\n\tDCB_OUTPUT_A = (1 << 0),\n\tDCB_OUTPUT_B = (1 << 1),\n\tDCB_OUTPUT_C = (1 << 2)\n};\n\nenum LVDS_script {\n\t \n\tLVDS_INIT = 1,\n\tLVDS_RESET,\n\tLVDS_BACKLIGHT_ON,\n\tLVDS_BACKLIGHT_OFF,\n\tLVDS_PANEL_ON,\n\tLVDS_PANEL_OFF\n};\n\nstruct nvbios {\n\tstruct drm_device *dev;\n\tenum {\n\t\tNVBIOS_BMP,\n\t\tNVBIOS_BIT\n\t} type;\n\tuint16_t offset;\n\tuint32_t length;\n\tuint8_t *data;\n\n\tuint8_t chip_version;\n\n\tuint32_t dactestval;\n\tuint32_t tvdactestval;\n\tuint8_t digital_min_front_porch;\n\tbool fp_no_ddc;\n\n\tspinlock_t lock;\n\n\tbool execute;\n\n\tuint8_t major_version;\n\tuint8_t feature_byte;\n\tbool is_mobile;\n\n\tuint32_t fmaxvco, fminvco;\n\n\tbool old_style_init;\n\tuint16_t init_script_tbls_ptr;\n\tuint16_t extra_init_script_tbl_ptr;\n\n\tuint16_t ram_restrict_tbl_ptr;\n\tuint8_t ram_restrict_group_count;\n\n\tstruct dcb_table dcb;\n\n\tstruct {\n\t\tint crtchead;\n\t} state;\n\n\tstruct {\n\t\tuint16_t fptablepointer;\t \n\t\tuint16_t fpxlatetableptr;\n\t\tint xlatwidth;\n\t\tuint16_t lvdsmanufacturerpointer;\n\t\tuint16_t fpxlatemanufacturertableptr;\n\t\tuint16_t mode_ptr;\n\t\tuint16_t xlated_entry;\n\t\tbool power_off_for_reset;\n\t\tbool reset_after_pclk_change;\n\t\tbool dual_link;\n\t\tbool link_c_increment;\n\t\tbool if_is_24bit;\n\t\tint duallink_transition_clk;\n\t\tuint8_t strapless_is_24bit;\n\t\tuint8_t *edid;\n\n\t\t \n\t\tint last_script_invoc;\n\t\tbool lvds_init_run;\n\t} fp;\n\n\tstruct {\n\t\tuint16_t output0_script_ptr;\n\t\tuint16_t output1_script_ptr;\n\t} tmds;\n\n\tstruct {\n\t\tuint16_t mem_init_tbl_ptr;\n\t\tuint16_t sdr_seq_tbl_ptr;\n\t\tuint16_t ddr_seq_tbl_ptr;\n\n\t\tstruct {\n\t\t\tuint8_t crt, tv, panel;\n\t\t} i2c_indices;\n\n\t\tuint16_t lvds_single_a_script_ptr;\n\t} legacy;\n};\n\nvoid *olddcb_table(struct drm_device *);\nvoid *olddcb_outp(struct drm_device *, u8 idx);\nint olddcb_outp_foreach(struct drm_device *, void *data,\n\t\t     int (*)(struct drm_device *, void *, int idx, u8 *outp));\nu8 *olddcb_conntab(struct drm_device *);\nu8 *olddcb_conn(struct drm_device *, u8 idx);\n\nint nouveau_bios_init(struct drm_device *);\nvoid nouveau_bios_takedown(struct drm_device *dev);\nint nouveau_run_vbios_init(struct drm_device *);\nstruct dcb_connector_table_entry *\nnouveau_bios_connector_entry(struct drm_device *, int index);\nbool nouveau_bios_fp_mode(struct drm_device *, struct drm_display_mode *);\nuint8_t *nouveau_bios_embedded_edid(struct drm_device *);\nint nouveau_bios_parse_lvds_table(struct drm_device *, int pxclk,\n\t\t\t\t\t bool *dl, bool *if_is_24bit);\nint run_tmds_table(struct drm_device *, struct dcb_output *,\n\t\t\t  int head, int pxclk);\nint call_lvds_script(struct drm_device *, struct dcb_output *, int head,\n\t\t\t    enum LVDS_script, int pxclk);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}