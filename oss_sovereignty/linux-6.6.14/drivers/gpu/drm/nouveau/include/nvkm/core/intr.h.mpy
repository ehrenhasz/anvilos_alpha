{
  "module_name": "intr.h",
  "hash_id": "068b900a55c456d3fd89d51d4b4da98a6606c0b08ce439ebd8eebd78115e423e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/nouveau/include/nvkm/core/intr.h",
  "human_readable_source": " \n#ifndef __NVKM_INTR_H__\n#define __NVKM_INTR_H__\n#include <core/os.h>\nstruct nvkm_device;\nstruct nvkm_subdev;\n\nenum nvkm_intr_prio {\n\tNVKM_INTR_PRIO_VBLANK = 0,\n\tNVKM_INTR_PRIO_NORMAL,\n\tNVKM_INTR_PRIO_NR\n};\n\nenum nvkm_intr_type {\n\tNVKM_INTR_SUBDEV   = -1,  \n\tNVKM_INTR_VECTOR_0 = 0,\n};\n\nstruct nvkm_intr {\n\tconst struct nvkm_intr_func {\n\t\tbool (*pending)(struct nvkm_intr *);\n\t\tvoid (*unarm)(struct nvkm_intr *);\n\t\tvoid (*rearm)(struct nvkm_intr *);\n\t\tvoid (*block)(struct nvkm_intr *, int leaf, u32 mask);\n\t\tvoid (*allow)(struct nvkm_intr *, int leaf, u32 mask);\n\t\tvoid (*reset)(struct nvkm_intr *, int leaf, u32 mask);\n\t} *func;\n\tconst struct nvkm_intr_data {\n\t\tint type;  \n\t\tint inst;\n\t\tint leaf;\n\t\tu32 mask;  \n\t\tbool legacy;  \n\t} *data;\n\n\tstruct nvkm_subdev *subdev;\n\tint leaves;\n\tu32 *stat;\n\tu32 *mask;\n\n\tstruct list_head head;\n};\n\nvoid nvkm_intr_ctor(struct nvkm_device *);\nvoid nvkm_intr_dtor(struct nvkm_device *);\nint nvkm_intr_install(struct nvkm_device *);\nvoid nvkm_intr_unarm(struct nvkm_device *);\nvoid nvkm_intr_rearm(struct nvkm_device *);\n\nint nvkm_intr_add(const struct nvkm_intr_func *, const struct nvkm_intr_data *,\n\t\t  struct nvkm_subdev *, int leaves, struct nvkm_intr *);\nvoid nvkm_intr_block(struct nvkm_subdev *, enum nvkm_intr_type);\nvoid nvkm_intr_allow(struct nvkm_subdev *, enum nvkm_intr_type);\n\nstruct nvkm_inth;\ntypedef irqreturn_t (*nvkm_inth_func)(struct nvkm_inth *);\n\nstruct nvkm_inth {\n\tstruct nvkm_intr *intr;\n\tint leaf;\n\tu32 mask;\n\tnvkm_inth_func func;\n\n\tatomic_t allowed;\n\n\tstruct list_head head;\n};\n\nint nvkm_inth_add(struct nvkm_intr *, enum nvkm_intr_type, enum nvkm_intr_prio,\n\t\t  struct nvkm_subdev *, nvkm_inth_func, struct nvkm_inth *);\nvoid nvkm_inth_allow(struct nvkm_inth *);\nvoid nvkm_inth_block(struct nvkm_inth *);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}