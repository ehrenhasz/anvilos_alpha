{
  "module_name": "acr.h",
  "hash_id": "d52d673c7025437f70569f8cb7fbc6a9a412db76610e80e9cb8ba2c091a87ad4",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/nouveau/include/nvfw/acr.h",
  "human_readable_source": "#ifndef __NVFW_ACR_H__\n#define __NVFW_ACR_H__\n\nstruct wpr_header {\n#define WPR_HEADER_V0_FALCON_ID_INVALID                              0xffffffff\n\tu32 falcon_id;\n\tu32 lsb_offset;\n\tu32 bootstrap_owner;\n\tu32 lazy_bootstrap;\n#define WPR_HEADER_V0_STATUS_NONE                                             0\n#define WPR_HEADER_V0_STATUS_COPY                                             1\n#define WPR_HEADER_V0_STATUS_VALIDATION_CODE_FAILED                           2\n#define WPR_HEADER_V0_STATUS_VALIDATION_DATA_FAILED                           3\n#define WPR_HEADER_V0_STATUS_VALIDATION_DONE                                  4\n#define WPR_HEADER_V0_STATUS_VALIDATION_SKIPPED                               5\n#define WPR_HEADER_V0_STATUS_BOOTSTRAP_READY                                  6\n\tu32 status;\n};\n\nvoid wpr_header_dump(struct nvkm_subdev *, const struct wpr_header *);\n\nstruct wpr_header_v1 {\n#define WPR_HEADER_V1_FALCON_ID_INVALID                              0xffffffff\n\tu32 falcon_id;\n\tu32 lsb_offset;\n\tu32 bootstrap_owner;\n\tu32 lazy_bootstrap;\n\tu32 bin_version;\n#define WPR_HEADER_V1_STATUS_NONE                                             0\n#define WPR_HEADER_V1_STATUS_COPY                                             1\n#define WPR_HEADER_V1_STATUS_VALIDATION_CODE_FAILED                           2\n#define WPR_HEADER_V1_STATUS_VALIDATION_DATA_FAILED                           3\n#define WPR_HEADER_V1_STATUS_VALIDATION_DONE                                  4\n#define WPR_HEADER_V1_STATUS_VALIDATION_SKIPPED                               5\n#define WPR_HEADER_V1_STATUS_BOOTSTRAP_READY                                  6\n#define WPR_HEADER_V1_STATUS_REVOCATION_CHECK_FAILED                          7\n\tu32 status;\n};\n\nvoid wpr_header_v1_dump(struct nvkm_subdev *, const struct wpr_header_v1 *);\n\nstruct wpr_generic_header {\n#define WPR_GENERIC_HEADER_ID_LSF_UCODE_DESC     1\n#define WPR_GENERIC_HEADER_ID_LSF_WPR_HEADER     2\n#define WPR_GENERIC_HEADER_ID_LSF_SHARED_SUB_WPR 3\n#define WPR_GENERIC_HEADER_ID_LSF_LSB_HEADER     4\n\tu16 identifier;\n\tu16 version;\n\tu32 size;\n};\n\nstruct wpr_header_v2 {\n\tstruct wpr_generic_header hdr;\n\tstruct wpr_header_v1 wpr;\n};\n\nvoid wpr_header_v2_dump(struct nvkm_subdev *, const struct wpr_header_v2 *);\n\nstruct lsf_signature {\n\tu8 prd_keys[2][16];\n\tu8 dbg_keys[2][16];\n\tu32 b_prd_present;\n\tu32 b_dbg_present;\n\tu32 falcon_id;\n};\n\nstruct lsf_signature_v1 {\n\tu8 prd_keys[2][16];\n\tu8 dbg_keys[2][16];\n\tu32 b_prd_present;\n\tu32 b_dbg_present;\n\tu32 falcon_id;\n\tu32 supports_versioning;\n\tu32 version;\n\tu32 depmap_count;\n\tu8 depmap[11  * 2 * 4];\n\tu8 kdf[16];\n};\n\nstruct lsb_header_tail {\n\tu32 ucode_off;\n\tu32 ucode_size;\n\tu32 data_size;\n\tu32 bl_code_size;\n\tu32 bl_imem_off;\n\tu32 bl_data_off;\n\tu32 bl_data_size;\n\tu32 app_code_off;\n\tu32 app_code_size;\n\tu32 app_data_off;\n\tu32 app_data_size;\n\tu32 flags;\n};\n\nstruct lsb_header {\n\tstruct lsf_signature signature;\n\tstruct lsb_header_tail tail;\n};\n\nvoid lsb_header_dump(struct nvkm_subdev *, struct lsb_header *);\n\nstruct lsb_header_v1 {\n\tstruct lsf_signature_v1 signature;\n\tstruct lsb_header_tail tail;\n};\n\nvoid lsb_header_v1_dump(struct nvkm_subdev *, struct lsb_header_v1 *);\n\nstruct lsb_header_v2 {\n\tstruct wpr_generic_header hdr;\n\tstruct lsf_signature_v2 {\n\t\tstruct wpr_generic_header hdr;\n\t\tu32 falcon_id;\n\t\tu8 prd_present;\n\t\tu8 dbg_present;\n\t\tu16 reserved;\n\t\tu32 sig_size;\n\t\tu8 prod_sig[2][384 + 128];\n\t\tu8 debug_sig[2][384 + 128];\n\t\tu16 sig_algo_ver;\n\t\tu16 sig_algo;\n\t\tu16 hash_algo_ver;\n\t\tu16 hash_algo;\n\t\tu32 sig_algo_padding_type;\n\t\tu8 depmap[11 * 2 * 4];\n\t\tu32 depmap_count;\n\t\tu8 supports_versioning;\n\t\tu8 pad[3];\n\t\tu32 ls_ucode_version;\n\t\tu32 ls_ucode_id;\n\t\tu32 ucode_ls_encrypted;\n\t\tu32 ls_eng_algo_type;\n\t\tu32 ls_eng_algo_ver;\n\t\tu8 ls_enc_iv[16];\n\t\tu8 rsvd[36];\n\t} signature;\n\tu32 ucode_off;\n\tu32 ucode_size;\n\tu32 data_size;\n\tu32 bl_code_size;\n\tu32 bl_imem_off;\n\tu32 bl_data_off;\n\tu32 bl_data_size;\n\tu32 rsvd0;\n\tu32 app_code_off;\n\tu32 app_code_size;\n\tu32 app_data_off;\n\tu32 app_data_size;\n\tu32 app_imem_offset;\n\tu32 app_dmem_offset;\n\tu32 flags;\n\tu32 monitor_code_offset;\n\tu32 monitor_data_offset;\n\tu32 manifest_offset;\n\tstruct hs_fmc_params {\n\t\tu8 hs_fmc;\n\t\tu8 padding[3];\n\t\tu16 pkc_algo;\n\t\tu16 pkc_algo_version;\n\t\tu32 engid_mask;\n\t\tu32 ucode_id;\n\t\tu32 fuse_ver;\n\t\tu8 pkc_signature[384 + 128];\n\t\tu8 pkc_key[2048];\n\t\tu8 rsvd[4];\n\t} hs_fmc_params;\n\tstruct hs_ovl_sig_blob_params {\n\t\tu8 hs_ovl_sig_blob_present;\n\t\tu32 hs_ovl_sig_blob_offset;\n\t\tu32 hs_ovl_sig_blob_size;\n\t} hs_ovl_sig_blob_params;\n\tu8 rsvd[20];\n};\n\nvoid lsb_header_v2_dump(struct nvkm_subdev *, struct lsb_header_v2 *);\n\nstruct flcn_acr_desc {\n\tunion {\n\t\tu8 reserved_dmem[0x200];\n\t\tu32 signatures[4];\n\t} ucode_reserved_space;\n\tu32 wpr_region_id;\n\tu32 wpr_offset;\n\tu32 mmu_mem_range;\n\tstruct {\n\t\tu32 no_regions;\n\t\tstruct {\n\t\t\tu32 start_addr;\n\t\t\tu32 end_addr;\n\t\t\tu32 region_id;\n\t\t\tu32 read_mask;\n\t\t\tu32 write_mask;\n\t\t\tu32 client_mask;\n\t\t} region_props[2];\n\t} regions;\n\tu32 ucode_blob_size;\n\tu64 ucode_blob_base __aligned(8);\n\tstruct {\n\t\tu32 vpr_enabled;\n\t\tu32 vpr_start;\n\t\tu32 vpr_end;\n\t\tu32 hdcp_policies;\n\t} vpr_desc;\n};\n\nvoid flcn_acr_desc_dump(struct nvkm_subdev *, struct flcn_acr_desc *);\n\nstruct flcn_acr_desc_v1 {\n\tu8 reserved_dmem[0x200];\n\tu32 signatures[4];\n\tu32 wpr_region_id;\n\tu32 wpr_offset;\n\tu32 mmu_memory_range;\n\tstruct {\n\t\tu32 no_regions;\n\t\tstruct {\n\t\t\tu32 start_addr;\n\t\t\tu32 end_addr;\n\t\t\tu32 region_id;\n\t\t\tu32 read_mask;\n\t\t\tu32 write_mask;\n\t\t\tu32 client_mask;\n\t\t\tu32 shadow_mem_start_addr;\n\t\t} region_props[2];\n\t} regions;\n\tu32 ucode_blob_size;\n\tu64 ucode_blob_base __aligned(8);\n\tstruct {\n\t\tu32 vpr_enabled;\n\t\tu32 vpr_start;\n\t\tu32 vpr_end;\n\t\tu32 hdcp_policies;\n\t} vpr_desc;\n};\n\nvoid flcn_acr_desc_v1_dump(struct nvkm_subdev *, struct flcn_acr_desc_v1 *);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}