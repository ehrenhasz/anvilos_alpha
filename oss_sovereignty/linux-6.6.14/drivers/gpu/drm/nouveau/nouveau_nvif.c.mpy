{
  "module_name": "nouveau_nvif.c",
  "hash_id": "264be7c5ae889cfdda65439d1b70e07881e980dd71e47f9f07b439c88c73ba36",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/nouveau/nouveau_nvif.c",
  "human_readable_source": " \n\n \n\n#include <core/client.h>\n#include <core/ioctl.h>\n\n#include <nvif/client.h>\n#include <nvif/driver.h>\n#include <nvif/event.h>\n#include <nvif/ioctl.h>\n\n#include \"nouveau_drv.h\"\n#include \"nouveau_usif.h\"\n\nstatic void\nnvkm_client_unmap(void *priv, void __iomem *ptr, u32 size)\n{\n\tiounmap(ptr);\n}\n\nstatic void __iomem *\nnvkm_client_map(void *priv, u64 handle, u32 size)\n{\n\treturn ioremap(handle, size);\n}\n\nstatic int\nnvkm_client_ioctl(void *priv, void *data, u32 size, void **hack)\n{\n\treturn nvkm_ioctl(priv, data, size, hack);\n}\n\nstatic int\nnvkm_client_resume(void *priv)\n{\n\tstruct nvkm_client *client = priv;\n\treturn nvkm_object_init(&client->object);\n}\n\nstatic int\nnvkm_client_suspend(void *priv)\n{\n\tstruct nvkm_client *client = priv;\n\treturn nvkm_object_fini(&client->object, true);\n}\n\nstatic int\nnvkm_client_event(u64 token, void *repv, u32 repc)\n{\n\tstruct nvif_object *object = (void *)(unsigned long)token;\n\tstruct nvif_event *event = container_of(object, typeof(*event), object);\n\n\tif (event->func(event, repv, repc) == NVIF_EVENT_KEEP)\n\t\treturn NVKM_EVENT_KEEP;\n\n\treturn NVKM_EVENT_DROP;\n}\n\nstatic int\nnvkm_client_driver_init(const char *name, u64 device, const char *cfg,\n\t\t\tconst char *dbg, void **ppriv)\n{\n\treturn nvkm_client_new(name, device, cfg, dbg, nvkm_client_event,\n\t\t\t       (struct nvkm_client **)ppriv);\n}\n\nconst struct nvif_driver\nnvif_driver_nvkm = {\n\t.name = \"nvkm\",\n\t.init = nvkm_client_driver_init,\n\t.suspend = nvkm_client_suspend,\n\t.resume = nvkm_client_resume,\n\t.ioctl = nvkm_client_ioctl,\n\t.map = nvkm_client_map,\n\t.unmap = nvkm_client_unmap,\n\t.keep = false,\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}