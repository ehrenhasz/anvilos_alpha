{
  "module_name": "nouveau_svm.h",
  "hash_id": "5c64eed923261e649e8c381b888a16dc3b9e04c5bbc76c1f5eb05b7d78cab842",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/nouveau/nouveau_svm.h",
  "human_readable_source": "#ifndef __NOUVEAU_SVM_H__\n#define __NOUVEAU_SVM_H__\n#include <nvif/os.h>\n#include <linux/mmu_notifier.h>\nstruct drm_device;\nstruct drm_file;\nstruct nouveau_drm;\n\nstruct nouveau_svmm {\n\tstruct mmu_notifier notifier;\n\tstruct nouveau_vmm *vmm;\n\tstruct {\n\t\tunsigned long start;\n\t\tunsigned long limit;\n\t} unmanaged;\n\n\tstruct mutex mutex;\n};\n\n#if IS_ENABLED(CONFIG_DRM_NOUVEAU_SVM)\nvoid nouveau_svm_init(struct nouveau_drm *);\nvoid nouveau_svm_fini(struct nouveau_drm *);\nvoid nouveau_svm_suspend(struct nouveau_drm *);\nvoid nouveau_svm_resume(struct nouveau_drm *);\n\nint nouveau_svmm_init(struct drm_device *, void *, struct drm_file *);\nvoid nouveau_svmm_fini(struct nouveau_svmm **);\nint nouveau_svmm_join(struct nouveau_svmm *, u64 inst);\nvoid nouveau_svmm_part(struct nouveau_svmm *, u64 inst);\nint nouveau_svmm_bind(struct drm_device *, void *, struct drm_file *);\n\nvoid nouveau_svmm_invalidate(struct nouveau_svmm *svmm, u64 start, u64 limit);\nu64 *nouveau_pfns_alloc(unsigned long npages);\nvoid nouveau_pfns_free(u64 *pfns);\nvoid nouveau_pfns_map(struct nouveau_svmm *svmm, struct mm_struct *mm,\n\t\t      unsigned long addr, u64 *pfns, unsigned long npages);\n#else  \nstatic inline void nouveau_svm_init(struct nouveau_drm *drm) {}\nstatic inline void nouveau_svm_fini(struct nouveau_drm *drm) {}\nstatic inline void nouveau_svm_suspend(struct nouveau_drm *drm) {}\nstatic inline void nouveau_svm_resume(struct nouveau_drm *drm) {}\n\nstatic inline int nouveau_svmm_init(struct drm_device *device, void *p,\n\t\t\t\t    struct drm_file *file)\n{\n\treturn -ENOSYS;\n}\n\nstatic inline void nouveau_svmm_fini(struct nouveau_svmm **svmmp) {}\n\nstatic inline int nouveau_svmm_join(struct nouveau_svmm *svmm, u64 inst)\n{\n\treturn 0;\n}\n\nstatic inline void nouveau_svmm_part(struct nouveau_svmm *svmm, u64 inst) {}\n\nstatic inline int nouveau_svmm_bind(struct drm_device *device, void *p,\n\t\t\t\t    struct drm_file *file)\n{\n\treturn -ENOSYS;\n}\n#endif  \n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}