{
  "module_name": "wndw.h",
  "hash_id": "2803cbd677d1f1752e752992d2e0f73e81a0011ea7c2cf1b837b63634cf137f3",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/nouveau/dispnv50/wndw.h",
  "human_readable_source": "#ifndef __NV50_KMS_WNDW_H__\n#define __NV50_KMS_WNDW_H__\n#define nv50_wndw(p) container_of((p), struct nv50_wndw, plane)\n#include \"disp.h\"\n#include \"atom.h\"\n#include \"lut.h\"\n\nstruct nv50_wndw_ctxdma {\n\tstruct list_head head;\n\tstruct nvif_object object;\n};\n\nstruct nv50_wndw {\n\tconst struct nv50_wndw_func *func;\n\tconst struct nv50_wimm_func *immd;\n\tint id;\n\tstruct nv50_disp_interlock interlock;\n\n\tstruct {\n\t\tstruct nvif_object *parent;\n\t\tstruct list_head list;\n\t} ctxdma;\n\n\tstruct drm_plane plane;\n\n\tstruct nv50_lut ilut;\n\n\tstruct nv50_dmac wndw;\n\tstruct nv50_dmac wimm;\n\n\tu16 ntfy;\n\tu16 sema;\n\tu32 data;\n};\n\nint nv50_wndw_new_(const struct nv50_wndw_func *, struct drm_device *,\n\t\t   enum drm_plane_type, const char *name, int index,\n\t\t   const u32 *format, u32 heads,\n\t\t   enum nv50_disp_interlock_type, u32 interlock_data,\n\t\t   struct nv50_wndw **);\nvoid nv50_wndw_flush_set(struct nv50_wndw *, u32 *interlock,\n\t\t\t struct nv50_wndw_atom *);\nvoid nv50_wndw_flush_clr(struct nv50_wndw *, u32 *interlock, bool flush,\n\t\t\t struct nv50_wndw_atom *);\nvoid nv50_wndw_ntfy_enable(struct nv50_wndw *, struct nv50_wndw_atom *);\nint nv50_wndw_wait_armed(struct nv50_wndw *, struct nv50_wndw_atom *);\n\nstruct nv50_wndw_func {\n\tint (*acquire)(struct nv50_wndw *, struct nv50_wndw_atom *asyw,\n\t\t       struct nv50_head_atom *asyh);\n\tvoid (*release)(struct nv50_wndw *, struct nv50_wndw_atom *asyw,\n\t\t\tstruct nv50_head_atom *asyh);\n\tvoid (*prepare)(struct nv50_wndw *, struct nv50_head_atom *asyh,\n\t\t\tstruct nv50_wndw_atom *asyw);\n\n\tint (*sema_set)(struct nv50_wndw *, struct nv50_wndw_atom *);\n\tint (*sema_clr)(struct nv50_wndw *);\n\tvoid (*ntfy_reset)(struct nouveau_bo *, u32 offset);\n\tint (*ntfy_set)(struct nv50_wndw *, struct nv50_wndw_atom *);\n\tint (*ntfy_clr)(struct nv50_wndw *);\n\tint (*ntfy_wait_begun)(struct nouveau_bo *, u32 offset,\n\t\t\t       struct nvif_device *);\n\tvoid (*ilut)(struct nv50_wndw *wndw, struct nv50_wndw_atom *asyh, int size);\n\tvoid (*csc)(struct nv50_wndw *, struct nv50_wndw_atom *,\n\t\t    const struct drm_color_ctm *);\n\tint (*csc_set)(struct nv50_wndw *, struct nv50_wndw_atom *);\n\tint (*csc_clr)(struct nv50_wndw *);\n\tbool ilut_identity;\n\tint  ilut_size;\n\tbool olut_core;\n\tint (*xlut_set)(struct nv50_wndw *, struct nv50_wndw_atom *);\n\tint (*xlut_clr)(struct nv50_wndw *);\n\tint (*image_set)(struct nv50_wndw *, struct nv50_wndw_atom *);\n\tint (*image_clr)(struct nv50_wndw *);\n\tint (*scale_set)(struct nv50_wndw *, struct nv50_wndw_atom *);\n\tint (*blend_set)(struct nv50_wndw *, struct nv50_wndw_atom *);\n\n\tint (*update)(struct nv50_wndw *, u32 *interlock);\n};\n\nextern const struct drm_plane_funcs nv50_wndw;\n\nvoid base507c_ntfy_reset(struct nouveau_bo *, u32);\nint base507c_ntfy_set(struct nv50_wndw *, struct nv50_wndw_atom *);\nint base507c_ntfy_clr(struct nv50_wndw *);\nint base507c_ntfy_wait_begun(struct nouveau_bo *, u32, struct nvif_device *);\nint base507c_image_clr(struct nv50_wndw *);\nint base507c_update(struct nv50_wndw *, u32 *);\n\nvoid base907c_csc(struct nv50_wndw *, struct nv50_wndw_atom *,\n\t\t  const struct drm_color_ctm *);\n\nstruct nv50_wimm_func {\n\tint (*point)(struct nv50_wndw *, struct nv50_wndw_atom *);\n\n\tint (*update)(struct nv50_wndw *, u32 *interlock);\n};\n\nextern const struct nv50_wimm_func curs507a;\nbool curs507a_space(struct nv50_wndw *);\n\nstatic inline __must_check int\nnvif_chan_wait(struct nv50_dmac *dmac, u32 size)\n{\n\tstruct nv50_wndw *wndw = container_of(dmac, typeof(*wndw), wimm);\n\treturn curs507a_space(wndw) ? 0 : -ETIMEDOUT;\n}\n\nint wndwc37e_new(struct nouveau_drm *, enum drm_plane_type, int, s32,\n\t\t struct nv50_wndw **);\nint wndwc37e_new_(const struct nv50_wndw_func *, struct nouveau_drm *,\n\t\t  enum drm_plane_type type, int index, s32 oclass, u32 heads,\n\t\t  struct nv50_wndw **);\nint wndwc37e_acquire(struct nv50_wndw *, struct nv50_wndw_atom *,\n\t\t     struct nv50_head_atom *);\nvoid wndwc37e_release(struct nv50_wndw *, struct nv50_wndw_atom *,\n\t\t      struct nv50_head_atom *);\nint wndwc37e_sema_set(struct nv50_wndw *, struct nv50_wndw_atom *);\nint wndwc37e_sema_clr(struct nv50_wndw *);\nint wndwc37e_ntfy_set(struct nv50_wndw *, struct nv50_wndw_atom *);\nint wndwc37e_ntfy_clr(struct nv50_wndw *);\nint wndwc37e_image_clr(struct nv50_wndw *);\nint wndwc37e_blend_set(struct nv50_wndw *, struct nv50_wndw_atom *);\nint wndwc37e_update(struct nv50_wndw *, u32 *);\n\nint wndwc57e_new(struct nouveau_drm *, enum drm_plane_type, int, s32,\n\t\t struct nv50_wndw **);\nvoid wndwc57e_ilut(struct nv50_wndw *, struct nv50_wndw_atom *, int);\nint wndwc57e_ilut_set(struct nv50_wndw *, struct nv50_wndw_atom *);\nint wndwc57e_ilut_clr(struct nv50_wndw *);\nint wndwc57e_csc_set(struct nv50_wndw *, struct nv50_wndw_atom *);\nint wndwc57e_csc_clr(struct nv50_wndw *);\n\nint wndwc67e_new(struct nouveau_drm *, enum drm_plane_type, int, s32,\n\t\t struct nv50_wndw **);\n\nint nv50_wndw_new(struct nouveau_drm *, enum drm_plane_type, int index,\n\t\t  struct nv50_wndw **);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}