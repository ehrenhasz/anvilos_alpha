{
  "module_name": "disp.h",
  "hash_id": "48348f2c4a43e2abace4850eb57ce67736b7f3aa0dd07273d693795d3305c132",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/nouveau/dispnv50/disp.h",
  "human_readable_source": "#ifndef __NV50_KMS_H__\n#define __NV50_KMS_H__\n#include <linux/workqueue.h>\n#include <nvif/mem.h>\n#include <nvif/push.h>\n\n#include \"nouveau_display.h\"\n\nstruct nv50_msto;\nstruct nouveau_encoder;\n\nstruct nv50_disp {\n\tstruct nvif_disp *disp;\n\tstruct nv50_core *core;\n\tstruct nvif_object caps;\n\n#define NV50_DISP_SYNC(c, o)                                ((c) * 0x040 + (o))\n#define NV50_DISP_CORE_NTFY                       NV50_DISP_SYNC(0      , 0x00)\n#define NV50_DISP_WNDW_SEM0(c)                    NV50_DISP_SYNC(1 + (c), 0x00)\n#define NV50_DISP_WNDW_SEM1(c)                    NV50_DISP_SYNC(1 + (c), 0x10)\n#define NV50_DISP_WNDW_NTFY(c)                    NV50_DISP_SYNC(1 + (c), 0x20)\n#define NV50_DISP_BASE_SEM0(c)                    NV50_DISP_WNDW_SEM0(0 + (c))\n#define NV50_DISP_BASE_SEM1(c)                    NV50_DISP_WNDW_SEM1(0 + (c))\n#define NV50_DISP_BASE_NTFY(c)                    NV50_DISP_WNDW_NTFY(0 + (c))\n#define NV50_DISP_OVLY_SEM0(c)                    NV50_DISP_WNDW_SEM0(4 + (c))\n#define NV50_DISP_OVLY_SEM1(c)                    NV50_DISP_WNDW_SEM1(4 + (c))\n#define NV50_DISP_OVLY_NTFY(c)                    NV50_DISP_WNDW_NTFY(4 + (c))\n\tstruct nouveau_bo *sync;\n\n\tstruct mutex mutex;\n};\n\nstatic inline struct nv50_disp *\nnv50_disp(struct drm_device *dev)\n{\n\treturn nouveau_display(dev)->priv;\n}\n\nstruct nv50_disp_interlock {\n\tenum nv50_disp_interlock_type {\n\t\tNV50_DISP_INTERLOCK_CORE = 0,\n\t\tNV50_DISP_INTERLOCK_CURS,\n\t\tNV50_DISP_INTERLOCK_BASE,\n\t\tNV50_DISP_INTERLOCK_OVLY,\n\t\tNV50_DISP_INTERLOCK_WNDW,\n\t\tNV50_DISP_INTERLOCK_WIMM,\n\t\tNV50_DISP_INTERLOCK__SIZE\n\t} type;\n\tu32 data;\n\tu32 wimm;\n};\n\nvoid corec37d_ntfy_init(struct nouveau_bo *, u32);\n\nvoid head907d_olut_load(struct drm_color_lut *, int size, void __iomem *);\n\nstruct nv50_chan {\n\tstruct nvif_object user;\n\tstruct nvif_device *device;\n};\n\nstruct nv50_dmac {\n\tstruct nv50_chan base;\n\n\tstruct nvif_push _push;\n\tstruct nvif_push *push;\n\tu32 *ptr;\n\n\tstruct nvif_object sync;\n\tstruct nvif_object vram;\n\n\t \n\tstruct mutex lock;\n\n\tu32 cur;\n\tu32 put;\n\tu32 max;\n};\n\nstruct nv50_outp_atom {\n\tstruct list_head head;\n\n\tstruct drm_encoder *encoder;\n\tbool flush_disable;\n\n\tunion nv50_outp_atom_mask {\n\t\tstruct {\n\t\t\tbool ctrl:1;\n\t\t};\n\t\tu8 mask;\n\t} set, clr;\n};\n\nint nv50_dmac_create(struct nvif_device *device, struct nvif_object *disp,\n\t\t     const s32 *oclass, u8 head, void *data, u32 size,\n\t\t     s64 syncbuf, struct nv50_dmac *dmac);\nvoid nv50_dmac_destroy(struct nv50_dmac *);\n\n \nstruct nouveau_encoder *nv50_real_outp(struct drm_encoder *encoder);\n\nbool nv50_has_mst(struct nouveau_drm *drm);\n\nu32 *evo_wait(struct nv50_dmac *, int nr);\nvoid evo_kick(u32 *, struct nv50_dmac *);\n\nextern const u64 disp50xx_modifiers[];\nextern const u64 disp90xx_modifiers[];\nextern const u64 wndwc57e_modifiers[];\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}