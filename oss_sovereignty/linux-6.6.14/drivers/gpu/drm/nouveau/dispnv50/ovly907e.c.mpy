{
  "module_name": "ovly907e.c",
  "hash_id": "56c689855693a90007aa98809ee9da812bad4fe1e1d359882594184023fb0abb",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/nouveau/dispnv50/ovly907e.c",
  "human_readable_source": " \n#include \"ovly.h\"\n#include \"atom.h\"\n\n#include <nvif/push507c.h>\n\n#include <nvhw/class/cl907e.h>\n\nstatic int\novly907e_image_set(struct nv50_wndw *wndw, struct nv50_wndw_atom *asyw)\n{\n\tstruct nvif_push *push = wndw->wndw.push;\n\tint ret;\n\n\tif ((ret = PUSH_WAIT(push, 12)))\n\t\treturn ret;\n\n\tPUSH_MTHD(push, NV907E, SET_PRESENT_CONTROL,\n\t\t  NVDEF(NV907E, SET_PRESENT_CONTROL, BEGIN_MODE, ASAP) |\n\t\t  NVVAL(NV907E, SET_PRESENT_CONTROL, MIN_PRESENT_INTERVAL, asyw->image.interval));\n\n\tPUSH_MTHD(push, NV907E, SET_CONTEXT_DMA_ISO, asyw->image.handle[0]);\n\n\tPUSH_MTHD(push, NV907E, SET_COMPOSITION_CONTROL,\n\t\t  NVDEF(NV907E, SET_COMPOSITION_CONTROL, MODE, OPAQUE));\n\n\tPUSH_MTHD(push, NV907E, SURFACE_SET_OFFSET, asyw->image.offset[0] >> 8);\n\n\tPUSH_MTHD(push, NV907E, SURFACE_SET_SIZE,\n\t\t  NVVAL(NV907E, SURFACE_SET_SIZE, WIDTH, asyw->image.w) |\n\t\t  NVVAL(NV907E, SURFACE_SET_SIZE, HEIGHT, asyw->image.h),\n\n\t\t\t\tSURFACE_SET_STORAGE,\n\t\t  NVVAL(NV907E, SURFACE_SET_STORAGE, BLOCK_HEIGHT, asyw->image.blockh) |\n\t\t  NVVAL(NV907E, SURFACE_SET_STORAGE, PITCH, (asyw->image.pitch[0] >> 8)) |\n\t\t  NVVAL(NV907E, SURFACE_SET_STORAGE, PITCH, asyw->image.blocks[0]) |\n\t\t  NVVAL(NV907E, SURFACE_SET_STORAGE, MEMORY_LAYOUT, asyw->image.layout),\n\n\t\t\t\tSURFACE_SET_PARAMS,\n\t\t  NVVAL(NV907E, SURFACE_SET_PARAMS, FORMAT, asyw->image.format) |\n\t\t  NVVAL(NV907E, SURFACE_SET_PARAMS, COLOR_SPACE, asyw->image.colorspace));\n\treturn 0;\n}\n\nconst struct nv50_wndw_func\novly907e = {\n\t.acquire = ovly507e_acquire,\n\t.release = ovly507e_release,\n\t.ntfy_set = base507c_ntfy_set,\n\t.ntfy_clr = base507c_ntfy_clr,\n\t.ntfy_reset = ovly827e_ntfy_reset,\n\t.ntfy_wait_begun = ovly827e_ntfy_wait_begun,\n\t.image_set = ovly907e_image_set,\n\t.image_clr = base507c_image_clr,\n\t.scale_set = ovly507e_scale_set,\n\t.update = base507c_update,\n};\n\nstatic const u32\novly907e_format[] = {\n\tDRM_FORMAT_YUYV,\n\tDRM_FORMAT_UYVY,\n\tDRM_FORMAT_XRGB8888,\n\tDRM_FORMAT_XRGB1555,\n\tDRM_FORMAT_XBGR2101010,\n\tDRM_FORMAT_XBGR16161616F,\n\t0\n};\n\nint\novly907e_new(struct nouveau_drm *drm, int head, s32 oclass,\n\t     struct nv50_wndw **pwndw)\n{\n\treturn ovly507e_new_(&ovly907e, ovly907e_format, drm, head, oclass,\n\t\t\t     0x00000004 << (head * 4), pwndw);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}