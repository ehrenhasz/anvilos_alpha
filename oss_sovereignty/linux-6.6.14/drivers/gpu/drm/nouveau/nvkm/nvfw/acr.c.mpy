{
  "module_name": "acr.c",
  "hash_id": "298452ca3f722d8dd602acc065189a7fafbf4a7e8cd3418de87dc6904b3d5e3d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/nouveau/nvkm/nvfw/acr.c",
  "human_readable_source": " \n#include <core/subdev.h>\n#include <nvfw/acr.h>\n\nvoid\nwpr_header_dump(struct nvkm_subdev *subdev, const struct wpr_header *hdr)\n{\n\tnvkm_debug(subdev, \"wprHeader\\n\");\n\tnvkm_debug(subdev, \"\\tfalconID      : %d\\n\", hdr->falcon_id);\n\tnvkm_debug(subdev, \"\\tlsbOffset     : 0x%x\\n\", hdr->lsb_offset);\n\tnvkm_debug(subdev, \"\\tbootstrapOwner: %d\\n\", hdr->bootstrap_owner);\n\tnvkm_debug(subdev, \"\\tlazyBootstrap : %d\\n\", hdr->lazy_bootstrap);\n\tnvkm_debug(subdev, \"\\tstatus        : %d\\n\", hdr->status);\n}\n\nvoid\nwpr_header_v1_dump(struct nvkm_subdev *subdev, const struct wpr_header_v1 *hdr)\n{\n\tnvkm_debug(subdev, \"wprHeader\\n\");\n\tnvkm_debug(subdev, \"\\tfalconID      : %d\\n\", hdr->falcon_id);\n\tnvkm_debug(subdev, \"\\tlsbOffset     : 0x%x\\n\", hdr->lsb_offset);\n\tnvkm_debug(subdev, \"\\tbootstrapOwner: %d\\n\", hdr->bootstrap_owner);\n\tnvkm_debug(subdev, \"\\tlazyBootstrap : %d\\n\", hdr->lazy_bootstrap);\n\tnvkm_debug(subdev, \"\\tbinVersion    : %d\\n\", hdr->bin_version);\n\tnvkm_debug(subdev, \"\\tstatus        : %d\\n\", hdr->status);\n}\n\nstatic void\nwpr_generic_header_dump(struct nvkm_subdev *subdev, const struct wpr_generic_header *hdr)\n{\n\tnvkm_debug(subdev, \"wprGenericHeader\\n\");\n\tnvkm_debug(subdev, \"\\tidentifier : %04x\\n\", hdr->identifier);\n\tnvkm_debug(subdev, \"\\tversion    : %04x\\n\", hdr->version);\n\tnvkm_debug(subdev, \"\\tsize       : %08x\\n\", hdr->size);\n}\n\nvoid\nwpr_header_v2_dump(struct nvkm_subdev *subdev, const struct wpr_header_v2 *hdr)\n{\n\twpr_generic_header_dump(subdev, &hdr->hdr);\n\twpr_header_v1_dump(subdev, &hdr->wpr);\n}\n\nvoid\nlsb_header_v2_dump(struct nvkm_subdev *subdev, struct lsb_header_v2 *hdr)\n{\n\twpr_generic_header_dump(subdev, &hdr->hdr);\n\tnvkm_debug(subdev, \"lsbHeader\\n\");\n\tnvkm_debug(subdev, \"\\tucodeOff      : 0x%x\\n\", hdr->ucode_off);\n\tnvkm_debug(subdev, \"\\tucodeSize     : 0x%x\\n\", hdr->ucode_size);\n\tnvkm_debug(subdev, \"\\tdataSize      : 0x%x\\n\", hdr->data_size);\n\tnvkm_debug(subdev, \"\\tblCodeSize    : 0x%x\\n\", hdr->bl_code_size);\n\tnvkm_debug(subdev, \"\\tblImemOff     : 0x%x\\n\", hdr->bl_imem_off);\n\tnvkm_debug(subdev, \"\\tblDataOff     : 0x%x\\n\", hdr->bl_data_off);\n\tnvkm_debug(subdev, \"\\tblDataSize    : 0x%x\\n\", hdr->bl_data_size);\n\tnvkm_debug(subdev, \"\\treserved0     : %08x\\n\", hdr->rsvd0);\n\tnvkm_debug(subdev, \"\\tappCodeOff    : 0x%x\\n\", hdr->app_code_off);\n\tnvkm_debug(subdev, \"\\tappCodeSize   : 0x%x\\n\", hdr->app_code_size);\n\tnvkm_debug(subdev, \"\\tappDataOff    : 0x%x\\n\", hdr->app_data_off);\n\tnvkm_debug(subdev, \"\\tappDataSize   : 0x%x\\n\", hdr->app_data_size);\n\tnvkm_debug(subdev, \"\\tappImemOffset : 0x%x\\n\", hdr->app_imem_offset);\n\tnvkm_debug(subdev, \"\\tappDmemOffset : 0x%x\\n\", hdr->app_dmem_offset);\n\tnvkm_debug(subdev, \"\\tflags         : 0x%x\\n\", hdr->flags);\n\tnvkm_debug(subdev, \"\\tmonitorCodeOff: 0x%x\\n\", hdr->monitor_code_offset);\n\tnvkm_debug(subdev, \"\\tmonitorDataOff: 0x%x\\n\", hdr->monitor_data_offset);\n\tnvkm_debug(subdev, \"\\tmanifestOffset: 0x%x\\n\", hdr->manifest_offset);\n}\n\nstatic void\nlsb_header_tail_dump(struct nvkm_subdev *subdev, struct lsb_header_tail *hdr)\n{\n\tnvkm_debug(subdev, \"lsbHeader\\n\");\n\tnvkm_debug(subdev, \"\\tucodeOff      : 0x%x\\n\", hdr->ucode_off);\n\tnvkm_debug(subdev, \"\\tucodeSize     : 0x%x\\n\", hdr->ucode_size);\n\tnvkm_debug(subdev, \"\\tdataSize      : 0x%x\\n\", hdr->data_size);\n\tnvkm_debug(subdev, \"\\tblCodeSize    : 0x%x\\n\", hdr->bl_code_size);\n\tnvkm_debug(subdev, \"\\tblImemOff     : 0x%x\\n\", hdr->bl_imem_off);\n\tnvkm_debug(subdev, \"\\tblDataOff     : 0x%x\\n\", hdr->bl_data_off);\n\tnvkm_debug(subdev, \"\\tblDataSize    : 0x%x\\n\", hdr->bl_data_size);\n\tnvkm_debug(subdev, \"\\tappCodeOff    : 0x%x\\n\", hdr->app_code_off);\n\tnvkm_debug(subdev, \"\\tappCodeSize   : 0x%x\\n\", hdr->app_code_size);\n\tnvkm_debug(subdev, \"\\tappDataOff    : 0x%x\\n\", hdr->app_data_off);\n\tnvkm_debug(subdev, \"\\tappDataSize   : 0x%x\\n\", hdr->app_data_size);\n\tnvkm_debug(subdev, \"\\tflags         : 0x%x\\n\", hdr->flags);\n}\n\nvoid\nlsb_header_dump(struct nvkm_subdev *subdev, struct lsb_header *hdr)\n{\n\tlsb_header_tail_dump(subdev, &hdr->tail);\n}\n\nvoid\nlsb_header_v1_dump(struct nvkm_subdev *subdev, struct lsb_header_v1 *hdr)\n{\n\tlsb_header_tail_dump(subdev, &hdr->tail);\n}\n\nvoid\nflcn_acr_desc_dump(struct nvkm_subdev *subdev, struct flcn_acr_desc *hdr)\n{\n\tint i;\n\n\tnvkm_debug(subdev, \"acrDesc\\n\");\n\tnvkm_debug(subdev, \"\\twprRegionId  : %d\\n\", hdr->wpr_region_id);\n\tnvkm_debug(subdev, \"\\twprOffset    : 0x%x\\n\", hdr->wpr_offset);\n\tnvkm_debug(subdev, \"\\tmmuMemRange  : 0x%x\\n\",\n\t\t   hdr->mmu_mem_range);\n\tnvkm_debug(subdev, \"\\tnoRegions    : %d\\n\",\n\t\t   hdr->regions.no_regions);\n\n\tfor (i = 0; i < ARRAY_SIZE(hdr->regions.region_props); i++) {\n\t\tnvkm_debug(subdev, \"\\tregion[%d]    :\\n\", i);\n\t\tnvkm_debug(subdev, \"\\t  startAddr  : 0x%x\\n\",\n\t\t\t   hdr->regions.region_props[i].start_addr);\n\t\tnvkm_debug(subdev, \"\\t  endAddr    : 0x%x\\n\",\n\t\t\t   hdr->regions.region_props[i].end_addr);\n\t\tnvkm_debug(subdev, \"\\t  regionId   : %d\\n\",\n\t\t\t   hdr->regions.region_props[i].region_id);\n\t\tnvkm_debug(subdev, \"\\t  readMask   : 0x%x\\n\",\n\t\t\t   hdr->regions.region_props[i].read_mask);\n\t\tnvkm_debug(subdev, \"\\t  writeMask  : 0x%x\\n\",\n\t\t\t   hdr->regions.region_props[i].write_mask);\n\t\tnvkm_debug(subdev, \"\\t  clientMask : 0x%x\\n\",\n\t\t\t   hdr->regions.region_props[i].client_mask);\n\t}\n\n\tnvkm_debug(subdev, \"\\tucodeBlobSize: %d\\n\",\n\t\t   hdr->ucode_blob_size);\n\tnvkm_debug(subdev, \"\\tucodeBlobBase: 0x%llx\\n\",\n\t\t   hdr->ucode_blob_base);\n\tnvkm_debug(subdev, \"\\tvprEnabled   : %d\\n\",\n\t\t   hdr->vpr_desc.vpr_enabled);\n\tnvkm_debug(subdev, \"\\tvprStart     : 0x%x\\n\",\n\t\t   hdr->vpr_desc.vpr_start);\n\tnvkm_debug(subdev, \"\\tvprEnd       : 0x%x\\n\",\n\t\t   hdr->vpr_desc.vpr_end);\n\tnvkm_debug(subdev, \"\\thdcpPolicies : 0x%x\\n\",\n\t\t   hdr->vpr_desc.hdcp_policies);\n}\n\nvoid\nflcn_acr_desc_v1_dump(struct nvkm_subdev *subdev, struct flcn_acr_desc_v1 *hdr)\n{\n\tint i;\n\n\tnvkm_debug(subdev, \"acrDesc\\n\");\n\tnvkm_debug(subdev, \"\\twprRegionId         : %d\\n\", hdr->wpr_region_id);\n\tnvkm_debug(subdev, \"\\twprOffset           : 0x%x\\n\", hdr->wpr_offset);\n\tnvkm_debug(subdev, \"\\tmmuMemoryRange      : 0x%x\\n\",\n\t\t   hdr->mmu_memory_range);\n\tnvkm_debug(subdev, \"\\tnoRegions           : %d\\n\",\n\t\t   hdr->regions.no_regions);\n\n\tfor (i = 0; i < ARRAY_SIZE(hdr->regions.region_props); i++) {\n\t\tnvkm_debug(subdev, \"\\tregion[%d]           :\\n\", i);\n\t\tnvkm_debug(subdev, \"\\t  startAddr         : 0x%x\\n\",\n\t\t\t   hdr->regions.region_props[i].start_addr);\n\t\tnvkm_debug(subdev, \"\\t  endAddr           : 0x%x\\n\",\n\t\t\t   hdr->regions.region_props[i].end_addr);\n\t\tnvkm_debug(subdev, \"\\t  regionId          : %d\\n\",\n\t\t\t   hdr->regions.region_props[i].region_id);\n\t\tnvkm_debug(subdev, \"\\t  readMask          : 0x%x\\n\",\n\t\t\t   hdr->regions.region_props[i].read_mask);\n\t\tnvkm_debug(subdev, \"\\t  writeMask         : 0x%x\\n\",\n\t\t\t   hdr->regions.region_props[i].write_mask);\n\t\tnvkm_debug(subdev, \"\\t  clientMask        : 0x%x\\n\",\n\t\t\t   hdr->regions.region_props[i].client_mask);\n\t\tnvkm_debug(subdev, \"\\t  shadowMemStartAddr: 0x%x\\n\",\n\t\t\t   hdr->regions.region_props[i].shadow_mem_start_addr);\n\t}\n\n\tnvkm_debug(subdev, \"\\tucodeBlobSize       : %d\\n\",\n\t\t   hdr->ucode_blob_size);\n\tnvkm_debug(subdev, \"\\tucodeBlobBase       : 0x%llx\\n\",\n\t\t   hdr->ucode_blob_base);\n\tnvkm_debug(subdev, \"\\tvprEnabled          : %d\\n\",\n\t\t   hdr->vpr_desc.vpr_enabled);\n\tnvkm_debug(subdev, \"\\tvprStart            : 0x%x\\n\",\n\t\t   hdr->vpr_desc.vpr_start);\n\tnvkm_debug(subdev, \"\\tvprEnd              : 0x%x\\n\",\n\t\t   hdr->vpr_desc.vpr_end);\n\tnvkm_debug(subdev, \"\\thdcpPolicies        : 0x%x\\n\",\n\t\t   hdr->vpr_desc.hdcp_policies);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}