{
  "module_name": "ls.c",
  "hash_id": "c7351e953afb810e761321e3ff79f07a5c19fd6603e417c2c0dce75b407e0c61",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/nouveau/nvkm/nvfw/ls.c",
  "human_readable_source": " \n#include <core/subdev.h>\n#include <nvfw/ls.h>\n\nstatic void\nnvfw_ls_desc_head(struct nvkm_subdev *subdev,\n\t\t  const struct nvfw_ls_desc_head *hdr)\n{\n\tchar *date;\n\n\tnvkm_debug(subdev, \"lsUcodeImgDesc:\\n\");\n\tnvkm_debug(subdev, \"\\tdescriptorSize       : %d\\n\",\n\t\t\t   hdr->descriptor_size);\n\tnvkm_debug(subdev, \"\\timageSize            : %d\\n\", hdr->image_size);\n\tnvkm_debug(subdev, \"\\ttoolsVersion         : 0x%x\\n\",\n\t\t\t   hdr->tools_version);\n\tnvkm_debug(subdev, \"\\tappVersion           : 0x%x\\n\", hdr->app_version);\n\n\tdate = kstrndup(hdr->date, sizeof(hdr->date), GFP_KERNEL);\n\tnvkm_debug(subdev, \"\\tdate                 : %s\\n\", date);\n\tkfree(date);\n\n\tnvkm_debug(subdev, \"\\tbootloaderStartOffset: 0x%x\\n\",\n\t\t\t   hdr->bootloader_start_offset);\n\tnvkm_debug(subdev, \"\\tbootloaderSize       : 0x%x\\n\",\n\t\t\t   hdr->bootloader_size);\n\tnvkm_debug(subdev, \"\\tbootloaderImemOffset : 0x%x\\n\",\n\t\t\t   hdr->bootloader_imem_offset);\n\tnvkm_debug(subdev, \"\\tbootloaderEntryPoint : 0x%x\\n\",\n\t\t\t   hdr->bootloader_entry_point);\n\n\tnvkm_debug(subdev, \"\\tappStartOffset       : 0x%x\\n\",\n\t\t\t   hdr->app_start_offset);\n\tnvkm_debug(subdev, \"\\tappSize              : 0x%x\\n\", hdr->app_size);\n\tnvkm_debug(subdev, \"\\tappImemOffset        : 0x%x\\n\",\n\t\t\t   hdr->app_imem_offset);\n\tnvkm_debug(subdev, \"\\tappImemEntry         : 0x%x\\n\",\n\t\t\t   hdr->app_imem_entry);\n\tnvkm_debug(subdev, \"\\tappDmemOffset        : 0x%x\\n\",\n\t\t\t   hdr->app_dmem_offset);\n\tnvkm_debug(subdev, \"\\tappResidentCodeOffset: 0x%x\\n\",\n\t\t\t   hdr->app_resident_code_offset);\n\tnvkm_debug(subdev, \"\\tappResidentCodeSize  : 0x%x\\n\",\n\t\t\t   hdr->app_resident_code_size);\n\tnvkm_debug(subdev, \"\\tappResidentDataOffset: 0x%x\\n\",\n\t\t\t   hdr->app_resident_data_offset);\n\tnvkm_debug(subdev, \"\\tappResidentDataSize  : 0x%x\\n\",\n\t\t\t   hdr->app_resident_data_size);\n}\n\nconst struct nvfw_ls_desc *\nnvfw_ls_desc(struct nvkm_subdev *subdev, const void *data)\n{\n\tconst struct nvfw_ls_desc *hdr = data;\n\tint i;\n\n\tnvfw_ls_desc_head(subdev, &hdr->head);\n\n\tnvkm_debug(subdev, \"\\tnbOverlays           : %d\\n\", hdr->nb_overlays);\n\tfor (i = 0; i < ARRAY_SIZE(hdr->load_ovl); i++) {\n\t\tnvkm_debug(subdev, \"\\tloadOvl[%d]          : 0x%x %d\\n\", i,\n\t\t\t   hdr->load_ovl[i].start, hdr->load_ovl[i].size);\n\t}\n\tnvkm_debug(subdev, \"\\tcompressed           : %d\\n\", hdr->compressed);\n\n\treturn hdr;\n}\n\nconst struct nvfw_ls_desc_v1 *\nnvfw_ls_desc_v1(struct nvkm_subdev *subdev, const void *data)\n{\n\tconst struct nvfw_ls_desc_v1 *hdr = data;\n\tint i;\n\n\tnvfw_ls_desc_head(subdev, &hdr->head);\n\n\tnvkm_debug(subdev, \"\\tnbImemOverlays       : %d\\n\",\n\t\t\t   hdr->nb_imem_overlays);\n\tnvkm_debug(subdev, \"\\tnbDmemOverlays       : %d\\n\",\n\t\t\t   hdr->nb_imem_overlays);\n\tfor (i = 0; i < ARRAY_SIZE(hdr->load_ovl); i++) {\n\t\tnvkm_debug(subdev, \"\\tloadOvl[%2d]          : 0x%x %d\\n\", i,\n\t\t\t   hdr->load_ovl[i].start, hdr->load_ovl[i].size);\n\t}\n\tnvkm_debug(subdev, \"\\tcompressed           : %d\\n\", hdr->compressed);\n\n\treturn hdr;\n}\n\nconst struct nvfw_ls_desc_v2 *\nnvfw_ls_desc_v2(struct nvkm_subdev *subdev, const void *data)\n{\n\tconst struct nvfw_ls_desc_v2 *hdr = data;\n\tchar *date;\n\tint i;\n\n\tnvkm_debug(subdev, \"lsUcodeImgDesc:\\n\");\n\tnvkm_debug(subdev, \"\\tdescriptorSize       : %d\\n\", hdr->descriptor_size);\n\tnvkm_debug(subdev, \"\\timageSize            : %d\\n\", hdr->image_size);\n\tnvkm_debug(subdev, \"\\ttoolsVersion         : 0x%x\\n\", hdr->tools_version);\n\tnvkm_debug(subdev, \"\\tappVersion           : 0x%x\\n\", hdr->app_version);\n\n\tdate = kstrndup(hdr->date, sizeof(hdr->date), GFP_KERNEL);\n\tnvkm_debug(subdev, \"\\tdate                 : %s\\n\", date);\n\tkfree(date);\n\n\tnvkm_debug(subdev, \"\\tsecureBootloader     : 0x%x\\n\", hdr->secure_bootloader);\n\tnvkm_debug(subdev, \"\\tbootloaderStartOffset: 0x%x\\n\", hdr->bootloader_start_offset);\n\tnvkm_debug(subdev, \"\\tbootloaderSize       : 0x%x\\n\", hdr->bootloader_size);\n\tnvkm_debug(subdev, \"\\tbootloaderImemOffset : 0x%x\\n\", hdr->bootloader_imem_offset);\n\tnvkm_debug(subdev, \"\\tbootloaderEntryPoint : 0x%x\\n\", hdr->bootloader_entry_point);\n\n\tnvkm_debug(subdev, \"\\tappStartOffset       : 0x%x\\n\", hdr->app_start_offset);\n\tnvkm_debug(subdev, \"\\tappSize              : 0x%x\\n\", hdr->app_size);\n\tnvkm_debug(subdev, \"\\tappImemOffset        : 0x%x\\n\", hdr->app_imem_offset);\n\tnvkm_debug(subdev, \"\\tappImemEntry         : 0x%x\\n\", hdr->app_imem_entry);\n\tnvkm_debug(subdev, \"\\tappDmemOffset        : 0x%x\\n\", hdr->app_dmem_offset);\n\tnvkm_debug(subdev, \"\\tappResidentCodeOffset: 0x%x\\n\", hdr->app_resident_code_offset);\n\tnvkm_debug(subdev, \"\\tappResidentCodeSize  : 0x%x\\n\", hdr->app_resident_code_size);\n\tnvkm_debug(subdev, \"\\tappResidentDataOffset: 0x%x\\n\", hdr->app_resident_data_offset);\n\tnvkm_debug(subdev, \"\\tappResidentDataSize  : 0x%x\\n\", hdr->app_resident_data_size);\n\n\tnvkm_debug(subdev, \"\\tnbImemOverlays       : %d\\n\", hdr->nb_imem_overlays);\n\tnvkm_debug(subdev, \"\\tnbDmemOverlays       : %d\\n\", hdr->nb_dmem_overlays);\n\tfor (i = 0; i < ARRAY_SIZE(hdr->load_ovl); i++) {\n\t\tnvkm_debug(subdev, \"\\tloadOvl[%d]          : 0x%x %d\\n\", i,\n\t\t\t   hdr->load_ovl[i].start, hdr->load_ovl[i].size);\n\t}\n\n\treturn hdr;\n}\n\nconst struct nvfw_ls_hsbl_bin_hdr *\nnvfw_ls_hsbl_bin_hdr(struct nvkm_subdev *subdev, const void *data)\n{\n\tconst struct nvfw_ls_hsbl_bin_hdr *hdr = data;\n\n\tnvkm_debug(subdev, \"lsHsblBinHdr:\\n\");\n\tnvkm_debug(subdev, \"\\tbinMagic         : 0x%08x\\n\", hdr->bin_magic);\n\tnvkm_debug(subdev, \"\\tbinVer           : %d\\n\", hdr->bin_ver);\n\tnvkm_debug(subdev, \"\\tbinSize          : %d\\n\", hdr->bin_size);\n\tnvkm_debug(subdev, \"\\theaderOffset     : 0x%x\\n\", hdr->header_offset);\n\treturn hdr;\n}\n\nconst struct nvfw_ls_hsbl_hdr *\nnvfw_ls_hsbl_hdr(struct nvkm_subdev *subdev, const void *data)\n{\n\tconst struct nvfw_ls_hsbl_hdr *hdr = data;\n\n\tnvkm_debug(subdev, \"lsHsblHdr:\\n\");\n\tnvkm_debug(subdev, \"\\tsigProdOffset    : 0x%x\\n\", hdr->sig_prod_offset);\n\tnvkm_debug(subdev, \"\\tsigProdSize      : 0x%x\\n\", hdr->sig_prod_size);\n\tnvkm_debug(subdev, \"\\tpatchLoc         : 0x%x\\n\", hdr->patch_loc);\n\tnvkm_debug(subdev, \"\\tpatchSig         : 0x%x\\n\", hdr->patch_sig);\n\tnvkm_debug(subdev, \"\\tmetadataOffset   : 0x%x\\n\", hdr->meta_data_offset);\n\tnvkm_debug(subdev, \"\\tmetadataSize     : 0x%x\\n\", hdr->meta_data_size);\n\tnvkm_debug(subdev, \"\\tnumSig           : 0x%x\\n\", hdr->num_sig);\n\treturn hdr;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}