{
  "module_name": "g98.c",
  "hash_id": "488479a172a365c000abab4cf13f0a84f50cf2e448c53447c5c2a27f73cdcc54",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/nouveau/nvkm/engine/sec/g98.c",
  "human_readable_source": " \n#include <engine/sec.h>\n#include <engine/fifo.h>\n#include \"fuc/g98.fuc0s.h\"\n\n#include <core/client.h>\n#include <core/enum.h>\n#include <core/gpuobj.h>\n\n#include <nvif/class.h>\n\nstatic const struct nvkm_enum g98_sec_isr_error_name[] = {\n\t{ 0x0000, \"ILLEGAL_MTHD\" },\n\t{ 0x0001, \"INVALID_BITFIELD\" },\n\t{ 0x0002, \"INVALID_ENUM\" },\n\t{ 0x0003, \"QUERY\" },\n\t{}\n};\n\nstatic void\ng98_sec_intr(struct nvkm_falcon *sec, struct nvkm_chan *chan)\n{\n\tstruct nvkm_subdev *subdev = &sec->engine.subdev;\n\tstruct nvkm_device *device = subdev->device;\n\tu32 ssta = nvkm_rd32(device, 0x087040) & 0x0000ffff;\n\tu32 addr = nvkm_rd32(device, 0x087040) >> 16;\n\tu32 mthd = (addr & 0x07ff) << 2;\n\tu32 subc = (addr & 0x3800) >> 11;\n\tu32 data = nvkm_rd32(device, 0x087044);\n\tconst struct nvkm_enum *en =\n\t\tnvkm_enum_find(g98_sec_isr_error_name, ssta);\n\n\tnvkm_error(subdev, \"DISPATCH_ERROR %04x [%s] ch %d [%010llx %s] \"\n\t\t\t   \"subc %d mthd %04x data %08x\\n\", ssta,\n\t\t   en ? en->name : \"UNKNOWN\", chan ? chan->id : -1,\n\t\t   chan ? chan->inst->addr : 0,\n\t\t   chan ? chan->name : \"unknown\",\n\t\t   subc, mthd, data);\n}\n\nstatic const struct nvkm_falcon_func\ng98_sec = {\n\t.code.data = g98_sec_code,\n\t.code.size = sizeof(g98_sec_code),\n\t.data.data = g98_sec_data,\n\t.data.size = sizeof(g98_sec_data),\n\t.intr = g98_sec_intr,\n\t.sclass = {\n\t\t{ -1, -1, G98_SEC },\n\t\t{}\n\t}\n};\n\nint\ng98_sec_new(struct nvkm_device *device, enum nvkm_subdev_type type, int inst,\n\t    struct nvkm_engine **pengine)\n{\n\treturn nvkm_falcon_new_(&g98_sec, device, type, inst, true, 0x087000, pengine);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}