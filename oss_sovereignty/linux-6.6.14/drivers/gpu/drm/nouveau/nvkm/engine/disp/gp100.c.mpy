{
  "module_name": "gp100.c",
  "hash_id": "591a94979cb95e069c5ab687d34138d8a538aab7a268c5acfa38f601eb265f6d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/nouveau/nvkm/engine/disp/gp100.c",
  "human_readable_source": " \n#include \"priv.h\"\n#include \"chan.h\"\n#include \"head.h\"\n#include \"ior.h\"\n\n#include <nvif/class.h>\n\nstatic const struct nvkm_ior_func\ngp100_sor = {\n\t.route = {\n\t\t.get = gm200_sor_route_get,\n\t\t.set = gm200_sor_route_set,\n\t},\n\t.state = gf119_sor_state,\n\t.power = nv50_sor_power,\n\t.clock = gf119_sor_clock,\n\t.hdmi = &gm200_sor_hdmi,\n\t.dp = &gm200_sor_dp,\n\t.hda = &gf119_sor_hda,\n};\n\nint\ngp100_sor_new(struct nvkm_disp *disp, int id)\n{\n\tstruct nvkm_device *device = disp->engine.subdev.device;\n\tu32 hda;\n\n\tif (!((hda = nvkm_rd32(device, 0x08a15c)) & 0x40000000))\n\t\thda = nvkm_rd32(device, 0x10ebb0) >> 8;\n\n\treturn nvkm_ior_new_(&gp100_sor, disp, SOR, id, hda & BIT(id));\n}\n\nstatic const struct nvkm_disp_func\ngp100_disp = {\n\t.oneinit = nv50_disp_oneinit,\n\t.init = gf119_disp_init,\n\t.fini = gf119_disp_fini,\n\t.intr = gf119_disp_intr,\n\t.intr_error = gf119_disp_intr_error,\n\t.super = gf119_disp_super,\n\t.uevent = &gf119_disp_chan_uevent,\n\t.head = { .cnt = gf119_head_cnt, .new = gf119_head_new },\n\t.sor = { .cnt = gf119_sor_cnt, .new = gp100_sor_new },\n\t.root = { 0,0,GP100_DISP },\n\t.user = {\n\t\t{{0,0,GK104_DISP_CURSOR             }, nvkm_disp_chan_new, &gf119_disp_curs },\n\t\t{{0,0,GK104_DISP_OVERLAY            }, nvkm_disp_chan_new, &gf119_disp_oimm },\n\t\t{{0,0,GK110_DISP_BASE_CHANNEL_DMA   }, nvkm_disp_chan_new, &gf119_disp_base },\n\t\t{{0,0,GP100_DISP_CORE_CHANNEL_DMA   }, nvkm_disp_core_new, &gk104_disp_core },\n\t\t{{0,0,GK104_DISP_OVERLAY_CONTROL_DMA}, nvkm_disp_chan_new, &gk104_disp_ovly },\n\t\t{}\n\t},\n};\n\nint\ngp100_disp_new(struct nvkm_device *device, enum nvkm_subdev_type type, int inst,\n\t       struct nvkm_disp **pdisp)\n{\n\treturn nvkm_disp_new_(&gp100_disp, device, type, inst, pdisp);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}