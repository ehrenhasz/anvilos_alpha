{
  "module_name": "priv.h",
  "hash_id": "e32187c55fc357ee4869f91b16e6be07a27c356bc9c26e42afe9b79b9f330e53",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/nouveau/nvkm/engine/fifo/priv.h",
  "human_readable_source": " \n#ifndef __NVKM_FIFO_PRIV_H__\n#define __NVKM_FIFO_PRIV_H__\n#define nvkm_fifo(p) container_of((p), struct nvkm_fifo, engine)\n#include <engine/fifo.h>\n#include <core/enum.h>\nstruct nvkm_cctx;\nstruct nvkm_cgrp;\nstruct nvkm_engn;\nstruct nvkm_memory;\nstruct nvkm_runl;\nstruct nvkm_runq;\nstruct nvkm_vctx;\n\nstruct nvkm_fifo_func {\n\tint (*chid_nr)(struct nvkm_fifo *);\n\tint (*chid_ctor)(struct nvkm_fifo *, int nr);\n\tint (*runq_nr)(struct nvkm_fifo *);\n\tint (*runl_ctor)(struct nvkm_fifo *);\n\n\tvoid (*init)(struct nvkm_fifo *);\n\tvoid (*init_pbdmas)(struct nvkm_fifo *, u32 mask);\n\n\tirqreturn_t (*intr)(struct nvkm_inth *);\n\tvoid (*intr_mmu_fault_unit)(struct nvkm_fifo *, int unit);\n\tvoid (*intr_ctxsw_timeout)(struct nvkm_fifo *, u32 engm);\n\n\tconst struct nvkm_fifo_func_mmu_fault {\n\t\tvoid (*recover)(struct nvkm_fifo *, struct nvkm_fault_data *);\n\t\tconst struct nvkm_enum *access;\n\t\tconst struct nvkm_enum *engine;\n\t\tconst struct nvkm_enum *reason;\n\t\tconst struct nvkm_enum *hubclient;\n\t\tconst struct nvkm_enum *gpcclient;\n\t} *mmu_fault;\n\n\tvoid (*pause)(struct nvkm_fifo *, unsigned long *);\n\tvoid (*start)(struct nvkm_fifo *, unsigned long *);\n\n\tint (*nonstall_ctor)(struct nvkm_fifo *);\n\tconst struct nvkm_event_func *nonstall;\n\n\tconst struct nvkm_runl_func *runl;\n\tconst struct nvkm_runq_func *runq;\n\tconst struct nvkm_engn_func *engn;\n\tconst struct nvkm_engn_func *engn_sw;\n\tconst struct nvkm_engn_func *engn_ce;\n\n\tstruct nvkm_fifo_func_cgrp {\n\t\tstruct nvkm_sclass user;\n\t\tconst struct nvkm_cgrp_func *func;\n\t\tbool force;\n\t} cgrp;\n\n\tstruct nvkm_fifo_func_chan {\n\t\tstruct nvkm_sclass user;\n\t\tconst struct nvkm_chan_func *func;\n\t} chan;\n};\n\nint nvkm_fifo_new_(const struct nvkm_fifo_func *, struct nvkm_device *, enum nvkm_subdev_type, int,\n\t\t   struct nvkm_fifo **);\n\nint nv04_fifo_chid_ctor(struct nvkm_fifo *, int);\nint nv04_fifo_runl_ctor(struct nvkm_fifo *);\nvoid nv04_fifo_init(struct nvkm_fifo *);\nirqreturn_t nv04_fifo_intr(struct nvkm_inth *);\nvoid nv04_fifo_pause(struct nvkm_fifo *, unsigned long *);\nvoid nv04_fifo_start(struct nvkm_fifo *, unsigned long *);\nextern const struct nvkm_runl_func nv04_runl;\nextern const struct nvkm_engn_func nv04_engn;\nextern const struct nvkm_cgrp_func nv04_cgrp;\nextern const struct nvkm_chan_func_inst nv04_chan_inst;\nextern const struct nvkm_chan_func_userd nv04_chan_userd;\nvoid nv04_chan_ramfc_clear(struct nvkm_chan *);\nvoid nv04_chan_start(struct nvkm_chan *);\nvoid nv04_chan_stop(struct nvkm_chan *);\nvoid nv04_eobj_ramht_del(struct nvkm_chan *, int);\n\nint nv10_fifo_chid_nr(struct nvkm_fifo *);\n\nint nv50_fifo_chid_nr(struct nvkm_fifo *);\nint nv50_fifo_chid_ctor(struct nvkm_fifo *, int);\nvoid nv50_fifo_init(struct nvkm_fifo *);\nextern const struct nvkm_runl_func nv50_runl;\nint nv50_runl_update(struct nvkm_runl *);\nint nv50_runl_wait(struct nvkm_runl *);\nextern const struct nvkm_engn_func nv50_engn_sw;\nextern const struct nvkm_chan_func_inst nv50_chan_inst;\nextern const struct nvkm_chan_func_userd nv50_chan_userd;\nvoid nv50_chan_unbind(struct nvkm_chan *);\nvoid nv50_chan_start(struct nvkm_chan *);\nvoid nv50_chan_stop(struct nvkm_chan *);\nvoid nv50_chan_preempt(struct nvkm_chan *);\nint nv50_eobj_ramht_add(struct nvkm_engn *, struct nvkm_object *, struct nvkm_chan *);\nvoid nv50_eobj_ramht_del(struct nvkm_chan *, int);\n\nextern const struct nvkm_event_func g84_fifo_nonstall;\nextern const struct nvkm_engn_func g84_engn;\nextern const struct nvkm_chan_func g84_chan;\n\nint gf100_fifo_chid_ctor(struct nvkm_fifo *, int);\nint gf100_fifo_runq_nr(struct nvkm_fifo *);\nbool gf100_fifo_intr_pbdma(struct nvkm_fifo *);\nvoid gf100_fifo_intr_mmu_fault(struct nvkm_fifo *);\nvoid gf100_fifo_intr_mmu_fault_unit(struct nvkm_fifo *, int);\nvoid gf100_fifo_intr_sched(struct nvkm_fifo *);\nvoid gf100_fifo_intr_ctxsw_timeout(struct nvkm_fifo *, u32);\nvoid gf100_fifo_mmu_fault_recover(struct nvkm_fifo *, struct nvkm_fault_data *);\nextern const struct nvkm_enum gf100_fifo_mmu_fault_access[];\nextern const struct nvkm_event_func gf100_fifo_nonstall;\nbool gf100_runl_preempt_pending(struct nvkm_runl *);\nvoid gf100_runq_init(struct nvkm_runq *);\nbool gf100_runq_intr(struct nvkm_runq *, struct nvkm_runl *);\nvoid gf100_engn_mmu_fault_trigger(struct nvkm_engn *);\nbool gf100_engn_mmu_fault_triggered(struct nvkm_engn *);\nextern const struct nvkm_engn_func gf100_engn_sw;\nextern const struct nvkm_chan_func_inst gf100_chan_inst;\nvoid gf100_chan_userd_clear(struct nvkm_chan *);\nvoid gf100_chan_preempt(struct nvkm_chan *);\n\nint gk104_fifo_chid_nr(struct nvkm_fifo *);\nint gk104_fifo_runl_ctor(struct nvkm_fifo *);\nvoid gk104_fifo_init(struct nvkm_fifo *);\nvoid gk104_fifo_init_pbdmas(struct nvkm_fifo *, u32);\nirqreturn_t gk104_fifo_intr(struct nvkm_inth *);\nvoid gk104_fifo_intr_runlist(struct nvkm_fifo *);\nvoid gk104_fifo_intr_chsw(struct nvkm_fifo *);\nvoid gk104_fifo_intr_bind(struct nvkm_fifo *);\nextern const struct nvkm_fifo_func_mmu_fault gk104_fifo_mmu_fault;\nextern const struct nvkm_enum gk104_fifo_mmu_fault_reason[];\nextern const struct nvkm_enum gk104_fifo_mmu_fault_hubclient[];\nextern const struct nvkm_enum gk104_fifo_mmu_fault_gpcclient[];\nvoid gk104_runl_insert_chan(struct nvkm_chan *, struct nvkm_memory *, u64);\nvoid gk104_runl_commit(struct nvkm_runl *, struct nvkm_memory *, u32, int);\nbool gk104_runl_pending(struct nvkm_runl *);\nvoid gk104_runl_block(struct nvkm_runl *, u32);\nvoid gk104_runl_allow(struct nvkm_runl *, u32);\nvoid gk104_runl_fault_clear(struct nvkm_runl *);\nextern const struct nvkm_runq_func gk104_runq;\nvoid gk104_runq_init(struct nvkm_runq *);\nbool gk104_runq_intr(struct nvkm_runq *, struct nvkm_runl *);\nextern const struct nvkm_bitfield gk104_runq_intr_0_names[];\nbool gk104_runq_idle(struct nvkm_runq *);\nextern const struct nvkm_engn_func gk104_engn;\nbool gk104_engn_chsw(struct nvkm_engn *);\nint gk104_engn_cxid(struct nvkm_engn *, bool *cgid);\nint gk104_ectx_ctor(struct nvkm_engn *, struct nvkm_vctx *);\nextern const struct nvkm_engn_func gk104_engn_ce;\nextern const struct nvkm_chan_func_userd gk104_chan_userd;\nextern const struct nvkm_chan_func_ramfc gk104_chan_ramfc;\nvoid gk104_chan_bind(struct nvkm_chan *);\nvoid gk104_chan_bind_inst(struct nvkm_chan *);\nvoid gk104_chan_unbind(struct nvkm_chan *);\nvoid gk104_chan_start(struct nvkm_chan *);\nvoid gk104_chan_stop(struct nvkm_chan *);\n\nint gk110_fifo_chid_ctor(struct nvkm_fifo *, int);\nextern const struct nvkm_runl_func gk110_runl;\nextern const struct nvkm_cgrp_func gk110_cgrp;\nvoid gk110_runl_insert_cgrp(struct nvkm_cgrp *, struct nvkm_memory *, u64);\nextern const struct nvkm_chan_func gk110_chan;\nvoid gk110_chan_preempt(struct nvkm_chan *);\n\nextern const struct nvkm_runq_func gk208_runq;\nvoid gk208_runq_init(struct nvkm_runq *);\n\nvoid gm107_fifo_intr_mmu_fault_unit(struct nvkm_fifo *, int);\nextern const struct nvkm_fifo_func_mmu_fault gm107_fifo_mmu_fault;\nextern const struct nvkm_runl_func gm107_runl;\nextern const struct nvkm_chan_func gm107_chan;\n\nint gm200_fifo_chid_nr(struct nvkm_fifo *);\nint gm200_fifo_runq_nr(struct nvkm_fifo *);\n\nextern const struct nvkm_enum gv100_fifo_mmu_fault_access[];\nextern const struct nvkm_enum gv100_fifo_mmu_fault_reason[];\nextern const struct nvkm_enum gv100_fifo_mmu_fault_hubclient[];\nextern const struct nvkm_enum gv100_fifo_mmu_fault_gpcclient[];\nvoid gv100_runl_insert_cgrp(struct nvkm_cgrp *, struct nvkm_memory *, u64);\nvoid gv100_runl_insert_chan(struct nvkm_chan *, struct nvkm_memory *, u64);\nvoid gv100_runl_preempt(struct nvkm_runl *);\nextern const struct nvkm_runq_func gv100_runq;\nextern const struct nvkm_engn_func gv100_engn;\nvoid gv100_ectx_bind(struct nvkm_engn *, struct nvkm_cctx *, struct nvkm_chan *);\nextern const struct nvkm_engn_func gv100_engn_ce;\nint gv100_ectx_ce_ctor(struct nvkm_engn *, struct nvkm_vctx *);\nvoid gv100_ectx_ce_bind(struct nvkm_engn *, struct nvkm_cctx *, struct nvkm_chan *);\nextern const struct nvkm_chan_func_userd gv100_chan_userd;\nextern const struct nvkm_chan_func_ramfc gv100_chan_ramfc;\n\nvoid tu102_fifo_intr_ctxsw_timeout_info(struct nvkm_engn *, u32 info);\nextern const struct nvkm_fifo_func_mmu_fault tu102_fifo_mmu_fault;\n\nint ga100_fifo_runl_ctor(struct nvkm_fifo *);\nint ga100_fifo_nonstall_ctor(struct nvkm_fifo *);\nextern const struct nvkm_event_func ga100_fifo_nonstall;\nextern const struct nvkm_runl_func ga100_runl;\nextern const struct nvkm_runq_func ga100_runq;\nextern const struct nvkm_engn_func ga100_engn;\nextern const struct nvkm_engn_func ga100_engn_ce;\nextern const struct nvkm_cgrp_func ga100_cgrp;\nextern const struct nvkm_chan_func ga100_chan;\n\nint nvkm_uchan_new(struct nvkm_fifo *, struct nvkm_cgrp *, const struct nvkm_oclass *,\n\t\t   void *argv, u32 argc, struct nvkm_object **);\nint nvkm_ucgrp_new(struct nvkm_fifo *, const struct nvkm_oclass *, void *argv, u32 argc,\n\t\t   struct nvkm_object **);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}