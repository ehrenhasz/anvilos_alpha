{
  "module_name": "outp.h",
  "hash_id": "483af95155cb81a885e90dc14060765f9e03f2fad1dd17d7959ace2c0d8fe900",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/nouveau/nvkm/engine/disp/outp.h",
  "human_readable_source": " \n#ifndef __NVKM_DISP_OUTP_H__\n#define __NVKM_DISP_OUTP_H__\n#include \"priv.h\"\n\n#include <drm/display/drm_dp.h>\n#include <subdev/bios.h>\n#include <subdev/bios/dcb.h>\n#include <subdev/bios/dp.h>\n\nstruct nvkm_outp {\n\tconst struct nvkm_outp_func *func;\n\tstruct nvkm_disp *disp;\n\tint index;\n\tstruct dcb_output info;\n\n\tstruct nvkm_i2c_bus *i2c;\n\n\tstruct list_head head;\n\tstruct nvkm_conn *conn;\n\tbool identity;\n\n\t \n#define NVKM_OUTP_PRIV 1\n#define NVKM_OUTP_USER 2\n\tu8 acquired:2;\n\tstruct nvkm_ior *ior;\n\n\tunion {\n\t\tstruct {\n\t\t\tbool dual;\n\t\t\tbool bpc8;\n\t\t} lvds;\n\n\t\tstruct {\n\t\t\tstruct nvbios_dpout info;\n\t\t\tu8 version;\n\n\t\t\tstruct nvkm_i2c_aux *aux;\n\n\t\t\tbool enabled;\n\t\t\tbool aux_pwr;\n\t\t\tbool aux_pwr_pu;\n\t\t\tu8 lttpr[6];\n\t\t\tu8 lttprs;\n\t\t\tu8 dpcd[DP_RECEIVER_CAP_SIZE];\n\n\t\t\tstruct {\n\t\t\t\tint dpcd;  \n\t\t\t\tu32 rate;\n\t\t\t} rate[8];\n\t\t\tint rates;\n\t\t\tint links;\n\n\t\t\tstruct mutex mutex;\n\t\t\tstruct {\n\t\t\t\tatomic_t done;\n\t\t\t\tu8 nr;\n\t\t\t\tu8 bw;\n\t\t\t\tbool mst;\n\t\t\t} lt;\n\t\t} dp;\n\t};\n\n\tstruct nvkm_object object;\n\tstruct {\n\t\tstruct nvkm_head *head;\n\t} asy;\n};\n\nint nvkm_outp_new_(const struct nvkm_outp_func *, struct nvkm_disp *, int index,\n\t\t   struct dcb_output *, struct nvkm_outp **);\nint nvkm_outp_new(struct nvkm_disp *, int index, struct dcb_output *, struct nvkm_outp **);\nvoid nvkm_outp_del(struct nvkm_outp **);\nvoid nvkm_outp_init(struct nvkm_outp *);\nvoid nvkm_outp_fini(struct nvkm_outp *);\nint nvkm_outp_acquire(struct nvkm_outp *, u8 user, bool hda);\nvoid nvkm_outp_release(struct nvkm_outp *, u8 user);\nvoid nvkm_outp_route(struct nvkm_disp *);\n\nstruct nvkm_outp_func {\n\tvoid *(*dtor)(struct nvkm_outp *);\n\tvoid (*init)(struct nvkm_outp *);\n\tvoid (*fini)(struct nvkm_outp *);\n\tint (*acquire)(struct nvkm_outp *);\n\tvoid (*release)(struct nvkm_outp *);\n\tvoid (*disable)(struct nvkm_outp *, struct nvkm_ior *);\n};\n\n#define OUTP_MSG(o,l,f,a...) do {                                              \\\n\tstruct nvkm_outp *_outp = (o);                                         \\\n\tnvkm_##l(&_outp->disp->engine.subdev, \"outp %02x:%04x:%04x: \"f\"\\n\",    \\\n\t\t _outp->index, _outp->info.hasht, _outp->info.hashm, ##a);     \\\n} while(0)\n#define OUTP_ERR(o,f,a...) OUTP_MSG((o), error, f, ##a)\n#define OUTP_DBG(o,f,a...) OUTP_MSG((o), debug, f, ##a)\n#define OUTP_TRACE(o,f,a...) OUTP_MSG((o), trace, f, ##a)\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}