{
  "module_name": "ctxtu102.c",
  "hash_id": "5b685ac57848b33b74a5eaf4a79fac62e19b7139aa5ec9f1deb0f7375ff37c10",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/nouveau/nvkm/engine/gr/ctxtu102.c",
  "human_readable_source": " \n#include \"ctxgf100.h\"\n\nstatic void\ntu102_grctx_generate_r419c0c(struct gf100_gr *gr)\n{\n\tstruct nvkm_device *device = gr->base.engine.subdev.device;\n\tnvkm_mask(device, 0x419c0c, 0x80000000, 0x80000000);\n\tnvkm_mask(device, 0x40584c, 0x00000008, 0x00000000);\n\tnvkm_mask(device, 0x400080, 0x00000000, 0x00000000);\n}\n\nstatic void\ntu102_grctx_generate_sm_id(struct gf100_gr *gr, int gpc, int tpc, int sm)\n{\n\tstruct nvkm_device *device = gr->base.engine.subdev.device;\n\n\ttpc = gv100_gr_nonpes_aware_tpc(gr, gpc, tpc);\n\n\tnvkm_wr32(device, TPC_UNIT(gpc, tpc, 0x608), sm);\n\tnvkm_wr32(device, TPC_UNIT(gpc, tpc, 0x088), sm);\n}\n\nstatic const struct gf100_gr_init\ntu102_grctx_init_unknown_bundle_init_0[] = {\n\t{ 0x00001000,  1, 0x00000001, 0x00000004 },\n\t{ 0x00002020, 64, 0x00000001, 0x00000000 },\n\t{ 0x0001e100,  1, 0x00000001, 0x00000001 },\n\t{}\n};\n\nstatic const struct gf100_gr_pack\ntu102_grctx_pack_sw_bundle64_init[] = {\n\t{ tu102_grctx_init_unknown_bundle_init_0, .type = 64 },\n\t{}\n};\n\nvoid\ntu102_grctx_generate_unknown(struct gf100_gr_chan *chan, u64 addr, u32 size)\n{\n\tgf100_grctx_patch_wr32(chan, 0x408070, addr >> 8);\n\tgf100_grctx_patch_wr32(chan, 0x408074, size >> 8);  \n\tgf100_grctx_patch_wr32(chan, 0x419034, addr >> 8);\n\tgf100_grctx_patch_wr32(chan, 0x408078, 0x00000000);\n}\n\nconst struct gf100_grctx_func\ntu102_grctx = {\n\t.main = gf100_grctx_generate_main,\n\t.unkn = gv100_grctx_generate_unkn,\n\t.sw_bundle64_init = tu102_grctx_pack_sw_bundle64_init,\n\t.bundle = gm107_grctx_generate_bundle,\n\t.bundle_size = 0x3000,\n\t.bundle_min_gpm_fifo_depth = 0x180,\n\t.bundle_token_limit = 0xa80,\n\t.pagepool = gp100_grctx_generate_pagepool,\n\t.pagepool_size = 0x20000,\n\t.attrib_cb_size = gp102_grctx_generate_attrib_cb_size,\n\t.attrib_cb = gv100_grctx_generate_attrib_cb,\n\t.attrib = gv100_grctx_generate_attrib,\n\t.attrib_nr_max = 0x800,\n\t.attrib_nr = 0x700,\n\t.unknown_size = 0x80000,\n\t.unknown = tu102_grctx_generate_unknown,\n\t.alpha_nr_max = 0xc00,\n\t.alpha_nr = 0x800,\n\t.gfxp_nr = 0xfa8,\n\t.sm_id = tu102_grctx_generate_sm_id,\n\t.skip_pd_num_tpc_per_gpc = true,\n\t.rop_mapping = gv100_grctx_generate_rop_mapping,\n\t.r406500 = gm200_grctx_generate_r406500,\n\t.r400088 = gv100_grctx_generate_r400088,\n\t.r419c0c = tu102_grctx_generate_r419c0c,\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}