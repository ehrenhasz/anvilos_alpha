{
  "module_name": "M0205.c",
  "hash_id": "422a27eb7ff4a16af548cc723055d976900973144ca20b8c272095096c3eb691",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/nouveau/nvkm/subdev/bios/M0205.c",
  "human_readable_source": " \n#include <subdev/bios.h>\n#include <subdev/bios/bit.h>\n#include <subdev/bios/M0205.h>\n\nu32\nnvbios_M0205Te(struct nvkm_bios *bios,\n\t       u8 *ver, u8 *hdr, u8 *cnt, u8 *len, u8 *snr, u8 *ssz)\n{\n\tstruct bit_entry bit_M;\n\tu32 data = 0x00000000;\n\n\tif (!bit_entry(bios, 'M', &bit_M)) {\n\t\tif (bit_M.version == 2 && bit_M.length > 0x08)\n\t\t\tdata = nvbios_rd32(bios, bit_M.offset + 0x05);\n\t\tif (data) {\n\t\t\t*ver = nvbios_rd08(bios, data + 0x00);\n\t\t\tswitch (*ver) {\n\t\t\tcase 0x10:\n\t\t\t\t*hdr = nvbios_rd08(bios, data + 0x01);\n\t\t\t\t*len = nvbios_rd08(bios, data + 0x02);\n\t\t\t\t*ssz = nvbios_rd08(bios, data + 0x03);\n\t\t\t\t*snr = nvbios_rd08(bios, data + 0x04);\n\t\t\t\t*cnt = nvbios_rd08(bios, data + 0x05);\n\t\t\t\treturn data;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn 0x00000000;\n}\n\nu32\nnvbios_M0205Tp(struct nvkm_bios *bios,\n\t       u8 *ver, u8 *hdr, u8 *cnt, u8 *len, u8 *snr, u8 *ssz,\n\t       struct nvbios_M0205T *info)\n{\n\tu32 data = nvbios_M0205Te(bios, ver, hdr, cnt, len, snr, ssz);\n\tmemset(info, 0x00, sizeof(*info));\n\tswitch (!!data * *ver) {\n\tcase 0x10:\n\t\tinfo->freq = nvbios_rd16(bios, data + 0x06);\n\t\tbreak;\n\tdefault:\n\t\tbreak;\n\t}\n\treturn data;\n}\n\nu32\nnvbios_M0205Ee(struct nvkm_bios *bios, int idx,\n\t       u8 *ver, u8 *hdr, u8 *cnt, u8 *len)\n{\n\tu8  snr, ssz;\n\tu32 data = nvbios_M0205Te(bios, ver, hdr, cnt, len, &snr, &ssz);\n\tif (data && idx < *cnt) {\n\t\tdata = data + *hdr + idx * (*len + (snr * ssz));\n\t\t*hdr = *len;\n\t\t*cnt = snr;\n\t\t*len = ssz;\n\t\treturn data;\n\t}\n\treturn 0x00000000;\n}\n\nu32\nnvbios_M0205Ep(struct nvkm_bios *bios, int idx,\n\t       u8 *ver, u8 *hdr, u8 *cnt, u8 *len,\n\t       struct nvbios_M0205E *info)\n{\n\tu32 data = nvbios_M0205Ee(bios, idx, ver, hdr, cnt, len);\n\tmemset(info, 0x00, sizeof(*info));\n\tswitch (!!data * *ver) {\n\tcase 0x10:\n\t\tinfo->type = nvbios_rd08(bios, data + 0x00) & 0x0f;\n\t\treturn data;\n\tdefault:\n\t\tbreak;\n\t}\n\treturn 0x00000000;\n}\n\nu32\nnvbios_M0205Se(struct nvkm_bios *bios, int ent, int idx, u8 *ver, u8 *hdr)\n{\n\n\tu8  cnt, len;\n\tu32 data = nvbios_M0205Ee(bios, ent, ver, hdr, &cnt, &len);\n\tif (data && idx < cnt) {\n\t\tdata = data + *hdr + idx * len;\n\t\t*hdr = len;\n\t\treturn data;\n\t}\n\treturn 0x00000000;\n}\n\nu32\nnvbios_M0205Sp(struct nvkm_bios *bios, int ent, int idx, u8 *ver, u8 *hdr,\n\t       struct nvbios_M0205S *info)\n{\n\tu32 data = nvbios_M0205Se(bios, ent, idx, ver, hdr);\n\tmemset(info, 0x00, sizeof(*info));\n\tswitch (!!data * *ver) {\n\tcase 0x10:\n\t\tinfo->data = nvbios_rd08(bios, data + 0x00);\n\t\treturn data;\n\tdefault:\n\t\tbreak;\n\t}\n\treturn 0x00000000;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}