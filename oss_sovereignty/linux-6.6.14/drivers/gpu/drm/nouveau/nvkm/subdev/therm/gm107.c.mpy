{
  "module_name": "gm107.c",
  "hash_id": "70dd163e517c90d7b3c4db54a5fe01d0e902f4db15f897c35a95f4fd25e25d73",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/nouveau/nvkm/subdev/therm/gm107.c",
  "human_readable_source": " \n#include \"priv.h\"\n\nstatic int\ngm107_fan_pwm_ctrl(struct nvkm_therm *therm, int line, bool enable)\n{\n\t \n\treturn 0;\n}\n\nstatic int\ngm107_fan_pwm_get(struct nvkm_therm *therm, int line, u32 *divs, u32 *duty)\n{\n\tstruct nvkm_device *device = therm->subdev.device;\n\t*divs = nvkm_rd32(device, 0x10eb20) & 0x1fff;\n\t*duty = nvkm_rd32(device, 0x10eb24) & 0x1fff;\n\treturn 0;\n}\n\nstatic int\ngm107_fan_pwm_set(struct nvkm_therm *therm, int line, u32 divs, u32 duty)\n{\n\tstruct nvkm_device *device = therm->subdev.device;\n\tnvkm_mask(device, 0x10eb10, 0x1fff, divs);  \n\tnvkm_wr32(device, 0x10eb14, duty | 0x80000000);\n\treturn 0;\n}\n\nstatic int\ngm107_fan_pwm_clock(struct nvkm_therm *therm, int line)\n{\n\treturn therm->subdev.device->crystal * 1000;\n}\n\nstatic const struct nvkm_therm_func\ngm107_therm = {\n\t.init = gf119_therm_init,\n\t.fini = g84_therm_fini,\n\t.pwm_ctrl = gm107_fan_pwm_ctrl,\n\t.pwm_get = gm107_fan_pwm_get,\n\t.pwm_set = gm107_fan_pwm_set,\n\t.pwm_clock = gm107_fan_pwm_clock,\n\t.temp_get = g84_temp_get,\n\t.fan_sense = gt215_therm_fan_sense,\n\t.program_alarms = nvkm_therm_program_alarms_polling,\n};\n\nint\ngm107_therm_new(struct nvkm_device *device, enum nvkm_subdev_type type, int inst,\n\t\tstruct nvkm_therm **ptherm)\n{\n\treturn nvkm_therm_new_(&gm107_therm, device, type, inst, ptherm);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}