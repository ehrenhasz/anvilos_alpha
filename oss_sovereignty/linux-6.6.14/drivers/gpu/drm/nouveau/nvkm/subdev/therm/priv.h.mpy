{
  "module_name": "priv.h",
  "hash_id": "07ea7b833a3680105567d45af64a47ca142039cd4a22d0f1bf1dd58a081c19a4",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/nouveau/nvkm/subdev/therm/priv.h",
  "human_readable_source": "#ifndef __NVTHERM_PRIV_H__\n#define __NVTHERM_PRIV_H__\n#define nvkm_therm(p) container_of((p), struct nvkm_therm, subdev)\n \n#include <subdev/therm.h>\n#include <subdev/bios.h>\n#include <subdev/bios/extdev.h>\n#include <subdev/bios/gpio.h>\n#include <subdev/bios/perf.h>\n\nint nvkm_therm_new_(const struct nvkm_therm_func *, struct nvkm_device *, enum nvkm_subdev_type,\n\t\t    int, struct nvkm_therm **);\nvoid nvkm_therm_ctor(struct nvkm_therm *, struct nvkm_device *, enum nvkm_subdev_type, int,\n\t\t     const struct nvkm_therm_func *);\n\nstruct nvkm_fan {\n\tstruct nvkm_therm *parent;\n\tconst char *type;\n\n\tstruct nvbios_therm_fan bios;\n\tstruct nvbios_perf_fan perf;\n\n\tstruct nvkm_alarm alarm;\n\tspinlock_t lock;\n\tint percent;\n\n\tint (*get)(struct nvkm_therm *);\n\tint (*set)(struct nvkm_therm *, int percent);\n\n\tstruct dcb_gpio_func tach;\n};\n\nint nvkm_therm_fan_mode(struct nvkm_therm *, int mode);\nint nvkm_therm_attr_get(struct nvkm_therm *, enum nvkm_therm_attr_type);\nint nvkm_therm_attr_set(struct nvkm_therm *, enum nvkm_therm_attr_type, int);\n\nvoid nvkm_therm_ic_ctor(struct nvkm_therm *);\n\nint nvkm_therm_sensor_ctor(struct nvkm_therm *);\n\nint nvkm_therm_fan_ctor(struct nvkm_therm *);\nint nvkm_therm_fan_init(struct nvkm_therm *);\nint nvkm_therm_fan_fini(struct nvkm_therm *, bool suspend);\nint nvkm_therm_fan_get(struct nvkm_therm *);\nint nvkm_therm_fan_set(struct nvkm_therm *, bool now, int percent);\nint nvkm_therm_fan_user_get(struct nvkm_therm *);\nint nvkm_therm_fan_user_set(struct nvkm_therm *, int percent);\n\nint  nvkm_therm_sensor_init(struct nvkm_therm *);\nint  nvkm_therm_sensor_fini(struct nvkm_therm *, bool suspend);\nvoid nvkm_therm_sensor_preinit(struct nvkm_therm *);\nvoid nvkm_therm_sensor_set_threshold_state(struct nvkm_therm *,\n\t\t\t\t\t   enum nvkm_therm_thrs,\n\t\t\t\t\t   enum nvkm_therm_thrs_state);\nenum nvkm_therm_thrs_state\nnvkm_therm_sensor_get_threshold_state(struct nvkm_therm *,\n\t\t\t\t      enum nvkm_therm_thrs);\nvoid nvkm_therm_sensor_event(struct nvkm_therm *, enum nvkm_therm_thrs,\n\t\t\t     enum nvkm_therm_thrs_direction);\nvoid nvkm_therm_program_alarms_polling(struct nvkm_therm *);\n\nstruct nvkm_therm_func {\n\tvoid (*init)(struct nvkm_therm *);\n\tvoid (*fini)(struct nvkm_therm *);\n\tvoid (*intr)(struct nvkm_therm *);\n\n\tint (*pwm_ctrl)(struct nvkm_therm *, int line, bool);\n\tint (*pwm_get)(struct nvkm_therm *, int line, u32 *, u32 *);\n\tint (*pwm_set)(struct nvkm_therm *, int line, u32, u32);\n\tint (*pwm_clock)(struct nvkm_therm *, int line);\n\n\tint (*temp_get)(struct nvkm_therm *);\n\n\tint (*fan_sense)(struct nvkm_therm *);\n\n\tvoid (*program_alarms)(struct nvkm_therm *);\n\n\tvoid (*clkgate_init)(struct nvkm_therm *,\n\t\t\t     const struct nvkm_therm_clkgate_pack *);\n\tvoid (*clkgate_enable)(struct nvkm_therm *);\n\tvoid (*clkgate_fini)(struct nvkm_therm *, bool);\n};\n\nvoid nv40_therm_intr(struct nvkm_therm *);\n\nint  nv50_fan_pwm_ctrl(struct nvkm_therm *, int, bool);\nint  nv50_fan_pwm_get(struct nvkm_therm *, int, u32 *, u32 *);\nint  nv50_fan_pwm_set(struct nvkm_therm *, int, u32, u32);\nint  nv50_fan_pwm_clock(struct nvkm_therm *, int);\n\nint  g84_temp_get(struct nvkm_therm *);\nvoid g84_sensor_setup(struct nvkm_therm *);\nvoid g84_therm_fini(struct nvkm_therm *);\n\nint gt215_therm_fan_sense(struct nvkm_therm *);\n\nvoid gf100_clkgate_init(struct nvkm_therm *,\n\t\t\tconst struct nvkm_therm_clkgate_pack *);\n\nvoid g84_therm_init(struct nvkm_therm *);\n\nint gf119_fan_pwm_ctrl(struct nvkm_therm *, int, bool);\nint gf119_fan_pwm_get(struct nvkm_therm *, int, u32 *, u32 *);\nint gf119_fan_pwm_set(struct nvkm_therm *, int, u32, u32);\nint gf119_fan_pwm_clock(struct nvkm_therm *, int);\nvoid gf119_therm_init(struct nvkm_therm *);\n\nvoid gk104_therm_init(struct nvkm_therm *);\nvoid gk104_clkgate_enable(struct nvkm_therm *);\nvoid gk104_clkgate_fini(struct nvkm_therm *, bool);\n\nint nvkm_fanpwm_create(struct nvkm_therm *, struct dcb_gpio_func *);\nint nvkm_fantog_create(struct nvkm_therm *, struct dcb_gpio_func *);\nint nvkm_fannil_create(struct nvkm_therm *);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}