{
  "module_name": "vmmgk104.c",
  "hash_id": "78bc25581e6c1f954d23415f16da2059a9be04fad51e64b1fcee9ec026ae42e1",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/nouveau/nvkm/subdev/mmu/vmmgk104.c",
  "human_readable_source": " \n#include \"vmm.h\"\n\nvoid\ngk104_vmm_lpt_invalid(struct nvkm_vmm *vmm,\n\t\t      struct nvkm_mmu_pt *pt, u32 ptei, u32 ptes)\n{\n\t \n\tVMM_FO064(pt, vmm, ptei * 8, BIT_ULL(1)  , ptes);\n}\n\nstatic const struct nvkm_vmm_desc_func\ngk104_vmm_lpt = {\n\t.invalid = gk104_vmm_lpt_invalid,\n\t.unmap = gf100_vmm_pgt_unmap,\n\t.mem = gf100_vmm_pgt_mem,\n};\n\nconst struct nvkm_vmm_desc\ngk104_vmm_desc_17_12[] = {\n\t{ SPT, 15, 8, 0x1000, &gf100_vmm_pgt },\n\t{ PGD, 13, 8, 0x1000, &gf100_vmm_pgd },\n\t{}\n};\n\nconst struct nvkm_vmm_desc\ngk104_vmm_desc_17_17[] = {\n\t{ LPT, 10, 8, 0x1000, &gk104_vmm_lpt },\n\t{ PGD, 13, 8, 0x1000, &gf100_vmm_pgd },\n\t{}\n};\n\nconst struct nvkm_vmm_desc\ngk104_vmm_desc_16_12[] = {\n\t{ SPT, 14, 8, 0x1000, &gf100_vmm_pgt },\n\t{ PGD, 14, 8, 0x1000, &gf100_vmm_pgd },\n\t{}\n};\n\nconst struct nvkm_vmm_desc\ngk104_vmm_desc_16_16[] = {\n\t{ LPT, 10, 8, 0x1000, &gk104_vmm_lpt },\n\t{ PGD, 14, 8, 0x1000, &gf100_vmm_pgd },\n\t{}\n};\n\nstatic const struct nvkm_vmm_func\ngk104_vmm_17 = {\n\t.join = gf100_vmm_join,\n\t.part = gf100_vmm_part,\n\t.aper = gf100_vmm_aper,\n\t.valid = gf100_vmm_valid,\n\t.flush = gf100_vmm_flush,\n\t.invalidate_pdb = gf100_vmm_invalidate_pdb,\n\t.page = {\n\t\t{ 17, &gk104_vmm_desc_17_17[0], NVKM_VMM_PAGE_xVxC },\n\t\t{ 12, &gk104_vmm_desc_17_12[0], NVKM_VMM_PAGE_xVHx },\n\t\t{}\n\t}\n};\n\nstatic const struct nvkm_vmm_func\ngk104_vmm_16 = {\n\t.join = gf100_vmm_join,\n\t.part = gf100_vmm_part,\n\t.aper = gf100_vmm_aper,\n\t.valid = gf100_vmm_valid,\n\t.flush = gf100_vmm_flush,\n\t.invalidate_pdb = gf100_vmm_invalidate_pdb,\n\t.page = {\n\t\t{ 16, &gk104_vmm_desc_16_16[0], NVKM_VMM_PAGE_xVxC },\n\t\t{ 12, &gk104_vmm_desc_16_12[0], NVKM_VMM_PAGE_xVHx },\n\t\t{}\n\t}\n};\n\nint\ngk104_vmm_new(struct nvkm_mmu *mmu, bool managed, u64 addr, u64 size,\n\t      void *argv, u32 argc, struct lock_class_key *key,\n\t      const char *name, struct nvkm_vmm **pvmm)\n{\n\treturn gf100_vmm_new_(&gk104_vmm_16, &gk104_vmm_17, mmu, managed, addr,\n\t\t\t      size, argv, argc, key, name, pvmm);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}