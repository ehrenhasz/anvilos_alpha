{
  "module_name": "fbmem.h",
  "hash_id": "7db61d2f009837148dd2cd65150e86a6e8e66938e0826a21a07e9c20424aab22",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/nouveau/nvkm/subdev/devinit/fbmem.h",
  "human_readable_source": " \n#include <subdev/fb/regsnv04.h>\n\n#define NV04_PFB_DEBUG_0\t\t\t\t\t0x00100080\n#\tdefine NV04_PFB_DEBUG_0_PAGE_MODE\t\t\t0x00000001\n#\tdefine NV04_PFB_DEBUG_0_REFRESH_OFF\t\t\t0x00000010\n#\tdefine NV04_PFB_DEBUG_0_REFRESH_COUNTX64\t\t0x00003f00\n#\tdefine NV04_PFB_DEBUG_0_REFRESH_SLOW_CLK\t\t0x00004000\n#\tdefine NV04_PFB_DEBUG_0_SAFE_MODE\t\t\t0x00008000\n#\tdefine NV04_PFB_DEBUG_0_ALOM_ENABLE\t\t\t0x00010000\n#\tdefine NV04_PFB_DEBUG_0_CASOE\t\t\t\t0x00100000\n#\tdefine NV04_PFB_DEBUG_0_CKE_INVERT\t\t\t0x10000000\n#\tdefine NV04_PFB_DEBUG_0_REFINC\t\t\t\t0x20000000\n#\tdefine NV04_PFB_DEBUG_0_SAVE_POWER_OFF\t\t\t0x40000000\n#define NV04_PFB_CFG0\t\t\t\t\t\t0x00100200\n#\tdefine NV04_PFB_CFG0_SCRAMBLE\t\t\t\t0x20000000\n#define NV04_PFB_CFG1\t\t\t\t\t\t0x00100204\n#define NV04_PFB_SCRAMBLE(i)                         (0x00100400 + 4 * (i))\n\n#define NV10_PFB_REFCTRL\t\t\t\t\t0x00100210\n#\tdefine NV10_PFB_REFCTRL_VALID_1\t\t\t\t(1 << 31)\n\nstatic inline struct io_mapping *\nfbmem_init(struct nvkm_device *dev)\n{\n\treturn io_mapping_create_wc(dev->func->resource_addr(dev, 1),\n\t\t\t\t    dev->func->resource_size(dev, 1));\n}\n\nstatic inline void\nfbmem_fini(struct io_mapping *fb)\n{\n\tio_mapping_free(fb);\n}\n\nstatic inline u32\nfbmem_peek(struct io_mapping *fb, u32 off)\n{\n\tu8 __iomem *p = io_mapping_map_atomic_wc(fb, off & PAGE_MASK);\n\tu32 val = ioread32(p + (off & ~PAGE_MASK));\n\tio_mapping_unmap_atomic(p);\n\treturn val;\n}\n\nstatic inline void\nfbmem_poke(struct io_mapping *fb, u32 off, u32 val)\n{\n\tu8 __iomem *p = io_mapping_map_atomic_wc(fb, off & PAGE_MASK);\n\tiowrite32(val, p + (off & ~PAGE_MASK));\n\twmb();\n\tio_mapping_unmap_atomic(p);\n}\n\nstatic inline bool\nfbmem_readback(struct io_mapping *fb, u32 off, u32 val)\n{\n\tfbmem_poke(fb, off, val);\n\treturn val == fbmem_peek(fb, off);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}