{
  "module_name": "idle.fuc",
  "hash_id": "db96dbdd69ce99c75108cab9393c1f36735ba5c54c32d146f642b3d924db6c93",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/nouveau/nvkm/subdev/pmu/fuc/idle.fuc",
  "human_readable_source": "/*\n * Copyright 2013 Red Hat Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL\n * THE COPYRIGHT HOLDER(S) OR AUTHOR(S) BE LIABLE FOR ANY CLAIM, DAMAGES OR\n * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n *\n * Authors: Ben Skeggs\n */\n\n#ifdef INCLUDE_PROC\nprocess(PROC_IDLE, #idle, #idle_recv)\n#endif\n\n/******************************************************************************\n * IDLE data segment\n *****************************************************************************/\n#ifdef INCLUDE_DATA\n#endif\n\n/******************************************************************************\n * IDLE code segment\n *****************************************************************************/\n#ifdef INCLUDE_CODE\n// description\n//\n// $r15 - current (idle)\n// $r14 - message\n// $r0  - zero\nidle_recv:\n\tret\n\n// description\n//\n// $r15 - current (idle)\n// $r0  - zero\nidle:\n\t// set our \"no interrupt has occurred during our execution\" flag\n\tbset $flags $p0\n\n\t// count IDLE invocations for debugging purposes\n\tnv_iord($r1, NV_PPWR_DSCRATCH(1))\n\tadd b32 $r1 1\n\tnv_iowr(NV_PPWR_DSCRATCH(1), $r1)\n\n\t// keep looping while there's pending messages for any process\n\tidle_loop:\n\tmov $r1 #proc_list_head\n\tbclr $flags $p2\n\tidle_proc:\n\t\t// process the process' messages until there's none left\n\t\tidle_proc_exec:\n\t\t\tpush $r1\n\t\t\tmov b32 $r14 $r1\n\t\t\tcall(recv)\n\t\t\tpop $r1\n\t\t\tbra not $p1 #idle_proc_next\n\t\t\tbset $flags $p2\n\t\t\tbra #idle_proc_exec\n\t\t// next process!\n\t\tidle_proc_next:\n\t\tadd b32 $r1 #proc_size\n\t\tcmp b32 $r1 $r15\n\t\tbra ne #idle_proc\n\tbra $p2 #idle_loop\n\n\t// sleep if no interrupts have occurred\n\tsleep $p0\n\tbra #idle\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}