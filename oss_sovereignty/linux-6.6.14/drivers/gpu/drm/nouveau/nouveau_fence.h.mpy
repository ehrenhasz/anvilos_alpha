{
  "module_name": "nouveau_fence.h",
  "hash_id": "d7202d48a68be509b1d2034997163cc79372a02ef11fa7e02b627f486c67c074",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/nouveau/nouveau_fence.h",
  "human_readable_source": " \n#ifndef __NOUVEAU_FENCE_H__\n#define __NOUVEAU_FENCE_H__\n\n#include <linux/dma-fence.h>\n#include <nvif/event.h>\n\nstruct nouveau_drm;\nstruct nouveau_bo;\n\nstruct nouveau_fence {\n\tstruct dma_fence base;\n\n\tstruct list_head head;\n\n\tstruct nouveau_channel __rcu *channel;\n\tunsigned long timeout;\n};\n\nint  nouveau_fence_create(struct nouveau_fence **, struct nouveau_channel *);\nint  nouveau_fence_new(struct nouveau_fence **, struct nouveau_channel *);\nvoid nouveau_fence_unref(struct nouveau_fence **);\n\nint  nouveau_fence_emit(struct nouveau_fence *);\nbool nouveau_fence_done(struct nouveau_fence *);\nint  nouveau_fence_wait(struct nouveau_fence *, bool lazy, bool intr);\nint  nouveau_fence_sync(struct nouveau_bo *, struct nouveau_channel *, bool exclusive, bool intr);\n\nstruct nouveau_fence_chan {\n\tspinlock_t lock;\n\tstruct kref fence_ref;\n\n\tstruct list_head pending;\n\tstruct list_head flip;\n\n\tint  (*emit)(struct nouveau_fence *);\n\tint  (*sync)(struct nouveau_fence *, struct nouveau_channel *,\n\t\t     struct nouveau_channel *);\n\tu32  (*read)(struct nouveau_channel *);\n\tint  (*emit32)(struct nouveau_channel *, u64, u32);\n\tint  (*sync32)(struct nouveau_channel *, u64, u32);\n\n\tu32 sequence;\n\tu32 context;\n\tchar name[32];\n\n\tstruct nvif_event event;\n\tint notify_ref, dead, killed;\n};\n\nstruct nouveau_fence_priv {\n\tvoid (*dtor)(struct nouveau_drm *);\n\tbool (*suspend)(struct nouveau_drm *);\n\tvoid (*resume)(struct nouveau_drm *);\n\tint  (*context_new)(struct nouveau_channel *);\n\tvoid (*context_del)(struct nouveau_channel *);\n\n\tbool uevent;\n};\n\n#define nouveau_fence(drm) ((struct nouveau_fence_priv *)(drm)->fence)\n\nvoid nouveau_fence_context_new(struct nouveau_channel *, struct nouveau_fence_chan *);\nvoid nouveau_fence_context_del(struct nouveau_fence_chan *);\nvoid nouveau_fence_context_free(struct nouveau_fence_chan *);\nvoid nouveau_fence_context_kill(struct nouveau_fence_chan *, int error);\n\nint nv04_fence_create(struct nouveau_drm *);\nint nv04_fence_mthd(struct nouveau_channel *, u32, u32, u32);\n\nint  nv10_fence_emit(struct nouveau_fence *);\nint  nv17_fence_sync(struct nouveau_fence *, struct nouveau_channel *,\n\t\t     struct nouveau_channel *);\nu32  nv10_fence_read(struct nouveau_channel *);\nvoid nv10_fence_context_del(struct nouveau_channel *);\nvoid nv10_fence_destroy(struct nouveau_drm *);\nint  nv10_fence_create(struct nouveau_drm *);\n\nint  nv17_fence_create(struct nouveau_drm *);\nvoid nv17_fence_resume(struct nouveau_drm *drm);\n\nint nv50_fence_create(struct nouveau_drm *);\nint nv84_fence_create(struct nouveau_drm *);\nint nvc0_fence_create(struct nouveau_drm *);\n\nstruct nv84_fence_chan {\n\tstruct nouveau_fence_chan base;\n\tstruct nouveau_vma *vma;\n};\n\nstruct nv84_fence_priv {\n\tstruct nouveau_fence_priv base;\n\tstruct nouveau_bo *bo;\n\tu32 *suspend;\n\tstruct mutex mutex;\n};\n\nint  nv84_fence_context_new(struct nouveau_channel *);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}