{
  "module_name": "nouveau_boa0b5.c",
  "hash_id": "b390bf4afe76cf28e696949216bd06d9e7e8f587ec5d90de733b9e8f1f04e5f4",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/nouveau/nouveau_boa0b5.c",
  "human_readable_source": " \n \n#include \"nouveau_bo.h\"\n#include \"nouveau_dma.h\"\n#include \"nouveau_mem.h\"\n\n#include <nvif/push906f.h>\n\n#include <nvhw/class/cla0b5.h>\n\nint\nnve0_bo_move_copy(struct nouveau_channel *chan, struct ttm_buffer_object *bo,\n\t\t  struct ttm_resource *old_reg, struct ttm_resource *new_reg)\n{\n\tstruct nouveau_mem *mem = nouveau_mem(old_reg);\n\tstruct nvif_push *push = chan->chan.push;\n\tint ret;\n\n\tret = PUSH_WAIT(push, 10);\n\tif (ret)\n\t\treturn ret;\n\n\tPUSH_MTHD(push, NVA0B5, OFFSET_IN_UPPER,\n\t\t  NVVAL(NVA0B5, OFFSET_IN_UPPER, UPPER, upper_32_bits(mem->vma[0].addr)),\n\n\t\t\t\tOFFSET_IN_LOWER, lower_32_bits(mem->vma[0].addr),\n\n\t\t\t\tOFFSET_OUT_UPPER,\n\t\t  NVVAL(NVA0B5, OFFSET_OUT_UPPER, UPPER, upper_32_bits(mem->vma[1].addr)),\n\n\t\t\t\tOFFSET_OUT_LOWER, lower_32_bits(mem->vma[1].addr),\n\t\t\t\tPITCH_IN, PAGE_SIZE,\n\t\t\t\tPITCH_OUT, PAGE_SIZE,\n\t\t\t\tLINE_LENGTH_IN, PAGE_SIZE,\n\t\t\t\tLINE_COUNT, PFN_UP(new_reg->size));\n\n\tPUSH_IMMD(push, NVA0B5, LAUNCH_DMA,\n\t\t  NVDEF(NVA0B5, LAUNCH_DMA, DATA_TRANSFER_TYPE, NON_PIPELINED) |\n\t\t  NVDEF(NVA0B5, LAUNCH_DMA, FLUSH_ENABLE, TRUE) |\n\t\t  NVDEF(NVA0B5, LAUNCH_DMA, SEMAPHORE_TYPE, NONE) |\n\t\t  NVDEF(NVA0B5, LAUNCH_DMA, INTERRUPT_TYPE, NONE) |\n\t\t  NVDEF(NVA0B5, LAUNCH_DMA, SRC_MEMORY_LAYOUT, PITCH) |\n\t\t  NVDEF(NVA0B5, LAUNCH_DMA, DST_MEMORY_LAYOUT, PITCH) |\n\t\t  NVDEF(NVA0B5, LAUNCH_DMA, MULTI_LINE_ENABLE, TRUE) |\n\t\t  NVDEF(NVA0B5, LAUNCH_DMA, REMAP_ENABLE, FALSE) |\n\t\t  NVDEF(NVA0B5, LAUNCH_DMA, BYPASS_L2, USE_PTE_SETTING) |\n\t\t  NVDEF(NVA0B5, LAUNCH_DMA, SRC_TYPE, VIRTUAL) |\n\t\t  NVDEF(NVA0B5, LAUNCH_DMA, DST_TYPE, VIRTUAL));\n\treturn 0;\n}\n\nint\nnve0_bo_move_init(struct nouveau_channel *chan, u32 handle)\n{\n\tstruct nvif_push *push = chan->chan.push;\n\tint ret;\n\n\tret = PUSH_WAIT(push, 2);\n\tif (ret)\n\t\treturn ret;\n\n\tPUSH_NVSQ(push, NVA0B5, 0x0000, handle & 0x0000ffff);\n\treturn 0;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}