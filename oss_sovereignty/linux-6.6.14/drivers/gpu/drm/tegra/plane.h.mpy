{
  "module_name": "plane.h",
  "hash_id": "9d2f8beaf3e3bb5e5f31b789bccf41fa3ff24e043afbc0e5a2ddfefd21421286",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/tegra/plane.h",
  "human_readable_source": " \n \n\n#ifndef TEGRA_PLANE_H\n#define TEGRA_PLANE_H 1\n\n#include <drm/drm_plane.h>\n\nstruct icc_path;\nstruct tegra_bo;\nstruct tegra_dc;\n\nstruct tegra_plane {\n\tstruct drm_plane base;\n\tstruct tegra_dc *dc;\n\tunsigned int offset;\n\tunsigned int index;\n\n\tstruct icc_path *icc_mem;\n\tstruct icc_path *icc_mem_vfilter;\n};\n\nstruct tegra_cursor {\n\tstruct tegra_plane base;\n\n\tstruct tegra_bo *bo;\n\tunsigned int width;\n\tunsigned int height;\n};\n\nstatic inline struct tegra_plane *to_tegra_plane(struct drm_plane *plane)\n{\n\treturn container_of(plane, struct tegra_plane, base);\n}\n\nstruct tegra_plane_legacy_blending_state {\n\tbool alpha;\n\tbool top;\n};\n\nstruct tegra_plane_state {\n\tstruct drm_plane_state base;\n\n\tstruct host1x_bo_mapping *map[3];\n\tdma_addr_t iova[3];\n\n\tstruct tegra_bo_tiling tiling;\n\tu32 format;\n\tu32 swap;\n\n\tbool reflect_x;\n\tbool reflect_y;\n\n\t \n\tstruct tegra_plane_legacy_blending_state blending[2];\n\tbool opaque;\n\n\t \n\tu32 total_peak_memory_bandwidth;\n\tu32 peak_memory_bandwidth;\n\tu32 avg_memory_bandwidth;\n};\n\nstatic inline struct tegra_plane_state *\nto_tegra_plane_state(struct drm_plane_state *state)\n{\n\tif (state)\n\t\treturn container_of(state, struct tegra_plane_state, base);\n\n\treturn NULL;\n}\n\nstatic inline const struct tegra_plane_state *\nto_const_tegra_plane_state(const struct drm_plane_state *state)\n{\n\treturn to_tegra_plane_state((struct drm_plane_state *)state);\n}\n\nextern const struct drm_plane_funcs tegra_plane_funcs;\n\nint tegra_plane_prepare_fb(struct drm_plane *plane,\n\t\t\t   struct drm_plane_state *state);\nvoid tegra_plane_cleanup_fb(struct drm_plane *plane,\n\t\t\t    struct drm_plane_state *state);\n\nint tegra_plane_state_add(struct tegra_plane *plane,\n\t\t\t  struct drm_plane_state *state);\n\nint tegra_plane_format(u32 fourcc, u32 *format, u32 *swap);\nbool tegra_plane_format_is_indexed(unsigned int format);\nbool tegra_plane_format_is_yuv(unsigned int format, unsigned int *planes, unsigned int *bpc);\nint tegra_plane_setup_legacy_state(struct tegra_plane *tegra,\n\t\t\t\t   struct tegra_plane_state *state);\nint tegra_plane_interconnect_init(struct tegra_plane *plane);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}