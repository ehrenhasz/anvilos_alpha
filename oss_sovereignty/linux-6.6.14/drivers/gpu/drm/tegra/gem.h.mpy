{
  "module_name": "gem.h",
  "hash_id": "3df215e077358c827e379d59059e8be004a9a1c1a8f78aa35cd2530fe5baba6b",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/tegra/gem.h",
  "human_readable_source": " \n \n\n#ifndef __HOST1X_GEM_H\n#define __HOST1X_GEM_H\n\n#include <linux/host1x.h>\n\n#include <drm/drm.h>\n#include <drm/drm_gem.h>\n\n#define TEGRA_BO_BOTTOM_UP (1 << 0)\n\nenum tegra_bo_tiling_mode {\n\tTEGRA_BO_TILING_MODE_PITCH,\n\tTEGRA_BO_TILING_MODE_TILED,\n\tTEGRA_BO_TILING_MODE_BLOCK,\n};\n\nenum tegra_bo_sector_layout {\n\tTEGRA_BO_SECTOR_LAYOUT_TEGRA,\n\tTEGRA_BO_SECTOR_LAYOUT_GPU,\n};\n\nstruct tegra_bo_tiling {\n\tenum tegra_bo_tiling_mode mode;\n\tunsigned long value;\n\tenum tegra_bo_sector_layout sector_layout;\n};\n\nstruct tegra_bo {\n\tstruct drm_gem_object gem;\n\tstruct host1x_bo base;\n\tunsigned long flags;\n\tstruct sg_table *sgt;\n\tdma_addr_t iova;\n\tvoid *vaddr;\n\n\tstruct drm_mm_node *mm;\n\tunsigned long num_pages;\n\tstruct page **pages;\n\t \n\tsize_t size;\n\n\tstruct tegra_bo_tiling tiling;\n};\n\nstatic inline struct tegra_bo *to_tegra_bo(struct drm_gem_object *gem)\n{\n\treturn container_of(gem, struct tegra_bo, gem);\n}\n\nstatic inline struct tegra_bo *host1x_to_tegra_bo(struct host1x_bo *bo)\n{\n\treturn container_of(bo, struct tegra_bo, base);\n}\n\nstruct tegra_bo *tegra_bo_create(struct drm_device *drm, size_t size,\n\t\t\t\t unsigned long flags);\nstruct tegra_bo *tegra_bo_create_with_handle(struct drm_file *file,\n\t\t\t\t\t     struct drm_device *drm,\n\t\t\t\t\t     size_t size,\n\t\t\t\t\t     unsigned long flags,\n\t\t\t\t\t     u32 *handle);\nvoid tegra_bo_free_object(struct drm_gem_object *gem);\nint tegra_bo_dumb_create(struct drm_file *file, struct drm_device *drm,\n\t\t\t struct drm_mode_create_dumb *args);\n\nextern const struct vm_operations_struct tegra_bo_vm_ops;\n\nint __tegra_gem_mmap(struct drm_gem_object *gem, struct vm_area_struct *vma);\nint tegra_drm_mmap(struct file *file, struct vm_area_struct *vma);\n\nstruct dma_buf *tegra_gem_prime_export(struct drm_gem_object *gem,\n\t\t\t\t       int flags);\nstruct drm_gem_object *tegra_gem_prime_import(struct drm_device *drm,\n\t\t\t\t\t      struct dma_buf *buf);\n\nstruct host1x_bo *tegra_gem_lookup(struct drm_file *file, u32 handle);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}