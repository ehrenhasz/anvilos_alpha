{
  "module_name": "hub.h",
  "hash_id": "650d65ab1e7c88ddb975ad8bb38442a324807bdf765ad17a9b1e53dccde5f947",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/tegra/hub.h",
  "human_readable_source": " \n \n\n#ifndef TEGRA_HUB_H\n#define TEGRA_HUB_H 1\n\n#include <drm/drm_plane.h>\n\n#include \"plane.h\"\n\nstruct tegra_dc;\n\nstruct tegra_windowgroup {\n\tunsigned int usecount;\n\tstruct mutex lock;\n\n\tunsigned int index;\n\tstruct host1x_client *parent;\n\tstruct reset_control *rst;\n};\n\nstruct tegra_shared_plane {\n\tstruct tegra_plane base;\n\tstruct tegra_windowgroup *wgrp;\n};\n\nstatic inline struct tegra_shared_plane *\nto_tegra_shared_plane(struct drm_plane *plane)\n{\n\treturn container_of(plane, struct tegra_shared_plane, base.base);\n}\n\nstruct tegra_display_hub_soc {\n\tunsigned int num_wgrps;\n\tbool supports_dsc;\n};\n\nstruct tegra_display_hub {\n\tstruct drm_private_obj base;\n\tstruct host1x_client client;\n\tstruct clk *clk_disp;\n\tstruct clk *clk_dsc;\n\tstruct clk *clk_hub;\n\tstruct reset_control *rst;\n\n\tunsigned int num_heads;\n\tstruct clk **clk_heads;\n\n\tconst struct tegra_display_hub_soc *soc;\n\tstruct tegra_windowgroup *wgrps;\n};\n\nstatic inline struct tegra_display_hub *\nto_tegra_display_hub(struct host1x_client *client)\n{\n\treturn container_of(client, struct tegra_display_hub, client);\n}\n\nstruct tegra_display_hub_state {\n\tstruct drm_private_state base;\n\n\tstruct tegra_dc *dc;\n\tunsigned long rate;\n\tstruct clk *clk;\n};\n\nstatic inline struct tegra_display_hub_state *\nto_tegra_display_hub_state(struct drm_private_state *priv)\n{\n\treturn container_of(priv, struct tegra_display_hub_state, base);\n}\n\nstruct tegra_plane;\n\nint tegra_display_hub_prepare(struct tegra_display_hub *hub);\nvoid tegra_display_hub_cleanup(struct tegra_display_hub *hub);\n\nstruct drm_plane *tegra_shared_plane_create(struct drm_device *drm,\n\t\t\t\t\t    struct tegra_dc *dc,\n\t\t\t\t\t    unsigned int wgrp,\n\t\t\t\t\t    unsigned int index);\n\nint tegra_display_hub_atomic_check(struct drm_device *drm,\n\t\t\t\t   struct drm_atomic_state *state);\nvoid tegra_display_hub_atomic_commit(struct drm_device *drm,\n\t\t\t\t     struct drm_atomic_state *state);\n\n#define DC_CMD_IHUB_COMMON_MISC_CTL 0x068\n#define  LATENCY_EVENT (1 << 3)\n\n#define DC_DISP_IHUB_COMMON_DISPLAY_FETCH_METER 0x451\n#define  CURS_SLOTS(x) (((x) & 0xff) << 8)\n#define  WGRP_SLOTS(x) (((x) & 0xff) << 0)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}