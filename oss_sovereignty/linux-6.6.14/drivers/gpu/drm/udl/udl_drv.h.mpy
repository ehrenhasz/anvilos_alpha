{
  "module_name": "udl_drv.h",
  "hash_id": "7bf7801cc2ee5b58bd7c4c85168f5ccc2bb787876bf3b85f06b0237b91ae54d0",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/udl/udl_drv.h",
  "human_readable_source": " \n \n\n#ifndef UDL_DRV_H\n#define UDL_DRV_H\n\n#include <linux/mm_types.h>\n#include <linux/usb.h>\n\n#include <drm/drm_connector.h>\n#include <drm/drm_crtc.h>\n#include <drm/drm_device.h>\n#include <drm/drm_encoder.h>\n#include <drm/drm_framebuffer.h>\n#include <drm/drm_gem.h>\n#include <drm/drm_plane.h>\n\nstruct drm_mode_create_dumb;\n\n#define DRIVER_NAME\t\t\"udl\"\n#define DRIVER_DESC\t\t\"DisplayLink\"\n#define DRIVER_DATE\t\t\"20120220\"\n\n#define DRIVER_MAJOR\t\t0\n#define DRIVER_MINOR\t\t0\n#define DRIVER_PATCHLEVEL\t1\n\nstruct udl_device;\n\nstruct urb_node {\n\tstruct list_head entry;\n\tstruct udl_device *dev;\n\tstruct urb *urb;\n};\n\nstruct urb_list {\n\tstruct list_head list;\n\tspinlock_t lock;\n\twait_queue_head_t sleep;\n\tint available;\n\tint count;\n\tsize_t size;\n};\n\nstruct udl_connector {\n\tstruct drm_connector connector;\n\t \n\tstruct edid *edid;\n};\n\nstatic inline struct udl_connector *to_udl_connector(struct drm_connector *connector)\n{\n\treturn container_of(connector, struct udl_connector, connector);\n}\n\nstruct udl_device {\n\tstruct drm_device drm;\n\tstruct device *dev;\n\tstruct device *dmadev;\n\n\tstruct drm_plane primary_plane;\n\tstruct drm_crtc crtc;\n\tstruct drm_encoder encoder;\n\n\tstruct mutex gem_lock;\n\n\tint sku_pixel_limit;\n\n\tstruct urb_list urbs;\n};\n\n#define to_udl(x) container_of(x, struct udl_device, drm)\n\nstatic inline struct usb_device *udl_to_usb_device(struct udl_device *udl)\n{\n\treturn interface_to_usbdev(to_usb_interface(udl->drm.dev));\n}\n\n \nint udl_modeset_init(struct drm_device *dev);\nstruct drm_connector *udl_connector_init(struct drm_device *dev);\n\nstruct urb *udl_get_urb(struct drm_device *dev);\n\nint udl_submit_urb(struct drm_device *dev, struct urb *urb, size_t len);\nvoid udl_sync_pending_urbs(struct drm_device *dev);\nvoid udl_urb_completion(struct urb *urb);\n\nint udl_init(struct udl_device *udl);\n\nint udl_render_hline(struct drm_device *dev, int log_bpp, struct urb **urb_ptr,\n\t\t     const char *front, char **urb_buf_ptr,\n\t\t     u32 byte_offset, u32 device_byte_offset, u32 byte_width);\n\nint udl_drop_usb(struct drm_device *dev);\nint udl_select_std_channel(struct udl_device *udl);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}