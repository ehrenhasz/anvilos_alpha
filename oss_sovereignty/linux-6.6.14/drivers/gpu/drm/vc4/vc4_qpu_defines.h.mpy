{
  "module_name": "vc4_qpu_defines.h",
  "hash_id": "5bdd405638ba491bc1eef403af370becb4cb31993ac5ed83ee62001fd05d8788",
  "original_prompt": "Ingested from linux-6.6.14/drivers/gpu/drm/vc4/vc4_qpu_defines.h",
  "human_readable_source": " \n\n#ifndef VC4_QPU_DEFINES_H\n#define VC4_QPU_DEFINES_H\n\nenum qpu_op_add {\n\tQPU_A_NOP,\n\tQPU_A_FADD,\n\tQPU_A_FSUB,\n\tQPU_A_FMIN,\n\tQPU_A_FMAX,\n\tQPU_A_FMINABS,\n\tQPU_A_FMAXABS,\n\tQPU_A_FTOI,\n\tQPU_A_ITOF,\n\tQPU_A_ADD = 12,\n\tQPU_A_SUB,\n\tQPU_A_SHR,\n\tQPU_A_ASR,\n\tQPU_A_ROR,\n\tQPU_A_SHL,\n\tQPU_A_MIN,\n\tQPU_A_MAX,\n\tQPU_A_AND,\n\tQPU_A_OR,\n\tQPU_A_XOR,\n\tQPU_A_NOT,\n\tQPU_A_CLZ,\n\tQPU_A_V8ADDS = 30,\n\tQPU_A_V8SUBS = 31,\n};\n\nenum qpu_op_mul {\n\tQPU_M_NOP,\n\tQPU_M_FMUL,\n\tQPU_M_MUL24,\n\tQPU_M_V8MULD,\n\tQPU_M_V8MIN,\n\tQPU_M_V8MAX,\n\tQPU_M_V8ADDS,\n\tQPU_M_V8SUBS,\n};\n\nenum qpu_raddr {\n\tQPU_R_FRAG_PAYLOAD_ZW = 15,  \n\t \n\tQPU_R_UNIF = 32,\n\tQPU_R_VARY = 35,\n\tQPU_R_ELEM_QPU = 38,\n\tQPU_R_NOP,\n\tQPU_R_XY_PIXEL_COORD = 41,\n\tQPU_R_MS_REV_FLAGS = 42,\n\tQPU_R_VPM = 48,\n\tQPU_R_VPM_LD_BUSY,\n\tQPU_R_VPM_LD_WAIT,\n\tQPU_R_MUTEX_ACQUIRE,\n};\n\nenum qpu_waddr {\n\t \n\tQPU_W_ACC0 = 32,  \n\tQPU_W_ACC1,\n\tQPU_W_ACC2,\n\tQPU_W_ACC3,\n\tQPU_W_TMU_NOSWAP,\n\tQPU_W_ACC5,\n\tQPU_W_HOST_INT,\n\tQPU_W_NOP,\n\tQPU_W_UNIFORMS_ADDRESS,\n\tQPU_W_QUAD_XY,  \n\tQPU_W_MS_FLAGS = 42,\n\tQPU_W_REV_FLAG = 42,\n\tQPU_W_TLB_STENCIL_SETUP = 43,\n\tQPU_W_TLB_Z,\n\tQPU_W_TLB_COLOR_MS,\n\tQPU_W_TLB_COLOR_ALL,\n\tQPU_W_TLB_ALPHA_MASK,\n\tQPU_W_VPM,\n\tQPU_W_VPMVCD_SETUP,  \n\tQPU_W_VPM_ADDR,  \n\tQPU_W_MUTEX_RELEASE,\n\tQPU_W_SFU_RECIP,\n\tQPU_W_SFU_RECIPSQRT,\n\tQPU_W_SFU_EXP,\n\tQPU_W_SFU_LOG,\n\tQPU_W_TMU0_S,\n\tQPU_W_TMU0_T,\n\tQPU_W_TMU0_R,\n\tQPU_W_TMU0_B,\n\tQPU_W_TMU1_S,\n\tQPU_W_TMU1_T,\n\tQPU_W_TMU1_R,\n\tQPU_W_TMU1_B,\n};\n\nenum qpu_sig_bits {\n\tQPU_SIG_SW_BREAKPOINT,\n\tQPU_SIG_NONE,\n\tQPU_SIG_THREAD_SWITCH,\n\tQPU_SIG_PROG_END,\n\tQPU_SIG_WAIT_FOR_SCOREBOARD,\n\tQPU_SIG_SCOREBOARD_UNLOCK,\n\tQPU_SIG_LAST_THREAD_SWITCH,\n\tQPU_SIG_COVERAGE_LOAD,\n\tQPU_SIG_COLOR_LOAD,\n\tQPU_SIG_COLOR_LOAD_END,\n\tQPU_SIG_LOAD_TMU0,\n\tQPU_SIG_LOAD_TMU1,\n\tQPU_SIG_ALPHA_MASK_LOAD,\n\tQPU_SIG_SMALL_IMM,\n\tQPU_SIG_LOAD_IMM,\n\tQPU_SIG_BRANCH\n};\n\nenum qpu_mux {\n\t \n\tQPU_MUX_R0,\n\tQPU_MUX_R1,\n\tQPU_MUX_R2,\n\tQPU_MUX_R3,\n\tQPU_MUX_R4,\n\tQPU_MUX_R5,\n\tQPU_MUX_A,\n\tQPU_MUX_B,\n\n\t \n\tQPU_MUX_IMM,\n};\n\nenum qpu_cond {\n\tQPU_COND_NEVER,\n\tQPU_COND_ALWAYS,\n\tQPU_COND_ZS,\n\tQPU_COND_ZC,\n\tQPU_COND_NS,\n\tQPU_COND_NC,\n\tQPU_COND_CS,\n\tQPU_COND_CC,\n};\n\nenum qpu_pack_mul {\n\tQPU_PACK_MUL_NOP,\n\t \n\tQPU_PACK_MUL_8888 = 3,\n\tQPU_PACK_MUL_8A,\n\tQPU_PACK_MUL_8B,\n\tQPU_PACK_MUL_8C,\n\tQPU_PACK_MUL_8D,\n};\n\nenum qpu_pack_a {\n\tQPU_PACK_A_NOP,\n\t \n\tQPU_PACK_A_16A,\n\tQPU_PACK_A_16B,\n\t \n\tQPU_PACK_A_8888,\n\t \n\tQPU_PACK_A_8A,\n\tQPU_PACK_A_8B,\n\tQPU_PACK_A_8C,\n\tQPU_PACK_A_8D,\n\n\t \n\tQPU_PACK_A_32_SAT,  \n\tQPU_PACK_A_16A_SAT,  \n\tQPU_PACK_A_16B_SAT,\n\tQPU_PACK_A_8888_SAT,\n\tQPU_PACK_A_8A_SAT,\n\tQPU_PACK_A_8B_SAT,\n\tQPU_PACK_A_8C_SAT,\n\tQPU_PACK_A_8D_SAT,\n};\n\nenum qpu_unpack_r4 {\n\tQPU_UNPACK_R4_NOP,\n\tQPU_UNPACK_R4_F16A_TO_F32,\n\tQPU_UNPACK_R4_F16B_TO_F32,\n\tQPU_UNPACK_R4_8D_REP,\n\tQPU_UNPACK_R4_8A,\n\tQPU_UNPACK_R4_8B,\n\tQPU_UNPACK_R4_8C,\n\tQPU_UNPACK_R4_8D,\n};\n\n#define QPU_MASK(high, low) \\\n\t((((uint64_t)1 << ((high) - (low) + 1)) - 1) << (low))\n\n#define QPU_GET_FIELD(word, field) \\\n\t((uint32_t)(((word)  & field ## _MASK) >> field ## _SHIFT))\n\n#define QPU_SIG_SHIFT                   60\n#define QPU_SIG_MASK                    QPU_MASK(63, 60)\n\n#define QPU_UNPACK_SHIFT                57\n#define QPU_UNPACK_MASK                 QPU_MASK(59, 57)\n\n \n#define QPU_PM                          ((uint64_t)1 << 56)\n\n#define QPU_PACK_SHIFT                  52\n#define QPU_PACK_MASK                   QPU_MASK(55, 52)\n\n#define QPU_COND_ADD_SHIFT              49\n#define QPU_COND_ADD_MASK               QPU_MASK(51, 49)\n#define QPU_COND_MUL_SHIFT              46\n#define QPU_COND_MUL_MASK               QPU_MASK(48, 46)\n\n#define QPU_BRANCH_COND_SHIFT           52\n#define QPU_BRANCH_COND_MASK            QPU_MASK(55, 52)\n\n#define QPU_BRANCH_REL                  ((uint64_t)1 << 51)\n#define QPU_BRANCH_REG                  ((uint64_t)1 << 50)\n\n#define QPU_BRANCH_RADDR_A_SHIFT        45\n#define QPU_BRANCH_RADDR_A_MASK         QPU_MASK(49, 45)\n\n#define QPU_SF                          ((uint64_t)1 << 45)\n\n#define QPU_WADDR_ADD_SHIFT             38\n#define QPU_WADDR_ADD_MASK              QPU_MASK(43, 38)\n#define QPU_WADDR_MUL_SHIFT             32\n#define QPU_WADDR_MUL_MASK              QPU_MASK(37, 32)\n\n#define QPU_OP_MUL_SHIFT                29\n#define QPU_OP_MUL_MASK                 QPU_MASK(31, 29)\n\n#define QPU_RADDR_A_SHIFT               18\n#define QPU_RADDR_A_MASK                QPU_MASK(23, 18)\n#define QPU_RADDR_B_SHIFT               12\n#define QPU_RADDR_B_MASK                QPU_MASK(17, 12)\n#define QPU_SMALL_IMM_SHIFT             12\n#define QPU_SMALL_IMM_MASK              QPU_MASK(17, 12)\n\n#define QPU_ADD_A_SHIFT                 9\n#define QPU_ADD_A_MASK                  QPU_MASK(11, 9)\n#define QPU_ADD_B_SHIFT                 6\n#define QPU_ADD_B_MASK                  QPU_MASK(8, 6)\n#define QPU_MUL_A_SHIFT                 3\n#define QPU_MUL_A_MASK                  QPU_MASK(5, 3)\n#define QPU_MUL_B_SHIFT                 0\n#define QPU_MUL_B_MASK                  QPU_MASK(2, 0)\n\n#define QPU_WS                          ((uint64_t)1 << 44)\n\n#define QPU_OP_ADD_SHIFT                24\n#define QPU_OP_ADD_MASK                 QPU_MASK(28, 24)\n\n#define QPU_LOAD_IMM_SHIFT              0\n#define QPU_LOAD_IMM_MASK               QPU_MASK(31, 0)\n\n#define QPU_BRANCH_TARGET_SHIFT         0\n#define QPU_BRANCH_TARGET_MASK          QPU_MASK(31, 0)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}