{
  "module_name": "rsaddr.c",
  "hash_id": "f1474a1a690ae92355f7a979611261497ff5b85ad2c9f2e1d3731eef47d7a4b3",
  "original_prompt": "Ingested from linux-6.6.14/drivers/acpi/acpica/rsaddr.c",
  "human_readable_source": "\n \n\n#include <acpi/acpi.h>\n#include \"accommon.h\"\n#include \"acresrc.h\"\n\n#define _COMPONENT          ACPI_RESOURCES\nACPI_MODULE_NAME(\"rsaddr\")\n\n \nstruct acpi_rsconvert_info acpi_rs_convert_address16[5] = {\n\t{ACPI_RSC_INITGET, ACPI_RESOURCE_TYPE_ADDRESS16,\n\t ACPI_RS_SIZE(struct acpi_resource_address16),\n\t ACPI_RSC_TABLE_SIZE(acpi_rs_convert_address16)},\n\n\t{ACPI_RSC_INITSET, ACPI_RESOURCE_NAME_ADDRESS16,\n\t sizeof(struct aml_resource_address16),\n\t 0},\n\n\t \n\n\t{ACPI_RSC_ADDRESS, 0, 0, 0},\n\n\t \n\t{ACPI_RSC_MOVE16, ACPI_RS_OFFSET(data.address16.address.granularity),\n\t AML_OFFSET(address16.granularity),\n\t 5},\n\n\t \n\n\t{ACPI_RSC_SOURCE, ACPI_RS_OFFSET(data.address16.resource_source),\n\t 0,\n\t sizeof(struct aml_resource_address16)}\n};\n\n \n\nstruct acpi_rsconvert_info acpi_rs_convert_address32[5] = {\n\t{ACPI_RSC_INITGET, ACPI_RESOURCE_TYPE_ADDRESS32,\n\t ACPI_RS_SIZE(struct acpi_resource_address32),\n\t ACPI_RSC_TABLE_SIZE(acpi_rs_convert_address32)},\n\n\t{ACPI_RSC_INITSET, ACPI_RESOURCE_NAME_ADDRESS32,\n\t sizeof(struct aml_resource_address32),\n\t 0},\n\n\t \n\n\t{ACPI_RSC_ADDRESS, 0, 0, 0},\n\n\t \n\t{ACPI_RSC_MOVE32, ACPI_RS_OFFSET(data.address32.address.granularity),\n\t AML_OFFSET(address32.granularity),\n\t 5},\n\n\t \n\n\t{ACPI_RSC_SOURCE, ACPI_RS_OFFSET(data.address32.resource_source),\n\t 0,\n\t sizeof(struct aml_resource_address32)}\n};\n\n \n\nstruct acpi_rsconvert_info acpi_rs_convert_address64[5] = {\n\t{ACPI_RSC_INITGET, ACPI_RESOURCE_TYPE_ADDRESS64,\n\t ACPI_RS_SIZE(struct acpi_resource_address64),\n\t ACPI_RSC_TABLE_SIZE(acpi_rs_convert_address64)},\n\n\t{ACPI_RSC_INITSET, ACPI_RESOURCE_NAME_ADDRESS64,\n\t sizeof(struct aml_resource_address64),\n\t 0},\n\n\t \n\n\t{ACPI_RSC_ADDRESS, 0, 0, 0},\n\n\t \n\t{ACPI_RSC_MOVE64, ACPI_RS_OFFSET(data.address64.address.granularity),\n\t AML_OFFSET(address64.granularity),\n\t 5},\n\n\t \n\n\t{ACPI_RSC_SOURCE, ACPI_RS_OFFSET(data.address64.resource_source),\n\t 0,\n\t sizeof(struct aml_resource_address64)}\n};\n\n \n\nstruct acpi_rsconvert_info acpi_rs_convert_ext_address64[5] = {\n\t{ACPI_RSC_INITGET, ACPI_RESOURCE_TYPE_EXTENDED_ADDRESS64,\n\t ACPI_RS_SIZE(struct acpi_resource_extended_address64),\n\t ACPI_RSC_TABLE_SIZE(acpi_rs_convert_ext_address64)},\n\n\t{ACPI_RSC_INITSET, ACPI_RESOURCE_NAME_EXTENDED_ADDRESS64,\n\t sizeof(struct aml_resource_extended_address64),\n\t 0},\n\n\t \n\n\t{ACPI_RSC_ADDRESS, 0, 0, 0},\n\n\t \n\n\t{ACPI_RSC_MOVE8, ACPI_RS_OFFSET(data.ext_address64.revision_ID),\n\t AML_OFFSET(ext_address64.revision_ID),\n\t 1},\n\t \n\t{ACPI_RSC_MOVE64,\n\t ACPI_RS_OFFSET(data.ext_address64.address.granularity),\n\t AML_OFFSET(ext_address64.granularity),\n\t 6}\n};\n\n \n\nstatic struct acpi_rsconvert_info acpi_rs_convert_general_flags[6] = {\n\t{ACPI_RSC_FLAGINIT, 0, AML_OFFSET(address.flags),\n\t ACPI_RSC_TABLE_SIZE(acpi_rs_convert_general_flags)},\n\n\t \n\n\t{ACPI_RSC_MOVE8, ACPI_RS_OFFSET(data.address.resource_type),\n\t AML_OFFSET(address.resource_type),\n\t 1},\n\n\t \n\n\t{ACPI_RSC_1BITFLAG, ACPI_RS_OFFSET(data.address.producer_consumer),\n\t AML_OFFSET(address.flags),\n\t 0},\n\n\t{ACPI_RSC_1BITFLAG, ACPI_RS_OFFSET(data.address.decode),\n\t AML_OFFSET(address.flags),\n\t 1},\n\n\t{ACPI_RSC_1BITFLAG, ACPI_RS_OFFSET(data.address.min_address_fixed),\n\t AML_OFFSET(address.flags),\n\t 2},\n\n\t{ACPI_RSC_1BITFLAG, ACPI_RS_OFFSET(data.address.max_address_fixed),\n\t AML_OFFSET(address.flags),\n\t 3}\n};\n\n \n\nstatic struct acpi_rsconvert_info acpi_rs_convert_mem_flags[5] = {\n\t{ACPI_RSC_FLAGINIT, 0, AML_OFFSET(address.specific_flags),\n\t ACPI_RSC_TABLE_SIZE(acpi_rs_convert_mem_flags)},\n\n\t \n\n\t{ACPI_RSC_1BITFLAG, ACPI_RS_OFFSET(data.address.info.mem.write_protect),\n\t AML_OFFSET(address.specific_flags),\n\t 0},\n\n\t{ACPI_RSC_2BITFLAG, ACPI_RS_OFFSET(data.address.info.mem.caching),\n\t AML_OFFSET(address.specific_flags),\n\t 1},\n\n\t{ACPI_RSC_2BITFLAG, ACPI_RS_OFFSET(data.address.info.mem.range_type),\n\t AML_OFFSET(address.specific_flags),\n\t 3},\n\n\t{ACPI_RSC_1BITFLAG, ACPI_RS_OFFSET(data.address.info.mem.translation),\n\t AML_OFFSET(address.specific_flags),\n\t 5}\n};\n\n \n\nstatic struct acpi_rsconvert_info acpi_rs_convert_io_flags[4] = {\n\t{ACPI_RSC_FLAGINIT, 0, AML_OFFSET(address.specific_flags),\n\t ACPI_RSC_TABLE_SIZE(acpi_rs_convert_io_flags)},\n\n\t \n\n\t{ACPI_RSC_2BITFLAG, ACPI_RS_OFFSET(data.address.info.io.range_type),\n\t AML_OFFSET(address.specific_flags),\n\t 0},\n\n\t{ACPI_RSC_1BITFLAG, ACPI_RS_OFFSET(data.address.info.io.translation),\n\t AML_OFFSET(address.specific_flags),\n\t 4},\n\n\t{ACPI_RSC_1BITFLAG,\n\t ACPI_RS_OFFSET(data.address.info.io.translation_type),\n\t AML_OFFSET(address.specific_flags),\n\t 5}\n};\n\n \n\nu8\nacpi_rs_get_address_common(struct acpi_resource *resource,\n\t\t\t   union aml_resource *aml)\n{\n\tstruct aml_resource_address address;\n\n\tACPI_FUNCTION_ENTRY();\n\n\t \n\n\tmemcpy(&address, aml, sizeof(address));\n\n\t \n\n\tif ((address.resource_type > 2) && (address.resource_type < 0xC0)) {\n\t\treturn (FALSE);\n\t}\n\n\t \n\n\t(void)acpi_rs_convert_aml_to_resource(resource, aml,\n\t\t\t\t\t      acpi_rs_convert_general_flags);\n\n\t \n\n\tif (resource->data.address.resource_type == ACPI_MEMORY_RANGE) {\n\t\t(void)acpi_rs_convert_aml_to_resource(resource, aml,\n\t\t\t\t\t\t      acpi_rs_convert_mem_flags);\n\t} else if (resource->data.address.resource_type == ACPI_IO_RANGE) {\n\t\t(void)acpi_rs_convert_aml_to_resource(resource, aml,\n\t\t\t\t\t\t      acpi_rs_convert_io_flags);\n\t} else {\n\t\t \n\n\t\tresource->data.address.info.type_specific =\n\t\t    address.specific_flags;\n\t}\n\n\treturn (TRUE);\n}\n\n \n\nvoid\nacpi_rs_set_address_common(union aml_resource *aml,\n\t\t\t   struct acpi_resource *resource)\n{\n\tACPI_FUNCTION_ENTRY();\n\n\t \n\n\t(void)acpi_rs_convert_resource_to_aml(resource, aml,\n\t\t\t\t\t      acpi_rs_convert_general_flags);\n\n\t \n\n\tif (resource->data.address.resource_type == ACPI_MEMORY_RANGE) {\n\t\t(void)acpi_rs_convert_resource_to_aml(resource, aml,\n\t\t\t\t\t\t      acpi_rs_convert_mem_flags);\n\t} else if (resource->data.address.resource_type == ACPI_IO_RANGE) {\n\t\t(void)acpi_rs_convert_resource_to_aml(resource, aml,\n\t\t\t\t\t\t      acpi_rs_convert_io_flags);\n\t} else {\n\t\t \n\n\t\taml->address.specific_flags =\n\t\t    resource->data.address.info.type_specific;\n\t}\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}