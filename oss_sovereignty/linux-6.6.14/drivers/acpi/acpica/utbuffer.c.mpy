{
  "module_name": "utbuffer.c",
  "hash_id": "a6a610de06091c77d0315c3f6035188844918682625243ad9fba263f99a85fd9",
  "original_prompt": "Ingested from linux-6.6.14/drivers/acpi/acpica/utbuffer.c",
  "human_readable_source": "\n \n\n#include <acpi/acpi.h>\n#include \"accommon.h\"\n\n#define _COMPONENT          ACPI_UTILITIES\nACPI_MODULE_NAME(\"utbuffer\")\n\n \nvoid acpi_ut_dump_buffer(u8 *buffer, u32 count, u32 display, u32 base_offset)\n{\n\tu32 i = 0;\n\tu32 j;\n\tu32 temp32;\n\tu8 buf_char;\n\tu32 display_data_only = display & DB_DISPLAY_DATA_ONLY;\n\n\tdisplay &= ~DB_DISPLAY_DATA_ONLY;\n\tif (!buffer) {\n\t\tacpi_os_printf(\"Null Buffer Pointer in DumpBuffer!\\n\");\n\t\treturn;\n\t}\n\n\tif ((count < 4) || (count & 0x01)) {\n\t\tdisplay = DB_BYTE_DISPLAY;\n\t}\n\n\t \n\n\twhile (i < count) {\n\n\t\t \n\n\t\tif (!display_data_only) {\n\t\t\tacpi_os_printf(\"%8.4X: \", (base_offset + i));\n\t\t}\n\n\t\t \n\n\t\tfor (j = 0; j < 16;) {\n\t\t\tif (i + j >= count) {\n\n\t\t\t\t \n\n\t\t\t\tacpi_os_printf(\"%*s\", ((display * 2) + 1), \" \");\n\t\t\t\tj += display;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tswitch (display) {\n\t\t\tcase DB_BYTE_DISPLAY:\n\t\t\tdefault:\t \n\n\t\t\t\tacpi_os_printf(\"%02X \",\n\t\t\t\t\t       buffer[(acpi_size)i + j]);\n\t\t\t\tbreak;\n\n\t\t\tcase DB_WORD_DISPLAY:\n\n\t\t\t\tACPI_MOVE_16_TO_32(&temp32,\n\t\t\t\t\t\t   &buffer[(acpi_size)i + j]);\n\t\t\t\tacpi_os_printf(\"%04X \", temp32);\n\t\t\t\tbreak;\n\n\t\t\tcase DB_DWORD_DISPLAY:\n\n\t\t\t\tACPI_MOVE_32_TO_32(&temp32,\n\t\t\t\t\t\t   &buffer[(acpi_size)i + j]);\n\t\t\t\tacpi_os_printf(\"%08X \", temp32);\n\t\t\t\tbreak;\n\n\t\t\tcase DB_QWORD_DISPLAY:\n\n\t\t\t\tACPI_MOVE_32_TO_32(&temp32,\n\t\t\t\t\t\t   &buffer[(acpi_size)i + j]);\n\t\t\t\tacpi_os_printf(\"%08X\", temp32);\n\n\t\t\t\tACPI_MOVE_32_TO_32(&temp32,\n\t\t\t\t\t\t   &buffer[(acpi_size)i + j +\n\t\t\t\t\t\t\t   4]);\n\t\t\t\tacpi_os_printf(\"%08X \", temp32);\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tj += display;\n\t\t}\n\n\t\t \n\t\tif (!display_data_only) {\n\t\t\tacpi_os_printf(\" \");\n\t\t\tfor (j = 0; j < 16; j++) {\n\t\t\t\tif (i + j >= count) {\n\t\t\t\t\tacpi_os_printf(\"\\n\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t \n\t\t\t\tif (j == 0) {\n\t\t\t\t\tacpi_os_printf(\"// \");\n\t\t\t\t}\n\n\t\t\t\tbuf_char = buffer[(acpi_size)i + j];\n\t\t\t\tif (isprint(buf_char)) {\n\t\t\t\t\tacpi_os_printf(\"%c\", buf_char);\n\t\t\t\t} else {\n\t\t\t\t\tacpi_os_printf(\".\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t \n\n\t\t\tacpi_os_printf(\"\\n\");\n\t\t}\n\t\ti += 16;\n\t}\n\n\treturn;\n}\n\n \n\nvoid\nacpi_ut_debug_dump_buffer(u8 *buffer, u32 count, u32 display, u32 component_id)\n{\n\n\t \n\n\tif (!((ACPI_LV_TABLES & acpi_dbg_level) &&\n\t      (component_id & acpi_dbg_layer))) {\n\t\treturn;\n\t}\n\n\tacpi_ut_dump_buffer(buffer, count, display, 0);\n}\n\n#ifdef ACPI_APPLICATION\n \n\nvoid\nacpi_ut_dump_buffer_to_file(ACPI_FILE file,\n\t\t\t    u8 *buffer, u32 count, u32 display, u32 base_offset)\n{\n\tu32 i = 0;\n\tu32 j;\n\tu32 temp32;\n\tu8 buf_char;\n\n\tif (!buffer) {\n\t\tfprintf(file, \"Null Buffer Pointer in DumpBuffer!\\n\");\n\t\treturn;\n\t}\n\n\tif ((count < 4) || (count & 0x01)) {\n\t\tdisplay = DB_BYTE_DISPLAY;\n\t}\n\n\t \n\n\twhile (i < count) {\n\n\t\t \n\n\t\tfprintf(file, \"%8.4X: \", (base_offset + i));\n\n\t\t \n\n\t\tfor (j = 0; j < 16;) {\n\t\t\tif (i + j >= count) {\n\n\t\t\t\t \n\n\t\t\t\tfprintf(file, \"%*s\", ((display * 2) + 1), \" \");\n\t\t\t\tj += display;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tswitch (display) {\n\t\t\tcase DB_BYTE_DISPLAY:\n\t\t\tdefault:\t \n\n\t\t\t\tfprintf(file, \"%02X \",\n\t\t\t\t\tbuffer[(acpi_size)i + j]);\n\t\t\t\tbreak;\n\n\t\t\tcase DB_WORD_DISPLAY:\n\n\t\t\t\tACPI_MOVE_16_TO_32(&temp32,\n\t\t\t\t\t\t   &buffer[(acpi_size)i + j]);\n\t\t\t\tfprintf(file, \"%04X \", temp32);\n\t\t\t\tbreak;\n\n\t\t\tcase DB_DWORD_DISPLAY:\n\n\t\t\t\tACPI_MOVE_32_TO_32(&temp32,\n\t\t\t\t\t\t   &buffer[(acpi_size)i + j]);\n\t\t\t\tfprintf(file, \"%08X \", temp32);\n\t\t\t\tbreak;\n\n\t\t\tcase DB_QWORD_DISPLAY:\n\n\t\t\t\tACPI_MOVE_32_TO_32(&temp32,\n\t\t\t\t\t\t   &buffer[(acpi_size)i + j]);\n\t\t\t\tfprintf(file, \"%08X\", temp32);\n\n\t\t\t\tACPI_MOVE_32_TO_32(&temp32,\n\t\t\t\t\t\t   &buffer[(acpi_size)i + j +\n\t\t\t\t\t\t\t   4]);\n\t\t\t\tfprintf(file, \"%08X \", temp32);\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tj += display;\n\t\t}\n\n\t\t \n\t\tfprintf(file, \" \");\n\t\tfor (j = 0; j < 16; j++) {\n\t\t\tif (i + j >= count) {\n\t\t\t\tfprintf(file, \"\\n\");\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tbuf_char = buffer[(acpi_size)i + j];\n\t\t\tif (isprint(buf_char)) {\n\t\t\t\tfprintf(file, \"%c\", buf_char);\n\t\t\t} else {\n\t\t\t\tfprintf(file, \".\");\n\t\t\t}\n\t\t}\n\n\t\t \n\n\t\tfprintf(file, \"\\n\");\n\t\ti += 16;\n\t}\n\n\treturn;\n}\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}