{
  "module_name": "hwtimer.c",
  "hash_id": "2060af236ffa38ed8049eb010d20eb927b346af29127fa650823e024ce12b85f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/acpi/acpica/hwtimer.c",
  "human_readable_source": "\n \n\n#define EXPORT_ACPI_INTERFACES\n\n#include <acpi/acpi.h>\n#include \"accommon.h\"\n\n#define _COMPONENT          ACPI_HARDWARE\nACPI_MODULE_NAME(\"hwtimer\")\n\n#if (!ACPI_REDUCED_HARDWARE)\t \n \nacpi_status acpi_get_timer_resolution(u32 * resolution)\n{\n\tACPI_FUNCTION_TRACE(acpi_get_timer_resolution);\n\n\tif (!resolution) {\n\t\treturn_ACPI_STATUS(AE_BAD_PARAMETER);\n\t}\n\n\tif ((acpi_gbl_FADT.flags & ACPI_FADT_32BIT_TIMER) == 0) {\n\t\t*resolution = 24;\n\t} else {\n\t\t*resolution = 32;\n\t}\n\n\treturn_ACPI_STATUS(AE_OK);\n}\n\nACPI_EXPORT_SYMBOL(acpi_get_timer_resolution)\n\n \nacpi_status acpi_get_timer(u32 * ticks)\n{\n\tacpi_status status;\n\tu64 timer_value;\n\n\tACPI_FUNCTION_TRACE(acpi_get_timer);\n\n\tif (!ticks) {\n\t\treturn_ACPI_STATUS(AE_BAD_PARAMETER);\n\t}\n\n\t \n\n\tif (!acpi_gbl_FADT.xpm_timer_block.address) {\n\t\treturn_ACPI_STATUS(AE_SUPPORT);\n\t}\n\n\tstatus = acpi_hw_read(&timer_value, &acpi_gbl_FADT.xpm_timer_block);\n\tif (ACPI_SUCCESS(status)) {\n\n\t\t \n\n\t\t*ticks = (u32)timer_value;\n\t}\n\n\treturn_ACPI_STATUS(status);\n}\n\nACPI_EXPORT_SYMBOL(acpi_get_timer)\n\n \nacpi_status\nacpi_get_timer_duration(u32 start_ticks, u32 end_ticks, u32 *time_elapsed)\n{\n\tacpi_status status;\n\tu64 delta_ticks;\n\tu64 quotient;\n\n\tACPI_FUNCTION_TRACE(acpi_get_timer_duration);\n\n\tif (!time_elapsed) {\n\t\treturn_ACPI_STATUS(AE_BAD_PARAMETER);\n\t}\n\n\t \n\n\tif (!acpi_gbl_FADT.xpm_timer_block.address) {\n\t\treturn_ACPI_STATUS(AE_SUPPORT);\n\t}\n\n\tif (start_ticks == end_ticks) {\n\t\t*time_elapsed = 0;\n\t\treturn_ACPI_STATUS(AE_OK);\n\t}\n\n\t \n\tdelta_ticks = end_ticks;\n\tif (start_ticks > end_ticks) {\n\t\tif ((acpi_gbl_FADT.flags & ACPI_FADT_32BIT_TIMER) == 0) {\n\n\t\t\t \n\n\t\t\tdelta_ticks |= (u64)1 << 24;\n\t\t} else {\n\t\t\t \n\n\t\t\tdelta_ticks |= (u64)1 << 32;\n\t\t}\n\t}\n\tdelta_ticks -= start_ticks;\n\n\t \n\tstatus = acpi_ut_short_divide(delta_ticks * ACPI_USEC_PER_SEC,\n\t\t\t\t      ACPI_PM_TIMER_FREQUENCY, &quotient, NULL);\n\n\t*time_elapsed = (u32)quotient;\n\treturn_ACPI_STATUS(status);\n}\n\nACPI_EXPORT_SYMBOL(acpi_get_timer_duration)\n#endif\t\t\t\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}