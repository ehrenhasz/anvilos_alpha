{
  "module_name": "dsinit.c",
  "hash_id": "5153248181a708d15f3ee19e31c6cb1870d97547ac40921039af3fe8303d70e7",
  "original_prompt": "Ingested from linux-6.6.14/drivers/acpi/acpica/dsinit.c",
  "human_readable_source": "\n \n\n#include <acpi/acpi.h>\n#include \"accommon.h\"\n#include \"acdispat.h\"\n#include \"acnamesp.h\"\n#include \"actables.h\"\n#include \"acinterp.h\"\n\n#define _COMPONENT          ACPI_DISPATCHER\nACPI_MODULE_NAME(\"dsinit\")\n\n \nstatic acpi_status\nacpi_ds_init_one_object(acpi_handle obj_handle,\n\t\t\tu32 level, void *context, void **return_value);\n\n \n\nstatic acpi_status\nacpi_ds_init_one_object(acpi_handle obj_handle,\n\t\t\tu32 level, void *context, void **return_value)\n{\n\tstruct acpi_init_walk_info *info =\n\t    (struct acpi_init_walk_info *)context;\n\tstruct acpi_namespace_node *node =\n\t    (struct acpi_namespace_node *)obj_handle;\n\tacpi_status status;\n\tunion acpi_operand_object *obj_desc;\n\n\tACPI_FUNCTION_ENTRY();\n\n\t \n\tif (node->owner_id != info->owner_id) {\n\t\treturn (AE_OK);\n\t}\n\n\tinfo->object_count++;\n\n\t \n\n\tswitch (acpi_ns_get_type(obj_handle)) {\n\tcase ACPI_TYPE_REGION:\n\n\t\tstatus = acpi_ds_initialize_region(obj_handle);\n\t\tif (ACPI_FAILURE(status)) {\n\t\t\tACPI_EXCEPTION((AE_INFO, status,\n\t\t\t\t\t\"During Region initialization %p [%4.4s]\",\n\t\t\t\t\tobj_handle,\n\t\t\t\t\tacpi_ut_get_node_name(obj_handle)));\n\t\t}\n\n\t\tinfo->op_region_count++;\n\t\tbreak;\n\n\tcase ACPI_TYPE_METHOD:\n\t\t \n\t\tinfo->method_count++;\n\t\tobj_desc = acpi_ns_get_attached_object(node);\n\t\tif (!obj_desc) {\n\t\t\tbreak;\n\t\t}\n\n\t\t \n\n\t\tif (obj_desc->method.info_flags & ACPI_METHOD_SERIALIZED) {\n\t\t\tinfo->serial_method_count++;\n\t\t\tbreak;\n\t\t}\n\n\t\tif (acpi_gbl_auto_serialize_methods) {\n\n\t\t\t \n\n\t\t\tacpi_ds_auto_serialize_method(node, obj_desc);\n\t\t\tif (obj_desc->method.\n\t\t\t    info_flags & ACPI_METHOD_SERIALIZED) {\n\n\t\t\t\t \n\n\t\t\t\tinfo->serial_method_count++;\n\t\t\t\tinfo->serialized_method_count++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tinfo->non_serial_method_count++;\n\t\tbreak;\n\n\tcase ACPI_TYPE_DEVICE:\n\n\t\tinfo->device_count++;\n\t\tbreak;\n\n\tdefault:\n\n\t\tbreak;\n\t}\n\n\t \n\treturn (AE_OK);\n}\n\n \n\nacpi_status\nacpi_ds_initialize_objects(u32 table_index,\n\t\t\t   struct acpi_namespace_node *start_node)\n{\n\tacpi_status status;\n\tstruct acpi_init_walk_info info;\n\tstruct acpi_table_header *table;\n\tacpi_owner_id owner_id;\n\n\tACPI_FUNCTION_TRACE(ds_initialize_objects);\n\n\tstatus = acpi_tb_get_owner_id(table_index, &owner_id);\n\tif (ACPI_FAILURE(status)) {\n\t\treturn_ACPI_STATUS(status);\n\t}\n\n\tACPI_DEBUG_PRINT((ACPI_DB_DISPATCH,\n\t\t\t  \"**** Starting initialization of namespace objects ****\\n\"));\n\n\t \n\n\tmemset(&info, 0, sizeof(struct acpi_init_walk_info));\n\n\tinfo.owner_id = owner_id;\n\tinfo.table_index = table_index;\n\n\t \n\n\t \n\tstatus =\n\t    acpi_ns_walk_namespace(ACPI_TYPE_ANY, start_node, ACPI_UINT32_MAX,\n\t\t\t\t   ACPI_NS_WALK_NO_UNLOCK,\n\t\t\t\t   acpi_ds_init_one_object, NULL, &info, NULL);\n\tif (ACPI_FAILURE(status)) {\n\t\tACPI_EXCEPTION((AE_INFO, status, \"During WalkNamespace\"));\n\t}\n\n\tstatus = acpi_get_table_by_index(table_index, &table);\n\tif (ACPI_FAILURE(status)) {\n\t\treturn_ACPI_STATUS(status);\n\t}\n\n\t \n\n\tif (ACPI_COMPARE_NAMESEG(table->signature, ACPI_SIG_DSDT)) {\n\t\tACPI_DEBUG_PRINT_RAW((ACPI_DB_INIT,\n\t\t\t\t      \"\\nACPI table initialization:\\n\"));\n\t}\n\n\t \n\n\tACPI_DEBUG_PRINT_RAW((ACPI_DB_INIT,\n\t\t\t      \"Table [%4.4s: %-8.8s] (id %.2X) - %4u Objects with %3u Devices, \"\n\t\t\t      \"%3u Regions, %4u Methods (%u/%u/%u Serial/Non/Cvt)\\n\",\n\t\t\t      table->signature, table->oem_table_id, owner_id,\n\t\t\t      info.object_count, info.device_count,\n\t\t\t      info.op_region_count, info.method_count,\n\t\t\t      info.serial_method_count,\n\t\t\t      info.non_serial_method_count,\n\t\t\t      info.serialized_method_count));\n\n\tACPI_DEBUG_PRINT((ACPI_DB_DISPATCH, \"%u Methods, %u Regions\\n\",\n\t\t\t  info.method_count, info.op_region_count));\n\n\treturn_ACPI_STATUS(AE_OK);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}