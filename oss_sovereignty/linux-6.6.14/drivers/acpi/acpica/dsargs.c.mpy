{
  "module_name": "dsargs.c",
  "hash_id": "179e22fbc0cecbf5afe8e9c2185a307897ec209492f257ddc48450e13c427042",
  "original_prompt": "Ingested from linux-6.6.14/drivers/acpi/acpica/dsargs.c",
  "human_readable_source": "\n \n\n#include <acpi/acpi.h>\n#include \"accommon.h\"\n#include \"acparser.h\"\n#include \"amlcode.h\"\n#include \"acdispat.h\"\n#include \"acnamesp.h\"\n\n#define _COMPONENT          ACPI_DISPATCHER\nACPI_MODULE_NAME(\"dsargs\")\n\n \nstatic acpi_status\nacpi_ds_execute_arguments(struct acpi_namespace_node *node,\n\t\t\t  struct acpi_namespace_node *scope_node,\n\t\t\t  u32 aml_length, u8 *aml_start);\n\n \n\nstatic acpi_status\nacpi_ds_execute_arguments(struct acpi_namespace_node *node,\n\t\t\t  struct acpi_namespace_node *scope_node,\n\t\t\t  u32 aml_length, u8 *aml_start)\n{\n\tacpi_status status;\n\tunion acpi_parse_object *op;\n\tstruct acpi_walk_state *walk_state;\n\n\tACPI_FUNCTION_TRACE_PTR(ds_execute_arguments, aml_start);\n\n\t \n\n\top = acpi_ps_alloc_op(AML_INT_EVAL_SUBTREE_OP, aml_start);\n\tif (!op) {\n\t\treturn_ACPI_STATUS(AE_NO_MEMORY);\n\t}\n\n\t \n\n\top->common.node = scope_node;\n\n\t \n\n\twalk_state = acpi_ds_create_walk_state(0, NULL, NULL, NULL);\n\tif (!walk_state) {\n\t\tstatus = AE_NO_MEMORY;\n\t\tgoto cleanup;\n\t}\n\n\tstatus = acpi_ds_init_aml_walk(walk_state, op, NULL, aml_start,\n\t\t\t\t       aml_length, NULL, ACPI_IMODE_LOAD_PASS1);\n\tif (ACPI_FAILURE(status)) {\n\t\tacpi_ds_delete_walk_state(walk_state);\n\t\tgoto cleanup;\n\t}\n\n\t \n\n\twalk_state->parse_flags = ACPI_PARSE_DEFERRED_OP;\n\twalk_state->deferred_node = node;\n\n\t \n\n\tstatus = acpi_ps_parse_aml(walk_state);\n\tif (ACPI_FAILURE(status)) {\n\t\tgoto cleanup;\n\t}\n\n\t \n\n\top->common.node = node;\n\tacpi_ps_delete_parse_tree(op);\n\n\t \n\n\top = acpi_ps_alloc_op(AML_INT_EVAL_SUBTREE_OP, aml_start);\n\tif (!op) {\n\t\treturn_ACPI_STATUS(AE_NO_MEMORY);\n\t}\n\n\top->common.node = scope_node;\n\n\t \n\n\twalk_state = acpi_ds_create_walk_state(0, NULL, NULL, NULL);\n\tif (!walk_state) {\n\t\tstatus = AE_NO_MEMORY;\n\t\tgoto cleanup;\n\t}\n\n\t \n\n\tstatus = acpi_ds_init_aml_walk(walk_state, op, NULL, aml_start,\n\t\t\t\t       aml_length, NULL, ACPI_IMODE_EXECUTE);\n\tif (ACPI_FAILURE(status)) {\n\t\tacpi_ds_delete_walk_state(walk_state);\n\t\tgoto cleanup;\n\t}\n\n\t \n\n\twalk_state->deferred_node = node;\n\tstatus = acpi_ps_parse_aml(walk_state);\n\ncleanup:\n\tacpi_ps_delete_parse_tree(op);\n\treturn_ACPI_STATUS(status);\n}\n\n \n\nacpi_status\nacpi_ds_get_buffer_field_arguments(union acpi_operand_object *obj_desc)\n{\n\tunion acpi_operand_object *extra_desc;\n\tstruct acpi_namespace_node *node;\n\tacpi_status status;\n\n\tACPI_FUNCTION_TRACE_PTR(ds_get_buffer_field_arguments, obj_desc);\n\n\tif (obj_desc->common.flags & AOPOBJ_DATA_VALID) {\n\t\treturn_ACPI_STATUS(AE_OK);\n\t}\n\n\t \n\n\textra_desc = acpi_ns_get_secondary_object(obj_desc);\n\tnode = obj_desc->buffer_field.node;\n\n\tACPI_DEBUG_EXEC(acpi_ut_display_init_pathname\n\t\t\t(ACPI_TYPE_BUFFER_FIELD, node, NULL));\n\n\tACPI_DEBUG_PRINT((ACPI_DB_EXEC, \"[%4.4s] BufferField Arg Init\\n\",\n\t\t\t  acpi_ut_get_node_name(node)));\n\n\t \n\n\tstatus = acpi_ds_execute_arguments(node, node->parent,\n\t\t\t\t\t   extra_desc->extra.aml_length,\n\t\t\t\t\t   extra_desc->extra.aml_start);\n\treturn_ACPI_STATUS(status);\n}\n\n \n\nacpi_status\nacpi_ds_get_bank_field_arguments(union acpi_operand_object *obj_desc)\n{\n\tunion acpi_operand_object *extra_desc;\n\tstruct acpi_namespace_node *node;\n\tacpi_status status;\n\n\tACPI_FUNCTION_TRACE_PTR(ds_get_bank_field_arguments, obj_desc);\n\n\tif (obj_desc->common.flags & AOPOBJ_DATA_VALID) {\n\t\treturn_ACPI_STATUS(AE_OK);\n\t}\n\n\t \n\n\textra_desc = acpi_ns_get_secondary_object(obj_desc);\n\tnode = obj_desc->bank_field.node;\n\n\tACPI_DEBUG_EXEC(acpi_ut_display_init_pathname\n\t\t\t(ACPI_TYPE_LOCAL_BANK_FIELD, node, NULL));\n\n\tACPI_DEBUG_PRINT((ACPI_DB_EXEC, \"[%4.4s] BankField Arg Init\\n\",\n\t\t\t  acpi_ut_get_node_name(node)));\n\n\t \n\n\tstatus = acpi_ds_execute_arguments(node, node->parent,\n\t\t\t\t\t   extra_desc->extra.aml_length,\n\t\t\t\t\t   extra_desc->extra.aml_start);\n\tif (ACPI_FAILURE(status)) {\n\t\treturn_ACPI_STATUS(status);\n\t}\n\n\tstatus = acpi_ut_add_address_range(obj_desc->region.space_id,\n\t\t\t\t\t   obj_desc->region.address,\n\t\t\t\t\t   obj_desc->region.length, node);\n\treturn_ACPI_STATUS(status);\n}\n\n \n\nacpi_status acpi_ds_get_buffer_arguments(union acpi_operand_object *obj_desc)\n{\n\tstruct acpi_namespace_node *node;\n\tacpi_status status;\n\n\tACPI_FUNCTION_TRACE_PTR(ds_get_buffer_arguments, obj_desc);\n\n\tif (obj_desc->common.flags & AOPOBJ_DATA_VALID) {\n\t\treturn_ACPI_STATUS(AE_OK);\n\t}\n\n\t \n\n\tnode = obj_desc->buffer.node;\n\tif (!node) {\n\t\tACPI_ERROR((AE_INFO,\n\t\t\t    \"No pointer back to namespace node in buffer object %p\",\n\t\t\t    obj_desc));\n\t\treturn_ACPI_STATUS(AE_AML_INTERNAL);\n\t}\n\n\tACPI_DEBUG_PRINT((ACPI_DB_EXEC, \"Buffer Arg Init\\n\"));\n\n\t \n\n\tstatus = acpi_ds_execute_arguments(node, node,\n\t\t\t\t\t   obj_desc->buffer.aml_length,\n\t\t\t\t\t   obj_desc->buffer.aml_start);\n\treturn_ACPI_STATUS(status);\n}\n\n \n\nacpi_status acpi_ds_get_package_arguments(union acpi_operand_object *obj_desc)\n{\n\tstruct acpi_namespace_node *node;\n\tacpi_status status;\n\n\tACPI_FUNCTION_TRACE_PTR(ds_get_package_arguments, obj_desc);\n\n\tif (obj_desc->common.flags & AOPOBJ_DATA_VALID) {\n\t\treturn_ACPI_STATUS(AE_OK);\n\t}\n\n\t \n\n\tnode = obj_desc->package.node;\n\tif (!node) {\n\t\tACPI_ERROR((AE_INFO,\n\t\t\t    \"No pointer back to namespace node in package %p\",\n\t\t\t    obj_desc));\n\t\treturn_ACPI_STATUS(AE_AML_INTERNAL);\n\t}\n\n\tACPI_DEBUG_PRINT((ACPI_DB_EXEC, \"Package Argument Init, AML Ptr: %p\\n\",\n\t\t\t  obj_desc->package.aml_start));\n\n\t \n\n\tstatus = acpi_ds_execute_arguments(node, node,\n\t\t\t\t\t   obj_desc->package.aml_length,\n\t\t\t\t\t   obj_desc->package.aml_start);\n\n\treturn_ACPI_STATUS(status);\n}\n\n \n\nacpi_status acpi_ds_get_region_arguments(union acpi_operand_object *obj_desc)\n{\n\tstruct acpi_namespace_node *node;\n\tacpi_status status;\n\tunion acpi_operand_object *extra_desc;\n\n\tACPI_FUNCTION_TRACE_PTR(ds_get_region_arguments, obj_desc);\n\n\tif (obj_desc->region.flags & AOPOBJ_DATA_VALID) {\n\t\treturn_ACPI_STATUS(AE_OK);\n\t}\n\n\textra_desc = acpi_ns_get_secondary_object(obj_desc);\n\tif (!extra_desc) {\n\t\treturn_ACPI_STATUS(AE_NOT_EXIST);\n\t}\n\n\t \n\n\tnode = obj_desc->region.node;\n\n\tACPI_DEBUG_EXEC(acpi_ut_display_init_pathname\n\t\t\t(ACPI_TYPE_REGION, node, NULL));\n\n\tACPI_DEBUG_PRINT((ACPI_DB_EXEC,\n\t\t\t  \"[%4.4s] OpRegion Arg Init at AML %p\\n\",\n\t\t\t  acpi_ut_get_node_name(node),\n\t\t\t  extra_desc->extra.aml_start));\n\n\t \n\n\tstatus = acpi_ds_execute_arguments(node, extra_desc->extra.scope_node,\n\t\t\t\t\t   extra_desc->extra.aml_length,\n\t\t\t\t\t   extra_desc->extra.aml_start);\n\tif (ACPI_FAILURE(status)) {\n\t\treturn_ACPI_STATUS(status);\n\t}\n\n\tstatus = acpi_ut_add_address_range(obj_desc->region.space_id,\n\t\t\t\t\t   obj_desc->region.address,\n\t\t\t\t\t   obj_desc->region.length, node);\n\treturn_ACPI_STATUS(status);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}