{
  "module_name": "nsarguments.c",
  "hash_id": "e03de494999bbdb1462742fde5928b48e00c65e4da81ae8b0af4f9c415dda536",
  "original_prompt": "Ingested from linux-6.6.14/drivers/acpi/acpica/nsarguments.c",
  "human_readable_source": "\n \n\n#include <acpi/acpi.h>\n#include \"accommon.h\"\n#include \"acnamesp.h\"\n#include \"acpredef.h\"\n\n#define _COMPONENT          ACPI_NAMESPACE\nACPI_MODULE_NAME(\"nsarguments\")\n\n \nvoid acpi_ns_check_argument_types(struct acpi_evaluate_info *info)\n{\n\tu16 arg_type_list;\n\tu8 arg_count;\n\tu8 arg_type;\n\tu8 user_arg_type;\n\tu32 i;\n\n\t \n\tif (!info->predefined || (info->node->flags & ANOBJ_EVALUATED)) {\n\t\treturn;\n\t}\n\n\targ_type_list = info->predefined->info.argument_list;\n\targ_count = METHOD_GET_ARG_COUNT(arg_type_list);\n\n\t \n\n\tfor (i = 0; ((i < arg_count) && (i < info->param_count)); i++) {\n\t\targ_type = METHOD_GET_NEXT_TYPE(arg_type_list);\n\t\tuser_arg_type = info->parameters[i]->common.type;\n\n\t\t \n\n\t\tif ((user_arg_type != arg_type) && (arg_type != ACPI_TYPE_ANY)) {\n\t\t\tACPI_WARN_PREDEFINED((AE_INFO, info->full_pathname,\n\t\t\t\t\t      ACPI_WARN_ALWAYS,\n\t\t\t\t\t      \"Argument #%u type mismatch - \"\n\t\t\t\t\t      \"Found [%s], ACPI requires [%s]\",\n\t\t\t\t\t      (i + 1),\n\t\t\t\t\t      acpi_ut_get_type_name\n\t\t\t\t\t      (user_arg_type),\n\t\t\t\t\t      acpi_ut_get_type_name(arg_type)));\n\n\t\t\t \n\n\t\t\tinfo->node->flags |= ANOBJ_EVALUATED;\n\t\t}\n\t}\n}\n\n \n\nvoid\nacpi_ns_check_acpi_compliance(char *pathname,\n\t\t\t      struct acpi_namespace_node *node,\n\t\t\t      const union acpi_predefined_info *predefined)\n{\n\tu32 aml_param_count;\n\tu32 required_param_count;\n\n\tif (!predefined || (node->flags & ANOBJ_EVALUATED)) {\n\t\treturn;\n\t}\n\n\t \n\n\trequired_param_count =\n\t    METHOD_GET_ARG_COUNT(predefined->info.argument_list);\n\n\t \n\tif (node->type != ACPI_TYPE_METHOD) {\n\t\tif (required_param_count > 0) {\n\n\t\t\t \n\n\t\t\tACPI_BIOS_ERROR_PREDEFINED((AE_INFO, pathname,\n\t\t\t\t\t\t    ACPI_WARN_ALWAYS,\n\t\t\t\t\t\t    \"Object (%s) must be a control method with %u arguments\",\n\t\t\t\t\t\t    acpi_ut_get_type_name(node->\n\t\t\t\t\t\t\t\t\t  type),\n\t\t\t\t\t\t    required_param_count));\n\t\t} else if (!required_param_count\n\t\t\t   && !predefined->info.expected_btypes) {\n\n\t\t\t \n\n\t\t\tACPI_BIOS_ERROR_PREDEFINED((AE_INFO, pathname,\n\t\t\t\t\t\t    ACPI_WARN_ALWAYS,\n\t\t\t\t\t\t    \"Object (%s) must be a control method \"\n\t\t\t\t\t\t    \"with no arguments and no return value\",\n\t\t\t\t\t\t    acpi_ut_get_type_name(node->\n\t\t\t\t\t\t\t\t\t  type)));\n\t\t}\n\n\t\treturn;\n\t}\n\n\t \n\taml_param_count = node->object->method.param_count;\n\n\tif (aml_param_count < required_param_count) {\n\t\tACPI_BIOS_ERROR_PREDEFINED((AE_INFO, pathname, ACPI_WARN_ALWAYS,\n\t\t\t\t\t    \"Insufficient arguments - \"\n\t\t\t\t\t    \"ASL declared %u, ACPI requires %u\",\n\t\t\t\t\t    aml_param_count,\n\t\t\t\t\t    required_param_count));\n\t} else if ((aml_param_count > required_param_count)\n\t\t   && !(predefined->info.\n\t\t\targument_list & ARG_COUNT_IS_MINIMUM)) {\n\t\tACPI_BIOS_ERROR_PREDEFINED((AE_INFO, pathname, ACPI_WARN_ALWAYS,\n\t\t\t\t\t    \"Excess arguments - \"\n\t\t\t\t\t    \"ASL declared %u, ACPI requires %u\",\n\t\t\t\t\t    aml_param_count,\n\t\t\t\t\t    required_param_count));\n\t}\n}\n\n \n\nvoid\nacpi_ns_check_argument_count(char *pathname,\n\t\t\t     struct acpi_namespace_node *node,\n\t\t\t     u32 user_param_count,\n\t\t\t     const union acpi_predefined_info *predefined)\n{\n\tu32 aml_param_count;\n\tu32 required_param_count;\n\n\tif (node->flags & ANOBJ_EVALUATED) {\n\t\treturn;\n\t}\n\n\tif (!predefined) {\n\t\t \n\t\tif (node->type != ACPI_TYPE_METHOD) {\n\t\t\tif (user_param_count) {\n\t\t\t\tACPI_INFO_PREDEFINED((AE_INFO, pathname,\n\t\t\t\t\t\t      ACPI_WARN_ALWAYS,\n\t\t\t\t\t\t      \"%u arguments were passed to a non-method ACPI object (%s)\",\n\t\t\t\t\t\t      user_param_count,\n\t\t\t\t\t\t      acpi_ut_get_type_name\n\t\t\t\t\t\t      (node->type)));\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t \n\t\taml_param_count = node->object->method.param_count;\n\n\t\tif (user_param_count < aml_param_count) {\n\t\t\tACPI_WARN_PREDEFINED((AE_INFO, pathname,\n\t\t\t\t\t      ACPI_WARN_ALWAYS,\n\t\t\t\t\t      \"Insufficient arguments - \"\n\t\t\t\t\t      \"Caller passed %u, method requires %u\",\n\t\t\t\t\t      user_param_count,\n\t\t\t\t\t      aml_param_count));\n\t\t} else if (user_param_count > aml_param_count) {\n\t\t\tACPI_INFO_PREDEFINED((AE_INFO, pathname,\n\t\t\t\t\t      ACPI_WARN_ALWAYS,\n\t\t\t\t\t      \"Excess arguments - \"\n\t\t\t\t\t      \"Caller passed %u, method requires %u\",\n\t\t\t\t\t      user_param_count,\n\t\t\t\t\t      aml_param_count));\n\t\t}\n\n\t\treturn;\n\t}\n\n\t \n\trequired_param_count =\n\t    METHOD_GET_ARG_COUNT(predefined->info.argument_list);\n\n\tif (user_param_count < required_param_count) {\n\t\tACPI_WARN_PREDEFINED((AE_INFO, pathname, ACPI_WARN_ALWAYS,\n\t\t\t\t      \"Insufficient arguments - \"\n\t\t\t\t      \"Caller passed %u, ACPI requires %u\",\n\t\t\t\t      user_param_count, required_param_count));\n\t} else if ((user_param_count > required_param_count) &&\n\t\t   !(predefined->info.argument_list & ARG_COUNT_IS_MINIMUM)) {\n\t\tACPI_INFO_PREDEFINED((AE_INFO, pathname, ACPI_WARN_ALWAYS,\n\t\t\t\t      \"Excess arguments - \"\n\t\t\t\t      \"Caller passed %u, ACPI requires %u\",\n\t\t\t\t      user_param_count, required_param_count));\n\t}\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}