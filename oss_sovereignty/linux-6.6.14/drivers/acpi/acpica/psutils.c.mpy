{
  "module_name": "psutils.c",
  "hash_id": "432de4a2bff8faf477bccb1ddb79231bd7b6888efe5edf36452ce2c4cdb52a76",
  "original_prompt": "Ingested from linux-6.6.14/drivers/acpi/acpica/psutils.c",
  "human_readable_source": "\n \n\n#include <acpi/acpi.h>\n#include \"accommon.h\"\n#include \"acparser.h\"\n#include \"amlcode.h\"\n#include \"acconvert.h\"\n\n#define _COMPONENT          ACPI_PARSER\nACPI_MODULE_NAME(\"psutils\")\n\n \nunion acpi_parse_object *acpi_ps_create_scope_op(u8 *aml)\n{\n\tunion acpi_parse_object *scope_op;\n\n\tscope_op = acpi_ps_alloc_op(AML_SCOPE_OP, aml);\n\tif (!scope_op) {\n\t\treturn (NULL);\n\t}\n\n\tscope_op->named.name = ACPI_ROOT_NAME;\n\treturn (scope_op);\n}\n\n \n\nvoid acpi_ps_init_op(union acpi_parse_object *op, u16 opcode)\n{\n\tACPI_FUNCTION_ENTRY();\n\n\top->common.descriptor_type = ACPI_DESC_TYPE_PARSER;\n\top->common.aml_opcode = opcode;\n\n\tACPI_DISASM_ONLY_MEMBERS(acpi_ut_safe_strncpy(op->common.aml_op_name,\n\t\t\t\t\t\t      (acpi_ps_get_opcode_info\n\t\t\t\t\t\t       (opcode))->name,\n\t\t\t\t\t\t      sizeof(op->common.\n\t\t\t\t\t\t\t     aml_op_name)));\n}\n\n \n\nunion acpi_parse_object *acpi_ps_alloc_op(u16 opcode, u8 *aml)\n{\n\tunion acpi_parse_object *op;\n\tconst struct acpi_opcode_info *op_info;\n\tu8 flags = ACPI_PARSEOP_GENERIC;\n\n\tACPI_FUNCTION_ENTRY();\n\n\top_info = acpi_ps_get_opcode_info(opcode);\n\n\t \n\n\tif (op_info->flags & AML_DEFER) {\n\t\tflags = ACPI_PARSEOP_DEFERRED;\n\t} else if (op_info->flags & AML_NAMED) {\n\t\tflags = ACPI_PARSEOP_NAMED_OBJECT;\n\t} else if (opcode == AML_INT_BYTELIST_OP) {\n\t\tflags = ACPI_PARSEOP_BYTELIST;\n\t}\n\n\t \n\n\tif (flags == ACPI_PARSEOP_GENERIC) {\n\n\t\t \n\n\t\top = acpi_os_acquire_object(acpi_gbl_ps_node_cache);\n\t} else {\n\t\t \n\n\t\top = acpi_os_acquire_object(acpi_gbl_ps_node_ext_cache);\n\t}\n\n\t \n\n\tif (op) {\n\t\tacpi_ps_init_op(op, opcode);\n\t\top->common.aml = aml;\n\t\top->common.flags = flags;\n\t\tASL_CV_CLEAR_OP_COMMENTS(op);\n\n\t\tif (opcode == AML_SCOPE_OP) {\n\t\t\tacpi_gbl_current_scope = op;\n\t\t}\n\n\t\tif (acpi_gbl_capture_comments) {\n\t\t\tASL_CV_TRANSFER_COMMENTS(op);\n\t\t}\n\t}\n\n\treturn (op);\n}\n\n \n\nvoid acpi_ps_free_op(union acpi_parse_object *op)\n{\n\tACPI_FUNCTION_NAME(ps_free_op);\n\n\tASL_CV_CLEAR_OP_COMMENTS(op);\n\tif (op->common.aml_opcode == AML_INT_RETURN_VALUE_OP) {\n\t\tACPI_DEBUG_PRINT((ACPI_DB_ALLOCATIONS,\n\t\t\t\t  \"Free retval op: %p\\n\", op));\n\t}\n\n\tif (op->common.flags & ACPI_PARSEOP_GENERIC) {\n\t\t(void)acpi_os_release_object(acpi_gbl_ps_node_cache, op);\n\t} else {\n\t\t(void)acpi_os_release_object(acpi_gbl_ps_node_ext_cache, op);\n\t}\n}\n\n \n\n \nu8 acpi_ps_is_leading_char(u32 c)\n{\n\treturn ((u8) (c == '_' || (c >= 'A' && c <= 'Z')));\n}\n\n \nu32 acpi_ps_get_name(union acpi_parse_object * op)\n{\n\n\t \n\n\tif (op->common.flags & ACPI_PARSEOP_GENERIC) {\n\t\treturn (0);\n\t}\n\n\t \n\n\treturn (op->named.name);\n}\n\n \nvoid acpi_ps_set_name(union acpi_parse_object *op, u32 name)\n{\n\n\t \n\n\tif (op->common.flags & ACPI_PARSEOP_GENERIC) {\n\t\treturn;\n\t}\n\n\top->named.name = name;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}