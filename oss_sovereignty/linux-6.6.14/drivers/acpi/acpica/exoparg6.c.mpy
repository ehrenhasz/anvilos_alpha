{
  "module_name": "exoparg6.c",
  "hash_id": "3bcc9eb6c801e636f978f08417948397495a9662f190c661926a9cb4ebcea195",
  "original_prompt": "Ingested from linux-6.6.14/drivers/acpi/acpica/exoparg6.c",
  "human_readable_source": "\n \n\n#include <acpi/acpi.h>\n#include \"accommon.h\"\n#include \"acinterp.h\"\n#include \"acparser.h\"\n#include \"amlcode.h\"\n\n#define _COMPONENT          ACPI_EXECUTER\nACPI_MODULE_NAME(\"exoparg6\")\n\n \n \nstatic u8\nacpi_ex_do_match(u32 match_op,\n\t\t union acpi_operand_object *package_obj,\n\t\t union acpi_operand_object *match_obj);\n\n \n\nstatic u8\nacpi_ex_do_match(u32 match_op,\n\t\t union acpi_operand_object *package_obj,\n\t\t union acpi_operand_object *match_obj)\n{\n\tu8 logical_result = TRUE;\n\tacpi_status status;\n\n\t \n\tswitch (match_op) {\n\tcase MATCH_MTR:\n\n\t\t \n\n\t\tbreak;\n\n\tcase MATCH_MEQ:\n\t\t \n\t\tstatus =\n\t\t    acpi_ex_do_logical_op(AML_LOGICAL_EQUAL_OP, match_obj,\n\t\t\t\t\t  package_obj, &logical_result);\n\t\tif (ACPI_FAILURE(status)) {\n\t\t\treturn (FALSE);\n\t\t}\n\t\tbreak;\n\n\tcase MATCH_MLE:\n\t\t \n\t\tstatus =\n\t\t    acpi_ex_do_logical_op(AML_LOGICAL_LESS_OP, match_obj,\n\t\t\t\t\t  package_obj, &logical_result);\n\t\tif (ACPI_FAILURE(status)) {\n\t\t\treturn (FALSE);\n\t\t}\n\t\tlogical_result = (u8) ! logical_result;\n\t\tbreak;\n\n\tcase MATCH_MLT:\n\t\t \n\t\tstatus =\n\t\t    acpi_ex_do_logical_op(AML_LOGICAL_GREATER_OP, match_obj,\n\t\t\t\t\t  package_obj, &logical_result);\n\t\tif (ACPI_FAILURE(status)) {\n\t\t\treturn (FALSE);\n\t\t}\n\t\tbreak;\n\n\tcase MATCH_MGE:\n\t\t \n\t\tstatus =\n\t\t    acpi_ex_do_logical_op(AML_LOGICAL_GREATER_OP, match_obj,\n\t\t\t\t\t  package_obj, &logical_result);\n\t\tif (ACPI_FAILURE(status)) {\n\t\t\treturn (FALSE);\n\t\t}\n\t\tlogical_result = (u8) ! logical_result;\n\t\tbreak;\n\n\tcase MATCH_MGT:\n\t\t \n\t\tstatus =\n\t\t    acpi_ex_do_logical_op(AML_LOGICAL_LESS_OP, match_obj,\n\t\t\t\t\t  package_obj, &logical_result);\n\t\tif (ACPI_FAILURE(status)) {\n\t\t\treturn (FALSE);\n\t\t}\n\t\tbreak;\n\n\tdefault:\n\n\t\t \n\n\t\treturn (FALSE);\n\t}\n\n\treturn (logical_result);\n}\n\n \n\nacpi_status acpi_ex_opcode_6A_0T_1R(struct acpi_walk_state *walk_state)\n{\n\tunion acpi_operand_object **operand = &walk_state->operands[0];\n\tunion acpi_operand_object *return_desc = NULL;\n\tacpi_status status = AE_OK;\n\tu64 index;\n\tunion acpi_operand_object *this_element;\n\n\tACPI_FUNCTION_TRACE_STR(ex_opcode_6A_0T_1R,\n\t\t\t\tacpi_ps_get_opcode_name(walk_state->opcode));\n\n\tswitch (walk_state->opcode) {\n\tcase AML_MATCH_OP:\n\t\t \n\n\t\t \n\n\t\tif ((operand[1]->integer.value > MAX_MATCH_OPERATOR) ||\n\t\t    (operand[3]->integer.value > MAX_MATCH_OPERATOR)) {\n\t\t\tACPI_ERROR((AE_INFO, \"Match operator out of range\"));\n\t\t\tstatus = AE_AML_OPERAND_VALUE;\n\t\t\tgoto cleanup;\n\t\t}\n\n\t\t \n\n\t\tindex = operand[5]->integer.value;\n\t\tif (index >= operand[0]->package.count) {\n\t\t\tACPI_ERROR((AE_INFO,\n\t\t\t\t    \"Index (0x%8.8X%8.8X) beyond package end (0x%X)\",\n\t\t\t\t    ACPI_FORMAT_UINT64(index),\n\t\t\t\t    operand[0]->package.count));\n\t\t\tstatus = AE_AML_PACKAGE_LIMIT;\n\t\t\tgoto cleanup;\n\t\t}\n\n\t\t \n\t\t \n\n\t\treturn_desc = acpi_ut_create_integer_object(ACPI_UINT64_MAX);\n\t\tif (!return_desc) {\n\t\t\tstatus = AE_NO_MEMORY;\n\t\t\tgoto cleanup;\n\n\t\t}\n\n\t\t \n\t\tfor (; index < operand[0]->package.count; index++) {\n\n\t\t\t \n\n\t\t\tthis_element = operand[0]->package.elements[index];\n\n\t\t\t \n\n\t\t\tif (!this_element) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t \n\t\t\tif (!acpi_ex_do_match((u32) operand[1]->integer.value,\n\t\t\t\t\t      this_element, operand[2])) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (!acpi_ex_do_match((u32) operand[3]->integer.value,\n\t\t\t\t\t      this_element, operand[4])) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t \n\n\t\t\treturn_desc->integer.value = index;\n\t\t\tbreak;\n\t\t}\n\t\tbreak;\n\n\tcase AML_LOAD_TABLE_OP:\n\n\t\tstatus = acpi_ex_load_table_op(walk_state, &return_desc);\n\t\tbreak;\n\n\tdefault:\n\n\t\tACPI_ERROR((AE_INFO, \"Unknown AML opcode 0x%X\",\n\t\t\t    walk_state->opcode));\n\n\t\tstatus = AE_AML_BAD_OPCODE;\n\t\tgoto cleanup;\n\t}\n\ncleanup:\n\n\t \n\n\tif (ACPI_FAILURE(status)) {\n\t\tacpi_ut_remove_reference(return_desc);\n\t}\n\n\t \n\n\telse {\n\t\twalk_state->result_obj = return_desc;\n\t}\n\n\treturn_ACPI_STATUS(status);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}