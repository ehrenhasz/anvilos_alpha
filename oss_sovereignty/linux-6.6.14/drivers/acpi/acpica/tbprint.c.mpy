{
  "module_name": "tbprint.c",
  "hash_id": "30f803ed92052603788ab18d74555762678ed7b9ab5c68de618717e2ab770d98",
  "original_prompt": "Ingested from linux-6.6.14/drivers/acpi/acpica/tbprint.c",
  "human_readable_source": "\n \n\n#include <acpi/acpi.h>\n#include \"accommon.h\"\n#include \"actables.h\"\n#include \"acutils.h\"\n\n#define _COMPONENT          ACPI_TABLES\nACPI_MODULE_NAME(\"tbprint\")\n\n \nstatic void acpi_tb_fix_string(char *string, acpi_size length);\n\nstatic void\nacpi_tb_cleanup_table_header(struct acpi_table_header *out_header,\n\t\t\t     struct acpi_table_header *header);\n\n \n\nstatic void acpi_tb_fix_string(char *string, acpi_size length)\n{\n\n\twhile (length && *string) {\n\t\tif (!isprint((int)(u8)*string)) {\n\t\t\t*string = '?';\n\t\t}\n\n\t\tstring++;\n\t\tlength--;\n\t}\n}\n\n \n\nstatic void\nacpi_tb_cleanup_table_header(struct acpi_table_header *out_header,\n\t\t\t     struct acpi_table_header *header)\n{\n\n\tmemcpy(out_header, header, sizeof(struct acpi_table_header));\n\n\tacpi_tb_fix_string(out_header->signature, ACPI_NAMESEG_SIZE);\n\tacpi_tb_fix_string(out_header->oem_id, ACPI_OEM_ID_SIZE);\n\tacpi_tb_fix_string(out_header->oem_table_id, ACPI_OEM_TABLE_ID_SIZE);\n\tacpi_tb_fix_string(out_header->asl_compiler_id, ACPI_NAMESEG_SIZE);\n}\n\n \n\nvoid\nacpi_tb_print_table_header(acpi_physical_address address,\n\t\t\t   struct acpi_table_header *header)\n{\n\tstruct acpi_table_header local_header;\n\n\tif (ACPI_COMPARE_NAMESEG(header->signature, ACPI_SIG_FACS)) {\n\n\t\t \n\n\t\tACPI_INFO((\"%-4.4s 0x%8.8X%8.8X %06X\",\n\t\t\t   header->signature, ACPI_FORMAT_UINT64(address),\n\t\t\t   header->length));\n\t} else if (ACPI_VALIDATE_RSDP_SIG(ACPI_CAST_PTR(struct acpi_table_rsdp,\n\t\t\t\t\t\t\theader)->signature)) {\n\n\t\t \n\n\t\tmemcpy(local_header.oem_id,\n\t\t       ACPI_CAST_PTR(struct acpi_table_rsdp, header)->oem_id,\n\t\t       ACPI_OEM_ID_SIZE);\n\t\tacpi_tb_fix_string(local_header.oem_id, ACPI_OEM_ID_SIZE);\n\n\t\tACPI_INFO((\"RSDP 0x%8.8X%8.8X %06X (v%.2d %-6.6s)\",\n\t\t\t   ACPI_FORMAT_UINT64(address),\n\t\t\t   (ACPI_CAST_PTR(struct acpi_table_rsdp, header)->\n\t\t\t    revision >\n\t\t\t    0) ? ACPI_CAST_PTR(struct acpi_table_rsdp,\n\t\t\t\t\t       header)->length : 20,\n\t\t\t   ACPI_CAST_PTR(struct acpi_table_rsdp,\n\t\t\t\t\t header)->revision,\n\t\t\t   local_header.oem_id));\n\t} else {\n\t\t \n\n\t\tacpi_tb_cleanup_table_header(&local_header, header);\n\n\t\tACPI_INFO((\"%-4.4s 0x%8.8X%8.8X\"\n\t\t\t   \" %06X (v%.2d %-6.6s %-8.8s %08X %-4.4s %08X)\",\n\t\t\t   local_header.signature, ACPI_FORMAT_UINT64(address),\n\t\t\t   local_header.length, local_header.revision,\n\t\t\t   local_header.oem_id, local_header.oem_table_id,\n\t\t\t   local_header.oem_revision,\n\t\t\t   local_header.asl_compiler_id,\n\t\t\t   local_header.asl_compiler_revision));\n\t}\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}