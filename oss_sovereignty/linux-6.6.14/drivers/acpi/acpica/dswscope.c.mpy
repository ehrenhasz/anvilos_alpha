{
  "module_name": "dswscope.c",
  "hash_id": "518ae5c217d6285273fcf39c28702ecb8a3a31bd788422fb7c26cbf2897f460b",
  "original_prompt": "Ingested from linux-6.6.14/drivers/acpi/acpica/dswscope.c",
  "human_readable_source": "\n \n\n#include <acpi/acpi.h>\n#include \"accommon.h\"\n#include \"acdispat.h\"\n\n#define _COMPONENT          ACPI_DISPATCHER\nACPI_MODULE_NAME(\"dswscope\")\n\n \nvoid acpi_ds_scope_stack_clear(struct acpi_walk_state *walk_state)\n{\n\tunion acpi_generic_state *scope_info;\n\n\tACPI_FUNCTION_NAME(ds_scope_stack_clear);\n\n\twhile (walk_state->scope_info) {\n\n\t\t \n\n\t\tscope_info = walk_state->scope_info;\n\t\twalk_state->scope_info = scope_info->scope.next;\n\n\t\tACPI_DEBUG_PRINT((ACPI_DB_EXEC,\n\t\t\t\t  \"Popped object type (%s)\\n\",\n\t\t\t\t  acpi_ut_get_type_name(scope_info->common.\n\t\t\t\t\t\t\tvalue)));\n\n\t\tacpi_ut_delete_generic_state(scope_info);\n\t}\n}\n\n \n\nacpi_status\nacpi_ds_scope_stack_push(struct acpi_namespace_node *node,\n\t\t\t acpi_object_type type,\n\t\t\t struct acpi_walk_state *walk_state)\n{\n\tunion acpi_generic_state *scope_info;\n\tunion acpi_generic_state *old_scope_info;\n\n\tACPI_FUNCTION_TRACE(ds_scope_stack_push);\n\n\tif (!node) {\n\n\t\t \n\n\t\tACPI_ERROR((AE_INFO, \"Null scope parameter\"));\n\t\treturn_ACPI_STATUS(AE_BAD_PARAMETER);\n\t}\n\n\t \n\n\tif (!acpi_ut_valid_object_type(type)) {\n\t\tACPI_WARNING((AE_INFO, \"Invalid object type: 0x%X\", type));\n\t}\n\n\t \n\n\tscope_info = acpi_ut_create_generic_state();\n\tif (!scope_info) {\n\t\treturn_ACPI_STATUS(AE_NO_MEMORY);\n\t}\n\n\t \n\n\tscope_info->common.descriptor_type = ACPI_DESC_TYPE_STATE_WSCOPE;\n\tscope_info->scope.node = node;\n\tscope_info->common.value = (u16) type;\n\n\twalk_state->scope_depth++;\n\n\tACPI_DEBUG_PRINT((ACPI_DB_EXEC,\n\t\t\t  \"[%.2d] Pushed scope \",\n\t\t\t  (u32) walk_state->scope_depth));\n\n\told_scope_info = walk_state->scope_info;\n\tif (old_scope_info) {\n\t\tACPI_DEBUG_PRINT_RAW((ACPI_DB_EXEC,\n\t\t\t\t      \"[%4.4s] (%s)\",\n\t\t\t\t      acpi_ut_get_node_name(old_scope_info->\n\t\t\t\t\t\t\t    scope.node),\n\t\t\t\t      acpi_ut_get_type_name(old_scope_info->\n\t\t\t\t\t\t\t    common.value)));\n\t} else {\n\t\tACPI_DEBUG_PRINT_RAW((ACPI_DB_EXEC, ACPI_NAMESPACE_ROOT));\n\t}\n\n\tACPI_DEBUG_PRINT_RAW((ACPI_DB_EXEC,\n\t\t\t      \", New scope -> [%4.4s] (%s)\\n\",\n\t\t\t      acpi_ut_get_node_name(scope_info->scope.node),\n\t\t\t      acpi_ut_get_type_name(scope_info->common.value)));\n\n\t \n\n\tacpi_ut_push_generic_state(&walk_state->scope_info, scope_info);\n\treturn_ACPI_STATUS(AE_OK);\n}\n\n \n\nacpi_status acpi_ds_scope_stack_pop(struct acpi_walk_state *walk_state)\n{\n\tunion acpi_generic_state *scope_info;\n\tunion acpi_generic_state *new_scope_info;\n\n\tACPI_FUNCTION_TRACE(ds_scope_stack_pop);\n\n\t \n\tscope_info = acpi_ut_pop_generic_state(&walk_state->scope_info);\n\tif (!scope_info) {\n\t\treturn_ACPI_STATUS(AE_STACK_UNDERFLOW);\n\t}\n\n\twalk_state->scope_depth--;\n\n\tACPI_DEBUG_PRINT((ACPI_DB_EXEC,\n\t\t\t  \"[%.2d] Popped scope [%4.4s] (%s), New scope -> \",\n\t\t\t  (u32) walk_state->scope_depth,\n\t\t\t  acpi_ut_get_node_name(scope_info->scope.node),\n\t\t\t  acpi_ut_get_type_name(scope_info->common.value)));\n\n\tnew_scope_info = walk_state->scope_info;\n\tif (new_scope_info) {\n\t\tACPI_DEBUG_PRINT_RAW((ACPI_DB_EXEC, \"[%4.4s] (%s)\\n\",\n\t\t\t\t      acpi_ut_get_node_name(new_scope_info->\n\t\t\t\t\t\t\t    scope.node),\n\t\t\t\t      acpi_ut_get_type_name(new_scope_info->\n\t\t\t\t\t\t\t    common.value)));\n\t} else {\n\t\tACPI_DEBUG_PRINT_RAW((ACPI_DB_EXEC, \"%s\\n\",\n\t\t\t\t      ACPI_NAMESPACE_ROOT));\n\t}\n\n\tacpi_ut_delete_generic_state(scope_info);\n\treturn_ACPI_STATUS(AE_OK);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}