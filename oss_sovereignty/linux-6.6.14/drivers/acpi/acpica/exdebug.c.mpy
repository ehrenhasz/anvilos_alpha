{
  "module_name": "exdebug.c",
  "hash_id": "536a439db55d91a9e2abb6a735e414a1777d6b2af1592523dcee9da1b3d22de4",
  "original_prompt": "Ingested from linux-6.6.14/drivers/acpi/acpica/exdebug.c",
  "human_readable_source": "\n \n\n#include <acpi/acpi.h>\n#include \"accommon.h\"\n#include \"acinterp.h\"\n\n#define _COMPONENT          ACPI_EXECUTER\nACPI_MODULE_NAME(\"exdebug\")\n\n#ifndef ACPI_NO_ERROR_MESSAGES\n \nvoid\nacpi_ex_do_debug_object(union acpi_operand_object *source_desc,\n\t\t\tu32 level, u32 index)\n{\n\tu32 i;\n\tu32 timer;\n\tunion acpi_operand_object *object_desc;\n\tu32 value;\n\n\tACPI_FUNCTION_TRACE_PTR(ex_do_debug_object, source_desc);\n\n\t \n\n\tif (!acpi_gbl_enable_aml_debug_object &&\n\t    !(acpi_dbg_level & ACPI_LV_DEBUG_OBJECT)) {\n\t\treturn_VOID;\n\t}\n\n\t \n\n\tif (source_desc &&\n\t    (ACPI_GET_DESCRIPTOR_TYPE(source_desc) == ACPI_DESC_TYPE_OPERAND) &&\n\t    (source_desc->common.type == ACPI_TYPE_STRING)) {\n\t\tif ((source_desc->string.length == 1) &&\n\t\t    (*source_desc->string.pointer == '\\n')) {\n\t\t\tacpi_os_printf(\"\\n\");\n\t\t\treturn_VOID;\n\t\t}\n\t}\n\n\t \n\tif (!((level > 0) && index == 0)) {\n\t\tif (acpi_gbl_display_debug_timer) {\n\t\t\t \n\t\t\ttimer = ((u32)acpi_os_get_timer() / 10);\n\t\t\ttimer &= 0x03FFFFFF;\n\n\t\t\tacpi_os_printf(\"ACPI Debug: T=0x%8.8X %*s\", timer,\n\t\t\t\t       level, \" \");\n\t\t} else {\n\t\t\tacpi_os_printf(\"ACPI Debug: %*s\", level, \" \");\n\t\t}\n\t}\n\n\t \n\n\tif (index > 0) {\n\t\tacpi_os_printf(\"(%.2u) \", index - 1);\n\t}\n\n\tif (!source_desc) {\n\t\tacpi_os_printf(\"[Null Object]\\n\");\n\t\treturn_VOID;\n\t}\n\n\tif (ACPI_GET_DESCRIPTOR_TYPE(source_desc) == ACPI_DESC_TYPE_OPERAND) {\n\n\t\t \n\n\t\tif ((source_desc->common.type != ACPI_TYPE_INTEGER) &&\n\t\t    (source_desc->common.type != ACPI_TYPE_STRING)) {\n\t\t\tacpi_os_printf(\"%s \",\n\t\t\t\t       acpi_ut_get_object_type_name\n\t\t\t\t       (source_desc));\n\t\t}\n\n\t\tif (!acpi_ut_valid_internal_object(source_desc)) {\n\t\t\tacpi_os_printf(\"%p, Invalid Internal Object!\\n\",\n\t\t\t\t       source_desc);\n\t\t\treturn_VOID;\n\t\t}\n\t} else if (ACPI_GET_DESCRIPTOR_TYPE(source_desc) ==\n\t\t   ACPI_DESC_TYPE_NAMED) {\n\t\tacpi_os_printf(\"%s (Node %p)\\n\",\n\t\t\t       acpi_ut_get_type_name(((struct\n\t\t\t\t\t\t       acpi_namespace_node *)\n\t\t\t\t\t\t      source_desc)->type),\n\t\t\t       source_desc);\n\t\treturn_VOID;\n\t} else {\n\t\treturn_VOID;\n\t}\n\n\t \n\n\tswitch (source_desc->common.type) {\n\tcase ACPI_TYPE_INTEGER:\n\n\t\t \n\n\t\tif (acpi_gbl_integer_byte_width == 4) {\n\t\t\tacpi_os_printf(\"0x%8.8X\\n\",\n\t\t\t\t       (u32)source_desc->integer.value);\n\t\t} else {\n\t\t\tacpi_os_printf(\"0x%8.8X%8.8X\\n\",\n\t\t\t\t       ACPI_FORMAT_UINT64(source_desc->integer.\n\t\t\t\t\t\t\t  value));\n\t\t}\n\t\tbreak;\n\n\tcase ACPI_TYPE_BUFFER:\n\n\t\tacpi_os_printf(\"[0x%.2X]\\n\", (u32)source_desc->buffer.length);\n\t\tacpi_ut_dump_buffer(source_desc->buffer.pointer,\n\t\t\t\t    (source_desc->buffer.length < 256) ?\n\t\t\t\t    source_desc->buffer.length : 256,\n\t\t\t\t    DB_BYTE_DISPLAY, 0);\n\t\tbreak;\n\n\tcase ACPI_TYPE_STRING:\n\n\t\tacpi_os_printf(\"\\\"%s\\\"\\n\", source_desc->string.pointer);\n\t\tbreak;\n\n\tcase ACPI_TYPE_PACKAGE:\n\n\t\tacpi_os_printf(\"(Contains 0x%.2X Elements):\\n\",\n\t\t\t       source_desc->package.count);\n\n\t\t \n\n\t\tfor (i = 0; i < source_desc->package.count; i++) {\n\t\t\tacpi_ex_do_debug_object(source_desc->package.\n\t\t\t\t\t\telements[i], level + 4, i + 1);\n\t\t}\n\t\tbreak;\n\n\tcase ACPI_TYPE_LOCAL_REFERENCE:\n\n\t\tacpi_os_printf(\"[%s] \",\n\t\t\t       acpi_ut_get_reference_name(source_desc));\n\n\t\t \n\n\t\tswitch (source_desc->reference.class) {\n\t\tcase ACPI_REFCLASS_INDEX:\n\n\t\t\tacpi_os_printf(\"0x%X\\n\", source_desc->reference.value);\n\t\t\tbreak;\n\n\t\tcase ACPI_REFCLASS_TABLE:\n\n\t\t\t \n\n\t\t\tacpi_os_printf(\"Table Index 0x%X\\n\",\n\t\t\t\t       source_desc->reference.value);\n\t\t\treturn_VOID;\n\n\t\tdefault:\n\n\t\t\tbreak;\n\t\t}\n\n\t\tacpi_os_printf(\" \");\n\n\t\t \n\n\t\tif (source_desc->reference.node) {\n\t\t\tif (ACPI_GET_DESCRIPTOR_TYPE\n\t\t\t    (source_desc->reference.node) !=\n\t\t\t    ACPI_DESC_TYPE_NAMED) {\n\t\t\t\tacpi_os_printf\n\t\t\t\t    (\" %p - Not a valid namespace node\\n\",\n\t\t\t\t     source_desc->reference.node);\n\t\t\t} else {\n\t\t\t\tacpi_os_printf(\"Node %p [%4.4s] \",\n\t\t\t\t\t       source_desc->reference.node,\n\t\t\t\t\t       (source_desc->reference.node)->\n\t\t\t\t\t       name.ascii);\n\n\t\t\t\tswitch ((source_desc->reference.node)->type) {\n\n\t\t\t\t\t \n\n\t\t\t\tcase ACPI_TYPE_DEVICE:\n\t\t\t\t\tacpi_os_printf(\"Device\\n\");\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ACPI_TYPE_THERMAL:\n\t\t\t\t\tacpi_os_printf(\"Thermal Zone\\n\");\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tacpi_ex_do_debug_object((source_desc->\n\t\t\t\t\t\t\t\t reference.\n\t\t\t\t\t\t\t\t node)->object,\n\t\t\t\t\t\t\t\tlevel + 4, 0);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (source_desc->reference.object) {\n\t\t\tif (ACPI_GET_DESCRIPTOR_TYPE\n\t\t\t    (source_desc->reference.object) ==\n\t\t\t    ACPI_DESC_TYPE_NAMED) {\n\n\t\t\t\t \n\n\t\t\t\tacpi_ex_do_debug_object(ACPI_CAST_PTR\n\t\t\t\t\t\t\t(union\n\t\t\t\t\t\t\t acpi_operand_object,\n\t\t\t\t\t\t\t source_desc->reference.\n\t\t\t\t\t\t\t object), level + 4, 0);\n\t\t\t} else {\n\t\t\t\tobject_desc = source_desc->reference.object;\n\t\t\t\tvalue = source_desc->reference.value;\n\n\t\t\t\tswitch (object_desc->common.type) {\n\t\t\t\tcase ACPI_TYPE_BUFFER:\n\n\t\t\t\t\tacpi_os_printf(\"Buffer[%u] = 0x%2.2X\\n\",\n\t\t\t\t\t\t       value,\n\t\t\t\t\t\t       *source_desc->reference.\n\t\t\t\t\t\t       index_pointer);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ACPI_TYPE_STRING:\n\n\t\t\t\t\tacpi_os_printf\n\t\t\t\t\t    (\"String[%u] = \\\"%c\\\" (0x%2.2X)\\n\",\n\t\t\t\t\t     value,\n\t\t\t\t\t     *source_desc->reference.\n\t\t\t\t\t     index_pointer,\n\t\t\t\t\t     *source_desc->reference.\n\t\t\t\t\t     index_pointer);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ACPI_TYPE_PACKAGE:\n\n\t\t\t\t\tacpi_os_printf(\"Package[%u] = \", value);\n\t\t\t\t\tif (!(*source_desc->reference.where)) {\n\t\t\t\t\t\tacpi_os_printf\n\t\t\t\t\t\t    (\"[Uninitialized Package Element]\\n\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tacpi_ex_do_debug_object\n\t\t\t\t\t\t    (*source_desc->reference.\n\t\t\t\t\t\t     where, level + 4, 0);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tacpi_os_printf\n\t\t\t\t\t    (\"Unknown Reference object type %X\\n\",\n\t\t\t\t\t     object_desc->common.type);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tbreak;\n\n\tdefault:\n\n\t\tacpi_os_printf(\"(Descriptor %p)\\n\", source_desc);\n\t\tbreak;\n\t}\n\n\tACPI_DEBUG_PRINT_RAW((ACPI_DB_EXEC, \"\\n\"));\n\treturn_VOID;\n}\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}