{
  "module_name": "apei-internal.h",
  "hash_id": "69690582984410439afd95197cbb9a10251828c108fc3bcea040c1312ab594cf",
  "original_prompt": "Ingested from linux-6.6.14/drivers/acpi/apei/apei-internal.h",
  "human_readable_source": " \n \n\n#ifndef APEI_INTERNAL_H\n#define APEI_INTERNAL_H\n\n#include <linux/acpi.h>\n\nstruct apei_exec_context;\n\ntypedef int (*apei_exec_ins_func_t)(struct apei_exec_context *ctx,\n\t\t\t\t    struct acpi_whea_header *entry);\n\n#define APEI_EXEC_INS_ACCESS_REGISTER\t0x0001\n\nstruct apei_exec_ins_type {\n\tu32 flags;\n\tapei_exec_ins_func_t run;\n};\n\nstruct apei_exec_context {\n\tu32 ip;\n\tu64 value;\n\tu64 var1;\n\tu64 var2;\n\tu64 src_base;\n\tu64 dst_base;\n\tstruct apei_exec_ins_type *ins_table;\n\tu32 instructions;\n\tstruct acpi_whea_header *action_table;\n\tu32 entries;\n};\n\nvoid apei_exec_ctx_init(struct apei_exec_context *ctx,\n\t\t\tstruct apei_exec_ins_type *ins_table,\n\t\t\tu32 instructions,\n\t\t\tstruct acpi_whea_header *action_table,\n\t\t\tu32 entries);\n\nstatic inline void apei_exec_ctx_set_input(struct apei_exec_context *ctx,\n\t\t\t\t\t   u64 input)\n{\n\tctx->value = input;\n}\n\nstatic inline u64 apei_exec_ctx_get_output(struct apei_exec_context *ctx)\n{\n\treturn ctx->value;\n}\n\nint __apei_exec_run(struct apei_exec_context *ctx, u8 action, bool optional);\n\nstatic inline int apei_exec_run(struct apei_exec_context *ctx, u8 action)\n{\n\treturn __apei_exec_run(ctx, action, 0);\n}\n\n \nstatic inline int apei_exec_run_optional(struct apei_exec_context *ctx, u8 action)\n{\n\treturn __apei_exec_run(ctx, action, 1);\n}\n\n \n\n \n#define APEI_EXEC_SET_IP\t1\n\nint apei_map_generic_address(struct acpi_generic_address *reg);\n\nstatic inline void apei_unmap_generic_address(struct acpi_generic_address *reg)\n{\n\tacpi_os_unmap_generic_address(reg);\n}\n\nint apei_read(u64 *val, struct acpi_generic_address *reg);\nint apei_write(u64 val, struct acpi_generic_address *reg);\n\nint __apei_exec_read_register(struct acpi_whea_header *entry, u64 *val);\nint __apei_exec_write_register(struct acpi_whea_header *entry, u64 val);\nint apei_exec_read_register(struct apei_exec_context *ctx,\n\t\t\t    struct acpi_whea_header *entry);\nint apei_exec_read_register_value(struct apei_exec_context *ctx,\n\t\t\t\t  struct acpi_whea_header *entry);\nint apei_exec_write_register(struct apei_exec_context *ctx,\n\t\t\t     struct acpi_whea_header *entry);\nint apei_exec_write_register_value(struct apei_exec_context *ctx,\n\t\t\t\t   struct acpi_whea_header *entry);\nint apei_exec_noop(struct apei_exec_context *ctx,\n\t\t   struct acpi_whea_header *entry);\nint apei_exec_pre_map_gars(struct apei_exec_context *ctx);\nint apei_exec_post_unmap_gars(struct apei_exec_context *ctx);\n\nstruct apei_resources {\n\tstruct list_head iomem;\n\tstruct list_head ioport;\n};\n\nstatic inline void apei_resources_init(struct apei_resources *resources)\n{\n\tINIT_LIST_HEAD(&resources->iomem);\n\tINIT_LIST_HEAD(&resources->ioport);\n}\n\nvoid apei_resources_fini(struct apei_resources *resources);\nint apei_resources_add(struct apei_resources *resources,\n\t\t       unsigned long start, unsigned long size,\n\t\t       bool iomem);\nint apei_resources_sub(struct apei_resources *resources1,\n\t\t       struct apei_resources *resources2);\nint apei_resources_request(struct apei_resources *resources,\n\t\t\t   const char *desc);\nvoid apei_resources_release(struct apei_resources *resources);\nint apei_exec_collect_resources(struct apei_exec_context *ctx,\n\t\t\t\tstruct apei_resources *resources);\n\nstruct dentry;\nstruct dentry *apei_get_debugfs_dir(void);\n\nstatic inline u32 cper_estatus_len(struct acpi_hest_generic_status *estatus)\n{\n\tif (estatus->raw_data_length)\n\t\treturn estatus->raw_data_offset + \\\n\t\t\testatus->raw_data_length;\n\telse\n\t\treturn sizeof(*estatus) + estatus->data_length;\n}\n\nint apei_osc_setup(void);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}