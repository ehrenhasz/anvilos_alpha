{
  "module_name": "video_detect.c",
  "hash_id": "2940987a1247c3628c4316e04ec930a3619de9b93a3bb6b4ec9ce27a3ecd35ee",
  "original_prompt": "Ingested from linux-6.6.14/drivers/acpi/video_detect.c",
  "human_readable_source": " \n\n#include <linux/export.h>\n#include <linux/acpi.h>\n#include <linux/apple-gmux.h>\n#include <linux/backlight.h>\n#include <linux/dmi.h>\n#include <linux/module.h>\n#include <linux/pci.h>\n#include <linux/platform_data/x86/nvidia-wmi-ec-backlight.h>\n#include <linux/pnp.h>\n#include <linux/types.h>\n#include <linux/workqueue.h>\n#include <acpi/video.h>\n\nstatic enum acpi_backlight_type acpi_backlight_cmdline = acpi_backlight_undef;\nstatic enum acpi_backlight_type acpi_backlight_dmi = acpi_backlight_undef;\n\nstatic void acpi_video_parse_cmdline(void)\n{\n\tif (!strcmp(\"vendor\", acpi_video_backlight_string))\n\t\tacpi_backlight_cmdline = acpi_backlight_vendor;\n\tif (!strcmp(\"video\", acpi_video_backlight_string))\n\t\tacpi_backlight_cmdline = acpi_backlight_video;\n\tif (!strcmp(\"native\", acpi_video_backlight_string))\n\t\tacpi_backlight_cmdline = acpi_backlight_native;\n\tif (!strcmp(\"nvidia_wmi_ec\", acpi_video_backlight_string))\n\t\tacpi_backlight_cmdline = acpi_backlight_nvidia_wmi_ec;\n\tif (!strcmp(\"apple_gmux\", acpi_video_backlight_string))\n\t\tacpi_backlight_cmdline = acpi_backlight_apple_gmux;\n\tif (!strcmp(\"none\", acpi_video_backlight_string))\n\t\tacpi_backlight_cmdline = acpi_backlight_none;\n}\n\nstatic acpi_status\nfind_video(acpi_handle handle, u32 lvl, void *context, void **rv)\n{\n\tstruct acpi_device *acpi_dev = acpi_fetch_acpi_dev(handle);\n\tlong *cap = context;\n\tstruct pci_dev *dev;\n\n\tstatic const struct acpi_device_id video_ids[] = {\n\t\t{ACPI_VIDEO_HID, 0},\n\t\t{\"\", 0},\n\t};\n\n\tif (acpi_dev && !acpi_match_device_ids(acpi_dev, video_ids)) {\n\t\tdev = acpi_get_pci_dev(handle);\n\t\tif (!dev)\n\t\t\treturn AE_OK;\n\t\tpci_dev_put(dev);\n\t\t*cap |= acpi_is_video_device(handle);\n\t}\n\treturn AE_OK;\n}\n\n \n#ifdef CONFIG_X86\nstatic bool nvidia_wmi_ec_supported(void)\n{\n\tstruct wmi_brightness_args args = {\n\t\t.mode = WMI_BRIGHTNESS_MODE_GET,\n\t\t.val = 0,\n\t\t.ret = 0,\n\t};\n\tstruct acpi_buffer buf = { (acpi_size)sizeof(args), &args };\n\tacpi_status status;\n\n\tstatus = wmi_evaluate_method(WMI_BRIGHTNESS_GUID, 0,\n\t\t\t\t     WMI_BRIGHTNESS_METHOD_SOURCE, &buf, &buf);\n\tif (ACPI_FAILURE(status))\n\t\treturn false;\n\n\t \n\treturn args.ret == WMI_BRIGHTNESS_SOURCE_EC;\n}\n#else\nstatic bool nvidia_wmi_ec_supported(void)\n{\n\treturn false;\n}\n#endif\n\n \nstatic int video_detect_force_vendor(const struct dmi_system_id *d)\n{\n\tacpi_backlight_dmi = acpi_backlight_vendor;\n\treturn 0;\n}\n\nstatic int video_detect_force_video(const struct dmi_system_id *d)\n{\n\tacpi_backlight_dmi = acpi_backlight_video;\n\treturn 0;\n}\n\nstatic int video_detect_force_native(const struct dmi_system_id *d)\n{\n\tacpi_backlight_dmi = acpi_backlight_native;\n\treturn 0;\n}\n\nstatic int video_detect_portege_r100(const struct dmi_system_id *d)\n{\n\tstruct pci_dev *dev;\n\t \n\tdev = pci_get_device(PCI_VENDOR_ID_TRIDENT, 0x2100, NULL);\n\tif (dev)\n\t\tacpi_backlight_dmi = acpi_backlight_vendor;\n\treturn 0;\n}\n\nstatic const struct dmi_system_id video_detect_dmi_table[] = {\n\t \n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Acer\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"KAV80\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_vendor,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"ASUSTeK Computer Inc.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"UL30VT\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_vendor,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"ASUSTeK Computer Inc.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"UL30A\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_vendor,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"ASUSTeK COMPUTER INC.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"X55U\"),\n\t\t},\n\t},\n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"ASUSTeK COMPUTER INC.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"X101CH\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_vendor,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"ASUSTeK COMPUTER INC.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"X401U\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_vendor,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"ASUSTeK COMPUTER INC.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"X501U\"),\n\t\t},\n\t},\n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"ASUSTeK COMPUTER INC.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"1015CX\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_vendor,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"SAMSUNG ELECTRONICS CO., LTD.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"N150/N210/N220\"),\n\t\tDMI_MATCH(DMI_BOARD_NAME, \"N150/N210/N220\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_vendor,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"SAMSUNG ELECTRONICS CO., LTD.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"NF110/NF210/NF310\"),\n\t\tDMI_MATCH(DMI_BOARD_NAME, \"NF110/NF210/NF310\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_vendor,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"SAMSUNG ELECTRONICS CO., LTD.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"NC210/NC110\"),\n\t\tDMI_MATCH(DMI_BOARD_NAME, \"NC210/NC110\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_vendor,\n\t  \n\t .matches = {\n\t\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Xiaomi Inc\"),\n\t\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"Mipad2\"),\n\t\t},\n\t},\n\n\t \n\t{\n\t .callback = video_detect_force_vendor,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Sony Corporation\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"PCG-FRV35\"),\n\t\t},\n\t},\n\n\t \n\t{\n\t .callback = video_detect_force_vendor,\n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"TOSHIBA\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"PORTEGE R500\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_vendor,\n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"TOSHIBA\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"PORTEGE R600\"),\n\t\t},\n\t},\n\n\t \n\t{\n\t .callback = video_detect_portege_r100,\n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"TOSHIBA\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"Portable PC\"),\n\t\tDMI_MATCH(DMI_PRODUCT_VERSION, \"Version 1.0\"),\n\t\tDMI_MATCH(DMI_BOARD_NAME, \"Portable PC\")\n\t\t},\n\t},\n\n\t \n\t{\n\t .callback = video_detect_force_video,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Apple Inc.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"iMac14,1\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_video,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Apple Inc.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"iMac14,2\"),\n\t\t},\n\t},\n\n\t \n\t{\n\t .callback = video_detect_force_video,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"LENOVO\"),\n\t\tDMI_MATCH(DMI_PRODUCT_VERSION, \"ThinkPad T420\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_video,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"LENOVO\"),\n\t\tDMI_MATCH(DMI_PRODUCT_VERSION, \"ThinkPad T520\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_video,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"LENOVO\"),\n\t\tDMI_MATCH(DMI_PRODUCT_VERSION, \"ThinkPad X201s\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_video,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"LENOVO\"),\n\t\tDMI_MATCH(DMI_PRODUCT_VERSION, \"ThinkPad X201T\"),\n\t\t},\n\t},\n\n\t \n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Hewlett-Packard\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"HP ENVY 15 Notebook PC\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_video,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"SAMSUNG ELECTRONICS CO., LTD.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"870Z5E/880Z5E/680Z5E\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_video,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"SAMSUNG ELECTRONICS CO., LTD.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME,\n\t\t\t  \"370R4E/370R4V/370R5E/3570RE/370R5V\"),\n\t\t},\n\t},\n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"SAMSUNG ELECTRONICS CO., LTD.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME,\n\t\t\t  \"3570R/370R/470R/450R/510R/4450RV\"),\n\t\t},\n\t},\n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"SAMSUNG ELECTRONICS CO., LTD.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"670Z5E\"),\n\t\t},\n\t},\n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"SAMSUNG ELECTRONICS CO., LTD.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"730U3E/740U3E\"),\n\t\t},\n\t},\n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"SAMSUNG ELECTRONICS CO., LTD.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME,\n\t\t\t  \"900X3C/900X3D/900X3E/900X4C/900X4D\"),\n\t\t},\n\t},\n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Dell Inc.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"XPS L421X\"),\n\t\t},\n\t},\n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Dell Inc.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"XPS L521X\"),\n\t\t},\n\t},\n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"SAMSUNG ELECTRONICS CO., LTD.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"530U4E/540U4E\"),\n\t\t},\n\t},\n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Hewlett-Packard\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"HP 635 Notebook PC\"),\n\t\t},\n\t},\n\n\t \n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"LENOVO\"),\n\t\tDMI_MATCH(DMI_BOARD_NAME, \"Lenovo IdeaPad S405\"),\n\t\t},\n\t},\n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"LENOVO\"),\n\t\tDMI_MATCH(DMI_PRODUCT_VERSION, \"IdeaPad Z470\"),\n\t\t},\n\t},\n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"LENOVO\"),\n\t\tDMI_MATCH(DMI_PRODUCT_VERSION, \"Ideapad Z570\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"LENOVO\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"81FS\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"LENOVO\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"82BK\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"LENOVO\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"3371\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Apple Inc.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"iMac11,3\"),\n\t\t},\n\t},\n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Apple Inc.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"iMac12,1\"),\n\t\t},\n\t},\n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Apple Inc.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"iMac12,2\"),\n\t\t},\n\t},\n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Apple Inc.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"MacBookPro12,1\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Dell Inc.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"Inspiron N4010\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Dell Inc.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"Vostro V131\"),\n\t\t},\n\t},\n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Dell Inc.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"Dell System XPS L702X\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Dell Inc.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"Precision 7510\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Dell Inc.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"Studio 1569\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Acer\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"Aspire 3830TG\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Acer\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"Aspire 4810T\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Acer\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"Aspire 5738\"),\n\t\tDMI_MATCH(DMI_BOARD_NAME, \"JV50\"),\n\t\t},\n\t},\n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_BOARD_VENDOR, \"Acer\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"Aspire 5741\"),\n\t\t},\n\t},\n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_BOARD_VENDOR, \"Acer\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"Aspire 5750\"),\n\t\t},\n\t},\n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_BOARD_VENDOR, \"Acer\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"Extensa 5235\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_BOARD_VENDOR, \"Acer\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"TravelMate 4750\"),\n\t\t},\n\t},\n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Acer\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"TravelMate 5735Z\"),\n\t\tDMI_MATCH(DMI_BOARD_NAME, \"BA51_MV\"),\n\t\t},\n\t},\n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_BOARD_VENDOR, \"Acer\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"TravelMate 5760\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"ASUSTeK COMPUTER INC.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"GA401\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"ASUSTeK COMPUTER INC.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"GA502\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"ASUSTeK COMPUTER INC.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"GA503\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"ASUSTeK Computer Inc.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"U46E\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"ASUSTeK COMPUTER INC.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"UX303UB\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Hewlett-Packard\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"HP EliteBook 8460p\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Hewlett-Packard\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"HP Pavilion g6 Notebook PC\"),\n\t\tDMI_MATCH(DMI_PRODUCT_SKU, \"B4U19UA\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"SAMSUNG ELECTRONICS CO., LTD.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"N150P\"),\n\t\tDMI_MATCH(DMI_BOARD_NAME, \"N150P\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"SAMSUNG ELECTRONICS CO., LTD.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"N145P/N250P/N260P\"),\n\t\tDMI_MATCH(DMI_BOARD_NAME, \"N145P/N250P/N260P\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"SAMSUNG ELECTRONICS CO., LTD.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"N250P\"),\n\t\tDMI_MATCH(DMI_BOARD_NAME, \"N250P\"),\n\t\t},\n\t},\n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Sony Corporation\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"VPCEH3U1E\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Sony Corporation\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"VPCY11S1E\"),\n\t\t},\n\t},\n\n\t \n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"TOSHIBA\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"PORTEGE R700\"),\n\t\t},\n\t},\n\t{\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"TOSHIBA\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"R830\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"TOSHIBA\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"Z830\"),\n\t\t},\n\t},\n\n\t \n\t{\n\t .callback = video_detect_force_native,\n\t  \n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Dell Inc.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"Dell G15 5515\"),\n\t\t},\n\t},\n\t{\n\t .callback = video_detect_force_native,\n\t .matches = {\n\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Dell Inc.\"),\n\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"Vostro 15 3535\"),\n\t\t},\n\t},\n\t{ },\n};\n\nstatic bool google_cros_ec_present(void)\n{\n\treturn acpi_dev_found(\"GOOG0004\") || acpi_dev_found(\"GOOG000C\");\n}\n\n \nstatic bool prefer_native_over_acpi_video(void)\n{\n\treturn acpi_osi_is_win8() || google_cros_ec_present();\n}\n\n \nenum acpi_backlight_type __acpi_video_get_backlight_type(bool native, bool *auto_detect)\n{\n\tstatic DEFINE_MUTEX(init_mutex);\n\tstatic bool nvidia_wmi_ec_present;\n\tstatic bool apple_gmux_present;\n\tstatic bool native_available;\n\tstatic bool init_done;\n\tstatic long video_caps;\n\n\t \n\tmutex_lock(&init_mutex);\n\tif (!init_done) {\n\t\tacpi_video_parse_cmdline();\n\t\tdmi_check_system(video_detect_dmi_table);\n\t\tacpi_walk_namespace(ACPI_TYPE_DEVICE, ACPI_ROOT_OBJECT,\n\t\t\t\t    ACPI_UINT32_MAX, find_video, NULL,\n\t\t\t\t    &video_caps, NULL);\n\t\tnvidia_wmi_ec_present = nvidia_wmi_ec_supported();\n\t\tapple_gmux_present = apple_gmux_detect(NULL, NULL);\n\t\tinit_done = true;\n\t}\n\tif (native)\n\t\tnative_available = true;\n\tmutex_unlock(&init_mutex);\n\n\tif (auto_detect)\n\t\t*auto_detect = false;\n\n\t \n\tif (acpi_backlight_cmdline != acpi_backlight_undef)\n\t\treturn acpi_backlight_cmdline;\n\n\t \n\tif (acpi_backlight_dmi != acpi_backlight_undef)\n\t\treturn acpi_backlight_dmi;\n\n\tif (auto_detect)\n\t\t*auto_detect = true;\n\n\t \n\tif (nvidia_wmi_ec_present)\n\t\treturn acpi_backlight_nvidia_wmi_ec;\n\n\tif (apple_gmux_present)\n\t\treturn acpi_backlight_apple_gmux;\n\n\t \n\tif ((video_caps & ACPI_VIDEO_BACKLIGHT) &&\n\t     !(native_available && prefer_native_over_acpi_video()))\n\t\treturn acpi_backlight_video;\n\n\t \n\tif (native_available)\n\t\treturn acpi_backlight_native;\n\n\t \n\tif (acpi_osi_is_win8())\n\t\treturn acpi_backlight_none;\n\n\t \n\treturn acpi_backlight_vendor;\n}\nEXPORT_SYMBOL(__acpi_video_get_backlight_type);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}