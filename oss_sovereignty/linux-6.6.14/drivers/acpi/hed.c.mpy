{
  "module_name": "hed.c",
  "hash_id": "a05225d337cff5a3fb25f6a0aca2fc2d31045f6909b25d8a15cbd37f65d3319e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/acpi/hed.c",
  "human_readable_source": "\n \n\n#include <linux/kernel.h>\n#include <linux/module.h>\n#include <linux/init.h>\n#include <linux/acpi.h>\n#include <acpi/hed.h>\n\nstatic const struct acpi_device_id acpi_hed_ids[] = {\n\t{\"PNP0C33\", 0},\n\t{\"\", 0},\n};\nMODULE_DEVICE_TABLE(acpi, acpi_hed_ids);\n\nstatic acpi_handle hed_handle;\n\nstatic BLOCKING_NOTIFIER_HEAD(acpi_hed_notify_list);\n\nint register_acpi_hed_notifier(struct notifier_block *nb)\n{\n\treturn blocking_notifier_chain_register(&acpi_hed_notify_list, nb);\n}\nEXPORT_SYMBOL_GPL(register_acpi_hed_notifier);\n\nvoid unregister_acpi_hed_notifier(struct notifier_block *nb)\n{\n\tblocking_notifier_chain_unregister(&acpi_hed_notify_list, nb);\n}\nEXPORT_SYMBOL_GPL(unregister_acpi_hed_notifier);\n\n \nstatic void acpi_hed_notify(acpi_handle handle, u32 event, void *data)\n{\n\tblocking_notifier_call_chain(&acpi_hed_notify_list, 0, NULL);\n}\n\nstatic int acpi_hed_add(struct acpi_device *device)\n{\n\tint err;\n\n\t \n\tif (hed_handle)\n\t\treturn -EINVAL;\n\thed_handle = device->handle;\n\n\terr = acpi_dev_install_notify_handler(device, ACPI_DEVICE_NOTIFY,\n\t\t\t\t\t      acpi_hed_notify);\n\tif (err)\n\t\thed_handle = NULL;\n\n\treturn err;\n}\n\nstatic void acpi_hed_remove(struct acpi_device *device)\n{\n\tacpi_dev_remove_notify_handler(device, ACPI_DEVICE_NOTIFY,\n\t\t\t\t       acpi_hed_notify);\n\thed_handle = NULL;\n}\n\nstatic struct acpi_driver acpi_hed_driver = {\n\t.name = \"hardware_error_device\",\n\t.class = \"hardware_error\",\n\t.ids = acpi_hed_ids,\n\t.ops = {\n\t\t.add = acpi_hed_add,\n\t\t.remove = acpi_hed_remove,\n\t},\n};\nmodule_acpi_driver(acpi_hed_driver);\n\nMODULE_AUTHOR(\"Huang Ying\");\nMODULE_DESCRIPTION(\"ACPI Hardware Error Device Driver\");\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}