{
  "module_name": "simatic-ipc-batt-f7188x.c",
  "hash_id": "2c50c3227e35709341bcbb4c989f6b9b1116d00faab4d656e598563e853e7d19",
  "original_prompt": "Ingested from linux-6.6.14/drivers/platform/x86/siemens/simatic-ipc-batt-f7188x.c",
  "human_readable_source": "\n \n\n#include <linux/gpio/machine.h>\n#include <linux/gpio/consumer.h>\n#include <linux/kernel.h>\n#include <linux/module.h>\n#include <linux/platform_device.h>\n#include <linux/platform_data/x86/simatic-ipc-base.h>\n\n#include \"simatic-ipc-batt.h\"\n\nstatic struct gpiod_lookup_table *batt_lookup_table;\n\nstatic struct gpiod_lookup_table simatic_ipc_batt_gpio_table_227g = {\n\t.table = {\n\t\tGPIO_LOOKUP_IDX(\"gpio-f7188x-7\", 6, NULL, 0, GPIO_ACTIVE_HIGH),\n\t\tGPIO_LOOKUP_IDX(\"gpio-f7188x-7\", 5, NULL, 1, GPIO_ACTIVE_HIGH),\n\t\tGPIO_LOOKUP_IDX(\"INTC1020:01\",  66, NULL, 2, GPIO_ACTIVE_HIGH),\n\t\t{}  \n\t},\n};\n\nstatic struct gpiod_lookup_table simatic_ipc_batt_gpio_table_bx_39a = {\n\t.table = {\n\t\tGPIO_LOOKUP_IDX(\"gpio-f7188x-6\", 4, NULL, 0, GPIO_ACTIVE_HIGH),\n\t\tGPIO_LOOKUP_IDX(\"gpio-f7188x-6\", 3, NULL, 1, GPIO_ACTIVE_HIGH),\n\t\t{}  \n\t},\n};\n\nstatic struct gpiod_lookup_table simatic_ipc_batt_gpio_table_bx_59a = {\n\t.table = {\n\t\tGPIO_LOOKUP_IDX(\"gpio-f7188x-7\", 6, NULL, 0, GPIO_ACTIVE_HIGH),\n\t\tGPIO_LOOKUP_IDX(\"gpio-f7188x-7\", 5, NULL, 1, GPIO_ACTIVE_HIGH),\n\t\tGPIO_LOOKUP_IDX(\"INTC1056:00\", 438, NULL, 2, GPIO_ACTIVE_HIGH),\n\t\t{}  \n\t}\n};\n\nstatic int simatic_ipc_batt_f7188x_remove(struct platform_device *pdev)\n{\n\treturn simatic_ipc_batt_remove(pdev, batt_lookup_table);\n}\n\nstatic int simatic_ipc_batt_f7188x_probe(struct platform_device *pdev)\n{\n\tconst struct simatic_ipc_platform *plat = pdev->dev.platform_data;\n\n\tswitch (plat->devmode) {\n\tcase SIMATIC_IPC_DEVICE_227G:\n\t\tbatt_lookup_table = &simatic_ipc_batt_gpio_table_227g;\n\t\tbreak;\n\tcase SIMATIC_IPC_DEVICE_BX_39A:\n\t\tbatt_lookup_table = &simatic_ipc_batt_gpio_table_bx_39a;\n\t\tbreak;\n\tcase SIMATIC_IPC_DEVICE_BX_59A:\n\t\tbatt_lookup_table = &simatic_ipc_batt_gpio_table_bx_59a;\n\t\tbreak;\n\tdefault:\n\t\treturn -ENODEV;\n\t}\n\n\treturn simatic_ipc_batt_probe(pdev, batt_lookup_table);\n}\n\nstatic struct platform_driver simatic_ipc_batt_driver = {\n\t.probe = simatic_ipc_batt_f7188x_probe,\n\t.remove = simatic_ipc_batt_f7188x_remove,\n\t.driver = {\n\t\t.name = KBUILD_MODNAME,\n\t},\n};\n\nmodule_platform_driver(simatic_ipc_batt_driver);\n\nMODULE_LICENSE(\"GPL\");\nMODULE_ALIAS(\"platform:\" KBUILD_MODNAME);\nMODULE_SOFTDEP(\"pre: simatic-ipc-batt gpio_f7188x platform:elkhartlake-pinctrl platform:alderlake-pinctrl\");\nMODULE_AUTHOR(\"Henning Schild <henning.schild@siemens.com>\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}