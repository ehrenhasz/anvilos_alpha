{
  "module_name": "mxm-wmi.c",
  "hash_id": "ee4d5ccc60e3b32bd96fb97433b4fad263ae90bfc60ba09e8d8a0211dc91a2fa",
  "original_prompt": "Ingested from linux-6.6.14/drivers/platform/x86/mxm-wmi.c",
  "human_readable_source": "\n \n#include <linux/kernel.h>\n#include <linux/module.h>\n#include <linux/init.h>\n#include <linux/mxm-wmi.h>\n#include <linux/acpi.h>\n\nMODULE_AUTHOR(\"Dave Airlie\");\nMODULE_DESCRIPTION(\"MXM WMI Driver\");\nMODULE_LICENSE(\"GPL\");\n\n#define MXM_WMMX_GUID \"F6CB5C3C-9CAE-4EBD-B577-931EA32A2CC0\"\n\nMODULE_ALIAS(\"wmi:\"MXM_WMMX_GUID);\n\n#define MXM_WMMX_FUNC_MXDS 0x5344584D  \n#define MXM_WMMX_FUNC_MXMX 0x53445344  \n\nstruct mxds_args {\n\tu32 func;\n\tu32 args;\n\tu32 xarg;\n};\n\nint mxm_wmi_call_mxds(int adapter)\n{\n\tstruct mxds_args args = {\n\t\t.func = MXM_WMMX_FUNC_MXDS,\n\t\t.args = 0,\n\t\t.xarg = 1,\n\t};\n\tstruct acpi_buffer input = { (acpi_size)sizeof(args), &args };\n\tacpi_status status;\n\n\tprintk(\"calling mux switch %d\\n\", adapter);\n\n\tstatus = wmi_evaluate_method(MXM_WMMX_GUID, 0x0, adapter, &input, NULL);\n\n\tif (ACPI_FAILURE(status))\n\t\treturn status;\n\n\tprintk(\"mux switched %d\\n\", status);\n\treturn 0;\n\t\t\t    \n}\nEXPORT_SYMBOL_GPL(mxm_wmi_call_mxds);\n\nint mxm_wmi_call_mxmx(int adapter)\n{\n\tstruct mxds_args args = {\n\t\t.func = MXM_WMMX_FUNC_MXMX,\n\t\t.args = 0,\n\t\t.xarg = 1,\n\t};\n\tstruct acpi_buffer input = { (acpi_size)sizeof(args), &args };\n\tacpi_status status;\n\n\tprintk(\"calling mux switch %d\\n\", adapter);\n\n\tstatus = wmi_evaluate_method(MXM_WMMX_GUID, 0x0, adapter, &input, NULL);\n\n\tif (ACPI_FAILURE(status))\n\t\treturn status;\n\n\tprintk(\"mux mutex set switched %d\\n\", status);\n\treturn 0;\n\t\t\t    \n}\nEXPORT_SYMBOL_GPL(mxm_wmi_call_mxmx);\n\nbool mxm_wmi_supported(void)\n{\n\tbool guid_valid;\n\tguid_valid = wmi_has_guid(MXM_WMMX_GUID);\n\treturn guid_valid;\n}\nEXPORT_SYMBOL_GPL(mxm_wmi_supported);\n\nstatic int __init mxm_wmi_init(void)\n{\n\treturn 0;\n}\n\nstatic void __exit mxm_wmi_exit(void)\n{\n}\n\nmodule_init(mxm_wmi_init);\nmodule_exit(mxm_wmi_exit);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}