{
  "module_name": "asus.c",
  "hash_id": "81c11aa3c8cbe479bc97fe6c8161f705b51185fca18cb7b5b45e663d2eb6a218",
  "original_prompt": "Ingested from linux-6.6.14/drivers/platform/x86/x86-android-tablets/asus.c",
  "human_readable_source": "\n \n\n#include <linux/gpio/machine.h>\n#include <linux/input.h>\n#include <linux/platform_device.h>\n\n#include \"shared-psy-info.h\"\n#include \"x86-android-tablets.h\"\n\n \nstatic struct gpiod_lookup_table int3496_gpo2_pin22_gpios = {\n\t.dev_id = \"intel-int3496\",\n\t.table = {\n\t\tGPIO_LOOKUP(\"INT33FC:02\", 22, \"id\", GPIO_ACTIVE_HIGH),\n\t\t{ }\n\t},\n};\n\nstatic const struct x86_gpio_button asus_me176c_tf103c_lid __initconst = {\n\t.button = {\n\t\t.code = SW_LID,\n\t\t.active_low = true,\n\t\t.desc = \"lid_sw\",\n\t\t.type = EV_SW,\n\t\t.wakeup = true,\n\t\t.debounce_interval = 50,\n\t},\n\t.chip = \"INT33FC:02\",\n\t.pin = 12,\n};\n\n \nstatic const char * const asus_me176c_accel_mount_matrix[] = {\n\t\"-1\", \"0\", \"0\",\n\t\"0\", \"1\", \"0\",\n\t\"0\", \"0\", \"1\"\n};\n\nstatic const struct property_entry asus_me176c_accel_props[] = {\n\tPROPERTY_ENTRY_STRING_ARRAY(\"mount-matrix\", asus_me176c_accel_mount_matrix),\n\t{ }\n};\n\nstatic const struct software_node asus_me176c_accel_node = {\n\t.properties = asus_me176c_accel_props,\n};\n\nstatic const struct property_entry asus_me176c_bq24190_props[] = {\n\tPROPERTY_ENTRY_STRING_ARRAY_LEN(\"supplied-from\", tusb1211_chg_det_psy, 1),\n\tPROPERTY_ENTRY_REF(\"monitored-battery\", &generic_lipo_hv_4v35_battery_node),\n\tPROPERTY_ENTRY_U32(\"ti,system-minimum-microvolt\", 3600000),\n\tPROPERTY_ENTRY_BOOL(\"omit-battery-class\"),\n\tPROPERTY_ENTRY_BOOL(\"disable-reset\"),\n\t{ }\n};\n\nstatic const struct software_node asus_me176c_bq24190_node = {\n\t.properties = asus_me176c_bq24190_props,\n};\n\nstatic const struct property_entry asus_me176c_ug3105_props[] = {\n\tPROPERTY_ENTRY_STRING_ARRAY_LEN(\"supplied-from\", bq24190_psy, 1),\n\tPROPERTY_ENTRY_REF(\"monitored-battery\", &generic_lipo_hv_4v35_battery_node),\n\tPROPERTY_ENTRY_U32(\"upisemi,rsns-microohm\", 10000),\n\t{ }\n};\n\nstatic const struct software_node asus_me176c_ug3105_node = {\n\t.properties = asus_me176c_ug3105_props,\n};\n\nstatic const struct x86_i2c_client_info asus_me176c_i2c_clients[] __initconst = {\n\t{\n\t\t \n\t\t.board_info = {\n\t\t\t.type = \"bq24190\",\n\t\t\t.addr = 0x6b,\n\t\t\t.dev_name = \"bq24297\",\n\t\t\t.swnode = &asus_me176c_bq24190_node,\n\t\t\t.platform_data = &bq24190_pdata,\n\t\t},\n\t\t.adapter_path = \"\\\\_SB_.I2C1\",\n\t\t.irq_data = {\n\t\t\t.type = X86_ACPI_IRQ_TYPE_PMIC,\n\t\t\t.chip = \"\\\\_SB_.I2C7.PMIC\",\n\t\t\t.domain = DOMAIN_BUS_WAKEUP,\n\t\t\t.index = 0,\n\t\t},\n\t}, {\n\t\t \n\t\t.board_info = {\n\t\t\t.type = \"ug3105\",\n\t\t\t.addr = 0x70,\n\t\t\t.dev_name = \"ug3105\",\n\t\t\t.swnode = &asus_me176c_ug3105_node,\n\t\t},\n\t\t.adapter_path = \"\\\\_SB_.I2C1\",\n\t}, {\n\t\t \n\t\t.board_info = {\n\t\t\t.type = \"ak09911\",\n\t\t\t.addr = 0x0c,\n\t\t\t.dev_name = \"ak09911\",\n\t\t},\n\t\t.adapter_path = \"\\\\_SB_.I2C5\",\n\t}, {\n\t\t \n\t\t.board_info = {\n\t\t\t.type = \"kxtj21009\",\n\t\t\t.addr = 0x0f,\n\t\t\t.dev_name = \"kxtj21009\",\n\t\t\t.swnode = &asus_me176c_accel_node,\n\t\t},\n\t\t.adapter_path = \"\\\\_SB_.I2C5\",\n\t\t.irq_data = {\n\t\t\t.type = X86_ACPI_IRQ_TYPE_APIC,\n\t\t\t.index = 0x44,\n\t\t\t.trigger = ACPI_EDGE_SENSITIVE,\n\t\t\t.polarity = ACPI_ACTIVE_LOW,\n\t\t},\n\t}, {\n\t\t \n\t\t.board_info = {\n\t\t\t.type = \"GDIX1001:00\",\n\t\t\t.addr = 0x14,\n\t\t\t.dev_name = \"goodix_ts\",\n\t\t},\n\t\t.adapter_path = \"\\\\_SB_.I2C6\",\n\t\t.irq_data = {\n\t\t\t.type = X86_ACPI_IRQ_TYPE_APIC,\n\t\t\t.index = 0x45,\n\t\t\t.trigger = ACPI_EDGE_SENSITIVE,\n\t\t\t.polarity = ACPI_ACTIVE_LOW,\n\t\t},\n\t},\n};\n\nstatic const struct x86_serdev_info asus_me176c_serdevs[] __initconst = {\n\t{\n\t\t.ctrl_hid = \"80860F0A\",\n\t\t.ctrl_uid = \"2\",\n\t\t.ctrl_devname = \"serial0\",\n\t\t.serdev_hid = \"BCM2E3A\",\n\t},\n};\n\nstatic struct gpiod_lookup_table asus_me176c_goodix_gpios = {\n\t.dev_id = \"i2c-goodix_ts\",\n\t.table = {\n\t\tGPIO_LOOKUP(\"INT33FC:00\", 60, \"reset\", GPIO_ACTIVE_HIGH),\n\t\tGPIO_LOOKUP(\"INT33FC:02\", 28, \"irq\", GPIO_ACTIVE_HIGH),\n\t\t{ }\n\t},\n};\n\nstatic struct gpiod_lookup_table * const asus_me176c_gpios[] = {\n\t&int3496_gpo2_pin22_gpios,\n\t&asus_me176c_goodix_gpios,\n\tNULL\n};\n\nconst struct x86_dev_info asus_me176c_info __initconst = {\n\t.i2c_client_info = asus_me176c_i2c_clients,\n\t.i2c_client_count = ARRAY_SIZE(asus_me176c_i2c_clients),\n\t.pdev_info = int3496_pdevs,\n\t.pdev_count = 1,\n\t.serdev_info = asus_me176c_serdevs,\n\t.serdev_count = ARRAY_SIZE(asus_me176c_serdevs),\n\t.gpio_button = &asus_me176c_tf103c_lid,\n\t.gpio_button_count = 1,\n\t.gpiod_lookup_tables = asus_me176c_gpios,\n\t.bat_swnode = &generic_lipo_hv_4v35_battery_node,\n\t.modules = bq24190_modules,\n};\n\n \nstatic const char * const asus_tf103c_accel_mount_matrix[] = {\n\t\"0\", \"-1\", \"0\",\n\t\"-1\", \"0\", \"0\",\n\t\"0\", \"0\", \"1\"\n};\n\nstatic const struct property_entry asus_tf103c_accel_props[] = {\n\tPROPERTY_ENTRY_STRING_ARRAY(\"mount-matrix\", asus_tf103c_accel_mount_matrix),\n\t{ }\n};\n\nstatic const struct software_node asus_tf103c_accel_node = {\n\t.properties = asus_tf103c_accel_props,\n};\n\nstatic const struct property_entry asus_tf103c_touchscreen_props[] = {\n\tPROPERTY_ENTRY_STRING(\"compatible\", \"atmel,atmel_mxt_ts\"),\n\t{ }\n};\n\nstatic const struct software_node asus_tf103c_touchscreen_node = {\n\t.properties = asus_tf103c_touchscreen_props,\n};\n\nstatic const struct property_entry asus_tf103c_battery_props[] = {\n\tPROPERTY_ENTRY_STRING(\"compatible\", \"simple-battery\"),\n\tPROPERTY_ENTRY_STRING(\"device-chemistry\", \"lithium-ion-polymer\"),\n\tPROPERTY_ENTRY_U32(\"precharge-current-microamp\", 256000),\n\tPROPERTY_ENTRY_U32(\"charge-term-current-microamp\", 128000),\n\tPROPERTY_ENTRY_U32(\"constant-charge-current-max-microamp\", 2048000),\n\tPROPERTY_ENTRY_U32(\"constant-charge-voltage-max-microvolt\", 4208000),\n\tPROPERTY_ENTRY_U32(\"factory-internal-resistance-micro-ohms\", 150000),\n\t{ }\n};\n\nstatic const struct software_node asus_tf103c_battery_node = {\n\t.properties = asus_tf103c_battery_props,\n};\n\nstatic const struct property_entry asus_tf103c_bq24190_props[] = {\n\tPROPERTY_ENTRY_STRING_ARRAY_LEN(\"supplied-from\", tusb1211_chg_det_psy, 1),\n\tPROPERTY_ENTRY_REF(\"monitored-battery\", &asus_tf103c_battery_node),\n\tPROPERTY_ENTRY_U32(\"ti,system-minimum-microvolt\", 3600000),\n\tPROPERTY_ENTRY_BOOL(\"omit-battery-class\"),\n\tPROPERTY_ENTRY_BOOL(\"disable-reset\"),\n\t{ }\n};\n\nstatic const struct software_node asus_tf103c_bq24190_node = {\n\t.properties = asus_tf103c_bq24190_props,\n};\n\nstatic const struct property_entry asus_tf103c_ug3105_props[] = {\n\tPROPERTY_ENTRY_STRING_ARRAY_LEN(\"supplied-from\", bq24190_psy, 1),\n\tPROPERTY_ENTRY_REF(\"monitored-battery\", &asus_tf103c_battery_node),\n\tPROPERTY_ENTRY_U32(\"upisemi,rsns-microohm\", 5000),\n\t{ }\n};\n\nstatic const struct software_node asus_tf103c_ug3105_node = {\n\t.properties = asus_tf103c_ug3105_props,\n};\n\nstatic const struct x86_i2c_client_info asus_tf103c_i2c_clients[] __initconst = {\n\t{\n\t\t \n\t\t.board_info = {\n\t\t\t.type = \"bq24190\",\n\t\t\t.addr = 0x6b,\n\t\t\t.dev_name = \"bq24297\",\n\t\t\t.swnode = &asus_tf103c_bq24190_node,\n\t\t\t.platform_data = &bq24190_pdata,\n\t\t},\n\t\t.adapter_path = \"\\\\_SB_.I2C1\",\n\t\t.irq_data = {\n\t\t\t.type = X86_ACPI_IRQ_TYPE_PMIC,\n\t\t\t.chip = \"\\\\_SB_.I2C7.PMIC\",\n\t\t\t.domain = DOMAIN_BUS_WAKEUP,\n\t\t\t.index = 0,\n\t\t},\n\t}, {\n\t\t \n\t\t.board_info = {\n\t\t\t.type = \"ug3105\",\n\t\t\t.addr = 0x70,\n\t\t\t.dev_name = \"ug3105\",\n\t\t\t.swnode = &asus_tf103c_ug3105_node,\n\t\t},\n\t\t.adapter_path = \"\\\\_SB_.I2C1\",\n\t}, {\n\t\t \n\t\t.board_info = {\n\t\t\t.type = \"ak09911\",\n\t\t\t.addr = 0x0c,\n\t\t\t.dev_name = \"ak09911\",\n\t\t},\n\t\t.adapter_path = \"\\\\_SB_.I2C5\",\n\t}, {\n\t\t \n\t\t.board_info = {\n\t\t\t.type = \"kxtj21009\",\n\t\t\t.addr = 0x0f,\n\t\t\t.dev_name = \"kxtj21009\",\n\t\t\t.swnode = &asus_tf103c_accel_node,\n\t\t},\n\t\t.adapter_path = \"\\\\_SB_.I2C5\",\n\t}, {\n\t\t \n\t\t.board_info = {\n\t\t\t.type = \"atmel_mxt_ts\",\n\t\t\t.addr = 0x4a,\n\t\t\t.dev_name = \"atmel_mxt_ts\",\n\t\t\t.swnode = &asus_tf103c_touchscreen_node,\n\t\t},\n\t\t.adapter_path = \"\\\\_SB_.I2C6\",\n\t\t.irq_data = {\n\t\t\t.type = X86_ACPI_IRQ_TYPE_GPIOINT,\n\t\t\t.chip = \"INT33FC:02\",\n\t\t\t.index = 28,\n\t\t\t.trigger = ACPI_EDGE_SENSITIVE,\n\t\t\t.polarity = ACPI_ACTIVE_LOW,\n\t\t},\n\t},\n};\n\nstatic struct gpiod_lookup_table * const asus_tf103c_gpios[] = {\n\t&int3496_gpo2_pin22_gpios,\n\tNULL\n};\n\nconst struct x86_dev_info asus_tf103c_info __initconst = {\n\t.i2c_client_info = asus_tf103c_i2c_clients,\n\t.i2c_client_count = ARRAY_SIZE(asus_tf103c_i2c_clients),\n\t.pdev_info = int3496_pdevs,\n\t.pdev_count = 1,\n\t.gpio_button = &asus_me176c_tf103c_lid,\n\t.gpio_button_count = 1,\n\t.gpiod_lookup_tables = asus_tf103c_gpios,\n\t.bat_swnode = &asus_tf103c_battery_node,\n\t.modules = bq24190_modules,\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}