{
  "module_name": "common.h",
  "hash_id": "470d9d80a109ce1fccd1e11543809a1c7f056ad9ca692daf09fff10d9a94aae3",
  "original_prompt": "Ingested from linux-6.6.14/drivers/platform/x86/intel/int3472/common.h",
  "human_readable_source": " \n \n\n#ifndef _INTEL_SKL_INT3472_H\n#define _INTEL_SKL_INT3472_H\n\n#include <linux/clk-provider.h>\n#include <linux/gpio/machine.h>\n#include <linux/leds.h>\n#include <linux/regulator/driver.h>\n#include <linux/regulator/machine.h>\n#include <linux/types.h>\n\n \n#ifndef I2C_DEV_NAME_FORMAT\n#define I2C_DEV_NAME_FORMAT\t\t\t\t\t\"i2c-%s\"\n#endif\n\n \n#define INT3472_GPIO_TYPE_RESET\t\t\t\t\t0x00\n#define INT3472_GPIO_TYPE_POWERDOWN\t\t\t\t0x01\n#define INT3472_GPIO_TYPE_POWER_ENABLE\t\t\t\t0x0b\n#define INT3472_GPIO_TYPE_CLK_ENABLE\t\t\t\t0x0c\n#define INT3472_GPIO_TYPE_PRIVACY_LED\t\t\t\t0x0d\n\n#define INT3472_PDEV_MAX_NAME_LEN\t\t\t\t23\n#define INT3472_MAX_SENSOR_GPIOS\t\t\t\t3\n\n#define GPIO_REGULATOR_NAME_LENGTH\t\t\t\t21\n#define GPIO_REGULATOR_SUPPLY_NAME_LENGTH\t\t\t9\n#define GPIO_REGULATOR_SUPPLY_MAP_COUNT\t\t\t\t2\n\n#define INT3472_LED_MAX_NAME_LEN\t\t\t\t32\n\n#define CIO2_SENSOR_SSDB_MCLKSPEED_OFFSET\t\t\t86\n\n#define INT3472_REGULATOR(_name, _supply, _ops)\t\t\t\\\n\t(const struct regulator_desc) {\t\t\t\t\\\n\t\t.name = _name,\t\t\t\t\t\\\n\t\t.supply_name = _supply,\t\t\t\t\\\n\t\t.type = REGULATOR_VOLTAGE,\t\t\t\\\n\t\t.ops = _ops,\t\t\t\t\t\\\n\t\t.owner = THIS_MODULE,\t\t\t\t\\\n\t}\n\n#define to_int3472_clk(hw)\t\t\t\t\t\\\n\tcontainer_of(hw, struct int3472_clock, clk_hw)\n\n#define to_int3472_device(clk)\t\t\t\t\t\\\n\tcontainer_of(clk, struct int3472_discrete_device, clock)\n\nstruct acpi_device;\nstruct i2c_client;\nstruct platform_device;\n\nstruct int3472_cldb {\n\tu8 version;\n\t \n\tu8 control_logic_type;\n\tu8 control_logic_id;\n\tu8 sensor_card_sku;\n\tu8 reserved[10];\n\tu8 clock_source;\n\tu8 reserved2[17];\n};\n\nstruct int3472_discrete_device {\n\tstruct acpi_device *adev;\n\tstruct device *dev;\n\tstruct acpi_device *sensor;\n\tconst char *sensor_name;\n\n\tconst struct int3472_sensor_config *sensor_config;\n\n\tstruct int3472_gpio_regulator {\n\t\t \n\t\tstruct regulator_consumer_supply supply_map[GPIO_REGULATOR_SUPPLY_MAP_COUNT * 2];\n\t\tchar regulator_name[GPIO_REGULATOR_NAME_LENGTH];\n\t\tchar supply_name[GPIO_REGULATOR_SUPPLY_NAME_LENGTH];\n\t\tstruct gpio_desc *gpio;\n\t\tstruct regulator_dev *rdev;\n\t\tstruct regulator_desc rdesc;\n\t} regulator;\n\n\tstruct int3472_clock {\n\t\tstruct clk *clk;\n\t\tstruct clk_hw clk_hw;\n\t\tstruct clk_lookup *cl;\n\t\tstruct gpio_desc *ena_gpio;\n\t\tu32 frequency;\n\t\tu8 imgclk_index;\n\t} clock;\n\n\tstruct int3472_pled {\n\t\tstruct led_classdev classdev;\n\t\tstruct led_lookup_data lookup;\n\t\tchar name[INT3472_LED_MAX_NAME_LEN];\n\t\tstruct gpio_desc *gpio;\n\t} pled;\n\n\tunsigned int ngpios;  \n\tunsigned int n_sensor_gpios;  \n\tstruct gpiod_lookup_table gpios;\n};\n\nunion acpi_object *skl_int3472_get_acpi_buffer(struct acpi_device *adev,\n\t\t\t\t\t       char *id);\nint skl_int3472_fill_cldb(struct acpi_device *adev, struct int3472_cldb *cldb);\nint skl_int3472_get_sensor_adev_and_name(struct device *dev,\n\t\t\t\t\t struct acpi_device **sensor_adev_ret,\n\t\t\t\t\t const char **name_ret);\n\nint skl_int3472_register_gpio_clock(struct int3472_discrete_device *int3472,\n\t\t\t\t    struct acpi_resource_gpio *agpio, u32 polarity);\nint skl_int3472_register_dsm_clock(struct int3472_discrete_device *int3472);\nvoid skl_int3472_unregister_clock(struct int3472_discrete_device *int3472);\n\nint skl_int3472_register_regulator(struct int3472_discrete_device *int3472,\n\t\t\t\t   struct acpi_resource_gpio *agpio);\nvoid skl_int3472_unregister_regulator(struct int3472_discrete_device *int3472);\n\nint skl_int3472_register_pled(struct int3472_discrete_device *int3472,\n\t\t\t      struct acpi_resource_gpio *agpio, u32 polarity);\nvoid skl_int3472_unregister_pled(struct int3472_discrete_device *int3472);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}