{
  "module_name": "spt.c",
  "hash_id": "ba9b2f4140c68a30e2a7507d98d43e8a91c00b38be81a02bd5f56711279d07d8",
  "original_prompt": "Ingested from linux-6.6.14/drivers/platform/x86/intel/pmc/spt.c",
  "human_readable_source": "\n \n\n#include \"core.h\"\n\nconst struct pmc_bit_map spt_pll_map[] = {\n\t{\"MIPI PLL\",\t\t\tSPT_PMC_BIT_MPHY_CMN_LANE0},\n\t{\"GEN2 USB2PCIE2 PLL\",\t\tSPT_PMC_BIT_MPHY_CMN_LANE1},\n\t{\"DMIPCIE3 PLL\",\t\tSPT_PMC_BIT_MPHY_CMN_LANE2},\n\t{\"SATA PLL\",\t\t\tSPT_PMC_BIT_MPHY_CMN_LANE3},\n\t{}\n};\n\nconst struct pmc_bit_map spt_mphy_map[] = {\n\t{\"MPHY CORE LANE 0\",           SPT_PMC_BIT_MPHY_LANE0},\n\t{\"MPHY CORE LANE 1\",           SPT_PMC_BIT_MPHY_LANE1},\n\t{\"MPHY CORE LANE 2\",           SPT_PMC_BIT_MPHY_LANE2},\n\t{\"MPHY CORE LANE 3\",           SPT_PMC_BIT_MPHY_LANE3},\n\t{\"MPHY CORE LANE 4\",           SPT_PMC_BIT_MPHY_LANE4},\n\t{\"MPHY CORE LANE 5\",           SPT_PMC_BIT_MPHY_LANE5},\n\t{\"MPHY CORE LANE 6\",           SPT_PMC_BIT_MPHY_LANE6},\n\t{\"MPHY CORE LANE 7\",           SPT_PMC_BIT_MPHY_LANE7},\n\t{\"MPHY CORE LANE 8\",           SPT_PMC_BIT_MPHY_LANE8},\n\t{\"MPHY CORE LANE 9\",           SPT_PMC_BIT_MPHY_LANE9},\n\t{\"MPHY CORE LANE 10\",          SPT_PMC_BIT_MPHY_LANE10},\n\t{\"MPHY CORE LANE 11\",          SPT_PMC_BIT_MPHY_LANE11},\n\t{\"MPHY CORE LANE 12\",          SPT_PMC_BIT_MPHY_LANE12},\n\t{\"MPHY CORE LANE 13\",          SPT_PMC_BIT_MPHY_LANE13},\n\t{\"MPHY CORE LANE 14\",          SPT_PMC_BIT_MPHY_LANE14},\n\t{\"MPHY CORE LANE 15\",          SPT_PMC_BIT_MPHY_LANE15},\n\t{}\n};\n\nconst struct pmc_bit_map spt_pfear_map[] = {\n\t{\"PMC\",\t\t\t\tSPT_PMC_BIT_PMC},\n\t{\"OPI-DMI\",\t\t\tSPT_PMC_BIT_OPI},\n\t{\"SPI / eSPI\",\t\t\tSPT_PMC_BIT_SPI},\n\t{\"XHCI\",\t\t\tSPT_PMC_BIT_XHCI},\n\t{\"SPA\",\t\t\t\tSPT_PMC_BIT_SPA},\n\t{\"SPB\",\t\t\t\tSPT_PMC_BIT_SPB},\n\t{\"SPC\",\t\t\t\tSPT_PMC_BIT_SPC},\n\t{\"GBE\",\t\t\t\tSPT_PMC_BIT_GBE},\n\t{\"SATA\",\t\t\tSPT_PMC_BIT_SATA},\n\t{\"HDA-PGD0\",\t\t\tSPT_PMC_BIT_HDA_PGD0},\n\t{\"HDA-PGD1\",\t\t\tSPT_PMC_BIT_HDA_PGD1},\n\t{\"HDA-PGD2\",\t\t\tSPT_PMC_BIT_HDA_PGD2},\n\t{\"HDA-PGD3\",\t\t\tSPT_PMC_BIT_HDA_PGD3},\n\t{\"RSVD\",\t\t\tSPT_PMC_BIT_RSVD_0B},\n\t{\"LPSS\",\t\t\tSPT_PMC_BIT_LPSS},\n\t{\"LPC\",\t\t\t\tSPT_PMC_BIT_LPC},\n\t{\"SMB\",\t\t\t\tSPT_PMC_BIT_SMB},\n\t{\"ISH\",\t\t\t\tSPT_PMC_BIT_ISH},\n\t{\"P2SB\",\t\t\tSPT_PMC_BIT_P2SB},\n\t{\"DFX\",\t\t\t\tSPT_PMC_BIT_DFX},\n\t{\"SCC\",\t\t\t\tSPT_PMC_BIT_SCC},\n\t{\"RSVD\",\t\t\tSPT_PMC_BIT_RSVD_0C},\n\t{\"FUSE\",\t\t\tSPT_PMC_BIT_FUSE},\n\t{\"CAMERA\",\t\t\tSPT_PMC_BIT_CAMREA},\n\t{\"RSVD\",\t\t\tSPT_PMC_BIT_RSVD_0D},\n\t{\"USB3-OTG\",\t\t\tSPT_PMC_BIT_USB3_OTG},\n\t{\"EXI\",\t\t\t\tSPT_PMC_BIT_EXI},\n\t{\"CSE\",\t\t\t\tSPT_PMC_BIT_CSE},\n\t{\"CSME_KVM\",\t\t\tSPT_PMC_BIT_CSME_KVM},\n\t{\"CSME_PMT\",\t\t\tSPT_PMC_BIT_CSME_PMT},\n\t{\"CSME_CLINK\",\t\t\tSPT_PMC_BIT_CSME_CLINK},\n\t{\"CSME_PTIO\",\t\t\tSPT_PMC_BIT_CSME_PTIO},\n\t{\"CSME_USBR\",\t\t\tSPT_PMC_BIT_CSME_USBR},\n\t{\"CSME_SUSRAM\",\t\t\tSPT_PMC_BIT_CSME_SUSRAM},\n\t{\"CSME_SMT\",\t\t\tSPT_PMC_BIT_CSME_SMT},\n\t{\"RSVD\",\t\t\tSPT_PMC_BIT_RSVD_1A},\n\t{\"CSME_SMS2\",\t\t\tSPT_PMC_BIT_CSME_SMS2},\n\t{\"CSME_SMS1\",\t\t\tSPT_PMC_BIT_CSME_SMS1},\n\t{\"CSME_RTC\",\t\t\tSPT_PMC_BIT_CSME_RTC},\n\t{\"CSME_PSF\",\t\t\tSPT_PMC_BIT_CSME_PSF},\n\t{}\n};\n\nconst struct pmc_bit_map *ext_spt_pfear_map[] = {\n\t \n\tspt_pfear_map,\n\tNULL\n};\n\nconst struct pmc_bit_map spt_ltr_show_map[] = {\n\t{\"SOUTHPORT_A\",\t\tSPT_PMC_LTR_SPA},\n\t{\"SOUTHPORT_B\",\t\tSPT_PMC_LTR_SPB},\n\t{\"SATA\",\t\tSPT_PMC_LTR_SATA},\n\t{\"GIGABIT_ETHERNET\",\tSPT_PMC_LTR_GBE},\n\t{\"XHCI\",\t\tSPT_PMC_LTR_XHCI},\n\t{\"Reserved\",\t\tSPT_PMC_LTR_RESERVED},\n\t{\"ME\",\t\t\tSPT_PMC_LTR_ME},\n\t \n\t{\"EVA\",\t\t\tSPT_PMC_LTR_EVA},\n\t{\"SOUTHPORT_C\",\t\tSPT_PMC_LTR_SPC},\n\t{\"HD_AUDIO\",\t\tSPT_PMC_LTR_AZ},\n\t{\"LPSS\",\t\tSPT_PMC_LTR_LPSS},\n\t{\"SOUTHPORT_D\",\t\tSPT_PMC_LTR_SPD},\n\t{\"SOUTHPORT_E\",\t\tSPT_PMC_LTR_SPE},\n\t{\"CAMERA\",\t\tSPT_PMC_LTR_CAM},\n\t{\"ESPI\",\t\tSPT_PMC_LTR_ESPI},\n\t{\"SCC\",\t\t\tSPT_PMC_LTR_SCC},\n\t{\"ISH\",\t\t\tSPT_PMC_LTR_ISH},\n\t \n\t{\"CURRENT_PLATFORM\",\tSPT_PMC_LTR_CUR_PLT},\n\t{\"AGGREGATED_SYSTEM\",\tSPT_PMC_LTR_CUR_ASLT},\n\t{}\n};\n\nconst struct pmc_reg_map spt_reg_map = {\n\t.pfear_sts = ext_spt_pfear_map,\n\t.mphy_sts = spt_mphy_map,\n\t.pll_sts = spt_pll_map,\n\t.ltr_show_sts = spt_ltr_show_map,\n\t.msr_sts = msr_map,\n\t.slp_s0_offset = SPT_PMC_SLP_S0_RES_COUNTER_OFFSET,\n\t.slp_s0_res_counter_step = SPT_PMC_SLP_S0_RES_COUNTER_STEP,\n\t.ltr_ignore_offset = SPT_PMC_LTR_IGNORE_OFFSET,\n\t.regmap_length = SPT_PMC_MMIO_REG_LEN,\n\t.ppfear0_offset = SPT_PMC_XRAM_PPFEAR0A,\n\t.ppfear_buckets = SPT_PPFEAR_NUM_ENTRIES,\n\t.pm_cfg_offset = SPT_PMC_PM_CFG_OFFSET,\n\t.pm_read_disable_bit = SPT_PMC_READ_DISABLE_BIT,\n\t.ltr_ignore_max = SPT_NUM_IP_IGN_ALLOWED,\n\t.pm_vric1_offset = SPT_PMC_VRIC1_OFFSET,\n};\n\nint spt_core_init(struct pmc_dev *pmcdev)\n{\n\tstruct pmc *pmc = pmcdev->pmcs[PMC_IDX_MAIN];\n\n\tpmc->map = &spt_reg_map;\n\treturn get_primary_reg_base(pmc);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}