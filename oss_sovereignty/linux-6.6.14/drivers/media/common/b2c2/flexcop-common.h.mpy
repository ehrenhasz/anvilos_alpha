{
  "module_name": "flexcop-common.h",
  "hash_id": "3412219527a263a94962815d0c32d702a90bb4fc8a2a64ef758692903042717d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/common/b2c2/flexcop-common.h",
  "human_readable_source": " \n \n#ifndef __FLEXCOP_COMMON_H__\n#define __FLEXCOP_COMMON_H__\n\n#include <linux/interrupt.h>\n#include <linux/pci.h>\n#include <linux/mutex.h>\n\n#include \"flexcop-reg.h\"\n\n#include <media/dmxdev.h>\n#include <media/dvb_demux.h>\n#include <media/dvb_net.h>\n#include <media/dvb_frontend.h>\n\n#define FC_MAX_FEED 256\n\n#ifndef FC_LOG_PREFIX\n#warning please define a log prefix for your file, using a default one\n#define FC_LOG_PREFIX \"b2c2-undef\"\n#endif\n\n \n#undef err\n#define err(format, arg...) \\\n\tprintk(KERN_ERR FC_LOG_PREFIX \": \" format \"\\n\" , ## arg)\n#undef info\n#define info(format, arg...) \\\n\tprintk(KERN_INFO FC_LOG_PREFIX \": \" format \"\\n\" , ## arg)\n#undef warn\n#define warn(format, arg...) \\\n\tprintk(KERN_WARNING FC_LOG_PREFIX \": \" format \"\\n\" , ## arg)\n\nstruct flexcop_dma {\n\tstruct pci_dev *pdev;\n\n\tu8 *cpu_addr0;\n\tdma_addr_t dma_addr0;\n\tu8 *cpu_addr1;\n\tdma_addr_t dma_addr1;\n\tu32 size;  \n};\n\nstruct flexcop_i2c_adapter {\n\tstruct flexcop_device *fc;\n\tstruct i2c_adapter i2c_adap;\n\n\tu8 no_base_addr;\n\tflexcop_i2c_port_t port;\n};\n\n \nstruct flexcop_device {\n\t \n\tstruct device *dev;  \n\n#define FC_STATE_DVB_INIT 0x01\n#define FC_STATE_I2C_INIT 0x02\n#define FC_STATE_FE_INIT  0x04\n\tint init_state;\n\n\t \n\tint has_32_hw_pid_filter;\n\tflexcop_revision_t rev;\n\tflexcop_device_type_t dev_type;\n\tflexcop_bus_t bus_type;\n\n\t \n\tstruct dvb_adapter dvb_adapter;\n\tstruct dvb_frontend *fe;\n\tstruct dvb_net dvbnet;\n\tstruct dvb_demux demux;\n\tstruct dmxdev dmxdev;\n\tstruct dmx_frontend hw_frontend;\n\tstruct dmx_frontend mem_frontend;\n\tint (*fe_sleep) (struct dvb_frontend *);\n\n\tstruct flexcop_i2c_adapter fc_i2c_adap[3];\n\tstruct mutex i2c_mutex;\n\tstruct module *owner;\n\n\t \n\tint extra_feedcount;\n\tint feedcount;\n\tint pid_filtering;\n\tint fullts_streaming_state;\n\tint skip_6_hw_pid_filter;\n\n\t \n\tflexcop_ibi_value(*read_ibi_reg) (struct flexcop_device *,\n\t\t\tflexcop_ibi_register);\n\tint (*write_ibi_reg) (struct flexcop_device *,\n\t\t\tflexcop_ibi_register, flexcop_ibi_value);\n\tint (*i2c_request) (struct flexcop_i2c_adapter *,\n\t\tflexcop_access_op_t, u8 chipaddr, u8 addr, u8 *buf, u16 len);\n\tint (*stream_control) (struct flexcop_device *, int);\n\tint (*get_mac_addr) (struct flexcop_device *fc, int extended);\n\tvoid *bus_specific;\n};\n\n \n\n \nvoid flexcop_pass_dmx_data(struct flexcop_device *fc, u8 *buf, u32 len);\nvoid flexcop_pass_dmx_packets(struct flexcop_device *fc, u8 *buf, u32 no);\n\nstruct flexcop_device *flexcop_device_kmalloc(size_t bus_specific_len);\nvoid flexcop_device_kfree(struct flexcop_device *);\n\nint flexcop_device_initialize(struct flexcop_device *);\nvoid flexcop_device_exit(struct flexcop_device *fc);\nvoid flexcop_reset_block_300(struct flexcop_device *fc);\n\n \nint flexcop_dma_allocate(struct pci_dev *pdev,\n\t\tstruct flexcop_dma *dma, u32 size);\nvoid flexcop_dma_free(struct flexcop_dma *dma);\n\nint flexcop_dma_control_timer_irq(struct flexcop_device *fc,\n\t\tflexcop_dma_index_t no, int onoff);\nint flexcop_dma_control_size_irq(struct flexcop_device *fc,\n\t\tflexcop_dma_index_t no, int onoff);\nint flexcop_dma_config(struct flexcop_device *fc, struct flexcop_dma *dma,\n\t\tflexcop_dma_index_t dma_idx);\nint flexcop_dma_xfer_control(struct flexcop_device *fc,\n\t\tflexcop_dma_index_t dma_idx, flexcop_dma_addr_index_t index,\n\t\tint onoff);\nint flexcop_dma_config_timer(struct flexcop_device *fc,\n\t\tflexcop_dma_index_t dma_idx, u8 cycles);\n\n \n \nint flexcop_eeprom_check_mac_addr(struct flexcop_device *fc, int extended);\n\n \n \nint flexcop_i2c_request(struct flexcop_i2c_adapter*, flexcop_access_op_t,\n\tu8 chipaddr, u8 addr, u8 *buf, u16 len);\n\n \nint flexcop_sram_set_dest(struct flexcop_device *fc, flexcop_sram_dest_t dest,\n\tflexcop_sram_dest_target_t target);\nvoid flexcop_wan_set_speed(struct flexcop_device *fc, flexcop_wan_speed_t s);\nvoid flexcop_sram_ctrl(struct flexcop_device *fc,\n\t\tint usb_wan, int sramdma, int maximumfill);\n\n \n \nint flexcop_frontend_init(struct flexcop_device *fc);\nvoid flexcop_frontend_exit(struct flexcop_device *fc);\n\n \nint flexcop_i2c_init(struct flexcop_device *fc);\nvoid flexcop_i2c_exit(struct flexcop_device *fc);\n\n \nint flexcop_sram_init(struct flexcop_device *fc);\n\n \nvoid flexcop_determine_revision(struct flexcop_device *fc);\nvoid flexcop_device_name(struct flexcop_device *fc,\n\t\tconst char *prefix, const char *suffix);\nvoid flexcop_dump_reg(struct flexcop_device *fc,\n\t\tflexcop_ibi_register reg, int num);\n\n \nint flexcop_pid_feed_control(struct flexcop_device *fc,\n\t\tstruct dvb_demux_feed *dvbdmxfeed, int onoff);\nvoid flexcop_hw_filter_init(struct flexcop_device *fc);\n\nvoid flexcop_smc_ctrl(struct flexcop_device *fc, int onoff);\n\nvoid flexcop_set_mac_filter(struct flexcop_device *fc, u8 mac[6]);\nvoid flexcop_mac_filter_ctrl(struct flexcop_device *fc, int onoff);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}