{
  "module_name": "codec-fwht.h",
  "hash_id": "8e52627f9ea6f7fc38fb08bfd70fd93dab1dfef482f7a08724287a7d35249fa3",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/test-drivers/vicodec/codec-fwht.h",
  "human_readable_source": " \n \n\n#ifndef CODEC_FWHT_H\n#define CODEC_FWHT_H\n\n#include <linux/types.h>\n#include <linux/bitops.h>\n#include <asm/byteorder.h>\n\n \n\n \n#define FWHT_MAGIC1 0x4f4f4f4f\n#define FWHT_MAGIC2 0xffffffff\n\n \n#define vic_round_dim(dim, div) (round_up((dim) / (div), 8) * (div))\n\nstruct fwht_cframe_hdr {\n\tu32 magic1;\n\tu32 magic2;\n\t__be32 version;\n\t__be32 width, height;\n\t__be32 flags;\n\t__be32 colorspace;\n\t__be32 xfer_func;\n\t__be32 ycbcr_enc;\n\t__be32 quantization;\n\t__be32 size;\n};\n\nstruct fwht_cframe {\n\tu16 i_frame_qp;\n\tu16 p_frame_qp;\n\t__be16 *rlc_data;\n\ts16 coeffs[8 * 8];\n\ts16 de_coeffs[8 * 8];\n\ts16 de_fwht[8 * 8];\n\tu32 size;\n};\n\nstruct fwht_raw_frame {\n\tunsigned int width_div;\n\tunsigned int height_div;\n\tunsigned int luma_alpha_step;\n\tunsigned int chroma_step;\n\tunsigned int components_num;\n\tu8 *buf;\n\tu8 *luma, *cb, *cr, *alpha;\n};\n\n#define FWHT_FRAME_PCODED\tBIT(0)\n#define FWHT_FRAME_UNENCODED\tBIT(1)\n#define FWHT_LUMA_UNENCODED\tBIT(2)\n#define FWHT_CB_UNENCODED\tBIT(3)\n#define FWHT_CR_UNENCODED\tBIT(4)\n#define FWHT_ALPHA_UNENCODED\tBIT(5)\n\nu32 fwht_encode_frame(struct fwht_raw_frame *frm,\n\t\t      struct fwht_raw_frame *ref_frm,\n\t\t      struct fwht_cframe *cf,\n\t\t      bool is_intra, bool next_is_intra,\n\t\t      unsigned int width, unsigned int height,\n\t\t      unsigned int stride, unsigned int chroma_stride);\nbool fwht_decode_frame(struct fwht_cframe *cf, u32 hdr_flags,\n\t\tunsigned int components_num, unsigned int width,\n\t\tunsigned int height, const struct fwht_raw_frame *ref,\n\t\tunsigned int ref_stride, unsigned int ref_chroma_stride,\n\t\tstruct fwht_raw_frame *dst, unsigned int dst_stride,\n\t\tunsigned int dst_chroma_stride);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}