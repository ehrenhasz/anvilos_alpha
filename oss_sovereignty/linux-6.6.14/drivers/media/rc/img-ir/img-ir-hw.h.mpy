{
  "module_name": "img-ir-hw.h",
  "hash_id": "51d83ffaef12d2dd4179a3f66ab17b7a8549554ee9f711870dbce9bb27ee6dc1",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/rc/img-ir/img-ir-hw.h",
  "human_readable_source": " \n \n\n#ifndef _IMG_IR_HW_H_\n#define _IMG_IR_HW_H_\n\n#include <linux/kernel.h>\n#include <media/rc-core.h>\n\n \n\n#define IMG_IR_CODETYPE_PULSELEN\t0x0\t \n#define IMG_IR_CODETYPE_PULSEDIST\t0x1\t \n#define IMG_IR_CODETYPE_BIPHASE\t\t0x2\t \n#define IMG_IR_CODETYPE_2BITPULSEPOS\t0x3\t \n\n\n \n\n \nstruct img_ir_control {\n\tunsigned decoden:1;\n\tunsigned code_type:2;\n\tunsigned hdrtog:1;\n\tunsigned ldrdec:1;\n\tunsigned decodinpol:1;\n\tunsigned bitorien:1;\n\tunsigned d1validsel:1;\n\tunsigned bitinv:1;\n\tunsigned decodend2:1;\n\tunsigned bitoriend2:1;\n\tunsigned bitinvd2:1;\n};\n\n \nstruct img_ir_timing_range {\n\tu16 min;\n\tu16 max;\n};\n\n \nstruct img_ir_symbol_timing {\n\tstruct img_ir_timing_range pulse;\n\tstruct img_ir_timing_range space;\n};\n\n \nstruct img_ir_free_timing {\n\t \n\tu8 minlen;\n\tu8 maxlen;\n\tu16 ft_min;\n};\n\n \nstruct img_ir_timings {\n\tstruct img_ir_symbol_timing ldr, s00, s01, s10, s11;\n\tstruct img_ir_free_timing ft;\n};\n\n \nstruct img_ir_filter {\n\tu64 data;\n\tu64 mask;\n\tu8 minlen;\n\tu8 maxlen;\n};\n\n \nstruct img_ir_timing_regvals {\n\tu32 ldr, s00, s01, s10, s11, ft;\n};\n\n#define IMG_IR_SCANCODE\t\t0\t \n#define IMG_IR_REPEATCODE\t1\t \n\n \nstruct img_ir_scancode_req {\n\tenum rc_proto protocol;\n\tu32 scancode;\n\tu8 toggle;\n};\n\n \nstruct img_ir_decoder {\n\t \n\tu64\t\t\t\ttype;\n\tunsigned int\t\t\ttolerance;\n\tunsigned int\t\t\tunit;\n\tstruct img_ir_timings\t\ttimings;\n\tstruct img_ir_timings\t\trtimings;\n\tunsigned int\t\t\trepeat;\n\tstruct img_ir_control\t\tcontrol;\n\n\t \n\tint (*scancode)(int len, u64 raw, u64 enabled_protocols,\n\t\t\tstruct img_ir_scancode_req *request);\n\tint (*filter)(const struct rc_scancode_filter *in,\n\t\t      struct img_ir_filter *out, u64 protocols);\n};\n\nextern struct img_ir_decoder img_ir_nec;\nextern struct img_ir_decoder img_ir_jvc;\nextern struct img_ir_decoder img_ir_sony;\nextern struct img_ir_decoder img_ir_sharp;\nextern struct img_ir_decoder img_ir_sanyo;\nextern struct img_ir_decoder img_ir_rc5;\nextern struct img_ir_decoder img_ir_rc6;\n\n \nstruct img_ir_reg_timings {\n\tu32\t\t\t\tctrl;\n\tstruct img_ir_timing_regvals\ttimings;\n\tstruct img_ir_timing_regvals\trtimings;\n};\n\nstruct img_ir_priv;\n\n#ifdef CONFIG_IR_IMG_HW\n\nenum img_ir_mode {\n\tIMG_IR_M_NORMAL,\n\tIMG_IR_M_REPEATING,\n#ifdef CONFIG_PM_SLEEP\n\tIMG_IR_M_WAKE,\n#endif\n};\n\n \nstruct img_ir_priv_hw {\n\tunsigned int\t\t\tct_quirks[4];\n\tstruct rc_dev\t\t\t*rdev;\n\tstruct notifier_block\t\tclk_nb;\n\tstruct timer_list\t\tend_timer;\n\tstruct timer_list\t\tsuspend_timer;\n\tconst struct img_ir_decoder\t*decoder;\n\tu64\t\t\t\tenabled_protocols;\n\tunsigned long\t\t\tclk_hz;\n\tstruct img_ir_reg_timings\treg_timings;\n\tunsigned int\t\t\tflags;\n\tstruct img_ir_filter\t\tfilters[RC_FILTER_MAX];\n\n\tenum img_ir_mode\t\tmode;\n\tbool\t\t\t\tstopping;\n\tu32\t\t\t\tsuspend_irqen;\n\tu32\t\t\t\tquirk_suspend_irq;\n};\n\nstatic inline bool img_ir_hw_enabled(struct img_ir_priv_hw *hw)\n{\n\treturn hw->rdev;\n};\n\nvoid img_ir_isr_hw(struct img_ir_priv *priv, u32 irq_status);\nvoid img_ir_setup_hw(struct img_ir_priv *priv);\nint img_ir_probe_hw(struct img_ir_priv *priv);\nvoid img_ir_remove_hw(struct img_ir_priv *priv);\n\n#ifdef CONFIG_PM_SLEEP\nint img_ir_suspend(struct device *dev);\nint img_ir_resume(struct device *dev);\n#else\n#define img_ir_suspend NULL\n#define img_ir_resume NULL\n#endif\n\n#else\n\nstruct img_ir_priv_hw {\n};\n\nstatic inline bool img_ir_hw_enabled(struct img_ir_priv_hw *hw)\n{\n\treturn false;\n};\nstatic inline void img_ir_isr_hw(struct img_ir_priv *priv, u32 irq_status)\n{\n}\nstatic inline void img_ir_setup_hw(struct img_ir_priv *priv)\n{\n}\nstatic inline int img_ir_probe_hw(struct img_ir_priv *priv)\n{\n\treturn -ENODEV;\n}\nstatic inline void img_ir_remove_hw(struct img_ir_priv *priv)\n{\n}\n\n#define img_ir_suspend NULL\n#define img_ir_resume NULL\n\n#endif  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}