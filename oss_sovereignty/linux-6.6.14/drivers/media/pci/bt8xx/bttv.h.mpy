{
  "module_name": "bttv.h",
  "hash_id": "d1de6b0004e57f7967a35b55dc233246371f38f717f7ffc877faa2fc38f3b940",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/pci/bt8xx/bttv.h",
  "human_readable_source": " \n \n\n#ifndef _BTTV_H_\n#define _BTTV_H_\n\n#include <linux/videodev2.h>\n#include <linux/i2c.h>\n#include <media/v4l2-device.h>\n#include <media/tuner.h>\n\n \n \n\n#define BTTV_BOARD_UNKNOWN                 0x00\n#define BTTV_BOARD_MIRO                    0x01\n#define BTTV_BOARD_HAUPPAUGE               0x02\n#define BTTV_BOARD_STB                     0x03\n#define BTTV_BOARD_INTEL                   0x04\n#define BTTV_BOARD_DIAMOND                 0x05\n#define BTTV_BOARD_AVERMEDIA               0x06\n#define BTTV_BOARD_MATRIX_VISION           0x07\n#define BTTV_BOARD_FLYVIDEO                0x08\n#define BTTV_BOARD_TURBOTV                 0x09\n#define BTTV_BOARD_HAUPPAUGE878            0x0a\n#define BTTV_BOARD_MIROPRO                 0x0b\n#define BTTV_BOARD_ADSTECH_TV              0x0c\n#define BTTV_BOARD_AVERMEDIA98             0x0d\n#define BTTV_BOARD_VHX                     0x0e\n#define BTTV_BOARD_ZOLTRIX                 0x0f\n#define BTTV_BOARD_PIXVIEWPLAYTV           0x10\n#define BTTV_BOARD_WINVIEW_601             0x11\n#define BTTV_BOARD_AVEC_INTERCAP           0x12\n#define BTTV_BOARD_LIFE_FLYKIT             0x13\n#define BTTV_BOARD_CEI_RAFFLES             0x14\n#define BTTV_BOARD_CONFERENCETV            0x15\n#define BTTV_BOARD_PHOEBE_TVMAS            0x16\n#define BTTV_BOARD_MODTEC_205              0x17\n#define BTTV_BOARD_MAGICTVIEW061           0x18\n#define BTTV_BOARD_VOBIS_BOOSTAR           0x19\n#define BTTV_BOARD_HAUPPAUG_WCAM           0x1a\n#define BTTV_BOARD_MAXI                    0x1b\n#define BTTV_BOARD_TERRATV                 0x1c\n#define BTTV_BOARD_PXC200                  0x1d\n#define BTTV_BOARD_FLYVIDEO_98             0x1e\n#define BTTV_BOARD_IPROTV                  0x1f\n#define BTTV_BOARD_INTEL_C_S_PCI           0x20\n#define BTTV_BOARD_TERRATVALUE             0x21\n#define BTTV_BOARD_WINFAST2000             0x22\n#define BTTV_BOARD_CHRONOS_VS2             0x23\n#define BTTV_BOARD_TYPHOON_TVIEW           0x24\n#define BTTV_BOARD_PXELVWPLTVPRO           0x25\n#define BTTV_BOARD_MAGICTVIEW063           0x26\n#define BTTV_BOARD_PINNACLE                0x27\n#define BTTV_BOARD_STB2                    0x28\n#define BTTV_BOARD_AVPHONE98               0x29\n#define BTTV_BOARD_PV951                   0x2a\n#define BTTV_BOARD_ONAIR_TV                0x2b\n#define BTTV_BOARD_SIGMA_TVII_FM           0x2c\n#define BTTV_BOARD_MATRIX_VISION2          0x2d\n#define BTTV_BOARD_ZOLTRIX_GENIE           0x2e\n#define BTTV_BOARD_TERRATVRADIO            0x2f\n#define BTTV_BOARD_DYNALINK                0x30\n#define BTTV_BOARD_GVBCTV3PCI              0x31\n#define BTTV_BOARD_PXELVWPLTVPAK           0x32\n#define BTTV_BOARD_EAGLE                   0x33\n#define BTTV_BOARD_PINNACLEPRO             0x34\n#define BTTV_BOARD_TVIEW_RDS_FM            0x35\n#define BTTV_BOARD_LIFETEC_9415            0x36\n#define BTTV_BOARD_BESTBUY_EASYTV          0x37\n#define BTTV_BOARD_FLYVIDEO_98FM           0x38\n#define BTTV_BOARD_GRANDTEC                0x39\n#define BTTV_BOARD_ASKEY_CPH060            0x3a\n#define BTTV_BOARD_ASKEY_CPH03X            0x3b\n#define BTTV_BOARD_MM100PCTV               0x3c\n#define BTTV_BOARD_GMV1                    0x3d\n#define BTTV_BOARD_BESTBUY_EASYTV2         0x3e\n#define BTTV_BOARD_ATI_TVWONDER            0x3f\n#define BTTV_BOARD_ATI_TVWONDERVE          0x40\n#define BTTV_BOARD_FLYVIDEO2000            0x41\n#define BTTV_BOARD_TERRATVALUER            0x42\n#define BTTV_BOARD_GVBCTV4PCI              0x43\n#define BTTV_BOARD_VOODOOTV_FM             0x44\n#define BTTV_BOARD_AIMMS                   0x45\n#define BTTV_BOARD_PV_BT878P_PLUS          0x46\n#define BTTV_BOARD_FLYVIDEO98EZ            0x47\n#define BTTV_BOARD_PV_BT878P_9B            0x48\n#define BTTV_BOARD_SENSORAY311_611         0x49\n#define BTTV_BOARD_RV605                   0x4a\n#define BTTV_BOARD_POWERCLR_MTV878         0x4b\n#define BTTV_BOARD_WINDVR                  0x4c\n#define BTTV_BOARD_GRANDTEC_MULTI          0x4d\n#define BTTV_BOARD_KWORLD                  0x4e\n#define BTTV_BOARD_DSP_TCVIDEO             0x4f\n#define BTTV_BOARD_HAUPPAUGEPVR            0x50\n#define BTTV_BOARD_GVBCTV5PCI              0x51\n#define BTTV_BOARD_OSPREY1x0               0x52\n#define BTTV_BOARD_OSPREY1x0_848           0x53\n#define BTTV_BOARD_OSPREY101_848           0x54\n#define BTTV_BOARD_OSPREY1x1               0x55\n#define BTTV_BOARD_OSPREY1x1_SVID          0x56\n#define BTTV_BOARD_OSPREY2xx               0x57\n#define BTTV_BOARD_OSPREY2x0_SVID          0x58\n#define BTTV_BOARD_OSPREY2x0               0x59\n#define BTTV_BOARD_OSPREY500               0x5a\n#define BTTV_BOARD_OSPREY540               0x5b\n#define BTTV_BOARD_OSPREY2000              0x5c\n#define BTTV_BOARD_IDS_EAGLE               0x5d\n#define BTTV_BOARD_PINNACLESAT             0x5e\n#define BTTV_BOARD_FORMAC_PROTV            0x5f\n#define BTTV_BOARD_MACHTV                  0x60\n#define BTTV_BOARD_EURESYS_PICOLO          0x61\n#define BTTV_BOARD_PV150                   0x62\n#define BTTV_BOARD_AD_TVK503               0x63\n#define BTTV_BOARD_HERCULES_SM_TV          0x64\n#define BTTV_BOARD_PACETV                  0x65\n#define BTTV_BOARD_IVC200                  0x66\n#define BTTV_BOARD_XGUARD                  0x67\n#define BTTV_BOARD_NEBULA_DIGITV           0x68\n#define BTTV_BOARD_PV143                   0x69\n#define BTTV_BOARD_VD009X1_VD011_MINIDIN   0x6a\n#define BTTV_BOARD_VD009X1_VD011_COMBI     0x6b\n#define BTTV_BOARD_VD009_MINIDIN           0x6c\n#define BTTV_BOARD_VD009_COMBI             0x6d\n#define BTTV_BOARD_IVC100                  0x6e\n#define BTTV_BOARD_IVC120                  0x6f\n#define BTTV_BOARD_PC_HDTV                 0x70\n#define BTTV_BOARD_TWINHAN_DST             0x71\n#define BTTV_BOARD_WINFASTVC100            0x72\n#define BTTV_BOARD_TEV560                  0x73\n#define BTTV_BOARD_SIMUS_GVC1100           0x74\n#define BTTV_BOARD_NGSTV_PLUS              0x75\n#define BTTV_BOARD_LMLBT4                  0x76\n#define BTTV_BOARD_TEKRAM_M205             0x77\n#define BTTV_BOARD_CONTVFMI                0x78\n#define BTTV_BOARD_PICOLO_TETRA_CHIP       0x79\n#define BTTV_BOARD_SPIRIT_TV               0x7a\n#define BTTV_BOARD_AVDVBT_771              0x7b\n#define BTTV_BOARD_AVDVBT_761              0x7c\n#define BTTV_BOARD_MATRIX_VISIONSQ         0x7d\n#define BTTV_BOARD_MATRIX_VISIONSLC        0x7e\n#define BTTV_BOARD_APAC_VIEWCOMP           0x7f\n#define BTTV_BOARD_DVICO_DVBT_LITE         0x80\n#define BTTV_BOARD_VGEAR_MYVCD             0x81\n#define BTTV_BOARD_SUPER_TV                0x82\n#define BTTV_BOARD_TIBET_CS16              0x83\n#define BTTV_BOARD_KODICOM_4400R           0x84\n#define BTTV_BOARD_KODICOM_4400R_SL        0x85\n#define BTTV_BOARD_ADLINK_RTV24            0x86\n#define BTTV_BOARD_DVICO_FUSIONHDTV_5_LITE 0x87\n#define BTTV_BOARD_ACORP_Y878F             0x88\n#define BTTV_BOARD_CONCEPTRONIC_CTVFMI2    0x89\n#define BTTV_BOARD_PV_BT878P_2E            0x8a\n#define BTTV_BOARD_PV_M4900                0x8b\n#define BTTV_BOARD_OSPREY440               0x8c\n#define BTTV_BOARD_ASOUND_SKYEYE\t   0x8d\n#define BTTV_BOARD_SABRENT_TVFM\t\t   0x8e\n#define BTTV_BOARD_HAUPPAUGE_IMPACTVCB     0x8f\n#define BTTV_BOARD_MACHTV_MAGICTV          0x90\n#define BTTV_BOARD_SSAI_SECURITY\t   0x91\n#define BTTV_BOARD_SSAI_ULTRASOUND\t   0x92\n#define BTTV_BOARD_VOODOOTV_200\t\t   0x93\n#define BTTV_BOARD_DVICO_FUSIONHDTV_2\t   0x94\n#define BTTV_BOARD_TYPHOON_TVTUNERPCI\t   0x95\n#define BTTV_BOARD_GEOVISION_GV600\t   0x96\n#define BTTV_BOARD_KOZUMI_KTV_01C          0x97\n#define BTTV_BOARD_ENLTV_FM_2\t\t   0x98\n#define BTTV_BOARD_VD012\t\t   0x99\n#define BTTV_BOARD_VD012_X1\t\t   0x9a\n#define BTTV_BOARD_VD012_X2\t\t   0x9b\n#define BTTV_BOARD_IVCE8784\t\t   0x9c\n#define BTTV_BOARD_GEOVISION_GV800S\t   0x9d\n#define BTTV_BOARD_GEOVISION_GV800S_SL\t   0x9e\n#define BTTV_BOARD_PV183                   0x9f\n#define BTTV_BOARD_TVT_TD3116\t\t   0xa0\n#define BTTV_BOARD_APOSONIC_WDVR           0xa1\n#define BTTV_BOARD_ADLINK_MPG24            0xa2\n#define BTTV_BOARD_BT848_CAP_14            0xa3\n#define BTTV_BOARD_CYBERVISION_CV06        0xa4\n#define BTTV_BOARD_KWORLD_VSTREAM_XPERT    0xa5\n#define BTTV_BOARD_PCI_8604PW              0xa6\n\n \n#define PT2254_L_CHANNEL 0x10\n#define PT2254_R_CHANNEL 0x08\n#define PT2254_DBS_IN_2 0x400\n#define PT2254_DBS_IN_10 0x20000\n#define WINVIEW_PT2254_CLK  0x40\n#define WINVIEW_PT2254_DATA 0x20\n#define WINVIEW_PT2254_STROBE 0x80\n\nstruct bttv_core {\n\t \n\tstruct v4l2_device   v4l2_dev;\n\tstruct pci_dev       *pci;\n\tstruct i2c_adapter   i2c_adap;\n\tstruct list_head     subs;      \n\n\t \n\tunsigned int         nr;        \n\tunsigned int         type;      \n};\n\nstruct bttv;\n\nstruct tvcard {\n\tchar *name;\n\tvoid (*volume_gpio)(struct bttv *btv, __u16 volume);\n\tvoid (*audio_mode_gpio)(struct bttv *btv, struct v4l2_tuner *tuner, int set);\n\tvoid (*muxsel_hook)(struct bttv *btv, unsigned int input);\n\n\t \n\tu32 muxsel;  \n\n\tu32 gpiomask;\n\tu32 gpiomux[4];   \n\tu32 gpiomute;     \n\tu32 gpiomask2;    \n\n\tunsigned int tuner_type;\n\tu8 tuner_addr;\n\tu8 video_inputs;\t \n\tunsigned int svhs:4;\t \n#define NO_SVHS\t15\n\tunsigned int pll:2;\n#define PLL_NONE 0\n#define PLL_28   1\n#define PLL_35   2\n#define PLL_14   3\n\n\t \n\tunsigned int no_msp34xx:1;\n\tunsigned int no_tda7432:1;\n\tunsigned int msp34xx_alt:1;\n\t \n\n\tunsigned int no_video:1;  \n\tunsigned int has_dvb:1;\n\tunsigned int has_remote:1;\n\tunsigned int has_radio:1;\n\tunsigned int has_dig_in:1;  \n\tunsigned int no_gpioirq:1;\n};\n\nextern struct tvcard bttv_tvcards[];\n\n \n#define _MUXSELf(a)\t\t0##a << 30\n#define _MUXSELe(a, b...)\t0##a << 28 | _MUXSELf(b)\n#define _MUXSELd(a, b...)\t0##a << 26 | _MUXSELe(b)\n#define _MUXSELc(a, b...)\t0##a << 24 | _MUXSELd(b)\n#define _MUXSELb(a, b...)\t0##a << 22 | _MUXSELc(b)\n#define _MUXSELa(a, b...)\t0##a << 20 | _MUXSELb(b)\n#define _MUXSEL9(a, b...)\t0##a << 18 | _MUXSELa(b)\n#define _MUXSEL8(a, b...)\t0##a << 16 | _MUXSEL9(b)\n#define _MUXSEL7(a, b...)\t0##a << 14 | _MUXSEL8(b)\n#define _MUXSEL6(a, b...)\t0##a << 12 | _MUXSEL7(b)\n#define _MUXSEL5(a, b...)\t0##a << 10 | _MUXSEL6(b)\n#define _MUXSEL4(a, b...)\t0##a << 8  | _MUXSEL5(b)\n#define _MUXSEL3(a, b...)\t0##a << 6  | _MUXSEL4(b)\n#define _MUXSEL2(a, b...)\t0##a << 4  | _MUXSEL3(b)\n#define _MUXSEL1(a, b...)\t0##a << 2  | _MUXSEL2(b)\n#define MUXSEL(a, b...)\t\t(a | _MUXSEL1(b))\n\n \nextern void bttv_idcard(struct bttv *btv);\nextern void bttv_init_card1(struct bttv *btv);\nextern void bttv_init_card2(struct bttv *btv);\nextern void bttv_init_tuner(struct bttv *btv);\n\n \nextern u32 bttv_tda9880_setnorm(struct bttv *btv, u32 gpiobits);\n\n \nextern void bttv_check_chipset(void);\nextern int bttv_handle_chipset(struct bttv *btv);\n\n \n \n\n \n\nextern struct pci_dev* bttv_get_pcidev(unsigned int card);\n\n \nextern int bttv_gpio_enable(unsigned int card,\n\t\t\t    unsigned long mask, unsigned long data);\n\n \nextern int bttv_read_gpio(unsigned int card, unsigned long *data);\n\n \nextern int bttv_write_gpio(unsigned int card,\n\t\t\t   unsigned long mask, unsigned long data);\n\n\n\n\n \n \n\nstruct bttv_sub_device {\n\tstruct device    dev;\n\tstruct bttv_core *core;\n\tstruct list_head list;\n};\n#define to_bttv_sub_dev(x) container_of((x), struct bttv_sub_device, dev)\n\nstruct bttv_sub_driver {\n\tstruct device_driver   drv;\n\tchar                   wanted[20];\n\tint                    (*probe)(struct bttv_sub_device *sub);\n\tvoid                   (*remove)(struct bttv_sub_device *sub);\n};\n#define to_bttv_sub_drv(x) container_of((x), struct bttv_sub_driver, drv)\n\nint bttv_sub_register(struct bttv_sub_driver *drv, char *wanted);\nint bttv_sub_unregister(struct bttv_sub_driver *drv);\n\n \nvoid bttv_gpio_inout(struct bttv_core *core, u32 mask, u32 outbits);\nu32 bttv_gpio_read(struct bttv_core *core);\nvoid bttv_gpio_write(struct bttv_core *core, u32 value);\nvoid bttv_gpio_bits(struct bttv_core *core, u32 mask, u32 bits);\n\n#define gpio_inout(mask,bits)  bttv_gpio_inout(&btv->c, mask, bits)\n#define gpio_read()            bttv_gpio_read(&btv->c)\n#define gpio_write(value)      bttv_gpio_write(&btv->c, value)\n#define gpio_bits(mask,bits)   bttv_gpio_bits(&btv->c, mask, bits)\n\n\n \n \n\n#define bttv_call_all(btv, o, f, args...) \\\n\tv4l2_device_call_all(&btv->c.v4l2_dev, 0, o, f, ##args)\n\n#define bttv_call_all_err(btv, o, f, args...) \\\n\tv4l2_device_call_until_err(&btv->c.v4l2_dev, 0, o, f, ##args)\n\nextern int bttv_I2CRead(struct bttv *btv, unsigned char addr, char *probe_for);\nextern int bttv_I2CWrite(struct bttv *btv, unsigned char addr, unsigned char b1,\n\t\t\t unsigned char b2, int both);\nextern void bttv_readee(struct bttv *btv, unsigned char *eedata, int addr);\n\nextern int bttv_input_init(struct bttv *dev);\nextern void bttv_input_fini(struct bttv *dev);\nextern void bttv_input_irq(struct bttv *dev);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}