{
  "module_name": "bt878.h",
  "hash_id": "5c64ad9eade79164264618cf437537e31f0ba23d6b13a77c3b9ea427de5434b0",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/pci/bt8xx/bt878.h",
  "human_readable_source": " \n \n\n#ifndef _BT878_H_\n#define _BT878_H_\n\n#include <linux/interrupt.h>\n#include <linux/pci.h>\n#include <linux/sched.h>\n#include <linux/spinlock.h>\n#include <linux/mutex.h>\n\n#include \"bt848.h\"\n#include \"bttv.h\"\n\n#define BT878_VERSION_CODE 0x000000\n\n#define BT878_AINT_STAT\t\t0x100\n#define BT878_ARISCS\t\t(0xf<<28)\n#define BT878_ARISC_EN\t\t(1<<27)\n#define BT878_ASCERR\t\t(1<<19)\n#define BT878_AOCERR\t\t(1<<18)\n#define BT878_APABORT\t\t(1<<17)\n#define BT878_ARIPERR\t\t(1<<16)\n#define BT878_APPERR\t\t(1<<15)\n#define BT878_AFDSR\t\t(1<<14)\n#define BT878_AFTRGT\t\t(1<<13)\n#define BT878_AFBUS\t\t(1<<12)\n#define BT878_ARISCI\t\t(1<<11)\n#define BT878_AOFLOW\t\t(1<<3)\n\n#define BT878_AINT_MASK\t\t0x104\n\n#define BT878_AGPIO_DMA_CTL\t0x10c\n#define BT878_A_GAIN\t\t(0xf<<28)\n#define BT878_A_G2X\t\t(1<<27)\n#define BT878_A_PWRDN\t\t(1<<26)\n#define BT878_A_SEL\t\t(3<<24)\n#define BT878_DA_SCE\t\t(1<<23)\n#define BT878_DA_LRI\t\t(1<<22)\n#define BT878_DA_MLB\t\t(1<<21)\n#define BT878_DA_LRD\t\t(0x1f<<16)\n#define BT878_DA_DPM\t\t(1<<15)\n#define BT878_DA_SBR\t\t(1<<14)\n#define BT878_DA_ES2\t\t(1<<13)\n#define BT878_DA_LMT\t\t(1<<12)\n#define BT878_DA_SDR\t\t(0xf<<8)\n#define BT878_DA_IOM\t\t(3<<6)\n#define BT878_DA_APP\t\t(1<<5)\n#define BT878_ACAP_EN\t\t(1<<4)\n#define BT878_PKTP\t\t(3<<2)\n#define BT878_RISC_EN\t\t(1<<1)\n#define BT878_FIFO_EN\t\t1\n\n#define BT878_APACK_LEN\t\t0x110\n#define BT878_AFP_LEN\t\t(0xff<<16)\n#define BT878_ALP_LEN\t\t0xfff\n\n#define BT878_ARISC_START\t0x114\n\n#define BT878_ARISC_PC\t\t0x120\n\n \n#define BT878_GPIO_DMA_CTL\t0x10c\n\n \n#define BT878_INT_STAT\t\t0x100\n#define BT878_INT_MASK\t\t0x104\n#define BT878_I2CRACK\t\t(1<<25)\n#define BT878_I2CDONE\t\t(1<<8)\n\n#define BT878_MAX 4\n\n#define BT878_RISC_SYNC_MASK\t(1 << 15)\n\n\n#define BTTV_BOARD_UNKNOWN                 0x00\n#define BTTV_BOARD_PINNACLESAT             0x5e\n#define BTTV_BOARD_NEBULA_DIGITV           0x68\n#define BTTV_BOARD_PC_HDTV                 0x70\n#define BTTV_BOARD_TWINHAN_DST             0x71\n#define BTTV_BOARD_AVDVBT_771              0x7b\n#define BTTV_BOARD_AVDVBT_761              0x7c\n#define BTTV_BOARD_DVICO_DVBT_LITE         0x80\n#define BTTV_BOARD_DVICO_FUSIONHDTV_5_LITE 0x87\n\nextern int bt878_num;\n\nstruct bt878 {\n\tstruct mutex gpio_lock;\n\tunsigned int nr;\n\tunsigned int bttv_nr;\n\tstruct i2c_adapter *adapter;\n\tstruct pci_dev *dev;\n\tunsigned int id;\n\tunsigned int TS_Size;\n\tunsigned char revision;\n\tunsigned int irq;\n\tunsigned long bt878_adr;\n\tvolatile void __iomem *bt878_mem;  \n\n\tvolatile u32 finished_block;\n\tvolatile u32 last_block;\n\tu32 block_count;\n\tu32 block_bytes;\n\tu32 line_bytes;\n\tu32 line_count;\n\n\tu32 buf_size;\n\tu8 *buf_cpu;\n\tdma_addr_t buf_dma;\n\n\tu32 risc_size;\n\t__le32 *risc_cpu;\n\tdma_addr_t risc_dma;\n\tu32 risc_pos;\n\n\tstruct tasklet_struct tasklet;\n\tint shutdown;\n};\n\nextern struct bt878 bt878[BT878_MAX];\n\nvoid bt878_start(struct bt878 *bt, u32 controlreg, u32 op_sync_orin,\n\t\tu32 irq_err_ignore);\nvoid bt878_stop(struct bt878 *bt);\n\n#define bmtwrite(dat,adr)  writel((dat), (adr))\n#define bmtread(adr)       readl(adr)\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}