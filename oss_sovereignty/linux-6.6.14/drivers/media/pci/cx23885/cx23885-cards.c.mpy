{
  "module_name": "cx23885-cards.c",
  "hash_id": "53ff182421ee9325db7036a7be96acfdd17d96bda1fc7efb7fb978054a9def3a",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/pci/cx23885/cx23885-cards.c",
  "human_readable_source": "\n \n\n#include \"cx23885.h\"\n\n#include <linux/init.h>\n#include <linux/module.h>\n#include <linux/pci.h>\n#include <linux/delay.h>\n#include <media/drv-intf/cx25840.h>\n#include <linux/firmware.h>\n#include <misc/altera.h>\n\n#include \"xc2028.h\"\n#include \"netup-eeprom.h\"\n#include \"netup-init.h\"\n#include \"altera-ci.h\"\n#include \"xc4000.h\"\n#include \"xc5000.h\"\n#include \"cx23888-ir.h\"\n\nstatic unsigned int netup_card_rev = 4;\nmodule_param(netup_card_rev, int, 0644);\nMODULE_PARM_DESC(netup_card_rev,\n\t\t\"NetUP Dual DVB-T/C CI card revision\");\nstatic unsigned int enable_885_ir;\nmodule_param(enable_885_ir, int, 0644);\nMODULE_PARM_DESC(enable_885_ir,\n\t\t \"Enable integrated IR controller for supported\\n\"\n\t\t \"\\t\\t    CX2388[57] boards that are wired for it:\\n\"\n\t\t \"\\t\\t\\tHVR-1250 (reported safe)\\n\"\n\t\t \"\\t\\t\\tTerraTec Cinergy T PCIe Dual (not well tested, appears to be safe)\\n\"\n\t\t \"\\t\\t\\tTeVii S470 (reported unsafe)\\n\"\n\t\t \"\\t\\t    This can cause an interrupt storm with some cards.\\n\"\n\t\t \"\\t\\t    Default: 0 [Disabled]\");\n\n \n \n\nstruct cx23885_board cx23885_boards[] = {\n\t[CX23885_BOARD_UNKNOWN] = {\n\t\t.name\t\t= \"UNKNOWN/GENERIC\",\n\t\t \n\t\t.clk_freq       = 0,\n\t\t.input          = {{\n\t\t\t.type   = CX23885_VMUX_COMPOSITE1,\n\t\t\t.vmux   = 0,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_COMPOSITE2,\n\t\t\t.vmux   = 1,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_COMPOSITE3,\n\t\t\t.vmux   = 2,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_COMPOSITE4,\n\t\t\t.vmux   = 3,\n\t\t} },\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_HVR1800lp] = {\n\t\t.name\t\t= \"Hauppauge WinTV-HVR1800lp\",\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t\t.input          = {{\n\t\t\t.type   = CX23885_VMUX_TELEVISION,\n\t\t\t.vmux   = 0,\n\t\t\t.gpio0  = 0xff00,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_DEBUG,\n\t\t\t.vmux   = 0,\n\t\t\t.gpio0  = 0xff01,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_COMPOSITE1,\n\t\t\t.vmux   = 1,\n\t\t\t.gpio0  = 0xff02,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_SVIDEO,\n\t\t\t.vmux   = 2,\n\t\t\t.gpio0  = 0xff02,\n\t\t} },\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_HVR1800] = {\n\t\t.name\t\t= \"Hauppauge WinTV-HVR1800\",\n\t\t.porta\t\t= CX23885_ANALOG_VIDEO,\n\t\t.portb\t\t= CX23885_MPEG_ENCODER,\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t\t.tuner_type\t= TUNER_PHILIPS_TDA8290,\n\t\t.tuner_addr\t= 0x42,  \n\t\t.tuner_bus\t= 1,\n\t\t.input          = {{\n\t\t\t.type   = CX23885_VMUX_TELEVISION,\n\t\t\t.vmux   =\tCX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN5_CH2 |\n\t\t\t\t\tCX25840_VIN2_CH1,\n\t\t\t.amux   = CX25840_AUDIO8,\n\t\t\t.gpio0  = 0,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_COMPOSITE1,\n\t\t\t.vmux   =\tCX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN4_CH2 |\n\t\t\t\t\tCX25840_VIN6_CH1,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t\t.gpio0  = 0,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_SVIDEO,\n\t\t\t.vmux   =\tCX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN4_CH2 |\n\t\t\t\t\tCX25840_VIN8_CH1 |\n\t\t\t\t\tCX25840_SVIDEO_ON,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t\t.gpio0  = 0,\n\t\t} },\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_HVR1250] = {\n\t\t.name\t\t= \"Hauppauge WinTV-HVR1250\",\n\t\t.porta\t\t= CX23885_ANALOG_VIDEO,\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n#ifdef MT2131_NO_ANALOG_SUPPORT_YET\n\t\t.tuner_type\t= TUNER_PHILIPS_TDA8290,\n\t\t.tuner_addr\t= 0x42,  \n\t\t.tuner_bus\t= 1,\n#endif\n\t\t.force_bff\t= 1,\n\t\t.input          = {{\n#ifdef MT2131_NO_ANALOG_SUPPORT_YET\n\t\t\t.type   = CX23885_VMUX_TELEVISION,\n\t\t\t.vmux   =\tCX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN5_CH2 |\n\t\t\t\t\tCX25840_VIN2_CH1,\n\t\t\t.amux   = CX25840_AUDIO8,\n\t\t\t.gpio0  = 0xff00,\n\t\t}, {\n#endif\n\t\t\t.type   = CX23885_VMUX_COMPOSITE1,\n\t\t\t.vmux   =\tCX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN4_CH2 |\n\t\t\t\t\tCX25840_VIN6_CH1,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t\t.gpio0  = 0xff02,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_SVIDEO,\n\t\t\t.vmux   =\tCX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN4_CH2 |\n\t\t\t\t\tCX25840_VIN8_CH1 |\n\t\t\t\t\tCX25840_SVIDEO_ON,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t\t.gpio0  = 0xff02,\n\t\t} },\n\t},\n\t[CX23885_BOARD_DVICO_FUSIONHDTV_5_EXP] = {\n\t\t.name\t\t= \"DViCO FusionHDTV5 Express\",\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_HVR1500Q] = {\n\t\t.name\t\t= \"Hauppauge WinTV-HVR1500Q\",\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_HVR1500] = {\n\t\t.name\t\t= \"Hauppauge WinTV-HVR1500\",\n\t\t.porta\t\t= CX23885_ANALOG_VIDEO,\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t\t.tuner_type\t= TUNER_XC2028,\n\t\t.tuner_addr\t= 0x61,  \n\t\t.input          = {{\n\t\t\t.type   = CX23885_VMUX_TELEVISION,\n\t\t\t.vmux   =\tCX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN5_CH2 |\n\t\t\t\t\tCX25840_VIN2_CH1,\n\t\t\t.gpio0  = 0,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_COMPOSITE1,\n\t\t\t.vmux   =\tCX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN4_CH2 |\n\t\t\t\t\tCX25840_VIN6_CH1,\n\t\t\t.gpio0  = 0,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_SVIDEO,\n\t\t\t.vmux   =\tCX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN4_CH2 |\n\t\t\t\t\tCX25840_VIN8_CH1 |\n\t\t\t\t\tCX25840_SVIDEO_ON,\n\t\t\t.gpio0  = 0,\n\t\t} },\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_HVR1200] = {\n\t\t.name\t\t= \"Hauppauge WinTV-HVR1200\",\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_HVR1700] = {\n\t\t.name\t\t= \"Hauppauge WinTV-HVR1700\",\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_HVR1400] = {\n\t\t.name\t\t= \"Hauppauge WinTV-HVR1400\",\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_DVICO_FUSIONHDTV_7_DUAL_EXP] = {\n\t\t.name\t\t= \"DViCO FusionHDTV7 Dual Express\",\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_DVICO_FUSIONHDTV_DVB_T_DUAL_EXP] = {\n\t\t.name\t\t= \"DViCO FusionHDTV DVB-T Dual Express\",\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_LEADTEK_WINFAST_PXDVR3200_H] = {\n\t\t.name\t\t= \"Leadtek Winfast PxDVR3200 H\",\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_LEADTEK_WINFAST_PXPVR2200] = {\n\t\t.name\t\t= \"Leadtek Winfast PxPVR2200\",\n\t\t.porta\t\t= CX23885_ANALOG_VIDEO,\n\t\t.tuner_type\t= TUNER_XC2028,\n\t\t.tuner_addr\t= 0x61,\n\t\t.tuner_bus\t= 1,\n\t\t.input\t\t= {{\n\t\t\t.type\t= CX23885_VMUX_TELEVISION,\n\t\t\t.vmux\t= CX25840_VIN2_CH1 |\n\t\t\t\t  CX25840_VIN5_CH2,\n\t\t\t.amux\t= CX25840_AUDIO8,\n\t\t\t.gpio0\t= 0x704040,\n\t\t}, {\n\t\t\t.type\t= CX23885_VMUX_COMPOSITE1,\n\t\t\t.vmux\t= CX25840_COMPOSITE1,\n\t\t\t.amux\t= CX25840_AUDIO7,\n\t\t\t.gpio0\t= 0x704040,\n\t\t}, {\n\t\t\t.type\t= CX23885_VMUX_SVIDEO,\n\t\t\t.vmux\t= CX25840_SVIDEO_LUMA3 |\n\t\t\t\t  CX25840_SVIDEO_CHROMA4,\n\t\t\t.amux\t= CX25840_AUDIO7,\n\t\t\t.gpio0\t= 0x704040,\n\t\t}, {\n\t\t\t.type\t= CX23885_VMUX_COMPONENT,\n\t\t\t.vmux\t= CX25840_VIN7_CH1 |\n\t\t\t\t  CX25840_VIN6_CH2 |\n\t\t\t\t  CX25840_VIN8_CH3 |\n\t\t\t\t  CX25840_COMPONENT_ON,\n\t\t\t.amux\t= CX25840_AUDIO7,\n\t\t\t.gpio0\t= 0x704040,\n\t\t} },\n\t},\n\t[CX23885_BOARD_LEADTEK_WINFAST_PXDVR3200_H_XC4000] = {\n\t\t.name\t\t= \"Leadtek Winfast PxDVR3200 H XC4000\",\n\t\t.porta\t\t= CX23885_ANALOG_VIDEO,\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t\t.tuner_type\t= TUNER_XC4000,\n\t\t.tuner_addr\t= 0x61,\n\t\t.radio_type\t= UNSET,\n\t\t.radio_addr\t= ADDR_UNSET,\n\t\t.input\t\t= {{\n\t\t\t.type\t= CX23885_VMUX_TELEVISION,\n\t\t\t.vmux\t= CX25840_VIN2_CH1 |\n\t\t\t\t  CX25840_VIN5_CH2 |\n\t\t\t\t  CX25840_NONE0_CH3,\n\t\t}, {\n\t\t\t.type\t= CX23885_VMUX_COMPOSITE1,\n\t\t\t.vmux\t= CX25840_COMPOSITE1,\n\t\t}, {\n\t\t\t.type\t= CX23885_VMUX_SVIDEO,\n\t\t\t.vmux\t= CX25840_SVIDEO_LUMA3 |\n\t\t\t\t  CX25840_SVIDEO_CHROMA4,\n\t\t}, {\n\t\t\t.type\t= CX23885_VMUX_COMPONENT,\n\t\t\t.vmux\t= CX25840_VIN7_CH1 |\n\t\t\t\t  CX25840_VIN6_CH2 |\n\t\t\t\t  CX25840_VIN8_CH3 |\n\t\t\t\t  CX25840_COMPONENT_ON,\n\t\t} },\n\t},\n\t[CX23885_BOARD_COMPRO_VIDEOMATE_E650F] = {\n\t\t.name\t\t= \"Compro VideoMate E650F\",\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_TBS_6920] = {\n\t\t.name\t\t= \"TurboSight TBS 6920\",\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_TBS_6980] = {\n\t\t.name\t\t= \"TurboSight TBS 6980\",\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_TBS_6981] = {\n\t\t.name\t\t= \"TurboSight TBS 6981\",\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_TEVII_S470] = {\n\t\t.name\t\t= \"TeVii S470\",\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_DVBWORLD_2005] = {\n\t\t.name\t\t= \"DVBWorld DVB-S2 2005\",\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_NETUP_DUAL_DVBS2_CI] = {\n\t\t.ci_type\t= 1,\n\t\t.name\t\t= \"NetUP Dual DVB-S2 CI\",\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_HVR1270] = {\n\t\t.name\t\t= \"Hauppauge WinTV-HVR1270\",\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_HVR1275] = {\n\t\t.name\t\t= \"Hauppauge WinTV-HVR1275\",\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_HVR1255] = {\n\t\t.name\t\t= \"Hauppauge WinTV-HVR1255\",\n\t\t.porta\t\t= CX23885_ANALOG_VIDEO,\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t\t.tuner_type\t= TUNER_ABSENT,\n\t\t.tuner_addr\t= 0x42,  \n\t\t.force_bff\t= 1,\n\t\t.input          = {{\n\t\t\t.type   = CX23885_VMUX_TELEVISION,\n\t\t\t.vmux   =\tCX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN5_CH2 |\n\t\t\t\t\tCX25840_VIN2_CH1 |\n\t\t\t\t\tCX25840_DIF_ON,\n\t\t\t.amux   = CX25840_AUDIO8,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_COMPOSITE1,\n\t\t\t.vmux   =\tCX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN4_CH2 |\n\t\t\t\t\tCX25840_VIN6_CH1,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_SVIDEO,\n\t\t\t.vmux   =\tCX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN4_CH2 |\n\t\t\t\t\tCX25840_VIN8_CH1 |\n\t\t\t\t\tCX25840_SVIDEO_ON,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t} },\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_HVR1255_22111] = {\n\t\t.name\t\t= \"Hauppauge WinTV-HVR1255\",\n\t\t.porta\t\t= CX23885_ANALOG_VIDEO,\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t\t.tuner_type\t= TUNER_ABSENT,\n\t\t.tuner_addr\t= 0x42,  \n\t\t.force_bff\t= 1,\n\t\t.input          = {{\n\t\t\t.type   = CX23885_VMUX_TELEVISION,\n\t\t\t.vmux   =\tCX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN5_CH2 |\n\t\t\t\t\tCX25840_VIN2_CH1 |\n\t\t\t\t\tCX25840_DIF_ON,\n\t\t\t.amux   = CX25840_AUDIO8,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_SVIDEO,\n\t\t\t.vmux   =\tCX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN4_CH2 |\n\t\t\t\t\tCX25840_VIN8_CH1 |\n\t\t\t\t\tCX25840_SVIDEO_ON,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t} },\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_HVR1210] = {\n\t\t.name\t\t= \"Hauppauge WinTV-HVR1210\",\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_MYGICA_X8506] = {\n\t\t.name\t\t= \"Mygica X8506 DMB-TH\",\n\t\t.tuner_type = TUNER_XC5000,\n\t\t.tuner_addr = 0x61,\n\t\t.tuner_bus\t= 1,\n\t\t.porta\t\t= CX23885_ANALOG_VIDEO,\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t\t.input\t\t= {\n\t\t\t{\n\t\t\t\t.type   = CX23885_VMUX_TELEVISION,\n\t\t\t\t.vmux   = CX25840_COMPOSITE2,\n\t\t\t},\n\t\t\t{\n\t\t\t\t.type   = CX23885_VMUX_COMPOSITE1,\n\t\t\t\t.vmux   = CX25840_COMPOSITE8,\n\t\t\t},\n\t\t\t{\n\t\t\t\t.type   = CX23885_VMUX_SVIDEO,\n\t\t\t\t.vmux   = CX25840_SVIDEO_LUMA3 |\n\t\t\t\t\t\tCX25840_SVIDEO_CHROMA4,\n\t\t\t},\n\t\t\t{\n\t\t\t\t.type   = CX23885_VMUX_COMPONENT,\n\t\t\t\t.vmux   = CX25840_COMPONENT_ON |\n\t\t\t\t\tCX25840_VIN1_CH1 |\n\t\t\t\t\tCX25840_VIN6_CH2 |\n\t\t\t\t\tCX25840_VIN7_CH3,\n\t\t\t},\n\t\t},\n\t},\n\t[CX23885_BOARD_MAGICPRO_PROHDTVE2] = {\n\t\t.name\t\t= \"Magic-Pro ProHDTV Extreme 2\",\n\t\t.tuner_type = TUNER_XC5000,\n\t\t.tuner_addr = 0x61,\n\t\t.tuner_bus\t= 1,\n\t\t.porta\t\t= CX23885_ANALOG_VIDEO,\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t\t.input\t\t= {\n\t\t\t{\n\t\t\t\t.type   = CX23885_VMUX_TELEVISION,\n\t\t\t\t.vmux   = CX25840_COMPOSITE2,\n\t\t\t},\n\t\t\t{\n\t\t\t\t.type   = CX23885_VMUX_COMPOSITE1,\n\t\t\t\t.vmux   = CX25840_COMPOSITE8,\n\t\t\t},\n\t\t\t{\n\t\t\t\t.type   = CX23885_VMUX_SVIDEO,\n\t\t\t\t.vmux   = CX25840_SVIDEO_LUMA3 |\n\t\t\t\t\t\tCX25840_SVIDEO_CHROMA4,\n\t\t\t},\n\t\t\t{\n\t\t\t\t.type   = CX23885_VMUX_COMPONENT,\n\t\t\t\t.vmux   = CX25840_COMPONENT_ON |\n\t\t\t\t\tCX25840_VIN1_CH1 |\n\t\t\t\t\tCX25840_VIN6_CH2 |\n\t\t\t\t\tCX25840_VIN7_CH3,\n\t\t\t},\n\t\t},\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_HVR1850] = {\n\t\t.name\t\t= \"Hauppauge WinTV-HVR1850\",\n\t\t.porta\t\t= CX23885_ANALOG_VIDEO,\n\t\t.portb\t\t= CX23885_MPEG_ENCODER,\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t\t.tuner_type\t= TUNER_ABSENT,\n\t\t.tuner_addr\t= 0x42,  \n\t\t.force_bff\t= 1,\n\t\t.input          = {{\n\t\t\t.type   = CX23885_VMUX_TELEVISION,\n\t\t\t.vmux   =\tCX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN5_CH2 |\n\t\t\t\t\tCX25840_VIN2_CH1 |\n\t\t\t\t\tCX25840_DIF_ON,\n\t\t\t.amux   = CX25840_AUDIO8,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_COMPOSITE1,\n\t\t\t.vmux   =\tCX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN4_CH2 |\n\t\t\t\t\tCX25840_VIN6_CH1,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_SVIDEO,\n\t\t\t.vmux   =\tCX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN4_CH2 |\n\t\t\t\t\tCX25840_VIN8_CH1 |\n\t\t\t\t\tCX25840_SVIDEO_ON,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t} },\n\t},\n\t[CX23885_BOARD_COMPRO_VIDEOMATE_E800] = {\n\t\t.name\t\t= \"Compro VideoMate E800\",\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_HVR1290] = {\n\t\t.name\t\t= \"Hauppauge WinTV-HVR1290\",\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_MYGICA_X8558PRO] = {\n\t\t.name\t\t= \"Mygica X8558 PRO DMB-TH\",\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_LEADTEK_WINFAST_PXTV1200] = {\n\t\t.name           = \"LEADTEK WinFast PxTV1200\",\n\t\t.porta          = CX23885_ANALOG_VIDEO,\n\t\t.tuner_type     = TUNER_XC2028,\n\t\t.tuner_addr     = 0x61,\n\t\t.tuner_bus\t= 1,\n\t\t.input          = {{\n\t\t\t.type   = CX23885_VMUX_TELEVISION,\n\t\t\t.vmux   = CX25840_VIN2_CH1 |\n\t\t\t\t  CX25840_VIN5_CH2 |\n\t\t\t\t  CX25840_NONE0_CH3,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_COMPOSITE1,\n\t\t\t.vmux   = CX25840_COMPOSITE1,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_SVIDEO,\n\t\t\t.vmux   = CX25840_SVIDEO_LUMA3 |\n\t\t\t\t  CX25840_SVIDEO_CHROMA4,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_COMPONENT,\n\t\t\t.vmux   = CX25840_VIN7_CH1 |\n\t\t\t\t  CX25840_VIN6_CH2 |\n\t\t\t\t  CX25840_VIN8_CH3 |\n\t\t\t\t  CX25840_COMPONENT_ON,\n\t\t} },\n\t},\n\t[CX23885_BOARD_GOTVIEW_X5_3D_HYBRID] = {\n\t\t.name\t\t= \"GoTView X5 3D Hybrid\",\n\t\t.tuner_type\t= TUNER_XC5000,\n\t\t.tuner_addr\t= 0x64,\n\t\t.tuner_bus\t= 1,\n\t\t.porta\t\t= CX23885_ANALOG_VIDEO,\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t\t.input          = {{\n\t\t\t.type   = CX23885_VMUX_TELEVISION,\n\t\t\t.vmux   = CX25840_VIN2_CH1 |\n\t\t\t\t  CX25840_VIN5_CH2,\n\t\t\t.gpio0\t= 0x02,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_COMPOSITE1,\n\t\t\t.vmux   = CX23885_VMUX_COMPOSITE1,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_SVIDEO,\n\t\t\t.vmux   = CX25840_SVIDEO_LUMA3 |\n\t\t\t\t  CX25840_SVIDEO_CHROMA4,\n\t\t} },\n\t},\n\t[CX23885_BOARD_NETUP_DUAL_DVB_T_C_CI_RF] = {\n\t\t.ci_type\t= 2,\n\t\t.name\t\t= \"NetUP Dual DVB-T/C-CI RF\",\n\t\t.porta\t\t= CX23885_ANALOG_VIDEO,\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t\t.num_fds_portb\t= 2,\n\t\t.num_fds_portc\t= 2,\n\t\t.tuner_type\t= TUNER_XC5000,\n\t\t.tuner_addr\t= 0x64,\n\t\t.input          = { {\n\t\t\t\t.type   = CX23885_VMUX_TELEVISION,\n\t\t\t\t.vmux   = CX25840_COMPOSITE1,\n\t\t} },\n\t},\n\t[CX23885_BOARD_MPX885] = {\n\t\t.name\t\t= \"MPX-885\",\n\t\t.porta\t\t= CX23885_ANALOG_VIDEO,\n\t\t.input          = {{\n\t\t\t.type   = CX23885_VMUX_COMPOSITE1,\n\t\t\t.vmux   = CX25840_COMPOSITE1,\n\t\t\t.amux   = CX25840_AUDIO6,\n\t\t\t.gpio0  = 0,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_COMPOSITE2,\n\t\t\t.vmux   = CX25840_COMPOSITE2,\n\t\t\t.amux   = CX25840_AUDIO6,\n\t\t\t.gpio0  = 0,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_COMPOSITE3,\n\t\t\t.vmux   = CX25840_COMPOSITE3,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t\t.gpio0  = 0,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_COMPOSITE4,\n\t\t\t.vmux   = CX25840_COMPOSITE4,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t\t.gpio0  = 0,\n\t\t} },\n\t},\n\t[CX23885_BOARD_MYGICA_X8507] = {\n\t\t.name\t\t= \"Mygica X8502/X8507 ISDB-T\",\n\t\t.tuner_type = TUNER_XC5000,\n\t\t.tuner_addr = 0x61,\n\t\t.tuner_bus\t= 1,\n\t\t.porta\t\t= CX23885_ANALOG_VIDEO,\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t\t.input\t\t= {\n\t\t\t{\n\t\t\t\t.type   = CX23885_VMUX_TELEVISION,\n\t\t\t\t.vmux   = CX25840_COMPOSITE2,\n\t\t\t\t.amux   = CX25840_AUDIO8,\n\t\t\t},\n\t\t\t{\n\t\t\t\t.type   = CX23885_VMUX_COMPOSITE1,\n\t\t\t\t.vmux   = CX25840_COMPOSITE8,\n\t\t\t\t.amux   = CX25840_AUDIO7,\n\t\t\t},\n\t\t\t{\n\t\t\t\t.type   = CX23885_VMUX_SVIDEO,\n\t\t\t\t.vmux   = CX25840_SVIDEO_LUMA3 |\n\t\t\t\t\t\tCX25840_SVIDEO_CHROMA4,\n\t\t\t\t.amux   = CX25840_AUDIO7,\n\t\t\t},\n\t\t\t{\n\t\t\t\t.type   = CX23885_VMUX_COMPONENT,\n\t\t\t\t.vmux   = CX25840_COMPONENT_ON |\n\t\t\t\t\tCX25840_VIN1_CH1 |\n\t\t\t\t\tCX25840_VIN6_CH2 |\n\t\t\t\t\tCX25840_VIN7_CH3,\n\t\t\t\t.amux   = CX25840_AUDIO7,\n\t\t\t},\n\t\t},\n\t},\n\t[CX23885_BOARD_TERRATEC_CINERGY_T_PCIE_DUAL] = {\n\t\t.name\t\t= \"TerraTec Cinergy T PCIe Dual\",\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_TEVII_S471] = {\n\t\t.name\t\t= \"TeVii S471\",\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_PROF_8000] = {\n\t\t.name\t\t= \"Prof Revolution DVB-S2 8000\",\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_HVR4400] = {\n\t\t.name\t\t= \"Hauppauge WinTV-HVR4400/HVR5500\",\n\t\t.porta\t\t= CX23885_ANALOG_VIDEO,\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t\t.tuner_type\t= TUNER_NXP_TDA18271,\n\t\t.tuner_addr\t= 0x60,  \n\t\t.tuner_bus\t= 1,\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_STARBURST] = {\n\t\t.name\t\t= \"Hauppauge WinTV Starburst\",\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_AVERMEDIA_HC81R] = {\n\t\t.name\t\t= \"AVerTV Hybrid Express Slim HC81R\",\n\t\t.tuner_type\t= TUNER_XC2028,\n\t\t.tuner_addr\t= 0x61,  \n\t\t.tuner_bus\t= 1,\n\t\t.porta\t\t= CX23885_ANALOG_VIDEO,\n\t\t.input          = {{\n\t\t\t.type   = CX23885_VMUX_TELEVISION,\n\t\t\t.vmux   = CX25840_VIN2_CH1 |\n\t\t\t\t  CX25840_VIN5_CH2 |\n\t\t\t\t  CX25840_NONE0_CH3 |\n\t\t\t\t  CX25840_NONE1_CH3,\n\t\t\t.amux   = CX25840_AUDIO8,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_SVIDEO,\n\t\t\t.vmux   = CX25840_VIN8_CH1 |\n\t\t\t\t  CX25840_NONE_CH2 |\n\t\t\t\t  CX25840_VIN7_CH3 |\n\t\t\t\t  CX25840_SVIDEO_ON,\n\t\t\t.amux   = CX25840_AUDIO6,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_COMPONENT,\n\t\t\t.vmux   = CX25840_VIN1_CH1 |\n\t\t\t\t  CX25840_NONE_CH2 |\n\t\t\t\t  CX25840_NONE0_CH3 |\n\t\t\t\t  CX25840_NONE1_CH3,\n\t\t\t.amux   = CX25840_AUDIO6,\n\t\t} },\n\t},\n\t[CX23885_BOARD_DVICO_FUSIONHDTV_DVB_T_DUAL_EXP2] = {\n\t\t.name\t\t= \"DViCO FusionHDTV DVB-T Dual Express2\",\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_IMPACTVCBE] = {\n\t\t.name\t\t= \"Hauppauge ImpactVCB-e\",\n\t\t.tuner_type\t= TUNER_ABSENT,\n\t\t.porta\t\t= CX23885_ANALOG_VIDEO,\n\t\t.input          = {{\n\t\t\t.type   = CX23885_VMUX_COMPOSITE1,\n\t\t\t.vmux   = CX25840_VIN6_CH1,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_SVIDEO,\n\t\t\t.vmux   = CX25840_VIN4_CH2 |\n\t\t\t\t  CX25840_VIN8_CH1 |\n\t\t\t\t  CX25840_SVIDEO_ON,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t} },\n\t},\n\t[CX23885_BOARD_DVBSKY_T9580] = {\n\t\t.name\t\t= \"DVBSky T9580\",\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_DVBSKY_T980C] = {\n\t\t.name\t\t= \"DVBSky T980C\",\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_DVBSKY_S950C] = {\n\t\t.name\t\t= \"DVBSky S950C\",\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_TT_CT2_4500_CI] = {\n\t\t.name\t\t= \"Technotrend TT-budget CT2-4500 CI\",\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_DVBSKY_S950] = {\n\t\t.name\t\t= \"DVBSky S950\",\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_DVBSKY_S952] = {\n\t\t.name\t\t= \"DVBSky S952\",\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_DVBSKY_T982] = {\n\t\t.name\t\t= \"DVBSky T982\",\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_HVR5525] = {\n\t\t.name\t\t= \"Hauppauge WinTV-HVR5525\",\n\t\t.porta\t\t= CX23885_ANALOG_VIDEO,\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t\t.tuner_type\t= TUNER_ABSENT,\n\t\t.force_bff\t= 1,\n\t\t.input\t\t= {{\n\t\t\t.type\t= CX23885_VMUX_TELEVISION,\n\t\t\t.vmux\t=\tCX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN5_CH2 |\n\t\t\t\t\tCX25840_VIN2_CH1 |\n\t\t\t\t\tCX25840_DIF_ON,\n\t\t\t.amux   = CX25840_AUDIO8,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_COMPOSITE1,\n\t\t\t.vmux   = CX25840_VIN6_CH1,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_SVIDEO,\n\t\t\t.vmux   = CX25840_VIN7_CH3 |\n\t\t\t\t  CX25840_VIN8_CH1 |\n\t\t\t\t  CX25840_SVIDEO_ON,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t} },\n\t},\n\t[CX23885_BOARD_VIEWCAST_260E] = {\n\t\t.name\t\t= \"ViewCast 260e\",\n\t\t.porta\t\t= CX23885_ANALOG_VIDEO,\n\t\t.force_bff\t= 1,\n\t\t.input          = {{\n\t\t\t.type   = CX23885_VMUX_COMPOSITE1,\n\t\t\t.vmux   = CX25840_VIN6_CH1,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_SVIDEO,\n\t\t\t.vmux   = CX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN5_CH1 |\n\t\t\t\t\tCX25840_SVIDEO_ON,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_COMPONENT,\n\t\t\t.vmux   = CX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN6_CH2 |\n\t\t\t\t\tCX25840_VIN5_CH1 |\n\t\t\t\t\tCX25840_COMPONENT_ON,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t} },\n\t},\n\t[CX23885_BOARD_VIEWCAST_460E] = {\n\t\t.name\t\t= \"ViewCast 460e\",\n\t\t.porta\t\t= CX23885_ANALOG_VIDEO,\n\t\t.force_bff\t= 1,\n\t\t.input          = {{\n\t\t\t.type   = CX23885_VMUX_COMPOSITE1,\n\t\t\t.vmux   = CX25840_VIN4_CH1,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_SVIDEO,\n\t\t\t.vmux   = CX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN6_CH1 |\n\t\t\t\t\tCX25840_SVIDEO_ON,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_COMPONENT,\n\t\t\t.vmux   = CX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN6_CH1 |\n\t\t\t\t\tCX25840_VIN5_CH2 |\n\t\t\t\t\tCX25840_COMPONENT_ON,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_COMPOSITE2,\n\t\t\t.vmux   = CX25840_VIN6_CH1,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t} },\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_QUADHD_DVB] = {\n\t\t.name         = \"Hauppauge WinTV-QuadHD-DVB\",\n\t\t.porta        = CX23885_ANALOG_VIDEO,\n\t\t.portb        = CX23885_MPEG_DVB,\n\t\t.portc        = CX23885_MPEG_DVB,\n\t\t.tuner_type\t= TUNER_ABSENT,\n\t\t.force_bff\t= 1,\n\t\t.input          = {{\n\t\t\t.type   = CX23885_VMUX_TELEVISION,\n\t\t\t.vmux   =\tCX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN5_CH2 |\n\t\t\t\t\tCX25840_VIN2_CH1 |\n\t\t\t\t\tCX25840_DIF_ON,\n\t\t\t.amux   = CX25840_AUDIO8,\n\t\t} },\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_QUADHD_DVB_885] = {\n\t\t.name         = \"Hauppauge WinTV-QuadHD-DVB(885)\",\n\t\t.portb        = CX23885_MPEG_DVB,\n\t\t.portc        = CX23885_MPEG_DVB,\n\t\t.tuner_type   = TUNER_ABSENT,\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_QUADHD_ATSC] = {\n\t\t.name         = \"Hauppauge WinTV-QuadHD-ATSC\",\n\t\t.porta        = CX23885_ANALOG_VIDEO,\n\t\t.portb        = CX23885_MPEG_DVB,\n\t\t.portc        = CX23885_MPEG_DVB,\n\t\t.tuner_type\t= TUNER_ABSENT,\n\t\t.input          = {{\n\t\t\t.type   = CX23885_VMUX_TELEVISION,\n\t\t\t.vmux   =\tCX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN5_CH2 |\n\t\t\t\t\tCX25840_VIN2_CH1 |\n\t\t\t\t\tCX25840_DIF_ON,\n\t\t\t.amux   = CX25840_AUDIO8,\n\t\t} },\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_QUADHD_ATSC_885] = {\n\t\t.name         = \"Hauppauge WinTV-QuadHD-ATSC(885)\",\n\t\t.portb        = CX23885_MPEG_DVB,\n\t\t.portc        = CX23885_MPEG_DVB,\n\t\t.tuner_type   = TUNER_ABSENT,\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_HVR1265_K4] = {\n\t\t.name\t\t= \"Hauppauge WinTV-HVR-1265(161111)\",\n\t\t.porta          = CX23885_ANALOG_VIDEO,\n\t\t.portc\t\t= CX23885_MPEG_DVB,\n\t\t.tuner_type     = TUNER_ABSENT,\n\t\t.input          = {{\n\t\t\t.type   = CX23885_VMUX_TELEVISION,\n\t\t\t.vmux   =\tCX25840_VIN7_CH3 |\n\t\t\t\t\tCX25840_VIN5_CH2 |\n\t\t\t\t\tCX25840_VIN2_CH1 |\n\t\t\t\t\tCX25840_DIF_ON,\n\t\t\t.amux   = CX25840_AUDIO8,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_SVIDEO,\n\t\t\t.vmux   =\tCX25840_VIN4_CH2 |\n\t\t\t\t\tCX25840_VIN6_CH1 |\n\t\t\t\t\tCX25840_SVIDEO_ON,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t} },\n\t},\n\t[CX23885_BOARD_HAUPPAUGE_STARBURST2] = {\n\t\t.name\t\t= \"Hauppauge WinTV-Starburst2\",\n\t\t.portb\t\t= CX23885_MPEG_DVB,\n\t},\n\t[CX23885_BOARD_AVERMEDIA_CE310B] = {\n\t\t.name\t\t= \"AVerMedia CE310B\",\n\t\t.porta\t\t= CX23885_ANALOG_VIDEO,\n\t\t.force_bff\t= 1,\n\t\t.input          = {{\n\t\t\t.type   = CX23885_VMUX_COMPOSITE1,\n\t\t\t.vmux   = CX25840_VIN1_CH1 |\n\t\t\t\t  CX25840_NONE_CH2 |\n\t\t\t\t  CX25840_NONE0_CH3,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t}, {\n\t\t\t.type   = CX23885_VMUX_SVIDEO,\n\t\t\t.vmux   = CX25840_VIN8_CH1 |\n\t\t\t\t  CX25840_NONE_CH2 |\n\t\t\t\t  CX25840_VIN7_CH3 |\n\t\t\t\t  CX25840_SVIDEO_ON,\n\t\t\t.amux   = CX25840_AUDIO7,\n\t\t} },\n\t},\n};\nconst unsigned int cx23885_bcount = ARRAY_SIZE(cx23885_boards);\n\n \n \n\nstruct cx23885_subid cx23885_subids[] = {\n\t{\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x3400,\n\t\t.card      = CX23885_BOARD_UNKNOWN,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x7600,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1800lp,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x7800,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1800,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x7801,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1800,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x7809,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1800,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x7911,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1250,\n\t}, {\n\t\t.subvendor = 0x18ac,\n\t\t.subdevice = 0xd500,\n\t\t.card      = CX23885_BOARD_DVICO_FUSIONHDTV_5_EXP,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x7790,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1500Q,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x7797,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1500Q,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x7710,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1500,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x7717,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1500,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x71d1,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1200,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x71d3,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1200,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x8101,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1700,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x8010,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1400,\n\t}, {\n\t\t.subvendor = 0x18ac,\n\t\t.subdevice = 0xd618,\n\t\t.card      = CX23885_BOARD_DVICO_FUSIONHDTV_7_DUAL_EXP,\n\t}, {\n\t\t.subvendor = 0x18ac,\n\t\t.subdevice = 0xdb78,\n\t\t.card      = CX23885_BOARD_DVICO_FUSIONHDTV_DVB_T_DUAL_EXP,\n\t}, {\n\t\t.subvendor = 0x107d,\n\t\t.subdevice = 0x6681,\n\t\t.card      = CX23885_BOARD_LEADTEK_WINFAST_PXDVR3200_H,\n\t}, {\n\t\t.subvendor = 0x107d,\n\t\t.subdevice = 0x6f21,\n\t\t.card      = CX23885_BOARD_LEADTEK_WINFAST_PXPVR2200,\n\t}, {\n\t\t.subvendor = 0x107d,\n\t\t.subdevice = 0x6f39,\n\t\t.card\t   = CX23885_BOARD_LEADTEK_WINFAST_PXDVR3200_H_XC4000,\n\t}, {\n\t\t.subvendor = 0x185b,\n\t\t.subdevice = 0xe800,\n\t\t.card      = CX23885_BOARD_COMPRO_VIDEOMATE_E650F,\n\t}, {\n\t\t.subvendor = 0x6920,\n\t\t.subdevice = 0x8888,\n\t\t.card      = CX23885_BOARD_TBS_6920,\n\t}, {\n\t\t.subvendor = 0x6980,\n\t\t.subdevice = 0x8888,\n\t\t.card      = CX23885_BOARD_TBS_6980,\n\t}, {\n\t\t.subvendor = 0x6981,\n\t\t.subdevice = 0x8888,\n\t\t.card      = CX23885_BOARD_TBS_6981,\n\t}, {\n\t\t.subvendor = 0xd470,\n\t\t.subdevice = 0x9022,\n\t\t.card      = CX23885_BOARD_TEVII_S470,\n\t}, {\n\t\t.subvendor = 0x0001,\n\t\t.subdevice = 0x2005,\n\t\t.card      = CX23885_BOARD_DVBWORLD_2005,\n\t}, {\n\t\t.subvendor = 0x1b55,\n\t\t.subdevice = 0x2a2c,\n\t\t.card      = CX23885_BOARD_NETUP_DUAL_DVBS2_CI,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x2211,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1270,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x2215,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1275,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x221d,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1275,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x2251,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1255,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x2259,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1255_22111,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x2291,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1210,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x2295,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1210,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x2299,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1210,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x229d,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1210,  \n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x22f0,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1210,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x22f1,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1255,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x22f2,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1275,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x22f3,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1210,  \n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x22f4,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1210,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x22f5,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1210,  \n\t}, {\n\t\t.subvendor = 0x14f1,\n\t\t.subdevice = 0x8651,\n\t\t.card      = CX23885_BOARD_MYGICA_X8506,\n\t}, {\n\t\t.subvendor = 0x14f1,\n\t\t.subdevice = 0x8657,\n\t\t.card      = CX23885_BOARD_MAGICPRO_PROHDTVE2,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x8541,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1850,\n\t}, {\n\t\t.subvendor = 0x1858,\n\t\t.subdevice = 0xe800,\n\t\t.card      = CX23885_BOARD_COMPRO_VIDEOMATE_E800,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x8551,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1290,\n\t}, {\n\t\t.subvendor = 0x14f1,\n\t\t.subdevice = 0x8578,\n\t\t.card      = CX23885_BOARD_MYGICA_X8558PRO,\n\t}, {\n\t\t.subvendor = 0x107d,\n\t\t.subdevice = 0x6f22,\n\t\t.card      = CX23885_BOARD_LEADTEK_WINFAST_PXTV1200,\n\t}, {\n\t\t.subvendor = 0x5654,\n\t\t.subdevice = 0x2390,\n\t\t.card      = CX23885_BOARD_GOTVIEW_X5_3D_HYBRID,\n\t}, {\n\t\t.subvendor = 0x1b55,\n\t\t.subdevice = 0xe2e4,\n\t\t.card      = CX23885_BOARD_NETUP_DUAL_DVB_T_C_CI_RF,\n\t}, {\n\t\t.subvendor = 0x14f1,\n\t\t.subdevice = 0x8502,\n\t\t.card      = CX23885_BOARD_MYGICA_X8507,\n\t}, {\n\t\t.subvendor = 0x153b,\n\t\t.subdevice = 0x117e,\n\t\t.card      = CX23885_BOARD_TERRATEC_CINERGY_T_PCIE_DUAL,\n\t}, {\n\t\t.subvendor = 0xd471,\n\t\t.subdevice = 0x9022,\n\t\t.card      = CX23885_BOARD_TEVII_S471,\n\t}, {\n\t\t.subvendor = 0x8000,\n\t\t.subdevice = 0x3034,\n\t\t.card      = CX23885_BOARD_PROF_8000,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0xc108,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR4400,  \n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0xc138,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR4400,  \n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0xc12a,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_STARBURST,  \n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0xc1f8,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR4400,  \n\t}, {\n\t\t.subvendor = 0x1461,\n\t\t.subdevice = 0xd939,\n\t\t.card      = CX23885_BOARD_AVERMEDIA_HC81R,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x7133,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_IMPACTVCBE,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x7137,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_IMPACTVCBE,\n\t}, {\n\t\t.subvendor = 0x18ac,\n\t\t.subdevice = 0xdb98,\n\t\t.card      = CX23885_BOARD_DVICO_FUSIONHDTV_DVB_T_DUAL_EXP2,\n\t}, {\n\t\t.subvendor = 0x4254,\n\t\t.subdevice = 0x9580,\n\t\t.card      = CX23885_BOARD_DVBSKY_T9580,\n\t}, {\n\t\t.subvendor = 0x4254,\n\t\t.subdevice = 0x980c,\n\t\t.card      = CX23885_BOARD_DVBSKY_T980C,\n\t}, {\n\t\t.subvendor = 0x4254,\n\t\t.subdevice = 0x950c,\n\t\t.card      = CX23885_BOARD_DVBSKY_S950C,\n\t}, {\n\t\t.subvendor = 0x13c2,\n\t\t.subdevice = 0x3013,\n\t\t.card      = CX23885_BOARD_TT_CT2_4500_CI,\n\t}, {\n\t\t.subvendor = 0x4254,\n\t\t.subdevice = 0x0950,\n\t\t.card      = CX23885_BOARD_DVBSKY_S950,\n\t}, {\n\t\t.subvendor = 0x4254,\n\t\t.subdevice = 0x0952,\n\t\t.card      = CX23885_BOARD_DVBSKY_S952,\n\t}, {\n\t\t.subvendor = 0x4254,\n\t\t.subdevice = 0x0982,\n\t\t.card      = CX23885_BOARD_DVBSKY_T982,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0xf038,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR5525,\n\t}, {\n\t\t.subvendor = 0x1576,\n\t\t.subdevice = 0x0260,\n\t\t.card      = CX23885_BOARD_VIEWCAST_260E,\n\t}, {\n\t\t.subvendor = 0x1576,\n\t\t.subdevice = 0x0460,\n\t\t.card      = CX23885_BOARD_VIEWCAST_460E,\n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x6a28,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_QUADHD_DVB,  \n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x6b28,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_QUADHD_DVB,  \n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x6a18,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_QUADHD_ATSC,  \n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x6b18,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_QUADHD_ATSC,  \n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0x2a18,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_HVR1265_K4,  \n\t}, {\n\t\t.subvendor = 0x0070,\n\t\t.subdevice = 0xf02a,\n\t\t.card      = CX23885_BOARD_HAUPPAUGE_STARBURST2,\n\t}, {\n\t\t.subvendor = 0x1461,\n\t\t.subdevice = 0x3100,\n\t\t.card      = CX23885_BOARD_AVERMEDIA_CE310B,\n\t},\n};\nconst unsigned int cx23885_idcount = ARRAY_SIZE(cx23885_subids);\n\nvoid cx23885_card_list(struct cx23885_dev *dev)\n{\n\tint i;\n\n\tif (0 == dev->pci->subsystem_vendor &&\n\t    0 == dev->pci->subsystem_device) {\n\t\tpr_info(\"%s: Board has no valid PCIe Subsystem ID and can't\\n\"\n\t\t\t\"%s: be autodetected. Pass card=<n> insmod option\\n\"\n\t\t\t\"%s: to workaround that. Redirect complaints to the\\n\"\n\t\t\t\"%s: vendor of the TV card.  Best regards,\\n\"\n\t\t\t\"%s:         -- tux\\n\",\n\t\t\tdev->name, dev->name, dev->name, dev->name, dev->name);\n\t} else {\n\t\tpr_info(\"%s: Your board isn't known (yet) to the driver.\\n\"\n\t\t\t\"%s: Try to pick one of the existing card configs via\\n\"\n\t\t\t\"%s: card=<n> insmod option.  Updating to the latest\\n\"\n\t\t\t\"%s: version might help as well.\\n\",\n\t\t\tdev->name, dev->name, dev->name, dev->name);\n\t}\n\tpr_info(\"%s: Here is a list of valid choices for the card=<n> insmod option:\\n\",\n\t       dev->name);\n\tfor (i = 0; i < cx23885_bcount; i++)\n\t\tpr_info(\"%s:    card=%d -> %s\\n\",\n\t\t\tdev->name, i, cx23885_boards[i].name);\n}\n\nstatic void viewcast_eeprom(struct cx23885_dev *dev, u8 *eeprom_data)\n{\n\tu32 sn;\n\n\t \n\tif (*(eeprom_data + 0x00) != 0x59) {\n\t\tpr_info(\"%s() eeprom records are undefined, no serial number\\n\",\n\t\t\t__func__);\n\t\treturn;\n\t}\n\n\tsn =\t(*(eeprom_data + 0x06) << 24) |\n\t\t(*(eeprom_data + 0x05) << 16) |\n\t\t(*(eeprom_data + 0x04) << 8) |\n\t\t(*(eeprom_data + 0x03));\n\n\tpr_info(\"%s: card '%s' sn# MM%d\\n\",\n\t\tdev->name,\n\t\tcx23885_boards[dev->board].name,\n\t\tsn);\n}\n\nstatic void hauppauge_eeprom(struct cx23885_dev *dev, u8 *eeprom_data)\n{\n\tstruct tveeprom tv;\n\n\ttveeprom_hauppauge_analog(&tv, eeprom_data);\n\n\t \n\tswitch (tv.model) {\n\tcase 22001:\n\t\t \n\tcase 22009:\n\t\t \n\tcase 22011:\n\t\t \n\tcase 22019:\n\t\t \n\tcase 22021:\n\t\t \n\tcase 22029:\n\t\t \n\tcase 22101:\n\t\t \n\tcase 22109:\n\t\t \n\tcase 22111:\n\t\t \n\tcase 22119:\n\t\t \n\tcase 22121:\n\t\t \n\tcase 22129:\n\t\t \n\tcase 71009:\n\t\t \n\tcase 71100:\n\t\t \n\tcase 71359:\n\t\t \n\tcase 71439:\n\t\t \n\tcase 71449:\n\t\t \n\tcase 71939:\n\t\t \n\tcase 71949:\n\t\t \n\tcase 71959:\n\t\t \n\tcase 71979:\n\t\t \n\tcase 71999:\n\t\t \n\tcase 76601:\n\t\t \n\tcase 77001:\n\t\t \n\tcase 77011:\n\t\t \n\tcase 77041:\n\t\t \n\tcase 77051:\n\t\t \n\tcase 78011:\n\t\t \n\tcase 78501:\n\t\t \n\tcase 78521:\n\t\t \n\tcase 78531:\n\t\t \n\tcase 78631:\n\t\t \n\tcase 79001:\n\t\t \n\tcase 79101:\n\t\t \n\tcase 79501:\n\t\t \n\tcase 79561:\n\t\t \n\tcase 79571:\n\t\t \n\tcase 79671:\n\t\t \n\tcase 80019:\n\t\t \n\tcase 81509:\n\t\t \n\tcase 81519:\n\t\t \n\t\tbreak;\n\tcase 85021:\n\t\t \n\t\tbreak;\n\tcase 85721:\n\t\t \n\tcase 121019:\n\t\t \n\t\tbreak;\n\tcase 121029:\n\t\t \n\t\tbreak;\n\tcase 150329:\n\t\t \n\t\tbreak;\n\tcase 161111:\n\t\t \n\t\tbreak;\n\tcase 166100:  \n\tcase 166200:  \n\t\t \n\t\tbreak;\n\tcase 166101:  \n\tcase 166201:  \n\t\t \n\t\tbreak;\n\tcase 165100:  \n\tcase 165200:  \n\t\t \n\t\tbreak;\n\tcase 165101:  \n\tcase 165201:  \n\t\t \n\t\tbreak;\n\tdefault:\n\t\tpr_warn(\"%s: warning: unknown hauppauge model #%d\\n\",\n\t\t\tdev->name, tv.model);\n\t\tbreak;\n\t}\n\n\tpr_info(\"%s: hauppauge eeprom: model=%d\\n\",\n\t\tdev->name, tv.model);\n}\n\n \nstatic void tbs_card_init(struct cx23885_dev *dev)\n{\n\tint i;\n\tstatic const u8 buf[] = {\n\t\t0xe0, 0x06, 0x66, 0x33, 0x65,\n\t\t0x01, 0x17, 0x06, 0xde};\n\n\tswitch (dev->board) {\n\tcase CX23885_BOARD_TBS_6980:\n\tcase CX23885_BOARD_TBS_6981:\n\t\tcx_set(GP0_IO, 0x00070007);\n\t\tusleep_range(1000, 10000);\n\t\tcx_clear(GP0_IO, 2);\n\t\tusleep_range(1000, 10000);\n\t\tfor (i = 0; i < 9 * 8; i++) {\n\t\t\tcx_clear(GP0_IO, 7);\n\t\t\tusleep_range(1000, 10000);\n\t\t\tcx_set(GP0_IO,\n\t\t\t\t((buf[i >> 3] >> (7 - (i & 7))) & 1) | 4);\n\t\t\tusleep_range(1000, 10000);\n\t\t}\n\t\tcx_set(GP0_IO, 7);\n\t\tbreak;\n\t}\n}\n\nint cx23885_tuner_callback(void *priv, int component, int command, int arg)\n{\n\tstruct cx23885_tsport *port = priv;\n\tstruct cx23885_dev *dev = port->dev;\n\tu32 bitmask = 0;\n\n\tif ((command == XC2028_RESET_CLK) || (command == XC2028_I2C_FLUSH))\n\t\treturn 0;\n\n\tif (command != 0) {\n\t\tpr_err(\"%s(): Unknown command 0x%x.\\n\",\n\t\t       __func__, command);\n\t\treturn -EINVAL;\n\t}\n\n\tswitch (dev->board) {\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1400:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1500:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1500Q:\n\tcase CX23885_BOARD_LEADTEK_WINFAST_PXDVR3200_H:\n\tcase CX23885_BOARD_LEADTEK_WINFAST_PXPVR2200:\n\tcase CX23885_BOARD_LEADTEK_WINFAST_PXDVR3200_H_XC4000:\n\tcase CX23885_BOARD_COMPRO_VIDEOMATE_E650F:\n\tcase CX23885_BOARD_COMPRO_VIDEOMATE_E800:\n\tcase CX23885_BOARD_LEADTEK_WINFAST_PXTV1200:\n\t\t \n\t\tbitmask = 0x04;\n\t\tbreak;\n\tcase CX23885_BOARD_DVICO_FUSIONHDTV_7_DUAL_EXP:\n\tcase CX23885_BOARD_DVICO_FUSIONHDTV_DVB_T_DUAL_EXP:\n\tcase CX23885_BOARD_DVICO_FUSIONHDTV_DVB_T_DUAL_EXP2:\n\t\t \n\t\tif (port->nr == 1)\n\t\t\tbitmask = 0x01;\n\t\telse if (port->nr == 2)\n\t\t\tbitmask = 0x04;\n\t\tbreak;\n\tcase CX23885_BOARD_GOTVIEW_X5_3D_HYBRID:\n\t\t \n\t\tbitmask = 0x02;\n\t\tbreak;\n\tcase CX23885_BOARD_NETUP_DUAL_DVB_T_C_CI_RF:\n\t\taltera_ci_tuner_reset(dev, port->nr);\n\t\tbreak;\n\tcase CX23885_BOARD_AVERMEDIA_HC81R:\n\t\t \n\t\tbitmask = 1 << 2;\n\t\tbreak;\n\t}\n\n\tif (bitmask) {\n\t\t \n\t\tcx_clear(GP0_IO, bitmask);\n\t\tmdelay(200);\n\t\tcx_set(GP0_IO, bitmask);\n\t}\n\n\treturn 0;\n}\n\nvoid cx23885_gpio_setup(struct cx23885_dev *dev)\n{\n\tswitch (dev->board) {\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1250:\n\t\t \n\t\tcx_set(GP0_IO, 0x00010001);  \n\t\tbreak;\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1500:\n\t\t \n\t\t \n\n\t\t \n\t\tcx_set(GP0_IO, 0x00050000);\n\t\tcx_clear(GP0_IO, 0x00000005);\n\t\tmsleep(5);\n\n\t\t \n\t\tcx_set(GP0_IO, 0x00050005);\n\t\tbreak;\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1500Q:\n\t\t \n\t\t \n\t\tcx_set(GP0_IO, 0x00050005);  \n\t\tbreak;\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1800:\n\t\t \n\t\t \n\t\t \n\t\t \n\t\t \n\t\t \n\t\t \n\n\t\t \n\t\t \n\t\t \n\t\tmc417_gpio_enable(dev, GPIO_15 | GPIO_14, 1);\n\n\t\t \n\t\tmc417_gpio_clear(dev, GPIO_15 | GPIO_14);\n\t\tmsleep(100);\n\n\t\t \n\t\tmc417_gpio_set(dev, GPIO_15 | GPIO_14);\n\t\tmsleep(100);\n\n\t\t \n\t\tcx23885_gpio_enable(dev, GPIO_2, 1);\n\t\tcx23885_gpio_set(dev, GPIO_2);\n\t\tmsleep(20);\n\t\tcx23885_gpio_clear(dev, GPIO_2);\n\t\tmsleep(20);\n\t\tcx23885_gpio_set(dev, GPIO_2);\n\t\tmsleep(20);\n\t\tbreak;\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1200:\n\t\t \n\t\t \n\n\t\t \n\t\tcx_set(GP0_IO, 0x00050000);\n\t\tmsleep(20);\n\t\tcx_clear(GP0_IO, 0x00000005);\n\t\tmsleep(20);\n\t\tcx_set(GP0_IO, 0x00050005);\n\t\tbreak;\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1700:\n\t\t \n\t\t \n\t\t \n\t\t \n\t\t \n\n\t\t \n\t\t \n\t\t \n\t\t \n\t\t \n\t\t \n\n\t\t \n\t\tcx_set(GP0_IO, 0x00050000);\n\t\tmsleep(20);\n\t\tcx_clear(GP0_IO, 0x00000005);\n\t\tmsleep(20);\n\t\tcx_set(GP0_IO, 0x00050005);\n\t\tbreak;\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1400:\n\t\t \n\t\t \n\t\t \n\n\t\t \n\t\tcx_set(GP0_IO, 0x00050000);\n\t\tmsleep(20);\n\t\tcx_clear(GP0_IO, 0x00000005);\n\t\tmsleep(20);\n\t\tcx_set(GP0_IO, 0x00050005);\n\t\tbreak;\n\tcase CX23885_BOARD_DVICO_FUSIONHDTV_7_DUAL_EXP:\n\t\t \n\t\t \n\t\t \n\t\t \n\n\t\t \n\t\tcx_set(GP0_IO, 0x000f0000);\n\t\tmsleep(20);\n\t\tcx_clear(GP0_IO, 0x0000000f);\n\t\tmsleep(20);\n\t\tcx_set(GP0_IO, 0x000f000f);\n\t\tbreak;\n\tcase CX23885_BOARD_DVICO_FUSIONHDTV_DVB_T_DUAL_EXP:\n\tcase CX23885_BOARD_DVICO_FUSIONHDTV_DVB_T_DUAL_EXP2:\n\t\t \n\t\t \n\t\t \n\t\t \n\n\t\t \n\t\tcx_set(GP0_IO, 0x000f0000);\n\t\tmsleep(20);\n\t\tcx_clear(GP0_IO, 0x0000000f);\n\t\tmsleep(20);\n\t\tcx_set(GP0_IO, 0x000f000f);\n\t\tbreak;\n\tcase CX23885_BOARD_LEADTEK_WINFAST_PXDVR3200_H:\n\tcase CX23885_BOARD_LEADTEK_WINFAST_PXPVR2200:\n\tcase CX23885_BOARD_LEADTEK_WINFAST_PXDVR3200_H_XC4000:\n\tcase CX23885_BOARD_COMPRO_VIDEOMATE_E650F:\n\tcase CX23885_BOARD_COMPRO_VIDEOMATE_E800:\n\tcase CX23885_BOARD_LEADTEK_WINFAST_PXTV1200:\n\t\t \n\n\t\t \n\t\t \n\n\t\t \n\t\tcx_set(GP0_IO, 0x00040000);\n\t\tmsleep(20);\n\t\tcx_clear(GP0_IO, 0x00000004);\n\t\tmsleep(20);\n\t\tcx_set(GP0_IO, 0x00040004);\n\t\tbreak;\n\tcase CX23885_BOARD_TBS_6920:\n\tcase CX23885_BOARD_TBS_6980:\n\tcase CX23885_BOARD_TBS_6981:\n\tcase CX23885_BOARD_PROF_8000:\n\t\tcx_write(MC417_CTL, 0x00000036);\n\t\tcx_write(MC417_OEN, 0x00001000);\n\t\tcx_set(MC417_RWD, 0x00000002);\n\t\tmsleep(200);\n\t\tcx_clear(MC417_RWD, 0x00000800);\n\t\tmsleep(200);\n\t\tcx_set(MC417_RWD, 0x00000800);\n\t\tmsleep(200);\n\t\tbreak;\n\tcase CX23885_BOARD_NETUP_DUAL_DVBS2_CI:\n\t\t \n\t\tcx_set(GP0_IO, 0x00040000);  \n\t\t \n\t\tcx_clear(GP0_IO, 0x00030004);\n\t\tmsleep(100); \n\t\tcx_set(GP0_IO, 0x00040004);  \n\t\tcx_write(MC417_CTL, 0x00000037); \n\t\t \n\t\tcx_write(MC417_OEN, 0x00001000);\n\t\t \n\t\tcx_write(MC417_RWD, 0x0000c300);\n\t\t \n\t\tcx_write(GPIO_ISM, 0x00000000); \n\t\tbreak;\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1270:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1275:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1255:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1255_22111:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1210:\n\t\t \n\t\t \n\t\t \n\n\t\t \n\t\tcx23885_gpio_enable(dev, GPIO_9 | GPIO_6 | GPIO_5, 1);\n\t\tcx23885_gpio_set(dev, GPIO_9 | GPIO_6 | GPIO_5);\n\t\tcx23885_gpio_clear(dev, GPIO_9);\n\t\tmsleep(20);\n\t\tcx23885_gpio_set(dev, GPIO_9);\n\t\tbreak;\n\tcase CX23885_BOARD_MYGICA_X8506:\n\tcase CX23885_BOARD_MAGICPRO_PROHDTVE2:\n\tcase CX23885_BOARD_MYGICA_X8507:\n\t\t \n\t\t \n\t\t \n\t\tcx23885_gpio_enable(dev, GPIO_0 | GPIO_1 | GPIO_2, 1);\n\t\tcx23885_gpio_clear(dev, GPIO_1 | GPIO_2);\n\t\tmsleep(100);\n\t\tcx23885_gpio_set(dev, GPIO_0 | GPIO_1 | GPIO_2);\n\t\tmsleep(100);\n\t\tbreak;\n\tcase CX23885_BOARD_MYGICA_X8558PRO:\n\t\t \n\t\t \n\t\tcx23885_gpio_enable(dev, GPIO_0 | GPIO_1, 1);\n\t\tcx23885_gpio_clear(dev, GPIO_0 | GPIO_1);\n\t\tmsleep(100);\n\t\tcx23885_gpio_set(dev, GPIO_0 | GPIO_1);\n\t\tmsleep(100);\n\t\tbreak;\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1850:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1290:\n\t\t \n\t\t \n\t\t \n\t\t \n\t\t \n\t\t \n\t\t \n\t\t \n\t\t \n\t\t \n\t\t \n\t\t \n\n\t\t \n\t\t \n\t\t \n\t\tmc417_gpio_enable(dev, GPIO_14 | GPIO_13, 1);\n\n\t\t \n\t\tmc417_gpio_clear(dev, GPIO_14 | GPIO_13);\n\t\tmsleep(100);\n\n\t\t \n\t\tmc417_gpio_set(dev, GPIO_14);\n\t\tmsleep(100);\n\n\t\t \n\t\t \n\t\tbreak;\n\tcase CX23885_BOARD_GOTVIEW_X5_3D_HYBRID:\n\t\tcx_set(GP0_IO, 0x00010001);  \n\t\tbreak;\n\tcase CX23885_BOARD_NETUP_DUAL_DVB_T_C_CI_RF:\n\t\t \n\t\tcx_set(GP0_IO, 0x00060000);  \n\t\t \n\t\tcx_clear(GP0_IO, 0x00010006);\n\t\tmsleep(100); \n\t\tcx_set(GP0_IO, 0x00000004);  \n\t\tcx_write(MC417_CTL, 0x00000037); \n\t\t \n\t\tcx_write(MC417_OEN, 0x00005000);\n\t\t \n\t\tcx_write(MC417_RWD, 0x00000d00);\n\t\t \n\t\tcx_write(GPIO_ISM, 0x00000000); \n\t\tbreak;\n\tcase CX23885_BOARD_HAUPPAUGE_HVR4400:\n\tcase CX23885_BOARD_HAUPPAUGE_STARBURST:\n\t\t \n\t\t \n\n\t\t \n\t\tcx23885_gpio_enable(dev, GPIO_8 | GPIO_9, 1);\n\n\t\tcx23885_gpio_clear(dev, GPIO_8 | GPIO_9);\n\t\tmsleep(100);\n\t\tcx23885_gpio_set(dev, GPIO_8 | GPIO_9);\n\t\tmsleep(100);\n\n\t\tbreak;\n\tcase CX23885_BOARD_AVERMEDIA_HC81R:\n\t\tcx_clear(MC417_CTL, 1);\n\t\t \n\t\tcx_set(GP0_IO, 0x00070000);\n\t\tusleep_range(10000, 11000);\n\t\t \n\t\tcx_set(GP0_IO, 0x00010001);\n\t\tusleep_range(10000, 11000);\n\t\tcx_clear(GP0_IO, 0x00010001);\n\t\tusleep_range(10000, 11000);\n\t\tcx_set(GP0_IO, 0x00010001);\n\t\tusleep_range(10000, 11000);\n\t\t \n\t\tcx_clear(GP0_IO, 0x00030003);\n\t\tusleep_range(10000, 11000);\n\t\tcx_set(GP0_IO, 0x00020002);\n\t\tusleep_range(10000, 11000);\n\t\tcx_set(GP0_IO, 0x00010001);\n\t\tusleep_range(10000, 11000);\n\t\tcx_clear(GP0_IO, 0x00020002);\n\t\t \n\t\tcx_set(GP0_IO, 0x00040004);\n\t\tcx_clear(GP0_IO, 0x00040004);\n\t\tcx_set(GP0_IO, 0x00040004);\n\t\tmsleep(60);\n\t\tbreak;\n\tcase CX23885_BOARD_DVBSKY_T9580:\n\tcase CX23885_BOARD_DVBSKY_S952:\n\tcase CX23885_BOARD_DVBSKY_T982:\n\t\t \n\t\tcx_write(MC417_CTL, 0x00000037);\n\t\tcx23885_gpio_enable(dev, GPIO_2 | GPIO_11, 1);\n\t\tcx23885_gpio_clear(dev, GPIO_2 | GPIO_11);\n\t\tmsleep(100);\n\t\tcx23885_gpio_set(dev, GPIO_2 | GPIO_11);\n\t\tbreak;\n\tcase CX23885_BOARD_DVBSKY_T980C:\n\tcase CX23885_BOARD_DVBSKY_S950C:\n\tcase CX23885_BOARD_TT_CT2_4500_CI:\n\t\t \n\n\t\tcx_set(GP0_IO, 0x00060002);  \n\t\tcx_clear(GP0_IO, 0x00010004);  \n\t\tmsleep(100);  \n\t\tcx_set(GP0_IO, 0x00060004);  \n\t\tcx_clear(GP0_IO, 0x00010002);\n\t\tcx_write(MC417_CTL, 0x00000037);  \n\n\t\t \n\t\tcx_write(MC417_OEN, 0x00001000);\n\n\t\t \n\t\tcx_write(MC417_RWD, 0x0000c300);\n\n\t\t \n\t\tcx_write(GPIO_ISM, 0x00000000);  \n\t\tbreak;\n\tcase CX23885_BOARD_DVBSKY_S950:\n\t\tcx23885_gpio_enable(dev, GPIO_2, 1);\n\t\tcx23885_gpio_clear(dev, GPIO_2);\n\t\tmsleep(100);\n\t\tcx23885_gpio_set(dev, GPIO_2);\n\t\tbreak;\n\tcase CX23885_BOARD_HAUPPAUGE_HVR5525:\n\tcase CX23885_BOARD_HAUPPAUGE_STARBURST2:\n\t\t \n\t\t \n\t\tcx23885_gpio_enable(dev, GPIO_8 | GPIO_9, 1);\n\t\tcx23885_gpio_clear(dev, GPIO_8 | GPIO_9);\n\t\tmsleep(100);\n\t\tcx23885_gpio_set(dev, GPIO_8 | GPIO_9);\n\t\tmsleep(100);\n\t\tbreak;\n\tcase CX23885_BOARD_VIEWCAST_260E:\n\tcase CX23885_BOARD_VIEWCAST_460E:\n\t\t \n\t\tbreak;\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1265_K4:\n\tcase CX23885_BOARD_HAUPPAUGE_QUADHD_DVB:\n\tcase CX23885_BOARD_HAUPPAUGE_QUADHD_DVB_885:\n\tcase CX23885_BOARD_HAUPPAUGE_QUADHD_ATSC:\n\tcase CX23885_BOARD_HAUPPAUGE_QUADHD_ATSC_885:\n\t\t \n\t\t \n\t\tcx23885_gpio_enable(dev, GPIO_8 | GPIO_9, 1);\n\t\tcx23885_gpio_clear(dev, GPIO_8 | GPIO_9);\n\t\tmsleep(100);\n\t\tcx23885_gpio_set(dev, GPIO_8 | GPIO_9);\n\t\tmsleep(100);\n\t\tbreak;\n\t}\n}\n\nint cx23885_ir_init(struct cx23885_dev *dev)\n{\n\tstatic struct v4l2_subdev_io_pin_config ir_rxtx_pin_cfg[] = {\n\t\t{\n\t\t\t.flags\t  = BIT(V4L2_SUBDEV_IO_PIN_INPUT),\n\t\t\t.pin\t  = CX23885_PIN_IR_RX_GPIO19,\n\t\t\t.function = CX23885_PAD_IR_RX,\n\t\t\t.value\t  = 0,\n\t\t\t.strength = CX25840_PIN_DRIVE_MEDIUM,\n\t\t}, {\n\t\t\t.flags\t  = BIT(V4L2_SUBDEV_IO_PIN_OUTPUT),\n\t\t\t.pin\t  = CX23885_PIN_IR_TX_GPIO20,\n\t\t\t.function = CX23885_PAD_IR_TX,\n\t\t\t.value\t  = 0,\n\t\t\t.strength = CX25840_PIN_DRIVE_MEDIUM,\n\t\t}\n\t};\n\tconst size_t ir_rxtx_pin_cfg_count = ARRAY_SIZE(ir_rxtx_pin_cfg);\n\n\tstatic struct v4l2_subdev_io_pin_config ir_rx_pin_cfg[] = {\n\t\t{\n\t\t\t.flags\t  = BIT(V4L2_SUBDEV_IO_PIN_INPUT),\n\t\t\t.pin\t  = CX23885_PIN_IR_RX_GPIO19,\n\t\t\t.function = CX23885_PAD_IR_RX,\n\t\t\t.value\t  = 0,\n\t\t\t.strength = CX25840_PIN_DRIVE_MEDIUM,\n\t\t}\n\t};\n\tconst size_t ir_rx_pin_cfg_count = ARRAY_SIZE(ir_rx_pin_cfg);\n\n\tstruct v4l2_subdev_ir_parameters params;\n\tint ret = 0;\n\tswitch (dev->board) {\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1500:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1500Q:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1800:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1200:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1400:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1275:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1255:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1255_22111:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1210:\n\tcase CX23885_BOARD_HAUPPAUGE_QUADHD_DVB:\n\tcase CX23885_BOARD_HAUPPAUGE_QUADHD_ATSC:\n\t\t \n\t\tbreak;\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1270:\n\t\tret = cx23888_ir_probe(dev);\n\t\tif (ret)\n\t\t\tbreak;\n\t\tdev->sd_ir = cx23885_find_hw(dev, CX23885_HW_888_IR);\n\t\tv4l2_subdev_call(dev->sd_cx25840, core, s_io_pin_config,\n\t\t\t\t ir_rx_pin_cfg_count, ir_rx_pin_cfg);\n\t\tbreak;\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1850:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1290:\n\t\tret = cx23888_ir_probe(dev);\n\t\tif (ret)\n\t\t\tbreak;\n\t\tdev->sd_ir = cx23885_find_hw(dev, CX23885_HW_888_IR);\n\t\tv4l2_subdev_call(dev->sd_cx25840, core, s_io_pin_config,\n\t\t\t\t ir_rxtx_pin_cfg_count, ir_rxtx_pin_cfg);\n\t\t \n\t\tv4l2_subdev_call(dev->sd_ir, ir, tx_g_parameters, &params);\n\t\tparams.enable = false;\n\t\tparams.shutdown = false;\n\t\tparams.invert_level = true;\n\t\tv4l2_subdev_call(dev->sd_ir, ir, tx_s_parameters, &params);\n\t\tparams.shutdown = true;\n\t\tv4l2_subdev_call(dev->sd_ir, ir, tx_s_parameters, &params);\n\t\tbreak;\n\tcase CX23885_BOARD_TERRATEC_CINERGY_T_PCIE_DUAL:\n\tcase CX23885_BOARD_TEVII_S470:\n\tcase CX23885_BOARD_MYGICA_X8507:\n\tcase CX23885_BOARD_TBS_6980:\n\tcase CX23885_BOARD_TBS_6981:\n\tcase CX23885_BOARD_DVBSKY_T9580:\n\tcase CX23885_BOARD_DVBSKY_T980C:\n\tcase CX23885_BOARD_DVBSKY_S950C:\n\tcase CX23885_BOARD_TT_CT2_4500_CI:\n\tcase CX23885_BOARD_DVBSKY_S950:\n\tcase CX23885_BOARD_DVBSKY_S952:\n\tcase CX23885_BOARD_DVBSKY_T982:\n\t\tif (!enable_885_ir)\n\t\t\tbreak;\n\t\tdev->sd_ir = cx23885_find_hw(dev, CX23885_HW_AV_CORE);\n\t\tif (dev->sd_ir == NULL) {\n\t\t\tret = -ENODEV;\n\t\t\tbreak;\n\t\t}\n\t\tv4l2_subdev_call(dev->sd_cx25840, core, s_io_pin_config,\n\t\t\t\t ir_rx_pin_cfg_count, ir_rx_pin_cfg);\n\t\tbreak;\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1250:\n\t\tif (!enable_885_ir)\n\t\t\tbreak;\n\t\tdev->sd_ir = cx23885_find_hw(dev, CX23885_HW_AV_CORE);\n\t\tif (dev->sd_ir == NULL) {\n\t\t\tret = -ENODEV;\n\t\t\tbreak;\n\t\t}\n\t\tv4l2_subdev_call(dev->sd_cx25840, core, s_io_pin_config,\n\t\t\t\t ir_rxtx_pin_cfg_count, ir_rxtx_pin_cfg);\n\t\tbreak;\n\tcase CX23885_BOARD_DVICO_FUSIONHDTV_DVB_T_DUAL_EXP:\n\tcase CX23885_BOARD_DVICO_FUSIONHDTV_DVB_T_DUAL_EXP2:\n\t\trequest_module(\"ir-kbd-i2c\");\n\t\tbreak;\n\t}\n\n\treturn ret;\n}\n\nvoid cx23885_ir_fini(struct cx23885_dev *dev)\n{\n\tswitch (dev->board) {\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1270:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1850:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1290:\n\t\tcx23885_irq_remove(dev, PCI_MSK_IR);\n\t\tcx23888_ir_remove(dev);\n\t\tdev->sd_ir = NULL;\n\t\tbreak;\n\tcase CX23885_BOARD_TERRATEC_CINERGY_T_PCIE_DUAL:\n\tcase CX23885_BOARD_TEVII_S470:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1250:\n\tcase CX23885_BOARD_MYGICA_X8507:\n\tcase CX23885_BOARD_TBS_6980:\n\tcase CX23885_BOARD_TBS_6981:\n\tcase CX23885_BOARD_DVBSKY_T9580:\n\tcase CX23885_BOARD_DVBSKY_T980C:\n\tcase CX23885_BOARD_DVBSKY_S950C:\n\tcase CX23885_BOARD_TT_CT2_4500_CI:\n\tcase CX23885_BOARD_DVBSKY_S950:\n\tcase CX23885_BOARD_DVBSKY_S952:\n\tcase CX23885_BOARD_DVBSKY_T982:\n\t\tcx23885_irq_remove(dev, PCI_MSK_AV_CORE);\n\t\t \n\t\tdev->sd_ir = NULL;\n\t\tbreak;\n\t}\n}\n\nstatic int netup_jtag_io(void *device, int tms, int tdi, int read_tdo)\n{\n\tint data;\n\tint tdo = 0;\n\tstruct cx23885_dev *dev = (struct cx23885_dev *)device;\n\t \n\tdata = ((cx_read(GP0_IO)) & (~0x00000002));\n\tdata |= (tms ? 0x00020002 : 0x00020000);\n\tcx_write(GP0_IO, data);\n\n\t \n\tdata = ((cx_read(MC417_RWD)) & (~0x0000a000));\n\tdata |= (tdi ? 0x00008000 : 0);\n\tcx_write(MC417_RWD, data);\n\tif (read_tdo)\n\t\ttdo = (data & 0x00004000) ? 1 : 0;  \n\n\tcx_write(MC417_RWD, data | 0x00002000);\n\tudelay(1);\n\t \n\tcx_write(MC417_RWD, data);\n\n\treturn tdo;\n}\n\nvoid cx23885_ir_pci_int_enable(struct cx23885_dev *dev)\n{\n\tswitch (dev->board) {\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1270:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1850:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1290:\n\t\tif (dev->sd_ir)\n\t\t\tcx23885_irq_add_enable(dev, PCI_MSK_IR);\n\t\tbreak;\n\tcase CX23885_BOARD_TERRATEC_CINERGY_T_PCIE_DUAL:\n\tcase CX23885_BOARD_TEVII_S470:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1250:\n\tcase CX23885_BOARD_MYGICA_X8507:\n\tcase CX23885_BOARD_TBS_6980:\n\tcase CX23885_BOARD_TBS_6981:\n\tcase CX23885_BOARD_DVBSKY_T9580:\n\tcase CX23885_BOARD_DVBSKY_T980C:\n\tcase CX23885_BOARD_DVBSKY_S950C:\n\tcase CX23885_BOARD_TT_CT2_4500_CI:\n\tcase CX23885_BOARD_DVBSKY_S950:\n\tcase CX23885_BOARD_DVBSKY_S952:\n\tcase CX23885_BOARD_DVBSKY_T982:\n\t\tif (dev->sd_ir)\n\t\t\tcx23885_irq_add_enable(dev, PCI_MSK_AV_CORE);\n\t\tbreak;\n\t}\n}\n\nvoid cx23885_card_setup(struct cx23885_dev *dev)\n{\n\tstruct cx23885_tsport *ts1 = &dev->ts1;\n\tstruct cx23885_tsport *ts2 = &dev->ts2;\n\n\tstatic u8 eeprom[256];\n\n\tif (dev->i2c_bus[0].i2c_rc == 0) {\n\t\tdev->i2c_bus[0].i2c_client.addr = 0xa0 >> 1;\n\t\ttveeprom_read(&dev->i2c_bus[0].i2c_client,\n\t\t\t      eeprom, sizeof(eeprom));\n\t}\n\n\tswitch (dev->board) {\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1250:\n\t\tif (dev->i2c_bus[0].i2c_rc == 0) {\n\t\t\tif (eeprom[0x80] != 0x84)\n\t\t\t\thauppauge_eeprom(dev, eeprom+0xc0);\n\t\t\telse\n\t\t\t\thauppauge_eeprom(dev, eeprom+0x80);\n\t\t}\n\t\tbreak;\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1500:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1500Q:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1400:\n\t\tif (dev->i2c_bus[0].i2c_rc == 0)\n\t\t\thauppauge_eeprom(dev, eeprom+0x80);\n\t\tbreak;\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1800:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1800lp:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1200:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1700:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1270:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1275:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1255:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1255_22111:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1210:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1850:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1290:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR4400:\n\tcase CX23885_BOARD_HAUPPAUGE_STARBURST:\n\tcase CX23885_BOARD_HAUPPAUGE_IMPACTVCBE:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR5525:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1265_K4:\n\tcase CX23885_BOARD_HAUPPAUGE_STARBURST2:\n\tcase CX23885_BOARD_HAUPPAUGE_QUADHD_DVB:\n\tcase CX23885_BOARD_HAUPPAUGE_QUADHD_DVB_885:\n\tcase CX23885_BOARD_HAUPPAUGE_QUADHD_ATSC:\n\tcase CX23885_BOARD_HAUPPAUGE_QUADHD_ATSC_885:\n\t\tif (dev->i2c_bus[0].i2c_rc == 0)\n\t\t\thauppauge_eeprom(dev, eeprom+0xc0);\n\t\tbreak;\n\tcase CX23885_BOARD_VIEWCAST_260E:\n\tcase CX23885_BOARD_VIEWCAST_460E:\n\t\tdev->i2c_bus[1].i2c_client.addr = 0xa0 >> 1;\n\t\ttveeprom_read(&dev->i2c_bus[1].i2c_client,\n\t\t\t      eeprom, sizeof(eeprom));\n\t\tif (dev->i2c_bus[0].i2c_rc == 0)\n\t\t\tviewcast_eeprom(dev, eeprom);\n\t\tbreak;\n\t}\n\n\tswitch (dev->board) {\n\tcase CX23885_BOARD_AVERMEDIA_HC81R:\n\t\t \n\t\tts1->gen_ctrl_val  = 0x4;  \n\t\tts1->ts_clk_en_val = 0x1;  \n\t\tts1->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\t \n\t\t \n\t\tts2->gen_ctrl_val  = 0x10e;\n\t\tts2->ts_clk_en_val = 0x1;  \n\t\tts2->src_sel_val     = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\tbreak;\n\tcase CX23885_BOARD_DVICO_FUSIONHDTV_7_DUAL_EXP:\n\tcase CX23885_BOARD_DVICO_FUSIONHDTV_DVB_T_DUAL_EXP:\n\tcase CX23885_BOARD_DVICO_FUSIONHDTV_DVB_T_DUAL_EXP2:\n\t\tts2->gen_ctrl_val  = 0xc;  \n\t\tts2->ts_clk_en_val = 0x1;  \n\t\tts2->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\tfallthrough;\n\tcase CX23885_BOARD_DVICO_FUSIONHDTV_5_EXP:\n\t\tts1->gen_ctrl_val  = 0xc;  \n\t\tts1->ts_clk_en_val = 0x1;  \n\t\tts1->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\tbreak;\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1850:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1800:\n\t\t \n\t\t \n\t\tts1->gen_ctrl_val    = 0x10e;\n\t\tts1->ts_clk_en_val   = 0x1;  \n\t\tts1->src_sel_val     = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\n\t\t \n\t\tts1->vld_misc_val    = 0x2000;\n\t\tts1->hw_sop_ctrl_val = (0x47 << 16 | 188 << 4 | 0xc);\n\t\tcx_write(0x130184, 0xc);\n\n\t\t \n\t\tts2->gen_ctrl_val  = 0xc;  \n\t\tts2->ts_clk_en_val = 0x1;  \n\t\tts2->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\tbreak;\n\tcase CX23885_BOARD_TBS_6920:\n\t\tts1->gen_ctrl_val  = 0x4;  \n\t\tts1->ts_clk_en_val = 0x1;  \n\t\tts1->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\tbreak;\n\tcase CX23885_BOARD_TEVII_S470:\n\tcase CX23885_BOARD_TEVII_S471:\n\tcase CX23885_BOARD_DVBWORLD_2005:\n\tcase CX23885_BOARD_PROF_8000:\n\tcase CX23885_BOARD_DVBSKY_T980C:\n\tcase CX23885_BOARD_DVBSKY_S950C:\n\tcase CX23885_BOARD_TT_CT2_4500_CI:\n\tcase CX23885_BOARD_DVBSKY_S950:\n\t\tts1->gen_ctrl_val  = 0x5;  \n\t\tts1->ts_clk_en_val = 0x1;  \n\t\tts1->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\tbreak;\n\tcase CX23885_BOARD_NETUP_DUAL_DVBS2_CI:\n\tcase CX23885_BOARD_NETUP_DUAL_DVB_T_C_CI_RF:\n\tcase CX23885_BOARD_TERRATEC_CINERGY_T_PCIE_DUAL:\n\t\tts1->gen_ctrl_val  = 0xc;  \n\t\tts1->ts_clk_en_val = 0x1;  \n\t\tts1->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\tts2->gen_ctrl_val  = 0xc;  \n\t\tts2->ts_clk_en_val = 0x1;  \n\t\tts2->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\tbreak;\n\tcase CX23885_BOARD_TBS_6980:\n\tcase CX23885_BOARD_TBS_6981:\n\t\tts1->gen_ctrl_val  = 0xc;  \n\t\tts1->ts_clk_en_val = 0x1;  \n\t\tts1->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\tts2->gen_ctrl_val  = 0xc;  \n\t\tts2->ts_clk_en_val = 0x1;  \n\t\tts2->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\ttbs_card_init(dev);\n\t\tbreak;\n\tcase CX23885_BOARD_MYGICA_X8506:\n\tcase CX23885_BOARD_MAGICPRO_PROHDTVE2:\n\tcase CX23885_BOARD_MYGICA_X8507:\n\t\tts1->gen_ctrl_val  = 0x5;  \n\t\tts1->ts_clk_en_val = 0x1;  \n\t\tts1->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\tbreak;\n\tcase CX23885_BOARD_MYGICA_X8558PRO:\n\t\tts1->gen_ctrl_val  = 0x5;  \n\t\tts1->ts_clk_en_val = 0x1;  \n\t\tts1->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\tts2->gen_ctrl_val  = 0xc;  \n\t\tts2->ts_clk_en_val = 0x1;  \n\t\tts2->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\tbreak;\n\tcase CX23885_BOARD_HAUPPAUGE_HVR4400:\n\t\tts1->gen_ctrl_val  = 0xc;  \n\t\tts1->ts_clk_en_val = 0x1;  \n\t\tts1->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\tts2->gen_ctrl_val  = 0xc;  \n\t\tts2->ts_clk_en_val = 0x1;  \n\t\tts2->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\tbreak;\n\tcase CX23885_BOARD_HAUPPAUGE_STARBURST:\n\t\tts1->gen_ctrl_val  = 0xc;  \n\t\tts1->ts_clk_en_val = 0x1;  \n\t\tts1->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\tbreak;\n\tcase CX23885_BOARD_DVBSKY_T9580:\n\tcase CX23885_BOARD_DVBSKY_T982:\n\t\tts1->gen_ctrl_val  = 0x5;  \n\t\tts1->ts_clk_en_val = 0x1;  \n\t\tts1->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\tts2->gen_ctrl_val  = 0x8;  \n\t\tts2->ts_clk_en_val = 0x1;  \n\t\tts2->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\tbreak;\n\tcase CX23885_BOARD_DVBSKY_S952:\n\t\tts1->gen_ctrl_val  = 0x5;  \n\t\tts1->ts_clk_en_val = 0x1;  \n\t\tts1->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\tts2->gen_ctrl_val  = 0xe;  \n\t\tts2->ts_clk_en_val = 0x1;  \n\t\tts2->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\tbreak;\n\tcase CX23885_BOARD_HAUPPAUGE_HVR5525:\n\tcase CX23885_BOARD_HAUPPAUGE_STARBURST2:\n\t\tts1->gen_ctrl_val  = 0x5;  \n\t\tts1->ts_clk_en_val = 0x1;  \n\t\tts1->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\tts2->gen_ctrl_val  = 0xc;  \n\t\tts2->ts_clk_en_val = 0x1;  \n\t\tts2->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\tbreak;\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1265_K4:\n\tcase CX23885_BOARD_HAUPPAUGE_QUADHD_DVB:\n\tcase CX23885_BOARD_HAUPPAUGE_QUADHD_DVB_885:\n\tcase CX23885_BOARD_HAUPPAUGE_QUADHD_ATSC:\n\tcase CX23885_BOARD_HAUPPAUGE_QUADHD_ATSC_885:\n\t\tts1->gen_ctrl_val  = 0xc;  \n\t\tts1->ts_clk_en_val = 0x1;  \n\t\tts1->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\tts2->gen_ctrl_val  = 0xc;  \n\t\tts2->ts_clk_en_val = 0x1;  \n\t\tts2->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t\tbreak;\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1250:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1500:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1500Q:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1800lp:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1200:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1700:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1400:\n\tcase CX23885_BOARD_HAUPPAUGE_IMPACTVCBE:\n\tcase CX23885_BOARD_LEADTEK_WINFAST_PXDVR3200_H:\n\tcase CX23885_BOARD_LEADTEK_WINFAST_PXPVR2200:\n\tcase CX23885_BOARD_LEADTEK_WINFAST_PXDVR3200_H_XC4000:\n\tcase CX23885_BOARD_COMPRO_VIDEOMATE_E650F:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1270:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1275:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1255:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1255_22111:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1210:\n\tcase CX23885_BOARD_COMPRO_VIDEOMATE_E800:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1290:\n\tcase CX23885_BOARD_GOTVIEW_X5_3D_HYBRID:\n\tdefault:\n\t\tts2->gen_ctrl_val  = 0xc;  \n\t\tts2->ts_clk_en_val = 0x1;  \n\t\tts2->src_sel_val   = CX23885_SRC_SEL_PARALLEL_MPEG_VIDEO;\n\t}\n\n\t \n\tswitch (dev->board) {\n\tcase CX23885_BOARD_TEVII_S470:\n\t\t \n\t\tif (!enable_885_ir)\n\t\t\tbreak;\n\t\tfallthrough;\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1250:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1800:\n\tcase CX23885_BOARD_HAUPPAUGE_IMPACTVCBE:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1800lp:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1700:\n\tcase CX23885_BOARD_LEADTEK_WINFAST_PXDVR3200_H:\n\tcase CX23885_BOARD_LEADTEK_WINFAST_PXPVR2200:\n\tcase CX23885_BOARD_LEADTEK_WINFAST_PXDVR3200_H_XC4000:\n\tcase CX23885_BOARD_COMPRO_VIDEOMATE_E650F:\n\tcase CX23885_BOARD_NETUP_DUAL_DVBS2_CI:\n\tcase CX23885_BOARD_NETUP_DUAL_DVB_T_C_CI_RF:\n\tcase CX23885_BOARD_COMPRO_VIDEOMATE_E800:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1255:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1255_22111:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1265_K4:\n\tcase CX23885_BOARD_HAUPPAUGE_QUADHD_DVB:\n\tcase CX23885_BOARD_HAUPPAUGE_QUADHD_ATSC:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1270:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1850:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR5525:\n\tcase CX23885_BOARD_MYGICA_X8506:\n\tcase CX23885_BOARD_MAGICPRO_PROHDTVE2:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1290:\n\tcase CX23885_BOARD_LEADTEK_WINFAST_PXTV1200:\n\tcase CX23885_BOARD_GOTVIEW_X5_3D_HYBRID:\n\tcase CX23885_BOARD_HAUPPAUGE_HVR1500:\n\tcase CX23885_BOARD_MPX885:\n\tcase CX23885_BOARD_MYGICA_X8507:\n\tcase CX23885_BOARD_TERRATEC_CINERGY_T_PCIE_DUAL:\n\tcase CX23885_BOARD_AVERMEDIA_HC81R:\n\tcase CX23885_BOARD_TBS_6980:\n\tcase CX23885_BOARD_TBS_6981:\n\tcase CX23885_BOARD_DVBSKY_T9580:\n\tcase CX23885_BOARD_DVBSKY_T980C:\n\tcase CX23885_BOARD_DVBSKY_S950C:\n\tcase CX23885_BOARD_TT_CT2_4500_CI:\n\tcase CX23885_BOARD_DVBSKY_S950:\n\tcase CX23885_BOARD_DVBSKY_S952:\n\tcase CX23885_BOARD_DVBSKY_T982:\n\tcase CX23885_BOARD_VIEWCAST_260E:\n\tcase CX23885_BOARD_VIEWCAST_460E:\n\tcase CX23885_BOARD_AVERMEDIA_CE310B:\n\t\tdev->sd_cx25840 = v4l2_i2c_new_subdev(&dev->v4l2_dev,\n\t\t\t\t&dev->i2c_bus[2].i2c_adap,\n\t\t\t\t\"cx25840\", 0x88 >> 1, NULL);\n\t\tif (dev->sd_cx25840) {\n\t\t\t \n\t\t\tv4l2_set_subdev_hostdata(dev->sd_cx25840,\n\t\t\t\t\t\t&dev->clk_freq);\n\n\t\t\tdev->sd_cx25840->grp_id = CX23885_HW_AV_CORE;\n\t\t\tv4l2_subdev_call(dev->sd_cx25840, core, load_fw);\n\t\t}\n\t\tbreak;\n\t}\n\n\tswitch (dev->board) {\n\tcase CX23885_BOARD_VIEWCAST_260E:\n\t\tv4l2_i2c_new_subdev(&dev->v4l2_dev,\n\t\t\t\t&dev->i2c_bus[0].i2c_adap,\n\t\t\t\t\"cs3308\", 0x82 >> 1, NULL);\n\t\tbreak;\n\tcase CX23885_BOARD_VIEWCAST_460E:\n\t\t \n\t\tv4l2_i2c_new_subdev(&dev->v4l2_dev,\n\t\t\t\t&dev->i2c_bus[0].i2c_adap,\n\t\t\t\t\"cs3308\", 0x80 >> 1, NULL);\n\t\t \n\t\tv4l2_i2c_new_subdev(&dev->v4l2_dev,\n\t\t\t\t&dev->i2c_bus[0].i2c_adap,\n\t\t\t\t\"cs3308\", 0x82 >> 1, NULL);\n\t\tbreak;\n\t}\n\n\t \n\tswitch (dev->board) {\n\tcase CX23885_BOARD_NETUP_DUAL_DVBS2_CI:\n\t\tnetup_initialize(dev);\n\t\tbreak;\n\tcase CX23885_BOARD_NETUP_DUAL_DVB_T_C_CI_RF: {\n\t\tint ret;\n\t\tconst struct firmware *fw;\n\t\tconst char *filename = \"dvb-netup-altera-01.fw\";\n\t\tchar *action = \"configure\";\n\t\tstatic struct netup_card_info cinfo;\n\t\tstruct altera_config netup_config = {\n\t\t\t.dev = dev,\n\t\t\t.action = action,\n\t\t\t.jtag_io = netup_jtag_io,\n\t\t};\n\n\t\tnetup_initialize(dev);\n\n\t\tnetup_get_card_info(&dev->i2c_bus[0].i2c_adap, &cinfo);\n\t\tif (netup_card_rev)\n\t\t\tcinfo.rev = netup_card_rev;\n\n\t\tswitch (cinfo.rev) {\n\t\tcase 0x4:\n\t\t\tfilename = \"dvb-netup-altera-04.fw\";\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tfilename = \"dvb-netup-altera-01.fw\";\n\t\t\tbreak;\n\t\t}\n\t\tpr_info(\"NetUP card rev=0x%x fw_filename=%s\\n\",\n\t\t\tcinfo.rev, filename);\n\n\t\tret = request_firmware(&fw, filename, &dev->pci->dev);\n\t\tif (ret != 0)\n\t\t\tpr_err(\"did not find the firmware file '%s'. You can use <kernel_dir>/scripts/get_dvb_firmware to get the firmware.\",\n\t\t\t       filename);\n\t\telse\n\t\t\taltera_init(&netup_config, fw);\n\n\t\trelease_firmware(fw);\n\t\tbreak;\n\t}\n\t}\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}