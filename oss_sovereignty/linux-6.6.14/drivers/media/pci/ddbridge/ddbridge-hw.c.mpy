{
  "module_name": "ddbridge-hw.c",
  "hash_id": "c8e17a897d01a32aa9811a118f590a0ea18e12ad1f50e49ddc4dc2cf9fe6edac",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/pci/ddbridge/ddbridge-hw.c",
  "human_readable_source": "\n \n\n#include \"ddbridge.h\"\n#include \"ddbridge-hw.h\"\n\n \n\nstatic const struct ddb_regset octopus_input = {\n\t.base = 0x200,\n\t.num  = 0x08,\n\t.size = 0x10,\n};\n\nstatic const struct ddb_regset octopus_output = {\n\t.base = 0x280,\n\t.num  = 0x08,\n\t.size = 0x10,\n};\n\nstatic const struct ddb_regset octopus_idma = {\n\t.base = 0x300,\n\t.num  = 0x08,\n\t.size = 0x10,\n};\n\nstatic const struct ddb_regset octopus_idma_buf = {\n\t.base = 0x2000,\n\t.num  = 0x08,\n\t.size = 0x100,\n};\n\nstatic const struct ddb_regset octopus_odma = {\n\t.base = 0x380,\n\t.num  = 0x04,\n\t.size = 0x10,\n};\n\nstatic const struct ddb_regset octopus_odma_buf = {\n\t.base = 0x2800,\n\t.num  = 0x04,\n\t.size = 0x100,\n};\n\nstatic const struct ddb_regset octopus_i2c = {\n\t.base = 0x80,\n\t.num  = 0x04,\n\t.size = 0x20,\n};\n\nstatic const struct ddb_regset octopus_i2c_buf = {\n\t.base = 0x1000,\n\t.num  = 0x04,\n\t.size = 0x200,\n};\n\n \n\nstatic const struct ddb_regmap octopus_map = {\n\t.irq_base_i2c = 0,\n\t.irq_base_idma = 8,\n\t.irq_base_odma = 16,\n\t.i2c = &octopus_i2c,\n\t.i2c_buf = &octopus_i2c_buf,\n\t.idma = &octopus_idma,\n\t.idma_buf = &octopus_idma_buf,\n\t.odma = &octopus_odma,\n\t.odma_buf = &octopus_odma_buf,\n\t.input = &octopus_input,\n\t.output = &octopus_output,\n};\n\n \n\nstatic const struct ddb_info ddb_none = {\n\t.type     = DDB_NONE,\n\t.name     = \"unknown Digital Devices PCIe card, install newer driver\",\n\t.regmap   = &octopus_map,\n};\n\nstatic const struct ddb_info ddb_octopus = {\n\t.type     = DDB_OCTOPUS,\n\t.name     = \"Digital Devices Octopus DVB adapter\",\n\t.regmap   = &octopus_map,\n\t.port_num = 4,\n\t.i2c_mask = 0x0f,\n};\n\nstatic const struct ddb_info ddb_octopusv3 = {\n\t.type     = DDB_OCTOPUS,\n\t.name     = \"Digital Devices Octopus V3 DVB adapter\",\n\t.regmap   = &octopus_map,\n\t.port_num = 4,\n\t.i2c_mask = 0x0f,\n};\n\nstatic const struct ddb_info ddb_octopus_le = {\n\t.type     = DDB_OCTOPUS,\n\t.name     = \"Digital Devices Octopus LE DVB adapter\",\n\t.regmap   = &octopus_map,\n\t.port_num = 2,\n\t.i2c_mask = 0x03,\n};\n\nstatic const struct ddb_info ddb_octopus_oem = {\n\t.type     = DDB_OCTOPUS,\n\t.name     = \"Digital Devices Octopus OEM\",\n\t.regmap   = &octopus_map,\n\t.port_num = 4,\n\t.i2c_mask = 0x0f,\n\t.led_num  = 1,\n\t.fan_num  = 1,\n\t.temp_num = 1,\n\t.temp_bus = 0,\n};\n\nstatic const struct ddb_info ddb_octopus_mini = {\n\t.type     = DDB_OCTOPUS,\n\t.name     = \"Digital Devices Octopus Mini\",\n\t.regmap   = &octopus_map,\n\t.port_num = 4,\n\t.i2c_mask = 0x0f,\n};\n\nstatic const struct ddb_info ddb_v6 = {\n\t.type     = DDB_OCTOPUS,\n\t.name     = \"Digital Devices Cine S2 V6 DVB adapter\",\n\t.regmap   = &octopus_map,\n\t.port_num = 3,\n\t.i2c_mask = 0x07,\n};\n\nstatic const struct ddb_info ddb_v6_5 = {\n\t.type     = DDB_OCTOPUS,\n\t.name     = \"Digital Devices Cine S2 V6.5 DVB adapter\",\n\t.regmap   = &octopus_map,\n\t.port_num = 4,\n\t.i2c_mask = 0x0f,\n};\n\nstatic const struct ddb_info ddb_v7 = {\n\t.type     = DDB_OCTOPUS,\n\t.name     = \"Digital Devices Cine S2 V7 DVB adapter\",\n\t.regmap   = &octopus_map,\n\t.port_num = 4,\n\t.i2c_mask = 0x0f,\n\t.board_control   = 2,\n\t.board_control_2 = 4,\n\t.ts_quirks = TS_QUIRK_REVERSED,\n};\n\nstatic const struct ddb_info ddb_v7a = {\n\t.type     = DDB_OCTOPUS,\n\t.name     = \"Digital Devices Cine S2 V7 Advanced DVB adapter\",\n\t.regmap   = &octopus_map,\n\t.port_num = 4,\n\t.i2c_mask = 0x0f,\n\t.board_control   = 2,\n\t.board_control_2 = 4,\n\t.ts_quirks = TS_QUIRK_REVERSED,\n};\n\nstatic const struct ddb_info ddb_ctv7 = {\n\t.type     = DDB_OCTOPUS,\n\t.name     = \"Digital Devices Cine CT V7 DVB adapter\",\n\t.regmap   = &octopus_map,\n\t.port_num = 4,\n\t.i2c_mask = 0x0f,\n\t.board_control   = 3,\n\t.board_control_2 = 4,\n};\n\nstatic const struct ddb_info ddb_satixs2v3 = {\n\t.type     = DDB_OCTOPUS,\n\t.name     = \"Mystique SaTiX-S2 V3 DVB adapter\",\n\t.regmap   = &octopus_map,\n\t.port_num = 3,\n\t.i2c_mask = 0x07,\n};\n\nstatic const struct ddb_info ddb_ci = {\n\t.type     = DDB_OCTOPUS_CI,\n\t.name     = \"Digital Devices Octopus CI\",\n\t.regmap   = &octopus_map,\n\t.port_num = 4,\n\t.i2c_mask = 0x03,\n};\n\nstatic const struct ddb_info ddb_cis = {\n\t.type     = DDB_OCTOPUS_CI,\n\t.name     = \"Digital Devices Octopus CI single\",\n\t.regmap   = &octopus_map,\n\t.port_num = 3,\n\t.i2c_mask = 0x03,\n};\n\nstatic const struct ddb_info ddb_ci_s2_pro = {\n\t.type     = DDB_OCTOPUS_CI,\n\t.name     = \"Digital Devices Octopus CI S2 Pro\",\n\t.regmap   = &octopus_map,\n\t.port_num = 4,\n\t.i2c_mask = 0x01,\n\t.board_control   = 2,\n\t.board_control_2 = 4,\n};\n\nstatic const struct ddb_info ddb_ci_s2_pro_a = {\n\t.type     = DDB_OCTOPUS_CI,\n\t.name     = \"Digital Devices Octopus CI S2 Pro Advanced\",\n\t.regmap   = &octopus_map,\n\t.port_num = 4,\n\t.i2c_mask = 0x01,\n\t.board_control   = 2,\n\t.board_control_2 = 4,\n};\n\nstatic const struct ddb_info ddb_dvbct = {\n\t.type     = DDB_OCTOPUS,\n\t.name     = \"Digital Devices DVBCT V6.1 DVB adapter\",\n\t.regmap   = &octopus_map,\n\t.port_num = 3,\n\t.i2c_mask = 0x07,\n};\n\n \n\nstatic const struct ddb_info ddb_ct2_8 = {\n\t.type     = DDB_OCTOPUS_MAX_CT,\n\t.name     = \"Digital Devices MAX A8 CT2\",\n\t.regmap   = &octopus_map,\n\t.port_num = 4,\n\t.i2c_mask = 0x0f,\n\t.board_control   = 0x0ff,\n\t.board_control_2 = 0xf00,\n\t.ts_quirks = TS_QUIRK_SERIAL,\n\t.tempmon_irq = 24,\n};\n\nstatic const struct ddb_info ddb_c2t2_8 = {\n\t.type     = DDB_OCTOPUS_MAX_CT,\n\t.name     = \"Digital Devices MAX A8 C2T2\",\n\t.regmap   = &octopus_map,\n\t.port_num = 4,\n\t.i2c_mask = 0x0f,\n\t.board_control   = 0x0ff,\n\t.board_control_2 = 0xf00,\n\t.ts_quirks = TS_QUIRK_SERIAL,\n\t.tempmon_irq = 24,\n};\n\nstatic const struct ddb_info ddb_isdbt_8 = {\n\t.type     = DDB_OCTOPUS_MAX_CT,\n\t.name     = \"Digital Devices MAX A8 ISDBT\",\n\t.regmap   = &octopus_map,\n\t.port_num = 4,\n\t.i2c_mask = 0x0f,\n\t.board_control   = 0x0ff,\n\t.board_control_2 = 0xf00,\n\t.ts_quirks = TS_QUIRK_SERIAL,\n\t.tempmon_irq = 24,\n};\n\nstatic const struct ddb_info ddb_c2t2i_v0_8 = {\n\t.type     = DDB_OCTOPUS_MAX_CT,\n\t.name     = \"Digital Devices MAX A8 C2T2I V0\",\n\t.regmap   = &octopus_map,\n\t.port_num = 4,\n\t.i2c_mask = 0x0f,\n\t.board_control   = 0x0ff,\n\t.board_control_2 = 0xf00,\n\t.ts_quirks = TS_QUIRK_SERIAL | TS_QUIRK_ALT_OSC,\n\t.tempmon_irq = 24,\n};\n\nstatic const struct ddb_info ddb_c2t2i_8 = {\n\t.type     = DDB_OCTOPUS_MAX_CT,\n\t.name     = \"Digital Devices MAX A8 C2T2I\",\n\t.regmap   = &octopus_map,\n\t.port_num = 4,\n\t.i2c_mask = 0x0f,\n\t.board_control   = 0x0ff,\n\t.board_control_2 = 0xf00,\n\t.ts_quirks = TS_QUIRK_SERIAL,\n\t.tempmon_irq = 24,\n};\n\n \n\nstatic const struct ddb_info ddb_s2_48 = {\n\t.type     = DDB_OCTOPUS_MAX,\n\t.name     = \"Digital Devices MAX S8 4/8\",\n\t.regmap   = &octopus_map,\n\t.port_num = 4,\n\t.i2c_mask = 0x01,\n\t.board_control = 1,\n\t.tempmon_irq = 24,\n};\n\nstatic const struct ddb_info ddb_s2x_48 = {\n\t.type     = DDB_OCTOPUS_MCI,\n\t.name     = \"Digital Devices MAX SX8\",\n\t.regmap   = &octopus_map,\n\t.port_num = 4,\n\t.i2c_mask = 0x00,\n\t.tempmon_irq = 24,\n\t.mci_ports = 4,\n\t.mci_type = 0,\n};\n\n \n \n \n\n#define DDB_DEVID(_device, _subdevice, _info) { \\\n\t.vendor = DDVID, \\\n\t.device = _device, \\\n\t.subvendor = DDVID, \\\n\t.subdevice = _subdevice, \\\n\t.info = &_info }\n\nstatic const struct ddb_device_id ddb_device_ids[] = {\n\t \n\tDDB_DEVID(0x0002, 0x0001, ddb_octopus),\n\tDDB_DEVID(0x0003, 0x0001, ddb_octopus),\n\tDDB_DEVID(0x0005, 0x0004, ddb_octopusv3),\n\tDDB_DEVID(0x0003, 0x0002, ddb_octopus_le),\n\tDDB_DEVID(0x0003, 0x0003, ddb_octopus_oem),\n\tDDB_DEVID(0x0003, 0x0010, ddb_octopus_mini),\n\tDDB_DEVID(0x0005, 0x0011, ddb_octopus_mini),\n\tDDB_DEVID(0x0003, 0x0020, ddb_v6),\n\tDDB_DEVID(0x0003, 0x0021, ddb_v6_5),\n\tDDB_DEVID(0x0006, 0x0022, ddb_v7),\n\tDDB_DEVID(0x0006, 0x0024, ddb_v7a),\n\tDDB_DEVID(0x0003, 0x0030, ddb_dvbct),\n\tDDB_DEVID(0x0003, 0xdb03, ddb_satixs2v3),\n\tDDB_DEVID(0x0006, 0x0031, ddb_ctv7),\n\tDDB_DEVID(0x0006, 0x0032, ddb_ctv7),\n\tDDB_DEVID(0x0006, 0x0033, ddb_ctv7),\n\tDDB_DEVID(0x0007, 0x0023, ddb_s2_48),\n\tDDB_DEVID(0x0008, 0x0034, ddb_ct2_8),\n\tDDB_DEVID(0x0008, 0x0035, ddb_c2t2_8),\n\tDDB_DEVID(0x0008, 0x0036, ddb_isdbt_8),\n\tDDB_DEVID(0x0008, 0x0037, ddb_c2t2i_v0_8),\n\tDDB_DEVID(0x0008, 0x0038, ddb_c2t2i_8),\n\tDDB_DEVID(0x0009, 0x0025, ddb_s2x_48),\n\tDDB_DEVID(0x0006, 0x0039, ddb_ctv7),\n\tDDB_DEVID(0x0011, 0x0040, ddb_ci),\n\tDDB_DEVID(0x0011, 0x0041, ddb_cis),\n\tDDB_DEVID(0x0012, 0x0042, ddb_ci),\n\tDDB_DEVID(0x0013, 0x0043, ddb_ci_s2_pro),\n\tDDB_DEVID(0x0013, 0x0044, ddb_ci_s2_pro_a),\n};\n\n \n\nconst struct ddb_info *get_ddb_info(u16 vendor, u16 device,\n\t\t\t\t    u16 subvendor, u16 subdevice)\n{\n\tint i;\n\n\tfor (i = 0; i < ARRAY_SIZE(ddb_device_ids); i++) {\n\t\tconst struct ddb_device_id *id = &ddb_device_ids[i];\n\n\t\tif (vendor == id->vendor &&\n\t\t    device == id->device &&\n\t\t    subvendor == id->subvendor &&\n\t\t    (subdevice == id->subdevice ||\n\t\t     id->subdevice == 0xffff))\n\t\t\treturn id->info;\n\t}\n\n\treturn &ddb_none;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}