{
  "module_name": "em28xx-cards.c",
  "hash_id": "71b46853b73b725b5f21a183e19b4451258278df090ccad384ed592d65e32f97",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/usb/em28xx/em28xx-cards.c",
  "human_readable_source": "\n\n\n\n\n\n\n\n\n\n\n#include \"em28xx.h\"\n\n#include <linux/init.h>\n#include <linux/module.h>\n#include <linux/slab.h>\n#include <linux/delay.h>\n#include <linux/i2c.h>\n#include <linux/usb.h>\n#include <media/tuner.h>\n#include <media/drv-intf/msp3400.h>\n#include <media/i2c/saa7115.h>\n#include <dt-bindings/media/tvp5150.h>\n#include <media/i2c/tvaudio.h>\n#include <media/tveeprom.h>\n#include <media/v4l2-common.h>\n#include <sound/ac97_codec.h>\n\n#define DRIVER_NAME         \"em28xx\"\n\nstatic int tuner = -1;\nmodule_param(tuner, int, 0444);\nMODULE_PARM_DESC(tuner, \"tuner type\");\n\nstatic unsigned int disable_ir;\nmodule_param(disable_ir, int, 0444);\nMODULE_PARM_DESC(disable_ir, \"disable infrared remote support\");\n\nstatic unsigned int disable_usb_speed_check;\nmodule_param(disable_usb_speed_check, int, 0444);\nMODULE_PARM_DESC(disable_usb_speed_check,\n\t\t \"override min bandwidth requirement of 480M bps\");\n\nstatic unsigned int card[]     = {[0 ... (EM28XX_MAXBOARDS - 1)] = -1U };\nmodule_param_array(card,  int, NULL, 0444);\nMODULE_PARM_DESC(card,     \"card type\");\n\nstatic int usb_xfer_mode = -1;\nmodule_param(usb_xfer_mode, int, 0444);\nMODULE_PARM_DESC(usb_xfer_mode,\n\t\t \"USB transfer mode for frame data (-1 = auto, 0 = prefer isoc, 1 = prefer bulk)\");\n\n \nstatic DECLARE_BITMAP(em28xx_devused, EM28XX_MAXBOARDS);\n\nstruct em28xx_hash_table {\n\tunsigned long hash;\n\tunsigned int  model;\n\tunsigned int  tuner;\n};\n\nstatic void em28xx_pre_card_setup(struct em28xx *dev);\n\n \n\n \nstatic const struct em28xx_reg_seq default_analog[] = {\n\t{EM2820_R08_GPIO_CTRL,\t0x6d,   ~EM_GPIO_4,\t10},\n\t{\t-1,\t\t-1,\t-1,\t\t-1},\n};\n\n \nstatic const struct em28xx_reg_seq default_digital[] = {\n\t{EM2820_R08_GPIO_CTRL,\t0x6e,\t~EM_GPIO_4,\t10},\n\t{\t-1,\t\t-1,\t-1,\t\t-1},\n};\n\n \nstatic struct em28xx_reg_seq zolid_tuner[] = {\n\t{EM2820_R08_GPIO_CTRL,\t\t0xfd,\t\t0xff,\t100},\n\t{EM2820_R08_GPIO_CTRL,\t\t0xfe,\t\t0xff,\t100},\n\t{\t\t-1,\t\t\t\t\t-1,\t\t\t-1,\t\t -1},\n};\n\nstatic struct em28xx_reg_seq zolid_digital[] = {\n\t{EM2820_R08_GPIO_CTRL,\t\t0x6a,\t\t0xff,\t100},\n\t{EM2820_R08_GPIO_CTRL,\t\t0x7a,\t\t0xff,\t100},\n\t{EM2880_R04_GPO,\t\t\t0x04,\t\t0xff,\t100},\n\t{EM2880_R04_GPO,\t\t\t0x0c,\t\t0xff,\t100},\n\t{\t-1,\t\t\t\t\t\t-1,\t\t\t-1,\t\t -1},\n};\n\n \nstatic const struct em28xx_reg_seq hauppauge_wintv_hvr_900_analog[] = {\n\t{EM2820_R08_GPIO_CTRL,\t0x2d,\t~EM_GPIO_4,\t10},\n\t{\t0x05,\t\t0xff,\t0x10,\t\t10},\n\t{\t-1,\t\t-1,\t-1,\t\t-1},\n};\n\n \nstatic const struct em28xx_reg_seq hauppauge_wintv_hvr_900_digital[] = {\n\t{EM2820_R08_GPIO_CTRL,\t0x2e,\t~EM_GPIO_4,\t10},\n\t{EM2880_R04_GPO,\t0x04,\t0x0f,\t\t10},\n\t{EM2880_R04_GPO,\t0x0c,\t0x0f,\t\t10},\n\t{\t-1,\t\t-1,\t-1,\t\t-1},\n};\n\n \nstatic const struct em28xx_reg_seq hauppauge_wintv_hvr_900R2_digital[] = {\n\t{EM2820_R08_GPIO_CTRL,\t0x2e,\t~EM_GPIO_4,\t10},\n\t{EM2880_R04_GPO,\t0x0c,\t0x0f,\t\t10},\n\t{\t-1,\t\t-1,\t-1,\t\t-1},\n};\n\n \nstatic const struct em28xx_reg_seq em2880_msi_digivox_ad_analog[] = {\n\t{EM2820_R08_GPIO_CTRL,\t0x69,   ~EM_GPIO_4,\t10},\n\t{\t-1,\t\t-1,\t-1,\t\t-1},\n};\n\n \nstatic const struct em28xx_reg_seq em2882_kworld_315u_digital[] = {\n\t{EM2820_R08_GPIO_CTRL,\t0xff,\t0xff,\t\t10},\n\t{EM2820_R08_GPIO_CTRL,\t0xfe,\t0xff,\t\t10},\n\t{EM2880_R04_GPO,\t0x04,\t0xff,\t\t10},\n\t{EM2880_R04_GPO,\t0x0c,\t0xff,\t\t10},\n\t{EM2820_R08_GPIO_CTRL,\t0x7e,\t0xff,\t\t10},\n\t{\t-1,\t\t-1,\t-1,\t\t-1},\n};\n\nstatic const struct em28xx_reg_seq em2882_kworld_315u_tuner_gpio[] = {\n\t{EM2880_R04_GPO,\t0x08,\t0xff,\t\t10},\n\t{EM2880_R04_GPO,\t0x0c,\t0xff,\t\t10},\n\t{EM2880_R04_GPO,\t0x08,\t0xff,\t\t10},\n\t{EM2880_R04_GPO,\t0x0c,\t0xff,\t\t10},\n\t{\t-1,\t\t-1,\t-1,\t\t-1},\n};\n\nstatic const struct em28xx_reg_seq kworld_330u_analog[] = {\n\t{EM2820_R08_GPIO_CTRL,\t0x6d,\t~EM_GPIO_4,\t10},\n\t{EM2880_R04_GPO,\t0x00,\t0xff,\t\t10},\n\t{\t-1,\t\t-1,\t-1,\t\t-1},\n};\n\nstatic const struct em28xx_reg_seq kworld_330u_digital[] = {\n\t{EM2820_R08_GPIO_CTRL,\t0x6e,\t~EM_GPIO_4,\t10},\n\t{EM2880_R04_GPO,\t0x08,\t0xff,\t\t10},\n\t{\t-1,\t\t-1,\t-1,\t\t-1},\n};\n\n \nstatic const struct em28xx_reg_seq evga_indtube_analog[] = {\n\t{EM2820_R08_GPIO_CTRL,\t0x79,   0xff,\t\t60},\n\t{\t-1,\t\t-1,\t-1,\t\t-1},\n};\n\nstatic const struct em28xx_reg_seq evga_indtube_digital[] = {\n\t{EM2820_R08_GPIO_CTRL,\t0x7a,\t0xff,\t\t 1},\n\t{EM2880_R04_GPO,\t0x04,\t0xff,\t\t10},\n\t{EM2880_R04_GPO,\t0x0c,\t0xff,\t\t 1},\n\t{\t-1,\t\t-1,\t-1,\t\t-1},\n};\n\n \nstatic const struct em28xx_reg_seq kworld_a340_digital[] = {\n\t{EM2820_R08_GPIO_CTRL,\t0x6d,\t~EM_GPIO_4,\t10},\n\t{\t-1,\t\t-1,\t-1,\t\t-1},\n};\n\nstatic const struct em28xx_reg_seq kworld_ub435q_v3_digital[] = {\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xff,\t0xff,\t100},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xfe,\t0xff,\t100},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xbe,\t0xff,\t100},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xfe,\t0xff,\t100},\n\t{\t-1,\t\t\t-1,\t-1,\t-1},\n};\n\n \nstatic const struct em28xx_reg_seq pinnacle_hybrid_pro_analog[] = {\n\t{EM2820_R08_GPIO_CTRL,\t0xfd,   ~EM_GPIO_4,\t10},\n\t{\t-1,\t\t-1,\t-1,\t\t-1},\n};\n\nstatic const struct em28xx_reg_seq pinnacle_hybrid_pro_digital[] = {\n\t{EM2820_R08_GPIO_CTRL,\t0x6e,\t~EM_GPIO_4,\t10},\n\t{EM2880_R04_GPO,\t0x04,\t0xff,\t       100}, \n\t{EM2880_R04_GPO,\t0x0c,\t0xff,\t\t 1},\n\t{\t-1,\t\t-1,\t-1,\t\t-1},\n};\n\nstatic const struct em28xx_reg_seq terratec_cinergy_USB_XS_FR_analog[] = {\n\t{EM2820_R08_GPIO_CTRL,\t0x6d,\t~EM_GPIO_4,\t10},\n\t{EM2880_R04_GPO,\t0x00,\t0xff,\t\t10},\n\t{\t-1,\t\t-1,\t-1,\t\t-1},\n};\n\nstatic const struct em28xx_reg_seq terratec_cinergy_USB_XS_FR_digital[] = {\n\t{EM2820_R08_GPIO_CTRL,\t0x6e,\t~EM_GPIO_4,\t10},\n\t{EM2880_R04_GPO,\t0x08,\t0xff,\t\t10},\n\t{\t-1,\t\t-1,\t-1,\t\t-1},\n};\n\n \nstatic const struct em28xx_reg_seq em2874_pctv_80e_digital[] = {\n\t{EM28XX_R06_I2C_CLK,    0x45,   0xff,\t\t  10},  \n\t{EM2874_R80_GPIO_P0_CTRL, 0x00,   0xff,\t\t  100}, \n\t{EM2874_R80_GPIO_P0_CTRL, 0x40,   0xff,\t\t  10},\n\t{  -1,\t\t\t-1,\t-1,\t\t  -1},\n};\n\n \nstatic const struct em28xx_reg_seq reddo_dvb_c_usb_box[] = {\n\t{EM2820_R08_GPIO_CTRL,\t0xfe,\t0xff,\t\t10},\n\t{EM2820_R08_GPIO_CTRL,\t0xde,\t0xff,\t\t10},\n\t{EM2820_R08_GPIO_CTRL,\t0xfe,\t0xff,\t\t10},\n\t{EM2820_R08_GPIO_CTRL,\t0xff,\t0xff,\t\t10},\n\t{EM2820_R08_GPIO_CTRL,\t0x7f,\t0xff,\t\t10},\n\t{EM2820_R08_GPIO_CTRL,\t0x6f,\t0xff,\t\t10},\n\t{EM2820_R08_GPIO_CTRL,\t0xff,\t0xff,\t\t10},\n\t{\t-1,\t\t-1,\t-1,\t\t-1},\n};\n\n \nstatic const struct em28xx_reg_seq default_tuner_gpio[] = {\n\t{EM2820_R08_GPIO_CTRL,\tEM_GPIO_4,\tEM_GPIO_4,\t10},\n\t{EM2820_R08_GPIO_CTRL,\t0,\t\tEM_GPIO_4,\t10},\n\t{EM2820_R08_GPIO_CTRL,\tEM_GPIO_4,\tEM_GPIO_4,\t10},\n\t{\t-1,\t\t-1,\t\t-1,\t\t-1},\n};\n\n \nstatic const struct em28xx_reg_seq compro_unmute_tv_gpio[] = {\n\t{EM2820_R08_GPIO_CTRL,\t5,\t7,\t10},\n\t{\t-1,\t\t-1,\t-1,\t-1},\n};\n\nstatic const struct em28xx_reg_seq compro_unmute_svid_gpio[] = {\n\t{EM2820_R08_GPIO_CTRL,\t4,\t7,\t10},\n\t{\t-1,\t\t-1,\t-1,\t-1},\n};\n\nstatic const struct em28xx_reg_seq compro_mute_gpio[] = {\n\t{EM2820_R08_GPIO_CTRL,\t6,\t7,\t10},\n\t{\t-1,\t\t-1,\t-1,\t-1},\n};\n\n \nstatic const struct em28xx_reg_seq terratec_av350_mute_gpio[] = {\n\t{EM2820_R08_GPIO_CTRL,\t0xff,\t0x7f,\t\t10},\n\t{\t-1,\t\t-1,\t-1,\t\t-1},\n};\n\nstatic const struct em28xx_reg_seq terratec_av350_unmute_gpio[] = {\n\t{EM2820_R08_GPIO_CTRL,\t0xff,\t0xff,\t\t10},\n\t{\t-1,\t\t-1,\t-1,\t\t-1},\n};\n\nstatic const struct em28xx_reg_seq silvercrest_reg_seq[] = {\n\t{EM2820_R08_GPIO_CTRL,\t0xff,\t0xff,\t\t10},\n\t{EM2820_R08_GPIO_CTRL,\t0x01,\t0xf7,\t\t10},\n\t{\t-1,\t\t-1,\t-1,\t\t-1},\n};\n\nstatic const struct em28xx_reg_seq vc211a_enable[] = {\n\t{EM2820_R08_GPIO_CTRL,\t0xff,\t0x07,\t\t10},\n\t{EM2820_R08_GPIO_CTRL,\t0xff,\t0x0f,\t\t10},\n\t{EM2820_R08_GPIO_CTRL,\t0xff,\t0x0b,\t\t10},\n\t{\t-1,\t\t-1,\t-1,\t\t-1},\n};\n\nstatic const struct em28xx_reg_seq dikom_dk300_digital[] = {\n\t{EM2820_R08_GPIO_CTRL,\t0x6e,\t~EM_GPIO_4,\t10},\n\t{EM2880_R04_GPO,\t0x08,\t0xff,\t\t10},\n\t{\t-1,\t\t-1,\t-1,\t\t-1},\n};\n\n \nstatic const struct em28xx_reg_seq leadership_digital[] = {\n\t{EM2874_R80_GPIO_P0_CTRL,\t0x70,\t0xff,\t10},\n\t{\t-1,\t\t\t-1,\t-1,\t-1},\n};\n\nstatic const struct em28xx_reg_seq leadership_reset[] = {\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xf0,\t0xff,\t10},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xb0,\t0xff,\t10},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xf0,\t0xff,\t10},\n\t{\t-1,\t\t\t-1,\t-1,\t-1},\n};\n\n \nstatic const struct em28xx_reg_seq pctv_290e[] = {\n\t{EM2874_R80_GPIO_P0_CTRL,\t0x00,\t0xff,\t80},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0x40,\t0xff,\t80},  \n\t{EM2874_R80_GPIO_P0_CTRL,\t0xc0,\t0xff,\t80},  \n\t{\t-1,\t\t\t-1,\t-1,\t-1},\n};\n\n#if 0\nstatic const struct em28xx_reg_seq terratec_h5_gpio[] = {\n\t{EM2820_R08_GPIO_CTRL,\t\t0xff,\t0xff,\t10},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xf6,\t0xff,\t100},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xf2,\t0xff,\t50},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xf6,\t0xff,\t50},\n\t{\t-1,\t\t\t-1,\t-1,\t-1},\n};\n\nstatic const struct em28xx_reg_seq terratec_h5_digital[] = {\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xf6,\t0xff,\t10},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xe6,\t0xff,\t100},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xa6,\t0xff,\t10},\n\t{\t-1,\t\t\t-1,\t-1,\t-1},\n};\n#endif\n\n \nstatic const struct em28xx_reg_seq pctv_460e[] = {\n\t{EM2874_R80_GPIO_P0_CTRL,\t0x01,\t0xff,\t50},\n\t{\t0x0d,\t\t\t0xff,\t0xff,\t50},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0x41,\t0xff,\t50},  \n\t{\t0x0d,\t\t\t0x42,\t0xff,\t50},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0x61,\t0xff,\t50},  \n\t{\t-1,\t\t\t-1,\t-1,\t-1},\n};\n\nstatic const struct em28xx_reg_seq c3tech_digital_duo_digital[] = {\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xff,\t0xff,\t10},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xfd,\t0xff,\t10},  \n\t{EM2874_R80_GPIO_P0_CTRL,\t0xf9,\t0xff,\t35},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xfd,\t0xff,\t10},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xff,\t0xff,\t10},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xfe,\t0xff,\t10},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xbe,\t0xff,\t10},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xfe,\t0xff,\t20},\n\t{\t-1,\t\t\t-1,\t-1,\t-1},\n};\n\n \nstatic const struct em28xx_reg_seq pctv_461e[] = {\n\t{EM2874_R80_GPIO_P0_CTRL,      0x7f, 0xff,    0},\n\t{0x0d,                 0xff, 0xff,    0},\n\t{EM2874_R80_GPIO_P0_CTRL,      0x3f, 0xff,  100},  \n\t{EM2874_R80_GPIO_P0_CTRL,      0x7f, 0xff,  200},  \n\t{0x0d,                 0x42, 0xff,    0},\n\t{EM2874_R80_GPIO_P0_CTRL,      0xeb, 0xff,    0},\n\t{EM2874_R5F_TS_ENABLE, 0x84, 0x84,    0},  \n\t{                  -1,   -1,   -1,   -1},\n};\n\n#if 0\nstatic const struct em28xx_reg_seq hauppauge_930c_gpio[] = {\n\t{EM2874_R80_GPIO_P0_CTRL,\t0x6f,\t0xff,\t10},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0x4f,\t0xff,\t10},  \n\t{EM2874_R80_GPIO_P0_CTRL,\t0x6f,\t0xff,\t10},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0x4f,\t0xff,\t10},\n\t{\t-1,\t\t\t-1,\t-1,\t-1},\n};\n\nstatic const struct em28xx_reg_seq hauppauge_930c_digital[] = {\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xf6,\t0xff,\t10},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xe6,\t0xff,\t100},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xa6,\t0xff,\t10},\n\t{\t-1,\t\t\t-1,\t-1,\t-1},\n};\n#endif\n\n \nstatic const struct em28xx_reg_seq maxmedia_ub425_tc[] = {\n\t{EM2874_R80_GPIO_P0_CTRL,\t0x83,\t0xff,\t100},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xc3,\t0xff,\t100},  \n\t{EM2874_R80_GPIO_P0_CTRL,\t0x43,\t0xff,\t000},  \n\t{\t-1,\t\t\t-1,\t-1,\t-1},\n};\n\n \nstatic const struct em28xx_reg_seq pctv_510e[] = {\n\t{EM2874_R80_GPIO_P0_CTRL,\t0x10,\t0xff,\t100},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0x14,\t0xff,\t100},  \n\t{EM2874_R80_GPIO_P0_CTRL,\t0x54,\t0xff,\t050},  \n\t{\t-1,\t\t\t-1,\t-1,\t-1},\n};\n\n \nstatic const struct em28xx_reg_seq pctv_520e[] = {\n\t{EM2874_R80_GPIO_P0_CTRL,\t0x10,\t0xff,\t100},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0x14,\t0xff,\t100},  \n\t{EM2874_R80_GPIO_P0_CTRL,\t0x54,\t0xff,\t050},  \n\t{EM2874_R80_GPIO_P0_CTRL,\t0xd4,\t0xff,\t000},  \n\t{\t-1,\t\t\t-1,\t-1,\t-1},\n};\n\n \nstatic const struct em28xx_reg_seq speedlink_vad_laplace_reg_seq[] = {\n\t{EM2820_R08_GPIO_CTRL,\t\t0xf7,\t0xff,\t10},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xff,\t0xb2,\t10},\n\t{\t-1,\t\t\t-1,\t-1,\t-1},\n};\n\nstatic const struct em28xx_reg_seq pctv_292e[] = {\n\t{EM2874_R80_GPIO_P0_CTRL,      0xff, 0xff,      0},\n\t{0x0d,                         0xff, 0xff,    950},\n\t{EM2874_R80_GPIO_P0_CTRL,      0xbd, 0xff,    100},\n\t{EM2874_R80_GPIO_P0_CTRL,      0xfd, 0xff,    410},\n\t{EM2874_R80_GPIO_P0_CTRL,      0x7d, 0xff,    300},\n\t{EM2874_R80_GPIO_P0_CTRL,      0x7c, 0xff,     60},\n\t{0x0d,                         0x42, 0xff,     50},\n\t{EM2874_R5F_TS_ENABLE,         0x85, 0xff,      0},\n\t{-1,                             -1,   -1,     -1},\n};\n\nstatic const struct em28xx_reg_seq terratec_t2_stick_hd[] = {\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xff,\t0xff,\t0},\n\t{0x0d,\t\t\t\t0xff,\t0xff,\t600},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xfc,\t0xff,\t10},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xbc,\t0xff,\t100},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xfc,\t0xff,\t100},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0x00,\t0xff,\t300},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xf8,\t0xff,\t100},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xfc,\t0xff,\t300},\n\t{0x0d,\t\t\t\t0x42,\t0xff,\t1000},\n\t{EM2874_R5F_TS_ENABLE,\t\t0x85,\t0xff,\t0},\n\t{-1,                             -1,   -1,     -1},\n};\n\nstatic const struct em28xx_reg_seq plex_px_bcud[] = {\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xff,\t0xff,\t0},\n\t{0x0d,\t\t\t\t0xff,\t0xff,\t0},\n\t{EM2874_R50_IR_CONFIG,\t\t0x01,\t0xff,\t0},\n\t{EM28XX_R06_I2C_CLK,\t\t0x40,\t0xff,\t0},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xfd,\t0xff,\t100},\n\t{EM28XX_R12_VINENABLE,\t\t0x20,\t0x20,\t0},\n\t{0x0d,\t\t\t\t0x42,\t0xff,\t1000},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xfc,\t0xff,\t10},\n\t{EM2874_R80_GPIO_P0_CTRL,\t0xfd,\t0xff,\t10},\n\t{0x73,\t\t\t\t0xfd,\t0xff,\t100},\n\t{-1,\t\t\t\t-1,\t-1,\t-1},\n};\n\n \nstatic const struct em28xx_reg_seq hauppauge_dualhd_dvb[] = {\n\t{EM2874_R80_GPIO_P0_CTRL,      0xff, 0xff,      0},\n\t{0x0d,                         0xff, 0xff,    200},\n\t{0x50,                         0x04, 0xff,    300},\n\t{EM2874_R80_GPIO_P0_CTRL,      0xbf, 0xff,    100},  \n\t{EM2874_R80_GPIO_P0_CTRL,      0xff, 0xff,    100},\n\t{EM2874_R80_GPIO_P0_CTRL,      0xdf, 0xff,    100},  \n\t{EM2874_R80_GPIO_P0_CTRL,      0xff, 0xff,    100},\n\t{EM2874_R5F_TS_ENABLE,         0x00, 0xff,     50},  \n\t{EM2874_R5D_TS1_PKT_SIZE,      0x05, 0xff,     50},\n\t{EM2874_R5E_TS2_PKT_SIZE,      0x05, 0xff,     50},\n\t{-1,                             -1,   -1,     -1},\n};\n\n \nstatic struct em28xx_reg_seq hauppauge_usb_quadhd_atsc_reg_seq[] = {\n\t{EM2874_R80_GPIO_P0_CTRL,      0xff, 0xff,      0},\n\t{0x0d,                         0xff, 0xff,    200},\n\t{0x50,                         0x04, 0xff,    300},\n\t{EM2874_R80_GPIO_P0_CTRL,      0xb0, 0xf0,    100},  \n\t{EM2874_R80_GPIO_P0_CTRL,      0xf0, 0xf0,    100},\n\t{EM2874_R80_GPIO_P0_CTRL,      0xd0, 0xf0,    100},  \n\t{EM2874_R80_GPIO_P0_CTRL,      0xf0, 0xf0,    100},\n\t{EM2874_R5F_TS_ENABLE,         0x44, 0xff,     50},\n\t{EM2874_R5D_TS1_PKT_SIZE,      0x05, 0xff,     50},\n\t{EM2874_R5E_TS2_PKT_SIZE,      0x05, 0xff,     50},\n\t{-1,                           -1,   -1,       -1},\n};\n\n \nstatic const struct em28xx_button std_snapshot_button[] = {\n\t{\n\t\t.role         = EM28XX_BUTTON_SNAPSHOT,\n\t\t.reg_r        = EM28XX_R0C_USBSUSP,\n\t\t.reg_clearing = EM28XX_R0C_USBSUSP,\n\t\t.mask         = EM28XX_R0C_USBSUSP_SNAPSHOT,\n\t\t.inverted     = 0,\n\t},\n\t{-1, 0, 0, 0, 0},\n};\n\nstatic const struct em28xx_button speedlink_vad_laplace_buttons[] = {\n\t{\n\t\t.role     = EM28XX_BUTTON_SNAPSHOT,\n\t\t.reg_r    = EM2874_R85_GPIO_P1_STATE,\n\t\t.mask     = 0x80,\n\t\t.inverted = 1,\n\t},\n\t{\n\t\t.role     = EM28XX_BUTTON_ILLUMINATION,\n\t\t.reg_r    = EM2874_R84_GPIO_P0_STATE,\n\t\t.mask     = 0x08,\n\t\t.inverted = 1,\n\t},\n\t{-1, 0, 0, 0, 0},\n};\n\n \nstatic struct em28xx_led speedlink_vad_laplace_leds[] = {\n\t{\n\t\t.role      = EM28XX_LED_ANALOG_CAPTURING,\n\t\t.gpio_reg  = EM2874_R80_GPIO_P0_CTRL,\n\t\t.gpio_mask = 0x01,\n\t\t.inverted  = 1,\n\t},\n\t{\n\t\t.role      = EM28XX_LED_ILLUMINATION,\n\t\t.gpio_reg  = EM2874_R80_GPIO_P0_CTRL,\n\t\t.gpio_mask = 0x40,\n\t\t.inverted  = 1,\n\t},\n\t{-1, 0, 0, 0},\n};\n\nstatic struct em28xx_led kworld_ub435q_v3_leds[] = {\n\t{\n\t\t.role      = EM28XX_LED_DIGITAL_CAPTURING,\n\t\t.gpio_reg  = EM2874_R80_GPIO_P0_CTRL,\n\t\t.gpio_mask = 0x80,\n\t\t.inverted  = 1,\n\t},\n\t{-1, 0, 0, 0},\n};\n\nstatic struct em28xx_led pctv_80e_leds[] = {\n\t{\n\t\t.role      = EM28XX_LED_DIGITAL_CAPTURING,\n\t\t.gpio_reg  = EM2874_R80_GPIO_P0_CTRL,\n\t\t.gpio_mask = 0x80,\n\t\t.inverted  = 0,\n\t},\n\t{-1, 0, 0, 0},\n};\n\nstatic struct em28xx_led terratec_grabby_leds[] = {\n\t{\n\t\t.role      = EM28XX_LED_ANALOG_CAPTURING,\n\t\t.gpio_reg  = EM2820_R08_GPIO_CTRL,\n\t\t.gpio_mask = EM_GPIO_3,\n\t\t.inverted  = 1,\n\t},\n\t{-1, 0, 0, 0},\n};\n\nstatic struct em28xx_led hauppauge_dualhd_leds[] = {\n\t{\n\t\t.role      = EM28XX_LED_DIGITAL_CAPTURING,\n\t\t.gpio_reg  = EM2874_R80_GPIO_P0_CTRL,\n\t\t.gpio_mask = EM_GPIO_1,\n\t\t.inverted  = 1,\n\t},\n\t{\n\t\t.role      = EM28XX_LED_DIGITAL_CAPTURING_TS2,\n\t\t.gpio_reg  = EM2874_R80_GPIO_P0_CTRL,\n\t\t.gpio_mask = EM_GPIO_3,\n\t\t.inverted  = 1,\n\t},\n\t{-1, 0, 0, 0},\n};\n\nstatic struct em28xx_led hauppauge_usb_quadhd_leds[] = {\n\t{\n\t\t.role      = EM28XX_LED_DIGITAL_CAPTURING,\n\t\t.gpio_reg  = EM2874_R80_GPIO_P0_CTRL,\n\t\t.gpio_mask = EM_GPIO_2,\n\t\t.inverted  = 1,\n\t},\n\t{\n\t\t.role      = EM28XX_LED_DIGITAL_CAPTURING_TS2,\n\t\t.gpio_reg  = EM2874_R80_GPIO_P0_CTRL,\n\t\t.gpio_mask = EM_GPIO_0,\n\t\t.inverted  = 1,\n\t},\n\t{-1, 0, 0, 0},\n};\n\n \nconst struct em28xx_board em28xx_boards[] = {\n\t[EM2750_BOARD_UNKNOWN] = {\n\t\t.name          = \"EM2710/EM2750/EM2751 webcam grabber\",\n\t\t.xclk          = EM28XX_XCLK_FREQUENCY_20MHZ,\n\t\t.tuner_type    = TUNER_ABSENT,\n\t\t.is_webcam     = 1,\n\t\t.input         = { {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = 0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = silvercrest_reg_seq,\n\t\t} },\n\t},\n\t[EM2800_BOARD_UNKNOWN] = {\n\t\t.name         = \"Unknown EM2800 video grabber\",\n\t\t.is_em2800    = 1,\n\t\t.tda9887_conf = TDA9887_PRESENT,\n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.tuner_type   = TUNER_ABSENT,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2820_BOARD_UNKNOWN] = {\n\t\t.name          = \"Unknown EM2750/28xx video grabber\",\n\t\t.tuner_type    = TUNER_ABSENT,\n\t\t.is_webcam     = 1,\t \n\t},\n\t[EM2882_BOARD_ZOLID_HYBRID_TV_STICK] = {\n\t\t.name\t\t\t= \":ZOLID HYBRID TV STICK\",\n\t\t.tuner_type\t\t= TUNER_XC2028,\n\t\t.tuner_gpio\t\t= zolid_tuner,\n\t\t.decoder\t\t= EM28XX_TVP5150,\n\t\t.xclk\t\t\t= EM28XX_XCLK_FREQUENCY_12MHZ,\n\t\t.mts_firmware\t= 1,\n\t\t.has_dvb\t\t= 1,\n\t\t.dvb_gpio\t\t= zolid_digital,\n\t},\n\t[EM2750_BOARD_DLCW_130] = {\n\t\t \n\t\t.name          = \"Huaqi DLCW-130\",\n\t\t.valid         = EM28XX_BOARD_NOT_VALIDATED,\n\t\t.xclk          = EM28XX_XCLK_FREQUENCY_48MHZ,\n\t\t.tuner_type    = TUNER_ABSENT,\n\t\t.is_webcam     = 1,\n\t\t.input         = { {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = 0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t} },\n\t},\n\t[EM2820_BOARD_KWORLD_PVRTV2800RF] = {\n\t\t.name         = \"Kworld PVR TV 2800 RF\",\n\t\t.tuner_type   = TUNER_TEMIC_PAL,\n\t\t.tda9887_conf = TDA9887_PRESENT,\n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2820_BOARD_GADMEI_TVR200] = {\n\t\t.name         = \"Gadmei TVR200\",\n\t\t.tuner_type   = TUNER_LG_PAL_NEW_TAPC,\n\t\t.tda9887_conf = TDA9887_PRESENT,\n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = SAA7115_COMPOSITE2,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2820_BOARD_TERRATEC_CINERGY_250] = {\n\t\t.name         = \"Terratec Cinergy 250 USB\",\n\t\t.tuner_type   = TUNER_LG_PAL_NEW_TAPC,\n\t\t.has_ir_i2c   = 1,\n\t\t.tda9887_conf = TDA9887_PRESENT,\n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = SAA7115_COMPOSITE2,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2820_BOARD_PINNACLE_USB_2] = {\n\t\t.name         = \"Pinnacle PCTV USB 2\",\n\t\t.tuner_type   = TUNER_LG_PAL_NEW_TAPC,\n\t\t.has_ir_i2c   = 1,\n\t\t.tda9887_conf = TDA9887_PRESENT,\n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = SAA7115_COMPOSITE2,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2820_BOARD_HAUPPAUGE_WINTV_USB_2] = {\n\t\t.name         = \"Hauppauge WinTV USB 2\",\n\t\t.tuner_type   = TUNER_PHILIPS_FM1236_MK3,\n\t\t.tda9887_conf = TDA9887_PRESENT |\n\t\t\t\tTDA9887_PORT1_ACTIVE |\n\t\t\t\tTDA9887_PORT2_ACTIVE,\n\t\t.decoder      = EM28XX_TVP5150,\n\t\t.has_msp34xx  = 1,\n\t\t.has_ir_i2c   = 1,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = MSP_INPUT_DEFAULT,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = MSP_INPUT(MSP_IN_SCART1, MSP_IN_TUNER1,\n\t\t\t\t\tMSP_DSP_IN_SCART, MSP_DSP_IN_SCART),\n\t\t} },\n\t},\n\t[EM2820_BOARD_DLINK_USB_TV] = {\n\t\t.name         = \"D-Link DUB-T210 TV Tuner\",\n\t\t.valid        = EM28XX_BOARD_NOT_VALIDATED,\n\t\t.tuner_type   = TUNER_LG_PAL_NEW_TAPC,\n\t\t.tda9887_conf = TDA9887_PRESENT,\n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = SAA7115_COMPOSITE2,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2820_BOARD_HERCULES_SMART_TV_USB2] = {\n\t\t.name         = \"Hercules Smart TV USB 2.0\",\n\t\t.valid        = EM28XX_BOARD_NOT_VALIDATED,\n\t\t.tuner_type   = TUNER_LG_PAL_NEW_TAPC,\n\t\t.tda9887_conf = TDA9887_PRESENT,\n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = SAA7115_COMPOSITE2,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2820_BOARD_PINNACLE_USB_2_FM1216ME] = {\n\t\t.name         = \"Pinnacle PCTV USB 2 (Philips FM1216ME)\",\n\t\t.valid        = EM28XX_BOARD_NOT_VALIDATED,\n\t\t.tuner_type   = TUNER_PHILIPS_FM1216ME_MK3,\n\t\t.tda9887_conf = TDA9887_PRESENT,\n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = SAA7115_COMPOSITE2,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2820_BOARD_GADMEI_UTV310] = {\n\t\t.name         = \"Gadmei UTV310\",\n\t\t.valid        = EM28XX_BOARD_NOT_VALIDATED,\n\t\t.tuner_type   = TUNER_TNF_5335MF,\n\t\t.tda9887_conf = TDA9887_PRESENT,\n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = SAA7115_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2820_BOARD_LEADTEK_WINFAST_USBII_DELUXE] = {\n\t\t.name         = \"Leadtek Winfast USB II Deluxe\",\n\t\t.valid        = EM28XX_BOARD_NOT_VALIDATED,\n\t\t.tuner_type   = TUNER_PHILIPS_FM1216ME_MK3,\n\t\t.has_ir_i2c   = 1,\n\t\t.tvaudio_addr = 0x58,\n\t\t.tda9887_conf = TDA9887_PRESENT |\n\t\t\t\tTDA9887_PORT2_ACTIVE |\n\t\t\t\tTDA9887_QSS,\n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.adecoder     = EM28XX_TVAUDIO,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = SAA7115_COMPOSITE4,\n\t\t\t.amux     = EM28XX_AMUX_AUX,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE5,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t\t\t.radio\t  = {\n\t\t\t.type     = EM28XX_RADIO,\n\t\t\t.amux     = EM28XX_AMUX_AUX,\n\t\t\t}\n\t},\n\t[EM2820_BOARD_VIDEOLOGY_20K14XUSB] = {\n\t\t.name         = \"Videology 20K14XUSB USB2.0\",\n\t\t.valid        = EM28XX_BOARD_NOT_VALIDATED,\n\t\t.tuner_type   = TUNER_ABSENT,\n\t\t.is_webcam    = 1,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = 0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t} },\n\t},\n\t[EM2820_BOARD_SILVERCREST_WEBCAM] = {\n\t\t.name         = \"Silvercrest Webcam 1.3mpix\",\n\t\t.tuner_type   = TUNER_ABSENT,\n\t\t.is_webcam    = 1,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = 0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = silvercrest_reg_seq,\n\t\t} },\n\t},\n\t[EM2821_BOARD_SUPERCOMP_USB_2] = {\n\t\t.name         = \"Supercomp USB 2.0 TV\",\n\t\t.valid        = EM28XX_BOARD_NOT_VALIDATED,\n\t\t.tuner_type   = TUNER_PHILIPS_FM1236_MK3,\n\t\t.tda9887_conf = TDA9887_PRESENT |\n\t\t\t\tTDA9887_PORT1_ACTIVE |\n\t\t\t\tTDA9887_PORT2_ACTIVE,\n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = SAA7115_COMPOSITE2,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2821_BOARD_USBGEAR_VD204] = {\n\t\t.name         = \"Usbgear VD204v9\",\n\t\t.valid        = EM28XX_BOARD_NOT_VALIDATED,\n\t\t.tuner_type   = TUNER_ABSENT,\t \n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.input        = { {\n\t\t\t.type  = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux  = SAA7115_COMPOSITE0,\n\t\t\t.amux  = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type  = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux  = SAA7115_SVIDEO3,\n\t\t\t.amux  = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2860_BOARD_NETGMBH_CAM] = {\n\t\t \n\t\t.name         = \"NetGMBH Cam\",\n\t\t.valid        = EM28XX_BOARD_NOT_VALIDATED,\n\t\t.tuner_type   = TUNER_ABSENT,\n\t\t.is_webcam    = 1,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = 0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t} },\n\t},\n\t[EM2860_BOARD_TYPHOON_DVD_MAKER] = {\n\t\t.name         = \"Typhoon DVD Maker\",\n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.tuner_type   = TUNER_ABSENT,\t \n\t\t.input        = { {\n\t\t\t.type  = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux  = SAA7115_COMPOSITE0,\n\t\t\t.amux  = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type  = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux  = SAA7115_SVIDEO3,\n\t\t\t.amux  = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2860_BOARD_GADMEI_UTV330] = {\n\t\t.name         = \"Gadmei UTV330\",\n\t\t.valid        = EM28XX_BOARD_NOT_VALIDATED,\n\t\t.tuner_type   = TUNER_TNF_5335MF,\n\t\t.tda9887_conf = TDA9887_PRESENT,\n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = SAA7115_COMPOSITE2,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2861_BOARD_GADMEI_UTV330PLUS] = {\n\t\t.name         = \"Gadmei UTV330+\",\n\t\t.tuner_type   = TUNER_TNF_5335MF,\n\t\t.tda9887_conf = TDA9887_PRESENT,\n\t\t.ir_codes     = RC_MAP_GADMEI_RM008Z,\n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.xclk         = EM28XX_XCLK_FREQUENCY_12MHZ,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = SAA7115_COMPOSITE2,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2860_BOARD_TERRATEC_HYBRID_XS] = {\n\t\t.name         = \"Terratec Cinergy A Hybrid XS\",\n\t\t.valid        = EM28XX_BOARD_NOT_VALIDATED,\n\t\t.tuner_type   = TUNER_XC2028,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t\t.decoder      = EM28XX_TVP5150,\n\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t} },\n\t},\n\t[EM2861_BOARD_KWORLD_PVRTV_300U] = {\n\t\t.name\t      = \"KWorld PVRTV 300U\",\n\t\t.valid        = EM28XX_BOARD_NOT_VALIDATED,\n\t\t.tuner_type   = TUNER_XC2028,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t\t.decoder      = EM28XX_TVP5150,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2861_BOARD_YAKUMO_MOVIE_MIXER] = {\n\t\t.name          = \"Yakumo MovieMixer\",\n\t\t.tuner_type    = TUNER_ABSENT,\t \n\t\t.decoder       = EM28XX_TVP5150,\n\t\t.input         = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2860_BOARD_TVP5150_REFERENCE_DESIGN] = {\n\t\t.name          = \"EM2860/TVP5150 Reference Design\",\n\t\t.tuner_type    = TUNER_ABSENT,\t \n\t\t.decoder       = EM28XX_TVP5150,\n\t\t.input         = { {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2861_BOARD_PLEXTOR_PX_TV100U] = {\n\t\t.name         = \"Plextor ConvertX PX-TV100U\",\n\t\t.tuner_type   = TUNER_TNF_5335MF,\n\t\t.xclk         = EM28XX_XCLK_I2S_MSB_TIMING |\n\t\t\t\tEM28XX_XCLK_FREQUENCY_12MHZ,\n\t\t.tda9887_conf = TDA9887_PRESENT,\n\t\t.decoder      = EM28XX_TVP5150,\n\t\t.has_msp34xx  = 1,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = pinnacle_hybrid_pro_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = pinnacle_hybrid_pro_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = pinnacle_hybrid_pro_analog,\n\t\t} },\n\t},\n\n\t \n\n\t[EM2870_BOARD_TERRATEC_XS] = {\n\t\t.name         = \"Terratec Cinergy T XS\",\n\t\t.valid        = EM28XX_BOARD_NOT_VALIDATED,\n\t\t.tuner_type   = TUNER_XC2028,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t},\n\t[EM2870_BOARD_TERRATEC_XS_MT2060] = {\n\t\t.name         = \"Terratec Cinergy T XS (MT2060)\",\n\t\t.xclk         = EM28XX_XCLK_IR_RC5_MODE |\n\t\t\t\tEM28XX_XCLK_FREQUENCY_12MHZ,\n\t\t.i2c_speed    = EM28XX_I2C_CLK_WAIT_ENABLE,\n\t\t.tuner_type   = TUNER_ABSENT,  \n\t\t.has_dvb      = 1,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t},\n\t[EM2870_BOARD_KWORLD_350U] = {\n\t\t.name         = \"Kworld 350 U DVB-T\",\n\t\t.valid        = EM28XX_BOARD_NOT_VALIDATED,\n\t\t.tuner_type   = TUNER_XC2028,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t},\n\t[EM2870_BOARD_KWORLD_355U] = {\n\t\t.name         = \"Kworld 355 U DVB-T\",\n\t\t.valid        = EM28XX_BOARD_NOT_VALIDATED,\n\t\t.tuner_type   = TUNER_ABSENT,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t\t.has_dvb      = 1,\n\t\t.dvb_gpio     = default_digital,\n\t},\n\t[EM2870_BOARD_PINNACLE_PCTV_DVB] = {\n\t\t.name         = \"Pinnacle PCTV DVB-T\",\n\t\t.valid        = EM28XX_BOARD_NOT_VALIDATED,\n\t\t.tuner_type   = TUNER_ABSENT,  \n\t\t \n\t\t.xclk         = EM28XX_XCLK_IR_RC5_MODE |\n\t\t\t\tEM28XX_XCLK_FREQUENCY_10MHZ,\n\t},\n\t[EM2870_BOARD_COMPRO_VIDEOMATE] = {\n\t\t.name         = \"Compro, VideoMate U3\",\n\t\t.valid        = EM28XX_BOARD_NOT_VALIDATED,\n\t\t.tuner_type   = TUNER_ABSENT,  \n\t},\n\n\t[EM2880_BOARD_TERRATEC_HYBRID_XS_FR] = {\n\t\t.name         = \"Terratec Hybrid XS Secam\",\n\t\t.has_msp34xx  = 1,\n\t\t.tuner_type   = TUNER_XC2028,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t\t.decoder      = EM28XX_TVP5150,\n\t\t.has_dvb      = 1,\n\t\t.dvb_gpio     = terratec_cinergy_USB_XS_FR_digital,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = terratec_cinergy_USB_XS_FR_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = terratec_cinergy_USB_XS_FR_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = terratec_cinergy_USB_XS_FR_analog,\n\t\t} },\n\t},\n\t[EM2884_BOARD_TERRATEC_H5] = {\n\t\t.name         = \"Terratec Cinergy H5\",\n\t\t.has_dvb      = 1,\n#if 0\n\t\t.tuner_type   = TUNER_PHILIPS_TDA8290,\n\t\t.tuner_addr   = 0x41,\n\t\t.dvb_gpio     = terratec_h5_digital,  \n\t\t.tuner_gpio   = terratec_h5_gpio,\n#else\n\t\t.tuner_type   = TUNER_ABSENT,\n#endif\n\t\t.def_i2c_bus  = 1,\n\t\t.i2c_speed    = EM28XX_I2C_CLK_WAIT_ENABLE |\n\t\t\t\tEM28XX_I2C_FREQ_400_KHZ,\n\t},\n\t[EM2884_BOARD_TERRATEC_H6] = {\n\t\t.name         = \"Terratec Cinergy H6 rev. 2\",\n\t\t.has_dvb      = 1,\n\t\t.ir_codes     = RC_MAP_NEC_TERRATEC_CINERGY_XS,\n#if 0\n\t\t.tuner_type   = TUNER_PHILIPS_TDA8290,\n\t\t.tuner_addr   = 0x41,\n\t\t.dvb_gpio     = terratec_h5_digital,  \n\t\t.tuner_gpio   = terratec_h5_gpio,\n#else\n\t\t.tuner_type   = TUNER_ABSENT,\n#endif\n\t\t.def_i2c_bus  = 1,\n\t\t.i2c_speed    = EM28XX_I2C_CLK_WAIT_ENABLE |\n\t\t\t\tEM28XX_I2C_FREQ_400_KHZ,\n\t},\n\t[EM2884_BOARD_HAUPPAUGE_WINTV_HVR_930C] = {\n\t\t.name         = \"Hauppauge WinTV HVR 930C\",\n\t\t.has_dvb      = 1,\n#if 0  \n\t\t.tuner_type   = TUNER_XC5000,\n\t\t.tuner_addr   = 0x41,\n\t\t.dvb_gpio     = hauppauge_930c_digital,\n\t\t.tuner_gpio   = hauppauge_930c_gpio,\n#else\n\t\t.tuner_type   = TUNER_ABSENT,\n#endif\n\t\t.ir_codes     = RC_MAP_HAUPPAUGE,\n\t\t.def_i2c_bus  = 1,\n\t\t.i2c_speed    = EM28XX_I2C_CLK_WAIT_ENABLE |\n\t\t\t\tEM28XX_I2C_FREQ_400_KHZ,\n\t},\n\t[EM2884_BOARD_C3TECH_DIGITAL_DUO] = {\n\t\t.name         = \"C3 Tech Digital Duo HDTV/SDTV USB\",\n\t\t.has_dvb      = 1,\n\t\t \n\t\t.tuner_type = TUNER_ABSENT,\t \n\t\t.ir_codes     = RC_MAP_EMPTY,\n\t\t.def_i2c_bus  = 1,\n\t\t.i2c_speed    = EM28XX_I2C_CLK_WAIT_ENABLE,\n\t\t.dvb_gpio     = c3tech_digital_duo_digital,\n\t},\n\t[EM2884_BOARD_CINERGY_HTC_STICK] = {\n\t\t.name         = \"Terratec Cinergy HTC Stick\",\n\t\t.has_dvb      = 1,\n\t\t.ir_codes     = RC_MAP_NEC_TERRATEC_CINERGY_XS,\n\t\t.tuner_type   = TUNER_ABSENT,\n\t\t.def_i2c_bus  = 1,\n\t\t.i2c_speed    = EM28XX_I2C_CLK_WAIT_ENABLE |\n\t\t\t\tEM28XX_I2C_FREQ_400_KHZ,\n\t},\n\t[EM2884_BOARD_ELGATO_EYETV_HYBRID_2008] = {\n\t\t.name         = \"Elgato EyeTV Hybrid 2008 INT\",\n\t\t.has_dvb      = 1,\n\t\t.ir_codes     = RC_MAP_NEC_TERRATEC_CINERGY_XS,\n\t\t.tuner_type   = TUNER_ABSENT,\n\t\t.def_i2c_bus  = 1,\n\t\t.i2c_speed    = EM28XX_I2C_CLK_WAIT_ENABLE |\n\t\t\t\tEM28XX_I2C_FREQ_400_KHZ,\n\t},\n\t[EM2880_BOARD_HAUPPAUGE_WINTV_HVR_900] = {\n\t\t.name         = \"Hauppauge WinTV HVR 900\",\n\t\t.tda9887_conf = TDA9887_PRESENT,\n\t\t.tuner_type   = TUNER_XC2028,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t\t.mts_firmware = 1,\n\t\t.has_dvb      = 1,\n\t\t.dvb_gpio     = hauppauge_wintv_hvr_900_digital,\n\t\t.ir_codes     = RC_MAP_HAUPPAUGE,\n\t\t.decoder      = EM28XX_TVP5150,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t} },\n\t},\n\t[EM2880_BOARD_HAUPPAUGE_WINTV_HVR_900_R2] = {\n\t\t.name         = \"Hauppauge WinTV HVR 900 (R2)\",\n\t\t.tda9887_conf = TDA9887_PRESENT,\n\t\t.tuner_type   = TUNER_XC2028,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t\t.mts_firmware = 1,\n\t\t.has_dvb      = 1,\n\t\t.dvb_gpio     = hauppauge_wintv_hvr_900R2_digital,\n\t\t.ir_codes     = RC_MAP_HAUPPAUGE,\n\t\t.decoder      = EM28XX_TVP5150,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t} },\n\t},\n\t[EM2883_BOARD_HAUPPAUGE_WINTV_HVR_850] = {\n\t\t.name           = \"Hauppauge WinTV HVR 850\",\n\t\t.tuner_type     = TUNER_XC2028,\n\t\t.tuner_gpio     = default_tuner_gpio,\n\t\t.mts_firmware   = 1,\n\t\t.has_dvb        = 1,\n\t\t.dvb_gpio       = hauppauge_wintv_hvr_900_digital,\n\t\t.ir_codes       = RC_MAP_HAUPPAUGE,\n\t\t.decoder        = EM28XX_TVP5150,\n\t\t.input          = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t} },\n\t},\n\t[EM2883_BOARD_HAUPPAUGE_WINTV_HVR_950] = {\n\t\t.name           = \"Hauppauge WinTV HVR 950\",\n\t\t.tuner_type     = TUNER_XC2028,\n\t\t.tuner_gpio     = default_tuner_gpio,\n\t\t.mts_firmware   = 1,\n\t\t.has_dvb        = 1,\n\t\t.dvb_gpio       = hauppauge_wintv_hvr_900_digital,\n\t\t.ir_codes       = RC_MAP_HAUPPAUGE,\n\t\t.decoder        = EM28XX_TVP5150,\n\t\t.input          = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t} },\n\t},\n\t[EM2880_BOARD_PINNACLE_PCTV_HD_PRO] = {\n\t\t.name           = \"Pinnacle PCTV HD Pro Stick\",\n\t\t.tuner_type     = TUNER_XC2028,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t\t.mts_firmware   = 1,\n\t\t.has_dvb        = 1,\n\t\t.dvb_gpio       = hauppauge_wintv_hvr_900_digital,\n\t\t.ir_codes       = RC_MAP_PINNACLE_PCTV_HD,\n\t\t.decoder        = EM28XX_TVP5150,\n\t\t.input          = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t} },\n\t},\n\t[EM2880_BOARD_AMD_ATI_TV_WONDER_HD_600] = {\n\t\t.name           = \"AMD ATI TV Wonder HD 600\",\n\t\t.tuner_type     = TUNER_XC2028,\n\t\t.tuner_gpio     = default_tuner_gpio,\n\t\t.mts_firmware   = 1,\n\t\t.has_dvb        = 1,\n\t\t.dvb_gpio       = hauppauge_wintv_hvr_900_digital,\n\t\t.ir_codes       = RC_MAP_ATI_TV_WONDER_HD_600,\n\t\t.decoder        = EM28XX_TVP5150,\n\t\t.input          = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t} },\n\t},\n\t[EM2880_BOARD_TERRATEC_HYBRID_XS] = {\n\t\t.name           = \"Terratec Hybrid XS\",\n\t\t.tuner_type     = TUNER_XC2028,\n\t\t.tuner_gpio     = default_tuner_gpio,\n\t\t.decoder        = EM28XX_TVP5150,\n\t\t.has_dvb        = 1,\n\t\t.dvb_gpio       = default_digital,\n\t\t.ir_codes       = RC_MAP_TERRATEC_CINERGY_XS,\n\t\t.xclk           = EM28XX_XCLK_FREQUENCY_12MHZ,  \n\t\t.input          = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = default_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = default_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = default_analog,\n\t\t} },\n\t},\n\t \n\t[EM2880_BOARD_TERRATEC_PRODIGY_XS] = {\n\t\t.name         = \"Terratec Prodigy XS\",\n\t\t.tuner_type   = TUNER_XC2028,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t\t.decoder      = EM28XX_TVP5150,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t} },\n\t},\n\t[EM2820_BOARD_MSI_VOX_USB_2] = {\n\t\t.name\t\t   = \"MSI VOX USB 2.0\",\n\t\t.tuner_type\t   = TUNER_LG_PAL_NEW_TAPC,\n\t\t.tda9887_conf\t   = TDA9887_PRESENT      |\n\t\t\t\t     TDA9887_PORT1_ACTIVE |\n\t\t\t\t     TDA9887_PORT2_ACTIVE,\n\t\t.max_range_640_480 = 1,\n\t\t.decoder           = EM28XX_SAA711X,\n\t\t.input             = { {\n\t\t\t.type      = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux      = SAA7115_COMPOSITE4,\n\t\t\t.amux      = EM28XX_AMUX_VIDEO,\n\t\t}, {\n\t\t\t.type      = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux      = SAA7115_COMPOSITE0,\n\t\t\t.amux      = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type      = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux      = SAA7115_SVIDEO3,\n\t\t\t.amux      = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2800_BOARD_TERRATEC_CINERGY_200] = {\n\t\t.name         = \"Terratec Cinergy 200 USB\",\n\t\t.is_em2800    = 1,\n\t\t.has_ir_i2c   = 1,\n\t\t.tuner_type   = TUNER_LG_TALN,\n\t\t.tda9887_conf = TDA9887_PRESENT,\n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = SAA7115_COMPOSITE2,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2800_BOARD_GRABBEEX_USB2800] = {\n\t\t.name       = \"eMPIA Technology, Inc. GrabBeeX+ Video Encoder\",\n\t\t.is_em2800  = 1,\n\t\t.decoder    = EM28XX_SAA711X,\n\t\t.tuner_type = TUNER_ABSENT,  \n\t\t.input      = { {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2800_BOARD_VC211A] = {\n\t\t.name         = \"Actionmaster/LinXcel/Digitus VC211A\",\n\t\t.is_em2800    = 1,\n\t\t.tuner_type   = TUNER_ABSENT,\t \n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = vc211a_enable,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = vc211a_enable,\n\t\t} },\n\t},\n\t[EM2800_BOARD_LEADTEK_WINFAST_USBII] = {\n\t\t.name         = \"Leadtek Winfast USB II\",\n\t\t.is_em2800    = 1,\n\t\t.tuner_type   = TUNER_LG_PAL_NEW_TAPC,\n\t\t.tda9887_conf = TDA9887_PRESENT,\n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = SAA7115_COMPOSITE2,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2800_BOARD_KWORLD_USB2800] = {\n\t\t.name         = \"Kworld USB2800\",\n\t\t.is_em2800    = 1,\n\t\t.tuner_type   = TUNER_PHILIPS_FCV1236D,\n\t\t.tda9887_conf = TDA9887_PRESENT,\n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = SAA7115_COMPOSITE2,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2820_BOARD_PINNACLE_DVC_90] = {\n\t\t.name\t      = \"Pinnacle Dazzle DVC 90/100/101/107 / Kaiser Baas Video to DVD maker / Kworld DVD Maker 2 / Plextor ConvertX PX-AV100U\",\n\t\t.tuner_type   = TUNER_ABSENT,  \n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2800_BOARD_VGEAR_POCKETTV] = {\n\t\t.name         = \"V-Gear PocketTV\",\n\t\t.is_em2800    = 1,\n\t\t.tuner_type   = TUNER_LG_PAL_NEW_TAPC,\n\t\t.tda9887_conf = TDA9887_PRESENT,\n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = SAA7115_COMPOSITE2,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2820_BOARD_PROLINK_PLAYTV_BOX4_USB2] = {\n\t\t.name         = \"Pixelview PlayTV Box 4 USB 2.0\",\n\t\t.tda9887_conf = TDA9887_PRESENT,\n\t\t.tuner_type   = TUNER_YMEC_TVF_5533MF,\n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = SAA7115_COMPOSITE2,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.aout     = EM28XX_AOUT_MONO |\t \n\t\t\t\t    EM28XX_AOUT_MASTER,\t \n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2820_BOARD_PROLINK_PLAYTV_USB2] = {\n\t\t.name         = \"SIIG AVTuner-PVR / Pixelview Prolink PlayTV USB 2.0\",\n\t\t.buttons = std_snapshot_button,\n\t\t.tda9887_conf = TDA9887_PRESENT,\n\t\t.tuner_type   = TUNER_YMEC_TVF_5533MF,\n\t\t.tuner_addr   = 0x60,\n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = SAA7115_COMPOSITE2,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.aout     = EM28XX_AOUT_MONO |\t \n\t\t\t\t    EM28XX_AOUT_MASTER,\t \n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2860_BOARD_SAA711X_REFERENCE_DESIGN] = {\n\t\t.name                = \"EM2860/SAA711X Reference Design\",\n\t\t.buttons = std_snapshot_button,\n\t\t.tuner_type          = TUNER_ABSENT,\n\t\t.decoder             = EM28XX_SAA711X,\n\t\t.input               = { {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t} },\n\t},\n\n\t[EM2874_BOARD_LEADERSHIP_ISDBT] = {\n\t\t.def_i2c_bus\t= 1,\n\t\t.i2c_speed      = EM28XX_I2C_CLK_WAIT_ENABLE |\n\t\t\t\t  EM28XX_I2C_FREQ_100_KHZ,\n\t\t.xclk\t\t= EM28XX_XCLK_FREQUENCY_10MHZ,\n\t\t.name\t\t= \"EM2874 Leadership ISDBT\",\n\t\t.tuner_type\t= TUNER_ABSENT,\n\t\t.tuner_gpio     = leadership_reset,\n\t\t.dvb_gpio       = leadership_digital,\n\t\t.has_dvb\t= 1,\n\t},\n\n\t[EM2880_BOARD_MSI_DIGIVOX_AD] = {\n\t\t.name         = \"MSI DigiVox A/D\",\n\t\t.valid        = EM28XX_BOARD_NOT_VALIDATED,\n\t\t.tuner_type   = TUNER_XC2028,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t\t.decoder      = EM28XX_TVP5150,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = em2880_msi_digivox_ad_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = em2880_msi_digivox_ad_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = em2880_msi_digivox_ad_analog,\n\t\t} },\n\t},\n\t[EM2880_BOARD_MSI_DIGIVOX_AD_II] = {\n\t\t.name         = \"MSI DigiVox A/D II\",\n\t\t.valid        = EM28XX_BOARD_NOT_VALIDATED,\n\t\t.tuner_type   = TUNER_XC2028,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t\t.decoder      = EM28XX_TVP5150,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = em2880_msi_digivox_ad_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = em2880_msi_digivox_ad_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = em2880_msi_digivox_ad_analog,\n\t\t} },\n\t},\n\t[EM2880_BOARD_KWORLD_DVB_305U] = {\n\t\t.name\t      = \"KWorld DVB-T 305U\",\n\t\t.tuner_type   = TUNER_XC2028,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t\t.decoder      = EM28XX_TVP5150,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2880_BOARD_KWORLD_DVB_310U] = {\n\t\t.name\t      = \"KWorld DVB-T 310U\",\n\t\t.tuner_type   = TUNER_XC2028,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t\t.has_dvb      = 1,\n\t\t.dvb_gpio     = default_digital,\n\t\t.mts_firmware = 1,\n\t\t.decoder      = EM28XX_TVP5150,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = default_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = default_analog,\n\t\t}, {\t \n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = default_analog,\n\t\t} },\n\t},\n\t[EM2882_BOARD_KWORLD_ATSC_315U] = {\n\t\t.name\t\t= \"KWorld ATSC 315U HDTV TV Box\",\n\t\t.valid\t\t= EM28XX_BOARD_NOT_VALIDATED,\n\t\t.tuner_type\t= TUNER_THOMSON_DTT761X,\n\t\t.tuner_gpio\t= em2882_kworld_315u_tuner_gpio,\n\t\t.tda9887_conf\t= TDA9887_PRESENT,\n\t\t.decoder\t= EM28XX_SAA711X,\n\t\t.has_dvb\t= 1,\n\t\t.dvb_gpio\t= em2882_kworld_315u_digital,\n\t\t.ir_codes\t= RC_MAP_KWORLD_315U,\n\t\t.xclk\t\t= EM28XX_XCLK_FREQUENCY_12MHZ,\n\t\t.i2c_speed\t= EM28XX_I2C_CLK_WAIT_ENABLE,\n#if 0\n\t\t \n\t\t.input        = { {\n\t\t\t.type = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux = SAA7115_COMPOSITE2,\n\t\t\t.amux = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio = em2882_kworld_315u_analog,\n\t\t\t.aout = EM28XX_AOUT_PCM_IN | EM28XX_AOUT_PCM_STEREO,\n\t\t}, {\n\t\t\t.type = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux = SAA7115_COMPOSITE0,\n\t\t\t.amux = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio = em2882_kworld_315u_analog1,\n\t\t\t.aout = EM28XX_AOUT_PCM_IN | EM28XX_AOUT_PCM_STEREO,\n\t\t}, {\n\t\t\t.type = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux = SAA7115_SVIDEO3,\n\t\t\t.amux = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio = em2882_kworld_315u_analog1,\n\t\t\t.aout = EM28XX_AOUT_PCM_IN | EM28XX_AOUT_PCM_STEREO,\n\t\t} },\n#endif\n\t},\n\t[EM2880_BOARD_EMPIRE_DUAL_TV] = {\n\t\t.name = \"Empire dual TV\",\n\t\t.tuner_type = TUNER_XC2028,\n\t\t.tuner_gpio = default_tuner_gpio,\n\t\t.has_dvb = 1,\n\t\t.dvb_gpio = default_digital,\n\t\t.mts_firmware = 1,\n\t\t.decoder = EM28XX_TVP5150,\n\t\t.input = { {\n\t\t\t.type = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux = TVP5150_COMPOSITE0,\n\t\t\t.amux = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio = default_analog,\n\t\t}, {\n\t\t\t.type = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux = TVP5150_COMPOSITE1,\n\t\t\t.amux = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio = default_analog,\n\t\t}, {\n\t\t\t.type = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux = TVP5150_SVIDEO,\n\t\t\t.amux = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio = default_analog,\n\t\t} },\n\t},\n\t[EM2881_BOARD_DNT_DA2_HYBRID] = {\n\t\t.name         = \"DNT DA2 Hybrid\",\n\t\t.valid        = EM28XX_BOARD_NOT_VALIDATED,\n\t\t.tuner_type   = TUNER_XC2028,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t\t.decoder      = EM28XX_TVP5150,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = default_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = default_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = default_analog,\n\t\t} },\n\t},\n\t[EM2881_BOARD_PINNACLE_HYBRID_PRO] = {\n\t\t.name         = \"Pinnacle Hybrid Pro\",\n\t\t.tuner_type   = TUNER_XC2028,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t\t.decoder      = EM28XX_TVP5150,\n\t\t.has_dvb      = 1,\n\t\t.dvb_gpio     = pinnacle_hybrid_pro_digital,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = pinnacle_hybrid_pro_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = pinnacle_hybrid_pro_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = pinnacle_hybrid_pro_analog,\n\t\t} },\n\t},\n\t[EM2882_BOARD_PINNACLE_HYBRID_PRO_330E] = {\n\t\t.name         = \"Pinnacle Hybrid Pro (330e)\",\n\t\t.tuner_type   = TUNER_XC2028,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t\t.mts_firmware = 1,\n\t\t.has_dvb      = 1,\n\t\t.dvb_gpio     = hauppauge_wintv_hvr_900R2_digital,\n\t\t.ir_codes     = RC_MAP_PINNACLE_PCTV_HD,\n\t\t.decoder      = EM28XX_TVP5150,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t} },\n\t},\n\t[EM2882_BOARD_KWORLD_VS_DVBT] = {\n\t\t.name         = \"Kworld VS-DVB-T 323UR\",\n\t\t.tuner_type   = TUNER_XC2028,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t\t.decoder      = EM28XX_TVP5150,\n\t\t.mts_firmware = 1,\n\t\t.has_dvb      = 1,\n\t\t.dvb_gpio     = kworld_330u_digital,\n\t\t.xclk         = EM28XX_XCLK_FREQUENCY_12MHZ,  \n\t\t.ir_codes     = RC_MAP_KWORLD_315U,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2882_BOARD_TERRATEC_HYBRID_XS] = {\n\t\t.name         = \"Terratec Cinergy Hybrid T USB XS (em2882)\",\n\t\t.tuner_type   = TUNER_XC2028,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t\t.mts_firmware = 1,\n\t\t.decoder      = EM28XX_TVP5150,\n\t\t.has_dvb      = 1,\n\t\t.dvb_gpio     = hauppauge_wintv_hvr_900_digital,\n\t\t.ir_codes     = RC_MAP_TERRATEC_CINERGY_XS,\n\t\t.xclk         = EM28XX_XCLK_FREQUENCY_12MHZ,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = hauppauge_wintv_hvr_900_analog,\n\t\t} },\n\t},\n\t[EM2882_BOARD_DIKOM_DK300] = {\n\t\t.name         = \"Dikom DK300\",\n\t\t.tuner_type   = TUNER_XC2028,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t\t.decoder      = EM28XX_TVP5150,\n\t\t.mts_firmware = 1,\n\t\t.has_dvb      = 1,\n\t\t.dvb_gpio     = dikom_dk300_digital,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = default_analog,\n\t\t} },\n\t},\n\t[EM2883_BOARD_KWORLD_HYBRID_330U] = {\n\t\t.name         = \"Kworld PlusTV HD Hybrid 330\",\n\t\t.tuner_type   = TUNER_XC2028,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t\t.decoder      = EM28XX_TVP5150,\n\t\t.mts_firmware = 1,\n\t\t.has_dvb      = 1,\n\t\t.dvb_gpio     = kworld_330u_digital,\n\t\t.xclk             = EM28XX_XCLK_FREQUENCY_12MHZ,\n\t\t.i2c_speed        = EM28XX_I2C_CLK_WAIT_ENABLE |\n\t\t\t\t    EM28XX_I2C_EEPROM_ON_BOARD |\n\t\t\t\t    EM28XX_I2C_EEPROM_KEY_VALID,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = kworld_330u_analog,\n\t\t\t.aout     = EM28XX_AOUT_PCM_IN | EM28XX_AOUT_PCM_STEREO,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = kworld_330u_analog,\n\t\t\t.aout     = EM28XX_AOUT_PCM_IN | EM28XX_AOUT_PCM_STEREO,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = kworld_330u_analog,\n\t\t} },\n\t},\n\t[EM2820_BOARD_COMPRO_VIDEOMATE_FORYOU] = {\n\t\t.name         = \"Compro VideoMate ForYou/Stereo\",\n\t\t.tuner_type   = TUNER_LG_PAL_NEW_TAPC,\n\t\t.tvaudio_addr = 0xb0,\n\t\t.tda9887_conf = TDA9887_PRESENT,\n\t\t.decoder      = EM28XX_TVP5150,\n\t\t.adecoder     = EM28XX_TVAUDIO,\n\t\t.mute_gpio    = compro_mute_gpio,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = compro_unmute_tv_gpio,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = compro_unmute_svid_gpio,\n\t\t} },\n\t},\n\t[EM2860_BOARD_KAIOMY_TVNPC_U2] = {\n\t\t.name\t      = \"Kaiomy TVnPC U2\",\n\t\t.vchannels    = 3,\n\t\t.tuner_type   = TUNER_XC2028,\n\t\t.tuner_addr   = 0x61,\n\t\t.mts_firmware = 1,\n\t\t.decoder      = EM28XX_TVP5150,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t\t.ir_codes     = RC_MAP_KAIOMY,\n\t\t.input          = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t\t.radio\t\t= {\n\t\t\t.type     = EM28XX_RADIO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}\n\t},\n\t[EM2860_BOARD_EASYCAP] = {\n\t\t.name         = \"Easy Cap Capture DC-60\",\n\t\t.vchannels    = 2,\n\t\t.tuner_type   = TUNER_ABSENT,\n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.input           = { {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t[EM2820_BOARD_IODATA_GVMVP_SZ] = {\n\t\t.name       = \"IO-DATA GV-MVP/SZ\",\n\t\t.tuner_type   = TUNER_PHILIPS_FM1236_MK3,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t\t.tda9887_conf = TDA9887_PRESENT,\n\t\t.decoder      = EM28XX_TVP5150,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t}, {  \n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t}, {  \n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t} },\n\t},\n\t[EM2860_BOARD_TERRATEC_GRABBY] = {\n\t\t.name            = \"Terratec Grabby\",\n\t\t.vchannels       = 2,\n\t\t.tuner_type      = TUNER_ABSENT,\n\t\t.decoder         = EM28XX_SAA711X,\n\t\t.xclk            = EM28XX_XCLK_FREQUENCY_12MHZ,\n\t\t.input           = { {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t\t.buttons         = std_snapshot_button,\n\t\t.leds            = terratec_grabby_leds,\n\t},\n\t[EM2860_BOARD_TERRATEC_AV350] = {\n\t\t.name            = \"Terratec AV350\",\n\t\t.vchannels       = 2,\n\t\t.tuner_type      = TUNER_ABSENT,\n\t\t.decoder         = EM28XX_TVP5150,\n\t\t.xclk            = EM28XX_XCLK_FREQUENCY_12MHZ,\n\t\t.mute_gpio       = terratec_av350_mute_gpio,\n\t\t.input           = { {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = terratec_av350_unmute_gpio,\n\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = terratec_av350_unmute_gpio,\n\t\t} },\n\t},\n\n\t[EM2860_BOARD_ELGATO_VIDEO_CAPTURE] = {\n\t\t.name         = \"Elgato Video Capture\",\n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.tuner_type   = TUNER_ABSENT,    \n\t\t.input        = { {\n\t\t\t.type  = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux  = SAA7115_COMPOSITE0,\n\t\t\t.amux  = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type  = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux  = SAA7115_SVIDEO3,\n\t\t\t.amux  = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\n\t[EM2882_BOARD_EVGA_INDTUBE] = {\n\t\t.name         = \"Evga inDtube\",\n\t\t.tuner_type   = TUNER_XC2028,\n\t\t.tuner_gpio   = default_tuner_gpio,\n\t\t.decoder      = EM28XX_TVP5150,\n\t\t.xclk         = EM28XX_XCLK_FREQUENCY_12MHZ,  \n\t\t.mts_firmware = 1,\n\t\t.has_dvb      = 1,\n\t\t.dvb_gpio     = evga_indtube_digital,\n\t\t.ir_codes     = RC_MAP_EVGA_INDTUBE,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_TELEVISION,\n\t\t\t.vmux     = TVP5150_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = evga_indtube_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = evga_indtube_analog,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t\t.gpio     = evga_indtube_analog,\n\t\t} },\n\t},\n\t \n\t[EM2870_BOARD_REDDO_DVB_C_USB_BOX] = {\n\t\t.name          = \"Reddo DVB-C USB TV Box\",\n\t\t.tuner_type    = TUNER_ABSENT,\n\t\t.tuner_gpio    = reddo_dvb_c_usb_box,\n\t\t.has_dvb       = 1,\n\t},\n\t \n\t[EM2870_BOARD_KWORLD_A340] = {\n\t\t.name       = \"KWorld PlusTV 340U or UB435-Q (ATSC)\",\n\t\t.tuner_type = TUNER_ABSENT,\t \n\t\t.has_dvb    = 1,\n\t\t.dvb_gpio   = kworld_a340_digital,\n\t\t.tuner_gpio = default_tuner_gpio,\n\t},\n\t \n\t[EM28174_BOARD_PCTV_290E] = {\n\t\t.name          = \"PCTV nanoStick T2 290e\",\n\t\t.def_i2c_bus   = 1,\n\t\t.i2c_speed     = EM28XX_I2C_CLK_WAIT_ENABLE |\n\t\t\t\t EM28XX_I2C_FREQ_100_KHZ,\n\t\t.tuner_type    = TUNER_ABSENT,\n\t\t.tuner_gpio    = pctv_290e,\n\t\t.has_dvb       = 1,\n\t\t.ir_codes      = RC_MAP_PINNACLE_PCTV_HD,\n\t},\n\t \n\t[EM28174_BOARD_PCTV_460E] = {\n\t\t.def_i2c_bus   = 1,\n\t\t.i2c_speed     = EM28XX_I2C_CLK_WAIT_ENABLE |\n\t\t\t\t EM28XX_I2C_FREQ_400_KHZ,\n\t\t.name          = \"PCTV DVB-S2 Stick (460e)\",\n\t\t.tuner_type    = TUNER_ABSENT,\n\t\t.tuner_gpio    = pctv_460e,\n\t\t.has_dvb       = 1,\n\t\t.ir_codes      = RC_MAP_PINNACLE_PCTV_HD,\n\t},\n\t \n\t[EM2860_BOARD_HT_VIDBOX_NW03] = {\n\t\t.name                = \"Honestech Vidbox NW03\",\n\t\t.tuner_type          = TUNER_ABSENT,\n\t\t.decoder             = EM28XX_SAA711X,\n\t\t.input               = { {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,   \n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t \n\t[EM2874_BOARD_MAXMEDIA_UB425_TC] = {\n\t\t.name          = \"MaxMedia UB425-TC\",\n\t\t.tuner_type    = TUNER_ABSENT,\n\t\t.tuner_gpio    = maxmedia_ub425_tc,\n\t\t.has_dvb       = 1,\n\t\t.ir_codes      = RC_MAP_REDDO,\n\t\t.def_i2c_bus   = 1,\n\t\t.i2c_speed     = EM28XX_I2C_CLK_WAIT_ENABLE |\n\t\t\t\tEM28XX_I2C_FREQ_400_KHZ,\n\t},\n\t \n\t[EM2884_BOARD_PCTV_510E] = {\n\t\t.name          = \"PCTV QuatroStick (510e)\",\n\t\t.tuner_type    = TUNER_ABSENT,\n\t\t.tuner_gpio    = pctv_510e,\n\t\t.has_dvb       = 1,\n\t\t.ir_codes      = RC_MAP_PINNACLE_PCTV_HD,\n\t\t.def_i2c_bus   = 1,\n\t\t.i2c_speed     = EM28XX_I2C_CLK_WAIT_ENABLE |\n\t\t\t\tEM28XX_I2C_FREQ_400_KHZ,\n\t},\n\t \n\t[EM2884_BOARD_PCTV_520E] = {\n\t\t.name          = \"PCTV QuatroStick nano (520e)\",\n\t\t.tuner_type    = TUNER_ABSENT,\n\t\t.tuner_gpio    = pctv_520e,\n\t\t.has_dvb       = 1,\n\t\t.ir_codes      = RC_MAP_PINNACLE_PCTV_HD,\n\t\t.def_i2c_bus   = 1,\n\t\t.i2c_speed     = EM28XX_I2C_CLK_WAIT_ENABLE |\n\t\t\t\tEM28XX_I2C_FREQ_400_KHZ,\n\t},\n\t[EM2884_BOARD_TERRATEC_HTC_USB_XS] = {\n\t\t.name         = \"Terratec Cinergy HTC USB XS\",\n\t\t.has_dvb      = 1,\n\t\t.ir_codes     = RC_MAP_NEC_TERRATEC_CINERGY_XS,\n\t\t.tuner_type   = TUNER_ABSENT,\n\t\t.def_i2c_bus  = 1,\n\t\t.i2c_speed    = EM28XX_I2C_CLK_WAIT_ENABLE |\n\t\t\t\tEM28XX_I2C_FREQ_400_KHZ,\n\t},\n\t \n\t[EM2874_BOARD_DELOCK_61959] = {\n\t\t.name          = \"Delock 61959\",\n\t\t.tuner_type    = TUNER_ABSENT,\n\t\t.tuner_gpio    = maxmedia_ub425_tc,\n\t\t.has_dvb       = 1,\n\t\t.ir_codes      = RC_MAP_DELOCK_61959,\n\t\t.def_i2c_bus   = 1,\n\t\t.i2c_speed     = EM28XX_I2C_CLK_WAIT_ENABLE |\n\t\t\t\tEM28XX_I2C_FREQ_400_KHZ,\n\t},\n\t \n\t[EM2874_BOARD_KWORLD_UB435Q_V2] = {\n\t\t.name\t\t= \"KWorld USB ATSC TV Stick UB435-Q V2\",\n\t\t.tuner_type\t= TUNER_ABSENT,\n\t\t.has_dvb\t= 1,\n\t\t.dvb_gpio\t= kworld_a340_digital,\n\t\t.tuner_gpio\t= default_tuner_gpio,\n\t\t.def_i2c_bus\t= 1,\n\t},\n\t \n\t[EM2874_BOARD_KWORLD_UB435Q_V3] = {\n\t\t.name\t\t= \"KWorld USB ATSC TV Stick UB435-Q V3\",\n\t\t.tuner_type\t= TUNER_ABSENT,\n\t\t.has_dvb\t= 1,\n\t\t.tuner_gpio\t= kworld_ub435q_v3_digital,\n\t\t.def_i2c_bus\t= 1,\n\t\t.i2c_speed      = EM28XX_I2C_CLK_WAIT_ENABLE |\n\t\t\t\t  EM28XX_I2C_FREQ_100_KHZ,\n\t\t.leds = kworld_ub435q_v3_leds,\n\t},\n\t[EM2874_BOARD_PCTV_HD_MINI_80E] = {\n\t\t.name         = \"Pinnacle PCTV HD Mini\",\n\t\t.tuner_type   = TUNER_ABSENT,\n\t\t.has_dvb      = 1,\n\t\t.dvb_gpio     = em2874_pctv_80e_digital,\n\t\t.decoder      = EM28XX_NODECODER,\n\t\t.ir_codes     = RC_MAP_PINNACLE_PCTV_HD,\n\t\t.leds         = pctv_80e_leds,\n\t},\n\t \n\t[EM2765_BOARD_SPEEDLINK_VAD_LAPLACE] = {\n\t\t.name         = \"SpeedLink Vicious And Devine Laplace webcam\",\n\t\t.xclk         = EM28XX_XCLK_FREQUENCY_24MHZ,\n\t\t.i2c_speed    = EM28XX_I2C_CLK_WAIT_ENABLE |\n\t\t\t\tEM28XX_I2C_FREQ_100_KHZ,\n\t\t.def_i2c_bus  = 1,\n\t\t.tuner_type   = TUNER_ABSENT,\n\t\t.is_webcam    = 1,\n\t\t.input        = { {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.amux     = EM28XX_AMUX_VIDEO,\n\t\t\t.gpio     = speedlink_vad_laplace_reg_seq,\n\t\t} },\n\t\t.buttons = speedlink_vad_laplace_buttons,\n\t\t.leds = speedlink_vad_laplace_leds,\n\t},\n\t \n\t[EM28178_BOARD_PCTV_461E] = {\n\t\t.def_i2c_bus   = 1,\n\t\t.i2c_speed     = EM28XX_I2C_CLK_WAIT_ENABLE |\n\t\t\t\t EM28XX_I2C_FREQ_400_KHZ,\n\t\t.name          = \"PCTV DVB-S2 Stick (461e)\",\n\t\t.tuner_type    = TUNER_ABSENT,\n\t\t.tuner_gpio    = pctv_461e,\n\t\t.has_dvb       = 1,\n\t\t.ir_codes      = RC_MAP_PINNACLE_PCTV_HD,\n\t},\n\t \n\t[EM28178_BOARD_PCTV_461E_V2] = {\n\t\t.def_i2c_bus   = 1,\n\t\t.i2c_speed     = EM28XX_I2C_CLK_WAIT_ENABLE |\n\t\t\t\t EM28XX_I2C_FREQ_400_KHZ,\n\t\t.name          = \"PCTV DVB-S2 Stick (461e v2)\",\n\t\t.tuner_type    = TUNER_ABSENT,\n\t\t.tuner_gpio    = pctv_461e,\n\t\t.has_dvb       = 1,\n\t\t.ir_codes      = RC_MAP_PINNACLE_PCTV_HD,\n\t},\n\t \n\t[EM28178_BOARD_PCTV_292E] = {\n\t\t.name          = \"PCTV tripleStick (292e)\",\n\t\t.def_i2c_bus   = 1,\n\t\t.i2c_speed     = EM28XX_I2C_CLK_WAIT_ENABLE |\n\t\t\t\t EM28XX_I2C_FREQ_400_KHZ,\n\t\t.tuner_type    = TUNER_ABSENT,\n\t\t.tuner_gpio    = pctv_292e,\n\t\t.has_dvb       = 1,\n\t\t.ir_codes      = RC_MAP_PINNACLE_PCTV_HD,\n\t},\n\t[EM2861_BOARD_LEADTEK_VC100] = {\n\t\t.name          = \"Leadtek VC100\",\n\t\t.tuner_type    = TUNER_ABSENT,\t \n\t\t.decoder       = EM28XX_TVP5150,\n\t\t.input         = { {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = TVP5150_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t \n\t[EM28178_BOARD_TERRATEC_T2_STICK_HD] = {\n\t\t.name          = \"Terratec Cinergy T2 Stick HD\",\n\t\t.def_i2c_bus   = 1,\n\t\t.i2c_speed     = EM28XX_I2C_CLK_WAIT_ENABLE |\n\t\t\t\t EM28XX_I2C_FREQ_400_KHZ,\n\t\t.tuner_type    = TUNER_ABSENT,\n\t\t.tuner_gpio    = terratec_t2_stick_hd,\n\t\t.has_dvb       = 1,\n\t\t.ir_codes      = RC_MAP_TERRATEC_SLIM_2,\n\t},\n\n\t \n\t[EM28178_BOARD_PLEX_PX_BCUD] = {\n\t\t.name          = \"PLEX PX-BCUD\",\n\t\t.xclk          = EM28XX_XCLK_FREQUENCY_4_3MHZ,\n\t\t.def_i2c_bus   = 1,\n\t\t.i2c_speed     = EM28XX_I2C_CLK_WAIT_ENABLE,\n\t\t.tuner_type    = TUNER_ABSENT,\n\t\t.tuner_gpio    = plex_px_bcud,\n\t\t.has_dvb       = 1,\n\t},\n\t \n\t[EM28174_BOARD_HAUPPAUGE_WINTV_DUALHD_DVB] = {\n\t\t.name          = \"Hauppauge WinTV-dualHD DVB\",\n\t\t.def_i2c_bus   = 1,\n\t\t.i2c_speed     = EM28XX_I2C_CLK_WAIT_ENABLE |\n\t\t\t\t EM28XX_I2C_FREQ_400_KHZ,\n\t\t.tuner_type    = TUNER_SI2157,\n\t\t.tuner_gpio    = hauppauge_dualhd_dvb,\n\t\t.has_dvb       = 1,\n\t\t.has_dual_ts   = 1,\n\t\t.ir_codes      = RC_MAP_HAUPPAUGE,\n\t\t.leds          = hauppauge_dualhd_leds,\n\t\t.input         = { {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = TVP5150_COMPOSITE1,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t \n\t[EM28174_BOARD_HAUPPAUGE_WINTV_DUALHD_01595] = {\n\t\t.name          = \"Hauppauge WinTV-dualHD 01595 ATSC/QAM\",\n\t\t.def_i2c_bus   = 1,\n\t\t.i2c_speed     = EM28XX_I2C_CLK_WAIT_ENABLE |\n\t\t\t\t EM28XX_I2C_FREQ_400_KHZ,\n\t\t.tuner_type    = TUNER_ABSENT,\n\t\t.tuner_gpio    = hauppauge_dualhd_dvb,\n\t\t.has_dvb       = 1,\n\t\t.has_dual_ts   = 1,\n\t\t.ir_codes      = RC_MAP_HAUPPAUGE,\n\t\t.leds          = hauppauge_dualhd_leds,\n\t},\n\t \n\t[EM2861_BOARD_MAGIX_VIDEOWANDLER2] = {\n\t\t.name                = \"Magix USB Videowandler-2\",\n\t\t.tuner_type          = TUNER_ABSENT,\n\t\t.decoder             = EM28XX_SAA711X,\n\t\t.input               = { {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t \n\t[EM2860_BOARD_MYGICA_IGRABBER] = {\n\t\t.name         = \"MyGica iGrabber\",\n\t\t.vchannels    = 2,\n\t\t.tuner_type   = TUNER_ABSENT,\n\t\t.decoder      = EM28XX_SAA711X,\n\t\t.input           = { {\n\t\t\t.type     = EM28XX_VMUX_COMPOSITE,\n\t\t\t.vmux     = SAA7115_COMPOSITE0,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t}, {\n\t\t\t.type     = EM28XX_VMUX_SVIDEO,\n\t\t\t.vmux     = SAA7115_SVIDEO3,\n\t\t\t.amux     = EM28XX_AMUX_LINE_IN,\n\t\t} },\n\t},\n\t \n\t[EM2874_BOARD_HAUPPAUGE_USB_QUADHD] = {\n\t\t.name          = \"Hauppauge USB QuadHD ATSC\",\n\t\t.def_i2c_bus   = 1,\n\t\t.has_dual_ts   = 1,\n\t\t.has_dvb       = 1,\n\t\t.i2c_speed     = EM28XX_I2C_CLK_WAIT_ENABLE | EM28XX_I2C_FREQ_100_KHZ,\n\t\t.tuner_type    = TUNER_ABSENT,\n\t\t.tuner_gpio    = hauppauge_usb_quadhd_atsc_reg_seq,\n\t\t.leds          = hauppauge_usb_quadhd_leds,\n\t},\n};\nEXPORT_SYMBOL_GPL(em28xx_boards);\n\nstatic const unsigned int em28xx_bcount = ARRAY_SIZE(em28xx_boards);\n\n \nstruct usb_device_id em28xx_id_table[] = {\n\t{ USB_DEVICE(0xeb1a, 0x2750),\n\t\t\t.driver_info = EM2750_BOARD_UNKNOWN },\n\t{ USB_DEVICE(0xeb1a, 0x2751),\n\t\t\t.driver_info = EM2750_BOARD_UNKNOWN },\n\t{ USB_DEVICE(0xeb1a, 0x2800),\n\t\t\t.driver_info = EM2800_BOARD_UNKNOWN },\n\t{ USB_DEVICE(0xeb1a, 0x2710),\n\t\t\t.driver_info = EM2820_BOARD_UNKNOWN },\n\t{ USB_DEVICE(0xeb1a, 0x2820),\n\t\t\t.driver_info = EM2820_BOARD_UNKNOWN },\n\t{ USB_DEVICE(0xeb1a, 0x2821),\n\t\t\t.driver_info = EM2820_BOARD_UNKNOWN },\n\t{ USB_DEVICE(0xeb1a, 0x2860),\n\t\t\t.driver_info = EM2820_BOARD_UNKNOWN },\n\t{ USB_DEVICE(0xeb1a, 0x2861),\n\t\t\t.driver_info = EM2820_BOARD_UNKNOWN },\n\t{ USB_DEVICE(0xeb1a, 0x2862),\n\t\t\t.driver_info = EM2820_BOARD_UNKNOWN },\n\t{ USB_DEVICE(0xeb1a, 0x2863),\n\t\t\t.driver_info = EM2820_BOARD_UNKNOWN },\n\t{ USB_DEVICE(0xeb1a, 0x2870),\n\t\t\t.driver_info = EM2820_BOARD_UNKNOWN },\n\t{ USB_DEVICE(0xeb1a, 0x2881),\n\t\t\t.driver_info = EM2820_BOARD_UNKNOWN },\n\t{ USB_DEVICE(0xeb1a, 0x2883),  \n\t\t\t.driver_info = EM2820_BOARD_UNKNOWN },\n\t{ USB_DEVICE(0xeb1a, 0x2868),\n\t\t\t.driver_info = EM2820_BOARD_UNKNOWN },\n\t{ USB_DEVICE(0xeb1a, 0x2875),\n\t\t\t.driver_info = EM2820_BOARD_UNKNOWN },\n\t{ USB_DEVICE(0xeb1a, 0x2885),  \n\t\t\t.driver_info = EM2884_BOARD_TERRATEC_H5 },\n\t{ USB_DEVICE(0xeb1a, 0xe300),\n\t\t\t.driver_info = EM2861_BOARD_KWORLD_PVRTV_300U },\n\t{ USB_DEVICE(0xeb1a, 0xe303),\n\t\t\t.driver_info = EM2860_BOARD_KAIOMY_TVNPC_U2 },\n\t{ USB_DEVICE(0xeb1a, 0xe305),\n\t\t\t.driver_info = EM2880_BOARD_KWORLD_DVB_305U },\n\t{ USB_DEVICE(0xeb1a, 0xe310),\n\t\t\t.driver_info = EM2880_BOARD_MSI_DIGIVOX_AD },\n\t{ USB_DEVICE(0xeb1a, 0xa313),\n\t\t.driver_info = EM2882_BOARD_KWORLD_ATSC_315U },\n\t{ USB_DEVICE(0xeb1a, 0xa316),\n\t\t\t.driver_info = EM2883_BOARD_KWORLD_HYBRID_330U },\n\t{ USB_DEVICE(0xeb1a, 0xe320),\n\t\t\t.driver_info = EM2880_BOARD_MSI_DIGIVOX_AD_II },\n\t{ USB_DEVICE(0xeb1a, 0xe323),\n\t\t\t.driver_info = EM2882_BOARD_KWORLD_VS_DVBT },\n\t{ USB_DEVICE(0xeb1a, 0xe350),\n\t\t\t.driver_info = EM2870_BOARD_KWORLD_350U },\n\t{ USB_DEVICE(0xeb1a, 0xe355),\n\t\t\t.driver_info = EM2870_BOARD_KWORLD_355U },\n\t{ USB_DEVICE(0xeb1a, 0x2801),\n\t\t\t.driver_info = EM2800_BOARD_GRABBEEX_USB2800 },\n\t{ USB_DEVICE(0xeb1a, 0xe357),\n\t\t\t.driver_info = EM2870_BOARD_KWORLD_355U },\n\t{ USB_DEVICE(0xeb1a, 0xe359),\n\t\t\t.driver_info = EM2870_BOARD_KWORLD_355U },\n\t{ USB_DEVICE(0x1b80, 0xe302),  \n\t\t\t.driver_info = EM2820_BOARD_PINNACLE_DVC_90 },\n\t{ USB_DEVICE(0x1b80, 0xe304),  \n\t\t\t.driver_info = EM2820_BOARD_PINNACLE_DVC_90 },\n\t{ USB_DEVICE(0x0ccd, 0x0036),\n\t\t\t.driver_info = EM2820_BOARD_TERRATEC_CINERGY_250 },\n\t{ USB_DEVICE(0x0ccd, 0x004c),\n\t\t\t.driver_info = EM2880_BOARD_TERRATEC_HYBRID_XS_FR },\n\t{ USB_DEVICE(0x0ccd, 0x004f),\n\t\t\t.driver_info = EM2860_BOARD_TERRATEC_HYBRID_XS },\n\t{ USB_DEVICE(0x0ccd, 0x005e),\n\t\t\t.driver_info = EM2882_BOARD_TERRATEC_HYBRID_XS },\n\t{ USB_DEVICE(0x0ccd, 0x0042),\n\t\t\t.driver_info = EM2882_BOARD_TERRATEC_HYBRID_XS },\n\t{ USB_DEVICE(0x0ccd, 0x0043),\n\t\t\t.driver_info = EM2870_BOARD_TERRATEC_XS_MT2060 },\n\t{ USB_DEVICE(0x0ccd, 0x008e),\t \n\t\t\t.driver_info = EM2884_BOARD_TERRATEC_HTC_USB_XS },\n\t{ USB_DEVICE(0x0ccd, 0x00ac),\t \n\t\t\t.driver_info = EM2884_BOARD_TERRATEC_HTC_USB_XS },\n\t{ USB_DEVICE(0x0ccd, 0x10a2),\t \n\t\t\t.driver_info = EM2884_BOARD_TERRATEC_H5 },\n\t{ USB_DEVICE(0x0ccd, 0x10ad),\t \n\t\t\t.driver_info = EM2884_BOARD_TERRATEC_H5 },\n\t{ USB_DEVICE(0x0ccd, 0x10b6),\t \n\t\t\t.driver_info = EM2884_BOARD_TERRATEC_H5 },\n\t{ USB_DEVICE(0x0ccd, 0x10b2),\t \n\t\t\t.driver_info = EM2884_BOARD_TERRATEC_H6 },\n\t{ USB_DEVICE(0x0ccd, 0x0084),\n\t\t\t.driver_info = EM2860_BOARD_TERRATEC_AV350 },\n\t{ USB_DEVICE(0x0ccd, 0x0096),\n\t\t\t.driver_info = EM2860_BOARD_TERRATEC_GRABBY },\n\t{ USB_DEVICE(0x0ccd, 0x10AF),\n\t\t\t.driver_info = EM2860_BOARD_TERRATEC_GRABBY },\n\t{ USB_DEVICE(0x0ccd, 0x00b2),\n\t\t\t.driver_info = EM2884_BOARD_CINERGY_HTC_STICK },\n\t{ USB_DEVICE(0x0fd9, 0x0018),\n\t\t\t.driver_info = EM2884_BOARD_ELGATO_EYETV_HYBRID_2008 },\n\t{ USB_DEVICE(0x0fd9, 0x0033),\n\t\t\t.driver_info = EM2860_BOARD_ELGATO_VIDEO_CAPTURE },\n\t{ USB_DEVICE(0x185b, 0x2870),\n\t\t\t.driver_info = EM2870_BOARD_COMPRO_VIDEOMATE },\n\t{ USB_DEVICE(0x185b, 0x2041),\n\t\t\t.driver_info = EM2820_BOARD_COMPRO_VIDEOMATE_FORYOU },\n\t{ USB_DEVICE(0x2040, 0x4200),\n\t\t\t.driver_info = EM2820_BOARD_HAUPPAUGE_WINTV_USB_2 },\n\t{ USB_DEVICE(0x2040, 0x4201),\n\t\t\t.driver_info = EM2820_BOARD_HAUPPAUGE_WINTV_USB_2 },\n\t{ USB_DEVICE(0x2040, 0x6500),\n\t\t\t.driver_info = EM2880_BOARD_HAUPPAUGE_WINTV_HVR_900 },\n\t{ USB_DEVICE(0x2040, 0x6502),\n\t\t\t.driver_info = EM2880_BOARD_HAUPPAUGE_WINTV_HVR_900_R2 },\n\t{ USB_DEVICE(0x2040, 0x6513),  \n\t\t\t.driver_info = EM2883_BOARD_HAUPPAUGE_WINTV_HVR_950 },\n\t{ USB_DEVICE(0x2040, 0x6517),  \n\t\t\t.driver_info = EM2883_BOARD_HAUPPAUGE_WINTV_HVR_950 },\n\t{ USB_DEVICE(0x2040, 0x651b),  \n\t\t\t.driver_info = EM2883_BOARD_HAUPPAUGE_WINTV_HVR_950 },\n\t{ USB_DEVICE(0x2040, 0x651f),\n\t\t\t.driver_info = EM2883_BOARD_HAUPPAUGE_WINTV_HVR_850 },\n\t{ USB_DEVICE(0x2040, 0x0265),\n\t\t\t.driver_info = EM28174_BOARD_HAUPPAUGE_WINTV_DUALHD_DVB },\n\t{ USB_DEVICE(0x2040, 0x8265),\n\t\t\t.driver_info = EM28174_BOARD_HAUPPAUGE_WINTV_DUALHD_DVB },\n\t{ USB_DEVICE(0x2040, 0x026d),\n\t\t\t.driver_info = EM28174_BOARD_HAUPPAUGE_WINTV_DUALHD_01595 },\n\t{ USB_DEVICE(0x2040, 0x826d),\n\t\t\t.driver_info = EM28174_BOARD_HAUPPAUGE_WINTV_DUALHD_01595 },\n\t{ USB_DEVICE(0x2040, 0x846d),\n\t\t\t.driver_info = EM2874_BOARD_HAUPPAUGE_USB_QUADHD },\n\t{ USB_DEVICE(0x0438, 0xb002),\n\t\t\t.driver_info = EM2880_BOARD_AMD_ATI_TV_WONDER_HD_600 },\n\t{ USB_DEVICE(0x2001, 0xf112),\n\t\t\t.driver_info = EM2820_BOARD_DLINK_USB_TV },\n\t{ USB_DEVICE(0x2304, 0x0207),\n\t\t\t.driver_info = EM2820_BOARD_PINNACLE_DVC_90 },\n\t{ USB_DEVICE(0x2304, 0x0208),\n\t\t\t.driver_info = EM2820_BOARD_PINNACLE_USB_2 },\n\t{ USB_DEVICE(0x2304, 0x021a),\n\t\t\t.driver_info = EM2820_BOARD_PINNACLE_DVC_90 },\n\t{ USB_DEVICE(0x2304, 0x0226),\n\t\t\t.driver_info = EM2882_BOARD_PINNACLE_HYBRID_PRO_330E },\n\t{ USB_DEVICE(0x2304, 0x0227),\n\t\t\t.driver_info = EM2880_BOARD_PINNACLE_PCTV_HD_PRO },\n\t{ USB_DEVICE(0x2304, 0x023f),\n\t\t\t.driver_info = EM2874_BOARD_PCTV_HD_MINI_80E },\n\t{ USB_DEVICE(0x0413, 0x6023),\n\t\t\t.driver_info = EM2800_BOARD_LEADTEK_WINFAST_USBII },\n\t{ USB_DEVICE(0x093b, 0xa003),\n\t\t       .driver_info = EM2820_BOARD_PINNACLE_DVC_90 },\n\t{ USB_DEVICE(0x093b, 0xa005),\n\t\t\t.driver_info = EM2861_BOARD_PLEXTOR_PX_TV100U },\n\t{ USB_DEVICE(0x04bb, 0x0515),\n\t\t\t.driver_info = EM2820_BOARD_IODATA_GVMVP_SZ },\n\t{ USB_DEVICE(0xeb1a, 0x50a6),\n\t\t\t.driver_info = EM2860_BOARD_GADMEI_UTV330 },\n\t{ USB_DEVICE(0x1b80, 0xa340),\n\t\t\t.driver_info = EM2870_BOARD_KWORLD_A340 },\n\t{ USB_DEVICE(0x1b80, 0xe346),\n\t\t\t.driver_info = EM2874_BOARD_KWORLD_UB435Q_V2 },\n\t{ USB_DEVICE(0x1b80, 0xe34c),\n\t\t\t.driver_info = EM2874_BOARD_KWORLD_UB435Q_V3 },\n\t{ USB_DEVICE(0x2013, 0x024f),\n\t\t\t.driver_info = EM28174_BOARD_PCTV_290E },\n\t{ USB_DEVICE(0x2013, 0x024c),\n\t\t\t.driver_info = EM28174_BOARD_PCTV_460E },\n\t{ USB_DEVICE(0x2040, 0x1605),\n\t\t\t.driver_info = EM2884_BOARD_HAUPPAUGE_WINTV_HVR_930C },\n\t{ USB_DEVICE(0x1b80, 0xe755),\n\t\t\t.driver_info = EM2884_BOARD_C3TECH_DIGITAL_DUO },\n\t{ USB_DEVICE(0xeb1a, 0x5006),\n\t\t\t.driver_info = EM2860_BOARD_HT_VIDBOX_NW03 },\n\t{ USB_DEVICE(0x1b80, 0xe309),  \n\t\t\t.driver_info = EM2860_BOARD_EASYCAP },\n\t{ USB_DEVICE(0x1b80, 0xe425),\n\t\t\t.driver_info = EM2874_BOARD_MAXMEDIA_UB425_TC },\n\t{ USB_DEVICE(0x1f4d, 0x1abe),\n\t\t\t.driver_info = EM2860_BOARD_MYGICA_IGRABBER },\n\t{ USB_DEVICE(0x2304, 0x0242),\n\t\t\t.driver_info = EM2884_BOARD_PCTV_510E },\n\t{ USB_DEVICE(0x2013, 0x0251),\n\t\t\t.driver_info = EM2884_BOARD_PCTV_520E },\n\t{ USB_DEVICE(0x1b80, 0xe1cc),\n\t\t\t.driver_info = EM2874_BOARD_DELOCK_61959 },\n\t{ USB_DEVICE(0x1ae7, 0x9003),\n\t\t\t.driver_info = EM2765_BOARD_SPEEDLINK_VAD_LAPLACE },\n\t{ USB_DEVICE(0x1ae7, 0x9004),\n\t\t\t.driver_info = EM2765_BOARD_SPEEDLINK_VAD_LAPLACE },\n\t{ USB_DEVICE(0x2013, 0x0258),\n\t\t\t.driver_info = EM28178_BOARD_PCTV_461E },\n\t{ USB_DEVICE(0x2013, 0x8258),  \n\t\t\t.driver_info = EM28178_BOARD_PCTV_461E },\n\t{ USB_DEVICE(0x2013, 0x0461),\n\t\t\t.driver_info = EM28178_BOARD_PCTV_461E_V2 },\n\t{ USB_DEVICE(0x2013, 0x8461),  \n\t\t\t.driver_info = EM28178_BOARD_PCTV_461E_V2 },\n\t{ USB_DEVICE(0x2013, 0x0259),\n\t\t\t.driver_info = EM28178_BOARD_PCTV_461E_V2 },\n\t{ USB_DEVICE(0x2013, 0x025f),\n\t\t\t.driver_info = EM28178_BOARD_PCTV_292E },\n\t{ USB_DEVICE(0x2013, 0x0264),  \n\t\t\t.driver_info = EM28178_BOARD_PCTV_292E },\n\t{ USB_DEVICE(0x2040, 0x0264),  \n\t\t\t.driver_info = EM28178_BOARD_PCTV_292E },\n\t{ USB_DEVICE(0x2040, 0x8264),  \n\t\t\t.driver_info = EM28178_BOARD_PCTV_292E },\n\t{ USB_DEVICE(0x2040, 0x8268),  \n\t\t\t.driver_info = EM28178_BOARD_PCTV_292E },\n\t{ USB_DEVICE(0x0413, 0x6f07),\n\t\t\t.driver_info = EM2861_BOARD_LEADTEK_VC100 },\n\t{ USB_DEVICE(0xeb1a, 0x8179),\n\t\t\t.driver_info = EM28178_BOARD_TERRATEC_T2_STICK_HD },\n\t{ USB_DEVICE(0x3275, 0x0085),\n\t\t\t.driver_info = EM28178_BOARD_PLEX_PX_BCUD },\n\t{ USB_DEVICE(0xeb1a, 0x5051),  \n\t\t\t.driver_info = EM2860_BOARD_TVP5150_REFERENCE_DESIGN },\n\t{ USB_DEVICE(0x1b80, 0xe349),  \n\t\t.driver_info = EM2861_BOARD_MAGIX_VIDEOWANDLER2 },\n\t{ },\n};\nMODULE_DEVICE_TABLE(usb, em28xx_id_table);\n\n \nstatic const struct em28xx_hash_table em28xx_eeprom_hash[] = {\n\t \n\t{0x6ce05a8f, EM2820_BOARD_PROLINK_PLAYTV_USB2, TUNER_YMEC_TVF_5533MF},\n\t{0x72cc5a8b, EM2820_BOARD_PROLINK_PLAYTV_BOX4_USB2, TUNER_YMEC_TVF_5533MF},\n\t{0x966a0441, EM2880_BOARD_KWORLD_DVB_310U, TUNER_XC2028},\n\t{0x166a0441, EM2880_BOARD_EMPIRE_DUAL_TV, TUNER_XC2028},\n\t{0xcee44a99, EM2882_BOARD_EVGA_INDTUBE, TUNER_XC2028},\n\t{0xb8846b20, EM2881_BOARD_PINNACLE_HYBRID_PRO, TUNER_XC2028},\n\t{0x63f653bd, EM2870_BOARD_REDDO_DVB_C_USB_BOX, TUNER_ABSENT},\n\t{0x4e913442, EM2882_BOARD_DIKOM_DK300, TUNER_XC2028},\n\t{0x85dd871e, EM2882_BOARD_ZOLID_HYBRID_TV_STICK, TUNER_XC2028},\n};\n\n \nstatic const struct em28xx_hash_table em28xx_i2c_hash[] = {\n\t{0xb06a32c3, EM2800_BOARD_TERRATEC_CINERGY_200, TUNER_LG_PAL_NEW_TAPC},\n\t{0xf51200e3, EM2800_BOARD_VGEAR_POCKETTV, TUNER_LG_PAL_NEW_TAPC},\n\t{0x1ba50080, EM2860_BOARD_SAA711X_REFERENCE_DESIGN, TUNER_ABSENT},\n\t{0x77800080, EM2860_BOARD_TVP5150_REFERENCE_DESIGN, TUNER_ABSENT},\n\t{0xc51200e3, EM2820_BOARD_GADMEI_TVR200, TUNER_LG_PAL_NEW_TAPC},\n\t{0x4ba50080, EM2861_BOARD_GADMEI_UTV330PLUS, TUNER_TNF_5335MF},\n\t{0x6b800080, EM2874_BOARD_LEADERSHIP_ISDBT, TUNER_ABSENT},\n\t{0x27e10080, EM2882_BOARD_ZOLID_HYBRID_TV_STICK, TUNER_XC2028},\n};\n\n \n\nint em28xx_tuner_callback(void *ptr, int component, int command, int arg)\n{\n\tstruct em28xx_i2c_bus *i2c_bus = ptr;\n\tstruct em28xx *dev = i2c_bus->dev;\n\tint rc = 0;\n\n\tif (dev->tuner_type != TUNER_XC2028 && dev->tuner_type != TUNER_XC5000)\n\t\treturn 0;\n\n\tif (command != XC2028_TUNER_RESET && command != XC5000_TUNER_RESET)\n\t\treturn 0;\n\n\trc = em28xx_gpio_set(dev, dev->board.tuner_gpio);\n\n\treturn rc;\n}\nEXPORT_SYMBOL_GPL(em28xx_tuner_callback);\n\nstatic inline void em28xx_set_xclk_i2c_speed(struct em28xx *dev)\n{\n\tconst struct em28xx_board *board = &em28xx_boards[dev->model];\n\tu8 xclk = board->xclk, i2c_speed = board->i2c_speed;\n\n\t \n\tif (!xclk)\n\t\txclk = EM28XX_XCLK_IR_RC5_MODE |\n\t\t       EM28XX_XCLK_FREQUENCY_12MHZ;\n\n\tem28xx_write_reg(dev, EM28XX_R0F_XCLK, xclk);\n\n\tif (!i2c_speed)\n\t\ti2c_speed = EM28XX_I2C_CLK_WAIT_ENABLE |\n\t\t\t    EM28XX_I2C_FREQ_100_KHZ;\n\n\tdev->i2c_speed = i2c_speed & 0x03;\n\n\tif (!dev->board.is_em2800)\n\t\tem28xx_write_reg(dev, EM28XX_R06_I2C_CLK, i2c_speed);\n\tmsleep(50);\n}\n\nstatic inline void em28xx_set_model(struct em28xx *dev)\n{\n\tdev->board = em28xx_boards[dev->model];\n\tdev->has_msp34xx = dev->board.has_msp34xx;\n\tdev->is_webcam = dev->board.is_webcam;\n\n\tem28xx_set_xclk_i2c_speed(dev);\n\n\t \n\tdev->def_i2c_bus = dev->board.def_i2c_bus;\n}\n\n \nstatic int em28xx_wait_until_ac97_features_equals(struct em28xx *dev,\n\t\t\t\t\t\t  int expected_feat)\n{\n\tunsigned long timeout = jiffies + msecs_to_jiffies(2000);\n\tint feat, powerdown;\n\n\twhile (time_is_after_jiffies(timeout)) {\n\t\tfeat = em28xx_read_ac97(dev, AC97_RESET);\n\t\tif (feat < 0)\n\t\t\treturn feat;\n\n\t\tpowerdown = em28xx_read_ac97(dev, AC97_POWERDOWN);\n\t\tif (powerdown < 0)\n\t\t\treturn powerdown;\n\n\t\tif (feat == expected_feat && feat != powerdown)\n\t\t\treturn 0;\n\n\t\tmsleep(50);\n\t}\n\n\tdev_warn(&dev->intf->dev, \"AC97 registers access is not reliable !\\n\");\n\treturn -ETIMEDOUT;\n}\n\n \nstatic void em28xx_pre_card_setup(struct em28xx *dev)\n{\n\t \n\tem28xx_set_xclk_i2c_speed(dev);\n\n\t \n\tswitch (dev->model) {\n\tcase EM2861_BOARD_PLEXTOR_PX_TV100U:\n\t\t \n\t\tdev->i2s_speed = 2048000;\n\t\tbreak;\n\tcase EM2861_BOARD_KWORLD_PVRTV_300U:\n\tcase EM2880_BOARD_KWORLD_DVB_305U:\n\t\tem28xx_write_reg(dev, EM2820_R08_GPIO_CTRL, 0x6d);\n\t\tusleep_range(10000, 11000);\n\t\tem28xx_write_reg(dev, EM2820_R08_GPIO_CTRL, 0x7d);\n\t\tusleep_range(10000, 11000);\n\t\tbreak;\n\tcase EM2870_BOARD_COMPRO_VIDEOMATE:\n\t\t \n\t\tem28xx_write_reg(dev, EM2880_R04_GPO, 0x00);\n\t\tusleep_range(10000, 11000);\n\t\tem28xx_write_reg(dev, EM2880_R04_GPO, 0x01);\n\t\tusleep_range(10000, 11000);\n\t\tem28xx_write_reg(dev, EM2820_R08_GPIO_CTRL, 0xfd);\n\t\tmsleep(70);\n\t\tem28xx_write_reg(dev, EM2820_R08_GPIO_CTRL, 0xfc);\n\t\tmsleep(70);\n\t\tem28xx_write_reg(dev, EM2820_R08_GPIO_CTRL, 0xdc);\n\t\tmsleep(70);\n\t\tem28xx_write_reg(dev, EM2820_R08_GPIO_CTRL, 0xfc);\n\t\tmsleep(70);\n\t\tbreak;\n\tcase EM2870_BOARD_TERRATEC_XS_MT2060:\n\t\t \n\t\tem28xx_write_reg(dev, EM2820_R08_GPIO_CTRL, 0xfe);\n\t\tmsleep(70);\n\t\tem28xx_write_reg(dev, EM2820_R08_GPIO_CTRL, 0xde);\n\t\tmsleep(70);\n\t\tem28xx_write_reg(dev, EM2820_R08_GPIO_CTRL, 0xfe);\n\t\tmsleep(70);\n\t\tbreak;\n\tcase EM2870_BOARD_PINNACLE_PCTV_DVB:\n\t\t \n\t\tem28xx_write_reg(dev, EM2820_R08_GPIO_CTRL, 0xfe);\n\t\tmsleep(70);\n\t\tem28xx_write_reg(dev, EM2820_R08_GPIO_CTRL, 0xde);\n\t\tmsleep(70);\n\t\tem28xx_write_reg(dev, EM2820_R08_GPIO_CTRL, 0xfe);\n\t\tmsleep(70);\n\t\tbreak;\n\tcase EM2820_BOARD_GADMEI_UTV310:\n\tcase EM2820_BOARD_MSI_VOX_USB_2:\n\t\t \n\t\tem28xx_write_reg(dev, EM2820_R08_GPIO_CTRL, 0xfd);\n\t\tbreak;\n\n\tcase EM2882_BOARD_KWORLD_ATSC_315U:\n\t\tem28xx_write_reg(dev, EM2820_R08_GPIO_CTRL, 0xff);\n\t\tusleep_range(10000, 11000);\n\t\tem28xx_write_reg(dev, EM2820_R08_GPIO_CTRL, 0xfe);\n\t\tusleep_range(10000, 11000);\n\t\tem28xx_write_reg(dev, EM2880_R04_GPO, 0x00);\n\t\tusleep_range(10000, 11000);\n\t\tem28xx_write_reg(dev, EM2880_R04_GPO, 0x08);\n\t\tusleep_range(10000, 11000);\n\t\tbreak;\n\n\tcase EM2860_BOARD_KAIOMY_TVNPC_U2:\n\t\tem28xx_write_regs(dev, EM28XX_R0F_XCLK, \"\\x07\", 1);\n\t\tem28xx_write_regs(dev, EM28XX_R06_I2C_CLK, \"\\x40\", 1);\n\t\tem28xx_write_regs(dev, 0x0d, \"\\x42\", 1);\n\t\tem28xx_write_regs(dev, 0x08, \"\\xfd\", 1);\n\t\tusleep_range(10000, 11000);\n\t\tem28xx_write_regs(dev, 0x08, \"\\xff\", 1);\n\t\tusleep_range(10000, 11000);\n\t\tem28xx_write_regs(dev, 0x08, \"\\x7f\", 1);\n\t\tusleep_range(10000, 11000);\n\t\tem28xx_write_regs(dev, 0x08, \"\\x6b\", 1);\n\n\t\tbreak;\n\tcase EM2860_BOARD_EASYCAP:\n\t\tem28xx_write_regs(dev, 0x08, \"\\xf8\", 1);\n\t\tbreak;\n\n\tcase EM2820_BOARD_IODATA_GVMVP_SZ:\n\t\tem28xx_write_reg(dev, EM2820_R08_GPIO_CTRL, 0xff);\n\t\tmsleep(70);\n\t\tem28xx_write_reg(dev, EM2820_R08_GPIO_CTRL, 0xf7);\n\t\tusleep_range(10000, 11000);\n\t\tem28xx_write_reg(dev, EM2820_R08_GPIO_CTRL, 0xfe);\n\t\tmsleep(70);\n\t\tem28xx_write_reg(dev, EM2820_R08_GPIO_CTRL, 0xfd);\n\t\tmsleep(70);\n\t\tbreak;\n\n\tcase EM2860_BOARD_TERRATEC_GRABBY:\n\t\t \n\t\tem28xx_wait_until_ac97_features_equals(dev, 0x6a90);\n\t\tbreak;\n\t}\n\n\tem28xx_gpio_set(dev, dev->board.tuner_gpio);\n\tem28xx_set_mode(dev, EM28XX_ANALOG_MODE);\n\n\t \n\tem28xx_set_mode(dev, EM28XX_SUSPEND);\n}\n\nstatic int em28xx_hint_board(struct em28xx *dev)\n{\n\tint i;\n\n\tif (dev->is_webcam) {\n\t\tif (dev->em28xx_sensor == EM28XX_MT9V011) {\n\t\t\tdev->model = EM2820_BOARD_SILVERCREST_WEBCAM;\n\t\t} else if (dev->em28xx_sensor == EM28XX_MT9M001 ||\n\t\t\t   dev->em28xx_sensor == EM28XX_MT9M111) {\n\t\t\tdev->model = EM2750_BOARD_UNKNOWN;\n\t\t}\n\t\t \n\n\t\treturn 0;\n\t}\n\n\t \n\tfor (i = 0; i < ARRAY_SIZE(em28xx_eeprom_hash); i++) {\n\t\tif (dev->hash == em28xx_eeprom_hash[i].hash) {\n\t\t\tdev->model = em28xx_eeprom_hash[i].model;\n\t\t\tdev->tuner_type = em28xx_eeprom_hash[i].tuner;\n\n\t\t\tdev_err(&dev->intf->dev,\n\t\t\t\t\"Your board has no unique USB ID.\\n\"\n\t\t\t\t\"A hint were successfully done, based on eeprom hash.\\n\"\n\t\t\t\t\"This method is not 100%% failproof.\\n\"\n\t\t\t\t\"If the board were misdetected, please email this log to:\\n\"\n\t\t\t\t\"\\tV4L Mailing List  <linux-media@vger.kernel.org>\\n\"\n\t\t\t\t\"Board detected as %s\\n\",\n\t\t\t       em28xx_boards[dev->model].name);\n\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\t \n\n\t \n\tif (!dev->i2c_hash)\n\t\tem28xx_do_i2c_scan(dev, dev->def_i2c_bus);\n\n\tfor (i = 0; i < ARRAY_SIZE(em28xx_i2c_hash); i++) {\n\t\tif (dev->i2c_hash == em28xx_i2c_hash[i].hash) {\n\t\t\tdev->model = em28xx_i2c_hash[i].model;\n\t\t\tdev->tuner_type = em28xx_i2c_hash[i].tuner;\n\t\t\tdev_err(&dev->intf->dev,\n\t\t\t\t\"Your board has no unique USB ID.\\n\"\n\t\t\t\t\"A hint were successfully done, based on i2c devicelist hash.\\n\"\n\t\t\t\t\"This method is not 100%% failproof.\\n\"\n\t\t\t\t\"If the board were misdetected, please email this log to:\\n\"\n\t\t\t\t\"\\tV4L Mailing List  <linux-media@vger.kernel.org>\\n\"\n\t\t\t\t\"Board detected as %s\\n\",\n\t\t\t\tem28xx_boards[dev->model].name);\n\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\tdev_err(&dev->intf->dev,\n\t\t\"Your board has no unique USB ID and thus need a hint to be detected.\\n\"\n\t\t\"You may try to use card=<n> insmod option to workaround that.\\n\"\n\t\t\"Please send an email with this log to:\\n\"\n\t\t\"\\tV4L Mailing List <linux-media@vger.kernel.org>\\n\"\n\t\t\"Board eeprom hash is 0x%08lx\\n\"\n\t\t\"Board i2c devicelist hash is 0x%08lx\\n\",\n\t\tdev->hash, dev->i2c_hash);\n\n\tdev_err(&dev->intf->dev,\n\t\t\"Here is a list of valid choices for the card=<n> insmod option:\\n\");\n\tfor (i = 0; i < em28xx_bcount; i++) {\n\t\tdev_err(&dev->intf->dev,\n\t\t\t\"    card=%d -> %s\\n\", i, em28xx_boards[i].name);\n\t}\n\treturn -1;\n}\n\nstatic void em28xx_card_setup(struct em28xx *dev)\n{\n\tint i, j, idx;\n\tbool duplicate_entry;\n\n\t \n\tif (dev->is_webcam) {\n\t\tem28xx_detect_sensor(dev);\n\t\tif (dev->em28xx_sensor == EM28XX_NOSENSOR)\n\t\t\t \n\t\t\tdev->is_webcam = 0;\n\t}\n\n\tswitch (dev->model) {\n\tcase EM2750_BOARD_UNKNOWN:\n\tcase EM2820_BOARD_UNKNOWN:\n\tcase EM2800_BOARD_UNKNOWN:\n\t\t \n\t\tif (em28xx_hint_board(dev) < 0) {\n\t\t\tdev_err(&dev->intf->dev, \"Board not discovered\\n\");\n\t\t} else {\n\t\t\tem28xx_set_model(dev);\n\t\t\tem28xx_pre_card_setup(dev);\n\t\t}\n\t\tbreak;\n\tdefault:\n\t\tem28xx_set_model(dev);\n\t}\n\n\tdev_info(&dev->intf->dev, \"Identified as %s (card=%d)\\n\",\n\t\t dev->board.name, dev->model);\n\n\tdev->tuner_type = em28xx_boards[dev->model].tuner_type;\n\n\t \n\tswitch (dev->model) {\n\tcase EM2820_BOARD_HAUPPAUGE_WINTV_USB_2:\n\tcase EM2880_BOARD_HAUPPAUGE_WINTV_HVR_900:\n\tcase EM2880_BOARD_HAUPPAUGE_WINTV_HVR_900_R2:\n\tcase EM2883_BOARD_HAUPPAUGE_WINTV_HVR_850:\n\tcase EM2883_BOARD_HAUPPAUGE_WINTV_HVR_950:\n\tcase EM2884_BOARD_HAUPPAUGE_WINTV_HVR_930C:\n\tcase EM28174_BOARD_HAUPPAUGE_WINTV_DUALHD_DVB:\n\tcase EM28174_BOARD_HAUPPAUGE_WINTV_DUALHD_01595:\n\t{\n\t\tstruct tveeprom tv;\n\n\t\tif (!dev->eedata)\n\t\t\tbreak;\n#if defined(CONFIG_MODULES) && defined(MODULE)\n\t\trequest_module(\"tveeprom\");\n#endif\n\t\t \n\n\t\ttveeprom_hauppauge_analog(&tv, dev->eedata);\n\n\t\tdev->tuner_type = tv.tuner_type;\n\n\t\tif (tv.audio_processor == TVEEPROM_AUDPROC_MSP) {\n\t\t\tdev->i2s_speed = 2048000;\n\t\t\tdev->has_msp34xx = 1;\n\t\t}\n\t\tbreak;\n\t}\n\tcase EM2882_BOARD_KWORLD_ATSC_315U:\n\t\tem28xx_write_reg(dev, 0x0d, 0x42);\n\t\tusleep_range(10000, 11000);\n\t\tem28xx_write_reg(dev, EM2820_R08_GPIO_CTRL, 0xfd);\n\t\tusleep_range(10000, 11000);\n\t\tbreak;\n\tcase EM2820_BOARD_KWORLD_PVRTV2800RF:\n\t\t \n\t\tem28xx_write_reg(dev, EM2820_R08_GPIO_CTRL, 0xf9);\n\t\tbreak;\n\tcase EM2820_BOARD_UNKNOWN:\n\tcase EM2800_BOARD_UNKNOWN:\n\t\t \n\tcase EM2880_BOARD_MSI_DIGIVOX_AD:\n\t\tif (!em28xx_hint_board(dev))\n\t\t\tem28xx_set_model(dev);\n\n\t\t \n\t\tem28xx_gpio_set(dev, dev->board.tuner_gpio);\n\t\tem28xx_set_mode(dev, EM28XX_ANALOG_MODE);\n\t\tbreak;\n\n\t\t \n\tcase EM2882_BOARD_KWORLD_VS_DVBT:\n\t\tif (!em28xx_hint_board(dev))\n\t\t\tem28xx_set_model(dev);\n\n\t\t \n\t\tem28xx_gpio_set(dev, dev->board.tuner_gpio);\n\t\tem28xx_set_mode(dev, EM28XX_ANALOG_MODE);\n\t\tbreak;\n\t}\n\n\tif (dev->board.valid == EM28XX_BOARD_NOT_VALIDATED) {\n\t\tdev_err(&dev->intf->dev,\n\t\t\t\"\\n\\n\"\n\t\t\t\"The support for this board weren't valid yet.\\n\"\n\t\t\t\"Please send a report of having this working\\n\"\n\t\t\t\"not to V4L mailing list (and/or to other addresses)\\n\\n\");\n\t}\n\n\t \n\tkfree(dev->eedata);\n\tdev->eedata = NULL;\n\n\t \n\tif (tuner >= 0)\n\t\tdev->tuner_type = tuner;\n\n\t \n\n\tidx = 0;\n\tfor (i = 0; i < MAX_EM28XX_INPUT; i++) {\n\t\tif (!INPUT(i)->type)\n\t\t\tcontinue;\n\n\t\t \n\t\tduplicate_entry = false;\n\t\tfor (j = 0; j < idx; j++) {\n\t\t\tif (INPUT(i)->amux == dev->amux_map[j]) {\n\t\t\t\tduplicate_entry = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (duplicate_entry)\n\t\t\tcontinue;\n\n\t\tdev->amux_map[idx++] = INPUT(i)->amux;\n\t}\n\tfor (; idx < MAX_EM28XX_INPUT; idx++)\n\t\tdev->amux_map[idx] = EM28XX_AMUX_UNUSED;\n}\n\nvoid em28xx_setup_xc3028(struct em28xx *dev, struct xc2028_ctrl *ctl)\n{\n\tmemset(ctl, 0, sizeof(*ctl));\n\n\tctl->fname   = XC2028_DEFAULT_FIRMWARE;\n\tctl->max_len = 64;\n\tctl->mts = em28xx_boards[dev->model].mts_firmware;\n\n\tswitch (dev->model) {\n\tcase EM2880_BOARD_EMPIRE_DUAL_TV:\n\tcase EM2880_BOARD_HAUPPAUGE_WINTV_HVR_900:\n\tcase EM2882_BOARD_TERRATEC_HYBRID_XS:\n\tcase EM2880_BOARD_TERRATEC_HYBRID_XS:\n\tcase EM2880_BOARD_TERRATEC_HYBRID_XS_FR:\n\tcase EM2881_BOARD_PINNACLE_HYBRID_PRO:\n\tcase EM2882_BOARD_ZOLID_HYBRID_TV_STICK:\n\t\tctl->demod = XC3028_FE_ZARLINK456;\n\t\tbreak;\n\tcase EM2880_BOARD_HAUPPAUGE_WINTV_HVR_900_R2:\n\tcase EM2882_BOARD_PINNACLE_HYBRID_PRO_330E:\n\t\tctl->demod = XC3028_FE_DEFAULT;\n\t\tbreak;\n\tcase EM2880_BOARD_AMD_ATI_TV_WONDER_HD_600:\n\t\tctl->demod = XC3028_FE_DEFAULT;\n\t\tctl->fname = XC3028L_DEFAULT_FIRMWARE;\n\t\tbreak;\n\tcase EM2883_BOARD_HAUPPAUGE_WINTV_HVR_850:\n\tcase EM2883_BOARD_HAUPPAUGE_WINTV_HVR_950:\n\tcase EM2880_BOARD_PINNACLE_PCTV_HD_PRO:\n\t\t \n\t\tctl->demod = XC3028_FE_DEFAULT;\n\t\tbreak;\n\tcase EM2883_BOARD_KWORLD_HYBRID_330U:\n\tcase EM2882_BOARD_DIKOM_DK300:\n\tcase EM2882_BOARD_KWORLD_VS_DVBT:\n\t\tctl->demod = XC3028_FE_CHINA;\n\t\tctl->fname = XC2028_DEFAULT_FIRMWARE;\n\t\tbreak;\n\tcase EM2882_BOARD_EVGA_INDTUBE:\n\t\tctl->demod = XC3028_FE_CHINA;\n\t\tctl->fname = XC3028L_DEFAULT_FIRMWARE;\n\t\tbreak;\n\tdefault:\n\t\tctl->demod = XC3028_FE_OREN538;\n\t}\n}\nEXPORT_SYMBOL_GPL(em28xx_setup_xc3028);\n\nstatic void request_module_async(struct work_struct *work)\n{\n\tstruct em28xx *dev = container_of(work,\n\t\t\t     struct em28xx, request_module_wk);\n\n\t \n\n\t \n\tif (dev->is_audio_only) {\n#if defined(CONFIG_MODULES) && defined(MODULE)\n\t\trequest_module(\"em28xx-alsa\");\n#endif\n\t\treturn;\n\t}\n\n\tem28xx_init_extension(dev);\n\n#if defined(CONFIG_MODULES) && defined(MODULE)\n\tif (dev->has_video)\n\t\trequest_module(\"em28xx-v4l\");\n\tif (dev->usb_audio_type == EM28XX_USB_AUDIO_CLASS)\n\t\trequest_module(\"snd-usb-audio\");\n\telse if (dev->usb_audio_type == EM28XX_USB_AUDIO_VENDOR)\n\t\trequest_module(\"em28xx-alsa\");\n\tif (dev->board.has_dvb)\n\t\trequest_module(\"em28xx-dvb\");\n\tif (dev->board.buttons ||\n\t    ((dev->board.ir_codes || dev->board.has_ir_i2c) && !disable_ir))\n\t\trequest_module(\"em28xx-rc\");\n#endif  \n}\n\nstatic void request_modules(struct em28xx *dev)\n{\n\tINIT_WORK(&dev->request_module_wk, request_module_async);\n\tschedule_work(&dev->request_module_wk);\n}\n\nstatic void flush_request_modules(struct em28xx *dev)\n{\n\tflush_work(&dev->request_module_wk);\n}\n\nstatic int em28xx_media_device_init(struct em28xx *dev,\n\t\t\t\t    struct usb_device *udev)\n{\n#ifdef CONFIG_MEDIA_CONTROLLER\n\tstruct media_device *mdev;\n\n\tmdev = kzalloc(sizeof(*mdev), GFP_KERNEL);\n\tif (!mdev)\n\t\treturn -ENOMEM;\n\n\tif (udev->product)\n\t\tmedia_device_usb_init(mdev, udev, udev->product);\n\telse if (udev->manufacturer)\n\t\tmedia_device_usb_init(mdev, udev, udev->manufacturer);\n\telse\n\t\tmedia_device_usb_init(mdev, udev, dev_name(&dev->intf->dev));\n\n\tdev->media_dev = mdev;\n#endif\n\treturn 0;\n}\n\nstatic void em28xx_unregister_media_device(struct em28xx *dev)\n{\n#ifdef CONFIG_MEDIA_CONTROLLER\n\tif (dev->media_dev) {\n\t\tmedia_device_unregister(dev->media_dev);\n\t\tmedia_device_cleanup(dev->media_dev);\n\t\tkfree(dev->media_dev);\n\t\tdev->media_dev = NULL;\n\t}\n#endif\n}\n\n \nstatic void em28xx_release_resources(struct em28xx *dev)\n{\n\tstruct usb_device *udev = interface_to_usbdev(dev->intf);\n\n\t \n\n\tmutex_lock(&dev->lock);\n\n\tem28xx_unregister_media_device(dev);\n\n\tif (dev->def_i2c_bus)\n\t\tem28xx_i2c_unregister(dev, 1);\n\tem28xx_i2c_unregister(dev, 0);\n\n\tif (dev->ts == PRIMARY_TS)\n\t\tusb_put_dev(udev);\n\n\t \n\tclear_bit(dev->devno, em28xx_devused);\n\n\tmutex_unlock(&dev->lock);\n};\n\n \nvoid em28xx_free_device(struct kref *ref)\n{\n\tstruct em28xx *dev = kref_to_dev(ref);\n\n\tdev_info(&dev->intf->dev, \"Freeing device\\n\");\n\n\tif (!dev->disconnected)\n\t\tem28xx_release_resources(dev);\n\n\tif (dev->ts == PRIMARY_TS)\n\t\tkfree(dev->alt_max_pkt_size_isoc);\n\n\tkfree(dev);\n}\nEXPORT_SYMBOL_GPL(em28xx_free_device);\n\n \nstatic int em28xx_init_dev(struct em28xx *dev, struct usb_device *udev,\n\t\t\t   struct usb_interface *intf,\n\t\t\t   int minor)\n{\n\tint retval;\n\tconst char *chip_name = NULL;\n\n\tdev->intf = intf;\n\tmutex_init(&dev->ctrl_urb_lock);\n\tspin_lock_init(&dev->slock);\n\n\tdev->em28xx_write_regs = em28xx_write_regs;\n\tdev->em28xx_read_reg = em28xx_read_reg;\n\tdev->em28xx_read_reg_req_len = em28xx_read_reg_req_len;\n\tdev->em28xx_write_regs_req = em28xx_write_regs_req;\n\tdev->em28xx_read_reg_req = em28xx_read_reg_req;\n\tdev->board.is_em2800 = em28xx_boards[dev->model].is_em2800;\n\n\tem28xx_set_model(dev);\n\n\tdev->wait_after_write = 5;\n\n\t \n\tretval = em28xx_read_reg(dev, EM28XX_R0A_CHIPID);\n\tif (retval > 0) {\n\t\tdev->chip_id = retval;\n\n\t\tswitch (dev->chip_id) {\n\t\tcase CHIP_ID_EM2800:\n\t\t\tchip_name = \"em2800\";\n\t\t\tbreak;\n\t\tcase CHIP_ID_EM2710:\n\t\t\tchip_name = \"em2710\";\n\t\t\tbreak;\n\t\tcase CHIP_ID_EM2750:\n\t\t\tchip_name = \"em2750\";\n\t\t\tbreak;\n\t\tcase CHIP_ID_EM2765:\n\t\t\tchip_name = \"em2765\";\n\t\t\tdev->wait_after_write = 0;\n\t\t\tdev->is_em25xx = 1;\n\t\t\tdev->eeprom_addrwidth_16bit = 1;\n\t\t\tbreak;\n\t\tcase CHIP_ID_EM2820:\n\t\t\tchip_name = \"em2710/2820\";\n\t\t\tif (le16_to_cpu(udev->descriptor.idVendor) == 0xeb1a) {\n\t\t\t\t__le16 idProd = udev->descriptor.idProduct;\n\n\t\t\t\tif (le16_to_cpu(idProd) == 0x2710)\n\t\t\t\t\tchip_name = \"em2710\";\n\t\t\t\telse if (le16_to_cpu(idProd) == 0x2820)\n\t\t\t\t\tchip_name = \"em2820\";\n\t\t\t}\n\t\t\t \n\t\t\tbreak;\n\t\tcase CHIP_ID_EM2840:\n\t\t\tchip_name = \"em2840\";\n\t\t\tbreak;\n\t\tcase CHIP_ID_EM2860:\n\t\t\tchip_name = \"em2860\";\n\t\t\tbreak;\n\t\tcase CHIP_ID_EM2870:\n\t\t\tchip_name = \"em2870\";\n\t\t\tdev->wait_after_write = 0;\n\t\t\tbreak;\n\t\tcase CHIP_ID_EM2874:\n\t\t\tchip_name = \"em2874\";\n\t\t\tdev->wait_after_write = 0;\n\t\t\tdev->eeprom_addrwidth_16bit = 1;\n\t\t\tbreak;\n\t\tcase CHIP_ID_EM28174:\n\t\t\tchip_name = \"em28174\";\n\t\t\tdev->wait_after_write = 0;\n\t\t\tdev->eeprom_addrwidth_16bit = 1;\n\t\t\tbreak;\n\t\tcase CHIP_ID_EM28178:\n\t\t\tchip_name = \"em28178\";\n\t\t\tdev->wait_after_write = 0;\n\t\t\tdev->eeprom_addrwidth_16bit = 1;\n\t\t\tbreak;\n\t\tcase CHIP_ID_EM2883:\n\t\t\tchip_name = \"em2882/3\";\n\t\t\tdev->wait_after_write = 0;\n\t\t\tbreak;\n\t\tcase CHIP_ID_EM2884:\n\t\t\tchip_name = \"em2884\";\n\t\t\tdev->wait_after_write = 0;\n\t\t\tdev->eeprom_addrwidth_16bit = 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (!chip_name)\n\t\tdev_info(&dev->intf->dev,\n\t\t\t \"unknown em28xx chip ID (%d)\\n\", dev->chip_id);\n\telse\n\t\tdev_info(&dev->intf->dev, \"chip ID is %s\\n\", chip_name);\n\n\tem28xx_media_device_init(dev, udev);\n\n\tif (dev->is_audio_only) {\n\t\tretval = em28xx_audio_setup(dev);\n\t\tif (retval) {\n\t\t\tretval = -ENODEV;\n\t\t\tgoto err_deinit_media;\n\t\t}\n\t\tem28xx_init_extension(dev);\n\n\t\treturn 0;\n\t}\n\n\tem28xx_pre_card_setup(dev);\n\n\trt_mutex_init(&dev->i2c_bus_lock);\n\n\t \n\tif (dev->board.is_em2800)\n\t\tretval = em28xx_i2c_register(dev, 0, EM28XX_I2C_ALGO_EM2800);\n\telse\n\t\tretval = em28xx_i2c_register(dev, 0, EM28XX_I2C_ALGO_EM28XX);\n\tif (retval < 0) {\n\t\tdev_err(&dev->intf->dev,\n\t\t\t\"%s: em28xx_i2c_register bus 0 - error [%d]!\\n\",\n\t\t       __func__, retval);\n\t\tgoto err_deinit_media;\n\t}\n\n\t \n\tif (dev->def_i2c_bus) {\n\t\tif (dev->is_em25xx)\n\t\t\tretval = em28xx_i2c_register(dev, 1,\n\t\t\t\t\t\t     EM28XX_I2C_ALGO_EM25XX_BUS_B);\n\t\telse\n\t\t\tretval = em28xx_i2c_register(dev, 1,\n\t\t\t\t\t\t     EM28XX_I2C_ALGO_EM28XX);\n\t\tif (retval < 0) {\n\t\t\tdev_err(&dev->intf->dev,\n\t\t\t\t\"%s: em28xx_i2c_register bus 1 - error [%d]!\\n\",\n\t\t\t\t__func__, retval);\n\n\t\t\tgoto err_unreg_i2c;\n\t\t}\n\t}\n\n\t \n\tem28xx_card_setup(dev);\n\n\treturn 0;\n\nerr_unreg_i2c:\n\tem28xx_i2c_unregister(dev, 0);\nerr_deinit_media:\n\tem28xx_unregister_media_device(dev);\n\treturn retval;\n}\n\nstatic int em28xx_duplicate_dev(struct em28xx *dev)\n{\n\tint nr;\n\tstruct em28xx *sec_dev = kmemdup(dev, sizeof(*sec_dev), GFP_KERNEL);\n\n\tif (!sec_dev) {\n\t\tdev->dev_next = NULL;\n\t\treturn -ENOMEM;\n\t}\n\t \n\tdo {\n\t\tnr = find_first_zero_bit(em28xx_devused, EM28XX_MAXBOARDS);\n\t\tif (nr >= EM28XX_MAXBOARDS) {\n\t\t\t \n\t\t\tdev_warn(&dev->intf->dev, \": Supports only %i em28xx boards.\\n\",\n\t\t\t\t EM28XX_MAXBOARDS);\n\t\t\tkfree(sec_dev);\n\t\t\tdev->dev_next = NULL;\n\t\t\treturn -ENOMEM;\n\t\t}\n\t} while (test_and_set_bit(nr, em28xx_devused));\n\tsec_dev->devno = nr;\n\tsnprintf(sec_dev->name, 28, \"em28xx #%d\", nr);\n\tsec_dev->dev_next = NULL;\n\tdev->dev_next = sec_dev;\n\treturn 0;\n}\n\n \n#define hb_mult(wMaxPacketSize) (1 + (((wMaxPacketSize) >> 11) & 0x03))\n\nstatic void em28xx_check_usb_descriptor(struct em28xx *dev,\n\t\t\t\t\tstruct usb_device *udev,\n\t\t\t\t\tstruct usb_interface *intf,\n\t\t\t\t\tint alt, int ep,\n\t\t\t\t\tbool *has_vendor_audio,\n\t\t\t\t\tbool *has_video,\n\t\t\t\t\tbool *has_dvb)\n{\n\tconst struct usb_endpoint_descriptor *e;\n\tint sizedescr, size;\n\n\t \n\n\te = &intf->altsetting[alt].endpoint[ep].desc;\n\n\tif (!usb_endpoint_dir_in(e))\n\t\treturn;\n\n\tsizedescr = le16_to_cpu(e->wMaxPacketSize);\n\tsize = sizedescr & 0x7ff;\n\n\tif (udev->speed == USB_SPEED_HIGH)\n\t\tsize = size * hb_mult(sizedescr);\n\n\t \n\n\tswitch (e->bEndpointAddress) {\n\tcase 0x82:\n\t\t*has_video = true;\n\t\tif (usb_endpoint_xfer_isoc(e)) {\n\t\t\tdev->analog_ep_isoc = e->bEndpointAddress;\n\t\t\tdev->alt_max_pkt_size_isoc[alt] = size;\n\t\t} else if (usb_endpoint_xfer_bulk(e)) {\n\t\t\tdev->analog_ep_bulk = e->bEndpointAddress;\n\t\t}\n\t\treturn;\n\tcase 0x83:\n\t\tif (usb_endpoint_xfer_isoc(e))\n\t\t\t*has_vendor_audio = true;\n\t\telse\n\t\t\tdev_err(&intf->dev,\n\t\t\t\t\"error: skipping audio endpoint 0x83, because it uses bulk transfers !\\n\");\n\t\treturn;\n\tcase 0x84:\n\t\tif (*has_video && (usb_endpoint_xfer_bulk(e))) {\n\t\t\tdev->analog_ep_bulk = e->bEndpointAddress;\n\t\t} else {\n\t\t\tif (usb_endpoint_xfer_isoc(e)) {\n\t\t\t\tif (size > dev->dvb_max_pkt_size_isoc) {\n\t\t\t\t\t \n\t\t\t\t\t*has_dvb = true;\n\t\t\t\t\tdev->dvb_ep_isoc = e->bEndpointAddress;\n\t\t\t\t\tdev->dvb_max_pkt_size_isoc = size;\n\t\t\t\t\tdev->dvb_alt_isoc = alt;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t*has_dvb = true;\n\t\t\t\tdev->dvb_ep_bulk = e->bEndpointAddress;\n\t\t\t}\n\t\t}\n\t\treturn;\n\tcase 0x85:\n\t\tif (usb_endpoint_xfer_isoc(e)) {\n\t\t\tif (size > dev->dvb_max_pkt_size_isoc_ts2) {\n\t\t\t\tdev->dvb_ep_isoc_ts2 = e->bEndpointAddress;\n\t\t\t\tdev->dvb_max_pkt_size_isoc_ts2 = size;\n\t\t\t\tdev->dvb_alt_isoc = alt;\n\t\t\t}\n\t\t} else {\n\t\t\tdev->dvb_ep_bulk_ts2 = e->bEndpointAddress;\n\t\t}\n\t\treturn;\n\t}\n}\n\n \nstatic int em28xx_usb_probe(struct usb_interface *intf,\n\t\t\t    const struct usb_device_id *id)\n{\n\tstruct usb_device *udev;\n\tstruct em28xx *dev = NULL;\n\tint retval;\n\tbool has_vendor_audio = false, has_video = false, has_dvb = false;\n\tint i, nr, try_bulk;\n\tconst int ifnum = intf->altsetting[0].desc.bInterfaceNumber;\n\tchar *speed;\n\n\tudev = usb_get_dev(interface_to_usbdev(intf));\n\n\t \n\tdo {\n\t\tnr = find_first_zero_bit(em28xx_devused, EM28XX_MAXBOARDS);\n\t\tif (nr >= EM28XX_MAXBOARDS) {\n\t\t\t \n\t\t\tdev_err(&intf->dev,\n\t\t\t\t\"Driver supports up to %i em28xx boards.\\n\",\n\t\t\t       EM28XX_MAXBOARDS);\n\t\t\tretval = -ENOMEM;\n\t\t\tgoto err_no_slot;\n\t\t}\n\t} while (test_and_set_bit(nr, em28xx_devused));\n\n\t \n\tif (intf->altsetting[0].desc.bInterfaceClass == USB_CLASS_AUDIO) {\n\t\tdev_info(&intf->dev,\n\t\t\t\"audio device (%04x:%04x): interface %i, class %i\\n\",\n\t\t\tle16_to_cpu(udev->descriptor.idVendor),\n\t\t\tle16_to_cpu(udev->descriptor.idProduct),\n\t\t\tifnum,\n\t\t\tintf->altsetting[0].desc.bInterfaceClass);\n\n\t\tretval = -ENODEV;\n\t\tgoto err;\n\t}\n\n\t \n\tdev = kzalloc(sizeof(*dev), GFP_KERNEL);\n\tif (!dev) {\n\t\tretval = -ENOMEM;\n\t\tgoto err;\n\t}\n\n\t \n\tdev->alt_max_pkt_size_isoc = kcalloc(intf->num_altsetting,\n\t\t\t\t\t     sizeof(dev->alt_max_pkt_size_isoc[0]),\n\t\t\t\t\t     GFP_KERNEL);\n\tif (!dev->alt_max_pkt_size_isoc) {\n\t\tkfree(dev);\n\t\tretval = -ENOMEM;\n\t\tgoto err;\n\t}\n\n\t \n\tfor (i = 0; i < intf->num_altsetting; i++) {\n\t\tint ep;\n\n\t\tfor (ep = 0;\n\t\t     ep < intf->altsetting[i].desc.bNumEndpoints;\n\t\t     ep++)\n\t\t\tem28xx_check_usb_descriptor(dev, udev, intf,\n\t\t\t\t\t\t    i, ep,\n\t\t\t\t\t\t    &has_vendor_audio,\n\t\t\t\t\t\t    &has_video,\n\t\t\t\t\t\t    &has_dvb);\n\t}\n\n\tif (!(has_vendor_audio || has_video || has_dvb)) {\n\t\tretval = -ENODEV;\n\t\tgoto err_free;\n\t}\n\n\tswitch (udev->speed) {\n\tcase USB_SPEED_LOW:\n\t\tspeed = \"1.5\";\n\t\tbreak;\n\tcase USB_SPEED_UNKNOWN:\n\tcase USB_SPEED_FULL:\n\t\tspeed = \"12\";\n\t\tbreak;\n\tcase USB_SPEED_HIGH:\n\t\tspeed = \"480\";\n\t\tbreak;\n\tdefault:\n\t\tspeed = \"unknown\";\n\t}\n\n\tdev_info(&intf->dev,\n\t\t\"New device %s %s @ %s Mbps (%04x:%04x, interface %d, class %d)\\n\",\n\t\tudev->manufacturer ? udev->manufacturer : \"\",\n\t\tudev->product ? udev->product : \"\",\n\t\tspeed,\n\t\tle16_to_cpu(udev->descriptor.idVendor),\n\t\tle16_to_cpu(udev->descriptor.idProduct),\n\t\tifnum,\n\t\tintf->altsetting->desc.bInterfaceNumber);\n\n\t \n\tif (udev->speed != USB_SPEED_HIGH && disable_usb_speed_check == 0) {\n\t\tdev_err(&intf->dev, \"Device initialization failed.\\n\");\n\t\tdev_err(&intf->dev,\n\t\t\t\"Device must be connected to a high-speed USB 2.0 port.\\n\");\n\t\tretval = -ENODEV;\n\t\tgoto err_free;\n\t}\n\n\tkref_init(&dev->ref);\n\n\tdev->devno = nr;\n\tdev->model = id->driver_info;\n\tdev->alt   = -1;\n\tdev->is_audio_only = has_vendor_audio && !(has_video || has_dvb);\n\tdev->has_video = has_video;\n\tdev->ifnum = ifnum;\n\n\tdev->ts = PRIMARY_TS;\n\tsnprintf(dev->name, 28, \"em28xx\");\n\tdev->dev_next = NULL;\n\n\tif (has_vendor_audio) {\n\t\tdev_info(&intf->dev,\n\t\t\t\"Audio interface %i found (Vendor Class)\\n\", ifnum);\n\t\tdev->usb_audio_type = EM28XX_USB_AUDIO_VENDOR;\n\t}\n\t \n\tfor (i = 0; i < udev->config->desc.bNumInterfaces; i++) {\n\t\tstruct usb_interface *uif = udev->config->interface[i];\n\n\t\tif (uif->altsetting[0].desc.bInterfaceClass == USB_CLASS_AUDIO) {\n\t\t\tif (has_vendor_audio)\n\t\t\t\tdev_err(&intf->dev,\n\t\t\t\t\t\"em28xx: device seems to have vendor AND usb audio class interfaces !\\n\"\n\t\t\t\t\t\"\\t\\tThe vendor interface will be ignored. Please contact the developers <linux-media@vger.kernel.org>\\n\");\n\t\t\tdev->usb_audio_type = EM28XX_USB_AUDIO_CLASS;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (has_video)\n\t\tdev_info(&intf->dev, \"Video interface %i found:%s%s\\n\",\n\t\t\tifnum,\n\t\t\tdev->analog_ep_bulk ? \" bulk\" : \"\",\n\t\t\tdev->analog_ep_isoc ? \" isoc\" : \"\");\n\tif (has_dvb)\n\t\tdev_info(&intf->dev, \"DVB interface %i found:%s%s\\n\",\n\t\t\tifnum,\n\t\t\tdev->dvb_ep_bulk ? \" bulk\" : \"\",\n\t\t\tdev->dvb_ep_isoc ? \" isoc\" : \"\");\n\n\tdev->num_alt = intf->num_altsetting;\n\n\tif ((unsigned int)card[nr] < em28xx_bcount)\n\t\tdev->model = card[nr];\n\n\t \n\tusb_set_intfdata(intf, dev);\n\n\t \n\tmutex_init(&dev->lock);\n\tretval = em28xx_init_dev(dev, udev, intf, nr);\n\tif (retval)\n\t\tgoto err_free;\n\n\tif (usb_xfer_mode < 0) {\n\t\tif (dev->is_webcam)\n\t\t\ttry_bulk = 1;\n\t\telse\n\t\t\ttry_bulk = 0;\n\t} else {\n\t\ttry_bulk = usb_xfer_mode > 0;\n\t}\n\n\t \n\tif (has_video &&\n\t    dev->board.decoder == EM28XX_NODECODER &&\n\t    dev->em28xx_sensor == EM28XX_NOSENSOR) {\n\t\tdev_err(&intf->dev,\n\t\t\t\"Currently, V4L2 is not supported on this model\\n\");\n\t\thas_video = false;\n\t\tdev->has_video = false;\n\t}\n\n\tif (dev->board.has_dual_ts &&\n\t    (dev->tuner_type != TUNER_ABSENT || INPUT(0)->type)) {\n\t\t \n\t\tdev_err(&intf->dev,\n\t\t\t\"We currently don't support analog TV or stream capture on dual tuners.\\n\");\n\t\thas_video = false;\n\t}\n\n\t \n\tif (has_video) {\n\t\tif (!dev->analog_ep_isoc || (try_bulk && dev->analog_ep_bulk))\n\t\t\tdev->analog_xfer_bulk = 1;\n\t\tdev_info(&intf->dev, \"analog set to %s mode.\\n\",\n\t\t\tdev->analog_xfer_bulk ? \"bulk\" : \"isoc\");\n\t}\n\tif (has_dvb) {\n\t\tif (!dev->dvb_ep_isoc || (try_bulk && dev->dvb_ep_bulk))\n\t\t\tdev->dvb_xfer_bulk = 1;\n\t\tdev_info(&intf->dev, \"dvb set to %s mode.\\n\",\n\t\t\tdev->dvb_xfer_bulk ? \"bulk\" : \"isoc\");\n\t}\n\n\tif (dev->board.has_dual_ts && em28xx_duplicate_dev(dev) == 0) {\n\t\tkref_init(&dev->dev_next->ref);\n\n\t\tdev->dev_next->ts = SECONDARY_TS;\n\t\tdev->dev_next->alt   = -1;\n\t\tdev->dev_next->is_audio_only = has_vendor_audio &&\n\t\t\t\t\t\t!(has_video || has_dvb);\n\t\tdev->dev_next->has_video = false;\n\t\tdev->dev_next->ifnum = ifnum;\n\t\tdev->dev_next->model = id->driver_info;\n\n\t\tmutex_init(&dev->dev_next->lock);\n\t\tretval = em28xx_init_dev(dev->dev_next, udev, intf,\n\t\t\t\t\t dev->dev_next->devno);\n\t\tif (retval)\n\t\t\tgoto err_free;\n\n\t\tdev->dev_next->board.ir_codes = NULL;  \n\t\tdev->dev_next->board.has_ir_i2c = 0;  \n\n\t\tif (usb_xfer_mode < 0) {\n\t\t\tif (dev->dev_next->is_webcam)\n\t\t\t\ttry_bulk = 1;\n\t\t\telse\n\t\t\t\ttry_bulk = 0;\n\t\t} else {\n\t\t\ttry_bulk = usb_xfer_mode > 0;\n\t\t}\n\n\t\t \n\t\tif (has_dvb) {\n\t\t\tif (!dev->dvb_ep_isoc_ts2 ||\n\t\t\t    (try_bulk && dev->dvb_ep_bulk_ts2))\n\t\t\t\tdev->dev_next->dvb_xfer_bulk = 1;\n\t\t\tdev_info(&dev->intf->dev, \"dvb ts2 set to %s mode.\\n\",\n\t\t\t\t dev->dev_next->dvb_xfer_bulk ? \"bulk\" : \"isoc\");\n\t\t}\n\n\t\tdev->dev_next->dvb_ep_isoc = dev->dvb_ep_isoc_ts2;\n\t\tdev->dev_next->dvb_ep_bulk = dev->dvb_ep_bulk_ts2;\n\t\tdev->dev_next->dvb_max_pkt_size_isoc = dev->dvb_max_pkt_size_isoc_ts2;\n\t\tdev->dev_next->dvb_alt_isoc = dev->dvb_alt_isoc;\n\n\t\t \n\t\tif (dev->dvb_xfer_bulk) {\n\t\t\t \n\t\t\tem28xx_write_reg(dev, 0x0b, 0x96);\n\t\t\tmdelay(100);\n\t\t\tem28xx_write_reg(dev, 0x0b, 0x80);\n\t\t\tmdelay(100);\n\t\t} else {\n\t\t\t \n\t\t\tem28xx_write_reg(dev, 0x0b, 0x96);\n\t\t\tmdelay(100);\n\t\t\tem28xx_write_reg(dev, 0x0b, 0x82);\n\t\t\tmdelay(100);\n\t\t}\n\t}\n\n\trequest_modules(dev);\n\n\t \n#ifdef CONFIG_MEDIA_CONTROLLER\n\tretval = media_device_register(dev->media_dev);\n#endif\n\n\treturn 0;\n\nerr_free:\n\tkfree(dev->alt_max_pkt_size_isoc);\n\tkfree(dev);\n\nerr:\n\tclear_bit(nr, em28xx_devused);\n\nerr_no_slot:\n\tusb_put_dev(udev);\n\treturn retval;\n}\n\n \nstatic void em28xx_usb_disconnect(struct usb_interface *intf)\n{\n\tstruct em28xx *dev;\n\n\tdev = usb_get_intfdata(intf);\n\tusb_set_intfdata(intf, NULL);\n\n\tif (!dev)\n\t\treturn;\n\n\tif (dev->dev_next) {\n\t\tdev->dev_next->disconnected = 1;\n\t\tdev_info(&dev->intf->dev, \"Disconnecting %s\\n\",\n\t\t\t dev->dev_next->name);\n\t}\n\n\tdev->disconnected = 1;\n\n\tdev_info(&dev->intf->dev, \"Disconnecting %s\\n\", dev->name);\n\n\tflush_request_modules(dev);\n\n\tem28xx_close_extension(dev);\n\n\tif (dev->dev_next)\n\t\tem28xx_release_resources(dev->dev_next);\n\tem28xx_release_resources(dev);\n\n\tif (dev->dev_next) {\n\t\tkref_put(&dev->dev_next->ref, em28xx_free_device);\n\t\tdev->dev_next = NULL;\n\t}\n\tkref_put(&dev->ref, em28xx_free_device);\n}\n\nstatic int em28xx_usb_suspend(struct usb_interface *intf,\n\t\t\t      pm_message_t message)\n{\n\tstruct em28xx *dev;\n\n\tdev = usb_get_intfdata(intf);\n\tif (!dev)\n\t\treturn 0;\n\tem28xx_suspend_extension(dev);\n\treturn 0;\n}\n\nstatic int em28xx_usb_resume(struct usb_interface *intf)\n{\n\tstruct em28xx *dev;\n\n\tdev = usb_get_intfdata(intf);\n\tif (!dev)\n\t\treturn 0;\n\tem28xx_resume_extension(dev);\n\treturn 0;\n}\n\nstatic struct usb_driver em28xx_usb_driver = {\n\t.name = \"em28xx\",\n\t.probe = em28xx_usb_probe,\n\t.disconnect = em28xx_usb_disconnect,\n\t.suspend = em28xx_usb_suspend,\n\t.resume = em28xx_usb_resume,\n\t.reset_resume = em28xx_usb_resume,\n\t.id_table = em28xx_id_table,\n};\n\nmodule_usb_driver(em28xx_usb_driver);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}