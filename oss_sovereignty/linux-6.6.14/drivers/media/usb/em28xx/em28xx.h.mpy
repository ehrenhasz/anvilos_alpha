{
  "module_name": "em28xx.h",
  "hash_id": "c53db5d0dd23bbae7e59dbd0142cdb17f099241603b69b8a95863354d3208517",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/usb/em28xx/em28xx.h",
  "human_readable_source": " \n \n\n#ifndef _EM28XX_H\n#define _EM28XX_H\n\n#include <linux/bitfield.h>\n\n#define EM28XX_VERSION \"0.2.2\"\n#define DRIVER_DESC    \"Empia em28xx device driver\"\n\n#include <linux/workqueue.h>\n#include <linux/i2c.h>\n#include <linux/mutex.h>\n#include <linux/kref.h>\n#include <linux/videodev2.h>\n\n#include <media/videobuf2-v4l2.h>\n#include <media/videobuf2-vmalloc.h>\n#include <media/v4l2-device.h>\n#include <media/v4l2-ctrls.h>\n#include <media/v4l2-fh.h>\n#include <media/i2c/ir-kbd-i2c.h>\n#include <media/rc-core.h>\n#include \"xc2028.h\"\n#include \"xc5000.h\"\n#include \"em28xx-reg.h\"\n\n \n#define EM2800_BOARD_UNKNOWN\t\t\t  0\n#define EM2820_BOARD_UNKNOWN\t\t\t  1\n#define EM2820_BOARD_TERRATEC_CINERGY_250\t  2\n#define EM2820_BOARD_PINNACLE_USB_2\t\t  3\n#define EM2820_BOARD_HAUPPAUGE_WINTV_USB_2\t  4\n#define EM2820_BOARD_MSI_VOX_USB_2\t\t  5\n#define EM2800_BOARD_TERRATEC_CINERGY_200\t  6\n#define EM2800_BOARD_LEADTEK_WINFAST_USBII\t  7\n#define EM2800_BOARD_KWORLD_USB2800\t\t  8\n#define EM2820_BOARD_PINNACLE_DVC_90\t\t  9\n#define EM2880_BOARD_HAUPPAUGE_WINTV_HVR_900\t  10\n#define EM2880_BOARD_TERRATEC_HYBRID_XS\t\t  11\n#define EM2820_BOARD_KWORLD_PVRTV2800RF\t\t  12\n#define EM2880_BOARD_TERRATEC_PRODIGY_XS\t  13\n#define EM2820_BOARD_PROLINK_PLAYTV_USB2\t  14\n#define EM2800_BOARD_VGEAR_POCKETTV\t\t  15\n#define EM2883_BOARD_HAUPPAUGE_WINTV_HVR_950\t  16\n#define EM2880_BOARD_PINNACLE_PCTV_HD_PRO\t  17\n#define EM2880_BOARD_HAUPPAUGE_WINTV_HVR_900_R2\t  18\n#define EM2860_BOARD_SAA711X_REFERENCE_DESIGN\t  19\n#define EM2880_BOARD_AMD_ATI_TV_WONDER_HD_600\t  20\n#define EM2800_BOARD_GRABBEEX_USB2800\t\t  21\n#define EM2750_BOARD_UNKNOWN\t\t\t  22\n#define EM2750_BOARD_DLCW_130\t\t\t  23\n#define EM2820_BOARD_DLINK_USB_TV\t\t  24\n#define EM2820_BOARD_GADMEI_UTV310\t\t  25\n#define EM2820_BOARD_HERCULES_SMART_TV_USB2\t  26\n#define EM2820_BOARD_PINNACLE_USB_2_FM1216ME\t  27\n#define EM2820_BOARD_LEADTEK_WINFAST_USBII_DELUXE 28\n#define EM2860_BOARD_TVP5150_REFERENCE_DESIGN\t  29\n#define EM2820_BOARD_VIDEOLOGY_20K14XUSB\t  30\n#define EM2821_BOARD_USBGEAR_VD204\t\t  31\n#define EM2821_BOARD_SUPERCOMP_USB_2\t\t  32\n#define EM2860_BOARD_ELGATO_VIDEO_CAPTURE\t  33\n#define EM2860_BOARD_TERRATEC_HYBRID_XS\t\t  34\n#define EM2860_BOARD_TYPHOON_DVD_MAKER\t\t  35\n#define EM2860_BOARD_NETGMBH_CAM\t\t  36\n#define EM2860_BOARD_GADMEI_UTV330\t\t  37\n#define EM2861_BOARD_YAKUMO_MOVIE_MIXER\t\t  38\n#define EM2861_BOARD_KWORLD_PVRTV_300U\t\t  39\n#define EM2861_BOARD_PLEXTOR_PX_TV100U\t\t  40\n#define EM2870_BOARD_KWORLD_350U\t\t  41\n#define EM2870_BOARD_KWORLD_355U\t\t  42\n#define EM2870_BOARD_TERRATEC_XS\t\t  43\n#define EM2870_BOARD_TERRATEC_XS_MT2060\t\t  44\n#define EM2870_BOARD_PINNACLE_PCTV_DVB\t\t  45\n#define EM2870_BOARD_COMPRO_VIDEOMATE\t\t  46\n#define EM2880_BOARD_KWORLD_DVB_305U\t\t  47\n#define EM2880_BOARD_KWORLD_DVB_310U\t\t  48\n#define EM2880_BOARD_MSI_DIGIVOX_AD\t\t  49\n#define EM2880_BOARD_MSI_DIGIVOX_AD_II\t\t  50\n#define EM2880_BOARD_TERRATEC_HYBRID_XS_FR\t  51\n#define EM2881_BOARD_DNT_DA2_HYBRID\t\t  52\n#define EM2881_BOARD_PINNACLE_HYBRID_PRO\t  53\n#define EM2882_BOARD_KWORLD_VS_DVBT\t\t  54\n#define EM2882_BOARD_TERRATEC_HYBRID_XS\t\t  55\n#define EM2882_BOARD_PINNACLE_HYBRID_PRO_330E\t  56\n#define EM2883_BOARD_KWORLD_HYBRID_330U\t\t  57\n#define EM2820_BOARD_COMPRO_VIDEOMATE_FORYOU\t  58\n#define EM2874_BOARD_PCTV_HD_MINI_80E\t\t  59\n#define EM2883_BOARD_HAUPPAUGE_WINTV_HVR_850\t  60\n#define EM2820_BOARD_PROLINK_PLAYTV_BOX4_USB2\t  61\n#define EM2820_BOARD_GADMEI_TVR200\t\t  62\n#define EM2860_BOARD_KAIOMY_TVNPC_U2\t\t  63\n#define EM2860_BOARD_EASYCAP\t\t\t  64\n#define EM2820_BOARD_IODATA_GVMVP_SZ\t\t  65\n#define EM2880_BOARD_EMPIRE_DUAL_TV\t\t  66\n#define EM2860_BOARD_TERRATEC_GRABBY\t\t  67\n#define EM2860_BOARD_TERRATEC_AV350\t\t  68\n#define EM2882_BOARD_KWORLD_ATSC_315U\t\t  69\n#define EM2882_BOARD_EVGA_INDTUBE\t\t  70\n#define EM2820_BOARD_SILVERCREST_WEBCAM\t\t  71\n#define EM2861_BOARD_GADMEI_UTV330PLUS\t\t  72\n#define EM2870_BOARD_REDDO_DVB_C_USB_BOX\t  73\n#define EM2800_BOARD_VC211A\t\t\t  74\n#define EM2882_BOARD_DIKOM_DK300\t\t  75\n#define EM2870_BOARD_KWORLD_A340\t\t  76\n#define EM2874_BOARD_LEADERSHIP_ISDBT\t\t  77\n#define EM28174_BOARD_PCTV_290E\t\t\t  78\n#define EM2884_BOARD_TERRATEC_H5\t\t  79\n#define EM28174_BOARD_PCTV_460E\t\t\t  80\n#define EM2884_BOARD_HAUPPAUGE_WINTV_HVR_930C\t  81\n#define EM2884_BOARD_CINERGY_HTC_STICK\t\t  82\n#define EM2860_BOARD_HT_VIDBOX_NW03\t\t  83\n#define EM2874_BOARD_MAXMEDIA_UB425_TC\t\t  84\n#define EM2884_BOARD_PCTV_510E\t\t\t  85\n#define EM2884_BOARD_PCTV_520E\t\t\t  86\n#define EM2884_BOARD_TERRATEC_HTC_USB_XS\t  87\n#define EM2884_BOARD_C3TECH_DIGITAL_DUO\t\t  88\n#define EM2874_BOARD_DELOCK_61959\t\t  89\n#define EM2874_BOARD_KWORLD_UB435Q_V2\t\t  90\n#define EM2765_BOARD_SPEEDLINK_VAD_LAPLACE\t  91\n#define EM28178_BOARD_PCTV_461E                   92\n#define EM2874_BOARD_KWORLD_UB435Q_V3\t\t  93\n#define EM28178_BOARD_PCTV_292E                   94\n#define EM2861_BOARD_LEADTEK_VC100                95\n#define EM28178_BOARD_TERRATEC_T2_STICK_HD        96\n#define EM2884_BOARD_ELGATO_EYETV_HYBRID_2008     97\n#define EM28178_BOARD_PLEX_PX_BCUD                98\n#define EM28174_BOARD_HAUPPAUGE_WINTV_DUALHD_DVB  99\n#define EM28174_BOARD_HAUPPAUGE_WINTV_DUALHD_01595 100\n#define EM2884_BOARD_TERRATEC_H6\t\t  101\n#define EM2882_BOARD_ZOLID_HYBRID_TV_STICK\t\t102\n#define EM2861_BOARD_MAGIX_VIDEOWANDLER2          103\n#define EM28178_BOARD_PCTV_461E_V2                104\n#define EM2860_BOARD_MYGICA_IGRABBER              105\n#define EM2874_BOARD_HAUPPAUGE_USB_QUADHD         106\n\n \n#define EM28XX_MIN_BUF 4\n#define EM28XX_DEF_BUF 8\n\n \n#define URB_MAX_CTRL_SIZE 80\n\n \n#define EM28XX_BOARD_NOT_VALIDATED 1\n#define EM28XX_BOARD_VALIDATED\t   0\n\n \n#define EM28XX_START_AUDIO      1\n#define EM28XX_STOP_AUDIO       0\n\n \n#define EM28XX_MAXBOARDS DVB_MAX_ADAPTERS  \n\n \n#define EM28XX_NUM_FRAMES 5\n \n#define EM28XX_NUM_READ_FRAMES 2\n\n \n#define EM28XX_NUM_BUFS 5\n#define EM28XX_DVB_NUM_BUFS 5\n\n \n#define NUM_I2C_BUSES\t2\n\n \n#define EM28XX_NUM_ISOC_PACKETS 64\n#define EM28XX_DVB_NUM_ISOC_PACKETS 64\n\n \n#define EM28XX_BULK_PACKET_MULTIPLIER 384\n#define EM28XX_DVB_BULK_PACKET_MULTIPLIER 94\n\n#define EM28XX_INTERLACED_DEFAULT 1\n\n \n#define EM28XX_AC97_XFER_TIMEOUT\t100\n\n \n#define EM28XX_NUM_BUTTON_ADDRESSES_MAX\t\t5\n\n#define PRIMARY_TS\t0\n#define SECONDARY_TS\t1\n\nenum em28xx_mode {\n\tEM28XX_SUSPEND,\n\tEM28XX_ANALOG_MODE,\n\tEM28XX_DIGITAL_MODE,\n};\n\nstruct em28xx;\n\n \nstruct em28xx_usb_bufs {\n\tint\t\t\t\tmax_pkt_size;\n\tint\t\t\t\tnum_packets;\n\tint\t\t\t\tnum_bufs;\n\tstruct urb\t\t\t**urb;\n\tchar\t\t\t\t**buf;\n};\n\n \nstruct em28xx_usb_ctl {\n\tstruct em28xx_usb_bufs\t\tanalog_bufs;\n\tstruct em28xx_usb_bufs\t\tdigital_bufs;\n\tstruct em28xx_buffer\t*vid_buf;\n\tstruct em28xx_buffer\t*vbi_buf;\n\tint (*urb_data_copy)(struct em28xx *dev, struct urb *urb);\n};\n\n \nstruct em28xx_fmt {\n\tu32\tfourcc;\n\tint\tdepth;\n\tint\treg;\n};\n\n \nstruct em28xx_buffer {\n\tstruct vb2_v4l2_buffer\tvb;\t\t \n\n\tstruct list_head\tlist;\n\n\tvoid\t\t\t*mem;\n\tunsigned int\t\tlength;\n\tint\t\t\ttop_field;\n\n\tunsigned int\t\tpos;\n\n\tchar\t\t\t*vb_buf;\n};\n\nstruct em28xx_dmaqueue {\n\tstruct list_head       active;\n\n\twait_queue_head_t          wq;\n};\n\n \n\n#define MAX_EM28XX_INPUT 4\nenum enum28xx_itype {\n\tEM28XX_VMUX_COMPOSITE = 1,\n\tEM28XX_VMUX_SVIDEO,\n\tEM28XX_VMUX_TELEVISION,\n\tEM28XX_RADIO,\n};\n\nenum em28xx_ac97_mode {\n\tEM28XX_NO_AC97 = 0,\n\tEM28XX_AC97_EM202,\n\tEM28XX_AC97_SIGMATEL,\n\tEM28XX_AC97_OTHER,\n};\n\nstruct em28xx_audio_mode {\n\tenum em28xx_ac97_mode ac97;\n};\n\nenum em28xx_int_audio_type {\n\tEM28XX_INT_AUDIO_NONE = 0,\n\tEM28XX_INT_AUDIO_AC97,\n\tEM28XX_INT_AUDIO_I2S,\n};\n\nenum em28xx_usb_audio_type {\n\tEM28XX_USB_AUDIO_NONE = 0,\n\tEM28XX_USB_AUDIO_CLASS,\n\tEM28XX_USB_AUDIO_VENDOR,\n};\n\n \nenum em28xx_amux {\n\tEM28XX_AMUX_UNUSED = -1,\n\tEM28XX_AMUX_VIDEO = 0,\n\tEM28XX_AMUX_LINE_IN,\n\n\t \n\tEM28XX_AMUX_VIDEO2,\n\tEM28XX_AMUX_PHONE,\n\tEM28XX_AMUX_MIC,\n\tEM28XX_AMUX_CD,\n\tEM28XX_AMUX_AUX,\n\tEM28XX_AMUX_PCM_OUT,\n};\n\nenum em28xx_aout {\n\t \n\tEM28XX_AOUT_MASTER = BIT(0),\n\tEM28XX_AOUT_LINE   = BIT(1),\n\tEM28XX_AOUT_MONO   = BIT(2),\n\tEM28XX_AOUT_LFE    = BIT(3),\n\tEM28XX_AOUT_SURR   = BIT(4),\n\n\t \n\tEM28XX_AOUT_PCM_IN = BIT(7),\n\n\t \n\tEM28XX_AOUT_PCM_MIC_PCM = 0 << 8,\n\tEM28XX_AOUT_PCM_CD\t= 1 << 8,\n\tEM28XX_AOUT_PCM_VIDEO\t= 2 << 8,\n\tEM28XX_AOUT_PCM_AUX\t= 3 << 8,\n\tEM28XX_AOUT_PCM_LINE\t= 4 << 8,\n\tEM28XX_AOUT_PCM_STEREO\t= 5 << 8,\n\tEM28XX_AOUT_PCM_MONO\t= 6 << 8,\n\tEM28XX_AOUT_PCM_PHONE\t= 7 << 8,\n};\n\nstatic inline int ac97_return_record_select(int a_out)\n{\n\treturn (a_out & 0x700) >> 8;\n}\n\nstruct em28xx_reg_seq {\n\tint reg;\n\tunsigned char val, mask;\n\tint sleep;\n};\n\nstruct em28xx_input {\n\tenum enum28xx_itype type;\n\tunsigned int vmux;\n\tenum em28xx_amux amux;\n\tenum em28xx_aout aout;\n\tconst struct em28xx_reg_seq *gpio;\n};\n\n#define INPUT(nr) (&em28xx_boards[dev->model].input[nr])\n\nenum em28xx_decoder {\n\tEM28XX_NODECODER = 0,\n\tEM28XX_TVP5150,\n\tEM28XX_SAA711X,\n};\n\nenum em28xx_sensor {\n\tEM28XX_NOSENSOR = 0,\n\tEM28XX_MT9V011,\n\tEM28XX_MT9M001,\n\tEM28XX_MT9M111,\n\tEM28XX_OV2640,\n};\n\nenum em28xx_adecoder {\n\tEM28XX_NOADECODER = 0,\n\tEM28XX_TVAUDIO,\n};\n\nenum em28xx_led_role {\n\tEM28XX_LED_ANALOG_CAPTURING = 0,\n\tEM28XX_LED_DIGITAL_CAPTURING,\n\tEM28XX_LED_DIGITAL_CAPTURING_TS2,\n\tEM28XX_LED_ILLUMINATION,\n\tEM28XX_NUM_LED_ROLES,  \n};\n\nstruct em28xx_led {\n\tenum em28xx_led_role role;\n\tu8 gpio_reg;\n\tu8 gpio_mask;\n\tbool inverted;\n};\n\nenum em28xx_button_role {\n\tEM28XX_BUTTON_SNAPSHOT = 0,\n\tEM28XX_BUTTON_ILLUMINATION,\n\tEM28XX_NUM_BUTTON_ROLES,  \n};\n\nstruct em28xx_button {\n\tenum em28xx_button_role role;\n\tu8 reg_r;\n\tu8 reg_clearing;\n\tu8 mask;\n\tbool inverted;\n};\n\nstruct em28xx_board {\n\tchar *name;\n\tint vchannels;\n\tint tuner_type;\n\tint tuner_addr;\n\tunsigned int def_i2c_bus;\t \n\n\t \n\tunsigned int tda9887_conf;\n\n\t \n\tconst struct em28xx_reg_seq *dvb_gpio;\n\tconst struct em28xx_reg_seq *suspend_gpio;\n\tconst struct em28xx_reg_seq *tuner_gpio;\n\tconst struct em28xx_reg_seq *mute_gpio;\n\n\tunsigned int is_em2800:1;\n\tunsigned int has_msp34xx:1;\n\tunsigned int mts_firmware:1;\n\tunsigned int max_range_640_480:1;\n\tunsigned int has_dvb:1;\n\tunsigned int has_dual_ts:1;\n\tunsigned int is_webcam:1;\n\tunsigned int valid:1;\n\tunsigned int has_ir_i2c:1;\n\n\tunsigned char xclk, i2c_speed;\n\tunsigned char radio_addr;\n\tunsigned short tvaudio_addr;\n\n\tenum em28xx_decoder decoder;\n\tenum em28xx_adecoder adecoder;\n\n\tstruct em28xx_input       input[MAX_EM28XX_INPUT];\n\tstruct em28xx_input\t  radio;\n\tchar\t\t\t  *ir_codes;\n\n\t \n\tstruct em28xx_led\t  *leds;\n\n\t \n\tconst struct em28xx_button *buttons;\n};\n\nstruct em28xx_eeprom {\n\tu8 id[4];\t\t\t \n\t__le16 vendor_ID;\n\t__le16 product_ID;\n\n\t__le16 chip_conf;\n\n\t__le16 board_conf;\n\n\t__le16 string1, string2, string3;\n\n\tu8 string_idx_table;\n};\n\n#define EM28XX_CAPTURE_STREAM_EN 1\n\n \n#define EM28XX_AUDIO   0x10\n#define EM28XX_DVB     0x20\n#define EM28XX_RC      0x30\n#define EM28XX_V4L2    0x40\n\n \n#define EM28XX_RESOURCE_VIDEO 0x01\n#define EM28XX_RESOURCE_VBI   0x02\n\nstruct em28xx_v4l2 {\n\tstruct kref ref;\n\tstruct em28xx *dev;\n\n\tstruct v4l2_device v4l2_dev;\n\tstruct v4l2_ctrl_handler ctrl_handler;\n\n\tstruct video_device vdev;\n\tstruct video_device vbi_dev;\n\tstruct video_device radio_dev;\n\n\t \n\tstruct vb2_queue vb_vidq;\n\tstruct vb2_queue vb_vbiq;\n\tstruct mutex vb_queue_lock;\t \n\tstruct mutex vb_vbi_queue_lock;\t \n\n\tu8 vinmode;\n\tu8 vinctl;\n\n\t \n\tint sensor_xres;\n\tint sensor_yres;\n\tint sensor_xtal;\n\n\tint users;\t\t \n\tint streaming_users;     \n\n\tu32 frequency;\t\t \n\n\tstruct em28xx_fmt *format;\n\tv4l2_std_id norm;\t \n\n\t \n\tbool progressive;\n\tint interlaced_fieldmode;  \n\t \n\n\t \n\tint width;\t\t \n\tint height;\t\t \n\tunsigned int hscale;\t \n\tunsigned int vscale;\t \n\tunsigned int vbi_width;\n\tunsigned int vbi_height;  \n\n\t \n\tint capture_type;\n\tbool top_field;\n\tint vbi_read;\n\tunsigned int field_count;\n\n#ifdef CONFIG_MEDIA_CONTROLLER\n\tstruct media_pad video_pad, vbi_pad;\n\tstruct media_entity *decoder;\n#endif\n};\n\nstruct em28xx_audio {\n\tchar name[50];\n\tunsigned int num_urb;\n\tchar **transfer_buffer;\n\tstruct urb **urb;\n\tstruct usb_device *udev;\n\tunsigned int capture_transfer_done;\n\tstruct snd_pcm_substream   *capture_pcm_substream;\n\n\tunsigned int hwptr_done_capture;\n\tstruct snd_card            *sndcard;\n\n\tsize_t period;\n\n\tint users;\n\tspinlock_t slock;\t\t \n\n\t \n\tstruct work_struct wq_trigger;\t \n\tatomic_t       stream_started;\t \n};\n\nenum em28xx_i2c_algo_type {\n\tEM28XX_I2C_ALGO_EM28XX = 0,\n\tEM28XX_I2C_ALGO_EM2800,\n\tEM28XX_I2C_ALGO_EM25XX_BUS_B,\n};\n\nstruct em28xx_i2c_bus {\n\tstruct em28xx *dev;\n\n\tunsigned int bus;\n\tenum em28xx_i2c_algo_type algo_type;\n};\n\n \nstruct em28xx {\n\tstruct kref ref;\n\n\t\n\tstruct em28xx_v4l2 *v4l2;\n\tstruct em28xx_dvb *dvb;\n\tstruct em28xx_audio adev;\n\tstruct em28xx_IR *ir;\n\n\t\n\tint model;\t\t\n\tint devno;\t\t\n\tenum em28xx_chip_id chip_id;\n\n\tunsigned int is_em25xx:1;\t\n\tunsigned int disconnected:1;\t\n\tunsigned int has_video:1;\n\tunsigned int is_audio_only:1;\n\tunsigned int is_webcam:1;\n\tunsigned int has_msp34xx:1;\n\tunsigned int i2c_speed:2;\n\tenum em28xx_int_audio_type int_audio_type;\n\tenum em28xx_usb_audio_type usb_audio_type;\n\tunsigned char name[32];\n\n\tstruct em28xx_board board;\n\n\tenum em28xx_sensor em28xx_sensor;\t\n\n\t\n\tunsigned int wait_after_write;\n\n\tstruct list_head\tdevlist;\n\n\tu32 i2s_speed;\t\t\n\n\tstruct em28xx_audio_mode audio_mode;\n\n\tint tuner_type;\t\t\n\n\t\n\tstruct i2c_adapter i2c_adap[NUM_I2C_BUSES];\n\tstruct i2c_client i2c_client[NUM_I2C_BUSES];\n\tstruct em28xx_i2c_bus i2c_bus[NUM_I2C_BUSES];\n\n\tunsigned char eeprom_addrwidth_16bit:1;\n\tunsigned int def_i2c_bus;\t\n\tunsigned int cur_i2c_bus;\t\n\tstruct rt_mutex i2c_bus_lock;\n\n\t\n\tunsigned int ctl_input;\t\n\tunsigned int ctl_ainput;\n\tunsigned int ctl_aoutput;\n\tenum em28xx_amux amux_map[MAX_EM28XX_INPUT];\n\n\tint mute;\n\tint volume;\n\n\tunsigned long hash;\t\n\tunsigned long i2c_hash;\t\n\t\t\t\t\n\n\tstruct work_struct         request_module_wk;\n\n\t\n\tstruct mutex lock;\t\t \n\tstruct mutex ctrl_urb_lock;\t \n\n\t\n\tunsigned int resources;\n\n\t\n\tu8 *eedata;\n\tu16 eedata_len;\n\n\t\n\tstruct em28xx_dmaqueue vidq;\n\tstruct em28xx_dmaqueue vbiq;\n\tstruct em28xx_usb_ctl usb_ctl;\n\n\tspinlock_t slock;  \n\n\t\n\tstruct usb_interface *intf;\t\n\tu8 ifnum;\t\t\n\tu8 analog_ep_isoc;\t\n\tu8 analog_ep_bulk;\t\n\tu8 dvb_ep_isoc_ts2;\t\n\tu8 dvb_ep_bulk_ts2;\t\n\tu8 dvb_ep_isoc;\t\t\n\tu8 dvb_ep_bulk;\t\t\n\tint alt;\t\t\n\tint max_pkt_size;\t\n\tint packet_multiplier;\t\n\t\t\t\t\n\tint num_alt;\t\t\n\tunsigned int *alt_max_pkt_size_isoc; \n\tunsigned int analog_xfer_bulk:1;\t\n\t\t\t\t\t\t\n\tint dvb_alt_isoc;\t\n\tunsigned int dvb_max_pkt_size_isoc;\t\n\t\t\t\t\t\t\n\tunsigned int dvb_max_pkt_size_isoc_ts2;\t\n\t\t\t\t\t\t\n\tunsigned int dvb_xfer_bulk:1;\t\t\n\t\t\t\t\t\t\n\tchar urb_buf[URB_MAX_CTRL_SIZE];\t\n\n\t\n\tint (*em28xx_write_regs)(struct em28xx *dev, u16 reg,\n\t\t\t\t char *buf, int len);\n\tint (*em28xx_read_reg)(struct em28xx *dev, u16 reg);\n\tint (*em28xx_read_reg_req_len)(struct em28xx *dev, u8 req, u16 reg,\n\t\t\t\t       char *buf, int len);\n\tint (*em28xx_write_regs_req)(struct em28xx *dev, u8 req, u16 reg,\n\t\t\t\t     char *buf, int len);\n\tint (*em28xx_read_reg_req)(struct em28xx *dev, u8 req, u16 reg);\n\n\tenum em28xx_mode mode;\n\n\t\n\tstruct delayed_work buttons_query_work;\n\tu8 button_polling_addresses[EM28XX_NUM_BUTTON_ADDRESSES_MAX];\n\tu8 button_polling_last_values[EM28XX_NUM_BUTTON_ADDRESSES_MAX];\n\tu8 num_button_polling_addresses;\n\tu16 button_polling_interval; \n\t\n\tchar snapshot_button_path[30];\t\n\tstruct input_dev *sbutton_input_dev;\n\n#ifdef CONFIG_MEDIA_CONTROLLER\n\tstruct media_device *media_dev;\n\tstruct media_entity input_ent[MAX_EM28XX_INPUT];\n\tstruct media_pad input_pad[MAX_EM28XX_INPUT];\n#endif\n\n\tstruct em28xx\t*dev_next;\n\tint ts;\n};\n\n#define kref_to_dev(d) container_of(d, struct em28xx, ref)\n\nstruct em28xx_ops {\n\tstruct list_head next;\n\tchar *name;\n\tint id;\n\tint (*init)(struct em28xx *dev);\n\tint (*fini)(struct em28xx *dev);\n\tint (*suspend)(struct em28xx *dev);\n\tint (*resume)(struct em28xx *dev);\n};\n\n \nvoid em28xx_do_i2c_scan(struct em28xx *dev, unsigned int bus);\nint  em28xx_i2c_register(struct em28xx *dev, unsigned int bus,\n\t\t\t enum em28xx_i2c_algo_type algo_type);\nint  em28xx_i2c_unregister(struct em28xx *dev, unsigned int bus);\n\n \nint em28xx_read_reg_req_len(struct em28xx *dev, u8 req, u16 reg,\n\t\t\t    char *buf, int len);\nint em28xx_read_reg_req(struct em28xx *dev, u8 req, u16 reg);\nint em28xx_read_reg(struct em28xx *dev, u16 reg);\nint em28xx_write_regs_req(struct em28xx *dev, u8 req, u16 reg, char *buf,\n\t\t\t  int len);\nint em28xx_write_regs(struct em28xx *dev, u16 reg, char *buf, int len);\nint em28xx_write_reg(struct em28xx *dev, u16 reg, u8 val);\nint em28xx_write_reg_bits(struct em28xx *dev, u16 reg, u8 val,\n\t\t\t  u8 bitmask);\nint em28xx_toggle_reg_bits(struct em28xx *dev, u16 reg, u8 bitmask);\n\nint em28xx_read_ac97(struct em28xx *dev, u8 reg);\nint em28xx_write_ac97(struct em28xx *dev, u8 reg, u16 val);\n\nint em28xx_audio_analog_set(struct em28xx *dev);\nint em28xx_audio_setup(struct em28xx *dev);\n\nconst struct em28xx_led *em28xx_find_led(struct em28xx *dev,\n\t\t\t\t\t enum em28xx_led_role role);\nint em28xx_capture_start(struct em28xx *dev, int start);\nint em28xx_alloc_urbs(struct em28xx *dev, enum em28xx_mode mode, int xfer_bulk,\n\t\t      int num_bufs, int max_pkt_size, int packet_multiplier);\nint em28xx_init_usb_xfer(struct em28xx *dev, enum em28xx_mode mode,\n\t\t\t int xfer_bulk,\n\t\t\t int num_bufs, int max_pkt_size, int packet_multiplier,\n\t\t\t int (*urb_data_copy)\n\t\t\t\t\t(struct em28xx *dev, struct urb *urb));\nvoid em28xx_uninit_usb_xfer(struct em28xx *dev, enum em28xx_mode mode);\nvoid em28xx_stop_urbs(struct em28xx *dev);\nint em28xx_set_mode(struct em28xx *dev, enum em28xx_mode set_mode);\nint em28xx_gpio_set(struct em28xx *dev, const struct em28xx_reg_seq *gpio);\nint em28xx_register_extension(struct em28xx_ops *dev);\nvoid em28xx_unregister_extension(struct em28xx_ops *dev);\nvoid em28xx_init_extension(struct em28xx *dev);\nvoid em28xx_close_extension(struct em28xx *dev);\nint em28xx_suspend_extension(struct em28xx *dev);\nint em28xx_resume_extension(struct em28xx *dev);\n\n \nextern const struct em28xx_board em28xx_boards[];\nextern struct usb_device_id em28xx_id_table[];\nint em28xx_tuner_callback(void *ptr, int component, int command, int arg);\nvoid em28xx_setup_xc3028(struct em28xx *dev, struct xc2028_ctrl *ctl);\nvoid em28xx_free_device(struct kref *ref);\n\n \nint em28xx_detect_sensor(struct em28xx *dev);\nint em28xx_init_camera(struct em28xx *dev);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}