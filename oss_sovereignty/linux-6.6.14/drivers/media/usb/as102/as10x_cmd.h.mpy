{
  "module_name": "as10x_cmd.h",
  "hash_id": "3bf19bd75060d4787a2cefbef233ebad06c20597dfe945faf58c7487321329b8",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/usb/as102/as10x_cmd.h",
  "human_readable_source": " \n \n#ifndef _AS10X_CMD_H_\n#define _AS10X_CMD_H_\n\n#include <linux/kernel.h>\n\n#include \"as102_fe_types.h\"\n\n \n \n \n#define AS10X_CMD_ERROR\t\t-1\n\n#define SERVICE_PROG_ID\t\t0x0002\n#define SERVICE_PROG_VERSION\t0x0001\n\n#define HIER_NONE\t\t0x00\n#define HIER_LOW_PRIORITY\t0x01\n\n#define HEADER_SIZE (sizeof(struct as10x_cmd_header_t))\n\n \n#define GET_CONTEXT_DATA\t1\n#define SET_CONTEXT_DATA\t2\n\n \n#define CFG_MODE_ODSP_RESUME\t0\n#define CFG_MODE_ODSP_SUSPEND\t1\n\n \n#define DUMP_BLOCK_SIZE_MAX\t0x20\n\n \n \n \nenum control_proc {\n\tCONTROL_PROC_TURNON\t\t\t= 0x0001,\n\tCONTROL_PROC_TURNON_RSP\t\t\t= 0x0100,\n\tCONTROL_PROC_SET_REGISTER\t\t= 0x0002,\n\tCONTROL_PROC_SET_REGISTER_RSP\t\t= 0x0200,\n\tCONTROL_PROC_GET_REGISTER\t\t= 0x0003,\n\tCONTROL_PROC_GET_REGISTER_RSP\t\t= 0x0300,\n\tCONTROL_PROC_SETTUNE\t\t\t= 0x000A,\n\tCONTROL_PROC_SETTUNE_RSP\t\t= 0x0A00,\n\tCONTROL_PROC_GETTUNESTAT\t\t= 0x000B,\n\tCONTROL_PROC_GETTUNESTAT_RSP\t\t= 0x0B00,\n\tCONTROL_PROC_GETTPS\t\t\t= 0x000D,\n\tCONTROL_PROC_GETTPS_RSP\t\t\t= 0x0D00,\n\tCONTROL_PROC_SETFILTER\t\t\t= 0x000E,\n\tCONTROL_PROC_SETFILTER_RSP\t\t= 0x0E00,\n\tCONTROL_PROC_REMOVEFILTER\t\t= 0x000F,\n\tCONTROL_PROC_REMOVEFILTER_RSP\t\t= 0x0F00,\n\tCONTROL_PROC_GET_IMPULSE_RESP\t\t= 0x0012,\n\tCONTROL_PROC_GET_IMPULSE_RESP_RSP\t= 0x1200,\n\tCONTROL_PROC_START_STREAMING\t\t= 0x0013,\n\tCONTROL_PROC_START_STREAMING_RSP\t= 0x1300,\n\tCONTROL_PROC_STOP_STREAMING\t\t= 0x0014,\n\tCONTROL_PROC_STOP_STREAMING_RSP\t\t= 0x1400,\n\tCONTROL_PROC_GET_DEMOD_STATS\t\t= 0x0015,\n\tCONTROL_PROC_GET_DEMOD_STATS_RSP\t= 0x1500,\n\tCONTROL_PROC_ELNA_CHANGE_MODE\t\t= 0x0016,\n\tCONTROL_PROC_ELNA_CHANGE_MODE_RSP\t= 0x1600,\n\tCONTROL_PROC_ODSP_CHANGE_MODE\t\t= 0x0017,\n\tCONTROL_PROC_ODSP_CHANGE_MODE_RSP\t= 0x1700,\n\tCONTROL_PROC_AGC_CHANGE_MODE\t\t= 0x0018,\n\tCONTROL_PROC_AGC_CHANGE_MODE_RSP\t= 0x1800,\n\n\tCONTROL_PROC_CONTEXT\t\t\t= 0x00FC,\n\tCONTROL_PROC_CONTEXT_RSP\t\t= 0xFC00,\n\tCONTROL_PROC_DUMP_MEMORY\t\t= 0x00FD,\n\tCONTROL_PROC_DUMP_MEMORY_RSP\t\t= 0xFD00,\n\tCONTROL_PROC_DUMPLOG_MEMORY\t\t= 0x00FE,\n\tCONTROL_PROC_DUMPLOG_MEMORY_RSP\t\t= 0xFE00,\n\tCONTROL_PROC_TURNOFF\t\t\t= 0x00FF,\n\tCONTROL_PROC_TURNOFF_RSP\t\t= 0xFF00\n};\n\nunion as10x_turn_on {\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t} __packed req;\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tuint8_t error;\n\t} __packed rsp;\n} __packed;\n\nunion as10x_turn_off {\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t} __packed req;\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tuint8_t err;\n\t} __packed rsp;\n} __packed;\n\nunion as10x_set_tune {\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tstruct as10x_tune_args args;\n\t} __packed req;\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tuint8_t error;\n\t} __packed rsp;\n} __packed;\n\nunion as10x_get_tune_status {\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t} __packed req;\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tuint8_t error;\n\t\t \n\t\tstruct as10x_tune_status sts;\n\t} __packed rsp;\n} __packed;\n\nunion as10x_get_tps {\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t} __packed req;\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tuint8_t error;\n\t\t \n\t\tstruct as10x_tps tps;\n\t} __packed rsp;\n} __packed;\n\nunion as10x_common {\n\t \n\tstruct {\n\t\t \n\t\t__le16  proc_id;\n\t} __packed req;\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tuint8_t error;\n\t} __packed rsp;\n} __packed;\n\nunion as10x_add_pid_filter {\n\t \n\tstruct {\n\t\t \n\t\t__le16  proc_id;\n\t\t \n\t\t__le16  pid;\n\t\t \n\t\tuint8_t stream_type;\n\t\t \n\t\tuint8_t idx;\n\t} __packed req;\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tuint8_t error;\n\t\t \n\t\tuint8_t filter_id;\n\t} __packed rsp;\n} __packed;\n\nunion as10x_del_pid_filter {\n\t \n\tstruct {\n\t\t \n\t\t__le16  proc_id;\n\t\t \n\t\t__le16  pid;\n\t} __packed req;\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tuint8_t error;\n\t} __packed rsp;\n} __packed;\n\nunion as10x_start_streaming {\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t} __packed req;\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tuint8_t error;\n\t} __packed rsp;\n} __packed;\n\nunion as10x_stop_streaming {\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t} __packed req;\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tuint8_t error;\n\t} __packed rsp;\n} __packed;\n\nunion as10x_get_demod_stats {\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t} __packed req;\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tuint8_t error;\n\t\t \n\t\tstruct as10x_demod_stats stats;\n\t} __packed rsp;\n} __packed;\n\nunion as10x_get_impulse_resp {\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t} __packed req;\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tuint8_t error;\n\t\t \n\t\tuint8_t is_ready;\n\t} __packed rsp;\n} __packed;\n\nunion as10x_fw_context {\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tstruct as10x_register_value reg_val;\n\t\t \n\t\t__le16 tag;\n\t\t \n\t\t__le16 type;\n\t} __packed req;\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tstruct as10x_register_value reg_val;\n\t\t \n\t\t__le16 type;\n\t\t \n\t\tuint8_t error;\n\t} __packed rsp;\n} __packed;\n\nunion as10x_set_register {\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tstruct as10x_register_addr reg_addr;\n\t\t \n\t\tstruct as10x_register_value reg_val;\n\t} __packed req;\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tuint8_t error;\n\t} __packed rsp;\n} __packed;\n\nunion as10x_get_register {\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tstruct as10x_register_addr reg_addr;\n\t} __packed req;\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tuint8_t error;\n\t\t \n\t\tstruct as10x_register_value reg_val;\n\t} __packed rsp;\n} __packed;\n\nunion as10x_cfg_change_mode {\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tuint8_t mode;\n\t} __packed req;\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tuint8_t error;\n\t} __packed rsp;\n} __packed;\n\nstruct as10x_cmd_header_t {\n\t__le16 req_id;\n\t__le16 prog;\n\t__le16 version;\n\t__le16 data_len;\n} __packed;\n\n#define DUMP_BLOCK_SIZE 16\n\nunion as10x_dump_memory {\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tuint8_t dump_req;\n\t\t \n\t\tstruct as10x_register_addr reg_addr;\n\t\t \n\t\t__le16 num_blocks;\n\t} __packed req;\n\t \n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tuint8_t error;\n\t\t \n\t\tuint8_t dump_rsp;\n\t\t \n\t\tunion {\n\t\t\tuint8_t  data8[DUMP_BLOCK_SIZE];\n\t\t\t__le16 data16[DUMP_BLOCK_SIZE / sizeof(__le16)];\n\t\t\t__le32 data32[DUMP_BLOCK_SIZE / sizeof(__le32)];\n\t\t} __packed u;\n\t} __packed rsp;\n} __packed;\n\nunion as10x_dumplog_memory {\n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tuint8_t dump_req;\n\t} __packed req;\n\tstruct {\n\t\t \n\t\t__le16 proc_id;\n\t\t \n\t\tuint8_t error;\n\t\t \n\t\tuint8_t dump_rsp;\n\t\t \n\t\tuint8_t data[DUMP_BLOCK_SIZE];\n\t} __packed rsp;\n} __packed;\n\nunion as10x_raw_data {\n\t \n\tstruct {\n\t\t__le16 proc_id;\n\t\tuint8_t data[64 - sizeof(struct as10x_cmd_header_t)\n\t\t\t     - 2  ];\n\t} __packed req;\n\t \n\tstruct {\n\t\t__le16 proc_id;\n\t\tuint8_t error;\n\t\tuint8_t data[64 - sizeof(struct as10x_cmd_header_t)\n\t\t\t     - 2   - 1  ];\n\t} __packed rsp;\n} __packed;\n\nstruct as10x_cmd_t {\n\tstruct as10x_cmd_header_t header;\n\tunion {\n\t\tunion as10x_turn_on\t\tturn_on;\n\t\tunion as10x_turn_off\t\tturn_off;\n\t\tunion as10x_set_tune\t\tset_tune;\n\t\tunion as10x_get_tune_status\tget_tune_status;\n\t\tunion as10x_get_tps\t\tget_tps;\n\t\tunion as10x_common\t\tcommon;\n\t\tunion as10x_add_pid_filter\tadd_pid_filter;\n\t\tunion as10x_del_pid_filter\tdel_pid_filter;\n\t\tunion as10x_start_streaming\tstart_streaming;\n\t\tunion as10x_stop_streaming\tstop_streaming;\n\t\tunion as10x_get_demod_stats\tget_demod_stats;\n\t\tunion as10x_get_impulse_resp\tget_impulse_rsp;\n\t\tunion as10x_fw_context\t\tcontext;\n\t\tunion as10x_set_register\tset_register;\n\t\tunion as10x_get_register\tget_register;\n\t\tunion as10x_cfg_change_mode\tcfg_change_mode;\n\t\tunion as10x_dump_memory\t\tdump_memory;\n\t\tunion as10x_dumplog_memory\tdumplog_memory;\n\t\tunion as10x_raw_data\t\traw_data;\n\t} __packed body;\n} __packed;\n\nstruct as10x_token_cmd_t {\n\t \n\tstruct as10x_cmd_t c;\n\t \n\tstruct as10x_cmd_t r;\n} __packed;\n\n\n \n \n \n\nvoid as10x_cmd_build(struct as10x_cmd_t *pcmd, uint16_t proc_id,\n\t\t      uint16_t cmd_len);\nint as10x_rsp_parse(struct as10x_cmd_t *r, uint16_t proc_id);\n\n \nint as10x_cmd_turn_on(struct as10x_bus_adapter_t *adap);\nint as10x_cmd_turn_off(struct as10x_bus_adapter_t *adap);\n\nint as10x_cmd_set_tune(struct as10x_bus_adapter_t *adap,\n\t\t       struct as10x_tune_args *ptune);\n\nint as10x_cmd_get_tune_status(struct as10x_bus_adapter_t *adap,\n\t\t\t      struct as10x_tune_status *pstatus);\n\nint as10x_cmd_get_tps(struct as10x_bus_adapter_t *adap,\n\t\t      struct as10x_tps *ptps);\n\nint as10x_cmd_get_demod_stats(struct as10x_bus_adapter_t  *adap,\n\t\t\t      struct as10x_demod_stats *pdemod_stats);\n\nint as10x_cmd_get_impulse_resp(struct as10x_bus_adapter_t *adap,\n\t\t\t       uint8_t *is_ready);\n\n \nint as10x_cmd_add_PID_filter(struct as10x_bus_adapter_t *adap,\n\t\t\t     struct as10x_ts_filter *filter);\nint as10x_cmd_del_PID_filter(struct as10x_bus_adapter_t *adap,\n\t\t\t     uint16_t pid_value);\n\nint as10x_cmd_start_streaming(struct as10x_bus_adapter_t *adap);\nint as10x_cmd_stop_streaming(struct as10x_bus_adapter_t *adap);\n\n \nint as10x_cmd_set_context(struct as10x_bus_adapter_t *adap,\n\t\t\t  uint16_t tag,\n\t\t\t  uint32_t value);\nint as10x_cmd_get_context(struct as10x_bus_adapter_t *adap,\n\t\t\t  uint16_t tag,\n\t\t\t  uint32_t *pvalue);\n\nint as10x_cmd_eLNA_change_mode(struct as10x_bus_adapter_t *adap, uint8_t mode);\nint as10x_context_rsp_parse(struct as10x_cmd_t *prsp, uint16_t proc_id);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}