{
  "module_name": "pvrusb2-devattr.c",
  "hash_id": "9bbc6c0e9ea13c3b7fbc764ee07478a14dd360b32258f1b004de6382aabe7118",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/usb/pvrusb2/pvrusb2-devattr.c",
  "human_readable_source": "\n \n\n \n\n#include \"pvrusb2-devattr.h\"\n#include <linux/usb.h>\n#include <linux/module.h>\n \n#include <linux/i2c.h>\n#include <media/tuner.h>\n#ifdef CONFIG_VIDEO_PVRUSB2_DVB\n#include \"pvrusb2-hdw-internal.h\"\n#include \"lgdt330x.h\"\n#include \"s5h1409.h\"\n#include \"s5h1411.h\"\n#include \"tda10048.h\"\n#include \"tda18271.h\"\n#include \"tda8290.h\"\n#include \"tuner-simple.h\"\n#include \"si2157.h\"\n#include \"lgdt3306a.h\"\n#include \"si2168.h\"\n#endif\n\n\n \n \n\nstatic const struct pvr2_device_client_desc pvr2_cli_29xxx[] = {\n\t{ .module_id = PVR2_CLIENT_ID_SAA7115 },\n\t{ .module_id = PVR2_CLIENT_ID_MSP3400 },\n\t{ .module_id = PVR2_CLIENT_ID_TUNER },\n\t{ .module_id = PVR2_CLIENT_ID_DEMOD },\n};\n\n#define PVR2_FIRMWARE_29xxx \"v4l-pvrusb2-29xxx-01.fw\"\nstatic const char *pvr2_fw1_names_29xxx[] = {\n\t\tPVR2_FIRMWARE_29xxx,\n};\n\nstatic const struct pvr2_device_desc pvr2_device_29xxx = {\n\t\t.description = \"WinTV PVR USB2 Model 29xxx\",\n\t\t.shortname = \"29xxx\",\n\t\t.client_table.lst = pvr2_cli_29xxx,\n\t\t.client_table.cnt = ARRAY_SIZE(pvr2_cli_29xxx),\n\t\t.fx2_firmware.lst = pvr2_fw1_names_29xxx,\n\t\t.fx2_firmware.cnt = ARRAY_SIZE(pvr2_fw1_names_29xxx),\n\t\t.flag_has_hauppauge_rom = !0,\n\t\t.flag_has_analogtuner = !0,\n\t\t.flag_has_fmradio = !0,\n\t\t.flag_has_composite = !0,\n\t\t.flag_has_svideo = !0,\n\t\t.signal_routing_scheme = PVR2_ROUTING_SCHEME_HAUPPAUGE,\n\t\t.led_scheme = PVR2_LED_SCHEME_HAUPPAUGE,\n\t\t.ir_scheme = PVR2_IR_SCHEME_29XXX,\n};\n\n\n\n \n \n\nstatic const struct pvr2_device_client_desc pvr2_cli_24xxx[] = {\n\t{ .module_id = PVR2_CLIENT_ID_CX25840 },\n\t{ .module_id = PVR2_CLIENT_ID_TUNER },\n\t{ .module_id = PVR2_CLIENT_ID_WM8775 },\n\t{ .module_id = PVR2_CLIENT_ID_DEMOD },\n};\n\n#define PVR2_FIRMWARE_24xxx \"v4l-pvrusb2-24xxx-01.fw\"\nstatic const char *pvr2_fw1_names_24xxx[] = {\n\t\tPVR2_FIRMWARE_24xxx,\n};\n\nstatic const struct pvr2_device_desc pvr2_device_24xxx = {\n\t\t.description = \"WinTV PVR USB2 Model 24xxx\",\n\t\t.shortname = \"24xxx\",\n\t\t.client_table.lst = pvr2_cli_24xxx,\n\t\t.client_table.cnt = ARRAY_SIZE(pvr2_cli_24xxx),\n\t\t.fx2_firmware.lst = pvr2_fw1_names_24xxx,\n\t\t.fx2_firmware.cnt = ARRAY_SIZE(pvr2_fw1_names_24xxx),\n\t\t.flag_has_cx25840 = !0,\n\t\t.flag_has_wm8775 = !0,\n\t\t.flag_has_hauppauge_rom = !0,\n\t\t.flag_has_analogtuner = !0,\n\t\t.flag_has_fmradio = !0,\n\t\t.flag_has_composite = !0,\n\t\t.flag_has_svideo = !0,\n\t\t.signal_routing_scheme = PVR2_ROUTING_SCHEME_HAUPPAUGE,\n\t\t.led_scheme = PVR2_LED_SCHEME_HAUPPAUGE,\n\t\t.ir_scheme = PVR2_IR_SCHEME_24XXX,\n};\n\n\n\n \n \n\nstatic const struct pvr2_device_client_desc pvr2_cli_gotview_2[] = {\n\t{ .module_id = PVR2_CLIENT_ID_CX25840 },\n\t{ .module_id = PVR2_CLIENT_ID_TUNER },\n\t{ .module_id = PVR2_CLIENT_ID_DEMOD },\n};\n\nstatic const struct pvr2_device_desc pvr2_device_gotview_2 = {\n\t\t.description = \"Gotview USB 2.0 DVD 2\",\n\t\t.shortname = \"gv2\",\n\t\t.client_table.lst = pvr2_cli_gotview_2,\n\t\t.client_table.cnt = ARRAY_SIZE(pvr2_cli_gotview_2),\n\t\t.flag_has_cx25840 = !0,\n\t\t.default_tuner_type = TUNER_PHILIPS_FM1216ME_MK3,\n\t\t.flag_has_analogtuner = !0,\n\t\t.flag_has_fmradio = !0,\n\t\t.flag_has_composite = !0,\n\t\t.flag_has_svideo = !0,\n\t\t.signal_routing_scheme = PVR2_ROUTING_SCHEME_GOTVIEW,\n};\n\n\n\n \n \n\n \n\nstatic const struct pvr2_device_desc pvr2_device_gotview_2d = {\n\t\t.description = \"Gotview USB 2.0 DVD Deluxe\",\n\t\t.shortname = \"gv2d\",\n\t\t.client_table.lst = pvr2_cli_gotview_2,\n\t\t.client_table.cnt = ARRAY_SIZE(pvr2_cli_gotview_2),\n\t\t.flag_has_cx25840 = !0,\n\t\t.default_tuner_type = TUNER_PHILIPS_FM1216ME_MK3,\n\t\t.flag_has_analogtuner = !0,\n\t\t.flag_has_composite = !0,\n\t\t.flag_has_svideo = !0,\n\t\t.signal_routing_scheme = PVR2_ROUTING_SCHEME_GOTVIEW,\n};\n\n\n\n \n \n\nstatic const struct pvr2_device_client_desc pvr2_cli_av400[] = {\n\t{ .module_id = PVR2_CLIENT_ID_CX25840 },\n};\n\nstatic const struct pvr2_device_desc pvr2_device_av400 = {\n\t\t.description = \"Terratec Grabster AV400\",\n\t\t.shortname = \"av400\",\n\t\t.flag_is_experimental = 1,\n\t\t.client_table.lst = pvr2_cli_av400,\n\t\t.client_table.cnt = ARRAY_SIZE(pvr2_cli_av400),\n\t\t.flag_has_cx25840 = !0,\n\t\t.flag_has_analogtuner = 0,\n\t\t.flag_has_composite = !0,\n\t\t.flag_has_svideo = !0,\n\t\t.signal_routing_scheme = PVR2_ROUTING_SCHEME_AV400,\n};\n\n\n\n \n \n\n#ifdef CONFIG_VIDEO_PVRUSB2_DVB\nstatic struct lgdt330x_config pvr2_lgdt3303_config = {\n\t.demod_chip          = LGDT3303,\n\t.clock_polarity_flip = 1,\n};\n\nstatic int pvr2_lgdt3303_attach(struct pvr2_dvb_adapter *adap)\n{\n\tadap->fe[0] = dvb_attach(lgdt330x_attach, &pvr2_lgdt3303_config,\n\t\t\t\t 0x0e,\n\t\t\t\t &adap->channel.hdw->i2c_adap);\n\tif (adap->fe[0])\n\t\treturn 0;\n\n\treturn -EIO;\n}\n\nstatic int pvr2_lgh06xf_attach(struct pvr2_dvb_adapter *adap)\n{\n\tdvb_attach(simple_tuner_attach, adap->fe[0],\n\t\t   &adap->channel.hdw->i2c_adap, 0x61,\n\t\t   TUNER_LG_TDVS_H06XF);\n\n\treturn 0;\n}\n\nstatic const struct pvr2_dvb_props pvr2_onair_creator_fe_props = {\n\t.frontend_attach = pvr2_lgdt3303_attach,\n\t.tuner_attach    = pvr2_lgh06xf_attach,\n};\n#endif\n\nstatic const struct pvr2_device_client_desc pvr2_cli_onair_creator[] = {\n\t{ .module_id = PVR2_CLIENT_ID_SAA7115 },\n\t{ .module_id = PVR2_CLIENT_ID_CS53L32A },\n\t{ .module_id = PVR2_CLIENT_ID_TUNER },\n};\n\nstatic const struct pvr2_device_desc pvr2_device_onair_creator = {\n\t\t.description = \"OnAir Creator Hybrid USB tuner\",\n\t\t.shortname = \"oac\",\n\t\t.client_table.lst = pvr2_cli_onair_creator,\n\t\t.client_table.cnt = ARRAY_SIZE(pvr2_cli_onair_creator),\n\t\t.default_tuner_type = TUNER_LG_TDVS_H06XF,\n\t\t.flag_has_analogtuner = !0,\n\t\t.flag_has_composite = !0,\n\t\t.flag_has_svideo = !0,\n\t\t.flag_digital_requires_cx23416 = !0,\n\t\t.signal_routing_scheme = PVR2_ROUTING_SCHEME_ONAIR,\n\t\t.digital_control_scheme = PVR2_DIGITAL_SCHEME_ONAIR,\n\t\t.default_std_mask = V4L2_STD_NTSC_M,\n#ifdef CONFIG_VIDEO_PVRUSB2_DVB\n\t\t.dvb_props = &pvr2_onair_creator_fe_props,\n#endif\n};\n\n\n\n \n \n\n#ifdef CONFIG_VIDEO_PVRUSB2_DVB\nstatic struct lgdt330x_config pvr2_lgdt3302_config = {\n\t.demod_chip          = LGDT3302,\n};\n\nstatic int pvr2_lgdt3302_attach(struct pvr2_dvb_adapter *adap)\n{\n\tadap->fe[0] = dvb_attach(lgdt330x_attach, &pvr2_lgdt3302_config,\n\t\t\t\t 0x0e,\n\t\t\t\t &adap->channel.hdw->i2c_adap);\n\tif (adap->fe[0])\n\t\treturn 0;\n\n\treturn -EIO;\n}\n\nstatic int pvr2_fcv1236d_attach(struct pvr2_dvb_adapter *adap)\n{\n\tdvb_attach(simple_tuner_attach, adap->fe[0],\n\t\t   &adap->channel.hdw->i2c_adap, 0x61,\n\t\t   TUNER_PHILIPS_FCV1236D);\n\n\treturn 0;\n}\n\nstatic const struct pvr2_dvb_props pvr2_onair_usb2_fe_props = {\n\t.frontend_attach = pvr2_lgdt3302_attach,\n\t.tuner_attach    = pvr2_fcv1236d_attach,\n};\n#endif\n\nstatic const struct pvr2_device_client_desc pvr2_cli_onair_usb2[] = {\n\t{ .module_id = PVR2_CLIENT_ID_SAA7115 },\n\t{ .module_id = PVR2_CLIENT_ID_CS53L32A },\n\t{ .module_id = PVR2_CLIENT_ID_TUNER },\n};\n\nstatic const struct pvr2_device_desc pvr2_device_onair_usb2 = {\n\t\t.description = \"OnAir USB2 Hybrid USB tuner\",\n\t\t.shortname = \"oa2\",\n\t\t.client_table.lst = pvr2_cli_onair_usb2,\n\t\t.client_table.cnt = ARRAY_SIZE(pvr2_cli_onair_usb2),\n\t\t.default_tuner_type = TUNER_PHILIPS_FCV1236D,\n\t\t.flag_has_analogtuner = !0,\n\t\t.flag_has_composite = !0,\n\t\t.flag_has_svideo = !0,\n\t\t.flag_digital_requires_cx23416 = !0,\n\t\t.signal_routing_scheme = PVR2_ROUTING_SCHEME_ONAIR,\n\t\t.digital_control_scheme = PVR2_DIGITAL_SCHEME_ONAIR,\n\t\t.default_std_mask = V4L2_STD_NTSC_M,\n#ifdef CONFIG_VIDEO_PVRUSB2_DVB\n\t\t.dvb_props = &pvr2_onair_usb2_fe_props,\n#endif\n};\n\n\n\n \n \n\n#ifdef CONFIG_VIDEO_PVRUSB2_DVB\nstatic struct tda10048_config hauppauge_tda10048_config = {\n\t.demod_address  = 0x10 >> 1,\n\t.output_mode    = TDA10048_PARALLEL_OUTPUT,\n\t.fwbulkwritelen = TDA10048_BULKWRITE_50,\n\t.inversion      = TDA10048_INVERSION_ON,\n\t.dtv6_if_freq_khz = TDA10048_IF_3300,\n\t.dtv7_if_freq_khz = TDA10048_IF_3800,\n\t.dtv8_if_freq_khz = TDA10048_IF_4300,\n\t.clk_freq_khz   = TDA10048_CLK_16000,\n\t.disable_gate_access = 1,\n};\n\nstatic struct tda829x_config tda829x_no_probe = {\n\t.probe_tuner = TDA829X_DONT_PROBE,\n};\n\nstatic struct tda18271_std_map hauppauge_tda18271_dvbt_std_map = {\n\t.dvbt_6   = { .if_freq = 3300, .agc_mode = 3, .std = 4,\n\t\t      .if_lvl = 1, .rfagc_top = 0x37, },\n\t.dvbt_7   = { .if_freq = 3800, .agc_mode = 3, .std = 5,\n\t\t      .if_lvl = 1, .rfagc_top = 0x37, },\n\t.dvbt_8   = { .if_freq = 4300, .agc_mode = 3, .std = 6,\n\t\t      .if_lvl = 1, .rfagc_top = 0x37, },\n};\n\nstatic struct tda18271_config hauppauge_tda18271_dvb_config = {\n\t.std_map = &hauppauge_tda18271_dvbt_std_map,\n\t.gate    = TDA18271_GATE_ANALOG,\n\t.output_opt = TDA18271_OUTPUT_LT_OFF,\n};\n\nstatic int pvr2_tda10048_attach(struct pvr2_dvb_adapter *adap)\n{\n\tadap->fe[0] = dvb_attach(tda10048_attach, &hauppauge_tda10048_config,\n\t\t\t\t &adap->channel.hdw->i2c_adap);\n\tif (adap->fe[0])\n\t\treturn 0;\n\n\treturn -EIO;\n}\n\nstatic int pvr2_73xxx_tda18271_8295_attach(struct pvr2_dvb_adapter *adap)\n{\n\tdvb_attach(tda829x_attach, adap->fe[0],\n\t\t   &adap->channel.hdw->i2c_adap, 0x42,\n\t\t   &tda829x_no_probe);\n\tdvb_attach(tda18271_attach, adap->fe[0], 0x60,\n\t\t   &adap->channel.hdw->i2c_adap,\n\t\t   &hauppauge_tda18271_dvb_config);\n\n\treturn 0;\n}\n\nstatic const struct pvr2_dvb_props pvr2_73xxx_dvb_props = {\n\t.frontend_attach = pvr2_tda10048_attach,\n\t.tuner_attach    = pvr2_73xxx_tda18271_8295_attach,\n};\n#endif\n\nstatic const struct pvr2_device_client_desc pvr2_cli_73xxx[] = {\n\t{ .module_id = PVR2_CLIENT_ID_CX25840 },\n\t{ .module_id = PVR2_CLIENT_ID_TUNER,\n\t  .i2c_address_list = \"\\x42\"},\n};\n\n#define PVR2_FIRMWARE_73xxx \"v4l-pvrusb2-73xxx-01.fw\"\nstatic const char *pvr2_fw1_names_73xxx[] = {\n\t\tPVR2_FIRMWARE_73xxx,\n};\n\nstatic const struct pvr2_device_desc pvr2_device_73xxx = {\n\t\t.description = \"WinTV HVR-1900 Model 73xxx\",\n\t\t.shortname = \"73xxx\",\n\t\t.client_table.lst = pvr2_cli_73xxx,\n\t\t.client_table.cnt = ARRAY_SIZE(pvr2_cli_73xxx),\n\t\t.fx2_firmware.lst = pvr2_fw1_names_73xxx,\n\t\t.fx2_firmware.cnt = ARRAY_SIZE(pvr2_fw1_names_73xxx),\n\t\t.flag_has_cx25840 = !0,\n\t\t.flag_has_hauppauge_rom = !0,\n\t\t.flag_has_analogtuner = !0,\n\t\t.flag_has_composite = !0,\n\t\t.flag_has_svideo = !0,\n\t\t.flag_fx2_16kb = !0,\n\t\t.signal_routing_scheme = PVR2_ROUTING_SCHEME_HAUPPAUGE,\n\t\t.digital_control_scheme = PVR2_DIGITAL_SCHEME_HAUPPAUGE,\n\t\t.led_scheme = PVR2_LED_SCHEME_HAUPPAUGE,\n\t\t.ir_scheme = PVR2_IR_SCHEME_ZILOG,\n#ifdef CONFIG_VIDEO_PVRUSB2_DVB\n\t\t.dvb_props = &pvr2_73xxx_dvb_props,\n#endif\n};\n\n\n\n \n \n\n#ifdef CONFIG_VIDEO_PVRUSB2_DVB\nstatic struct s5h1409_config pvr2_s5h1409_config = {\n\t.demod_address = 0x32 >> 1,\n\t.output_mode   = S5H1409_PARALLEL_OUTPUT,\n\t.gpio          = S5H1409_GPIO_OFF,\n\t.qam_if        = 4000,\n\t.inversion     = S5H1409_INVERSION_ON,\n\t.status_mode   = S5H1409_DEMODLOCKING,\n};\n\nstatic struct s5h1411_config pvr2_s5h1411_config = {\n\t.output_mode   = S5H1411_PARALLEL_OUTPUT,\n\t.gpio          = S5H1411_GPIO_OFF,\n\t.vsb_if        = S5H1411_IF_44000,\n\t.qam_if        = S5H1411_IF_4000,\n\t.inversion     = S5H1411_INVERSION_ON,\n\t.status_mode   = S5H1411_DEMODLOCKING,\n};\n\nstatic struct tda18271_std_map hauppauge_tda18271_std_map = {\n\t.atsc_6   = { .if_freq = 5380, .agc_mode = 3, .std = 3,\n\t\t      .if_lvl = 6, .rfagc_top = 0x37, },\n\t.qam_6    = { .if_freq = 4000, .agc_mode = 3, .std = 0,\n\t\t      .if_lvl = 6, .rfagc_top = 0x37, },\n};\n\nstatic struct tda18271_config hauppauge_tda18271_config = {\n\t.std_map = &hauppauge_tda18271_std_map,\n\t.gate    = TDA18271_GATE_ANALOG,\n\t.output_opt = TDA18271_OUTPUT_LT_OFF,\n};\n\nstatic int pvr2_s5h1409_attach(struct pvr2_dvb_adapter *adap)\n{\n\tadap->fe[0] = dvb_attach(s5h1409_attach, &pvr2_s5h1409_config,\n\t\t\t\t &adap->channel.hdw->i2c_adap);\n\tif (adap->fe[0])\n\t\treturn 0;\n\n\treturn -EIO;\n}\n\nstatic int pvr2_s5h1411_attach(struct pvr2_dvb_adapter *adap)\n{\n\tadap->fe[0] = dvb_attach(s5h1411_attach, &pvr2_s5h1411_config,\n\t\t\t\t &adap->channel.hdw->i2c_adap);\n\tif (adap->fe[0])\n\t\treturn 0;\n\n\treturn -EIO;\n}\n\nstatic int pvr2_tda18271_8295_attach(struct pvr2_dvb_adapter *adap)\n{\n\tdvb_attach(tda829x_attach, adap->fe[0],\n\t\t   &adap->channel.hdw->i2c_adap, 0x42,\n\t\t   &tda829x_no_probe);\n\tdvb_attach(tda18271_attach, adap->fe[0], 0x60,\n\t\t   &adap->channel.hdw->i2c_adap,\n\t\t   &hauppauge_tda18271_config);\n\n\treturn 0;\n}\n\nstatic const struct pvr2_dvb_props pvr2_750xx_dvb_props = {\n\t.frontend_attach = pvr2_s5h1409_attach,\n\t.tuner_attach    = pvr2_tda18271_8295_attach,\n};\n\nstatic const struct pvr2_dvb_props pvr2_751xx_dvb_props = {\n\t.frontend_attach = pvr2_s5h1411_attach,\n\t.tuner_attach    = pvr2_tda18271_8295_attach,\n};\n#endif\n\n#define PVR2_FIRMWARE_75xxx \"v4l-pvrusb2-73xxx-01.fw\"\nstatic const char *pvr2_fw1_names_75xxx[] = {\n\t\tPVR2_FIRMWARE_75xxx,\n};\n\nstatic const struct pvr2_device_desc pvr2_device_750xx = {\n\t\t.description = \"WinTV HVR-1950 Model 750xx\",\n\t\t.shortname = \"750xx\",\n\t\t.client_table.lst = pvr2_cli_73xxx,\n\t\t.client_table.cnt = ARRAY_SIZE(pvr2_cli_73xxx),\n\t\t.fx2_firmware.lst = pvr2_fw1_names_75xxx,\n\t\t.fx2_firmware.cnt = ARRAY_SIZE(pvr2_fw1_names_75xxx),\n\t\t.flag_has_cx25840 = !0,\n\t\t.flag_has_hauppauge_rom = !0,\n\t\t.flag_has_analogtuner = !0,\n\t\t.flag_has_composite = !0,\n\t\t.flag_has_svideo = !0,\n\t\t.flag_fx2_16kb = !0,\n\t\t.signal_routing_scheme = PVR2_ROUTING_SCHEME_HAUPPAUGE,\n\t\t.digital_control_scheme = PVR2_DIGITAL_SCHEME_HAUPPAUGE,\n\t\t.default_std_mask = V4L2_STD_NTSC_M,\n\t\t.led_scheme = PVR2_LED_SCHEME_HAUPPAUGE,\n\t\t.ir_scheme = PVR2_IR_SCHEME_ZILOG,\n#ifdef CONFIG_VIDEO_PVRUSB2_DVB\n\t\t.dvb_props = &pvr2_750xx_dvb_props,\n#endif\n};\n\nstatic const struct pvr2_device_desc pvr2_device_751xx = {\n\t\t.description = \"WinTV HVR-1950 Model 751xx\",\n\t\t.shortname = \"751xx\",\n\t\t.client_table.lst = pvr2_cli_73xxx,\n\t\t.client_table.cnt = ARRAY_SIZE(pvr2_cli_73xxx),\n\t\t.fx2_firmware.lst = pvr2_fw1_names_75xxx,\n\t\t.fx2_firmware.cnt = ARRAY_SIZE(pvr2_fw1_names_75xxx),\n\t\t.flag_has_cx25840 = !0,\n\t\t.flag_has_hauppauge_rom = !0,\n\t\t.flag_has_analogtuner = !0,\n\t\t.flag_has_composite = !0,\n\t\t.flag_has_svideo = !0,\n\t\t.flag_fx2_16kb = !0,\n\t\t.signal_routing_scheme = PVR2_ROUTING_SCHEME_HAUPPAUGE,\n\t\t.digital_control_scheme = PVR2_DIGITAL_SCHEME_HAUPPAUGE,\n\t\t.default_std_mask = V4L2_STD_NTSC_M,\n\t\t.led_scheme = PVR2_LED_SCHEME_HAUPPAUGE,\n\t\t.ir_scheme = PVR2_IR_SCHEME_ZILOG,\n#ifdef CONFIG_VIDEO_PVRUSB2_DVB\n\t\t.dvb_props = &pvr2_751xx_dvb_props,\n#endif\n};\n\n \n \n\n#ifdef CONFIG_VIDEO_PVRUSB2_DVB\nstatic int pvr2_si2157_attach(struct pvr2_dvb_adapter *adap);\nstatic int pvr2_si2168_attach(struct pvr2_dvb_adapter *adap);\nstatic int pvr2_dual_fe_attach(struct pvr2_dvb_adapter *adap);\nstatic int pvr2_lgdt3306a_attach(struct pvr2_dvb_adapter *adap);\n\nstatic const struct pvr2_dvb_props pvr2_160000_dvb_props = {\n\t.frontend_attach = pvr2_dual_fe_attach,\n\t.tuner_attach    = pvr2_si2157_attach,\n};\n\nstatic const struct pvr2_dvb_props pvr2_160111_dvb_props = {\n\t.frontend_attach = pvr2_lgdt3306a_attach,\n\t.tuner_attach    = pvr2_si2157_attach,\n};\n\nstatic int pvr2_si2157_attach(struct pvr2_dvb_adapter *adap)\n{\n\tstruct si2157_config si2157_config = {};\n\n\tsi2157_config.inversion = 1;\n\tsi2157_config.fe = adap->fe[0];\n\n\tadap->i2c_client_tuner = dvb_module_probe(\"si2157\", \"si2177\",\n\t\t\t\t\t\t  &adap->channel.hdw->i2c_adap,\n\t\t\t\t\t\t  0x60, &si2157_config);\n\n\tif (!adap->i2c_client_tuner)\n\t\treturn -ENODEV;\n\n\treturn 0;\n}\n\nstatic int pvr2_si2168_attach(struct pvr2_dvb_adapter *adap)\n{\n\tstruct si2168_config si2168_config = {};\n\tstruct i2c_adapter *adapter;\n\n\tpr_debug(\"%s()\\n\", __func__);\n\n\tsi2168_config.fe = &adap->fe[1];\n\tsi2168_config.i2c_adapter = &adapter;\n\tsi2168_config.ts_mode = SI2168_TS_PARALLEL;  \n\tsi2168_config.ts_clock_gapped = 1;  \n\tsi2168_config.ts_clock_inv = 0;  \n\tsi2168_config.spectral_inversion = 1;  \n\n\tadap->i2c_client_demod[1] = dvb_module_probe(\"si2168\", NULL,\n\t\t\t\t\t\t     &adap->channel.hdw->i2c_adap,\n\t\t\t\t\t\t     0x64, &si2168_config);\n\n\tif (!adap->i2c_client_demod[1])\n\t\treturn -ENODEV;\n\n\treturn 0;\n}\n\nstatic int pvr2_lgdt3306a_attach(struct pvr2_dvb_adapter *adap)\n{\n\tstruct lgdt3306a_config lgdt3306a_config;\n\tstruct i2c_adapter *adapter;\n\n\tpr_debug(\"%s()\\n\", __func__);\n\n\tlgdt3306a_config.fe = &adap->fe[0];\n\tlgdt3306a_config.i2c_adapter = &adapter;\n\tlgdt3306a_config.deny_i2c_rptr = 1;\n\tlgdt3306a_config.spectral_inversion = 1;\n\tlgdt3306a_config.qam_if_khz = 4000;\n\tlgdt3306a_config.vsb_if_khz = 3250;\n\tlgdt3306a_config.mpeg_mode = LGDT3306A_MPEG_PARALLEL;\n\tlgdt3306a_config.tpclk_edge = LGDT3306A_TPCLK_FALLING_EDGE;\n\tlgdt3306a_config.tpvalid_polarity = LGDT3306A_TP_VALID_LOW;\n\tlgdt3306a_config.xtalMHz = 25;  \n\n\tadap->i2c_client_demod[0] = dvb_module_probe(\"lgdt3306a\", NULL,\n\t\t\t\t\t\t     &adap->channel.hdw->i2c_adap,\n\t\t\t\t\t\t     0x59, &lgdt3306a_config);\n\n\tif (!adap->i2c_client_demod[0])\n\t\treturn -ENODEV;\n\n\treturn 0;\n}\n\nstatic int pvr2_dual_fe_attach(struct pvr2_dvb_adapter *adap)\n{\n\tpr_debug(\"%s()\\n\", __func__);\n\n\tif (pvr2_lgdt3306a_attach(adap) != 0)\n\t\treturn -ENODEV;\n\n\tif (pvr2_si2168_attach(adap) != 0) {\n\t\tdvb_module_release(adap->i2c_client_demod[0]);\n\t\treturn -ENODEV;\n\t}\n\n\treturn 0;\n}\n#endif\n\n#define PVR2_FIRMWARE_160xxx \"v4l-pvrusb2-160xxx-01.fw\"\nstatic const char *pvr2_fw1_names_160xxx[] = {\n\t\tPVR2_FIRMWARE_160xxx,\n};\n\nstatic const struct pvr2_device_client_desc pvr2_cli_160xxx[] = {\n\t{ .module_id = PVR2_CLIENT_ID_CX25840 },\n};\n\nstatic const struct pvr2_device_desc pvr2_device_160000 = {\n\t\t.description = \"WinTV HVR-1975 Model 160000\",\n\t\t.shortname = \"160000\",\n\t\t.client_table.lst = pvr2_cli_160xxx,\n\t\t.client_table.cnt = ARRAY_SIZE(pvr2_cli_160xxx),\n\t\t.fx2_firmware.lst = pvr2_fw1_names_160xxx,\n\t\t.fx2_firmware.cnt = ARRAY_SIZE(pvr2_fw1_names_160xxx),\n\t\t.default_tuner_type = TUNER_ABSENT,\n\t\t.flag_has_cx25840 = 1,\n\t\t.flag_has_hauppauge_rom = 1,\n\t\t.flag_has_analogtuner = 1,\n\t\t.flag_has_composite = 1,\n\t\t.flag_has_svideo = 1,\n\t\t.flag_fx2_16kb = 1,\n\t\t.signal_routing_scheme = PVR2_ROUTING_SCHEME_HAUPPAUGE,\n\t\t.digital_control_scheme = PVR2_DIGITAL_SCHEME_HAUPPAUGE,\n\t\t.default_std_mask = V4L2_STD_NTSC_M,\n\t\t.led_scheme = PVR2_LED_SCHEME_HAUPPAUGE,\n\t\t.ir_scheme = PVR2_IR_SCHEME_ZILOG,\n#ifdef CONFIG_VIDEO_PVRUSB2_DVB\n\t\t.dvb_props = &pvr2_160000_dvb_props,\n#endif\n};\n\nstatic const struct pvr2_device_desc pvr2_device_160111 = {\n\t\t.description = \"WinTV HVR-1955 Model 160111\",\n\t\t.shortname = \"160111\",\n\t\t.client_table.lst = pvr2_cli_160xxx,\n\t\t.client_table.cnt = ARRAY_SIZE(pvr2_cli_160xxx),\n\t\t.fx2_firmware.lst = pvr2_fw1_names_160xxx,\n\t\t.fx2_firmware.cnt = ARRAY_SIZE(pvr2_fw1_names_160xxx),\n\t\t.default_tuner_type = TUNER_ABSENT,\n\t\t.flag_has_cx25840 = 1,\n\t\t.flag_has_hauppauge_rom = 1,\n\t\t.flag_has_analogtuner = 1,\n\t\t.flag_has_composite = 1,\n\t\t.flag_has_svideo = 1,\n\t\t.flag_fx2_16kb = 1,\n\t\t.signal_routing_scheme = PVR2_ROUTING_SCHEME_HAUPPAUGE,\n\t\t.digital_control_scheme = PVR2_DIGITAL_SCHEME_HAUPPAUGE,\n\t\t.default_std_mask = V4L2_STD_NTSC_M,\n\t\t.led_scheme = PVR2_LED_SCHEME_HAUPPAUGE,\n\t\t.ir_scheme = PVR2_IR_SCHEME_ZILOG,\n#ifdef CONFIG_VIDEO_PVRUSB2_DVB\n\t\t.dvb_props = &pvr2_160111_dvb_props,\n#endif\n};\n\n \n\nstruct usb_device_id pvr2_device_table[] = {\n\t{ USB_DEVICE(0x2040, 0x2900),\n\t  .driver_info = (kernel_ulong_t)&pvr2_device_29xxx},\n\t{ USB_DEVICE(0x2040, 0x2950),  \n\t  .driver_info = (kernel_ulong_t)&pvr2_device_29xxx},\n\t{ USB_DEVICE(0x2040, 0x2400),\n\t  .driver_info = (kernel_ulong_t)&pvr2_device_24xxx},\n\t{ USB_DEVICE(0x1164, 0x0622),\n\t  .driver_info = (kernel_ulong_t)&pvr2_device_gotview_2},\n\t{ USB_DEVICE(0x1164, 0x0602),\n\t  .driver_info = (kernel_ulong_t)&pvr2_device_gotview_2d},\n\t{ USB_DEVICE(0x11ba, 0x1003),\n\t  .driver_info = (kernel_ulong_t)&pvr2_device_onair_creator},\n\t{ USB_DEVICE(0x11ba, 0x1001),\n\t  .driver_info = (kernel_ulong_t)&pvr2_device_onair_usb2},\n\t{ USB_DEVICE(0x2040, 0x7300),\n\t  .driver_info = (kernel_ulong_t)&pvr2_device_73xxx},\n\t{ USB_DEVICE(0x2040, 0x7500),\n\t  .driver_info = (kernel_ulong_t)&pvr2_device_750xx},\n\t{ USB_DEVICE(0x2040, 0x7501),\n\t  .driver_info = (kernel_ulong_t)&pvr2_device_751xx},\n\t{ USB_DEVICE(0x0ccd, 0x0039),\n\t  .driver_info = (kernel_ulong_t)&pvr2_device_av400},\n\t{ USB_DEVICE(0x2040, 0x7502),\n\t  .driver_info = (kernel_ulong_t)&pvr2_device_160111},\n\t{ USB_DEVICE(0x2040, 0x7510),\n\t  .driver_info = (kernel_ulong_t)&pvr2_device_160000},\n\t{ }\n};\n\nMODULE_DEVICE_TABLE(usb, pvr2_device_table);\nMODULE_FIRMWARE(PVR2_FIRMWARE_29xxx);\nMODULE_FIRMWARE(PVR2_FIRMWARE_24xxx);\nMODULE_FIRMWARE(PVR2_FIRMWARE_73xxx);\nMODULE_FIRMWARE(PVR2_FIRMWARE_75xxx);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}