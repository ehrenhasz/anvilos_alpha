{
  "module_name": "cx231xx.h",
  "hash_id": "39a4dfe6ff917c6ae4e1046436bc6f05380f411876fb95c1ee3ba880c001ea62",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/usb/cx231xx/cx231xx.h",
  "human_readable_source": " \n \n\n#ifndef _CX231XX_H\n#define _CX231XX_H\n\n#include <linux/videodev2.h>\n#include <linux/types.h>\n#include <linux/ioctl.h>\n#include <linux/i2c.h>\n#include <linux/workqueue.h>\n#include <linux/mutex.h>\n#include <linux/usb.h>\n\n#include <media/drv-intf/cx2341x.h>\n\n#include <media/videobuf2-vmalloc.h>\n#include <media/v4l2-device.h>\n#include <media/v4l2-ctrls.h>\n#include <media/v4l2-fh.h>\n#include <media/rc-core.h>\n#include <media/i2c/ir-kbd-i2c.h>\n\n#include \"cx231xx-reg.h\"\n#include \"cx231xx-pcb-cfg.h\"\n#include \"cx231xx-conf-reg.h\"\n\n#define DRIVER_NAME                     \"cx231xx\"\n#define PWR_SLEEP_INTERVAL              10\n\n \n#define     AFE_DEVICE_ADDRESS\t\t0x60\n#define     I2S_BLK_DEVICE_ADDRESS\t0x98\n#define     VID_BLK_I2C_ADDRESS\t\t0x88\n#define     VERVE_I2C_ADDRESS           0x40\n#define     DIF_USE_BASEBAND            0xFFFFFFFF\n\n \n#define CX231XX_BOARD_UNKNOWN\t\t    0\n#define CX231XX_BOARD_CNXT_CARRAERA\t1\n#define CX231XX_BOARD_CNXT_SHELBY\t2\n#define CX231XX_BOARD_CNXT_RDE_253S\t3\n#define CX231XX_BOARD_CNXT_RDU_253S\t4\n#define CX231XX_BOARD_CNXT_VIDEO_GRABBER\t5\n#define CX231XX_BOARD_CNXT_RDE_250\t6\n#define CX231XX_BOARD_CNXT_RDU_250\t7\n#define CX231XX_BOARD_HAUPPAUGE_EXETER  8\n#define CX231XX_BOARD_HAUPPAUGE_USBLIVE2 9\n#define CX231XX_BOARD_PV_PLAYTV_USB_HYBRID 10\n#define CX231XX_BOARD_PV_XCAPTURE_USB 11\n#define CX231XX_BOARD_KWORLD_UB430_USB_HYBRID 12\n#define CX231XX_BOARD_ICONBIT_U100 13\n#define CX231XX_BOARD_HAUPPAUGE_USB2_FM_PAL 14\n#define CX231XX_BOARD_HAUPPAUGE_USB2_FM_NTSC 15\n#define CX231XX_BOARD_ELGATO_VIDEO_CAPTURE_V2 16\n#define CX231XX_BOARD_OTG102 17\n#define CX231XX_BOARD_KWORLD_UB445_USB_HYBRID 18\n#define CX231XX_BOARD_HAUPPAUGE_930C_HD_1113xx 19\n#define CX231XX_BOARD_HAUPPAUGE_930C_HD_1114xx 20\n#define CX231XX_BOARD_HAUPPAUGE_955Q 21\n#define CX231XX_BOARD_TERRATEC_GRABBY 22\n#define CX231XX_BOARD_EVROMEDIA_FULL_HYBRID_FULLHD 23\n#define CX231XX_BOARD_ASTROMETA_T2HYBRID 24\n#define CX231XX_BOARD_THE_IMAGING_SOURCE_DFG_USB2_PRO 25\n#define CX231XX_BOARD_HAUPPAUGE_935C 26\n#define CX231XX_BOARD_HAUPPAUGE_975 27\n\n \n#define CX231XX_MIN_BUF                 4\n#define CX231XX_DEF_BUF                 12\n#define CX231XX_DEF_VBI_BUF             6\n\n#define VBI_LINE_COUNT                  17\n#define VBI_LINE_LENGTH                 1440\n\n \n#define URB_MAX_CTRL_SIZE               80\n\n \n#define CX231XX_BOARD_NOT_VALIDATED     1\n#define CX231XX_BOARD_VALIDATED\t\t0\n\n \n#define CX231XX_MAXBOARDS               8\n\n \n#define CX231XX_NUM_FRAMES              5\n\n \n#define CX231XX_NUM_BUFS                8\n\n \n#define CX231XX_NUM_PACKETS             40\n\n \n#define CX231XX_PINOUT                  0\n\n#define CX231XX_INTERLACED_DEFAULT      1\n\n \n#define CX231XX_URB_TIMEOUT\t\t\\\n\t\tmsecs_to_jiffies(CX231XX_NUM_BUFS * CX231XX_NUM_PACKETS)\n\n#define CX231xx_NORMS (\\\n\tV4L2_STD_NTSC_M |  V4L2_STD_NTSC_M_JP |  V4L2_STD_NTSC_443 | \\\n\tV4L2_STD_PAL_BG |  V4L2_STD_PAL_DK    |  V4L2_STD_PAL_I    | \\\n\tV4L2_STD_PAL_M  |  V4L2_STD_PAL_N     |  V4L2_STD_PAL_Nc   | \\\n\tV4L2_STD_PAL_60 |  V4L2_STD_SECAM_L   |  V4L2_STD_SECAM_DK)\n\n#define SLEEP_S5H1432    30\n#define CX23417_OSC_EN   8\n#define CX23417_RESET    9\n\nstruct cx23417_fmt {\n\tu32   fourcc;           \n\tint   depth;\n\tint   flags;\n\tu32   cxformat;\n};\nenum cx231xx_mode {\n\tCX231XX_SUSPEND,\n\tCX231XX_ANALOG_MODE,\n\tCX231XX_DIGITAL_MODE,\n};\n\nenum cx231xx_std_mode {\n\tCX231XX_TV_AIR = 0,\n\tCX231XX_TV_CABLE\n};\n\nenum cx231xx_stream_state {\n\tSTREAM_OFF,\n\tSTREAM_INTERRUPT,\n\tSTREAM_ON,\n};\n\nstruct cx231xx;\n\nstruct cx231xx_isoc_ctl {\n\t \n\tint max_pkt_size;\n\n\t \n\tint num_bufs;\n\n\t \n\tstruct urb **urb;\n\n\t \n\tchar **transfer_buffer;\n\n\t \n\tu8 cmd;\n\tint pos, size, pktsize;\n\n\t \n\tint field;\n\n\t \n\tu32 tmp_buf;\n\tint tmp_buf_len;\n\n\t \n\tstruct cx231xx_buffer *buf;\n\n\t \n\tint nfields;\n\n\t \n\tint (*isoc_copy) (struct cx231xx *dev, struct urb *urb);\n};\n\nstruct cx231xx_bulk_ctl {\n\t \n\tint max_pkt_size;\n\n\t \n\tint num_bufs;\n\n\t \n\tstruct urb **urb;\n\n\t \n\tchar **transfer_buffer;\n\n\t \n\tu8 cmd;\n\tint pos, size, pktsize;\n\n\t \n\tint field;\n\n\t \n\tu32 tmp_buf;\n\tint tmp_buf_len;\n\n\t \n\tstruct cx231xx_buffer *buf;\n\n\t \n\tint nfields;\n\n\t \n\tint (*bulk_copy) (struct cx231xx *dev, struct urb *urb);\n};\n\nstruct cx231xx_fmt {\n\tchar *name;\n\tu32 fourcc;\t\t \n\tint depth;\n\tint reg;\n};\n\n \nstruct cx231xx_buffer {\n\t \n\tstruct vb2_v4l2_buffer vb;\n\tstruct list_head list;\n\tstruct list_head frame;\n\tint top_field;\n\tint receiving;\n};\n\nenum ps_package_head {\n\tCX231XX_NEED_ADD_PS_PACKAGE_HEAD = 0,\n\tCX231XX_NONEED_PS_PACKAGE_HEAD\n};\n\nstruct cx231xx_dmaqueue {\n\tstruct list_head active;\n\n\twait_queue_head_t wq;\n\n\t \n\tint pos;\n\tu8 is_partial_line;\n\tu8 partial_buf[8];\n\tu8 last_sav;\n\tint current_field;\n\tu32 bytes_left_in_line;\n\tu32 lines_completed;\n\tu8 field1_done;\n\tu32 lines_per_field;\n\tu32 sequence;\n\n\t \n\tu8 *p_left_data;\n\tu32 left_data_count;\n\tu8 mpeg_buffer_done;\n\tu32 mpeg_buffer_completed;\n\tenum ps_package_head add_ps_package_head;\n\tchar ps_head[10];\n};\n\n \n\n#define MAX_CX231XX_INPUT               4\n\nenum cx231xx_itype {\n\tCX231XX_VMUX_COMPOSITE1 = 1,\n\tCX231XX_VMUX_SVIDEO,\n\tCX231XX_VMUX_TELEVISION,\n\tCX231XX_VMUX_CABLE,\n\tCX231XX_RADIO,\n\tCX231XX_VMUX_DVB,\n};\n\nenum cx231xx_v_input {\n\tCX231XX_VIN_1_1 = 0x1,\n\tCX231XX_VIN_2_1,\n\tCX231XX_VIN_3_1,\n\tCX231XX_VIN_4_1,\n\tCX231XX_VIN_1_2 = 0x01,\n\tCX231XX_VIN_2_2,\n\tCX231XX_VIN_3_2,\n\tCX231XX_VIN_1_3 = 0x1,\n\tCX231XX_VIN_2_3,\n\tCX231XX_VIN_3_3,\n};\n\n \nenum cx231xx_amux {\n\t \n\tCX231XX_AMUX_VIDEO,\t \n\tCX231XX_AMUX_LINE_IN,\t \n};\n\nstruct cx231xx_reg_seq {\n\tunsigned char bit;\n\tunsigned char val;\n\tint sleep;\n};\n\nstruct cx231xx_input {\n\tenum cx231xx_itype type;\n\tunsigned int vmux;\n\tenum cx231xx_amux amux;\n\tstruct cx231xx_reg_seq *gpio;\n};\n\n#define INPUT(nr) (&cx231xx_boards[dev->model].input[nr])\n\nenum cx231xx_decoder {\n\tCX231XX_NODECODER,\n\tCX231XX_AVDECODER\n};\n\nenum CX231XX_I2C_MASTER_PORT {\n\tI2C_0 = 0,        \n\tI2C_1 = 1,        \n\tI2C_2 = 2,        \n\tI2C_1_MUX_1 = 3,  \n\tI2C_1_MUX_3 = 4   \n};\n\nstruct cx231xx_board {\n\tchar *name;\n\tint vchannels;\n\tint tuner_type;\n\tint tuner_addr;\n\tv4l2_std_id norm;\t \n\n\t \n\tint demod_addr;\n\tint demod_addr2;\n\tu8 demod_xfer_mode;\t \n\n\t \n\tstruct cx231xx_reg_seq *dvb_gpio;\n\tstruct cx231xx_reg_seq *suspend_gpio;\n\tstruct cx231xx_reg_seq *tuner_gpio;\n\t\t \n\ts8 tuner_sif_gpio;\n\ts8 tuner_scl_gpio;\n\ts8 tuner_sda_gpio;\n\n\t \n\tu32 ctl_pin_status_mask;\n\tu8 agc_analog_digital_select_gpio;\n\tu32 gpio_pin_status_mask;\n\n\t \n\tu8 tuner_i2c_master;\n\tu8 demod_i2c_master;\n\tu8 ir_i2c_master;\n\n\t \n\tchar *rc_map_name;\n\n\tunsigned int max_range_640_480:1;\n\tunsigned int has_dvb:1;\n\tunsigned int has_417:1;\n\tunsigned int valid:1;\n\tunsigned int no_alt_vanc:1;\n\tunsigned int external_av:1;\n\n\tunsigned char xclk, i2c_speed;\n\n\tenum cx231xx_decoder decoder;\n\tint output_mode;\n\n\tstruct cx231xx_input input[MAX_CX231XX_INPUT];\n\tstruct cx231xx_input radio;\n\tstruct rc_map *ir_codes;\n};\n\n \nenum cx231xx_dev_state {\n\tDEV_INITIALIZED = 0x01,\n\tDEV_DISCONNECTED = 0x02,\n};\n\nenum AFE_MODE {\n\tAFE_MODE_LOW_IF,\n\tAFE_MODE_BASEBAND,\n\tAFE_MODE_EU_HI_IF,\n\tAFE_MODE_US_HI_IF,\n\tAFE_MODE_JAPAN_HI_IF\n};\n\nenum AUDIO_INPUT {\n\tAUDIO_INPUT_MUTE,\n\tAUDIO_INPUT_LINE,\n\tAUDIO_INPUT_TUNER_TV,\n\tAUDIO_INPUT_SPDIF,\n\tAUDIO_INPUT_TUNER_FM\n};\n\n#define CX231XX_AUDIO_BUFS              5\n#define CX231XX_NUM_AUDIO_PACKETS       16\n#define CX231XX_ISO_NUM_AUDIO_PACKETS\t64\n\n \n#define CX231XX_AUDIO                   0x10\n#define CX231XX_DVB                     0x20\n\nstruct cx231xx_audio {\n\tchar name[50];\n\tchar *transfer_buffer[CX231XX_AUDIO_BUFS];\n\tstruct urb *urb[CX231XX_AUDIO_BUFS];\n\tstruct usb_device *udev;\n\tunsigned int capture_transfer_done;\n\tstruct snd_pcm_substream *capture_pcm_substream;\n\n\tunsigned int hwptr_done_capture;\n\tstruct snd_card *sndcard;\n\n\tint users, shutdown;\n\t \n\tspinlock_t slock;\n\n\tint alt;\t\t \n\tint max_pkt_size;\t \n\tint num_alt;\t\t \n\tunsigned int *alt_max_pkt_size;\t \n\tu16 end_point_addr;\n};\n\n \n \n \n#define I2C_SPEED_1M            0x0\n#define I2C_SPEED_400K          0x1\n#define I2C_SPEED_100K          0x2\n#define I2C_SPEED_5M            0x3\n\n \n#define I2C_STOP                0x0\n \n#define I2C_NOSTOP              0x1\n \n#define I2C_SYNC                0x1\n\nstruct cx231xx_i2c {\n\tstruct cx231xx *dev;\n\n\tint nr;\n\n\t \n\tstruct i2c_adapter i2c_adap;\n\tint i2c_rc;\n\n\t \n\tu8 i2c_period;\n\tu8 i2c_nostop;\n\tu8 i2c_reserve;\n};\n\nstruct cx231xx_i2c_xfer_data {\n\tu8 dev_addr;\n\tu8 direction;\t\t \n\tu8 saddr_len;\t\t \n\tu16 saddr_dat;\t\t \n\tu8 buf_size;\t\t \n\tu8 *p_buffer;\t\t \n};\n\nstruct VENDOR_REQUEST_IN {\n\tu8 bRequest;\n\tu16 wValue;\n\tu16 wIndex;\n\tu16 wLength;\n\tu8 direction;\n\tu8 bData;\n\tu8 *pBuff;\n};\n\nstruct cx231xx_tvnorm {\n\tchar\t\t*name;\n\tv4l2_std_id\tid;\n\tu32\t\tcxiformat;\n\tu32\t\tcxoformat;\n};\n\nenum TRANSFER_TYPE {\n\tRaw_Video = 0,\n\tAudio,\n\tVbi,\t\t\t \n\tSliced_cc,\t\t \n\tTS1_serial_mode,\n\tTS2,\n\tTS1_parallel_mode\n} ;\n\nstruct cx231xx_video_mode {\n\t \n\tstruct cx231xx_dmaqueue vidq;\n\tstruct cx231xx_isoc_ctl isoc_ctl;\n\tstruct cx231xx_bulk_ctl bulk_ctl;\n\t \n\tspinlock_t slock;\n\n\t \n\tint alt;\t\t \n\tint max_pkt_size;\t \n\tint num_alt;\t\t \n\tunsigned int *alt_max_pkt_size;\t \n\tu16 end_point_addr;\n};\n\nstruct cx231xx_tsport {\n\tstruct cx231xx *dev;\n\n\tint                        nr;\n\tint                        sram_chno;\n\n\t \n\n\tu32                        ts_packet_size;\n\tu32                        ts_packet_count;\n\n\tint                        width;\n\tint                        height;\n\n\t \n\tspinlock_t                 slock;\n\n\t \n\tu32                        reg_gpcnt;\n\tu32                        reg_gpcnt_ctl;\n\tu32                        reg_dma_ctl;\n\tu32                        reg_lngth;\n\tu32                        reg_hw_sop_ctrl;\n\tu32                        reg_gen_ctrl;\n\tu32                        reg_bd_pkt_status;\n\tu32                        reg_sop_status;\n\tu32                        reg_fifo_ovfl_stat;\n\tu32                        reg_vld_misc;\n\tu32                        reg_ts_clk_en;\n\tu32                        reg_ts_int_msk;\n\tu32                        reg_ts_int_stat;\n\tu32                        reg_src_sel;\n\n\t \n\tint                        pci_irqmask;\n\tu32                        dma_ctl_val;\n\tu32                        ts_int_msk_val;\n\tu32                        gen_ctrl_val;\n\tu32                        ts_clk_en_val;\n\tu32                        src_sel_val;\n\tu32                        vld_misc_val;\n\tu32                        hw_sop_ctrl_val;\n\n\t \n\tu32                        num_frontends;\n\tvoid                       *port_priv;\n};\n\n \nstruct cx231xx {\n\t \n\tchar name[30];\t\t \n\tint model;\t\t \n\tint devno;\t\t \n\tstruct device *dev;\t \n\n\tstruct cx231xx_board board;\n\n\t \n\tstruct IR_i2c_init_data    init_data;\n\tstruct i2c_client          *ir_i2c_client;\n\n\tunsigned int stream_on:1;\t \n\tunsigned int vbi_stream_on:1;\t \n\tunsigned int has_audio_class:1;\n\tunsigned int has_alsa_audio:1;\n\n\tunsigned int i2c_scan_running:1;  \n\n\tstruct cx231xx_fmt *format;\n\n\tstruct v4l2_device v4l2_dev;\n\tstruct v4l2_subdev *sd_cx25840;\n\tstruct v4l2_subdev *sd_tuner;\n\tstruct v4l2_ctrl_handler ctrl_handler;\n\tstruct v4l2_ctrl_handler radio_ctrl_handler;\n\tstruct cx2341x_handler mpeg_ctrl_handler;\n\n\tstruct work_struct wq_trigger;\t\t \n\tatomic_t\t   stream_started;\t \n\n\tstruct list_head devlist;\n\n\tint tuner_type;\t\t \n\tint tuner_addr;\t\t \n\n\t \n\tstruct cx231xx_i2c i2c_bus[3];\n\tstruct i2c_mux_core *muxc;\n\tstruct i2c_adapter *i2c_mux_adap[2];\n\n\tunsigned int xc_fw_load_done:1;\n\tunsigned int port_3_switch_enabled:1;\n\t \n\tstruct mutex gpio_i2c_lock;\n\tstruct mutex i2c_lock;\n\n\t \n\tint users;\t\t \n\tstruct video_device vdev;\t \n\tv4l2_std_id norm;\t \n\tint ctl_freq;\t\t \n\tunsigned int ctl_ainput;\t \n\n\t \n\tint width;\t\t \n\tint height;\t\t \n\tint interlaced;\t\t \n\tunsigned int size;\n\n\tstruct cx231xx_audio adev;\n\n\t \n\tenum cx231xx_dev_state state;\n\n\tstruct work_struct request_module_wk;\n\n\t \n\tstruct mutex lock;\n\tstruct mutex ctrl_urb_lock;\t \n\tstruct list_head inqueue, outqueue;\n\twait_queue_head_t open, wait_frame, wait_stream;\n\tstruct video_device vbi_dev;\n\tstruct video_device radio_dev;\n\n#if defined(CONFIG_MEDIA_CONTROLLER)\n\tstruct media_device *media_dev;\n\tstruct media_pad video_pad, vbi_pad;\n\tstruct media_entity input_ent[MAX_CX231XX_INPUT];\n\tstruct media_pad input_pad[MAX_CX231XX_INPUT];\n#endif\n\n\tstruct vb2_queue vidq;\n\tstruct vb2_queue vbiq;\n\n\tunsigned char eedata[256];\n\n\tstruct cx231xx_video_mode video_mode;\n\tstruct cx231xx_video_mode vbi_mode;\n\tstruct cx231xx_video_mode sliced_cc_mode;\n\tstruct cx231xx_video_mode ts1_mode;\n\n\tatomic_t devlist_count;\n\n\tstruct usb_device *udev;\t \n\tchar urb_buf[URB_MAX_CTRL_SIZE];\t \n\n\t \n\tint (*cx231xx_read_ctrl_reg) (struct cx231xx *dev, u8 req, u16 reg,\n\t\t\t\t      char *buf, int len);\n\tint (*cx231xx_write_ctrl_reg) (struct cx231xx *dev, u8 req, u16 reg,\n\t\t\t\t       char *buf, int len);\n\tint (*cx231xx_send_usb_command) (struct cx231xx_i2c *i2c_bus,\n\t\t\t\tstruct cx231xx_i2c_xfer_data *req_data);\n\tint (*cx231xx_gpio_i2c_read) (struct cx231xx *dev, u8 dev_addr,\n\t\t\t\t      u8 *buf, u8 len);\n\tint (*cx231xx_gpio_i2c_write) (struct cx231xx *dev, u8 dev_addr,\n\t\t\t\t       u8 *buf, u8 len);\n\n\tint (*cx231xx_set_analog_freq) (struct cx231xx *dev, u32 freq);\n\tint (*cx231xx_reset_analog_tuner) (struct cx231xx *dev);\n\n\tenum cx231xx_mode mode;\n\n\tstruct cx231xx_dvb *dvb;\n\n\t \n\tstruct pcb_config current_pcb_config;\n\tu8 current_scenario_idx;\n\tu8 interface_count;\n\tu8 max_iad_interface_count;\n\n\t \n\tu32 gpio_dir;\n\tu32 gpio_val;\n\n\t \n\tint power_mode;\n\n\t \n\tenum AFE_MODE afe_mode;\n\tu32 afe_ref_count;\n\n\t \n\tu32 video_input;\n\tu32 active_mode;\n\tu8 vbi_or_sliced_cc_mode;\t \n\tenum cx231xx_std_mode std_mode;\t \n\n\t \n\tu8 mode_tv;\n\n\tu8 USE_ISO;\n\tstruct cx231xx_tvnorm      encodernorm;\n\tstruct cx231xx_tsport      ts1, ts2;\n\tstruct vb2_queue\t   mpegq;\n\tstruct video_device        v4l_device;\n\tatomic_t                   v4l_reader_count;\n\tu32                        freq;\n\tunsigned int               input;\n\tu32                        cx23417_mailbox;\n\tu32                        __iomem *lmmio;\n\tu8                         __iomem *bmmio;\n};\n\nextern struct list_head cx231xx_devlist;\n\n#define cx25840_call(cx231xx, o, f, args...) \\\n\tv4l2_subdev_call(cx231xx->sd_cx25840, o, f, ##args)\n#define tuner_call(cx231xx, o, f, args...) \\\n\tv4l2_subdev_call(cx231xx->sd_tuner, o, f, ##args)\n#define call_all(dev, o, f, args...) \\\n\tv4l2_device_call_until_err(&dev->v4l2_dev, 0, o, f, ##args)\n\nstruct cx231xx_ops {\n\tstruct list_head next;\n\tchar *name;\n\tint id;\n\tint (*init) (struct cx231xx *);\n\tint (*fini) (struct cx231xx *);\n};\n\n \nint cx231xx_set_analog_freq(struct cx231xx *dev, u32 freq);\nint cx231xx_reset_analog_tuner(struct cx231xx *dev);\n\n \nvoid cx231xx_do_i2c_scan(struct cx231xx *dev, int i2c_port);\nint cx231xx_i2c_register(struct cx231xx_i2c *bus);\nvoid cx231xx_i2c_unregister(struct cx231xx_i2c *bus);\nint cx231xx_i2c_mux_create(struct cx231xx *dev);\nint cx231xx_i2c_mux_register(struct cx231xx *dev, int mux_no);\nvoid cx231xx_i2c_mux_unregister(struct cx231xx *dev);\nstruct i2c_adapter *cx231xx_get_i2c_adap(struct cx231xx *dev, int i2c_port);\n\n \nint cx231xx_read_i2c_master(struct cx231xx *dev, u8 dev_addr, u16 saddr,\n\t\t u8 saddr_len, u32 *data, u8 data_len, int master);\nint cx231xx_write_i2c_master(struct cx231xx *dev, u8 dev_addr, u16 saddr,\n\t\t u8 saddr_len, u32 data, u8 data_len, int master);\nint cx231xx_read_i2c_data(struct cx231xx *dev, u8 dev_addr,\n\t\t\t  u16 saddr, u8 saddr_len, u32 *data, u8 data_len);\nint cx231xx_write_i2c_data(struct cx231xx *dev, u8 dev_addr,\n\t\t\t   u16 saddr, u8 saddr_len, u32 data, u8 data_len);\nint cx231xx_reg_mask_write(struct cx231xx *dev, u8 dev_addr, u8 size,\n\t\t\t   u16 register_address, u8 bit_start, u8 bit_end,\n\t\t\t   u32 value);\nint cx231xx_read_modify_write_i2c_dword(struct cx231xx *dev, u8 dev_addr,\n\t\t\t\t\tu16 saddr, u32 mask, u32 value);\nu32 cx231xx_set_field(u32 field_mask, u32 data);\n\n \nvoid initGPIO(struct cx231xx *dev);\nvoid uninitGPIO(struct cx231xx *dev);\n \nint cx231xx_afe_init_super_block(struct cx231xx *dev, u32 ref_count);\nint cx231xx_afe_init_channels(struct cx231xx *dev);\nint cx231xx_afe_setup_AFE_for_baseband(struct cx231xx *dev);\nint cx231xx_afe_set_input_mux(struct cx231xx *dev, u32 input_mux);\nint cx231xx_afe_set_mode(struct cx231xx *dev, enum AFE_MODE mode);\nint cx231xx_afe_update_power_control(struct cx231xx *dev,\n\t\t\t\t\tenum AV_MODE avmode);\nint cx231xx_afe_adjust_ref_count(struct cx231xx *dev, u32 video_input);\n\n \nint cx231xx_i2s_blk_initialize(struct cx231xx *dev);\nint cx231xx_i2s_blk_update_power_control(struct cx231xx *dev,\n\t\t\t\t\tenum AV_MODE avmode);\nint cx231xx_i2s_blk_set_audio_input(struct cx231xx *dev, u8 audio_input);\n\n \nint cx231xx_dif_configure_C2HH_for_low_IF(struct cx231xx *dev, u32 mode,\n\t\t\t\t\t  u32 function_mode, u32 standard);\nvoid cx231xx_set_Colibri_For_LowIF(struct cx231xx *dev, u32 if_freq,\n\t\t\t\t\t u8 spectral_invert, u32 mode);\nu32 cx231xx_Get_Colibri_CarrierOffset(u32 mode, u32 standerd);\nvoid cx231xx_set_DIF_bandpass(struct cx231xx *dev, u32 if_freq,\n\t\t\t\t\t u8 spectral_invert, u32 mode);\nvoid cx231xx_Setup_AFE_for_LowIF(struct cx231xx *dev);\nvoid reset_s5h1432_demod(struct cx231xx *dev);\nvoid cx231xx_dump_HH_reg(struct cx231xx *dev);\nvoid update_HH_register_after_set_DIF(struct cx231xx *dev);\n\n\n\nint cx231xx_dif_set_standard(struct cx231xx *dev, u32 standard);\nint cx231xx_tuner_pre_channel_change(struct cx231xx *dev);\nint cx231xx_tuner_post_channel_change(struct cx231xx *dev);\n\n \nu8 cx231xx_find_next_SAV_EAV(u8 *p_buffer, u32 buffer_size,\n\t\t\t     u32 *p_bytes_used);\nu8 cx231xx_find_boundary_SAV_EAV(u8 *p_buffer, u8 *partial_buf,\n\t\t\t\t u32 *p_bytes_used);\nint cx231xx_do_copy(struct cx231xx *dev, struct cx231xx_dmaqueue *dma_q,\n\t\t    u8 *p_buffer, u32 bytes_to_copy);\nvoid cx231xx_reset_video_buffer(struct cx231xx *dev,\n\t\t\t\tstruct cx231xx_dmaqueue *dma_q);\nu8 cx231xx_is_buffer_done(struct cx231xx *dev, struct cx231xx_dmaqueue *dma_q);\nu32 cx231xx_copy_video_line(struct cx231xx *dev, struct cx231xx_dmaqueue *dma_q,\n\t\t\t    u8 *p_line, u32 length, int field_number);\nu32 cx231xx_get_video_line(struct cx231xx *dev, struct cx231xx_dmaqueue *dma_q,\n\t\t\t   u8 sav_eav, u8 *p_buffer, u32 buffer_size);\nvoid cx231xx_swab(u16 *from, u16 *to, u16 len);\n\n \n\nu32 cx231xx_request_buffers(struct cx231xx *dev, u32 count);\nvoid cx231xx_queue_unusedframes(struct cx231xx *dev);\nvoid cx231xx_release_buffers(struct cx231xx *dev);\n\n \nint cx231xx_read_ctrl_reg(struct cx231xx *dev, u8 req, u16 reg,\n\t\t\t  char *buf, int len);\n\n \nint cx231xx_write_ctrl_reg(struct cx231xx *dev, u8 req, u16 reg,\n\t\t\t   char *buf, int len);\nint cx231xx_mode_register(struct cx231xx *dev, u16 address, u32 mode);\n\nint cx231xx_send_vendor_cmd(struct cx231xx *dev,\n\t\t\t\tstruct VENDOR_REQUEST_IN *ven_req);\nint cx231xx_send_usb_command(struct cx231xx_i2c *i2c_bus,\n\t\t\t\tstruct cx231xx_i2c_xfer_data *req_data);\n\n \nint cx231xx_send_gpio_cmd(struct cx231xx *dev, u32 gpio_bit, u8 *gpio_val,\n\t\t\t  u8 len, u8 request, u8 direction);\nint cx231xx_set_gpio_value(struct cx231xx *dev, int pin_number, int pin_value);\nint cx231xx_set_gpio_direction(struct cx231xx *dev, int pin_number,\n\t\t\t       int pin_value);\n\nint cx231xx_gpio_i2c_start(struct cx231xx *dev);\nint cx231xx_gpio_i2c_end(struct cx231xx *dev);\nint cx231xx_gpio_i2c_write_byte(struct cx231xx *dev, u8 data);\nint cx231xx_gpio_i2c_read_byte(struct cx231xx *dev, u8 *buf);\nint cx231xx_gpio_i2c_read_ack(struct cx231xx *dev);\nint cx231xx_gpio_i2c_write_ack(struct cx231xx *dev);\nint cx231xx_gpio_i2c_write_nak(struct cx231xx *dev);\n\nint cx231xx_gpio_i2c_read(struct cx231xx *dev, u8 dev_addr, u8 *buf, u8 len);\nint cx231xx_gpio_i2c_write(struct cx231xx *dev, u8 dev_addr, u8 *buf, u8 len);\n\n \nint cx231xx_set_audio_decoder_input(struct cx231xx *dev,\n\t\t\t\t    enum AUDIO_INPUT audio_input);\n\nint cx231xx_capture_start(struct cx231xx *dev, int start, u8 media_type);\nint cx231xx_set_video_alternate(struct cx231xx *dev);\nint cx231xx_set_alt_setting(struct cx231xx *dev, u8 index, u8 alt);\nint is_fw_load(struct cx231xx *dev);\nint cx231xx_check_fw(struct cx231xx *dev);\nint cx231xx_init_isoc(struct cx231xx *dev, int max_packets,\n\t\t      int num_bufs, int max_pkt_size,\n\t\t      int (*isoc_copy) (struct cx231xx *dev,\n\t\t\t\t\tstruct urb *urb));\nint cx231xx_init_bulk(struct cx231xx *dev, int max_packets,\n\t\t      int num_bufs, int max_pkt_size,\n\t\t      int (*bulk_copy) (struct cx231xx *dev,\n\t\t\t\t\tstruct urb *urb));\nvoid cx231xx_stop_TS1(struct cx231xx *dev);\nvoid cx231xx_start_TS1(struct cx231xx *dev);\nvoid cx231xx_uninit_isoc(struct cx231xx *dev);\nvoid cx231xx_uninit_bulk(struct cx231xx *dev);\nint cx231xx_set_mode(struct cx231xx *dev, enum cx231xx_mode set_mode);\nint cx231xx_unmute_audio(struct cx231xx *dev);\nint cx231xx_ep5_bulkout(struct cx231xx *dev, u8 *firmware, u16 size);\nvoid cx231xx_disable656(struct cx231xx *dev);\nvoid cx231xx_enable656(struct cx231xx *dev);\nint cx231xx_demod_reset(struct cx231xx *dev);\nint cx231xx_gpio_set(struct cx231xx *dev, struct cx231xx_reg_seq *gpio);\n\n \nvoid cx231xx_release_resources(struct cx231xx *dev);\nvoid cx231xx_release_analog_resources(struct cx231xx *dev);\nint cx231xx_register_analog_devices(struct cx231xx *dev);\nvoid cx231xx_remove_from_devlist(struct cx231xx *dev);\nvoid cx231xx_add_into_devlist(struct cx231xx *dev);\nvoid cx231xx_init_extension(struct cx231xx *dev);\nvoid cx231xx_close_extension(struct cx231xx *dev);\n\n \nint cx231xx_dev_init(struct cx231xx *dev);\nvoid cx231xx_dev_uninit(struct cx231xx *dev);\nvoid cx231xx_config_i2c(struct cx231xx *dev);\nint cx231xx_config(struct cx231xx *dev);\n\n \nint cx231xx_start_stream(struct cx231xx *dev, u32 ep_mask);\nint cx231xx_stop_stream(struct cx231xx *dev, u32 ep_mask);\n\nint cx231xx_initialize_stream_xfer(struct cx231xx *dev, u32 media_type);\n\n \nint cx231xx_set_power_mode(struct cx231xx *dev, enum AV_MODE mode);\nint cx231xx_power_suspend(struct cx231xx *dev);\n\n \nint cx231xx_init_ctrl_pin_status(struct cx231xx *dev);\nint cx231xx_set_agc_analog_digital_mux_select(struct cx231xx *dev,\n\t\t\t\t\t      u8 analog_or_digital);\nint cx231xx_enable_i2c_port_3(struct cx231xx *dev, bool is_port_3);\n\n \nvoid video_mux(struct cx231xx *dev, int index);\nint cx231xx_set_video_input_mux(struct cx231xx *dev, u8 input);\nint cx231xx_set_decoder_video_input(struct cx231xx *dev, u8 pin_type, u8 input);\nint cx231xx_do_mode_ctrl_overrides(struct cx231xx *dev);\nint cx231xx_set_audio_input(struct cx231xx *dev, u8 input);\n\n \nint cx231xx_register_extension(struct cx231xx_ops *dev);\nvoid cx231xx_unregister_extension(struct cx231xx_ops *dev);\nvoid cx231xx_init_extension(struct cx231xx *dev);\nvoid cx231xx_close_extension(struct cx231xx *dev);\nvoid cx231xx_v4l2_create_entities(struct cx231xx *dev);\nint cx231xx_querycap(struct file *file, void *priv,\n\t\t\t   struct v4l2_capability *cap);\nint cx231xx_g_tuner(struct file *file, void *priv, struct v4l2_tuner *t);\nint cx231xx_s_tuner(struct file *file, void *priv, const struct v4l2_tuner *t);\nint cx231xx_g_frequency(struct file *file, void *priv,\n\t\t\t      struct v4l2_frequency *f);\nint cx231xx_s_frequency(struct file *file, void *priv,\n\t\t\t      const struct v4l2_frequency *f);\nint cx231xx_enum_input(struct file *file, void *priv,\n\t\t\t     struct v4l2_input *i);\nint cx231xx_g_input(struct file *file, void *priv, unsigned int *i);\nint cx231xx_s_input(struct file *file, void *priv, unsigned int i);\nint cx231xx_g_chip_info(struct file *file, void *fh, struct v4l2_dbg_chip_info *chip);\nint cx231xx_g_register(struct file *file, void *priv,\n\t\t\t     struct v4l2_dbg_register *reg);\nint cx231xx_s_register(struct file *file, void *priv,\n\t\t\t     const struct v4l2_dbg_register *reg);\n\n \nextern void cx231xx_pre_card_setup(struct cx231xx *dev);\nextern void cx231xx_card_setup(struct cx231xx *dev);\nextern struct cx231xx_board cx231xx_boards[];\nextern struct usb_device_id cx231xx_id_table[];\nextern const unsigned int cx231xx_bcount;\nint cx231xx_tuner_callback(void *ptr, int component, int command, int arg);\n\n \nextern int cx231xx_417_register(struct cx231xx *dev);\nextern void cx231xx_417_unregister(struct cx231xx *dev);\n\n \n\n#if defined(CONFIG_VIDEO_CX231XX_RC)\nint cx231xx_ir_init(struct cx231xx *dev);\nvoid cx231xx_ir_exit(struct cx231xx *dev);\n#else\nstatic inline int cx231xx_ir_init(struct cx231xx *dev)\n{\n\treturn 0;\n}\nstatic inline void cx231xx_ir_exit(struct cx231xx *dev) {}\n#endif\n\nstatic inline unsigned int norm_maxw(struct cx231xx *dev)\n{\n\tif (dev->board.max_range_640_480)\n\t\treturn 640;\n\telse\n\t\treturn 720;\n}\n\nstatic inline unsigned int norm_maxh(struct cx231xx *dev)\n{\n\tif (dev->board.max_range_640_480)\n\t\treturn 480;\n\telse\n\t\treturn (dev->norm & V4L2_STD_625_50) ? 576 : 480;\n}\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}