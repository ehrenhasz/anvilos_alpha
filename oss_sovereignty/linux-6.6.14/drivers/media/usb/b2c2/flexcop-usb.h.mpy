{
  "module_name": "flexcop-usb.h",
  "hash_id": "5861f43482d8ee5da08da11f886fa5baea6d59a8c4da569985bc2b942527e6c9",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/usb/b2c2/flexcop-usb.h",
  "human_readable_source": " \n \n#ifndef __FLEXCOP_USB_H_INCLUDED__\n#define __FLEXCOP_USB_H_INCLUDED__\n\n#include <linux/usb.h>\n\n \n#define B2C2_USB_FRAMES_PER_ISO 4\n#define B2C2_USB_NUM_ISO_URB 4\n\n#define B2C2_USB_CTRL_PIPE_IN usb_rcvctrlpipe(fc_usb->udev, 0)\n#define B2C2_USB_CTRL_PIPE_OUT usb_sndctrlpipe(fc_usb->udev, 0)\n#define B2C2_USB_DATA_PIPE usb_rcvisocpipe(fc_usb->udev, 1)\n\nstruct flexcop_usb {\n\tstruct usb_device *udev;\n\tstruct usb_interface *uintf;\n\n\tu8 *iso_buffer;\n\tint buffer_size;\n\tdma_addr_t dma_addr;\n\n\tstruct urb *iso_urb[B2C2_USB_NUM_ISO_URB];\n\tstruct flexcop_device *fc_dev;\n\n\tu8 tmp_buffer[1023+190];\n\tint tmp_buffer_length;\n\n\t \n\tu8 data[80];\n\tstruct mutex data_mutex;\n};\n\n#if 0\n \ntypedef enum {\n\n} flexcop_usb_request_type_t;\n#endif\n\n \ntypedef enum {\n\tB2C2_USB_WRITE_V8_MEM = 0x04,\n\tB2C2_USB_READ_V8_MEM  = 0x05,\n\tB2C2_USB_READ_REG     = 0x08,\n\tB2C2_USB_WRITE_REG    = 0x0A,\n\tB2C2_USB_WRITEREGHI   = 0x0B,\n\tB2C2_USB_FLASH_BLOCK  = 0x10,\n\tB2C2_USB_I2C_REQUEST  = 0x11,\n\tB2C2_USB_UTILITY      = 0x12,\n} flexcop_usb_request_t;\n\n \ntypedef enum {\n\tUSB_FUNC_I2C_WRITE       = 0x01,\n\tUSB_FUNC_I2C_MULTIWRITE  = 0x02,\n\tUSB_FUNC_I2C_READ        = 0x03,\n\tUSB_FUNC_I2C_REPEATWRITE = 0x04,\n\tUSB_FUNC_GET_DESCRIPTOR  = 0x05,\n\tUSB_FUNC_I2C_REPEATREAD  = 0x06,\n\t \n\tUSB_FUNC_I2C_CHECKWRITE  = 0x07,\n\tUSB_FUNC_I2C_CHECKRESULT = 0x08,\n} flexcop_usb_i2c_function_t;\n\n \ntypedef enum {\n\tUTILITY_SET_FILTER          = 0x01,\n\tUTILITY_DATA_ENABLE         = 0x02,\n\tUTILITY_FLEX_MULTIWRITE     = 0x03,\n\tUTILITY_SET_BUFFER_SIZE     = 0x04,\n\tUTILITY_FLEX_OPERATOR       = 0x05,\n\tUTILITY_FLEX_RESET300_START = 0x06,\n\tUTILITY_FLEX_RESET300_STOP  = 0x07,\n\tUTILITY_FLEX_RESET300       = 0x08,\n\tUTILITY_SET_ISO_SIZE        = 0x09,\n\tUTILITY_DATA_RESET          = 0x0A,\n\tUTILITY_GET_DATA_STATUS     = 0x10,\n\tUTILITY_GET_V8_REG          = 0x11,\n\t \n\tUTILITY_SRAM_WRITE          = 0x12,\n\tUTILITY_SRAM_READ           = 0x13,\n\tUTILITY_SRAM_TESTFILL       = 0x14,\n\tUTILITY_SRAM_TESTSET        = 0x15,\n\tUTILITY_SRAM_TESTVERIFY     = 0x16,\n} flexcop_usb_utility_function_t;\n\n#define B2C2_WAIT_FOR_OPERATION_RW 1000\n#define B2C2_WAIT_FOR_OPERATION_RDW 3000\n#define B2C2_WAIT_FOR_OPERATION_WDW 1000\n\n#define B2C2_WAIT_FOR_OPERATION_V8READ 3000\n#define B2C2_WAIT_FOR_OPERATION_V8WRITE 3000\n#define B2C2_WAIT_FOR_OPERATION_V8FLASH 3000\n\ntypedef enum {\n\tV8_MEMORY_PAGE_DVB_CI = 0x20,\n\tV8_MEMORY_PAGE_DVB_DS = 0x40,\n\tV8_MEMORY_PAGE_MULTI2 = 0x60,\n\tV8_MEMORY_PAGE_FLASH  = 0x80\n} flexcop_usb_mem_page_t;\n\n#define V8_MEMORY_EXTENDED (1 << 15)\n#define USB_MEM_READ_MAX   32\n#define USB_MEM_WRITE_MAX   1\n#define USB_FLASH_MAX       8\n#define V8_MEMORY_PAGE_SIZE 0x8000  \n#define V8_MEMORY_PAGE_MASK 0x7FFF\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}