{
  "module_name": "dvb-usb-i2c.c",
  "hash_id": "a2285857553c45fc855c5c8b9e993153f135962765b7f1f87b23505df9246002",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/usb/dvb-usb/dvb-usb-i2c.c",
  "human_readable_source": "\n \n#include \"dvb-usb-common.h\"\n\nint dvb_usb_i2c_init(struct dvb_usb_device *d)\n{\n\tint ret = 0;\n\n\tif (!(d->props.caps & DVB_USB_IS_AN_I2C_ADAPTER))\n\t\treturn 0;\n\n\tif (d->props.i2c_algo == NULL) {\n\t\terr(\"no i2c algorithm specified\");\n\t\tret = -EINVAL;\n\t\tgoto err;\n\t}\n\n\tstrscpy(d->i2c_adap.name, d->desc->name, sizeof(d->i2c_adap.name));\n\td->i2c_adap.algo      = d->props.i2c_algo;\n\td->i2c_adap.algo_data = NULL;\n\td->i2c_adap.dev.parent = &d->udev->dev;\n\n\ti2c_set_adapdata(&d->i2c_adap, d);\n\n\tret = i2c_add_adapter(&d->i2c_adap);\n\tif (ret < 0) {\n\t\terr(\"could not add i2c adapter\");\n\t\tgoto err;\n\t}\n\n\td->state |= DVB_USB_STATE_I2C;\n\nerr:\n\treturn ret;\n}\n\nint dvb_usb_i2c_exit(struct dvb_usb_device *d)\n{\n\tif (d->state & DVB_USB_STATE_I2C)\n\t\ti2c_del_adapter(&d->i2c_adap);\n\td->state &= ~DVB_USB_STATE_I2C;\n\treturn 0;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}