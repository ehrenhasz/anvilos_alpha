{
  "module_name": "dib3000mb_priv.h",
  "hash_id": "4e241f30e7b6897fb1bf63949184424891d20703f4eeb2ac4905b5b9b269d5e0",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/dvb-frontends/dib3000mb_priv.h",
  "human_readable_source": " \n \n\n#ifndef __DIB3000MB_PRIV_H_INCLUDED__\n#define __DIB3000MB_PRIV_H_INCLUDED__\n\n \n#define rd(reg) dib3000_read_reg(state,reg)\n\n#define wr(reg,val) if (dib3000_write_reg(state,reg,val)) \\\n\t{ pr_err(\"while sending 0x%04x to 0x%04x.\", val, reg); return -EREMOTEIO; }\n\n#define wr_foreach(a,v) { int i; \\\n\tif (sizeof(a) != sizeof(v)) \\\n\t\tpr_err(\"sizeof: %zu %zu is different\", sizeof(a), sizeof(v));\\\n\tfor (i=0; i < sizeof(a)/sizeof(u16); i++) \\\n\t\twr(a[i],v[i]); \\\n\t}\n\n#define set_or(reg,val) wr(reg,rd(reg) | val)\n\n#define set_and(reg,val) wr(reg,rd(reg) & val)\n\n \n\n#define dprintk(level, fmt, arg...) do {\t\t\t\t\\\n\tif (debug & level)\t\t\t\t\t\t\\\n\t\tprintk(KERN_DEBUG pr_fmt(\"%s: \" fmt),\t\t\t\\\n\t\t       __func__, ##arg);\t\t\t\t\\\n} while (0)\n\n \n#define DIB3000_ACTIVATE_PID_FILTERING\t(0x2000)\n\n \n#define DIB3000_ALPHA_0\t\t\t\t\t(     0)\n#define DIB3000_ALPHA_1\t\t\t\t\t(     1)\n#define DIB3000_ALPHA_2\t\t\t\t\t(     2)\n#define DIB3000_ALPHA_4\t\t\t\t\t(     4)\n\n#define DIB3000_CONSTELLATION_QPSK\t\t(     0)\n#define DIB3000_CONSTELLATION_16QAM\t\t(     1)\n#define DIB3000_CONSTELLATION_64QAM\t\t(     2)\n\n#define DIB3000_GUARD_TIME_1_32\t\t\t(     0)\n#define DIB3000_GUARD_TIME_1_16\t\t\t(     1)\n#define DIB3000_GUARD_TIME_1_8\t\t\t(     2)\n#define DIB3000_GUARD_TIME_1_4\t\t\t(     3)\n\n#define DIB3000_TRANSMISSION_MODE_2K\t(     0)\n#define DIB3000_TRANSMISSION_MODE_8K\t(     1)\n\n#define DIB3000_SELECT_LP\t\t\t\t(     0)\n#define DIB3000_SELECT_HP\t\t\t\t(     1)\n\n#define DIB3000_FEC_1_2\t\t\t\t\t(     1)\n#define DIB3000_FEC_2_3\t\t\t\t\t(     2)\n#define DIB3000_FEC_3_4\t\t\t\t\t(     3)\n#define DIB3000_FEC_5_6\t\t\t\t\t(     5)\n#define DIB3000_FEC_7_8\t\t\t\t\t(     7)\n\n#define DIB3000_HRCH_OFF\t\t\t\t(     0)\n#define DIB3000_HRCH_ON\t\t\t\t\t(     1)\n\n#define DIB3000_DDS_INVERSION_OFF\t\t(     0)\n#define DIB3000_DDS_INVERSION_ON\t\t(     1)\n\n#define DIB3000_TUNER_WRITE_ENABLE(a)\t(0xffff & (a << 8))\n#define DIB3000_TUNER_WRITE_DISABLE(a)\t(0xffff & ((a << 8) | (1 << 7)))\n\n#define DIB3000_REG_MANUFACTOR_ID\t\t(  1025)\n#define DIB3000_I2C_ID_DIBCOM\t\t\t(0x01b3)\n\n#define DIB3000_REG_DEVICE_ID\t\t\t(  1026)\n#define DIB3000MB_DEVICE_ID\t\t\t\t(0x3000)\n#define DIB3000MC_DEVICE_ID\t\t\t\t(0x3001)\n#define DIB3000P_DEVICE_ID\t\t\t\t(0x3002)\n\n \nstruct dib3000_state {\n\tstruct i2c_adapter* i2c;\n\n \n\tstruct dib3000_config config;\n\n\tstruct dvb_frontend frontend;\n\tint timing_offset;\n\tint timing_offset_comp_done;\n\n\tu32 last_tuned_bw;\n\tu32 last_tuned_freq;\n};\n\n \n\n \n#define DIB3000MB_REG_RESTART\t\t\t(     0)\n\n#define DIB3000MB_RESTART_OFF\t\t\t(     0)\n#define DIB3000MB_RESTART_AUTO_SEARCH\t\t(1 << 1)\n#define DIB3000MB_RESTART_CTRL\t\t\t\t(1 << 2)\n#define DIB3000MB_RESTART_AGC\t\t\t\t(1 << 3)\n\n \n#define DIB3000MB_REG_FFT\t\t\t\t(     1)\n\n \n#define DIB3000MB_REG_GUARD_TIME\t\t(     2)\n\n \n#define DIB3000MB_REG_QAM\t\t\t\t(     3)\n\n \n#define DIB3000MB_REG_VIT_ALPHA\t\t\t(     4)\n\n \n#define DIB3000MB_REG_DDS_INV\t\t\t(     5)\n\n \n#define DIB3000MB_REG_DDS_FREQ_MSB\t\t(     6)\n#define DIB3000MB_REG_DDS_FREQ_LSB\t\t(     7)\n#define DIB3000MB_DDS_FREQ_MSB\t\t\t\t(   178)\n#define DIB3000MB_DDS_FREQ_LSB\t\t\t\t(  8990)\n\n \nstatic u16 dib3000mb_reg_timing_freq[] = { 8,9 };\nstatic u16 dib3000mb_timing_freq[][2] = {\n\t{ 126 , 48873 },  \n\t{ 147 , 57019 },  \n\t{ 168 , 65164 },  \n};\n\n \n \n\nstatic u16 dib3000mb_reg_impulse_noise[] = { 10,11,12,15,36 };\n\nenum dib3000mb_impulse_noise_type {\n\tDIB3000MB_IMPNOISE_OFF,\n\tDIB3000MB_IMPNOISE_MOBILE,\n\tDIB3000MB_IMPNOISE_FIXED,\n\tDIB3000MB_IMPNOISE_DEFAULT\n};\n\nstatic u16 dib3000mb_impulse_noise_values[][5] = {\n\t{ 0x0000, 0x0004, 0x0014, 0x01ff, 0x0399 },  \n\t{ 0x0001, 0x0004, 0x0014, 0x01ff, 0x037b },  \n\t{ 0x0001, 0x0004, 0x0020, 0x01bd, 0x0399 },  \n\t{ 0x0000, 0x0002, 0x000a, 0x01ff, 0x0399 },  \n};\n\n \n\n \nstatic u16 dib3000mb_reg_agc_gain[] = {\n\t19,20,21,22,23,24,25,26,27,28,29,30,31,32\n};\n\nstatic u16 dib3000mb_default_agc_gain[] =\n\t{ 0x0001, 52429,   623, 128, 166, 195, 61,    \n\t  0x0001, 53766, 38011,   0,  90,  33, 23 };  \n\n \n \nstatic u16 dib3000mb_reg_phase_noise[] = { 33,34,35,37,38 };\n\nstatic u16 dib3000mb_default_noise_phase[] = { 2, 544, 0, 5, 4 };\n\n \nstatic u16 dib3000mb_reg_lock_duration[] = { 39,40 };\nstatic u16 dib3000mb_default_lock_duration[] = { 135, 135 };\n\n \nstatic u16 dib3000mb_reg_agc_bandwidth[] = { 43,44,45,46,47,48,49,50 };\n\nstatic u16 dib3000mb_agc_bandwidth_low[]  =\n\t{ 2088, 10, 2088, 10, 3448, 5, 3448, 5 };\nstatic u16 dib3000mb_agc_bandwidth_high[] =\n\t{ 2349,  5, 2349,  5, 2586, 2, 2586, 2 };\n\n \n#define DIB3000MB_REG_LOCK0_MASK\t\t(    51)\n#define DIB3000MB_LOCK0_DEFAULT\t\t\t\t(     4)\n\n \n#define DIB3000MB_REG_LOCK1_MASK\t\t(    52)\n#define DIB3000MB_LOCK1_SEARCH_4\t\t\t(0x0004)\n#define DIB3000MB_LOCK1_SEARCH_2048\t\t\t(0x0800)\n#define DIB3000MB_LOCK1_DEFAULT\t\t\t\t(0x0001)\n\n \n#define DIB3000MB_REG_LOCK2_MASK\t\t(    53)\n#define DIB3000MB_LOCK2_DEFAULT\t\t\t\t(0x0080)\n\n \n#define DIB3000MB_REG_SEQ\t\t\t\t(    54)\n\n \nstatic u16 dib3000mb_reg_bandwidth[] = { 55,56,57,58,59,60,61,62,63,64,65,66,67 };\nstatic u16 dib3000mb_bandwidth_6mhz[] =\n\t{ 0, 33, 53312, 112, 46635, 563, 36565, 0, 1000, 0, 1010, 1, 45264 };\n\nstatic u16 dib3000mb_bandwidth_7mhz[] =\n\t{ 0, 28, 64421,  96, 39973, 483,  3255, 0, 1000, 0, 1010, 1, 45264 };\n\nstatic u16 dib3000mb_bandwidth_8mhz[] =\n\t{ 0, 25, 23600,  84, 34976, 422, 43808, 0, 1000, 0, 1010, 1, 45264 };\n\n#define DIB3000MB_REG_UNK_68\t\t\t\t(    68)\n#define DIB3000MB_UNK_68\t\t\t\t\t\t(     0)\n\n#define DIB3000MB_REG_UNK_69\t\t\t\t(    69)\n#define DIB3000MB_UNK_69\t\t\t\t\t\t(     0)\n\n#define DIB3000MB_REG_UNK_71\t\t\t\t(    71)\n#define DIB3000MB_UNK_71\t\t\t\t\t\t(     0)\n\n#define DIB3000MB_REG_UNK_77\t\t\t\t(    77)\n#define DIB3000MB_UNK_77\t\t\t\t\t\t(     6)\n\n#define DIB3000MB_REG_UNK_78\t\t\t\t(    78)\n#define DIB3000MB_UNK_78\t\t\t\t\t\t(0x0080)\n\n \n#define DIB3000MB_REG_ISI\t\t\t\t(    79)\n#define DIB3000MB_ISI_ACTIVATE\t\t\t\t(     0)\n#define DIB3000MB_ISI_INHIBIT\t\t\t\t(     1)\n\n \n#define DIB3000MB_REG_SYNC_IMPROVEMENT\t(    84)\n#define DIB3000MB_SYNC_IMPROVE_2K_1_8\t\t(     3)\n#define DIB3000MB_SYNC_IMPROVE_DEFAULT\t\t(     0)\n\n \n#define DIB3000MB_REG_PHASE_NOISE\t\t(    87)\n#define DIB3000MB_PHASE_NOISE_DEFAULT\t(     0)\n\n#define DIB3000MB_REG_UNK_92\t\t\t\t(    92)\n#define DIB3000MB_UNK_92\t\t\t\t\t\t(0x0080)\n\n#define DIB3000MB_REG_UNK_96\t\t\t\t(    96)\n#define DIB3000MB_UNK_96\t\t\t\t\t\t(0x0010)\n\n#define DIB3000MB_REG_UNK_97\t\t\t\t(    97)\n#define DIB3000MB_UNK_97\t\t\t\t\t\t(0x0009)\n\n \n#define DIB3000MB_REG_MOBILE_MODE\t\t(   101)\n#define DIB3000MB_MOBILE_MODE_ON\t\t\t(     1)\n#define DIB3000MB_MOBILE_MODE_OFF\t\t\t(     0)\n\n#define DIB3000MB_REG_UNK_106\t\t\t(   106)\n#define DIB3000MB_UNK_106\t\t\t\t\t(0x0080)\n\n#define DIB3000MB_REG_UNK_107\t\t\t(   107)\n#define DIB3000MB_UNK_107\t\t\t\t\t(0x0080)\n\n#define DIB3000MB_REG_UNK_108\t\t\t(   108)\n#define DIB3000MB_UNK_108\t\t\t\t\t(0x0080)\n\n \n#define DIB3000MB_REG_UNK_121\t\t\t(   121)\n#define DIB3000MB_UNK_121_2K\t\t\t\t(     7)\n#define DIB3000MB_UNK_121_DEFAULT\t\t\t(     5)\n\n#define DIB3000MB_REG_UNK_122\t\t\t(   122)\n#define DIB3000MB_UNK_122\t\t\t\t\t(  2867)\n\n \n#define DIB3000MB_REG_MOBILE_MODE_QAM\t(   126)\n#define DIB3000MB_MOBILE_MODE_QAM_64\t\t(     3)\n#define DIB3000MB_MOBILE_MODE_QAM_QPSK_16\t(     1)\n#define DIB3000MB_MOBILE_MODE_QAM_OFF\t\t(     0)\n\n \n#define DIB3000MB_REG_DATA_IN_DIVERSITY\t\t(   127)\n#define DIB3000MB_DATA_DIVERSITY_IN_OFF\t\t\t(     0)\n#define DIB3000MB_DATA_DIVERSITY_IN_ON\t\t\t(     2)\n\n \n#define DIB3000MB_REG_VIT_HRCH\t\t\t(   128)\n\n \n#define DIB3000MB_REG_VIT_CODE_RATE\t\t(   129)\n\n \n#define DIB3000MB_REG_VIT_HP\t\t\t(   130)\n\n \n#define DIB3000MB_REG_BERLEN\t\t\t(   135)\n#define DIB3000MB_BERLEN_LONG\t\t\t\t(     0)\n#define DIB3000MB_BERLEN_DEFAULT\t\t\t(     1)\n#define DIB3000MB_BERLEN_MEDIUM\t\t\t\t(     2)\n#define DIB3000MB_BERLEN_SHORT\t\t\t\t(     3)\n\n \n\n#define DIB3000MB_REG_FIFO_142\t\t\t(   142)\n#define DIB3000MB_FIFO_142\t\t\t\t\t(     0)\n\n \n#define DIB3000MB_REG_MPEG2_OUT_MODE\t(   143)\n#define DIB3000MB_MPEG2_OUT_MODE_204\t\t(     0)\n#define DIB3000MB_MPEG2_OUT_MODE_188\t\t(     1)\n\n#define DIB3000MB_REG_PID_PARSE\t\t\t(   144)\n#define DIB3000MB_PID_PARSE_INHIBIT\t\t(     0)\n#define DIB3000MB_PID_PARSE_ACTIVATE\t(     1)\n\n#define DIB3000MB_REG_FIFO\t\t\t\t(   145)\n#define DIB3000MB_FIFO_INHIBIT\t\t\t\t(     1)\n#define DIB3000MB_FIFO_ACTIVATE\t\t\t\t(     0)\n\n#define DIB3000MB_REG_FIFO_146\t\t\t(   146)\n#define DIB3000MB_FIFO_146\t\t\t\t\t(     3)\n\n#define DIB3000MB_REG_FIFO_147\t\t\t(   147)\n#define DIB3000MB_FIFO_147\t\t\t\t\t(0x0100)\n\n \n\n#define DIB3000MB_REG_FIRST_PID\t\t\t(   153)\n#define DIB3000MB_NUM_PIDS\t\t\t\t(    16)\n\n \n#define DIB3000MB_REG_OUTPUT_MODE\t\t(   169)\n#define DIB3000MB_OUTPUT_MODE_GATED_CLK\t\t(     0)\n#define DIB3000MB_OUTPUT_MODE_CONT_CLK\t\t(     1)\n#define DIB3000MB_OUTPUT_MODE_SERIAL\t\t(     2)\n#define DIB3000MB_OUTPUT_MODE_DATA_DIVERSITY\t(     5)\n#define DIB3000MB_OUTPUT_MODE_SLAVE\t\t\t(     6)\n\n \n#define DIB3000MB_REG_IRQ_EVENT_MASK\t\t(   170)\n#define DIB3000MB_IRQ_EVENT_MASK\t\t\t\t(     0)\n\n \nstatic u16 dib3000mb_reg_filter_coeffs[] = {\n\t171, 172, 173, 174, 175, 176, 177, 178,\n\t179, 180, 181, 182, 183, 184, 185, 186,\n\t188, 189, 190, 191, 192, 194\n};\n\nstatic u16 dib3000mb_filter_coeffs[] = {\n\t 226,  160,   29,\n\t 979,  998,   19,\n\t  22, 1019, 1006,\n\t1022,   12,    6,\n\t1017, 1017,    3,\n\t   6,       1019,\n\t1021,    2,    3,\n\t   1,          0,\n};\n\n \n#define DIB3000MB_REG_MOBILE_ALGO\t\t(   195)\n#define DIB3000MB_MOBILE_ALGO_ON\t\t\t(     0)\n#define DIB3000MB_MOBILE_ALGO_OFF\t\t\t(     1)\n\n \n#define DIB3000MB_REG_MULTI_DEMOD_MSB\t(   206)\n#define DIB3000MB_REG_MULTI_DEMOD_LSB\t(   207)\n\n \n#define DIB3000MB_MULTI_DEMOD_MSB\t\t\t( 32767)\n#define DIB3000MB_MULTI_DEMOD_LSB\t\t\t(  4095)\n\n \n#define DIB3000MB_REG_RESET_DEVICE\t\t(  1024)\n#define DIB3000MB_RESET_DEVICE\t\t\t\t(0x812c)\n#define DIB3000MB_RESET_DEVICE_RST\t\t\t(     0)\n\n \n#define DIB3000MB_REG_CLOCK\t\t\t\t(  1027)\n#define DIB3000MB_CLOCK_DEFAULT\t\t\t\t(0x9000)\n#define DIB3000MB_CLOCK_DIVERSITY\t\t\t(0x92b0)\n\n \n#define DIB3000MB_REG_POWER_CONTROL\t\t(  1028)\n#define DIB3000MB_POWER_DOWN\t\t\t\t(     1)\n#define DIB3000MB_POWER_UP\t\t\t\t\t(     0)\n\n \n#define DIB3000MB_REG_ELECT_OUT_MODE\t(  1029)\n#define DIB3000MB_ELECT_OUT_MODE_OFF\t\t(     0)\n#define DIB3000MB_ELECT_OUT_MODE_ON\t\t\t(     1)\n\n \n#define DIB3000MB_REG_TUNER\t\t\t\t(  1089)\n\n \n\n \n#define DIB3000MB_REG_AGC_LOCK\t\t\t(   324)\n\n \n#define DIB3000MB_REG_AGC_POWER\t\t\t(   325)\n\n \n#define DIB3000MB_REG_AGC1_VALUE\t\t(   326)\n\n \n#define DIB3000MB_REG_AGC2_VALUE\t\t(   327)\n\n \n#define DIB3000MB_REG_RF_POWER\t\t\t(   328)\n\n \n#define DIB3000MB_REG_DDS_VALUE_MSB\t\t(   339)\n#define DIB3000MB_REG_DDS_VALUE_LSB\t\t(   340)\n\n \n#define DIB3000MB_REG_TIMING_OFFSET_MSB\t(   341)\n#define DIB3000MB_REG_TIMING_OFFSET_LSB\t(   342)\n\n \n#define DIB3000MB_REG_FFT_WINDOW_POS\t(   353)\n\n \n#define DIB3000MB_REG_CARRIER_LOCK\t\t(   355)\n\n \n#define DIB3000MB_REG_NOISE_POWER_MSB\t(   372)\n#define DIB3000MB_REG_NOISE_POWER_LSB\t(   373)\n\n#define DIB3000MB_REG_MOBILE_NOISE_MSB\t(   374)\n#define DIB3000MB_REG_MOBILE_NOISE_LSB\t(   375)\n\n \n#define DIB3000MB_REG_SIGNAL_POWER\t\t(   380)\n\n \n#define DIB3000MB_REG_MER_MSB\t\t\t(   381)\n#define DIB3000MB_REG_MER_LSB\t\t\t(   382)\n\n \n\n \n#define DIB3000MB_REG_TPS_LOCK\t\t\t(   394)\n\n \n#define DIB3000MB_REG_TPS_QAM\t\t\t(   398)\n\n \n#define DIB3000MB_REG_TPS_HRCH\t\t\t(   399)\n\n \n#define DIB3000MB_REG_TPS_VIT_ALPHA\t\t(   400)\n\n \n#define DIB3000MB_REG_TPS_CODE_RATE_HP\t(   401)\n\n \n#define DIB3000MB_REG_TPS_CODE_RATE_LP\t(   402)\n\n \n#define DIB3000MB_REG_TPS_GUARD_TIME\t(   403)\n\n \n#define DIB3000MB_REG_TPS_FFT\t\t\t(   404)\n\n \n#define DIB3000MB_REG_TPS_CELL_ID\t\t(   406)\n\n \n#define DIB3000MB_REG_TPS_1\t\t\t\t(   408)\n#define DIB3000MB_REG_TPS_2\t\t\t\t(   409)\n#define DIB3000MB_REG_TPS_3\t\t\t\t(   410)\n#define DIB3000MB_REG_TPS_4\t\t\t\t(   411)\n#define DIB3000MB_REG_TPS_5\t\t\t\t(   412)\n\n \n#define DIB3000MB_REG_BER_MSB\t\t\t(   414)\n#define DIB3000MB_REG_BER_LSB\t\t\t(   415)\n\n \n#define DIB3000MB_REG_PACKET_ERROR_RATE\t(   417)\n\n \n#define DIB3000MB_REG_UNC\t\t\t\t(   420)\n\n \n#define DIB3000MB_REG_VIT_LCK\t\t\t(   421)\n\n \n#define DIB3000MB_REG_VIT_INDICATOR\t\t(   422)\n\n \n#define DIB3000MB_REG_TS_SYNC_LOCK\t\t(   423)\n\n \n#define DIB3000MB_REG_TS_RS_LOCK\t\t(   424)\n\n \n#define DIB3000MB_REG_LOCK0_VALUE\t\t(   425)\n\n \n#define DIB3000MB_REG_LOCK1_VALUE\t\t(   426)\n\n \n#define DIB3000MB_REG_LOCK2_VALUE\t\t(   427)\n\n \n#define DIB3000MB_REG_AS_IRQ_PENDING\t(   434)\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}