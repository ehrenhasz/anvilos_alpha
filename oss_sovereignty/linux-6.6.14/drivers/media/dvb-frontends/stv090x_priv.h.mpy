{
  "module_name": "stv090x_priv.h",
  "hash_id": "85a57a1cc429a8f5d1542592cc41cadeaae0e7d5ed26796eb0e01c3713ed05df",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/dvb-frontends/stv090x_priv.h",
  "human_readable_source": " \n \n\n#ifndef __STV090x_PRIV_H\n#define __STV090x_PRIV_H\n\n#include <media/dvb_frontend.h>\n\n#define FE_ERROR\t\t\t\t0\n#define FE_NOTICE\t\t\t\t1\n#define FE_INFO\t\t\t\t\t2\n#define FE_DEBUG\t\t\t\t3\n#define FE_DEBUGREG\t\t\t\t4\n\n#define dprintk(__y, __z, format, arg...) do {\t\t\t\t\t\t\\\n\tif (__z) {\t\t\t\t\t\t\t\t\t\\\n\t\tif\t((verbose > FE_ERROR) && (verbose > __y))\t\t\t\\\n\t\t\tprintk(KERN_ERR \"%s: \" format \"\\n\", __func__ , ##arg);\t\t\\\n\t\telse if\t((verbose > FE_NOTICE) && (verbose > __y))\t\t\t\\\n\t\t\tprintk(KERN_NOTICE \"%s: \" format \"\\n\", __func__ , ##arg);\t\\\n\t\telse if ((verbose > FE_INFO) && (verbose > __y))\t\t\t\\\n\t\t\tprintk(KERN_INFO \"%s: \" format \"\\n\", __func__ , ##arg);\t\t\\\n\t\telse if ((verbose > FE_DEBUG) && (verbose > __y))\t\t\t\\\n\t\t\tprintk(KERN_DEBUG \"%s: \" format \"\\n\", __func__ , ##arg);\t\\\n\t} else {\t\t\t\t\t\t\t\t\t\\\n\t\tif (verbose > __y)\t\t\t\t\t\t\t\\\n\t\t\tprintk(format, ##arg);\t\t\t\t\t\t\\\n\t}\t\t\t\t\t\t\t\t\t\t\\\n} while (0)\n\n#define STV090x_READ_DEMOD(__state, __reg) ((\t\t\t\\\n\t(__state)->demod == STV090x_DEMODULATOR_1)\t?\t\\\n\tstv090x_read_reg(__state, STV090x_P2_##__reg) :\t\t\\\n\tstv090x_read_reg(__state, STV090x_P1_##__reg))\n\n#define STV090x_WRITE_DEMOD(__state, __reg, __data) ((\t\t\\\n\t(__state)->demod == STV090x_DEMODULATOR_1)\t?\t\\\n\tstv090x_write_reg(__state, STV090x_P2_##__reg, __data) :\\\n\tstv090x_write_reg(__state, STV090x_P1_##__reg, __data))\n\n#define STV090x_ADDR_OFFST(__state, __x) ((\t\t\t\\\n\t(__state->demod) == STV090x_DEMODULATOR_1)\t?\t\\\n\t\tSTV090x_P1_##__x :\t\t\t\t\\\n\t\tSTV090x_P2_##__x)\n\n\n#define STV090x_SETFIELD(mask, bitf, val)\t(mask = (mask & (~(((1 << STV090x_WIDTH_##bitf) - 1) <<\\\n\t\t\t\t\t\t\t STV090x_OFFST_##bitf))) | \\\n\t\t\t\t\t\t\t (val << STV090x_OFFST_##bitf))\n\n#define STV090x_GETFIELD(val, bitf)\t\t((val >> STV090x_OFFST_##bitf) & ((1 << STV090x_WIDTH_##bitf) - 1))\n\n\n#define STV090x_SETFIELD_Px(mask, bitf, val)\t(mask = (mask & (~(((1 << STV090x_WIDTH_Px_##bitf) - 1) <<\\\n\t\t\t\t\t\t\t STV090x_OFFST_Px_##bitf))) | \\\n\t\t\t\t\t\t\t (val << STV090x_OFFST_Px_##bitf))\n\n#define STV090x_GETFIELD_Px(val, bitf)\t\t((val >> STV090x_OFFST_Px_##bitf) & ((1 << STV090x_WIDTH_Px_##bitf) - 1))\n\n#define MAKEWORD16(__a, __b)\t\t\t(((__a) << 8) | (__b))\n\n#define MSB(__x)\t\t\t\t((__x >> 8) & 0xff)\n#define LSB(__x)\t\t\t\t(__x & 0xff)\n\n\n#define STV090x_IQPOWER_THRESHOLD\t  30\n#define STV090x_SEARCH_AGC2_TH_CUT20\t 700\n#define STV090x_SEARCH_AGC2_TH_CUT30\t1400\n\n#define STV090x_SEARCH_AGC2_TH(__ver)\t\\\n\t((__ver <= 0x20) ?\t\t\\\n\tSTV090x_SEARCH_AGC2_TH_CUT20 :\t\\\n\tSTV090x_SEARCH_AGC2_TH_CUT30)\n\nenum stv090x_signal_state {\n\tSTV090x_NOAGC1,\n\tSTV090x_NOCARRIER,\n\tSTV090x_NODATA,\n\tSTV090x_DATAOK,\n\tSTV090x_RANGEOK,\n\tSTV090x_OUTOFRANGE\n};\n\nenum stv090x_fec {\n\tSTV090x_PR12 = 0,\n\tSTV090x_PR23,\n\tSTV090x_PR34,\n\tSTV090x_PR45,\n\tSTV090x_PR56,\n\tSTV090x_PR67,\n\tSTV090x_PR78,\n\tSTV090x_PR89,\n\tSTV090x_PR910,\n\tSTV090x_PRERR\n};\n\nenum stv090x_modulation {\n\tSTV090x_QPSK,\n\tSTV090x_8PSK,\n\tSTV090x_16APSK,\n\tSTV090x_32APSK,\n\tSTV090x_UNKNOWN\n};\n\nenum stv090x_frame {\n\tSTV090x_LONG_FRAME,\n\tSTV090x_SHORT_FRAME\n};\n\nenum stv090x_pilot {\n\tSTV090x_PILOTS_OFF,\n\tSTV090x_PILOTS_ON\n};\n\nenum stv090x_rolloff {\n\tSTV090x_RO_35,\n\tSTV090x_RO_25,\n\tSTV090x_RO_20\n};\n\nenum stv090x_inversion {\n\tSTV090x_IQ_AUTO,\n\tSTV090x_IQ_NORMAL,\n\tSTV090x_IQ_SWAP\n};\n\nenum stv090x_modcod {\n\tSTV090x_DUMMY_PLF = 0,\n\tSTV090x_QPSK_14,\n\tSTV090x_QPSK_13,\n\tSTV090x_QPSK_25,\n\tSTV090x_QPSK_12,\n\tSTV090x_QPSK_35,\n\tSTV090x_QPSK_23,\n\tSTV090x_QPSK_34,\n\tSTV090x_QPSK_45,\n\tSTV090x_QPSK_56,\n\tSTV090x_QPSK_89,\n\tSTV090x_QPSK_910,\n\tSTV090x_8PSK_35,\n\tSTV090x_8PSK_23,\n\tSTV090x_8PSK_34,\n\tSTV090x_8PSK_56,\n\tSTV090x_8PSK_89,\n\tSTV090x_8PSK_910,\n\tSTV090x_16APSK_23,\n\tSTV090x_16APSK_34,\n\tSTV090x_16APSK_45,\n\tSTV090x_16APSK_56,\n\tSTV090x_16APSK_89,\n\tSTV090x_16APSK_910,\n\tSTV090x_32APSK_34,\n\tSTV090x_32APSK_45,\n\tSTV090x_32APSK_56,\n\tSTV090x_32APSK_89,\n\tSTV090x_32APSK_910,\n\tSTV090x_MODCODE_UNKNOWN\n};\n\nenum stv090x_search {\n\tSTV090x_SEARCH_DSS = 0,\n\tSTV090x_SEARCH_DVBS1,\n\tSTV090x_SEARCH_DVBS2,\n\tSTV090x_SEARCH_AUTO\n};\n\nenum stv090x_algo {\n\tSTV090x_BLIND_SEARCH,\n\tSTV090x_COLD_SEARCH,\n\tSTV090x_WARM_SEARCH\n};\n\nenum stv090x_delsys {\n\tSTV090x_ERROR = 0,\n\tSTV090x_DVBS1 = 1,\n\tSTV090x_DVBS2,\n\tSTV090x_DSS\n};\n\nstruct stv090x_long_frame_crloop {\n\tenum stv090x_modcod\tmodcod;\n\n\tu8 crl_pilots_on_2;\n\tu8 crl_pilots_off_2;\n\tu8 crl_pilots_on_5;\n\tu8 crl_pilots_off_5;\n\tu8 crl_pilots_on_10;\n\tu8 crl_pilots_off_10;\n\tu8 crl_pilots_on_20;\n\tu8 crl_pilots_off_20;\n\tu8 crl_pilots_on_30;\n\tu8 crl_pilots_off_30;\n};\n\nstruct stv090x_short_frame_crloop {\n\tenum stv090x_modulation\tmodulation;\n\n\tu8 crl_2;   \n\tu8 crl_5;   \n\tu8 crl_10;  \n\tu8 crl_20;  \n\tu8 crl_30;  \n};\n\nstruct stv090x_reg {\n\tu16 addr;\n\tu8  data;\n};\n\nstruct stv090x_tab {\n\ts32 real;\n\ts32 read;\n};\n\nstruct stv090x_internal {\n\tstruct i2c_adapter\t*i2c_adap;\n\tu8\t\t\ti2c_addr;\n\n\tstruct mutex\t\tdemod_lock;  \n\tstruct mutex\t\ttuner_lock;  \n\ts32\t\t\tmclk;  \n\tu32\t\t\tdev_ver;\n\n\tint\t\t\tnum_used;\n};\n\nstruct stv090x_state {\n\tenum stv090x_device\t\tdevice;\n\tenum stv090x_demodulator\tdemod;\n\tenum stv090x_mode\t\tdemod_mode;\n\tstruct stv090x_internal\t\t*internal;\n\n\tstruct i2c_adapter\t\t*i2c;\n\tstruct stv090x_config\t*config;\n\tstruct dvb_frontend\t\tfrontend;\n\n\tu32\t\t\t\t*verbose;  \n\n\tenum stv090x_delsys\t\tdelsys;\n\tenum stv090x_fec\t\tfec;\n\tenum stv090x_modulation\t\tmodulation;\n\tenum stv090x_modcod\t\tmodcod;\n\tenum stv090x_search\t\tsearch_mode;\n\tenum stv090x_frame\t\tframe_len;\n\tenum stv090x_pilot\t\tpilots;\n\tenum stv090x_rolloff\t\trolloff;\n\tenum stv090x_inversion\t\tinversion;\n\tenum stv090x_algo\t\talgo;\n\n\tu32\t\t\t\tfrequency;\n\tu32\t\t\t\tsrate;\n\n\ts32\t\t\t\ttuner_bw;\n\n\ts32\t\t\t\tsearch_range;\n\n\ts32\t\t\t\tDemodTimeout;\n\ts32\t\t\t\tFecTimeout;\n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}