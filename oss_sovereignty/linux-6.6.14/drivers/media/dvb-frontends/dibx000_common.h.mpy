{
  "module_name": "dibx000_common.h",
  "hash_id": "df90cf7093a30566d352e1b9e113a1f9ea4b1386cfa08b45ed212b86e85d1781",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/dvb-frontends/dibx000_common.h",
  "human_readable_source": " \n#ifndef DIBX000_COMMON_H\n#define DIBX000_COMMON_H\n\nenum dibx000_i2c_interface {\n\tDIBX000_I2C_INTERFACE_TUNER = 0,\n\tDIBX000_I2C_INTERFACE_GPIO_1_2 = 1,\n\tDIBX000_I2C_INTERFACE_GPIO_3_4 = 2,\n\tDIBX000_I2C_INTERFACE_GPIO_6_7 = 3\n};\n\nstruct dibx000_i2c_master {\n#define DIB3000MC 1\n#define DIB7000   2\n#define DIB7000P  11\n#define DIB7000MC 12\n#define DIB8000   13\n\tu16 device_rev;\n\n\tenum dibx000_i2c_interface selected_interface;\n\n \n\tstruct i2c_adapter gated_tuner_i2c_adap;\n\tstruct i2c_adapter master_i2c_adap_gpio12;\n\tstruct i2c_adapter master_i2c_adap_gpio34;\n\tstruct i2c_adapter master_i2c_adap_gpio67;\n\n\tstruct i2c_adapter *i2c_adap;\n\tu8 i2c_addr;\n\n\tu16 base_reg;\n\n\t \n\tstruct i2c_msg msg[34];\n\tu8 i2c_write_buffer[8];\n\tu8 i2c_read_buffer[2];\n\tstruct mutex i2c_buffer_lock;\n};\n\nextern int dibx000_init_i2c_master(struct dibx000_i2c_master *mst,\n\t\t\t\t\tu16 device_rev, struct i2c_adapter *i2c_adap,\n\t\t\t\t\tu8 i2c_addr);\nextern struct i2c_adapter *dibx000_get_i2c_adapter(struct dibx000_i2c_master\n\t\t\t\t\t\t\t*mst,\n\t\t\t\t\t\t\tenum dibx000_i2c_interface\n\t\t\t\t\t\t\tintf, int gating);\nextern void dibx000_exit_i2c_master(struct dibx000_i2c_master *mst);\nextern void dibx000_reset_i2c_master(struct dibx000_i2c_master *mst);\nextern int dibx000_i2c_set_speed(struct i2c_adapter *i2c_adap, u16 speed);\n\n#define BAND_LBAND 0x01\n#define BAND_UHF   0x02\n#define BAND_VHF   0x04\n#define BAND_SBAND 0x08\n#define BAND_FM\t   0x10\n#define BAND_CBAND 0x20\n\n#define BAND_OF_FREQUENCY(freq_kHz) ((freq_kHz) <= 170000 ? BAND_CBAND : \\\n\t\t\t\t\t\t\t\t\t(freq_kHz) <= 115000 ? BAND_FM : \\\n\t\t\t\t\t\t\t\t\t(freq_kHz) <= 250000 ? BAND_VHF : \\\n\t\t\t\t\t\t\t\t\t(freq_kHz) <= 863000 ? BAND_UHF : \\\n\t\t\t\t\t\t\t\t\t(freq_kHz) <= 2000000 ? BAND_LBAND : BAND_SBAND )\n\nstruct dibx000_agc_config {\n\t \n\tu8 band_caps;\n\n\tu16 setup;\n\n\tu16 inv_gain;\n\tu16 time_stabiliz;\n\n\tu8 alpha_level;\n\tu16 thlock;\n\n\tu8 wbd_inv;\n\tu16 wbd_ref;\n\tu8 wbd_sel;\n\tu8 wbd_alpha;\n\n\tu16 agc1_max;\n\tu16 agc1_min;\n\tu16 agc2_max;\n\tu16 agc2_min;\n\n\tu8 agc1_pt1;\n\tu8 agc1_pt2;\n\tu8 agc1_pt3;\n\n\tu8 agc1_slope1;\n\tu8 agc1_slope2;\n\n\tu8 agc2_pt1;\n\tu8 agc2_pt2;\n\n\tu8 agc2_slope1;\n\tu8 agc2_slope2;\n\n\tu8 alpha_mant;\n\tu8 alpha_exp;\n\n\tu8 beta_mant;\n\tu8 beta_exp;\n\n\tu8 perform_agc_softsplit;\n\n\tstruct {\n\t\tu16 min;\n\t\tu16 max;\n\t\tu16 min_thres;\n\t\tu16 max_thres;\n\t} split;\n};\n\nstruct dibx000_bandwidth_config {\n\tu32 internal;\n\tu32 sampling;\n\n\tu8 pll_prediv;\n\tu8 pll_ratio;\n\tu8 pll_range;\n\tu8 pll_reset;\n\tu8 pll_bypass;\n\n\tu8 enable_refdiv;\n\tu8 bypclk_div;\n\tu8 IO_CLK_en_core;\n\tu8 ADClkSrc;\n\tu8 modulo;\n\n\tu16 sad_cfg;\n\n\tu32 ifreq;\n\tu32 timf;\n\n\tu32 xtal_hz;\n};\n\nenum dibx000_adc_states {\n\tDIBX000_SLOW_ADC_ON = 0,\n\tDIBX000_SLOW_ADC_OFF,\n\tDIBX000_ADC_ON,\n\tDIBX000_ADC_OFF,\n\tDIBX000_VBG_ENABLE,\n\tDIBX000_VBG_DISABLE,\n};\n\n#define BANDWIDTH_TO_KHZ(v)\t((v) / 1000)\n#define BANDWIDTH_TO_HZ(v)\t((v) * 1000)\n\n \n#define OUTMODE_HIGH_Z              0\n#define OUTMODE_MPEG2_PAR_GATED_CLK 1\n#define OUTMODE_MPEG2_PAR_CONT_CLK  2\n#define OUTMODE_MPEG2_SERIAL        7\n#define OUTMODE_DIVERSITY           4\n#define OUTMODE_MPEG2_FIFO          5\n#define OUTMODE_ANALOG_ADC          6\n\n#define INPUT_MODE_OFF                0x11\n#define INPUT_MODE_DIVERSITY          0x12\n#define INPUT_MODE_MPEG               0x13\n\nenum frontend_tune_state {\n\tCT_TUNER_START = 10,\n\tCT_TUNER_STEP_0,\n\tCT_TUNER_STEP_1,\n\tCT_TUNER_STEP_2,\n\tCT_TUNER_STEP_3,\n\tCT_TUNER_STEP_4,\n\tCT_TUNER_STEP_5,\n\tCT_TUNER_STEP_6,\n\tCT_TUNER_STEP_7,\n\tCT_TUNER_STOP,\n\n\tCT_AGC_START = 20,\n\tCT_AGC_STEP_0,\n\tCT_AGC_STEP_1,\n\tCT_AGC_STEP_2,\n\tCT_AGC_STEP_3,\n\tCT_AGC_STEP_4,\n\tCT_AGC_STOP,\n\n\tCT_DEMOD_START = 30,\n\tCT_DEMOD_STEP_1,\n\tCT_DEMOD_STEP_2,\n\tCT_DEMOD_STEP_3,\n\tCT_DEMOD_STEP_4,\n\tCT_DEMOD_STEP_5,\n\tCT_DEMOD_STEP_6,\n\tCT_DEMOD_STEP_7,\n\tCT_DEMOD_STEP_8,\n\tCT_DEMOD_STEP_9,\n\tCT_DEMOD_STEP_10,\n\tCT_DEMOD_STEP_11,\n\tCT_DEMOD_SEARCH_NEXT = 51,\n\tCT_DEMOD_STEP_LOCKED,\n\tCT_DEMOD_STOP,\n\n\tCT_DONE = 100,\n\tCT_SHUTDOWN,\n\n};\n\nstruct dvb_frontend_parametersContext {\n#define CHANNEL_STATUS_PARAMETERS_UNKNOWN   0x01\n#define CHANNEL_STATUS_PARAMETERS_SET       0x02\n\tu8 status;\n\tu32 tune_time_estimation[2];\n\ts32 tps_available;\n\tu16 tps[9];\n};\n\n#define FE_STATUS_TUNE_FAILED          0\n#define FE_STATUS_TUNE_TIMED_OUT      -1\n#define FE_STATUS_TUNE_TIME_TOO_SHORT -2\n#define FE_STATUS_TUNE_PENDING        -3\n#define FE_STATUS_STD_SUCCESS         -4\n#define FE_STATUS_FFT_SUCCESS         -5\n#define FE_STATUS_DEMOD_SUCCESS       -6\n#define FE_STATUS_LOCKED              -7\n#define FE_STATUS_DATA_LOCKED         -8\n\n#define FE_CALLBACK_TIME_NEVER 0xffffffff\n\n#define DATA_BUS_ACCESS_MODE_8BIT                 0x01\n#define DATA_BUS_ACCESS_MODE_16BIT                0x02\n#define DATA_BUS_ACCESS_MODE_NO_ADDRESS_INCREMENT 0x10\n\nstruct dibGPIOFunction {\n#define BOARD_GPIO_COMPONENT_BUS_ADAPTER 1\n#define BOARD_GPIO_COMPONENT_DEMOD       2\n\tu8 component;\n\n#define BOARD_GPIO_FUNCTION_BOARD_ON      1\n#define BOARD_GPIO_FUNCTION_BOARD_OFF     2\n#define BOARD_GPIO_FUNCTION_COMPONENT_ON  3\n#define BOARD_GPIO_FUNCTION_COMPONENT_OFF 4\n#define BOARD_GPIO_FUNCTION_SUBBAND_PWM   5\n#define BOARD_GPIO_FUNCTION_SUBBAND_GPIO   6\n\tu8 function;\n\n \n\tu32 mask;\n\tu32 direction;\n\tu32 value;\n};\n\n#define MAX_NB_SUBBANDS   8\nstruct dibSubbandSelection {\n\tu8  size;  \n\tstruct {\n\t\tu16 f_mhz;\n\t\tstruct dibGPIOFunction gpio;\n\t} subband[MAX_NB_SUBBANDS];\n};\n\n#define DEMOD_TIMF_SET    0x00\n#define DEMOD_TIMF_GET    0x01\n#define DEMOD_TIMF_UPDATE 0x02\n\n#define MPEG_ON_DIBTX\t\t1\n#define DIV_ON_DIBTX\t\t2\n#define ADC_ON_DIBTX\t\t3\n#define DEMOUT_ON_HOSTBUS\t4\n#define DIBTX_ON_HOSTBUS\t5\n#define MPEG_ON_HOSTBUS\t\t6\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}