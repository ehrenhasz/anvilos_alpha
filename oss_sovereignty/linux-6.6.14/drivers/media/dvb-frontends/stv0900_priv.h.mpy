{
  "module_name": "stv0900_priv.h",
  "hash_id": "d1871a2409a85b60617b6d4d9e7b270644066882cf1b09a31f20f5b2bce060a0",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/dvb-frontends/stv0900_priv.h",
  "human_readable_source": " \n \n\n#ifndef STV0900_PRIV_H\n#define STV0900_PRIV_H\n\n#include <linux/i2c.h>\n\n#define INRANGE(X, Y, Z) ((((X) <= (Y)) && ((Y) <= (Z))) \\\n\t\t|| (((Z) <= (Y)) && ((Y) <= (X))) ? 1 : 0)\n\n#ifndef MAKEWORD\n#define MAKEWORD(X, Y) (((X) << 8) + (Y))\n#endif\n\n#define LSB(X) (((X) & 0xFF))\n#define MSB(Y) (((Y) >> 8) & 0xFF)\n\n#ifndef TRUE\n#define TRUE (1 == 1)\n#endif\n#ifndef FALSE\n#define FALSE (!TRUE)\n#endif\n\n#define dprintk(args...) \\\n\tdo { \\\n\t\tif (stvdebug) \\\n\t\t\tprintk(KERN_DEBUG args); \\\n\t} while (0)\n\n#define STV0900_MAXLOOKUPSIZE 500\n#define STV0900_BLIND_SEARCH_AGC2_TH 700\n#define STV0900_BLIND_SEARCH_AGC2_TH_CUT30 1400\n#define IQPOWER_THRESHOLD  30\n\n \nstruct stv000_lookpoint {\n\ts32 realval; \n\ts32 regval; \n};\n\n \nstruct stv0900_table{\n\ts32 size; \n\tstruct stv000_lookpoint table[STV0900_MAXLOOKUPSIZE]; \n};\n\nenum fe_stv0900_error {\n\tSTV0900_NO_ERROR = 0,\n\tSTV0900_INVALID_HANDLE,\n\tSTV0900_BAD_PARAMETER,\n\tSTV0900_I2C_ERROR,\n\tSTV0900_SEARCH_FAILED,\n};\n\nenum fe_stv0900_clock_type {\n\tSTV0900_USE_REGISTERS_DEFAULT,\n\tSTV0900_SERIAL_PUNCT_CLOCK, \n\tSTV0900_SERIAL_CONT_CLOCK, \n\tSTV0900_PARALLEL_PUNCT_CLOCK, \n\tSTV0900_DVBCI_CLOCK \n};\n\nenum fe_stv0900_search_state {\n\tSTV0900_SEARCH = 0,\n\tSTV0900_PLH_DETECTED,\n\tSTV0900_DVBS2_FOUND,\n\tSTV0900_DVBS_FOUND\n\n};\n\nenum fe_stv0900_ldpc_state {\n\tSTV0900_PATH1_OFF_PATH2_OFF = 0,\n\tSTV0900_PATH1_ON_PATH2_OFF = 1,\n\tSTV0900_PATH1_OFF_PATH2_ON = 2,\n\tSTV0900_PATH1_ON_PATH2_ON = 3\n};\n\nenum fe_stv0900_signal_type {\n\tSTV0900_NOAGC1 = 0,\n\tSTV0900_AGC1OK,\n\tSTV0900_NOTIMING,\n\tSTV0900_ANALOGCARRIER,\n\tSTV0900_TIMINGOK,\n\tSTV0900_NOAGC2,\n\tSTV0900_AGC2OK,\n\tSTV0900_NOCARRIER,\n\tSTV0900_CARRIEROK,\n\tSTV0900_NODATA,\n\tSTV0900_DATAOK,\n\tSTV0900_OUTOFRANGE,\n\tSTV0900_RANGEOK\n};\n\nenum fe_stv0900_demod_num {\n\tSTV0900_DEMOD_1,\n\tSTV0900_DEMOD_2\n};\n\nenum fe_stv0900_tracking_standard {\n\tSTV0900_DVBS1_STANDARD, \n\tSTV0900_DVBS2_STANDARD,\n\tSTV0900_DSS_STANDARD,\n\tSTV0900_TURBOCODE_STANDARD,\n\tSTV0900_UNKNOWN_STANDARD\n};\n\nenum fe_stv0900_search_standard {\n\tSTV0900_AUTO_SEARCH,\n\tSTV0900_SEARCH_DVBS1, \n\tSTV0900_SEARCH_DVBS2,\n\tSTV0900_SEARCH_DSS,\n\tSTV0900_SEARCH_TURBOCODE\n};\n\nenum fe_stv0900_search_algo {\n\tSTV0900_BLIND_SEARCH, \n\tSTV0900_COLD_START, \n\tSTV0900_WARM_START \n};\n\nenum fe_stv0900_modulation {\n\tSTV0900_QPSK,\n\tSTV0900_8PSK,\n\tSTV0900_16APSK,\n\tSTV0900_32APSK,\n\tSTV0900_UNKNOWN\n};\n\nenum fe_stv0900_modcode {\n\tSTV0900_DUMMY_PLF,\n\tSTV0900_QPSK_14,\n\tSTV0900_QPSK_13,\n\tSTV0900_QPSK_25,\n\tSTV0900_QPSK_12,\n\tSTV0900_QPSK_35,\n\tSTV0900_QPSK_23,\n\tSTV0900_QPSK_34,\n\tSTV0900_QPSK_45,\n\tSTV0900_QPSK_56,\n\tSTV0900_QPSK_89,\n\tSTV0900_QPSK_910,\n\tSTV0900_8PSK_35,\n\tSTV0900_8PSK_23,\n\tSTV0900_8PSK_34,\n\tSTV0900_8PSK_56,\n\tSTV0900_8PSK_89,\n\tSTV0900_8PSK_910,\n\tSTV0900_16APSK_23,\n\tSTV0900_16APSK_34,\n\tSTV0900_16APSK_45,\n\tSTV0900_16APSK_56,\n\tSTV0900_16APSK_89,\n\tSTV0900_16APSK_910,\n\tSTV0900_32APSK_34,\n\tSTV0900_32APSK_45,\n\tSTV0900_32APSK_56,\n\tSTV0900_32APSK_89,\n\tSTV0900_32APSK_910,\n\tSTV0900_MODCODE_UNKNOWN\n};\n\nenum fe_stv0900_fec { \n\tSTV0900_FEC_1_2 = 0,\n\tSTV0900_FEC_2_3,\n\tSTV0900_FEC_3_4,\n\tSTV0900_FEC_4_5, \n\tSTV0900_FEC_5_6,\n\tSTV0900_FEC_6_7, \n\tSTV0900_FEC_7_8,\n\tSTV0900_FEC_8_9, \n\tSTV0900_FEC_UNKNOWN\n};\n\nenum fe_stv0900_frame_length {\n\tSTV0900_LONG_FRAME,\n\tSTV0900_SHORT_FRAME\n};\n\nenum fe_stv0900_pilot {\n\tSTV0900_PILOTS_OFF,\n\tSTV0900_PILOTS_ON\n};\n\nenum fe_stv0900_rolloff {\n\tSTV0900_35,\n\tSTV0900_25,\n\tSTV0900_20\n};\n\nenum fe_stv0900_search_iq {\n\tSTV0900_IQ_AUTO,\n\tSTV0900_IQ_AUTO_NORMAL_FIRST,\n\tSTV0900_IQ_FORCE_NORMAL,\n\tSTV0900_IQ_FORCE_SWAPPED\n};\n\nenum stv0900_iq_inversion {\n\tSTV0900_IQ_NORMAL,\n\tSTV0900_IQ_SWAPPED\n};\n\nenum fe_stv0900_diseqc_mode {\n\tSTV0900_22KHZ_Continues = 0,\n\tSTV0900_DISEQC_2_3_PWM = 2,\n\tSTV0900_DISEQC_3_3_PWM = 3,\n\tSTV0900_DISEQC_2_3_ENVELOP = 4,\n\tSTV0900_DISEQC_3_3_ENVELOP = 5\n};\n\nenum fe_stv0900_demod_mode {\n\tSTV0900_SINGLE = 0,\n\tSTV0900_DUAL\n};\n\nstruct stv0900_init_params{\n\tu32\tdmd_ref_clk; \n\n\t \n\tenum fe_stv0900_demod_mode\tdemod_mode;\n\tenum fe_stv0900_rolloff\t\trolloff;\n\tenum fe_stv0900_clock_type\tpath1_ts_clock;\n\n\tu8\ttun1_maddress;\n\tint\ttuner1_adc;\n\tint\ttuner1_type;\n\n\t \n\tenum stv0900_iq_inversion\ttun1_iq_inv;\n\tenum fe_stv0900_clock_type\tpath2_ts_clock;\n\n\tu8\ttun2_maddress;\n\tint\ttuner2_adc;\n\tint\ttuner2_type;\n\n\t \n\tenum stv0900_iq_inversion\ttun2_iq_inv;\n\tstruct stv0900_reg\t\t*ts_config;\n};\n\nstruct stv0900_search_params {\n\tenum fe_stv0900_demod_num\tpath; \n\n\tu32\tfrequency; \n\tu32\tsymbol_rate; \n\tu32\tsearch_range; \n\n\tenum fe_stv0900_search_standard\tstandard;\n\tenum fe_stv0900_modulation\tmodulation;\n\tenum fe_stv0900_fec\t\tfec;\n\tenum fe_stv0900_modcode\t\tmodcode;\n\tenum fe_stv0900_search_iq\tiq_inversion;\n\tenum fe_stv0900_search_algo\tsearch_algo;\n\n};\n\nstruct stv0900_signal_info {\n\tint\tlocked; \n\tu32\tfrequency; \n\tu32\tsymbol_rate; \n\n\tenum fe_stv0900_tracking_standard\tstandard;\n\tenum fe_stv0900_fec\t\t\tfec;\n\tenum fe_stv0900_modcode\t\t\tmodcode;\n\tenum fe_stv0900_modulation\t\tmodulation;\n\tenum fe_stv0900_pilot\t\t\tpilot;\n\tenum fe_stv0900_frame_length\t\tframe_len;\n\tenum stv0900_iq_inversion\t\tspectrum;\n\tenum fe_stv0900_rolloff\t\t\trolloff;\n\n\ts32 Power; \n\ts32 C_N; \n\tu32 BER; \n\n};\n\nstruct stv0900_internal{\n\ts32\tquartz;\n\ts32\tmclk;\n\t \n\tenum fe_stv0900_rolloff\t\trolloff;\n\t \n\tenum fe_stv0900_demod_mode\tdemod_mode;\n\n\t \n\ts32\tfreq[2];\n\ts32\tbw[2];\n\ts32\tsymbol_rate[2];\n\ts32\tsrch_range[2];\n\t \n\tint\ttuner_type[2];\n\n\t \n\tenum fe_stv0900_search_algo\tsrch_algo[2];\n\t \n\tenum fe_stv0900_search_standard\tsrch_standard[2];\n\t \n\tenum fe_stv0900_search_iq\tsrch_iq_inv[2];\n\tenum fe_stv0900_modcode\t\tmodcode[2];\n\tenum fe_stv0900_modulation\tmodulation[2];\n\tenum fe_stv0900_fec\t\tfec[2];\n\n\tstruct stv0900_signal_info\tresult[2];\n\tenum fe_stv0900_error\t\terr[2];\n\n\n\tstruct i2c_adapter\t*i2c_adap;\n\tu8\t\t\ti2c_addr;\n\tu8\t\t\tclkmode; \n\tu8\t\t\tchip_id;\n\tstruct stv0900_reg\t*ts_config;\n\tenum fe_stv0900_error\terrs;\n\tint dmds_used;\n};\n\n \nstruct stv0900_state {\n\t \n\tstruct stv0900_internal\t\t*internal;\n\tstruct i2c_adapter\t\t*i2c_adap;\n\tconst struct stv0900_config\t*config;\n\tstruct dvb_frontend\t\tfrontend;\n\tint demod;\n};\n\nextern int stvdebug;\n\nextern s32 ge2comp(s32 a, s32 width);\n\nextern void stv0900_write_reg(struct stv0900_internal *i_params,\n\t\t\t\tu16 reg_addr, u8 reg_data);\n\nextern u8 stv0900_read_reg(struct stv0900_internal *i_params,\n\t\t\t\tu16 reg_addr);\n\nextern void stv0900_write_bits(struct stv0900_internal *i_params,\n\t\t\t\tu32 label, u8 val);\n\nextern u8 stv0900_get_bits(struct stv0900_internal *i_params,\n\t\t\t\tu32 label);\n\nextern int stv0900_get_demod_lock(struct stv0900_internal *i_params,\n\t\t\t\tenum fe_stv0900_demod_num demod, s32 time_out);\nextern int stv0900_check_signal_presence(struct stv0900_internal *i_params,\n\t\t\t\tenum fe_stv0900_demod_num demod);\n\nextern enum fe_stv0900_signal_type stv0900_algo(struct dvb_frontend *fe);\n\nextern void stv0900_set_tuner(struct dvb_frontend *fe, u32 frequency,\n\t\t\t\tu32 bandwidth);\nextern void stv0900_set_bandwidth(struct dvb_frontend *fe, u32 bandwidth);\n\nextern void stv0900_start_search(struct stv0900_internal *i_params,\n\t\t\t\tenum fe_stv0900_demod_num demod);\n\nextern u8 stv0900_get_optim_carr_loop(s32 srate,\n\t\t\t\tenum fe_stv0900_modcode modcode,\n\t\t\t\ts32 pilot, u8 chip_id);\n\nextern u8 stv0900_get_optim_short_carr_loop(s32 srate,\n\t\t\t\tenum fe_stv0900_modulation modulation,\n\t\t\t\tu8 chip_id);\n\nextern void stv0900_stop_all_s2_modcod(struct stv0900_internal *i_params,\n\t\t\t\tenum fe_stv0900_demod_num demod);\n\nextern void stv0900_activate_s2_modcod(struct stv0900_internal *i_params,\n\t\t\t\tenum fe_stv0900_demod_num demod);\n\nextern void stv0900_activate_s2_modcod_single(struct stv0900_internal *i_params,\n\t\t\t\tenum fe_stv0900_demod_num demod);\n\nextern enum\nfe_stv0900_tracking_standard stv0900_get_standard(struct dvb_frontend *fe,\n\t\t\t\tenum fe_stv0900_demod_num demod);\n\nextern u32\nstv0900_get_freq_auto(struct stv0900_internal *intp, int demod);\n\nextern void\nstv0900_set_tuner_auto(struct stv0900_internal *intp, u32 Frequency,\n\t\t\t\t\t\tu32 Bandwidth, int demod);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}