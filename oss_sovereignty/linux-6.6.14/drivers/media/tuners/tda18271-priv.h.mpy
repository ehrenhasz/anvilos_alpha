{
  "module_name": "tda18271-priv.h",
  "hash_id": "f3fdc56914bb91072069cc1a5972972e58d4108301ca5cf8c9661b525553e788",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/tuners/tda18271-priv.h",
  "human_readable_source": " \n \n\n#ifndef __TDA18271_PRIV_H__\n#define __TDA18271_PRIV_H__\n\n#define pr_fmt(fmt) KBUILD_MODNAME \": \" fmt\n\n#include <linux/kernel.h>\n#include <linux/types.h>\n#include <linux/mutex.h>\n#include \"tuner-i2c.h\"\n#include \"tda18271.h\"\n\n#define R_ID     0x00\t \n#define R_TM     0x01\t \n#define R_PL     0x02\t \n#define R_EP1    0x03\t \n#define R_EP2    0x04\t \n#define R_EP3    0x05\t \n#define R_EP4    0x06\t \n#define R_EP5    0x07\t \n#define R_CPD    0x08\t \n#define R_CD1    0x09\t \n#define R_CD2    0x0a\t \n#define R_CD3    0x0b\t \n#define R_MPD    0x0c\t \n#define R_MD1    0x0d\t \n#define R_MD2    0x0e\t \n#define R_MD3    0x0f\t \n#define R_EB1    0x10\t \n#define R_EB2    0x11\t \n#define R_EB3    0x12\t \n#define R_EB4    0x13\t \n#define R_EB5    0x14\t \n#define R_EB6    0x15\t \n#define R_EB7    0x16\t \n#define R_EB8    0x17\t \n#define R_EB9    0x18\t \n#define R_EB10   0x19\t \n#define R_EB11   0x1a\t \n#define R_EB12   0x1b\t \n#define R_EB13   0x1c\t \n#define R_EB14   0x1d\t \n#define R_EB15   0x1e\t \n#define R_EB16   0x1f\t \n#define R_EB17   0x20\t \n#define R_EB18   0x21\t \n#define R_EB19   0x22\t \n#define R_EB20   0x23\t \n#define R_EB21   0x24\t \n#define R_EB22   0x25\t \n#define R_EB23   0x26\t \n\n#define TDA18271_NUM_REGS 39\n\n \n\nstruct tda18271_rf_tracking_filter_cal {\n\tu32 rfmax;\n\tu8  rfband;\n\tu32 rf1_def;\n\tu32 rf2_def;\n\tu32 rf3_def;\n\tu32 rf1;\n\tu32 rf2;\n\tu32 rf3;\n\ts32 rf_a1;\n\ts32 rf_b1;\n\ts32 rf_a2;\n\ts32 rf_b2;\n};\n\nenum tda18271_pll {\n\tTDA18271_MAIN_PLL,\n\tTDA18271_CAL_PLL,\n};\n\nstruct tda18271_map_layout;\n\nenum tda18271_ver {\n\tTDA18271HDC1,\n\tTDA18271HDC2,\n};\n\nstruct tda18271_priv {\n\tunsigned char tda18271_regs[TDA18271_NUM_REGS];\n\n\tstruct list_head\thybrid_tuner_instance_list;\n\tstruct tuner_i2c_props\ti2c_props;\n\n\tenum tda18271_mode mode;\n\tenum tda18271_role role;\n\tenum tda18271_i2c_gate gate;\n\tenum tda18271_ver id;\n\tenum tda18271_output_options output_opt;\n\tenum tda18271_small_i2c small_i2c;\n\n\tunsigned int config;  \n\tunsigned int cal_initialized:1;\n\n\tu8 tm_rfcal;\n\n\tstruct tda18271_map_layout *maps;\n\tstruct tda18271_std_map std;\n\tstruct tda18271_rf_tracking_filter_cal rf_cal_state[8];\n\n\tstruct mutex lock;\n\n\tu16 if_freq;\n\n\tu32 frequency;\n\tu32 bandwidth;\n};\n\n \n\nextern int tda18271_debug;\n\n#define DBG_INFO 1\n#define DBG_MAP  2\n#define DBG_REG  4\n#define DBG_ADV  8\n#define DBG_CAL  16\n\n__attribute__((format(printf, 4, 5)))\nvoid _tda_printk(struct tda18271_priv *state, const char *level,\n\t\t const char *func, const char *fmt, ...);\n\n#define tda_printk(st, lvl, fmt, arg...)\t\t\t\\\n\t_tda_printk(st, lvl, __func__, fmt, ##arg)\n\n#define tda_dprintk(st, lvl, fmt, arg...)\t\t\t\\\ndo {\t\t\t\t\t\t\t\t\\\n\tif (tda18271_debug & lvl)\t\t\t\t\\\n\t\ttda_printk(st, KERN_DEBUG, fmt, ##arg);\t\t\\\n} while (0)\n\n#define tda_info(fmt, arg...)\tpr_info(fmt, ##arg)\n#define tda_warn(fmt, arg...)\ttda_printk(priv, KERN_WARNING, fmt, ##arg)\n#define tda_err(fmt, arg...)\ttda_printk(priv, KERN_ERR,     fmt, ##arg)\n#define tda_dbg(fmt, arg...)\ttda_dprintk(priv, DBG_INFO,    fmt, ##arg)\n#define tda_map(fmt, arg...)\ttda_dprintk(priv, DBG_MAP,     fmt, ##arg)\n#define tda_reg(fmt, arg...)\ttda_dprintk(priv, DBG_REG,     fmt, ##arg)\n#define tda_cal(fmt, arg...)\ttda_dprintk(priv, DBG_CAL,     fmt, ##arg)\n\n#define tda_fail(ret)\t\t\t\t\t\t\t     \\\n({\t\t\t\t\t\t\t\t\t     \\\n\tint __ret;\t\t\t\t\t\t\t     \\\n\t__ret = (ret < 0);\t\t\t\t\t\t     \\\n\tif (__ret)\t\t\t\t\t\t\t     \\\n\t\ttda_printk(priv, KERN_ERR,\t\t\t\t     \\\n\t\t\t   \"error %d on line %d\\n\", ret, __LINE__);\t     \\\n\t__ret;\t\t\t\t\t\t\t\t     \\\n})\n\n \n\nenum tda18271_map_type {\n\t \n\tMAIN_PLL,\n\tCAL_PLL,\n\t \n\tRF_CAL,\n\tRF_CAL_KMCO,\n\tRF_CAL_DC_OVER_DT,\n\tBP_FILTER,\n\tRF_BAND,\n\tGAIN_TAPER,\n\tIR_MEASURE,\n};\n\nextern int tda18271_lookup_pll_map(struct dvb_frontend *fe,\n\t\t\t\t   enum tda18271_map_type map_type,\n\t\t\t\t   u32 *freq, u8 *post_div, u8 *div);\nextern int tda18271_lookup_map(struct dvb_frontend *fe,\n\t\t\t       enum tda18271_map_type map_type,\n\t\t\t       u32 *freq, u8 *val);\n\nextern int tda18271_lookup_thermometer(struct dvb_frontend *fe);\n\nextern int tda18271_lookup_rf_band(struct dvb_frontend *fe,\n\t\t\t\t   u32 *freq, u8 *rf_band);\n\nextern int tda18271_lookup_cid_target(struct dvb_frontend *fe,\n\t\t\t\t      u32 *freq, u8 *cid_target,\n\t\t\t\t      u16 *count_limit);\n\nextern int tda18271_assign_map_layout(struct dvb_frontend *fe);\n\n \n\nextern int tda18271_read_regs(struct dvb_frontend *fe);\nextern int tda18271_read_extended(struct dvb_frontend *fe);\nextern int tda18271_write_regs(struct dvb_frontend *fe, int idx, int len);\nextern int tda18271_init_regs(struct dvb_frontend *fe);\n\nextern int tda18271_charge_pump_source(struct dvb_frontend *fe,\n\t\t\t\t       enum tda18271_pll pll, int force);\nextern int tda18271_set_standby_mode(struct dvb_frontend *fe,\n\t\t\t\t     int sm, int sm_lt, int sm_xt);\n\nextern int tda18271_calc_main_pll(struct dvb_frontend *fe, u32 freq);\nextern int tda18271_calc_cal_pll(struct dvb_frontend *fe, u32 freq);\n\nextern int tda18271_calc_bp_filter(struct dvb_frontend *fe, u32 *freq);\nextern int tda18271_calc_km(struct dvb_frontend *fe, u32 *freq);\nextern int tda18271_calc_rf_band(struct dvb_frontend *fe, u32 *freq);\nextern int tda18271_calc_gain_taper(struct dvb_frontend *fe, u32 *freq);\nextern int tda18271_calc_ir_measure(struct dvb_frontend *fe, u32 *freq);\nextern int tda18271_calc_rf_cal(struct dvb_frontend *fe, u32 *freq);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}