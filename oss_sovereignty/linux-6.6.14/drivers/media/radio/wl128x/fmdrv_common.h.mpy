{
  "module_name": "fmdrv_common.h",
  "hash_id": "8bd468392a8b53043713333d30553aeef14c219a089714e335bc1151b1e9a68c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/radio/wl128x/fmdrv_common.h",
  "human_readable_source": " \n \n\n#ifndef _FMDRV_COMMON_H\n#define _FMDRV_COMMON_H\n\n#define FM_ST_REG_TIMEOUT   msecs_to_jiffies(6000)\t \n#define FM_PKT_LOGICAL_CHAN_NUMBER  0x08    \n\n#define REG_RD       0x1\n#define REG_WR      0x0\n\nstruct fm_reg_table {\n\tu8 opcode;\n\tu8 type;\n\tu8 *name;\n};\n\n#define STEREO_GET               0\n#define RSSI_LVL_GET             1\n#define IF_COUNT_GET             2\n#define FLAG_GET                 3\n#define RDS_SYNC_GET             4\n#define RDS_DATA_GET             5\n#define FREQ_SET                 10\n#define AF_FREQ_SET              11\n#define MOST_MODE_SET            12\n#define MOST_BLEND_SET           13\n#define DEMPH_MODE_SET           14\n#define SEARCH_LVL_SET           15\n#define BAND_SET                 16\n#define MUTE_STATUS_SET          17\n#define RDS_PAUSE_LVL_SET        18\n#define RDS_PAUSE_DUR_SET        19\n#define RDS_MEM_SET              20\n#define RDS_BLK_B_SET            21\n#define RDS_MSK_B_SET            22\n#define RDS_PI_MASK_SET          23\n#define RDS_PI_SET               24\n#define RDS_SYSTEM_SET           25\n#define INT_MASK_SET             26\n#define SEARCH_DIR_SET           27\n#define VOLUME_SET               28\n#define AUDIO_ENABLE_SET         29\n#define PCM_MODE_SET             30\n#define I2S_MODE_CONFIG_SET      31\n#define POWER_SET                32\n#define INTX_CONFIG_SET          33\n#define PULL_EN_SET              34\n#define HILO_SET                 35\n#define SWITCH2FREF              36\n#define FREQ_DRIFT_REPORT        37\n\n#define PCE_GET                  40\n#define FIRM_VER_GET             41\n#define ASIC_VER_GET             42\n#define ASIC_ID_GET              43\n#define MAN_ID_GET               44\n#define TUNER_MODE_SET           45\n#define STOP_SEARCH              46\n#define RDS_CNTRL_SET            47\n\n#define WRITE_HARDWARE_REG       100\n#define CODE_DOWNLOAD            101\n#define RESET                    102\n\n#define FM_POWER_MODE            254\n#define FM_INTERRUPT             255\n\n \n\n#define CHANL_SET                55\n#define CHANL_BW_SET\t\t56\n#define REF_SET                  57\n#define POWER_ENB_SET            90\n#define POWER_ATT_SET            58\n#define POWER_LEV_SET            59\n#define AUDIO_DEV_SET            60\n#define PILOT_DEV_SET            61\n#define RDS_DEV_SET              62\n#define TX_BAND_SET              65\n#define PUPD_SET                 91\n#define AUDIO_IO_SET             63\n#define PREMPH_SET               64\n#define MONO_SET                 66\n#define MUTE                     92\n#define MPX_LMT_ENABLE           67\n#define PI_SET                   93\n#define ECC_SET                  69\n#define PTY                      70\n#define AF                       71\n#define DISPLAY_MODE             74\n#define RDS_REP_SET              77\n#define RDS_CONFIG_DATA_SET      98\n#define RDS_DATA_SET             99\n#define RDS_DATA_ENB             94\n#define TA_SET                   78\n#define TP_SET                   79\n#define DI_SET                   80\n#define MS_SET                   81\n#define PS_SCROLL_SPEED          82\n#define TX_AUDIO_LEVEL_TEST      96\n#define TX_AUDIO_LEVEL_TEST_THRESHOLD    73\n#define TX_AUDIO_INPUT_LEVEL_RANGE_SET   54\n#define RX_ANTENNA_SELECT        87\n#define I2C_DEV_ADDR_SET         86\n#define REF_ERR_CALIB_PARAM_SET          88\n#define REF_ERR_CALIB_PERIODICITY_SET    89\n#define SOC_INT_TRIGGER                  52\n#define SOC_AUDIO_PATH_SET               83\n#define SOC_PCMI_OVERRIDE                84\n#define SOC_I2S_OVERRIDE         85\n#define RSSI_BLOCK_SCAN_FREQ_SET 95\n#define RSSI_BLOCK_SCAN_START    97\n#define RSSI_BLOCK_SCAN_DATA_GET  5\n#define READ_FMANT_TUNE_VALUE            104\n\n \nstruct fm_skb_cb {\n\t__u8 fm_op;\n\tstruct completion *completion;\n};\n\n#define fm_cb(skb) ((struct fm_skb_cb *)(skb->cb))\n\n \nstruct fm_cmd_msg_hdr {\n\t__u8 hdr;\t\t \n\t__u8 len;\t\t \n\t__u8 op;\t\t \n\t__u8 rd_wr;\t\t \n\t__u8 dlen;\t\t \n} __attribute__ ((packed));\n\n#define FM_CMD_MSG_HDR_SIZE    5\t \n\n \nstruct fm_event_msg_hdr {\n\t__u8 header;\t\t \n\t__u8 len;\t\t \n\t__u8 status;\t\t \n\t__u8 num_fm_hci_cmds;\t \n\t__u8 op;\t\t \n\t__u8 rd_wr;\t\t \n\t__u8 dlen;\t\t \n} __attribute__ ((packed));\n\n#define FM_EVT_MSG_HDR_SIZE     7\t \n\n \n#define FM_FW_FILE_HEADER_MAGIC\t     0x42535442\n\n#define FM_ENABLE   1\n#define FM_DISABLE  0\n\n \n#define FM_FR_EVENT\t\tBIT(0)\n#define FM_BL_EVENT\t\tBIT(1)\n#define FM_RDS_EVENT\t\tBIT(2)\n#define FM_BBLK_EVENT\t\tBIT(3)\n#define FM_LSYNC_EVENT\t\tBIT(4)\n#define FM_LEV_EVENT\t\tBIT(5)\n#define FM_IFFR_EVENT\t\tBIT(6)\n#define FM_PI_EVENT\t\tBIT(7)\n#define FM_PD_EVENT\t\tBIT(8)\n#define FM_STIC_EVENT\t\tBIT(9)\n#define FM_MAL_EVENT\t\tBIT(10)\n#define FM_POW_ENB_EVENT\tBIT(11)\n\n \n#define FM_FMC_FW_FILE_START      (\"fmc_ch8\")\n#define FM_RX_FW_FILE_START       (\"fm_rx_ch8\")\n#define FM_TX_FW_FILE_START       (\"fm_tx_ch8\")\n\n#define FM_UNDEFINED_FREQ\t\t   0xFFFFFFFF\n\n \n#define FM_BAND_EUROPE_US\t0\n#define FM_BAND_JAPAN\t\t1\n\n \n#define FM_SEARCH_DIRECTION_DOWN\t0\n#define FM_SEARCH_DIRECTION_UP\t\t1\n\n \n#define FM_TUNER_STOP_SEARCH_MODE\t0\n#define FM_TUNER_PRESET_MODE\t\t1\n#define FM_TUNER_AUTONOMOUS_SEARCH_MODE\t2\n#define FM_TUNER_AF_JUMP_MODE\t\t3\n\n \n#define FM_RX_VOLUME_MIN\t0\n#define FM_RX_VOLUME_MAX\t70\n\n \n#define FM_RX_VOLUME_GAIN_STEP\t0x370\n\n \n#define\tFM_MUTE_ON\t\t0\n#define FM_MUTE_OFF\t\t1\n#define\tFM_MUTE_ATTENUATE\t2\n\n#define FM_RX_UNMUTE_MODE\t\t0x00\n#define FM_RX_RF_DEP_MODE\t\t0x01\n#define FM_RX_AC_MUTE_MODE\t\t0x02\n#define FM_RX_HARD_MUTE_LEFT_MODE\t0x04\n#define FM_RX_HARD_MUTE_RIGHT_MODE\t0x08\n#define FM_RX_SOFT_MUTE_FORCE_MODE\t0x10\n\n \n#define FM_RX_RF_DEPENDENT_MUTE_ON\t1\n#define FM_RX_RF_DEPENDENT_MUTE_OFF\t0\n\n \n#define FM_RX_RSSI_THRESHOLD_MIN\t-128\n#define FM_RX_RSSI_THRESHOLD_MAX\t127\n\n \n#define FM_STEREO_MODE\t\t0\n#define FM_MONO_MODE\t\t1\n#define FM_STEREO_SOFT_BLEND\t1\n\n \n#define FM_RX_EMPHASIS_FILTER_50_USEC\t0\n#define FM_RX_EMPHASIS_FILTER_75_USEC\t1\n\n \n#define FM_RDS_DISABLE\t0\n#define FM_RDS_ENABLE\t1\n\n#define FM_NO_PI_CODE\t0\n\n \n#define FM_RX_PWR_SET_FM_ON_RDS_OFF\t\t0x1\n#define FM_RX_PWR_SET_FM_AND_RDS_BLK_ON\t\t0x3\n#define FM_RX_PWR_SET_FM_AND_RDS_BLK_OFF\t0x0\n\n \n#define FM_RX_RDS_FLUSH_FIFO\t\t0x1\n#define FM_RX_RDS_FIFO_THRESHOLD\t64\t \n#define FM_RDS_BLK_SIZE\t\t3\t \n\n \n#define FM_RDS_BLOCK_A\t\t0\n#define FM_RDS_BLOCK_B\t\t1\n#define FM_RDS_BLOCK_C\t\t2\n#define FM_RDS_BLOCK_Ctag\t3\n#define FM_RDS_BLOCK_D\t\t4\n#define FM_RDS_BLOCK_E\t\t5\n\n#define FM_RDS_BLK_IDX_A\t\t0\n#define FM_RDS_BLK_IDX_B\t\t1\n#define FM_RDS_BLK_IDX_C\t\t2\n#define FM_RDS_BLK_IDX_D\t\t3\n#define FM_RDS_BLK_IDX_UNKNOWN\t0xF0\n\n#define FM_RDS_STATUS_ERR_MASK\t0x18\n\n \n#define FM_RDS_GROUP_TYPE_MASK_0A\t    BIT(0)\n#define FM_RDS_GROUP_TYPE_MASK_0B\t    BIT(1)\n#define FM_RDS_GROUP_TYPE_MASK_1A\t    BIT(2)\n#define FM_RDS_GROUP_TYPE_MASK_1B\t    BIT(3)\n#define FM_RDS_GROUP_TYPE_MASK_2A\t    BIT(4)\n#define FM_RDS_GROUP_TYPE_MASK_2B\t    BIT(5)\n#define FM_RDS_GROUP_TYPE_MASK_3A\t    BIT(6)\n#define FM_RDS_GROUP_TYPE_MASK_3B\t    BIT(7)\n#define FM_RDS_GROUP_TYPE_MASK_4A\t    BIT(8)\n#define FM_RDS_GROUP_TYPE_MASK_4B\t    BIT(9)\n#define FM_RDS_GROUP_TYPE_MASK_5A\t    BIT(10)\n#define FM_RDS_GROUP_TYPE_MASK_5B\t    BIT(11)\n#define FM_RDS_GROUP_TYPE_MASK_6A\t    BIT(12)\n#define FM_RDS_GROUP_TYPE_MASK_6B\t    BIT(13)\n#define FM_RDS_GROUP_TYPE_MASK_7A\t    BIT(14)\n#define FM_RDS_GROUP_TYPE_MASK_7B\t    BIT(15)\n#define FM_RDS_GROUP_TYPE_MASK_8A\t    BIT(16)\n#define FM_RDS_GROUP_TYPE_MASK_8B\t    BIT(17)\n#define FM_RDS_GROUP_TYPE_MASK_9A\t    BIT(18)\n#define FM_RDS_GROUP_TYPE_MASK_9B\t    BIT(19)\n#define FM_RDS_GROUP_TYPE_MASK_10A\t    BIT(20)\n#define FM_RDS_GROUP_TYPE_MASK_10B\t    BIT(21)\n#define FM_RDS_GROUP_TYPE_MASK_11A\t    BIT(22)\n#define FM_RDS_GROUP_TYPE_MASK_11B\t    BIT(23)\n#define FM_RDS_GROUP_TYPE_MASK_12A\t    BIT(24)\n#define FM_RDS_GROUP_TYPE_MASK_12B\t    BIT(25)\n#define FM_RDS_GROUP_TYPE_MASK_13A\t    BIT(26)\n#define FM_RDS_GROUP_TYPE_MASK_13B\t    BIT(27)\n#define FM_RDS_GROUP_TYPE_MASK_14A\t    BIT(28)\n#define FM_RDS_GROUP_TYPE_MASK_14B\t    BIT(29)\n#define FM_RDS_GROUP_TYPE_MASK_15A\t    BIT(30)\n#define FM_RDS_GROUP_TYPE_MASK_15B\t    BIT(31)\n\n \n#define FM_RDS_MIN_AF\t\t\t  1\n#define FM_RDS_MAX_AF\t\t\t204\n#define FM_RDS_MAX_AF_JAPAN\t\t140\n#define FM_RDS_1_AF_FOLLOWS\t\t225\n#define FM_RDS_25_AF_FOLLOWS\t\t249\n\n \n#define FM_RDS_SYSTEM_RDS\t\t0\n#define FM_RDS_SYSTEM_RBDS\t\t1\n\n \n#define FM_RX_RDS_AF_SWITCH_MODE_ON\t1\n#define FM_RX_RDS_AF_SWITCH_MODE_OFF\t0\n\n \n#define FM_IRQ_TIMEOUT_RETRY_MAX\t5\t \n\n \n#define FM_RX_AUDIO_ENABLE_I2S\t0x01\n#define FM_RX_AUDIO_ENABLE_ANALOG\t0x02\n#define FM_RX_AUDIO_ENABLE_I2S_AND_ANALOG\t0x03\n#define FM_RX_AUDIO_ENABLE_DISABLE\t0x00\n\n \n#define FM_RX_IFFREQ_TO_HI_SIDE\t\t0x0\n#define FM_RX_IFFREQ_TO_LO_SIDE\t\t0x1\n#define FM_RX_IFFREQ_HILO_AUTOMATIC\t0x2\n\n \n#define FM_DEFAULT_RX_VOLUME\t\t10\n#define FM_DEFAULT_RSSI_THRESHOLD\t3\n\n \n#define FM_PWR_LVL_LOW\t\t\t91\n#define FM_PWR_LVL_HIGH\t\t\t122\n\n \n#define FM_PWR_LVL_DEF\t\t\t4\n\n \n#define FM_TX_PREEMPH_OFF\t\t1\n#define FM_TX_PREEMPH_50US\t\t0\n#define FM_TX_PREEMPH_75US\t\t2\n\n \n#define FM_TX_ANT_IMP_50\t\t0\n#define FM_TX_ANT_IMP_200\t\t1\n#define FM_TX_ANT_IMP_500\t\t2\n\n \nint fmc_prepare(struct fmdev *);\nint fmc_release(struct fmdev *);\n\nvoid fmc_update_region_info(struct fmdev *, u8);\nint fmc_send_cmd(struct fmdev *, u8, u16,\n\t\t\t\tvoid *, unsigned int, void *, int *);\nint fmc_is_rds_data_available(struct fmdev *, struct file *,\n\t\t\t\tstruct poll_table_struct *);\nint fmc_transfer_rds_from_internal_buff(struct fmdev *, struct file *,\n\t\t\t\t\tu8 __user *, size_t);\n\nint fmc_set_freq(struct fmdev *, u32);\nint fmc_set_mode(struct fmdev *, u8);\nint fmc_set_region(struct fmdev *, u8);\nint fmc_set_mute_mode(struct fmdev *, u8);\nint fmc_set_stereo_mono(struct fmdev *, u16);\nint fmc_set_rds_mode(struct fmdev *, u8);\n\nint fmc_get_freq(struct fmdev *, u32 *);\nint fmc_get_region(struct fmdev *, u8 *);\nint fmc_get_mode(struct fmdev *, u8 *);\n\n \n#define FM_CHANNEL_SPACING_50KHZ 1\n#define FM_CHANNEL_SPACING_100KHZ 2\n#define FM_CHANNEL_SPACING_200KHZ 4\n#define FM_FREQ_MUL 50\n\n#endif\n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}