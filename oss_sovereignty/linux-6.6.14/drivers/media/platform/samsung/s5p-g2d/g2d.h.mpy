{
  "module_name": "g2d.h",
  "hash_id": "10dac9a2816ae4a1e708b44846022ae248a2f42bc16db44bec1313c512ed368c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/platform/samsung/s5p-g2d/g2d.h",
  "human_readable_source": " \n \n\n#include <linux/platform_device.h>\n#include <media/v4l2-device.h>\n#include <media/v4l2-ctrls.h>\n\n#define G2D_NAME \"s5p-g2d\"\n#define TYPE_G2D_3X 3\n#define TYPE_G2D_4X 4\n\nstruct g2d_dev {\n\tstruct v4l2_device\tv4l2_dev;\n\tstruct v4l2_m2m_dev\t*m2m_dev;\n\tstruct video_device\t*vfd;\n\tstruct mutex\t\tmutex;\n\tspinlock_t\t\tctrl_lock;\n\tatomic_t\t\tnum_inst;\n\tvoid __iomem\t\t*regs;\n\tstruct clk\t\t*clk;\n\tstruct clk\t\t*gate;\n\tstruct g2d_ctx\t\t*curr;\n\tstruct g2d_variant\t*variant;\n\tint irq;\n};\n\nstruct g2d_frame {\n\t \n\tu32\twidth;\n\tu32\theight;\n\t \n\tu32\tc_width;\n\tu32\tc_height;\n\t \n\tu32\to_width;\n\tu32\to_height;\n\t \n\tstruct g2d_fmt *fmt;\n\t \n\tu32\tstride;\n\tu32\tbottom;\n\tu32\tright;\n\tu32\tsize;\n};\n\nstruct g2d_ctx {\n\tstruct v4l2_fh fh;\n\tstruct g2d_dev\t\t*dev;\n\tstruct g2d_frame\tin;\n\tstruct g2d_frame\tout;\n\tstruct v4l2_ctrl\t*ctrl_hflip;\n\tstruct v4l2_ctrl\t*ctrl_vflip;\n\tstruct v4l2_ctrl_handler ctrl_handler;\n\tu32 rop;\n\tu32 flip;\n};\n\nstruct g2d_fmt {\n\tu32\tfourcc;\n\tint\tdepth;\n\tu32\thw;\n};\n\nstruct g2d_variant {\n\tunsigned short hw_rev;\n};\n\nvoid g2d_reset(struct g2d_dev *d);\nvoid g2d_set_src_size(struct g2d_dev *d, struct g2d_frame *f);\nvoid g2d_set_src_addr(struct g2d_dev *d, dma_addr_t a);\nvoid g2d_set_dst_size(struct g2d_dev *d, struct g2d_frame *f);\nvoid g2d_set_dst_addr(struct g2d_dev *d, dma_addr_t a);\nvoid g2d_start(struct g2d_dev *d);\nvoid g2d_clear_int(struct g2d_dev *d);\nvoid g2d_set_rop4(struct g2d_dev *d, u32 r);\nvoid g2d_set_flip(struct g2d_dev *d, u32 r);\nvoid g2d_set_v41_stretch(struct g2d_dev *d,\n\t\t\tstruct g2d_frame *src, struct g2d_frame *dst);\nvoid g2d_set_cmd(struct g2d_dev *d, u32 c);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}