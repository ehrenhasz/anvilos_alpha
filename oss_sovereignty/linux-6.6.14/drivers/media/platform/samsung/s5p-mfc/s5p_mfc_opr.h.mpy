{
  "module_name": "s5p_mfc_opr.h",
  "hash_id": "956bef21ecb49afcf27b36115012f22eab79f9e2239d1fc5b26baf6a1a34e7fd",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/platform/samsung/s5p-mfc/s5p_mfc_opr.h",
  "human_readable_source": " \n \n\n#ifndef S5P_MFC_OPR_H_\n#define S5P_MFC_OPR_H_\n\n#include \"s5p_mfc_common.h\"\n\nstruct s5p_mfc_regs {\n\n\t \n\tvoid __iomem *risc_on;\n\tvoid __iomem *risc2host_int;\n\tvoid __iomem *host2risc_int;\n\tvoid __iomem *risc_base_address;\n\tvoid __iomem *mfc_reset;\n\tvoid __iomem *host2risc_command;\n\tvoid __iomem *risc2host_command;\n\tvoid __iomem *mfc_bus_reset_ctrl;\n\tvoid __iomem *firmware_version;\n\tvoid __iomem *instance_id;\n\tvoid __iomem *codec_type;\n\tvoid __iomem *context_mem_addr;\n\tvoid __iomem *context_mem_size;\n\tvoid __iomem *pixel_format;\n\tvoid __iomem *metadata_enable;\n\tvoid __iomem *mfc_version;\n\tvoid __iomem *dbg_info_enable;\n\tvoid __iomem *dbg_buffer_addr;\n\tvoid __iomem *dbg_buffer_size;\n\tvoid __iomem *hed_control;\n\tvoid __iomem *mfc_timeout_value;\n\tvoid __iomem *hed_shared_mem_addr;\n\tvoid __iomem *dis_shared_mem_addr; \n\tvoid __iomem *ret_instance_id;\n\tvoid __iomem *error_code;\n\tvoid __iomem *dbg_buffer_output_size;\n\tvoid __iomem *metadata_status;\n\tvoid __iomem *metadata_addr_mb_info;\n\tvoid __iomem *metadata_size_mb_info;\n\tvoid __iomem *dbg_info_stage_counter;\n\n\t \n\tvoid __iomem *d_crc_ctrl;\n\tvoid __iomem *d_dec_options;\n\tvoid __iomem *d_display_delay;\n\tvoid __iomem *d_set_frame_width;\n\tvoid __iomem *d_set_frame_height;\n\tvoid __iomem *d_sei_enable;\n\tvoid __iomem *d_min_num_dpb;\n\tvoid __iomem *d_min_first_plane_dpb_size;\n\tvoid __iomem *d_min_second_plane_dpb_size;\n\tvoid __iomem *d_min_third_plane_dpb_size; \n\tvoid __iomem *d_min_num_mv;\n\tvoid __iomem *d_mvc_num_views;\n\tvoid __iomem *d_min_num_dis; \n\tvoid __iomem *d_min_first_dis_size; \n\tvoid __iomem *d_min_second_dis_size; \n\tvoid __iomem *d_min_third_dis_size; \n\tvoid __iomem *d_post_filter_luma_dpb0; \n\tvoid __iomem *d_post_filter_luma_dpb1; \n\tvoid __iomem *d_post_filter_luma_dpb2; \n\tvoid __iomem *d_post_filter_chroma_dpb0; \n\tvoid __iomem *d_post_filter_chroma_dpb1; \n\tvoid __iomem *d_post_filter_chroma_dpb2; \n\tvoid __iomem *d_num_dpb;\n\tvoid __iomem *d_num_mv;\n\tvoid __iomem *d_init_buffer_options;\n\tvoid __iomem *d_first_plane_dpb_stride_size; \n\tvoid __iomem *d_second_plane_dpb_stride_size; \n\tvoid __iomem *d_third_plane_dpb_stride_size; \n\tvoid __iomem *d_first_plane_dpb_size;\n\tvoid __iomem *d_second_plane_dpb_size;\n\tvoid __iomem *d_third_plane_dpb_size; \n\tvoid __iomem *d_mv_buffer_size;\n\tvoid __iomem *d_first_plane_dpb;\n\tvoid __iomem *d_second_plane_dpb;\n\tvoid __iomem *d_third_plane_dpb;\n\tvoid __iomem *d_mv_buffer;\n\tvoid __iomem *d_scratch_buffer_addr;\n\tvoid __iomem *d_scratch_buffer_size;\n\tvoid __iomem *d_metadata_buffer_addr;\n\tvoid __iomem *d_metadata_buffer_size;\n\tvoid __iomem *d_nal_start_options; \n\tvoid __iomem *d_cpb_buffer_addr;\n\tvoid __iomem *d_cpb_buffer_size;\n\tvoid __iomem *d_available_dpb_flag_upper;\n\tvoid __iomem *d_available_dpb_flag_lower;\n\tvoid __iomem *d_cpb_buffer_offset;\n\tvoid __iomem *d_slice_if_enable;\n\tvoid __iomem *d_picture_tag;\n\tvoid __iomem *d_stream_data_size;\n\tvoid __iomem *d_dynamic_dpb_flag_upper; \n\tvoid __iomem *d_dynamic_dpb_flag_lower; \n\tvoid __iomem *d_display_frame_width;\n\tvoid __iomem *d_display_frame_height;\n\tvoid __iomem *d_display_status;\n\tvoid __iomem *d_display_first_plane_addr;\n\tvoid __iomem *d_display_second_plane_addr;\n\tvoid __iomem *d_display_third_plane_addr; \n\tvoid __iomem *d_display_frame_type;\n\tvoid __iomem *d_display_crop_info1;\n\tvoid __iomem *d_display_crop_info2;\n\tvoid __iomem *d_display_picture_profile;\n\tvoid __iomem *d_display_luma_crc; \n\tvoid __iomem *d_display_chroma0_crc; \n\tvoid __iomem *d_display_chroma1_crc; \n\tvoid __iomem *d_display_luma_crc_top; \n\tvoid __iomem *d_display_chroma_crc_top; \n\tvoid __iomem *d_display_luma_crc_bot; \n\tvoid __iomem *d_display_chroma_crc_bot; \n\tvoid __iomem *d_display_aspect_ratio;\n\tvoid __iomem *d_display_extended_ar;\n\tvoid __iomem *d_decoded_frame_width;\n\tvoid __iomem *d_decoded_frame_height;\n\tvoid __iomem *d_decoded_status;\n\tvoid __iomem *d_decoded_first_plane_addr;\n\tvoid __iomem *d_decoded_second_plane_addr;\n\tvoid __iomem *d_decoded_third_plane_addr; \n\tvoid __iomem *d_decoded_frame_type;\n\tvoid __iomem *d_decoded_crop_info1;\n\tvoid __iomem *d_decoded_crop_info2;\n\tvoid __iomem *d_decoded_picture_profile;\n\tvoid __iomem *d_decoded_nal_size;\n\tvoid __iomem *d_decoded_luma_crc;\n\tvoid __iomem *d_decoded_chroma0_crc;\n\tvoid __iomem *d_decoded_chroma1_crc; \n\tvoid __iomem *d_ret_picture_tag_top;\n\tvoid __iomem *d_ret_picture_tag_bot;\n\tvoid __iomem *d_ret_picture_time_top;\n\tvoid __iomem *d_ret_picture_time_bot;\n\tvoid __iomem *d_chroma_format;\n\tvoid __iomem *d_vc1_info; \n\tvoid __iomem *d_mpeg4_info;\n\tvoid __iomem *d_h264_info;\n\tvoid __iomem *d_metadata_addr_concealed_mb;\n\tvoid __iomem *d_metadata_size_concealed_mb;\n\tvoid __iomem *d_metadata_addr_vc1_param;\n\tvoid __iomem *d_metadata_size_vc1_param;\n\tvoid __iomem *d_metadata_addr_sei_nal;\n\tvoid __iomem *d_metadata_size_sei_nal;\n\tvoid __iomem *d_metadata_addr_vui;\n\tvoid __iomem *d_metadata_size_vui;\n\tvoid __iomem *d_metadata_addr_mvcvui; \n\tvoid __iomem *d_metadata_size_mvcvui; \n\tvoid __iomem *d_mvc_view_id;\n\tvoid __iomem *d_frame_pack_sei_avail;\n\tvoid __iomem *d_frame_pack_arrgment_id;\n\tvoid __iomem *d_frame_pack_sei_info;\n\tvoid __iomem *d_frame_pack_grid_pos;\n\tvoid __iomem *d_display_recovery_sei_info; \n\tvoid __iomem *d_decoded_recovery_sei_info; \n\tvoid __iomem *d_display_first_addr; \n\tvoid __iomem *d_display_second_addr; \n\tvoid __iomem *d_display_third_addr; \n\tvoid __iomem *d_decoded_first_addr; \n\tvoid __iomem *d_decoded_second_addr; \n\tvoid __iomem *d_decoded_third_addr; \n\tvoid __iomem *d_used_dpb_flag_upper; \n\tvoid __iomem *d_used_dpb_flag_lower; \n\tvoid __iomem *d_min_scratch_buffer_size;  \n\tvoid __iomem *d_static_buffer_addr;  \n\tvoid __iomem *d_static_buffer_size;  \n\n\t \n\tvoid __iomem *e_frame_width;\n\tvoid __iomem *e_frame_height;\n\tvoid __iomem *e_cropped_frame_width;\n\tvoid __iomem *e_cropped_frame_height;\n\tvoid __iomem *e_frame_crop_offset;\n\tvoid __iomem *e_enc_options;\n\tvoid __iomem *e_picture_profile;\n\tvoid __iomem *e_vbv_buffer_size;\n\tvoid __iomem *e_vbv_init_delay;\n\tvoid __iomem *e_fixed_picture_qp;\n\tvoid __iomem *e_rc_config;\n\tvoid __iomem *e_rc_qp_bound;\n\tvoid __iomem *e_rc_qp_bound_pb; \n\tvoid __iomem *e_rc_mode;\n\tvoid __iomem *e_mb_rc_config;\n\tvoid __iomem *e_padding_ctrl;\n\tvoid __iomem *e_air_threshold;\n\tvoid __iomem *e_mv_hor_range;\n\tvoid __iomem *e_mv_ver_range;\n\tvoid __iomem *e_num_dpb;\n\tvoid __iomem *e_luma_dpb;\n\tvoid __iomem *e_chroma_dpb;\n\tvoid __iomem *e_me_buffer;\n\tvoid __iomem *e_scratch_buffer_addr;\n\tvoid __iomem *e_scratch_buffer_size;\n\tvoid __iomem *e_tmv_buffer0;\n\tvoid __iomem *e_tmv_buffer1;\n\tvoid __iomem *e_ir_buffer_addr; \n\tvoid __iomem *e_source_first_plane_addr;\n\tvoid __iomem *e_source_second_plane_addr;\n\tvoid __iomem *e_source_third_plane_addr; \n\tvoid __iomem *e_source_first_plane_stride; \n\tvoid __iomem *e_source_second_plane_stride; \n\tvoid __iomem *e_source_third_plane_stride; \n\tvoid __iomem *e_stream_buffer_addr;\n\tvoid __iomem *e_stream_buffer_size;\n\tvoid __iomem *e_roi_buffer_addr;\n\tvoid __iomem *e_param_change;\n\tvoid __iomem *e_ir_size;\n\tvoid __iomem *e_gop_config;\n\tvoid __iomem *e_mslice_mode;\n\tvoid __iomem *e_mslice_size_mb;\n\tvoid __iomem *e_mslice_size_bits;\n\tvoid __iomem *e_frame_insertion;\n\tvoid __iomem *e_rc_frame_rate;\n\tvoid __iomem *e_rc_bit_rate;\n\tvoid __iomem *e_rc_roi_ctrl;\n\tvoid __iomem *e_picture_tag;\n\tvoid __iomem *e_bit_count_enable;\n\tvoid __iomem *e_max_bit_count;\n\tvoid __iomem *e_min_bit_count;\n\tvoid __iomem *e_metadata_buffer_addr;\n\tvoid __iomem *e_metadata_buffer_size;\n\tvoid __iomem *e_encoded_source_first_plane_addr;\n\tvoid __iomem *e_encoded_source_second_plane_addr;\n\tvoid __iomem *e_encoded_source_third_plane_addr; \n\tvoid __iomem *e_stream_size;\n\tvoid __iomem *e_slice_type;\n\tvoid __iomem *e_picture_count;\n\tvoid __iomem *e_ret_picture_tag;\n\tvoid __iomem *e_stream_buffer_write_pointer;  \n\tvoid __iomem *e_recon_luma_dpb_addr;\n\tvoid __iomem *e_recon_chroma_dpb_addr;\n\tvoid __iomem *e_metadata_addr_enc_slice;\n\tvoid __iomem *e_metadata_size_enc_slice;\n\tvoid __iomem *e_mpeg4_options;\n\tvoid __iomem *e_mpeg4_hec_period;\n\tvoid __iomem *e_aspect_ratio;\n\tvoid __iomem *e_extended_sar;\n\tvoid __iomem *e_h264_options;\n\tvoid __iomem *e_h264_options_2; \n\tvoid __iomem *e_h264_lf_alpha_offset;\n\tvoid __iomem *e_h264_lf_beta_offset;\n\tvoid __iomem *e_h264_i_period;\n\tvoid __iomem *e_h264_fmo_slice_grp_map_type;\n\tvoid __iomem *e_h264_fmo_num_slice_grp_minus1;\n\tvoid __iomem *e_h264_fmo_slice_grp_change_dir;\n\tvoid __iomem *e_h264_fmo_slice_grp_change_rate_minus1;\n\tvoid __iomem *e_h264_fmo_run_length_minus1_0;\n\tvoid __iomem *e_h264_aso_slice_order_0;\n\tvoid __iomem *e_h264_chroma_qp_offset;\n\tvoid __iomem *e_h264_num_t_layer;\n\tvoid __iomem *e_h264_hierarchical_qp_layer0;\n\tvoid __iomem *e_h264_frame_packing_sei_info;\n\tvoid __iomem *e_h264_nal_control; \n\tvoid __iomem *e_mvc_frame_qp_view1;\n\tvoid __iomem *e_mvc_rc_bit_rate_view1;\n\tvoid __iomem *e_mvc_rc_qbound_view1;\n\tvoid __iomem *e_mvc_rc_mode_view1;\n\tvoid __iomem *e_mvc_inter_view_prediction_on;\n\tvoid __iomem *e_vp8_options; \n\tvoid __iomem *e_vp8_filter_options; \n\tvoid __iomem *e_vp8_golden_frame_option; \n\tvoid __iomem *e_vp8_num_t_layer; \n\tvoid __iomem *e_vp8_hierarchical_qp_layer0; \n\tvoid __iomem *e_vp8_hierarchical_qp_layer1; \n\tvoid __iomem *e_vp8_hierarchical_qp_layer2; \n\tvoid __iomem *e_min_scratch_buffer_size;  \n\tvoid __iomem *e_num_t_layer;  \n\tvoid __iomem *e_hier_qp_layer0;  \n\tvoid __iomem *e_hier_bit_rate_layer0;  \n\tvoid __iomem *e_hevc_options;  \n\tvoid __iomem *e_hevc_refresh_period;  \n\tvoid __iomem *e_hevc_lf_beta_offset_div2;  \n\tvoid __iomem *e_hevc_lf_tc_offset_div2;  \n\tvoid __iomem *e_hevc_nal_control;  \n};\n\nstruct s5p_mfc_hw_ops {\n\tint (*alloc_dec_temp_buffers)(struct s5p_mfc_ctx *ctx);\n\tvoid (*release_dec_desc_buffer)(struct s5p_mfc_ctx *ctx);\n\tint (*alloc_codec_buffers)(struct s5p_mfc_ctx *ctx);\n\tvoid (*release_codec_buffers)(struct s5p_mfc_ctx *ctx);\n\tint (*alloc_instance_buffer)(struct s5p_mfc_ctx *ctx);\n\tvoid (*release_instance_buffer)(struct s5p_mfc_ctx *ctx);\n\tint (*alloc_dev_context_buffer)(struct s5p_mfc_dev *dev);\n\tvoid (*release_dev_context_buffer)(struct s5p_mfc_dev *dev);\n\tvoid (*dec_calc_dpb_size)(struct s5p_mfc_ctx *ctx);\n\tvoid (*enc_calc_src_size)(struct s5p_mfc_ctx *ctx);\n\tint (*set_enc_stream_buffer)(struct s5p_mfc_ctx *ctx,\n\t\t\tunsigned long addr, unsigned int size);\n\tvoid (*set_enc_frame_buffer)(struct s5p_mfc_ctx *ctx,\n\t\t\tunsigned long y_addr, unsigned long c_addr);\n\tvoid (*get_enc_frame_buffer)(struct s5p_mfc_ctx *ctx,\n\t\t\tunsigned long *y_addr, unsigned long *c_addr);\n\tvoid (*try_run)(struct s5p_mfc_dev *dev);\n\tvoid (*clear_int_flags)(struct s5p_mfc_dev *dev);\n\tint (*get_dspl_y_adr)(struct s5p_mfc_dev *dev);\n\tint (*get_dec_y_adr)(struct s5p_mfc_dev *dev);\n\tint (*get_dspl_status)(struct s5p_mfc_dev *dev);\n\tint (*get_dec_status)(struct s5p_mfc_dev *dev);\n\tint (*get_dec_frame_type)(struct s5p_mfc_dev *dev);\n\tint (*get_disp_frame_type)(struct s5p_mfc_ctx *ctx);\n\tint (*get_consumed_stream)(struct s5p_mfc_dev *dev);\n\tint (*get_int_reason)(struct s5p_mfc_dev *dev);\n\tint (*get_int_err)(struct s5p_mfc_dev *dev);\n\tint (*err_dec)(unsigned int err);\n\tint (*get_img_width)(struct s5p_mfc_dev *dev);\n\tint (*get_img_height)(struct s5p_mfc_dev *dev);\n\tint (*get_dpb_count)(struct s5p_mfc_dev *dev);\n\tint (*get_mv_count)(struct s5p_mfc_dev *dev);\n\tint (*get_inst_no)(struct s5p_mfc_dev *dev);\n\tint (*get_enc_strm_size)(struct s5p_mfc_dev *dev);\n\tint (*get_enc_slice_type)(struct s5p_mfc_dev *dev);\n\tint (*get_enc_dpb_count)(struct s5p_mfc_dev *dev);\n\tunsigned int (*get_pic_type_top)(struct s5p_mfc_ctx *ctx);\n\tunsigned int (*get_pic_type_bot)(struct s5p_mfc_ctx *ctx);\n\tunsigned int (*get_crop_info_h)(struct s5p_mfc_ctx *ctx);\n\tunsigned int (*get_crop_info_v)(struct s5p_mfc_ctx *ctx);\n\tint (*get_min_scratch_buf_size)(struct s5p_mfc_dev *dev);\n\tint (*get_e_min_scratch_buf_size)(struct s5p_mfc_dev *dev);\n};\n\nvoid s5p_mfc_init_hw_ops(struct s5p_mfc_dev *dev);\nvoid s5p_mfc_init_regs(struct s5p_mfc_dev *dev);\nint s5p_mfc_alloc_priv_buf(struct s5p_mfc_dev *dev, unsigned int mem_ctx,\n\t\t\t   struct s5p_mfc_priv_buf *b);\nvoid s5p_mfc_release_priv_buf(struct s5p_mfc_dev *dev,\n\t\t\t      struct s5p_mfc_priv_buf *b);\nint s5p_mfc_alloc_generic_buf(struct s5p_mfc_dev *dev, unsigned int mem_ctx,\n\t\t\t   struct s5p_mfc_priv_buf *b);\nvoid s5p_mfc_release_generic_buf(struct s5p_mfc_dev *dev,\n\t\t\t      struct s5p_mfc_priv_buf *b);\n\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}