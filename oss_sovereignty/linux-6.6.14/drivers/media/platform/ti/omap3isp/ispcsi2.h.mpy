{
  "module_name": "ispcsi2.h",
  "hash_id": "c1f1fb69b23388f7f18bbca8f87f722536e5fd556f3926b5a56d699e63f8ff7c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/platform/ti/omap3isp/ispcsi2.h",
  "human_readable_source": " \n \n\n#ifndef OMAP3_ISP_CSI2_H\n#define OMAP3_ISP_CSI2_H\n\n#include <linux/types.h>\n#include <linux/videodev2.h>\n\nstruct isp_csiphy;\n\n \nenum isp_csi2_pix_formats {\n\tCSI2_PIX_FMT_OTHERS = 0,\n\tCSI2_PIX_FMT_YUV422_8BIT = 0x1e,\n\tCSI2_PIX_FMT_YUV422_8BIT_VP = 0x9e,\n\tCSI2_PIX_FMT_RAW10_EXP16 = 0xab,\n\tCSI2_PIX_FMT_RAW10_EXP16_VP = 0x12f,\n\tCSI2_PIX_FMT_RAW8 = 0x2a,\n\tCSI2_PIX_FMT_RAW8_DPCM10_EXP16 = 0x2aa,\n\tCSI2_PIX_FMT_RAW8_DPCM10_VP = 0x32a,\n\tCSI2_PIX_FMT_RAW8_VP = 0x12a,\n\tCSI2_USERDEF_8BIT_DATA1_DPCM10_VP = 0x340,\n\tCSI2_USERDEF_8BIT_DATA1_DPCM10 = 0x2c0,\n\tCSI2_USERDEF_8BIT_DATA1 = 0x40,\n};\n\nenum isp_csi2_irqevents {\n\tOCP_ERR_IRQ = 0x4000,\n\tSHORT_PACKET_IRQ = 0x2000,\n\tECC_CORRECTION_IRQ = 0x1000,\n\tECC_NO_CORRECTION_IRQ = 0x800,\n\tCOMPLEXIO2_ERR_IRQ = 0x400,\n\tCOMPLEXIO1_ERR_IRQ = 0x200,\n\tFIFO_OVF_IRQ = 0x100,\n\tCONTEXT7 = 0x80,\n\tCONTEXT6 = 0x40,\n\tCONTEXT5 = 0x20,\n\tCONTEXT4 = 0x10,\n\tCONTEXT3 = 0x8,\n\tCONTEXT2 = 0x4,\n\tCONTEXT1 = 0x2,\n\tCONTEXT0 = 0x1,\n};\n\nenum isp_csi2_ctx_irqevents {\n\tCTX_ECC_CORRECTION = 0x100,\n\tCTX_LINE_NUMBER = 0x80,\n\tCTX_FRAME_NUMBER = 0x40,\n\tCTX_CS = 0x20,\n\tCTX_LE = 0x8,\n\tCTX_LS = 0x4,\n\tCTX_FE = 0x2,\n\tCTX_FS = 0x1,\n};\n\nenum isp_csi2_frame_mode {\n\tISP_CSI2_FRAME_IMMEDIATE,\n\tISP_CSI2_FRAME_AFTERFEC,\n};\n\n#define ISP_CSI2_MAX_CTX_NUM\t7\n\nstruct isp_csi2_ctx_cfg {\n\tu8 ctxnum;\t\t \n\tu8 dpcm_decompress;\n\n\t \n\tu8 virtual_id;\n\tu16 format_id;\t\t \n\tu8 dpcm_predictor;\t \n\n\t \n\tu16 alpha;\n\tu16 data_offset;\n\tu32 ping_addr;\n\tu32 pong_addr;\n\tu8 eof_enabled;\n\tu8 eol_enabled;\n\tu8 checksum_enabled;\n\tu8 enabled;\n};\n\nstruct isp_csi2_timing_cfg {\n\tu8 ionum;\t\t\t \n\tunsigned force_rx_mode:1;\n\tunsigned stop_state_16x:1;\n\tunsigned stop_state_4x:1;\n\tu16 stop_state_counter;\n};\n\nstruct isp_csi2_ctrl_cfg {\n\tbool vp_clk_enable;\n\tbool vp_only_enable;\n\tu8 vp_out_ctrl;\n\tenum isp_csi2_frame_mode frame_mode;\n\tbool ecc_enable;\n\tbool if_enable;\n};\n\n#define CSI2_PAD_SINK\t\t0\n#define CSI2_PAD_SOURCE\t\t1\n#define CSI2_PADS_NUM\t\t2\n\n#define CSI2_OUTPUT_CCDC\t(1 << 0)\n#define CSI2_OUTPUT_MEMORY\t(1 << 1)\n\nstruct isp_csi2_device {\n\tstruct v4l2_subdev subdev;\n\tstruct media_pad pads[CSI2_PADS_NUM];\n\tstruct v4l2_mbus_framefmt formats[CSI2_PADS_NUM];\n\n\tstruct isp_video video_out;\n\tstruct isp_device *isp;\n\n\tu8 available;\t\t \n\n\t \n\tu8 regs1;\n\tu8 regs2;\n\n\tu32 output;  \n\tbool dpcm_decompress;\n\tunsigned int frame_skip;\n\n\tstruct isp_csiphy *phy;\n\tstruct isp_csi2_ctx_cfg contexts[ISP_CSI2_MAX_CTX_NUM + 1];\n\tstruct isp_csi2_timing_cfg timing[2];\n\tstruct isp_csi2_ctrl_cfg ctrl;\n\tenum isp_pipeline_stream_state state;\n\twait_queue_head_t wait;\n\tatomic_t stopping;\n};\n\nvoid omap3isp_csi2_isr(struct isp_csi2_device *csi2);\nint omap3isp_csi2_reset(struct isp_csi2_device *csi2);\nint omap3isp_csi2_init(struct isp_device *isp);\nvoid omap3isp_csi2_cleanup(struct isp_device *isp);\nvoid omap3isp_csi2_unregister_entities(struct isp_csi2_device *csi2);\nint omap3isp_csi2_register_entities(struct isp_csi2_device *csi2,\n\t\t\t\t    struct v4l2_device *vdev);\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}