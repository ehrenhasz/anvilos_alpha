{
  "module_name": "isppreview.h",
  "hash_id": "660d9c59c58908b1d96853f08a4d9c5f26f4081ef9a5dbaa97a87abedbbd4f29",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/platform/ti/omap3isp/isppreview.h",
  "human_readable_source": " \n \n\n#ifndef OMAP3_ISP_PREVIEW_H\n#define OMAP3_ISP_PREVIEW_H\n\n#include <linux/omap3isp.h>\n#include <linux/types.h>\n#include <media/v4l2-ctrls.h>\n\n#include \"ispvideo.h\"\n\n#define ISPPRV_BRIGHT_STEP\t\t0x1\n#define ISPPRV_BRIGHT_DEF\t\t0x0\n#define ISPPRV_BRIGHT_LOW\t\t0x0\n#define ISPPRV_BRIGHT_HIGH\t\t0xFF\n#define ISPPRV_BRIGHT_UNITS\t\t0x1\n\n#define ISPPRV_CONTRAST_STEP\t\t0x1\n#define ISPPRV_CONTRAST_DEF\t\t0x10\n#define ISPPRV_CONTRAST_LOW\t\t0x0\n#define ISPPRV_CONTRAST_HIGH\t\t0xFF\n#define ISPPRV_CONTRAST_UNITS\t\t0x1\n\n \n#define OMAP3ISP_PREV_CONTRAST\t\t(1 << 17)\n#define OMAP3ISP_PREV_BRIGHTNESS\t(1 << 18)\n#define OMAP3ISP_PREV_FEATURES_END\t(1 << 19)\n\nenum preview_input_entity {\n\tPREVIEW_INPUT_NONE,\n\tPREVIEW_INPUT_CCDC,\n\tPREVIEW_INPUT_MEMORY,\n};\n\n#define PREVIEW_OUTPUT_RESIZER\t\t(1 << 1)\n#define PREVIEW_OUTPUT_MEMORY\t\t(1 << 2)\n\n \nenum preview_ycpos_mode {\n\tYCPOS_YCrYCb = 0,\n\tYCPOS_YCbYCr = 1,\n\tYCPOS_CbYCrY = 2,\n\tYCPOS_CrYCbY = 3\n};\n\n \nstruct prev_params {\n\tu32 busy;\n\tu32 update;\n\tu32 features;\n\tstruct omap3isp_prev_cfa cfa;\n\tstruct omap3isp_prev_csup csup;\n\tstruct omap3isp_prev_luma luma;\n\tstruct omap3isp_prev_nf nf;\n\tstruct omap3isp_prev_dcor dcor;\n\tstruct omap3isp_prev_gtables gamma;\n\tstruct omap3isp_prev_wbal wbal;\n\tstruct omap3isp_prev_blkadj blkadj;\n\tstruct omap3isp_prev_rgbtorgb rgb2rgb;\n\tstruct omap3isp_prev_csc csc;\n\tstruct omap3isp_prev_hmed hmed;\n\tstruct omap3isp_prev_yclimit yclimit;\n\tu8 contrast;\n\tu8 brightness;\n};\n\n \n#define PREV_PAD_SINK\t\t\t0\n#define PREV_PAD_SOURCE\t\t\t1\n#define PREV_PADS_NUM\t\t\t2\n\n \nstruct isp_prev_device {\n\tstruct v4l2_subdev subdev;\n\tstruct media_pad pads[PREV_PADS_NUM];\n\tstruct v4l2_mbus_framefmt formats[PREV_PADS_NUM];\n\tstruct v4l2_rect crop;\n\n\tstruct v4l2_ctrl_handler ctrls;\n\n\tenum preview_input_entity input;\n\tunsigned int output;\n\tstruct isp_video video_in;\n\tstruct isp_video video_out;\n\n\tstruct {\n\t\tunsigned int cfa_order;\n\t\tstruct prev_params params[2];\n\t\tu32 active;\n\t\tspinlock_t lock;\n\t} params;\n\n\tenum isp_pipeline_stream_state state;\n\twait_queue_head_t wait;\n\tatomic_t stopping;\n};\n\nstruct isp_device;\n\nint omap3isp_preview_init(struct isp_device *isp);\nvoid omap3isp_preview_cleanup(struct isp_device *isp);\n\nint omap3isp_preview_register_entities(struct isp_prev_device *prv,\n\t\t\t\t       struct v4l2_device *vdev);\nvoid omap3isp_preview_unregister_entities(struct isp_prev_device *prv);\n\nvoid omap3isp_preview_isr_frame_sync(struct isp_prev_device *prev);\nvoid omap3isp_preview_isr(struct isp_prev_device *prev);\n\nint omap3isp_preview_busy(struct isp_prev_device *isp_prev);\n\nvoid omap3isp_preview_restore_context(struct isp_device *isp);\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}