{
  "module_name": "hantro_g1.c",
  "hash_id": "71b4f92d9436d66de08c950d5c19508a8463e55c365da67346ab9f1b9a6ade77",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/platform/verisilicon/hantro_g1.c",
  "human_readable_source": "\n \n\n#include \"hantro.h\"\n#include \"hantro_g1_regs.h\"\n\nirqreturn_t hantro_g1_irq(int irq, void *dev_id)\n{\n\tstruct hantro_dev *vpu = dev_id;\n\tenum vb2_buffer_state state;\n\tu32 status;\n\n\tstatus = vdpu_read(vpu, G1_REG_INTERRUPT);\n\tstate = (status & G1_REG_INTERRUPT_DEC_RDY_INT) ?\n\t\t VB2_BUF_STATE_DONE : VB2_BUF_STATE_ERROR;\n\n\tvdpu_write(vpu, 0, G1_REG_INTERRUPT);\n\tvdpu_write(vpu, G1_REG_CONFIG_DEC_CLK_GATE_E, G1_REG_CONFIG);\n\n\thantro_irq_done(vpu, state);\n\n\treturn IRQ_HANDLED;\n}\n\nvoid hantro_g1_reset(struct hantro_ctx *ctx)\n{\n\tstruct hantro_dev *vpu = ctx->dev;\n\n\tvdpu_write(vpu, G1_REG_INTERRUPT_DEC_IRQ_DIS, G1_REG_INTERRUPT);\n\tvdpu_write(vpu, G1_REG_CONFIG_DEC_CLK_GATE_E, G1_REG_CONFIG);\n\tvdpu_write(vpu, 1, G1_REG_SOFT_RESET);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}