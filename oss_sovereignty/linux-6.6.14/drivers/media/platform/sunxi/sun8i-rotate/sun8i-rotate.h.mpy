{
  "module_name": "sun8i-rotate.h",
  "hash_id": "6edb06608c6bb3e777bcb2d1f2df12f6b59a8cd40b960e48efdab7c5ae3f7691",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/platform/sunxi/sun8i-rotate/sun8i-rotate.h",
  "human_readable_source": " \n \n\n#ifndef _SUN8I_ROTATE_H_\n#define _SUN8I_ROTATE_H_\n\n#include <media/v4l2-ctrls.h>\n#include <media/v4l2-device.h>\n#include <media/v4l2-mem2mem.h>\n#include <media/videobuf2-v4l2.h>\n#include <media/videobuf2-dma-contig.h>\n\n#include <linux/platform_device.h>\n\n#define ROTATE_NAME\t\t\"sun8i-rotate\"\n\n#define ROTATE_GLB_CTL\t\t\t0x00\n#define ROTATE_GLB_CTL_START\t\t\tBIT(31)\n#define ROTATE_GLB_CTL_RESET\t\t\tBIT(30)\n#define ROTATE_GLB_CTL_BURST_LEN(x)\t\t((x) << 16)\n#define ROTATE_GLB_CTL_HFLIP\t\t\tBIT(7)\n#define ROTATE_GLB_CTL_VFLIP\t\t\tBIT(6)\n#define ROTATE_GLB_CTL_ROTATION(x)\t\t((x) << 4)\n#define ROTATE_GLB_CTL_MODE(x)\t\t\t((x) << 0)\n\n#define ROTATE_INT\t\t\t0x04\n#define ROTATE_INT_FINISH_IRQ_EN\t\tBIT(16)\n#define ROTATE_INT_FINISH_IRQ\t\t\tBIT(0)\n\n#define ROTATE_IN_FMT\t\t\t0x20\n#define ROTATE_IN_FMT_FORMAT(x)\t\t\t((x) << 0)\n\n#define ROTATE_IN_SIZE\t\t\t0x24\n#define ROTATE_IN_PITCH0\t\t0x30\n#define ROTATE_IN_PITCH1\t\t0x34\n#define ROTATE_IN_PITCH2\t\t0x38\n#define ROTATE_IN_ADDRL0\t\t0x40\n#define ROTATE_IN_ADDRH0\t\t0x44\n#define ROTATE_IN_ADDRL1\t\t0x48\n#define ROTATE_IN_ADDRH1\t\t0x4c\n#define ROTATE_IN_ADDRL2\t\t0x50\n#define ROTATE_IN_ADDRH2\t\t0x54\n#define ROTATE_OUT_SIZE\t\t\t0x84\n#define ROTATE_OUT_PITCH0\t\t0x90\n#define ROTATE_OUT_PITCH1\t\t0x94\n#define ROTATE_OUT_PITCH2\t\t0x98\n#define ROTATE_OUT_ADDRL0\t\t0xA0\n#define ROTATE_OUT_ADDRH0\t\t0xA4\n#define ROTATE_OUT_ADDRL1\t\t0xA8\n#define ROTATE_OUT_ADDRH1\t\t0xAC\n#define ROTATE_OUT_ADDRL2\t\t0xB0\n#define ROTATE_OUT_ADDRH2\t\t0xB4\n\n#define ROTATE_BURST_8\t\t\t0x07\n#define ROTATE_BURST_16\t\t\t0x0f\n#define ROTATE_BURST_32\t\t\t0x1f\n#define ROTATE_BURST_64\t\t\t0x3f\n\n#define ROTATE_MODE_COPY_ROTATE\t\t0x01\n\n#define ROTATE_FORMAT_ARGB32\t\t0x00\n#define ROTATE_FORMAT_ABGR32\t\t0x01\n#define ROTATE_FORMAT_RGBA32\t\t0x02\n#define ROTATE_FORMAT_BGRA32\t\t0x03\n#define ROTATE_FORMAT_XRGB32\t\t0x04\n#define ROTATE_FORMAT_XBGR32\t\t0x05\n#define ROTATE_FORMAT_RGBX32\t\t0x06\n#define ROTATE_FORMAT_BGRX32\t\t0x07\n#define ROTATE_FORMAT_RGB24\t\t0x08\n#define ROTATE_FORMAT_BGR24\t\t0x09\n#define ROTATE_FORMAT_RGB565\t\t0x0a\n#define ROTATE_FORMAT_BGR565\t\t0x0b\n#define ROTATE_FORMAT_ARGB4444\t\t0x0c\n#define ROTATE_FORMAT_ABGR4444\t\t0x0d\n#define ROTATE_FORMAT_RGBA4444\t\t0x0e\n#define ROTATE_FORMAT_BGRA4444\t\t0x0f\n#define ROTATE_FORMAT_ARGB1555\t\t0x10\n#define ROTATE_FORMAT_ABGR1555\t\t0x11\n#define ROTATE_FORMAT_RGBA5551\t\t0x12\n#define ROTATE_FORMAT_BGRA5551\t\t0x13\n\n#define ROTATE_FORMAT_YUYV\t\t0x20\n#define ROTATE_FORMAT_UYVY\t\t0x21\n#define ROTATE_FORMAT_YVYU\t\t0x22\n#define ROTATE_FORMAT_VYUV\t\t0x23\n#define ROTATE_FORMAT_NV61\t\t0x24\n#define ROTATE_FORMAT_NV16\t\t0x25\n#define ROTATE_FORMAT_YUV422P\t\t0x26\n#define ROTATE_FORMAT_NV21\t\t0x28\n#define ROTATE_FORMAT_NV12\t\t0x29\n#define ROTATE_FORMAT_YUV420P\t\t0x2A\n\n#define ROTATE_SIZE(w, h)\t(((h) - 1) << 16 | ((w) - 1))\n\n#define ROTATE_MIN_WIDTH\t8U\n#define ROTATE_MIN_HEIGHT\t8U\n#define ROTATE_MAX_WIDTH\t4096U\n#define ROTATE_MAX_HEIGHT\t4096U\n\nstruct rotate_ctx {\n\tstruct v4l2_fh\t\tfh;\n\tstruct rotate_dev\t*dev;\n\n\tstruct v4l2_pix_format\tsrc_fmt;\n\tstruct v4l2_pix_format\tdst_fmt;\n\n\tstruct v4l2_ctrl_handler ctrl_handler;\n\n\tu32 hflip;\n\tu32 vflip;\n\tu32 rotate;\n};\n\nstruct rotate_dev {\n\tstruct v4l2_device\tv4l2_dev;\n\tstruct video_device\tvfd;\n\tstruct device\t\t*dev;\n\tstruct v4l2_m2m_dev\t*m2m_dev;\n\n\t \n\tstruct mutex\t\tdev_mutex;\n\n\tvoid __iomem\t\t*base;\n\n\tstruct clk\t\t*bus_clk;\n\tstruct clk\t\t*mod_clk;\n\n\tstruct reset_control\t*rstc;\n};\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}