{
  "module_name": "vsp1.h",
  "hash_id": "f2f3f19c4d1f99ee2bbd4df463f9c17e5cc03c54ef82d0dedde9d60cee03e396",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/platform/renesas/vsp1/vsp1.h",
  "human_readable_source": " \n \n#ifndef __VSP1_H__\n#define __VSP1_H__\n\n#include <linux/io.h>\n#include <linux/list.h>\n#include <linux/mutex.h>\n\n#include <media/media-device.h>\n#include <media/v4l2-device.h>\n#include <media/v4l2-subdev.h>\n\n#include \"vsp1_regs.h\"\n\nstruct clk;\nstruct device;\nstruct rcar_fcp_device;\nstruct reset_control;\n\nstruct vsp1_drm;\nstruct vsp1_entity;\nstruct vsp1_platform_data;\nstruct vsp1_brx;\nstruct vsp1_clu;\nstruct vsp1_hgo;\nstruct vsp1_hgt;\nstruct vsp1_hsit;\nstruct vsp1_lif;\nstruct vsp1_lut;\nstruct vsp1_rwpf;\nstruct vsp1_sru;\nstruct vsp1_uds;\nstruct vsp1_uif;\n\n#define VSP1_MAX_LIF\t\t2\n#define VSP1_MAX_RPF\t\t5\n#define VSP1_MAX_UDS\t\t3\n#define VSP1_MAX_UIF\t\t2\n#define VSP1_MAX_WPF\t\t4\n\n#define VSP1_HAS_LUT\t\tBIT(1)\n#define VSP1_HAS_SRU\t\tBIT(2)\n#define VSP1_HAS_BRU\t\tBIT(3)\n#define VSP1_HAS_CLU\t\tBIT(4)\n#define VSP1_HAS_WPF_VFLIP\tBIT(5)\n#define VSP1_HAS_WPF_HFLIP\tBIT(6)\n#define VSP1_HAS_HGO\t\tBIT(7)\n#define VSP1_HAS_HGT\t\tBIT(8)\n#define VSP1_HAS_BRS\t\tBIT(9)\n#define VSP1_HAS_EXT_DL\t\tBIT(10)\n#define VSP1_HAS_NON_ZERO_LBA\tBIT(11)\n\nstruct vsp1_device_info {\n\tu32 version;\n\tconst char *model;\n\tunsigned int gen;\n\tunsigned int features;\n\tunsigned int lif_count;\n\tunsigned int rpf_count;\n\tunsigned int uds_count;\n\tunsigned int uif_count;\n\tunsigned int wpf_count;\n\tunsigned int num_bru_inputs;\n\tu8 soc;\n\tbool uapi;\n};\n\n#define vsp1_feature(vsp1, f) ((vsp1)->info->features & (f))\n\nstruct vsp1_device {\n\tstruct device *dev;\n\tconst struct vsp1_device_info *info;\n\tu32 version;\n\n\tvoid __iomem *mmio;\n\tstruct rcar_fcp_device *fcp;\n\tstruct device *bus_master;\n\tstruct reset_control *rstc;\n\n\tstruct vsp1_brx *brs;\n\tstruct vsp1_brx *bru;\n\tstruct vsp1_clu *clu;\n\tstruct vsp1_hgo *hgo;\n\tstruct vsp1_hgt *hgt;\n\tstruct vsp1_hsit *hsi;\n\tstruct vsp1_hsit *hst;\n\tstruct vsp1_lif *lif[VSP1_MAX_LIF];\n\tstruct vsp1_lut *lut;\n\tstruct vsp1_rwpf *rpf[VSP1_MAX_RPF];\n\tstruct vsp1_sru *sru;\n\tstruct vsp1_uds *uds[VSP1_MAX_UDS];\n\tstruct vsp1_uif *uif[VSP1_MAX_UIF];\n\tstruct vsp1_rwpf *wpf[VSP1_MAX_WPF];\n\n\tstruct list_head entities;\n\tstruct list_head videos;\n\n\tstruct v4l2_device v4l2_dev;\n\tstruct media_device media_dev;\n\tstruct media_entity_operations media_ops;\n\n\tstruct vsp1_drm *drm;\n};\n\nint vsp1_device_get(struct vsp1_device *vsp1);\nvoid vsp1_device_put(struct vsp1_device *vsp1);\n\nint vsp1_reset_wpf(struct vsp1_device *vsp1, unsigned int index);\n\nstatic inline u32 vsp1_read(struct vsp1_device *vsp1, u32 reg)\n{\n\treturn ioread32(vsp1->mmio + reg);\n}\n\nstatic inline void vsp1_write(struct vsp1_device *vsp1, u32 reg, u32 data)\n{\n\tiowrite32(data, vsp1->mmio + reg);\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}