{
  "module_name": "vsp1_rwpf.h",
  "hash_id": "c94a2d87004f374d4d79b1972072bd47c9240f9c8852a9ca1021aac88ef24470",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/platform/renesas/vsp1/vsp1_rwpf.h",
  "human_readable_source": " \n \n#ifndef __VSP1_RWPF_H__\n#define __VSP1_RWPF_H__\n\n#include <linux/spinlock.h>\n\n#include <media/media-entity.h>\n#include <media/v4l2-ctrls.h>\n#include <media/v4l2-subdev.h>\n\n#include \"vsp1.h\"\n#include \"vsp1_entity.h\"\n\n#define RWPF_PAD_SINK\t\t\t\t0\n#define RWPF_PAD_SOURCE\t\t\t\t1\n\nstruct v4l2_ctrl;\nstruct vsp1_dl_manager;\nstruct vsp1_rwpf;\nstruct vsp1_video;\n\nstruct vsp1_rwpf_memory {\n\tdma_addr_t addr[3];\n};\n\nstruct vsp1_rwpf {\n\tstruct vsp1_entity entity;\n\tstruct v4l2_ctrl_handler ctrls;\n\n\tstruct vsp1_video *video;\n\n\tunsigned int max_width;\n\tunsigned int max_height;\n\n\tstruct v4l2_pix_format_mplane format;\n\tconst struct vsp1_format_info *fmtinfo;\n\tunsigned int brx_input;\n\n\tunsigned int alpha;\n\n\tu32 mult_alpha;\n\tu32 outfmt;\n\n\tstruct {\n\t\tspinlock_t lock;\n\t\tstruct {\n\t\t\tstruct v4l2_ctrl *vflip;\n\t\t\tstruct v4l2_ctrl *hflip;\n\t\t\tstruct v4l2_ctrl *rotate;\n\t\t} ctrls;\n\t\tunsigned int pending;\n\t\tunsigned int active;\n\t\tbool rotate;\n\t} flip;\n\n\tstruct vsp1_rwpf_memory mem;\n\tbool writeback;\n\n\tstruct vsp1_dl_manager *dlm;\n};\n\nstatic inline struct vsp1_rwpf *to_rwpf(struct v4l2_subdev *subdev)\n{\n\treturn container_of(subdev, struct vsp1_rwpf, entity.subdev);\n}\n\nstatic inline struct vsp1_rwpf *entity_to_rwpf(struct vsp1_entity *entity)\n{\n\treturn container_of(entity, struct vsp1_rwpf, entity);\n}\n\nstruct vsp1_rwpf *vsp1_rpf_create(struct vsp1_device *vsp1, unsigned int index);\nstruct vsp1_rwpf *vsp1_wpf_create(struct vsp1_device *vsp1, unsigned int index);\n\nint vsp1_rwpf_init_ctrls(struct vsp1_rwpf *rwpf, unsigned int ncontrols);\n\nextern const struct v4l2_subdev_pad_ops vsp1_rwpf_pad_ops;\n\nstruct v4l2_rect *vsp1_rwpf_get_crop(struct vsp1_rwpf *rwpf,\n\t\t\t\t     struct v4l2_subdev_state *sd_state);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}