{
  "module_name": "vpu_helpers.h",
  "hash_id": "9a620f32b013eb908da6464a819c1e7e6ba95e2debd8270051db54337d4db67a",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/platform/amphion/vpu_helpers.h",
  "human_readable_source": " \n \n\n#ifndef _AMPHION_VPU_HELPERS_H\n#define _AMPHION_VPU_HELPERS_H\n\nstruct vpu_pair {\n\tu32 src;\n\tu32 dst;\n};\n\nint vpu_helper_find_in_array_u8(const u8 *array, u32 size, u32 x);\nbool vpu_helper_check_type(struct vpu_inst *inst, u32 type);\nconst struct vpu_format *vpu_helper_find_format(struct vpu_inst *inst, u32 type, u32 pixelfmt);\nconst struct vpu_format *vpu_helper_find_sibling(struct vpu_inst *inst, u32 type, u32 pixelfmt);\nbool vpu_helper_match_format(struct vpu_inst *inst, u32 type, u32 fmta, u32 fmtb);\nconst struct vpu_format *vpu_helper_enum_format(struct vpu_inst *inst, u32 type, int index);\nu32 vpu_helper_valid_frame_width(struct vpu_inst *inst, u32 width);\nu32 vpu_helper_valid_frame_height(struct vpu_inst *inst, u32 height);\nu32 vpu_helper_get_plane_size(u32 fmt, u32 width, u32 height, int plane_no,\n\t\t\t      u32 stride, u32 interlaced, u32 *pbl);\nint vpu_helper_copy_from_stream_buffer(struct vpu_buffer *stream_buffer,\n\t\t\t\t       u32 *rptr, u32 size, void *dst);\nint vpu_helper_copy_to_stream_buffer(struct vpu_buffer *stream_buffer,\n\t\t\t\t     u32 *wptr, u32 size, void *src);\nint vpu_helper_memset_stream_buffer(struct vpu_buffer *stream_buffer,\n\t\t\t\t    u32 *wptr, u8 val, u32 size);\nu32 vpu_helper_get_free_space(struct vpu_inst *inst);\nu32 vpu_helper_get_used_space(struct vpu_inst *inst);\nint vpu_helper_g_volatile_ctrl(struct v4l2_ctrl *ctrl);\nvoid vpu_helper_get_kmp_next(const u8 *pattern, int *next, int size);\nint vpu_helper_kmp_search(u8 *s, int s_len, const u8 *p, int p_len, int *next);\nint vpu_helper_kmp_search_in_stream_buffer(struct vpu_buffer *stream_buffer,\n\t\t\t\t\t   u32 offset, int bytesused,\n\t\t\t\t\t   const u8 *p, int p_len, int *next);\nint vpu_helper_find_startcode(struct vpu_buffer *stream_buffer,\n\t\t\t      u32 pixelformat, u32 offset, u32 bytesused);\n\nstatic inline u32 vpu_helper_step_walk(struct vpu_buffer *stream_buffer, u32 pos, u32 step)\n{\n\tpos += step;\n\tif (pos > stream_buffer->phys + stream_buffer->length)\n\t\tpos -= stream_buffer->length;\n\n\treturn pos;\n}\n\nstatic inline u8 vpu_helper_read_byte(struct vpu_buffer *stream_buffer, u32 pos)\n{\n\tu8 *pdata = (u8 *)stream_buffer->virt;\n\n\treturn pdata[pos % stream_buffer->length];\n}\n\nint vpu_color_check_primaries(u32 primaries);\nint vpu_color_check_transfers(u32 transfers);\nint vpu_color_check_matrix(u32 matrix);\nint vpu_color_check_full_range(u32 full_range);\nu32 vpu_color_cvrt_primaries_v2i(u32 primaries);\nu32 vpu_color_cvrt_primaries_i2v(u32 primaries);\nu32 vpu_color_cvrt_transfers_v2i(u32 transfers);\nu32 vpu_color_cvrt_transfers_i2v(u32 transfers);\nu32 vpu_color_cvrt_matrix_v2i(u32 matrix);\nu32 vpu_color_cvrt_matrix_i2v(u32 matrix);\nu32 vpu_color_cvrt_full_range_v2i(u32 full_range);\nu32 vpu_color_cvrt_full_range_i2v(u32 full_range);\nint vpu_color_get_default(u32 primaries, u32 *ptransfers, u32 *pmatrix, u32 *pfull_range);\n\nint vpu_find_dst_by_src(struct vpu_pair *pairs, u32 cnt, u32 src);\nint vpu_find_src_by_dst(struct vpu_pair *pairs, u32 cnt, u32 dst);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}