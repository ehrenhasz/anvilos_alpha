{
  "module_name": "vpu_defs.h",
  "hash_id": "453cf4cd9f2569ac6457baba8890e5886f44f58e865ea8fa8c098a774f88f284",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/platform/amphion/vpu_defs.h",
  "human_readable_source": " \n \n\n#ifndef _AMPHION_VPU_DEFS_H\n#define _AMPHION_VPU_DEFS_H\n\nenum MSG_TYPE {\n\tINIT_DONE = 1,\n\tPRC_BUF_OFFSET,\n\tBOOT_ADDRESS,\n\tCOMMAND,\n\tEVENT,\n};\n\nenum {\n\tVPU_IRQ_CODE_BOOT_DONE = 0x55,\n\tVPU_IRQ_CODE_SNAPSHOT_DONE = 0xa5,\n\tVPU_IRQ_CODE_SYNC = 0xaa,\n};\n\nenum {\n\tVPU_CMD_ID_NOOP = 0x0,\n\tVPU_CMD_ID_CONFIGURE_CODEC,\n\tVPU_CMD_ID_START,\n\tVPU_CMD_ID_STOP,\n\tVPU_CMD_ID_ABORT,\n\tVPU_CMD_ID_RST_BUF,\n\tVPU_CMD_ID_SNAPSHOT,\n\tVPU_CMD_ID_FIRM_RESET,\n\tVPU_CMD_ID_UPDATE_PARAMETER,\n\tVPU_CMD_ID_FRAME_ENCODE,\n\tVPU_CMD_ID_SKIP,\n\tVPU_CMD_ID_PARSE_NEXT_SEQ,\n\tVPU_CMD_ID_PARSE_NEXT_I,\n\tVPU_CMD_ID_PARSE_NEXT_IP,\n\tVPU_CMD_ID_PARSE_NEXT_ANY,\n\tVPU_CMD_ID_DEC_PIC,\n\tVPU_CMD_ID_FS_ALLOC,\n\tVPU_CMD_ID_FS_RELEASE,\n\tVPU_CMD_ID_TIMESTAMP,\n\tVPU_CMD_ID_DEBUG\n};\n\nenum {\n\tVPU_MSG_ID_NOOP = 0x100,\n\tVPU_MSG_ID_RESET_DONE,\n\tVPU_MSG_ID_START_DONE,\n\tVPU_MSG_ID_STOP_DONE,\n\tVPU_MSG_ID_ABORT_DONE,\n\tVPU_MSG_ID_BUF_RST,\n\tVPU_MSG_ID_MEM_REQUEST,\n\tVPU_MSG_ID_PARAM_UPD_DONE,\n\tVPU_MSG_ID_FRAME_INPUT_DONE,\n\tVPU_MSG_ID_ENC_DONE,\n\tVPU_MSG_ID_DEC_DONE,\n\tVPU_MSG_ID_FRAME_REQ,\n\tVPU_MSG_ID_FRAME_RELEASE,\n\tVPU_MSG_ID_SEQ_HDR_FOUND,\n\tVPU_MSG_ID_RES_CHANGE,\n\tVPU_MSG_ID_PIC_HDR_FOUND,\n\tVPU_MSG_ID_PIC_DECODED,\n\tVPU_MSG_ID_PIC_EOS,\n\tVPU_MSG_ID_FIFO_LOW,\n\tVPU_MSG_ID_FIFO_HIGH,\n\tVPU_MSG_ID_FIFO_EMPTY,\n\tVPU_MSG_ID_FIFO_FULL,\n\tVPU_MSG_ID_BS_ERROR,\n\tVPU_MSG_ID_UNSUPPORTED,\n\tVPU_MSG_ID_TIMESTAMP_INFO,\n\tVPU_MSG_ID_FIRMWARE_XCPT,\n\tVPU_MSG_ID_PIC_SKIPPED,\n\tVPU_MSG_ID_DBG_MSG,\n};\n\nenum VPU_ENC_MEMORY_RESOURSE {\n\tMEM_RES_ENC,\n\tMEM_RES_REF,\n\tMEM_RES_ACT\n};\n\nenum VPU_DEC_MEMORY_RESOURCE {\n\tMEM_RES_FRAME,\n\tMEM_RES_MBI,\n\tMEM_RES_DCP\n};\n\nenum VPU_SCODE_TYPE {\n\tSCODE_PADDING_EOS = 1,\n\tSCODE_PADDING_BUFFLUSH = 2,\n\tSCODE_PADDING_ABORT = 3,\n\tSCODE_SEQUENCE = 0x31,\n\tSCODE_PICTURE = 0x32,\n\tSCODE_SLICE = 0x33\n};\n\nstruct vpu_pkt_mem_req_data {\n\tu32 enc_frame_size;\n\tu32 enc_frame_num;\n\tu32 ref_frame_size;\n\tu32 ref_frame_num;\n\tu32 act_buf_size;\n\tu32 act_buf_num;\n};\n\nstruct vpu_enc_pic_info {\n\tu32 frame_id;\n\tu32 pic_type;\n\tu32 skipped_frame;\n\tu32 error_flag;\n\tu32 psnr;\n\tu32 frame_size;\n\tu32 wptr;\n\tu32 crc;\n\ts64 timestamp;\n};\n\nstruct vpu_dec_codec_info {\n\tu32 pixfmt;\n\tu32 num_ref_frms;\n\tu32 num_dpb_frms;\n\tu32 num_dfe_area;\n\tu32 color_primaries;\n\tu32 transfer_chars;\n\tu32 matrix_coeffs;\n\tu32 full_range;\n\tu32 vui_present;\n\tu32 progressive;\n\tu32 width;\n\tu32 height;\n\tu32 decoded_width;\n\tu32 decoded_height;\n\tstruct v4l2_fract frame_rate;\n\tu32 dsp_asp_ratio;\n\tu32 level_idc;\n\tu32 bit_depth_luma;\n\tu32 bit_depth_chroma;\n\tu32 chroma_fmt;\n\tu32 mvc_num_views;\n\tu32 offset_x;\n\tu32 offset_y;\n\tu32 tag;\n\tu32 sizeimage[VIDEO_MAX_PLANES];\n\tu32 bytesperline[VIDEO_MAX_PLANES];\n\tu32 mbi_size;\n\tu32 dcp_size;\n\tu32 stride;\n};\n\nstruct vpu_dec_pic_info {\n\tu32 id;\n\tu32 luma;\n\tu32 start;\n\tu32 end;\n\tu32 pic_size;\n\tu32 stride;\n\tu32 skipped;\n\ts64 timestamp;\n\tu32 consumed_count;\n};\n\nstruct vpu_fs_info {\n\tu32 id;\n\tu32 type;\n\tu32 tag;\n\tu32 luma_addr;\n\tu32 luma_size;\n\tu32 chroma_addr;\n\tu32 chromau_size;\n\tu32 chromav_addr;\n\tu32 chromav_size;\n\tu32 bytesperline;\n\tu32 not_displayed;\n};\n\nstruct vpu_ts_info {\n\ts64 timestamp;\n\tu32 size;\n};\n\n#define BITRATE_STEP\t\t(1024)\n#define BITRATE_MIN\t\t(16 * BITRATE_STEP)\n#define BITRATE_MAX\t\t(240 * 1024 * BITRATE_STEP)\n#define BITRATE_DEFAULT\t\t(2 * 1024 * BITRATE_STEP)\n#define BITRATE_DEFAULT_PEAK\t(BITRATE_DEFAULT * 2)\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}