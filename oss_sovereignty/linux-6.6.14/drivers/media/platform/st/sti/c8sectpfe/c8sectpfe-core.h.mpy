{
  "module_name": "c8sectpfe-core.h",
  "hash_id": "e66c61b50b2f096e6d65846d28b7f990cb592529f34bd9568cc478198745e3fa",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/platform/st/sti/c8sectpfe/c8sectpfe-core.h",
  "human_readable_source": " \n \n#ifndef _C8SECTPFE_CORE_H_\n#define _C8SECTPFE_CORE_H_\n\n#define C8SECTPFEI_MAXCHANNEL 16\n#define C8SECTPFEI_MAXADAPTER 3\n\n#define C8SECTPFE_MAX_TSIN_CHAN 8\n\nstruct gpio_desc;\n\nstruct channel_info {\n\n\tint tsin_id;\n\tbool invert_ts_clk;\n\tbool serial_not_parallel;\n\tbool async_not_sync;\n\tint i2c;\n\tint dvb_card;\n\n\tstruct gpio_desc *rst_gpio;\n\n\tstruct i2c_adapter  *i2c_adapter;\n\tstruct i2c_adapter  *tuner_i2c;\n\tstruct i2c_adapter  *lnb_i2c;\n\tstruct i2c_client   *i2c_client;\n\tstruct dvb_frontend *frontend;\n\n\tstruct pinctrl_state *pstate;\n\n\tint demux_mapping;\n\tint active;\n\n\tvoid *back_buffer_start;\n\tvoid *back_buffer_aligned;\n\tdma_addr_t back_buffer_busaddr;\n\n\tvoid *pid_buffer_start;\n\tvoid *pid_buffer_aligned;\n\tdma_addr_t pid_buffer_busaddr;\n\n\tunsigned long  fifo;\n\n\tstruct completion idle_completion;\n\tstruct tasklet_struct tsklet;\n\n\tstruct c8sectpfei *fei;\n\tvoid __iomem *irec;\n\n};\n\nstruct c8sectpfe_hw {\n\tint num_ib;\n\tint num_mib;\n\tint num_swts;\n\tint num_tsout;\n\tint num_ccsc;\n\tint num_ram;\n\tint num_tp;\n};\n\nstruct c8sectpfei {\n\n\tstruct device *dev;\n\tstruct pinctrl *pinctrl;\n\n\tstruct dentry *root;\n\tstruct debugfs_regset32\t*regset;\n\tstruct completion fw_ack;\n\tatomic_t fw_loaded;\n\n\tint tsin_count;\n\n\tstruct c8sectpfe_hw hw_stats;\n\n\tstruct c8sectpfe *c8sectpfe[C8SECTPFEI_MAXADAPTER];\n\n\tint mapping[C8SECTPFEI_MAXCHANNEL];\n\n\tstruct mutex lock;\n\n\tstruct timer_list timer;\t \n\n\tvoid __iomem *io;\n\tvoid __iomem *sram;\n\n\tunsigned long sram_size;\n\n\tstruct channel_info *channel_data[C8SECTPFE_MAX_TSIN_CHAN];\n\n\tstruct clk *c8sectpfeclk;\n\tint nima_rst_gpio;\n\tint nimb_rst_gpio;\n\n\tint idle_irq;\n\tint error_irq;\n\n\tint global_feed_count;\n};\n\n \n\n#define SYS_INPUT_ERR_STATUS\t0x0\n#define SYS_OTHER_ERR_STATUS\t0x8\n#define SYS_INPUT_ERR_MASK\t0x10\n#define SYS_OTHER_ERR_MASK\t0x18\n#define SYS_DMA_ROUTE\t\t0x20\n#define SYS_INPUT_CLKEN\t\t0x30\n#define IBENABLE_MASK\t\t\t0x7F\n\n#define SYS_OTHER_CLKEN\t\t0x38\n#define TSDMAENABLE\t\t\tBIT(1)\n#define MEMDMAENABLE\t\t\tBIT(0)\n\n#define SYS_CFG_NUM_IB\t\t0x200\n#define SYS_CFG_NUM_MIB\t\t0x204\n#define SYS_CFG_NUM_SWTS\t0x208\n#define SYS_CFG_NUM_TSOUT\t0x20C\n#define SYS_CFG_NUM_CCSC\t0x210\n#define SYS_CFG_NUM_RAM\t\t0x214\n#define SYS_CFG_NUM_TP\t\t0x218\n\n \n\n#define C8SECTPFE_INPUTBLK_OFFSET\t0x1000\n#define C8SECTPFE_CHANNEL_OFFSET(x)\t((x*0x40) + C8SECTPFE_INPUTBLK_OFFSET)\n\n#define C8SECTPFE_IB_IP_FMT_CFG(x)      (C8SECTPFE_CHANNEL_OFFSET(x) + 0x00)\n#define C8SECTPFE_IGNORE_ERR_AT_SOP     BIT(7)\n#define C8SECTPFE_IGNORE_ERR_IN_PKT     BIT(6)\n#define C8SECTPFE_IGNORE_ERR_IN_BYTE    BIT(5)\n#define C8SECTPFE_INVERT_TSCLK          BIT(4)\n#define C8SECTPFE_ALIGN_BYTE_SOP        BIT(3)\n#define C8SECTPFE_ASYNC_NOT_SYNC        BIT(2)\n#define C8SECTPFE_BYTE_ENDIANNESS_MSB    BIT(1)\n#define C8SECTPFE_SERIAL_NOT_PARALLEL   BIT(0)\n\n#define C8SECTPFE_IB_SYNCLCKDRP_CFG(x)   (C8SECTPFE_CHANNEL_OFFSET(x) + 0x04)\n#define C8SECTPFE_SYNC(x)                (x & 0xf)\n#define C8SECTPFE_DROP(x)                ((x<<4) & 0xf)\n#define C8SECTPFE_TOKEN(x)               ((x<<8) & 0xff00)\n#define C8SECTPFE_SLDENDIANNESS          BIT(16)\n\n#define C8SECTPFE_IB_TAGBYTES_CFG(x)     (C8SECTPFE_CHANNEL_OFFSET(x) + 0x08)\n#define C8SECTPFE_TAG_HEADER(x)          (x << 16)\n#define C8SECTPFE_TAG_COUNTER(x)         ((x<<1) & 0x7fff)\n#define C8SECTPFE_TAG_ENABLE             BIT(0)\n\n#define C8SECTPFE_IB_PID_SET(x)          (C8SECTPFE_CHANNEL_OFFSET(x) + 0x0C)\n#define C8SECTPFE_PID_OFFSET(x)          (x & 0x3f)\n#define C8SECTPFE_PID_NUMBITS(x)         ((x << 6) & 0xfff)\n#define C8SECTPFE_PID_ENABLE             BIT(31)\n\n#define C8SECTPFE_IB_PKT_LEN(x)          (C8SECTPFE_CHANNEL_OFFSET(x) + 0x10)\n\n#define C8SECTPFE_IB_BUFF_STRT(x)        (C8SECTPFE_CHANNEL_OFFSET(x) + 0x14)\n#define C8SECTPFE_IB_BUFF_END(x)         (C8SECTPFE_CHANNEL_OFFSET(x) + 0x18)\n#define C8SECTPFE_IB_READ_PNT(x)         (C8SECTPFE_CHANNEL_OFFSET(x) + 0x1C)\n#define C8SECTPFE_IB_WRT_PNT(x)          (C8SECTPFE_CHANNEL_OFFSET(x) + 0x20)\n\n#define C8SECTPFE_IB_PRI_THRLD(x)        (C8SECTPFE_CHANNEL_OFFSET(x) + 0x24)\n#define C8SECTPFE_PRI_VALUE(x)           (x & 0x7fffff)\n#define C8SECTPFE_PRI_LOWPRI(x)          ((x & 0xf) << 24)\n#define C8SECTPFE_PRI_HIGHPRI(x)         ((x & 0xf) << 28)\n\n#define C8SECTPFE_IB_STAT(x)             (C8SECTPFE_CHANNEL_OFFSET(x) + 0x28)\n#define C8SECTPFE_STAT_FIFO_OVERFLOW(x)  (x & 0x1)\n#define C8SECTPFE_STAT_BUFFER_OVERFLOW(x) (x & 0x2)\n#define C8SECTPFE_STAT_OUTOFORDERRP(x)   (x & 0x4)\n#define C8SECTPFE_STAT_PID_OVERFLOW(x)   (x & 0x8)\n#define C8SECTPFE_STAT_PKT_OVERFLOW(x)   (x & 0x10)\n#define C8SECTPFE_STAT_ERROR_PACKETS(x)  ((x >> 8) & 0xf)\n#define C8SECTPFE_STAT_SHORT_PACKETS(x)  ((x >> 12) & 0xf)\n\n#define C8SECTPFE_IB_MASK(x)             (C8SECTPFE_CHANNEL_OFFSET(x) + 0x2C)\n#define C8SECTPFE_MASK_FIFO_OVERFLOW     BIT(0)\n#define C8SECTPFE_MASK_BUFFER_OVERFLOW   BIT(1)\n#define C8SECTPFE_MASK_OUTOFORDERRP(x)   BIT(2)\n#define C8SECTPFE_MASK_PID_OVERFLOW(x)   BIT(3)\n#define C8SECTPFE_MASK_PKT_OVERFLOW(x)   BIT(4)\n#define C8SECTPFE_MASK_ERROR_PACKETS(x)  ((x & 0xf) << 8)\n#define C8SECTPFE_MASK_SHORT_PACKETS(x)  ((x & 0xf) >> 12)\n\n#define C8SECTPFE_IB_SYS(x)              (C8SECTPFE_CHANNEL_OFFSET(x) + 0x30)\n#define C8SECTPFE_SYS_RESET              BIT(1)\n#define C8SECTPFE_SYS_ENABLE             BIT(0)\n\n \n\n#define DMA_PRDS_MEMBASE\t0x0  \n#define DMA_PRDS_MEMTOP\t\t0x4  \n\n \n#define DMA_PRDS_PKTSIZE\t0x8\n#define DMA_PRDS_TPENABLE\t0xc\n\n#define TP0_OFFSET\t\t0x10\n#define DMA_PRDS_BUSBASE_TP(x)\t((0x10*x) + TP0_OFFSET)\n#define DMA_PRDS_BUSTOP_TP(x)\t((0x10*x) + TP0_OFFSET + 0x4)\n#define DMA_PRDS_BUSWP_TP(x)\t((0x10*x) + TP0_OFFSET + 0x8)\n#define DMA_PRDS_BUSRP_TP(x)\t((0x10*x) + TP0_OFFSET + 0xc)\n\n#define DMA_PRDS_SIZE\t\t(0x20)\n\n#define DMA_MEMDMA_OFFSET\t0x4000\n#define DMA_IMEM_OFFSET\t\t0x0\n#define DMA_DMEM_OFFSET\t\t0x4000\n#define DMA_CPU\t\t\t0x8000\n#define DMA_PER_OFFSET\t\t0xb000\n\n#define DMA_MEMDMA_DMEM (DMA_MEMDMA_OFFSET + DMA_DMEM_OFFSET)\n#define DMA_MEMDMA_IMEM (DMA_MEMDMA_OFFSET + DMA_IMEM_OFFSET)\n\n \n#define DMA_CPU_ID\t(DMA_MEMDMA_OFFSET + DMA_CPU + 0x0)\n#define DMA_CPU_VCR\t(DMA_MEMDMA_OFFSET + DMA_CPU + 0x4)\n#define DMA_CPU_RUN\t(DMA_MEMDMA_OFFSET + DMA_CPU + 0x8)\n#define DMA_CPU_CLOCKGATE\t(DMA_MEMDMA_OFFSET + DMA_CPU + 0xc)\n#define DMA_CPU_PC\t(DMA_MEMDMA_OFFSET + DMA_CPU + 0x20)\n\n \n#define DMA_PER_TPn_DREQ_MASK\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xd00)\n \n#define DMA_PER_TPn_DACK_SET\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xd80)\n#define DMA_PER_TPn_DREQ\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xe00)\n#define DMA_PER_TPn_DACK\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xe80)\n#define DMA_PER_DREQ_MODE\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xf80)\n#define DMA_PER_STBUS_SYNC\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xf88)\n#define DMA_PER_STBUS_ACCESS\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xf8c)\n#define DMA_PER_STBUS_ADDRESS\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xf90)\n#define DMA_PER_IDLE_INT\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xfa8)\n#define DMA_PER_PRIORITY\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xfac)\n#define DMA_PER_MAX_OPCODE\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xfb0)\n#define DMA_PER_MAX_CHUNK\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xfb4)\n#define DMA_PER_PAGE_SIZE\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xfbc)\n#define DMA_PER_MBOX_STATUS\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xfc0)\n#define DMA_PER_MBOX_SET\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xfc8)\n#define DMA_PER_MBOX_CLEAR\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xfd0)\n#define DMA_PER_MBOX_MASK\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xfd8)\n#define DMA_PER_INJECT_PKT_SRC\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xfe0)\n#define DMA_PER_INJECT_PKT_DEST\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xfe4)\n#define DMA_PER_INJECT_PKT_ADDR\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xfe8)\n#define DMA_PER_INJECT_PKT\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xfec)\n#define DMA_PER_PAT_PTR_INIT\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xff0)\n#define DMA_PER_PAT_PTR\t\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xff4)\n#define DMA_PER_SLEEP_MASK\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xff8)\n#define DMA_PER_SLEEP_COUNTER\t(DMA_MEMDMA_OFFSET + DMA_PER_OFFSET + 0xffc)\n \n\n \n#define DMA_FIRMWARE_VERSION\t(DMA_MEMDMA_OFFSET + DMA_DMEM_OFFSET + 0x0)\n#define DMA_PTRREC_BASE\t\t(DMA_MEMDMA_OFFSET + DMA_DMEM_OFFSET + 0x4)\n#define DMA_PTRREC_INPUT_OFFSET\t(DMA_MEMDMA_OFFSET + DMA_DMEM_OFFSET + 0x8)\n#define DMA_ERRREC_BASE\t\t(DMA_MEMDMA_OFFSET + DMA_DMEM_OFFSET + 0xc)\n#define DMA_ERROR_RECORD(n)\t((n*4) + DMA_ERRREC_BASE + 0x4)\n#define DMA_IDLE_REQ\t\t(DMA_MEMDMA_OFFSET + DMA_DMEM_OFFSET + 0x10)\n#define IDLEREQ\t\t\tBIT(31)\n\n#define DMA_FIRMWARE_CONFIG\t(DMA_MEMDMA_OFFSET + DMA_DMEM_OFFSET + 0x14)\n\n \n\n#define PIDF_OFFSET\t\t0x2800\n#define PIDF_BASE(n)\t\t((n*4) + PIDF_OFFSET)\n#define PIDF_LEAK_ENABLE\t(PIDF_OFFSET + 0x100)\n#define PIDF_LEAK_STATUS\t(PIDF_OFFSET + 0x108)\n#define PIDF_LEAK_COUNT_RESET\t(PIDF_OFFSET + 0x110)\n#define PIDF_LEAK_COUNTER\t(PIDF_OFFSET + 0x114)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}