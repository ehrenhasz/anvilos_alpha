{
  "module_name": "delta-debug.c",
  "hash_id": "78e0a6cb6f4c22a08fedaf3f866e01f0cc1c8ffe25a194ef099b3c3f99b5e5cd",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/platform/st/sti/delta/delta-debug.c",
  "human_readable_source": "\n \n\n#include \"delta.h\"\n#include \"delta-debug.h\"\n\nchar *delta_streaminfo_str(struct delta_streaminfo *s, char *str,\n\t\t\t   unsigned int len)\n{\n\tif (!s)\n\t\treturn NULL;\n\n\tsnprintf(str, len,\n\t\t \"%4.4s %dx%d %s %s dpb=%d %s %s %s%dx%d@(%d,%d) %s%d/%d\",\n\t\t (char *)&s->streamformat, s->width, s->height,\n\t\t s->profile, s->level, s->dpb,\n\t\t (s->field == V4L2_FIELD_NONE) ? \"progressive\" : \"interlaced\",\n\t\t s->other,\n\t\t s->flags & DELTA_STREAMINFO_FLAG_CROP ? \"crop=\" : \"\",\n\t\t s->crop.width, s->crop.height,\n\t\t s->crop.left, s->crop.top,\n\t\t s->flags & DELTA_STREAMINFO_FLAG_PIXELASPECT ? \"par=\" : \"\",\n\t\t s->pixelaspect.numerator,\n\t\t s->pixelaspect.denominator);\n\n\treturn str;\n}\n\nchar *delta_frameinfo_str(struct delta_frameinfo *f, char *str,\n\t\t\t  unsigned int len)\n{\n\tif (!f)\n\t\treturn NULL;\n\n\tsnprintf(str, len,\n\t\t \"%4.4s %dx%d aligned %dx%d %s %s%dx%d@(%d,%d) %s%d/%d\",\n\t\t (char *)&f->pixelformat, f->width, f->height,\n\t\t f->aligned_width, f->aligned_height,\n\t\t (f->field == V4L2_FIELD_NONE) ? \"progressive\" : \"interlaced\",\n\t\t f->flags & DELTA_STREAMINFO_FLAG_CROP ? \"crop=\" : \"\",\n\t\t f->crop.width, f->crop.height,\n\t\t f->crop.left, f->crop.top,\n\t\t f->flags & DELTA_STREAMINFO_FLAG_PIXELASPECT ? \"par=\" : \"\",\n\t\t f->pixelaspect.numerator,\n\t\t f->pixelaspect.denominator);\n\n\treturn str;\n}\n\nvoid delta_trace_summary(struct delta_ctx *ctx)\n{\n\tstruct delta_dev *delta = ctx->dev;\n\tstruct delta_streaminfo *s = &ctx->streaminfo;\n\tunsigned char str[100] = \"\";\n\n\tif (!(ctx->flags & DELTA_FLAG_STREAMINFO))\n\t\treturn;\n\n\tdev_dbg(delta->dev, \"%s %s, %d frames decoded, %d frames output, %d frames dropped, %d stream errors, %d decode errors\",\n\t\tctx->name,\n\t\tdelta_streaminfo_str(s, str, sizeof(str)),\n\t\tctx->decoded_frames,\n\t\tctx->output_frames,\n\t\tctx->dropped_frames,\n\t\tctx->stream_errors,\n\t\tctx->decode_errors);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}