{
  "module_name": "helpers.h",
  "hash_id": "c708246f0f9194fce3ea0de961feb404b4f0129985b52768bc8e0786ec7461dd",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/platform/qcom/venus/helpers.h",
  "human_readable_source": " \n \n#ifndef __VENUS_HELPERS_H__\n#define __VENUS_HELPERS_H__\n\n#include <media/videobuf2-v4l2.h>\n\nstruct venus_inst;\nstruct venus_core;\n\nbool venus_helper_check_codec(struct venus_inst *inst, u32 v4l2_pixfmt);\nstruct vb2_v4l2_buffer *venus_helper_find_buf(struct venus_inst *inst,\n\t\t\t\t\t      unsigned int type, u32 idx);\nvoid venus_helper_change_dpb_owner(struct venus_inst *inst,\n\t\t\t\t   struct vb2_v4l2_buffer *vbuf, unsigned int type,\n\t\t\t\t   unsigned int buf_type, u32 idx);\nvoid venus_helper_buffers_done(struct venus_inst *inst, unsigned int type,\n\t\t\t       enum vb2_buffer_state state);\nint venus_helper_vb2_buf_init(struct vb2_buffer *vb);\nint venus_helper_vb2_buf_prepare(struct vb2_buffer *vb);\nvoid venus_helper_vb2_buf_queue(struct vb2_buffer *vb);\nvoid venus_helper_vb2_stop_streaming(struct vb2_queue *q);\nint venus_helper_vb2_start_streaming(struct venus_inst *inst);\nvoid venus_helper_vb2_queue_error(struct venus_inst *inst);\nvoid venus_helper_m2m_device_run(void *priv);\nvoid venus_helper_m2m_job_abort(void *priv);\nint venus_helper_get_bufreq(struct venus_inst *inst, u32 type,\n\t\t\t    struct hfi_buffer_requirements *req);\nu32 venus_helper_get_framesz_raw(u32 hfi_fmt, u32 width, u32 height);\nu32 venus_helper_get_framesz(u32 v4l2_fmt, u32 width, u32 height);\nint venus_helper_set_input_resolution(struct venus_inst *inst,\n\t\t\t\t      unsigned int width, unsigned int height);\nint venus_helper_set_output_resolution(struct venus_inst *inst,\n\t\t\t\t       unsigned int width, unsigned int height,\n\t\t\t\t       u32 buftype);\nint venus_helper_set_work_mode(struct venus_inst *inst);\nint venus_helper_set_format_constraints(struct venus_inst *inst);\nint venus_helper_set_num_bufs(struct venus_inst *inst, unsigned int input_bufs,\n\t\t\t      unsigned int output_bufs,\n\t\t\t      unsigned int output2_bufs);\nint venus_helper_set_raw_format(struct venus_inst *inst, u32 hfi_format,\n\t\t\t\tu32 buftype);\nint venus_helper_set_color_format(struct venus_inst *inst, u32 fmt);\nint venus_helper_set_dyn_bufmode(struct venus_inst *inst);\nint venus_helper_set_bufsize(struct venus_inst *inst, u32 bufsize, u32 buftype);\nint venus_helper_set_multistream(struct venus_inst *inst, bool out_en,\n\t\t\t\t bool out2_en);\nunsigned int venus_helper_get_opb_size(struct venus_inst *inst);\nvoid venus_helper_acquire_buf_ref(struct vb2_v4l2_buffer *vbuf);\nvoid venus_helper_release_buf_ref(struct venus_inst *inst, unsigned int idx);\nvoid venus_helper_init_instance(struct venus_inst *inst);\nint venus_helper_session_init(struct venus_inst *inst);\nint venus_helper_get_out_fmts(struct venus_inst *inst, u32 fmt, u32 *out_fmt,\n\t\t\t      u32 *out2_fmt, bool ubwc);\nbool venus_helper_check_format(struct venus_inst *inst, u32 v4l2_pixfmt);\nint venus_helper_alloc_dpb_bufs(struct venus_inst *inst);\nint venus_helper_free_dpb_bufs(struct venus_inst *inst);\nint venus_helper_intbufs_alloc(struct venus_inst *inst);\nint venus_helper_intbufs_free(struct venus_inst *inst);\nint venus_helper_intbufs_realloc(struct venus_inst *inst);\nint venus_helper_queue_dpb_bufs(struct venus_inst *inst);\nint venus_helper_unregister_bufs(struct venus_inst *inst);\nint venus_helper_process_initial_cap_bufs(struct venus_inst *inst);\nint venus_helper_process_initial_out_bufs(struct venus_inst *inst);\nvoid venus_helper_get_ts_metadata(struct venus_inst *inst, u64 timestamp_us,\n\t\t\t\t  struct vb2_v4l2_buffer *vbuf);\nint venus_helper_get_profile_level(struct venus_inst *inst, u32 *profile, u32 *level);\nint venus_helper_set_profile_level(struct venus_inst *inst, u32 profile, u32 level);\nint venus_helper_set_stride(struct venus_inst *inst, unsigned int aligned_width,\n\t\t\t    unsigned int aligned_height);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}