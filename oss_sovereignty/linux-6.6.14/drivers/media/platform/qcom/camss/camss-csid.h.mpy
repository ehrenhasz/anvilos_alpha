{
  "module_name": "camss-csid.h",
  "hash_id": "7188fbfc861ba0d28eeb875a80935dc5064076777c09e38a26b02097360fdf7f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/platform/qcom/camss/camss-csid.h",
  "human_readable_source": " \n \n#ifndef QC_MSM_CAMSS_CSID_H\n#define QC_MSM_CAMSS_CSID_H\n\n#include <linux/clk.h>\n#include <linux/interrupt.h>\n#include <media/media-entity.h>\n#include <media/v4l2-ctrls.h>\n#include <media/v4l2-device.h>\n#include <media/v4l2-mediabus.h>\n#include <media/v4l2-subdev.h>\n\n#define MSM_CSID_PAD_SINK 0\n#define MSM_CSID_PAD_FIRST_SRC 1\n#define MSM_CSID_PADS_NUM 5\n\n#define MSM_CSID_PAD_SRC (MSM_CSID_PAD_FIRST_SRC)\n\n \n#define MSM_CSID_MAX_SRC_STREAMS\t4\n\n#define DATA_TYPE_EMBEDDED_DATA_8BIT\t0x12\n#define DATA_TYPE_YUV420_8BIT\t\t0x18\n#define DATA_TYPE_YUV420_10BIT\t\t0x19\n#define DATA_TYPE_YUV420_8BIT_LEGACY\t0x1a\n#define DATA_TYPE_YUV420_8BIT_SHIFTED\t0x1c  \n#define DATA_TYPE_YUV420_10BIT_SHIFTED\t0x1d  \n#define DATA_TYPE_YUV422_8BIT\t\t0x1e\n#define DATA_TYPE_YUV422_10BIT\t\t0x1f\n#define DATA_TYPE_RGB444\t\t0x20\n#define DATA_TYPE_RGB555\t\t0x21\n#define DATA_TYPE_RGB565\t\t0x22\n#define DATA_TYPE_RGB666\t\t0x23\n#define DATA_TYPE_RGB888\t\t0x24\n#define DATA_TYPE_RAW_24BIT\t\t0x27\n#define DATA_TYPE_RAW_6BIT\t\t0x28\n#define DATA_TYPE_RAW_7BIT\t\t0x29\n#define DATA_TYPE_RAW_8BIT\t\t0x2a\n#define DATA_TYPE_RAW_10BIT\t\t0x2b\n#define DATA_TYPE_RAW_12BIT\t\t0x2c\n#define DATA_TYPE_RAW_14BIT\t\t0x2d\n#define DATA_TYPE_RAW_16BIT\t\t0x2e\n#define DATA_TYPE_RAW_20BIT\t\t0x2f\n\n#define CSID_RESET_TIMEOUT_MS 500\n\nenum csid_testgen_mode {\n\tCSID_PAYLOAD_MODE_DISABLED = 0,\n\tCSID_PAYLOAD_MODE_INCREMENTING = 1,\n\tCSID_PAYLOAD_MODE_ALTERNATING_55_AA = 2,\n\tCSID_PAYLOAD_MODE_ALL_ZEROES = 3,\n\tCSID_PAYLOAD_MODE_ALL_ONES = 4,\n\tCSID_PAYLOAD_MODE_RANDOM = 5,\n\tCSID_PAYLOAD_MODE_USER_SPECIFIED = 6,\n\tCSID_PAYLOAD_MODE_NUM_SUPPORTED_GEN1 = 6,  \n\tCSID_PAYLOAD_MODE_COMPLEX_PATTERN = 7,\n\tCSID_PAYLOAD_MODE_COLOR_BOX = 8,\n\tCSID_PAYLOAD_MODE_COLOR_BARS = 9,\n\tCSID_PAYLOAD_MODE_NUM_SUPPORTED_GEN2 = 9,  \n};\n\nstruct csid_format {\n\tu32 code;\n\tu8 data_type;\n\tu8 decode_format;\n\tu8 bpp;\n\tu8 spp;  \n};\n\nstruct csid_testgen_config {\n\tenum csid_testgen_mode mode;\n\tconst char * const*modes;\n\tu8 nmodes;\n\tu8 enabled;\n};\n\nstruct csid_phy_config {\n\tu8 csiphy_id;\n\tu8 lane_cnt;\n\tu32 lane_assign;\n\tu32 en_vc;\n\tu8 need_vc_update;\n};\n\nstruct csid_device;\n\nstruct csid_hw_ops {\n\t \n\tvoid (*configure_stream)(struct csid_device *csid, u8 enable);\n\n\t \n\tint (*configure_testgen_pattern)(struct csid_device *csid, s32 val);\n\n\t \n\tu32 (*hw_version)(struct csid_device *csid);\n\n\t \n\tirqreturn_t (*isr)(int irq, void *dev);\n\n\t \n\tint (*reset)(struct csid_device *csid);\n\n\t \n\tu32 (*src_pad_code)(struct csid_device *csid, u32 sink_code,\n\t\t\t    unsigned int match_format_idx, u32 match_code);\n\n\t \n\tvoid (*subdev_init)(struct csid_device *csid);\n};\n\nstruct csid_device {\n\tstruct camss *camss;\n\tu8 id;\n\tstruct v4l2_subdev subdev;\n\tstruct media_pad pads[MSM_CSID_PADS_NUM];\n\tvoid __iomem *base;\n\tu32 irq;\n\tchar irq_name[30];\n\tstruct camss_clock *clock;\n\tint nclocks;\n\tstruct regulator_bulk_data *supplies;\n\tint num_supplies;\n\tstruct completion reset_complete;\n\tstruct csid_testgen_config testgen;\n\tstruct csid_phy_config phy;\n\tstruct v4l2_mbus_framefmt fmt[MSM_CSID_PADS_NUM];\n\tstruct v4l2_ctrl_handler ctrls;\n\tstruct v4l2_ctrl *testgen_mode;\n\tconst struct csid_format *formats;\n\tunsigned int nformats;\n\tconst struct csid_hw_ops *ops;\n};\n\nstruct resources;\n\n \nu32 csid_find_code(u32 *codes, unsigned int ncode,\n\t\t   unsigned int match_format_idx, u32 match_code);\n\n \nconst struct csid_format *csid_get_fmt_entry(const struct csid_format *formats,\n\t\t\t\t\t     unsigned int nformats,\n\t\t\t\t\t     u32 code);\n\nint msm_csid_subdev_init(struct camss *camss, struct csid_device *csid,\n\t\t\t const struct resources *res, u8 id);\n\nint msm_csid_register_entity(struct csid_device *csid,\n\t\t\t     struct v4l2_device *v4l2_dev);\n\nvoid msm_csid_unregister_entity(struct csid_device *csid);\n\nvoid msm_csid_get_csid_id(struct media_entity *entity, u8 *id);\n\nextern const char * const csid_testgen_modes[];\n\nextern const struct csid_hw_ops csid_ops_4_1;\nextern const struct csid_hw_ops csid_ops_4_7;\nextern const struct csid_hw_ops csid_ops_gen2;\n\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}