{
  "module_name": "mtk_vcodec_util.h",
  "hash_id": "82c3f1d4a8f5dadeef3b6e171ece4d41f7c966de528ec7f3c14bf1ea7c743e0a",
  "original_prompt": "Ingested from linux-6.6.14/drivers/media/platform/mediatek/vcodec/common/mtk_vcodec_util.h",
  "human_readable_source": " \n \n\n#ifndef _MTK_VCODEC_UTIL_H_\n#define _MTK_VCODEC_UTIL_H_\n\n#include <linux/types.h>\n#include <linux/dma-direction.h>\n\n#define MTK_DBG_VCODEC_STR \"[MTK_VCODEC]\"\n#define MTK_DBG_V4L2_STR \"[MTK_V4L2]\"\n\nstruct mtk_vcodec_mem {\n\tsize_t size;\n\tvoid *va;\n\tdma_addr_t dma_addr;\n};\n\nstruct mtk_vcodec_fb {\n\tsize_t size;\n\tdma_addr_t dma_addr;\n};\n\nstruct mtk_vcodec_dec_ctx;\nstruct mtk_vcodec_dec_dev;\n\n#undef pr_fmt\n#define pr_fmt(fmt) \"%s(),%d: \" fmt, __func__, __LINE__\n\n#define mtk_v4l2_err(plat_dev, fmt, args...)                            \\\n\tdev_err(&(plat_dev)->dev, \"[MTK_V4L2][ERROR] \" fmt \"\\n\", ##args)\n\n#define mtk_vcodec_err(inst_id, plat_dev, fmt, args...)                                 \\\n\tdev_err(&(plat_dev)->dev, \"[MTK_VCODEC][ERROR][%d]: \" fmt \"\\n\", inst_id, ##args)\n\n#if defined(CONFIG_DEBUG_FS)\nextern int mtk_v4l2_dbg_level;\nextern int mtk_vcodec_dbg;\n\n#define mtk_v4l2_debug(plat_dev, level, fmt, args...)                             \\\n\tdo {                                                                      \\\n\t\tif (mtk_v4l2_dbg_level >= (level))                                \\\n\t\t\tdev_dbg(&(plat_dev)->dev, \"[MTK_V4L2] %s, %d: \" fmt \"\\n\", \\\n\t\t\t\t __func__, __LINE__, ##args);                     \\\n\t} while (0)\n\n#define mtk_vcodec_debug(inst_id, plat_dev, fmt, args...)                               \\\n\tdo {                                                                            \\\n\t\tif (mtk_vcodec_dbg)                                                     \\\n\t\t\tdev_dbg(&(plat_dev)->dev, \"[MTK_VCODEC][%d]: %s, %d \" fmt \"\\n\", \\\n\t\t\t\tinst_id, __func__, __LINE__, ##args);                   \\\n\t} while (0)\n#else\n#define mtk_v4l2_debug(plat_dev, level, fmt, args...)              \\\n\tdev_dbg(&(plat_dev)->dev, \"[MTK_V4L2]: \" fmt \"\\n\", ##args)\n\n#define mtk_vcodec_debug(inst_id, plat_dev, fmt, args...)\t\t\t\\\n\tdev_dbg(&(plat_dev)->dev, \"[MTK_VCODEC][%d]: \" fmt \"\\n\", inst_id, ##args)\n#endif\n\nvoid __iomem *mtk_vcodec_get_reg_addr(void __iomem **reg_base, unsigned int reg_idx);\nint mtk_vcodec_write_vdecsys(struct mtk_vcodec_dec_ctx *ctx, unsigned int reg, unsigned int val);\nint mtk_vcodec_mem_alloc(void *priv, struct mtk_vcodec_mem *mem);\nvoid mtk_vcodec_mem_free(void *priv, struct mtk_vcodec_mem *mem);\nvoid mtk_vcodec_set_curr_ctx(struct mtk_vcodec_dec_dev *vdec_dev,\n\t\t\t     struct mtk_vcodec_dec_ctx *ctx, int hw_idx);\nstruct mtk_vcodec_dec_ctx *mtk_vcodec_get_curr_ctx(struct mtk_vcodec_dec_dev *vdec_dev,\n\t\t\t\t\t\t   unsigned int hw_idx);\nvoid *mtk_vcodec_get_hw_dev(struct mtk_vcodec_dec_dev *dev, int hw_idx);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}