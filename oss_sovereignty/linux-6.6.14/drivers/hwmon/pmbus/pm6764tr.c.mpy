{
  "module_name": "pm6764tr.c",
  "hash_id": "43515bea99a731657679544c2e46f8b8f5beb1dca398b76ee2d9f283f7721544",
  "original_prompt": "Ingested from linux-6.6.14/drivers/hwmon/pmbus/pm6764tr.c",
  "human_readable_source": "\n \n\n#include <linux/err.h>\n#include <linux/i2c.h>\n#include <linux/init.h>\n#include <linux/kernel.h>\n#include <linux/module.h>\n#include <linux/pmbus.h>\n#include \"pmbus.h\"\n\n#define PM6764TR_PMBUS_READ_VOUT\t0xD4\n\nstatic int pm6764tr_read_word_data(struct i2c_client *client, int page, int phase, int reg)\n{\n\tint ret;\n\n\tswitch (reg) {\n\tcase PMBUS_VIRT_READ_VMON:\n\t\tret = pmbus_read_word_data(client, page, phase, PM6764TR_PMBUS_READ_VOUT);\n\t\tbreak;\n\tdefault:\n\t\tret = -ENODATA;\n\t\tbreak;\n\t}\n\treturn ret;\n}\n\nstatic struct pmbus_driver_info pm6764tr_info = {\n\t.pages = 1,\n\t.format[PSC_VOLTAGE_IN] = linear,\n\t.format[PSC_VOLTAGE_OUT] = vid,\n\t.format[PSC_TEMPERATURE] = linear,\n\t.format[PSC_CURRENT_OUT] = linear,\n\t.format[PSC_POWER] = linear,\n\t.func[0] = PMBUS_HAVE_VIN | PMBUS_HAVE_IIN |  PMBUS_HAVE_PIN |\n\t    PMBUS_HAVE_IOUT | PMBUS_HAVE_POUT | PMBUS_HAVE_VMON |\n\t\tPMBUS_HAVE_STATUS_IOUT | PMBUS_HAVE_STATUS_VOUT |\n\t\tPMBUS_HAVE_TEMP | PMBUS_HAVE_STATUS_TEMP,\n\t.read_word_data = pm6764tr_read_word_data,\n};\n\nstatic int pm6764tr_probe(struct i2c_client *client)\n{\n\treturn pmbus_do_probe(client, &pm6764tr_info);\n}\n\nstatic const struct i2c_device_id pm6764tr_id[] = {\n\t{\"pm6764tr\", 0},\n\t{}\n};\nMODULE_DEVICE_TABLE(i2c, pm6764tr_id);\n\nstatic const struct of_device_id __maybe_unused pm6764tr_of_match[] = {\n\t{.compatible = \"st,pm6764tr\"},\n\t{}\n};\n\n \nstatic struct i2c_driver pm6764tr_driver = {\n\t.driver = {\n\t\t   .name = \"pm6764tr\",\n\t\t   .of_match_table = of_match_ptr(pm6764tr_of_match),\n\t\t   },\n\t.probe = pm6764tr_probe,\n\t.id_table = pm6764tr_id,\n};\n\nmodule_i2c_driver(pm6764tr_driver);\n\nMODULE_AUTHOR(\"Charles Hsu\");\nMODULE_DESCRIPTION(\"PMBus driver for  ST PM6764TR\");\nMODULE_LICENSE(\"GPL\");\nMODULE_IMPORT_NS(PMBUS);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}