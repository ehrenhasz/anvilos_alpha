{
  "module_name": "lm25066.c",
  "hash_id": "eb7252e0d798526c8805d711f6ce4d97901fc841d87bec6d7128e65c776c6df4",
  "original_prompt": "Ingested from linux-6.6.14/drivers/hwmon/pmbus/lm25066.c",
  "human_readable_source": "\n \n\n#include <linux/bitops.h>\n#include <linux/kernel.h>\n#include <linux/module.h>\n#include <linux/init.h>\n#include <linux/err.h>\n#include <linux/slab.h>\n#include <linux/i2c.h>\n#include <linux/log2.h>\n#include <linux/of_device.h>\n#include \"pmbus.h\"\n\nenum chips { lm25056, lm25066, lm5064, lm5066, lm5066i };\n\n#define LM25066_READ_VAUX\t\t0xd0\n#define LM25066_MFR_READ_IIN\t\t0xd1\n#define LM25066_MFR_READ_PIN\t\t0xd2\n#define LM25066_MFR_IIN_OC_WARN_LIMIT\t0xd3\n#define LM25066_MFR_PIN_OP_WARN_LIMIT\t0xd4\n#define LM25066_READ_PIN_PEAK\t\t0xd5\n#define LM25066_CLEAR_PIN_PEAK\t\t0xd6\n#define LM25066_DEVICE_SETUP\t\t0xd9\n#define LM25066_READ_AVG_VIN\t\t0xdc\n#define LM25066_SAMPLES_FOR_AVG\t\t0xdb\n#define LM25066_READ_AVG_VOUT\t\t0xdd\n#define LM25066_READ_AVG_IIN\t\t0xde\n#define LM25066_READ_AVG_PIN\t\t0xdf\n\n#define LM25066_DEV_SETUP_CL\t\tBIT(4)\t \n\n#define LM25066_SAMPLES_FOR_AVG_MAX\t4096\n\n \n\n#define LM25056_VAUX_OV_WARN_LIMIT\t0xe3\n#define LM25056_VAUX_UV_WARN_LIMIT\t0xe4\n\n#define LM25056_MFR_STS_VAUX_OV_WARN\tBIT(1)\n#define LM25056_MFR_STS_VAUX_UV_WARN\tBIT(0)\n\nstruct __coeff {\n\tshort m, b, R;\n};\n\n#define PSC_CURRENT_IN_L\t(PSC_NUM_CLASSES)\n#define PSC_POWER_L\t\t(PSC_NUM_CLASSES + 1)\n\nstatic const struct __coeff lm25066_coeff[][PSC_NUM_CLASSES + 2] = {\n\t[lm25056] = {\n\t\t[PSC_VOLTAGE_IN] = {\n\t\t\t.m = 16296,\n\t\t\t.b = 1343,\n\t\t\t.R = -2,\n\t\t},\n\t\t[PSC_CURRENT_IN] = {\n\t\t\t.m = 13797,\n\t\t\t.b = -1833,\n\t\t\t.R = -2,\n\t\t},\n\t\t[PSC_CURRENT_IN_L] = {\n\t\t\t.m = 6726,\n\t\t\t.b = -537,\n\t\t\t.R = -2,\n\t\t},\n\t\t[PSC_POWER] = {\n\t\t\t.m = 5501,\n\t\t\t.b = -2908,\n\t\t\t.R = -3,\n\t\t},\n\t\t[PSC_POWER_L] = {\n\t\t\t.m = 26882,\n\t\t\t.b = -5646,\n\t\t\t.R = -4,\n\t\t},\n\t\t[PSC_TEMPERATURE] = {\n\t\t\t.m = 1580,\n\t\t\t.b = -14500,\n\t\t\t.R = -2,\n\t\t},\n\t},\n\t[lm25066] = {\n\t\t[PSC_VOLTAGE_IN] = {\n\t\t\t.m = 22070,\n\t\t\t.b = -1800,\n\t\t\t.R = -2,\n\t\t},\n\t\t[PSC_VOLTAGE_OUT] = {\n\t\t\t.m = 22070,\n\t\t\t.b = -1800,\n\t\t\t.R = -2,\n\t\t},\n\t\t[PSC_CURRENT_IN] = {\n\t\t\t.m = 13661,\n\t\t\t.b = -5200,\n\t\t\t.R = -2,\n\t\t},\n\t\t[PSC_CURRENT_IN_L] = {\n\t\t\t.m = 6854,\n\t\t\t.b = -3100,\n\t\t\t.R = -2,\n\t\t},\n\t\t[PSC_POWER] = {\n\t\t\t.m = 736,\n\t\t\t.b = -3300,\n\t\t\t.R = -2,\n\t\t},\n\t\t[PSC_POWER_L] = {\n\t\t\t.m = 369,\n\t\t\t.b = -1900,\n\t\t\t.R = -2,\n\t\t},\n\t\t[PSC_TEMPERATURE] = {\n\t\t\t.m = 16,\n\t\t},\n\t},\n\t[lm5064] = {\n\t\t[PSC_VOLTAGE_IN] = {\n\t\t\t.m = 4611,\n\t\t\t.b = -642,\n\t\t\t.R = -2,\n\t\t},\n\t\t[PSC_VOLTAGE_OUT] = {\n\t\t\t.m = 4621,\n\t\t\t.b = 423,\n\t\t\t.R = -2,\n\t\t},\n\t\t[PSC_CURRENT_IN] = {\n\t\t\t.m = 10742,\n\t\t\t.b = 1552,\n\t\t\t.R = -2,\n\t\t},\n\t\t[PSC_CURRENT_IN_L] = {\n\t\t\t.m = 5456,\n\t\t\t.b = 2118,\n\t\t\t.R = -2,\n\t\t},\n\t\t[PSC_POWER] = {\n\t\t\t.m = 1204,\n\t\t\t.b = 8524,\n\t\t\t.R = -3,\n\t\t},\n\t\t[PSC_POWER_L] = {\n\t\t\t.m = 612,\n\t\t\t.b = 11202,\n\t\t\t.R = -3,\n\t\t},\n\t\t[PSC_TEMPERATURE] = {\n\t\t\t.m = 16,\n\t\t},\n\t},\n\t[lm5066] = {\n\t\t[PSC_VOLTAGE_IN] = {\n\t\t\t.m = 4587,\n\t\t\t.b = -1200,\n\t\t\t.R = -2,\n\t\t},\n\t\t[PSC_VOLTAGE_OUT] = {\n\t\t\t.m = 4587,\n\t\t\t.b = -2400,\n\t\t\t.R = -2,\n\t\t},\n\t\t[PSC_CURRENT_IN] = {\n\t\t\t.m = 10753,\n\t\t\t.b = -1200,\n\t\t\t.R = -2,\n\t\t},\n\t\t[PSC_CURRENT_IN_L] = {\n\t\t\t.m = 5405,\n\t\t\t.b = -600,\n\t\t\t.R = -2,\n\t\t},\n\t\t[PSC_POWER] = {\n\t\t\t.m = 1204,\n\t\t\t.b = -6000,\n\t\t\t.R = -3,\n\t\t},\n\t\t[PSC_POWER_L] = {\n\t\t\t.m = 605,\n\t\t\t.b = -8000,\n\t\t\t.R = -3,\n\t\t},\n\t\t[PSC_TEMPERATURE] = {\n\t\t\t.m = 16,\n\t\t},\n\t},\n\t[lm5066i] = {\n\t\t[PSC_VOLTAGE_IN] = {\n\t\t\t.m = 4617,\n\t\t\t.b = -140,\n\t\t\t.R = -2,\n\t\t},\n\t\t[PSC_VOLTAGE_OUT] = {\n\t\t\t.m = 4602,\n\t\t\t.b = 500,\n\t\t\t.R = -2,\n\t\t},\n\t\t[PSC_CURRENT_IN] = {\n\t\t\t.m = 15076,\n\t\t\t.b = -504,\n\t\t\t.R = -2,\n\t\t},\n\t\t[PSC_CURRENT_IN_L] = {\n\t\t\t.m = 7645,\n\t\t\t.b = 100,\n\t\t\t.R = -2,\n\t\t},\n\t\t[PSC_POWER] = {\n\t\t\t.m = 1701,\n\t\t\t.b = -4000,\n\t\t\t.R = -3,\n\t\t},\n\t\t[PSC_POWER_L] = {\n\t\t\t.m = 861,\n\t\t\t.b = -965,\n\t\t\t.R = -3,\n\t\t},\n\t\t[PSC_TEMPERATURE] = {\n\t\t\t.m = 16,\n\t\t},\n\t},\n};\n\nstruct lm25066_data {\n\tint id;\n\tu16 rlimit;\t\t\t \n\tstruct pmbus_driver_info info;\n};\n\n#define to_lm25066_data(x)  container_of(x, struct lm25066_data, info)\n\nstatic int lm25066_read_word_data(struct i2c_client *client, int page,\n\t\t\t\t  int phase, int reg)\n{\n\tconst struct pmbus_driver_info *info = pmbus_get_driver_info(client);\n\tconst struct lm25066_data *data = to_lm25066_data(info);\n\tint ret;\n\n\tswitch (reg) {\n\tcase PMBUS_VIRT_READ_VMON:\n\t\tret = pmbus_read_word_data(client, 0, 0xff, LM25066_READ_VAUX);\n\t\tif (ret < 0)\n\t\t\tbreak;\n\t\t \n\t\tswitch (data->id) {\n\t\tcase lm25056:\n\t\t\t \n\t\t\tret = DIV_ROUND_CLOSEST(ret * 293, 6140);\n\t\t\tbreak;\n\t\tcase lm25066:\n\t\t\t \n\t\t\tret = DIV_ROUND_CLOSEST(ret * 2832, 45400);\n\t\t\tbreak;\n\t\tcase lm5064:\n\t\t\t \n\t\t\tret = DIV_ROUND_CLOSEST(ret * 70, 453);\n\t\t\tbreak;\n\t\tcase lm5066:\n\t\tcase lm5066i:\n\t\t\t \n\t\t\tret = DIV_ROUND_CLOSEST(ret * 725, 2180);\n\t\t\tbreak;\n\t\t}\n\t\tbreak;\n\tcase PMBUS_READ_IIN:\n\t\tret = pmbus_read_word_data(client, 0, 0xff,\n\t\t\t\t\t   LM25066_MFR_READ_IIN);\n\t\tbreak;\n\tcase PMBUS_READ_PIN:\n\t\tret = pmbus_read_word_data(client, 0, 0xff,\n\t\t\t\t\t   LM25066_MFR_READ_PIN);\n\t\tbreak;\n\tcase PMBUS_IIN_OC_WARN_LIMIT:\n\t\tret = pmbus_read_word_data(client, 0, 0xff,\n\t\t\t\t\t   LM25066_MFR_IIN_OC_WARN_LIMIT);\n\t\tbreak;\n\tcase PMBUS_PIN_OP_WARN_LIMIT:\n\t\tret = pmbus_read_word_data(client, 0, 0xff,\n\t\t\t\t\t   LM25066_MFR_PIN_OP_WARN_LIMIT);\n\t\tbreak;\n\tcase PMBUS_VIRT_READ_VIN_AVG:\n\t\tret = pmbus_read_word_data(client, 0, 0xff,\n\t\t\t\t\t   LM25066_READ_AVG_VIN);\n\t\tbreak;\n\tcase PMBUS_VIRT_READ_VOUT_AVG:\n\t\tret = pmbus_read_word_data(client, 0, 0xff,\n\t\t\t\t\t   LM25066_READ_AVG_VOUT);\n\t\tbreak;\n\tcase PMBUS_VIRT_READ_IIN_AVG:\n\t\tret = pmbus_read_word_data(client, 0, 0xff,\n\t\t\t\t\t   LM25066_READ_AVG_IIN);\n\t\tbreak;\n\tcase PMBUS_VIRT_READ_PIN_AVG:\n\t\tret = pmbus_read_word_data(client, 0, 0xff,\n\t\t\t\t\t   LM25066_READ_AVG_PIN);\n\t\tbreak;\n\tcase PMBUS_VIRT_READ_PIN_MAX:\n\t\tret = pmbus_read_word_data(client, 0, 0xff,\n\t\t\t\t\t   LM25066_READ_PIN_PEAK);\n\t\tbreak;\n\tcase PMBUS_VIRT_RESET_PIN_HISTORY:\n\t\tret = 0;\n\t\tbreak;\n\tcase PMBUS_VIRT_SAMPLES:\n\t\tret = pmbus_read_byte_data(client, 0, LM25066_SAMPLES_FOR_AVG);\n\t\tif (ret < 0)\n\t\t\tbreak;\n\t\tret = 1 << ret;\n\t\tbreak;\n\tdefault:\n\t\tret = -ENODATA;\n\t\tbreak;\n\t}\n\treturn ret;\n}\n\nstatic int lm25056_read_word_data(struct i2c_client *client, int page,\n\t\t\t\t  int phase, int reg)\n{\n\tint ret;\n\n\tswitch (reg) {\n\tcase PMBUS_VIRT_VMON_UV_WARN_LIMIT:\n\t\tret = pmbus_read_word_data(client, 0, 0xff,\n\t\t\t\t\t   LM25056_VAUX_UV_WARN_LIMIT);\n\t\tif (ret < 0)\n\t\t\tbreak;\n\t\t \n\t\tret = DIV_ROUND_CLOSEST(ret * 293, 6140);\n\t\tbreak;\n\tcase PMBUS_VIRT_VMON_OV_WARN_LIMIT:\n\t\tret = pmbus_read_word_data(client, 0, 0xff,\n\t\t\t\t\t   LM25056_VAUX_OV_WARN_LIMIT);\n\t\tif (ret < 0)\n\t\t\tbreak;\n\t\t \n\t\tret = DIV_ROUND_CLOSEST(ret * 293, 6140);\n\t\tbreak;\n\tdefault:\n\t\tret = lm25066_read_word_data(client, page, phase, reg);\n\t\tbreak;\n\t}\n\treturn ret;\n}\n\nstatic int lm25056_read_byte_data(struct i2c_client *client, int page, int reg)\n{\n\tint ret, s;\n\n\tswitch (reg) {\n\tcase PMBUS_VIRT_STATUS_VMON:\n\t\tret = pmbus_read_byte_data(client, 0,\n\t\t\t\t\t   PMBUS_STATUS_MFR_SPECIFIC);\n\t\tif (ret < 0)\n\t\t\tbreak;\n\t\ts = 0;\n\t\tif (ret & LM25056_MFR_STS_VAUX_UV_WARN)\n\t\t\ts |= PB_VOLTAGE_UV_WARNING;\n\t\tif (ret & LM25056_MFR_STS_VAUX_OV_WARN)\n\t\t\ts |= PB_VOLTAGE_OV_WARNING;\n\t\tret = s;\n\t\tbreak;\n\tdefault:\n\t\tret = -ENODATA;\n\t\tbreak;\n\t}\n\treturn ret;\n}\n\nstatic int lm25066_write_word_data(struct i2c_client *client, int page, int reg,\n\t\t\t\t   u16 word)\n{\n\tconst struct pmbus_driver_info *info = pmbus_get_driver_info(client);\n\tconst struct lm25066_data *data = to_lm25066_data(info);\n\tint ret;\n\n\tswitch (reg) {\n\tcase PMBUS_POUT_OP_FAULT_LIMIT:\n\tcase PMBUS_POUT_OP_WARN_LIMIT:\n\tcase PMBUS_VOUT_UV_WARN_LIMIT:\n\tcase PMBUS_OT_FAULT_LIMIT:\n\tcase PMBUS_OT_WARN_LIMIT:\n\tcase PMBUS_IIN_OC_FAULT_LIMIT:\n\tcase PMBUS_VIN_UV_WARN_LIMIT:\n\tcase PMBUS_VIN_UV_FAULT_LIMIT:\n\tcase PMBUS_VIN_OV_FAULT_LIMIT:\n\tcase PMBUS_VIN_OV_WARN_LIMIT:\n\t\tword = ((s16)word < 0) ? 0 : clamp_val(word, 0, data->rlimit);\n\t\tret = pmbus_write_word_data(client, 0, reg, word);\n\t\tbreak;\n\tcase PMBUS_IIN_OC_WARN_LIMIT:\n\t\tword = ((s16)word < 0) ? 0 : clamp_val(word, 0, data->rlimit);\n\t\tret = pmbus_write_word_data(client, 0,\n\t\t\t\t\t    LM25066_MFR_IIN_OC_WARN_LIMIT,\n\t\t\t\t\t    word);\n\t\tbreak;\n\tcase PMBUS_PIN_OP_WARN_LIMIT:\n\t\tword = ((s16)word < 0) ? 0 : clamp_val(word, 0, data->rlimit);\n\t\tret = pmbus_write_word_data(client, 0,\n\t\t\t\t\t    LM25066_MFR_PIN_OP_WARN_LIMIT,\n\t\t\t\t\t    word);\n\t\tbreak;\n\tcase PMBUS_VIRT_VMON_UV_WARN_LIMIT:\n\t\t \n\t\tword = DIV_ROUND_CLOSEST((int)word * 6140, 293);\n\t\tword = ((s16)word < 0) ? 0 : clamp_val(word, 0, data->rlimit);\n\t\tret = pmbus_write_word_data(client, 0,\n\t\t\t\t\t    LM25056_VAUX_UV_WARN_LIMIT, word);\n\t\tbreak;\n\tcase PMBUS_VIRT_VMON_OV_WARN_LIMIT:\n\t\t \n\t\tword = DIV_ROUND_CLOSEST((int)word * 6140, 293);\n\t\tword = ((s16)word < 0) ? 0 : clamp_val(word, 0, data->rlimit);\n\t\tret = pmbus_write_word_data(client, 0,\n\t\t\t\t\t    LM25056_VAUX_OV_WARN_LIMIT, word);\n\t\tbreak;\n\tcase PMBUS_VIRT_RESET_PIN_HISTORY:\n\t\tret = pmbus_write_byte(client, 0, LM25066_CLEAR_PIN_PEAK);\n\t\tbreak;\n\tcase PMBUS_VIRT_SAMPLES:\n\t\tword = clamp_val(word, 1, LM25066_SAMPLES_FOR_AVG_MAX);\n\t\tret = pmbus_write_byte_data(client, 0, LM25066_SAMPLES_FOR_AVG,\n\t\t\t\t\t    ilog2(word));\n\t\tbreak;\n\tdefault:\n\t\tret = -ENODATA;\n\t\tbreak;\n\t}\n\treturn ret;\n}\n\n#if IS_ENABLED(CONFIG_SENSORS_LM25066_REGULATOR)\nstatic const struct regulator_desc lm25066_reg_desc[] = {\n\tPMBUS_REGULATOR(\"vout\", 0),\n};\n#endif\n\nstatic const struct i2c_device_id lm25066_id[] = {\n\t{\"lm25056\", lm25056},\n\t{\"lm25066\", lm25066},\n\t{\"lm5064\", lm5064},\n\t{\"lm5066\", lm5066},\n\t{\"lm5066i\", lm5066i},\n\t{ }\n};\nMODULE_DEVICE_TABLE(i2c, lm25066_id);\n\nstatic const struct of_device_id __maybe_unused lm25066_of_match[] = {\n\t{ .compatible = \"ti,lm25056\", .data = (void *)lm25056, },\n\t{ .compatible = \"ti,lm25066\", .data = (void *)lm25066, },\n\t{ .compatible = \"ti,lm5064\",  .data = (void *)lm5064,  },\n\t{ .compatible = \"ti,lm5066\",  .data = (void *)lm5066,  },\n\t{ .compatible = \"ti,lm5066i\", .data = (void *)lm5066i, },\n\t{ },\n};\nMODULE_DEVICE_TABLE(of, lm25066_of_match);\n\nstatic int lm25066_probe(struct i2c_client *client)\n{\n\tint config;\n\tu32 shunt;\n\tstruct lm25066_data *data;\n\tstruct pmbus_driver_info *info;\n\tconst struct __coeff *coeff;\n\tconst struct of_device_id *of_id;\n\tconst struct i2c_device_id *i2c_id;\n\n\tif (!i2c_check_functionality(client->adapter,\n\t\t\t\t     I2C_FUNC_SMBUS_READ_BYTE_DATA))\n\t\treturn -ENODEV;\n\n\tdata = devm_kzalloc(&client->dev, sizeof(struct lm25066_data),\n\t\t\t    GFP_KERNEL);\n\tif (!data)\n\t\treturn -ENOMEM;\n\n\tconfig = i2c_smbus_read_byte_data(client, LM25066_DEVICE_SETUP);\n\tif (config < 0)\n\t\treturn config;\n\n\ti2c_id = i2c_match_id(lm25066_id, client);\n\n\tof_id = of_match_device(lm25066_of_match, &client->dev);\n\tif (of_id && (unsigned long)of_id->data != i2c_id->driver_data)\n\t\tdev_notice(&client->dev, \"Device mismatch: %s in device tree, %s detected\\n\",\n\t\t\t   of_id->name, i2c_id->name);\n\n\tdata->id = i2c_id->driver_data;\n\tinfo = &data->info;\n\n\tinfo->pages = 1;\n\tinfo->format[PSC_VOLTAGE_IN] = direct;\n\tinfo->format[PSC_VOLTAGE_OUT] = direct;\n\tinfo->format[PSC_CURRENT_IN] = direct;\n\tinfo->format[PSC_TEMPERATURE] = direct;\n\tinfo->format[PSC_POWER] = direct;\n\n\tinfo->func[0] = PMBUS_HAVE_VIN | PMBUS_HAVE_VMON\n\t  | PMBUS_HAVE_PIN | PMBUS_HAVE_IIN | PMBUS_HAVE_STATUS_INPUT\n\t  | PMBUS_HAVE_TEMP | PMBUS_HAVE_STATUS_TEMP | PMBUS_HAVE_SAMPLES;\n\n\tif (data->id == lm25056) {\n\t\tinfo->func[0] |= PMBUS_HAVE_STATUS_VMON;\n\t\tinfo->read_word_data = lm25056_read_word_data;\n\t\tinfo->read_byte_data = lm25056_read_byte_data;\n\t\tdata->rlimit = 0x0fff;\n\t} else {\n\t\tinfo->func[0] |= PMBUS_HAVE_VOUT | PMBUS_HAVE_STATUS_VOUT;\n\t\tinfo->read_word_data = lm25066_read_word_data;\n\t\tdata->rlimit = 0x0fff;\n\t}\n\tinfo->write_word_data = lm25066_write_word_data;\n\n\tcoeff = &lm25066_coeff[data->id][0];\n\tinfo->m[PSC_TEMPERATURE] = coeff[PSC_TEMPERATURE].m;\n\tinfo->b[PSC_TEMPERATURE] = coeff[PSC_TEMPERATURE].b;\n\tinfo->R[PSC_TEMPERATURE] = coeff[PSC_TEMPERATURE].R;\n\tinfo->m[PSC_VOLTAGE_IN] = coeff[PSC_VOLTAGE_IN].m;\n\tinfo->b[PSC_VOLTAGE_IN] = coeff[PSC_VOLTAGE_IN].b;\n\tinfo->R[PSC_VOLTAGE_IN] = coeff[PSC_VOLTAGE_IN].R;\n\tinfo->m[PSC_VOLTAGE_OUT] = coeff[PSC_VOLTAGE_OUT].m;\n\tinfo->b[PSC_VOLTAGE_OUT] = coeff[PSC_VOLTAGE_OUT].b;\n\tinfo->R[PSC_VOLTAGE_OUT] = coeff[PSC_VOLTAGE_OUT].R;\n\tinfo->R[PSC_CURRENT_IN] = coeff[PSC_CURRENT_IN].R;\n\tinfo->R[PSC_POWER] = coeff[PSC_POWER].R;\n\tif (config & LM25066_DEV_SETUP_CL) {\n\t\tinfo->m[PSC_CURRENT_IN] = coeff[PSC_CURRENT_IN_L].m;\n\t\tinfo->b[PSC_CURRENT_IN] = coeff[PSC_CURRENT_IN_L].b;\n\t\tinfo->m[PSC_POWER] = coeff[PSC_POWER_L].m;\n\t\tinfo->b[PSC_POWER] = coeff[PSC_POWER_L].b;\n\t} else {\n\t\tinfo->m[PSC_CURRENT_IN] = coeff[PSC_CURRENT_IN].m;\n\t\tinfo->b[PSC_CURRENT_IN] = coeff[PSC_CURRENT_IN].b;\n\t\tinfo->m[PSC_POWER] = coeff[PSC_POWER].m;\n\t\tinfo->b[PSC_POWER] = coeff[PSC_POWER].b;\n\t}\n\n\t \n\tif (of_property_read_u32(client->dev.of_node, \"shunt-resistor-micro-ohms\", &shunt))\n\t\tshunt = 1000;\n\n\tinfo->m[PSC_CURRENT_IN] = info->m[PSC_CURRENT_IN] * shunt / 1000;\n\tinfo->m[PSC_POWER] = info->m[PSC_POWER] * shunt / 1000;\n\n#if IS_ENABLED(CONFIG_SENSORS_LM25066_REGULATOR)\n\t \n\tif (data->id != lm25056) {\n\t\tinfo->num_regulators = ARRAY_SIZE(lm25066_reg_desc);\n\t\tinfo->reg_desc = lm25066_reg_desc;\n\t}\n#endif\n\n\treturn pmbus_do_probe(client, info);\n}\n\n \nstatic struct i2c_driver lm25066_driver = {\n\t.driver = {\n\t\t   .name = \"lm25066\",\n\t\t   .of_match_table = of_match_ptr(lm25066_of_match),\n\t},\n\t.probe = lm25066_probe,\n\t.id_table = lm25066_id,\n};\n\nmodule_i2c_driver(lm25066_driver);\n\nMODULE_AUTHOR(\"Guenter Roeck\");\nMODULE_DESCRIPTION(\"PMBus driver for LM25066 and compatible chips\");\nMODULE_LICENSE(\"GPL\");\nMODULE_IMPORT_NS(PMBUS);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}