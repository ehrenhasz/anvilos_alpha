{
  "module_name": "ltc2947-spi.c",
  "hash_id": "c34dc9d0cabfc612c5b5da451a92faacaf2e4a983a0b16110aea656b2f7f3770",
  "original_prompt": "Ingested from linux-6.6.14/drivers/hwmon/ltc2947-spi.c",
  "human_readable_source": "\n \n#include <linux/module.h>\n#include <linux/of.h>\n#include <linux/regmap.h>\n#include <linux/spi/spi.h>\n\n#include \"ltc2947.h\"\n\nstatic const struct regmap_config ltc2947_regmap_config = {\n\t.reg_bits = 16,\n\t.val_bits = 8,\n\t.read_flag_mask = BIT(0),\n};\n\nstatic int ltc2947_probe(struct spi_device *spi)\n{\n\tstruct regmap *map;\n\n\tmap = devm_regmap_init_spi(spi, &ltc2947_regmap_config);\n\tif (IS_ERR(map))\n\t\treturn PTR_ERR(map);\n\n\treturn ltc2947_core_probe(map, spi_get_device_id(spi)->name);\n}\n\nstatic const struct spi_device_id ltc2947_id[] = {\n\t{\"ltc2947\", 0},\n\t{}\n};\nMODULE_DEVICE_TABLE(spi, ltc2947_id);\n\nstatic struct spi_driver ltc2947_driver = {\n\t.driver = {\n\t\t.name = \"ltc2947\",\n\t\t.of_match_table = ltc2947_of_match,\n\t\t.pm = pm_sleep_ptr(&ltc2947_pm_ops),\n\t},\n\t.probe = ltc2947_probe,\n\t.id_table = ltc2947_id,\n};\nmodule_spi_driver(ltc2947_driver);\n\nMODULE_AUTHOR(\"Nuno Sa <nuno.sa@analog.com>\");\nMODULE_DESCRIPTION(\"LTC2947 SPI power and energy monitor driver\");\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}