{
  "module_name": "omap_ssi.h",
  "hash_id": "8190b68c86bc18e80eb8431c7a981a3cfa86344d68bf63c3d3826a436f8b6c52",
  "original_prompt": "Ingested from linux-6.6.14/drivers/hsi/controllers/omap_ssi.h",
  "human_readable_source": " \n \n\n#ifndef __LINUX_HSI_OMAP_SSI_H__\n#define __LINUX_HSI_OMAP_SSI_H__\n\n#include <linux/device.h>\n#include <linux/module.h>\n#include <linux/platform_device.h>\n#include <linux/hsi/hsi.h>\n#include <linux/gpio/consumer.h>\n#include <linux/interrupt.h>\n#include <linux/io.h>\n\n#define SSI_MAX_CHANNELS\t8\n#define SSI_MAX_GDD_LCH\t\t8\n#define SSI_BYTES_TO_FRAMES(x) ((((x) - 1) >> 2) + 1)\n\n#define SSI_WAKE_EN 0\n\n \nstruct omap_ssm_ctx {\n\tu32\tmode;\n\tu32\tchannels;\n\tu32\tframe_size;\n\tunion\t{\n\t\t\tu32\ttimeout;  \n\t\t\tstruct\t{\n\t\t\t\t\tu32\tarb_mode;\n\t\t\t\t\tu32\tdivisor;\n\t\t\t};  \n\t};\n};\n\n \nstruct omap_ssi_port {\n\tstruct device\t\t*dev;\n\tstruct device           *pdev;\n\tdma_addr_t\t\tsst_dma;\n\tdma_addr_t\t\tssr_dma;\n\tvoid __iomem\t\t*sst_base;\n\tvoid __iomem\t\t*ssr_base;\n\tspinlock_t\t\twk_lock;\n\tspinlock_t\t\tlock;\n\tunsigned int\t\tchannels;\n\tstruct list_head\ttxqueue[SSI_MAX_CHANNELS];\n\tstruct list_head\trxqueue[SSI_MAX_CHANNELS];\n\tstruct list_head\tbrkqueue;\n\tstruct list_head\terrqueue;\n\tstruct delayed_work\terrqueue_work;\n\tunsigned int\t\tirq;\n\tint\t\t\twake_irq;\n\tstruct gpio_desc\t*wake_gpio;\n\tbool\t\t\twktest:1;  \n\tunsigned long\t\tflags;\n\tunsigned int\t\twk_refcount;\n\tstruct work_struct\twork;\n\t \n\tu32\t\t\tsys_mpu_enable;  \n\tstruct omap_ssm_ctx\tsst;\n\tstruct omap_ssm_ctx\tssr;\n\tu32\t\t\tloss_count;\n\tu32\t\t\tport_id;\n#ifdef CONFIG_DEBUG_FS\n\tstruct dentry *dir;\n#endif\n};\n\n \nstruct gdd_trn {\n\tstruct hsi_msg\t\t*msg;\n\tstruct scatterlist\t*sg;\n};\n\n \nstruct omap_ssi_controller {\n\tstruct device\t\t*dev;\n\tvoid __iomem\t\t*sys;\n\tvoid __iomem\t\t*gdd;\n\tstruct clk\t\t*fck;\n\tunsigned int\t\tgdd_irq;\n\tstruct tasklet_struct\tgdd_tasklet;\n\tstruct gdd_trn\t\tgdd_trn[SSI_MAX_GDD_LCH];\n\tspinlock_t\t\tlock;\n\tstruct notifier_block\tfck_nb;\n\tunsigned long\t\tfck_rate;\n\tu32\t\t\tloss_count;\n\tu32\t\t\tmax_speed;\n\t \n\tu32\t\t\tgdd_gcr;\n\tint\t\t\t(*get_loss)(struct device *dev);\n\tstruct omap_ssi_port\t**port;\n#ifdef CONFIG_DEBUG_FS\n\tstruct dentry *dir;\n#endif\n};\n\nvoid omap_ssi_port_update_fclk(struct hsi_controller *ssi,\n\t\t\t       struct omap_ssi_port *omap_port);\n\nextern struct platform_driver ssi_port_pdriver;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}