{
  "module_name": "mptctl.h",
  "hash_id": "e28f18ca19e281963982ac21897f5e21c87bc257b1705664365c315f6e8f1710",
  "original_prompt": "Ingested from linux-6.6.14/drivers/message/fusion/mptctl.h",
  "human_readable_source": " \n \n \n\n#ifndef MPTCTL_H_INCLUDED\n#define MPTCTL_H_INCLUDED\n \n\n\n\n \n \n#define MPT_MISCDEV_BASENAME            \"mptctl\"\n#define MPT_MISCDEV_PATHNAME            \"/dev/\" MPT_MISCDEV_BASENAME\n\n#define MPT_PRODUCT_LENGTH              12\n\n \n#define MPT_MAGIC_NUMBER\t'm'\n\n#define MPTRWPERF\t\t_IOWR(MPT_MAGIC_NUMBER,0,struct mpt_raw_r_w)\n\n#define MPTFWDOWNLOAD\t\t_IOWR(MPT_MAGIC_NUMBER,15,struct mpt_fw_xfer)\n#define MPTCOMMAND\t\t_IOWR(MPT_MAGIC_NUMBER,20,struct mpt_ioctl_command)\n\n#if defined(__KERNEL__) && defined(CONFIG_COMPAT)\n#define MPTFWDOWNLOAD32\t\t_IOWR(MPT_MAGIC_NUMBER,15,struct mpt_fw_xfer32)\n#define MPTCOMMAND32\t\t_IOWR(MPT_MAGIC_NUMBER,20,struct mpt_ioctl_command32)\n#endif\n\n#define MPTIOCINFO\t\t_IOWR(MPT_MAGIC_NUMBER,17,struct mpt_ioctl_iocinfo)\n#define MPTIOCINFO1\t\t_IOWR(MPT_MAGIC_NUMBER,17,struct mpt_ioctl_iocinfo_rev0)\n#define MPTIOCINFO2\t\t_IOWR(MPT_MAGIC_NUMBER,17,struct mpt_ioctl_iocinfo_rev1)\n#define MPTTARGETINFO\t\t_IOWR(MPT_MAGIC_NUMBER,18,struct mpt_ioctl_targetinfo)\n#define MPTTEST\t\t\t_IOWR(MPT_MAGIC_NUMBER,19,struct mpt_ioctl_test)\n#define MPTEVENTQUERY\t\t_IOWR(MPT_MAGIC_NUMBER,21,struct mpt_ioctl_eventquery)\n#define MPTEVENTENABLE\t\t_IOWR(MPT_MAGIC_NUMBER,22,struct mpt_ioctl_eventenable)\n#define MPTEVENTREPORT\t\t_IOWR(MPT_MAGIC_NUMBER,23,struct mpt_ioctl_eventreport)\n#define MPTHARDRESET\t\t_IOWR(MPT_MAGIC_NUMBER,24,struct mpt_ioctl_diag_reset)\n#define MPTFWREPLACE\t\t_IOWR(MPT_MAGIC_NUMBER,25,struct mpt_ioctl_replace_fw)\n\n \nstruct mpt_fw_xfer {\n\tunsigned int\t iocnum;\t \n\tunsigned int\t fwlen;\n\tvoid\t\t__user *bufp;\t \n};\n\n#if defined(__KERNEL__) && defined(CONFIG_COMPAT)\nstruct mpt_fw_xfer32 {\n\tunsigned int iocnum;\n\tunsigned int fwlen;\n\tu32 bufp;\n};\n#endif\t \n\n \ntypedef struct _mpt_ioctl_header {\n\tunsigned int\t iocnum;\t \n\tunsigned int\t port;\t\t \n\tint\t\t maxDataSize;\t \n} mpt_ioctl_header;\n\n \nstruct mpt_ioctl_diag_reset {\n\tmpt_ioctl_header hdr;\n};\n\n\n \nstruct mpt_ioctl_pci_info {\n\tunion {\n\t\tstruct {\n\t\t\tunsigned int  deviceNumber   :  5;\n\t\t\tunsigned int  functionNumber :  3;\n\t\t\tunsigned int  busNumber      : 24;\n\t\t} bits;\n\t\tunsigned int  asUlong;\n\t} u;\n};\n\nstruct mpt_ioctl_pci_info2 {\n\tunion {\n\t\tstruct {\n\t\t\tunsigned int  deviceNumber   :  5;\n\t\t\tunsigned int  functionNumber :  3;\n\t\t\tunsigned int  busNumber      : 24;\n\t\t} bits;\n\t\tunsigned int  asUlong;\n\t} u;\n  int segmentID;\n};\n\n \n#define MPT_IOCTL_INTERFACE_SCSI\t(0x00)\n#define MPT_IOCTL_INTERFACE_FC\t\t(0x01)\n#define MPT_IOCTL_INTERFACE_FC_IP\t(0x02)\n#define MPT_IOCTL_INTERFACE_SAS\t\t(0x03)\n#define MPT_IOCTL_VERSION_LENGTH\t(32)\n\nstruct mpt_ioctl_iocinfo {\n\tmpt_ioctl_header hdr;\n\tint\t\t adapterType;\t \n\tint\t\t port;\t\t \n\tint\t\t pciId;\t\t \n\tint\t\t hwRev;\t\t \n\tint\t\t subSystemDevice;\t \n\tint\t\t subSystemVendor;\t \n\tint\t\t numDevices;\t\t \n\tint\t\t FWVersion;\t\t \n\tint\t\t BIOSVersion;\t\t \n\tchar\t\t driverVersion[MPT_IOCTL_VERSION_LENGTH];\t \n\tchar\t\t busChangeEvent;\n\tchar\t\t hostId;\n\tchar\t\t rsvd[2];\n\tstruct mpt_ioctl_pci_info2  pciInfo;  \n};\n\nstruct mpt_ioctl_iocinfo_rev1 {\n\tmpt_ioctl_header hdr;\n\tint\t\t adapterType;\t \n\tint\t\t port;\t\t \n\tint\t\t pciId;\t\t \n\tint\t\t hwRev;\t\t \n\tint\t\t subSystemDevice;\t \n\tint\t\t subSystemVendor;\t \n\tint\t\t numDevices;\t\t \n\tint\t\t FWVersion;\t\t \n\tint\t\t BIOSVersion;\t\t \n\tchar\t\t driverVersion[MPT_IOCTL_VERSION_LENGTH];\t \n\tchar\t\t busChangeEvent;\n\tchar\t\t hostId;\n\tchar\t\t rsvd[2];\n\tstruct mpt_ioctl_pci_info  pciInfo;  \n};\n\n \nstruct mpt_ioctl_iocinfo_rev0 {\n\tmpt_ioctl_header hdr;\n\tint\t\t adapterType;\t \n\tint\t\t port;\t\t \n\tint\t\t pciId;\t\t \n\tint\t\t hwRev;\t\t \n\tint\t\t subSystemDevice;\t \n\tint\t\t subSystemVendor;\t \n\tint\t\t numDevices;\t\t \n\tint\t\t FWVersion;\t\t \n\tint\t\t BIOSVersion;\t\t \n\tchar\t\t driverVersion[MPT_IOCTL_VERSION_LENGTH];\t \n\tchar\t\t busChangeEvent;\n\tchar\t\t hostId;\n\tchar\t\t rsvd[2];\n};\n\n \nstruct mpt_ioctl_targetinfo {\n\tmpt_ioctl_header hdr;\n\tint\t\t numDevices;\t \n\tint\t\t targetInfo[1];\n};\n\n\n \nstruct mpt_ioctl_eventquery {\n\tmpt_ioctl_header hdr;\n\tunsigned short\t eventEntries;\n\tunsigned short\t reserved;\n\tunsigned int\t eventTypes;\n};\n\nstruct mpt_ioctl_eventenable {\n\tmpt_ioctl_header hdr;\n\tunsigned int\t eventTypes;\n};\n\n#ifndef __KERNEL__\ntypedef struct {\n\tuint\tevent;\n\tuint\teventContext;\n\tuint\tdata[2];\n} MPT_IOCTL_EVENTS;\n#endif\n\nstruct mpt_ioctl_eventreport {\n\tmpt_ioctl_header\thdr;\n\tMPT_IOCTL_EVENTS\teventData[1];\n};\n\n#define MPT_MAX_NAME\t32\nstruct mpt_ioctl_test {\n\tmpt_ioctl_header hdr;\n\tu8\t\t name[MPT_MAX_NAME];\n\tint\t\t chip_type;\n\tu8\t\t product [MPT_PRODUCT_LENGTH];\n};\n\n \ntypedef struct mpt_ioctl_replace_fw {\n\tmpt_ioctl_header hdr;\n\tint\t\t newImageSize;\n\tu8\t\t newImage[1];\n} mpt_ioctl_replace_fw_t;\n\n \nstruct mpt_ioctl_command {\n\tmpt_ioctl_header hdr;\n\tint\t\ttimeout;\t \n\tchar\t\t__user *replyFrameBufPtr;\n\tchar\t\t__user *dataInBufPtr;\n\tchar\t\t__user *dataOutBufPtr;\n\tchar\t\t__user *senseDataPtr;\n\tint\t\tmaxReplyBytes;\n\tint\t\tdataInSize;\n\tint\t\tdataOutSize;\n\tint\t\tmaxSenseBytes;\n\tint\t\tdataSgeOffset;\n\tchar\t\tMF[1];\n};\n\n \n#if defined(__KERNEL__) && defined(CONFIG_COMPAT)\nstruct mpt_ioctl_command32 {\n\tmpt_ioctl_header hdr;\n\tint\ttimeout;\n\tu32\treplyFrameBufPtr;\n\tu32\tdataInBufPtr;\n\tu32\tdataOutBufPtr;\n\tu32\tsenseDataPtr;\n\tint\tmaxReplyBytes;\n\tint\tdataInSize;\n\tint\tdataOutSize;\n\tint\tmaxSenseBytes;\n\tint\tdataSgeOffset;\n\tchar\tMF[1];\n};\n#endif\t \n\n\n \n\n#define CPQFCTS_IOC_MAGIC 'Z'\n#define HP_IOC_MAGIC 'Z'\n#define HP_GETHOSTINFO\t\t_IOR(HP_IOC_MAGIC, 20, hp_host_info_t)\n#define HP_GETHOSTINFO1\t\t_IOR(HP_IOC_MAGIC, 20, hp_host_info_rev0_t)\n#define HP_GETTARGETINFO\t_IOR(HP_IOC_MAGIC, 21, hp_target_info_t)\n\ntypedef struct _hp_header {\n\tunsigned int iocnum;\n\tunsigned int host;\n\tunsigned int channel;\n\tunsigned int id;\n\tunsigned int lun;\n} hp_header_t;\n\n \ntypedef struct _hp_host_info {\n\thp_header_t\t hdr;\n\tu16\t\t vendor;\n\tu16\t\t device;\n\tu16\t\t subsystem_vendor;\n\tu16\t\t subsystem_id;\n\tu8\t\t devfn;\n\tu8\t\t bus;\n\tushort\t\t host_no;\t\t \n\tu8\t\t fw_version[16];\t \n\tu8\t\t serial_number[24];\t \n\tu32\t\t ioc_status;\n\tu32\t\t bus_phys_width;\n\tu32\t\t base_io_addr;\n\tu32\t\t rsvd;\n\tunsigned int\t hard_resets;\t\t \n\tunsigned int\t soft_resets;\t\t \n\tunsigned int\t timeouts;\t\t \n} hp_host_info_t;\n\n \ntypedef struct _hp_host_info_rev0 {\n\thp_header_t\t hdr;\n\tu16\t\t vendor;\n\tu16\t\t device;\n\tu16\t\t subsystem_vendor;\n\tu16\t\t subsystem_id;\n\tu8\t\t devfn;\n\tu8\t\t bus;\n\tushort\t\t host_no;\t\t \n\tu8\t\t fw_version[16];\t \n\tu8\t\t serial_number[24];\t \n\tu32\t\t ioc_status;\n\tu32\t\t bus_phys_width;\n\tu32\t\t base_io_addr;\n\tu32\t\t rsvd;\n\tunsigned long\t hard_resets;\t\t \n\tunsigned long\t soft_resets;\t\t \n\tunsigned long\t timeouts;\t\t \n} hp_host_info_rev0_t;\n\n \ntypedef struct _hp_target_info {\n\thp_header_t\t hdr;\n\tu32 parity_errors;\n\tu32 phase_errors;\n\tu32 select_timeouts;\n\tu32 message_rejects;\n\tu32 negotiated_speed;\n\tu8  negotiated_width;\n\tu8  rsvd[7];\t\t\t\t \n} hp_target_info_t;\n\n#define HP_STATUS_OTHER\t\t1\n#define HP_STATUS_OK\t\t2\n#define HP_STATUS_FAILED\t3\n\n#define HP_BUS_WIDTH_UNK\t1\n#define HP_BUS_WIDTH_8\t\t2\n#define HP_BUS_WIDTH_16\t\t3\n#define HP_BUS_WIDTH_32\t\t4\n\n#define HP_DEV_SPEED_ASYNC\t2\n#define HP_DEV_SPEED_FAST\t3\n#define HP_DEV_SPEED_ULTRA\t4\n#define HP_DEV_SPEED_ULTRA2\t5\n#define HP_DEV_SPEED_ULTRA160\t6\n#define HP_DEV_SPEED_SCSI1\t7\n#define HP_DEV_SPEED_ULTRA320\t8\n\n \n\n\n \n\n#endif\n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}