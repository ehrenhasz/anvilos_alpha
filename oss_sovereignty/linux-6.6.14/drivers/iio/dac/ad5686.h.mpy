{
  "module_name": "ad5686.h",
  "hash_id": "d94b7f0e3e372ae6f3af89bcef44cccba07687504612dca5118c2f48324b9ea0",
  "original_prompt": "Ingested from linux-6.6.14/drivers/iio/dac/ad5686.h",
  "human_readable_source": " \n \n\n#ifndef __DRIVERS_IIO_DAC_AD5686_H__\n#define __DRIVERS_IIO_DAC_AD5686_H__\n\n#include <linux/types.h>\n#include <linux/cache.h>\n#include <linux/mutex.h>\n#include <linux/kernel.h>\n\n#include <linux/iio/iio.h>\n\n#define AD5310_CMD(x)\t\t\t\t((x) << 12)\n\n#define AD5683_DATA(x)\t\t\t\t((x) << 4)\n\n#define AD5686_ADDR(x)\t\t\t\t((x) << 16)\n#define AD5686_CMD(x)\t\t\t\t((x) << 20)\n\n#define AD5686_ADDR_DAC(chan)\t\t\t(0x1 << (chan))\n#define AD5686_ADDR_ALL_DAC\t\t\t0xF\n\n#define AD5686_CMD_NOOP\t\t\t\t0x0\n#define AD5686_CMD_WRITE_INPUT_N\t\t0x1\n#define AD5686_CMD_UPDATE_DAC_N\t\t\t0x2\n#define AD5686_CMD_WRITE_INPUT_N_UPDATE_N\t0x3\n#define AD5686_CMD_POWERDOWN_DAC\t\t0x4\n#define AD5686_CMD_LDAC_MASK\t\t\t0x5\n#define AD5686_CMD_RESET\t\t\t0x6\n#define AD5686_CMD_INTERNAL_REFER_SETUP\t\t0x7\n#define AD5686_CMD_DAISY_CHAIN_ENABLE\t\t0x8\n#define AD5686_CMD_READBACK_ENABLE\t\t0x9\n\n#define AD5686_LDAC_PWRDN_NONE\t\t\t0x0\n#define AD5686_LDAC_PWRDN_1K\t\t\t0x1\n#define AD5686_LDAC_PWRDN_100K\t\t\t0x2\n#define AD5686_LDAC_PWRDN_3STATE\t\t0x3\n\n#define AD5686_CMD_CONTROL_REG\t\t\t0x4\n#define AD5686_CMD_READBACK_ENABLE_V2\t\t0x5\n\n#define AD5310_REF_BIT_MSK\t\t\tBIT(8)\n#define AD5683_REF_BIT_MSK\t\t\tBIT(12)\n#define AD5693_REF_BIT_MSK\t\t\tBIT(12)\n\n \nenum ad5686_supported_device_ids {\n\tID_AD5310R,\n\tID_AD5311R,\n\tID_AD5337R,\n\tID_AD5338R,\n\tID_AD5671R,\n\tID_AD5672R,\n\tID_AD5673R,\n\tID_AD5674R,\n\tID_AD5675R,\n\tID_AD5676,\n\tID_AD5676R,\n\tID_AD5677R,\n\tID_AD5679R,\n\tID_AD5681R,\n\tID_AD5682R,\n\tID_AD5683,\n\tID_AD5683R,\n\tID_AD5684,\n\tID_AD5684R,\n\tID_AD5685R,\n\tID_AD5686,\n\tID_AD5686R,\n\tID_AD5691R,\n\tID_AD5692R,\n\tID_AD5693,\n\tID_AD5693R,\n\tID_AD5694,\n\tID_AD5694R,\n\tID_AD5695R,\n\tID_AD5696,\n\tID_AD5696R,\n};\n\nenum ad5686_regmap_type {\n\tAD5310_REGMAP,\n\tAD5683_REGMAP,\n\tAD5686_REGMAP,\n\tAD5693_REGMAP\n};\n\nstruct ad5686_state;\n\ntypedef int (*ad5686_write_func)(struct ad5686_state *st,\n\t\t\t\t u8 cmd, u8 addr, u16 val);\n\ntypedef int (*ad5686_read_func)(struct ad5686_state *st, u8 addr);\n\n \n\nstruct ad5686_chip_info {\n\tu16\t\t\t\tint_vref_mv;\n\tunsigned int\t\t\tnum_channels;\n\tconst struct iio_chan_spec\t*channels;\n\tenum ad5686_regmap_type\t\tregmap_type;\n};\n\n \n\nstruct ad5686_state {\n\tstruct device\t\t\t*dev;\n\tconst struct ad5686_chip_info\t*chip_info;\n\tstruct regulator\t\t*reg;\n\tunsigned short\t\t\tvref_mv;\n\tunsigned int\t\t\tpwr_down_mask;\n\tunsigned int\t\t\tpwr_down_mode;\n\tad5686_write_func\t\twrite;\n\tad5686_read_func\t\tread;\n\tbool\t\t\t\tuse_internal_vref;\n\tstruct mutex\t\t\tlock;\n\n\t \n\n\tunion {\n\t\t__be32 d32;\n\t\t__be16 d16;\n\t\tu8 d8[4];\n\t} data[3] __aligned(IIO_DMA_MINALIGN);\n};\n\n\nint ad5686_probe(struct device *dev,\n\t\t enum ad5686_supported_device_ids chip_type,\n\t\t const char *name, ad5686_write_func write,\n\t\t ad5686_read_func read);\n\nvoid ad5686_remove(struct device *dev);\n\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}