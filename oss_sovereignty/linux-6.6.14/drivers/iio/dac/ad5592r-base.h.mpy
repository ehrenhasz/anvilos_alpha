{
  "module_name": "ad5592r-base.h",
  "hash_id": "e83a79a934d6945fb9b7d8832e1f36435adf06aedcf3cbb1c510a3a19647cc2e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/iio/dac/ad5592r-base.h",
  "human_readable_source": " \n \n\n#ifndef __DRIVERS_IIO_DAC_AD5592R_BASE_H__\n#define __DRIVERS_IIO_DAC_AD5592R_BASE_H__\n\n#include <linux/types.h>\n#include <linux/cache.h>\n#include <linux/mutex.h>\n#include <linux/gpio/driver.h>\n\n#include <linux/iio/iio.h>\n\nstruct device;\nstruct ad5592r_state;\n\nenum ad5592r_registers {\n\tAD5592R_REG_NOOP\t\t= 0x0,\n\tAD5592R_REG_DAC_READBACK\t= 0x1,\n\tAD5592R_REG_ADC_SEQ\t\t= 0x2,\n\tAD5592R_REG_CTRL\t\t= 0x3,\n\tAD5592R_REG_ADC_EN\t\t= 0x4,\n\tAD5592R_REG_DAC_EN\t\t= 0x5,\n\tAD5592R_REG_PULLDOWN\t\t= 0x6,\n\tAD5592R_REG_LDAC\t\t= 0x7,\n\tAD5592R_REG_GPIO_OUT_EN\t\t= 0x8,\n\tAD5592R_REG_GPIO_SET\t\t= 0x9,\n\tAD5592R_REG_GPIO_IN_EN\t\t= 0xA,\n\tAD5592R_REG_PD\t\t\t= 0xB,\n\tAD5592R_REG_OPEN_DRAIN\t\t= 0xC,\n\tAD5592R_REG_TRISTATE\t\t= 0xD,\n\tAD5592R_REG_RESET\t\t= 0xF,\n};\n\n#define AD5592R_REG_PD_EN_REF\t\tBIT(9)\n#define AD5592R_REG_CTRL_ADC_RANGE\tBIT(5)\n#define AD5592R_REG_CTRL_DAC_RANGE\tBIT(4)\n\nstruct ad5592r_rw_ops {\n\tint (*write_dac)(struct ad5592r_state *st, unsigned chan, u16 value);\n\tint (*read_adc)(struct ad5592r_state *st, unsigned chan, u16 *value);\n\tint (*reg_write)(struct ad5592r_state *st, u8 reg, u16 value);\n\tint (*reg_read)(struct ad5592r_state *st, u8 reg, u16 *value);\n\tint (*gpio_read)(struct ad5592r_state *st, u8 *value);\n};\n\nstruct ad5592r_state {\n\tstruct device *dev;\n\tstruct regulator *reg;\n\tstruct gpio_chip gpiochip;\n\tstruct mutex gpio_lock;\t \n\tstruct mutex lock;\n\tunsigned int num_channels;\n\tconst struct ad5592r_rw_ops *ops;\n\tint scale_avail[2][2];\n\tu16 cached_dac[8];\n\tu16 cached_gp_ctrl;\n\tu8 channel_modes[8];\n\tu8 channel_offstate[8];\n\tu8 gpio_map;\n\tu8 gpio_out;\n\tu8 gpio_in;\n\tu8 gpio_val;\n\n\t__be16 spi_msg __aligned(IIO_DMA_MINALIGN);\n\t__be16 spi_msg_nop;\n};\n\nint ad5592r_probe(struct device *dev, const char *name,\n\t\tconst struct ad5592r_rw_ops *ops);\nvoid ad5592r_remove(struct device *dev);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}