{
  "module_name": "ad7606.h",
  "hash_id": "34a7f28b1e1ed16cc291dc8893639c4f4f29d0eb61f7e21b33669fe04aa947ec",
  "original_prompt": "Ingested from linux-6.6.14/drivers/iio/adc/ad7606.h",
  "human_readable_source": " \n \n\n#ifndef IIO_ADC_AD7606_H_\n#define IIO_ADC_AD7606_H_\n\n#define AD760X_CHANNEL(num, mask_sep, mask_type, mask_all) {\t\\\n\t\t.type = IIO_VOLTAGE,\t\t\t\t\\\n\t\t.indexed = 1,\t\t\t\t\t\\\n\t\t.channel = num,\t\t\t\t\t\\\n\t\t.address = num,\t\t\t\t\t\\\n\t\t.info_mask_separate = mask_sep,\t\t\t\\\n\t\t.info_mask_shared_by_type = mask_type,\t\t\\\n\t\t.info_mask_shared_by_all = mask_all,\t\t\\\n\t\t.scan_index = num,\t\t\t\t\\\n\t\t.scan_type = {\t\t\t\t\t\\\n\t\t\t.sign = 's',\t\t\t\t\\\n\t\t\t.realbits = 16,\t\t\t\t\\\n\t\t\t.storagebits = 16,\t\t\t\\\n\t\t\t.endianness = IIO_CPU,\t\t\t\\\n\t\t},\t\t\t\t\t\t\\\n}\n\n#define AD7605_CHANNEL(num)\t\t\t\t\\\n\tAD760X_CHANNEL(num, BIT(IIO_CHAN_INFO_RAW),\t\\\n\t\tBIT(IIO_CHAN_INFO_SCALE), 0)\n\n#define AD7606_CHANNEL(num)\t\t\t\t\\\n\tAD760X_CHANNEL(num, BIT(IIO_CHAN_INFO_RAW),\t\\\n\t\tBIT(IIO_CHAN_INFO_SCALE),\t\t\\\n\t\tBIT(IIO_CHAN_INFO_OVERSAMPLING_RATIO))\n\n#define AD7616_CHANNEL(num)\t\\\n\tAD760X_CHANNEL(num, BIT(IIO_CHAN_INFO_RAW) | BIT(IIO_CHAN_INFO_SCALE),\\\n\t\t0, BIT(IIO_CHAN_INFO_OVERSAMPLING_RATIO))\n\n \nstruct ad7606_chip_info {\n\tconst struct iio_chan_spec\t*channels;\n\tunsigned int\t\t\tnum_channels;\n\tconst unsigned int\t\t*oversampling_avail;\n\tunsigned int\t\t\toversampling_num;\n\tbool\t\t\t\tos_req_reset;\n\tunsigned long\t\t\tinit_delay_ms;\n};\n\n \nstruct ad7606_state {\n\tstruct device\t\t\t*dev;\n\tconst struct ad7606_chip_info\t*chip_info;\n\tconst struct ad7606_bus_ops\t*bops;\n\tunsigned int\t\t\trange[16];\n\tunsigned int\t\t\toversampling;\n\tvoid __iomem\t\t\t*base_address;\n\tbool\t\t\t\tsw_mode_en;\n\tconst unsigned int\t\t*scale_avail;\n\tunsigned int\t\t\tnum_scales;\n\tconst unsigned int\t\t*oversampling_avail;\n\tunsigned int\t\t\tnum_os_ratios;\n\tint (*write_scale)(struct iio_dev *indio_dev, int ch, int val);\n\tint (*write_os)(struct iio_dev *indio_dev, int val);\n\n\tstruct mutex\t\t\tlock;  \n\tstruct gpio_desc\t\t*gpio_convst;\n\tstruct gpio_desc\t\t*gpio_reset;\n\tstruct gpio_desc\t\t*gpio_range;\n\tstruct gpio_desc\t\t*gpio_standby;\n\tstruct gpio_desc\t\t*gpio_frstdata;\n\tstruct gpio_descs\t\t*gpio_os;\n\tstruct iio_trigger\t\t*trig;\n\tstruct completion\t\tcompletion;\n\n\t \n\tunsigned short\t\t\tdata[20] __aligned(IIO_DMA_MINALIGN);\n\t__be16\t\t\t\td16[2];\n};\n\n \nstruct ad7606_bus_ops {\n\t \n\tint (*read_block)(struct device *dev, int num, void *data);\n\tint (*sw_mode_config)(struct iio_dev *indio_dev);\n\tint (*reg_read)(struct ad7606_state *st, unsigned int addr);\n\tint (*reg_write)(struct ad7606_state *st,\n\t\t\t\tunsigned int addr,\n\t\t\t\tunsigned int val);\n\tint (*write_mask)(struct ad7606_state *st,\n\t\t\t\t unsigned int addr,\n\t\t\t\t unsigned long mask,\n\t\t\t\t unsigned int val);\n\tu16 (*rd_wr_cmd)(int addr, char isWriteOp);\n};\n\nint ad7606_probe(struct device *dev, int irq, void __iomem *base_address,\n\t\t const char *name, unsigned int id,\n\t\t const struct ad7606_bus_ops *bops);\n\nenum ad7606_supported_device_ids {\n\tID_AD7605_4,\n\tID_AD7606_8,\n\tID_AD7606_6,\n\tID_AD7606_4,\n\tID_AD7606B,\n\tID_AD7616,\n};\n\n#ifdef CONFIG_PM_SLEEP\nextern const struct dev_pm_ops ad7606_pm_ops;\n#define AD7606_PM_OPS (&ad7606_pm_ops)\n#else\n#define AD7606_PM_OPS NULL\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}