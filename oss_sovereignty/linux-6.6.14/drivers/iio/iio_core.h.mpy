{
  "module_name": "iio_core.h",
  "hash_id": "ad78244174a33e65836ca81cf2aa655ba72a648acc135b6878b376b8618da4b8",
  "original_prompt": "Ingested from linux-6.6.14/drivers/iio/iio_core.h",
  "human_readable_source": " \n \n\n#ifndef _IIO_CORE_H_\n#define _IIO_CORE_H_\n#include <linux/kernel.h>\n#include <linux/device.h>\n\nstruct iio_buffer;\nstruct iio_chan_spec;\nstruct iio_dev;\n\nextern const struct device_type iio_device_type;\n\nstruct iio_dev_buffer_pair {\n\tstruct iio_dev\t\t*indio_dev;\n\tstruct iio_buffer\t*buffer;\n};\n\n#define IIO_IOCTL_UNHANDLED\t1\nstruct iio_ioctl_handler {\n\tstruct list_head entry;\n\tlong (*ioctl)(struct iio_dev *indio_dev, struct file *filp,\n\t\t      unsigned int cmd, unsigned long arg);\n};\n\nlong iio_device_ioctl(struct iio_dev *indio_dev, struct file *filp,\n\t\t      unsigned int cmd, unsigned long arg);\n\nvoid iio_device_ioctl_handler_register(struct iio_dev *indio_dev,\n\t\t\t\t       struct iio_ioctl_handler *h);\nvoid iio_device_ioctl_handler_unregister(struct iio_ioctl_handler *h);\n\nint __iio_add_chan_devattr(const char *postfix,\n\t\t\t   struct iio_chan_spec const *chan,\n\t\t\t   ssize_t (*func)(struct device *dev,\n\t\t\t\t\t   struct device_attribute *attr,\n\t\t\t\t\t   char *buf),\n\t\t\t   ssize_t (*writefunc)(struct device *dev,\n\t\t\t\t\t\tstruct device_attribute *attr,\n\t\t\t\t\t\tconst char *buf,\n\t\t\t\t\t\tsize_t len),\n\t\t\t   u64 mask,\n\t\t\t   enum iio_shared_by shared_by,\n\t\t\t   struct device *dev,\n\t\t\t   struct iio_buffer *buffer,\n\t\t\t   struct list_head *attr_list);\nvoid iio_free_chan_devattr_list(struct list_head *attr_list);\n\nint iio_device_register_sysfs_group(struct iio_dev *indio_dev,\n\t\t\t\t    const struct attribute_group *group);\n\nssize_t iio_format_value(char *buf, unsigned int type, int size, int *vals);\n\n \n#define IIO_BUSY_BIT_POS 1\n\n#ifdef CONFIG_IIO_BUFFER\nstruct poll_table_struct;\n\n__poll_t iio_buffer_poll_wrapper(struct file *filp,\n\t\t\t\t struct poll_table_struct *wait);\nssize_t iio_buffer_read_wrapper(struct file *filp, char __user *buf,\n\t\t\t\tsize_t n, loff_t *f_ps);\nssize_t iio_buffer_write_wrapper(struct file *filp, const char __user *buf,\n\t\t\t\t size_t n, loff_t *f_ps);\n\nint iio_buffers_alloc_sysfs_and_mask(struct iio_dev *indio_dev);\nvoid iio_buffers_free_sysfs_and_mask(struct iio_dev *indio_dev);\n\n#define iio_buffer_poll_addr (&iio_buffer_poll_wrapper)\n#define iio_buffer_read_outer_addr (&iio_buffer_read_wrapper)\n#define iio_buffer_write_outer_addr (&iio_buffer_write_wrapper)\n\nvoid iio_disable_all_buffers(struct iio_dev *indio_dev);\nvoid iio_buffer_wakeup_poll(struct iio_dev *indio_dev);\nvoid iio_device_detach_buffers(struct iio_dev *indio_dev);\n\n#else\n\n#define iio_buffer_poll_addr NULL\n#define iio_buffer_read_outer_addr NULL\n#define iio_buffer_write_outer_addr NULL\n\nstatic inline int iio_buffers_alloc_sysfs_and_mask(struct iio_dev *indio_dev)\n{\n\treturn 0;\n}\n\nstatic inline void iio_buffers_free_sysfs_and_mask(struct iio_dev *indio_dev) {}\n\nstatic inline void iio_disable_all_buffers(struct iio_dev *indio_dev) {}\nstatic inline void iio_buffer_wakeup_poll(struct iio_dev *indio_dev) {}\nstatic inline void iio_device_detach_buffers(struct iio_dev *indio_dev) {}\n\n#endif\n\nint iio_device_register_eventset(struct iio_dev *indio_dev);\nvoid iio_device_unregister_eventset(struct iio_dev *indio_dev);\nvoid iio_device_wakeup_eventset(struct iio_dev *indio_dev);\n\nstruct iio_event_interface;\nbool iio_event_enabled(const struct iio_event_interface *ev_int);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}