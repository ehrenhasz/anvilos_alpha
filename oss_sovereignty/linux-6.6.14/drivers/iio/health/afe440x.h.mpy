{
  "module_name": "afe440x.h",
  "hash_id": "7f23312ccc60ebe8f14dc2c908693c198a8e74dc528372b346d7ca01a7cea33b",
  "original_prompt": "Ingested from linux-6.6.14/drivers/iio/health/afe440x.h",
  "human_readable_source": " \n \n\n#ifndef _AFE440X_H\n#define _AFE440X_H\n\n \n#define AFE440X_CONTROL0\t\t0x00\n#define AFE440X_LED2STC\t\t\t0x01\n#define AFE440X_LED2ENDC\t\t0x02\n#define AFE440X_LED1LEDSTC\t\t0x03\n#define AFE440X_LED1LEDENDC\t\t0x04\n#define AFE440X_ALED2STC\t\t0x05\n#define AFE440X_ALED2ENDC\t\t0x06\n#define AFE440X_LED1STC\t\t\t0x07\n#define AFE440X_LED1ENDC\t\t0x08\n#define AFE440X_LED2LEDSTC\t\t0x09\n#define AFE440X_LED2LEDENDC\t\t0x0a\n#define AFE440X_ALED1STC\t\t0x0b\n#define AFE440X_ALED1ENDC\t\t0x0c\n#define AFE440X_LED2CONVST\t\t0x0d\n#define AFE440X_LED2CONVEND\t\t0x0e\n#define AFE440X_ALED2CONVST\t\t0x0f\n#define AFE440X_ALED2CONVEND\t\t0x10\n#define AFE440X_LED1CONVST\t\t0x11\n#define AFE440X_LED1CONVEND\t\t0x12\n#define AFE440X_ALED1CONVST\t\t0x13\n#define AFE440X_ALED1CONVEND\t\t0x14\n#define AFE440X_ADCRSTSTCT0\t\t0x15\n#define AFE440X_ADCRSTENDCT0\t\t0x16\n#define AFE440X_ADCRSTSTCT1\t\t0x17\n#define AFE440X_ADCRSTENDCT1\t\t0x18\n#define AFE440X_ADCRSTSTCT2\t\t0x19\n#define AFE440X_ADCRSTENDCT2\t\t0x1a\n#define AFE440X_ADCRSTSTCT3\t\t0x1b\n#define AFE440X_ADCRSTENDCT3\t\t0x1c\n#define AFE440X_PRPCOUNT\t\t0x1d\n#define AFE440X_CONTROL1\t\t0x1e\n#define AFE440X_LEDCNTRL\t\t0x22\n#define AFE440X_CONTROL2\t\t0x23\n#define AFE440X_ALARM\t\t\t0x29\n#define AFE440X_LED2VAL\t\t\t0x2a\n#define AFE440X_ALED2VAL\t\t0x2b\n#define AFE440X_LED1VAL\t\t\t0x2c\n#define AFE440X_ALED1VAL\t\t0x2d\n#define AFE440X_LED2_ALED2VAL\t\t0x2e\n#define AFE440X_LED1_ALED1VAL\t\t0x2f\n#define AFE440X_CONTROL3\t\t0x31\n#define AFE440X_PDNCYCLESTC\t\t0x32\n#define AFE440X_PDNCYCLEENDC\t\t0x33\n\n \n#define AFE440X_CONTROL0_REG_READ\tBIT(0)\n#define AFE440X_CONTROL0_TM_COUNT_RST\tBIT(1)\n#define AFE440X_CONTROL0_SW_RESET\tBIT(3)\n\n \n#define AFE440X_CONTROL1_TIMEREN\tBIT(8)\n\n \n#define AFE440X_TIAGAIN_ENSEPGAIN\tBIT(15)\n\n \n#define AFE440X_CONTROL2_PDN_AFE\tBIT(0)\n#define AFE440X_CONTROL2_PDN_RX\t\tBIT(1)\n#define AFE440X_CONTROL2_DYNAMIC4\tBIT(3)\n#define AFE440X_CONTROL2_DYNAMIC3\tBIT(4)\n#define AFE440X_CONTROL2_DYNAMIC2\tBIT(14)\n#define AFE440X_CONTROL2_DYNAMIC1\tBIT(20)\n\n \n#define AFE440X_CONTROL3_CLKDIV\t\tGENMASK(2, 0)\n\n \n#define AFE440X_CONTROL0_WRITE\t\t0x0\n#define AFE440X_CONTROL0_READ\t\t0x1\n\n#define AFE440X_INTENSITY_CHAN(_index, _mask)\t\t\t\\\n\t{\t\t\t\t\t\t\t\\\n\t\t.type = IIO_INTENSITY,\t\t\t\t\\\n\t\t.channel = _index,\t\t\t\t\\\n\t\t.address = _index,\t\t\t\t\\\n\t\t.scan_index = _index,\t\t\t\t\\\n\t\t.scan_type = {\t\t\t\t\t\\\n\t\t\t\t.sign = 's',\t\t\t\\\n\t\t\t\t.realbits = 24,\t\t\t\\\n\t\t\t\t.storagebits = 32,\t\t\\\n\t\t\t\t.endianness = IIO_CPU,\t\t\\\n\t\t},\t\t\t\t\t\t\\\n\t\t.info_mask_separate = BIT(IIO_CHAN_INFO_RAW) |\t\\\n\t\t\t_mask,\t\t\t\t\t\\\n\t\t.indexed = true,\t\t\t\t\\\n\t}\n\n#define AFE440X_CURRENT_CHAN(_index)\t\t\t\t\\\n\t{\t\t\t\t\t\t\t\\\n\t\t.type = IIO_CURRENT,\t\t\t\t\\\n\t\t.channel = _index,\t\t\t\t\\\n\t\t.address = _index,\t\t\t\t\\\n\t\t.scan_index = -1,\t\t\t\t\\\n\t\t.info_mask_separate = BIT(IIO_CHAN_INFO_RAW) |\t\\\n\t\t\tBIT(IIO_CHAN_INFO_SCALE),\t\t\\\n\t\t.indexed = true,\t\t\t\t\\\n\t\t.output = true,\t\t\t\t\t\\\n\t}\n\nstruct afe440x_val_table {\n\tint integer;\n\tint fract;\n};\n\n#define AFE440X_TABLE_ATTR(_name, _table)\t\t\t\t\\\nstatic ssize_t _name ## _show(struct device *dev,\t\t\t\\\n\t\t\t      struct device_attribute *attr, char *buf)\t\\\n{\t\t\t\t\t\t\t\t\t\\\n\tssize_t len = 0;\t\t\t\t\t\t\\\n\tint i;\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\tfor (i = 0; i < ARRAY_SIZE(_table); i++)\t\t\t\\\n\t\tlen += scnprintf(buf + len, PAGE_SIZE - len, \"%d.%06u \", \\\n\t\t\t\t _table[i].integer,\t\t\t\\\n\t\t\t\t _table[i].fract);\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\tbuf[len - 1] = '\\n';\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\treturn len;\t\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\\\nstatic DEVICE_ATTR_RO(_name)\n\nstruct afe440x_attr {\n\tstruct device_attribute dev_attr;\n\tunsigned int field;\n\tconst struct afe440x_val_table *val_table;\n\tunsigned int table_size;\n};\n\n#define to_afe440x_attr(_dev_attr)\t\t\t\t\\\n\tcontainer_of(_dev_attr, struct afe440x_attr, dev_attr)\n\n#define AFE440X_ATTR(_name, _field, _table)\t\t\t\\\n\tstruct afe440x_attr afe440x_attr_##_name = {\t\t\\\n\t\t.dev_attr = __ATTR(_name, (S_IRUGO | S_IWUSR),\t\\\n\t\t\t\t   afe440x_show_register,\t\\\n\t\t\t\t   afe440x_store_register),\t\\\n\t\t.field = _field,\t\t\t\t\\\n\t\t.val_table = _table,\t\t\t\t\\\n\t\t.table_size = ARRAY_SIZE(_table),\t\t\\\n\t}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}