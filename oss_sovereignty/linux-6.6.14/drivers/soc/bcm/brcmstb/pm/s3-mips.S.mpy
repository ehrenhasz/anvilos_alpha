{
  "module_name": "s3-mips.S",
  "hash_id": "f59deb64c24d54255337b6fcd0fdcf1ccc9b7332919b61f6d34a29a40276934c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/soc/bcm/brcmstb/pm/s3-mips.S",
  "human_readable_source": " \n \n\n#include <asm/asm.h>\n#include <asm/regdef.h>\n#include <asm/mipsregs.h>\n#include <asm/bmips.h>\n\n#include \"pm.h\"\n\n\t.text\n\t.set\t\tnoreorder\n\t.align\t\t5\n\t.global\t\ts3_reentry\n\n \nLEAF(brcm_pm_do_s3)\n\n\t \n\tla\tt0, gp_regs\n\tsw\tra, 0(t0)\n\tsw\ts0, 4(t0)\n\tsw\ts1, 8(t0)\n\tsw\ts2, 12(t0)\n\tsw\ts3, 16(t0)\n\tsw\ts4, 20(t0)\n\tsw\ts5, 24(t0)\n\tsw\ts6, 28(t0)\n\tsw\ts7, 32(t0)\n\tsw\tgp, 36(t0)\n\tsw\tsp, 40(t0)\n\tsw\tfp, 44(t0)\n\n\t \n\tmfc0\tt1, CP0_STATUS\n\tsw\tt1, 48(t0)\n\n\t \n\taddiu\tt1, a1, -1\n\tnot\tt1\n\tand\tt0, t1\n\n\t \n\taddiu\tt2, t0, 64\n\tand\tt2, t1\n\n1:\tcache\t0x17, 0(t0)\n\tbne\tt0, t2, 1b\n\taddu\tt0, a1\n\n\t \n\tli\tt1, PM_WARM_CONFIG\n\tsw\tzero, AON_CTRL_PM_CTRL(a0)\n\tlw\tzero, AON_CTRL_PM_CTRL(a0)\n\tsw\tt1, AON_CTRL_PM_CTRL(a0)\n\tlw\tt1, AON_CTRL_PM_CTRL(a0)\n\n\tli\tt1, (PM_WARM_CONFIG | PM_PWR_DOWN)\n\tsw\tt1, AON_CTRL_PM_CTRL(a0)\n\tlw\tt1, AON_CTRL_PM_CTRL(a0)\n\n\t \n\tmfc0\tt0, CP0_STATUS\n\n\tli\tt1, ~(ST0_IM | ST0_IE)\n\tand\tt0, t1\n\tori\tt0, STATUSF_IP2\n\tmtc0\tt0, CP0_STATUS\n\tnop\n\tnop\n\tnop\n\tori\tt0, ST0_IE\n\tmtc0\tt0, CP0_STATUS\n\n         \n        wait\n        nop\n\ns3_reentry:\n\n\t \n\tli\tt0, (0x06 << 16)\n\tmtc0\tt0, $22, 2\n\tssnop\n\tssnop\n\tssnop\n\n\t \n\tli\tt0, (0x04 << 16)\n\tmtc0\tt0, $22, 2\n\tssnop\n\tssnop\n\tssnop\n\n\tsync\n\tnop\n\n\t \n\tmtc0\tzero, CP0_WIRED\n\tmtc0\tzero, CP0_ENTRYHI\n\tli\tk0, PM_DEFAULT_MASK\n\tmtc0\tk0, CP0_PAGEMASK\n\n\tli\tsp, BMIPS_WARM_RESTART_VEC\n\tla\tk0, plat_wired_tlb_setup\n\tjalr\tk0\n\tnop\n\n\t \n\tla\tt0, gp_regs\n\tlw\tfp, 44(t0)\n\tlw\tsp, 40(t0)\n\tlw\tgp, 36(t0)\n\tlw\ts7, 32(t0)\n\tlw\ts6, 28(t0)\n\tlw\ts5, 24(t0)\n\tlw\ts4, 20(t0)\n\tlw\ts3, 16(t0)\n\tlw\ts2, 12(t0)\n\tlw\ts1, 8(t0)\n\tlw\ts0, 4(t0)\n\tlw\tra, 0(t0)\n\n\t \n\tlw\tt1, 48(t0)\n\tmtc0\tt1, CP0_STATUS\n\n\t \n\tli\tv0, 0\n\tjr      ra\n\tnop\n\nEND(brcm_pm_do_s3)\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}