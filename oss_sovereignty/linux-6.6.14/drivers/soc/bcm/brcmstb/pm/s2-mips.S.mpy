{
  "module_name": "s2-mips.S",
  "hash_id": "b2cff47fe2cf16d5abb44b8bfa5f6b6da1c1647d1b9df7d32cbbb915131b0e9c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/soc/bcm/brcmstb/pm/s2-mips.S",
  "human_readable_source": " \n \n\n#include <asm/asm.h>\n#include <asm/regdef.h>\n#include <asm/mipsregs.h>\n#include <asm/stackframe.h>\n\n#include \"pm.h\"\n\n\t.text\n\t.set\tnoreorder\n\t.align\t5\n\n \nLEAF(brcm_pm_do_s2)\n\n\tsubu\tsp, 64\n\tsw\tra, 0(sp)\n\tsw\ts0, 4(sp)\n\tsw\ts1, 8(sp)\n\tsw\ts2, 12(sp)\n\tsw\ts3, 16(sp)\n\tsw\ts4, 20(sp)\n\tsw\ts5, 24(sp)\n\tsw\ts6, 28(sp)\n\tsw\ts7, 32(sp)\n\n\t \n\tmove\tt0, a0\n\n\tlw\ts0, 0(t0)\n\tlw\ts1, 4(t0)\n\tlw\ts2, 8(t0)\n\tlw\ts3, 12(t0)\n\tlw\ts4, 16(t0)\n\tlw\ts5, 20(t0)\n\n\t \n\taddiu\tt1, s3, -1\n\tnot\tt1\n\n\tla\tt0, brcm_pm_do_s2\n\tand\tt0, t1\n\n\tla\tt2, asm_end\n\tand\tt2, t1\n\n1:\tcache\t0x1c, 0(t0)\n\tbne\tt0, t2, 1b\n\taddu\tt0, s3\n\n\t \n\tmove\tt0, zero\n\n2:\tmove\tt1, s4\n\tcache \t0x1c, 0(t1)\n\taddu\tt1, s3\n\taddu\tt0, s3\n\tble\tt0, s5, 2b\n\tnop\n\n\tsync\n\n\t \n\tli\tt0, PM_S2_COMMAND\n\tsw\tzero, AON_CTRL_PM_CTRL(s0)\n\tlw\tzero, AON_CTRL_PM_CTRL(s0)\n\tsw\tt0, AON_CTRL_PM_CTRL(s0)\n\tlw\tt0, AON_CTRL_PM_CTRL(s0)\n\n\t \n\tmfc0\tt0, CP0_STATUS\n\t \n\tmove\ts6, t0\n\n\tli\tt1, ~(ST0_IM | ST0_IE)\n\tand\tt0, t1\n\tori\tt0, STATUSF_IP2\n\tmtc0\tt0, CP0_STATUS\n\tnop\n\tnop\n\tnop\n\tori\tt0, ST0_IE\n\tmtc0\tt0, CP0_STATUS\n\n\t \n\twait\n\tnop\n\n\t \n1:\tlw\tt0, DDR40_PHY_CONTROL_REGS_0_PLL_STATUS(s1)\n\tandi\tt0, 1\n\tbeqz\tt0, 1b\n\tnop\n\n\t \n\t \n\tli\tt0, RESET_TIMER\n\tsw\tt0, TIMER_TIMER1_CTRL(s2)\n\tlw\tt0, TIMER_TIMER1_CTRL(s2)\n\n\tli\tt0, START_TIMER\n\tsw\tt0, TIMER_TIMER1_CTRL(s2)\n\tlw\tt0, TIMER_TIMER1_CTRL(s2)\n\n\t \n\tli\tt0, TIMER_MASK\n\tlw\tt1, TIMER_TIMER1_STAT(s2)\n\tand\tt1, t0\n\t \n\taddi\tt1, 27000\n\n\t \n1:\tlw\tt0, TIMER_TIMER1_STAT(s2)\n\tsgtu\tt2, t1, t0\n\tbnez\tt2, 1b\n\tnop\n\n\t \n\tli\tt1, 1\n\tsw\tt1, AON_CTRL_HOST_MISC_CMDS(s0)\n\tlw\tt1, AON_CTRL_HOST_MISC_CMDS(s0)\n\n\tsw\tzero, AON_CTRL_PM_CTRL(s0)\n\tlw\tzero, AON_CTRL_PM_CTRL(s0)\n\n\t \n\taddiu\tt1, s3, -1\n\tnot\tt1\n\n\tla\tt0, brcm_pm_do_s2\n\tand \tt0, t1\n\n\tla\tt2, asm_end\n\tand\tt2, t1\n\n1:\tcache\t0x00, 0(t0)\n\tbne\tt0, t2, 1b\n\taddu\tt0, s3\n\n\t \n\tmove\tt0, zero\n\n2:\tmove\tt1, s4\n\tcache \t0x00, 0(t1)\n\taddu\tt1, s3\n\taddu\tt0, s3\n\tble\tt0, s5, 2b\n\tnop\n\n\t \n\tsync\n\tnop\n\tmtc0\ts6, CP0_STATUS\n\tnop\n\n\t \n\tli\tv0, 0\n\n\t \n\tlw\ts7, 32(sp)\n\tlw\ts6, 28(sp)\n\tlw\ts5, 24(sp)\n\tlw\ts4, 20(sp)\n\tlw\ts3, 16(sp)\n\tlw\ts2, 12(sp)\n\tlw\ts1, 8(sp)\n\tlw\ts0, 4(sp)\n\tlw\tra, 0(sp)\n\taddiu\tsp, 64\n\n\tjr ra\n\tnop\nEND(brcm_pm_do_s2)\n\n\t.globl asm_end\nasm_end:\n\tnop\n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}