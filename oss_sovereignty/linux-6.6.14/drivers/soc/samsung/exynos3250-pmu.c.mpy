{
  "module_name": "exynos3250-pmu.c",
  "hash_id": "10826aeaf9ddbceee0969818a07e0610d7c66aa9dd478c75826550caad1c6a28",
  "original_prompt": "Ingested from linux-6.6.14/drivers/soc/samsung/exynos3250-pmu.c",
  "human_readable_source": "\n\n\n\n\n\n\n#include <linux/soc/samsung/exynos-regs-pmu.h>\n#include <linux/soc/samsung/exynos-pmu.h>\n\n#include \"exynos-pmu.h\"\n\nstatic const struct exynos_pmu_conf exynos3250_pmu_config[] = {\n\t \n\t{ EXYNOS3_ARM_CORE0_SYS_PWR_REG,\t\t{ 0x0, 0x0, 0x2} },\n\t{ EXYNOS3_DIS_IRQ_ARM_CORE0_LOCAL_SYS_PWR_REG,\t{ 0x0, 0x0, 0x0} },\n\t{ EXYNOS3_DIS_IRQ_ARM_CORE0_CENTRAL_SYS_PWR_REG, { 0x0, 0x0, 0x0} },\n\t{ EXYNOS3_ARM_CORE1_SYS_PWR_REG,\t\t{ 0x0, 0x0, 0x2} },\n\t{ EXYNOS3_DIS_IRQ_ARM_CORE1_LOCAL_SYS_PWR_REG,\t{ 0x0, 0x0, 0x0} },\n\t{ EXYNOS3_DIS_IRQ_ARM_CORE1_CENTRAL_SYS_PWR_REG, { 0x0, 0x0, 0x0} },\n\t{ EXYNOS3_ISP_ARM_SYS_PWR_REG,\t\t\t{ 0x1, 0x0, 0x0} },\n\t{ EXYNOS3_DIS_IRQ_ISP_ARM_LOCAL_SYS_PWR_REG,\t{ 0x0, 0x0, 0x0} },\n\t{ EXYNOS3_DIS_IRQ_ISP_ARM_CENTRAL_SYS_PWR_REG,\t{ 0x0, 0x0, 0x0} },\n\t{ EXYNOS3_ARM_COMMON_SYS_PWR_REG,\t\t{ 0x0, 0x0, 0x2} },\n\t{ EXYNOS3_ARM_L2_SYS_PWR_REG,\t\t\t{ 0x0, 0x0, 0x3} },\n\t{ EXYNOS3_CMU_ACLKSTOP_SYS_PWR_REG,\t\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_CMU_SCLKSTOP_SYS_PWR_REG,\t\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_CMU_RESET_SYS_PWR_REG,\t\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_DRAM_FREQ_DOWN_SYS_PWR_REG,\t\t{ 0x1, 0x1, 0x1} },\n\t{ EXYNOS3_DDRPHY_DLLOFF_SYS_PWR_REG,\t\t{ 0x1, 0x1, 0x1} },\n\t{ EXYNOS3_LPDDR_PHY_DLL_LOCK_SYS_PWR_REG,\t{ 0x1, 0x1, 0x1} },\n\t{ EXYNOS3_CMU_ACLKSTOP_COREBLK_SYS_PWR_REG,\t{ 0x1, 0x0, 0x0} },\n\t{ EXYNOS3_CMU_SCLKSTOP_COREBLK_SYS_PWR_REG,\t{ 0x1, 0x0, 0x0} },\n\t{ EXYNOS3_CMU_RESET_COREBLK_SYS_PWR_REG,\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_APLL_SYSCLK_SYS_PWR_REG,\t\t{ 0x1, 0x0, 0x0} },\n\t{ EXYNOS3_MPLL_SYSCLK_SYS_PWR_REG,\t\t{ 0x1, 0x0, 0x0} },\n\t{ EXYNOS3_BPLL_SYSCLK_SYS_PWR_REG,\t\t{ 0x1, 0x0, 0x0} },\n\t{ EXYNOS3_VPLL_SYSCLK_SYS_PWR_REG,\t\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_EPLL_SYSCLK_SYS_PWR_REG,\t\t{ 0x1, 0x0, 0x0} },\n\t{ EXYNOS3_UPLL_SYSCLK_SYS_PWR_REG,\t\t{ 0x1, 0x1, 0x1} },\n\t{ EXYNOS3_EPLLUSER_SYSCLK_SYS_PWR_REG,\t\t{ 0x1, 0x0, 0x0} },\n\t{ EXYNOS3_MPLLUSER_SYSCLK_SYS_PWR_REG,\t\t{ 0x1, 0x0, 0x0} },\n\t{ EXYNOS3_BPLLUSER_SYSCLK_SYS_PWR_REG,\t\t{ 0x1, 0x0, 0x0} },\n\t{ EXYNOS3_CMU_CLKSTOP_CAM_SYS_PWR_REG,\t\t{ 0x1, 0x0, 0x0} },\n\t{ EXYNOS3_CMU_CLKSTOP_MFC_SYS_PWR_REG,\t\t{ 0x1, 0x0, 0x0} },\n\t{ EXYNOS3_CMU_CLKSTOP_G3D_SYS_PWR_REG,\t\t{ 0x1, 0x0, 0x0} },\n\t{ EXYNOS3_CMU_CLKSTOP_LCD0_SYS_PWR_REG,\t\t{ 0x1, 0x0, 0x0} },\n\t{ EXYNOS3_CMU_CLKSTOP_ISP_SYS_PWR_REG,\t\t{ 0x1, 0x0, 0x0} },\n\t{ EXYNOS3_CMU_CLKSTOP_MAUDIO_SYS_PWR_REG,\t{ 0x1, 0x0, 0x0} },\n\t{ EXYNOS3_CMU_RESET_CAM_SYS_PWR_REG,\t\t{ 0x1, 0x0, 0x0} },\n\t{ EXYNOS3_CMU_RESET_MFC_SYS_PWR_REG,\t\t{ 0x1, 0x0, 0x0} },\n\t{ EXYNOS3_CMU_RESET_G3D_SYS_PWR_REG,\t\t{ 0x1, 0x0, 0x0} },\n\t{ EXYNOS3_CMU_RESET_LCD0_SYS_PWR_REG,\t\t{ 0x1, 0x0, 0x0} },\n\t{ EXYNOS3_CMU_RESET_ISP_SYS_PWR_REG,\t\t{ 0x1, 0x0, 0x0} },\n\t{ EXYNOS3_CMU_RESET_MAUDIO_SYS_PWR_REG,\t\t{ 0x1, 0x0, 0x0} },\n\t{ EXYNOS3_TOP_BUS_SYS_PWR_REG,\t\t\t{ 0x3, 0x0, 0x0} },\n\t{ EXYNOS3_TOP_RETENTION_SYS_PWR_REG,\t\t{ 0x1, 0x1, 0x1} },\n\t{ EXYNOS3_TOP_PWR_SYS_PWR_REG,\t\t\t{ 0x3, 0x3, 0x3} },\n\t{ EXYNOS3_TOP_BUS_COREBLK_SYS_PWR_REG,\t\t{ 0x3, 0x0, 0x0} },\n\t{ EXYNOS3_TOP_RETENTION_COREBLK_SYS_PWR_REG,\t{ 0x1, 0x1, 0x1} },\n\t{ EXYNOS3_TOP_PWR_COREBLK_SYS_PWR_REG,\t\t{ 0x3, 0x3, 0x3} },\n\t{ EXYNOS3_LOGIC_RESET_SYS_PWR_REG,\t\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_OSCCLK_GATE_SYS_PWR_REG,\t\t{ 0x1, 0x1, 0x1} },\n\t{ EXYNOS3_LOGIC_RESET_COREBLK_SYS_PWR_REG,\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_OSCCLK_GATE_COREBLK_SYS_PWR_REG,\t{ 0x1, 0x0, 0x1} },\n\t{ EXYNOS3_PAD_RETENTION_DRAM_SYS_PWR_REG,\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_PAD_RETENTION_MAUDIO_SYS_PWR_REG,\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_PAD_RETENTION_GPIO_SYS_PWR_REG,\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_PAD_RETENTION_UART_SYS_PWR_REG,\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_PAD_RETENTION_MMC0_SYS_PWR_REG,\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_PAD_RETENTION_MMC1_SYS_PWR_REG,\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_PAD_RETENTION_MMC2_SYS_PWR_REG,\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_PAD_RETENTION_SPI_SYS_PWR_REG,\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_PAD_RETENTION_EBIA_SYS_PWR_REG,\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_PAD_RETENTION_EBIB_SYS_PWR_REG,\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_PAD_RETENTION_JTAG_SYS_PWR_REG,\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_PAD_ISOLATION_SYS_PWR_REG,\t\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_PAD_ALV_SEL_SYS_PWR_REG,\t\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_XUSBXTI_SYS_PWR_REG,\t\t\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_XXTI_SYS_PWR_REG,\t\t\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_EXT_REGULATOR_SYS_PWR_REG,\t\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_EXT_REGULATOR_COREBLK_SYS_PWR_REG,\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_GPIO_MODE_SYS_PWR_REG,\t\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_GPIO_MODE_MAUDIO_SYS_PWR_REG,\t\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_TOP_ASB_RESET_SYS_PWR_REG,\t\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_TOP_ASB_ISOLATION_SYS_PWR_REG,\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_TOP_ASB_RESET_COREBLK_SYS_PWR_REG,\t{ 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_TOP_ASB_ISOLATION_COREBLK_SYS_PWR_REG, { 0x1, 0x1, 0x0} },\n\t{ EXYNOS3_CAM_SYS_PWR_REG,\t\t\t{ 0x7, 0x0, 0x0} },\n\t{ EXYNOS3_MFC_SYS_PWR_REG,\t\t\t{ 0x7, 0x0, 0x0} },\n\t{ EXYNOS3_G3D_SYS_PWR_REG,\t\t\t{ 0x7, 0x0, 0x0} },\n\t{ EXYNOS3_LCD0_SYS_PWR_REG,\t\t\t{ 0x7, 0x0, 0x0} },\n\t{ EXYNOS3_ISP_SYS_PWR_REG,\t\t\t{ 0x7, 0x0, 0x0} },\n\t{ EXYNOS3_MAUDIO_SYS_PWR_REG,\t\t\t{ 0x7, 0x0, 0x0} },\n\t{ EXYNOS3_CMU_SYSCLK_ISP_SYS_PWR_REG,\t\t{ 0x1, 0x0, 0x0} },\n\t{ PMU_TABLE_END,},\n};\n\nstatic unsigned int const exynos3250_list_feed[] = {\n\tEXYNOS3_ARM_CORE_OPTION(0),\n\tEXYNOS3_ARM_CORE_OPTION(1),\n\tEXYNOS3_ARM_CORE_OPTION(2),\n\tEXYNOS3_ARM_CORE_OPTION(3),\n\tEXYNOS3_ARM_COMMON_OPTION,\n\tEXYNOS3_TOP_PWR_OPTION,\n\tEXYNOS3_CORE_TOP_PWR_OPTION,\n\tS5P_CAM_OPTION,\n\tS5P_MFC_OPTION,\n\tS5P_G3D_OPTION,\n\tS5P_LCD0_OPTION,\n\tS5P_ISP_OPTION,\n};\n\nstatic void exynos3250_powerdown_conf_extra(enum sys_powerdown mode)\n{\n\tunsigned int i;\n\tunsigned int tmp;\n\n\t \n\tfor (i = 0; i < ARRAY_SIZE(exynos3250_list_feed); i++) {\n\t\ttmp = pmu_raw_readl(exynos3250_list_feed[i]);\n\t\ttmp &= ~(EXYNOS3_OPTION_USE_SC_COUNTER);\n\t\ttmp |= EXYNOS3_OPTION_USE_SC_FEEDBACK;\n\t\tpmu_raw_writel(tmp, exynos3250_list_feed[i]);\n\t}\n\n\tif (mode != SYS_SLEEP)\n\t\treturn;\n\n\tpmu_raw_writel(XUSBXTI_DURATION, EXYNOS3_XUSBXTI_DURATION);\n\tpmu_raw_writel(XXTI_DURATION, EXYNOS3_XXTI_DURATION);\n\tpmu_raw_writel(EXT_REGULATOR_DURATION, EXYNOS3_EXT_REGULATOR_DURATION);\n\tpmu_raw_writel(EXT_REGULATOR_COREBLK_DURATION,\n\t\t       EXYNOS3_EXT_REGULATOR_COREBLK_DURATION);\n}\n\nstatic void exynos3250_pmu_init(void)\n{\n\tunsigned int value;\n\n\t \n\tvalue = pmu_raw_readl(EXYNOS3_ARM_COMMON_OPTION);\n\tvalue |= EXYNOS3_OPTION_SKIP_DEACTIVATE_ACEACP_IN_PWDN;\n\tpmu_raw_writel(value, EXYNOS3_ARM_COMMON_OPTION);\n\n\t \n\tpmu_raw_writel(S5P_USE_STANDBY_WFI_ALL, S5P_CENTRAL_SEQ_OPTION);\n\n\t \n\tvalue = pmu_raw_readl(S5P_PS_HOLD_CONTROL);\n\tvalue |= S5P_PS_HOLD_OUTPUT_HIGH;\n\tpmu_raw_writel(value, S5P_PS_HOLD_CONTROL);\n\n\t \n\tvalue = pmu_raw_readl(S5P_PS_HOLD_CONTROL);\n\tvalue |= S5P_PS_HOLD_EN;\n\tpmu_raw_writel(value, S5P_PS_HOLD_CONTROL);\n}\n\nconst struct exynos_pmu_data exynos3250_pmu_data = {\n\t.pmu_config\t= exynos3250_pmu_config,\n\t.pmu_init\t= exynos3250_pmu_init,\n\t.powerdown_conf_extra\t= exynos3250_powerdown_conf_extra,\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}