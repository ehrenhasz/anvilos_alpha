{
  "module_name": "kunpeng_hccs.h",
  "hash_id": "ad135a891317d04ce092f9f9907c89642cee0b8845a674a2fceda88eb144d4e6",
  "original_prompt": "Ingested from linux-6.6.14/drivers/soc/hisilicon/kunpeng_hccs.h",
  "human_readable_source": " \n \n\n#ifndef __KUNPENG_HCCS_H__\n#define __KUNPENG_HCCS_H__\n\n \n\n \n#define HCCS_DIE_MAX_PORT_ID\t254\n\nstruct hccs_port_info {\n\tu8 port_id;\n\tu8 port_type;\n\tu8 lane_mode;\n\tbool enable;  \n\tstruct kobject kobj;\n\tbool dir_created;\n\tstruct hccs_die_info *die;  \n};\n\nstruct hccs_die_info {\n\tu8 die_id;\n\tu8 port_num;\n\tu8 min_port_id;\n\tu8 max_port_id;\n\tstruct hccs_port_info *ports;\n\tstruct kobject kobj;\n\tbool dir_created;\n\tstruct hccs_chip_info *chip;  \n};\n\nstruct hccs_chip_info {\n\tu8 chip_id;\n\tu8 die_num;\n\tstruct hccs_die_info *dies;\n\tstruct kobject kobj;\n\tstruct hccs_dev *hdev;\n};\n\nstruct hccs_mbox_client_info {\n\tstruct mbox_client client;\n\tstruct mbox_chan *mbox_chan;\n\tstruct pcc_mbox_chan *pcc_chan;\n\tu64 deadline_us;\n\tvoid __iomem *pcc_comm_addr;\n};\n\nstruct hccs_dev {\n\tstruct device *dev;\n\tstruct acpi_device *acpi_dev;\n\tu64 caps;\n\tu8 chip_num;\n\tstruct hccs_chip_info *chips;\n\tu8 chan_id;\n\tstruct mutex lock;\n\tstruct hccs_mbox_client_info cl_info;\n};\n\n#define HCCS_SERDES_MODULE_CODE 0x32\nenum hccs_subcmd_type {\n\tHCCS_GET_CHIP_NUM = 0x1,\n\tHCCS_GET_DIE_NUM,\n\tHCCS_GET_DIE_INFO,\n\tHCCS_GET_DIE_PORT_INFO,\n\tHCCS_GET_DEV_CAP,\n\tHCCS_GET_PORT_LINK_STATUS,\n\tHCCS_GET_PORT_CRC_ERR_CNT,\n\tHCCS_GET_DIE_PORTS_LANE_STA,\n\tHCCS_GET_DIE_PORTS_LINK_STA,\n\tHCCS_GET_DIE_PORTS_CRC_ERR_CNT,\n\tHCCS_SUB_CMD_MAX = 255,\n};\n\nstruct hccs_die_num_req_param {\n\tu8 chip_id;\n};\n\nstruct hccs_die_info_req_param {\n\tu8 chip_id;\n\tu8 die_idx;\n};\n\nstruct hccs_die_info_rsp_data {\n\tu8 die_id;\n\tu8 port_num;\n\tu8 min_port_id;\n\tu8 max_port_id;\n};\n\nstruct hccs_port_attr {\n\tu8 port_id;\n\tu8 port_type;\n\tu8 lane_mode;\n\tu8 enable : 1;  \n\tu16 rsv[2];\n};\n\n \nstruct hccs_die_comm_req_param {\n\tu8 chip_id;\n\tu8 die_id;  \n};\n\n \nstruct hccs_port_comm_req_param {\n\tu8 chip_id;\n\tu8 die_id;\n\tu8 port_id;\n};\n\n#define HCCS_PORT_RESET         1\n#define HCCS_PORT_SETUP         2\n#define HCCS_PORT_CONFIG        3\n#define HCCS_PORT_READY         4\nstruct hccs_link_status {\n\tu8 lane_mask;  \n\tu8 link_fsm : 3;  \n\tu8 lane_num : 5;  \n};\n\nstruct hccs_req_head {\n\tu8 module_code;  \n\tu8 start_id;\n\tu8 rsv[2];\n};\n\nstruct hccs_rsp_head {\n\tu8 data_len;\n\tu8 next_id;\n\tu8 rsv[2];\n};\n\nstruct hccs_fw_inner_head {\n\tu8 retStatus;  \n\tu8 rsv[7];\n};\n\n#define HCCS_PCC_SHARE_MEM_BYTES\t64\n#define HCCS_FW_INNER_HEAD_BYTES\t8\n#define HCCS_RSP_HEAD_BYTES\t\t4\n\n#define HCCS_MAX_RSP_DATA_BYTES\t\t(HCCS_PCC_SHARE_MEM_BYTES - \\\n\t\t\t\t\t HCCS_FW_INNER_HEAD_BYTES - \\\n\t\t\t\t\t HCCS_RSP_HEAD_BYTES)\n#define HCCS_MAX_RSP_DATA_SIZE_MAX\t(HCCS_MAX_RSP_DATA_BYTES / 4)\n\n \nstruct hccs_rsp_desc {\n\tstruct hccs_fw_inner_head fw_inner_head;  \n\tstruct hccs_rsp_head rsp_head;  \n\tu32 data[HCCS_MAX_RSP_DATA_SIZE_MAX];\n};\n\n#define HCCS_REQ_HEAD_BYTES\t\t4\n#define HCCS_MAX_REQ_DATA_BYTES\t\t(HCCS_PCC_SHARE_MEM_BYTES - \\\n\t\t\t\t\t HCCS_REQ_HEAD_BYTES)\n#define HCCS_MAX_REQ_DATA_SIZE_MAX\t(HCCS_MAX_REQ_DATA_BYTES / 4)\n\n \nstruct hccs_req_desc {\n\tstruct hccs_req_head req_head;  \n\tu32 data[HCCS_MAX_REQ_DATA_SIZE_MAX];\n};\n\nstruct hccs_desc {\n\tunion {\n\t\tstruct hccs_req_desc req;\n\t\tstruct hccs_rsp_desc rsp;\n\t};\n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}