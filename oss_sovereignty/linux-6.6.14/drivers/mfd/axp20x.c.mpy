{
  "module_name": "axp20x.c",
  "hash_id": "10083b7ba17dfd1a0aaae1013df26c776dd4b82a055c51c3e5437dad3178b2df",
  "original_prompt": "Ingested from linux-6.6.14/drivers/mfd/axp20x.c",
  "human_readable_source": "\n \n\n#include <linux/acpi.h>\n#include <linux/bitops.h>\n#include <linux/delay.h>\n#include <linux/err.h>\n#include <linux/interrupt.h>\n#include <linux/kernel.h>\n#include <linux/mfd/axp20x.h>\n#include <linux/mfd/core.h>\n#include <linux/module.h>\n#include <linux/of_device.h>\n#include <linux/reboot.h>\n#include <linux/regmap.h>\n#include <linux/regulator/consumer.h>\n\n#define AXP20X_OFF\tBIT(7)\n\n#define AXP806_REG_ADDR_EXT_ADDR_MASTER_MODE\t0\n#define AXP806_REG_ADDR_EXT_ADDR_SLAVE_MODE\tBIT(4)\n\nstatic const char * const axp20x_model_names[] = {\n\t\"AXP152\",\n\t\"AXP192\",\n\t\"AXP202\",\n\t\"AXP209\",\n\t\"AXP221\",\n\t\"AXP223\",\n\t\"AXP288\",\n\t\"AXP313a\",\n\t\"AXP803\",\n\t\"AXP806\",\n\t\"AXP809\",\n\t\"AXP813\",\n\t\"AXP15060\",\n};\n\nstatic const struct regmap_range axp152_writeable_ranges[] = {\n\tregmap_reg_range(AXP152_LDO3456_DC1234_CTRL, AXP152_IRQ3_STATE),\n\tregmap_reg_range(AXP152_DCDC_MODE, AXP152_PWM1_DUTY_CYCLE),\n};\n\nstatic const struct regmap_range axp152_volatile_ranges[] = {\n\tregmap_reg_range(AXP152_PWR_OP_MODE, AXP152_PWR_OP_MODE),\n\tregmap_reg_range(AXP152_IRQ1_EN, AXP152_IRQ3_STATE),\n\tregmap_reg_range(AXP152_GPIO_INPUT, AXP152_GPIO_INPUT),\n};\n\nstatic const struct regmap_access_table axp152_writeable_table = {\n\t.yes_ranges\t= axp152_writeable_ranges,\n\t.n_yes_ranges\t= ARRAY_SIZE(axp152_writeable_ranges),\n};\n\nstatic const struct regmap_access_table axp152_volatile_table = {\n\t.yes_ranges\t= axp152_volatile_ranges,\n\t.n_yes_ranges\t= ARRAY_SIZE(axp152_volatile_ranges),\n};\n\nstatic const struct regmap_range axp20x_writeable_ranges[] = {\n\tregmap_reg_range(AXP20X_DATACACHE(0), AXP20X_IRQ5_STATE),\n\tregmap_reg_range(AXP20X_CHRG_CTRL1, AXP20X_CHRG_CTRL2),\n\tregmap_reg_range(AXP20X_DCDC_MODE, AXP20X_FG_RES),\n\tregmap_reg_range(AXP20X_RDC_H, AXP20X_OCV(AXP20X_OCV_MAX)),\n};\n\nstatic const struct regmap_range axp20x_volatile_ranges[] = {\n\tregmap_reg_range(AXP20X_PWR_INPUT_STATUS, AXP20X_USB_OTG_STATUS),\n\tregmap_reg_range(AXP20X_CHRG_CTRL1, AXP20X_CHRG_CTRL2),\n\tregmap_reg_range(AXP20X_IRQ1_EN, AXP20X_IRQ5_STATE),\n\tregmap_reg_range(AXP20X_ACIN_V_ADC_H, AXP20X_IPSOUT_V_HIGH_L),\n\tregmap_reg_range(AXP20X_GPIO20_SS, AXP20X_GPIO3_CTRL),\n\tregmap_reg_range(AXP20X_FG_RES, AXP20X_RDC_L),\n};\n\nstatic const struct regmap_access_table axp20x_writeable_table = {\n\t.yes_ranges\t= axp20x_writeable_ranges,\n\t.n_yes_ranges\t= ARRAY_SIZE(axp20x_writeable_ranges),\n};\n\nstatic const struct regmap_access_table axp20x_volatile_table = {\n\t.yes_ranges\t= axp20x_volatile_ranges,\n\t.n_yes_ranges\t= ARRAY_SIZE(axp20x_volatile_ranges),\n};\n\nstatic const struct regmap_range axp192_writeable_ranges[] = {\n\tregmap_reg_range(AXP192_DATACACHE(0), AXP192_DATACACHE(5)),\n\tregmap_reg_range(AXP192_PWR_OUT_CTRL, AXP192_IRQ5_STATE),\n\tregmap_reg_range(AXP20X_DCDC_MODE, AXP192_N_RSTO_CTRL),\n\tregmap_reg_range(AXP20X_CC_CTRL, AXP20X_CC_CTRL),\n};\n\nstatic const struct regmap_range axp192_volatile_ranges[] = {\n\tregmap_reg_range(AXP20X_PWR_INPUT_STATUS, AXP192_USB_OTG_STATUS),\n\tregmap_reg_range(AXP192_IRQ1_STATE, AXP192_IRQ4_STATE),\n\tregmap_reg_range(AXP192_IRQ5_STATE, AXP192_IRQ5_STATE),\n\tregmap_reg_range(AXP20X_ACIN_V_ADC_H, AXP20X_IPSOUT_V_HIGH_L),\n\tregmap_reg_range(AXP20X_TIMER_CTRL, AXP20X_TIMER_CTRL),\n\tregmap_reg_range(AXP192_GPIO2_0_STATE, AXP192_GPIO2_0_STATE),\n\tregmap_reg_range(AXP192_GPIO4_3_STATE, AXP192_GPIO4_3_STATE),\n\tregmap_reg_range(AXP192_N_RSTO_CTRL, AXP192_N_RSTO_CTRL),\n\tregmap_reg_range(AXP20X_CHRG_CC_31_24, AXP20X_CC_CTRL),\n};\n\nstatic const struct regmap_access_table axp192_writeable_table = {\n\t.yes_ranges\t= axp192_writeable_ranges,\n\t.n_yes_ranges\t= ARRAY_SIZE(axp192_writeable_ranges),\n};\n\nstatic const struct regmap_access_table axp192_volatile_table = {\n\t.yes_ranges\t= axp192_volatile_ranges,\n\t.n_yes_ranges\t= ARRAY_SIZE(axp192_volatile_ranges),\n};\n\n \nstatic const struct regmap_range axp22x_writeable_ranges[] = {\n\tregmap_reg_range(AXP20X_DATACACHE(0), AXP20X_IRQ5_STATE),\n\tregmap_reg_range(AXP20X_CHRG_CTRL1, AXP22X_CHRG_CTRL3),\n\tregmap_reg_range(AXP20X_DCDC_MODE, AXP22X_BATLOW_THRES1),\n};\n\nstatic const struct regmap_range axp22x_volatile_ranges[] = {\n\tregmap_reg_range(AXP20X_PWR_INPUT_STATUS, AXP20X_PWR_OP_MODE),\n\tregmap_reg_range(AXP20X_IRQ1_EN, AXP20X_IRQ5_STATE),\n\tregmap_reg_range(AXP22X_GPIO_STATE, AXP22X_GPIO_STATE),\n\tregmap_reg_range(AXP22X_PMIC_TEMP_H, AXP20X_IPSOUT_V_HIGH_L),\n\tregmap_reg_range(AXP20X_FG_RES, AXP20X_FG_RES),\n};\n\nstatic const struct regmap_access_table axp22x_writeable_table = {\n\t.yes_ranges\t= axp22x_writeable_ranges,\n\t.n_yes_ranges\t= ARRAY_SIZE(axp22x_writeable_ranges),\n};\n\nstatic const struct regmap_access_table axp22x_volatile_table = {\n\t.yes_ranges\t= axp22x_volatile_ranges,\n\t.n_yes_ranges\t= ARRAY_SIZE(axp22x_volatile_ranges),\n};\n\n \nstatic const struct regmap_range axp288_writeable_ranges[] = {\n\tregmap_reg_range(AXP288_POWER_REASON, AXP288_POWER_REASON),\n\tregmap_reg_range(AXP20X_DATACACHE(0), AXP20X_IRQ6_STATE),\n\tregmap_reg_range(AXP20X_DCDC_MODE, AXP288_FG_TUNE5),\n};\n\nstatic const struct regmap_range axp288_volatile_ranges[] = {\n\tregmap_reg_range(AXP20X_PWR_INPUT_STATUS, AXP288_POWER_REASON),\n\tregmap_reg_range(AXP22X_PWR_OUT_CTRL1, AXP22X_ALDO3_V_OUT),\n\tregmap_reg_range(AXP288_BC_GLOBAL, AXP288_BC_GLOBAL),\n\tregmap_reg_range(AXP288_BC_DET_STAT, AXP20X_VBUS_IPSOUT_MGMT),\n\tregmap_reg_range(AXP20X_CHRG_BAK_CTRL, AXP20X_CHRG_BAK_CTRL),\n\tregmap_reg_range(AXP20X_IRQ1_EN, AXP20X_IPSOUT_V_HIGH_L),\n\tregmap_reg_range(AXP20X_TIMER_CTRL, AXP20X_TIMER_CTRL),\n\tregmap_reg_range(AXP20X_GPIO1_CTRL, AXP22X_GPIO_STATE),\n\tregmap_reg_range(AXP288_RT_BATT_V_H, AXP288_RT_BATT_V_L),\n\tregmap_reg_range(AXP20X_FG_RES, AXP288_FG_CC_CAP_REG),\n};\n\nstatic const struct regmap_access_table axp288_writeable_table = {\n\t.yes_ranges\t= axp288_writeable_ranges,\n\t.n_yes_ranges\t= ARRAY_SIZE(axp288_writeable_ranges),\n};\n\nstatic const struct regmap_access_table axp288_volatile_table = {\n\t.yes_ranges\t= axp288_volatile_ranges,\n\t.n_yes_ranges\t= ARRAY_SIZE(axp288_volatile_ranges),\n};\n\nstatic const struct regmap_range axp806_writeable_ranges[] = {\n\tregmap_reg_range(AXP20X_DATACACHE(0), AXP20X_DATACACHE(3)),\n\tregmap_reg_range(AXP806_PWR_OUT_CTRL1, AXP806_CLDO3_V_CTRL),\n\tregmap_reg_range(AXP20X_IRQ1_EN, AXP20X_IRQ2_EN),\n\tregmap_reg_range(AXP20X_IRQ1_STATE, AXP20X_IRQ2_STATE),\n\tregmap_reg_range(AXP806_REG_ADDR_EXT, AXP806_REG_ADDR_EXT),\n};\n\nstatic const struct regmap_range axp313a_writeable_ranges[] = {\n\tregmap_reg_range(AXP313A_ON_INDICATE, AXP313A_IRQ_STATE),\n};\n\nstatic const struct regmap_range axp313a_volatile_ranges[] = {\n\tregmap_reg_range(AXP313A_SHUTDOWN_CTRL, AXP313A_SHUTDOWN_CTRL),\n\tregmap_reg_range(AXP313A_IRQ_STATE, AXP313A_IRQ_STATE),\n};\n\nstatic const struct regmap_access_table axp313a_writeable_table = {\n\t.yes_ranges = axp313a_writeable_ranges,\n\t.n_yes_ranges = ARRAY_SIZE(axp313a_writeable_ranges),\n};\n\nstatic const struct regmap_access_table axp313a_volatile_table = {\n\t.yes_ranges = axp313a_volatile_ranges,\n\t.n_yes_ranges = ARRAY_SIZE(axp313a_volatile_ranges),\n};\n\nstatic const struct regmap_range axp806_volatile_ranges[] = {\n\tregmap_reg_range(AXP20X_IRQ1_STATE, AXP20X_IRQ2_STATE),\n};\n\nstatic const struct regmap_access_table axp806_writeable_table = {\n\t.yes_ranges\t= axp806_writeable_ranges,\n\t.n_yes_ranges\t= ARRAY_SIZE(axp806_writeable_ranges),\n};\n\nstatic const struct regmap_access_table axp806_volatile_table = {\n\t.yes_ranges\t= axp806_volatile_ranges,\n\t.n_yes_ranges\t= ARRAY_SIZE(axp806_volatile_ranges),\n};\n\nstatic const struct regmap_range axp15060_writeable_ranges[] = {\n\tregmap_reg_range(AXP15060_PWR_OUT_CTRL1, AXP15060_DCDC_MODE_CTRL2),\n\tregmap_reg_range(AXP15060_OUTPUT_MONITOR_DISCHARGE, AXP15060_CPUSLDO_V_CTRL),\n\tregmap_reg_range(AXP15060_PWR_WAKEUP_CTRL, AXP15060_PWR_DISABLE_DOWN_SEQ),\n\tregmap_reg_range(AXP15060_PEK_KEY, AXP15060_PEK_KEY),\n\tregmap_reg_range(AXP15060_IRQ1_EN, AXP15060_IRQ2_EN),\n\tregmap_reg_range(AXP15060_IRQ1_STATE, AXP15060_IRQ2_STATE),\n};\n\nstatic const struct regmap_range axp15060_volatile_ranges[] = {\n\tregmap_reg_range(AXP15060_STARTUP_SRC, AXP15060_STARTUP_SRC),\n\tregmap_reg_range(AXP15060_PWR_WAKEUP_CTRL, AXP15060_PWR_DISABLE_DOWN_SEQ),\n\tregmap_reg_range(AXP15060_IRQ1_STATE, AXP15060_IRQ2_STATE),\n};\n\nstatic const struct regmap_access_table axp15060_writeable_table = {\n\t.yes_ranges\t= axp15060_writeable_ranges,\n\t.n_yes_ranges\t= ARRAY_SIZE(axp15060_writeable_ranges),\n};\n\nstatic const struct regmap_access_table axp15060_volatile_table = {\n\t.yes_ranges\t= axp15060_volatile_ranges,\n\t.n_yes_ranges\t= ARRAY_SIZE(axp15060_volatile_ranges),\n};\n\nstatic const struct resource axp152_pek_resources[] = {\n\tDEFINE_RES_IRQ_NAMED(AXP152_IRQ_PEK_RIS_EDGE, \"PEK_DBR\"),\n\tDEFINE_RES_IRQ_NAMED(AXP152_IRQ_PEK_FAL_EDGE, \"PEK_DBF\"),\n};\n\nstatic const struct resource axp192_ac_power_supply_resources[] = {\n\tDEFINE_RES_IRQ_NAMED(AXP192_IRQ_ACIN_PLUGIN, \"ACIN_PLUGIN\"),\n\tDEFINE_RES_IRQ_NAMED(AXP192_IRQ_ACIN_REMOVAL, \"ACIN_REMOVAL\"),\n\tDEFINE_RES_IRQ_NAMED(AXP192_IRQ_ACIN_OVER_V, \"ACIN_OVER_V\"),\n};\n\nstatic const struct resource axp192_usb_power_supply_resources[] = {\n\tDEFINE_RES_IRQ_NAMED(AXP192_IRQ_VBUS_PLUGIN, \"VBUS_PLUGIN\"),\n\tDEFINE_RES_IRQ_NAMED(AXP192_IRQ_VBUS_REMOVAL, \"VBUS_REMOVAL\"),\n\tDEFINE_RES_IRQ_NAMED(AXP192_IRQ_VBUS_VALID, \"VBUS_VALID\"),\n\tDEFINE_RES_IRQ_NAMED(AXP192_IRQ_VBUS_NOT_VALID, \"VBUS_NOT_VALID\"),\n};\n\nstatic const struct resource axp20x_ac_power_supply_resources[] = {\n\tDEFINE_RES_IRQ_NAMED(AXP20X_IRQ_ACIN_PLUGIN, \"ACIN_PLUGIN\"),\n\tDEFINE_RES_IRQ_NAMED(AXP20X_IRQ_ACIN_REMOVAL, \"ACIN_REMOVAL\"),\n\tDEFINE_RES_IRQ_NAMED(AXP20X_IRQ_ACIN_OVER_V, \"ACIN_OVER_V\"),\n};\n\nstatic const struct resource axp20x_pek_resources[] = {\n\tDEFINE_RES_IRQ_NAMED(AXP20X_IRQ_PEK_RIS_EDGE, \"PEK_DBR\"),\n\tDEFINE_RES_IRQ_NAMED(AXP20X_IRQ_PEK_FAL_EDGE, \"PEK_DBF\"),\n};\n\nstatic const struct resource axp20x_usb_power_supply_resources[] = {\n\tDEFINE_RES_IRQ_NAMED(AXP20X_IRQ_VBUS_PLUGIN, \"VBUS_PLUGIN\"),\n\tDEFINE_RES_IRQ_NAMED(AXP20X_IRQ_VBUS_REMOVAL, \"VBUS_REMOVAL\"),\n\tDEFINE_RES_IRQ_NAMED(AXP20X_IRQ_VBUS_VALID, \"VBUS_VALID\"),\n\tDEFINE_RES_IRQ_NAMED(AXP20X_IRQ_VBUS_NOT_VALID, \"VBUS_NOT_VALID\"),\n};\n\nstatic const struct resource axp22x_usb_power_supply_resources[] = {\n\tDEFINE_RES_IRQ_NAMED(AXP22X_IRQ_VBUS_PLUGIN, \"VBUS_PLUGIN\"),\n\tDEFINE_RES_IRQ_NAMED(AXP22X_IRQ_VBUS_REMOVAL, \"VBUS_REMOVAL\"),\n};\n\n \nstatic const struct resource axp803_usb_power_supply_resources[] = {\n\tDEFINE_RES_IRQ_NAMED(AXP803_IRQ_VBUS_PLUGIN, \"VBUS_PLUGIN\"),\n\tDEFINE_RES_IRQ_NAMED(AXP803_IRQ_VBUS_REMOVAL, \"VBUS_REMOVAL\"),\n};\n\nstatic const struct resource axp22x_pek_resources[] = {\n\tDEFINE_RES_IRQ_NAMED(AXP22X_IRQ_PEK_RIS_EDGE, \"PEK_DBR\"),\n\tDEFINE_RES_IRQ_NAMED(AXP22X_IRQ_PEK_FAL_EDGE, \"PEK_DBF\"),\n};\n\nstatic const struct resource axp288_power_button_resources[] = {\n\tDEFINE_RES_IRQ_NAMED(AXP288_IRQ_POKP, \"PEK_DBR\"),\n\tDEFINE_RES_IRQ_NAMED(AXP288_IRQ_POKN, \"PEK_DBF\"),\n};\n\nstatic const struct resource axp288_fuel_gauge_resources[] = {\n\tDEFINE_RES_IRQ(AXP288_IRQ_QWBTU),\n\tDEFINE_RES_IRQ(AXP288_IRQ_WBTU),\n\tDEFINE_RES_IRQ(AXP288_IRQ_QWBTO),\n\tDEFINE_RES_IRQ(AXP288_IRQ_WBTO),\n\tDEFINE_RES_IRQ(AXP288_IRQ_WL2),\n\tDEFINE_RES_IRQ(AXP288_IRQ_WL1),\n};\n\nstatic const struct resource axp313a_pek_resources[] = {\n\tDEFINE_RES_IRQ_NAMED(AXP313A_IRQ_PEK_RIS_EDGE, \"PEK_DBR\"),\n\tDEFINE_RES_IRQ_NAMED(AXP313A_IRQ_PEK_FAL_EDGE, \"PEK_DBF\"),\n};\n\nstatic const struct resource axp803_pek_resources[] = {\n\tDEFINE_RES_IRQ_NAMED(AXP803_IRQ_PEK_RIS_EDGE, \"PEK_DBR\"),\n\tDEFINE_RES_IRQ_NAMED(AXP803_IRQ_PEK_FAL_EDGE, \"PEK_DBF\"),\n};\n\nstatic const struct resource axp806_pek_resources[] = {\n\tDEFINE_RES_IRQ_NAMED(AXP806_IRQ_POK_RISE, \"PEK_DBR\"),\n\tDEFINE_RES_IRQ_NAMED(AXP806_IRQ_POK_FALL, \"PEK_DBF\"),\n};\n\nstatic const struct resource axp809_pek_resources[] = {\n\tDEFINE_RES_IRQ_NAMED(AXP809_IRQ_PEK_RIS_EDGE, \"PEK_DBR\"),\n\tDEFINE_RES_IRQ_NAMED(AXP809_IRQ_PEK_FAL_EDGE, \"PEK_DBF\"),\n};\n\nstatic const struct resource axp15060_pek_resources[] = {\n\tDEFINE_RES_IRQ_NAMED(AXP15060_IRQ_PEK_RIS_EDGE, \"PEK_DBR\"),\n\tDEFINE_RES_IRQ_NAMED(AXP15060_IRQ_PEK_FAL_EDGE, \"PEK_DBF\"),\n};\n\nstatic const struct regmap_config axp152_regmap_config = {\n\t.reg_bits\t= 8,\n\t.val_bits\t= 8,\n\t.wr_table\t= &axp152_writeable_table,\n\t.volatile_table\t= &axp152_volatile_table,\n\t.max_register\t= AXP152_PWM1_DUTY_CYCLE,\n\t.cache_type\t= REGCACHE_MAPLE,\n};\n\nstatic const struct regmap_config axp192_regmap_config = {\n\t.reg_bits\t= 8,\n\t.val_bits\t= 8,\n\t.wr_table\t= &axp192_writeable_table,\n\t.volatile_table\t= &axp192_volatile_table,\n\t.max_register\t= AXP20X_CC_CTRL,\n\t.cache_type\t= REGCACHE_RBTREE,\n};\n\nstatic const struct regmap_config axp20x_regmap_config = {\n\t.reg_bits\t= 8,\n\t.val_bits\t= 8,\n\t.wr_table\t= &axp20x_writeable_table,\n\t.volatile_table\t= &axp20x_volatile_table,\n\t.max_register\t= AXP20X_OCV(AXP20X_OCV_MAX),\n\t.cache_type\t= REGCACHE_MAPLE,\n};\n\nstatic const struct regmap_config axp22x_regmap_config = {\n\t.reg_bits\t= 8,\n\t.val_bits\t= 8,\n\t.wr_table\t= &axp22x_writeable_table,\n\t.volatile_table\t= &axp22x_volatile_table,\n\t.max_register\t= AXP22X_BATLOW_THRES1,\n\t.cache_type\t= REGCACHE_MAPLE,\n};\n\nstatic const struct regmap_config axp288_regmap_config = {\n\t.reg_bits\t= 8,\n\t.val_bits\t= 8,\n\t.wr_table\t= &axp288_writeable_table,\n\t.volatile_table\t= &axp288_volatile_table,\n\t.max_register\t= AXP288_FG_TUNE5,\n\t.cache_type\t= REGCACHE_MAPLE,\n};\n\nstatic const struct regmap_config axp313a_regmap_config = {\n\t.reg_bits = 8,\n\t.val_bits = 8,\n\t.wr_table = &axp313a_writeable_table,\n\t.volatile_table = &axp313a_volatile_table,\n\t.max_register = AXP313A_IRQ_STATE,\n\t.cache_type = REGCACHE_RBTREE,\n};\n\nstatic const struct regmap_config axp806_regmap_config = {\n\t.reg_bits\t= 8,\n\t.val_bits\t= 8,\n\t.wr_table\t= &axp806_writeable_table,\n\t.volatile_table\t= &axp806_volatile_table,\n\t.max_register\t= AXP806_REG_ADDR_EXT,\n\t.cache_type\t= REGCACHE_MAPLE,\n};\n\nstatic const struct regmap_config axp15060_regmap_config = {\n\t.reg_bits\t= 8,\n\t.val_bits\t= 8,\n\t.wr_table\t= &axp15060_writeable_table,\n\t.volatile_table\t= &axp15060_volatile_table,\n\t.max_register\t= AXP15060_IRQ2_STATE,\n\t.cache_type\t= REGCACHE_MAPLE,\n};\n\n#define INIT_REGMAP_IRQ(_variant, _irq, _off, _mask)\t\t\t\\\n\t[_variant##_IRQ_##_irq] = { .reg_offset = (_off), .mask = BIT(_mask) }\n\nstatic const struct regmap_irq axp152_regmap_irqs[] = {\n\tINIT_REGMAP_IRQ(AXP152, LDO0IN_CONNECT,\t\t0, 6),\n\tINIT_REGMAP_IRQ(AXP152, LDO0IN_REMOVAL,\t\t0, 5),\n\tINIT_REGMAP_IRQ(AXP152, ALDO0IN_CONNECT,\t0, 3),\n\tINIT_REGMAP_IRQ(AXP152, ALDO0IN_REMOVAL,\t0, 2),\n\tINIT_REGMAP_IRQ(AXP152, DCDC1_V_LOW,\t\t1, 5),\n\tINIT_REGMAP_IRQ(AXP152, DCDC2_V_LOW,\t\t1, 4),\n\tINIT_REGMAP_IRQ(AXP152, DCDC3_V_LOW,\t\t1, 3),\n\tINIT_REGMAP_IRQ(AXP152, DCDC4_V_LOW,\t\t1, 2),\n\tINIT_REGMAP_IRQ(AXP152, PEK_SHORT,\t\t1, 1),\n\tINIT_REGMAP_IRQ(AXP152, PEK_LONG,\t\t1, 0),\n\tINIT_REGMAP_IRQ(AXP152, TIMER,\t\t\t2, 7),\n\tINIT_REGMAP_IRQ(AXP152, PEK_RIS_EDGE,\t\t2, 6),\n\tINIT_REGMAP_IRQ(AXP152, PEK_FAL_EDGE,\t\t2, 5),\n\tINIT_REGMAP_IRQ(AXP152, GPIO3_INPUT,\t\t2, 3),\n\tINIT_REGMAP_IRQ(AXP152, GPIO2_INPUT,\t\t2, 2),\n\tINIT_REGMAP_IRQ(AXP152, GPIO1_INPUT,\t\t2, 1),\n\tINIT_REGMAP_IRQ(AXP152, GPIO0_INPUT,\t\t2, 0),\n};\n\nstatic const struct regmap_irq axp192_regmap_irqs[] = {\n\tINIT_REGMAP_IRQ(AXP192, ACIN_OVER_V,\t\t0, 7),\n\tINIT_REGMAP_IRQ(AXP192, ACIN_PLUGIN,\t\t0, 6),\n\tINIT_REGMAP_IRQ(AXP192, ACIN_REMOVAL,\t\t0, 5),\n\tINIT_REGMAP_IRQ(AXP192, VBUS_OVER_V,\t\t0, 4),\n\tINIT_REGMAP_IRQ(AXP192, VBUS_PLUGIN,\t\t0, 3),\n\tINIT_REGMAP_IRQ(AXP192, VBUS_REMOVAL,\t\t0, 2),\n\tINIT_REGMAP_IRQ(AXP192, VBUS_V_LOW,\t\t0, 1),\n\tINIT_REGMAP_IRQ(AXP192, BATT_PLUGIN,\t\t1, 7),\n\tINIT_REGMAP_IRQ(AXP192, BATT_REMOVAL,\t        1, 6),\n\tINIT_REGMAP_IRQ(AXP192, BATT_ENT_ACT_MODE,\t1, 5),\n\tINIT_REGMAP_IRQ(AXP192, BATT_EXIT_ACT_MODE,\t1, 4),\n\tINIT_REGMAP_IRQ(AXP192, CHARG,\t\t        1, 3),\n\tINIT_REGMAP_IRQ(AXP192, CHARG_DONE,\t\t1, 2),\n\tINIT_REGMAP_IRQ(AXP192, BATT_TEMP_HIGH,\t        1, 1),\n\tINIT_REGMAP_IRQ(AXP192, BATT_TEMP_LOW,\t        1, 0),\n\tINIT_REGMAP_IRQ(AXP192, DIE_TEMP_HIGH,\t        2, 7),\n\tINIT_REGMAP_IRQ(AXP192, CHARG_I_LOW,\t\t2, 6),\n\tINIT_REGMAP_IRQ(AXP192, DCDC1_V_LONG,\t        2, 5),\n\tINIT_REGMAP_IRQ(AXP192, DCDC2_V_LONG,\t        2, 4),\n\tINIT_REGMAP_IRQ(AXP192, DCDC3_V_LONG,\t        2, 3),\n\tINIT_REGMAP_IRQ(AXP192, PEK_SHORT,\t\t2, 1),\n\tINIT_REGMAP_IRQ(AXP192, PEK_LONG,\t\t2, 0),\n\tINIT_REGMAP_IRQ(AXP192, N_OE_PWR_ON,\t\t3, 7),\n\tINIT_REGMAP_IRQ(AXP192, N_OE_PWR_OFF,\t        3, 6),\n\tINIT_REGMAP_IRQ(AXP192, VBUS_VALID,\t\t3, 5),\n\tINIT_REGMAP_IRQ(AXP192, VBUS_NOT_VALID,\t        3, 4),\n\tINIT_REGMAP_IRQ(AXP192, VBUS_SESS_VALID,\t3, 3),\n\tINIT_REGMAP_IRQ(AXP192, VBUS_SESS_END,\t        3, 2),\n\tINIT_REGMAP_IRQ(AXP192, LOW_PWR_LVL,\t        3, 0),\n\tINIT_REGMAP_IRQ(AXP192, TIMER,\t\t\t4, 7),\n\tINIT_REGMAP_IRQ(AXP192, GPIO2_INPUT,\t\t4, 2),\n\tINIT_REGMAP_IRQ(AXP192, GPIO1_INPUT,\t\t4, 1),\n\tINIT_REGMAP_IRQ(AXP192, GPIO0_INPUT,\t\t4, 0),\n};\n\nstatic const struct regmap_irq axp20x_regmap_irqs[] = {\n\tINIT_REGMAP_IRQ(AXP20X, ACIN_OVER_V,\t\t0, 7),\n\tINIT_REGMAP_IRQ(AXP20X, ACIN_PLUGIN,\t\t0, 6),\n\tINIT_REGMAP_IRQ(AXP20X, ACIN_REMOVAL,\t        0, 5),\n\tINIT_REGMAP_IRQ(AXP20X, VBUS_OVER_V,\t\t0, 4),\n\tINIT_REGMAP_IRQ(AXP20X, VBUS_PLUGIN,\t\t0, 3),\n\tINIT_REGMAP_IRQ(AXP20X, VBUS_REMOVAL,\t        0, 2),\n\tINIT_REGMAP_IRQ(AXP20X, VBUS_V_LOW,\t\t0, 1),\n\tINIT_REGMAP_IRQ(AXP20X, BATT_PLUGIN,\t\t1, 7),\n\tINIT_REGMAP_IRQ(AXP20X, BATT_REMOVAL,\t        1, 6),\n\tINIT_REGMAP_IRQ(AXP20X, BATT_ENT_ACT_MODE,\t1, 5),\n\tINIT_REGMAP_IRQ(AXP20X, BATT_EXIT_ACT_MODE,\t1, 4),\n\tINIT_REGMAP_IRQ(AXP20X, CHARG,\t\t        1, 3),\n\tINIT_REGMAP_IRQ(AXP20X, CHARG_DONE,\t\t1, 2),\n\tINIT_REGMAP_IRQ(AXP20X, BATT_TEMP_HIGH,\t        1, 1),\n\tINIT_REGMAP_IRQ(AXP20X, BATT_TEMP_LOW,\t        1, 0),\n\tINIT_REGMAP_IRQ(AXP20X, DIE_TEMP_HIGH,\t        2, 7),\n\tINIT_REGMAP_IRQ(AXP20X, CHARG_I_LOW,\t\t2, 6),\n\tINIT_REGMAP_IRQ(AXP20X, DCDC1_V_LONG,\t        2, 5),\n\tINIT_REGMAP_IRQ(AXP20X, DCDC2_V_LONG,\t        2, 4),\n\tINIT_REGMAP_IRQ(AXP20X, DCDC3_V_LONG,\t        2, 3),\n\tINIT_REGMAP_IRQ(AXP20X, PEK_SHORT,\t\t2, 1),\n\tINIT_REGMAP_IRQ(AXP20X, PEK_LONG,\t\t2, 0),\n\tINIT_REGMAP_IRQ(AXP20X, N_OE_PWR_ON,\t\t3, 7),\n\tINIT_REGMAP_IRQ(AXP20X, N_OE_PWR_OFF,\t        3, 6),\n\tINIT_REGMAP_IRQ(AXP20X, VBUS_VALID,\t\t3, 5),\n\tINIT_REGMAP_IRQ(AXP20X, VBUS_NOT_VALID,\t        3, 4),\n\tINIT_REGMAP_IRQ(AXP20X, VBUS_SESS_VALID,\t3, 3),\n\tINIT_REGMAP_IRQ(AXP20X, VBUS_SESS_END,\t        3, 2),\n\tINIT_REGMAP_IRQ(AXP20X, LOW_PWR_LVL1,\t        3, 1),\n\tINIT_REGMAP_IRQ(AXP20X, LOW_PWR_LVL2,\t        3, 0),\n\tINIT_REGMAP_IRQ(AXP20X, TIMER,\t\t        4, 7),\n\tINIT_REGMAP_IRQ(AXP20X, PEK_RIS_EDGE,\t        4, 6),\n\tINIT_REGMAP_IRQ(AXP20X, PEK_FAL_EDGE,\t        4, 5),\n\tINIT_REGMAP_IRQ(AXP20X, GPIO3_INPUT,\t\t4, 3),\n\tINIT_REGMAP_IRQ(AXP20X, GPIO2_INPUT,\t\t4, 2),\n\tINIT_REGMAP_IRQ(AXP20X, GPIO1_INPUT,\t\t4, 1),\n\tINIT_REGMAP_IRQ(AXP20X, GPIO0_INPUT,\t\t4, 0),\n};\n\nstatic const struct regmap_irq axp22x_regmap_irqs[] = {\n\tINIT_REGMAP_IRQ(AXP22X, ACIN_OVER_V,\t\t0, 7),\n\tINIT_REGMAP_IRQ(AXP22X, ACIN_PLUGIN,\t\t0, 6),\n\tINIT_REGMAP_IRQ(AXP22X, ACIN_REMOVAL,\t        0, 5),\n\tINIT_REGMAP_IRQ(AXP22X, VBUS_OVER_V,\t\t0, 4),\n\tINIT_REGMAP_IRQ(AXP22X, VBUS_PLUGIN,\t\t0, 3),\n\tINIT_REGMAP_IRQ(AXP22X, VBUS_REMOVAL,\t        0, 2),\n\tINIT_REGMAP_IRQ(AXP22X, VBUS_V_LOW,\t\t0, 1),\n\tINIT_REGMAP_IRQ(AXP22X, BATT_PLUGIN,\t\t1, 7),\n\tINIT_REGMAP_IRQ(AXP22X, BATT_REMOVAL,\t        1, 6),\n\tINIT_REGMAP_IRQ(AXP22X, BATT_ENT_ACT_MODE,\t1, 5),\n\tINIT_REGMAP_IRQ(AXP22X, BATT_EXIT_ACT_MODE,\t1, 4),\n\tINIT_REGMAP_IRQ(AXP22X, CHARG,\t\t        1, 3),\n\tINIT_REGMAP_IRQ(AXP22X, CHARG_DONE,\t\t1, 2),\n\tINIT_REGMAP_IRQ(AXP22X, BATT_TEMP_HIGH,\t        1, 1),\n\tINIT_REGMAP_IRQ(AXP22X, BATT_TEMP_LOW,\t        1, 0),\n\tINIT_REGMAP_IRQ(AXP22X, DIE_TEMP_HIGH,\t        2, 7),\n\tINIT_REGMAP_IRQ(AXP22X, PEK_SHORT,\t\t2, 1),\n\tINIT_REGMAP_IRQ(AXP22X, PEK_LONG,\t\t2, 0),\n\tINIT_REGMAP_IRQ(AXP22X, LOW_PWR_LVL1,\t        3, 1),\n\tINIT_REGMAP_IRQ(AXP22X, LOW_PWR_LVL2,\t        3, 0),\n\tINIT_REGMAP_IRQ(AXP22X, TIMER,\t\t        4, 7),\n\tINIT_REGMAP_IRQ(AXP22X, PEK_RIS_EDGE,\t        4, 6),\n\tINIT_REGMAP_IRQ(AXP22X, PEK_FAL_EDGE,\t        4, 5),\n\tINIT_REGMAP_IRQ(AXP22X, GPIO1_INPUT,\t\t4, 1),\n\tINIT_REGMAP_IRQ(AXP22X, GPIO0_INPUT,\t\t4, 0),\n};\n\n \nstatic const struct regmap_irq axp288_regmap_irqs[] = {\n\tINIT_REGMAP_IRQ(AXP288, VBUS_FALL,              0, 2),\n\tINIT_REGMAP_IRQ(AXP288, VBUS_RISE,              0, 3),\n\tINIT_REGMAP_IRQ(AXP288, OV,                     0, 4),\n\tINIT_REGMAP_IRQ(AXP288, FALLING_ALT,            0, 5),\n\tINIT_REGMAP_IRQ(AXP288, RISING_ALT,             0, 6),\n\tINIT_REGMAP_IRQ(AXP288, OV_ALT,                 0, 7),\n\n\tINIT_REGMAP_IRQ(AXP288, DONE,                   1, 2),\n\tINIT_REGMAP_IRQ(AXP288, CHARGING,               1, 3),\n\tINIT_REGMAP_IRQ(AXP288, SAFE_QUIT,              1, 4),\n\tINIT_REGMAP_IRQ(AXP288, SAFE_ENTER,             1, 5),\n\tINIT_REGMAP_IRQ(AXP288, ABSENT,                 1, 6),\n\tINIT_REGMAP_IRQ(AXP288, APPEND,                 1, 7),\n\n\tINIT_REGMAP_IRQ(AXP288, QWBTU,                  2, 0),\n\tINIT_REGMAP_IRQ(AXP288, WBTU,                   2, 1),\n\tINIT_REGMAP_IRQ(AXP288, QWBTO,                  2, 2),\n\tINIT_REGMAP_IRQ(AXP288, WBTO,                   2, 3),\n\tINIT_REGMAP_IRQ(AXP288, QCBTU,                  2, 4),\n\tINIT_REGMAP_IRQ(AXP288, CBTU,                   2, 5),\n\tINIT_REGMAP_IRQ(AXP288, QCBTO,                  2, 6),\n\tINIT_REGMAP_IRQ(AXP288, CBTO,                   2, 7),\n\n\tINIT_REGMAP_IRQ(AXP288, WL2,                    3, 0),\n\tINIT_REGMAP_IRQ(AXP288, WL1,                    3, 1),\n\tINIT_REGMAP_IRQ(AXP288, GPADC,                  3, 2),\n\tINIT_REGMAP_IRQ(AXP288, OT,                     3, 7),\n\n\tINIT_REGMAP_IRQ(AXP288, GPIO0,                  4, 0),\n\tINIT_REGMAP_IRQ(AXP288, GPIO1,                  4, 1),\n\tINIT_REGMAP_IRQ(AXP288, POKO,                   4, 2),\n\tINIT_REGMAP_IRQ(AXP288, POKL,                   4, 3),\n\tINIT_REGMAP_IRQ(AXP288, POKS,                   4, 4),\n\tINIT_REGMAP_IRQ(AXP288, POKN,                   4, 5),\n\tINIT_REGMAP_IRQ(AXP288, POKP,                   4, 6),\n\tINIT_REGMAP_IRQ(AXP288, TIMER,                  4, 7),\n\n\tINIT_REGMAP_IRQ(AXP288, MV_CHNG,                5, 0),\n\tINIT_REGMAP_IRQ(AXP288, BC_USB_CHNG,            5, 1),\n};\n\nstatic const struct regmap_irq axp313a_regmap_irqs[] = {\n\tINIT_REGMAP_IRQ(AXP313A, PEK_RIS_EDGE,\t\t0, 7),\n\tINIT_REGMAP_IRQ(AXP313A, PEK_FAL_EDGE,\t\t0, 6),\n\tINIT_REGMAP_IRQ(AXP313A, PEK_SHORT,\t\t0, 5),\n\tINIT_REGMAP_IRQ(AXP313A, PEK_LONG,\t\t0, 4),\n\tINIT_REGMAP_IRQ(AXP313A, DCDC3_V_LOW,\t\t0, 3),\n\tINIT_REGMAP_IRQ(AXP313A, DCDC2_V_LOW,\t\t0, 2),\n\tINIT_REGMAP_IRQ(AXP313A, DIE_TEMP_HIGH,\t\t0, 0),\n};\n\nstatic const struct regmap_irq axp803_regmap_irqs[] = {\n\tINIT_REGMAP_IRQ(AXP803, ACIN_OVER_V,\t\t0, 7),\n\tINIT_REGMAP_IRQ(AXP803, ACIN_PLUGIN,\t\t0, 6),\n\tINIT_REGMAP_IRQ(AXP803, ACIN_REMOVAL,\t        0, 5),\n\tINIT_REGMAP_IRQ(AXP803, VBUS_OVER_V,\t\t0, 4),\n\tINIT_REGMAP_IRQ(AXP803, VBUS_PLUGIN,\t\t0, 3),\n\tINIT_REGMAP_IRQ(AXP803, VBUS_REMOVAL,\t        0, 2),\n\tINIT_REGMAP_IRQ(AXP803, BATT_PLUGIN,\t\t1, 7),\n\tINIT_REGMAP_IRQ(AXP803, BATT_REMOVAL,\t        1, 6),\n\tINIT_REGMAP_IRQ(AXP803, BATT_ENT_ACT_MODE,\t1, 5),\n\tINIT_REGMAP_IRQ(AXP803, BATT_EXIT_ACT_MODE,\t1, 4),\n\tINIT_REGMAP_IRQ(AXP803, CHARG,\t\t        1, 3),\n\tINIT_REGMAP_IRQ(AXP803, CHARG_DONE,\t\t1, 2),\n\tINIT_REGMAP_IRQ(AXP803, BATT_CHG_TEMP_HIGH,\t2, 7),\n\tINIT_REGMAP_IRQ(AXP803, BATT_CHG_TEMP_HIGH_END,\t2, 6),\n\tINIT_REGMAP_IRQ(AXP803, BATT_CHG_TEMP_LOW,\t2, 5),\n\tINIT_REGMAP_IRQ(AXP803, BATT_CHG_TEMP_LOW_END,\t2, 4),\n\tINIT_REGMAP_IRQ(AXP803, BATT_ACT_TEMP_HIGH,\t2, 3),\n\tINIT_REGMAP_IRQ(AXP803, BATT_ACT_TEMP_HIGH_END,\t2, 2),\n\tINIT_REGMAP_IRQ(AXP803, BATT_ACT_TEMP_LOW,\t2, 1),\n\tINIT_REGMAP_IRQ(AXP803, BATT_ACT_TEMP_LOW_END,\t2, 0),\n\tINIT_REGMAP_IRQ(AXP803, DIE_TEMP_HIGH,\t        3, 7),\n\tINIT_REGMAP_IRQ(AXP803, GPADC,\t\t        3, 2),\n\tINIT_REGMAP_IRQ(AXP803, LOW_PWR_LVL1,\t        3, 1),\n\tINIT_REGMAP_IRQ(AXP803, LOW_PWR_LVL2,\t        3, 0),\n\tINIT_REGMAP_IRQ(AXP803, TIMER,\t\t        4, 7),\n\tINIT_REGMAP_IRQ(AXP803, PEK_RIS_EDGE,\t        4, 6),\n\tINIT_REGMAP_IRQ(AXP803, PEK_FAL_EDGE,\t        4, 5),\n\tINIT_REGMAP_IRQ(AXP803, PEK_SHORT,\t\t4, 4),\n\tINIT_REGMAP_IRQ(AXP803, PEK_LONG,\t\t4, 3),\n\tINIT_REGMAP_IRQ(AXP803, PEK_OVER_OFF,\t\t4, 2),\n\tINIT_REGMAP_IRQ(AXP803, GPIO1_INPUT,\t\t4, 1),\n\tINIT_REGMAP_IRQ(AXP803, GPIO0_INPUT,\t\t4, 0),\n\tINIT_REGMAP_IRQ(AXP803, BC_USB_CHNG,            5, 1),\n\tINIT_REGMAP_IRQ(AXP803, MV_CHNG,                5, 0),\n};\n\nstatic const struct regmap_irq axp806_regmap_irqs[] = {\n\tINIT_REGMAP_IRQ(AXP806, DIE_TEMP_HIGH_LV1,\t0, 0),\n\tINIT_REGMAP_IRQ(AXP806, DIE_TEMP_HIGH_LV2,\t0, 1),\n\tINIT_REGMAP_IRQ(AXP806, DCDCA_V_LOW,\t\t0, 3),\n\tINIT_REGMAP_IRQ(AXP806, DCDCB_V_LOW,\t\t0, 4),\n\tINIT_REGMAP_IRQ(AXP806, DCDCC_V_LOW,\t\t0, 5),\n\tINIT_REGMAP_IRQ(AXP806, DCDCD_V_LOW,\t\t0, 6),\n\tINIT_REGMAP_IRQ(AXP806, DCDCE_V_LOW,\t\t0, 7),\n\tINIT_REGMAP_IRQ(AXP806, POK_LONG,\t\t1, 0),\n\tINIT_REGMAP_IRQ(AXP806, POK_SHORT,\t\t1, 1),\n\tINIT_REGMAP_IRQ(AXP806, WAKEUP,\t\t\t1, 4),\n\tINIT_REGMAP_IRQ(AXP806, POK_FALL,\t\t1, 5),\n\tINIT_REGMAP_IRQ(AXP806, POK_RISE,\t\t1, 6),\n};\n\nstatic const struct regmap_irq axp809_regmap_irqs[] = {\n\tINIT_REGMAP_IRQ(AXP809, ACIN_OVER_V,\t\t0, 7),\n\tINIT_REGMAP_IRQ(AXP809, ACIN_PLUGIN,\t\t0, 6),\n\tINIT_REGMAP_IRQ(AXP809, ACIN_REMOVAL,\t        0, 5),\n\tINIT_REGMAP_IRQ(AXP809, VBUS_OVER_V,\t\t0, 4),\n\tINIT_REGMAP_IRQ(AXP809, VBUS_PLUGIN,\t\t0, 3),\n\tINIT_REGMAP_IRQ(AXP809, VBUS_REMOVAL,\t        0, 2),\n\tINIT_REGMAP_IRQ(AXP809, VBUS_V_LOW,\t\t0, 1),\n\tINIT_REGMAP_IRQ(AXP809, BATT_PLUGIN,\t\t1, 7),\n\tINIT_REGMAP_IRQ(AXP809, BATT_REMOVAL,\t        1, 6),\n\tINIT_REGMAP_IRQ(AXP809, BATT_ENT_ACT_MODE,\t1, 5),\n\tINIT_REGMAP_IRQ(AXP809, BATT_EXIT_ACT_MODE,\t1, 4),\n\tINIT_REGMAP_IRQ(AXP809, CHARG,\t\t        1, 3),\n\tINIT_REGMAP_IRQ(AXP809, CHARG_DONE,\t\t1, 2),\n\tINIT_REGMAP_IRQ(AXP809, BATT_CHG_TEMP_HIGH,\t2, 7),\n\tINIT_REGMAP_IRQ(AXP809, BATT_CHG_TEMP_HIGH_END,\t2, 6),\n\tINIT_REGMAP_IRQ(AXP809, BATT_CHG_TEMP_LOW,\t2, 5),\n\tINIT_REGMAP_IRQ(AXP809, BATT_CHG_TEMP_LOW_END,\t2, 4),\n\tINIT_REGMAP_IRQ(AXP809, BATT_ACT_TEMP_HIGH,\t2, 3),\n\tINIT_REGMAP_IRQ(AXP809, BATT_ACT_TEMP_HIGH_END,\t2, 2),\n\tINIT_REGMAP_IRQ(AXP809, BATT_ACT_TEMP_LOW,\t2, 1),\n\tINIT_REGMAP_IRQ(AXP809, BATT_ACT_TEMP_LOW_END,\t2, 0),\n\tINIT_REGMAP_IRQ(AXP809, DIE_TEMP_HIGH,\t        3, 7),\n\tINIT_REGMAP_IRQ(AXP809, LOW_PWR_LVL1,\t        3, 1),\n\tINIT_REGMAP_IRQ(AXP809, LOW_PWR_LVL2,\t        3, 0),\n\tINIT_REGMAP_IRQ(AXP809, TIMER,\t\t        4, 7),\n\tINIT_REGMAP_IRQ(AXP809, PEK_RIS_EDGE,\t        4, 6),\n\tINIT_REGMAP_IRQ(AXP809, PEK_FAL_EDGE,\t        4, 5),\n\tINIT_REGMAP_IRQ(AXP809, PEK_SHORT,\t\t4, 4),\n\tINIT_REGMAP_IRQ(AXP809, PEK_LONG,\t\t4, 3),\n\tINIT_REGMAP_IRQ(AXP809, PEK_OVER_OFF,\t\t4, 2),\n\tINIT_REGMAP_IRQ(AXP809, GPIO1_INPUT,\t\t4, 1),\n\tINIT_REGMAP_IRQ(AXP809, GPIO0_INPUT,\t\t4, 0),\n};\n\nstatic const struct regmap_irq axp15060_regmap_irqs[] = {\n\tINIT_REGMAP_IRQ(AXP15060, DIE_TEMP_HIGH_LV1,\t0, 0),\n\tINIT_REGMAP_IRQ(AXP15060, DIE_TEMP_HIGH_LV2,\t0, 1),\n\tINIT_REGMAP_IRQ(AXP15060, DCDC1_V_LOW,\t\t0, 2),\n\tINIT_REGMAP_IRQ(AXP15060, DCDC2_V_LOW,\t\t0, 3),\n\tINIT_REGMAP_IRQ(AXP15060, DCDC3_V_LOW,\t\t0, 4),\n\tINIT_REGMAP_IRQ(AXP15060, DCDC4_V_LOW,\t\t0, 5),\n\tINIT_REGMAP_IRQ(AXP15060, DCDC5_V_LOW,\t\t0, 6),\n\tINIT_REGMAP_IRQ(AXP15060, DCDC6_V_LOW,\t\t0, 7),\n\tINIT_REGMAP_IRQ(AXP15060, PEK_LONG,\t\t\t1, 0),\n\tINIT_REGMAP_IRQ(AXP15060, PEK_SHORT,\t\t\t1, 1),\n\tINIT_REGMAP_IRQ(AXP15060, GPIO1_INPUT,\t\t1, 2),\n\tINIT_REGMAP_IRQ(AXP15060, PEK_FAL_EDGE,\t\t\t1, 3),\n\tINIT_REGMAP_IRQ(AXP15060, PEK_RIS_EDGE,\t\t\t1, 4),\n\tINIT_REGMAP_IRQ(AXP15060, GPIO2_INPUT,\t\t1, 5),\n};\n\nstatic const struct regmap_irq_chip axp152_regmap_irq_chip = {\n\t.name\t\t\t= \"axp152_irq_chip\",\n\t.status_base\t\t= AXP152_IRQ1_STATE,\n\t.ack_base\t\t= AXP152_IRQ1_STATE,\n\t.unmask_base\t\t= AXP152_IRQ1_EN,\n\t.init_ack_masked\t= true,\n\t.irqs\t\t\t= axp152_regmap_irqs,\n\t.num_irqs\t\t= ARRAY_SIZE(axp152_regmap_irqs),\n\t.num_regs\t\t= 3,\n};\n\nstatic unsigned int axp192_get_irq_reg(struct regmap_irq_chip_data *data,\n\t\t\t\t       unsigned int base, int index)\n{\n\t \n\tif (index < 4)\n\t\treturn base + index;\n\n\t \n\tif (base == AXP192_IRQ1_EN)\n\t\treturn AXP192_IRQ5_EN;\n\n\treturn AXP192_IRQ5_STATE;\n}\n\nstatic const struct regmap_irq_chip axp192_regmap_irq_chip = {\n\t.name\t\t\t= \"axp192_irq_chip\",\n\t.status_base\t\t= AXP192_IRQ1_STATE,\n\t.ack_base\t\t= AXP192_IRQ1_STATE,\n\t.unmask_base\t\t= AXP192_IRQ1_EN,\n\t.init_ack_masked\t= true,\n\t.irqs\t\t\t= axp192_regmap_irqs,\n\t.num_irqs\t\t= ARRAY_SIZE(axp192_regmap_irqs),\n\t.num_regs\t\t= 5,\n\t.get_irq_reg\t\t= axp192_get_irq_reg,\n};\n\nstatic const struct regmap_irq_chip axp20x_regmap_irq_chip = {\n\t.name\t\t\t= \"axp20x_irq_chip\",\n\t.status_base\t\t= AXP20X_IRQ1_STATE,\n\t.ack_base\t\t= AXP20X_IRQ1_STATE,\n\t.unmask_base\t\t= AXP20X_IRQ1_EN,\n\t.init_ack_masked\t= true,\n\t.irqs\t\t\t= axp20x_regmap_irqs,\n\t.num_irqs\t\t= ARRAY_SIZE(axp20x_regmap_irqs),\n\t.num_regs\t\t= 5,\n\n};\n\nstatic const struct regmap_irq_chip axp22x_regmap_irq_chip = {\n\t.name\t\t\t= \"axp22x_irq_chip\",\n\t.status_base\t\t= AXP20X_IRQ1_STATE,\n\t.ack_base\t\t= AXP20X_IRQ1_STATE,\n\t.unmask_base\t\t= AXP20X_IRQ1_EN,\n\t.init_ack_masked\t= true,\n\t.irqs\t\t\t= axp22x_regmap_irqs,\n\t.num_irqs\t\t= ARRAY_SIZE(axp22x_regmap_irqs),\n\t.num_regs\t\t= 5,\n};\n\nstatic const struct regmap_irq_chip axp288_regmap_irq_chip = {\n\t.name\t\t\t= \"axp288_irq_chip\",\n\t.status_base\t\t= AXP20X_IRQ1_STATE,\n\t.ack_base\t\t= AXP20X_IRQ1_STATE,\n\t.unmask_base\t\t= AXP20X_IRQ1_EN,\n\t.init_ack_masked\t= true,\n\t.irqs\t\t\t= axp288_regmap_irqs,\n\t.num_irqs\t\t= ARRAY_SIZE(axp288_regmap_irqs),\n\t.num_regs\t\t= 6,\n\n};\n\nstatic const struct regmap_irq_chip axp313a_regmap_irq_chip = {\n\t.name\t\t\t= \"axp313a_irq_chip\",\n\t.status_base\t\t= AXP313A_IRQ_STATE,\n\t.ack_base\t\t= AXP313A_IRQ_STATE,\n\t.unmask_base\t\t= AXP313A_IRQ_EN,\n\t.init_ack_masked\t= true,\n\t.irqs\t\t\t= axp313a_regmap_irqs,\n\t.num_irqs\t\t= ARRAY_SIZE(axp313a_regmap_irqs),\n\t.num_regs\t\t= 1,\n};\n\nstatic const struct regmap_irq_chip axp803_regmap_irq_chip = {\n\t.name\t\t\t= \"axp803\",\n\t.status_base\t\t= AXP20X_IRQ1_STATE,\n\t.ack_base\t\t= AXP20X_IRQ1_STATE,\n\t.unmask_base\t\t= AXP20X_IRQ1_EN,\n\t.init_ack_masked\t= true,\n\t.irqs\t\t\t= axp803_regmap_irqs,\n\t.num_irqs\t\t= ARRAY_SIZE(axp803_regmap_irqs),\n\t.num_regs\t\t= 6,\n};\n\nstatic const struct regmap_irq_chip axp806_regmap_irq_chip = {\n\t.name\t\t\t= \"axp806\",\n\t.status_base\t\t= AXP20X_IRQ1_STATE,\n\t.ack_base\t\t= AXP20X_IRQ1_STATE,\n\t.unmask_base\t\t= AXP20X_IRQ1_EN,\n\t.init_ack_masked\t= true,\n\t.irqs\t\t\t= axp806_regmap_irqs,\n\t.num_irqs\t\t= ARRAY_SIZE(axp806_regmap_irqs),\n\t.num_regs\t\t= 2,\n};\n\nstatic const struct regmap_irq_chip axp809_regmap_irq_chip = {\n\t.name\t\t\t= \"axp809\",\n\t.status_base\t\t= AXP20X_IRQ1_STATE,\n\t.ack_base\t\t= AXP20X_IRQ1_STATE,\n\t.unmask_base\t\t= AXP20X_IRQ1_EN,\n\t.init_ack_masked\t= true,\n\t.irqs\t\t\t= axp809_regmap_irqs,\n\t.num_irqs\t\t= ARRAY_SIZE(axp809_regmap_irqs),\n\t.num_regs\t\t= 5,\n};\n\nstatic const struct regmap_irq_chip axp15060_regmap_irq_chip = {\n\t.name\t\t\t= \"axp15060\",\n\t.status_base\t\t= AXP15060_IRQ1_STATE,\n\t.ack_base\t\t= AXP15060_IRQ1_STATE,\n\t.unmask_base\t\t= AXP15060_IRQ1_EN,\n\t.init_ack_masked\t= true,\n\t.irqs\t\t\t= axp15060_regmap_irqs,\n\t.num_irqs\t\t= ARRAY_SIZE(axp15060_regmap_irqs),\n\t.num_regs\t\t= 2,\n};\n\nstatic const struct mfd_cell axp192_cells[] = {\n\t{\n\t\t.name\t\t= \"axp192-adc\",\n\t\t.of_compatible\t= \"x-powers,axp192-adc\",\n\t}, {\n\t\t.name\t\t= \"axp20x-battery-power-supply\",\n\t\t.of_compatible\t= \"x-powers,axp192-battery-power-supply\",\n\t}, {\n\t\t.name\t\t= \"axp20x-ac-power-supply\",\n\t\t.of_compatible\t= \"x-powers,axp202-ac-power-supply\",\n\t\t.num_resources\t= ARRAY_SIZE(axp192_ac_power_supply_resources),\n\t\t.resources\t= axp192_ac_power_supply_resources,\n\t}, {\n\t\t.name\t\t= \"axp20x-usb-power-supply\",\n\t\t.of_compatible\t= \"x-powers,axp192-usb-power-supply\",\n\t\t.num_resources\t= ARRAY_SIZE(axp192_usb_power_supply_resources),\n\t\t.resources\t= axp192_usb_power_supply_resources,\n\t},\n\t{\t.name\t\t= \"axp20x-regulator\" },\n};\n\nstatic const struct mfd_cell axp20x_cells[] = {\n\t{\n\t\t.name\t\t= \"axp20x-gpio\",\n\t\t.of_compatible\t= \"x-powers,axp209-gpio\",\n\t}, {\n\t\t.name\t\t= \"axp20x-pek\",\n\t\t.num_resources\t= ARRAY_SIZE(axp20x_pek_resources),\n\t\t.resources\t= axp20x_pek_resources,\n\t}, {\n\t\t.name\t\t= \"axp20x-regulator\",\n\t}, {\n\t\t.name\t\t= \"axp20x-adc\",\n\t\t.of_compatible\t= \"x-powers,axp209-adc\",\n\t}, {\n\t\t.name\t\t= \"axp20x-battery-power-supply\",\n\t\t.of_compatible\t= \"x-powers,axp209-battery-power-supply\",\n\t}, {\n\t\t.name\t\t= \"axp20x-ac-power-supply\",\n\t\t.of_compatible\t= \"x-powers,axp202-ac-power-supply\",\n\t\t.num_resources\t= ARRAY_SIZE(axp20x_ac_power_supply_resources),\n\t\t.resources\t= axp20x_ac_power_supply_resources,\n\t}, {\n\t\t.name\t\t= \"axp20x-usb-power-supply\",\n\t\t.of_compatible\t= \"x-powers,axp202-usb-power-supply\",\n\t\t.num_resources\t= ARRAY_SIZE(axp20x_usb_power_supply_resources),\n\t\t.resources\t= axp20x_usb_power_supply_resources,\n\t},\n};\n\nstatic const struct mfd_cell axp221_cells[] = {\n\t{\n\t\t.name\t\t= \"axp20x-gpio\",\n\t\t.of_compatible\t= \"x-powers,axp221-gpio\",\n\t}, {\n\t\t.name\t\t= \"axp221-pek\",\n\t\t.num_resources\t= ARRAY_SIZE(axp22x_pek_resources),\n\t\t.resources\t= axp22x_pek_resources,\n\t}, {\n\t\t.name\t\t= \"axp20x-regulator\",\n\t}, {\n\t\t.name\t\t= \"axp22x-adc\",\n\t\t.of_compatible\t= \"x-powers,axp221-adc\",\n\t}, {\n\t\t.name\t\t= \"axp20x-ac-power-supply\",\n\t\t.of_compatible\t= \"x-powers,axp221-ac-power-supply\",\n\t\t.num_resources\t= ARRAY_SIZE(axp20x_ac_power_supply_resources),\n\t\t.resources\t= axp20x_ac_power_supply_resources,\n\t}, {\n\t\t.name\t\t= \"axp20x-battery-power-supply\",\n\t\t.of_compatible\t= \"x-powers,axp221-battery-power-supply\",\n\t}, {\n\t\t.name\t\t= \"axp20x-usb-power-supply\",\n\t\t.of_compatible\t= \"x-powers,axp221-usb-power-supply\",\n\t\t.num_resources\t= ARRAY_SIZE(axp22x_usb_power_supply_resources),\n\t\t.resources\t= axp22x_usb_power_supply_resources,\n\t},\n};\n\nstatic const struct mfd_cell axp223_cells[] = {\n\t{\n\t\t.name\t\t= \"axp20x-gpio\",\n\t\t.of_compatible\t= \"x-powers,axp221-gpio\",\n\t}, {\n\t\t.name\t\t= \"axp221-pek\",\n\t\t.num_resources\t= ARRAY_SIZE(axp22x_pek_resources),\n\t\t.resources\t= axp22x_pek_resources,\n\t}, {\n\t\t.name\t\t= \"axp22x-adc\",\n\t\t.of_compatible\t= \"x-powers,axp221-adc\",\n\t}, {\n\t\t.name\t\t= \"axp20x-battery-power-supply\",\n\t\t.of_compatible\t= \"x-powers,axp221-battery-power-supply\",\n\t}, {\n\t\t.name\t\t= \"axp20x-regulator\",\n\t}, {\n\t\t.name\t\t= \"axp20x-ac-power-supply\",\n\t\t.of_compatible\t= \"x-powers,axp221-ac-power-supply\",\n\t\t.num_resources\t= ARRAY_SIZE(axp20x_ac_power_supply_resources),\n\t\t.resources\t= axp20x_ac_power_supply_resources,\n\t}, {\n\t\t.name\t\t= \"axp20x-usb-power-supply\",\n\t\t.of_compatible\t= \"x-powers,axp223-usb-power-supply\",\n\t\t.num_resources\t= ARRAY_SIZE(axp22x_usb_power_supply_resources),\n\t\t.resources\t= axp22x_usb_power_supply_resources,\n\t},\n};\n\nstatic const struct mfd_cell axp152_cells[] = {\n\t{\n\t\t.name\t\t= \"axp20x-pek\",\n\t\t.num_resources\t= ARRAY_SIZE(axp152_pek_resources),\n\t\t.resources\t= axp152_pek_resources,\n\t},\n};\n\nstatic struct mfd_cell axp313a_cells[] = {\n\tMFD_CELL_NAME(\"axp20x-regulator\"),\n\tMFD_CELL_RES(\"axp313a-pek\", axp313a_pek_resources),\n};\n\nstatic const struct resource axp288_adc_resources[] = {\n\tDEFINE_RES_IRQ_NAMED(AXP288_IRQ_GPADC, \"GPADC\"),\n};\n\nstatic const struct resource axp288_extcon_resources[] = {\n\tDEFINE_RES_IRQ(AXP288_IRQ_VBUS_FALL),\n\tDEFINE_RES_IRQ(AXP288_IRQ_VBUS_RISE),\n\tDEFINE_RES_IRQ(AXP288_IRQ_MV_CHNG),\n\tDEFINE_RES_IRQ(AXP288_IRQ_BC_USB_CHNG),\n};\n\nstatic const struct resource axp288_charger_resources[] = {\n\tDEFINE_RES_IRQ(AXP288_IRQ_OV),\n\tDEFINE_RES_IRQ(AXP288_IRQ_DONE),\n\tDEFINE_RES_IRQ(AXP288_IRQ_CHARGING),\n\tDEFINE_RES_IRQ(AXP288_IRQ_SAFE_QUIT),\n\tDEFINE_RES_IRQ(AXP288_IRQ_SAFE_ENTER),\n\tDEFINE_RES_IRQ(AXP288_IRQ_QCBTU),\n\tDEFINE_RES_IRQ(AXP288_IRQ_CBTU),\n\tDEFINE_RES_IRQ(AXP288_IRQ_QCBTO),\n\tDEFINE_RES_IRQ(AXP288_IRQ_CBTO),\n};\n\nstatic const char * const axp288_fuel_gauge_suppliers[] = { \"axp288_charger\" };\n\nstatic const struct property_entry axp288_fuel_gauge_properties[] = {\n\tPROPERTY_ENTRY_STRING_ARRAY(\"supplied-from\", axp288_fuel_gauge_suppliers),\n\t{ }\n};\n\nstatic const struct software_node axp288_fuel_gauge_sw_node = {\n\t.name = \"axp288_fuel_gauge\",\n\t.properties = axp288_fuel_gauge_properties,\n};\n\nstatic const struct mfd_cell axp288_cells[] = {\n\t{\n\t\t.name\t\t= \"axp288_adc\",\n\t\t.num_resources\t= ARRAY_SIZE(axp288_adc_resources),\n\t\t.resources\t= axp288_adc_resources,\n\t}, {\n\t\t.name\t\t= \"axp288_extcon\",\n\t\t.num_resources\t= ARRAY_SIZE(axp288_extcon_resources),\n\t\t.resources\t= axp288_extcon_resources,\n\t}, {\n\t\t.name\t\t= \"axp288_charger\",\n\t\t.num_resources\t= ARRAY_SIZE(axp288_charger_resources),\n\t\t.resources\t= axp288_charger_resources,\n\t}, {\n\t\t.name\t\t= \"axp288_fuel_gauge\",\n\t\t.num_resources\t= ARRAY_SIZE(axp288_fuel_gauge_resources),\n\t\t.resources\t= axp288_fuel_gauge_resources,\n\t\t.swnode\t\t= &axp288_fuel_gauge_sw_node,\n\t}, {\n\t\t.name\t\t= \"axp221-pek\",\n\t\t.num_resources\t= ARRAY_SIZE(axp288_power_button_resources),\n\t\t.resources\t= axp288_power_button_resources,\n\t}, {\n\t\t.name\t\t= \"axp288_pmic_acpi\",\n\t},\n};\n\nstatic const struct mfd_cell axp803_cells[] = {\n\t{\n\t\t.name\t\t= \"axp221-pek\",\n\t\t.num_resources\t= ARRAY_SIZE(axp803_pek_resources),\n\t\t.resources\t= axp803_pek_resources,\n\t}, {\n\t\t.name\t\t= \"axp20x-gpio\",\n\t\t.of_compatible\t= \"x-powers,axp813-gpio\",\n\t}, {\n\t\t.name\t\t= \"axp813-adc\",\n\t\t.of_compatible\t= \"x-powers,axp813-adc\",\n\t}, {\n\t\t.name\t\t= \"axp20x-battery-power-supply\",\n\t\t.of_compatible\t= \"x-powers,axp813-battery-power-supply\",\n\t}, {\n\t\t.name\t\t= \"axp20x-ac-power-supply\",\n\t\t.of_compatible\t= \"x-powers,axp813-ac-power-supply\",\n\t\t.num_resources\t= ARRAY_SIZE(axp20x_ac_power_supply_resources),\n\t\t.resources\t= axp20x_ac_power_supply_resources,\n\t}, {\n\t\t.name\t\t= \"axp20x-usb-power-supply\",\n\t\t.num_resources\t= ARRAY_SIZE(axp803_usb_power_supply_resources),\n\t\t.resources\t= axp803_usb_power_supply_resources,\n\t\t.of_compatible\t= \"x-powers,axp813-usb-power-supply\",\n\t},\n\t{\t.name\t\t= \"axp20x-regulator\" },\n};\n\nstatic const struct mfd_cell axp806_self_working_cells[] = {\n\t{\n\t\t.name\t\t= \"axp221-pek\",\n\t\t.num_resources\t= ARRAY_SIZE(axp806_pek_resources),\n\t\t.resources\t= axp806_pek_resources,\n\t},\n\t{\t.name\t\t= \"axp20x-regulator\" },\n};\n\nstatic const struct mfd_cell axp806_cells[] = {\n\t{\n\t\t.id\t\t= 2,\n\t\t.name\t\t= \"axp20x-regulator\",\n\t},\n};\n\nstatic const struct mfd_cell axp809_cells[] = {\n\t{\n\t\t.name\t\t= \"axp20x-gpio\",\n\t\t.of_compatible\t= \"x-powers,axp221-gpio\",\n\t}, {\n\t\t.name\t\t= \"axp221-pek\",\n\t\t.num_resources\t= ARRAY_SIZE(axp809_pek_resources),\n\t\t.resources\t= axp809_pek_resources,\n\t}, {\n\t\t.id\t\t= 1,\n\t\t.name\t\t= \"axp20x-regulator\",\n\t},\n};\n\nstatic const struct mfd_cell axp813_cells[] = {\n\t{\n\t\t.name\t\t= \"axp221-pek\",\n\t\t.num_resources\t= ARRAY_SIZE(axp803_pek_resources),\n\t\t.resources\t= axp803_pek_resources,\n\t}, {\n\t\t.name\t\t= \"axp20x-regulator\",\n\t}, {\n\t\t.name\t\t= \"axp20x-gpio\",\n\t\t.of_compatible\t= \"x-powers,axp813-gpio\",\n\t}, {\n\t\t.name\t\t= \"axp813-adc\",\n\t\t.of_compatible\t= \"x-powers,axp813-adc\",\n\t}, {\n\t\t.name\t\t= \"axp20x-battery-power-supply\",\n\t\t.of_compatible\t= \"x-powers,axp813-battery-power-supply\",\n\t}, {\n\t\t.name\t\t= \"axp20x-ac-power-supply\",\n\t\t.of_compatible\t= \"x-powers,axp813-ac-power-supply\",\n\t\t.num_resources\t= ARRAY_SIZE(axp20x_ac_power_supply_resources),\n\t\t.resources\t= axp20x_ac_power_supply_resources,\n\t}, {\n\t\t.name\t\t= \"axp20x-usb-power-supply\",\n\t\t.num_resources\t= ARRAY_SIZE(axp803_usb_power_supply_resources),\n\t\t.resources\t= axp803_usb_power_supply_resources,\n\t\t.of_compatible\t= \"x-powers,axp813-usb-power-supply\",\n\t},\n};\n\nstatic const struct mfd_cell axp15060_cells[] = {\n\t{\n\t\t.name\t\t= \"axp221-pek\",\n\t\t.num_resources\t= ARRAY_SIZE(axp15060_pek_resources),\n\t\t.resources\t= axp15060_pek_resources,\n\t}, {\n\t\t.name\t\t= \"axp20x-regulator\",\n\t},\n};\n\n \nstatic const struct mfd_cell axp_regulator_only_cells[] = {\n\t{\n\t\t.name\t\t= \"axp20x-regulator\",\n\t},\n};\n\nstatic int axp20x_power_off(struct sys_off_data *data)\n{\n\tstruct axp20x_dev *axp20x = data->cb_data;\n\tunsigned int shutdown_reg;\n\n\tswitch (axp20x->variant) {\n\tcase AXP313A_ID:\n\t\tshutdown_reg = AXP313A_SHUTDOWN_CTRL;\n\t\tbreak;\n\tdefault:\n\t\tshutdown_reg = AXP20X_OFF_CTRL;\n\t\tbreak;\n\t}\n\n\tregmap_write(axp20x->regmap, shutdown_reg, AXP20X_OFF);\n\n\t \n\tmdelay(500);\n\n\treturn NOTIFY_DONE;\n}\n\nint axp20x_match_device(struct axp20x_dev *axp20x)\n{\n\tstruct device *dev = axp20x->dev;\n\tconst struct acpi_device_id *acpi_id;\n\tconst struct of_device_id *of_id;\n\n\tif (dev->of_node) {\n\t\tof_id = of_match_device(dev->driver->of_match_table, dev);\n\t\tif (!of_id) {\n\t\t\tdev_err(dev, \"Unable to match OF ID\\n\");\n\t\t\treturn -ENODEV;\n\t\t}\n\t\taxp20x->variant = (long)of_id->data;\n\t} else {\n\t\tacpi_id = acpi_match_device(dev->driver->acpi_match_table, dev);\n\t\tif (!acpi_id || !acpi_id->driver_data) {\n\t\t\tdev_err(dev, \"Unable to match ACPI ID and data\\n\");\n\t\t\treturn -ENODEV;\n\t\t}\n\t\taxp20x->variant = (long)acpi_id->driver_data;\n\t}\n\n\tswitch (axp20x->variant) {\n\tcase AXP152_ID:\n\t\taxp20x->nr_cells = ARRAY_SIZE(axp152_cells);\n\t\taxp20x->cells = axp152_cells;\n\t\taxp20x->regmap_cfg = &axp152_regmap_config;\n\t\taxp20x->regmap_irq_chip = &axp152_regmap_irq_chip;\n\t\tbreak;\n\tcase AXP192_ID:\n\t\taxp20x->nr_cells = ARRAY_SIZE(axp192_cells);\n\t\taxp20x->cells = axp192_cells;\n\t\taxp20x->regmap_cfg = &axp192_regmap_config;\n\t\taxp20x->regmap_irq_chip = &axp192_regmap_irq_chip;\n\t\tbreak;\n\tcase AXP202_ID:\n\tcase AXP209_ID:\n\t\taxp20x->nr_cells = ARRAY_SIZE(axp20x_cells);\n\t\taxp20x->cells = axp20x_cells;\n\t\taxp20x->regmap_cfg = &axp20x_regmap_config;\n\t\taxp20x->regmap_irq_chip = &axp20x_regmap_irq_chip;\n\t\tbreak;\n\tcase AXP221_ID:\n\t\taxp20x->nr_cells = ARRAY_SIZE(axp221_cells);\n\t\taxp20x->cells = axp221_cells;\n\t\taxp20x->regmap_cfg = &axp22x_regmap_config;\n\t\taxp20x->regmap_irq_chip = &axp22x_regmap_irq_chip;\n\t\tbreak;\n\tcase AXP223_ID:\n\t\taxp20x->nr_cells = ARRAY_SIZE(axp223_cells);\n\t\taxp20x->cells = axp223_cells;\n\t\taxp20x->regmap_cfg = &axp22x_regmap_config;\n\t\taxp20x->regmap_irq_chip = &axp22x_regmap_irq_chip;\n\t\tbreak;\n\tcase AXP288_ID:\n\t\taxp20x->cells = axp288_cells;\n\t\taxp20x->nr_cells = ARRAY_SIZE(axp288_cells);\n\t\taxp20x->regmap_cfg = &axp288_regmap_config;\n\t\taxp20x->regmap_irq_chip = &axp288_regmap_irq_chip;\n\t\taxp20x->irq_flags = IRQF_TRIGGER_LOW;\n\t\tbreak;\n\tcase AXP313A_ID:\n\t\taxp20x->nr_cells = ARRAY_SIZE(axp313a_cells);\n\t\taxp20x->cells = axp313a_cells;\n\t\taxp20x->regmap_cfg = &axp313a_regmap_config;\n\t\taxp20x->regmap_irq_chip = &axp313a_regmap_irq_chip;\n\t\tbreak;\n\tcase AXP803_ID:\n\t\taxp20x->nr_cells = ARRAY_SIZE(axp803_cells);\n\t\taxp20x->cells = axp803_cells;\n\t\taxp20x->regmap_cfg = &axp288_regmap_config;\n\t\taxp20x->regmap_irq_chip = &axp803_regmap_irq_chip;\n\t\tbreak;\n\tcase AXP806_ID:\n\t\t \n\t\tif (of_property_read_bool(axp20x->dev->of_node,\n\t\t\t\t\t  \"x-powers,self-working-mode\") &&\n\t\t    axp20x->irq > 0) {\n\t\t\taxp20x->nr_cells = ARRAY_SIZE(axp806_self_working_cells);\n\t\t\taxp20x->cells = axp806_self_working_cells;\n\t\t} else {\n\t\t\taxp20x->nr_cells = ARRAY_SIZE(axp806_cells);\n\t\t\taxp20x->cells = axp806_cells;\n\t\t}\n\t\taxp20x->regmap_cfg = &axp806_regmap_config;\n\t\taxp20x->regmap_irq_chip = &axp806_regmap_irq_chip;\n\t\tbreak;\n\tcase AXP809_ID:\n\t\taxp20x->nr_cells = ARRAY_SIZE(axp809_cells);\n\t\taxp20x->cells = axp809_cells;\n\t\taxp20x->regmap_cfg = &axp22x_regmap_config;\n\t\taxp20x->regmap_irq_chip = &axp809_regmap_irq_chip;\n\t\tbreak;\n\tcase AXP813_ID:\n\t\taxp20x->nr_cells = ARRAY_SIZE(axp813_cells);\n\t\taxp20x->cells = axp813_cells;\n\t\taxp20x->regmap_cfg = &axp288_regmap_config;\n\t\t \n\t\taxp20x->regmap_irq_chip = &axp803_regmap_irq_chip;\n\t\tbreak;\n\tcase AXP15060_ID:\n\t\t \n\t\tif (axp20x->irq > 0) {\n\t\t\taxp20x->nr_cells = ARRAY_SIZE(axp15060_cells);\n\t\t\taxp20x->cells = axp15060_cells;\n\t\t} else {\n\t\t\taxp20x->nr_cells = ARRAY_SIZE(axp_regulator_only_cells);\n\t\t\taxp20x->cells = axp_regulator_only_cells;\n\t\t}\n\t\taxp20x->regmap_cfg = &axp15060_regmap_config;\n\t\taxp20x->regmap_irq_chip = &axp15060_regmap_irq_chip;\n\t\tbreak;\n\tdefault:\n\t\tdev_err(dev, \"unsupported AXP20X ID %lu\\n\", axp20x->variant);\n\t\treturn -EINVAL;\n\t}\n\tdev_info(dev, \"AXP20x variant %s found\\n\",\n\t\t axp20x_model_names[axp20x->variant]);\n\n\treturn 0;\n}\nEXPORT_SYMBOL(axp20x_match_device);\n\nint axp20x_device_probe(struct axp20x_dev *axp20x)\n{\n\tint ret;\n\n\t \n\tif (axp20x->variant == AXP806_ID) {\n\t\tif (of_property_read_bool(axp20x->dev->of_node,\n\t\t\t\t\t  \"x-powers,master-mode\") ||\n\t\t    of_property_read_bool(axp20x->dev->of_node,\n\t\t\t\t\t  \"x-powers,self-working-mode\"))\n\t\t\tregmap_write(axp20x->regmap, AXP806_REG_ADDR_EXT,\n\t\t\t\t     AXP806_REG_ADDR_EXT_ADDR_MASTER_MODE);\n\t\telse\n\t\t\tregmap_write(axp20x->regmap, AXP806_REG_ADDR_EXT,\n\t\t\t\t     AXP806_REG_ADDR_EXT_ADDR_SLAVE_MODE);\n\t}\n\n\t \n\tif (axp20x->irq > 0) {\n\t\tret = regmap_add_irq_chip(axp20x->regmap, axp20x->irq,\n\t\t\t\tIRQF_ONESHOT | IRQF_SHARED | axp20x->irq_flags,\n\t\t\t\t-1, axp20x->regmap_irq_chip,\n\t\t\t\t&axp20x->regmap_irqc);\n\t\tif (ret) {\n\t\t\tdev_err(axp20x->dev, \"failed to add irq chip: %d\\n\",\n\t\t\t\tret);\n\t\t\treturn ret;\n\t\t}\n\t}\n\n\tret = mfd_add_devices(axp20x->dev, -1, axp20x->cells,\n\t\t\t      axp20x->nr_cells, NULL, 0, NULL);\n\n\tif (ret) {\n\t\tdev_err(axp20x->dev, \"failed to add MFD devices: %d\\n\", ret);\n\t\tregmap_del_irq_chip(axp20x->irq, axp20x->regmap_irqc);\n\t\treturn ret;\n\t}\n\n\tif (axp20x->variant != AXP288_ID)\n\t\tdevm_register_sys_off_handler(axp20x->dev,\n\t\t\t\t\t      SYS_OFF_MODE_POWER_OFF,\n\t\t\t\t\t      SYS_OFF_PRIO_DEFAULT,\n\t\t\t\t\t      axp20x_power_off, axp20x);\n\n\tdev_info(axp20x->dev, \"AXP20X driver loaded\\n\");\n\n\treturn 0;\n}\nEXPORT_SYMBOL(axp20x_device_probe);\n\nvoid axp20x_device_remove(struct axp20x_dev *axp20x)\n{\n\tmfd_remove_devices(axp20x->dev);\n\tregmap_del_irq_chip(axp20x->irq, axp20x->regmap_irqc);\n}\nEXPORT_SYMBOL(axp20x_device_remove);\n\nMODULE_DESCRIPTION(\"PMIC MFD core driver for AXP20X\");\nMODULE_AUTHOR(\"Carlo Caione <carlo@caione.org>\");\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}