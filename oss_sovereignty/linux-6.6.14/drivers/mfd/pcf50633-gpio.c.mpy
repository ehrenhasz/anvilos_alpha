{
  "module_name": "pcf50633-gpio.c",
  "hash_id": "617cc10b838d0bb005aba6ffa7345a617eee2c81ca66e155a50612e465872886",
  "original_prompt": "Ingested from linux-6.6.14/drivers/mfd/pcf50633-gpio.c",
  "human_readable_source": "\n \n\n#include <linux/kernel.h>\n#include <linux/module.h>\n\n#include <linux/mfd/pcf50633/core.h>\n#include <linux/mfd/pcf50633/gpio.h>\n#include <linux/mfd/pcf50633/pmic.h>\n\nstatic const u8 pcf50633_regulator_registers[PCF50633_NUM_REGULATORS] = {\n\t[PCF50633_REGULATOR_AUTO]\t= PCF50633_REG_AUTOOUT,\n\t[PCF50633_REGULATOR_DOWN1]\t= PCF50633_REG_DOWN1OUT,\n\t[PCF50633_REGULATOR_DOWN2]\t= PCF50633_REG_DOWN2OUT,\n\t[PCF50633_REGULATOR_MEMLDO]\t= PCF50633_REG_MEMLDOOUT,\n\t[PCF50633_REGULATOR_LDO1]\t= PCF50633_REG_LDO1OUT,\n\t[PCF50633_REGULATOR_LDO2]\t= PCF50633_REG_LDO2OUT,\n\t[PCF50633_REGULATOR_LDO3]\t= PCF50633_REG_LDO3OUT,\n\t[PCF50633_REGULATOR_LDO4]\t= PCF50633_REG_LDO4OUT,\n\t[PCF50633_REGULATOR_LDO5]\t= PCF50633_REG_LDO5OUT,\n\t[PCF50633_REGULATOR_LDO6]\t= PCF50633_REG_LDO6OUT,\n\t[PCF50633_REGULATOR_HCLDO]\t= PCF50633_REG_HCLDOOUT,\n};\n\nint pcf50633_gpio_set(struct pcf50633 *pcf, int gpio, u8 val)\n{\n\tu8 reg;\n\n\treg = gpio - PCF50633_GPIO1 + PCF50633_REG_GPIO1CFG;\n\n\treturn pcf50633_reg_set_bit_mask(pcf, reg, 0x07, val);\n}\nEXPORT_SYMBOL_GPL(pcf50633_gpio_set);\n\nu8 pcf50633_gpio_get(struct pcf50633 *pcf, int gpio)\n{\n\tu8 reg, val;\n\n\treg = gpio - PCF50633_GPIO1 + PCF50633_REG_GPIO1CFG;\n\tval = pcf50633_reg_read(pcf, reg) & 0x07;\n\n\treturn val;\n}\nEXPORT_SYMBOL_GPL(pcf50633_gpio_get);\n\nint pcf50633_gpio_invert_set(struct pcf50633 *pcf, int gpio, int invert)\n{\n\tu8 val, reg;\n\n\treg = gpio - PCF50633_GPIO1 + PCF50633_REG_GPIO1CFG;\n\tval = !!invert << 3;\n\n\treturn pcf50633_reg_set_bit_mask(pcf, reg, 1 << 3, val);\n}\nEXPORT_SYMBOL_GPL(pcf50633_gpio_invert_set);\n\nint pcf50633_gpio_invert_get(struct pcf50633 *pcf, int gpio)\n{\n\tu8 reg, val;\n\n\treg = gpio - PCF50633_GPIO1 + PCF50633_REG_GPIO1CFG;\n\tval = pcf50633_reg_read(pcf, reg);\n\n\treturn val & (1 << 3);\n}\nEXPORT_SYMBOL_GPL(pcf50633_gpio_invert_get);\n\nint pcf50633_gpio_power_supply_set(struct pcf50633 *pcf,\n\t\t\t\t\tint gpio, int regulator, int on)\n{\n\tu8 reg, val, mask;\n\n\t \n\treg = pcf50633_regulator_registers[regulator] + 1;\n\n\tval = !!on << (gpio - PCF50633_GPIO1);\n\tmask = 1 << (gpio - PCF50633_GPIO1);\n\n\treturn pcf50633_reg_set_bit_mask(pcf, reg, mask, val);\n}\nEXPORT_SYMBOL_GPL(pcf50633_gpio_power_supply_set);\n\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}