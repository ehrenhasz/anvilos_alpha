{
  "module_name": "hid-picolcd.h",
  "hash_id": "4e14bf0fab5713c0b8bc13b0ca9e46de968b75e7add7d1301639eb612a37d77a",
  "original_prompt": "Ingested from linux-6.6.14/drivers/hid/hid-picolcd.h",
  "human_readable_source": " \n \n\n#define PICOLCD_NAME \"PicoLCD (graphic)\"\n\n \n#define REPORT_ERROR_CODE      0x10  \n#define   ERR_SUCCESS            0x00\n#define   ERR_PARAMETER_MISSING  0x01\n#define   ERR_DATA_MISSING       0x02\n#define   ERR_BLOCK_READ_ONLY    0x03\n#define   ERR_BLOCK_NOT_ERASABLE 0x04\n#define   ERR_BLOCK_TOO_BIG      0x05\n#define   ERR_SECTION_OVERFLOW   0x06\n#define   ERR_INVALID_CMD_LEN    0x07\n#define   ERR_INVALID_DATA_LEN   0x08\n#define REPORT_KEY_STATE       0x11  \n#define REPORT_IR_DATA         0x21  \n#define REPORT_EE_DATA         0x32  \n#define REPORT_MEMORY          0x41  \n#define REPORT_LED_STATE       0x81  \n#define REPORT_BRIGHTNESS      0x91  \n#define REPORT_CONTRAST        0x92  \n#define REPORT_RESET           0x93  \n#define REPORT_LCD_CMD         0x94  \n#define REPORT_LCD_DATA        0x95  \n#define REPORT_LCD_CMD_DATA    0x96  \n#define\tREPORT_EE_READ         0xa3  \n#define REPORT_EE_WRITE        0xa4  \n#define REPORT_ERASE_MEMORY    0xb2  \n#define REPORT_READ_MEMORY     0xb3  \n#define REPORT_WRITE_MEMORY    0xb4  \n#define REPORT_SPLASH_RESTART  0xc1  \n#define REPORT_EXIT_KEYBOARD   0xef  \n#define REPORT_VERSION         0xf1  \n#define REPORT_BL_ERASE_MEMORY 0xf2  \n#define REPORT_BL_READ_MEMORY  0xf3  \n#define REPORT_BL_WRITE_MEMORY 0xf4  \n#define REPORT_DEVID           0xf5  \n#define REPORT_SPLASH_SIZE     0xf6  \n#define REPORT_HOOK_VERSION    0xf7  \n#define REPORT_EXIT_FLASHER    0xff  \n\n \nstruct picolcd_pending {\n\tstruct hid_report *out_report;\n\tstruct hid_report *in_report;\n\tstruct completion ready;\n\tint raw_size;\n\tu8 raw_data[64];\n};\n\n\n#define PICOLCD_KEYS 17\n\n \nstruct picolcd_data {\n\tstruct hid_device *hdev;\n#ifdef CONFIG_DEBUG_FS\n\tstruct dentry *debug_reset;\n\tstruct dentry *debug_eeprom;\n\tstruct dentry *debug_flash;\n\tstruct mutex mutex_flash;\n\tint addr_sz;\n#endif\n\tu8 version[2];\n\tunsigned short opmode_delay;\n\t \n\tu8 pressed_keys[2];\n\tstruct input_dev *input_keys;\n#ifdef CONFIG_HID_PICOLCD_CIR\n\tstruct rc_dev *rc_dev;\n#endif\n\tunsigned short keycode[PICOLCD_KEYS];\n\n#ifdef CONFIG_HID_PICOLCD_FB\n\t \n\tstruct fb_info *fb_info;\n#endif  \n#ifdef CONFIG_HID_PICOLCD_LCD\n\tstruct lcd_device *lcd;\n\tu8 lcd_contrast;\n#endif  \n#ifdef CONFIG_HID_PICOLCD_BACKLIGHT\n\tstruct backlight_device *backlight;\n\tu8 lcd_brightness;\n\tu8 lcd_power;\n#endif  \n#ifdef CONFIG_HID_PICOLCD_LEDS\n\t \n\tu8 led_state;\n\tstruct led_classdev *led[8];\n#endif  \n\n\t \n\tspinlock_t lock;\n\tstruct mutex mutex;\n\tstruct picolcd_pending *pending;\n\tint status;\n#define PICOLCD_BOOTLOADER 1\n#define PICOLCD_FAILED 2\n#define PICOLCD_CIR_SHUN 4\n};\n\n#ifdef CONFIG_HID_PICOLCD_FB\nstruct picolcd_fb_data {\n\t \n\tspinlock_t lock;\n\tstruct picolcd_data *picolcd;\n\tu8 update_rate;\n\tu8 bpp;\n\tu8 force;\n\tu8 ready;\n\tu8 *vbitmap;\t\t \n\tu8 *bitmap;\t\t \n};\n#endif  \n\n \n#define picolcd_in_report(id, dev) picolcd_report(id, dev, HID_INPUT_REPORT)\n#define picolcd_out_report(id, dev) picolcd_report(id, dev, HID_OUTPUT_REPORT)\n\nstruct hid_report *picolcd_report(int id, struct hid_device *hdev, int dir);\n\n#ifdef CONFIG_DEBUG_FS\nvoid picolcd_debug_out_report(struct picolcd_data *data,\n\t\tstruct hid_device *hdev, struct hid_report *report);\n#define hid_hw_request(a, b, c) \\\n\tdo { \\\n\t\tpicolcd_debug_out_report(hid_get_drvdata(a), a, b); \\\n\t\thid_hw_request(a, b, c); \\\n\t} while (0)\n\nvoid picolcd_debug_raw_event(struct picolcd_data *data,\n\t\tstruct hid_device *hdev, struct hid_report *report,\n\t\tu8 *raw_data, int size);\n\nvoid picolcd_init_devfs(struct picolcd_data *data,\n\t\tstruct hid_report *eeprom_r, struct hid_report *eeprom_w,\n\t\tstruct hid_report *flash_r, struct hid_report *flash_w,\n\t\tstruct hid_report *reset);\n\nvoid picolcd_exit_devfs(struct picolcd_data *data);\n#else\nstatic inline void picolcd_debug_out_report(struct picolcd_data *data,\n\t\tstruct hid_device *hdev, struct hid_report *report)\n{\n}\nstatic inline void picolcd_debug_raw_event(struct picolcd_data *data,\n\t\tstruct hid_device *hdev, struct hid_report *report,\n\t\tu8 *raw_data, int size)\n{\n}\nstatic inline void picolcd_init_devfs(struct picolcd_data *data,\n\t\tstruct hid_report *eeprom_r, struct hid_report *eeprom_w,\n\t\tstruct hid_report *flash_r, struct hid_report *flash_w,\n\t\tstruct hid_report *reset)\n{\n}\nstatic inline void picolcd_exit_devfs(struct picolcd_data *data)\n{\n}\n#endif  \n\n\n#ifdef CONFIG_HID_PICOLCD_FB\nint picolcd_fb_reset(struct picolcd_data *data, int clear);\n\nint picolcd_init_framebuffer(struct picolcd_data *data);\n\nvoid picolcd_exit_framebuffer(struct picolcd_data *data);\n\nvoid picolcd_fb_refresh(struct picolcd_data *data);\n#define picolcd_fbinfo(d) ((d)->fb_info)\n#else\nstatic inline int picolcd_fb_reset(struct picolcd_data *data, int clear)\n{\n\treturn 0;\n}\nstatic inline int picolcd_init_framebuffer(struct picolcd_data *data)\n{\n\treturn 0;\n}\nstatic inline void picolcd_exit_framebuffer(struct picolcd_data *data)\n{\n}\nstatic inline void picolcd_fb_refresh(struct picolcd_data *data)\n{\n}\n#define picolcd_fbinfo(d) NULL\n#endif  \n\n\n#ifdef CONFIG_HID_PICOLCD_BACKLIGHT\nint picolcd_init_backlight(struct picolcd_data *data,\n\t\tstruct hid_report *report);\n\nvoid picolcd_exit_backlight(struct picolcd_data *data);\n\nint picolcd_resume_backlight(struct picolcd_data *data);\n\nvoid picolcd_suspend_backlight(struct picolcd_data *data);\n#else\nstatic inline int picolcd_init_backlight(struct picolcd_data *data,\n\t\tstruct hid_report *report)\n{\n\treturn 0;\n}\nstatic inline void picolcd_exit_backlight(struct picolcd_data *data)\n{\n}\nstatic inline int picolcd_resume_backlight(struct picolcd_data *data)\n{\n\treturn 0;\n}\nstatic inline void picolcd_suspend_backlight(struct picolcd_data *data)\n{\n}\n\n#endif  \n\n\n#ifdef CONFIG_HID_PICOLCD_LCD\nint picolcd_init_lcd(struct picolcd_data *data,\n\t\tstruct hid_report *report);\n\nvoid picolcd_exit_lcd(struct picolcd_data *data);\n\nint picolcd_resume_lcd(struct picolcd_data *data);\n#else\nstatic inline int picolcd_init_lcd(struct picolcd_data *data,\n\t\tstruct hid_report *report)\n{\n\treturn 0;\n}\nstatic inline void picolcd_exit_lcd(struct picolcd_data *data)\n{\n}\nstatic inline int picolcd_resume_lcd(struct picolcd_data *data)\n{\n\treturn 0;\n}\n#endif  \n\n\n#ifdef CONFIG_HID_PICOLCD_LEDS\nint picolcd_init_leds(struct picolcd_data *data,\n\t\tstruct hid_report *report);\n\nvoid picolcd_exit_leds(struct picolcd_data *data);\n\nvoid picolcd_leds_set(struct picolcd_data *data);\n#else\nstatic inline int picolcd_init_leds(struct picolcd_data *data,\n\t\tstruct hid_report *report)\n{\n\treturn 0;\n}\nstatic inline void picolcd_exit_leds(struct picolcd_data *data)\n{\n}\nstatic inline void picolcd_leds_set(struct picolcd_data *data)\n{\n}\n#endif  \n\n\n#ifdef CONFIG_HID_PICOLCD_CIR\nint picolcd_raw_cir(struct picolcd_data *data,\n\t\tstruct hid_report *report, u8 *raw_data, int size);\n\nint picolcd_init_cir(struct picolcd_data *data, struct hid_report *report);\n\nvoid picolcd_exit_cir(struct picolcd_data *data);\n#else\nstatic inline int picolcd_raw_cir(struct picolcd_data *data,\n\t\tstruct hid_report *report, u8 *raw_data, int size)\n{\n\treturn 1;\n}\nstatic inline int picolcd_init_cir(struct picolcd_data *data, struct hid_report *report)\n{\n\treturn 0;\n}\nstatic inline void picolcd_exit_cir(struct picolcd_data *data)\n{\n}\n#endif  \n\nint picolcd_reset(struct hid_device *hdev);\nstruct picolcd_pending *picolcd_send_and_wait(struct hid_device *hdev,\n\t\t\tint report_id, const u8 *raw_data, int size);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}