{
  "module_name": "amd_sfh_pcie.h",
  "hash_id": "867ba0519ceecef32afcab1a527ce116a70559c36e69f4425af0aca4eb64bea5",
  "original_prompt": "Ingested from linux-6.6.14/drivers/hid/amd-sfh-hid/amd_sfh_pcie.h",
  "human_readable_source": " \n \n\n#ifndef PCIE_MP2_AMD_H\n#define PCIE_MP2_AMD_H\n\n#include \"amd_sfh_common.h\"\n\n \n#define AMD_C2P_MSG0\t0x10500\n#define AMD_C2P_MSG1\t0x10504\n#define AMD_C2P_MSG2\t0x10508\n\n \n#define AMD_P2C_MSG3\t0x1068C  \n\n#define V2_STATUS\t0x2\n\n#define HPD_IDX\t\t16\n#define ACS_IDX\t\t22\n\n#define SENSOR_DISCOVERY_STATUS_MASK\t\tGENMASK(5, 3)\n#define SENSOR_DISCOVERY_STATUS_SHIFT\t\t3\n\n \nunion sfh_cmd_base {\n\tu32 ul;\n\tstruct {\n\t\tu32 cmd_id : 8;\n\t\tu32 sensor_id : 8;\n\t\tu32 period : 16;\n\t} s;\n\tstruct {\n\t\tu32 cmd_id : 4;\n\t\tu32 intr_disable : 1;\n\t\tu32 rsvd1 : 3;\n\t\tu32 length : 7;\n\t\tu32 mem_type : 1;\n\t\tu32 sensor_id : 8;\n\t\tu32 period : 8;\n\t} cmd_v2;\n};\n\nunion cmd_response {\n\tu32 resp;\n\tstruct {\n\t\tu32 status\t: 2;\n\t\tu32 out_in_c2p\t: 1;\n\t\tu32 rsvd1\t: 1;\n\t\tu32 response\t: 4;\n\t\tu32 sub_cmd\t: 8;\n\t\tu32 sensor_id\t: 6;\n\t\tu32 rsvd2\t: 10;\n\t} response_v2;\n};\n\nunion sfh_cmd_param {\n\tu32 ul;\n\tstruct {\n\t\tu32 buf_layout : 2;\n\t\tu32 buf_length : 6;\n\t\tu32 rsvd : 24;\n\t} s;\n};\n\nstruct sfh_cmd_reg {\n\tunion sfh_cmd_base cmd_base;\n\tunion sfh_cmd_param cmd_param;\n\tphys_addr_t phys_addr;\n};\n\nenum sensor_idx {\n\taccel_idx = 0,\n\tgyro_idx = 1,\n\tmag_idx = 2,\n\tals_idx = 19\n};\n\nenum mem_use_type {\n\tUSE_DRAM,\n\tUSE_C2P_REG,\n};\n\nstruct hpd_status {\n\tunion {\n\t\tstruct {\n\t\t\tu32 human_presence_report : 4;\n\t\t\tu32 human_presence_actual : 4;\n\t\t\tu32 probablity\t\t  : 8;\n\t\t\tu32 object_distance       : 16;\n\t\t} shpd;\n\t\tu32 val;\n\t};\n};\n\nint amd_mp2_get_sensor_num(struct amd_mp2_dev *privdata, u8 *sensor_id);\nint amd_sfh_hid_client_init(struct amd_mp2_dev *privdata);\nint amd_sfh_hid_client_deinit(struct amd_mp2_dev *privdata);\nvoid amd_sfh_set_desc_ops(struct amd_mp2_ops *mp2_ops);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}