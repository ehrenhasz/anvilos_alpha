{
  "module_name": "amd_sfh_interface.h",
  "hash_id": "0298c7c45d213e680dd156ad785c5b4af31c737981d78a78a8d42bd358de0c70",
  "original_prompt": "Ingested from linux-6.6.14/drivers/hid/amd-sfh-hid/sfh1_1/amd_sfh_interface.h",
  "human_readable_source": " \n \n\n#ifndef AMD_SFH_INTERFACE_H\n#define AMD_SFH_INTERFACE_H\n\n#include \"../amd_sfh_common.h\"\n\n#define SENSOR_DATA_MEM_SIZE_DEFAULT\t\t256\n#define TOTAL_STATIC_MEM_DEFAULT\t\t1024\n#define OFFSET_SFH_INFO_BASE_DEFAULT\t\t0\n#define OFFSET_SENSOR_DATA_DEFAULT\t\t(OFFSET_SFH_INFO_BASE_DEFAULT + \\\n\t\t\t\t\t\t\tTOTAL_STATIC_MEM_DEFAULT)\nenum sensor_index {\n\tACCEL_IDX,\n\tGYRO_IDX,\n\tMAG_IDX,\n\tALS_IDX = 4,\n\tHPD_IDX = 5,\n\tMAX_IDX = 15,\n};\n\nstruct sfh_cmd_base {\n\tunion {\n\t\tu32 ul;\n\t\tstruct {\n\t\t\tu32 sensor_id\t\t: 4;\n\t\t\tu32 cmd_id\t\t: 4;\n\t\t\tu32 sub_cmd_id\t\t: 8;\n\t\t\tu32 sub_cmd_value\t: 12;\n\t\t\tu32 rsvd\t\t: 3;\n\t\t\tu32 intr_disable\t: 1;\n\t\t} cmd;\n\t};\n};\n\nstruct sfh_cmd_response {\n\tunion {\n\t\tu32 resp;\n\t\tstruct {\n\t\t\tu32 response\t: 8;\n\t\t\tu32 sensor_id\t: 4;\n\t\t\tu32 cmd_id\t: 4;\n\t\t\tu32 sub_cmd\t: 6;\n\t\t\tu32 rsvd2\t: 10;\n\t\t} response;\n\t};\n};\n\nstruct sfh_platform_info {\n\tunion {\n\t\tu32 pi;\n\t\tstruct {\n\t\t\tu32 cust_id\t\t: 16;\n\t\t\tu32 plat_id\t\t: 6;\n\t\t\tu32 interface_id\t: 4;\n\t\t\tu32 rsvd\t\t: 6;\n\t\t} pinfo;\n\t};\n};\n\nstruct sfh_firmware_info {\n\tunion {\n\t\tu32 fw_ver;\n\t\tstruct {\n\t\t\tu32 minor_rev : 8;\n\t\t\tu32 major_rev : 8;\n\t\t\tu32 minor_ver : 8;\n\t\t\tu32 major_ver : 8;\n\t\t} fver;\n\t};\n};\n\nstruct sfh_sensor_list {\n\tunion {\n\t\tu32 slist;\n\t\tstruct {\n\t\t\tu32 sensors\t: 16;\n\t\t\tu32 rsvd\t: 16;\n\t\t} sl;\n\t};\n};\n\nstruct sfh_base_info {\n\tunion {\n\t\tu32 sfh_base[24];\n\t\tstruct {\n\t\t\tstruct sfh_platform_info plat_info;\n\t\t\tstruct sfh_firmware_info  fw_info;\n\t\t\tstruct sfh_sensor_list s_list;\n\t\t} sbase;\n\t};\n};\n\nstruct sfh_common_data {\n\tu64 timestamp;\n\tu32 intr_cnt;\n\tu32 featvalid\t\t: 16;\n\tu32 rsvd\t\t: 13;\n\tu32 sensor_state\t: 3;\n};\n\nstruct sfh_float32 {\n\tu32 x;\n\tu32 y;\n\tu32 z;\n};\n\nstruct sfh_accel_data {\n\tstruct sfh_common_data commondata;\n\tstruct sfh_float32 acceldata;\n\tu32 accelstatus;\n};\n\nstruct sfh_gyro_data {\n\tstruct sfh_common_data commondata;\n\tstruct sfh_float32 gyrodata;\n\tu32 result;\n};\n\nstruct sfh_mag_data {\n\tstruct sfh_common_data commondata;\n\tstruct sfh_float32 magdata;\n\tu32 accuracy;\n};\n\nstruct sfh_als_data {\n\tstruct sfh_common_data commondata;\n\tu32 lux;\n};\n\nstruct hpd_status {\n\tunion {\n\t\tstruct {\n\t\t\tu32 distance\t\t\t: 16;\n\t\t\tu32 probablity\t\t\t: 8;\n\t\t\tu32 presence\t\t\t: 2;\n\t\t\tu32 rsvd\t\t\t: 5;\n\t\t\tu32 state\t\t\t: 1;\n\t\t} shpd;\n\t\tu32 val;\n\t};\n};\n\nvoid sfh_interface_init(struct amd_mp2_dev *mp2);\nvoid amd_sfh1_1_set_desc_ops(struct amd_mp2_ops *mp2_ops);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}