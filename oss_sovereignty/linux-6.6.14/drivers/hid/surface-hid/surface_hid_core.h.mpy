{
  "module_name": "surface_hid_core.h",
  "hash_id": "4c0b591ee38ad386d4023c48124fdfd9cf315d72377cc2dfb63c877fc2ec228b",
  "original_prompt": "Ingested from linux-6.6.14/drivers/hid/surface-hid/surface_hid_core.h",
  "human_readable_source": " \n \n\n#ifndef SURFACE_HID_CORE_H\n#define SURFACE_HID_CORE_H\n\n#include <linux/hid.h>\n#include <linux/pm.h>\n#include <linux/types.h>\n\n#include <linux/surface_aggregator/controller.h>\n#include <linux/surface_aggregator/device.h>\n\nenum surface_hid_descriptor_entry {\n\tSURFACE_HID_DESC_HID    = 0,\n\tSURFACE_HID_DESC_REPORT = 1,\n\tSURFACE_HID_DESC_ATTRS  = 2,\n};\n\nstruct surface_hid_descriptor {\n\t__u8 desc_len;\t\t\t \n\t__u8 desc_type;\t\t\t \n\t__le16 hid_version;\n\t__u8 country_code;\n\t__u8 num_descriptors;\t\t \n\n\t__u8 report_desc_type;\t\t \n\t__le16 report_desc_len;\n} __packed;\n\nstatic_assert(sizeof(struct surface_hid_descriptor) == 9);\n\nstruct surface_hid_attributes {\n\t__le32 length;\n\t__le16 vendor;\n\t__le16 product;\n\t__le16 version;\n\t__u8 _unknown[22];\n} __packed;\n\nstatic_assert(sizeof(struct surface_hid_attributes) == 32);\n\nstruct surface_hid_device;\n\nstruct surface_hid_device_ops {\n\tint (*get_descriptor)(struct surface_hid_device *shid, u8 entry, u8 *buf, size_t len);\n\tint (*output_report)(struct surface_hid_device *shid, u8 rprt_id, u8 *buf, size_t len);\n\tint (*get_feature_report)(struct surface_hid_device *shid, u8 rprt_id, u8 *buf, size_t len);\n\tint (*set_feature_report)(struct surface_hid_device *shid, u8 rprt_id, u8 *buf, size_t len);\n};\n\nstruct surface_hid_device {\n\tstruct device *dev;\n\tstruct ssam_controller *ctrl;\n\tstruct ssam_device_uid uid;\n\n\tstruct surface_hid_descriptor hid_desc;\n\tstruct surface_hid_attributes attrs;\n\n\tstruct ssam_event_notifier notif;\n\tstruct hid_device *hid;\n\n\tstruct surface_hid_device_ops ops;\n};\n\nint surface_hid_device_add(struct surface_hid_device *shid);\nvoid surface_hid_device_destroy(struct surface_hid_device *shid);\n\nextern const struct dev_pm_ops surface_hid_pm_ops;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}