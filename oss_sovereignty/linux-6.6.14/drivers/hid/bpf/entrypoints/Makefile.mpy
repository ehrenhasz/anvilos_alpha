{
  "module_name": "Makefile",
  "hash_id": "b82364abd5d69d5eb41532af7f5f72ea38037566d1c2051782dd9adf83e85baf",
  "original_prompt": "Ingested from linux-6.6.14/drivers/hid/bpf/entrypoints/Makefile",
  "human_readable_source": "# SPDX-License-Identifier: GPL-2.0\nOUTPUT := .output\nabs_out := $(abspath $(OUTPUT))\n\nCLANG ?= clang\nLLC ?= llc\nLLVM_STRIP ?= llvm-strip\n\nTOOLS_PATH := $(abspath ../../../../tools)\nBPFTOOL_SRC := $(TOOLS_PATH)/bpf/bpftool\nBPFTOOL_OUTPUT := $(abs_out)/bpftool\nDEFAULT_BPFTOOL := $(BPFTOOL_OUTPUT)/bootstrap/bpftool\nBPFTOOL ?= $(DEFAULT_BPFTOOL)\n\nLIBBPF_SRC := $(TOOLS_PATH)/lib/bpf\nLIBBPF_OUTPUT := $(abs_out)/libbpf\nLIBBPF_DESTDIR := $(LIBBPF_OUTPUT)\nLIBBPF_INCLUDE := $(LIBBPF_DESTDIR)/include\nBPFOBJ := $(LIBBPF_OUTPUT)/libbpf.a\n\nINCLUDES := -I$(OUTPUT) -I$(LIBBPF_INCLUDE) -I$(TOOLS_PATH)/include/uapi\nCFLAGS := -g -Wall\n\nVMLINUX_BTF_PATHS ?= $(if $(O),$(O)/vmlinux)\t\t\t\t\\\n\t\t     $(if $(KBUILD_OUTPUT),$(KBUILD_OUTPUT)/vmlinux)\t\\\n\t\t     ../../../../vmlinux\t\t\t\t\\\n\t\t     /sys/kernel/btf/vmlinux\t\t\t\t\\\n\t\t     /boot/vmlinux-$(shell uname -r)\nVMLINUX_BTF ?= $(abspath $(firstword $(wildcard $(VMLINUX_BTF_PATHS))))\nifeq ($(VMLINUX_BTF),)\n$(error Cannot find a vmlinux for VMLINUX_BTF at any of \"$(VMLINUX_BTF_PATHS)\")\nendif\n\nifeq ($(V),1)\nQ =\nmsg =\nelse\nQ = @\nmsg = @printf '  %-8s %s%s\\n' \"$(1)\" \"$(notdir $(2))\" \"$(if $(3), $(3))\";\nMAKEFLAGS += --no-print-directory\nsubmake_extras := feature_display=0\nendif\n\n.DELETE_ON_ERROR:\n\n.PHONY: all clean\n\nall: entrypoints.lskel.h\n\nclean:\n\t$(call msg,CLEAN)\n\t$(Q)rm -rf $(OUTPUT) entrypoints\n\nentrypoints.lskel.h: $(OUTPUT)/entrypoints.bpf.o | $(BPFTOOL)\n\t$(call msg,GEN-SKEL,$@)\n\t$(Q)$(BPFTOOL) gen skeleton -L $< > $@\n\n\n$(OUTPUT)/entrypoints.bpf.o: entrypoints.bpf.c $(OUTPUT)/vmlinux.h $(BPFOBJ) | $(OUTPUT)\n\t$(call msg,BPF,$@)\n\t$(Q)$(CLANG) -g -O2 --target=bpf $(INCLUDES)\t\t\t      \\\n\t\t -c $(filter %.c,$^) -o $@ &&\t\t\t\t      \\\n\t$(LLVM_STRIP) -g $@\n\n$(OUTPUT)/vmlinux.h: $(VMLINUX_BTF) $(BPFTOOL) | $(INCLUDE_DIR)\nifeq ($(VMLINUX_H),)\n\t$(call msg,GEN,,$@)\n\t$(Q)$(BPFTOOL) btf dump file $(VMLINUX_BTF) format c > $@\nelse\n\t$(call msg,CP,,$@)\n\t$(Q)cp \"$(VMLINUX_H)\" $@\nendif\n\n$(OUTPUT) $(LIBBPF_OUTPUT) $(BPFTOOL_OUTPUT):\n\t$(call msg,MKDIR,$@)\n\t$(Q)mkdir -p $@\n\n$(BPFOBJ): $(wildcard $(LIBBPF_SRC)/*.[ch] $(LIBBPF_SRC)/Makefile) | $(LIBBPF_OUTPUT)\n\t$(Q)$(MAKE) $(submake_extras) -C $(LIBBPF_SRC)\t\t\t       \\\n\t\t    OUTPUT=$(abspath $(dir $@))/ prefix=\t\t       \\\n\t\t    DESTDIR=$(LIBBPF_DESTDIR) $(abspath $@) install_headers\n\nifeq ($(CROSS_COMPILE),)\n$(DEFAULT_BPFTOOL): $(BPFOBJ) | $(BPFTOOL_OUTPUT)\n\t$(Q)$(MAKE) $(submake_extras) -C $(BPFTOOL_SRC)\t\t\t       \\\n\t\t    OUTPUT=$(BPFTOOL_OUTPUT)/\t\t\t\t       \\\n\t\t    LIBBPF_BOOTSTRAP_OUTPUT=$(LIBBPF_OUTPUT)/\t\t       \\\n\t\t    LIBBPF_BOOTSTRAP_DESTDIR=$(LIBBPF_DESTDIR)/ bootstrap\nelse\n$(DEFAULT_BPFTOOL): | $(BPFTOOL_OUTPUT)\n\t$(Q)$(MAKE) $(submake_extras) -C $(BPFTOOL_SRC)\t\t\t       \\\n\t\t    OUTPUT=$(BPFTOOL_OUTPUT)/ bootstrap\nendif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}