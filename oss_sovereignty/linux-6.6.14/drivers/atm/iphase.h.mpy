{
  "module_name": "iphase.h",
  "hash_id": "614b064897b387ce4c74202a5c5c0aefd839a665498cf28cda99c8c3340f8ea4",
  "original_prompt": "Ingested from linux-6.6.14/drivers/atm/iphase.h",
  "human_readable_source": " \n  \n#ifndef IPHASE_H  \n#define IPHASE_H  \n\n\n \n  \n#define IF_IADBG_INIT_ADAPTER   0x00000001        \n#define IF_IADBG_TX             0x00000002        \n#define IF_IADBG_RX             0x00000004        \n#define IF_IADBG_QUERY_INFO     0x00000008        \n#define IF_IADBG_SHUTDOWN       0x00000010        \n#define IF_IADBG_INTR           0x00000020        \n#define IF_IADBG_TXPKT          0x00000040  \t  \n#define IF_IADBG_RXPKT          0x00000080  \t  \n#define IF_IADBG_ERR            0x00000100        \n#define IF_IADBG_EVENT          0x00000200        \n#define IF_IADBG_DIS_INTR       0x00001000        \n#define IF_IADBG_EN_INTR        0x00002000        \n#define IF_IADBG_LOUD           0x00004000        \n#define IF_IADBG_VERY_LOUD      0x00008000        \n#define IF_IADBG_CBR            0x00100000  \t  \n#define IF_IADBG_UBR            0x00200000  \t  \n#define IF_IADBG_ABR            0x00400000        \n#define IF_IADBG_DESC           0x01000000        \n#define IF_IADBG_SUNI_STAT      0x02000000        \n#define IF_IADBG_RESET          0x04000000        \n\n#define IF_IADBG(f) if (IADebugFlag & (f))\n\n#ifdef  CONFIG_ATM_IA_DEBUG    \n\n#define IF_LOUD(A) IF_IADBG(IF_IADBG_LOUD) { A }\n#define IF_ERR(A) IF_IADBG(IF_IADBG_ERR) { A }\n#define IF_VERY_LOUD(A) IF_IADBG( IF_IADBG_VERY_LOUD ) { A }\n\n#define IF_INIT_ADAPTER(A) IF_IADBG( IF_IADBG_INIT_ADAPTER ) { A }\n#define IF_INIT(A) IF_IADBG( IF_IADBG_INIT_ADAPTER ) { A }\n#define IF_SUNI_STAT(A) IF_IADBG( IF_IADBG_SUNI_STAT ) { A }\n#define IF_QUERY_INFO(A) IF_IADBG( IF_IADBG_QUERY_INFO ) { A }\n#define IF_COPY_OVER(A) IF_IADBG( IF_IADBG_COPY_OVER ) { A }\n\n#define IF_INTR(A) IF_IADBG( IF_IADBG_INTR ) { A }\n#define IF_DIS_INTR(A) IF_IADBG( IF_IADBG_DIS_INTR ) { A }\n#define IF_EN_INTR(A) IF_IADBG( IF_IADBG_EN_INTR ) { A }\n\n#define IF_TX(A) IF_IADBG( IF_IADBG_TX ) { A }\n#define IF_RX(A) IF_IADBG( IF_IADBG_RX ) { A }\n#define IF_TXPKT(A) IF_IADBG( IF_IADBG_TXPKT ) { A }\n#define IF_RXPKT(A) IF_IADBG( IF_IADBG_RXPKT ) { A }\n\n#define IF_SHUTDOWN(A) IF_IADBG(IF_IADBG_SHUTDOWN) { A }\n#define IF_CBR(A) IF_IADBG( IF_IADBG_CBR ) { A }\n#define IF_UBR(A) IF_IADBG( IF_IADBG_UBR ) { A }\n#define IF_ABR(A) IF_IADBG( IF_IADBG_ABR ) { A }\n#define IF_EVENT(A) IF_IADBG( IF_IADBG_EVENT) { A }\n\n#else  \n#define IF_LOUD(A)\n#define IF_VERY_LOUD(A)\n#define IF_INIT_ADAPTER(A)\n#define IF_INIT(A)\n#define IF_SUNI_STAT(A)\n#define IF_PVC_CHKPKT(A)\n#define IF_QUERY_INFO(A)\n#define IF_COPY_OVER(A)\n#define IF_HANG(A)\n#define IF_INTR(A)\n#define IF_DIS_INTR(A)\n#define IF_EN_INTR(A)\n#define IF_TX(A)\n#define IF_RX(A)\n#define IF_TXDEBUG(A)\n#define IF_VC(A)\n#define IF_ERR(A) \n#define IF_CBR(A)\n#define IF_UBR(A)\n#define IF_ABR(A)\n#define IF_SHUTDOWN(A)\n#define DbgPrint(A)\n#define IF_EVENT(A)\n#define IF_TXPKT(A) \n#define IF_RXPKT(A)\n#endif   \n\n#define ATM_DESC(skb) (skb->protocol)\n#define IA_SKB_STATE(skb) (skb->protocol)\n#define IA_DLED   1\n#define IA_TX_DONE 2\n\n \n#define IA_CMD   0x7749\ntypedef struct {\n\tint cmd;\n        int sub_cmd;\n        int len;\n        u32 maddr;\n        int status;\n        void __user *buf;\n} IA_CMDBUF, *PIA_CMDBUF;\n\n \n#define MEMDUMP     \t\t0x01\n\n \n#define MEMDUMP_SEGREG          0x2\n#define MEMDUMP_DEV  \t\t0x1\n#define MEMDUMP_REASSREG        0x3\n#define MEMDUMP_FFL             0x4\n#define READ_REG                0x5\n#define WAKE_DBG_WAIT           0x6\n\n \n\n#define Boolean(x)    \t((x) ? 1 : 0)\n#define NR_VCI 1024\t\t   \n#define NR_VCI_LD 10\t\t   \n#define NR_VCI_4K 4096 \t\t   \n#define NR_VCI_4K_LD 12\t\t   \n#define MEM_VALID 0xfffffff0\t   \n  \n#ifndef PCI_VENDOR_ID_IPHASE  \n#define PCI_VENDOR_ID_IPHASE 0x107e  \n#endif  \n#ifndef PCI_DEVICE_ID_IPHASE_5575  \n#define PCI_DEVICE_ID_IPHASE_5575 0x0008  \n#endif  \n#define DEV_LABEL \t\"ia\"  \n#define PCR\t207692  \n#define ICR\t100000  \n#define MCR\t0  \n#define TBE\t1000  \n#define FRTT\t1  \n#define RIF\t2\t\t  \n#define RDF\t4  \n#define NRMCODE 5\t   \n#define TRMCODE\t3\t   \n#define CDFCODE\t6  \n#define ATDFCODE 2\t   \n  \n   \n#define TX_PACKET_RAM \t0x00000    \n#define DFL_TX_BUF_SZ\t10240\t   \n#define DFL_TX_BUFFERS     50 \t   \n#define REASS_RAM_SIZE 0x10000     \n#define RX_PACKET_RAM \t0x80000    \n#define DFL_RX_BUF_SZ\t10240\t   \n#define DFL_RX_BUFFERS      50\t   \n  \nstruct cpcs_trailer \n{  \n\tu_short control;  \n\tu_short length;  \n\tu_int\tcrc32;  \n};  \n\nstruct cpcs_trailer_desc\n{\n\tstruct cpcs_trailer *cpcs;\n\tdma_addr_t dma_addr;\n};\n\nstruct ia_vcc \n{ \n\tint rxing;\t \n\tint txing;\t\t \n        int NumCbrEntry;\n        u32 pcr;\n        u32 saved_tx_quota;\n        int flow_inc;\n        struct sk_buff_head txing_skb; \n        int  ltimeout;                  \n        u8  vc_desc_cnt;                \n                \n};  \n  \nstruct abr_vc_table \n{  \n\tu_char status;  \n\tu_char rdf;  \n\tu_short air;  \n\tu_int res[3];  \n\tu_int req_rm_cell_data1;  \n\tu_int req_rm_cell_data2;  \n\tu_int add_rm_cell_data1;  \n\tu_int add_rm_cell_data2;  \n};  \n    \n   \nstruct main_vc \n{  \n\tu_short \ttype;  \n#define ABR\t0x8000  \n#define UBR \t0xc000  \n#define CBR\t0x0000  \n\t   \n\tu_short \tnrm;\t \n \tu_short \ttrm;\t   \n\tu_short \trm_timestamp_hi;  \n\tu_short \trm_timestamp_lo:8,  \n\t\t\tcrm:8;\t\t  \n\tu_short \tremainder; \t   \n\tu_short \tnext_vc_sched;  \n\tu_short \tpresent_desc;\t   \n\tu_short \tlast_cell_slot;\t   \n\tu_short \tpcr;  \n\tu_short \tfraction;  \n\tu_short \ticr;  \n\tu_short \tatdf;  \n\tu_short \tmcr;  \n\tu_short \tacr;\t\t \n\tu_short \tunack:8,  \n\t\t\tstatus:8;\t   \n#define UIOLI 0x80  \n#define CRC_APPEND 0x40\t\t\t   \n#define ABR_STATE 0x02  \n  \n};  \n  \n  \n   \nstruct ext_vc \n{  \n\tu_short \tatm_hdr1;  \n\tu_short \tatm_hdr2;  \n\tu_short \tlast_desc;  \n      \tu_short \tout_of_rate_link;      \n};  \n  \n  \n#define DLE_ENTRIES 256  \n#define DMA_INT_ENABLE 0x0002\t   \n#define TX_DLE_PSI 0x0001  \n#define DLE_TOTAL_SIZE (sizeof(struct dle)*DLE_ENTRIES)\n  \n   \nstruct dle \n{  \n\tu32 \tsys_pkt_addr;  \n\tu32 \tlocal_pkt_addr;  \n\tu32 \tbytes;  \n\tu16 \tprq_wr_ptr_data;  \n\tu16 \tmode;  \n};  \n  \nstruct dle_q \n{  \n\tstruct dle \t*start;  \n\tstruct dle \t*end;  \n\tstruct dle \t*read;  \n\tstruct dle \t*write;  \n};  \n  \nstruct free_desc_q \n{  \n\tint \tdesc;\t   \n\tstruct free_desc_q *next;  \n};  \n  \nstruct tx_buf_desc {  \n\tunsigned short desc_mode;  \n\tunsigned short vc_index;  \n\tunsigned short res1;\t\t   \n\tunsigned short bytes;  \n\tunsigned short buf_start_hi;  \n\tunsigned short buf_start_lo;  \n\tunsigned short res2[10];\t   \n};  \n\t  \n  \nstruct rx_buf_desc { \n\tunsigned short desc_mode;\n\tunsigned short vc_index;\n\tunsigned short vpi; \n\tunsigned short bytes; \n\tunsigned short buf_start_hi;  \n\tunsigned short buf_start_lo;  \n\tunsigned short dma_start_hi;  \n\tunsigned short dma_start_lo;  \n\tunsigned short crc_upper;  \n\tunsigned short crc_lower;  \n\tunsigned short res:8, timeout:8;  \n\tunsigned short res2[5];\t   \n};  \n  \n   \n  \n#define EPROM_SIZE 0x40000\t   \n#define MAC1_LEN\t4\t   \t\t\t\t\t  \n#define MAC2_LEN\t2  \n   \n   \n#define IPHASE5575_PCI_CONFIG_REG_BASE\t0x0000  \n#define IPHASE5575_BUS_CONTROL_REG_BASE 0x1000\t   \n#define IPHASE5575_FRAG_CONTROL_REG_BASE 0x2000  \n#define IPHASE5575_REASS_CONTROL_REG_BASE 0x3000  \n#define IPHASE5575_DMA_CONTROL_REG_BASE\t0x4000  \n#define IPHASE5575_FRONT_END_REG_BASE IPHASE5575_DMA_CONTROL_REG_BASE  \n#define IPHASE5575_FRAG_CONTROL_RAM_BASE 0x10000  \n#define IPHASE5575_REASS_CONTROL_RAM_BASE 0x20000  \n  \n   \n#define IPHASE5575_BUS_CONTROL_REG\t0x00  \n#define IPHASE5575_BUS_STATUS_REG\t0x01\t   \n#define IPHASE5575_MAC1\t\t\t0x02  \n#define IPHASE5575_REV\t\t\t0x03  \n#define IPHASE5575_MAC2\t\t\t0x03\t   \n#define IPHASE5575_EXT_RESET\t\t0x04  \n#define IPHASE5575_INT_RESET\t\t0x05\t   \n#define IPHASE5575_PCI_ADDR_PAGE\t0x07\t   \n#define IPHASE5575_EEPROM_ACCESS\t0x0a\t   \n#define IPHASE5575_CELL_FIFO_QUEUE_SZ\t0x0b  \n#define IPHASE5575_CELL_FIFO_MARK_STATE\t0x0c  \n#define IPHASE5575_CELL_FIFO_READ_PTR\t0x0d  \n#define IPHASE5575_CELL_FIFO_WRITE_PTR\t0x0e  \n#define IPHASE5575_CELL_FIFO_CELLS_AVL\t0x0f\t   \n  \n   \n#define CTRL_FE_RST\t0x80000000  \n#define CTRL_LED\t0x40000000  \n#define CTRL_25MBPHY\t0x10000000  \n#define CTRL_ENCMBMEM\t0x08000000  \n#define CTRL_ENOFFSEG\t0x01000000  \n#define CTRL_ERRMASK\t0x00400000  \n#define CTRL_DLETMASK\t0x00100000  \n#define CTRL_DLERMASK\t0x00080000  \n#define CTRL_FEMASK\t0x00040000  \n#define CTRL_SEGMASK\t0x00020000  \n#define CTRL_REASSMASK\t0x00010000  \n#define CTRL_CSPREEMPT\t0x00002000  \n#define CTRL_B128\t0x00000200  \n#define CTRL_B64\t0x00000100  \n#define CTRL_B48\t0x00000080  \n#define CTRL_B32\t0x00000040  \n#define CTRL_B16\t0x00000020  \n#define CTRL_B8\t\t0x00000010  \n  \n   \n#define STAT_CMEMSIZ\t0xc0000000  \n#define STAT_ADPARCK\t0x20000000  \n#define STAT_RESVD\t0x1fffff80  \n#define STAT_ERRINT\t0x00000040  \n#define STAT_MARKINT\t0x00000020  \n#define STAT_DLETINT\t0x00000010  \n#define STAT_DLERINT\t0x00000008  \n#define STAT_FEINT\t0x00000004  \n#define STAT_SEGINT\t0x00000002  \n#define STAT_REASSINT\t0x00000001  \n  \n  \n   \n   \n#define IDLEHEADHI\t0x00  \n#define IDLEHEADLO\t0x01  \n#define MAXRATE\t\t0x02  \n   \n#define RATE155\t\t0x64b1 \n#define MAX_ATM_155     352768 \n#define RATE25\t\t0x5f9d  \n  \n#define STPARMS\t\t0x03  \n#define STPARMS_1K\t0x008c  \n#define STPARMS_2K\t0x0049  \n#define STPARMS_4K\t0x0026  \n#define COMP_EN\t\t0x4000  \n#define CBR_EN\t\t0x2000  \n#define ABR_EN\t\t0x0800  \n#define UBR_EN\t\t0x0400  \n  \n#define ABRUBR_ARB\t0x04  \n#define RM_TYPE\t\t0x05  \n   \n#define RM_TYPE_4_0\t0x0100  \n  \n#define SEG_COMMAND_REG\t\t0x17  \n   \n#define RESET_SEG 0x0055  \n#define RESET_SEG_STATE\t0x00aa  \n#define RESET_TX_CELL_CTR 0x00cc  \n  \n#define CBR_PTR_BASE\t0x20  \n#define ABR_SBPTR_BASE\t0x22  \n#define UBR_SBPTR_BASE  0x23  \n#define ABRWQ_BASE\t0x26  \n#define UBRWQ_BASE\t0x27  \n#define VCT_BASE\t0x28  \n#define VCTE_BASE\t0x29  \n#define CBR_TAB_BEG\t0x2c  \n#define CBR_TAB_END\t0x2d  \n#define PRQ_ST_ADR\t0x30  \n#define PRQ_ED_ADR\t0x31  \n#define PRQ_RD_PTR\t0x32  \n#define PRQ_WR_PTR\t0x33  \n#define TCQ_ST_ADR\t0x34  \n#define TCQ_ED_ADR \t0x35  \n#define TCQ_RD_PTR\t0x36  \n#define TCQ_WR_PTR\t0x37  \n#define SEG_QUEUE_BASE\t0x40  \n#define SEG_DESC_BASE\t0x41  \n#define MODE_REG_0\t0x45  \n#define T_ONLINE\t0x0002\t\t   \n  \n#define MODE_REG_1\t0x46  \n#define MODE_REG_1_VAL\t0x0400\t\t   \n  \n#define SEG_INTR_STATUS_REG 0x47  \n#define SEG_MASK_REG\t0x48  \n#define TRANSMIT_DONE 0x0200\n#define TCQ_NOT_EMPTY 0x1000\t   \n  \n#define CELL_CTR_HIGH_AUTO 0x49  \n#define CELL_CTR_HIGH_NOAUTO 0xc9  \n#define CELL_CTR_LO_AUTO 0x4a  \n#define CELL_CTR_LO_NOAUTO 0xca  \n  \n   \n#define NEXTDESC \t0x59  \n#define NEXTVC\t\t0x5a  \n#define PSLOTCNT\t0x5d  \n#define NEWDN\t\t0x6a  \n#define NEWVC\t\t0x6b  \n#define SBPTR\t\t0x6c  \n#define ABRWQ_WRPTR\t0x6f  \n#define ABRWQ_RDPTR\t0x70  \n#define UBRWQ_WRPTR\t0x71  \n#define UBRWQ_RDPTR\t0x72  \n#define CBR_VC\t\t0x73  \n#define ABR_SBVC\t0x75  \n#define UBR_SBVC\t0x76  \n#define ABRNEXTLINK\t0x78  \n#define UBRNEXTLINK\t0x79  \n  \n  \n   \n   \n#define MODE_REG\t0x00  \n#define R_ONLINE\t0x0002\t\t   \n#define IGN_RAW_FL     \t0x0004\n  \n#define PROTOCOL_ID\t0x01  \n#define REASS_MASK_REG\t0x02  \n#define REASS_INTR_STATUS_REG\t0x03  \n   \n#define RX_PKT_CTR_OF\t0x8000  \n#define RX_ERR_CTR_OF\t0x4000  \n#define RX_CELL_CTR_OF\t0x1000  \n#define RX_FREEQ_EMPT\t0x0200  \n#define RX_EXCPQ_FL\t0x0080  \n#define\tRX_RAWQ_FL\t0x0010  \n#define RX_EXCP_RCVD\t0x0008  \n#define RX_PKT_RCVD\t0x0004  \n#define RX_RAW_RCVD\t0x0001  \n  \n#define DRP_PKT_CNTR\t0x04  \n#define ERR_CNTR\t0x05  \n#define RAW_BASE_ADR\t0x08  \n#define CELL_CTR0\t0x0c  \n#define CELL_CTR1\t0x0d  \n#define REASS_COMMAND_REG\t0x0f  \n   \n#define RESET_REASS\t0x0055  \n#define RESET_REASS_STATE 0x00aa  \n#define RESET_DRP_PKT_CNTR 0x00f1  \n#define RESET_ERR_CNTR\t0x00f2  \n#define RESET_CELL_CNTR 0x00f8  \n#define RESET_REASS_ALL_REGS 0x00ff  \n  \n#define REASS_DESC_BASE\t0x10  \n#define VC_LKUP_BASE\t0x11  \n#define REASS_TABLE_BASE 0x12  \n#define REASS_QUEUE_BASE 0x13  \n#define PKT_TM_CNT\t0x16  \n#define TMOUT_RANGE\t0x17  \n#define INTRVL_CNTR\t0x18  \n#define TMOUT_INDX\t0x19  \n#define VP_LKUP_BASE\t0x1c  \n#define VP_FILTER\t0x1d  \n#define ABR_LKUP_BASE\t0x1e  \n#define FREEQ_ST_ADR\t0x24  \n#define FREEQ_ED_ADR\t0x25  \n#define FREEQ_RD_PTR\t0x26  \n#define FREEQ_WR_PTR\t0x27  \n#define PCQ_ST_ADR\t0x28  \n#define PCQ_ED_ADR\t0x29  \n#define PCQ_RD_PTR\t0x2a  \n#define PCQ_WR_PTR\t0x2b  \n#define EXCP_Q_ST_ADR\t0x2c  \n#define EXCP_Q_ED_ADR\t0x2d  \n#define EXCP_Q_RD_PTR\t0x2e  \n#define EXCP_Q_WR_PTR\t0x2f  \n#define CC_FIFO_ST_ADR\t0x34  \n#define CC_FIFO_ED_ADR\t0x35  \n#define CC_FIFO_RD_PTR\t0x36  \n#define CC_FIFO_WR_PTR\t0x37  \n#define STATE_REG\t0x38  \n#define BUF_SIZE\t0x42  \n#define XTRA_RM_OFFSET\t0x44  \n#define DRP_PKT_CNTR_NC\t0x84  \n#define ERR_CNTR_NC\t0x85  \n#define CELL_CNTR0_NC\t0x8c  \n#define CELL_CNTR1_NC\t0x8d  \n  \n   \n#define EXCPQ_EMPTY\t0x0040  \n#define PCQ_EMPTY\t0x0010  \n#define FREEQ_EMPTY\t0x0004  \n  \n  \n   \n   \n#define IPHASE5575_TX_COUNTER\t\t0x200\t   \n#define IPHASE5575_RX_COUNTER\t\t0x280\t   \n#define IPHASE5575_TX_LIST_ADDR\t\t0x300\t   \n#define IPHASE5575_RX_LIST_ADDR\t\t0x380\t   \n  \n   \n   \n  \n   \n#define TX_DESC_BASE\t0x0000\t   \n#define TX_COMP_Q\t0x1000\t   \n#define PKT_RDY_Q\t0x1400\t   \n#define CBR_SCHED_TABLE\t0x1800\t   \n#define UBR_SCHED_TABLE\t0x3000\t   \n#define UBR_WAIT_Q\t0x4000\t   \n#define ABR_SCHED_TABLE\t0x5000\t   \n#define ABR_WAIT_Q\t0x5800\t   \n#define EXT_VC_TABLE\t0x6000\t   \n#define MAIN_VC_TABLE\t0x8000\t   \n#define SCHEDSZ\t\t1024\t   \n#define TX_DESC_TABLE_SZ 128\t   \n  \n   \n#define DESC_MODE\t0x0  \n#define VC_INDEX\t0x1  \n#define BYTE_CNT\t0x3  \n#define PKT_START_HI\t0x4  \n#define PKT_START_LO\t0x5  \n  \n   \n#define EOM_EN\t0x0800  \n#define AAL5\t0x0100  \n#define APP_CRC32 0x0400  \n#define CMPL_INT  0x1000\n  \n#define TABLE_ADDRESS(db, dn, to) \\\n\t(((unsigned long)(db & 0x04)) << 16) | (dn << 5) | (to << 1)  \n  \n   \n#define RX_DESC_BASE\t0x0000\t   \n#define VP_TABLE\t0x5c00\t   \n#define EXCEPTION_Q\t0x5e00\t   \n#define FREE_BUF_DESC_Q\t0x6000\t   \n#define PKT_COMP_Q\t0x6800\t   \n#define REASS_TABLE\t0x7000\t   \n#define RX_VC_TABLE\t0x7800\t   \n#define ABR_VC_TABLE\t0x8000\t   \n#define RX_DESC_TABLE_SZ 736\t   \n#define VP_TABLE_SZ\t256\t     \n#define RX_VC_TABLE_SZ \t1024\t    \n#define REASS_TABLE_SZ \t1024\t   \n    \n#define RX_ACT\t0x8000  \n#define RX_VPVC\t0x4000  \n#define RX_CNG\t0x0040  \n#define RX_CER\t0x0008  \n#define RX_PTE\t0x0004  \n#define RX_OFL\t0x0002  \n#define NUM_RX_EXCP   32\n\n   \n#define NO_AAL5_PKT\t0x0000  \n#define AAL5_PKT_REASSEMBLED 0x4000  \n#define AAL5_PKT_TERMINATED 0x8000  \n#define RAW_PKT\t\t0xc000  \n#define REASS_ABR\t0x2000  \n  \n   \n#define REG_BASE IPHASE5575_BUS_CONTROL_REG_BASE  \n#define RAM_BASE IPHASE5575_FRAG_CONTROL_RAM_BASE  \n#define PHY_BASE IPHASE5575_FRONT_END_REG_BASE  \n#define SEG_BASE IPHASE5575_FRAG_CONTROL_REG_BASE  \n#define REASS_BASE IPHASE5575_REASS_CONTROL_REG_BASE  \n\ntypedef volatile u_int\tffreg_t;\ntypedef u_int   rreg_t;\n\ntypedef struct _ffredn_t {\n\tffreg_t\tidlehead_high;\t \n\tffreg_t\tidlehead_low;\t \n\tffreg_t\tmaxrate;\t \n\tffreg_t\tstparms;\t \n\tffreg_t\tabrubr_abr;\t \n\tffreg_t\trm_type;\t \n\tu_int\tfiller5[0x17 - 0x06];\n\tffreg_t\tcmd_reg;\t \n\tu_int\tfiller18[0x20 - 0x18];\n\tffreg_t\tcbr_base;\t \n\tffreg_t\tvbr_base;\t \n\tffreg_t\tabr_base;\t \n\tffreg_t\tubr_base;\t \n\tu_int\tfiller24;\n\tffreg_t\tvbrwq_base;\t \n\tffreg_t\tabrwq_base;\t \n\tffreg_t\tubrwq_base;\t \n\tffreg_t\tvct_base;\t \n\tffreg_t\tvcte_base;\t \n\tu_int\tfiller2a[0x2C - 0x2A];\n\tffreg_t\tcbr_tab_beg;\t \n\tffreg_t\tcbr_tab_end;\t \n\tffreg_t\tcbr_pointer;\t \n\tu_int\tfiller2f[0x30 - 0x2F];\n\tffreg_t\tprq_st_adr;\t \n\tffreg_t\tprq_ed_adr;\t \n\tffreg_t\tprq_rd_ptr;\t \n\tffreg_t\tprq_wr_ptr;\t \n\tffreg_t\ttcq_st_adr;\t \n\tffreg_t\ttcq_ed_adr;\t \n\tffreg_t\ttcq_rd_ptr;\t \n\tffreg_t\ttcq_wr_ptr;\t \n\tu_int\tfiller38[0x40 - 0x38];\n\tffreg_t\tqueue_base;\t \n\tffreg_t\tdesc_base;\t \n\tu_int\tfiller42[0x45 - 0x42];\n\tffreg_t\tmode_reg_0;\t \n\tffreg_t\tmode_reg_1;\t \n\tffreg_t\tintr_status_reg; \n\tffreg_t\tmask_reg;\t \n\tffreg_t\tcell_ctr_high1;  \n\tffreg_t\tcell_ctr_lo1;\t \n\tffreg_t\tstate_reg;\t \n\tu_int\tfiller4c[0x58 - 0x4c];\n\tffreg_t\tcurr_desc_num;\t \n\tffreg_t\tnext_desc;\t \n\tffreg_t\tnext_vc;\t \n\tu_int\tfiller5b[0x5d - 0x5b];\n\tffreg_t\tpresent_slot_cnt; \n\tu_int\tfiller5e[0x6a - 0x5e];\n\tffreg_t\tnew_desc_num;\t \n\tffreg_t\tnew_vc;\t\t \n\tffreg_t\tsched_tbl_ptr;\t \n\tffreg_t\tvbrwq_wptr;\t \n\tffreg_t\tvbrwq_rptr;\t \n\tffreg_t\tabrwq_wptr;\t \n\tffreg_t\tabrwq_rptr;\t \n\tffreg_t\tubrwq_wptr;\t \n\tffreg_t\tubrwq_rptr;\t \n\tffreg_t\tcbr_vc;\t\t \n\tffreg_t\tvbr_sb_vc;\t \n\tffreg_t\tabr_sb_vc;\t \n\tffreg_t\tubr_sb_vc;\t \n\tffreg_t\tvbr_next_link;\t \n\tffreg_t\tabr_next_link;\t \n\tffreg_t\tubr_next_link;\t \n\tu_int\tfiller7a[0x7c-0x7a];\n\tffreg_t\tout_rate_head;\t \n\tu_int\tfiller7d[0xca-0x7d];  \n\tffreg_t\tcell_ctr_high1_nc; \n\tffreg_t\tcell_ctr_lo1_nc; \n\tu_int\tfillercc[0x100-0xcc];  \n} ffredn_t;\n\ntypedef struct _rfredn_t {\n        rreg_t  mode_reg_0;      \n        rreg_t  protocol_id;     \n        rreg_t  mask_reg;        \n        rreg_t  intr_status_reg; \n        rreg_t  drp_pkt_cntr;    \n        rreg_t  err_cntr;        \n        u_int   filler6[0x08 - 0x06];\n        rreg_t  raw_base_adr;    \n        u_int   filler2[0x0c - 0x09];\n        rreg_t  cell_ctr0;       \n        rreg_t  cell_ctr1;       \n        u_int   filler3[0x0f - 0x0e];\n        rreg_t  cmd_reg;         \n        rreg_t  desc_base;       \n        rreg_t  vc_lkup_base;    \n        rreg_t  reass_base;      \n        rreg_t  queue_base;      \n        u_int   filler14[0x16 - 0x14];\n        rreg_t  pkt_tm_cnt;      \n        rreg_t  tmout_range;     \n        rreg_t  intrvl_cntr;     \n        rreg_t  tmout_indx;      \n        u_int   filler1a[0x1c - 0x1a];\n        rreg_t  vp_lkup_base;    \n        rreg_t  vp_filter;       \n        rreg_t  abr_lkup_base;   \n        u_int   filler1f[0x24 - 0x1f];\n        rreg_t  fdq_st_adr;      \n        rreg_t  fdq_ed_adr;      \n        rreg_t  fdq_rd_ptr;      \n        rreg_t  fdq_wr_ptr;      \n        rreg_t  pcq_st_adr;      \n        rreg_t  pcq_ed_adr;      \n        rreg_t  pcq_rd_ptr;      \n        rreg_t  pcq_wr_ptr;      \n        rreg_t  excp_st_adr;     \n        rreg_t  excp_ed_adr;     \n        rreg_t  excp_rd_ptr;     \n        rreg_t  excp_wr_ptr;     \n        u_int   filler30[0x34 - 0x30];\n        rreg_t  raw_st_adr;      \n        rreg_t  raw_ed_adr;      \n        rreg_t  raw_rd_ptr;      \n        rreg_t  raw_wr_ptr;      \n        rreg_t  state_reg;       \n        u_int   filler39[0x42 - 0x39];\n        rreg_t  buf_size;        \n        u_int   filler43;\n        rreg_t  xtra_rm_offset;  \n        u_int   filler45[0x84 - 0x45];\n        rreg_t  drp_pkt_cntr_nc; \n        rreg_t  err_cntr_nc;     \n        u_int   filler86[0x8c - 0x86];\n        rreg_t  cell_ctr0_nc;    \n        rreg_t  cell_ctr1_nc;    \n        u_int   filler8e[0x100-0x8e];  \n} rfredn_t;\n\ntypedef struct {\n         \n        ffredn_t        ffredn;          \n        rfredn_t        rfredn;          \n} ia_regs_t;\n\ntypedef struct {\n\tu_short\t\tf_vc_type;\t \n\tu_short\t\tf_nrm;\t\t \n\tu_short\t\tf_nrmexp;\t \n\tu_short\t\treserved6;\t \n\tu_short\t\tf_crm;\t\t \n\tu_short\t\treserved10;\t \n\tu_short\t\treserved12;\t \n\tu_short\t\treserved14;\t \n\tu_short\t\tlast_cell_slot;\t \n\tu_short\t\tf_pcr;\t\t \n\tu_short\t\tfraction;\t \n\tu_short\t\tf_icr;\t\t \n\tu_short\t\tf_cdf;\t\t \n\tu_short\t\tf_mcr;\t\t \n\tu_short\t\tf_acr;\t\t \n\tu_short\t\tf_status;\t \n} f_vc_abr_entry;\n\ntypedef struct {\n        u_short         r_status_rdf;    \n        u_short         r_air;           \n        u_short         reserved4[14];   \n} r_vc_abr_entry;   \n\n#define MRM 3\n\ntypedef struct srv_cls_param {\n        u32 class_type;          \n        u32 pcr;                  \n         \n        u32 scr;                 \n        u32 max_burst_size;      \n \n         \n        u32 mcr;                 \n        u32 icr;                 \n        u32 tbe;                 \n        u32 frtt;                \n \n#if 0    \nbits  31          30           29          28       27-25 24-22 21-19  18-9\n-----------------------------------------------------------------------------\n| NRM present | TRM prsnt | CDF prsnt | ADTF prsnt | NRM | TRM | CDF | ADTF |\n-----------------------------------------------------------------------------\n#endif  \n \n        u8 nrm;                  \n        u8 trm;                  \n        u16 adtf;                \n        u8 cdf;                  \n        u8 rif;                  \n        u8 rdf;                  \n        u8 reserved;             \n} srv_cls_param_t;\n\nstruct testTable_t {\n\tu16 lastTime; \n\tu16 fract; \n\tu8 vc_status;\n}; \n\ntypedef struct {\n\tu16 vci;\n\tu16 error;\n} RX_ERROR_Q;\n\ntypedef struct {\n\tu8 active: 1; \n\tu8 abr: 1; \n\tu8 ubr: 1; \n\tu8 cnt: 5;\n#define VC_ACTIVE \t0x01\n#define VC_ABR\t\t0x02\n#define VC_UBR\t\t0x04\n} vcstatus_t;\n  \nstruct ia_rfL_t {\n    \tu32  fdq_st;      \n        u32  fdq_ed;      \n        u32  fdq_rd;      \n        u32  fdq_wr;      \n        u32  pcq_st;      \n        u32  pcq_ed;      \n        u32  pcq_rd;      \n        u32  pcq_wr;       \n};\n\nstruct ia_ffL_t {\n\tu32  prq_st;      \n        u32  prq_ed;      \n        u32  prq_wr;      \n        u32  tcq_st;      \n        u32  tcq_ed;      \n        u32  tcq_rd;      \n};\n\nstruct desc_tbl_t {\n        u32 timestamp;\n        struct ia_vcc *iavcc;\n        struct sk_buff *txskb;\n}; \n\ntypedef struct ia_rtn_q {\n   struct desc_tbl_t data;\n   struct ia_rtn_q *next, *tail;\n} IARTN_Q;\n\n#define SUNI_LOSV   \t0x04\nenum ia_suni {\n\tSUNI_MASTER_RESET\t= 0x000,  \n\tSUNI_MASTER_CONFIG\t= 0x004,  \n\tSUNI_MASTER_INTR_STAT\t= 0x008,  \n\tSUNI_RESERVED1\t\t= 0x00c,  \n\tSUNI_MASTER_CLK_MONITOR\t= 0x010,  \n\tSUNI_MASTER_CONTROL\t= 0x014,  \n\t\t\t\t\t  \n\tSUNI_RSOP_CONTROL\t= 0x040,  \n\tSUNI_RSOP_STATUS\t= 0x044,  \n\tSUNI_RSOP_SECTION_BIP8L\t= 0x048,  \n\tSUNI_RSOP_SECTION_BIP8M\t= 0x04c,  \n\n\tSUNI_TSOP_CONTROL\t= 0x050,  \n\tSUNI_TSOP_DIAG\t\t= 0x054,  \n\t\t\t\t\t  \n\tSUNI_RLOP_CS\t\t= 0x060,  \n\tSUNI_RLOP_INTR\t\t= 0x064,  \n\tSUNI_RLOP_LINE_BIP24L\t= 0x068,  \n\tSUNI_RLOP_LINE_BIP24\t= 0x06c,  \n\tSUNI_RLOP_LINE_BIP24M\t= 0x070,  \n\tSUNI_RLOP_LINE_FEBEL\t= 0x074,  \n\tSUNI_RLOP_LINE_FEBE\t= 0x078,  \n\tSUNI_RLOP_LINE_FEBEM\t= 0x07c,  \n\n\tSUNI_TLOP_CONTROL\t= 0x080,  \n\tSUNI_TLOP_DISG\t\t= 0x084,  \n\t\t\t\t\t  \n\tSUNI_RPOP_CS\t\t= 0x0c0,  \n\tSUNI_RPOP_INTR\t\t= 0x0c4,  \n\tSUNI_RPOP_RESERVED\t= 0x0c8,  \n\tSUNI_RPOP_INTR_ENA\t= 0x0cc,  \n\t\t\t\t\t  \n\tSUNI_RPOP_PATH_SIG\t= 0x0dc,  \n\tSUNI_RPOP_BIP8L\t\t= 0x0e0,  \n\tSUNI_RPOP_BIP8M\t\t= 0x0e4,  \n\tSUNI_RPOP_FEBEL\t\t= 0x0e8,  \n\tSUNI_RPOP_FEBEM\t\t= 0x0ec,  \n\t\t\t\t\t  \n\tSUNI_TPOP_CNTRL_DAIG\t= 0x100,  \n\tSUNI_TPOP_POINTER_CTRL\t= 0x104,  \n\tSUNI_TPOP_SOURCER_CTRL\t= 0x108,  \n\t\t\t\t\t  \n\tSUNI_TPOP_ARB_PRTL\t= 0x114,  \n\tSUNI_TPOP_ARB_PRTM\t= 0x118,  \n\tSUNI_TPOP_RESERVED2\t= 0x11c,  \n\tSUNI_TPOP_PATH_SIG\t= 0x120,  \n\tSUNI_TPOP_PATH_STATUS\t= 0x124,  \n\t\t\t\t\t  \n\tSUNI_RACP_CS\t\t= 0x140,  \n\tSUNI_RACP_INTR\t\t= 0x144,  \n\tSUNI_RACP_HDR_PATTERN\t= 0x148,  \n\tSUNI_RACP_HDR_MASK\t= 0x14c,  \n\tSUNI_RACP_CORR_HCS\t= 0x150,  \n\tSUNI_RACP_UNCORR_HCS\t= 0x154,  \n\t\t\t\t\t  \n\tSUNI_TACP_CONTROL\t= 0x180,  \n\tSUNI_TACP_IDLE_HDR_PAT\t= 0x184,  \n\tSUNI_TACP_IDLE_PAY_PAY\t= 0x188,  \n\t\t\t\t\t  \n\t\t\t\t\t  \n\t \n\tSUNI_RESERVED_TEST\t= 0x204   \n};\n\ntypedef struct _SUNI_STATS_\n{\n   u32 valid;                       \n   u32 carrier_detect;              \n   \n   u16 rsop_oof_state;              \n   u16 rsop_lof_state;              \n   u16 rsop_los_state;              \n   u32 rsop_los_count;              \n   u32 rsop_bse_count;              \n   \n   u16 rlop_ferf_state;             \n   u16 rlop_lais_state;             \n   u32 rlop_lbe_count;              \n   u32 rlop_febe_count;             \n   \n   u16 rpop_lop_state;              \n   u16 rpop_pais_state;             \n   u16 rpop_pyel_state;             \n   u32 rpop_bip_count;              \n   u32 rpop_febe_count;             \n   u16 rpop_psig;                   \n   \n   u16 racp_hp_state;               \n   u32 racp_fu_count;               \n   u32 racp_fo_count;               \n   u32 racp_chcs_count;             \n   u32 racp_uchcs_count;            \n} IA_SUNI_STATS; \n\ntypedef struct iadev_priv {\n\t    \n\tu32 __iomem *phy;\t \n\tu32 __iomem *dma;\t \n\tu32 __iomem *reg;\t \n\tu32 __iomem *seg_reg;\t\t   \n\tu32 __iomem *reass_reg;\t\t   \n\tu32 __iomem *ram;\t\t   \n\tvoid __iomem *seg_ram;  \n\tvoid __iomem *reass_ram;  \n\tstruct dle_q tx_dle_q;  \n\tstruct free_desc_q *tx_free_desc_qhead;  \n\tstruct sk_buff_head tx_dma_q, tx_backlog;  \n        spinlock_t            tx_lock;\n        IARTN_Q               tx_return_q;\n        u32                   close_pending;\n        wait_queue_head_t    close_wait;\n        wait_queue_head_t    timeout_wait;\n\tstruct cpcs_trailer_desc *tx_buf;\n        u16 num_tx_desc, tx_buf_sz, rate_limit;\n        u32 tx_cell_cnt, tx_pkt_cnt;\n        void __iomem *MAIN_VC_TABLE_ADDR, *EXT_VC_TABLE_ADDR, *ABR_SCHED_TABLE_ADDR;\n\tstruct dle_q rx_dle_q;  \n\tstruct free_desc_q *rx_free_desc_qhead;  \n\tstruct sk_buff_head rx_dma_q;  \n\tspinlock_t rx_lock;\n\tstruct atm_vcc **rx_open;\t   \n        u16 num_rx_desc, rx_buf_sz, rxing;\n        u32 rx_pkt_ram, rx_tmp_cnt;\n        unsigned long rx_tmp_jif;\n        void __iomem *RX_DESC_BASE_ADDR;\n        u32 drop_rxpkt, drop_rxcell, rx_cell_cnt, rx_pkt_cnt;\n\tstruct atm_dev *next_board;\t   \n\tstruct pci_dev *pci;  \n\tint mem;  \n\tunsigned int real_base;\t   \n\tvoid __iomem *base;\n\tunsigned int pci_map_size;\t   \n\tunsigned char irq;  \n\tunsigned char bus;  \n\tunsigned char dev_fn;  \n        u_short  phy_type;\n        u_short  num_vc, memSize, memType;\n        struct ia_ffL_t ffL;\n        struct ia_rfL_t rfL;\n         \n        \n        unsigned char carrier_detect;\n         \n        \n        unsigned int tx_dma_cnt;     \n        unsigned int rx_dma_cnt;     \n        unsigned int NumEnabledCBR;  \n        \n        unsigned int rx_mark_cnt;    \n        unsigned int CbrTotEntries;  \n        unsigned int CbrRemEntries;  \n        unsigned int CbrEntryPt;     \n        unsigned int Granularity;    \n         \n\tunsigned int  sum_mcr, sum_cbr, LineRate;\n\tunsigned int  n_abr;\n        struct desc_tbl_t *desc_tbl;\n        u_short host_tcq_wr;\n        struct testTable_t **testTable;\n\tdma_addr_t tx_dle_dma;\n\tdma_addr_t rx_dle_dma;\n} IADEV;\n  \n  \n#define INPH_IA_DEV(d) ((IADEV *) (d)->dev_data)  \n#define INPH_IA_VCC(v) ((struct ia_vcc *) (v)->dev_data)  \n\n \nenum ia_mb25 {\n\tMB25_MASTER_CTRL\t= 0x00,  \n\tMB25_INTR_STATUS\t= 0x04,\t \n\tMB25_DIAG_CONTROL\t= 0x08,\t \n\tMB25_LED_HEC\t\t= 0x0c,\t \n\tMB25_LOW_BYTE_COUNTER\t= 0x10,\n\tMB25_HIGH_BYTE_COUNTER\t= 0x14\n};\n\n \n#define\tMB25_MC_UPLO\t0x80\t\t \n#define\tMB25_MC_DREC\t0x40\t\t \n#define\tMB25_MC_ECEIO\t0x20\t\t \n#define\tMB25_MC_TDPC\t0x10\t\t \n#define\tMB25_MC_DRIC\t0x08\t\t \n#define\tMB25_MC_HALTTX\t0x04\t\t \n#define\tMB25_MC_UMS\t0x02\t\t \n#define\tMB25_MC_ENABLED\t0x01\t\t \n\n \n#define\tMB25_IS_GSB\t0x40\t\t \t\n#define\tMB25_IS_HECECR\t0x20\t\t \n#define\tMB25_IS_SCR\t0x10\t\t \n#define\tMB25_IS_TPE\t0x08\t\t \n#define\tMB25_IS_RSCC\t0x04\t\t \n#define\tMB25_IS_RCSE\t0x02\t\t \n#define\tMB25_IS_RFIFOO\t0x01\t\t \n\n \n#define\tMB25_DC_FTXCD\t0x80\t\t \t\n#define\tMB25_DC_RXCOS\t0x40\t\t \n#define\tMB25_DC_ECEIO\t0x20\t\t \n#define\tMB25_DC_RLFLUSH\t0x10\t\t \n#define\tMB25_DC_IXPE\t0x08\t\t \n#define\tMB25_DC_IXHECE\t0x04\t\t \n#define\tMB25_DC_LB_MASK\t0x03\t\t \n\n#define\tMB25_DC_LL\t0x03\t\t \n#define\tMB25_DC_PL\t0x02\t\t \n#define\tMB25_DC_NM\t0x00\t\t\n\n#define FE_MASK \t0x00F0\n#define FE_MULTI_MODE\t0x0000\n#define FE_SINGLE_MODE  0x0010 \n#define FE_UTP_OPTION  \t0x0020\n#define FE_25MBIT_PHY\t0x0040\n#define FE_DS3_PHY      0x0080           \n#define FE_E3_PHY       0x0090           \n\t\t     \n \nenum suni_pm7345 {\n\tSUNI_CONFIG\t\t\t= 0x000,  \n\tSUNI_INTR_ENBL\t\t\t= 0x004,  \n\tSUNI_INTR_STAT\t\t\t= 0x008,  \n\tSUNI_CONTROL\t\t\t= 0x00c,  \n\tSUNI_ID_RESET\t\t\t= 0x010,  \n\tSUNI_DATA_LINK_CTRL\t\t= 0x014,\n\tSUNI_RBOC_CONF_INTR_ENBL\t= 0x018,\n\tSUNI_RBOC_STAT\t\t\t= 0x01c,\n\tSUNI_DS3_FRM_CFG\t\t= 0x020,\n\tSUNI_DS3_FRM_INTR_ENBL\t\t= 0x024,\n\tSUNI_DS3_FRM_INTR_STAT\t\t= 0x028,\n\tSUNI_DS3_FRM_STAT\t\t= 0x02c,\n\tSUNI_RFDL_CFG\t\t\t= 0x030,\n\tSUNI_RFDL_ENBL_STAT\t\t= 0x034,\n\tSUNI_RFDL_STAT\t\t\t= 0x038,\n\tSUNI_RFDL_DATA\t\t\t= 0x03c,\n\tSUNI_PMON_CHNG\t\t\t= 0x040,\n\tSUNI_PMON_INTR_ENBL_STAT\t= 0x044,\n\t \n\tSUNI_PMON_LCV_EVT_CNT_LSB\t= 0x050,\n\tSUNI_PMON_LCV_EVT_CNT_MSB\t= 0x054,\n\tSUNI_PMON_FBE_EVT_CNT_LSB\t= 0x058,\n\tSUNI_PMON_FBE_EVT_CNT_MSB\t= 0x05c,\n\tSUNI_PMON_SEZ_DET_CNT_LSB\t= 0x060,\n\tSUNI_PMON_SEZ_DET_CNT_MSB\t= 0x064,\n\tSUNI_PMON_PE_EVT_CNT_LSB\t= 0x068,\n\tSUNI_PMON_PE_EVT_CNT_MSB\t= 0x06c,\n\tSUNI_PMON_PPE_EVT_CNT_LSB\t= 0x070,\n\tSUNI_PMON_PPE_EVT_CNT_MSB\t= 0x074,\n\tSUNI_PMON_FEBE_EVT_CNT_LSB\t= 0x078,\n\tSUNI_PMON_FEBE_EVT_CNT_MSB\t= 0x07c,\n\tSUNI_DS3_TRAN_CFG\t\t= 0x080,\n\tSUNI_DS3_TRAN_DIAG\t\t= 0x084,\n\t \n\tSUNI_XFDL_CFG\t\t\t= 0x090,\n\tSUNI_XFDL_INTR_ST\t\t= 0x094,\n\tSUNI_XFDL_XMIT_DATA\t\t= 0x098,\n\tSUNI_XBOC_CODE\t\t\t= 0x09c,\n\tSUNI_SPLR_CFG\t\t\t= 0x0a0,\n\tSUNI_SPLR_INTR_EN\t\t= 0x0a4,\n\tSUNI_SPLR_INTR_ST\t\t= 0x0a8,\n\tSUNI_SPLR_STATUS\t\t= 0x0ac,\n\tSUNI_SPLT_CFG\t\t\t= 0x0b0,\n\tSUNI_SPLT_CNTL\t\t\t= 0x0b4,\n\tSUNI_SPLT_DIAG_G1\t\t= 0x0b8,\n\tSUNI_SPLT_F1\t\t\t= 0x0bc,\n\tSUNI_CPPM_LOC_METERS\t\t= 0x0c0,\n\tSUNI_CPPM_CHG_OF_CPPM_PERF_METR\t= 0x0c4,\n\tSUNI_CPPM_B1_ERR_CNT_LSB\t= 0x0c8,\n\tSUNI_CPPM_B1_ERR_CNT_MSB\t= 0x0cc,\n\tSUNI_CPPM_FRAMING_ERR_CNT_LSB\t= 0x0d0,\n\tSUNI_CPPM_FRAMING_ERR_CNT_MSB\t= 0x0d4,\n\tSUNI_CPPM_FEBE_CNT_LSB\t\t= 0x0d8,\n\tSUNI_CPPM_FEBE_CNT_MSB\t\t= 0x0dc,\n\tSUNI_CPPM_HCS_ERR_CNT_LSB\t= 0x0e0,\n\tSUNI_CPPM_HCS_ERR_CNT_MSB\t= 0x0e4,\n\tSUNI_CPPM_IDLE_UN_CELL_CNT_LSB\t= 0x0e8,\n\tSUNI_CPPM_IDLE_UN_CELL_CNT_MSB\t= 0x0ec,\n\tSUNI_CPPM_RCV_CELL_CNT_LSB\t= 0x0f0,\n\tSUNI_CPPM_RCV_CELL_CNT_MSB\t= 0x0f4,\n\tSUNI_CPPM_XMIT_CELL_CNT_LSB\t= 0x0f8,\n\tSUNI_CPPM_XMIT_CELL_CNT_MSB\t= 0x0fc,\n\tSUNI_RXCP_CTRL\t\t\t= 0x100,\n\tSUNI_RXCP_FCTRL\t\t\t= 0x104,\n\tSUNI_RXCP_INTR_EN_STS\t\t= 0x108,\n\tSUNI_RXCP_IDLE_PAT_H1\t\t= 0x10c,\n\tSUNI_RXCP_IDLE_PAT_H2\t\t= 0x110,\n\tSUNI_RXCP_IDLE_PAT_H3\t\t= 0x114,\n\tSUNI_RXCP_IDLE_PAT_H4\t\t= 0x118,\n\tSUNI_RXCP_IDLE_MASK_H1\t\t= 0x11c,\n\tSUNI_RXCP_IDLE_MASK_H2\t\t= 0x120,\n\tSUNI_RXCP_IDLE_MASK_H3\t\t= 0x124,\n\tSUNI_RXCP_IDLE_MASK_H4\t\t= 0x128,\n\tSUNI_RXCP_CELL_PAT_H1\t\t= 0x12c,\n\tSUNI_RXCP_CELL_PAT_H2\t\t= 0x130,\n\tSUNI_RXCP_CELL_PAT_H3\t\t= 0x134,\n\tSUNI_RXCP_CELL_PAT_H4\t\t= 0x138,\n\tSUNI_RXCP_CELL_MASK_H1\t\t= 0x13c,\n\tSUNI_RXCP_CELL_MASK_H2\t\t= 0x140,\n\tSUNI_RXCP_CELL_MASK_H3\t\t= 0x144,\n\tSUNI_RXCP_CELL_MASK_H4\t\t= 0x148,\n\tSUNI_RXCP_HCS_CS\t\t= 0x14c,\n\tSUNI_RXCP_LCD_CNT_THRESHOLD\t= 0x150,\n\t \n\tSUNI_TXCP_CTRL\t\t\t= 0x160,\n\tSUNI_TXCP_INTR_EN_STS\t\t= 0x164,\n\tSUNI_TXCP_IDLE_PAT_H1\t\t= 0x168,\n\tSUNI_TXCP_IDLE_PAT_H2\t\t= 0x16c,\n\tSUNI_TXCP_IDLE_PAT_H3\t\t= 0x170,\n\tSUNI_TXCP_IDLE_PAT_H4\t\t= 0x174,\n\tSUNI_TXCP_IDLE_PAT_H5\t\t= 0x178,\n\tSUNI_TXCP_IDLE_PAYLOAD\t\t= 0x17c,\n\tSUNI_E3_FRM_FRAM_OPTIONS\t= 0x180,\n\tSUNI_E3_FRM_MAINT_OPTIONS\t= 0x184,\n\tSUNI_E3_FRM_FRAM_INTR_ENBL\t= 0x188,\n\tSUNI_E3_FRM_FRAM_INTR_IND_STAT\t= 0x18c,\n\tSUNI_E3_FRM_MAINT_INTR_ENBL\t= 0x190,\n\tSUNI_E3_FRM_MAINT_INTR_IND\t= 0x194,\n\tSUNI_E3_FRM_MAINT_STAT\t\t= 0x198,\n\tSUNI_RESERVED4\t\t\t= 0x19c,\n\tSUNI_E3_TRAN_FRAM_OPTIONS\t= 0x1a0,\n\tSUNI_E3_TRAN_STAT_DIAG_OPTIONS\t= 0x1a4,\n\tSUNI_E3_TRAN_BIP_8_ERR_MASK\t= 0x1a8,\n\tSUNI_E3_TRAN_MAINT_ADAPT_OPTS\t= 0x1ac,\n\tSUNI_TTB_CTRL\t\t\t= 0x1b0,\n\tSUNI_TTB_TRAIL_TRACE_ID_STAT\t= 0x1b4,\n\tSUNI_TTB_IND_ADDR\t\t= 0x1b8,\n\tSUNI_TTB_IND_DATA\t\t= 0x1bc,\n\tSUNI_TTB_EXP_PAYLOAD_TYPE\t= 0x1c0,\n\tSUNI_TTB_PAYLOAD_TYPE_CTRL_STAT\t= 0x1c4,\n\t \n\tSUNI_MASTER_TEST\t\t= 0x200,\n\t \n};\n\n#define SUNI_PM7345_T suni_pm7345_t\n#define SUNI_PM7345     0x20             \n#define SUNI_PM5346     0x30             \n \n#define SUNI_PM7345_CLB         0x01     \n#define SUNI_PM7345_PLB         0x02     \n#define SUNI_PM7345_DLB         0x04     \n#define SUNI_PM7345_LLB         0x80     \n#define SUNI_PM7345_E3ENBL      0x40     \n#define SUNI_PM7345_LOOPT       0x10     \n#define SUNI_PM7345_FIFOBP      0x20     \n#define SUNI_PM7345_FRMRBP      0x08     \n \n#define SUNI_DS3_COFAE  0x80             \n#define SUNI_DS3_REDE   0x40             \n#define SUNI_DS3_CBITE  0x20             \n#define SUNI_DS3_FERFE  0x10             \n#define SUNI_DS3_IDLE   0x08             \n#define SUNI_DS3_AISE   0x04             \n#define SUNI_DS3_OOFE   0x02             \n#define SUNI_DS3_LOSE   0x01             \n \n \n#define SUNI_DS3_ACE    0x80             \n#define SUNI_DS3_REDV   0x40             \n#define SUNI_DS3_CBITV  0x20             \n#define SUNI_DS3_FERFV  0x10             \n#define SUNI_DS3_IDLV   0x08             \n#define SUNI_DS3_AISV   0x04             \n#define SUNI_DS3_OOFV   0x02             \n#define SUNI_DS3_LOSV   0x01             \n\n \n#define SUNI_E3_CZDI    0x40             \n#define SUNI_E3_LOSI    0x20             \n#define SUNI_E3_LCVI    0x10             \n#define SUNI_E3_COFAI   0x08             \n#define SUNI_E3_OOFI    0x04             \n#define SUNI_E3_LOS     0x02             \n#define SUNI_E3_OOF     0x01             \n\n \n#define SUNI_E3_AISD    0x80             \n#define SUNI_E3_FERF_RAI        0x40     \n#define SUNI_E3_FEBE    0x20             \n\n \n#define SUNI_DS3_HCSPASS        0x80     \n#define SUNI_DS3_HCSDQDB        0x40     \n#define SUNI_DS3_HCSADD         0x20     \n#define SUNI_DS3_HCK            0x10     \n#define SUNI_DS3_BLOCK          0x08     \n#define SUNI_DS3_DSCR           0x04     \n#define SUNI_DS3_OOCDV          0x02     \n#define SUNI_DS3_FIFORST        0x01     \n\n \n#define SUNI_DS3_OOCDE  0x80             \n#define SUNI_DS3_HCSE   0x40             \n#define SUNI_DS3_FIFOE  0x20             \n#define SUNI_DS3_OOCDI  0x10             \n#define SUNI_DS3_UHCSI  0x08             \n#define SUNI_DS3_COCAI  0x04             \n#define SUNI_DS3_FOVRI  0x02             \n#define SUNI_DS3_FUDRI  0x01             \n\n\n\n \n#define MEM_SIZE_MASK   0x000F           \n#define MEM_SIZE_128K   0x0000           \n#define MEM_SIZE_512K   0x0001           \n#define MEM_SIZE_1M     0x0002           \n                                         \n\n#define FE_MASK         0x00F0           \n#define FE_MULTI_MODE   0x0000           \n#define FE_SINGLE_MODE  0x0010           \n#define FE_UTP_OPTION   0x0020           \n\n#define\tNOVRAM_SIZE\t64\n#define\tCMD_LEN\t\t10\n\n \n\n \n\n#define\tEXTEND\t0x100\n#define\tIAWRITE\t0x140\n#define\tIAREAD\t0x180\n#define\tERASE\t0x1c0\n\n#define\tEWDS\t0x00\n#define\tWRAL\t0x10\n#define\tERAL\t0x20\n#define\tEWEN\t0x30\n\n \n\n#define\tNVCE\t0x02\n#define\tNVSK\t0x01\n#define\tNVDO\t0x08\t\n#define NVDI\t0x04\n \n\n#define\tCFG_AND(val) { \\\n\t\tu32 t; \\\n\t\tt = readl(iadev->reg+IPHASE5575_EEPROM_ACCESS); \\\n\t\tt &= (val); \\\n\t\twritel(t, iadev->reg+IPHASE5575_EEPROM_ACCESS); \\\n\t}\n\n \n\n#define\tCFG_OR(val) { \\\n\t\tu32 t; \\\n\t\tt =  readl(iadev->reg+IPHASE5575_EEPROM_ACCESS); \\\n\t\tt |= (val); \\\n\t\twritel(t, iadev->reg+IPHASE5575_EEPROM_ACCESS); \\\n\t}\n\n \n\n#define\tNVRAM_CMD(cmd) { \\\n\t\tint\ti; \\\n\t\tu_short c = cmd; \\\n\t\tCFG_AND(~(NVCE|NVSK)); \\\n\t\tCFG_OR(NVCE); \\\n\t\tfor (i=0; i<CMD_LEN; i++) { \\\n\t\t\tNVRAM_CLKOUT((c & (1 << (CMD_LEN - 1))) ? 1 : 0); \\\n\t\t\tc <<= 1; \\\n\t\t} \\\n\t}\n\n \n\n#define\tNVRAM_CLR_CE\t{CFG_AND(~NVCE)}\n\n \n\n#define\tNVRAM_CLKOUT(bitval) { \\\n\t\tCFG_AND(~NVDI); \\\n\t\tCFG_OR((bitval) ? NVDI : 0); \\\n\t\tCFG_OR(NVSK); \\\n\t\tCFG_AND( ~NVSK); \\\n\t}\n\n \n\n#define\tNVRAM_CLKIN(value) { \\\n\t\tu32 _t; \\\n\t\tCFG_OR(NVSK); \\\n\t\tCFG_AND(~NVSK); \\\n\t\t_t = readl(iadev->reg+IPHASE5575_EEPROM_ACCESS); \\\n\t\tvalue = (_t & NVDO) ? 1 : 0; \\\n\t}\n\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}