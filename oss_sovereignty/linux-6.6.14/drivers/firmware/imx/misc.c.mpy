{
  "module_name": "misc.c",
  "hash_id": "5b9dffd5160c85d9d65e77339f3eb97385481afb6686b7127a6e4b68e76f5cad",
  "original_prompt": "Ingested from linux-6.6.14/drivers/firmware/imx/misc.c",
  "human_readable_source": "\n \n\n#include <linux/firmware/imx/svc/misc.h>\n\nstruct imx_sc_msg_req_misc_set_ctrl {\n\tstruct imx_sc_rpc_msg hdr;\n\tu32 ctrl;\n\tu32 val;\n\tu16 resource;\n} __packed __aligned(4);\n\nstruct imx_sc_msg_req_cpu_start {\n\tstruct imx_sc_rpc_msg hdr;\n\tu32 address_hi;\n\tu32 address_lo;\n\tu16 resource;\n\tu8 enable;\n} __packed __aligned(4);\n\nstruct imx_sc_msg_req_misc_get_ctrl {\n\tstruct imx_sc_rpc_msg hdr;\n\tu32 ctrl;\n\tu16 resource;\n} __packed __aligned(4);\n\nstruct imx_sc_msg_resp_misc_get_ctrl {\n\tstruct imx_sc_rpc_msg hdr;\n\tu32 val;\n} __packed __aligned(4);\n\n \n\nint imx_sc_misc_set_control(struct imx_sc_ipc *ipc, u32 resource,\n\t\t\t    u8 ctrl, u32 val)\n{\n\tstruct imx_sc_msg_req_misc_set_ctrl msg;\n\tstruct imx_sc_rpc_msg *hdr = &msg.hdr;\n\n\thdr->ver = IMX_SC_RPC_VERSION;\n\thdr->svc = (uint8_t)IMX_SC_RPC_SVC_MISC;\n\thdr->func = (uint8_t)IMX_SC_MISC_FUNC_SET_CONTROL;\n\thdr->size = 4;\n\n\tmsg.ctrl = ctrl;\n\tmsg.val = val;\n\tmsg.resource = resource;\n\n\treturn imx_scu_call_rpc(ipc, &msg, true);\n}\nEXPORT_SYMBOL(imx_sc_misc_set_control);\n\n \n\nint imx_sc_misc_get_control(struct imx_sc_ipc *ipc, u32 resource,\n\t\t\t    u8 ctrl, u32 *val)\n{\n\tstruct imx_sc_msg_req_misc_get_ctrl msg;\n\tstruct imx_sc_msg_resp_misc_get_ctrl *resp;\n\tstruct imx_sc_rpc_msg *hdr = &msg.hdr;\n\tint ret;\n\n\thdr->ver = IMX_SC_RPC_VERSION;\n\thdr->svc = (uint8_t)IMX_SC_RPC_SVC_MISC;\n\thdr->func = (uint8_t)IMX_SC_MISC_FUNC_GET_CONTROL;\n\thdr->size = 3;\n\n\tmsg.ctrl = ctrl;\n\tmsg.resource = resource;\n\n\tret = imx_scu_call_rpc(ipc, &msg, true);\n\tif (ret)\n\t\treturn ret;\n\n\tresp = (struct imx_sc_msg_resp_misc_get_ctrl *)&msg;\n\tif (val != NULL)\n\t\t*val = resp->val;\n\n\treturn 0;\n}\nEXPORT_SYMBOL(imx_sc_misc_get_control);\n\n \nint imx_sc_pm_cpu_start(struct imx_sc_ipc *ipc, u32 resource,\n\t\t\tbool enable, u64 phys_addr)\n{\n\tstruct imx_sc_msg_req_cpu_start msg;\n\tstruct imx_sc_rpc_msg *hdr = &msg.hdr;\n\n\thdr->ver = IMX_SC_RPC_VERSION;\n\thdr->svc = IMX_SC_RPC_SVC_PM;\n\thdr->func = IMX_SC_PM_FUNC_CPU_START;\n\thdr->size = 4;\n\n\tmsg.address_hi = phys_addr >> 32;\n\tmsg.address_lo = phys_addr;\n\tmsg.resource = resource;\n\tmsg.enable = enable;\n\n\treturn imx_scu_call_rpc(ipc, &msg, true);\n}\nEXPORT_SYMBOL(imx_sc_pm_cpu_start);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}