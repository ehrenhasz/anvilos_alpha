{
  "module_name": "adf_transport_internal.h",
  "hash_id": "d8bb14f214d2f9b5dd70fc993c1c7da6a23f91f290f39db40deef8bd89c74de2",
  "original_prompt": "Ingested from linux-6.6.14/drivers/crypto/intel/qat/qat_common/adf_transport_internal.h",
  "human_readable_source": " \n \n#ifndef ADF_TRANSPORT_INTRN_H\n#define ADF_TRANSPORT_INTRN_H\n\n#include <linux/interrupt.h>\n#include <linux/spinlock_types.h>\n#include \"adf_transport.h\"\n\nstruct adf_etr_ring_debug_entry {\n\tchar ring_name[ADF_CFG_MAX_KEY_LEN_IN_BYTES];\n\tstruct dentry *debug;\n};\n\nstruct adf_etr_ring_data {\n\tvoid *base_addr;\n\tatomic_t *inflights;\n\tadf_callback_fn callback;\n\tstruct adf_etr_bank_data *bank;\n\tdma_addr_t dma_addr;\n\tstruct adf_etr_ring_debug_entry *ring_debug;\n\tspinlock_t lock;\t \n\tu16 head;\n\tu16 tail;\n\tu32 threshold;\n\tu8 ring_number;\n\tu8 ring_size;\n\tu8 msg_size;\n};\n\nstruct adf_etr_bank_data {\n\tstruct adf_etr_ring_data *rings;\n\tstruct tasklet_struct resp_handler;\n\tvoid __iomem *csr_addr;\n\tu32 irq_coalesc_timer;\n\tu32 bank_number;\n\tu16 ring_mask;\n\tu16 irq_mask;\n\tspinlock_t lock;\t \n\tstruct adf_accel_dev *accel_dev;\n\tstruct dentry *bank_debug_dir;\n\tstruct dentry *bank_debug_cfg;\n};\n\nstruct adf_etr_data {\n\tstruct adf_etr_bank_data *banks;\n\tstruct dentry *debug;\n};\n\nvoid adf_response_handler(uintptr_t bank_addr);\n#ifdef CONFIG_DEBUG_FS\n#include <linux/debugfs.h>\nint adf_bank_debugfs_add(struct adf_etr_bank_data *bank);\nvoid adf_bank_debugfs_rm(struct adf_etr_bank_data *bank);\nint adf_ring_debugfs_add(struct adf_etr_ring_data *ring, const char *name);\nvoid adf_ring_debugfs_rm(struct adf_etr_ring_data *ring);\n#else\nstatic inline int adf_bank_debugfs_add(struct adf_etr_bank_data *bank)\n{\n\treturn 0;\n}\n\n#define adf_bank_debugfs_rm(bank) do {} while (0)\n\nstatic inline int adf_ring_debugfs_add(struct adf_etr_ring_data *ring,\n\t\t\t\t       const char *name)\n{\n\treturn 0;\n}\n\n#define adf_ring_debugfs_rm(ring) do {} while (0)\n#endif\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}