{
  "module_name": "adf_gen4_hw_data.h",
  "hash_id": "97a92adc1e0ba17803cfd647e86fc70af6516f1c2a51bee790d712bfb44f8da0",
  "original_prompt": "Ingested from linux-6.6.14/drivers/crypto/intel/qat/qat_common/adf_gen4_hw_data.h",
  "human_readable_source": " \n \n#ifndef ADF_GEN4_HW_CSR_DATA_H_\n#define ADF_GEN4_HW_CSR_DATA_H_\n\n#include \"adf_accel_devices.h\"\n#include \"adf_cfg_common.h\"\n\n \n#define ADF_BANK_INT_SRC_SEL_MASK\t0x44UL\n#define ADF_RING_CSR_RING_CONFIG\t0x1000\n#define ADF_RING_CSR_RING_LBASE\t\t0x1040\n#define ADF_RING_CSR_RING_UBASE\t\t0x1080\n#define ADF_RING_CSR_RING_HEAD\t\t0x0C0\n#define ADF_RING_CSR_RING_TAIL\t\t0x100\n#define ADF_RING_CSR_E_STAT\t\t0x14C\n#define ADF_RING_CSR_INT_FLAG\t\t0x170\n#define ADF_RING_CSR_INT_SRCSEL\t\t0x174\n#define ADF_RING_CSR_INT_COL_CTL\t0x180\n#define ADF_RING_CSR_INT_FLAG_AND_COL\t0x184\n#define ADF_RING_CSR_INT_COL_CTL_ENABLE\t0x80000000\n#define ADF_RING_CSR_INT_COL_EN\t\t0x17C\n#define ADF_RING_CSR_ADDR_OFFSET\t0x100000\n#define ADF_RING_BUNDLE_SIZE\t\t0x2000\n\n#define BUILD_RING_BASE_ADDR(addr, size) \\\n\t((((addr) >> 6) & (GENMASK_ULL(63, 0) << (size))) << 6)\n#define READ_CSR_RING_HEAD(csr_base_addr, bank, ring) \\\n\tADF_CSR_RD((csr_base_addr) + ADF_RING_CSR_ADDR_OFFSET, \\\n\t\t   ADF_RING_BUNDLE_SIZE * (bank) + \\\n\t\t   ADF_RING_CSR_RING_HEAD + ((ring) << 2))\n#define READ_CSR_RING_TAIL(csr_base_addr, bank, ring) \\\n\tADF_CSR_RD((csr_base_addr) + ADF_RING_CSR_ADDR_OFFSET, \\\n\t\t   ADF_RING_BUNDLE_SIZE * (bank) + \\\n\t\t   ADF_RING_CSR_RING_TAIL + ((ring) << 2))\n#define READ_CSR_E_STAT(csr_base_addr, bank) \\\n\tADF_CSR_RD((csr_base_addr) + ADF_RING_CSR_ADDR_OFFSET, \\\n\t\t   ADF_RING_BUNDLE_SIZE * (bank) + ADF_RING_CSR_E_STAT)\n#define WRITE_CSR_RING_CONFIG(csr_base_addr, bank, ring, value) \\\n\tADF_CSR_WR((csr_base_addr) + ADF_RING_CSR_ADDR_OFFSET, \\\n\t\t   ADF_RING_BUNDLE_SIZE * (bank) + \\\n\t\t   ADF_RING_CSR_RING_CONFIG + ((ring) << 2), value)\n#define WRITE_CSR_RING_BASE(csr_base_addr, bank, ring, value)\t\\\ndo { \\\n\tvoid __iomem *_csr_base_addr = csr_base_addr; \\\n\tu32 _bank = bank;\t\t\t\t\t\t\\\n\tu32 _ring = ring;\t\t\t\t\t\t\\\n\tdma_addr_t _value = value;\t\t\t\t\t\\\n\tu32 l_base = 0, u_base = 0;\t\t\t\t\t\\\n\tl_base = lower_32_bits(_value);\t\t\t\t\t\\\n\tu_base = upper_32_bits(_value);\t\t\t\t\t\\\n\tADF_CSR_WR((_csr_base_addr) + ADF_RING_CSR_ADDR_OFFSET,\t\t\\\n\t\t   ADF_RING_BUNDLE_SIZE * (_bank) +\t\t\t\\\n\t\t   ADF_RING_CSR_RING_LBASE + ((_ring) << 2), l_base);\t\\\n\tADF_CSR_WR((_csr_base_addr) + ADF_RING_CSR_ADDR_OFFSET,\t\t\\\n\t\t   ADF_RING_BUNDLE_SIZE * (_bank) +\t\t\t\\\n\t\t   ADF_RING_CSR_RING_UBASE + ((_ring) << 2), u_base);\t\\\n} while (0)\n\n#define WRITE_CSR_RING_HEAD(csr_base_addr, bank, ring, value) \\\n\tADF_CSR_WR((csr_base_addr) + ADF_RING_CSR_ADDR_OFFSET, \\\n\t\t   ADF_RING_BUNDLE_SIZE * (bank) + \\\n\t\t   ADF_RING_CSR_RING_HEAD + ((ring) << 2), value)\n#define WRITE_CSR_RING_TAIL(csr_base_addr, bank, ring, value) \\\n\tADF_CSR_WR((csr_base_addr) + ADF_RING_CSR_ADDR_OFFSET, \\\n\t\t   ADF_RING_BUNDLE_SIZE * (bank) + \\\n\t\t   ADF_RING_CSR_RING_TAIL + ((ring) << 2), value)\n#define WRITE_CSR_INT_FLAG(csr_base_addr, bank, value) \\\n\tADF_CSR_WR((csr_base_addr) + ADF_RING_CSR_ADDR_OFFSET, \\\n\t\t   ADF_RING_BUNDLE_SIZE * (bank) + \\\n\t\t   ADF_RING_CSR_INT_FLAG, (value))\n#define WRITE_CSR_INT_SRCSEL(csr_base_addr, bank) \\\n\tADF_CSR_WR((csr_base_addr) + ADF_RING_CSR_ADDR_OFFSET, \\\n\t\t   ADF_RING_BUNDLE_SIZE * (bank) + \\\n\t\t   ADF_RING_CSR_INT_SRCSEL, ADF_BANK_INT_SRC_SEL_MASK)\n#define WRITE_CSR_INT_COL_EN(csr_base_addr, bank, value) \\\n\tADF_CSR_WR((csr_base_addr) + ADF_RING_CSR_ADDR_OFFSET, \\\n\t\t   ADF_RING_BUNDLE_SIZE * (bank) + \\\n\t\t   ADF_RING_CSR_INT_COL_EN, (value))\n#define WRITE_CSR_INT_COL_CTL(csr_base_addr, bank, value) \\\n\tADF_CSR_WR((csr_base_addr) + ADF_RING_CSR_ADDR_OFFSET, \\\n\t\t   ADF_RING_BUNDLE_SIZE * (bank) + \\\n\t\t   ADF_RING_CSR_INT_COL_CTL, \\\n\t\t   ADF_RING_CSR_INT_COL_CTL_ENABLE | (value))\n#define WRITE_CSR_INT_FLAG_AND_COL(csr_base_addr, bank, value) \\\n\tADF_CSR_WR((csr_base_addr) + ADF_RING_CSR_ADDR_OFFSET, \\\n\t\t   ADF_RING_BUNDLE_SIZE * (bank) + \\\n\t\t   ADF_RING_CSR_INT_FLAG_AND_COL, (value))\n\n \n#define ADF_RING_CSR_RING_SRV_ARB_EN 0x19C\n\n#define WRITE_CSR_RING_SRV_ARB_EN(csr_base_addr, bank, value) \\\n\tADF_CSR_WR((csr_base_addr) + ADF_RING_CSR_ADDR_OFFSET, \\\n\t\t   ADF_RING_BUNDLE_SIZE * (bank) + \\\n\t\t   ADF_RING_CSR_RING_SRV_ARB_EN, (value))\n\n \n#define ADF_GEN4_DEFAULT_RING_TO_SRV_MAP \\\n\t(ASYM << ADF_CFG_SERV_RING_PAIR_0_SHIFT | \\\n\t  SYM << ADF_CFG_SERV_RING_PAIR_1_SHIFT | \\\n\t ASYM << ADF_CFG_SERV_RING_PAIR_2_SHIFT | \\\n\t  SYM << ADF_CFG_SERV_RING_PAIR_3_SHIFT)\n\n \n#define ADF_SSM_WDT_DEFAULT_VALUE\t0x7000000ULL\n#define ADF_SSM_WDT_PKE_DEFAULT_VALUE\t0x8000000\n#define ADF_SSMWDTL_OFFSET\t\t0x54\n#define ADF_SSMWDTH_OFFSET\t\t0x5C\n#define ADF_SSMWDTPKEL_OFFSET\t\t0x58\n#define ADF_SSMWDTPKEH_OFFSET\t\t0x60\n\n \n#define ADF_RPRESET_POLL_TIMEOUT_US\t(5 * USEC_PER_SEC)\n#define ADF_RPRESET_POLL_DELAY_US\t20\n#define ADF_WQM_CSR_RPRESETCTL_RESET\tBIT(0)\n#define ADF_WQM_CSR_RPRESETCTL(bank)\t(0x6000 + ((bank) << 3))\n#define ADF_WQM_CSR_RPRESETSTS_STATUS\tBIT(0)\n#define ADF_WQM_CSR_RPRESETSTS(bank)\t(ADF_WQM_CSR_RPRESETCTL(bank) + 4)\n\n \n#define ADF_GEN4_ERRSOU0\t(0x41A200)\n#define ADF_GEN4_ERRSOU1\t(0x41A204)\n#define ADF_GEN4_ERRSOU2\t(0x41A208)\n#define ADF_GEN4_ERRSOU3\t(0x41A20C)\n\n \n#define ADF_GEN4_ERRMSK0\t(0x41A210)\n#define ADF_GEN4_ERRMSK1\t(0x41A214)\n#define ADF_GEN4_ERRMSK2\t(0x41A218)\n#define ADF_GEN4_ERRMSK3\t(0x41A21C)\n\n#define ADF_GEN4_VFLNOTIFY\tBIT(7)\n\n \n#define ADF_NUM_HB_CNT_PER_AE ADF_NUM_THREADS_PER_AE\n\nvoid adf_gen4_set_ssm_wdtimer(struct adf_accel_dev *accel_dev);\nvoid adf_gen4_init_hw_csr_ops(struct adf_hw_csr_ops *csr_ops);\nint adf_gen4_ring_pair_reset(struct adf_accel_dev *accel_dev, u32 bank_number);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}