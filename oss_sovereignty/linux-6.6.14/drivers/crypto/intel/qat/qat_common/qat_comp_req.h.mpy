{
  "module_name": "qat_comp_req.h",
  "hash_id": "f3f840cb7732d23f196d9891fbae641e0dc03ceecf1447c47b2d0e8ee93f3c89",
  "original_prompt": "Ingested from linux-6.6.14/drivers/crypto/intel/qat/qat_common/qat_comp_req.h",
  "human_readable_source": " \n \n#ifndef _QAT_COMP_REQ_H_\n#define _QAT_COMP_REQ_H_\n\n#include \"icp_qat_fw_comp.h\"\n\n#define QAT_COMP_REQ_SIZE (sizeof(struct icp_qat_fw_comp_req))\n#define QAT_COMP_CTX_SIZE (QAT_COMP_REQ_SIZE * 2)\n\nstatic inline void qat_comp_create_req(void *ctx, void *req, u64 src, u32 slen,\n\t\t\t\t       u64 dst, u32 dlen, u64 opaque)\n{\n\tstruct icp_qat_fw_comp_req *fw_tmpl = ctx;\n\tstruct icp_qat_fw_comp_req *fw_req = req;\n\tstruct icp_qat_fw_comp_req_params *req_pars = &fw_req->comp_pars;\n\n\tmemcpy(fw_req, fw_tmpl, sizeof(*fw_req));\n\tfw_req->comn_mid.src_data_addr = src;\n\tfw_req->comn_mid.src_length = slen;\n\tfw_req->comn_mid.dest_data_addr = dst;\n\tfw_req->comn_mid.dst_length = dlen;\n\tfw_req->comn_mid.opaque_data = opaque;\n\treq_pars->comp_len = slen;\n\treq_pars->out_buffer_sz = dlen;\n}\n\nstatic inline void qat_comp_override_dst(void *req, u64 dst, u32 dlen)\n{\n\tstruct icp_qat_fw_comp_req *fw_req = req;\n\tstruct icp_qat_fw_comp_req_params *req_pars = &fw_req->comp_pars;\n\n\tfw_req->comn_mid.dest_data_addr = dst;\n\tfw_req->comn_mid.dst_length = dlen;\n\treq_pars->out_buffer_sz = dlen;\n}\n\nstatic inline void qat_comp_create_compression_req(void *ctx, void *req,\n\t\t\t\t\t\t   u64 src, u32 slen,\n\t\t\t\t\t\t   u64 dst, u32 dlen,\n\t\t\t\t\t\t   u64 opaque)\n{\n\tqat_comp_create_req(ctx, req, src, slen, dst, dlen, opaque);\n}\n\nstatic inline void qat_comp_create_decompression_req(void *ctx, void *req,\n\t\t\t\t\t\t     u64 src, u32 slen,\n\t\t\t\t\t\t     u64 dst, u32 dlen,\n\t\t\t\t\t\t     u64 opaque)\n{\n\tstruct icp_qat_fw_comp_req *fw_tmpl = ctx;\n\n\tfw_tmpl++;\n\tqat_comp_create_req(fw_tmpl, req, src, slen, dst, dlen, opaque);\n}\n\nstatic inline u32 qat_comp_get_consumed_ctr(void *resp)\n{\n\tstruct icp_qat_fw_comp_resp *qat_resp = resp;\n\n\treturn qat_resp->comp_resp_pars.input_byte_counter;\n}\n\nstatic inline u32 qat_comp_get_produced_ctr(void *resp)\n{\n\tstruct icp_qat_fw_comp_resp *qat_resp = resp;\n\n\treturn qat_resp->comp_resp_pars.output_byte_counter;\n}\n\nstatic inline u32 qat_comp_get_produced_adler32(void *resp)\n{\n\tstruct icp_qat_fw_comp_resp *qat_resp = resp;\n\n\treturn qat_resp->comp_resp_pars.crc.legacy.curr_adler_32;\n}\n\nstatic inline u64 qat_comp_get_opaque(void *resp)\n{\n\tstruct icp_qat_fw_comp_resp *qat_resp = resp;\n\n\treturn qat_resp->opaque_data;\n}\n\nstatic inline s8 qat_comp_get_cmp_err(void *resp)\n{\n\tstruct icp_qat_fw_comp_resp *qat_resp = resp;\n\n\treturn qat_resp->comn_resp.comn_error.cmp_err_code;\n}\n\nstatic inline s8 qat_comp_get_xlt_err(void *resp)\n{\n\tstruct icp_qat_fw_comp_resp *qat_resp = resp;\n\n\treturn qat_resp->comn_resp.comn_error.xlat_err_code;\n}\n\nstatic inline s8 qat_comp_get_cmp_status(void *resp)\n{\n\tstruct icp_qat_fw_comp_resp *qat_resp = resp;\n\tu8 stat_filed = qat_resp->comn_resp.comn_status;\n\n\treturn ICP_QAT_FW_COMN_RESP_CMP_STAT_GET(stat_filed);\n}\n\nstatic inline s8 qat_comp_get_xlt_status(void *resp)\n{\n\tstruct icp_qat_fw_comp_resp *qat_resp = resp;\n\tu8 stat_filed = qat_resp->comn_resp.comn_status;\n\n\treturn ICP_QAT_FW_COMN_RESP_XLAT_STAT_GET(stat_filed);\n}\n\nstatic inline u8 qat_comp_get_cmp_cnv_flag(void *resp)\n{\n\tstruct icp_qat_fw_comp_resp *qat_resp = resp;\n\tu8 flags = qat_resp->comn_resp.hdr_flags;\n\n\treturn ICP_QAT_FW_COMN_HDR_CNV_FLAG_GET(flags);\n}\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}