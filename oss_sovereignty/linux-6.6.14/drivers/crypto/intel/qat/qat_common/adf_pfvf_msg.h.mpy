{
  "module_name": "adf_pfvf_msg.h",
  "hash_id": "82c6fbc93bbdd805a2d59a792bbf7eed5af25661831c92223d13049a55b91f72",
  "original_prompt": "Ingested from linux-6.6.14/drivers/crypto/intel/qat/qat_common/adf_pfvf_msg.h",
  "human_readable_source": " \n \n#ifndef ADF_PFVF_MSG_H\n#define ADF_PFVF_MSG_H\n\n#include <linux/bits.h>\n\n \n\n \n#define ADF_PFVF_INT\t\t\t\tBIT(0)\n#define ADF_PFVF_MSGORIGIN_SYSTEM\t\tBIT(1)\n\n \nstruct pfvf_message {\n\tu8 type;\n\tu32 data;\n};\n\n \nenum pf2vf_msgtype {\n\tADF_PF2VF_MSGTYPE_RESTARTING\t\t= 0x01,\n\tADF_PF2VF_MSGTYPE_VERSION_RESP\t\t= 0x02,\n\tADF_PF2VF_MSGTYPE_BLKMSG_RESP\t\t= 0x03,\n \n\tADF_PF2VF_MSGTYPE_RP_RESET_RESP\t\t= 0x10,\n};\n\n \nenum vf2pf_msgtype {\n\tADF_VF2PF_MSGTYPE_INIT\t\t\t= 0x03,\n\tADF_VF2PF_MSGTYPE_SHUTDOWN\t\t= 0x04,\n\tADF_VF2PF_MSGTYPE_VERSION_REQ\t\t= 0x05,\n\tADF_VF2PF_MSGTYPE_COMPAT_VER_REQ\t= 0x06,\n\tADF_VF2PF_MSGTYPE_LARGE_BLOCK_REQ\t= 0x07,\n\tADF_VF2PF_MSGTYPE_MEDIUM_BLOCK_REQ\t= 0x08,\n\tADF_VF2PF_MSGTYPE_SMALL_BLOCK_REQ\t= 0x09,\n \n\tADF_VF2PF_MSGTYPE_RP_RESET\t\t= 0x10,\n};\n\n \nenum pfvf_compatibility_version {\n\t \n\tADF_PFVF_COMPAT_CAPABILITIES\t\t= 0x02,\n\t \n\tADF_PFVF_COMPAT_FAST_ACK\t\t= 0x03,\n\t \n\tADF_PFVF_COMPAT_RING_TO_SVC_MAP\t\t= 0x04,\n\t \n\tADF_PFVF_COMPAT_THIS_VERSION\t\t= 0x04,\n};\n\n \n#define ADF_PF2VF_VERSION_RESP_VERS_MASK\tGENMASK(7, 0)\n#define ADF_PF2VF_VERSION_RESP_RESULT_MASK\tGENMASK(9, 8)\n\nenum pf2vf_compat_response {\n\tADF_PF2VF_VF_COMPATIBLE\t\t\t= 0x01,\n\tADF_PF2VF_VF_INCOMPATIBLE\t\t= 0x02,\n\tADF_PF2VF_VF_COMPAT_UNKNOWN\t\t= 0x03,\n};\n\nenum ring_reset_result {\n\tRPRESET_SUCCESS\t\t\t\t= 0x00,\n\tRPRESET_NOT_SUPPORTED\t\t\t= 0x01,\n\tRPRESET_INVAL_BANK\t\t\t= 0x02,\n\tRPRESET_TIMEOUT\t\t\t\t= 0x03,\n};\n\n#define ADF_VF2PF_RNG_RESET_RP_MASK\t\tGENMASK(1, 0)\n#define ADF_VF2PF_RNG_RESET_RSVD_MASK\t\tGENMASK(25, 2)\n\n \n#define ADF_PF2VF_BLKMSG_RESP_TYPE_MASK\t\tGENMASK(1, 0)\n#define ADF_PF2VF_BLKMSG_RESP_DATA_MASK\t\tGENMASK(9, 2)\n\nenum pf2vf_blkmsg_resp_type {\n\tADF_PF2VF_BLKMSG_RESP_TYPE_DATA\t\t= 0x00,\n\tADF_PF2VF_BLKMSG_RESP_TYPE_CRC\t\t= 0x01,\n\tADF_PF2VF_BLKMSG_RESP_TYPE_ERROR\t= 0x02,\n};\n\n \nenum pf2vf_blkmsg_error {\n\tADF_PF2VF_INVALID_BLOCK_TYPE\t\t= 0x00,\n\tADF_PF2VF_INVALID_BYTE_NUM_REQ\t\t= 0x01,\n\tADF_PF2VF_PAYLOAD_TRUNCATED\t\t= 0x02,\n\tADF_PF2VF_UNSPECIFIED_ERROR\t\t= 0x03,\n};\n\n \n#define ADF_VF2PF_LARGE_BLOCK_TYPE_MASK\t\tGENMASK(1, 0)\n#define ADF_VF2PF_LARGE_BLOCK_BYTE_MASK\t\tGENMASK(8, 2)\n#define ADF_VF2PF_MEDIUM_BLOCK_TYPE_MASK\tGENMASK(2, 0)\n#define ADF_VF2PF_MEDIUM_BLOCK_BYTE_MASK\tGENMASK(8, 3)\n#define ADF_VF2PF_SMALL_BLOCK_TYPE_MASK\t\tGENMASK(3, 0)\n#define ADF_VF2PF_SMALL_BLOCK_BYTE_MASK\t\tGENMASK(8, 4)\n#define ADF_VF2PF_BLOCK_CRC_REQ_MASK\t\tBIT(9)\n\n \nenum vf2pf_blkmsg_req_type {\n\tADF_VF2PF_BLKMSG_REQ_CAP_SUMMARY\t= 0x02,\n\tADF_VF2PF_BLKMSG_REQ_RING_SVC_MAP\t= 0x03,\n};\n\n#define ADF_VF2PF_SMALL_BLOCK_TYPE_MAX \\\n\t\t(FIELD_MAX(ADF_VF2PF_SMALL_BLOCK_TYPE_MASK))\n\n#define ADF_VF2PF_MEDIUM_BLOCK_TYPE_MAX \\\n\t\t(FIELD_MAX(ADF_VF2PF_MEDIUM_BLOCK_TYPE_MASK) + \\\n\t\tADF_VF2PF_SMALL_BLOCK_TYPE_MAX + 1)\n\n#define ADF_VF2PF_LARGE_BLOCK_TYPE_MAX \\\n\t\t(FIELD_MAX(ADF_VF2PF_LARGE_BLOCK_TYPE_MASK) + \\\n\t\tADF_VF2PF_MEDIUM_BLOCK_TYPE_MAX)\n\n#define ADF_VF2PF_SMALL_BLOCK_BYTE_MAX \\\n\t\tFIELD_MAX(ADF_VF2PF_SMALL_BLOCK_BYTE_MASK)\n\n#define ADF_VF2PF_MEDIUM_BLOCK_BYTE_MAX \\\n\t\tFIELD_MAX(ADF_VF2PF_MEDIUM_BLOCK_BYTE_MASK)\n\n#define ADF_VF2PF_LARGE_BLOCK_BYTE_MAX \\\n\t\tFIELD_MAX(ADF_VF2PF_LARGE_BLOCK_BYTE_MASK)\n\nstruct pfvf_blkmsg_header {\n\tu8 version;\n\tu8 payload_size;\n} __packed;\n\n#define ADF_PFVF_BLKMSG_HEADER_SIZE\t\t(sizeof(struct pfvf_blkmsg_header))\n#define ADF_PFVF_BLKMSG_PAYLOAD_SIZE(blkmsg)\t(sizeof(blkmsg) - \\\n\t\t\t\t\t\t\tADF_PFVF_BLKMSG_HEADER_SIZE)\n#define ADF_PFVF_BLKMSG_MSG_SIZE(blkmsg)\t(ADF_PFVF_BLKMSG_HEADER_SIZE + \\\n\t\t\t\t\t\t\t(blkmsg)->hdr.payload_size)\n#define ADF_PFVF_BLKMSG_MSG_MAX_SIZE\t\t128\n\n \n#define ADF_PFVF_BLKMSG_VER_BYTE\t\t0\n#define ADF_PFVF_BLKMSG_LEN_BYTE\t\t1\n\n \nenum blkmsg_capabilities_versions {\n\tADF_PFVF_CAPABILITIES_V1_VERSION\t= 0x01,\n\tADF_PFVF_CAPABILITIES_V2_VERSION\t= 0x02,\n\tADF_PFVF_CAPABILITIES_V3_VERSION\t= 0x03,\n};\n\nstruct capabilities_v1 {\n\tstruct pfvf_blkmsg_header hdr;\n\tu32 ext_dc_caps;\n} __packed;\n\nstruct capabilities_v2 {\n\tstruct pfvf_blkmsg_header hdr;\n\tu32 ext_dc_caps;\n\tu32 capabilities;\n} __packed;\n\nstruct capabilities_v3 {\n\tstruct pfvf_blkmsg_header hdr;\n\tu32 ext_dc_caps;\n\tu32 capabilities;\n\tu32 frequency;\n} __packed;\n\n \nenum blkmsg_ring_to_svc_versions {\n\tADF_PFVF_RING_TO_SVC_VERSION\t\t= 0x01,\n};\n\nstruct ring_to_svc_map_v1 {\n\tstruct pfvf_blkmsg_header hdr;\n\tu16 map;\n} __packed;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}