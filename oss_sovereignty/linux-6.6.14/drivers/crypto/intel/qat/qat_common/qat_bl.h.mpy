{
  "module_name": "qat_bl.h",
  "hash_id": "dbe028e83c1df0c0b05b052f4cd9688dc8c3b73b6df8b6590e92c591c1af28fa",
  "original_prompt": "Ingested from linux-6.6.14/drivers/crypto/intel/qat/qat_common/qat_bl.h",
  "human_readable_source": " \n \n#ifndef QAT_BL_H\n#define QAT_BL_H\n#include <linux/crypto.h>\n#include <linux/scatterlist.h>\n#include <linux/types.h>\n\n#define QAT_MAX_BUFF_DESC\t4\n\nstruct qat_alg_buf {\n\tu32 len;\n\tu32 resrvd;\n\tu64 addr;\n} __packed;\n\nstruct qat_alg_buf_list {\n\tu64 resrvd;\n\tu32 num_bufs;\n\tu32 num_mapped_bufs;\n\tstruct qat_alg_buf buffers[];\n} __packed;\n\nstruct qat_alg_fixed_buf_list {\n\tstruct qat_alg_buf_list sgl_hdr;\n\tstruct qat_alg_buf descriptors[QAT_MAX_BUFF_DESC];\n} __packed __aligned(64);\n\nstruct qat_request_buffs {\n\tstruct qat_alg_buf_list *bl;\n\tdma_addr_t blp;\n\tstruct qat_alg_buf_list *blout;\n\tdma_addr_t bloutp;\n\tsize_t sz;\n\tsize_t sz_out;\n\tbool sgl_src_valid;\n\tbool sgl_dst_valid;\n\tstruct qat_alg_fixed_buf_list sgl_src;\n\tstruct qat_alg_fixed_buf_list sgl_dst;\n};\n\nstruct qat_sgl_to_bufl_params {\n\tdma_addr_t extra_dst_buff;\n\tsize_t sz_extra_dst_buff;\n\tunsigned int sskip;\n\tunsigned int dskip;\n};\n\nvoid qat_bl_free_bufl(struct adf_accel_dev *accel_dev,\n\t\t      struct qat_request_buffs *buf);\nint qat_bl_sgl_to_bufl(struct adf_accel_dev *accel_dev,\n\t\t       struct scatterlist *sgl,\n\t\t       struct scatterlist *sglout,\n\t\t       struct qat_request_buffs *buf,\n\t\t       struct qat_sgl_to_bufl_params *params,\n\t\t       gfp_t flags);\n\nstatic inline gfp_t qat_algs_alloc_flags(struct crypto_async_request *req)\n{\n\treturn req->flags & CRYPTO_TFM_REQ_MAY_SLEEP ? GFP_KERNEL : GFP_ATOMIC;\n}\n\nint qat_bl_realloc_map_new_dst(struct adf_accel_dev *accel_dev,\n\t\t\t       struct scatterlist **newd,\n\t\t\t       unsigned int dlen,\n\t\t\t       struct qat_request_buffs *qat_bufs,\n\t\t\t       gfp_t gfp);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}