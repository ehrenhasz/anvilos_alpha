{
  "module_name": "adf_gen2_hw_data.h",
  "hash_id": "94d6942215d99d63b78b05462688d72b12f674b7e26e8c16dd60ef640d4b6bc4",
  "original_prompt": "Ingested from linux-6.6.14/drivers/crypto/intel/qat/qat_common/adf_gen2_hw_data.h",
  "human_readable_source": " \n \n#ifndef ADF_GEN2_HW_DATA_H_\n#define ADF_GEN2_HW_DATA_H_\n\n#include \"adf_accel_devices.h\"\n#include \"adf_cfg_common.h\"\n\n \n#define ADF_BANK_INT_SRC_SEL_MASK_0\t0x4444444CUL\n#define ADF_BANK_INT_SRC_SEL_MASK_X\t0x44444444UL\n#define ADF_RING_CSR_RING_CONFIG\t0x000\n#define ADF_RING_CSR_RING_LBASE\t\t0x040\n#define ADF_RING_CSR_RING_UBASE\t\t0x080\n#define ADF_RING_CSR_RING_HEAD\t\t0x0C0\n#define ADF_RING_CSR_RING_TAIL\t\t0x100\n#define ADF_RING_CSR_E_STAT\t\t0x14C\n#define ADF_RING_CSR_INT_FLAG\t\t0x170\n#define ADF_RING_CSR_INT_SRCSEL\t\t0x174\n#define ADF_RING_CSR_INT_SRCSEL_2\t0x178\n#define ADF_RING_CSR_INT_COL_EN\t\t0x17C\n#define ADF_RING_CSR_INT_COL_CTL\t0x180\n#define ADF_RING_CSR_INT_FLAG_AND_COL\t0x184\n#define ADF_RING_CSR_INT_COL_CTL_ENABLE\t0x80000000\n#define ADF_RING_BUNDLE_SIZE\t\t0x1000\n#define ADF_GEN2_RX_RINGS_OFFSET\t8\n#define ADF_GEN2_TX_RINGS_MASK\t\t0xFF\n\n#define BUILD_RING_BASE_ADDR(addr, size) \\\n\t(((addr) >> 6) & (GENMASK_ULL(63, 0) << (size)))\n#define READ_CSR_RING_HEAD(csr_base_addr, bank, ring) \\\n\tADF_CSR_RD(csr_base_addr, (ADF_RING_BUNDLE_SIZE * (bank)) + \\\n\t\t   ADF_RING_CSR_RING_HEAD + ((ring) << 2))\n#define READ_CSR_RING_TAIL(csr_base_addr, bank, ring) \\\n\tADF_CSR_RD(csr_base_addr, (ADF_RING_BUNDLE_SIZE * (bank)) + \\\n\t\t   ADF_RING_CSR_RING_TAIL + ((ring) << 2))\n#define READ_CSR_E_STAT(csr_base_addr, bank) \\\n\tADF_CSR_RD(csr_base_addr, (ADF_RING_BUNDLE_SIZE * (bank)) + \\\n\t\t   ADF_RING_CSR_E_STAT)\n#define WRITE_CSR_RING_CONFIG(csr_base_addr, bank, ring, value) \\\n\tADF_CSR_WR(csr_base_addr, (ADF_RING_BUNDLE_SIZE * (bank)) + \\\n\t\t   ADF_RING_CSR_RING_CONFIG + ((ring) << 2), value)\n#define WRITE_CSR_RING_BASE(csr_base_addr, bank, ring, value) \\\ndo { \\\n\tu32 l_base = 0, u_base = 0; \\\n\tl_base = (u32)((value) & 0xFFFFFFFF); \\\n\tu_base = (u32)(((value) & 0xFFFFFFFF00000000ULL) >> 32); \\\n\tADF_CSR_WR(csr_base_addr, (ADF_RING_BUNDLE_SIZE * (bank)) + \\\n\t\t   ADF_RING_CSR_RING_LBASE + ((ring) << 2), l_base); \\\n\tADF_CSR_WR(csr_base_addr, (ADF_RING_BUNDLE_SIZE * (bank)) + \\\n\t\t   ADF_RING_CSR_RING_UBASE + ((ring) << 2), u_base); \\\n} while (0)\n\n#define WRITE_CSR_RING_HEAD(csr_base_addr, bank, ring, value) \\\n\tADF_CSR_WR(csr_base_addr, (ADF_RING_BUNDLE_SIZE * (bank)) + \\\n\t\t   ADF_RING_CSR_RING_HEAD + ((ring) << 2), value)\n#define WRITE_CSR_RING_TAIL(csr_base_addr, bank, ring, value) \\\n\tADF_CSR_WR(csr_base_addr, (ADF_RING_BUNDLE_SIZE * (bank)) + \\\n\t\t   ADF_RING_CSR_RING_TAIL + ((ring) << 2), value)\n#define WRITE_CSR_INT_FLAG(csr_base_addr, bank, value) \\\n\tADF_CSR_WR(csr_base_addr, (ADF_RING_BUNDLE_SIZE * (bank)) + \\\n\t\t   ADF_RING_CSR_INT_FLAG, value)\n#define WRITE_CSR_INT_SRCSEL(csr_base_addr, bank) \\\ndo { \\\n\tADF_CSR_WR(csr_base_addr, (ADF_RING_BUNDLE_SIZE * (bank)) + \\\n\tADF_RING_CSR_INT_SRCSEL, ADF_BANK_INT_SRC_SEL_MASK_0); \\\n\tADF_CSR_WR(csr_base_addr, (ADF_RING_BUNDLE_SIZE * (bank)) + \\\n\tADF_RING_CSR_INT_SRCSEL_2, ADF_BANK_INT_SRC_SEL_MASK_X); \\\n} while (0)\n#define WRITE_CSR_INT_COL_EN(csr_base_addr, bank, value) \\\n\tADF_CSR_WR(csr_base_addr, (ADF_RING_BUNDLE_SIZE * (bank)) + \\\n\t\t   ADF_RING_CSR_INT_COL_EN, value)\n#define WRITE_CSR_INT_COL_CTL(csr_base_addr, bank, value) \\\n\tADF_CSR_WR(csr_base_addr, (ADF_RING_BUNDLE_SIZE * (bank)) + \\\n\t\t   ADF_RING_CSR_INT_COL_CTL, \\\n\t\t   ADF_RING_CSR_INT_COL_CTL_ENABLE | (value))\n#define WRITE_CSR_INT_FLAG_AND_COL(csr_base_addr, bank, value) \\\n\tADF_CSR_WR(csr_base_addr, (ADF_RING_BUNDLE_SIZE * (bank)) + \\\n\t\t   ADF_RING_CSR_INT_FLAG_AND_COL, value)\n\n \n#define AE2FUNCTION_MAP_A_OFFSET\t(0x3A400 + 0x190)\n#define AE2FUNCTION_MAP_B_OFFSET\t(0x3A400 + 0x310)\n#define AE2FUNCTION_MAP_REG_SIZE\t4\n#define AE2FUNCTION_MAP_VALID\t\tBIT(7)\n\n#define READ_CSR_AE2FUNCTION_MAP_A(pmisc_bar_addr, index) \\\n\tADF_CSR_RD(pmisc_bar_addr, AE2FUNCTION_MAP_A_OFFSET + \\\n\t\t   AE2FUNCTION_MAP_REG_SIZE * (index))\n#define WRITE_CSR_AE2FUNCTION_MAP_A(pmisc_bar_addr, index, value) \\\n\tADF_CSR_WR(pmisc_bar_addr, AE2FUNCTION_MAP_A_OFFSET + \\\n\t\t   AE2FUNCTION_MAP_REG_SIZE * (index), value)\n#define READ_CSR_AE2FUNCTION_MAP_B(pmisc_bar_addr, index) \\\n\tADF_CSR_RD(pmisc_bar_addr, AE2FUNCTION_MAP_B_OFFSET + \\\n\t\t   AE2FUNCTION_MAP_REG_SIZE * (index))\n#define WRITE_CSR_AE2FUNCTION_MAP_B(pmisc_bar_addr, index, value) \\\n\tADF_CSR_WR(pmisc_bar_addr, AE2FUNCTION_MAP_B_OFFSET + \\\n\t\t   AE2FUNCTION_MAP_REG_SIZE * (index), value)\n\n \n#define ADF_ADMINMSGUR_OFFSET\t(0x3A000 + 0x574)\n#define ADF_ADMINMSGLR_OFFSET\t(0x3A000 + 0x578)\n#define ADF_MAILBOX_BASE_OFFSET\t0x20970\n\n \n#define ADF_ARB_OFFSET\t\t\t0x30000\n#define ADF_ARB_WRK_2_SER_MAP_OFFSET\t0x180\n#define ADF_ARB_CONFIG\t\t\t(BIT(31) | BIT(6) | BIT(0))\n#define ADF_ARB_REG_SLOT\t\t0x1000\n#define ADF_ARB_RINGSRVARBEN_OFFSET\t0x19C\n\n#define WRITE_CSR_RING_SRV_ARB_EN(csr_addr, index, value) \\\n\tADF_CSR_WR(csr_addr, ADF_ARB_RINGSRVARBEN_OFFSET + \\\n\t(ADF_ARB_REG_SLOT * (index)), value)\n\n \n#define ADF_POWERGATE_DC\t\tBIT(23)\n#define ADF_POWERGATE_PKE\t\tBIT(24)\n\n \n#define ADF_GEN2_DEFAULT_RING_TO_SRV_MAP \\\n\t(CRYPTO << ADF_CFG_SERV_RING_PAIR_0_SHIFT | \\\n\t CRYPTO << ADF_CFG_SERV_RING_PAIR_1_SHIFT | \\\n\t UNUSED << ADF_CFG_SERV_RING_PAIR_2_SHIFT | \\\n\t   COMP << ADF_CFG_SERV_RING_PAIR_3_SHIFT)\n\n \n#define ADF_SSM_WDT_DEFAULT_VALUE\t0x200000\n#define ADF_SSM_WDT_PKE_DEFAULT_VALUE\t0x2000000\n#define ADF_SSMWDT_OFFSET\t\t0x54\n#define ADF_SSMWDTPKE_OFFSET\t\t0x58\n#define ADF_SSMWDT(i)\t\t(ADF_SSMWDT_OFFSET + ((i) * 0x4000))\n#define ADF_SSMWDTPKE(i)\t(ADF_SSMWDTPKE_OFFSET + ((i) * 0x4000))\n\n \n#define ADF_GEN2_AE_CTX_ENABLES(i)\t((i) * 0x1000 + 0x20818)\n#define ADF_GEN2_AE_MISC_CONTROL(i)\t((i) * 0x1000 + 0x20960)\n#define ADF_GEN2_ENABLE_AE_ECC_ERR\tBIT(28)\n#define ADF_GEN2_ENABLE_AE_ECC_PARITY_CORR\t(BIT(24) | BIT(12))\n#define ADF_GEN2_UERRSSMSH(i)\t\t((i) * 0x4000 + 0x18)\n#define ADF_GEN2_CERRSSMSH(i)\t\t((i) * 0x4000 + 0x10)\n#define ADF_GEN2_ERRSSMSH_EN\t\tBIT(3)\n\n \n#define ADF_NUM_HB_CNT_PER_AE ADF_NUM_THREADS_PER_AE\n\n \n#define ADF_GEN2_SMIAPF0_MASK_OFFSET    (0x3A000 + 0x28)\n#define ADF_GEN2_SMIAPF1_MASK_OFFSET    (0x3A000 + 0x30)\n#define ADF_GEN2_SMIA1_MASK             0x1\n\nu32 adf_gen2_get_num_accels(struct adf_hw_device_data *self);\nu32 adf_gen2_get_num_aes(struct adf_hw_device_data *self);\nvoid adf_gen2_enable_error_correction(struct adf_accel_dev *accel_dev);\nvoid adf_gen2_cfg_iov_thds(struct adf_accel_dev *accel_dev, bool enable,\n\t\t\t   int num_a_regs, int num_b_regs);\nvoid adf_gen2_init_hw_csr_ops(struct adf_hw_csr_ops *csr_ops);\nvoid adf_gen2_get_admin_info(struct admin_info *admin_csrs_info);\nvoid adf_gen2_get_arb_info(struct arb_info *arb_info);\nvoid adf_gen2_enable_ints(struct adf_accel_dev *accel_dev);\nu32 adf_gen2_get_accel_cap(struct adf_accel_dev *accel_dev);\nvoid adf_gen2_set_ssm_wdtimer(struct adf_accel_dev *accel_dev);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}