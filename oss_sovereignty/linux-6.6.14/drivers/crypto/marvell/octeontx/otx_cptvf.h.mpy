{
  "module_name": "otx_cptvf.h",
  "hash_id": "18ed1cf15455ac0237dc2a9f0a394efa83746a7af4f429bec3935fed819d446c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/crypto/marvell/octeontx/otx_cptvf.h",
  "human_readable_source": " \n\n#ifndef __OTX_CPTVF_H\n#define __OTX_CPTVF_H\n\n#include <linux/list.h>\n#include <linux/interrupt.h>\n#include <linux/device.h>\n#include \"otx_cpt_common.h\"\n#include \"otx_cptvf_reqmgr.h\"\n\n \n#define OTX_CPT_FLAG_DEVICE_READY  BIT(1)\n#define otx_cpt_device_ready(cpt)  ((cpt)->flags & OTX_CPT_FLAG_DEVICE_READY)\n \n#define OTX_CPT_CMD_QLEN\t(4*2046)\n#define OTX_CPT_CMD_QCHUNK_SIZE\t1023\n#define OTX_CPT_NUM_QS_PER_VF\t1\n\nstruct otx_cpt_cmd_chunk {\n\tu8 *head;\n\tdma_addr_t dma_addr;\n\tu32 size;  \n\tstruct list_head nextchunk;\n};\n\nstruct otx_cpt_cmd_queue {\n\tu32 idx;\t \n\tu32 num_chunks;\t \n\tstruct otx_cpt_cmd_chunk *qhead; \n\tstruct otx_cpt_cmd_chunk *base;\n\tstruct list_head chead;\n};\n\nstruct otx_cpt_cmd_qinfo {\n\tu32 qchunksize;  \n\tstruct otx_cpt_cmd_queue queue[OTX_CPT_NUM_QS_PER_VF];\n};\n\nstruct otx_cpt_pending_qinfo {\n\tu32 num_queues;\t \n\tstruct otx_cpt_pending_queue queue[OTX_CPT_NUM_QS_PER_VF];\n};\n\n#define for_each_pending_queue(qinfo, q, i)\t\\\n\t\tfor (i = 0, q = &qinfo->queue[i]; i < qinfo->num_queues; i++, \\\n\t\t     q = &qinfo->queue[i])\n\nstruct otx_cptvf_wqe {\n\tstruct tasklet_struct twork;\n\tstruct otx_cptvf *cptvf;\n};\n\nstruct otx_cptvf_wqe_info {\n\tstruct otx_cptvf_wqe vq_wqe[OTX_CPT_NUM_QS_PER_VF];\n};\n\nstruct otx_cptvf {\n\tu16 flags;\t \n\tu8 vfid;\t \n\tu8 num_vfs;\t \n\tu8 vftype;\t \n\tu8 vfgrp;\t \n\tu8 node;\t \n\tu8 priority;\t \n\tstruct pci_dev *pdev;\t \n\tvoid __iomem *reg_base;\t \n\tvoid *wqe_info;\t\t \n\t \n\tcpumask_var_t affinity_mask[OTX_CPT_VF_MSIX_VECTORS];\n\t \n\tu32 qsize;\n\tu32 num_queues;\n\tstruct otx_cpt_cmd_qinfo cqinfo;  \n\tstruct otx_cpt_pending_qinfo pqinfo;  \n\t \n\tbool pf_acked;\n\tbool pf_nacked;\n};\n\nint otx_cptvf_send_vf_up(struct otx_cptvf *cptvf);\nint otx_cptvf_send_vf_down(struct otx_cptvf *cptvf);\nint otx_cptvf_send_vf_to_grp_msg(struct otx_cptvf *cptvf, int group);\nint otx_cptvf_send_vf_priority_msg(struct otx_cptvf *cptvf);\nint otx_cptvf_send_vq_size_msg(struct otx_cptvf *cptvf);\nint otx_cptvf_check_pf_ready(struct otx_cptvf *cptvf);\nvoid otx_cptvf_handle_mbox_intr(struct otx_cptvf *cptvf);\nvoid otx_cptvf_write_vq_doorbell(struct otx_cptvf *cptvf, u32 val);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}