{
  "module_name": "otx_cptpf_ucode.h",
  "hash_id": "da7becdbb2ed0d33ac3434337f2d5057ddac73df1f1d15b1e1339043f28f2c01",
  "original_prompt": "Ingested from linux-6.6.14/drivers/crypto/marvell/octeontx/otx_cptpf_ucode.h",
  "human_readable_source": " \n\n#ifndef __OTX_CPTPF_UCODE_H\n#define __OTX_CPTPF_UCODE_H\n\n#include <linux/pci.h>\n#include <linux/types.h>\n#include <linux/module.h>\n#include \"otx_cpt_hw_types.h\"\n\n \n#define OTX_CPT_UCODE_NAME_LENGTH\t64\n \n#define OTX_CPT_MAX_ETYPES_PER_GRP\t1\n\n \n#define OTX_CPT_UCODE_TAR_FILE_NAME\t\"cpt8x-mc.tar\"\n\n \n#define OTX_CPT_UCODE_ALIGNMENT\t\t128\n\n \n#define OTX_CPT_UCODE_SIGN_LEN\t\t256\n\n \n#define OTX_CPT_UCODE_VER_STR_SZ\t44\n\n \n#define OTX_CPT_MAX_ENGINES\t\t64\n\n#define OTX_CPT_ENGS_BITMASK_LEN\t(OTX_CPT_MAX_ENGINES/(BITS_PER_BYTE * \\\n\t\t\t\t\t sizeof(unsigned long)))\n\n \nenum otx_cpt_ucode_type {\n\tOTX_CPT_AE_UC_TYPE =\t1,   \n\tOTX_CPT_SE_UC_TYPE1 =\t20,  \n\tOTX_CPT_SE_UC_TYPE2 =\t21,  \n\tOTX_CPT_SE_UC_TYPE3 =\t22,  \n};\n\nstruct otx_cpt_bitmap {\n\tunsigned long bits[OTX_CPT_ENGS_BITMASK_LEN];\n\tint size;\n};\n\nstruct otx_cpt_engines {\n\tint type;\n\tint count;\n};\n\n \nstruct otx_cpt_ucode_ver_num {\n\tu8 nn;\n\tu8 xx;\n\tu8 yy;\n\tu8 zz;\n};\n\nstruct otx_cpt_ucode_hdr {\n\tstruct otx_cpt_ucode_ver_num ver_num;\n\tu8 ver_str[OTX_CPT_UCODE_VER_STR_SZ];\n\t__be32 code_length;\n\tu32 padding[3];\n};\n\nstruct otx_cpt_ucode {\n\tu8 ver_str[OTX_CPT_UCODE_VER_STR_SZ]; \n\tstruct otx_cpt_ucode_ver_num ver_num; \n\tchar filename[OTX_CPT_UCODE_NAME_LENGTH];\t  \n\tdma_addr_t dma;\t\t \n\tdma_addr_t align_dma;\t \n\tvoid *va;\t\t \n\tvoid *align_va;\t\t \n\tu32 size;\t\t \n\tint type;\t\t \n};\n\nstruct tar_ucode_info_t {\n\tstruct list_head list;\n\tstruct otx_cpt_ucode ucode; \n\tconst u8 *ucode_ptr;\t \n};\n\n \nstruct otx_cpt_engs_available {\n\tint max_se_cnt;\n\tint max_ae_cnt;\n\tint se_cnt;\n\tint ae_cnt;\n};\n\n \nstruct otx_cpt_engs_rsvd {\n\tint type;\t \n\tint count;\t \n\tint offset;      \n\tunsigned long *bmap;\t\t \n\tstruct otx_cpt_ucode *ucode;\t \n};\n\nstruct otx_cpt_mirror_info {\n\tint is_ena;\t \n\tint idx;\t \n\tint ref_count;\t \n};\n\nstruct otx_cpt_eng_grp_info {\n\tstruct otx_cpt_eng_grps *g;  \n\tstruct device_attribute info_attr;  \n\t \n\tstruct otx_cpt_engs_rsvd engs[OTX_CPT_MAX_ETYPES_PER_GRP];\n\t \n\tstruct otx_cpt_ucode ucode[OTX_CPT_MAX_ETYPES_PER_GRP];\n\t \n\tchar sysfs_info_name[OTX_CPT_UCODE_NAME_LENGTH];\n\t \n\tstruct otx_cpt_mirror_info mirror;\n\tint idx;\t  \n\tbool is_enabled;  \n};\n\nstruct otx_cpt_eng_grps {\n\tstruct otx_cpt_eng_grp_info grp[OTX_CPT_MAX_ENGINE_GROUPS];\n\tstruct device_attribute ucode_load_attr; \n\tstruct otx_cpt_engs_available avail;\n\tstruct mutex lock;\n\tvoid *obj;\n\tint engs_num;\t\t\t \n\tint eng_types_supported;\t \n\tu8 eng_ref_cnt[OTX_CPT_MAX_ENGINES]; \n\tbool is_ucode_load_created;\t \n\tbool is_first_try;  \n\tbool is_rdonly;\t \n};\n\nint otx_cpt_init_eng_grps(struct pci_dev *pdev,\n\t\t\t  struct otx_cpt_eng_grps *eng_grps, int pf_type);\nvoid otx_cpt_cleanup_eng_grps(struct pci_dev *pdev,\n\t\t\t      struct otx_cpt_eng_grps *eng_grps);\nint otx_cpt_try_create_default_eng_grps(struct pci_dev *pdev,\n\t\t\t\t\tstruct otx_cpt_eng_grps *eng_grps,\n\t\t\t\t\tint pf_type);\nvoid otx_cpt_set_eng_grps_is_rdonly(struct otx_cpt_eng_grps *eng_grps,\n\t\t\t\t    bool is_rdonly);\nint otx_cpt_uc_supports_eng_type(struct otx_cpt_ucode *ucode, int eng_type);\nint otx_cpt_eng_grp_has_eng_type(struct otx_cpt_eng_grp_info *eng_grp,\n\t\t\t\t int eng_type);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}