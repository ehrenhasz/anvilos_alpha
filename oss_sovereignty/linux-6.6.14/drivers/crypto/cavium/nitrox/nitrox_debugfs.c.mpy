{
  "module_name": "nitrox_debugfs.c",
  "hash_id": "a01ae9941d257c99b6a1d57d924326ddd514ea70bb6bddf78520b36f930c34d3",
  "original_prompt": "Ingested from linux-6.6.14/drivers/crypto/cavium/nitrox/nitrox_debugfs.c",
  "human_readable_source": "\n#include <linux/seq_file.h>\n#include <linux/debugfs.h>\n\n#include \"nitrox_csr.h\"\n#include \"nitrox_debugfs.h\"\n#include \"nitrox_dev.h\"\n\nstatic int firmware_show(struct seq_file *s, void *v)\n{\n\tstruct nitrox_device *ndev = s->private;\n\n\tseq_printf(s, \"Version: %s\\n\", ndev->hw.fw_name[0]);\n\tseq_printf(s, \"Version: %s\\n\", ndev->hw.fw_name[1]);\n\treturn 0;\n}\n\nDEFINE_SHOW_ATTRIBUTE(firmware);\n\nstatic int device_show(struct seq_file *s, void *v)\n{\n\tstruct nitrox_device *ndev = s->private;\n\n\tseq_printf(s, \"NITROX [%d]\\n\", ndev->idx);\n\tseq_printf(s, \"  Part Name: %s\\n\", ndev->hw.partname);\n\tseq_printf(s, \"  Frequency: %d MHz\\n\", ndev->hw.freq);\n\tseq_printf(s, \"  Device ID: 0x%0x\\n\", ndev->hw.device_id);\n\tseq_printf(s, \"  Revision ID: 0x%0x\\n\", ndev->hw.revision_id);\n\tseq_printf(s, \"  Cores: [AE=%u  SE=%u  ZIP=%u]\\n\",\n\t\t   ndev->hw.ae_cores, ndev->hw.se_cores, ndev->hw.zip_cores);\n\n\treturn 0;\n}\n\nDEFINE_SHOW_ATTRIBUTE(device);\n\nstatic int stats_show(struct seq_file *s, void *v)\n{\n\tstruct nitrox_device *ndev = s->private;\n\n\tseq_printf(s, \"NITROX [%d] Request Statistics\\n\", ndev->idx);\n\tseq_printf(s, \"  Posted: %llu\\n\",\n\t\t   (u64)atomic64_read(&ndev->stats.posted));\n\tseq_printf(s, \"  Completed: %llu\\n\",\n\t\t   (u64)atomic64_read(&ndev->stats.completed));\n\tseq_printf(s, \"  Dropped: %llu\\n\",\n\t\t   (u64)atomic64_read(&ndev->stats.dropped));\n\n\treturn 0;\n}\n\nDEFINE_SHOW_ATTRIBUTE(stats);\n\nvoid nitrox_debugfs_exit(struct nitrox_device *ndev)\n{\n\tdebugfs_remove_recursive(ndev->debugfs_dir);\n\tndev->debugfs_dir = NULL;\n}\n\nvoid nitrox_debugfs_init(struct nitrox_device *ndev)\n{\n\tstruct dentry *dir;\n\n\tdir = debugfs_create_dir(KBUILD_MODNAME, NULL);\n\n\tndev->debugfs_dir = dir;\n\tdebugfs_create_file(\"firmware\", 0400, dir, ndev, &firmware_fops);\n\tdebugfs_create_file(\"device\", 0400, dir, ndev, &device_fops);\n\tdebugfs_create_file(\"stats\", 0400, dir, ndev, &stats_fops);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}