{
  "module_name": "sg_sw_qm.h",
  "hash_id": "f94572caccdd90a4f85cea767e20d13fa797b55a1c2b78801b6130a495f17b46",
  "original_prompt": "Ingested from linux-6.6.14/drivers/crypto/caam/sg_sw_qm.h",
  "human_readable_source": " \n \n\n#ifndef __SG_SW_QM_H\n#define __SG_SW_QM_H\n\n#include <soc/fsl/qman.h>\n#include \"regs.h\"\n\nstatic inline void __dma_to_qm_sg(struct qm_sg_entry *qm_sg_ptr, dma_addr_t dma,\n\t\t\t\t  u16 offset)\n{\n\tqm_sg_entry_set64(qm_sg_ptr, dma);\n\tqm_sg_ptr->__reserved2 = 0;\n\tqm_sg_ptr->bpid = 0;\n\tqm_sg_ptr->offset = cpu_to_be16(offset & QM_SG_OFF_MASK);\n}\n\nstatic inline void dma_to_qm_sg_one(struct qm_sg_entry *qm_sg_ptr,\n\t\t\t\t    dma_addr_t dma, u32 len, u16 offset)\n{\n\t__dma_to_qm_sg(qm_sg_ptr, dma, offset);\n\tqm_sg_entry_set_len(qm_sg_ptr, len);\n}\n\nstatic inline void dma_to_qm_sg_one_last(struct qm_sg_entry *qm_sg_ptr,\n\t\t\t\t\t dma_addr_t dma, u32 len, u16 offset)\n{\n\t__dma_to_qm_sg(qm_sg_ptr, dma, offset);\n\tqm_sg_entry_set_f(qm_sg_ptr, len);\n}\n\nstatic inline void dma_to_qm_sg_one_ext(struct qm_sg_entry *qm_sg_ptr,\n\t\t\t\t\tdma_addr_t dma, u32 len, u16 offset)\n{\n\t__dma_to_qm_sg(qm_sg_ptr, dma, offset);\n\tqm_sg_ptr->cfg = cpu_to_be32(QM_SG_EXT | (len & QM_SG_LEN_MASK));\n}\n\nstatic inline void dma_to_qm_sg_one_last_ext(struct qm_sg_entry *qm_sg_ptr,\n\t\t\t\t\t     dma_addr_t dma, u32 len,\n\t\t\t\t\t     u16 offset)\n{\n\t__dma_to_qm_sg(qm_sg_ptr, dma, offset);\n\tqm_sg_ptr->cfg = cpu_to_be32(QM_SG_EXT | QM_SG_FIN |\n\t\t\t\t     (len & QM_SG_LEN_MASK));\n}\n\n \nstatic inline struct qm_sg_entry *\nsg_to_qm_sg(struct scatterlist *sg, int len,\n\t    struct qm_sg_entry *qm_sg_ptr, u16 offset)\n{\n\tint ent_len;\n\n\twhile (len) {\n\t\tent_len = min_t(int, sg_dma_len(sg), len);\n\n\t\tdma_to_qm_sg_one(qm_sg_ptr, sg_dma_address(sg), ent_len,\n\t\t\t\t offset);\n\t\tqm_sg_ptr++;\n\t\tsg = sg_next(sg);\n\t\tlen -= ent_len;\n\t}\n\treturn qm_sg_ptr - 1;\n}\n\n \nstatic inline void sg_to_qm_sg_last(struct scatterlist *sg, int len,\n\t\t\t\t    struct qm_sg_entry *qm_sg_ptr, u16 offset)\n{\n\tqm_sg_ptr = sg_to_qm_sg(sg, len, qm_sg_ptr, offset);\n\tqm_sg_entry_set_f(qm_sg_ptr, qm_sg_entry_get_len(qm_sg_ptr));\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}