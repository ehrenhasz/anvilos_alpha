{
  "module_name": "ad525x_dpot-i2c.c",
  "hash_id": "489ed099fb7603f612058eac7eaf34437f265f44362597f99e25ee46d293406c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/misc/ad525x_dpot-i2c.c",
  "human_readable_source": "\n \n\n#include <linux/i2c.h>\n#include <linux/module.h>\n\n#include \"ad525x_dpot.h\"\n\n \nstatic int write_d8(void *client, u8 val)\n{\n\treturn i2c_smbus_write_byte(client, val);\n}\n\nstatic int write_r8d8(void *client, u8 reg, u8 val)\n{\n\treturn i2c_smbus_write_byte_data(client, reg, val);\n}\n\nstatic int write_r8d16(void *client, u8 reg, u16 val)\n{\n\treturn i2c_smbus_write_word_data(client, reg, val);\n}\n\nstatic int read_d8(void *client)\n{\n\treturn i2c_smbus_read_byte(client);\n}\n\nstatic int read_r8d8(void *client, u8 reg)\n{\n\treturn i2c_smbus_read_byte_data(client, reg);\n}\n\nstatic int read_r8d16(void *client, u8 reg)\n{\n\treturn i2c_smbus_read_word_data(client, reg);\n}\n\nstatic const struct ad_dpot_bus_ops bops = {\n\t.read_d8\t= read_d8,\n\t.read_r8d8\t= read_r8d8,\n\t.read_r8d16\t= read_r8d16,\n\t.write_d8\t= write_d8,\n\t.write_r8d8\t= write_r8d8,\n\t.write_r8d16\t= write_r8d16,\n};\n\nstatic int ad_dpot_i2c_probe(struct i2c_client *client)\n{\n\tconst struct i2c_device_id *id = i2c_client_get_device_id(client);\n\tstruct ad_dpot_bus_data bdata = {\n\t\t.client = client,\n\t\t.bops = &bops,\n\t};\n\n\tif (!i2c_check_functionality(client->adapter,\n\t\t\t\t     I2C_FUNC_SMBUS_WORD_DATA)) {\n\t\tdev_err(&client->dev, \"SMBUS Word Data not Supported\\n\");\n\t\treturn -EIO;\n\t}\n\n\treturn ad_dpot_probe(&client->dev, &bdata, id->driver_data, id->name);\n}\n\nstatic void ad_dpot_i2c_remove(struct i2c_client *client)\n{\n\tad_dpot_remove(&client->dev);\n}\n\nstatic const struct i2c_device_id ad_dpot_id[] = {\n\t{\"ad5258\", AD5258_ID},\n\t{\"ad5259\", AD5259_ID},\n\t{\"ad5251\", AD5251_ID},\n\t{\"ad5252\", AD5252_ID},\n\t{\"ad5253\", AD5253_ID},\n\t{\"ad5254\", AD5254_ID},\n\t{\"ad5255\", AD5255_ID},\n\t{\"ad5241\", AD5241_ID},\n\t{\"ad5242\", AD5242_ID},\n\t{\"ad5243\", AD5243_ID},\n\t{\"ad5245\", AD5245_ID},\n\t{\"ad5246\", AD5246_ID},\n\t{\"ad5247\", AD5247_ID},\n\t{\"ad5248\", AD5248_ID},\n\t{\"ad5280\", AD5280_ID},\n\t{\"ad5282\", AD5282_ID},\n\t{\"adn2860\", ADN2860_ID},\n\t{\"ad5273\", AD5273_ID},\n\t{\"ad5161\", AD5161_ID},\n\t{\"ad5171\", AD5171_ID},\n\t{\"ad5170\", AD5170_ID},\n\t{\"ad5172\", AD5172_ID},\n\t{\"ad5173\", AD5173_ID},\n\t{\"ad5272\", AD5272_ID},\n\t{\"ad5274\", AD5274_ID},\n\t{}\n};\nMODULE_DEVICE_TABLE(i2c, ad_dpot_id);\n\nstatic struct i2c_driver ad_dpot_i2c_driver = {\n\t.driver = {\n\t\t.name\t= \"ad_dpot\",\n\t},\n\t.probe\t\t= ad_dpot_i2c_probe,\n\t.remove\t\t= ad_dpot_i2c_remove,\n\t.id_table\t= ad_dpot_id,\n};\n\nmodule_i2c_driver(ad_dpot_i2c_driver);\n\nMODULE_AUTHOR(\"Michael Hennerich <michael.hennerich@analog.com>\");\nMODULE_DESCRIPTION(\"digital potentiometer I2C bus driver\");\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}