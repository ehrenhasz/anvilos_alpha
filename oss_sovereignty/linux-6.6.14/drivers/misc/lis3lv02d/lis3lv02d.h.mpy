{
  "module_name": "lis3lv02d.h",
  "hash_id": "66d74ca00f67ac56af1fb7ad8426dac750f6a440ebb673966b44d793d2e57d02",
  "original_prompt": "Ingested from linux-6.6.14/drivers/misc/lis3lv02d/lis3lv02d.h",
  "human_readable_source": " \n \n#include <linux/platform_device.h>\n#include <linux/input.h>\n#include <linux/regulator/consumer.h>\n#include <linux/miscdevice.h>\n\n \n\n#include <linux/lis3lv02d.h>\n\nenum lis3_reg {\n\tWHO_AM_I\t= 0x0F,\n\tOFFSET_X\t= 0x16,\n\tOFFSET_Y\t= 0x17,\n\tOFFSET_Z\t= 0x18,\n\tGAIN_X\t\t= 0x19,\n\tGAIN_Y\t\t= 0x1A,\n\tGAIN_Z\t\t= 0x1B,\n\tCTRL_REG1\t= 0x20,\n\tCTRL_REG2\t= 0x21,\n\tCTRL_REG3\t= 0x22,\n\tCTRL_REG4\t= 0x23,\n\tHP_FILTER_RESET\t= 0x23,\n\tSTATUS_REG\t= 0x27,\n\tOUTX_L\t\t= 0x28,\n\tOUTX_H\t\t= 0x29,\n\tOUTX\t\t= 0x29,\n\tOUTY_L\t\t= 0x2A,\n\tOUTY_H\t\t= 0x2B,\n\tOUTY\t\t= 0x2B,\n\tOUTZ_L\t\t= 0x2C,\n\tOUTZ_H\t\t= 0x2D,\n\tOUTZ\t\t= 0x2D,\n};\n\nenum lis302d_reg {\n\tFF_WU_CFG_1\t= 0x30,\n\tFF_WU_SRC_1\t= 0x31,\n\tFF_WU_THS_1\t= 0x32,\n\tFF_WU_DURATION_1 = 0x33,\n\tFF_WU_CFG_2\t= 0x34,\n\tFF_WU_SRC_2\t= 0x35,\n\tFF_WU_THS_2\t= 0x36,\n\tFF_WU_DURATION_2 = 0x37,\n\tCLICK_CFG\t= 0x38,\n\tCLICK_SRC\t= 0x39,\n\tCLICK_THSY_X\t= 0x3B,\n\tCLICK_THSZ\t= 0x3C,\n\tCLICK_TIMELIMIT\t= 0x3D,\n\tCLICK_LATENCY\t= 0x3E,\n\tCLICK_WINDOW\t= 0x3F,\n};\n\nenum lis3lv02d_reg {\n\tFF_WU_CFG\t= 0x30,\n\tFF_WU_SRC\t= 0x31,\n\tFF_WU_ACK\t= 0x32,\n\tFF_WU_THS_L\t= 0x34,\n\tFF_WU_THS_H\t= 0x35,\n\tFF_WU_DURATION\t= 0x36,\n\tDD_CFG\t\t= 0x38,\n\tDD_SRC\t\t= 0x39,\n\tDD_ACK\t\t= 0x3A,\n\tDD_THSI_L\t= 0x3C,\n\tDD_THSI_H\t= 0x3D,\n\tDD_THSE_L\t= 0x3E,\n\tDD_THSE_H\t= 0x3F,\n};\n\nenum lis3_who_am_i {\n\tWAI_3DLH\t= 0x32,\t \n\tWAI_3DC\t\t= 0x33,\t \n\tWAI_12B\t\t= 0x3A,  \n\tWAI_8B\t\t= 0x3B,  \n\tWAI_6B\t\t= 0x52,  \n};\n\nenum lis3_type {\n\tLIS3LV02D,\n\tLIS3DC,\n\tHP3DC,\n\tLIS2302D,\n\tLIS331DLF,\n\tLIS331DLH,\n};\n\nenum lis3lv02d_ctrl1_12b {\n\tCTRL1_Xen\t= 0x01,\n\tCTRL1_Yen\t= 0x02,\n\tCTRL1_Zen\t= 0x04,\n\tCTRL1_ST\t= 0x08,\n\tCTRL1_DF0\t= 0x10,\n\tCTRL1_DF1\t= 0x20,\n\tCTRL1_PD0\t= 0x40,\n\tCTRL1_PD1\t= 0x80,\n};\n\n \nenum lis3lv02d_ctrl1_8b {\n\tCTRL1_STM\t= 0x08,\n\tCTRL1_STP\t= 0x10,\n\tCTRL1_FS\t= 0x20,\n\tCTRL1_PD\t= 0x40,\n\tCTRL1_DR\t= 0x80,\n};\n\nenum lis3lv02d_ctrl1_3dc {\n\tCTRL1_ODR0\t= 0x10,\n\tCTRL1_ODR1\t= 0x20,\n\tCTRL1_ODR2\t= 0x40,\n\tCTRL1_ODR3\t= 0x80,\n};\n\nenum lis331dlh_ctrl1 {\n\tCTRL1_DR0\t= 0x08,\n\tCTRL1_DR1\t= 0x10,\n\tCTRL1_PM0\t= 0x20,\n\tCTRL1_PM1\t= 0x40,\n\tCTRL1_PM2\t= 0x80,\n};\n\nenum lis331dlh_ctrl2 {\n\tCTRL2_HPEN1\t= 0x04,\n\tCTRL2_HPEN2\t= 0x08,\n\tCTRL2_FDS_3DLH\t= 0x10,\n\tCTRL2_BOOT_3DLH\t= 0x80,\n};\n\nenum lis331dlh_ctrl4 {\n\tCTRL4_STSIGN\t= 0x08,\n\tCTRL4_BLE\t= 0x40,\n\tCTRL4_BDU\t= 0x80,\n};\n\nenum lis3lv02d_ctrl2 {\n\tCTRL2_DAS\t= 0x01,\n\tCTRL2_SIM\t= 0x02,\n\tCTRL2_DRDY\t= 0x04,\n\tCTRL2_IEN\t= 0x08,\n\tCTRL2_BOOT\t= 0x10,\n\tCTRL2_BLE\t= 0x20,\n\tCTRL2_BDU\t= 0x40,  \n\tCTRL2_FS\t= 0x80,  \n};\n\nenum lis3lv02d_ctrl4_3dc {\n\tCTRL4_SIM\t= 0x01,\n\tCTRL4_ST0\t= 0x02,\n\tCTRL4_ST1\t= 0x04,\n\tCTRL4_FS0\t= 0x10,\n\tCTRL4_FS1\t= 0x20,\n};\n\nenum lis302d_ctrl2 {\n\tHP_FF_WU2\t= 0x08,\n\tHP_FF_WU1\t= 0x04,\n\tCTRL2_BOOT_8B   = 0x40,\n};\n\nenum lis3lv02d_ctrl3 {\n\tCTRL3_CFS0\t= 0x01,\n\tCTRL3_CFS1\t= 0x02,\n\tCTRL3_FDS\t= 0x10,\n\tCTRL3_HPFF\t= 0x20,\n\tCTRL3_HPDD\t= 0x40,\n\tCTRL3_ECK\t= 0x80,\n};\n\nenum lis3lv02d_status_reg {\n\tSTATUS_XDA\t= 0x01,\n\tSTATUS_YDA\t= 0x02,\n\tSTATUS_ZDA\t= 0x04,\n\tSTATUS_XYZDA\t= 0x08,\n\tSTATUS_XOR\t= 0x10,\n\tSTATUS_YOR\t= 0x20,\n\tSTATUS_ZOR\t= 0x40,\n\tSTATUS_XYZOR\t= 0x80,\n};\n\nenum lis3lv02d_ff_wu_cfg {\n\tFF_WU_CFG_XLIE\t= 0x01,\n\tFF_WU_CFG_XHIE\t= 0x02,\n\tFF_WU_CFG_YLIE\t= 0x04,\n\tFF_WU_CFG_YHIE\t= 0x08,\n\tFF_WU_CFG_ZLIE\t= 0x10,\n\tFF_WU_CFG_ZHIE\t= 0x20,\n\tFF_WU_CFG_LIR\t= 0x40,\n\tFF_WU_CFG_AOI\t= 0x80,\n};\n\nenum lis3lv02d_ff_wu_src {\n\tFF_WU_SRC_XL\t= 0x01,\n\tFF_WU_SRC_XH\t= 0x02,\n\tFF_WU_SRC_YL\t= 0x04,\n\tFF_WU_SRC_YH\t= 0x08,\n\tFF_WU_SRC_ZL\t= 0x10,\n\tFF_WU_SRC_ZH\t= 0x20,\n\tFF_WU_SRC_IA\t= 0x40,\n};\n\nenum lis3lv02d_dd_cfg {\n\tDD_CFG_XLIE\t= 0x01,\n\tDD_CFG_XHIE\t= 0x02,\n\tDD_CFG_YLIE\t= 0x04,\n\tDD_CFG_YHIE\t= 0x08,\n\tDD_CFG_ZLIE\t= 0x10,\n\tDD_CFG_ZHIE\t= 0x20,\n\tDD_CFG_LIR\t= 0x40,\n\tDD_CFG_IEND\t= 0x80,\n};\n\nenum lis3lv02d_dd_src {\n\tDD_SRC_XL\t= 0x01,\n\tDD_SRC_XH\t= 0x02,\n\tDD_SRC_YL\t= 0x04,\n\tDD_SRC_YH\t= 0x08,\n\tDD_SRC_ZL\t= 0x10,\n\tDD_SRC_ZH\t= 0x20,\n\tDD_SRC_IA\t= 0x40,\n};\n\nenum lis3lv02d_click_src_8b {\n\tCLICK_SINGLE_X\t= 0x01,\n\tCLICK_DOUBLE_X\t= 0x02,\n\tCLICK_SINGLE_Y\t= 0x04,\n\tCLICK_DOUBLE_Y\t= 0x08,\n\tCLICK_SINGLE_Z\t= 0x10,\n\tCLICK_DOUBLE_Z\t= 0x20,\n\tCLICK_IA\t= 0x40,\n};\n\nenum lis3lv02d_reg_state {\n\tLIS3_REG_OFF\t= 0x00,\n\tLIS3_REG_ON\t= 0x01,\n};\n\nunion axis_conversion {\n\tstruct {\n\t\tint x, y, z;\n\t};\n\tint as_array[3];\n\n};\n\nstruct lis3lv02d {\n\tvoid\t\t\t*bus_priv;  \n\tstruct device\t\t*pm_dev;  \n\tint (*init) (struct lis3lv02d *lis3);\n\tint (*write) (struct lis3lv02d *lis3, int reg, u8 val);\n\tint (*read) (struct lis3lv02d *lis3, int reg, u8 *ret);\n\tint (*blkread) (struct lis3lv02d *lis3, int reg, int len, u8 *ret);\n\tint (*reg_ctrl) (struct lis3lv02d *lis3, bool state);\n\n\tint                     *odrs;      \n\tu8\t\t\t*regs;\t    \n\tint\t\t\tregs_size;\n\tu8                      *reg_cache;\n\tbool\t\t\tregs_stored;\n\tu8                      odr_mask;   \n\tu8\t\t\twhoami;     \n\ts16 (*read_data) (struct lis3lv02d *lis3, int reg);\n\tint\t\t\tmdps_max_val;\n\tint\t\t\tpwron_delay;\n\tint                     scale;  \n\n\tstruct input_dev\t*idev;      \n\tstruct platform_device\t*pdev;      \n\tstruct regulator_bulk_data regulators[2];\n\tatomic_t\t\tcount;      \n\tunion axis_conversion\tac;         \n\tint\t\t\tmapped_btns[3];\n\n\tu32\t\t\tirq;        \n\tstruct fasync_struct\t*async_queue;  \n\twait_queue_head_t\tmisc_wait;  \n\tunsigned long\t\tmisc_opened;  \n\tstruct miscdevice\tmiscdev;\n\n\tint                     data_ready_count[2];\n\tatomic_t\t\twake_thread;\n\tunsigned char           irq_cfg;\n\tunsigned int\t\tshift_adj;\n\n\tstruct lis3lv02d_platform_data *pdata;\t \n\tstruct mutex\t\tmutex;      \n\n#ifdef CONFIG_OF\n\tstruct device_node\t*of_node;\n#endif\n};\n\nint lis3lv02d_init_device(struct lis3lv02d *lis3);\nint lis3lv02d_joystick_enable(struct lis3lv02d *lis3);\nvoid lis3lv02d_joystick_disable(struct lis3lv02d *lis3);\nvoid lis3lv02d_poweroff(struct lis3lv02d *lis3);\nint lis3lv02d_poweron(struct lis3lv02d *lis3);\nvoid lis3lv02d_remove_fs(struct lis3lv02d *lis3);\nint lis3lv02d_init_dt(struct lis3lv02d *lis3);\n\nextern struct lis3lv02d lis3_dev;\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}