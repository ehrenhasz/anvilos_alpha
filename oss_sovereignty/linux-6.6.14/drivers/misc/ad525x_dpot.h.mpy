{
  "module_name": "ad525x_dpot.h",
  "hash_id": "0eddd504ee65f8e8f0796a503991a8762e179835a578b72c56babb5901d26050",
  "original_prompt": "Ingested from linux-6.6.14/drivers/misc/ad525x_dpot.h",
  "human_readable_source": " \n \n\n#ifndef _AD_DPOT_H_\n#define _AD_DPOT_H_\n\n#include <linux/types.h>\n\n#define DPOT_CONF(features, wipers, max_pos, uid) \\\n\t\t(((features) << 18) | (((wipers) & 0xFF) << 10) | \\\n\t\t((max_pos & 0xF) << 6) | (uid & 0x3F))\n\n#define DPOT_UID(conf)\t\t(conf & 0x3F)\n#define DPOT_MAX_POS(conf)\t((conf >> 6) & 0xF)\n#define DPOT_WIPERS(conf)\t((conf >> 10) & 0xFF)\n#define DPOT_FEAT(conf)\t\t(conf >> 18)\n\n#define BRDAC0\t\t\t(1 << 0)\n#define BRDAC1\t\t\t(1 << 1)\n#define BRDAC2\t\t\t(1 << 2)\n#define BRDAC3\t\t\t(1 << 3)\n#define BRDAC4\t\t\t(1 << 4)\n#define BRDAC5\t\t\t(1 << 5)\n#define MAX_RDACS\t\t6\n\n#define F_CMD_INC\t\t(1 << 0)\t \n#define F_CMD_EEP\t\t(1 << 1)\t \n#define F_CMD_OTP\t\t(1 << 2)\t \n#define F_CMD_TOL\t\t(1 << 3)\t \n#define F_RDACS_RW\t\t(1 << 4)\t \n#define F_RDACS_WONLY\t\t(1 << 5)\t \n#define F_AD_APPDATA\t\t(1 << 6)\t \n#define F_SPI_8BIT\t\t(1 << 7)\t \n#define F_SPI_16BIT\t\t(1 << 8)\t \n#define F_SPI_24BIT\t\t(1 << 9)\t \n\n#define F_RDACS_RW_TOL\t(F_RDACS_RW | F_CMD_EEP | F_CMD_TOL)\n#define F_RDACS_RW_EEP\t(F_RDACS_RW | F_CMD_EEP)\n#define F_SPI\t\t(F_SPI_8BIT | F_SPI_16BIT | F_SPI_24BIT)\n\nenum dpot_devid {\n\tAD5258_ID = DPOT_CONF(F_RDACS_RW_TOL, BRDAC0, 6, 0),  \n\tAD5259_ID = DPOT_CONF(F_RDACS_RW_TOL, BRDAC0, 8, 1),\n\tAD5251_ID = DPOT_CONF(F_RDACS_RW_TOL | F_CMD_INC,\n\t\t\tBRDAC1 | BRDAC3, 6, 2),\n\tAD5252_ID = DPOT_CONF(F_RDACS_RW_TOL | F_CMD_INC,\n\t\t\tBRDAC1 | BRDAC3, 8, 3),\n\tAD5253_ID = DPOT_CONF(F_RDACS_RW_TOL | F_CMD_INC,\n\t\t\tBRDAC0 | BRDAC1 | BRDAC2 | BRDAC3, 6, 4),\n\tAD5254_ID = DPOT_CONF(F_RDACS_RW_TOL | F_CMD_INC,\n\t\t\tBRDAC0 | BRDAC1 | BRDAC2 | BRDAC3, 8, 5),\n\tAD5255_ID = DPOT_CONF(F_RDACS_RW_TOL | F_CMD_INC,\n\t\t\tBRDAC0 | BRDAC1 | BRDAC2, 9, 6),\n\tAD5160_ID = DPOT_CONF(F_RDACS_WONLY | F_AD_APPDATA | F_SPI_8BIT,\n\t\t\tBRDAC0, 8, 7),  \n\tAD5161_ID = DPOT_CONF(F_RDACS_WONLY | F_AD_APPDATA | F_SPI_8BIT,\n\t\t\tBRDAC0, 8, 8),\n\tAD5162_ID = DPOT_CONF(F_RDACS_WONLY | F_AD_APPDATA | F_SPI_16BIT,\n\t\t\tBRDAC0 | BRDAC1, 8, 9),\n\tAD5165_ID = DPOT_CONF(F_RDACS_WONLY | F_AD_APPDATA | F_SPI_8BIT,\n\t\t\tBRDAC0, 8, 10),\n\tAD5200_ID = DPOT_CONF(F_RDACS_WONLY | F_AD_APPDATA | F_SPI_8BIT,\n\t\t\tBRDAC0, 8, 11),\n\tAD5201_ID = DPOT_CONF(F_RDACS_WONLY | F_AD_APPDATA | F_SPI_8BIT,\n\t\t\tBRDAC0, 5, 12),\n\tAD5203_ID = DPOT_CONF(F_RDACS_WONLY | F_AD_APPDATA | F_SPI_8BIT,\n\t\t\tBRDAC0 | BRDAC1 | BRDAC2 | BRDAC3, 6, 13),\n\tAD5204_ID = DPOT_CONF(F_RDACS_WONLY | F_AD_APPDATA | F_SPI_16BIT,\n\t\t\tBRDAC0 | BRDAC1 | BRDAC2 | BRDAC3, 8, 14),\n\tAD5206_ID = DPOT_CONF(F_RDACS_WONLY | F_AD_APPDATA | F_SPI_16BIT,\n\t\t\tBRDAC0 | BRDAC1 | BRDAC2 | BRDAC3 | BRDAC4 | BRDAC5,\n\t\t\t8, 15),\n\tAD5207_ID = DPOT_CONF(F_RDACS_WONLY | F_AD_APPDATA | F_SPI_16BIT,\n\t\t\tBRDAC0 | BRDAC1, 8, 16),\n\tAD5231_ID = DPOT_CONF(F_RDACS_RW_EEP | F_CMD_INC | F_SPI_24BIT,\n\t\t\tBRDAC0, 10, 17),\n\tAD5232_ID = DPOT_CONF(F_RDACS_RW_EEP | F_CMD_INC | F_SPI_16BIT,\n\t\t\tBRDAC0 | BRDAC1, 8, 18),\n\tAD5233_ID = DPOT_CONF(F_RDACS_RW_EEP | F_CMD_INC | F_SPI_16BIT,\n\t\t\tBRDAC0 | BRDAC1 | BRDAC2 | BRDAC3, 6, 19),\n\tAD5235_ID = DPOT_CONF(F_RDACS_RW_EEP | F_CMD_INC | F_SPI_24BIT,\n\t\t\tBRDAC0 | BRDAC1, 10, 20),\n\tAD5260_ID = DPOT_CONF(F_RDACS_WONLY | F_AD_APPDATA | F_SPI_8BIT,\n\t\t\tBRDAC0, 8, 21),\n\tAD5262_ID = DPOT_CONF(F_RDACS_WONLY | F_AD_APPDATA | F_SPI_16BIT,\n\t\t\tBRDAC0 | BRDAC1, 8, 22),\n\tAD5263_ID = DPOT_CONF(F_RDACS_WONLY | F_AD_APPDATA | F_SPI_16BIT,\n\t\t\tBRDAC0 | BRDAC1 | BRDAC2 | BRDAC3, 8, 23),\n\tAD5290_ID = DPOT_CONF(F_RDACS_WONLY | F_AD_APPDATA | F_SPI_8BIT,\n\t\t\tBRDAC0, 8, 24),\n\tAD5291_ID = DPOT_CONF(F_RDACS_RW | F_SPI_16BIT | F_CMD_OTP,\n\t\t\tBRDAC0, 8, 25),\n\tAD5292_ID = DPOT_CONF(F_RDACS_RW | F_SPI_16BIT | F_CMD_OTP,\n\t\t\tBRDAC0, 10, 26),\n\tAD5293_ID = DPOT_CONF(F_RDACS_RW | F_SPI_16BIT, BRDAC0, 10, 27),\n\tAD7376_ID = DPOT_CONF(F_RDACS_WONLY | F_AD_APPDATA | F_SPI_8BIT,\n\t\t\tBRDAC0, 7, 28),\n\tAD8400_ID = DPOT_CONF(F_RDACS_WONLY | F_AD_APPDATA | F_SPI_16BIT,\n\t\t\tBRDAC0, 8, 29),\n\tAD8402_ID = DPOT_CONF(F_RDACS_WONLY | F_AD_APPDATA | F_SPI_16BIT,\n\t\t\tBRDAC0 | BRDAC1, 8, 30),\n\tAD8403_ID = DPOT_CONF(F_RDACS_WONLY | F_AD_APPDATA | F_SPI_16BIT,\n\t\t\tBRDAC0 | BRDAC1 | BRDAC2, 8, 31),\n\tADN2850_ID = DPOT_CONF(F_RDACS_RW_EEP | F_CMD_INC | F_SPI_24BIT,\n\t\t\tBRDAC0 | BRDAC1, 10, 32),\n\tAD5241_ID = DPOT_CONF(F_RDACS_RW, BRDAC0, 8, 33),\n\tAD5242_ID = DPOT_CONF(F_RDACS_RW, BRDAC0 | BRDAC1, 8, 34),\n\tAD5243_ID = DPOT_CONF(F_RDACS_RW, BRDAC0 | BRDAC1, 8, 35),\n\tAD5245_ID = DPOT_CONF(F_RDACS_RW, BRDAC0, 8, 36),\n\tAD5246_ID = DPOT_CONF(F_RDACS_RW, BRDAC0, 7, 37),\n\tAD5247_ID = DPOT_CONF(F_RDACS_RW, BRDAC0, 7, 38),\n\tAD5248_ID = DPOT_CONF(F_RDACS_RW, BRDAC0 | BRDAC1, 8, 39),\n\tAD5280_ID = DPOT_CONF(F_RDACS_RW, BRDAC0, 8, 40),\n\tAD5282_ID = DPOT_CONF(F_RDACS_RW, BRDAC0 | BRDAC1, 8, 41),\n\tADN2860_ID = DPOT_CONF(F_RDACS_RW_TOL | F_CMD_INC,\n\t\t\tBRDAC0 | BRDAC1 | BRDAC2, 9, 42),\n\tAD5273_ID = DPOT_CONF(F_RDACS_RW | F_CMD_OTP, BRDAC0, 6, 43),\n\tAD5171_ID = DPOT_CONF(F_RDACS_RW | F_CMD_OTP, BRDAC0, 6, 44),\n\tAD5170_ID = DPOT_CONF(F_RDACS_RW | F_CMD_OTP, BRDAC0, 8, 45),\n\tAD5172_ID = DPOT_CONF(F_RDACS_RW | F_CMD_OTP, BRDAC0 | BRDAC1, 8, 46),\n\tAD5173_ID = DPOT_CONF(F_RDACS_RW | F_CMD_OTP, BRDAC0 | BRDAC1, 8, 47),\n\tAD5270_ID = DPOT_CONF(F_RDACS_RW | F_CMD_OTP | F_SPI_16BIT,\n\t\t\tBRDAC0, 10, 48),\n\tAD5271_ID = DPOT_CONF(F_RDACS_RW | F_CMD_OTP | F_SPI_16BIT,\n\t\t\tBRDAC0, 8, 49),\n\tAD5272_ID = DPOT_CONF(F_RDACS_RW | F_CMD_OTP, BRDAC0, 10, 50),\n\tAD5274_ID = DPOT_CONF(F_RDACS_RW | F_CMD_OTP, BRDAC0, 8, 51),\n};\n\n#define DPOT_RDAC0\t\t0\n#define DPOT_RDAC1\t\t1\n#define DPOT_RDAC2\t\t2\n#define DPOT_RDAC3\t\t3\n#define DPOT_RDAC4\t\t4\n#define DPOT_RDAC5\t\t5\n\n#define DPOT_RDAC_MASK\t\t0x1F\n\n#define DPOT_REG_TOL\t\t0x18\n#define DPOT_TOL_RDAC0\t\t(DPOT_REG_TOL | DPOT_RDAC0)\n#define DPOT_TOL_RDAC1\t\t(DPOT_REG_TOL | DPOT_RDAC1)\n#define DPOT_TOL_RDAC2\t\t(DPOT_REG_TOL | DPOT_RDAC2)\n#define DPOT_TOL_RDAC3\t\t(DPOT_REG_TOL | DPOT_RDAC3)\n#define DPOT_TOL_RDAC4\t\t(DPOT_REG_TOL | DPOT_RDAC4)\n#define DPOT_TOL_RDAC5\t\t(DPOT_REG_TOL | DPOT_RDAC5)\n\n \n#define DPOT_ADDR_RDAC\t\t(0x0 << 5)\n#define DPOT_ADDR_EEPROM\t(0x1 << 5)\n#define DPOT_ADDR_OTP\t\t(0x1 << 6)\n#define DPOT_ADDR_CMD\t\t(0x1 << 7)\n#define DPOT_ADDR_OTP_EN\t(0x1 << 9)\n\n#define DPOT_DEC_ALL_6DB\t(DPOT_ADDR_CMD | (0x4 << 3))\n#define DPOT_INC_ALL_6DB\t(DPOT_ADDR_CMD | (0x9 << 3))\n#define DPOT_DEC_ALL\t\t(DPOT_ADDR_CMD | (0x6 << 3))\n#define DPOT_INC_ALL\t\t(DPOT_ADDR_CMD | (0xB << 3))\n\n#define DPOT_SPI_RDAC\t\t0xB0\n#define DPOT_SPI_EEPROM\t\t0x30\n#define DPOT_SPI_READ_RDAC\t0xA0\n#define DPOT_SPI_READ_EEPROM\t0x90\n#define DPOT_SPI_DEC_ALL_6DB\t0x50\n#define DPOT_SPI_INC_ALL_6DB\t0xD0\n#define DPOT_SPI_DEC_ALL\t0x70\n#define DPOT_SPI_INC_ALL\t0xF0\n\n \n#define DPOT_AD5291_RDAC\t0x01\n#define DPOT_AD5291_READ_RDAC\t0x02\n#define DPOT_AD5291_STORE_XTPM\t0x03\n#define DPOT_AD5291_CTRLREG\t0x06\n#define DPOT_AD5291_UNLOCK_CMD\t0x03\n\n \n#define DPOT_AD5270_1_2_4_RDAC\t\t0x01\n#define DPOT_AD5270_1_2_4_READ_RDAC\t0x02\n#define DPOT_AD5270_1_2_4_STORE_XTPM\t0x03\n#define DPOT_AD5270_1_2_4_CTRLREG\t0x07\n#define DPOT_AD5270_1_2_4_UNLOCK_CMD\t0x03\n\n#define DPOT_AD5282_RDAC_AB\t0x80\n\n#define DPOT_AD5273_FUSE\t0x80\n#define DPOT_AD5170_2_3_FUSE\t0x20\n#define DPOT_AD5170_2_3_OW\t0x08\n#define DPOT_AD5172_3_A0\t0x08\n#define DPOT_AD5170_2FUSE\t0x80\n\nstruct dpot_data;\n\nstruct ad_dpot_bus_ops {\n\tint (*read_d8)(void *client);\n\tint (*read_r8d8)(void *client, u8 reg);\n\tint (*read_r8d16)(void *client, u8 reg);\n\tint (*write_d8)(void *client, u8 val);\n\tint (*write_r8d8)(void *client, u8 reg, u8 val);\n\tint (*write_r8d16)(void *client, u8 reg, u16 val);\n};\n\nstruct ad_dpot_bus_data {\n\tvoid *client;\n\tconst struct ad_dpot_bus_ops *bops;\n};\n\nint ad_dpot_probe(struct device *dev, struct ad_dpot_bus_data *bdata,\n\t\t  unsigned long devid, const char *name);\nvoid ad_dpot_remove(struct device *dev);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}