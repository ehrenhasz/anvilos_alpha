{
  "module_name": "rtsx_pcr.h",
  "hash_id": "7adfc4224ce76c7b5f06cc321caac5dcb85c1f7a8a22e40f7a57d34b6a704e54",
  "original_prompt": "Ingested from linux-6.6.14/drivers/misc/cardreader/rtsx_pcr.h",
  "human_readable_source": " \n \n\n#ifndef __RTSX_PCR_H\n#define __RTSX_PCR_H\n\n#include <linux/rtsx_pci.h>\n\n#define MIN_DIV_N_PCR\t\t80\n#define MAX_DIV_N_PCR\t\t208\n\n#define RTS522A_PME_FORCE_CTL\t0xFF78\n#define RTS522A_AUTOLOAD_CFG1\t0xFF7C\n#define RTS522A_PM_CTRL3\t\t0xFF7E\n\n#define RTS524A_PME_FORCE_CTL\t\t0xFF78\n#define REG_EFUSE_BYPASS\t\t0x08\n#define REG_EFUSE_POR\t\t\t0x04\n#define REG_EFUSE_POWER_MASK\t\t0x03\n#define REG_EFUSE_POWERON\t\t0x03\n#define REG_EFUSE_POWEROFF\t\t0x00\n#define RTS5250_CLK_CFG3\t\t0xFF79\n#define RTS525A_CFG_MEM_PD\t\t0xF0\n#define RTS524A_AUTOLOAD_CFG1\t\t0xFF7C\n#define RTS524A_PM_CTRL3\t\t0xFF7E\n#define RTS525A_BIOS_CFG\t\t0xFF2D\n#define RTS525A_LOAD_BIOS_FLAG\t0x01\n#define RTS525A_CLEAR_BIOS_FLAG\t0x00\n\n#define RTS525A_EFUSE_CTL\t\t0xFC32\n#define REG_EFUSE_ENABLE\t\t0x80\n#define REG_EFUSE_MODE\t\t\t0x40\n#define RTS525A_EFUSE_ADD\t\t0xFC33\n#define REG_EFUSE_ADD_MASK\t\t0x3F\n#define RTS525A_EFUSE_DATA\t\t0xFC35\n\n#define LTR_ACTIVE_LATENCY_DEF\t\t0x883C\n#define LTR_IDLE_LATENCY_DEF\t\t0x892C\n#define LTR_L1OFF_LATENCY_DEF\t\t0x9003\n#define L1_SNOOZE_DELAY_DEF\t\t1\n#define LTR_L1OFF_SSPWRGATE_5249_DEF\t\t0xAF\n#define LTR_L1OFF_SSPWRGATE_5250_DEF\t\t0xFF\n#define LTR_L1OFF_SNOOZE_SSPWRGATE_5249_DEF\t0xAC\n#define LTR_L1OFF_SNOOZE_SSPWRGATE_5250_DEF\t0xF8\n#define CMD_TIMEOUT_DEF\t\t100\n#define MASK_8_BIT_DEF\t\t0xFF\n\n#define SSC_CLOCK_STABLE_WAIT\t130\n\n#define RTS524A_OCP_THD_800\t0x04\n#define RTS525A_OCP_THD_800\t0x05\n#define RTS522A_OCP_THD_800\t0x06\n\n\nint __rtsx_pci_write_phy_register(struct rtsx_pcr *pcr, u8 addr, u16 val);\nint __rtsx_pci_read_phy_register(struct rtsx_pcr *pcr, u8 addr, u16 *val);\n\nvoid rts5209_init_params(struct rtsx_pcr *pcr);\nvoid rts5229_init_params(struct rtsx_pcr *pcr);\nvoid rtl8411_init_params(struct rtsx_pcr *pcr);\nvoid rtl8402_init_params(struct rtsx_pcr *pcr);\nvoid rts5227_init_params(struct rtsx_pcr *pcr);\nvoid rts522a_init_params(struct rtsx_pcr *pcr);\nvoid rts5249_init_params(struct rtsx_pcr *pcr);\nvoid rts524a_init_params(struct rtsx_pcr *pcr);\nvoid rts525a_init_params(struct rtsx_pcr *pcr);\nvoid rtl8411b_init_params(struct rtsx_pcr *pcr);\nvoid rts5260_init_params(struct rtsx_pcr *pcr);\nvoid rts5261_init_params(struct rtsx_pcr *pcr);\nvoid rts5228_init_params(struct rtsx_pcr *pcr);\n\nstatic inline u8 map_sd_drive(int idx)\n{\n\tu8 sd_drive[4] = {\n\t\t0x01,\t \n\t\t0x02,\t \n\t\t0x05,\t \n\t\t0x03\t \n\t};\n\n\treturn sd_drive[idx];\n}\n\n#define rtsx_vendor_setting_valid(reg)\t\t(!((reg) & 0x1000000))\n#define rts5209_vendor_setting1_valid(reg)\t(!((reg) & 0x80))\n#define rts5209_vendor_setting2_valid(reg)\t((reg) & 0x80)\n\n#define rtsx_check_mmc_support(reg)\t\t((reg) & 0x10)\n#define rtsx_reg_to_rtd3(reg)\t\t\t\t((reg) & 0x02)\n#define rtsx_reg_to_rtd3_uhsii(reg)\t\t\t\t((reg) & 0x04)\n#define rtsx_reg_to_aspm(reg)\t\t\t(((reg) >> 28) & 0x03)\n#define rtsx_reg_to_sd30_drive_sel_1v8(reg)\t(((reg) >> 26) & 0x03)\n#define rtsx_reg_to_sd30_drive_sel_3v3(reg)\t(((reg) >> 5) & 0x03)\n#define rtsx_reg_to_card_drive_sel(reg)\t\t((((reg) >> 25) & 0x01) << 6)\n#define rtsx_reg_check_reverse_socket(reg)\t((reg) & 0x4000)\n#define rts5209_reg_to_aspm(reg)\t\t(((reg) >> 5) & 0x03)\n#define rts5209_reg_check_ms_pmos(reg)\t\t(!((reg) & 0x08))\n#define rts5209_reg_to_sd30_drive_sel_1v8(reg)\t(((reg) >> 3) & 0x07)\n#define rts5209_reg_to_sd30_drive_sel_3v3(reg)\t((reg) & 0x07)\n#define rts5209_reg_to_card_drive_sel(reg)\t((reg) >> 8)\n#define rtl8411_reg_to_sd30_drive_sel_3v3(reg)\t(((reg) >> 5) & 0x07)\n#define rtl8411b_reg_to_sd30_drive_sel_3v3(reg)\t((reg) & 0x03)\n\n#define set_pull_ctrl_tables(pcr, __device)\t\t\t\t\\\ndo {\t\t\t\t\t\t\t\t\t\\\n\tpcr->sd_pull_ctl_enable_tbl  = __device##_sd_pull_ctl_enable_tbl;  \\\n\tpcr->sd_pull_ctl_disable_tbl = __device##_sd_pull_ctl_disable_tbl; \\\n\tpcr->ms_pull_ctl_enable_tbl  = __device##_ms_pull_ctl_enable_tbl;  \\\n\tpcr->ms_pull_ctl_disable_tbl = __device##_ms_pull_ctl_disable_tbl; \\\n} while (0)\n\n \nint rtsx_gops_pm_reset(struct rtsx_pcr *pcr);\nint rtsx_set_ltr_latency(struct rtsx_pcr *pcr, u32 latency);\nint rtsx_set_l1off_sub(struct rtsx_pcr *pcr, u8 val);\nvoid rtsx_pci_init_ocp(struct rtsx_pcr *pcr);\nvoid rtsx_pci_disable_ocp(struct rtsx_pcr *pcr);\nvoid rtsx_pci_enable_ocp(struct rtsx_pcr *pcr);\nint rtsx_pci_get_ocpstat(struct rtsx_pcr *pcr, u8 *val);\nvoid rtsx_pci_clear_ocpstat(struct rtsx_pcr *pcr);\nvoid rtsx_pci_enable_oobs_polling(struct rtsx_pcr *pcr);\nvoid rtsx_pci_disable_oobs_polling(struct rtsx_pcr *pcr);\nint rtsx_sd_power_off_card3v3(struct rtsx_pcr *pcr);\nint rtsx_ms_power_off_card3v3(struct rtsx_pcr *pcr);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}