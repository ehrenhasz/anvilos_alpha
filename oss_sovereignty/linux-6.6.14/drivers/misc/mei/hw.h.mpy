{
  "module_name": "hw.h",
  "hash_id": "9dea4109ad0eb0152914ed585af0659ba0279285da6cd7776e2f4db9c0a5938d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/misc/mei/hw.h",
  "human_readable_source": " \n \n\n#ifndef _MEI_HW_TYPES_H_\n#define _MEI_HW_TYPES_H_\n\n#include <linux/mei.h>\n\n \n#define MEI_HW_READY_TIMEOUT        2   \n#define MEI_CONNECT_TIMEOUT         3   \n\n#define MEI_CL_CONNECT_TIMEOUT     15   \n#define MEI_CL_CONNECT_TIMEOUT_SLOW 30  \n#define MEI_CLIENTS_INIT_TIMEOUT   15   \n\n#define MEI_PGI_TIMEOUT             1   \n#define MEI_D0I3_TIMEOUT            5   \n#define MEI_HBM_TIMEOUT             1   \n#define MEI_HBM_TIMEOUT_SLOW        5   \n\n#define MKHI_RCV_TIMEOUT 500  \n#define MKHI_RCV_TIMEOUT_SLOW 10000  \n\n \n#define MEI_FW_PAGE_SIZE 4096UL\n\n \n#define HBM_MINOR_VERSION                   2\n#define HBM_MAJOR_VERSION                   2\n\n \n#define HBM_MINOR_VERSION_PGI               1\n#define HBM_MAJOR_VERSION_PGI               1\n\n \n#define HBM_MINOR_VERSION_DC               0\n#define HBM_MAJOR_VERSION_DC               2\n\n \n#define HBM_MINOR_VERSION_IE               0\n#define HBM_MAJOR_VERSION_IE               2\n\n \n#define HBM_MINOR_VERSION_DOT              0\n#define HBM_MAJOR_VERSION_DOT              2\n\n \n#define HBM_MINOR_VERSION_EV               0\n#define HBM_MAJOR_VERSION_EV               2\n\n \n#define HBM_MINOR_VERSION_FA               0\n#define HBM_MAJOR_VERSION_FA               2\n\n \n#define HBM_MINOR_VERSION_OS               0\n#define HBM_MAJOR_VERSION_OS               2\n\n \n#define HBM_MINOR_VERSION_DR               1\n#define HBM_MAJOR_VERSION_DR               2\n\n \n#define HBM_MINOR_VERSION_VT               2\n#define HBM_MAJOR_VERSION_VT               2\n\n \n#define HBM_MINOR_VERSION_GSC              2\n#define HBM_MAJOR_VERSION_GSC              2\n\n \n#define HBM_MINOR_VERSION_CAP              2\n#define HBM_MAJOR_VERSION_CAP              2\n\n \n#define HBM_MINOR_VERSION_CD               2\n#define HBM_MAJOR_VERSION_CD               2\n\n \n#define MEI_HBM_CMD_OP_MSK                  0x7f\n \n#define MEI_HBM_CMD_RES_MSK                 0x80\n\n \n#define HOST_START_REQ_CMD                  0x01\n#define HOST_START_RES_CMD                  0x81\n\n#define HOST_STOP_REQ_CMD                   0x02\n#define HOST_STOP_RES_CMD                   0x82\n\n#define ME_STOP_REQ_CMD                     0x03\n\n#define HOST_ENUM_REQ_CMD                   0x04\n#define HOST_ENUM_RES_CMD                   0x84\n\n#define HOST_CLIENT_PROPERTIES_REQ_CMD      0x05\n#define HOST_CLIENT_PROPERTIES_RES_CMD      0x85\n\n#define CLIENT_CONNECT_REQ_CMD              0x06\n#define CLIENT_CONNECT_RES_CMD              0x86\n\n#define CLIENT_DISCONNECT_REQ_CMD           0x07\n#define CLIENT_DISCONNECT_RES_CMD           0x87\n\n#define MEI_FLOW_CONTROL_CMD                0x08\n\n#define MEI_PG_ISOLATION_ENTRY_REQ_CMD      0x0a\n#define MEI_PG_ISOLATION_ENTRY_RES_CMD      0x8a\n#define MEI_PG_ISOLATION_EXIT_REQ_CMD       0x0b\n#define MEI_PG_ISOLATION_EXIT_RES_CMD       0x8b\n\n#define MEI_HBM_ADD_CLIENT_REQ_CMD          0x0f\n#define MEI_HBM_ADD_CLIENT_RES_CMD          0x8f\n\n#define MEI_HBM_NOTIFY_REQ_CMD              0x10\n#define MEI_HBM_NOTIFY_RES_CMD              0x90\n#define MEI_HBM_NOTIFICATION_CMD            0x11\n\n#define MEI_HBM_DMA_SETUP_REQ_CMD           0x12\n#define MEI_HBM_DMA_SETUP_RES_CMD           0x92\n\n#define MEI_HBM_CAPABILITIES_REQ_CMD        0x13\n#define MEI_HBM_CAPABILITIES_RES_CMD        0x93\n\n#define MEI_HBM_CLIENT_DMA_MAP_REQ_CMD      0x14\n#define MEI_HBM_CLIENT_DMA_MAP_RES_CMD      0x94\n\n#define MEI_HBM_CLIENT_DMA_UNMAP_REQ_CMD    0x15\n#define MEI_HBM_CLIENT_DMA_UNMAP_RES_CMD    0x95\n\n \nenum mei_stop_reason_types {\n\tDRIVER_STOP_REQUEST = 0x00,\n\tDEVICE_D1_ENTRY = 0x01,\n\tDEVICE_D2_ENTRY = 0x02,\n\tDEVICE_D3_ENTRY = 0x03,\n\tSYSTEM_S1_ENTRY = 0x04,\n\tSYSTEM_S2_ENTRY = 0x05,\n\tSYSTEM_S3_ENTRY = 0x06,\n\tSYSTEM_S4_ENTRY = 0x07,\n\tSYSTEM_S5_ENTRY = 0x08\n};\n\n\n \nenum mei_hbm_status {\n\tMEI_HBMS_SUCCESS           = 0,\n\tMEI_HBMS_CLIENT_NOT_FOUND  = 1,\n\tMEI_HBMS_ALREADY_EXISTS    = 2,\n\tMEI_HBMS_REJECTED          = 3,\n\tMEI_HBMS_INVALID_PARAMETER = 4,\n\tMEI_HBMS_NOT_ALLOWED       = 5,\n\tMEI_HBMS_ALREADY_STARTED   = 6,\n\tMEI_HBMS_NOT_STARTED       = 7,\n\n\tMEI_HBMS_MAX\n};\n\n\n \nenum mei_cl_connect_status {\n\tMEI_CL_CONN_SUCCESS          = MEI_HBMS_SUCCESS,\n\tMEI_CL_CONN_NOT_FOUND        = MEI_HBMS_CLIENT_NOT_FOUND,\n\tMEI_CL_CONN_ALREADY_STARTED  = MEI_HBMS_ALREADY_EXISTS,\n\tMEI_CL_CONN_OUT_OF_RESOURCES = MEI_HBMS_REJECTED,\n\tMEI_CL_CONN_MESSAGE_SMALL    = MEI_HBMS_INVALID_PARAMETER,\n\tMEI_CL_CONN_NOT_ALLOWED      = MEI_HBMS_NOT_ALLOWED,\n};\n\n \nenum mei_cl_disconnect_status {\n\tMEI_CL_DISCONN_SUCCESS = MEI_HBMS_SUCCESS\n};\n\n \nenum mei_ext_hdr_type {\n\tMEI_EXT_HDR_NONE = 0,\n\tMEI_EXT_HDR_VTAG = 1,\n\tMEI_EXT_HDR_GSC = 2,\n};\n\n \nstruct mei_ext_hdr {\n\tu8 type;\n\tu8 length;\n\tu8 data[];\n} __packed;\n\n \nstruct mei_ext_meta_hdr {\n\tu8 count;\n\tu8 size;\n\tu8 reserved[2];\n\tu8 hdrs[];\n} __packed;\n\n \nstruct mei_ext_hdr_vtag {\n\tstruct mei_ext_hdr hdr;\n\tu8 vtag;\n\tu8 reserved;\n} __packed;\n\n \n \nstatic inline struct mei_ext_hdr *mei_ext_begin(struct mei_ext_meta_hdr *meta)\n{\n\treturn (struct mei_ext_hdr *)meta->hdrs;\n}\n\n \nstatic inline bool mei_ext_last(struct mei_ext_meta_hdr *meta,\n\t\t\t\tstruct mei_ext_hdr *ext)\n{\n\treturn (u8 *)ext >= (u8 *)meta + sizeof(*meta) + (meta->size * 4);\n}\n\nstruct mei_gsc_sgl {\n\tu32 low;\n\tu32 high;\n\tu32 length;\n} __packed;\n\n#define GSC_HECI_MSG_KERNEL 0\n#define GSC_HECI_MSG_USER   1\n\n#define GSC_ADDRESS_TYPE_GTT   0\n#define GSC_ADDRESS_TYPE_PPGTT 1\n#define GSC_ADDRESS_TYPE_PHYSICAL_CONTINUOUS 2  \n#define GSC_ADDRESS_TYPE_PHYSICAL_SGL 3\n\n \nstruct mei_ext_hdr_gsc_h2f {\n\tstruct mei_ext_hdr hdr;\n\tu8                 client_id;\n\tu8                 addr_type;\n\tu32                fence_id;\n\tu8                 input_address_count;\n\tu8                 output_address_count;\n\tu8                 reserved[2];\n\tstruct mei_gsc_sgl sgl[];\n} __packed;\n\n \nstruct mei_ext_hdr_gsc_f2h {\n\tstruct mei_ext_hdr hdr;\n\tu8                 client_id;\n\tu8                 reserved;\n\tu32                fence_id;\n\tu32                written;\n} __packed;\n\n \nstatic inline struct mei_ext_hdr *mei_ext_next(struct mei_ext_hdr *ext)\n{\n\treturn (struct mei_ext_hdr *)((u8 *)ext + (ext->length * 4));\n}\n\n \nstatic inline u32 mei_ext_hdr_len(const struct mei_ext_hdr *ext)\n{\n\tif (!ext)\n\t\treturn 0;\n\n\treturn ext->length * sizeof(u32);\n}\n\n \nstruct mei_msg_hdr {\n\tu32 me_addr:8;\n\tu32 host_addr:8;\n\tu32 length:9;\n\tu32 reserved:3;\n\tu32 extended:1;\n\tu32 dma_ring:1;\n\tu32 internal:1;\n\tu32 msg_complete:1;\n\tu32 extension[];\n} __packed;\n\n \n#define MEI_MSG_MAX_LEN_MASK GENMASK(9, 0)\n\nstruct mei_bus_message {\n\tu8 hbm_cmd;\n\tu8 data[];\n} __packed;\n\n \nstruct mei_hbm_cl_cmd {\n\tu8 hbm_cmd;\n\tu8 me_addr;\n\tu8 host_addr;\n\tu8 data;\n};\n\nstruct hbm_version {\n\tu8 minor_version;\n\tu8 major_version;\n} __packed;\n\nstruct hbm_host_version_request {\n\tu8 hbm_cmd;\n\tu8 reserved;\n\tstruct hbm_version host_version;\n} __packed;\n\nstruct hbm_host_version_response {\n\tu8 hbm_cmd;\n\tu8 host_version_supported;\n\tstruct hbm_version me_max_version;\n} __packed;\n\nstruct hbm_host_stop_request {\n\tu8 hbm_cmd;\n\tu8 reason;\n\tu8 reserved[2];\n} __packed;\n\nstruct hbm_host_stop_response {\n\tu8 hbm_cmd;\n\tu8 reserved[3];\n} __packed;\n\nstruct hbm_me_stop_request {\n\tu8 hbm_cmd;\n\tu8 reason;\n\tu8 reserved[2];\n} __packed;\n\n \nenum hbm_host_enum_flags {\n\tMEI_HBM_ENUM_F_ALLOW_ADD = BIT(0),\n\tMEI_HBM_ENUM_F_IMMEDIATE_ENUM = BIT(1),\n};\n\n \nstruct hbm_host_enum_request {\n\tu8 hbm_cmd;\n\tu8 flags;\n\tu8 reserved[2];\n} __packed;\n\nstruct hbm_host_enum_response {\n\tu8 hbm_cmd;\n\tu8 reserved[3];\n\tu8 valid_addresses[32];\n} __packed;\n\n \nstruct mei_client_properties {\n\tuuid_le protocol_name;\n\tu8 protocol_version;\n\tu8 max_number_of_connections;\n\tu8 fixed_address;\n\tu8 single_recv_buf:1;\n\tu8 vt_supported:1;\n\tu8 reserved:6;\n\tu32 max_msg_length;\n} __packed;\n\nstruct hbm_props_request {\n\tu8 hbm_cmd;\n\tu8 me_addr;\n\tu8 reserved[2];\n} __packed;\n\nstruct hbm_props_response {\n\tu8 hbm_cmd;\n\tu8 me_addr;\n\tu8 status;\n\tu8 reserved;\n\tstruct mei_client_properties client_properties;\n} __packed;\n\n \nstruct hbm_add_client_request {\n\tu8 hbm_cmd;\n\tu8 me_addr;\n\tu8 reserved[2];\n\tstruct mei_client_properties client_properties;\n} __packed;\n\n \nstruct hbm_add_client_response {\n\tu8 hbm_cmd;\n\tu8 me_addr;\n\tu8 status;\n\tu8 reserved;\n} __packed;\n\n \nstruct hbm_power_gate {\n\tu8 hbm_cmd;\n\tu8 reserved[3];\n} __packed;\n\n \nstruct hbm_client_connect_request {\n\tu8 hbm_cmd;\n\tu8 me_addr;\n\tu8 host_addr;\n\tu8 reserved;\n} __packed;\n\n \nstruct hbm_client_connect_response {\n\tu8 hbm_cmd;\n\tu8 me_addr;\n\tu8 host_addr;\n\tu8 status;\n} __packed;\n\n\n#define MEI_FC_MESSAGE_RESERVED_LENGTH           5\n\nstruct hbm_flow_control {\n\tu8 hbm_cmd;\n\tu8 me_addr;\n\tu8 host_addr;\n\tu8 reserved[MEI_FC_MESSAGE_RESERVED_LENGTH];\n} __packed;\n\n#define MEI_HBM_NOTIFICATION_START 1\n#define MEI_HBM_NOTIFICATION_STOP  0\n \nstruct hbm_notification_request {\n\tu8 hbm_cmd;\n\tu8 me_addr;\n\tu8 host_addr;\n\tu8 start;\n} __packed;\n\n \nstruct hbm_notification_response {\n\tu8 hbm_cmd;\n\tu8 me_addr;\n\tu8 host_addr;\n\tu8 status;\n\tu8 start;\n\tu8 reserved[3];\n} __packed;\n\n \nstruct hbm_notification {\n\tu8 hbm_cmd;\n\tu8 me_addr;\n\tu8 host_addr;\n\tu8 reserved;\n} __packed;\n\n \nstruct hbm_dma_mem_dscr {\n\tu32 addr_hi;\n\tu32 addr_lo;\n\tu32 size;\n} __packed;\n\nenum {\n\tDMA_DSCR_HOST = 0,\n\tDMA_DSCR_DEVICE = 1,\n\tDMA_DSCR_CTRL = 2,\n\tDMA_DSCR_NUM,\n};\n\n \nstruct hbm_dma_setup_request {\n\tu8 hbm_cmd;\n\tu8 reserved[3];\n\tstruct hbm_dma_mem_dscr dma_dscr[DMA_DSCR_NUM];\n} __packed;\n\n \nstruct hbm_dma_setup_response {\n\tu8 hbm_cmd;\n\tu8 status;\n\tu8 reserved[2];\n} __packed;\n\n \nstruct hbm_dma_ring_ctrl {\n\tu32 hbuf_wr_idx;\n\tu32 reserved1;\n\tu32 hbuf_rd_idx;\n\tu32 reserved2;\n\tu32 dbuf_wr_idx;\n\tu32 reserved3;\n\tu32 dbuf_rd_idx;\n\tu32 reserved4;\n} __packed;\n\n \n#define HBM_CAP_VT BIT(0)\n\n \n#define HBM_CAP_GSC BIT(1)\n\n \n#define HBM_CAP_CD BIT(2)\n\n \nstruct hbm_capability_request {\n\tu8 hbm_cmd;\n\tu8 capability_requested[3];\n} __packed;\n\n \nstruct hbm_capability_response {\n\tu8 hbm_cmd;\n\tu8 capability_granted[3];\n} __packed;\n\n \nstruct hbm_client_dma_map_request {\n\tu8 hbm_cmd;\n\tu8 client_buffer_id;\n\tu8 reserved[2];\n\tu32 address_lsb;\n\tu32 address_msb;\n\tu32 size;\n} __packed;\n\n \nstruct hbm_client_dma_unmap_request {\n\tu8 hbm_cmd;\n\tu8 status;\n\tu8 client_buffer_id;\n\tu8 reserved;\n} __packed;\n\n \nstruct hbm_client_dma_response {\n\tu8 hbm_cmd;\n\tu8 status;\n} __packed;\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}