{
  "module_name": "dfl-afu.h",
  "hash_id": "dd80c8f5fa8048dfe3d6e022c2bdc89328de420471be301c21db67a37d373e90",
  "original_prompt": "Ingested from linux-6.6.14/drivers/fpga/dfl-afu.h",
  "human_readable_source": " \n \n\n#ifndef __DFL_AFU_H\n#define __DFL_AFU_H\n\n#include <linux/mm.h>\n\n#include \"dfl.h\"\n\n \nstruct dfl_afu_mmio_region {\n\tu32 index;\n\tu32 flags;\n\tu64 size;\n\tu64 offset;\n\tu64 phys;\n\tstruct list_head node;\n};\n\n \nstruct dfl_afu_dma_region {\n\tu64 user_addr;\n\tu64 length;\n\tu64 iova;\n\tstruct page **pages;\n\tstruct rb_node node;\n\tbool in_use;\n};\n\n \nstruct dfl_afu {\n\tu64 region_cur_offset;\n\tint num_regions;\n\tu8 num_umsgs;\n\tstruct list_head regions;\n\tstruct rb_root dma_regions;\n\n\tstruct dfl_feature_platform_data *pdata;\n};\n\n \nint __afu_port_enable(struct platform_device *pdev);\nint __afu_port_disable(struct platform_device *pdev);\n\nvoid afu_mmio_region_init(struct dfl_feature_platform_data *pdata);\nint afu_mmio_region_add(struct dfl_feature_platform_data *pdata,\n\t\t\tu32 region_index, u64 region_size, u64 phys, u32 flags);\nvoid afu_mmio_region_destroy(struct dfl_feature_platform_data *pdata);\nint afu_mmio_region_get_by_index(struct dfl_feature_platform_data *pdata,\n\t\t\t\t u32 region_index,\n\t\t\t\t struct dfl_afu_mmio_region *pregion);\nint afu_mmio_region_get_by_offset(struct dfl_feature_platform_data *pdata,\n\t\t\t\t  u64 offset, u64 size,\n\t\t\t\t  struct dfl_afu_mmio_region *pregion);\nvoid afu_dma_region_init(struct dfl_feature_platform_data *pdata);\nvoid afu_dma_region_destroy(struct dfl_feature_platform_data *pdata);\nint afu_dma_map_region(struct dfl_feature_platform_data *pdata,\n\t\t       u64 user_addr, u64 length, u64 *iova);\nint afu_dma_unmap_region(struct dfl_feature_platform_data *pdata, u64 iova);\nstruct dfl_afu_dma_region *\nafu_dma_region_find(struct dfl_feature_platform_data *pdata,\n\t\t    u64 iova, u64 size);\n\nextern const struct dfl_feature_ops port_err_ops;\nextern const struct dfl_feature_id port_err_id_table[];\nextern const struct attribute_group port_err_group;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}