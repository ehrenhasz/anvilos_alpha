{
  "module_name": "qdu1000.c",
  "hash_id": "cd4d22cf6befe9c4ca09d5f4770d7a2a62a08348c0ad9bfce773e6046fa16ec3",
  "original_prompt": "Ingested from linux-6.6.14/drivers/interconnect/qcom/qdu1000.c",
  "human_readable_source": "\n \n\n#include <linux/device.h>\n#include <linux/interconnect.h>\n#include <linux/interconnect-provider.h>\n#include <linux/mod_devicetable.h>\n#include <linux/module.h>\n#include <linux/platform_device.h>\n#include <dt-bindings/interconnect/qcom,qdu1000-rpmh.h>\n\n#include \"bcm-voter.h\"\n#include \"icc-common.h\"\n#include \"icc-rpmh.h\"\n#include \"qdu1000.h\"\n\nstatic struct qcom_icc_node qup0_core_master = {\n\t.name = \"qup0_core_master\",\n\t.id = QDU1000_MASTER_QUP_CORE_0,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 1,\n\t.links = { QDU1000_SLAVE_QUP_CORE_0 },\n};\n\nstatic struct qcom_icc_node qup1_core_master = {\n\t.name = \"qup1_core_master\",\n\t.id = QDU1000_MASTER_QUP_CORE_1,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 1,\n\t.links = { QDU1000_SLAVE_QUP_CORE_1 },\n};\n\nstatic struct qcom_icc_node alm_sys_tcu = {\n\t.name = \"alm_sys_tcu\",\n\t.id = QDU1000_MASTER_SYS_TCU,\n\t.channels = 1,\n\t.buswidth = 8,\n\t.num_links = 2,\n\t.links = { QDU1000_SLAVE_GEM_NOC_CNOC, QDU1000_SLAVE_LLCC },\n};\n\nstatic struct qcom_icc_node chm_apps = {\n\t.name = \"chm_apps\",\n\t.id = QDU1000_MASTER_APPSS_PROC,\n\t.channels = 1,\n\t.buswidth = 16,\n\t.num_links = 4,\n\t.links = { QDU1000_SLAVE_GEM_NOC_CNOC, QDU1000_SLAVE_LLCC,\n\t\t   QDU1000_SLAVE_GEMNOC_MODEM_CNOC, QDU1000_SLAVE_MEM_NOC_PCIE_SNOC\n\t},\n};\n\nstatic struct qcom_icc_node qnm_ecpri_dma = {\n\t.name = \"qnm_ecpri_dma\",\n\t.id = QDU1000_MASTER_GEMNOC_ECPRI_DMA,\n\t.channels = 2,\n\t.buswidth = 32,\n\t.num_links = 2,\n\t.links = { QDU1000_SLAVE_GEM_NOC_CNOC, QDU1000_SLAVE_LLCC },\n};\n\nstatic struct qcom_icc_node qnm_fec_2_gemnoc = {\n\t.name = \"qnm_fec_2_gemnoc\",\n\t.id = QDU1000_MASTER_FEC_2_GEMNOC,\n\t.channels = 2,\n\t.buswidth = 32,\n\t.num_links = 2,\n\t.links = { QDU1000_SLAVE_GEM_NOC_CNOC, QDU1000_SLAVE_LLCC },\n};\n\nstatic struct qcom_icc_node qnm_pcie = {\n\t.name = \"qnm_pcie\",\n\t.id = QDU1000_MASTER_ANOC_PCIE_GEM_NOC,\n\t.channels = 1,\n\t.buswidth = 64,\n\t.num_links = 3,\n\t.links = { QDU1000_SLAVE_GEM_NOC_CNOC, QDU1000_SLAVE_LLCC,\n\t\t   QDU1000_SLAVE_GEMNOC_MODEM_CNOC\n\t},\n};\n\nstatic struct qcom_icc_node qnm_snoc_gc = {\n\t.name = \"qnm_snoc_gc\",\n\t.id = QDU1000_MASTER_SNOC_GC_MEM_NOC,\n\t.channels = 1,\n\t.buswidth = 8,\n\t.num_links = 1,\n\t.links = { QDU1000_SLAVE_LLCC },\n};\n\nstatic struct qcom_icc_node qnm_snoc_sf = {\n\t.name = \"qnm_snoc_sf\",\n\t.id = QDU1000_MASTER_SNOC_SF_MEM_NOC,\n\t.channels = 1,\n\t.buswidth = 16,\n\t.num_links = 4,\n\t.links = { QDU1000_SLAVE_GEM_NOC_CNOC, QDU1000_SLAVE_LLCC,\n\t\t   QDU1000_SLAVE_GEMNOC_MODEM_CNOC, QDU1000_SLAVE_MEM_NOC_PCIE_SNOC\n\t},\n};\n\nstatic struct qcom_icc_node qxm_mdsp = {\n\t.name = \"qxm_mdsp\",\n\t.id = QDU1000_MASTER_MSS_PROC,\n\t.channels = 1,\n\t.buswidth = 16,\n\t.num_links = 3,\n\t.links = { QDU1000_SLAVE_GEM_NOC_CNOC, QDU1000_SLAVE_LLCC,\n\t\t   QDU1000_SLAVE_MEM_NOC_PCIE_SNOC\n\t},\n};\n\nstatic struct qcom_icc_node llcc_mc = {\n\t.name = \"llcc_mc\",\n\t.id = QDU1000_MASTER_LLCC,\n\t.channels = 8,\n\t.buswidth = 4,\n\t.num_links = 1,\n\t.links = { QDU1000_SLAVE_EBI1 },\n};\n\nstatic struct qcom_icc_node qhm_gic = {\n\t.name = \"qhm_gic\",\n\t.id = QDU1000_MASTER_GIC_AHB,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 1,\n\t.links = { QDU1000_SLAVE_SNOC_GEM_NOC_SF },\n};\n\nstatic struct qcom_icc_node qhm_qdss_bam = {\n\t.name = \"qhm_qdss_bam\",\n\t.id = QDU1000_MASTER_QDSS_BAM,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 1,\n\t.links = { QDU1000_SLAVE_SNOC_GEM_NOC_SF },\n};\n\nstatic struct qcom_icc_node qhm_qpic = {\n\t.name = \"qhm_qpic\",\n\t.id = QDU1000_MASTER_QPIC,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 1,\n\t.links = { QDU1000_SLAVE_A1NOC_SNOC },\n};\n\nstatic struct qcom_icc_node qhm_qspi = {\n\t.name = \"qhm_qspi\",\n\t.id = QDU1000_MASTER_QSPI_0,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 1,\n\t.links = { QDU1000_SLAVE_A1NOC_SNOC },\n};\n\nstatic struct qcom_icc_node qhm_qup0 = {\n\t.name = \"qhm_qup0\",\n\t.id = QDU1000_MASTER_QUP_0,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 1,\n\t.links = { QDU1000_SLAVE_A1NOC_SNOC },\n};\n\nstatic struct qcom_icc_node qhm_qup1 = {\n\t.name = \"qhm_qup1\",\n\t.id = QDU1000_MASTER_QUP_1,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 1,\n\t.links = { QDU1000_SLAVE_A1NOC_SNOC },\n};\n\nstatic struct qcom_icc_node qhm_system_noc_cfg = {\n\t.name = \"qhm_system_noc_cfg\",\n\t.id = QDU1000_MASTER_SNOC_CFG,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 1,\n\t.links = { QDU1000_SLAVE_SERVICE_SNOC },\n};\n\nstatic struct qcom_icc_node qnm_aggre_noc = {\n\t.name = \"qnm_aggre_noc\",\n\t.id = QDU1000_MASTER_ANOC_SNOC,\n\t.channels = 1,\n\t.buswidth = 8,\n\t.num_links = 1,\n\t.links = { QDU1000_SLAVE_SNOC_GEM_NOC_SF },\n};\n\nstatic struct qcom_icc_node qnm_aggre_noc_gsi = {\n\t.name = \"qnm_aggre_noc_gsi\",\n\t.id = QDU1000_MASTER_ANOC_GSI,\n\t.channels = 1,\n\t.buswidth = 8,\n\t.num_links = 1,\n\t.links = { QDU1000_SLAVE_SNOC_GEM_NOC_GC },\n};\n\nstatic struct qcom_icc_node qnm_gemnoc_cnoc = {\n\t.name = \"qnm_gemnoc_cnoc\",\n\t.id = QDU1000_MASTER_GEM_NOC_CNOC,\n\t.channels = 1,\n\t.buswidth = 16,\n\t.num_links = 36,\n\t.links = { QDU1000_SLAVE_AHB2PHY_SOUTH, QDU1000_SLAVE_AHB2PHY_NORTH,\n\t\t   QDU1000_SLAVE_AHB2PHY_EAST, QDU1000_SLAVE_AOSS,\n\t\t   QDU1000_SLAVE_CLK_CTL, QDU1000_SLAVE_RBCPR_CX_CFG,\n\t\t   QDU1000_SLAVE_RBCPR_MX_CFG, QDU1000_SLAVE_CRYPTO_0_CFG,\n\t\t   QDU1000_SLAVE_ECPRI_CFG, QDU1000_SLAVE_IMEM_CFG,\n\t\t   QDU1000_SLAVE_IPC_ROUTER_CFG, QDU1000_SLAVE_CNOC_MSS,\n\t\t   QDU1000_SLAVE_PCIE_CFG, QDU1000_SLAVE_PDM,\n\t\t   QDU1000_SLAVE_PIMEM_CFG, QDU1000_SLAVE_PRNG,\n\t\t   QDU1000_SLAVE_QDSS_CFG, QDU1000_SLAVE_QPIC,\n\t\t   QDU1000_SLAVE_QSPI_0, QDU1000_SLAVE_QUP_0,\n\t\t   QDU1000_SLAVE_QUP_1, QDU1000_SLAVE_SDCC_2,\n\t\t   QDU1000_SLAVE_SMBUS_CFG, QDU1000_SLAVE_SNOC_CFG,\n\t\t   QDU1000_SLAVE_TCSR, QDU1000_SLAVE_TLMM,\n\t\t   QDU1000_SLAVE_TME_CFG, QDU1000_SLAVE_TSC_CFG,\n\t\t   QDU1000_SLAVE_USB3_0, QDU1000_SLAVE_VSENSE_CTRL_CFG,\n\t\t   QDU1000_SLAVE_DDRSS_CFG, QDU1000_SLAVE_IMEM,\n\t\t   QDU1000_SLAVE_PIMEM, QDU1000_SLAVE_ETHERNET_SS,\n\t\t   QDU1000_SLAVE_QDSS_STM, QDU1000_SLAVE_TCU\n\t},\n};\n\nstatic struct qcom_icc_node qnm_gemnoc_modem_slave = {\n\t.name = \"qnm_gemnoc_modem_slave\",\n\t.id = QDU1000_MASTER_GEMNOC_MODEM_CNOC,\n\t.channels = 1,\n\t.buswidth = 16,\n\t.num_links = 1,\n\t.links = { QDU1000_SLAVE_MODEM_OFFLINE },\n};\n\nstatic struct qcom_icc_node qnm_gemnoc_pcie = {\n\t.name = \"qnm_gemnoc_pcie\",\n\t.id = QDU1000_MASTER_GEM_NOC_PCIE_SNOC,\n\t.channels = 1,\n\t.buswidth = 16,\n\t.num_links = 1,\n\t.links = { QDU1000_SLAVE_PCIE_0 },\n};\n\nstatic struct qcom_icc_node qxm_crypto = {\n\t.name = \"qxm_crypto\",\n\t.id = QDU1000_MASTER_CRYPTO,\n\t.channels = 1,\n\t.buswidth = 8,\n\t.num_links = 1,\n\t.links = { QDU1000_SLAVE_A1NOC_SNOC },\n};\n\nstatic struct qcom_icc_node qxm_ecpri_gsi = {\n\t.name = \"qxm_ecpri_gsi\",\n\t.id = QDU1000_MASTER_ECPRI_GSI,\n\t.channels = 1,\n\t.buswidth = 8,\n\t.num_links = 2,\n\t.links = { QDU1000_SLAVE_ANOC_SNOC_GSI, QDU1000_SLAVE_PCIE_0 },\n};\n\nstatic struct qcom_icc_node qxm_pimem = {\n\t.name = \"qxm_pimem\",\n\t.id = QDU1000_MASTER_PIMEM,\n\t.channels = 1,\n\t.buswidth = 8,\n\t.num_links = 1,\n\t.links = { QDU1000_SLAVE_SNOC_GEM_NOC_GC },\n};\n\nstatic struct qcom_icc_node xm_ecpri_dma = {\n\t.name = \"xm_ecpri_dma\",\n\t.id = QDU1000_MASTER_SNOC_ECPRI_DMA,\n\t.channels = 2,\n\t.buswidth = 32,\n\t.num_links = 2,\n\t.links = { QDU1000_SLAVE_ECPRI_GEMNOC, QDU1000_SLAVE_PCIE_0 },\n};\n\nstatic struct qcom_icc_node xm_gic = {\n\t.name = \"xm_gic\",\n\t.id = QDU1000_MASTER_GIC,\n\t.channels = 1,\n\t.buswidth = 8,\n\t.num_links = 1,\n\t.links = { QDU1000_SLAVE_SNOC_GEM_NOC_GC },\n};\n\nstatic struct qcom_icc_node xm_pcie = {\n\t.name = \"xm_pcie\",\n\t.id = QDU1000_MASTER_PCIE,\n\t.channels = 1,\n\t.buswidth = 64,\n\t.num_links = 1,\n\t.links = { QDU1000_SLAVE_ANOC_PCIE_GEM_NOC },\n};\n\nstatic struct qcom_icc_node xm_qdss_etr0 = {\n\t.name = \"xm_qdss_etr0\",\n\t.id = QDU1000_MASTER_QDSS_ETR,\n\t.channels = 1,\n\t.buswidth = 8,\n\t.num_links = 1,\n\t.links = { QDU1000_SLAVE_SNOC_GEM_NOC_SF },\n};\n\nstatic struct qcom_icc_node xm_qdss_etr1 = {\n\t.name = \"xm_qdss_etr1\",\n\t.id = QDU1000_MASTER_QDSS_ETR_1,\n\t.channels = 1,\n\t.buswidth = 8,\n\t.num_links = 1,\n\t.links = { QDU1000_SLAVE_SNOC_GEM_NOC_SF },\n};\n\nstatic struct qcom_icc_node xm_sdc = {\n\t.name = \"xm_sdc\",\n\t.id = QDU1000_MASTER_SDCC_1,\n\t.channels = 1,\n\t.buswidth = 8,\n\t.num_links = 1,\n\t.links = { QDU1000_SLAVE_A1NOC_SNOC },\n};\n\nstatic struct qcom_icc_node xm_usb3 = {\n\t.name = \"xm_usb3\",\n\t.id = QDU1000_MASTER_USB3,\n\t.channels = 1,\n\t.buswidth = 8,\n\t.num_links = 1,\n\t.links = { QDU1000_SLAVE_A1NOC_SNOC },\n};\n\nstatic struct qcom_icc_node qup0_core_slave = {\n\t.name = \"qup0_core_slave\",\n\t.id = QDU1000_SLAVE_QUP_CORE_0,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qup1_core_slave = {\n\t.name = \"qup1_core_slave\",\n\t.id = QDU1000_SLAVE_QUP_CORE_1,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qns_gem_noc_cnoc = {\n\t.name = \"qns_gem_noc_cnoc\",\n\t.id = QDU1000_SLAVE_GEM_NOC_CNOC,\n\t.channels = 1,\n\t.buswidth = 16,\n\t.num_links = 1,\n\t.links = { QDU1000_MASTER_GEM_NOC_CNOC },\n};\n\nstatic struct qcom_icc_node qns_llcc = {\n\t.name = \"qns_llcc\",\n\t.id = QDU1000_SLAVE_LLCC,\n\t.channels = 8,\n\t.buswidth = 16,\n\t.num_links = 1,\n\t.links = { QDU1000_MASTER_LLCC },\n};\n\nstatic struct qcom_icc_node qns_modem_slave = {\n\t.name = \"qns_modem_slave\",\n\t.id = QDU1000_SLAVE_GEMNOC_MODEM_CNOC,\n\t.channels = 1,\n\t.buswidth = 16,\n\t.num_links = 1,\n\t.links = { QDU1000_MASTER_GEMNOC_MODEM_CNOC },\n};\n\nstatic struct qcom_icc_node qns_pcie = {\n\t.name = \"qns_pcie\",\n\t.id = QDU1000_SLAVE_MEM_NOC_PCIE_SNOC,\n\t.channels = 1,\n\t.buswidth = 16,\n\t.num_links = 1,\n\t.links = { QDU1000_MASTER_GEM_NOC_PCIE_SNOC },\n};\n\nstatic struct qcom_icc_node ebi = {\n\t.name = \"ebi\",\n\t.id = QDU1000_SLAVE_EBI1,\n\t.channels = 8,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_ahb2phy0_south = {\n\t.name = \"qhs_ahb2phy0_south\",\n\t.id = QDU1000_SLAVE_AHB2PHY_SOUTH,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_ahb2phy1_north = {\n\t.name = \"qhs_ahb2phy1_north\",\n\t.id = QDU1000_SLAVE_AHB2PHY_NORTH,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_ahb2phy2_east = {\n\t.name = \"qhs_ahb2phy2_east\",\n\t.id = QDU1000_SLAVE_AHB2PHY_EAST,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_aoss = {\n\t.name = \"qhs_aoss\",\n\t.id = QDU1000_SLAVE_AOSS,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_clk_ctl = {\n\t.name = \"qhs_clk_ctl\",\n\t.id = QDU1000_SLAVE_CLK_CTL,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_cpr_cx = {\n\t.name = \"qhs_cpr_cx\",\n\t.id = QDU1000_SLAVE_RBCPR_CX_CFG,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_cpr_mx = {\n\t.name = \"qhs_cpr_mx\",\n\t.id = QDU1000_SLAVE_RBCPR_MX_CFG,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_crypto_cfg = {\n\t.name = \"qhs_crypto_cfg\",\n\t.id = QDU1000_SLAVE_CRYPTO_0_CFG,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_ecpri_cfg = {\n\t.name = \"qhs_ecpri_cfg\",\n\t.id = QDU1000_SLAVE_ECPRI_CFG,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_imem_cfg = {\n\t.name = \"qhs_imem_cfg\",\n\t.id = QDU1000_SLAVE_IMEM_CFG,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_ipc_router = {\n\t.name = \"qhs_ipc_router\",\n\t.id = QDU1000_SLAVE_IPC_ROUTER_CFG,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_mss_cfg = {\n\t.name = \"qhs_mss_cfg\",\n\t.id = QDU1000_SLAVE_CNOC_MSS,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_pcie_cfg = {\n\t.name = \"qhs_pcie_cfg\",\n\t.id = QDU1000_SLAVE_PCIE_CFG,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_pdm = {\n\t.name = \"qhs_pdm\",\n\t.id = QDU1000_SLAVE_PDM,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_pimem_cfg = {\n\t.name = \"qhs_pimem_cfg\",\n\t.id = QDU1000_SLAVE_PIMEM_CFG,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_prng = {\n\t.name = \"qhs_prng\",\n\t.id = QDU1000_SLAVE_PRNG,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_qdss_cfg = {\n\t.name = \"qhs_qdss_cfg\",\n\t.id = QDU1000_SLAVE_QDSS_CFG,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_qpic = {\n\t.name = \"qhs_qpic\",\n\t.id = QDU1000_SLAVE_QPIC,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_qspi = {\n\t.name = \"qhs_qspi\",\n\t.id = QDU1000_SLAVE_QSPI_0,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_qup0 = {\n\t.name = \"qhs_qup0\",\n\t.id = QDU1000_SLAVE_QUP_0,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_qup1 = {\n\t.name = \"qhs_qup1\",\n\t.id = QDU1000_SLAVE_QUP_1,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_sdc2 = {\n\t.name = \"qhs_sdc2\",\n\t.id = QDU1000_SLAVE_SDCC_2,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_smbus_cfg = {\n\t.name = \"qhs_smbus_cfg\",\n\t.id = QDU1000_SLAVE_SMBUS_CFG,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_system_noc_cfg = {\n\t.name = \"qhs_system_noc_cfg\",\n\t.id = QDU1000_SLAVE_SNOC_CFG,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 1,\n\t.links = { QDU1000_MASTER_SNOC_CFG },\n};\n\nstatic struct qcom_icc_node qhs_tcsr = {\n\t.name = \"qhs_tcsr\",\n\t.id = QDU1000_SLAVE_TCSR,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_tlmm = {\n\t.name = \"qhs_tlmm\",\n\t.id = QDU1000_SLAVE_TLMM,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_tme_cfg = {\n\t.name = \"qhs_tme_cfg\",\n\t.id = QDU1000_SLAVE_TME_CFG,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_tsc_cfg = {\n\t.name = \"qhs_tsc_cfg\",\n\t.id = QDU1000_SLAVE_TSC_CFG,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_usb3 = {\n\t.name = \"qhs_usb3\",\n\t.id = QDU1000_SLAVE_USB3_0,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qhs_vsense_ctrl_cfg = {\n\t.name = \"qhs_vsense_ctrl_cfg\",\n\t.id = QDU1000_SLAVE_VSENSE_CTRL_CFG,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qns_a1noc_snoc = {\n\t.name = \"qns_a1noc_snoc\",\n\t.id = QDU1000_SLAVE_A1NOC_SNOC,\n\t.channels = 1,\n\t.buswidth = 8,\n\t.num_links = 1,\n\t.links = { QDU1000_MASTER_ANOC_SNOC },\n};\n\nstatic struct qcom_icc_node qns_anoc_snoc_gsi = {\n\t.name = \"qns_anoc_snoc_gsi\",\n\t.id = QDU1000_SLAVE_ANOC_SNOC_GSI,\n\t.channels = 1,\n\t.buswidth = 8,\n\t.num_links = 1,\n\t.links = { QDU1000_MASTER_ANOC_GSI },\n};\n\nstatic struct qcom_icc_node qns_ddrss_cfg = {\n\t.name = \"qns_ddrss_cfg\",\n\t.id = QDU1000_SLAVE_DDRSS_CFG,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qns_ecpri_gemnoc = {\n\t.name = \"qns_ecpri_gemnoc\",\n\t.id = QDU1000_SLAVE_ECPRI_GEMNOC,\n\t.channels = 2,\n\t.buswidth = 32,\n\t.num_links = 1,\n\t.links = { QDU1000_MASTER_GEMNOC_ECPRI_DMA },\n};\n\nstatic struct qcom_icc_node qns_gemnoc_gc = {\n\t.name = \"qns_gemnoc_gc\",\n\t.id = QDU1000_SLAVE_SNOC_GEM_NOC_GC,\n\t.channels = 1,\n\t.buswidth = 8,\n\t.num_links = 1,\n\t.links = { QDU1000_MASTER_SNOC_GC_MEM_NOC },\n};\n\nstatic struct qcom_icc_node qns_gemnoc_sf = {\n\t.name = \"qns_gemnoc_sf\",\n\t.id = QDU1000_SLAVE_SNOC_GEM_NOC_SF,\n\t.channels = 1,\n\t.buswidth = 16,\n\t.num_links = 1,\n\t.links = { QDU1000_MASTER_SNOC_SF_MEM_NOC },\n};\n\nstatic struct qcom_icc_node qns_modem = {\n\t.name = \"qns_modem\",\n\t.id = QDU1000_SLAVE_MODEM_OFFLINE,\n\t.channels = 1,\n\t.buswidth = 32,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qns_pcie_gemnoc = {\n\t.name = \"qns_pcie_gemnoc\",\n\t.id = QDU1000_SLAVE_ANOC_PCIE_GEM_NOC,\n\t.channels = 1,\n\t.buswidth = 64,\n\t.num_links = 1,\n\t.links = { QDU1000_MASTER_ANOC_PCIE_GEM_NOC },\n};\n\nstatic struct qcom_icc_node qxs_imem = {\n\t.name = \"qxs_imem\",\n\t.id = QDU1000_SLAVE_IMEM,\n\t.channels = 1,\n\t.buswidth = 8,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node qxs_pimem = {\n\t.name = \"qxs_pimem\",\n\t.id = QDU1000_SLAVE_PIMEM,\n\t.channels = 1,\n\t.buswidth = 8,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node srvc_system_noc = {\n\t.name = \"srvc_system_noc\",\n\t.id = QDU1000_SLAVE_SERVICE_SNOC,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node xs_ethernet_ss = {\n\t.name = \"xs_ethernet_ss\",\n\t.id = QDU1000_SLAVE_ETHERNET_SS,\n\t.channels = 1,\n\t.buswidth = 32,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node xs_pcie = {\n\t.name = \"xs_pcie\",\n\t.id = QDU1000_SLAVE_PCIE_0,\n\t.channels = 1,\n\t.buswidth = 64,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node xs_qdss_stm = {\n\t.name = \"xs_qdss_stm\",\n\t.id = QDU1000_SLAVE_QDSS_STM,\n\t.channels = 1,\n\t.buswidth = 4,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_node xs_sys_tcu_cfg = {\n\t.name = \"xs_sys_tcu_cfg\",\n\t.id = QDU1000_SLAVE_TCU,\n\t.channels = 1,\n\t.buswidth = 8,\n\t.num_links = 0,\n};\n\nstatic struct qcom_icc_bcm bcm_acv = {\n\t.name = \"ACV\",\n\t.enable_mask = BIT(3),\n\t.num_nodes = 1,\n\t.nodes = { &ebi },\n};\n\nstatic struct qcom_icc_bcm bcm_ce0 = {\n\t.name = \"CE0\",\n\t.num_nodes = 1,\n\t.nodes = { &qxm_crypto },\n};\n\nstatic struct qcom_icc_bcm bcm_cn0 = {\n\t.name = \"CN0\",\n\t.num_nodes = 44,\n\t.nodes = { &qhm_qpic, &qhm_qspi,\n\t\t   &qnm_gemnoc_cnoc, &qnm_gemnoc_modem_slave,\n\t\t   &qnm_gemnoc_pcie, &xm_sdc,\n\t\t   &xm_usb3, &qhs_ahb2phy0_south,\n\t\t   &qhs_ahb2phy1_north, &qhs_ahb2phy2_east,\n\t\t   &qhs_aoss, &qhs_clk_ctl,\n\t\t   &qhs_cpr_cx, &qhs_cpr_mx,\n\t\t   &qhs_crypto_cfg, &qhs_ecpri_cfg,\n\t\t   &qhs_imem_cfg, &qhs_ipc_router,\n\t\t   &qhs_mss_cfg, &qhs_pcie_cfg,\n\t\t   &qhs_pdm, &qhs_pimem_cfg,\n\t\t   &qhs_prng, &qhs_qdss_cfg,\n\t\t   &qhs_qpic, &qhs_qspi,\n\t\t   &qhs_qup0, &qhs_qup1,\n\t\t   &qhs_sdc2, &qhs_smbus_cfg,\n\t\t   &qhs_system_noc_cfg, &qhs_tcsr,\n\t\t   &qhs_tlmm, &qhs_tme_cfg,\n\t\t   &qhs_tsc_cfg, &qhs_usb3,\n\t\t   &qhs_vsense_ctrl_cfg, &qns_ddrss_cfg,\n\t\t   &qns_modem, &qxs_imem,\n\t\t   &qxs_pimem, &xs_ethernet_ss,\n\t\t   &xs_qdss_stm, &xs_sys_tcu_cfg\n\t},\n};\n\nstatic struct qcom_icc_bcm bcm_mc0 = {\n\t.name = \"MC0\",\n\t.num_nodes = 1,\n\t.nodes = { &ebi },\n};\n\nstatic struct qcom_icc_bcm bcm_qup0 = {\n\t.name = \"QUP0\",\n\t.num_nodes = 2,\n\t.nodes = { &qup0_core_slave, &qup1_core_slave },\n};\n\nstatic struct qcom_icc_bcm bcm_sh0 = {\n\t.name = \"SH0\",\n\t.num_nodes = 1,\n\t.nodes = { &qns_llcc },\n};\n\nstatic struct qcom_icc_bcm bcm_sh1 = {\n\t.name = \"SH1\",\n\t.num_nodes = 11,\n\t.nodes = { &alm_sys_tcu, &chm_apps,\n\t\t   &qnm_ecpri_dma, &qnm_fec_2_gemnoc,\n\t\t   &qnm_pcie, &qnm_snoc_gc,\n\t\t   &qnm_snoc_sf, &qxm_mdsp,\n\t\t   &qns_gem_noc_cnoc, &qns_modem_slave,\n\t\t   &qns_pcie\n\t},\n};\n\nstatic struct qcom_icc_bcm bcm_sn0 = {\n\t.name = \"SN0\",\n\t.num_nodes = 1,\n\t.nodes = { &qns_gemnoc_sf },\n};\n\nstatic struct qcom_icc_bcm bcm_sn1 = {\n\t.name = \"SN1\",\n\t.num_nodes = 6,\n\t.nodes = { &qhm_gic, &qxm_pimem,\n\t\t   &xm_gic, &xm_qdss_etr0,\n\t\t   &xm_qdss_etr1, &qns_gemnoc_gc\n\t},\n};\n\nstatic struct qcom_icc_bcm bcm_sn2 = {\n\t.name = \"SN2\",\n\t.num_nodes = 5,\n\t.nodes = { &qnm_aggre_noc, &qxm_ecpri_gsi,\n\t\t   &xm_ecpri_dma, &qns_anoc_snoc_gsi,\n\t\t   &qns_ecpri_gemnoc\n\t},\n};\n\nstatic struct qcom_icc_bcm bcm_sn7 = {\n\t.name = \"SN7\",\n\t.num_nodes = 2,\n\t.nodes = { &qns_pcie_gemnoc, &xs_pcie },\n};\n\nstatic struct qcom_icc_bcm * const clk_virt_bcms[] = {\n\t&bcm_qup0,\n};\n\nstatic struct qcom_icc_node * const clk_virt_nodes[] = {\n\t[MASTER_QUP_CORE_0] = &qup0_core_master,\n\t[MASTER_QUP_CORE_1] = &qup1_core_master,\n\t[SLAVE_QUP_CORE_0] = &qup0_core_slave,\n\t[SLAVE_QUP_CORE_1] = &qup1_core_slave,\n};\n\nstatic const struct qcom_icc_desc qdu1000_clk_virt = {\n\t.nodes = clk_virt_nodes,\n\t.num_nodes = ARRAY_SIZE(clk_virt_nodes),\n\t.bcms = clk_virt_bcms,\n\t.num_bcms = ARRAY_SIZE(clk_virt_bcms),\n};\n\nstatic struct qcom_icc_bcm * const gem_noc_bcms[] = {\n\t&bcm_sh0,\n\t&bcm_sh1,\n};\n\nstatic struct qcom_icc_node * const gem_noc_nodes[] = {\n\t[MASTER_SYS_TCU] = &alm_sys_tcu,\n\t[MASTER_APPSS_PROC] = &chm_apps,\n\t[MASTER_GEMNOC_ECPRI_DMA] = &qnm_ecpri_dma,\n\t[MASTER_FEC_2_GEMNOC] = &qnm_fec_2_gemnoc,\n\t[MASTER_ANOC_PCIE_GEM_NOC] = &qnm_pcie,\n\t[MASTER_SNOC_GC_MEM_NOC] = &qnm_snoc_gc,\n\t[MASTER_SNOC_SF_MEM_NOC] = &qnm_snoc_sf,\n\t[MASTER_MSS_PROC] = &qxm_mdsp,\n\t[SLAVE_GEM_NOC_CNOC] = &qns_gem_noc_cnoc,\n\t[SLAVE_LLCC] = &qns_llcc,\n\t[SLAVE_GEMNOC_MODEM_CNOC] = &qns_modem_slave,\n\t[SLAVE_MEM_NOC_PCIE_SNOC] = &qns_pcie,\n};\n\nstatic const struct qcom_icc_desc qdu1000_gem_noc = {\n\t.nodes = gem_noc_nodes,\n\t.num_nodes = ARRAY_SIZE(gem_noc_nodes),\n\t.bcms = gem_noc_bcms,\n\t.num_bcms = ARRAY_SIZE(gem_noc_bcms),\n};\n\nstatic struct qcom_icc_bcm * const mc_virt_bcms[] = {\n\t&bcm_acv,\n\t&bcm_mc0,\n};\n\nstatic struct qcom_icc_node * const mc_virt_nodes[] = {\n\t[MASTER_LLCC] = &llcc_mc,\n\t[SLAVE_EBI1] = &ebi,\n};\n\nstatic const struct qcom_icc_desc qdu1000_mc_virt = {\n\t.nodes = mc_virt_nodes,\n\t.num_nodes = ARRAY_SIZE(mc_virt_nodes),\n\t.bcms = mc_virt_bcms,\n\t.num_bcms = ARRAY_SIZE(mc_virt_bcms),\n};\n\nstatic struct qcom_icc_bcm * const system_noc_bcms[] = {\n\t&bcm_ce0,\n\t&bcm_cn0,\n\t&bcm_sn0,\n\t&bcm_sn1,\n\t&bcm_sn2,\n\t&bcm_sn7,\n};\n\nstatic struct qcom_icc_node * const system_noc_nodes[] = {\n\t[MASTER_GIC_AHB] = &qhm_gic,\n\t[MASTER_QDSS_BAM] = &qhm_qdss_bam,\n\t[MASTER_QPIC] = &qhm_qpic,\n\t[MASTER_QSPI_0] = &qhm_qspi,\n\t[MASTER_QUP_0] = &qhm_qup0,\n\t[MASTER_QUP_1] = &qhm_qup1,\n\t[MASTER_SNOC_CFG] = &qhm_system_noc_cfg,\n\t[MASTER_ANOC_SNOC] = &qnm_aggre_noc,\n\t[MASTER_ANOC_GSI] = &qnm_aggre_noc_gsi,\n\t[MASTER_GEM_NOC_CNOC] = &qnm_gemnoc_cnoc,\n\t[MASTER_GEMNOC_MODEM_CNOC] = &qnm_gemnoc_modem_slave,\n\t[MASTER_GEM_NOC_PCIE_SNOC] = &qnm_gemnoc_pcie,\n\t[MASTER_CRYPTO] = &qxm_crypto,\n\t[MASTER_ECPRI_GSI] = &qxm_ecpri_gsi,\n\t[MASTER_PIMEM] = &qxm_pimem,\n\t[MASTER_SNOC_ECPRI_DMA] = &xm_ecpri_dma,\n\t[MASTER_GIC] = &xm_gic,\n\t[MASTER_PCIE] = &xm_pcie,\n\t[MASTER_QDSS_ETR] = &xm_qdss_etr0,\n\t[MASTER_QDSS_ETR_1] = &xm_qdss_etr1,\n\t[MASTER_SDCC_1] = &xm_sdc,\n\t[MASTER_USB3] = &xm_usb3,\n\t[SLAVE_AHB2PHY_SOUTH] = &qhs_ahb2phy0_south,\n\t[SLAVE_AHB2PHY_NORTH] = &qhs_ahb2phy1_north,\n\t[SLAVE_AHB2PHY_EAST] = &qhs_ahb2phy2_east,\n\t[SLAVE_AOSS] = &qhs_aoss,\n\t[SLAVE_CLK_CTL] = &qhs_clk_ctl,\n\t[SLAVE_RBCPR_CX_CFG] = &qhs_cpr_cx,\n\t[SLAVE_RBCPR_MX_CFG] = &qhs_cpr_mx,\n\t[SLAVE_CRYPTO_0_CFG] = &qhs_crypto_cfg,\n\t[SLAVE_ECPRI_CFG] = &qhs_ecpri_cfg,\n\t[SLAVE_IMEM_CFG] = &qhs_imem_cfg,\n\t[SLAVE_IPC_ROUTER_CFG] = &qhs_ipc_router,\n\t[SLAVE_CNOC_MSS] = &qhs_mss_cfg,\n\t[SLAVE_PCIE_CFG] = &qhs_pcie_cfg,\n\t[SLAVE_PDM] = &qhs_pdm,\n\t[SLAVE_PIMEM_CFG] = &qhs_pimem_cfg,\n\t[SLAVE_PRNG] = &qhs_prng,\n\t[SLAVE_QDSS_CFG] = &qhs_qdss_cfg,\n\t[SLAVE_QPIC] = &qhs_qpic,\n\t[SLAVE_QSPI_0] = &qhs_qspi,\n\t[SLAVE_QUP_0] = &qhs_qup0,\n\t[SLAVE_QUP_1] = &qhs_qup1,\n\t[SLAVE_SDCC_2] = &qhs_sdc2,\n\t[SLAVE_SMBUS_CFG] = &qhs_smbus_cfg,\n\t[SLAVE_SNOC_CFG] = &qhs_system_noc_cfg,\n\t[SLAVE_TCSR] = &qhs_tcsr,\n\t[SLAVE_TLMM] = &qhs_tlmm,\n\t[SLAVE_TME_CFG] = &qhs_tme_cfg,\n\t[SLAVE_TSC_CFG] = &qhs_tsc_cfg,\n\t[SLAVE_USB3_0] = &qhs_usb3,\n\t[SLAVE_VSENSE_CTRL_CFG] = &qhs_vsense_ctrl_cfg,\n\t[SLAVE_A1NOC_SNOC] = &qns_a1noc_snoc,\n\t[SLAVE_ANOC_SNOC_GSI] = &qns_anoc_snoc_gsi,\n\t[SLAVE_DDRSS_CFG] = &qns_ddrss_cfg,\n\t[SLAVE_ECPRI_GEMNOC] = &qns_ecpri_gemnoc,\n\t[SLAVE_SNOC_GEM_NOC_GC] = &qns_gemnoc_gc,\n\t[SLAVE_SNOC_GEM_NOC_SF] = &qns_gemnoc_sf,\n\t[SLAVE_MODEM_OFFLINE] = &qns_modem,\n\t[SLAVE_ANOC_PCIE_GEM_NOC] = &qns_pcie_gemnoc,\n\t[SLAVE_IMEM] = &qxs_imem,\n\t[SLAVE_PIMEM] = &qxs_pimem,\n\t[SLAVE_SERVICE_SNOC] = &srvc_system_noc,\n\t[SLAVE_ETHERNET_SS] = &xs_ethernet_ss,\n\t[SLAVE_PCIE_0] = &xs_pcie,\n\t[SLAVE_QDSS_STM] = &xs_qdss_stm,\n\t[SLAVE_TCU] = &xs_sys_tcu_cfg,\n};\n\nstatic const struct qcom_icc_desc qdu1000_system_noc = {\n\t.nodes = system_noc_nodes,\n\t.num_nodes = ARRAY_SIZE(system_noc_nodes),\n\t.bcms = system_noc_bcms,\n\t.num_bcms = ARRAY_SIZE(system_noc_bcms),\n};\n\nstatic int qnoc_probe(struct platform_device *pdev)\n{\n\tint ret;\n\n\tret = qcom_icc_rpmh_probe(pdev);\n\tif (ret)\n\t\tdev_err(&pdev->dev, \"failed to register ICC provider\\n\");\n\n\treturn ret;\n}\n\nstatic const struct of_device_id qnoc_of_match[] = {\n\t{ .compatible = \"qcom,qdu1000-clk-virt\",\n\t  .data = &qdu1000_clk_virt\n\t},\n\t{ .compatible = \"qcom,qdu1000-gem-noc\",\n\t  .data = &qdu1000_gem_noc\n\t},\n\t{ .compatible = \"qcom,qdu1000-mc-virt\",\n\t  .data = &qdu1000_mc_virt\n\t},\n\t{ .compatible = \"qcom,qdu1000-system-noc\",\n\t  .data = &qdu1000_system_noc\n\t},\n\t{ }\n};\nMODULE_DEVICE_TABLE(of, qnoc_of_match);\n\nstatic struct platform_driver qnoc_driver = {\n\t.probe = qnoc_probe,\n\t.remove = qcom_icc_rpmh_remove,\n\t.driver = {\n\t\t.name = \"qnoc-qdu1000\",\n\t\t.of_match_table = qnoc_of_match,\n\t},\n};\n\nstatic int __init qnoc_driver_init(void)\n{\n\treturn platform_driver_register(&qnoc_driver);\n}\ncore_initcall(qnoc_driver_init);\n\nstatic void __exit qnoc_driver_exit(void)\n{\n\tplatform_driver_unregister(&qnoc_driver);\n}\nmodule_exit(qnoc_driver_exit);\n\nMODULE_DESCRIPTION(\"QDU1000 NoC driver\");\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}