{
  "module_name": "icc-rpmh.h",
  "hash_id": "2215c8ba1d78968776306bc4f0fa8a9c485ce11587ab21144187f0c8c0c45591",
  "original_prompt": "Ingested from linux-6.6.14/drivers/interconnect/qcom/icc-rpmh.h",
  "human_readable_source": " \n \n\n#ifndef __DRIVERS_INTERCONNECT_QCOM_ICC_RPMH_H__\n#define __DRIVERS_INTERCONNECT_QCOM_ICC_RPMH_H__\n\n#include <dt-bindings/interconnect/qcom,icc.h>\n\n#define to_qcom_provider(_provider) \\\n\tcontainer_of(_provider, struct qcom_icc_provider, provider)\n\n \nstruct qcom_icc_provider {\n\tstruct icc_provider provider;\n\tstruct device *dev;\n\tstruct qcom_icc_bcm * const *bcms;\n\tsize_t num_bcms;\n\tstruct bcm_voter *voter;\n};\n\n \nstruct bcm_db {\n\t__le32 unit;\n\t__le16 width;\n\tu8 vcd;\n\tu8 reserved;\n};\n\n#define MAX_LINKS\t\t128\n#define MAX_BCMS\t\t64\n#define MAX_BCM_PER_NODE\t3\n#define MAX_VCD\t\t\t10\n\n \nstruct qcom_icc_node {\n\tconst char *name;\n\tu16 links[MAX_LINKS];\n\tu16 id;\n\tu16 num_links;\n\tu16 channels;\n\tu16 buswidth;\n\tu64 sum_avg[QCOM_ICC_NUM_BUCKETS];\n\tu64 max_peak[QCOM_ICC_NUM_BUCKETS];\n\tstruct qcom_icc_bcm *bcms[MAX_BCM_PER_NODE];\n\tsize_t num_bcms;\n};\n\n \nstruct qcom_icc_bcm {\n\tconst char *name;\n\tu32 type;\n\tu32 addr;\n\tu64 vote_x[QCOM_ICC_NUM_BUCKETS];\n\tu64 vote_y[QCOM_ICC_NUM_BUCKETS];\n\tu64 vote_scale;\n\tu32 enable_mask;\n\tbool dirty;\n\tbool keepalive;\n\tstruct bcm_db aux_data;\n\tstruct list_head list;\n\tstruct list_head ws_list;\n\tsize_t num_nodes;\n\tstruct qcom_icc_node *nodes[];\n};\n\nstruct qcom_icc_fabric {\n\tstruct qcom_icc_node **nodes;\n\tsize_t num_nodes;\n};\n\nstruct qcom_icc_desc {\n\tstruct qcom_icc_node * const *nodes;\n\tsize_t num_nodes;\n\tstruct qcom_icc_bcm * const *bcms;\n\tsize_t num_bcms;\n};\n\nint qcom_icc_aggregate(struct icc_node *node, u32 tag, u32 avg_bw,\n\t\t       u32 peak_bw, u32 *agg_avg, u32 *agg_peak);\nint qcom_icc_set(struct icc_node *src, struct icc_node *dst);\nint qcom_icc_bcm_init(struct qcom_icc_bcm *bcm, struct device *dev);\nvoid qcom_icc_pre_aggregate(struct icc_node *node);\nint qcom_icc_rpmh_probe(struct platform_device *pdev);\nint qcom_icc_rpmh_remove(struct platform_device *pdev);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}