{
  "module_name": "imx8mq.c",
  "hash_id": "f5ff4bdef22ebc7178d614eab6afdb6f49d22e641d078249440e470edc37490a",
  "original_prompt": "Ingested from linux-6.6.14/drivers/interconnect/imx/imx8mq.c",
  "human_readable_source": "\n \n\n#include <linux/module.h>\n#include <linux/platform_device.h>\n#include <linux/interconnect-provider.h>\n#include <dt-bindings/interconnect/imx8mq.h>\n\n#include \"imx.h\"\n\nstatic const struct imx_icc_node_adj_desc imx8mq_dram_adj = {\n\t.bw_mul = 1,\n\t.bw_div = 4,\n\t.phandle_name = \"fsl,ddrc\",\n};\n\nstatic const struct imx_icc_node_adj_desc imx8mq_noc_adj = {\n\t.bw_mul = 1,\n\t.bw_div = 4,\n\t.main_noc = true,\n};\n\n \nstatic struct imx_icc_node_desc nodes[] = {\n\tDEFINE_BUS_INTERCONNECT(\"NOC\", IMX8MQ_ICN_NOC, &imx8mq_noc_adj,\n\t\t\tIMX8MQ_ICS_DRAM, IMX8MQ_ICN_MAIN),\n\n\tDEFINE_BUS_SLAVE(\"DRAM\", IMX8MQ_ICS_DRAM, &imx8mq_dram_adj),\n\tDEFINE_BUS_SLAVE(\"OCRAM\", IMX8MQ_ICS_OCRAM, NULL),\n\tDEFINE_BUS_MASTER(\"A53\", IMX8MQ_ICM_A53, IMX8MQ_ICN_NOC),\n\n\t \n\tDEFINE_BUS_MASTER(\"VPU\", IMX8MQ_ICM_VPU, IMX8MQ_ICN_VIDEO),\n\tDEFINE_BUS_INTERCONNECT(\"PL301_VIDEO\", IMX8MQ_ICN_VIDEO, NULL, IMX8MQ_ICN_NOC),\n\n\t \n\tDEFINE_BUS_MASTER(\"GPU\", IMX8MQ_ICM_GPU, IMX8MQ_ICN_GPU),\n\tDEFINE_BUS_INTERCONNECT(\"PL301_GPU\", IMX8MQ_ICN_GPU, NULL, IMX8MQ_ICN_NOC),\n\n\t \n\tDEFINE_BUS_MASTER(\"DC\", IMX8MQ_ICM_DCSS, IMX8MQ_ICN_DCSS),\n\tDEFINE_BUS_INTERCONNECT(\"PL301_DC\", IMX8MQ_ICN_DCSS, NULL, IMX8MQ_ICN_NOC),\n\n\t \n\tDEFINE_BUS_MASTER(\"USB1\", IMX8MQ_ICM_USB1, IMX8MQ_ICN_USB),\n\tDEFINE_BUS_MASTER(\"USB2\", IMX8MQ_ICM_USB2, IMX8MQ_ICN_USB),\n\tDEFINE_BUS_INTERCONNECT(\"PL301_USB\", IMX8MQ_ICN_USB, NULL, IMX8MQ_ICN_NOC),\n\n\t \n\tDEFINE_BUS_MASTER(\"CSI1\", IMX8MQ_ICM_CSI1, IMX8MQ_ICN_DISPLAY),\n\tDEFINE_BUS_MASTER(\"CSI2\", IMX8MQ_ICM_CSI2, IMX8MQ_ICN_DISPLAY),\n\tDEFINE_BUS_MASTER(\"LCDIF\", IMX8MQ_ICM_LCDIF, IMX8MQ_ICN_DISPLAY),\n\tDEFINE_BUS_INTERCONNECT(\"PL301_DISPLAY\", IMX8MQ_ICN_DISPLAY, NULL, IMX8MQ_ICN_MAIN),\n\n\t \n\tDEFINE_BUS_MASTER(\"SDMA2\", IMX8MQ_ICM_SDMA2, IMX8MQ_ICN_AUDIO),\n\tDEFINE_BUS_INTERCONNECT(\"PL301_AUDIO\", IMX8MQ_ICN_AUDIO, NULL, IMX8MQ_ICN_DISPLAY),\n\n\t \n\tDEFINE_BUS_MASTER(\"ENET\", IMX8MQ_ICM_ENET, IMX8MQ_ICN_ENET),\n\tDEFINE_BUS_INTERCONNECT(\"PL301_ENET\", IMX8MQ_ICN_ENET, NULL, IMX8MQ_ICN_MAIN),\n\n\t \n\tDEFINE_BUS_MASTER(\"SDMA1\", IMX8MQ_ICM_SDMA1, IMX8MQ_ICN_MAIN),\n\tDEFINE_BUS_MASTER(\"NAND\", IMX8MQ_ICM_NAND, IMX8MQ_ICN_MAIN),\n\tDEFINE_BUS_MASTER(\"USDHC1\", IMX8MQ_ICM_USDHC1, IMX8MQ_ICN_MAIN),\n\tDEFINE_BUS_MASTER(\"USDHC2\", IMX8MQ_ICM_USDHC2, IMX8MQ_ICN_MAIN),\n\tDEFINE_BUS_MASTER(\"PCIE1\", IMX8MQ_ICM_PCIE1, IMX8MQ_ICN_MAIN),\n\tDEFINE_BUS_MASTER(\"PCIE2\", IMX8MQ_ICM_PCIE2, IMX8MQ_ICN_MAIN),\n\tDEFINE_BUS_INTERCONNECT(\"PL301_MAIN\", IMX8MQ_ICN_MAIN, NULL,\n\t\t\tIMX8MQ_ICN_NOC, IMX8MQ_ICS_OCRAM),\n};\n\nstatic int imx8mq_icc_probe(struct platform_device *pdev)\n{\n\treturn imx_icc_register(pdev, nodes, ARRAY_SIZE(nodes), NULL);\n}\n\nstatic int imx8mq_icc_remove(struct platform_device *pdev)\n{\n\timx_icc_unregister(pdev);\n\n\treturn 0;\n}\n\nstatic struct platform_driver imx8mq_icc_driver = {\n\t.probe = imx8mq_icc_probe,\n\t.remove = imx8mq_icc_remove,\n\t.driver = {\n\t\t.name = \"imx8mq-interconnect\",\n\t\t.sync_state = icc_sync_state,\n\t},\n};\n\nmodule_platform_driver(imx8mq_icc_driver);\nMODULE_ALIAS(\"platform:imx8mq-interconnect\");\nMODULE_AUTHOR(\"Leonard Crestez <leonard.crestez@nxp.com>\");\nMODULE_LICENSE(\"GPL v2\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}