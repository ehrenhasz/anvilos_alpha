{
  "module_name": "imx8mm.c",
  "hash_id": "ff585f30585f0ff36afbaf99f003c7ef3ed5a126abe5949a971d2b10576f6877",
  "original_prompt": "Ingested from linux-6.6.14/drivers/interconnect/imx/imx8mm.c",
  "human_readable_source": "\n \n\n#include <linux/module.h>\n#include <linux/platform_device.h>\n#include <dt-bindings/interconnect/imx8mm.h>\n\n#include \"imx.h\"\n\nstatic const struct imx_icc_node_adj_desc imx8mm_dram_adj = {\n\t.bw_mul = 1,\n\t.bw_div = 16,\n\t.phandle_name = \"fsl,ddrc\",\n};\n\nstatic const struct imx_icc_node_adj_desc imx8mm_noc_adj = {\n\t.bw_mul = 1,\n\t.bw_div = 16,\n\t.main_noc = true,\n};\n\n \nstatic struct imx_icc_node_desc nodes[] = {\n\tDEFINE_BUS_INTERCONNECT(\"NOC\", IMX8MM_ICN_NOC, &imx8mm_noc_adj,\n\t\t\tIMX8MM_ICS_DRAM, IMX8MM_ICN_MAIN),\n\n\tDEFINE_BUS_SLAVE(\"DRAM\", IMX8MM_ICS_DRAM, &imx8mm_dram_adj),\n\tDEFINE_BUS_SLAVE(\"OCRAM\", IMX8MM_ICS_OCRAM, NULL),\n\tDEFINE_BUS_MASTER(\"A53\", IMX8MM_ICM_A53, IMX8MM_ICN_NOC),\n\n\t \n\tDEFINE_BUS_MASTER(\"VPU H1\", IMX8MM_ICM_VPU_H1, IMX8MM_ICN_VIDEO),\n\tDEFINE_BUS_MASTER(\"VPU G1\", IMX8MM_ICM_VPU_G1, IMX8MM_ICN_VIDEO),\n\tDEFINE_BUS_MASTER(\"VPU G2\", IMX8MM_ICM_VPU_G2, IMX8MM_ICN_VIDEO),\n\tDEFINE_BUS_INTERCONNECT(\"PL301_VIDEO\", IMX8MM_ICN_VIDEO, NULL, IMX8MM_ICN_NOC),\n\n\t \n\tDEFINE_BUS_MASTER(\"GPU 2D\", IMX8MM_ICM_GPU2D, IMX8MM_ICN_GPU),\n\tDEFINE_BUS_MASTER(\"GPU 3D\", IMX8MM_ICM_GPU3D, IMX8MM_ICN_GPU),\n\tDEFINE_BUS_INTERCONNECT(\"PL301_GPU\", IMX8MM_ICN_GPU, NULL, IMX8MM_ICN_NOC),\n\n\t \n\tDEFINE_BUS_MASTER(\"CSI\", IMX8MM_ICM_CSI, IMX8MM_ICN_MIPI),\n\tDEFINE_BUS_MASTER(\"LCDIF\", IMX8MM_ICM_LCDIF, IMX8MM_ICN_MIPI),\n\tDEFINE_BUS_INTERCONNECT(\"PL301_MIPI\", IMX8MM_ICN_MIPI, NULL, IMX8MM_ICN_NOC),\n\n\t \n\tDEFINE_BUS_MASTER(\"USB1\", IMX8MM_ICM_USB1, IMX8MM_ICN_HSIO),\n\tDEFINE_BUS_MASTER(\"USB2\", IMX8MM_ICM_USB2, IMX8MM_ICN_HSIO),\n\tDEFINE_BUS_MASTER(\"PCIE\", IMX8MM_ICM_PCIE, IMX8MM_ICN_HSIO),\n\tDEFINE_BUS_INTERCONNECT(\"PL301_HSIO\", IMX8MM_ICN_HSIO, NULL, IMX8MM_ICN_NOC),\n\n\t \n\tDEFINE_BUS_MASTER(\"SDMA2\", IMX8MM_ICM_SDMA2, IMX8MM_ICN_AUDIO),\n\tDEFINE_BUS_MASTER(\"SDMA3\", IMX8MM_ICM_SDMA3, IMX8MM_ICN_AUDIO),\n\tDEFINE_BUS_INTERCONNECT(\"PL301_AUDIO\", IMX8MM_ICN_AUDIO, NULL, IMX8MM_ICN_MAIN),\n\n\t \n\tDEFINE_BUS_MASTER(\"ENET\", IMX8MM_ICM_ENET, IMX8MM_ICN_ENET),\n\tDEFINE_BUS_INTERCONNECT(\"PL301_ENET\", IMX8MM_ICN_ENET, NULL, IMX8MM_ICN_MAIN),\n\n\t \n\tDEFINE_BUS_MASTER(\"SDMA1\", IMX8MM_ICM_SDMA1, IMX8MM_ICN_MAIN),\n\tDEFINE_BUS_MASTER(\"NAND\", IMX8MM_ICM_NAND, IMX8MM_ICN_MAIN),\n\tDEFINE_BUS_MASTER(\"USDHC1\", IMX8MM_ICM_USDHC1, IMX8MM_ICN_MAIN),\n\tDEFINE_BUS_MASTER(\"USDHC2\", IMX8MM_ICM_USDHC2, IMX8MM_ICN_MAIN),\n\tDEFINE_BUS_MASTER(\"USDHC3\", IMX8MM_ICM_USDHC3, IMX8MM_ICN_MAIN),\n\tDEFINE_BUS_INTERCONNECT(\"PL301_MAIN\", IMX8MM_ICN_MAIN, NULL,\n\t\t\tIMX8MM_ICN_NOC, IMX8MM_ICS_OCRAM),\n};\n\nstatic int imx8mm_icc_probe(struct platform_device *pdev)\n{\n\treturn imx_icc_register(pdev, nodes, ARRAY_SIZE(nodes), NULL);\n}\n\nstatic int imx8mm_icc_remove(struct platform_device *pdev)\n{\n\timx_icc_unregister(pdev);\n\n\treturn 0;\n}\n\nstatic struct platform_driver imx8mm_icc_driver = {\n\t.probe = imx8mm_icc_probe,\n\t.remove = imx8mm_icc_remove,\n\t.driver = {\n\t\t.name = \"imx8mm-interconnect\",\n\t},\n};\n\nmodule_platform_driver(imx8mm_icc_driver);\nMODULE_AUTHOR(\"Alexandre Bailon <abailon@baylibre.com>\");\nMODULE_LICENSE(\"GPL v2\");\nMODULE_ALIAS(\"platform:imx8mm-interconnect\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}