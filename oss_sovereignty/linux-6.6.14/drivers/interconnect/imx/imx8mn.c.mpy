{
  "module_name": "imx8mn.c",
  "hash_id": "06edb6c8f5fcba4e7c4d2fde132a794fdbe32ac4cecbae9cec4cb68750d3ee5d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/interconnect/imx/imx8mn.c",
  "human_readable_source": "\n \n\n#include <linux/module.h>\n#include <linux/platform_device.h>\n#include <dt-bindings/interconnect/imx8mn.h>\n\n#include \"imx.h\"\n\nstatic const struct imx_icc_node_adj_desc imx8mn_dram_adj = {\n\t.bw_mul = 1,\n\t.bw_div = 4,\n\t.phandle_name = \"fsl,ddrc\",\n};\n\nstatic const struct imx_icc_node_adj_desc imx8mn_noc_adj = {\n\t.bw_mul = 1,\n\t.bw_div = 4,\n\t.main_noc = true,\n};\n\n \nstatic struct imx_icc_node_desc nodes[] = {\n\tDEFINE_BUS_INTERCONNECT(\"NOC\", IMX8MN_ICN_NOC, &imx8mn_noc_adj,\n\t\t\tIMX8MN_ICS_DRAM, IMX8MN_ICN_MAIN),\n\n\tDEFINE_BUS_SLAVE(\"DRAM\", IMX8MN_ICS_DRAM, &imx8mn_dram_adj),\n\tDEFINE_BUS_SLAVE(\"OCRAM\", IMX8MN_ICS_OCRAM, NULL),\n\tDEFINE_BUS_MASTER(\"A53\", IMX8MN_ICM_A53, IMX8MN_ICN_NOC),\n\n\t \n\tDEFINE_BUS_MASTER(\"GPU\", IMX8MN_ICM_GPU, IMX8MN_ICN_GPU),\n\tDEFINE_BUS_INTERCONNECT(\"PL301_GPU\", IMX8MN_ICN_GPU, NULL, IMX8MN_ICN_NOC),\n\n\t \n\tDEFINE_BUS_MASTER(\"CSI1\", IMX8MN_ICM_CSI1, IMX8MN_ICN_MIPI),\n\tDEFINE_BUS_MASTER(\"CSI2\", IMX8MN_ICM_CSI2, IMX8MN_ICN_MIPI),\n\tDEFINE_BUS_MASTER(\"ISI\", IMX8MN_ICM_ISI, IMX8MN_ICN_MIPI),\n\tDEFINE_BUS_MASTER(\"LCDIF\", IMX8MN_ICM_LCDIF, IMX8MN_ICN_MIPI),\n\tDEFINE_BUS_INTERCONNECT(\"PL301_MIPI\", IMX8MN_ICN_MIPI, NULL, IMX8MN_ICN_NOC),\n\n\t \n\tDEFINE_BUS_MASTER(\"USB\", IMX8MN_ICM_USB, IMX8MN_ICN_NOC),\n\n\t \n\tDEFINE_BUS_MASTER(\"SDMA2\", IMX8MN_ICM_SDMA2, IMX8MN_ICN_AUDIO),\n\tDEFINE_BUS_MASTER(\"SDMA3\", IMX8MN_ICM_SDMA3, IMX8MN_ICN_AUDIO),\n\tDEFINE_BUS_INTERCONNECT(\"PL301_AUDIO\", IMX8MN_ICN_AUDIO, NULL, IMX8MN_ICN_MAIN),\n\n\t \n\tDEFINE_BUS_MASTER(\"ENET\", IMX8MN_ICM_ENET, IMX8MN_ICN_ENET),\n\tDEFINE_BUS_INTERCONNECT(\"PL301_ENET\", IMX8MN_ICN_ENET, NULL, IMX8MN_ICN_MAIN),\n\n\t \n\tDEFINE_BUS_MASTER(\"SDMA1\", IMX8MN_ICM_SDMA1, IMX8MN_ICN_MAIN),\n\tDEFINE_BUS_MASTER(\"NAND\", IMX8MN_ICM_NAND, IMX8MN_ICN_MAIN),\n\tDEFINE_BUS_MASTER(\"USDHC1\", IMX8MN_ICM_USDHC1, IMX8MN_ICN_MAIN),\n\tDEFINE_BUS_MASTER(\"USDHC2\", IMX8MN_ICM_USDHC2, IMX8MN_ICN_MAIN),\n\tDEFINE_BUS_MASTER(\"USDHC3\", IMX8MN_ICM_USDHC3, IMX8MN_ICN_MAIN),\n\tDEFINE_BUS_INTERCONNECT(\"PL301_MAIN\", IMX8MN_ICN_MAIN, NULL,\n\t\t\tIMX8MN_ICN_NOC, IMX8MN_ICS_OCRAM),\n};\n\nstatic int imx8mn_icc_probe(struct platform_device *pdev)\n{\n\treturn imx_icc_register(pdev, nodes, ARRAY_SIZE(nodes), NULL);\n}\n\nstatic int imx8mn_icc_remove(struct platform_device *pdev)\n{\n\timx_icc_unregister(pdev);\n\n\treturn 0;\n}\n\nstatic struct platform_driver imx8mn_icc_driver = {\n\t.probe = imx8mn_icc_probe,\n\t.remove = imx8mn_icc_remove,\n\t.driver = {\n\t\t.name = \"imx8mn-interconnect\",\n\t},\n};\n\nmodule_platform_driver(imx8mn_icc_driver);\nMODULE_ALIAS(\"platform:imx8mn-interconnect\");\nMODULE_AUTHOR(\"Leonard Crestez <leonard.crestez@nxp.com>\");\nMODULE_LICENSE(\"GPL v2\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}