{
  "module_name": "ntb_hw_gen1.h",
  "hash_id": "8c7adf5364b41fd2976b81ff94db68b05d7b1a7702b4982f598483440e77f619",
  "original_prompt": "Ingested from linux-6.6.14/drivers/ntb/hw/intel/ntb_hw_gen1.h",
  "human_readable_source": " \n\n#ifndef _NTB_INTEL_GEN1_H_\n#define _NTB_INTEL_GEN1_H_\n\n#include \"ntb_hw_intel.h\"\n\n \n#define XEON_PBAR23LMT_OFFSET\t\t0x0000\n#define XEON_PBAR45LMT_OFFSET\t\t0x0008\n#define XEON_PBAR4LMT_OFFSET\t\t0x0008\n#define XEON_PBAR5LMT_OFFSET\t\t0x000c\n#define XEON_PBAR23XLAT_OFFSET\t\t0x0010\n#define XEON_PBAR45XLAT_OFFSET\t\t0x0018\n#define XEON_PBAR4XLAT_OFFSET\t\t0x0018\n#define XEON_PBAR5XLAT_OFFSET\t\t0x001c\n#define XEON_SBAR23LMT_OFFSET\t\t0x0020\n#define XEON_SBAR45LMT_OFFSET\t\t0x0028\n#define XEON_SBAR4LMT_OFFSET\t\t0x0028\n#define XEON_SBAR5LMT_OFFSET\t\t0x002c\n#define XEON_SBAR23XLAT_OFFSET\t\t0x0030\n#define XEON_SBAR45XLAT_OFFSET\t\t0x0038\n#define XEON_SBAR4XLAT_OFFSET\t\t0x0038\n#define XEON_SBAR5XLAT_OFFSET\t\t0x003c\n#define XEON_SBAR0BASE_OFFSET\t\t0x0040\n#define XEON_SBAR23BASE_OFFSET\t\t0x0048\n#define XEON_SBAR45BASE_OFFSET\t\t0x0050\n#define XEON_SBAR4BASE_OFFSET\t\t0x0050\n#define XEON_SBAR5BASE_OFFSET\t\t0x0054\n#define XEON_SBDF_OFFSET\t\t0x005c\n#define XEON_NTBCNTL_OFFSET\t\t0x0058\n#define XEON_PDOORBELL_OFFSET\t\t0x0060\n#define XEON_PDBMSK_OFFSET\t\t0x0062\n#define XEON_SDOORBELL_OFFSET\t\t0x0064\n#define XEON_SDBMSK_OFFSET\t\t0x0066\n#define XEON_USMEMMISS_OFFSET\t\t0x0070\n#define XEON_SPAD_OFFSET\t\t0x0080\n#define XEON_PBAR23SZ_OFFSET\t\t0x00d0\n#define XEON_PBAR45SZ_OFFSET\t\t0x00d1\n#define XEON_PBAR4SZ_OFFSET\t\t0x00d1\n#define XEON_SBAR23SZ_OFFSET\t\t0x00d2\n#define XEON_SBAR45SZ_OFFSET\t\t0x00d3\n#define XEON_SBAR4SZ_OFFSET\t\t0x00d3\n#define XEON_PPD_OFFSET\t\t\t0x00d4\n#define XEON_PBAR5SZ_OFFSET\t\t0x00d5\n#define XEON_SBAR5SZ_OFFSET\t\t0x00d6\n#define XEON_WCCNTRL_OFFSET\t\t0x00e0\n#define XEON_UNCERRSTS_OFFSET\t\t0x014c\n#define XEON_CORERRSTS_OFFSET\t\t0x0158\n#define XEON_LINK_STATUS_OFFSET\t\t0x01a2\n#define XEON_SPCICMD_OFFSET\t\t0x0504\n#define XEON_DEVCTRL_OFFSET\t\t0x0598\n#define XEON_DEVSTS_OFFSET\t\t0x059a\n#define XEON_SLINK_STATUS_OFFSET\t0x05a2\n#define XEON_B2B_SPAD_OFFSET\t\t0x0100\n#define XEON_B2B_DOORBELL_OFFSET\t0x0140\n#define XEON_B2B_XLAT_OFFSETL\t\t0x0144\n#define XEON_B2B_XLAT_OFFSETU\t\t0x0148\n#define XEON_PPD_CONN_MASK\t\t0x03\n#define XEON_PPD_CONN_TRANSPARENT\t0x00\n#define XEON_PPD_CONN_B2B\t\t0x01\n#define XEON_PPD_CONN_RP\t\t0x02\n#define XEON_PPD_DEV_MASK\t\t0x10\n#define XEON_PPD_DEV_USD\t\t0x00\n#define XEON_PPD_DEV_DSD\t\t0x10\n#define XEON_PPD_SPLIT_BAR_MASK\t\t0x40\n\n#define XEON_PPD_TOPO_MASK\t(XEON_PPD_CONN_MASK | XEON_PPD_DEV_MASK)\n#define XEON_PPD_TOPO_PRI_USD\t(XEON_PPD_CONN_RP | XEON_PPD_DEV_USD)\n#define XEON_PPD_TOPO_PRI_DSD\t(XEON_PPD_CONN_RP | XEON_PPD_DEV_DSD)\n#define XEON_PPD_TOPO_SEC_USD\t(XEON_PPD_CONN_TRANSPARENT | XEON_PPD_DEV_USD)\n#define XEON_PPD_TOPO_SEC_DSD\t(XEON_PPD_CONN_TRANSPARENT | XEON_PPD_DEV_DSD)\n#define XEON_PPD_TOPO_B2B_USD\t(XEON_PPD_CONN_B2B | XEON_PPD_DEV_USD)\n#define XEON_PPD_TOPO_B2B_DSD\t(XEON_PPD_CONN_B2B | XEON_PPD_DEV_DSD)\n\n#define XEON_MW_COUNT\t\t\t2\n#define HSX_SPLIT_BAR_MW_COUNT\t\t3\n#define XEON_DB_COUNT\t\t\t15\n#define XEON_DB_LINK\t\t\t15\n#define XEON_DB_LINK_BIT\t\t\tBIT_ULL(XEON_DB_LINK)\n#define XEON_DB_MSIX_VECTOR_COUNT\t4\n#define XEON_DB_MSIX_VECTOR_SHIFT\t5\n#define XEON_DB_TOTAL_SHIFT\t\t16\n#define XEON_SPAD_COUNT\t\t\t16\n\n \n#define XEON_B2B_BAR0_ADDR\t0x1000000000000000ull\n#define XEON_B2B_BAR2_ADDR64\t0x2000000000000000ull\n#define XEON_B2B_BAR4_ADDR64\t0x4000000000000000ull\n#define XEON_B2B_BAR4_ADDR32\t0x20000000u\n#define XEON_B2B_BAR5_ADDR32\t0x40000000u\n\n \n#define XEON_B2B_MIN_SIZE\t\t0x8000\n\n \n#define NTB_HWERR_SDOORBELL_LOCKUP\tBIT_ULL(0)\n#define NTB_HWERR_SB01BASE_LOCKUP\tBIT_ULL(1)\n#define NTB_HWERR_B2BDOORBELL_BIT14\tBIT_ULL(2)\n#define NTB_HWERR_MSIX_VECTOR32_BAD\tBIT_ULL(3)\n#define NTB_HWERR_BAR_ALIGN\t\tBIT_ULL(4)\n#define NTB_HWERR_LTR_BAD\t\tBIT_ULL(5)\n\nextern struct intel_b2b_addr xeon_b2b_usd_addr;\nextern struct intel_b2b_addr xeon_b2b_dsd_addr;\n\nint ndev_init_isr(struct intel_ntb_dev *ndev, int msix_min, int msix_max,\n\t\tint msix_shift, int total_shift);\nenum ntb_topo xeon_ppd_topo(struct intel_ntb_dev *ndev, u8 ppd);\nvoid ndev_db_addr(struct intel_ntb_dev *ndev,\n\t\t\t\tphys_addr_t *db_addr, resource_size_t *db_size,\n\t\t\t\tphys_addr_t reg_addr, unsigned long reg);\nu64 ndev_db_read(struct intel_ntb_dev *ndev, void __iomem *mmio);\nint ndev_db_write(struct intel_ntb_dev *ndev, u64 db_bits,\n\t\t\t\tvoid __iomem *mmio);\nint ndev_mw_to_bar(struct intel_ntb_dev *ndev, int idx);\nint intel_ntb_mw_count(struct ntb_dev *ntb, int pidx);\nint intel_ntb_mw_get_align(struct ntb_dev *ntb, int pidx, int idx,\n\t\tresource_size_t *addr_align, resource_size_t *size_align,\n\t\tresource_size_t *size_max);\nint intel_ntb_peer_mw_count(struct ntb_dev *ntb);\nint intel_ntb_peer_mw_get_addr(struct ntb_dev *ntb, int idx,\n\t\tphys_addr_t *base, resource_size_t *size);\nu64 intel_ntb_link_is_up(struct ntb_dev *ntb, enum ntb_speed *speed,\n\t\tenum ntb_width *width);\nint intel_ntb_link_disable(struct ntb_dev *ntb);\nu64 intel_ntb_db_valid_mask(struct ntb_dev *ntb);\nint intel_ntb_db_vector_count(struct ntb_dev *ntb);\nu64 intel_ntb_db_vector_mask(struct ntb_dev *ntb, int db_vector);\nint intel_ntb_db_set_mask(struct ntb_dev *ntb, u64 db_bits);\nint intel_ntb_db_clear_mask(struct ntb_dev *ntb, u64 db_bits);\nint intel_ntb_spad_is_unsafe(struct ntb_dev *ntb);\nint intel_ntb_spad_count(struct ntb_dev *ntb);\nu32 intel_ntb_spad_read(struct ntb_dev *ntb, int idx);\nint intel_ntb_spad_write(struct ntb_dev *ntb, int idx, u32 val);\nu32 intel_ntb_peer_spad_read(struct ntb_dev *ntb, int pidx, int sidx);\nint intel_ntb_peer_spad_write(struct ntb_dev *ntb, int pidx, int sidx,\n\t\tu32 val);\nint intel_ntb_peer_spad_addr(struct ntb_dev *ntb, int pidx, int sidx,\n\t\t\t\t    phys_addr_t *spad_addr);\nint xeon_link_is_up(struct intel_ntb_dev *ndev);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}