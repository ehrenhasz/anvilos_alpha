{
  "module_name": "coresight-catu.h",
  "hash_id": "cb3e5c67b2c4a347fb6be1e91cdb12598aa623c213473e6d1025bbb569b92b93",
  "original_prompt": "Ingested from linux-6.6.14/drivers/hwtracing/coresight/coresight-catu.h",
  "human_readable_source": " \n \n\n#ifndef _CORESIGHT_CATU_H\n#define _CORESIGHT_CATU_H\n\n#include \"coresight-priv.h\"\n\n \n#define CATU_CONTROL\t\t0x000\n#define CATU_MODE\t\t0x004\n#define CATU_AXICTRL\t\t0x008\n#define CATU_IRQEN\t\t0x00c\n#define CATU_SLADDRLO\t\t0x020\n#define CATU_SLADDRHI\t\t0x024\n#define CATU_INADDRLO\t\t0x028\n#define CATU_INADDRHI\t\t0x02c\n#define CATU_STATUS\t\t0x100\n#define CATU_DEVARCH\t\t0xfbc\n\n#define CATU_CONTROL_ENABLE\t0\n\n#define CATU_MODE_PASS_THROUGH\t0U\n#define CATU_MODE_TRANSLATE\t1U\n\n#define CATU_AXICTRL_ARCACHE_SHIFT\t4\n#define CATU_AXICTRL_ARCACHE_MASK\t0xf\n#define CATU_AXICTRL_ARPROT_MASK\t0x3\n#define CATU_AXICTRL_ARCACHE(arcache)\t\t\\\n\t(((arcache) & CATU_AXICTRL_ARCACHE_MASK) << CATU_AXICTRL_ARCACHE_SHIFT)\n\n#define CATU_AXICTRL_VAL(arcache, arprot)\t\\\n\t(CATU_AXICTRL_ARCACHE(arcache) | ((arprot) & CATU_AXICTRL_ARPROT_MASK))\n\n#define AXI3_AxCACHE_WB_READ_ALLOC\t0x7\n \n#define CATU_OS_ARPROT\t\t\t0x2\n\n#define CATU_OS_AXICTRL\t\t\\\n\tCATU_AXICTRL_VAL(AXI3_AxCACHE_WB_READ_ALLOC, CATU_OS_ARPROT)\n\n#define CATU_STATUS_READY\t8\n#define CATU_STATUS_ADRERR\t0\n#define CATU_STATUS_AXIERR\t4\n\n#define CATU_IRQEN_ON\t\t0x1\n#define CATU_IRQEN_OFF\t\t0x0\n\nstruct catu_drvdata {\n\tvoid __iomem *base;\n\tstruct coresight_device *csdev;\n\tint irq;\n};\n\n#define CATU_REG32(name, offset)\t\t\t\t\t\\\nstatic inline u32\t\t\t\t\t\t\t\\\ncatu_read_##name(struct catu_drvdata *drvdata)\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\\\n\treturn csdev_access_relaxed_read32(&drvdata->csdev->access, offset); \\\n}\t\t\t\t\t\t\t\t\t\\\nstatic inline void\t\t\t\t\t\t\t\\\ncatu_write_##name(struct catu_drvdata *drvdata, u32 val)\t\t\\\n{\t\t\t\t\t\t\t\t\t\\\n\tcsdev_access_relaxed_write32(&drvdata->csdev->access, val, offset); \\\n}\n\n#define CATU_REG_PAIR(name, lo_off, hi_off)\t\t\t\t\\\nstatic inline u64\t\t\t\t\t\t\t\\\ncatu_read_##name(struct catu_drvdata *drvdata)\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\\\n\treturn csdev_access_relaxed_read_pair(&drvdata->csdev->access, lo_off, hi_off); \\\n}\t\t\t\t\t\t\t\t\t\\\nstatic inline void\t\t\t\t\t\t\t\\\ncatu_write_##name(struct catu_drvdata *drvdata, u64 val)\t\t\\\n{\t\t\t\t\t\t\t\t\t\\\n\tcsdev_access_relaxed_write_pair(&drvdata->csdev->access, val, lo_off, hi_off); \\\n}\n\nCATU_REG32(control, CATU_CONTROL);\nCATU_REG32(mode, CATU_MODE);\nCATU_REG32(irqen, CATU_IRQEN);\nCATU_REG32(axictrl, CATU_AXICTRL);\nCATU_REG_PAIR(sladdr, CATU_SLADDRLO, CATU_SLADDRHI)\nCATU_REG_PAIR(inaddr, CATU_INADDRLO, CATU_INADDRHI)\n\nstatic inline bool coresight_is_catu_device(struct coresight_device *csdev)\n{\n\tif (!IS_ENABLED(CONFIG_CORESIGHT_CATU))\n\t\treturn false;\n\tif (csdev->type != CORESIGHT_DEV_TYPE_HELPER)\n\t\treturn false;\n\tif (csdev->subtype.helper_subtype != CORESIGHT_DEV_SUBTYPE_HELPER_CATU)\n\t\treturn false;\n\treturn true;\n}\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}