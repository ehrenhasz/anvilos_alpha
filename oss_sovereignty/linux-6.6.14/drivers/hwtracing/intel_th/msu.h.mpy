{
  "module_name": "msu.h",
  "hash_id": "db6311e0c97d8b8fc956a7f4066bf184c6a128ce294bf5c939e2b95b7b3c7bc2",
  "original_prompt": "Ingested from linux-6.6.14/drivers/hwtracing/intel_th/msu.h",
  "human_readable_source": " \n \n\n#ifndef __INTEL_TH_MSU_H__\n#define __INTEL_TH_MSU_H__\n\nenum {\n\tREG_MSU_MSUPARAMS\t= 0x0000,\n\tREG_MSU_MSUSTS\t\t= 0x0008,\n\tREG_MSU_MINTCTL\t\t= 0x0004,  \n\tREG_MSU_MSC0CTL\t\t= 0x0100,  \n\tREG_MSU_MSC0STS\t\t= 0x0104,  \n\tREG_MSU_MSC0BAR\t\t= 0x0108,  \n\tREG_MSU_MSC0SIZE\t= 0x010c,  \n\tREG_MSU_MSC0MWP\t\t= 0x0110,  \n\tREG_MSU_MSC0NWSA\t= 0x011c,  \n\n\tREG_MSU_MSC1CTL\t\t= 0x0200,  \n\tREG_MSU_MSC1STS\t\t= 0x0204,  \n\tREG_MSU_MSC1BAR\t\t= 0x0208,  \n\tREG_MSU_MSC1SIZE\t= 0x020c,  \n\tREG_MSU_MSC1MWP\t\t= 0x0210,  \n\tREG_MSU_MSC1NWSA\t= 0x021c,  \n};\n\n \n#define MSUSTS_MSU_INT\tBIT(0)\n#define MSUSTS_MSC0BLAST\tBIT(16)\n#define MSUSTS_MSC1BLAST\tBIT(24)\n\n \n#define MSC_EN\t\tBIT(0)\n#define MSC_WRAPEN\tBIT(1)\n#define MSC_RD_HDR_OVRD\tBIT(2)\n#define MSC_MODE\t(BIT(4) | BIT(5))\n#define MSC_LEN\t\t(BIT(8) | BIT(9) | BIT(10))\n\n \n#define MICDE\t\tBIT(0)\n#define M0BLIE\t\tBIT(16)\n#define M1BLIE\t\tBIT(24)\n\n \n#define MSCSTS_WRAPSTAT\tBIT(1)\t \n#define MSCSTS_PLE\tBIT(2)\t \n\n \nstruct msc_block_desc {\n\tu32\tsw_tag;\n\tu32\tblock_sz;\n\tu32\tnext_blk;\n\tu32\tnext_win;\n\tu32\tres0[4];\n\tu32\thw_tag;\n\tu32\tvalid_dw;\n\tu32\tts_low;\n\tu32\tts_high;\n\tu32\tres1[4];\n} __packed;\n\n#define MSC_BDESC\tsizeof(struct msc_block_desc)\n#define DATA_IN_PAGE\t(PAGE_SIZE - MSC_BDESC)\n\n \n#define MSC_SW_TAG_LASTBLK\tBIT(0)\n#define MSC_SW_TAG_LASTWIN\tBIT(1)\n\n \n#define MSC_HW_TAG_TRIGGER\tBIT(0)\n#define MSC_HW_TAG_BLOCKWRAP\tBIT(1)\n#define MSC_HW_TAG_WINWRAP\tBIT(2)\n#define MSC_HW_TAG_ENDBIT\tBIT(3)\n\nstatic inline unsigned long msc_data_sz(struct msc_block_desc *bdesc)\n{\n\tif (!bdesc->valid_dw)\n\t\treturn 0;\n\n\treturn bdesc->valid_dw * 4 - MSC_BDESC;\n}\n\nstatic inline unsigned long msc_total_sz(struct msc_block_desc *bdesc)\n{\n\treturn bdesc->valid_dw * 4;\n}\n\nstatic inline unsigned long msc_block_sz(struct msc_block_desc *bdesc)\n{\n\treturn bdesc->block_sz * 64 - MSC_BDESC;\n}\n\nstatic inline bool msc_block_wrapped(struct msc_block_desc *bdesc)\n{\n\tif (bdesc->hw_tag & (MSC_HW_TAG_BLOCKWRAP | MSC_HW_TAG_WINWRAP))\n\t\treturn true;\n\n\treturn false;\n}\n\nstatic inline bool msc_block_last_written(struct msc_block_desc *bdesc)\n{\n\tif ((bdesc->hw_tag & MSC_HW_TAG_ENDBIT) ||\n\t    (msc_data_sz(bdesc) != msc_block_sz(bdesc)))\n\t\treturn true;\n\n\treturn false;\n}\n\n \n#define MSC_PLE_WAITLOOP_DEPTH\t10000\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}