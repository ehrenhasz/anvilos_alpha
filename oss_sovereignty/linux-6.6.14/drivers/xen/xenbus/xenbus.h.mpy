{
  "module_name": "xenbus.h",
  "hash_id": "3be9577a8fa3c794211ffcdc34f9f8f56d63b85be26d0e9418c5b52dda5f1ad8",
  "original_prompt": "Ingested from linux-6.6.14/drivers/xen/xenbus/xenbus.h",
  "human_readable_source": " \n\n#ifndef _XENBUS_XENBUS_H\n#define _XENBUS_XENBUS_H\n\n#include <linux/mutex.h>\n#include <linux/uio.h>\n#include <xen/xenbus.h>\n\n#define XEN_BUS_ID_SIZE\t\t\t20\n\nstruct xen_bus_type {\n\tchar *root;\n\tunsigned int levels;\n\tint (*get_bus_id)(char bus_id[XEN_BUS_ID_SIZE], const char *nodename);\n\tint (*probe)(struct xen_bus_type *bus, const char *type,\n\t\t     const char *dir);\n\tbool (*otherend_will_handle)(struct xenbus_watch *watch,\n\t\t\t\t     const char *path, const char *token);\n\tvoid (*otherend_changed)(struct xenbus_watch *watch, const char *path,\n\t\t\t\t const char *token);\n\tstruct bus_type bus;\n};\n\nenum xenstore_init {\n\tXS_UNKNOWN,\n\tXS_PV,\n\tXS_HVM,\n\tXS_LOCAL,\n};\n\nstruct xs_watch_event {\n\tstruct list_head list;\n\tunsigned int len;\n\tstruct xenbus_watch *handle;\n\tconst char *path;\n\tconst char *token;\n\tchar body[];\n};\n\nenum xb_req_state {\n\txb_req_state_queued,\n\txb_req_state_wait_reply,\n\txb_req_state_got_reply,\n\txb_req_state_aborted\n};\n\nstruct xb_req_data {\n\tstruct list_head list;\n\twait_queue_head_t wq;\n\tstruct xsd_sockmsg msg;\n\tuint32_t caller_req_id;\n\tenum xsd_sockmsg_type type;\n\tchar *body;\n\tconst struct kvec *vec;\n\tint num_vecs;\n\tint err;\n\tenum xb_req_state state;\n\tbool user_req;\n\tvoid (*cb)(struct xb_req_data *);\n\tvoid *par;\n};\n\nextern enum xenstore_init xen_store_domain_type;\nextern const struct attribute_group *xenbus_dev_groups[];\nextern struct mutex xs_response_mutex;\nextern struct list_head xs_reply_list;\nextern struct list_head xb_write_list;\nextern wait_queue_head_t xb_waitq;\nextern struct mutex xb_write_mutex;\n\nint xs_init(void);\nint xb_init_comms(void);\nvoid xb_deinit_comms(void);\nint xs_watch_msg(struct xs_watch_event *event);\nvoid xs_request_exit(struct xb_req_data *req);\n\nint xenbus_match(struct device *_dev, struct device_driver *_drv);\nint xenbus_dev_probe(struct device *_dev);\nvoid xenbus_dev_remove(struct device *_dev);\nint xenbus_register_driver_common(struct xenbus_driver *drv,\n\t\t\t\t  struct xen_bus_type *bus,\n\t\t\t\t  struct module *owner,\n\t\t\t\t  const char *mod_name);\nint xenbus_probe_node(struct xen_bus_type *bus,\n\t\t      const char *type,\n\t\t      const char *nodename);\nint xenbus_probe_devices(struct xen_bus_type *bus);\n\nvoid xenbus_dev_changed(const char *node, struct xen_bus_type *bus);\n\nint xenbus_dev_suspend(struct device *dev);\nint xenbus_dev_resume(struct device *dev);\nint xenbus_dev_cancel(struct device *dev);\n\nvoid xenbus_otherend_changed(struct xenbus_watch *watch,\n\t\t\t     const char *path, const char *token,\n\t\t\t     int ignore_on_shutdown);\n\nint xenbus_read_otherend_details(struct xenbus_device *xendev,\n\t\t\t\t char *id_node, char *path_node);\n\nvoid xenbus_ring_ops_init(void);\n\nint xenbus_dev_request_and_reply(struct xsd_sockmsg *msg, void *par);\nvoid xenbus_dev_queue_reply(struct xb_req_data *req);\n\nextern unsigned int xb_dev_generation_id;\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}