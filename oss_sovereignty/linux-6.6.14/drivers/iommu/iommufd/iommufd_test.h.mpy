{
  "module_name": "iommufd_test.h",
  "hash_id": "4fa78943966264b05a72bbd5baf250c1d7e27157aad0b86be4a4ab5a8834aa13",
  "original_prompt": "Ingested from linux-6.6.14/drivers/iommu/iommufd/iommufd_test.h",
  "human_readable_source": " \n \n#ifndef _UAPI_IOMMUFD_TEST_H\n#define _UAPI_IOMMUFD_TEST_H\n\n#include <linux/types.h>\n#include <linux/iommufd.h>\n\nenum {\n\tIOMMU_TEST_OP_ADD_RESERVED = 1,\n\tIOMMU_TEST_OP_MOCK_DOMAIN,\n\tIOMMU_TEST_OP_MD_CHECK_MAP,\n\tIOMMU_TEST_OP_MD_CHECK_REFS,\n\tIOMMU_TEST_OP_CREATE_ACCESS,\n\tIOMMU_TEST_OP_DESTROY_ACCESS_PAGES,\n\tIOMMU_TEST_OP_ACCESS_PAGES,\n\tIOMMU_TEST_OP_ACCESS_RW,\n\tIOMMU_TEST_OP_SET_TEMP_MEMORY_LIMIT,\n\tIOMMU_TEST_OP_MOCK_DOMAIN_REPLACE,\n\tIOMMU_TEST_OP_ACCESS_REPLACE_IOAS,\n};\n\nenum {\n\tMOCK_APERTURE_START = 1UL << 24,\n\tMOCK_APERTURE_LAST = (1UL << 31) - 1,\n};\n\nenum {\n\tMOCK_FLAGS_ACCESS_WRITE = 1 << 0,\n\tMOCK_FLAGS_ACCESS_SYZ = 1 << 16,\n};\n\nenum {\n\tMOCK_ACCESS_RW_WRITE = 1 << 0,\n\tMOCK_ACCESS_RW_SLOW_PATH = 1 << 2,\n};\n\nenum {\n\tMOCK_FLAGS_ACCESS_CREATE_NEEDS_PIN_PAGES = 1 << 0,\n};\n\nstruct iommu_test_cmd {\n\t__u32 size;\n\t__u32 op;\n\t__u32 id;\n\t__u32 __reserved;\n\tunion {\n\t\tstruct {\n\t\t\t__aligned_u64 start;\n\t\t\t__aligned_u64 length;\n\t\t} add_reserved;\n\t\tstruct {\n\t\t\t__u32 out_stdev_id;\n\t\t\t__u32 out_hwpt_id;\n\t\t\t \n\t\t\t__u32 out_idev_id;\n\t\t} mock_domain;\n\t\tstruct {\n\t\t\t__u32 pt_id;\n\t\t} mock_domain_replace;\n\t\tstruct {\n\t\t\t__aligned_u64 iova;\n\t\t\t__aligned_u64 length;\n\t\t\t__aligned_u64 uptr;\n\t\t} check_map;\n\t\tstruct {\n\t\t\t__aligned_u64 length;\n\t\t\t__aligned_u64 uptr;\n\t\t\t__u32 refs;\n\t\t} check_refs;\n\t\tstruct {\n\t\t\t__u32 out_access_fd;\n\t\t\t__u32 flags;\n\t\t} create_access;\n\t\tstruct {\n\t\t\t__u32 access_pages_id;\n\t\t} destroy_access_pages;\n\t\tstruct {\n\t\t\t__u32 flags;\n\t\t\t__u32 out_access_pages_id;\n\t\t\t__aligned_u64 iova;\n\t\t\t__aligned_u64 length;\n\t\t\t__aligned_u64 uptr;\n\t\t} access_pages;\n\t\tstruct {\n\t\t\t__aligned_u64 iova;\n\t\t\t__aligned_u64 length;\n\t\t\t__aligned_u64 uptr;\n\t\t\t__u32 flags;\n\t\t} access_rw;\n\t\tstruct {\n\t\t\t__u32 limit;\n\t\t} memory_limit;\n\t\tstruct {\n\t\t\t__u32 ioas_id;\n\t\t} access_replace_ioas;\n\t};\n\t__u32 last;\n};\n#define IOMMU_TEST_CMD _IO(IOMMUFD_TYPE, IOMMUFD_CMD_BASE + 32)\n\n \n#define IOMMU_HW_INFO_TYPE_SELFTEST\t0xfeedbeef\n#define IOMMU_HW_INFO_SELFTEST_REGVAL\t0xdeadbeef\n\nstruct iommu_test_hw_info {\n\t__u32 flags;\n\t__u32 test_reg;\n};\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}