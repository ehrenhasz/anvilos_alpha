{
  "module_name": "Kconfig",
  "hash_id": "40ecdd11f7c61b6d60285a5f51823be67226e45b27b49d1c0395d5fd7dc981a8",
  "original_prompt": "Ingested from linux-6.6.14/drivers/iommu/intel/Kconfig",
  "human_readable_source": "# SPDX-License-Identifier: GPL-2.0-only\n# Intel IOMMU support\nconfig DMAR_TABLE\n\tbool\n\nconfig DMAR_PERF\n\tbool\n\nconfig DMAR_DEBUG\n\tbool\n\nconfig INTEL_IOMMU\n\tbool \"Support for Intel IOMMU using DMA Remapping Devices\"\n\tdepends on PCI_MSI && ACPI && (X86 || IA64)\n\tselect DMA_OPS\n\tselect IOMMU_API\n\tselect IOMMU_IOVA\n\tselect NEED_DMA_MAP_STATE\n\tselect DMAR_TABLE\n\tselect SWIOTLB\n\tselect PCI_ATS\n\tselect PCI_PRI\n\tselect PCI_PASID\n\thelp\n\t  DMA remapping (DMAR) devices support enables independent address\n\t  translations for Direct Memory Access (DMA) from devices.\n\t  These DMA remapping devices are reported via ACPI tables\n\t  and include PCI device scope covered by these DMA\n\t  remapping devices.\n\nif INTEL_IOMMU\n\nconfig INTEL_IOMMU_DEBUGFS\n\tbool \"Export Intel IOMMU internals in Debugfs\"\n\tdepends on IOMMU_DEBUGFS\n\tselect DMAR_PERF\n\tselect DMAR_DEBUG\n\thelp\n\t  !!!WARNING!!!\n\n\t  DO NOT ENABLE THIS OPTION UNLESS YOU REALLY KNOW WHAT YOU ARE DOING!!!\n\n\t  Expose Intel IOMMU internals in Debugfs.\n\n\t  This option is -NOT- intended for production environments, and should\n\t  only be enabled for debugging Intel IOMMU.\n\nconfig INTEL_IOMMU_SVM\n\tbool \"Support for Shared Virtual Memory with Intel IOMMU\"\n\tdepends on X86_64\n\tselect MMU_NOTIFIER\n\tselect IOMMU_SVA\n\thelp\n\t  Shared Virtual Memory (SVM) provides a facility for devices\n\t  to access DMA resources through process address space by\n\t  means of a Process Address Space ID (PASID).\n\nconfig INTEL_IOMMU_DEFAULT_ON\n\tbool \"Enable Intel DMA Remapping Devices by default\"\n\tdefault y\n\thelp\n\t  Selecting this option will enable a DMAR device at boot time if\n\t  one is found. If this option is not selected, DMAR support can\n\t  be enabled by passing intel_iommu=on to the kernel.\n\nconfig INTEL_IOMMU_BROKEN_GFX_WA\n\tbool \"Workaround broken graphics drivers (going away soon)\"\n\tdepends on BROKEN && X86\n\thelp\n\t  Current Graphics drivers tend to use physical address\n\t  for DMA and avoid using DMA APIs. Setting this config\n\t  option permits the IOMMU driver to set a unity map for\n\t  all the OS-visible memory. Hence the driver can continue\n\t  to use physical addresses for DMA, at least until this\n\t  option is removed in the 2.6.32 kernel.\n\nconfig INTEL_IOMMU_FLOPPY_WA\n\tdef_bool y\n\tdepends on X86\n\thelp\n\t  Floppy disk drivers are known to bypass DMA API calls\n\t  thereby failing to work when IOMMU is enabled. This\n\t  workaround will setup a 1:1 mapping for the first\n\t  16MiB to make floppy (an ISA device) work.\n\nconfig INTEL_IOMMU_SCALABLE_MODE_DEFAULT_ON\n\tbool \"Enable Intel IOMMU scalable mode by default\"\n\tdefault y\n\thelp\n\t  Selecting this option will enable by default the scalable mode if\n\t  hardware presents the capability. The scalable mode is defined in\n\t  VT-d 3.0. The scalable mode capability could be checked by reading\n\t  /sys/devices/virtual/iommu/dmar*/intel-iommu/ecap. If this option\n\t  is not selected, scalable mode support could also be enabled by\n\t  passing intel_iommu=sm_on to the kernel. If not sure, please use\n\t  the default value.\n\nconfig INTEL_IOMMU_PERF_EVENTS\n\tdef_bool y\n\tbool \"Intel IOMMU performance events\"\n\tdepends on INTEL_IOMMU && PERF_EVENTS\n\thelp\n\t  Selecting this option will enable the performance monitoring\n\t  infrastructure in the Intel IOMMU. It collects information about\n\t  key events occurring during operation of the remapping hardware,\n\t  to aid performance tuning and debug. These are available on modern\n\t  processors which support Intel VT-d 4.0 and later.\n\nendif # INTEL_IOMMU\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}