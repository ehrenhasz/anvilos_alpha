{
  "module_name": "nxp-nci.h",
  "hash_id": "cad5b26967fab8af993b8f38b5bd59bb69c0a0fb7f5fc054d250c246a5638c2c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/nfc/nxp-nci/nxp-nci.h",
  "human_readable_source": " \n \n\n#ifndef __LOCAL_NXP_NCI_H_\n#define __LOCAL_NXP_NCI_H_\n\n#include <linux/completion.h>\n#include <linux/firmware.h>\n#include <linux/nfc.h>\n\n#include <net/nfc/nci_core.h>\n\n#define NXP_NCI_FW_HDR_LEN\t2\n#define NXP_NCI_FW_CRC_LEN\t2\n\n#define NXP_NCI_FW_FRAME_LEN_MASK\t0x03FF\n\nenum nxp_nci_mode {\n\tNXP_NCI_MODE_COLD,\n\tNXP_NCI_MODE_NCI,\n\tNXP_NCI_MODE_FW\n};\n\nstruct nxp_nci_phy_ops {\n\tint (*set_mode)(void *id, enum nxp_nci_mode mode);\n\tint (*write)(void *id, struct sk_buff *skb);\n};\n\nstruct nxp_nci_fw_info {\n\tchar name[NFC_FIRMWARE_NAME_MAXSIZE + 1];\n\tconst struct firmware *fw;\n\n\tsize_t size;\n\tsize_t written;\n\n\tconst u8 *data;\n\tsize_t frame_size;\n\n\tstruct work_struct work;\n\tstruct completion cmd_completion;\n\n\tint cmd_result;\n};\n\nstruct nxp_nci_info {\n\tstruct nci_dev *ndev;\n\tvoid *phy_id;\n\tstruct device *pdev;\n\n\tenum nxp_nci_mode mode;\n\n\tconst struct nxp_nci_phy_ops *phy_ops;\n\tunsigned int max_payload;\n\n\tstruct mutex info_lock;\n\n\tstruct nxp_nci_fw_info fw_info;\n};\n\nint nxp_nci_fw_download(struct nci_dev *ndev, const char *firmware_name);\nvoid nxp_nci_fw_work(struct work_struct *work);\nvoid nxp_nci_fw_recv_frame(struct nci_dev *ndev, struct sk_buff *skb);\nvoid nxp_nci_fw_work_complete(struct nxp_nci_info *info, int result);\n\nint nxp_nci_probe(void *phy_id, struct device *pdev,\n\t\t  const struct nxp_nci_phy_ops *phy_ops,\n\t\t  unsigned int max_payload,\n\t\t  struct nci_dev **ndev);\nvoid nxp_nci_remove(struct nci_dev *ndev);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}