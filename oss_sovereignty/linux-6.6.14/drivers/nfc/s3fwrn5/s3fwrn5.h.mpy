{
  "module_name": "s3fwrn5.h",
  "hash_id": "ff40d01c23914f5f678c214b4f67a03b9d63c5c1e510fdda6c4ba4de2f36ffd0",
  "original_prompt": "Ingested from linux-6.6.14/drivers/nfc/s3fwrn5/s3fwrn5.h",
  "human_readable_source": " \n \n\n#ifndef __LOCAL_S3FWRN5_H_\n#define __LOCAL_S3FWRN5_H_\n\n#include <linux/nfc.h>\n\n#include <net/nfc/nci_core.h>\n\n#include \"firmware.h\"\n\nenum s3fwrn5_mode {\n\tS3FWRN5_MODE_COLD,\n\tS3FWRN5_MODE_NCI,\n\tS3FWRN5_MODE_FW,\n};\n\nstruct s3fwrn5_phy_ops {\n\tvoid (*set_wake)(void *id, bool sleep);\n\tvoid (*set_mode)(void *id, enum s3fwrn5_mode);\n\tenum s3fwrn5_mode (*get_mode)(void *id);\n\tint (*write)(void *id, struct sk_buff *skb);\n};\n\nstruct s3fwrn5_info {\n\tstruct nci_dev *ndev;\n\tvoid *phy_id;\n\tstruct device *pdev;\n\n\tconst struct s3fwrn5_phy_ops *phy_ops;\n\n\tstruct s3fwrn5_fw_info fw_info;\n\n\tstruct mutex mutex;\n};\n\nstatic inline int s3fwrn5_set_mode(struct s3fwrn5_info *info,\n\tenum s3fwrn5_mode mode)\n{\n\tif (!info->phy_ops->set_mode)\n\t\treturn -EOPNOTSUPP;\n\n\tinfo->phy_ops->set_mode(info->phy_id, mode);\n\n\treturn 0;\n}\n\nstatic inline enum s3fwrn5_mode s3fwrn5_get_mode(struct s3fwrn5_info *info)\n{\n\tif (!info->phy_ops->get_mode)\n\t\treturn -EOPNOTSUPP;\n\n\treturn info->phy_ops->get_mode(info->phy_id);\n}\n\nstatic inline int s3fwrn5_set_wake(struct s3fwrn5_info *info, bool wake)\n{\n\tif (!info->phy_ops->set_wake)\n\t\treturn -EOPNOTSUPP;\n\n\tinfo->phy_ops->set_wake(info->phy_id, wake);\n\n\treturn 0;\n}\n\nstatic inline int s3fwrn5_write(struct s3fwrn5_info *info, struct sk_buff *skb)\n{\n\tif (!info->phy_ops->write)\n\t\treturn -EOPNOTSUPP;\n\n\treturn info->phy_ops->write(info->phy_id, skb);\n}\n\nint s3fwrn5_probe(struct nci_dev **ndev, void *phy_id, struct device *pdev,\n\tconst struct s3fwrn5_phy_ops *phy_ops);\nvoid s3fwrn5_remove(struct nci_dev *ndev);\n\nint s3fwrn5_recv_frame(struct nci_dev *ndev, struct sk_buff *skb,\n\tenum s3fwrn5_mode mode);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}