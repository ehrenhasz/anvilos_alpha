{
  "module_name": "sdhci-of-hlwd.c",
  "hash_id": "4a0a1777fdc167b27785e37ae5dc49c47e871cf38047c285143e1682dc34171b",
  "original_prompt": "Ingested from linux-6.6.14/drivers/mmc/host/sdhci-of-hlwd.c",
  "human_readable_source": "\n \n\n#include <linux/delay.h>\n#include <linux/module.h>\n#include <linux/mmc/host.h>\n#include \"sdhci-pltfm.h\"\n\n \n\n \n#define SDHCI_HLWD_WRITE_DELAY\t5  \n\nstatic void sdhci_hlwd_writel(struct sdhci_host *host, u32 val, int reg)\n{\n\tsdhci_be32bs_writel(host, val, reg);\n\tudelay(SDHCI_HLWD_WRITE_DELAY);\n}\n\nstatic void sdhci_hlwd_writew(struct sdhci_host *host, u16 val, int reg)\n{\n\tsdhci_be32bs_writew(host, val, reg);\n\tudelay(SDHCI_HLWD_WRITE_DELAY);\n}\n\nstatic void sdhci_hlwd_writeb(struct sdhci_host *host, u8 val, int reg)\n{\n\tsdhci_be32bs_writeb(host, val, reg);\n\tudelay(SDHCI_HLWD_WRITE_DELAY);\n}\n\nstatic const struct sdhci_ops sdhci_hlwd_ops = {\n\t.read_l = sdhci_be32bs_readl,\n\t.read_w = sdhci_be32bs_readw,\n\t.read_b = sdhci_be32bs_readb,\n\t.write_l = sdhci_hlwd_writel,\n\t.write_w = sdhci_hlwd_writew,\n\t.write_b = sdhci_hlwd_writeb,\n\t.set_clock = sdhci_set_clock,\n\t.set_bus_width = sdhci_set_bus_width,\n\t.reset = sdhci_reset,\n\t.set_uhs_signaling = sdhci_set_uhs_signaling,\n};\n\nstatic const struct sdhci_pltfm_data sdhci_hlwd_pdata = {\n\t.quirks = SDHCI_QUIRK_32BIT_DMA_ADDR |\n\t\t  SDHCI_QUIRK_32BIT_DMA_SIZE,\n\t.ops = &sdhci_hlwd_ops,\n};\n\nstatic int sdhci_hlwd_probe(struct platform_device *pdev)\n{\n\treturn sdhci_pltfm_init_and_add_host(pdev, &sdhci_hlwd_pdata, 0);\n}\n\nstatic const struct of_device_id sdhci_hlwd_of_match[] = {\n\t{ .compatible = \"nintendo,hollywood-sdhci\" },\n\t{ }\n};\nMODULE_DEVICE_TABLE(of, sdhci_hlwd_of_match);\n\nstatic struct platform_driver sdhci_hlwd_driver = {\n\t.driver = {\n\t\t.name = \"sdhci-hlwd\",\n\t\t.probe_type = PROBE_PREFER_ASYNCHRONOUS,\n\t\t.of_match_table = sdhci_hlwd_of_match,\n\t\t.pm = &sdhci_pltfm_pmops,\n\t},\n\t.probe = sdhci_hlwd_probe,\n\t.remove_new = sdhci_pltfm_remove,\n};\n\nmodule_platform_driver(sdhci_hlwd_driver);\n\nMODULE_DESCRIPTION(\"Nintendo Wii SDHCI OF driver\");\nMODULE_AUTHOR(\"The GameCube Linux Team, Albert Herranz\");\nMODULE_LICENSE(\"GPL v2\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}