{
  "module_name": "renesas_sdhi.h",
  "hash_id": "11bc0f1389231d43ae00ebedf9be723e4fbb481c752ca2fa39eab03c64262d0d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/mmc/host/renesas_sdhi.h",
  "human_readable_source": " \n \n\n#ifndef RENESAS_SDHI_H\n#define RENESAS_SDHI_H\n\n#include <linux/platform_device.h>\n#include \"tmio_mmc.h\"\n\nstruct renesas_sdhi_scc {\n\tunsigned long clk_rate;\t \n\tu32 tap;\t\t \n\tu32 tap_hs400_4tap;\t \n};\n\n#define SDHI_FLAG_NEED_CLKH_FALLBACK\tBIT(0)\n\nstruct renesas_sdhi_of_data {\n\tunsigned long tmio_flags;\n\tu32\t      tmio_ocr_mask;\n\tunsigned long capabilities;\n\tunsigned long capabilities2;\n\tenum dma_slave_buswidth dma_buswidth;\n\tdma_addr_t dma_rx_offset;\n\tunsigned int bus_shift;\n\tint scc_offset;\n\tstruct renesas_sdhi_scc *taps;\n\tint taps_num;\n\tunsigned int max_blk_count;\n\tunsigned short max_segs;\n\tunsigned long sdhi_flags;\n};\n\n#define SDHI_CALIB_TABLE_MAX 32\n\n#define sdhi_has_quirk(p, q) ((p)->quirks && (p)->quirks->q)\n\nstruct renesas_sdhi_quirks {\n\tbool hs400_disabled;\n\tbool hs400_4taps;\n\tbool fixed_addr_mode;\n\tbool dma_one_rx_only;\n\tbool manual_tap_correction;\n\tbool old_info1_layout;\n\tu32 hs400_bad_taps;\n\tconst u8 (*hs400_calib_table)[SDHI_CALIB_TABLE_MAX];\n};\n\nstruct renesas_sdhi_of_data_with_quirks {\n\tconst struct renesas_sdhi_of_data *of_data;\n\tconst struct renesas_sdhi_quirks *quirks;\n};\n\n \n#define SDHI_DMA_END_FLAG_DMA\t\t0\n#define SDHI_DMA_END_FLAG_ACCESS\t1\n\nstruct renesas_sdhi_dma {\n\tunsigned long end_flags;\n\tenum dma_slave_buswidth dma_buswidth;\n\tbool (*filter)(struct dma_chan *chan, void *arg);\n\tvoid (*enable)(struct tmio_mmc_host *host, bool enable);\n\tstruct completion dma_dataend;\n\tstruct tasklet_struct dma_complete;\n};\n\nstruct renesas_sdhi {\n\tstruct clk *clk;\n\tstruct clk *clkh;\n\tstruct clk *clk_cd;\n\tstruct tmio_mmc_data mmc_data;\n\tstruct renesas_sdhi_dma dma_priv;\n\tconst struct renesas_sdhi_quirks *quirks;\n\tstruct pinctrl *pinctrl;\n\tstruct pinctrl_state *pins_default, *pins_uhs;\n\tvoid __iomem *scc_ctl;\n\tu32 scc_tappos;\n\tu32 scc_tappos_hs400;\n\tconst u8 *adjust_hs400_calib_table;\n\tbool needs_adjust_hs400;\n\n\t \n\tDECLARE_BITMAP(taps, BITS_PER_LONG);\n\t \n\tDECLARE_BITMAP(smpcmp, BITS_PER_LONG);\n\tunsigned int tap_num;\n\tunsigned int tap_set;\n\n\tstruct reset_control *rstc;\n};\n\n#define host_to_priv(host) \\\n\tcontainer_of((host)->pdata, struct renesas_sdhi, mmc_data)\n\nint renesas_sdhi_probe(struct platform_device *pdev,\n\t\t       const struct tmio_mmc_dma_ops *dma_ops,\n\t\t       const struct renesas_sdhi_of_data *of_data,\n\t\t       const struct renesas_sdhi_quirks *quirks);\nvoid renesas_sdhi_remove(struct platform_device *pdev);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}