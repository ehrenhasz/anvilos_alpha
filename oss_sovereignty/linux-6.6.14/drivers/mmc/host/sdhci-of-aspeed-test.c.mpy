{
  "module_name": "sdhci-of-aspeed-test.c",
  "hash_id": "5a454d6d107988e0fd7e72f9a80bf3bd2b1eced6b59ed273ec375b00f39239b1",
  "original_prompt": "Ingested from linux-6.6.14/drivers/mmc/host/sdhci-of-aspeed-test.c",
  "human_readable_source": "\n \n\n#include <kunit/test.h>\n\nstatic void aspeed_sdhci_phase_ddr52(struct kunit *test)\n{\n\tint rate = 52000000;\n\n\tKUNIT_EXPECT_EQ(test, 0,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 0));\n\tKUNIT_EXPECT_EQ(test, 0,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 1));\n\tKUNIT_EXPECT_EQ(test, 1,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 2));\n\tKUNIT_EXPECT_EQ(test, 1,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 3));\n\tKUNIT_EXPECT_EQ(test, 2,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 4));\n\tKUNIT_EXPECT_EQ(test, 3,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 5));\n\tKUNIT_EXPECT_EQ(test, 14,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 23));\n\tKUNIT_EXPECT_EQ(test, 15,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 24));\n\tKUNIT_EXPECT_EQ(test, 15,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 25));\n\n\tKUNIT_EXPECT_EQ(test, ASPEED_SDHCI_TAP_PARAM_INVERT_CLK | 0,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 180));\n\tKUNIT_EXPECT_EQ(test, ASPEED_SDHCI_TAP_PARAM_INVERT_CLK | 0,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 181));\n\tKUNIT_EXPECT_EQ(test, ASPEED_SDHCI_TAP_PARAM_INVERT_CLK | 1,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 182));\n\tKUNIT_EXPECT_EQ(test, ASPEED_SDHCI_TAP_PARAM_INVERT_CLK | 1,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 183));\n\tKUNIT_EXPECT_EQ(test, ASPEED_SDHCI_TAP_PARAM_INVERT_CLK | 2,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 184));\n\tKUNIT_EXPECT_EQ(test, ASPEED_SDHCI_TAP_PARAM_INVERT_CLK | 3,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 185));\n\tKUNIT_EXPECT_EQ(test, ASPEED_SDHCI_TAP_PARAM_INVERT_CLK | 14,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 203));\n\tKUNIT_EXPECT_EQ(test, ASPEED_SDHCI_TAP_PARAM_INVERT_CLK | 15,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 204));\n\tKUNIT_EXPECT_EQ(test, ASPEED_SDHCI_TAP_PARAM_INVERT_CLK | 15,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 205));\n}\n\nstatic void aspeed_sdhci_phase_hs200(struct kunit *test)\n{\n\tint rate = 200000000;\n\n\tKUNIT_EXPECT_EQ(test, 0,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 0));\n\tKUNIT_EXPECT_EQ(test, 0,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 5));\n\tKUNIT_EXPECT_EQ(test, 1,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 6));\n\tKUNIT_EXPECT_EQ(test, 1,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 7));\n\tKUNIT_EXPECT_EQ(test, 14,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 89));\n\tKUNIT_EXPECT_EQ(test, 15,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 90));\n\tKUNIT_EXPECT_EQ(test, 15,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 91));\n\tKUNIT_EXPECT_EQ(test, 15,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 96));\n\n\tKUNIT_EXPECT_EQ(test, ASPEED_SDHCI_TAP_PARAM_INVERT_CLK,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 180));\n\tKUNIT_EXPECT_EQ(test, ASPEED_SDHCI_TAP_PARAM_INVERT_CLK,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 185));\n\tKUNIT_EXPECT_EQ(test, ASPEED_SDHCI_TAP_PARAM_INVERT_CLK | 1,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 186));\n\tKUNIT_EXPECT_EQ(test, ASPEED_SDHCI_TAP_PARAM_INVERT_CLK | 1,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 187));\n\tKUNIT_EXPECT_EQ(test, ASPEED_SDHCI_TAP_PARAM_INVERT_CLK | 14,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 269));\n\tKUNIT_EXPECT_EQ(test, ASPEED_SDHCI_TAP_PARAM_INVERT_CLK | 15,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 270));\n\tKUNIT_EXPECT_EQ(test, ASPEED_SDHCI_TAP_PARAM_INVERT_CLK | 15,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 271));\n\tKUNIT_EXPECT_EQ(test, ASPEED_SDHCI_TAP_PARAM_INVERT_CLK | 15,\n\t\t\taspeed_sdhci_phase_to_tap(NULL, rate, 276));\n}\n\nstatic struct kunit_case aspeed_sdhci_test_cases[] = {\n\tKUNIT_CASE(aspeed_sdhci_phase_ddr52),\n\tKUNIT_CASE(aspeed_sdhci_phase_hs200),\n\t{}\n};\n\nstatic struct kunit_suite aspeed_sdhci_test_suite = {\n\t.name = \"sdhci-of-aspeed\",\n\t.test_cases = aspeed_sdhci_test_cases,\n};\n\nkunit_test_suite(aspeed_sdhci_test_suite);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}