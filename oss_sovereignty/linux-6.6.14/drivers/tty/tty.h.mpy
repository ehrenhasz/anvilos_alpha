{
  "module_name": "tty.h",
  "hash_id": "1c02b8a9b1d5e56d487a470a77d5fd434af0ee6fa9d7b36f8b3633bc1cfce96a",
  "original_prompt": "Ingested from linux-6.6.14/drivers/tty/tty.h",
  "human_readable_source": " \n \n\n#ifndef _TTY_INTERNAL_H\n#define _TTY_INTERNAL_H\n\n#define tty_msg(fn, tty, f, ...) \\\n\tfn(\"%s %s: \" f, tty_driver_name(tty), tty_name(tty), ##__VA_ARGS__)\n\n#define tty_debug(tty, f, ...)\ttty_msg(pr_debug, tty, f, ##__VA_ARGS__)\n#define tty_notice(tty, f, ...)\ttty_msg(pr_notice, tty, f, ##__VA_ARGS__)\n#define tty_warn(tty, f, ...)\ttty_msg(pr_warn, tty, f, ##__VA_ARGS__)\n#define tty_err(tty, f, ...)\ttty_msg(pr_err, tty, f, ##__VA_ARGS__)\n\n#define tty_info_ratelimited(tty, f, ...) \\\n\t\ttty_msg(pr_info_ratelimited, tty, f, ##__VA_ARGS__)\n\n \nenum {\n\tTTY_LOCK_NORMAL = 0,\n\tTTY_LOCK_SLAVE,\n};\n\n \n#define TTY_THROTTLE_SAFE\t1\n#define TTY_UNTHROTTLE_SAFE\t2\n\nstatic inline void __tty_set_flow_change(struct tty_struct *tty, int val)\n{\n\ttty->flow_change = val;\n}\n\nstatic inline void tty_set_flow_change(struct tty_struct *tty, int val)\n{\n\ttty->flow_change = val;\n\tsmp_mb();\n}\n\nint tty_ldisc_lock(struct tty_struct *tty, unsigned long timeout);\nvoid tty_ldisc_unlock(struct tty_struct *tty);\n\nint __tty_check_change(struct tty_struct *tty, int sig);\nint tty_check_change(struct tty_struct *tty);\nvoid __stop_tty(struct tty_struct *tty);\nvoid __start_tty(struct tty_struct *tty);\nvoid tty_write_unlock(struct tty_struct *tty);\nint tty_write_lock(struct tty_struct *tty, bool ndelay);\nvoid tty_vhangup_session(struct tty_struct *tty);\nvoid tty_open_proc_set_tty(struct file *filp, struct tty_struct *tty);\nint tty_signal_session_leader(struct tty_struct *tty, int exit_session);\nvoid session_clear_tty(struct pid *session);\nvoid tty_buffer_free_all(struct tty_port *port);\nvoid tty_buffer_flush(struct tty_struct *tty, struct tty_ldisc *ld);\nvoid tty_buffer_init(struct tty_port *port);\nvoid tty_buffer_set_lock_subclass(struct tty_port *port);\nbool tty_buffer_restart_work(struct tty_port *port);\nbool tty_buffer_cancel_work(struct tty_port *port);\nvoid tty_buffer_flush_work(struct tty_port *port);\nspeed_t tty_termios_input_baud_rate(const struct ktermios *termios);\nvoid tty_ldisc_hangup(struct tty_struct *tty, bool reset);\nint tty_ldisc_reinit(struct tty_struct *tty, int disc);\nlong tty_ioctl(struct file *file, unsigned int cmd, unsigned long arg);\nlong tty_jobctrl_ioctl(struct tty_struct *tty, struct tty_struct *real_tty,\n\t\t       struct file *file, unsigned int cmd, unsigned long arg);\nvoid tty_default_fops(struct file_operations *fops);\nstruct tty_struct *alloc_tty_struct(struct tty_driver *driver, int idx);\nint tty_alloc_file(struct file *file);\nvoid tty_add_file(struct tty_struct *tty, struct file *file);\nvoid tty_free_file(struct file *file);\nint tty_release(struct inode *inode, struct file *filp);\n\n#define tty_is_writelocked(tty)  (mutex_is_locked(&tty->atomic_write_lock))\n\nint tty_ldisc_setup(struct tty_struct *tty, struct tty_struct *o_tty);\nvoid tty_ldisc_release(struct tty_struct *tty);\nint __must_check tty_ldisc_init(struct tty_struct *tty);\nvoid tty_ldisc_deinit(struct tty_struct *tty);\n\nextern int tty_ldisc_autoload;\n\n \n#ifdef CONFIG_AUDIT\nvoid tty_audit_add_data(const struct tty_struct *tty, const void *data,\n\t\t\tsize_t size);\nvoid tty_audit_tiocsti(const struct tty_struct *tty, u8 ch);\n#else\nstatic inline void tty_audit_add_data(const struct tty_struct *tty,\n\t\t\t\t      const void *data, size_t size)\n{\n}\nstatic inline void tty_audit_tiocsti(const struct tty_struct *tty, u8 ch)\n{\n}\n#endif\n\nssize_t redirected_tty_write(struct kiocb *, struct iov_iter *);\n\nint tty_insert_flip_string_and_push_buffer(struct tty_port *port,\n\t\t\t\t\t   const u8 *chars, size_t cnt);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}