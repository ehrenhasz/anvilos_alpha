{
  "module_name": "hvc_console.h",
  "hash_id": "540d79d55759ed8a6d36f24a088f30b099d66c67db5b171429c187520455970b",
  "original_prompt": "Ingested from linux-6.6.14/drivers/tty/hvc/hvc_console.h",
  "human_readable_source": " \n \n\n#ifndef HVC_CONSOLE_H\n#define HVC_CONSOLE_H\n#include <linux/kref.h>\n#include <linux/tty.h>\n#include <linux/spinlock.h>\n\n \n#define MAX_NR_HVC_CONSOLES\t16\n\n \n#define HVC_ALLOC_TTY_ADAPTERS\t8\n\nstruct hvc_struct {\n\tstruct tty_port port;\n\tspinlock_t lock;\n\tint index;\n\tint do_wakeup;\n\tchar *outbuf;\n\tint outbuf_size;\n\tint n_outbuf;\n\tuint32_t vtermno;\n\tconst struct hv_ops *ops;\n\tint irq_requested;\n\tint data;\n\tstruct winsize ws;\n\tstruct work_struct tty_resize;\n\tstruct list_head next;\n\tunsigned long flags;\n};\n\n \nstruct hv_ops {\n\tint (*get_chars)(uint32_t vtermno, char *buf, int count);\n\tint (*put_chars)(uint32_t vtermno, const char *buf, int count);\n\tint (*flush)(uint32_t vtermno, bool wait);\n\n\t \n\tint (*notifier_add)(struct hvc_struct *hp, int irq);\n\tvoid (*notifier_del)(struct hvc_struct *hp, int irq);\n\tvoid (*notifier_hangup)(struct hvc_struct *hp, int irq);\n\n\t \n\tint (*tiocmget)(struct hvc_struct *hp);\n\tint (*tiocmset)(struct hvc_struct *hp, unsigned int set, unsigned int clear);\n\n\t \n\tvoid (*dtr_rts)(struct hvc_struct *hp, bool active);\n};\n\n \nextern int hvc_instantiate(uint32_t vtermno, int index,\n\t\t\t   const struct hv_ops *ops);\n\n \nextern struct hvc_struct * hvc_alloc(uint32_t vtermno, int data,\n\t\t\t\t     const struct hv_ops *ops, int outbuf_size);\n \nextern int hvc_remove(struct hvc_struct *hp);\n\n \nint hvc_poll(struct hvc_struct *hp);\nvoid hvc_kick(void);\n\n \nextern void __hvc_resize(struct hvc_struct *hp, struct winsize ws);\n\nstatic inline void hvc_resize(struct hvc_struct *hp, struct winsize ws)\n{\n\tunsigned long flags;\n\n\tspin_lock_irqsave(&hp->lock, flags);\n\t__hvc_resize(hp, ws);\n\tspin_unlock_irqrestore(&hp->lock, flags);\n}\n\n \nextern int notifier_add_irq(struct hvc_struct *hp, int data);\nextern void notifier_del_irq(struct hvc_struct *hp, int data);\nextern void notifier_hangup_irq(struct hvc_struct *hp, int data);\n\n\n#if defined(CONFIG_XMON) && defined(CONFIG_SMP)\n#include <asm/xmon.h>\n#else\nstatic inline int cpus_are_in_xmon(void)\n{\n\treturn 0;\n}\n#endif\n\n#endif \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}