{
  "module_name": "8250_pci.c",
  "hash_id": "2782fddcf1d76dd871257ca3333b9a7817387a76fe3a523f6862d51f32d3d008",
  "original_prompt": "Ingested from linux-6.6.14/drivers/tty/serial/8250/8250_pci.c",
  "human_readable_source": "\n \n#undef DEBUG\n#include <linux/module.h>\n#include <linux/pci.h>\n#include <linux/string.h>\n#include <linux/kernel.h>\n#include <linux/math.h>\n#include <linux/slab.h>\n#include <linux/delay.h>\n#include <linux/tty.h>\n#include <linux/serial_reg.h>\n#include <linux/serial_core.h>\n#include <linux/8250_pci.h>\n#include <linux/bitops.h>\n\n#include <asm/byteorder.h>\n#include <asm/io.h>\n\n#include \"8250.h\"\n#include \"8250_pcilib.h\"\n\n \nstruct pci_serial_quirk {\n\tu32\tvendor;\n\tu32\tdevice;\n\tu32\tsubvendor;\n\tu32\tsubdevice;\n\tint\t(*probe)(struct pci_dev *dev);\n\tint\t(*init)(struct pci_dev *dev);\n\tint\t(*setup)(struct serial_private *,\n\t\t\t const struct pciserial_board *,\n\t\t\t struct uart_8250_port *, int);\n\tvoid\t(*exit)(struct pci_dev *dev);\n};\n\nstruct f815xxa_data {\n\tspinlock_t lock;\n\tint idx;\n};\n\nstruct serial_private {\n\tstruct pci_dev\t\t*dev;\n\tunsigned int\t\tnr;\n\tstruct pci_serial_quirk\t*quirk;\n\tconst struct pciserial_board *board;\n\tint\t\t\tline[];\n};\n\n#define PCI_DEVICE_ID_HPE_PCI_SERIAL\t0x37e\n\nstatic const struct pci_device_id pci_use_msi[] = {\n\t{ PCI_DEVICE_SUB(PCI_VENDOR_ID_NETMOS, PCI_DEVICE_ID_NETMOS_9900,\n\t\t\t 0xA000, 0x1000) },\n\t{ PCI_DEVICE_SUB(PCI_VENDOR_ID_NETMOS, PCI_DEVICE_ID_NETMOS_9912,\n\t\t\t 0xA000, 0x1000) },\n\t{ PCI_DEVICE_SUB(PCI_VENDOR_ID_NETMOS, PCI_DEVICE_ID_NETMOS_9922,\n\t\t\t 0xA000, 0x1000) },\n\t{ PCI_DEVICE_SUB(PCI_VENDOR_ID_ASIX, PCI_DEVICE_ID_ASIX_AX99100,\n\t\t\t 0xA000, 0x1000) },\n\t{ PCI_DEVICE_SUB(PCI_VENDOR_ID_HP_3PAR, PCI_DEVICE_ID_HPE_PCI_SERIAL,\n\t\t\t PCI_ANY_ID, PCI_ANY_ID) },\n\t{ }\n};\n\nstatic int pci_default_setup(struct serial_private*,\n\t  const struct pciserial_board*, struct uart_8250_port *, int);\n\nstatic void moan_device(const char *str, struct pci_dev *dev)\n{\n\tpci_err(dev, \"%s\\n\"\n\t       \"Please send the output of lspci -vv, this\\n\"\n\t       \"message (0x%04x,0x%04x,0x%04x,0x%04x), the\\n\"\n\t       \"manufacturer and name of serial board or\\n\"\n\t       \"modem board to <linux-serial@vger.kernel.org>.\\n\",\n\t       str, dev->vendor, dev->device,\n\t       dev->subsystem_vendor, dev->subsystem_device);\n}\n\nstatic int\nsetup_port(struct serial_private *priv, struct uart_8250_port *port,\n\t   u8 bar, unsigned int offset, int regshift)\n{\n\treturn serial8250_pci_setup_port(priv->dev, port, bar, offset, regshift);\n}\n\n \nstatic int addidata_apci7800_setup(struct serial_private *priv,\n\t\t\t\tconst struct pciserial_board *board,\n\t\t\t\tstruct uart_8250_port *port, int idx)\n{\n\tunsigned int bar = 0, offset = board->first_offset;\n\tbar = FL_GET_BASE(board->flags);\n\n\tif (idx < 2) {\n\t\toffset += idx * board->uart_offset;\n\t} else if ((idx >= 2) && (idx < 4)) {\n\t\tbar += 1;\n\t\toffset += ((idx - 2) * board->uart_offset);\n\t} else if ((idx >= 4) && (idx < 6)) {\n\t\tbar += 2;\n\t\toffset += ((idx - 4) * board->uart_offset);\n\t} else if (idx >= 6) {\n\t\tbar += 3;\n\t\toffset += ((idx - 6) * board->uart_offset);\n\t}\n\n\treturn setup_port(priv, port, bar, offset, board->reg_shift);\n}\n\n \nstatic int\nafavlab_setup(struct serial_private *priv, const struct pciserial_board *board,\n\t      struct uart_8250_port *port, int idx)\n{\n\tunsigned int bar, offset = board->first_offset;\n\n\tbar = FL_GET_BASE(board->flags);\n\tif (idx < 4)\n\t\tbar += idx;\n\telse {\n\t\tbar = 4;\n\t\toffset += (idx - 4) * board->uart_offset;\n\t}\n\n\treturn setup_port(priv, port, bar, offset, board->reg_shift);\n}\n\n \nstatic int pci_hp_diva_init(struct pci_dev *dev)\n{\n\tint rc = 0;\n\n\tswitch (dev->subsystem_device) {\n\tcase PCI_DEVICE_ID_HP_DIVA_TOSCA1:\n\tcase PCI_DEVICE_ID_HP_DIVA_HALFDOME:\n\tcase PCI_DEVICE_ID_HP_DIVA_KEYSTONE:\n\tcase PCI_DEVICE_ID_HP_DIVA_EVEREST:\n\t\trc = 3;\n\t\tbreak;\n\tcase PCI_DEVICE_ID_HP_DIVA_TOSCA2:\n\t\trc = 2;\n\t\tbreak;\n\tcase PCI_DEVICE_ID_HP_DIVA_MAESTRO:\n\t\trc = 4;\n\t\tbreak;\n\tcase PCI_DEVICE_ID_HP_DIVA_POWERBAR:\n\tcase PCI_DEVICE_ID_HP_DIVA_HURRICANE:\n\t\trc = 1;\n\t\tbreak;\n\t}\n\n\treturn rc;\n}\n\n \nstatic int\npci_hp_diva_setup(struct serial_private *priv,\n\t\tconst struct pciserial_board *board,\n\t\tstruct uart_8250_port *port, int idx)\n{\n\tunsigned int offset = board->first_offset;\n\tunsigned int bar = FL_GET_BASE(board->flags);\n\n\tswitch (priv->dev->subsystem_device) {\n\tcase PCI_DEVICE_ID_HP_DIVA_MAESTRO:\n\t\tif (idx == 3)\n\t\t\tidx++;\n\t\tbreak;\n\tcase PCI_DEVICE_ID_HP_DIVA_EVEREST:\n\t\tif (idx > 0)\n\t\t\tidx++;\n\t\tif (idx > 2)\n\t\t\tidx++;\n\t\tbreak;\n\t}\n\tif (idx > 2)\n\t\toffset = 0x18;\n\n\toffset += idx * board->uart_offset;\n\n\treturn setup_port(priv, port, bar, offset, board->reg_shift);\n}\n\n \nstatic int pci_inteli960ni_init(struct pci_dev *dev)\n{\n\tu32 oldval;\n\n\tif (!(dev->subsystem_device & 0x1000))\n\t\treturn -ENODEV;\n\n\t \n\tpci_read_config_dword(dev, 0x44, &oldval);\n\tif (oldval == 0x00001000L) {  \n\t\tpci_dbg(dev, \"Local i960 firmware missing\\n\");\n\t\treturn -ENODEV;\n\t}\n\treturn 0;\n}\n\n \nstatic int pci_plx9050_init(struct pci_dev *dev)\n{\n\tu8 irq_config;\n\tvoid __iomem *p;\n\n\tif ((pci_resource_flags(dev, 0) & IORESOURCE_MEM) == 0) {\n\t\tmoan_device(\"no memory in bar 0\", dev);\n\t\treturn 0;\n\t}\n\n\tirq_config = 0x41;\n\tif (dev->vendor == PCI_VENDOR_ID_PANACOM ||\n\t    dev->subsystem_vendor == PCI_SUBVENDOR_ID_EXSYS)\n\t\tirq_config = 0x43;\n\n\tif ((dev->vendor == PCI_VENDOR_ID_PLX) &&\n\t    (dev->device == PCI_DEVICE_ID_PLX_ROMULUS))\n\t\t \n\t\tirq_config = 0x5b;\n\t \n\tp = ioremap(pci_resource_start(dev, 0), 0x80);\n\tif (p == NULL)\n\t\treturn -ENOMEM;\n\twritel(irq_config, p + 0x4c);\n\n\t \n\treadl(p + 0x4c);\n\tiounmap(p);\n\n\treturn 0;\n}\n\nstatic void pci_plx9050_exit(struct pci_dev *dev)\n{\n\tu8 __iomem *p;\n\n\tif ((pci_resource_flags(dev, 0) & IORESOURCE_MEM) == 0)\n\t\treturn;\n\n\t \n\tp = ioremap(pci_resource_start(dev, 0), 0x80);\n\tif (p != NULL) {\n\t\twritel(0, p + 0x4c);\n\n\t\t \n\t\treadl(p + 0x4c);\n\t\tiounmap(p);\n\t}\n}\n\n#define NI8420_INT_ENABLE_REG\t0x38\n#define NI8420_INT_ENABLE_BIT\t0x2000\n\nstatic void pci_ni8420_exit(struct pci_dev *dev)\n{\n\tvoid __iomem *p;\n\tunsigned int bar = 0;\n\n\tif ((pci_resource_flags(dev, bar) & IORESOURCE_MEM) == 0) {\n\t\tmoan_device(\"no memory in bar\", dev);\n\t\treturn;\n\t}\n\n\tp = pci_ioremap_bar(dev, bar);\n\tif (p == NULL)\n\t\treturn;\n\n\t \n\twritel(readl(p + NI8420_INT_ENABLE_REG) & ~(NI8420_INT_ENABLE_BIT),\n\t       p + NI8420_INT_ENABLE_REG);\n\tiounmap(p);\n}\n\n\n \n#define MITE_IOWBSR1\t0xc4\n#define MITE_IOWCR1\t0xf4\n#define MITE_LCIMR1\t0x08\n#define MITE_LCIMR2\t0x10\n\n#define MITE_LCIMR2_CLR_CPU_IE\t(1 << 30)\n\nstatic void pci_ni8430_exit(struct pci_dev *dev)\n{\n\tvoid __iomem *p;\n\tunsigned int bar = 0;\n\n\tif ((pci_resource_flags(dev, bar) & IORESOURCE_MEM) == 0) {\n\t\tmoan_device(\"no memory in bar\", dev);\n\t\treturn;\n\t}\n\n\tp = pci_ioremap_bar(dev, bar);\n\tif (p == NULL)\n\t\treturn;\n\n\t \n\twritel(MITE_LCIMR2_CLR_CPU_IE, p + MITE_LCIMR2);\n\tiounmap(p);\n}\n\n \nstatic int\nsbs_setup(struct serial_private *priv, const struct pciserial_board *board,\n\t\tstruct uart_8250_port *port, int idx)\n{\n\tunsigned int bar, offset = board->first_offset;\n\n\tbar = 0;\n\n\tif (idx < 4) {\n\t\t \n\t\toffset += idx * board->uart_offset;\n\t} else if (idx < 8) {\n\t\t \n\t\toffset += idx * board->uart_offset + 0xC00;\n\t} else  \n\t\treturn 1;\n\n\treturn setup_port(priv, port, bar, offset, board->reg_shift);\n}\n\n \n\n \n#define OCT_REG_CR_OFF\t\t0x500\n\nstatic int sbs_init(struct pci_dev *dev)\n{\n\tu8 __iomem *p;\n\n\tp = pci_ioremap_bar(dev, 0);\n\n\tif (p == NULL)\n\t\treturn -ENOMEM;\n\t \n\twriteb(0x10, p + OCT_REG_CR_OFF);\n\tudelay(50);\n\twriteb(0x0, p + OCT_REG_CR_OFF);\n\n\t \n\twriteb(0x4, p + OCT_REG_CR_OFF);\n\tiounmap(p);\n\n\treturn 0;\n}\n\n \n\nstatic void sbs_exit(struct pci_dev *dev)\n{\n\tu8 __iomem *p;\n\n\tp = pci_ioremap_bar(dev, 0);\n\t \n\tif (p != NULL)\n\t\twriteb(0, p + OCT_REG_CR_OFF);\n\tiounmap(p);\n}\n\n \n\n#define PCI_DEVICE_ID_SIIG_1S_10x (PCI_DEVICE_ID_SIIG_1S_10x_550 & 0xfffc)\n#define PCI_DEVICE_ID_SIIG_2S_10x (PCI_DEVICE_ID_SIIG_2S_10x_550 & 0xfff8)\n\nstatic int pci_siig10x_init(struct pci_dev *dev)\n{\n\tu16 data;\n\tvoid __iomem *p;\n\n\tswitch (dev->device & 0xfff8) {\n\tcase PCI_DEVICE_ID_SIIG_1S_10x:\t \n\t\tdata = 0xffdf;\n\t\tbreak;\n\tcase PCI_DEVICE_ID_SIIG_2S_10x:\t \n\t\tdata = 0xf7ff;\n\t\tbreak;\n\tdefault:\t\t\t \n\t\tdata = 0xfffb;\n\t\tbreak;\n\t}\n\n\tp = ioremap(pci_resource_start(dev, 0), 0x80);\n\tif (p == NULL)\n\t\treturn -ENOMEM;\n\n\twritew(readw(p + 0x28) & data, p + 0x28);\n\treadw(p + 0x28);\n\tiounmap(p);\n\treturn 0;\n}\n\n#define PCI_DEVICE_ID_SIIG_2S_20x (PCI_DEVICE_ID_SIIG_2S_20x_550 & 0xfffc)\n#define PCI_DEVICE_ID_SIIG_2S1P_20x (PCI_DEVICE_ID_SIIG_2S1P_20x_550 & 0xfffc)\n\nstatic int pci_siig20x_init(struct pci_dev *dev)\n{\n\tu8 data;\n\n\t \n\tpci_read_config_byte(dev, 0x6f, &data);\n\tpci_write_config_byte(dev, 0x6f, data & 0xef);\n\n\t \n\tif (((dev->device & 0xfffc) == PCI_DEVICE_ID_SIIG_2S_20x) ||\n\t    ((dev->device & 0xfffc) == PCI_DEVICE_ID_SIIG_2S1P_20x)) {\n\t\tpci_read_config_byte(dev, 0x73, &data);\n\t\tpci_write_config_byte(dev, 0x73, data & 0xef);\n\t}\n\treturn 0;\n}\n\nstatic int pci_siig_init(struct pci_dev *dev)\n{\n\tunsigned int type = dev->device & 0xff00;\n\n\tif (type == 0x1000)\n\t\treturn pci_siig10x_init(dev);\n\tif (type == 0x2000)\n\t\treturn pci_siig20x_init(dev);\n\n\tmoan_device(\"Unknown SIIG card\", dev);\n\treturn -ENODEV;\n}\n\nstatic int pci_siig_setup(struct serial_private *priv,\n\t\t\t  const struct pciserial_board *board,\n\t\t\t  struct uart_8250_port *port, int idx)\n{\n\tunsigned int bar = FL_GET_BASE(board->flags) + idx, offset = 0;\n\n\tif (idx > 3) {\n\t\tbar = 4;\n\t\toffset = (idx - 4) * 8;\n\t}\n\n\treturn setup_port(priv, port, bar, offset, 0);\n}\n\n \nstatic const unsigned short timedia_single_port[] = {\n\t0x4025, 0x4027, 0x4028, 0x5025, 0x5027, 0\n};\n\nstatic const unsigned short timedia_dual_port[] = {\n\t0x0002, 0x4036, 0x4037, 0x4038, 0x4078, 0x4079, 0x4085,\n\t0x4088, 0x4089, 0x5037, 0x5078, 0x5079, 0x5085, 0x6079,\n\t0x7079, 0x8079, 0x8137, 0x8138, 0x8237, 0x8238, 0x9079,\n\t0x9137, 0x9138, 0x9237, 0x9238, 0xA079, 0xB079, 0xC079,\n\t0xD079, 0\n};\n\nstatic const unsigned short timedia_quad_port[] = {\n\t0x4055, 0x4056, 0x4095, 0x4096, 0x5056, 0x8156, 0x8157,\n\t0x8256, 0x8257, 0x9056, 0x9156, 0x9157, 0x9158, 0x9159,\n\t0x9256, 0x9257, 0xA056, 0xA157, 0xA158, 0xA159, 0xB056,\n\t0xB157, 0\n};\n\nstatic const unsigned short timedia_eight_port[] = {\n\t0x4065, 0x4066, 0x5065, 0x5066, 0x8166, 0x9066, 0x9166,\n\t0x9167, 0x9168, 0xA066, 0xA167, 0xA168, 0\n};\n\nstatic const struct timedia_struct {\n\tint num;\n\tconst unsigned short *ids;\n} timedia_data[] = {\n\t{ 1, timedia_single_port },\n\t{ 2, timedia_dual_port },\n\t{ 4, timedia_quad_port },\n\t{ 8, timedia_eight_port }\n};\n\n \nstatic int pci_timedia_probe(struct pci_dev *dev)\n{\n\t \n\tif ((dev->subsystem_device & 0x00f0) >= 0x70) {\n\t\tpci_info(dev, \"ignoring Timedia subdevice %04x for parport_serial\\n\",\n\t\t\t dev->subsystem_device);\n\t\treturn -ENODEV;\n\t}\n\n\treturn 0;\n}\n\nstatic int pci_timedia_init(struct pci_dev *dev)\n{\n\tconst unsigned short *ids;\n\tint i, j;\n\n\tfor (i = 0; i < ARRAY_SIZE(timedia_data); i++) {\n\t\tids = timedia_data[i].ids;\n\t\tfor (j = 0; ids[j]; j++)\n\t\t\tif (dev->subsystem_device == ids[j])\n\t\t\t\treturn timedia_data[i].num;\n\t}\n\treturn 0;\n}\n\n \nstatic int\npci_timedia_setup(struct serial_private *priv,\n\t\t  const struct pciserial_board *board,\n\t\t  struct uart_8250_port *port, int idx)\n{\n\tunsigned int bar = 0, offset = board->first_offset;\n\n\tswitch (idx) {\n\tcase 0:\n\t\tbar = 0;\n\t\tbreak;\n\tcase 1:\n\t\toffset = board->uart_offset;\n\t\tbar = 0;\n\t\tbreak;\n\tcase 2:\n\t\tbar = 1;\n\t\tbreak;\n\tcase 3:\n\t\toffset = board->uart_offset;\n\t\tfallthrough;\n\tcase 4:  \n\tcase 5:  \n\tcase 6:  \n\tcase 7:  \n\t\tbar = idx - 2;\n\t}\n\n\treturn setup_port(priv, port, bar, offset, board->reg_shift);\n}\n\n \nstatic int\ntitan_400l_800l_setup(struct serial_private *priv,\n\t\t      const struct pciserial_board *board,\n\t\t      struct uart_8250_port *port, int idx)\n{\n\tunsigned int bar, offset = board->first_offset;\n\n\tswitch (idx) {\n\tcase 0:\n\t\tbar = 1;\n\t\tbreak;\n\tcase 1:\n\t\tbar = 2;\n\t\tbreak;\n\tdefault:\n\t\tbar = 4;\n\t\toffset = (idx - 2) * board->uart_offset;\n\t}\n\n\treturn setup_port(priv, port, bar, offset, board->reg_shift);\n}\n\nstatic int pci_xircom_init(struct pci_dev *dev)\n{\n\tmsleep(100);\n\treturn 0;\n}\n\nstatic int pci_ni8420_init(struct pci_dev *dev)\n{\n\tvoid __iomem *p;\n\tunsigned int bar = 0;\n\n\tif ((pci_resource_flags(dev, bar) & IORESOURCE_MEM) == 0) {\n\t\tmoan_device(\"no memory in bar\", dev);\n\t\treturn 0;\n\t}\n\n\tp = pci_ioremap_bar(dev, bar);\n\tif (p == NULL)\n\t\treturn -ENOMEM;\n\n\t \n\twritel(readl(p + NI8420_INT_ENABLE_REG) | NI8420_INT_ENABLE_BIT,\n\t       p + NI8420_INT_ENABLE_REG);\n\n\tiounmap(p);\n\treturn 0;\n}\n\n#define MITE_IOWBSR1_WSIZE\t0xa\n#define MITE_IOWBSR1_WIN_OFFSET\t0x800\n#define MITE_IOWBSR1_WENAB\t(1 << 7)\n#define MITE_LCIMR1_IO_IE_0\t(1 << 24)\n#define MITE_LCIMR2_SET_CPU_IE\t(1 << 31)\n#define MITE_IOWCR1_RAMSEL_MASK\t0xfffffffe\n\nstatic int pci_ni8430_init(struct pci_dev *dev)\n{\n\tvoid __iomem *p;\n\tstruct pci_bus_region region;\n\tu32 device_window;\n\tunsigned int bar = 0;\n\n\tif ((pci_resource_flags(dev, bar) & IORESOURCE_MEM) == 0) {\n\t\tmoan_device(\"no memory in bar\", dev);\n\t\treturn 0;\n\t}\n\n\tp = pci_ioremap_bar(dev, bar);\n\tif (p == NULL)\n\t\treturn -ENOMEM;\n\n\t \n\tpcibios_resource_to_bus(dev->bus, &region, &dev->resource[bar]);\n\tdevice_window = ((region.start + MITE_IOWBSR1_WIN_OFFSET) & 0xffffff00)\n\t\t\t| MITE_IOWBSR1_WENAB | MITE_IOWBSR1_WSIZE;\n\twritel(device_window, p + MITE_IOWBSR1);\n\n\t \n\twritel((readl(p + MITE_IOWCR1) & MITE_IOWCR1_RAMSEL_MASK),\n\t       p + MITE_IOWCR1);\n\n\t \n\twritel(MITE_LCIMR1_IO_IE_0, p + MITE_LCIMR1);\n\n\t \n\twritel(MITE_LCIMR2_SET_CPU_IE, p + MITE_LCIMR2);\n\n\tiounmap(p);\n\treturn 0;\n}\n\n \n#define NI8430_PORTCON\t0x0f\n#define NI8430_PORTCON_TXVR_ENABLE\t(1 << 3)\n\nstatic int\npci_ni8430_setup(struct serial_private *priv,\n\t\t const struct pciserial_board *board,\n\t\t struct uart_8250_port *port, int idx)\n{\n\tstruct pci_dev *dev = priv->dev;\n\tvoid __iomem *p;\n\tunsigned int bar, offset = board->first_offset;\n\n\tif (idx >= board->num_ports)\n\t\treturn 1;\n\n\tbar = FL_GET_BASE(board->flags);\n\toffset += idx * board->uart_offset;\n\n\tp = pci_ioremap_bar(dev, bar);\n\tif (!p)\n\t\treturn -ENOMEM;\n\n\t \n\twriteb(readb(p + offset + NI8430_PORTCON) | NI8430_PORTCON_TXVR_ENABLE,\n\t       p + offset + NI8430_PORTCON);\n\n\tiounmap(p);\n\n\treturn setup_port(priv, port, bar, offset, board->reg_shift);\n}\n\nstatic int pci_netmos_9900_setup(struct serial_private *priv,\n\t\t\t\tconst struct pciserial_board *board,\n\t\t\t\tstruct uart_8250_port *port, int idx)\n{\n\tunsigned int bar;\n\n\tif ((priv->dev->device != PCI_DEVICE_ID_NETMOS_9865) &&\n\t    (priv->dev->subsystem_device & 0xff00) == 0x3000) {\n\t\t \n\t\tbar = 3 * idx;\n\n\t\treturn setup_port(priv, port, bar, 0, board->reg_shift);\n\t}\n\n\treturn pci_default_setup(priv, board, port, idx);\n}\n\n \nstatic int pci_netmos_9900_numports(struct pci_dev *dev)\n{\n\tunsigned int c = dev->class;\n\tunsigned int pi;\n\tunsigned short sub_serports;\n\n\tpi = c & 0xff;\n\n\tif (pi == 2)\n\t\treturn 1;\n\n\tif ((pi == 0) && (dev->device == PCI_DEVICE_ID_NETMOS_9900)) {\n\t\t \n\t\tsub_serports = dev->subsystem_device & 0xf;\n\t\tif (sub_serports > 0)\n\t\t\treturn sub_serports;\n\n\t\tpci_err(dev, \"NetMos/Mostech serial driver ignoring port on ambiguous config.\\n\");\n\t\treturn 0;\n\t}\n\n\tmoan_device(\"unknown NetMos/Mostech program interface\", dev);\n\treturn 0;\n}\n\nstatic int pci_netmos_init(struct pci_dev *dev)\n{\n\t \n\tunsigned int num_serial = dev->subsystem_device & 0xf;\n\n\tif ((dev->device == PCI_DEVICE_ID_NETMOS_9901) ||\n\t\t(dev->device == PCI_DEVICE_ID_NETMOS_9865))\n\t\treturn 0;\n\n\tif (dev->subsystem_vendor == PCI_VENDOR_ID_IBM &&\n\t\t\tdev->subsystem_device == 0x0299)\n\t\treturn 0;\n\n\tswitch (dev->device) {  \n\tcase PCI_DEVICE_ID_NETMOS_9904:\n\tcase PCI_DEVICE_ID_NETMOS_9912:\n\tcase PCI_DEVICE_ID_NETMOS_9922:\n\tcase PCI_DEVICE_ID_NETMOS_9900:\n\t\tnum_serial = pci_netmos_9900_numports(dev);\n\t\tbreak;\n\n\tdefault:\n\t\tbreak;\n\t}\n\n\tif (num_serial == 0) {\n\t\tmoan_device(\"unknown NetMos/Mostech device\", dev);\n\t\treturn -ENODEV;\n\t}\n\n\treturn num_serial;\n}\n\n \n\n \n#define ITE_887x_MISCR\t\t0x9c\n#define ITE_887x_INTCBAR\t0x78\n#define ITE_887x_UARTBAR\t0x7c\n#define ITE_887x_PS0BAR\t\t0x10\n#define ITE_887x_POSIO0\t\t0x60\n\n \n#define ITE_887x_IOSIZE\t\t32\n \n#define ITE_887x_POSIO_IOSIZE_8\t\t(3 << 24)\n \n#define ITE_887x_POSIO_IOSIZE_32\t(5 << 24)\n \n#define ITE_887x_POSIO_SPEED\t\t(3 << 29)\n \n#define ITE_887x_POSIO_ENABLE\t\t(1 << 31)\n\n \nstatic const short inta_addr[] = { 0x2a0, 0x2c0, 0x220, 0x240, 0x1e0, 0x200, 0x280 };\nstatic int pci_ite887x_init(struct pci_dev *dev)\n{\n\tint ret, i, type;\n\tstruct resource *iobase = NULL;\n\tu32 miscr, uartbar, ioport;\n\n\t \n\tfor (i = 0; i < ARRAY_SIZE(inta_addr); i++) {\n\t\tiobase = request_region(inta_addr[i], ITE_887x_IOSIZE,\n\t\t\t\t\t\t\t\t\"ite887x\");\n\t\tif (iobase != NULL) {\n\t\t\t \n\t\t\tpci_write_config_dword(dev, ITE_887x_POSIO0,\n\t\t\t\tITE_887x_POSIO_ENABLE | ITE_887x_POSIO_SPEED |\n\t\t\t\tITE_887x_POSIO_IOSIZE_32 | inta_addr[i]);\n\t\t\t \n\t\t\tpci_write_config_dword(dev, ITE_887x_INTCBAR,\n\t\t\t\t\t\t\t\tinta_addr[i]);\n\t\t\tret = inb(inta_addr[i]);\n\t\t\tif (ret != 0xff) {\n\t\t\t\t \n\t\t\t\tbreak;\n\t\t\t}\n\t\t\trelease_region(iobase->start, ITE_887x_IOSIZE);\n\t\t}\n\t}\n\n\tif (i == ARRAY_SIZE(inta_addr)) {\n\t\tpci_err(dev, \"could not find iobase\\n\");\n\t\treturn -ENODEV;\n\t}\n\n\t \n\ttype = inb(iobase->start + 0x18) & 0x0f;\n\n\tswitch (type) {\n\tcase 0x2:\t \n\tcase 0xa:\t \n\t\tret = 0;\n\t\tbreak;\n\tcase 0xe:\t \n\t\tret = 2;\n\t\tbreak;\n\tcase 0x6:\t \n\t\tret = 1;\n\t\tbreak;\n\tcase 0x8:\t \n\t\tret = 2;\n\t\tbreak;\n\tdefault:\n\t\tmoan_device(\"Unknown ITE887x\", dev);\n\t\tret = -ENODEV;\n\t}\n\n\t \n\tfor (i = 0; i < ret; i++) {\n\t\t \n\t\tpci_read_config_dword(dev, ITE_887x_PS0BAR + (0x4 * (i + 1)),\n\t\t\t\t\t\t\t\t&ioport);\n\t\tioport &= 0x0000FF00;\t \n\t\tpci_write_config_dword(dev, ITE_887x_POSIO0 + (0x4 * (i + 1)),\n\t\t\tITE_887x_POSIO_ENABLE | ITE_887x_POSIO_SPEED |\n\t\t\tITE_887x_POSIO_IOSIZE_8 | ioport);\n\n\t\t \n\t\tpci_read_config_dword(dev, ITE_887x_UARTBAR, &uartbar);\n\t\tuartbar &= ~(0xffff << (16 * i));\t \n\t\tuartbar |= (ioport << (16 * i));\t \n\t\tpci_write_config_dword(dev, ITE_887x_UARTBAR, uartbar);\n\n\t\t \n\t\tpci_read_config_dword(dev, ITE_887x_MISCR, &miscr);\n\t\t \n\t\tmiscr &= ~(0xf << (12 - 4 * i));\n\t\t \n\t\tmiscr |= 1 << (23 - i);\n\t\t \n\t\tpci_write_config_dword(dev, ITE_887x_MISCR, miscr);\n\t}\n\n\tif (ret <= 0) {\n\t\t \n\t\trelease_region(iobase->start, ITE_887x_IOSIZE);\n\t}\n\n\treturn ret;\n}\n\nstatic void pci_ite887x_exit(struct pci_dev *dev)\n{\n\tu32 ioport;\n\t \n\tpci_read_config_dword(dev, ITE_887x_POSIO0, &ioport);\n\tioport &= 0xffff;\n\trelease_region(ioport, ITE_887x_IOSIZE);\n}\n\n \n#define PCI_VENDOR_ID_ENDRUN\t\t\t0x7401\n#define PCI_DEVICE_ID_ENDRUN_1588\t0xe100\n\nstatic bool pci_oxsemi_tornado_p(struct pci_dev *dev)\n{\n\t \n\tif (dev->vendor == PCI_VENDOR_ID_OXSEMI &&\n\t    (dev->device & 0xf000) != 0xc000)\n\t\treturn false;\n\n\t \n\tif (dev->vendor == PCI_VENDOR_ID_ENDRUN &&\n\t    (dev->device & 0xf000) != 0xe000)\n\t\treturn false;\n\n\treturn true;\n}\n\n \nstatic int pci_oxsemi_tornado_init(struct pci_dev *dev)\n{\n\tu8 __iomem *p;\n\tunsigned long deviceID;\n\tunsigned int  number_uarts = 0;\n\n\tif (!pci_oxsemi_tornado_p(dev))\n\t\treturn 0;\n\n\tp = pci_iomap(dev, 0, 5);\n\tif (p == NULL)\n\t\treturn -ENOMEM;\n\n\tdeviceID = ioread32(p);\n\t \n\tif (deviceID == 0x07000200) {\n\t\tnumber_uarts = ioread8(p + 4);\n\t\tpci_dbg(dev, \"%d ports detected on %s PCI Express device\\n\",\n\t\t\tnumber_uarts,\n\t\t\tdev->vendor == PCI_VENDOR_ID_ENDRUN ?\n\t\t\t\"EndRun\" : \"Oxford\");\n\t}\n\tpci_iounmap(dev, p);\n\treturn number_uarts;\n}\n\n \n#define OXSEMI_TORNADO_TCR_MASK\t0xf\n#define OXSEMI_TORNADO_CPR_MASK\t0x1ff\n#define OXSEMI_TORNADO_CPR_MIN\t0x008\n#define OXSEMI_TORNADO_CPR_DEF\t0x10f\n\n \nstatic unsigned int pci_oxsemi_tornado_get_divisor(struct uart_port *port,\n\t\t\t\t\t\t   unsigned int baud,\n\t\t\t\t\t\t   unsigned int *frac)\n{\n\tstatic u8 p[][2] = {\n\t\t{ 16, 14, }, { 16, 13, }, { 16, 12, }, { 16, 11, },\n\t\t{ 16, 10, }, { 16,  9, }, { 16,  8, }, { 15, 17, },\n\t\t{ 15, 16, }, { 15, 15, }, { 15, 14, }, { 15, 13, },\n\t\t{ 15, 12, }, { 15, 11, }, { 15, 10, }, { 15,  9, },\n\t\t{ 15,  8, }, { 14, 18, }, { 14, 17, }, { 14, 14, },\n\t\t{ 14, 13, }, { 14, 12, }, { 14, 11, }, { 14, 10, },\n\t\t{ 14,  9, }, { 14,  8, }, { 13, 19, }, { 13, 18, },\n\t\t{ 13, 17, }, { 13, 13, }, { 13, 12, }, { 13, 11, },\n\t\t{ 13, 10, }, { 13,  9, }, { 13,  8, }, { 12, 19, },\n\t\t{ 12, 18, }, { 12, 17, }, { 12, 11, }, { 12,  9, },\n\t\t{ 12,  8, }, { 11, 23, }, { 11, 22, }, { 11, 21, },\n\t\t{ 11, 20, }, { 11, 19, }, { 11, 18, }, { 11, 17, },\n\t\t{ 11, 11, }, { 11, 10, }, { 11,  9, }, { 11,  8, },\n\t\t{ 10, 25, }, { 10, 23, }, { 10, 20, }, { 10, 19, },\n\t\t{ 10, 17, }, { 10, 10, }, { 10,  9, }, { 10,  8, },\n\t\t{  9, 27, }, {  9, 23, }, {  9, 21, }, {  9, 19, },\n\t\t{  9, 18, }, {  9, 17, }, {  9,  9, }, {  9,  8, },\n\t\t{  8, 31, }, {  8, 29, }, {  8, 23, }, {  8, 19, },\n\t\t{  8, 17, }, {  8,  8, }, {  7, 35, }, {  7, 31, },\n\t\t{  7, 29, }, {  7, 25, }, {  7, 23, }, {  7, 21, },\n\t\t{  7, 19, }, {  7, 17, }, {  7, 15, }, {  7, 14, },\n\t\t{  7, 13, }, {  7, 12, }, {  7, 11, }, {  7, 10, },\n\t\t{  7,  9, }, {  7,  8, }, {  6, 41, }, {  6, 37, },\n\t\t{  6, 31, }, {  6, 29, }, {  6, 23, }, {  6, 19, },\n\t\t{  6, 17, }, {  6, 13, }, {  6, 11, }, {  6, 10, },\n\t\t{  6,  9, }, {  6,  8, }, {  5, 67, }, {  5, 47, },\n\t\t{  5, 43, }, {  5, 41, }, {  5, 37, }, {  5, 31, },\n\t\t{  5, 29, }, {  5, 25, }, {  5, 23, }, {  5, 19, },\n\t\t{  5, 17, }, {  5, 15, }, {  5, 13, }, {  5, 11, },\n\t\t{  5, 10, }, {  5,  9, }, {  5,  8, }, {  4, 61, },\n\t\t{  4, 59, }, {  4, 53, }, {  4, 47, }, {  4, 43, },\n\t\t{  4, 41, }, {  4, 37, }, {  4, 31, }, {  4, 29, },\n\t\t{  4, 23, }, {  4, 19, }, {  4, 17, }, {  4, 13, },\n\t\t{  4,  9, }, {  4,  8, },\n\t};\n\t \n\tconst unsigned int quot_scale = 65536;\n\tunsigned int sclk = port->uartclk * 2;\n\tunsigned int sdiv = DIV_ROUND_CLOSEST(sclk, baud);\n\tunsigned int best_squot;\n\tunsigned int squot;\n\tunsigned int quot;\n\tu16 cpr;\n\tu8 tcr;\n\tint i;\n\n\t \n\tif (baud == 38400 && (port->flags & UPF_SPD_MASK) == UPF_SPD_CUST) {\n\t\tunsigned int cust_div = port->custom_divisor;\n\n\t\tquot = cust_div & UART_DIV_MAX;\n\t\ttcr = (cust_div >> 16) & OXSEMI_TORNADO_TCR_MASK;\n\t\tcpr = (cust_div >> 20) & OXSEMI_TORNADO_CPR_MASK;\n\t\tif (cpr < OXSEMI_TORNADO_CPR_MIN)\n\t\t\tcpr = OXSEMI_TORNADO_CPR_DEF;\n\t} else {\n\t\tbest_squot = quot_scale;\n\t\tfor (i = 0; i < ARRAY_SIZE(p); i++) {\n\t\t\tunsigned int spre;\n\t\t\tunsigned int srem;\n\t\t\tu8 cp;\n\t\t\tu8 tc;\n\n\t\t\ttc = p[i][0];\n\t\t\tcp = p[i][1];\n\t\t\tspre = tc * cp;\n\n\t\t\tsrem = sdiv % spre;\n\t\t\tif (srem > spre / 2)\n\t\t\t\tsrem = spre - srem;\n\t\t\tsquot = DIV_ROUND_CLOSEST(srem * quot_scale, spre);\n\n\t\t\tif (srem == 0) {\n\t\t\t\ttcr = tc;\n\t\t\t\tcpr = cp;\n\t\t\t\tquot = sdiv / spre;\n\t\t\t\tbreak;\n\t\t\t} else if (squot < best_squot) {\n\t\t\t\tbest_squot = squot;\n\t\t\t\ttcr = tc;\n\t\t\t\tcpr = cp;\n\t\t\t\tquot = DIV_ROUND_CLOSEST(sdiv, spre);\n\t\t\t}\n\t\t}\n\t\twhile (tcr <= (OXSEMI_TORNADO_TCR_MASK + 1) >> 1 &&\n\t\t       quot % 2 == 0) {\n\t\t\tquot >>= 1;\n\t\t\ttcr <<= 1;\n\t\t}\n\t\twhile (quot > UART_DIV_MAX) {\n\t\t\tif (tcr <= (OXSEMI_TORNADO_TCR_MASK + 1) >> 1) {\n\t\t\t\tquot >>= 1;\n\t\t\t\ttcr <<= 1;\n\t\t\t} else if (cpr <= OXSEMI_TORNADO_CPR_MASK >> 1) {\n\t\t\t\tquot >>= 1;\n\t\t\t\tcpr <<= 1;\n\t\t\t} else {\n\t\t\t\tquot = quot * cpr / OXSEMI_TORNADO_CPR_MASK;\n\t\t\t\tcpr = OXSEMI_TORNADO_CPR_MASK;\n\t\t\t}\n\t\t}\n\t}\n\n\t*frac = (cpr << 8) | (tcr & OXSEMI_TORNADO_TCR_MASK);\n\treturn quot;\n}\n\n \nstatic void pci_oxsemi_tornado_set_divisor(struct uart_port *port,\n\t\t\t\t\t   unsigned int baud,\n\t\t\t\t\t   unsigned int quot,\n\t\t\t\t\t   unsigned int quot_frac)\n{\n\tstruct uart_8250_port *up = up_to_u8250p(port);\n\tu8 cpr2 = quot_frac >> 16;\n\tu8 cpr = quot_frac >> 8;\n\tu8 tcr = quot_frac;\n\n\tserial_icr_write(up, UART_TCR, tcr);\n\tserial_icr_write(up, UART_CPR, cpr);\n\tserial_icr_write(up, UART_CKS, cpr2);\n\tserial8250_do_set_divisor(port, baud, quot, 0);\n}\n\n \nstatic void pci_oxsemi_tornado_set_mctrl(struct uart_port *port,\n\t\t\t\t\t unsigned int mctrl)\n{\n\tstruct uart_8250_port *up = up_to_u8250p(port);\n\n\tup->mcr |= UART_MCR_CLKSEL;\n\tserial8250_do_set_mctrl(port, mctrl);\n}\n\n \nstatic int pci_oxsemi_tornado_setup(struct serial_private *priv,\n\t\t\t\t    const struct pciserial_board *board,\n\t\t\t\t    struct uart_8250_port *up, int idx)\n{\n\tstruct pci_dev *dev = priv->dev;\n\n\tif (pci_oxsemi_tornado_p(dev)) {\n\t\tup->port.flags |= UPF_FULL_PROBE;\n\t\tup->port.get_divisor = pci_oxsemi_tornado_get_divisor;\n\t\tup->port.set_divisor = pci_oxsemi_tornado_set_divisor;\n\t\tup->port.set_mctrl = pci_oxsemi_tornado_set_mctrl;\n\t}\n\n\treturn pci_default_setup(priv, board, up, idx);\n}\n\n#define QPCR_TEST_FOR1\t\t0x3F\n#define QPCR_TEST_GET1\t\t0x00\n#define QPCR_TEST_FOR2\t\t0x40\n#define QPCR_TEST_GET2\t\t0x40\n#define QPCR_TEST_FOR3\t\t0x80\n#define QPCR_TEST_GET3\t\t0x40\n#define QPCR_TEST_FOR4\t\t0xC0\n#define QPCR_TEST_GET4\t\t0x80\n\n#define QOPR_CLOCK_X1\t\t0x0000\n#define QOPR_CLOCK_X2\t\t0x0001\n#define QOPR_CLOCK_X4\t\t0x0002\n#define QOPR_CLOCK_X8\t\t0x0003\n#define QOPR_CLOCK_RATE_MASK\t0x0003\n\n \nstatic struct pci_device_id quatech_cards[] = {\n\t{ PCI_DEVICE_DATA(QUATECH, QSC100,   1) },\n\t{ PCI_DEVICE_DATA(QUATECH, DSC100,   1) },\n\t{ PCI_DEVICE_DATA(QUATECH, DSC100E,  0) },\n\t{ PCI_DEVICE_DATA(QUATECH, DSC200,   1) },\n\t{ PCI_DEVICE_DATA(QUATECH, DSC200E,  0) },\n\t{ PCI_DEVICE_DATA(QUATECH, ESC100D,  1) },\n\t{ PCI_DEVICE_DATA(QUATECH, ESC100M,  1) },\n\t{ PCI_DEVICE_DATA(QUATECH, QSCP100,  1) },\n\t{ PCI_DEVICE_DATA(QUATECH, DSCP100,  1) },\n\t{ PCI_DEVICE_DATA(QUATECH, QSCP200,  1) },\n\t{ PCI_DEVICE_DATA(QUATECH, DSCP200,  1) },\n\t{ PCI_DEVICE_DATA(QUATECH, ESCLP100, 0) },\n\t{ PCI_DEVICE_DATA(QUATECH, QSCLP100, 0) },\n\t{ PCI_DEVICE_DATA(QUATECH, DSCLP100, 0) },\n\t{ PCI_DEVICE_DATA(QUATECH, SSCLP100, 0) },\n\t{ PCI_DEVICE_DATA(QUATECH, QSCLP200, 0) },\n\t{ PCI_DEVICE_DATA(QUATECH, DSCLP200, 0) },\n\t{ PCI_DEVICE_DATA(QUATECH, SSCLP200, 0) },\n\t{ PCI_DEVICE_DATA(QUATECH, SPPXP_100, 0) },\n\t{ 0, }\n};\n\nstatic int pci_quatech_rqopr(struct uart_8250_port *port)\n{\n\tunsigned long base = port->port.iobase;\n\tu8 LCR, val;\n\n\tLCR = inb(base + UART_LCR);\n\toutb(0xBF, base + UART_LCR);\n\tval = inb(base + UART_SCR);\n\toutb(LCR, base + UART_LCR);\n\treturn val;\n}\n\nstatic void pci_quatech_wqopr(struct uart_8250_port *port, u8 qopr)\n{\n\tunsigned long base = port->port.iobase;\n\tu8 LCR;\n\n\tLCR = inb(base + UART_LCR);\n\toutb(0xBF, base + UART_LCR);\n\tinb(base + UART_SCR);\n\toutb(qopr, base + UART_SCR);\n\toutb(LCR, base + UART_LCR);\n}\n\nstatic int pci_quatech_rqmcr(struct uart_8250_port *port)\n{\n\tunsigned long base = port->port.iobase;\n\tu8 LCR, val, qmcr;\n\n\tLCR = inb(base + UART_LCR);\n\toutb(0xBF, base + UART_LCR);\n\tval = inb(base + UART_SCR);\n\toutb(val | 0x10, base + UART_SCR);\n\tqmcr = inb(base + UART_MCR);\n\toutb(val, base + UART_SCR);\n\toutb(LCR, base + UART_LCR);\n\n\treturn qmcr;\n}\n\nstatic void pci_quatech_wqmcr(struct uart_8250_port *port, u8 qmcr)\n{\n\tunsigned long base = port->port.iobase;\n\tu8 LCR, val;\n\n\tLCR = inb(base + UART_LCR);\n\toutb(0xBF, base + UART_LCR);\n\tval = inb(base + UART_SCR);\n\toutb(val | 0x10, base + UART_SCR);\n\toutb(qmcr, base + UART_MCR);\n\toutb(val, base + UART_SCR);\n\toutb(LCR, base + UART_LCR);\n}\n\nstatic int pci_quatech_has_qmcr(struct uart_8250_port *port)\n{\n\tunsigned long base = port->port.iobase;\n\tu8 LCR, val;\n\n\tLCR = inb(base + UART_LCR);\n\toutb(0xBF, base + UART_LCR);\n\tval = inb(base + UART_SCR);\n\tif (val & 0x20) {\n\t\toutb(0x80, UART_LCR);\n\t\tif (!(inb(UART_SCR) & 0x20)) {\n\t\t\toutb(LCR, base + UART_LCR);\n\t\t\treturn 1;\n\t\t}\n\t}\n\treturn 0;\n}\n\nstatic int pci_quatech_test(struct uart_8250_port *port)\n{\n\tu8 reg, qopr;\n\n\tqopr = pci_quatech_rqopr(port);\n\tpci_quatech_wqopr(port, qopr & QPCR_TEST_FOR1);\n\treg = pci_quatech_rqopr(port) & 0xC0;\n\tif (reg != QPCR_TEST_GET1)\n\t\treturn -EINVAL;\n\tpci_quatech_wqopr(port, (qopr & QPCR_TEST_FOR1)|QPCR_TEST_FOR2);\n\treg = pci_quatech_rqopr(port) & 0xC0;\n\tif (reg != QPCR_TEST_GET2)\n\t\treturn -EINVAL;\n\tpci_quatech_wqopr(port, (qopr & QPCR_TEST_FOR1)|QPCR_TEST_FOR3);\n\treg = pci_quatech_rqopr(port) & 0xC0;\n\tif (reg != QPCR_TEST_GET3)\n\t\treturn -EINVAL;\n\tpci_quatech_wqopr(port, (qopr & QPCR_TEST_FOR1)|QPCR_TEST_FOR4);\n\treg = pci_quatech_rqopr(port) & 0xC0;\n\tif (reg != QPCR_TEST_GET4)\n\t\treturn -EINVAL;\n\n\tpci_quatech_wqopr(port, qopr);\n\treturn 0;\n}\n\nstatic int pci_quatech_clock(struct uart_8250_port *port)\n{\n\tu8 qopr, reg, set;\n\tunsigned long clock;\n\n\tif (pci_quatech_test(port) < 0)\n\t\treturn 1843200;\n\n\tqopr = pci_quatech_rqopr(port);\n\n\tpci_quatech_wqopr(port, qopr & ~QOPR_CLOCK_X8);\n\treg = pci_quatech_rqopr(port);\n\tif (reg & QOPR_CLOCK_X8) {\n\t\tclock = 1843200;\n\t\tgoto out;\n\t}\n\tpci_quatech_wqopr(port, qopr | QOPR_CLOCK_X8);\n\treg = pci_quatech_rqopr(port);\n\tif (!(reg & QOPR_CLOCK_X8)) {\n\t\tclock = 1843200;\n\t\tgoto out;\n\t}\n\treg &= QOPR_CLOCK_X8;\n\tif (reg == QOPR_CLOCK_X2) {\n\t\tclock =  3685400;\n\t\tset = QOPR_CLOCK_X2;\n\t} else if (reg == QOPR_CLOCK_X4) {\n\t\tclock = 7372800;\n\t\tset = QOPR_CLOCK_X4;\n\t} else if (reg == QOPR_CLOCK_X8) {\n\t\tclock = 14745600;\n\t\tset = QOPR_CLOCK_X8;\n\t} else {\n\t\tclock = 1843200;\n\t\tset = QOPR_CLOCK_X1;\n\t}\n\tqopr &= ~QOPR_CLOCK_RATE_MASK;\n\tqopr |= set;\n\nout:\n\tpci_quatech_wqopr(port, qopr);\n\treturn clock;\n}\n\nstatic int pci_quatech_rs422(struct uart_8250_port *port)\n{\n\tu8 qmcr;\n\tint rs422 = 0;\n\n\tif (!pci_quatech_has_qmcr(port))\n\t\treturn 0;\n\tqmcr = pci_quatech_rqmcr(port);\n\tpci_quatech_wqmcr(port, 0xFF);\n\tif (pci_quatech_rqmcr(port))\n\t\trs422 = 1;\n\tpci_quatech_wqmcr(port, qmcr);\n\treturn rs422;\n}\n\nstatic int pci_quatech_init(struct pci_dev *dev)\n{\n\tconst struct pci_device_id *match;\n\tbool amcc = false;\n\n\tmatch = pci_match_id(quatech_cards, dev);\n\tif (match)\n\t\tamcc = match->driver_data;\n\telse\n\t\tpci_err(dev, \"unknown port type '0x%04X'.\\n\", dev->device);\n\n\tif (amcc) {\n\t\tunsigned long base = pci_resource_start(dev, 0);\n\t\tif (base) {\n\t\t\tu32 tmp;\n\n\t\t\toutl(inl(base + 0x38) | 0x00002000, base + 0x38);\n\t\t\ttmp = inl(base + 0x3c);\n\t\t\toutl(tmp | 0x01000000, base + 0x3c);\n\t\t\toutl(tmp & ~0x01000000, base + 0x3c);\n\t\t}\n\t}\n\treturn 0;\n}\n\nstatic int pci_quatech_setup(struct serial_private *priv,\n\t\t  const struct pciserial_board *board,\n\t\t  struct uart_8250_port *port, int idx)\n{\n\t \n\tport->port.iobase = pci_resource_start(priv->dev, FL_GET_BASE(board->flags));\n\t \n\tport->port.uartclk = pci_quatech_clock(port);\n\t \n\tif (pci_quatech_rs422(port))\n\t\tpci_warn(priv->dev, \"software control of RS422 features not currently supported.\\n\");\n\treturn pci_default_setup(priv, board, port, idx);\n}\n\nstatic int pci_default_setup(struct serial_private *priv,\n\t\t  const struct pciserial_board *board,\n\t\t  struct uart_8250_port *port, int idx)\n{\n\tunsigned int bar, offset = board->first_offset, maxnr;\n\n\tbar = FL_GET_BASE(board->flags);\n\tif (board->flags & FL_BASE_BARS)\n\t\tbar += idx;\n\telse\n\t\toffset += idx * board->uart_offset;\n\n\tmaxnr = (pci_resource_len(priv->dev, bar) - board->first_offset) >>\n\t\t(board->reg_shift + 3);\n\n\tif (board->flags & FL_REGION_SZ_CAP && idx >= maxnr)\n\t\treturn 1;\n\n\treturn setup_port(priv, port, bar, offset, board->reg_shift);\n}\n\nstatic int\nce4100_serial_setup(struct serial_private *priv,\n\t\t  const struct pciserial_board *board,\n\t\t  struct uart_8250_port *port, int idx)\n{\n\tint ret;\n\n\tret = setup_port(priv, port, idx, 0, board->reg_shift);\n\tport->port.iotype = UPIO_MEM32;\n\tport->port.type = PORT_XSCALE;\n\tport->port.flags = (port->port.flags | UPF_FIXED_PORT | UPF_FIXED_TYPE);\n\tport->port.regshift = 2;\n\n\treturn ret;\n}\n\nstatic int\npci_omegapci_setup(struct serial_private *priv,\n\t\t      const struct pciserial_board *board,\n\t\t      struct uart_8250_port *port, int idx)\n{\n\treturn setup_port(priv, port, 2, idx * 8, 0);\n}\n\nstatic int\npci_brcm_trumanage_setup(struct serial_private *priv,\n\t\t\t const struct pciserial_board *board,\n\t\t\t struct uart_8250_port *port, int idx)\n{\n\tint ret = pci_default_setup(priv, board, port, idx);\n\n\tport->port.type = PORT_BRCM_TRUMANAGE;\n\tport->port.flags = (port->port.flags | UPF_FIXED_PORT | UPF_FIXED_TYPE);\n\treturn ret;\n}\n\n \n#define FINTEK_RTS_CONTROL_BY_HW\tBIT(4)\n \n#define FINTEK_RTS_INVERT\t\tBIT(5)\n\n \nstatic int pci_fintek_rs485_config(struct uart_port *port, struct ktermios *termios,\n\t\t\t       struct serial_rs485 *rs485)\n{\n\tstruct pci_dev *pci_dev = to_pci_dev(port->dev);\n\tu8 setting;\n\tu8 *index = (u8 *) port->private_data;\n\n\tpci_read_config_byte(pci_dev, 0x40 + 8 * *index + 7, &setting);\n\n\tif (rs485->flags & SER_RS485_ENABLED) {\n\t\t \n\t\tsetting |= FINTEK_RTS_CONTROL_BY_HW;\n\n\t\tif (rs485->flags & SER_RS485_RTS_ON_SEND) {\n\t\t\t \n\t\t\tsetting &= ~FINTEK_RTS_INVERT;\n\t\t} else {\n\t\t\t \n\t\t\tsetting |= FINTEK_RTS_INVERT;\n\t\t}\n\t} else {\n\t\t \n\t\tsetting &= ~(FINTEK_RTS_CONTROL_BY_HW | FINTEK_RTS_INVERT);\n\t}\n\n\tpci_write_config_byte(pci_dev, 0x40 + 8 * *index + 7, setting);\n\n\treturn 0;\n}\n\nstatic const struct serial_rs485 pci_fintek_rs485_supported = {\n\t.flags = SER_RS485_ENABLED | SER_RS485_RTS_ON_SEND,\n\t \n};\n\nstatic int pci_fintek_setup(struct serial_private *priv,\n\t\t\t    const struct pciserial_board *board,\n\t\t\t    struct uart_8250_port *port, int idx)\n{\n\tstruct pci_dev *pdev = priv->dev;\n\tu8 *data;\n\tu8 config_base;\n\tu16 iobase;\n\n\tconfig_base = 0x40 + 0x08 * idx;\n\n\t \n\tpci_read_config_word(pdev, config_base + 4, &iobase);\n\n\tpci_dbg(pdev, \"idx=%d iobase=0x%x\", idx, iobase);\n\n\tport->port.iotype = UPIO_PORT;\n\tport->port.iobase = iobase;\n\tport->port.rs485_config = pci_fintek_rs485_config;\n\tport->port.rs485_supported = pci_fintek_rs485_supported;\n\n\tdata = devm_kzalloc(&pdev->dev, sizeof(u8), GFP_KERNEL);\n\tif (!data)\n\t\treturn -ENOMEM;\n\n\t \n\t*data = idx;\n\tport->port.private_data = data;\n\n\treturn 0;\n}\n\nstatic int pci_fintek_init(struct pci_dev *dev)\n{\n\tunsigned long iobase;\n\tu32 max_port, i;\n\tresource_size_t bar_data[3];\n\tu8 config_base;\n\tstruct serial_private *priv = pci_get_drvdata(dev);\n\n\tif (!(pci_resource_flags(dev, 5) & IORESOURCE_IO) ||\n\t\t\t!(pci_resource_flags(dev, 4) & IORESOURCE_IO) ||\n\t\t\t!(pci_resource_flags(dev, 3) & IORESOURCE_IO))\n\t\treturn -ENODEV;\n\n\tswitch (dev->device) {\n\tcase 0x1104:  \n\tcase 0x1108:  \n\t\tmax_port = dev->device & 0xff;\n\t\tbreak;\n\tcase 0x1112:  \n\t\tmax_port = 12;\n\t\tbreak;\n\tdefault:\n\t\treturn -EINVAL;\n\t}\n\n\t \n\tbar_data[0] = pci_resource_start(dev, 5);\n\tbar_data[1] = pci_resource_start(dev, 4);\n\tbar_data[2] = pci_resource_start(dev, 3);\n\n\tfor (i = 0; i < max_port; ++i) {\n\t\t \n\t\tconfig_base = 0x40 + 0x08 * i;\n\n\t\t \n\t\tiobase = (bar_data[i / 4] & 0xffffffe0) + (i % 4) * 8;\n\n\t\t \n\t\tpci_write_config_byte(dev, config_base + 0x00, 0x01);\n\n\t\t \n\t\tpci_write_config_byte(dev, config_base + 0x01, 0x33);\n\n\t\t \n\t\tpci_write_config_byte(dev, config_base + 0x04,\n\t\t\t\t(u8)(iobase & 0xff));\n\n\t\t \n\t\tpci_write_config_byte(dev, config_base + 0x05,\n\t\t\t\t(u8)((iobase & 0xff00) >> 8));\n\n\t\tpci_write_config_byte(dev, config_base + 0x06, dev->irq);\n\n\t\tif (!priv) {\n\t\t\t \n\t\t\tpci_write_config_byte(dev, config_base + 0x07, 0x01);\n\t\t}\n\t}\n\n\treturn max_port;\n}\n\nstatic void f815xxa_mem_serial_out(struct uart_port *p, int offset, int value)\n{\n\tstruct f815xxa_data *data = p->private_data;\n\tunsigned long flags;\n\n\tspin_lock_irqsave(&data->lock, flags);\n\twriteb(value, p->membase + offset);\n\treadb(p->membase + UART_SCR);  \n\tspin_unlock_irqrestore(&data->lock, flags);\n}\n\nstatic int pci_fintek_f815xxa_setup(struct serial_private *priv,\n\t\t\t    const struct pciserial_board *board,\n\t\t\t    struct uart_8250_port *port, int idx)\n{\n\tstruct pci_dev *pdev = priv->dev;\n\tstruct f815xxa_data *data;\n\n\tdata = devm_kzalloc(&pdev->dev, sizeof(*data), GFP_KERNEL);\n\tif (!data)\n\t\treturn -ENOMEM;\n\n\tdata->idx = idx;\n\tspin_lock_init(&data->lock);\n\n\tport->port.private_data = data;\n\tport->port.iotype = UPIO_MEM;\n\tport->port.flags |= UPF_IOREMAP;\n\tport->port.mapbase = pci_resource_start(pdev, 0) + 8 * idx;\n\tport->port.serial_out = f815xxa_mem_serial_out;\n\n\treturn 0;\n}\n\nstatic int pci_fintek_f815xxa_init(struct pci_dev *dev)\n{\n\tu32 max_port, i;\n\tint config_base;\n\n\tif (!(pci_resource_flags(dev, 0) & IORESOURCE_MEM))\n\t\treturn -ENODEV;\n\n\tswitch (dev->device) {\n\tcase 0x1204:  \n\tcase 0x1208:  \n\t\tmax_port = dev->device & 0xff;\n\t\tbreak;\n\tcase 0x1212:  \n\t\tmax_port = 12;\n\t\tbreak;\n\tdefault:\n\t\treturn -EINVAL;\n\t}\n\n\t \n\tpci_write_config_byte(dev, 0x209, 0x40);\n\n\tfor (i = 0; i < max_port; ++i) {\n\t\t \n\t\tconfig_base = 0x2A0 + 0x08 * i;\n\n\t\t \n\t\tpci_write_config_byte(dev, config_base + 0x01, 0x33);\n\n\t\t \n\t\tpci_write_config_byte(dev, config_base + 0, 0x01);\n\t}\n\n\treturn max_port;\n}\n\nstatic int skip_tx_en_setup(struct serial_private *priv,\n\t\t\tconst struct pciserial_board *board,\n\t\t\tstruct uart_8250_port *port, int idx)\n{\n\tport->port.quirks |= UPQ_NO_TXEN_TEST;\n\tpci_dbg(priv->dev,\n\t\t\"serial8250: skipping TxEn test for device [%04x:%04x] subsystem [%04x:%04x]\\n\",\n\t\tpriv->dev->vendor, priv->dev->device,\n\t\tpriv->dev->subsystem_vendor, priv->dev->subsystem_device);\n\n\treturn pci_default_setup(priv, board, port, idx);\n}\n\nstatic void kt_handle_break(struct uart_port *p)\n{\n\tstruct uart_8250_port *up = up_to_u8250p(p);\n\t \n\tserial8250_clear_and_reinit_fifos(up);\n}\n\nstatic unsigned int kt_serial_in(struct uart_port *p, int offset)\n{\n\tstruct uart_8250_port *up = up_to_u8250p(p);\n\tunsigned int val;\n\n\t \n\tval = inb(p->iobase + offset);\n\tif (offset == UART_IER) {\n\t\tif (val == 0)\n\t\t\tval = up->ier;\n\t}\n\treturn val;\n}\n\nstatic int kt_serial_setup(struct serial_private *priv,\n\t\t\t   const struct pciserial_board *board,\n\t\t\t   struct uart_8250_port *port, int idx)\n{\n\tport->port.flags |= UPF_BUG_THRE;\n\tport->port.serial_in = kt_serial_in;\n\tport->port.handle_break = kt_handle_break;\n\treturn skip_tx_en_setup(priv, board, port, idx);\n}\n\nstatic int pci_eg20t_init(struct pci_dev *dev)\n{\n#if defined(CONFIG_SERIAL_PCH_UART) || defined(CONFIG_SERIAL_PCH_UART_MODULE)\n\treturn -ENODEV;\n#else\n\treturn 0;\n#endif\n}\n\nstatic int\npci_wch_ch353_setup(struct serial_private *priv,\n\t\t    const struct pciserial_board *board,\n\t\t    struct uart_8250_port *port, int idx)\n{\n\tport->port.flags |= UPF_FIXED_TYPE;\n\tport->port.type = PORT_16550A;\n\treturn pci_default_setup(priv, board, port, idx);\n}\n\nstatic int\npci_wch_ch355_setup(struct serial_private *priv,\n\t\tconst struct pciserial_board *board,\n\t\tstruct uart_8250_port *port, int idx)\n{\n\tport->port.flags |= UPF_FIXED_TYPE;\n\tport->port.type = PORT_16550A;\n\treturn pci_default_setup(priv, board, port, idx);\n}\n\nstatic int\npci_wch_ch38x_setup(struct serial_private *priv,\n\t\t    const struct pciserial_board *board,\n\t\t    struct uart_8250_port *port, int idx)\n{\n\tport->port.flags |= UPF_FIXED_TYPE;\n\tport->port.type = PORT_16850;\n\treturn pci_default_setup(priv, board, port, idx);\n}\n\n\n#define CH384_XINT_ENABLE_REG   0xEB\n#define CH384_XINT_ENABLE_BIT   0x02\n\nstatic int pci_wch_ch38x_init(struct pci_dev *dev)\n{\n\tint max_port;\n\tunsigned long iobase;\n\n\n\tswitch (dev->device) {\n\tcase 0x3853:  \n\t\tmax_port = 8;\n\t\tbreak;\n\tdefault:\n\t\treturn -EINVAL;\n\t}\n\n\tiobase = pci_resource_start(dev, 0);\n\toutb(CH384_XINT_ENABLE_BIT, iobase + CH384_XINT_ENABLE_REG);\n\n\treturn max_port;\n}\n\nstatic void pci_wch_ch38x_exit(struct pci_dev *dev)\n{\n\tunsigned long iobase;\n\n\tiobase = pci_resource_start(dev, 0);\n\toutb(0x0, iobase + CH384_XINT_ENABLE_REG);\n}\n\n\nstatic int\npci_sunix_setup(struct serial_private *priv,\n\t\tconst struct pciserial_board *board,\n\t\tstruct uart_8250_port *port, int idx)\n{\n\tint bar;\n\tint offset;\n\n\tport->port.flags |= UPF_FIXED_TYPE;\n\tport->port.type = PORT_SUNIX;\n\n\tif (idx < 4) {\n\t\tbar = 0;\n\t\toffset = idx * board->uart_offset;\n\t} else {\n\t\tbar = 1;\n\t\tidx -= 4;\n\t\tidx = div_s64_rem(idx, 4, &offset);\n\t\toffset = idx * 64 + offset * board->uart_offset;\n\t}\n\n\treturn setup_port(priv, port, bar, offset, 0);\n}\n\nstatic int\npci_moxa_setup(struct serial_private *priv,\n\t\tconst struct pciserial_board *board,\n\t\tstruct uart_8250_port *port, int idx)\n{\n\tunsigned int bar = FL_GET_BASE(board->flags);\n\tint offset;\n\n\tif (board->num_ports == 4 && idx == 3)\n\t\toffset = 7 * board->uart_offset;\n\telse\n\t\toffset = idx * board->uart_offset;\n\n\treturn setup_port(priv, port, bar, offset, 0);\n}\n\n#define PCI_VENDOR_ID_SBSMODULARIO\t0x124B\n#define PCI_SUBVENDOR_ID_SBSMODULARIO\t0x124B\n#define PCI_DEVICE_ID_OCTPRO\t\t0x0001\n#define PCI_SUBDEVICE_ID_OCTPRO232\t0x0108\n#define PCI_SUBDEVICE_ID_OCTPRO422\t0x0208\n#define PCI_SUBDEVICE_ID_POCTAL232\t0x0308\n#define PCI_SUBDEVICE_ID_POCTAL422\t0x0408\n#define PCI_SUBDEVICE_ID_SIIG_DUAL_00\t0x2500\n#define PCI_SUBDEVICE_ID_SIIG_DUAL_30\t0x2530\n#define PCI_VENDOR_ID_ADVANTECH\t\t0x13fe\n#define PCI_DEVICE_ID_INTEL_CE4100_UART 0x2e66\n#define PCI_DEVICE_ID_ADVANTECH_PCI1600\t0x1600\n#define PCI_DEVICE_ID_ADVANTECH_PCI1600_1611\t0x1611\n#define PCI_DEVICE_ID_ADVANTECH_PCI3620\t0x3620\n#define PCI_DEVICE_ID_ADVANTECH_PCI3618\t0x3618\n#define PCI_DEVICE_ID_ADVANTECH_PCIf618\t0xf618\n#define PCI_DEVICE_ID_TITAN_200I\t0x8028\n#define PCI_DEVICE_ID_TITAN_400I\t0x8048\n#define PCI_DEVICE_ID_TITAN_800I\t0x8088\n#define PCI_DEVICE_ID_TITAN_800EH\t0xA007\n#define PCI_DEVICE_ID_TITAN_800EHB\t0xA008\n#define PCI_DEVICE_ID_TITAN_400EH\t0xA009\n#define PCI_DEVICE_ID_TITAN_100E\t0xA010\n#define PCI_DEVICE_ID_TITAN_200E\t0xA012\n#define PCI_DEVICE_ID_TITAN_400E\t0xA013\n#define PCI_DEVICE_ID_TITAN_800E\t0xA014\n#define PCI_DEVICE_ID_TITAN_200EI\t0xA016\n#define PCI_DEVICE_ID_TITAN_200EISI\t0xA017\n#define PCI_DEVICE_ID_TITAN_200V3\t0xA306\n#define PCI_DEVICE_ID_TITAN_400V3\t0xA310\n#define PCI_DEVICE_ID_TITAN_410V3\t0xA312\n#define PCI_DEVICE_ID_TITAN_800V3\t0xA314\n#define PCI_DEVICE_ID_TITAN_800V3B\t0xA315\n#define PCI_DEVICE_ID_OXSEMI_16PCI958\t0x9538\n#define PCIE_DEVICE_ID_NEO_2_OX_IBM\t0x00F6\n#define PCI_DEVICE_ID_PLX_CRONYX_OMEGA\t0xc001\n#define PCI_DEVICE_ID_INTEL_PATSBURG_KT 0x1d3d\n#define PCI_VENDOR_ID_WCH\t\t0x4348\n#define PCI_DEVICE_ID_WCH_CH352_2S\t0x3253\n#define PCI_DEVICE_ID_WCH_CH353_4S\t0x3453\n#define PCI_DEVICE_ID_WCH_CH353_2S1PF\t0x5046\n#define PCI_DEVICE_ID_WCH_CH353_1S1P\t0x5053\n#define PCI_DEVICE_ID_WCH_CH353_2S1P\t0x7053\n#define PCI_DEVICE_ID_WCH_CH355_4S\t0x7173\n#define PCI_VENDOR_ID_AGESTAR\t\t0x5372\n#define PCI_DEVICE_ID_AGESTAR_9375\t0x6872\n#define PCI_DEVICE_ID_BROADCOM_TRUMANAGE 0x160a\n#define PCI_DEVICE_ID_AMCC_ADDIDATA_APCI7800 0x818e\n\n#define PCIE_VENDOR_ID_WCH\t\t0x1c00\n#define PCIE_DEVICE_ID_WCH_CH382_2S1P\t0x3250\n#define PCIE_DEVICE_ID_WCH_CH384_4S\t0x3470\n#define PCIE_DEVICE_ID_WCH_CH384_8S\t0x3853\n#define PCIE_DEVICE_ID_WCH_CH382_2S\t0x3253\n\n#define\tPCI_DEVICE_ID_MOXA_CP102E\t0x1024\n#define\tPCI_DEVICE_ID_MOXA_CP102EL\t0x1025\n#define\tPCI_DEVICE_ID_MOXA_CP104EL_A\t0x1045\n#define\tPCI_DEVICE_ID_MOXA_CP114EL\t0x1144\n#define\tPCI_DEVICE_ID_MOXA_CP116E_A_A\t0x1160\n#define\tPCI_DEVICE_ID_MOXA_CP116E_A_B\t0x1161\n#define\tPCI_DEVICE_ID_MOXA_CP118EL_A\t0x1182\n#define\tPCI_DEVICE_ID_MOXA_CP118E_A_I\t0x1183\n#define\tPCI_DEVICE_ID_MOXA_CP132EL\t0x1322\n#define\tPCI_DEVICE_ID_MOXA_CP134EL_A\t0x1342\n#define\tPCI_DEVICE_ID_MOXA_CP138E_A\t0x1381\n#define\tPCI_DEVICE_ID_MOXA_CP168EL_A\t0x1683\n\n \n#define PCI_SUBDEVICE_ID_UNKNOWN_0x1584\t0x1584\n#define PCI_SUBDEVICE_ID_UNKNOWN_0x1588\t0x1588\n\n \nstatic struct pci_serial_quirk pci_serial_quirks[] = {\n\t \n\t{\n\t\t.vendor         = PCI_VENDOR_ID_AMCC,\n\t\t.device         = PCI_DEVICE_ID_AMCC_ADDIDATA_APCI7800,\n\t\t.subvendor      = PCI_ANY_ID,\n\t\t.subdevice      = PCI_ANY_ID,\n\t\t.setup          = addidata_apci7800_setup,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_AFAVLAB,\n\t\t.device\t\t= PCI_ANY_ID,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.setup\t\t= afavlab_setup,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_HP,\n\t\t.device\t\t= PCI_DEVICE_ID_HP_DIVA,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_hp_diva_init,\n\t\t.setup\t\t= pci_hp_diva_setup,\n\t},\n\t \n\t{\n\t\t.vendor         = PCI_VENDOR_ID_HP_3PAR,\n\t\t.device         = PCI_DEVICE_ID_HPE_PCI_SERIAL,\n\t\t.subvendor      = PCI_ANY_ID,\n\t\t.subdevice      = PCI_ANY_ID,\n\t\t.setup\t\t= pci_hp_diva_setup,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTEL,\n\t\t.device\t\t= PCI_DEVICE_ID_INTEL_80960_RP,\n\t\t.subvendor\t= 0xe4bf,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_inteli960ni_init,\n\t\t.setup\t\t= pci_default_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTEL,\n\t\t.device\t\t= PCI_DEVICE_ID_INTEL_8257X_SOL,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.setup\t\t= skip_tx_en_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTEL,\n\t\t.device\t\t= PCI_DEVICE_ID_INTEL_82573L_SOL,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.setup\t\t= skip_tx_en_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTEL,\n\t\t.device\t\t= PCI_DEVICE_ID_INTEL_82573E_SOL,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.setup\t\t= skip_tx_en_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTEL,\n\t\t.device\t\t= PCI_DEVICE_ID_INTEL_CE4100_UART,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.setup\t\t= ce4100_serial_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTEL,\n\t\t.device\t\t= PCI_DEVICE_ID_INTEL_PATSBURG_KT,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.setup\t\t= kt_serial_setup,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_ITE,\n\t\t.device\t\t= PCI_DEVICE_ID_ITE_8872,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_ite887x_init,\n\t\t.setup\t\t= pci_default_setup,\n\t\t.exit\t\t= pci_ite887x_exit,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_NI,\n\t\t.device\t\t= PCI_DEVICE_ID_NI_PCI23216,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_ni8420_init,\n\t\t.setup\t\t= pci_default_setup,\n\t\t.exit\t\t= pci_ni8420_exit,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_NI,\n\t\t.device\t\t= PCI_DEVICE_ID_NI_PCI2328,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_ni8420_init,\n\t\t.setup\t\t= pci_default_setup,\n\t\t.exit\t\t= pci_ni8420_exit,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_NI,\n\t\t.device\t\t= PCI_DEVICE_ID_NI_PCI2324,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_ni8420_init,\n\t\t.setup\t\t= pci_default_setup,\n\t\t.exit\t\t= pci_ni8420_exit,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_NI,\n\t\t.device\t\t= PCI_DEVICE_ID_NI_PCI2322,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_ni8420_init,\n\t\t.setup\t\t= pci_default_setup,\n\t\t.exit\t\t= pci_ni8420_exit,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_NI,\n\t\t.device\t\t= PCI_DEVICE_ID_NI_PCI2324I,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_ni8420_init,\n\t\t.setup\t\t= pci_default_setup,\n\t\t.exit\t\t= pci_ni8420_exit,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_NI,\n\t\t.device\t\t= PCI_DEVICE_ID_NI_PCI2322I,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_ni8420_init,\n\t\t.setup\t\t= pci_default_setup,\n\t\t.exit\t\t= pci_ni8420_exit,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_NI,\n\t\t.device\t\t= PCI_DEVICE_ID_NI_PXI8420_23216,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_ni8420_init,\n\t\t.setup\t\t= pci_default_setup,\n\t\t.exit\t\t= pci_ni8420_exit,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_NI,\n\t\t.device\t\t= PCI_DEVICE_ID_NI_PXI8420_2328,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_ni8420_init,\n\t\t.setup\t\t= pci_default_setup,\n\t\t.exit\t\t= pci_ni8420_exit,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_NI,\n\t\t.device\t\t= PCI_DEVICE_ID_NI_PXI8420_2324,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_ni8420_init,\n\t\t.setup\t\t= pci_default_setup,\n\t\t.exit\t\t= pci_ni8420_exit,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_NI,\n\t\t.device\t\t= PCI_DEVICE_ID_NI_PXI8420_2322,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_ni8420_init,\n\t\t.setup\t\t= pci_default_setup,\n\t\t.exit\t\t= pci_ni8420_exit,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_NI,\n\t\t.device\t\t= PCI_DEVICE_ID_NI_PXI8422_2324,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_ni8420_init,\n\t\t.setup\t\t= pci_default_setup,\n\t\t.exit\t\t= pci_ni8420_exit,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_NI,\n\t\t.device\t\t= PCI_DEVICE_ID_NI_PXI8422_2322,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_ni8420_init,\n\t\t.setup\t\t= pci_default_setup,\n\t\t.exit\t\t= pci_ni8420_exit,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_NI,\n\t\t.device\t\t= PCI_ANY_ID,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_ni8430_init,\n\t\t.setup\t\t= pci_ni8430_setup,\n\t\t.exit\t\t= pci_ni8430_exit,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_QUATECH,\n\t\t.device\t\t= PCI_ANY_ID,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_quatech_init,\n\t\t.setup\t\t= pci_quatech_setup,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_PANACOM,\n\t\t.device\t\t= PCI_DEVICE_ID_PANACOM_QUADMODEM,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_plx9050_init,\n\t\t.setup\t\t= pci_default_setup,\n\t\t.exit\t\t= pci_plx9050_exit,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_PANACOM,\n\t\t.device\t\t= PCI_DEVICE_ID_PANACOM_DUALMODEM,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_plx9050_init,\n\t\t.setup\t\t= pci_default_setup,\n\t\t.exit\t\t= pci_plx9050_exit,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_PLX,\n\t\t.device\t\t= PCI_DEVICE_ID_PLX_9050,\n\t\t.subvendor\t= PCI_SUBVENDOR_ID_EXSYS,\n\t\t.subdevice\t= PCI_SUBDEVICE_ID_EXSYS_4055,\n\t\t.init\t\t= pci_plx9050_init,\n\t\t.setup\t\t= pci_default_setup,\n\t\t.exit\t\t= pci_plx9050_exit,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_PLX,\n\t\t.device\t\t= PCI_DEVICE_ID_PLX_9050,\n\t\t.subvendor\t= PCI_SUBVENDOR_ID_KEYSPAN,\n\t\t.subdevice\t= PCI_SUBDEVICE_ID_KEYSPAN_SX2,\n\t\t.init\t\t= pci_plx9050_init,\n\t\t.setup\t\t= pci_default_setup,\n\t\t.exit\t\t= pci_plx9050_exit,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_PLX,\n\t\t.device\t\t= PCI_DEVICE_ID_PLX_ROMULUS,\n\t\t.subvendor\t= PCI_VENDOR_ID_PLX,\n\t\t.subdevice\t= PCI_DEVICE_ID_PLX_ROMULUS,\n\t\t.init\t\t= pci_plx9050_init,\n\t\t.setup\t\t= pci_default_setup,\n\t\t.exit\t\t= pci_plx9050_exit,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_SBSMODULARIO,\n\t\t.device\t\t= PCI_DEVICE_ID_OCTPRO,\n\t\t.subvendor\t= PCI_SUBVENDOR_ID_SBSMODULARIO,\n\t\t.subdevice\t= PCI_SUBDEVICE_ID_OCTPRO232,\n\t\t.init\t\t= sbs_init,\n\t\t.setup\t\t= sbs_setup,\n\t\t.exit\t\t= sbs_exit,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_SBSMODULARIO,\n\t\t.device\t\t= PCI_DEVICE_ID_OCTPRO,\n\t\t.subvendor\t= PCI_SUBVENDOR_ID_SBSMODULARIO,\n\t\t.subdevice\t= PCI_SUBDEVICE_ID_OCTPRO422,\n\t\t.init\t\t= sbs_init,\n\t\t.setup\t\t= sbs_setup,\n\t\t.exit\t\t= sbs_exit,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_SBSMODULARIO,\n\t\t.device\t\t= PCI_DEVICE_ID_OCTPRO,\n\t\t.subvendor\t= PCI_SUBVENDOR_ID_SBSMODULARIO,\n\t\t.subdevice\t= PCI_SUBDEVICE_ID_POCTAL232,\n\t\t.init\t\t= sbs_init,\n\t\t.setup\t\t= sbs_setup,\n\t\t.exit\t\t= sbs_exit,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_SBSMODULARIO,\n\t\t.device\t\t= PCI_DEVICE_ID_OCTPRO,\n\t\t.subvendor\t= PCI_SUBVENDOR_ID_SBSMODULARIO,\n\t\t.subdevice\t= PCI_SUBDEVICE_ID_POCTAL422,\n\t\t.init\t\t= sbs_init,\n\t\t.setup\t\t= sbs_setup,\n\t\t.exit\t\t= sbs_exit,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_SIIG,\n\t\t.device\t\t= PCI_ANY_ID,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_siig_init,\n\t\t.setup\t\t= pci_siig_setup,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_TITAN,\n\t\t.device\t\t= PCI_DEVICE_ID_TITAN_400L,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.setup\t\t= titan_400l_800l_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_TITAN,\n\t\t.device\t\t= PCI_DEVICE_ID_TITAN_800L,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.setup\t\t= titan_400l_800l_setup,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_TIMEDIA,\n\t\t.device\t\t= PCI_DEVICE_ID_TIMEDIA_1889,\n\t\t.subvendor\t= PCI_VENDOR_ID_TIMEDIA,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.probe\t\t= pci_timedia_probe,\n\t\t.init\t\t= pci_timedia_init,\n\t\t.setup\t\t= pci_timedia_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_TIMEDIA,\n\t\t.device\t\t= PCI_ANY_ID,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.setup\t\t= pci_timedia_setup,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_SUNIX,\n\t\t.device\t\t= PCI_DEVICE_ID_SUNIX_1999,\n\t\t.subvendor\t= PCI_VENDOR_ID_SUNIX,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.setup\t\t= pci_sunix_setup,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_XIRCOM,\n\t\t.device\t\t= PCI_DEVICE_ID_XIRCOM_X3201_MDM,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_xircom_init,\n\t\t.setup\t\t= pci_default_setup,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_NETMOS,\n\t\t.device\t\t= PCI_ANY_ID,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_netmos_init,\n\t\t.setup\t\t= pci_netmos_9900_setup,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_ENDRUN,\n\t\t.device\t\t= PCI_ANY_ID,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_oxsemi_tornado_init,\n\t\t.setup\t\t= pci_default_setup,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_OXSEMI,\n\t\t.device\t\t= PCI_ANY_ID,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_oxsemi_tornado_init,\n\t\t.setup\t\t= pci_oxsemi_tornado_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_MAINPINE,\n\t\t.device\t\t= PCI_ANY_ID,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_oxsemi_tornado_init,\n\t\t.setup\t\t= pci_oxsemi_tornado_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_DIGI,\n\t\t.device\t\t= PCIE_DEVICE_ID_NEO_2_OX_IBM,\n\t\t.subvendor\t\t= PCI_SUBVENDOR_ID_IBM,\n\t\t.subdevice\t\t= PCI_ANY_ID,\n\t\t.init\t\t\t= pci_oxsemi_tornado_init,\n\t\t.setup\t\t= pci_oxsemi_tornado_setup,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTASHIELD,\n\t\t.device\t\t= 0x4027,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_oxsemi_tornado_init,\n\t\t.setup\t\t= pci_oxsemi_tornado_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTASHIELD,\n\t\t.device\t\t= 0x4028,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_oxsemi_tornado_init,\n\t\t.setup\t\t= pci_oxsemi_tornado_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTASHIELD,\n\t\t.device\t\t= 0x4029,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_oxsemi_tornado_init,\n\t\t.setup\t\t= pci_oxsemi_tornado_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTASHIELD,\n\t\t.device\t\t= 0x4019,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_oxsemi_tornado_init,\n\t\t.setup\t\t= pci_oxsemi_tornado_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTASHIELD,\n\t\t.device\t\t= 0x4016,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_oxsemi_tornado_init,\n\t\t.setup\t\t= pci_oxsemi_tornado_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTASHIELD,\n\t\t.device\t\t= 0x4015,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_oxsemi_tornado_init,\n\t\t.setup\t\t= pci_oxsemi_tornado_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTASHIELD,\n\t\t.device\t\t= 0x400A,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_oxsemi_tornado_init,\n\t\t.setup\t\t= pci_oxsemi_tornado_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTASHIELD,\n\t\t.device\t\t= 0x400E,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_oxsemi_tornado_init,\n\t\t.setup\t\t= pci_oxsemi_tornado_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTASHIELD,\n\t\t.device\t\t= 0x400C,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_oxsemi_tornado_init,\n\t\t.setup\t\t= pci_oxsemi_tornado_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTASHIELD,\n\t\t.device\t\t= 0x400B,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_oxsemi_tornado_init,\n\t\t.setup\t\t= pci_oxsemi_tornado_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTASHIELD,\n\t\t.device\t\t= 0x400F,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_oxsemi_tornado_init,\n\t\t.setup\t\t= pci_oxsemi_tornado_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTASHIELD,\n\t\t.device\t\t= 0x4010,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_oxsemi_tornado_init,\n\t\t.setup\t\t= pci_oxsemi_tornado_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTASHIELD,\n\t\t.device\t\t= 0x4011,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_oxsemi_tornado_init,\n\t\t.setup\t\t= pci_oxsemi_tornado_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTASHIELD,\n\t\t.device\t\t= 0x401D,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_oxsemi_tornado_init,\n\t\t.setup\t\t= pci_oxsemi_tornado_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTASHIELD,\n\t\t.device\t\t= 0x401E,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_oxsemi_tornado_init,\n\t\t.setup\t\t= pci_oxsemi_tornado_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTASHIELD,\n\t\t.device\t\t= 0x4013,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_oxsemi_tornado_init,\n\t\t.setup\t\t= pci_oxsemi_tornado_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTASHIELD,\n\t\t.device\t\t= 0x4017,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_oxsemi_tornado_init,\n\t\t.setup\t\t= pci_oxsemi_tornado_setup,\n\t},\n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_INTASHIELD,\n\t\t.device\t\t= 0x4018,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_oxsemi_tornado_init,\n\t\t.setup\t\t= pci_oxsemi_tornado_setup,\n\t},\n\t{\n\t\t.vendor         = PCI_VENDOR_ID_INTEL,\n\t\t.device         = 0x8811,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_eg20t_init,\n\t\t.setup\t\t= pci_default_setup,\n\t},\n\t{\n\t\t.vendor         = PCI_VENDOR_ID_INTEL,\n\t\t.device         = 0x8812,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_eg20t_init,\n\t\t.setup\t\t= pci_default_setup,\n\t},\n\t{\n\t\t.vendor         = PCI_VENDOR_ID_INTEL,\n\t\t.device         = 0x8813,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_eg20t_init,\n\t\t.setup\t\t= pci_default_setup,\n\t},\n\t{\n\t\t.vendor         = PCI_VENDOR_ID_INTEL,\n\t\t.device         = 0x8814,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_eg20t_init,\n\t\t.setup\t\t= pci_default_setup,\n\t},\n\t{\n\t\t.vendor         = 0x10DB,\n\t\t.device         = 0x8027,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_eg20t_init,\n\t\t.setup\t\t= pci_default_setup,\n\t},\n\t{\n\t\t.vendor         = 0x10DB,\n\t\t.device         = 0x8028,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_eg20t_init,\n\t\t.setup\t\t= pci_default_setup,\n\t},\n\t{\n\t\t.vendor         = 0x10DB,\n\t\t.device         = 0x8029,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_eg20t_init,\n\t\t.setup\t\t= pci_default_setup,\n\t},\n\t{\n\t\t.vendor         = 0x10DB,\n\t\t.device         = 0x800C,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_eg20t_init,\n\t\t.setup\t\t= pci_default_setup,\n\t},\n\t{\n\t\t.vendor         = 0x10DB,\n\t\t.device         = 0x800D,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.init\t\t= pci_eg20t_init,\n\t\t.setup\t\t= pci_default_setup,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_PLX,\n\t\t.device\t\t= PCI_DEVICE_ID_PLX_CRONYX_OMEGA,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.setup\t\t= pci_omegapci_setup,\n\t},\n\t \n\t{\n\t\t.vendor         = PCI_VENDOR_ID_WCH,\n\t\t.device         = PCI_DEVICE_ID_WCH_CH353_1S1P,\n\t\t.subvendor      = PCI_ANY_ID,\n\t\t.subdevice      = PCI_ANY_ID,\n\t\t.setup          = pci_wch_ch353_setup,\n\t},\n\t \n\t{\n\t\t.vendor         = PCI_VENDOR_ID_WCH,\n\t\t.device         = PCI_DEVICE_ID_WCH_CH353_2S1P,\n\t\t.subvendor      = PCI_ANY_ID,\n\t\t.subdevice      = PCI_ANY_ID,\n\t\t.setup          = pci_wch_ch353_setup,\n\t},\n\t \n\t{\n\t\t.vendor         = PCI_VENDOR_ID_WCH,\n\t\t.device         = PCI_DEVICE_ID_WCH_CH353_4S,\n\t\t.subvendor      = PCI_ANY_ID,\n\t\t.subdevice      = PCI_ANY_ID,\n\t\t.setup          = pci_wch_ch353_setup,\n\t},\n\t \n\t{\n\t\t.vendor         = PCI_VENDOR_ID_WCH,\n\t\t.device         = PCI_DEVICE_ID_WCH_CH353_2S1PF,\n\t\t.subvendor      = PCI_ANY_ID,\n\t\t.subdevice      = PCI_ANY_ID,\n\t\t.setup          = pci_wch_ch353_setup,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_WCH,\n\t\t.device\t\t= PCI_DEVICE_ID_WCH_CH352_2S,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.setup\t\t= pci_wch_ch353_setup,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_WCH,\n\t\t.device\t\t= PCI_DEVICE_ID_WCH_CH355_4S,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.setup\t\t= pci_wch_ch355_setup,\n\t},\n\t \n\t{\n\t\t.vendor         = PCIE_VENDOR_ID_WCH,\n\t\t.device         = PCIE_DEVICE_ID_WCH_CH382_2S,\n\t\t.subvendor      = PCI_ANY_ID,\n\t\t.subdevice      = PCI_ANY_ID,\n\t\t.setup          = pci_wch_ch38x_setup,\n\t},\n\t \n\t{\n\t\t.vendor         = PCIE_VENDOR_ID_WCH,\n\t\t.device         = PCIE_DEVICE_ID_WCH_CH382_2S1P,\n\t\t.subvendor      = PCI_ANY_ID,\n\t\t.subdevice      = PCI_ANY_ID,\n\t\t.setup          = pci_wch_ch38x_setup,\n\t},\n\t \n\t{\n\t\t.vendor         = PCIE_VENDOR_ID_WCH,\n\t\t.device         = PCIE_DEVICE_ID_WCH_CH384_4S,\n\t\t.subvendor      = PCI_ANY_ID,\n\t\t.subdevice      = PCI_ANY_ID,\n\t\t.setup          = pci_wch_ch38x_setup,\n\t},\n\t \n\t{\n\t\t.vendor         = PCIE_VENDOR_ID_WCH,\n\t\t.device         = PCIE_DEVICE_ID_WCH_CH384_8S,\n\t\t.subvendor      = PCI_ANY_ID,\n\t\t.subdevice      = PCI_ANY_ID,\n\t\t.init           = pci_wch_ch38x_init,\n\t\t.exit\t\t= pci_wch_ch38x_exit,\n\t\t.setup          = pci_wch_ch38x_setup,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_BROADCOM,\n\t\t.device\t\t= PCI_DEVICE_ID_BROADCOM_TRUMANAGE,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.setup\t\t= pci_brcm_trumanage_setup,\n\t},\n\t{\n\t\t.vendor\t\t= 0x1c29,\n\t\t.device\t\t= 0x1104,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.setup\t\t= pci_fintek_setup,\n\t\t.init\t\t= pci_fintek_init,\n\t},\n\t{\n\t\t.vendor\t\t= 0x1c29,\n\t\t.device\t\t= 0x1108,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.setup\t\t= pci_fintek_setup,\n\t\t.init\t\t= pci_fintek_init,\n\t},\n\t{\n\t\t.vendor\t\t= 0x1c29,\n\t\t.device\t\t= 0x1112,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.setup\t\t= pci_fintek_setup,\n\t\t.init\t\t= pci_fintek_init,\n\t},\n\t \n\t{\n\t\t.vendor\t\t= PCI_VENDOR_ID_MOXA,\n\t\t.device\t\t= PCI_ANY_ID,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.setup\t\t= pci_moxa_setup,\n\t},\n\t{\n\t\t.vendor\t\t= 0x1c29,\n\t\t.device\t\t= 0x1204,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.setup\t\t= pci_fintek_f815xxa_setup,\n\t\t.init\t\t= pci_fintek_f815xxa_init,\n\t},\n\t{\n\t\t.vendor\t\t= 0x1c29,\n\t\t.device\t\t= 0x1208,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.setup\t\t= pci_fintek_f815xxa_setup,\n\t\t.init\t\t= pci_fintek_f815xxa_init,\n\t},\n\t{\n\t\t.vendor\t\t= 0x1c29,\n\t\t.device\t\t= 0x1212,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.setup\t\t= pci_fintek_f815xxa_setup,\n\t\t.init\t\t= pci_fintek_f815xxa_init,\n\t},\n\n\t \n\t{\n\t\t.vendor\t\t= PCI_ANY_ID,\n\t\t.device\t\t= PCI_ANY_ID,\n\t\t.subvendor\t= PCI_ANY_ID,\n\t\t.subdevice\t= PCI_ANY_ID,\n\t\t.setup\t\t= pci_default_setup,\n\t}\n};\n\nstatic inline int quirk_id_matches(u32 quirk_id, u32 dev_id)\n{\n\treturn quirk_id == PCI_ANY_ID || quirk_id == dev_id;\n}\n\nstatic struct pci_serial_quirk *find_quirk(struct pci_dev *dev)\n{\n\tstruct pci_serial_quirk *quirk;\n\n\tfor (quirk = pci_serial_quirks; ; quirk++)\n\t\tif (quirk_id_matches(quirk->vendor, dev->vendor) &&\n\t\t    quirk_id_matches(quirk->device, dev->device) &&\n\t\t    quirk_id_matches(quirk->subvendor, dev->subsystem_vendor) &&\n\t\t    quirk_id_matches(quirk->subdevice, dev->subsystem_device))\n\t\t\tbreak;\n\treturn quirk;\n}\n\n \nenum pci_board_num_t {\n\tpbn_default = 0,\n\n\tpbn_b0_1_115200,\n\tpbn_b0_2_115200,\n\tpbn_b0_4_115200,\n\tpbn_b0_5_115200,\n\tpbn_b0_8_115200,\n\n\tpbn_b0_1_921600,\n\tpbn_b0_2_921600,\n\tpbn_b0_4_921600,\n\n\tpbn_b0_2_1130000,\n\n\tpbn_b0_4_1152000,\n\n\tpbn_b0_4_1250000,\n\n\tpbn_b0_2_1843200,\n\tpbn_b0_4_1843200,\n\n\tpbn_b0_1_15625000,\n\n\tpbn_b0_bt_1_115200,\n\tpbn_b0_bt_2_115200,\n\tpbn_b0_bt_4_115200,\n\tpbn_b0_bt_8_115200,\n\n\tpbn_b0_bt_1_460800,\n\tpbn_b0_bt_2_460800,\n\tpbn_b0_bt_4_460800,\n\n\tpbn_b0_bt_1_921600,\n\tpbn_b0_bt_2_921600,\n\tpbn_b0_bt_4_921600,\n\tpbn_b0_bt_8_921600,\n\n\tpbn_b1_1_115200,\n\tpbn_b1_2_115200,\n\tpbn_b1_4_115200,\n\tpbn_b1_8_115200,\n\tpbn_b1_16_115200,\n\n\tpbn_b1_1_921600,\n\tpbn_b1_2_921600,\n\tpbn_b1_4_921600,\n\tpbn_b1_8_921600,\n\n\tpbn_b1_2_1250000,\n\n\tpbn_b1_bt_1_115200,\n\tpbn_b1_bt_2_115200,\n\tpbn_b1_bt_4_115200,\n\n\tpbn_b1_bt_2_921600,\n\n\tpbn_b1_1_1382400,\n\tpbn_b1_2_1382400,\n\tpbn_b1_4_1382400,\n\tpbn_b1_8_1382400,\n\n\tpbn_b2_1_115200,\n\tpbn_b2_2_115200,\n\tpbn_b2_4_115200,\n\tpbn_b2_8_115200,\n\n\tpbn_b2_1_460800,\n\tpbn_b2_4_460800,\n\tpbn_b2_8_460800,\n\tpbn_b2_16_460800,\n\n\tpbn_b2_1_921600,\n\tpbn_b2_4_921600,\n\tpbn_b2_8_921600,\n\n\tpbn_b2_8_1152000,\n\n\tpbn_b2_bt_1_115200,\n\tpbn_b2_bt_2_115200,\n\tpbn_b2_bt_4_115200,\n\n\tpbn_b2_bt_2_921600,\n\tpbn_b2_bt_4_921600,\n\n\tpbn_b3_2_115200,\n\tpbn_b3_4_115200,\n\tpbn_b3_8_115200,\n\n\tpbn_b4_bt_2_921600,\n\tpbn_b4_bt_4_921600,\n\tpbn_b4_bt_8_921600,\n\n\t \n\tpbn_panacom,\n\tpbn_panacom2,\n\tpbn_panacom4,\n\tpbn_plx_romulus,\n\tpbn_oxsemi,\n\tpbn_oxsemi_1_15625000,\n\tpbn_oxsemi_2_15625000,\n\tpbn_oxsemi_4_15625000,\n\tpbn_oxsemi_8_15625000,\n\tpbn_intel_i960,\n\tpbn_sgi_ioc3,\n\tpbn_computone_4,\n\tpbn_computone_6,\n\tpbn_computone_8,\n\tpbn_sbsxrsio,\n\tpbn_pasemi_1682M,\n\tpbn_ni8430_2,\n\tpbn_ni8430_4,\n\tpbn_ni8430_8,\n\tpbn_ni8430_16,\n\tpbn_ADDIDATA_PCIe_1_3906250,\n\tpbn_ADDIDATA_PCIe_2_3906250,\n\tpbn_ADDIDATA_PCIe_4_3906250,\n\tpbn_ADDIDATA_PCIe_8_3906250,\n\tpbn_ce4100_1_115200,\n\tpbn_omegapci,\n\tpbn_NETMOS9900_2s_115200,\n\tpbn_brcm_trumanage,\n\tpbn_fintek_4,\n\tpbn_fintek_8,\n\tpbn_fintek_12,\n\tpbn_fintek_F81504A,\n\tpbn_fintek_F81508A,\n\tpbn_fintek_F81512A,\n\tpbn_wch382_2,\n\tpbn_wch384_4,\n\tpbn_wch384_8,\n\tpbn_sunix_pci_1s,\n\tpbn_sunix_pci_2s,\n\tpbn_sunix_pci_4s,\n\tpbn_sunix_pci_8s,\n\tpbn_sunix_pci_16s,\n\tpbn_titan_1_4000000,\n\tpbn_titan_2_4000000,\n\tpbn_titan_4_4000000,\n\tpbn_titan_8_4000000,\n\tpbn_moxa8250_2p,\n\tpbn_moxa8250_4p,\n\tpbn_moxa8250_8p,\n};\n\n \n\nstatic struct pciserial_board pci_boards[] = {\n\t[pbn_default] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 1,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b0_1_115200] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 1,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b0_2_115200] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b0_4_115200] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b0_5_115200] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 5,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b0_8_115200] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 8,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b0_1_921600] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 1,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b0_2_921600] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b0_4_921600] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 8,\n\t},\n\n\t[pbn_b0_2_1130000] = {\n\t\t.flags          = FL_BASE0,\n\t\t.num_ports      = 2,\n\t\t.base_baud      = 1130000,\n\t\t.uart_offset    = 8,\n\t},\n\n\t[pbn_b0_4_1152000] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 1152000,\n\t\t.uart_offset\t= 8,\n\t},\n\n\t[pbn_b0_4_1250000] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 1250000,\n\t\t.uart_offset\t= 8,\n\t},\n\n\t[pbn_b0_2_1843200] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 1843200,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b0_4_1843200] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 1843200,\n\t\t.uart_offset\t= 8,\n\t},\n\n\t[pbn_b0_1_15625000] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 1,\n\t\t.base_baud\t= 15625000,\n\t\t.uart_offset\t= 8,\n\t},\n\n\t[pbn_b0_bt_1_115200] = {\n\t\t.flags\t\t= FL_BASE0|FL_BASE_BARS,\n\t\t.num_ports\t= 1,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b0_bt_2_115200] = {\n\t\t.flags\t\t= FL_BASE0|FL_BASE_BARS,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b0_bt_4_115200] = {\n\t\t.flags\t\t= FL_BASE0|FL_BASE_BARS,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b0_bt_8_115200] = {\n\t\t.flags\t\t= FL_BASE0|FL_BASE_BARS,\n\t\t.num_ports\t= 8,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\n\t[pbn_b0_bt_1_460800] = {\n\t\t.flags\t\t= FL_BASE0|FL_BASE_BARS,\n\t\t.num_ports\t= 1,\n\t\t.base_baud\t= 460800,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b0_bt_2_460800] = {\n\t\t.flags\t\t= FL_BASE0|FL_BASE_BARS,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 460800,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b0_bt_4_460800] = {\n\t\t.flags\t\t= FL_BASE0|FL_BASE_BARS,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 460800,\n\t\t.uart_offset\t= 8,\n\t},\n\n\t[pbn_b0_bt_1_921600] = {\n\t\t.flags\t\t= FL_BASE0|FL_BASE_BARS,\n\t\t.num_ports\t= 1,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b0_bt_2_921600] = {\n\t\t.flags\t\t= FL_BASE0|FL_BASE_BARS,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b0_bt_4_921600] = {\n\t\t.flags\t\t= FL_BASE0|FL_BASE_BARS,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b0_bt_8_921600] = {\n\t\t.flags\t\t= FL_BASE0|FL_BASE_BARS,\n\t\t.num_ports\t= 8,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 8,\n\t},\n\n\t[pbn_b1_1_115200] = {\n\t\t.flags\t\t= FL_BASE1,\n\t\t.num_ports\t= 1,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b1_2_115200] = {\n\t\t.flags\t\t= FL_BASE1,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b1_4_115200] = {\n\t\t.flags\t\t= FL_BASE1,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b1_8_115200] = {\n\t\t.flags\t\t= FL_BASE1,\n\t\t.num_ports\t= 8,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b1_16_115200] = {\n\t\t.flags\t\t= FL_BASE1,\n\t\t.num_ports\t= 16,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\n\t[pbn_b1_1_921600] = {\n\t\t.flags\t\t= FL_BASE1,\n\t\t.num_ports\t= 1,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b1_2_921600] = {\n\t\t.flags\t\t= FL_BASE1,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b1_4_921600] = {\n\t\t.flags\t\t= FL_BASE1,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b1_8_921600] = {\n\t\t.flags\t\t= FL_BASE1,\n\t\t.num_ports\t= 8,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b1_2_1250000] = {\n\t\t.flags\t\t= FL_BASE1,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 1250000,\n\t\t.uart_offset\t= 8,\n\t},\n\n\t[pbn_b1_bt_1_115200] = {\n\t\t.flags\t\t= FL_BASE1|FL_BASE_BARS,\n\t\t.num_ports\t= 1,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b1_bt_2_115200] = {\n\t\t.flags\t\t= FL_BASE1|FL_BASE_BARS,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b1_bt_4_115200] = {\n\t\t.flags\t\t= FL_BASE1|FL_BASE_BARS,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\n\t[pbn_b1_bt_2_921600] = {\n\t\t.flags\t\t= FL_BASE1|FL_BASE_BARS,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 8,\n\t},\n\n\t[pbn_b1_1_1382400] = {\n\t\t.flags\t\t= FL_BASE1,\n\t\t.num_ports\t= 1,\n\t\t.base_baud\t= 1382400,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b1_2_1382400] = {\n\t\t.flags\t\t= FL_BASE1,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 1382400,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b1_4_1382400] = {\n\t\t.flags\t\t= FL_BASE1,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 1382400,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b1_8_1382400] = {\n\t\t.flags\t\t= FL_BASE1,\n\t\t.num_ports\t= 8,\n\t\t.base_baud\t= 1382400,\n\t\t.uart_offset\t= 8,\n\t},\n\n\t[pbn_b2_1_115200] = {\n\t\t.flags\t\t= FL_BASE2,\n\t\t.num_ports\t= 1,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b2_2_115200] = {\n\t\t.flags\t\t= FL_BASE2,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b2_4_115200] = {\n\t\t.flags          = FL_BASE2,\n\t\t.num_ports      = 4,\n\t\t.base_baud      = 115200,\n\t\t.uart_offset    = 8,\n\t},\n\t[pbn_b2_8_115200] = {\n\t\t.flags\t\t= FL_BASE2,\n\t\t.num_ports\t= 8,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\n\t[pbn_b2_1_460800] = {\n\t\t.flags\t\t= FL_BASE2,\n\t\t.num_ports\t= 1,\n\t\t.base_baud\t= 460800,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b2_4_460800] = {\n\t\t.flags\t\t= FL_BASE2,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 460800,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b2_8_460800] = {\n\t\t.flags\t\t= FL_BASE2,\n\t\t.num_ports\t= 8,\n\t\t.base_baud\t= 460800,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b2_16_460800] = {\n\t\t.flags\t\t= FL_BASE2,\n\t\t.num_ports\t= 16,\n\t\t.base_baud\t= 460800,\n\t\t.uart_offset\t= 8,\n\t },\n\n\t[pbn_b2_1_921600] = {\n\t\t.flags\t\t= FL_BASE2,\n\t\t.num_ports\t= 1,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b2_4_921600] = {\n\t\t.flags\t\t= FL_BASE2,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b2_8_921600] = {\n\t\t.flags\t\t= FL_BASE2,\n\t\t.num_ports\t= 8,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 8,\n\t},\n\n\t[pbn_b2_8_1152000] = {\n\t\t.flags\t\t= FL_BASE2,\n\t\t.num_ports\t= 8,\n\t\t.base_baud\t= 1152000,\n\t\t.uart_offset\t= 8,\n\t},\n\n\t[pbn_b2_bt_1_115200] = {\n\t\t.flags\t\t= FL_BASE2|FL_BASE_BARS,\n\t\t.num_ports\t= 1,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b2_bt_2_115200] = {\n\t\t.flags\t\t= FL_BASE2|FL_BASE_BARS,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b2_bt_4_115200] = {\n\t\t.flags\t\t= FL_BASE2|FL_BASE_BARS,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\n\t[pbn_b2_bt_2_921600] = {\n\t\t.flags\t\t= FL_BASE2|FL_BASE_BARS,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b2_bt_4_921600] = {\n\t\t.flags\t\t= FL_BASE2|FL_BASE_BARS,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 8,\n\t},\n\n\t[pbn_b3_2_115200] = {\n\t\t.flags\t\t= FL_BASE3,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b3_4_115200] = {\n\t\t.flags\t\t= FL_BASE3,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b3_8_115200] = {\n\t\t.flags\t\t= FL_BASE3,\n\t\t.num_ports\t= 8,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\n\t[pbn_b4_bt_2_921600] = {\n\t\t.flags\t\t= FL_BASE4,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b4_bt_4_921600] = {\n\t\t.flags\t\t= FL_BASE4,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_b4_bt_8_921600] = {\n\t\t.flags\t\t= FL_BASE4,\n\t\t.num_ports\t= 8,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 8,\n\t},\n\n\t \n\n\t \n\t[pbn_panacom] = {\n\t\t.flags\t\t= FL_BASE2,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 0x400,\n\t\t.reg_shift\t= 7,\n\t},\n\t[pbn_panacom2] = {\n\t\t.flags\t\t= FL_BASE2|FL_BASE_BARS,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 0x400,\n\t\t.reg_shift\t= 7,\n\t},\n\t[pbn_panacom4] = {\n\t\t.flags\t\t= FL_BASE2|FL_BASE_BARS,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 0x400,\n\t\t.reg_shift\t= 7,\n\t},\n\n\t \n\t[pbn_plx_romulus] = {\n\t\t.flags\t\t= FL_BASE2,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 8 << 2,\n\t\t.reg_shift\t= 2,\n\t\t.first_offset\t= 0x03,\n\t},\n\n\t \n\t[pbn_oxsemi] = {\n\t\t.flags\t\t= FL_BASE0|FL_REGION_SZ_CAP,\n\t\t.num_ports\t= 32,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t},\n\t[pbn_oxsemi_1_15625000] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 1,\n\t\t.base_baud\t= 15625000,\n\t\t.uart_offset\t= 0x200,\n\t\t.first_offset\t= 0x1000,\n\t},\n\t[pbn_oxsemi_2_15625000] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 15625000,\n\t\t.uart_offset\t= 0x200,\n\t\t.first_offset\t= 0x1000,\n\t},\n\t[pbn_oxsemi_4_15625000] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 15625000,\n\t\t.uart_offset\t= 0x200,\n\t\t.first_offset\t= 0x1000,\n\t},\n\t[pbn_oxsemi_8_15625000] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 8,\n\t\t.base_baud\t= 15625000,\n\t\t.uart_offset\t= 0x200,\n\t\t.first_offset\t= 0x1000,\n\t},\n\n\n\t \n\t[pbn_intel_i960] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 32,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 8 << 2,\n\t\t.reg_shift\t= 2,\n\t\t.first_offset\t= 0x10000,\n\t},\n\t[pbn_sgi_ioc3] = {\n\t\t.flags\t\t= FL_BASE0|FL_NOIRQ,\n\t\t.num_ports\t= 1,\n\t\t.base_baud\t= 458333,\n\t\t.uart_offset\t= 8,\n\t\t.reg_shift\t= 0,\n\t\t.first_offset\t= 0x20178,\n\t},\n\n\t \n\t[pbn_computone_4] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 0x40,\n\t\t.reg_shift\t= 2,\n\t\t.first_offset\t= 0x200,\n\t},\n\t[pbn_computone_6] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 6,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 0x40,\n\t\t.reg_shift\t= 2,\n\t\t.first_offset\t= 0x200,\n\t},\n\t[pbn_computone_8] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 8,\n\t\t.base_baud\t= 921600,\n\t\t.uart_offset\t= 0x40,\n\t\t.reg_shift\t= 2,\n\t\t.first_offset\t= 0x200,\n\t},\n\t[pbn_sbsxrsio] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 8,\n\t\t.base_baud\t= 460800,\n\t\t.uart_offset\t= 256,\n\t\t.reg_shift\t= 4,\n\t},\n\t \n\t[pbn_pasemi_1682M] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 1,\n\t\t.base_baud\t= 8333333,\n\t},\n\t \n\t[pbn_ni8430_16] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 16,\n\t\t.base_baud\t= 3686400,\n\t\t.uart_offset\t= 0x10,\n\t\t.first_offset\t= 0x800,\n\t},\n\t[pbn_ni8430_8] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 8,\n\t\t.base_baud\t= 3686400,\n\t\t.uart_offset\t= 0x10,\n\t\t.first_offset\t= 0x800,\n\t},\n\t[pbn_ni8430_4] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 3686400,\n\t\t.uart_offset\t= 0x10,\n\t\t.first_offset\t= 0x800,\n\t},\n\t[pbn_ni8430_2] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 3686400,\n\t\t.uart_offset\t= 0x10,\n\t\t.first_offset\t= 0x800,\n\t},\n\t \n\t[pbn_ADDIDATA_PCIe_1_3906250] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 1,\n\t\t.base_baud\t= 3906250,\n\t\t.uart_offset\t= 0x200,\n\t\t.first_offset\t= 0x1000,\n\t},\n\t[pbn_ADDIDATA_PCIe_2_3906250] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 3906250,\n\t\t.uart_offset\t= 0x200,\n\t\t.first_offset\t= 0x1000,\n\t},\n\t[pbn_ADDIDATA_PCIe_4_3906250] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 3906250,\n\t\t.uart_offset\t= 0x200,\n\t\t.first_offset\t= 0x1000,\n\t},\n\t[pbn_ADDIDATA_PCIe_8_3906250] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 8,\n\t\t.base_baud\t= 3906250,\n\t\t.uart_offset\t= 0x200,\n\t\t.first_offset\t= 0x1000,\n\t},\n\t[pbn_ce4100_1_115200] = {\n\t\t.flags\t\t= FL_BASE_BARS,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 921600,\n\t\t.reg_shift      = 2,\n\t},\n\t[pbn_omegapci] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 8,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 0x200,\n\t},\n\t[pbn_NETMOS9900_2s_115200] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 115200,\n\t},\n\t[pbn_brcm_trumanage] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 1,\n\t\t.reg_shift\t= 2,\n\t\t.base_baud\t= 115200,\n\t},\n\t[pbn_fintek_4] = {\n\t\t.num_ports\t= 4,\n\t\t.uart_offset\t= 8,\n\t\t.base_baud\t= 115200,\n\t\t.first_offset\t= 0x40,\n\t},\n\t[pbn_fintek_8] = {\n\t\t.num_ports\t= 8,\n\t\t.uart_offset\t= 8,\n\t\t.base_baud\t= 115200,\n\t\t.first_offset\t= 0x40,\n\t},\n\t[pbn_fintek_12] = {\n\t\t.num_ports\t= 12,\n\t\t.uart_offset\t= 8,\n\t\t.base_baud\t= 115200,\n\t\t.first_offset\t= 0x40,\n\t},\n\t[pbn_fintek_F81504A] = {\n\t\t.num_ports\t= 4,\n\t\t.uart_offset\t= 8,\n\t\t.base_baud\t= 115200,\n\t},\n\t[pbn_fintek_F81508A] = {\n\t\t.num_ports\t= 8,\n\t\t.uart_offset\t= 8,\n\t\t.base_baud\t= 115200,\n\t},\n\t[pbn_fintek_F81512A] = {\n\t\t.num_ports\t= 12,\n\t\t.uart_offset\t= 8,\n\t\t.base_baud\t= 115200,\n\t},\n\t[pbn_wch382_2] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 115200,\n\t\t.uart_offset\t= 8,\n\t\t.first_offset\t= 0xC0,\n\t},\n\t[pbn_wch384_4] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 4,\n\t\t.base_baud      = 115200,\n\t\t.uart_offset    = 8,\n\t\t.first_offset   = 0xC0,\n\t},\n\t[pbn_wch384_8] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 8,\n\t\t.base_baud      = 115200,\n\t\t.uart_offset    = 8,\n\t\t.first_offset   = 0x00,\n\t},\n\t[pbn_sunix_pci_1s] = {\n\t\t.num_ports\t= 1,\n\t\t.base_baud      = 921600,\n\t\t.uart_offset\t= 0x8,\n\t},\n\t[pbn_sunix_pci_2s] = {\n\t\t.num_ports\t= 2,\n\t\t.base_baud      = 921600,\n\t\t.uart_offset\t= 0x8,\n\t},\n\t[pbn_sunix_pci_4s] = {\n\t\t.num_ports\t= 4,\n\t\t.base_baud      = 921600,\n\t\t.uart_offset\t= 0x8,\n\t},\n\t[pbn_sunix_pci_8s] = {\n\t\t.num_ports\t= 8,\n\t\t.base_baud      = 921600,\n\t\t.uart_offset\t= 0x8,\n\t},\n\t[pbn_sunix_pci_16s] = {\n\t\t.num_ports\t= 16,\n\t\t.base_baud      = 921600,\n\t\t.uart_offset\t= 0x8,\n\t},\n\t[pbn_titan_1_4000000] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 1,\n\t\t.base_baud\t= 4000000,\n\t\t.uart_offset\t= 0x200,\n\t\t.first_offset\t= 0x1000,\n\t},\n\t[pbn_titan_2_4000000] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 2,\n\t\t.base_baud\t= 4000000,\n\t\t.uart_offset\t= 0x200,\n\t\t.first_offset\t= 0x1000,\n\t},\n\t[pbn_titan_4_4000000] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 4,\n\t\t.base_baud\t= 4000000,\n\t\t.uart_offset\t= 0x200,\n\t\t.first_offset\t= 0x1000,\n\t},\n\t[pbn_titan_8_4000000] = {\n\t\t.flags\t\t= FL_BASE0,\n\t\t.num_ports\t= 8,\n\t\t.base_baud\t= 4000000,\n\t\t.uart_offset\t= 0x200,\n\t\t.first_offset\t= 0x1000,\n\t},\n\t[pbn_moxa8250_2p] = {\n\t\t.flags\t\t= FL_BASE1,\n\t\t.num_ports      = 2,\n\t\t.base_baud      = 921600,\n\t\t.uart_offset\t= 0x200,\n\t},\n\t[pbn_moxa8250_4p] = {\n\t\t.flags\t\t= FL_BASE1,\n\t\t.num_ports      = 4,\n\t\t.base_baud      = 921600,\n\t\t.uart_offset\t= 0x200,\n\t},\n\t[pbn_moxa8250_8p] = {\n\t\t.flags\t\t= FL_BASE1,\n\t\t.num_ports      = 8,\n\t\t.base_baud      = 921600,\n\t\t.uart_offset\t= 0x200,\n\t},\n};\n\n#define REPORT_CONFIG(option) \\\n\t(IS_ENABLED(CONFIG_##option) ? 0 : (kernel_ulong_t)&#option)\n#define REPORT_8250_CONFIG(option) \\\n\t(IS_ENABLED(CONFIG_SERIAL_8250_##option) ? \\\n\t 0 : (kernel_ulong_t)&\"SERIAL_8250_\"#option)\n\nstatic const struct pci_device_id blacklist[] = {\n\t \n\t{ PCI_VDEVICE(AL, 0x5457), },  \n\t{ PCI_VDEVICE(MOTOROLA, 0x3052), },  \n\t{ PCI_DEVICE(0x1543, 0x3052), },  \n\n\t \n\t \n\t{ PCI_DEVICE(0x4348, 0x7053), 0, 0, REPORT_CONFIG(PARPORT_SERIAL), },\n\t \n\t{ PCI_DEVICE(0x4348, 0x5053), 0, 0, REPORT_CONFIG(PARPORT_SERIAL), },\n\t \n\t{ PCI_DEVICE(0x1c00, 0x3250), 0, 0, REPORT_CONFIG(PARPORT_SERIAL), },\n\n\t \n\t{ PCI_VDEVICE(INTEL, 0x081b), REPORT_8250_CONFIG(MID), },\n\t{ PCI_VDEVICE(INTEL, 0x081c), REPORT_8250_CONFIG(MID), },\n\t{ PCI_VDEVICE(INTEL, 0x081d), REPORT_8250_CONFIG(MID), },\n\t{ PCI_VDEVICE(INTEL, 0x1191), REPORT_8250_CONFIG(MID), },\n\t{ PCI_VDEVICE(INTEL, 0x18d8), REPORT_8250_CONFIG(MID), },\n\t{ PCI_VDEVICE(INTEL, 0x19d8), REPORT_8250_CONFIG(MID), },\n\n\t \n\t{ PCI_VDEVICE(INTEL, 0x0936), REPORT_8250_CONFIG(LPSS), },\n\t{ PCI_VDEVICE(INTEL, 0x0f0a), REPORT_8250_CONFIG(LPSS), },\n\t{ PCI_VDEVICE(INTEL, 0x0f0c), REPORT_8250_CONFIG(LPSS), },\n\t{ PCI_VDEVICE(INTEL, 0x228a), REPORT_8250_CONFIG(LPSS), },\n\t{ PCI_VDEVICE(INTEL, 0x228c), REPORT_8250_CONFIG(LPSS), },\n\t{ PCI_VDEVICE(INTEL, 0x4b96), REPORT_8250_CONFIG(LPSS), },\n\t{ PCI_VDEVICE(INTEL, 0x4b97), REPORT_8250_CONFIG(LPSS), },\n\t{ PCI_VDEVICE(INTEL, 0x4b98), REPORT_8250_CONFIG(LPSS), },\n\t{ PCI_VDEVICE(INTEL, 0x4b99), REPORT_8250_CONFIG(LPSS), },\n\t{ PCI_VDEVICE(INTEL, 0x4b9a), REPORT_8250_CONFIG(LPSS), },\n\t{ PCI_VDEVICE(INTEL, 0x4b9b), REPORT_8250_CONFIG(LPSS), },\n\t{ PCI_VDEVICE(INTEL, 0x9ce3), REPORT_8250_CONFIG(LPSS), },\n\t{ PCI_VDEVICE(INTEL, 0x9ce4), REPORT_8250_CONFIG(LPSS), },\n\n\t \n\t{ PCI_VDEVICE(EXAR, PCI_ANY_ID), REPORT_8250_CONFIG(EXAR), },\n\t{ PCI_VDEVICE(COMMTECH, PCI_ANY_ID), REPORT_8250_CONFIG(EXAR), },\n\n\t \n\t{ PCI_VDEVICE(PERICOM, PCI_ANY_ID), REPORT_8250_CONFIG(PERICOM), },\n\t{ PCI_VDEVICE(ACCESSIO, PCI_ANY_ID), REPORT_8250_CONFIG(PERICOM), },\n\n\t \n\t{ }\n};\n\nstatic int serial_pci_is_class_communication(struct pci_dev *dev)\n{\n\t \n\tif ((((dev->class >> 8) != PCI_CLASS_COMMUNICATION_SERIAL) &&\n\t     ((dev->class >> 8) != PCI_CLASS_COMMUNICATION_MULTISERIAL) &&\n\t     ((dev->class >> 8) != PCI_CLASS_COMMUNICATION_MODEM)) ||\n\t    (dev->class & 0xff) > 6)\n\t\treturn -ENODEV;\n\n\treturn 0;\n}\n\n \nstatic int\nserial_pci_guess_board(struct pci_dev *dev, struct pciserial_board *board)\n{\n\tint num_iomem, num_port, first_port = -1, i;\n\tint rc;\n\n\trc = serial_pci_is_class_communication(dev);\n\tif (rc)\n\t\treturn rc;\n\n\t \n\tif ((dev->class >> 8) == PCI_CLASS_COMMUNICATION_MULTISERIAL)\n\t\treturn -ENODEV;\n\n\tnum_iomem = num_port = 0;\n\tfor (i = 0; i < PCI_STD_NUM_BARS; i++) {\n\t\tif (pci_resource_flags(dev, i) & IORESOURCE_IO) {\n\t\t\tnum_port++;\n\t\t\tif (first_port == -1)\n\t\t\t\tfirst_port = i;\n\t\t}\n\t\tif (pci_resource_flags(dev, i) & IORESOURCE_MEM)\n\t\t\tnum_iomem++;\n\t}\n\n\t \n\tif (num_iomem <= 1 && num_port == 1) {\n\t\tboard->flags = first_port;\n\t\tboard->num_ports = pci_resource_len(dev, first_port) / 8;\n\t\treturn 0;\n\t}\n\n\t \n\tfirst_port = -1;\n\tnum_port = 0;\n\tfor (i = 0; i < PCI_STD_NUM_BARS; i++) {\n\t\tif (pci_resource_flags(dev, i) & IORESOURCE_IO &&\n\t\t    pci_resource_len(dev, i) == 8 &&\n\t\t    (first_port == -1 || (first_port + num_port) == i)) {\n\t\t\tnum_port++;\n\t\t\tif (first_port == -1)\n\t\t\t\tfirst_port = i;\n\t\t}\n\t}\n\n\tif (num_port > 1) {\n\t\tboard->flags = first_port | FL_BASE_BARS;\n\t\tboard->num_ports = num_port;\n\t\treturn 0;\n\t}\n\n\treturn -ENODEV;\n}\n\nstatic inline int\nserial_pci_matches(const struct pciserial_board *board,\n\t\t   const struct pciserial_board *guessed)\n{\n\treturn\n\t    board->num_ports == guessed->num_ports &&\n\t    board->base_baud == guessed->base_baud &&\n\t    board->uart_offset == guessed->uart_offset &&\n\t    board->reg_shift == guessed->reg_shift &&\n\t    board->first_offset == guessed->first_offset;\n}\n\nstruct serial_private *\npciserial_init_ports(struct pci_dev *dev, const struct pciserial_board *board)\n{\n\tstruct uart_8250_port uart;\n\tstruct serial_private *priv;\n\tstruct pci_serial_quirk *quirk;\n\tint rc, nr_ports, i;\n\n\tnr_ports = board->num_ports;\n\n\t \n\tquirk = find_quirk(dev);\n\n\t \n\tif (quirk->init) {\n\t\trc = quirk->init(dev);\n\t\tif (rc < 0) {\n\t\t\tpriv = ERR_PTR(rc);\n\t\t\tgoto err_out;\n\t\t}\n\t\tif (rc)\n\t\t\tnr_ports = rc;\n\t}\n\n\tpriv = kzalloc(struct_size(priv, line, nr_ports), GFP_KERNEL);\n\tif (!priv) {\n\t\tpriv = ERR_PTR(-ENOMEM);\n\t\tgoto err_deinit;\n\t}\n\n\tpriv->dev = dev;\n\tpriv->quirk = quirk;\n\n\tmemset(&uart, 0, sizeof(uart));\n\tuart.port.flags = UPF_SKIP_TEST | UPF_BOOT_AUTOCONF | UPF_SHARE_IRQ;\n\tuart.port.uartclk = board->base_baud * 16;\n\n\tif (board->flags & FL_NOIRQ) {\n\t\tuart.port.irq = 0;\n\t} else {\n\t\tif (pci_match_id(pci_use_msi, dev)) {\n\t\t\tpci_dbg(dev, \"Using MSI(-X) interrupts\\n\");\n\t\t\tpci_set_master(dev);\n\t\t\tuart.port.flags &= ~UPF_SHARE_IRQ;\n\t\t\trc = pci_alloc_irq_vectors(dev, 1, 1, PCI_IRQ_ALL_TYPES);\n\t\t} else {\n\t\t\tpci_dbg(dev, \"Using legacy interrupts\\n\");\n\t\t\trc = pci_alloc_irq_vectors(dev, 1, 1, PCI_IRQ_LEGACY);\n\t\t}\n\t\tif (rc < 0) {\n\t\t\tkfree(priv);\n\t\t\tpriv = ERR_PTR(rc);\n\t\t\tgoto err_deinit;\n\t\t}\n\n\t\tuart.port.irq = pci_irq_vector(dev, 0);\n\t}\n\n\tuart.port.dev = &dev->dev;\n\n\tfor (i = 0; i < nr_ports; i++) {\n\t\tif (quirk->setup(priv, board, &uart, i))\n\t\t\tbreak;\n\n\t\tpci_dbg(dev, \"Setup PCI port: port %lx, irq %d, type %d\\n\",\n\t\t\tuart.port.iobase, uart.port.irq, uart.port.iotype);\n\n\t\tpriv->line[i] = serial8250_register_8250_port(&uart);\n\t\tif (priv->line[i] < 0) {\n\t\t\tpci_err(dev,\n\t\t\t\t\"Couldn't register serial port %lx, irq %d, type %d, error %d\\n\",\n\t\t\t\tuart.port.iobase, uart.port.irq,\n\t\t\t\tuart.port.iotype, priv->line[i]);\n\t\t\tbreak;\n\t\t}\n\t}\n\tpriv->nr = i;\n\tpriv->board = board;\n\treturn priv;\n\nerr_deinit:\n\tif (quirk->exit)\n\t\tquirk->exit(dev);\nerr_out:\n\treturn priv;\n}\nEXPORT_SYMBOL_GPL(pciserial_init_ports);\n\nstatic void pciserial_detach_ports(struct serial_private *priv)\n{\n\tstruct pci_serial_quirk *quirk;\n\tint i;\n\n\tfor (i = 0; i < priv->nr; i++)\n\t\tserial8250_unregister_port(priv->line[i]);\n\n\t \n\tquirk = find_quirk(priv->dev);\n\tif (quirk->exit)\n\t\tquirk->exit(priv->dev);\n}\n\nvoid pciserial_remove_ports(struct serial_private *priv)\n{\n\tpciserial_detach_ports(priv);\n\tkfree(priv);\n}\nEXPORT_SYMBOL_GPL(pciserial_remove_ports);\n\nvoid pciserial_suspend_ports(struct serial_private *priv)\n{\n\tint i;\n\n\tfor (i = 0; i < priv->nr; i++)\n\t\tif (priv->line[i] >= 0)\n\t\t\tserial8250_suspend_port(priv->line[i]);\n\n\t \n\tif (priv->quirk->exit)\n\t\tpriv->quirk->exit(priv->dev);\n}\nEXPORT_SYMBOL_GPL(pciserial_suspend_ports);\n\nvoid pciserial_resume_ports(struct serial_private *priv)\n{\n\tint i;\n\n\t \n\tif (priv->quirk->init)\n\t\tpriv->quirk->init(priv->dev);\n\n\tfor (i = 0; i < priv->nr; i++)\n\t\tif (priv->line[i] >= 0)\n\t\t\tserial8250_resume_port(priv->line[i]);\n}\nEXPORT_SYMBOL_GPL(pciserial_resume_ports);\n\n \nstatic int\npciserial_init_one(struct pci_dev *dev, const struct pci_device_id *ent)\n{\n\tstruct pci_serial_quirk *quirk;\n\tstruct serial_private *priv;\n\tconst struct pciserial_board *board;\n\tconst struct pci_device_id *exclude;\n\tstruct pciserial_board tmp;\n\tint rc;\n\n\tquirk = find_quirk(dev);\n\tif (quirk->probe) {\n\t\trc = quirk->probe(dev);\n\t\tif (rc)\n\t\t\treturn rc;\n\t}\n\n\tif (ent->driver_data >= ARRAY_SIZE(pci_boards)) {\n\t\tpci_err(dev, \"invalid driver_data: %ld\\n\", ent->driver_data);\n\t\treturn -EINVAL;\n\t}\n\n\tboard = &pci_boards[ent->driver_data];\n\n\texclude = pci_match_id(blacklist, dev);\n\tif (exclude) {\n\t\tif (exclude->driver_data)\n\t\t\tpci_warn(dev, \"ignoring port, enable %s to handle\\n\",\n\t\t\t\t (const char *)exclude->driver_data);\n\t\treturn -ENODEV;\n\t}\n\n\trc = pcim_enable_device(dev);\n\tpci_save_state(dev);\n\tif (rc)\n\t\treturn rc;\n\n\tif (ent->driver_data == pbn_default) {\n\t\t \n\t\tmemcpy(&tmp, board, sizeof(struct pciserial_board));\n\t\tboard = &tmp;\n\n\t\t \n\t\trc = serial_pci_guess_board(dev, &tmp);\n\t\tif (rc)\n\t\t\treturn rc;\n\t} else {\n\t\t \n\t\tmemcpy(&tmp, &pci_boards[pbn_default],\n\t\t       sizeof(struct pciserial_board));\n\t\trc = serial_pci_guess_board(dev, &tmp);\n\t\tif (rc == 0 && serial_pci_matches(board, &tmp))\n\t\t\tmoan_device(\"Redundant entry in serial pci_table.\",\n\t\t\t\t    dev);\n\t}\n\n\tpriv = pciserial_init_ports(dev, board);\n\tif (IS_ERR(priv))\n\t\treturn PTR_ERR(priv);\n\n\tpci_set_drvdata(dev, priv);\n\treturn 0;\n}\n\nstatic void pciserial_remove_one(struct pci_dev *dev)\n{\n\tstruct serial_private *priv = pci_get_drvdata(dev);\n\n\tpciserial_remove_ports(priv);\n}\n\n#ifdef CONFIG_PM_SLEEP\nstatic int pciserial_suspend_one(struct device *dev)\n{\n\tstruct serial_private *priv = dev_get_drvdata(dev);\n\n\tif (priv)\n\t\tpciserial_suspend_ports(priv);\n\n\treturn 0;\n}\n\nstatic int pciserial_resume_one(struct device *dev)\n{\n\tstruct pci_dev *pdev = to_pci_dev(dev);\n\tstruct serial_private *priv = pci_get_drvdata(pdev);\n\tint err;\n\n\tif (priv) {\n\t\t \n\t\terr = pci_enable_device(pdev);\n\t\t \n\t\tif (err)\n\t\t\tpci_err(pdev, \"Unable to re-enable ports, trying to continue.\\n\");\n\t\tpciserial_resume_ports(priv);\n\t}\n\treturn 0;\n}\n#endif\n\nstatic SIMPLE_DEV_PM_OPS(pciserial_pm_ops, pciserial_suspend_one,\n\t\t\t pciserial_resume_one);\n\nstatic const struct pci_device_id serial_pci_tbl[] = {\n\t{\tPCI_VENDOR_ID_ADVANTECH, PCI_DEVICE_ID_ADVANTECH_PCI1600,\n\t\tPCI_DEVICE_ID_ADVANTECH_PCI1600_1611, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_4_921600 },\n\t \n\t{\tPCI_VENDOR_ID_ADVANTECH, PCI_DEVICE_ID_ADVANTECH_PCI3620,\n\t\tPCI_DEVICE_ID_ADVANTECH_PCI3620, 0x0001, 0, 0,\n\t\tpbn_b2_8_921600 },\n\t \n\t{\tPCI_VENDOR_ID_ADVANTECH, PCI_DEVICE_ID_ADVANTECH_PCI3618,\n\t\tPCI_DEVICE_ID_ADVANTECH_PCI3618, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_4_921600 },\n\t{\tPCI_VENDOR_ID_ADVANTECH, PCI_DEVICE_ID_ADVANTECH_PCIf618,\n\t\tPCI_DEVICE_ID_ADVANTECH_PCI3618, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_4_921600 },\n\t{\tPCI_VENDOR_ID_V3, PCI_DEVICE_ID_V3_V960,\n\t\tPCI_SUBVENDOR_ID_CONNECT_TECH,\n\t\tPCI_SUBDEVICE_ID_CONNECT_TECH_BH8_232, 0, 0,\n\t\tpbn_b1_8_1382400 },\n\t{\tPCI_VENDOR_ID_V3, PCI_DEVICE_ID_V3_V960,\n\t\tPCI_SUBVENDOR_ID_CONNECT_TECH,\n\t\tPCI_SUBDEVICE_ID_CONNECT_TECH_BH4_232, 0, 0,\n\t\tpbn_b1_4_1382400 },\n\t{\tPCI_VENDOR_ID_V3, PCI_DEVICE_ID_V3_V960,\n\t\tPCI_SUBVENDOR_ID_CONNECT_TECH,\n\t\tPCI_SUBDEVICE_ID_CONNECT_TECH_BH2_232, 0, 0,\n\t\tpbn_b1_2_1382400 },\n\t{\tPCI_VENDOR_ID_V3, PCI_DEVICE_ID_V3_V351,\n\t\tPCI_SUBVENDOR_ID_CONNECT_TECH,\n\t\tPCI_SUBDEVICE_ID_CONNECT_TECH_BH8_232, 0, 0,\n\t\tpbn_b1_8_1382400 },\n\t{\tPCI_VENDOR_ID_V3, PCI_DEVICE_ID_V3_V351,\n\t\tPCI_SUBVENDOR_ID_CONNECT_TECH,\n\t\tPCI_SUBDEVICE_ID_CONNECT_TECH_BH4_232, 0, 0,\n\t\tpbn_b1_4_1382400 },\n\t{\tPCI_VENDOR_ID_V3, PCI_DEVICE_ID_V3_V351,\n\t\tPCI_SUBVENDOR_ID_CONNECT_TECH,\n\t\tPCI_SUBDEVICE_ID_CONNECT_TECH_BH2_232, 0, 0,\n\t\tpbn_b1_2_1382400 },\n\t{\tPCI_VENDOR_ID_V3, PCI_DEVICE_ID_V3_V351,\n\t\tPCI_SUBVENDOR_ID_CONNECT_TECH,\n\t\tPCI_SUBDEVICE_ID_CONNECT_TECH_BH8_485, 0, 0,\n\t\tpbn_b1_8_921600 },\n\t{\tPCI_VENDOR_ID_V3, PCI_DEVICE_ID_V3_V351,\n\t\tPCI_SUBVENDOR_ID_CONNECT_TECH,\n\t\tPCI_SUBDEVICE_ID_CONNECT_TECH_BH8_485_4_4, 0, 0,\n\t\tpbn_b1_8_921600 },\n\t{\tPCI_VENDOR_ID_V3, PCI_DEVICE_ID_V3_V351,\n\t\tPCI_SUBVENDOR_ID_CONNECT_TECH,\n\t\tPCI_SUBDEVICE_ID_CONNECT_TECH_BH4_485, 0, 0,\n\t\tpbn_b1_4_921600 },\n\t{\tPCI_VENDOR_ID_V3, PCI_DEVICE_ID_V3_V351,\n\t\tPCI_SUBVENDOR_ID_CONNECT_TECH,\n\t\tPCI_SUBDEVICE_ID_CONNECT_TECH_BH4_485_2_2, 0, 0,\n\t\tpbn_b1_4_921600 },\n\t{\tPCI_VENDOR_ID_V3, PCI_DEVICE_ID_V3_V351,\n\t\tPCI_SUBVENDOR_ID_CONNECT_TECH,\n\t\tPCI_SUBDEVICE_ID_CONNECT_TECH_BH2_485, 0, 0,\n\t\tpbn_b1_2_921600 },\n\t{\tPCI_VENDOR_ID_V3, PCI_DEVICE_ID_V3_V351,\n\t\tPCI_SUBVENDOR_ID_CONNECT_TECH,\n\t\tPCI_SUBDEVICE_ID_CONNECT_TECH_BH8_485_2_6, 0, 0,\n\t\tpbn_b1_8_921600 },\n\t{\tPCI_VENDOR_ID_V3, PCI_DEVICE_ID_V3_V351,\n\t\tPCI_SUBVENDOR_ID_CONNECT_TECH,\n\t\tPCI_SUBDEVICE_ID_CONNECT_TECH_BH081101V1, 0, 0,\n\t\tpbn_b1_8_921600 },\n\t{\tPCI_VENDOR_ID_V3, PCI_DEVICE_ID_V3_V351,\n\t\tPCI_SUBVENDOR_ID_CONNECT_TECH,\n\t\tPCI_SUBDEVICE_ID_CONNECT_TECH_BH041101V1, 0, 0,\n\t\tpbn_b1_4_921600 },\n\t{\tPCI_VENDOR_ID_V3, PCI_DEVICE_ID_V3_V351,\n\t\tPCI_SUBVENDOR_ID_CONNECT_TECH,\n\t\tPCI_SUBDEVICE_ID_CONNECT_TECH_BH2_20MHZ, 0, 0,\n\t\tpbn_b1_2_1250000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, PCI_DEVICE_ID_OXSEMI_16PCI954,\n\t\tPCI_SUBVENDOR_ID_CONNECT_TECH,\n\t\tPCI_SUBDEVICE_ID_CONNECT_TECH_TITAN_2, 0, 0,\n\t\tpbn_b0_2_1843200 },\n\t{\tPCI_VENDOR_ID_OXSEMI, PCI_DEVICE_ID_OXSEMI_16PCI954,\n\t\tPCI_SUBVENDOR_ID_CONNECT_TECH,\n\t\tPCI_SUBDEVICE_ID_CONNECT_TECH_TITAN_4, 0, 0,\n\t\tpbn_b0_4_1843200 },\n\t{\tPCI_VENDOR_ID_OXSEMI, PCI_DEVICE_ID_OXSEMI_16PCI954,\n\t\tPCI_VENDOR_ID_AFAVLAB,\n\t\tPCI_SUBDEVICE_ID_AFAVLAB_P061, 0, 0,\n\t\tpbn_b0_4_1152000 },\n\t{\tPCI_VENDOR_ID_SEALEVEL, PCI_DEVICE_ID_SEALEVEL_U530,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_bt_1_115200 },\n\t{\tPCI_VENDOR_ID_SEALEVEL, PCI_DEVICE_ID_SEALEVEL_UCOMM2,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_bt_2_115200 },\n\t{\tPCI_VENDOR_ID_SEALEVEL, PCI_DEVICE_ID_SEALEVEL_UCOMM422,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_bt_4_115200 },\n\t{\tPCI_VENDOR_ID_SEALEVEL, PCI_DEVICE_ID_SEALEVEL_UCOMM232,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_bt_2_115200 },\n\t{\tPCI_VENDOR_ID_SEALEVEL, PCI_DEVICE_ID_SEALEVEL_COMM4,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_bt_4_115200 },\n\t{\tPCI_VENDOR_ID_SEALEVEL, PCI_DEVICE_ID_SEALEVEL_COMM8,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_8_115200 },\n\t{\tPCI_VENDOR_ID_SEALEVEL, PCI_DEVICE_ID_SEALEVEL_7803,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_8_460800 },\n\t{\tPCI_VENDOR_ID_SEALEVEL, PCI_DEVICE_ID_SEALEVEL_UCOMM8,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_8_115200 },\n\n\t{\tPCI_VENDOR_ID_PLX, PCI_DEVICE_ID_PLX_GTEK_SERIAL2,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_bt_2_115200 },\n\t{\tPCI_VENDOR_ID_PLX, PCI_DEVICE_ID_PLX_SPCOM200,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_bt_2_921600 },\n\t \n\t{\tPCI_VENDOR_ID_PLX, PCI_DEVICE_ID_PLX_SPCOM800,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_8_921600 },\n\t{\tPCI_VENDOR_ID_PLX, PCI_DEVICE_ID_PLX_1077,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_4_921600 },\n\t \n\t{\tPCI_VENDOR_ID_PLX, PCI_DEVICE_ID_PLX_9050,\n\t\tPCI_VENDOR_ID_PLX,\n\t\tPCI_SUBDEVICE_ID_UNKNOWN_0x1584, 0, 0,\n\t\tpbn_b2_4_115200 },\n\t \n\t{\tPCI_VENDOR_ID_PLX, PCI_DEVICE_ID_PLX_9050,\n\t\tPCI_VENDOR_ID_PLX,\n\t\tPCI_SUBDEVICE_ID_UNKNOWN_0x1588, 0, 0,\n\t\tpbn_b2_8_115200 },\n\t{\tPCI_VENDOR_ID_PLX, PCI_DEVICE_ID_PLX_9050,\n\t\tPCI_SUBVENDOR_ID_KEYSPAN,\n\t\tPCI_SUBDEVICE_ID_KEYSPAN_SX2, 0, 0,\n\t\tpbn_panacom },\n\t{\tPCI_VENDOR_ID_PANACOM, PCI_DEVICE_ID_PANACOM_QUADMODEM,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_panacom4 },\n\t{\tPCI_VENDOR_ID_PANACOM, PCI_DEVICE_ID_PANACOM_DUALMODEM,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_panacom2 },\n\t{\tPCI_VENDOR_ID_PLX, PCI_DEVICE_ID_PLX_9030,\n\t\tPCI_VENDOR_ID_ESDGMBH,\n\t\tPCI_DEVICE_ID_ESDGMBH_CPCIASIO4, 0, 0,\n\t\tpbn_b2_4_115200 },\n\t{\tPCI_VENDOR_ID_PLX, PCI_DEVICE_ID_PLX_9050,\n\t\tPCI_SUBVENDOR_ID_CHASE_PCIFAST,\n\t\tPCI_SUBDEVICE_ID_CHASE_PCIFAST4, 0, 0,\n\t\tpbn_b2_4_460800 },\n\t{\tPCI_VENDOR_ID_PLX, PCI_DEVICE_ID_PLX_9050,\n\t\tPCI_SUBVENDOR_ID_CHASE_PCIFAST,\n\t\tPCI_SUBDEVICE_ID_CHASE_PCIFAST8, 0, 0,\n\t\tpbn_b2_8_460800 },\n\t{\tPCI_VENDOR_ID_PLX, PCI_DEVICE_ID_PLX_9050,\n\t\tPCI_SUBVENDOR_ID_CHASE_PCIFAST,\n\t\tPCI_SUBDEVICE_ID_CHASE_PCIFAST16, 0, 0,\n\t\tpbn_b2_16_460800 },\n\t{\tPCI_VENDOR_ID_PLX, PCI_DEVICE_ID_PLX_9050,\n\t\tPCI_SUBVENDOR_ID_CHASE_PCIFAST,\n\t\tPCI_SUBDEVICE_ID_CHASE_PCIFAST16FMC, 0, 0,\n\t\tpbn_b2_16_460800 },\n\t{\tPCI_VENDOR_ID_PLX, PCI_DEVICE_ID_PLX_9050,\n\t\tPCI_SUBVENDOR_ID_CHASE_PCIRAS,\n\t\tPCI_SUBDEVICE_ID_CHASE_PCIRAS4, 0, 0,\n\t\tpbn_b2_4_460800 },\n\t{\tPCI_VENDOR_ID_PLX, PCI_DEVICE_ID_PLX_9050,\n\t\tPCI_SUBVENDOR_ID_CHASE_PCIRAS,\n\t\tPCI_SUBDEVICE_ID_CHASE_PCIRAS8, 0, 0,\n\t\tpbn_b2_8_460800 },\n\t{\tPCI_VENDOR_ID_PLX, PCI_DEVICE_ID_PLX_9050,\n\t\tPCI_SUBVENDOR_ID_EXSYS,\n\t\tPCI_SUBDEVICE_ID_EXSYS_4055, 0, 0,\n\t\tpbn_b2_4_115200 },\n\t \n\t{\tPCI_VENDOR_ID_PLX, PCI_DEVICE_ID_PLX_ROMULUS,\n\t\t0x10b5, 0x106a, 0, 0,\n\t\tpbn_plx_romulus },\n\t \n\t{\tPCI_VENDOR_ID_QUATECH, PCI_DEVICE_ID_QUATECH_QSC100,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_4_115200 },\n\t{\tPCI_VENDOR_ID_QUATECH, PCI_DEVICE_ID_QUATECH_DSC100,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_2_115200 },\n\t{\tPCI_VENDOR_ID_QUATECH, PCI_DEVICE_ID_QUATECH_DSC100E,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_2_115200 },\n\t{\tPCI_VENDOR_ID_QUATECH, PCI_DEVICE_ID_QUATECH_DSC200,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_2_115200 },\n\t{\tPCI_VENDOR_ID_QUATECH, PCI_DEVICE_ID_QUATECH_DSC200E,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_2_115200 },\n\t{\tPCI_VENDOR_ID_QUATECH, PCI_DEVICE_ID_QUATECH_QSC200,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_4_115200 },\n\t{\tPCI_VENDOR_ID_QUATECH, PCI_DEVICE_ID_QUATECH_ESC100D,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_8_115200 },\n\t{\tPCI_VENDOR_ID_QUATECH, PCI_DEVICE_ID_QUATECH_ESC100M,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_8_115200 },\n\t{\tPCI_VENDOR_ID_QUATECH, PCI_DEVICE_ID_QUATECH_QSCP100,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_4_115200 },\n\t{\tPCI_VENDOR_ID_QUATECH, PCI_DEVICE_ID_QUATECH_DSCP100,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_2_115200 },\n\t{\tPCI_VENDOR_ID_QUATECH, PCI_DEVICE_ID_QUATECH_QSCP200,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_4_115200 },\n\t{\tPCI_VENDOR_ID_QUATECH, PCI_DEVICE_ID_QUATECH_DSCP200,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_2_115200 },\n\t{\tPCI_VENDOR_ID_QUATECH, PCI_DEVICE_ID_QUATECH_QSCLP100,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_4_115200 },\n\t{\tPCI_VENDOR_ID_QUATECH, PCI_DEVICE_ID_QUATECH_DSCLP100,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_2_115200 },\n\t{\tPCI_VENDOR_ID_QUATECH, PCI_DEVICE_ID_QUATECH_SSCLP100,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_1_115200 },\n\t{\tPCI_VENDOR_ID_QUATECH, PCI_DEVICE_ID_QUATECH_QSCLP200,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_4_115200 },\n\t{\tPCI_VENDOR_ID_QUATECH, PCI_DEVICE_ID_QUATECH_DSCLP200,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_2_115200 },\n\t{\tPCI_VENDOR_ID_QUATECH, PCI_DEVICE_ID_QUATECH_SSCLP200,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_1_115200 },\n\t{\tPCI_VENDOR_ID_QUATECH, PCI_DEVICE_ID_QUATECH_ESCLP100,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_8_115200 },\n\n\t{\tPCI_VENDOR_ID_SPECIALIX, PCI_DEVICE_ID_OXSEMI_16PCI954,\n\t\tPCI_VENDOR_ID_SPECIALIX, PCI_SUBDEVICE_ID_SPECIALIX_SPEED4,\n\t\t0, 0,\n\t\tpbn_b0_4_921600 },\n\t{\tPCI_VENDOR_ID_OXSEMI, PCI_DEVICE_ID_OXSEMI_16PCI954,\n\t\tPCI_SUBVENDOR_ID_SIIG, PCI_SUBDEVICE_ID_SIIG_QUARTET_SERIAL,\n\t\t0, 0,\n\t\tpbn_b0_4_1152000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0x9505,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_2_921600 },\n\n\t\t \n\t{\tPCI_VENDOR_ID_OXSEMI, 0x950a,\n\t\tPCI_SUBVENDOR_ID_SIIG, PCI_SUBDEVICE_ID_SIIG_DUAL_00,\n\t\t0, 0, pbn_b0_2_115200 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0x950a,\n\t\tPCI_SUBVENDOR_ID_SIIG, PCI_SUBDEVICE_ID_SIIG_DUAL_30,\n\t\t0, 0, pbn_b0_2_115200 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0x950a,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_2_1130000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, PCI_DEVICE_ID_OXSEMI_C950,\n\t\tPCI_VENDOR_ID_OXSEMI, PCI_SUBDEVICE_ID_OXSEMI_C950, 0, 0,\n\t\tpbn_b0_1_921600 },\n\t{\tPCI_VENDOR_ID_OXSEMI, PCI_DEVICE_ID_OXSEMI_16PCI954,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_4_115200 },\n\t{\tPCI_VENDOR_ID_OXSEMI, PCI_DEVICE_ID_OXSEMI_16PCI952,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_2_921600 },\n\t{\tPCI_VENDOR_ID_OXSEMI, PCI_DEVICE_ID_OXSEMI_16PCI958,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_8_1152000 },\n\n\t \n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc101,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc105,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc11b,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc11f,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc120,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc124,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc138,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc13d,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc140,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc141,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc144,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc145,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc158,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_2_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc15d,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_2_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc208,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_4_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc20d,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_4_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc308,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_8_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc30d,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_8_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc40b,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc40f,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc41b,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc41f,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc42b,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc42f,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc43b,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc43f,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc44b,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc44f,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc45b,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc45f,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc46b,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc46f,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc47b,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc47f,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc48b,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc48f,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc49b,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc49f,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc4ab,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc4af,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc4bb,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc4bf,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc4cb,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_OXSEMI, 0xc4cf,     \n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t \n\t{\tPCI_VENDOR_ID_MAINPINE, 0x4000,\t \n\t\tPCI_VENDOR_ID_MAINPINE, 0x4001, 0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t{\tPCI_VENDOR_ID_MAINPINE, 0x4000,\t \n\t\tPCI_VENDOR_ID_MAINPINE, 0x4002, 0, 0,\n\t\tpbn_oxsemi_2_15625000 },\n\t{\tPCI_VENDOR_ID_MAINPINE, 0x4000,\t \n\t\tPCI_VENDOR_ID_MAINPINE, 0x4004, 0, 0,\n\t\tpbn_oxsemi_4_15625000 },\n\t{\tPCI_VENDOR_ID_MAINPINE, 0x4000,\t \n\t\tPCI_VENDOR_ID_MAINPINE, 0x4008, 0, 0,\n\t\tpbn_oxsemi_8_15625000 },\n\n\t \n\t{\tPCI_VENDOR_ID_DIGI, PCIE_DEVICE_ID_NEO_2_OX_IBM,\n\t\tPCI_SUBVENDOR_ID_IBM, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_2_15625000 },\n\t \n\t{\tPCI_VENDOR_ID_ENDRUN, PCI_DEVICE_ID_ENDRUN_1588,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi_2_15625000 },\n\n\t \n\t{\tPCI_VENDOR_ID_SBSMODULARIO, PCI_DEVICE_ID_OCTPRO,\n\t\tPCI_SUBVENDOR_ID_SBSMODULARIO, PCI_SUBDEVICE_ID_OCTPRO232, 0, 0,\n\t\tpbn_sbsxrsio },\n\t{\tPCI_VENDOR_ID_SBSMODULARIO, PCI_DEVICE_ID_OCTPRO,\n\t\tPCI_SUBVENDOR_ID_SBSMODULARIO, PCI_SUBDEVICE_ID_OCTPRO422, 0, 0,\n\t\tpbn_sbsxrsio },\n\t{\tPCI_VENDOR_ID_SBSMODULARIO, PCI_DEVICE_ID_OCTPRO,\n\t\tPCI_SUBVENDOR_ID_SBSMODULARIO, PCI_SUBDEVICE_ID_POCTAL232, 0, 0,\n\t\tpbn_sbsxrsio },\n\t{\tPCI_VENDOR_ID_SBSMODULARIO, PCI_DEVICE_ID_OCTPRO,\n\t\tPCI_SUBVENDOR_ID_SBSMODULARIO, PCI_SUBDEVICE_ID_POCTAL422, 0, 0,\n\t\tpbn_sbsxrsio },\n\n\t \n\t{\tPCI_VENDOR_ID_ATT, PCI_DEVICE_ID_ATT_VENUS_MODEM,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_1_115200 },\n\n\t \n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_100,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_1_921600 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_200,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_2_921600 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_400,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_4_921600 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_800B,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_4_921600 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_100L,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_1_921600 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_200L,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_bt_2_921600 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_400L,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_4_921600 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_800L,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_8_921600 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_200I,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b4_bt_2_921600 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_400I,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b4_bt_4_921600 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_800I,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b4_bt_8_921600 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_400EH,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_4_921600 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_800EH,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_4_921600 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_800EHB,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_4_921600 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_100E,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_titan_1_4000000 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_200E,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_titan_2_4000000 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_400E,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_titan_4_4000000 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_800E,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_titan_8_4000000 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_200EI,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_titan_2_4000000 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_200EISI,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_titan_2_4000000 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_200V3,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_2_921600 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_400V3,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_4_921600 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_410V3,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_4_921600 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_800V3,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_4_921600 },\n\t{\tPCI_VENDOR_ID_TITAN, PCI_DEVICE_ID_TITAN_800V3B,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_4_921600 },\n\n\t{\tPCI_VENDOR_ID_SIIG, PCI_DEVICE_ID_SIIG_1S_10x_550,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_1_460800 },\n\t{\tPCI_VENDOR_ID_SIIG, PCI_DEVICE_ID_SIIG_1S_10x_650,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_1_460800 },\n\t{\tPCI_VENDOR_ID_SIIG, PCI_DEVICE_ID_SIIG_1S_10x_850,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_1_460800 },\n\t{\tPCI_VENDOR_ID_SIIG, PCI_DEVICE_ID_SIIG_2S_10x_550,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_bt_2_921600 },\n\t{\tPCI_VENDOR_ID_SIIG, PCI_DEVICE_ID_SIIG_2S_10x_650,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_bt_2_921600 },\n\t{\tPCI_VENDOR_ID_SIIG, PCI_DEVICE_ID_SIIG_2S_10x_850,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_bt_2_921600 },\n\t{\tPCI_VENDOR_ID_SIIG, PCI_DEVICE_ID_SIIG_4S_10x_550,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_bt_4_921600 },\n\t{\tPCI_VENDOR_ID_SIIG, PCI_DEVICE_ID_SIIG_4S_10x_650,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_bt_4_921600 },\n\t{\tPCI_VENDOR_ID_SIIG, PCI_DEVICE_ID_SIIG_4S_10x_850,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_bt_4_921600 },\n\t{\tPCI_VENDOR_ID_SIIG, PCI_DEVICE_ID_SIIG_1S_20x_550,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_1_921600 },\n\t{\tPCI_VENDOR_ID_SIIG, PCI_DEVICE_ID_SIIG_1S_20x_650,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_1_921600 },\n\t{\tPCI_VENDOR_ID_SIIG, PCI_DEVICE_ID_SIIG_1S_20x_850,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_1_921600 },\n\t{\tPCI_VENDOR_ID_SIIG, PCI_DEVICE_ID_SIIG_2S_20x_550,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_2_921600 },\n\t{\tPCI_VENDOR_ID_SIIG, PCI_DEVICE_ID_SIIG_2S_20x_650,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_2_921600 },\n\t{\tPCI_VENDOR_ID_SIIG, PCI_DEVICE_ID_SIIG_2S_20x_850,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_2_921600 },\n\t{\tPCI_VENDOR_ID_SIIG, PCI_DEVICE_ID_SIIG_4S_20x_550,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_4_921600 },\n\t{\tPCI_VENDOR_ID_SIIG, PCI_DEVICE_ID_SIIG_4S_20x_650,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_4_921600 },\n\t{\tPCI_VENDOR_ID_SIIG, PCI_DEVICE_ID_SIIG_4S_20x_850,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_4_921600 },\n\t{\tPCI_VENDOR_ID_SIIG, PCI_DEVICE_ID_SIIG_8S_20x_550,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_8_921600 },\n\t{\tPCI_VENDOR_ID_SIIG, PCI_DEVICE_ID_SIIG_8S_20x_650,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_8_921600 },\n\t{\tPCI_VENDOR_ID_SIIG, PCI_DEVICE_ID_SIIG_8S_20x_850,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_8_921600 },\n\n\t \n\t{\tPCI_VENDOR_ID_COMPUTONE, PCI_DEVICE_ID_COMPUTONE_PG,\n\t\tPCI_SUBVENDOR_ID_COMPUTONE, PCI_SUBDEVICE_ID_COMPUTONE_PG4,\n\t\t0, 0, pbn_computone_4 },\n\t{\tPCI_VENDOR_ID_COMPUTONE, PCI_DEVICE_ID_COMPUTONE_PG,\n\t\tPCI_SUBVENDOR_ID_COMPUTONE, PCI_SUBDEVICE_ID_COMPUTONE_PG8,\n\t\t0, 0, pbn_computone_8 },\n\t{\tPCI_VENDOR_ID_COMPUTONE, PCI_DEVICE_ID_COMPUTONE_PG,\n\t\tPCI_SUBVENDOR_ID_COMPUTONE, PCI_SUBDEVICE_ID_COMPUTONE_PG6,\n\t\t0, 0, pbn_computone_6 },\n\n\t{\tPCI_VENDOR_ID_OXSEMI, PCI_DEVICE_ID_OXSEMI_16PCI95N,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_oxsemi },\n\t{\tPCI_VENDOR_ID_TIMEDIA, PCI_DEVICE_ID_TIMEDIA_1889,\n\t\tPCI_VENDOR_ID_TIMEDIA, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_1_921600 },\n\n\t \n\t{\tPCI_VENDOR_ID_SUNIX, PCI_DEVICE_ID_SUNIX_1999,\n\t\tPCI_VENDOR_ID_SUNIX, 0x0001, 0, 0,\n\t\tpbn_sunix_pci_1s },\n\t{\tPCI_VENDOR_ID_SUNIX, PCI_DEVICE_ID_SUNIX_1999,\n\t\tPCI_VENDOR_ID_SUNIX, 0x0002, 0, 0,\n\t\tpbn_sunix_pci_2s },\n\t{\tPCI_VENDOR_ID_SUNIX, PCI_DEVICE_ID_SUNIX_1999,\n\t\tPCI_VENDOR_ID_SUNIX, 0x0004, 0, 0,\n\t\tpbn_sunix_pci_4s },\n\t{\tPCI_VENDOR_ID_SUNIX, PCI_DEVICE_ID_SUNIX_1999,\n\t\tPCI_VENDOR_ID_SUNIX, 0x0084, 0, 0,\n\t\tpbn_sunix_pci_4s },\n\t{\tPCI_VENDOR_ID_SUNIX, PCI_DEVICE_ID_SUNIX_1999,\n\t\tPCI_VENDOR_ID_SUNIX, 0x0008, 0, 0,\n\t\tpbn_sunix_pci_8s },\n\t{\tPCI_VENDOR_ID_SUNIX, PCI_DEVICE_ID_SUNIX_1999,\n\t\tPCI_VENDOR_ID_SUNIX, 0x0088, 0, 0,\n\t\tpbn_sunix_pci_8s },\n\t{\tPCI_VENDOR_ID_SUNIX, PCI_DEVICE_ID_SUNIX_1999,\n\t\tPCI_VENDOR_ID_SUNIX, 0x0010, 0, 0,\n\t\tpbn_sunix_pci_16s },\n\n\t \n\t{\tPCI_VENDOR_ID_AFAVLAB, PCI_DEVICE_ID_AFAVLAB_P028,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_8_115200 },\n\t{\tPCI_VENDOR_ID_AFAVLAB, PCI_DEVICE_ID_AFAVLAB_P030,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_8_115200 },\n\n\t{\tPCI_VENDOR_ID_LAVA, PCI_DEVICE_ID_LAVA_DSERIAL,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_2_115200 },\n\t{\tPCI_VENDOR_ID_LAVA, PCI_DEVICE_ID_LAVA_QUATRO_A,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_2_115200 },\n\t{\tPCI_VENDOR_ID_LAVA, PCI_DEVICE_ID_LAVA_QUATRO_B,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_2_115200 },\n\t{\tPCI_VENDOR_ID_LAVA, PCI_DEVICE_ID_LAVA_QUATTRO_A,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_2_115200 },\n\t{\tPCI_VENDOR_ID_LAVA, PCI_DEVICE_ID_LAVA_QUATTRO_B,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_2_115200 },\n\t{\tPCI_VENDOR_ID_LAVA, PCI_DEVICE_ID_LAVA_OCTO_A,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_4_460800 },\n\t{\tPCI_VENDOR_ID_LAVA, PCI_DEVICE_ID_LAVA_OCTO_B,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_4_460800 },\n\t{\tPCI_VENDOR_ID_LAVA, PCI_DEVICE_ID_LAVA_PORT_PLUS,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_2_460800 },\n\t{\tPCI_VENDOR_ID_LAVA, PCI_DEVICE_ID_LAVA_QUAD_A,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_2_460800 },\n\t{\tPCI_VENDOR_ID_LAVA, PCI_DEVICE_ID_LAVA_QUAD_B,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_2_460800 },\n\t{\tPCI_VENDOR_ID_LAVA, PCI_DEVICE_ID_LAVA_SSERIAL,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_1_115200 },\n\t{\tPCI_VENDOR_ID_LAVA, PCI_DEVICE_ID_LAVA_PORT_650,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_bt_1_460800 },\n\n\t \n\t{\tPCI_VENDOR_ID_KORENIX, PCI_DEVICE_ID_KORENIX_JETCARDF0,\n\t\t0x1204, 0x0004, 0, 0,\n\t\tpbn_b0_4_921600 },\n\t{\tPCI_VENDOR_ID_KORENIX, PCI_DEVICE_ID_KORENIX_JETCARDF0,\n\t\t0x1208, 0x0004, 0, 0,\n\t\tpbn_b0_4_921600 },\n \n \n\t{\tPCI_VENDOR_ID_KORENIX, PCI_DEVICE_ID_KORENIX_JETCARDF1,\n\t\t0x1208, 0x0004, 0, 0,\n\t\tpbn_b0_4_921600 },\n\n\t{\tPCI_VENDOR_ID_KORENIX, PCI_DEVICE_ID_KORENIX_JETCARDF2,\n\t\t0x1204, 0x0004, 0, 0,\n\t\tpbn_b0_4_921600 },\n\t{\tPCI_VENDOR_ID_KORENIX, PCI_DEVICE_ID_KORENIX_JETCARDF2,\n\t\t0x1208, 0x0004, 0, 0,\n\t\tpbn_b0_4_921600 },\n\t{\tPCI_VENDOR_ID_KORENIX, PCI_DEVICE_ID_KORENIX_JETCARDF3,\n\t\t0x1208, 0x0004, 0, 0,\n\t\tpbn_b0_4_921600 },\n\t \n\t{\tPCI_VENDOR_ID_DELL, PCI_DEVICE_ID_DELL_RAC4,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_1_1382400 },\n\n\t \n\t{\tPCI_VENDOR_ID_DELL, PCI_DEVICE_ID_DELL_RACIII,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_1_1382400 },\n\n\t \n\t{\tPCI_VENDOR_ID_MORETON, PCI_DEVICE_ID_RASTEL_2PORT,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_bt_2_115200 },\n\n\t \n\t{\tPCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_80960_RP,\n\t\t0xE4BF, PCI_ANY_ID, 0, 0,\n\t\tpbn_intel_i960 },\n\n\t \n\t{\tPCI_VENDOR_ID_XIRCOM, PCI_DEVICE_ID_XIRCOM_X3201_MDM,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_1_115200 },\n\t \n\t{\tPCI_VENDOR_ID_XIRCOM, PCI_DEVICE_ID_XIRCOM_RBM56G,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_1_115200 },\n\n\t \n\n\t \n\t{\tPCI_VENDOR_ID_ROCKWELL, 0x1004,\n\t\t0x1048, 0x1500, 0, 0,\n\t\tpbn_b1_1_115200 },\n\n\t{\tPCI_VENDOR_ID_SGI, PCI_DEVICE_ID_SGI_IOC3,\n\t\t0xFF00, 0, 0, 0,\n\t\tpbn_sgi_ioc3 },\n\n\t \n\t{\tPCI_VENDOR_ID_HP, PCI_DEVICE_ID_HP_DIVA,\n\t\tPCI_VENDOR_ID_HP, PCI_DEVICE_ID_HP_DIVA_RMP3, 0, 0,\n\t\tpbn_b1_1_115200 },\n\t{\tPCI_VENDOR_ID_HP, PCI_DEVICE_ID_HP_DIVA,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_5_115200 },\n\t{\tPCI_VENDOR_ID_HP, PCI_DEVICE_ID_HP_DIVA_AUX,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_1_115200 },\n\t \n\t{\tPCI_VENDOR_ID_HP_3PAR, PCI_DEVICE_ID_HPE_PCI_SERIAL,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_1_115200 },\n\n\t{\tPCI_VENDOR_ID_DCI, PCI_DEVICE_ID_DCI_PCCOM2,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b3_2_115200 },\n\t{\tPCI_VENDOR_ID_DCI, PCI_DEVICE_ID_DCI_PCCOM4,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b3_4_115200 },\n\t{\tPCI_VENDOR_ID_DCI, PCI_DEVICE_ID_DCI_PCCOM8,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b3_8_115200 },\n\t \n\t{\tPCI_VENDOR_ID_TOPIC, PCI_DEVICE_ID_TOPIC_TP560,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b0_1_115200 },\n\t \n\t{\tPCI_VENDOR_ID_ITE, PCI_DEVICE_ID_ITE_8872,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b1_bt_1_115200 },\n\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0D60,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b2_1_115200 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, PCI_DEVICE_ID_INTASHIELD_IS200,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\t \n\t\tpbn_b2_2_115200 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, PCI_DEVICE_ID_INTASHIELD_IS400,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,     \n\t\tpbn_b2_4_115200 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x4027,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x4028,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_oxsemi_2_15625000 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x4029,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_oxsemi_4_15625000 },\n\t \n\t \n\t{       PCI_VENDOR_ID_INTASHIELD, 0x0BA1,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0AA1,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_1_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0AA2,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_1_115200 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0CA1,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0D21,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\tPCI_CLASS_COMMUNICATION_MULTISERIAL << 8, 0xffff00,\n\t\tpbn_b2_4_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0E34,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\tPCI_CLASS_COMMUNICATION_MULTISERIAL << 8, 0xffff00,\n\t\tpbn_b2_4_115200 },\n\t \n\t{       PCI_VENDOR_ID_INTASHIELD, 0x0841,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_4_115200 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0881,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_8_115200 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x08E1,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x08E2,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x08E3,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t \n\t{       PCI_VENDOR_ID_INTASHIELD, 0x08C1,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t \n\t{       PCI_VENDOR_ID_INTASHIELD, 0x08A1,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t{       PCI_VENDOR_ID_INTASHIELD, 0x08A2,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t{       PCI_VENDOR_ID_INTASHIELD, 0x08A3,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0A61,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_1_115200 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0B01,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_4_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0B02,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_4_115200 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0A81,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0A82,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0A83,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0C41,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_4_115200 },\n\t \n\t{       PCI_VENDOR_ID_INTASHIELD, 0x0921,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_4_115200 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x09A1,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x09A2,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x09A3,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0D41,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_4_115200 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0AC1,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0AC2,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0AC3,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0B21,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0B22,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0B23,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0C01,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0C02,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0C03,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0C21,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0C22,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0C23,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_2_115200 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x4005,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b0_2_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x4019,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_oxsemi_2_15625000 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x4004,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b0_1_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x4016,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x4006,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b0_2_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x4015,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_oxsemi_2_15625000 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x400A,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_oxsemi_4_15625000 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x0E41,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b2_8_115200 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x400E,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_oxsemi_2_15625000 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x400C,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_oxsemi_2_15625000 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x400B,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x400F,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_oxsemi_4_15625000 },\n\t \n\t{       PCI_VENDOR_ID_INTASHIELD, 0x4010,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_oxsemi_4_15625000 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x4000,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b0_4_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x4011,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_oxsemi_4_15625000 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x401D,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x4009,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b0_2_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x4018,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_oxsemi_2_15625000 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x401E,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_oxsemi_2_15625000 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x4002,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b0_4_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x4013,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_oxsemi_4_15625000 },\n\t \n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x4008,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_b0_1_115200 },\n\t{\tPCI_VENDOR_ID_INTASHIELD, 0x4017,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0,\n\t\tpbn_oxsemi_1_15625000 },\n\n\t \n\t{       PCI_VENDOR_ID_PLX, PCI_DEVICE_ID_PLX_9030,\n\t\tPCI_SUBVENDOR_ID_PERLE, PCI_SUBDEVICE_ID_PCI_RAS4,\n\t\t0, 0, pbn_b2_4_921600 },\n\t{       PCI_VENDOR_ID_PLX, PCI_DEVICE_ID_PLX_9030,\n\t\tPCI_SUBVENDOR_ID_PERLE, PCI_SUBDEVICE_ID_PCI_RAS8,\n\t\t0, 0, pbn_b2_8_921600 },\n\n\t \n\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x0200,\n\t\t0, 0, pbn_b0_2_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x0300,\n\t\t0, 0, pbn_b0_4_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x0400,\n\t\t0, 0, pbn_b0_2_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x0500,\n\t\t0, 0, pbn_b0_4_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x0600,\n\t\t0, 0, pbn_b0_2_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x0700,\n\t\t0, 0, pbn_b0_4_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x0800,\n\t\t0, 0, pbn_b0_8_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x0C00,\n\t\t0, 0, pbn_b0_2_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x0D00,\n\t\t0, 0, pbn_b0_4_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x1D00,\n\t\t0, 0, pbn_b0_8_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x2000,\n\t\t0, 0, pbn_b0_1_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x2100,\n\t\t0, 0, pbn_b0_1_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x2200,\n\t\t0, 0, pbn_b0_2_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x2300,\n\t\t0, 0, pbn_b0_2_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x2400,\n\t\t0, 0, pbn_b0_4_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x2500,\n\t\t0, 0, pbn_b0_4_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x2600,\n\t\t0, 0, pbn_b0_8_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x2700,\n\t\t0, 0, pbn_b0_8_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x3000,\n\t\t0, 0, pbn_b0_1_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x3100,\n\t\t0, 0, pbn_b0_1_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x3200,\n\t\t0, 0, pbn_b0_2_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x3300,\n\t\t0, 0, pbn_b0_2_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x3400,\n\t\t0, 0, pbn_b0_4_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x3500,\n\t\t0, 0, pbn_b0_4_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x3C00,\n\t\t0, 0, pbn_b0_8_115200 },\n\t{\t \n\t\tPCI_VENDOR_ID_MAINPINE, PCI_DEVICE_ID_MAINPINE_PBRIDGE,\n\t\tPCI_VENDOR_ID_MAINPINE, 0x3D00,\n\t\t0, 0, pbn_b0_8_115200 },\n\n\n\t \n\t{\tPCI_VENDOR_ID_PASEMI, 0xa004,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_pasemi_1682M },\n\n\t \n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PCI23216,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_16_115200 },\n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PCI2328,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_8_115200 },\n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PCI2324,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_bt_4_115200 },\n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PCI2322,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_bt_2_115200 },\n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PCI2324I,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_bt_4_115200 },\n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PCI2322I,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_bt_2_115200 },\n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PXI8420_23216,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_16_115200 },\n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PXI8420_2328,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_8_115200 },\n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PXI8420_2324,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_bt_4_115200 },\n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PXI8420_2322,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_bt_2_115200 },\n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PXI8422_2324,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_bt_4_115200 },\n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PXI8422_2322,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_b1_bt_2_115200 },\n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PXI8430_2322,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_ni8430_2 },\n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PCI8430_2322,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_ni8430_2 },\n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PXI8430_2324,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_ni8430_4 },\n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PCI8430_2324,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_ni8430_4 },\n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PXI8430_2328,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_ni8430_8 },\n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PCI8430_2328,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_ni8430_8 },\n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PXI8430_23216,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_ni8430_16 },\n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PCI8430_23216,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_ni8430_16 },\n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PXI8432_2322,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_ni8430_2 },\n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PCI8432_2322,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_ni8430_2 },\n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PXI8432_2324,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_ni8430_4 },\n\t{\tPCI_VENDOR_ID_NI, PCI_DEVICE_ID_NI_PCI8432_2324,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_ni8430_4 },\n\n\t \n\t{\tPCI_VENDOR_ID_MOXA, PCI_DEVICE_ID_MOXA_CP102E,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_moxa8250_2p },\n\t{\tPCI_VENDOR_ID_MOXA, PCI_DEVICE_ID_MOXA_CP102EL,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_moxa8250_2p },\n\t{\tPCI_VENDOR_ID_MOXA, PCI_DEVICE_ID_MOXA_CP104EL_A,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_moxa8250_4p },\n\t{\tPCI_VENDOR_ID_MOXA, PCI_DEVICE_ID_MOXA_CP114EL,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_moxa8250_4p },\n\t{\tPCI_VENDOR_ID_MOXA, PCI_DEVICE_ID_MOXA_CP116E_A_A,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_moxa8250_8p },\n\t{\tPCI_VENDOR_ID_MOXA, PCI_DEVICE_ID_MOXA_CP116E_A_B,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_moxa8250_8p },\n\t{\tPCI_VENDOR_ID_MOXA, PCI_DEVICE_ID_MOXA_CP118EL_A,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_moxa8250_8p },\n\t{\tPCI_VENDOR_ID_MOXA, PCI_DEVICE_ID_MOXA_CP118E_A_I,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_moxa8250_8p },\n\t{\tPCI_VENDOR_ID_MOXA, PCI_DEVICE_ID_MOXA_CP132EL,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_moxa8250_2p },\n\t{\tPCI_VENDOR_ID_MOXA, PCI_DEVICE_ID_MOXA_CP134EL_A,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_moxa8250_4p },\n\t{\tPCI_VENDOR_ID_MOXA, PCI_DEVICE_ID_MOXA_CP138E_A,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_moxa8250_8p },\n\t{\tPCI_VENDOR_ID_MOXA, PCI_DEVICE_ID_MOXA_CP168EL_A,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_moxa8250_8p },\n\n\t \n\t{\tPCI_VENDOR_ID_ADDIDATA,\n\t\tPCI_DEVICE_ID_ADDIDATA_APCI7500,\n\t\tPCI_ANY_ID,\n\t\tPCI_ANY_ID,\n\t\t0,\n\t\t0,\n\t\tpbn_b0_4_115200 },\n\n\t{\tPCI_VENDOR_ID_ADDIDATA,\n\t\tPCI_DEVICE_ID_ADDIDATA_APCI7420,\n\t\tPCI_ANY_ID,\n\t\tPCI_ANY_ID,\n\t\t0,\n\t\t0,\n\t\tpbn_b0_2_115200 },\n\n\t{\tPCI_VENDOR_ID_ADDIDATA,\n\t\tPCI_DEVICE_ID_ADDIDATA_APCI7300,\n\t\tPCI_ANY_ID,\n\t\tPCI_ANY_ID,\n\t\t0,\n\t\t0,\n\t\tpbn_b0_1_115200 },\n\n\t{\tPCI_VENDOR_ID_AMCC,\n\t\tPCI_DEVICE_ID_AMCC_ADDIDATA_APCI7800,\n\t\tPCI_ANY_ID,\n\t\tPCI_ANY_ID,\n\t\t0,\n\t\t0,\n\t\tpbn_b1_8_115200 },\n\n\t{\tPCI_VENDOR_ID_ADDIDATA,\n\t\tPCI_DEVICE_ID_ADDIDATA_APCI7500_2,\n\t\tPCI_ANY_ID,\n\t\tPCI_ANY_ID,\n\t\t0,\n\t\t0,\n\t\tpbn_b0_4_115200 },\n\n\t{\tPCI_VENDOR_ID_ADDIDATA,\n\t\tPCI_DEVICE_ID_ADDIDATA_APCI7420_2,\n\t\tPCI_ANY_ID,\n\t\tPCI_ANY_ID,\n\t\t0,\n\t\t0,\n\t\tpbn_b0_2_115200 },\n\n\t{\tPCI_VENDOR_ID_ADDIDATA,\n\t\tPCI_DEVICE_ID_ADDIDATA_APCI7300_2,\n\t\tPCI_ANY_ID,\n\t\tPCI_ANY_ID,\n\t\t0,\n\t\t0,\n\t\tpbn_b0_1_115200 },\n\n\t{\tPCI_VENDOR_ID_ADDIDATA,\n\t\tPCI_DEVICE_ID_ADDIDATA_APCI7500_3,\n\t\tPCI_ANY_ID,\n\t\tPCI_ANY_ID,\n\t\t0,\n\t\t0,\n\t\tpbn_b0_4_115200 },\n\n\t{\tPCI_VENDOR_ID_ADDIDATA,\n\t\tPCI_DEVICE_ID_ADDIDATA_APCI7420_3,\n\t\tPCI_ANY_ID,\n\t\tPCI_ANY_ID,\n\t\t0,\n\t\t0,\n\t\tpbn_b0_2_115200 },\n\n\t{\tPCI_VENDOR_ID_ADDIDATA,\n\t\tPCI_DEVICE_ID_ADDIDATA_APCI7300_3,\n\t\tPCI_ANY_ID,\n\t\tPCI_ANY_ID,\n\t\t0,\n\t\t0,\n\t\tpbn_b0_1_115200 },\n\n\t{\tPCI_VENDOR_ID_ADDIDATA,\n\t\tPCI_DEVICE_ID_ADDIDATA_APCI7800_3,\n\t\tPCI_ANY_ID,\n\t\tPCI_ANY_ID,\n\t\t0,\n\t\t0,\n\t\tpbn_b0_8_115200 },\n\n\t{\tPCI_VENDOR_ID_ADDIDATA,\n\t\tPCI_DEVICE_ID_ADDIDATA_APCIe7500,\n\t\tPCI_ANY_ID,\n\t\tPCI_ANY_ID,\n\t\t0,\n\t\t0,\n\t\tpbn_ADDIDATA_PCIe_4_3906250 },\n\n\t{\tPCI_VENDOR_ID_ADDIDATA,\n\t\tPCI_DEVICE_ID_ADDIDATA_APCIe7420,\n\t\tPCI_ANY_ID,\n\t\tPCI_ANY_ID,\n\t\t0,\n\t\t0,\n\t\tpbn_ADDIDATA_PCIe_2_3906250 },\n\n\t{\tPCI_VENDOR_ID_ADDIDATA,\n\t\tPCI_DEVICE_ID_ADDIDATA_APCIe7300,\n\t\tPCI_ANY_ID,\n\t\tPCI_ANY_ID,\n\t\t0,\n\t\t0,\n\t\tpbn_ADDIDATA_PCIe_1_3906250 },\n\n\t{\tPCI_VENDOR_ID_ADDIDATA,\n\t\tPCI_DEVICE_ID_ADDIDATA_APCIe7800,\n\t\tPCI_ANY_ID,\n\t\tPCI_ANY_ID,\n\t\t0,\n\t\t0,\n\t\tpbn_ADDIDATA_PCIe_8_3906250 },\n\n\t{\tPCI_VENDOR_ID_NETMOS, PCI_DEVICE_ID_NETMOS_9835,\n\t\tPCI_VENDOR_ID_IBM, 0x0299,\n\t\t0, 0, pbn_b0_bt_2_115200 },\n\n\t \n\n\t{\tPCI_VENDOR_ID_NETMOS, PCI_DEVICE_ID_NETMOS_9901,\n\t\t0xA000, 0x1000,\n\t\t0, 0, pbn_b0_1_115200 },\n\n\t \n\t{\tPCI_VENDOR_ID_NETMOS, PCI_DEVICE_ID_NETMOS_9912,\n\t\t0xA000, 0x1000,\n\t\t0, 0, pbn_b0_1_115200 },\n\n\t{\tPCI_VENDOR_ID_NETMOS, PCI_DEVICE_ID_NETMOS_9922,\n\t\t0xA000, 0x1000,\n\t\t0, 0, pbn_b0_1_115200 },\n\n\t{\tPCI_VENDOR_ID_NETMOS, PCI_DEVICE_ID_NETMOS_9904,\n\t\t0xA000, 0x1000,\n\t\t0, 0, pbn_b0_1_115200 },\n\n\t{\tPCI_VENDOR_ID_NETMOS, PCI_DEVICE_ID_NETMOS_9900,\n\t\t0xA000, 0x1000,\n\t\t0, 0, pbn_b0_1_115200 },\n\n\t{\tPCI_VENDOR_ID_NETMOS, PCI_DEVICE_ID_NETMOS_9900,\n\t\t0xA000, 0x3002,\n\t\t0, 0, pbn_NETMOS9900_2s_115200 },\n\n\t \n\n\t{\tPCI_VENDOR_ID_NETMOS, PCI_DEVICE_ID_NETMOS_9865,\n\t\t0xA000, 0x1000,\n\t\t0, 0, pbn_b0_1_115200 },\n\n\t{\tPCI_VENDOR_ID_NETMOS, PCI_DEVICE_ID_NETMOS_9865,\n\t\t0xA000, 0x3002,\n\t\t0, 0, pbn_b0_bt_2_115200 },\n\n\t{\tPCI_VENDOR_ID_NETMOS, PCI_DEVICE_ID_NETMOS_9865,\n\t\t0xA000, 0x3004,\n\t\t0, 0, pbn_b0_bt_4_115200 },\n\n\t \n\t{\tPCI_VENDOR_ID_ASIX, PCI_DEVICE_ID_ASIX_AX99100,\n\t\t0xA000, 0x1000,\n\t\t0, 0, pbn_b0_1_115200 },\n\n\t \n\t{\tPCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_CE4100_UART,\n\t\tPCI_ANY_ID,  PCI_ANY_ID, 0, 0,\n\t\tpbn_ce4100_1_115200 },\n\n\t \n\t{\tPCI_VENDOR_ID_PLX, PCI_DEVICE_ID_PLX_CRONYX_OMEGA,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_omegapci },\n\n\t \n\t{\tPCI_VENDOR_ID_BROADCOM, PCI_DEVICE_ID_BROADCOM_TRUMANAGE,\n\t\tPCI_ANY_ID, PCI_ANY_ID, 0, 0,\n\t\tpbn_brcm_trumanage },\n\n\t \n\t{\tPCI_VENDOR_ID_AGESTAR, PCI_DEVICE_ID_AGESTAR_9375,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0, pbn_b0_bt_2_115200 },\n\n\t \n\t{\tPCI_VENDOR_ID_WCH, PCI_DEVICE_ID_WCH_CH353_4S,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0, pbn_b0_bt_4_115200 },\n\n\t{\tPCI_VENDOR_ID_WCH, PCI_DEVICE_ID_WCH_CH353_2S1PF,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0, pbn_b0_bt_2_115200 },\n\n\t{\tPCI_VENDOR_ID_WCH, PCI_DEVICE_ID_WCH_CH355_4S,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0, pbn_b0_bt_4_115200 },\n\n\t{\tPCIE_VENDOR_ID_WCH, PCIE_DEVICE_ID_WCH_CH382_2S,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0, pbn_wch382_2 },\n\n\t{\tPCIE_VENDOR_ID_WCH, PCIE_DEVICE_ID_WCH_CH384_4S,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0, pbn_wch384_4 },\n\n\t{\tPCIE_VENDOR_ID_WCH, PCIE_DEVICE_ID_WCH_CH384_8S,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0, pbn_wch384_8 },\n\t \n\t{\tPCI_VENDOR_ID_REALTEK, 0x816a,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0, pbn_b0_1_115200 },\n\n\t{\tPCI_VENDOR_ID_REALTEK, 0x816b,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\t0, 0, pbn_b0_1_115200 },\n\n\t \n\t{ PCI_DEVICE(0x1c29, 0x1104), .driver_data = pbn_fintek_4 },\n\t{ PCI_DEVICE(0x1c29, 0x1108), .driver_data = pbn_fintek_8 },\n\t{ PCI_DEVICE(0x1c29, 0x1112), .driver_data = pbn_fintek_12 },\n\t{ PCI_DEVICE(0x1c29, 0x1204), .driver_data = pbn_fintek_F81504A },\n\t{ PCI_DEVICE(0x1c29, 0x1208), .driver_data = pbn_fintek_F81508A },\n\t{ PCI_DEVICE(0x1c29, 0x1212), .driver_data = pbn_fintek_F81512A },\n\n\t \n\t{ PCI_DEVICE(0x1601, 0x0800), .driver_data = pbn_b0_4_1250000 },\n\t{ PCI_DEVICE(0x1601, 0xa801), .driver_data = pbn_b0_4_1250000 },\n\n\t \n\t{ PCI_DEVICE(0x1d0f, 0x8250), .driver_data = pbn_b0_1_115200 },\n\n\t \n\t{\tPCI_ANY_ID, PCI_ANY_ID,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\tPCI_CLASS_COMMUNICATION_SERIAL << 8,\n\t\t0xffff00, pbn_default },\n\t{\tPCI_ANY_ID, PCI_ANY_ID,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\tPCI_CLASS_COMMUNICATION_MODEM << 8,\n\t\t0xffff00, pbn_default },\n\t{\tPCI_ANY_ID, PCI_ANY_ID,\n\t\tPCI_ANY_ID, PCI_ANY_ID,\n\t\tPCI_CLASS_COMMUNICATION_MULTISERIAL << 8,\n\t\t0xffff00, pbn_default },\n\t{ 0, }\n};\n\nstatic pci_ers_result_t serial8250_io_error_detected(struct pci_dev *dev,\n\t\t\t\t\t\tpci_channel_state_t state)\n{\n\tstruct serial_private *priv = pci_get_drvdata(dev);\n\n\tif (state == pci_channel_io_perm_failure)\n\t\treturn PCI_ERS_RESULT_DISCONNECT;\n\n\tif (priv)\n\t\tpciserial_detach_ports(priv);\n\n\tpci_disable_device(dev);\n\n\treturn PCI_ERS_RESULT_NEED_RESET;\n}\n\nstatic pci_ers_result_t serial8250_io_slot_reset(struct pci_dev *dev)\n{\n\tint rc;\n\n\trc = pci_enable_device(dev);\n\n\tif (rc)\n\t\treturn PCI_ERS_RESULT_DISCONNECT;\n\n\tpci_restore_state(dev);\n\tpci_save_state(dev);\n\n\treturn PCI_ERS_RESULT_RECOVERED;\n}\n\nstatic void serial8250_io_resume(struct pci_dev *dev)\n{\n\tstruct serial_private *priv = pci_get_drvdata(dev);\n\tstruct serial_private *new;\n\n\tif (!priv)\n\t\treturn;\n\n\tnew = pciserial_init_ports(dev, priv->board);\n\tif (!IS_ERR(new)) {\n\t\tpci_set_drvdata(dev, new);\n\t\tkfree(priv);\n\t}\n}\n\nstatic const struct pci_error_handlers serial8250_err_handler = {\n\t.error_detected = serial8250_io_error_detected,\n\t.slot_reset = serial8250_io_slot_reset,\n\t.resume = serial8250_io_resume,\n};\n\nstatic struct pci_driver serial_pci_driver = {\n\t.name\t\t= \"serial\",\n\t.probe\t\t= pciserial_init_one,\n\t.remove\t\t= pciserial_remove_one,\n\t.driver         = {\n\t\t.pm     = &pciserial_pm_ops,\n\t},\n\t.id_table\t= serial_pci_tbl,\n\t.err_handler\t= &serial8250_err_handler,\n};\n\nmodule_pci_driver(serial_pci_driver);\n\nMODULE_LICENSE(\"GPL\");\nMODULE_DESCRIPTION(\"Generic 8250/16x50 PCI serial probe module\");\nMODULE_DEVICE_TABLE(pci, serial_pci_tbl);\nMODULE_IMPORT_NS(SERIAL_8250_PCI);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}