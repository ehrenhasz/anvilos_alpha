{
  "module_name": "serial_cs.c",
  "hash_id": "346a96258fa1be3137f6192154f726b4eb28d1ffe72f3f1de685937e987b10bd",
  "original_prompt": "Ingested from linux-6.6.14/drivers/tty/serial/8250/serial_cs.c",
  "human_readable_source": "\n \n\n#include <linux/module.h>\n#include <linux/moduleparam.h>\n#include <linux/kernel.h>\n#include <linux/ptrace.h>\n#include <linux/slab.h>\n#include <linux/string.h>\n#include <linux/timer.h>\n#include <linux/serial_core.h>\n#include <linux/delay.h>\n#include <linux/major.h>\n#include <asm/io.h>\n\n#include <pcmcia/cistpl.h>\n#include <pcmcia/ciscode.h>\n#include <pcmcia/ds.h>\n#include <pcmcia/cisreg.h>\n\n#include \"8250.h\"\n\n\n \n\n \n\n \nstatic int do_sound = 1;\n \nstatic int buggy_uart;\n\nmodule_param(do_sound, int, 0444);\nmodule_param(buggy_uart, int, 0444);\n\n \n\n \n\nstruct serial_quirk {\n\tunsigned int manfid;\n\tunsigned int prodid;\n\tint multi;\t\t \n\tvoid (*config)(struct pcmcia_device *);\n\tvoid (*setup)(struct pcmcia_device *, struct uart_8250_port *);\n\tvoid (*wakeup)(struct pcmcia_device *);\n\tint (*post)(struct pcmcia_device *);\n};\n\nstruct serial_info {\n\tstruct pcmcia_device\t*p_dev;\n\tint\t\t\tndev;\n\tint\t\t\tmulti;\n\tint\t\t\tslave;\n\tint\t\t\tmanfid;\n\tint\t\t\tprodid;\n\tint\t\t\tc950ctrl;\n\tint\t\t\tline[4];\n\tconst struct serial_quirk *quirk;\n};\n\nstruct serial_cfg_mem {\n\ttuple_t tuple;\n\tcisparse_t parse;\n\tu_char buf[256];\n};\n\n \n \nstatic void quirk_setup_brainboxes_0104(struct pcmcia_device *link, struct uart_8250_port *uart)\n{\n\tuart->port.uartclk = 14745600;\n}\n\nstatic int quirk_post_ibm(struct pcmcia_device *link)\n{\n\tu8 val;\n\tint ret;\n\n\tret = pcmcia_read_config_byte(link, 0x800, &val);\n\tif (ret)\n\t\tgoto failed;\n\n\tret = pcmcia_write_config_byte(link, 0x800, val | 1);\n\tif (ret)\n\t\tgoto failed;\n\treturn 0;\n\n failed:\n\treturn -ENODEV;\n}\n\n \nstatic void quirk_config_nokia(struct pcmcia_device *link)\n{\n\tstruct serial_info *info = link->priv;\n\n\tif (info->multi > 1)\n\t\tinfo->multi = 1;\n}\n\nstatic void quirk_wakeup_oxsemi(struct pcmcia_device *link)\n{\n\tstruct serial_info *info = link->priv;\n\n\tif (info->c950ctrl)\n\t\toutb(12, info->c950ctrl + 1);\n}\n\n \n \nstatic void quirk_wakeup_possio_gcc(struct pcmcia_device *link)\n{\n\tstruct serial_info *info = link->priv;\n\tunsigned int ctrl = info->c950ctrl;\n\n\toutb(0xA, ctrl + 1);\n\tmsleep(100);\n\toutb(0xE, ctrl + 1);\n\tmsleep(300);\n\toutb(0xC, ctrl + 1);\n\tmsleep(100);\n\toutb(0xE, ctrl + 1);\n\tmsleep(200);\n\toutb(0xF, ctrl + 1);\n\tmsleep(100);\n\toutb(0xE, ctrl + 1);\n\tmsleep(100);\n\toutb(0xC, ctrl + 1);\n}\n\n \nstatic void quirk_config_socket(struct pcmcia_device *link)\n{\n\tstruct serial_info *info = link->priv;\n\n\tif (info->multi)\n\t\tlink->config_flags |= CONF_ENABLE_ESR;\n}\n\nstatic const struct serial_quirk quirks[] = {\n\t{\n\t\t.manfid\t= 0x0160,\n\t\t.prodid\t= 0x0104,\n\t\t.multi\t= -1,\n\t\t.setup\t= quirk_setup_brainboxes_0104,\n\t}, {\n\t\t.manfid\t= 0x015D,\n\t\t.prodid\t= 0x4C45,\n\t\t.multi\t= -1,\n\t\t.setup\t= quirk_setup_brainboxes_0104,\n\t}, {\n\t\t.manfid\t= MANFID_IBM,\n\t\t.prodid\t= ~0,\n\t\t.multi\t= -1,\n\t\t.post\t= quirk_post_ibm,\n\t}, {\n\t\t.manfid\t= MANFID_INTEL,\n\t\t.prodid\t= PRODID_INTEL_DUAL_RS232,\n\t\t.multi\t= 2,\n\t}, {\n\t\t.manfid\t= MANFID_NATINST,\n\t\t.prodid\t= PRODID_NATINST_QUAD_RS232,\n\t\t.multi\t= 4,\n\t}, {\n\t\t.manfid\t= MANFID_NOKIA,\n\t\t.prodid\t= ~0,\n\t\t.multi\t= -1,\n\t\t.config\t= quirk_config_nokia,\n\t}, {\n\t\t.manfid\t= MANFID_OMEGA,\n\t\t.prodid\t= PRODID_OMEGA_QSP_100,\n\t\t.multi\t= 4,\n\t}, {\n\t\t.manfid\t= MANFID_OXSEMI,\n\t\t.prodid\t= ~0,\n\t\t.multi\t= -1,\n\t\t.wakeup\t= quirk_wakeup_oxsemi,\n\t}, {\n\t\t.manfid\t= MANFID_POSSIO,\n\t\t.prodid\t= PRODID_POSSIO_GCC,\n\t\t.multi\t= -1,\n\t\t.wakeup\t= quirk_wakeup_possio_gcc,\n\t}, {\n\t\t.manfid\t= MANFID_QUATECH,\n\t\t.prodid\t= PRODID_QUATECH_DUAL_RS232,\n\t\t.multi\t= 2,\n\t}, {\n\t\t.manfid\t= MANFID_QUATECH,\n\t\t.prodid\t= PRODID_QUATECH_DUAL_RS232_D1,\n\t\t.multi\t= 2,\n\t}, {\n\t\t.manfid\t= MANFID_QUATECH,\n\t\t.prodid\t= PRODID_QUATECH_DUAL_RS232_G,\n\t\t.multi\t= 2,\n\t}, {\n\t\t.manfid\t= MANFID_QUATECH,\n\t\t.prodid\t= PRODID_QUATECH_QUAD_RS232,\n\t\t.multi\t= 4,\n\t}, {\n\t\t.manfid\t= MANFID_SOCKET,\n\t\t.prodid\t= PRODID_SOCKET_DUAL_RS232,\n\t\t.multi\t= 2,\n\t\t.config\t= quirk_config_socket,\n\t}, {\n\t\t.manfid\t= MANFID_SOCKET,\n\t\t.prodid\t= ~0,\n\t\t.multi\t= -1,\n\t\t.config\t= quirk_config_socket,\n\t}\n};\n\n\nstatic int serial_config(struct pcmcia_device *link);\n\n\nstatic void serial_remove(struct pcmcia_device *link)\n{\n\tstruct serial_info *info = link->priv;\n\tint i;\n\n\tdev_dbg(&link->dev, \"serial_release\\n\");\n\n\t \n\tfor (i = 0; i < info->ndev; i++)\n\t\tserial8250_unregister_port(info->line[i]);\n\n\tif (!info->slave)\n\t\tpcmcia_disable_device(link);\n}\n\nstatic int serial_suspend(struct pcmcia_device *link)\n{\n\tstruct serial_info *info = link->priv;\n\tint i;\n\n\tfor (i = 0; i < info->ndev; i++)\n\t\tserial8250_suspend_port(info->line[i]);\n\n\treturn 0;\n}\n\nstatic int serial_resume(struct pcmcia_device *link)\n{\n\tstruct serial_info *info = link->priv;\n\tint i;\n\n\tfor (i = 0; i < info->ndev; i++)\n\t\tserial8250_resume_port(info->line[i]);\n\n\tif (info->quirk && info->quirk->wakeup)\n\t\tinfo->quirk->wakeup(link);\n\n\treturn 0;\n}\n\nstatic int serial_probe(struct pcmcia_device *link)\n{\n\tstruct serial_info *info;\n\tint ret;\n\n\tdev_dbg(&link->dev, \"serial_attach()\\n\");\n\n\t \n\tinfo = kzalloc(sizeof(*info), GFP_KERNEL);\n\tif (!info)\n\t\treturn -ENOMEM;\n\tinfo->p_dev = link;\n\tlink->priv = info;\n\n\tlink->config_flags |= CONF_ENABLE_IRQ | CONF_AUTO_SET_IO;\n\tif (do_sound)\n\t\tlink->config_flags |= CONF_ENABLE_SPKR;\n\n\tret = serial_config(link);\n\tif (ret)\n\t\tgoto free_info;\n\n\treturn 0;\n\nfree_info:\n\tkfree(info);\n\treturn ret;\n}\n\nstatic void serial_detach(struct pcmcia_device *link)\n{\n\tstruct serial_info *info = link->priv;\n\n\tdev_dbg(&link->dev, \"serial_detach\\n\");\n\n\t \n\tserial_remove(link);\n\n\t \n\tkfree(info);\n}\n\n \n\nstatic int setup_serial(struct pcmcia_device *handle, struct serial_info *info,\n\t\t\tunsigned int iobase, int irq)\n{\n\tstruct uart_8250_port uart;\n\tint line;\n\n\tmemset(&uart, 0, sizeof(uart));\n\tuart.port.iobase = iobase;\n\tuart.port.irq = irq;\n\tuart.port.flags = UPF_BOOT_AUTOCONF | UPF_SKIP_TEST | UPF_SHARE_IRQ;\n\tuart.port.uartclk = 1843200;\n\tuart.port.dev = &handle->dev;\n\tif (buggy_uart)\n\t\tuart.port.flags |= UPF_BUGGY_UART;\n\n\tif (info->quirk && info->quirk->setup)\n\t\tinfo->quirk->setup(handle, &uart);\n\n\tline = serial8250_register_8250_port(&uart);\n\tif (line < 0) {\n\t\tpr_err(\"serial_cs: serial8250_register_8250_port() at 0x%04lx, irq %d failed\\n\",\n\t\t\t\t\t\t\t(unsigned long)iobase, irq);\n\t\treturn -EINVAL;\n\t}\n\n\tinfo->line[info->ndev] = line;\n\tinfo->ndev++;\n\n\treturn 0;\n}\n\n \n\nstatic int pfc_config(struct pcmcia_device *p_dev)\n{\n\tunsigned int port = 0;\n\tstruct serial_info *info = p_dev->priv;\n\n\tif ((p_dev->resource[1]->end != 0) &&\n\t\t(resource_size(p_dev->resource[1]) == 8)) {\n\t\tport = p_dev->resource[1]->start;\n\t\tinfo->slave = 1;\n\t} else if ((info->manfid == MANFID_OSITECH) &&\n\t\t(resource_size(p_dev->resource[0]) == 0x40)) {\n\t\tport = p_dev->resource[0]->start + 0x28;\n\t\tinfo->slave = 1;\n\t}\n\tif (info->slave)\n\t\treturn setup_serial(p_dev, info, port, p_dev->irq);\n\n\tdev_warn(&p_dev->dev, \"no usable port range found, giving up\\n\");\n\treturn -ENODEV;\n}\n\nstatic int simple_config_check(struct pcmcia_device *p_dev, void *priv_data)\n{\n\tstatic const int size_table[2] = { 8, 16 };\n\tint *try = priv_data;\n\n\tif (p_dev->resource[0]->start == 0)\n\t\treturn -ENODEV;\n\n\tif ((*try & 0x1) == 0)\n\t\tp_dev->io_lines = 16;\n\n\tif (p_dev->resource[0]->end != size_table[(*try >> 1)])\n\t\treturn -ENODEV;\n\n\tp_dev->resource[0]->end = 8;\n\tp_dev->resource[0]->flags &= ~IO_DATA_PATH_WIDTH;\n\tp_dev->resource[0]->flags |= IO_DATA_PATH_WIDTH_8;\n\n\treturn pcmcia_request_io(p_dev);\n}\n\nstatic int simple_config_check_notpicky(struct pcmcia_device *p_dev,\n\t\t\t\t\tvoid *priv_data)\n{\n\tstatic const unsigned int base[5] = { 0x3f8, 0x2f8, 0x3e8, 0x2e8, 0x0 };\n\tint j;\n\n\tif (p_dev->io_lines > 3)\n\t\treturn -ENODEV;\n\n\tp_dev->resource[0]->flags &= ~IO_DATA_PATH_WIDTH;\n\tp_dev->resource[0]->flags |= IO_DATA_PATH_WIDTH_8;\n\tp_dev->resource[0]->end = 8;\n\n\tfor (j = 0; j < 5; j++) {\n\t\tp_dev->resource[0]->start = base[j];\n\t\tp_dev->io_lines = base[j] ? 16 : 3;\n\t\tif (!pcmcia_request_io(p_dev))\n\t\t\treturn 0;\n\t}\n\treturn -ENODEV;\n}\n\nstatic int simple_config(struct pcmcia_device *link)\n{\n\tstruct serial_info *info = link->priv;\n\tint ret, try;\n\n\t \n\tlink->config_flags |= CONF_AUTO_SET_VPP;\n\tfor (try = 0; try < 4; try++)\n\t\tif (!pcmcia_loop_config(link, simple_config_check, &try))\n\t\t\tgoto found_port;\n\n\t \n\tret = pcmcia_loop_config(link, simple_config_check_notpicky, NULL);\n\tif (ret) {\n\t\tdev_warn(&link->dev, \"no usable port range found, giving up\\n\");\n\t\treturn ret;\n\t}\n\nfound_port:\n\tif (info->multi && (info->manfid == MANFID_3COM))\n\t\tlink->config_index &= ~(0x08);\n\n\t \n\tif (info->quirk && info->quirk->config)\n\t\tinfo->quirk->config(link);\n\n\tret = pcmcia_enable_device(link);\n\tif (ret != 0)\n\t\treturn ret;\n\treturn setup_serial(link, info, link->resource[0]->start, link->irq);\n}\n\nstatic int multi_config_check(struct pcmcia_device *p_dev, void *priv_data)\n{\n\tint *multi = priv_data;\n\n\tif (p_dev->resource[1]->end)\n\t\treturn -EINVAL;\n\n\t \n\tif (p_dev->resource[0]->end <= 8)\n\t\treturn -EINVAL;\n\n\tp_dev->resource[0]->flags &= ~IO_DATA_PATH_WIDTH;\n\tp_dev->resource[0]->flags |= IO_DATA_PATH_WIDTH_8;\n\tp_dev->resource[0]->end = *multi * 8;\n\n\tif (pcmcia_request_io(p_dev))\n\t\treturn -ENODEV;\n\treturn 0;\n}\n\nstatic int multi_config_check_notpicky(struct pcmcia_device *p_dev,\n\t\t\t\t       void *priv_data)\n{\n\tint *base2 = priv_data;\n\n\tif (!p_dev->resource[0]->end || !p_dev->resource[1]->end ||\n\t\tp_dev->resource[0]->start + 8 != p_dev->resource[1]->start)\n\t\treturn -ENODEV;\n\n\tp_dev->resource[0]->end = p_dev->resource[1]->end = 8;\n\tp_dev->resource[0]->flags &= ~IO_DATA_PATH_WIDTH;\n\tp_dev->resource[0]->flags |= IO_DATA_PATH_WIDTH_8;\n\n\tif (pcmcia_request_io(p_dev))\n\t\treturn -ENODEV;\n\n\t*base2 = p_dev->resource[0]->start + 8;\n\treturn 0;\n}\n\nstatic int multi_config(struct pcmcia_device *link)\n{\n\tstruct serial_info *info = link->priv;\n\tint i, base2 = 0;\n\n\t \n\tif (!pcmcia_loop_config(link, multi_config_check, &info->multi))\n\t\tbase2 = link->resource[0]->start + 8;\n\telse {\n\t\t \n\t\tinfo->multi = 2;\n\t\tif (pcmcia_loop_config(link, multi_config_check_notpicky,\n\t\t\t\t       &base2)) {\n\t\t\tdev_warn(&link->dev,\n\t\t\t\t \"no usable port range found, giving up\\n\");\n\t\t\treturn -ENODEV;\n\t\t}\n\t}\n\n\tif (!link->irq)\n\t\tdev_warn(&link->dev, \"no usable IRQ found, continuing...\\n\");\n\n\t \n\tif (info->quirk && info->quirk->config)\n\t\tinfo->quirk->config(link);\n\n\ti = pcmcia_enable_device(link);\n\tif (i != 0)\n\t\treturn -ENODEV;\n\n\t \n\tif (info->manfid == MANFID_OXSEMI || (info->manfid == MANFID_POSSIO &&\n\t\t\t\tinfo->prodid == PRODID_POSSIO_GCC)) {\n\t\tif (link->config_index == 1 ||\n\t\t    link->config_index == 3) {\n\t\t\tsetup_serial(link, info, base2, link->irq);\n\t\t\tbase2 = link->resource[0]->start;\n\t\t} else {\n\t\t\tsetup_serial(link, info, link->resource[0]->start,\n\t\t\t\t     link->irq);\n\t\t}\n\t\tinfo->c950ctrl = base2;\n\n\t\t \n\t\tif (info->quirk && info->quirk->wakeup)\n\t\t\tinfo->quirk->wakeup(link);\n\n\t\treturn 0;\n\t}\n\n\tsetup_serial(link, info, link->resource[0]->start, link->irq);\n\tfor (i = 0; i < info->multi - 1; i++)\n\t\tsetup_serial(link, info, base2 + (8 * i),\n\t\t\t\tlink->irq);\n\treturn 0;\n}\n\nstatic int serial_check_for_multi(struct pcmcia_device *p_dev,  void *priv_data)\n{\n\tstruct serial_info *info = p_dev->priv;\n\n\tif (!p_dev->resource[0]->end)\n\t\treturn -EINVAL;\n\n\tif ((!p_dev->resource[1]->end) && (p_dev->resource[0]->end % 8 == 0))\n\t\tinfo->multi = p_dev->resource[0]->end >> 3;\n\n\tif ((p_dev->resource[1]->end) && (p_dev->resource[0]->end == 8)\n\t\t&& (p_dev->resource[1]->end == 8))\n\t\tinfo->multi = 2;\n\n\treturn 0;  \n}\n\n\nstatic int serial_config(struct pcmcia_device *link)\n{\n\tstruct serial_info *info = link->priv;\n\tint i;\n\n\tdev_dbg(&link->dev, \"serial_config\\n\");\n\n\t \n\tinfo->multi = (link->socket->functions > 1);\n\n\t \n\tinfo->manfid = link->manf_id;\n\tinfo->prodid = link->card_id;\n\n\tfor (i = 0; i < ARRAY_SIZE(quirks); i++)\n\t\tif ((quirks[i].manfid == ~0 ||\n\t\t     quirks[i].manfid == info->manfid) &&\n\t\t    (quirks[i].prodid == ~0 ||\n\t\t     quirks[i].prodid == info->prodid)) {\n\t\t\tinfo->quirk = &quirks[i];\n\t\t\tbreak;\n\t\t}\n\n\t \n\tif ((info->multi == 0) &&\n\t    (link->has_func_id) &&\n\t    (link->socket->pcmcia_pfc == 0) &&\n\t    ((link->func_id == CISTPL_FUNCID_MULTI) ||\n\t     (link->func_id == CISTPL_FUNCID_SERIAL))) {\n\t\tif (pcmcia_loop_config(link, serial_check_for_multi, info))\n\t\t\tgoto failed;\n\t}\n\n\t \n\tif (info->quirk && info->quirk->multi != -1)\n\t\tinfo->multi = info->quirk->multi;\n\n\tdev_info(&link->dev,\n\t\t\"trying to set up [0x%04x:0x%04x] (pfc: %d, multi: %d, quirk: %p)\\n\",\n\t\tlink->manf_id, link->card_id,\n\t\tlink->socket->pcmcia_pfc, info->multi, info->quirk);\n\tif (link->socket->pcmcia_pfc)\n\t\ti = pfc_config(link);\n\telse if (info->multi > 1)\n\t\ti = multi_config(link);\n\telse\n\t\ti = simple_config(link);\n\n\tif (i || info->ndev == 0)\n\t\tgoto failed;\n\n\t \n\tif (info->quirk && info->quirk->post)\n\t\tif (info->quirk->post(link))\n\t\t\tgoto failed;\n\n\treturn 0;\n\nfailed:\n\tdev_warn(&link->dev, \"failed to initialize\\n\");\n\tserial_remove(link);\n\treturn -ENODEV;\n}\n\nstatic const struct pcmcia_device_id serial_ids[] = {\n\tPCMCIA_PFC_DEVICE_MANF_CARD(1, 0x0057, 0x0021),\n\tPCMCIA_PFC_DEVICE_MANF_CARD(1, 0x0089, 0x110a),\n\tPCMCIA_PFC_DEVICE_MANF_CARD(1, 0x0104, 0x000a),\n\tPCMCIA_PFC_DEVICE_MANF_CARD(1, 0x0105, 0x0d0a),\n\tPCMCIA_PFC_DEVICE_MANF_CARD(1, 0x0105, 0x0e0a),\n\tPCMCIA_PFC_DEVICE_MANF_CARD(1, 0x0105, 0xea15),\n\tPCMCIA_PFC_DEVICE_MANF_CARD(1, 0x0109, 0x0501),\n\tPCMCIA_PFC_DEVICE_MANF_CARD(1, 0x0138, 0x110a),\n\tPCMCIA_PFC_DEVICE_MANF_CARD(1, 0x0140, 0x000a),\n\tPCMCIA_PFC_DEVICE_MANF_CARD(1, 0x0143, 0x3341),\n\tPCMCIA_PFC_DEVICE_MANF_CARD(1, 0x0143, 0xc0ab),\n\tPCMCIA_PFC_DEVICE_MANF_CARD(1, 0x016c, 0x0081),\n\tPCMCIA_PFC_DEVICE_MANF_CARD(1, 0x021b, 0x0101),\n\tPCMCIA_PFC_DEVICE_MANF_CARD(1, 0x08a1, 0xc0ab),\n\tPCMCIA_PFC_DEVICE_PROD_ID123(1, \"MEGAHERTZ\", \"CC/XJEM3288\", \"DATA/FAX/CELL ETHERNET MODEM\", 0xf510db04, 0x04cd2988, 0x46a52d63),\n\tPCMCIA_PFC_DEVICE_PROD_ID123(1, \"MEGAHERTZ\", \"CC/XJEM3336\", \"DATA/FAX/CELL ETHERNET MODEM\", 0xf510db04, 0x0143b773, 0x46a52d63),\n\tPCMCIA_PFC_DEVICE_PROD_ID123(1, \"MEGAHERTZ\", \"EM1144T\", \"PCMCIA MODEM\", 0xf510db04, 0x856d66c8, 0xbd6c43ef),\n\tPCMCIA_PFC_DEVICE_PROD_ID123(1, \"MEGAHERTZ\", \"XJEM1144/CCEM1144\", \"PCMCIA MODEM\", 0xf510db04, 0x52d21e1e, 0xbd6c43ef),\n\tPCMCIA_PFC_DEVICE_PROD_ID13(1, \"Xircom\", \"CEM28\", 0x2e3ee845, 0x0ea978ea),\n\tPCMCIA_PFC_DEVICE_PROD_ID13(1, \"Xircom\", \"CEM33\", 0x2e3ee845, 0x80609023),\n\tPCMCIA_PFC_DEVICE_PROD_ID13(1, \"Xircom\", \"CEM56\", 0x2e3ee845, 0xa650c32a),\n\tPCMCIA_PFC_DEVICE_PROD_ID13(1, \"Xircom\", \"REM10\", 0x2e3ee845, 0x76df1d29),\n\tPCMCIA_PFC_DEVICE_PROD_ID13(1, \"Xircom\", \"XEM5600\", 0x2e3ee845, 0xf1403719),\n\tPCMCIA_PFC_DEVICE_PROD_ID12(1, \"AnyCom\", \"Fast Ethernet + 56K COMBO\", 0x578ba6e7, 0xb0ac62c4),\n\tPCMCIA_PFC_DEVICE_PROD_ID12(1, \"ATKK\", \"LM33-PCM-T\", 0xba9eb7e2, 0x077c174e),\n\tPCMCIA_PFC_DEVICE_PROD_ID12(1, \"D-Link\", \"DME336T\", 0x1a424a1c, 0xb23897ff),\n\tPCMCIA_PFC_DEVICE_PROD_ID12(1, \"Gateway 2000\", \"XJEM3336\", 0xdd9989be, 0x662c394c),\n\tPCMCIA_PFC_DEVICE_PROD_ID12(1, \"Grey Cell\", \"GCS3000\", 0x2a151fac, 0x48b932ae),\n\tPCMCIA_PFC_DEVICE_PROD_ID12(1, \"Linksys\", \"EtherFast 10&100 + 56K PC Card (PCMLM56)\", 0x0733cc81, 0xb3765033),\n\tPCMCIA_PFC_DEVICE_PROD_ID12(1, \"LINKSYS\", \"PCMLM336\", 0xf7cb0b07, 0x7a821b58),\n\tPCMCIA_PFC_DEVICE_PROD_ID12(1, \"MEGAHERTZ\", \"XJEM1144/CCEM1144\", 0xf510db04, 0x52d21e1e),\n\tPCMCIA_PFC_DEVICE_PROD_ID12(1, \"MICRO RESEARCH\", \"COMBO-L/M-336\", 0xb2ced065, 0x3ced0555),\n\tPCMCIA_PFC_DEVICE_PROD_ID12(1, \"NEC\", \"PK-UG-J001\", 0x18df0ba0, 0x831b1064),\n\tPCMCIA_PFC_DEVICE_PROD_ID12(1, \"Ositech\", \"Trumpcard:Jack of Diamonds Modem+Ethernet\", 0xc2f80cd, 0x656947b9),\n\tPCMCIA_PFC_DEVICE_PROD_ID12(1, \"Ositech\", \"Trumpcard:Jack of Hearts Modem+Ethernet\", 0xc2f80cd, 0xdc9ba5ed),\n\tPCMCIA_PFC_DEVICE_PROD_ID12(1, \"PCMCIAs\", \"ComboCard\", 0xdcfe12d3, 0xcd8906cc),\n\tPCMCIA_PFC_DEVICE_PROD_ID12(1, \"PCMCIAs\", \"LanModem\", 0xdcfe12d3, 0xc67c648f),\n\tPCMCIA_PFC_DEVICE_PROD_ID12(1, \"TDK\", \"GlobalNetworker 3410/3412\", 0x1eae9475, 0xd9a93bed),\n\tPCMCIA_PFC_DEVICE_PROD_ID12(1, \"Xircom\", \"CreditCard Ethernet+Modem II\", 0x2e3ee845, 0xeca401bf),\n\tPCMCIA_PFC_DEVICE_MANF_CARD(1, 0x0032, 0x0e01),\n\tPCMCIA_PFC_DEVICE_MANF_CARD(1, 0x0032, 0x0a05),\n\tPCMCIA_PFC_DEVICE_MANF_CARD(1, 0x0032, 0x0b05),\n\tPCMCIA_PFC_DEVICE_MANF_CARD(1, 0x0032, 0x1101),\n\tPCMCIA_MFC_DEVICE_MANF_CARD(0, 0x0104, 0x0070),\n\tPCMCIA_MFC_DEVICE_MANF_CARD(1, 0x0101, 0x0562),\n\tPCMCIA_MFC_DEVICE_MANF_CARD(1, 0x0104, 0x0070),\n\tPCMCIA_MFC_DEVICE_MANF_CARD(1, 0x016c, 0x0020),\n\tPCMCIA_MFC_DEVICE_PROD_ID123(1, \"APEX DATA\", \"MULTICARD\", \"ETHERNET-MODEM\", 0x11c2da09, 0x7289dc5d, 0xaad95e1f),\n\tPCMCIA_MFC_DEVICE_PROD_ID12(1, \"IBM\", \"Home and Away 28.8 PC Card       \", 0xb569a6e5, 0x5bd4ff2c),\n\tPCMCIA_MFC_DEVICE_PROD_ID12(1, \"IBM\", \"Home and Away Credit Card Adapter\", 0xb569a6e5, 0x4bdf15c3),\n\tPCMCIA_MFC_DEVICE_PROD_ID12(1, \"IBM\", \"w95 Home and Away Credit Card \", 0xb569a6e5, 0xae911c15),\n\tPCMCIA_MFC_DEVICE_PROD_ID1(1, \"Motorola MARQUIS\", 0xf03e4e77),\n\tPCMCIA_MFC_DEVICE_PROD_ID2(1, \"FAX/Modem/Ethernet Combo Card \", 0x1ed59302),\n\tPCMCIA_DEVICE_MANF_CARD(0x0089, 0x0301),\n\tPCMCIA_DEVICE_MANF_CARD(0x00a4, 0x0276),\n\tPCMCIA_DEVICE_MANF_CARD(0x0101, 0x0039),\n\tPCMCIA_DEVICE_MANF_CARD(0x0104, 0x0006),\n\tPCMCIA_DEVICE_MANF_CARD(0x0105, 0x0101),  \n\tPCMCIA_DEVICE_MANF_CARD(0x0105, 0x100a),  \n\tPCMCIA_DEVICE_MANF_CARD(0x0105, 0x3e0a),  \n\tPCMCIA_DEVICE_MANF_CARD(0x0105, 0x410a),\n\tPCMCIA_DEVICE_MANF_CARD(0x0107, 0x0002),  \n\tPCMCIA_DEVICE_MANF_CARD(0x010b, 0x0d50),\n\tPCMCIA_DEVICE_MANF_CARD(0x010b, 0x0d51),\n\tPCMCIA_DEVICE_MANF_CARD(0x010b, 0x0d52),\n\tPCMCIA_DEVICE_MANF_CARD(0x010b, 0x0d53),\n\tPCMCIA_DEVICE_MANF_CARD(0x010b, 0xd180),\n\tPCMCIA_DEVICE_MANF_CARD(0x0115, 0x3330),  \n\tPCMCIA_DEVICE_MANF_CARD(0x0124, 0x0100),  \n\tPCMCIA_DEVICE_MANF_CARD(0x0134, 0x5600),  \n\tPCMCIA_DEVICE_MANF_CARD(0x0137, 0x000e),\n\tPCMCIA_DEVICE_MANF_CARD(0x0137, 0x001b),\n\tPCMCIA_DEVICE_MANF_CARD(0x0137, 0x0025),\n\tPCMCIA_DEVICE_MANF_CARD(0x0137, 0x0045),\n\tPCMCIA_DEVICE_MANF_CARD(0x0137, 0x0052),\n\tPCMCIA_DEVICE_MANF_CARD(0x016c, 0x0006),  \n\tPCMCIA_DEVICE_MANF_CARD(0x0200, 0x0001),  \n\tPCMCIA_DEVICE_PROD_ID134(\"ADV\", \"TECH\", \"COMpad-32/85\", 0x67459937, 0x916d02ba, 0x8fbe92ae),\n\tPCMCIA_DEVICE_PROD_ID124(\"GATEWAY2000\", \"CC3144\", \"PCMCIA MODEM\", 0x506bccae, 0xcb3685f1, 0xbd6c43ef),\n\tPCMCIA_DEVICE_PROD_ID14(\"MEGAHERTZ\", \"PCMCIA MODEM\", 0xf510db04, 0xbd6c43ef),\n\tPCMCIA_DEVICE_PROD_ID124(\"TOSHIBA\", \"T144PF\", \"PCMCIA MODEM\", 0xb4585a1a, 0x7271409c, 0xbd6c43ef),\n\tPCMCIA_DEVICE_PROD_ID123(\"FUJITSU\", \"FC14F \", \"MBH10213\", 0x6ee5a3d8, 0x30ead12b, 0xb00f05a0),\n\tPCMCIA_DEVICE_PROD_ID123(\"Novatel Wireless\", \"Merlin UMTS Modem\", \"U630\", 0x32607776, 0xd9e73b13, 0xe87332e),\n\tPCMCIA_DEVICE_PROD_ID13(\"MEGAHERTZ\", \"V.34 PCMCIA MODEM\", 0xf510db04, 0xbb2cce4a),\n\tPCMCIA_DEVICE_PROD_ID12(\"Brain Boxes\", \"Bluetooth PC Card\", 0xee138382, 0xd4ce9b02),\n\tPCMCIA_DEVICE_PROD_ID12(\"CIRRUS LOGIC\", \"FAX MODEM\", 0xe625f451, 0xcecd6dfa),\n\tPCMCIA_DEVICE_PROD_ID12(\"COMPAQ\", \"PCMCIA 28800 FAX/DATA MODEM\", 0xa3a3062c, 0x8cbd7c76),\n\tPCMCIA_DEVICE_PROD_ID12(\"COMPAQ\", \"PCMCIA 33600 FAX/DATA MODEM\", 0xa3a3062c, 0x5a00ce95),\n\tPCMCIA_DEVICE_PROD_ID12(\"Computerboards, Inc.\", \"PCM-COM422\", 0xd0b78f51, 0x7e2d49ed),\n\tPCMCIA_DEVICE_PROD_ID12(\"Dr. Neuhaus\", \"FURY CARD 14K4\", 0x76942813, 0x8b96ce65),\n\tPCMCIA_DEVICE_PROD_ID12(\"IBM\", \"ISDN/56K/GSM\", 0xb569a6e5, 0xfee5297b),\n\tPCMCIA_DEVICE_PROD_ID12(\"Intelligent\", \"ANGIA FAX/MODEM\", 0xb496e65e, 0xf31602a6),\n\tPCMCIA_DEVICE_PROD_ID12(\"Intel\", \"MODEM 2400+\", 0x816cc815, 0x412729fb),\n\tPCMCIA_DEVICE_PROD_ID12(\"Intertex\", \"IX34-PCMCIA\", 0xf8a097e3, 0x97880447),\n\tPCMCIA_DEVICE_PROD_ID12(\"IOTech Inc \", \"PCMCIA Dual RS-232 Serial Port Card\", 0x3bd2d898, 0x92abc92f),\n\tPCMCIA_DEVICE_PROD_ID12(\"MACRONIX\", \"FAX/MODEM\", 0x668388b3, 0x3f9bdf2f),\n\tPCMCIA_DEVICE_PROD_ID12(\"Multi-Tech\", \"MT1432LT\", 0x5f73be51, 0x0b3e2383),\n\tPCMCIA_DEVICE_PROD_ID12(\"Multi-Tech\", \"MT2834LT\", 0x5f73be51, 0x4cd7c09e),\n\tPCMCIA_DEVICE_PROD_ID12(\"OEM      \", \"C288MX     \", 0xb572d360, 0xd2385b7a),\n\tPCMCIA_DEVICE_PROD_ID12(\"Option International\", \"V34bis GSM/PSTN Data/Fax Modem\", 0x9d7cd6f5, 0x5cb8bf41),\n\tPCMCIA_DEVICE_PROD_ID12(\"Option International\", \"GSM-Ready 56K/ISDN\", 0x9d7cd6f5, 0xb23844aa),\n\tPCMCIA_DEVICE_PROD_ID12(\"PCMCIA   \", \"C336MX     \", 0x99bcafe9, 0xaa25bcab),\n\tPCMCIA_DEVICE_PROD_ID12(\"Quatech Inc\", \"PCMCIA Dual RS-232 Serial Port Card\", 0xc4420b35, 0x92abc92f),\n\tPCMCIA_DEVICE_PROD_ID12(\"Quatech Inc\", \"Dual RS-232 Serial Port PC Card\", 0xc4420b35, 0x031a380d),\n\tPCMCIA_DEVICE_PROD_ID12(\"Telia\", \"SurfinBird 560P/A+\", 0xe2cdd5e, 0xc9314b38),\n\tPCMCIA_DEVICE_PROD_ID1(\"Smart Serial Port\", 0x2d8ce292),\n\tPCMCIA_PFC_DEVICE_CIS_PROD_ID12(1, \"PCMCIA\", \"EN2218-LAN/MODEM\", 0x281f1c5d, 0x570f348e, \"cis/PCMLM28.cis\"),\n\tPCMCIA_PFC_DEVICE_CIS_PROD_ID12(1, \"PCMCIA\", \"UE2218-LAN/MODEM\", 0x281f1c5d, 0x6fdcacee, \"cis/PCMLM28.cis\"),\n\tPCMCIA_PFC_DEVICE_CIS_PROD_ID12(1, \"Psion Dacom\", \"Gold Card V34 Ethernet\", 0xf5f025c2, 0x338e8155, \"cis/PCMLM28.cis\"),\n\tPCMCIA_PFC_DEVICE_CIS_PROD_ID12(1, \"Psion Dacom\", \"Gold Card V34 Ethernet GSM\", 0xf5f025c2, 0x4ae85d35, \"cis/PCMLM28.cis\"),\n\tPCMCIA_PFC_DEVICE_CIS_PROD_ID12(1, \"LINKSYS\", \"PCMLM28\", 0xf7cb0b07, 0x66881874, \"cis/PCMLM28.cis\"),\n\tPCMCIA_PFC_DEVICE_CIS_PROD_ID12(1, \"TOSHIBA\", \"Modem/LAN Card\", 0xb4585a1a, 0x53f922f8, \"cis/PCMLM28.cis\"),\n\tPCMCIA_MFC_DEVICE_CIS_PROD_ID12(1, \"DAYNA COMMUNICATIONS\", \"LAN AND MODEM MULTIFUNCTION\", 0x8fdf8f89, 0xdd5ed9e8, \"cis/DP83903.cis\"),\n\tPCMCIA_MFC_DEVICE_CIS_PROD_ID4(1, \"NSC MF LAN/Modem\", 0x58fc6056, \"cis/DP83903.cis\"),\n\tPCMCIA_MFC_DEVICE_CIS_MANF_CARD(1, 0x0101, 0x0556, \"cis/3CCFEM556.cis\"),\n\tPCMCIA_MFC_DEVICE_CIS_MANF_CARD(1, 0x0175, 0x0000, \"cis/DP83903.cis\"),\n\tPCMCIA_MFC_DEVICE_CIS_MANF_CARD(1, 0x0101, 0x0035, \"cis/3CXEM556.cis\"),\n\tPCMCIA_MFC_DEVICE_CIS_MANF_CARD(1, 0x0101, 0x003d, \"cis/3CXEM556.cis\"),\n\tPCMCIA_DEVICE_CIS_PROD_ID12(\"Sierra Wireless\", \"AC850\", 0xd85f6206, 0x42a2c018, \"cis/SW_8xx_SER.cis\"),  \n\tPCMCIA_DEVICE_CIS_PROD_ID12(\"Sierra Wireless\", \"AC860\", 0xd85f6206, 0x698f93db, \"cis/SW_8xx_SER.cis\"),  \n\tPCMCIA_DEVICE_CIS_PROD_ID12(\"Sierra Wireless\", \"AC710/AC750\", 0xd85f6206, 0x761b11e0, \"cis/SW_7xx_SER.cis\"),   \n\tPCMCIA_DEVICE_CIS_MANF_CARD(0x0192, 0xa555, \"cis/SW_555_SER.cis\"),   \n\tPCMCIA_DEVICE_CIS_MANF_CARD(0x013f, 0xa555, \"cis/SW_555_SER.cis\"),   \n\tPCMCIA_DEVICE_CIS_PROD_ID12(\"MultiTech\", \"PCMCIA 56K DataFax\", 0x842047ee, 0xc2efcf03, \"cis/MT5634ZLX.cis\"),\n\tPCMCIA_DEVICE_CIS_PROD_ID12(\"ADVANTECH\", \"COMpad-32/85B-2\", 0x96913a85, 0x27ab5437, \"cis/COMpad2.cis\"),\n\tPCMCIA_DEVICE_CIS_PROD_ID12(\"ADVANTECH\", \"COMpad-32/85B-4\", 0x96913a85, 0xcec8f102, \"cis/COMpad4.cis\"),\n\tPCMCIA_DEVICE_CIS_PROD_ID123(\"ADVANTECH\", \"COMpad-32/85\", \"1.0\", 0x96913a85, 0x8fbe92ae, 0x0877b627, \"cis/COMpad2.cis\"),\n\tPCMCIA_DEVICE_CIS_PROD_ID2(\"RS-COM 2P\", 0xad20b156, \"cis/RS-COM-2P.cis\"),\n\tPCMCIA_DEVICE_PROD_ID12(\"ELAN DIGITAL SYSTEMS LTD, c1997.\", \"SERIAL CARD: SL100  1.00.\", 0x19ca78af, 0xf964f42b),\n\tPCMCIA_DEVICE_PROD_ID12(\"ELAN DIGITAL SYSTEMS LTD, c1997.\", \"SERIAL CARD: SL100\", 0x19ca78af, 0x71d98e83),\n\tPCMCIA_DEVICE_PROD_ID12(\"ELAN DIGITAL SYSTEMS LTD, c1997.\", \"SERIAL CARD: SL232  1.00.\", 0x19ca78af, 0x69fb7490),\n\tPCMCIA_DEVICE_PROD_ID12(\"ELAN DIGITAL SYSTEMS LTD, c1997.\", \"SERIAL CARD: SL232\", 0x19ca78af, 0xb6bc0235),\n\tPCMCIA_DEVICE_PROD_ID12(\"ELAN DIGITAL SYSTEMS LTD, c2000.\", \"SERIAL CARD: CF232\", 0x63f2e0bd, 0xb9e175d3),\n\tPCMCIA_DEVICE_PROD_ID12(\"ELAN DIGITAL SYSTEMS LTD, c2000.\", \"SERIAL CARD: CF232-5\", 0x63f2e0bd, 0xfce33442),\n\tPCMCIA_DEVICE_PROD_ID12(\"Elan\", \"Serial Port: CF232\", 0x3beb8cf2, 0x171e7190),\n\tPCMCIA_DEVICE_PROD_ID12(\"Elan\", \"Serial Port: CF232-5\", 0x3beb8cf2, 0x20da4262),\n\tPCMCIA_DEVICE_PROD_ID12(\"Elan\", \"Serial Port: CF428\", 0x3beb8cf2, 0xea5dd57d),\n\tPCMCIA_DEVICE_PROD_ID12(\"Elan\", \"Serial Port: CF500\", 0x3beb8cf2, 0xd77255fa),\n\tPCMCIA_DEVICE_PROD_ID12(\"Elan\", \"Serial Port: IC232\", 0x3beb8cf2, 0x6a709903),\n\tPCMCIA_DEVICE_PROD_ID12(\"Elan\", \"Serial Port: SL232\", 0x3beb8cf2, 0x18430676),\n\tPCMCIA_DEVICE_PROD_ID12(\"Elan\", \"Serial Port: XL232\", 0x3beb8cf2, 0x6f933767),\n\tPCMCIA_MFC_DEVICE_PROD_ID12(0, \"Elan\", \"Serial Port: CF332\", 0x3beb8cf2, 0x16dc1ba7),\n\tPCMCIA_MFC_DEVICE_PROD_ID12(0, \"Elan\", \"Serial Port: SL332\", 0x3beb8cf2, 0x19816c41),\n\tPCMCIA_MFC_DEVICE_PROD_ID12(0, \"Elan\", \"Serial Port: SL385\", 0x3beb8cf2, 0x64112029),\n\tPCMCIA_MFC_DEVICE_PROD_ID12(0, \"Elan\", \"Serial Port: SL432\", 0x3beb8cf2, 0x1cce7ac4),\n\tPCMCIA_MFC_DEVICE_PROD_ID12(0, \"Elan\", \"Serial+Parallel Port: SP230\", 0x3beb8cf2, 0xdb9e58bc),\n\tPCMCIA_MFC_DEVICE_PROD_ID12(1, \"Elan\", \"Serial Port: CF332\", 0x3beb8cf2, 0x16dc1ba7),\n\tPCMCIA_MFC_DEVICE_PROD_ID12(1, \"Elan\", \"Serial Port: SL332\", 0x3beb8cf2, 0x19816c41),\n\tPCMCIA_MFC_DEVICE_PROD_ID12(1, \"Elan\", \"Serial Port: SL385\", 0x3beb8cf2, 0x64112029),\n\tPCMCIA_MFC_DEVICE_PROD_ID12(1, \"Elan\", \"Serial Port: SL432\", 0x3beb8cf2, 0x1cce7ac4),\n\tPCMCIA_MFC_DEVICE_PROD_ID12(2, \"Elan\", \"Serial Port: SL432\", 0x3beb8cf2, 0x1cce7ac4),\n\tPCMCIA_MFC_DEVICE_PROD_ID12(3, \"Elan\", \"Serial Port: SL432\", 0x3beb8cf2, 0x1cce7ac4),\n\tPCMCIA_DEVICE_MANF_CARD(0x0279, 0x950b),\n\t \n\t \n\t \n\tPCMCIA_DEVICE_FUNC_ID(2),\n\tPCMCIA_DEVICE_NULL,\n};\nMODULE_DEVICE_TABLE(pcmcia, serial_ids);\n\nMODULE_FIRMWARE(\"cis/PCMLM28.cis\");\nMODULE_FIRMWARE(\"cis/DP83903.cis\");\nMODULE_FIRMWARE(\"cis/3CCFEM556.cis\");\nMODULE_FIRMWARE(\"cis/3CXEM556.cis\");\nMODULE_FIRMWARE(\"cis/SW_8xx_SER.cis\");\nMODULE_FIRMWARE(\"cis/SW_7xx_SER.cis\");\nMODULE_FIRMWARE(\"cis/SW_555_SER.cis\");\nMODULE_FIRMWARE(\"cis/MT5634ZLX.cis\");\nMODULE_FIRMWARE(\"cis/COMpad2.cis\");\nMODULE_FIRMWARE(\"cis/COMpad4.cis\");\nMODULE_FIRMWARE(\"cis/RS-COM-2P.cis\");\n\nstatic struct pcmcia_driver serial_cs_driver = {\n\t.owner\t\t= THIS_MODULE,\n\t.name\t\t= \"serial_cs\",\n\t.probe\t\t= serial_probe,\n\t.remove\t\t= serial_detach,\n\t.id_table\t= serial_ids,\n\t.suspend\t= serial_suspend,\n\t.resume\t\t= serial_resume,\n};\nmodule_pcmcia_driver(serial_cs_driver);\n\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}