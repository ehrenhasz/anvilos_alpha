{
  "module_name": "ivpu_hw.h",
  "hash_id": "a1a46f0c8ed5f4bad9ca2b0d0d26edab11ceabeb5b854f239499206d69a793c0",
  "original_prompt": "Ingested from linux-6.6.14/drivers/accel/ivpu/ivpu_hw.h",
  "human_readable_source": " \n \n\n#ifndef __IVPU_HW_H__\n#define __IVPU_HW_H__\n\n#include \"ivpu_drv.h\"\n\nstruct ivpu_hw_ops {\n\tint (*info_init)(struct ivpu_device *vdev);\n\tint (*power_up)(struct ivpu_device *vdev);\n\tint (*boot_fw)(struct ivpu_device *vdev);\n\tint (*power_down)(struct ivpu_device *vdev);\n\tint (*reset)(struct ivpu_device *vdev);\n\tbool (*is_idle)(struct ivpu_device *vdev);\n\tvoid (*wdt_disable)(struct ivpu_device *vdev);\n\tvoid (*diagnose_failure)(struct ivpu_device *vdev);\n\tu32 (*reg_pll_freq_get)(struct ivpu_device *vdev);\n\tu32 (*reg_telemetry_offset_get)(struct ivpu_device *vdev);\n\tu32 (*reg_telemetry_size_get)(struct ivpu_device *vdev);\n\tu32 (*reg_telemetry_enable_get)(struct ivpu_device *vdev);\n\tvoid (*reg_db_set)(struct ivpu_device *vdev, u32 db_id);\n\tu32 (*reg_ipc_rx_addr_get)(struct ivpu_device *vdev);\n\tu32 (*reg_ipc_rx_count_get)(struct ivpu_device *vdev);\n\tvoid (*reg_ipc_tx_set)(struct ivpu_device *vdev, u32 vpu_addr);\n\tvoid (*irq_clear)(struct ivpu_device *vdev);\n\tvoid (*irq_enable)(struct ivpu_device *vdev);\n\tvoid (*irq_disable)(struct ivpu_device *vdev);\n\tirqreturn_t (*irq_handler)(int irq, void *ptr);\n};\n\nstruct ivpu_addr_range {\n\tresource_size_t start;\n\tresource_size_t end;\n};\n\nstruct ivpu_hw_info {\n\tconst struct ivpu_hw_ops *ops;\n\tstruct {\n\t\tstruct ivpu_addr_range global;\n\t\tstruct ivpu_addr_range user;\n\t\tstruct ivpu_addr_range shave;\n\t\tstruct ivpu_addr_range dma;\n\t} ranges;\n\tstruct {\n\t\tu8 min_ratio;\n\t\tu8 max_ratio;\n\t\t \n\t\tu8 pn_ratio;\n\t\tu32 profiling_freq;\n\t} pll;\n\tu32 tile_fuse;\n\tu32 sku;\n\tu16 config;\n\tint dma_bits;\n};\n\nextern const struct ivpu_hw_ops ivpu_hw_37xx_ops;\nextern const struct ivpu_hw_ops ivpu_hw_40xx_ops;\n\nstatic inline int ivpu_hw_info_init(struct ivpu_device *vdev)\n{\n\treturn vdev->hw->ops->info_init(vdev);\n};\n\nstatic inline int ivpu_hw_power_up(struct ivpu_device *vdev)\n{\n\tivpu_dbg(vdev, PM, \"HW power up\\n\");\n\n\treturn vdev->hw->ops->power_up(vdev);\n};\n\nstatic inline int ivpu_hw_boot_fw(struct ivpu_device *vdev)\n{\n\treturn vdev->hw->ops->boot_fw(vdev);\n};\n\nstatic inline bool ivpu_hw_is_idle(struct ivpu_device *vdev)\n{\n\treturn vdev->hw->ops->is_idle(vdev);\n};\n\nstatic inline int ivpu_hw_power_down(struct ivpu_device *vdev)\n{\n\tivpu_dbg(vdev, PM, \"HW power down\\n\");\n\n\treturn vdev->hw->ops->power_down(vdev);\n};\n\nstatic inline int ivpu_hw_reset(struct ivpu_device *vdev)\n{\n\tivpu_dbg(vdev, PM, \"HW reset\\n\");\n\n\treturn vdev->hw->ops->reset(vdev);\n};\n\nstatic inline void ivpu_hw_wdt_disable(struct ivpu_device *vdev)\n{\n\tvdev->hw->ops->wdt_disable(vdev);\n};\n\n \nstatic inline u32 ivpu_hw_reg_pll_freq_get(struct ivpu_device *vdev)\n{\n\treturn vdev->hw->ops->reg_pll_freq_get(vdev);\n};\n\nstatic inline u32 ivpu_hw_reg_telemetry_offset_get(struct ivpu_device *vdev)\n{\n\treturn vdev->hw->ops->reg_telemetry_offset_get(vdev);\n};\n\nstatic inline u32 ivpu_hw_reg_telemetry_size_get(struct ivpu_device *vdev)\n{\n\treturn vdev->hw->ops->reg_telemetry_size_get(vdev);\n};\n\nstatic inline u32 ivpu_hw_reg_telemetry_enable_get(struct ivpu_device *vdev)\n{\n\treturn vdev->hw->ops->reg_telemetry_enable_get(vdev);\n};\n\nstatic inline void ivpu_hw_reg_db_set(struct ivpu_device *vdev, u32 db_id)\n{\n\tvdev->hw->ops->reg_db_set(vdev, db_id);\n};\n\nstatic inline u32 ivpu_hw_reg_ipc_rx_addr_get(struct ivpu_device *vdev)\n{\n\treturn vdev->hw->ops->reg_ipc_rx_addr_get(vdev);\n};\n\nstatic inline u32 ivpu_hw_reg_ipc_rx_count_get(struct ivpu_device *vdev)\n{\n\treturn vdev->hw->ops->reg_ipc_rx_count_get(vdev);\n};\n\nstatic inline void ivpu_hw_reg_ipc_tx_set(struct ivpu_device *vdev, u32 vpu_addr)\n{\n\tvdev->hw->ops->reg_ipc_tx_set(vdev, vpu_addr);\n};\n\nstatic inline void ivpu_hw_irq_clear(struct ivpu_device *vdev)\n{\n\tvdev->hw->ops->irq_clear(vdev);\n};\n\nstatic inline void ivpu_hw_irq_enable(struct ivpu_device *vdev)\n{\n\tvdev->hw->ops->irq_enable(vdev);\n};\n\nstatic inline void ivpu_hw_irq_disable(struct ivpu_device *vdev)\n{\n\tvdev->hw->ops->irq_disable(vdev);\n};\n\nstatic inline void ivpu_hw_init_range(struct ivpu_addr_range *range, u64 start, u64 size)\n{\n\trange->start = start;\n\trange->end = start + size;\n}\n\nstatic inline u64 ivpu_hw_range_size(const struct ivpu_addr_range *range)\n{\n\treturn range->end - range->start;\n}\n\nstatic inline void ivpu_hw_diagnose_failure(struct ivpu_device *vdev)\n{\n\tvdev->hw->ops->diagnose_failure(vdev);\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}