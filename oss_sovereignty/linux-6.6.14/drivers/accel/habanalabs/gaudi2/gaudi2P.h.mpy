{
  "module_name": "gaudi2P.h",
  "hash_id": "01b6326440109ca309a063c5dec9df7f78768d0831419296cfdc583daa3edb50",
  "original_prompt": "Ingested from linux-6.6.14/drivers/accel/habanalabs/gaudi2/gaudi2P.h",
  "human_readable_source": " \n\n#ifndef GAUDI2P_H_\n#define GAUDI2P_H_\n\n#include <uapi/drm/habanalabs_accel.h>\n#include \"../common/habanalabs.h\"\n#include \"../include/common/hl_boot_if.h\"\n#include \"../include/gaudi2/gaudi2.h\"\n#include \"../include/gaudi2/gaudi2_packets.h\"\n#include \"../include/gaudi2/gaudi2_fw_if.h\"\n#include \"../include/gaudi2/gaudi2_async_events.h\"\n\n#define GAUDI2_LINUX_FW_FILE\t\"habanalabs/gaudi2/gaudi2-fit.itb\"\n#define GAUDI2_BOOT_FIT_FILE\t\"habanalabs/gaudi2/gaudi2-boot-fit.itb\"\n\n#define MMU_PAGE_TABLES_INITIAL_SIZE\t0x10000000\t \n\n#define GAUDI2_CPU_TIMEOUT_USEC\t\t30000000\t \n\n#define NUMBER_OF_PDMA_QUEUES\t\t2\n#define NUMBER_OF_EDMA_QUEUES\t\t8\n#define NUMBER_OF_MME_QUEUES\t\t4\n#define NUMBER_OF_TPC_QUEUES\t\t25\n#define NUMBER_OF_NIC_QUEUES\t\t24\n#define NUMBER_OF_ROT_QUEUES\t\t2\n#define NUMBER_OF_CPU_QUEUES\t\t1\n\n#define NUMBER_OF_HW_QUEUES\t\t((NUMBER_OF_PDMA_QUEUES + \\\n\t\t\t\t\tNUMBER_OF_EDMA_QUEUES + \\\n\t\t\t\t\tNUMBER_OF_MME_QUEUES + \\\n\t\t\t\t\tNUMBER_OF_TPC_QUEUES + \\\n\t\t\t\t\tNUMBER_OF_NIC_QUEUES + \\\n\t\t\t\t\tNUMBER_OF_ROT_QUEUES + \\\n\t\t\t\t\tNUMBER_OF_CPU_QUEUES) * \\\n\t\t\t\t\tNUM_OF_PQ_PER_QMAN)\n\n#define NUMBER_OF_QUEUES\t\t(NUMBER_OF_CPU_QUEUES + NUMBER_OF_HW_QUEUES)\n\n#define DCORE_NUM_OF_SOB\t\t\\\n\t(((mmDCORE0_SYNC_MNGR_OBJS_SOB_OBJ_8191 - \\\n\tmmDCORE0_SYNC_MNGR_OBJS_SOB_OBJ_0) + 4) >> 2)\n\n#define DCORE_NUM_OF_MONITORS\t\t\\\n\t(((mmDCORE0_SYNC_MNGR_OBJS_MON_STATUS_2047 - \\\n\tmmDCORE0_SYNC_MNGR_OBJS_MON_STATUS_0) + 4) >> 2)\n\n#define NUMBER_OF_DEC\t\t((NUM_OF_DEC_PER_DCORE * NUM_OF_DCORES) + NUMBER_OF_PCIE_DEC)\n\n \n#define NUM_OF_USER_ACP_BLOCKS\t\t(NUM_OF_SCHEDULER_ARC + 2)\n#define NUM_OF_USER_NIC_UMR_BLOCKS\t15\n#define NUM_OF_EXPOSED_SM_BLOCKS\t((NUM_OF_DCORES - 1) * 2)\n#define NUM_USER_MAPPED_BLOCKS \\\n\t(NUM_ARC_CPUS + NUM_OF_USER_ACP_BLOCKS + NUMBER_OF_DEC + \\\n\tNUM_OF_EXPOSED_SM_BLOCKS + \\\n\t(NIC_NUMBER_OF_ENGINES * NUM_OF_USER_NIC_UMR_BLOCKS))\n\n \n#define USR_MAPPED_BLK_DEC_START_IDX \\\n\t(NUM_ARC_CPUS + NUM_OF_USER_ACP_BLOCKS + \\\n\t(NIC_NUMBER_OF_ENGINES * NUM_OF_USER_NIC_UMR_BLOCKS))\n\n#define USR_MAPPED_BLK_SM_START_IDX \\\n\t(NUM_ARC_CPUS + NUM_OF_USER_ACP_BLOCKS + NUMBER_OF_DEC + \\\n\t(NIC_NUMBER_OF_ENGINES * NUM_OF_USER_NIC_UMR_BLOCKS))\n\n#define SM_OBJS_BLOCK_SIZE\t\t(mmDCORE0_SYNC_MNGR_OBJS_SM_SEC_0 - \\\n\t\t\t\t\t mmDCORE0_SYNC_MNGR_OBJS_SOB_OBJ_0)\n\n#define GAUDI2_MAX_PENDING_CS\t\t64\n\n#if !IS_MAX_PENDING_CS_VALID(GAUDI2_MAX_PENDING_CS)\n#error \"GAUDI2_MAX_PENDING_CS must be power of 2 and greater than 1\"\n#endif\n\n#define CORESIGHT_TIMEOUT_USEC\t\t\t100000\t\t \n\n#define GAUDI2_PREBOOT_REQ_TIMEOUT_USEC\t\t25000000\t \n\n#define GAUDI2_BOOT_FIT_REQ_TIMEOUT_USEC\t10000000\t \n\n#define GAUDI2_NIC_CLK_FREQ\t\t\t450000000ull\t \n\n#define DC_POWER_DEFAULT\t\t\t60000\t\t \n\n#define GAUDI2_HBM_NUM\t\t\t\t6\n\n#define DMA_MAX_TRANSFER_SIZE\t\t\tU32_MAX\n\n#define GAUDI2_DEFAULT_CARD_NAME\t\t\"HL225\"\n\n#define QMAN_STREAMS\t\t\t\t4\n\n#define NUM_OF_MME_SBTE_PORTS\t\t\t5\n#define NUM_OF_MME_WB_PORTS\t\t\t2\n\n#define GAUDI2_ENGINE_ID_DCORE_OFFSET \\\n\t(GAUDI2_DCORE1_ENGINE_ID_EDMA_0 - GAUDI2_DCORE0_ENGINE_ID_EDMA_0)\n\n \n\n#define CPU_FW_IMAGE_SIZE\t\t\t0x10000000\t \n\n \n#define NIC_DEFAULT_DRV_SIZE\t\t\t0x20000000\t \n\n#define CPU_FW_IMAGE_ADDR\t\t\tDRAM_PHYS_BASE\n\n#define NIC_NUMBER_OF_PORTS\t\t\tNIC_NUMBER_OF_ENGINES\n\n#define NUMBER_OF_PCIE_DEC\t\t\t2\n#define PCIE_DEC_SHIFT\t\t\t\t8\n\n#define SRAM_USER_BASE_OFFSET\t\t\t0\n\n \n#define MAX_FAULTY_HBMS\t\t\t\t1\n#define GAUDI2_XBAR_EDGE_FULL_MASK\t\t0xF\n#define GAUDI2_EDMA_FULL_MASK\t\t\t0xFF\n#define GAUDI2_DRAM_FULL_MASK\t\t\t0x3F\n\n \n\n#define VA_HOST_SPACE_PAGE_START\t\t0xFFF0000000000000ull\n#define VA_HOST_SPACE_PAGE_END\t\t\t0xFFF0800000000000ull  \n\n#define VA_HOST_SPACE_HPAGE_START\t\t0xFFF0800000000000ull\n#define VA_HOST_SPACE_HPAGE_END\t\t\t0xFFF1000000000000ull  \n\n \n#define VA_HOST_SPACE_PAGE_SIZE\t\t(VA_HOST_SPACE_PAGE_END - VA_HOST_SPACE_PAGE_START)\n\n \n#define VA_HOST_SPACE_HPAGE_SIZE\t(VA_HOST_SPACE_HPAGE_END - VA_HOST_SPACE_HPAGE_START)\n\n#define VA_HOST_SPACE_SIZE\t\t(VA_HOST_SPACE_PAGE_SIZE + VA_HOST_SPACE_HPAGE_SIZE)\n\n#define HOST_SPACE_INTERNAL_CB_SZ\t\tSZ_2M\n\n \n#define VA_HBM_SPACE_END\t\t0x1002000000000000ull\n\n#define HW_CAP_PLL\t\t\tBIT_ULL(0)\n#define HW_CAP_DRAM\t\t\tBIT_ULL(1)\n#define HW_CAP_PMMU\t\t\tBIT_ULL(2)\n#define HW_CAP_CPU\t\t\tBIT_ULL(3)\n#define HW_CAP_MSIX\t\t\tBIT_ULL(4)\n\n#define HW_CAP_CPU_Q\t\t\tBIT_ULL(5)\n#define HW_CAP_CPU_Q_SHIFT\t\t5\n\n#define HW_CAP_CLK_GATE\t\t\tBIT_ULL(6)\n#define HW_CAP_KDMA\t\t\tBIT_ULL(7)\n#define HW_CAP_SRAM_SCRAMBLER\t\tBIT_ULL(8)\n\n#define HW_CAP_DCORE0_DMMU0\t\tBIT_ULL(9)\n#define HW_CAP_DCORE0_DMMU1\t\tBIT_ULL(10)\n#define HW_CAP_DCORE0_DMMU2\t\tBIT_ULL(11)\n#define HW_CAP_DCORE0_DMMU3\t\tBIT_ULL(12)\n#define HW_CAP_DCORE1_DMMU0\t\tBIT_ULL(13)\n#define HW_CAP_DCORE1_DMMU1\t\tBIT_ULL(14)\n#define HW_CAP_DCORE1_DMMU2\t\tBIT_ULL(15)\n#define HW_CAP_DCORE1_DMMU3\t\tBIT_ULL(16)\n#define HW_CAP_DCORE2_DMMU0\t\tBIT_ULL(17)\n#define HW_CAP_DCORE2_DMMU1\t\tBIT_ULL(18)\n#define HW_CAP_DCORE2_DMMU2\t\tBIT_ULL(19)\n#define HW_CAP_DCORE2_DMMU3\t\tBIT_ULL(20)\n#define HW_CAP_DCORE3_DMMU0\t\tBIT_ULL(21)\n#define HW_CAP_DCORE3_DMMU1\t\tBIT_ULL(22)\n#define HW_CAP_DCORE3_DMMU2\t\tBIT_ULL(23)\n#define HW_CAP_DCORE3_DMMU3\t\tBIT_ULL(24)\n#define HW_CAP_DMMU_MASK\t\tGENMASK_ULL(24, 9)\n#define HW_CAP_DMMU_SHIFT\t\t9\n#define HW_CAP_PDMA_MASK\t\tBIT_ULL(26)\n#define HW_CAP_EDMA_MASK\t\tGENMASK_ULL(34, 27)\n#define HW_CAP_EDMA_SHIFT\t\t27\n#define HW_CAP_MME_MASK\t\t\tGENMASK_ULL(38, 35)\n#define HW_CAP_MME_SHIFT\t\t35\n#define HW_CAP_ROT_MASK\t\t\tGENMASK_ULL(40, 39)\n#define HW_CAP_ROT_SHIFT\t\t39\n#define HW_CAP_HBM_SCRAMBLER_HW_RESET\tBIT_ULL(41)\n#define HW_CAP_HBM_SCRAMBLER_SW_RESET\tBIT_ULL(42)\n#define HW_CAP_HBM_SCRAMBLER_MASK\t(HW_CAP_HBM_SCRAMBLER_HW_RESET | \\\n\t\t\t\t\t\tHW_CAP_HBM_SCRAMBLER_SW_RESET)\n#define HW_CAP_HBM_SCRAMBLER_SHIFT\t41\n#define HW_CAP_RESERVED\t\t\tBIT(43)\n#define HW_CAP_MMU_MASK\t\t\t(HW_CAP_PMMU | HW_CAP_DMMU_MASK)\n\n \n#define RR_TYPE_SHORT\t\t\t0\n#define RR_TYPE_LONG\t\t\t1\n#define RR_TYPE_SHORT_PRIV\t\t2\n#define RR_TYPE_LONG_PRIV\t\t3\n#define NUM_SHORT_LBW_RR\t\t14\n#define NUM_LONG_LBW_RR\t\t\t4\n#define NUM_SHORT_HBW_RR\t\t6\n#define NUM_LONG_HBW_RR\t\t\t4\n\n \n#define RAZWI_INITIATOR_X_SHIFT\t\t0\n#define RAZWI_INITIATOR_X_MASK\t\t0x1F\n#define RAZWI_INITIATOR_Y_SHIFT\t\t5\n#define RAZWI_INITIATOR_Y_MASK\t\t0xF\n\n#define RTR_ID_X_Y(x, y) \\\n\t((((y) & RAZWI_INITIATOR_Y_MASK) << RAZWI_INITIATOR_Y_SHIFT) | \\\n\t\t(((x) & RAZWI_INITIATOR_X_MASK) << RAZWI_INITIATOR_X_SHIFT))\n\n \n#define HW_CAP_DEC_SHIFT\t\t0\n#define HW_CAP_DEC_MASK\t\t\tGENMASK_ULL(9, 0)\n\n \n#define HW_CAP_TPC_SHIFT\t\t0\n#define HW_CAP_TPC_MASK\t\t\tGENMASK_ULL(24, 0)\n\n \n#define HW_CAP_NIC_SHIFT\t\t0\n#define HW_CAP_NIC_MASK\t\t\tGENMASK_ULL(NIC_NUMBER_OF_ENGINES - 1, 0)\n\n#define GAUDI2_ARC_PCI_MSB_ADDR(addr)\t(((addr) & GENMASK_ULL(49, 28)) >> 28)\n\n#define GAUDI2_SOB_INCREMENT_BY_ONE\t(FIELD_PREP(DCORE0_SYNC_MNGR_OBJS_SOB_OBJ_VAL_MASK, 1) | \\\n\t\t\t\t\tFIELD_PREP(DCORE0_SYNC_MNGR_OBJS_SOB_OBJ_INC_MASK, 1))\n\n#define GAUDI2_NUM_TESTED_QS (GAUDI2_QUEUE_ID_CPU_PQ - GAUDI2_QUEUE_ID_PDMA_0_0)\n\n#define GAUDI2_NUM_OF_GLBL_ERR_CAUSE\t\t8\n\nenum gaudi2_reserved_sob_id {\n\tGAUDI2_RESERVED_SOB_CS_COMPLETION_FIRST,\n\tGAUDI2_RESERVED_SOB_CS_COMPLETION_LAST =\n\t\t\tGAUDI2_RESERVED_SOB_CS_COMPLETION_FIRST + GAUDI2_MAX_PENDING_CS - 1,\n\tGAUDI2_RESERVED_SOB_KDMA_COMPLETION,\n\tGAUDI2_RESERVED_SOB_DEC_NRM_FIRST,\n\tGAUDI2_RESERVED_SOB_DEC_NRM_LAST =\n\t\t\tGAUDI2_RESERVED_SOB_DEC_NRM_FIRST + NUMBER_OF_DEC - 1,\n\tGAUDI2_RESERVED_SOB_DEC_ABNRM_FIRST,\n\tGAUDI2_RESERVED_SOB_DEC_ABNRM_LAST =\n\t\t\tGAUDI2_RESERVED_SOB_DEC_ABNRM_FIRST + NUMBER_OF_DEC - 1,\n\tGAUDI2_RESERVED_SOB_NUMBER\n};\n\nenum gaudi2_reserved_mon_id {\n\tGAUDI2_RESERVED_MON_CS_COMPLETION_FIRST,\n\tGAUDI2_RESERVED_MON_CS_COMPLETION_LAST =\n\t\t\tGAUDI2_RESERVED_MON_CS_COMPLETION_FIRST + GAUDI2_MAX_PENDING_CS - 1,\n\tGAUDI2_RESERVED_MON_KDMA_COMPLETION,\n\tGAUDI2_RESERVED_MON_DEC_NRM_FIRST,\n\tGAUDI2_RESERVED_MON_DEC_NRM_LAST =\n\t\t\tGAUDI2_RESERVED_MON_DEC_NRM_FIRST + 3 * NUMBER_OF_DEC - 1,\n\tGAUDI2_RESERVED_MON_DEC_ABNRM_FIRST,\n\tGAUDI2_RESERVED_MON_DEC_ABNRM_LAST =\n\t\t\tGAUDI2_RESERVED_MON_DEC_ABNRM_FIRST + 3 * NUMBER_OF_DEC - 1,\n\tGAUDI2_RESERVED_MON_NUMBER\n};\n\nenum gaudi2_reserved_cq_id {\n\tGAUDI2_RESERVED_CQ_CS_COMPLETION,\n\tGAUDI2_RESERVED_CQ_KDMA_COMPLETION,\n\tGAUDI2_RESERVED_CQ_NUMBER\n};\n\n \nenum substitude_tpc {\n\tFAULTY_TPC_SUBTS_1_TPC_24,\n\tFAULTY_TPC_SUBTS_2_TPC_23,\n\tMAX_FAULTY_TPCS\n};\n\nenum gaudi2_dma_core_id {\n\tDMA_CORE_ID_PDMA0,  \n\tDMA_CORE_ID_PDMA1,  \n\tDMA_CORE_ID_EDMA0,  \n\tDMA_CORE_ID_EDMA1,  \n\tDMA_CORE_ID_EDMA2,  \n\tDMA_CORE_ID_EDMA3,  \n\tDMA_CORE_ID_EDMA4,  \n\tDMA_CORE_ID_EDMA5,  \n\tDMA_CORE_ID_EDMA6,  \n\tDMA_CORE_ID_EDMA7,  \n\tDMA_CORE_ID_KDMA,  \n\tDMA_CORE_ID_SIZE\n};\n\nenum gaudi2_rotator_id {\n\tROTATOR_ID_0,\n\tROTATOR_ID_1,\n\tROTATOR_ID_SIZE,\n};\n\nenum gaudi2_mme_id {\n\tMME_ID_DCORE0,\n\tMME_ID_DCORE1,\n\tMME_ID_DCORE2,\n\tMME_ID_DCORE3,\n\tMME_ID_SIZE,\n};\n\nenum gaudi2_tpc_id {\n\tTPC_ID_DCORE0_TPC0,\n\tTPC_ID_DCORE0_TPC1,\n\tTPC_ID_DCORE0_TPC2,\n\tTPC_ID_DCORE0_TPC3,\n\tTPC_ID_DCORE0_TPC4,\n\tTPC_ID_DCORE0_TPC5,\n\tTPC_ID_DCORE1_TPC0,\n\tTPC_ID_DCORE1_TPC1,\n\tTPC_ID_DCORE1_TPC2,\n\tTPC_ID_DCORE1_TPC3,\n\tTPC_ID_DCORE1_TPC4,\n\tTPC_ID_DCORE1_TPC5,\n\tTPC_ID_DCORE2_TPC0,\n\tTPC_ID_DCORE2_TPC1,\n\tTPC_ID_DCORE2_TPC2,\n\tTPC_ID_DCORE2_TPC3,\n\tTPC_ID_DCORE2_TPC4,\n\tTPC_ID_DCORE2_TPC5,\n\tTPC_ID_DCORE3_TPC0,\n\tTPC_ID_DCORE3_TPC1,\n\tTPC_ID_DCORE3_TPC2,\n\tTPC_ID_DCORE3_TPC3,\n\tTPC_ID_DCORE3_TPC4,\n\tTPC_ID_DCORE3_TPC5,\n\t \n\tTPC_ID_DCORE0_TPC6,\n\tTPC_ID_SIZE,\n};\n\nenum gaudi2_dec_id {\n\tDEC_ID_DCORE0_DEC0,\n\tDEC_ID_DCORE0_DEC1,\n\tDEC_ID_DCORE1_DEC0,\n\tDEC_ID_DCORE1_DEC1,\n\tDEC_ID_DCORE2_DEC0,\n\tDEC_ID_DCORE2_DEC1,\n\tDEC_ID_DCORE3_DEC0,\n\tDEC_ID_DCORE3_DEC1,\n\tDEC_ID_PCIE_VDEC0,\n\tDEC_ID_PCIE_VDEC1,\n\tDEC_ID_SIZE,\n};\n\nenum gaudi2_hbm_id {\n\tHBM_ID0,\n\tHBM_ID1,\n\tHBM_ID2,\n\tHBM_ID3,\n\tHBM_ID4,\n\tHBM_ID5,\n\tHBM_ID_SIZE,\n};\n\n \nenum gaudi2_edma_id {\n\tEDMA_ID_DCORE0_INSTANCE0,\n\tEDMA_ID_DCORE0_INSTANCE1,\n\tEDMA_ID_DCORE1_INSTANCE0,\n\tEDMA_ID_DCORE1_INSTANCE1,\n\tEDMA_ID_DCORE2_INSTANCE0,\n\tEDMA_ID_DCORE2_INSTANCE1,\n\tEDMA_ID_DCORE3_INSTANCE0,\n\tEDMA_ID_DCORE3_INSTANCE1,\n\tEDMA_ID_SIZE,\n};\n\n \n#define GAUDI2_NUM_USER_INTERRUPTS 255\n#define GAUDI2_NUM_RESERVED_INTERRUPTS 1\n#define GAUDI2_TOTAL_USER_INTERRUPTS (GAUDI2_NUM_USER_INTERRUPTS + GAUDI2_NUM_RESERVED_INTERRUPTS)\n\nenum gaudi2_irq_num {\n\tGAUDI2_IRQ_NUM_EVENT_QUEUE = GAUDI2_EVENT_QUEUE_MSIX_IDX,\n\tGAUDI2_IRQ_NUM_DCORE0_DEC0_NRM,\n\tGAUDI2_IRQ_NUM_DCORE0_DEC0_ABNRM,\n\tGAUDI2_IRQ_NUM_DCORE0_DEC1_NRM,\n\tGAUDI2_IRQ_NUM_DCORE0_DEC1_ABNRM,\n\tGAUDI2_IRQ_NUM_DCORE1_DEC0_NRM,\n\tGAUDI2_IRQ_NUM_DCORE1_DEC0_ABNRM,\n\tGAUDI2_IRQ_NUM_DCORE1_DEC1_NRM,\n\tGAUDI2_IRQ_NUM_DCORE1_DEC1_ABNRM,\n\tGAUDI2_IRQ_NUM_DCORE2_DEC0_NRM,\n\tGAUDI2_IRQ_NUM_DCORE2_DEC0_ABNRM,\n\tGAUDI2_IRQ_NUM_DCORE2_DEC1_NRM,\n\tGAUDI2_IRQ_NUM_DCORE2_DEC1_ABNRM,\n\tGAUDI2_IRQ_NUM_DCORE3_DEC0_NRM,\n\tGAUDI2_IRQ_NUM_DCORE3_DEC0_ABNRM,\n\tGAUDI2_IRQ_NUM_DCORE3_DEC1_NRM,\n\tGAUDI2_IRQ_NUM_DCORE3_DEC1_ABNRM,\n\tGAUDI2_IRQ_NUM_SHARED_DEC0_NRM,\n\tGAUDI2_IRQ_NUM_SHARED_DEC0_ABNRM,\n\tGAUDI2_IRQ_NUM_SHARED_DEC1_NRM,\n\tGAUDI2_IRQ_NUM_SHARED_DEC1_ABNRM,\n\tGAUDI2_IRQ_NUM_DEC_LAST = GAUDI2_IRQ_NUM_SHARED_DEC1_ABNRM,\n\tGAUDI2_IRQ_NUM_COMPLETION,\n\tGAUDI2_IRQ_NUM_NIC_PORT_FIRST,\n\tGAUDI2_IRQ_NUM_NIC_PORT_LAST = (GAUDI2_IRQ_NUM_NIC_PORT_FIRST + NIC_NUMBER_OF_PORTS - 1),\n\tGAUDI2_IRQ_NUM_TPC_ASSERT,\n\tGAUDI2_IRQ_NUM_RESERVED_FIRST,\n\tGAUDI2_IRQ_NUM_RESERVED_LAST = (GAUDI2_MSIX_ENTRIES - GAUDI2_TOTAL_USER_INTERRUPTS - 1),\n\tGAUDI2_IRQ_NUM_UNEXPECTED_ERROR = RESERVED_MSIX_UNEXPECTED_USER_ERROR_INTERRUPT,\n\tGAUDI2_IRQ_NUM_USER_FIRST = GAUDI2_IRQ_NUM_UNEXPECTED_ERROR + 1,\n\tGAUDI2_IRQ_NUM_USER_LAST = (GAUDI2_IRQ_NUM_USER_FIRST + GAUDI2_NUM_USER_INTERRUPTS - 1),\n\tGAUDI2_IRQ_NUM_LAST = (GAUDI2_MSIX_ENTRIES - 1)\n};\n\nstatic_assert(GAUDI2_IRQ_NUM_USER_FIRST > GAUDI2_IRQ_NUM_SHARED_DEC1_ABNRM);\n\n \nstruct dup_block_ctx {\n\tvoid (*instance_cfg_fn)(struct hl_device *hdev, u64 base, void *data);\n\tvoid *data;\n\tu64 base;\n\tu64 block_off;\n\tu64 instance_off;\n\tu64 enabled_mask;\n\tunsigned int blocks;\n\tunsigned int instances;\n};\n\n \nstruct gaudi2_queues_test_info {\n\tdma_addr_t dma_addr;\n\tvoid *kern_addr;\n};\n\n \nstruct gaudi2_device {\n\tint (*cpucp_info_get)(struct hl_device *hdev);\n\n\tstruct user_mapped_block\tmapped_blocks[NUM_USER_MAPPED_BLOCKS];\n\tint\t\t\t\tlfsr_rand_seeds[MME_NUM_OF_LFSR_SEEDS];\n\n\tspinlock_t\t\t\thw_queues_lock;\n\n\tvoid\t\t\t\t*scratchpad_kernel_address;\n\tdma_addr_t\t\t\tscratchpad_bus_address;\n\n\tvoid\t\t\t\t*virt_msix_db_cpu_addr;\n\tdma_addr_t\t\t\tvirt_msix_db_dma_addr;\n\n\tu64\t\t\t\tdram_bar_cur_addr;\n\tu64\t\t\t\thw_cap_initialized;\n\tu64\t\t\t\tactive_hw_arc;\n\tu64\t\t\t\tdec_hw_cap_initialized;\n\tu64\t\t\t\ttpc_hw_cap_initialized;\n\tu64\t\t\t\tactive_tpc_arc;\n\tu64\t\t\t\tnic_hw_cap_initialized;\n\tu64\t\t\t\tactive_nic_arc;\n\tu32\t\t\t\thw_events[GAUDI2_EVENT_SIZE];\n\tu32\t\t\t\tevents_stat[GAUDI2_EVENT_SIZE];\n\tu32\t\t\t\tevents_stat_aggregate[GAUDI2_EVENT_SIZE];\n\tu32\t\t\t\tnum_of_valid_hw_events;\n\n\t \n\tstruct gaudi2_queues_test_info\tqueues_test_info[GAUDI2_NUM_TESTED_QS];\n};\n\n \nenum gaudi2_block_types {\n\tGAUDI2_BLOCK_TYPE_PLL,\n\tGAUDI2_BLOCK_TYPE_RTR,\n\tGAUDI2_BLOCK_TYPE_CPU,\n\tGAUDI2_BLOCK_TYPE_HIF,\n\tGAUDI2_BLOCK_TYPE_HBM,\n\tGAUDI2_BLOCK_TYPE_NIC,\n\tGAUDI2_BLOCK_TYPE_PCIE,\n\tGAUDI2_BLOCK_TYPE_PCIE_PMA,\n\tGAUDI2_BLOCK_TYPE_PDMA,\n\tGAUDI2_BLOCK_TYPE_EDMA,\n\tGAUDI2_BLOCK_TYPE_PMMU,\n\tGAUDI2_BLOCK_TYPE_PSOC,\n\tGAUDI2_BLOCK_TYPE_ROT,\n\tGAUDI2_BLOCK_TYPE_ARC_FARM,\n\tGAUDI2_BLOCK_TYPE_DEC,\n\tGAUDI2_BLOCK_TYPE_MME,\n\tGAUDI2_BLOCK_TYPE_EU_BIST,\n\tGAUDI2_BLOCK_TYPE_SYNC_MNGR,\n\tGAUDI2_BLOCK_TYPE_STLB,\n\tGAUDI2_BLOCK_TYPE_TPC,\n\tGAUDI2_BLOCK_TYPE_HMMU,\n\tGAUDI2_BLOCK_TYPE_SRAM,\n\tGAUDI2_BLOCK_TYPE_XBAR,\n\tGAUDI2_BLOCK_TYPE_KDMA,\n\tGAUDI2_BLOCK_TYPE_XDMA,\n\tGAUDI2_BLOCK_TYPE_XFT,\n\tGAUDI2_BLOCK_TYPE_MAX\n};\n\nextern const u32 gaudi2_dma_core_blocks_bases[DMA_CORE_ID_SIZE];\nextern const u32 gaudi2_qm_blocks_bases[GAUDI2_QUEUE_ID_SIZE];\nextern const u32 gaudi2_mme_acc_blocks_bases[MME_ID_SIZE];\nextern const u32 gaudi2_mme_ctrl_lo_blocks_bases[MME_ID_SIZE];\nextern const u32 edma_stream_base[NUM_OF_EDMA_PER_DCORE * NUM_OF_DCORES];\nextern const u32 gaudi2_rot_blocks_bases[ROTATOR_ID_SIZE];\n\nvoid gaudi2_iterate_tpcs(struct hl_device *hdev, struct iterate_module_ctx *ctx);\nint gaudi2_coresight_init(struct hl_device *hdev);\nint gaudi2_debug_coresight(struct hl_device *hdev, struct hl_ctx *ctx, void *data);\nvoid gaudi2_halt_coresight(struct hl_device *hdev, struct hl_ctx *ctx);\nvoid gaudi2_init_blocks(struct hl_device *hdev, struct dup_block_ctx *cfg_ctx);\nbool gaudi2_is_hmmu_enabled(struct hl_device *hdev, int dcore_id, int hmmu_id);\nvoid gaudi2_write_rr_to_all_lbw_rtrs(struct hl_device *hdev, u8 rr_type, u32 rr_index, u64 min_val,\n\t\t\t\t\tu64 max_val);\nvoid gaudi2_pb_print_security_errors(struct hl_device *hdev, u32 block_addr, u32 cause,\n\t\t\t\t\tu32 offended_addr);\nint gaudi2_init_security(struct hl_device *hdev);\nvoid gaudi2_ack_protection_bits_errors(struct hl_device *hdev);\nint gaudi2_send_device_activity(struct hl_device *hdev, bool open);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}