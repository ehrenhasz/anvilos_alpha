{
  "module_name": "gaudi2_packets.h",
  "hash_id": "71065f9c410fc0c4339121e29d675d659a9e37b2a0c0735c7e46fd9a798f9a50",
  "original_prompt": "Ingested from linux-6.6.14/drivers/accel/habanalabs/include/gaudi2/gaudi2_packets.h",
  "human_readable_source": " \n\n#ifndef GAUDI2_PACKETS_H\n#define GAUDI2_PACKETS_H\n\n#include <linux/types.h>\n\n#define PACKET_HEADER_PACKET_ID_SHIFT\t\t56\n#define PACKET_HEADER_PACKET_ID_MASK\t\t0x1F00000000000000ull\n\nenum packet_id {\n\tPACKET_WREG_32 = 0x1,\n\tPACKET_WREG_BULK = 0x2,\n\tPACKET_MSG_LONG = 0x3,\n\tPACKET_MSG_SHORT = 0x4,\n\tPACKET_CP_DMA = 0x5,\n\tPACKET_REPEAT = 0x6,\n\tPACKET_MSG_PROT = 0x7,\n\tPACKET_FENCE = 0x8,\n\tPACKET_LIN_DMA = 0x9,\n\tPACKET_NOP = 0xA,\n\tPACKET_STOP = 0xB,\n\tPACKET_ARB_POINT = 0xC,\n\tPACKET_WAIT = 0xD,\n\tPACKET_CB_LIST = 0xE,\n\tPACKET_LOAD_AND_EXE = 0xF,\n\tPACKET_WRITE_ARC_STREAM = 0x10,\n\tPACKET_LAST_READ_FROM_ARC = 0x11,\n\tPACKET_WREG_64_SHORT = 0x12,\n\tPACKET_WREG_64_LONG = 0x13,\n\tMAX_PACKET_ID = (PACKET_HEADER_PACKET_ID_MASK >>\n\t\t\t\tPACKET_HEADER_PACKET_ID_SHIFT) + 1\n};\n\n#define GAUDI2_PKT_CTL_OPCODE_SHIFT\t24\n#define GAUDI2_PKT_CTL_OPCODE_MASK\t0x1F000000\n\n#define GAUDI2_PKT_CTL_EB_SHIFT\t\t29\n#define GAUDI2_PKT_CTL_EB_MASK\t\t0x20000000\n\n#define GAUDI2_PKT_CTL_RB_SHIFT\t\t30\n#define GAUDI2_PKT_CTL_RB_MASK\t\t0x40000000\n\n#define GAUDI2_PKT_CTL_MB_SHIFT\t\t31\n#define GAUDI2_PKT_CTL_MB_MASK\t\t0x80000000\n\n \nstruct gaudi2_packet {\n\t__le64 header;\n\t \n\tu8 contents[];\n};\n\nstruct packet_nop {\n\t__le32 reserved;\n\t__le32 ctl;\n};\n\nstruct packet_stop {\n\t__le32 reserved;\n\t__le32 ctl;\n};\n\nstruct packet_wreg32 {\n\t__le32 value;\n\t__le32 ctl;\n};\n\nstruct packet_wreg_bulk {\n\t__le32 size64;\n\t__le32 ctl;\n\t__le64 values[];  \n};\n\nstruct packet_msg_long {\n\t__le32 value;\n\t__le32 ctl;\n\t__le64 addr;\n};\n\n#define GAUDI2_PKT_SHORT_VAL_SOB_SYNC_VAL_SHIFT\t0\n#define GAUDI2_PKT_SHORT_VAL_SOB_SYNC_VAL_MASK\t0x00007FFF\n\n#define GAUDI2_PKT_SHORT_VAL_SOB_MOD_SHIFT\t31\n#define GAUDI2_PKT_SHORT_VAL_SOB_MOD_MASK\t0x80000000\n\n#define GAUDI2_PKT_SHORT_VAL_MON_SYNC_GID_SHIFT\t0\n#define GAUDI2_PKT_SHORT_VAL_MON_SYNC_GID_MASK\t0x000000FF\n\n#define GAUDI2_PKT_SHORT_VAL_MON_MASK_SHIFT\t8\n#define GAUDI2_PKT_SHORT_VAL_MON_MASK_MASK\t0x0000FF00\n\n#define GAUDI2_PKT_SHORT_VAL_MON_MODE_SHIFT\t16\n#define GAUDI2_PKT_SHORT_VAL_MON_MODE_MASK\t0x00010000\n\n#define GAUDI2_PKT_SHORT_VAL_MON_SYNC_VAL_SHIFT\t17\n#define GAUDI2_PKT_SHORT_VAL_MON_SYNC_VAL_MASK\t0xFFFE0000\n\n#define GAUDI2_PKT_SHORT_CTL_ADDR_SHIFT\t\t0\n#define GAUDI2_PKT_SHORT_CTL_ADDR_MASK\t\t0x0000FFFF\n\n#define GAUDI2_PKT_SHORT_CTL_BASE_SHIFT\t\t22\n#define GAUDI2_PKT_SHORT_CTL_BASE_MASK\t\t0x00C00000\n\nstruct packet_msg_short {\n\t__le32 value;\n\t__le32 ctl;\n};\n\nstruct packet_msg_prot {\n\t__le32 value;\n\t__le32 ctl;\n\t__le64 addr;\n};\n\n#define GAUDI2_PKT_FENCE_CFG_DEC_VAL_SHIFT\t0\n#define GAUDI2_PKT_FENCE_CFG_DEC_VAL_MASK\t0x0000000F\n\n#define GAUDI2_PKT_FENCE_CFG_TARGET_VAL_SHIFT\t16\n#define GAUDI2_PKT_FENCE_CFG_TARGET_VAL_MASK\t0x00FF0000\n\n#define GAUDI2_PKT_FENCE_CFG_ID_SHIFT\t\t30\n#define GAUDI2_PKT_FENCE_CFG_ID_MASK\t\t0xC0000000\n\n#define GAUDI2_PKT_FENCE_CTL_PRED_SHIFT\t\t0\n#define GAUDI2_PKT_FENCE_CTL_PRED_MASK\t\t0x0000001F\n\nstruct packet_fence {\n\t__le32 cfg;\n\t__le32 ctl;\n};\n\n#define GAUDI2_PKT_LIN_DMA_CTL_WRCOMP_SHIFT\t0\n#define GAUDI2_PKT_LIN_DMA_CTL_WRCOMP_MASK\t0x00000001\n\n#define GAUDI2_PKT_LIN_DMA_CTL_ENDIAN_SHIFT\t1\n#define GAUDI2_PKT_LIN_DMA_CTL_ENDIAN_MASK\t0x00000006\n\n#define GAUDI2_PKT_LIN_DMA_CTL_MEMSET_SHIFT\t4\n#define GAUDI2_PKT_LIN_DMA_CTL_MEMSET_MASK\t0x00000010\n\n#define GAUDI2_PKT_LIN_DMA_CTL_CONTEXT_ID_SHIFT\t8\n#define GAUDI2_PKT_LIN_DMA_CTL_CONTEXT_ID_MASK\t0x00FFFF00\n\nstruct packet_lin_dma {\n\t__le32 tsize;\n\t__le32 ctl;\n\t__le64 src_addr;\n\t__le64 dst_addr;\n};\n\nstruct packet_arb_point {\n\t__le32 cfg;\n\t__le32 ctl;\n};\n\nstruct packet_repeat {\n\t__le32 cfg;\n\t__le32 ctl;\n};\n\nstruct packet_wait {\n\t__le32 cfg;\n\t__le32 ctl;\n};\n\nstruct packet_cb_list {\n\t__le32 reserved;\n\t__le32 ctl;\n\t__le64 index_addr;\n\t__le64 table_addr;\n};\n\nstruct packet_load_and_exe {\n\t__le32 cfg;\n\t__le32 ctl;\n\t__le64 src_addr;\n};\n\nstruct packet_cp_dma {\n\t__le32 tsize;\n\t__le32 ctl;\n\t__le64 src_addr;\n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}