{
  "module_name": "pxafb.h",
  "hash_id": "9d4031da6c4eb89d8a9d1431b8c8805b7b8bc6658c74d01f516b8f09e4cb8e23",
  "original_prompt": "Ingested from linux-6.6.14/drivers/video/fbdev/pxafb.h",
  "human_readable_source": "#ifndef __PXAFB_H__\n#define __PXAFB_H__\n\n \n\n \nstruct pxafb_dma_descriptor {\n\tunsigned int fdadr;\n\tunsigned int fsadr;\n\tunsigned int fidr;\n\tunsigned int ldcmd;\n};\n\nenum {\n\tPAL_NONE\t= -1,\n\tPAL_BASE\t= 0,\n\tPAL_OV1\t\t= 1,\n\tPAL_OV2\t\t= 2,\n\tPAL_MAX,\n};\n\nenum {\n\tDMA_BASE\t= 0,\n\tDMA_UPPER\t= 0,\n\tDMA_LOWER\t= 1,\n\tDMA_OV1\t\t= 1,\n\tDMA_OV2_Y\t= 2,\n\tDMA_OV2_Cb\t= 3,\n\tDMA_OV2_Cr\t= 4,\n\tDMA_CURSOR\t= 5,\n\tDMA_CMD\t\t= 6,\n\tDMA_MAX,\n};\n\n \n#define PALETTE_SIZE\t(256 * 4)\n#define CMD_BUFF_SIZE\t(1024 * 50)\n\n \nstruct pxafb_dma_buff {\n\tunsigned char palette[PAL_MAX * PALETTE_SIZE];\n\tuint16_t cmd_buff[CMD_BUFF_SIZE];\n\tstruct pxafb_dma_descriptor pal_desc[PAL_MAX * 2];\n\tstruct pxafb_dma_descriptor dma_desc[DMA_MAX * 2];\n};\n\nenum {\n\tOVERLAY1,\n\tOVERLAY2,\n};\n\nenum {\n\tOVERLAY_FORMAT_RGB = 0,\n\tOVERLAY_FORMAT_YUV444_PACKED,\n\tOVERLAY_FORMAT_YUV444_PLANAR,\n\tOVERLAY_FORMAT_YUV422_PLANAR,\n\tOVERLAY_FORMAT_YUV420_PLANAR,\n};\n\n#define NONSTD_TO_XPOS(x)\t(((x) >> 0)  & 0x3ff)\n#define NONSTD_TO_YPOS(x)\t(((x) >> 10) & 0x3ff)\n#define NONSTD_TO_PFOR(x)\t(((x) >> 20) & 0x7)\n\nstruct pxafb_layer;\n\nstruct pxafb_layer_ops {\n\tvoid (*enable)(struct pxafb_layer *);\n\tvoid (*disable)(struct pxafb_layer *);\n\tvoid (*setup)(struct pxafb_layer *);\n};\n\nstruct pxafb_layer {\n\tstruct fb_info\t\tfb;\n\tint\t\t\tid;\n\tint\t\t\tregistered;\n\tuint32_t\t\tusage;\n\tuint32_t\t\tcontrol[2];\n\n\tstruct pxafb_layer_ops\t*ops;\n\n\tvoid __iomem\t\t*video_mem;\n\tunsigned long\t\tvideo_mem_phys;\n\tsize_t\t\t\tvideo_mem_size;\n\tstruct completion\tbranch_done;\n\n\tstruct pxafb_info\t*fbi;\n};\n\nstruct pxafb_info {\n\tstruct fb_info\t\tfb;\n\tstruct device\t\t*dev;\n\tstruct clk\t\t*clk;\n\n\tvoid __iomem\t\t*mmio_base;\n\n\tstruct pxafb_dma_buff\t*dma_buff;\n\tsize_t\t\t\tdma_buff_size;\n\tdma_addr_t\t\tdma_buff_phys;\n\tdma_addr_t\t\tfdadr[DMA_MAX * 2];\n\n\tvoid __iomem\t\t*video_mem;\t \n\tunsigned long\t\tvideo_mem_phys;\t \n\tsize_t\t\t\tvideo_mem_size;\t \n\tu16 *\t\t\tpalette_cpu;\t \n\tu_int\t\t\tpalette_size;\n\n\tu_int\t\t\tlccr0;\n\tu_int\t\t\tlccr3;\n\tu_int\t\t\tlccr4;\n\tu_int\t\t\tcmap_inverse:1,\n\t\t\t\tcmap_static:1,\n\t\t\t\tunused:30;\n\n\tu_int\t\t\treg_lccr0;\n\tu_int\t\t\treg_lccr1;\n\tu_int\t\t\treg_lccr2;\n\tu_int\t\t\treg_lccr3;\n\tu_int\t\t\treg_lccr4;\n\tu_int\t\t\treg_cmdcr;\n\n\tunsigned long\thsync_time;\n\n\tvolatile u_char\t\tstate;\n\tvolatile u_char\t\ttask_state;\n\tstruct mutex\t\tctrlr_lock;\n\twait_queue_head_t\tctrlr_wait;\n\tstruct work_struct\ttask;\n\n\tstruct completion\tdisable_done;\n\n#ifdef CONFIG_FB_PXA_SMARTPANEL\n\tuint16_t\t\t*smart_cmds;\n\tsize_t\t\t\tn_smart_cmds;\n\tstruct completion\tcommand_done;\n\tstruct completion\trefresh_done;\n\tstruct task_struct\t*smart_thread;\n#endif\n\n#ifdef CONFIG_FB_PXA_OVERLAY\n\tstruct pxafb_layer\toverlay[2];\n#endif\n\n#ifdef CONFIG_CPU_FREQ\n\tstruct notifier_block\tfreq_transition;\n#endif\n\n\tstruct regulator *lcd_supply;\n\tbool lcd_supply_enabled;\n\n\tvoid (*lcd_power)(int, struct fb_var_screeninfo *);\n\tvoid (*backlight_power)(int);\n\n\tstruct pxafb_mach_info\t*inf;\n};\n\n#define TO_INF(ptr,member) container_of(ptr,struct pxafb_info,member)\n\n \n#define C_DISABLE\t\t(0)\n#define C_ENABLE\t\t(1)\n#define C_DISABLE_CLKCHANGE\t(2)\n#define C_ENABLE_CLKCHANGE\t(3)\n#define C_REENABLE\t\t(4)\n#define C_DISABLE_PM\t\t(5)\n#define C_ENABLE_PM\t\t(6)\n#define C_STARTUP\t\t(7)\n\n#define PXA_NAME\t\"PXA\"\n\n \n#define MIN_XRES\t64\n#define MIN_YRES\t64\n\n \n#define MAX_XRES\t1024\n#define MAX_YRES\t1024\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}