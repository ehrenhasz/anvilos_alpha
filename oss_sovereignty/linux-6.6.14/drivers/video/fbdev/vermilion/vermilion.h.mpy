{
  "module_name": "vermilion.h",
  "hash_id": "8fdb1fec5b1f89a1bbeb296868bec83539ecdb84f807d4d45f802e23848825b6",
  "original_prompt": "Ingested from linux-6.6.14/drivers/video/fbdev/vermilion/vermilion.h",
  "human_readable_source": " \n \n\n#ifndef _VERMILION_H_\n#define _VERMILION_H_\n\n#include <linux/kernel.h>\n#include <linux/pci.h>\n#include <linux/atomic.h>\n#include <linux/mutex.h>\n\n#define VML_DEVICE_GPU 0x5002\n#define VML_DEVICE_VDC 0x5009\n\n#define VML_VRAM_AREAS 3\n#define VML_MAX_XRES 1024\n#define VML_MAX_YRES 768\n#define VML_MAX_XRES_VIRTUAL 1040\n\n \n\n \n\n#define VML_R_MASK                   0x3FF00000\n#define VML_R_SHIFT                  20\n#define VML_G_MASK                   0x000FFC00\n#define VML_G_SHIFT                  10\n#define VML_B_MASK                   0x000003FF\n#define VML_B_SHIFT                  0\n\n \n#define VML_DSPCCNTR                 0x00072180\n#define VML_GFX_ENABLE               0x80000000\n#define VML_GFX_GAMMABYPASS          0x40000000\n#define VML_GFX_ARGB1555             0x0C000000\n#define VML_GFX_RGB0888              0x18000000\n#define VML_GFX_ARGB8888             0x1C000000\n#define VML_GFX_ALPHACONST           0x02000000\n#define VML_GFX_ALPHAMULT            0x01000000\n#define VML_GFX_CONST_ALPHA          0x000000FF\n\n \n#define VML_DSPCADDR                 0x00072184\n\n \n#define VML_DSPCSTRIDE               0x00072188\n\n \n#define VML_DSPCPOS                  0x0007218C\n#define VML_POS_YMASK                0x0FFF0000\n#define VML_POS_YSHIFT               16\n#define VML_POS_XMASK                0x00000FFF\n#define VML_POS_XSHIFT               0\n\n \n#define VML_DSPCSIZE                 0x00072190\n#define VML_SIZE_HMASK               0x0FFF0000\n#define VML_SIZE_HSHIFT              16\n#define VML_SISE_WMASK               0x00000FFF\n#define VML_SIZE_WSHIFT              0\n\n \n#define VML_DSPCGAMLUT               0x00072200\n\n \n#define VML_PVOCONFIG                0x00061140\n#define VML_CONFIG_BASE              0x80000000\n#define VML_CONFIG_PIXEL_SWAP        0x04000000\n#define VML_CONFIG_DE_INV            0x01000000\n#define VML_CONFIG_HREF_INV          0x00400000\n#define VML_CONFIG_VREF_INV          0x00100000\n#define VML_CONFIG_CLK_INV           0x00040000\n#define VML_CONFIG_CLK_DIV2          0x00010000\n#define VML_CONFIG_ESTRB_INV         0x00008000\n\n \n#define VML_HTOTAL_A                 0x00060000\n#define VML_HTOTAL_MASK              0x1FFF0000\n#define VML_HTOTAL_SHIFT             16\n#define VML_HTOTAL_VAL               8192\n#define VML_HACTIVE_MASK             0x000007FF\n#define VML_HACTIVE_SHIFT            0\n#define VML_HACTIVE_VAL              4096\n\n \n#define VML_HBLANK_A                 0x00060004\n#define VML_HBLANK_END_MASK          0x1FFF0000\n#define VML_HBLANK_END_SHIFT         16\n#define VML_HBLANK_END_VAL           8192\n#define VML_HBLANK_START_MASK        0x00001FFF\n#define VML_HBLANK_START_SHIFT       0\n#define VML_HBLANK_START_VAL         8192\n\n \n#define VML_HSYNC_A                  0x00060008\n#define VML_HSYNC_END_MASK           0x1FFF0000\n#define VML_HSYNC_END_SHIFT          16\n#define VML_HSYNC_END_VAL            8192\n#define VML_HSYNC_START_MASK         0x00001FFF\n#define VML_HSYNC_START_SHIFT        0\n#define VML_HSYNC_START_VAL          8192\n\n \n#define VML_VTOTAL_A                 0x0006000C\n#define VML_VTOTAL_MASK              0x1FFF0000\n#define VML_VTOTAL_SHIFT             16\n#define VML_VTOTAL_VAL               8192\n#define VML_VACTIVE_MASK             0x000007FF\n#define VML_VACTIVE_SHIFT            0\n#define VML_VACTIVE_VAL              4096\n\n \n#define VML_VBLANK_A                 0x00060010\n#define VML_VBLANK_END_MASK          0x1FFF0000\n#define VML_VBLANK_END_SHIFT         16\n#define VML_VBLANK_END_VAL           8192\n#define VML_VBLANK_START_MASK        0x00001FFF\n#define VML_VBLANK_START_SHIFT       0\n#define VML_VBLANK_START_VAL         8192\n\n \n#define VML_VSYNC_A                  0x00060014\n#define VML_VSYNC_END_MASK           0x1FFF0000\n#define VML_VSYNC_END_SHIFT          16\n#define VML_VSYNC_END_VAL            8192\n#define VML_VSYNC_START_MASK         0x00001FFF\n#define VML_VSYNC_START_SHIFT        0\n#define VML_VSYNC_START_VAL          8192\n\n \n#define VML_PIPEASRC                 0x0006001C\n#define VML_PIPEASRC_HMASK           0x0FFF0000\n#define VML_PIPEASRC_HSHIFT          16\n#define VML_PIPEASRC_VMASK           0x00000FFF\n#define VML_PIPEASRC_VSHIFT          0\n\n \n#define VML_BCLRPAT_A                0x00060020\n\n \n#define VML_CANVSCLR_A               0x00060024\n\n \n#define VML_PIPEACONF                0x00070008\n#define VML_PIPE_BASE                0x00000000\n#define VML_PIPE_ENABLE              0x80000000\n#define VML_PIPE_FORCE_BORDER        0x02000000\n#define VML_PIPE_PLANES_OFF          0x00080000\n#define VML_PIPE_ARGB_OUTPUT_MODE    0x00040000\n\n \n#define VML_DSPARB                   0x00070030\n#define VML_FIFO_DEFAULT             0x00001D9C\n\n \n#define VML_RCOMPSTAT                0x00070048\n#define VML_MDVO_VDC_I_RCOMP         0x80000000\n#define VML_MDVO_POWERSAVE_OFF       0x00000008\n#define VML_MDVO_PAD_ENABLE          0x00000004\n#define VML_MDVO_PULLDOWN_ENABLE     0x00000001\n\nstruct vml_par {\n\tstruct pci_dev *vdc;\n\tu64 vdc_mem_base;\n\tu64 vdc_mem_size;\n\tchar __iomem *vdc_mem;\n\n\tstruct pci_dev *gpu;\n\tu64 gpu_mem_base;\n\tu64 gpu_mem_size;\n\tchar __iomem *gpu_mem;\n\n\tatomic_t refcount;\n};\n\nstruct vram_area {\n\tunsigned long logical;\n\tunsigned long phys;\n\tunsigned long size;\n\tunsigned order;\n};\n\nstruct vml_info {\n\tstruct fb_info info;\n\tstruct vml_par *par;\n\tstruct list_head head;\n\tstruct vram_area vram[VML_VRAM_AREAS];\n\tu64 vram_start;\n\tu64 vram_contig_size;\n\tu32 num_areas;\n\tvoid __iomem *vram_logical;\n\tu32 pseudo_palette[16];\n\tu32 stride;\n\tu32 bytes_per_pixel;\n\tatomic_t vmas;\n\tint cur_blank_mode;\n\tint pipe_disabled;\n};\n\n \n\nstruct vml_sys {\n\tchar *name;\n\n\t \n\n\tint (*save) (struct vml_sys * sys);\n\tint (*restore) (struct vml_sys * sys);\n\n\t \n\n\tint (*set_clock) (struct vml_sys * sys, int clock);\n\tint (*nearest_clock) (const struct vml_sys * sys, int clock);\n};\n\nextern int vmlfb_register_subsys(struct vml_sys *sys);\nextern void vmlfb_unregister_subsys(struct vml_sys *sys);\n\n#define VML_READ32(_par, _offset) \\\n\t(ioread32((_par)->vdc_mem + (_offset)))\n#define VML_WRITE32(_par, _offset, _value)\t\t\t\t\\\n\tiowrite32(_value, (_par)->vdc_mem + (_offset))\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}