{
  "module_name": "sm712fb.c",
  "hash_id": "eede9da88ebf95a6a6e6aaa15e0bc1e5e7f58de799a1d127d9ecdb918dd9ddff",
  "original_prompt": "Ingested from linux-6.6.14/drivers/video/fbdev/sm712fb.c",
  "human_readable_source": " \n\n#include <linux/aperture.h>\n#include <linux/io.h>\n#include <linux/fb.h>\n#include <linux/pci.h>\n#include <linux/init.h>\n#include <linux/slab.h>\n#include <linux/uaccess.h>\n#include <linux/module.h>\n#include <linux/console.h>\n\n#include <linux/pm.h>\n\n#include \"sm712.h\"\n\nstruct smtcfb_screen_info {\n\tu16 lfb_width;\n\tu16 lfb_height;\n\tu16 lfb_depth;\n};\n\n \nstruct smtcfb_info {\n\tstruct pci_dev *pdev;\n\tstruct fb_info *fb;\n\tu16 chip_id;\n\tu8  chip_rev_id;\n\n\tvoid __iomem *lfb;\t \n\tvoid __iomem *dp_regs;\t \n\tvoid __iomem *vp_regs;\t \n\tvoid __iomem *cp_regs;\t \n\tvoid __iomem *mmio;\t \n\n\tu_int width;\n\tu_int height;\n\tu_int hz;\n\n\tu32 colreg[17];\n};\n\nvoid __iomem *smtc_regbaseaddress;\t \n\nstatic const struct fb_var_screeninfo smtcfb_var = {\n\t.xres           = 1024,\n\t.yres           = 600,\n\t.xres_virtual   = 1024,\n\t.yres_virtual   = 600,\n\t.bits_per_pixel = 16,\n\t.red            = {16, 8, 0},\n\t.green          = {8, 8, 0},\n\t.blue           = {0, 8, 0},\n\t.activate       = FB_ACTIVATE_NOW,\n\t.height         = -1,\n\t.width          = -1,\n\t.vmode          = FB_VMODE_NONINTERLACED,\n\t.nonstd         = 0,\n\t.accel_flags    = FB_ACCELF_TEXT,\n};\n\nstatic struct fb_fix_screeninfo smtcfb_fix = {\n\t.id             = \"smXXXfb\",\n\t.type           = FB_TYPE_PACKED_PIXELS,\n\t.visual         = FB_VISUAL_TRUECOLOR,\n\t.line_length    = 800 * 3,\n\t.accel          = FB_ACCEL_SMI_LYNX,\n\t.type_aux       = 0,\n\t.xpanstep       = 0,\n\t.ypanstep       = 0,\n\t.ywrapstep      = 0,\n};\n\nstruct vesa_mode {\n\tchar index[6];\n\tu16  lfb_width;\n\tu16  lfb_height;\n\tu16  lfb_depth;\n};\n\nstatic const struct vesa_mode vesa_mode_table[] = {\n\t{\"0x301\", 640,  480,  8},\n\t{\"0x303\", 800,  600,  8},\n\t{\"0x305\", 1024, 768,  8},\n\t{\"0x307\", 1280, 1024, 8},\n\n\t{\"0x311\", 640,  480,  16},\n\t{\"0x314\", 800,  600,  16},\n\t{\"0x317\", 1024, 768,  16},\n\t{\"0x31A\", 1280, 1024, 16},\n\n\t{\"0x312\", 640,  480,  24},\n\t{\"0x315\", 800,  600,  24},\n\t{\"0x318\", 1024, 768,  24},\n\t{\"0x31B\", 1280, 1024, 24},\n};\n\n \nstatic const struct modeinit vgamode[] = {\n\t{\n\t\t \n\t\t640, 480, 16, 60,\n\t\t \n\t\t0xE3,\n\t\t{\t \n\t\t\t0x03, 0x01, 0x0F, 0x00, 0x0E,\n\t\t},\n\t\t{\t \n\t\t\t0xFF, 0xBE, 0xEF, 0xFF, 0x00, 0x0E, 0x17, 0x2C,\n\t\t\t0x99, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0xC4, 0x30, 0x02, 0x01, 0x01,\n\t\t},\n\t\t{\t \n\t\t\t0x32, 0x03, 0xA0, 0x09, 0xC0, 0x32, 0x32, 0x32,\n\t\t\t0x32, 0x32, 0x32, 0x32, 0x00, 0x00, 0x03, 0xFF,\n\t\t\t0x00, 0xFC, 0x00, 0x00, 0x20, 0x18, 0x00, 0xFC,\n\t\t\t0x20, 0x0C, 0x44, 0x20, 0x00, 0x32, 0x32, 0x32,\n\t\t\t0x04, 0x24, 0x63, 0x4F, 0x52, 0x0B, 0xDF, 0xEA,\n\t\t\t0x04, 0x50, 0x19, 0x32, 0x32, 0x00, 0x00, 0x32,\n\t\t\t0x01, 0x80, 0x7E, 0x1A, 0x1A, 0x00, 0x00, 0x00,\n\t\t\t0x50, 0x03, 0x74, 0x14, 0x07, 0x82, 0x07, 0x04,\n\t\t\t0x00, 0x45, 0x30, 0x30, 0x40, 0x30,\n\t\t},\n\t\t{\t \n\t\t\t0xFF, 0x07, 0x00, 0x6F, 0x7F, 0x7F, 0xFF, 0x32,\n\t\t\t0xF7, 0x00, 0x00, 0x00, 0xEF, 0xFF, 0x32, 0x32,\n\t\t\t0x00, 0x00, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0xFF, 0xBF, 0xFF, 0xFF, 0xED, 0xED, 0xED,\n\t\t\t0x7B, 0xFF, 0xFF, 0xFF, 0xBF, 0xEF, 0xFF, 0xDF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x05, 0x0F,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07,\n\t\t\t0x08, 0x09, 0x0A, 0x0B, 0x0C, 0x0D, 0x0E, 0x0F,\n\t\t\t0x41, 0x00, 0x0F, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0x5F, 0x4F, 0x4F, 0x00, 0x53, 0x1F, 0x0B, 0x3E,\n\t\t\t0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0xEA, 0x0C, 0xDF, 0x50, 0x40, 0xDF, 0x00, 0xE3,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x55, 0x03, 0x20,\n\t\t\t0x00, 0x00, 0x00, 0x40, 0x00, 0xE7, 0xFF, 0xFD,\n\t\t\t0x5F, 0x4F, 0x00, 0x54, 0x00, 0x0B, 0xDF, 0x00,\n\t\t\t0xEA, 0x0C, 0x2E, 0x00, 0x4F, 0xDF,\n\t\t},\n\t\t{\t \n\t\t\t0x56, 0xDD, 0x5E, 0xEA, 0x87, 0x44, 0x8F, 0x55,\n\t\t\t0x0A, 0x8F, 0x55, 0x0A, 0x00, 0x00, 0x18, 0x00,\n\t\t\t0x11, 0x10, 0x0B, 0x0A, 0x0A, 0x0A, 0x0A, 0x00,\n\t\t},\n\t},\n\t{\n\t\t \n\t\t640, 480, 24, 60,\n\t\t \n\t\t0xE3,\n\t\t{\t \n\t\t\t0x03, 0x01, 0x0F, 0x00, 0x0E,\n\t\t},\n\t\t{\t \n\t\t\t0xFF, 0xBE, 0xEF, 0xFF, 0x00, 0x0E, 0x17, 0x2C,\n\t\t\t0x99, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0xC4, 0x30, 0x02, 0x01, 0x01,\n\t\t},\n\t\t{\t \n\t\t\t0x32, 0x03, 0xA0, 0x09, 0xC0, 0x32, 0x32, 0x32,\n\t\t\t0x32, 0x32, 0x32, 0x32, 0x00, 0x00, 0x03, 0xFF,\n\t\t\t0x00, 0xFC, 0x00, 0x00, 0x20, 0x18, 0x00, 0xFC,\n\t\t\t0x20, 0x0C, 0x44, 0x20, 0x00, 0x32, 0x32, 0x32,\n\t\t\t0x04, 0x24, 0x63, 0x4F, 0x52, 0x0B, 0xDF, 0xEA,\n\t\t\t0x04, 0x50, 0x19, 0x32, 0x32, 0x00, 0x00, 0x32,\n\t\t\t0x01, 0x80, 0x7E, 0x1A, 0x1A, 0x00, 0x00, 0x00,\n\t\t\t0x50, 0x03, 0x74, 0x14, 0x07, 0x82, 0x07, 0x04,\n\t\t\t0x00, 0x45, 0x30, 0x30, 0x40, 0x30,\n\t\t},\n\t\t{\t \n\t\t\t0xFF, 0x07, 0x00, 0x6F, 0x7F, 0x7F, 0xFF, 0x32,\n\t\t\t0xF7, 0x00, 0x00, 0x00, 0xEF, 0xFF, 0x32, 0x32,\n\t\t\t0x00, 0x00, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0xFF, 0xBF, 0xFF, 0xFF, 0xED, 0xED, 0xED,\n\t\t\t0x7B, 0xFF, 0xFF, 0xFF, 0xBF, 0xEF, 0xFF, 0xDF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x05, 0x0F,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07,\n\t\t\t0x08, 0x09, 0x0A, 0x0B, 0x0C, 0x0D, 0x0E, 0x0F,\n\t\t\t0x41, 0x00, 0x0F, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0x5F, 0x4F, 0x4F, 0x00, 0x53, 0x1F, 0x0B, 0x3E,\n\t\t\t0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0xEA, 0x0C, 0xDF, 0x50, 0x40, 0xDF, 0x00, 0xE3,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x55, 0x03, 0x20,\n\t\t\t0x00, 0x00, 0x00, 0x40, 0x00, 0xE7, 0xFF, 0xFD,\n\t\t\t0x5F, 0x4F, 0x00, 0x54, 0x00, 0x0B, 0xDF, 0x00,\n\t\t\t0xEA, 0x0C, 0x2E, 0x00, 0x4F, 0xDF,\n\t\t},\n\t\t{\t \n\t\t\t0x56, 0xDD, 0x5E, 0xEA, 0x87, 0x44, 0x8F, 0x55,\n\t\t\t0x0A, 0x8F, 0x55, 0x0A, 0x00, 0x00, 0x18, 0x00,\n\t\t\t0x11, 0x10, 0x0B, 0x0A, 0x0A, 0x0A, 0x0A, 0x00,\n\t\t},\n\t},\n\t{\n\t\t \n\t\t640, 480, 32, 60,\n\t\t \n\t\t0xE3,\n\t\t{\t \n\t\t\t0x03, 0x01, 0x0F, 0x00, 0x0E,\n\t\t},\n\t\t{\t \n\t\t\t0xFF, 0xBE, 0xEF, 0xFF, 0x00, 0x0E, 0x17, 0x2C,\n\t\t\t0x99, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0xC4, 0x30, 0x02, 0x01, 0x01,\n\t\t},\n\t\t{\t \n\t\t\t0x32, 0x03, 0xA0, 0x09, 0xC0, 0x32, 0x32, 0x32,\n\t\t\t0x32, 0x32, 0x32, 0x32, 0x00, 0x00, 0x03, 0xFF,\n\t\t\t0x00, 0xFC, 0x00, 0x00, 0x20, 0x18, 0x00, 0xFC,\n\t\t\t0x20, 0x0C, 0x44, 0x20, 0x00, 0x32, 0x32, 0x32,\n\t\t\t0x04, 0x24, 0x63, 0x4F, 0x52, 0x0B, 0xDF, 0xEA,\n\t\t\t0x04, 0x50, 0x19, 0x32, 0x32, 0x00, 0x00, 0x32,\n\t\t\t0x01, 0x80, 0x7E, 0x1A, 0x1A, 0x00, 0x00, 0x00,\n\t\t\t0x50, 0x03, 0x74, 0x14, 0x07, 0x82, 0x07, 0x04,\n\t\t\t0x00, 0x45, 0x30, 0x30, 0x40, 0x30,\n\t\t},\n\t\t{\t \n\t\t\t0xFF, 0x07, 0x00, 0x6F, 0x7F, 0x7F, 0xFF, 0x32,\n\t\t\t0xF7, 0x00, 0x00, 0x00, 0xEF, 0xFF, 0x32, 0x32,\n\t\t\t0x00, 0x00, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0xFF, 0xBF, 0xFF, 0xFF, 0xED, 0xED, 0xED,\n\t\t\t0x7B, 0xFF, 0xFF, 0xFF, 0xBF, 0xEF, 0xFF, 0xDF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x05, 0x0F,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07,\n\t\t\t0x08, 0x09, 0x0A, 0x0B, 0x0C, 0x0D, 0x0E, 0x0F,\n\t\t\t0x41, 0x00, 0x0F, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0x5F, 0x4F, 0x4F, 0x00, 0x53, 0x1F, 0x0B, 0x3E,\n\t\t\t0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0xEA, 0x0C, 0xDF, 0x50, 0x40, 0xDF, 0x00, 0xE3,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x55, 0x03, 0x20,\n\t\t\t0x00, 0x00, 0x00, 0x40, 0x00, 0xE7, 0xFF, 0xFD,\n\t\t\t0x5F, 0x4F, 0x00, 0x54, 0x00, 0x0B, 0xDF, 0x00,\n\t\t\t0xEA, 0x0C, 0x2E, 0x00, 0x4F, 0xDF,\n\t\t},\n\t\t{\t \n\t\t\t0x56, 0xDD, 0x5E, 0xEA, 0x87, 0x44, 0x8F, 0x55,\n\t\t\t0x0A, 0x8F, 0x55, 0x0A, 0x00, 0x00, 0x18, 0x00,\n\t\t\t0x11, 0x10, 0x0B, 0x0A, 0x0A, 0x0A, 0x0A, 0x00,\n\t\t},\n\t},\n\n\t{\t \n\t\t800, 600, 16, 60,\n\t\t \n\t\t0x2B,\n\t\t{\t \n\t\t\t0x03, 0x01, 0x0F, 0x03, 0x0E,\n\t\t},\n\t\t{\t \n\t\t\t0xFF, 0xBE, 0xEE, 0xFF, 0x00, 0x0E, 0x17, 0x2C,\n\t\t\t0x99, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0xC4, 0x30, 0x02, 0x01, 0x01,\n\t\t},\n\t\t{\t \n\t\t\t0x34, 0x03, 0x20, 0x09, 0xC0, 0x24, 0x24, 0x24,\n\t\t\t0x24, 0x24, 0x24, 0x24, 0x00, 0x00, 0x03, 0xFF,\n\t\t\t0x00, 0xFC, 0x00, 0x00, 0x20, 0x38, 0x00, 0xFC,\n\t\t\t0x20, 0x0C, 0x44, 0x20, 0x00, 0x24, 0x24, 0x24,\n\t\t\t0x04, 0x48, 0x83, 0x63, 0x68, 0x72, 0x57, 0x58,\n\t\t\t0x04, 0x55, 0x59, 0x24, 0x24, 0x00, 0x00, 0x24,\n\t\t\t0x01, 0x80, 0x7A, 0x1A, 0x1A, 0x00, 0x00, 0x00,\n\t\t\t0x50, 0x03, 0x74, 0x14, 0x1C, 0x85, 0x35, 0x13,\n\t\t\t0x02, 0x45, 0x30, 0x35, 0x40, 0x20,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x6F, 0x7F, 0x7F, 0xFF, 0x24,\n\t\t\t0x00, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x24, 0x24,\n\t\t\t0x00, 0x00, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0xFF, 0xBF, 0xFF, 0xFF, 0xED, 0xED, 0xED,\n\t\t\t0x7B, 0xFF, 0xFF, 0xFF, 0xBF, 0xEF, 0xBF, 0xDF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x05, 0x0F,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07,\n\t\t\t0x08, 0x09, 0x0A, 0x0B, 0x0C, 0x0D, 0x0E, 0x0F,\n\t\t\t0x41, 0x00, 0x0F, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0x7F, 0x63, 0x63, 0x00, 0x68, 0x18, 0x72, 0xF0,\n\t\t\t0x00, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0x58, 0x0C, 0x57, 0x64, 0x40, 0x57, 0x00, 0xE3,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x33, 0x03, 0x20,\n\t\t\t0x00, 0x00, 0x00, 0x40, 0x00, 0xE7, 0xBF, 0xFD,\n\t\t\t0x7F, 0x63, 0x00, 0x69, 0x18, 0x72, 0x57, 0x00,\n\t\t\t0x58, 0x0C, 0xE0, 0x20, 0x63, 0x57,\n\t\t},\n\t\t{\t \n\t\t\t0x56, 0x4B, 0x5E, 0x55, 0x86, 0x9D, 0x8E, 0xAA,\n\t\t\t0xDB, 0x2A, 0xDF, 0x33, 0x00, 0x00, 0x18, 0x00,\n\t\t\t0x20, 0x1F, 0x1A, 0x19, 0x0F, 0x0F, 0x0F, 0x00,\n\t\t},\n\t},\n\t{\t \n\t\t800, 600, 24, 60,\n\t\t0x2B,\n\t\t{\t \n\t\t\t0x03, 0x01, 0x0F, 0x03, 0x0E,\n\t\t},\n\t\t{\t \n\t\t\t0xFF, 0xBE, 0xEE, 0xFF, 0x00, 0x0E, 0x17, 0x2C,\n\t\t\t0x99, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0xC4, 0x30, 0x02, 0x01, 0x01,\n\t\t},\n\t\t{\t \n\t\t\t0x36, 0x03, 0x20, 0x09, 0xC0, 0x36, 0x36, 0x36,\n\t\t\t0x36, 0x36, 0x36, 0x36, 0x00, 0x00, 0x03, 0xFF,\n\t\t\t0x00, 0xFC, 0x00, 0x00, 0x20, 0x18, 0x00, 0xFC,\n\t\t\t0x20, 0x0C, 0x44, 0x20, 0x00, 0x36, 0x36, 0x36,\n\t\t\t0x04, 0x48, 0x83, 0x63, 0x68, 0x72, 0x57, 0x58,\n\t\t\t0x04, 0x55, 0x59, 0x36, 0x36, 0x00, 0x00, 0x36,\n\t\t\t0x01, 0x80, 0x7E, 0x1A, 0x1A, 0x00, 0x00, 0x00,\n\t\t\t0x50, 0x03, 0x74, 0x14, 0x1C, 0x85, 0x35, 0x13,\n\t\t\t0x02, 0x45, 0x30, 0x30, 0x40, 0x20,\n\t\t},\n\t\t{\t \n\t\t\t0xFF, 0x07, 0x00, 0x6F, 0x7F, 0x7F, 0xFF, 0x36,\n\t\t\t0xF7, 0x00, 0x00, 0x00, 0xEF, 0xFF, 0x36, 0x36,\n\t\t\t0x00, 0x00, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0xFF, 0xBF, 0xFF, 0xFF, 0xED, 0xED, 0xED,\n\t\t\t0x7B, 0xFF, 0xFF, 0xFF, 0xBF, 0xEF, 0xBF, 0xDF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x05, 0x0F,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07,\n\t\t\t0x08, 0x09, 0x0A, 0x0B, 0x0C, 0x0D, 0x0E, 0x0F,\n\t\t\t0x41, 0x00, 0x0F, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0x7F, 0x63, 0x63, 0x00, 0x68, 0x18, 0x72, 0xF0,\n\t\t\t0x00, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0x58, 0x0C, 0x57, 0x64, 0x40, 0x57, 0x00, 0xE3,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x33, 0x03, 0x20,\n\t\t\t0x00, 0x00, 0x00, 0x40, 0x00, 0xE7, 0xBF, 0xFD,\n\t\t\t0x7F, 0x63, 0x00, 0x69, 0x18, 0x72, 0x57, 0x00,\n\t\t\t0x58, 0x0C, 0xE0, 0x20, 0x63, 0x57,\n\t\t},\n\t\t{\t \n\t\t\t0x56, 0x4B, 0x5E, 0x55, 0x86, 0x9D, 0x8E, 0xAA,\n\t\t\t0xDB, 0x2A, 0xDF, 0x33, 0x00, 0x00, 0x18, 0x00,\n\t\t\t0x20, 0x1F, 0x1A, 0x19, 0x0F, 0x0F, 0x0F, 0x00,\n\t\t},\n\t},\n\t{\t \n\t\t800, 600, 32, 60,\n\t\t \n\t\t0x2B,\n\t\t{\t \n\t\t\t0x03, 0x01, 0x0F, 0x03, 0x0E,\n\t\t},\n\t\t{\t \n\t\t\t0xFF, 0xBE, 0xEE, 0xFF, 0x00, 0x0E, 0x17, 0x2C,\n\t\t\t0x99, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0xC4, 0x30, 0x02, 0x01, 0x01,\n\t\t},\n\t\t{\t \n\t\t\t0x34, 0x03, 0x20, 0x09, 0xC0, 0x24, 0x24, 0x24,\n\t\t\t0x24, 0x24, 0x24, 0x24, 0x00, 0x00, 0x03, 0xFF,\n\t\t\t0x00, 0xFC, 0x00, 0x00, 0x20, 0x38, 0x00, 0xFC,\n\t\t\t0x20, 0x0C, 0x44, 0x20, 0x00, 0x24, 0x24, 0x24,\n\t\t\t0x04, 0x48, 0x83, 0x63, 0x68, 0x72, 0x57, 0x58,\n\t\t\t0x04, 0x55, 0x59, 0x24, 0x24, 0x00, 0x00, 0x24,\n\t\t\t0x01, 0x80, 0x7A, 0x1A, 0x1A, 0x00, 0x00, 0x00,\n\t\t\t0x50, 0x03, 0x74, 0x14, 0x1C, 0x85, 0x35, 0x13,\n\t\t\t0x02, 0x45, 0x30, 0x35, 0x40, 0x20,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x6F, 0x7F, 0x7F, 0xFF, 0x24,\n\t\t\t0x00, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x24, 0x24,\n\t\t\t0x00, 0x00, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0xFF, 0xBF, 0xFF, 0xFF, 0xED, 0xED, 0xED,\n\t\t\t0x7B, 0xFF, 0xFF, 0xFF, 0xBF, 0xEF, 0xBF, 0xDF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x05, 0x0F,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07,\n\t\t\t0x08, 0x09, 0x0A, 0x0B, 0x0C, 0x0D, 0x0E, 0x0F,\n\t\t\t0x41, 0x00, 0x0F, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0x7F, 0x63, 0x63, 0x00, 0x68, 0x18, 0x72, 0xF0,\n\t\t\t0x00, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0x58, 0x0C, 0x57, 0x64, 0x40, 0x57, 0x00, 0xE3,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x33, 0x03, 0x20,\n\t\t\t0x00, 0x00, 0x00, 0x40, 0x00, 0xE7, 0xBF, 0xFD,\n\t\t\t0x7F, 0x63, 0x00, 0x69, 0x18, 0x72, 0x57, 0x00,\n\t\t\t0x58, 0x0C, 0xE0, 0x20, 0x63, 0x57,\n\t\t},\n\t\t{\t \n\t\t\t0x56, 0x4B, 0x5E, 0x55, 0x86, 0x9D, 0x8E, 0xAA,\n\t\t\t0xDB, 0x2A, 0xDF, 0x33, 0x00, 0x00, 0x18, 0x00,\n\t\t\t0x20, 0x1F, 0x1A, 0x19, 0x0F, 0x0F, 0x0F, 0x00,\n\t\t},\n\t},\n\t \n\t{\t \n\t\t1024, 600, 16, 60,\n\t\t \n\t\t0xEB,\n\t\t{\t \n\t\t\t0x03, 0x01, 0x0F, 0x00, 0x0E,\n\t\t},\n\t\t{\t \n\t\t\t0xC8, 0x40, 0x14, 0x60, 0x00, 0x0A, 0x17, 0x20,\n\t\t\t0x51, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0xC4, 0x30, 0x02, 0x00, 0x01,\n\t\t},\n\t\t{\t \n\t\t\t0x22, 0x03, 0x24, 0x09, 0xC0, 0x22, 0x22, 0x22,\n\t\t\t0x22, 0x22, 0x22, 0x22, 0x00, 0x00, 0x03, 0xFF,\n\t\t\t0x00, 0xFC, 0x00, 0x00, 0x20, 0x18, 0x00, 0xFC,\n\t\t\t0x20, 0x0C, 0x44, 0x20, 0x00, 0x22, 0x22, 0x22,\n\t\t\t0x06, 0x68, 0xA7, 0x7F, 0x83, 0x24, 0xFF, 0x03,\n\t\t\t0x00, 0x60, 0x59, 0x22, 0x22, 0x00, 0x00, 0x22,\n\t\t\t0x01, 0x80, 0x7A, 0x1A, 0x1A, 0x00, 0x00, 0x00,\n\t\t\t0x50, 0x03, 0x16, 0x02, 0x0D, 0x82, 0x09, 0x02,\n\t\t\t0x04, 0x45, 0x3F, 0x30, 0x40, 0x20,\n\t\t},\n\t\t{\t \n\t\t\t0xFF, 0x07, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0x3A,\n\t\t\t0xF7, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x3A, 0x3A,\n\t\t\t0x00, 0x00, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0xFB, 0x9F, 0x01, 0x00, 0xED, 0xED, 0xED,\n\t\t\t0x7B, 0xFB, 0xFF, 0xFF, 0x97, 0xEF, 0xBF, 0xDF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x05, 0x0F,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07,\n\t\t\t0x08, 0x09, 0x0A, 0x0B, 0x0C, 0x0D, 0x0E, 0x0F,\n\t\t\t0x41, 0x00, 0x0F, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0xA3, 0x7F, 0x7F, 0x00, 0x85, 0x16, 0x24, 0xF5,\n\t\t\t0x00, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0x03, 0x09, 0xFF, 0x80, 0x40, 0xFF, 0x00, 0xE3,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x02, 0x20,\n\t\t\t0x00, 0x00, 0x00, 0x40, 0x00, 0xFF, 0xBF, 0xFF,\n\t\t\t0xA3, 0x7F, 0x00, 0x82, 0x0b, 0x6f, 0x57, 0x00,\n\t\t\t0x5c, 0x0f, 0xE0, 0xe0, 0x7F, 0x57,\n\t\t},\n\t\t{\t \n\t\t\t0x55, 0xD9, 0x5D, 0xE1, 0x86, 0x1B, 0x8E, 0x26,\n\t\t\t0xDA, 0x8D, 0xDE, 0x94, 0x00, 0x00, 0x18, 0x00,\n\t\t\t0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x15, 0x03,\n\t\t},\n\t},\n\t{\t \n\t\t1024, 768, 16, 60,\n\t\t \n\t\t0xEB,\n\t\t{\t \n\t\t\t0x03, 0x01, 0x0F, 0x03, 0x0E,\n\t\t},\n\t\t{\t \n\t\t\t0xF3, 0xB6, 0xC0, 0xDD, 0x00, 0x0E, 0x17, 0x2C,\n\t\t\t0x99, 0x02, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0xC4, 0x30, 0x02, 0x01, 0x01,\n\t\t},\n\t\t{\t \n\t\t\t0x38, 0x03, 0x20, 0x09, 0xC0, 0x3A, 0x3A, 0x3A,\n\t\t\t0x3A, 0x3A, 0x3A, 0x3A, 0x00, 0x00, 0x03, 0xFF,\n\t\t\t0x00, 0xFC, 0x00, 0x00, 0x20, 0x18, 0x00, 0xFC,\n\t\t\t0x20, 0x0C, 0x44, 0x20, 0x00, 0x00, 0x00, 0x3A,\n\t\t\t0x06, 0x68, 0xA7, 0x7F, 0x83, 0x24, 0xFF, 0x03,\n\t\t\t0x0F, 0x60, 0x59, 0x3A, 0x3A, 0x00, 0x00, 0x3A,\n\t\t\t0x01, 0x80, 0x7E, 0x1A, 0x1A, 0x00, 0x00, 0x00,\n\t\t\t0x50, 0x03, 0x74, 0x14, 0x3B, 0x0D, 0x09, 0x02,\n\t\t\t0x04, 0x45, 0x30, 0x30, 0x40, 0x20,\n\t\t},\n\t\t{\t \n\t\t\t0xFF, 0x07, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0x3A,\n\t\t\t0xF7, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x3A, 0x3A,\n\t\t\t0x00, 0x00, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0xFB, 0x9F, 0x01, 0x00, 0xED, 0xED, 0xED,\n\t\t\t0x7B, 0xFB, 0xFF, 0xFF, 0x97, 0xEF, 0xBF, 0xDF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x05, 0x0F,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07,\n\t\t\t0x08, 0x09, 0x0A, 0x0B, 0x0C, 0x0D, 0x0E, 0x0F,\n\t\t\t0x41, 0x00, 0x0F, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0xA3, 0x7F, 0x7F, 0x00, 0x85, 0x16, 0x24, 0xF5,\n\t\t\t0x00, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0x03, 0x09, 0xFF, 0x80, 0x40, 0xFF, 0x00, 0xE3,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x02, 0x20,\n\t\t\t0x00, 0x00, 0x00, 0x40, 0x00, 0xFF, 0xBF, 0xFF,\n\t\t\t0xA3, 0x7F, 0x00, 0x86, 0x15, 0x24, 0xFF, 0x00,\n\t\t\t0x01, 0x07, 0xE5, 0x20, 0x7F, 0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x55, 0xD9, 0x5D, 0xE1, 0x86, 0x1B, 0x8E, 0x26,\n\t\t\t0xDA, 0x8D, 0xDE, 0x94, 0x00, 0x00, 0x18, 0x00,\n\t\t\t0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x15, 0x03,\n\t\t},\n\t},\n\t{\t \n\t\t1024, 768, 24, 60,\n\t\t \n\t\t0xEB,\n\t\t{\t \n\t\t\t0x03, 0x01, 0x0F, 0x03, 0x0E,\n\t\t},\n\t\t{\t \n\t\t\t0xF3, 0xB6, 0xC0, 0xDD, 0x00, 0x0E, 0x17, 0x2C,\n\t\t\t0x99, 0x02, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0xC4, 0x30, 0x02, 0x01, 0x01,\n\t\t},\n\t\t{\t \n\t\t\t0x38, 0x03, 0x20, 0x09, 0xC0, 0x3A, 0x3A, 0x3A,\n\t\t\t0x3A, 0x3A, 0x3A, 0x3A, 0x00, 0x00, 0x03, 0xFF,\n\t\t\t0x00, 0xFC, 0x00, 0x00, 0x20, 0x18, 0x00, 0xFC,\n\t\t\t0x20, 0x0C, 0x44, 0x20, 0x00, 0x00, 0x00, 0x3A,\n\t\t\t0x06, 0x68, 0xA7, 0x7F, 0x83, 0x24, 0xFF, 0x03,\n\t\t\t0x00, 0x60, 0x59, 0x3A, 0x3A, 0x00, 0x00, 0x3A,\n\t\t\t0x01, 0x80, 0x7E, 0x1A, 0x1A, 0x00, 0x00, 0x00,\n\t\t\t0x50, 0x03, 0x74, 0x14, 0x3B, 0x0D, 0x09, 0x02,\n\t\t\t0x04, 0x45, 0x30, 0x30, 0x40, 0x20,\n\t\t},\n\t\t{\t \n\t\t\t0xFF, 0x07, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0x3A,\n\t\t\t0xF7, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x3A, 0x3A,\n\t\t\t0x00, 0x00, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0xFB, 0x9F, 0x01, 0x00, 0xED, 0xED, 0xED,\n\t\t\t0x7B, 0xFB, 0xFF, 0xFF, 0x97, 0xEF, 0xBF, 0xDF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x05, 0x0F,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07,\n\t\t\t0x08, 0x09, 0x0A, 0x0B, 0x0C, 0x0D, 0x0E, 0x0F,\n\t\t\t0x41, 0x00, 0x0F, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0xA3, 0x7F, 0x7F, 0x00, 0x85, 0x16, 0x24, 0xF5,\n\t\t\t0x00, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0x03, 0x09, 0xFF, 0x80, 0x40, 0xFF, 0x00, 0xE3,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x02, 0x20,\n\t\t\t0x00, 0x00, 0x00, 0x40, 0x00, 0xFF, 0xBF, 0xFF,\n\t\t\t0xA3, 0x7F, 0x00, 0x86, 0x15, 0x24, 0xFF, 0x00,\n\t\t\t0x01, 0x07, 0xE5, 0x20, 0x7F, 0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x55, 0xD9, 0x5D, 0xE1, 0x86, 0x1B, 0x8E, 0x26,\n\t\t\t0xDA, 0x8D, 0xDE, 0x94, 0x00, 0x00, 0x18, 0x00,\n\t\t\t0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x15, 0x03,\n\t\t},\n\t},\n\t{\t \n\t\t1024, 768, 32, 60,\n\t\t \n\t\t0xEB,\n\t\t{\t \n\t\t\t0x03, 0x01, 0x0F, 0x03, 0x0E,\n\t\t},\n\t\t{\t \n\t\t\t0xF3, 0xB6, 0xC0, 0xDD, 0x00, 0x0E, 0x17, 0x2C,\n\t\t\t0x99, 0x02, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0xC4, 0x32, 0x02, 0x01, 0x01,\n\t\t},\n\t\t{\t \n\t\t\t0x38, 0x03, 0x20, 0x09, 0xC0, 0x3A, 0x3A, 0x3A,\n\t\t\t0x3A, 0x3A, 0x3A, 0x3A, 0x00, 0x00, 0x03, 0xFF,\n\t\t\t0x00, 0xFC, 0x00, 0x00, 0x20, 0x18, 0x00, 0xFC,\n\t\t\t0x20, 0x0C, 0x44, 0x20, 0x00, 0x00, 0x00, 0x3A,\n\t\t\t0x06, 0x68, 0xA7, 0x7F, 0x83, 0x24, 0xFF, 0x03,\n\t\t\t0x00, 0x60, 0x59, 0x3A, 0x3A, 0x00, 0x00, 0x3A,\n\t\t\t0x01, 0x80, 0x7E, 0x1A, 0x1A, 0x00, 0x00, 0x00,\n\t\t\t0x50, 0x03, 0x74, 0x14, 0x3B, 0x0D, 0x09, 0x02,\n\t\t\t0x04, 0x45, 0x30, 0x30, 0x40, 0x20,\n\t\t},\n\t\t{\t \n\t\t\t0xFF, 0x07, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0x3A,\n\t\t\t0xF7, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x3A, 0x3A,\n\t\t\t0x00, 0x00, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0xFB, 0x9F, 0x01, 0x00, 0xED, 0xED, 0xED,\n\t\t\t0x7B, 0xFB, 0xFF, 0xFF, 0x97, 0xEF, 0xBF, 0xDF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x05, 0x0F,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07,\n\t\t\t0x08, 0x09, 0x0A, 0x0B, 0x0C, 0x0D, 0x0E, 0x0F,\n\t\t\t0x41, 0x00, 0x0F, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0xA3, 0x7F, 0x7F, 0x00, 0x85, 0x16, 0x24, 0xF5,\n\t\t\t0x00, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0x03, 0x09, 0xFF, 0x80, 0x40, 0xFF, 0x00, 0xE3,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x02, 0x20,\n\t\t\t0x00, 0x00, 0x00, 0x40, 0x00, 0xFF, 0xBF, 0xFF,\n\t\t\t0xA3, 0x7F, 0x00, 0x86, 0x15, 0x24, 0xFF, 0x00,\n\t\t\t0x01, 0x07, 0xE5, 0x20, 0x7F, 0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x55, 0xD9, 0x5D, 0xE1, 0x86, 0x1B, 0x8E, 0x26,\n\t\t\t0xDA, 0x8D, 0xDE, 0x94, 0x00, 0x00, 0x18, 0x00,\n\t\t\t0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x15, 0x03,\n\t\t},\n\t},\n\t{\t \n\t\t320, 240, 16, 60,\n\t\t \n\t\t0xEB,\n\t\t{\t \n\t\t\t0x03, 0x01, 0x0F, 0x03, 0x0E,\n\t\t},\n\t\t{\t \n\t\t\t0xF3, 0xB6, 0xC0, 0xDD, 0x00, 0x0E, 0x17, 0x2C,\n\t\t\t0x99, 0x02, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0xC4, 0x32, 0x02, 0x01, 0x01,\n\t\t},\n\t\t{\t \n\t\t\t0x38, 0x03, 0x20, 0x09, 0xC0, 0x3A, 0x3A, 0x3A,\n\t\t\t0x3A, 0x3A, 0x3A, 0x3A, 0x00, 0x00, 0x03, 0xFF,\n\t\t\t0x00, 0xFC, 0x00, 0x00, 0x20, 0x18, 0x00, 0xFC,\n\t\t\t0x20, 0x0C, 0x44, 0x20, 0x00, 0x00, 0x00, 0x3A,\n\t\t\t0x06, 0x68, 0xA7, 0x7F, 0x83, 0x24, 0xFF, 0x03,\n\t\t\t0x00, 0x60, 0x59, 0x3A, 0x3A, 0x00, 0x00, 0x3A,\n\t\t\t0x01, 0x80, 0x7E, 0x1A, 0x1A, 0x00, 0x00, 0x00,\n\t\t\t0x50, 0x03, 0x74, 0x14, 0x08, 0x43, 0x08, 0x43,\n\t\t\t0x04, 0x45, 0x30, 0x30, 0x40, 0x20,\n\t\t},\n\t\t{\t \n\t\t\t0xFF, 0x07, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0x3A,\n\t\t\t0xF7, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x3A, 0x3A,\n\t\t\t0x00, 0x00, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0xFB, 0x9F, 0x01, 0x00, 0xED, 0xED, 0xED,\n\t\t\t0x7B, 0xFB, 0xFF, 0xFF, 0x97, 0xEF, 0xBF, 0xDF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x05, 0x0F,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07,\n\t\t\t0x08, 0x09, 0x0A, 0x0B, 0x0C, 0x0D, 0x0E, 0x0F,\n\t\t\t0x41, 0x00, 0x0F, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0xA3, 0x7F, 0x7F, 0x00, 0x85, 0x16, 0x24, 0xF5,\n\t\t\t0x00, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0x03, 0x09, 0xFF, 0x80, 0x40, 0xFF, 0x00, 0xE3,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x02, 0x20,\n\t\t\t0x00, 0x00, 0x30, 0x40, 0x00, 0xFF, 0xBF, 0xFF,\n\t\t\t0x2E, 0x27, 0x00, 0x2b, 0x0c, 0x0F, 0xEF, 0x00,\n\t\t\t0xFe, 0x0f, 0x01, 0xC0, 0x27, 0xEF,\n\t\t},\n\t\t{\t \n\t\t\t0x55, 0xD9, 0x5D, 0xE1, 0x86, 0x1B, 0x8E, 0x26,\n\t\t\t0xDA, 0x8D, 0xDE, 0x94, 0x00, 0x00, 0x18, 0x00,\n\t\t\t0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x15, 0x03,\n\t\t},\n\t},\n\n\t{\t \n\t\t320, 240, 32, 60,\n\t\t \n\t\t0xEB,\n\t\t{\t \n\t\t\t0x03, 0x01, 0x0F, 0x03, 0x0E,\n\t\t},\n\t\t{\t \n\t\t\t0xF3, 0xB6, 0xC0, 0xDD, 0x00, 0x0E, 0x17, 0x2C,\n\t\t\t0x99, 0x02, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0xC4, 0x32, 0x02, 0x01, 0x01,\n\t\t},\n\t\t{\t \n\t\t\t0x38, 0x03, 0x20, 0x09, 0xC0, 0x3A, 0x3A, 0x3A,\n\t\t\t0x3A, 0x3A, 0x3A, 0x3A, 0x00, 0x00, 0x03, 0xFF,\n\t\t\t0x00, 0xFC, 0x00, 0x00, 0x20, 0x18, 0x00, 0xFC,\n\t\t\t0x20, 0x0C, 0x44, 0x20, 0x00, 0x00, 0x00, 0x3A,\n\t\t\t0x06, 0x68, 0xA7, 0x7F, 0x83, 0x24, 0xFF, 0x03,\n\t\t\t0x00, 0x60, 0x59, 0x3A, 0x3A, 0x00, 0x00, 0x3A,\n\t\t\t0x01, 0x80, 0x7E, 0x1A, 0x1A, 0x00, 0x00, 0x00,\n\t\t\t0x50, 0x03, 0x74, 0x14, 0x08, 0x43, 0x08, 0x43,\n\t\t\t0x04, 0x45, 0x30, 0x30, 0x40, 0x20,\n\t\t},\n\t\t{\t \n\t\t\t0xFF, 0x07, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0x3A,\n\t\t\t0xF7, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x3A, 0x3A,\n\t\t\t0x00, 0x00, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0xFB, 0x9F, 0x01, 0x00, 0xED, 0xED, 0xED,\n\t\t\t0x7B, 0xFB, 0xFF, 0xFF, 0x97, 0xEF, 0xBF, 0xDF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x05, 0x0F,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07,\n\t\t\t0x08, 0x09, 0x0A, 0x0B, 0x0C, 0x0D, 0x0E, 0x0F,\n\t\t\t0x41, 0x00, 0x0F, 0x00, 0x00,\n\t\t},\n\t\t{\t \n\t\t\t0xA3, 0x7F, 0x7F, 0x00, 0x85, 0x16, 0x24, 0xF5,\n\t\t\t0x00, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n\t\t\t0x03, 0x09, 0xFF, 0x80, 0x40, 0xFF, 0x00, 0xE3,\n\t\t\t0xFF,\n\t\t},\n\t\t{\t \n\t\t\t0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x02, 0x20,\n\t\t\t0x00, 0x00, 0x30, 0x40, 0x00, 0xFF, 0xBF, 0xFF,\n\t\t\t0x2E, 0x27, 0x00, 0x2b, 0x0c, 0x0F, 0xEF, 0x00,\n\t\t\t0xFe, 0x0f, 0x01, 0xC0, 0x27, 0xEF,\n\t\t},\n\t\t{\t \n\t\t\t0x55, 0xD9, 0x5D, 0xE1, 0x86, 0x1B, 0x8E, 0x26,\n\t\t\t0xDA, 0x8D, 0xDE, 0x94, 0x00, 0x00, 0x18, 0x00,\n\t\t\t0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x15, 0x03,\n\t\t},\n\t},\n};\n\nstatic struct smtcfb_screen_info smtc_scr_info;\n\nstatic char *mode_option;\n\n \nstatic void __init sm7xx_vga_setup(char *options)\n{\n\tint i;\n\n\tif (!options || !*options)\n\t\treturn;\n\n\tsmtc_scr_info.lfb_width = 0;\n\tsmtc_scr_info.lfb_height = 0;\n\tsmtc_scr_info.lfb_depth = 0;\n\n\tpr_debug(\"%s = %s\\n\", __func__, options);\n\n\tfor (i = 0; i < ARRAY_SIZE(vesa_mode_table); i++) {\n\t\tif (strstr(options, vesa_mode_table[i].index)) {\n\t\t\tsmtc_scr_info.lfb_width  = vesa_mode_table[i].lfb_width;\n\t\t\tsmtc_scr_info.lfb_height =\n\t\t\t\t\t\tvesa_mode_table[i].lfb_height;\n\t\t\tsmtc_scr_info.lfb_depth  = vesa_mode_table[i].lfb_depth;\n\t\t\treturn;\n\t\t}\n\t}\n}\n\nstatic void sm712_setpalette(int regno, unsigned int red, unsigned int green,\n\t\t\t     unsigned int blue, struct fb_info *info)\n{\n\t \n\tsmtc_seqw(0x66, (smtc_seqr(0x66) & 0xC3) | 0x10);\n\n\tsmtc_mmiowb(regno, dac_reg);\n\tsmtc_mmiowb(red >> 10, dac_val);\n\tsmtc_mmiowb(green >> 10, dac_val);\n\tsmtc_mmiowb(blue >> 10, dac_val);\n}\n\n \n\nstatic inline unsigned int chan_to_field(unsigned int chan,\n\t\t\t\t\t struct fb_bitfield *bf)\n{\n\tchan &= 0xffff;\n\tchan >>= 16 - bf->length;\n\treturn chan << bf->offset;\n}\n\nstatic int smtc_blank(int blank_mode, struct fb_info *info)\n{\n\tstruct smtcfb_info *sfb = info->par;\n\n\t \n\tswitch (blank_mode) {\n\tcase FB_BLANK_UNBLANK:\n\t\t \n\n\t\tswitch (sfb->chip_id) {\n\t\tcase 0x710:\n\t\tcase 0x712:\n\t\t\tsmtc_seqw(0x6a, 0x16);\n\t\t\tsmtc_seqw(0x6b, 0x02);\n\t\t\tbreak;\n\t\tcase 0x720:\n\t\t\tsmtc_seqw(0x6a, 0x0d);\n\t\t\tsmtc_seqw(0x6b, 0x02);\n\t\t\tbreak;\n\t\t}\n\n\t\tsmtc_seqw(0x23, (smtc_seqr(0x23) & (~0xc0)));\n\t\tsmtc_seqw(0x01, (smtc_seqr(0x01) & (~0x20)));\n\t\tsmtc_seqw(0x21, (smtc_seqr(0x21) & 0x77));\n\t\tsmtc_seqw(0x22, (smtc_seqr(0x22) & (~0x30)));\n\t\tsmtc_seqw(0x31, (smtc_seqr(0x31) | 0x03));\n\t\tsmtc_seqw(0x24, (smtc_seqr(0x24) | 0x01));\n\t\tbreak;\n\tcase FB_BLANK_NORMAL:\n\t\t \n\t\tsmtc_seqw(0x24, (smtc_seqr(0x24) | 0x01));\n\t\tsmtc_seqw(0x31, ((smtc_seqr(0x31) & (~0x07)) | 0x00));\n\t\tsmtc_seqw(0x23, (smtc_seqr(0x23) & (~0xc0)));\n\t\tsmtc_seqw(0x01, (smtc_seqr(0x01) & (~0x20)));\n\t\tsmtc_seqw(0x22, (smtc_seqr(0x22) & (~0x30)));\n\t\tsmtc_seqw(0x6a, 0x16);\n\t\tsmtc_seqw(0x6b, 0x02);\n\t\tbreak;\n\tcase FB_BLANK_VSYNC_SUSPEND:\n\t\t \n\t\tsmtc_seqw(0x24, (smtc_seqr(0x24) & (~0x01)));\n\t\tsmtc_seqw(0x31, ((smtc_seqr(0x31) & (~0x07)) | 0x00));\n\t\tsmtc_seqw(0x23, ((smtc_seqr(0x23) & (~0xc0)) | 0x20));\n\t\tsmtc_seqw(0x01, (smtc_seqr(0x01) | 0x20));\n\t\tsmtc_seqw(0x21, (smtc_seqr(0x21) | 0x88));\n\t\tsmtc_seqw(0x20, (smtc_seqr(0x20) & (~0xB0)));\n\t\tsmtc_seqw(0x22, ((smtc_seqr(0x22) & (~0x30)) | 0x20));\n\t\tsmtc_seqw(0x34, (smtc_seqr(0x34) | 0x80));\n\t\tsmtc_seqw(0x6a, 0x0c);\n\t\tsmtc_seqw(0x6b, 0x02);\n\t\tbreak;\n\tcase FB_BLANK_HSYNC_SUSPEND:\n\t\t \n\t\tsmtc_seqw(0x24, (smtc_seqr(0x24) & (~0x01)));\n\t\tsmtc_seqw(0x31, ((smtc_seqr(0x31) & (~0x07)) | 0x00));\n\t\tsmtc_seqw(0x23, ((smtc_seqr(0x23) & (~0xc0)) | 0xD8));\n\t\tsmtc_seqw(0x01, (smtc_seqr(0x01) | 0x20));\n\t\tsmtc_seqw(0x21, (smtc_seqr(0x21) | 0x88));\n\t\tsmtc_seqw(0x20, (smtc_seqr(0x20) & (~0xB0)));\n\t\tsmtc_seqw(0x22, ((smtc_seqr(0x22) & (~0x30)) | 0x10));\n\t\tsmtc_seqw(0x34, (smtc_seqr(0x34) | 0x80));\n\t\tsmtc_seqw(0x6a, 0x0c);\n\t\tsmtc_seqw(0x6b, 0x02);\n\t\tbreak;\n\tcase FB_BLANK_POWERDOWN:\n\t\t \n\t\tsmtc_seqw(0x24, (smtc_seqr(0x24) & (~0x01)));\n\t\tsmtc_seqw(0x31, ((smtc_seqr(0x31) & (~0x07)) | 0x00));\n\t\tsmtc_seqw(0x23, ((smtc_seqr(0x23) & (~0xc0)) | 0xD8));\n\t\tsmtc_seqw(0x01, (smtc_seqr(0x01) | 0x20));\n\t\tsmtc_seqw(0x21, (smtc_seqr(0x21) | 0x88));\n\t\tsmtc_seqw(0x20, (smtc_seqr(0x20) & (~0xB0)));\n\t\tsmtc_seqw(0x22, ((smtc_seqr(0x22) & (~0x30)) | 0x30));\n\t\tsmtc_seqw(0x34, (smtc_seqr(0x34) | 0x80));\n\t\tsmtc_seqw(0x6a, 0x0c);\n\t\tsmtc_seqw(0x6b, 0x02);\n\t\tbreak;\n\tdefault:\n\t\treturn -EINVAL;\n\t}\n\n\treturn 0;\n}\n\nstatic int smtc_setcolreg(unsigned int regno, unsigned int red,\n\t\t\t  unsigned int green, unsigned int blue,\n\t\t\t  unsigned int trans, struct fb_info *info)\n{\n\tstruct smtcfb_info *sfb;\n\tu32 val;\n\n\tsfb = info->par;\n\n\tif (regno > 255)\n\t\treturn 1;\n\n\tswitch (sfb->fb->fix.visual) {\n\tcase FB_VISUAL_DIRECTCOLOR:\n\tcase FB_VISUAL_TRUECOLOR:\n\t\t \n\t\tif (regno >= 16)\n\t\t\tbreak;\n\t\tif (sfb->fb->var.bits_per_pixel == 16) {\n\t\t\tu32 *pal = sfb->fb->pseudo_palette;\n\n\t\t\tval = chan_to_field(red, &sfb->fb->var.red);\n\t\t\tval |= chan_to_field(green, &sfb->fb->var.green);\n\t\t\tval |= chan_to_field(blue, &sfb->fb->var.blue);\n\t\t\tpal[regno] = pal_rgb(red, green, blue, val);\n\t\t} else {\n\t\t\tu32 *pal = sfb->fb->pseudo_palette;\n\n\t\t\tval = chan_to_field(red, &sfb->fb->var.red);\n\t\t\tval |= chan_to_field(green, &sfb->fb->var.green);\n\t\t\tval |= chan_to_field(blue, &sfb->fb->var.blue);\n\t\t\tpal[regno] = big_swap(val);\n\t\t}\n\t\tbreak;\n\n\tcase FB_VISUAL_PSEUDOCOLOR:\n\t\t \n\t\tsm712_setpalette(regno, red, green, blue, info);\n\t\tbreak;\n\n\tdefault:\n\t\treturn 1;\t \n\t}\n\n\treturn 0;\n}\n\nstatic ssize_t smtcfb_read(struct fb_info *info, char __user *buf,\n\t\t\t   size_t count, loff_t *ppos)\n{\n\tunsigned long p = *ppos;\n\n\tu32 *buffer, *dst;\n\tu32 __iomem *src;\n\tint c, i, cnt = 0, err = 0;\n\tunsigned long total_size;\n\n\tif (!info->screen_base)\n\t\treturn -ENODEV;\n\n\ttotal_size = info->screen_size;\n\n\tif (total_size == 0)\n\t\ttotal_size = info->fix.smem_len;\n\n\tif (p >= total_size)\n\t\treturn 0;\n\n\tif (count >= total_size)\n\t\tcount = total_size;\n\n\tif (count + p > total_size)\n\t\tcount = total_size - p;\n\n\tbuffer = kmalloc(PAGE_SIZE, GFP_KERNEL);\n\tif (!buffer)\n\t\treturn -ENOMEM;\n\n\tsrc = (u32 __iomem *)(info->screen_base + p);\n\n\tif (info->fbops->fb_sync)\n\t\tinfo->fbops->fb_sync(info);\n\n\twhile (count) {\n\t\tc = (count > PAGE_SIZE) ? PAGE_SIZE : count;\n\t\tdst = buffer;\n\t\tfor (i = (c + 3) >> 2; i--;) {\n\t\t\tu32 val;\n\n\t\t\tval = fb_readl(src);\n\t\t\t*dst = big_swap(val);\n\t\t\tsrc++;\n\t\t\tdst++;\n\t\t}\n\n\t\tif (copy_to_user(buf, buffer, c)) {\n\t\t\terr = -EFAULT;\n\t\t\tbreak;\n\t\t}\n\t\t*ppos += c;\n\t\tbuf += c;\n\t\tcnt += c;\n\t\tcount -= c;\n\t}\n\n\tkfree(buffer);\n\n\treturn (err) ? err : cnt;\n}\n\nstatic ssize_t smtcfb_write(struct fb_info *info, const char __user *buf,\n\t\t\t    size_t count, loff_t *ppos)\n{\n\tunsigned long p = *ppos;\n\n\tu32 *buffer, *src;\n\tu32 __iomem *dst;\n\tint c, i, cnt = 0, err = 0;\n\tunsigned long total_size;\n\n\tif (!info->screen_base)\n\t\treturn -ENODEV;\n\n\ttotal_size = info->screen_size;\n\n\tif (total_size == 0)\n\t\ttotal_size = info->fix.smem_len;\n\n\tif (p > total_size)\n\t\treturn -EFBIG;\n\n\tif (count > total_size) {\n\t\terr = -EFBIG;\n\t\tcount = total_size;\n\t}\n\n\tif (count + p > total_size) {\n\t\tif (!err)\n\t\t\terr = -ENOSPC;\n\n\t\tcount = total_size - p;\n\t}\n\n\tbuffer = kmalloc(PAGE_SIZE, GFP_KERNEL);\n\tif (!buffer)\n\t\treturn -ENOMEM;\n\n\tdst = (u32 __iomem *)(info->screen_base + p);\n\n\tif (info->fbops->fb_sync)\n\t\tinfo->fbops->fb_sync(info);\n\n\twhile (count) {\n\t\tc = (count > PAGE_SIZE) ? PAGE_SIZE : count;\n\t\tsrc = buffer;\n\n\t\tif (copy_from_user(src, buf, c)) {\n\t\t\terr = -EFAULT;\n\t\t\tbreak;\n\t\t}\n\n\t\tfor (i = (c + 3) >> 2; i--;) {\n\t\t\tfb_writel(big_swap(*src), dst);\n\t\t\tdst++;\n\t\t\tsrc++;\n\t\t}\n\n\t\t*ppos += c;\n\t\tbuf += c;\n\t\tcnt += c;\n\t\tcount -= c;\n\t}\n\n\tkfree(buffer);\n\n\treturn (cnt) ? cnt : err;\n}\n\nstatic void sm7xx_set_timing(struct smtcfb_info *sfb)\n{\n\tint i = 0, j = 0;\n\tu32 m_nscreenstride;\n\n\tdev_dbg(&sfb->pdev->dev,\n\t\t\"sfb->width=%d sfb->height=%d sfb->fb->var.bits_per_pixel=%d sfb->hz=%d\\n\",\n\t\tsfb->width, sfb->height, sfb->fb->var.bits_per_pixel, sfb->hz);\n\n\tfor (j = 0; j < ARRAY_SIZE(vgamode); j++) {\n\t\tif (vgamode[j].mmsizex != sfb->width ||\n\t\t    vgamode[j].mmsizey != sfb->height ||\n\t\t    vgamode[j].bpp != sfb->fb->var.bits_per_pixel ||\n\t\t    vgamode[j].hz != sfb->hz)\n\t\t\tcontinue;\n\n\t\tdev_dbg(&sfb->pdev->dev,\n\t\t\t\"vgamode[j].mmsizex=%d vgamode[j].mmSizeY=%d vgamode[j].bpp=%d vgamode[j].hz=%d\\n\",\n\t\t\tvgamode[j].mmsizex, vgamode[j].mmsizey,\n\t\t\tvgamode[j].bpp, vgamode[j].hz);\n\n\t\tdev_dbg(&sfb->pdev->dev, \"vgamode index=%d\\n\", j);\n\n\t\tsmtc_mmiowb(0x0, 0x3c6);\n\n\t\tsmtc_seqw(0, 0x1);\n\n\t\tsmtc_mmiowb(vgamode[j].init_misc, 0x3c2);\n\n\t\t \n\t\tfor (i = 0; i < SIZE_SR00_SR04; i++)\n\t\t\tsmtc_seqw(i, vgamode[j].init_sr00_sr04[i]);\n\n\t\t \n\t\tfor (i = 0; i < SIZE_SR10_SR24; i++)\n\t\t\tsmtc_seqw(i + 0x10, vgamode[j].init_sr10_sr24[i]);\n\n\t\t \n\t\tfor (i = 0; i < SIZE_SR30_SR75; i++)\n\t\t\tif ((i + 0x30) != 0x30 && (i + 0x30) != 0x62 &&\n\t\t\t    (i + 0x30) != 0x6a && (i + 0x30) != 0x6b &&\n\t\t\t    (i + 0x30) != 0x70 && (i + 0x30) != 0x71 &&\n\t\t\t    (i + 0x30) != 0x74 && (i + 0x30) != 0x75)\n\t\t\t\tsmtc_seqw(i + 0x30,\n\t\t\t\t\t  vgamode[j].init_sr30_sr75[i]);\n\n\t\t \n\t\tfor (i = 0; i < SIZE_SR80_SR93; i++)\n\t\t\tsmtc_seqw(i + 0x80, vgamode[j].init_sr80_sr93[i]);\n\n\t\t \n\t\tfor (i = 0; i < SIZE_SRA0_SRAF; i++)\n\t\t\tsmtc_seqw(i + 0xa0, vgamode[j].init_sra0_sraf[i]);\n\n\t\t \n\t\tfor (i = 0; i < SIZE_GR00_GR08; i++)\n\t\t\tsmtc_grphw(i, vgamode[j].init_gr00_gr08[i]);\n\n\t\t \n\t\tfor (i = 0; i < SIZE_AR00_AR14; i++)\n\t\t\tsmtc_attrw(i, vgamode[j].init_ar00_ar14[i]);\n\n\t\t \n\t\tfor (i = 0; i < SIZE_CR00_CR18; i++)\n\t\t\tsmtc_crtcw(i, vgamode[j].init_cr00_cr18[i]);\n\n\t\t \n\t\tfor (i = 0; i < SIZE_CR30_CR4D; i++) {\n\t\t\tif ((i + 0x30) >= 0x3B && (i + 0x30) <= 0x3F)\n\t\t\t\t \n\t\t\t\tcontinue;\n\t\t\tsmtc_crtcw(i + 0x30, vgamode[j].init_cr30_cr4d[i]);\n\t\t}\n\n\t\t \n\t\tfor (i = 0; i < SIZE_CR90_CRA7; i++)\n\t\t\tsmtc_crtcw(i + 0x90, vgamode[j].init_cr90_cra7[i]);\n\t}\n\tsmtc_mmiowb(0x67, 0x3c2);\n\n\t \n\twritel(0x0, sfb->vp_regs + 0x0C);\n\twritel(0x0, sfb->vp_regs + 0x40);\n\n\t \n\tm_nscreenstride = (sfb->width * sfb->fb->var.bits_per_pixel) / 64;\n\tswitch (sfb->fb->var.bits_per_pixel) {\n\tcase 8:\n\t\twritel(0x0, sfb->vp_regs + 0x0);\n\t\tbreak;\n\tcase 16:\n\t\twritel(0x00020000, sfb->vp_regs + 0x0);\n\t\tbreak;\n\tcase 24:\n\t\twritel(0x00040000, sfb->vp_regs + 0x0);\n\t\tbreak;\n\tcase 32:\n\t\twritel(0x00030000, sfb->vp_regs + 0x0);\n\t\tbreak;\n\t}\n\twritel((u32)(((m_nscreenstride + 2) << 16) | m_nscreenstride),\n\t       sfb->vp_regs + 0x10);\n}\n\nstatic void smtc_set_timing(struct smtcfb_info *sfb)\n{\n\tswitch (sfb->chip_id) {\n\tcase 0x710:\n\tcase 0x712:\n\tcase 0x720:\n\t\tsm7xx_set_timing(sfb);\n\t\tbreak;\n\t}\n}\n\nstatic void smtcfb_setmode(struct smtcfb_info *sfb)\n{\n\tswitch (sfb->fb->var.bits_per_pixel) {\n\tcase 32:\n\t\tsfb->fb->fix.visual       = FB_VISUAL_TRUECOLOR;\n\t\tsfb->fb->fix.line_length  = sfb->fb->var.xres * 4;\n\t\tsfb->fb->var.red.length   = 8;\n\t\tsfb->fb->var.green.length = 8;\n\t\tsfb->fb->var.blue.length  = 8;\n\t\tsfb->fb->var.red.offset   = 16;\n\t\tsfb->fb->var.green.offset = 8;\n\t\tsfb->fb->var.blue.offset  = 0;\n\t\tbreak;\n\tcase 24:\n\t\tsfb->fb->fix.visual       = FB_VISUAL_TRUECOLOR;\n\t\tsfb->fb->fix.line_length  = sfb->fb->var.xres * 3;\n\t\tsfb->fb->var.red.length   = 8;\n\t\tsfb->fb->var.green.length = 8;\n\t\tsfb->fb->var.blue.length  = 8;\n\t\tsfb->fb->var.red.offset   = 16;\n\t\tsfb->fb->var.green.offset = 8;\n\t\tsfb->fb->var.blue.offset  = 0;\n\t\tbreak;\n\tcase 8:\n\t\tsfb->fb->fix.visual       = FB_VISUAL_PSEUDOCOLOR;\n\t\tsfb->fb->fix.line_length  = sfb->fb->var.xres;\n\t\tsfb->fb->var.red.length   = 3;\n\t\tsfb->fb->var.green.length = 3;\n\t\tsfb->fb->var.blue.length  = 2;\n\t\tsfb->fb->var.red.offset   = 5;\n\t\tsfb->fb->var.green.offset = 2;\n\t\tsfb->fb->var.blue.offset  = 0;\n\t\tbreak;\n\tcase 16:\n\tdefault:\n\t\tsfb->fb->fix.visual       = FB_VISUAL_TRUECOLOR;\n\t\tsfb->fb->fix.line_length  = sfb->fb->var.xres * 2;\n\t\tsfb->fb->var.red.length   = 5;\n\t\tsfb->fb->var.green.length = 6;\n\t\tsfb->fb->var.blue.length  = 5;\n\t\tsfb->fb->var.red.offset   = 11;\n\t\tsfb->fb->var.green.offset = 5;\n\t\tsfb->fb->var.blue.offset  = 0;\n\t\tbreak;\n\t}\n\n\tsfb->width  = sfb->fb->var.xres;\n\tsfb->height = sfb->fb->var.yres;\n\tsfb->hz = 60;\n\tsmtc_set_timing(sfb);\n}\n\nstatic int smtc_check_var(struct fb_var_screeninfo *var, struct fb_info *info)\n{\n\t \n\tif (var->xres_virtual < var->xres)\n\t\tvar->xres_virtual = var->xres;\n\n\tif (var->yres_virtual < var->yres)\n\t\tvar->yres_virtual = var->yres;\n\n\t \n\tif ((var->bits_per_pixel != 8)  && (var->bits_per_pixel != 16) &&\n\t    (var->bits_per_pixel != 24) && (var->bits_per_pixel != 32))\n\t\tvar->bits_per_pixel = 16;\n\n\treturn 0;\n}\n\nstatic int smtc_set_par(struct fb_info *info)\n{\n\tsmtcfb_setmode(info->par);\n\n\treturn 0;\n}\n\nstatic const struct fb_ops smtcfb_ops = {\n\t.owner        = THIS_MODULE,\n\t.fb_check_var = smtc_check_var,\n\t.fb_set_par   = smtc_set_par,\n\t.fb_setcolreg = smtc_setcolreg,\n\t.fb_blank     = smtc_blank,\n\t.fb_fillrect  = cfb_fillrect,\n\t.fb_imageblit = cfb_imageblit,\n\t.fb_copyarea  = cfb_copyarea,\n\t.fb_read      = smtcfb_read,\n\t.fb_write     = smtcfb_write,\n};\n\n \n\nstatic void smtc_unmap_mmio(struct smtcfb_info *sfb)\n{\n\tif (sfb && smtc_regbaseaddress)\n\t\tsmtc_regbaseaddress = NULL;\n}\n\n \n\nstatic int smtc_map_smem(struct smtcfb_info *sfb,\n\t\t\t struct pci_dev *pdev, u_long smem_len)\n{\n\tsfb->fb->fix.smem_start = pci_resource_start(pdev, 0);\n\n\tif (sfb->chip_id == 0x720)\n\t\t \n\t\tsfb->fb->fix.smem_start += 0x00200000;\n\n\t \n\tif (sfb->fb->var.bits_per_pixel == 32)\n\t\tsfb->fb->fix.smem_start += big_addr;\n\n\tsfb->fb->fix.smem_len = smem_len;\n\n\tsfb->fb->screen_base = sfb->lfb;\n\n\tif (!sfb->fb->screen_base) {\n\t\tdev_err(&pdev->dev,\n\t\t\t\"%s: unable to map screen memory\\n\", sfb->fb->fix.id);\n\t\treturn -ENOMEM;\n\t}\n\n\treturn 0;\n}\n\n \nstatic void smtc_unmap_smem(struct smtcfb_info *sfb)\n{\n\tif (sfb && sfb->fb->screen_base) {\n\t\tif (sfb->chip_id == 0x720)\n\t\t\tsfb->fb->screen_base -= 0x00200000;\n\t\tiounmap(sfb->fb->screen_base);\n\t\tsfb->fb->screen_base = NULL;\n\t}\n}\n\n \nstatic inline void sm7xx_init_hw(void)\n{\n\toutb_p(0x18, 0x3c4);\n\toutb_p(0x11, 0x3c5);\n}\n\nstatic u_long sm7xx_vram_probe(struct smtcfb_info *sfb)\n{\n\tu8 vram;\n\n\tswitch (sfb->chip_id) {\n\tcase 0x710:\n\tcase 0x712:\n\t\t \n\t\treturn 0x00400000;\n\tcase 0x720:\n\t\toutb_p(0x76, 0x3c4);\n\t\tvram = inb_p(0x3c5) >> 6;\n\n\t\tif (vram == 0x00)\n\t\t\treturn 0x00800000;   \n\t\telse if (vram == 0x01)\n\t\t\treturn 0x01000000;   \n\t\telse if (vram == 0x02)\n\t\t\treturn 0x00400000;   \n\t\telse if (vram == 0x03)\n\t\t\treturn 0x00400000;   \n\t}\n\treturn 0;   \n}\n\nstatic void sm7xx_resolution_probe(struct smtcfb_info *sfb)\n{\n\t \n\tif (smtc_scr_info.lfb_width != 0) {\n\t\tsfb->fb->var.xres = smtc_scr_info.lfb_width;\n\t\tsfb->fb->var.yres = smtc_scr_info.lfb_height;\n\t\tsfb->fb->var.bits_per_pixel = smtc_scr_info.lfb_depth;\n\t\tgoto final;\n\t}\n\n\t \n\tsfb->fb->var.xres = SCREEN_X_RES;\n\tsfb->fb->var.yres = SCREEN_Y_RES_PC;\n\tsfb->fb->var.bits_per_pixel = SCREEN_BPP;\n\n#ifdef CONFIG_MIPS\n\t \n\tsfb->fb->var.yres = SCREEN_Y_RES_NETBOOK;\n#endif\n\nfinal:\n\tbig_pixel_depth(sfb->fb->var.bits_per_pixel, smtc_scr_info.lfb_depth);\n}\n\nstatic int smtcfb_pci_probe(struct pci_dev *pdev,\n\t\t\t    const struct pci_device_id *ent)\n{\n\tstruct smtcfb_info *sfb;\n\tstruct fb_info *info;\n\tu_long smem_size;\n\tint err;\n\tunsigned long mmio_base;\n\n\tdev_info(&pdev->dev, \"Silicon Motion display driver.\\n\");\n\n\terr = aperture_remove_conflicting_pci_devices(pdev, \"smtcfb\");\n\tif (err)\n\t\treturn err;\n\n\terr = pci_enable_device(pdev);\t \n\tif (err)\n\t\treturn err;\n\n\terr = pci_request_region(pdev, 0, \"sm7xxfb\");\n\tif (err < 0) {\n\t\tdev_err(&pdev->dev, \"cannot reserve framebuffer region\\n\");\n\t\tgoto failed_regions;\n\t}\n\n\tsprintf(smtcfb_fix.id, \"sm%Xfb\", ent->device);\n\n\tinfo = framebuffer_alloc(sizeof(*sfb), &pdev->dev);\n\tif (!info) {\n\t\terr = -ENOMEM;\n\t\tgoto failed_free;\n\t}\n\n\tsfb = info->par;\n\tsfb->fb = info;\n\tsfb->chip_id = ent->device;\n\tsfb->pdev = pdev;\n\tinfo->fbops = &smtcfb_ops;\n\tinfo->fix = smtcfb_fix;\n\tinfo->var = smtcfb_var;\n\tinfo->pseudo_palette = sfb->colreg;\n\tinfo->par = sfb;\n\n\tpci_set_drvdata(pdev, sfb);\n\n\tsm7xx_init_hw();\n\n\t \n\tmmio_base = pci_resource_start(pdev, 0);\n\tpci_read_config_byte(pdev, PCI_REVISION_ID, &sfb->chip_rev_id);\n\n\tsmem_size = sm7xx_vram_probe(sfb);\n\tdev_info(&pdev->dev, \"%lu MiB of VRAM detected.\\n\",\n\t\t\t\t\tsmem_size / 1048576);\n\n\tswitch (sfb->chip_id) {\n\tcase 0x710:\n\tcase 0x712:\n\t\tsfb->fb->fix.mmio_start = mmio_base + 0x00400000;\n\t\tsfb->fb->fix.mmio_len = 0x00400000;\n\t\tsfb->lfb = ioremap(mmio_base, mmio_addr);\n\t\tif (!sfb->lfb) {\n\t\t\tdev_err(&pdev->dev,\n\t\t\t\t\"%s: unable to map memory mapped IO!\\n\",\n\t\t\t\tsfb->fb->fix.id);\n\t\t\terr = -ENOMEM;\n\t\t\tgoto failed_fb;\n\t\t}\n\n\t\tsfb->mmio = (smtc_regbaseaddress =\n\t\t    sfb->lfb + 0x00700000);\n\t\tsfb->dp_regs = sfb->lfb + 0x00408000;\n\t\tsfb->vp_regs = sfb->lfb + 0x0040c000;\n\t\tif (sfb->fb->var.bits_per_pixel == 32) {\n\t\t\tsfb->lfb += big_addr;\n\t\t\tdev_info(&pdev->dev, \"sfb->lfb=%p\\n\", sfb->lfb);\n\t\t}\n\n\t\t \n\t\tsmtc_seqw(0x6a, 0x16);\n\t\tsmtc_seqw(0x6b, 0x02);\n\t\tsmtc_seqw(0x62, 0x3e);\n\t\t \n\t\tsmtc_seqw(0x17, 0x20);\n\t\t \n\t\tif (sfb->fb->var.bits_per_pixel == 32)\n\t\t\tseqw17();\n\t\tbreak;\n\tcase 0x720:\n\t\tsfb->fb->fix.mmio_start = mmio_base;\n\t\tsfb->fb->fix.mmio_len = 0x00200000;\n\t\tsfb->dp_regs = ioremap(mmio_base, 0x00200000 + smem_size);\n\t\tif (!sfb->dp_regs) {\n\t\t\tdev_err(&pdev->dev,\n\t\t\t\t\"%s: unable to map memory mapped IO!\\n\",\n\t\t\t\tsfb->fb->fix.id);\n\t\t\terr = -ENOMEM;\n\t\t\tgoto failed_fb;\n\t\t}\n\n\t\tsfb->lfb = sfb->dp_regs + 0x00200000;\n\t\tsfb->mmio = (smtc_regbaseaddress =\n\t\t    sfb->dp_regs + 0x000c0000);\n\t\tsfb->vp_regs = sfb->dp_regs + 0x800;\n\n\t\tsmtc_seqw(0x62, 0xff);\n\t\tsmtc_seqw(0x6a, 0x0d);\n\t\tsmtc_seqw(0x6b, 0x02);\n\t\tbreak;\n\tdefault:\n\t\tdev_err(&pdev->dev,\n\t\t\t\"No valid Silicon Motion display chip was detected!\\n\");\n\t\terr = -ENODEV;\n\t\tgoto failed_fb;\n\t}\n\n\t \n\tsm7xx_resolution_probe(sfb);\n\n\t \n\tif (sfb->fb->var.bits_per_pixel == 15)\n\t\tsfb->fb->var.bits_per_pixel = 16;\n\n\tsfb->fb->var.xres_virtual = sfb->fb->var.xres;\n\tsfb->fb->var.yres_virtual = sfb->fb->var.yres;\n\terr = smtc_map_smem(sfb, pdev, smem_size);\n\tif (err)\n\t\tgoto failed;\n\n\t \n\tmemset_io(sfb->lfb, 0, sfb->fb->fix.smem_len);\n\n\terr = register_framebuffer(info);\n\tif (err < 0)\n\t\tgoto failed;\n\n\tdev_info(&pdev->dev,\n\t\t \"Silicon Motion SM%X Rev%X primary display mode %dx%d-%d Init Complete.\\n\",\n\t\t sfb->chip_id, sfb->chip_rev_id, sfb->fb->var.xres,\n\t\t sfb->fb->var.yres, sfb->fb->var.bits_per_pixel);\n\n\treturn 0;\n\nfailed:\n\tdev_err(&pdev->dev, \"Silicon Motion, Inc. primary display init fail.\\n\");\n\n\tsmtc_unmap_smem(sfb);\n\tsmtc_unmap_mmio(sfb);\nfailed_fb:\n\tframebuffer_release(info);\n\nfailed_free:\n\tpci_release_region(pdev, 0);\n\nfailed_regions:\n\tpci_disable_device(pdev);\n\n\treturn err;\n}\n\n \nstatic const struct pci_device_id smtcfb_pci_table[] = {\n\t{ PCI_DEVICE(0x126f, 0x710), },\n\t{ PCI_DEVICE(0x126f, 0x712), },\n\t{ PCI_DEVICE(0x126f, 0x720), },\n\t{0,}\n};\n\nMODULE_DEVICE_TABLE(pci, smtcfb_pci_table);\n\nstatic void smtcfb_pci_remove(struct pci_dev *pdev)\n{\n\tstruct smtcfb_info *sfb;\n\n\tsfb = pci_get_drvdata(pdev);\n\tsmtc_unmap_smem(sfb);\n\tsmtc_unmap_mmio(sfb);\n\tunregister_framebuffer(sfb->fb);\n\tframebuffer_release(sfb->fb);\n\tpci_release_region(pdev, 0);\n\tpci_disable_device(pdev);\n}\n\nstatic int __maybe_unused smtcfb_pci_suspend(struct device *device)\n{\n\tstruct smtcfb_info *sfb = dev_get_drvdata(device);\n\n\n\t \n\tsmtc_seqw(0x20, (smtc_seqr(0x20) | 0xc0));\n\tsmtc_seqw(0x69, (smtc_seqr(0x69) & 0xf7));\n\n\tconsole_lock();\n\tfb_set_suspend(sfb->fb, 1);\n\tconsole_unlock();\n\n\t \n\tsmtc_seqw(0x21, 0xff);\n\n\treturn 0;\n}\n\nstatic int __maybe_unused smtcfb_pci_resume(struct device *device)\n{\n\tstruct smtcfb_info *sfb = dev_get_drvdata(device);\n\n\n\t \n\tsm7xx_init_hw();\n\tswitch (sfb->chip_id) {\n\tcase 0x710:\n\tcase 0x712:\n\t\t \n\t\tsmtc_seqw(0x6a, 0x16);\n\t\tsmtc_seqw(0x6b, 0x02);\n\t\tsmtc_seqw(0x62, 0x3e);\n\t\t \n\t\tsmtc_seqw(0x17, 0x20);\n\t\tif (sfb->fb->var.bits_per_pixel == 32)\n\t\t\tseqw17();\n\t\tbreak;\n\tcase 0x720:\n\t\tsmtc_seqw(0x62, 0xff);\n\t\tsmtc_seqw(0x6a, 0x0d);\n\t\tsmtc_seqw(0x6b, 0x02);\n\t\tbreak;\n\t}\n\n\tsmtc_seqw(0x34, (smtc_seqr(0x34) | 0xc0));\n\tsmtc_seqw(0x33, ((smtc_seqr(0x33) | 0x08) & 0xfb));\n\n\tsmtcfb_setmode(sfb);\n\n\tconsole_lock();\n\tfb_set_suspend(sfb->fb, 0);\n\tconsole_unlock();\n\n\treturn 0;\n}\n\nstatic SIMPLE_DEV_PM_OPS(sm7xx_pm_ops, smtcfb_pci_suspend, smtcfb_pci_resume);\n\nstatic struct pci_driver smtcfb_driver = {\n\t.name = \"smtcfb\",\n\t.id_table = smtcfb_pci_table,\n\t.probe = smtcfb_pci_probe,\n\t.remove = smtcfb_pci_remove,\n\t.driver.pm  = &sm7xx_pm_ops,\n};\n\nstatic int __init sm712fb_init(void)\n{\n\tchar *option = NULL;\n\n\tif (fb_modesetting_disabled(\"sm712fb\"))\n\t\treturn -ENODEV;\n\n\tif (fb_get_options(\"sm712fb\", &option))\n\t\treturn -ENODEV;\n\tif (option && *option)\n\t\tmode_option = option;\n\tsm7xx_vga_setup(mode_option);\n\n\treturn pci_register_driver(&smtcfb_driver);\n}\n\nmodule_init(sm712fb_init);\n\nstatic void __exit sm712fb_exit(void)\n{\n\tpci_unregister_driver(&smtcfb_driver);\n}\n\nmodule_exit(sm712fb_exit);\n\nMODULE_AUTHOR(\"Siliconmotion \");\nMODULE_DESCRIPTION(\"Framebuffer driver for SMI Graphic Cards\");\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}