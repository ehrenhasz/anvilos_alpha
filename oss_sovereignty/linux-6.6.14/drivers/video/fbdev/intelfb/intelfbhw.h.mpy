{
  "module_name": "intelfbhw.h",
  "hash_id": "9835af876eb954e450a11b4b4dccf96760d08ed6f0454b47b77ab4ed0cc74a64",
  "original_prompt": "Ingested from linux-6.6.14/drivers/video/fbdev/intelfb/intelfbhw.h",
  "human_readable_source": "#ifndef _INTELFBHW_H\n#define _INTELFBHW_H\n\n \n\n\n \n\n \n#define INTEL_85X_CAPID\t\t0x44\n#define INTEL_85X_VARIANT_MASK\t\t0x7\n#define INTEL_85X_VARIANT_SHIFT\t\t5\n#define INTEL_VAR_855GME\t\t0x0\n#define INTEL_VAR_855GM\t\t\t0x4\n#define INTEL_VAR_852GME\t\t0x2\n#define INTEL_VAR_852GM\t\t\t0x5\n\n \n#define DVOA_PORT  0x1\n#define DVOB_PORT  0x2\n#define DVOC_PORT  0x4\n#define LVDS_PORT  0x8\n\n \n#define INTEL_GMCH_CTRL\t\t0x52\n#define INTEL_GMCH_ENABLED\t\t0x4\n#define INTEL_GMCH_MEM_MASK\t\t0x1\n#define INTEL_GMCH_MEM_64M\t\t0x1\n#define INTEL_GMCH_MEM_128M\t\t0\n\n#define INTEL_830_GMCH_GMS_MASK\t\t(0x7 << 4)\n#define INTEL_830_GMCH_GMS_DISABLED\t(0x0 << 4)\n#define INTEL_830_GMCH_GMS_LOCAL\t(0x1 << 4)\n#define INTEL_830_GMCH_GMS_STOLEN_512\t(0x2 << 4)\n#define INTEL_830_GMCH_GMS_STOLEN_1024\t(0x3 << 4)\n#define INTEL_830_GMCH_GMS_STOLEN_8192\t(0x4 << 4)\n\n#define INTEL_855_GMCH_GMS_MASK\t\t(0x7 << 4)\n#define INTEL_855_GMCH_GMS_DISABLED\t(0x0 << 4)\n#define INTEL_855_GMCH_GMS_STOLEN_1M\t(0x1 << 4)\n#define INTEL_855_GMCH_GMS_STOLEN_4M\t(0x2 << 4)\n#define INTEL_855_GMCH_GMS_STOLEN_8M\t(0x3 << 4)\n#define INTEL_855_GMCH_GMS_STOLEN_16M\t(0x4 << 4)\n#define INTEL_855_GMCH_GMS_STOLEN_32M\t(0x5 << 4)\n\n#define INTEL_915G_GMCH_GMS_STOLEN_48M\t(0x6 << 4)\n#define INTEL_915G_GMCH_GMS_STOLEN_64M\t(0x7 << 4)\n\n \n\n \n#define FENCE\t\t\t0x2000\n#define FENCE_NUM\t\t\t8\n\n \n#define PRI_RING_TAIL\t\t0x2030\n#define RING_TAIL_MASK\t\t\t0x001ffff8\n#define RING_INUSE\t\t\t0x1\n\n#define PRI_RING_HEAD\t\t0x2034\n#define RING_HEAD_WRAP_MASK\t\t0x7ff\n#define RING_HEAD_WRAP_SHIFT\t\t21\n#define RING_HEAD_MASK\t\t\t0x001ffffc\n\n#define PRI_RING_START\t\t0x2038\n#define RING_START_MASK\t\t\t0xfffff000\n\n#define PRI_RING_LENGTH\t\t0x203c\n#define RING_LENGTH_MASK\t\t0x001ff000\n#define RING_REPORT_MASK\t\t(0x3 << 1)\n#define RING_NO_REPORT\t\t\t(0x0 << 1)\n#define RING_REPORT_64K\t\t\t(0x1 << 1)\n#define RING_REPORT_4K\t\t\t(0x2 << 1)\n#define RING_REPORT_128K\t\t(0x3 << 1)\n#define RING_ENABLE\t\t\t0x1\n\n \n#define RING_MIN_FREE\t\t\t64\n\n#define IPEHR\t\t\t0x2088\n\n#define INSTDONE\t\t0x2090\n#define PRI_RING_EMPTY\t\t\t1\n\n#define HWSTAM\t\t\t0x2098\n#define IER\t\t\t0x20A0\n#define IIR\t\t\t0x20A4\n#define IMR\t\t\t0x20A8\n#define VSYNC_PIPE_A_INTERRUPT\t\t(1 << 7)\n#define PIPE_A_EVENT_INTERRUPT\t\t(1 << 6)\n#define VSYNC_PIPE_B_INTERRUPT\t\t(1 << 5)\n#define PIPE_B_EVENT_INTERRUPT\t\t(1 << 4)\n#define HOST_PORT_EVENT_INTERRUPT\t(1 << 3)\n#define CAPTURE_EVENT_INTERRUPT\t\t(1 << 2)\n#define USER_DEFINED_INTERRUPT\t\t(1 << 1)\n#define BREAKPOINT_INTERRUPT\t\t1\n\n#define INSTPM\t\t\t0x20c0\n#define SYNC_FLUSH_ENABLE\t\t(1 << 5)\n\n#define INSTPS\t\t\t0x20c4\n\n#define MEM_MODE\t\t0x20cc\n\n#define MASK_SHIFT\t\t\t16\n\n#define FW_BLC_0\t\t0x20d8\n#define FW_DISPA_WM_SHIFT\t\t0\n#define FW_DISPA_WM_MASK\t\t0x3f\n#define FW_DISPA_BL_SHIFT\t\t8\n#define FW_DISPA_BL_MASK\t\t0xf\n#define FW_DISPB_WM_SHIFT\t\t16\n#define FW_DISPB_WM_MASK\t\t0x1f\n#define FW_DISPB_BL_SHIFT\t\t24\n#define FW_DISPB_BL_MASK\t\t0x7\n\n#define FW_BLC_1\t\t0x20dc\n#define FW_DISPC_WM_SHIFT\t\t0\n#define FW_DISPC_WM_MASK\t\t0x1f\n#define FW_DISPC_BL_SHIFT\t\t8\n#define FW_DISPC_BL_MASK\t\t0x7\n\n#define GPIOA             0x5010\n#define GPIOB             0x5014\n#define GPIOC             0x5018  \n#define GPIOD             0x501C  \n#define GPIOE             0x5020  \n#define GPIOF             0x5024\n\n \n#define VGA0_DIVISOR\t\t0x06000\n#define VGA1_DIVISOR\t\t0x06004\n#define VGAPD\t\t\t0x06010\n#define VGAPD_0_P1_SHIFT\t\t0\n#define VGAPD_0_P1_FORCE_DIV2\t\t(1 << 5)\n#define VGAPD_0_P2_SHIFT\t\t7\n#define VGAPD_1_P1_SHIFT\t\t8\n#define VGAPD_1_P1_FORCE_DIV2\t\t(1 << 13)\n#define VGAPD_1_P2_SHIFT\t\t15\n\n#define DPLL_A\t\t\t0x06014\n#define DPLL_B\t\t\t0x06018\n#define DPLL_VCO_ENABLE\t\t\t(1 << 31)\n#define DPLL_2X_CLOCK_ENABLE\t\t(1 << 30)\n#define DPLL_SYNCLOCK_ENABLE\t\t(1 << 29)\n#define DPLL_VGA_MODE_DISABLE\t\t(1 << 28)\n#define DPLL_P2_MASK\t\t\t1\n#define DPLL_P2_SHIFT\t\t\t23\n#define DPLL_I9XX_P2_SHIFT              24\n#define DPLL_P1_FORCE_DIV2\t\t(1 << 21)\n#define DPLL_P1_MASK\t\t\t0x1f\n#define DPLL_P1_SHIFT\t\t\t16\n#define DPLL_REFERENCE_SELECT_MASK\t(0x3 << 13)\n#define DPLL_REFERENCE_DEFAULT\t\t(0x0 << 13)\n#define DPLL_REFERENCE_TVCLK\t\t(0x2 << 13)\n#define DPLL_RATE_SELECT_MASK\t\t(1 << 8)\n#define DPLL_RATE_SELECT_FP0\t\t(0 << 8)\n#define DPLL_RATE_SELECT_FP1\t\t(1 << 8)\n\n#define FPA0\t\t\t0x06040\n#define FPA1\t\t\t0x06044\n#define FPB0\t\t\t0x06048\n#define FPB1\t\t\t0x0604c\n#define FP_DIVISOR_MASK\t\t\t0x3f\n#define FP_N_DIVISOR_SHIFT\t\t16\n#define FP_M1_DIVISOR_SHIFT\t\t8\n#define FP_M2_DIVISOR_SHIFT\t\t0\n\n \n \n#define PLL_REFCLK\t\t48000\n#define MIN_CLOCK\t\t25000\n#define MAX_CLOCK\t\t350000\n\n \n#define PIPE_A\t\t\t0\n#define PIPE_B\t\t\t1\n#define PIPE_MASK\t\t1\n\n \n#define PALETTE_A\t\t0x0a000\n#define PALETTE_B\t\t0x0a800\n#ifndef PALETTE_8_ENTRIES\n#define PALETTE_8_ENTRIES\t\t256\n#endif\n#define PALETTE_8_SIZE\t\t\t(PALETTE_8_ENTRIES * 4)\n#define PALETTE_10_ENTRIES\t\t128\n#define PALETTE_10_SIZE\t\t\t(PALETTE_10_ENTRIES * 8)\n#define PALETTE_8_MASK\t\t\t0xff\n#define PALETTE_8_RED_SHIFT\t\t16\n#define PALETTE_8_GREEN_SHIFT\t\t8\n#define PALETTE_8_BLUE_SHIFT\t\t0\n\n \n#define HTOTAL_A\t\t0x60000\n#define HBLANK_A\t\t0x60004\n#define HSYNC_A\t\t\t0x60008\n#define VTOTAL_A\t\t0x6000c\n#define VBLANK_A\t\t0x60010\n#define VSYNC_A\t\t\t0x60014\n#define SRC_SIZE_A\t\t0x6001c\n#define BCLRPAT_A\t\t0x60020\n\n#define HTOTAL_B\t\t0x61000\n#define HBLANK_B\t\t0x61004\n#define HSYNC_B\t\t\t0x61008\n#define VTOTAL_B\t\t0x6100c\n#define VBLANK_B\t\t0x61010\n#define VSYNC_B\t\t\t0x61014\n#define SRC_SIZE_B\t\t0x6101c\n#define BCLRPAT_B\t\t0x61020\n\n#define HTOTAL_MASK\t\t\t0xfff\n#define HTOTAL_SHIFT\t\t\t16\n#define HACTIVE_MASK\t\t\t0x7ff\n#define HACTIVE_SHIFT\t\t\t0\n#define HBLANKEND_MASK\t\t\t0xfff\n#define HBLANKEND_SHIFT\t\t\t16\n#define HBLANKSTART_MASK\t\t0xfff\n#define HBLANKSTART_SHIFT\t\t0\n#define HSYNCEND_MASK\t\t\t0xfff\n#define HSYNCEND_SHIFT\t\t\t16\n#define HSYNCSTART_MASK\t\t\t0xfff\n#define HSYNCSTART_SHIFT\t\t0\n#define VTOTAL_MASK\t\t\t0xfff\n#define VTOTAL_SHIFT\t\t\t16\n#define VACTIVE_MASK\t\t\t0x7ff\n#define VACTIVE_SHIFT\t\t\t0\n#define VBLANKEND_MASK\t\t\t0xfff\n#define VBLANKEND_SHIFT\t\t\t16\n#define VBLANKSTART_MASK\t\t0xfff\n#define VBLANKSTART_SHIFT\t\t0\n#define VSYNCEND_MASK\t\t\t0xfff\n#define VSYNCEND_SHIFT\t\t\t16\n#define VSYNCSTART_MASK\t\t\t0xfff\n#define VSYNCSTART_SHIFT\t\t0\n#define SRC_SIZE_HORIZ_MASK\t\t0x7ff\n#define SRC_SIZE_HORIZ_SHIFT\t\t16\n#define SRC_SIZE_VERT_MASK\t\t0x7ff\n#define SRC_SIZE_VERT_SHIFT\t\t0\n\n#define ADPA\t\t\t0x61100\n#define ADPA_DAC_ENABLE\t\t\t(1 << 31)\n#define ADPA_DAC_DISABLE\t\t0\n#define ADPA_PIPE_SELECT_SHIFT\t\t30\n#define ADPA_USE_VGA_HVPOLARITY\t\t(1 << 15)\n#define ADPA_SETS_HVPOLARITY\t\t0\n#define ADPA_DPMS_CONTROL_MASK\t\t(0x3 << 10)\n#define ADPA_DPMS_D0\t\t\t(0x0 << 10)\n#define ADPA_DPMS_D2\t\t\t(0x1 << 10)\n#define ADPA_DPMS_D1\t\t\t(0x2 << 10)\n#define ADPA_DPMS_D3\t\t\t(0x3 << 10)\n#define ADPA_VSYNC_ACTIVE_SHIFT\t\t4\n#define ADPA_HSYNC_ACTIVE_SHIFT\t\t3\n#define ADPA_SYNC_ACTIVE_MASK\t\t1\n#define ADPA_SYNC_ACTIVE_HIGH\t\t1\n#define ADPA_SYNC_ACTIVE_LOW\t\t0\n\n#define DVOA\t\t\t0x61120\n#define DVOB\t\t\t0x61140\n#define DVOC\t\t\t0x61160\n#define LVDS\t\t\t0x61180\n#define PORT_ENABLE\t\t        (1 << 31)\n#define PORT_PIPE_SELECT_SHIFT\t        30\n#define PORT_TV_FLAGS_MASK              0xFF\n#define PORT_TV_FLAGS                   0xC4\t \n\n#define DVOA_SRCDIM\t\t0x61124\n#define DVOB_SRCDIM\t\t0x61144\n#define DVOC_SRCDIM\t\t0x61164\n\n#define PIPEA_DSL\t\t0x70000\n#define PIPEB_DSL\t\t0x71000\n#define PIPEACONF\t\t0x70008\n#define PIPEBCONF\t\t0x71008\n#define PIPEASTAT\t\t0x70024  \n#define PIPEBSTAT\t\t0x71024\n\n#define PIPECONF_ENABLE\t\t\t(1 << 31)\n#define PIPECONF_DISABLE\t\t0\n#define PIPECONF_DOUBLE_WIDE\t\t(1 << 30)\n#define PIPECONF_SINGLE_WIDE\t\t0\n#define PIPECONF_LOCKED\t\t\t(1 << 25)\n#define PIPECONF_UNLOCKED\t\t0\n#define PIPECONF_GAMMA\t\t\t(1 << 24)\n#define PIPECONF_PALETTE\t\t0\n#define PIPECONF_PROGRESSIVE\t\t\t(0 << 21)\n#define PIPECONF_INTERLACE_W_FIELD_INDICATION\t(6 << 21)\n#define PIPECONF_INTERLACE_FIELD_0_ONLY\t\t(7 << 21)\n#define PIPECONF_INTERLACE_MASK\t\t\t(7 << 21)\n\n \n#define PIPESTAT_FIFO_UNDERRUN\t\t(1 << 31)\n#define PIPESTAT_CRC_ERROR_EN\t\t(1 << 29)\n#define PIPESTAT_CRC_DONE_EN\t\t(1 << 28)\n#define PIPESTAT_HOTPLUG_EN\t\t(1 << 26)\n#define PIPESTAT_VERTICAL_SYNC_EN\t(1 << 25)\n#define PIPESTAT_DISPLINE_COMP_EN\t(1 << 24)\n#define PIPESTAT_FLD_EVT_ODD_EN\t\t(1 << 21)\n#define PIPESTAT_FLD_EVT_EVEN_EN\t(1 << 20)\n#define PIPESTAT_TV_HOTPLUG_EN\t\t(1 << 18)\n#define PIPESTAT_VBLANK_EN\t\t(1 << 17)\n#define PIPESTAT_OVL_UPDATE_EN\t\t(1 << 16)\n \n#define PIPESTAT_HOTPLUG_STATE\t\t(1 << 15)\n#define PIPESTAT_CRC_ERROR\t\t(1 << 13)\n#define PIPESTAT_CRC_DONE\t\t(1 << 12)\n#define PIPESTAT_HOTPLUG\t\t(1 << 10)\n#define PIPESTAT_VSYNC\t\t\t(1 << 9)\n#define PIPESTAT_DISPLINE_COMP\t\t(1 << 8)\n#define PIPESTAT_FLD_EVT_ODD\t\t(1 << 5)\n#define PIPESTAT_FLD_EVT_EVEN\t\t(1 << 4)\n#define PIPESTAT_TV_HOTPLUG\t\t(1 << 2)\n#define PIPESTAT_VBLANK\t\t\t(1 << 1)\n#define PIPESTAT_OVL_UPDATE\t\t(1 << 0)\n\n#define DISPARB\t\t\t0x70030\n#define DISPARB_AEND_MASK\t\t0x1ff\n#define DISPARB_AEND_SHIFT\t\t0\n#define DISPARB_BEND_MASK\t\t0x3ff\n#define DISPARB_BEND_SHIFT\t\t9\n\n \n#define CURSOR_CONTROL\t\t0x70080\n#define CURSOR_ENABLE\t\t\t(1 << 31)\n#define CURSOR_GAMMA_ENABLE\t\t(1 << 30)\n#define CURSOR_STRIDE_MASK\t\t(0x3 << 28)\n#define CURSOR_STRIDE_256\t\t(0x0 << 28)\n#define CURSOR_STRIDE_512\t\t(0x1 << 28)\n#define CURSOR_STRIDE_1K\t\t(0x2 << 28)\n#define CURSOR_STRIDE_2K\t\t(0x3 << 28)\n#define CURSOR_FORMAT_MASK\t\t(0x7 << 24)\n#define CURSOR_FORMAT_2C\t\t(0x0 << 24)\n#define CURSOR_FORMAT_3C\t\t(0x1 << 24)\n#define CURSOR_FORMAT_4C\t\t(0x2 << 24)\n#define CURSOR_FORMAT_ARGB\t\t(0x4 << 24)\n#define CURSOR_FORMAT_XRGB\t\t(0x5 << 24)\n\n \n#define CURSOR_A_CONTROL\tCURSOR_CONTROL\n#define CURSOR_B_CONTROL\t0x700c0\n#define CURSOR_MODE_MASK\t\t0x27\n#define CURSOR_MODE_DISABLE\t\t0\n#define CURSOR_MODE_64_3C\t\t0x04\n#define CURSOR_MODE_64_4C_AX\t\t0x05\n#define CURSOR_MODE_64_4C\t\t0x06\n#define CURSOR_MODE_64_32B_AX\t\t0x07\n#define CURSOR_MODE_64_ARGB_AX\t\t0x27\n#define CURSOR_PIPE_SELECT_SHIFT\t28\n#define CURSOR_MOBILE_GAMMA_ENABLE\t(1 << 26)\n#define CURSOR_MEM_TYPE_LOCAL\t\t(1 << 25)\n\n \n#define CURSOR_A_BASEADDR\t0x70084\n#define CURSOR_B_BASEADDR\t0x700c4\n#define CURSOR_BASE_MASK\t\t0xffffff00\n\n#define CURSOR_A_POSITION\t0x70088\n#define CURSOR_B_POSITION\t0x700c8\n#define CURSOR_POS_SIGN\t\t\t(1 << 15)\n#define CURSOR_POS_MASK\t\t\t0x7ff\n#define CURSOR_X_SHIFT\t\t\t0\n#define CURSOR_Y_SHIFT\t\t\t16\n\n#define CURSOR_A_PALETTE0\t0x70090\n#define CURSOR_A_PALETTE1\t0x70094\n#define CURSOR_A_PALETTE2\t0x70098\n#define CURSOR_A_PALETTE3\t0x7009c\n#define CURSOR_B_PALETTE0\t0x700d0\n#define CURSOR_B_PALETTE1\t0x700d4\n#define CURSOR_B_PALETTE2\t0x700d8\n#define CURSOR_B_PALETTE3\t0x700dc\n#define CURSOR_COLOR_MASK\t\t\t0xff\n#define CURSOR_RED_SHIFT\t\t\t16\n#define CURSOR_GREEN_SHIFT\t\t\t8\n#define CURSOR_BLUE_SHIFT\t\t\t0\n#define CURSOR_PALETTE_MASK\t\t\t0xffffff\n\n \n#define CURSOR_SIZE\t\t0x700a0\n#define CURSOR_SIZE_MASK\t\t0x3ff\n#define CURSOR_SIZE_H_SHIFT\t\t0\n#define CURSOR_SIZE_V_SHIFT\t\t12\n\n#define DSPACNTR\t\t0x70180\n#define DSPBCNTR\t\t0x71180\n#define DISPPLANE_PLANE_ENABLE\t\t(1 << 31)\n#define DISPPLANE_PLANE_DISABLE\t\t0\n#define DISPPLANE_GAMMA_ENABLE\t\t(1<<30)\n#define DISPPLANE_GAMMA_DISABLE\t\t0\n#define DISPPLANE_PIXFORMAT_MASK\t(0xf<<26)\n#define DISPPLANE_8BPP\t\t\t(0x2<<26)\n#define DISPPLANE_15_16BPP\t\t(0x4<<26)\n#define DISPPLANE_16BPP\t\t\t(0x5<<26)\n#define DISPPLANE_32BPP_NO_ALPHA\t(0x6<<26)\n#define DISPPLANE_32BPP\t\t\t(0x7<<26)\n#define DISPPLANE_STEREO_ENABLE\t\t(1<<25)\n#define DISPPLANE_STEREO_DISABLE\t0\n#define DISPPLANE_SEL_PIPE_SHIFT\t24\n#define DISPPLANE_SRC_KEY_ENABLE\t(1<<22)\n#define DISPPLANE_SRC_KEY_DISABLE\t0\n#define DISPPLANE_LINE_DOUBLE\t\t(1<<20)\n#define DISPPLANE_NO_LINE_DOUBLE\t0\n#define DISPPLANE_STEREO_POLARITY_FIRST\t0\n#define DISPPLANE_STEREO_POLARITY_SECOND (1<<18)\n \n#define DISPPLANE_ALPHA_TRANS_ENABLE\t(1<<15)\n#define DISPPLANE_ALPHA_TRANS_DISABLE\t0\n#define DISPPLANE_SPRITE_ABOVE_DISPLAYA\t0\n#define DISPPLANE_SPRITE_ABOVE_OVERLAY\t1\n\n#define DSPABASE\t\t0x70184\n#define DSPASTRIDE\t\t0x70188\n\n#define DSPBBASE\t\t0x71184\n#define DSPBSTRIDE\t\t0x71188\n\n#define VGACNTRL\t\t0x71400\n#define VGA_DISABLE\t\t\t(1 << 31)\n#define VGA_ENABLE\t\t\t0\n#define VGA_PIPE_SELECT_SHIFT\t\t29\n#define VGA_PALETTE_READ_SELECT\t\t23\n#define VGA_PALETTE_A_WRITE_DISABLE\t(1 << 22)\n#define VGA_PALETTE_B_WRITE_DISABLE\t(1 << 21)\n#define VGA_LEGACY_PALETTE\t\t(1 << 20)\n#define VGA_6BIT_DAC\t\t\t0\n#define VGA_8BIT_DAC\t\t\t(1 << 20)\n\n#define ADD_ID\t\t\t0x71408\n#define ADD_ID_MASK\t\t\t0xff\n\n \n#define SWF0\t\t\t0x71410\n#define SWF1\t\t\t0x71414\n#define SWF2\t\t\t0x71418\n#define SWF3\t\t\t0x7141c\n#define SWF4\t\t\t0x71420\n#define SWF5\t\t\t0x71424\n#define SWF6\t\t\t0x71428\n\n \n#define SWF00\t\t\t0x70410\n#define SWF01\t\t\t0x70414\n#define SWF02\t\t\t0x70418\n#define SWF03\t\t\t0x7041c\n#define SWF04\t\t\t0x70420\n#define SWF05\t\t\t0x70424\n#define SWF06\t\t\t0x70428\n\n#define SWF10\t\t\tSWF0\n#define SWF11\t\t\tSWF1\n#define SWF12\t\t\tSWF2\n#define SWF13\t\t\tSWF3\n#define SWF14\t\t\tSWF4\n#define SWF15\t\t\tSWF5\n#define SWF16\t\t\tSWF6\n\n#define SWF30\t\t\t0x72414\n#define SWF31\t\t\t0x72418\n#define SWF32\t\t\t0x7241c\n\n \n#define MI_NOOP\t\t\t(0x00 << 23)\n#define MI_NOOP_WRITE_ID\t\t(1 << 22)\n#define MI_NOOP_ID_MASK\t\t\t((1 << 22) - 1)\n\n#define MI_FLUSH\t\t(0x04 << 23)\n#define MI_WRITE_DIRTY_STATE\t\t(1 << 4)\n#define MI_END_SCENE\t\t\t(1 << 3)\n#define MI_INHIBIT_RENDER_CACHE_FLUSH\t(1 << 2)\n#define MI_INVALIDATE_MAP_CACHE\t\t(1 << 0)\n\n#define MI_STORE_DWORD_IMM\t((0x20 << 23) | 1)\n\n \n#define COLOR_BLT_CMD\t\t((2 << 29) | (0x40 << 22) | 3)\n#define XY_COLOR_BLT_CMD\t((2 << 29) | (0x50 << 22) | 4)\n#define XY_SETUP_CLIP_BLT_CMD\t((2 << 29) | (0x03 << 22) | 1)\n#define XY_SRC_COPY_BLT_CMD\t((2 << 29) | (0x53 << 22) | 6)\n#define SRC_COPY_BLT_CMD\t((2 << 29) | (0x43 << 22) | 4)\n#define XY_MONO_PAT_BLT_CMD\t((2 << 29) | (0x52 << 22) | 7)\n#define XY_MONO_SRC_BLT_CMD\t((2 << 29) | (0x54 << 22) | 6)\n#define XY_MONO_SRC_IMM_BLT_CMD\t((2 << 29) | (0x71 << 22) | 5)\n#define TXT_IMM_BLT_CMD\t        ((2 << 29) | (0x30 << 22) | 2)\n#define SETUP_BLT_CMD\t        ((2 << 29) | (0x00 << 22) | 6)\n\n#define DW_LENGTH_MASK\t\t\t0xff\n\n#define WRITE_ALPHA\t\t\t(1 << 21)\n#define WRITE_RGB\t\t\t(1 << 20)\n#define VERT_SEED\t\t\t(3 << 8)\n#define HORIZ_SEED\t\t\t(3 << 12)\n\n#define COLOR_DEPTH_8\t\t\t(0 << 24)\n#define COLOR_DEPTH_16\t\t\t(1 << 24)\n#define COLOR_DEPTH_32\t\t\t(3 << 24)\n\n#define SRC_ROP_GXCOPY\t\t\t0xcc\n#define SRC_ROP_GXXOR\t\t\t0x66\n\n#define PAT_ROP_GXCOPY                  0xf0\n#define PAT_ROP_GXXOR                   0x5a\n\n#define PITCH_SHIFT\t\t\t0\n#define ROP_SHIFT\t\t\t16\n#define WIDTH_SHIFT\t\t\t0\n#define HEIGHT_SHIFT\t\t\t16\n\n \n#define MAX_MONO_IMM_SIZE\t\t128\n\n\n \n\n \n#define INREG8(addr)\t      readb((u8 __iomem *)(dinfo->mmio_base + (addr)))\n#define INREG16(addr)\t      readw((u16 __iomem *)(dinfo->mmio_base + (addr)))\n#define INREG(addr)\t      readl((u32 __iomem *)(dinfo->mmio_base + (addr)))\n#define OUTREG8(addr, val)    writeb((val),(u8 __iomem *)(dinfo->mmio_base + \\\n\t\t\t\t\t\t\t   (addr)))\n#define OUTREG16(addr, val)    writew((val),(u16 __iomem *)(dinfo->mmio_base + \\\n\t\t\t\t\t\t\t   (addr)))\n#define OUTREG(addr, val)     writel((val),(u32 __iomem *)(dinfo->mmio_base + \\\n                                     (addr)))\n\n \n#define OUT_RING(n)\tdo {\t\t\t\t\t\t\\\n\twritel((n), (u32 __iomem *)(dinfo->ring.virtual + dinfo->ring_tail));\\\n\tdinfo->ring_tail += 4;\t\t\t\t\t\t\\\n\tdinfo->ring_tail &= dinfo->ring_tail_mask;\t\t\t\\\n} while (0)\n\n#define START_RING(n)\tdo {\t\t\t\t\t\t\\\n\tif (dinfo->ring_space < (n) * 4)\t\t\t\t\\\n\t\twait_ring(dinfo,(n) * 4);\t\t\t\t\\\n\tdinfo->ring_space -= (n) * 4;\t\t\t\t\t\\\n} while (0)\n\n#define ADVANCE_RING()\tdo {\t\t\t\t\t\t\\\n\tOUTREG(PRI_RING_TAIL, dinfo->ring_tail);                        \\\n} while (0)\n\n#define DO_RING_IDLE()\tdo {\t\t\t\t\t\t\\\n\tu32 head, tail;\t\t\t\t\t\t\t\\\n\tdo {\t\t\t\t\t\t\t\t\\\n\t\thead = INREG(PRI_RING_HEAD) & RING_HEAD_MASK;\t\t\\\n\t\ttail = INREG(PRI_RING_TAIL) & RING_TAIL_MASK;\t\t\\\n\t\tudelay(10);\t\t\t\t\t\t\\\n\t} while (head != tail);\t\t\t\t\t\t\\\n} while (0)\n\n\n \nextern int intelfbhw_get_chipset(struct pci_dev *pdev, struct intelfb_info *dinfo);\nextern int intelfbhw_get_memory(struct pci_dev *pdev, int *aperture_size,\n\t\t\t\tint *stolen_size);\nextern int intelfbhw_check_non_crt(struct intelfb_info *dinfo);\nextern const char *intelfbhw_dvo_to_string(int dvo);\nextern int intelfbhw_validate_mode(struct intelfb_info *dinfo,\n\t\t\t\t   struct fb_var_screeninfo *var);\nextern int intelfbhw_pan_display(struct fb_var_screeninfo *var,\n\t\t\t\t struct fb_info *info);\nextern void intelfbhw_do_blank(int blank, struct fb_info *info);\nextern void intelfbhw_setcolreg(struct intelfb_info *dinfo, unsigned regno,\n\t\t\t\tunsigned red, unsigned green, unsigned blue,\n\t\t\t\tunsigned transp);\nextern int intelfbhw_read_hw_state(struct intelfb_info *dinfo,\n\t\t\t\t   struct intelfb_hwstate *hw, int flag);\nextern void intelfbhw_print_hw_state(struct intelfb_info *dinfo,\n\t\t\t\t     struct intelfb_hwstate *hw);\nextern int intelfbhw_mode_to_hw(struct intelfb_info *dinfo,\n\t\t\t\tstruct intelfb_hwstate *hw,\n\t\t\t\tstruct fb_var_screeninfo *var);\nextern int intelfbhw_program_mode(struct intelfb_info *dinfo,\n\t\t\t\t  const struct intelfb_hwstate *hw, int blank);\nextern void intelfbhw_do_sync(struct intelfb_info *dinfo);\nextern void intelfbhw_2d_stop(struct intelfb_info *dinfo);\nextern void intelfbhw_2d_start(struct intelfb_info *dinfo);\nextern void intelfbhw_do_fillrect(struct intelfb_info *dinfo, u32 x, u32 y,\n\t\t\t\t  u32 w, u32 h, u32 color, u32 pitch, u32 bpp,\n\t\t\t\t  u32 rop);\nextern void intelfbhw_do_bitblt(struct intelfb_info *dinfo, u32 curx, u32 cury,\n\t\t\t\tu32 dstx, u32 dsty, u32 w, u32 h, u32 pitch,\n\t\t\t\tu32 bpp);\nextern int intelfbhw_do_drawglyph(struct intelfb_info *dinfo, u32 fg, u32 bg,\n\t\t\t\t  u32 w, u32 h, const u8* cdat, u32 x, u32 y,\n\t\t\t\t  u32 pitch, u32 bpp);\nextern void intelfbhw_cursor_init(struct intelfb_info *dinfo);\nextern void intelfbhw_cursor_hide(struct intelfb_info *dinfo);\nextern void intelfbhw_cursor_show(struct intelfb_info *dinfo);\nextern void intelfbhw_cursor_setpos(struct intelfb_info *dinfo, int x, int y);\nextern void intelfbhw_cursor_setcolor(struct intelfb_info *dinfo, u32 bg,\n\t\t\t\t      u32 fg);\nextern void intelfbhw_cursor_load(struct intelfb_info *dinfo, int width,\n\t\t\t\t  int height, u8 *data);\nextern void intelfbhw_cursor_reset(struct intelfb_info *dinfo);\nextern int intelfbhw_enable_irq(struct intelfb_info *dinfo);\nextern void intelfbhw_disable_irq(struct intelfb_info *dinfo);\nextern int intelfbhw_wait_for_vsync(struct intelfb_info *dinfo, u32 pipe);\nextern int intelfbhw_active_pipe(const struct intelfb_hwstate *hw);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}