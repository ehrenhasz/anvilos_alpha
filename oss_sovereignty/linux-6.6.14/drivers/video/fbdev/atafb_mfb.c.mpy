{
  "module_name": "atafb_mfb.c",
  "hash_id": "8212eb944611dc838283288c612bcc58df5fb40c78c4c8ca2f215190c522520d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/video/fbdev/atafb_mfb.c",
  "human_readable_source": " \n\n#include <linux/string.h>\n#include <linux/fb.h>\n\n#include \"atafb.h\"\n#include \"atafb_utils.h\"\n\n\n     \n\nvoid atafb_mfb_copyarea(struct fb_info *info, u_long next_line,\n\t\t\tint sy, int sx, int dy, int dx,\n\t\t\tint height, int width)\n{\n\tu8 *src, *dest;\n\tu_int rows;\n\n\tif (sx == 0 && dx == 0 && width == next_line) {\n\t\tsrc = (u8 *)info->screen_base + sy * (width >> 3);\n\t\tdest = (u8 *)info->screen_base + dy * (width >> 3);\n\t\tfb_memmove(dest, src, height * (width >> 3));\n\t} else if (dy <= sy) {\n\t\tsrc = (u8 *)info->screen_base + sy * next_line + (sx >> 3);\n\t\tdest = (u8 *)info->screen_base + dy * next_line + (dx >> 3);\n\t\tfor (rows = height; rows--;) {\n\t\t\tfb_memmove(dest, src, width >> 3);\n\t\t\tsrc += next_line;\n\t\t\tdest += next_line;\n\t\t}\n\t} else {\n\t\tsrc = (u8 *)info->screen_base + (sy + height - 1) * next_line + (sx >> 3);\n\t\tdest = (u8 *)info->screen_base + (dy + height - 1) * next_line + (dx >> 3);\n\t\tfor (rows = height; rows--;) {\n\t\t\tfb_memmove(dest, src, width >> 3);\n\t\t\tsrc -= next_line;\n\t\t\tdest -= next_line;\n\t\t}\n\t}\n}\n\nvoid atafb_mfb_fillrect(struct fb_info *info, u_long next_line, u32 color,\n\t\t\tint sy, int sx, int height, int width)\n{\n\tu8 *dest;\n\tu_int rows;\n\n\tdest = (u8 *)info->screen_base + sy * next_line + (sx >> 3);\n\n\tif (sx == 0 && width == next_line) {\n\t\tif (color)\n\t\t\tfb_memset255(dest, height * (width >> 3));\n\t\telse\n\t\t\tfb_memclear(dest, height * (width >> 3));\n\t} else {\n\t\tfor (rows = height; rows--; dest += next_line) {\n\t\t\tif (color)\n\t\t\t\tfb_memset255(dest, width >> 3);\n\t\t\telse\n\t\t\t\tfb_memclear_small(dest, width >> 3);\n\t\t}\n\t}\n}\n\nvoid atafb_mfb_linefill(struct fb_info *info, u_long next_line,\n\t\t\tint dy, int dx, u32 width,\n\t\t\tconst u8 *data, u32 bgcolor, u32 fgcolor)\n{\n\tu8 *dest;\n\tu_int rows;\n\n\tdest = (u8 *)info->screen_base + dy * next_line + (dx >> 3);\n\n\tfor (rows = width / 8; rows--;   ) {\n\t\t\n\t\t*dest++ = *data++;\n\t}\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}