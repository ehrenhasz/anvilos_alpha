{
  "module_name": "i810.h",
  "hash_id": "640f46ffe7350d6c7d44b4951ef5760becc704ed9daa44ef2072126c28bc7f67",
  "original_prompt": "Ingested from linux-6.6.14/drivers/video/fbdev/i810/i810.h",
  "human_readable_source": " \n\n#ifndef __I810_H__\n#define __I810_H__\n\n#include <linux/list.h>\n#include <linux/agp_backend.h>\n#include <linux/fb.h>\n#include <linux/i2c.h>\n#include <linux/i2c-algo-bit.h>\n#include <video/vga.h>\n\n \n#define TILEWALK_X            (0 << 12)\n#define TILEWALK_Y            (1 << 12)\n\n \n#define COLOR_COPY_ROP        0xF0\n#define PAT_COPY_ROP          0xCC\n#define CLEAR_ROP             0x00\n#define WHITE_ROP             0xFF\n#define INVERT_ROP            0x55\n#define XOR_ROP               0x5A\n\n \n#define SOLIDPATTERN          0x80000000\n#define NONSOLID              0x00000000\n#define BPP8                  (0 << 24)\n#define BPP16                 (1 << 24)\n#define BPP24                 (2 << 24)\n\n#define PIXCONF8              (2 << 16)\n#define PIXCONF15             (4 << 16)\n#define PIXCONF16             (5 << 16)\n#define PIXCONF24             (6 << 16)\n#define PIXCONF32             (7 << 16)\n\n#define DYN_COLOR_EN          (1 << 26)\n#define DYN_COLOR_DIS         (0 << 26)\n#define INCREMENT             0x00000000\n#define DECREMENT             (0x01 << 30)\n#define ARB_ON                0x00000001\n#define ARB_OFF               0x00000000\n#define SYNC_FLIP             0x00000000\n#define ASYNC_FLIP            0x00000040\n#define OPTYPE_MASK           0xE0000000\n#define PARSER_MASK           0x001F8000 \n#define D2_MASK               0x001FC000          \n\n \n \n#define PARSER                0x00000000\n#define BLIT                  (0x02 << 29)\n#define RENDER                (0x03 << 29)\n            \n \n#define NOP                   0x00                \n#define BP_INT                (0x01 << 23)          \n#define USR_INT               (0x02 << 23)          \n#define WAIT_FOR_EVNT         (0x03 << 23)          \n#define FLUSH                 (0x04 << 23)              \n#define CONTEXT_SEL           (0x05 << 23)\n#define REPORT_HEAD           (0x07 << 23)\n#define ARB_ON_OFF            (0x08 << 23)\n#define OVERLAY_FLIP          (0x11 << 23)\n#define LOAD_SCAN_INC         (0x12 << 23)\n#define LOAD_SCAN_EX          (0x13 << 23)\n#define FRONT_BUFFER          (0x14 << 23)\n#define DEST_BUFFER           (0x15 << 23)\n#define Z_BUFFER              (0x16 << 23)       \n\n#define STORE_DWORD_IMM       (0x20 << 23)\n#define STORE_DWORD_IDX       (0x21 << 23)\n#define BATCH_BUFFER          (0x30 << 23)\n\n \n#define SETUP_BLIT                      0x00\n#define SETUP_MONO_PATTERN_SL_BLT       (0x10 << 22)\n#define PIXEL_BLT                       (0x20 << 22)\n#define SCANLINE_BLT                    (0x21 << 22)\n#define TEXT_BLT                        (0x22 << 22)\n#define TEXT_IMM_BLT                    (0x30 << 22)\n#define COLOR_BLT                       (0x40 << 22)\n#define MONO_PAT_BLIT                   (0x42 << 22)\n#define SOURCE_COPY_BLIT                (0x43 << 22)\n#define MONO_SOURCE_COPY_BLIT           (0x44 << 22)\n#define SOURCE_COPY_IMMEDIATE           (0x60 << 22)\n#define MONO_SOURCE_COPY_IMMEDIATE      (0x61 << 22)\n\n#define VERSION_MAJOR            0\n#define VERSION_MINOR            9\n#define VERSION_TEENIE           0\n#define BRANCH_VERSION           \"\"\n\n\n \n#ifndef PCI_DEVICE_ID_INTEL_82815_100\n  #define PCI_DEVICE_ID_INTEL_82815_100           0x1102\n#endif\n#ifndef PCI_DEVICE_ID_INTEL_82815_NOAGP\n  #define PCI_DEVICE_ID_INTEL_82815_NOAGP         0x1112\n#endif\n#ifndef PCI_DEVICE_ID_INTEL_82815_FULL_CTRL\n  #define PCI_DEVICE_ID_INTEL_82815_FULL_CTRL     0x1130\n#endif \n\n \n#define I810_PAGESIZE               4096\n#define MAX_DMA_SIZE                (1024 * 4096)\n#define SAREA_SIZE                  4096\n#define PCI_I810_MISCC              0x72\n#define MMIO_SIZE                   (512*1024)\n#define GTT_SIZE                    (16*1024) \n#define RINGBUFFER_SIZE             (64*1024)\n#define CURSOR_SIZE                 4096 \n#define OFF                         0\n#define ON                          1\n#define MAX_KEY                     256\n#define WAIT_COUNT                  10000000\n#define IRING_PAD                   8\n#define FONTDATAMAX                 8192\n \n#define FB_START_MASK               (0x3f << (32 - 6))\n#define MMIO_ADDR_MASK              (0x1FFF << (32 - 13))\n#define FREQ_MASK                   (1 << 4)\n#define SCR_OFF                     0x20\n#define DRAM_ON                     0x08            \n#define DRAM_OFF                    0xE7\n#define PG_ENABLE_MASK              0x01\n#define RING_SIZE_MASK              (RINGBUFFER_SIZE - 1)\n\n \n#define ADDR_MAP_MASK               (0x07 << 5)\n#define DISP_CTRL                   ~0\n#define PIXCONF_0                   (0x64 << 8)\n#define PIXCONF_2                   (0xF3 << 24)\n#define PIXCONF_1                   (0xF0 << 16)\n#define MN_MASK                     0x3FF03FF\n#define P_OR                        (0x7 << 4)                    \n#define DAC_BIT                     (1 << 16)\n#define INTERLACE_BIT               (1 << 7)\n#define IER_MASK                    (3 << 13)\n#define IMR_MASK                    (3 << 13)\n\n \n#define DPMS_MASK                   0xF0000\n#define POWERON                     0x00000\n#define STANDBY                     0x20000\n#define SUSPEND                     0x80000\n#define POWERDOWN                   0xA0000\n#define EMR_MASK                    ~0x3F\n#define FW_BLC_MASK                 ~(0x3F|(7 << 8)|(0x3F << 12)|(7 << 20))\n\n \n#define RBUFFER_START_MASK          0xFFFFF000\n#define RBUFFER_SIZE_MASK           0x001FF000\n#define RBUFFER_HEAD_MASK           0x001FFFFC\n#define RBUFFER_TAIL_MASK           0x001FFFF8\n\n \n#define REF_FREQ                    24000000\n#define TARGET_N_MAX                30\n\n#define MAX_PIXELCLOCK              230000000\n#define MIN_PIXELCLOCK               15000000\n#define VFMAX                       60\n#define VFMIN                       60\n#define HFMAX                       30000\n#define HFMIN                       29000\n\n \n#define CURSOR_ENABLE_MASK          0x1000             \n#define CURSOR_MODE_64_TRANS        4\n#define CURSOR_MODE_64_XOR\t    5\n#define CURSOR_MODE_64_3C\t    6\t\n#define COORD_INACTIVE              0\n#define COORD_ACTIVE                (1 << 4)\n#define EXTENDED_PALETTE\t    1\n  \n \n#define AGP_NORMAL_MEMORY           0\n#define AGP_DCACHE_MEMORY\t    1\n#define AGP_PHYSICAL_MEMORY         2\n\n \n#define FRAMEBUFFER_REQ             1\n#define MMIO_REQ                    2\n#define PCI_DEVICE_ENABLED          4\n#define HAS_FONTCACHE               8 \n\n \n#define HAS_ACCELERATION            2\n#define ALWAYS_SYNC                 4\n#define LOCKUP                      8\n\nstruct gtt_data {\n\tstruct agp_memory *i810_fb_memory;\n\tstruct agp_memory *i810_cursor_memory;\n};\n\nstruct mode_registers {\n\tu32 pixclock, M, N, P;\n\tu8 cr00, cr01, cr02, cr03;\n\tu8 cr04, cr05, cr06, cr07;\n\tu8 cr09, cr10, cr11, cr12;\n\tu8 cr13, cr15, cr16, cr30;\n\tu8 cr31, cr32, cr33, cr35, cr39;\n\tu32 bpp8_100, bpp16_100;\n\tu32 bpp24_100, bpp8_133;\n\tu32 bpp16_133, bpp24_133;\n\tu8 msr;\n};\n\nstruct heap_data {\n        unsigned long physical;\n\t__u8 __iomem *virtual;\n\tu32 offset;\n\tu32 size;\n};\t\n\nstruct state_registers {\n\tu32 dclk_1d, dclk_2d, dclk_0ds;\n\tu32 pixconf, fw_blc, pgtbl_ctl;\n\tu32 fence0, hws_pga, dplystas;\n\tu16 bltcntl, hwstam, ier, iir, imr;\n\tu8 cr00, cr01, cr02, cr03, cr04;\n\tu8 cr05, cr06, cr07, cr08, cr09;\n\tu8 cr10, cr11, cr12, cr13, cr14;\n\tu8 cr15, cr16, cr17, cr80, gr10;\n\tu8 cr30, cr31, cr32, cr33, cr35;\n\tu8 cr39, cr41, cr70, sr01, msr;\n};\n\nstruct i810fb_par;\n\nstruct i810fb_i2c_chan {\n\tstruct i810fb_par *par;\n\tstruct i2c_adapter adapter;\n\tstruct i2c_algo_bit_data algo;\n\tunsigned long ddc_base;\n};\n\nstruct i810fb_par {\n\tstruct mode_registers    regs;\n\tstruct state_registers   hw_state;\n\tstruct gtt_data          i810_gtt;\n\tstruct fb_ops            i810fb_ops;\n\tstruct pci_dev           *dev;\n\tstruct heap_data         aperture;\n\tstruct heap_data         fb;\n\tstruct heap_data         iring;\n\tstruct heap_data         cursor_heap;\n\tstruct vgastate          state;\n\tstruct i810fb_i2c_chan   chan[3];\n\tstruct mutex\t\t open_lock;\n\tunsigned int\t\t use_count;\n\tu32 pseudo_palette[16];\n\tunsigned long mmio_start_phys;\n\tu8 __iomem *mmio_start_virtual;\n\tu8 *edid;\n\tu32 pitch;\n\tu32 pixconf;\n\tu32 watermark;\n\tu32 mem_freq;\n\tu32 res_flags;\n\tu32 dev_flags;\n\tu32 cur_tail;\n\tu32 depth;\n\tu32 blit_bpp;\n\tu32 ovract;\n\tu32 cur_state;\n\tu32 ddc_num;\n\tint wc_cookie;\n\tu16 bltcntl;\n\tu8 interlace;\n};\n\n \n#define i810_readb(where, mmio) readb(mmio + where)\n#define i810_readw(where, mmio) readw(mmio + where)\n#define i810_readl(where, mmio) readl(mmio + where)\n#define i810_writeb(where, mmio, val) writeb(val, mmio + where) \n#define i810_writew(where, mmio, val) writew(val, mmio + where)\n#define i810_writel(where, mmio, val) writel(val, mmio + where)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}