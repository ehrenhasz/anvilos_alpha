{
  "module_name": "rivafb.h",
  "hash_id": "0269e460b00a342b55b903e2d493400429e867a5b03f407bf9730cbd21b4d568",
  "original_prompt": "Ingested from linux-6.6.14/drivers/video/fbdev/riva/rivafb.h",
  "human_readable_source": " \n#ifndef __RIVAFB_H\n#define __RIVAFB_H\n\n#include <linux/fb.h>\n#include <video/vga.h>\n#include <linux/i2c.h>\n#include <linux/i2c-algo-bit.h>\n\n#include \"riva_hw.h\"\n\n \n#define NUM_SEQ_REGS\t\t0x05\n#define NUM_CRT_REGS\t\t0x41\n#define NUM_GRC_REGS\t\t0x09\n#define NUM_ATC_REGS\t\t0x15\n\n \n#define DDC_SCL_READ_MASK       (1 << 2)\n#define DDC_SCL_WRITE_MASK      (1 << 5)\n#define DDC_SDA_READ_MASK       (1 << 3)\n#define DDC_SDA_WRITE_MASK      (1 << 4)\n\n \nstruct riva_regs {\n\tu8 attr[NUM_ATC_REGS];\n\tu8 crtc[NUM_CRT_REGS];\n\tu8 gra[NUM_GRC_REGS];\n\tu8 seq[NUM_SEQ_REGS];\n\tu8 misc_output;\n\tRIVA_HW_STATE ext;\n};\n\nstruct riva_par;\n\nstruct riva_i2c_chan {\n\tstruct riva_par *par;\n\tunsigned long   ddc_base;\n\tstruct i2c_adapter adapter;\n\tstruct i2c_algo_bit_data algo;\n};\n\nstruct riva_par {\n\tRIVA_HW_INST riva;\t \n\tu32 pseudo_palette[16];  \n\tu32 palette[16];         \n\tu8 __iomem *ctrl_base;\t \n\tunsigned dclk_max;\t \n\n\tstruct riva_regs initial_state;\t \n\tstruct riva_regs current_state;\n#ifdef CONFIG_X86\n\tstruct vgastate state;\n#endif\n\tstruct mutex open_lock;\n\tunsigned int ref_count;\n\tunsigned char *EDID;\n\tunsigned int Chipset;\n\tint forceCRTC;\n\tBool SecondCRTC;\n\tint FlatPanel;\n\tstruct pci_dev *pdev;\n\tint cursor_reset;\n\tint wc_cookie;\n\tstruct riva_i2c_chan chan[3];\n};\n\nvoid riva_common_setup(struct riva_par *);\nunsigned long riva_get_memlen(struct riva_par *);\nunsigned long riva_get_maxdclk(struct riva_par *);\nvoid riva_delete_i2c_busses(struct riva_par *par);\nvoid riva_create_i2c_busses(struct riva_par *par);\nint riva_probe_i2c_connector(struct riva_par *par, int conn, u8 **out_edid);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}