{
  "module_name": "nvreg.h",
  "hash_id": "87c2896f00f2d08fda12fff80258a48d8e056603637996d984cecfe66d15adf8",
  "original_prompt": "Ingested from linux-6.6.14/drivers/video/fbdev/riva/nvreg.h",
  "human_readable_source": " \n \n\n \n\n#ifndef __NVREG_H_\n#define __NVREG_H_\n\n \n#define BITMASK(t,b) (((unsigned)(1U << (((t)-(b)+1)))-1)  << (b))\n#define MASKEXPAND(mask) BITMASK(1?mask,0?mask)\n\n \n#define SetBF(mask,value) ((value) << (0?mask))\n#define GetBF(var,mask) (((unsigned)((var) & MASKEXPAND(mask))) >> (0?mask) )\n\n#define MaskAndSetBF(var,mask,value) (var)=(((var)&(~MASKEXPAND(mask)) \\\n                                             | SetBF(mask,value)))\n\n#define DEVICE_BASE(device) (0?NV##_##device)\n#define DEVICE_SIZE(device) ((1?NV##_##device) - DEVICE_BASE(device)+1)\n\n \n#define DEVICE_ACCESS(device,reg) \\\n  nvCONTROL[(NV_##device##_##reg)/4]\n\n#define DEVICE_WRITE(device,reg,value) DEVICE_ACCESS(device,reg)=(value)\n#define DEVICE_READ(device,reg)        DEVICE_ACCESS(device,reg)\n#define DEVICE_PRINT(device,reg) \\\n  ErrorF(\"NV_\"#device\"_\"#reg\"=#%08lx\\n\",DEVICE_ACCESS(device,reg))\n#define DEVICE_DEF(device,mask,value) \\\n  SetBF(NV_##device##_##mask,NV_##device##_##mask##_##value)\n#define DEVICE_VALUE(device,mask,value) SetBF(NV_##device##_##mask,value)\n#define DEVICE_MASK(device,mask) MASKEXPAND(NV_##device##_##mask)\n\n#define PDAC_Write(reg,value)           DEVICE_WRITE(PDAC,reg,value)\n#define PDAC_Read(reg)                  DEVICE_READ(PDAC,reg)\n#define PDAC_Print(reg)                 DEVICE_PRINT(PDAC,reg)\n#define PDAC_Def(mask,value)            DEVICE_DEF(PDAC,mask,value)\n#define PDAC_Val(mask,value)            DEVICE_VALUE(PDAC,mask,value)\n#define PDAC_Mask(mask)                 DEVICE_MASK(PDAC,mask)\n\n#define PFB_Write(reg,value)            DEVICE_WRITE(PFB,reg,value)\n#define PFB_Read(reg)                   DEVICE_READ(PFB,reg)\n#define PFB_Print(reg)                  DEVICE_PRINT(PFB,reg)\n#define PFB_Def(mask,value)             DEVICE_DEF(PFB,mask,value)\n#define PFB_Val(mask,value)             DEVICE_VALUE(PFB,mask,value)\n#define PFB_Mask(mask)                  DEVICE_MASK(PFB,mask)\n\n#define PRM_Write(reg,value)            DEVICE_WRITE(PRM,reg,value)\n#define PRM_Read(reg)                   DEVICE_READ(PRM,reg)\n#define PRM_Print(reg)                  DEVICE_PRINT(PRM,reg)\n#define PRM_Def(mask,value)             DEVICE_DEF(PRM,mask,value)\n#define PRM_Val(mask,value)             DEVICE_VALUE(PRM,mask,value)\n#define PRM_Mask(mask)                  DEVICE_MASK(PRM,mask)\n\n#define PGRAPH_Write(reg,value)         DEVICE_WRITE(PGRAPH,reg,value)\n#define PGRAPH_Read(reg)                DEVICE_READ(PGRAPH,reg)\n#define PGRAPH_Print(reg)               DEVICE_PRINT(PGRAPH,reg)\n#define PGRAPH_Def(mask,value)          DEVICE_DEF(PGRAPH,mask,value)\n#define PGRAPH_Val(mask,value)          DEVICE_VALUE(PGRAPH,mask,value)\n#define PGRAPH_Mask(mask)               DEVICE_MASK(PGRAPH,mask)\n\n#define PDMA_Write(reg,value)           DEVICE_WRITE(PDMA,reg,value)\n#define PDMA_Read(reg)                  DEVICE_READ(PDMA,reg)\n#define PDMA_Print(reg)                 DEVICE_PRINT(PDMA,reg)\n#define PDMA_Def(mask,value)            DEVICE_DEF(PDMA,mask,value)\n#define PDMA_Val(mask,value)            DEVICE_VALUE(PDMA,mask,value)\n#define PDMA_Mask(mask)                 DEVICE_MASK(PDMA,mask)\n\n#define PTIMER_Write(reg,value)         DEVICE_WRITE(PTIMER,reg,value)\n#define PTIMER_Read(reg)                DEVICE_READ(PTIMER,reg)\n#define PTIMER_Print(reg)               DEVICE_PRINT(PTIMER,reg)\n#define PTIMER_Def(mask,value)          DEVICE_DEF(PTIMER,mask,value)\n#define PTIMER_Val(mask,value)          DEVICE_VALUE(PTIEMR,mask,value)\n#define PTIMER_Mask(mask)               DEVICE_MASK(PTIMER,mask)\n\n#define PEXTDEV_Write(reg,value)         DEVICE_WRITE(PEXTDEV,reg,value)\n#define PEXTDEV_Read(reg)                DEVICE_READ(PEXTDEV,reg)\n#define PEXTDEV_Print(reg)               DEVICE_PRINT(PEXTDEV,reg)\n#define PEXTDEV_Def(mask,value)          DEVICE_DEF(PEXTDEV,mask,value)\n#define PEXTDEV_Val(mask,value)          DEVICE_VALUE(PEXTDEV,mask,value)\n#define PEXTDEV_Mask(mask)               DEVICE_MASK(PEXTDEV,mask)\n\n#define PFIFO_Write(reg,value)          DEVICE_WRITE(PFIFO,reg,value)\n#define PFIFO_Read(reg)                 DEVICE_READ(PFIFO,reg)\n#define PFIFO_Print(reg)                DEVICE_PRINT(PFIFO,reg)\n#define PFIFO_Def(mask,value)           DEVICE_DEF(PFIFO,mask,value)\n#define PFIFO_Val(mask,value)           DEVICE_VALUE(PFIFO,mask,value)\n#define PFIFO_Mask(mask)                DEVICE_MASK(PFIFO,mask)\n\n#define PRAM_Write(reg,value)           DEVICE_WRITE(PRAM,reg,value)\n#define PRAM_Read(reg)                  DEVICE_READ(PRAM,reg)\n#define PRAM_Print(reg)                 DEVICE_PRINT(PRAM,reg)\n#define PRAM_Def(mask,value)            DEVICE_DEF(PRAM,mask,value)\n#define PRAM_Val(mask,value)            DEVICE_VALUE(PRAM,mask,value)\n#define PRAM_Mask(mask)                 DEVICE_MASK(PRAM,mask)\n\n#define PRAMFC_Write(reg,value)         DEVICE_WRITE(PRAMFC,reg,value)\n#define PRAMFC_Read(reg)                DEVICE_READ(PRAMFC,reg)\n#define PRAMFC_Print(reg)               DEVICE_PRINT(PRAMFC,reg)\n#define PRAMFC_Def(mask,value)          DEVICE_DEF(PRAMFC,mask,value)\n#define PRAMFC_Val(mask,value)          DEVICE_VALUE(PRAMFC,mask,value)\n#define PRAMFC_Mask(mask)               DEVICE_MASK(PRAMFC,mask)\n\n#define PMC_Write(reg,value)            DEVICE_WRITE(PMC,reg,value)\n#define PMC_Read(reg)                   DEVICE_READ(PMC,reg)\n#define PMC_Print(reg)                  DEVICE_PRINT(PMC,reg)\n#define PMC_Def(mask,value)             DEVICE_DEF(PMC,mask,value)\n#define PMC_Val(mask,value)             DEVICE_VALUE(PMC,mask,value)\n#define PMC_Mask(mask)                  DEVICE_MASK(PMC,mask)\n\n#define PMC_Write(reg,value)            DEVICE_WRITE(PMC,reg,value)\n#define PMC_Read(reg)                   DEVICE_READ(PMC,reg)\n#define PMC_Print(reg)                  DEVICE_PRINT(PMC,reg)\n#define PMC_Def(mask,value)             DEVICE_DEF(PMC,mask,value)\n#define PMC_Val(mask,value)             DEVICE_VALUE(PMC,mask,value)\n#define PMC_Mask(mask)                  DEVICE_MASK(PMC,mask)\n\n\n#define PBUS_Write(reg,value)         DEVICE_WRITE(PBUS,reg,value)\n#define PBUS_Read(reg)                DEVICE_READ(PBUS,reg)\n#define PBUS_Print(reg)               DEVICE_PRINT(PBUS,reg)\n#define PBUS_Def(mask,value)          DEVICE_DEF(PBUS,mask,value)\n#define PBUS_Val(mask,value)          DEVICE_VALUE(PBUS,mask,value)\n#define PBUS_Mask(mask)               DEVICE_MASK(PBUS,mask)\n\n\n#define PRAMDAC_Write(reg,value)         DEVICE_WRITE(PRAMDAC,reg,value)\n#define PRAMDAC_Read(reg)                DEVICE_READ(PRAMDAC,reg)\n#define PRAMDAC_Print(reg)               DEVICE_PRINT(PRAMDAC,reg)\n#define PRAMDAC_Def(mask,value)          DEVICE_DEF(PRAMDAC,mask,value)\n#define PRAMDAC_Val(mask,value)          DEVICE_VALUE(PRAMDAC,mask,value)\n#define PRAMDAC_Mask(mask)               DEVICE_MASK(PRAMDAC,mask)\n\n\n#define PDAC_ReadExt(reg) \\\n  ((PDAC_Write(INDEX_LO,(NV_PDAC_EXT_##reg) & 0xff)),\\\n  (PDAC_Write(INDEX_HI,((NV_PDAC_EXT_##reg) >> 8) & 0xff)),\\\n  (PDAC_Read(INDEX_DATA)))\n\n#define PDAC_WriteExt(reg,value)\\\n  ((PDAC_Write(INDEX_LO,(NV_PDAC_EXT_##reg) & 0xff)),\\\n  (PDAC_Write(INDEX_HI,((NV_PDAC_EXT_##reg) >> 8) & 0xff)),\\\n  (PDAC_Write(INDEX_DATA,(value))))\n\n#define CRTC_Write(index,value) outb((index), 0x3d4); outb(value, 0x3d5)\n#define CRTC_Read(index) (outb(index, 0x3d4),inb(0x3d5))\n\n#define PCRTC_Write(index,value) CRTC_Write(NV_PCRTC_##index,value)\n#define PCRTC_Read(index) CRTC_Read(NV_PCRTC_##index)\n\n#define PCRTC_Def(mask,value)          DEVICE_DEF(PCRTC,mask,value)\n#define PCRTC_Val(mask,value)          DEVICE_VALUE(PCRTC,mask,value)\n#define PCRTC_Mask(mask)               DEVICE_MASK(PCRTC,mask)\n\n#define SR_Write(index,value) outb(0x3c4,(index));outb(0x3c5,value)\n#define SR_Read(index) (outb(0x3c4,index),inb(0x3c5))\n\nextern volatile unsigned  *nvCONTROL;\n\ntypedef enum {NV1,NV3,NV4,NumNVChips} NVChipType;\n\nNVChipType GetChipType(void);\n\n#endif\n\n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}