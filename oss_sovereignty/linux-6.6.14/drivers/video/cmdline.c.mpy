{
  "module_name": "cmdline.c",
  "hash_id": "6f0acbcede1edfd4441133b3eddcde984b355d13ad9a7c67c7cccc78acbf901f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/video/cmdline.c",
  "human_readable_source": "\n \n\n#include <linux/fb.h>  \n#include <linux/init.h>\n\n#include <video/cmdline.h>\n\n \nstatic const char *video_options[FB_MAX] __read_mostly;\nstatic const char *video_option __read_mostly;\nstatic int video_of_only __read_mostly;\n\nstatic const char *__video_get_option_string(const char *name)\n{\n\tconst char *options = NULL;\n\tsize_t name_len = 0;\n\n\tif (name)\n\t\tname_len = strlen(name);\n\n\tif (name_len) {\n\t\tunsigned int i;\n\t\tconst char *opt;\n\n\t\tfor (i = 0; i < ARRAY_SIZE(video_options); ++i) {\n\t\t\tif (!video_options[i])\n\t\t\t\tcontinue;\n\t\t\tif (video_options[i][0] == '\\0')\n\t\t\t\tcontinue;\n\t\t\topt = video_options[i];\n\t\t\tif (!strncmp(opt, name, name_len) && opt[name_len] == ':')\n\t\t\t\toptions = opt + name_len + 1;\n\t\t}\n\t}\n\n\t \n\tif (!options)\n\t\toptions = video_option;\n\n\treturn options;\n}\n\n \nconst char *video_get_options(const char *name)\n{\n\treturn __video_get_option_string(name);\n}\nEXPORT_SYMBOL(video_get_options);\n\nbool __video_get_options(const char *name, const char **options, bool is_of)\n{\n\tbool enabled = true;\n\tconst char *opt = NULL;\n\n\tif (video_of_only && !is_of)\n\t\tenabled = false;\n\n\topt = __video_get_option_string(name);\n\n\tif (options)\n\t\t*options = opt;\n\n\treturn enabled;\n}\nEXPORT_SYMBOL(__video_get_options);\n\n \nstatic int __init video_setup(char *options)\n{\n\tif (!options || !*options)\n\t\tgoto out;\n\n\tif (!strncmp(options, \"ofonly\", 6)) {\n\t\tvideo_of_only = true;\n\t\tgoto out;\n\t}\n\n\tif (strchr(options, ':')) {\n\t\t \n\t\tsize_t i;\n\n\t\tfor (i = 0; i < ARRAY_SIZE(video_options); i++) {\n\t\t\tif (!video_options[i]) {\n\t\t\t\tvideo_options[i] = options;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t} else {\n\t\t \n\t\tvideo_option = options;\n\t}\n\nout:\n\treturn 1;\n}\n__setup(\"video=\", video_setup);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}