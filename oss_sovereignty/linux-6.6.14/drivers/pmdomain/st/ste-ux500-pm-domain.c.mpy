{
  "module_name": "ste-ux500-pm-domain.c",
  "hash_id": "86596f774765e767d83938db7dd758546593a7661e9bc968efe9ae935faa3c2c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/pmdomain/st/ste-ux500-pm-domain.c",
  "human_readable_source": "\n \n#include <linux/device.h>\n#include <linux/kernel.h>\n#include <linux/platform_device.h>\n#include <linux/printk.h>\n#include <linux/slab.h>\n#include <linux/err.h>\n#include <linux/of.h>\n#include <linux/pm_domain.h>\n\n#include <dt-bindings/arm/ux500_pm_domains.h>\n\nstatic int pd_power_off(struct generic_pm_domain *domain)\n{\n\t \n\treturn 0;\n}\n\nstatic int pd_power_on(struct generic_pm_domain *domain)\n{\n\t \n\treturn 0;\n}\n\nstatic struct generic_pm_domain ux500_pm_domain_vape = {\n\t.name = \"VAPE\",\n\t.power_off = pd_power_off,\n\t.power_on = pd_power_on,\n};\n\nstatic struct generic_pm_domain *ux500_pm_domains[NR_DOMAINS] = {\n\t[DOMAIN_VAPE] = &ux500_pm_domain_vape,\n};\n\nstatic const struct of_device_id ux500_pm_domain_matches[] = {\n\t{ .compatible = \"stericsson,ux500-pm-domains\", },\n\t{ },\n};\n\nstatic int ux500_pm_domains_probe(struct platform_device *pdev)\n{\n\tstruct device_node *np = pdev->dev.of_node;\n\tstruct genpd_onecell_data *genpd_data;\n\tint i;\n\n\tif (!np)\n\t\treturn -ENODEV;\n\n\tgenpd_data = kzalloc(sizeof(*genpd_data), GFP_KERNEL);\n\tif (!genpd_data)\n\t\treturn -ENOMEM;\n\n\tgenpd_data->domains = ux500_pm_domains;\n\tgenpd_data->num_domains = ARRAY_SIZE(ux500_pm_domains);\n\n\tfor (i = 0; i < ARRAY_SIZE(ux500_pm_domains); ++i)\n\t\tpm_genpd_init(ux500_pm_domains[i], NULL, false);\n\n\tof_genpd_add_provider_onecell(np, genpd_data);\n\treturn 0;\n}\n\nstatic struct platform_driver ux500_pm_domains_driver = {\n\t.probe  = ux500_pm_domains_probe,\n\t.driver = {\n\t\t.name = \"ux500_pm_domains\",\n\t\t.of_match_table = ux500_pm_domain_matches,\n\t},\n};\n\nstatic int __init ux500_pm_domains_init(void)\n{\n\treturn platform_driver_register(&ux500_pm_domains_driver);\n}\narch_initcall(ux500_pm_domains_init);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}