{
  "module_name": "Kconfig",
  "hash_id": "670de8662f53d0fe7e83f9d7ae7d093606f22e0e2311d26e8c9758783724c027",
  "original_prompt": "Ingested from linux-6.6.14/drivers/block/Kconfig",
  "human_readable_source": "# SPDX-License-Identifier: GPL-2.0\n#\n# Block device driver configuration\n#\n\nmenuconfig BLK_DEV\n\tbool \"Block devices\"\n\tdepends on BLOCK\n\tdefault y\n\thelp\n\t  Say Y here to get to see options for various different block device\n\t  drivers. This option alone does not add any kernel code.\n\n\t  If you say N, all options in this submenu will be skipped and disabled;\n\t  only do this if you know what you are doing.\n\nif BLK_DEV\n\nsource \"drivers/block/null_blk/Kconfig\"\n\nconfig BLK_DEV_FD\n\ttristate \"Normal floppy disk support\"\n\tdepends on ARCH_MAY_HAVE_PC_FDC\n\thelp\n\t  If you want to use the floppy disk drive(s) of your PC under Linux,\n\t  say Y. Information about this driver, especially important for IBM\n\t  Thinkpad users, is contained in\n\t  <file:Documentation/admin-guide/blockdev/floppy.rst>.\n\t  That file also contains the location of the Floppy driver FAQ as\n\t  well as location of the fdutils package used to configure additional\n\t  parameters of the driver at run time.\n\n\t  To compile this driver as a module, choose M here: the\n\t  module will be called floppy.\n\nconfig BLK_DEV_FD_RAWCMD\n\tbool \"Support for raw floppy disk commands (DEPRECATED)\"\n\tdepends on BLK_DEV_FD\n\thelp\n\t  If you want to use actual physical floppies and expect to do\n\t  special low-level hardware accesses to them (access and use\n\t  non-standard formats, for example), then enable this.\n\n\t  Note that the code enabled by this option is rarely used and\n\t  might be unstable or insecure, and distros should not enable it.\n\n\t  Note: FDRAWCMD is deprecated and will be removed from the kernel\n\t  in the near future.\n\n\t  If unsure, say N.\n\nconfig AMIGA_FLOPPY\n\ttristate \"Amiga floppy support\"\n\tdepends on AMIGA\n\nconfig ATARI_FLOPPY\n\ttristate \"Atari floppy support\"\n\tdepends on ATARI\n\nconfig MAC_FLOPPY\n\ttristate \"Support for PowerMac floppy\"\n\tdepends on PPC_PMAC && !PPC_PMAC64\n\thelp\n\t  If you have a SWIM-3 (Super Woz Integrated Machine 3; from Apple)\n\t  floppy controller, say Y here. Most commonly found in PowerMacs.\n\nconfig BLK_DEV_SWIM\n\ttristate \"Support for SWIM Macintosh floppy\"\n\tdepends on M68K && MAC && !HIGHMEM\n\thelp\n\t  You should select this option if you want floppy support\n\t  and you don't have a II, IIfx, Q900, Q950 or AV series.\n\nconfig AMIGA_Z2RAM\n\ttristate \"Amiga Zorro II ramdisk support\"\n\tdepends on ZORRO\n\thelp\n\t  This enables support for using Chip RAM and Zorro II RAM as a\n\t  ramdisk or as a swap partition. Say Y if you want to include this\n\t  driver in the kernel.\n\n\t  To compile this driver as a module, choose M here: the\n\t  module will be called z2ram.\n\nconfig N64CART\n\tbool \"N64 cart support\"\n\tdepends on MACH_NINTENDO64\n\thelp\n\t  Support for the N64 cart.\n\nconfig CDROM\n\ttristate\n\nconfig GDROM\n\ttristate \"SEGA Dreamcast GD-ROM drive\"\n\tdepends on SH_DREAMCAST\n\tselect CDROM\n\thelp\n\t  A standard SEGA Dreamcast comes with a modified CD ROM drive called a\n\t  \"GD-ROM\" by SEGA to signify it is capable of reading special disks\n\t  with up to 1 GB of data. This drive will also read standard CD ROM\n\t  disks. Select this option to access any disks in your GD ROM drive.\n\t  Most users will want to say \"Y\" here.\n\t  You can also build this as a module which will be called gdrom.\n\nsource \"drivers/block/mtip32xx/Kconfig\"\n\nsource \"drivers/block/zram/Kconfig\"\n\nconfig BLK_DEV_UBD\n\tbool \"Virtual block device\"\n\tdepends on UML\n\thelp\n          The User-Mode Linux port includes a driver called UBD which will let\n          you access arbitrary files on the host computer as block devices.\n          Unless you know that you do not need such virtual block devices say\n          Y here.\n\nconfig BLK_DEV_UBD_SYNC\n\tbool \"Always do synchronous disk IO for UBD\"\n\tdepends on BLK_DEV_UBD\n\thelp\n\t  Writes to the virtual block device are not immediately written to the\n\t  host's disk; this may cause problems if, for example, the User-Mode\n\t  Linux 'Virtual Machine' uses a journalling filesystem and the host\n\t  computer crashes.\n\n          Synchronous operation (i.e. always writing data to the host's disk\n          immediately) is configurable on a per-UBD basis by using a special\n          kernel command line option.  Alternatively, you can say Y here to\n          turn on synchronous operation by default for all block devices.\n\n          If you're running a journalling file system (like reiserfs, for\n          example) in your virtual machine, you will want to say Y here.  If\n          you care for the safety of the data in your virtual machine, Y is a\n          wise choice too.  In all other cases (for example, if you're just\n          playing around with User-Mode Linux) you can choose N.\n\nconfig BLK_DEV_COW_COMMON\n\tbool\n\tdefault BLK_DEV_UBD\n\nconfig BLK_DEV_LOOP\n\ttristate \"Loopback device support\"\n\thelp\n\t  Saying Y here will allow you to use a regular file as a block\n\t  device; you can then create a file system on that block device and\n\t  mount it just as you would mount other block devices such as hard\n\t  drive partitions, CD-ROM drives or floppy drives. The loop devices\n\t  are block special device files with major number 7 and typically\n\t  called /dev/loop0, /dev/loop1 etc.\n\n\t  This is useful if you want to check an ISO 9660 file system before\n\t  burning the CD, or if you want to use floppy images without first\n\t  writing them to floppy. Furthermore, some Linux distributions avoid\n\t  the need for a dedicated Linux partition by keeping their complete\n\t  root file system inside a DOS FAT file using this loop device\n\t  driver.\n\n\t  To use the loop device, you need the losetup utility, found in the\n\t  util-linux package, see\n\t  <https://www.kernel.org/pub/linux/utils/util-linux/>.\n\n\t  The loop device driver can also be used to \"hide\" a file system in\n\t  a disk partition, floppy, or regular file, either using encryption\n\t  (scrambling the data) or steganography (hiding the data in the low\n\t  bits of, say, a sound file). This is also safe if the file resides\n\t  on a remote file server.\n\n\t  Note that this loop device has nothing to do with the loopback\n\t  device used for network connections from the machine to itself.\n\n\t  To compile this driver as a module, choose M here: the\n\t  module will be called loop.\n\n\t  Most users will answer N here.\n\nconfig BLK_DEV_LOOP_MIN_COUNT\n\tint \"Number of loop devices to pre-create at init time\"\n\tdepends on BLK_DEV_LOOP\n\tdefault 8\n\thelp\n\t  Static number of loop devices to be unconditionally pre-created\n\t  at init time.\n\n\t  This default value can be overwritten on the kernel command\n\t  line or with module-parameter loop.max_loop.\n\n\t  The historic default is 8. If a late 2011 version of losetup(8)\n\t  is used, it can be set to 0, since needed loop devices can be\n\t  dynamically allocated with the /dev/loop-control interface.\n\nsource \"drivers/block/drbd/Kconfig\"\n\nconfig BLK_DEV_NBD\n\ttristate \"Network block device support\"\n\tdepends on NET\n\thelp\n\t  Saying Y here will allow your computer to be a client for network\n\t  block devices, i.e. it will be able to use block devices exported by\n\t  servers (mount file systems on them etc.). Communication between\n\t  client and server works over TCP/IP networking, but to the client\n\t  program this is hidden: it looks like a regular local file access to\n\t  a block device special file such as /dev/nd0.\n\n\t  Network block devices also allows you to run a block-device in\n\t  userland (making server and client physically the same computer,\n\t  communicating using the loopback network device).\n\n\t  Read <file:Documentation/admin-guide/blockdev/nbd.rst> for more information,\n\t  especially about where to find the server code, which runs in user\n\t  space and does not need special kernel support.\n\n\t  Note that this has nothing to do with the network file systems NFS\n\t  or Coda; you can say N here even if you intend to use NFS or Coda.\n\n\t  To compile this driver as a module, choose M here: the\n\t  module will be called nbd.\n\n\t  If unsure, say N.\n\nconfig BLK_DEV_RAM\n\ttristate \"RAM block device support\"\n\thelp\n\t  Saying Y here will allow you to use a portion of your RAM memory as\n\t  a block device, so that you can make file systems on it, read and\n\t  write to it and do all the other things that you can do with normal\n\t  block devices (such as hard drives). It is usually used to load and\n\t  store a copy of a minimal root file system off of a floppy into RAM\n\t  during the initial install of Linux.\n\n\t  Note that the kernel command line option \"ramdisk=XX\" is now obsolete.\n\t  For details, read <file:Documentation/admin-guide/blockdev/ramdisk.rst>.\n\n\t  To compile this driver as a module, choose M here: the\n\t  module will be called brd. An alias \"rd\" has been defined\n\t  for historical reasons.\n\n\t  Most normal users won't need the RAM disk functionality, and can\n\t  thus say N here.\n\nconfig BLK_DEV_RAM_COUNT\n\tint \"Default number of RAM disks\"\n\tdefault \"16\"\n\tdepends on BLK_DEV_RAM\n\thelp\n\t  The default value is 16 RAM disks. Change this if you know what you\n\t  are doing. If you boot from a filesystem that needs to be extracted\n\t  in memory, you will need at least one RAM disk (e.g. root on cramfs).\n\nconfig BLK_DEV_RAM_SIZE\n\tint \"Default RAM disk size (kbytes)\"\n\tdepends on BLK_DEV_RAM\n\tdefault \"4096\"\n\thelp\n\t  The default value is 4096 kilobytes. Only change this if you know\n\t  what you are doing.\n\nconfig CDROM_PKTCDVD\n\ttristate \"Packet writing on CD/DVD media (DEPRECATED)\"\n\tdepends on !UML\n\tdepends on SCSI\n\tselect CDROM\n\thelp\n\t  Note: This driver is deprecated and will be removed from the\n\t  kernel in the near future!\n\n\t  If you have a CDROM/DVD drive that supports packet writing, say\n\t  Y to include support. It should work with any MMC/Mt Fuji\n\t  compliant ATAPI or SCSI drive, which is just about any newer\n\t  DVD/CD writer.\n\n\t  Currently only writing to CD-RW, DVD-RW, DVD+RW and DVDRAM discs\n\t  is possible.\n\t  DVD-RW disks must be in restricted overwrite mode.\n\n\t  See the file <file:Documentation/cdrom/packet-writing.rst>\n\t  for further information on the use of this driver.\n\n\t  To compile this driver as a module, choose M here: the\n\t  module will be called pktcdvd.\n\nconfig CDROM_PKTCDVD_BUFFERS\n\tint \"Free buffers for data gathering\"\n\tdepends on CDROM_PKTCDVD\n\tdefault \"8\"\n\thelp\n\t  This controls the maximum number of active concurrent packets. More\n\t  concurrent packets can increase write performance, but also require\n\t  more memory. Each concurrent packet will require approximately 64Kb\n\t  of non-swappable kernel memory, memory which will be allocated when\n\t  a disc is opened for writing.\n\nconfig CDROM_PKTCDVD_WCACHE\n\tbool \"Enable write caching\"\n\tdepends on CDROM_PKTCDVD\n\thelp\n\t  If enabled, write caching will be set for the CD-R/W device. For now\n\t  this option is dangerous unless the CD-RW media is known good, as we\n\t  don't do deferred write error handling yet.\n\nconfig ATA_OVER_ETH\n\ttristate \"ATA over Ethernet support\"\n\tdepends on NET\n\thelp\n\tThis driver provides Support for ATA over Ethernet block\n\tdevices like the Coraid EtherDrive (R) Storage Blade.\n\nconfig SUNVDC\n\ttristate \"Sun Virtual Disk Client support\"\n\tdepends on SUN_LDOMS\n\thelp\n\t  Support for virtual disk devices as a client under Sun\n\t  Logical Domains.\n\nsource \"drivers/s390/block/Kconfig\"\n\nconfig XEN_BLKDEV_FRONTEND\n\ttristate \"Xen virtual block device support\"\n\tdepends on XEN\n\tdefault y\n\tselect XEN_XENBUS_FRONTEND\n\thelp\n\t  This driver implements the front-end of the Xen virtual\n\t  block device driver.  It communicates with a back-end driver\n\t  in another domain which drives the actual block device.\n\nconfig XEN_BLKDEV_BACKEND\n\ttristate \"Xen block-device backend driver\"\n\tdepends on XEN_BACKEND\n\thelp\n\t  The block-device backend driver allows the kernel to export its\n\t  block devices to other guests via a high-performance shared-memory\n\t  interface.\n\n\t  The corresponding Linux frontend driver is enabled by the\n\t  CONFIG_XEN_BLKDEV_FRONTEND configuration option.\n\n\t  The backend driver attaches itself to a any block device specified\n\t  in the XenBus configuration. There are no limits to what the block\n\t  device as long as it has a major and minor.\n\n\t  If you are compiling a kernel to run in a Xen block backend driver\n\t  domain (often this is domain 0) you should say Y here. To\n\t  compile this driver as a module, chose M here: the module\n\t  will be called xen-blkback.\n\n\nconfig VIRTIO_BLK\n\ttristate \"Virtio block driver\"\n\tdepends on VIRTIO\n\tselect SG_POOL\n\thelp\n\t  This is the virtual block driver for virtio.  It can be used with\n          QEMU based VMMs (like KVM or Xen).  Say Y or M.\n\nconfig BLK_DEV_RBD\n\ttristate \"Rados block device (RBD)\"\n\tdepends on INET && BLOCK\n\tselect CEPH_LIB\n\tselect LIBCRC32C\n\tselect CRYPTO_AES\n\tselect CRYPTO\n\thelp\n\t  Say Y here if you want include the Rados block device, which stripes\n\t  a block device over objects stored in the Ceph distributed object\n\t  store.\n\n\t  More information at http://ceph.newdream.net/.\n\n\t  If unsure, say N.\n\nconfig BLK_DEV_UBLK\n\ttristate \"Userspace block driver (Experimental)\"\n\tselect IO_URING\n\thelp\n\t  io_uring based userspace block driver. Together with ublk server, ublk\n\t  has been working well, but interface with userspace or command data\n\t  definition isn't finalized yet, and might change according to future\n\t  requirement, so mark is as experimental now.\n\n\t  Say Y if you want to get better performance because task_work_add()\n\t  can be used in IO path for replacing io_uring cmd, which will become\n\t  shared between IO tasks and ubq daemon, meantime task_work_add() can\n\t  can handle batch more effectively, but task_work_add() isn't exported\n\t  for module, so ublk has to be built to kernel.\n\nconfig BLKDEV_UBLK_LEGACY_OPCODES\n\tbool \"Support legacy command opcode\"\n\tdepends on BLK_DEV_UBLK\n\tdefault y\n\thelp\n\t  ublk driver started to take plain command encoding, which turns out\n\t  one bad way. The traditional ioctl command opcode encodes more\n\t  info and basically defines each code uniquely, so opcode conflict\n\t  is avoided, and driver can handle wrong command easily, meantime it\n\t  may help security subsystem to audit io_uring command.\n\n\t  Say Y if your application still uses legacy command opcode.\n\n\t  Say N if you don't want to support legacy command opcode. It is\n\t  suggested to enable N if your application(ublk server) switches to\n\t  ioctl command encoding.\n\nsource \"drivers/block/rnbd/Kconfig\"\n\nendif # BLK_DEV\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}