{
  "module_name": "edac_device.h",
  "hash_id": "ac008915019c5f522bfc7f71383568a596403a51aa2f9fdf0bb84e7661e3110b",
  "original_prompt": "Ingested from linux-6.6.14/drivers/edac/edac_device.h",
  "human_readable_source": " \n\n#ifndef _EDAC_DEVICE_H_\n#define _EDAC_DEVICE_H_\n\n#include <linux/completion.h>\n#include <linux/device.h>\n#include <linux/edac.h>\n#include <linux/kobject.h>\n#include <linux/list.h>\n#include <linux/types.h>\n#include <linux/sysfs.h>\n#include <linux/workqueue.h>\n\n\n \n\nstruct edac_device_counter {\n\tu32 ue_count;\n\tu32 ce_count;\n};\n\n \nstruct edac_device_ctl_info;\nstruct edac_device_block;\n\n \nstruct edac_dev_sysfs_attribute {\n\tstruct attribute attr;\n\tssize_t (*show)(struct edac_device_ctl_info *, char *);\n\tssize_t (*store)(struct edac_device_ctl_info *, const char *, size_t);\n};\n\n \nstruct edac_dev_sysfs_block_attribute {\n\tstruct attribute attr;\n\tssize_t (*show)(struct kobject *, struct attribute *, char *);\n\tssize_t (*store)(struct kobject *, struct attribute *,\n\t\t\tconst char *, size_t);\n\tstruct edac_device_block *block;\n\n\tunsigned int value;\n};\n\n \nstruct edac_device_block {\n\tstruct edac_device_instance *instance;\t \n\tchar name[EDAC_DEVICE_NAME_LEN + 1];\n\n\tstruct edac_device_counter counters;\t \n\n\tint nr_attribs;\t\t \n\n\t \n\tstruct edac_dev_sysfs_block_attribute *block_attributes;\n\n\t \n\tstruct kobject kobj;\n};\n\n \nstruct edac_device_instance {\n\tstruct edac_device_ctl_info *ctl;\t \n\tchar name[EDAC_DEVICE_NAME_LEN + 4];\n\n\tstruct edac_device_counter counters;\t \n\n\tu32 nr_blocks;\t\t \n\tstruct edac_device_block *blocks;\t \n\n\t \n\tstruct kobject kobj;\n};\n\n\n \nstruct edac_device_ctl_info {\n\t \n\tstruct list_head link;\n\n\tstruct module *owner;\t \n\n\tint dev_idx;\n\n\t \n\tint log_ue;\t\t \n\tint log_ce;\t\t \n\tint panic_on_ue;\t \n\tunsigned poll_msec;\t \n\tunsigned long delay;\t \n\n\t \n\tstruct edac_dev_sysfs_attribute *sysfs_attributes;\n\n\t \n\tstruct bus_type *edac_subsys;\n\n\t \n\tint op_state;\n\t \n\tstruct delayed_work work;\n\n\t \n\tvoid (*edac_check) (struct edac_device_ctl_info * edac_dev);\n\n\tstruct device *dev;\t \n\n\tconst char *mod_name;\t \n\tconst char *ctl_name;\t \n\tconst char *dev_name;\t \n\n\tvoid *pvt_info;\t\t \n\n\tunsigned long start_time;\t \n\n\tstruct completion removal_complete;\n\n\t \n\tchar name[EDAC_DEVICE_NAME_LEN + 1];\n\n\t \n\tu32 nr_instances;\n\tstruct edac_device_instance *instances;\n\tstruct edac_device_block *blocks;\n\tstruct edac_dev_sysfs_block_attribute *attribs;\n\n\t \n\tstruct edac_device_counter counters;\n\n\t \n\tstruct kobject kobj;\n};\n\n \n#define to_edac_mem_ctl_work(w) \\\n\t\tcontainer_of(w, struct mem_ctl_info, work)\n\n#define to_edac_device_ctl_work(w) \\\n\t\tcontainer_of(w,struct edac_device_ctl_info,work)\n\n \nextern struct edac_device_ctl_info *edac_device_alloc_ctl_info(\n\t\tunsigned sizeof_private,\n\t\tchar *edac_device_name, unsigned nr_instances,\n\t\tchar *edac_block_name, unsigned nr_blocks,\n\t\tunsigned offset_value,\n\t\tstruct edac_dev_sysfs_block_attribute *block_attributes,\n\t\tunsigned nr_attribs,\n\t\tint device_index);\n\n \n#define\tBLOCK_OFFSET_VALUE_OFF\t((unsigned) -1)\n\nextern void edac_device_free_ctl_info(struct edac_device_ctl_info *ctl_info);\n\n \nextern int edac_device_add_device(struct edac_device_ctl_info *edac_dev);\n\n \nextern struct edac_device_ctl_info *edac_device_del_device(struct device *dev);\n\n \nvoid edac_device_handle_ce_count(struct edac_device_ctl_info *edac_dev,\n\t\t\t\t unsigned int count, int inst_nr, int block_nr,\n\t\t\t\t const char *msg);\n\n \nvoid edac_device_handle_ue_count(struct edac_device_ctl_info *edac_dev,\n\t\t\t\t unsigned int count, int inst_nr, int block_nr,\n\t\t\t\t const char *msg);\n\n \nstatic inline void\nedac_device_handle_ce(struct edac_device_ctl_info *edac_dev, int inst_nr,\n\t\t      int block_nr, const char *msg)\n{\n\tedac_device_handle_ce_count(edac_dev, 1, inst_nr, block_nr, msg);\n}\n\n \nstatic inline void\nedac_device_handle_ue(struct edac_device_ctl_info *edac_dev, int inst_nr,\n\t\t      int block_nr, const char *msg)\n{\n\tedac_device_handle_ue_count(edac_dev, 1, inst_nr, block_nr, msg);\n}\n\n \nextern int edac_device_alloc_index(void);\nextern const char *edac_layer_name[];\n\n \nstatic inline void __edac_device_free_ctl_info(struct edac_device_ctl_info *ci)\n{\n\tif (ci) {\n\t\tkfree(ci->pvt_info);\n\t\tkfree(ci->attribs);\n\t\tkfree(ci->blocks);\n\t\tkfree(ci->instances);\n\t\tkfree(ci);\n\t}\n}\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}