{
  "module_name": "nhi_regs.h",
  "hash_id": "5745fb826602ecb586b3f337e9a1846a85bcb6b530d94740b0bb658d6b577ff9",
  "original_prompt": "Ingested from linux-6.6.14/drivers/thunderbolt/nhi_regs.h",
  "human_readable_source": " \n \n\n#ifndef NHI_REGS_H_\n#define NHI_REGS_H_\n\n#include <linux/types.h>\n\nenum ring_flags {\n\tRING_FLAG_ISOCH_ENABLE = 1 << 27,  \n\tRING_FLAG_E2E_FLOW_CONTROL = 1 << 28,\n\tRING_FLAG_PCI_NO_SNOOP = 1 << 29,\n\tRING_FLAG_RAW = 1 << 30,  \n\tRING_FLAG_ENABLE = 1 << 31,\n};\n\n \nstruct ring_desc {\n\tu64 phys;\n\tu32 length:12;\n\tu32 eof:4;\n\tu32 sof:4;\n\tenum ring_desc_flags flags:12;\n\tu32 time;  \n} __packed;\n\n \n\n \n#define REG_TX_RING_BASE\t0x00000\n\n \n#define REG_RX_RING_BASE\t0x08000\n\n \n#define REG_TX_OPTIONS_BASE\t0x19800\n\n \n#define REG_RX_OPTIONS_BASE\t0x29800\n#define REG_RX_OPTIONS_E2E_HOP_MASK\tGENMASK(22, 12)\n#define REG_RX_OPTIONS_E2E_HOP_SHIFT\t12\n\n \n#define REG_RING_NOTIFY_BASE\t0x37800\n#define RING_NOTIFY_REG_COUNT(nhi) ((31 + 3 * nhi->hop_count) / 32)\n#define REG_RING_INT_CLEAR\t0x37808\n\n \n#define REG_RING_INTERRUPT_BASE\t0x38200\n#define RING_INTERRUPT_REG_COUNT(nhi) ((31 + 2 * nhi->hop_count) / 32)\n\n#define REG_RING_INTERRUPT_MASK_CLEAR_BASE\t0x38208\n\n#define REG_INT_THROTTLING_RATE\t0x38c00\n\n \n#define REG_INT_VEC_ALLOC_BASE\t0x38c40\n#define REG_INT_VEC_ALLOC_BITS\t4\n#define REG_INT_VEC_ALLOC_MASK\tGENMASK(3, 0)\n#define REG_INT_VEC_ALLOC_REGS\t(32 / REG_INT_VEC_ALLOC_BITS)\n\n \n#define REG_CAPS\t\t\t0x39640\n#define REG_CAPS_VERSION_MASK\t\tGENMASK(23, 16)\n#define REG_CAPS_VERSION_2\t\t0x40\n\n#define REG_DMA_MISC\t\t\t0x39864\n#define REG_DMA_MISC_INT_AUTO_CLEAR     BIT(2)\n#define REG_DMA_MISC_DISABLE_AUTO_CLEAR\tBIT(17)\n\n#define REG_RESET\t\t\t0x39898\n#define REG_RESET_HRR\t\t\tBIT(0)\n\n#define REG_INMAIL_DATA\t\t\t0x39900\n\n#define REG_INMAIL_CMD\t\t\t0x39904\n#define REG_INMAIL_CMD_MASK\t\tGENMASK(7, 0)\n#define REG_INMAIL_ERROR\t\tBIT(30)\n#define REG_INMAIL_OP_REQUEST\t\tBIT(31)\n\n#define REG_OUTMAIL_CMD\t\t\t0x3990c\n#define REG_OUTMAIL_CMD_OPMODE_SHIFT\t8\n#define REG_OUTMAIL_CMD_OPMODE_MASK\tGENMASK(11, 8)\n\n#define REG_FW_STS\t\t\t0x39944\n#define REG_FW_STS_NVM_AUTH_DONE\tBIT(31)\n#define REG_FW_STS_CIO_RESET_REQ\tBIT(30)\n#define REG_FW_STS_ICM_EN_CPU\t\tBIT(2)\n#define REG_FW_STS_ICM_EN_INVERT\tBIT(1)\n#define REG_FW_STS_ICM_EN\t\tBIT(0)\n\n \n\n \n#define VS_CAP_9\t\t\t0xc8\n#define VS_CAP_9_FW_READY\t\tBIT(31)\n \n#define VS_CAP_10\t\t\t0xcc\n#define VS_CAP_11\t\t\t0xd0\n \n#define VS_CAP_15\t\t\t0xe0\n#define VS_CAP_16\t\t\t0xe4\n \n#define VS_CAP_18\t\t\t0xec\n#define VS_CAP_18_DONE\t\t\tBIT(0)\n \n#define VS_CAP_19\t\t\t0xf0\n#define VS_CAP_19_VALID\t\t\tBIT(0)\n#define VS_CAP_19_CMD_SHIFT\t\t1\n#define VS_CAP_19_CMD_MASK\t\tGENMASK(7, 1)\n \n#define VS_CAP_22\t\t\t0xfc\n#define VS_CAP_22_FORCE_POWER\t\tBIT(1)\n#define VS_CAP_22_DMA_DELAY_MASK\tGENMASK(31, 24)\n#define VS_CAP_22_DMA_DELAY_SHIFT\t24\n\n \nenum icl_lc_mailbox_cmd {\n\tICL_LC_GO2SX = 0x02,\n\tICL_LC_GO2SX_NO_WAKE = 0x03,\n\tICL_LC_PREPARE_FOR_RESET = 0x21,\n};\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}