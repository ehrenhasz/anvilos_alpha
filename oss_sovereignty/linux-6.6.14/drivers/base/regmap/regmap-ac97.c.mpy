{
  "module_name": "regmap-ac97.c",
  "hash_id": "9f7dc5d1f02b4072c24943de2eb9cac1f9dfb26ea75416b4d22ddcc39b4686f5",
  "original_prompt": "Ingested from linux-6.6.14/drivers/base/regmap/regmap-ac97.c",
  "human_readable_source": "\n\n\n\n\n\n#include <linux/clk.h>\n#include <linux/err.h>\n#include <linux/init.h>\n#include <linux/io.h>\n#include <linux/module.h>\n#include <linux/regmap.h>\n#include <linux/slab.h>\n\n#include <sound/ac97_codec.h>\n\nbool regmap_ac97_default_volatile(struct device *dev, unsigned int reg)\n{\n\tswitch (reg) {\n\tcase AC97_RESET:\n\tcase AC97_POWERDOWN:\n\tcase AC97_INT_PAGING:\n\tcase AC97_EXTENDED_ID:\n\tcase AC97_EXTENDED_STATUS:\n\tcase AC97_EXTENDED_MID:\n\tcase AC97_EXTENDED_MSTATUS:\n\tcase AC97_GPIO_STATUS:\n\tcase AC97_MISC_AFE:\n\tcase AC97_VENDOR_ID1:\n\tcase AC97_VENDOR_ID2:\n\tcase AC97_CODEC_CLASS_REV:\n\tcase AC97_PCI_SVID:\n\tcase AC97_PCI_SID:\n\tcase AC97_FUNC_SELECT:\n\tcase AC97_FUNC_INFO:\n\tcase AC97_SENSE_INFO:\n\t\treturn true;\n\tdefault:\n\t\treturn false;\n\t}\n}\nEXPORT_SYMBOL_GPL(regmap_ac97_default_volatile);\n\nstatic int regmap_ac97_reg_read(void *context, unsigned int reg,\n\tunsigned int *val)\n{\n\tstruct snd_ac97 *ac97 = context;\n\n\t*val = ac97->bus->ops->read(ac97, reg);\n\n\treturn 0;\n}\n\nstatic int regmap_ac97_reg_write(void *context, unsigned int reg,\n\tunsigned int val)\n{\n\tstruct snd_ac97 *ac97 = context;\n\n\tac97->bus->ops->write(ac97, reg, val);\n\n\treturn 0;\n}\n\nstatic const struct regmap_bus ac97_regmap_bus = {\n\t.reg_write = regmap_ac97_reg_write,\n\t.reg_read = regmap_ac97_reg_read,\n};\n\nstruct regmap *__regmap_init_ac97(struct snd_ac97 *ac97,\n\t\t\t\t  const struct regmap_config *config,\n\t\t\t\t  struct lock_class_key *lock_key,\n\t\t\t\t  const char *lock_name)\n{\n\treturn __regmap_init(&ac97->dev, &ac97_regmap_bus, ac97, config,\n\t\t\t     lock_key, lock_name);\n}\nEXPORT_SYMBOL_GPL(__regmap_init_ac97);\n\nstruct regmap *__devm_regmap_init_ac97(struct snd_ac97 *ac97,\n\t\t\t\t       const struct regmap_config *config,\n\t\t\t\t       struct lock_class_key *lock_key,\n\t\t\t\t       const char *lock_name)\n{\n\treturn __devm_regmap_init(&ac97->dev, &ac97_regmap_bus, ac97, config,\n\t\t\t\t  lock_key, lock_name);\n}\nEXPORT_SYMBOL_GPL(__devm_regmap_init_ac97);\n\nMODULE_LICENSE(\"GPL v2\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}