{
  "module_name": "mc.h",
  "hash_id": "db903a8d92e5809e2338bfa6a859c648cd69a27711bcc7e5065081900adf4591",
  "original_prompt": "Ingested from linux-6.6.14/drivers/memory/tegra/mc.h",
  "human_readable_source": " \n \n\n#ifndef MEMORY_TEGRA_MC_H\n#define MEMORY_TEGRA_MC_H\n\n#include <linux/bits.h>\n#include <linux/io.h>\n#include <linux/types.h>\n\n#include <soc/tegra/mc.h>\n\n#define MC_INTSTATUS\t\t\t\t\t0x00\n#define MC_INTMASK\t\t\t\t\t0x04\n#define MC_ERR_STATUS\t\t\t\t\t0x08\n#define MC_ERR_ADR\t\t\t\t\t0x0c\n#define MC_GART_ERROR_REQ\t\t\t\t0x30\n#define MC_EMEM_ADR_CFG\t\t\t\t\t0x54\n#define MC_DECERR_EMEM_OTHERS_STATUS\t\t\t0x58\n#define MC_SECURITY_VIOLATION_STATUS\t\t\t0x74\n#define MC_EMEM_ARB_CFG\t\t\t\t\t0x90\n#define MC_EMEM_ARB_OUTSTANDING_REQ\t\t\t0x94\n#define MC_EMEM_ARB_TIMING_RCD\t\t\t\t0x98\n#define MC_EMEM_ARB_TIMING_RP\t\t\t\t0x9c\n#define MC_EMEM_ARB_TIMING_RC\t\t\t\t0xa0\n#define MC_EMEM_ARB_TIMING_RAS\t\t\t\t0xa4\n#define MC_EMEM_ARB_TIMING_FAW\t\t\t\t0xa8\n#define MC_EMEM_ARB_TIMING_RRD\t\t\t\t0xac\n#define MC_EMEM_ARB_TIMING_RAP2PRE\t\t\t0xb0\n#define MC_EMEM_ARB_TIMING_WAP2PRE\t\t\t0xb4\n#define MC_EMEM_ARB_TIMING_R2R\t\t\t\t0xb8\n#define MC_EMEM_ARB_TIMING_W2W\t\t\t\t0xbc\n#define MC_EMEM_ARB_TIMING_R2W\t\t\t\t0xc0\n#define MC_EMEM_ARB_TIMING_W2R\t\t\t\t0xc4\n#define MC_EMEM_ARB_MISC2\t\t\t\t0xc8\n#define MC_EMEM_ARB_DA_TURNS\t\t\t\t0xd0\n#define MC_EMEM_ARB_DA_COVERS\t\t\t\t0xd4\n#define MC_EMEM_ARB_MISC0\t\t\t\t0xd8\n#define MC_EMEM_ARB_MISC1\t\t\t\t0xdc\n#define MC_EMEM_ARB_RING1_THROTTLE\t\t\t0xe0\n#define MC_EMEM_ARB_OVERRIDE\t\t\t\t0xe8\n#define MC_TIMING_CONTROL_DBG\t\t\t\t0xf8\n#define MC_TIMING_CONTROL\t\t\t\t0xfc\n#define MC_ERR_VPR_STATUS\t\t\t\t0x654\n#define MC_ERR_VPR_ADR\t\t\t\t\t0x658\n#define MC_ERR_SEC_STATUS\t\t\t\t0x67c\n#define MC_ERR_SEC_ADR\t\t\t\t\t0x680\n#define MC_ERR_MTS_STATUS\t\t\t\t0x9b0\n#define MC_ERR_MTS_ADR\t\t\t\t\t0x9b4\n#define MC_ERR_ROUTE_SANITY_STATUS\t\t\t0x9c0\n#define MC_ERR_ROUTE_SANITY_ADR\t\t\t\t0x9c4\n#define MC_ERR_GENERALIZED_CARVEOUT_STATUS\t\t0xc00\n#define MC_ERR_GENERALIZED_CARVEOUT_ADR\t\t\t0xc04\n#define MC_EMEM_ADR_CFG_CHANNEL_ENABLE\t\t\t0xdf8\n#define MC_GLOBAL_INTSTATUS\t\t\t\t0xf24\n#define MC_ERR_ADR_HI\t\t\t\t\t0x11fc\n\n#define MC_INT_DECERR_ROUTE_SANITY\t\t\tBIT(20)\n#define MC_INT_DECERR_GENERALIZED_CARVEOUT\t\tBIT(17)\n#define MC_INT_DECERR_MTS\t\t\t\tBIT(16)\n#define MC_INT_SECERR_SEC\t\t\t\tBIT(13)\n#define MC_INT_DECERR_VPR\t\t\t\tBIT(12)\n#define MC_INT_INVALID_APB_ASID_UPDATE\t\t\tBIT(11)\n#define MC_INT_INVALID_SMMU_PAGE\t\t\tBIT(10)\n#define MC_INT_ARBITRATION_EMEM\t\t\t\tBIT(9)\n#define MC_INT_SECURITY_VIOLATION\t\t\tBIT(8)\n#define MC_INT_INVALID_GART_PAGE\t\t\tBIT(7)\n#define MC_INT_DECERR_EMEM\t\t\t\tBIT(6)\n\n#define MC_ERR_STATUS_TYPE_SHIFT\t\t\t28\n#define MC_ERR_STATUS_TYPE_INVALID_SMMU_PAGE\t\t(0x6 << 28)\n#define MC_ERR_STATUS_TYPE_MASK\t\t\t\t(0x7 << 28)\n#define MC_ERR_STATUS_READABLE\t\t\t\tBIT(27)\n#define MC_ERR_STATUS_WRITABLE\t\t\t\tBIT(26)\n#define MC_ERR_STATUS_NONSECURE\t\t\t\tBIT(25)\n#define MC_ERR_STATUS_ADR_HI_SHIFT\t\t\t20\n#define MC_ERR_STATUS_ADR_HI_MASK\t\t\t0x3\n#define MC_ERR_STATUS_SECURITY\t\t\t\tBIT(17)\n#define MC_ERR_STATUS_RW\t\t\t\tBIT(16)\n\n#define MC_EMEM_ADR_CFG_EMEM_NUMDEV\t\t\tBIT(0)\n\n#define MC_EMEM_ARB_CFG_CYCLES_PER_UPDATE(x)\t\t((x) & 0x1ff)\n#define MC_EMEM_ARB_CFG_CYCLES_PER_UPDATE_MASK\t\t0x1ff\n\n#define MC_EMEM_ARB_OUTSTANDING_REQ_MAX_MASK\t\t0x1ff\n#define MC_EMEM_ARB_OUTSTANDING_REQ_HOLDOFF_OVERRIDE\tBIT(30)\n#define MC_EMEM_ARB_OUTSTANDING_REQ_LIMIT_ENABLE\tBIT(31)\n\n#define MC_EMEM_ARB_OVERRIDE_EACK_MASK\t\t\t0x3\n\n#define MC_TIMING_UPDATE\t\t\t\tBIT(0)\n\n#define MC_BROADCAST_CHANNEL\t\t\t\t~0\n\nstatic inline u32 tegra_mc_scale_percents(u64 val, unsigned int percents)\n{\n\tval = val * percents;\n\tdo_div(val, 100);\n\n\treturn min_t(u64, val, U32_MAX);\n}\n\nstatic inline struct tegra_mc *\nicc_provider_to_tegra_mc(struct icc_provider *provider)\n{\n\treturn container_of(provider, struct tegra_mc, provider);\n}\n\nstatic inline u32 mc_ch_readl(const struct tegra_mc *mc, int ch,\n\t\t\t      unsigned long offset)\n{\n\tif (!mc->bcast_ch_regs)\n\t\treturn 0;\n\n\tif (ch == MC_BROADCAST_CHANNEL)\n\t\treturn readl_relaxed(mc->bcast_ch_regs + offset);\n\n\treturn readl_relaxed(mc->ch_regs[ch] + offset);\n}\n\nstatic inline void mc_ch_writel(const struct tegra_mc *mc, int ch,\n\t\t\t\tu32 value, unsigned long offset)\n{\n\tif (!mc->bcast_ch_regs)\n\t\treturn;\n\n\tif (ch == MC_BROADCAST_CHANNEL)\n\t\twritel_relaxed(value, mc->bcast_ch_regs + offset);\n\telse\n\t\twritel_relaxed(value, mc->ch_regs[ch] + offset);\n}\n\nstatic inline u32 mc_readl(const struct tegra_mc *mc, unsigned long offset)\n{\n\treturn readl_relaxed(mc->regs + offset);\n}\n\nstatic inline void mc_writel(const struct tegra_mc *mc, u32 value,\n\t\t\t     unsigned long offset)\n{\n\twritel_relaxed(value, mc->regs + offset);\n}\n\nextern const struct tegra_mc_reset_ops tegra_mc_reset_ops_common;\n\n#ifdef CONFIG_ARCH_TEGRA_2x_SOC\nextern const struct tegra_mc_soc tegra20_mc_soc;\n#endif\n\n#ifdef CONFIG_ARCH_TEGRA_3x_SOC\nextern const struct tegra_mc_soc tegra30_mc_soc;\n#endif\n\n#ifdef CONFIG_ARCH_TEGRA_114_SOC\nextern const struct tegra_mc_soc tegra114_mc_soc;\n#endif\n\n#ifdef CONFIG_ARCH_TEGRA_124_SOC\nextern const struct tegra_mc_soc tegra124_mc_soc;\n#endif\n\n#ifdef CONFIG_ARCH_TEGRA_132_SOC\nextern const struct tegra_mc_soc tegra132_mc_soc;\n#endif\n\n#ifdef CONFIG_ARCH_TEGRA_210_SOC\nextern const struct tegra_mc_soc tegra210_mc_soc;\n#endif\n\n#ifdef CONFIG_ARCH_TEGRA_186_SOC\nextern const struct tegra_mc_soc tegra186_mc_soc;\n#endif\n\n#ifdef CONFIG_ARCH_TEGRA_194_SOC\nextern const struct tegra_mc_soc tegra194_mc_soc;\n#endif\n\n#ifdef CONFIG_ARCH_TEGRA_234_SOC\nextern const struct tegra_mc_soc tegra234_mc_soc;\n#endif\n\n#if defined(CONFIG_ARCH_TEGRA_3x_SOC) || \\\n    defined(CONFIG_ARCH_TEGRA_114_SOC) || \\\n    defined(CONFIG_ARCH_TEGRA_124_SOC) || \\\n    defined(CONFIG_ARCH_TEGRA_132_SOC) || \\\n    defined(CONFIG_ARCH_TEGRA_210_SOC)\nint tegra30_mc_probe(struct tegra_mc *mc);\nextern const struct tegra_mc_ops tegra30_mc_ops;\n#endif\n\n#if defined(CONFIG_ARCH_TEGRA_186_SOC) || \\\n    defined(CONFIG_ARCH_TEGRA_194_SOC) || \\\n    defined(CONFIG_ARCH_TEGRA_234_SOC)\nextern const struct tegra_mc_ops tegra186_mc_ops;\n#endif\n\nirqreturn_t tegra30_mc_handle_irq(int irq, void *data);\nextern const char * const tegra_mc_status_names[32];\nextern const char * const tegra_mc_error_names[8];\n\n \n#define TEGRA_ICC_MC\t\t1000\n#define TEGRA_ICC_EMC\t\t1001\n#define TEGRA_ICC_EMEM\t\t1002\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}