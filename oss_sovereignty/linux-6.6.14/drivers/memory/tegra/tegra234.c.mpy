{
  "module_name": "tegra234.c",
  "hash_id": "40eb12477c697e39bdffc3d369a38706f6fc0c690fef0750a9e9681575a3db6f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/memory/tegra/tegra234.c",
  "human_readable_source": "\n \n\n#include <soc/tegra/mc.h>\n\n#include <dt-bindings/memory/tegra234-mc.h>\n#include <linux/interconnect.h>\n#include <linux/tegra-icc.h>\n\n#include <soc/tegra/bpmp.h>\n#include \"mc.h\"\n\n \nstatic const struct tegra_mc_client tegra234_mc_clients[] = {\n\t{\n\t\t.id = TEGRA234_MEMORY_CLIENT_HDAR,\n\t\t.name = \"hdar\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_HDA,\n\t\t.type = TEGRA_ICC_ISO_AUDIO,\n\t\t.sid = TEGRA234_SID_HDA,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0xa8,\n\t\t\t\t.security = 0xac,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_NVENCSRD,\n\t\t.name = \"nvencsrd\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_NVENC,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_NVENC,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0xe0,\n\t\t\t\t.security = 0xe4,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE6AR,\n\t\t.name = \"pcie6ar\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_6,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE6,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x140,\n\t\t\t\t.security = 0x144,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE6AW,\n\t\t.name = \"pcie6aw\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_6,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE6,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x148,\n\t\t\t\t.security = 0x14c,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE7AR,\n\t\t.name = \"pcie7ar\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_7,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE7,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x150,\n\t\t\t\t.security = 0x154,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_NVENCSWR,\n\t\t.name = \"nvencswr\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_NVENC,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_NVENC,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x158,\n\t\t\t\t.security = 0x15c,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_DLA0RDB,\n\t\t.name = \"dla0rdb\",\n\t\t.sid = TEGRA234_SID_NVDLA0,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x160,\n\t\t\t\t.security = 0x164,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_DLA0RDB1,\n\t\t.name = \"dla0rdb1\",\n\t\t.sid = TEGRA234_SID_NVDLA0,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x168,\n\t\t\t\t.security = 0x16c,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_DLA0WRB,\n\t\t.name = \"dla0wrb\",\n\t\t.sid = TEGRA234_SID_NVDLA0,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x170,\n\t\t\t\t.security = 0x174,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_DLA1RDB,\n\t\t.name = \"dla0rdb\",\n\t\t.sid = TEGRA234_SID_NVDLA1,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x178,\n\t\t\t\t.security = 0x17c,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE7AW,\n\t\t.name = \"pcie7aw\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_7,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE7,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x180,\n\t\t\t\t.security = 0x184,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE8AR,\n\t\t.name = \"pcie8ar\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_8,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE8,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x190,\n\t\t\t\t.security = 0x194,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_HDAW,\n\t\t.name = \"hdaw\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_HDA,\n\t\t.type = TEGRA_ICC_ISO_AUDIO,\n\t\t.sid = TEGRA234_SID_HDA,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x1a8,\n\t\t\t\t.security = 0x1ac,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE8AW,\n\t\t.name = \"pcie8aw\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_8,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE8,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x1d8,\n\t\t\t\t.security = 0x1dc,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE9AR,\n\t\t.name = \"pcie9ar\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_9,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE9,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x1e0,\n\t\t\t\t.security = 0x1e4,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE6AR1,\n\t\t.name = \"pcie6ar1\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_6,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE6,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x1e8,\n\t\t\t\t.security = 0x1ec,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE9AW,\n\t\t.name = \"pcie9aw\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_9,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE9,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x1f0,\n\t\t\t\t.security = 0x1f4,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE10AR,\n\t\t.name = \"pcie10ar\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_10,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE10,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x1f8,\n\t\t\t\t.security = 0x1fc,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE10AW,\n\t\t.name = \"pcie10aw\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_10,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE10,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x200,\n\t\t\t\t.security = 0x204,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE10AR1,\n\t\t.name = \"pcie10ar1\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_10,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE10,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x240,\n\t\t\t\t.security = 0x244,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE7AR1,\n\t\t.name = \"pcie7ar1\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_7,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE7,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x248,\n\t\t\t\t.security = 0x24c,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_MGBEARD,\n\t\t.name = \"mgbeard\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_EQOS,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_MGBE,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x2c0,\n\t\t\t\t.security = 0x2c4,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_MGBEBRD,\n\t\t.name = \"mgbebrd\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_EQOS,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_MGBE_VF1,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x2c8,\n\t\t\t\t.security = 0x2cc,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_MGBECRD,\n\t\t.name = \"mgbecrd\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_EQOS,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_MGBE_VF2,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x2d0,\n\t\t\t\t.security = 0x2d4,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_MGBEDRD,\n\t\t.name = \"mgbedrd\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_EQOS,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_MGBE_VF3,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x2d8,\n\t\t\t\t.security = 0x2dc,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_MGBEAWR,\n\t\t.bpmp_id = TEGRA_ICC_BPMP_EQOS,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.name = \"mgbeawr\",\n\t\t.sid = TEGRA234_SID_MGBE,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x2e0,\n\t\t\t\t.security = 0x2e4,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_MGBEBWR,\n\t\t.name = \"mgbebwr\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_EQOS,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_MGBE_VF1,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x2f8,\n\t\t\t\t.security = 0x2fc,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_MGBECWR,\n\t\t.name = \"mgbecwr\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_EQOS,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_MGBE_VF2,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x308,\n\t\t\t\t.security = 0x30c,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_SDMMCRAB,\n\t\t.name = \"sdmmcrab\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_SDMMC_4,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_SDMMC4,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x318,\n\t\t\t\t.security = 0x31c,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_MGBEDWR,\n\t\t.name = \"mgbedwr\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_EQOS,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_MGBE_VF3,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x328,\n\t\t\t\t.security = 0x32c,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_SDMMCWAB,\n\t\t.name = \"sdmmcwab\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_SDMMC_4,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_SDMMC4,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x338,\n\t\t\t\t.security = 0x33c,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_VICSRD,\n\t\t.name = \"vicsrd\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_VIC,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_VIC,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x360,\n\t\t\t\t.security = 0x364,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_VICSWR,\n\t\t.name = \"vicswr\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_VIC,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_VIC,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x368,\n\t\t\t\t.security = 0x36c,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_DLA1RDB1,\n\t\t.name = \"dla0rdb1\",\n\t\t.sid = TEGRA234_SID_NVDLA1,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x370,\n\t\t\t\t.security = 0x374,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_DLA1WRB,\n\t\t.name = \"dla0wrb\",\n\t\t.sid = TEGRA234_SID_NVDLA1,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x378,\n\t\t\t\t.security = 0x37c,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_VI2W,\n\t\t.name = \"vi2w\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_VI2,\n\t\t.type = TEGRA_ICC_ISO_VI,\n\t\t.sid = TEGRA234_SID_ISO_VI2,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x380,\n\t\t\t\t.security = 0x384,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_VI2FALR,\n\t\t.name = \"vi2falr\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_VI2FAL,\n\t\t.type = TEGRA_ICC_ISO_VIFAL,\n\t\t.sid = TEGRA234_SID_ISO_VI2FALC,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x388,\n\t\t\t\t.security = 0x38c,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_NVDECSRD,\n\t\t.name = \"nvdecsrd\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_NVDEC,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_NVDEC,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x3c0,\n\t\t\t\t.security = 0x3c4,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_NVDECSWR,\n\t\t.name = \"nvdecswr\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_NVDEC,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_NVDEC,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x3c8,\n\t\t\t\t.security = 0x3cc,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_APER,\n\t\t.name = \"aper\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_APE,\n\t\t.type = TEGRA_ICC_ISO_AUDIO,\n\t\t.sid = TEGRA234_SID_APE,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x3d0,\n\t\t\t\t.security = 0x3d4,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_APEW,\n\t\t.name = \"apew\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_APE,\n\t\t.type = TEGRA_ICC_ISO_AUDIO,\n\t\t.sid = TEGRA234_SID_APE,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x3d8,\n\t\t\t\t.security = 0x3dc,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_VI2FALW,\n\t\t.name = \"vi2falw\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_VI2FAL,\n\t\t.type = TEGRA_ICC_ISO_VIFAL,\n\t\t.sid = TEGRA234_SID_ISO_VI2FALC,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x3e0,\n\t\t\t\t.security = 0x3e4,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_NVJPGSRD,\n\t\t.name = \"nvjpgsrd\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_NVJPG_0,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_NVJPG,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x3f0,\n\t\t\t\t.security = 0x3f4,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_NVJPGSWR,\n\t\t.name = \"nvjpgswr\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_NVJPG_0,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_NVJPG,\n\t\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x3f8,\n\t\t\t\t.security = 0x3fc,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_NVDISPLAYR,\n\t\t.name = \"nvdisplayr\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_DISPLAY,\n\t\t.type = TEGRA_ICC_ISO_DISPLAY,\n\t\t.sid = TEGRA234_SID_ISO_NVDISPLAY,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x490,\n\t\t\t\t.security = 0x494,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_BPMPR,\n\t\t.name = \"bpmpr\",\n\t\t.sid = TEGRA234_SID_BPMP,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x498,\n\t\t\t\t.security = 0x49c,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_BPMPW,\n\t\t.name = \"bpmpw\",\n\t\t.sid = TEGRA234_SID_BPMP,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x4a0,\n\t\t\t\t.security = 0x4a4,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_BPMPDMAR,\n\t\t.name = \"bpmpdmar\",\n\t\t.sid = TEGRA234_SID_BPMP,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x4a8,\n\t\t\t\t.security = 0x4ac,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_BPMPDMAW,\n\t\t.name = \"bpmpdmaw\",\n\t\t.sid = TEGRA234_SID_BPMP,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x4b0,\n\t\t\t\t.security = 0x4b4,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_APEDMAR,\n\t\t.name = \"apedmar\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_APEDMA,\n\t\t.type = TEGRA_ICC_ISO_AUDIO,\n\t\t.sid = TEGRA234_SID_APE,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x4f8,\n\t\t\t\t.security = 0x4fc,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_APEDMAW,\n\t\t.name = \"apedmaw\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_APEDMA,\n\t\t.type = TEGRA_ICC_ISO_AUDIO,\n\t\t.sid = TEGRA234_SID_APE,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x500,\n\t\t\t\t.security = 0x504,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_NVDISPLAYR1,\n\t\t.name = \"nvdisplayr1\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_DISPLAY,\n\t\t.type = TEGRA_ICC_ISO_DISPLAY,\n\t\t.sid = TEGRA234_SID_ISO_NVDISPLAY,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x508,\n\t\t\t\t.security = 0x50c,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_DLA0RDA,\n\t\t.name = \"dla0rda\",\n\t\t.sid = TEGRA234_SID_NVDLA0,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x5f0,\n\t\t\t\t.security = 0x5f4,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_DLA0FALRDB,\n\t\t.name = \"dla0falrdb\",\n\t\t.sid = TEGRA234_SID_NVDLA0,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x5f8,\n\t\t\t\t.security = 0x5fc,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_DLA0WRA,\n\t\t.name = \"dla0wra\",\n\t\t.sid = TEGRA234_SID_NVDLA0,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x600,\n\t\t\t\t.security = 0x604,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_DLA0FALWRB,\n\t\t.name = \"dla0falwrb\",\n\t\t.sid = TEGRA234_SID_NVDLA0,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x608,\n\t\t\t\t.security = 0x60c,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_DLA1RDA,\n\t\t.name = \"dla0rda\",\n\t\t.sid = TEGRA234_SID_NVDLA1,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x610,\n\t\t\t\t.security = 0x614,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_DLA1FALRDB,\n\t\t.name = \"dla0falrdb\",\n\t\t.sid = TEGRA234_SID_NVDLA1,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x618,\n\t\t\t\t.security = 0x61c,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_DLA1WRA,\n\t\t.name = \"dla0wra\",\n\t\t.sid = TEGRA234_SID_NVDLA1,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x620,\n\t\t\t\t.security = 0x624,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_DLA1FALWRB,\n\t\t.name = \"dla0falwrb\",\n\t\t.sid = TEGRA234_SID_NVDLA1,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x628,\n\t\t\t\t.security = 0x62c,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE0R,\n\t\t.name = \"pcie0r\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_0,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE0,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x6c0,\n\t\t\t\t.security = 0x6c4,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE0W,\n\t\t.name = \"pcie0w\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_0,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE0,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x6c8,\n\t\t\t\t.security = 0x6cc,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE1R,\n\t\t.name = \"pcie1r\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_1,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE1,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x6d0,\n\t\t\t\t.security = 0x6d4,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE1W,\n\t\t.name = \"pcie1w\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_1,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE1,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x6d8,\n\t\t\t\t.security = 0x6dc,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE2AR,\n\t\t.name = \"pcie2ar\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_2,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE2,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x6e0,\n\t\t\t\t.security = 0x6e4,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE2AW,\n\t\t.name = \"pcie2aw\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_2,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE2,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x6e8,\n\t\t\t\t.security = 0x6ec,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE3R,\n\t\t.name = \"pcie3r\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_3,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE3,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x6f0,\n\t\t\t\t.security = 0x6f4,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE3W,\n\t\t.name = \"pcie3w\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_3,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE3,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x6f8,\n\t\t\t\t.security = 0x6fc,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE4R,\n\t\t.name = \"pcie4r\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_4,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE4,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x700,\n\t\t\t\t.security = 0x704,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE4W,\n\t\t.name = \"pcie4w\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_4,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE4,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x708,\n\t\t\t\t.security = 0x70c,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE5R,\n\t\t.name = \"pcie5r\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_5,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE5,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x710,\n\t\t\t\t.security = 0x714,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE5W,\n\t\t.name = \"pcie5w\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_5,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE5,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x718,\n\t\t\t\t.security = 0x71c,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_DLA0RDA1,\n\t\t.name = \"dla0rda1\",\n\t\t.sid = TEGRA234_SID_NVDLA0,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x748,\n\t\t\t\t.security = 0x74c,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_DLA1RDA1,\n\t\t.name = \"dla0rda1\",\n\t\t.sid = TEGRA234_SID_NVDLA1,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x750,\n\t\t\t\t.security = 0x754,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_PCIE5R1,\n\t\t.name = \"pcie5r1\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_PCIE_5,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_PCIE5,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x778,\n\t\t\t\t.security = 0x77c,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_NVJPG1SRD,\n\t\t.name = \"nvjpg1srd\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_NVJPG_1,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_NVJPG1,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x918,\n\t\t\t\t.security = 0x91c,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_NVJPG1SWR,\n\t\t.name = \"nvjpg1swr\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_NVJPG_1,\n\t\t.type = TEGRA_ICC_NISO,\n\t\t.sid = TEGRA234_SID_NVJPG1,\n\t\t.regs = {\n\t\t\t.sid = {\n\t\t\t\t.override = 0x920,\n\t\t\t\t.security = 0x924,\n\t\t\t},\n\t\t},\n\t}, {\n\t\t.id = TEGRA_ICC_MC_CPU_CLUSTER0,\n\t\t.name = \"sw_cluster0\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_CPU_CLUSTER0,\n\t\t.type = TEGRA_ICC_NISO,\n\t}, {\n\t\t.id = TEGRA_ICC_MC_CPU_CLUSTER1,\n\t\t.name = \"sw_cluster1\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_CPU_CLUSTER1,\n\t\t.type = TEGRA_ICC_NISO,\n\t}, {\n\t\t.id = TEGRA_ICC_MC_CPU_CLUSTER2,\n\t\t.name = \"sw_cluster2\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_CPU_CLUSTER2,\n\t\t.type = TEGRA_ICC_NISO,\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_NVL1R,\n\t\t.name = \"nvl1r\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_GPU,\n\t\t.type = TEGRA_ICC_NISO,\n\t}, {\n\t\t.id = TEGRA234_MEMORY_CLIENT_NVL1W,\n\t\t.name = \"nvl1w\",\n\t\t.bpmp_id = TEGRA_ICC_BPMP_GPU,\n\t\t.type = TEGRA_ICC_NISO,\n\t},\n};\n\n \nstatic int tegra234_mc_icc_set(struct icc_node *src, struct icc_node *dst)\n{\n\tstruct tegra_mc *mc = icc_provider_to_tegra_mc(dst->provider);\n\tstruct mrq_bwmgr_int_request bwmgr_req = { 0 };\n\tstruct mrq_bwmgr_int_response bwmgr_resp = { 0 };\n\tconst struct tegra_mc_client *pclient = src->data;\n\tstruct tegra_bpmp_message msg;\n\tint ret;\n\n\t \n\tif (src->id == dst->id)\n\t\treturn 0;\n\n\tif (!mc->bwmgr_mrq_supported)\n\t\treturn 0;\n\n\tif (!mc->bpmp) {\n\t\tdev_err(mc->dev, \"BPMP reference NULL\\n\");\n\t\treturn -ENOENT;\n\t}\n\n\tif (pclient->type == TEGRA_ICC_NISO)\n\t\tbwmgr_req.bwmgr_calc_set_req.niso_bw = src->avg_bw;\n\telse\n\t\tbwmgr_req.bwmgr_calc_set_req.iso_bw = src->avg_bw;\n\n\tbwmgr_req.bwmgr_calc_set_req.client_id = pclient->bpmp_id;\n\n\tbwmgr_req.cmd = CMD_BWMGR_INT_CALC_AND_SET;\n\tbwmgr_req.bwmgr_calc_set_req.mc_floor = src->peak_bw;\n\tbwmgr_req.bwmgr_calc_set_req.floor_unit = BWMGR_INT_UNIT_KBPS;\n\n\tmemset(&msg, 0, sizeof(msg));\n\tmsg.mrq = MRQ_BWMGR_INT;\n\tmsg.tx.data = &bwmgr_req;\n\tmsg.tx.size = sizeof(bwmgr_req);\n\tmsg.rx.data = &bwmgr_resp;\n\tmsg.rx.size = sizeof(bwmgr_resp);\n\n\tif (pclient->bpmp_id >= TEGRA_ICC_BPMP_CPU_CLUSTER0 &&\n\t    pclient->bpmp_id <= TEGRA_ICC_BPMP_CPU_CLUSTER2)\n\t\tmsg.flags = TEGRA_BPMP_MESSAGE_RESET;\n\n\tret = tegra_bpmp_transfer(mc->bpmp, &msg);\n\tif (ret < 0) {\n\t\tdev_err(mc->dev, \"BPMP transfer failed: %d\\n\", ret);\n\t\tgoto error;\n\t}\n\tif (msg.rx.ret < 0) {\n\t\tpr_err(\"failed to set bandwidth for %u: %d\\n\",\n\t\t       bwmgr_req.bwmgr_calc_set_req.client_id, msg.rx.ret);\n\t\tret = -EINVAL;\n\t}\n\nerror:\n\treturn ret;\n}\n\nstatic int tegra234_mc_icc_aggregate(struct icc_node *node, u32 tag, u32 avg_bw,\n\t\t\t\t     u32 peak_bw, u32 *agg_avg, u32 *agg_peak)\n{\n\tstruct icc_provider *p = node->provider;\n\tstruct tegra_mc *mc = icc_provider_to_tegra_mc(p);\n\n\tif (!mc->bwmgr_mrq_supported)\n\t\treturn 0;\n\n\tif (node->id == TEGRA_ICC_MC_CPU_CLUSTER0 ||\n\t    node->id == TEGRA_ICC_MC_CPU_CLUSTER1 ||\n\t    node->id == TEGRA_ICC_MC_CPU_CLUSTER2) {\n\t\tif (mc)\n\t\t\tpeak_bw = peak_bw * mc->num_channels;\n\t}\n\n\t*agg_avg += avg_bw;\n\t*agg_peak = max(*agg_peak, peak_bw);\n\n\treturn 0;\n}\n\nstatic int tegra234_mc_icc_get_init_bw(struct icc_node *node, u32 *avg, u32 *peak)\n{\n\t*avg = 0;\n\t*peak = 0;\n\n\treturn 0;\n}\n\nstatic const struct tegra_mc_icc_ops tegra234_mc_icc_ops = {\n\t.xlate = tegra_mc_icc_xlate,\n\t.aggregate = tegra234_mc_icc_aggregate,\n\t.get_bw = tegra234_mc_icc_get_init_bw,\n\t.set = tegra234_mc_icc_set,\n};\n\nconst struct tegra_mc_soc tegra234_mc_soc = {\n\t.num_clients = ARRAY_SIZE(tegra234_mc_clients),\n\t.clients = tegra234_mc_clients,\n\t.num_address_bits = 40,\n\t.num_channels = 16,\n\t.client_id_mask = 0x1ff,\n\t.intmask = MC_INT_DECERR_ROUTE_SANITY |\n\t\t   MC_INT_DECERR_GENERALIZED_CARVEOUT | MC_INT_DECERR_MTS |\n\t\t   MC_INT_SECERR_SEC | MC_INT_DECERR_VPR |\n\t\t   MC_INT_SECURITY_VIOLATION | MC_INT_DECERR_EMEM,\n\t.has_addr_hi_reg = true,\n\t.ops = &tegra186_mc_ops,\n\t.icc_ops = &tegra234_mc_icc_ops,\n\t.ch_intmask = 0x0000ff00,\n\t.global_intstatus_channel_shift = 8,\n\t \n\t.num_carveouts = 32,\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}