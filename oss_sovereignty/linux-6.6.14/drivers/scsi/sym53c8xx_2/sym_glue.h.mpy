{
  "module_name": "sym_glue.h",
  "hash_id": "00b49b9cacabd3a22af9b62940f2c5ac3822b3b4a67b734e7f0533582ca604a0",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/sym53c8xx_2/sym_glue.h",
  "human_readable_source": " \n \n\n#ifndef SYM_GLUE_H\n#define SYM_GLUE_H\n\n#include <linux/completion.h>\n#include <linux/delay.h>\n#include <linux/interrupt.h>\n#include <linux/ioport.h>\n#include <linux/pci.h>\n#include <linux/string.h>\n#include <linux/timer.h>\n#include <linux/types.h>\n\n#include <asm/io.h>\n#ifdef __sparc__\n#  include <asm/irq.h>\n#endif\n\n#include <scsi/scsi.h>\n#include <scsi/scsi_cmnd.h>\n#include <scsi/scsi_device.h>\n#include <scsi/scsi_transport_spi.h>\n#include <scsi/scsi_host.h>\n\n#include \"sym53c8xx.h\"\n#include \"sym_defs.h\"\n#include \"sym_misc.h\"\n\n \n#define\tSYM_CONF_TIMER_INTERVAL\t\t((HZ+1)/2)\n\n#undef SYM_OPT_HANDLE_DEVICE_QUEUEING\n#define SYM_OPT_LIMIT_COMMAND_REORDERING\n\n \n#define printf_emerg(args...)\tprintk(KERN_EMERG args)\n#define\tprintf_alert(args...)\tprintk(KERN_ALERT args)\n#define\tprintf_crit(args...)\tprintk(KERN_CRIT args)\n#define\tprintf_err(args...)\tprintk(KERN_ERR\targs)\n#define\tprintf_warning(args...)\tprintk(KERN_WARNING args)\n#define\tprintf_notice(args...)\tprintk(KERN_NOTICE args)\n#define\tprintf_info(args...)\tprintk(KERN_INFO args)\n#define\tprintf_debug(args...)\tprintk(KERN_DEBUG args)\n#define\tprintf(args...)\t\tprintk(args)\n\n \n\n#define MEMORY_READ_BARRIER()\trmb()\n#define MEMORY_WRITE_BARRIER()\twmb()\n\n \n\n#ifdef\t__BIG_ENDIAN\n\n#define\treadw_l2b\treadw\n#define\treadl_l2b\treadl\n#define\twritew_b2l\twritew\n#define\twritel_b2l\twritel\n\n#else\t \n\n#define\treadw_raw\treadw\n#define\treadl_raw\treadl\n#define\twritew_raw\twritew\n#define\twritel_raw\twritel\n\n#endif  \n\n#ifdef\tSYM_CONF_CHIP_BIG_ENDIAN\n#error\t\"Chips in BIG ENDIAN addressing mode are not (yet) supported\"\n#endif\n\n \n\n#define cpu_to_scr(dw)\tcpu_to_le32(dw)\n#define scr_to_cpu(dw)\tle32_to_cpu(dw)\n\n \n#define SCSI_SUCCESS\tSUCCESS\n#define SCSI_FAILED\tFAILED\n\n \n \n\n \n#define SYM_HAVE_SLCB\nstruct sym_slcb {\n\tu_short\treqtags;\t \n\tu_short scdev_depth;\t \n};\n\n \n \n\n \nstruct sym_shcb {\n\t \n\tint\t\tunit;\n\tchar\t\tinst_name[16];\n\tchar\t\tchip_name[8];\n\n\tstruct Scsi_Host *host;\n\n\tvoid __iomem *\tioaddr;\t\t \n\tvoid __iomem *\tramaddr;\t \n\n\tstruct timer_list timer;\t \n\tu_long\t\tlasttime;\n\tu_long\t\tsettle_time;\t \n\tu_char\t\tsettle_time_valid;\n};\n\n \n#define sym_name(np) (np)->s.inst_name\n\nstruct sym_nvram;\n\n \nstruct sym_device {\n\tstruct pci_dev *pdev;\n\tunsigned long mmio_base;\n\tunsigned long ram_base;\n\tstruct {\n\t\tvoid __iomem *ioaddr;\n\t\tvoid __iomem *ramaddr;\n\t} s;\n\tstruct sym_chip chip;\n\tstruct sym_nvram *nvram;\n\tu_char host_id;\n};\n\n \nstruct sym_data {\n\tstruct sym_hcb *ncb;\n\tstruct completion *io_reset;\t\t \n\tstruct pci_dev *pdev;\n};\n\nstatic inline struct sym_hcb * sym_get_hcb(struct Scsi_Host *host)\n{\n\treturn ((struct sym_data *)host->hostdata)->ncb;\n}\n\n#include \"sym_fw.h\"\n#include \"sym_hipd.h\"\n\n \nstatic inline void\nsym_set_cam_status(struct scsi_cmnd *cmd, int status)\n{\n\tcmd->result &= ~(0xff  << 16);\n\tcmd->result |= (status << 16);\n}\n\n \nstatic inline int\nsym_get_cam_status(struct scsi_cmnd *cmd)\n{\n\treturn host_byte(cmd->result);\n}\n\n \nstatic inline void sym_set_cam_result_ok(struct sym_ccb *cp, struct scsi_cmnd *cmd, int resid)\n{\n\tscsi_set_resid(cmd, resid);\n\tcmd->result = (DID_OK << 16) | (cp->ssss_status & 0x7f);\n}\nvoid sym_set_cam_result_error(struct sym_hcb *np, struct sym_ccb *cp, int resid);\n\nvoid sym_xpt_done(struct sym_hcb *np, struct scsi_cmnd *ccb);\n#define sym_print_addr(cmd, arg...) dev_info(&cmd->device->sdev_gendev , ## arg)\nvoid sym_xpt_async_bus_reset(struct sym_hcb *np);\nint  sym_setup_data_and_start (struct sym_hcb *np, struct scsi_cmnd *csio, struct sym_ccb *cp);\nvoid sym_log_bus_error(struct Scsi_Host *);\nvoid sym_dump_registers(struct Scsi_Host *);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}