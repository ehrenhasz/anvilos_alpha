{
  "module_name": "qedf_dbg.h",
  "hash_id": "c56cfc8c30ea3644de7bd8648bf2f053e51f82178a7b15af60236d2422229f35",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/qedf/qedf_dbg.h",
  "human_readable_source": " \n \n#ifndef _QEDF_DBG_H_\n#define _QEDF_DBG_H_\n\n#include <linux/types.h>\n#include <linux/kernel.h>\n#include <linux/compiler.h>\n#include <linux/string.h>\n#include <linux/pci.h>\n#include <linux/delay.h>\n#include <scsi/scsi_transport.h>\n#include <linux/fs.h>\n\n#include <linux/qed/common_hsi.h>\n#include <linux/qed/qed_if.h>\n\nextern uint qedf_debug;\n\n \n#define QEDF_LOG_DEFAULT\t0x1\t\t \n#define QEDF_LOG_INFO\t\t0x2\t\t \n#define QEDF_LOG_DISC\t\t0x4\t\t \n#define QEDF_LOG_LL2\t\t0x8\t\t \n#define QEDF_LOG_CONN\t\t0x10\t\t \n#define QEDF_LOG_EVT\t\t0x20\t\t \n#define QEDF_LOG_TIMER\t\t0x40\t\t \n#define QEDF_LOG_MP_REQ\t0x80\t\t \n#define QEDF_LOG_SCSI_TM\t0x100\t\t \n#define QEDF_LOG_UNSOL\t\t0x200\t\t \n#define QEDF_LOG_IO\t\t0x400\t\t \n#define QEDF_LOG_MQ\t\t0x800\t\t \n#define QEDF_LOG_BSG\t\t0x1000\t\t \n#define QEDF_LOG_DEBUGFS\t0x2000\t\t \n#define QEDF_LOG_LPORT\t\t0x4000\t\t \n#define QEDF_LOG_ELS\t\t0x8000\t\t \n#define QEDF_LOG_NPIV\t\t0x10000\t\t \n#define QEDF_LOG_SESS\t\t0x20000\t\t \n#define QEDF_LOG_TID\t\t0x80000          \n#define QEDF_TRACK_TID\t\t0x100000         \n#define QEDF_TRACK_CMD_LIST    0x300000         \n#define QEDF_LOG_NOTICE\t0x40000000\t \n#define QEDF_LOG_WARN\t\t0x80000000\t \n\n#define QEDF_DEBUGFS_LOG_LEN (2 * PAGE_SIZE)\n\n \nstruct qedf_dbg_ctx {\n\tunsigned int host_no;\n\tstruct pci_dev *pdev;\n#ifdef CONFIG_DEBUG_FS\n\tstruct dentry *bdf_dentry;\n#endif\n};\n\n#define QEDF_ERR(pdev, fmt, ...)\t\\\n\t\tqedf_dbg_err(pdev, __func__, __LINE__, fmt, ## __VA_ARGS__)\n#define QEDF_WARN(pdev, fmt, ...)\t\\\n\t\tqedf_dbg_warn(pdev, __func__, __LINE__, fmt, ## __VA_ARGS__)\n#define QEDF_NOTICE(pdev, fmt, ...)\t\\\n\t\tqedf_dbg_notice(pdev, __func__, __LINE__, fmt, ## __VA_ARGS__)\n#define QEDF_INFO(pdev, level, fmt, ...)\t\\\n\t\tqedf_dbg_info(pdev, __func__, __LINE__, level, fmt,\t\\\n\t\t\t      ## __VA_ARGS__)\n__printf(4, 5)\nvoid qedf_dbg_err(struct qedf_dbg_ctx *qedf, const char *func, u32 line,\n\t\t\t  const char *fmt, ...);\n__printf(4, 5)\nvoid qedf_dbg_warn(struct qedf_dbg_ctx *qedf, const char *func, u32 line,\n\t\t\t   const char *, ...);\n__printf(4, 5)\nvoid qedf_dbg_notice(struct qedf_dbg_ctx *qedf, const char *func,\n\t\t\t    u32 line, const char *, ...);\n__printf(5, 6)\nvoid qedf_dbg_info(struct qedf_dbg_ctx *qedf, const char *func, u32 line,\n\t\t\t  u32 info, const char *fmt, ...);\n\n \n\nstruct Scsi_Host;\n\n#define QEDF_UEVENT_CODE_GRCDUMP 0\n\nstruct sysfs_bin_attrs {\n\tchar *name;\n\tstruct bin_attribute *attr;\n};\n\nextern int qedf_alloc_grc_dump_buf(uint8_t **buf, uint32_t len);\nextern void qedf_free_grc_dump_buf(uint8_t **buf);\nextern int qedf_get_grc_dump(struct qed_dev *cdev,\n\t\t\t     const struct qed_common_ops *common, uint8_t **buf,\n\t\t\t     uint32_t *grcsize);\nextern void qedf_uevent_emit(struct Scsi_Host *shost, u32 code, char *msg);\nextern int qedf_create_sysfs_attr(struct Scsi_Host *shost,\n\t\t\t\t   struct sysfs_bin_attrs *iter);\nextern void qedf_remove_sysfs_attr(struct Scsi_Host *shost,\n\t\t\t\t    struct sysfs_bin_attrs *iter);\n\nstruct qedf_debugfs_ops {\n\tchar *name;\n\tstruct qedf_list_of_funcs *qedf_funcs;\n};\n\nextern const struct qedf_debugfs_ops qedf_debugfs_ops[];\nextern const struct file_operations qedf_dbg_fops[];\n\n#ifdef CONFIG_DEBUG_FS\n \nstruct qedf_list_of_funcs {\n\tchar *oper_str;\n\tssize_t (*oper_func)(struct qedf_dbg_ctx *qedf);\n};\n\n#define qedf_dbg_fileops(drv, ops) \\\n{ \\\n\t.owner  = THIS_MODULE, \\\n\t.open   = simple_open, \\\n\t.read   = drv##_dbg_##ops##_cmd_read, \\\n\t.write  = drv##_dbg_##ops##_cmd_write \\\n}\n\n \n#define qedf_dbg_fileops_seq(drv, ops) \\\n{ \\\n\t.owner = THIS_MODULE, \\\n\t.open = drv##_dbg_##ops##_open, \\\n\t.read = seq_read, \\\n\t.llseek = seq_lseek, \\\n\t.release = single_release, \\\n}\n\nextern void qedf_dbg_host_init(struct qedf_dbg_ctx *qedf,\n\t\t\t\tconst struct qedf_debugfs_ops *dops,\n\t\t\t\tconst struct file_operations *fops);\nextern void qedf_dbg_host_exit(struct qedf_dbg_ctx *qedf);\nextern void qedf_dbg_init(char *drv_name);\nextern void qedf_dbg_exit(void);\n#endif  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}