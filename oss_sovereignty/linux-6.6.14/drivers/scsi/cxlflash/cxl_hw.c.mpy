{
  "module_name": "cxl_hw.c",
  "hash_id": "841ae3edde85ec7112d59fe86b367a692905183fc69990e8140388fdc2304e90",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/cxlflash/cxl_hw.c",
  "human_readable_source": "\n \n\n#include <misc/cxl.h>\n\n#include \"backend.h\"\n\n \n\nstatic void __iomem *cxlflash_psa_map(void *ctx_cookie)\n{\n\treturn cxl_psa_map(ctx_cookie);\n}\n\nstatic void cxlflash_psa_unmap(void __iomem *addr)\n{\n\tcxl_psa_unmap(addr);\n}\n\nstatic int cxlflash_process_element(void *ctx_cookie)\n{\n\treturn cxl_process_element(ctx_cookie);\n}\n\nstatic int cxlflash_map_afu_irq(void *ctx_cookie, int num,\n\t\t\t\tirq_handler_t handler, void *cookie, char *name)\n{\n\treturn cxl_map_afu_irq(ctx_cookie, num, handler, cookie, name);\n}\n\nstatic void cxlflash_unmap_afu_irq(void *ctx_cookie, int num, void *cookie)\n{\n\tcxl_unmap_afu_irq(ctx_cookie, num, cookie);\n}\n\nstatic u64 cxlflash_get_irq_objhndl(void *ctx_cookie, int irq)\n{\n\t \n\treturn 0;\n}\n\nstatic int cxlflash_start_context(void *ctx_cookie)\n{\n\treturn cxl_start_context(ctx_cookie, 0, NULL);\n}\n\nstatic int cxlflash_stop_context(void *ctx_cookie)\n{\n\treturn cxl_stop_context(ctx_cookie);\n}\n\nstatic int cxlflash_afu_reset(void *ctx_cookie)\n{\n\treturn cxl_afu_reset(ctx_cookie);\n}\n\nstatic void cxlflash_set_master(void *ctx_cookie)\n{\n\tcxl_set_master(ctx_cookie);\n}\n\nstatic void *cxlflash_get_context(struct pci_dev *dev, void *afu_cookie)\n{\n\treturn cxl_get_context(dev);\n}\n\nstatic void *cxlflash_dev_context_init(struct pci_dev *dev, void *afu_cookie)\n{\n\treturn cxl_dev_context_init(dev);\n}\n\nstatic int cxlflash_release_context(void *ctx_cookie)\n{\n\treturn cxl_release_context(ctx_cookie);\n}\n\nstatic void cxlflash_perst_reloads_same_image(void *afu_cookie, bool image)\n{\n\tcxl_perst_reloads_same_image(afu_cookie, image);\n}\n\nstatic ssize_t cxlflash_read_adapter_vpd(struct pci_dev *dev,\n\t\t\t\t\t void *buf, size_t count)\n{\n\treturn cxl_read_adapter_vpd(dev, buf, count);\n}\n\nstatic int cxlflash_allocate_afu_irqs(void *ctx_cookie, int num)\n{\n\treturn cxl_allocate_afu_irqs(ctx_cookie, num);\n}\n\nstatic void cxlflash_free_afu_irqs(void *ctx_cookie)\n{\n\tcxl_free_afu_irqs(ctx_cookie);\n}\n\nstatic void *cxlflash_create_afu(struct pci_dev *dev)\n{\n\treturn cxl_pci_to_afu(dev);\n}\n\nstatic void cxlflash_destroy_afu(void *afu)\n{\n\t \n}\n\nstatic struct file *cxlflash_get_fd(void *ctx_cookie,\n\t\t\t\t    struct file_operations *fops, int *fd)\n{\n\treturn cxl_get_fd(ctx_cookie, fops, fd);\n}\n\nstatic void *cxlflash_fops_get_context(struct file *file)\n{\n\treturn cxl_fops_get_context(file);\n}\n\nstatic int cxlflash_start_work(void *ctx_cookie, u64 irqs)\n{\n\tstruct cxl_ioctl_start_work work = { 0 };\n\n\twork.num_interrupts = irqs;\n\twork.flags = CXL_START_WORK_NUM_IRQS;\n\n\treturn cxl_start_work(ctx_cookie, &work);\n}\n\nstatic int cxlflash_fd_mmap(struct file *file, struct vm_area_struct *vm)\n{\n\treturn cxl_fd_mmap(file, vm);\n}\n\nstatic int cxlflash_fd_release(struct inode *inode, struct file *file)\n{\n\treturn cxl_fd_release(inode, file);\n}\n\nconst struct cxlflash_backend_ops cxlflash_cxl_ops = {\n\t.module\t\t\t= THIS_MODULE,\n\t.psa_map\t\t= cxlflash_psa_map,\n\t.psa_unmap\t\t= cxlflash_psa_unmap,\n\t.process_element\t= cxlflash_process_element,\n\t.map_afu_irq\t\t= cxlflash_map_afu_irq,\n\t.unmap_afu_irq\t\t= cxlflash_unmap_afu_irq,\n\t.get_irq_objhndl\t= cxlflash_get_irq_objhndl,\n\t.start_context\t\t= cxlflash_start_context,\n\t.stop_context\t\t= cxlflash_stop_context,\n\t.afu_reset\t\t= cxlflash_afu_reset,\n\t.set_master\t\t= cxlflash_set_master,\n\t.get_context\t\t= cxlflash_get_context,\n\t.dev_context_init\t= cxlflash_dev_context_init,\n\t.release_context\t= cxlflash_release_context,\n\t.perst_reloads_same_image = cxlflash_perst_reloads_same_image,\n\t.read_adapter_vpd\t= cxlflash_read_adapter_vpd,\n\t.allocate_afu_irqs\t= cxlflash_allocate_afu_irqs,\n\t.free_afu_irqs\t\t= cxlflash_free_afu_irqs,\n\t.create_afu\t\t= cxlflash_create_afu,\n\t.destroy_afu\t\t= cxlflash_destroy_afu,\n\t.get_fd\t\t\t= cxlflash_get_fd,\n\t.fops_get_context\t= cxlflash_fops_get_context,\n\t.start_work\t\t= cxlflash_start_work,\n\t.fd_mmap\t\t= cxlflash_fd_mmap,\n\t.fd_release\t\t= cxlflash_fd_release,\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}