{
  "module_name": "main.h",
  "hash_id": "8043e15b2dff771229a7e7b6054be7451d7b70a8fbad8853de902312d4dcecc3",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/cxlflash/main.h",
  "human_readable_source": " \n \n\n#ifndef _CXLFLASH_MAIN_H\n#define _CXLFLASH_MAIN_H\n\n#include <linux/list.h>\n#include <linux/types.h>\n#include <scsi/scsi.h>\n#include <scsi/scsi_device.h>\n\n#include \"backend.h\"\n\n#define CXLFLASH_NAME\t\t\"cxlflash\"\n#define CXLFLASH_ADAPTER_NAME\t\"IBM POWER CXL Flash Adapter\"\n#define CXLFLASH_MAX_ADAPTERS\t32\n\n#define PCI_DEVICE_ID_IBM_CORSA\t\t0x04F0\n#define PCI_DEVICE_ID_IBM_FLASH_GT\t0x0600\n#define PCI_DEVICE_ID_IBM_BRIARD\t0x0624\n\n \n#define CXLFLASH_TARGET\t\t0\n#define CXLFLASH_MAX_CDB_LEN\t16\n\n \n#define CXLFLASH_MAX_NUM_TARGETS_PER_BUS\t1\n#define CXLFLASH_MAX_NUM_LUNS_PER_TARGET\t65536\n\n#define CXLFLASH_PCI_ERROR_RECOVERY_TIMEOUT\t(120 * HZ)\n\n \n#define FC_MTIP_CMDCONFIG 0x010\n#define FC_MTIP_STATUS 0x018\n#define FC_MAX_NUM_LUNS 0x080  \n#define FC_CUR_NUM_LUNS 0x088  \n#define FC_MAX_CAP_PORT 0x090  \n#define FC_CUR_CAP_PORT 0x098  \n\n#define FC_PNAME 0x300\n#define FC_CONFIG 0x320\n#define FC_CONFIG2 0x328\n#define FC_STATUS 0x330\n#define FC_ERROR 0x380\n#define FC_ERRCAP 0x388\n#define FC_ERRMSK 0x390\n#define FC_CNT_CRCERR 0x538\n#define FC_CRC_THRESH 0x580\n\n#define FC_MTIP_CMDCONFIG_ONLINE\t0x20ULL\n#define FC_MTIP_CMDCONFIG_OFFLINE\t0x40ULL\n\n#define FC_MTIP_STATUS_MASK\t\t0x30ULL\n#define FC_MTIP_STATUS_ONLINE\t\t0x20ULL\n#define FC_MTIP_STATUS_OFFLINE\t\t0x10ULL\n\n \n\n \n#define MC_AFU_SYNC_TIMEOUT\t5\t \n#define MC_LUN_PROV_TIMEOUT\t5\t \n#define MC_AFU_DEBUG_TIMEOUT\t5\t \n\n \n#define MC_ROOM_RETRY_CNT\t10\n\n \n#define MC_CRC_THRESH 100\t \n\n#define FC_PORT_STATUS_RETRY_CNT 100\t \n#define FC_PORT_STATUS_RETRY_INTERVAL_US 100000\t \n\n \n#define CXLFLASH_VPD_LEN\t256\n#define WWPN_LEN\t16\n#define WWPN_BUF_LEN\t(WWPN_LEN + 1)\n\nenum undo_level {\n\tUNDO_NOOP = 0,\n\tFREE_IRQ,\n\tUNMAP_ONE,\n\tUNMAP_TWO,\n\tUNMAP_THREE\n};\n\nstruct dev_dependent_vals {\n\tu64 max_sectors;\n\tu64 flags;\n#define CXLFLASH_NOTIFY_SHUTDOWN\t0x0000000000000001ULL\n#define CXLFLASH_WWPN_VPD_REQUIRED\t0x0000000000000002ULL\n#define CXLFLASH_OCXL_DEV\t\t0x0000000000000004ULL\n};\n\nstatic inline const struct cxlflash_backend_ops *\ncxlflash_assign_ops(struct dev_dependent_vals *ddv)\n{\n\tconst struct cxlflash_backend_ops *ops = NULL;\n\n#ifdef CONFIG_OCXL_BASE\n\tif (ddv->flags & CXLFLASH_OCXL_DEV)\n\t\tops = &cxlflash_ocxl_ops;\n#endif\n\n#ifdef CONFIG_CXL_BASE\n\tif (!(ddv->flags & CXLFLASH_OCXL_DEV))\n\t\tops = &cxlflash_cxl_ops;\n#endif\n\n\treturn ops;\n}\n\nstruct asyc_intr_info {\n\tu64 status;\n\tchar *desc;\n\tu8 port;\n\tu8 action;\n#define CLR_FC_ERROR\t0x01\n#define LINK_RESET\t0x02\n#define SCAN_HOST\t0x04\n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}