{
  "module_name": "atioctl.h",
  "hash_id": "0742ec98afd72a898b5062aff01243062b5aa926e7869950b892380c7fa6842c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/esas2r/atioctl.h",
  "human_readable_source": " \n \n \n \n\n#include \"atvda.h\"\n\n#ifndef ATIOCTL_H\n#define ATIOCTL_H\n\n#define EXPRESS_IOCTL_SIGNATURE        \"Express\"\n#define EXPRESS_IOCTL_SIGNATURE_SIZE   8\n\n \n\nstruct __packed atto_express_ioctl_header {\n\tu8 signature[EXPRESS_IOCTL_SIGNATURE_SIZE];\n\tu8 return_code;\n\n#define IOCTL_SUCCESS               0\n#define IOCTL_ERR_INVCMD          101\n#define IOCTL_INIT_FAILED         102\n#define IOCTL_NOT_IMPLEMENTED     103\n#define IOCTL_BAD_CHANNEL         104\n#define IOCTL_TARGET_OVERRUN      105\n#define IOCTL_TARGET_NOT_ENABLED  106\n#define IOCTL_BAD_FLASH_IMGTYPE   107\n#define IOCTL_OUT_OF_RESOURCES    108\n#define IOCTL_GENERAL_ERROR       109\n#define IOCTL_INVALID_PARAM       110\n\n\tu8 channel;\n\tu8 retries;\n\tu8 pad[5];\n};\n\n \n#define MAX_NODE_NAMES  256\n\nstruct __packed atto_firmware_rw_request {\n\tu8 function;\n\t#define FUNC_FW_DOWNLOAD        0x09\n\t#define FUNC_FW_UPLOAD          0x12\n\n\tu8 img_type;\n\t#define FW_IMG_FW               0x01\n\t#define FW_IMG_BIOS             0x02\n\t#define FW_IMG_NVR              0x03\n\t#define FW_IMG_RAW              0x04\n\t#define FW_IMG_FM_API           0x05\n\t#define FW_IMG_FS_API           0x06\n\n\tu8 pad[2];\n\tu32 img_offset;\n\tu32 img_size;\n\tu8 image[0x80000];\n};\n\nstruct __packed atto_param_rw_request {\n\tu16 code;\n\tchar data_buffer[512];\n};\n\n#define MAX_CHANNEL 256\n\nstruct __packed atto_channel_list {\n\tu32 num_channels;\n\tu8 channel[MAX_CHANNEL];\n};\n\nstruct __packed atto_channel_info {\n\tu8 major_rev;\n\tu8 minor_rev;\n\tu8 IRQ;\n\tu8 revision_id;\n\tu8 pci_bus;\n\tu8 pci_dev_func;\n\tu8 core_rev;\n\tu8 host_no;\n\tu16 device_id;\n\tu16 vendor_id;\n\tu16 ven_dev_id;\n\tu8 pad[3];\n\tu32 hbaapi_rev;\n};\n\n \n#define CSMI_CC_GET_DRVR_INFO        1\n#define CSMI_CC_GET_CNTLR_CFG        2\n#define CSMI_CC_GET_CNTLR_STS        3\n#define CSMI_CC_FW_DOWNLOAD          4\n\n \n#define CSMI_CC_GET_RAID_INFO        10\n#define CSMI_CC_GET_RAID_CFG         11\n\n \n#define CSMI_CC_GET_PHY_INFO         20\n#define CSMI_CC_SET_PHY_INFO         21\n#define CSMI_CC_GET_LINK_ERRORS      22\n#define CSMI_CC_SMP_PASSTHRU         23\n#define CSMI_CC_SSP_PASSTHRU         24\n#define CSMI_CC_STP_PASSTHRU         25\n#define CSMI_CC_GET_SATA_SIG         26\n#define CSMI_CC_GET_SCSI_ADDR        27\n#define CSMI_CC_GET_DEV_ADDR         28\n#define CSMI_CC_TASK_MGT             29\n#define CSMI_CC_GET_CONN_INFO        30\n\n \n#define CSMI_CC_PHY_CTRL             60\n\n \n#define CSMI_STS_SUCCESS             0\n#define CSMI_STS_FAILED              1\n#define CSMI_STS_BAD_CTRL_CODE       2\n#define CSMI_STS_INV_PARAM           3\n#define CSMI_STS_WRITE_ATTEMPTED     4\n\n \n#define CSMI_STS_INV_RAID_SET        1000\n\n \n#define CSMI_STS_PHY_CHANGED         CSMI_STS_SUCCESS\n#define CSMI_STS_PHY_UNCHANGEABLE    2000\n#define CSMI_STS_INV_LINK_RATE       2001\n#define CSMI_STS_INV_PHY             2002\n#define CSMI_STS_INV_PHY_FOR_PORT    2003\n#define CSMI_STS_PHY_UNSELECTABLE    2004\n#define CSMI_STS_SELECT_PHY_OR_PORT  2005\n#define CSMI_STS_INV_PORT            2006\n#define CSMI_STS_PORT_UNSELECTABLE   2007\n#define CSMI_STS_CONNECTION_FAILED   2008\n#define CSMI_STS_NO_SATA_DEV         2009\n#define CSMI_STS_NO_SATA_SIGNATURE   2010\n#define CSMI_STS_SCSI_EMULATION      2011\n#define CSMI_STS_NOT_AN_END_DEV      2012\n#define CSMI_STS_NO_SCSI_ADDR        2013\n#define CSMI_STS_NO_DEV_ADDR         2014\n\n \nstruct atto_csmi_get_driver_info {\n\tchar name[81];\n\tchar description[81];\n\tu16 major_rev;\n\tu16 minor_rev;\n\tu16 build_rev;\n\tu16 release_rev;\n\tu16 csmi_major_rev;\n\tu16 csmi_minor_rev;\n\t#define CSMI_MAJOR_REV_0_81      0\n\t#define CSMI_MINOR_REV_0_81      81\n\n\t#define CSMI_MAJOR_REV           CSMI_MAJOR_REV_0_81\n\t#define CSMI_MINOR_REV           CSMI_MINOR_REV_0_81\n};\n\nstruct atto_csmi_get_pci_bus_addr {\n\tu8 bus_num;\n\tu8 device_num;\n\tu8 function_num;\n\tu8 reserved;\n};\n\nstruct atto_csmi_get_cntlr_cfg {\n\tu32 base_io_addr;\n\n\tstruct {\n\t\tu32 base_memaddr_lo;\n\t\tu32 base_memaddr_hi;\n\t};\n\n\tu32 board_id;\n\tu16 slot_num;\n\t#define CSMI_SLOT_NUM_UNKNOWN    0xFFFF\n\n\tu8 cntlr_class;\n\t#define CSMI_CNTLR_CLASS_HBA     5\n\n\tu8 io_bus_type;\n\t#define CSMI_BUS_TYPE_PCI        3\n\t#define CSMI_BUS_TYPE_PCMCIA     4\n\n\tunion {\n\t\tstruct atto_csmi_get_pci_bus_addr pci_addr;\n\t\tu8 reserved[32];\n\t};\n\n\tchar serial_num[81];\n\tu16 major_rev;\n\tu16 minor_rev;\n\tu16 build_rev;\n\tu16 release_rev;\n\tu16 bios_major_rev;\n\tu16 bios_minor_rev;\n\tu16 bios_build_rev;\n\tu16 bios_release_rev;\n\tu32 cntlr_flags;\n\t#define CSMI_CNTLRF_SAS_HBA      0x00000001\n\t#define CSMI_CNTLRF_SAS_RAID     0x00000002\n\t#define CSMI_CNTLRF_SATA_HBA     0x00000004\n\t#define CSMI_CNTLRF_SATA_RAID    0x00000008\n\t#define CSMI_CNTLRF_FWD_SUPPORT  0x00010000\n\t#define CSMI_CNTLRF_FWD_ONLINE   0x00020000\n\t#define CSMI_CNTLRF_FWD_SRESET   0x00040000\n\t#define CSMI_CNTLRF_FWD_HRESET   0x00080000\n\t#define CSMI_CNTLRF_FWD_RROM     0x00100000\n\n\tu16 rrom_major_rev;\n\tu16 rrom_minor_rev;\n\tu16 rrom_build_rev;\n\tu16 rrom_release_rev;\n\tu16 rrom_biosmajor_rev;\n\tu16 rrom_biosminor_rev;\n\tu16 rrom_biosbuild_rev;\n\tu16 rrom_biosrelease_rev;\n\tu8 reserved2[7];\n};\n\nstruct atto_csmi_get_cntlr_sts {\n\tu32 status;\n\t#define CSMI_CNTLR_STS_GOOD          1\n\t#define CSMI_CNTLR_STS_FAILED        2\n\t#define CSMI_CNTLR_STS_OFFLINE       3\n\t#define CSMI_CNTLR_STS_POWEROFF      4\n\n\tu32 offline_reason;\n\t#define CSMI_OFFLINE_NO_REASON       0\n\t#define CSMI_OFFLINE_INITIALIZING    1\n\t#define CSMI_OFFLINE_BUS_DEGRADED    2\n\t#define CSMI_OFFLINE_BUS_FAILURE     3\n\n\tu8 reserved[28];\n};\n\nstruct atto_csmi_fw_download {\n\tu32 buffer_len;\n\tu32 download_flags;\n\t#define CSMI_FWDF_VALIDATE       0x00000001\n\t#define CSMI_FWDF_SOFT_RESET     0x00000002\n\t#define CSMI_FWDF_HARD_RESET     0x00000004\n\n\tu8 reserved[32];\n\tu16 status;\n\t#define CSMI_FWD_STS_SUCCESS     0\n\t#define CSMI_FWD_STS_FAILED      1\n\t#define CSMI_FWD_STS_USING_RROM  2\n\t#define CSMI_FWD_STS_REJECT      3\n\t#define CSMI_FWD_STS_DOWNREV     4\n\n\tu16 severity;\n\t#define CSMI_FWD_SEV_INFO        0\n\t#define CSMI_FWD_SEV_WARNING     1\n\t#define CSMI_FWD_SEV_ERROR       2\n\t#define CSMI_FWD_SEV_FATAL       3\n\n};\n\n \nstruct atto_csmi_get_raid_info {\n\tu32 num_raid_sets;\n\tu32 max_drivesper_set;\n\tu8 reserved[92];\n};\n\nstruct atto_csmi_raid_drives {\n\tchar model[40];\n\tchar firmware[8];\n\tchar serial_num[40];\n\tu8 sas_addr[8];\n\tu8 lun[8];\n\tu8 drive_sts;\n\t#define CSMI_DRV_STS_OK          0\n\t#define CSMI_DRV_STS_REBUILDING  1\n\t#define CSMI_DRV_STS_FAILED      2\n\t#define CSMI_DRV_STS_DEGRADED    3\n\n\tu8 drive_usage;\n\t#define CSMI_DRV_USE_NOT_USED    0\n\t#define CSMI_DRV_USE_MEMBER      1\n\t#define CSMI_DRV_USE_SPARE       2\n\n\tu8 reserved[30];  \n};\n\nstruct atto_csmi_get_raid_cfg {\n\tu32 raid_set_index;\n\tu32 capacity;\n\tu32 stripe_size;\n\tu8 raid_type;\n\tu8 status;\n\tu8 information;\n\tu8 drive_cnt;\n\tu8 reserved[20];\n\n\tstruct atto_csmi_raid_drives drives[1];\n};\n\n \nstruct atto_csmi_phy_entity {\n\tu8 ident_frame[0x1C];\n\tu8 port_id;\n\tu8 neg_link_rate;\n\tu8 min_link_rate;\n\tu8 max_link_rate;\n\tu8 phy_change_cnt;\n\tu8 auto_discover;\n\t#define CSMI_DISC_NOT_SUPPORTED  0x00\n\t#define CSMI_DISC_NOT_STARTED    0x01\n\t#define CSMI_DISC_IN_PROGRESS    0x02\n\t#define CSMI_DISC_COMPLETE       0x03\n\t#define CSMI_DISC_ERROR          0x04\n\n\tu8 reserved[2];\n\tu8 attach_ident_frame[0x1C];\n};\n\nstruct atto_csmi_get_phy_info {\n\tu8 number_of_phys;\n\tu8 reserved[3];\n\tstruct atto_csmi_phy_entity\n\t\tphy[32];\n};\n\nstruct atto_csmi_set_phy_info {\n\tu8 phy_id;\n\tu8 neg_link_rate;\n\t#define CSMI_NEG_RATE_NEGOTIATE  0x00\n\t#define CSMI_NEG_RATE_PHY_DIS    0x01\n\n\tu8 prog_minlink_rate;\n\tu8 prog_maxlink_rate;\n\tu8 signal_class;\n\t#define CSMI_SIG_CLASS_UNKNOWN   0x00\n\t#define CSMI_SIG_CLASS_DIRECT    0x01\n\t#define CSMI_SIG_CLASS_SERVER    0x02\n\t#define CSMI_SIG_CLASS_ENCLOSURE 0x03\n\n\tu8 reserved[3];\n};\n\nstruct atto_csmi_get_link_errors {\n\tu8 phy_id;\n\tu8 reset_cnts;\n\t#define CSMI_RESET_CNTS_NO       0x00\n\t#define CSMI_RESET_CNTS_YES      0x01\n\n\tu8 reserved[2];\n\tu32 inv_dw_cnt;\n\tu32 disp_err_cnt;\n\tu32 loss_ofdw_sync_cnt;\n\tu32 phy_reseterr_cnt;\n\n\t \n\n\tu32 crc_err_cnt;\n};\n\nstruct atto_csmi_smp_passthru {\n\tu8 phy_id;\n\tu8 port_id;\n\tu8 conn_rate;\n\tu8 reserved;\n\tu8 dest_sas_addr[8];\n\tu32 req_len;\n\tu8 smp_req[1020];\n\tu8 conn_sts;\n\tu8 reserved2[3];\n\tu32 rsp_len;\n\tu8 smp_rsp[1020];\n};\n\nstruct atto_csmi_ssp_passthru_sts {\n\tu8 conn_sts;\n\tu8 reserved[3];\n\tu8 data_present;\n\tu8 status;\n\tu16 rsp_length;\n\tu8 rsp[256];\n\tu32 data_bytes;\n};\n\nstruct atto_csmi_ssp_passthru {\n\tu8 phy_id;\n\tu8 port_id;\n\tu8 conn_rate;\n\tu8 reserved;\n\tu8 dest_sas_addr[8];\n\tu8 lun[8];\n\tu8 cdb_len;\n\tu8 add_cdb_len;\n\tu8 reserved2[2];\n\tu8 cdb[16];\n\tu32 flags;\n\t#define CSMI_SSPF_DD_READ        0x00000001\n\t#define CSMI_SSPF_DD_WRITE       0x00000002\n\t#define CSMI_SSPF_DD_UNSPECIFIED 0x00000004\n\t#define CSMI_SSPF_TA_SIMPLE      0x00000000\n\t#define CSMI_SSPF_TA_HEAD_OF_Q   0x00000010\n\t#define CSMI_SSPF_TA_ORDERED     0x00000020\n\t#define CSMI_SSPF_TA_ACA         0x00000040\n\n\tu8 add_cdb[24];\n\tu32 data_len;\n\n\tstruct atto_csmi_ssp_passthru_sts sts;\n};\n\nstruct atto_csmi_stp_passthru_sts {\n\tu8 conn_sts;\n\tu8 reserved[3];\n\tu8 sts_fis[20];\n\tu32 scr[16];\n\tu32 data_bytes;\n};\n\nstruct atto_csmi_stp_passthru {\n\tu8 phy_id;\n\tu8 port_id;\n\tu8 conn_rate;\n\tu8 reserved;\n\tu8 dest_sas_addr[8];\n\tu8 reserved2[4];\n\tu8 command_fis[20];\n\tu32 flags;\n\t#define CSMI_STPF_DD_READ        0x00000001\n\t#define CSMI_STPF_DD_WRITE       0x00000002\n\t#define CSMI_STPF_DD_UNSPECIFIED 0x00000004\n\t#define CSMI_STPF_PIO            0x00000010\n\t#define CSMI_STPF_DMA            0x00000020\n\t#define CSMI_STPF_PACKET         0x00000040\n\t#define CSMI_STPF_DMA_QUEUED     0x00000080\n\t#define CSMI_STPF_EXECUTE_DIAG   0x00000100\n\t#define CSMI_STPF_RESET_DEVICE   0x00000200\n\n\tu32 data_len;\n\n\tstruct atto_csmi_stp_passthru_sts sts;\n};\n\nstruct atto_csmi_get_sata_sig {\n\tu8 phy_id;\n\tu8 reserved[3];\n\tu8 reg_dth_fis[20];\n};\n\nstruct atto_csmi_get_scsi_addr {\n\tu8 sas_addr[8];\n\tu8 sas_lun[8];\n\tu8 host_index;\n\tu8 path_id;\n\tu8 target_id;\n\tu8 lun;\n};\n\nstruct atto_csmi_get_dev_addr {\n\tu8 host_index;\n\tu8 path_id;\n\tu8 target_id;\n\tu8 lun;\n\tu8 sas_addr[8];\n\tu8 sas_lun[8];\n};\n\nstruct atto_csmi_task_mgmt {\n\tu8 host_index;\n\tu8 path_id;\n\tu8 target_id;\n\tu8 lun;\n\tu32 flags;\n\t#define CSMI_TMF_TASK_IU         0x00000001\n\t#define CSMI_TMF_HARD_RST        0x00000002\n\t#define CSMI_TMF_SUPPRESS_RSLT   0x00000004\n\n\tu32 queue_tag;\n\tu32 reserved;\n\tu8 task_mgt_func;\n\tu8 reserved2[7];\n\tu32 information;\n\t#define CSMI_TM_INFO_TEST        1\n\t#define CSMI_TM_INFO_EXCEEDED    2\n\t#define CSMI_TM_INFO_DEMAND      3\n\t#define CSMI_TM_INFO_TRIGGER     4\n\n\tstruct atto_csmi_ssp_passthru_sts sts;\n\n};\n\nstruct atto_csmi_get_conn_info {\n\tu32 pinout;\n\t#define CSMI_CON_UNKNOWN         0x00000001\n\t#define CSMI_CON_SFF_8482        0x00000002\n\t#define CSMI_CON_SFF_8470_LANE_1 0x00000100\n\t#define CSMI_CON_SFF_8470_LANE_2 0x00000200\n\t#define CSMI_CON_SFF_8470_LANE_3 0x00000400\n\t#define CSMI_CON_SFF_8470_LANE_4 0x00000800\n\t#define CSMI_CON_SFF_8484_LANE_1 0x00010000\n\t#define CSMI_CON_SFF_8484_LANE_2 0x00020000\n\t#define CSMI_CON_SFF_8484_LANE_3 0x00040000\n\t#define CSMI_CON_SFF_8484_LANE_4 0x00080000\n\n\tu8 connector[16];\n\tu8 location;\n\t#define CSMI_CON_INTERNAL        0x02\n\t#define CSMI_CON_EXTERNAL        0x04\n\t#define CSMI_CON_SWITCHABLE      0x08\n\t#define CSMI_CON_AUTO            0x10\n\n\tu8 reserved[15];\n};\n\n \nstruct atto_csmi_character {\n\tu8 type_flags;\n\t#define CSMI_CTF_POS_DISP        0x01\n\t#define CSMI_CTF_NEG_DISP        0x02\n\t#define CSMI_CTF_CTRL_CHAR       0x04\n\n\tu8 value;\n};\n\nstruct atto_csmi_pc_ctrl {\n\tu8 type;\n\t#define CSMI_PC_TYPE_UNDEFINED   0x00\n\t#define CSMI_PC_TYPE_SATA        0x01\n\t#define CSMI_PC_TYPE_SAS         0x02\n\tu8 rate;\n\tu8 reserved[6];\n\tu32 vendor_unique[8];\n\tu32 tx_flags;\n\t#define CSMI_PC_TXF_PREEMP_DIS   0x00000001\n\n\tsigned char tx_amplitude;\n\tsigned char tx_preemphasis;\n\tsigned char tx_slew_rate;\n\tsigned char tx_reserved[13];\n\tu8 tx_vendor_unique[64];\n\tu32 rx_flags;\n\t#define CSMI_PC_RXF_EQ_DIS       0x00000001\n\n\tsigned char rx_threshold;\n\tsigned char rx_equalization_gain;\n\tsigned char rx_reserved[14];\n\tu8 rx_vendor_unique[64];\n\tu32 pattern_flags;\n\t#define CSMI_PC_PATF_FIXED       0x00000001\n\t#define CSMI_PC_PATF_DIS_SCR     0x00000002\n\t#define CSMI_PC_PATF_DIS_ALIGN   0x00000004\n\t#define CSMI_PC_PATF_DIS_SSC     0x00000008\n\n\tu8 fixed_pattern;\n\t#define CSMI_PC_FP_CJPAT         0x00000001\n\t#define CSMI_PC_FP_ALIGN         0x00000002\n\n\tu8 user_pattern_len;\n\tu8 pattern_reserved[6];\n\n\tstruct atto_csmi_character user_pattern_buffer[16];\n};\n\nstruct atto_csmi_phy_ctrl {\n\tu32 function;\n\t#define CSMI_PC_FUNC_GET_SETUP   0x00000100\n\n\tu8 phy_id;\n\tu16 len_of_cntl;\n\tu8 num_of_cntls;\n\tu8 reserved[4];\n\tu32 link_flags;\n\t#define CSMI_PHY_ACTIVATE_CTRL   0x00000001\n\t#define CSMI_PHY_UPD_SPINUP_RATE 0x00000002\n\t#define CSMI_PHY_AUTO_COMWAKE    0x00000004\n\n\tu8 spinup_rate;\n\tu8 link_reserved[7];\n\tu32 vendor_unique[8];\n\n\tstruct atto_csmi_pc_ctrl control[1];\n};\n\nunion atto_ioctl_csmi {\n\tstruct atto_csmi_get_driver_info drvr_info;\n\tstruct atto_csmi_get_cntlr_cfg cntlr_cfg;\n\tstruct atto_csmi_get_cntlr_sts cntlr_sts;\n\tstruct atto_csmi_fw_download fw_dwnld;\n\tstruct atto_csmi_get_raid_info raid_info;\n\tstruct atto_csmi_get_raid_cfg raid_cfg;\n\tstruct atto_csmi_get_phy_info get_phy_info;\n\tstruct atto_csmi_set_phy_info set_phy_info;\n\tstruct atto_csmi_get_link_errors link_errs;\n\tstruct atto_csmi_smp_passthru smp_pass_thru;\n\tstruct atto_csmi_ssp_passthru ssp_pass_thru;\n\tstruct atto_csmi_stp_passthru stp_pass_thru;\n\tstruct atto_csmi_task_mgmt tsk_mgt;\n\tstruct atto_csmi_get_sata_sig sata_sig;\n\tstruct atto_csmi_get_scsi_addr scsi_addr;\n\tstruct atto_csmi_get_dev_addr dev_addr;\n\tstruct atto_csmi_get_conn_info conn_info[32];\n\tstruct atto_csmi_phy_ctrl phy_ctrl;\n};\n\nstruct atto_csmi {\n\tu32 control_code;\n\tu32 status;\n\tunion atto_ioctl_csmi data;\n};\n\nstruct atto_module_info {\n\tvoid *adapter;\n\tvoid *pci_dev;\n\tvoid *scsi_host;\n\tunsigned short host_no;\n\tunion {\n\t\tstruct {\n\t\t\tu64 node_name;\n\t\t\tu64 port_name;\n\t\t};\n\t\tu64 sas_addr;\n\t};\n};\n\n#define ATTO_FUNC_GET_ADAP_INFO      0x00\n#define ATTO_VER_GET_ADAP_INFO0      0\n#define ATTO_VER_GET_ADAP_INFO       ATTO_VER_GET_ADAP_INFO0\n\nstruct __packed atto_hba_get_adapter_info {\n\n\tstruct {\n\t\tu16 vendor_id;\n\t\tu16 device_id;\n\t\tu16 ss_vendor_id;\n\t\tu16 ss_device_id;\n\t\tu8 class_code[3];\n\t\tu8 rev_id;\n\t\tu8 bus_num;\n\t\tu8 dev_num;\n\t\tu8 func_num;\n\t\tu8 link_width_max;\n\t\tu8 link_width_curr;\n\t    #define ATTO_GAI_PCILW_UNKNOWN   0x00\n\n\t\tu8 link_speed_max;\n\t\tu8 link_speed_curr;\n\t    #define ATTO_GAI_PCILS_UNKNOWN   0x00\n\t    #define ATTO_GAI_PCILS_GEN1      0x01\n\t    #define ATTO_GAI_PCILS_GEN2      0x02\n\t    #define ATTO_GAI_PCILS_GEN3      0x03\n\n\t\tu8 interrupt_mode;\n\t    #define ATTO_GAI_PCIIM_UNKNOWN   0x00\n\t    #define ATTO_GAI_PCIIM_LEGACY    0x01\n\t    #define ATTO_GAI_PCIIM_MSI       0x02\n\t    #define ATTO_GAI_PCIIM_MSIX      0x03\n\n\t\tu8 msi_vector_cnt;\n\t\tu8 reserved[19];\n\t} pci;\n\n\tu8 adap_type;\n\t#define ATTO_GAI_AT_EPCIU320     0x00\n\t#define ATTO_GAI_AT_ESASRAID     0x01\n\t#define ATTO_GAI_AT_ESASRAID2    0x02\n\t#define ATTO_GAI_AT_ESASHBA      0x03\n\t#define ATTO_GAI_AT_ESASHBA2     0x04\n\t#define ATTO_GAI_AT_CELERITY     0x05\n\t#define ATTO_GAI_AT_CELERITY8    0x06\n\t#define ATTO_GAI_AT_FASTFRAME    0x07\n\t#define ATTO_GAI_AT_ESASHBA3     0x08\n\t#define ATTO_GAI_AT_CELERITY16   0x09\n\t#define ATTO_GAI_AT_TLSASHBA     0x0A\n\t#define ATTO_GAI_AT_ESASHBA4     0x0B\n\n\tu8 adap_flags;\n\t#define ATTO_GAI_AF_DEGRADED     0x01\n\t#define ATTO_GAI_AF_SPT_SUPP     0x02\n\t#define ATTO_GAI_AF_DEVADDR_SUPP 0x04\n\t#define ATTO_GAI_AF_PHYCTRL_SUPP 0x08\n\t#define ATTO_GAI_AF_TEST_SUPP    0x10\n\t#define ATTO_GAI_AF_DIAG_SUPP    0x20\n\t#define ATTO_GAI_AF_VIRT_SES     0x40\n\t#define ATTO_GAI_AF_CONN_CTRL    0x80\n\n\tu8 num_ports;\n\tu8 num_phys;\n\tu8 drvr_rev_major;\n\tu8 drvr_rev_minor;\n\tu8 drvr_revsub_minor;\n\tu8 drvr_rev_build;\n\tchar drvr_rev_ascii[16];\n\tchar drvr_name[32];\n\tchar firmware_rev[16];\n\tchar flash_rev[16];\n\tchar model_name_short[16];\n\tchar model_name[32];\n\tu32 num_targets;\n\tu32 num_targsper_bus;\n\tu32 num_lunsper_targ;\n\tu8 num_busses;\n\tu8 num_connectors;\n\tu8 adap_flags2;\n\t#define ATTO_GAI_AF2_FCOE_SUPP       0x01\n\t#define ATTO_GAI_AF2_NIC_SUPP        0x02\n\t#define ATTO_GAI_AF2_LOCATE_SUPP     0x04\n\t#define ATTO_GAI_AF2_ADAP_CTRL_SUPP  0x08\n\t#define ATTO_GAI_AF2_DEV_INFO_SUPP   0x10\n\t#define ATTO_GAI_AF2_NPIV_SUPP       0x20\n\t#define ATTO_GAI_AF2_MP_SUPP         0x40\n\n\tu8 num_temp_sensors;\n\tu32 num_targets_backend;\n\tu32 tunnel_flags;\n\t#define ATTO_GAI_TF_MEM_RW           0x00000001\n\t#define ATTO_GAI_TF_TRACE            0x00000002\n\t#define ATTO_GAI_TF_SCSI_PASS_THRU   0x00000004\n\t#define ATTO_GAI_TF_GET_DEV_ADDR     0x00000008\n\t#define ATTO_GAI_TF_PHY_CTRL         0x00000010\n\t#define ATTO_GAI_TF_CONN_CTRL        0x00000020\n\t#define ATTO_GAI_TF_GET_DEV_INFO     0x00000040\n\n\tu8 reserved3[0x138];\n};\n\n#define ATTO_FUNC_GET_ADAP_ADDR      0x01\n#define ATTO_VER_GET_ADAP_ADDR0      0\n#define ATTO_VER_GET_ADAP_ADDR       ATTO_VER_GET_ADAP_ADDR0\n\nstruct __packed atto_hba_get_adapter_address {\n\n\tu8 addr_type;\n\t#define ATTO_GAA_AT_PORT         0x00\n\t#define ATTO_GAA_AT_NODE         0x01\n\t#define ATTO_GAA_AT_CURR_MAC     0x02\n\t#define ATTO_GAA_AT_PERM_MAC     0x03\n\t#define ATTO_GAA_AT_VNIC         0x04\n\n\tu8 port_id;\n\tu16 addr_len;\n\tu8 address[256];\n};\n\n#define ATTO_FUNC_MEM_RW             0x02\n#define ATTO_VER_MEM_RW0             0\n#define ATTO_VER_MEM_RW              ATTO_VER_MEM_RW0\n\nstruct __packed atto_hba_memory_read_write {\n\tu8 mem_func;\n\tu8 mem_type;\n\tunion {\n\t\tu8 pci_index;\n\t\tu8 i2c_dev;\n\t};\n\tu8 i2c_status;\n\tu32 length;\n\tu64 address;\n\tu8 reserved[48];\n\n};\n\n#define ATTO_FUNC_TRACE              0x03\n#define ATTO_VER_TRACE0              0\n#define ATTO_VER_TRACE1              1\n#define ATTO_VER_TRACE               ATTO_VER_TRACE1\n\nstruct __packed atto_hba_trace {\n\tu8 trace_func;\n\t#define ATTO_TRC_TF_GET_INFO     0x00\n\t#define ATTO_TRC_TF_ENABLE       0x01\n\t#define ATTO_TRC_TF_DISABLE      0x02\n\t#define ATTO_TRC_TF_SET_MASK     0x03\n\t#define ATTO_TRC_TF_UPLOAD       0x04\n\t#define ATTO_TRC_TF_RESET        0x05\n\n\tu8 trace_type;\n\t#define ATTO_TRC_TT_DRIVER       0x00\n\t#define ATTO_TRC_TT_FWCOREDUMP   0x01\n\n\tu8 reserved[2];\n\tu32 current_offset;\n\tu32 total_length;\n\tu32 trace_mask;\n\tu8 reserved2[48];\n\tu8 contents[];\n};\n\n#define ATTO_FUNC_SCSI_PASS_THRU     0x04\n#define ATTO_VER_SCSI_PASS_THRU0     0\n#define ATTO_VER_SCSI_PASS_THRU      ATTO_VER_SCSI_PASS_THRU0\n\nstruct __packed atto_hba_scsi_pass_thru {\n\tu8 cdb[32];\n\tu8 cdb_length;\n\tu8 req_status;\n\t#define ATTO_SPT_RS_SUCCESS      0x00\n\t#define ATTO_SPT_RS_FAILED       0x01\n\t#define ATTO_SPT_RS_OVERRUN      0x02\n\t#define ATTO_SPT_RS_UNDERRUN     0x03\n\t#define ATTO_SPT_RS_NO_DEVICE    0x04\n\t#define ATTO_SPT_RS_NO_LUN       0x05\n\t#define ATTO_SPT_RS_TIMEOUT      0x06\n\t#define ATTO_SPT_RS_BUS_RESET    0x07\n\t#define ATTO_SPT_RS_ABORTED      0x08\n\t#define ATTO_SPT_RS_BUSY         0x09\n\t#define ATTO_SPT_RS_DEGRADED     0x0A\n\n\tu8 scsi_status;\n\tu8 sense_length;\n\tu32 flags;\n\t#define ATTO_SPTF_DATA_IN    0x00000001\n\t#define ATTO_SPTF_DATA_OUT   0x00000002\n\t#define ATTO_SPTF_SIMPLE_Q   0x00000004\n\t#define ATTO_SPTF_HEAD_OF_Q  0x00000008\n\t#define ATTO_SPTF_ORDERED_Q  0x00000010\n\n\tu32 timeout;\n\tu32 target_id;\n\tu8 lun[8];\n\tu32 residual_length;\n\tu8 sense_data[0xFC];\n\tu8 reserved[0x28];\n};\n\n#define ATTO_FUNC_GET_DEV_ADDR       0x05\n#define ATTO_VER_GET_DEV_ADDR0       0\n#define ATTO_VER_GET_DEV_ADDR        ATTO_VER_GET_DEV_ADDR0\n\nstruct __packed atto_hba_get_device_address {\n\tu8 addr_type;\n\t#define ATTO_GDA_AT_PORT         0x00\n\t#define ATTO_GDA_AT_NODE         0x01\n\t#define ATTO_GDA_AT_MAC          0x02\n\t#define ATTO_GDA_AT_PORTID       0x03\n\t#define ATTO_GDA_AT_UNIQUE       0x04\n\n\tu8 reserved;\n\tu16 addr_len;\n\tu32 target_id;\n\tu8 address[256];\n};\n\n \n#define ATTO_FUNC_PHY_CTRL           0x06\n#define ATTO_FUNC_CONN_CTRL          0x0C\n#define ATTO_FUNC_ADAP_CTRL          0x0E\n#define ATTO_VER_ADAP_CTRL0          0\n#define ATTO_VER_ADAP_CTRL           ATTO_VER_ADAP_CTRL0\n\nstruct __packed atto_hba_adap_ctrl {\n\tu8 adap_func;\n\t#define ATTO_AC_AF_HARD_RST      0x00\n\t#define ATTO_AC_AF_GET_STATE     0x01\n\t#define ATTO_AC_AF_GET_TEMP      0x02\n\n\tu8 adap_state;\n\t#define ATTO_AC_AS_UNKNOWN       0x00\n\t#define ATTO_AC_AS_OK            0x01\n\t#define ATTO_AC_AS_RST_SCHED     0x02\n\t#define ATTO_AC_AS_RST_IN_PROG   0x03\n\t#define ATTO_AC_AS_RST_DISC      0x04\n\t#define ATTO_AC_AS_DEGRADED      0x05\n\t#define ATTO_AC_AS_DISABLED      0x06\n\t#define ATTO_AC_AS_TEMP          0x07\n\n\tu8 reserved[2];\n\n\tunion {\n\t\tstruct {\n\t\t\tu8 temp_sensor;\n\t\t\tu8 temp_state;\n\n\t#define ATTO_AC_TS_UNSUPP        0x00\n\t#define ATTO_AC_TS_UNKNOWN       0x01\n\t#define ATTO_AC_TS_INIT_FAILED   0x02\n\t#define ATTO_AC_TS_NORMAL        0x03\n\t#define ATTO_AC_TS_OUT_OF_RANGE  0x04\n\t#define ATTO_AC_TS_FAULT         0x05\n\n\t\t\tsigned short temp_value;\n\t\t\tsigned short temp_lower_lim;\n\t\t\tsigned short temp_upper_lim;\n\t\t\tchar temp_desc[32];\n\t\t\tu8 reserved2[20];\n\t\t};\n\t};\n};\n\n#define ATTO_FUNC_GET_DEV_INFO       0x0F\n#define ATTO_VER_GET_DEV_INFO0       0\n#define ATTO_VER_GET_DEV_INFO        ATTO_VER_GET_DEV_INFO0\n\nstruct __packed atto_hba_sas_device_info {\n\n    #define ATTO_SDI_MAX_PHYS_WIDE_PORT  16\n\n\tu8 phy_id[ATTO_SDI_MAX_PHYS_WIDE_PORT];  \n\t#define ATTO_SDI_PHY_ID_INV      ATTO_SAS_PHY_ID_INV\n\tu32 exp_target_id;\n\tu32 sas_port_mask;\n\tu8 sas_level;\n\t#define ATTO_SDI_SAS_LVL_INV     0xFF\n\n\tu8 slot_num;\n\t#define ATTO_SDI_SLOT_NUM_INV    ATTO_SLOT_NUM_INV\n\n\tu8 dev_type;\n\t#define ATTO_SDI_DT_END_DEVICE   0\n\t#define ATTO_SDI_DT_EXPANDER     1\n\t#define ATTO_SDI_DT_PORT_MULT    2\n\n\tu8 ini_flags;\n\tu8 tgt_flags;\n\tu8 link_rate;  \n\tu8 loc_flags;\n\t#define ATTO_SDI_LF_DIRECT       0x01\n\t#define ATTO_SDI_LF_EXPANDER     0x02\n\t#define ATTO_SDI_LF_PORT_MULT    0x04\n\tu8 pm_port;\n\tu8 reserved[0x60];\n};\n\nunion atto_hba_device_info {\n\tstruct atto_hba_sas_device_info sas_dev_info;\n};\n\nstruct __packed atto_hba_get_device_info {\n\tu32 target_id;\n\tu8 info_type;\n\t#define ATTO_GDI_IT_UNKNOWN      0x00\n\t#define ATTO_GDI_IT_SAS          0x01\n\t#define ATTO_GDI_IT_FC           0x02\n\t#define ATTO_GDI_IT_FCOE         0x03\n\n\tu8 reserved[11];\n\tunion atto_hba_device_info dev_info;\n};\n\nstruct atto_ioctl {\n\tu8 version;\n\tu8 function;  \n\tu8 status;\n#define ATTO_STS_SUCCESS         0x00\n#define ATTO_STS_FAILED          0x01\n#define ATTO_STS_INV_VERSION     0x02\n#define ATTO_STS_OUT_OF_RSRC     0x03\n#define ATTO_STS_INV_FUNC        0x04\n#define ATTO_STS_UNSUPPORTED     0x05\n#define ATTO_STS_INV_ADAPTER     0x06\n#define ATTO_STS_INV_DRVR_VER    0x07\n#define ATTO_STS_INV_PARAM       0x08\n#define ATTO_STS_TIMEOUT         0x09\n#define ATTO_STS_NOT_APPL        0x0A\n#define ATTO_STS_DEGRADED        0x0B\n\n\tu8 flags;\n\t#define HBAF_TUNNEL      0x01\n\n\tu32 data_length;\n\tu8 reserved2[56];\n\n\tunion {\n\t\tu8 byte[1];\n\t\tstruct atto_hba_get_adapter_info get_adap_info;\n\t\tstruct atto_hba_get_adapter_address get_adap_addr;\n\t\tstruct atto_hba_scsi_pass_thru scsi_pass_thru;\n\t\tstruct atto_hba_get_device_address get_dev_addr;\n\t\tstruct atto_hba_adap_ctrl adap_ctrl;\n\t\tstruct atto_hba_get_device_info get_dev_info;\n\t\tstruct atto_hba_trace trace;\n\t} data;\n\n};\n\nstruct __packed atto_ioctl_vda_scsi_cmd {\n\n    #define ATTO_VDA_SCSI_VER0   0\n    #define ATTO_VDA_SCSI_VER    ATTO_VDA_SCSI_VER0\n\n\tu8 cdb[16];\n\tu32 flags;\n\tu32 data_length;\n\tu32 residual_length;\n\tu16 target_id;\n\tu8 sense_len;\n\tu8 scsi_stat;\n\tu8 reserved[8];\n\tu8 sense_data[80];\n};\n\nstruct __packed atto_ioctl_vda_flash_cmd {\n\n    #define ATTO_VDA_FLASH_VER0  0\n    #define ATTO_VDA_FLASH_VER   ATTO_VDA_FLASH_VER0\n\n\tu32 flash_addr;\n\tu32 data_length;\n\tu8 sub_func;\n\tu8 reserved[15];\n\n\tunion {\n\t\tstruct {\n\t\t\tu32 flash_size;\n\t\t\tu32 page_size;\n\t\t\tu8 prod_info[32];\n\t\t} info;\n\n\t\tstruct {\n\t\t\tchar file_name[16];  \n\t\t\tu32 file_size;\n\t\t} file;\n\t} data;\n\n};\n\nstruct __packed atto_ioctl_vda_diag_cmd {\n\n    #define ATTO_VDA_DIAG_VER0   0\n    #define ATTO_VDA_DIAG_VER    ATTO_VDA_DIAG_VER0\n\n\tu64 local_addr;\n\tu32 data_length;\n\tu8 sub_func;\n\tu8 flags;\n\tu8 reserved[3];\n};\n\nstruct __packed atto_ioctl_vda_cli_cmd {\n\n    #define ATTO_VDA_CLI_VER0    0\n    #define ATTO_VDA_CLI_VER     ATTO_VDA_CLI_VER0\n\n\tu32 cmd_rsp_len;\n};\n\nstruct __packed atto_ioctl_vda_smp_cmd {\n\n    #define ATTO_VDA_SMP_VER0    0\n    #define ATTO_VDA_SMP_VER     ATTO_VDA_SMP_VER0\n\n\tu64 dest;\n\tu32 cmd_rsp_len;\n};\n\nstruct __packed atto_ioctl_vda_cfg_cmd {\n\n    #define ATTO_VDA_CFG_VER0    0\n    #define ATTO_VDA_CFG_VER     ATTO_VDA_CFG_VER0\n\n\tu32 data_length;\n\tu8 cfg_func;\n\tu8 reserved[11];\n\n\tunion {\n\t\tu8 bytes[112];\n\t\tstruct atto_vda_cfg_init init;\n\t} data;\n\n};\n\nstruct __packed atto_ioctl_vda_mgt_cmd {\n\n    #define ATTO_VDA_MGT_VER0    0\n    #define ATTO_VDA_MGT_VER     ATTO_VDA_MGT_VER0\n\n\tu8 mgt_func;\n\tu8 scan_generation;\n\tu16 dev_index;\n\tu32 data_length;\n\tu8 reserved[8];\n\tunion {\n\t\tu8 bytes[112];\n\t\tstruct atto_vda_devinfo dev_info;\n\t\tstruct atto_vda_grp_info grp_info;\n\t\tstruct atto_vdapart_info part_info;\n\t\tstruct atto_vda_dh_info dh_info;\n\t\tstruct atto_vda_metrics_info metrics_info;\n\t\tstruct atto_vda_schedule_info sched_info;\n\t\tstruct atto_vda_n_vcache_info nvcache_info;\n\t\tstruct atto_vda_buzzer_info buzzer_info;\n\t\tstruct atto_vda_adapter_info adapter_info;\n\t\tstruct atto_vda_temp_info temp_info;\n\t\tstruct atto_vda_fan_info fan_info;\n\t} data;\n};\n\nstruct __packed atto_ioctl_vda_gsv_cmd {\n\n    #define ATTO_VDA_GSV_VER0    0\n    #define ATTO_VDA_GSV_VER     ATTO_VDA_GSV_VER0\n\n\tu8 rsp_len;\n\tu8 reserved[7];\n\tu8 version_info[];\n\t#define ATTO_VDA_VER_UNSUPPORTED 0xFF\n\n};\n\nstruct __packed atto_ioctl_vda {\n\tu8 version;\n\tu8 function;     \n\tu8 status;       \n\tu8 vda_status;   \n\tu32 data_length;\n\tu8 reserved[8];\n\n\tunion {\n\t\tstruct atto_ioctl_vda_scsi_cmd scsi;\n\t\tstruct atto_ioctl_vda_flash_cmd flash;\n\t\tstruct atto_ioctl_vda_diag_cmd diag;\n\t\tstruct atto_ioctl_vda_cli_cmd cli;\n\t\tstruct atto_ioctl_vda_smp_cmd smp;\n\t\tstruct atto_ioctl_vda_cfg_cmd cfg;\n\t\tstruct atto_ioctl_vda_mgt_cmd mgt;\n\t\tstruct atto_ioctl_vda_gsv_cmd gsv;\n\t\tu8 cmd_info[256];\n\t} cmd;\n\n\tunion {\n\t\tu8 data[1];\n\t\tstruct atto_vda_devinfo2 dev_info2;\n\t} data;\n\n};\n\nstruct __packed atto_ioctl_smp {\n\tu8 version;\n\t#define ATTO_SMP_VERSION0        0\n\t#define ATTO_SMP_VERSION1        1\n\t#define ATTO_SMP_VERSION2        2\n\t#define ATTO_SMP_VERSION         ATTO_SMP_VERSION2\n\n\tu8 function;\n#define ATTO_SMP_FUNC_DISC_SMP           0x00\n#define ATTO_SMP_FUNC_DISC_TARG          0x01\n#define ATTO_SMP_FUNC_SEND_CMD           0x02\n#define ATTO_SMP_FUNC_DISC_TARG_DIRECT   0x03\n#define ATTO_SMP_FUNC_SEND_CMD_DIRECT    0x04\n#define ATTO_SMP_FUNC_DISC_SMP_DIRECT    0x05\n\n\tu8 status;       \n\tu8 smp_status;   \n\t#define ATTO_SMP_STS_SUCCESS     0x00\n\t#define ATTO_SMP_STS_FAILURE     0x01\n\t#define ATTO_SMP_STS_RESCAN      0x02\n\t#define ATTO_SMP_STS_NOT_FOUND   0x03\n\n\tu16 target_id;\n\tu8 phy_id;\n\tu8 dev_index;\n\tu64 smp_sas_addr;\n\tu64 targ_sas_addr;\n\tu32 req_length;\n\tu32 rsp_length;\n\tu8 flags;\n\t#define ATTO_SMPF_ROOT_EXP       0x01  \n\n\tu8 reserved[31];\n\n\tunion {\n\t\tu8 byte[1];\n\t\tu32 dword[1];\n\t} data;\n\n};\n\nstruct __packed atto_express_ioctl {\n\tstruct atto_express_ioctl_header header;\n\n\tunion {\n\t\tstruct atto_firmware_rw_request fwrw;\n\t\tstruct atto_param_rw_request prw;\n\t\tstruct atto_channel_list chanlist;\n\t\tstruct atto_channel_info chaninfo;\n\t\tstruct atto_ioctl ioctl_hba;\n\t\tstruct atto_module_info modinfo;\n\t\tstruct atto_ioctl_vda ioctl_vda;\n\t\tstruct atto_ioctl_smp ioctl_smp;\n\t\tstruct atto_csmi csmi;\n\n\t} data;\n};\n\n \n#define EXPRESS_IOCTL_MIN             0x4500\n#define EXPRESS_IOCTL_RW_FIRMWARE     0x4500             \n#define EXPRESS_IOCTL_READ_PARAMS     0x4501             \n#define EXPRESS_IOCTL_WRITE_PARAMS    0x4502             \n#define EXPRESS_IOCTL_FC_API          0x4503             \n#define EXPRESS_IOCTL_GET_CHANNELS    0x4504             \n#define EXPRESS_IOCTL_CHAN_INFO       0x4505             \n#define EXPRESS_IOCTL_DEFAULT_PARAMS  0x4506             \n#define EXPRESS_ADDR_MEMORY           0x4507             \n#define EXPRESS_RW_MEMORY             0x4508             \n#define EXPRESS_TSDK_DUMP             0x4509             \n#define EXPRESS_IOCTL_SMP             0x450A             \n#define EXPRESS_CSMI                  0x450B             \n#define EXPRESS_IOCTL_HBA             0x450C             \n#define EXPRESS_IOCTL_VDA             0x450D             \n#define EXPRESS_IOCTL_GET_ID          0x450E             \n#define EXPRESS_IOCTL_GET_MOD_INFO    0x450F             \n#define EXPRESS_IOCTL_MAX             0x450F\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}