{
  "module_name": "mpt3sas_ctl.h",
  "hash_id": "4540e05ba9cdf685b002ae82334dfc12008a4e060cfa29c87ad7c0b5bc4a973f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/mpt3sas/mpt3sas_ctl.h",
  "human_readable_source": " \n\n#ifndef MPT3SAS_CTL_H_INCLUDED\n#define MPT3SAS_CTL_H_INCLUDED\n\n#ifdef __KERNEL__\n#include <linux/miscdevice.h>\n#endif\n\n#include \"mpt3sas_base.h\"\n\n#ifndef MPT2SAS_MINOR\n#define MPT2SAS_MINOR\t\t(MPT_MINOR + 1)\n#endif\n#ifndef MPT3SAS_MINOR\n#define MPT3SAS_MINOR\t\t(MPT_MINOR + 2)\n#endif\n#define MPT2SAS_DEV_NAME\t\"mpt2ctl\"\n#define MPT3SAS_DEV_NAME\t\"mpt3ctl\"\n#define MPT3_MAGIC_NUMBER\t'L'\n#define MPT3_IOCTL_DEFAULT_TIMEOUT (10)  \n\n \n#define MPT3IOCINFO\t_IOWR(MPT3_MAGIC_NUMBER, 17, \\\n\tstruct mpt3_ioctl_iocinfo)\n#define MPT3COMMAND\t_IOWR(MPT3_MAGIC_NUMBER, 20, \\\n\tstruct mpt3_ioctl_command)\n#ifdef CONFIG_COMPAT\n#define MPT3COMMAND32\t_IOWR(MPT3_MAGIC_NUMBER, 20, \\\n\tstruct mpt3_ioctl_command32)\n#endif\n#define MPT3EVENTQUERY\t_IOWR(MPT3_MAGIC_NUMBER, 21, \\\n\tstruct mpt3_ioctl_eventquery)\n#define MPT3EVENTENABLE\t_IOWR(MPT3_MAGIC_NUMBER, 22, \\\n\tstruct mpt3_ioctl_eventenable)\n#define MPT3EVENTREPORT\t_IOWR(MPT3_MAGIC_NUMBER, 23, \\\n\tstruct mpt3_ioctl_eventreport)\n#define MPT3HARDRESET\t_IOWR(MPT3_MAGIC_NUMBER, 24, \\\n\tstruct mpt3_ioctl_diag_reset)\n#define MPT3BTDHMAPPING\t_IOWR(MPT3_MAGIC_NUMBER, 31, \\\n\tstruct mpt3_ioctl_btdh_mapping)\n\n \n#define MPT3DIAGREGISTER _IOWR(MPT3_MAGIC_NUMBER, 26, \\\n\tstruct mpt3_diag_register)\n#define MPT3DIAGRELEASE\t_IOWR(MPT3_MAGIC_NUMBER, 27, \\\n\tstruct mpt3_diag_release)\n#define MPT3DIAGUNREGISTER _IOWR(MPT3_MAGIC_NUMBER, 28, \\\n\tstruct mpt3_diag_unregister)\n#define MPT3DIAGQUERY\t_IOWR(MPT3_MAGIC_NUMBER, 29, \\\n\tstruct mpt3_diag_query)\n#define MPT3DIAGREADBUFFER _IOWR(MPT3_MAGIC_NUMBER, 30, \\\n\tstruct mpt3_diag_read_buffer)\n#define MPT3ADDNLDIAGQUERY _IOWR(MPT3_MAGIC_NUMBER, 32, \\\n\tstruct mpt3_addnl_diag_query)\n\n \n#define MPT2DIAGBUFFUNIQUEID (0x07075900)\n#define MPT3DIAGBUFFUNIQUEID (0x4252434D)\n\n \n#define MPT3_DIAG_UID_NOT_FOUND (0xFF)\n\n\n \nstruct mpt3_ioctl_header {\n\tuint32_t ioc_number;\n\tuint32_t port_number;\n\tuint32_t max_data_size;\n};\n\n \nstruct mpt3_ioctl_diag_reset {\n\tstruct mpt3_ioctl_header hdr;\n};\n\n\n \nstruct mpt3_ioctl_pci_info {\n\tunion {\n\t\tstruct {\n\t\t\tuint32_t device:5;\n\t\t\tuint32_t function:3;\n\t\t\tuint32_t bus:24;\n\t\t} bits;\n\t\tuint32_t  word;\n\t} u;\n\tuint32_t segment_id;\n};\n\n\n#define MPT2_IOCTL_INTERFACE_SCSI\t(0x00)\n#define MPT2_IOCTL_INTERFACE_FC\t\t(0x01)\n#define MPT2_IOCTL_INTERFACE_FC_IP\t(0x02)\n#define MPT2_IOCTL_INTERFACE_SAS\t(0x03)\n#define MPT2_IOCTL_INTERFACE_SAS2\t(0x04)\n#define MPT2_IOCTL_INTERFACE_SAS2_SSS6200\t(0x05)\n#define MPT3_IOCTL_INTERFACE_SAS3\t(0x06)\n#define MPT3_IOCTL_INTERFACE_SAS35\t(0x07)\n#define MPT2_IOCTL_VERSION_LENGTH\t(32)\n\n \nstruct mpt3_ioctl_iocinfo {\n\tstruct mpt3_ioctl_header hdr;\n\tuint32_t adapter_type;\n\tuint32_t port_number;\n\tuint32_t pci_id;\n\tuint32_t hw_rev;\n\tuint32_t subsystem_device;\n\tuint32_t subsystem_vendor;\n\tuint32_t rsvd0;\n\tuint32_t firmware_version;\n\tuint32_t bios_version;\n\tuint8_t driver_version[MPT2_IOCTL_VERSION_LENGTH];\n\tuint8_t rsvd1;\n\tuint8_t scsi_id;\n\tuint16_t rsvd2;\n\tstruct mpt3_ioctl_pci_info pci_information;\n};\n\n\n \n#define MPT3SAS_CTL_EVENT_LOG_SIZE (200)\n\n \nstruct mpt3_ioctl_eventquery {\n\tstruct mpt3_ioctl_header hdr;\n\tuint16_t event_entries;\n\tuint16_t rsvd;\n\tuint32_t event_types[MPI2_EVENT_NOTIFY_EVENTMASK_WORDS];\n};\n\n \nstruct mpt3_ioctl_eventenable {\n\tstruct mpt3_ioctl_header hdr;\n\tuint32_t event_types[4];\n};\n\n#define MPT3_EVENT_DATA_SIZE (192)\n \nstruct MPT3_IOCTL_EVENTS {\n\tuint32_t event;\n\tuint32_t context;\n\tuint8_t data[MPT3_EVENT_DATA_SIZE];\n};\n\n \nstruct mpt3_ioctl_eventreport {\n\tstruct mpt3_ioctl_header hdr;\n\tstruct MPT3_IOCTL_EVENTS event_data[1];\n};\n\n \nstruct mpt3_ioctl_command {\n\tstruct mpt3_ioctl_header hdr;\n\tuint32_t timeout;\n\tvoid __user *reply_frame_buf_ptr;\n\tvoid __user *data_in_buf_ptr;\n\tvoid __user *data_out_buf_ptr;\n\tvoid __user *sense_data_ptr;\n\tuint32_t max_reply_bytes;\n\tuint32_t data_in_size;\n\tuint32_t data_out_size;\n\tuint32_t max_sense_bytes;\n\tuint32_t data_sge_offset;\n\tuint8_t mf[1];\n};\n\n#ifdef CONFIG_COMPAT\nstruct mpt3_ioctl_command32 {\n\tstruct mpt3_ioctl_header hdr;\n\tuint32_t timeout;\n\tuint32_t reply_frame_buf_ptr;\n\tuint32_t data_in_buf_ptr;\n\tuint32_t data_out_buf_ptr;\n\tuint32_t sense_data_ptr;\n\tuint32_t max_reply_bytes;\n\tuint32_t data_in_size;\n\tuint32_t data_out_size;\n\tuint32_t max_sense_bytes;\n\tuint32_t data_sge_offset;\n\tuint8_t mf[1];\n};\n#endif\n\n \nstruct mpt3_ioctl_btdh_mapping {\n\tstruct mpt3_ioctl_header hdr;\n\tuint32_t id;\n\tuint32_t bus;\n\tuint16_t handle;\n\tuint16_t rsvd;\n};\n\n\n\n \n#define MPT3_APP_FLAGS_APP_OWNED\t(0x0001)\n#define MPT3_APP_FLAGS_BUFFER_VALID\t(0x0002)\n#define MPT3_APP_FLAGS_FW_BUFFER_ACCESS\t(0x0004)\n#define MPT3_APP_FLAGS_DYNAMIC_BUFFER_ALLOC (0x0008)\n\n \n#define MPT3_FLAGS_REREGISTER\t\t(0x0001)\n\n#define MPT3_PRODUCT_SPECIFIC_DWORDS\t\t23\n\n \nstruct mpt3_diag_register {\n\tstruct mpt3_ioctl_header hdr;\n\tuint8_t reserved;\n\tuint8_t buffer_type;\n\tuint16_t application_flags;\n\tuint32_t diagnostic_flags;\n\tuint32_t product_specific[MPT3_PRODUCT_SPECIFIC_DWORDS];\n\tuint32_t requested_buffer_size;\n\tuint32_t unique_id;\n};\n\n \nstruct mpt3_diag_unregister {\n\tstruct mpt3_ioctl_header hdr;\n\tuint32_t unique_id;\n};\n\n \nstruct mpt3_diag_query {\n\tstruct mpt3_ioctl_header hdr;\n\tuint8_t reserved;\n\tuint8_t buffer_type;\n\tuint16_t application_flags;\n\tuint32_t diagnostic_flags;\n\tuint32_t product_specific[MPT3_PRODUCT_SPECIFIC_DWORDS];\n\tuint32_t total_buffer_size;\n\tuint32_t driver_added_buffer_size;\n\tuint32_t unique_id;\n};\n\n \nstruct mpt3_diag_release {\n\tstruct mpt3_ioctl_header hdr;\n\tuint32_t unique_id;\n};\n\n \nstruct mpt3_diag_read_buffer {\n\tstruct mpt3_ioctl_header hdr;\n\tuint8_t status;\n\tuint8_t reserved;\n\tuint16_t flags;\n\tuint32_t starting_offset;\n\tuint32_t bytes_to_read;\n\tuint32_t unique_id;\n\tuint32_t diagnostic_data[1];\n};\n\n \nstruct mpt3_addnl_diag_query {\n\tstruct mpt3_ioctl_header hdr;\n\tuint32_t unique_id;\n\tstruct htb_rel_query rel_query;\n\tuint32_t reserved2[2];\n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}