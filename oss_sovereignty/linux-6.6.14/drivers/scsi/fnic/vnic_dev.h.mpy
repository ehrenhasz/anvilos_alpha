{
  "module_name": "vnic_dev.h",
  "hash_id": "019febf80bffcd182ec9d89523d83db770d027174a6d73ca71a1a1eca903765a",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/fnic/vnic_dev.h",
  "human_readable_source": " \n \n#ifndef _VNIC_DEV_H_\n#define _VNIC_DEV_H_\n\n#include \"vnic_resource.h\"\n#include \"vnic_devcmd.h\"\n\n \n#define vnic_dev_priv fnic_dev_priv\n#define vnic_dev_get_res_count fnic_dev_get_res_count\n#define vnic_dev_get_res fnic_dev_get_res\n#define vnic_dev_desc_ring_size fnic_dev_desc_ring_siz\n#define vnic_dev_clear_desc_ring fnic_dev_clear_desc_ring\n#define vnic_dev_alloc_desc_ring fnic_dev_alloc_desc_ring\n#define vnic_dev_free_desc_ring fnic_dev_free_desc_ring\n#define vnic_dev_cmd fnic_dev_cmd\n#define vnic_dev_fw_info fnic_dev_fw_info\n#define vnic_dev_spec fnic_dev_spec\n#define vnic_dev_stats_clear fnic_dev_stats_clear\n#define vnic_dev_cmd_init fnic_dev_cmd_init\n#define vnic_dev_stats_dump fnic_dev_stats_dump\n#define vnic_dev_hang_notify fnic_dev_hang_notify\n#define vnic_dev_packet_filter fnic_dev_packet_filter\n#define vnic_dev_add_addr fnic_dev_add_addr\n#define vnic_dev_del_addr fnic_dev_del_addr\n#define vnic_dev_mac_addr fnic_dev_mac_addr\n#define vnic_dev_notify_set fnic_dev_notify_set\n#define vnic_dev_notify_unset fnic_dev_notify_unset\n#define vnic_dev_link_status fnic_dev_link_status\n#define vnic_dev_port_speed fnic_dev_port_speed\n#define vnic_dev_msg_lvl fnic_dev_msg_lvl\n#define vnic_dev_mtu fnic_dev_mtu\n#define vnic_dev_link_down_cnt fnic_dev_link_down_cnt\n#define vnic_dev_close fnic_dev_close\n#define vnic_dev_enable fnic_dev_enable\n#define vnic_dev_disable fnic_dev_disable\n#define vnic_dev_open fnic_dev_open\n#define vnic_dev_open_done fnic_dev_open_done\n#define vnic_dev_init fnic_dev_init\n#define vnic_dev_soft_reset fnic_dev_soft_reset\n#define vnic_dev_soft_reset_done fnic_dev_soft_reset_done\n#define vnic_dev_set_intr_mode fnic_dev_set_intr_mode\n#define vnic_dev_get_intr_mode fnic_dev_get_intr_mode\n#define vnic_dev_unregister fnic_dev_unregister\n#define vnic_dev_register fnic_dev_register\n\n#ifndef VNIC_PADDR_TARGET\n#define VNIC_PADDR_TARGET\t0x0000000000000000ULL\n#endif\n\n#ifndef readq\nstatic inline u64 readq(void __iomem *reg)\n{\n\treturn ((u64)readl(reg + 0x4UL) << 32) | (u64)readl(reg);\n}\n\nstatic inline void writeq(u64 val, void __iomem *reg)\n{\n\twritel(val & 0xffffffff, reg);\n\twritel(val >> 32, reg + 0x4UL);\n}\n#endif\n\nenum vnic_dev_intr_mode {\n\tVNIC_DEV_INTR_MODE_UNKNOWN,\n\tVNIC_DEV_INTR_MODE_INTX,\n\tVNIC_DEV_INTR_MODE_MSI,\n\tVNIC_DEV_INTR_MODE_MSIX,\n};\n\nstruct vnic_dev_bar {\n\tvoid __iomem *vaddr;\n\tdma_addr_t bus_addr;\n\tunsigned long len;\n};\n\nstruct vnic_dev_ring {\n\tvoid *descs;\n\tsize_t size;\n\tdma_addr_t base_addr;\n\tsize_t base_align;\n\tvoid *descs_unaligned;\n\tsize_t size_unaligned;\n\tdma_addr_t base_addr_unaligned;\n\tunsigned int desc_size;\n\tunsigned int desc_count;\n\tunsigned int desc_avail;\n};\n\nstruct vnic_dev;\nstruct vnic_stats;\n\nvoid *vnic_dev_priv(struct vnic_dev *vdev);\nunsigned int vnic_dev_get_res_count(struct vnic_dev *vdev,\n\t\t\t\t    enum vnic_res_type type);\nvoid __iomem *vnic_dev_get_res(struct vnic_dev *vdev, enum vnic_res_type type,\n\t\t\t       unsigned int index);\nunsigned int vnic_dev_desc_ring_size(struct vnic_dev_ring *ring,\n\t\t\t\t     unsigned int desc_count,\n\t\t\t\t     unsigned int desc_size);\nvoid vnic_dev_clear_desc_ring(struct vnic_dev_ring *ring);\nint vnic_dev_alloc_desc_ring(struct vnic_dev *vdev, struct vnic_dev_ring *ring,\n\t\t\t     unsigned int desc_count, unsigned int desc_size);\nvoid vnic_dev_free_desc_ring(struct vnic_dev *vdev,\n\t\t\t     struct vnic_dev_ring *ring);\nint vnic_dev_cmd(struct vnic_dev *vdev, enum vnic_devcmd_cmd cmd,\n\t\t u64 *a0, u64 *a1, int wait);\nint vnic_dev_fw_info(struct vnic_dev *vdev,\n\t\t     struct vnic_devcmd_fw_info **fw_info);\nint vnic_dev_spec(struct vnic_dev *vdev, unsigned int offset,\n\t\t  unsigned int size, void *value);\nint vnic_dev_stats_clear(struct vnic_dev *vdev);\nint vnic_dev_cmd_init(struct vnic_dev *vdev);\nint vnic_dev_stats_dump(struct vnic_dev *vdev, struct vnic_stats **stats);\nint vnic_dev_hang_notify(struct vnic_dev *vdev);\nvoid vnic_dev_packet_filter(struct vnic_dev *vdev, int directed, int multicast,\n\t\t\t    int broadcast, int promisc, int allmulti);\nvoid vnic_dev_add_addr(struct vnic_dev *vdev, u8 *addr);\nvoid vnic_dev_del_addr(struct vnic_dev *vdev, u8 *addr);\nint vnic_dev_mac_addr(struct vnic_dev *vdev, u8 *mac_addr);\nint vnic_dev_notify_set(struct vnic_dev *vdev, u16 intr);\nvoid vnic_dev_notify_unset(struct vnic_dev *vdev);\nint vnic_dev_link_status(struct vnic_dev *vdev);\nu32 vnic_dev_port_speed(struct vnic_dev *vdev);\nu32 vnic_dev_msg_lvl(struct vnic_dev *vdev);\nu32 vnic_dev_mtu(struct vnic_dev *vdev);\nu32 vnic_dev_link_down_cnt(struct vnic_dev *vdev);\nint vnic_dev_close(struct vnic_dev *vdev);\nint vnic_dev_enable(struct vnic_dev *vdev);\nint vnic_dev_disable(struct vnic_dev *vdev);\nint vnic_dev_open(struct vnic_dev *vdev, int arg);\nint vnic_dev_open_done(struct vnic_dev *vdev, int *done);\nint vnic_dev_init(struct vnic_dev *vdev, int arg);\nu16 vnic_dev_set_default_vlan(struct vnic_dev *vdev,\n\t\t\t\tu16 new_default_vlan);\nint vnic_dev_soft_reset(struct vnic_dev *vdev, int arg);\nint vnic_dev_soft_reset_done(struct vnic_dev *vdev, int *done);\nvoid vnic_dev_set_intr_mode(struct vnic_dev *vdev,\n\t\t\t    enum vnic_dev_intr_mode intr_mode);\nenum vnic_dev_intr_mode vnic_dev_get_intr_mode(struct vnic_dev *vdev);\nvoid vnic_dev_unregister(struct vnic_dev *vdev);\nstruct vnic_dev *vnic_dev_register(struct vnic_dev *vdev,\n\t\t\t\t   void *priv, struct pci_dev *pdev,\n\t\t\t\t   struct vnic_dev_bar *bar);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}