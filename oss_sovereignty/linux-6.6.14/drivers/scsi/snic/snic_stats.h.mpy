{
  "module_name": "snic_stats.h",
  "hash_id": "47e70eebd08e7ee5a3b15375107448ef5e15b783a787cfa88aedc4a31aa48fbf",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/snic/snic_stats.h",
  "human_readable_source": " \n \n\n#ifndef __SNIC_STATS_H\n#define __SNIC_STATS_H\n\nstruct snic_io_stats {\n\tatomic64_t active;\t\t \n\tatomic64_t max_active;\t\t \n\tatomic64_t max_sgl;\t\t \n\tatomic64_t max_time;\t\t \n\tatomic64_t max_qtime;\t\t \n\tatomic64_t max_cmpl_time;\t \n\tatomic64_t sgl_cnt[SNIC_MAX_SG_DESC_CNT];  \n\tatomic64_t max_io_sz;\t\t \n\tatomic64_t compl;\t\t \n\tatomic64_t fail;\t\t \n\tatomic64_t req_null;\t\t \n\tatomic64_t alloc_fail;\t\t \n\tatomic64_t sc_null;\n\tatomic64_t io_not_found;\t \n\tatomic64_t num_ios;\t\t \n};\n\nstruct snic_abort_stats {\n\tatomic64_t num;\t\t \n\tatomic64_t fail;\t \n\tatomic64_t drv_tmo;\t \n\tatomic64_t fw_tmo;\t \n\tatomic64_t io_not_found; \n\tatomic64_t q_fail;\t \n};\n\nstruct snic_reset_stats {\n\tatomic64_t dev_resets;\t\t \n\tatomic64_t dev_reset_fail;\t \n\tatomic64_t dev_reset_aborts;\t \n\tatomic64_t dev_reset_tmo;\t \n\tatomic64_t dev_reset_terms;\t \n\tatomic64_t hba_resets;\t\t \n\tatomic64_t hba_reset_cmpl;\t \n\tatomic64_t hba_reset_fail;\t \n\tatomic64_t snic_resets;\t\t \n\tatomic64_t snic_reset_compl;\t \n\tatomic64_t snic_reset_fail;\t \n};\n\nstruct snic_fw_stats {\n\tatomic64_t actv_reqs;\t\t \n\tatomic64_t max_actv_reqs;\t \n\tatomic64_t out_of_res;\t\t \n\tatomic64_t io_errs;\t\t \n\tatomic64_t scsi_errs;\t\t \n};\n\nstruct snic_misc_stats {\n\tu64\tlast_isr_time;\n\tu64\tlast_ack_time;\n\tatomic64_t ack_isr_cnt;\n\tatomic64_t cmpl_isr_cnt;\n\tatomic64_t errnotify_isr_cnt;\n\tatomic64_t max_cq_ents;\t\t \n\tatomic64_t data_cnt_mismat;\t \n\tatomic64_t io_tmo;\n\tatomic64_t io_aborted;\n\tatomic64_t sgl_inval;\t\t \n\tatomic64_t abts_wq_alloc_fail;\t \n\tatomic64_t devrst_wq_alloc_fail; \n\tatomic64_t wq_alloc_fail;\t \n\tatomic64_t no_icmnd_itmf_cmpls;\n\tatomic64_t io_under_run;\n\tatomic64_t qfull;\n\tatomic64_t qsz_rampup;\n\tatomic64_t qsz_rampdown;\n\tatomic64_t last_qsz;\n\tatomic64_t tgt_not_rdy;\n};\n\nstruct snic_stats {\n\tstruct snic_io_stats io;\n\tstruct snic_abort_stats abts;\n\tstruct snic_reset_stats reset;\n\tstruct snic_fw_stats fw;\n\tstruct snic_misc_stats misc;\n\tatomic64_t io_cmpl_skip;\n};\n\nvoid snic_stats_debugfs_init(struct snic *);\nvoid snic_stats_debugfs_remove(struct snic *);\n\n \nstatic inline void\nsnic_stats_update_active_ios(struct snic_stats *s_stats)\n{\n\tstruct snic_io_stats *io = &s_stats->io;\n\tint nr_active_ios;\n\n\tnr_active_ios = atomic64_read(&io->active);\n\tif (atomic64_read(&io->max_active) < nr_active_ios)\n\t\tatomic64_set(&io->max_active, nr_active_ios);\n\n\tatomic64_inc(&io->num_ios);\n}\n\n \nstatic inline void\nsnic_stats_update_io_cmpl(struct snic_stats *s_stats)\n{\n\tatomic64_dec(&s_stats->io.active);\n\tif (unlikely(atomic64_read(&s_stats->io_cmpl_skip)))\n\t\tatomic64_dec(&s_stats->io_cmpl_skip);\n\telse\n\t\tatomic64_inc(&s_stats->io.compl);\n}\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}