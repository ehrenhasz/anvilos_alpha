{
  "module_name": "snic_attrs.c",
  "hash_id": "e93e7995bdbeb7062d772db7e865e94cc09f4ce53db09cfe94070c4475763e4d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/snic/snic_attrs.c",
  "human_readable_source": "\n\n\n#include <linux/string.h>\n#include <linux/device.h>\n\n#include \"snic.h\"\n\nstatic ssize_t\nsnic_show_sym_name(struct device *dev,\n\t\tstruct device_attribute *attr,\n\t\tchar *buf)\n{\n\tstruct snic *snic = shost_priv(class_to_shost(dev));\n\n\treturn snprintf(buf, PAGE_SIZE, \"%s\\n\", snic->name);\n}\n\nstatic ssize_t\nsnic_show_state(struct device *dev,\n\t\tstruct device_attribute *attr,\n\t\tchar *buf)\n{\n\tstruct snic *snic = shost_priv(class_to_shost(dev));\n\n\treturn snprintf(buf, PAGE_SIZE, \"%s\\n\",\n\t\t\tsnic_state_str[snic_get_state(snic)]);\n}\n\nstatic ssize_t\nsnic_show_drv_version(struct device *dev,\n\t\t      struct device_attribute *attr,\n\t\t      char *buf)\n{\n\treturn snprintf(buf, PAGE_SIZE, \"%s\\n\", SNIC_DRV_VERSION);\n}\n\nstatic ssize_t\nsnic_show_link_state(struct device *dev,\n\t\t     struct device_attribute *attr,\n\t\t     char *buf)\n{\n\tstruct snic *snic = shost_priv(class_to_shost(dev));\n\n\tif (snic->config.xpt_type == SNIC_DAS)\n\t\tsnic->link_status = svnic_dev_link_status(snic->vdev);\n\n\treturn snprintf(buf, PAGE_SIZE, \"%s\\n\",\n\t\t\t(snic->link_status) ? \"Link Up\" : \"Link Down\");\n}\n\nstatic DEVICE_ATTR(snic_sym_name, S_IRUGO, snic_show_sym_name, NULL);\nstatic DEVICE_ATTR(snic_state, S_IRUGO, snic_show_state, NULL);\nstatic DEVICE_ATTR(drv_version, S_IRUGO, snic_show_drv_version, NULL);\nstatic DEVICE_ATTR(link_state, S_IRUGO, snic_show_link_state, NULL);\n\nstatic struct attribute *snic_host_attrs[] = {\n\t&dev_attr_snic_sym_name.attr,\n\t&dev_attr_snic_state.attr,\n\t&dev_attr_drv_version.attr,\n\t&dev_attr_link_state.attr,\n\tNULL,\n};\n\nstatic const struct attribute_group snic_host_attr_group = {\n\t.attrs = snic_host_attrs\n};\n\nconst struct attribute_group *snic_host_groups[] = {\n\t&snic_host_attr_group,\n\tNULL\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}