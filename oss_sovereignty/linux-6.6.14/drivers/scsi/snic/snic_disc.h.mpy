{
  "module_name": "snic_disc.h",
  "hash_id": "be3673a02c8ea6560f42ea53e2e039166bdbe05b150da22b13f50afcefa61cce",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/snic/snic_disc.h",
  "human_readable_source": " \n \n\n#ifndef __SNIC_DISC_H\n#define __SNIC_DISC_H\n\n#include \"snic_fwint.h\"\n\nenum snic_disc_state {\n\tSNIC_DISC_NONE,\n\tSNIC_DISC_INIT,\n\tSNIC_DISC_PENDING,\n\tSNIC_DISC_DONE\n};\n\nstruct snic;\nstruct snic_disc {\n\tstruct list_head tgt_list;\n\tenum snic_disc_state state;\n\tstruct mutex mutex;\n\tu16\tdisc_id;\n\tu8\treq_cnt;\n\tu32\tnxt_tgt_id;\n\tu32\trtgt_cnt;\n\tu8\t*rtgt_info;\n\tstruct delayed_work disc_timeout;\n\tvoid (*cb)(struct snic *);\n};\n\n#define SNIC_TGT_NAM_LEN\t16\n\nenum snic_tgt_state {\n\tSNIC_TGT_STAT_NONE,\n\tSNIC_TGT_STAT_INIT,\n\tSNIC_TGT_STAT_ONLINE,\t \n\tSNIC_TGT_STAT_OFFLINE,\t \n\tSNIC_TGT_STAT_DEL,\n};\n\nstruct snic_tgt_priv {\n\tstruct list_head list;\n\tenum snic_tgt_type typ;\n\tu16 disc_id;\n\tchar *name[SNIC_TGT_NAM_LEN];\n\n\tunion {\n\t\t \n\t\t \n\t\tu8 dummmy;\n\t} u;\n};\n\n \n#define SNIC_TGT_SCAN_PENDING\t0x01\n\nstruct snic_tgt {\n\tstruct list_head list;\n\tu16\tid;\n\tu16\tchannel;\n\tu32\tflags;\n\tu32\tscsi_tgt_id;\n\tenum snic_tgt_state state;\n\tstruct device dev;\n\tstruct work_struct scan_work;\n\tstruct work_struct del_work;\n\tstruct snic_tgt_priv tdata;\n};\n\n\nstruct snic_fw_req;\n\nvoid snic_disc_init(struct snic_disc *);\nint snic_disc_start(struct snic *);\nvoid snic_disc_term(struct snic *);\nint snic_report_tgt_cmpl_handler(struct snic *, struct snic_fw_req *);\nint snic_tgtinfo_cmpl_handler(struct snic *snic, struct snic_fw_req *fwreq);\nvoid snic_process_report_tgts_rsp(struct work_struct *);\nvoid snic_handle_tgt_disc(struct work_struct *);\nvoid snic_handle_disc(struct work_struct *);\nvoid snic_tgt_dev_release(struct device *);\nvoid snic_tgt_del_all(struct snic *);\n\n#define dev_to_tgt(d) \\\n\tcontainer_of(d, struct snic_tgt, dev)\n\nstatic inline int\nis_snic_target(struct device *dev)\n{\n\treturn dev->release == snic_tgt_dev_release;\n}\n\n#define starget_to_tgt(st)\t\\\n\t(is_snic_target(((struct scsi_target *) st)->dev.parent) ? \\\n\t\tdev_to_tgt(st->dev.parent) : NULL)\n\n#define snic_tgt_to_shost(t)\t\\\n\tdev_to_shost(t->dev.parent)\n\nstatic inline int\nsnic_tgt_chkready(struct snic_tgt *tgt)\n{\n\tif (tgt->state == SNIC_TGT_STAT_ONLINE)\n\t\treturn 0;\n\telse\n\t\treturn DID_NO_CONNECT << 16;\n}\n\nconst char *snic_tgt_state_to_str(int);\nint snic_tgt_scsi_abort_io(struct snic_tgt *);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}