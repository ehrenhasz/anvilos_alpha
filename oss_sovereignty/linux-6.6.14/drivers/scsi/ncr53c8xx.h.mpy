{
  "module_name": "ncr53c8xx.h",
  "hash_id": "7b362bd06172905c3e8bc9dbb417b2e2fa7cc63f30360cab41826785d1b4dc21",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/ncr53c8xx.h",
  "human_readable_source": " \n \n\n#ifndef NCR53C8XX_H\n#define NCR53C8XX_H\n\n#include <scsi/scsi_host.h>\n\n\n \n#define SCSI_NCR_BOOT_COMMAND_LINE_SUPPORT\n#define SCSI_NCR_DEBUG_INFO_SUPPORT\n\n \n#ifdef\tCONFIG_SCSI_NCR53C8XX_INTEGRITY_CHECK\n#\tdefine SCSI_NCR_ENABLE_INTEGRITY_CHECK\n#endif\n\n \n\n \n#define\tSCSI_NCR_SETUP_SPECIAL_FEATURES\t\t(3)\n\n#define SCSI_NCR_MAX_SYNC\t\t\t(80)\n\n \n#ifdef\tCONFIG_SCSI_NCR53C8XX_MAX_TAGS\n#if\tCONFIG_SCSI_NCR53C8XX_MAX_TAGS < 2\n#define SCSI_NCR_MAX_TAGS\t(2)\n#elif\tCONFIG_SCSI_NCR53C8XX_MAX_TAGS > 256\n#define SCSI_NCR_MAX_TAGS\t(256)\n#else\n#define\tSCSI_NCR_MAX_TAGS\tCONFIG_SCSI_NCR53C8XX_MAX_TAGS\n#endif\n#else\n#define SCSI_NCR_MAX_TAGS\t(8)\n#endif\n\n \n#ifdef\tCONFIG_SCSI_NCR53C8XX_DEFAULT_TAGS\n#define\tSCSI_NCR_SETUP_DEFAULT_TAGS\tCONFIG_SCSI_NCR53C8XX_DEFAULT_TAGS\n#elif\tdefined CONFIG_SCSI_NCR53C8XX_TAGGED_QUEUE\n#define\tSCSI_NCR_SETUP_DEFAULT_TAGS\tSCSI_NCR_MAX_TAGS\n#else\n#define\tSCSI_NCR_SETUP_DEFAULT_TAGS\t(0)\n#endif\n\n \n#if defined(CONFIG_SCSI_NCR53C8XX_IARB)\n#define SCSI_NCR_IARB_SUPPORT\n#endif\n\n \n#ifndef\tCONFIG_SCSI_NCR53C8XX_SYNC\n#define\tCONFIG_SCSI_NCR53C8XX_SYNC\t(20)\n#elif\tCONFIG_SCSI_NCR53C8XX_SYNC > SCSI_NCR_MAX_SYNC\n#undef\tCONFIG_SCSI_NCR53C8XX_SYNC\n#define\tCONFIG_SCSI_NCR53C8XX_SYNC\tSCSI_NCR_MAX_SYNC\n#endif\n\n#if\tCONFIG_SCSI_NCR53C8XX_SYNC == 0\n#define\tSCSI_NCR_SETUP_DEFAULT_SYNC\t(255)\n#elif\tCONFIG_SCSI_NCR53C8XX_SYNC <= 5\n#define\tSCSI_NCR_SETUP_DEFAULT_SYNC\t(50)\n#elif\tCONFIG_SCSI_NCR53C8XX_SYNC <= 20\n#define\tSCSI_NCR_SETUP_DEFAULT_SYNC\t(250/(CONFIG_SCSI_NCR53C8XX_SYNC))\n#elif\tCONFIG_SCSI_NCR53C8XX_SYNC <= 33\n#define\tSCSI_NCR_SETUP_DEFAULT_SYNC\t(11)\n#elif\tCONFIG_SCSI_NCR53C8XX_SYNC <= 40\n#define\tSCSI_NCR_SETUP_DEFAULT_SYNC\t(10)\n#else\n#define\tSCSI_NCR_SETUP_DEFAULT_SYNC \t(9)\n#endif\n\n \n#ifdef CONFIG_SCSI_NCR53C8XX_NO_DISCONNECT\n#define SCSI_NCR_SETUP_DISCONNECTION\t(0)\n#else\n#define SCSI_NCR_SETUP_DISCONNECTION\t(1)\n#endif\n\n \n#ifdef CONFIG_SCSI_NCR53C8XX_FORCE_SYNC_NEGO\n#define SCSI_NCR_SETUP_FORCE_SYNC_NEGO\t(1)\n#else\n#define SCSI_NCR_SETUP_FORCE_SYNC_NEGO\t(0)\n#endif\n\n \n#ifdef CONFIG_SCSI_NCR53C8XX_DISABLE_MPARITY_CHECK\n#define SCSI_NCR_SETUP_MASTER_PARITY\t(0)\n#else\n#define SCSI_NCR_SETUP_MASTER_PARITY\t(1)\n#endif\n\n \n#ifdef CONFIG_SCSI_NCR53C8XX_DISABLE_PARITY_CHECK\n#define SCSI_NCR_SETUP_SCSI_PARITY\t(0)\n#else\n#define SCSI_NCR_SETUP_SCSI_PARITY\t(1)\n#endif\n\n \n#define SCSI_NCR_SETUP_SETTLE_TIME\t(2)\n\n \n#ifndef\tSCSI_NCR_PCIQ_WORK_AROUND_OPT\n#define\tSCSI_NCR_PCIQ_WORK_AROUND_OPT\t1\n#endif\n\n \n#if\tSCSI_NCR_PCIQ_WORK_AROUND_OPT == 1\n#define\tSCSI_NCR_PCIQ_MAY_NOT_FLUSH_PW_UPSTREAM\n#define\tSCSI_NCR_PCIQ_MAY_REORDER_WRITES\n#define\tSCSI_NCR_PCIQ_MAY_MISS_COMPLETIONS\n\n \n#elif\tSCSI_NCR_PCIQ_WORK_AROUND_OPT == 2\n#define\tSCSI_NCR_PCIQ_MAY_NOT_FLUSH_PW_UPSTREAM\n#define\tSCSI_NCR_PCIQ_MAY_REORDER_WRITES\n#define\tSCSI_NCR_PCIQ_MAY_MISS_COMPLETIONS\n#define\tSCSI_NCR_PCIQ_BROKEN_INTR\n\n \n#elif\tSCSI_NCR_PCIQ_WORK_AROUND_OPT == 3\n#define\tSCSI_NCR_PCIQ_SYNC_ON_INTR\n#endif\n\n \n\n#define SCSI_NCR_ALWAYS_SIMPLE_TAG\n#define SCSI_NCR_MAX_SCATTER\t(127)\n#define SCSI_NCR_MAX_TARGET\t(16)\n\n \n#define SCSI_NCR_CAN_QUEUE\t(8*SCSI_NCR_MAX_TAGS + 2*SCSI_NCR_MAX_TARGET)\n#define SCSI_NCR_CMD_PER_LUN\t(SCSI_NCR_MAX_TAGS)\n\n#define SCSI_NCR_SG_TABLESIZE\t(SCSI_NCR_MAX_SCATTER)\n#define SCSI_NCR_TIMER_INTERVAL\t(HZ)\n\n#define SCSI_NCR_MAX_LUN\t(16)\n\n \n\n#ifdef\t__BIG_ENDIAN\n\n#define\tinw_l2b\t\tinw\n#define\tinl_l2b\t\tinl\n#define\toutw_b2l\toutw\n#define\toutl_b2l\toutl\n\n#define\treadb_raw\treadb\n#define\twriteb_raw\twriteb\n\n#if defined(SCSI_NCR_BIG_ENDIAN)\n#define\treadw_l2b\t__raw_readw\n#define\treadl_l2b\t__raw_readl\n#define\twritew_b2l\t__raw_writew\n#define\twritel_b2l\t__raw_writel\n#define\treadw_raw\t__raw_readw\n#define\treadl_raw\t__raw_readl\n#define\twritew_raw\t__raw_writew\n#define\twritel_raw\t__raw_writel\n#else\t \n#define\treadw_l2b\treadw\n#define\treadl_l2b\treadl\n#define\twritew_b2l\twritew\n#define\twritel_b2l\twritel\n#define\treadw_raw\treadw\n#define\treadl_raw\treadl\n#define\twritew_raw\twritew\n#define\twritel_raw\twritel\n#endif\n\n#else\t \n\n#define\tinw_raw\t\tinw\n#define\tinl_raw\t\tinl\n#define\toutw_raw\toutw\n#define\toutl_raw\toutl\n\n#define\treadb_raw\treadb\n#define\treadw_raw\treadw\n#define\treadl_raw\treadl\n#define\twriteb_raw\twriteb\n#define\twritew_raw\twritew\n#define\twritel_raw\twritel\n\n#endif\n\n#if !defined(__hppa__) && !defined(__mips__)\n#ifdef\tSCSI_NCR_BIG_ENDIAN\n#error\t\"The NCR in BIG ENDIAN addressing mode is not (yet) supported\"\n#endif\n#endif\n\n#define MEMORY_BARRIER()\tmb()\n\n\n \n\n#if\tdefined(SCSI_NCR_BIG_ENDIAN)\n\n#define ncr_offb(o)\t(((o)&~3)+((~((o)&3))&3))\n#define ncr_offw(o)\t(((o)&~3)+((~((o)&3))&2))\n\n#else\n\n#define ncr_offb(o)\t(o)\n#define ncr_offw(o)\t(o)\n\n#endif\n\n \n\n#if\tdefined(__BIG_ENDIAN) && !defined(SCSI_NCR_BIG_ENDIAN)\n\n#define cpu_to_scr(dw)\tcpu_to_le32(dw)\n#define scr_to_cpu(dw)\tle32_to_cpu(dw)\n\n#elif\tdefined(__LITTLE_ENDIAN) && defined(SCSI_NCR_BIG_ENDIAN)\n\n#define cpu_to_scr(dw)\tcpu_to_be32(dw)\n#define scr_to_cpu(dw)\tbe32_to_cpu(dw)\n\n#else\n\n#define cpu_to_scr(dw)\t(dw)\n#define scr_to_cpu(dw)\t(dw)\n\n#endif\n\n \n\n \n\n#define INB_OFF(o)\t\treadb_raw((char __iomem *)np->reg + ncr_offb(o))\n#define OUTB_OFF(o, val)\twriteb_raw((val), (char __iomem *)np->reg + ncr_offb(o))\n\n#if\tdefined(__BIG_ENDIAN) && !defined(SCSI_NCR_BIG_ENDIAN)\n\n#define INW_OFF(o)\t\treadw_l2b((char __iomem *)np->reg + ncr_offw(o))\n#define INL_OFF(o)\t\treadl_l2b((char __iomem *)np->reg + (o))\n\n#define OUTW_OFF(o, val)\twritew_b2l((val), (char __iomem *)np->reg + ncr_offw(o))\n#define OUTL_OFF(o, val)\twritel_b2l((val), (char __iomem *)np->reg + (o))\n\n#elif\tdefined(__LITTLE_ENDIAN) && defined(SCSI_NCR_BIG_ENDIAN)\n\n#define INW_OFF(o)\t\treadw_b2l((char __iomem *)np->reg + ncr_offw(o))\n#define INL_OFF(o)\t\treadl_b2l((char __iomem *)np->reg + (o))\n\n#define OUTW_OFF(o, val)\twritew_l2b((val), (char __iomem *)np->reg + ncr_offw(o))\n#define OUTL_OFF(o, val)\twritel_l2b((val), (char __iomem *)np->reg + (o))\n\n#else\n\n#ifdef CONFIG_SCSI_NCR53C8XX_NO_WORD_TRANSFERS\n \n#define INW_OFF(o)\t\t(readb((char __iomem *)np->reg + ncr_offw(o)) << 8 | readb((char __iomem *)np->reg + ncr_offw(o) + 1))\n#else\n#define INW_OFF(o)\t\treadw_raw((char __iomem *)np->reg + ncr_offw(o))\n#endif\n#define INL_OFF(o)\t\treadl_raw((char __iomem *)np->reg + (o))\n\n#ifdef CONFIG_SCSI_NCR53C8XX_NO_WORD_TRANSFERS\n \n#define OUTW_OFF(o, val)\tdo { writeb((char)((val) >> 8), (char __iomem *)np->reg + ncr_offw(o)); writeb((char)(val), (char __iomem *)np->reg + ncr_offw(o) + 1); } while (0)\n#else\n#define OUTW_OFF(o, val)\twritew_raw((val), (char __iomem *)np->reg + ncr_offw(o))\n#endif\n#define OUTL_OFF(o, val)\twritel_raw((val), (char __iomem *)np->reg + (o))\n\n#endif\n\n#define INB(r)\t\tINB_OFF (offsetof(struct ncr_reg,r))\n#define INW(r)\t\tINW_OFF (offsetof(struct ncr_reg,r))\n#define INL(r)\t\tINL_OFF (offsetof(struct ncr_reg,r))\n\n#define OUTB(r, val)\tOUTB_OFF (offsetof(struct ncr_reg,r), (val))\n#define OUTW(r, val)\tOUTW_OFF (offsetof(struct ncr_reg,r), (val))\n#define OUTL(r, val)\tOUTL_OFF (offsetof(struct ncr_reg,r), (val))\n\n \n\n#define OUTONB(r, m)\tOUTB(r, INB(r) | (m))\n#define OUTOFFB(r, m)\tOUTB(r, INB(r) & ~(m))\n#define OUTONW(r, m)\tOUTW(r, INW(r) | (m))\n#define OUTOFFW(r, m)\tOUTW(r, INW(r) & ~(m))\n#define OUTONL(r, m)\tOUTL(r, INL(r) | (m))\n#define OUTOFFL(r, m)\tOUTL(r, INL(r) & ~(m))\n\n \n#define OUTL_DSP(v)\t\t\t\t\\\n\tdo {\t\t\t\t\t\\\n\t\tMEMORY_BARRIER();\t\t\\\n\t\tOUTL (nc_dsp, (v));\t\t\\\n\t} while (0)\n\n#define OUTONB_STD()\t\t\t\t\\\n\tdo {\t\t\t\t\t\\\n\t\tMEMORY_BARRIER();\t\t\\\n\t\tOUTONB (nc_dcntl, (STD|NOCOM));\t\\\n\t} while (0)\n\n\n \nstruct ncr_chip {\n\tunsigned short\trevision_id;\n\tunsigned char\tburst_max;\t \n\tunsigned char\toffset_max;\n\tunsigned char\tnr_divisor;\n\tunsigned int\tfeatures;\n#define FE_LED0\t\t(1<<0)\n#define FE_WIDE\t\t(1<<1)     \n#define FE_ULTRA\t(1<<2)\t   \n#define FE_DBLR\t\t(1<<4)\t   \n#define FE_QUAD\t\t(1<<5)\t   \n#define FE_ERL\t\t(1<<6)     \n#define FE_CLSE\t\t(1<<7)     \n#define FE_WRIE\t\t(1<<8)     \n#define FE_ERMP\t\t(1<<9)     \n#define FE_BOF\t\t(1<<10)    \n#define FE_DFS\t\t(1<<11)    \n#define FE_PFEN\t\t(1<<12)    \n#define FE_LDSTR\t(1<<13)    \n#define FE_RAM\t\t(1<<14)    \n#define FE_VARCLK\t(1<<15)    \n#define FE_RAM8K\t(1<<16)    \n#define FE_64BIT\t(1<<17)    \n#define FE_IO256\t(1<<18)    \n#define FE_NOPM\t\t(1<<19)    \n#define FE_LEDC\t\t(1<<20)    \n#define FE_DIFF\t\t(1<<21)    \n#define FE_66MHZ \t(1<<23)    \n#define FE_DAC\t \t(1<<24)    \n#define FE_ISTAT1 \t(1<<25)    \n#define FE_DAC_IN_USE\t(1<<26)\t   \n#define FE_EHP\t\t(1<<27)    \n#define FE_MUX\t\t(1<<28)    \n#define FE_EA\t\t(1<<29)    \n\n#define FE_CACHE_SET\t(FE_ERL|FE_CLSE|FE_WRIE|FE_ERMP)\n#define FE_SCSI_SET\t(FE_WIDE|FE_ULTRA|FE_DBLR|FE_QUAD|F_CLK80)\n#define FE_SPECIAL_SET\t(FE_CACHE_SET|FE_BOF|FE_DFS|FE_LDSTR|FE_PFEN|FE_RAM)\n};\n\n\n \n#define SCSI_NCR_MAX_EXCLUDES 8\nstruct ncr_driver_setup {\n\tu8\tmaster_parity;\n\tu8\tscsi_parity;\n\tu8\tdisconnection;\n\tu8\tspecial_features;\n\tu8\tforce_sync_nego;\n\tu8\treverse_probe;\n\tu8\tpci_fix_up;\n\tu8\tuse_nvram;\n\tu8\tverbose;\n\tu8\tdefault_tags;\n\tu16\tdefault_sync;\n\tu16\tdebug;\n\tu8\tburst_max;\n\tu8\tled_pin;\n\tu8\tmax_wide;\n\tu8\tsettle_delay;\n\tu8\tdiff_support;\n\tu8\tirqm;\n\tu8\tbus_check;\n\tu8\toptimize;\n\tu8\trecovery;\n\tu8\thost_id;\n\tu16\tiarb;\n\tu32\texcludes[SCSI_NCR_MAX_EXCLUDES];\n\tchar\ttag_ctrl[100];\n};\n\n \n#define SCSI_NCR_DRIVER_SETUP\t\t\t\\\n{\t\t\t\t\t\t\\\n\tSCSI_NCR_SETUP_MASTER_PARITY,\t\t\\\n\tSCSI_NCR_SETUP_SCSI_PARITY,\t\t\\\n\tSCSI_NCR_SETUP_DISCONNECTION,\t\t\\\n\tSCSI_NCR_SETUP_SPECIAL_FEATURES,\t\\\n\tSCSI_NCR_SETUP_FORCE_SYNC_NEGO,\t\t\\\n\t0,\t\t\t\t\t\\\n\t0,\t\t\t\t\t\\\n\t1,\t\t\t\t\t\\\n\t0,\t\t\t\t\t\\\n\tSCSI_NCR_SETUP_DEFAULT_TAGS,\t\t\\\n\tSCSI_NCR_SETUP_DEFAULT_SYNC,\t\t\\\n\t0x00,\t\t\t\t\t\\\n\t7,\t\t\t\t\t\\\n\t0,\t\t\t\t\t\\\n\t1,\t\t\t\t\t\\\n\tSCSI_NCR_SETUP_SETTLE_TIME,\t\t\\\n\t0,\t\t\t\t\t\\\n\t0,\t\t\t\t\t\\\n\t1,\t\t\t\t\t\\\n\t0,\t\t\t\t\t\\\n\t0,\t\t\t\t\t\\\n\t255,\t\t\t\t\t\\\n\t0x00\t\t\t\t\t\\\n}\n\n \n#define SCSI_NCR_DRIVER_SAFE_SETUP\t\t\\\n{\t\t\t\t\t\t\\\n\t0,\t\t\t\t\t\\\n\t1,\t\t\t\t\t\\\n\t0,\t\t\t\t\t\\\n\t0,\t\t\t\t\t\\\n\t0,\t\t\t\t\t\\\n\t0,\t\t\t\t\t\\\n\t0,\t\t\t\t\t\\\n\t1,\t\t\t\t\t\\\n\t2,\t\t\t\t\t\\\n\t0,\t\t\t\t\t\\\n\t255,\t\t\t\t\t\\\n\t0x00,\t\t\t\t\t\\\n\t255,\t\t\t\t\t\\\n\t0,\t\t\t\t\t\\\n\t0,\t\t\t\t\t\\\n\t10,\t\t\t\t\t\\\n\t1,\t\t\t\t\t\\\n\t1,\t\t\t\t\t\\\n\t1,\t\t\t\t\t\\\n\t0,\t\t\t\t\t\\\n\t0,\t\t\t\t\t\\\n\t255\t\t\t\t\t\\\n}\n\n \n\n \n\nstruct ncr_reg {\n   u8\tnc_scntl0;     \n\n   u8\tnc_scntl1;     \n        #define   ISCON   0x10   \n        #define   CRST    0x08   \n        #define   IARB    0x02   \n\n   u8\tnc_scntl2;     \n\t#define   SDU     0x80   \n\t#define   CHM     0x40   \n\t#define   WSS     0x08   \n\t#define   WSR     0x01   \n\n   u8\tnc_scntl3;     \n\t#define   EWS     0x08   \n\t#define   ULTRA   0x80   \n\t\t\t\t \n\n   u8\tnc_scid;\t \n\t#define   RRE     0x40   \n\t#define   SRE     0x20   \n\n   u8\tnc_sxfer;\t \n\t\t\t\t \n\n   u8\tnc_sdid;\t \n\n   u8\tnc_gpreg;\t \n\n   u8\tnc_sfbr;\t \n\n   u8\tnc_socl;\n\t#define   CREQ\t  0x80\t \n\t#define   CACK\t  0x40\t \n\t#define   CBSY\t  0x20\t \n\t#define   CSEL\t  0x10\t \n\t#define   CATN\t  0x08\t \n\t#define   CMSG\t  0x04\t \n\t#define   CC_D\t  0x02\t \n\t#define   CI_O\t  0x01\t \n\n   u8\tnc_ssid;\n\n   u8\tnc_sbcl;\n\n   u8\tnc_dstat;\n        #define   DFE     0x80   \n        #define   MDPE    0x40   \n        #define   BF      0x20   \n        #define   ABRT    0x10   \n        #define   SSI     0x08   \n        #define   SIR     0x04   \n        #define   IID     0x01   \n\n   u8\tnc_sstat0;\n        #define   ILF     0x80   \n        #define   ORF     0x40   \n        #define   OLF     0x20   \n        #define   AIP     0x10   \n        #define   LOA     0x08   \n        #define   WOA     0x04   \n        #define   IRST    0x02   \n        #define   SDP     0x01   \n\n   u8\tnc_sstat1;\n\t#define   FF3210  0xf0\t \n\n   u8\tnc_sstat2;\n        #define   ILF1    0x80   \n        #define   ORF1    0x40   \n        #define   OLF1    0x20   \n        #define   DM      0x04   \n        #define   LDSC    0x02   \n\n   u8\tnc_dsa;\t \n   u8\tnc_dsa1;\n   u8\tnc_dsa2;\n   u8\tnc_dsa3;\n\n   u8\tnc_istat;\t \n        #define   CABRT   0x80   \n        #define   SRST    0x40   \n        #define   SIGP    0x20   \n        #define   SEM     0x10   \n        #define   CON     0x08   \n        #define   INTF    0x04   \n        #define   SIP     0x02   \n        #define   DIP     0x01   \n\n   u8\tnc_istat1;\t \n        #define   FLSH    0x04   \n        #define   SRUN    0x02   \n        #define   SIRQD   0x01   \n\n   u8\tnc_mbox0;\t \n   u8\tnc_mbox1;\t \n\n \tu8\tnc_ctest0;\n\t#define   EHP     0x04\t \n   u8\tnc_ctest1;\n\n   u8\tnc_ctest2;\n\t#define   CSIGP   0x40\n\t\t\t\t \n\n   u8\tnc_ctest3;\n\t#define   FLF     0x08   \n\t#define   CLF\t  0x04\t \n\t#define   FM      0x02   \n\t#define   WRIE    0x01   \n\t\t\t\t \n\n   u32    nc_temp;\t \n\n \tu8\tnc_dfifo;\n   u8\tnc_ctest4;\n\t#define   MUX     0x80   \n\t#define   BDIS    0x80   \n\t#define   MPEE    0x08   \n\n   u8\tnc_ctest5;\n\t#define   DFS     0x20   \n\t\t\t\t \n   u8\tnc_ctest6;\n\n   u32    nc_dbc;\t \n   u32    nc_dnad;\t \n   u32    nc_dsp;\t \n   u32    nc_dsps;\t \n\n   u8\tnc_scratcha;   \n   u8\tnc_scratcha1;\n   u8\tnc_scratcha2;\n   u8\tnc_scratcha3;\n\n   u8\tnc_dmode;\n\t#define   BL_2    0x80   \n\t#define   BL_1    0x40   \n\t#define   ERL     0x08   \n\t#define   ERMP    0x04   \n\t#define   BOF     0x02   \n\n   u8\tnc_dien;\n   u8\tnc_sbr;\n\n   u8\tnc_dcntl;\t \n\t#define   CLSE    0x80   \n\t#define   PFF     0x40   \n\t#define   PFEN    0x20   \n\t#define   EA      0x20   \n\t#define   SSM     0x10   \n\t#define   IRQM    0x08   \n\t#define   STD     0x04   \n\t#define   IRQD    0x02   \n \t#define\t  NOCOM   0x01\t \n\t\t\t\t \n\n   u32\tnc_adder;\n\n   u16\tnc_sien;\t \n   u16\tnc_sist;\t \n        #define   SBMC    0x1000 \n        #define   STO     0x0400 \n        #define   GEN     0x0200 \n        #define   HTH     0x0100 \n        #define   MA      0x80   \n        #define   CMP     0x40   \n        #define   SEL     0x20   \n        #define   RSL     0x10   \n        #define   SGE     0x08   \n        #define   UDC     0x04   \n        #define   RST     0x02   \n        #define   PAR     0x01   \n\n   u8\tnc_slpar;\n   u8\tnc_swide;\n   u8\tnc_macntl;\n   u8\tnc_gpcntl;\n   u8\tnc_stime0;     \n   u8\tnc_stime1;     \n   u16   nc_respid;     \n\n   u8\tnc_stest0;\n\n   u8\tnc_stest1;\n\t#define   SCLK    0x80\t \n\t#define   DBLEN   0x08\t \n\t#define   DBLSEL  0x04\t \n  \n\n   u8\tnc_stest2;\n\t#define   ROF     0x40\t \n\t#define   DIF     0x20   \n\t#define   EXT     0x02   \n\n   u8\tnc_stest3;\n\t#define   TE     0x80\t \n\t#define   HSC    0x20\t \n\t#define   CSF    0x02\t \n\n   u16   nc_sidl;\t \n   u8\tnc_stest4;\n\t#define   SMODE  0xc0\t \n\t#define    SMODE_HVD 0x40\t \n\t#define    SMODE_SE  0x80\t \n\t#define    SMODE_LVD 0xc0\t \n\t#define   LCKFRQ 0x20\t \n\t\t\t\t \n\n   u8\tnc_53_;\n   u16\tnc_sodl;\t \n \tu8\tnc_ccntl0;\t \n\t#define   ENPMJ  0x80\t \n\t#define   PMJCTL 0x40\t \n\t#define   ENNDJ  0x20\t \n\t#define   DISFC  0x10\t \n\t#define   DILS   0x02\t \n\t#define   DPR    0x01\t \n\n \tu8\tnc_ccntl1;\t \n\t#define   ZMOD   0x80\t \n\t#define\t  DIC\t 0x10\t \n\t#define   DDAC   0x08\t \n\t#define   XTIMOD 0x04\t \n\t#define   EXTIBMV 0x02\t \n\t#define   EXDBMV 0x01\t \n\n   u16\tnc_sbdl;\t \n   u16\tnc_5a_;\n\n   u8\tnc_scr0;\t \n   u8\tnc_scr1;\t \n   u8\tnc_scr2;\t \n   u8\tnc_scr3;\t \n\n   u8\tnc_scrx[64];\t \n \tu32\tnc_mmrs;\t \n \tu32\tnc_mmws;\t \n \tu32\tnc_sfs;\t\t \n \tu32\tnc_drs;\t\t \n \tu32\tnc_sbms;\t \n \tu32\tnc_dbms;\t \n \tu32\tnc_dnad64;\t \n \tu16\tnc_scntl4;\t \n\t#define   U3EN   0x80\t \n\t#define   AIPEN\t 0x40    \n\t#define   XCLKH_DT 0x08  \n\t#define   XCLKH_ST 0x04  \n\n   u8\tnc_aipcntl0;\t \n   u8\tnc_aipcntl1;\t \n\n \tu32\tnc_pmjad1;\t \n \tu32\tnc_pmjad2;\t \n \tu8\tnc_rbc;\t\t \n \tu8\tnc_rbc1;\t \n \tu8\tnc_rbc2;\t \n \tu8\tnc_rbc3;\t \n\n \tu8\tnc_ua;\t\t \n \tu8\tnc_ua1;\t\t \n \tu8\tnc_ua2;\t\t \n \tu8\tnc_ua3;\t\t \n \tu32\tnc_esa;\t\t \n \tu8\tnc_ia;\t\t \n \tu8\tnc_ia1;\n \tu8\tnc_ia2;\n \tu8\tnc_ia3;\n \tu32\tnc_sbc;\t\t \n \tu32\tnc_csbc;\t \n\n\t\t\t\t \n   u16\tnc_crcpad;\t \n   u8\tnc_crccntl0;\t \n\t#define   SNDCRC  0x10\t \n   u8\tnc_crccntl1;\t \n   u32\tnc_crcdata;\t  \n   u32\tnc_e8_;\t\t \n   u32\tnc_ec_;\t\t \n   u16\tnc_dfbc;\t  \n\n};\n\n \n\n#define REGJ(p,r) (offsetof(struct ncr_reg, p ## r))\n#define REG(r) REGJ (nc_, r)\n\ntypedef u32 ncrcmd;\n\n \n\n#define\tSCR_DATA_OUT\t0x00000000\n#define\tSCR_DATA_IN\t0x01000000\n#define\tSCR_COMMAND\t0x02000000\n#define\tSCR_STATUS\t0x03000000\n#define SCR_DT_DATA_OUT\t0x04000000\n#define SCR_DT_DATA_IN\t0x05000000\n#define SCR_MSG_OUT\t0x06000000\n#define SCR_MSG_IN      0x07000000\n\n#define SCR_ILG_OUT\t0x04000000\n#define SCR_ILG_IN\t0x05000000\n\n \n\n#define OPC_MOVE          0x08000000\n\n#define SCR_MOVE_ABS(l) ((0x00000000 | OPC_MOVE) | (l))\n#define SCR_MOVE_IND(l) ((0x20000000 | OPC_MOVE) | (l))\n#define SCR_MOVE_TBL     (0x10000000 | OPC_MOVE)\n\n#define SCR_CHMOV_ABS(l) ((0x00000000) | (l))\n#define SCR_CHMOV_IND(l) ((0x20000000) | (l))\n#define SCR_CHMOV_TBL     (0x10000000)\n\nstruct scr_tblmove {\n        u32  size;\n        u32  addr;\n};\n\n \n\n#define\tSCR_SEL_ABS\t0x40000000\n#define\tSCR_SEL_ABS_ATN\t0x41000000\n#define\tSCR_SEL_TBL\t0x42000000\n#define\tSCR_SEL_TBL_ATN\t0x43000000\n\n\n#ifdef SCSI_NCR_BIG_ENDIAN\nstruct scr_tblsel {\n        u8\tsel_scntl3;\n        u8\tsel_id;\n        u8\tsel_sxfer;\n        u8\tsel_scntl4;\t\n};\n#else\nstruct scr_tblsel {\n        u8\tsel_scntl4;\t\n        u8\tsel_sxfer;\n        u8\tsel_id;\n        u8\tsel_scntl3;\n};\n#endif\n\n#define SCR_JMP_REL     0x04000000\n#define SCR_ID(id)\t(((u32)(id)) << 16)\n\n \n\n#define\tSCR_WAIT_DISC\t0x48000000\n#define SCR_WAIT_RESEL  0x50000000\n\n \n\n#define SCR_SET(f)     (0x58000000 | (f))\n#define SCR_CLR(f)     (0x60000000 | (f))\n\n#define\tSCR_CARRY\t0x00000400\n#define\tSCR_TRG\t\t0x00000200\n#define\tSCR_ACK\t\t0x00000040\n#define\tSCR_ATN\t\t0x00000008\n\n\n\n\n \n\n#define SCR_NO_FLUSH 0x01000000\n\n#define SCR_COPY(n) (0xc0000000 | SCR_NO_FLUSH | (n))\n#define SCR_COPY_F(n) (0xc0000000 | (n))\n\n \n\n#define SCR_REG_OFS(ofs) ((((ofs) & 0x7f) << 16ul) + ((ofs) & 0x80)) \n\n#define SCR_SFBR_REG(reg,op,data) \\\n        (0x68000000 | (SCR_REG_OFS(REG(reg))) | (op) | (((data)&0xff)<<8ul))\n\n#define SCR_REG_SFBR(reg,op,data) \\\n        (0x70000000 | (SCR_REG_OFS(REG(reg))) | (op) | (((data)&0xff)<<8ul))\n\n#define SCR_REG_REG(reg,op,data) \\\n        (0x78000000 | (SCR_REG_OFS(REG(reg))) | (op) | (((data)&0xff)<<8ul))\n\n\n#define      SCR_LOAD   0x00000000\n#define      SCR_SHL    0x01000000\n#define      SCR_OR     0x02000000\n#define      SCR_XOR    0x03000000\n#define      SCR_AND    0x04000000\n#define      SCR_SHR    0x05000000\n#define      SCR_ADD    0x06000000\n#define      SCR_ADDC   0x07000000\n\n#define      SCR_SFBR_DATA   (0x00800000>>8ul)\t \n\n \n\n#define\tSCR_FROM_REG(reg) \\\n\tSCR_REG_SFBR(reg,SCR_OR,0)\n\n#define\tSCR_TO_REG(reg) \\\n\tSCR_SFBR_REG(reg,SCR_OR,0)\n\n#define\tSCR_LOAD_REG(reg,data) \\\n\tSCR_REG_REG(reg,SCR_LOAD,data)\n\n#define SCR_LOAD_SFBR(data) \\\n        (SCR_REG_SFBR (gpreg, SCR_LOAD, data))\n\n \n\n#define SCR_REG_OFS2(ofs) (((ofs) & 0xff) << 16ul)\n#define SCR_NO_FLUSH2\t0x02000000\n#define SCR_DSA_REL2\t0x10000000\n\n#define SCR_LOAD_R(reg, how, n) \\\n        (0xe1000000 | how | (SCR_REG_OFS2(REG(reg))) | (n))\n\n#define SCR_STORE_R(reg, how, n) \\\n        (0xe0000000 | how | (SCR_REG_OFS2(REG(reg))) | (n))\n\n#define SCR_LOAD_ABS(reg, n)\tSCR_LOAD_R(reg, SCR_NO_FLUSH2, n)\n#define SCR_LOAD_REL(reg, n)\tSCR_LOAD_R(reg, SCR_NO_FLUSH2|SCR_DSA_REL2, n)\n#define SCR_LOAD_ABS_F(reg, n)\tSCR_LOAD_R(reg, 0, n)\n#define SCR_LOAD_REL_F(reg, n)\tSCR_LOAD_R(reg, SCR_DSA_REL2, n)\n\n#define SCR_STORE_ABS(reg, n)\tSCR_STORE_R(reg, SCR_NO_FLUSH2, n)\n#define SCR_STORE_REL(reg, n)\tSCR_STORE_R(reg, SCR_NO_FLUSH2|SCR_DSA_REL2,n)\n#define SCR_STORE_ABS_F(reg, n)\tSCR_STORE_R(reg, 0, n)\n#define SCR_STORE_REL_F(reg, n)\tSCR_STORE_R(reg, SCR_DSA_REL2, n)\n\n\n \n\n#define SCR_NO_OP       0x80000000\n#define SCR_JUMP        0x80080000\n#define SCR_JUMP64      0x80480000\n#define SCR_JUMPR       0x80880000\n#define SCR_CALL        0x88080000\n#define SCR_CALLR       0x88880000\n#define SCR_RETURN      0x90080000\n#define SCR_INT         0x98080000\n#define SCR_INT_FLY     0x98180000\n\n#define IFFALSE(arg)   (0x00080000 | (arg))\n#define IFTRUE(arg)    (0x00000000 | (arg))\n\n#define WHEN(phase)    (0x00030000 | (phase))\n#define IF(phase)      (0x00020000 | (phase))\n\n#define DATA(D)        (0x00040000 | ((D) & 0xff))\n#define MASK(D,M)      (0x00040000 | (((M ^ 0xff) & 0xff) << 8ul)|((D) & 0xff))\n\n#define CARRYSET       (0x00200000)\n\n \n\n \n\n \n\n#define ncr_build_sge(np, data, badd, len)\t\\\ndo {\t\t\t\t\t\t\\\n\t(data)->addr = cpu_to_scr(badd);\t\\\n\t(data)->size = cpu_to_scr(len);\t\t\\\n} while (0)\n\n \nstruct ncr_slot {\n\tu_long\tbase;\n\tu_long\tbase_2;\n\tu_long\tbase_c;\n\tu_long\tbase_2_c;\n\tvoid __iomem *base_v;\n\tvoid __iomem *base_2_v;\n\tint\tirq;\n \n\tvolatile struct ncr_reg\t__iomem *reg;\n};\n\n \nstruct ncr_device {\n\tstruct device  *dev;\n\tstruct ncr_slot  slot;\n\tstruct ncr_chip  chip;\n\tu_char host_id;\n\tu8 differential;\n};\n\n \nstruct ncr_cmd_priv {\n\tint\tdata_mapped;\n\tint\tdata_mapping;\n};\n\nextern struct Scsi_Host *ncr_attach(struct scsi_host_template *tpnt, int unit, struct ncr_device *device);\nextern void ncr53c8xx_release(struct Scsi_Host *host);\nirqreturn_t ncr53c8xx_intr(int irq, void *dev_id);\nextern int ncr53c8xx_init(void);\nextern void ncr53c8xx_exit(void);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}