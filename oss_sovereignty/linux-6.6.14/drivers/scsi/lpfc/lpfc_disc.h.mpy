{
  "module_name": "lpfc_disc.h",
  "hash_id": "971f50192a84a7aedffb25701c5ec5f43661943d20812f2ba7dbab4ed1e12cd0",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/lpfc/lpfc_disc.h",
  "human_readable_source": " \n\n#define FC_MAX_HOLD_RSCN     32\t       \n#define FC_MAX_NS_RSP        64512     \n#define FC_MAXLOOP           126       \n#define LPFC_DISC_FLOGI_TMO  10\t       \n\n\n \n\n \nenum lpfc_work_type {\n\tLPFC_EVT_ONLINE,\n\tLPFC_EVT_OFFLINE_PREP,\n\tLPFC_EVT_OFFLINE,\n\tLPFC_EVT_WARM_START,\n\tLPFC_EVT_KILL,\n\tLPFC_EVT_ELS_RETRY,\n\tLPFC_EVT_DEV_LOSS,\n\tLPFC_EVT_FASTPATH_MGMT_EVT,\n\tLPFC_EVT_RESET_HBA,\n\tLPFC_EVT_RECOVER_PORT\n};\n\n \nstruct lpfc_work_evt {\n\tstruct list_head      evt_listp;\n\tvoid                 *evt_arg1;\n\tvoid                 *evt_arg2;\n\tenum lpfc_work_type   evt;\n};\n\nstruct lpfc_scsi_check_condition_event;\nstruct lpfc_scsi_varqueuedepth_event;\nstruct lpfc_scsi_event_header;\nstruct lpfc_fabric_event_header;\nstruct lpfc_fcprdchkerr_event;\n\n \nstruct lpfc_fast_path_event {\n\tstruct lpfc_work_evt work_evt;\n\tstruct lpfc_vport     *vport;\n\tunion {\n\t\tstruct lpfc_scsi_check_condition_event check_cond_evt;\n\t\tstruct lpfc_scsi_varqueuedepth_event queue_depth_evt;\n\t\tstruct lpfc_scsi_event_header scsi_evt;\n\t\tstruct lpfc_fabric_event_header fabric_evt;\n\t\tstruct lpfc_fcprdchkerr_event read_check_error;\n\t} un;\n};\n\n#define LPFC_SLI4_MAX_XRI\t1024\t \n#define XRI_BITMAP_ULONGS (LPFC_SLI4_MAX_XRI / BITS_PER_LONG)\nstruct lpfc_node_rrqs {\n\tunsigned long xri_bitmap[XRI_BITMAP_ULONGS];\n};\n\nenum lpfc_fc4_xpt_flags {\n\tNLP_XPT_REGD\t\t= 0x1,\n\tSCSI_XPT_REGD\t\t= 0x2,\n\tNVME_XPT_REGD\t\t= 0x4,\n\tNVME_XPT_UNREG_WAIT\t= 0x8,\n\tNLP_XPT_HAS_HH\t\t= 0x10\n};\n\nenum lpfc_nlp_save_flags {\n\t \n\tNLP_IN_RECOV_POST_DEV_LOSS\t= 0x1,\n\t \n\tNLP_WAIT_FOR_LOGO\t\t= 0x2,\n};\n\nstruct lpfc_nodelist {\n\tstruct list_head nlp_listp;\n\tstruct serv_parm fc_sparam;\t\t \n\tstruct lpfc_name nlp_portname;\n\tstruct lpfc_name nlp_nodename;\n\n\tspinlock_t\tlock;\t\t\t \n\n\tuint32_t         nlp_flag;\t\t \n\tuint32_t         nlp_DID;\t\t \n\tuint32_t         nlp_last_elscmd;\t \n\tuint16_t         nlp_type;\n#define NLP_FC_NODE        0x1\t\t\t \n#define NLP_FABRIC         0x4\t\t\t \n#define NLP_FCP_TARGET     0x8\t\t\t \n#define NLP_FCP_INITIATOR  0x10\t\t\t \n#define NLP_NVME_TARGET    0x20\t\t\t \n#define NLP_NVME_INITIATOR 0x40\t\t\t \n#define NLP_NVME_DISCOVERY 0x80                  \n\n\tuint16_t\tnlp_fc4_type;\t\t \n\t\t\t\t\t\t \n#define NLP_FC4_NONE\t0x0\n#define NLP_FC4_FCP\t0x1\t\t\t \n#define NLP_FC4_NVME\t0x2\t\t\t \n\n\tuint16_t        nlp_rpi;\n\tuint16_t        nlp_state;\t\t \n\tuint16_t        nlp_prev_state;\t\t \n\tuint16_t        nlp_xri;\t\t \n\tuint16_t        nlp_sid;\t\t \n#define NLP_NO_SID\t\t0xffff\n\tuint16_t\tnlp_maxframe;\t\t \n\tuint8_t\t\tnlp_class_sup;\t\t \n\tuint8_t         nlp_retry;\t\t \n\tuint8_t         nlp_fcp_info;\t         \n#define NLP_FCP_2_DEVICE   0x10\t\t\t \n\tu8\t\tnlp_nvme_info;\t         \n\tuint8_t\t\tvmid_support;\t\t \n#define NLP_NVME_NSLER     0x1\t\t\t \n\n\tstruct timer_list   nlp_delayfunc;\t \n\tstruct lpfc_hba *phba;\n\tstruct fc_rport *rport;\t\t \n\tstruct lpfc_nvme_rport *nrport;\t \n\tstruct lpfc_vport *vport;\n\tstruct lpfc_work_evt els_retry_evt;\n\tstruct lpfc_work_evt dev_loss_evt;\n\tstruct lpfc_work_evt recovery_evt;\n\tstruct kref     kref;\n\tatomic_t cmd_pending;\n\tuint32_t cmd_qdepth;\n\tunsigned long last_change_time;\n\tunsigned long *active_rrqs_xri_bitmap;\n\tuint32_t fc4_prli_sent;\n\n\t \n\tenum lpfc_nlp_save_flags save_flags;\n\n\tenum lpfc_fc4_xpt_flags fc4_xpt_flags;\n\n\tuint32_t nvme_fb_size;  \n#define NVME_FB_BIT_SHIFT 9     \n\tuint32_t nlp_defer_did;\n\twait_queue_head_t *logo_waitq;\n};\n\nstruct lpfc_node_rrq {\n\tstruct list_head list;\n\tuint16_t xritag;\n\tuint16_t send_rrq;\n\tuint16_t rxid;\n\tuint32_t         nlp_DID;\t\t \n\tstruct lpfc_vport *vport;\n\tunsigned long rrq_stop_time;\n};\n\n#define lpfc_ndlp_check_qdepth(phba, ndlp) \\\n\t(ndlp->cmd_qdepth < phba->sli4_hba.max_cfg_param.max_xri)\n\n \n#define NLP_IGNR_REG_CMPL  0x00000001  \n#define NLP_REG_LOGIN_SEND 0x00000002    \n#define NLP_RELEASE_RPI    0x00000004    \n#define NLP_SUPPRESS_RSP   0x00000010\t \n#define NLP_PLOGI_SND      0x00000020\t \n#define NLP_PRLI_SND       0x00000040\t \n#define NLP_ADISC_SND      0x00000080\t \n#define NLP_LOGO_SND       0x00000100\t \n#define NLP_RNID_SND       0x00000400\t \n#define NLP_ELS_SND_MASK   0x000007e0\t \n#define NLP_NVMET_RECOV    0x00001000    \n#define NLP_UNREG_INP      0x00008000\t \n#define NLP_DROPPED        0x00010000\t \n#define NLP_DELAY_TMO      0x00020000\t \n#define NLP_NPR_2B_DISC    0x00040000\t \n#define NLP_RCV_PLOGI      0x00080000\t \n#define NLP_LOGO_ACC       0x00100000\t \n#define NLP_TGT_NO_SCSIID  0x00200000\t \n#define NLP_ISSUE_LOGO     0x00400000\t \n#define NLP_IN_DEV_LOSS    0x00800000\t \n#define NLP_ACC_REGLOGIN   0x01000000\t \n#define NLP_NPR_ADISC      0x02000000\t \n#define NLP_RM_DFLT_RPI    0x04000000\t \n#define NLP_NODEV_REMOVE   0x08000000\t \n#define NLP_TARGET_REMOVE  0x10000000    \n#define NLP_SC_REQ         0x20000000\t \n#define NLP_FIRSTBURST     0x40000000\t \n#define NLP_RPI_REGISTERED 0x80000000\t \n\n \n\n \n#define NLP_STE_UNUSED_NODE       0x0\t \n#define NLP_STE_PLOGI_ISSUE       0x1\t \n#define NLP_STE_ADISC_ISSUE       0x2\t \n#define NLP_STE_REG_LOGIN_ISSUE   0x3\t \n#define NLP_STE_PRLI_ISSUE        0x4\t \n#define NLP_STE_LOGO_ISSUE\t  0x5\t \n#define NLP_STE_UNMAPPED_NODE     0x6\t \n#define NLP_STE_MAPPED_NODE       0x7\t \n#define NLP_STE_NPR_NODE          0x8\t \n#define NLP_STE_MAX_STATE         0x9\n#define NLP_STE_FREED_NODE        0xff\t \n\n \n \n \n\n \n#define NLP_EVT_RCV_PLOGI         0x0\t \n#define NLP_EVT_RCV_PRLI          0x1\t \n#define NLP_EVT_RCV_LOGO          0x2\t \n#define NLP_EVT_RCV_ADISC         0x3\t \n#define NLP_EVT_RCV_PDISC         0x4\t \n#define NLP_EVT_RCV_PRLO          0x5\t \n#define NLP_EVT_CMPL_PLOGI        0x6\t \n#define NLP_EVT_CMPL_PRLI         0x7\t \n#define NLP_EVT_CMPL_LOGO         0x8\t \n#define NLP_EVT_CMPL_ADISC        0x9\t \n#define NLP_EVT_CMPL_REG_LOGIN    0xa\t \n#define NLP_EVT_DEVICE_RM         0xb\t \n#define NLP_EVT_DEVICE_RECOVERY   0xc\t \n#define NLP_EVT_MAX_EVENT         0xd\n#define NLP_EVT_NOTHING_PENDING   0xff\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}