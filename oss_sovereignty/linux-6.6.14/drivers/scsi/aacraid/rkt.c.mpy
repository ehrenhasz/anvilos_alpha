{
  "module_name": "rkt.c",
  "hash_id": "6dbcfe799df5adfb7f79c7aa43f79ce2d4f29762622afbd51e84eaeef3810406",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/aacraid/rkt.c",
  "human_readable_source": "\n \n\n#include <linux/blkdev.h>\n\n#include <scsi/scsi_host.h>\n\n#include \"aacraid.h\"\n\n#define AAC_NUM_IO_FIB_RKT      (246 - AAC_NUM_MGT_FIB)\n\n \n\nstatic int aac_rkt_select_comm(struct aac_dev *dev, int comm)\n{\n\tint retval;\n\tretval = aac_rx_select_comm(dev, comm);\n\tif (comm == AAC_COMM_MESSAGE) {\n\t\t \n\t\tif (dev->scsi_host_ptr->can_queue > AAC_NUM_IO_FIB_RKT) {\n\t\t\tdev->init->r7.max_io_commands =\n\t\t\t\tcpu_to_le32(AAC_NUM_IO_FIB_RKT + AAC_NUM_MGT_FIB);\n\t\t\tdev->scsi_host_ptr->can_queue = AAC_NUM_IO_FIB_RKT;\n\t\t}\n\t}\n\treturn retval;\n}\n\n \nstatic int aac_rkt_ioremap(struct aac_dev * dev, u32 size)\n{\n\tif (!size) {\n\t\tiounmap(dev->regs.rkt);\n\t\treturn 0;\n\t}\n\tdev->base = dev->regs.rkt = ioremap(dev->base_start, size);\n\tif (dev->base == NULL)\n\t\treturn -1;\n\tdev->IndexRegs = &dev->regs.rkt->IndexRegs;\n\treturn 0;\n}\n\n \n\nint aac_rkt_init(struct aac_dev *dev)\n{\n\t \n\tdev->a_ops.adapter_ioremap = aac_rkt_ioremap;\n\tdev->a_ops.adapter_comm = aac_rkt_select_comm;\n\n\treturn _aac_rx_init(dev);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}