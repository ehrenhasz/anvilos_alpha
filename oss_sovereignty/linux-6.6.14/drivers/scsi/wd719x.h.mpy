{
  "module_name": "wd719x.h",
  "hash_id": "31831f7a1d4c30691c15dbc44cafd266f85a126f1f931cb459de657dccc1440f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/wd719x.h",
  "human_readable_source": " \n#ifndef _WD719X_H_\n#define _WD719X_H_\n\n#define WD719X_SG 255\t\t \n\nstruct wd719x_sglist {\n\t__le32 ptr;\n\t__le32 length;\n} __packed;\n\nenum wd719x_card_type {\n\tWD719X_TYPE_UNKNOWN = 0,\n\tWD719X_TYPE_7193,\n\tWD719X_TYPE_7197,\n\tWD719X_TYPE_7296,\n};\n\nunion wd719x_regs {\n\t__le32 all;\t \n\tstruct {\n\t\tu8 OPC;\t\t \n\t\tu8 SCSI;\t \n\t\tu8 SUE;\t\t \n\t\tu8 INT;\t\t \n\t} bytes;\n};\n\n \nstruct wd719x_scb {\n\t__le32 Int_SCB;\t \n\tu8 SCB_opcode;\t \n\tu8 CDB_tag;\t \n\tu8 lun;\t\t \n\tu8 devid;\t \n\tu8 CDB[16];\t \n\t__le32 data_p;\t \n\t__le32 data_length;  \n\t__le32 CDB_link;     \n\t__le32 sense_buf;    \n\tu8 sense_buf_length; \n\tu8 reserved;\t \n\tu8 SCB_options;\t \n\tu8 SCB_tag_msg;\t \n\t \n\t__le32 req_ptr;\t \n\tu8 host_opcode;\t \n\tu8 scsi_stat;\t \n\tu8 ret_error;\t \n\tu8 int_stat;\t \n\t__le32 transferred;  \n\tu8 last_trans[3];   \n\tu8 length;\t \n\tu8 sync_offset;\t \n\tu8 sync_rate;\t \n\tu8 flags[2];\t \n\t \n\tdma_addr_t phys;\t \n\tdma_addr_t dma_handle;\n\tstruct scsi_cmnd *cmd;\t \n\tstruct list_head list;\n\tstruct wd719x_sglist sg_list[WD719X_SG] __aligned(8);  \n} __packed;\n\nstruct wd719x {\n\tstruct Scsi_Host *sh;\t \n\tstruct pci_dev *pdev;\n\tvoid __iomem *base;\n\tenum wd719x_card_type type;  \n\tvoid *fw_virt;\t\t \n\tdma_addr_t fw_phys;\t \n\tsize_t fw_size;\t\t \n\tstruct wd719x_host_param *params;  \n\tdma_addr_t params_phys;  \n\tvoid *hash_virt;\t \n\tdma_addr_t hash_phys;\t \n\tstruct list_head active_scbs;\n};\n\n \n#define WD719X_WAIT_FOR_CMD_READY\t500\n#define WD719X_WAIT_FOR_RISC\t\t2000\n#define WD719X_WAIT_FOR_SCSI_RESET\t3000000\n\n \n#define WD719X_CMD_READY\t0x00  \n#define WD719X_CMD_INIT_RISC\t0x01  \n \n#define WD719X_CMD_BUSRESET\t0x03  \n#define WD719X_CMD_READ_FIRMVER\t0x04  \n#define WD719X_CMD_ECHO_BYTES\t0x05  \n \n \n#define WD719X_CMD_GET_PARAM\t0x08  \n#define WD719X_CMD_SET_PARAM\t0x09  \n#define WD719X_CMD_SLEEP\t0x0a  \n#define WD719X_CMD_READ_INIT\t0x0b  \n#define WD719X_CMD_RESTORE_INIT\t0x0c  \n \n \n \n#define WD719X_CMD_ABORT_TAG\t0x10  \n#define WD719X_CMD_ABORT\t0x11  \n#define WD719X_CMD_RESET\t0x12  \n#define WD719X_CMD_INIT_SCAM\t0x13  \n#define WD719X_CMD_GET_SYNC\t0x14  \n#define WD719X_CMD_SET_SYNC\t0x15  \n#define WD719X_CMD_GET_WIDTH\t0x16  \n#define WD719X_CMD_SET_WIDTH\t0x17  \n#define WD719X_CMD_GET_TAGS\t0x18  \n#define WD719X_CMD_SET_TAGS\t0x19  \n#define WD719X_CMD_GET_PARAM2\t0x1a  \n#define WD719X_CMD_SET_PARAM2\t0x1b  \n \n#define WD719X_CMD_PROCESS_SCB\t0x80  \n \n\n \n#define WD719X_INT_NONE\t\t0x00  \n#define WD719X_INT_NOERRORS\t0x01  \n#define WD719X_INT_LINKNOERRORS\t0x02  \n#define WD719X_INT_LINKNOSTATUS\t0x03  \n#define WD719X_INT_ERRORSLOGGED\t0x04  \n#define WD719X_INT_SPIDERFAILED\t0x05  \n#define WD719X_INT_BADINT\t0x80  \n#define WD719X_INT_PIOREADY\t0xf0  \n\n \n#define WD719X_SUE_NOERRORS\t0x00  \n#define WD719X_SUE_REJECTED\t0x01  \n#define WD719X_SUE_SCBQFULL\t0x02  \n \n#define WD719X_SUE_TERM\t\t0x04  \n#define WD719X_SUE_CHAN1PAR\t0x05  \n#define WD719X_SUE_CHAN1ABORT\t0x06  \n#define WD719X_SUE_CHAN23PAR\t0x07  \n#define WD719X_SUE_CHAN23ABORT\t0x08  \n#define WD719X_SUE_TIMEOUT\t0x10  \n#define WD719X_SUE_RESET\t0x11  \n#define WD719X_SUE_BUSERROR\t0x12  \n#define WD719X_SUE_WRONGWAY\t0x13  \n#define WD719X_SUE_BADPHASE\t0x14  \n#define WD719X_SUE_TOOLONG\t0x15  \n#define WD719X_SUE_BUSFREE\t0x16  \n#define WD719X_SUE_ARSDONE\t0x17  \n#define WD719X_SUE_IGNORED\t0x18  \n#define WD719X_SUE_WRONGTAGS\t0x19  \n#define WD719X_SUE_BADTAGS\t0x1a  \n#define WD719X_SUE_NOSCAMID\t0x1b  \n\n \n#define\tWD719X_HASH_TABLE_SIZE\t4096\n\n \n \n#define WD719X_AMR_COMMAND\t\t0x00\n#define WD719X_AMR_CMD_PARAM\t\t0x01\n#define WD719X_AMR_CMD_PARAM_2\t\t0x02\n#define WD719X_AMR_CMD_PARAM_3\t\t0x03\n#define WD719X_AMR_SCB_IN\t\t0x04\n\n#define WD719X_AMR_BIOS_SHARE_INT\t0x0f\n\n#define WD719X_AMR_SCB_OUT\t\t0x18\n#define WD719X_AMR_OP_CODE\t\t0x1c\n#define WD719X_AMR_SCSI_STATUS\t\t0x1d\n#define WD719X_AMR_SCB_ERROR\t\t0x1e\n#define WD719X_AMR_INT_STATUS\t\t0x1f\n\n#define WD719X_DISABLE_INT\t0x80\n\n \n#define WD719X_SCB_FLAGS_CHECK_DIRECTION\t0x01\n#define WD719X_SCB_FLAGS_PCI_TO_SCSI\t\t0x02\n#define WD719X_SCB_FLAGS_AUTO_REQUEST_SENSE\t0x10\n#define WD719X_SCB_FLAGS_DO_SCATTER_GATHER\t0x20\n#define WD719X_SCB_FLAGS_NO_DISCONNECT\t\t0x40\n\n \n \n#define WD719X_PCI_GPIO_CONTROL\t\t0x3C\n#define WD719X_PCI_GPIO_DATA\t\t0x3D\n#define WD719X_PCI_PORT_RESET\t\t0x3E\n#define WD719X_PCI_MODE_SELECT\t\t0x3F\n\n#define WD719X_PCI_EXTERNAL_ADDR\t0x60\n#define WD719X_PCI_INTERNAL_ADDR\t0x64\n#define WD719X_PCI_DMA_TRANSFER_SIZE\t0x66\n#define WD719X_PCI_CHANNEL2_3CMD\t0x68\n#define WD719X_PCI_CHANNEL2_3STATUS\t0x69\n\n#define WD719X_GPIO_ID_BITS\t\t0x0a\n#define WD719X_PRAM_BASE_ADDR\t\t0x00\n\n \n#define WD719X_PCI_RESET\t\t 0x01\n#define WD719X_ENABLE_ADVANCE_MODE\t 0x01\n\n#define WD719X_START_CHANNEL2_3DMA\t 0x17\n#define WD719X_START_CHANNEL2_3DONE\t 0x01\n#define WD719X_START_CHANNEL2_3ABORT\t 0x20\n\n \n#define WD719X_EE_DI\t(1 << 1)\n#define WD719X_EE_CS\t(1 << 2)\n#define WD719X_EE_CLK\t(1 << 3)\n#define WD719X_EE_DO\t(1 << 4)\n\n \nstruct wd719x_eeprom_header {\n\tu8 sig1;\n\tu8 sig2;\n\tu8 version;\n\tu8 checksum;\n\tu8 cfg_offset;\n\tu8 cfg_size;\n\tu8 setup_offset;\n\tu8 setup_size;\n} __packed;\n\n#define WD719X_EE_SIG1\t\t0\n#define WD719X_EE_SIG2\t\t1\n#define WD719X_EE_VERSION\t2\n#define WD719X_EE_CHECKSUM\t3\n#define WD719X_EE_CFG_OFFSET\t4\n#define WD719X_EE_CFG_SIZE\t5\n#define WD719X_EE_SETUP_OFFSET\t6\n#define WD719X_EE_SETUP_SIZE\t7\n\n#define WD719X_EE_SCSI_ID_MASK\t0xf\n\n \nstruct wd719x_host_param {\n\tu8 ch_1_th;\t \n\tu8 scsi_conf;\t \n\tu8 own_scsi_id;\t \n\tu8 sel_timeout;\t \n\tu8 sleep_timer;\t \n\t__le16 cdb_size; \n\t__le16 tag_en;\t \n\tu8 scsi_pad;\t \n\t__le32 wide;\t \n\t__le32 sync;\t \n\tu8 soft_mask;\t \n\tu8 unsol_mask;\t \n} __packed;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}