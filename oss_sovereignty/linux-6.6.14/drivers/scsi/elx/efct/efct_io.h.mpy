{
  "module_name": "efct_io.h",
  "hash_id": "9e8cf8270cbdb3879a68d7832138d6597e0cd16664ac0e22f3c4be1dd4c4284f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/elx/efct/efct_io.h",
  "human_readable_source": " \n \n\n#if !defined(__EFCT_IO_H__)\n#define __EFCT_IO_H__\n\n#include \"efct_lio.h\"\n\n#define EFCT_LOG_ENABLE_IO_ERRORS(efct)\t\t\\\n\t\t(((efct) != NULL) ? (((efct)->logmask & (1U << 6)) != 0) : 0)\n\n#define io_error_log(io, fmt, ...)  \\\n\tdo { \\\n\t\tif (EFCT_LOG_ENABLE_IO_ERRORS(io->efct)) \\\n\t\t\tefc_log_warn(io->efct, fmt, ##__VA_ARGS__); \\\n\t} while (0)\n\n#define SCSI_CMD_BUF_LENGTH\t48\n#define SCSI_RSP_BUF_LENGTH\t(FCP_RESP_WITH_EXT + SCSI_SENSE_BUFFERSIZE)\n#define EFCT_NUM_SCSI_IOS\t8192\n\nenum efct_io_type {\n\tEFCT_IO_TYPE_IO = 0,\n\tEFCT_IO_TYPE_ELS,\n\tEFCT_IO_TYPE_CT,\n\tEFCT_IO_TYPE_CT_RESP,\n\tEFCT_IO_TYPE_BLS_RESP,\n\tEFCT_IO_TYPE_ABORT,\n\n\tEFCT_IO_TYPE_MAX,\n};\n\nenum efct_els_state {\n\tEFCT_ELS_REQUEST = 0,\n\tEFCT_ELS_REQUEST_DELAYED,\n\tEFCT_ELS_REQUEST_DELAY_ABORT,\n\tEFCT_ELS_REQ_ABORT,\n\tEFCT_ELS_REQ_ABORTED,\n\tEFCT_ELS_ABORT_IO_COMPL,\n};\n\n \nstruct efct_io {\n\tstruct efct\t\t*efct;\n\tu32\t\t\tinstance_index;\n\tconst char\t\t*display_name;\n\tstruct efct_node\t*node;\n\n\tstruct list_head\tlist_entry;\n\tstruct list_head\tio_pending_link;\n\tstruct kref\t\tref;\n\tvoid (*release)(struct kref *arg);\n\tu32\t\t\tinit_task_tag;\n\tu32\t\t\ttgt_task_tag;\n\tu32\t\t\thw_tag;\n\tu32\t\t\ttag;\n\tstruct efct_scsi_sgl\t*sgl;\n\tu32\t\t\tsgl_allocated;\n\tu32\t\t\tsgl_count;\n\tstruct efct_scsi_tgt_io tgt_io;\n\tu32\t\t\texp_xfer_len;\n\n\tvoid\t\t\t*hw_priv;\n\n\tenum efct_io_type\tio_type;\n\tstruct efct_hw_io\t*hio;\n\tsize_t\t\t\ttransferred;\n\n\tbool\t\t\tauto_resp;\n\tbool\t\t\tlow_latency;\n\tu8\t\t\twq_steering;\n\tu8\t\t\twq_class;\n\tu64\t\t\txfer_req;\n\tefct_scsi_io_cb_t\tscsi_tgt_cb;\n\tvoid\t\t\t*scsi_tgt_cb_arg;\n\tefct_scsi_io_cb_t\tabort_cb;\n\tvoid\t\t\t*abort_cb_arg;\n\tefct_scsi_io_cb_t\tbls_cb;\n\tvoid\t\t\t*bls_cb_arg;\n\tenum efct_scsi_tmf_cmd\ttmf_cmd;\n\tu16\t\t\tabort_rx_id;\n\n\tbool\t\t\tcmd_tgt;\n\tbool\t\t\tsend_abts;\n\tbool\t\t\tcmd_ini;\n\tbool\t\t\tseq_init;\n\tunion efct_hw_io_param_u iparam;\n\tenum efct_hw_io_type\thio_type;\n\tu64\t\t\twire_len;\n\tvoid\t\t\t*hw_cb;\n\n\tstruct efct_io\t\t*io_to_abort;\n\n\tstruct efc_dma\t\trspbuf;\n\tu32\t\t\ttimeout;\n\tu8\t\t\tcs_ctl;\n\tu8\t\t\tio_free;\n\tu32\t\t\tapp_id;\n};\n\nstruct efct_io_cb_arg {\n\tint status;\n\tint ext_status;\n\tvoid *app;\n};\n\nstruct efct_io_pool *\nefct_io_pool_create(struct efct *efct, u32 num_sgl);\nint\nefct_io_pool_free(struct efct_io_pool *io_pool);\nu32\nefct_io_pool_allocated(struct efct_io_pool *io_pool);\n\nstruct efct_io *\nefct_io_pool_io_alloc(struct efct_io_pool *io_pool);\nvoid\nefct_io_pool_io_free(struct efct_io_pool *io_pool, struct efct_io *io);\nstruct efct_io *\nefct_io_find_tgt_io(struct efct *efct, struct efct_node *node,\n\t\t    u16 ox_id, u16 rx_id);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}