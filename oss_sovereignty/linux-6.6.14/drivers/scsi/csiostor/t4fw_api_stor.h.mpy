{
  "module_name": "t4fw_api_stor.h",
  "hash_id": "30c743e1ff560de4ff0c596ca0564240016e70f12e8de47d17c039391e056afb",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/csiostor/t4fw_api_stor.h",
  "human_readable_source": " \n\n#ifndef _T4FW_API_STOR_H_\n#define _T4FW_API_STOR_H_\n\n\n \n\nenum fw_fcoe_link_sub_op {\n\tFCOE_LINK_DOWN\t= 0x0,\n\tFCOE_LINK_UP\t= 0x1,\n\tFCOE_LINK_COND\t= 0x2,\n};\n\nenum fw_fcoe_link_status {\n\tFCOE_LINKDOWN\t= 0x0,\n\tFCOE_LINKUP\t= 0x1,\n};\n\nenum fw_ofld_prot {\n\tPROT_FCOE\t= 0x1,\n\tPROT_ISCSI\t= 0x2,\n};\n\nenum rport_type_fcoe {\n\tFLOGI_VFPORT\t= 0x1,\t\t \n\tFDISC_VFPORT\t= 0x2,\t\t \n\tNS_VNPORT\t= 0x3,\t\t \n\tREG_FC4_VNPORT\t= 0x4,\t\t \n\tREG_VNPORT\t= 0x5,\t\t \n\tFDMI_VNPORT\t= 0x6,\t\t \n\tFAB_CTLR_VNPORT\t= 0x7,\t\t \n};\n\nenum event_cause_fcoe {\n\tPLOGI_ACC_RCVD\t\t= 0x01,\n\tPLOGI_RJT_RCVD\t\t= 0x02,\n\tPLOGI_RCVD\t\t= 0x03,\n\tPLOGO_RCVD\t\t= 0x04,\n\tPRLI_ACC_RCVD\t\t= 0x05,\n\tPRLI_RJT_RCVD\t\t= 0x06,\n\tPRLI_RCVD\t\t= 0x07,\n\tPRLO_RCVD\t\t= 0x08,\n\tNPORT_ID_CHGD\t\t= 0x09,\n\tFLOGO_RCVD\t\t= 0x0a,\n\tCLR_VIRT_LNK_RCVD\t= 0x0b,\n\tFLOGI_ACC_RCVD\t\t= 0x0c,\n\tFLOGI_RJT_RCVD\t\t= 0x0d,\n\tFDISC_ACC_RCVD\t\t= 0x0e,\n\tFDISC_RJT_RCVD\t\t= 0x0f,\n\tFLOGI_TMO_MAX_RETRY\t= 0x10,\n\tIMPL_LOGO_ADISC_ACC\t= 0x11,\n\tIMPL_LOGO_ADISC_RJT\t= 0x12,\n\tIMPL_LOGO_ADISC_CNFLT\t= 0x13,\n\tPRLI_TMO\t\t= 0x14,\n\tADISC_TMO\t\t= 0x15,\n\tRSCN_DEV_LOST\t\t= 0x16,\n\tSCR_ACC_RCVD\t\t= 0x17,\n\tADISC_RJT_RCVD\t\t= 0x18,\n\tLOGO_SNT\t\t= 0x19,\n\tPROTO_ERR_IMPL_LOGO\t= 0x1a,\n};\n\nenum fcoe_cmn_type {\n\tFCOE_ELS,\n\tFCOE_CT,\n\tFCOE_SCSI_CMD,\n\tFCOE_UNSOL_ELS,\n};\n\nenum fw_wr_stor_opcodes {\n\tFW_RDEV_WR                     = 0x38,\n\tFW_FCOE_ELS_CT_WR              = 0x30,\n\tFW_SCSI_WRITE_WR               = 0x31,\n\tFW_SCSI_READ_WR                = 0x32,\n\tFW_SCSI_CMD_WR                 = 0x33,\n\tFW_SCSI_ABRT_CLS_WR            = 0x34,\n};\n\nstruct fw_rdev_wr {\n\t__be32 op_to_immdlen;\n\t__be32 alloc_to_len16;\n\t__be64 cookie;\n\tu8     protocol;\n\tu8     event_cause;\n\tu8     cur_state;\n\tu8     prev_state;\n\t__be32 flags_to_assoc_flowid;\n\tunion rdev_entry {\n\t\tstruct fcoe_rdev_entry {\n\t\t\t__be32 flowid;\n\t\t\tu8     protocol;\n\t\t\tu8     event_cause;\n\t\t\tu8     flags;\n\t\t\tu8     rjt_reason;\n\t\t\tu8     cur_login_st;\n\t\t\tu8     prev_login_st;\n\t\t\t__be16 rcv_fr_sz;\n\t\t\tu8     rd_xfer_rdy_to_rport_type;\n\t\t\tu8     vft_to_qos;\n\t\t\tu8     org_proc_assoc_to_acc_rsp_code;\n\t\t\tu8     enh_disc_to_tgt;\n\t\t\tu8     wwnn[8];\n\t\t\tu8     wwpn[8];\n\t\t\t__be16 iqid;\n\t\t\tu8     fc_oui[3];\n\t\t\tu8     r_id[3];\n\t\t} fcoe_rdev;\n\t\tstruct iscsi_rdev_entry {\n\t\t\t__be32 flowid;\n\t\t\tu8     protocol;\n\t\t\tu8     event_cause;\n\t\t\tu8     flags;\n\t\t\tu8     r3;\n\t\t\t__be16 iscsi_opts;\n\t\t\t__be16 tcp_opts;\n\t\t\t__be16 ip_opts;\n\t\t\t__be16 max_rcv_len;\n\t\t\t__be16 max_snd_len;\n\t\t\t__be16 first_brst_len;\n\t\t\t__be16 max_brst_len;\n\t\t\t__be16 r4;\n\t\t\t__be16 def_time2wait;\n\t\t\t__be16 def_time2ret;\n\t\t\t__be16 nop_out_intrvl;\n\t\t\t__be16 non_scsi_to;\n\t\t\t__be16 isid;\n\t\t\t__be16 tsid;\n\t\t\t__be16 port;\n\t\t\t__be16 tpgt;\n\t\t\tu8     r5[6];\n\t\t\t__be16 iqid;\n\t\t} iscsi_rdev;\n\t} u;\n};\n\n#define FW_RDEV_WR_FLOWID_GET(x)\t(((x) >> 8) & 0xfffff)\n#define FW_RDEV_WR_ASSOC_FLOWID_GET(x)\t(((x) >> 0) & 0xfffff)\n#define FW_RDEV_WR_RPORT_TYPE_GET(x)\t(((x) >> 0) & 0x1f)\n#define FW_RDEV_WR_NPIV_GET(x)\t\t(((x) >> 6) & 0x1)\n#define FW_RDEV_WR_CLASS_GET(x)\t\t(((x) >> 4) & 0x3)\n#define FW_RDEV_WR_TASK_RETRY_ID_GET(x)\t(((x) >> 5) & 0x1)\n#define FW_RDEV_WR_RETRY_GET(x)\t\t(((x) >> 4) & 0x1)\n#define FW_RDEV_WR_CONF_CMPL_GET(x)\t(((x) >> 3) & 0x1)\n#define FW_RDEV_WR_INI_GET(x)\t\t(((x) >> 1) & 0x1)\n#define FW_RDEV_WR_TGT_GET(x)\t\t(((x) >> 0) & 0x1)\n\nstruct fw_fcoe_els_ct_wr {\n\t__be32 op_immdlen;\n\t__be32 flowid_len16;\n\tu64    cookie;\n\t__be16 iqid;\n\tu8     tmo_val;\n\tu8     els_ct_type;\n\tu8     ctl_pri;\n\tu8     cp_en_class;\n\t__be16 xfer_cnt;\n\tu8     fl_to_sp;\n\tu8     l_id[3];\n\tu8     r5;\n\tu8     r_id[3];\n\t__be64 rsp_dmaaddr;\n\t__be32 rsp_dmalen;\n\t__be32 r6;\n};\n\n#define FW_FCOE_ELS_CT_WR_OPCODE(x)\t\t((x) << 24)\n#define FW_FCOE_ELS_CT_WR_OPCODE_GET(x)\t\t(((x) >> 24) & 0xff)\n#define FW_FCOE_ELS_CT_WR_IMMDLEN(x)\t\t((x) << 0)\n#define FW_FCOE_ELS_CT_WR_IMMDLEN_GET(x)\t(((x) >> 0) & 0xff)\n#define FW_FCOE_ELS_CT_WR_SP(x)\t\t\t((x) << 0)\n\nstruct fw_scsi_write_wr {\n\t__be32 op_immdlen;\n\t__be32 flowid_len16;\n\tu64    cookie;\n\t__be16 iqid;\n\tu8     tmo_val;\n\tu8     use_xfer_cnt;\n\tunion fw_scsi_write_priv {\n\t\tstruct fcoe_write_priv {\n\t\t\tu8   ctl_pri;\n\t\t\tu8   cp_en_class;\n\t\t\tu8   r3_lo[2];\n\t\t} fcoe;\n\t\tstruct iscsi_write_priv {\n\t\t\tu8   r3[4];\n\t\t} iscsi;\n\t} u;\n\t__be32 xfer_cnt;\n\t__be32 ini_xfer_cnt;\n\t__be64 rsp_dmaaddr;\n\t__be32 rsp_dmalen;\n\t__be32 r4;\n};\n\n#define FW_SCSI_WRITE_WR_IMMDLEN(x)\t((x) << 0)\n\nstruct fw_scsi_read_wr {\n\t__be32 op_immdlen;\n\t__be32 flowid_len16;\n\tu64    cookie;\n\t__be16 iqid;\n\tu8     tmo_val;\n\tu8     use_xfer_cnt;\n\tunion fw_scsi_read_priv {\n\t\tstruct fcoe_read_priv {\n\t\t\tu8   ctl_pri;\n\t\t\tu8   cp_en_class;\n\t\t\tu8   r3_lo[2];\n\t\t} fcoe;\n\t\tstruct iscsi_read_priv {\n\t\t\tu8   r3[4];\n\t\t} iscsi;\n\t} u;\n\t__be32 xfer_cnt;\n\t__be32 ini_xfer_cnt;\n\t__be64 rsp_dmaaddr;\n\t__be32 rsp_dmalen;\n\t__be32 r4;\n};\n\n#define FW_SCSI_READ_WR_IMMDLEN(x)\t((x) << 0)\n\nstruct fw_scsi_cmd_wr {\n\t__be32 op_immdlen;\n\t__be32 flowid_len16;\n\tu64    cookie;\n\t__be16 iqid;\n\tu8     tmo_val;\n\tu8     r3;\n\tunion fw_scsi_cmd_priv {\n\t\tstruct fcoe_cmd_priv {\n\t\t\tu8   ctl_pri;\n\t\t\tu8   cp_en_class;\n\t\t\tu8   r4_lo[2];\n\t\t} fcoe;\n\t\tstruct iscsi_cmd_priv {\n\t\t\tu8   r4[4];\n\t\t} iscsi;\n\t} u;\n\tu8     r5[8];\n\t__be64 rsp_dmaaddr;\n\t__be32 rsp_dmalen;\n\t__be32 r6;\n};\n\n#define FW_SCSI_CMD_WR_IMMDLEN(x)\t((x) << 0)\n\n#define SCSI_ABORT 0\n#define SCSI_CLOSE 1\n\nstruct fw_scsi_abrt_cls_wr {\n\t__be32 op_immdlen;\n\t__be32 flowid_len16;\n\tu64    cookie;\n\t__be16 iqid;\n\tu8     tmo_val;\n\tu8     sub_opcode_to_chk_all_io;\n\tu8     r3[4];\n\tu64    t_cookie;\n};\n\n#define FW_SCSI_ABRT_CLS_WR_SUB_OPCODE(x)\t((x) << 2)\n#define FW_SCSI_ABRT_CLS_WR_SUB_OPCODE_GET(x)\t(((x) >> 2) & 0x3f)\n#define FW_SCSI_ABRT_CLS_WR_CHK_ALL_IO(x)\t((x) << 0)\n\nenum fw_cmd_stor_opcodes {\n\tFW_FCOE_RES_INFO_CMD           = 0x31,\n\tFW_FCOE_LINK_CMD               = 0x32,\n\tFW_FCOE_VNP_CMD                = 0x33,\n\tFW_FCOE_SPARAMS_CMD            = 0x35,\n\tFW_FCOE_STATS_CMD              = 0x37,\n\tFW_FCOE_FCF_CMD                = 0x38,\n};\n\nstruct fw_fcoe_res_info_cmd {\n\t__be32 op_to_read;\n\t__be32 retval_len16;\n\t__be16 e_d_tov;\n\t__be16 r_a_tov_seq;\n\t__be16 r_a_tov_els;\n\t__be16 r_r_tov;\n\t__be32 max_xchgs;\n\t__be32 max_ssns;\n\t__be32 used_xchgs;\n\t__be32 used_ssns;\n\t__be32 max_fcfs;\n\t__be32 max_vnps;\n\t__be32 used_fcfs;\n\t__be32 used_vnps;\n};\n\nstruct fw_fcoe_link_cmd {\n\t__be32 op_to_portid;\n\t__be32 retval_len16;\n\t__be32 sub_opcode_fcfi;\n\tu8     r3;\n\tu8     lstatus;\n\t__be16 flags;\n\tu8     r4;\n\tu8     set_vlan;\n\t__be16 vlan_id;\n\t__be32 vnpi_pkd;\n\t__be16 r6;\n\tu8     phy_mac[6];\n\tu8     vnport_wwnn[8];\n\tu8     vnport_wwpn[8];\n};\n\n#define FW_FCOE_LINK_CMD_PORTID(x)\t((x) << 0)\n#define FW_FCOE_LINK_CMD_PORTID_GET(x)\t(((x) >> 0) & 0xf)\n#define FW_FCOE_LINK_CMD_SUB_OPCODE(x)  ((x) << 24U)\n#define FW_FCOE_LINK_CMD_FCFI(x)\t((x) << 0)\n#define FW_FCOE_LINK_CMD_FCFI_GET(x)\t(((x) >> 0) & 0xffffff)\n#define FW_FCOE_LINK_CMD_VNPI_GET(x)\t(((x) >> 0) & 0xfffff)\n\nstruct fw_fcoe_vnp_cmd {\n\t__be32 op_to_fcfi;\n\t__be32 alloc_to_len16;\n\t__be32 gen_wwn_to_vnpi;\n\t__be32 vf_id;\n\t__be16 iqid;\n\tu8   vnport_mac[6];\n\tu8   vnport_wwnn[8];\n\tu8   vnport_wwpn[8];\n\tu8   cmn_srv_parms[16];\n\tu8   clsp_word_0_1[8];\n};\n\n#define FW_FCOE_VNP_CMD_FCFI(x)\t\t((x) << 0)\n#define FW_FCOE_VNP_CMD_ALLOC\t\t(1U << 31)\n#define FW_FCOE_VNP_CMD_FREE\t\t(1U << 30)\n#define FW_FCOE_VNP_CMD_MODIFY\t\t(1U << 29)\n#define FW_FCOE_VNP_CMD_GEN_WWN\t\t(1U << 22)\n#define FW_FCOE_VNP_CMD_VFID_EN\t\t(1U << 20)\n#define FW_FCOE_VNP_CMD_VNPI(x)\t\t((x) << 0)\n#define FW_FCOE_VNP_CMD_VNPI_GET(x)\t(((x) >> 0) & 0xfffff)\n\nstruct fw_fcoe_sparams_cmd {\n\t__be32 op_to_portid;\n\t__be32 retval_len16;\n\tu8     r3[7];\n\tu8     cos;\n\tu8     lport_wwnn[8];\n\tu8     lport_wwpn[8];\n\tu8     cmn_srv_parms[16];\n\tu8     cls_srv_parms[16];\n};\n\n#define FW_FCOE_SPARAMS_CMD_PORTID(x)\t((x) << 0)\n\nstruct fw_fcoe_stats_cmd {\n\t__be32 op_to_flowid;\n\t__be32 free_to_len16;\n\tunion fw_fcoe_stats {\n\t\tstruct fw_fcoe_stats_ctl {\n\t\t\tu8   nstats_port;\n\t\t\tu8   port_valid_ix;\n\t\t\t__be16 r6;\n\t\t\t__be32 r7;\n\t\t\t__be64 stat0;\n\t\t\t__be64 stat1;\n\t\t\t__be64 stat2;\n\t\t\t__be64 stat3;\n\t\t\t__be64 stat4;\n\t\t\t__be64 stat5;\n\t\t} ctl;\n\t\tstruct fw_fcoe_port_stats {\n\t\t\t__be64 tx_bcast_bytes;\n\t\t\t__be64 tx_bcast_frames;\n\t\t\t__be64 tx_mcast_bytes;\n\t\t\t__be64 tx_mcast_frames;\n\t\t\t__be64 tx_ucast_bytes;\n\t\t\t__be64 tx_ucast_frames;\n\t\t\t__be64 tx_drop_frames;\n\t\t\t__be64 tx_offload_bytes;\n\t\t\t__be64 tx_offload_frames;\n\t\t\t__be64 rx_bcast_bytes;\n\t\t\t__be64 rx_bcast_frames;\n\t\t\t__be64 rx_mcast_bytes;\n\t\t\t__be64 rx_mcast_frames;\n\t\t\t__be64 rx_ucast_bytes;\n\t\t\t__be64 rx_ucast_frames;\n\t\t\t__be64 rx_err_frames;\n\t\t} port_stats;\n\t\tstruct fw_fcoe_fcf_stats {\n\t\t\t__be32 fip_tx_bytes;\n\t\t\t__be32 fip_tx_fr;\n\t\t\t__be64 fcf_ka;\n\t\t\t__be64 mcast_adv_rcvd;\n\t\t\t__be16 ucast_adv_rcvd;\n\t\t\t__be16 sol_sent;\n\t\t\t__be16 vlan_req;\n\t\t\t__be16 vlan_rpl;\n\t\t\t__be16 clr_vlink;\n\t\t\t__be16 link_down;\n\t\t\t__be16 link_up;\n\t\t\t__be16 logo;\n\t\t\t__be16 flogi_req;\n\t\t\t__be16 flogi_rpl;\n\t\t\t__be16 fdisc_req;\n\t\t\t__be16 fdisc_rpl;\n\t\t\t__be16 fka_prd_chg;\n\t\t\t__be16 fc_map_chg;\n\t\t\t__be16 vfid_chg;\n\t\t\tu8   no_fka_req;\n\t\t\tu8   no_vnp;\n\t\t} fcf_stats;\n\t\tstruct fw_fcoe_pcb_stats {\n\t\t\t__be64 tx_bytes;\n\t\t\t__be64 tx_frames;\n\t\t\t__be64 rx_bytes;\n\t\t\t__be64 rx_frames;\n\t\t\t__be32 vnp_ka;\n\t\t\t__be32 unsol_els_rcvd;\n\t\t\t__be64 unsol_cmd_rcvd;\n\t\t\t__be16 implicit_logo;\n\t\t\t__be16 flogi_inv_sparm;\n\t\t\t__be16 fdisc_inv_sparm;\n\t\t\t__be16 flogi_rjt;\n\t\t\t__be16 fdisc_rjt;\n\t\t\t__be16 no_ssn;\n\t\t\t__be16 mac_flt_fail;\n\t\t\t__be16 inv_fr_rcvd;\n\t\t} pcb_stats;\n\t\tstruct fw_fcoe_scb_stats {\n\t\t\t__be64 tx_bytes;\n\t\t\t__be64 tx_frames;\n\t\t\t__be64 rx_bytes;\n\t\t\t__be64 rx_frames;\n\t\t\t__be32 host_abrt_req;\n\t\t\t__be32 adap_auto_abrt;\n\t\t\t__be32 adap_abrt_rsp;\n\t\t\t__be32 host_ios_req;\n\t\t\t__be16 ssn_offl_ios;\n\t\t\t__be16 ssn_not_rdy_ios;\n\t\t\tu8   rx_data_ddp_err;\n\t\t\tu8   ddp_flt_set_err;\n\t\t\t__be16 rx_data_fr_err;\n\t\t\tu8   bad_st_abrt_req;\n\t\t\tu8   no_io_abrt_req;\n\t\t\tu8   abort_tmo;\n\t\t\tu8   abort_tmo_2;\n\t\t\t__be32 abort_req;\n\t\t\tu8   no_ppod_res_tmo;\n\t\t\tu8   bp_tmo;\n\t\t\tu8   adap_auto_cls;\n\t\t\tu8   no_io_cls_req;\n\t\t\t__be32 host_cls_req;\n\t\t\t__be64 unsol_cmd_rcvd;\n\t\t\t__be32 plogi_req_rcvd;\n\t\t\t__be32 prli_req_rcvd;\n\t\t\t__be16 logo_req_rcvd;\n\t\t\t__be16 prlo_req_rcvd;\n\t\t\t__be16 plogi_rjt_rcvd;\n\t\t\t__be16 prli_rjt_rcvd;\n\t\t\t__be32 adisc_req_rcvd;\n\t\t\t__be32 rscn_rcvd;\n\t\t\t__be32 rrq_req_rcvd;\n\t\t\t__be32 unsol_els_rcvd;\n\t\t\tu8   adisc_rjt_rcvd;\n\t\t\tu8   scr_rjt;\n\t\t\tu8   ct_rjt;\n\t\t\tu8   inval_bls_rcvd;\n\t\t\t__be32 ba_rjt_rcvd;\n\t\t} scb_stats;\n\t} u;\n};\n\n#define FW_FCOE_STATS_CMD_FLOWID(x)\t((x) << 0)\n#define FW_FCOE_STATS_CMD_FREE\t\t(1U << 30)\n#define FW_FCOE_STATS_CMD_NSTATS(x)\t((x) << 4)\n#define FW_FCOE_STATS_CMD_PORT(x)\t((x) << 0)\n#define FW_FCOE_STATS_CMD_PORT_VALID\t(1U << 7)\n#define FW_FCOE_STATS_CMD_IX(x)\t\t((x) << 0)\n\nstruct fw_fcoe_fcf_cmd {\n\t__be32 op_to_fcfi;\n\t__be32 retval_len16;\n\t__be16 priority_pkd;\n\tu8     mac[6];\n\tu8     name_id[8];\n\tu8     fabric[8];\n\t__be16 vf_id;\n\t__be16 max_fcoe_size;\n\tu8     vlan_id;\n\tu8     fc_map[3];\n\t__be32 fka_adv;\n\t__be32 r6;\n\tu8     r7_hi;\n\tu8     fpma_to_portid;\n\tu8     spma_mac[6];\n\t__be64 r8;\n};\n\n#define FW_FCOE_FCF_CMD_FCFI(x)\t\t((x) << 0)\n#define FW_FCOE_FCF_CMD_FCFI_GET(x)\t(((x) >> 0) & 0xfffff)\n#define FW_FCOE_FCF_CMD_PRIORITY_GET(x)\t(((x) >> 0) & 0xff)\n#define FW_FCOE_FCF_CMD_FPMA_GET(x)\t(((x) >> 6) & 0x1)\n#define FW_FCOE_FCF_CMD_SPMA_GET(x)\t(((x) >> 5) & 0x1)\n#define FW_FCOE_FCF_CMD_LOGIN_GET(x)\t(((x) >> 4) & 0x1)\n#define FW_FCOE_FCF_CMD_PORTID_GET(x)\t(((x) >> 0) & 0xf)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}