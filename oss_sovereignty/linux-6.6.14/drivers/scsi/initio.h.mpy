{
  "module_name": "initio.h",
  "hash_id": "fc647d719b914b5231861e467be56671d4848107c42fbec3f878292e88a53b31",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/initio.h",
  "human_readable_source": " \n\n\n#include <linux/types.h>\n\n#define TOTAL_SG_ENTRY\t\t32\n#define MAX_SUPPORTED_ADAPTERS  8\n#define MAX_OFFSET\t\t15\n#define MAX_TARGETS\t\t16\n\ntypedef struct {\n\tunsigned short base;\n\tunsigned short vec;\n} i91u_config;\n\n \n \n \n#define TUL_PVID        0x00\t \n#define TUL_PDID        0x02\t \n#define TUL_PCMD        0x04\t \n#define TUL_PSTUS       0x06\t \n#define TUL_PRID        0x08\t \n#define TUL_PPI         0x09\t \n#define TUL_PSC         0x0A\t \n#define TUL_PBC         0x0B\t \n#define TUL_PCLS        0x0C\t \n#define TUL_PLTR        0x0D\t \n#define TUL_PHDT        0x0E\t \n#define TUL_PBIST       0x0F\t \n#define TUL_PBAD        0x10\t \n#define TUL_PBAD1       0x14\t \n#define TUL_PBAD2       0x18\t \n#define TUL_PBAD3       0x1C\t \n#define TUL_PBAD4       0x20\t \n#define TUL_PBAD5       0x24\t \n#define TUL_PRSVD       0x28\t \n#define TUL_PRSVD1      0x2C\t \n#define TUL_PRAD        0x30\t \n#define TUL_PRSVD2      0x34\t \n#define TUL_PRSVD3      0x38\t \n#define TUL_PINTL       0x3C\t \n#define TUL_PINTP       0x3D\t \n#define TUL_PIGNT       0x3E\t \n#define TUL_PMGNT       0x3F\t \n\n \n \n \n#define TUL_HACFG0      0x40\t \n#define TUL_HACFG1      0x41\t \n#define TUL_HACFG2      0x42\t \n\n#define TUL_SDCFG0      0x44\t \n#define TUL_SDCFG1      0x45\t \n#define TUL_SDCFG2      0x46\t \n#define TUL_SDCFG3      0x47\t \n\n#define TUL_GINTS       0x50\t \n#define TUL_GIMSK       0x52\t \n#define TUL_GCTRL       0x54\t \n#define TUL_GCTRL_EEPROM_BIT    0x04\n#define TUL_GCTRL1      0x55\t \n#define TUL_DMACFG      0x5B\t \n#define TUL_NVRAM       0x5D\t \n\n#define TUL_SCnt0       0x80\t \n#define TUL_SCnt1       0x81\t \n#define TUL_SCnt2       0x82\t \n#define TUL_SFifoCnt    0x83\t \n#define TUL_SIntEnable  0x84\t \n#define TUL_SInt        0x84\t \n#define TUL_SCtrl0      0x85\t \n#define TUL_SStatus0    0x85\t \n#define TUL_SCtrl1      0x86\t \n#define TUL_SStatus1    0x86\t \n#define TUL_SConfig     0x87\t \n#define TUL_SStatus2    0x87\t \n#define TUL_SPeriod     0x88\t \n#define TUL_SOffset     0x88\t \n#define TUL_SScsiId     0x89\t \n#define TUL_SBusId      0x89\t \n#define TUL_STimeOut    0x8A\t \n#define TUL_SIdent      0x8A\t \n#define TUL_SAvail      0x8A\t \n#define TUL_SData       0x8B\t \n#define TUL_SFifo       0x8C\t \n#define TUL_SSignal     0x90\t \n#define TUL_SCmd        0x91\t \n#define TUL_STest0      0x92\t \n#define TUL_STest1      0x93\t \n#define TUL_SCFG1\t0x94\t \n\n#define TUL_XAddH       0xC0\t \n#define TUL_XAddW       0xC8\t \n#define TUL_XCntH       0xD0\t \n#define TUL_XCntW       0xD4\t \n#define TUL_XCmd        0xD8\t \n#define TUL_Int         0xDC\t \n#define TUL_XStatus     0xDD\t \n#define TUL_Mask        0xE0\t \n#define TUL_XCtrl       0xE4\t \n#define TUL_XCtrl1      0xE5\t \n#define TUL_XFifo       0xE8\t \n\n#define TUL_WCtrl       0xF7\t \n#define TUL_DCtrl       0xFB\t \n\n \n \n \n#define BUSMS           0x04\t \n#define IOSPA           0x01\t \n\n \n \n \n#define TSC_EN_RESEL    0x80\t \n#define TSC_CMD_COMP    0x84\t \n#define TSC_SEL         0x01\t \n#define TSC_SEL_ATN     0x11\t \n#define TSC_SEL_ATN_DMA 0x51\t \n#define TSC_SEL_ATN3    0x31\t \n#define TSC_SEL_ATNSTOP 0x12\t \n#define TSC_SELATNSTOP  0x1E\t \n\n#define TSC_SEL_ATN_DIRECT_IN   0x95\t \n#define TSC_SEL_ATN_DIRECT_OUT  0x15\t \n#define TSC_SEL_ATN3_DIRECT_IN  0xB5\t \n#define TSC_SEL_ATN3_DIRECT_OUT 0x35\t \n#define TSC_XF_DMA_OUT_DIRECT   0x06\t \n#define TSC_XF_DMA_IN_DIRECT    0x86\t \n\n#define TSC_XF_DMA_OUT  0x43\t \n#define TSC_XF_DMA_IN   0xC3\t \n#define TSC_XF_FIFO_OUT 0x03\t \n#define TSC_XF_FIFO_IN  0x83\t \n\n#define TSC_MSG_ACCEPT  0x0F\t \n\n \n \n \n#define TSC_RST_SEQ     0x20\t \n#define TSC_FLUSH_FIFO  0x10\t \n#define TSC_ABT_CMD     0x04\t \n#define TSC_RST_CHIP    0x02\t \n#define TSC_RST_BUS     0x01\t \n\n \n \n \n#define TSC_EN_SCAM     0x80\t \n#define TSC_TIMER       0x40\t \n#define TSC_EN_SCSI2    0x20\t \n#define TSC_PWDN        0x10\t \n#define TSC_WIDE_CPU    0x08\t \n#define TSC_HW_RESELECT 0x04\t \n#define TSC_EN_BUS_OUT  0x02\t \n#define TSC_EN_BUS_IN   0x01\t \n\n \n \n \n#define TSC_EN_LATCH    0x80\t \n#define TSC_INITIATOR   0x40\t \n#define TSC_EN_SCSI_PAR 0x20\t \n#define TSC_DMA_8BIT    0x10\t \n#define TSC_DMA_16BIT   0x08\t \n#define TSC_EN_WDACK    0x04\t \n#define TSC_ALT_PERIOD  0x02\t \n#define TSC_DIS_SCSIRST 0x01\t \n\n#define TSC_INITDEFAULT (TSC_INITIATOR | TSC_EN_LATCH | TSC_ALT_PERIOD | TSC_DIS_SCSIRST)\n\n#define TSC_WIDE_SCSI   0x80\t \n\n \n \n \n#define TSC_RST_ACK     0x00\t \n#define TSC_RST_ATN     0x00\t \n#define TSC_RST_BSY     0x00\t \n\n#define TSC_SET_ACK     0x40\t \n#define TSC_SET_ATN     0x08\t \n\n#define TSC_REQI        0x80\t \n#define TSC_ACKI        0x40\t \n#define TSC_BSYI        0x20\t \n#define TSC_SELI        0x10\t \n#define TSC_ATNI        0x08\t \n#define TSC_MSGI        0x04\t \n#define TSC_CDI         0x02\t \n#define TSC_IOI         0x01\t \n\n\n \n \n \n#define TSS_INT_PENDING 0x80\t \n#define TSS_SEQ_ACTIVE  0x40\t \n#define TSS_XFER_CNT    0x20\t \n#define TSS_FIFO_EMPTY  0x10\t \n#define TSS_PAR_ERROR   0x08\t \n#define TSS_PH_MASK     0x07\t \n\n \n \n \n#define TSS_STATUS_RCV  0x08\t \n#define TSS_MSG_SEND    0x40\t \n#define TSS_CMD_PH_CMP  0x20\t \n#define TSS_DATA_PH_CMP 0x10\t \n#define TSS_STATUS_SEND 0x08\t \n#define TSS_XFER_CMP    0x04\t \n#define TSS_SEL_CMP     0x02\t \n#define TSS_ARB_CMP     0x01\t \n\n \n \n \n#define TSS_CMD_ABTED   0x80\t \n#define TSS_OFFSET_0    0x40\t \n#define TSS_FIFO_FULL   0x20\t \n#define TSS_TIMEOUT_0   0x10\t \n#define TSS_BUSY_RLS    0x08\t \n#define TSS_PH_MISMATCH 0x04\t \n#define TSS_SCSI_BUS_EN 0x02\t \n#define TSS_SCSIRST     0x01\t \n\n \n \n \n#define TSS_RESEL_INT   0x80\t \n#define TSS_SEL_TIMEOUT 0x40\t \n#define TSS_BUS_SERV    0x20\n#define TSS_SCSIRST_INT 0x10\t \n#define TSS_DISC_INT    0x08\t \n#define TSS_SEL_INT     0x04\t \n#define TSS_SCAM_SEL    0x02\t \n#define TSS_FUNC_COMP   0x01\n\n \n \n \n#define DATA_OUT        0\n#define DATA_IN         1\t \n#define CMD_OUT         2\n#define STATUS_IN       3\t \n#define MSG_OUT         6\t \n#define MSG_IN          7\n\n\n\n \n \n \n#define TAX_X_FORC      0x02\n#define TAX_X_ABT       0x04\n#define TAX_X_CLR_FIFO  0x08\n\n#define TAX_X_IN        0x21\n#define TAX_X_OUT       0x01\n#define TAX_SG_IN       0xA1\n#define TAX_SG_OUT      0x81\n\n \n \n \n#define XCMP            0x01\n#define FCMP            0x02\n#define XABT            0x04\n#define XERR            0x08\n#define SCMP            0x10\n#define IPEND           0x80\n\n \n \n \n#define XPEND           0x01\t \n#define FEMPTY          0x02\t \n\n\n\n \n \n \n#define EXTSG           0x80\n#define EXTAD           0x60\n#define SEG4K           0x08\n#define EEPRG           0x04\n#define MRMUL           0x02\n\n \n \n \n#define SE2CS           0x08\n#define SE2CLK          0x04\n#define SE2DO           0x02\n#define SE2DI           0x01\n\n\n \n \n \nstruct sg_entry {\n\tu32 data;\t\t \n\tu32 len;\t\t \n};\n\n \nstruct scsi_ctrl_blk {\n\tstruct scsi_ctrl_blk *next;\n\tu8 status;\t \n\tu8 next_state;\t \n\tu8 mode;\t\t \n\tu8 msgin;\t \n\tu16 sgidx;\t \n\tu16 sgmax;\t \n#ifdef ALPHA\n\tu32 reserved[2];\t \n#else\n\tu32 reserved[3];\t \n#endif\n\n\tu32 xferlen;\t \n\tu32 totxlen;\t \n\tu32 paddr;\t\t \n\n\tu8 opcode;\t \n\tu8 flags;\t \n\tu8 target;\t \n\tu8 lun;\t\t \n\tu32 bufptr;\t\t \n\tu32 buflen;\t\t \n\tu8 sglen;\t \n\tu8 senselen;\t \n\tu8 hastat;\t \n\tu8 tastat;\t \n\tu8 cdblen;\t \n\tu8 ident;\t \n\tu8 tagmsg;\t \n\tu8 tagid;\t \n\tu8 cdb[12];\t \n\tu32 sgpaddr;\t \n\tu32 senseptr;\t \n\tvoid (*post) (u8 *, u8 *);\t \n\tstruct scsi_cmnd *srb;\t \n\tstruct sg_entry sglist[TOTAL_SG_ENTRY];\t \n};\n\n \n#define SCB_RENT        0x01\n#define SCB_PEND        0x02\n#define SCB_CONTIG      0x04\t \n#define SCB_SELECT      0x08\n#define SCB_BUSY        0x10\n#define SCB_DONE        0x20\n\n\n \n#define ExecSCSI        0x1\n#define BusDevRst       0x2\n#define AbortCmd        0x3\n\n\n \n#define SCM_RSENS       0x01\t \n\n\n \n#define SCF_DONE        0x01\n#define SCF_POST        0x02\n#define SCF_SENSE       0x04\n#define SCF_DIR         0x18\n#define SCF_NO_DCHK     0x00\n#define SCF_DIN         0x08\n#define SCF_DOUT        0x10\n#define SCF_NO_XF       0x18\n#define SCF_WR_VF       0x20\t \n#define SCF_POLL        0x40\n#define SCF_SG          0x80\n\n \n#define HOST_SEL_TOUT   0x11\n#define HOST_DO_DU      0x12\n#define HOST_BUS_FREE   0x13\n#define HOST_BAD_PHAS   0x14\n#define HOST_INV_CMD    0x16\n#define HOST_ABORTED    0x1A\t \n#define HOST_SCSI_RST   0x1B\n#define HOST_DEV_RST    0x1C\n\n \n#define TARGET_CHKCOND  0x02\n#define TARGET_BUSY     0x08\n#define INI_QUEUE_FULL\t0x28\n\n \n\nstruct target_control {\n\tu16 flags;\n\tu8 js_period;\n\tu8 sconfig0;\n\tu16 drv_flags;\n\tu8 heads;\n\tu8 sectors;\n};\n\n \n\n \n#define TCF_SCSI_RATE           0x0007\n#define TCF_EN_DISC             0x0008\n#define TCF_NO_SYNC_NEGO        0x0010\n#define TCF_NO_WDTR             0x0020\n#define TCF_EN_255              0x0040\n#define TCF_EN_START            0x0080\n#define TCF_WDTR_DONE           0x0100\n#define TCF_SYNC_DONE           0x0200\n#define TCF_BUSY                0x0400\n\n\n \n#define TCF_DRV_BUSY            0x01\t \n#define TCF_DRV_EN_TAG          0x0800\n#define TCF_DRV_255_63          0x0400\n\n \nstruct initio_host {\n\tu16 addr;\t\t \n\tu16 bios_addr;\t\t \n\tu8 irq;\t\t\t \n\tu8 scsi_id;\t\t \n\tu8 max_tar;\t\t \n\tu8 num_scbs;\t\t \n\n\tu8 flags;\t\t \n\tu8 index;\t\t \n\tu8 ha_id;\t\t \n\tu8 config;\t\t \n\tu16 idmask;\t\t \n\tu8 semaph;\t\t \n\tu8 phase;\t\t \n\tu8 jsstatus0;\t\t \n\tu8 jsint;\t\t \n\tu8 jsstatus1;\t\t \n\tu8 sconf1;\t\t \n\n\tu8 msg[8];\t\t \n\tstruct scsi_ctrl_blk *next_avail;\t \n\tstruct scsi_ctrl_blk *scb;\t\t \n\tstruct scsi_ctrl_blk *scb_end;\t\t   \n\tstruct scsi_ctrl_blk *next_pending;\t \n\tstruct scsi_ctrl_blk *next_contig;\t   \n\tstruct scsi_ctrl_blk *active;\t\t \n\tstruct target_control *active_tc;\t \n\n\tstruct scsi_ctrl_blk *first_avail;\t \n\tstruct scsi_ctrl_blk *last_avail;\t \n\tstruct scsi_ctrl_blk *first_pending;\t \n\tstruct scsi_ctrl_blk *last_pending;\t \n\tstruct scsi_ctrl_blk *first_busy;\t \n\tstruct scsi_ctrl_blk *last_busy;\t \n\tstruct scsi_ctrl_blk *first_done;\t \n\tstruct scsi_ctrl_blk *last_done;\t \n\tu8 max_tags[16];\t \n\tu8 act_tags[16];\t \n\tstruct target_control targets[MAX_TARGETS];\t \n\tspinlock_t avail_lock;\n\tspinlock_t semaph_lock;\n\tstruct pci_dev *pci_dev;\n};\n\n \n#define HCC_SCSI_RESET          0x01\n#define HCC_EN_PAR              0x02\n#define HCC_ACT_TERM1           0x04\n#define HCC_ACT_TERM2           0x08\n#define HCC_AUTO_TERM           0x10\n#define HCC_EN_PWR              0x80\n\n \n#define HCF_EXPECT_DISC         0x01\n#define HCF_EXPECT_SELECT       0x02\n#define HCF_EXPECT_RESET        0x10\n#define HCF_EXPECT_DONE_DISC    0x20\n\n \n\ntypedef struct _NVRAM_SCSI {\t \n\tu8 NVM_ChSCSIID;\t \n\tu8 NVM_ChConfig1;\t \n\tu8 NVM_ChConfig2;\t \n\tu8 NVM_NumOfTarg;\t \n\t \n\tu8 NVM_Targ0Config;\t \n\tu8 NVM_Targ1Config;\t \n\tu8 NVM_Targ2Config;\t \n\tu8 NVM_Targ3Config;\t \n\tu8 NVM_Targ4Config;\t \n\tu8 NVM_Targ5Config;\t \n\tu8 NVM_Targ6Config;\t \n\tu8 NVM_Targ7Config;\t \n\tu8 NVM_Targ8Config;\t \n\tu8 NVM_Targ9Config;\t \n\tu8 NVM_TargAConfig;\t \n\tu8 NVM_TargBConfig;\t \n\tu8 NVM_TargCConfig;\t \n\tu8 NVM_TargDConfig;\t \n\tu8 NVM_TargEConfig;\t \n\tu8 NVM_TargFConfig;\t \n} NVRAM_SCSI;\n\ntypedef struct _NVRAM {\n \n\tu16 NVM_Signature;\t \n\tu8 NVM_Size;\t\t \n\tu8 NVM_Revision;\t \n\t \n\tu8 NVM_ModelByte0;\t \n\tu8 NVM_ModelByte1;\t \n\tu8 NVM_ModelInfo;\t \n\tu8 NVM_NumOfCh;\t \n\tu8 NVM_BIOSConfig1;\t \n\tu8 NVM_BIOSConfig2;\t \n\tu8 NVM_HAConfig1;\t \n\tu8 NVM_HAConfig2;\t \n\tNVRAM_SCSI NVM_SCSIInfo[2];\n\tu8 NVM_reserved[10];\n\t \n\tu16 NVM_CheckSum;\t \n} NVRAM, *PNVRAM;\n\n \n#define NBC1_ENABLE             0x01\t \n#define NBC1_8DRIVE             0x02\t \n#define NBC1_REMOVABLE          0x04\t \n#define NBC1_INT19              0x08\t \n#define NBC1_BIOSSCAN           0x10\t \n#define NBC1_LUNSUPPORT         0x40\t \n\n \n#define NHC1_BOOTIDMASK 0x0F\t \n#define NHC1_LUNMASK    0x70\t \n#define NHC1_CHANMASK   0x80\t \n\n \n#define NCC1_BUSRESET           0x01\t \n#define NCC1_PARITYCHK          0x02\t \n#define NCC1_ACTTERM1           0x04\t \n#define NCC1_ACTTERM2           0x08\t \n#define NCC1_AUTOTERM           0x10\t \n#define NCC1_PWRMGR             0x80\t \n\n \n#define NTC_DISCONNECT          0x08\t \n#define NTC_SYNC                0x10\t \n#define NTC_NO_WDTR             0x20\t \n#define NTC_1GIGA               0x40\t \n#define NTC_SPINUP              0x80\t \n\n \n#define INI_SIGNATURE           0xC925\n#define NBC1_DEFAULT            (NBC1_ENABLE)\n#define NCC1_DEFAULT            (NCC1_BUSRESET | NCC1_AUTOTERM | NCC1_PARITYCHK)\n#define NTC_DEFAULT             (NTC_NO_WDTR | NTC_1GIGA | NTC_DISCONNECT)\n\n \n#define DISC_NOT_ALLOW          0x80\t \n#define DISC_ALLOW              0xC0\t \n#define SCSICMD_RequestSense    0x03\n\n#define SCSI_ABORT_SNOOZE 0\n#define SCSI_ABORT_SUCCESS 1\n#define SCSI_ABORT_PENDING 2\n#define SCSI_ABORT_BUSY 3\n#define SCSI_ABORT_NOT_RUNNING 4\n#define SCSI_ABORT_ERROR 5\n\n#define SCSI_RESET_SNOOZE 0\n#define SCSI_RESET_PUNT 1\n#define SCSI_RESET_SUCCESS 2\n#define SCSI_RESET_PENDING 3\n#define SCSI_RESET_WAKEUP 4\n#define SCSI_RESET_NOT_RUNNING 5\n#define SCSI_RESET_ERROR 6\n\n#define SCSI_RESET_SYNCHRONOUS\t\t0x01\n#define SCSI_RESET_ASYNCHRONOUS\t\t0x02\n#define SCSI_RESET_SUGGEST_BUS_RESET\t0x04\n#define SCSI_RESET_SUGGEST_HOST_RESET\t0x08\n\n#define SCSI_RESET_BUS_RESET 0x100\n#define SCSI_RESET_HOST_RESET 0x200\n#define SCSI_RESET_ACTION   0xff\n\nstruct initio_cmd_priv {\n\tdma_addr_t sense_dma_addr;\n\tdma_addr_t sglist_dma_addr;\n};\n\nstatic inline struct initio_cmd_priv *initio_priv(struct scsi_cmnd *cmd)\n{\n\treturn scsi_cmd_priv(cmd);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}