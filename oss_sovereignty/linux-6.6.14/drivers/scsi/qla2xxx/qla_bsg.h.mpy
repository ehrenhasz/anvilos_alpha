{
  "module_name": "qla_bsg.h",
  "hash_id": "52fb02c3f3158d32f098ffd24101cf973e1a7bbeb435b8718ae38c30df59a924",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/qla2xxx/qla_bsg.h",
  "human_readable_source": " \n \n#ifndef __QLA_BSG_H\n#define __QLA_BSG_H\n\n \n#define QL_VND_LOOPBACK\t\t0x01\n#define QL_VND_A84_RESET\t0x02\n#define QL_VND_A84_UPDATE_FW\t0x03\n#define QL_VND_A84_MGMT_CMD\t0x04\n#define QL_VND_IIDMA\t\t0x05\n#define QL_VND_FCP_PRIO_CFG_CMD\t0x06\n#define QL_VND_READ_FLASH\t0x07\n#define QL_VND_UPDATE_FLASH\t0x08\n#define QL_VND_SET_FRU_VERSION\t0x0B\n#define QL_VND_READ_FRU_STATUS\t0x0C\n#define QL_VND_WRITE_FRU_STATUS\t0x0D\n#define QL_VND_DIAG_IO_CMD\t0x0A\n#define QL_VND_WRITE_I2C\t0x10\n#define QL_VND_READ_I2C\t\t0x11\n#define QL_VND_FX00_MGMT_CMD\t0x12\n#define QL_VND_SERDES_OP\t0x13\n#define\tQL_VND_SERDES_OP_EX\t0x14\n#define QL_VND_GET_FLASH_UPDATE_CAPS    0x15\n#define QL_VND_SET_FLASH_UPDATE_CAPS    0x16\n#define QL_VND_GET_BBCR_DATA    0x17\n#define QL_VND_GET_PRIV_STATS\t0x18\n#define QL_VND_DPORT_DIAGNOSTICS\t0x19\n#define QL_VND_GET_PRIV_STATS_EX\t0x1A\n#define QL_VND_SS_GET_FLASH_IMAGE_STATUS\t0x1E\n#define QL_VND_EDIF_MGMT                0X1F\n#define QL_VND_MANAGE_HOST_STATS\t0x23\n#define QL_VND_GET_HOST_STATS\t\t0x24\n#define QL_VND_GET_TGT_STATS\t\t0x25\n#define QL_VND_MANAGE_HOST_PORT\t\t0x26\n#define QL_VND_MBX_PASSTHRU\t\t0x2B\n#define QL_VND_DPORT_DIAGNOSTICS_V2\t0x2C\n\n \n#define EXT_STATUS_OK\t\t\t0\n#define EXT_STATUS_ERR\t\t\t1\n#define EXT_STATUS_BUSY\t\t\t2\n#define EXT_STATUS_INVALID_PARAM\t6\n#define EXT_STATUS_DATA_OVERRUN\t\t7\n#define EXT_STATUS_DATA_UNDERRUN\t8\n#define EXT_STATUS_MAILBOX\t\t11\n#define EXT_STATUS_BUFFER_TOO_SMALL\t16\n#define EXT_STATUS_NO_MEMORY\t\t17\n#define EXT_STATUS_DEVICE_OFFLINE\t22\n\n \n#define EXT_STATUS_NOT_SUPPORTED\t27\n#define EXT_STATUS_INVALID_CFG\t\t28\n#define EXT_STATUS_DMA_ERR\t\t29\n#define EXT_STATUS_TIMEOUT\t\t30\n#define EXT_STATUS_THREAD_FAILED\t31\n#define EXT_STATUS_DATA_CMP_FAILED\t32\n#define EXT_STATUS_DPORT_DIAG_ERR\t40\n#define EXT_STATUS_DPORT_DIAG_IN_PROCESS\t41\n#define EXT_STATUS_DPORT_DIAG_NOT_RUNNING\t42\n\n \n#define INT_DEF_LB_LOOPBACK_CMD         0\n#define INT_DEF_LB_ECHO_CMD             1\n\n \n#define INTERNAL_LOOPBACK\t\t0xF1\n#define EXTERNAL_LOOPBACK\t\t0xF2\n#define ENABLE_INTERNAL_LOOPBACK\t0x02\n#define ENABLE_EXTERNAL_LOOPBACK\t0x04\n#define INTERNAL_LOOPBACK_MASK\t\t0x000E\n#define MAX_ELS_FRAME_PAYLOAD\t\t252\n#define ELS_OPCODE_BYTE\t\t\t0x10\n\n \n#define A84_ISSUE_WRITE_TYPE_CMD        0\n#define A84_ISSUE_READ_TYPE_CMD         1\n#define A84_CLEANUP_CMD                 2\n#define A84_ISSUE_RESET_OP_FW           3\n#define A84_ISSUE_RESET_DIAG_FW         4\n#define A84_ISSUE_UPDATE_OPFW_CMD       5\n#define A84_ISSUE_UPDATE_DIAGFW_CMD     6\n\nstruct qla84_mgmt_param {\n\tunion {\n\t\tstruct {\n\t\t\tuint32_t start_addr;\n\t\t} mem;  \n\t\tstruct {\n\t\t\tuint32_t id;\n#define QLA84_MGMT_CONFIG_ID_UIF        1\n#define QLA84_MGMT_CONFIG_ID_FCOE_COS   2\n#define QLA84_MGMT_CONFIG_ID_PAUSE      3\n#define QLA84_MGMT_CONFIG_ID_TIMEOUTS   4\n\n\t\tuint32_t param0;\n\t\tuint32_t param1;\n\t} config;  \n\n\tstruct {\n\t\tuint32_t type;\n#define QLA84_MGMT_INFO_CONFIG_LOG_DATA         1  \n#define QLA84_MGMT_INFO_LOG_DATA                2  \n#define QLA84_MGMT_INFO_PORT_STAT               3  \n#define QLA84_MGMT_INFO_LIF_STAT                4  \n#define QLA84_MGMT_INFO_ASIC_STAT               5  \n#define QLA84_MGMT_INFO_CONFIG_PARAMS           6  \n#define QLA84_MGMT_INFO_PANIC_LOG               7  \n\n\t\tuint32_t context;\n \n#define IC_LOG_DATA_LOG_ID_DEBUG_LOG                    0\n#define IC_LOG_DATA_LOG_ID_LEARN_LOG                    1\n#define IC_LOG_DATA_LOG_ID_FC_ACL_INGRESS_LOG           2\n#define IC_LOG_DATA_LOG_ID_FC_ACL_EGRESS_LOG            3\n#define IC_LOG_DATA_LOG_ID_ETHERNET_ACL_INGRESS_LOG     4\n#define IC_LOG_DATA_LOG_ID_ETHERNET_ACL_EGRESS_LOG      5\n#define IC_LOG_DATA_LOG_ID_MESSAGE_TRANSMIT_LOG         6\n#define IC_LOG_DATA_LOG_ID_MESSAGE_RECEIVE_LOG          7\n#define IC_LOG_DATA_LOG_ID_LINK_EVENT_LOG               8\n#define IC_LOG_DATA_LOG_ID_DCX_LOG                      9\n\n \n#define IC_PORT_STATISTICS_PORT_NUMBER_ETHERNET_PORT0   0\n#define IC_PORT_STATISTICS_PORT_NUMBER_ETHERNET_PORT1   1\n#define IC_PORT_STATISTICS_PORT_NUMBER_NSL_PORT0        2\n#define IC_PORT_STATISTICS_PORT_NUMBER_NSL_PORT1        3\n#define IC_PORT_STATISTICS_PORT_NUMBER_FC_PORT0         4\n#define IC_PORT_STATISTICS_PORT_NUMBER_FC_PORT1         5\n\n\n \n#define IC_LIF_STATISTICS_LIF_NUMBER_ETHERNET_PORT0     0\n#define IC_LIF_STATISTICS_LIF_NUMBER_ETHERNET_PORT1     1\n#define IC_LIF_STATISTICS_LIF_NUMBER_FC_PORT0           2\n#define IC_LIF_STATISTICS_LIF_NUMBER_FC_PORT1           3\n#define IC_LIF_STATISTICS_LIF_NUMBER_CPU                6\n\n\t\t} info;  \n\t} u;\n};\n\nstruct qla84_msg_mgmt {\n\tuint16_t cmd;\n#define QLA84_MGMT_READ_MEM     0x00\n#define QLA84_MGMT_WRITE_MEM    0x01\n#define QLA84_MGMT_CHNG_CONFIG  0x02\n#define QLA84_MGMT_GET_INFO     0x03\n\tuint16_t rsrvd;\n\tstruct qla84_mgmt_param mgmtp; \n\tuint32_t len;  \n\tuint8_t payload[];  \n};\n\nstruct qla_bsg_a84_mgmt {\n\tstruct qla84_msg_mgmt mgmt;\n} __attribute__ ((packed));\n\nstruct qla_scsi_addr {\n\tuint16_t bus;\n\tuint16_t target;\n} __attribute__ ((packed));\n\nstruct qla_ext_dest_addr {\n\tunion {\n\t\tuint8_t wwnn[8];\n\t\tuint8_t wwpn[8];\n\t\tuint8_t id[4];\n\t\tstruct qla_scsi_addr scsi_addr;\n\t} dest_addr;\n\tuint16_t dest_type;\n#define\tEXT_DEF_TYPE_WWPN\t2\n\tuint16_t lun;\n\tuint16_t padding[2];\n} __attribute__ ((packed));\n\nstruct qla_port_param {\n\tstruct qla_ext_dest_addr fc_scsi_addr;\n\tuint16_t mode;\n\tuint16_t speed;\n} __attribute__ ((packed));\n\nstruct qla_mbx_passthru {\n\tuint16_t reserved1[2];\n\tuint16_t mbx_in[32];\n\tuint16_t mbx_out[32];\n\tuint32_t reserved2[16];\n} __packed;\n\n \n\n#define MAX_FRU_SIZE\t36\n\nstruct qla_field_address {\n\tuint16_t offset;\n\tuint16_t device;\n\tuint16_t option;\n} __packed;\n\nstruct qla_field_info {\n\tuint8_t version[MAX_FRU_SIZE];\n} __packed;\n\nstruct qla_image_version {\n\tstruct qla_field_address field_address;\n\tstruct qla_field_info field_info;\n} __packed;\n\nstruct qla_image_version_list {\n\tuint32_t count;\n\tstruct qla_image_version version[];\n} __packed;\n\nstruct qla_status_reg {\n\tstruct qla_field_address field_address;\n\tuint8_t status_reg;\n\tuint8_t reserved[7];\n} __packed;\n\nstruct qla_i2c_access {\n\tuint16_t device;\n\tuint16_t offset;\n\tuint16_t option;\n\tuint16_t length;\n\tuint8_t  buffer[0x40];\n} __packed;\n\n \n\n \n#define INT_SC_SERDES_READ_REG\t\t1\n#define INT_SC_SERDES_WRITE_REG\t\t2\n\nstruct qla_serdes_reg {\n\tuint16_t cmd;\n\tuint16_t addr;\n\tuint16_t val;\n} __packed;\n\nstruct qla_serdes_reg_ex {\n\tuint16_t cmd;\n\tuint32_t addr;\n\tuint32_t val;\n} __packed;\n\nstruct qla_flash_update_caps {\n\tuint64_t  capabilities;\n\tuint32_t  outage_duration;\n\tuint8_t   reserved[20];\n} __packed;\n\n \n#define QLA_BBCR_STATUS_DISABLED       0\n#define QLA_BBCR_STATUS_ENABLED        1\n#define QLA_BBCR_STATUS_UNKNOWN        2\n\n \n#define QLA_BBCR_STATE_OFFLINE         0\n#define QLA_BBCR_STATE_ONLINE          1\n\n \n#define QLA_BBCR_REASON_PORT_SPEED     1\n#define QLA_BBCR_REASON_PEER_PORT      2\n#define QLA_BBCR_REASON_SWITCH         3\n#define QLA_BBCR_REASON_LOGIN_REJECT   4\n\nstruct  qla_bbcr_data {\n\tuint8_t   status;          \n\tuint8_t   state;           \n\tuint8_t   configured_bbscn;        \n\tuint8_t   negotiated_bbscn;        \n\tuint8_t   offline_reason_code;\n\tuint16_t  mbx1;\t\t\t \n\tuint8_t   reserved[9];\n} __packed;\n\nstruct qla_dport_diag {\n\tuint16_t options;\n\tuint32_t buf[16];\n\tuint8_t  unused[62];\n} __packed;\n\n#define QLA_GET_DPORT_RESULT_V2\t\t0   \n#define QLA_RESTART_DPORT_TEST_V2\t1   \n#define QLA_START_DPORT_TEST_V2\t\t2   \nstruct qla_dport_diag_v2 {\n\tuint16_t options;\n\tuint16_t mbx1;\n\tuint16_t mbx2;\n\tuint8_t  unused[58];\n\tuint8_t buf[1024];  \n} __packed;\n\n \n#define QLA_DPORT_RESULT\t0x0\n#define QLA_DPORT_START\t\t0x2\n\n \nstruct qla_active_regions {\n\tuint8_t global_image;\n\tuint8_t board_config;\n\tuint8_t vpd_nvram;\n\tuint8_t npiv_config_0_1;\n\tuint8_t npiv_config_2_3;\n\tuint8_t nvme_params;\n\tuint8_t reserved[31];\n} __packed;\n\n#include \"qla_edif_bsg.h\"\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}