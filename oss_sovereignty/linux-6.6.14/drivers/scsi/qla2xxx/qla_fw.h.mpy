{
  "module_name": "qla_fw.h",
  "hash_id": "109a3a0ac9cc1e4174b96165f956cbc0e5a84157757da472741249178d5c4722",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/qla2xxx/qla_fw.h",
  "human_readable_source": " \n \n#ifndef __QLA_FW_H\n#define __QLA_FW_H\n\n#include <linux/nvme.h>\n#include <linux/nvme-fc.h>\n\n#include \"qla_dsd.h\"\n\n#define MBS_CHECKSUM_ERROR\t0x4010\n#define MBS_INVALID_PRODUCT_KEY\t0x4020\n\n \n#define FO1_ENABLE_PUREX\tBIT_10\n#define FO1_DISABLE_LED_CTRL\tBIT_6\n#define FO1_ENABLE_8016\t\tBIT_0\n#define FO2_ENABLE_SEL_CLASS2\tBIT_5\n#define FO3_NO_ABTS_ON_LINKDOWN\tBIT_14\n#define FO3_HOLD_STS_IOCB\tBIT_12\n\n \n#define PDO_FORCE_ADISC\t\tBIT_1\n#define PDO_FORCE_PLOGI\t\tBIT_0\n\nstruct buffer_credit_24xx {\n\tu32 parameter[28];\n};\n\n#define\tPORT_DATABASE_24XX_SIZE\t\t64\nstruct port_database_24xx {\n\tuint16_t flags;\n#define PDF_TASK_RETRY_ID\tBIT_14\n#define PDF_FC_TAPE\t\tBIT_7\n#define PDF_ACK0_CAPABLE\tBIT_6\n#define PDF_FCP2_CONF\t\tBIT_5\n#define PDF_CLASS_2\t\tBIT_4\n#define PDF_HARD_ADDR\t\tBIT_1\n\n\t \n\tuint8_t current_login_state;\n\tuint8_t last_login_state;\n#define PDS_PLOGI_PENDING\t0x03\n#define PDS_PLOGI_COMPLETE\t0x04\n#define PDS_PRLI_PENDING\t0x05\n#define PDS_PRLI_COMPLETE\t0x06\n#define PDS_PORT_UNAVAILABLE\t0x07\n#define PDS_PRLO_PENDING\t0x09\n#define PDS_LOGO_PENDING\t0x11\n#define PDS_PRLI2_PENDING\t0x12\n\n\tuint8_t hard_address[3];\n\tuint8_t reserved_1;\n\n\tuint8_t port_id[3];\n\tuint8_t sequence_id;\n\n\tuint16_t port_timer;\n\n\tuint16_t nport_handle;\t\t\t \n\n\tuint16_t receive_data_size;\n\tuint16_t reserved_2;\n\n\tuint8_t prli_svc_param_word_0[2];\t \n\t\t\t\t\t\t \n\tuint8_t prli_svc_param_word_3[2];\t \n\t\t\t\t\t\t \n\n\tuint8_t port_name[WWN_SIZE];\n\tuint8_t node_name[WWN_SIZE];\n\n\tuint8_t reserved_3[2];\n\tuint16_t nvme_first_burst_size;\n\tuint16_t prli_nvme_svc_param_word_0;\t \n\tuint16_t prli_nvme_svc_param_word_3;\t \n\tuint8_t secure_login;\n\tuint8_t reserved_4[14];\n};\n\n \nstruct get_name_list_extended {\n\t__le16 flags;\n\tu8 current_login_state;\n\tu8 last_login_state;\n\tu8 hard_address[3];\n\tu8 reserved_1;\n\tu8 port_id[3];\n\tu8 sequence_id;\n\t__le16 port_timer;\n\t__le16 nport_handle;\t\t\t \n\t__le16 receive_data_size;\n\t__le16 reserved_2;\n\n\t \n\tu8 prli_svc_param_word_0[2];  \n\tu8 prli_svc_param_word_3[2];  \n\tu8 port_name[WWN_SIZE];\n\tu8 node_name[WWN_SIZE];\n};\n\n \nstruct get_name_list {\n\tu8 port_node_name[WWN_SIZE];  \n\t__le16 nport_handle;\n\tu8 reserved;\n};\n\nstruct vp_database_24xx {\n\tuint16_t vp_status;\n\tuint8_t  options;\n\tuint8_t  id;\n\tuint8_t  port_name[WWN_SIZE];\n\tuint8_t  node_name[WWN_SIZE];\n\tuint16_t port_id_low;\n\tuint16_t port_id_high;\n};\n\nstruct nvram_24xx {\n\t \n\tuint8_t id[4];\n\t__le16\tnvram_version;\n\tuint16_t reserved_0;\n\n\t \n\t__le16\tversion;\n\tuint16_t reserved_1;\n\t__le16\tframe_payload_size;\n\t__le16\texecution_throttle;\n\t__le16\texchange_count;\n\t__le16\thard_address;\n\n\tuint8_t port_name[WWN_SIZE];\n\tuint8_t node_name[WWN_SIZE];\n\n\t__le16\tlogin_retry_count;\n\t__le16\tlink_down_on_nos;\n\t__le16\tinterrupt_delay_timer;\n\t__le16\tlogin_timeout;\n\n\t__le32\tfirmware_options_1;\n\t__le32\tfirmware_options_2;\n\t__le32\tfirmware_options_3;\n\n\t \n\n\t \n\t__le16\tseriallink_options[4];\n\n\tuint16_t reserved_2[16];\n\n\t \n\tuint16_t reserved_3[16];\n\n\t \n\tuint16_t reserved_4[16];\n\n\t \n\tuint16_t reserved_5[16];\n\n\t \n\tuint16_t reserved_6[16];\n\n\t \n\tuint16_t reserved_7[16];\n\n\t \n\t__le32\thost_p;\n\n\tuint8_t alternate_port_name[WWN_SIZE];\n\tuint8_t alternate_node_name[WWN_SIZE];\n\n\tuint8_t boot_port_name[WWN_SIZE];\n\t__le16\tboot_lun_number;\n\tuint16_t reserved_8;\n\n\tuint8_t alt1_boot_port_name[WWN_SIZE];\n\t__le16\talt1_boot_lun_number;\n\tuint16_t reserved_9;\n\n\tuint8_t alt2_boot_port_name[WWN_SIZE];\n\t__le16\talt2_boot_lun_number;\n\tuint16_t reserved_10;\n\n\tuint8_t alt3_boot_port_name[WWN_SIZE];\n\t__le16\talt3_boot_lun_number;\n\tuint16_t reserved_11;\n\n\t \n\t__le32\tefi_parameters;\n\n\tuint8_t reset_delay;\n\tuint8_t reserved_12;\n\tuint16_t reserved_13;\n\n\t__le16\tboot_id_number;\n\tuint16_t reserved_14;\n\n\t__le16\tmax_luns_per_target;\n\tuint16_t reserved_15;\n\n\t__le16\tport_down_retry_count;\n\t__le16\tlink_down_timeout;\n\n\t \n\t__le16\tfcode_parameter;\n\n\tuint16_t reserved_16[3];\n\n\t \n\tuint8_t prev_drv_ver_major;\n\tuint8_t prev_drv_ver_submajob;\n\tuint8_t prev_drv_ver_minor;\n\tuint8_t prev_drv_ver_subminor;\n\n\t__le16\tprev_bios_ver_major;\n\t__le16\tprev_bios_ver_minor;\n\n\t__le16\tprev_efi_ver_major;\n\t__le16\tprev_efi_ver_minor;\n\n\t__le16\tprev_fw_ver_major;\n\tuint8_t prev_fw_ver_minor;\n\tuint8_t prev_fw_ver_subminor;\n\n\tuint16_t reserved_17[8];\n\n\t \n\tuint16_t reserved_18[16];\n\n\t \n\tuint16_t reserved_19[16];\n\n\t \n\tuint16_t reserved_20[16];\n\n\t \n\tuint8_t model_name[16];\n\n\tuint16_t reserved_21[2];\n\n\t \n\t \n\tuint16_t pcie_table_sig;\n\tuint16_t pcie_table_offset;\n\n\tuint16_t subsystem_vendor_id;\n\tuint16_t subsystem_device_id;\n\n\t__le32\tchecksum;\n};\n\n \n#define\tICB_VERSION 1\nstruct init_cb_24xx {\n\t__le16\tversion;\n\tuint16_t reserved_1;\n\n\t__le16\tframe_payload_size;\n\t__le16\texecution_throttle;\n\t__le16\texchange_count;\n\n\t__le16\thard_address;\n\n\tuint8_t port_name[WWN_SIZE];\t\t \n\tuint8_t node_name[WWN_SIZE];\t\t \n\n\t__le16\tresponse_q_inpointer;\n\t__le16\trequest_q_outpointer;\n\n\t__le16\tlogin_retry_count;\n\n\t__le16\tprio_request_q_outpointer;\n\n\t__le16\tresponse_q_length;\n\t__le16\trequest_q_length;\n\n\t__le16\tlink_down_on_nos;\t\t \n\n\t__le16\tprio_request_q_length;\n\n\t__le64\t request_q_address __packed;\n\t__le64\t response_q_address __packed;\n\t__le64\t prio_request_q_address __packed;\n\n\t__le16\tmsix;\n\t__le16\tmsix_atio;\n\tuint8_t reserved_2[4];\n\n\t__le16\tatio_q_inpointer;\n\t__le16\tatio_q_length;\n\t__le64\tatio_q_address __packed;\n\n\t__le16\tinterrupt_delay_timer;\t\t \n\t__le16\tlogin_timeout;\n\n\t \n\t__le32\tfirmware_options_1;\n\n\t \n\t__le32\tfirmware_options_2;\n\n\t \n\t__le32\tfirmware_options_3;\n\t__le16\t qos;\n\t__le16\t rid;\n\tuint8_t  reserved_3[20];\n};\n\n \n#define COMMAND_BIDIRECTIONAL 0x75\nstruct cmd_bidir {\n\tuint8_t entry_type;\t\t \n\tuint8_t entry_count;\t\t \n\tuint8_t sys_define;\t\t \n\tuint8_t entry_status;\t\t \n\n\tuint32_t handle;\t\t \n\n\t__le16\tnport_handle;\t\t \n\n\t__le16\ttimeout;\t\t \n\n\t__le16\twr_dseg_count;\t\t \n\t__le16\trd_dseg_count;\t\t \n\n\tstruct scsi_lun lun;\t\t \n\n\t__le16\tcontrol_flags;\t\t \n#define BD_WRAP_BACK\t\t\tBIT_3\n#define BD_READ_DATA\t\t\tBIT_1\n#define BD_WRITE_DATA\t\t\tBIT_0\n\n\t__le16\tfcp_cmnd_dseg_len;\t\t \n\t__le64\t fcp_cmnd_dseg_address __packed; \n\n\tuint16_t reserved[2];\t\t\t \n\n\t__le32\trd_byte_count;\t\t\t \n\t__le32\twr_byte_count;\t\t\t \n\n\tuint8_t port_id[3];\t\t\t \n\tuint8_t vp_index;\n\n\tstruct dsd64 fcp_dsd;\n};\n\n#define COMMAND_TYPE_6\t0x48\t\t \nstruct cmd_type_6 {\n\tuint8_t entry_type;\t\t \n\tuint8_t entry_count;\t\t \n\tuint8_t sys_define;\t\t \n\tuint8_t entry_status;\t\t \n\n\tuint32_t handle;\t\t \n\n\t__le16\tnport_handle;\t\t \n\t__le16\ttimeout;\t\t \n\n\t__le16\tdseg_count;\t\t \n\n\t__le16\tfcp_rsp_dsd_len;\t \n\n\tstruct scsi_lun lun;\t\t \n\n\t__le16\tcontrol_flags;\t\t \n#define CF_NEW_SA\t\t\tBIT_12\n#define CF_EN_EDIF\t\t\tBIT_9\n#define CF_ADDITIONAL_PARAM_BLK\t\tBIT_8\n#define CF_DIF_SEG_DESCR_ENABLE\t\tBIT_3\n#define CF_DATA_SEG_DESCR_ENABLE\tBIT_2\n#define CF_READ_DATA\t\t\tBIT_1\n#define CF_WRITE_DATA\t\t\tBIT_0\n\n\t__le16\tfcp_cmnd_dseg_len;\t \n\t\t\t\t\t \n\t__le64\t fcp_cmnd_dseg_address __packed;\n\t\t\t\t\t \n\t__le64\t fcp_rsp_dseg_address __packed;\n\n\t__le32\tbyte_count;\t\t \n\n\tuint8_t port_id[3];\t\t \n\tuint8_t vp_index;\n\n\tstruct dsd64 fcp_dsd;\n};\n\n#define COMMAND_TYPE_7\t0x18\t\t \nstruct cmd_type_7 {\n\tuint8_t entry_type;\t\t \n\tuint8_t entry_count;\t\t \n\tuint8_t sys_define;\t\t \n\tuint8_t entry_status;\t\t \n\n\tuint32_t handle;\t\t \n\n\t__le16\tnport_handle;\t\t \n\t__le16\ttimeout;\t\t \n#define FW_MAX_TIMEOUT\t\t0x1999\n\n\t__le16\tdseg_count;\t\t \n\tuint16_t reserved_1;\n\n\tstruct scsi_lun lun;\t\t \n\n\t__le16\ttask_mgmt_flags;\t \n#define TMF_CLEAR_ACA\t\tBIT_14\n#define TMF_TARGET_RESET\tBIT_13\n#define TMF_LUN_RESET\t\tBIT_12\n#define TMF_CLEAR_TASK_SET\tBIT_10\n#define TMF_ABORT_TASK_SET\tBIT_9\n#define TMF_DSD_LIST_ENABLE\tBIT_2\n#define TMF_READ_DATA\t\tBIT_1\n#define TMF_WRITE_DATA\t\tBIT_0\n\n\tuint8_t task;\n#define TSK_SIMPLE\t\t0\n#define TSK_HEAD_OF_QUEUE\t1\n#define TSK_ORDERED\t\t2\n#define TSK_ACA\t\t\t4\n#define TSK_UNTAGGED\t\t5\n\n\tuint8_t crn;\n\n\tuint8_t fcp_cdb[MAX_CMDSZ]; \t \n\t__le32\tbyte_count;\t\t \n\n\tuint8_t port_id[3];\t\t \n\tuint8_t vp_index;\n\n\tstruct dsd64 dsd;\n};\n\n#define COMMAND_TYPE_CRC_2\t0x6A\t \nstruct cmd_type_crc_2 {\n\tuint8_t entry_type;\t\t \n\tuint8_t entry_count;\t\t \n\tuint8_t sys_define;\t\t \n\tuint8_t entry_status;\t\t \n\n\tuint32_t handle;\t\t \n\n\t__le16\tnport_handle;\t\t \n\t__le16\ttimeout;\t\t \n\n\t__le16\tdseg_count;\t\t \n\n\t__le16\tfcp_rsp_dseg_len;\t \n\n\tstruct scsi_lun lun;\t\t \n\n\t__le16\tcontrol_flags;\t\t \n\n\t__le16\tfcp_cmnd_dseg_len;\t \n\t__le64\t fcp_cmnd_dseg_address __packed;\n\t\t\t\t\t \n\t__le64\t fcp_rsp_dseg_address __packed;\n\n\t__le32\tbyte_count;\t\t \n\n\tuint8_t port_id[3];\t\t \n\tuint8_t vp_index;\n\n\t__le64\t crc_context_address __packed;\t \n\t__le16\tcrc_context_len;\t\t \n\tuint16_t reserved_1;\t\t\t \n};\n\n\n \n#define\tSTATUS_TYPE\t0x03\t\t \nstruct sts_entry_24xx {\n\tuint8_t entry_type;\t\t \n\tuint8_t entry_count;\t\t \n\tuint8_t sys_define;\t\t \n\tuint8_t entry_status;\t\t \n\n\tuint32_t handle;\t\t \n\n\t__le16\tcomp_status;\t\t \n\t__le16\tox_id;\t\t\t \n\n\t__le32\tresidual_len;\t\t \n\n\tunion {\n\t\t__le16 reserved_1;\n\t\t__le16\tnvme_rsp_pyld_len;\n\t\t__le16 edif_sa_index;\t  \n\t};\n\n\t__le16\tstate_flags;\t\t \n#define SF_TRANSFERRED_DATA\tBIT_11\n#define SF_NVME_ERSP            BIT_6\n#define SF_FCP_RSP_DMA\t\tBIT_0\n\n\t__le16\tstatus_qualifier;\n\t__le16\tscsi_status;\t\t \n#define SS_CONFIRMATION_REQ\t\tBIT_12\n\n\t__le32\trsp_residual_count;\t \n\n\t__le32\tsense_len;\t\t \n\n\tunion {\n\t\tstruct {\n\t\t\t__le32\trsp_data_len;\t \n\t\t\tuint8_t data[28];\t \n\t\t};\n\t\tstruct nvme_fc_ersp_iu nvme_ersp;\n\t\tuint8_t nvme_ersp_data[32];\n\t};\n\n\t \n};\n\n\n \n#define CS_DATA_REASSEMBLY_ERROR 0x11\t \n#define CS_ABTS_BY_TARGET\t0x13\t \n#define CS_FW_RESOURCE\t\t0x2C\t \n#define CS_TASK_MGMT_OVERRUN\t0x30\t \n#define CS_ABORT_BY_TARGET\t0x47\t \n\n \n#define MARKER_TYPE\t0x04\t\t \nstruct mrk_entry_24xx {\n\tuint8_t entry_type;\t\t \n\tuint8_t entry_count;\t\t \n\tuint8_t handle_count;\t\t \n\tuint8_t entry_status;\t\t \n\n\tuint32_t handle;\t\t \n\n\t__le16\tnport_handle;\t\t \n\n\tuint8_t modifier;\t\t \n#define MK_SYNC_ID_LUN\t0\t\t \n#define MK_SYNC_ID\t1\t\t \n#define MK_SYNC_ALL\t2\t\t \n\tuint8_t reserved_1;\n\n\tuint8_t reserved_2;\n\tuint8_t vp_index;\n\n\tuint16_t reserved_3;\n\n\tuint8_t lun[8];\t\t\t \n\tuint8_t reserved_4[40];\n};\n\n \n#define CT_IOCB_TYPE\t\t0x29\t \nstruct ct_entry_24xx {\n\tuint8_t entry_type;\t\t \n\tuint8_t entry_count;\t\t \n\tuint8_t sys_define;\t\t \n\tuint8_t entry_status;\t\t \n\n\tuint32_t handle;\t\t \n\n\t__le16\tcomp_status;\t\t \n\n\t__le16\tnport_handle;\t\t \n\n\t__le16\tcmd_dsd_count;\n\n\tuint8_t vp_index;\n\tuint8_t reserved_1;\n\n\t__le16\ttimeout;\t\t \n\tuint16_t reserved_2;\n\n\t__le16\trsp_dsd_count;\n\n\tuint8_t reserved_3[10];\n\n\t__le32\trsp_byte_count;\n\t__le32\tcmd_byte_count;\n\n\tstruct dsd64 dsd[2];\n};\n\n#define PURX_ELS_HEADER_SIZE\t0x18\n\n \n#define PUREX_IOCB_TYPE\t\t0x51\t \nstruct purex_entry_24xx {\n\tuint8_t entry_type;\t\t \n\tuint8_t entry_count;\t\t \n\tuint8_t sys_define;\t\t \n\tuint8_t entry_status;\t\t \n\n\t__le16\treserved1;\n\tuint8_t vp_idx;\n\tuint8_t reserved2;\n\n\t__le16\tstatus_flags;\n\t__le16\tnport_handle;\n\n\t__le16\tframe_size;\n\t__le16\ttrunc_frame_size;\n\n\t__le32\trx_xchg_addr;\n\n\tuint8_t d_id[3];\n\tuint8_t r_ctl;\n\n\tuint8_t s_id[3];\n\tuint8_t cs_ctl;\n\n\tuint8_t f_ctl[3];\n\tuint8_t type;\n\n\t__le16\tseq_cnt;\n\tuint8_t df_ctl;\n\tuint8_t seq_id;\n\n\t__le16\trx_id;\n\t__le16\tox_id;\n\t__le32\tparam;\n\n\tuint8_t els_frame_payload[20];\n};\n\n \n#define ELS_IOCB_TYPE\t\t0x53\t \nstruct els_entry_24xx {\n\tuint8_t entry_type;\t\t \n\tuint8_t entry_count;\t\t \n\tuint8_t sys_define;\t\t \n\tuint8_t entry_status;\t\t \n\n\tuint32_t handle;\t\t \n\n\t__le16\tcomp_status;\t\t \n\t__le16\tnport_handle;\n\n\t__le16\ttx_dsd_count;\n\n\tuint8_t vp_index;\n\tuint8_t sof_type;\n#define EST_SOFI3\t\t(1 << 4)\n#define EST_SOFI2\t\t(3 << 4)\n\n\t__le32\trx_xchg_address;\t \n\t__le16\trx_dsd_count;\n\n\tuint8_t opcode;\n\tuint8_t reserved_2;\n\n\tuint8_t d_id[3];\n\tuint8_t s_id[3];\n\n\t__le16\tcontrol_flags;\t\t \n#define ECF_PAYLOAD_DESCR_MASK\t(BIT_15|BIT_14|BIT_13)\n#define EPD_ELS_COMMAND\t\t(0 << 13)\n#define EPD_ELS_ACC\t\t(1 << 13)\n#define EPD_ELS_RJT\t\t(2 << 13)\n#define EPD_RX_XCHG\t\t(3 << 13)   \n#define ECF_CLR_PASSTHRU_PEND\tBIT_12\n#define ECF_INCL_FRAME_HDR\tBIT_11\n#define ECF_SEC_LOGIN\t\tBIT_3\n\n\tunion {\n\t\tstruct {\n\t\t\t__le32\t rx_byte_count;\n\t\t\t__le32\t tx_byte_count;\n\n\t\t\t__le64\t tx_address __packed;\t \n\t\t\t__le32\t tx_len;\t\t \n\n\t\t\t__le64\t rx_address __packed;\t \n\t\t\t__le32\t rx_len;\t\t \n\t\t};\n\t\tstruct {\n\t\t\t__le32\ttotal_byte_count;\n\t\t\t__le32\terror_subcode_1;\n\t\t\t__le32\terror_subcode_2;\n\t\t\t__le32\terror_subcode_3;\n\t\t};\n\t};\n};\n\nstruct els_sts_entry_24xx {\n\tuint8_t entry_type;\t\t \n\tuint8_t entry_count;\t\t \n\tuint8_t sys_define;\t\t \n\tuint8_t entry_status;\t\t \n\n\t__le32\thandle;\t\t \n\n\t__le16\tcomp_status;\n\n\t__le16\tnport_handle;\t\t \n\n\t__le16\treserved_1;\n\n\tuint8_t vp_index;\n\tuint8_t sof_type;\n\n\t__le32\trx_xchg_address;\t \n\t__le16\treserved_2;\n\n\tuint8_t opcode;\n\tuint8_t reserved_3;\n\n\tuint8_t d_id[3];\n\tuint8_t s_id[3];\n\n\t__le16\tcontrol_flags;\t\t \n\t__le32\ttotal_byte_count;\n\t__le32\terror_subcode_1;\n\t__le32\terror_subcode_2;\n\t__le32\terror_subcode_3;\n\n\t__le32\treserved_4[4];\n};\n \n#define MBX_IOCB_TYPE\t0x39\nstruct mbx_entry_24xx {\n\tuint8_t entry_type;\t\t \n\tuint8_t entry_count;\t\t \n\tuint8_t handle_count;\t\t \n\tuint8_t entry_status;\t\t \n\n\tuint32_t handle;\t\t \n\n\tuint16_t mbx[28];\n};\n\n\n#define LOGINOUT_PORT_IOCB_TYPE\t0x52\t \nstruct logio_entry_24xx {\n\tuint8_t entry_type;\t\t \n\tuint8_t entry_count;\t\t \n\tuint8_t sys_define;\t\t \n\tuint8_t entry_status;\t\t \n\n\tuint32_t handle;\t\t \n\n\t__le16\tcomp_status;\t\t \n#define CS_LOGIO_ERROR\t\t0x31\t \n\n\t__le16\tnport_handle;\t\t \n\n\t__le16\tcontrol_flags;\t\t \n\t\t\t\t\t \n#define LCF_INCLUDE_SNS\t\tBIT_10\t \n#define LCF_FCP2_OVERRIDE\tBIT_9\t \n#define LCF_CLASS_2\t\tBIT_8\t \n#define LCF_FREE_NPORT\t\tBIT_7\t \n#define LCF_COMMON_FEAT\t\tBIT_7\t \n#define LCF_EXPL_LOGO\t\tBIT_6\t \n#define LCF_NVME_PRLI\t\tBIT_6    \n#define LCF_SKIP_PRLI\t\tBIT_5\t \n#define LCF_IMPL_LOGO_ALL\tBIT_5\t \n#define LCF_COND_PLOGI\t\tBIT_4\t \n#define LCF_IMPL_LOGO\t\tBIT_4\t \n#define LCF_IMPL_PRLO\t\tBIT_4\t \n\t\t\t\t\t \n#define LCF_COMMAND_PLOGI\t0x00\t \n#define LCF_COMMAND_PRLI\t0x01\t \n#define LCF_COMMAND_PDISC\t0x02\t \n#define LCF_COMMAND_ADISC\t0x03\t \n#define LCF_COMMAND_LOGO\t0x08\t \n#define LCF_COMMAND_PRLO\t0x09\t \n#define LCF_COMMAND_TPRLO\t0x0A\t \n\n\tuint8_t vp_index;\n\tuint8_t reserved_1;\n\n\tuint8_t port_id[3];\t\t \n\n\tuint8_t rsp_size;\t\t \n\n\t__le32\tio_parameter[11];\t \n#define LIO_COMM_FEAT_FCSP\tBIT_21\n#define LIO_COMM_FEAT_CIO\tBIT_31\n#define LSC_SCODE_NOLINK\t0x01\n#define LSC_SCODE_NOIOCB\t0x02\n#define LSC_SCODE_NOXCB\t\t0x03\n#define LSC_SCODE_CMD_FAILED\t0x04\n#define LSC_SCODE_NOFABRIC\t0x05\n#define LSC_SCODE_FW_NOT_READY\t0x07\n#define LSC_SCODE_NOT_LOGGED_IN\t0x09\n#define LSC_SCODE_NOPCB\t\t0x0A\n\n#define LSC_SCODE_ELS_REJECT\t0x18\n#define LSC_SCODE_CMD_PARAM_ERR\t0x19\n#define LSC_SCODE_PORTID_USED\t0x1A\n#define LSC_SCODE_NPORT_USED\t0x1B\n#define LSC_SCODE_NONPORT\t0x1C\n#define LSC_SCODE_LOGGED_IN\t0x1D\n#define LSC_SCODE_NOFLOGI_ACC\t0x1F\n};\n\n#define TSK_MGMT_IOCB_TYPE\t0x14\nstruct tsk_mgmt_entry {\n\tuint8_t entry_type;\t\t \n\tuint8_t entry_count;\t\t \n\tuint8_t handle_count;\t\t \n\tuint8_t entry_status;\t\t \n\n\tuint32_t handle;\t\t \n\n\t__le16\tnport_handle;\t\t \n\n\tuint16_t reserved_1;\n\n\t__le16\tdelay;\t\t\t \n\n\t__le16\ttimeout;\t\t \n\n\tstruct scsi_lun lun;\t\t \n\n\t__le32\tcontrol_flags;\t\t \n#define TCF_NOTMCMD_TO_TARGET\tBIT_31\n#define TCF_LUN_RESET\t\tBIT_4\n#define TCF_ABORT_TASK_SET\tBIT_3\n#define TCF_CLEAR_TASK_SET\tBIT_2\n#define TCF_TARGET_RESET\tBIT_1\n#define TCF_CLEAR_ACA\t\tBIT_0\n\n\tuint8_t reserved_2[20];\n\n\tuint8_t port_id[3];\t\t \n\tuint8_t vp_index;\n\n\tuint8_t reserved_3[12];\n};\n\n#define ABORT_IOCB_TYPE\t0x33\nstruct abort_entry_24xx {\n\tuint8_t entry_type;\t\t \n\tuint8_t entry_count;\t\t \n\tuint8_t handle_count;\t\t \n\tuint8_t entry_status;\t\t \n\n\tuint32_t handle;\t\t \n\n\tunion {\n\t\t__le16 nport_handle;             \n\t\t__le16 comp_status;              \n\t};\n\n\t__le16\toptions;\t\t \n#define AOF_NO_ABTS\t\tBIT_0\t \n#define AOF_NO_RRQ\t\tBIT_1    \n#define AOF_ABTS_TIMEOUT\tBIT_2    \n#define AOF_ABTS_RTY_CNT\tBIT_3    \n#define AOF_RSP_TIMEOUT\t\tBIT_4    \n\n\n\tuint32_t handle_to_abort;\t \n\n\t__le16\treq_que_no;\n\tuint8_t reserved_1[30];\n\n\tuint8_t port_id[3];\t\t \n\tuint8_t vp_index;\n\tu8\treserved_2[4];\n\tunion {\n\t\tstruct {\n\t\t\t__le16 abts_rty_cnt;\n\t\t\t__le16 rsp_timeout;\n\t\t} drv;\n\t\tstruct {\n\t\t\tu8\tba_rjt_vendorUnique;\n\t\t\tu8\tba_rjt_reasonCodeExpl;\n\t\t\tu8\tba_rjt_reasonCode;\n\t\t\tu8\treserved_3;\n\t\t} fw;\n\t};\n\tu8\treserved_4[4];\n};\n\n#define ABTS_RCV_TYPE\t\t0x54\n#define ABTS_RSP_TYPE\t\t0x55\nstruct abts_entry_24xx {\n\tuint8_t entry_type;\n\tuint8_t entry_count;\n\tuint8_t handle_count;\n\tuint8_t entry_status;\n\n\t__le32\thandle;\t\t \n\n\t__le16\tcomp_status;\t\t \n\t__le16\tnport_handle;\t\t \n\n\t__le16\tcontrol_flags;\t\t \n\tuint8_t vp_idx;\n\tuint8_t sof_type;\t\t \n\n\t__le32\trx_xch_addr;\n\n\tuint8_t d_id[3];\n\tuint8_t r_ctl;\n\n\tuint8_t s_id[3];\n\tuint8_t cs_ctl;\n\n\tuint8_t f_ctl[3];\n\tuint8_t type;\n\n\t__le16\tseq_cnt;\n\tuint8_t df_ctl;\n\tuint8_t seq_id;\n\n\t__le16\trx_id;\n\t__le16\tox_id;\n\n\t__le32\tparam;\n\n\tunion {\n\t\tstruct {\n\t\t\t__le32\tsubcode3;\n\t\t\t__le32\trsvd;\n\t\t\t__le32\tsubcode1;\n\t\t\t__le32\tsubcode2;\n\t\t} error;\n\t\tstruct {\n\t\t\t__le16\trsrvd1;\n\t\t\tuint8_t last_seq_id;\n\t\t\tuint8_t seq_id_valid;\n\t\t\t__le16\taborted_rx_id;\n\t\t\t__le16\taborted_ox_id;\n\t\t\t__le16\thigh_seq_cnt;\n\t\t\t__le16\tlow_seq_cnt;\n\t\t} ba_acc;\n\t\tstruct {\n\t\t\tuint8_t vendor_unique;\n\t\t\tuint8_t explanation;\n\t\t\tuint8_t reason;\n\t\t} ba_rjt;\n\t} payload;\n\n\t__le32\trx_xch_addr_to_abort;\n} __packed;\n\n \n#define BA_RJT_EXP_NO_ADDITIONAL\t0\n#define BA_RJT_EXP_INV_OX_RX_ID\t\t3\n#define BA_RJT_EXP_SEQ_ABORTED\t\t5\n\n \n#define BA_RJT_RSN_INV_CMD_CODE\t\t1\n#define BA_RJT_RSN_LOGICAL_ERROR\t3\n#define BA_RJT_RSN_LOGICAL_BUSY\t\t5\n#define BA_RJT_RSN_PROTOCOL_ERROR\t7\n#define BA_RJT_RSN_UNABLE_TO_PERFORM\t9\n#define BA_RJT_RSN_VENDOR_SPECIFIC\t0xff\n\n \n#define FC_TYPE_BLD\t\t0x000\t\t \n#define FC_F_CTL_RSP_CNTXT\t0x800000\t \n#define FC_F_CTL_LAST_SEQ\t0x100000\t \n#define FC_F_CTL_END_SEQ\t0x80000\t\t \n#define FC_F_CTL_SEQ_INIT\t0x010000\t \n#define FC_ROUTING_BLD\t\t0x80\t\t \n#define FC_R_CTL_BLD_BA_ACC\t0x04\t\t \n\n \nstruct device_reg_24xx {\n\t__le32\tflash_addr;\t\t \n#define FARX_DATA_FLAG\tBIT_31\n#define FARX_ACCESS_FLASH_CONF\t0x7FFD0000\n#define FARX_ACCESS_FLASH_DATA\t0x7FF00000\n#define FARX_ACCESS_NVRAM_CONF\t0x7FFF0000\n#define FARX_ACCESS_NVRAM_DATA\t0x7FFE0000\n\n#define FA_NVRAM_FUNC0_ADDR\t0x80\n#define FA_NVRAM_FUNC1_ADDR\t0x180\n\n#define FA_NVRAM_VPD_SIZE\t0x200\n#define FA_NVRAM_VPD0_ADDR\t0x00\n#define FA_NVRAM_VPD1_ADDR\t0x100\n\n#define FA_BOOT_CODE_ADDR\t0x00000\n\t\t\t\t\t \n#define FA_RISC_CODE_ADDR\t0x20000\n#define FA_RISC_CODE_SEGMENTS\t2\n\n#define FA_FLASH_DESCR_ADDR_24\t0x11000\n#define FA_FLASH_LAYOUT_ADDR_24\t0x11400\n#define FA_NPIV_CONF0_ADDR_24\t0x16000\n#define FA_NPIV_CONF1_ADDR_24\t0x17000\n\n#define FA_FW_AREA_ADDR\t\t0x40000\n#define FA_VPD_NVRAM_ADDR\t0x48000\n#define FA_FEATURE_ADDR\t\t0x4C000\n#define FA_FLASH_DESCR_ADDR\t0x50000\n#define FA_FLASH_LAYOUT_ADDR\t0x50400\n#define FA_HW_EVENT0_ADDR\t0x54000\n#define FA_HW_EVENT1_ADDR\t0x54400\n#define FA_HW_EVENT_SIZE\t0x200\n#define FA_HW_EVENT_ENTRY_SIZE\t4\n#define FA_NPIV_CONF0_ADDR\t0x5C000\n#define FA_NPIV_CONF1_ADDR\t0x5D000\n#define FA_FCP_PRIO0_ADDR\t0x10000\n#define FA_FCP_PRIO1_ADDR\t0x12000\n\n \n#define HW_EVENT_RESET_ERR\t0xF00B\n#define HW_EVENT_ISP_ERR\t0xF020\n#define HW_EVENT_PARITY_ERR\t0xF022\n#define HW_EVENT_NVRAM_CHKSUM_ERR\t0xF023\n#define HW_EVENT_FLASH_FW_ERR\t0xF024\n\n\t__le32\tflash_data;\t\t \n\n\t__le32\tctrl_status;\t\t \n#define CSRX_FLASH_ACCESS_ERROR\tBIT_18\t \n#define CSRX_DMA_ACTIVE\t\tBIT_17\t \n#define CSRX_DMA_SHUTDOWN\tBIT_16\t \n#define CSRX_FUNCTION\t\tBIT_15\t \n\t\t\t\t\t \n#define CSRX_PCIX_BUS_MODE_MASK\t(BIT_11|BIT_10|BIT_9|BIT_8)\n#define PBM_PCI_33MHZ\t\t(0 << 8)\n#define PBM_PCIX_M1_66MHZ\t(1 << 8)\n#define PBM_PCIX_M1_100MHZ\t(2 << 8)\n#define PBM_PCIX_M1_133MHZ\t(3 << 8)\n#define PBM_PCIX_M2_66MHZ\t(5 << 8)\n#define PBM_PCIX_M2_100MHZ\t(6 << 8)\n#define PBM_PCIX_M2_133MHZ\t(7 << 8)\n#define PBM_PCI_66MHZ\t\t(8 << 8)\n\t\t\t\t\t \n#define CSRX_MAX_WRT_BURST_MASK\t(BIT_5|BIT_4)\n#define MWB_512_BYTES\t\t(0 << 4)\n#define MWB_1024_BYTES\t\t(1 << 4)\n#define MWB_2048_BYTES\t\t(2 << 4)\n#define MWB_4096_BYTES\t\t(3 << 4)\n\n#define CSRX_64BIT_SLOT\t\tBIT_2\t \n#define CSRX_FLASH_ENABLE\tBIT_1\t \n#define CSRX_ISP_SOFT_RESET\tBIT_0\t \n\n\t__le32\tictrl;\t\t\t \n#define ICRX_EN_RISC_INT\tBIT_3\t \n\n\t__le32\tistatus;\t\t \n#define ISRX_RISC_INT\t\tBIT_3\t \n\n\t__le32\tunused_1[2];\t\t \n\n\t\t\t\t\t \n\t__le32\treq_q_in;\t\t \n\t__le32\treq_q_out;\t\t \n\t\t\t\t\t \n\t__le32\trsp_q_in;\t\t \n\t__le32\trsp_q_out;\t\t \n\t\t\t\t\t \n\t__le32\tpreq_q_in;\t\t \n\t__le32\tpreq_q_out;\t\t \n\n\t__le32\tunused_2[2];\t\t \n\n\t\t\t\t\t \n\t__le32\tatio_q_in;\t\t \n\t__le32\tatio_q_out;\t\t \n\n\t__le32\thost_status;\n#define HSRX_RISC_INT\t\tBIT_15\t \n#define HSRX_RISC_PAUSED\tBIT_8\t \n\n\t__le32\thccr;\t\t\t \n\t\t\t\t\t \n#define HCCRX_HOST_INT\t\tBIT_6\t \n#define HCCRX_RISC_RESET\tBIT_5\t \n\t\t\t\t\t \n\t\t\t\t\t \n#define HCCRX_NOOP\t\t0x00000000\n\t\t\t\t\t \n#define HCCRX_SET_RISC_RESET\t0x10000000\n\t\t\t\t\t \n#define HCCRX_CLR_RISC_RESET\t0x20000000\n\t\t\t\t\t \n#define HCCRX_SET_RISC_PAUSE\t0x30000000\n\t\t\t\t\t \n#define HCCRX_REL_RISC_PAUSE\t0x40000000\n\t\t\t\t\t \n#define HCCRX_SET_HOST_INT\t0x50000000\n\t\t\t\t\t \n#define HCCRX_CLR_HOST_INT\t0x60000000\n\t\t\t\t\t \n#define HCCRX_CLR_RISC_INT\t0xA0000000\n\n\t__le32\tgpiod;\t\t\t \n\n\t\t\t\t\t \n#define GPDX_LED_UPDATE_MASK\t(BIT_20|BIT_19|BIT_18)\n\t\t\t\t\t \n#define GPDX_DATA_UPDATE_MASK\t(BIT_17|BIT_16)\n\t\t\t\t\t \n#define GPDX_DATA_UPDATE_2_MASK\t(BIT_28|BIT_27|BIT_26|BIT_17|BIT_16)\n\t\t\t\t\t \n#define GPDX_LED_COLOR_MASK\t(BIT_4|BIT_3|BIT_2)\n\t\t\t\t\t \n#define GPDX_LED_YELLOW_ON\tBIT_2\n#define GPDX_LED_GREEN_ON\tBIT_3\n#define GPDX_LED_AMBER_ON\tBIT_4\n\t\t\t\t\t \n#define GPDX_DATA_INOUT\t\t(BIT_1|BIT_0)\n\n\t__le32\tgpioe;\t\t\t \n\t\t\t\t\t \n#define GPEX_ENABLE_UPDATE_MASK\t(BIT_17|BIT_16)\n\t\t\t\t\t \n#define GPEX_ENABLE_UPDATE_2_MASK (BIT_28|BIT_27|BIT_26|BIT_17|BIT_16)\n\t\t\t\t\t \n#define GPEX_ENABLE\t\t(BIT_1|BIT_0)\n\n\t__le32\tiobase_addr;\t\t \n\n\t__le32\tunused_3[10];\t\t \n\n\t__le16\tmailbox0;\n\t__le16\tmailbox1;\n\t__le16\tmailbox2;\n\t__le16\tmailbox3;\n\t__le16\tmailbox4;\n\t__le16\tmailbox5;\n\t__le16\tmailbox6;\n\t__le16\tmailbox7;\n\t__le16\tmailbox8;\n\t__le16\tmailbox9;\n\t__le16\tmailbox10;\n\t__le16\tmailbox11;\n\t__le16\tmailbox12;\n\t__le16\tmailbox13;\n\t__le16\tmailbox14;\n\t__le16\tmailbox15;\n\t__le16\tmailbox16;\n\t__le16\tmailbox17;\n\t__le16\tmailbox18;\n\t__le16\tmailbox19;\n\t__le16\tmailbox20;\n\t__le16\tmailbox21;\n\t__le16\tmailbox22;\n\t__le16\tmailbox23;\n\t__le16\tmailbox24;\n\t__le16\tmailbox25;\n\t__le16\tmailbox26;\n\t__le16\tmailbox27;\n\t__le16\tmailbox28;\n\t__le16\tmailbox29;\n\t__le16\tmailbox30;\n\t__le16\tmailbox31;\n\n\t__le32\tiobase_window;\n\t__le32\tiobase_c4;\n\t__le32\tiobase_c8;\n\t__le32\tunused_4_1[6];\t\t \n\t__le32\tiobase_q;\n\t__le32\tunused_5[2];\t\t \n\t__le32\tiobase_select;\n\t__le32\tunused_6[2];\t\t \n\t__le32\tiobase_sdata;\n};\n \n#define RISC_REGISTER_BASE_OFFSET\t0x7010\n#define RISC_REGISTER_WINDOW_OFFSET\t0x6\n\n \n\n#define RISC_SEMAPHORE\t\t0x1UL\n#define RISC_SEMAPHORE_WE\t(RISC_SEMAPHORE << 16)\n#define RISC_SEMAPHORE_CLR\t(RISC_SEMAPHORE_WE | 0x0UL)\n#define RISC_SEMAPHORE_SET\t(RISC_SEMAPHORE_WE | RISC_SEMAPHORE)\n\n#define RISC_SEMAPHORE_FORCE\t\t0x8000UL\n#define RISC_SEMAPHORE_FORCE_WE\t\t(RISC_SEMAPHORE_FORCE << 16)\n#define RISC_SEMAPHORE_FORCE_CLR\t(RISC_SEMAPHORE_FORCE_WE | 0x0UL)\n#define RISC_SEMAPHORE_FORCE_SET\t\\\n\t\t(RISC_SEMAPHORE_FORCE_WE | RISC_SEMAPHORE_FORCE)\n\n \n#define TIMEOUT_SEMAPHORE\t\t2500\n#define TIMEOUT_SEMAPHORE_FORCE\t\t2000\n#define TIMEOUT_TOTAL_ELAPSED\t\t4500\n\n \n\n#define TC_AEN_DISABLE\t\t0\n\n#define TC_EFT_ENABLE\t\t4\n#define TC_EFT_DISABLE\t\t5\n\n#define TC_FCE_ENABLE\t\t8\n#define TC_FCE_OPTIONS\t\t0\n#define TC_FCE_DEFAULT_RX_SIZE\t2112\n#define TC_FCE_DEFAULT_TX_SIZE\t2112\n#define TC_FCE_DISABLE\t\t9\n#define TC_FCE_DISABLE_TRACE\tBIT_0\n\n \n\n#define MIN_MULTI_ID_FABRIC\t64\t \n#define MAX_MULTI_ID_FABRIC\t256\t \n\nstruct mid_conf_entry_24xx {\n\tuint16_t reserved_1;\n\n\t \n\tuint8_t options;\n\n\tuint8_t hard_address;\n\n\tuint8_t port_name[WWN_SIZE];\n\tuint8_t node_name[WWN_SIZE];\n};\n\nstruct mid_init_cb_24xx {\n\tstruct init_cb_24xx init_cb;\n\n\t__le16\tcount;\n\t__le16\toptions;\n\n\tstruct mid_conf_entry_24xx entries[MAX_MULTI_ID_FABRIC];\n};\n\n\nstruct mid_db_entry_24xx {\n\tuint16_t status;\n#define MDBS_NON_PARTIC\t\tBIT_3\n#define MDBS_ID_ACQUIRED\tBIT_1\n#define MDBS_ENABLED\t\tBIT_0\n\n\tuint8_t options;\n\tuint8_t hard_address;\n\n\tuint8_t port_name[WWN_SIZE];\n\tuint8_t node_name[WWN_SIZE];\n\n\tuint8_t port_id[3];\n\tuint8_t reserved_1;\n};\n\n \n#define VP_CTRL_IOCB_TYPE\t0x30\t \nstruct vp_ctrl_entry_24xx {\n\tuint8_t entry_type;\t\t \n\tuint8_t entry_count;\t\t \n\tuint8_t sys_define;\t\t \n\tuint8_t entry_status;\t\t \n\n\tuint32_t handle;\t\t \n\n\t__le16\tvp_idx_failed;\n\n\t__le16\tcomp_status;\t\t \n#define CS_VCE_IOCB_ERROR       0x01     \n#define CS_VCE_ACQ_ID_ERROR\t0x02\t \n#define CS_VCE_BUSY\t\t0x05\t \n\n\t__le16\tcommand;\n#define VCE_COMMAND_ENABLE_VPS\t0x00\t \n#define VCE_COMMAND_DISABLE_VPS\t0x08\t \n#define VCE_COMMAND_DISABLE_VPS_REINIT\t0x09  \n#define VCE_COMMAND_DISABLE_VPS_LOGO\t0x0a  \n#define VCE_COMMAND_DISABLE_VPS_LOGO_ALL        0x0b  \n\n\t__le16\tvp_count;\n\n\tuint8_t vp_idx_map[16];\n\t__le16\tflags;\n\t__le16\tid;\n\tuint16_t reserved_4;\n\t__le16\thopct;\n\tuint8_t reserved_5[24];\n};\n\n \n#define VP_CONFIG_IOCB_TYPE\t0x31\t \nstruct vp_config_entry_24xx {\n\tuint8_t entry_type;\t\t \n\tuint8_t entry_count;\t\t \n\tuint8_t handle_count;\n\tuint8_t entry_status;\t\t \n\n\tuint32_t handle;\t\t \n\n\t__le16\tflags;\n#define CS_VF_BIND_VPORTS_TO_VF         BIT_0\n#define CS_VF_SET_QOS_OF_VPORTS         BIT_1\n#define CS_VF_SET_HOPS_OF_VPORTS        BIT_2\n\n\t__le16\tcomp_status;\t\t \n#define CS_VCT_STS_ERROR\t0x01\t \n#define CS_VCT_CNT_ERROR\t0x02\t \n#define CS_VCT_ERROR\t\t0x03\t \n#define CS_VCT_IDX_ERROR\t0x02\t \n#define CS_VCT_BUSY\t\t0x05\t \n\n\tuint8_t command;\n#define VCT_COMMAND_MOD_VPS     0x00     \n#define VCT_COMMAND_MOD_ENABLE_VPS 0x01  \n\n\tuint8_t vp_count;\n\n\tuint8_t vp_index1;\n\tuint8_t vp_index2;\n\n\tuint8_t options_idx1;\n\tuint8_t hard_address_idx1;\n\tuint16_t reserved_vp1;\n\tuint8_t port_name_idx1[WWN_SIZE];\n\tuint8_t node_name_idx1[WWN_SIZE];\n\n\tuint8_t options_idx2;\n\tuint8_t hard_address_idx2;\n\tuint16_t reserved_vp2;\n\tuint8_t port_name_idx2[WWN_SIZE];\n\tuint8_t node_name_idx2[WWN_SIZE];\n\t__le16\tid;\n\tuint16_t reserved_4;\n\t__le16\thopct;\n\tuint8_t reserved_5[2];\n};\n\n#define VP_RPT_ID_IOCB_TYPE\t0x32\t \nenum VP_STATUS {\n\tVP_STAT_COMPL,\n\tVP_STAT_FAIL,\n\tVP_STAT_ID_CHG,\n\tVP_STAT_SNS_TO,\t\t\t\t \n\tVP_STAT_SNS_RJT,\n\tVP_STAT_SCR_TO,\t\t\t\t \n\tVP_STAT_SCR_RJT,\n};\n\nenum VP_FLAGS {\n\tVP_FLAGS_CON_FLOOP = 1,\n\tVP_FLAGS_CON_P2P = 2,\n\tVP_FLAGS_CON_FABRIC = 3,\n\tVP_FLAGS_NAME_VALID = BIT_5,\n};\n\nstruct vp_rpt_id_entry_24xx {\n\tuint8_t entry_type;\t\t \n\tuint8_t entry_count;\t\t \n\tuint8_t sys_define;\t\t \n\tuint8_t entry_status;\t\t \n\t__le32 resv1;\n\tuint8_t vp_acquired;\n\tuint8_t vp_setup;\n\tuint8_t vp_idx;\t\t \n\tuint8_t vp_status;\t \n\n\tuint8_t port_id[3];\n\tuint8_t format;\n\tunion {\n\t\tstruct _f0 {\n\t\t\t \n\t\t\tuint8_t vp_idx_map[16];\n\t\t\tuint8_t reserved_4[32];\n\t\t} f0;\n\t\tstruct _f1 {\n\t\t\t \n\t\t\tuint8_t vpstat1_subcode;  \n\t\t\tuint8_t flags;\n#define TOPO_MASK  0xE\n#define TOPO_FL    0x2\n#define TOPO_N2N   0x4\n#define TOPO_F     0x6\n\n\t\t\tuint16_t fip_flags;\n\t\t\tuint8_t rsv2[12];\n\n\t\t\tuint8_t ls_rjt_vendor;\n\t\t\tuint8_t ls_rjt_explanation;\n\t\t\tuint8_t ls_rjt_reason;\n\t\t\tuint8_t rsv3[5];\n\n\t\t\tuint8_t port_name[8];\n\t\t\tuint8_t node_name[8];\n\t\t\tuint16_t bbcr;\n\t\t\tuint8_t reserved_5[6];\n\t\t} f1;\n\t\tstruct _f2 {  \n\t\t\tuint8_t vpstat1_subcode;\n\t\t\tuint8_t flags;\n\t\t\tuint16_t fip_flags;\n\t\t\tuint8_t rsv2[12];\n\n\t\t\tuint8_t ls_rjt_vendor;\n\t\t\tuint8_t ls_rjt_explanation;\n\t\t\tuint8_t ls_rjt_reason;\n\t\t\tuint8_t rsv3[5];\n\n\t\t\tuint8_t port_name[8];\n\t\t\tuint8_t node_name[8];\n\t\t\tuint16_t bbcr;\n\t\t\tuint8_t reserved_5[2];\n\t\t\tuint8_t remote_nport_id[4];\n\t\t} f2;\n\t} u;\n};\n\n#define VF_EVFP_IOCB_TYPE       0x26     \nstruct vf_evfp_entry_24xx {\n        uint8_t entry_type;              \n        uint8_t entry_count;             \n        uint8_t sys_define;              \n        uint8_t entry_status;            \n\n        uint32_t handle;                 \n        __le16\tcomp_status;            \n        __le16\ttimeout;                \n        __le16\tadim_tagging_mode;\n\n        __le16\tvfport_id;\n        uint32_t exch_addr;\n\n        __le16\tnport_handle;           \n        __le16\tcontrol_flags;\n        uint32_t io_parameter_0;\n        uint32_t io_parameter_1;\n\t__le64\t tx_address __packed;\t \n        uint32_t tx_len;                 \n\t__le64\t rx_address __packed;\t \n        uint32_t rx_len;                 \n};\n\n \n\n \n\nstruct qla_fdt_layout {\n\tuint8_t sig[4];\n\t__le16\tversion;\n\t__le16\tlen;\n\t__le16\tchecksum;\n\tuint8_t unused1[2];\n\tuint8_t model[16];\n\t__le16\tman_id;\n\t__le16\tid;\n\tuint8_t flags;\n\tuint8_t erase_cmd;\n\tuint8_t alt_erase_cmd;\n\tuint8_t wrt_enable_cmd;\n\tuint8_t wrt_enable_bits;\n\tuint8_t wrt_sts_reg_cmd;\n\tuint8_t unprotect_sec_cmd;\n\tuint8_t read_man_id_cmd;\n\t__le32 block_size;\n\t__le32 alt_block_size;\n\t__le32 flash_size;\n\t__le32 wrt_enable_data;\n\tuint8_t read_id_addr_len;\n\tuint8_t wrt_disable_bits;\n\tuint8_t read_dev_id_len;\n\tuint8_t chip_erase_cmd;\n\t__le16\tread_timeout;\n\tuint8_t protect_sec_cmd;\n\tuint8_t unused2[65];\n};\n\n \n\nstruct qla_flt_location {\n\tuint8_t sig[4];\n\t__le16\tstart_lo;\n\t__le16\tstart_hi;\n\tuint8_t version;\n\tuint8_t unused[5];\n\t__le16\tchecksum;\n};\n\n#define FLT_REG_FW\t\t0x01\n#define FLT_REG_BOOT_CODE\t0x07\n#define FLT_REG_VPD_0\t\t0x14\n#define FLT_REG_NVRAM_0\t\t0x15\n#define FLT_REG_VPD_1\t\t0x16\n#define FLT_REG_NVRAM_1\t\t0x17\n#define FLT_REG_VPD_2\t\t0xD4\n#define FLT_REG_NVRAM_2\t\t0xD5\n#define FLT_REG_VPD_3\t\t0xD6\n#define FLT_REG_NVRAM_3\t\t0xD7\n#define FLT_REG_FDT\t\t0x1a\n#define FLT_REG_FLT\t\t0x1c\n#define FLT_REG_HW_EVENT_0\t0x1d\n#define FLT_REG_HW_EVENT_1\t0x1f\n#define FLT_REG_NPIV_CONF_0\t0x29\n#define FLT_REG_NPIV_CONF_1\t0x2a\n#define FLT_REG_GOLD_FW\t\t0x2f\n#define FLT_REG_FCP_PRIO_0\t0x87\n#define FLT_REG_FCP_PRIO_1\t0x88\n#define FLT_REG_CNA_FW\t\t0x97\n#define FLT_REG_BOOT_CODE_8044\t0xA2\n#define FLT_REG_FCOE_FW\t\t0xA4\n#define FLT_REG_FCOE_NVRAM_0\t0xAA\n#define FLT_REG_FCOE_NVRAM_1\t0xAC\n\n \n#define FLT_REG_IMG_PRI_27XX\t0x95\n#define FLT_REG_IMG_SEC_27XX\t0x96\n#define FLT_REG_FW_SEC_27XX\t0x02\n#define FLT_REG_BOOTLOAD_SEC_27XX\t0x9\n#define FLT_REG_VPD_SEC_27XX_0\t0x50\n#define FLT_REG_VPD_SEC_27XX_1\t0x52\n#define FLT_REG_VPD_SEC_27XX_2\t0xD8\n#define FLT_REG_VPD_SEC_27XX_3\t0xDA\n#define FLT_REG_NVME_PARAMS_27XX\t0x21\n\n \n#define FLT_REG_AUX_IMG_PRI_28XX\t0x125\n#define FLT_REG_AUX_IMG_SEC_28XX\t0x126\n#define FLT_REG_VPD_SEC_28XX_0\t\t0x10C\n#define FLT_REG_VPD_SEC_28XX_1\t\t0x10E\n#define FLT_REG_VPD_SEC_28XX_2\t\t0x110\n#define FLT_REG_VPD_SEC_28XX_3\t\t0x112\n#define FLT_REG_NVRAM_SEC_28XX_0\t0x10D\n#define FLT_REG_NVRAM_SEC_28XX_1\t0x10F\n#define FLT_REG_NVRAM_SEC_28XX_2\t0x111\n#define FLT_REG_NVRAM_SEC_28XX_3\t0x113\n#define FLT_REG_MPI_PRI_28XX\t\t0xD3\n#define FLT_REG_MPI_SEC_28XX\t\t0xF0\n#define FLT_REG_PEP_PRI_28XX\t\t0xD1\n#define FLT_REG_PEP_SEC_28XX\t\t0xF1\n#define FLT_REG_NVME_PARAMS_PRI_28XX\t0x14E\n#define FLT_REG_NVME_PARAMS_SEC_28XX\t0x179\n\nstruct qla_flt_region {\n\t__le16\tcode;\n\tuint8_t attribute;\n\tuint8_t reserved;\n\t__le32 size;\n\t__le32 start;\n\t__le32 end;\n};\n\nstruct qla_flt_header {\n\t__le16\tversion;\n\t__le16\tlength;\n\t__le16\tchecksum;\n\t__le16\tunused;\n\tstruct qla_flt_region region[];\n};\n\n#define FLT_REGION_SIZE\t\t16\n#define FLT_MAX_REGIONS\t\t0xFF\n#define FLT_REGIONS_SIZE\t(FLT_REGION_SIZE * FLT_MAX_REGIONS)\n\n \n\nstruct qla_npiv_header {\n\tuint8_t sig[2];\n\t__le16\tversion;\n\t__le16\tentries;\n\t__le16\tunused[4];\n\t__le16\tchecksum;\n};\n\nstruct qla_npiv_entry {\n\t__le16\tflags;\n\t__le16\tvf_id;\n\tuint8_t q_qos;\n\tuint8_t f_qos;\n\t__le16\tunused1;\n\tuint8_t port_name[WWN_SIZE];\n\tuint8_t node_name[WWN_SIZE];\n};\n\n \n\n#define MBA_ISP84XX_ALERT\t0x800f   \n#define A84_PANIC_RECOVERY\t0x1\n#define A84_OP_LOGIN_COMPLETE\t0x2\n#define A84_DIAG_LOGIN_COMPLETE\t0x3\n#define A84_GOLD_LOGIN_COMPLETE\t0x4\n\n#define MBC_ISP84XX_RESET\t0x3a     \n\n#define FSTATE_REMOTE_FC_DOWN\tBIT_0\n#define FSTATE_NSL_LINK_DOWN\tBIT_1\n#define FSTATE_IS_DIAG_FW\tBIT_2\n#define FSTATE_LOGGED_IN\tBIT_3\n#define FSTATE_WAITING_FOR_VERIFY\tBIT_4\n\n#define VERIFY_CHIP_IOCB_TYPE\t0x1B\nstruct verify_chip_entry_84xx {\n\tuint8_t entry_type;\n\tuint8_t entry_count;\n\tuint8_t sys_defined;\n\tuint8_t entry_status;\n\n\tuint32_t handle;\n\n\t__le16\toptions;\n#define VCO_DONT_UPDATE_FW\tBIT_0\n#define VCO_FORCE_UPDATE\tBIT_1\n#define VCO_DONT_RESET_UPDATE\tBIT_2\n#define VCO_DIAG_FW\t\tBIT_3\n#define VCO_END_OF_DATA\t\tBIT_14\n#define VCO_ENABLE_DSD\t\tBIT_15\n\n\t__le16\treserved_1;\n\n\t__le16\tdata_seg_cnt;\n\t__le16\treserved_2[3];\n\n\t__le32\tfw_ver;\n\t__le32\texchange_address;\n\n\t__le32 reserved_3[3];\n\t__le32\tfw_size;\n\t__le32\tfw_seq_size;\n\t__le32\trelative_offset;\n\n\tstruct dsd64 dsd;\n};\n\nstruct verify_chip_rsp_84xx {\n\tuint8_t entry_type;\n\tuint8_t entry_count;\n\tuint8_t sys_defined;\n\tuint8_t entry_status;\n\n\tuint32_t handle;\n\n\t__le16\tcomp_status;\n#define CS_VCS_CHIP_FAILURE\t0x3\n#define CS_VCS_BAD_EXCHANGE\t0x8\n#define CS_VCS_SEQ_COMPLETEi\t0x40\n\n\t__le16\tfailure_code;\n#define VFC_CHECKSUM_ERROR\t0x1\n#define VFC_INVALID_LEN\t\t0x2\n#define VFC_ALREADY_IN_PROGRESS\t0x8\n\n\t__le16\treserved_1[4];\n\n\t__le32\tfw_ver;\n\t__le32\texchange_address;\n\n\t__le32 reserved_2[6];\n};\n\n#define ACCESS_CHIP_IOCB_TYPE\t0x2B\nstruct access_chip_84xx {\n\tuint8_t entry_type;\n\tuint8_t entry_count;\n\tuint8_t sys_defined;\n\tuint8_t entry_status;\n\n\tuint32_t handle;\n\n\t__le16\toptions;\n#define ACO_DUMP_MEMORY\t\t0x0\n#define ACO_LOAD_MEMORY\t\t0x1\n#define ACO_CHANGE_CONFIG_PARAM\t0x2\n#define ACO_REQUEST_INFO\t0x3\n\n\t__le16\treserved1;\n\n\t__le16\tdseg_count;\n\t__le16\treserved2[3];\n\n\t__le32\tparameter1;\n\t__le32\tparameter2;\n\t__le32\tparameter3;\n\n\t__le32\treserved3[3];\n\t__le32\ttotal_byte_cnt;\n\t__le32\treserved4;\n\n\tstruct dsd64 dsd;\n};\n\nstruct access_chip_rsp_84xx {\n\tuint8_t entry_type;\n\tuint8_t entry_count;\n\tuint8_t sys_defined;\n\tuint8_t entry_status;\n\n\tuint32_t handle;\n\n\t__le16\tcomp_status;\n\t__le16\tfailure_code;\n\t__le32\tresidual_count;\n\n\t__le32\treserved[12];\n};\n\n \n\n#define MBA_DCBX_START\t\t0x8016\n#define MBA_DCBX_COMPLETE\t0x8030\n#define MBA_FCF_CONF_ERR\t0x8031\n#define MBA_DCBX_PARAM_UPDATE\t0x8032\n#define MBA_IDC_COMPLETE\t0x8100\n#define MBA_IDC_NOTIFY\t\t0x8101\n#define MBA_IDC_TIME_EXT\t0x8102\n\n#define MBC_IDC_ACK\t\t0x101\n#define MBC_RESTART_MPI_FW\t0x3d\n#define MBC_FLASH_ACCESS_CTRL\t0x3e\t \n#define MBC_GET_XGMAC_STATS\t0x7a\n#define MBC_GET_DCBX_PARAMS\t0x51\n\n \n#define MBC_WRITE_REMOTE_REG\t\t0x0001  \n#define MBC_READ_REMOTE_REG\t\t0x0009  \n#define MBC_RESTART_NIC_FIRMWARE\t0x003d  \n#define MBC_SET_ACCESS_CONTROL\t\t0x003e  \n\n \n#define FAC_OPT_FORCE_SEMAPHORE\t\tBIT_15\n#define FAC_OPT_REQUESTOR_ID\t\tBIT_14\n#define FAC_OPT_CMD_SUBCODE\t\t0xff\n\n \n#define FAC_OPT_CMD_WRITE_PROTECT\t0x00\n#define FAC_OPT_CMD_WRITE_ENABLE\t0x01\n#define FAC_OPT_CMD_ERASE_SECTOR\t0x02\n#define FAC_OPT_CMD_LOCK_SEMAPHORE\t0x03\n#define FAC_OPT_CMD_UNLOCK_SEMAPHORE\t0x04\n#define FAC_OPT_CMD_GET_SECTOR_SIZE\t0x05\n\n \n#define NEF_LR_DIST_ENABLE\tBIT_0\n\n \n#define LR_DIST_NV_POS\t\t2\n#define LR_DIST_NV_MASK\t\t0xf\n#define LR_DIST_FW_POS\t\t12\n\n \n#define FAC_SEMAPHORE_UNLOCK    0\n#define FAC_SEMAPHORE_LOCK      1\n\nstruct nvram_81xx {\n\t \n\tuint8_t id[4];\n\t__le16\tnvram_version;\n\t__le16\treserved_0;\n\n\t \n\t__le16\tversion;\n\t__le16\treserved_1;\n\t__le16\tframe_payload_size;\n\t__le16\texecution_throttle;\n\t__le16\texchange_count;\n\t__le16\treserved_2;\n\n\tuint8_t port_name[WWN_SIZE];\n\tuint8_t node_name[WWN_SIZE];\n\n\t__le16\tlogin_retry_count;\n\t__le16\treserved_3;\n\t__le16\tinterrupt_delay_timer;\n\t__le16\tlogin_timeout;\n\n\t__le32\tfirmware_options_1;\n\t__le32\tfirmware_options_2;\n\t__le32\tfirmware_options_3;\n\n\t__le16\treserved_4[4];\n\n\t \n\tuint8_t enode_mac[6];\n\t__le16\treserved_5[5];\n\n\t \n\t__le16\treserved_6[24];\n\n\t \n\t__le16\tex_version;\n\tuint8_t prio_fcf_matching_flags;\n\tuint8_t reserved_6_1[3];\n\t__le16\tpri_fcf_vlan_id;\n\tuint8_t pri_fcf_fabric_name[8];\n\t__le16\treserved_6_2[7];\n\tuint8_t spma_mac_addr[6];\n\t__le16\treserved_6_3[14];\n\n\t \n\tuint8_t min_supported_speed;\n\tuint8_t reserved_7_0;\n\t__le16\treserved_7[31];\n\n\t \n\t__le32\thost_p;\n\n\tuint8_t alternate_port_name[WWN_SIZE];\n\tuint8_t alternate_node_name[WWN_SIZE];\n\n\tuint8_t boot_port_name[WWN_SIZE];\n\t__le16\tboot_lun_number;\n\t__le16\treserved_8;\n\n\tuint8_t alt1_boot_port_name[WWN_SIZE];\n\t__le16\talt1_boot_lun_number;\n\t__le16\treserved_9;\n\n\tuint8_t alt2_boot_port_name[WWN_SIZE];\n\t__le16\talt2_boot_lun_number;\n\t__le16\treserved_10;\n\n\tuint8_t alt3_boot_port_name[WWN_SIZE];\n\t__le16\talt3_boot_lun_number;\n\t__le16\treserved_11;\n\n\t \n\t__le32\tefi_parameters;\n\n\tuint8_t reset_delay;\n\tuint8_t reserved_12;\n\t__le16\treserved_13;\n\n\t__le16\tboot_id_number;\n\t__le16\treserved_14;\n\n\t__le16\tmax_luns_per_target;\n\t__le16\treserved_15;\n\n\t__le16\tport_down_retry_count;\n\t__le16\tlink_down_timeout;\n\n\t \n\t__le16\tfcode_parameter;\n\n\t__le16\treserved_16[3];\n\n\t \n\tuint8_t reserved_17[4];\n\t__le16\treserved_18[5];\n\tuint8_t reserved_19[2];\n\t__le16\treserved_20[8];\n\n\t \n\tuint8_t reserved_21[16];\n\t__le16\treserved_22[3];\n\n\t \n\tuint16_t enhanced_features;\n\n\tuint16_t reserved_24[4];\n\n\t \n\t__le16\treserved_25[32];\n\n\t \n\tuint8_t model_name[16];\n\n\t \n\t__le16\tfeature_mask_l;\n\t__le16\tfeature_mask_h;\n\t__le16\treserved_26[2];\n\n\t__le16\tsubsystem_vendor_id;\n\t__le16\tsubsystem_device_id;\n\n\t__le32\tchecksum;\n};\n\n \n#define\tICB_VERSION 1\nstruct init_cb_81xx {\n\t__le16\tversion;\n\t__le16\treserved_1;\n\n\t__le16\tframe_payload_size;\n\t__le16\texecution_throttle;\n\t__le16\texchange_count;\n\n\t__le16\treserved_2;\n\n\tuint8_t port_name[WWN_SIZE];\t\t \n\tuint8_t node_name[WWN_SIZE];\t\t \n\n\t__le16\tresponse_q_inpointer;\n\t__le16\trequest_q_outpointer;\n\n\t__le16\tlogin_retry_count;\n\n\t__le16\tprio_request_q_outpointer;\n\n\t__le16\tresponse_q_length;\n\t__le16\trequest_q_length;\n\n\t__le16\treserved_3;\n\n\t__le16\tprio_request_q_length;\n\n\t__le64\t request_q_address __packed;\n\t__le64\t response_q_address __packed;\n\t__le64\t prio_request_q_address __packed;\n\n\tuint8_t reserved_4[8];\n\n\t__le16\tatio_q_inpointer;\n\t__le16\tatio_q_length;\n\t__le64\t atio_q_address __packed;\n\n\t__le16\tinterrupt_delay_timer;\t\t \n\t__le16\tlogin_timeout;\n\n\t \n\t__le32\tfirmware_options_1;\n\n\t \n\t__le32\tfirmware_options_2;\n\n\t \n\t__le32\tfirmware_options_3;\n\n\tuint8_t  reserved_5[8];\n\n\tuint8_t enode_mac[6];\n\n\tuint8_t reserved_6[10];\n};\n\nstruct mid_init_cb_81xx {\n\tstruct init_cb_81xx init_cb;\n\n\tuint16_t count;\n\tuint16_t options;\n\n\tstruct mid_conf_entry_24xx entries[MAX_MULTI_ID_FABRIC];\n};\n\nstruct ex_init_cb_81xx {\n\tuint16_t ex_version;\n\tuint8_t prio_fcf_matching_flags;\n\tuint8_t reserved_1[3];\n\tuint16_t pri_fcf_vlan_id;\n\tuint8_t pri_fcf_fabric_name[8];\n\tuint16_t reserved_2[7];\n\tuint8_t spma_mac_addr[6];\n\tuint16_t reserved_3[14];\n};\n\n#define FARX_ACCESS_FLASH_CONF_81XX\t0x7FFD0000\n#define FARX_ACCESS_FLASH_DATA_81XX\t0x7F800000\n#define FARX_ACCESS_FLASH_CONF_28XX\t0x7FFD0000\n#define FARX_ACCESS_FLASH_DATA_28XX\t0x7F7D0000\n\n \n \n#define QLFC_FCP_PRIO_DISABLE           0x0\n#define QLFC_FCP_PRIO_ENABLE            0x1\n#define QLFC_FCP_PRIO_GET_CONFIG        0x2\n#define QLFC_FCP_PRIO_SET_CONFIG        0x3\n\nstruct qla_fcp_prio_entry {\n\tuint16_t flags;          \n\t \n#define FCP_PRIO_ENTRY_VALID            0x1\n#define FCP_PRIO_ENTRY_TAG_VALID        0x2\n#define FCP_PRIO_ENTRY_SPID_VALID       0x4\n#define FCP_PRIO_ENTRY_DPID_VALID       0x8\n#define FCP_PRIO_ENTRY_LUNB_VALID       0x10\n#define FCP_PRIO_ENTRY_LUNE_VALID       0x20\n#define FCP_PRIO_ENTRY_SWWN_VALID       0x40\n#define FCP_PRIO_ENTRY_DWWN_VALID       0x80\n\tuint8_t  tag;            \n\tuint8_t  reserved;       \n\tuint32_t src_pid;        \n\t\t\t\t \n\tuint32_t dst_pid;        \n\t \n\tuint16_t lun_beg;        \n\t\t\t\t \n\tuint16_t lun_end;        \n\t\t\t\t \n\tuint8_t  src_wwpn[8];    \n\tuint8_t  dst_wwpn[8];    \n};\n\nstruct qla_fcp_prio_cfg {\n\tuint8_t  signature[4];   \n\tuint16_t version;        \n\tuint16_t length;         \n\tuint16_t checksum;       \n\tuint16_t num_entries;    \n\tuint16_t size_of_entry;  \n\tuint8_t  attributes;     \n#define FCP_PRIO_ATTR_DISABLE   0x0\n#define FCP_PRIO_ATTR_ENABLE    0x1\n#define FCP_PRIO_ATTR_PERSIST   0x2\n\tuint8_t  reserved;       \n#define FCP_PRIO_CFG_HDR_SIZE   offsetof(struct qla_fcp_prio_cfg, entry)\n\tstruct qla_fcp_prio_entry entry[1023];  \n\tuint8_t  reserved2[16];\n};\n\n#define FCP_PRIO_CFG_SIZE       (32*1024)  \n\n \n#define FA_FCP_PRIO0_ADDR_25\t0x3C000\n#define FA_FCP_PRIO1_ADDR_25\t0x3E000\n\n \n#define FA_BOOT_CODE_ADDR_81\t0x80000\n#define FA_RISC_CODE_ADDR_81\t0xA0000\n#define FA_FW_AREA_ADDR_81\t0xC0000\n#define FA_VPD_NVRAM_ADDR_81\t0xD0000\n#define FA_VPD0_ADDR_81\t\t0xD0000\n#define FA_VPD1_ADDR_81\t\t0xD0400\n#define FA_NVRAM0_ADDR_81\t0xD0080\n#define FA_NVRAM1_ADDR_81\t0xD0180\n#define FA_FEATURE_ADDR_81\t0xD4000\n#define FA_FLASH_DESCR_ADDR_81\t0xD8000\n#define FA_FLASH_LAYOUT_ADDR_81\t0xD8400\n#define FA_HW_EVENT0_ADDR_81\t0xDC000\n#define FA_HW_EVENT1_ADDR_81\t0xDC400\n#define FA_NPIV_CONF0_ADDR_81\t0xD1000\n#define FA_NPIV_CONF1_ADDR_81\t0xD2000\n\n \n#define FA_FLASH_LAYOUT_ADDR_83\t(0x3F1000/4)\n#define FA_FLASH_LAYOUT_ADDR_28\t(0x11000/4)\n\n#define NVRAM_DUAL_FCP_NVME_FLAG_OFFSET\t0x196\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}