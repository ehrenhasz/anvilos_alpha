{
  "module_name": "qla_edif_bsg.h",
  "hash_id": "ac3dff8aff32732acc450e9f669eab93e5d6dd9fe19b3808f08b5036002d5fea",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/qla2xxx/qla_edif_bsg.h",
  "human_readable_source": " \n \n#ifndef __QLA_EDIF_BSG_H\n#define __QLA_EDIF_BSG_H\n\n#define EDIF_VERSION1 1\n\n \n#define\tELS_MAX_PAYLOAD\t\t2112\n#ifndef\tWWN_SIZE\n#define WWN_SIZE\t\t8\n#endif\n#define VND_CMD_APP_RESERVED_SIZE\t28\n#define VND_CMD_PAD_SIZE                3\nenum auth_els_sub_cmd {\n\tSEND_ELS = 0,\n\tSEND_ELS_REPLY,\n\tPULL_ELS,\n};\n\nstruct extra_auth_els {\n\tenum auth_els_sub_cmd sub_cmd;\n\tuint32_t        extra_rx_xchg_address;\n\tuint8_t         extra_control_flags;\n#define BSG_CTL_FLAG_INIT       0\n#define BSG_CTL_FLAG_LS_ACC     1\n#define BSG_CTL_FLAG_LS_RJT     2\n#define BSG_CTL_FLAG_TRM        3\n\tuint8_t\t\tversion;\n\tuint8_t\t\tpad[2];\n\tuint8_t\t\treserved[VND_CMD_APP_RESERVED_SIZE];\n} __packed;\n\nstruct qla_bsg_auth_els_request {\n\tstruct fc_bsg_request r;\n\tstruct extra_auth_els e;\n};\n\nstruct qla_bsg_auth_els_reply {\n\tstruct fc_bsg_reply r;\n\tuint32_t rx_xchg_address;\n\tuint8_t version;\n\tuint8_t pad[VND_CMD_PAD_SIZE];\n\tuint8_t reserved[VND_CMD_APP_RESERVED_SIZE];\n};\n\nstruct app_id {\n\tint\t\tapp_vid;\n\tuint8_t\t\tversion;\n\tuint8_t\t\tpad[VND_CMD_PAD_SIZE];\n\tuint8_t\t\treserved[VND_CMD_APP_RESERVED_SIZE];\n} __packed;\n\nstruct app_start_reply {\n\tuint32_t\thost_support_edif;\n\tuint32_t\tedif_enode_active;\n\tuint32_t\tedif_edb_active;\n\tuint8_t\t\tversion;\n\tuint8_t\t\tpad[VND_CMD_PAD_SIZE];\n\tuint8_t\t\treserved[VND_CMD_APP_RESERVED_SIZE];\n} __packed;\n\nstruct app_start {\n\tstruct app_id\tapp_info;\n\tuint8_t         app_start_flags;\n\tuint8_t\t\tversion;\n\tuint8_t\t\tpad[2];\n\tuint8_t\t\treserved[VND_CMD_APP_RESERVED_SIZE];\n} __packed;\n\nstruct app_stop {\n\tstruct app_id\tapp_info;\n\tuint8_t\t\tversion;\n\tuint8_t\t\tpad[VND_CMD_PAD_SIZE];\n\tuint8_t\t\treserved[VND_CMD_APP_RESERVED_SIZE];\n} __packed;\n\nstruct app_plogi_reply {\n\tuint32_t\tprli_status;\n\tuint8_t\t\tversion;\n\tuint8_t\t\tpad[VND_CMD_PAD_SIZE];\n\tuint8_t\t\treserved[VND_CMD_APP_RESERVED_SIZE];\n} __packed;\n\nstruct app_pinfo_req {\n\tstruct app_id app_info;\n\tuint8_t\t num_ports;\n\tstruct {\n#ifdef __BIG_ENDIAN\n\t\tuint8_t domain;\n\t\tuint8_t area;\n\t\tuint8_t al_pa;\n#elif defined(__LITTLE_ENDIAN)\n\t\tuint8_t al_pa;\n\t\tuint8_t area;\n\t\tuint8_t domain;\n#else\n#error \"__BIG_ENDIAN or __LITTLE_ENDIAN must be defined!\"\n#endif\n\t\tuint8_t rsvd_1;\n\t} remote_pid;\n\tuint8_t\t\tversion;\n\tuint8_t\t\tpad[VND_CMD_PAD_SIZE];\n\tuint8_t\t\treserved[VND_CMD_APP_RESERVED_SIZE];\n} __packed;\n\nstruct app_pinfo {\n\tport_id_t remote_pid;\n\tuint8_t\tremote_wwpn[WWN_SIZE];\n\tuint8_t\tremote_type;\n#define\tVND_CMD_RTYPE_UNKNOWN\t\t0\n#define\tVND_CMD_RTYPE_TARGET\t\t1\n#define\tVND_CMD_RTYPE_INITIATOR\t\t2\n\tuint8_t\tremote_state;\n\tuint8_t\tauth_state;\n\tuint8_t\tversion;\n\tuint8_t\tpad[VND_CMD_PAD_SIZE];\n\tuint8_t\treserved[VND_CMD_APP_RESERVED_SIZE];\n} __packed;\n\n \n#define\tVND_CMD_AUTH_STATE_UNDEF\t0\n#define\tVND_CMD_AUTH_STATE_SESSION_SHUTDOWN\t1\n#define\tVND_CMD_AUTH_STATE_NEEDED\t2\n#define\tVND_CMD_AUTH_STATE_ELS_RCVD\t3\n#define\tVND_CMD_AUTH_STATE_SAUPDATE_COMPL 4\n\nstruct app_pinfo_reply {\n\tuint8_t\t\tport_count;\n\tuint8_t\t\tversion;\n\tuint8_t\t\tpad[VND_CMD_PAD_SIZE];\n\tuint8_t\t\treserved[VND_CMD_APP_RESERVED_SIZE];\n\tstruct app_pinfo ports[];\n} __packed;\n\nstruct app_sinfo_req {\n\tstruct app_id\tapp_info;\n\tuint8_t\t\tnum_ports;\n\tuint8_t\t\tversion;\n\tuint8_t\t\tpad[VND_CMD_PAD_SIZE];\n\tuint8_t\t\treserved[VND_CMD_APP_RESERVED_SIZE];\n} __packed;\n\nstruct app_sinfo {\n\tuint8_t\tremote_wwpn[WWN_SIZE];\n\tint64_t\trekey_count;\n\tuint8_t\trekey_mode;\n\tint64_t\ttx_bytes;\n\tint64_t\trx_bytes;\n} __packed;\n\nstruct app_stats_reply {\n\tuint8_t\t\telem_count;\n\tuint8_t\t\tversion;\n\tuint8_t\t\tpad[VND_CMD_PAD_SIZE];\n\tuint8_t\t\treserved[VND_CMD_APP_RESERVED_SIZE];\n\tstruct app_sinfo elem[];\n} __packed;\n\nstruct qla_sa_update_frame {\n\tstruct app_id\tapp_info;\n\tuint16_t\tflags;\n#define SAU_FLG_INV\t\t0x01\t \n#define SAU_FLG_TX\t\t0x02\t \n#define SAU_FLG_FORCE_DELETE\t0x08\n#define SAU_FLG_GMAC_MODE\t0x20\t \n#define SAU_FLG_KEY128          0x40\n#define SAU_FLG_KEY256          0x80\n\tuint16_t        fast_sa_index:10,\n\t\t\treserved:6;\n\tuint32_t\tsalt;\n\tuint32_t\tspi;\n\tuint8_t\t\tsa_key[32];\n\tuint8_t\t\tnode_name[WWN_SIZE];\n\tuint8_t\t\tport_name[WWN_SIZE];\n\tport_id_t\tport_id;\n\tuint8_t\t\tversion;\n\tuint8_t\t\tpad[VND_CMD_PAD_SIZE];\n\tuint8_t\t\treserved2[VND_CMD_APP_RESERVED_SIZE];\n} __packed;\n\n#define\tQL_VND_SC_UNDEF\t\t0\n#define\tQL_VND_SC_SA_UPDATE\t1\n#define\tQL_VND_SC_APP_START\t2\n#define\tQL_VND_SC_APP_STOP\t3\n#define\tQL_VND_SC_AUTH_OK\t4\n#define\tQL_VND_SC_AUTH_FAIL\t5\n#define\tQL_VND_SC_REKEY_CONFIG\t6\n#define\tQL_VND_SC_GET_FCINFO\t7\n#define\tQL_VND_SC_GET_STATS\t8\n#define QL_VND_SC_AEN_COMPLETE  9\n#define QL_VND_SC_READ_DBELL\t10\n\n \nstruct edif_read_dbell {\n\tstruct app_id app_info;\n\tuint8_t version;\n\tuint8_t pad[VND_CMD_PAD_SIZE];\n\tuint8_t reserved[VND_CMD_APP_RESERVED_SIZE];\n};\n\n\n \n#define\tEXT_DEF_EVENT_DATA_SIZE\t64\nstruct edif_app_dbell {\n\tuint32_t\tevent_code;\n\tuint32_t\tevent_data_size;\n\tunion  {\n\t\tport_id_t\tport_id;\n\t\tuint8_t\t\tevent_data[EXT_DEF_EVENT_DATA_SIZE];\n\t};\n} __packed;\n\nstruct edif_sa_update_aen {\n\tport_id_t port_id;\n\tuint32_t key_type;\t \n\tuint32_t status;\t \n\tuint8_t\tversion;\n\tuint8_t\tpad[VND_CMD_PAD_SIZE];\n\tuint8_t\treserved[VND_CMD_APP_RESERVED_SIZE];\n} __packed;\n\n#define\tQL_VND_SA_STAT_SUCCESS\t0\n#define\tQL_VND_SA_STAT_FAILED\t1\n#define\tQL_VND_SA_STAT_TIMEOUT\t2\n#define\tQL_VND_SA_STAT_ERROR\t3\n\n#define\tQL_VND_RX_SA_KEY\t1\n#define\tQL_VND_TX_SA_KEY\t2\n\n \nstruct auth_complete_cmd {\n\tstruct app_id app_info;\n#define PL_TYPE_WWPN    1\n#define PL_TYPE_DID     2\n\tuint32_t    type;\n\tunion {\n\t\tuint8_t  wwpn[WWN_SIZE];\n\t\tport_id_t d_id;\n\t} u;\n\tuint8_t\tversion;\n\tuint8_t\tpad[VND_CMD_PAD_SIZE];\n\tuint8_t\treserved[VND_CMD_APP_RESERVED_SIZE];\n} __packed;\n\nstruct aen_complete_cmd {\n\tstruct app_id app_info;\n\tport_id_t   port_id;\n\tuint32_t    event_code;\n\tuint8_t     version;\n\tuint8_t     pad[VND_CMD_PAD_SIZE];\n\tuint8_t     reserved[VND_CMD_APP_RESERVED_SIZE];\n} __packed;\n\n#define RX_DELAY_DELETE_TIMEOUT 20\n\n#define FCH_EVT_VENDOR_UNIQUE_VPORT_DOWN  1\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}