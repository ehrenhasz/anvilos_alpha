{
  "module_name": "nsp_io.h",
  "hash_id": "30df4895c9e2f8f9cfe96258b1fc3615b16207ca5f8d9ed57cc6e280a930ce8e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/pcmcia/nsp_io.h",
  "human_readable_source": " \n\n \n\n#ifndef __NSP_IO_H__\n#define __NSP_IO_H__\n\nstatic inline          void nsp_write(unsigned int base,\n\t\t\t\t      unsigned int index,\n\t\t\t\t      unsigned char val);\nstatic inline unsigned char nsp_read(unsigned int base,\n\t\t\t\t     unsigned int index);\nstatic inline          void nsp_index_write(unsigned int BaseAddr,\n\t\t\t\t\t    unsigned int Register,\n\t\t\t\t\t    unsigned char Value);\nstatic inline unsigned char nsp_index_read(unsigned int BaseAddr,\n\t\t\t\t\t   unsigned int Register);\n\n \n\nstatic inline void nsp_write(unsigned int  base,\n\t\t\t     unsigned int  index,\n\t\t\t     unsigned char val)\n{\n\toutb(val, (base + index));\n}\n\nstatic inline unsigned char nsp_read(unsigned int base,\n\t\t\t\t     unsigned int index)\n{\n\treturn inb(base + index);\n}\n\n\n \nstatic inline unsigned char nsp_index_read(unsigned int BaseAddr,\n\t\t\t\t\t   unsigned int Register)\n{\n\toutb(Register, BaseAddr + INDEXREG);\n\treturn inb(BaseAddr + DATAREG);\n}\n\nstatic inline void nsp_index_write(unsigned int  BaseAddr,\n\t\t\t\t   unsigned int  Register,\n\t\t\t\t   unsigned char Value)\n{\n\toutb(Register, BaseAddr + INDEXREG);\n\toutb(Value, BaseAddr + DATAREG);\n}\n\n \n\n \nstatic inline void nsp_multi_read_1(unsigned int   BaseAddr,\n\t\t\t\t    unsigned int   Register,\n\t\t\t\t    void          *buf,\n\t\t\t\t    unsigned long  count)\n{\n\tinsb(BaseAddr + Register, buf, count);\n}\n\nstatic inline void nsp_fifo8_read(unsigned int   base,\n\t\t\t\t  void          *buf,\n\t\t\t\t  unsigned long  count)\n{\n\t \n\tnsp_multi_read_1(base, FIFODATA, buf, count);\n}\n\n \n\n \nstatic inline void nsp_multi_read_2(unsigned int   BaseAddr,\n\t\t\t\t    unsigned int   Register,\n\t\t\t\t    void          *buf,\n\t\t\t\t    unsigned long  count)\n{\n\tinsw(BaseAddr + Register, buf, count);\n}\n\nstatic inline void nsp_fifo16_read(unsigned int   base,\n\t\t\t\t   void          *buf,\n\t\t\t\t   unsigned long  count)\n{\n\t\n\tnsp_multi_read_2(base, FIFODATA, buf, count);\n}\n\n \n\n \nstatic inline void nsp_multi_read_4(unsigned int   BaseAddr,\n\t\t\t\t    unsigned int   Register,\n\t\t\t\t    void          *buf,\n\t\t\t\t    unsigned long  count)\n{\n\tinsl(BaseAddr + Register, buf, count);\n}\n\nstatic inline void nsp_fifo32_read(unsigned int   base,\n\t\t\t\t   void          *buf,\n\t\t\t\t   unsigned long  count)\n{\n\t\n\tnsp_multi_read_4(base, FIFODATA, buf, count);\n}\n\n \n\n \nstatic inline void nsp_multi_write_1(unsigned int   BaseAddr,\n\t\t\t\t     unsigned int   Register,\n\t\t\t\t     void          *buf,\n\t\t\t\t     unsigned long  count)\n{\n\toutsb(BaseAddr + Register, buf, count);\n}\n\nstatic inline void nsp_fifo8_write(unsigned int   base,\n\t\t\t\t   void          *buf,\n\t\t\t\t   unsigned long  count)\n{\n\tnsp_multi_write_1(base, FIFODATA, buf, count);\n}\n\n \n\n \nstatic inline void nsp_multi_write_2(unsigned int   BaseAddr,\n\t\t\t\t     unsigned int   Register,\n\t\t\t\t     void          *buf,\n\t\t\t\t     unsigned long  count)\n{\n\toutsw(BaseAddr + Register, buf, count);\n}\n\nstatic inline void nsp_fifo16_write(unsigned int   base,\n\t\t\t\t    void          *buf,\n\t\t\t\t    unsigned long  count)\n{\n\tnsp_multi_write_2(base, FIFODATA, buf, count);\n}\n\n \n\n \nstatic inline void nsp_multi_write_4(unsigned int   BaseAddr,\n\t\t\t\t     unsigned int   Register,\n\t\t\t\t     void          *buf,\n\t\t\t\t     unsigned long  count)\n{\n\toutsl(BaseAddr + Register, buf, count);\n}\n\nstatic inline void nsp_fifo32_write(unsigned int   base,\n\t\t\t\t    void          *buf,\n\t\t\t\t    unsigned long  count)\n{\n\tnsp_multi_write_4(base, FIFODATA, buf, count);\n}\n\n\n \n\nstatic inline void nsp_mmio_write(unsigned long base,\n\t\t\t\t  unsigned int  index,\n\t\t\t\t  unsigned char val)\n{\n\tunsigned char *ptr = (unsigned char *)(base + NSP_MMIO_OFFSET + index);\n\n\twriteb(val, ptr);\n}\n\nstatic inline unsigned char nsp_mmio_read(unsigned long base,\n\t\t\t\t\t  unsigned int  index)\n{\n\tunsigned char *ptr = (unsigned char *)(base + NSP_MMIO_OFFSET + index);\n\n\treturn readb(ptr);\n}\n\n \n\nstatic inline unsigned char nsp_mmio_index_read(unsigned long base,\n\t\t\t\t\t\tunsigned int  reg)\n{\n\tunsigned char *index_ptr = (unsigned char *)(base + NSP_MMIO_OFFSET + INDEXREG);\n\tunsigned char *data_ptr  = (unsigned char *)(base + NSP_MMIO_OFFSET + DATAREG);\n\n\twriteb((unsigned char)reg, index_ptr);\n\treturn readb(data_ptr);\n}\n\nstatic inline void nsp_mmio_index_write(unsigned long base,\n\t\t\t\t\tunsigned int  reg,\n\t\t\t\t\tunsigned char val)\n{\n\tunsigned char *index_ptr = (unsigned char *)(base + NSP_MMIO_OFFSET + INDEXREG);\n\tunsigned char *data_ptr  = (unsigned char *)(base + NSP_MMIO_OFFSET + DATAREG);\n\n\twriteb((unsigned char)reg, index_ptr);\n\twriteb(val,                data_ptr);\n}\n\n \nstatic inline void nsp_mmio_multi_read_4(unsigned long  base,\n\t\t\t\t\t unsigned int   Register,\n\t\t\t\t\t void          *buf,\n\t\t\t\t\t unsigned long  count)\n{\n\tunsigned long *ptr = (unsigned long *)(base + Register);\n\tunsigned long *tmp = (unsigned long *)buf;\n\tint i;\n\n\t\n\n\tfor (i = 0; i < count; i++) {\n\t\t*tmp = readl(ptr);\n\t\t\n\t\ttmp++;\n\t}\n}\n\nstatic inline void nsp_mmio_fifo32_read(unsigned int   base,\n\t\t\t\t\tvoid          *buf,\n\t\t\t\t\tunsigned long  count)\n{\n\t\n\tnsp_mmio_multi_read_4(base, FIFODATA, buf, count);\n}\n\nstatic inline void nsp_mmio_multi_write_4(unsigned long  base,\n\t\t\t\t\t  unsigned int   Register,\n\t\t\t\t\t  void          *buf,\n\t\t\t\t\t  unsigned long  count)\n{\n\tunsigned long *ptr = (unsigned long *)(base + Register);\n\tunsigned long *tmp = (unsigned long *)buf;\n\tint i;\n\n\t\n\n\tfor (i = 0; i < count; i++) {\n\t\twritel(*tmp, ptr);\n\t\t\n\t\ttmp++;\n\t}\n}\n\nstatic inline void nsp_mmio_fifo32_write(unsigned int   base,\n\t\t\t\t\t void          *buf,\n\t\t\t\t\t unsigned long  count)\n{\n\t\n\tnsp_mmio_multi_write_4(base, FIFODATA, buf, count);\n}\n\n\n\n#endif\n \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}