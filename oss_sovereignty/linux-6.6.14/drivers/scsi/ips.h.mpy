{
  "module_name": "ips.h",
  "hash_id": "6cbe7ca10c0221c70da00f5e186c8eca5d03b59e87c71a939bdd98139a7e6b31",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/ips.h",
  "human_readable_source": " \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n\n#ifndef _IPS_H_\n   #define _IPS_H_\n\n#include <linux/nmi.h>\n#include <linux/uaccess.h>\n   #include <asm/io.h>\n\n    \n   #define IPS_HA(x)                   ((ips_ha_t *) x->hostdata)\n   #define IPS_COMMAND_ID(ha, scb)     (int) (scb - ha->scbs)\n   #define IPS_IS_TROMBONE(ha)         (((ha->pcidev->device == IPS_DEVICEID_COPPERHEAD) && \\\n                                         (ha->pcidev->revision >= IPS_REVID_TROMBONE32) && \\\n                                         (ha->pcidev->revision <= IPS_REVID_TROMBONE64)) ? 1 : 0)\n   #define IPS_IS_CLARINET(ha)         (((ha->pcidev->device == IPS_DEVICEID_COPPERHEAD) && \\\n                                         (ha->pcidev->revision >= IPS_REVID_CLARINETP1) && \\\n                                         (ha->pcidev->revision <= IPS_REVID_CLARINETP3)) ? 1 : 0)\n   #define IPS_IS_MORPHEUS(ha)         (ha->pcidev->device == IPS_DEVICEID_MORPHEUS)\n   #define IPS_IS_MARCO(ha)            (ha->pcidev->device == IPS_DEVICEID_MARCO)\n   #define IPS_USE_I2O_DELIVER(ha)     ((IPS_IS_MORPHEUS(ha) || \\\n                                         (IPS_IS_TROMBONE(ha) && \\\n                                          (ips_force_i2o))) ? 1 : 0)\n   #define IPS_USE_MEMIO(ha)           ((IPS_IS_MORPHEUS(ha) || \\\n                                         ((IPS_IS_TROMBONE(ha) || IPS_IS_CLARINET(ha)) && \\\n                                          (ips_force_memio))) ? 1 : 0)\n\n    #define IPS_HAS_ENH_SGLIST(ha)    (IPS_IS_MORPHEUS(ha) || IPS_IS_MARCO(ha))\n    #define IPS_USE_ENH_SGLIST(ha)    ((ha)->flags & IPS_HA_ENH_SG)\n    #define IPS_SGLIST_SIZE(ha)       (IPS_USE_ENH_SGLIST(ha) ? \\\n                                         sizeof(IPS_ENH_SG_LIST) : sizeof(IPS_STD_SG_LIST))\n\n  #define IPS_PRINTK(level, pcidev, format, arg...)                 \\\n            dev_printk(level , &((pcidev)->dev) , format , ## arg)\n\n   #define MDELAY(n)\t\t\t\\\n\tdo {\t\t\t\t\\\n\t\tmdelay(n);\t\t\\\n\t\ttouch_nmi_watchdog();\t\\\n\t} while (0)\n\n   #ifndef min\n      #define min(x,y) ((x) < (y) ? x : y)\n   #endif\n\n   #ifndef __iomem        \n      #define __iomem\n   #endif\n\n    \n   #define IPS_REG_HISR                 0x08     \n   #define IPS_REG_CCSAR                0x10     \n   #define IPS_REG_CCCR                 0x14     \n   #define IPS_REG_SQHR                 0x20     \n   #define IPS_REG_SQTR                 0x24     \n   #define IPS_REG_SQER                 0x28     \n   #define IPS_REG_SQSR                 0x2C     \n   #define IPS_REG_SCPR                 0x05     \n   #define IPS_REG_ISPR                 0x06     \n   #define IPS_REG_CBSP                 0x07     \n   #define IPS_REG_FLAP                 0x18     \n   #define IPS_REG_FLDP                 0x1C     \n   #define IPS_REG_NDAE                 0x38     \n   #define IPS_REG_I2O_INMSGQ           0x40     \n   #define IPS_REG_I2O_OUTMSGQ          0x44     \n   #define IPS_REG_I2O_HIR              0x30     \n   #define IPS_REG_I960_IDR             0x20     \n   #define IPS_REG_I960_MSG0            0x18     \n   #define IPS_REG_I960_MSG1            0x1C     \n   #define IPS_REG_I960_OIMR            0x34     \n\n    \n   #define IPS_BIT_GHI                  0x04     \n   #define IPS_BIT_SQO                  0x02     \n   #define IPS_BIT_SCE                  0x01     \n   #define IPS_BIT_SEM                  0x08     \n   #define IPS_BIT_ILE                  0x10     \n   #define IPS_BIT_START_CMD            0x101A   \n   #define IPS_BIT_START_STOP           0x0002   \n   #define IPS_BIT_RST                  0x80     \n   #define IPS_BIT_EBM                  0x02     \n   #define IPS_BIT_EI                   0x80     \n   #define IPS_BIT_OP                   0x01     \n   #define IPS_BIT_I2O_OPQI             0x08     \n   #define IPS_BIT_I960_MSG0I           0x01     \n   #define IPS_BIT_I960_MSG1I           0x02     \n\n    \n   #define IPS_CMD_GET_LD_INFO          0x19\n   #define IPS_CMD_GET_SUBSYS           0x40\n   #define IPS_CMD_READ_CONF            0x38\n   #define IPS_CMD_RW_NVRAM_PAGE        0xBC\n   #define IPS_CMD_READ                 0x02\n   #define IPS_CMD_WRITE                0x03\n   #define IPS_CMD_FFDC                 0xD7\n   #define IPS_CMD_ENQUIRY              0x05\n   #define IPS_CMD_FLUSH                0x0A\n   #define IPS_CMD_READ_SG              0x82\n   #define IPS_CMD_WRITE_SG             0x83\n   #define IPS_CMD_DCDB                 0x04\n   #define IPS_CMD_DCDB_SG              0x84\n   #define IPS_CMD_EXTENDED_DCDB \t    0x95\n   #define IPS_CMD_EXTENDED_DCDB_SG\t    0x96\n   #define IPS_CMD_CONFIG_SYNC          0x58\n   #define IPS_CMD_ERROR_TABLE          0x17\n   #define IPS_CMD_DOWNLOAD             0x20\n   #define IPS_CMD_RW_BIOSFW            0x22\n   #define IPS_CMD_GET_VERSION_INFO     0xC6\n   #define IPS_CMD_RESET_CHANNEL        0x1A\n\n    \n   #define IPS_CSL                      0xFF\n   #define IPS_POCL                     0x30\n   #define IPS_NORM_STATE               0x00\n   #define IPS_MAX_ADAPTER_TYPES        3\n   #define IPS_MAX_ADAPTERS             16\n   #define IPS_MAX_IOCTL                1\n   #define IPS_MAX_IOCTL_QUEUE          8\n   #define IPS_MAX_QUEUE                128\n   #define IPS_BLKSIZE                  512\n   #define IPS_MAX_SG                   17\n   #define IPS_MAX_LD                   8\n   #define IPS_MAX_CHANNELS             4\n   #define IPS_MAX_TARGETS              15\n   #define IPS_MAX_CHUNKS               16\n   #define IPS_MAX_CMDS                 128\n   #define IPS_MAX_XFER                 0x10000\n   #define IPS_NVRAM_P5_SIG             0xFFDDBB99\n   #define IPS_MAX_POST_BYTES           0x02\n   #define IPS_MAX_CONFIG_BYTES         0x02\n   #define IPS_GOOD_POST_STATUS         0x80\n   #define IPS_SEM_TIMEOUT              2000\n   #define IPS_IOCTL_COMMAND            0x0D\n   #define IPS_INTR_ON                  0\n   #define IPS_INTR_IORL                1\n   #define IPS_FFDC                     99\n   #define IPS_ADAPTER_ID               0xF\n   #define IPS_VENDORID_IBM             0x1014\n   #define IPS_VENDORID_ADAPTEC         0x9005\n   #define IPS_DEVICEID_COPPERHEAD      0x002E\n   #define IPS_DEVICEID_MORPHEUS        0x01BD\n   #define IPS_DEVICEID_MARCO           0x0250\n   #define IPS_SUBDEVICEID_4M           0x01BE\n   #define IPS_SUBDEVICEID_4L           0x01BF\n   #define IPS_SUBDEVICEID_4MX          0x0208\n   #define IPS_SUBDEVICEID_4LX          0x020E\n   #define IPS_SUBDEVICEID_5I2          0x0259\n   #define IPS_SUBDEVICEID_5I1          0x0258\n   #define IPS_SUBDEVICEID_6M           0x0279\n   #define IPS_SUBDEVICEID_6I           0x028C\n   #define IPS_SUBDEVICEID_7k           0x028E\n   #define IPS_SUBDEVICEID_7M           0x028F\n   #define IPS_IOCTL_SIZE               8192\n   #define IPS_STATUS_SIZE              4\n   #define IPS_STATUS_Q_SIZE            (IPS_MAX_CMDS+1) * IPS_STATUS_SIZE\n   #define IPS_IMAGE_SIZE               500 * 1024\n   #define IPS_MEMMAP_SIZE              128\n   #define IPS_ONE_MSEC                 1\n   #define IPS_ONE_SEC                  1000\n\n    \n   #define IPS_COMP_HEADS               128\n   #define IPS_COMP_SECTORS             32\n   #define IPS_NORM_HEADS               254\n   #define IPS_NORM_SECTORS             63\n\n    \n   #define IPS_BASIC_STATUS_MASK        0xFF\n   #define IPS_GSC_STATUS_MASK          0x0F\n   #define IPS_CMD_SUCCESS              0x00\n   #define IPS_CMD_RECOVERED_ERROR      0x01\n   #define IPS_INVAL_OPCO               0x03\n   #define IPS_INVAL_CMD_BLK            0x04\n   #define IPS_INVAL_PARM_BLK           0x05\n   #define IPS_BUSY                     0x08\n   #define IPS_CMD_CMPLT_WERROR         0x0C\n   #define IPS_LD_ERROR                 0x0D\n   #define IPS_CMD_TIMEOUT              0x0E\n   #define IPS_PHYS_DRV_ERROR           0x0F\n\n    \n   #define IPS_ERR_SEL_TO               0xF0\n   #define IPS_ERR_OU_RUN               0xF2\n   #define IPS_ERR_HOST_RESET           0xF7\n   #define IPS_ERR_DEV_RESET            0xF8\n   #define IPS_ERR_RECOVERY             0xFC\n   #define IPS_ERR_CKCOND               0xFF\n\n    \n   #define IPS_OS_WINDOWS_NT            0x01\n   #define IPS_OS_NETWARE               0x02\n   #define IPS_OS_OPENSERVER            0x03\n   #define IPS_OS_UNIXWARE              0x04\n   #define IPS_OS_SOLARIS               0x05\n   #define IPS_OS_OS2                   0x06\n   #define IPS_OS_LINUX                 0x07\n   #define IPS_OS_FREEBSD               0x08\n\n    \n   #define IPS_REVID_SERVERAID          0x02\n   #define IPS_REVID_NAVAJO             0x03\n   #define IPS_REVID_SERVERAID2         0x04\n   #define IPS_REVID_CLARINETP1         0x05\n   #define IPS_REVID_CLARINETP2         0x07\n   #define IPS_REVID_CLARINETP3         0x0D\n   #define IPS_REVID_TROMBONE32         0x0F\n   #define IPS_REVID_TROMBONE64         0x10\n\n    \n   #define IPS_ADTYPE_SERVERAID         0x01\n   #define IPS_ADTYPE_SERVERAID2        0x02\n   #define IPS_ADTYPE_NAVAJO            0x03\n   #define IPS_ADTYPE_KIOWA             0x04\n   #define IPS_ADTYPE_SERVERAID3        0x05\n   #define IPS_ADTYPE_SERVERAID3L       0x06\n   #define IPS_ADTYPE_SERVERAID4H       0x07\n   #define IPS_ADTYPE_SERVERAID4M       0x08\n   #define IPS_ADTYPE_SERVERAID4L       0x09\n   #define IPS_ADTYPE_SERVERAID4MX      0x0A\n   #define IPS_ADTYPE_SERVERAID4LX      0x0B\n   #define IPS_ADTYPE_SERVERAID5I2      0x0C\n   #define IPS_ADTYPE_SERVERAID5I1      0x0D\n   #define IPS_ADTYPE_SERVERAID6M       0x0E\n   #define IPS_ADTYPE_SERVERAID6I       0x0F\n   #define IPS_ADTYPE_SERVERAID7t       0x10\n   #define IPS_ADTYPE_SERVERAID7k       0x11\n   #define IPS_ADTYPE_SERVERAID7M       0x12\n\n    \n   #define IPS_SUCCESS                  0x01  \n   #define IPS_SUCCESS_IMM              0x02  \n   #define IPS_FAILURE                  0x04  \n\n    \n   #define IPS_LD_OFFLINE               0x02\n   #define IPS_LD_OKAY                  0x03\n   #define IPS_LD_FREE                  0x00\n   #define IPS_LD_SYS                   0x06\n   #define IPS_LD_CRS                   0x24\n\n    \n   #define IPS_NO_DISCONNECT            0x00\n   #define IPS_DISCONNECT_ALLOWED       0x80\n   #define IPS_NO_AUTO_REQSEN           0x40\n   #define IPS_DATA_NONE                0x00\n   #define IPS_DATA_UNK                 0x00\n   #define IPS_DATA_IN                  0x01\n   #define IPS_DATA_OUT                 0x02\n   #define IPS_TRANSFER64K              0x08\n   #define IPS_NOTIMEOUT                0x00\n   #define IPS_TIMEOUT10                0x10\n   #define IPS_TIMEOUT60                0x20\n   #define IPS_TIMEOUT20M               0x30\n\n    \n   #define IPS_SCSI_INQ_TYPE_DASD       0x00\n   #define IPS_SCSI_INQ_TYPE_PROCESSOR  0x03\n   #define IPS_SCSI_INQ_LU_CONNECTED    0x00\n   #define IPS_SCSI_INQ_RD_REV2         0x02\n   #define IPS_SCSI_INQ_REV2            0x02\n   #define IPS_SCSI_INQ_REV3            0x03\n   #define IPS_SCSI_INQ_Address16       0x01\n   #define IPS_SCSI_INQ_Address32       0x02\n   #define IPS_SCSI_INQ_MedChanger      0x08\n   #define IPS_SCSI_INQ_MultiPort       0x10\n   #define IPS_SCSI_INQ_EncServ         0x40\n   #define IPS_SCSI_INQ_SoftReset       0x01\n   #define IPS_SCSI_INQ_CmdQue          0x02\n   #define IPS_SCSI_INQ_Linked          0x08\n   #define IPS_SCSI_INQ_Sync            0x10\n   #define IPS_SCSI_INQ_WBus16          0x20\n   #define IPS_SCSI_INQ_WBus32          0x40\n   #define IPS_SCSI_INQ_RelAdr          0x80\n\n    \n   #define IPS_SCSI_REQSEN_VALID        0x80\n   #define IPS_SCSI_REQSEN_CURRENT_ERR  0x70\n   #define IPS_SCSI_REQSEN_NO_SENSE     0x00\n\n    \n   #define IPS_SCSI_MP3_SoftSector      0x01\n   #define IPS_SCSI_MP3_HardSector      0x02\n   #define IPS_SCSI_MP3_Removeable      0x04\n   #define IPS_SCSI_MP3_AllocateSurface 0x08\n\n    \n\n   #define IPS_HA_ENH_SG                0x1\n\n    \n   #define IPS_SCB_MAP_SG               0x00008\n   #define IPS_SCB_MAP_SINGLE           0X00010\n\n    \n   #define IPS_COPPUSRCMD              (('C'<<8) | 65)\n   #define IPS_COPPIOCCMD              (('C'<<8) | 66)\n   #define IPS_NUMCTRLS                (('C'<<8) | 68)\n   #define IPS_CTRLINFO                (('C'<<8) | 69)\n\n    \n   #define IPS_FW_IMAGE                0x00\n   #define IPS_BIOS_IMAGE              0x01\n   #define IPS_WRITE_FW                0x01\n   #define IPS_WRITE_BIOS              0x02\n   #define IPS_ERASE_BIOS              0x03\n   #define IPS_BIOS_HEADER             0xC0\n\n    \n   #define IPS_SECS_8HOURS              28800\n\n    \n   static int ips_biosparam(struct scsi_device *sdev, struct block_device *bdev,\n\t\tsector_t capacity, int geom[]);\n   static int ips_slave_configure(struct scsi_device *SDptr);\n\n \ntypedef struct {\n   uint8_t  op_code;\n   uint8_t  command_id;\n   uint8_t  log_drv;\n   uint8_t  sg_count;\n   uint32_t lba;\n   uint32_t sg_addr;\n   uint16_t sector_count;\n   uint8_t  segment_4G;\n   uint8_t  enhanced_sg;\n   uint32_t ccsar;\n   uint32_t cccr;\n} IPS_IO_CMD, *PIPS_IO_CMD;\n\ntypedef struct {\n   uint8_t  op_code;\n   uint8_t  command_id;\n   uint16_t reserved;\n   uint32_t reserved2;\n   uint32_t buffer_addr;\n   uint32_t reserved3;\n   uint32_t ccsar;\n   uint32_t cccr;\n} IPS_LD_CMD, *PIPS_LD_CMD;\n\ntypedef struct {\n   uint8_t  op_code;\n   uint8_t  command_id;\n   uint8_t  reserved;\n   uint8_t  reserved2;\n   uint32_t reserved3;\n   uint32_t buffer_addr;\n   uint32_t reserved4;\n} IPS_IOCTL_CMD, *PIPS_IOCTL_CMD;\n\ntypedef struct {\n   uint8_t  op_code;\n   uint8_t  command_id;\n   uint8_t  channel;\n   uint8_t  reserved3;\n   uint8_t  reserved4;\n   uint8_t  reserved5;\n   uint8_t  reserved6;\n   uint8_t  reserved7;\n   uint8_t  reserved8;\n   uint8_t  reserved9;\n   uint8_t  reserved10;\n   uint8_t  reserved11;\n   uint8_t  reserved12;\n   uint8_t  reserved13;\n   uint8_t  reserved14;\n   uint8_t  adapter_flag;\n} IPS_RESET_CMD, *PIPS_RESET_CMD;\n\ntypedef struct {\n   uint8_t  op_code;\n   uint8_t  command_id;\n   uint16_t reserved;\n   uint32_t reserved2;\n   uint32_t dcdb_address;\n   uint16_t reserved3;\n   uint8_t  segment_4G;\n   uint8_t  enhanced_sg;\n   uint32_t ccsar;\n   uint32_t cccr;\n} IPS_DCDB_CMD, *PIPS_DCDB_CMD;\n\ntypedef struct {\n   uint8_t  op_code;\n   uint8_t  command_id;\n   uint8_t  channel;\n   uint8_t  source_target;\n   uint32_t reserved;\n   uint32_t reserved2;\n   uint32_t reserved3;\n   uint32_t ccsar;\n   uint32_t cccr;\n} IPS_CS_CMD, *PIPS_CS_CMD;\n\ntypedef struct {\n   uint8_t  op_code;\n   uint8_t  command_id;\n   uint8_t  log_drv;\n   uint8_t  control;\n   uint32_t reserved;\n   uint32_t reserved2;\n   uint32_t reserved3;\n   uint32_t ccsar;\n   uint32_t cccr;\n} IPS_US_CMD, *PIPS_US_CMD;\n\ntypedef struct {\n   uint8_t  op_code;\n   uint8_t  command_id;\n   uint8_t  reserved;\n   uint8_t  state;\n   uint32_t reserved2;\n   uint32_t reserved3;\n   uint32_t reserved4;\n   uint32_t ccsar;\n   uint32_t cccr;\n} IPS_FC_CMD, *PIPS_FC_CMD;\n\ntypedef struct {\n   uint8_t  op_code;\n   uint8_t  command_id;\n   uint8_t  reserved;\n   uint8_t  desc;\n   uint32_t reserved2;\n   uint32_t buffer_addr;\n   uint32_t reserved3;\n   uint32_t ccsar;\n   uint32_t cccr;\n} IPS_STATUS_CMD, *PIPS_STATUS_CMD;\n\ntypedef struct {\n   uint8_t  op_code;\n   uint8_t  command_id;\n   uint8_t  page;\n   uint8_t  write;\n   uint32_t reserved;\n   uint32_t buffer_addr;\n   uint32_t reserved2;\n   uint32_t ccsar;\n   uint32_t cccr;\n} IPS_NVRAM_CMD, *PIPS_NVRAM_CMD;\n\ntypedef struct\n{\n    uint8_t  op_code;\n    uint8_t  command_id;\n    uint16_t reserved;\n    uint32_t count;\n    uint32_t buffer_addr;\n    uint32_t reserved2;\n} IPS_VERSION_INFO, *PIPS_VERSION_INFO;\n\ntypedef struct {\n   uint8_t  op_code;\n   uint8_t  command_id;\n   uint8_t  reset_count;\n   uint8_t  reset_type;\n   uint8_t  second;\n   uint8_t  minute;\n   uint8_t  hour;\n   uint8_t  day;\n   uint8_t  reserved1[4];\n   uint8_t  month;\n   uint8_t  yearH;\n   uint8_t  yearL;\n   uint8_t  reserved2;\n} IPS_FFDC_CMD, *PIPS_FFDC_CMD;\n\ntypedef struct {\n   uint8_t  op_code;\n   uint8_t  command_id;\n   uint8_t  type;\n   uint8_t  direction;\n   uint32_t count;\n   uint32_t buffer_addr;\n   uint8_t  total_packets;\n   uint8_t  packet_num;\n   uint16_t reserved;\n} IPS_FLASHFW_CMD, *PIPS_FLASHFW_CMD;\n\ntypedef struct {\n   uint8_t  op_code;\n   uint8_t  command_id;\n   uint8_t  type;\n   uint8_t  direction;\n   uint32_t count;\n   uint32_t buffer_addr;\n   uint32_t offset;\n} IPS_FLASHBIOS_CMD, *PIPS_FLASHBIOS_CMD;\n\ntypedef union {\n   IPS_IO_CMD         basic_io;\n   IPS_LD_CMD         logical_info;\n   IPS_IOCTL_CMD      ioctl_info;\n   IPS_DCDB_CMD       dcdb;\n   IPS_CS_CMD         config_sync;\n   IPS_US_CMD         unlock_stripe;\n   IPS_FC_CMD         flush_cache;\n   IPS_STATUS_CMD     status;\n   IPS_NVRAM_CMD      nvram;\n   IPS_FFDC_CMD       ffdc;\n   IPS_FLASHFW_CMD    flashfw;\n   IPS_FLASHBIOS_CMD  flashbios;\n   IPS_VERSION_INFO   version_info;\n   IPS_RESET_CMD      reset;\n} IPS_HOST_COMMAND, *PIPS_HOST_COMMAND;\n\ntypedef struct {\n   uint8_t  logical_id;\n   uint8_t  reserved;\n   uint8_t  raid_level;\n   uint8_t  state;\n   uint32_t sector_count;\n} IPS_DRIVE_INFO, *PIPS_DRIVE_INFO;\n\ntypedef struct {\n   uint8_t       no_of_log_drive;\n   uint8_t       reserved[3];\n   IPS_DRIVE_INFO drive_info[IPS_MAX_LD];\n} IPS_LD_INFO, *PIPS_LD_INFO;\n\ntypedef struct {\n   uint8_t   device_address;\n   uint8_t   cmd_attribute;\n   uint16_t  transfer_length;\n   uint32_t  buffer_pointer;\n   uint8_t   cdb_length;\n   uint8_t   sense_length;\n   uint8_t   sg_count;\n   uint8_t   reserved;\n   uint8_t   scsi_cdb[12];\n   uint8_t   sense_info[64];\n   uint8_t   scsi_status;\n   uint8_t   reserved2[3];\n} IPS_DCDB_TABLE, *PIPS_DCDB_TABLE;\n\ntypedef struct {\n   uint8_t   device_address;\n   uint8_t   cmd_attribute;\n   uint8_t   cdb_length;\n   uint8_t   reserved_for_LUN;\n   uint32_t  transfer_length;\n   uint32_t  buffer_pointer;\n   uint16_t  sg_count;\n   uint8_t   sense_length;\n   uint8_t   scsi_status;\n   uint32_t  reserved;\n   uint8_t   scsi_cdb[16];\n   uint8_t   sense_info[56];\n} IPS_DCDB_TABLE_TAPE, *PIPS_DCDB_TABLE_TAPE;\n\ntypedef union {\n   struct {\n      volatile uint8_t  reserved;\n      volatile uint8_t  command_id;\n      volatile uint8_t  basic_status;\n      volatile uint8_t  extended_status;\n   } fields;\n\n   volatile uint32_t    value;\n} IPS_STATUS, *PIPS_STATUS;\n\ntypedef struct {\n   IPS_STATUS           status[IPS_MAX_CMDS + 1];\n   volatile PIPS_STATUS p_status_start;\n   volatile PIPS_STATUS p_status_end;\n   volatile PIPS_STATUS p_status_tail;\n   volatile uint32_t    hw_status_start;\n   volatile uint32_t    hw_status_tail;\n} IPS_ADAPTER, *PIPS_ADAPTER;\n\ntypedef struct {\n   uint8_t  ucLogDriveCount;\n   uint8_t  ucMiscFlag;\n   uint8_t  ucSLTFlag;\n   uint8_t  ucBSTFlag;\n   uint8_t  ucPwrChgCnt;\n   uint8_t  ucWrongAdrCnt;\n   uint8_t  ucUnidentCnt;\n   uint8_t  ucNVramDevChgCnt;\n   uint8_t  CodeBlkVersion[8];\n   uint8_t  BootBlkVersion[8];\n   uint32_t ulDriveSize[IPS_MAX_LD];\n   uint8_t  ucConcurrentCmdCount;\n   uint8_t  ucMaxPhysicalDevices;\n   uint16_t usFlashRepgmCount;\n   uint8_t  ucDefunctDiskCount;\n   uint8_t  ucRebuildFlag;\n   uint8_t  ucOfflineLogDrvCount;\n   uint8_t  ucCriticalDrvCount;\n   uint16_t usConfigUpdateCount;\n   uint8_t  ucBlkFlag;\n   uint8_t  reserved;\n   uint16_t usAddrDeadDisk[IPS_MAX_CHANNELS * (IPS_MAX_TARGETS + 1)];\n} IPS_ENQ, *PIPS_ENQ;\n\ntypedef struct {\n   uint8_t  ucInitiator;\n   uint8_t  ucParameters;\n   uint8_t  ucMiscFlag;\n   uint8_t  ucState;\n   uint32_t ulBlockCount;\n   uint8_t  ucDeviceId[28];\n} IPS_DEVSTATE, *PIPS_DEVSTATE;\n\ntypedef struct {\n   uint8_t  ucChn;\n   uint8_t  ucTgt;\n   uint16_t ucReserved;\n   uint32_t ulStartSect;\n   uint32_t ulNoOfSects;\n} IPS_CHUNK, *PIPS_CHUNK;\n\ntypedef struct {\n   uint16_t ucUserField;\n   uint8_t  ucState;\n   uint8_t  ucRaidCacheParam;\n   uint8_t  ucNoOfChunkUnits;\n   uint8_t  ucStripeSize;\n   uint8_t  ucParams;\n   uint8_t  ucReserved;\n   uint32_t ulLogDrvSize;\n   IPS_CHUNK chunk[IPS_MAX_CHUNKS];\n} IPS_LD, *PIPS_LD;\n\ntypedef struct {\n   uint8_t  board_disc[8];\n   uint8_t  processor[8];\n   uint8_t  ucNoChanType;\n   uint8_t  ucNoHostIntType;\n   uint8_t  ucCompression;\n   uint8_t  ucNvramType;\n   uint32_t ulNvramSize;\n} IPS_HARDWARE, *PIPS_HARDWARE;\n\ntypedef struct {\n   uint8_t        ucLogDriveCount;\n   uint8_t        ucDateD;\n   uint8_t        ucDateM;\n   uint8_t        ucDateY;\n   uint8_t        init_id[4];\n   uint8_t        host_id[12];\n   uint8_t        time_sign[8];\n   uint32_t       UserOpt;\n   uint16_t       user_field;\n   uint8_t        ucRebuildRate;\n   uint8_t        ucReserve;\n   IPS_HARDWARE   hardware_disc;\n   IPS_LD         logical_drive[IPS_MAX_LD];\n   IPS_DEVSTATE   dev[IPS_MAX_CHANNELS][IPS_MAX_TARGETS+1];\n   uint8_t        reserved[512];\n} IPS_CONF, *PIPS_CONF;\n\ntypedef struct {\n   uint32_t  signature;\n   uint8_t   reserved1;\n   uint8_t   adapter_slot;\n   uint16_t  adapter_type;\n   uint8_t   ctrl_bios[8];\n   uint8_t   versioning;                    \n   uint8_t   version_mismatch;              \n   uint8_t   reserved2;\n   uint8_t   operating_system;\n   uint8_t   driver_high[4];\n   uint8_t   driver_low[4];\n   uint8_t   BiosCompatibilityID[8];\n   uint8_t   ReservedForOS2[8];\n   uint8_t   bios_high[4];                  \n   uint8_t   bios_low[4];\n   uint8_t   adapter_order[16];             \n   uint8_t   Filler[60];\n} IPS_NVRAM_P5, *PIPS_NVRAM_P5;\n\n \n \n \n\n                                              \n#define  IPS_GET_VERSION_SUPPORT 0x00018000   \n\ntypedef struct\n{\n   uint32_t  revision;\n   uint8_t   bootBlkVersion[32];\n   uint8_t   bootBlkAttributes[4];\n   uint8_t   codeBlkVersion[32];\n   uint8_t   biosVersion[32];\n   uint8_t   biosAttributes[4];\n   uint8_t   compatibilityId[32];\n   uint8_t   reserved[4];\n} IPS_VERSION_DATA;\n\n\ntypedef struct _IPS_SUBSYS {\n   uint32_t  param[128];\n} IPS_SUBSYS, *PIPS_SUBSYS;\n\n \n\n \ntypedef struct {\n   uint8_t   DeviceType;\n   uint8_t   DeviceTypeQualifier;\n   uint8_t   Version;\n   uint8_t   ResponseDataFormat;\n   uint8_t   AdditionalLength;\n   uint8_t   Reserved;\n   uint8_t   Flags[2];\n   uint8_t   VendorId[8];\n   uint8_t   ProductId[16];\n   uint8_t   ProductRevisionLevel[4];\n   uint8_t   Reserved2;                                   \n} IPS_SCSI_INQ_DATA, *PIPS_SCSI_INQ_DATA;\n\n \ntypedef struct {\n   uint32_t lba;\n   uint32_t len;\n} IPS_SCSI_CAPACITY;\n\n \ntypedef struct {\n   uint8_t  ResponseCode;\n   uint8_t  SegmentNumber;\n   uint8_t  Flags;\n   uint8_t  Information[4];\n   uint8_t  AdditionalLength;\n   uint8_t  CommandSpecific[4];\n   uint8_t  AdditionalSenseCode;\n   uint8_t  AdditionalSenseCodeQual;\n   uint8_t  FRUCode;\n   uint8_t  SenseKeySpecific[3];\n} IPS_SCSI_REQSEN;\n\n \ntypedef struct {\n   uint8_t  PageCode;\n   uint8_t  PageLength;\n   uint16_t TracksPerZone;\n   uint16_t AltSectorsPerZone;\n   uint16_t AltTracksPerZone;\n   uint16_t AltTracksPerVolume;\n   uint16_t SectorsPerTrack;\n   uint16_t BytesPerSector;\n   uint16_t Interleave;\n   uint16_t TrackSkew;\n   uint16_t CylinderSkew;\n   uint8_t  flags;\n   uint8_t  reserved[3];\n} IPS_SCSI_MODE_PAGE3;\n\n \ntypedef struct {\n   uint8_t  PageCode;\n   uint8_t  PageLength;\n   uint16_t CylindersHigh;\n   uint8_t  CylindersLow;\n   uint8_t  Heads;\n   uint16_t WritePrecompHigh;\n   uint8_t  WritePrecompLow;\n   uint16_t ReducedWriteCurrentHigh;\n   uint8_t  ReducedWriteCurrentLow;\n   uint16_t StepRate;\n   uint16_t LandingZoneHigh;\n   uint8_t  LandingZoneLow;\n   uint8_t  flags;\n   uint8_t  RotationalOffset;\n   uint8_t  Reserved;\n   uint16_t MediumRotationRate;\n   uint8_t  Reserved2[2];\n} IPS_SCSI_MODE_PAGE4;\n\n \ntypedef struct {\n   uint8_t  PageCode;\n   uint8_t  PageLength;\n   uint8_t  flags;\n   uint8_t  RetentPrio;\n   uint16_t DisPrefetchLen;\n   uint16_t MinPrefetchLen;\n   uint16_t MaxPrefetchLen;\n   uint16_t MaxPrefetchCeiling;\n} IPS_SCSI_MODE_PAGE8;\n\n \ntypedef struct {\n   uint32_t NumberOfBlocks;\n   uint8_t  DensityCode;\n   uint16_t BlockLengthHigh;\n   uint8_t  BlockLengthLow;\n} IPS_SCSI_MODE_PAGE_BLKDESC;\n\n \ntypedef struct {\n   uint8_t  DataLength;\n   uint8_t  MediumType;\n   uint8_t  Reserved;\n   uint8_t  BlockDescLength;\n} IPS_SCSI_MODE_PAGE_HEADER;\n\ntypedef struct {\n   IPS_SCSI_MODE_PAGE_HEADER  hdr;\n   IPS_SCSI_MODE_PAGE_BLKDESC blkdesc;\n\n   union {\n      IPS_SCSI_MODE_PAGE3 pg3;\n      IPS_SCSI_MODE_PAGE4 pg4;\n      IPS_SCSI_MODE_PAGE8 pg8;\n   } pdata;\n} IPS_SCSI_MODE_PAGE_DATA;\n\n \ntypedef struct ips_sglist {\n   uint32_t address;\n   uint32_t length;\n} IPS_STD_SG_LIST;\n\ntypedef struct ips_enh_sglist {\n   uint32_t address_lo;\n   uint32_t address_hi;\n   uint32_t length;\n   uint32_t reserved;\n} IPS_ENH_SG_LIST;\n\ntypedef union {\n   void             *list;\n   IPS_STD_SG_LIST  *std_list;\n   IPS_ENH_SG_LIST  *enh_list;\n} IPS_SG_LIST;\n\ntypedef struct {\n   char *option_name;\n   int  *option_flag;\n   int   option_value;\n} IPS_OPTION;\n\n \ntypedef struct ips_stat {\n   uint32_t residue_len;\n   void     *scb_addr;\n   uint8_t  padding[12 - sizeof(void *)];\n} ips_stat_t;\n\n \ntypedef struct ips_scb_queue {\n   struct ips_scb *head;\n   struct ips_scb *tail;\n   int             count;\n} ips_scb_queue_t;\n\n \ntypedef struct ips_wait_queue {\n\tstruct scsi_cmnd *head;\n\tstruct scsi_cmnd *tail;\n\tint count;\n} ips_wait_queue_entry_t;\n\ntypedef struct ips_copp_wait_item {\n\tstruct scsi_cmnd *scsi_cmd;\n\tstruct ips_copp_wait_item *next;\n} ips_copp_wait_item_t;\n\ntypedef struct ips_copp_queue {\n   struct ips_copp_wait_item *head;\n   struct ips_copp_wait_item *tail;\n   int                        count;\n} ips_copp_queue_t;\n\n \nstruct ips_ha;\n\ntypedef struct {\n   int       (*reset)(struct ips_ha *);\n   int       (*issue)(struct ips_ha *, struct ips_scb *);\n   int       (*isinit)(struct ips_ha *);\n   int       (*isintr)(struct ips_ha *);\n   int       (*init)(struct ips_ha *);\n   int       (*erasebios)(struct ips_ha *);\n   int       (*programbios)(struct ips_ha *, char *, uint32_t, uint32_t);\n   int       (*verifybios)(struct ips_ha *, char *, uint32_t, uint32_t);\n   void      (*statinit)(struct ips_ha *);\n   int       (*intr)(struct ips_ha *);\n   void      (*enableint)(struct ips_ha *);\n   uint32_t (*statupd)(struct ips_ha *);\n} ips_hw_func_t;\n\ntypedef struct ips_ha {\n   uint8_t            ha_id[IPS_MAX_CHANNELS+1];\n   uint32_t           dcdb_active[IPS_MAX_CHANNELS];\n   uint32_t           io_addr;             \n   uint8_t            ntargets;            \n   uint8_t            nbus;                \n   uint8_t            nlun;                \n   uint16_t           ad_type;             \n   uint16_t           host_num;            \n   uint32_t           max_xfer;            \n   uint32_t           max_cmds;            \n   uint32_t           num_ioctl;           \n   ips_stat_t         sp;                  \n   struct ips_scb    *scbs;                \n   struct ips_scb    *scb_freelist;        \n   ips_wait_queue_entry_t   scb_waitlist;        \n   ips_copp_queue_t   copp_waitlist;       \n   ips_scb_queue_t    scb_activelist;      \n   IPS_IO_CMD        *dummy;               \n   IPS_ADAPTER       *adapt;               \n   IPS_LD_INFO       *logical_drive_info;  \n   dma_addr_t         logical_drive_info_dma_addr;  \n   IPS_ENQ           *enq;                 \n   IPS_CONF          *conf;                \n   IPS_NVRAM_P5      *nvram;               \n   IPS_SUBSYS        *subsys;              \n   char              *ioctl_data;          \n   uint32_t           ioctl_datasize;      \n   uint32_t           cmd_in_progress;     \n   int                flags;               \n   uint8_t            waitflag;            \n   uint8_t            active;\n   int                ioctl_reset;         \n   uint16_t           reset_count;         \n   time64_t           last_ffdc;           \n   uint8_t            slot_num;            \n   int                ioctl_len;           \n   dma_addr_t         ioctl_busaddr;       \n   uint8_t            bios_version[8];     \n   uint32_t           mem_addr;            \n   uint32_t           io_len;              \n   uint32_t           mem_len;             \n   char              __iomem *mem_ptr;     \n   char              __iomem *ioremap_ptr; \n   ips_hw_func_t      func;                \n   struct pci_dev    *pcidev;              \n   char              *flash_data;          \n   int                flash_len;           \n   u32                flash_datasize;      \n   dma_addr_t         flash_busaddr;       \n   dma_addr_t         enq_busaddr;         \n   uint8_t            requires_esl;        \n} ips_ha_t;\n\ntypedef void (*ips_scb_callback) (ips_ha_t *, struct ips_scb *);\n\n \ntypedef struct ips_scb {\n   IPS_HOST_COMMAND  cmd;\n   IPS_DCDB_TABLE    dcdb;\n   uint8_t           target_id;\n   uint8_t           bus;\n   uint8_t           lun;\n   uint8_t           cdb[12];\n   uint32_t          scb_busaddr;\n   uint32_t          old_data_busaddr;  \n   uint32_t          timeout;\n   uint8_t           basic_status;\n   uint8_t           extended_status;\n   uint8_t           breakup;\n   uint8_t           sg_break;\n   uint32_t          data_len;\n   uint32_t          sg_len;\n   uint32_t          flags;\n   uint32_t          op_code;\n   IPS_SG_LIST       sg_list;\n   struct scsi_cmnd *scsi_cmd;\n   struct ips_scb   *q_next;\n   ips_scb_callback  callback;\n   uint32_t          sg_busaddr;\n   int               sg_count;\n   dma_addr_t        data_busaddr;\n} ips_scb_t;\n\ntypedef struct ips_scb_pt {\n   IPS_HOST_COMMAND  cmd;\n   IPS_DCDB_TABLE    dcdb;\n   uint8_t           target_id;\n   uint8_t           bus;\n   uint8_t           lun;\n   uint8_t           cdb[12];\n   uint32_t          scb_busaddr;\n   uint32_t          data_busaddr;\n   uint32_t          timeout;\n   uint8_t           basic_status;\n   uint8_t           extended_status;\n   uint16_t          breakup;\n   uint32_t          data_len;\n   uint32_t          sg_len;\n   uint32_t          flags;\n   uint32_t          op_code;\n   IPS_SG_LIST      *sg_list;\n   struct scsi_cmnd *scsi_cmd;\n   struct ips_scb   *q_next;\n   ips_scb_callback  callback;\n} ips_scb_pt_t;\n\n \ntypedef struct {\n   uint8_t       CoppID[4];\n   uint32_t      CoppCmd;\n   uint32_t      PtBuffer;\n   uint8_t      *CmdBuffer;\n   uint32_t      CmdBSize;\n   ips_scb_pt_t  CoppCP;\n   uint32_t      TimeOut;\n   uint8_t       BasicStatus;\n   uint8_t       ExtendedStatus;\n   uint8_t       AdapterType;\n   uint8_t       reserved;\n} ips_passthru_t;\n\n#endif\n\n \n \n \n \n\n#define IPS_VER_MAJOR 7\n#define IPS_VER_MAJOR_STRING __stringify(IPS_VER_MAJOR)\n#define IPS_VER_MINOR 12\n#define IPS_VER_MINOR_STRING __stringify(IPS_VER_MINOR)\n#define IPS_VER_BUILD 05\n#define IPS_VER_BUILD_STRING __stringify(IPS_VER_BUILD)\n#define IPS_VER_STRING IPS_VER_MAJOR_STRING \".\" \\\n\t\tIPS_VER_MINOR_STRING \".\" IPS_VER_BUILD_STRING\n#define IPS_RELEASE_ID 0x00020000\n#define IPS_BUILD_IDENT 761\n#define IPS_LEGALCOPYRIGHT_STRING \"(C) Copyright IBM Corp. 1994, 2002. All Rights Reserved.\"\n#define IPS_ADAPTECCOPYRIGHT_STRING \"(c) Copyright Adaptec, Inc. 2002 to 2004. All Rights Reserved.\"\n#define IPS_DELLCOPYRIGHT_STRING \"(c) Copyright Dell 2004. All Rights Reserved.\"\n#define IPS_NT_LEGALCOPYRIGHT_STRING \"(C) Copyright IBM Corp. 1994, 2002.\"\n\n \n#define IPS_VER_SERVERAID1 \"2.25.01\"\n#define IPS_VER_SERVERAID2 \"2.88.13\"\n#define IPS_VER_NAVAJO \"2.88.13\"\n#define IPS_VER_SERVERAID3 \"6.10.24\"\n#define IPS_VER_SERVERAID4H \"7.12.02\"\n#define IPS_VER_SERVERAID4MLx \"7.12.02\"\n#define IPS_VER_SARASOTA \"7.12.02\"\n#define IPS_VER_MARCO \"7.12.02\"\n#define IPS_VER_SEBRING \"7.12.02\"\n#define IPS_VER_KEYWEST \"7.12.02\"\n\n \n#define IPS_COMPAT_UNKNOWN \"\"\n#define IPS_COMPAT_CURRENT \"KW710\"\n#define IPS_COMPAT_SERVERAID1 \"2.25.01\"\n#define IPS_COMPAT_SERVERAID2 \"2.88.13\"\n#define IPS_COMPAT_NAVAJO  \"2.88.13\"\n#define IPS_COMPAT_KIOWA \"2.88.13\"\n#define IPS_COMPAT_SERVERAID3H  \"SB610\"\n#define IPS_COMPAT_SERVERAID3L  \"SB610\"\n#define IPS_COMPAT_SERVERAID4H  \"KW710\"\n#define IPS_COMPAT_SERVERAID4M  \"KW710\"\n#define IPS_COMPAT_SERVERAID4L  \"KW710\"\n#define IPS_COMPAT_SERVERAID4Mx \"KW710\"\n#define IPS_COMPAT_SERVERAID4Lx \"KW710\"\n#define IPS_COMPAT_SARASOTA     \"KW710\"\n#define IPS_COMPAT_MARCO        \"KW710\"\n#define IPS_COMPAT_SEBRING      \"KW710\"\n#define IPS_COMPAT_TAMPA        \"KW710\"\n#define IPS_COMPAT_KEYWEST      \"KW710\"\n#define IPS_COMPAT_BIOS \"KW710\"\n\n#define IPS_COMPAT_MAX_ADAPTER_TYPE 18\n#define IPS_COMPAT_ID_LENGTH 8\n\n#define IPS_DEFINE_COMPAT_TABLE(tablename) \\\n   char tablename[IPS_COMPAT_MAX_ADAPTER_TYPE] [IPS_COMPAT_ID_LENGTH] = { \\\n      IPS_COMPAT_UNKNOWN, \\\n      IPS_COMPAT_SERVERAID1, \\\n      IPS_COMPAT_SERVERAID2, \\\n      IPS_COMPAT_NAVAJO, \\\n      IPS_COMPAT_KIOWA, \\\n      IPS_COMPAT_SERVERAID3H, \\\n      IPS_COMPAT_SERVERAID3L, \\\n      IPS_COMPAT_SERVERAID4H, \\\n      IPS_COMPAT_SERVERAID4M, \\\n      IPS_COMPAT_SERVERAID4L, \\\n      IPS_COMPAT_SERVERAID4Mx, \\\n      IPS_COMPAT_SERVERAID4Lx, \\\n      IPS_COMPAT_SARASOTA,            \\\n      IPS_COMPAT_SARASOTA,            \\\n      IPS_COMPAT_MARCO, \\\n      IPS_COMPAT_SEBRING, \\\n      IPS_COMPAT_TAMPA, \\\n      IPS_COMPAT_KEYWEST \\\n   }\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}