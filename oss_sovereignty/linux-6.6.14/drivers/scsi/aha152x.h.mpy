{
  "module_name": "aha152x.h",
  "hash_id": "2ee5a02bb7970af8bbe7fb735e0a7e4282016fc0ae57f31c9a76cbf28fdbb558",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/aha152x.h",
  "human_readable_source": " \n#ifndef _AHA152X_H\n#define _AHA152X_H\n\n \n\n \n#define AHA152X_MAXQUEUE 7\n\n#define AHA152X_REVID \"Adaptec 152x SCSI driver; $Revision: 2.7 $\"\n\n \n#define SCSISEQ      (HOSTIOPORT0+0x00)     \n#define SXFRCTL0     (HOSTIOPORT0+0x01)     \n#define SXFRCTL1     (HOSTIOPORT0+0x02)     \n#define SCSISIG      (HOSTIOPORT0+0x03)     \n#define SCSIRATE     (HOSTIOPORT0+0x04)     \n#define SELID        (HOSTIOPORT0+0x05)     \n#define SCSIID       SELID                  \n#define SCSIDAT      (HOSTIOPORT0+0x06)     \n#define SCSIBUS      (HOSTIOPORT0+0x07)     \n#define STCNT0       (HOSTIOPORT0+0x08)     \n#define STCNT1       (HOSTIOPORT0+0x09)     \n#define STCNT2       (HOSTIOPORT0+0x0a)     \n#define SSTAT0       (HOSTIOPORT0+0x0b)     \n#define SSTAT1       (HOSTIOPORT0+0x0c)     \n#define SSTAT2       (HOSTIOPORT0+0x0d)     \n#define SCSITEST     (HOSTIOPORT0+0x0e)     \n#define SSTAT3       SCSITEST               \n#define SSTAT4       (HOSTIOPORT0+0x0f)     \n#define SIMODE0      (HOSTIOPORT1+0x10)     \n#define SIMODE1      (HOSTIOPORT1+0x11)     \n#define DMACNTRL0    (HOSTIOPORT1+0x12)     \n#define DMACNTRL1    (HOSTIOPORT1+0x13)     \n#define DMASTAT      (HOSTIOPORT1+0x14)     \n#define FIFOSTAT     (HOSTIOPORT1+0x15)     \n#define DATAPORT     (HOSTIOPORT1+0x16)     \n#define BRSTCNTRL    (HOSTIOPORT1+0x18)     \n#define PORTA        (HOSTIOPORT1+0x1a)     \n#define PORTB        (HOSTIOPORT1+0x1b)     \n#define REV          (HOSTIOPORT1+0x1c)     \n#define STACK        (HOSTIOPORT1+0x1d)     \n#define TEST         (HOSTIOPORT1+0x1e)     \n\n#define IO_RANGE        0x20\n\n \n#define O_PORTA         0x1a                \n#define O_PORTB         0x1b                \n#define O_DMACNTRL1     0x13                \n#define O_STACK         0x1d                \n\n \n#define O_TC_PORTA      0x0a                \n#define O_TC_PORTB      0x0b                \n#define O_TC_DMACNTRL1  0x03                \n#define O_TC_STACK      0x0d                \n\n \n\n \n#define TEMODEO      0x80\n#define ENSELO       0x40\n#define ENSELI       0x20\n#define ENRESELI     0x10\n#define ENAUTOATNO   0x08\n#define ENAUTOATNI   0x04\n#define ENAUTOATNP   0x02\n#define SCSIRSTO     0x01\n\n \n#define SCSIEN       0x80\n#define DMAEN        0x40\n#define CH1          0x20\n#define CLRSTCNT     0x10\n#define SPIOEN       0x08\n#define CLRCH1       0x02\n\n \n#define BITBUCKET    0x80\n#define SWRAPEN      0x40\n#define ENSPCHK      0x20\n#define STIMESEL     0x18     \n#define STIMESEL_    3\n#define ENSTIMER     0x04\n#define BYTEALIGN    0x02\n\n \n#define SIG_CDI          0x80\n#define SIG_IOI          0x40\n#define SIG_MSGI         0x20\n#define SIG_ATNI         0x10\n#define SIG_SELI         0x08\n#define SIG_BSYI         0x04\n#define SIG_REQI         0x02\n#define SIG_ACKI         0x01\n\n \n#define P_MASK       (SIG_MSGI|SIG_CDI|SIG_IOI)\n#define P_DATAO      (0)\n#define P_DATAI      (SIG_IOI)\n#define P_CMD        (SIG_CDI)\n#define P_STATUS     (SIG_CDI|SIG_IOI)\n#define P_MSGO       (SIG_MSGI|SIG_CDI)\n#define P_MSGI       (SIG_MSGI|SIG_CDI|SIG_IOI)\n\n \n#define SIG_CDO          0x80\n#define SIG_IOO          0x40\n#define SIG_MSGO         0x20\n#define SIG_ATNO         0x10\n#define SIG_SELO         0x08\n#define SIG_BSYO         0x04\n#define SIG_REQO         0x02\n#define SIG_ACKO         0x01\n\n \n#define SXFR         0x70     \n#define SXFR_        4\n#define SOFS         0x0f     \n\n \n#define OID          0x70\n#define OID_         4\n#define TID          0x07\n\n \n#define GETSTCNT() ( (GETPORT(STCNT2)<<16) \\\n                   + (GETPORT(STCNT1)<< 8) \\\n                   + GETPORT(STCNT0) )\n\n#define SETSTCNT(X) { SETPORT(STCNT2, ((X) & 0xFF0000) >> 16); \\\n                      SETPORT(STCNT1, ((X) & 0x00FF00) >>  8); \\\n                      SETPORT(STCNT0, ((X) & 0x0000FF) ); }\n\n \n#define TARGET       0x80\n#define SELDO        0x40\n#define SELDI        0x20\n#define SELINGO      0x10\n#define SWRAP        0x08\n#define SDONE        0x04\n#define SPIORDY      0x02\n#define DMADONE      0x01\n\n#define SETSDONE     0x80\n#define CLRSELDO     0x40\n#define CLRSELDI     0x20\n#define CLRSELINGO   0x10\n#define CLRSWRAP     0x08\n#define CLRSDONE     0x04\n#define CLRSPIORDY   0x02\n#define CLRDMADONE   0x01\n\n \n#define SELTO        0x80\n#define ATNTARG      0x40\n#define SCSIRSTI     0x20\n#define PHASEMIS     0x10\n#define BUSFREE      0x08\n#define SCSIPERR     0x04\n#define PHASECHG     0x02\n#define REQINIT      0x01\n\n#define CLRSELTIMO   0x80\n#define CLRATNO      0x40\n#define CLRSCSIRSTI  0x20\n#define CLRBUSFREE   0x08\n#define CLRSCSIPERR  0x04\n#define CLRPHASECHG  0x02\n#define CLRREQINIT   0x01\n\n \n#define SOFFSET      0x20\n#define SEMPTY       0x10\n#define SFULL        0x08\n#define SFCNT        0x07     \n\n \n#define SCSICNT      0xf0     \n#define SCSICNT_     4\n#define OFFCNT       0x0f     \n\n \n#define SCTESTU      0x08\n#define SCTESTD      0x04\n#define STCTEST      0x01\n\n \n#define SYNCERR      0x04\n#define FWERR        0x02\n#define FRERR        0x01\n\n#define CLRSYNCERR   0x04\n#define CLRFWERR     0x02\n#define CLRFRERR     0x01\n\n \n#define ENSELDO      0x40\n#define ENSELDI      0x20\n#define ENSELINGO    0x10\n#define ENSWRAP      0x08\n#define ENSDONE      0x04\n#define ENSPIORDY    0x02\n#define ENDMADONE    0x01\n\n \n#define ENSELTIMO    0x80\n#define ENATNTARG    0x40\n#define ENSCSIRST    0x20\n#define ENPHASEMIS   0x10\n#define ENBUSFREE    0x08\n#define ENSCSIPERR   0x04\n#define ENPHASECHG   0x02\n#define ENREQINIT    0x01\n\n \n#define ENDMA        0x80\n#define _8BIT        0x40\n#define DMA          0x20\n#define WRITE_READ   0x08\n#define INTEN        0x04\n#define RSTFIFO      0x02\n#define SWINT        0x01\n\n \n#define PWRDWN       0x80\n#define STK          0x07     \n\n \n#define ATDONE       0x80\n#define WORDRDY      0x40\n#define INTSTAT      0x20\n#define DFIFOFULL    0x10\n#define DFIFOEMP     0x08\n\n \n#define BON          0xf0\n#define BOFF         0x0f\n\n \n#define BOFFTMR      0x40\n#define BONTMR       0x20\n#define STCNTH       0x10\n#define STCNTM       0x08\n#define STCNTL       0x04\n#define SCSIBLK      0x02\n#define DMABLK       0x01\n\n \ntypedef union {\n  struct {\n    unsigned reserved:2;     \n    unsigned tardisc:1;      \n    unsigned syncneg:1;      \n    unsigned msgclasses:2;   \n    unsigned boot:1;         \n    unsigned dma:1;          \n    unsigned id:3;           \n    unsigned irq:2;          \n    unsigned dmachan:2;      \n    unsigned parity:1;       \n  } fields;\n  unsigned short port;\n} aha152x_config ;\n\n#define cf_parity     fields.parity\n#define cf_dmachan    fields.dmachan\n#define cf_irq        fields.irq\n#define cf_id         fields.id\n#define cf_dma        fields.dma\n#define cf_boot       fields.boot\n#define cf_msgclasses fields.msgclasses\n#define cf_syncneg    fields.syncneg\n#define cf_tardisc    fields.tardisc\n#define cf_port       port\n\n \n\n#define SETPORT(PORT, VAL)\toutb( (VAL), (PORT) )\n#define GETPORT(PORT)\t\tinb( PORT )\n#define SETBITS(PORT, BITS)\toutb( (inb(PORT) | (BITS)), (PORT) )\n#define CLRBITS(PORT, BITS)\toutb( (inb(PORT) & ~(BITS)), (PORT) )\n#define TESTHI(PORT, BITS)\t((inb(PORT) & (BITS)) == (BITS))\n#define TESTLO(PORT, BITS)\t((inb(PORT) & (BITS)) == 0)\n\n#define SETRATE(RATE)\t\tSETPORT(SCSIRATE,(RATE) & 0x7f)\n\n#if defined(AHA152X_DEBUG)\nenum {\n  debug_procinfo  = 0x0001,\n  debug_queue     = 0x0002,\n  debug_locking   = 0x0004,\n  debug_intr      = 0x0008,\n  debug_selection = 0x0010,\n  debug_msgo      = 0x0020,\n  debug_msgi      = 0x0040,\n  debug_status    = 0x0080,\n  debug_cmd       = 0x0100,\n  debug_datai     = 0x0200,\n  debug_datao     = 0x0400,\n  debug_eh\t  = 0x0800,\n  debug_done      = 0x1000,\n  debug_phases    = 0x2000,\n};\n#endif\n\n \nstruct aha152x_setup {\n\tint io_port;\n\tint irq;\n\tint scsiid;\n\tint reconnect;\n\tint parity;\n\tint synchronous;\n\tint delay;\n\tint ext_trans;\n\tint tc1550;\n#if defined(AHA152X_DEBUG)\n\tint debug;\n#endif\n\tchar *conf;\n};\n\nstruct Scsi_Host *aha152x_probe_one(struct aha152x_setup *);\nvoid aha152x_release(struct Scsi_Host *);\nint aha152x_host_reset_host(struct Scsi_Host *);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}