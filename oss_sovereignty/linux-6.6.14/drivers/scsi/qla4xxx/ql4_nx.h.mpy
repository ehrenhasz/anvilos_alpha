{
  "module_name": "ql4_nx.h",
  "hash_id": "0fa33d5e414cfa0c41faff488569290f9e87e2ed4762e5e5a712ae50cd303b5a",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/qla4xxx/ql4_nx.h",
  "human_readable_source": " \n \n#ifndef __QLA_NX_H\n#define __QLA_NX_H\n\n \n#define PHAN_INITIALIZE_FAILED\t\t0xffff\n#define PHAN_INITIALIZE_COMPLETE\t0xff01\n\n \n#define PHAN_INITIALIZE_ACK\t\t0xf00f\n#define PHAN_PEG_RCV_INITIALIZED\t0xff01\n\n \n#define QLA82XX_CRB_BASE\t\t(QLA82XX_CAM_RAM(0x200))\n#define QLA82XX_REG(X)\t\t\t(QLA82XX_CRB_BASE+(X))\n#define CRB_CMDPEG_STATE\t\tQLA82XX_REG(0x50)\n#define CRB_RCVPEG_STATE\t\tQLA82XX_REG(0x13c)\n#define CRB_DMA_SHIFT\t\t\tQLA82XX_REG(0xcc)\n#define CRB_TEMP_STATE\t\t\tQLA82XX_REG(0x1b4)\n#define CRB_CMDPEG_CHECK_RETRY_COUNT\t60\n#define CRB_CMDPEG_CHECK_DELAY\t\t500\n\n#define qla82xx_get_temp_val(x)\t\t((x) >> 16)\n#define qla82xx_get_temp_state(x)\t((x) & 0xffff)\n#define qla82xx_encode_temp(val, state)\t(((val) << 16) | (state))\n\n \nenum {\n\tQLA82XX_TEMP_NORMAL = 0x1,\t \n\tQLA82XX_TEMP_WARN,\t \n\tQLA82XX_TEMP_PANIC\t \n};\n\n#define CRB_NIU_XG_PAUSE_CTL_P0\t\t0x1\n#define CRB_NIU_XG_PAUSE_CTL_P1\t\t0x8\n\n#define QLA82XX_HW_H0_CH_HUB_ADR\t0x05\n#define QLA82XX_HW_H1_CH_HUB_ADR\t0x0E\n#define QLA82XX_HW_H2_CH_HUB_ADR\t0x03\n#define QLA82XX_HW_H3_CH_HUB_ADR\t0x01\n#define QLA82XX_HW_H4_CH_HUB_ADR\t0x06\n#define QLA82XX_HW_H5_CH_HUB_ADR\t0x07\n#define QLA82XX_HW_H6_CH_HUB_ADR\t0x08\n\n \n#define QLA82XX_HW_MN_CRB_AGT_ADR\t0x15\n#define QLA82XX_HW_MS_CRB_AGT_ADR\t0x25\n\n \n#define QLA82XX_HW_PS_CRB_AGT_ADR\t0x73\n#define QLA82XX_HW_QMS_CRB_AGT_ADR\t0x00\n#define QLA82XX_HW_RPMX3_CRB_AGT_ADR\t0x0b\n#define QLA82XX_HW_SQGS0_CRB_AGT_ADR\t0x01\n#define QLA82XX_HW_SQGS1_CRB_AGT_ADR\t0x02\n#define QLA82XX_HW_SQGS2_CRB_AGT_ADR\t0x03\n#define QLA82XX_HW_SQGS3_CRB_AGT_ADR\t0x04\n#define QLA82XX_HW_C2C0_CRB_AGT_ADR\t0x58\n#define QLA82XX_HW_C2C1_CRB_AGT_ADR\t0x59\n#define QLA82XX_HW_C2C2_CRB_AGT_ADR\t0x5a\n#define QLA82XX_HW_RPMX2_CRB_AGT_ADR\t0x0a\n#define QLA82XX_HW_RPMX4_CRB_AGT_ADR\t0x0c\n#define QLA82XX_HW_RPMX7_CRB_AGT_ADR\t0x0f\n#define QLA82XX_HW_RPMX9_CRB_AGT_ADR\t0x12\n#define QLA82XX_HW_SMB_CRB_AGT_ADR\t0x18\n\n \n#define QLA82XX_HW_NIU_CRB_AGT_ADR\t0x31\n#define QLA82XX_HW_I2C0_CRB_AGT_ADR\t0x19\n#define QLA82XX_HW_I2C1_CRB_AGT_ADR\t0x29\n\n#define QLA82XX_HW_SN_CRB_AGT_ADR\t0x10\n#define QLA82XX_HW_I2Q_CRB_AGT_ADR\t0x20\n#define QLA82XX_HW_LPC_CRB_AGT_ADR\t0x22\n#define QLA82XX_HW_ROMUSB_CRB_AGT_ADR   0x21\n#define QLA82XX_HW_QM_CRB_AGT_ADR\t0x66\n#define QLA82XX_HW_SQG0_CRB_AGT_ADR\t0x60\n#define QLA82XX_HW_SQG1_CRB_AGT_ADR\t0x61\n#define QLA82XX_HW_SQG2_CRB_AGT_ADR\t0x62\n#define QLA82XX_HW_SQG3_CRB_AGT_ADR\t0x63\n#define QLA82XX_HW_RPMX1_CRB_AGT_ADR    0x09\n#define QLA82XX_HW_RPMX5_CRB_AGT_ADR    0x0d\n#define QLA82XX_HW_RPMX6_CRB_AGT_ADR    0x0e\n#define QLA82XX_HW_RPMX8_CRB_AGT_ADR    0x11\n\n \n#define QLA82XX_HW_PH_CRB_AGT_ADR\t0x1A\n#define QLA82XX_HW_SRE_CRB_AGT_ADR\t0x50\n#define QLA82XX_HW_EG_CRB_AGT_ADR\t0x51\n#define QLA82XX_HW_RPMX0_CRB_AGT_ADR\t0x08\n\n \n#define QLA82XX_HW_PEGN0_CRB_AGT_ADR\t0x40\n#define QLA82XX_HW_PEGN1_CRB_AGT_ADR\t0x41\n#define QLA82XX_HW_PEGN2_CRB_AGT_ADR\t0x42\n#define QLA82XX_HW_PEGN3_CRB_AGT_ADR\t0x43\n#define QLA82XX_HW_PEGNI_CRB_AGT_ADR\t0x44\n#define QLA82XX_HW_PEGND_CRB_AGT_ADR\t0x45\n#define QLA82XX_HW_PEGNC_CRB_AGT_ADR\t0x46\n#define QLA82XX_HW_PEGR0_CRB_AGT_ADR\t0x47\n#define QLA82XX_HW_PEGR1_CRB_AGT_ADR\t0x48\n#define QLA82XX_HW_PEGR2_CRB_AGT_ADR\t0x49\n#define QLA82XX_HW_PEGR3_CRB_AGT_ADR\t0x4a\n#define QLA82XX_HW_PEGN4_CRB_AGT_ADR\t0x4b\n\n \n#define QLA82XX_HW_PEGS0_CRB_AGT_ADR\t0x40\n#define QLA82XX_HW_PEGS1_CRB_AGT_ADR\t0x41\n#define QLA82XX_HW_PEGS2_CRB_AGT_ADR\t0x42\n#define QLA82XX_HW_PEGS3_CRB_AGT_ADR\t0x43\n\n#define QLA82XX_HW_PEGSI_CRB_AGT_ADR\t0x44\n#define QLA82XX_HW_PEGSD_CRB_AGT_ADR\t0x45\n#define QLA82XX_HW_PEGSC_CRB_AGT_ADR\t0x46\n\n \n#define QLA82XX_HW_CAS0_CRB_AGT_ADR\t0x46\n#define QLA82XX_HW_CAS1_CRB_AGT_ADR\t0x47\n#define QLA82XX_HW_CAS2_CRB_AGT_ADR\t0x48\n#define QLA82XX_HW_CAS3_CRB_AGT_ADR\t0x49\n#define QLA82XX_HW_NCM_CRB_AGT_ADR\t0x16\n#define QLA82XX_HW_TMR_CRB_AGT_ADR\t0x17\n#define QLA82XX_HW_XDMA_CRB_AGT_ADR\t0x05\n#define QLA82XX_HW_OCM0_CRB_AGT_ADR\t0x06\n#define QLA82XX_HW_OCM1_CRB_AGT_ADR\t0x07\n\n \n \n#define QLA82XX_HW_PX_MAP_CRB_PH\t0\n#define QLA82XX_HW_PX_MAP_CRB_PS\t1\n#define QLA82XX_HW_PX_MAP_CRB_MN\t2\n#define QLA82XX_HW_PX_MAP_CRB_MS\t3\n#define QLA82XX_HW_PX_MAP_CRB_SRE\t5\n#define QLA82XX_HW_PX_MAP_CRB_NIU\t6\n#define QLA82XX_HW_PX_MAP_CRB_QMN\t7\n#define QLA82XX_HW_PX_MAP_CRB_SQN0\t8\n#define QLA82XX_HW_PX_MAP_CRB_SQN1\t9\n#define QLA82XX_HW_PX_MAP_CRB_SQN2\t10\n#define QLA82XX_HW_PX_MAP_CRB_SQN3\t11\n#define QLA82XX_HW_PX_MAP_CRB_QMS\t12\n#define QLA82XX_HW_PX_MAP_CRB_SQS0\t13\n#define QLA82XX_HW_PX_MAP_CRB_SQS1\t14\n#define QLA82XX_HW_PX_MAP_CRB_SQS2\t15\n#define QLA82XX_HW_PX_MAP_CRB_SQS3\t16\n#define QLA82XX_HW_PX_MAP_CRB_PGN0\t17\n#define QLA82XX_HW_PX_MAP_CRB_PGN1\t18\n#define QLA82XX_HW_PX_MAP_CRB_PGN2\t19\n#define QLA82XX_HW_PX_MAP_CRB_PGN3\t20\n#define QLA82XX_HW_PX_MAP_CRB_PGN4\tQLA82XX_HW_PX_MAP_CRB_SQS2\n#define QLA82XX_HW_PX_MAP_CRB_PGND\t21\n#define QLA82XX_HW_PX_MAP_CRB_PGNI\t22\n#define QLA82XX_HW_PX_MAP_CRB_PGS0\t23\n#define QLA82XX_HW_PX_MAP_CRB_PGS1\t24\n#define QLA82XX_HW_PX_MAP_CRB_PGS2\t25\n#define QLA82XX_HW_PX_MAP_CRB_PGS3\t26\n#define QLA82XX_HW_PX_MAP_CRB_PGSD\t27\n#define QLA82XX_HW_PX_MAP_CRB_PGSI\t28\n#define QLA82XX_HW_PX_MAP_CRB_SN\t29\n#define QLA82XX_HW_PX_MAP_CRB_EG\t31\n#define QLA82XX_HW_PX_MAP_CRB_PH2\t32\n#define QLA82XX_HW_PX_MAP_CRB_PS2\t33\n#define QLA82XX_HW_PX_MAP_CRB_CAM\t34\n#define QLA82XX_HW_PX_MAP_CRB_CAS0\t35\n#define QLA82XX_HW_PX_MAP_CRB_CAS1\t36\n#define QLA82XX_HW_PX_MAP_CRB_CAS2\t37\n#define QLA82XX_HW_PX_MAP_CRB_C2C0\t38\n#define QLA82XX_HW_PX_MAP_CRB_C2C1\t39\n#define QLA82XX_HW_PX_MAP_CRB_TIMR\t40\n#define QLA82XX_HW_PX_MAP_CRB_RPMX1\t42\n#define QLA82XX_HW_PX_MAP_CRB_RPMX2\t43\n#define QLA82XX_HW_PX_MAP_CRB_RPMX3\t44\n#define QLA82XX_HW_PX_MAP_CRB_RPMX4\t45\n#define QLA82XX_HW_PX_MAP_CRB_RPMX5\t46\n#define QLA82XX_HW_PX_MAP_CRB_RPMX6\t47\n#define QLA82XX_HW_PX_MAP_CRB_RPMX7\t48\n#define QLA82XX_HW_PX_MAP_CRB_XDMA\t49\n#define QLA82XX_HW_PX_MAP_CRB_I2Q\t50\n#define QLA82XX_HW_PX_MAP_CRB_ROMUSB    51\n#define QLA82XX_HW_PX_MAP_CRB_CAS3\t52\n#define QLA82XX_HW_PX_MAP_CRB_RPMX0\t53\n#define QLA82XX_HW_PX_MAP_CRB_RPMX8\t54\n#define QLA82XX_HW_PX_MAP_CRB_RPMX9\t55\n#define QLA82XX_HW_PX_MAP_CRB_OCM0\t56\n#define QLA82XX_HW_PX_MAP_CRB_OCM1\t57\n#define QLA82XX_HW_PX_MAP_CRB_SMB\t58\n#define QLA82XX_HW_PX_MAP_CRB_I2C0\t59\n#define QLA82XX_HW_PX_MAP_CRB_I2C1\t60\n#define QLA82XX_HW_PX_MAP_CRB_LPC\t61\n#define QLA82XX_HW_PX_MAP_CRB_PGNC\t62\n#define QLA82XX_HW_PX_MAP_CRB_PGR0\t63\n#define QLA82XX_HW_PX_MAP_CRB_PGR1\t4\n#define QLA82XX_HW_PX_MAP_CRB_PGR2\t30\n#define QLA82XX_HW_PX_MAP_CRB_PGR3\t41\n\n \n \n\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_MN\t((QLA82XX_HW_H0_CH_HUB_ADR << 7) | \\\n\t\t\t\t\tQLA82XX_HW_MN_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_PH\t((QLA82XX_HW_H0_CH_HUB_ADR << 7) | \\\n\t\t\t\t\tQLA82XX_HW_PH_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_MS\t((QLA82XX_HW_H0_CH_HUB_ADR << 7) | \\\n\t\t\t\t\tQLA82XX_HW_MS_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_PS\t((QLA82XX_HW_H1_CH_HUB_ADR << 7) | \\\n\t\t\t\t\tQLA82XX_HW_PS_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_SS\t((QLA82XX_HW_H1_CH_HUB_ADR << 7) | \\\n\t\t\t\t\tQLA82XX_HW_SS_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_RPMX3    ((QLA82XX_HW_H1_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_RPMX3_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_QMS\t    ((QLA82XX_HW_H1_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_QMS_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_SQS0     ((QLA82XX_HW_H1_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_SQGS0_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_SQS1     ((QLA82XX_HW_H1_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_SQGS1_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_SQS2     ((QLA82XX_HW_H1_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_SQGS2_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_SQS3     ((QLA82XX_HW_H1_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_SQGS3_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_C2C0     ((QLA82XX_HW_H1_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_C2C0_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_C2C1     ((QLA82XX_HW_H1_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_C2C1_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_RPMX2    ((QLA82XX_HW_H1_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_RPMX2_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_RPMX4    ((QLA82XX_HW_H1_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_RPMX4_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_RPMX7    ((QLA82XX_HW_H1_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_RPMX7_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_RPMX9    ((QLA82XX_HW_H1_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_RPMX9_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_SMB\t    ((QLA82XX_HW_H1_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_SMB_CRB_AGT_ADR)\n\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_NIU      ((QLA82XX_HW_H2_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_NIU_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_I2C0     ((QLA82XX_HW_H2_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_I2C0_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_I2C1     ((QLA82XX_HW_H2_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_I2C1_CRB_AGT_ADR)\n\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_SRE      ((QLA82XX_HW_H3_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_SRE_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_EG       ((QLA82XX_HW_H3_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_EG_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_RPMX0    ((QLA82XX_HW_H3_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_RPMX0_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_QMN      ((QLA82XX_HW_H3_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_QM_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_SQN0     ((QLA82XX_HW_H3_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_SQG0_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_SQN1     ((QLA82XX_HW_H3_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_SQG1_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_SQN2     ((QLA82XX_HW_H3_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_SQG2_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_SQN3     ((QLA82XX_HW_H3_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_SQG3_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_RPMX1    ((QLA82XX_HW_H3_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_RPMX1_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_RPMX5    ((QLA82XX_HW_H3_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_RPMX5_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_RPMX6    ((QLA82XX_HW_H3_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_RPMX6_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_RPMX8    ((QLA82XX_HW_H3_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_RPMX8_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_CAS0     ((QLA82XX_HW_H3_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_CAS0_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_CAS1     ((QLA82XX_HW_H3_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_CAS1_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_CAS2     ((QLA82XX_HW_H3_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_CAS2_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_CAS3     ((QLA82XX_HW_H3_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_CAS3_CRB_AGT_ADR)\n\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_PGNI     ((QLA82XX_HW_H4_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_PEGNI_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_PGND     ((QLA82XX_HW_H4_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_PEGND_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_PGN0     ((QLA82XX_HW_H4_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_PEGN0_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_PGN1     ((QLA82XX_HW_H4_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_PEGN1_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_PGN2     ((QLA82XX_HW_H4_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_PEGN2_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_PGN3     ((QLA82XX_HW_H4_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_PEGN3_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_PGN4     ((QLA82XX_HW_H4_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_PEGN4_CRB_AGT_ADR)\n\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_PGNC     ((QLA82XX_HW_H4_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_PEGNC_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_PGR0     ((QLA82XX_HW_H4_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_PEGR0_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_PGR1     ((QLA82XX_HW_H4_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_PEGR1_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_PGR2     ((QLA82XX_HW_H4_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_PEGR2_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_PGR3     ((QLA82XX_HW_H4_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_PEGR3_CRB_AGT_ADR)\n\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_PGSI     ((QLA82XX_HW_H5_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_PEGSI_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_PGSD     ((QLA82XX_HW_H5_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_PEGSD_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_PGS0     ((QLA82XX_HW_H5_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_PEGS0_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_PGS1     ((QLA82XX_HW_H5_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_PEGS1_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_PGS2     ((QLA82XX_HW_H5_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_PEGS2_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_PGS3     ((QLA82XX_HW_H5_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_PEGS3_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_PGSC     ((QLA82XX_HW_H5_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_PEGSC_CRB_AGT_ADR)\n\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_CAM      ((QLA82XX_HW_H6_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_NCM_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_TIMR     ((QLA82XX_HW_H6_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_TMR_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_XDMA     ((QLA82XX_HW_H6_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_XDMA_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_SN       ((QLA82XX_HW_H6_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_SN_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_I2Q      ((QLA82XX_HW_H6_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_I2Q_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_ROMUSB   ((QLA82XX_HW_H6_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_ROMUSB_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_OCM0     ((QLA82XX_HW_H6_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_OCM0_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_OCM1     ((QLA82XX_HW_H6_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_OCM1_CRB_AGT_ADR)\n#define QLA82XX_HW_CRB_HUB_AGT_ADR_LPC      ((QLA82XX_HW_H6_CH_HUB_ADR << 7) | \\\n\t\t\t\t\t    QLA82XX_HW_LPC_CRB_AGT_ADR)\n\n#define ROMUSB_GLB\t(QLA82XX_CRB_ROMUSB + 0x00000)\n#define QLA82XX_ROMUSB_GLB_PEGTUNE_DONE\t\t(ROMUSB_GLB + 0x005c)\n#define QLA82XX_ROMUSB_GLB_STATUS\t\t(ROMUSB_GLB + 0x0004)\n#define QLA82XX_ROMUSB_GLB_SW_RESET\t\t(ROMUSB_GLB + 0x0008)\n#define QLA82XX_ROMUSB_ROM_ADDRESS\t\t(ROMUSB_ROM + 0x0008)\n#define QLA82XX_ROMUSB_ROM_WDATA\t\t(ROMUSB_ROM + 0x000c)\n#define QLA82XX_ROMUSB_ROM_ABYTE_CNT\t\t(ROMUSB_ROM + 0x0010)\n#define QLA82XX_ROMUSB_ROM_DUMMY_BYTE_CNT\t(ROMUSB_ROM + 0x0014)\n#define QLA82XX_ROMUSB_ROM_RDATA\t\t(ROMUSB_ROM + 0x0018)\n\n#define ROMUSB_ROM\t(QLA82XX_CRB_ROMUSB + 0x10000)\n#define QLA82XX_ROMUSB_ROM_INSTR_OPCODE\t(ROMUSB_ROM + 0x0004)\n#define QLA82XX_ROMUSB_GLB_CAS_RST\t(ROMUSB_GLB + 0x0038)\n\n \n#define ROM_LOCK_DRIVER\t\t0x0d417340\n\n#define QLA82XX_PCI_CRB_WINDOWSIZE\t0x00100000     \n#define QLA82XX_PCI_CRB_WINDOW(A)\t(QLA82XX_PCI_CRBSPACE + \\\n\t\t\t\t\t(A)*QLA82XX_PCI_CRB_WINDOWSIZE)\n\n#define QLA82XX_CRB_C2C_0 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_C2C0)\n#define QLA82XX_CRB_C2C_1 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_C2C1)\n#define QLA82XX_CRB_C2C_2 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_C2C2)\n#define QLA82XX_CRB_CAM\t\\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_CAM)\n#define QLA82XX_CRB_CASPER \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_CAS)\n#define QLA82XX_CRB_CASPER_0 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_CAS0)\n#define QLA82XX_CRB_CASPER_1 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_CAS1)\n#define QLA82XX_CRB_CASPER_2 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_CAS2)\n#define QLA82XX_CRB_DDR_MD \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_MS)\n#define QLA82XX_CRB_DDR_NET \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_MN)\n#define QLA82XX_CRB_EPG \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_EG)\n#define QLA82XX_CRB_I2Q \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_I2Q)\n#define QLA82XX_CRB_NIU\t\\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_NIU)\n \n#define QLA82XX_CRB_PCIX_HOST \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_PH)\n#define QLA82XX_CRB_PCIX_HOST2 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_PH2)\n#define QLA82XX_CRB_PCIX_MD \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_PS)\n#define QLA82XX_CRB_PCIE\tQLA82XX_CRB_PCIX_MD\n \n#define QLA82XX_CRB_PCIE2 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_PS2)\n\n#define QLA82XX_CRB_PEG_MD_0 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_PGS0)\n#define QLA82XX_CRB_PEG_MD_1 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_PGS1)\n#define QLA82XX_CRB_PEG_MD_2 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_PGS2)\n#define QLA82XX_CRB_PEG_MD_3 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_PGS3)\n#define QLA82XX_CRB_PEG_MD_3 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_PGS3)\n#define QLA82XX_CRB_PEG_MD_D \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_PGSD)\n#define QLA82XX_CRB_PEG_MD_I \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_PGSI)\n#define QLA82XX_CRB_PEG_NET_0 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_PGN0)\n#define QLA82XX_CRB_PEG_NET_1 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_PGN1)\n#define QLA82XX_CRB_PEG_NET_2 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_PGN2)\n#define QLA82XX_CRB_PEG_NET_3 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_PGN3)\n#define QLA82XX_CRB_PEG_NET_4 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_PGN4)\n#define QLA82XX_CRB_PEG_NET_D \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_PGND)\n#define QLA82XX_CRB_PEG_NET_I \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_PGNI)\n#define QLA82XX_CRB_PQM_MD \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_QMS)\n#define QLA82XX_CRB_PQM_NET \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_QMN)\n#define QLA82XX_CRB_QDR_MD \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_SS)\n#define QLA82XX_CRB_QDR_NET \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_SN)\n#define QLA82XX_CRB_ROMUSB \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_ROMUSB)\n#define QLA82XX_CRB_RPMX_0 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_RPMX0)\n#define QLA82XX_CRB_RPMX_1 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_RPMX1)\n#define QLA82XX_CRB_RPMX_2 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_RPMX2)\n#define QLA82XX_CRB_RPMX_3 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_RPMX3)\n#define QLA82XX_CRB_RPMX_4 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_RPMX4)\n#define QLA82XX_CRB_RPMX_5 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_RPMX5)\n#define QLA82XX_CRB_RPMX_6 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_RPMX6)\n#define QLA82XX_CRB_RPMX_7 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_RPMX7)\n#define QLA82XX_CRB_SQM_MD_0 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_SQS0)\n#define QLA82XX_CRB_SQM_MD_1 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_SQS1)\n#define QLA82XX_CRB_SQM_MD_2 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_SQS2)\n#define QLA82XX_CRB_SQM_MD_3 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_SQS3)\n#define QLA82XX_CRB_SQM_NET_0 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_SQN0)\n#define QLA82XX_CRB_SQM_NET_1 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_SQN1)\n#define QLA82XX_CRB_SQM_NET_2 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_SQN2)\n#define QLA82XX_CRB_SQM_NET_3 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_SQN3)\n#define QLA82XX_CRB_SRE \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_SRE)\n#define QLA82XX_CRB_TIMER \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_TIMR)\n#define QLA82XX_CRB_XDMA \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_XDMA)\n#define QLA82XX_CRB_I2C0 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_I2C0)\n#define QLA82XX_CRB_I2C1 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_I2C1)\n#define QLA82XX_CRB_OCM0 \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_OCM0)\n#define QLA82XX_CRB_SMB \\\n\tQLA82XX_PCI_CRB_WINDOW(QLA82XX_HW_PX_MAP_CRB_SMB)\n\n#define QLA82XX_CRB_MAX\t\tQLA82XX_PCI_CRB_WINDOW(64)\n\n \n#define QLA8XXX_ADDR_DDR_NET\t\t(0x0000000000000000ULL)\n#define QLA8XXX_ADDR_DDR_NET_MAX\t(0x000000000fffffffULL)\n\n \n \n#define QLA82XX_P2_ADDR_PCIE\t(0x0000000800000000ULL)\n#define QLA82XX_P3_ADDR_PCIE\t(0x0000008000000000ULL)\n#define QLA82XX_ADDR_PCIE_MAX\t(0x0000000FFFFFFFFFULL)\n#define QLA8XXX_ADDR_OCM0\t(0x0000000200000000ULL)\n#define QLA8XXX_ADDR_OCM0_MAX\t(0x00000002000fffffULL)\n#define QLA8XXX_ADDR_OCM1\t(0x0000000200400000ULL)\n#define QLA8XXX_ADDR_OCM1_MAX\t(0x00000002004fffffULL)\n#define QLA8XXX_ADDR_QDR_NET\t(0x0000000300000000ULL)\n\n#define QLA82XX_P2_ADDR_QDR_NET_MAX\t(0x00000003001fffffULL)\n#define QLA82XX_P3_ADDR_QDR_NET_MAX\t(0x0000000303ffffffULL)\n#define QLA8XXX_ADDR_QDR_NET_MAX\t(0x0000000307ffffffULL)\n\n#define QLA82XX_PCI_CRBSPACE\t\t(unsigned long)0x06000000\n#define QLA82XX_PCI_DIRECT_CRB\t\t(unsigned long)0x04400000\n#define QLA82XX_PCI_CAMQM\t\t(unsigned long)0x04800000\n#define QLA82XX_PCI_CAMQM_MAX\t\t(unsigned long)0x04ffffff\n#define QLA82XX_PCI_DDR_NET\t\t(unsigned long)0x00000000\n#define QLA82XX_PCI_QDR_NET\t\t(unsigned long)0x04000000\n#define QLA82XX_PCI_QDR_NET_MAX\t\t(unsigned long)0x043fffff\n\n \n#define QLA8XXX_ADDR_IN_RANGE(addr, low, high)            \\\n\t(((addr) <= (high)) && ((addr) >= (low)))\n\n \n#define MIU_CONTROL\t\t\t(0x000)\n#define MIU_TAG\t\t\t\t(0x004)\n#define MIU_TEST_AGT_CTRL\t\t(0x090)\n#define MIU_TEST_AGT_ADDR_LO\t\t(0x094)\n#define MIU_TEST_AGT_ADDR_HI\t\t(0x098)\n#define MIU_TEST_AGT_WRDATA_LO\t\t(0x0a0)\n#define MIU_TEST_AGT_WRDATA_HI\t\t(0x0a4)\n#define MIU_TEST_AGT_WRDATA(i)\t\t(0x0a0+(4*(i)))\n#define MIU_TEST_AGT_RDDATA_LO\t\t(0x0a8)\n#define MIU_TEST_AGT_RDDATA_HI\t\t(0x0ac)\n#define MIU_TEST_AGT_RDDATA(i)\t\t(0x0a8+(4*(i)))\n#define MIU_TEST_AGT_ADDR_MASK\t\t0xfffffff8\n#define MIU_TEST_AGT_UPPER_ADDR(off)\t(0)\n\n \n#define MIU_TA_CTL_START\t1\n#define MIU_TA_CTL_ENABLE\t2\n#define MIU_TA_CTL_WRITE\t4\n#define MIU_TA_CTL_BUSY\t\t8\n\n#define MIU_TA_CTL_WRITE_ENABLE\t\t(MIU_TA_CTL_WRITE | MIU_TA_CTL_ENABLE)\n#define MIU_TA_CTL_WRITE_START\t\t(MIU_TA_CTL_WRITE | MIU_TA_CTL_ENABLE |\\\n\t\t\t\t\t MIU_TA_CTL_START)\n#define MIU_TA_CTL_START_ENABLE\t\t(MIU_TA_CTL_START | MIU_TA_CTL_ENABLE)\n\n \n# define QLA82XX_CAM_RAM_BASE\t(QLA82XX_CRB_CAM + 0x02000)\n# define QLA82XX_CAM_RAM(reg)\t(QLA82XX_CAM_RAM_BASE + (reg))\n\n#define QLA82XX_PORT_MODE_ADDR\t\t(QLA82XX_CAM_RAM(0x24))\n#define QLA82XX_PEG_HALT_STATUS1\t(QLA82XX_CAM_RAM(0xa8))\n#define QLA82XX_PEG_HALT_STATUS2\t(QLA82XX_CAM_RAM(0xac))\n#define QLA82XX_PEG_ALIVE_COUNTER\t(QLA82XX_CAM_RAM(0xb0))\n#define QLA82XX_CAM_RAM_DB1\t\t(QLA82XX_CAM_RAM(0x1b0))\n#define QLA82XX_CAM_RAM_DB2\t\t(QLA82XX_CAM_RAM(0x1b4))\n\n#define HALT_STATUS_UNRECOVERABLE\t0x80000000\n#define HALT_STATUS_RECOVERABLE\t\t0x40000000\n\n\n#define QLA82XX_ROM_LOCK_ID\t\t(QLA82XX_CAM_RAM(0x100))\n#define QLA82XX_CRB_WIN_LOCK_ID\t\t(QLA82XX_CAM_RAM(0x124))\n#define QLA82XX_FW_VERSION_MAJOR\t(QLA82XX_CAM_RAM(0x150))\n#define QLA82XX_FW_VERSION_MINOR\t(QLA82XX_CAM_RAM(0x154))\n#define QLA82XX_FW_VERSION_SUB\t\t(QLA82XX_CAM_RAM(0x158))\n#define QLA82XX_PCIE_REG(reg)\t\t(QLA82XX_CRB_PCIE + (reg))\n\n \n#define QLA82XX_CRB_DRV_ACTIVE\t\t(QLA82XX_CAM_RAM(0x138))\n#define QLA82XX_CRB_DEV_STATE\t\t(QLA82XX_CAM_RAM(0x140))\n#define QLA82XX_CRB_DRV_STATE\t\t(QLA82XX_CAM_RAM(0x144))\n#define QLA82XX_CRB_DRV_SCRATCH\t\t(QLA82XX_CAM_RAM(0x148))\n#define QLA82XX_CRB_DEV_PART_INFO\t(QLA82XX_CAM_RAM(0x14c))\n#define QLA82XX_CRB_DRV_IDC_VERSION\t(QLA82XX_CAM_RAM(0x174))\n\nenum qla_regs {\n\tQLA8XXX_PEG_HALT_STATUS1 = 0,\n\tQLA8XXX_PEG_HALT_STATUS2,\n\tQLA8XXX_PEG_ALIVE_COUNTER,\n\tQLA8XXX_CRB_DRV_ACTIVE,\n\tQLA8XXX_CRB_DEV_STATE,\n\tQLA8XXX_CRB_DRV_STATE,\n\tQLA8XXX_CRB_DRV_SCRATCH,\n\tQLA8XXX_CRB_DEV_PART_INFO,\n\tQLA8XXX_CRB_DRV_IDC_VERSION,\n\tQLA8XXX_FW_VERSION_MAJOR,\n\tQLA8XXX_FW_VERSION_MINOR,\n\tQLA8XXX_FW_VERSION_SUB,\n\tQLA8XXX_CRB_CMDPEG_STATE,\n\tQLA8XXX_CRB_TEMP_STATE,\n};\n\n \n#define QLA8XXX_DEV_COLD\t\t1\n#define QLA8XXX_DEV_INITIALIZING\t2\n#define QLA8XXX_DEV_READY\t\t3\n#define QLA8XXX_DEV_NEED_RESET\t\t4\n#define QLA8XXX_DEV_NEED_QUIESCENT\t5\n#define QLA8XXX_DEV_FAILED\t\t6\n#define QLA8XXX_DEV_QUIESCENT\t\t7\n#define MAX_STATES\t\t\t8  \n\n#define QLA82XX_IDC_VERSION\t\t0x1\n#define ROM_DEV_INIT_TIMEOUT\t\t30\n#define ROM_DRV_RESET_ACK_TIMEOUT\t10\n\n#define PCIE_SETUP_FUNCTION\t\t(0x12040)\n#define PCIE_SETUP_FUNCTION2\t\t(0x12048)\n\n#define QLA82XX_PCIX_PS_REG(reg)\t(QLA82XX_CRB_PCIX_MD + (reg))\n#define QLA82XX_PCIX_PS2_REG(reg)\t(QLA82XX_CRB_PCIE2 + (reg))\n\n#define PCIE_SEM2_LOCK\t\t(0x1c010)   \n#define PCIE_SEM2_UNLOCK\t(0x1c014)   \n#define PCIE_SEM5_LOCK\t\t(0x1c028)   \n#define PCIE_SEM5_UNLOCK\t(0x1c02c)   \n#define PCIE_SEM7_LOCK\t\t(0x1c038)   \n#define PCIE_SEM7_UNLOCK\t(0x1c03c)   \n\n \n#define QLA82XX_MSIX_TBL_SPACE\t\t8192\n#define QLA82XX_PCI_REG_MSIX_TBL\t0x44\n#define QLA82XX_PCI_MSIX_CONTROL\t0x40\n\nstruct crb_128M_2M_sub_block_map {\n\tunsigned valid;\n\tunsigned start_128M;\n\tunsigned end_128M;\n\tunsigned start_2M;\n};\n\nstruct crb_128M_2M_block_map {\n\tstruct crb_128M_2M_sub_block_map sub_block[16];\n};\n\nstruct crb_addr_pair {\n\tlong addr;\n\tlong data;\n};\n\n#define ADDR_ERROR\t((unsigned long) 0xffffffff)\n#define MAX_CTL_CHECK\t1000\n#define QLA82XX_FWERROR_CODE(code)\t((code >> 8) & 0x1fffff)\n\n \n\n \n#define PCIX_TARGET_STATUS\t(0x10118)\n#define PCIX_TARGET_STATUS_F1\t(0x10160)\n#define PCIX_TARGET_STATUS_F2\t(0x10164)\n#define PCIX_TARGET_STATUS_F3\t(0x10168)\n#define PCIX_TARGET_STATUS_F4\t(0x10360)\n#define PCIX_TARGET_STATUS_F5\t(0x10364)\n#define PCIX_TARGET_STATUS_F6\t(0x10368)\n#define PCIX_TARGET_STATUS_F7\t(0x1036c)\n\n#define PCIX_TARGET_MASK\t(0x10128)\n#define PCIX_TARGET_MASK_F1\t(0x10170)\n#define PCIX_TARGET_MASK_F2\t(0x10174)\n#define PCIX_TARGET_MASK_F3\t(0x10178)\n#define PCIX_TARGET_MASK_F4\t(0x10370)\n#define PCIX_TARGET_MASK_F5\t(0x10374)\n#define PCIX_TARGET_MASK_F6\t(0x10378)\n#define PCIX_TARGET_MASK_F7\t(0x1037c)\n\n \n#define PCIX_MSI_F0\t\t(0x13000)\n#define PCIX_MSI_F1\t\t(0x13004)\n#define PCIX_MSI_F2\t\t(0x13008)\n#define PCIX_MSI_F3\t\t(0x1300c)\n#define PCIX_MSI_F4\t\t(0x13010)\n#define PCIX_MSI_F5\t\t(0x13014)\n#define PCIX_MSI_F6\t\t(0x13018)\n#define PCIX_MSI_F7\t\t(0x1301c)\n#define PCIX_MSI_F(FUNC)\t(0x13000 + ((FUNC) * 4))\n\n \n#define PCIX_INT_VECTOR\t\t(0x10100)\n#define PCIX_INT_MASK\t\t(0x10104)\n\n \n#define PCIE_MISCCFG_RC\t\t(0x1206c)\n\n\n#define ISR_INT_TARGET_STATUS \\\n\t(QLA82XX_PCIX_PS_REG(PCIX_TARGET_STATUS))\n#define ISR_INT_TARGET_STATUS_F1 \\\n\t(QLA82XX_PCIX_PS_REG(PCIX_TARGET_STATUS_F1))\n#define ISR_INT_TARGET_STATUS_F2 \\\n\t(QLA82XX_PCIX_PS_REG(PCIX_TARGET_STATUS_F2))\n#define ISR_INT_TARGET_STATUS_F3 \\\n\t(QLA82XX_PCIX_PS_REG(PCIX_TARGET_STATUS_F3))\n#define ISR_INT_TARGET_STATUS_F4 \\\n\t(QLA82XX_PCIX_PS_REG(PCIX_TARGET_STATUS_F4))\n#define ISR_INT_TARGET_STATUS_F5 \\\n\t(QLA82XX_PCIX_PS_REG(PCIX_TARGET_STATUS_F5))\n#define ISR_INT_TARGET_STATUS_F6 \\\n\t(QLA82XX_PCIX_PS_REG(PCIX_TARGET_STATUS_F6))\n#define ISR_INT_TARGET_STATUS_F7 \\\n\t(QLA82XX_PCIX_PS_REG(PCIX_TARGET_STATUS_F7))\n\n#define ISR_INT_TARGET_MASK \\\n\t(QLA82XX_PCIX_PS_REG(PCIX_TARGET_MASK))\n#define ISR_INT_TARGET_MASK_F1 \\\n\t(QLA82XX_PCIX_PS_REG(PCIX_TARGET_MASK_F1))\n#define ISR_INT_TARGET_MASK_F2 \\\n\t(QLA82XX_PCIX_PS_REG(PCIX_TARGET_MASK_F2))\n#define ISR_INT_TARGET_MASK_F3 \\\n\t(QLA82XX_PCIX_PS_REG(PCIX_TARGET_MASK_F3))\n#define ISR_INT_TARGET_MASK_F4 \\\n\t(QLA82XX_PCIX_PS_REG(PCIX_TARGET_MASK_F4))\n#define ISR_INT_TARGET_MASK_F5 \\\n\t(QLA82XX_PCIX_PS_REG(PCIX_TARGET_MASK_F5))\n#define ISR_INT_TARGET_MASK_F6 \\\n\t(QLA82XX_PCIX_PS_REG(PCIX_TARGET_MASK_F6))\n#define ISR_INT_TARGET_MASK_F7 \\\n\t(QLA82XX_PCIX_PS_REG(PCIX_TARGET_MASK_F7))\n\n#define ISR_INT_VECTOR\t\t\t(QLA82XX_PCIX_PS_REG(PCIX_INT_VECTOR))\n#define ISR_INT_MASK\t\t\t(QLA82XX_PCIX_PS_REG(PCIX_INT_MASK))\n#define ISR_INT_STATE_REG\t\t(QLA82XX_PCIX_PS_REG(PCIE_MISCCFG_RC))\n\n#define\tISR_MSI_INT_TRIGGER(FUNC)\t(QLA82XX_PCIX_PS_REG(PCIX_MSI_F(FUNC)))\n\n\n#define\tISR_IS_LEGACY_INTR_IDLE(VAL)\t\t(((VAL) & 0x300) == 0)\n#define\tISR_IS_LEGACY_INTR_TRIGGERED(VAL)\t(((VAL) & 0x300) == 0x200)\n\n \n#define\tPCIX_INT_VECTOR_BIT_F0\t0x0080\n#define\tPCIX_INT_VECTOR_BIT_F1\t0x0100\n#define\tPCIX_INT_VECTOR_BIT_F2\t0x0200\n#define\tPCIX_INT_VECTOR_BIT_F3\t0x0400\n#define\tPCIX_INT_VECTOR_BIT_F4\t0x0800\n#define\tPCIX_INT_VECTOR_BIT_F5\t0x1000\n#define\tPCIX_INT_VECTOR_BIT_F6\t0x2000\n#define\tPCIX_INT_VECTOR_BIT_F7\t0x4000\n\n \n\n#define QLA82XX_LEGACY_INTR_CONFIG                                      \\\n{                                                                       \\\n\t{                                                               \\\n\t\t.int_vec_bit    =\tPCIX_INT_VECTOR_BIT_F0,         \\\n\t\t.tgt_status_reg =\tISR_INT_TARGET_STATUS,          \\\n\t\t.tgt_mask_reg   =\tISR_INT_TARGET_MASK,            \\\n\t\t.pci_int_reg    =\tISR_MSI_INT_TRIGGER(0) },       \\\n\t\t\t\t\t\t\t\t\t\\\n\t{\t\t\t\t\t\t\t\t\\\n\t\t.int_vec_bit    =\tPCIX_INT_VECTOR_BIT_F1,         \\\n\t\t.tgt_status_reg =\tISR_INT_TARGET_STATUS_F1,       \\\n\t\t.tgt_mask_reg   =\tISR_INT_TARGET_MASK_F1,         \\\n\t\t.pci_int_reg    =\tISR_MSI_INT_TRIGGER(1) },       \\\n\t\t\t\t\t\t\t\t\t\\\n\t{\t\t\t\t\t\t\t\t\\\n\t\t.int_vec_bit    =\tPCIX_INT_VECTOR_BIT_F2,         \\\n\t\t.tgt_status_reg =\tISR_INT_TARGET_STATUS_F2,       \\\n\t\t.tgt_mask_reg   =\tISR_INT_TARGET_MASK_F2,         \\\n\t\t.pci_int_reg    =\tISR_MSI_INT_TRIGGER(2) },       \\\n\t\t\t\t\t\t\t\t\t\\\n\t{\t\t\t\t\t\t\t\t\\\n\t\t.int_vec_bit    =\tPCIX_INT_VECTOR_BIT_F3,         \\\n\t\t.tgt_status_reg =\tISR_INT_TARGET_STATUS_F3,       \\\n\t\t.tgt_mask_reg   =\tISR_INT_TARGET_MASK_F3,         \\\n\t\t.pci_int_reg    =\tISR_MSI_INT_TRIGGER(3) },       \\\n\t\t\t\t\t\t\t\t\t\\\n\t{\t\t\t\t\t\t\t\t\\\n\t\t.int_vec_bit    =\tPCIX_INT_VECTOR_BIT_F4,         \\\n\t\t.tgt_status_reg =\tISR_INT_TARGET_STATUS_F4,       \\\n\t\t.tgt_mask_reg   =\tISR_INT_TARGET_MASK_F4,         \\\n\t\t.pci_int_reg    =\tISR_MSI_INT_TRIGGER(4) },       \\\n\t\t\t\t\t\t\t\t\t\\\n\t{\t\t\t\t\t\t\t\t\\\n\t\t.int_vec_bit    =\tPCIX_INT_VECTOR_BIT_F5,         \\\n\t\t.tgt_status_reg =\tISR_INT_TARGET_STATUS_F5,       \\\n\t\t.tgt_mask_reg   =\tISR_INT_TARGET_MASK_F5,         \\\n\t\t.pci_int_reg    =\tISR_MSI_INT_TRIGGER(5) },       \\\n\t\t\t\t\t\t\t\t\t\\\n\t{\t\t\t\t\t\t\t\t\\\n\t\t.int_vec_bit    =\tPCIX_INT_VECTOR_BIT_F6,         \\\n\t\t.tgt_status_reg =\tISR_INT_TARGET_STATUS_F6,       \\\n\t\t.tgt_mask_reg   =\tISR_INT_TARGET_MASK_F6,         \\\n\t\t.pci_int_reg    =\tISR_MSI_INT_TRIGGER(6) },       \\\n\t\t\t\t\t\t\t\t\t\\\n\t{\t\t\t\t\t\t\t\t\\\n\t\t.int_vec_bit    =\tPCIX_INT_VECTOR_BIT_F7,         \\\n\t\t.tgt_status_reg =\tISR_INT_TARGET_STATUS_F7,       \\\n\t\t.tgt_mask_reg   =\tISR_INT_TARGET_MASK_F7,         \\\n\t\t.pci_int_reg    =\tISR_MSI_INT_TRIGGER(7) },       \\\n}\n\n \n#define\tQLA82XX_BDINFO_MAGIC\t0x12345678\n#define FW_SIZE_OFFSET\t\t(0x3e840c)\n\n \n#define MIU_TEST_AGT_WRDATA_UPPER_LO\t(0x0b0)\n#define\tMIU_TEST_AGT_WRDATA_UPPER_HI\t(0x0b4)\n\n \n\n \n#define QLA8XXX_RDNOP\t0\n#define QLA8XXX_RDCRB\t1\n#define QLA8XXX_RDMUX\t2\n#define QLA8XXX_QUEUE\t3\n#define QLA8XXX_BOARD\t4\n#define QLA8XXX_RDOCM\t6\n#define QLA8XXX_PREGS\t7\n#define QLA8XXX_L1DTG\t8\n#define QLA8XXX_L1ITG\t9\n#define QLA8XXX_L1DAT\t11\n#define QLA8XXX_L1INS\t12\n#define QLA8XXX_L2DTG\t21\n#define QLA8XXX_L2ITG\t22\n#define QLA8XXX_L2DAT\t23\n#define QLA8XXX_L2INS\t24\n#define QLA83XX_POLLRD\t35\n#define QLA83XX_RDMUX2\t36\n#define QLA83XX_POLLRDMWR  37\n#define QLA8044_RDDFE\t38\n#define QLA8044_RDMDIO\t39\n#define QLA8044_POLLWR\t40\n#define QLA8XXX_RDROM\t71\n#define QLA8XXX_RDMEM\t72\n#define QLA8XXX_CNTRL\t98\n#define QLA83XX_TLHDR\t99\n#define QLA8XXX_RDEND\t255\n\n \n#define QLA8XXX_DBG_OPCODE_WR\t\t0x01\n#define QLA8XXX_DBG_OPCODE_RW\t\t0x02\n#define QLA8XXX_DBG_OPCODE_AND\t\t0x04\n#define QLA8XXX_DBG_OPCODE_OR\t\t0x08\n#define QLA8XXX_DBG_OPCODE_POLL\t\t0x10\n#define QLA8XXX_DBG_OPCODE_RDSTATE\t0x20\n#define QLA8XXX_DBG_OPCODE_WRSTATE\t0x40\n#define QLA8XXX_DBG_OPCODE_MDSTATE\t0x80\n\n \n#define QLA8XXX_DBG_SKIPPED_FLAG\t0x80  \n#define QLA8XXX_DBG_SIZE_ERR_FLAG\t0x40  \n\n \nstruct qla8xxx_minidump_entry_hdr {\n\tuint32_t entry_type;\n\tuint32_t entry_size;\n\tuint32_t entry_capture_size;\n\tstruct {\n\t\tuint8_t entry_capture_mask;\n\t\tuint8_t entry_code;\n\t\tuint8_t driver_code;\n\t\tuint8_t driver_flags;\n\t} d_ctrl;\n};\n\n \nstruct qla8xxx_minidump_entry_crb {\n\tstruct qla8xxx_minidump_entry_hdr h;\n\tuint32_t addr;\n\tstruct {\n\t\tuint8_t addr_stride;\n\t\tuint8_t state_index_a;\n\t\tuint16_t poll_timeout;\n\t} crb_strd;\n\tuint32_t data_size;\n\tuint32_t op_count;\n\n\tstruct {\n\t\tuint8_t opcode;\n\t\tuint8_t state_index_v;\n\t\tuint8_t shl;\n\t\tuint8_t shr;\n\t} crb_ctrl;\n\n\tuint32_t value_1;\n\tuint32_t value_2;\n\tuint32_t value_3;\n};\n\nstruct qla8xxx_minidump_entry_cache {\n\tstruct qla8xxx_minidump_entry_hdr h;\n\tuint32_t tag_reg_addr;\n\tstruct {\n\t\tuint16_t tag_value_stride;\n\t\tuint16_t init_tag_value;\n\t} addr_ctrl;\n\tuint32_t data_size;\n\tuint32_t op_count;\n\tuint32_t control_addr;\n\tstruct {\n\t\tuint16_t write_value;\n\t\tuint8_t poll_mask;\n\t\tuint8_t poll_wait;\n\t} cache_ctrl;\n\tuint32_t read_addr;\n\tstruct {\n\t\tuint8_t read_addr_stride;\n\t\tuint8_t read_addr_cnt;\n\t\tuint16_t rsvd_1;\n\t} read_ctrl;\n};\n\n \nstruct qla8xxx_minidump_entry_rdocm {\n\tstruct qla8xxx_minidump_entry_hdr h;\n\tuint32_t rsvd_0;\n\tuint32_t rsvd_1;\n\tuint32_t data_size;\n\tuint32_t op_count;\n\tuint32_t rsvd_2;\n\tuint32_t rsvd_3;\n\tuint32_t read_addr;\n\tuint32_t read_addr_stride;\n};\n\n \nstruct qla8xxx_minidump_entry_rdmem {\n\tstruct qla8xxx_minidump_entry_hdr h;\n\tuint32_t rsvd[6];\n\tuint32_t read_addr;\n\tuint32_t read_data_size;\n};\n\n \nstruct qla8xxx_minidump_entry_rdrom {\n\tstruct qla8xxx_minidump_entry_hdr h;\n\tuint32_t rsvd[6];\n\tuint32_t read_addr;\n\tuint32_t read_data_size;\n};\n\n \nstruct qla8xxx_minidump_entry_mux {\n\tstruct qla8xxx_minidump_entry_hdr h;\n\tuint32_t select_addr;\n\tuint32_t rsvd_0;\n\tuint32_t data_size;\n\tuint32_t op_count;\n\tuint32_t select_value;\n\tuint32_t select_value_stride;\n\tuint32_t read_addr;\n\tuint32_t rsvd_1;\n};\n\n \nstruct qla8xxx_minidump_entry_queue {\n\tstruct qla8xxx_minidump_entry_hdr h;\n\tuint32_t select_addr;\n\tstruct {\n\t\tuint16_t queue_id_stride;\n\t\tuint16_t rsvd_0;\n\t} q_strd;\n\tuint32_t data_size;\n\tuint32_t op_count;\n\tuint32_t rsvd_1;\n\tuint32_t rsvd_2;\n\tuint32_t read_addr;\n\tstruct {\n\t\tuint8_t read_addr_stride;\n\t\tuint8_t read_addr_cnt;\n\t\tuint16_t rsvd_3;\n\t} rd_strd;\n};\n\n#define MBC_DIAGNOSTIC_MINIDUMP_TEMPLATE\t0x129\n#define RQST_TMPLT_SIZE\t\t\t\t0x0\n#define RQST_TMPLT\t\t\t\t0x1\n#define MD_DIRECT_ROM_WINDOW\t\t\t0x42110030\n#define MD_DIRECT_ROM_READ_BASE\t\t\t0x42150000\n#define MD_MIU_TEST_AGT_CTRL\t\t\t0x41000090\n#define MD_MIU_TEST_AGT_ADDR_LO\t\t\t0x41000094\n#define MD_MIU_TEST_AGT_ADDR_HI\t\t\t0x41000098\n\n#define MD_MIU_TEST_AGT_WRDATA_LO\t\t0x410000A0\n#define MD_MIU_TEST_AGT_WRDATA_HI\t\t0x410000A4\n#define MD_MIU_TEST_AGT_WRDATA_ULO\t\t0x410000B0\n#define MD_MIU_TEST_AGT_WRDATA_UHI\t\t0x410000B4\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}