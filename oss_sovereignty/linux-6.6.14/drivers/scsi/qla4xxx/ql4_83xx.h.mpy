{
  "module_name": "ql4_83xx.h",
  "hash_id": "53b9f0d380fe33b8ad33aea318d23e67d1819c9b0819674162401c96578f4bd5",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/qla4xxx/ql4_83xx.h",
  "human_readable_source": " \n \n\n#ifndef __QL483XX_H\n#define __QL483XX_H\n\n \n#define QLA83XX_FLASH_SPI_STATUS\t0x2808E010\n#define QLA83XX_FLASH_SPI_CONTROL\t0x2808E014\n#define QLA83XX_FLASH_STATUS\t\t0x42100004\n#define QLA83XX_FLASH_CONTROL\t\t0x42110004\n#define QLA83XX_FLASH_ADDR\t\t0x42110008\n#define QLA83XX_FLASH_WRDATA\t\t0x4211000C\n#define QLA83XX_FLASH_RDDATA\t\t0x42110018\n#define QLA83XX_FLASH_DIRECT_WINDOW\t0x42110030\n#define QLA83XX_FLASH_DIRECT_DATA(DATA) (0x42150000 | (0x0000FFFF&DATA))\n\n \n\n \n#define QLA83XX_FLASH_LOCK\t\t0x3850\n#define QLA83XX_FLASH_UNLOCK\t\t0x3854\n#define QLA83XX_FLASH_LOCK_ID\t\t0x3500\n\n \n#define QLA83XX_DRV_LOCK\t\t0x3868\n#define QLA83XX_DRV_UNLOCK\t\t0x386C\n#define QLA83XX_DRV_LOCK_ID\t\t0x3504\n#define QLA83XX_DRV_LOCKRECOVERY\t0x379C\n\n \n#define QLA83XX_IDC_VER_MAJ_VALUE       0x1\n#define QLA83XX_IDC_VER_MIN_VALUE       0x0\n\n \n#define QLA83XX_CRB_IDC_VER_MAJOR\t0x3780\n#define QLA83XX_CRB_IDC_VER_MINOR\t0x3798\n#define QLA83XX_IDC_DRV_CTRL\t\t0x3790\n#define QLA83XX_IDC_DRV_AUDIT\t\t0x3794\n#define QLA83XX_SRE_SHIM_CONTROL\t0x0D200284\n#define QLA83XX_PORT0_RXB_PAUSE_THRS\t0x0B2003A4\n#define QLA83XX_PORT1_RXB_PAUSE_THRS\t0x0B2013A4\n#define QLA83XX_PORT0_RXB_TC_MAX_CELL\t0x0B200388\n#define QLA83XX_PORT1_RXB_TC_MAX_CELL\t0x0B201388\n#define QLA83XX_PORT0_RXB_TC_STATS\t0x0B20039C\n#define QLA83XX_PORT1_RXB_TC_STATS\t0x0B20139C\n#define QLA83XX_PORT2_IFB_PAUSE_THRS\t0x0B200704\n#define QLA83XX_PORT3_IFB_PAUSE_THRS\t0x0B201704\n\n \n#define QLA83XX_SET_PAUSE_VAL\t\t0x0\n#define QLA83XX_SET_TC_MAX_CELL_VAL\t0x03FF03FF\n\n#define QLA83XX_RESET_CONTROL\t\t0x28084E50\n#define QLA83XX_RESET_REG\t\t0x28084E60\n#define QLA83XX_RESET_PORT0\t\t0x28084E70\n#define QLA83XX_RESET_PORT1\t\t0x28084E80\n#define QLA83XX_RESET_PORT2\t\t0x28084E90\n#define QLA83XX_RESET_PORT3\t\t0x28084EA0\n#define QLA83XX_RESET_SRE_SHIM\t\t0x28084EB0\n#define QLA83XX_RESET_EPG_SHIM\t\t0x28084EC0\n#define QLA83XX_RESET_ETHER_PCS\t\t0x28084ED0\n\n \n#define QLA83XX_PEG_HALT_STATUS1\t0x34A8\n#define QLA83XX_PEG_HALT_STATUS2\t0x34AC\n#define QLA83XX_PEG_ALIVE_COUNTER\t0x34B0  \n#define QLA83XX_FW_CAPABILITIES\t\t0x3528\n#define QLA83XX_CRB_DRV_ACTIVE\t\t0x3788  \n#define QLA83XX_CRB_DEV_STATE\t\t0x3784  \n#define QLA83XX_CRB_DRV_STATE\t\t0x378C  \n#define QLA83XX_CRB_DRV_SCRATCH\t\t0x3548\n#define QLA83XX_CRB_DEV_PART_INFO1\t0x37E0\n#define QLA83XX_CRB_DEV_PART_INFO2\t0x37E4\n\n#define QLA83XX_FW_VER_MAJOR\t\t0x3550\n#define QLA83XX_FW_VER_MINOR\t\t0x3554\n#define QLA83XX_FW_VER_SUB\t\t0x3558\n#define QLA83XX_NPAR_STATE\t\t0x359C\n#define QLA83XX_FW_IMAGE_VALID\t\t0x35FC\n#define QLA83XX_CMDPEG_STATE\t\t0x3650\n#define QLA83XX_ASIC_TEMP\t\t0x37B4\n#define QLA83XX_FW_API\t\t\t0x356C\n#define QLA83XX_DRV_OP_MODE\t\t0x3570\n\n#define QLA83XX_CRB_WIN_BASE\t\t0x3800\n#define QLA83XX_CRB_WIN_FUNC(f)\t\t(QLA83XX_CRB_WIN_BASE+((f)*4))\n#define QLA83XX_SEM_LOCK_BASE\t\t0x3840\n#define QLA83XX_SEM_UNLOCK_BASE\t\t0x3844\n#define QLA83XX_SEM_LOCK_FUNC(f)\t(QLA83XX_SEM_LOCK_BASE+((f)*8))\n#define QLA83XX_SEM_UNLOCK_FUNC(f)\t(QLA83XX_SEM_UNLOCK_BASE+((f)*8))\n#define QLA83XX_LINK_STATE(f)\t\t(0x3698+((f) > 7 ? 4 : 0))\n#define QLA83XX_LINK_SPEED(f)\t\t(0x36E0+(((f) >> 2) * 4))\n#define QLA83XX_MAX_LINK_SPEED(f)       (0x36F0+(((f) / 4) * 4))\n#define QLA83XX_LINK_SPEED_FACTOR\t10\n\n \n#define QLA83xx_FLASH_MAX_WAIT_USEC\t100\n#define QLA83XX_FLASH_LOCK_TIMEOUT\t10000\n#define QLA83XX_FLASH_SECTOR_SIZE\t65536\n#define QLA83XX_DRV_LOCK_TIMEOUT\t2000\n#define QLA83XX_FLASH_SECTOR_ERASE_CMD\t0xdeadbeef\n#define QLA83XX_FLASH_WRITE_CMD\t\t0xdacdacda\n#define QLA83XX_FLASH_BUFFER_WRITE_CMD\t0xcadcadca\n#define QLA83XX_FLASH_READ_RETRY_COUNT\t2000\n#define QLA83XX_FLASH_STATUS_READY\t0x6\n#define QLA83XX_FLASH_BUFFER_WRITE_MIN\t2\n#define QLA83XX_FLASH_BUFFER_WRITE_MAX\t64\n#define QLA83XX_FLASH_STATUS_REG_POLL_DELAY 1\n#define QLA83XX_ERASE_MODE\t\t1\n#define QLA83XX_WRITE_MODE\t\t2\n#define QLA83XX_DWORD_WRITE_MODE\t3\n\n#define QLA83XX_GLOBAL_RESET\t\t0x38CC\n#define QLA83XX_WILDCARD\t\t0x38F0\n#define QLA83XX_INFORMANT\t\t0x38FC\n#define QLA83XX_HOST_MBX_CTRL\t\t0x3038\n#define QLA83XX_FW_MBX_CTRL\t\t0x303C\n#define QLA83XX_BOOTLOADER_ADDR\t\t0x355C\n#define QLA83XX_BOOTLOADER_SIZE\t\t0x3560\n#define QLA83XX_FW_IMAGE_ADDR\t\t0x3564\n#define QLA83XX_MBX_INTR_ENABLE\t\t0x1000\n#define QLA83XX_MBX_INTR_MASK\t\t0x1200\n\n \n#define DONTRESET_BIT0\t\t0x1\n#define GRACEFUL_RESET_BIT1\t0x2\n\n#define QLA83XX_HALT_STATUS_INFORMATIONAL\t(0x1 << 29)\n#define QLA83XX_HALT_STATUS_FW_RESET\t\t(0x2 << 29)\n#define QLA83XX_HALT_STATUS_UNRECOVERABLE\t(0x4 << 29)\n\n \n#define QLA83XX_BOOTLOADER_FLASH_ADDR\t0x10000\n#define QLA83XX_BOOT_FROM_FLASH\t\t0\n\n#define QLA83XX_IDC_PARAM_ADDR\t\t0x3e8020\n \n#define QLA83XX_MAX_RESET_SEQ_ENTRIES\t16\n#define QLA83XX_RESTART_TEMPLATE_SIZE\t0x2000\n#define QLA83XX_RESET_TEMPLATE_ADDR\t0x4F0000\n#define QLA83XX_RESET_SEQ_VERSION\t0x0101\n\n \n#define OPCODE_NOP\t\t\t0x0000\n#define OPCODE_WRITE_LIST\t\t0x0001\n#define OPCODE_READ_WRITE_LIST\t\t0x0002\n#define OPCODE_POLL_LIST\t\t0x0004\n#define OPCODE_POLL_WRITE_LIST\t\t0x0008\n#define OPCODE_READ_MODIFY_WRITE\t0x0010\n#define OPCODE_SEQ_PAUSE\t\t0x0020\n#define OPCODE_SEQ_END\t\t\t0x0040\n#define OPCODE_TMPL_END\t\t\t0x0080\n#define OPCODE_POLL_READ_LIST\t\t0x0100\n\n \n#define RESET_TMPLT_HDR_SIGNATURE\t0xCAFE\nstruct qla4_83xx_reset_template_hdr {\n\t__le16\tversion;\n\t__le16\tsignature;\n\t__le16\tsize;\n\t__le16\tentries;\n\t__le16\thdr_size;\n\t__le16\tchecksum;\n\t__le16\tinit_seq_offset;\n\t__le16\tstart_seq_offset;\n} __packed;\n\n \nstruct qla4_83xx_reset_entry_hdr {\n\t__le16 cmd;\n\t__le16 size;\n\t__le16 count;\n\t__le16 delay;\n} __packed;\n\n \nstruct qla4_83xx_poll {\n\t__le32  test_mask;\n\t__le32  test_value;\n} __packed;\n\n \nstruct qla4_83xx_rmw {\n\t__le32  test_mask;\n\t__le32  xor_value;\n\t__le32  or_value;\n\tuint8_t shl;\n\tuint8_t shr;\n\tuint8_t index_a;\n\tuint8_t rsvd;\n} __packed;\n\n \nstruct qla4_83xx_entry {\n\t__le32 arg1;\n\t__le32 arg2;\n} __packed;\n\n \nstruct qla4_83xx_quad_entry {\n\t__le32 dr_addr;\n\t__le32 dr_value;\n\t__le32 ar_addr;\n\t__le32 ar_value;\n} __packed;\n\nstruct qla4_83xx_reset_template {\n\tint seq_index;\n\tint seq_error;\n\tint array_index;\n\tuint32_t array[QLA83XX_MAX_RESET_SEQ_ENTRIES];\n\tuint8_t *buff;\n\tuint8_t *stop_offset;\n\tuint8_t *start_offset;\n\tuint8_t *init_offset;\n\tstruct qla4_83xx_reset_template_hdr *hdr;\n\tuint8_t seq_end;\n\tuint8_t template_end;\n};\n\n \nstruct qla83xx_minidump_entry_pollrd {\n\tstruct qla8xxx_minidump_entry_hdr h;\n\tuint32_t select_addr;\n\tuint32_t read_addr;\n\tuint32_t select_value;\n\tuint16_t select_value_stride;\n\tuint16_t op_count;\n\tuint32_t poll_wait;\n\tuint32_t poll_mask;\n\tuint32_t data_size;\n\tuint32_t rsvd_1;\n};\n\nstruct qla8044_minidump_entry_rddfe {\n\tstruct qla8xxx_minidump_entry_hdr h;\n\tuint32_t addr_1;\n\tuint32_t value;\n\tuint8_t stride;\n\tuint8_t stride2;\n\tuint16_t count;\n\tuint32_t poll;\n\tuint32_t mask;\n\tuint32_t modify_mask;\n\tuint32_t data_size;\n\tuint32_t rsvd;\n\n} __packed;\n\nstruct qla8044_minidump_entry_rdmdio {\n\tstruct qla8xxx_minidump_entry_hdr h;\n\n\tuint32_t addr_1;\n\tuint32_t addr_2;\n\tuint32_t value_1;\n\tuint8_t stride_1;\n\tuint8_t stride_2;\n\tuint16_t count;\n\tuint32_t poll;\n\tuint32_t mask;\n\tuint32_t value_2;\n\tuint32_t data_size;\n\n} __packed;\n\nstruct qla8044_minidump_entry_pollwr {\n\tstruct qla8xxx_minidump_entry_hdr h;\n\tuint32_t addr_1;\n\tuint32_t addr_2;\n\tuint32_t value_1;\n\tuint32_t value_2;\n\tuint32_t poll;\n\tuint32_t mask;\n\tuint32_t data_size;\n\tuint32_t rsvd;\n\n} __packed;\n\n \nstruct qla83xx_minidump_entry_rdmux2 {\n\tstruct qla8xxx_minidump_entry_hdr h;\n\tuint32_t select_addr_1;\n\tuint32_t select_addr_2;\n\tuint32_t select_value_1;\n\tuint32_t select_value_2;\n\tuint32_t op_count;\n\tuint32_t select_value_mask;\n\tuint32_t read_addr;\n\tuint8_t select_value_stride;\n\tuint8_t data_size;\n\tuint8_t rsvd[2];\n};\n\n \nstruct qla83xx_minidump_entry_pollrdmwr {\n\tstruct qla8xxx_minidump_entry_hdr h;\n\tuint32_t addr_1;\n\tuint32_t addr_2;\n\tuint32_t value_1;\n\tuint32_t value_2;\n\tuint32_t poll_wait;\n\tuint32_t poll_mask;\n\tuint32_t modify_mask;\n\tuint32_t data_size;\n};\n\n \nstruct qla4_83xx_idc_information {\n\tuint32_t request_desc;   \n\tuint32_t info1;  \n\tuint32_t info2;  \n\tuint32_t info3;  \n};\n\n#define QLA83XX_PEX_DMA_ENGINE_INDEX\t\t8\n#define QLA83XX_PEX_DMA_BASE_ADDRESS\t\t0x77320000\n#define QLA83XX_PEX_DMA_NUM_OFFSET\t\t0x10000\n#define QLA83XX_PEX_DMA_CMD_ADDR_LOW\t\t0x0\n#define QLA83XX_PEX_DMA_CMD_ADDR_HIGH\t\t0x04\n#define QLA83XX_PEX_DMA_CMD_STS_AND_CNTRL\t0x08\n\n#define QLA83XX_PEX_DMA_READ_SIZE\t(16 * 1024)\n#define QLA83XX_PEX_DMA_MAX_WAIT\t(100 * 100)  \n\n \nstruct qla4_83xx_minidump_entry_rdmem_pex_dma {\n\tstruct qla8xxx_minidump_entry_hdr h;\n\tuint32_t desc_card_addr;\n\tuint16_t dma_desc_cmd;\n\tuint8_t rsvd[2];\n\tuint32_t start_dma_cmd;\n\tuint8_t rsvd2[12];\n\tuint32_t read_addr;\n\tuint32_t read_data_size;\n};\n\nstruct qla4_83xx_pex_dma_descriptor {\n\tstruct {\n\t\tuint32_t read_data_size;  \n\t\tuint8_t rsvd[2];\n\t\tuint16_t dma_desc_cmd;\n\t} cmd;\n\tuint64_t src_addr;\n\tuint64_t dma_bus_addr;  \n\tuint8_t rsvd[24];\n} __packed;\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}