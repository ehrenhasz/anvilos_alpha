{
  "module_name": "ql4_fw.h",
  "hash_id": "f059584d35c6c619c8517593aa49a469debe7916518afd1dd81e588b1b1fa269",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/qla4xxx/ql4_fw.h",
  "human_readable_source": " \n \n\n#ifndef _QLA4X_FW_H\n#define _QLA4X_FW_H\n\n\n#define MAX_PRST_DEV_DB_ENTRIES\t\t64\n#define MIN_DISC_DEV_DB_ENTRY\t\tMAX_PRST_DEV_DB_ENTRIES\n#define MAX_DEV_DB_ENTRIES\t\t512\n#define MAX_DEV_DB_ENTRIES_40XX\t\t256\n\n \n\nstruct port_ctrl_stat_regs {\n\t__le32 ext_hw_conf;\t \n\t__le32 rsrvd0;\t\t \n\t__le32 port_ctrl;\t \n\t__le32 port_status;\t \n\t__le32 rsrvd1[32];\t \n\t__le32 gp_out;\t\t \n\t__le32 gp_in;\t\t \n\t__le32 rsrvd2[5];\t \n\t__le32 port_err_status;  \n};\n\nstruct host_mem_cfg_regs {\n\t__le32 rsrvd0[12];\t \n\t__le32 req_q_out;\t \n\t__le32 rsrvd1[31];\t \n};\n\n \nstruct device_reg_82xx {\n\t__le32 req_q_out;\t \n\t__le32 reserve1[63];\t \n\t__le32 rsp_q_in;\t \n\t__le32 reserve2[63];\t \n\t__le32 rsp_q_out;\t \n\t__le32 reserve3[63];\t \n\n\t__le32 mailbox_in[8];\t \n\t__le32 reserve4[24];\n\t__le32 hint;\t\t \n#define HINT_MBX_INT_PENDING\tBIT_0\n\t__le32 reserve5[31];\n\t__le32 mailbox_out[8];\t \n\t__le32 reserve6[56];\n\n\t__le32 host_status;\t \n#define HSRX_RISC_MB_INT\tBIT_0   \n#define HSRX_RISC_IOCB_INT\tBIT_1   \n\n\t__le32 host_int;\t \n#define ISRX_82XX_RISC_INT\tBIT_0  \n};\n\n \nstruct device_reg_83xx {\n\t__le32 mailbox_in[16];\t \n\t__le32 reserve1[496];\t \n\t__le32 mailbox_out[16];\t \n\t__le32 reserve2[496];\n\t__le32 mbox_int;\t \n\t__le32 reserve3[63];\n\t__le32 req_q_out;\t \n\t__le32 reserve4[63];\n\n\t__le32 rsp_q_in;\t \n\t__le32 reserve5[1919];\n\n\t__le32 req_q_in;\t \n\t__le32 reserve6[3];\n\t__le32 iocb_int_mask;\t \n\t__le32 reserve7[3];\n\t__le32 rsp_q_out;\t \n\t__le32 reserve8[3];\n\t__le32 anonymousbuff;\t \n\t__le32 mb_int_mask;\t \n\n\t__le32 host_intr;\t \n\t__le32 risc_intr;\t \n\t__le32 reserve9[544];\n\t__le32 leg_int_ptr;\t \n\t__le32 leg_int_trig;\t \n\t__le32 leg_int_mask;\t \n};\n\n#define INT_ENABLE_FW_MB\t(1 << 2)\n#define INT_MASK_FW_MB\t\t(1 << 2)\n\n \nstruct isp_reg {\n#define MBOX_REG_COUNT 8\n\t__le32 mailbox[MBOX_REG_COUNT];\n\n\t__le32 flash_address;\t \n\t__le32 flash_data;\n\t__le32 ctrl_status;\n\n\tunion {\n\t\tstruct {\n\t\t\t__le32 nvram;\n\t\t\t__le32 reserved1[2];  \n\t\t} __attribute__ ((packed)) isp4010;\n\t\tstruct {\n\t\t\t__le32 intr_mask;\n\t\t\t__le32 nvram;  \n\t\t\t__le32 semaphore;\n\t\t} __attribute__ ((packed)) isp4022;\n\t} u1;\n\n\t__le32 req_q_in;     \n\t__le32 rsp_q_out;    \n\n\t__le32 reserved2[4];\t \n\n\tunion {\n\t\tstruct {\n\t\t\t__le32 ext_hw_conf;  \n\t\t\t__le32 flow_ctrl;\n\t\t\t__le32 port_ctrl;\n\t\t\t__le32 port_status;\n\n\t\t\t__le32 reserved3[8];  \n\n\t\t\t__le32 req_q_out;  \n\n\t\t\t__le32 reserved4[23];  \n\n\t\t\t__le32 gp_out;  \n\t\t\t__le32 gp_in;\n\n\t\t\t__le32 reserved5[5];\n\n\t\t\t__le32 port_err_status;  \n\t\t} __attribute__ ((packed)) isp4010;\n\t\tstruct {\n\t\t\tunion {\n\t\t\t\tstruct port_ctrl_stat_regs p0;\n\t\t\t\tstruct host_mem_cfg_regs p1;\n\t\t\t};\n\t\t} __attribute__ ((packed)) isp4022;\n\t} u2;\n};\t\t\t\t \n\n\n \n#define QL4010_DRVR_SEM_BITS\t0x00000030\n#define QL4010_GPIO_SEM_BITS\t0x000000c0\n#define QL4010_SDRAM_SEM_BITS\t0x00000300\n#define QL4010_PHY_SEM_BITS\t0x00000c00\n#define QL4010_NVRAM_SEM_BITS\t0x00003000\n#define QL4010_FLASH_SEM_BITS\t0x0000c000\n\n#define QL4010_DRVR_SEM_MASK\t0x00300000\n#define QL4010_GPIO_SEM_MASK\t0x00c00000\n#define QL4010_SDRAM_SEM_MASK\t0x03000000\n#define QL4010_PHY_SEM_MASK\t0x0c000000\n#define QL4010_NVRAM_SEM_MASK\t0x30000000\n#define QL4010_FLASH_SEM_MASK\t0xc0000000\n\n \n#define QL4022_RESOURCE_MASK_BASE_CODE 0x7\n#define QL4022_RESOURCE_BITS_BASE_CODE 0x4\n\n\n#define QL4022_DRVR_SEM_MASK\t(QL4022_RESOURCE_MASK_BASE_CODE << (1+16))\n#define QL4022_DDR_RAM_SEM_MASK (QL4022_RESOURCE_MASK_BASE_CODE << (4+16))\n#define QL4022_PHY_GIO_SEM_MASK (QL4022_RESOURCE_MASK_BASE_CODE << (7+16))\n#define QL4022_NVRAM_SEM_MASK\t(QL4022_RESOURCE_MASK_BASE_CODE << (10+16))\n#define QL4022_FLASH_SEM_MASK\t(QL4022_RESOURCE_MASK_BASE_CODE << (13+16))\n\n \n#define NVRAM_PORT0_BOOT_MODE\t\t0x03b1\n#define NVRAM_PORT0_BOOT_PRI_TGT\t0x03b2\n#define NVRAM_PORT0_BOOT_SEC_TGT\t0x03bb\n#define NVRAM_PORT1_BOOT_MODE\t\t0x07b1\n#define NVRAM_PORT1_BOOT_PRI_TGT\t0x07b2\n#define NVRAM_PORT1_BOOT_SEC_TGT\t0x07bb\n\n\n \n#define PORT_CTRL_STAT_PAGE\t\t\t0\t \n#define HOST_MEM_CFG_PAGE\t\t\t1\t \n#define LOCAL_RAM_CFG_PAGE\t\t\t2\t \n#define PROT_STAT_PAGE\t\t\t\t3\t \n\n \nstatic inline uint32_t set_rmask(uint32_t val)\n{\n\treturn (val & 0xffff) | (val << 16);\n}\n\n\nstatic inline uint32_t clr_rmask(uint32_t val)\n{\n\treturn 0 | (val << 16);\n}\n\n \n#define CSR_SCSI_PAGE_SELECT\t\t\t0x00000003\n#define CSR_SCSI_INTR_ENABLE\t\t\t0x00000004\t \n#define CSR_SCSI_RESET_INTR\t\t\t0x00000008\n#define CSR_SCSI_COMPLETION_INTR\t\t0x00000010\n#define CSR_SCSI_PROCESSOR_INTR\t\t\t0x00000020\n#define CSR_INTR_RISC\t\t\t\t0x00000040\n#define CSR_BOOT_ENABLE\t\t\t\t0x00000080\n#define CSR_NET_PAGE_SELECT\t\t\t0x00000300\t \n#define CSR_FUNC_NUM\t\t\t\t0x00000700\t \n#define CSR_NET_RESET_INTR\t\t\t0x00000800\t \n#define CSR_FORCE_SOFT_RESET\t\t\t0x00002000\t \n#define CSR_FATAL_ERROR\t\t\t\t0x00004000\n#define CSR_SOFT_RESET\t\t\t\t0x00008000\n#define ISP_CONTROL_FN_MASK\t\t\tCSR_FUNC_NUM\n#define ISP_CONTROL_FN0_SCSI\t\t\t0x0500\n#define ISP_CONTROL_FN1_SCSI\t\t\t0x0700\n\n#define INTR_PENDING\t\t\t\t(CSR_SCSI_COMPLETION_INTR |\\\n\t\t\t\t\t\t CSR_SCSI_PROCESSOR_INTR |\\\n\t\t\t\t\t\t CSR_SCSI_RESET_INTR)\n\n \n#define IMR_SCSI_INTR_ENABLE\t\t\t0x00000004\t \n\n \n#define NVR_WRITE_ENABLE\t\t\t0x00000010\t \n\n#define QL4010_NVRAM_SIZE\t\t\t0x200\n#define QL40X2_NVRAM_SIZE\t\t\t0x800\n\n \n\n \n\n \n#define GPOR_TOPCAT_RESET\t\t\t0x00000004\n\n \nstruct shadow_regs {\n\t \n\t__le32 req_q_out;\t \n\n\t \n\t__le32 rsp_q_in;\t \n};\t\t   \n\n\n \nunion external_hw_config_reg {\n\tstruct {\n\t\t \n\t\t__le32 bReserved0:1;\n\t\t__le32 bSDRAMProtectionMethod:2;\n\t\t__le32 bSDRAMBanks:1;\n\t\t__le32 bSDRAMChipWidth:1;\n\t\t__le32 bSDRAMChipSize:2;\n\t\t__le32 bParityDisable:1;\n\t\t__le32 bExternalMemoryType:1;\n\t\t__le32 bFlashBIOSWriteEnable:1;\n\t\t__le32 bFlashUpperBankSelect:1;\n\t\t__le32 bWriteBurst:2;\n\t\t__le32 bReserved1:3;\n\t\t__le32 bMask:16;\n\t};\n\tuint32_t Asuint32_t;\n};\n\n \n \n#define FA_FLASH_LAYOUT_ADDR_82\t\t0xFC400\n#define FA_FLASH_DESCR_ADDR_82\t\t0xFC000\n#define FA_BOOT_LOAD_ADDR_82\t\t0x04000\n#define FA_BOOT_CODE_ADDR_82\t\t0x20000\n#define FA_RISC_CODE_ADDR_82\t\t0x40000\n#define FA_GOLD_RISC_CODE_ADDR_82\t0x80000\n#define FA_FLASH_ISCSI_CHAP\t\t0x540000\n#define FA_FLASH_CHAP_SIZE\t\t0xC0000\n#define FA_FLASH_ISCSI_DDB\t\t0x420000\n#define FA_FLASH_DDB_SIZE\t\t0x080000\n\n \nstruct qla_fdt_layout {\n\tuint8_t sig[4];\n\tuint16_t version;\n\tuint16_t len;\n\tuint16_t checksum;\n\tuint8_t unused1[2];\n\tuint8_t model[16];\n\tuint16_t man_id;\n\tuint16_t id;\n\tuint8_t flags;\n\tuint8_t erase_cmd;\n\tuint8_t alt_erase_cmd;\n\tuint8_t wrt_enable_cmd;\n\tuint8_t wrt_enable_bits;\n\tuint8_t wrt_sts_reg_cmd;\n\tuint8_t unprotect_sec_cmd;\n\tuint8_t read_man_id_cmd;\n\tuint32_t block_size;\n\tuint32_t alt_block_size;\n\tuint32_t flash_size;\n\tuint32_t wrt_enable_data;\n\tuint8_t read_id_addr_len;\n\tuint8_t wrt_disable_bits;\n\tuint8_t read_dev_id_len;\n\tuint8_t chip_erase_cmd;\n\tuint16_t read_timeout;\n\tuint8_t protect_sec_cmd;\n\tuint8_t unused2[65];\n};\n\n \n\nstruct qla_flt_location {\n\tuint8_t sig[4];\n\tuint16_t start_lo;\n\tuint16_t start_hi;\n\tuint8_t version;\n\tuint8_t unused[5];\n\tuint16_t checksum;\n};\n\nstruct qla_flt_header {\n\tuint16_t version;\n\tuint16_t length;\n\tuint16_t checksum;\n\tuint16_t unused;\n};\n\n \n#define FLT_REG_FDT\t\t0x1a\n#define FLT_REG_FLT\t\t0x1c\n#define FLT_REG_BOOTLOAD_82\t0x72\n#define FLT_REG_FW_82\t\t0x74\n#define FLT_REG_FW_82_1\t\t0x97\n#define FLT_REG_GOLD_FW_82\t0x75\n#define FLT_REG_BOOT_CODE_82\t0x78\n#define FLT_REG_ISCSI_PARAM\t0x65\n#define FLT_REG_ISCSI_CHAP\t0x63\n#define FLT_REG_ISCSI_DDB\t0x6A\n\nstruct qla_flt_region {\n\tuint32_t code;\n\tuint32_t size;\n\tuint32_t start;\n\tuint32_t end;\n};\n\n \n\n \n#define MBOX_CMD_ABOUT_FW\t\t\t0x0009\n#define MBOX_CMD_PING\t\t\t\t0x000B\n#define PING_IPV6_PROTOCOL_ENABLE\t\t0x1\n#define PING_IPV6_LINKLOCAL_ADDR\t\t0x4\n#define PING_IPV6_ADDR0\t\t\t\t0x8\n#define PING_IPV6_ADDR1\t\t\t\t0xC\n#define MBOX_CMD_ENABLE_INTRS\t\t\t0x0010\n#define INTR_DISABLE\t\t\t\t0\n#define INTR_ENABLE\t\t\t\t1\n#define MBOX_CMD_STOP_FW\t\t\t0x0014\n#define MBOX_CMD_ABORT_TASK\t\t\t0x0015\n#define MBOX_CMD_LUN_RESET\t\t\t0x0016\n#define MBOX_CMD_TARGET_WARM_RESET\t\t0x0017\n#define MBOX_CMD_GET_MANAGEMENT_DATA\t\t0x001E\n#define MBOX_CMD_GET_FW_STATUS\t\t\t0x001F\n#define MBOX_CMD_SET_ISNS_SERVICE\t\t0x0021\n#define ISNS_DISABLE\t\t\t\t0\n#define ISNS_ENABLE\t\t\t\t1\n#define MBOX_CMD_COPY_FLASH\t\t\t0x0024\n#define MBOX_CMD_WRITE_FLASH\t\t\t0x0025\n#define MBOX_CMD_READ_FLASH\t\t\t0x0026\n#define MBOX_CMD_CLEAR_DATABASE_ENTRY\t\t0x0031\n#define MBOX_CMD_CONN_OPEN\t\t\t0x0074\n#define MBOX_CMD_CONN_CLOSE_SESS_LOGOUT\t\t0x0056\n#define DDB_NOT_LOGGED_IN\t\t\t0x09\n#define LOGOUT_OPTION_CLOSE_SESSION\t\t0x0002\n#define LOGOUT_OPTION_RELOGIN\t\t\t0x0004\n#define LOGOUT_OPTION_FREE_DDB\t\t\t0x0008\n#define MBOX_CMD_SET_PARAM\t\t\t0x0059\n#define SET_DRVR_VERSION\t\t\t0x200\n#define MAX_DRVR_VER_LEN\t\t\t24\n#define MBOX_CMD_EXECUTE_IOCB_A64\t\t0x005A\n#define MBOX_CMD_INITIALIZE_FIRMWARE\t\t0x0060\n#define MBOX_CMD_GET_INIT_FW_CTRL_BLOCK\t\t0x0061\n#define MBOX_CMD_REQUEST_DATABASE_ENTRY\t\t0x0062\n#define MBOX_CMD_SET_DATABASE_ENTRY\t\t0x0063\n#define MBOX_CMD_GET_DATABASE_ENTRY\t\t0x0064\n#define DDB_DS_UNASSIGNED\t\t\t0x00\n#define DDB_DS_NO_CONNECTION_ACTIVE\t\t0x01\n#define DDB_DS_DISCOVERY\t\t\t0x02\n#define DDB_DS_SESSION_ACTIVE\t\t\t0x04\n#define DDB_DS_SESSION_FAILED\t\t\t0x06\n#define DDB_DS_LOGIN_IN_PROCESS\t\t\t0x07\n#define MBOX_CMD_GET_FW_STATE\t\t\t0x0069\n#define MBOX_CMD_GET_INIT_FW_CTRL_BLOCK_DEFAULTS 0x006A\n#define MBOX_CMD_DIAG_TEST\t\t\t0x0075\n#define MBOX_CMD_GET_SYS_INFO\t\t\t0x0078\n#define MBOX_CMD_GET_NVRAM\t\t\t0x0078\t \n#define MBOX_CMD_SET_NVRAM\t\t\t0x0079\t \n#define MBOX_CMD_RESTORE_FACTORY_DEFAULTS\t0x0087\n#define MBOX_CMD_SET_ACB\t\t\t0x0088\n#define MBOX_CMD_GET_ACB\t\t\t0x0089\n#define MBOX_CMD_DISABLE_ACB\t\t\t0x008A\n#define MBOX_CMD_GET_IPV6_NEIGHBOR_CACHE\t0x008B\n#define MBOX_CMD_GET_IPV6_DEST_CACHE\t\t0x008C\n#define MBOX_CMD_GET_IPV6_DEF_ROUTER_LIST\t0x008D\n#define MBOX_CMD_GET_IPV6_LCL_PREFIX_LIST\t0x008E\n#define MBOX_CMD_SET_IPV6_NEIGHBOR_CACHE\t0x0090\n#define MBOX_CMD_GET_IP_ADDR_STATE\t\t0x0091\n#define MBOX_CMD_SEND_IPV6_ROUTER_SOL\t\t0x0092\n#define MBOX_CMD_GET_DB_ENTRY_CURRENT_IP_ADDR\t0x0093\n#define MBOX_CMD_SET_PORT_CONFIG\t\t0x0122\n#define MBOX_CMD_GET_PORT_CONFIG\t\t0x0123\n#define MBOX_CMD_SET_LED_CONFIG\t\t\t0x0125\n#define MBOX_CMD_GET_LED_CONFIG\t\t\t0x0126\n#define MBOX_CMD_MINIDUMP\t\t\t0x0129\n\n \n#define ENABLE_INTERNAL_LOOPBACK\t\t0x04\n#define ENABLE_EXTERNAL_LOOPBACK\t\t0x08\n#define ENABLE_DCBX\t\t\t\t0x10\n\n \n#define MINIDUMP_GET_SIZE_SUBCOMMAND\t\t0x00\n#define MINIDUMP_GET_TMPLT_SUBCOMMAND\t\t0x01\n\n \n#define FW_STATE_READY\t\t\t\t0x0000\n#define FW_STATE_CONFIG_WAIT\t\t\t0x0001\n#define FW_STATE_WAIT_AUTOCONNECT\t\t0x0002\n#define FW_STATE_ERROR\t\t\t\t0x0004\n#define FW_STATE_CONFIGURING_IP\t\t\t0x0008\n\n \n#define FW_ADDSTATE_OPTICAL_MEDIA\t\t0x0001\n#define FW_ADDSTATE_DHCPv4_ENABLED\t\t0x0002\n#define FW_ADDSTATE_DHCPv4_LEASE_ACQUIRED\t0x0004\n#define FW_ADDSTATE_DHCPv4_LEASE_EXPIRED\t0x0008\n#define FW_ADDSTATE_LINK_UP\t\t\t0x0010\n#define FW_ADDSTATE_ISNS_SVC_ENABLED\t\t0x0020\n#define FW_ADDSTATE_LINK_SPEED_10MBPS\t\t0x0100\n#define FW_ADDSTATE_LINK_SPEED_100MBPS\t\t0x0200\n#define FW_ADDSTATE_LINK_SPEED_1GBPS\t\t0x0400\n#define FW_ADDSTATE_LINK_SPEED_10GBPS\t\t0x0800\n\n#define MBOX_CMD_GET_DATABASE_ENTRY_DEFAULTS\t0x006B\n#define IPV6_DEFAULT_DDB_ENTRY\t\t\t0x0001\n\n#define MBOX_CMD_CONN_OPEN_SESS_LOGIN\t\t0x0074\n#define MBOX_CMD_GET_CRASH_RECORD\t\t0x0076\t \n#define MBOX_CMD_GET_CONN_EVENT_LOG\t\t0x0077\n\n#define MBOX_CMD_IDC_ACK\t\t\t0x0101\n#define MBOX_CMD_IDC_TIME_EXTEND\t\t0x0102\n#define MBOX_CMD_PORT_RESET\t\t\t0x0120\n#define MBOX_CMD_SET_PORT_CONFIG\t\t0x0122\n\n \n#define MBOX_COMPLETION_STATUS\t\t\t4\n#define MBOX_STS_BUSY\t\t\t\t0x0007\n#define MBOX_STS_INTERMEDIATE_COMPLETION\t0x1000\n#define MBOX_STS_COMMAND_COMPLETE\t\t0x4000\n#define MBOX_STS_COMMAND_ERROR\t\t\t0x4005\n\n#define MBOX_ASYNC_EVENT_STATUS\t\t\t8\n#define MBOX_ASTS_SYSTEM_ERROR\t\t\t0x8002\n#define MBOX_ASTS_REQUEST_TRANSFER_ERROR\t0x8003\n#define MBOX_ASTS_RESPONSE_TRANSFER_ERROR\t0x8004\n#define MBOX_ASTS_PROTOCOL_STATISTIC_ALARM\t0x8005\n#define MBOX_ASTS_SCSI_COMMAND_PDU_REJECTED\t0x8006\n#define MBOX_ASTS_LINK_UP\t\t\t0x8010\n#define MBOX_ASTS_LINK_DOWN\t\t\t0x8011\n#define MBOX_ASTS_DATABASE_CHANGED\t\t0x8014\n#define MBOX_ASTS_UNSOLICITED_PDU_RECEIVED\t0x8015\n#define MBOX_ASTS_SELF_TEST_FAILED\t\t0x8016\n#define MBOX_ASTS_LOGIN_FAILED\t\t\t0x8017\n#define MBOX_ASTS_DNS\t\t\t\t0x8018\n#define MBOX_ASTS_HEARTBEAT\t\t\t0x8019\n#define MBOX_ASTS_NVRAM_INVALID\t\t\t0x801A\n#define MBOX_ASTS_MAC_ADDRESS_CHANGED\t\t0x801B\n#define MBOX_ASTS_IP_ADDRESS_CHANGED\t\t0x801C\n#define MBOX_ASTS_DHCP_LEASE_EXPIRED\t\t0x801D\n#define MBOX_ASTS_DHCP_LEASE_ACQUIRED\t\t0x801F\n#define MBOX_ASTS_ISNS_UNSOLICITED_PDU_RECEIVED 0x8021\n#define MBOX_ASTS_DUPLICATE_IP\t\t\t0x8025\n#define MBOX_ASTS_ARP_COMPLETE\t\t\t0x8026\n#define MBOX_ASTS_SUBNET_STATE_CHANGE\t\t0x8027\n#define MBOX_ASTS_RESPONSE_QUEUE_FULL\t\t0x8028\n#define MBOX_ASTS_IP_ADDR_STATE_CHANGED\t\t0x8029\n#define MBOX_ASTS_IPV6_DEFAULT_ROUTER_CHANGED\t0x802A\n#define MBOX_ASTS_IPV6_LINK_MTU_CHANGE\t\t0x802B\n#define MBOX_ASTS_IPV6_AUTO_PREFIX_IGNORED\t0x802C\n#define MBOX_ASTS_IPV6_ND_LOCAL_PREFIX_IGNORED\t0x802D\n#define MBOX_ASTS_ICMPV6_ERROR_MSG_RCVD\t\t0x802E\n#define MBOX_ASTS_INITIALIZATION_FAILED\t\t0x8031\n#define MBOX_ASTS_SYSTEM_WARNING_EVENT\t\t0x8036\n#define MBOX_ASTS_IDC_COMPLETE\t\t\t0x8100\n#define MBOX_ASTS_IDC_REQUEST_NOTIFICATION\t0x8101\n#define MBOX_ASTS_IDC_TIME_EXTEND_NOTIFICATION\t0x8102\n#define MBOX_ASTS_DCBX_CONF_CHANGE\t\t0x8110\n#define MBOX_ASTS_TXSCVR_INSERTED\t\t0x8130\n#define MBOX_ASTS_TXSCVR_REMOVED\t\t0x8131\n\n#define ISNS_EVENT_DATA_RECEIVED\t\t0x0000\n#define ISNS_EVENT_CONNECTION_OPENED\t\t0x0001\n#define ISNS_EVENT_CONNECTION_FAILED\t\t0x0002\n#define MBOX_ASTS_IPSEC_SYSTEM_FATAL_ERROR\t0x8022\n#define MBOX_ASTS_SUBNET_STATE_CHANGE\t\t0x8027\n\n \n#define ACB_CONFIG_DISABLE\t\t0x00\n#define ACB_CONFIG_SET\t\t\t0x01\n\n \n#define IP_ADDRSTATE_UNCONFIGURED\t0\n#define IP_ADDRSTATE_INVALID\t\t1\n#define IP_ADDRSTATE_ACQUIRING\t\t2\n#define IP_ADDRSTATE_TENTATIVE\t\t3\n#define IP_ADDRSTATE_DEPRICATED\t\t4\n#define IP_ADDRSTATE_PREFERRED\t\t5\n#define IP_ADDRSTATE_DISABLING\t\t6\n\n \n#define FLASH_SEGMENT_IFCB\t0x04000000\n\n#define FLASH_OPT_RMW_HOLD\t0\n#define FLASH_OPT_RMW_INIT\t1\n#define FLASH_OPT_COMMIT\t2\n#define FLASH_OPT_RMW_COMMIT\t3\n\n \n#define QL4_PARAM_DISABLE\t0\n#define QL4_PARAM_ENABLE\t1\n\n \n\n \nstruct addr_ctrl_blk {\n\tuint8_t version;\t \n#define  IFCB_VER_MIN\t\t\t0x01\n#define  IFCB_VER_MAX\t\t\t0x02\n\tuint8_t control;\t \n#define\t CTRLOPT_NEW_CONN_DISABLE\t0x0002\n\n\tuint16_t fw_options;\t \n#define\t FWOPT_HEARTBEAT_ENABLE\t\t  0x1000\n#define\t FWOPT_SESSION_MODE\t\t  0x0040\n#define\t FWOPT_INITIATOR_MODE\t\t  0x0020\n#define\t FWOPT_TARGET_MODE\t\t  0x0010\n#define\t FWOPT_ENABLE_CRBDB\t\t  0x8000\n\n\tuint16_t exec_throttle;\t \n\tuint8_t zio_count;\t \n\tuint8_t res0;\t \n\tuint16_t eth_mtu_size;\t \n\tuint16_t add_fw_options;\t \n#define ADFWOPT_SERIALIZE_TASK_MGMT\t0x0400\n#define ADFWOPT_AUTOCONN_DISABLE\t0x0002\n\n\tuint8_t hb_interval;\t \n\tuint8_t inst_num;  \n\tuint16_t res1;\t\t \n\tuint16_t rqq_consumer_idx;\t \n\tuint16_t compq_producer_idx;\t \n\tuint16_t rqq_len;\t \n\tuint16_t compq_len;\t \n\tuint32_t rqq_addr_lo;\t \n\tuint32_t rqq_addr_hi;\t \n\tuint32_t compq_addr_lo;\t \n\tuint32_t compq_addr_hi;\t \n\tuint32_t shdwreg_addr_lo;\t \n\tuint32_t shdwreg_addr_hi;\t \n\n\tuint16_t iscsi_opts;\t \n#define ISCSIOPTS_HEADER_DIGEST_EN\t\t0x2000\n#define ISCSIOPTS_DATA_DIGEST_EN\t\t0x1000\n#define ISCSIOPTS_IMMEDIATE_DATA_EN\t\t0x0800\n#define ISCSIOPTS_INITIAL_R2T_EN\t\t0x0400\n#define ISCSIOPTS_DATA_SEQ_INORDER_EN\t\t0x0200\n#define ISCSIOPTS_DATA_PDU_INORDER_EN\t\t0x0100\n#define ISCSIOPTS_CHAP_AUTH_EN\t\t\t0x0080\n#define ISCSIOPTS_SNACK_EN\t\t\t0x0040\n#define ISCSIOPTS_DISCOVERY_LOGOUT_EN\t\t0x0020\n#define ISCSIOPTS_BIDI_CHAP_EN\t\t\t0x0010\n#define ISCSIOPTS_DISCOVERY_AUTH_EN\t\t0x0008\n#define ISCSIOPTS_STRICT_LOGIN_COMP_EN\t\t0x0004\n#define ISCSIOPTS_ERL\t\t\t\t0x0003\n\tuint16_t ipv4_tcp_opts;\t \n#define TCPOPT_DELAYED_ACK_DISABLE\t0x8000\n#define TCPOPT_DHCP_ENABLE\t\t0x0200\n#define TCPOPT_DNS_SERVER_IP_EN\t\t0x0100\n#define TCPOPT_SLP_DA_INFO_EN\t\t0x0080\n#define TCPOPT_NAGLE_ALGO_DISABLE\t0x0020\n#define TCPOPT_WINDOW_SCALE_DISABLE\t0x0010\n#define TCPOPT_TIMER_SCALE\t\t0x000E\n#define TCPOPT_TIMESTAMP_ENABLE\t\t0x0001\n\tuint16_t ipv4_ip_opts;\t \n#define IPOPT_IPV4_PROTOCOL_ENABLE\t0x8000\n#define IPOPT_IPV4_TOS_EN\t\t0x4000\n#define IPOPT_VLAN_TAGGING_ENABLE\t0x2000\n#define IPOPT_GRAT_ARP_EN\t\t0x1000\n#define IPOPT_ALT_CID_EN\t\t0x0800\n#define IPOPT_REQ_VID_EN\t\t0x0400\n#define IPOPT_USE_VID_EN\t\t0x0200\n#define IPOPT_LEARN_IQN_EN\t\t0x0100\n#define IPOPT_FRAGMENTATION_DISABLE\t0x0010\n#define IPOPT_IN_FORWARD_EN\t\t0x0008\n#define IPOPT_ARP_REDIRECT_EN\t\t0x0004\n\n\tuint16_t iscsi_max_pdu_size;\t \n\tuint8_t ipv4_tos;\t \n\tuint8_t ipv4_ttl;\t \n\tuint8_t acb_version;\t \n#define ACB_NOT_SUPPORTED\t\t0x00\n#define ACB_SUPPORTED\t\t\t0x02  \n\n\tuint8_t res2;\t \n\tuint16_t def_timeout;\t \n\tuint16_t iscsi_fburst_len;\t \n\tuint16_t iscsi_def_time2wait;\t \n\tuint16_t iscsi_def_time2retain;\t \n\tuint16_t iscsi_max_outstnd_r2t;\t \n\tuint16_t conn_ka_timeout;\t \n\tuint16_t ipv4_port;\t \n\tuint16_t iscsi_max_burst_len;\t \n\tuint32_t res5;\t\t \n\tuint8_t ipv4_addr[4];\t \n\tuint16_t ipv4_vlan_tag;\t \n\tuint8_t ipv4_addr_state;\t \n\tuint8_t ipv4_cacheid;\t \n\tuint8_t res6[8];\t \n\tuint8_t ipv4_subnet[4];\t \n\tuint8_t res7[12];\t \n\tuint8_t ipv4_gw_addr[4];\t \n\tuint8_t res8[0xc];\t \n\tuint8_t pri_dns_srvr_ip[4]; \n\tuint8_t sec_dns_srvr_ip[4]; \n\tuint16_t min_eph_port;\t \n\tuint16_t max_eph_port;\t \n\tuint8_t res9[4];\t \n\tuint8_t iscsi_alias[32]; \n\tuint8_t res9_1[0x16];\t \n\tuint16_t tgt_portal_grp; \n\tuint8_t abort_timer;\t \n\tuint8_t ipv4_tcp_wsf;\t \n\tuint8_t res10[6];\t \n\tuint8_t ipv4_sec_ip_addr[4];\t \n\tuint8_t ipv4_dhcp_vid_len;\t \n\tuint8_t ipv4_dhcp_vid[11];\t \n\tuint8_t res11[20];\t \n\tuint8_t ipv4_dhcp_alt_cid_len;\t \n\tuint8_t ipv4_dhcp_alt_cid[11];\t \n\tuint8_t iscsi_name[224];\t \n\tuint8_t res12[32];\t \n\tuint32_t cookie;\t \n\tuint16_t ipv6_port;\t \n\tuint16_t ipv6_opts;\t \n#define IPV6_OPT_IPV6_PROTOCOL_ENABLE\t\t0x8000\n#define IPV6_OPT_VLAN_TAGGING_ENABLE\t\t0x2000\n#define IPV6_OPT_GRAT_NEIGHBOR_ADV_EN\t\t0x1000\n#define IPV6_OPT_REDIRECT_EN\t\t\t0x0004\n\n\tuint16_t ipv6_addtl_opts;\t \n#define IPV6_ADDOPT_IGNORE_ICMP_ECHO_REQ\t\t0x0040\n#define IPV6_ADDOPT_MLD_EN\t\t\t\t0x0004\n#define IPV6_ADDOPT_NEIGHBOR_DISCOVERY_ADDR_ENABLE\t0x0002  \n#define IPV6_ADDOPT_AUTOCONFIG_LINK_LOCAL_ADDR\t\t0x0001\n\n\tuint16_t ipv6_tcp_opts;\t \n#define IPV6_TCPOPT_DELAYED_ACK_DISABLE\t\t0x8000\n#define IPV6_TCPOPT_NAGLE_ALGO_DISABLE\t\t0x0020\n#define IPV6_TCPOPT_WINDOW_SCALE_DISABLE\t0x0010\n#define IPV6_TCPOPT_TIMER_SCALE\t\t\t0x000E\n#define IPV6_TCPOPT_TIMESTAMP_EN\t\t0x0001\n\tuint8_t ipv6_tcp_wsf;\t \n\tuint16_t ipv6_flow_lbl;\t \n\tuint8_t ipv6_dflt_rtr_addr[16];  \n\tuint16_t ipv6_vlan_tag;\t \n\tuint8_t ipv6_lnk_lcl_addr_state; \n\tuint8_t ipv6_addr0_state;\t \n\tuint8_t ipv6_addr1_state;\t \n\tuint8_t ipv6_dflt_rtr_state;     \n#define IPV6_RTRSTATE_UNKNOWN                   0\n#define IPV6_RTRSTATE_MANUAL                    1\n#define IPV6_RTRSTATE_ADVERTISED                3\n#define IPV6_RTRSTATE_STALE                     4\n\n\tuint8_t ipv6_traffic_class;\t \n\tuint8_t ipv6_hop_limit;\t \n\tuint8_t ipv6_if_id[8];\t \n\tuint8_t ipv6_addr0[16];\t \n\tuint8_t ipv6_addr1[16];\t \n\tuint32_t ipv6_nd_reach_time;\t \n\tuint32_t ipv6_nd_rexmit_timer;\t \n\tuint32_t ipv6_nd_stale_timeout;\t \n\tuint8_t ipv6_dup_addr_detect_count;\t \n\tuint8_t ipv6_cache_id;\t \n\tuint8_t res13[18];\t \n\tuint32_t ipv6_gw_advrt_mtu;\t \n\tuint8_t res14[140];\t \n};\n\n#define IP_ADDR_COUNT\t4  \n\n#define IP_STATE_MASK\t0x0F000000\n#define IP_STATE_SHIFT\t24\n\nstruct init_fw_ctrl_blk {\n\tstruct addr_ctrl_blk pri;\n \n};\n\n#define PRIMARI_ACB\t\t0\n#define SECONDARY_ACB\t\t1\n\nstruct addr_ctrl_blk_def {\n\tuint8_t reserved1[1];\t \n\tuint8_t control;\t \n\tuint8_t reserved2[11];\t \n\tuint8_t inst_num;\t \n\tuint8_t reserved3[34];\t \n\tuint16_t iscsi_opts;\t \n\tuint16_t ipv4_tcp_opts;\t \n\tuint16_t ipv4_ip_opts;\t \n\tuint16_t iscsi_max_pdu_size;\t \n\tuint8_t ipv4_tos;\t \n\tuint8_t ipv4_ttl;\t \n\tuint8_t reserved4[2];\t \n\tuint16_t def_timeout;\t \n\tuint16_t iscsi_fburst_len;\t \n\tuint8_t reserved5[4];\t \n\tuint16_t iscsi_max_outstnd_r2t;\t \n\tuint8_t reserved6[2];\t \n\tuint16_t ipv4_port;\t \n\tuint16_t iscsi_max_burst_len;\t \n\tuint8_t reserved7[4];\t \n\tuint8_t ipv4_addr[4];\t \n\tuint16_t ipv4_vlan_tag;\t \n\tuint8_t ipv4_addr_state;\t \n\tuint8_t ipv4_cacheid;\t \n\tuint8_t reserved8[8];\t \n\tuint8_t ipv4_subnet[4];\t \n\tuint8_t reserved9[12];\t \n\tuint8_t ipv4_gw_addr[4];\t \n\tuint8_t reserved10[84];\t \n\tuint8_t abort_timer;\t \n\tuint8_t ipv4_tcp_wsf;\t \n\tuint8_t reserved11[10];\t \n\tuint8_t ipv4_dhcp_vid_len;\t \n\tuint8_t ipv4_dhcp_vid[11];\t \n\tuint8_t reserved12[20];\t \n\tuint8_t ipv4_dhcp_alt_cid_len;\t \n\tuint8_t ipv4_dhcp_alt_cid[11];\t \n\tuint8_t iscsi_name[224];\t \n\tuint8_t reserved13[32];\t \n\tuint32_t cookie;\t \n\tuint16_t ipv6_port;\t \n\tuint16_t ipv6_opts;\t \n\tuint16_t ipv6_addtl_opts;\t \n\tuint16_t ipv6_tcp_opts;\t\t \n\tuint8_t ipv6_tcp_wsf;\t\t \n\tuint16_t ipv6_flow_lbl;\t\t \n\tuint8_t ipv6_dflt_rtr_addr[16];\t \n\tuint16_t ipv6_vlan_tag;\t\t \n\tuint8_t ipv6_lnk_lcl_addr_state;\t \n\tuint8_t ipv6_addr0_state;\t \n\tuint8_t ipv6_addr1_state;\t \n\tuint8_t ipv6_dflt_rtr_state;\t \n\tuint8_t ipv6_traffic_class;\t \n\tuint8_t ipv6_hop_limit;\t\t \n\tuint8_t ipv6_if_id[8];\t\t \n\tuint8_t ipv6_addr0[16];\t\t \n\tuint8_t ipv6_addr1[16];\t\t \n\tuint32_t ipv6_nd_reach_time;\t \n\tuint32_t ipv6_nd_rexmit_timer;\t \n\tuint32_t ipv6_nd_stale_timeout;\t \n\tuint8_t ipv6_dup_addr_detect_count;\t \n\tuint8_t ipv6_cache_id;\t\t \n\tuint8_t reserved14[18];\t\t \n\tuint32_t ipv6_gw_advrt_mtu;\t \n\tuint8_t reserved15[140];\t \n};\n\n \n\n#define MAX_CHAP_ENTRIES_40XX\t128\n#define MAX_CHAP_ENTRIES_82XX\t1024\n#define MAX_RESRV_CHAP_IDX\t3\n#define FLASH_CHAP_OFFSET\t0x06000000\n\nstruct ql4_chap_table {\n\tuint16_t link;\n\tuint8_t flags;\n\tuint8_t secret_len;\n#define MIN_CHAP_SECRET_LEN\t12\n#define MAX_CHAP_SECRET_LEN\t100\n\tuint8_t secret[MAX_CHAP_SECRET_LEN];\n#define MAX_CHAP_NAME_LEN\t256\n\tuint8_t name[MAX_CHAP_NAME_LEN];\n\tuint16_t reserved;\n#define CHAP_VALID_COOKIE\t0x4092\n#define CHAP_INVALID_COOKIE\t0xFFEE\n\tuint16_t cookie;\n};\n\nstruct dev_db_entry {\n\tuint16_t options;\t \n#define DDB_OPT_DISC_SESSION  0x10\n#define DDB_OPT_TARGET\t      0x02  \n#define DDB_OPT_IPV6_DEVICE\t0x100\n#define DDB_OPT_AUTO_SENDTGTS_DISABLE\t\t0x40\n#define DDB_OPT_IPV6_NULL_LINK_LOCAL\t\t0x800  \n#define DDB_OPT_IPV6_FW_DEFINED_LINK_LOCAL\t0x800  \n\n#define OPT_IS_FW_ASSIGNED_IPV6\t\t11\n#define OPT_IPV6_DEVICE\t\t\t8\n#define OPT_AUTO_SENDTGTS_DISABLE\t6\n#define OPT_DISC_SESSION\t\t4\n#define OPT_ENTRY_STATE\t\t\t3\n\tuint16_t exec_throttle;\t \n\tuint16_t exec_count;\t \n\tuint16_t res0;\t \n\tuint16_t iscsi_options;\t \n#define ISCSIOPT_HEADER_DIGEST_EN\t\t13\n#define ISCSIOPT_DATA_DIGEST_EN\t\t\t12\n#define ISCSIOPT_IMMEDIATE_DATA_EN\t\t11\n#define ISCSIOPT_INITIAL_R2T_EN\t\t\t10\n#define ISCSIOPT_DATA_SEQ_IN_ORDER\t\t9\n#define ISCSIOPT_DATA_PDU_IN_ORDER\t\t8\n#define ISCSIOPT_CHAP_AUTH_EN\t\t\t7\n#define ISCSIOPT_SNACK_REQ_EN\t\t\t6\n#define ISCSIOPT_DISCOVERY_LOGOUT_EN\t\t5\n#define ISCSIOPT_BIDI_CHAP_EN\t\t\t4\n#define ISCSIOPT_DISCOVERY_AUTH_OPTIONAL\t3\n#define ISCSIOPT_ERL1\t\t\t\t1\n#define ISCSIOPT_ERL0\t\t\t\t0\n\n\tuint16_t tcp_options;\t \n#define TCPOPT_TIMESTAMP_STAT\t6\n#define TCPOPT_NAGLE_DISABLE\t5\n#define TCPOPT_WSF_DISABLE\t4\n#define TCPOPT_TIMER_SCALE3\t3\n#define TCPOPT_TIMER_SCALE2\t2\n#define TCPOPT_TIMER_SCALE1\t1\n#define TCPOPT_TIMESTAMP_EN\t0\n\n\tuint16_t ip_options;\t \n#define IPOPT_FRAGMENT_DISABLE\t4\n\n\tuint16_t iscsi_max_rcv_data_seg_len;\t \n#define BYTE_UNITS\t512\n\tuint32_t res1;\t \n\tuint16_t iscsi_max_snd_data_seg_len;\t \n\tuint16_t iscsi_first_burst_len;\t \n\tuint16_t iscsi_def_time2wait;\t \n\tuint16_t iscsi_def_time2retain;\t \n\tuint16_t iscsi_max_outsnd_r2t;\t \n\tuint16_t ka_timeout;\t \n\tuint8_t isid[6];\t \n\tuint16_t tsid;\t\t \n\tuint16_t port;\t \n\tuint16_t iscsi_max_burst_len;\t \n\tuint16_t def_timeout;\t \n\tuint16_t res2;\t \n\tuint8_t ip_addr[0x10];\t \n\tuint8_t iscsi_alias[0x20];\t \n\tuint8_t tgt_addr[0x20];\t \n\tuint16_t mss;\t \n\tuint16_t res3;\t \n\tuint16_t lcl_port;\t \n\tuint8_t ipv4_tos;\t \n\tuint16_t ipv6_flow_lbl;\t \n\tuint8_t res4[0x36];\t \n\tuint8_t iscsi_name[0xE0];\t \n\tuint8_t link_local_ipv6_addr[0x10];  \n\tuint8_t res5[0x10];\t \n#define DDB_NO_LINK\t0xFFFF\n#define DDB_ISNS\t0xFFFD\n\tuint16_t ddb_link;\t \n\tuint16_t chap_tbl_idx;\t \n\tuint16_t tgt_portal_grp;  \n\tuint8_t tcp_xmt_wsf;\t \n\tuint8_t tcp_rcv_wsf;\t \n\tuint32_t stat_sn;\t \n\tuint32_t exp_stat_sn;\t \n\tuint8_t res6[0x2b];\t \n#define DDB_VALID_COOKIE\t0x9034\n\tuint16_t cookie;\t \n\tuint16_t len;\t\t \n};\n\n \n\n \n\n#define FLASH_OFFSET_SYS_INFO\t0x02000000\n#define FLASH_DEFAULTBLOCKSIZE\t0x20000\n#define FLASH_EOF_OFFSET\t(FLASH_DEFAULTBLOCKSIZE-8)  \n#define FLASH_RAW_ACCESS_ADDR\t0x8e000000\n\n#define BOOT_PARAM_OFFSET_PORT0 0x3b0\n#define BOOT_PARAM_OFFSET_PORT1 0x7b0\n\n#define FLASH_OFFSET_DB_INFO\t0x05000000\n#define FLASH_OFFSET_DB_END\t(FLASH_OFFSET_DB_INFO + 0x7fff)\n\n\nstruct sys_info_phys_addr {\n\tuint8_t address[6];\t \n\tuint8_t filler[2];\t \n};\n\nstruct flash_sys_info {\n\tuint32_t cookie;\t \n\tuint32_t physAddrCount;  \n\tstruct sys_info_phys_addr physAddr[4];  \n\tuint8_t vendorId[128];\t \n\tuint8_t productId[128];  \n\tuint32_t serialNumber;\t \n\n\t \n\tuint32_t pciDeviceVendor;\t \n\tuint32_t pciDeviceId;\t \n\tuint32_t pciSubsysVendor;\t \n\tuint32_t pciSubsysId;\t \n\n\t \n\tuint32_t crumbs;\t \n\n\tuint32_t enterpriseNumber;\t \n\n\tuint32_t mtu;\t\t \n\tuint32_t reserved0;\t \n\tuint32_t crumbs2;\t \n\tuint8_t acSerialNumber[16];\t \n\tuint32_t crumbs3;\t \n\n\t \n\tuint32_t reserved1[39];  \n};\t \n\nstruct mbx_sys_info {\n\tuint8_t board_id_str[16];    \n\t\t\t\t \n\tuint16_t board_id;\t \n\tuint16_t phys_port_cnt;\t \n\tuint16_t port_num;\t \n\t\t\t\t \n\tuint8_t mac_addr[6];\t \n\tuint32_t iscsi_pci_func_cnt;   \n\tuint32_t pci_func;\t       \n\tunsigned char serial_number[16];   \n\tuint8_t reserved[12];\t\t   \n};\n\nstruct about_fw_info {\n\tuint16_t fw_major;\t\t \n\tuint16_t fw_minor;\t\t \n\tuint16_t fw_patch;\t\t \n\tuint16_t fw_build;\t\t \n\tuint8_t fw_build_date[16];\t \n\tuint8_t fw_build_time[16];\t \n\tuint8_t fw_build_user[16];\t \n\tuint16_t fw_load_source;\t \n\t\t\t\t\t \n\tuint8_t reserved1[6];\t\t \n\tuint16_t iscsi_major;\t\t \n\tuint16_t iscsi_minor;\t\t \n\tuint16_t bootload_major;\t \n\tuint16_t bootload_minor;\t \n\tuint16_t bootload_patch;\t \n\tuint16_t bootload_build;\t \n\tuint8_t extended_timestamp[180]; \n};\n\nstruct crash_record {\n\tuint16_t fw_major_version;\t \n\tuint16_t fw_minor_version;\t \n\tuint16_t fw_patch_version;\t \n\tuint16_t fw_build_version;\t \n\n\tuint8_t build_date[16];  \n\tuint8_t build_time[16];  \n\tuint8_t build_user[16];  \n\tuint8_t card_serial_num[16];\t \n\n\tuint32_t time_of_crash_in_secs;  \n\tuint32_t time_of_crash_in_ms;\t \n\n\tuint16_t out_RISC_sd_num_frames;\t \n\tuint16_t OAP_sd_num_words;\t \n\tuint16_t IAP_sd_num_frames;\t \n\tuint16_t in_RISC_sd_num_words;\t \n\n\tuint8_t reserved1[28];\t \n\n\tuint8_t out_RISC_reg_dump[256];  \n\tuint8_t in_RISC_reg_dump[256];\t \n\tuint8_t in_out_RISC_stack_dump[];\t \n};\n\nstruct conn_event_log_entry {\n#define MAX_CONN_EVENT_LOG_ENTRIES\t100\n\tuint32_t timestamp_sec;  \n\tuint32_t timestamp_ms;\t \n\tuint16_t device_index;\t \n\tuint16_t fw_conn_state;  \n\tuint8_t event_type;\t \n\tuint8_t error_code;\t \n\tuint16_t error_code_detail;\t \n\tuint8_t num_consecutive_events;  \n\tuint8_t rsvd[3];\t \n};\n\n \n#define IOCB_MAX_CDB_LEN\t    16\t \n#define IOCB_MAX_SENSEDATA_LEN\t    32\t \n#define IOCB_MAX_EXT_SENSEDATA_LEN  60   \n\n \nstruct qla4_header {\n\tuint8_t entryType;\n#define ET_STATUS\t\t 0x03\n#define ET_MARKER\t\t 0x04\n#define ET_CONT_T1\t\t 0x0A\n#define ET_STATUS_CONTINUATION\t 0x10\n#define ET_CMND_T3\t\t 0x19\n#define ET_PASSTHRU0\t\t 0x3A\n#define ET_PASSTHRU_STATUS\t 0x3C\n#define ET_MBOX_CMD\t\t0x38\n#define ET_MBOX_STATUS\t\t0x39\n\n\tuint8_t entryStatus;\n\tuint8_t systemDefined;\n#define SD_ISCSI_PDU\t0x01\n\tuint8_t entryCount;\n\n\t \n};\n\n \nstruct queue_entry {\n\tuint8_t data[60];\n\tuint32_t signature;\n\n};\n\n \n\n#define COMMAND_SEG_A64\t  1\n#define CONTINUE_SEG_A64  5\n\n \n\nstruct data_seg_a64 {\n\tstruct {\n\t\tuint32_t addrLow;\n\t\tuint32_t addrHigh;\n\n\t} base;\n\n\tuint32_t count;\n\n};\n\n \n\nstruct command_t3_entry {\n\tstruct qla4_header hdr;\t \n\n\tuint32_t handle;\t \n\tuint16_t target;\t \n\tuint16_t connection_id;  \n\n\tuint8_t control_flags;\t \n\n\t \n#define CF_WRITE\t\t0x20\n#define CF_READ\t\t\t0x40\n#define CF_NO_DATA\t\t0x00\n\n\t \n#define CF_HEAD_TAG\t\t0x03\n#define CF_ORDERED_TAG\t\t0x02\n#define CF_SIMPLE_TAG\t\t0x01\n\n\t \n\tuint8_t state_flags;\t \n\tuint8_t cmdRefNum;\t \n\tuint8_t reserved1;\t \n\tuint8_t cdb[IOCB_MAX_CDB_LEN];\t \n\tstruct scsi_lun lun;\t \n\tuint32_t cmdSeqNum;\t \n\tuint16_t timeout;\t \n\tuint16_t dataSegCnt;\t \n\tuint32_t ttlByteCnt;\t \n\tstruct data_seg_a64 dataseg[COMMAND_SEG_A64];\t \n\n};\n\n\n \nstruct continuation_t1_entry {\n\tstruct qla4_header hdr;\n\n\tstruct data_seg_a64 dataseg[CONTINUE_SEG_A64];\n\n};\n\n \n#define COMMAND_SEG\tCOMMAND_SEG_A64\n#define CONTINUE_SEG\tCONTINUE_SEG_A64\n\n#define ET_COMMAND\tET_CMND_T3\n#define ET_CONTINUE\tET_CONT_T1\n\n \nstruct qla4_marker_entry {\n\tstruct qla4_header hdr;\t \n\n\tuint32_t system_defined;  \n\tuint16_t target;\t \n\tuint16_t modifier;\t \n#define MM_LUN_RESET\t\t0\n#define MM_TGT_WARM_RESET\t1\n\n\tuint16_t flags;\t\t \n\tuint16_t reserved1;\t \n\tstruct scsi_lun lun;\t \n\tuint64_t reserved2;\t \n\tuint64_t reserved3;\t \n\tuint64_t reserved4;\t \n\tuint64_t reserved5;\t \n\tuint64_t reserved6;\t \n};\n\n \nstruct status_entry {\n\tstruct qla4_header hdr;\t \n\n\tuint32_t handle;\t \n\n\tuint8_t scsiStatus;\t \n\n\tuint8_t iscsiFlags;\t \n#define ISCSI_FLAG_RESIDUAL_UNDER\t  0x02\n#define ISCSI_FLAG_RESIDUAL_OVER\t  0x04\n\n\tuint8_t iscsiResponse;\t \n\n\tuint8_t completionStatus;\t \n#define SCS_COMPLETE\t\t\t  0x00\n#define SCS_INCOMPLETE\t\t\t  0x01\n#define SCS_RESET_OCCURRED\t\t  0x04\n#define SCS_ABORTED\t\t\t  0x05\n#define SCS_TIMEOUT\t\t\t  0x06\n#define SCS_DATA_OVERRUN\t\t  0x07\n#define SCS_DATA_UNDERRUN\t\t  0x15\n#define SCS_QUEUE_FULL\t\t\t  0x1C\n#define SCS_DEVICE_UNAVAILABLE\t\t  0x28\n#define SCS_DEVICE_LOGGED_OUT\t\t  0x29\n\n\tuint8_t reserved1;\t \n\n\t \n\tuint8_t state_flags;\t \n\n\tuint16_t senseDataByteCnt;\t \n\tuint32_t residualByteCnt;\t \n\tuint32_t bidiResidualByteCnt;\t \n\tuint32_t expSeqNum;\t \n\tuint32_t maxCmdSeqNum;\t \n\tuint8_t senseData[IOCB_MAX_SENSEDATA_LEN];\t \n\n};\n\n \nstruct status_cont_entry {\n       struct qla4_header hdr;  \n       uint8_t ext_sense_data[IOCB_MAX_EXT_SENSEDATA_LEN];  \n};\n\nstruct passthru0 {\n\tstruct qla4_header hdr;\t\t        \n\tuint32_t handle;\t \n\tuint16_t target;\t \n\tuint16_t connection_id;\t \n#define ISNS_DEFAULT_SERVER_CONN_ID\t((uint16_t)0x8000)\n\n\tuint16_t control_flags;\t \n#define PT_FLAG_ETHERNET_FRAME\t\t0x8000\n#define PT_FLAG_ISNS_PDU\t\t0x8000\n#define PT_FLAG_SEND_BUFFER\t\t0x0200\n#define PT_FLAG_WAIT_4_RESPONSE\t\t0x0100\n#define PT_FLAG_ISCSI_PDU\t\t0x1000\n\n\tuint16_t timeout;\t \n#define PT_DEFAULT_TIMEOUT\t\t30  \n\n\tstruct data_seg_a64 out_dsd;     \n\tuint32_t res1;\t\t \n\tstruct data_seg_a64 in_dsd;      \n\tuint8_t res2[20];\t \n};\n\nstruct passthru_status {\n\tstruct qla4_header hdr;\t\t        \n\tuint32_t handle;\t \n\tuint16_t target;\t \n\tuint16_t connectionID;\t \n\n\tuint8_t completionStatus;\t \n#define PASSTHRU_STATUS_COMPLETE\t\t0x01\n\n\tuint8_t residualFlags;\t \n\n\tuint16_t timeout;\t \n\tuint16_t portNumber;\t \n\tuint8_t res1[10];\t \n\tuint32_t outResidual;\t \n\tuint8_t res2[12];\t \n\tuint32_t inResidual;\t \n\tuint8_t res4[16];\t \n};\n\nstruct mbox_cmd_iocb {\n\tstruct qla4_header hdr;\t \n\tuint32_t handle;\t \n\tuint32_t in_mbox[8];\t \n\tuint32_t res1[6];\t \n};\n\nstruct mbox_status_iocb {\n\tstruct qla4_header hdr;\t \n\tuint32_t handle;\t \n\tuint32_t out_mbox[8];\t \n\tuint32_t res1[6];\t \n};\n\n \nstruct response {\n\tuint8_t data[60];\n\tuint32_t signature;\n#define RESPONSE_PROCESSED\t0xDEADDEAD\t \n};\n\nstruct ql_iscsi_stats {\n\tuint64_t mac_tx_frames;  \n\tuint64_t mac_tx_bytes;  \n\tuint64_t mac_tx_multicast_frames;  \n\tuint64_t mac_tx_broadcast_frames;  \n\tuint64_t mac_tx_pause_frames;  \n\tuint64_t mac_tx_control_frames;  \n\tuint64_t mac_tx_deferral;  \n\tuint64_t mac_tx_excess_deferral;  \n\tuint64_t mac_tx_late_collision;  \n\tuint64_t mac_tx_abort;  \n\tuint64_t mac_tx_single_collision;  \n\tuint64_t mac_tx_multiple_collision;  \n\tuint64_t mac_tx_collision;  \n\tuint64_t mac_tx_frames_dropped;  \n\tuint64_t mac_tx_jumbo_frames;  \n\tuint64_t mac_rx_frames;  \n\tuint64_t mac_rx_bytes;  \n\tuint64_t mac_rx_unknown_control_frames;  \n\tuint64_t mac_rx_pause_frames;  \n\tuint64_t mac_rx_control_frames;  \n\tuint64_t mac_rx_dribble;  \n\tuint64_t mac_rx_frame_length_error;  \n\tuint64_t mac_rx_jabber;  \n\tuint64_t mac_rx_carrier_sense_error;  \n\tuint64_t mac_rx_frame_discarded;  \n\tuint64_t mac_rx_frames_dropped;  \n\tuint64_t mac_crc_error;  \n\tuint64_t mac_encoding_error;  \n\tuint64_t mac_rx_length_error_large;  \n\tuint64_t mac_rx_length_error_small;  \n\tuint64_t mac_rx_multicast_frames;  \n\tuint64_t mac_rx_broadcast_frames;  \n\tuint64_t ip_tx_packets;  \n\tuint64_t ip_tx_bytes;  \n\tuint64_t ip_tx_fragments;  \n\tuint64_t ip_rx_packets;  \n\tuint64_t ip_rx_bytes;  \n\tuint64_t ip_rx_fragments;  \n\tuint64_t ip_datagram_reassembly;  \n\tuint64_t ip_invalid_address_error;  \n\tuint64_t ip_error_packets;  \n\tuint64_t ip_fragrx_overlap;  \n\tuint64_t ip_fragrx_outoforder;  \n\tuint64_t ip_datagram_reassembly_timeout;  \n\tuint64_t ipv6_tx_packets;  \n\tuint64_t ipv6_tx_bytes;  \n\tuint64_t ipv6_tx_fragments;  \n\tuint64_t ipv6_rx_packets;  \n\tuint64_t ipv6_rx_bytes;  \n\tuint64_t ipv6_rx_fragments;  \n\tuint64_t ipv6_datagram_reassembly;  \n\tuint64_t ipv6_invalid_address_error;  \n\tuint64_t ipv6_error_packets;  \n\tuint64_t ipv6_fragrx_overlap;  \n\tuint64_t ipv6_fragrx_outoforder;  \n\tuint64_t ipv6_datagram_reassembly_timeout;  \n\tuint64_t tcp_tx_segments;  \n\tuint64_t tcp_tx_bytes;  \n\tuint64_t tcp_rx_segments;  \n\tuint64_t tcp_rx_byte;  \n\tuint64_t tcp_duplicate_ack_retx;  \n\tuint64_t tcp_retx_timer_expired;  \n\tuint64_t tcp_rx_duplicate_ack;  \n\tuint64_t tcp_rx_pure_ackr;  \n\tuint64_t tcp_tx_delayed_ack;  \n\tuint64_t tcp_tx_pure_ack;  \n\tuint64_t tcp_rx_segment_error;  \n\tuint64_t tcp_rx_segment_outoforder;  \n\tuint64_t tcp_rx_window_probe;  \n\tuint64_t tcp_rx_window_update;  \n\tuint64_t tcp_tx_window_probe_persist;  \n\tuint64_t ecc_error_correction;  \n\tuint64_t iscsi_pdu_tx;  \n\tuint64_t iscsi_data_bytes_tx;  \n\tuint64_t iscsi_pdu_rx;  \n\tuint64_t iscsi_data_bytes_rx;  \n\tuint64_t iscsi_io_completed;  \n\tuint64_t iscsi_unexpected_io_rx;  \n\tuint64_t iscsi_format_error;  \n\tuint64_t iscsi_hdr_digest_error;  \n\tuint64_t iscsi_data_digest_error;  \n\tuint64_t iscsi_sequence_error;  \n\tuint32_t tx_cmd_pdu;  \n\tuint32_t tx_resp_pdu;  \n\tuint32_t rx_cmd_pdu;  \n\tuint32_t rx_resp_pdu;  \n\n\tuint64_t tx_data_octets;  \n\tuint64_t rx_data_octets;  \n\n\tuint32_t hdr_digest_err;  \n\tuint32_t data_digest_err;  \n\tuint32_t conn_timeout_err;  \n\tuint32_t framing_err;  \n\n\tuint32_t tx_nopout_pdus;  \n\tuint32_t tx_scsi_cmd_pdus;   \n\tuint32_t tx_tmf_cmd_pdus;  \n\tuint32_t tx_login_cmd_pdus;  \n\tuint32_t tx_text_cmd_pdus;  \n\tuint32_t tx_scsi_write_pdus;  \n\tuint32_t tx_logout_cmd_pdus;  \n\tuint32_t tx_snack_req_pdus;  \n\n\tuint32_t rx_nopin_pdus;  \n\tuint32_t rx_scsi_resp_pdus;  \n\tuint32_t rx_tmf_resp_pdus;  \n\tuint32_t rx_login_resp_pdus;  \n\tuint32_t rx_text_resp_pdus;  \n\tuint32_t rx_scsi_read_pdus;  \n\tuint32_t rx_logout_resp_pdus;  \n\n\tuint32_t rx_r2t_pdus;  \n\tuint32_t rx_async_pdus;  \n\tuint32_t rx_reject_pdus;  \n\n\tuint8_t reserved2[264];  \n};\n\n#define QLA8XXX_DBG_STATE_ARRAY_LEN\t\t16\n#define QLA8XXX_DBG_CAP_SIZE_ARRAY_LEN\t\t8\n#define QLA8XXX_DBG_RSVD_ARRAY_LEN\t\t8\n#define QLA83XX_DBG_OCM_WNDREG_ARRAY_LEN\t16\n#define QLA83XX_SS_OCM_WNDREG_INDEX\t\t3\n#define QLA83XX_SS_PCI_INDEX\t\t\t0\n#define QLA8022_TEMPLATE_CAP_OFFSET\t\t172\n#define QLA83XX_TEMPLATE_CAP_OFFSET\t\t268\n#define QLA80XX_TEMPLATE_RESERVED_BITS\t\t16\n\nstruct qla4_8xxx_minidump_template_hdr {\n\tuint32_t entry_type;\n\tuint32_t first_entry_offset;\n\tuint32_t size_of_template;\n\tuint32_t capture_debug_level;\n\tuint32_t num_of_entries;\n\tuint32_t version;\n\tuint32_t driver_timestamp;\n\tuint32_t checksum;\n\n\tuint32_t driver_capture_mask;\n\tuint32_t driver_info_word2;\n\tuint32_t driver_info_word3;\n\tuint32_t driver_info_word4;\n\n\tuint32_t saved_state_array[QLA8XXX_DBG_STATE_ARRAY_LEN];\n\tuint32_t capture_size_array[QLA8XXX_DBG_CAP_SIZE_ARRAY_LEN];\n\tuint32_t ocm_window_reg[QLA83XX_DBG_OCM_WNDREG_ARRAY_LEN];\n\tuint32_t capabilities[QLA80XX_TEMPLATE_RESERVED_BITS];\n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}