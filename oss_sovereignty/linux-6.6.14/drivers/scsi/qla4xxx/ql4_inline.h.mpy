{
  "module_name": "ql4_inline.h",
  "hash_id": "d2f05d6612af2d1b61fc933db7cccd4bd8316c2e85b4f820643f0732afc99ca4",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/qla4xxx/ql4_inline.h",
  "human_readable_source": " \n \n\n \nstatic inline struct ddb_entry *\nqla4xxx_lookup_ddb_by_fw_index(struct scsi_qla_host *ha, uint32_t fw_ddb_index)\n{\n\tstruct ddb_entry *ddb_entry = NULL;\n\n\tif ((fw_ddb_index < MAX_DDB_ENTRIES) &&\n\t    (ha->fw_ddb_index_map[fw_ddb_index] !=\n\t\t(struct ddb_entry *) INVALID_ENTRY)) {\n\t\tddb_entry = ha->fw_ddb_index_map[fw_ddb_index];\n\t}\n\n\tDEBUG3(printk(\"scsi%d: %s: ddb [%d], ddb_entry = %p\\n\",\n\t    ha->host_no, __func__, fw_ddb_index, ddb_entry));\n\n\treturn ddb_entry;\n}\n\nstatic inline void\n__qla4xxx_enable_intrs(struct scsi_qla_host *ha)\n{\n\tif (is_qla4022(ha) | is_qla4032(ha)) {\n\t\twritel(set_rmask(IMR_SCSI_INTR_ENABLE),\n\t\t       &ha->reg->u1.isp4022.intr_mask);\n\t\treadl(&ha->reg->u1.isp4022.intr_mask);\n\t} else {\n\t\twritel(set_rmask(CSR_SCSI_INTR_ENABLE), &ha->reg->ctrl_status);\n\t\treadl(&ha->reg->ctrl_status);\n\t}\n\tset_bit(AF_INTERRUPTS_ON, &ha->flags);\n}\n\nstatic inline void\n__qla4xxx_disable_intrs(struct scsi_qla_host *ha)\n{\n\tif (is_qla4022(ha) | is_qla4032(ha)) {\n\t\twritel(clr_rmask(IMR_SCSI_INTR_ENABLE),\n\t\t       &ha->reg->u1.isp4022.intr_mask);\n\t\treadl(&ha->reg->u1.isp4022.intr_mask);\n\t} else {\n\t\twritel(clr_rmask(CSR_SCSI_INTR_ENABLE), &ha->reg->ctrl_status);\n\t\treadl(&ha->reg->ctrl_status);\n\t}\n\tclear_bit(AF_INTERRUPTS_ON, &ha->flags);\n}\n\nstatic inline void\nqla4xxx_enable_intrs(struct scsi_qla_host *ha)\n{\n\tunsigned long flags;\n\n\tspin_lock_irqsave(&ha->hardware_lock, flags);\n\t__qla4xxx_enable_intrs(ha);\n\tspin_unlock_irqrestore(&ha->hardware_lock, flags);\n}\n\nstatic inline void\nqla4xxx_disable_intrs(struct scsi_qla_host *ha)\n{\n\tunsigned long flags;\n\n\tspin_lock_irqsave(&ha->hardware_lock, flags);\n\t__qla4xxx_disable_intrs(ha);\n\tspin_unlock_irqrestore(&ha->hardware_lock, flags);\n}\n\nstatic inline int qla4xxx_get_chap_type(struct ql4_chap_table *chap_entry)\n{\n\tint type;\n\n\tif (chap_entry->flags & BIT_7)\n\t\ttype = LOCAL_CHAP;\n\telse\n\t\ttype = BIDI_CHAP;\n\n\treturn type;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}