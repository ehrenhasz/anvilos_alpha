{
  "module_name": "aiclib.h",
  "hash_id": "dd2f04ea9d77513455f2129bfe57026b32093a30424693dd4044b60fa8b0a745",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/aic7xxx/aiclib.h",
  "human_readable_source": " \n\n#ifndef\t_AICLIB_H\n#define _AICLIB_H\n\nstruct scsi_sense\n{\n\tuint8_t opcode;\n\tuint8_t byte2;\n\tuint8_t unused[2];\n\tuint8_t length;\n\tuint8_t control;\n};\n\n#define\t\tSCSI_REV_0\t\t0\n#define\t\tSCSI_REV_CCS\t\t1\n#define\t\tSCSI_REV_2\t\t2\n#define\t\tSCSI_REV_SPC\t\t3\n#define\t\tSCSI_REV_SPC2\t\t4\n\nstruct scsi_sense_data\n{\n\tuint8_t error_code;\n#define\tSSD_ERRCODE\t\t\t0x7F\n#define\t\tSSD_CURRENT_ERROR\t0x70\n#define\t\tSSD_DEFERRED_ERROR\t0x71\n#define\tSSD_ERRCODE_VALID\t0x80\t\n\tuint8_t segment;\n\tuint8_t flags;\n#define\tSSD_KEY\t\t\t\t0x0F\n#define\t\tSSD_KEY_NO_SENSE\t0x00\n#define\t\tSSD_KEY_RECOVERED_ERROR\t0x01\n#define\t\tSSD_KEY_NOT_READY\t0x02\n#define\t\tSSD_KEY_MEDIUM_ERROR\t0x03\n#define\t\tSSD_KEY_HARDWARE_ERROR\t0x04\n#define\t\tSSD_KEY_ILLEGAL_REQUEST\t0x05\n#define\t\tSSD_KEY_UNIT_ATTENTION\t0x06\n#define\t\tSSD_KEY_DATA_PROTECT\t0x07\n#define\t\tSSD_KEY_BLANK_CHECK\t0x08\n#define\t\tSSD_KEY_Vendor_Specific\t0x09\n#define\t\tSSD_KEY_COPY_ABORTED\t0x0a\n#define\t\tSSD_KEY_ABORTED_COMMAND\t0x0b\t\t\n#define\t\tSSD_KEY_EQUAL\t\t0x0c\n#define\t\tSSD_KEY_VOLUME_OVERFLOW\t0x0d\n#define\t\tSSD_KEY_MISCOMPARE\t0x0e\n#define\t\tSSD_KEY_RESERVED\t0x0f\t\t\t\n#define\tSSD_ILI\t\t0x20\n#define\tSSD_EOM\t\t0x40\n#define\tSSD_FILEMARK\t0x80\n\tuint8_t info[4];\n\tuint8_t extra_len;\n\tuint8_t cmd_spec_info[4];\n\tuint8_t add_sense_code;\n\tuint8_t add_sense_code_qual;\n\tuint8_t fru;\n\tuint8_t sense_key_spec[3];\n#define\tSSD_SCS_VALID\t\t0x80\n#define SSD_FIELDPTR_CMD\t0x40\n#define SSD_BITPTR_VALID\t0x08\n#define SSD_BITPTR_VALUE\t0x07\n#define SSD_MIN_SIZE 18\n\tuint8_t extra_bytes[14];\n#define SSD_FULL_SIZE sizeof(struct scsi_sense_data)\n};\n\n \nstatic inline int\naic_sector_div(sector_t capacity, int heads, int sectors)\n{\n\t \n\tsector_div(capacity, (heads * sectors));\n\treturn (int)capacity;\n}\n\nstatic inline uint32_t\nscsi_4btoul(uint8_t *bytes)\n{\n\tuint32_t rv;\n\n\trv = (bytes[0] << 24) |\n\t     (bytes[1] << 16) |\n\t     (bytes[2] << 8) |\n\t     bytes[3];\n\treturn (rv);\n}\n\n \n\n#define GETID(v, s) (unsigned)(((v) >> (s)) & 0xFFFF ?: PCI_ANY_ID)\n\n#define ID_C(x, c)\t\t\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\\\n\tGETID(x,32), GETID(x,48), GETID(x,0), GETID(x,16),\t\\\n\t(c) << 8, 0xFFFF00, 0\t\t\t\t\t\\\n}\n\n#define ID2C(x)                          \\\n\tID_C(x, PCI_CLASS_STORAGE_SCSI), \\\n\tID_C(x, PCI_CLASS_STORAGE_RAID)\n\n#define IDIROC(x)  ((x) | ~ID_ALL_IROC_MASK)\n\n \n#define ID16(x)                          \\\n\tID(x),                           \\\n\tID((x) | 0x0001000000000000ull), \\\n\tID((x) | 0x0002000000000000ull), \\\n\tID((x) | 0x0003000000000000ull), \\\n\tID((x) | 0x0004000000000000ull), \\\n\tID((x) | 0x0005000000000000ull), \\\n\tID((x) | 0x0006000000000000ull), \\\n\tID((x) | 0x0007000000000000ull), \\\n\tID((x) | 0x0008000000000000ull), \\\n\tID((x) | 0x0009000000000000ull), \\\n\tID((x) | 0x000A000000000000ull), \\\n\tID((x) | 0x000B000000000000ull), \\\n\tID((x) | 0x000C000000000000ull), \\\n\tID((x) | 0x000D000000000000ull), \\\n\tID((x) | 0x000E000000000000ull), \\\n\tID((x) | 0x000F000000000000ull)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}