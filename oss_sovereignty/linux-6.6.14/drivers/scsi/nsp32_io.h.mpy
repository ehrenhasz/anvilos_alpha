{
  "module_name": "nsp32_io.h",
  "hash_id": "2ccefb99dac663058b1d04c777f2b717784c78030418c75906486f21828c2bff",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/nsp32_io.h",
  "human_readable_source": " \n\n#ifndef _NSP32_IO_H\n#define _NSP32_IO_H\n\nstatic inline void nsp32_write1(unsigned int  base,\n\t\t\t\tunsigned int  index,\n\t\t\t\tunsigned char val)\n{\n\toutb(val, (base + index));\n}\n\nstatic inline unsigned char nsp32_read1(unsigned int base,\n\t\t\t\t\tunsigned int index)\n{\n\treturn inb(base + index);\n}\n\nstatic inline void nsp32_write2(unsigned int   base,\n\t\t\t\tunsigned int   index,\n\t\t\t\tunsigned short val)\n{\n\toutw(val, (base + index));\n}\n\nstatic inline unsigned short nsp32_read2(unsigned int base,\n\t\t\t\t\t unsigned int index)\n{\n\treturn inw(base + index);\n}\n\nstatic inline void nsp32_write4(unsigned int  base,\n\t\t\t\tunsigned int  index,\n\t\t\t\tunsigned long val)\n{\n\toutl(val, (base + index));\n}\n\nstatic inline unsigned long nsp32_read4(unsigned int base,\n\t\t\t\t\tunsigned int index)\n{\n\treturn inl(base + index);\n}\n\n \n\nstatic inline void nsp32_mmio_write1(unsigned long base,\n\t\t\t\t     unsigned int  index,\n\t\t\t\t     unsigned char val)\n{\n\tvolatile unsigned char *ptr;\n\n\tptr = (unsigned char *)(base + NSP32_MMIO_OFFSET + index);\n\n\twriteb(val, ptr);\n}\n\nstatic inline unsigned char nsp32_mmio_read1(unsigned long base,\n\t\t\t\t\t     unsigned int  index)\n{\n\tvolatile unsigned char *ptr;\n\n\tptr = (unsigned char *)(base + NSP32_MMIO_OFFSET + index);\n\n\treturn readb(ptr);\n}\n\nstatic inline void nsp32_mmio_write2(unsigned long  base,\n\t\t\t\t     unsigned int   index,\n\t\t\t\t     unsigned short val)\n{\n\tvolatile unsigned short *ptr;\n\n\tptr = (unsigned short *)(base + NSP32_MMIO_OFFSET + index);\n\n\twritew(cpu_to_le16(val), ptr);\n}\n\nstatic inline unsigned short nsp32_mmio_read2(unsigned long base,\n\t\t\t\t\t      unsigned int  index)\n{\n\tvolatile unsigned short *ptr;\n\n\tptr = (unsigned short *)(base + NSP32_MMIO_OFFSET + index);\n\n\treturn le16_to_cpu(readw(ptr));\n}\n\nstatic inline void nsp32_mmio_write4(unsigned long base,\n\t\t\t\t     unsigned int  index,\n\t\t\t\t     unsigned long val)\n{\n\tvolatile unsigned long *ptr;\n\n\tptr = (unsigned long *)(base + NSP32_MMIO_OFFSET + index);\n\n\twritel(cpu_to_le32(val), ptr);\n}\n\nstatic inline unsigned long nsp32_mmio_read4(unsigned long base,\n\t\t\t\t\t     unsigned int  index)\n{\n\tvolatile unsigned long *ptr;\n\n\tptr = (unsigned long *)(base + NSP32_MMIO_OFFSET + index);\n\n\treturn le32_to_cpu(readl(ptr));\n}\n\n \n\nstatic inline unsigned char nsp32_index_read1(unsigned int base,\n\t\t\t\t\t      unsigned int reg)\n{\n\toutb(reg, base + INDEX_REG);\n\treturn inb(base + DATA_REG_LOW);\n}\n\nstatic inline void nsp32_index_write1(unsigned int  base,\n\t\t\t\t      unsigned int  reg,\n\t\t\t\t      unsigned char val)\n{\n\toutb(reg, base + INDEX_REG   );\n\toutb(val, base + DATA_REG_LOW);\n}\n\nstatic inline unsigned short nsp32_index_read2(unsigned int base,\n\t\t\t\t\t       unsigned int reg)\n{\n\toutb(reg, base + INDEX_REG);\n\treturn inw(base + DATA_REG_LOW);\n}\n\nstatic inline void nsp32_index_write2(unsigned int   base,\n\t\t\t\t      unsigned int   reg,\n\t\t\t\t      unsigned short val)\n{\n\toutb(reg, base + INDEX_REG   );\n\toutw(val, base + DATA_REG_LOW);\n}\n\nstatic inline unsigned long nsp32_index_read4(unsigned int base,\n\t\t\t\t\t      unsigned int reg)\n{\n\tunsigned long h,l;\n\n\toutb(reg, base + INDEX_REG);\n\tl = inw(base + DATA_REG_LOW);\n\th = inw(base + DATA_REG_HI );\n\n\treturn ((h << 16) | l);\n}\n\nstatic inline void nsp32_index_write4(unsigned int  base,\n\t\t\t\t      unsigned int  reg,\n\t\t\t\t      unsigned long val)\n{\n\tunsigned long h,l;\n\n\th = (val & 0xffff0000) >> 16;\n\tl = (val & 0x0000ffff) >>  0;\n\n\toutb(reg, base + INDEX_REG   );\n\toutw(l,   base + DATA_REG_LOW);\n\toutw(h,   base + DATA_REG_HI );\n}\n\n \n\nstatic inline unsigned char nsp32_mmio_index_read1(unsigned long base,\n\t\t\t\t\t\t   unsigned int reg)\n{\n\tvolatile unsigned short *index_ptr, *data_ptr;\n\n\tindex_ptr = (unsigned short *)(base + NSP32_MMIO_OFFSET + INDEX_REG);\n\tdata_ptr  = (unsigned short *)(base + NSP32_MMIO_OFFSET + DATA_REG_LOW);\n\n\twriteb(reg, index_ptr);\n\treturn readb(data_ptr);\n}\n\nstatic inline void nsp32_mmio_index_write1(unsigned long base,\n\t\t\t\t\t   unsigned int  reg,\n\t\t\t\t\t   unsigned char val)\n{\n\tvolatile unsigned short *index_ptr, *data_ptr;\n\n\tindex_ptr = (unsigned short *)(base + NSP32_MMIO_OFFSET + INDEX_REG);\n\tdata_ptr  = (unsigned short *)(base + NSP32_MMIO_OFFSET + DATA_REG_LOW);\n\n\twriteb(reg, index_ptr);\n\twriteb(val, data_ptr );\n}\n\nstatic inline unsigned short nsp32_mmio_index_read2(unsigned long base,\n\t\t\t\t\t\t    unsigned int  reg)\n{\n\tvolatile unsigned short *index_ptr, *data_ptr;\n\n\tindex_ptr = (unsigned short *)(base + NSP32_MMIO_OFFSET + INDEX_REG);\n\tdata_ptr  = (unsigned short *)(base + NSP32_MMIO_OFFSET + DATA_REG_LOW);\n\n\twriteb(reg, index_ptr);\n\treturn le16_to_cpu(readw(data_ptr));\n}\n\nstatic inline void nsp32_mmio_index_write2(unsigned long  base,\n\t\t\t\t\t   unsigned int   reg,\n\t\t\t\t\t   unsigned short val)\n{\n\tvolatile unsigned short *index_ptr, *data_ptr;\n\n\tindex_ptr = (unsigned short *)(base + NSP32_MMIO_OFFSET + INDEX_REG);\n\tdata_ptr  = (unsigned short *)(base + NSP32_MMIO_OFFSET + DATA_REG_LOW);\n\n\twriteb(reg,              index_ptr);\n\twritew(cpu_to_le16(val), data_ptr );\n}\n\n \n\nstatic inline void nsp32_multi_read4(unsigned int   base,\n\t\t\t\t     unsigned int   reg,\n\t\t\t\t     void          *buf,\n\t\t\t\t     unsigned long  count)\n{\n\tinsl(base + reg, buf, count);\n}\n\nstatic inline void nsp32_fifo_read(unsigned int   base,\n\t\t\t\t   void          *buf,\n\t\t\t\t   unsigned long  count)\n{\n\tnsp32_multi_read4(base, FIFO_DATA_LOW, buf, count);\n}\n\nstatic inline void nsp32_multi_write4(unsigned int   base,\n\t\t\t\t      unsigned int   reg,\n\t\t\t\t      void          *buf,\n\t\t\t\t      unsigned long  count)\n{\n\toutsl(base + reg, buf, count);\n}\n\nstatic inline void nsp32_fifo_write(unsigned int   base,\n\t\t\t\t    void          *buf,\n\t\t\t\t    unsigned long  count)\n{\n\tnsp32_multi_write4(base, FIFO_DATA_LOW, buf, count);\n}\n\n#endif  \n \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}