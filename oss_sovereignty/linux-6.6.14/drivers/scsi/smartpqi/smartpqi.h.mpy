{
  "module_name": "smartpqi.h",
  "hash_id": "3325411125fb707c81fcc63b0e4e34b7cc47973e1824ce171f752f10d5ceaa8a",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/smartpqi/smartpqi.h",
  "human_readable_source": " \n \n\n#include <linux/io-64-nonatomic-lo-hi.h>\n\n#if !defined(_SMARTPQI_H)\n#define _SMARTPQI_H\n\n#include <scsi/scsi_host.h>\n#include <linux/bsg-lib.h>\n\n#pragma pack(1)\n\n#define PQI_DEVICE_SIGNATURE\t\"PQI DREG\"\n\n \nstruct pqi_device_registers {\n\t__le64\tsignature;\n\tu8\tfunction_and_status_code;\n\tu8\treserved[7];\n\tu8\tmax_admin_iq_elements;\n\tu8\tmax_admin_oq_elements;\n\tu8\tadmin_iq_element_length;\t \n\tu8\tadmin_oq_element_length;\t \n\t__le16\tmax_reset_timeout;\t\t \n\tu8\treserved1[2];\n\t__le32\tlegacy_intx_status;\n\t__le32\tlegacy_intx_mask_set;\n\t__le32\tlegacy_intx_mask_clear;\n\tu8\treserved2[28];\n\t__le32\tdevice_status;\n\tu8\treserved3[4];\n\t__le64\tadmin_iq_pi_offset;\n\t__le64\tadmin_oq_ci_offset;\n\t__le64\tadmin_iq_element_array_addr;\n\t__le64\tadmin_oq_element_array_addr;\n\t__le64\tadmin_iq_ci_addr;\n\t__le64\tadmin_oq_pi_addr;\n\tu8\tadmin_iq_num_elements;\n\tu8\tadmin_oq_num_elements;\n\t__le16\tadmin_queue_int_msg_num;\n\tu8\treserved4[4];\n\t__le32\tdevice_error;\n\tu8\treserved5[4];\n\t__le64\terror_details;\n\t__le32\tdevice_reset;\n\t__le32\tpower_action;\n\tu8\treserved6[104];\n};\n\n \nstruct pqi_ctrl_registers {\n\tu8\treserved[0x20];\n\t__le32\tsis_host_to_ctrl_doorbell;\t\t \n\tu8\treserved1[0x34 - (0x20 + sizeof(__le32))];\n\t__le32\tsis_interrupt_mask;\t\t\t \n\tu8\treserved2[0x9c - (0x34 + sizeof(__le32))];\n\t__le32\tsis_ctrl_to_host_doorbell;\t\t \n\tu8\treserved3[0xa0 - (0x9c + sizeof(__le32))];\n\t__le32\tsis_ctrl_to_host_doorbell_clear;\t \n\tu8\treserved4[0xb0 - (0xa0 + sizeof(__le32))];\n\t__le32\tsis_driver_scratch;\t\t\t \n\t__le32  sis_product_identifier;\t\t\t \n\tu8\treserved5[0xbc - (0xb4 + sizeof(__le32))];\n\t__le32\tsis_firmware_status;\t\t\t \n\tu8\treserved6[0xcc - (0xbc + sizeof(__le32))];\n\t__le32\tsis_ctrl_shutdown_reason_code;\t\t \n\tu8\treserved7[0x1000 - (0xcc + sizeof(__le32))];\n\t__le32\tsis_mailbox[8];\t\t\t\t \n\tu8\treserved8[0x4000 - (0x1000 + (sizeof(__le32) * 8))];\n\t \n\tstruct pqi_device_registers pqi_registers;\t \n};\n\n#define PQI_DEVICE_REGISTERS_OFFSET\t0x4000\n\n \nenum pqi_ctrl_shutdown_reason {\n\tPQI_IQ_NOT_DRAINED_TIMEOUT = 1,\n\tPQI_LUN_RESET_TIMEOUT = 2,\n\tPQI_IO_PENDING_POST_LUN_RESET_TIMEOUT = 3,\n\tPQI_NO_HEARTBEAT = 4,\n\tPQI_FIRMWARE_KERNEL_NOT_UP = 5,\n\tPQI_OFA_RESPONSE_TIMEOUT = 6,\n\tPQI_INVALID_REQ_ID = 7,\n\tPQI_UNMATCHED_REQ_ID = 8,\n\tPQI_IO_PI_OUT_OF_RANGE = 9,\n\tPQI_EVENT_PI_OUT_OF_RANGE = 10,\n\tPQI_UNEXPECTED_IU_TYPE = 11\n};\n\nenum pqi_io_path {\n\tRAID_PATH = 0,\n\tAIO_PATH = 1\n};\n\nenum pqi_irq_mode {\n\tIRQ_MODE_NONE,\n\tIRQ_MODE_INTX,\n\tIRQ_MODE_MSIX\n};\n\nstruct pqi_sg_descriptor {\n\t__le64\taddress;\n\t__le32\tlength;\n\t__le32\tflags;\n};\n\n \n#define CISS_SG_LAST\t0x40000000\n#define CISS_SG_CHAIN\t0x80000000\n\nstruct pqi_iu_header {\n\tu8\tiu_type;\n\tu8\treserved;\n\t__le16\tiu_length;\t \n\t\t\t\t \n\t__le16\tresponse_queue_id;\t \n\t\t\t\t\t \n\tu16\tdriver_flags;\t \n};\n\n \n#define PQI_DRIVER_NONBLOCKABLE_REQUEST\t\t0x1\n\n \n#define PQI_REQUEST_HEADER_LENGTH\t4\n\nstruct pqi_general_admin_request {\n\tstruct pqi_iu_header header;\n\t__le16\trequest_id;\n\tu8\tfunction_code;\n\tunion {\n\t\tstruct {\n\t\t\tu8\treserved[33];\n\t\t\t__le32\tbuffer_length;\n\t\t\tstruct pqi_sg_descriptor sg_descriptor;\n\t\t} report_device_capability;\n\n\t\tstruct {\n\t\t\tu8\treserved;\n\t\t\t__le16\tqueue_id;\n\t\t\tu8\treserved1[2];\n\t\t\t__le64\telement_array_addr;\n\t\t\t__le64\tci_addr;\n\t\t\t__le16\tnum_elements;\n\t\t\t__le16\telement_length;\n\t\t\tu8\tqueue_protocol;\n\t\t\tu8\treserved2[23];\n\t\t\t__le32\tvendor_specific;\n\t\t} create_operational_iq;\n\n\t\tstruct {\n\t\t\tu8\treserved;\n\t\t\t__le16\tqueue_id;\n\t\t\tu8\treserved1[2];\n\t\t\t__le64\telement_array_addr;\n\t\t\t__le64\tpi_addr;\n\t\t\t__le16\tnum_elements;\n\t\t\t__le16\telement_length;\n\t\t\tu8\tqueue_protocol;\n\t\t\tu8\treserved2[3];\n\t\t\t__le16\tint_msg_num;\n\t\t\t__le16\tcoalescing_count;\n\t\t\t__le32\tmin_coalescing_time;\n\t\t\t__le32\tmax_coalescing_time;\n\t\t\tu8\treserved3[8];\n\t\t\t__le32\tvendor_specific;\n\t\t} create_operational_oq;\n\n\t\tstruct {\n\t\t\tu8\treserved;\n\t\t\t__le16\tqueue_id;\n\t\t\tu8\treserved1[50];\n\t\t} delete_operational_queue;\n\n\t\tstruct {\n\t\t\tu8\treserved;\n\t\t\t__le16\tqueue_id;\n\t\t\tu8\treserved1[46];\n\t\t\t__le32\tvendor_specific;\n\t\t} change_operational_iq_properties;\n\n\t} data;\n};\n\nstruct pqi_general_admin_response {\n\tstruct pqi_iu_header header;\n\t__le16\trequest_id;\n\tu8\tfunction_code;\n\tu8\tstatus;\n\tunion {\n\t\tstruct {\n\t\t\tu8\tstatus_descriptor[4];\n\t\t\t__le64\tiq_pi_offset;\n\t\t\tu8\treserved[40];\n\t\t} create_operational_iq;\n\n\t\tstruct {\n\t\t\tu8\tstatus_descriptor[4];\n\t\t\t__le64\toq_ci_offset;\n\t\t\tu8\treserved[40];\n\t\t} create_operational_oq;\n\t} data;\n};\n\nstruct pqi_iu_layer_descriptor {\n\tu8\tinbound_spanning_supported : 1;\n\tu8\treserved : 7;\n\tu8\treserved1[5];\n\t__le16\tmax_inbound_iu_length;\n\tu8\toutbound_spanning_supported : 1;\n\tu8\treserved2 : 7;\n\tu8\treserved3[5];\n\t__le16\tmax_outbound_iu_length;\n};\n\nstruct pqi_device_capability {\n\t__le16\tdata_length;\n\tu8\treserved[6];\n\tu8\tiq_arbitration_priority_support_bitmask;\n\tu8\tmaximum_aw_a;\n\tu8\tmaximum_aw_b;\n\tu8\tmaximum_aw_c;\n\tu8\tmax_arbitration_burst : 3;\n\tu8\treserved1 : 4;\n\tu8\tiqa : 1;\n\tu8\treserved2[2];\n\tu8\tiq_freeze : 1;\n\tu8\treserved3 : 7;\n\t__le16\tmax_inbound_queues;\n\t__le16\tmax_elements_per_iq;\n\tu8\treserved4[4];\n\t__le16\tmax_iq_element_length;\n\t__le16\tmin_iq_element_length;\n\tu8\treserved5[2];\n\t__le16\tmax_outbound_queues;\n\t__le16\tmax_elements_per_oq;\n\t__le16\tintr_coalescing_time_granularity;\n\t__le16\tmax_oq_element_length;\n\t__le16\tmin_oq_element_length;\n\tu8\treserved6[24];\n\tstruct pqi_iu_layer_descriptor iu_layer_descriptors[32];\n};\n\n#define PQI_MAX_EMBEDDED_SG_DESCRIPTORS\t\t4\n#define PQI_MAX_EMBEDDED_R56_SG_DESCRIPTORS\t3\n\nstruct pqi_raid_path_request {\n\tstruct pqi_iu_header header;\n\t__le16\trequest_id;\n\t__le16\tnexus_id;\n\t__le32\tbuffer_length;\n\tu8\tlun_number[8];\n\t__le16\tprotocol_specific;\n\tu8\tdata_direction : 2;\n\tu8\tpartial : 1;\n\tu8\treserved1 : 4;\n\tu8\tfence : 1;\n\t__le16\terror_index;\n\tu8\treserved2;\n\tu8\ttask_attribute : 3;\n\tu8\tcommand_priority : 4;\n\tu8\treserved3 : 1;\n\tu8\treserved4 : 2;\n\tu8\tadditional_cdb_bytes_usage : 3;\n\tu8\treserved5 : 3;\n\tu8\tcdb[16];\n\tu8\treserved6[11];\n\tu8\tml_device_lun_number;\n\t__le32\ttimeout;\n\tstruct pqi_sg_descriptor sg_descriptors[PQI_MAX_EMBEDDED_SG_DESCRIPTORS];\n};\n\nstruct pqi_aio_path_request {\n\tstruct pqi_iu_header header;\n\t__le16\trequest_id;\n\tu8\treserved1[2];\n\t__le32\tnexus_id;\n\t__le32\tbuffer_length;\n\tu8\tdata_direction : 2;\n\tu8\tpartial : 1;\n\tu8\tmemory_type : 1;\n\tu8\tfence : 1;\n\tu8\tencryption_enable : 1;\n\tu8\treserved2 : 2;\n\tu8\ttask_attribute : 3;\n\tu8\tcommand_priority : 4;\n\tu8\treserved3 : 1;\n\t__le16\tdata_encryption_key_index;\n\t__le32\tencrypt_tweak_lower;\n\t__le32\tencrypt_tweak_upper;\n\tu8\tcdb[16];\n\t__le16\terror_index;\n\tu8\tnum_sg_descriptors;\n\tu8\tcdb_length;\n\tu8\tlun_number[8];\n\tu8\treserved4[4];\n\tstruct pqi_sg_descriptor sg_descriptors[PQI_MAX_EMBEDDED_SG_DESCRIPTORS];\n};\n\n#define PQI_RAID1_NVME_XFER_LIMIT\t(32 * 1024)\t \n\nstruct pqi_aio_r1_path_request {\n\tstruct pqi_iu_header header;\n\t__le16\trequest_id;\n\t__le16\tvolume_id;\t \n\t__le32\tit_nexus_1;\t \n\t__le32\tit_nexus_2;\t \n\t__le32\tit_nexus_3;\t \n\t__le32\tdata_length;\t \n\tu8\tdata_direction : 2;\n\tu8\tpartial : 1;\n\tu8\tmemory_type : 1;\n\tu8\tfence : 1;\n\tu8\tencryption_enable : 1;\n\tu8\treserved : 2;\n\tu8\ttask_attribute : 3;\n\tu8\tcommand_priority : 4;\n\tu8\treserved2 : 1;\n\t__le16\tdata_encryption_key_index;\n\tu8\tcdb[16];\n\t__le16\terror_index;\n\tu8\tnum_sg_descriptors;\n\tu8\tcdb_length;\n\tu8\tnum_drives;\t \n\tu8\treserved3[3];\n\t__le32\tencrypt_tweak_lower;\n\t__le32\tencrypt_tweak_upper;\n\tstruct pqi_sg_descriptor sg_descriptors[PQI_MAX_EMBEDDED_SG_DESCRIPTORS];\n};\n\n#define PQI_DEFAULT_MAX_WRITE_RAID_5_6\t\t\t(8 * 1024U)\n#define PQI_DEFAULT_MAX_TRANSFER_ENCRYPTED_SAS_SATA\t(~0U)\n#define PQI_DEFAULT_MAX_TRANSFER_ENCRYPTED_NVME\t\t(32 * 1024U)\n\nstruct pqi_aio_r56_path_request {\n\tstruct pqi_iu_header header;\n\t__le16\trequest_id;\n\t__le16\tvolume_id;\t\t \n\t__le32\tdata_it_nexus;\t\t \n\t__le32\tp_parity_it_nexus;\t \n\t__le32\tq_parity_it_nexus;\t \n\t__le32\tdata_length;\t\t \n\tu8\tdata_direction : 2;\n\tu8\tpartial : 1;\n\tu8\tmem_type : 1;\t\t \n\tu8\tfence : 1;\n\tu8\tencryption_enable : 1;\n\tu8\treserved : 2;\n\tu8\ttask_attribute : 3;\n\tu8\tcommand_priority : 4;\n\tu8\treserved1 : 1;\n\t__le16\tdata_encryption_key_index;\n\tu8\tcdb[16];\n\t__le16\terror_index;\n\tu8\tnum_sg_descriptors;\n\tu8\tcdb_length;\n\tu8\txor_multiplier;\n\tu8\treserved2[3];\n\t__le32\tencrypt_tweak_lower;\n\t__le32\tencrypt_tweak_upper;\n\t__le64\trow;\t\t\t \n\tu8\treserved3[8];\n\tstruct pqi_sg_descriptor sg_descriptors[PQI_MAX_EMBEDDED_R56_SG_DESCRIPTORS];\n};\n\nstruct pqi_io_response {\n\tstruct pqi_iu_header header;\n\t__le16\trequest_id;\n\t__le16\terror_index;\n\tu8\treserved2[4];\n};\n\nstruct pqi_general_management_request {\n\tstruct pqi_iu_header header;\n\t__le16\trequest_id;\n\tunion {\n\t\tstruct {\n\t\t\tu8\treserved[2];\n\t\t\t__le32\tbuffer_length;\n\t\t\tstruct pqi_sg_descriptor sg_descriptors[3];\n\t\t} report_event_configuration;\n\n\t\tstruct {\n\t\t\t__le16\tglobal_event_oq_id;\n\t\t\t__le32\tbuffer_length;\n\t\t\tstruct pqi_sg_descriptor sg_descriptors[3];\n\t\t} set_event_configuration;\n\t} data;\n};\n\nstruct pqi_event_descriptor {\n\tu8\tevent_type;\n\tu8\treserved;\n\t__le16\toq_id;\n};\n\nstruct pqi_event_config {\n\tu8\treserved[2];\n\tu8\tnum_event_descriptors;\n\tu8\treserved1;\n\tstruct pqi_event_descriptor descriptors[];\n};\n\n#define PQI_MAX_EVENT_DESCRIPTORS\t255\n\n#define PQI_EVENT_OFA_MEMORY_ALLOCATION\t0x0\n#define PQI_EVENT_OFA_QUIESCE\t\t0x1\n#define PQI_EVENT_OFA_CANCELED\t\t0x2\n\nstruct pqi_event_response {\n\tstruct pqi_iu_header header;\n\tu8\tevent_type;\n\tu8\treserved2 : 7;\n\tu8\trequest_acknowledge : 1;\n\t__le16\tevent_id;\n\t__le32\tadditional_event_id;\n\tunion {\n\t\tstruct {\n\t\t\t__le32\tbytes_requested;\n\t\t\tu8\treserved[12];\n\t\t} ofa_memory_allocation;\n\n\t\tstruct {\n\t\t\t__le16\treason;\t\t \n\t\t\tu8\treserved[14];\n\t\t} ofa_cancelled;\n\t} data;\n};\n\nstruct pqi_event_acknowledge_request {\n\tstruct pqi_iu_header header;\n\tu8\tevent_type;\n\tu8\treserved2;\n\t__le16\tevent_id;\n\t__le32\tadditional_event_id;\n};\n\nstruct pqi_task_management_request {\n\tstruct pqi_iu_header header;\n\t__le16\trequest_id;\n\t__le16\tnexus_id;\n\tu8\treserved;\n\tu8\tml_device_lun_number;\n\t__le16  timeout;\n\tu8\tlun_number[8];\n\t__le16\tprotocol_specific;\n\t__le16\toutbound_queue_id_to_manage;\n\t__le16\trequest_id_to_manage;\n\tu8\ttask_management_function;\n\tu8\treserved2 : 7;\n\tu8\tfence : 1;\n};\n\n#define SOP_TASK_MANAGEMENT_LUN_RESET\t0x8\n\nstruct pqi_task_management_response {\n\tstruct pqi_iu_header header;\n\t__le16\trequest_id;\n\t__le16\tnexus_id;\n\tu8\tadditional_response_info[3];\n\tu8\tresponse_code;\n};\n\nstruct pqi_vendor_general_request {\n\tstruct pqi_iu_header header;\n\t__le16\trequest_id;\n\t__le16\tfunction_code;\n\tunion {\n\t\tstruct {\n\t\t\t__le16\tfirst_section;\n\t\t\t__le16\tlast_section;\n\t\t\tu8\treserved[48];\n\t\t} config_table_update;\n\n\t\tstruct {\n\t\t\t__le64\tbuffer_address;\n\t\t\t__le32\tbuffer_length;\n\t\t\tu8\treserved[40];\n\t\t} ofa_memory_allocation;\n\t} data;\n};\n\nstruct pqi_vendor_general_response {\n\tstruct pqi_iu_header header;\n\t__le16\trequest_id;\n\t__le16\tfunction_code;\n\t__le16\tstatus;\n\tu8\treserved[2];\n};\n\n#define PQI_VENDOR_GENERAL_CONFIG_TABLE_UPDATE\t0\n#define PQI_VENDOR_GENERAL_HOST_MEMORY_UPDATE\t1\n\n#define PQI_OFA_VERSION\t\t\t1\n#define PQI_OFA_SIGNATURE\t\t\"OFA_QRM\"\n#define PQI_OFA_MAX_SG_DESCRIPTORS\t64\n\nstruct pqi_ofa_memory {\n\t__le64\tsignature;\t \n\t__le16\tversion;\t \n\tu8\treserved[62];\n\t__le32\tbytes_allocated;\t \n\t__le16\tnum_memory_descriptors;\n\tu8\treserved1[2];\n\tstruct pqi_sg_descriptor sg_descriptor[PQI_OFA_MAX_SG_DESCRIPTORS];\n};\n\nstruct pqi_aio_error_info {\n\tu8\tstatus;\n\tu8\tservice_response;\n\tu8\tdata_present;\n\tu8\treserved;\n\t__le32\tresidual_count;\n\t__le16\tdata_length;\n\t__le16\treserved1;\n\tu8\tdata[256];\n};\n\nstruct pqi_raid_error_info {\n\tu8\tdata_in_result;\n\tu8\tdata_out_result;\n\tu8\treserved[3];\n\tu8\tstatus;\n\t__le16\tstatus_qualifier;\n\t__le16\tsense_data_length;\n\t__le16\tresponse_data_length;\n\t__le32\tdata_in_transferred;\n\t__le32\tdata_out_transferred;\n\tu8\tdata[256];\n};\n\n#define PQI_REQUEST_IU_TASK_MANAGEMENT\t\t\t0x13\n#define PQI_REQUEST_IU_RAID_PATH_IO\t\t\t0x14\n#define PQI_REQUEST_IU_AIO_PATH_IO\t\t\t0x15\n#define PQI_REQUEST_IU_AIO_PATH_RAID5_IO\t\t0x18\n#define PQI_REQUEST_IU_AIO_PATH_RAID6_IO\t\t0x19\n#define PQI_REQUEST_IU_AIO_PATH_RAID1_IO\t\t0x1A\n#define PQI_REQUEST_IU_GENERAL_ADMIN\t\t\t0x60\n#define PQI_REQUEST_IU_REPORT_VENDOR_EVENT_CONFIG\t0x72\n#define PQI_REQUEST_IU_SET_VENDOR_EVENT_CONFIG\t\t0x73\n#define PQI_REQUEST_IU_VENDOR_GENERAL\t\t\t0x75\n#define PQI_REQUEST_IU_ACKNOWLEDGE_VENDOR_EVENT\t\t0xf6\n\n#define PQI_RESPONSE_IU_GENERAL_MANAGEMENT\t\t0x81\n#define PQI_RESPONSE_IU_TASK_MANAGEMENT\t\t\t0x93\n#define PQI_RESPONSE_IU_GENERAL_ADMIN\t\t\t0xe0\n#define PQI_RESPONSE_IU_RAID_PATH_IO_SUCCESS\t\t0xf0\n#define PQI_RESPONSE_IU_AIO_PATH_IO_SUCCESS\t\t0xf1\n#define PQI_RESPONSE_IU_RAID_PATH_IO_ERROR\t\t0xf2\n#define PQI_RESPONSE_IU_AIO_PATH_IO_ERROR\t\t0xf3\n#define PQI_RESPONSE_IU_AIO_PATH_DISABLED\t\t0xf4\n#define PQI_RESPONSE_IU_VENDOR_EVENT\t\t\t0xf5\n#define PQI_RESPONSE_IU_VENDOR_GENERAL\t\t\t0xf7\n\n#define PQI_GENERAL_ADMIN_FUNCTION_REPORT_DEVICE_CAPABILITY\t0x0\n#define PQI_GENERAL_ADMIN_FUNCTION_CREATE_IQ\t\t\t0x10\n#define PQI_GENERAL_ADMIN_FUNCTION_CREATE_OQ\t\t\t0x11\n#define PQI_GENERAL_ADMIN_FUNCTION_DELETE_IQ\t\t\t0x12\n#define PQI_GENERAL_ADMIN_FUNCTION_DELETE_OQ\t\t\t0x13\n#define PQI_GENERAL_ADMIN_FUNCTION_CHANGE_IQ_PROPERTY\t\t0x14\n\n#define PQI_GENERAL_ADMIN_STATUS_SUCCESS\t0x0\n\n#define PQI_IQ_PROPERTY_IS_AIO_QUEUE\t0x1\n\n#define PQI_GENERAL_ADMIN_IU_LENGTH\t\t0x3c\n#define PQI_PROTOCOL_SOP\t\t\t0x0\n\n#define PQI_DATA_IN_OUT_GOOD\t\t\t\t\t0x0\n#define PQI_DATA_IN_OUT_UNDERFLOW\t\t\t\t0x1\n#define PQI_DATA_IN_OUT_BUFFER_ERROR\t\t\t\t0x40\n#define PQI_DATA_IN_OUT_BUFFER_OVERFLOW\t\t\t\t0x41\n#define PQI_DATA_IN_OUT_BUFFER_OVERFLOW_DESCRIPTOR_AREA\t\t0x42\n#define PQI_DATA_IN_OUT_BUFFER_OVERFLOW_BRIDGE\t\t\t0x43\n#define PQI_DATA_IN_OUT_PCIE_FABRIC_ERROR\t\t\t0x60\n#define PQI_DATA_IN_OUT_PCIE_COMPLETION_TIMEOUT\t\t\t0x61\n#define PQI_DATA_IN_OUT_PCIE_COMPLETER_ABORT_RECEIVED\t\t0x62\n#define PQI_DATA_IN_OUT_PCIE_UNSUPPORTED_REQUEST_RECEIVED\t0x63\n#define PQI_DATA_IN_OUT_PCIE_ECRC_CHECK_FAILED\t\t\t0x64\n#define PQI_DATA_IN_OUT_PCIE_UNSUPPORTED_REQUEST\t\t0x65\n#define PQI_DATA_IN_OUT_PCIE_ACS_VIOLATION\t\t\t0x66\n#define PQI_DATA_IN_OUT_PCIE_TLP_PREFIX_BLOCKED\t\t\t0x67\n#define PQI_DATA_IN_OUT_PCIE_POISONED_MEMORY_READ\t\t0x6F\n#define PQI_DATA_IN_OUT_ERROR\t\t\t\t\t0xf0\n#define PQI_DATA_IN_OUT_PROTOCOL_ERROR\t\t\t\t0xf1\n#define PQI_DATA_IN_OUT_HARDWARE_ERROR\t\t\t\t0xf2\n#define PQI_DATA_IN_OUT_UNSOLICITED_ABORT\t\t\t0xf3\n#define PQI_DATA_IN_OUT_ABORTED\t\t\t\t\t0xf4\n#define PQI_DATA_IN_OUT_TIMEOUT\t\t\t\t\t0xf5\n\n#define CISS_CMD_STATUS_SUCCESS\t\t\t0x0\n#define CISS_CMD_STATUS_TARGET_STATUS\t\t0x1\n#define CISS_CMD_STATUS_DATA_UNDERRUN\t\t0x2\n#define CISS_CMD_STATUS_DATA_OVERRUN\t\t0x3\n#define CISS_CMD_STATUS_INVALID\t\t\t0x4\n#define CISS_CMD_STATUS_PROTOCOL_ERROR\t\t0x5\n#define CISS_CMD_STATUS_HARDWARE_ERROR\t\t0x6\n#define CISS_CMD_STATUS_CONNECTION_LOST\t\t0x7\n#define CISS_CMD_STATUS_ABORTED\t\t\t0x8\n#define CISS_CMD_STATUS_ABORT_FAILED\t\t0x9\n#define CISS_CMD_STATUS_UNSOLICITED_ABORT\t0xa\n#define CISS_CMD_STATUS_TIMEOUT\t\t\t0xb\n#define CISS_CMD_STATUS_UNABORTABLE\t\t0xc\n#define CISS_CMD_STATUS_TMF\t\t\t0xd\n#define CISS_CMD_STATUS_AIO_DISABLED\t\t0xe\n\n#define PQI_CMD_STATUS_ABORTED\tCISS_CMD_STATUS_ABORTED\n\n#define PQI_NUM_EVENT_QUEUE_ELEMENTS\t32\n#define PQI_EVENT_OQ_ELEMENT_LENGTH\tsizeof(struct pqi_event_response)\n\n#define PQI_EVENT_TYPE_HOTPLUG\t\t\t0x1\n#define PQI_EVENT_TYPE_HARDWARE\t\t\t0x2\n#define PQI_EVENT_TYPE_PHYSICAL_DEVICE\t\t0x4\n#define PQI_EVENT_TYPE_LOGICAL_DEVICE\t\t0x5\n#define PQI_EVENT_TYPE_OFA\t\t\t0xfb\n#define PQI_EVENT_TYPE_AIO_STATE_CHANGE\t\t0xfd\n#define PQI_EVENT_TYPE_AIO_CONFIG_CHANGE\t0xfe\n\n#pragma pack()\n\n#define PQI_ERROR_BUFFER_ELEMENT_LENGTH\t\t\\\n\tsizeof(struct pqi_raid_error_info)\n\n \n#define PQI_ADMIN_IQ_NUM_ELEMENTS\t\t8\n#define PQI_ADMIN_OQ_NUM_ELEMENTS\t\t20\n#define PQI_ADMIN_IQ_ELEMENT_LENGTH\t\t64\n#define PQI_ADMIN_OQ_ELEMENT_LENGTH\t\t64\n\n#define PQI_OPERATIONAL_IQ_ELEMENT_LENGTH\t128\n#define PQI_OPERATIONAL_OQ_ELEMENT_LENGTH\t16\n\n#define PQI_MIN_MSIX_VECTORS\t\t1\n#define PQI_MAX_MSIX_VECTORS\t\t64\n\n \n#define PQI_MAX_NUM_ELEMENTS_ADMIN_QUEUE\t255\n#define PQI_MAX_NUM_ELEMENTS_OPERATIONAL_QUEUE\t65535\n\n#define PQI_QUEUE_ELEMENT_ARRAY_ALIGNMENT\t64\n#define PQI_QUEUE_ELEMENT_LENGTH_ALIGNMENT\t16\n#define PQI_ADMIN_INDEX_ALIGNMENT\t\t64\n#define PQI_OPERATIONAL_INDEX_ALIGNMENT\t\t4\n\n#define PQI_MIN_OPERATIONAL_QUEUE_ID\t\t1\n#define PQI_MAX_OPERATIONAL_QUEUE_ID\t\t65535\n\n#define PQI_AIO_SERV_RESPONSE_COMPLETE\t\t0\n#define PQI_AIO_SERV_RESPONSE_FAILURE\t\t1\n#define PQI_AIO_SERV_RESPONSE_TMF_COMPLETE\t2\n#define PQI_AIO_SERV_RESPONSE_TMF_SUCCEEDED\t3\n#define PQI_AIO_SERV_RESPONSE_TMF_REJECTED\t4\n#define PQI_AIO_SERV_RESPONSE_TMF_INCORRECT_LUN\t5\n\n#define PQI_AIO_STATUS_IO_ERROR\t\t\t0x1\n#define PQI_AIO_STATUS_IO_ABORTED\t\t0x2\n#define PQI_AIO_STATUS_NO_PATH_TO_DEVICE\t0x3\n#define PQI_AIO_STATUS_INVALID_DEVICE\t\t0x4\n#define PQI_AIO_STATUS_AIO_PATH_DISABLED\t0xe\n#define PQI_AIO_STATUS_UNDERRUN\t\t\t0x51\n#define PQI_AIO_STATUS_OVERRUN\t\t\t0x75\n\ntypedef u32 pqi_index_t;\n\n \n#define SOP_NO_DIRECTION_FLAG\t0\n#define SOP_WRITE_FLAG\t\t1\t \n\t\t\t\t\t \n#define SOP_READ_FLAG\t\t2\t \n\t\t\t\t\t \n#define SOP_BIDIRECTIONAL\t3\t \n\t\t\t\t\t \n\t\t\t\t\t \n\n#define SOP_TASK_ATTRIBUTE_SIMPLE\t\t0\n#define SOP_TASK_ATTRIBUTE_HEAD_OF_QUEUE\t1\n#define SOP_TASK_ATTRIBUTE_ORDERED\t\t2\n#define SOP_TASK_ATTRIBUTE_ACA\t\t\t4\n\n#define SOP_TMF_COMPLETE\t\t0x0\n#define SOP_TMF_REJECTED\t\t0x4\n#define SOP_TMF_FUNCTION_SUCCEEDED\t0x8\n#define SOP_TMF_INCORRECT_LOGICAL_UNIT\t0x9\n\n \n#define SOP_ADDITIONAL_CDB_BYTES_0\t0\t \n#define SOP_ADDITIONAL_CDB_BYTES_4\t1\t \n#define SOP_ADDITIONAL_CDB_BYTES_8\t2\t \n#define SOP_ADDITIONAL_CDB_BYTES_12\t3\t \n#define SOP_ADDITIONAL_CDB_BYTES_16\t4\t \n\n \nstruct pqi_admin_queues_aligned {\n\t__aligned(PQI_QUEUE_ELEMENT_ARRAY_ALIGNMENT)\n\t\tu8\tiq_element_array[PQI_ADMIN_IQ_ELEMENT_LENGTH]\n\t\t\t\t\t[PQI_ADMIN_IQ_NUM_ELEMENTS];\n\t__aligned(PQI_QUEUE_ELEMENT_ARRAY_ALIGNMENT)\n\t\tu8\toq_element_array[PQI_ADMIN_OQ_ELEMENT_LENGTH]\n\t\t\t\t\t[PQI_ADMIN_OQ_NUM_ELEMENTS];\n\t__aligned(PQI_ADMIN_INDEX_ALIGNMENT) pqi_index_t iq_ci;\n\t__aligned(PQI_ADMIN_INDEX_ALIGNMENT) pqi_index_t oq_pi;\n};\n\nstruct pqi_admin_queues {\n\tvoid\t\t*iq_element_array;\n\tvoid\t\t*oq_element_array;\n\tpqi_index_t __iomem *iq_ci;\n\tpqi_index_t __iomem *oq_pi;\n\tdma_addr_t\tiq_element_array_bus_addr;\n\tdma_addr_t\toq_element_array_bus_addr;\n\tdma_addr_t\tiq_ci_bus_addr;\n\tdma_addr_t\toq_pi_bus_addr;\n\t__le32 __iomem\t*iq_pi;\n\tpqi_index_t\tiq_pi_copy;\n\t__le32 __iomem\t*oq_ci;\n\tpqi_index_t\toq_ci_copy;\n\tstruct task_struct *task;\n\tu16\t\tint_msg_num;\n};\n\nstruct pqi_queue_group {\n\tstruct pqi_ctrl_info *ctrl_info;\t \n\tu16\t\tiq_id[2];\n\tu16\t\toq_id;\n\tu16\t\tint_msg_num;\n\tvoid\t\t*iq_element_array[2];\n\tvoid\t\t*oq_element_array;\n\tdma_addr_t\tiq_element_array_bus_addr[2];\n\tdma_addr_t\toq_element_array_bus_addr;\n\t__le32 __iomem\t*iq_pi[2];\n\tpqi_index_t\tiq_pi_copy[2];\n\tpqi_index_t __iomem *iq_ci[2];\n\tpqi_index_t __iomem *oq_pi;\n\tdma_addr_t\tiq_ci_bus_addr[2];\n\tdma_addr_t\toq_pi_bus_addr;\n\t__le32 __iomem\t*oq_ci;\n\tpqi_index_t\toq_ci_copy;\n\tspinlock_t\tsubmit_lock[2];\t \n\tstruct list_head request_list[2];\n};\n\nstruct pqi_event_queue {\n\tu16\t\toq_id;\n\tu16\t\tint_msg_num;\n\tvoid\t\t*oq_element_array;\n\tpqi_index_t __iomem *oq_pi;\n\tdma_addr_t\toq_element_array_bus_addr;\n\tdma_addr_t\toq_pi_bus_addr;\n\t__le32 __iomem\t*oq_ci;\n\tpqi_index_t\toq_ci_copy;\n};\n\n#define PQI_DEFAULT_QUEUE_GROUP\t\t0\n#define PQI_MAX_QUEUE_GROUPS\t\tPQI_MAX_MSIX_VECTORS\n\nstruct pqi_encryption_info {\n\tu16\tdata_encryption_key_index;\n\tu32\tencrypt_tweak_lower;\n\tu32\tencrypt_tweak_upper;\n};\n\n#pragma pack(1)\n\n#define PQI_CONFIG_TABLE_SIGNATURE\t\"CFGTABLE\"\n#define PQI_CONFIG_TABLE_MAX_LENGTH\t((u16)~0)\n\n \n#define PQI_CONFIG_TABLE_ALL_SECTIONS\t\t\t(-1)\n#define PQI_CONFIG_TABLE_SECTION_GENERAL_INFO\t\t0\n#define PQI_CONFIG_TABLE_SECTION_FIRMWARE_FEATURES\t1\n#define PQI_CONFIG_TABLE_SECTION_FIRMWARE_ERRATA\t2\n#define PQI_CONFIG_TABLE_SECTION_DEBUG\t\t\t3\n#define PQI_CONFIG_TABLE_SECTION_HEARTBEAT\t\t4\n#define PQI_CONFIG_TABLE_SECTION_SOFT_RESET\t\t5\n\nstruct pqi_config_table {\n\tu8\tsignature[8];\t\t \n\t__le32\tfirst_section_offset;\t \n\t\t\t\t\t \n\t\t\t\t\t \n};\n\nstruct pqi_config_table_section_header {\n\t__le16\tsection_id;\t\t \n\t\t\t\t\t \n\t\t\t\t\t \n\t__le16\tnext_section_offset;\t \n\t\t\t\t\t \n\t\t\t\t\t \n};\n\nstruct pqi_config_table_general_info {\n\tstruct pqi_config_table_section_header header;\n\t__le32\tsection_length;\t\t \n\t\t\t\t\t \n\t__le32\tmax_outstanding_requests;\t \n\t\t\t\t\t\t \n\t\t\t\t\t\t \n\t__le32\tmax_sg_size;\t\t \n\t\t\t\t\t \n\t__le32\tmax_sg_per_request;\t \n\t\t\t\t\t \n\t\t\t\t\t \n};\n\nstruct pqi_config_table_firmware_features {\n\tstruct pqi_config_table_section_header header;\n\t__le16\tnum_elements;\n\tu8\tfeatures_supported[];\n \n \n \n \n \n};\n\n#define PQI_FIRMWARE_FEATURE_OFA\t\t\t\t0\n#define PQI_FIRMWARE_FEATURE_SMP\t\t\t\t1\n#define PQI_FIRMWARE_FEATURE_MAX_KNOWN_FEATURE\t\t\t2\n#define PQI_FIRMWARE_FEATURE_RAID_0_READ_BYPASS\t\t\t3\n#define PQI_FIRMWARE_FEATURE_RAID_1_READ_BYPASS\t\t\t4\n#define PQI_FIRMWARE_FEATURE_RAID_5_READ_BYPASS\t\t\t5\n#define PQI_FIRMWARE_FEATURE_RAID_6_READ_BYPASS\t\t\t6\n#define PQI_FIRMWARE_FEATURE_RAID_0_WRITE_BYPASS\t\t7\n#define PQI_FIRMWARE_FEATURE_RAID_1_WRITE_BYPASS\t\t8\n#define PQI_FIRMWARE_FEATURE_RAID_5_WRITE_BYPASS\t\t9\n#define PQI_FIRMWARE_FEATURE_RAID_6_WRITE_BYPASS\t\t10\n#define PQI_FIRMWARE_FEATURE_SOFT_RESET_HANDSHAKE\t\t11\n#define PQI_FIRMWARE_FEATURE_UNIQUE_SATA_WWN\t\t\t12\n#define PQI_FIRMWARE_FEATURE_RAID_IU_TIMEOUT\t\t\t13\n#define PQI_FIRMWARE_FEATURE_TMF_IU_TIMEOUT\t\t\t14\n#define PQI_FIRMWARE_FEATURE_RAID_BYPASS_ON_ENCRYPTED_NVME\t15\n#define PQI_FIRMWARE_FEATURE_UNIQUE_WWID_IN_REPORT_PHYS_LUN\t16\n#define PQI_FIRMWARE_FEATURE_FW_TRIAGE\t\t\t\t17\n#define PQI_FIRMWARE_FEATURE_RPL_EXTENDED_FORMAT_4_5\t\t18\n#define PQI_FIRMWARE_FEATURE_MULTI_LUN_DEVICE_SUPPORT           21\n#define PQI_FIRMWARE_FEATURE_MAXIMUM                            21\n\nstruct pqi_config_table_debug {\n\tstruct pqi_config_table_section_header header;\n\t__le32\tscratchpad;\n};\n\nstruct pqi_config_table_heartbeat {\n\tstruct pqi_config_table_section_header header;\n\t__le32\theartbeat_counter;\n};\n\nstruct pqi_config_table_soft_reset {\n\tstruct pqi_config_table_section_header header;\n\tu8 soft_reset_status;\n};\n\n#define PQI_SOFT_RESET_INITIATE\t\t0x1\n#define PQI_SOFT_RESET_ABORT\t\t0x2\n\nenum pqi_soft_reset_status {\n\tRESET_INITIATE_FIRMWARE,\n\tRESET_INITIATE_DRIVER,\n\tRESET_ABORT,\n\tRESET_NORESPONSE,\n\tRESET_TIMEDOUT\n};\n\nunion pqi_reset_register {\n\tstruct {\n\t\tu32\treset_type : 3;\n\t\tu32\treserved : 2;\n\t\tu32\treset_action : 3;\n\t\tu32\thold_in_pd1 : 1;\n\t\tu32\treserved2 : 23;\n\t} bits;\n\tu32\tall_bits;\n};\n\n#define PQI_RESET_ACTION_RESET\t\t0x1\n\n#define PQI_RESET_TYPE_NO_RESET\t\t0x0\n#define PQI_RESET_TYPE_SOFT_RESET\t0x1\n#define PQI_RESET_TYPE_FIRM_RESET\t0x2\n#define PQI_RESET_TYPE_HARD_RESET\t0x3\n\n#define PQI_RESET_ACTION_COMPLETED\t0x2\n\n#define PQI_RESET_POLL_INTERVAL_MSECS\t100\n\n#define PQI_MAX_OUTSTANDING_REQUESTS\t\t((u32)~0)\n#define PQI_MAX_OUTSTANDING_REQUESTS_KDUMP\t32\n#define PQI_MAX_TRANSFER_SIZE\t\t\t(1024U * 1024U)\n#define PQI_MAX_TRANSFER_SIZE_KDUMP\t\t(512 * 1024U)\n\n#define RAID_MAP_MAX_ENTRIES\t\t\t1024\n#define RAID_MAP_MAX_DATA_DISKS_PER_ROW\t\t128\n\n#define PQI_PHYSICAL_DEVICE_BUS\t\t0\n#define PQI_RAID_VOLUME_BUS\t\t1\n#define PQI_HBA_BUS\t\t\t2\n#define PQI_EXTERNAL_RAID_VOLUME_BUS\t3\n#define PQI_MAX_BUS\t\t\tPQI_EXTERNAL_RAID_VOLUME_BUS\n#define PQI_VSEP_CISS_BTL\t\t379\n\nstruct report_lun_header {\n\t__be32\tlist_length;\n\tu8\tflags;\n\tu8\treserved[3];\n};\n\n \n#define CISS_REPORT_LOG_FLAG_UNIQUE_LUN_ID\t(1 << 0)\n#define CISS_REPORT_LOG_FLAG_QUEUE_DEPTH\t(1 << 5)\n#define CISS_REPORT_LOG_FLAG_DRIVE_TYPE_MIX\t(1 << 6)\n\n#define CISS_REPORT_PHYS_FLAG_EXTENDED_FORMAT_2\t\t0x2\n#define CISS_REPORT_PHYS_FLAG_EXTENDED_FORMAT_4\t\t0x4\n#define CISS_REPORT_PHYS_FLAG_EXTENDED_FORMAT_MASK\t0xf\n\nstruct report_log_lun {\n\tu8\tlunid[8];\n\tu8\tvolume_id[16];\n};\n\nstruct report_log_lun_list {\n\tstruct report_lun_header header;\n\tstruct report_log_lun lun_entries[];\n};\n\nstruct report_phys_lun_8byte_wwid {\n\tu8\tlunid[8];\n\t__be64\twwid;\n\tu8\tdevice_type;\n\tu8\tdevice_flags;\n\tu8\tlun_count;\t \n\tu8\tredundant_paths;\n\tu32\taio_handle;\n};\n\nstruct report_phys_lun_16byte_wwid {\n\tu8\tlunid[8];\n\tu8\twwid[16];\n\tu8\tdevice_type;\n\tu8\tdevice_flags;\n\tu8\tlun_count;\t \n\tu8\tredundant_paths;\n\tu32\taio_handle;\n};\n\n \n#define CISS_REPORT_PHYS_DEV_FLAG_AIO_ENABLED\t0x8\n\nstruct report_phys_lun_8byte_wwid_list {\n\tstruct report_lun_header header;\n\tstruct report_phys_lun_8byte_wwid lun_entries[];\n};\n\nstruct report_phys_lun_16byte_wwid_list {\n\tstruct report_lun_header header;\n\tstruct report_phys_lun_16byte_wwid lun_entries[];\n};\n\nstruct raid_map_disk_data {\n\tu32\taio_handle;\n\tu8\txor_mult[2];\n\tu8\treserved[2];\n};\n\n \n#define RAID_MAP_ENCRYPTION_ENABLED\t0x1\n\nstruct raid_map {\n\t__le32\tstructure_size;\t\t \n\t__le32\tvolume_blk_size;\t \n\t__le64\tvolume_blk_cnt;\t\t \n\tu8\tphys_blk_shift;\t\t \n\t\t\t\t\t \n\t\t\t\t\t \n\tu8\tparity_rotation_shift;\t \n\t\t\t\t\t \n\t\t\t\t\t \n\t__le16\tstrip_size;\t\t \n\t__le64\tdisk_starting_blk;\t \n\t__le64\tdisk_blk_cnt;\t\t \n\t__le16\tdata_disks_per_row;\t \n\t__le16\tmetadata_disks_per_row;\t \n\t\t\t\t\t \n\t__le16\trow_cnt;\t\t \n\t__le16\tlayout_map_count;\t \n\t\t\t\t\t \n\t__le16\tflags;\n\t__le16\tdata_encryption_key_index;\n\tu8\treserved[16];\n\tstruct raid_map_disk_data disk_data[RAID_MAP_MAX_ENTRIES];\n};\n\n#pragma pack()\n\nstruct pqi_scsi_dev_raid_map_data {\n\tbool\tis_write;\n\tu8\traid_level;\n\tu32\tmap_index;\n\tu64\tfirst_block;\n\tu64\tlast_block;\n\tu32\tdata_length;\n\tu32\tblock_cnt;\n\tu32\tblocks_per_row;\n\tu64\tfirst_row;\n\tu64\tlast_row;\n\tu32\tfirst_row_offset;\n\tu32\tlast_row_offset;\n\tu32\tfirst_column;\n\tu32\tlast_column;\n\tu64\tr5or6_first_row;\n\tu64\tr5or6_last_row;\n\tu32\tr5or6_first_row_offset;\n\tu32\tr5or6_last_row_offset;\n\tu32\tr5or6_first_column;\n\tu32\tr5or6_last_column;\n\tu16\tdata_disks_per_row;\n\tu32\ttotal_disks_per_row;\n\tu16\tlayout_map_count;\n\tu32\tstripesize;\n\tu16\tstrip_size;\n\tu32\tfirst_group;\n\tu32\tlast_group;\n\tu32\tmap_row;\n\tu32\taio_handle;\n\tu64\tdisk_block;\n\tu32\tdisk_block_cnt;\n\tu8\tcdb[16];\n\tu8\tcdb_length;\n\n\t \n#define NUM_RAID1_MAP_ENTRIES\t3\n\tu32\tnum_it_nexus_entries;\n\tu32\tit_nexus[NUM_RAID1_MAP_ENTRIES];\n\n\t \n\tu32\tp_parity_it_nexus;\t \n\tu32\tq_parity_it_nexus;\t \n\tu8\txor_mult;\n\tu64\trow;\n\tu64\tstripe_lba;\n\tu32\tp_index;\n\tu32\tq_index;\n};\n\n#define RAID_CTLR_LUNID\t\t\"\\0\\0\\0\\0\\0\\0\\0\\0\"\n\n#define NUM_STREAMS_PER_LUN\t8\n\nstruct pqi_stream_data {\n\tu64\tnext_lba;\n\tu32\tlast_accessed;\n};\n\n#define PQI_MAX_LUNS_PER_DEVICE\t\t256\n\nstruct pqi_tmf_work {\n\tstruct work_struct work_struct;\n\tstruct scsi_cmnd *scmd;\n\tstruct pqi_ctrl_info *ctrl_info;\n\tstruct pqi_scsi_dev *device;\n\tu8\tlun;\n\tu8\tscsi_opcode;\n};\n\nstruct pqi_scsi_dev {\n\tint\tdevtype;\t\t \n\tu8\tdevice_type;\t\t \n\t\t\t\t\t \n\t\t\t\t\t \n\tint\tbus;\n\tint\ttarget;\n\tint\tlun;\n\tu8\tscsi3addr[8];\n\tu8\twwid[16];\n\tu8\tvolume_id[16];\n\tu8\tis_physical_device : 1;\n\tu8\tis_external_raid_device : 1;\n\tu8\tis_expander_smp_device : 1;\n\tu8\ttarget_lun_valid : 1;\n\tu8\tdevice_gone : 1;\n\tu8\tnew_device : 1;\n\tu8\tkeep_device : 1;\n\tu8\tvolume_offline : 1;\n\tu8\trescan : 1;\n\tu8\tignore_device : 1;\n\tu8\terase_in_progress : 1;\n\tbool\taio_enabled;\t\t \n\tbool\tin_remove;\n\tbool\tin_reset[PQI_MAX_LUNS_PER_DEVICE];\n\tbool\tdevice_offline;\n\tu8\tvendor[8];\t\t \n\tu8\tmodel[16];\t\t \n\tu64\tsas_address;\n\tu8\traid_level;\n\tu16\tqueue_depth;\t\t \n\tu16\tadvertised_queue_depth;\n\tu32\taio_handle;\n\tu8\tvolume_status;\n\tu8\tactive_path_index;\n\tu8\tpath_map;\n\tu8\tbay;\n\tu8\tbox_index;\n\tu8\tphys_box_on_bus;\n\tu8\tphy_connected_dev_type;\n\tu8\tbox[8];\n\tu16\tphys_connector[8];\n\tu8\tphy_id;\n\tu8\tncq_prio_enable;\n\tu8\tncq_prio_support;\n\tu8\tlun_count;\n\tbool\traid_bypass_configured;\t \n\tbool\traid_bypass_enabled;\t \n\tu32\tnext_bypass_group[RAID_MAP_MAX_DATA_DISKS_PER_ROW];\n\tstruct raid_map *raid_map;\t \n\tu32\tmax_transfer_encrypted;\n\n\tstruct pqi_sas_port *sas_port;\n\tstruct scsi_device *sdev;\n\n\tstruct list_head scsi_device_list_entry;\n\tstruct list_head new_device_list_entry;\n\tstruct list_head add_list_entry;\n\tstruct list_head delete_list_entry;\n\n\tstruct pqi_stream_data stream_data[NUM_STREAMS_PER_LUN];\n\tatomic_t scsi_cmds_outstanding[PQI_MAX_LUNS_PER_DEVICE];\n\tunsigned int raid_bypass_cnt;\n\n\tstruct pqi_tmf_work tmf_work[PQI_MAX_LUNS_PER_DEVICE];\n};\n\n \n#define CISS_VPD_LV_DEVICE_GEOMETRY\t0xc1\t \n#define CISS_VPD_LV_BYPASS_STATUS\t0xc2\t \n#define CISS_VPD_LV_STATUS\t\t0xc3\t \n\n#define VPD_PAGE\t(1 << 8)\n\n#pragma pack(1)\n\n \nstruct ciss_vpd_logical_volume_status {\n\tu8\tperipheral_info;\n\tu8\tpage_code;\n\tu8\treserved;\n\tu8\tpage_length;\n\tu8\tvolume_status;\n\tu8\treserved2[3];\n\t__be32\tflags;\n};\n\n#pragma pack()\n\n \n#define CISS_LV_OK\t\t\t\t\t0\n#define CISS_LV_FAILED\t\t\t\t\t1\n#define CISS_LV_NOT_CONFIGURED\t\t\t\t2\n#define CISS_LV_DEGRADED\t\t\t\t3\n#define CISS_LV_READY_FOR_RECOVERY\t\t\t4\n#define CISS_LV_UNDERGOING_RECOVERY\t\t\t5\n#define CISS_LV_WRONG_PHYSICAL_DRIVE_REPLACED\t\t6\n#define CISS_LV_PHYSICAL_DRIVE_CONNECTION_PROBLEM\t7\n#define CISS_LV_HARDWARE_OVERHEATING\t\t\t8\n#define CISS_LV_HARDWARE_HAS_OVERHEATED\t\t\t9\n#define CISS_LV_UNDERGOING_EXPANSION\t\t\t10\n#define CISS_LV_NOT_AVAILABLE\t\t\t\t11\n#define CISS_LV_QUEUED_FOR_EXPANSION\t\t\t12\n#define CISS_LV_DISABLED_SCSI_ID_CONFLICT\t\t13\n#define CISS_LV_EJECTED\t\t\t\t\t14\n#define CISS_LV_UNDERGOING_ERASE\t\t\t15\n \n#define CISS_LV_READY_FOR_PREDICTIVE_SPARE_REBUILD\t17\n#define CISS_LV_UNDERGOING_RPI\t\t\t\t18\n#define CISS_LV_PENDING_RPI\t\t\t\t19\n#define CISS_LV_ENCRYPTED_NO_KEY\t\t\t20\n \n#define CISS_LV_UNDERGOING_ENCRYPTION\t\t\t22\n#define CISS_LV_UNDERGOING_ENCRYPTION_REKEYING\t\t23\n#define CISS_LV_ENCRYPTED_IN_NON_ENCRYPTED_CONTROLLER\t24\n#define CISS_LV_PENDING_ENCRYPTION\t\t\t25\n#define CISS_LV_PENDING_ENCRYPTION_REKEYING\t\t26\n#define CISS_LV_NOT_SUPPORTED\t\t\t\t27\n#define CISS_LV_STATUS_UNAVAILABLE\t\t\t255\n\n \n#define CISS_LV_FLAGS_NO_HOST_IO\t0x1\t \n\t\t\t\t\t\t \n\n \nstruct pqi_sas_node {\n\tstruct device *parent_dev;\n\tstruct list_head port_list_head;\n};\n\nstruct pqi_sas_port {\n\tstruct list_head port_list_entry;\n\tu64\tsas_address;\n\tstruct pqi_scsi_dev *device;\n\tstruct sas_port *port;\n\tint\tnext_phy_index;\n\tstruct list_head phy_list_head;\n\tstruct pqi_sas_node *parent_node;\n\tstruct sas_rphy *rphy;\n};\n\nstruct pqi_sas_phy {\n\tstruct list_head phy_list_entry;\n\tstruct sas_phy *phy;\n\tstruct pqi_sas_port *parent_port;\n\tbool\tadded_to_port;\n};\n\nstruct pqi_io_request {\n\tatomic_t\trefcount;\n\tu16\t\tindex;\n\tvoid (*io_complete_callback)(struct pqi_io_request *io_request,\n\t\tvoid *context);\n\tvoid\t\t*context;\n\tu8\t\traid_bypass : 1;\n\tint\t\tstatus;\n\tstruct pqi_queue_group *queue_group;\n\tstruct scsi_cmnd *scmd;\n\tvoid\t\t*error_info;\n\tstruct pqi_sg_descriptor *sg_chain_buffer;\n\tdma_addr_t\tsg_chain_buffer_dma_handle;\n\tvoid\t\t*iu;\n\tstruct list_head request_list_entry;\n};\n\n#define PQI_NUM_SUPPORTED_EVENTS\t7\n\nstruct pqi_event {\n\tbool\tpending;\n\tu8\tevent_type;\n\tu16\tevent_id;\n\tu32\tadditional_event_id;\n};\n\n#define PQI_RESERVED_IO_SLOTS_LUN_RESET\t\t\t1\n#define PQI_RESERVED_IO_SLOTS_EVENT_ACK\t\t\tPQI_NUM_SUPPORTED_EVENTS\n#define PQI_RESERVED_IO_SLOTS_SYNCHRONOUS_REQUESTS\t3\n#define PQI_RESERVED_IO_SLOTS\t\t\t\t\\\n\t(PQI_RESERVED_IO_SLOTS_LUN_RESET + PQI_RESERVED_IO_SLOTS_EVENT_ACK + \\\n\tPQI_RESERVED_IO_SLOTS_SYNCHRONOUS_REQUESTS)\n\n#define PQI_CTRL_PRODUCT_ID_GEN1\t0\n#define PQI_CTRL_PRODUCT_ID_GEN2\t7\n#define PQI_CTRL_PRODUCT_REVISION_A\t0\n#define PQI_CTRL_PRODUCT_REVISION_B\t1\n\nenum pqi_ctrl_removal_state {\n\tPQI_CTRL_PRESENT = 0,\n\tPQI_CTRL_GRACEFUL_REMOVAL,\n\tPQI_CTRL_SURPRISE_REMOVAL\n};\n\nstruct pqi_ctrl_info {\n\tunsigned int\tctrl_id;\n\tstruct pci_dev\t*pci_dev;\n\tchar\t\tfirmware_version[32];\n\tchar\t\tserial_number[17];\n\tchar\t\tmodel[17];\n\tchar\t\tvendor[9];\n\tu8\t\tproduct_id;\n\tu8\t\tproduct_revision;\n\tvoid __iomem\t*iomem_base;\n\tstruct pqi_ctrl_registers __iomem *registers;\n\tstruct pqi_device_registers __iomem *pqi_registers;\n\tu32\t\tmax_sg_entries;\n\tu32\t\tconfig_table_offset;\n\tu32\t\tconfig_table_length;\n\tu16\t\tmax_inbound_queues;\n\tu16\t\tmax_elements_per_iq;\n\tu16\t\tmax_iq_element_length;\n\tu16\t\tmax_outbound_queues;\n\tu16\t\tmax_elements_per_oq;\n\tu16\t\tmax_oq_element_length;\n\tu32\t\tmax_transfer_size;\n\tu32\t\tmax_outstanding_requests;\n\tu32\t\tmax_io_slots;\n\tunsigned int\tscsi_ml_can_queue;\n\tunsigned short\tsg_tablesize;\n\tunsigned int\tmax_sectors;\n\tu32\t\terror_buffer_length;\n\tvoid\t\t*error_buffer;\n\tdma_addr_t\terror_buffer_dma_handle;\n\tsize_t\t\tsg_chain_buffer_length;\n\tunsigned int\tnum_queue_groups;\n\tu16\t\tnum_elements_per_iq;\n\tu16\t\tnum_elements_per_oq;\n\tu16\t\tmax_inbound_iu_length_per_firmware;\n\tu16\t\tmax_inbound_iu_length;\n\tunsigned int\tmax_sg_per_iu;\n\tunsigned int\tmax_sg_per_r56_iu;\n\tvoid\t\t*admin_queue_memory_base;\n\tu32\t\tadmin_queue_memory_length;\n\tdma_addr_t\tadmin_queue_memory_base_dma_handle;\n\tvoid\t\t*queue_memory_base;\n\tu32\t\tqueue_memory_length;\n\tdma_addr_t\tqueue_memory_base_dma_handle;\n\tstruct pqi_admin_queues admin_queues;\n\tstruct pqi_queue_group queue_groups[PQI_MAX_QUEUE_GROUPS];\n\tstruct pqi_event_queue event_queue;\n\tenum pqi_irq_mode irq_mode;\n\tint\t\tmax_msix_vectors;\n\tint\t\tnum_msix_vectors_enabled;\n\tint\t\tnum_msix_vectors_initialized;\n\tint\t\tevent_irq;\n\tstruct Scsi_Host *scsi_host;\n\n\tstruct mutex\tscan_mutex;\n\tstruct mutex\tlun_reset_mutex;\n\tbool\t\tcontroller_online;\n\tbool\t\tblock_requests;\n\tbool\t\tscan_blocked;\n\tu8\t\tlogical_volume_rescan_needed : 1;\n\tu8\t\tinbound_spanning_supported : 1;\n\tu8\t\toutbound_spanning_supported : 1;\n\tu8\t\tpqi_mode_enabled : 1;\n\tu8\t\tpqi_reset_quiesce_supported : 1;\n\tu8\t\tsoft_reset_handshake_supported : 1;\n\tu8\t\traid_iu_timeout_supported : 1;\n\tu8\t\ttmf_iu_timeout_supported : 1;\n\tu8\t\tfirmware_triage_supported : 1;\n\tu8\t\trpl_extended_format_4_5_supported : 1;\n\tu8\t\tmulti_lun_device_supported : 1;\n\tu8\t\tenable_r1_writes : 1;\n\tu8\t\tenable_r5_writes : 1;\n\tu8\t\tenable_r6_writes : 1;\n\tu8\t\tlv_drive_type_mix_valid : 1;\n\tu8\t\tenable_stream_detection : 1;\n\tu8\t\tdisable_managed_interrupts : 1;\n\tu8\t\tciss_report_log_flags;\n\tu32\t\tmax_transfer_encrypted_sas_sata;\n\tu32\t\tmax_transfer_encrypted_nvme;\n\tu32\t\tmax_write_raid_5_6;\n\tu32\t\tmax_write_raid_1_10_2drive;\n\tu32\t\tmax_write_raid_1_10_3drive;\n\tint\t\tnuma_node;\n\n\tstruct list_head scsi_device_list;\n\tspinlock_t\tscsi_device_list_lock;\n\n\tstruct delayed_work rescan_work;\n\tstruct delayed_work update_time_work;\n\n\tstruct pqi_sas_node *sas_host;\n\tu64\t\tsas_address;\n\n\tstruct pqi_io_request *io_request_pool;\n\tstruct pqi_event events[PQI_NUM_SUPPORTED_EVENTS];\n\tstruct work_struct event_work;\n\n\tatomic_t\tnum_interrupts;\n\tint\t\tprevious_num_interrupts;\n\tu32\t\tprevious_heartbeat_count;\n\t__le32 __iomem\t*heartbeat_counter;\n\tu8 __iomem\t*soft_reset_status;\n\tstruct timer_list heartbeat_timer;\n\tstruct work_struct ctrl_offline_work;\n\n\tstruct semaphore sync_request_sem;\n\tatomic_t\tnum_busy_threads;\n\tatomic_t\tnum_blocked_threads;\n\twait_queue_head_t block_requests_wait;\n\n\tstruct mutex\tofa_mutex;\n\tstruct pqi_ofa_memory *pqi_ofa_mem_virt_addr;\n\tdma_addr_t\tpqi_ofa_mem_dma_handle;\n\tvoid\t\t**pqi_ofa_chunk_virt_addr;\n\tstruct work_struct ofa_memory_alloc_work;\n\tstruct work_struct ofa_quiesce_work;\n\tu32\t\tofa_bytes_requested;\n\tu16\t\tofa_cancel_reason;\n\tenum pqi_ctrl_removal_state ctrl_removal_state;\n};\n\nenum pqi_ctrl_mode {\n\tSIS_MODE = 0,\n\tPQI_MODE\n};\n\n \n#define PQI_PHYSICAL_DISK_DEFAULT_MAX_QUEUE_DEPTH\t27\n\n \n#define CISS_READ\t\t0xc0\n#define CISS_REPORT_LOG\t\t0xc2\t \n#define CISS_REPORT_PHYS\t0xc3\t \n#define CISS_GET_RAID_MAP\t0xc8\n\n \n#define BMIC_IDENTIFY_CONTROLLER\t\t0x11\n#define BMIC_IDENTIFY_PHYSICAL_DEVICE\t\t0x15\n#define BMIC_READ\t\t\t\t0x26\n#define BMIC_WRITE\t\t\t\t0x27\n#define BMIC_SENSE_FEATURE\t\t\t0x61\n#define BMIC_SENSE_CONTROLLER_PARAMETERS\t0x64\n#define BMIC_SENSE_SUBSYSTEM_INFORMATION\t0x66\n#define BMIC_CSMI_PASSTHRU\t\t\t0x68\n#define BMIC_WRITE_HOST_WELLNESS\t\t0xa5\n#define BMIC_FLUSH_CACHE\t\t\t0xc2\n#define BMIC_SET_DIAG_OPTIONS\t\t\t0xf4\n#define BMIC_SENSE_DIAG_OPTIONS\t\t\t0xf5\n\n#define CSMI_CC_SAS_SMP_PASSTHRU\t\t0x17\n\n#define SA_FLUSH_CACHE\t\t\t\t0x1\n\n#define MASKED_DEVICE(lunid)\t\t\t((lunid)[3] & 0xc0)\n#define CISS_GET_LEVEL_2_BUS(lunid)\t\t((lunid)[7] & 0x3f)\n#define CISS_GET_LEVEL_2_TARGET(lunid)\t\t((lunid)[6])\n#define CISS_GET_DRIVE_NUMBER(lunid)\t\t\\\n\t(((CISS_GET_LEVEL_2_BUS((lunid)) - 1) << 8) + \\\n\tCISS_GET_LEVEL_2_TARGET((lunid)))\n\n#define LV_GET_DRIVE_TYPE_MIX(lunid)\t\t((lunid)[6])\n\n#define LV_DRIVE_TYPE_MIX_UNKNOWN\t\t0\n#define LV_DRIVE_TYPE_MIX_NO_RESTRICTION\t1\n#define LV_DRIVE_TYPE_MIX_SAS_HDD_ONLY\t\t2\n#define LV_DRIVE_TYPE_MIX_SATA_HDD_ONLY\t\t3\n#define LV_DRIVE_TYPE_MIX_SAS_OR_SATA_SSD_ONLY\t4\n#define LV_DRIVE_TYPE_MIX_SAS_SSD_ONLY\t\t5\n#define LV_DRIVE_TYPE_MIX_SATA_SSD_ONLY\t\t6\n#define LV_DRIVE_TYPE_MIX_SAS_ONLY\t\t7\n#define LV_DRIVE_TYPE_MIX_SATA_ONLY\t\t8\n#define LV_DRIVE_TYPE_MIX_NVME_ONLY\t\t9\n\n#define NO_TIMEOUT\t\t((unsigned long) -1)\n\n#pragma pack(1)\n\nstruct bmic_identify_controller {\n\tu8\tconfigured_logical_drive_count;\n\t__le32\tconfiguration_signature;\n\tu8\tfirmware_version_short[4];\n\tu8\treserved[145];\n\t__le16\textended_logical_unit_count;\n\tu8\treserved1[34];\n\t__le16\tfirmware_build_number;\n\tu8\treserved2[8];\n\tu8\tvendor_id[8];\n\tu8\tproduct_id[16];\n\tu8\treserved3[62];\n\t__le32\textra_controller_flags;\n\tu8\treserved4[2];\n\tu8\tcontroller_mode;\n\tu8\tspare_part_number[32];\n\tu8\tfirmware_version_long[32];\n};\n\n \n#define BMIC_IDENTIFY_EXTRA_FLAGS_LONG_FW_VERSION_SUPPORTED\t0x20000000\n\nstruct bmic_sense_subsystem_info {\n\tu8\treserved[44];\n\tu8\tctrl_serial_number[16];\n};\n\n \n#define SA_DEVICE_TYPE_SATA\t\t0x1\n#define SA_DEVICE_TYPE_SAS\t\t0x2\n#define SA_DEVICE_TYPE_EXPANDER_SMP\t0x5\n#define SA_DEVICE_TYPE_SES\t\t0x6\n#define SA_DEVICE_TYPE_CONTROLLER\t0x7\n#define SA_DEVICE_TYPE_NVME\t\t0x9\n\nstruct bmic_identify_physical_device {\n\tu8\tscsi_bus;\t\t \n\tu8\tscsi_id;\t\t \n\t__le16\tblock_size;\t\t \n\t__le32\ttotal_blocks;\t\t \n\t__le32\treserved_blocks;\t \n\tu8\tmodel[40];\t\t \n\tu8\tserial_number[40];\t \n\tu8\tfirmware_revision[8];\t \n\tu8\tscsi_inquiry_bits;\t \n\tu8\tcompaq_drive_stamp;\t \n\tu8\tlast_failure_reason;\n\tu8\tflags;\n\tu8\tmore_flags;\n\tu8\tscsi_lun;\t\t \n\tu8\tyet_more_flags;\n\tu8\teven_more_flags;\n\t__le32\tspi_speed_rules;\n\tu8\tphys_connector[2];\t \n\tu8\tphys_box_on_bus;\t \n\tu8\tphys_bay_in_box;\t \n\t__le32\trpm;\t\t\t \n\tu8\tdevice_type;\t\t \n\tu8\tsata_version;\t\t \n\t\t\t\t\t \n\t__le64\tbig_total_block_count;\n\t__le64\tris_starting_lba;\n\t__le32\tris_size;\n\tu8\twwid[20];\n\tu8\tcontroller_phy_map[32];\n\t__le16\tphy_count;\n\tu8\tphy_connected_dev_type[256];\n\tu8\tphy_to_drive_bay_num[256];\n\t__le16\tphy_to_attached_dev_index[256];\n\tu8\tbox_index;\n\tu8\treserved;\n\t__le16\textra_physical_drive_flags;\n\tu8\tnegotiated_link_rate[256];\n\tu8\tphy_to_phy_map[256];\n\tu8\tredundant_path_present_map;\n\tu8\tredundant_path_failure_map;\n\tu8\tactive_path_number;\n\t__le16\talternate_paths_phys_connector[8];\n\tu8\talternate_paths_phys_box_on_port[8];\n\tu8\tmulti_lun_device_lun_count;\n\tu8\tminimum_good_fw_revision[8];\n\tu8\tunique_inquiry_bytes[20];\n\tu8\tcurrent_temperature_degrees;\n\tu8\ttemperature_threshold_degrees;\n\tu8\tmax_temperature_degrees;\n\tu8\tlogical_blocks_per_phys_block_exp;\n\t__le16\tcurrent_queue_depth_limit;\n\tu8\tswitch_name[10];\n\t__le16\tswitch_port;\n\tu8\talternate_paths_switch_name[40];\n\tu8\talternate_paths_switch_port[8];\n\t__le16\tpower_on_hours;\n\t__le16\tpercent_endurance_used;\n\tu8\tdrive_authentication;\n\tu8\tsmart_carrier_authentication;\n\tu8\tsmart_carrier_app_fw_version;\n\tu8\tsmart_carrier_bootloader_fw_version;\n\tu8\tsanitize_flags;\n\tu8\tencryption_key_flags;\n\tu8\tencryption_key_name[64];\n\t__le32\tmisc_drive_flags;\n\t__le16\tdek_index;\n\t__le16\thba_drive_encryption_flags;\n\t__le16\tmax_overwrite_time;\n\t__le16\tmax_block_erase_time;\n\t__le16\tmax_crypto_erase_time;\n\tu8\tconnector_info[5];\n\tu8\tconnector_name[8][8];\n\tu8\tpage_83_identifier[16];\n\tu8\tmaximum_link_rate[256];\n\tu8\tnegotiated_physical_link_rate[256];\n\tu8\tbox_connector_name[8];\n\tu8\tpadding_to_multiple_of_512[9];\n};\n\n#define BMIC_SENSE_FEATURE_IO_PAGE\t\t0x8\n#define BMIC_SENSE_FEATURE_IO_PAGE_AIO_SUBPAGE\t0x2\n\nstruct bmic_sense_feature_buffer_header {\n\tu8\tpage_code;\n\tu8\tsubpage_code;\n\t__le16\tbuffer_length;\n};\n\nstruct bmic_sense_feature_page_header {\n\tu8\tpage_code;\n\tu8\tsubpage_code;\n\t__le16\tpage_length;\n};\n\nstruct bmic_sense_feature_io_page_aio_subpage {\n\tstruct bmic_sense_feature_page_header header;\n\tu8\tfirmware_read_support;\n\tu8\tdriver_read_support;\n\tu8\tfirmware_write_support;\n\tu8\tdriver_write_support;\n\t__le16\tmax_transfer_encrypted_sas_sata;\n\t__le16\tmax_transfer_encrypted_nvme;\n\t__le16\tmax_write_raid_5_6;\n\t__le16\tmax_write_raid_1_10_2drive;\n\t__le16\tmax_write_raid_1_10_3drive;\n};\n\nstruct bmic_smp_request {\n\tu8\tframe_type;\n\tu8\tfunction;\n\tu8\tallocated_response_length;\n\tu8\trequest_length;\n\tu8\tadditional_request_bytes[1016];\n};\n\nstruct  bmic_smp_response {\n\tu8\tframe_type;\n\tu8\tfunction;\n\tu8\tfunction_result;\n\tu8\tresponse_length;\n\tu8\tadditional_response_bytes[1016];\n};\n\nstruct bmic_csmi_ioctl_header {\n\t__le32\theader_length;\n\tu8\tsignature[8];\n\t__le32\ttimeout;\n\t__le32\tcontrol_code;\n\t__le32\treturn_code;\n\t__le32\tlength;\n};\n\nstruct bmic_csmi_smp_passthru {\n\tu8\tphy_identifier;\n\tu8\tport_identifier;\n\tu8\tconnection_rate;\n\tu8\treserved;\n\t__be64\tdestination_sas_address;\n\t__le32\trequest_length;\n\tstruct bmic_smp_request request;\n\tu8\tconnection_status;\n\tu8\treserved1[3];\n\t__le32\tresponse_length;\n\tstruct bmic_smp_response response;\n};\n\nstruct bmic_csmi_smp_passthru_buffer {\n\tstruct bmic_csmi_ioctl_header ioctl_header;\n\tstruct bmic_csmi_smp_passthru parameters;\n};\n\nstruct bmic_flush_cache {\n\tu8\tdisable_flag;\n\tu8\tsystem_power_action;\n\tu8\tndu_flush;\n\tu8\tshutdown_event;\n\tu8\treserved[28];\n};\n\n \nenum bmic_flush_cache_shutdown_event {\n\tNONE_CACHE_FLUSH_ONLY = 0,\n\tSHUTDOWN = 1,\n\tHIBERNATE = 2,\n\tSUSPEND = 3,\n\tRESTART = 4\n};\n\nstruct bmic_diag_options {\n\t__le32 options;\n};\n\n#pragma pack()\n\nstatic inline struct pqi_ctrl_info *shost_to_hba(struct Scsi_Host *shost)\n{\n\tvoid *hostdata = shost_priv(shost);\n\n\treturn *((struct pqi_ctrl_info **)hostdata);\n}\n\nvoid pqi_sas_smp_handler(struct bsg_job *job, struct Scsi_Host *shost,\n\tstruct sas_rphy *rphy);\n\nint pqi_add_sas_host(struct Scsi_Host *shost, struct pqi_ctrl_info *ctrl_info);\nvoid pqi_delete_sas_host(struct pqi_ctrl_info *ctrl_info);\nint pqi_add_sas_device(struct pqi_sas_node *pqi_sas_node,\n\tstruct pqi_scsi_dev *device);\nvoid pqi_remove_sas_device(struct pqi_scsi_dev *device);\nstruct pqi_scsi_dev *pqi_find_device_by_sas_rphy(\n\tstruct pqi_ctrl_info *ctrl_info, struct sas_rphy *rphy);\nvoid pqi_prep_for_scsi_done(struct scsi_cmnd *scmd);\nint pqi_csmi_smp_passthru(struct pqi_ctrl_info *ctrl_info,\n\tstruct bmic_csmi_smp_passthru_buffer *buffer, size_t buffer_length,\n\tstruct pqi_raid_error_info *error_info);\n\nextern struct sas_function_template pqi_sas_transport_functions;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}