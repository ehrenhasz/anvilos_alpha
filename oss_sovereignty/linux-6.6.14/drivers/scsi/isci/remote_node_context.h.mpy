{
  "module_name": "remote_node_context.h",
  "hash_id": "5fb0c51674524a1ad167902c2f6c515cdd2e82334135263380c07336fe35d4d8",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/isci/remote_node_context.h",
  "human_readable_source": " \n\n#ifndef _SCIC_SDS_REMOTE_NODE_CONTEXT_H_\n#define _SCIC_SDS_REMOTE_NODE_CONTEXT_H_\n\n \n\n#include \"isci.h\"\n\n \n#define SCIC_SDS_REMOTE_NODE_CONTEXT_INVALID_INDEX    0x0FFF\n\nenum sci_remote_node_suspension_reasons {\n\tSCI_HW_SUSPEND,\n\tSCI_SW_SUSPEND_NORMAL,\n\tSCI_SW_SUSPEND_LINKHANG_DETECT\n};\n#define SCI_SOFTWARE_SUSPEND_CMD SCU_CONTEXT_COMMAND_POST_RNC_SUSPEND_TX_RX\n#define SCI_SOFTWARE_SUSPEND_EXPECTED_EVENT SCU_EVENT_TL_RNC_SUSPEND_TX_RX\n\nstruct isci_request;\nstruct isci_remote_device;\nstruct sci_remote_node_context;\n\ntypedef void (*scics_sds_remote_node_context_callback)(void *);\n\n \n#define RNC_STATES {\\\n\tC(RNC_INITIAL),\\\n\tC(RNC_POSTING),\\\n\tC(RNC_INVALIDATING),\\\n\tC(RNC_RESUMING),\\\n\tC(RNC_READY),\\\n\tC(RNC_TX_SUSPENDED),\\\n\tC(RNC_TX_RX_SUSPENDED),\\\n\tC(RNC_AWAIT_SUSPENSION),\\\n\t}\n#undef C\n#define C(a) SCI_##a\nenum scis_sds_remote_node_context_states RNC_STATES;\n#undef C\nconst char *rnc_state_name(enum scis_sds_remote_node_context_states state);\n\n \nenum sci_remote_node_context_destination_state {\n\tRNC_DEST_UNSPECIFIED,\n\tRNC_DEST_READY,\n\tRNC_DEST_FINAL,\n\tRNC_DEST_SUSPENDED,        \n\tRNC_DEST_SUSPENDED_RESUME  \n};\n\n \nstruct sci_remote_node_context {\n\t \n\tu16 remote_node_index;\n\n\t \n\tu32 suspend_type;\n\tenum sci_remote_node_suspension_reasons suspend_reason;\n\tu32 suspend_count;\n\n\t \n\tenum sci_remote_node_context_destination_state destination_state;\n\n\t \n\tscics_sds_remote_node_context_callback user_callback;\n\n\t \n\tvoid *user_cookie;\n\n\t \n\tstruct sci_base_state_machine sm;\n};\n\nvoid sci_remote_node_context_construct(struct sci_remote_node_context *rnc,\n\t\t\t\t\t    u16 remote_node_index);\n\n\nbool sci_remote_node_context_is_ready(\n\tstruct sci_remote_node_context *sci_rnc);\n\nbool sci_remote_node_context_is_suspended(struct sci_remote_node_context *sci_rnc);\n\nenum sci_status sci_remote_node_context_event_handler(struct sci_remote_node_context *sci_rnc,\n\t\t\t\t\t\t\t   u32 event_code);\nenum sci_status sci_remote_node_context_destruct(struct sci_remote_node_context *sci_rnc,\n\t\t\t\t\t\t      scics_sds_remote_node_context_callback callback,\n\t\t\t\t\t\t      void *callback_parameter);\nenum sci_status sci_remote_node_context_suspend(struct sci_remote_node_context *sci_rnc,\n\t\t\t\t\t\t     enum sci_remote_node_suspension_reasons reason,\n\t\t\t\t\t\t     u32 suspension_code);\nenum sci_status sci_remote_node_context_resume(struct sci_remote_node_context *sci_rnc,\n\t\t\t\t\t\t    scics_sds_remote_node_context_callback cb_fn,\n\t\t\t\t\t\t    void *cb_p);\nenum sci_status sci_remote_node_context_start_task(struct sci_remote_node_context *sci_rnc,\n\t\t\t\t\t\t   struct isci_request *ireq,\n\t\t\t\t\t\t   scics_sds_remote_node_context_callback cb_fn,\n\t\t\t\t\t\t   void *cb_p);\nenum sci_status sci_remote_node_context_start_io(struct sci_remote_node_context *sci_rnc,\n\t\t\t\t\t\t      struct isci_request *ireq);\nint sci_remote_node_context_is_safe_to_abort(\n\tstruct sci_remote_node_context *sci_rnc);\n\nstatic inline bool sci_remote_node_context_is_being_destroyed(\n\tstruct sci_remote_node_context *sci_rnc)\n{\n\treturn (sci_rnc->destination_state == RNC_DEST_FINAL)\n\t\t|| ((sci_rnc->sm.current_state_id == SCI_RNC_INITIAL)\n\t\t    && (sci_rnc->destination_state == RNC_DEST_UNSPECIFIED));\n}\n#endif   \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}