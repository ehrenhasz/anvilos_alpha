{
  "module_name": "task.h",
  "hash_id": "16db1a8f5cff522904e97ed0508eac6917e248882825f2a11ec94ad8a6cbd2b8",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/isci/task.h",
  "human_readable_source": " \n#ifndef _ISCI_TASK_H_\n#define _ISCI_TASK_H_\n\n#include <scsi/sas_ata.h>\n#include \"host.h\"\n\n#define ISCI_TERMINATION_TIMEOUT_MSEC 500\n\nstruct isci_request;\n\n \nenum isci_tmf_function_codes {\n\n\tisci_tmf_func_none      = 0,\n\tisci_tmf_ssp_task_abort = TMF_ABORT_TASK,\n\tisci_tmf_ssp_lun_reset  = TMF_LU_RESET,\n};\n\n \nstruct isci_tmf {\n\n\tstruct completion *complete;\n\tenum sas_protocol proto;\n\tunion {\n\t\tstruct ssp_response_iu resp_iu;\n\t\tstruct dev_to_host_fis d2h_fis;\n\t\tu8 rsp_buf[SSP_RESP_IU_MAX_SIZE];\n\t} resp;\n\tunsigned char lun[8];\n\tu16 io_tag;\n\tenum isci_tmf_function_codes tmf_code;\n\tint status;\n};\n\nstatic inline void isci_print_tmf(struct isci_host *ihost, struct isci_tmf *tmf)\n{\n\tif (SAS_PROTOCOL_SATA == tmf->proto)\n\t\tdev_dbg(&ihost->pdev->dev,\n\t\t\t\"%s: status = %x\\n\"\n\t\t\t\"tmf->resp.d2h_fis.status = %x\\n\"\n\t\t\t\"tmf->resp.d2h_fis.error = %x\\n\",\n\t\t\t__func__,\n\t\t\ttmf->status,\n\t\t\ttmf->resp.d2h_fis.status,\n\t\t\ttmf->resp.d2h_fis.error);\n\telse\n\t\tdev_dbg(&ihost->pdev->dev,\n\t\t\t\"%s: status = %x\\n\"\n\t\t\t\"tmf->resp.resp_iu.data_present = %x\\n\"\n\t\t\t\"tmf->resp.resp_iu.status = %x\\n\"\n\t\t\t\"tmf->resp.resp_iu.data_length = %x\\n\"\n\t\t\t\"tmf->resp.resp_iu.data[0] = %x\\n\"\n\t\t\t\"tmf->resp.resp_iu.data[1] = %x\\n\"\n\t\t\t\"tmf->resp.resp_iu.data[2] = %x\\n\"\n\t\t\t\"tmf->resp.resp_iu.data[3] = %x\\n\",\n\t\t\t__func__,\n\t\t\ttmf->status,\n\t\t\ttmf->resp.resp_iu.datapres,\n\t\t\ttmf->resp.resp_iu.status,\n\t\t\tbe32_to_cpu(tmf->resp.resp_iu.response_data_len),\n\t\t\ttmf->resp.resp_iu.resp_data[0],\n\t\t\ttmf->resp.resp_iu.resp_data[1],\n\t\t\ttmf->resp.resp_iu.resp_data[2],\n\t\t\ttmf->resp.resp_iu.resp_data[3]);\n}\n\n\nint isci_task_execute_task(\n\tstruct sas_task *task,\n\tgfp_t gfp_flags);\n\nint isci_task_abort_task(\n\tstruct sas_task *task);\n\nint isci_task_abort_task_set(\n\tstruct domain_device *d_device,\n\tu8 *lun);\n\nint isci_task_clear_task_set(\n\tstruct domain_device *d_device,\n\tu8 *lun);\n\nint isci_task_query_task(\n\tstruct sas_task *task);\n\nint isci_task_lu_reset(\n\tstruct domain_device *d_device,\n\tu8 *lun);\n\nint isci_task_clear_nexus_port(\n\tstruct asd_sas_port *port);\n\nint isci_task_clear_nexus_ha(\n\tstruct sas_ha_struct *ha);\n\nint isci_task_I_T_nexus_reset(\n\tstruct domain_device *d_device);\n\nvoid isci_task_request_complete(\n\tstruct isci_host *isci_host,\n\tstruct isci_request *request,\n\tenum sci_task_status completion_status);\n\nu16 isci_task_ssp_request_get_io_tag_to_manage(\n\tstruct isci_request *request);\n\nu8 isci_task_ssp_request_get_function(\n\tstruct isci_request *request);\n\n\nvoid *isci_task_ssp_request_get_response_data_address(\n\tstruct isci_request *request);\n\nu32 isci_task_ssp_request_get_response_data_length(\n\tstruct isci_request *request);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}