{
  "module_name": "probe_roms.h",
  "hash_id": "4e57efa1c65510141dbf4b4cf26473f3b0ef47305e4122f5bb16a05c9e721fcd",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/isci/probe_roms.h",
  "human_readable_source": " \n#ifndef _ISCI_PROBE_ROMS_H_\n#define _ISCI_PROBE_ROMS_H_\n\n#ifdef __KERNEL__\n#include <linux/firmware.h>\n#include <linux/pci.h>\n#include <linux/efi.h>\n#include \"isci.h\"\n\n#define SCIC_SDS_PARM_NO_SPEED   0\n\n \n#define SCIC_SDS_PARM_GEN1_SPEED 1\n\n \n#define SCIC_SDS_PARM_GEN2_SPEED 2\n\n \n#define SCIC_SDS_PARM_GEN3_SPEED 3\n#define SCIC_SDS_PARM_MAX_SPEED SCIC_SDS_PARM_GEN3_SPEED\n\n \nstruct sci_user_parameters {\n\tstruct sci_phy_user_params {\n\t\t \n\t\tu32 notify_enable_spin_up_insertion_frequency;\n\n\t\t \n\t\tu16 align_insertion_frequency;\n\n\t\t \n\t\tu16 in_connection_align_insertion_frequency;\n\n\t\t \n\t\tu8 max_speed_generation;\n\n\t} phys[SCI_MAX_PHYS];\n\n\t \n\tu8 max_concurr_spinup;\n\n\t \n\tu8 phy_spin_up_delay_interval;\n\n\t \n\tu16 stp_inactivity_timeout;\n\tu16 ssp_inactivity_timeout;\n\n\t \n\tu16 stp_max_occupancy_timeout;\n\tu16 ssp_max_occupancy_timeout;\n\n\t \n\tu8 no_outbound_task_timeout;\n\n};\n\n#define SCIC_SDS_PARM_PHY_MASK_MIN 0x0\n#define SCIC_SDS_PARM_PHY_MASK_MAX 0xF\n#define MAX_CONCURRENT_DEVICE_SPIN_UP_COUNT 4\n\nstruct sci_oem_params;\nint sci_oem_parameters_validate(struct sci_oem_params *oem, u8 version);\n\nstruct isci_orom;\nstruct isci_orom *isci_request_oprom(struct pci_dev *pdev);\nstruct isci_orom *isci_request_firmware(struct pci_dev *pdev, const struct firmware *fw);\nstruct isci_orom *isci_get_efi_var(struct pci_dev *pdev);\n\nstruct isci_oem_hdr {\n\tu8 sig[4];\n\tu8 rev_major;\n\tu8 rev_minor;\n\tu16 len;\n\tu8 checksum;\n\tu8 reserved1;\n\tu16 reserved2;\n} __attribute__ ((packed));\n\n#else\n#define SCI_MAX_PORTS 4\n#define SCI_MAX_PHYS 4\n#define SCI_MAX_CONTROLLERS 2\n#endif\n\n#define ISCI_FW_NAME\t\t\"isci/isci_firmware.bin\"\n\n#define ROMSIGNATURE\t\t0xaa55\n\n#define ISCI_OEM_SIG\t\t\"$OEM\"\n#define ISCI_OEM_SIG_SIZE\t4\n#define ISCI_ROM_SIG\t\t\"ISCUOEMB\"\n#define ISCI_ROM_SIG_SIZE\t8\n\n#define ISCI_EFI_VENDOR_GUID\t\\\n\tEFI_GUID(0x193dfefa, 0xa445, 0x4302, 0x99, 0xd8, 0xef, 0x3a, 0xad, \\\n\t\t\t0x1a, 0x04, 0xc6)\n#define ISCI_EFI_VAR_NAME\t\"RstScuO\"\n\n#define ISCI_ROM_VER_1_0\t0x10\n#define ISCI_ROM_VER_1_1\t0x11\n#define ISCI_ROM_VER_1_3\t0x13\n#define ISCI_ROM_VER_LATEST\tISCI_ROM_VER_1_3\n\n \nenum sci_port_configuration_mode {\n\tSCIC_PORT_MANUAL_CONFIGURATION_MODE = 0,\n\tSCIC_PORT_AUTOMATIC_CONFIGURATION_MODE = 1\n};\n\nstruct sci_bios_oem_param_block_hdr {\n\tuint8_t signature[ISCI_ROM_SIG_SIZE];\n\tuint16_t total_block_length;\n\tuint8_t hdr_length;\n\tuint8_t version;\n\tuint8_t preboot_source;\n\tuint8_t num_elements;\n\tuint16_t element_length;\n\tuint8_t reserved[8];\n} __attribute__ ((packed));\n\nstruct sci_oem_params {\n\tstruct {\n\t\tuint8_t mode_type;\n\t\tuint8_t max_concurr_spin_up;\n\t\t \n\t\tunion {\n\t\t\tstruct {\n\t\t\t \n\t\t\t\tuint8_t ssc_sata_tx_spread_level:4;\n\t\t\t \n\t\t\t\tuint8_t ssc_sas_tx_spread_level:3;\n\t\t\t \n\t\t\t\tuint8_t ssc_sas_tx_type:1;\n\t\t\t};\n\t\t\tuint8_t do_enable_ssc;\n\t\t};\n\t\t \n\t\tuint8_t cable_selection_mask;\n\t} controller;\n\n\tstruct {\n\t\tuint8_t phy_mask;\n\t} ports[SCI_MAX_PORTS];\n\n\tstruct sci_phy_oem_params {\n\t\tstruct {\n\t\t\tuint32_t high;\n\t\t\tuint32_t low;\n\t\t} sas_address;\n\n\t\tuint32_t afe_tx_amp_control0;\n\t\tuint32_t afe_tx_amp_control1;\n\t\tuint32_t afe_tx_amp_control2;\n\t\tuint32_t afe_tx_amp_control3;\n\t} phys[SCI_MAX_PHYS];\n} __attribute__ ((packed));\n\nstruct isci_orom {\n\tstruct sci_bios_oem_param_block_hdr hdr;\n\tstruct sci_oem_params ctrl[SCI_MAX_CONTROLLERS];\n} __attribute__ ((packed));\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}