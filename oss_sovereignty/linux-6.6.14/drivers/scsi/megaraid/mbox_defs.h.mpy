{
  "module_name": "mbox_defs.h",
  "hash_id": "082c4f0f90e62c59baeeb41154fa1b8a8718ea8d15931bc43180c13905867f78",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/megaraid/mbox_defs.h",
  "human_readable_source": " \n \n#ifndef _MRAID_MBOX_DEFS_H_\n#define _MRAID_MBOX_DEFS_H_\n\n#include <linux/types.h>\n\n \n\n#define MBOXCMD_LREAD\t\t0x01\n#define MBOXCMD_LWRITE\t\t0x02\n#define MBOXCMD_PASSTHRU\t0x03\n#define MBOXCMD_ADPEXTINQ\t0x04\n#define MBOXCMD_ADAPTERINQ\t0x05\n#define MBOXCMD_LREAD64\t\t0xA7\n#define MBOXCMD_LWRITE64\t0xA8\n#define MBOXCMD_PASSTHRU64\t0xC3\n#define MBOXCMD_EXTPTHRU\t0xE3\n\n#define MAIN_MISC_OPCODE\t0xA4\n#define GET_MAX_SG_SUPPORT\t0x01\n#define SUPPORT_EXT_CDB\t\t0x16\n\n#define FC_NEW_CONFIG\t\t0xA1\n#define NC_SUBOP_PRODUCT_INFO\t0x0E\n#define NC_SUBOP_ENQUIRY3\t0x0F\n#define ENQ3_GET_SOLICITED_FULL\t0x02\n#define OP_DCMD_READ_CONFIG\t0x04\n#define NEW_READ_CONFIG_8LD\t0x67\n#define READ_CONFIG_8LD\t\t0x07\n#define FLUSH_ADAPTER\t\t0x0A\n#define FLUSH_SYSTEM\t\t0xFE\n\n \n#define\tFC_DEL_LOGDRV\t\t0xA4\n#define\tOP_SUP_DEL_LOGDRV\t0x2A\n#define OP_GET_LDID_MAP\t\t0x18\n#define OP_DEL_LOGDRV\t\t0x1C\n\n \n#define IS_BIOS_ENABLED\t\t0x62\n#define GET_BIOS\t\t0x01\n#define CHNL_CLASS\t\t0xA9\n#define GET_CHNL_CLASS\t\t0x00\n#define SET_CHNL_CLASS\t\t0x01\n#define CH_RAID\t\t\t0x01\n#define CH_SCSI\t\t\t0x00\n#define BIOS_PVT_DATA\t\t0x40\n#define GET_BIOS_PVT_DATA\t0x00\n\n\n \n#define GET_TARGET_ID\t\t0x7D\n#define CLUSTER_OP\t\t0x70\n#define GET_CLUSTER_MODE\t0x02\n#define CLUSTER_CMD\t\t0x6E\n#define RESERVE_LD\t\t0x01\n#define RELEASE_LD\t\t0x02\n#define RESET_RESERVATIONS\t0x03\n#define RESERVATION_STATUS\t0x04\n#define RESERVE_PD\t\t0x05\n#define RELEASE_PD\t\t0x06\n\n\n \n#define BATTERY_MODULE_MISSING\t\t0x01\n#define BATTERY_LOW_VOLTAGE\t\t0x02\n#define BATTERY_TEMP_HIGH\t\t0x04\n#define BATTERY_PACK_MISSING\t\t0x08\n#define BATTERY_CHARGE_MASK\t\t0x30\n#define BATTERY_CHARGE_DONE\t\t0x00\n#define BATTERY_CHARGE_INPROG\t\t0x10\n#define BATTERY_CHARGE_FAIL\t\t0x20\n#define BATTERY_CYCLES_EXCEEDED\t\t0x40\n\n \n#define PDRV_UNCNF\t0\n#define PDRV_ONLINE\t3\n#define PDRV_FAILED\t4\n#define PDRV_RBLD\t5\n#define PDRV_HOTSPARE\t6\n\n\n \n#define RDRV_OFFLINE\t0\n#define RDRV_DEGRADED\t1\n#define RDRV_OPTIMAL\t2\n#define RDRV_DELETED\t3\n\n \n#define NO_READ_AHEAD\t\t0\n#define READ_AHEAD\t\t1\n#define ADAP_READ_AHEAD\t\t2\n#define WRMODE_WRITE_THRU\t0\n#define WRMODE_WRITE_BACK\t1\n#define CACHED_IO\t\t0\n#define DIRECT_IO\t\t1\n\n#define MAX_LOGICAL_DRIVES_8LD\t\t8\n#define MAX_LOGICAL_DRIVES_40LD\t\t40\n#define FC_MAX_PHYSICAL_DEVICES\t\t256\n#define MAX_MBOX_CHANNELS\t\t5\n#define MAX_MBOX_TARGET\t\t\t15\n#define MBOX_MAX_PHYSICAL_DRIVES\tMAX_MBOX_CHANNELS*MAX_MBOX_TARGET\n#define MAX_ROW_SIZE_40LD\t\t32\n#define MAX_ROW_SIZE_8LD\t\t8\n#define SPAN_DEPTH_8_SPANS\t\t8\n#define SPAN_DEPTH_4_SPANS\t\t4\n#define MAX_REQ_SENSE_LEN\t\t0x20\n\n\n\n \n#define MBOX_MAX_FIRMWARE_STATUS\t46\ntypedef struct {\n\tuint8_t\t\tcmd;\n\tuint8_t\t\tcmdid;\n\tuint16_t\tnumsectors;\n\tuint32_t\tlba;\n\tuint32_t\txferaddr;\n\tuint8_t\t\tlogdrv;\n\tuint8_t\t\tnumsge;\n\tuint8_t\t\tresvd;\n\tuint8_t\t\tbusy;\n\tuint8_t\t\tnumstatus;\n\tuint8_t\t\tstatus;\n\tuint8_t\t\tcompleted[MBOX_MAX_FIRMWARE_STATUS];\n\tuint8_t\t\tpoll;\n\tuint8_t\t\tack;\n} __attribute__ ((packed)) mbox_t;\n\n\n \ntypedef struct {\n\tuint32_t\txferaddr_lo;\n\tuint32_t\txferaddr_hi;\n\tmbox_t\t\tmbox32;\n} __attribute__ ((packed)) mbox64_t;\n\n \ntypedef struct {\n\tu8\tcmd;\n\tu8\tcmdid;\n\tu8\topcode;\n\tu8\tsubopcode;\n\tu32\tlba;\n\tu32\txferaddr;\n\tu8\tlogdrv;\n\tu8\trsvd[3];\n\tu8\tnumstatus;\n\tu8\tstatus;\n} __attribute__ ((packed)) int_mbox_t;\n\n \ntypedef struct {\n\tuint8_t\t\ttimeout\t\t:3;\n\tuint8_t\t\tars\t\t:1;\n\tuint8_t\t\treserved\t:3;\n\tuint8_t\t\tislogical\t:1;\n\tuint8_t\t\tlogdrv;\n\tuint8_t\t\tchannel;\n\tuint8_t\t\ttarget;\n\tuint8_t\t\tqueuetag;\n\tuint8_t\t\tqueueaction;\n\tuint8_t\t\tcdb[10];\n\tuint8_t\t\tcdblen;\n\tuint8_t\t\treqsenselen;\n\tuint8_t\t\treqsensearea[MAX_REQ_SENSE_LEN];\n\tuint8_t\t\tnumsge;\n\tuint8_t\t\tscsistatus;\n\tuint32_t\tdataxferaddr;\n\tuint32_t\tdataxferlen;\n} __attribute__ ((packed)) mraid_passthru_t;\n\ntypedef struct {\n\n\tuint32_t\t\tdataxferaddr_lo;\n\tuint32_t\t\tdataxferaddr_hi;\n\tmraid_passthru_t\tpthru32;\n\n} __attribute__ ((packed)) mega_passthru64_t;\n\n \ntypedef struct {\n\tuint8_t\t\ttimeout\t\t:3;\n\tuint8_t\t\tars\t\t:1;\n\tuint8_t\t\trsvd1\t\t:1;\n\tuint8_t\t\tcd_rom\t\t:1;\n\tuint8_t\t\trsvd2\t\t:1;\n\tuint8_t\t\tislogical\t:1;\n\tuint8_t\t\tlogdrv;\n\tuint8_t\t\tchannel;\n\tuint8_t\t\ttarget;\n\tuint8_t\t\tqueuetag;\n\tuint8_t\t\tqueueaction;\n\tuint8_t\t\tcdblen;\n\tuint8_t\t\trsvd3;\n\tuint8_t\t\tcdb[16];\n\tuint8_t\t\tnumsge;\n\tuint8_t\t\tstatus;\n\tuint8_t\t\treqsenselen;\n\tuint8_t\t\treqsensearea[MAX_REQ_SENSE_LEN];\n\tuint8_t\t\trsvd4;\n\tuint32_t\tdataxferaddr;\n\tuint32_t\tdataxferlen;\n} __attribute__ ((packed)) mraid_epassthru_t;\n\n\n \ntypedef struct {\n\tuint32_t\tdata_size;\n\tuint32_t\tconfig_signature;\n\tuint8_t\t\tfw_version[16];\n\tuint8_t\t\tbios_version[16];\n\tuint8_t\t\tproduct_name[80];\n\tuint8_t\t\tmax_commands;\n\tuint8_t\t\tnchannels;\n\tuint8_t\t\tfc_loop_present;\n\tuint8_t\t\tmem_type;\n\tuint32_t\tsignature;\n\tuint16_t\tdram_size;\n\tuint16_t\tsubsysid;\n\tuint16_t\tsubsysvid;\n\tuint8_t\t\tnotify_counters;\n\tuint8_t\t\tpad1k[889];\n} __attribute__ ((packed)) mraid_pinfo_t;\n\n\n \ntypedef struct {\n\tuint32_t\tglobal_counter;\n\tuint8_t\t\tparam_counter;\n\tuint8_t\t\tparam_id;\n\tuint16_t\tparam_val;\n\tuint8_t\t\twrite_config_counter;\n\tuint8_t\t\twrite_config_rsvd[3];\n\tuint8_t\t\tldrv_op_counter;\n\tuint8_t\t\tldrv_opid;\n\tuint8_t\t\tldrv_opcmd;\n\tuint8_t\t\tldrv_opstatus;\n\tuint8_t\t\tldrv_state_counter;\n\tuint8_t\t\tldrv_state_id;\n\tuint8_t\t\tldrv_state_new;\n\tuint8_t\t\tldrv_state_old;\n\tuint8_t\t\tpdrv_state_counter;\n\tuint8_t\t\tpdrv_state_id;\n\tuint8_t\t\tpdrv_state_new;\n\tuint8_t\t\tpdrv_state_old;\n\tuint8_t\t\tpdrv_fmt_counter;\n\tuint8_t\t\tpdrv_fmt_id;\n\tuint8_t\t\tpdrv_fmt_val;\n\tuint8_t\t\tpdrv_fmt_rsvd;\n\tuint8_t\t\ttarg_xfer_counter;\n\tuint8_t\t\ttarg_xfer_id;\n\tuint8_t\t\ttarg_xfer_val;\n\tuint8_t\t\ttarg_xfer_rsvd;\n\tuint8_t\t\tfcloop_id_chg_counter;\n\tuint8_t\t\tfcloopid_pdrvid;\n\tuint8_t\t\tfcloop_id0;\n\tuint8_t\t\tfcloop_id1;\n\tuint8_t\t\tfcloop_state_counter;\n\tuint8_t\t\tfcloop_state0;\n\tuint8_t\t\tfcloop_state1;\n\tuint8_t\t\tfcloop_state_rsvd;\n} __attribute__ ((packed)) mraid_notify_t;\n\n\n \n#define MAX_NOTIFY_SIZE\t\t0x80\n#define CUR_NOTIFY_SIZE\t\tsizeof(mraid_notify_t)\n\ntypedef struct {\n\tuint32_t\tdata_size;\n\n\tmraid_notify_t\tnotify;\n\n\tuint8_t\t\tnotify_rsvd[MAX_NOTIFY_SIZE - CUR_NOTIFY_SIZE];\n\n\tuint8_t\t\trebuild_rate;\n\tuint8_t\t\tcache_flush_int;\n\tuint8_t\t\tsense_alert;\n\tuint8_t\t\tdrive_insert_count;\n\n\tuint8_t\t\tbattery_status;\n\tuint8_t\t\tnum_ldrv;\n\tuint8_t\t\trecon_state[MAX_LOGICAL_DRIVES_40LD / 8];\n\tuint16_t\tldrv_op_status[MAX_LOGICAL_DRIVES_40LD / 8];\n\n\tuint32_t\tldrv_size[MAX_LOGICAL_DRIVES_40LD];\n\tuint8_t\t\tldrv_prop[MAX_LOGICAL_DRIVES_40LD];\n\tuint8_t\t\tldrv_state[MAX_LOGICAL_DRIVES_40LD];\n\tuint8_t\t\tpdrv_state[FC_MAX_PHYSICAL_DEVICES];\n\tuint16_t\tpdrv_format[FC_MAX_PHYSICAL_DEVICES / 16];\n\n\tuint8_t\t\ttarg_xfer[80];\n\tuint8_t\t\tpad1k[263];\n} __attribute__ ((packed)) mraid_inquiry3_t;\n\n\n \ntypedef struct {\n\tuint8_t\t\tmax_commands;\n\tuint8_t\t\trebuild_rate;\n\tuint8_t\t\tmax_targ_per_chan;\n\tuint8_t\t\tnchannels;\n\tuint8_t\t\tfw_version[4];\n\tuint16_t\tage_of_flash;\n\tuint8_t\t\tchip_set_value;\n\tuint8_t\t\tdram_size;\n\tuint8_t\t\tcache_flush_interval;\n\tuint8_t\t\tbios_version[4];\n\tuint8_t\t\tboard_type;\n\tuint8_t\t\tsense_alert;\n\tuint8_t\t\twrite_config_count;\n\tuint8_t\t\tbattery_status;\n\tuint8_t\t\tdec_fault_bus_info;\n} __attribute__ ((packed)) mraid_adapinfo_t;\n\n\n \ntypedef struct {\n\tuint8_t\t\tnldrv;\n\tuint8_t\t\trsvd[3];\n\tuint32_t\tsize[MAX_LOGICAL_DRIVES_8LD];\n\tuint8_t\t\tprop[MAX_LOGICAL_DRIVES_8LD];\n\tuint8_t\t\tstate[MAX_LOGICAL_DRIVES_8LD];\n} __attribute__ ((packed)) mraid_ldrv_info_t;\n\n\n \ntypedef struct {\n\tuint8_t\t\tpdrv_state[MBOX_MAX_PHYSICAL_DRIVES];\n\tuint8_t\t\trsvd;\n} __attribute__ ((packed)) mraid_pdrv_info_t;\n\n\n \ntypedef struct {\n\tmraid_adapinfo_t\tadapter_info;\n\tmraid_ldrv_info_t\tlogdrv_info;\n\tmraid_pdrv_info_t\tpdrv_info;\n} __attribute__ ((packed)) mraid_inquiry_t;\n\n\n \ntypedef struct {\n\tmraid_inquiry_t\traid_inq;\n\tuint16_t\tphys_drv_format[MAX_MBOX_CHANNELS];\n\tuint8_t\t\tstack_attn;\n\tuint8_t\t\tmodem_status;\n\tuint8_t\t\trsvd[2];\n} __attribute__ ((packed)) mraid_extinq_t;\n\n\n \ntypedef struct {\n\tuint8_t\t\tchannel;\n\tuint8_t\t\ttarget;\n}__attribute__ ((packed)) adap_device_t;\n\n\n \ntypedef struct {\n\tuint32_t\tstart_blk;\n\tuint32_t\tnum_blks;\n\tadap_device_t\tdevice[MAX_ROW_SIZE_40LD];\n}__attribute__ ((packed)) adap_span_40ld_t;\n\n\n \ntypedef struct {\n\tuint32_t\tstart_blk;\n\tuint32_t\tnum_blks;\n\tadap_device_t\tdevice[MAX_ROW_SIZE_8LD];\n}__attribute__ ((packed)) adap_span_8ld_t;\n\n\n \ntypedef struct {\n\tuint8_t\t\tspan_depth;\n\tuint8_t\t\tlevel;\n\tuint8_t\t\tread_ahead;\n\tuint8_t\t\tstripe_sz;\n\tuint8_t\t\tstatus;\n\tuint8_t\t\twrite_mode;\n\tuint8_t\t\tdirect_io;\n\tuint8_t\t\trow_size;\n} __attribute__ ((packed)) logdrv_param_t;\n\n\n \ntypedef struct {\n\tlogdrv_param_t\t\tlparam;\n\tadap_span_40ld_t\tspan[SPAN_DEPTH_8_SPANS];\n}__attribute__ ((packed)) logdrv_40ld_t;\n\n\n \ntypedef struct {\n\tlogdrv_param_t\tlparam;\n\tadap_span_8ld_t\tspan[SPAN_DEPTH_8_SPANS];\n}__attribute__ ((packed)) logdrv_8ld_span8_t;\n\n\n \ntypedef struct {\n\tlogdrv_param_t\tlparam;\n\tadap_span_8ld_t\tspan[SPAN_DEPTH_4_SPANS];\n}__attribute__ ((packed)) logdrv_8ld_span4_t;\n\n\n \ntypedef struct {\n\tuint8_t\t\ttype;\n\tuint8_t\t\tcur_status;\n\tuint8_t\t\ttag_depth;\n\tuint8_t\t\tsync_neg;\n\tuint32_t\tsize;\n}__attribute__ ((packed)) phys_drive_t;\n\n\n \ntypedef struct {\n\tuint8_t\t\tnumldrv;\n\tuint8_t\t\tresvd[3];\n\tlogdrv_40ld_t\tldrv[MAX_LOGICAL_DRIVES_40LD];\n\tphys_drive_t\tpdrv[MBOX_MAX_PHYSICAL_DRIVES];\n}__attribute__ ((packed)) disk_array_40ld_t;\n\n\n \ntypedef struct {\n\tuint8_t\t\t\tnumldrv;\n\tuint8_t\t\t\tresvd[3];\n\tlogdrv_8ld_span8_t\tldrv[MAX_LOGICAL_DRIVES_8LD];\n\tphys_drive_t\t\tpdrv[MBOX_MAX_PHYSICAL_DRIVES];\n}__attribute__ ((packed)) disk_array_8ld_span8_t;\n\n\n \ntypedef struct {\n\tuint8_t\t\t\tnumldrv;\n\tuint8_t\t\t\tresvd[3];\n\tlogdrv_8ld_span4_t\tldrv[MAX_LOGICAL_DRIVES_8LD];\n\tphys_drive_t\t\tpdrv[MBOX_MAX_PHYSICAL_DRIVES];\n}__attribute__ ((packed)) disk_array_8ld_span4_t;\n\n\n \nstruct private_bios_data {\n\tuint8_t\t\tgeometry\t:4;\n\tuint8_t\t\tunused\t\t:4;\n\tuint8_t\t\tboot_drv;\n\tuint8_t\t\trsvd[12];\n\tuint16_t\tcksum;\n} __attribute__ ((packed));\n\n\n \ntypedef struct {\n\tuint64_t\taddress;\n\tuint32_t\tlength;\n} __attribute__ ((packed)) mbox_sgl64;\n\n \ntypedef struct {\n\tuint32_t\taddress;\n\tuint32_t\tlength;\n} __attribute__ ((packed)) mbox_sgl32;\n\n#endif\t\t\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}