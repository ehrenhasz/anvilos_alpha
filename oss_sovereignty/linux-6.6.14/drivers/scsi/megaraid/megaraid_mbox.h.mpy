{
  "module_name": "megaraid_mbox.h",
  "hash_id": "0e8a7790fd0691eeb125ca732337b8fbc4a06d58760b216ec114b904ca15ebbf",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/megaraid/megaraid_mbox.h",
  "human_readable_source": " \n \n\n#ifndef _MEGARAID_H_\n#define _MEGARAID_H_\n\n\n#include \"mega_common.h\"\n#include \"mbox_defs.h\"\n#include \"megaraid_ioctl.h\"\n\n\n#define MEGARAID_VERSION\t\"2.20.5.1\"\n#define MEGARAID_EXT_VERSION\t\"(Release Date: Thu Nov 16 15:32:35 EST 2006)\"\n\n\n \n#define PCI_DEVICE_ID_PERC4_DI_DISCOVERY\t\t0x000E\n#define PCI_SUBSYS_ID_PERC4_DI_DISCOVERY\t\t0x0123\n\n#define PCI_DEVICE_ID_PERC4_SC\t\t\t\t0x1960\n#define PCI_SUBSYS_ID_PERC4_SC\t\t\t\t0x0520\n\n#define PCI_DEVICE_ID_PERC4_DC\t\t\t\t0x1960\n#define PCI_SUBSYS_ID_PERC4_DC\t\t\t\t0x0518\n\n#define PCI_DEVICE_ID_VERDE\t\t\t\t0x0407\n\n#define PCI_DEVICE_ID_PERC4_DI_EVERGLADES\t\t0x000F\n#define PCI_SUBSYS_ID_PERC4_DI_EVERGLADES\t\t0x014A\n\n#define PCI_DEVICE_ID_PERC4E_SI_BIGBEND\t\t\t0x0013\n#define PCI_SUBSYS_ID_PERC4E_SI_BIGBEND\t\t\t0x016c\n\n#define PCI_DEVICE_ID_PERC4E_DI_KOBUK\t\t\t0x0013\n#define PCI_SUBSYS_ID_PERC4E_DI_KOBUK\t\t\t0x016d\n\n#define PCI_DEVICE_ID_PERC4E_DI_CORVETTE\t\t0x0013\n#define PCI_SUBSYS_ID_PERC4E_DI_CORVETTE\t\t0x016e\n\n#define PCI_DEVICE_ID_PERC4E_DI_EXPEDITION\t\t0x0013\n#define PCI_SUBSYS_ID_PERC4E_DI_EXPEDITION\t\t0x016f\n\n#define PCI_DEVICE_ID_PERC4E_DI_GUADALUPE\t\t0x0013\n#define PCI_SUBSYS_ID_PERC4E_DI_GUADALUPE\t\t0x0170\n\n#define PCI_DEVICE_ID_DOBSON\t\t\t\t0x0408\n\n#define PCI_DEVICE_ID_MEGARAID_SCSI_320_0\t\t0x1960\n#define PCI_SUBSYS_ID_MEGARAID_SCSI_320_0\t\t0xA520\n\n#define PCI_DEVICE_ID_MEGARAID_SCSI_320_1\t\t0x1960\n#define PCI_SUBSYS_ID_MEGARAID_SCSI_320_1\t\t0x0520\n\n#define PCI_DEVICE_ID_MEGARAID_SCSI_320_2\t\t0x1960\n#define PCI_SUBSYS_ID_MEGARAID_SCSI_320_2\t\t0x0518\n\n#define PCI_DEVICE_ID_MEGARAID_I4_133_RAID\t\t0x1960\n#define PCI_SUBSYS_ID_MEGARAID_I4_133_RAID\t\t0x0522\n\n#define PCI_DEVICE_ID_MEGARAID_SATA_150_4\t\t0x1960\n#define PCI_SUBSYS_ID_MEGARAID_SATA_150_4\t\t0x4523\n\n#define PCI_DEVICE_ID_MEGARAID_SATA_150_6\t\t0x1960\n#define PCI_SUBSYS_ID_MEGARAID_SATA_150_6\t\t0x0523\n\n#define PCI_DEVICE_ID_LINDSAY\t\t\t\t0x0409\n\n#define PCI_DEVICE_ID_INTEL_RAID_SRCS16\t\t\t0x1960\n#define PCI_SUBSYS_ID_INTEL_RAID_SRCS16\t\t\t0x0523\n\n#define PCI_DEVICE_ID_INTEL_RAID_SRCU41L_LAKE_SHETEK\t0x1960\n#define PCI_SUBSYS_ID_INTEL_RAID_SRCU41L_LAKE_SHETEK\t0x0520\n\n#define PCI_SUBSYS_ID_PERC3_QC\t\t\t\t0x0471\n#define PCI_SUBSYS_ID_PERC3_DC\t\t\t\t0x0493\n#define PCI_SUBSYS_ID_PERC3_SC\t\t\t\t0x0475\n#define PCI_SUBSYS_ID_CERC_ATA100_4CH\t\t\t0x0511\n\n\n#define MBOX_MAX_SCSI_CMDS\t128\t\n#define MBOX_MAX_USER_CMDS\t32\t\n#define MBOX_DEF_CMD_PER_LUN\t64\t\n#define MBOX_DEFAULT_SG_SIZE\t26\t\n#define MBOX_MAX_SG_SIZE\t32\t\n#define MBOX_MAX_SECTORS\t128\t\n#define MBOX_TIMEOUT\t\t30\t\n#define MBOX_BUSY_WAIT\t\t10\t\n#define MBOX_RESET_WAIT\t\t180\t\n#define MBOX_RESET_EXT_WAIT\t120\t\n#define MBOX_SYNC_WAIT_CNT\t0xFFFF\t\n\n#define MBOX_SYNC_DELAY_200\t200\t\n\n \n#define MBOX_IBUF_SIZE\t\t4096\n\n\n \ntypedef struct {\n\tuint8_t\t\t\t*raw_mbox;\n\tmbox_t\t\t\t*mbox;\n\tmbox64_t\t\t*mbox64;\n\tdma_addr_t\t\tmbox_dma_h;\n\tmbox_sgl64\t\t*sgl64;\n\tmbox_sgl32\t\t*sgl32;\n\tdma_addr_t\t\tsgl_dma_h;\n\tmraid_passthru_t\t*pthru;\n\tdma_addr_t\t\tpthru_dma_h;\n\tmraid_epassthru_t\t*epthru;\n\tdma_addr_t\t\tepthru_dma_h;\n\tdma_addr_t\t\tbuf_dma_h;\n} mbox_ccb_t;\n\n\n \n#define MAX_LD_EXTENDED64\t64\ntypedef struct {\n\tmbox64_t\t\t\t*una_mbox64;\n\tdma_addr_t\t\t\tuna_mbox64_dma;\n\tmbox_t\t\t\t\t*mbox;\n\tmbox64_t\t\t\t*mbox64;\n\tdma_addr_t\t\t\tmbox_dma;\n\tspinlock_t\t\t\tmailbox_lock;\n\tunsigned long\t\t\tbaseport;\n\tvoid __iomem *\t\t\tbaseaddr;\n\tstruct mraid_pci_blk\t\tmbox_pool[MBOX_MAX_SCSI_CMDS];\n\tstruct dma_pool\t\t\t*mbox_pool_handle;\n\tstruct mraid_pci_blk\t\tepthru_pool[MBOX_MAX_SCSI_CMDS];\n\tstruct dma_pool\t\t\t*epthru_pool_handle;\n\tstruct mraid_pci_blk\t\tsg_pool[MBOX_MAX_SCSI_CMDS];\n\tstruct dma_pool\t\t\t*sg_pool_handle;\n\tmbox_ccb_t\t\t\tccb_list[MBOX_MAX_SCSI_CMDS];\n\tmbox_ccb_t\t\t\tuccb_list[MBOX_MAX_USER_CMDS];\n\tmbox64_t\t\t\tumbox64[MBOX_MAX_USER_CMDS];\n\n\tuint8_t\t\t\t\tpdrv_state[MBOX_MAX_PHYSICAL_DRIVES];\n\tuint32_t\t\t\tlast_disp;\n\tint\t\t\t\thw_error;\n\tint\t\t\t\tfast_load;\n\tuint8_t\t\t\t\tchannel_class;\n\tstruct mutex\t\t\tsysfs_mtx;\n\tuioc_t\t\t\t\t*sysfs_uioc;\n\tmbox64_t\t\t\t*sysfs_mbox64;\n\tcaddr_t\t\t\t\tsysfs_buffer;\n\tdma_addr_t\t\t\tsysfs_buffer_dma;\n\twait_queue_head_t\t\tsysfs_wait_q;\n\tint\t\t\t\trandom_del_supported;\n\tuint16_t\t\t\tcurr_ldmap[MAX_LD_EXTENDED64];\n} mraid_device_t;\n\n\n#define ADAP2RAIDDEV(adp)\t((mraid_device_t *)((adp)->raid_device))\n\n#define MAILBOX_LOCK(rdev)\t(&(rdev)->mailbox_lock)\n\n\n#define IS_RAID_CH(rdev, ch)\t(((rdev)->channel_class >> (ch)) & 0x01)\n\n\n#define RDINDOOR(rdev)\t\treadl((rdev)->baseaddr + 0x20)\n#define RDOUTDOOR(rdev)\t\treadl((rdev)->baseaddr + 0x2C)\n#define WRINDOOR(rdev, value)\twritel(value, (rdev)->baseaddr + 0x20)\n#define WROUTDOOR(rdev, value)\twritel(value, (rdev)->baseaddr + 0x2C)\n\n#endif \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}