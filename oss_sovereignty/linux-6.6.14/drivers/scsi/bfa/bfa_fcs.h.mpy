{
  "module_name": "bfa_fcs.h",
  "hash_id": "142fe6d06192f12f691edbbd0ef99f3fe841b2b8f698dcd16d6f9a50e55d7a60",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/bfa/bfa_fcs.h",
  "human_readable_source": " \n \n\n#ifndef __BFA_FCS_H__\n#define __BFA_FCS_H__\n\n#include \"bfa_cs.h\"\n#include \"bfa_defs.h\"\n#include \"bfa_defs_fcs.h\"\n#include \"bfa_modules.h\"\n#include \"bfa_fc.h\"\n\n#define BFA_FCS_OS_STR_LEN\t\t64\n\n \n\nenum bfa_lps_event {\n\tBFA_LPS_SM_LOGIN\t= 1,\t \n\tBFA_LPS_SM_LOGOUT\t= 2,\t \n\tBFA_LPS_SM_FWRSP\t= 3,\t \n\tBFA_LPS_SM_RESUME\t= 4,\t \n\tBFA_LPS_SM_DELETE\t= 5,\t \n\tBFA_LPS_SM_OFFLINE\t= 6,\t \n\tBFA_LPS_SM_RX_CVL\t= 7,\t \n\tBFA_LPS_SM_SET_N2N_PID  = 8,\t \n};\n\n\n \nenum {\n\tBFA_TRC_FCS_FCS\t\t= 1,\n\tBFA_TRC_FCS_PORT\t= 2,\n\tBFA_TRC_FCS_RPORT\t= 3,\n\tBFA_TRC_FCS_FCPIM\t= 4,\n};\n\n\nstruct bfa_fcs_s;\n\n#define __fcs_min_cfg(__fcs)       ((__fcs)->min_cfg)\n\n#define BFA_FCS_BRCD_SWITCH_OUI  0x051e\n#define N2N_LOCAL_PID\t    0x010000\n#define N2N_REMOTE_PID\t\t0x020000\n#define\tBFA_FCS_RETRY_TIMEOUT 2000\n#define BFA_FCS_MAX_NS_RETRIES 5\n#define BFA_FCS_PID_IS_WKA(pid)  ((bfa_ntoh3b(pid) > 0xFFF000) ?  1 : 0)\n#define BFA_FCS_MAX_RPORT_LOGINS 1024\n\nstruct bfa_fcs_lport_ns_s {\n\tbfa_sm_t        sm;\t\t \n\tstruct bfa_timer_s timer;\n\tstruct bfa_fcs_lport_s *port;\t \n\tstruct bfa_fcxp_s *fcxp;\n\tstruct bfa_fcxp_wqe_s fcxp_wqe;\n\tu8\tnum_rnnid_retries;\n\tu8\tnum_rsnn_nn_retries;\n};\n\n\nstruct bfa_fcs_lport_scn_s {\n\tbfa_sm_t        sm;\t\t \n\tstruct bfa_timer_s timer;\n\tstruct bfa_fcs_lport_s *port;\t \n\tstruct bfa_fcxp_s *fcxp;\n\tstruct bfa_fcxp_wqe_s fcxp_wqe;\n};\n\n\nstruct bfa_fcs_lport_fdmi_s {\n\tbfa_sm_t        sm;\t\t \n\tstruct bfa_timer_s timer;\n\tstruct bfa_fcs_lport_ms_s *ms;\t \n\tstruct bfa_fcxp_s *fcxp;\n\tstruct bfa_fcxp_wqe_s fcxp_wqe;\n\tu8\tretry_cnt;\t \n\tu8\trsvd[3];\n};\n\n\nstruct bfa_fcs_lport_ms_s {\n\tbfa_sm_t        sm;\t\t \n\tstruct bfa_timer_s timer;\n\tstruct bfa_fcs_lport_s *port;\t \n\tstruct bfa_fcxp_s *fcxp;\n\tstruct bfa_fcxp_wqe_s fcxp_wqe;\n\tstruct bfa_fcs_lport_fdmi_s fdmi;\t \n\tu8         retry_cnt;\t \n\tu8\trsvd[3];\n};\n\n\nstruct bfa_fcs_lport_fab_s {\n\tstruct bfa_fcs_lport_ns_s ns;\t \n\tstruct bfa_fcs_lport_scn_s scn;\t \n\tstruct bfa_fcs_lport_ms_s ms;\t \n};\n\n#define\tMAX_ALPA_COUNT\t127\n\nstruct bfa_fcs_lport_loop_s {\n\tu8\tnum_alpa;\t \n\tu8\talpabm_valid;\t \n\tu8\talpa_pos_map[MAX_ALPA_COUNT];  \n\tstruct bfa_fcs_lport_s *port;\t \n};\n\nstruct bfa_fcs_lport_n2n_s {\n\tu32        rsvd;\n\t__be16     reply_oxid;\t \n\twwn_t           rem_port_wwn;\t \n};\n\n\nunion bfa_fcs_lport_topo_u {\n\tstruct bfa_fcs_lport_fab_s pfab;\n\tstruct bfa_fcs_lport_loop_s ploop;\n\tstruct bfa_fcs_lport_n2n_s pn2n;\n};\n\n\nstruct bfa_fcs_lport_s {\n\tstruct list_head         qe;\t \n\tbfa_sm_t               sm;\t \n\tstruct bfa_fcs_fabric_s *fabric;\t \n\tstruct bfa_lport_cfg_s  port_cfg;\t \n\tstruct bfa_timer_s link_timer;\t \n\tu32        pid:24;\t \n\tu8         lp_tag;\t\t \n\tu16        num_rports;\t \n\tstruct list_head         rport_q;  \n\tstruct bfa_fcs_s *fcs;\t \n\tunion bfa_fcs_lport_topo_u port_topo;\t \n\tstruct bfad_port_s *bfad_port;\t \n\tstruct bfa_fcs_vport_s *vport;\t \n\tstruct bfa_fcxp_s *fcxp;\n\tstruct bfa_fcxp_wqe_s fcxp_wqe;\n\tstruct bfa_lport_stats_s stats;\n\tstruct bfa_wc_s        wc;\t \n};\n#define BFA_FCS_GET_HAL_FROM_PORT(port)  (port->fcs->bfa)\n#define BFA_FCS_GET_NS_FROM_PORT(port)  (&port->port_topo.pfab.ns)\n#define BFA_FCS_GET_SCN_FROM_PORT(port)  (&port->port_topo.pfab.scn)\n#define BFA_FCS_GET_MS_FROM_PORT(port)  (&port->port_topo.pfab.ms)\n#define BFA_FCS_GET_FDMI_FROM_PORT(port)  (&port->port_topo.pfab.ms.fdmi)\n#define\tBFA_FCS_VPORT_IS_INITIATOR_MODE(port) \\\n\t\t(port->port_cfg.roles & BFA_LPORT_ROLE_FCP_IM)\n\n \nstruct bfad_vf_s;\n\nenum bfa_fcs_fabric_type {\n\tBFA_FCS_FABRIC_UNKNOWN = 0,\n\tBFA_FCS_FABRIC_SWITCHED = 1,\n\tBFA_FCS_FABRIC_N2N = 2,\n\tBFA_FCS_FABRIC_LOOP = 3,\n};\n\n\nstruct bfa_fcs_fabric_s {\n\tstruct list_head   qe;\t\t \n\tbfa_sm_t\t sm;\t\t \n\tstruct bfa_fcs_s *fcs;\t\t \n\tstruct bfa_fcs_lport_s  bport;\t \n\tenum bfa_fcs_fabric_type fab_type;  \n\tenum bfa_port_type oper_type;\t \n\tu8         is_vf;\t\t \n\tu8         is_npiv;\t \n\tu8         is_auth;\t \n\tu16        bb_credit;\t \n\tu16        vf_id;\t\t \n\tu16        num_vports;\t \n\tu16        rsvd;\n\tstruct list_head         vport_q;\t \n\tstruct list_head         vf_q;\t \n\tstruct bfad_vf_s      *vf_drv;\t \n\tstruct bfa_timer_s link_timer;\t \n\twwn_t           fabric_name;\t \n\tbfa_boolean_t   auth_reqd;\t \n\tstruct bfa_timer_s delay_timer;\t \n\tunion {\n\t\tu16        swp_vfid; \n\t} event_arg;\n\tstruct bfa_wc_s        wc;\t \n\tstruct bfa_vf_stats_s\tstats;\t \n\tstruct bfa_lps_s\t*lps;\t \n\tu8\tfabric_ip_addr[BFA_FCS_FABRIC_IPADDR_SZ];\n\t\t\t\t\t \n\tstruct bfa_wc_s stop_wc;\t \n};\n\n#define bfa_fcs_fabric_npiv_capable(__f)    ((__f)->is_npiv)\n#define bfa_fcs_fabric_is_switched(__f)\t\t\t\\\n\t((__f)->fab_type == BFA_FCS_FABRIC_SWITCHED)\n\n \n#define bfa_fcs_vf_t struct bfa_fcs_fabric_s\n\nstruct bfa_vf_event_s {\n\tu32        undefined;\n};\n\n \n#define BFA_FCS_MAX_RPORTS_SUPP  256\t \n\n#define bfa_fcs_lport_t struct bfa_fcs_lport_s\n\n \n#define BFA_FCS_PORT_SYMBNAME_SEPARATOR\t\t\t\" | \"\n\n#define BFA_FCS_PORT_SYMBNAME_MODEL_SZ\t\t\t16\n#define BFA_FCS_PORT_SYMBNAME_VERSION_SZ\t\t10\n#define BFA_FCS_PORT_SYMBNAME_MACHINENAME_SZ\t\t30\n#define BFA_FCS_PORT_SYMBNAME_OSINFO_SZ\t\t\t44\n#define BFA_FCS_PORT_SYMBNAME_OSPATCH_SZ\t\t16\n\n \n#define bfa_fcs_lport_get_fcid(_lport)\t((_lport)->pid)\n#define bfa_fcs_lport_get_pwwn(_lport)\t((_lport)->port_cfg.pwwn)\n#define bfa_fcs_lport_get_nwwn(_lport)\t((_lport)->port_cfg.nwwn)\n#define bfa_fcs_lport_get_psym_name(_lport)\t((_lport)->port_cfg.sym_name)\n#define bfa_fcs_lport_get_nsym_name(_lport) ((_lport)->port_cfg.node_sym_name)\n#define bfa_fcs_lport_is_initiator(_lport)\t\t\t\\\n\t((_lport)->port_cfg.roles & BFA_LPORT_ROLE_FCP_IM)\n#define bfa_fcs_lport_get_nrports(_lport)\t\\\n\t((_lport) ? (_lport)->num_rports : 0)\n\nstatic inline struct bfad_port_s *\nbfa_fcs_lport_get_drvport(struct bfa_fcs_lport_s *port)\n{\n\treturn port->bfad_port;\n}\n\n#define bfa_fcs_lport_get_opertype(_lport)\t((_lport)->fabric->oper_type)\n#define bfa_fcs_lport_get_fabric_name(_lport)\t((_lport)->fabric->fabric_name)\n#define bfa_fcs_lport_get_fabric_ipaddr(_lport)\t\t\\\n\t\t((_lport)->fabric->fabric_ip_addr)\n\n \n\nbfa_boolean_t   bfa_fcs_lport_is_online(struct bfa_fcs_lport_s *port);\nstruct bfa_fcs_lport_s *bfa_fcs_get_base_port(struct bfa_fcs_s *fcs);\nvoid bfa_fcs_lport_get_rport_quals(struct bfa_fcs_lport_s *port,\n\t\t\tstruct bfa_rport_qualifier_s rport[], int *nrports);\nwwn_t bfa_fcs_lport_get_rport(struct bfa_fcs_lport_s *port, wwn_t wwn,\n\t\t\t      int index, int nrports, bfa_boolean_t bwwn);\n\nstruct bfa_fcs_lport_s *bfa_fcs_lookup_port(struct bfa_fcs_s *fcs,\n\t\t\t\t\t    u16 vf_id, wwn_t lpwwn);\n\nvoid bfa_fcs_lport_set_symname(struct bfa_fcs_lport_s *port, char *symname);\nvoid bfa_fcs_lport_get_info(struct bfa_fcs_lport_s *port,\n\t\t\t    struct bfa_lport_info_s *port_info);\nvoid bfa_fcs_lport_get_attr(struct bfa_fcs_lport_s *port,\n\t\t\t    struct bfa_lport_attr_s *port_attr);\nvoid bfa_fcs_lport_get_stats(struct bfa_fcs_lport_s *fcs_port,\n\t\t\t     struct bfa_lport_stats_s *port_stats);\nvoid bfa_fcs_lport_clear_stats(struct bfa_fcs_lport_s *fcs_port);\nenum bfa_port_speed bfa_fcs_lport_get_rport_max_speed(\n\t\t\tstruct bfa_fcs_lport_s *port);\n\n \nvoid bfa_fcs_lport_ms_init(struct bfa_fcs_lport_s *port);\nvoid bfa_fcs_lport_ms_offline(struct bfa_fcs_lport_s *port);\nvoid bfa_fcs_lport_ms_online(struct bfa_fcs_lport_s *port);\nvoid bfa_fcs_lport_ms_fabric_rscn(struct bfa_fcs_lport_s *port);\n\n \nvoid bfa_fcs_lport_fdmi_init(struct bfa_fcs_lport_ms_s *ms);\nvoid bfa_fcs_lport_fdmi_offline(struct bfa_fcs_lport_ms_s *ms);\nvoid bfa_fcs_lport_fdmi_online(struct bfa_fcs_lport_ms_s *ms);\nvoid bfa_fcs_lport_uf_recv(struct bfa_fcs_lport_s *lport, struct fchs_s *fchs,\n\t\t\t\t     u16 len);\nvoid bfa_fcs_lport_attach(struct bfa_fcs_lport_s *lport, struct bfa_fcs_s *fcs,\n\t\t\tu16 vf_id, struct bfa_fcs_vport_s *vport);\nvoid bfa_fcs_lport_init(struct bfa_fcs_lport_s *lport,\n\t\t\t\tstruct bfa_lport_cfg_s *port_cfg);\nvoid            bfa_fcs_lport_online(struct bfa_fcs_lport_s *port);\nvoid            bfa_fcs_lport_offline(struct bfa_fcs_lport_s *port);\nvoid            bfa_fcs_lport_delete(struct bfa_fcs_lport_s *port);\nvoid\t\tbfa_fcs_lport_stop(struct bfa_fcs_lport_s *port);\nstruct bfa_fcs_rport_s *bfa_fcs_lport_get_rport_by_pid(\n\t\tstruct bfa_fcs_lport_s *port, u32 pid);\nstruct bfa_fcs_rport_s *bfa_fcs_lport_get_rport_by_old_pid(\n\t\tstruct bfa_fcs_lport_s *port, u32 pid);\nstruct bfa_fcs_rport_s *bfa_fcs_lport_get_rport_by_pwwn(\n\t\tstruct bfa_fcs_lport_s *port, wwn_t pwwn);\nstruct bfa_fcs_rport_s *bfa_fcs_lport_get_rport_by_nwwn(\n\t\tstruct bfa_fcs_lport_s *port, wwn_t nwwn);\nstruct bfa_fcs_rport_s *bfa_fcs_lport_get_rport_by_qualifier(\n\t\tstruct bfa_fcs_lport_s *port, wwn_t pwwn, u32 pid);\nvoid            bfa_fcs_lport_add_rport(struct bfa_fcs_lport_s *port,\n\t\t\t\t       struct bfa_fcs_rport_s *rport);\nvoid            bfa_fcs_lport_del_rport(struct bfa_fcs_lport_s *port,\n\t\t\t\t       struct bfa_fcs_rport_s *rport);\nvoid            bfa_fcs_lport_ns_init(struct bfa_fcs_lport_s *vport);\nvoid            bfa_fcs_lport_ns_offline(struct bfa_fcs_lport_s *vport);\nvoid            bfa_fcs_lport_ns_online(struct bfa_fcs_lport_s *vport);\nvoid            bfa_fcs_lport_ns_query(struct bfa_fcs_lport_s *port);\nvoid\t\tbfa_fcs_lport_ns_util_send_rspn_id(void *cbarg,\n\t\t\t\tstruct bfa_fcxp_s *fcxp_alloced);\nvoid            bfa_fcs_lport_scn_init(struct bfa_fcs_lport_s *vport);\nvoid            bfa_fcs_lport_scn_offline(struct bfa_fcs_lport_s *vport);\nvoid            bfa_fcs_lport_fab_scn_online(struct bfa_fcs_lport_s *vport);\nvoid            bfa_fcs_lport_scn_process_rscn(struct bfa_fcs_lport_s *port,\n\t\t\t\t\t      struct fchs_s *rx_frame, u32 len);\nvoid\t\tbfa_fcs_lport_lip_scn_online(bfa_fcs_lport_t *port);\n\nstruct bfa_fcs_vport_s {\n\tstruct list_head\t\tqe;\t\t \n\tbfa_sm_t\t\tsm;\t\t \n\tbfa_fcs_lport_t\t\tlport;\t\t \n\tstruct bfa_timer_s\ttimer;\n\tstruct bfad_vport_s\t*vport_drv;\t \n\tstruct bfa_vport_stats_s vport_stats;\t \n\tstruct bfa_lps_s\t*lps;\t\t \n\tint\t\t\tfdisc_retries;\n};\n\n#define bfa_fcs_vport_get_port(vport)\t\t\t\\\n\t((struct bfa_fcs_lport_s  *)(&vport->port))\n\n \nbfa_status_t bfa_fcs_vport_create(struct bfa_fcs_vport_s *vport,\n\t\t\t\t  struct bfa_fcs_s *fcs, u16 vf_id,\n\t\t\t\t  struct bfa_lport_cfg_s *port_cfg,\n\t\t\t\t  struct bfad_vport_s *vport_drv);\nbfa_status_t bfa_fcs_pbc_vport_create(struct bfa_fcs_vport_s *vport,\n\t\t\t\t      struct bfa_fcs_s *fcs, u16 vf_id,\n\t\t\t\t      struct bfa_lport_cfg_s *port_cfg,\n\t\t\t\t      struct bfad_vport_s *vport_drv);\nbfa_boolean_t bfa_fcs_is_pbc_vport(struct bfa_fcs_vport_s *vport);\nbfa_status_t bfa_fcs_vport_delete(struct bfa_fcs_vport_s *vport);\nbfa_status_t bfa_fcs_vport_start(struct bfa_fcs_vport_s *vport);\nbfa_status_t bfa_fcs_vport_stop(struct bfa_fcs_vport_s *vport);\nvoid bfa_fcs_vport_get_attr(struct bfa_fcs_vport_s *vport,\n\t\t\t    struct bfa_vport_attr_s *vport_attr);\nstruct bfa_fcs_vport_s *bfa_fcs_vport_lookup(struct bfa_fcs_s *fcs,\n\t\t\t\t\t     u16 vf_id, wwn_t vpwwn);\nvoid bfa_fcs_vport_cleanup(struct bfa_fcs_vport_s *vport);\nvoid bfa_fcs_vport_online(struct bfa_fcs_vport_s *vport);\nvoid bfa_fcs_vport_offline(struct bfa_fcs_vport_s *vport);\nvoid bfa_fcs_vport_delete_comp(struct bfa_fcs_vport_s *vport);\nvoid bfa_fcs_vport_fcs_delete(struct bfa_fcs_vport_s *vport);\nvoid bfa_fcs_vport_fcs_stop(struct bfa_fcs_vport_s *vport);\nvoid bfa_fcs_vport_stop_comp(struct bfa_fcs_vport_s *vport);\n\n#define BFA_FCS_RPORT_DEF_DEL_TIMEOUT\t90\t \n#define BFA_FCS_RPORT_MAX_RETRIES\t(5)\n\n \nstruct bfad_rport_s;\n\nstruct bfa_fcs_itnim_s;\nstruct bfa_fcs_tin_s;\nstruct bfa_fcs_iprp_s;\n\n \nstruct bfa_fcs_rpf_s {\n\tbfa_sm_t\tsm;\t \n\tstruct bfa_fcs_rport_s *rport;\t \n\tstruct bfa_timer_s\ttimer;\t \n\tstruct bfa_fcxp_s\t*fcxp;\t \n\tstruct bfa_fcxp_wqe_s\tfcxp_wqe;  \n\tint\trpsc_retries;\t \n\tenum bfa_port_speed\trpsc_speed;\n\t \n\tenum bfa_port_speed\tassigned_speed;\n\t \n};\n\nstruct bfa_fcs_rport_s {\n\tstruct list_head\tqe;\t \n\tstruct bfa_fcs_lport_s *port;\t \n\tstruct bfa_fcs_s\t*fcs;\t \n\tstruct bfad_rport_s\t*rp_drv;\t \n\tu32\tpid;\t \n\tu32\told_pid;\t \n\tu16\tmaxfrsize;\t \n\t__be16\treply_oxid;\t \n\tenum fc_cos\tfc_cos;\t \n\tbfa_boolean_t\tcisc;\t \n\tbfa_boolean_t\tprlo;\t \n\tbfa_boolean_t\tplogi_pending;\t \n\twwn_t\tpwwn;\t \n\twwn_t\tnwwn;\t \n\tstruct bfa_rport_symname_s psym_name;  \n\tbfa_sm_t\tsm;\t\t \n\tstruct bfa_timer_s timer;\t \n\tstruct bfa_fcs_itnim_s *itnim;\t \n\tstruct bfa_fcs_tin_s *tin;\t \n\tstruct bfa_fcs_iprp_s *iprp;\t \n\tstruct bfa_rport_s *bfa_rport;\t \n\tstruct bfa_fcxp_s *fcxp;\t \n\tint\tplogi_retries;\t \n\tint\tns_retries;\t \n\tstruct bfa_fcxp_wqe_s\tfcxp_wqe;  \n\tstruct bfa_rport_stats_s stats;\t \n\tenum bfa_rport_function\tscsi_function;   \n\tstruct bfa_fcs_rpf_s rpf;\t \n\tbfa_boolean_t   scn_online;\t \n};\n\nstatic inline struct bfa_rport_s *\nbfa_fcs_rport_get_halrport(struct bfa_fcs_rport_s *rport)\n{\n\treturn rport->bfa_rport;\n}\n\n \nvoid bfa_fcs_rport_get_attr(struct bfa_fcs_rport_s *rport,\n\t\t\tstruct bfa_rport_attr_s *attr);\nstruct bfa_fcs_rport_s *bfa_fcs_rport_lookup(struct bfa_fcs_lport_s *port,\n\t\t\t\t\t     wwn_t rpwwn);\nstruct bfa_fcs_rport_s *bfa_fcs_rport_lookup_by_nwwn(\n\tstruct bfa_fcs_lport_s *port, wwn_t rnwwn);\nvoid bfa_fcs_rport_set_del_timeout(u8 rport_tmo);\nvoid bfa_fcs_rport_set_max_logins(u32 max_logins);\nvoid bfa_fcs_rport_uf_recv(struct bfa_fcs_rport_s *rport,\n\t struct fchs_s *fchs, u16 len);\nvoid bfa_fcs_rport_scn(struct bfa_fcs_rport_s *rport);\n\nstruct bfa_fcs_rport_s *bfa_fcs_rport_create(struct bfa_fcs_lport_s *port,\n\t u32 pid);\nvoid bfa_fcs_rport_start(struct bfa_fcs_lport_s *port, struct fchs_s *rx_fchs,\n\t\t\t struct fc_logi_s *plogi_rsp);\nvoid bfa_fcs_rport_plogi_create(struct bfa_fcs_lport_s *port,\n\t\t\t\tstruct fchs_s *rx_fchs,\n\t\t\t\tstruct fc_logi_s *plogi);\nvoid bfa_fcs_rport_plogi(struct bfa_fcs_rport_s *rport, struct fchs_s *fchs,\n\t\t\t struct fc_logi_s *plogi);\nvoid bfa_fcs_rport_prlo(struct bfa_fcs_rport_s *rport, __be16 ox_id);\n\nvoid bfa_fcs_rport_itntm_ack(struct bfa_fcs_rport_s *rport);\nvoid bfa_fcs_rport_fcptm_offline_done(struct bfa_fcs_rport_s *rport);\nint  bfa_fcs_rport_get_state(struct bfa_fcs_rport_s *rport);\nstruct bfa_fcs_rport_s *bfa_fcs_rport_create_by_wwn(\n\t\t\tstruct bfa_fcs_lport_s *port, wwn_t wwn);\nvoid  bfa_fcs_rpf_init(struct bfa_fcs_rport_s *rport);\nvoid  bfa_fcs_rpf_rport_online(struct bfa_fcs_rport_s *rport);\nvoid  bfa_fcs_rpf_rport_offline(struct bfa_fcs_rport_s *rport);\n\n \nstruct bfad_itnim_s;\n\nstruct bfa_fcs_itnim_s {\n\tbfa_sm_t\t\tsm;\t\t \n\tstruct bfa_fcs_rport_s\t*rport;\t\t \n\tstruct bfad_itnim_s\t*itnim_drv;\t \n\tstruct bfa_fcs_s\t*fcs;\t\t \n\tstruct bfa_timer_s\ttimer;\t\t \n\tstruct bfa_itnim_s\t*bfa_itnim;\t \n\tu32\t\tprli_retries;\t \n\tbfa_boolean_t\t\tseq_rec;\t \n\tbfa_boolean_t\t\trec_support;\t \n\tbfa_boolean_t\t\tconf_comp;\t \n\tbfa_boolean_t\t\ttask_retry_id;\t \n\tstruct bfa_fcxp_wqe_s\tfcxp_wqe;\t \n\tstruct bfa_fcxp_s\t*fcxp;\t\t \n\tstruct bfa_itnim_stats_s\tstats;\t \n};\n#define bfa_fcs_fcxp_alloc(__fcs, __req)\t\t\t\t\\\n\tbfa_fcxp_req_rsp_alloc(NULL, (__fcs)->bfa, 0, 0,\t\t\\\n\t\t\t       NULL, NULL, NULL, NULL, __req)\n#define bfa_fcs_fcxp_alloc_wait(__bfa, __wqe, __alloc_cbfn,\t\t\\\n\t\t\t\t__alloc_cbarg, __req)\t\t\t\\\n\tbfa_fcxp_req_rsp_alloc_wait(__bfa, __wqe, __alloc_cbfn,\t\t\\\n\t\t__alloc_cbarg, NULL, 0, 0, NULL, NULL, NULL, NULL, __req)\n\nstatic inline struct bfad_port_s *\nbfa_fcs_itnim_get_drvport(struct bfa_fcs_itnim_s *itnim)\n{\n\treturn itnim->rport->port->bfad_port;\n}\n\n\nstatic inline struct bfa_fcs_lport_s *\nbfa_fcs_itnim_get_port(struct bfa_fcs_itnim_s *itnim)\n{\n\treturn itnim->rport->port;\n}\n\n\nstatic inline wwn_t\nbfa_fcs_itnim_get_nwwn(struct bfa_fcs_itnim_s *itnim)\n{\n\treturn itnim->rport->nwwn;\n}\n\n\nstatic inline wwn_t\nbfa_fcs_itnim_get_pwwn(struct bfa_fcs_itnim_s *itnim)\n{\n\treturn itnim->rport->pwwn;\n}\n\n\nstatic inline u32\nbfa_fcs_itnim_get_fcid(struct bfa_fcs_itnim_s *itnim)\n{\n\treturn itnim->rport->pid;\n}\n\n\nstatic inline\tu32\nbfa_fcs_itnim_get_maxfrsize(struct bfa_fcs_itnim_s *itnim)\n{\n\treturn itnim->rport->maxfrsize;\n}\n\n\nstatic inline\tenum fc_cos\nbfa_fcs_itnim_get_cos(struct bfa_fcs_itnim_s *itnim)\n{\n\treturn itnim->rport->fc_cos;\n}\n\n\nstatic inline struct bfad_itnim_s *\nbfa_fcs_itnim_get_drvitn(struct bfa_fcs_itnim_s *itnim)\n{\n\treturn itnim->itnim_drv;\n}\n\n\nstatic inline struct bfa_itnim_s *\nbfa_fcs_itnim_get_halitn(struct bfa_fcs_itnim_s *itnim)\n{\n\treturn itnim->bfa_itnim;\n}\n\n \nvoid bfa_fcs_itnim_get_attr(struct bfa_fcs_itnim_s *itnim,\n\t\t\t    struct bfa_itnim_attr_s *attr);\nvoid bfa_fcs_itnim_get_stats(struct bfa_fcs_itnim_s *itnim,\n\t\t\t     struct bfa_itnim_stats_s *stats);\nstruct bfa_fcs_itnim_s *bfa_fcs_itnim_lookup(struct bfa_fcs_lport_s *port,\n\t\t\t\t\t     wwn_t rpwwn);\nbfa_status_t bfa_fcs_itnim_attr_get(struct bfa_fcs_lport_s *port, wwn_t rpwwn,\n\t\t\t\t    struct bfa_itnim_attr_s *attr);\nbfa_status_t bfa_fcs_itnim_stats_get(struct bfa_fcs_lport_s *port, wwn_t rpwwn,\n\t\t\t\t     struct bfa_itnim_stats_s *stats);\nbfa_status_t bfa_fcs_itnim_stats_clear(struct bfa_fcs_lport_s *port,\n\t\t\t\t       wwn_t rpwwn);\nstruct bfa_fcs_itnim_s *bfa_fcs_itnim_create(struct bfa_fcs_rport_s *rport);\nvoid bfa_fcs_itnim_delete(struct bfa_fcs_itnim_s *itnim);\nvoid bfa_fcs_itnim_rport_offline(struct bfa_fcs_itnim_s *itnim);\nvoid bfa_fcs_itnim_brp_online(struct bfa_fcs_itnim_s *itnim);\nbfa_status_t bfa_fcs_itnim_get_online_state(struct bfa_fcs_itnim_s *itnim);\nvoid bfa_fcs_itnim_is_initiator(struct bfa_fcs_itnim_s *itnim);\nvoid bfa_fcs_fcpim_uf_recv(struct bfa_fcs_itnim_s *itnim,\n\t\t\tstruct fchs_s *fchs, u16 len);\n\n#define BFA_FCS_FDMI_SUPP_SPEEDS_4G\t(FDMI_TRANS_SPEED_1G  |\t\\\n\t\t\t\tFDMI_TRANS_SPEED_2G |\t\t\\\n\t\t\t\tFDMI_TRANS_SPEED_4G)\n\n#define BFA_FCS_FDMI_SUPP_SPEEDS_8G\t(FDMI_TRANS_SPEED_1G  |\t\\\n\t\t\t\tFDMI_TRANS_SPEED_2G |\t\t\\\n\t\t\t\tFDMI_TRANS_SPEED_4G |\t\t\\\n\t\t\t\tFDMI_TRANS_SPEED_8G)\n\n#define BFA_FCS_FDMI_SUPP_SPEEDS_16G\t(FDMI_TRANS_SPEED_2G  |\t\\\n\t\t\t\tFDMI_TRANS_SPEED_4G |\t\t\\\n\t\t\t\tFDMI_TRANS_SPEED_8G |\t\t\\\n\t\t\t\tFDMI_TRANS_SPEED_16G)\n\n#define BFA_FCS_FDMI_SUPP_SPEEDS_10G\tFDMI_TRANS_SPEED_10G\n\n#define BFA_FCS_FDMI_VENDOR_INFO_LEN    8\n#define BFA_FCS_FDMI_FC4_TYPE_LEN       32\n\n \nstruct bfa_fcs_fdmi_hba_attr_s {\n\twwn_t           node_name;\n\tu8         manufacturer[64];\n\tu8         serial_num[64];\n\tu8         model[16];\n\tu8         model_desc[128];\n\tu8         hw_version[8];\n\tu8         driver_version[BFA_VERSION_LEN];\n\tu8         option_rom_ver[BFA_VERSION_LEN];\n\tu8         fw_version[BFA_VERSION_LEN];\n\tu8         os_name[256];\n\t__be32        max_ct_pyld;\n\tstruct      bfa_lport_symname_s node_sym_name;\n\tu8     vendor_info[BFA_FCS_FDMI_VENDOR_INFO_LEN];\n\t__be32    num_ports;\n\twwn_t       fabric_name;\n\tu8     bios_ver[BFA_VERSION_LEN];\n};\n\n \nstruct bfa_fcs_fdmi_port_attr_s {\n\tu8         supp_fc4_types[BFA_FCS_FDMI_FC4_TYPE_LEN];\n\t__be32        supp_speed;\t \n\t__be32        curr_speed;\t \n\t__be32        max_frm_size;\t \n\tu8         os_device_name[256];\t \n\tu8         host_name[256];\t \n\twwn_t       port_name;\n\twwn_t       node_name;\n\tstruct      bfa_lport_symname_s port_sym_name;\n\t__be32    port_type;\n\tenum fc_cos    scos;\n\twwn_t       port_fabric_name;\n\tu8     port_act_fc4_type[BFA_FCS_FDMI_FC4_TYPE_LEN];\n\t__be32    port_state;\n\t__be32    num_ports;\n};\n\nstruct bfa_fcs_stats_s {\n\tstruct {\n\t\tu32\tuntagged;  \n\t\tu32\ttagged;\t \n\t\tu32\tvfid_unknown;\t \n\t} uf;\n};\n\nstruct bfa_fcs_driver_info_s {\n\tu8\t version[BFA_VERSION_LEN];\t\t \n\tu8\t host_machine_name[BFA_FCS_OS_STR_LEN];\n\tu8\t host_os_name[BFA_FCS_OS_STR_LEN];  \n\tu8\t host_os_patch[BFA_FCS_OS_STR_LEN];  \n\tu8\t os_device_name[BFA_FCS_OS_STR_LEN];  \n};\n\nstruct bfa_fcs_s {\n\tstruct bfa_s\t  *bfa;\t \n\tstruct bfad_s\t      *bfad;  \n\tstruct bfa_trc_mod_s  *trcmod;\t \n\tbfa_boolean_t\tvf_enabled;\t \n\tbfa_boolean_t\tfdmi_enabled;\t \n\tbfa_boolean_t min_cfg;\t\t \n\tu16\tport_vfid;\t \n\tstruct bfa_fcs_driver_info_s driver_info;\n\tstruct bfa_fcs_fabric_s fabric;  \n\tstruct bfa_fcs_stats_s\tstats;\t \n\tstruct bfa_wc_s\t\twc;\t \n\tint\t\t\tfcs_aen_seq;\n\tu32\t\tnum_rport_logins;\n};\n\n \n\n \nenum bfa_fcs_fabric_event {\n\tBFA_FCS_FABRIC_SM_CREATE        = 1,     \n\tBFA_FCS_FABRIC_SM_DELETE        = 2,     \n\tBFA_FCS_FABRIC_SM_LINK_DOWN     = 3,     \n\tBFA_FCS_FABRIC_SM_LINK_UP       = 4,     \n\tBFA_FCS_FABRIC_SM_CONT_OP       = 5,     \n\tBFA_FCS_FABRIC_SM_RETRY_OP      = 6,     \n\tBFA_FCS_FABRIC_SM_NO_FABRIC     = 7,     \n\tBFA_FCS_FABRIC_SM_PERF_EVFP     = 8,     \n\tBFA_FCS_FABRIC_SM_ISOLATE       = 9,     \n\tBFA_FCS_FABRIC_SM_NO_TAGGING    = 10,    \n\tBFA_FCS_FABRIC_SM_DELAYED       = 11,    \n\tBFA_FCS_FABRIC_SM_AUTH_FAILED   = 12,    \n\tBFA_FCS_FABRIC_SM_AUTH_SUCCESS  = 13,    \n\tBFA_FCS_FABRIC_SM_DELCOMP       = 14,    \n\tBFA_FCS_FABRIC_SM_LOOPBACK      = 15,    \n\tBFA_FCS_FABRIC_SM_START         = 16,    \n\tBFA_FCS_FABRIC_SM_STOP\t\t= 17,\t \n\tBFA_FCS_FABRIC_SM_STOPCOMP\t= 18,\t \n\tBFA_FCS_FABRIC_SM_LOGOCOMP\t= 19,\t \n};\n\n \n\nenum rport_event {\n\tRPSM_EVENT_PLOGI_SEND   = 1,     \n\tRPSM_EVENT_PLOGI_RCVD   = 2,     \n\tRPSM_EVENT_PLOGI_COMP   = 3,     \n\tRPSM_EVENT_LOGO_RCVD    = 4,     \n\tRPSM_EVENT_LOGO_IMP     = 5,     \n\tRPSM_EVENT_FCXP_SENT    = 6,     \n\tRPSM_EVENT_DELETE       = 7,     \n\tRPSM_EVENT_FAB_SCN\t= 8,     \n\tRPSM_EVENT_ACCEPTED     = 9,     \n\tRPSM_EVENT_FAILED       = 10,    \n\tRPSM_EVENT_TIMEOUT      = 11,    \n\tRPSM_EVENT_HCB_ONLINE  = 12,     \n\tRPSM_EVENT_HCB_OFFLINE = 13,     \n\tRPSM_EVENT_FC4_OFFLINE = 14,     \n\tRPSM_EVENT_ADDRESS_CHANGE = 15,  \n\tRPSM_EVENT_ADDRESS_DISC = 16,    \n\tRPSM_EVENT_PRLO_RCVD   = 17,     \n\tRPSM_EVENT_PLOGI_RETRY = 18,     \n\tRPSM_EVENT_SCN_OFFLINE = 19,\t \n\tRPSM_EVENT_SCN_ONLINE   = 20,\t \n\tRPSM_EVENT_FC4_FCS_ONLINE = 21,  \n};\n\n \nenum bfa_fcs_itnim_event {\n\tBFA_FCS_ITNIM_SM_FCS_ONLINE = 1,         \n\tBFA_FCS_ITNIM_SM_OFFLINE = 2,    \n\tBFA_FCS_ITNIM_SM_FRMSENT = 3,    \n\tBFA_FCS_ITNIM_SM_RSP_OK = 4,     \n\tBFA_FCS_ITNIM_SM_RSP_ERROR = 5,  \n\tBFA_FCS_ITNIM_SM_TIMEOUT = 6,    \n\tBFA_FCS_ITNIM_SM_HCB_OFFLINE = 7,  \n\tBFA_FCS_ITNIM_SM_HCB_ONLINE = 8,  \n\tBFA_FCS_ITNIM_SM_INITIATOR = 9,  \n\tBFA_FCS_ITNIM_SM_DELETE = 10,    \n\tBFA_FCS_ITNIM_SM_PRLO = 11,      \n\tBFA_FCS_ITNIM_SM_RSP_NOT_SUPP = 12,  \n\tBFA_FCS_ITNIM_SM_HAL_ONLINE = 13,  \n};\n\n \nvoid bfa_fcs_attach(struct bfa_fcs_s *fcs, struct bfa_s *bfa,\n\t\t    struct bfad_s *bfad,\n\t\t    bfa_boolean_t min_cfg);\nvoid bfa_fcs_init(struct bfa_fcs_s *fcs);\nvoid bfa_fcs_pbc_vport_init(struct bfa_fcs_s *fcs);\nvoid bfa_fcs_update_cfg(struct bfa_fcs_s *fcs);\nvoid bfa_fcs_driver_info_init(struct bfa_fcs_s *fcs,\n\t\t\t      struct bfa_fcs_driver_info_s *driver_info);\nvoid bfa_fcs_exit(struct bfa_fcs_s *fcs);\nvoid bfa_fcs_stop(struct bfa_fcs_s *fcs);\n\n \nbfa_fcs_vf_t *bfa_fcs_vf_lookup(struct bfa_fcs_s *fcs, u16 vf_id);\nvoid bfa_fcs_vf_get_ports(bfa_fcs_vf_t *vf, wwn_t vpwwn[], int *nports);\n\n \nvoid bfa_fcs_fabric_modinit(struct bfa_fcs_s *fcs);\nvoid bfa_fcs_fabric_link_up(struct bfa_fcs_fabric_s *fabric);\nvoid bfa_fcs_fabric_link_down(struct bfa_fcs_fabric_s *fabric);\nvoid bfa_fcs_fabric_addvport(struct bfa_fcs_fabric_s *fabric,\n\tstruct bfa_fcs_vport_s *vport);\nvoid bfa_fcs_fabric_delvport(struct bfa_fcs_fabric_s *fabric,\n\tstruct bfa_fcs_vport_s *vport);\nstruct bfa_fcs_vport_s *bfa_fcs_fabric_vport_lookup(\n\t\tstruct bfa_fcs_fabric_s *fabric, wwn_t pwwn);\nvoid bfa_fcs_fabric_modstart(struct bfa_fcs_s *fcs);\nvoid bfa_fcs_fabric_uf_recv(struct bfa_fcs_fabric_s *fabric,\n\t\tstruct fchs_s *fchs, u16 len);\nvoid\tbfa_fcs_fabric_psymb_init(struct bfa_fcs_fabric_s *fabric);\nvoid\tbfa_fcs_fabric_nsymb_init(struct bfa_fcs_fabric_s *fabric);\nvoid bfa_fcs_fabric_set_fabric_name(struct bfa_fcs_fabric_s *fabric,\n\t       wwn_t fabric_name);\nu16 bfa_fcs_fabric_get_switch_oui(struct bfa_fcs_fabric_s *fabric);\nvoid bfa_fcs_fabric_modstop(struct bfa_fcs_s *fcs);\nvoid bfa_fcs_fabric_sm_online(struct bfa_fcs_fabric_s *fabric,\n\t\t\tenum bfa_fcs_fabric_event event);\nvoid bfa_fcs_fabric_sm_loopback(struct bfa_fcs_fabric_s *fabric,\n\t\t\tenum bfa_fcs_fabric_event event);\nvoid bfa_fcs_fabric_sm_auth_failed(struct bfa_fcs_fabric_s *fabric,\n\t\t\tenum bfa_fcs_fabric_event event);\n\n \n\n \n\nstruct bfad_port_s;\nstruct bfad_vf_s;\nstruct bfad_vport_s;\nstruct bfad_rport_s;\n\n \nstruct bfad_port_s *bfa_fcb_lport_new(struct bfad_s *bfad,\n\t\t\t\t      struct bfa_fcs_lport_s *port,\n\t\t\t\t      enum bfa_lport_role roles,\n\t\t\t\t      struct bfad_vf_s *vf_drv,\n\t\t\t\t      struct bfad_vport_s *vp_drv);\n\n \nvoid bfa_fcb_pbc_vport_create(struct bfad_s *bfad, struct bfi_pbc_vport_s);\n\n \nbfa_status_t bfa_fcb_rport_alloc(struct bfad_s *bfad,\n\t\t\t\t struct bfa_fcs_rport_s **rport,\n\t\t\t\t struct bfad_rport_s **rport_drv);\n\n \nint bfa_fcb_itnim_alloc(struct bfad_s *bfad, struct bfa_fcs_itnim_s **itnim,\n\t\t\tstruct bfad_itnim_s **itnim_drv);\nvoid bfa_fcb_itnim_free(struct bfad_s *bfad,\n\t\t\tstruct bfad_itnim_s *itnim_drv);\nvoid bfa_fcb_itnim_online(struct bfad_itnim_s *itnim_drv);\nvoid bfa_fcb_itnim_offline(struct bfad_itnim_s *itnim_drv);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}