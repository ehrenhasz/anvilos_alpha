{
  "module_name": "bfa_svc.h",
  "hash_id": "589ad21c359bafb50f110160ca573f34fdf84fa5faa78dd1b5c473adcaf5c92c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/bfa/bfa_svc.h",
  "human_readable_source": " \n \n\n#ifndef __BFA_SVC_H__\n#define __BFA_SVC_H__\n\n#include \"bfa_cs.h\"\n#include \"bfi_ms.h\"\n\n\n \n#define BFA_SGPG_MIN\t(16)\n#define BFA_SGPG_MAX\t(8192)\n\n \n#define BFA_SGPG_ROUNDUP(_l) (((_l) + (sizeof(struct bfi_sgpg_s) - 1))\t\\\n\t\t\t      & ~(sizeof(struct bfi_sgpg_s) - 1))\n\nstruct bfa_sgpg_wqe_s {\n\tstruct list_head qe;\t \n\tint\tnsgpg;\t\t \n\tint\tnsgpg_total;\t \n\tvoid\t(*cbfn) (void *cbarg);\t \n\tvoid\t*cbarg;\t\t \n\tstruct list_head sgpg_q;\t \n};\n\nstruct bfa_sgpg_s {\n\tstruct list_head  qe;\t \n\tstruct bfi_sgpg_s *sgpg;\t \n\tunion bfi_addr_u sgpg_pa;\t \n};\n\n \n#define BFA_SGPG_NPAGE(_nsges)  (((_nsges) / BFI_SGPG_DATA_SGES) + 1)\n\n \n#define BFA_SGPG_DMA_SEGS\t\\\n\tBFI_MEM_DMA_NSEGS(BFA_SGPG_MAX, (uint32_t)sizeof(struct bfi_sgpg_s))\n\nstruct bfa_sgpg_mod_s {\n\tstruct bfa_s *bfa;\n\tint\t\tnum_sgpgs;\t \n\tint\t\tfree_sgpgs;\t \n\tstruct list_head\tsgpg_q;\t\t \n\tstruct list_head\tsgpg_wait_q;\t \n\tstruct bfa_mem_dma_s\tdma_seg[BFA_SGPG_DMA_SEGS];\n\tstruct bfa_mem_kva_s\tkva_seg;\n};\n#define BFA_SGPG_MOD(__bfa)\t(&(__bfa)->modules.sgpg_mod)\n#define BFA_MEM_SGPG_KVA(__bfa) (&(BFA_SGPG_MOD(__bfa)->kva_seg))\n\nbfa_status_t bfa_sgpg_malloc(struct bfa_s *bfa, struct list_head *sgpg_q,\n\t\t\t     int nsgpgs);\nvoid bfa_sgpg_mfree(struct bfa_s *bfa, struct list_head *sgpg_q, int nsgpgs);\nvoid bfa_sgpg_winit(struct bfa_sgpg_wqe_s *wqe,\n\t\t    void (*cbfn) (void *cbarg), void *cbarg);\nvoid bfa_sgpg_wait(struct bfa_s *bfa, struct bfa_sgpg_wqe_s *wqe, int nsgpgs);\nvoid bfa_sgpg_wcancel(struct bfa_s *bfa, struct bfa_sgpg_wqe_s *wqe);\n\n\n \n#define BFA_FCXP_MIN\t\t(1)\n#define BFA_FCXP_MAX\t\t(256)\n#define BFA_FCXP_MAX_IBUF_SZ\t(2 * 1024 + 256)\n#define BFA_FCXP_MAX_LBUF_SZ\t(4 * 1024 + 256)\n\n \n#define BFA_FCXP_DMA_SEGS\t\t\t\t\t\t\\\n\tBFI_MEM_DMA_NSEGS(BFA_FCXP_MAX,\t\t\t\t\t\\\n\t\t(u32)BFA_FCXP_MAX_IBUF_SZ + BFA_FCXP_MAX_LBUF_SZ)\n\nstruct bfa_fcxp_mod_s {\n\tstruct bfa_s      *bfa;\t\t \n\tstruct bfa_fcxp_s *fcxp_list;\t \n\tu16\tnum_fcxps;\t \n\tstruct list_head fcxp_req_free_q;  \n\tstruct list_head fcxp_rsp_free_q;  \n\tstruct list_head fcxp_active_q;\t \n\tstruct list_head req_wait_q;\t \n\tstruct list_head rsp_wait_q;\t \n\tstruct list_head fcxp_req_unused_q;\t \n\tstruct list_head fcxp_rsp_unused_q;\t \n\tu32\treq_pld_sz;\n\tu32\trsp_pld_sz;\n\tstruct bfa_mem_dma_s dma_seg[BFA_FCXP_DMA_SEGS];\n\tstruct bfa_mem_kva_s kva_seg;\n};\n\n#define BFA_FCXP_MOD(__bfa)\t\t(&(__bfa)->modules.fcxp_mod)\n#define BFA_FCXP_FROM_TAG(__mod, __tag)\t(&(__mod)->fcxp_list[__tag])\n#define BFA_MEM_FCXP_KVA(__bfa) (&(BFA_FCXP_MOD(__bfa)->kva_seg))\n\ntypedef void    (*fcxp_send_cb_t) (struct bfa_s *ioc, struct bfa_fcxp_s *fcxp,\n\t\t\t\t   void *cb_arg, bfa_status_t req_status,\n\t\t\t\t   u32 rsp_len, u32 resid_len,\n\t\t\t\t   struct fchs_s *rsp_fchs);\n\ntypedef u64 (*bfa_fcxp_get_sgaddr_t) (void *bfad_fcxp, int sgeid);\ntypedef u32 (*bfa_fcxp_get_sglen_t) (void *bfad_fcxp, int sgeid);\ntypedef void (*bfa_cb_fcxp_send_t) (void *bfad_fcxp, struct bfa_fcxp_s *fcxp,\n\t\t\t\t    void *cbarg, enum bfa_status req_status,\n\t\t\t\t    u32 rsp_len, u32 resid_len,\n\t\t\t\t    struct fchs_s *rsp_fchs);\ntypedef void (*bfa_fcxp_alloc_cbfn_t) (void *cbarg, struct bfa_fcxp_s *fcxp);\n\n\n\n \nstruct bfa_fcxp_req_info_s {\n\tstruct bfa_rport_s *bfa_rport;\n\t\t\t\t\t \n\tstruct fchs_s\tfchs;\t \n\tu8\t\tcts;\t \n\tu8\t\tclass;\t \n\tu16\tmax_frmsz;\t \n\tu16\tvf_id;\t \n\tu8\t\tlp_tag;\t \n\tu32\treq_tot_len;\t \n};\n\nstruct bfa_fcxp_rsp_info_s {\n\tstruct fchs_s\trsp_fchs;\n\t\t\t\t \n\tu8\t\trsp_timeout;\n\t\t\t\t \n\tu8\t\trsvd2[3];\n\tu32\trsp_maxlen;\t \n};\n\nstruct bfa_fcxp_s {\n\tstruct list_head\tqe;\t\t \n\tbfa_sm_t\tsm;\t\t \n\tvoid\t\t*caller;\t \n\tstruct bfa_fcxp_mod_s *fcxp_mod;\n\t \n\tu16\tfcxp_tag;\t \n\tstruct bfa_fcxp_req_info_s req_info;\n\t \n\tstruct bfa_fcxp_rsp_info_s rsp_info;\n\t \n\tu8\tuse_ireqbuf;\t \n\tu8\t\tuse_irspbuf;\t \n\tu32\tnreq_sgles;\t \n\tu32\tnrsp_sgles;\t \n\tstruct list_head req_sgpg_q;\t \n\tstruct list_head req_sgpg_wqe;\t \n\tstruct list_head rsp_sgpg_q;\t \n\tstruct list_head rsp_sgpg_wqe;\t \n\n\tbfa_fcxp_get_sgaddr_t req_sga_cbfn;\n\t \n\tbfa_fcxp_get_sglen_t req_sglen_cbfn;\n\t \n\tbfa_fcxp_get_sgaddr_t rsp_sga_cbfn;\n\t \n\tbfa_fcxp_get_sglen_t rsp_sglen_cbfn;\n\t \n\tbfa_cb_fcxp_send_t send_cbfn;    \n\tvoid\t\t*send_cbarg;\t \n\tstruct bfa_sge_s   req_sge[BFA_FCXP_MAX_SGES];\n\t \n\tstruct bfa_sge_s   rsp_sge[BFA_FCXP_MAX_SGES];\n\t \n\tu8\t\trsp_status;\t \n\tu32\trsp_len;\t \n\tu32\tresidue_len;\t \n\tstruct fchs_s\trsp_fchs;\t \n\tstruct bfa_cb_qe_s    hcb_qe;\t \n\tstruct bfa_reqq_wait_s\treqq_wqe;\n\tbfa_boolean_t\treqq_waiting;\n\tbfa_boolean_t\treq_rsp;\t \n};\n\nstruct bfa_fcxp_wqe_s {\n\tstruct list_head\t\tqe;\n\tbfa_fcxp_alloc_cbfn_t\talloc_cbfn;\n\tvoid\t\t*alloc_cbarg;\n\tvoid\t\t*caller;\n\tstruct bfa_s\t*bfa;\n\tint\t\tnreq_sgles;\n\tint\t\tnrsp_sgles;\n\tbfa_fcxp_get_sgaddr_t\treq_sga_cbfn;\n\tbfa_fcxp_get_sglen_t\treq_sglen_cbfn;\n\tbfa_fcxp_get_sgaddr_t\trsp_sga_cbfn;\n\tbfa_fcxp_get_sglen_t\trsp_sglen_cbfn;\n};\n\n#define BFA_FCXP_REQ_PLD(_fcxp)\t\t(bfa_fcxp_get_reqbuf(_fcxp))\n#define BFA_FCXP_RSP_FCHS(_fcxp)\t(&((_fcxp)->rsp_info.fchs))\n#define BFA_FCXP_RSP_PLD(_fcxp)\t\t(bfa_fcxp_get_rspbuf(_fcxp))\n\n#define BFA_FCXP_REQ_PLD_PA(_fcxp)\t\t\t\t\t      \\\n\tbfa_mem_get_dmabuf_pa((_fcxp)->fcxp_mod, (_fcxp)->fcxp_tag,\t      \\\n\t\t(_fcxp)->fcxp_mod->req_pld_sz + (_fcxp)->fcxp_mod->rsp_pld_sz)\n\n \n#define BFA_FCXP_RSP_PLD_PA(_fcxp)\t\t\t\t\t       \\\n\t(bfa_mem_get_dmabuf_pa((_fcxp)->fcxp_mod, (_fcxp)->fcxp_tag,\t       \\\n\t      (_fcxp)->fcxp_mod->req_pld_sz + (_fcxp)->fcxp_mod->rsp_pld_sz) + \\\n\t      (_fcxp)->fcxp_mod->req_pld_sz)\n\nvoid\tbfa_fcxp_isr(struct bfa_s *bfa, struct bfi_msg_s *msg);\n\n\n \nenum bfa_rport_event {\n\tBFA_RPORT_SM_CREATE\t= 1,\t \n\tBFA_RPORT_SM_DELETE\t= 2,\t \n\tBFA_RPORT_SM_ONLINE\t= 3,\t \n\tBFA_RPORT_SM_OFFLINE\t= 4,\t \n\tBFA_RPORT_SM_FWRSP\t= 5,\t \n\tBFA_RPORT_SM_HWFAIL\t= 6,\t \n\tBFA_RPORT_SM_QOS_SCN\t= 7,\t \n\tBFA_RPORT_SM_SET_SPEED\t= 8,\t \n\tBFA_RPORT_SM_QRESUME\t= 9,\t \n};\n\n#define BFA_RPORT_MIN\t4\n\nstruct bfa_rport_mod_s {\n\tstruct bfa_rport_s *rps_list;\t \n\tstruct list_head\trp_free_q;\t \n\tstruct list_head\trp_active_q;\t \n\tstruct list_head\trp_unused_q;\t \n\tu16\tnum_rports;\t \n\tstruct bfa_mem_kva_s\tkva_seg;\n};\n\n#define BFA_RPORT_MOD(__bfa)\t(&(__bfa)->modules.rport_mod)\n#define BFA_MEM_RPORT_KVA(__bfa) (&(BFA_RPORT_MOD(__bfa)->kva_seg))\n\n \n#define BFA_RPORT_FROM_TAG(__bfa, _tag)\t\t\t\t\\\n\t(BFA_RPORT_MOD(__bfa)->rps_list +\t\t\t\\\n\t ((_tag) & (BFA_RPORT_MOD(__bfa)->num_rports - 1)))\n\n \nvoid\tbfa_rport_isr(struct bfa_s *bfa, struct bfi_msg_s *msg);\nvoid\tbfa_rport_res_recfg(struct bfa_s *bfa, u16 num_rport_fw);\n\n \nstruct bfa_rport_info_s {\n\tu16\tmax_frmsz;\t \n\tu32\tpid:24,\t \n\t\tlp_tag:8;\t \n\tu32\tlocal_pid:24,\t \n\t\tcisc:8;\t \n\tu8\tfc_class;\t \n\tu8\tvf_en;\t\t \n\tu16\tvf_id;\t\t \n\tenum bfa_port_speed speed;\t \n};\n\n \nstruct bfa_rport_s {\n\tstruct list_head\tqe;\t \n\tbfa_sm_t\tsm;\t\t \n\tstruct bfa_s\t*bfa;\t\t \n\tvoid\t\t*rport_drv;\t \n\tu16\tfw_handle;\t \n\tu16\trport_tag;\t \n\tu8\tlun_mask;\t \n\tstruct bfa_rport_info_s rport_info;  \n\tstruct bfa_reqq_wait_s reqq_wait;  \n\tstruct bfa_cb_qe_s hcb_qe;\t \n\tstruct bfa_rport_hal_stats_s stats;  \n\tstruct bfa_rport_qos_attr_s qos_attr;\n\tunion a {\n\t\tbfa_status_t\tstatus;\t \n\t\tvoid\t\t*fw_msg;  \n\t} event_arg;\n};\n#define BFA_RPORT_FC_COS(_rport)\t((_rport)->rport_info.fc_class)\n\n\n \n\n#define BFA_UF_MIN\t(4)\n#define BFA_UF_MAX\t(256)\n\nstruct bfa_uf_s {\n\tstruct list_head\tqe;\t \n\tstruct bfa_s\t\t*bfa;\t \n\tu16\tuf_tag;\t\t \n\tu16\tvf_id;\n\tu16\tsrc_rport_handle;\n\tu16\trsvd;\n\tu8\t\t*data_ptr;\n\tu16\tdata_len;\t \n\tu16\tpb_len;\t\t \n\tvoid\t\t*buf_kva;\t \n\tu64\tbuf_pa;\t\t \n\tstruct bfa_cb_qe_s hcb_qe;\t \n\tstruct bfa_sge_s sges[BFI_SGE_INLINE_MAX];\n};\n\n \ntypedef void (*bfa_cb_uf_recv_t) (void *cbarg, struct bfa_uf_s *uf);\n\n#define BFA_UF_BUFSZ\t(2 * 1024 + 256)\n\nstruct bfa_uf_buf_s {\n\tu8\td[BFA_UF_BUFSZ];\n};\n\n#define BFA_PER_UF_DMA_SZ\t\\\n\t(u32)BFA_ROUNDUP(sizeof(struct bfa_uf_buf_s), BFA_DMA_ALIGN_SZ)\n\n \n#define BFA_UF_DMA_SEGS BFI_MEM_DMA_NSEGS(BFA_UF_MAX, BFA_PER_UF_DMA_SZ)\n\nstruct bfa_uf_mod_s {\n\tstruct bfa_s *bfa;\t\t \n\tstruct bfa_uf_s *uf_list;\t \n\tu16\tnum_ufs;\t \n\tstruct list_head\tuf_free_q;\t \n\tstruct list_head\tuf_posted_q;\t \n\tstruct list_head\tuf_unused_q;\t \n\tstruct bfi_uf_buf_post_s *uf_buf_posts;\n\t \n\tbfa_cb_uf_recv_t ufrecv;\t \n\tvoid\t\t*cbarg;\t\t \n\tstruct bfa_mem_dma_s\tdma_seg[BFA_UF_DMA_SEGS];\n\tstruct bfa_mem_kva_s\tkva_seg;\n};\n\n#define BFA_UF_MOD(__bfa)\t(&(__bfa)->modules.uf_mod)\n#define BFA_MEM_UF_KVA(__bfa)\t(&(BFA_UF_MOD(__bfa)->kva_seg))\n\n#define ufm_pbs_pa(_ufmod, _uftag)\t\t\t\t\t\\\n\tbfa_mem_get_dmabuf_pa(_ufmod, _uftag, BFA_PER_UF_DMA_SZ)\n\nvoid\tbfa_uf_isr(struct bfa_s *bfa, struct bfi_msg_s *msg);\nvoid\tbfa_uf_res_recfg(struct bfa_s *bfa, u16 num_uf_fw);\n\n \nstruct bfa_lps_s {\n\tstruct list_head\tqe;\t \n\tstruct bfa_s\t*bfa;\t\t \n\tbfa_sm_t\tsm;\t\t \n\tu8\t\tbfa_tag;\t \n\tu8\t\tfw_tag;\t\t \n\tu8\t\treqq;\t\t \n\tu8\t\talpa;\t\t \n\tu32\tlp_pid;\t\t \n\tbfa_boolean_t\tfdisc;\t\t \n\tbfa_boolean_t\tauth_en;\t \n\tbfa_boolean_t\tauth_req;\t \n\tbfa_boolean_t\tnpiv_en;\t \n\tbfa_boolean_t\tfport;\t\t \n\tbfa_boolean_t\tbrcd_switch;\t \n\tbfa_status_t\tstatus;\t\t \n\tu16\t\tpdusz;\t\t \n\tu16\t\tpr_bbcred;\t \n\tu8\t\tlsrjt_rsn;\t \n\tu8\t\tlsrjt_expl;\t \n\tu8\t\tlun_mask;\t \n\twwn_t\t\tpwwn;\t\t \n\twwn_t\t\tnwwn;\t\t \n\twwn_t\t\tpr_pwwn;\t \n\twwn_t\t\tpr_nwwn;\t \n\tmac_t\t\tlp_mac;\t\t \n\tmac_t\t\tfcf_mac;\t \n\tstruct bfa_reqq_wait_s\twqe;\t \n\tvoid\t\t*uarg;\t\t \n\tstruct bfa_cb_qe_s hcb_qe;\t \n\tstruct bfi_lps_login_rsp_s *loginrsp;\n\tbfa_eproto_status_t ext_status;\n};\n\nstruct bfa_lps_mod_s {\n\tstruct list_head\t\tlps_free_q;\n\tstruct list_head\t\tlps_active_q;\n\tstruct list_head\t\tlps_login_q;\n\tstruct bfa_lps_s\t*lps_arr;\n\tint\t\t\tnum_lps;\n\tstruct bfa_mem_kva_s\tkva_seg;\n};\n\n#define BFA_LPS_MOD(__bfa)\t\t(&(__bfa)->modules.lps_mod)\n#define BFA_LPS_FROM_TAG(__mod, __tag)\t(&(__mod)->lps_arr[__tag])\n#define BFA_MEM_LPS_KVA(__bfa)\t(&(BFA_LPS_MOD(__bfa)->kva_seg))\n\n \nvoid\tbfa_lps_isr(struct bfa_s *bfa, struct bfi_msg_s *msg);\n\n\n \n\n#define BFA_FCPORT(_bfa)\t(&((_bfa)->modules.port))\n\n \nstruct bfa_fcport_ln_s {\n\tstruct bfa_fcport_s\t*fcport;\n\tbfa_sm_t\t\tsm;\n\tstruct bfa_cb_qe_s\tln_qe;\t \n\tenum bfa_port_linkstate ln_event;  \n};\n\nstruct bfa_fcport_trunk_s {\n\tstruct bfa_trunk_attr_s\tattr;\n};\n\n \nstruct bfa_fcport_s {\n\tstruct bfa_s\t\t*bfa;\t \n\tbfa_sm_t\t\tsm;\t \n\twwn_t\t\t\tnwwn;\t \n\twwn_t\t\t\tpwwn;\t \n\tenum bfa_port_speed speed_sup;\n\t \n\tenum bfa_port_speed speed;\t \n\tenum bfa_port_topology topology;\t \n\tu8\t\t\trsvd[3];\n\tu8\t\t\tmyalpa;\t \n\tu8\t\t\talpabm_valid;  \n\tstruct fc_alpabm_s\talpabm;\t \n\tstruct bfa_port_cfg_s\tcfg;\t \n\tbfa_boolean_t\t\tuse_flash_cfg;  \n\tstruct bfa_qos_attr_s  qos_attr;    \n\tstruct bfa_qos_vc_attr_s qos_vc_attr;   \n\tstruct bfa_reqq_wait_s\treqq_wait;\n\t \n\tstruct bfa_reqq_wait_s\tsvcreq_wait;\n\t \n\tstruct bfa_reqq_wait_s\tstats_reqq_wait;\n\t \n\tvoid\t\t\t*event_cbarg;\n\tvoid\t\t\t(*event_cbfn) (void *cbarg,\n\t\t\t\t\t       enum bfa_port_linkstate event);\n\tunion {\n\t\tunion bfi_fcport_i2h_msg_u i2hmsg;\n\t} event_arg;\n\tvoid\t\t\t*bfad;\t \n\tstruct bfa_fcport_ln_s\tln;  \n\tstruct bfa_cb_qe_s\thcb_qe;\t \n\tstruct bfa_timer_s\ttimer;\t \n\tu32\t\tmsgtag;\t \n\tu8\t\t\t*stats_kva;\n\tu64\t\tstats_pa;\n\tunion bfa_fcport_stats_u *stats;\n\tbfa_status_t\t\tstats_status;  \n\tstruct list_head\tstats_pending_q;\n\tstruct list_head\tstatsclr_pending_q;\n\tbfa_boolean_t\t\tstats_qfull;\n\ttime64_t\t\tstats_reset_time;  \n\tbfa_boolean_t\t\tdiag_busy;  \n\tbfa_boolean_t\t\tbeacon;  \n\tbfa_boolean_t\t\tlink_e2e_beacon;  \n\tstruct bfa_fcport_trunk_s trunk;\n\tu16\t\tfcoe_vlan;\n\tstruct bfa_mem_dma_s\tfcport_dma;\n\tbfa_boolean_t\t\tstats_dma_ready;\n\tstruct bfa_bbcr_attr_s\tbbcr_attr;\n\tenum bfa_fec_state_s\tfec_state;\n};\n\n#define BFA_FCPORT_MOD(__bfa)\t(&(__bfa)->modules.fcport)\n#define BFA_MEM_FCPORT_DMA(__bfa) (&(BFA_FCPORT_MOD(__bfa)->fcport_dma))\n\n \nvoid bfa_fcport_init(struct bfa_s *bfa);\nvoid bfa_fcport_isr(struct bfa_s *bfa, struct bfi_msg_s *msg);\n\n \nbfa_status_t bfa_fcport_enable(struct bfa_s *bfa);\nbfa_status_t bfa_fcport_disable(struct bfa_s *bfa);\nbfa_status_t bfa_fcport_cfg_speed(struct bfa_s *bfa,\n\t\t\t\t  enum bfa_port_speed speed);\nenum bfa_port_speed bfa_fcport_get_speed(struct bfa_s *bfa);\nbfa_status_t bfa_fcport_cfg_topology(struct bfa_s *bfa,\n\t\t\t\t     enum bfa_port_topology topo);\nenum bfa_port_topology bfa_fcport_get_topology(struct bfa_s *bfa);\nenum bfa_port_topology bfa_fcport_get_cfg_topology(struct bfa_s *bfa);\nbfa_status_t bfa_fcport_cfg_hardalpa(struct bfa_s *bfa, u8 alpa);\nbfa_boolean_t bfa_fcport_get_hardalpa(struct bfa_s *bfa, u8 *alpa);\nu8 bfa_fcport_get_myalpa(struct bfa_s *bfa);\nbfa_status_t bfa_fcport_clr_hardalpa(struct bfa_s *bfa);\nbfa_status_t bfa_fcport_cfg_maxfrsize(struct bfa_s *bfa, u16 maxsize);\nu16 bfa_fcport_get_maxfrsize(struct bfa_s *bfa);\nu8 bfa_fcport_get_rx_bbcredit(struct bfa_s *bfa);\nvoid bfa_fcport_get_attr(struct bfa_s *bfa, struct bfa_port_attr_s *attr);\nwwn_t bfa_fcport_get_wwn(struct bfa_s *bfa, bfa_boolean_t node);\nvoid bfa_fcport_event_register(struct bfa_s *bfa,\n\t\t\tvoid (*event_cbfn) (void *cbarg,\n\t\t\tenum bfa_port_linkstate event), void *event_cbarg);\nbfa_boolean_t bfa_fcport_is_disabled(struct bfa_s *bfa);\nbfa_boolean_t bfa_fcport_is_dport(struct bfa_s *bfa);\nbfa_boolean_t bfa_fcport_is_ddport(struct bfa_s *bfa);\nbfa_status_t bfa_fcport_set_qos_bw(struct bfa_s *bfa,\n\t\t\t\t   struct bfa_qos_bw_s *qos_bw);\nenum bfa_port_speed bfa_fcport_get_ratelim_speed(struct bfa_s *bfa);\n\nvoid bfa_fcport_set_tx_bbcredit(struct bfa_s *bfa, u16 tx_bbcredit);\nbfa_boolean_t     bfa_fcport_is_ratelim(struct bfa_s *bfa);\nvoid bfa_fcport_beacon(void *dev, bfa_boolean_t beacon,\n\t\t\tbfa_boolean_t link_e2e_beacon);\nbfa_boolean_t\tbfa_fcport_is_linkup(struct bfa_s *bfa);\nbfa_status_t bfa_fcport_get_stats(struct bfa_s *bfa,\n\t\t\tstruct bfa_cb_pending_q_s *cb);\nbfa_status_t bfa_fcport_clear_stats(struct bfa_s *bfa,\n\t\t\tstruct bfa_cb_pending_q_s *cb);\nbfa_boolean_t bfa_fcport_is_qos_enabled(struct bfa_s *bfa);\nbfa_boolean_t bfa_fcport_is_trunk_enabled(struct bfa_s *bfa);\nvoid bfa_fcport_dportenable(struct bfa_s *bfa);\nvoid bfa_fcport_dportdisable(struct bfa_s *bfa);\nbfa_status_t bfa_fcport_is_pbcdisabled(struct bfa_s *bfa);\nvoid bfa_fcport_cfg_faa(struct bfa_s *bfa, u8 state);\nbfa_status_t bfa_fcport_cfg_bbcr(struct bfa_s *bfa,\n\t\t\tbfa_boolean_t on_off, u8 bb_scn);\nbfa_status_t bfa_fcport_get_bbcr_attr(struct bfa_s *bfa,\n\t\t\tstruct bfa_bbcr_attr_s *bbcr_attr);\n\n \nstruct bfa_rport_s *bfa_rport_create(struct bfa_s *bfa, void *rport_drv);\nvoid bfa_rport_online(struct bfa_rport_s *rport,\n\t\t      struct bfa_rport_info_s *rport_info);\nvoid bfa_rport_speed(struct bfa_rport_s *rport, enum bfa_port_speed speed);\nvoid bfa_cb_rport_online(void *rport);\nvoid bfa_cb_rport_offline(void *rport);\nvoid bfa_cb_rport_qos_scn_flowid(void *rport,\n\t\t\t\t struct bfa_rport_qos_attr_s old_qos_attr,\n\t\t\t\t struct bfa_rport_qos_attr_s new_qos_attr);\nvoid bfa_cb_rport_scn_online(struct bfa_s *bfa);\nvoid bfa_cb_rport_scn_offline(struct bfa_s *bfa);\nvoid bfa_cb_rport_scn_no_dev(void *rp);\nvoid bfa_cb_rport_qos_scn_prio(void *rport,\n\t\t\t       struct bfa_rport_qos_attr_s old_qos_attr,\n\t\t\t       struct bfa_rport_qos_attr_s new_qos_attr);\n\n \n#define BFA_RPORT_TAG_INVALID\t0xffff\n#define BFA_LP_TAG_INVALID\t0xff\nvoid\tbfa_rport_set_lunmask(struct bfa_s *bfa, struct bfa_rport_s *rp);\nvoid\tbfa_rport_unset_lunmask(struct bfa_s *bfa, struct bfa_rport_s *rp);\n\n \nstruct bfa_fcxp_s *bfa_fcxp_req_rsp_alloc(void *bfad_fcxp, struct bfa_s *bfa,\n\t\t\t\t  int nreq_sgles, int nrsp_sgles,\n\t\t\t\t  bfa_fcxp_get_sgaddr_t get_req_sga,\n\t\t\t\t  bfa_fcxp_get_sglen_t get_req_sglen,\n\t\t\t\t  bfa_fcxp_get_sgaddr_t get_rsp_sga,\n\t\t\t\t  bfa_fcxp_get_sglen_t get_rsp_sglen,\n\t\t\t\t  bfa_boolean_t req);\nvoid bfa_fcxp_req_rsp_alloc_wait(struct bfa_s *bfa, struct bfa_fcxp_wqe_s *wqe,\n\t\t\t\tbfa_fcxp_alloc_cbfn_t alloc_cbfn,\n\t\t\t\tvoid *cbarg, void *bfad_fcxp,\n\t\t\t\tint nreq_sgles, int nrsp_sgles,\n\t\t\t\tbfa_fcxp_get_sgaddr_t get_req_sga,\n\t\t\t\tbfa_fcxp_get_sglen_t get_req_sglen,\n\t\t\t\tbfa_fcxp_get_sgaddr_t get_rsp_sga,\n\t\t\t\tbfa_fcxp_get_sglen_t get_rsp_sglen,\n\t\t\t\tbfa_boolean_t req);\nvoid bfa_fcxp_walloc_cancel(struct bfa_s *bfa,\n\t\t\t    struct bfa_fcxp_wqe_s *wqe);\nvoid bfa_fcxp_discard(struct bfa_fcxp_s *fcxp);\n\nvoid *bfa_fcxp_get_reqbuf(struct bfa_fcxp_s *fcxp);\nvoid *bfa_fcxp_get_rspbuf(struct bfa_fcxp_s *fcxp);\n\nvoid bfa_fcxp_free(struct bfa_fcxp_s *fcxp);\n\nvoid bfa_fcxp_send(struct bfa_fcxp_s *fcxp, struct bfa_rport_s *rport,\n\t\t   u16 vf_id, u8 lp_tag,\n\t\t   bfa_boolean_t cts, enum fc_cos cos,\n\t\t   u32 reqlen, struct fchs_s *fchs,\n\t\t   bfa_cb_fcxp_send_t cbfn,\n\t\t   void *cbarg,\n\t\t   u32 rsp_maxlen, u8 rsp_timeout);\nbfa_status_t bfa_fcxp_abort(struct bfa_fcxp_s *fcxp);\nu32 bfa_fcxp_get_reqbufsz(struct bfa_fcxp_s *fcxp);\nu32 bfa_fcxp_get_maxrsp(struct bfa_s *bfa);\nvoid bfa_fcxp_res_recfg(struct bfa_s *bfa, u16 num_fcxp_fw);\n\nstatic inline void *\nbfa_uf_get_frmbuf(struct bfa_uf_s *uf)\n{\n\treturn uf->data_ptr;\n}\n\nstatic inline   u16\nbfa_uf_get_frmlen(struct bfa_uf_s *uf)\n{\n\treturn uf->data_len;\n}\n\n \nvoid bfa_uf_recv_register(struct bfa_s *bfa, bfa_cb_uf_recv_t ufrecv,\n\t\t\t  void *cbarg);\nvoid bfa_uf_free(struct bfa_uf_s *uf);\n\n \n\nu32 bfa_lps_get_max_vport(struct bfa_s *bfa);\nstruct bfa_lps_s *bfa_lps_alloc(struct bfa_s *bfa);\nvoid bfa_lps_delete(struct bfa_lps_s *lps);\nvoid bfa_lps_flogi(struct bfa_lps_s *lps, void *uarg, u8 alpa,\n\t\t   u16 pdusz, wwn_t pwwn, wwn_t nwwn,\n\t\t   bfa_boolean_t auth_en);\nvoid bfa_lps_fdisc(struct bfa_lps_s *lps, void *uarg, u16 pdusz,\n\t\t   wwn_t pwwn, wwn_t nwwn);\nvoid bfa_lps_fdisclogo(struct bfa_lps_s *lps);\nvoid bfa_lps_set_n2n_pid(struct bfa_lps_s *lps, u32 n2n_pid);\nu8 bfa_lps_get_fwtag(struct bfa_s *bfa, u8 lp_tag);\nu32 bfa_lps_get_base_pid(struct bfa_s *bfa);\nu8 bfa_lps_get_tag_from_pid(struct bfa_s *bfa, u32 pid);\nvoid bfa_cb_lps_flogi_comp(void *bfad, void *uarg, bfa_status_t status);\nvoid bfa_cb_lps_flogo_comp(void *bfad, void *uarg);\nvoid bfa_cb_lps_fdisc_comp(void *bfad, void *uarg, bfa_status_t status);\nvoid bfa_cb_lps_fdisclogo_comp(void *bfad, void *uarg);\nvoid bfa_cb_lps_cvl_event(void *bfad, void *uarg);\n\n \nbfa_status_t bfa_faa_query(struct bfa_s *bfa, struct bfa_faa_attr_s *attr,\n\t\t\tbfa_cb_iocfc_t cbfn, void *cbarg);\n\n \nstruct bfa_fcdiag_qtest_s {\n\tstruct bfa_diag_qtest_result_s *result;\n\tbfa_cb_diag_t\tcbfn;\n\tvoid\t\t*cbarg;\n\tstruct bfa_timer_s\ttimer;\n\tu32\tstatus;\n\tu32\tcount;\n\tu8\tlock;\n\tu8\tqueue;\n\tu8\tall;\n\tu8\ttimer_active;\n};\n\nstruct bfa_fcdiag_lb_s {\n\tbfa_cb_diag_t   cbfn;\n\tvoid            *cbarg;\n\tvoid            *result;\n\tbfa_boolean_t   lock;\n\tu32        status;\n};\n\nstruct bfa_dport_s {\n\tstruct bfa_s\t*bfa;\t\t \n\tbfa_sm_t\tsm;\t\t \n\tstruct bfa_reqq_wait_s reqq_wait;\n\tbfa_cb_diag_t\tcbfn;\n\tvoid\t\t*cbarg;\n\tunion bfi_diag_dport_msg_u i2hmsg;\n\tu8\t\ttest_state;\t \n\tu8\t\tdynamic;\t \n\tu8\t\trsvd[2];\n\tu32\t\tlpcnt;\n\tu32\t\tpayload;\t \n\twwn_t\t\trp_pwwn;\n\twwn_t\t\trp_nwwn;\n\tstruct bfa_diag_dport_result_s result;\n};\n\nstruct bfa_fcdiag_s {\n\tstruct bfa_s    *bfa;            \n\tstruct bfa_trc_mod_s   *trcmod;\n\tstruct bfa_fcdiag_lb_s lb;\n\tstruct bfa_fcdiag_qtest_s qtest;\n\tstruct bfa_dport_s\tdport;\n};\n\n#define BFA_FCDIAG_MOD(__bfa)\t(&(__bfa)->modules.fcdiag)\n\nvoid\tbfa_fcdiag_intr(struct bfa_s *bfa, struct bfi_msg_s *msg);\n\nbfa_status_t\tbfa_fcdiag_loopback(struct bfa_s *bfa,\n\t\t\t\tenum bfa_port_opmode opmode,\n\t\t\t\tenum bfa_port_speed speed, u32 lpcnt, u32 pat,\n\t\t\t\tstruct bfa_diag_loopback_result_s *result,\n\t\t\t\tbfa_cb_diag_t cbfn, void *cbarg);\nbfa_status_t\tbfa_fcdiag_queuetest(struct bfa_s *bfa, u32 ignore,\n\t\t\tu32 queue, struct bfa_diag_qtest_result_s *result,\n\t\t\tbfa_cb_diag_t cbfn, void *cbarg);\nbfa_status_t\tbfa_fcdiag_lb_is_running(struct bfa_s *bfa);\nbfa_status_t\tbfa_dport_enable(struct bfa_s *bfa, u32 lpcnt, u32 pat,\n\t\t\t\t\tbfa_cb_diag_t cbfn, void *cbarg);\nbfa_status_t\tbfa_dport_disable(struct bfa_s *bfa, bfa_cb_diag_t cbfn,\n\t\t\t\t  void *cbarg);\nbfa_status_t\tbfa_dport_start(struct bfa_s *bfa, u32 lpcnt, u32 pat,\n\t\t\t\tbfa_cb_diag_t cbfn, void *cbarg);\nbfa_status_t\tbfa_dport_show(struct bfa_s *bfa,\n\t\t\t\tstruct bfa_diag_dport_result_s *result);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}