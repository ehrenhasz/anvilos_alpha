{
  "module_name": "bfa_fcbuild.h",
  "hash_id": "e8fbcd2f66519bb41090780ce279a470d6c89825334210474c0bbd17029c0c93",
  "original_prompt": "Ingested from linux-6.6.14/drivers/scsi/bfa/bfa_fcbuild.h",
  "human_readable_source": " \n \n \n\n#ifndef __FCBUILD_H__\n#define __FCBUILD_H__\n\n#include \"bfad_drv.h\"\n#include \"bfa_fc.h\"\n#include \"bfa_defs_fcs.h\"\n\n \n\n#define wwn_is_equal(_wwn1, _wwn2)\t\t\\\n\t(memcmp(&(_wwn1), &(_wwn2), sizeof(wwn_t)) == 0)\n\n#define fc_roundup(_l, _s) (((_l) + ((_s) - 1)) & ~((_s) - 1))\n\n \nstatic inline   u32\nfc_get_ctresp_pyld_len(u32 resp_len)\n{\n\treturn resp_len - sizeof(struct ct_hdr_s);\n}\n\n \nstatic inline  enum bfa_port_speed\nfc_rpsc_operspeed_to_bfa_speed(enum fc_rpsc_op_speed speed)\n{\n\tswitch (speed) {\n\n\tcase RPSC_OP_SPEED_1G:\n\t\treturn BFA_PORT_SPEED_1GBPS;\n\n\tcase RPSC_OP_SPEED_2G:\n\t\treturn BFA_PORT_SPEED_2GBPS;\n\n\tcase RPSC_OP_SPEED_4G:\n\t\treturn BFA_PORT_SPEED_4GBPS;\n\n\tcase RPSC_OP_SPEED_8G:\n\t\treturn BFA_PORT_SPEED_8GBPS;\n\n\tcase RPSC_OP_SPEED_16G:\n\t\treturn BFA_PORT_SPEED_16GBPS;\n\n\tcase RPSC_OP_SPEED_10G:\n\t\treturn BFA_PORT_SPEED_10GBPS;\n\n\tdefault:\n\t\treturn BFA_PORT_SPEED_UNKNOWN;\n\t}\n}\n\n \nstatic inline   enum fc_rpsc_op_speed\nfc_bfa_speed_to_rpsc_operspeed(enum bfa_port_speed op_speed)\n{\n\tswitch (op_speed) {\n\n\tcase BFA_PORT_SPEED_1GBPS:\n\t\treturn RPSC_OP_SPEED_1G;\n\n\tcase BFA_PORT_SPEED_2GBPS:\n\t\treturn RPSC_OP_SPEED_2G;\n\n\tcase BFA_PORT_SPEED_4GBPS:\n\t\treturn RPSC_OP_SPEED_4G;\n\n\tcase BFA_PORT_SPEED_8GBPS:\n\t\treturn RPSC_OP_SPEED_8G;\n\n\tcase BFA_PORT_SPEED_16GBPS:\n\t\treturn RPSC_OP_SPEED_16G;\n\n\tcase BFA_PORT_SPEED_10GBPS:\n\t\treturn RPSC_OP_SPEED_10G;\n\n\tdefault:\n\t\treturn RPSC_OP_SPEED_NOT_EST;\n\t}\n}\n\nenum fc_parse_status {\n\tFC_PARSE_OK = 0,\n\tFC_PARSE_FAILURE = 1,\n\tFC_PARSE_BUSY = 2,\n\tFC_PARSE_LEN_INVAL,\n\tFC_PARSE_ACC_INVAL,\n\tFC_PARSE_PWWN_NOT_EQUAL,\n\tFC_PARSE_NWWN_NOT_EQUAL,\n\tFC_PARSE_RXSZ_INVAL,\n\tFC_PARSE_NOT_FCP,\n\tFC_PARSE_OPAFLAG_INVAL,\n\tFC_PARSE_RPAFLAG_INVAL,\n\tFC_PARSE_OPA_INVAL,\n\tFC_PARSE_RPA_INVAL,\n\n};\n\nstruct fc_templates_s {\n\tstruct fchs_s fc_els_req;\n\tstruct fchs_s fc_bls_req;\n\tstruct fc_logi_s plogi;\n\tstruct fc_rrq_s rrq;\n};\n\nvoid            fcbuild_init(void);\n\nu16        fc_flogi_build(struct fchs_s *fchs, struct fc_logi_s *flogi,\n\t\t\tu32 s_id, u16 ox_id, wwn_t port_name, wwn_t node_name,\n\t\t\t       u16 pdu_size, u8 set_npiv, u8 set_auth,\n\t\t\t       u16 local_bb_credits);\n\nu16        fc_fdisc_build(struct fchs_s *buf, struct fc_logi_s *flogi, u32 s_id,\n\t\t\t       u16 ox_id, wwn_t port_name, wwn_t node_name,\n\t\t\t       u16 pdu_size);\n\nu16        fc_flogi_acc_build(struct fchs_s *fchs, struct fc_logi_s *flogi,\n\t\t\t\t   u32 s_id, __be16 ox_id,\n\t\t\t\t   wwn_t port_name, wwn_t node_name,\n\t\t\t\t   u16 pdu_size,\n\t\t\t\t   u16 local_bb_credits, u8 bb_scn);\n\nu16        fc_plogi_build(struct fchs_s *fchs, void *pld, u32 d_id,\n\t\t\t       u32 s_id, u16 ox_id, wwn_t port_name,\n\t\t\t       wwn_t node_name, u16 pdu_size, u16 bb_cr);\n\nenum fc_parse_status fc_plogi_parse(struct fchs_s *fchs);\n\nu16        fc_abts_build(struct fchs_s *buf, u32 d_id, u32 s_id,\n\t\t\t      u16 ox_id);\n\nenum fc_parse_status fc_abts_rsp_parse(struct fchs_s *buf, int len);\n\nu16        fc_rrq_build(struct fchs_s *buf, struct fc_rrq_s *rrq, u32 d_id,\n\t\t\t     u32 s_id, u16 ox_id, u16 rrq_oxid);\n\nu16        fc_rspnid_build(struct fchs_s *fchs, void *pld, u32 s_id,\n\t\t\t\tu16 ox_id, u8 *name);\nu16\tfc_rsnn_nn_build(struct fchs_s *fchs, void *pld, u32 s_id,\n\t\t\t\twwn_t node_name, u8 *name);\n\nu16        fc_rftid_build(struct fchs_s *fchs, void *pld, u32 s_id,\n\t\t\t       u16 ox_id, enum bfa_lport_role role);\n\nu16       fc_rftid_build_sol(struct fchs_s *fchs, void *pyld, u32 s_id,\n\t\t\t\t   u16 ox_id, u8 *fc4_bitmap,\n\t\t\t\t   u32 bitmap_size);\n\nu16\tfc_rffid_build(struct fchs_s *fchs, void *pyld, u32 s_id,\n\t\t\tu16 ox_id, u8 fc4_type, u8 fc4_ftrs);\n\nu16        fc_gidpn_build(struct fchs_s *fchs, void *pyld, u32 s_id,\n\t\t\t       u16 ox_id, wwn_t port_name);\n\nu16        fc_gpnid_build(struct fchs_s *fchs, void *pld, u32 s_id,\n\t\t\t       u16 ox_id, u32 port_id);\n\nu16\tfc_gs_rjt_build(struct fchs_s *fchs, struct ct_hdr_s *cthdr,\n\t\t\tu32 d_id, u32 s_id, u16 ox_id,\n\t\t\tu8 reason_code, u8 reason_code_expl);\n\nu16        fc_scr_build(struct fchs_s *fchs, struct fc_scr_s *scr,\n\t\t\tu8 set_br_reg, u32 s_id, u16 ox_id);\n\nu16        fc_plogi_acc_build(struct fchs_s *fchs, void *pld, u32 d_id,\n\t\t\t\t   u32 s_id, u16 ox_id,\n\t\t\t\t   wwn_t port_name, wwn_t node_name,\n\t\t\t\t   u16 pdu_size, u16 bb_cr);\n\nu16        fc_adisc_build(struct fchs_s *fchs, struct fc_adisc_s *adisc,\n\t\t\tu32 d_id, u32 s_id, __be16 ox_id, wwn_t port_name,\n\t\t\t       wwn_t node_name);\n\nenum fc_parse_status fc_adisc_parse(struct fchs_s *fchs, void *pld,\n\t\t\tu32 host_dap, wwn_t node_name, wwn_t port_name);\n\nenum fc_parse_status fc_adisc_rsp_parse(struct fc_adisc_s *adisc, int len,\n\t\t\t\t wwn_t port_name, wwn_t node_name);\n\nu16        fc_adisc_acc_build(struct fchs_s *fchs, struct fc_adisc_s *adisc,\n\t\t\t\t   u32 d_id, u32 s_id, __be16 ox_id,\n\t\t\t\t   wwn_t port_name, wwn_t node_name);\nu16        fc_ls_rjt_build(struct fchs_s *fchs, struct fc_ls_rjt_s *ls_rjt,\n\t\t\t\tu32 d_id, u32 s_id, __be16 ox_id,\n\t\t\t\tu8 reason_code, u8 reason_code_expl);\nu16        fc_ls_acc_build(struct fchs_s *fchs, struct fc_els_cmd_s *els_cmd,\n\t\t\t\tu32 d_id, u32 s_id, __be16 ox_id);\nu16        fc_prli_build(struct fchs_s *fchs, void *pld, u32 d_id,\n\t\t\t      u32 s_id, u16 ox_id);\n\nenum fc_parse_status fc_prli_rsp_parse(struct fc_prli_s *prli, int len);\n\nu16        fc_prli_acc_build(struct fchs_s *fchs, void *pld, u32 d_id,\n\t\t\t\t  u32 s_id, __be16 ox_id,\n\t\t\t\t  enum bfa_lport_role role);\n\nu16        fc_rnid_build(struct fchs_s *fchs, struct fc_rnid_cmd_s *rnid,\n\t\t\t      u32 d_id, u32 s_id, u16 ox_id,\n\t\t\t      u32 data_format);\n\nu16        fc_rnid_acc_build(struct fchs_s *fchs,\n\t\t\tstruct fc_rnid_acc_s *rnid_acc, u32 d_id, u32 s_id,\n\t\t\t__be16 ox_id, u32 data_format,\n\t\t\tstruct fc_rnid_common_id_data_s *common_id_data,\n\t\t\tstruct fc_rnid_general_topology_data_s *gen_topo_data);\n\nu16\tfc_rpsc2_build(struct fchs_s *fchs, struct fc_rpsc2_cmd_s *rps2c,\n\t\t\tu32 d_id, u32 s_id, u32 *pid_list, u16 npids);\nu16        fc_rpsc_build(struct fchs_s *fchs, struct fc_rpsc_cmd_s *rpsc,\n\t\t\t      u32 d_id, u32 s_id, u16 ox_id);\nu16        fc_rpsc_acc_build(struct fchs_s *fchs,\n\t\t\tstruct fc_rpsc_acc_s *rpsc_acc, u32 d_id, u32 s_id,\n\t\t\t__be16 ox_id, struct fc_rpsc_speed_info_s *oper_speed);\nu16        fc_gid_ft_build(struct fchs_s *fchs, void *pld, u32 s_id,\n\t\t\t\tu8 fc4_type);\n\nu16        fc_rpnid_build(struct fchs_s *fchs, void *pyld, u32 s_id,\n\t\t\t       u32 port_id, wwn_t port_name);\n\nu16        fc_rnnid_build(struct fchs_s *fchs, void *pyld, u32 s_id,\n\t\t\t       u32 port_id, wwn_t node_name);\n\nu16        fc_rcsid_build(struct fchs_s *fchs, void *pyld, u32 s_id,\n\t\t\t       u32 port_id, u32 cos);\n\nu16        fc_rptid_build(struct fchs_s *fchs, void *pyld, u32 s_id,\n\t\t\t       u32 port_id, u8 port_type);\n\nu16        fc_ganxt_build(struct fchs_s *fchs, void *pyld, u32 s_id,\n\t\t\t       u32 port_id);\n\nu16        fc_logo_build(struct fchs_s *fchs, struct fc_logo_s *logo, u32 d_id,\n\t\t\t      u32 s_id, u16 ox_id, wwn_t port_name);\n\nu16        fc_logo_acc_build(struct fchs_s *fchs, void *pld, u32 d_id,\n\t\t\t\t  u32 s_id, __be16 ox_id);\n\nu16        fc_fdmi_reqhdr_build(struct fchs_s *fchs, void *pyld, u32 s_id,\n\t\t\t\t     u16 cmd_code);\nu16\tfc_gmal_req_build(struct fchs_s *fchs, void *pyld, u32 s_id, wwn_t wwn);\nu16\tfc_gfn_req_build(struct fchs_s *fchs, void *pyld, u32 s_id, wwn_t wwn);\n\nvoid\t\tfc_get_fc4type_bitmask(u8 fc4_type, u8 *bit_mask);\n\nvoid\t\tfc_els_req_build(struct fchs_s *fchs, u32 d_id, u32 s_id,\n\t\t\t\t\t __be16 ox_id);\n\nenum fc_parse_status\tfc_plogi_rsp_parse(struct fchs_s *fchs, int len,\n\t\t\t\t\twwn_t port_name);\n\nenum fc_parse_status\tfc_prli_parse(struct fc_prli_s *prli);\n\nenum fc_parse_status\tfc_pdisc_parse(struct fchs_s *fchs, wwn_t node_name,\n\t\t\t\t\twwn_t port_name);\n\nu16 fc_ba_acc_build(struct fchs_s *fchs, struct fc_ba_acc_s *ba_acc, u32 d_id,\n\t\tu32 s_id, __be16 ox_id, u16 rx_id);\n\nint fc_logout_params_pages(struct fchs_s *fc_frame, u8 els_code);\n\nu16 fc_tprlo_acc_build(struct fchs_s *fchs, struct fc_tprlo_acc_s *tprlo_acc,\n\t\tu32 d_id, u32 s_id, __be16 ox_id, int num_pages);\n\nu16 fc_prlo_acc_build(struct fchs_s *fchs, struct fc_prlo_acc_s *prlo_acc,\n\t\tu32 d_id, u32 s_id, __be16 ox_id, int num_pages);\n\nu16 fc_pdisc_build(struct fchs_s *fchs, u32 d_id, u32 s_id,\n\t\tu16 ox_id, wwn_t port_name, wwn_t node_name,\n\t\tu16 pdu_size);\n\nu16 fc_pdisc_rsp_parse(struct fchs_s *fchs, int len, wwn_t port_name);\n\nu16 fc_prlo_build(struct fchs_s *fchs, u32 d_id, u32 s_id,\n\t\tu16 ox_id, int num_pages);\n\nu16 fc_tprlo_build(struct fchs_s *fchs, u32 d_id, u32 s_id,\n\t\tu16 ox_id, int num_pages, enum fc_tprlo_type tprlo_type,\n\t\tu32 tpr_id);\n\nu16 fc_ba_rjt_build(struct fchs_s *fchs, u32 d_id, u32 s_id,\n\t\t__be16 ox_id, u32 reason_code, u32 reason_expl);\n\nu16 fc_gnnid_build(struct fchs_s *fchs, void *pyld, u32 s_id, u16 ox_id,\n\t\tu32 port_id);\n\nu16 fc_ct_rsp_parse(struct ct_hdr_s *cthdr);\n\nu16 fc_rscn_build(struct fchs_s *fchs, struct fc_rscn_pl_s *rscn, u32 s_id,\n\t\tu16 ox_id);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}