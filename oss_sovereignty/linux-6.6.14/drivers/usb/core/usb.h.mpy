{
  "module_name": "usb.h",
  "hash_id": "f7d83375ccbc815a38a66f90b70b61c22d6a9b259f9f41a3e9000d2f08c397b3",
  "original_prompt": "Ingested from linux-6.6.14/drivers/usb/core/usb.h",
  "human_readable_source": " \n \n\n#include <linux/pm.h>\n#include <linux/acpi.h>\n\nstruct usb_hub_descriptor;\nstruct usb_dev_state;\n\n \n\nextern int usb_create_sysfs_dev_files(struct usb_device *dev);\nextern void usb_remove_sysfs_dev_files(struct usb_device *dev);\nextern void usb_create_sysfs_intf_files(struct usb_interface *intf);\nextern void usb_remove_sysfs_intf_files(struct usb_interface *intf);\nextern int usb_update_wireless_status_attr(struct usb_interface *intf);\nextern int usb_create_ep_devs(struct device *parent,\n\t\t\t\tstruct usb_host_endpoint *endpoint,\n\t\t\t\tstruct usb_device *udev);\nextern void usb_remove_ep_devs(struct usb_host_endpoint *endpoint);\n\nextern void usb_enable_endpoint(struct usb_device *dev,\n\t\tstruct usb_host_endpoint *ep, bool reset_toggle);\nextern void usb_enable_interface(struct usb_device *dev,\n\t\tstruct usb_interface *intf, bool reset_toggles);\nextern void usb_disable_endpoint(struct usb_device *dev, unsigned int epaddr,\n\t\tbool reset_hardware);\nextern void usb_disable_interface(struct usb_device *dev,\n\t\tstruct usb_interface *intf, bool reset_hardware);\nextern void usb_release_interface_cache(struct kref *ref);\nextern void usb_disable_device(struct usb_device *dev, int skip_ep0);\nextern int usb_deauthorize_device(struct usb_device *);\nextern int usb_authorize_device(struct usb_device *);\nextern void usb_deauthorize_interface(struct usb_interface *);\nextern void usb_authorize_interface(struct usb_interface *);\nextern void usb_detect_quirks(struct usb_device *udev);\nextern void usb_detect_interface_quirks(struct usb_device *udev);\nextern void usb_release_quirk_list(void);\nextern bool usb_endpoint_is_ignored(struct usb_device *udev,\n\t\tstruct usb_host_interface *intf,\n\t\tstruct usb_endpoint_descriptor *epd);\nextern int usb_remove_device(struct usb_device *udev);\n\nextern struct usb_device_descriptor *usb_get_device_descriptor(\n\t\tstruct usb_device *udev);\nextern int usb_set_isoch_delay(struct usb_device *dev);\nextern int usb_get_bos_descriptor(struct usb_device *dev);\nextern void usb_release_bos_descriptor(struct usb_device *dev);\nextern int usb_set_configuration(struct usb_device *dev, int configuration);\nextern int usb_choose_configuration(struct usb_device *udev);\nextern int usb_generic_driver_probe(struct usb_device *udev);\nextern void usb_generic_driver_disconnect(struct usb_device *udev);\nextern int usb_generic_driver_suspend(struct usb_device *udev,\n\t\tpm_message_t msg);\nextern int usb_generic_driver_resume(struct usb_device *udev,\n\t\tpm_message_t msg);\n\nstatic inline unsigned usb_get_max_power(struct usb_device *udev,\n\t\tstruct usb_host_config *c)\n{\n\t \n\tunsigned mul = (udev->speed >= USB_SPEED_SUPER ? 8 : 2);\n\n\treturn c->desc.bMaxPower * mul;\n}\n\nextern void usb_kick_hub_wq(struct usb_device *dev);\nextern int usb_match_one_id_intf(struct usb_device *dev,\n\t\t\t\t struct usb_host_interface *intf,\n\t\t\t\t const struct usb_device_id *id);\nextern int usb_match_device(struct usb_device *dev,\n\t\t\t    const struct usb_device_id *id);\nextern const struct usb_device_id *usb_device_match_id(struct usb_device *udev,\n\t\t\t\tconst struct usb_device_id *id);\nextern bool usb_driver_applicable(struct usb_device *udev,\n\t\t\t\t  struct usb_device_driver *udrv);\nextern void usb_forced_unbind_intf(struct usb_interface *intf);\nextern void usb_unbind_and_rebind_marked_interfaces(struct usb_device *udev);\n\nextern void usb_hub_release_all_ports(struct usb_device *hdev,\n\t\tstruct usb_dev_state *owner);\nextern bool usb_device_is_owned(struct usb_device *udev);\n\nextern int  usb_hub_init(void);\nextern void usb_hub_cleanup(void);\nextern int usb_major_init(void);\nextern void usb_major_cleanup(void);\nextern int usb_device_supports_lpm(struct usb_device *udev);\nextern int usb_port_disable(struct usb_device *udev);\n\n#ifdef\tCONFIG_PM\n\nextern int usb_suspend(struct device *dev, pm_message_t msg);\nextern int usb_resume(struct device *dev, pm_message_t msg);\nextern int usb_resume_complete(struct device *dev);\n\nextern int usb_port_suspend(struct usb_device *dev, pm_message_t msg);\nextern int usb_port_resume(struct usb_device *dev, pm_message_t msg);\n\nextern void usb_autosuspend_device(struct usb_device *udev);\nextern int usb_autoresume_device(struct usb_device *udev);\nextern int usb_remote_wakeup(struct usb_device *dev);\nextern int usb_runtime_suspend(struct device *dev);\nextern int usb_runtime_resume(struct device *dev);\nextern int usb_runtime_idle(struct device *dev);\nextern int usb_enable_usb2_hardware_lpm(struct usb_device *udev);\nextern int usb_disable_usb2_hardware_lpm(struct usb_device *udev);\n\nextern void usbfs_notify_suspend(struct usb_device *udev);\nextern void usbfs_notify_resume(struct usb_device *udev);\n\n#else\n\nstatic inline int usb_port_suspend(struct usb_device *udev, pm_message_t msg)\n{\n\treturn 0;\n}\n\nstatic inline int usb_port_resume(struct usb_device *udev, pm_message_t msg)\n{\n\treturn 0;\n}\n\n#define usb_autosuspend_device(udev)\t\tdo {} while (0)\nstatic inline int usb_autoresume_device(struct usb_device *udev)\n{\n\treturn 0;\n}\n\nstatic inline int usb_enable_usb2_hardware_lpm(struct usb_device *udev)\n{\n\treturn 0;\n}\n\nstatic inline int usb_disable_usb2_hardware_lpm(struct usb_device *udev)\n{\n\treturn 0;\n}\n\n#endif\n\nextern const struct class usbmisc_class;\nextern const struct bus_type usb_bus_type;\nextern struct mutex usb_port_peer_mutex;\nextern struct device_type usb_device_type;\nextern struct device_type usb_if_device_type;\nextern struct device_type usb_ep_device_type;\nextern struct device_type usb_port_device_type;\nextern struct usb_device_driver usb_generic_driver;\n\nstatic inline int is_usb_device(const struct device *dev)\n{\n\treturn dev->type == &usb_device_type;\n}\n\nstatic inline int is_usb_interface(const struct device *dev)\n{\n\treturn dev->type == &usb_if_device_type;\n}\n\nstatic inline int is_usb_endpoint(const struct device *dev)\n{\n\treturn dev->type == &usb_ep_device_type;\n}\n\nstatic inline int is_usb_port(const struct device *dev)\n{\n\treturn dev->type == &usb_port_device_type;\n}\n\nstatic inline int is_root_hub(struct usb_device *udev)\n{\n\treturn (udev->parent == NULL);\n}\n\n \n\nstatic inline int is_usb_device_driver(struct device_driver *drv)\n{\n\treturn container_of(drv, struct usbdrv_wrap, driver)->\n\t\t\tfor_devices;\n}\n\n \nextern const char *usbcore_name;\n\n \nextern const struct attribute_group *usb_device_groups[];\nextern const struct attribute_group *usb_interface_groups[];\n\n \nextern struct usb_driver usbfs_driver;\nextern const struct file_operations usbfs_devices_fops;\nextern const struct file_operations usbdev_file_operations;\n\nextern int usb_devio_init(void);\nextern void usb_devio_cleanup(void);\n\n \ntypedef u32 usb_port_location_t;\n\n \nextern void usb_notify_add_device(struct usb_device *udev);\nextern void usb_notify_remove_device(struct usb_device *udev);\nextern void usb_notify_add_bus(struct usb_bus *ubus);\nextern void usb_notify_remove_bus(struct usb_bus *ubus);\nextern void usb_hub_adjust_deviceremovable(struct usb_device *hdev,\n\t\tstruct usb_hub_descriptor *desc);\n\n#ifdef CONFIG_ACPI\nextern int usb_acpi_register(void);\nextern void usb_acpi_unregister(void);\nextern acpi_handle usb_get_hub_port_acpi_handle(struct usb_device *hdev,\n\tint port1);\n#else\nstatic inline int usb_acpi_register(void) { return 0; };\nstatic inline void usb_acpi_unregister(void) { };\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}