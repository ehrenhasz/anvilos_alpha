{
  "module_name": "qcom_pmic_typec_port.h",
  "hash_id": "03b7daa224c3265747c16f76613de56f77ac2a4829e3019091440bab77f59ba0",
  "original_prompt": "Ingested from linux-6.6.14/drivers/usb/typec/tcpm/qcom/qcom_pmic_typec_port.h",
  "human_readable_source": " \n \n#ifndef __QCOM_PMIC_TYPEC_H__\n#define __QCOM_PMIC_TYPEC_H__\n\n#include <linux/platform_device.h>\n#include <linux/usb/tcpm.h>\n\n#define TYPEC_SNK_STATUS_REG\t\t\t\t0x06\n#define DETECTED_SNK_TYPE_MASK\t\t\t\tGENMASK(6, 0)\n#define SNK_DAM_MASK\t\t\t\t\tGENMASK(6, 4)\n#define SNK_DAM_500MA\t\t\t\t\tBIT(6)\n#define SNK_DAM_1500MA\t\t\t\t\tBIT(5)\n#define SNK_DAM_3000MA\t\t\t\t\tBIT(4)\n#define SNK_RP_STD\t\t\t\t\tBIT(3)\n#define SNK_RP_1P5\t\t\t\t\tBIT(2)\n#define SNK_RP_3P0\t\t\t\t\tBIT(1)\n#define SNK_RP_SHORT\t\t\t\t\tBIT(0)\n\n#define TYPEC_SRC_STATUS_REG\t\t\t\t0x08\n#define DETECTED_SRC_TYPE_MASK\t\t\t\tGENMASK(4, 0)\n#define SRC_HIGH_BATT\t\t\t\t\tBIT(5)\n#define SRC_DEBUG_ACCESS\t\t\t\tBIT(4)\n#define SRC_RD_OPEN\t\t\t\t\tBIT(3)\n#define SRC_RD_RA_VCONN\t\t\t\t\tBIT(2)\n#define SRC_RA_OPEN\t\t\t\t\tBIT(1)\n#define AUDIO_ACCESS_RA_RA\t\t\t\tBIT(0)\n\n#define TYPEC_STATE_MACHINE_STATUS_REG\t\t\t0x09\n#define TYPEC_ATTACH_DETACH_STATE\t\t\tBIT(5)\n\n#define TYPEC_SM_STATUS_REG\t\t\t\t0x0A\n#define TYPEC_SM_VBUS_VSAFE5V\t\t\t\tBIT(5)\n#define TYPEC_SM_VBUS_VSAFE0V\t\t\t\tBIT(6)\n#define TYPEC_SM_USBIN_LT_LV\t\t\t\tBIT(7)\n\n#define TYPEC_MISC_STATUS_REG\t\t\t\t0x0B\n#define TYPEC_WATER_DETECTION_STATUS\t\t\tBIT(7)\n#define SNK_SRC_MODE\t\t\t\t\tBIT(6)\n#define TYPEC_VBUS_DETECT\t\t\t\tBIT(5)\n#define TYPEC_VBUS_ERROR_STATUS\t\t\t\tBIT(4)\n#define TYPEC_DEBOUNCE_DONE\t\t\t\tBIT(3)\n#define CC_ORIENTATION\t\t\t\t\tBIT(1)\n#define CC_ATTACHED\t\t\t\t\tBIT(0)\n\n#define LEGACY_CABLE_STATUS_REG\t\t\t\t0x0D\n#define TYPEC_LEGACY_CABLE_STATUS\t\t\tBIT(1)\n#define TYPEC_NONCOMP_LEGACY_CABLE_STATUS\t\tBIT(0)\n\n#define TYPEC_U_USB_STATUS_REG\t\t\t\t0x0F\n#define U_USB_GROUND_NOVBUS\t\t\t\tBIT(6)\n#define U_USB_GROUND\t\t\t\t\tBIT(4)\n#define U_USB_FMB1\t\t\t\t\tBIT(3)\n#define U_USB_FLOAT1\t\t\t\t\tBIT(2)\n#define U_USB_FMB2\t\t\t\t\tBIT(1)\n#define U_USB_FLOAT2\t\t\t\t\tBIT(0)\n\n#define TYPEC_MODE_CFG_REG\t\t\t\t0x44\n#define TYPEC_TRY_MODE_MASK\t\t\t\tGENMASK(4, 3)\n#define EN_TRY_SNK\t\t\t\t\tBIT(4)\n#define EN_TRY_SRC\t\t\t\t\tBIT(3)\n#define TYPEC_POWER_ROLE_CMD_MASK\t\t\tGENMASK(2, 0)\n#define EN_SRC_ONLY\t\t\t\t\tBIT(2)\n#define EN_SNK_ONLY\t\t\t\t\tBIT(1)\n#define TYPEC_DISABLE_CMD\t\t\t\tBIT(0)\n\n#define TYPEC_VCONN_CONTROL_REG\t\t\t\t0x46\n#define VCONN_EN_ORIENTATION\t\t\t\tBIT(2)\n#define VCONN_EN_VALUE\t\t\t\t\tBIT(1)\n#define VCONN_EN_SRC\t\t\t\t\tBIT(0)\n\n#define TYPEC_CCOUT_CONTROL_REG\t\t\t\t0x48\n#define TYPEC_CCOUT_BUFFER_EN\t\t\t\tBIT(2)\n#define TYPEC_CCOUT_VALUE\t\t\t\tBIT(1)\n#define TYPEC_CCOUT_SRC\t\t\t\t\tBIT(0)\n\n#define DEBUG_ACCESS_SRC_CFG_REG\t\t\t0x4C\n#define EN_UNORIENTED_DEBUG_ACCESS_SRC\t\t\tBIT(0)\n\n#define TYPE_C_CRUDE_SENSOR_CFG_REG\t\t\t0x4e\n#define EN_SRC_CRUDE_SENSOR\t\t\t\tBIT(1)\n#define EN_SNK_CRUDE_SENSOR\t\t\t\tBIT(0)\n\n#define TYPEC_EXIT_STATE_CFG_REG\t\t\t0x50\n#define BYPASS_VSAFE0V_DURING_ROLE_SWAP\t\t\tBIT(3)\n#define SEL_SRC_UPPER_REF\t\t\t\tBIT(2)\n#define USE_TPD_FOR_EXITING_ATTACHSRC\t\t\tBIT(1)\n#define EXIT_SNK_BASED_ON_CC\t\t\t\tBIT(0)\n\n#define TYPEC_CURRSRC_CFG_REG\t\t\t\t0x52\n#define TYPEC_SRC_RP_SEL_330UA\t\t\t\tBIT(1)\n#define TYPEC_SRC_RP_SEL_180UA\t\t\t\tBIT(0)\n#define TYPEC_SRC_RP_SEL_80UA\t\t\t\t0\n#define TYPEC_SRC_RP_SEL_MASK\t\t\t\tGENMASK(1, 0)\n\n#define TYPEC_INTERRUPT_EN_CFG_1_REG\t\t\t0x5E\n#define TYPEC_LEGACY_CABLE_INT_EN\t\t\tBIT(7)\n#define TYPEC_NONCOMPLIANT_LEGACY_CABLE_INT_EN\t\tBIT(6)\n#define TYPEC_TRYSOURCE_DETECT_INT_EN\t\t\tBIT(5)\n#define TYPEC_TRYSINK_DETECT_INT_EN\t\t\tBIT(4)\n#define TYPEC_CCOUT_DETACH_INT_EN\t\t\tBIT(3)\n#define TYPEC_CCOUT_ATTACH_INT_EN\t\t\tBIT(2)\n#define TYPEC_VBUS_DEASSERT_INT_EN\t\t\tBIT(1)\n#define TYPEC_VBUS_ASSERT_INT_EN\t\t\tBIT(0)\n\n#define TYPEC_INTERRUPT_EN_CFG_2_REG\t\t\t0x60\n#define TYPEC_SRC_BATT_HPWR_INT_EN\t\t\tBIT(6)\n#define MICRO_USB_STATE_CHANGE_INT_EN\t\t\tBIT(5)\n#define TYPEC_STATE_MACHINE_CHANGE_INT_EN\t\tBIT(4)\n#define TYPEC_DEBUG_ACCESS_DETECT_INT_EN\t\tBIT(3)\n#define TYPEC_WATER_DETECTION_INT_EN\t\t\tBIT(2)\n#define TYPEC_VBUS_ERROR_INT_EN\t\t\t\tBIT(1)\n#define TYPEC_DEBOUNCE_DONE_INT_EN\t\t\tBIT(0)\n\n#define TYPEC_DEBOUNCE_OPTION_REG\t\t\t0x62\n#define REDUCE_TCCDEBOUNCE_TO_2MS\t\t\tBIT(2)\n\n#define TYPE_C_SBU_CFG_REG\t\t\t\t0x6A\n#define SEL_SBU1_ISRC_VAL\t\t\t\t0x04\n#define SEL_SBU2_ISRC_VAL\t\t\t\t0x01\n\n#define TYPEC_U_USB_CFG_REG\t\t\t\t0x70\n#define EN_MICRO_USB_FACTORY_MODE\t\t\tBIT(1)\n#define EN_MICRO_USB_MODE\t\t\t\tBIT(0)\n\n#define TYPEC_PMI632_U_USB_WATER_PROTECTION_CFG_REG\t0x72\n\n#define TYPEC_U_USB_WATER_PROTECTION_CFG_REG\t\t0x73\n#define EN_MICRO_USB_WATER_PROTECTION\t\t\tBIT(4)\n#define MICRO_USB_DETECTION_ON_TIME_CFG_MASK\t\tGENMASK(3, 2)\n#define MICRO_USB_DETECTION_PERIOD_CFG_MASK\t\tGENMASK(1, 0)\n\n#define TYPEC_PMI632_MICRO_USB_MODE_REG\t\t\t0x73\n#define MICRO_USB_MODE_ONLY\t\t\t\tBIT(0)\n\n \n#define PMIC_TYPEC_OR_RID_IRQ\t\t\t\t0x0\n#define PMIC_TYPEC_VPD_IRQ\t\t\t\t0x1\n#define PMIC_TYPEC_CC_STATE_IRQ\t\t\t\t0x2\n#define PMIC_TYPEC_VCONN_OC_IRQ\t\t\t\t0x3\n#define PMIC_TYPEC_VBUS_IRQ\t\t\t\t0x4\n#define PMIC_TYPEC_ATTACH_DETACH_IRQ\t\t\t0x5\n#define PMIC_TYPEC_LEGACY_CABLE_IRQ\t\t\t0x6\n#define PMIC_TYPEC_TRY_SNK_SRC_IRQ\t\t\t0x7\n\n \n#define PMIC_TYPEC_MAX_IRQS\t\t\t\t0x08\n\nstruct pmic_typec_port_irq_params {\n\tint\t\t\t\tvirq;\n\tchar\t\t\t\t*irq_name;\n};\n\nstruct pmic_typec_port_resources {\n\tunsigned int\t\t\t\tnr_irqs;\n\tstruct pmic_typec_port_irq_params\tirq_params[PMIC_TYPEC_MAX_IRQS];\n};\n\n \nstruct pmic_typec;\n\nstruct pmic_typec_port *qcom_pmic_typec_port_alloc(struct device *dev);\n\nint qcom_pmic_typec_port_probe(struct platform_device *pdev,\n\t\t\t       struct pmic_typec_port *pmic_typec_port,\n\t\t\t       struct pmic_typec_port_resources *res,\n\t\t\t       struct regmap *regmap,\n\t\t\t       u32 base);\n\nint qcom_pmic_typec_port_start(struct pmic_typec_port *pmic_typec_port,\n\t\t\t       struct tcpm_port *tcpm_port);\n\nvoid qcom_pmic_typec_port_stop(struct pmic_typec_port *pmic_typec_port);\n\nint qcom_pmic_typec_port_get_cc(struct pmic_typec_port *pmic_typec_port,\n\t\t\t\tenum typec_cc_status *cc1,\n\t\t\t\tenum typec_cc_status *cc2);\n\nint qcom_pmic_typec_port_set_cc(struct pmic_typec_port *pmic_typec_port,\n\t\t\t\tenum typec_cc_status cc);\n\nint qcom_pmic_typec_port_get_vbus(struct pmic_typec_port *pmic_typec_port);\n\nint qcom_pmic_typec_port_set_vconn(struct pmic_typec_port *pmic_typec_port, bool on);\n\nint qcom_pmic_typec_port_start_toggling(struct pmic_typec_port *pmic_typec_port,\n\t\t\t\t\tenum typec_port_type port_type,\n\t\t\t\t\tenum typec_cc_status cc);\n\nint qcom_pmic_typec_port_set_vbus(struct pmic_typec_port *pmic_typec_port, bool on);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}