{
  "module_name": "trace.h",
  "hash_id": "63a0ada5fd275bf715a47ef0f56f2c299f5150e6ce42a21294b7f3d441a48519",
  "original_prompt": "Ingested from linux-6.6.14/drivers/usb/typec/tipd/trace.h",
  "human_readable_source": " \n \n\n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM tps6598x\n\n#if !defined(_TPS6598X_TRACE_H_) || defined(TRACE_HEADER_MULTI_READ)\n#define _TPS6598X_TRACE_H_\n\n#include \"tps6598x.h\"\n\n#include <linux/stringify.h>\n#include <linux/types.h>\n#include <linux/tracepoint.h>\n\n#define show_irq_flags(flags) \\\n\t__print_flags_u64(flags, \"|\", \\\n\t\t{ TPS_REG_INT_PD_SOFT_RESET,\t\t\t\"PD_SOFT_RESET\" }, \\\n\t\t{ TPS_REG_INT_HARD_RESET,\t\t\t\"HARD_RESET\" }, \\\n\t\t{ TPS_REG_INT_PLUG_EVENT,\t\t\t\"PLUG_EVENT\" }, \\\n\t\t{ TPS_REG_INT_PR_SWAP_COMPLETE,\t\t\t\"PR_SWAP_COMPLETE\" }, \\\n\t\t{ TPS_REG_INT_DR_SWAP_COMPLETE,\t\t\t\"DR_SWAP_COMPLETE\" }, \\\n\t\t{ TPS_REG_INT_RDO_RECEIVED_FROM_SINK,\t\t\"RDO_RECEIVED_FROM_SINK\" }, \\\n\t\t{ TPS_REG_INT_BIST,\t\t\t\t\"BIST\" }, \\\n\t\t{ TPS_REG_INT_OVERCURRENT,\t\t\t\"OVERCURRENT\" }, \\\n\t\t{ TPS_REG_INT_ATTENTION_RECEIVED,\t\t\"ATTENTION_RECEIVED\" }, \\\n\t\t{ TPS_REG_INT_VDM_RECEIVED,\t\t\t\"VDM_RECEIVED\" }, \\\n\t\t{ TPS_REG_INT_NEW_CONTRACT_AS_CONSUMER,\t\t\"NEW_CONTRACT_AS_CONSUMER\" }, \\\n\t\t{ TPS_REG_INT_NEW_CONTRACT_AS_PROVIDER,\t\t\"NEW_CONTRACT_AS_PROVIDER\" }, \\\n\t\t{ TPS_REG_INT_SOURCE_CAP_MESSAGE_READY,\t\t\"SOURCE_CAP_MESSAGE_READY\" }, \\\n\t\t{ TPS_REG_INT_SINK_CAP_MESSAGE_READY,\t\t\"SINK_CAP_MESSAGE_READY\" }, \\\n\t\t{ TPS_REG_INT_PR_SWAP_REQUESTED,\t\t\"PR_SWAP_REQUESTED\" }, \\\n\t\t{ TPS_REG_INT_GOTO_MIN_RECEIVED,\t\t\"GOTO_MIN_RECEIVED\" }, \\\n\t\t{ TPS_REG_INT_USB_HOST_PRESENT,\t\t\t\"USB_HOST_PRESENT\" }, \\\n\t\t{ TPS_REG_INT_USB_HOST_PRESENT_NO_LONGER,\t\"USB_HOST_PRESENT_NO_LONGER\" }, \\\n\t\t{ TPS_REG_INT_HIGH_VOLTAGE_WARNING,\t\t\"HIGH_VOLTAGE_WARNING\" }, \\\n\t\t{ TPS_REG_INT_PP_SWITCH_CHANGED,\t\t\"PP_SWITCH_CHANGED\" }, \\\n\t\t{ TPS_REG_INT_POWER_STATUS_UPDATE,\t\t\"POWER_STATUS_UPDATE\" }, \\\n\t\t{ TPS_REG_INT_DATA_STATUS_UPDATE,\t\t\"DATA_STATUS_UPDATE\" }, \\\n\t\t{ TPS_REG_INT_STATUS_UPDATE,\t\t\t\"STATUS_UPDATE\" }, \\\n\t\t{ TPS_REG_INT_PD_STATUS_UPDATE,\t\t\t\"PD_STATUS_UPDATE\" }, \\\n\t\t{ TPS_REG_INT_ADC_LOW_THRESHOLD,\t\t\"ADC_LOW_THRESHOLD\" }, \\\n\t\t{ TPS_REG_INT_ADC_HIGH_THRESHOLD,\t\t\"ADC_HIGH_THRESHOLD\" }, \\\n\t\t{ TPS_REG_INT_CMD1_COMPLETE,\t\t\t\"CMD1_COMPLETE\" }, \\\n\t\t{ TPS_REG_INT_CMD2_COMPLETE,\t\t\t\"CMD2_COMPLETE\" }, \\\n\t\t{ TPS_REG_INT_ERROR_DEVICE_INCOMPATIBLE,\t\"ERROR_DEVICE_INCOMPATIBLE\" }, \\\n\t\t{ TPS_REG_INT_ERROR_CANNOT_PROVIDE_PWR,\t\t\"ERROR_CANNOT_PROVIDE_PWR\" }, \\\n\t\t{ TPS_REG_INT_ERROR_CAN_PROVIDE_PWR_LATER,\t\"ERROR_CAN_PROVIDE_PWR_LATER\" }, \\\n\t\t{ TPS_REG_INT_ERROR_POWER_EVENT_OCCURRED,\t\"ERROR_POWER_EVENT_OCCURRED\" }, \\\n\t\t{ TPS_REG_INT_ERROR_MISSING_GET_CAP_MESSAGE,\t\"ERROR_MISSING_GET_CAP_MESSAGE\" }, \\\n\t\t{ TPS_REG_INT_ERROR_PROTOCOL_ERROR,\t\t\"ERROR_PROTOCOL_ERROR\" }, \\\n\t\t{ TPS_REG_INT_ERROR_MESSAGE_DATA,\t\t\"ERROR_MESSAGE_DATA\" }, \\\n\t\t{ TPS_REG_INT_ERROR_DISCHARGE_FAILED,\t\t\"ERROR_DISCHARGE_FAILED\" }, \\\n\t\t{ TPS_REG_INT_SRC_TRANSITION,\t\t\t\"SRC_TRANSITION\" }, \\\n\t\t{ TPS_REG_INT_ERROR_UNABLE_TO_SOURCE,\t\t\"ERROR_UNABLE_TO_SOURCE\" }, \\\n\t\t{ TPS_REG_INT_VDM_ENTERED_MODE,\t\t\t\"VDM_ENTERED_MODE\" }, \\\n\t\t{ TPS_REG_INT_VDM_MSG_SENT,\t\t\t\"VDM_MSG_SENT\" }, \\\n\t\t{ TPS_REG_INT_DISCOVER_MODES_COMPLETE,\t\t\"DISCOVER_MODES_COMPLETE\" }, \\\n\t\t{ TPS_REG_INT_EXIT_MODES_COMPLETE,\t\t\"EXIT_MODES_COMPLETE\" }, \\\n\t\t{ TPS_REG_INT_USER_VID_ALT_MODE_ENTERED,\t\"USER_VID_ALT_MODE_ENTERED\" }, \\\n\t\t{ TPS_REG_INT_USER_VID_ALT_MODE_EXIT,\t\t\"USER_VID_ALT_MODE_EXIT\" }, \\\n\t\t{ TPS_REG_INT_USER_VID_ALT_MODE_ATTN_VDM,\t\"USER_VID_ALT_MODE_ATTN_VDM\" }, \\\n\t\t{ TPS_REG_INT_USER_VID_ALT_MODE_OTHER_VDM,\t\"USER_VID_ALT_MODE_OTHER_VDM\" })\n\n#define show_cd321x_irq_flags(flags) \\\n\t__print_flags_u64(flags, \"|\", \\\n\t\t{ APPLE_CD_REG_INT_PLUG_EVENT,\t\t\t\"PLUG_EVENT\" }, \\\n\t\t{ APPLE_CD_REG_INT_POWER_STATUS_UPDATE,\t\t\"POWER_STATUS_UPDATE\" }, \\\n\t\t{ APPLE_CD_REG_INT_DATA_STATUS_UPDATE,\t\t\"DATA_STATUS_UPDATE\" }, \\\n\t\t{ APPLE_CD_REG_INT_STATUS_UPDATE,\t\t\"STATUS_UPDATE\" })\n\n#define TPS6598X_STATUS_FLAGS_MASK (GENMASK(31, 0) ^ (TPS_STATUS_CONN_STATE_MASK | \\\n\t\t\t\t\t\t      TPS_STATUS_PP_5V0_SWITCH_MASK | \\\n\t\t\t\t\t\t      TPS_STATUS_PP_HV_SWITCH_MASK | \\\n\t\t\t\t\t\t      TPS_STATUS_PP_EXT_SWITCH_MASK | \\\n\t\t\t\t\t\t      TPS_STATUS_PP_CABLE_SWITCH_MASK | \\\n\t\t\t\t\t\t      TPS_STATUS_POWER_SOURCE_MASK | \\\n\t\t\t\t\t\t      TPS_STATUS_VBUS_STATUS_MASK | \\\n\t\t\t\t\t\t      TPS_STATUS_USB_HOST_PRESENT_MASK | \\\n\t\t\t\t\t\t      TPS_STATUS_LEGACY_MASK))\n\n#define show_status_conn_state(status) \\\n\t__print_symbolic(TPS_STATUS_CONN_STATE((status)), \\\n\t\t{ TPS_STATUS_CONN_STATE_CONN_WITH_R_A,\t\"conn-Ra\"  }, \\\n\t\t{ TPS_STATUS_CONN_STATE_CONN_NO_R_A,\t\"conn-no-Ra\" }, \\\n\t\t{ TPS_STATUS_CONN_STATE_NO_CONN_R_A,\t\"no-conn-Ra\" },\t\\\n\t\t{ TPS_STATUS_CONN_STATE_DEBUG_CONN,\t\"debug\"\t }, \\\n\t\t{ TPS_STATUS_CONN_STATE_AUDIO_CONN,\t\"audio\"\t }, \\\n\t\t{ TPS_STATUS_CONN_STATE_DISABLED,\t\"disabled\" }, \\\n\t\t{ TPS_STATUS_CONN_STATE_NO_CONN,\t\"no-conn\" })\n\n#define show_status_pp_switch_state(status) \\\n\t__print_symbolic(status, \\\n\t\t{ TPS_STATUS_PP_SWITCH_STATE_IN,\t\"in\" }, \\\n\t\t{ TPS_STATUS_PP_SWITCH_STATE_OUT,\t\"out\" }, \\\n\t\t{ TPS_STATUS_PP_SWITCH_STATE_FAULT,\t\"fault\" }, \\\n\t\t{ TPS_STATUS_PP_SWITCH_STATE_DISABLED,\t\"off\" })\n\n#define show_status_power_sources(status) \\\n\t__print_symbolic(TPS_STATUS_POWER_SOURCE(status), \\\n\t\t{ TPS_STATUS_POWER_SOURCE_VBUS,\t\t\"vbus\" }, \\\n\t\t{ TPS_STATUS_POWER_SOURCE_VIN_3P3,\t\"vin-3p3\" }, \\\n\t\t{ TPS_STATUS_POWER_SOURCE_DEAD_BAT,\t\"dead-battery\" }, \\\n\t\t{ TPS_STATUS_POWER_SOURCE_UNKNOWN,\t\"unknown\" })\n\n#define show_status_vbus_status(status) \\\n\t__print_symbolic(TPS_STATUS_VBUS_STATUS(status), \\\n\t\t{ TPS_STATUS_VBUS_STATUS_VSAFE0V,\t\"vSafe0V\" }, \\\n\t\t{ TPS_STATUS_VBUS_STATUS_VSAFE5V,\t\"vSafe5V\" }, \\\n\t\t{ TPS_STATUS_VBUS_STATUS_PD,\t\t\"pd\" }, \\\n\t\t{ TPS_STATUS_VBUS_STATUS_FAULT,\t\t\"fault\" })\n\n#define show_status_usb_host_present(status) \\\n\t__print_symbolic(TPS_STATUS_USB_HOST_PRESENT(status), \\\n\t\t{ TPS_STATUS_USB_HOST_PRESENT_PD_USB,\t \"pd-usb\" }, \\\n\t\t{ TPS_STATUS_USB_HOST_PRESENT_NO_PD,\t \"no-pd\" }, \\\n\t\t{ TPS_STATUS_USB_HOST_PRESENT_PD_NO_USB, \"pd-no-usb\" }, \\\n\t\t{ TPS_STATUS_USB_HOST_PRESENT_NO,\t \"no\" })\n\n#define show_status_legacy(status) \\\n\t__print_symbolic(TPS_STATUS_LEGACY(status),\t     \\\n\t\t{ TPS_STATUS_LEGACY_SOURCE,\t\t \"source\" }, \\\n\t\t{ TPS_STATUS_LEGACY_SINK,\t\t \"sink\" }, \\\n\t\t{ TPS_STATUS_LEGACY_NO,\t\t\t \"no\" })\n\n#define show_status_flags(flags) \\\n\t__print_flags((flags & TPS6598X_STATUS_FLAGS_MASK), \"|\", \\\n\t\t      { TPS_STATUS_PLUG_PRESENT,\t\"PLUG_PRESENT\" }, \\\n\t\t      { TPS_STATUS_PLUG_UPSIDE_DOWN,\t\"UPSIDE_DOWN\" }, \\\n\t\t      { TPS_STATUS_PORTROLE,\t\t\"PORTROLE\" }, \\\n\t\t      { TPS_STATUS_DATAROLE,\t\t\"DATAROLE\" }, \\\n\t\t      { TPS_STATUS_VCONN,\t\t\"VCONN\" }, \\\n\t\t      { TPS_STATUS_OVERCURRENT,\t\t\"OVERCURRENT\" }, \\\n\t\t      { TPS_STATUS_GOTO_MIN_ACTIVE,\t\"GOTO_MIN_ACTIVE\" }, \\\n\t\t      { TPS_STATUS_BIST,\t\t\"BIST\" }, \\\n\t\t      { TPS_STATUS_HIGH_VOLAGE_WARNING,\t\"HIGH_VOLAGE_WARNING\" }, \\\n\t\t      { TPS_STATUS_HIGH_LOW_VOLTAGE_WARNING, \"HIGH_LOW_VOLTAGE_WARNING\" })\n\n#define show_power_status_source_sink(power_status) \\\n\t__print_symbolic(TPS_POWER_STATUS_SOURCESINK(power_status), \\\n\t\t{ 1, \"sink\" }, \\\n\t\t{ 0, \"source\" })\n\n#define show_power_status_typec_status(power_status) \\\n\t__print_symbolic(TPS_POWER_STATUS_PWROPMODE(power_status), \\\n\t\t{ TPS_POWER_STATUS_TYPEC_CURRENT_PD,  \"pd\" }, \\\n\t\t{ TPS_POWER_STATUS_TYPEC_CURRENT_3A0, \"3.0A\" }, \\\n\t\t{ TPS_POWER_STATUS_TYPEC_CURRENT_1A5, \"1.5A\" }, \\\n\t\t{ TPS_POWER_STATUS_TYPEC_CURRENT_USB, \"usb\" })\n\n#define show_power_status_bc12_status(power_status) \\\n\t__print_symbolic(TPS_POWER_STATUS_BC12_STATUS(power_status), \\\n\t\t{ TPS_POWER_STATUS_BC12_STATUS_DCP, \"dcp\" }, \\\n\t\t{ TPS_POWER_STATUS_BC12_STATUS_CDP, \"cdp\" }, \\\n\t\t{ TPS_POWER_STATUS_BC12_STATUS_SDP, \"sdp\" })\n\n#define TPS_DATA_STATUS_FLAGS_MASK (GENMASK(31, 0) ^ (TPS_DATA_STATUS_DP_PIN_ASSIGNMENT_MASK | \\\n\t\t\t\t\t\t      TPS_DATA_STATUS_TBT_CABLE_SPEED_MASK | \\\n\t\t\t\t\t\t      TPS_DATA_STATUS_TBT_CABLE_GEN_MASK))\n\n#define show_data_status_flags(data_status) \\\n\t__print_flags(data_status & TPS_DATA_STATUS_FLAGS_MASK, \"|\", \\\n\t\t{ TPS_DATA_STATUS_DATA_CONNECTION,\t\"DATA_CONNECTION\" }, \\\n\t\t{ TPS_DATA_STATUS_UPSIDE_DOWN,\t\t\"DATA_UPSIDE_DOWN\" }, \\\n\t\t{ TPS_DATA_STATUS_ACTIVE_CABLE,\t\t\"ACTIVE_CABLE\" }, \\\n\t\t{ TPS_DATA_STATUS_USB2_CONNECTION,\t\"USB2_CONNECTION\" }, \\\n\t\t{ TPS_DATA_STATUS_USB3_CONNECTION,\t\"USB3_CONNECTION\" }, \\\n\t\t{ TPS_DATA_STATUS_USB3_GEN2,\t\t\"USB3_GEN2\" }, \\\n\t\t{ TPS_DATA_STATUS_USB_DATA_ROLE,\t\"USB_DATA_ROLE\" }, \\\n\t\t{ TPS_DATA_STATUS_DP_CONNECTION,\t\"DP_CONNECTION\" }, \\\n\t\t{ TPS_DATA_STATUS_DP_SINK,\t\t\"DP_SINK\" }, \\\n\t\t{ TPS_DATA_STATUS_TBT_CONNECTION,\t\"TBT_CONNECTION\" }, \\\n\t\t{ TPS_DATA_STATUS_TBT_TYPE,\t\t\"TBT_TYPE\" }, \\\n\t\t{ TPS_DATA_STATUS_OPTICAL_CABLE,\t\"OPTICAL_CABLE\" }, \\\n\t\t{ TPS_DATA_STATUS_ACTIVE_LINK_TRAIN,\t\"ACTIVE_LINK_TRAIN\" }, \\\n\t\t{ TPS_DATA_STATUS_FORCE_LSX,\t\t\"FORCE_LSX\" }, \\\n\t\t{ TPS_DATA_STATUS_POWER_MISMATCH,\t\"POWER_MISMATCH\" })\n\n#define show_data_status_dp_pin_assignment(data_status) \\\n\t__print_symbolic(TPS_DATA_STATUS_DP_SPEC_PIN_ASSIGNMENT(data_status), \\\n\t\t{ TPS_DATA_STATUS_DP_SPEC_PIN_ASSIGNMENT_E, \"E\" }, \\\n\t\t{ TPS_DATA_STATUS_DP_SPEC_PIN_ASSIGNMENT_F, \"F\" }, \\\n\t\t{ TPS_DATA_STATUS_DP_SPEC_PIN_ASSIGNMENT_C, \"C\" }, \\\n\t\t{ TPS_DATA_STATUS_DP_SPEC_PIN_ASSIGNMENT_D, \"D\" }, \\\n\t\t{ TPS_DATA_STATUS_DP_SPEC_PIN_ASSIGNMENT_A, \"A\" }, \\\n\t\t{ TPS_DATA_STATUS_DP_SPEC_PIN_ASSIGNMENT_B, \"B\" })\n\n#define maybe_show_data_status_dp_pin_assignment(data_status) \\\n\t(data_status & TPS_DATA_STATUS_DP_CONNECTION ? \\\n\t show_data_status_dp_pin_assignment(data_status) : \"\")\n\nTRACE_EVENT(tps6598x_irq,\n\t    TP_PROTO(u64 event1,\n\t\t     u64 event2),\n\t    TP_ARGS(event1, event2),\n\n\t    TP_STRUCT__entry(\n\t\t\t     __field(u64, event1)\n\t\t\t     __field(u64, event2)\n\t\t\t     ),\n\n\t    TP_fast_assign(\n\t\t\t   __entry->event1 = event1;\n\t\t\t   __entry->event2 = event2;\n\t\t\t   ),\n\n\t    TP_printk(\"event1=%s, event2=%s\",\n\t\t      show_irq_flags(__entry->event1),\n\t\t      show_irq_flags(__entry->event2))\n);\n\nTRACE_EVENT(cd321x_irq,\n\t    TP_PROTO(u64 event),\n\t    TP_ARGS(event),\n\n\t    TP_STRUCT__entry(\n\t\t\t     __field(u64, event)\n\t\t\t     ),\n\n\t    TP_fast_assign(\n\t\t\t   __entry->event = event;\n\t\t\t   ),\n\n\t    TP_printk(\"event=%s\",\n\t\t      show_cd321x_irq_flags(__entry->event))\n);\n\nTRACE_EVENT(tps6598x_status,\n\t    TP_PROTO(u32 status),\n\t    TP_ARGS(status),\n\n\t    TP_STRUCT__entry(\n\t\t\t     __field(u32, status)\n\t\t\t     ),\n\n\t    TP_fast_assign(\n\t\t\t   __entry->status = status;\n\t\t\t   ),\n\n\t    TP_printk(\"conn: %s, pp_5v0: %s, pp_hv: %s, pp_ext: %s, pp_cable: %s, \"\n\t\t      \"pwr-src: %s, vbus: %s, usb-host: %s, legacy: %s, flags: %s\",\n\t\t      show_status_conn_state(__entry->status),\n\t\t      show_status_pp_switch_state(TPS_STATUS_PP_5V0_SWITCH(__entry->status)),\n\t\t      show_status_pp_switch_state(TPS_STATUS_PP_HV_SWITCH(__entry->status)),\n\t\t      show_status_pp_switch_state(TPS_STATUS_PP_EXT_SWITCH(__entry->status)),\n\t\t      show_status_pp_switch_state(TPS_STATUS_PP_CABLE_SWITCH(__entry->status)),\n\t\t      show_status_power_sources(__entry->status),\n\t\t      show_status_vbus_status(__entry->status),\n\t\t      show_status_usb_host_present(__entry->status),\n\t\t      show_status_legacy(__entry->status),\n\t\t      show_status_flags(__entry->status)\n\t\t    )\n);\n\nTRACE_EVENT(tps6598x_power_status,\n\t    TP_PROTO(u16 power_status),\n\t    TP_ARGS(power_status),\n\n\t    TP_STRUCT__entry(\n\t\t\t     __field(u16, power_status)\n\t\t\t     ),\n\n\t    TP_fast_assign(\n\t\t\t   __entry->power_status = power_status;\n\t\t\t   ),\n\n\t    TP_printk(\"conn: %d, pwr-role: %s, typec: %s, bc: %s\",\n\t\t      !!TPS_POWER_STATUS_CONNECTION(__entry->power_status),\n\t\t      show_power_status_source_sink(__entry->power_status),\n\t\t      show_power_status_typec_status(__entry->power_status),\n\t\t      show_power_status_bc12_status(__entry->power_status)\n\t\t    )\n);\n\nTRACE_EVENT(tps6598x_data_status,\n\t    TP_PROTO(u32 data_status),\n\t    TP_ARGS(data_status),\n\n\t    TP_STRUCT__entry(\n\t\t\t     __field(u32, data_status)\n\t\t\t     ),\n\n\t    TP_fast_assign(\n\t\t\t   __entry->data_status = data_status;\n\t\t\t   ),\n\n\t    TP_printk(\"%s%s%s\",\n\t\t      show_data_status_flags(__entry->data_status),\n\t\t      __entry->data_status & TPS_DATA_STATUS_DP_CONNECTION ? \", DP pinout \" : \"\",\n\t\t      maybe_show_data_status_dp_pin_assignment(__entry->data_status)\n\t\t    )\n);\n\n#endif  \n\n \n#undef TRACE_INCLUDE_FILE\n#define TRACE_INCLUDE_FILE trace\n#undef TRACE_INCLUDE_PATH\n#define TRACE_INCLUDE_PATH .\n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}