{
  "module_name": "usual-tables.c",
  "hash_id": "c1026e23dfff92b1aecf1037dbc471bde7cdd5c637ed1ee88f3e4e03c8feac99",
  "original_prompt": "Ingested from linux-6.6.14/drivers/usb/storage/usual-tables.c",
  "human_readable_source": "\n \n\n#include <linux/kernel.h>\n#include <linux/module.h>\n#include <linux/usb.h>\n#include <linux/usb_usual.h>\n\n\n \n#define UNUSUAL_DEV(id_vendor, id_product, bcdDeviceMin, bcdDeviceMax, \\\n\t\t    vendorName, productName, useProtocol, useTransport, \\\n\t\t    initFunction, flags) \\\n{ USB_DEVICE_VER(id_vendor, id_product, bcdDeviceMin, bcdDeviceMax), \\\n  .driver_info = (flags) }\n\n#define COMPLIANT_DEV\tUNUSUAL_DEV\n\n#define USUAL_DEV(useProto, useTrans) \\\n{ USB_INTERFACE_INFO(USB_CLASS_MASS_STORAGE, useProto, useTrans) }\n\n \n#define UNUSUAL_VENDOR_INTF(id_vendor, cl, sc, pr, \\\n\t\t\tvendorName, productName, useProtocol, useTransport, \\\n\t\t\tinitFunction, flags) \\\n{ \\\n\t.match_flags = USB_DEVICE_ID_MATCH_INT_INFO \\\n\t\t\t\t| USB_DEVICE_ID_MATCH_VENDOR, \\\n\t.idVendor    = (id_vendor), \\\n\t.bInterfaceClass = (cl), \\\n\t.bInterfaceSubClass = (sc), \\\n\t.bInterfaceProtocol = (pr), \\\n\t.driver_info = (flags) \\\n}\n\nconst struct usb_device_id usb_storage_usb_ids[] = {\n#\tinclude \"unusual_devs.h\"\n\t{ }\t\t \n};\nMODULE_DEVICE_TABLE(usb, usb_storage_usb_ids);\n\n#undef UNUSUAL_DEV\n#undef COMPLIANT_DEV\n#undef USUAL_DEV\n#undef UNUSUAL_VENDOR_INTF\n\n \nstruct ignore_entry {\n\tu16\tvid, pid, bcdmin, bcdmax;\n};\n\n#define UNUSUAL_DEV(id_vendor, id_product, bcdDeviceMin, bcdDeviceMax, \\\n\t\t    vendorName, productName, useProtocol, useTransport, \\\n\t\t    initFunction, flags) \\\n{\t\t\t\t\t\\\n\t.vid\t= id_vendor,\t\t\\\n\t.pid \t= id_product,\t\t\\\n\t.bcdmin\t= bcdDeviceMin,\t\t\\\n\t.bcdmax = bcdDeviceMax,\t\t\\\n}\n\nstatic const struct ignore_entry ignore_ids[] = {\n#\tinclude \"unusual_alauda.h\"\n#\tinclude \"unusual_cypress.h\"\n#\tinclude \"unusual_datafab.h\"\n#\tinclude \"unusual_ene_ub6250.h\"\n#\tinclude \"unusual_freecom.h\"\n#\tinclude \"unusual_isd200.h\"\n#\tinclude \"unusual_jumpshot.h\"\n#\tinclude \"unusual_karma.h\"\n#\tinclude \"unusual_onetouch.h\"\n#\tinclude \"unusual_realtek.h\"\n#\tinclude \"unusual_sddr09.h\"\n#\tinclude \"unusual_sddr55.h\"\n#\tinclude \"unusual_usbat.h\"\n\t{ }\t\t \n};\n\n#undef UNUSUAL_DEV\n\n \nint usb_usual_ignore_device(struct usb_interface *intf)\n{\n\tstruct usb_device *udev;\n\tunsigned vid, pid, bcd;\n\tconst struct ignore_entry *p;\n\n\tudev = interface_to_usbdev(intf);\n\tvid = le16_to_cpu(udev->descriptor.idVendor);\n\tpid = le16_to_cpu(udev->descriptor.idProduct);\n\tbcd = le16_to_cpu(udev->descriptor.bcdDevice);\n\n\tfor (p = ignore_ids; p->vid; ++p) {\n\t\tif (p->vid == vid && p->pid == pid &&\n\t\t\t\tp->bcdmin <= bcd && p->bcdmax >= bcd)\n\t\t\treturn -ENXIO;\n\t}\n\treturn 0;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}