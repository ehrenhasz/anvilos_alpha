{
  "module_name": "debug.c",
  "hash_id": "daeecb318b960b4153b4c17dac6ebf2b48d48e3a1136ba9dd039e7a8b2416030",
  "original_prompt": "Ingested from linux-6.6.14/drivers/usb/storage/debug.c",
  "human_readable_source": "\n \n\n#include <linux/device.h>\n#include <linux/cdrom.h>\n#include <linux/export.h>\n#include <scsi/scsi.h>\n#include <scsi/scsi_cmnd.h>\n#include <scsi/scsi_dbg.h>\n\n#include \"usb.h\"\n#include \"debug.h\"\n\n\nvoid usb_stor_show_command(const struct us_data *us, struct scsi_cmnd *srb)\n{\n\tchar *what = NULL;\n\n\tswitch (srb->cmnd[0]) {\n\tcase TEST_UNIT_READY: what = \"TEST_UNIT_READY\"; break;\n\tcase REZERO_UNIT: what = \"REZERO_UNIT\"; break;\n\tcase REQUEST_SENSE: what = \"REQUEST_SENSE\"; break;\n\tcase FORMAT_UNIT: what = \"FORMAT_UNIT\"; break;\n\tcase READ_BLOCK_LIMITS: what = \"READ_BLOCK_LIMITS\"; break;\n\tcase REASSIGN_BLOCKS: what = \"REASSIGN_BLOCKS\"; break;\n\tcase READ_6: what = \"READ_6\"; break;\n\tcase WRITE_6: what = \"WRITE_6\"; break;\n\tcase SEEK_6: what = \"SEEK_6\"; break;\n\tcase READ_REVERSE: what = \"READ_REVERSE\"; break;\n\tcase WRITE_FILEMARKS: what = \"WRITE_FILEMARKS\"; break;\n\tcase SPACE: what = \"SPACE\"; break;\n\tcase INQUIRY: what = \"INQUIRY\"; break;\n\tcase RECOVER_BUFFERED_DATA: what = \"RECOVER_BUFFERED_DATA\"; break;\n\tcase MODE_SELECT: what = \"MODE_SELECT\"; break;\n\tcase RESERVE: what = \"RESERVE\"; break;\n\tcase RELEASE: what = \"RELEASE\"; break;\n\tcase COPY: what = \"COPY\"; break;\n\tcase ERASE: what = \"ERASE\"; break;\n\tcase MODE_SENSE: what = \"MODE_SENSE\"; break;\n\tcase START_STOP: what = \"START_STOP\"; break;\n\tcase RECEIVE_DIAGNOSTIC: what = \"RECEIVE_DIAGNOSTIC\"; break;\n\tcase SEND_DIAGNOSTIC: what = \"SEND_DIAGNOSTIC\"; break;\n\tcase ALLOW_MEDIUM_REMOVAL: what = \"ALLOW_MEDIUM_REMOVAL\"; break;\n\tcase SET_WINDOW: what = \"SET_WINDOW\"; break;\n\tcase READ_CAPACITY: what = \"READ_CAPACITY\"; break;\n\tcase READ_10: what = \"READ_10\"; break;\n\tcase WRITE_10: what = \"WRITE_10\"; break;\n\tcase SEEK_10: what = \"SEEK_10\"; break;\n\tcase WRITE_VERIFY: what = \"WRITE_VERIFY\"; break;\n\tcase VERIFY: what = \"VERIFY\"; break;\n\tcase SEARCH_HIGH: what = \"SEARCH_HIGH\"; break;\n\tcase SEARCH_EQUAL: what = \"SEARCH_EQUAL\"; break;\n\tcase SEARCH_LOW: what = \"SEARCH_LOW\"; break;\n\tcase SET_LIMITS: what = \"SET_LIMITS\"; break;\n\tcase READ_POSITION: what = \"READ_POSITION\"; break;\n\tcase SYNCHRONIZE_CACHE: what = \"SYNCHRONIZE_CACHE\"; break;\n\tcase LOCK_UNLOCK_CACHE: what = \"LOCK_UNLOCK_CACHE\"; break;\n\tcase READ_DEFECT_DATA: what = \"READ_DEFECT_DATA\"; break;\n\tcase MEDIUM_SCAN: what = \"MEDIUM_SCAN\"; break;\n\tcase COMPARE: what = \"COMPARE\"; break;\n\tcase COPY_VERIFY: what = \"COPY_VERIFY\"; break;\n\tcase WRITE_BUFFER: what = \"WRITE_BUFFER\"; break;\n\tcase READ_BUFFER: what = \"READ_BUFFER\"; break;\n\tcase UPDATE_BLOCK: what = \"UPDATE_BLOCK\"; break;\n\tcase READ_LONG: what = \"READ_LONG\"; break;\n\tcase WRITE_LONG: what = \"WRITE_LONG\"; break;\n\tcase CHANGE_DEFINITION: what = \"CHANGE_DEFINITION\"; break;\n\tcase WRITE_SAME: what = \"WRITE_SAME\"; break;\n\tcase GPCMD_READ_SUBCHANNEL: what = \"READ SUBCHANNEL\"; break;\n\tcase READ_TOC: what = \"READ_TOC\"; break;\n\tcase GPCMD_READ_HEADER: what = \"READ HEADER\"; break;\n\tcase GPCMD_PLAY_AUDIO_10: what = \"PLAY AUDIO (10)\"; break;\n\tcase GPCMD_PLAY_AUDIO_MSF: what = \"PLAY AUDIO MSF\"; break;\n\tcase GPCMD_GET_EVENT_STATUS_NOTIFICATION:\n\t\twhat = \"GET EVENT/STATUS NOTIFICATION\"; break;\n\tcase GPCMD_PAUSE_RESUME: what = \"PAUSE/RESUME\"; break;\n\tcase LOG_SELECT: what = \"LOG_SELECT\"; break;\n\tcase LOG_SENSE: what = \"LOG_SENSE\"; break;\n\tcase GPCMD_STOP_PLAY_SCAN: what = \"STOP PLAY/SCAN\"; break;\n\tcase GPCMD_READ_DISC_INFO: what = \"READ DISC INFORMATION\"; break;\n\tcase GPCMD_READ_TRACK_RZONE_INFO:\n\t\twhat = \"READ TRACK INFORMATION\"; break;\n\tcase GPCMD_RESERVE_RZONE_TRACK: what = \"RESERVE TRACK\"; break;\n\tcase GPCMD_SEND_OPC: what = \"SEND OPC\"; break;\n\tcase MODE_SELECT_10: what = \"MODE_SELECT_10\"; break;\n\tcase GPCMD_REPAIR_RZONE_TRACK: what = \"REPAIR TRACK\"; break;\n\tcase 0x59: what = \"READ MASTER CUE\"; break;\n\tcase MODE_SENSE_10: what = \"MODE_SENSE_10\"; break;\n\tcase GPCMD_CLOSE_TRACK: what = \"CLOSE TRACK/SESSION\"; break;\n\tcase 0x5C: what = \"READ BUFFER CAPACITY\"; break;\n\tcase 0x5D: what = \"SEND CUE SHEET\"; break;\n\tcase GPCMD_BLANK: what = \"BLANK\"; break;\n\tcase REPORT_LUNS: what = \"REPORT LUNS\"; break;\n\tcase MOVE_MEDIUM: what = \"MOVE_MEDIUM or PLAY AUDIO (12)\"; break;\n\tcase READ_12: what = \"READ_12\"; break;\n\tcase WRITE_12: what = \"WRITE_12\"; break;\n\tcase WRITE_VERIFY_12: what = \"WRITE_VERIFY_12\"; break;\n\tcase SEARCH_HIGH_12: what = \"SEARCH_HIGH_12\"; break;\n\tcase SEARCH_EQUAL_12: what = \"SEARCH_EQUAL_12\"; break;\n\tcase SEARCH_LOW_12: what = \"SEARCH_LOW_12\"; break;\n\tcase SEND_VOLUME_TAG: what = \"SEND_VOLUME_TAG\"; break;\n\tcase READ_ELEMENT_STATUS: what = \"READ_ELEMENT_STATUS\"; break;\n\tcase GPCMD_READ_CD_MSF: what = \"READ CD MSF\"; break;\n\tcase GPCMD_SCAN: what = \"SCAN\"; break;\n\tcase GPCMD_SET_SPEED: what = \"SET CD SPEED\"; break;\n\tcase GPCMD_MECHANISM_STATUS: what = \"MECHANISM STATUS\"; break;\n\tcase GPCMD_READ_CD: what = \"READ CD\"; break;\n\tcase 0xE1: what = \"WRITE CONTINUE\"; break;\n\tcase WRITE_LONG_2: what = \"WRITE_LONG_2\"; break;\n\tdefault: what = \"(unknown command)\"; break;\n\t}\n\tusb_stor_dbg(us, \"Command %s (%d bytes)\\n\", what, srb->cmd_len);\n\tusb_stor_dbg(us, \"bytes: %*ph\\n\", min_t(int, srb->cmd_len, 16),\n\t\t     (const unsigned char *)srb->cmnd);\n}\n\nvoid usb_stor_show_sense(const struct us_data *us,\n\t\t\t unsigned char key,\n\t\t\t unsigned char asc,\n\t\t\t unsigned char ascq)\n{\n\tconst char *what, *keystr, *fmt;\n\n\tkeystr = scsi_sense_key_string(key);\n\twhat = scsi_extd_sense_format(asc, ascq, &fmt);\n\n\tif (keystr == NULL)\n\t\tkeystr = \"(Unknown Key)\";\n\tif (what == NULL)\n\t\twhat = \"(unknown ASC/ASCQ)\";\n\n\tif (fmt)\n\t\tusb_stor_dbg(us, \"%s: %s (%s%x)\\n\", keystr, what, fmt, ascq);\n\telse\n\t\tusb_stor_dbg(us, \"%s: %s\\n\", keystr, what);\n}\n\nvoid usb_stor_dbg(const struct us_data *us, const char *fmt, ...)\n{\n\tva_list args;\n\n\tva_start(args, fmt);\n\n\tdev_vprintk_emit(LOGLEVEL_DEBUG, &us->pusb_dev->dev, fmt, args);\n\n\tva_end(args);\n}\nEXPORT_SYMBOL_GPL(usb_stor_dbg);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}