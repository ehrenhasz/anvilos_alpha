{
  "module_name": "isp1760-hcd.h",
  "hash_id": "b57a3414e58ec9551a28dee9ae1318ccdd60bc1633fa0a5a5e262ba5c762315f",
  "original_prompt": "Ingested from linux-6.6.14/drivers/usb/isp1760/isp1760-hcd.h",
  "human_readable_source": " \n#ifndef _ISP1760_HCD_H_\n#define _ISP1760_HCD_H_\n\n#include <linux/spinlock.h>\n#include <linux/regmap.h>\n\n#include \"isp1760-regs.h\"\n\nstruct isp1760_qh;\nstruct isp1760_qtd;\nstruct resource;\nstruct usb_hcd;\n\nstruct isp1760_slotinfo {\n\tstruct isp1760_qh *qh;\n\tstruct isp1760_qtd *qtd;\n\tunsigned long timestamp;\n};\n\n \n#define ISP176x_BLOCK_MAX (32 + 20 + 4)\n#define ISP176x_BLOCK_NUM 3\n\nstruct isp1760_memory_layout {\n\tunsigned int blocks[ISP176x_BLOCK_NUM];\n\tunsigned int blocks_size[ISP176x_BLOCK_NUM];\n\n\tunsigned int slot_num;\n\tunsigned int payload_blocks;\n\tunsigned int payload_area_size;\n};\n\nstruct isp1760_memory_chunk {\n\tunsigned int start;\n\tunsigned int size;\n\tunsigned int free;\n};\n\nenum isp1760_queue_head_types {\n\tQH_CONTROL,\n\tQH_BULK,\n\tQH_INTERRUPT,\n\tQH_END\n};\n\nstruct isp1760_hcd {\n\tstruct usb_hcd\t\t*hcd;\n\n\tvoid __iomem\t\t*base;\n\n\tstruct regmap\t\t*regs;\n\tstruct regmap_field\t*fields[HC_FIELD_MAX];\n\n\tbool\t\t\tis_isp1763;\n\tconst struct isp1760_memory_layout\t*memory_layout;\n\n\tspinlock_t\t\tlock;\n\tstruct isp1760_slotinfo\t*atl_slots;\n\tint\t\t\tatl_done_map;\n\tstruct isp1760_slotinfo\t*int_slots;\n\tint\t\t\tint_done_map;\n\tstruct isp1760_memory_chunk memory_pool[ISP176x_BLOCK_MAX];\n\tstruct list_head\tqh_list[QH_END];\n\n\t \n#define\tDEFAULT_I_TDPS\t\t1024\n\tunsigned\t\tperiodic_size;\n\tunsigned\t\ti_thresh;\n\tunsigned long\t\treset_done;\n\tunsigned long\t\tnext_statechange;\n};\n\n#ifdef CONFIG_USB_ISP1760_HCD\nint isp1760_hcd_register(struct isp1760_hcd *priv, struct resource *mem,\n\t\t\t int irq, unsigned long irqflags, struct device *dev);\nvoid isp1760_hcd_unregister(struct isp1760_hcd *priv);\n\nint isp1760_init_kmem_once(void);\nvoid isp1760_deinit_kmem_cache(void);\n#else\nstatic inline int isp1760_hcd_register(struct isp1760_hcd *priv,\n\t\t\t\t       struct resource *mem,\n\t\t\t\t       int irq, unsigned long irqflags,\n\t\t\t\t       struct device *dev)\n{\n\treturn 0;\n}\n\nstatic inline void isp1760_hcd_unregister(struct isp1760_hcd *priv)\n{\n}\n\nstatic inline int isp1760_init_kmem_once(void)\n{\n\treturn 0;\n}\n\nstatic inline void isp1760_deinit_kmem_cache(void)\n{\n}\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}