{
  "module_name": "core.h",
  "hash_id": "1c02c839bbbdead5c9d894cacd0fb83d1d0b2ea7abcb35149d6423ec59400189",
  "original_prompt": "Ingested from linux-6.6.14/drivers/usb/cdns3/core.h",
  "human_readable_source": " \n \n#ifndef __LINUX_CDNS3_CORE_H\n#define __LINUX_CDNS3_CORE_H\n\n#include <linux/usb/otg.h>\n#include <linux/usb/role.h>\n\nstruct cdns;\n\n \nstruct cdns_role_driver {\n\tint (*start)(struct cdns *cdns);\n\tvoid (*stop)(struct cdns *cdns);\n\tint (*suspend)(struct cdns *cdns, bool do_wakeup);\n\tint (*resume)(struct cdns *cdns, bool hibernated);\n\tconst char *name;\n#define CDNS_ROLE_STATE_INACTIVE\t0\n#define CDNS_ROLE_STATE_ACTIVE\t\t1\n\tint state;\n};\n\n#define CDNS_XHCI_RESOURCES_NUM\t2\n\nstruct cdns3_platform_data {\n\tint (*platform_suspend)(struct device *dev,\n\t\t\tbool suspend, bool wakeup);\n\tunsigned long quirks;\n#define CDNS3_DEFAULT_PM_RUNTIME_ALLOW\tBIT(0)\n};\n\n \nstruct cdns {\n\tstruct device\t\t\t*dev;\n\tvoid __iomem\t\t\t*xhci_regs;\n\tstruct resource\t\t\txhci_res[CDNS_XHCI_RESOURCES_NUM];\n\tstruct cdns3_usb_regs __iomem\t*dev_regs;\n\n\tstruct resource\t\t\t\totg_res;\n\tstruct cdns3_otg_legacy_regs __iomem\t*otg_v0_regs;\n\tstruct cdns3_otg_regs __iomem\t\t*otg_v1_regs;\n\tstruct cdnsp_otg_regs __iomem\t\t*otg_cdnsp_regs;\n\tstruct cdns_otg_common_regs __iomem\t*otg_regs;\n\tstruct cdns_otg_irq_regs __iomem\t*otg_irq_regs;\n#define CDNS3_CONTROLLER_V0\t0\n#define CDNS3_CONTROLLER_V1\t1\n#define CDNSP_CONTROLLER_V2\t2\n\tu32\t\t\t\tversion;\n\tbool\t\t\t\tphyrst_a_enable;\n\n\tint\t\t\t\totg_irq;\n\tint\t\t\t\tdev_irq;\n\tint\t\t\t\twakeup_irq;\n\tstruct cdns_role_driver\t*roles[USB_ROLE_DEVICE + 1];\n\tenum usb_role\t\t\trole;\n\tstruct platform_device\t\t*host_dev;\n\tvoid\t\t\t\t*gadget_dev;\n\tstruct phy\t\t\t*usb2_phy;\n\tstruct phy\t\t\t*usb3_phy;\n\t \n\tstruct mutex\t\t\tmutex;\n\tenum usb_dr_mode\t\tdr_mode;\n\tstruct usb_role_switch\t\t*role_sw;\n\tbool\t\t\t\tin_lpm;\n\tbool\t\t\t\twakeup_pending;\n\tstruct cdns3_platform_data\t*pdata;\n\tspinlock_t\t\t\tlock;\n\tstruct xhci_plat_priv\t\t*xhci_plat_data;\n\n\tint (*gadget_init)(struct cdns *cdns);\n};\n\nint cdns_hw_role_switch(struct cdns *cdns);\nint cdns_init(struct cdns *cdns);\nint cdns_remove(struct cdns *cdns);\n\n#ifdef CONFIG_PM_SLEEP\nint cdns_resume(struct cdns *cdns);\nint cdns_suspend(struct cdns *cdns);\nvoid cdns_set_active(struct cdns *cdns, u8 set_active);\n#else  \nstatic inline int cdns_resume(struct cdns *cdns)\n{ return 0; }\nstatic inline void cdns_set_active(struct cdns *cdns, u8 set_active) { }\nstatic inline int cdns_suspend(struct cdns *cdns)\n{ return 0; }\n#endif  \n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}