{
  "module_name": "c67x00.h",
  "hash_id": "1766d896a78e427fb5b4a92cddcf69af02d9146d0c3956208ba2526fbaf3cfca",
  "original_prompt": "Ingested from linux-6.6.14/drivers/usb/c67x00/c67x00.h",
  "human_readable_source": " \n \n\n#ifndef _USB_C67X00_H\n#define _USB_C67X00_H\n\n#include <linux/spinlock.h>\n#include <linux/platform_device.h>\n#include <linux/completion.h>\n#include <linux/mutex.h>\n\n \n\n \n#define HW_REV_REG\t\t0xC004\n\n \n \n\n \n#define USB_CTL_REG(x)\t\t((x) ? 0xC0AA : 0xC08A)\n\n#define LOW_SPEED_PORT(x)\t((x) ? 0x0800 : 0x0400)\n#define HOST_MODE\t\t0x0200\n#define PORT_RES_EN(x)\t\t((x) ? 0x0100 : 0x0080)\n#define SOF_EOP_EN(x)\t\t((x) ? 0x0002 : 0x0001)\n\n \n#define USB_STAT_REG(x)\t\t((x) ? 0xC0B0 : 0xC090)\n\n#define EP0_IRQ_FLG\t\t0x0001\n#define EP1_IRQ_FLG\t\t0x0002\n#define EP2_IRQ_FLG\t\t0x0004\n#define EP3_IRQ_FLG\t\t0x0008\n#define EP4_IRQ_FLG\t\t0x0010\n#define EP5_IRQ_FLG\t\t0x0020\n#define EP6_IRQ_FLG\t\t0x0040\n#define EP7_IRQ_FLG\t\t0x0080\n#define RESET_IRQ_FLG\t\t0x0100\n#define SOF_EOP_IRQ_FLG\t\t0x0200\n#define ID_IRQ_FLG\t\t0x4000\n#define VBUS_IRQ_FLG\t\t0x8000\n\n \n \n\n \n#define HOST_CTL_REG(x)\t\t((x) ? 0xC0A0 : 0xC080)\n\n#define PREAMBLE_EN\t\t0x0080\t \n#define SEQ_SEL\t\t\t0x0040\t \n#define ISO_EN\t\t\t0x0010\t \n#define ARM_EN\t\t\t0x0001\t \n\n \n#define HOST_IRQ_EN_REG(x)\t((x) ? 0xC0AC : 0xC08C)\n\n#define SOF_EOP_IRQ_EN\t\t0x0200\t \n#define SOF_EOP_TMOUT_IRQ_EN\t0x0800\t \n#define ID_IRQ_EN\t\t0x4000\t \n#define VBUS_IRQ_EN\t\t0x8000\t \n#define DONE_IRQ_EN\t\t0x0001\t \n\n \n#define HOST_STAT_MASK\t\t0x02FD\n#define PORT_CONNECT_CHANGE(x)\t((x) ? 0x0020 : 0x0010)\n#define PORT_SE0_STATUS(x)\t((x) ? 0x0008 : 0x0004)\n\n \n#define HOST_FRAME_REG(x)\t((x) ? 0xC0B6 : 0xC096)\n\n#define HOST_FRAME_MASK\t\t0x07FF\n\n \n \n\n \n#define DEVICE_N_PORT_SEL(x)\t((x) ? 0xC0A4 : 0xC084)\n\n \n#define DEVICE_N_IRQ_EN_REG(x)\t((x) ? 0xC0AC : 0xC08C)\n\n#define DEVICE_N_ENDPOINT_N_CTL_REG(dev, ep)\t((dev)  \t\t\\\n\t\t\t\t\t\t ? (0x0280 + (ep << 4)) \\\n\t\t\t\t\t\t : (0x0200 + (ep << 4)))\n#define DEVICE_N_ENDPOINT_N_STAT_REG(dev, ep)\t((dev)\t\t\t\\\n\t\t\t\t\t\t ? (0x0286 + (ep << 4)) \\\n\t\t\t\t\t\t : (0x0206 + (ep << 4)))\n\n#define DEVICE_N_ADDRESS(dev)\t((dev) ? (0xC0AE) : (0xC08E))\n\n \n \n\n \n#define SOFEOP_FLG(x)\t\t(1 << ((x) ? 12 : 10))\n#define SIEMSG_FLG(x)\t\t(1 << (4 + (x)))\n#define RESET_FLG(x)\t\t((x) ? 0x0200 : 0x0002)\n#define DONE_FLG(x)\t\t(1 << (2 + (x)))\n#define RESUME_FLG(x)\t\t(1 << (6 + (x)))\n#define MBX_OUT_FLG\t\t0x0001\t \n#define MBX_IN_FLG\t\t0x0100\n#define ID_FLG\t\t\t0x4000\n#define VBUS_FLG\t\t0x8000\n\n \n#define HPI_IRQ_ROUTING_REG\t0x0142\n\n#define HPI_SWAP_ENABLE(x)\t((x) ? 0x0100 : 0x0001)\n#define RESET_TO_HPI_ENABLE(x)\t((x) ? 0x0200 : 0x0002)\n#define DONE_TO_HPI_ENABLE(x)\t((x) ? 0x0008 : 0x0004)\n#define RESUME_TO_HPI_ENABLE(x)\t((x) ? 0x0080 : 0x0040)\n#define SOFEOP_TO_HPI_EN(x)\t((x) ? 0x2000 : 0x0800)\n#define SOFEOP_TO_CPU_EN(x)\t((x) ? 0x1000 : 0x0400)\n#define ID_TO_HPI_ENABLE\t0x4000\n#define VBUS_TO_HPI_ENABLE\t0x8000\n\n \n#define SIEMSG_REG(x)\t\t((x) ? 0x0148 : 0x0144)\n\n#define HUSB_TDListDone\t\t0x1000\n\n#define SUSB_EP0_MSG\t\t0x0001\n#define SUSB_EP1_MSG\t\t0x0002\n#define SUSB_EP2_MSG\t\t0x0004\n#define SUSB_EP3_MSG\t\t0x0008\n#define SUSB_EP4_MSG\t\t0x0010\n#define SUSB_EP5_MSG\t\t0x0020\n#define SUSB_EP6_MSG\t\t0x0040\n#define SUSB_EP7_MSG\t\t0x0080\n#define SUSB_RST_MSG\t\t0x0100\n#define SUSB_SOF_MSG\t\t0x0200\n#define SUSB_CFG_MSG\t\t0x0400\n#define SUSB_SUS_MSG\t\t0x0800\n#define SUSB_ID_MSG\t       \t0x4000\n#define SUSB_VBUS_MSG\t\t0x8000\n\n \n\n#define SUSBx_RECEIVE_INT(x)\t((x) ? 97 : 81)\n#define SUSBx_SEND_INT(x)\t((x) ? 96 : 80)\n\n#define SUSBx_DEV_DESC_VEC(x)\t((x) ? 0x00D4 : 0x00B4)\n#define SUSBx_CONF_DESC_VEC(x)\t((x) ? 0x00D6 : 0x00B6)\n#define SUSBx_STRING_DESC_VEC(x) ((x) ? 0x00D8 : 0x00B8)\n\n#define CY_HCD_BUF_ADDR\t\t0x500\t \n#define SIE_TD_SIZE\t\t0x200\t \n#define SIE_TD_BUF_SIZE\t\t0x400\t \n\n#define SIE_TD_OFFSET(host)\t((host) ? (SIE_TD_SIZE+SIE_TD_BUF_SIZE) : 0)\n#define SIE_BUF_OFFSET(host)\t(SIE_TD_OFFSET(host) + SIE_TD_SIZE)\n\n \n#define CY_UDC_REQ_HEADER_BASE\t0x1100\n \n#define CY_UDC_REQ_HEADER_SIZE\t8\n\n#define CY_UDC_REQ_HEADER_ADDR(ep_num)\t(CY_UDC_REQ_HEADER_BASE + \\\n\t\t\t\t\t ((ep_num) * CY_UDC_REQ_HEADER_SIZE))\n#define CY_UDC_DESC_BASE_ADDRESS\t(CY_UDC_REQ_HEADER_ADDR(8))\n\n#define CY_UDC_BIOS_REPLACE_BASE\t0x1800\n#define CY_UDC_REQ_BUFFER_BASE\t\t0x2000\n#define CY_UDC_REQ_BUFFER_SIZE\t\t0x0400\n#define CY_UDC_REQ_BUFFER_ADDR(ep_num)\t(CY_UDC_REQ_BUFFER_BASE + \\\n\t\t\t\t\t ((ep_num) * CY_UDC_REQ_BUFFER_SIZE))\n\n \n\nstruct c67x00_device;\n\n \nstruct c67x00_sie {\n\t \n\tspinlock_t lock;\t \n\tvoid *private_data;\n\tvoid (*irq) (struct c67x00_sie *sie, u16 int_status, u16 msg);\n\n\t \n\tstruct c67x00_device *dev;\n\tint sie_num;\n\tint mode;\n};\n\n#define sie_dev(s)\t(&(s)->dev->pdev->dev)\n\n \nstruct c67x00_lcp {\n\t \n\tstruct mutex mutex;\n\tstruct completion msg_received;\n\tu16 last_msg;\n};\n\n \nstruct c67x00_hpi {\n\tvoid __iomem *base;\n\tint regstep;\n\tspinlock_t lock;\n\tstruct c67x00_lcp lcp;\n};\n\n#define C67X00_SIES\t2\n#define C67X00_PORTS\t2\n\n \nstruct c67x00_device {\n\tstruct c67x00_hpi hpi;\n\tstruct c67x00_sie sie[C67X00_SIES];\n\tstruct platform_device *pdev;\n\tstruct c67x00_platform_data *pdata;\n};\n\n \n\n \nu16 c67x00_ll_hpi_status(struct c67x00_device *dev);\nvoid c67x00_ll_hpi_reg_init(struct c67x00_device *dev);\nvoid c67x00_ll_hpi_enable_sofeop(struct c67x00_sie *sie);\nvoid c67x00_ll_hpi_disable_sofeop(struct c67x00_sie *sie);\n\n \nu16 c67x00_ll_fetch_siemsg(struct c67x00_device *dev, int sie_num);\nu16 c67x00_ll_get_usb_ctl(struct c67x00_sie *sie);\nvoid c67x00_ll_usb_clear_status(struct c67x00_sie *sie, u16 bits);\nu16 c67x00_ll_usb_get_status(struct c67x00_sie *sie);\nvoid c67x00_ll_write_mem_le16(struct c67x00_device *dev, u16 addr,\n\t\t\t      void *data, int len);\nvoid c67x00_ll_read_mem_le16(struct c67x00_device *dev, u16 addr,\n\t\t\t     void *data, int len);\n\n \nvoid c67x00_ll_set_husb_eot(struct c67x00_device *dev, u16 value);\nvoid c67x00_ll_husb_reset(struct c67x00_sie *sie, int port);\nvoid c67x00_ll_husb_set_current_td(struct c67x00_sie *sie, u16 addr);\nu16 c67x00_ll_husb_get_current_td(struct c67x00_sie *sie);\nu16 c67x00_ll_husb_get_frame(struct c67x00_sie *sie);\nvoid c67x00_ll_husb_init_host_port(struct c67x00_sie *sie);\nvoid c67x00_ll_husb_reset_port(struct c67x00_sie *sie, int port);\n\n \nvoid c67x00_ll_irq(struct c67x00_device *dev, u16 int_status);\n\n \nvoid c67x00_ll_init(struct c67x00_device *dev);\nvoid c67x00_ll_release(struct c67x00_device *dev);\nint c67x00_ll_reset(struct c67x00_device *dev);\n\n#endif\t\t\t\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}