{
  "module_name": "trace.h",
  "hash_id": "c5b7e4f2f9a3935987a2ffe3b10f2d292e606ce173ff54f6a939df0ff6fc79cb",
  "original_prompt": "Ingested from linux-6.6.14/drivers/usb/chipidea/trace.h",
  "human_readable_source": " \n \n\n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM chipidea\n\n#if !defined(__LINUX_CHIPIDEA_TRACE) || defined(TRACE_HEADER_MULTI_READ)\n#define __LINUX_CHIPIDEA_TRACE\n\n#include <linux/types.h>\n#include <linux/tracepoint.h>\n#include <linux/usb/chipidea.h>\n#include \"ci.h\"\n#include \"udc.h\"\n\n#define CHIPIDEA_MSG_MAX\t500\n\nvoid ci_log(struct ci_hdrc *ci, const char *fmt, ...);\n\nTRACE_EVENT(ci_log,\n\tTP_PROTO(struct ci_hdrc *ci, struct va_format *vaf),\n\tTP_ARGS(ci, vaf),\n\tTP_STRUCT__entry(\n\t\t__string(name, dev_name(ci->dev))\n\t\t__vstring(msg, vaf->fmt, vaf->va)\n\t),\n\tTP_fast_assign(\n\t\t__assign_str(name, dev_name(ci->dev));\n\t\t__assign_vstr(msg, vaf->fmt, vaf->va);\n\t),\n\tTP_printk(\"%s: %s\", __get_str(name), __get_str(msg))\n);\n\nDECLARE_EVENT_CLASS(ci_log_trb,\n\tTP_PROTO(struct ci_hw_ep *hwep, struct ci_hw_req *hwreq, struct td_node *td),\n\tTP_ARGS(hwep, hwreq, td),\n\tTP_STRUCT__entry(\n\t\t__string(name, hwep->name)\n\t\t__field(struct td_node *, td)\n\t\t__field(struct usb_request *, req)\n\t\t__field(dma_addr_t, dma)\n\t\t__field(s32, td_remaining_size)\n\t\t__field(u32, next)\n\t\t__field(u32, token)\n\t\t__field(u32, type)\n\t),\n\tTP_fast_assign(\n\t\t__assign_str(name, hwep->name);\n\t\t__entry->req = &hwreq->req;\n\t\t__entry->td = td;\n\t\t__entry->dma = td->dma;\n\t\t__entry->td_remaining_size = td->td_remaining_size;\n\t\t__entry->next = le32_to_cpu(td->ptr->next);\n\t\t__entry->token = le32_to_cpu(td->ptr->token);\n\t\t__entry->type = usb_endpoint_type(hwep->ep.desc);\n\t),\n\tTP_printk(\"%s: req: %p, td: %p, td_dma_address: %pad, remaining_size: %d, \"\n\t       \"next: %x, total bytes: %d, status: %lx\",\n\t\t__get_str(name), __entry->req, __entry->td, &__entry->dma,\n\t\t__entry->td_remaining_size, __entry->next,\n\t\t(int)((__entry->token & TD_TOTAL_BYTES) >> __ffs(TD_TOTAL_BYTES)),\n\t\t__entry->token & TD_STATUS\n\t)\n);\n\nDEFINE_EVENT(ci_log_trb, ci_prepare_td,\n\tTP_PROTO(struct ci_hw_ep *hwep, struct ci_hw_req *hwreq, struct td_node *td),\n\tTP_ARGS(hwep, hwreq, td)\n);\n\nDEFINE_EVENT(ci_log_trb, ci_complete_td,\n\tTP_PROTO(struct ci_hw_ep *hwep, struct ci_hw_req *hwreq, struct td_node *td),\n\tTP_ARGS(hwep, hwreq, td)\n);\n\n#endif  \n\n \n\n#undef TRACE_INCLUDE_PATH\n#define TRACE_INCLUDE_PATH .\n\n#undef TRACE_INCLUDE_FILE\n#define TRACE_INCLUDE_FILE trace\n\n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}