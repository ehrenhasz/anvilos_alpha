{
  "module_name": "u_uac1_legacy.h",
  "hash_id": "5d96e9b1baae8abebd41e2ddd27c9a752030826af64c0a44e3ce93950bd8f4d1",
  "original_prompt": "Ingested from linux-6.6.14/drivers/usb/gadget/function/u_uac1_legacy.h",
  "human_readable_source": " \n \n\n#ifndef __U_UAC1_LEGACY_H\n#define __U_UAC1_LEGACY_H\n\n#include <linux/device.h>\n#include <linux/err.h>\n#include <linux/usb/audio.h>\n#include <linux/usb/composite.h>\n\n#include <sound/core.h>\n#include <sound/pcm.h>\n#include <sound/pcm_params.h>\n\n#define FILE_PCM_PLAYBACK\t\"/dev/snd/pcmC0D0p\"\n#define FILE_PCM_CAPTURE\t\"/dev/snd/pcmC0D0c\"\n#define FILE_CONTROL\t\t\"/dev/snd/controlC0\"\n\n#define UAC1_OUT_EP_MAX_PACKET_SIZE\t200\n#define UAC1_REQ_COUNT\t\t\t256\n#define UAC1_AUDIO_BUF_SIZE\t\t48000\n\n \n\nstruct gaudio_snd_dev {\n\tstruct gaudio\t\t\t*card;\n\tstruct file\t\t\t*filp;\n\tstruct snd_pcm_substream\t*substream;\n\tint\t\t\t\taccess;\n\tint\t\t\t\tformat;\n\tint\t\t\t\tchannels;\n\tint\t\t\t\trate;\n};\n\nstruct gaudio {\n\tstruct usb_function\t\tfunc;\n\tstruct usb_gadget\t\t*gadget;\n\n\t \n\tstruct gaudio_snd_dev\t\tcontrol;\n\tstruct gaudio_snd_dev\t\tplayback;\n\tstruct gaudio_snd_dev\t\tcapture;\n\n\t \n};\n\nstruct f_uac1_legacy_opts {\n\tstruct usb_function_instance\tfunc_inst;\n\tint\t\t\t\treq_buf_size;\n\tint\t\t\t\treq_count;\n\tint\t\t\t\taudio_buf_size;\n\tchar\t\t\t\t*fn_play;\n\tchar\t\t\t\t*fn_cap;\n\tchar\t\t\t\t*fn_cntl;\n\tunsigned\t\t\tbound:1;\n\tunsigned\t\t\tfn_play_alloc:1;\n\tunsigned\t\t\tfn_cap_alloc:1;\n\tunsigned\t\t\tfn_cntl_alloc:1;\n\tstruct mutex\t\t\tlock;\n\tint\t\t\t\trefcnt;\n};\n\nint gaudio_setup(struct gaudio *card);\nvoid gaudio_cleanup(struct gaudio *the_card);\n\nsize_t u_audio_playback(struct gaudio *card, void *buf, size_t count);\nint u_audio_get_playback_channels(struct gaudio *card);\nint u_audio_get_playback_rate(struct gaudio *card);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}