{
  "module_name": "u_audio.h",
  "hash_id": "4f4586f4b594faa36a5cd083334a19801383b09b16b3ac036fb0bad9455462b8",
  "original_prompt": "Ingested from linux-6.6.14/drivers/usb/gadget/function/u_audio.h",
  "human_readable_source": " \n \n\n#ifndef __U_AUDIO_H\n#define __U_AUDIO_H\n\n#include <linux/usb/composite.h>\n#include \"uac_common.h\"\n\n \n#define FBACK_SLOW_MAX\t250\n\n \n#define FBACK_FAST_MAX 5\n\n \nstruct uac_fu_params {\n\tint id;\t\t\t \n\n\tbool mute_present;\t \n\n\tbool volume_present;\t \n\ts16 volume_min;\t\t \n\ts16 volume_max;\t\t \n\ts16 volume_res;\t\t \n};\n\nstruct uac_params {\n\t \n\tint p_chmask;\t \n\tint p_srates[UAC_MAX_RATES];\t \n\tint p_ssize;\t \n\tstruct uac_fu_params p_fu;\t \n\n\t \n\tint c_chmask;\t \n\tint c_srates[UAC_MAX_RATES];\t \n\tint c_ssize;\t \n\tstruct uac_fu_params c_fu;\t \n\n\t \n\n\tint req_number;  \n\tint fb_max;\t \n};\n\nstruct g_audio {\n\tstruct usb_function func;\n\tstruct usb_gadget *gadget;\n\n\tstruct usb_ep *in_ep;\n\n\tstruct usb_ep *out_ep;\n\t \n\tstruct usb_ep *in_ep_fback;\n\n\t \n\tunsigned int in_ep_maxpsize;\n\t \n\tunsigned int out_ep_maxpsize;\n\n\t \n\tint (*notify)(struct g_audio *g_audio, int unit_id, int cs);\n\n\t \n\tstruct snd_uac_chip *uac;\n\n\tstruct uac_params params;\n};\n\nstatic inline struct g_audio *func_to_g_audio(struct usb_function *f)\n{\n\treturn container_of(f, struct g_audio, func);\n}\n\nstatic inline uint num_channels(uint chanmask)\n{\n\tuint num = 0;\n\n\twhile (chanmask) {\n\t\tnum += (chanmask & 1);\n\t\tchanmask >>= 1;\n\t}\n\n\treturn num;\n}\n\n \nint g_audio_setup(struct g_audio *g_audio, const char *pcm_name,\n\t\t\t\t\tconst char *card_name);\nvoid g_audio_cleanup(struct g_audio *g_audio);\n\nint u_audio_start_capture(struct g_audio *g_audio);\nvoid u_audio_stop_capture(struct g_audio *g_audio);\nint u_audio_start_playback(struct g_audio *g_audio);\nvoid u_audio_stop_playback(struct g_audio *g_audio);\n\nint u_audio_get_capture_srate(struct g_audio *audio_dev, u32 *val);\nint u_audio_set_capture_srate(struct g_audio *audio_dev, int srate);\nint u_audio_get_playback_srate(struct g_audio *audio_dev, u32 *val);\nint u_audio_set_playback_srate(struct g_audio *audio_dev, int srate);\n\nint u_audio_get_volume(struct g_audio *g_audio, int playback, s16 *val);\nint u_audio_set_volume(struct g_audio *g_audio, int playback, s16 val);\nint u_audio_get_mute(struct g_audio *g_audio, int playback, int *val);\nint u_audio_set_mute(struct g_audio *g_audio, int playback, int val);\n\nvoid u_audio_suspend(struct g_audio *g_audio);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}