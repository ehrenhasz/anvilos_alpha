{
  "module_name": "omap_udc.h",
  "hash_id": "d5e5322d7efb998bb8032b0596d2a8f3114f587856b19503a1d8ebc533c70794",
  "original_prompt": "Ingested from linux-6.6.14/drivers/usb/gadget/udc/omap_udc.h",
  "human_readable_source": " \n \n\n \n\n#define\tUDC_REV\t\t\t\t(UDC_BASE + 0x0)\t \n#define\tUDC_EP_NUM\t\t\t(UDC_BASE + 0x4)\t \n#\tdefine\tUDC_SETUP_SEL\t\t(1 << 6)\n#\tdefine\tUDC_EP_SEL\t\t(1 << 5)\n#\tdefine\tUDC_EP_DIR\t\t(1 << 4)\n\t \n#define\tUDC_DATA\t\t\t(UDC_BASE + 0x08)\t \n#define\tUDC_CTRL\t\t\t(UDC_BASE + 0x0C)\t \n#\tdefine\tUDC_CLR_HALT\t\t(1 << 7)\n#\tdefine\tUDC_SET_HALT\t\t(1 << 6)\n#\tdefine\tUDC_CLRDATA_TOGGLE\t(1 << 3)\n#\tdefine\tUDC_SET_FIFO_EN\t\t(1 << 2)\n#\tdefine\tUDC_CLR_EP\t\t(1 << 1)\n#\tdefine\tUDC_RESET_EP\t\t(1 << 0)\n#define\tUDC_STAT_FLG\t\t\t(UDC_BASE + 0x10)\t \n#\tdefine\tUDC_NO_RXPACKET\t\t(1 << 15)\n#\tdefine\tUDC_MISS_IN\t\t(1 << 14)\n#\tdefine\tUDC_DATA_FLUSH\t\t(1 << 13)\n#\tdefine\tUDC_ISO_ERR\t\t(1 << 12)\n#\tdefine\tUDC_ISO_FIFO_EMPTY\t(1 << 9)\n#\tdefine\tUDC_ISO_FIFO_FULL\t(1 << 8)\n#\tdefine\tUDC_EP_HALTED\t\t(1 << 6)\n#\tdefine\tUDC_STALL\t\t(1 << 5)\n#\tdefine\tUDC_NAK\t\t\t(1 << 4)\n#\tdefine\tUDC_ACK\t\t\t(1 << 3)\n#\tdefine\tUDC_FIFO_EN\t\t(1 << 2)\n#\tdefine\tUDC_NON_ISO_FIFO_EMPTY\t(1 << 1)\n#\tdefine\tUDC_NON_ISO_FIFO_FULL\t(1 << 0)\n#define\tUDC_RXFSTAT\t\t\t(UDC_BASE + 0x14)\t \n#define\tUDC_SYSCON1\t\t\t(UDC_BASE + 0x18)\t \n#\tdefine\tUDC_CFG_LOCK\t\t(1 << 8)\n#\tdefine\tUDC_DATA_ENDIAN\t\t(1 << 7)\n#\tdefine\tUDC_DMA_ENDIAN\t\t(1 << 6)\n#\tdefine\tUDC_NAK_EN\t\t(1 << 4)\n#\tdefine\tUDC_AUTODECODE_DIS\t(1 << 3)\n#\tdefine\tUDC_SELF_PWR\t\t(1 << 2)\n#\tdefine\tUDC_SOFF_DIS\t\t(1 << 1)\n#\tdefine\tUDC_PULLUP_EN\t\t(1 << 0)\n#define\tUDC_SYSCON2\t\t\t(UDC_BASE + 0x1C)\t \n#\tdefine\tUDC_RMT_WKP\t\t(1 << 6)\n#\tdefine\tUDC_STALL_CMD\t\t(1 << 5)\n#\tdefine\tUDC_DEV_CFG\t\t(1 << 3)\n#\tdefine\tUDC_CLR_CFG\t\t(1 << 2)\n#define\tUDC_DEVSTAT\t\t\t(UDC_BASE + 0x20)\t \n#\tdefine\tUDC_B_HNP_ENABLE\t(1 << 9)\n#\tdefine\tUDC_A_HNP_SUPPORT\t(1 << 8)\n#\tdefine\tUDC_A_ALT_HNP_SUPPORT\t(1 << 7)\n#\tdefine\tUDC_R_WK_OK\t\t(1 << 6)\n#\tdefine\tUDC_USB_RESET\t\t(1 << 5)\n#\tdefine\tUDC_SUS\t\t\t(1 << 4)\n#\tdefine\tUDC_CFG\t\t\t(1 << 3)\n#\tdefine\tUDC_ADD\t\t\t(1 << 2)\n#\tdefine\tUDC_DEF\t\t\t(1 << 1)\n#\tdefine\tUDC_ATT\t\t\t(1 << 0)\n#define\tUDC_SOF\t\t\t\t(UDC_BASE + 0x24)\t \n#\tdefine\tUDC_FT_LOCK\t\t(1 << 12)\n#\tdefine\tUDC_TS_OK\t\t(1 << 11)\n#\tdefine\tUDC_TS\t\t\t0x03ff\n#define\tUDC_IRQ_EN\t\t\t(UDC_BASE + 0x28)\t \n#\tdefine\tUDC_SOF_IE\t\t(1 << 7)\n#\tdefine\tUDC_EPN_RX_IE\t\t(1 << 5)\n#\tdefine\tUDC_EPN_TX_IE\t\t(1 << 4)\n#\tdefine\tUDC_DS_CHG_IE\t\t(1 << 3)\n#\tdefine\tUDC_EP0_IE\t\t(1 << 0)\n#define\tUDC_DMA_IRQ_EN\t\t\t(UDC_BASE + 0x2C)\t \n\t \n#\tdefine\tUDC_TX_DONE_IE(n)\t(1 << (4 * (n) - 2))\n#\tdefine\tUDC_RX_CNT_IE(n)\t(1 << (4 * (n) - 3))\n#\tdefine\tUDC_RX_EOT_IE(n)\t(1 << (4 * (n) - 4))\n#define\tUDC_IRQ_SRC\t\t\t(UDC_BASE + 0x30)\t \n#\tdefine\tUDC_TXN_DONE\t\t(1 << 10)\n#\tdefine\tUDC_RXN_CNT\t\t(1 << 9)\n#\tdefine\tUDC_RXN_EOT\t\t(1 << 8)\n#\tdefine\tUDC_IRQ_SOF\t\t(1 << 7)\n#\tdefine\tUDC_EPN_RX\t\t(1 << 5)\n#\tdefine\tUDC_EPN_TX\t\t(1 << 4)\n#\tdefine\tUDC_DS_CHG\t\t(1 << 3)\n#\tdefine\tUDC_SETUP\t\t(1 << 2)\n#\tdefine\tUDC_EP0_RX\t\t(1 << 1)\n#\tdefine\tUDC_EP0_TX\t\t(1 << 0)\n#\tdefine\tUDC_IRQ_SRC_MASK\t0x7bf\n#define\tUDC_EPN_STAT\t\t\t(UDC_BASE + 0x34)\t \n#define\tUDC_DMAN_STAT\t\t\t(UDC_BASE + 0x38)\t \n#\tdefine\tUDC_DMA_RX_SB\t\t(1 << 12)\n#\tdefine\tUDC_DMA_RX_SRC(x)\t(((x)>>8) & 0xf)\n#\tdefine\tUDC_DMA_TX_SRC(x)\t(((x)>>0) & 0xf)\n\n\n \n#define\tUDC_RXDMA_CFG\t\t\t(UDC_BASE + 0x40)\t \n#\tdefine\tUDC_DMA_REQ\t\t(1 << 12)\n#define\tUDC_TXDMA_CFG\t\t\t(UDC_BASE + 0x44)\t \n#define\tUDC_DATA_DMA\t\t\t(UDC_BASE + 0x48)\t \n\n \n#define\tUDC_TXDMA(chan)\t\t\t(UDC_BASE + 0x50 - 4 + 4 * (chan))\n#\tdefine UDC_TXN_EOT\t\t(1 << 15)\t \n#\tdefine UDC_TXN_START\t\t(1 << 14)\t \n#\tdefine UDC_TXN_TSC\t\t0x03ff\t\t \n#define\tUDC_RXDMA(chan)\t\t\t(UDC_BASE + 0x60 - 4 + 4 * (chan))\n#\tdefine UDC_RXN_STOP\t\t(1 << 15)\t \n#\tdefine UDC_RXN_TC\t\t0x00ff\t\t \n\n\n \n#define\tUDC_EP_RX(endpoint)\t\t(UDC_BASE + 0x80 + (endpoint)*4)\n#\tdefine\tUDC_EPN_RX_VALID\t(1 << 15)\n#\tdefine\tUDC_EPN_RX_DB\t\t(1 << 14)\n\t \n#\tdefine\tUDC_EPN_RX_ISO\t\t(1 << 11)\n\t \n#define\tUDC_EP_TX(endpoint)\t\t(UDC_BASE + 0xc0 + (endpoint)*4)\n\t \n\n \n\nstruct omap_req {\n\tstruct usb_request\t\treq;\n\tstruct list_head\t\tqueue;\n\tunsigned\t\t\tdma_bytes;\n\tunsigned\t\t\tmapped:1;\n};\n\nstruct omap_ep {\n\tstruct usb_ep\t\t\tep;\n\tstruct list_head\t\tqueue;\n\tunsigned long\t\t\tirqs;\n\tstruct list_head\t\tiso;\n\tchar\t\t\t\tname[14];\n\tu16\t\t\t\tmaxpacket;\n\tu8\t\t\t\tbEndpointAddress;\n\tu8\t\t\t\tbmAttributes;\n\tunsigned\t\t\tdouble_buf:1;\n\tunsigned\t\t\tstopped:1;\n\tunsigned\t\t\tfnf:1;\n\tunsigned\t\t\thas_dma:1;\n\tu8\t\t\t\tackwait;\n\tu8\t\t\t\tdma_channel;\n\tu16\t\t\t\tdma_counter;\n\tint\t\t\t\tlch;\n\tstruct omap_udc\t\t\t*udc;\n\tstruct timer_list\t\ttimer;\n};\n\nstruct omap_udc {\n\tstruct usb_gadget\t\tgadget;\n\tstruct usb_gadget_driver\t*driver;\n\tspinlock_t\t\t\tlock;\n\tstruct omap_ep\t\t\tep[32];\n\tu16\t\t\t\tdevstat;\n\tu16\t\t\t\tclr_halt;\n\tstruct usb_phy\t\t\t*transceiver;\n\tstruct list_head\t\tiso;\n\tunsigned\t\t\tsoftconnect:1;\n\tunsigned\t\t\tvbus_active:1;\n\tunsigned\t\t\tep0_pending:1;\n\tunsigned\t\t\tep0_in:1;\n\tunsigned\t\t\tep0_set_config:1;\n\tunsigned\t\t\tep0_reset_config:1;\n\tunsigned\t\t\tep0_setup:1;\n\tstruct completion\t\t*done;\n\tstruct clk\t\t\t*dc_clk;\n\tstruct clk\t\t\t*hhc_clk;\n\tunsigned\t\t\tclk_requested:1;\n};\n\n \n\n#ifdef VERBOSE\n#    define VDBG\t\tDBG\n#else\n#    define VDBG(stuff...)\tdo{}while(0)\n#endif\n\n#define ERR(stuff...)\t\tpr_err(\"udc: \" stuff)\n#define WARNING(stuff...)\tpr_warn(\"udc: \" stuff)\n#define INFO(stuff...)\t\tpr_info(\"udc: \" stuff)\n#define DBG(stuff...)\t\tpr_debug(\"udc: \" stuff)\n\n \n\n \n#define VBUS_W2FC_1510\t\t(1 << 17)\t \n\n \n#define\tVBUS_CTRL_1510\t\t(1 << 19)\t \n#define\tVBUS_MODE_1510\t\t(1 << 18)\t \n\n#define\tHMC_1510\t((omap_readl(MOD_CONF_CTRL_0) >> 1) & 0x3f)\n#define\tHMC_1610\t(omap_readl(OTG_SYSCON_2) & 0x3f)\n#define\tHMC\t\t(cpu_is_omap15xx() ? HMC_1510 : HMC_1610)\n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}