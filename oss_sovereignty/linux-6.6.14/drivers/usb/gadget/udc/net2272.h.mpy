{
  "module_name": "net2272.h",
  "hash_id": "40091cc4342d9a928f891a9537d1dcffe80778f5cd9ecbaf09f6af06b39042c6",
  "original_prompt": "Ingested from linux-6.6.14/drivers/usb/gadget/udc/net2272.h",
  "human_readable_source": "\n \n\n#ifndef __NET2272_H__\n#define __NET2272_H__\n\n \n#define REGADDRPTR\t\t\t0x00\n#define REGDATA\t\t\t\t0x01\n#define IRQSTAT0\t\t\t0x02\n#define \tENDPOINT_0_INTERRUPT\t\t\t0\n#define \tENDPOINT_A_INTERRUPT\t\t\t1\n#define \tENDPOINT_B_INTERRUPT\t\t\t2\n#define \tENDPOINT_C_INTERRUPT\t\t\t3\n#define \tVIRTUALIZED_ENDPOINT_INTERRUPT\t\t4\n#define \tSETUP_PACKET_INTERRUPT\t\t\t5\n#define \tDMA_DONE_INTERRUPT\t\t\t6\n#define \tSOF_INTERRUPT\t\t\t\t7\n#define IRQSTAT1\t\t\t0x03\n#define \tCONTROL_STATUS_INTERRUPT\t\t1\n#define \tVBUS_INTERRUPT\t\t\t\t2\n#define \tSUSPEND_REQUEST_INTERRUPT\t\t3\n#define \tSUSPEND_REQUEST_CHANGE_INTERRUPT\t4\n#define \tRESUME_INTERRUPT\t\t\t5\n#define \tROOT_PORT_RESET_INTERRUPT\t\t6\n#define \tRESET_STATUS\t\t\t\t7\n#define PAGESEL\t\t\t\t0x04\n#define DMAREQ\t\t\t\t0x1c\n#define \tDMA_ENDPOINT_SELECT\t\t\t0\n#define \tDREQ_POLARITY\t\t\t\t1\n#define \tDACK_POLARITY\t\t\t\t2\n#define \tEOT_POLARITY\t\t\t\t3\n#define \tDMA_CONTROL_DACK\t\t\t4\n#define \tDMA_REQUEST_ENABLE\t\t\t5\n#define \tDMA_REQUEST\t\t\t\t6\n#define \tDMA_BUFFER_VALID\t\t\t7\n#define SCRATCH\t\t\t\t0x1d\n#define IRQENB0\t\t\t\t0x20\n#define \tENDPOINT_0_INTERRUPT_ENABLE\t\t0\n#define \tENDPOINT_A_INTERRUPT_ENABLE\t\t1\n#define \tENDPOINT_B_INTERRUPT_ENABLE\t\t2\n#define \tENDPOINT_C_INTERRUPT_ENABLE\t\t3\n#define \tVIRTUALIZED_ENDPOINT_INTERRUPT_ENABLE\t4\n#define \tSETUP_PACKET_INTERRUPT_ENABLE\t\t5\n#define \tDMA_DONE_INTERRUPT_ENABLE\t\t6\n#define \tSOF_INTERRUPT_ENABLE\t\t\t7\n#define IRQENB1\t\t\t\t0x21\n#define \tVBUS_INTERRUPT_ENABLE\t\t\t2\n#define \tSUSPEND_REQUEST_INTERRUPT_ENABLE\t3\n#define \tSUSPEND_REQUEST_CHANGE_INTERRUPT_ENABLE\t4\n#define \tRESUME_INTERRUPT_ENABLE\t\t\t5\n#define \tROOT_PORT_RESET_INTERRUPT_ENABLE\t6\n#define LOCCTL\t\t\t\t0x22\n#define \tDATA_WIDTH\t\t\t\t0\n#define \tLOCAL_CLOCK_OUTPUT\t\t\t1\n#define \t\tLOCAL_CLOCK_OUTPUT_OFF\t\t\t0\n#define \t\tLOCAL_CLOCK_OUTPUT_3_75MHZ\t\t1\n#define \t\tLOCAL_CLOCK_OUTPUT_7_5MHZ\t\t2\n#define \t\tLOCAL_CLOCK_OUTPUT_15MHZ\t\t3\n#define \t\tLOCAL_CLOCK_OUTPUT_30MHZ\t\t4\n#define \t\tLOCAL_CLOCK_OUTPUT_60MHZ\t\t5\n#define \tDMA_SPLIT_BUS_MODE\t\t\t4\n#define \tBYTE_SWAP\t\t\t\t5\n#define \tBUFFER_CONFIGURATION\t\t\t6\n#define \t\tBUFFER_CONFIGURATION_EPA512_EPB512\t0\n#define \t\tBUFFER_CONFIGURATION_EPA1024_EPB512\t1\n#define \t\tBUFFER_CONFIGURATION_EPA1024_EPB1024\t2\n#define \t\tBUFFER_CONFIGURATION_EPA1024DB\t\t3\n#define CHIPREV_LEGACY\t\t\t0x23\n#define \t\tNET2270_LEGACY_REV\t\t\t0x40\n#define LOCCTL1\t\t\t\t0x24\n#define \tDMA_MODE\t\t\t\t0\n#define \t\tSLOW_DREQ\t\t\t\t0\n#define \t\tFAST_DREQ\t\t\t\t1\n#define \t\tBURST_MODE\t\t\t\t2\n#define \tDMA_DACK_ENABLE\t\t\t\t2\n#define CHIPREV_2272\t\t\t0x25\n#define \t\tCHIPREV_NET2272_R1\t\t\t0x10\n#define \t\tCHIPREV_NET2272_R1A\t\t\t0x11\n \n#define USBCTL0\t\t\t\t0x18\n#define \tIO_WAKEUP_ENABLE\t\t\t1\n#define \tUSB_DETECT_ENABLE\t\t\t3\n#define \tUSB_ROOT_PORT_WAKEUP_ENABLE\t\t5\n#define USBCTL1\t\t\t\t0x19\n#define \tVBUS_PIN\t\t\t\t0\n#define \t\tUSB_FULL_SPEED\t\t\t\t1\n#define \t\tUSB_HIGH_SPEED\t\t\t\t2\n#define \tGENERATE_RESUME\t\t\t\t3\n#define \tVIRTUAL_ENDPOINT_ENABLE\t\t\t4\n#define FRAME0\t\t\t\t0x1a\n#define FRAME1\t\t\t\t0x1b\n#define OURADDR\t\t\t\t0x30\n#define \tFORCE_IMMEDIATE\t\t\t\t7\n#define USBDIAG\t\t\t\t0x31\n#define \tFORCE_TRANSMIT_CRC_ERROR\t\t0\n#define \tPREVENT_TRANSMIT_BIT_STUFF\t\t1\n#define \tFORCE_RECEIVE_ERROR\t\t\t2\n#define \tFAST_TIMES\t\t\t\t4\n#define USBTEST\t\t\t\t0x32\n#define \tTEST_MODE_SELECT\t\t\t0\n#define \t\tNORMAL_OPERATION\t\t\t0\n#define XCVRDIAG\t\t\t0x33\n#define \tFORCE_FULL_SPEED\t\t\t2\n#define \tFORCE_HIGH_SPEED\t\t\t3\n#define \tOPMODE\t\t\t\t\t4\n#define \t\tNORMAL_OPERATION\t\t\t0\n#define \t\tNON_DRIVING\t\t\t\t1\n#define \t\tDISABLE_BITSTUFF_AND_NRZI_ENCODE\t2\n#define \tLINESTATE\t\t\t\t6\n#define \t\tSE0_STATE\t\t\t\t0\n#define \t\tJ_STATE\t\t\t\t\t1\n#define \t\tK_STATE\t\t\t\t\t2\n#define \t\tSE1_STATE\t\t\t\t3\n#define VIRTOUT0\t\t\t0x34\n#define VIRTOUT1\t\t\t0x35\n#define VIRTIN0\t\t\t\t0x36\n#define VIRTIN1\t\t\t\t0x37\n#define SETUP0\t\t\t\t0x40\n#define SETUP1\t\t\t\t0x41\n#define SETUP2\t\t\t\t0x42\n#define SETUP3\t\t\t\t0x43\n#define SETUP4\t\t\t\t0x44\n#define SETUP5\t\t\t\t0x45\n#define SETUP6\t\t\t\t0x46\n#define SETUP7\t\t\t\t0x47\n \n#define EP_DATA\t\t\t\t0x05\n#define EP_STAT0\t\t\t0x06\n#define \tDATA_IN_TOKEN_INTERRUPT\t\t\t0\n#define \tDATA_OUT_TOKEN_INTERRUPT\t\t1\n#define \tDATA_PACKET_TRANSMITTED_INTERRUPT\t2\n#define \tDATA_PACKET_RECEIVED_INTERRUPT\t\t3\n#define \tSHORT_PACKET_TRANSFERRED_INTERRUPT\t4\n#define \tNAK_OUT_PACKETS\t\t\t\t5\n#define \tBUFFER_EMPTY\t\t\t\t6\n#define \tBUFFER_FULL\t\t\t\t7\n#define EP_STAT1\t\t\t0x07\n#define \tTIMEOUT\t\t\t\t\t0\n#define \tUSB_OUT_ACK_SENT\t\t\t1\n#define \tUSB_OUT_NAK_SENT\t\t\t2\n#define \tUSB_IN_ACK_RCVD\t\t\t\t3\n#define \tUSB_IN_NAK_SENT\t\t\t\t4\n#define \tUSB_STALL_SENT\t\t\t\t5\n#define \tLOCAL_OUT_ZLP\t\t\t\t6\n#define \tBUFFER_FLUSH\t\t\t\t7\n#define EP_TRANSFER0\t\t\t0x08\n#define EP_TRANSFER1\t\t\t0x09\n#define EP_TRANSFER2\t\t\t0x0a\n#define EP_IRQENB\t\t\t0x0b\n#define \tDATA_IN_TOKEN_INTERRUPT_ENABLE\t\t0\n#define \tDATA_OUT_TOKEN_INTERRUPT_ENABLE\t\t1\n#define \tDATA_PACKET_TRANSMITTED_INTERRUPT_ENABLE\t2\n#define \tDATA_PACKET_RECEIVED_INTERRUPT_ENABLE\t3\n#define \tSHORT_PACKET_TRANSFERRED_INTERRUPT_ENABLE\t4\n#define EP_AVAIL0\t\t\t0x0c\n#define EP_AVAIL1\t\t\t0x0d\n#define EP_RSPCLR\t\t\t0x0e\n#define EP_RSPSET\t\t\t0x0f\n#define \tENDPOINT_HALT\t\t\t\t0\n#define \tENDPOINT_TOGGLE\t\t\t\t1\n#define \tNAK_OUT_PACKETS_MODE\t\t\t2\n#define \tCONTROL_STATUS_PHASE_HANDSHAKE\t\t3\n#define \tINTERRUPT_MODE\t\t\t\t4\n#define \tAUTOVALIDATE\t\t\t\t5\n#define \tHIDE_STATUS_PHASE\t\t\t6\n#define \tALT_NAK_OUT_PACKETS\t\t\t7\n#define EP_MAXPKT0\t\t\t0x28\n#define EP_MAXPKT1\t\t\t0x29\n#define \tADDITIONAL_TRANSACTION_OPPORTUNITIES\t3\n#define \t\tNONE_ADDITIONAL_TRANSACTION\t\t0\n#define \t\tONE_ADDITIONAL_TRANSACTION\t\t1\n#define \t\tTWO_ADDITIONAL_TRANSACTION\t\t2\n#define EP_CFG\t\t\t\t0x2a\n#define \tENDPOINT_NUMBER\t\t\t\t0\n#define \tENDPOINT_DIRECTION\t\t\t4\n#define \tENDPOINT_TYPE\t\t\t\t5\n#define \tENDPOINT_ENABLE\t\t\t\t7\n#define EP_HBW\t\t\t\t0x2b\n#define \tHIGH_BANDWIDTH_OUT_TRANSACTION_PID\t0\n#define \t\tDATA0_PID\t\t\t\t0\n#define \t\tDATA1_PID\t\t\t\t1\n#define \t\tDATA2_PID\t\t\t\t2\n#define \t\tMDATA_PID\t\t\t\t3\n#define EP_BUFF_STATES\t\t\t0x2c\n#define \tBUFFER_A_STATE\t\t\t\t0\n#define \tBUFFER_B_STATE\t\t\t\t2\n#define \t\tBUFF_FREE\t\t\t\t0\n#define \t\tBUFF_VALID\t\t\t\t1\n#define \t\tBUFF_LCL\t\t\t\t2\n#define \t\tBUFF_USB\t\t\t\t3\n\n \n\n#define PCI_DEVICE_ID_RDK1\t0x9054\n\n \n#define RDK_EPLD_IO_REGISTER1\t\t0x00000000\n#define \tRDK_EPLD_USB_RESET\t\t\t\t0\n#define \tRDK_EPLD_USB_POWERDOWN\t\t\t\t1\n#define \tRDK_EPLD_USB_WAKEUP\t\t\t\t2\n#define \tRDK_EPLD_USB_EOT\t\t\t\t3\n#define \tRDK_EPLD_DPPULL\t\t\t\t\t4\n#define RDK_EPLD_IO_REGISTER2\t\t0x00000004\n#define \tRDK_EPLD_BUSWIDTH\t\t\t\t0\n#define \tRDK_EPLD_USER\t\t\t\t\t2\n#define \tRDK_EPLD_RESET_INTERRUPT_ENABLE\t\t\t3\n#define \tRDK_EPLD_DMA_TIMEOUT_ENABLE\t\t\t4\n#define RDK_EPLD_STATUS_REGISTER\t0x00000008\n#define \tRDK_EPLD_USB_LRESET\t\t\t\t0\n#define RDK_EPLD_REVISION_REGISTER\t0x0000000c\n\n \n#define INTCSR\t\t\t\t0x68\n#define \tPCI_INTERRUPT_ENABLE\t\t\t\t8\n#define \tLOCAL_INTERRUPT_INPUT_ENABLE\t\t\t11\n#define \tLOCAL_INPUT_INTERRUPT_ACTIVE\t\t\t15\n#define \tLOCAL_DMA_CHANNEL_0_INTERRUPT_ENABLE\t\t18\n#define \tLOCAL_DMA_CHANNEL_1_INTERRUPT_ENABLE\t\t19\n#define \tDMA_CHANNEL_0_INTERRUPT_ACTIVE\t\t\t21\n#define \tDMA_CHANNEL_1_INTERRUPT_ACTIVE\t\t\t22\n#define CNTRL\t\t\t\t0x6C\n#define \tRELOAD_CONFIGURATION_REGISTERS\t\t\t29\n#define \tPCI_ADAPTER_SOFTWARE_RESET\t\t\t30\n#define DMAMODE0\t\t\t0x80\n#define \tLOCAL_BUS_WIDTH\t\t\t\t\t0\n#define \tINTERNAL_WAIT_STATES\t\t\t\t2\n#define \tTA_READY_INPUT_ENABLE\t\t\t\t6\n#define \tLOCAL_BURST_ENABLE\t\t\t\t8\n#define \tSCATTER_GATHER_MODE\t\t\t\t9\n#define \tDONE_INTERRUPT_ENABLE\t\t\t\t10\n#define \tLOCAL_ADDRESSING_MODE\t\t\t\t11\n#define \tDEMAND_MODE\t\t\t\t\t12\n#define \tDMA_EOT_ENABLE\t\t\t\t\t14\n#define \tFAST_SLOW_TERMINATE_MODE_SELECT\t\t\t15\n#define \tDMA_CHANNEL_INTERRUPT_SELECT\t\t\t17\n#define DMAPADR0\t\t\t0x84\n#define DMALADR0\t\t\t0x88\n#define DMASIZ0\t\t\t\t0x8c\n#define DMADPR0\t\t\t\t0x90\n#define \tDESCRIPTOR_LOCATION\t\t\t\t0\n#define \tEND_OF_CHAIN\t\t\t\t\t1\n#define \tINTERRUPT_AFTER_TERMINAL_COUNT\t\t\t2\n#define \tDIRECTION_OF_TRANSFER\t\t\t\t3\n#define DMACSR0\t\t\t\t0xa8\n#define \tCHANNEL_ENABLE\t\t\t\t\t0\n#define \tCHANNEL_START\t\t\t\t\t1\n#define \tCHANNEL_ABORT\t\t\t\t\t2\n#define \tCHANNEL_CLEAR_INTERRUPT\t\t\t\t3\n#define \tCHANNEL_DONE\t\t\t\t\t4\n#define DMATHR\t\t\t\t0xb0\n#define LBRD1\t\t\t\t0xf8\n#define \tMEMORY_SPACE_LOCAL_BUS_WIDTH\t\t\t0\n#define \tW8_BIT\t\t\t\t\t\t0\n#define \tW16_BIT\t\t\t\t\t\t1\n\n \n#define LOCAL_INTERRUPT_TEST \\\n\t((1 << LOCAL_INPUT_INTERRUPT_ACTIVE) | \\\n\t (1 << LOCAL_INTERRUPT_INPUT_ENABLE))\n\n#define DMA_CHANNEL_0_TEST \\\n\t((1 << DMA_CHANNEL_0_INTERRUPT_ACTIVE) | \\\n\t (1 << LOCAL_DMA_CHANNEL_0_INTERRUPT_ENABLE))\n\n#define DMA_CHANNEL_1_TEST \\\n\t((1 << DMA_CHANNEL_1_INTERRUPT_ACTIVE) | \\\n\t (1 << LOCAL_DMA_CHANNEL_1_INTERRUPT_ENABLE))\n\n \n#define RDK_EPLD_IO_REGISTER1\t\t\t0x00000000\n#define \tRDK_EPLD_USB_RESET\t\t\t0\n#define \tRDK_EPLD_USB_POWERDOWN\t\t\t1\n#define \tRDK_EPLD_USB_WAKEUP\t\t\t2\n#define \tRDK_EPLD_USB_EOT\t\t\t3\n#define \tRDK_EPLD_DPPULL\t\t\t\t4\n#define RDK_EPLD_IO_REGISTER2\t\t\t0x00000004\n#define \tRDK_EPLD_BUSWIDTH\t\t\t0\n#define \tRDK_EPLD_USER\t\t\t\t2\n#define \tRDK_EPLD_RESET_INTERRUPT_ENABLE\t\t3\n#define \tRDK_EPLD_DMA_TIMEOUT_ENABLE\t\t4\n#define RDK_EPLD_STATUS_REGISTER\t\t0x00000008\n#define RDK_EPLD_USB_LRESET\t\t\t\t0\n#define RDK_EPLD_REVISION_REGISTER\t\t0x0000000c\n\n#define EPLD_IO_CONTROL_REGISTER\t\t0x400\n#define \tNET2272_RESET\t\t\t\t0\n#define \tBUSWIDTH\t\t\t\t1\n#define \tMPX_MODE\t\t\t\t3\n#define \tUSER\t\t\t\t\t4\n#define \tDMA_TIMEOUT_ENABLE\t\t\t5\n#define \tDMA_CTL_DACK\t\t\t\t6\n#define \tEPLD_DMA_ENABLE\t\t\t\t7\n#define EPLD_DMA_CONTROL_REGISTER\t\t0x800\n#define \tSPLIT_DMA_MODE\t\t\t\t0\n#define \tSPLIT_DMA_DIRECTION\t\t\t1\n#define \tSPLIT_DMA_ENABLE\t\t\t2\n#define \tSPLIT_DMA_INTERRUPT_ENABLE\t\t3\n#define \tSPLIT_DMA_INTERRUPT\t\t\t4\n#define \tEPLD_DMA_MODE\t\t\t\t5\n#define \tEPLD_DMA_CONTROLLER_ENABLE\t\t7\n#define SPLIT_DMA_ADDRESS_LOW\t\t\t0xc00\n#define SPLIT_DMA_ADDRESS_HIGH\t\t\t0x1000\n#define SPLIT_DMA_BYTE_COUNT_LOW\t\t0x1400\n#define SPLIT_DMA_BYTE_COUNT_HIGH\t\t0x1800\n#define EPLD_REVISION_REGISTER\t\t\t0x1c00\n#define SPLIT_DMA_RAM\t\t\t\t0x4000\n#define DMA_RAM_SIZE\t\t\t\t0x1000\n\n \n\n#define PCI_DEVICE_ID_RDK2\t0x3272\n\n \n\n \n\n#define RDK2_IRQENB\t\t\t0x00\n#define RDK2_IRQSTAT\t\t\t0x04\n#define \tPB7\t\t\t\t23\n#define \tPB6\t\t\t\t22\n#define \tPB5\t\t\t\t21\n#define \tPB4\t\t\t\t20\n#define \tPB3\t\t\t\t19\n#define \tPB2\t\t\t\t18\n#define \tPB1\t\t\t\t17\n#define \tPB0\t\t\t\t16\n#define \tGP3\t\t\t\t23\n#define \tGP2\t\t\t\t23\n#define \tGP1\t\t\t\t23\n#define \tGP0\t\t\t\t23\n#define \tDMA_RETRY_ABORT\t\t\t6\n#define \tDMA_PAUSE_DONE\t\t\t5\n#define \tDMA_ABORT_DONE\t\t\t4\n#define \tDMA_OUT_FIFO_TRANSFER_DONE\t3\n#define \tDMA_LOCAL_DONE\t\t\t2\n#define \tDMA_PCI_DONE\t\t\t1\n#define \tNET2272_PCI_IRQ\t\t\t0\n\n#define RDK2_LOCCTLRDK\t\t\t0x08\n#define \tCHIP_RESET\t\t\t3\n#define \tSPLIT_DMA\t\t\t2\n#define \tMULTIPLEX_MODE\t\t\t1\n#define \tBUS_WIDTH\t\t\t0\n\n#define RDK2_GPIOCTL\t\t\t0x10\n#define \tGP3_OUT_ENABLE\t\t\t\t\t7\n#define \tGP2_OUT_ENABLE\t\t\t\t\t6\n#define \tGP1_OUT_ENABLE\t\t\t\t\t5\n#define \tGP0_OUT_ENABLE\t\t\t\t\t4\n#define \tGP3_DATA\t\t\t\t\t3\n#define \tGP2_DATA\t\t\t\t\t2\n#define \tGP1_DATA\t\t\t\t\t1\n#define \tGP0_DATA\t\t\t\t\t0\n\n#define RDK2_LEDSW\t\t\t0x14\n#define \tLED3\t\t\t\t27\n#define \tLED2\t\t\t\t26\n#define \tLED1\t\t\t\t25\n#define \tLED0\t\t\t\t24\n#define \tPBUTTON\t\t\t\t16\n#define \tDIPSW\t\t\t\t0\n\n#define RDK2_DIAG\t\t\t0x18\n#define \tRDK2_FAST_TIMES\t\t\t\t2\n#define \tFORCE_PCI_SERR\t\t\t\t1\n#define \tFORCE_PCI_INT\t\t\t\t0\n#define RDK2_FPGAREV\t\t\t0x1C\n\n \n#define RDK2_DMACTL\t\t\t0x80\n#define \tADDR_HOLD\t\t\t\t24\n#define \tRETRY_COUNT\t\t\t\t16\t \n#define \tFIFO_THRESHOLD\t\t\t\t11\t \n#define \tMEM_WRITE_INVALIDATE\t\t\t10\n#define \tREAD_MULTIPLE\t\t\t\t9\n#define \tREAD_LINE\t\t\t\t8\n#define \tRDK2_DMA_MODE\t\t\t\t6\t \n#define \tCONTROL_DACK\t\t\t\t5\n#define \tEOT_ENABLE\t\t\t\t4\n#define \tEOT_POLARITY\t\t\t\t3\n#define \tDACK_POLARITY\t\t\t\t2\n#define \tDREQ_POLARITY\t\t\t\t1\n#define \tDMA_ENABLE\t\t\t\t0\n\n#define RDK2_DMASTAT\t\t\t0x84\n#define \tGATHER_COUNT\t\t\t\t12\t \n#define \tFIFO_COUNT\t\t\t\t6\t \n#define \tFIFO_FLUSH\t\t\t\t5\n#define \tFIFO_TRANSFER\t\t\t\t4\n#define \tPAUSE_DONE\t\t\t\t3\n#define \tABORT_DONE\t\t\t\t2\n#define \tDMA_ABORT\t\t\t\t1\n#define \tDMA_START\t\t\t\t0\n\n#define RDK2_DMAPCICOUNT\t\t0x88\n#define \tDMA_DIRECTION\t\t\t\t31\n#define \tDMA_PCI_BYTE_COUNT\t\t\t0\t \n\n#define RDK2_DMALOCCOUNT\t\t0x8C\t \n\n#define RDK2_DMAADDR\t\t\t0x90\t \n\n \n\n#define REG_INDEXED_THRESHOLD\t(1 << 5)\n\n \nstruct net2272_ep {\n\tstruct usb_ep ep;\n\tstruct net2272 *dev;\n\tunsigned long irqs;\n\n\t \n\tstruct list_head queue;\n\tconst struct usb_endpoint_descriptor *desc;\n\tunsigned num:8,\n\t         fifo_size:12,\n\t         stopped:1,\n\t         wedged:1,\n\t         is_in:1,\n\t         is_iso:1,\n\t         dma:1,\n\t         not_empty:1;\n};\n\nstruct net2272 {\n\t \n\tstruct usb_gadget gadget;\n\tstruct device *dev;\n\tunsigned short dev_id;\n\n\tspinlock_t lock;\n\tstruct net2272_ep ep[4];\n\tstruct usb_gadget_driver *driver;\n\tunsigned protocol_stall:1,\n\t         softconnect:1,\n\t         wakeup:1,\n\t\t added:1,\n\t\t async_callbacks:1,\n\t         dma_eot_polarity:1,\n\t         dma_dack_polarity:1,\n\t         dma_dreq_polarity:1,\n\t         dma_busy:1;\n\tu16 chiprev;\n\tu8 pagesel;\n\n\tunsigned int irq;\n\tunsigned short fifo_mode;\n\n\tunsigned int base_shift;\n\tu16 __iomem *base_addr;\n\tunion {\n#ifdef CONFIG_USB_PCI\n\t\tstruct {\n\t\t\tvoid __iomem *plx9054_base_addr;\n\t\t\tvoid __iomem *epld_base_addr;\n\t\t} rdk1;\n\t\tstruct {\n\t\t\t \n\t\t\tvoid __iomem *fpga_base_addr;\n\t\t} rdk2;\n#endif\n\t};\n};\n\nstatic void __iomem *\nnet2272_reg_addr(struct net2272 *dev, unsigned int reg)\n{\n\treturn dev->base_addr + (reg << dev->base_shift);\n}\n\nstatic void\nnet2272_write(struct net2272 *dev, unsigned int reg, u8 value)\n{\n\tif (reg >= REG_INDEXED_THRESHOLD) {\n\t\t \n\t\twriteb((u8)reg, net2272_reg_addr(dev, REGADDRPTR));\n\t\twriteb(value, net2272_reg_addr(dev, REGDATA));\n\t\t \n\t} else\n\t\twriteb(value, net2272_reg_addr(dev, reg));\n}\n\nstatic u8\nnet2272_read(struct net2272 *dev, unsigned int reg)\n{\n\tu8 ret;\n\n\tif (reg >= REG_INDEXED_THRESHOLD) {\n\t\t \n\t\twriteb((u8)reg, net2272_reg_addr(dev, REGADDRPTR));\n\t\tret = readb(net2272_reg_addr(dev, REGDATA));\n\t\t \n\t} else\n\t\tret = readb(net2272_reg_addr(dev, reg));\n\n\treturn ret;\n}\n\nstatic void\nnet2272_ep_write(struct net2272_ep *ep, unsigned int reg, u8 value)\n{\n\tstruct net2272 *dev = ep->dev;\n\n\tif (dev->pagesel != ep->num) {\n\t\tnet2272_write(dev, PAGESEL, ep->num);\n\t\tdev->pagesel = ep->num;\n\t}\n\tnet2272_write(dev, reg, value);\n}\n\nstatic u8\nnet2272_ep_read(struct net2272_ep *ep, unsigned int reg)\n{\n\tstruct net2272 *dev = ep->dev;\n\n\tif (dev->pagesel != ep->num) {\n\t\tnet2272_write(dev, PAGESEL, ep->num);\n\t\tdev->pagesel = ep->num;\n\t}\n\treturn net2272_read(dev, reg);\n}\n\nstatic void allow_status(struct net2272_ep *ep)\n{\n\t \n\tnet2272_ep_write(ep, EP_RSPCLR,\n\t\t(1 << CONTROL_STATUS_PHASE_HANDSHAKE) |\n\t\t(1 << ALT_NAK_OUT_PACKETS) |\n\t\t(1 << NAK_OUT_PACKETS_MODE));\n\tep->stopped = 1;\n}\n\nstatic void set_halt(struct net2272_ep *ep)\n{\n\t \n\tnet2272_ep_write(ep, EP_RSPCLR, 1 << CONTROL_STATUS_PHASE_HANDSHAKE);\n\tnet2272_ep_write(ep, EP_RSPSET, 1 << ENDPOINT_HALT);\n}\n\nstatic void clear_halt(struct net2272_ep *ep)\n{\n\t \n\tnet2272_ep_write(ep, EP_RSPCLR,\n\t\t(1 << ENDPOINT_HALT) | (1 << ENDPOINT_TOGGLE));\n}\n\n \nstatic void set_fifo_bytecount(struct net2272_ep *ep, unsigned count)\n{\n\t \n\tnet2272_ep_write(ep, EP_TRANSFER2, count >> 16);\n\tnet2272_ep_write(ep, EP_TRANSFER1, count >> 8);\n\tnet2272_ep_write(ep, EP_TRANSFER0, count);\n}\n\nstruct net2272_request {\n\tstruct usb_request req;\n\tstruct list_head queue;\n\tunsigned mapped:1,\n\t         valid:1;\n};\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}