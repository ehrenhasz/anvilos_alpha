{
  "module_name": "bdc_dbg.c",
  "hash_id": "55d702f6619d3bf747a74b5d04f2ac13e1b3fccd7e47f955b86799e4567a2cb8",
  "original_prompt": "Ingested from linux-6.6.14/drivers/usb/gadget/udc/bdc/bdc_dbg.c",
  "human_readable_source": "\n \n\n#include \"bdc.h\"\n#include \"bdc_dbg.h\"\n\nvoid bdc_dbg_regs(struct bdc *bdc)\n{\n\tu32 temp;\n\n\tdev_vdbg(bdc->dev, \"bdc->regs:%p\\n\", bdc->regs);\n\ttemp = bdc_readl(bdc->regs, BDC_BDCCFG0);\n\tdev_vdbg(bdc->dev, \"bdccfg0:0x%08x\\n\", temp);\n\ttemp = bdc_readl(bdc->regs, BDC_BDCCFG1);\n\tdev_vdbg(bdc->dev, \"bdccfg1:0x%08x\\n\", temp);\n\ttemp = bdc_readl(bdc->regs, BDC_BDCCAP0);\n\tdev_vdbg(bdc->dev, \"bdccap0:0x%08x\\n\", temp);\n\ttemp = bdc_readl(bdc->regs, BDC_BDCCAP1);\n\tdev_vdbg(bdc->dev, \"bdccap1:0x%08x\\n\", temp);\n\ttemp = bdc_readl(bdc->regs, BDC_USPC);\n\tdev_vdbg(bdc->dev, \"uspc:0x%08x\\n\", temp);\n\ttemp = bdc_readl(bdc->regs, BDC_DVCSA);\n\tdev_vdbg(bdc->dev, \"dvcsa:0x%08x\\n\", temp);\n\ttemp = bdc_readl(bdc->regs, BDC_DVCSB);\n\tdev_vdbg(bdc->dev, \"dvcsb:0x%x08\\n\", temp);\n}\n\nvoid bdc_dump_epsts(struct bdc *bdc)\n{\n\tu32 temp;\n\n\ttemp = bdc_readl(bdc->regs, BDC_EPSTS0);\n\tdev_vdbg(bdc->dev, \"BDC_EPSTS0:0x%08x\\n\", temp);\n\n\ttemp = bdc_readl(bdc->regs, BDC_EPSTS1);\n\tdev_vdbg(bdc->dev, \"BDC_EPSTS1:0x%x\\n\", temp);\n\n\ttemp = bdc_readl(bdc->regs, BDC_EPSTS2);\n\tdev_vdbg(bdc->dev, \"BDC_EPSTS2:0x%08x\\n\", temp);\n\n\ttemp = bdc_readl(bdc->regs, BDC_EPSTS3);\n\tdev_vdbg(bdc->dev, \"BDC_EPSTS3:0x%08x\\n\", temp);\n\n\ttemp = bdc_readl(bdc->regs, BDC_EPSTS4);\n\tdev_vdbg(bdc->dev, \"BDC_EPSTS4:0x%08x\\n\", temp);\n\n\ttemp = bdc_readl(bdc->regs, BDC_EPSTS5);\n\tdev_vdbg(bdc->dev, \"BDC_EPSTS5:0x%08x\\n\", temp);\n\n\ttemp = bdc_readl(bdc->regs, BDC_EPSTS6);\n\tdev_vdbg(bdc->dev, \"BDC_EPSTS6:0x%08x\\n\", temp);\n\n\ttemp = bdc_readl(bdc->regs, BDC_EPSTS7);\n\tdev_vdbg(bdc->dev, \"BDC_EPSTS7:0x%08x\\n\", temp);\n}\n\nvoid bdc_dbg_srr(struct bdc *bdc, u32 srr_num)\n{\n\tstruct bdc_sr *sr;\n\tdma_addr_t addr;\n\tint i;\n\n\tsr = bdc->srr.sr_bds;\n\taddr = bdc->srr.dma_addr;\n\tdev_vdbg(bdc->dev, \"%s sr:%p dqp_index:%d\\n\", __func__,\n\t\t\t\t\t\tsr, bdc->srr.dqp_index);\n\tfor (i = 0; i < NUM_SR_ENTRIES; i++) {\n\t\tsr = &bdc->srr.sr_bds[i];\n\t\tdev_vdbg(bdc->dev, \"%llx %08x %08x %08x %08x\\n\",\n\t\t\t\t\t(unsigned long long)addr,\n\t\t\t\t\tle32_to_cpu(sr->offset[0]),\n\t\t\t\t\tle32_to_cpu(sr->offset[1]),\n\t\t\t\t\tle32_to_cpu(sr->offset[2]),\n\t\t\t\t\tle32_to_cpu(sr->offset[3]));\n\t\taddr += sizeof(*sr);\n\t}\n}\n\nvoid bdc_dbg_bd_list(struct bdc *bdc, struct bdc_ep *ep)\n{\n\tstruct bd_list *bd_list = &ep->bd_list;\n\tstruct bd_table *bd_table;\n\tstruct bdc_bd *bd;\n\tint tbi, bdi, gbdi;\n\tdma_addr_t dma;\n\n\tgbdi = 0;\n\tdev_vdbg(bdc->dev,\n\t\t\"Dump bd list for %s epnum:%d\\n\",\n\t\tep->name, ep->ep_num);\n\n\tdev_vdbg(bdc->dev,\n\t\t\"tabs:%d max_bdi:%d eqp_bdi:%d hwd_bdi:%d num_bds_table:%d\\n\",\n\t\tbd_list->num_tabs, bd_list->max_bdi, bd_list->eqp_bdi,\n\t\tbd_list->hwd_bdi, bd_list->num_bds_table);\n\n\tfor (tbi = 0; tbi < bd_list->num_tabs; tbi++) {\n\t\tbd_table = bd_list->bd_table_array[tbi];\n\t\tfor (bdi = 0; bdi < bd_list->num_bds_table; bdi++) {\n\t\t\tbd =  bd_table->start_bd + bdi;\n\t\t\tdma = bd_table->dma + (sizeof(struct bdc_bd) * bdi);\n\t\t\tdev_vdbg(bdc->dev,\n\t\t\t\t\"tbi:%2d bdi:%2d gbdi:%2d virt:%p phys:%llx %08x %08x %08x %08x\\n\",\n\t\t\t\ttbi, bdi, gbdi++, bd, (unsigned long long)dma,\n\t\t\t\tle32_to_cpu(bd->offset[0]),\n\t\t\t\tle32_to_cpu(bd->offset[1]),\n\t\t\t\tle32_to_cpu(bd->offset[2]),\n\t\t\t\tle32_to_cpu(bd->offset[3]));\n\t\t}\n\t\tdev_vdbg(bdc->dev, \"\\n\\n\");\n\t}\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}