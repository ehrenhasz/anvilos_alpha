{
  "module_name": "m66592-udc.h",
  "hash_id": "0d329b318356c4ccbcfc4287fd97a5d8725b7f87c862dc21ed36edd20ecd23e7",
  "original_prompt": "Ingested from linux-6.6.14/drivers/usb/gadget/udc/m66592-udc.h",
  "human_readable_source": "\n \n\n#ifndef __M66592_UDC_H__\n#define __M66592_UDC_H__\n\n#include <linux/clk.h>\n#include <linux/usb/m66592.h>\n\n#define M66592_SYSCFG\t\t0x00\n#define M66592_XTAL\t\t0xC000\t \n#define   M66592_XTAL48\t\t 0x8000\t\t \n#define   M66592_XTAL24\t\t 0x4000\t\t \n#define   M66592_XTAL12\t\t 0x0000\t\t \n#define M66592_XCKE\t\t0x2000\t \n#define M66592_RCKE\t\t0x1000\t \n#define M66592_PLLC\t\t0x0800\t \n#define M66592_SCKE\t\t0x0400\t \n#define M66592_ATCKM\t\t0x0100\t \n#define M66592_HSE\t\t0x0080\t \n#define M66592_DCFM\t\t0x0040\t \n#define M66592_DMRPD\t\t0x0020\t \n#define M66592_DPRPU\t\t0x0010\t \n#define M66592_FSRPC\t\t0x0004\t \n#define M66592_PCUT\t\t0x0002\t \n#define M66592_USBE\t\t0x0001\t \n\n#define M66592_SYSSTS\t\t0x02\n#define M66592_LNST\t\t0x0003\t \n#define   M66592_SE1\t\t 0x0003\t\t \n#define   M66592_KSTS\t\t 0x0002\t\t \n#define   M66592_JSTS\t\t 0x0001\t\t \n#define   M66592_SE0\t\t 0x0000\t\t \n\n#define M66592_DVSTCTR\t\t0x04\n#define M66592_WKUP\t\t0x0100\t \n#define M66592_RWUPE\t\t0x0080\t \n#define M66592_USBRST\t\t0x0040\t \n#define M66592_RESUME\t\t0x0020\t \n#define M66592_UACT\t\t0x0010\t \n#define M66592_RHST\t\t0x0003\t \n#define   M66592_HSMODE\t\t 0x0003\t\t \n#define   M66592_FSMODE\t\t 0x0002\t\t \n#define   M66592_HSPROC\t\t 0x0001\t\t \n\n#define M66592_TESTMODE\t\t0x06\n#define M66592_UTST\t\t0x000F\t \n#define   M66592_H_TST_PACKET\t 0x000C\t\t \n#define   M66592_H_TST_SE0_NAK\t 0x000B\t\t \n#define   M66592_H_TST_K\t 0x000A\t\t \n#define   M66592_H_TST_J\t 0x0009\t\t \n#define   M66592_H_TST_NORMAL\t 0x0000\t\t \n#define   M66592_P_TST_PACKET\t 0x0004\t\t \n#define   M66592_P_TST_SE0_NAK\t 0x0003\t\t \n#define   M66592_P_TST_K\t 0x0002\t\t \n#define   M66592_P_TST_J\t 0x0001\t\t \n#define   M66592_P_TST_NORMAL\t 0x0000\t\t \n\n \n#define M66592_CFBCFG\t\t0x0A\n#define M66592_D0FBCFG\t\t0x0C\n#define M66592_LITTLE\t\t0x0100\t \n \n#define M66592_PINCFG\t\t0x0A\n#define M66592_LDRV\t\t0x8000\t \n#define M66592_BIGEND\t\t0x0100\t \n\n#define M66592_DMA0CFG\t\t0x0C\n#define M66592_DMA1CFG\t\t0x0E\n#define M66592_DREQA\t\t0x4000\t \n#define M66592_BURST\t\t0x2000\t \n#define M66592_DACKA\t\t0x0400\t \n#define M66592_DFORM\t\t0x0380\t \n#define   M66592_CPU_ADR_RD_WR\t 0x0000    \n#define   M66592_CPU_DACK_RD_WR\t 0x0100    \n#define   M66592_CPU_DACK_ONLY\t 0x0180    \n#define   M66592_SPLIT_DACK_ONLY 0x0200    \n#define   M66592_SPLIT_DACK_DSTB 0x0300    \n#define M66592_DENDA\t\t0x0040\t \n#define M66592_PKTM\t\t0x0020\t \n#define M66592_DENDE\t\t0x0010\t \n#define M66592_OBUS\t\t0x0004\t \n\n \n#define M66592_CFIFO\t\t0x10\n#define M66592_D0FIFO\t\t0x14\n#define M66592_D1FIFO\t\t0x18\n\n#define M66592_CFIFOSEL\t\t0x1E\n#define M66592_D0FIFOSEL\t0x24\n#define M66592_D1FIFOSEL\t0x2A\n#define M66592_RCNT\t\t0x8000\t \n#define M66592_REW\t\t0x4000\t \n#define M66592_DCLRM\t\t0x2000\t \n#define M66592_DREQE\t\t0x1000\t \n#define M66592_MBW_8\t\t0x0000    \n#define M66592_MBW_16\t\t0x0400    \n#define M66592_MBW_32\t\t0x0800    \n#define M66592_TRENB\t\t0x0200\t \n#define M66592_TRCLR\t\t0x0100\t \n#define M66592_DEZPM\t\t0x0080\t \n#define M66592_ISEL\t\t0x0020\t \n#define M66592_CURPIPE\t\t0x0007\t \n\n#define M66592_CFIFOCTR\t\t0x20\n#define M66592_D0FIFOCTR\t0x26\n#define M66592_D1FIFOCTR\t0x2c\n#define M66592_BVAL\t\t0x8000\t \n#define M66592_BCLR\t\t0x4000\t \n#define M66592_FRDY\t\t0x2000\t \n#define M66592_DTLN\t\t0x0FFF\t \n\n#define M66592_CFIFOSIE\t\t0x22\n#define M66592_TGL\t\t0x8000\t \n#define M66592_SCLR\t\t0x4000\t \n#define M66592_SBUSY\t\t0x2000\t \n\n#define M66592_D0FIFOTRN\t0x28\n#define M66592_D1FIFOTRN\t0x2E\n#define M66592_TRNCNT\t\t0xFFFF\t \n\n#define M66592_INTENB0\t0x30\n#define M66592_VBSE\t0x8000\t \n#define M66592_RSME\t0x4000\t \n#define M66592_SOFE\t0x2000\t \n#define M66592_DVSE\t0x1000\t \n#define M66592_CTRE\t0x0800\t \n#define M66592_BEMPE\t0x0400\t \n#define M66592_NRDYE\t0x0200\t \n#define M66592_BRDYE\t0x0100\t \n#define M66592_URST\t0x0080\t \n#define M66592_SADR\t0x0040\t \n#define M66592_SCFG\t0x0020\t \n#define M66592_SUSP\t0x0010\t \n#define M66592_WDST\t0x0008\t \n#define M66592_RDST\t0x0004\t \n#define M66592_CMPL\t0x0002\t \n#define M66592_SERR\t0x0001\t \n\n#define M66592_INTENB1\t0x32\n#define M66592_BCHGE\t0x4000\t \n#define M66592_DTCHE\t0x1000\t \n#define M66592_SIGNE\t0x0020\t \n#define M66592_SACKE\t0x0010\t \n#define M66592_BRDYM\t0x0004\t \n#define M66592_INTL\t0x0002\t \n#define M66592_PCSE\t0x0001\t \n\n#define M66592_BRDYENB\t\t0x36\n#define M66592_BRDYSTS\t\t0x46\n#define M66592_BRDY7\t\t0x0080\t \n#define M66592_BRDY6\t\t0x0040\t \n#define M66592_BRDY5\t\t0x0020\t \n#define M66592_BRDY4\t\t0x0010\t \n#define M66592_BRDY3\t\t0x0008\t \n#define M66592_BRDY2\t\t0x0004\t \n#define M66592_BRDY1\t\t0x0002\t \n#define M66592_BRDY0\t\t0x0001\t \n\n#define M66592_NRDYENB\t\t0x38\n#define M66592_NRDYSTS\t\t0x48\n#define M66592_NRDY7\t\t0x0080\t \n#define M66592_NRDY6\t\t0x0040\t \n#define M66592_NRDY5\t\t0x0020\t \n#define M66592_NRDY4\t\t0x0010\t \n#define M66592_NRDY3\t\t0x0008\t \n#define M66592_NRDY2\t\t0x0004\t \n#define M66592_NRDY1\t\t0x0002\t \n#define M66592_NRDY0\t\t0x0001\t \n\n#define M66592_BEMPENB\t\t0x3A\n#define M66592_BEMPSTS\t\t0x4A\n#define M66592_BEMP7\t\t0x0080\t \n#define M66592_BEMP6\t\t0x0040\t \n#define M66592_BEMP5\t\t0x0020\t \n#define M66592_BEMP4\t\t0x0010\t \n#define M66592_BEMP3\t\t0x0008\t \n#define M66592_BEMP2\t\t0x0004\t \n#define M66592_BEMP1\t\t0x0002\t \n#define M66592_BEMP0\t\t0x0001\t \n\n#define M66592_SOFCFG\t\t0x3C\n#define M66592_SOFM\t\t0x000C\t \n#define   M66592_SOF_125US\t 0x0008    \n#define   M66592_SOF_1MS\t 0x0004    \n#define   M66592_SOF_DISABLE\t 0x0000    \n\n#define M66592_INTSTS0\t\t0x40\n#define M66592_VBINT\t\t0x8000\t \n#define M66592_RESM\t\t0x4000\t \n#define M66592_SOFR\t\t0x2000\t \n#define M66592_DVST\t\t0x1000\t \n#define M66592_CTRT\t\t0x0800\t \n#define M66592_BEMP\t\t0x0400\t \n#define M66592_NRDY\t\t0x0200\t \n#define M66592_BRDY\t\t0x0100\t \n#define M66592_VBSTS\t\t0x0080\t \n#define M66592_DVSQ\t\t0x0070\t \n#define   M66592_DS_SPD_CNFG\t 0x0070\t    \n#define   M66592_DS_SPD_ADDR\t 0x0060\t    \n#define   M66592_DS_SPD_DFLT\t 0x0050\t    \n#define   M66592_DS_SPD_POWR\t 0x0040\t    \n#define   M66592_DS_SUSP\t 0x0040\t    \n#define   M66592_DS_CNFG\t 0x0030\t    \n#define   M66592_DS_ADDS\t 0x0020\t    \n#define   M66592_DS_DFLT\t 0x0010\t    \n#define   M66592_DS_POWR\t 0x0000\t    \n#define M66592_DVSQS\t\t0x0030\t \n#define M66592_VALID\t\t0x0008\t \n#define M66592_CTSQ\t\t0x0007\t \n#define   M66592_CS_SQER\t 0x0006\t   \n#define   M66592_CS_WRND\t 0x0005\t   \n#define   M66592_CS_WRSS\t 0x0004\t   \n#define   M66592_CS_WRDS\t 0x0003\t   \n#define   M66592_CS_RDSS\t 0x0002\t   \n#define   M66592_CS_RDDS\t 0x0001\t   \n#define   M66592_CS_IDST\t 0x0000\t   \n\n#define M66592_INTSTS1\t\t0x42\n#define M66592_BCHG\t\t0x4000\t \n#define M66592_DTCH\t\t0x1000\t \n#define M66592_SIGN\t\t0x0020\t \n#define M66592_SACK\t\t0x0010\t \n\n#define M66592_FRMNUM\t\t0x4C\n#define M66592_OVRN\t\t0x8000\t \n#define M66592_CRCE\t\t0x4000\t \n#define M66592_SOFRM\t\t0x0800\t \n#define M66592_FRNM\t\t0x07FF\t \n\n#define M66592_UFRMNUM\t\t0x4E\n#define M66592_UFRNM\t\t0x0007\t \n\n#define M66592_RECOVER\t\t0x50\n#define M66592_STSRECOV\t\t0x0700\t \n#define   M66592_STSR_HI\t 0x0400\t\t   \n#define   M66592_STSR_DEFAULT\t 0x0100\t\t   \n#define   M66592_STSR_ADDRESS\t 0x0200\t\t   \n#define   M66592_STSR_CONFIG\t 0x0300\t\t   \n#define M66592_USBADDR\t\t0x007F\t \n\n#define M66592_USBREQ\t\t\t0x54\n#define M66592_bRequest\t\t\t0xFF00\t \n#define   M66592_GET_STATUS\t\t 0x0000\n#define   M66592_CLEAR_FEATURE\t\t 0x0100\n#define   M66592_ReqRESERVED\t\t 0x0200\n#define   M66592_SET_FEATURE\t\t 0x0300\n#define   M66592_ReqRESERVED1\t\t 0x0400\n#define   M66592_SET_ADDRESS\t\t 0x0500\n#define   M66592_GET_DESCRIPTOR\t\t 0x0600\n#define   M66592_SET_DESCRIPTOR\t\t 0x0700\n#define   M66592_GET_CONFIGURATION\t 0x0800\n#define   M66592_SET_CONFIGURATION\t 0x0900\n#define   M66592_GET_INTERFACE\t\t 0x0A00\n#define   M66592_SET_INTERFACE\t\t 0x0B00\n#define   M66592_SYNCH_FRAME\t\t 0x0C00\n#define M66592_bmRequestType\t\t0x00FF\t \n#define M66592_bmRequestTypeDir\t\t0x0080\t \n#define   M66592_HOST_TO_DEVICE\t\t 0x0000\n#define   M66592_DEVICE_TO_HOST\t\t 0x0080\n#define M66592_bmRequestTypeType\t0x0060\t \n#define   M66592_STANDARD\t\t 0x0000\n#define   M66592_CLASS\t\t\t 0x0020\n#define   M66592_VENDOR\t\t\t 0x0040\n#define M66592_bmRequestTypeRecip\t0x001F\t \n#define   M66592_DEVICE\t\t\t 0x0000\n#define   M66592_INTERFACE\t\t 0x0001\n#define   M66592_ENDPOINT\t\t 0x0002\n\n#define M66592_USBVAL\t\t\t\t0x56\n#define M66592_wValue\t\t\t\t0xFFFF\t \n \n#define   M66592_ENDPOINT_HALT\t\t\t0x0000\n#define   M66592_DEVICE_REMOTE_WAKEUP\t\t0x0001\n#define   M66592_TEST_MODE\t\t\t0x0002\n \n#define M66592_DT_TYPE\t\t\t\t0xFF00\n#define M66592_GET_DT_TYPE(v)\t\t\t(((v) & DT_TYPE) >> 8)\n#define   M66592_DT_DEVICE\t\t\t0x01\n#define   M66592_DT_CONFIGURATION\t\t0x02\n#define   M66592_DT_STRING\t\t\t0x03\n#define   M66592_DT_INTERFACE\t\t\t0x04\n#define   M66592_DT_ENDPOINT\t\t\t0x05\n#define   M66592_DT_DEVICE_QUALIFIER\t\t0x06\n#define   M66592_DT_OTHER_SPEED_CONFIGURATION\t0x07\n#define   M66592_DT_INTERFACE_POWER\t\t0x08\n#define M66592_DT_INDEX\t\t\t\t0x00FF\n#define M66592_CONF_NUM\t\t\t\t0x00FF\n#define M66592_ALT_SET\t\t\t\t0x00FF\n\n#define M66592_USBINDEX\t\t\t0x58\n#define M66592_wIndex\t\t\t0xFFFF\t \n#define M66592_TEST_SELECT\t\t0xFF00\t \n#define   M66592_TEST_J\t\t\t 0x0100\t   \n#define   M66592_TEST_K\t\t\t 0x0200\t   \n#define   M66592_TEST_SE0_NAK\t\t 0x0300\t   \n#define   M66592_TEST_PACKET\t\t 0x0400\t   \n#define   M66592_TEST_FORCE_ENABLE\t 0x0500\t   \n#define   M66592_TEST_STSelectors\t 0x0600\t   \n#define   M66592_TEST_Reserved\t\t 0x4000\t   \n#define   M66592_TEST_VSTModes\t\t 0xC000\t   \n#define M66592_EP_DIR\t\t\t0x0080\t \n#define   M66592_EP_DIR_IN\t\t 0x0080\n#define   M66592_EP_DIR_OUT\t\t 0x0000\n\n#define M66592_USBLENG\t\t0x5A\n#define M66592_wLength\t\t0xFFFF\t \n\n#define M66592_DCPCFG\t\t0x5C\n#define M66592_CNTMD\t\t0x0100\t \n#define M66592_DIR\t\t0x0010\t \n\n#define M66592_DCPMAXP\t\t0x5E\n#define M66592_DEVSEL\t\t0xC000\t \n#define   M66592_DEVICE_0\t 0x0000\t\t   \n#define   M66592_DEVICE_1\t 0x4000\t\t   \n#define   M66592_DEVICE_2\t 0x8000\t\t   \n#define   M66592_DEVICE_3\t 0xC000\t\t   \n#define M66592_MAXP\t\t0x007F\t \n\n#define M66592_DCPCTR\t\t0x60\n#define M66592_BSTS\t\t0x8000\t \n#define M66592_SUREQ\t\t0x4000\t \n#define M66592_SQCLR\t\t0x0100\t \n#define M66592_SQSET\t\t0x0080\t \n#define M66592_SQMON\t\t0x0040\t \n#define M66592_CCPL\t\t0x0004\t \n#define M66592_PID\t\t0x0003\t \n#define   M66592_PID_STALL\t 0x0002\t\t   \n#define   M66592_PID_BUF\t 0x0001\t\t   \n#define   M66592_PID_NAK\t 0x0000\t\t   \n\n#define M66592_PIPESEL\t\t0x64\n#define M66592_PIPENM\t\t0x0007\t \n#define   M66592_PIPE0\t\t 0x0000\t\t   \n#define   M66592_PIPE1\t\t 0x0001\t\t   \n#define   M66592_PIPE2\t\t 0x0002\t\t   \n#define   M66592_PIPE3\t\t 0x0003\t\t   \n#define   M66592_PIPE4\t\t 0x0004\t\t   \n#define   M66592_PIPE5\t\t 0x0005\t\t   \n#define   M66592_PIPE6\t\t 0x0006\t\t   \n#define   M66592_PIPE7\t\t 0x0007\t\t   \n\n#define M66592_PIPECFG\t\t0x66\n#define M66592_TYP\t\t0xC000\t \n#define   M66592_ISO\t\t 0xC000\t\t   \n#define   M66592_INT\t\t 0x8000\t\t   \n#define   M66592_BULK\t\t 0x4000\t\t   \n#define M66592_BFRE\t\t0x0400\t \n#define M66592_DBLB\t\t0x0200\t \n#define M66592_CNTMD\t\t0x0100\t \n#define M66592_SHTNAK\t\t0x0080\t \n#define M66592_DIR\t\t0x0010\t \n#define   M66592_DIR_H_OUT\t 0x0010\t\t   \n#define   M66592_DIR_P_IN\t 0x0010\t\t   \n#define   M66592_DIR_H_IN\t 0x0000\t\t   \n#define   M66592_DIR_P_OUT\t 0x0000\t\t   \n#define M66592_EPNUM\t\t0x000F\t \n#define   M66592_EP1\t\t 0x0001\n#define   M66592_EP2\t\t 0x0002\n#define   M66592_EP3\t\t 0x0003\n#define   M66592_EP4\t\t 0x0004\n#define   M66592_EP5\t\t 0x0005\n#define   M66592_EP6\t\t 0x0006\n#define   M66592_EP7\t\t 0x0007\n#define   M66592_EP8\t\t 0x0008\n#define   M66592_EP9\t\t 0x0009\n#define   M66592_EP10\t\t 0x000A\n#define   M66592_EP11\t\t 0x000B\n#define   M66592_EP12\t\t 0x000C\n#define   M66592_EP13\t\t 0x000D\n#define   M66592_EP14\t\t 0x000E\n#define   M66592_EP15\t\t 0x000F\n\n#define M66592_PIPEBUF\t\t0x68\n#define M66592_BUFSIZE\t\t0x7C00\t \n#define M66592_BUF_SIZE(x)\t((((x) / 64) - 1) << 10)\n#define M66592_BUFNMB\t\t0x00FF\t \n\n#define M66592_PIPEMAXP\t\t0x6A\n#define M66592_MXPS\t\t0x07FF\t \n\n#define M66592_PIPEPERI\t\t0x6C\n#define M66592_IFIS\t\t0x1000\t \n#define M66592_IITV\t\t0x0007\t \n\n#define M66592_PIPE1CTR\t\t0x70\n#define M66592_PIPE2CTR\t\t0x72\n#define M66592_PIPE3CTR\t\t0x74\n#define M66592_PIPE4CTR\t\t0x76\n#define M66592_PIPE5CTR\t\t0x78\n#define M66592_PIPE6CTR\t\t0x7A\n#define M66592_PIPE7CTR\t\t0x7C\n#define M66592_BSTS\t\t0x8000\t \n#define M66592_INBUFM\t\t0x4000\t \n#define M66592_ACLRM\t\t0x0200\t \n#define M66592_SQCLR\t\t0x0100\t \n#define M66592_SQSET\t\t0x0080\t \n#define M66592_SQMON\t\t0x0040\t \n#define M66592_PID\t\t0x0003\t \n\n#define M66592_INVALID_REG\t0x7E\n\n\n#define get_pipectr_addr(pipenum)\t(M66592_PIPE1CTR + (pipenum - 1) * 2)\n\n#define M66592_MAX_SAMPLING\t10\n\n#define M66592_MAX_NUM_PIPE\t8\n#define M66592_MAX_NUM_BULK\t3\n#define M66592_MAX_NUM_ISOC\t2\n#define M66592_MAX_NUM_INT\t2\n\n#define M66592_BASE_PIPENUM_BULK\t3\n#define M66592_BASE_PIPENUM_ISOC\t1\n#define M66592_BASE_PIPENUM_INT\t\t6\n\n#define M66592_BASE_BUFNUM\t6\n#define M66592_MAX_BUFNUM\t0x4F\n\nstruct m66592_pipe_info {\n\tu16\tpipe;\n\tu16\tepnum;\n\tu16\tmaxpacket;\n\tu16\ttype;\n\tu16\tinterval;\n\tu16\tdir_in;\n};\n\nstruct m66592_request {\n\tstruct usb_request\treq;\n\tstruct list_head\tqueue;\n};\n\nstruct m66592_ep {\n\tstruct usb_ep\t\tep;\n\tstruct m66592\t\t*m66592;\n\n\tstruct list_head\tqueue;\n\tunsigned\t\tbusy:1;\n\tunsigned\t\tinternal_ccpl:1;\t \n\n\t \n\tunsigned\t\tuse_dma:1;\n\tu16\t\t\tpipenum;\n\tu16\t\t\ttype;\n\n\t \n\tunsigned long\t\tfifoaddr;\n\tunsigned long\t\tfifosel;\n\tunsigned long\t\tfifoctr;\n\tunsigned long\t\tfifotrn;\n\tunsigned long\t\tpipectr;\n};\n\nstruct m66592 {\n\tspinlock_t\t\tlock;\n\tvoid __iomem\t\t*reg;\n\tstruct clk *clk;\n\tstruct m66592_platdata\t*pdata;\n\tunsigned long\t\tirq_trigger;\n\n\tstruct usb_gadget\t\tgadget;\n\tstruct usb_gadget_driver\t*driver;\n\n\tstruct m66592_ep\tep[M66592_MAX_NUM_PIPE];\n\tstruct m66592_ep\t*pipenum2ep[M66592_MAX_NUM_PIPE];\n\tstruct m66592_ep\t*epaddr2ep[16];\n\n\tstruct usb_request\t*ep0_req;\t \n\t__le16\t\t\tep0_data;\t \n\tu16\t\t\told_vbus;\n\n\tstruct timer_list\ttimer;\n\n\tint\t\t\tscount;\n\n\tint\t\t\told_dvsq;\n\n\t \n\tint bulk;\n\tint interrupt;\n\tint isochronous;\n\tint num_dma;\n};\n#define to_m66592(g)\t(container_of((g), struct m66592, gadget))\n\n#define gadget_to_m66592(_gadget) container_of(_gadget, struct m66592, gadget)\n#define m66592_to_gadget(m66592) (&m66592->gadget)\n\n#define is_bulk_pipe(pipenum)\t\\\n\t((pipenum >= M66592_BASE_PIPENUM_BULK) && \\\n\t (pipenum < (M66592_BASE_PIPENUM_BULK + M66592_MAX_NUM_BULK)))\n#define is_interrupt_pipe(pipenum)\t\\\n\t((pipenum >= M66592_BASE_PIPENUM_INT) && \\\n\t (pipenum < (M66592_BASE_PIPENUM_INT + M66592_MAX_NUM_INT)))\n#define is_isoc_pipe(pipenum)\t\\\n\t((pipenum >= M66592_BASE_PIPENUM_ISOC) && \\\n\t (pipenum < (M66592_BASE_PIPENUM_ISOC + M66592_MAX_NUM_ISOC)))\n\n#define enable_irq_ready(m66592, pipenum)\t\\\n\tenable_pipe_irq(m66592, pipenum, M66592_BRDYENB)\n#define disable_irq_ready(m66592, pipenum)\t\\\n\tdisable_pipe_irq(m66592, pipenum, M66592_BRDYENB)\n#define enable_irq_empty(m66592, pipenum)\t\\\n\tenable_pipe_irq(m66592, pipenum, M66592_BEMPENB)\n#define disable_irq_empty(m66592, pipenum)\t\\\n\tdisable_pipe_irq(m66592, pipenum, M66592_BEMPENB)\n#define enable_irq_nrdy(m66592, pipenum)\t\\\n\tenable_pipe_irq(m66592, pipenum, M66592_NRDYENB)\n#define disable_irq_nrdy(m66592, pipenum)\t\\\n\tdisable_pipe_irq(m66592, pipenum, M66592_NRDYENB)\n\n \nstatic inline u16 m66592_read(struct m66592 *m66592, unsigned long offset)\n{\n\treturn ioread16(m66592->reg + offset);\n}\n\nstatic inline void m66592_read_fifo(struct m66592 *m66592,\n\t\tunsigned long offset,\n\t\tvoid *buf, unsigned long len)\n{\n\tvoid __iomem *fifoaddr = m66592->reg + offset;\n\n\tif (m66592->pdata->on_chip) {\n\t\tlen = (len + 3) / 4;\n\t\tioread32_rep(fifoaddr, buf, len);\n\t} else {\n\t\tlen = (len + 1) / 2;\n\t\tioread16_rep(fifoaddr, buf, len);\n\t}\n}\n\nstatic inline void m66592_write(struct m66592 *m66592, u16 val,\n\t\t\t\tunsigned long offset)\n{\n\tiowrite16(val, m66592->reg + offset);\n}\n\nstatic inline void m66592_mdfy(struct m66592 *m66592, u16 val, u16 pat,\n\t\tunsigned long offset)\n{\n\tu16 tmp;\n\ttmp = m66592_read(m66592, offset);\n\ttmp = tmp & (~pat);\n\ttmp = tmp | val;\n\tm66592_write(m66592, tmp, offset);\n}\n\n#define m66592_bclr(m66592, val, offset)\t\\\n\t\t\tm66592_mdfy(m66592, 0, val, offset)\n#define m66592_bset(m66592, val, offset)\t\\\n\t\t\tm66592_mdfy(m66592, val, 0, offset)\n\nstatic inline void m66592_write_fifo(struct m66592 *m66592,\n\t\tstruct m66592_ep *ep,\n\t\tvoid *buf, unsigned long len)\n{\n\tvoid __iomem *fifoaddr = m66592->reg + ep->fifoaddr;\n\n\tif (m66592->pdata->on_chip) {\n\t\tunsigned long count;\n\t\tunsigned char *pb;\n\t\tint i;\n\n\t\tcount = len / 4;\n\t\tiowrite32_rep(fifoaddr, buf, count);\n\n\t\tif (len & 0x00000003) {\n\t\t\tpb = buf + count * 4;\n\t\t\tfor (i = 0; i < (len & 0x00000003); i++) {\n\t\t\t\tif (m66592_read(m66592, M66592_CFBCFG))\t \n\t\t\t\t\tiowrite8(pb[i], fifoaddr + (3 - i));\n\t\t\t\telse\n\t\t\t\t\tiowrite8(pb[i], fifoaddr + i);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tunsigned long odd = len & 0x0001;\n\n\t\tlen = len / 2;\n\t\tiowrite16_rep(fifoaddr, buf, len);\n\t\tif (odd) {\n\t\t\tunsigned char *p = buf + len*2;\n\t\t\tif (m66592->pdata->wr0_shorted_to_wr1)\n\t\t\t\tm66592_bclr(m66592, M66592_MBW_16, ep->fifosel);\n\t\t\tiowrite8(*p, fifoaddr);\n\t\t\tif (m66592->pdata->wr0_shorted_to_wr1)\n\t\t\t\tm66592_bset(m66592, M66592_MBW_16, ep->fifosel);\n\t\t}\n\t}\n}\n\n#endif\t \n\n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}