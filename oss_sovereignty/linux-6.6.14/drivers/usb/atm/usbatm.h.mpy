{
  "module_name": "usbatm.h",
  "hash_id": "1c42f8a015e08cf370f9b406905ae2f16c1fab72b93f6ee9c6f64f1484b793f7",
  "original_prompt": "Ingested from linux-6.6.14/drivers/usb/atm/usbatm.h",
  "human_readable_source": " \n \n\n#ifndef\t_USBATM_H_\n#define\t_USBATM_H_\n\n#include <linux/atm.h>\n#include <linux/atmdev.h>\n#include <linux/completion.h>\n#include <linux/device.h>\n#include <linux/kernel.h>\n#include <linux/kref.h>\n#include <linux/list.h>\n#include <linux/stringify.h>\n#include <linux/usb.h>\n#include <linux/mutex.h>\n#include <linux/ratelimit.h>\n\n \n\n#define usb_err(instance, format, arg...)\t\\\n\tdev_err(&(instance)->usb_intf->dev , format , ## arg)\n#define usb_info(instance, format, arg...)\t\\\n\tdev_info(&(instance)->usb_intf->dev , format , ## arg)\n#define usb_warn(instance, format, arg...)\t\\\n\tdev_warn(&(instance)->usb_intf->dev , format , ## arg)\n#define usb_dbg(instance, format, arg...)\t\\\n\tdev_dbg(&(instance)->usb_intf->dev , format , ## arg)\n\n \n#define atm_printk(level, instance, format, arg...)\t\\\n\tprintk(level \"ATM dev %d: \" format ,\t\t\\\n\t(instance)->atm_dev->number , ## arg)\n\n#define atm_err(instance, format, arg...)\t\\\n\tatm_printk(KERN_ERR, instance , format , ## arg)\n#define atm_info(instance, format, arg...)\t\\\n\tatm_printk(KERN_INFO, instance , format , ## arg)\n#define atm_warn(instance, format, arg...)\t\\\n\tatm_printk(KERN_WARNING, instance , format , ## arg)\n#define atm_dbg(instance, format, ...)\t\t\t\t\t\\\n\tpr_debug(\"ATM dev %d: \" format,\t\t\t\t\t\\\n\t\t (instance)->atm_dev->number, ##__VA_ARGS__)\n#define atm_rldbg(instance, format, ...)\t\t\t\t\\\n\tpr_debug_ratelimited(\"ATM dev %d: \" format,\t\t\t\\\n\t\t\t     (instance)->atm_dev->number, ##__VA_ARGS__)\n\n \n\n#define UDSL_SKIP_HEAVY_INIT\t(1<<0)\n#define UDSL_USE_ISOC\t\t(1<<1)\n#define UDSL_IGNORE_EILSEQ\t(1<<2)\n\n\n \n\nstruct usbatm_data;\n\n \n\nstruct usbatm_driver {\n\tconst char *driver_name;\n\n\t \n\tint (*bind) (struct usbatm_data *, struct usb_interface *,\n\t\t     const struct usb_device_id *id);\n\n\t \n\tint (*heavy_init) (struct usbatm_data *, struct usb_interface *);\n\n\t \n\tvoid (*unbind) (struct usbatm_data *, struct usb_interface *);\n\n\t \n\tint (*atm_start) (struct usbatm_data *, struct atm_dev *);\n\n\t \n\tvoid (*atm_stop) (struct usbatm_data *, struct atm_dev *);\n\n\tint bulk_in;\t \n\tint isoc_in;\t \n\tint bulk_out;\t \n\n\tunsigned rx_padding;\n\tunsigned tx_padding;\n};\n\nextern int usbatm_usb_probe(struct usb_interface *intf, const struct usb_device_id *id,\n\t\tstruct usbatm_driver *driver);\nextern void usbatm_usb_disconnect(struct usb_interface *intf);\n\n\nstruct usbatm_channel {\n\tint endpoint;\t\t\t \n\tunsigned int stride;\t\t \n\tunsigned int buf_size;\t\t \n\tunsigned int packet_size;\t \n\tspinlock_t lock;\n\tstruct list_head list;\n\tstruct tasklet_struct tasklet;\n\tstruct timer_list delay;\n\tstruct usbatm_data *usbatm;\n};\n\n \n\nstruct usbatm_data {\n\t \n\n\t \n\tstruct usbatm_driver *driver;\n\tvoid *driver_data;\n\tchar driver_name[16];\n\tunsigned int flags;  \n\n\t \n\tstruct usb_device *usb_dev;\n\tstruct usb_interface *usb_intf;\n\tchar description[64];\n\n\t \n\tstruct atm_dev *atm_dev;\n\n\t \n\n\tstruct kref refcount;\n\tstruct mutex serialize;\n\tint disconnected;\n\n\t \n\tstruct task_struct *thread;\n\tstruct completion thread_started;\n\tstruct completion thread_exited;\n\n\t \n\tstruct list_head vcc_list;\n\n\tstruct usbatm_channel rx_channel;\n\tstruct usbatm_channel tx_channel;\n\n\tstruct sk_buff_head sndqueue;\n\tstruct sk_buff *current_skb;\t \n\n\tstruct usbatm_vcc_data *cached_vcc;\n\tint cached_vci;\n\tshort cached_vpi;\n\n\tunsigned char *cell_buf;\t \n\tunsigned int buf_usage;\n\n\tstruct urb *urbs[];\n};\n\nstatic inline void *to_usbatm_driver_data(struct usb_interface *intf)\n{\n\tstruct usbatm_data *usbatm_instance;\n\n\tif (intf == NULL)\n\t\treturn NULL;\n\n\tusbatm_instance = usb_get_intfdata(intf);\n\n\tif (usbatm_instance == NULL)  \n\t\treturn NULL;\n\n\treturn usbatm_instance->driver_data;  \n}\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}