{
  "module_name": "sisusb.h",
  "hash_id": "29adea7646727ada7b924190d5b87ee0e67c4e25a998df05a7cc0ecd2c32ec2e",
  "original_prompt": "Ingested from linux-6.6.14/drivers/usb/misc/sisusbvga/sisusb.h",
  "human_readable_source": " \n \n\n#ifndef _SISUSB_H_\n#define _SISUSB_H_\n\n#include <linux/mutex.h>\n\n \n\n#define SISUSB_VERSION\t\t0\n#define SISUSB_REVISION\t\t0\n#define SISUSB_PATCHLEVEL\t8\n\n \n\n#include <linux/vt_kern.h>\n#include \"sisusb_struct.h\"\n\n \n\n#define SISUSB_MINOR\t\t133\t \n\n \n#define SISUSB_IBUF_SIZE  0x01000\n#define SISUSB_OBUF_SIZE  0x10000\t \n\n#define NUMOBUFS 8\t\t \n\n \n\n#ifdef __BIG_ENDIAN\n#define SISUSB_CORRECT_ENDIANNESS_PACKET(p)\t\t\\\n\tdo {\t\t\t\t\t\t\\\n\t\tp->header  = cpu_to_le16(p->header);\t\\\n\t\tp->address = cpu_to_le32(p->address);\t\\\n\t\tp->data    = cpu_to_le32(p->data);\t\\\n\t} while(0)\n#else\n#define SISUSB_CORRECT_ENDIANNESS_PACKET(p)\n#endif\n\nstruct sisusb_usb_data;\n\nstruct sisusb_urb_context {\t \n\tstruct sisusb_usb_data *sisusb;\n\tint urbindex;\n\tint *actual_length;\n};\n\nstruct sisusb_usb_data {\n\tstruct usb_device *sisusb_dev;\n\tstruct usb_interface *interface;\n\tstruct kref kref;\n\twait_queue_head_t wait_q;\t \n\tstruct mutex lock;\t \n\tunsigned int ifnum;\t \n\tint minor;\t\t \n\tint isopen;\t\t \n\tint present;\t\t \n\tint ready;\t\t \n\tint numobufs;\t\t \n\tchar *obuf[NUMOBUFS], *ibuf;\t \n\tint obufsize, ibufsize;\n\tstruct urb *sisurbout[NUMOBUFS];\n\tstruct urb *sisurbin;\n\tunsigned char urbstatus[NUMOBUFS];\n\tunsigned char completein;\n\tstruct sisusb_urb_context urbout_context[NUMOBUFS];\n\tunsigned long flagb0;\n\tunsigned long vrambase;\t \n\tunsigned int vramsize;\t \n\tunsigned long mmiobase;\n\tunsigned int mmiosize;\n\tunsigned long ioportbase;\n\tunsigned char devinit;\t \n\tunsigned char gfxinit;\t \n\tunsigned short chipid, chipvendor;\n\tunsigned short chiprevision;\n};\n\n#define to_sisusb_dev(d) container_of(d, struct sisusb_usb_data, kref)\n\n \n\n \n#define SU_URB_BUSY   1\n#define SU_URB_ALLOC  2\n\n \n\n#define SISUSB_EP_GFX_IN\t0x0e\t \n#define SISUSB_EP_GFX_OUT\t0x0e\n\n#define SISUSB_EP_GFX_BULK_OUT\t0x01\t \n#define SISUSB_EP_GFX_BULK_IN\t0x02\t \n\n#define SISUSB_EP_GFX_LBULK_OUT\t0x03\t \n\n#define SISUSB_EP_UNKNOWN_04\t0x04\t \n\n#define SISUSB_EP_BRIDGE_IN\t0x0d\t \n#define SISUSB_EP_BRIDGE_OUT\t0x0d\n\n#define SISUSB_TYPE_MEM\t\t0\n#define SISUSB_TYPE_IO\t\t1\n\nstruct sisusb_packet {\n\tunsigned short header;\n\tu32 address;\n\tu32 data;\n} __attribute__ ((__packed__));\n\n#define CLEARPACKET(packet) memset(packet, 0, 10)\n\n \n\n#define SISUSB_PCI_MEMBASE\t0xd0000000\n#define SISUSB_PCI_MMIOBASE\t0xe4000000\n#define SISUSB_PCI_IOPORTBASE\t0x0000d000\n\n#define SISUSB_PCI_PSEUDO_MEMBASE\t0x10000000\n#define SISUSB_PCI_PSEUDO_MMIOBASE\t0x20000000\n#define SISUSB_PCI_PSEUDO_IOPORTBASE\t0x0000d000\n#define SISUSB_PCI_PSEUDO_PCIBASE\t0x00010000\n\n#define SISUSB_PCI_MMIOSIZE\t(128*1024)\n#define SISUSB_PCI_PCONFSIZE\t0x5c\n\n \n\n#define AROFFSET\t0x40\n#define ARROFFSET\t0x41\n#define GROFFSET\t0x4e\n#define SROFFSET\t0x44\n#define CROFFSET\t0x54\n#define MISCROFFSET\t0x4c\n#define MISCWOFFSET\t0x42\n#define INPUTSTATOFFSET 0x5A\n#define PART1OFFSET\t0x04\n#define PART2OFFSET\t0x10\n#define PART3OFFSET\t0x12\n#define PART4OFFSET\t0x14\n#define PART5OFFSET\t0x16\n#define CAPTUREOFFSET\t0x00\n#define VIDEOOFFSET\t0x02\n#define COLREGOFFSET\t0x48\n#define PELMASKOFFSET\t0x46\n#define VGAENABLE\t0x43\n\n#define SISAR\t\tSISUSB_PCI_IOPORTBASE + AROFFSET\n#define SISARR\t\tSISUSB_PCI_IOPORTBASE + ARROFFSET\n#define SISGR\t\tSISUSB_PCI_IOPORTBASE + GROFFSET\n#define SISSR\t\tSISUSB_PCI_IOPORTBASE + SROFFSET\n#define SISCR\t\tSISUSB_PCI_IOPORTBASE + CROFFSET\n#define SISMISCR\tSISUSB_PCI_IOPORTBASE + MISCROFFSET\n#define SISMISCW\tSISUSB_PCI_IOPORTBASE + MISCWOFFSET\n#define SISINPSTAT\tSISUSB_PCI_IOPORTBASE + INPUTSTATOFFSET\n#define SISPART1\tSISUSB_PCI_IOPORTBASE + PART1OFFSET\n#define SISPART2\tSISUSB_PCI_IOPORTBASE + PART2OFFSET\n#define SISPART3\tSISUSB_PCI_IOPORTBASE + PART3OFFSET\n#define SISPART4\tSISUSB_PCI_IOPORTBASE + PART4OFFSET\n#define SISPART5\tSISUSB_PCI_IOPORTBASE + PART5OFFSET\n#define SISCAP\t\tSISUSB_PCI_IOPORTBASE + CAPTUREOFFSET\n#define SISVID\t\tSISUSB_PCI_IOPORTBASE + VIDEOOFFSET\n#define SISCOLIDXR\tSISUSB_PCI_IOPORTBASE + COLREGOFFSET - 1\n#define SISCOLIDX\tSISUSB_PCI_IOPORTBASE + COLREGOFFSET\n#define SISCOLDATA\tSISUSB_PCI_IOPORTBASE + COLREGOFFSET + 1\n#define SISCOL2IDX\tSISPART5\n#define SISCOL2DATA\tSISPART5 + 1\n#define SISPEL\t\tSISUSB_PCI_IOPORTBASE + PELMASKOFFSET\n#define SISVGAEN\tSISUSB_PCI_IOPORTBASE + VGAENABLE\n#define SISDACA\t\tSISCOLIDX\n#define SISDACD\t\tSISCOLDATA\n\n \n\n \nstruct sisusb_info {\n\t__u32 sisusb_id;\t \n#define SISUSB_ID  0x53495355\t \n\t__u8 sisusb_version;\n\t__u8 sisusb_revision;\n\t__u8 sisusb_patchlevel;\n\t__u8 sisusb_gfxinit;\t \n\n\t__u32 sisusb_vrambase;\n\t__u32 sisusb_mmiobase;\n\t__u32 sisusb_iobase;\n\t__u32 sisusb_pcibase;\n\n\t__u32 sisusb_vramsize;\t \n\n\t__u32 sisusb_minor;\n\n\t__u32 sisusb_fbdevactive;\t \n\n\t__u32 sisusb_conactive;\t \n\n\t__u8 sisusb_reserved[28];\t \n};\n\nstruct sisusb_command {\n\t__u8 operation;\t\t \n\t__u8 data0;\t\t \n\t__u8 data1;\t\t \n\t__u8 data2;\t\t \n\t__u32 data3;\t\t \n\t__u32 data4;\t\t \n};\n\n#define SUCMD_GET\t0x01\t \n#define SUCMD_SET\t0x02\t \n#define SUCMD_SETOR\t0x03\t \n#define SUCMD_SETAND\t0x04\t \n#define SUCMD_SETANDOR\t0x05\t \n#define SUCMD_SETMASK\t0x06\t \n\n#define SUCMD_CLRSCR\t0x07\t \n\n#define SUCMD_HANDLETEXTMODE 0x08\t \n\n#define SUCMD_SETMODE\t0x09\t \n#define SUCMD_SETVESAMODE 0x0a\t \n\n#define SISUSB_COMMAND\t\t_IOWR(0xF3,0x3D,struct sisusb_command)\n#define SISUSB_GET_CONFIG_SIZE\t_IOR(0xF3,0x3E,__u32)\n#define SISUSB_GET_CONFIG\t_IOR(0xF3,0x3F,struct sisusb_info)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}