{
  "module_name": "xhci-ext-caps.h",
  "hash_id": "5c0429219d11f72f488a39160774c81d09ae0f7b90c1f6b2a4e7ef736d36f356",
  "original_prompt": "Ingested from linux-6.6.14/drivers/usb/host/xhci-ext-caps.h",
  "human_readable_source": " \n \n\n \n#define XHCI_MAX_HALT_USEC\t(32 * 1000)\n \n#define XHCI_STS_HALT\t\t(1<<0)\n\n \n#define XHCI_HCC_PARAMS_OFFSET\t0x10\n \n#define XHCI_HCC_EXT_CAPS(p)\t(((p)>>16)&0xffff)\n\n \n#define XHCI_CMD_OFFSET\t\t0x00\n#define XHCI_STS_OFFSET\t\t0x04\n\n#define XHCI_MAX_EXT_CAPS\t\t50\n\n \n \n#define XHCI_HC_LENGTH(p)\t(((p)>>00)&0x00ff)\n\n \n#define XHCI_EXT_CAPS_ID(p)\t(((p)>>0)&0xff)\n#define XHCI_EXT_CAPS_NEXT(p)\t(((p)>>8)&0xff)\n#define\tXHCI_EXT_CAPS_VAL(p)\t((p)>>16)\n \n#define XHCI_EXT_CAPS_LEGACY\t1\n#define XHCI_EXT_CAPS_PROTOCOL\t2\n#define XHCI_EXT_CAPS_PM\t3\n#define XHCI_EXT_CAPS_VIRT\t4\n#define XHCI_EXT_CAPS_ROUTE\t5\n \n#define XHCI_EXT_CAPS_DEBUG\t10\n \n#define XHCI_EXT_CAPS_VENDOR_INTEL\t192\n \n#define XHCI_HC_BIOS_OWNED\t(1 << 16)\n#define XHCI_HC_OS_OWNED\t(1 << 24)\n\n \n \n#define XHCI_LEGACY_SUPPORT_OFFSET\t(0x00)\n\n \n \n#define XHCI_LEGACY_CONTROL_OFFSET\t(0x04)\n \n#define\tXHCI_LEGACY_DISABLE_SMI\t\t((0x7 << 1) + (0xff << 5) + (0x7 << 17))\n#define XHCI_LEGACY_SMI_EVENTS\t\t(0x7 << 29)\n\n \n#define XHCI_L1C               (1 << 16)\n\n \n#define XHCI_HLC               (1 << 19)\n#define XHCI_BLC               (1 << 20)\n\n \n \n#define XHCI_CMD_RUN\t\t(1 << 0)\n \n#define XHCI_CMD_EIE\t\t(1 << 2)\n \n#define XHCI_CMD_HSEIE\t\t(1 << 3)\n \n#define XHCI_CMD_EWE\t\t(1 << 10)\n\n#define XHCI_IRQS\t\t(XHCI_CMD_EIE | XHCI_CMD_HSEIE | XHCI_CMD_EWE)\n\n \n#define XHCI_STS_CNR\t\t(1 << 11)\n\n#include <linux/io.h>\n\n \n\nstatic inline int xhci_find_next_ext_cap(void __iomem *base, u32 start, int id)\n{\n\tu32 val;\n\tu32 next;\n\tu32 offset;\n\n\toffset = start;\n\tif (!start || start == XHCI_HCC_PARAMS_OFFSET) {\n\t\tval = readl(base + XHCI_HCC_PARAMS_OFFSET);\n\t\tif (val == ~0)\n\t\t\treturn 0;\n\t\toffset = XHCI_HCC_EXT_CAPS(val) << 2;\n\t\tif (!offset)\n\t\t\treturn 0;\n\t}\n\tdo {\n\t\tval = readl(base + offset);\n\t\tif (val == ~0)\n\t\t\treturn 0;\n\t\tif (offset != start && (id == 0 || XHCI_EXT_CAPS_ID(val) == id))\n\t\t\treturn offset;\n\n\t\tnext = XHCI_EXT_CAPS_NEXT(val);\n\t\toffset += next << 2;\n\t} while (next);\n\n\treturn 0;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}