{
  "module_name": "stub.h",
  "hash_id": "4d70089c162dbc64d2a4441fb5d075e564403bbdc20d237347167f2a8b20f457",
  "original_prompt": "Ingested from linux-6.6.14/drivers/usb/usbip/stub.h",
  "human_readable_source": "\n \n\n#ifndef __USBIP_STUB_H\n#define __USBIP_STUB_H\n\n#include <linux/list.h>\n#include <linux/slab.h>\n#include <linux/spinlock.h>\n#include <linux/types.h>\n#include <linux/usb.h>\n#include <linux/wait.h>\n\n#define STUB_BUSID_OTHER 0\n#define STUB_BUSID_REMOV 1\n#define STUB_BUSID_ADDED 2\n#define STUB_BUSID_ALLOC 3\n\nstruct stub_device {\n\tstruct usb_device *udev;\n\n\tstruct usbip_device ud;\n\t__u32 devid;\n\n\t \n\tspinlock_t priv_lock;\n\tstruct list_head priv_init;\n\tstruct list_head priv_tx;\n\tstruct list_head priv_free;\n\n\t \n\tstruct list_head unlink_tx;\n\tstruct list_head unlink_free;\n\n\twait_queue_head_t tx_waitq;\n};\n\n \nstruct stub_priv {\n\tunsigned long seqnum;\n\tstruct list_head list;\n\tstruct stub_device *sdev;\n\tstruct urb **urbs;\n\tstruct scatterlist *sgl;\n\tint num_urbs;\n\tint completed_urbs;\n\tint urb_status;\n\n\tint unlinking;\n};\n\nstruct stub_unlink {\n\tunsigned long seqnum;\n\tstruct list_head list;\n\t__u32 status;\n};\n\n \n#define BUSID_SIZE 32\n\nstruct bus_id_priv {\n\tchar name[BUSID_SIZE];\n\tchar status;\n\tint interf_count;\n\tstruct stub_device *sdev;\n\tstruct usb_device *udev;\n\tchar shutdown_busid;\n\tspinlock_t busid_lock;\n};\n\n \nextern struct kmem_cache *stub_priv_cache;\n\n \nextern struct usb_device_driver stub_driver;\n\n \nstruct bus_id_priv *get_busid_priv(const char *busid);\nvoid put_busid_priv(struct bus_id_priv *bid);\nint del_match_busid(char *busid);\nvoid stub_free_priv_and_urb(struct stub_priv *priv);\nvoid stub_device_cleanup_urbs(struct stub_device *sdev);\n\n \nint stub_rx_loop(void *data);\n\n \nvoid stub_enqueue_ret_unlink(struct stub_device *sdev, __u32 seqnum,\n\t\t\t     __u32 status);\nvoid stub_complete(struct urb *urb);\nint stub_tx_loop(void *data);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}