{
  "module_name": "i2c-core.h",
  "hash_id": "8c9d40a268d9be5e9bd4693372a96d430455ddd950bb4cede1c87e701e94b725",
  "original_prompt": "Ingested from linux-6.6.14/drivers/i2c/i2c-core.h",
  "human_readable_source": " \n \n\n#include <linux/kconfig.h>\n#include <linux/rwsem.h>\n\nstruct i2c_devinfo {\n\tstruct list_head\tlist;\n\tint\t\t\tbusnum;\n\tstruct i2c_board_info\tboard_info;\n};\n\n \nextern struct rw_semaphore\t__i2c_board_lock;\nextern struct list_head\t__i2c_board_list;\nextern int\t\t__i2c_first_dynamic_bus_num;\n\nint i2c_check_7bit_addr_validity_strict(unsigned short addr);\nint i2c_dev_irq_from_resources(const struct resource *resources,\n\t\t\t       unsigned int num_resources);\n\n \nstatic inline bool i2c_in_atomic_xfer_mode(void)\n{\n\treturn system_state > SYSTEM_RUNNING &&\n\t       (IS_ENABLED(CONFIG_PREEMPT_COUNT) ? !preemptible() : irqs_disabled());\n}\n\nstatic inline int __i2c_lock_bus_helper(struct i2c_adapter *adap)\n{\n\tint ret = 0;\n\n\tif (i2c_in_atomic_xfer_mode()) {\n\t\tWARN(!adap->algo->master_xfer_atomic && !adap->algo->smbus_xfer_atomic,\n\t\t     \"No atomic I2C transfer handler for '%s'\\n\", dev_name(&adap->dev));\n\t\tret = i2c_trylock_bus(adap, I2C_LOCK_SEGMENT) ? 0 : -EAGAIN;\n\t} else {\n\t\ti2c_lock_bus(adap, I2C_LOCK_SEGMENT);\n\t}\n\n\treturn ret;\n}\n\nstatic inline int __i2c_check_suspended(struct i2c_adapter *adap)\n{\n\tif (test_bit(I2C_ALF_IS_SUSPENDED, &adap->locked_flags)) {\n\t\tif (!test_and_set_bit(I2C_ALF_SUSPEND_REPORTED, &adap->locked_flags))\n\t\t\tdev_WARN(&adap->dev, \"Transfer while suspended\\n\");\n\t\treturn -ESHUTDOWN;\n\t}\n\n\treturn 0;\n}\n\n#ifdef CONFIG_ACPI\nvoid i2c_acpi_register_devices(struct i2c_adapter *adap);\n\nint i2c_acpi_get_irq(struct i2c_client *client, bool *wake_capable);\n#else  \nstatic inline void i2c_acpi_register_devices(struct i2c_adapter *adap) { }\n\nstatic inline int i2c_acpi_get_irq(struct i2c_client *client, bool *wake_capable)\n{\n\treturn 0;\n}\n#endif  \nextern struct notifier_block i2c_acpi_notifier;\n\n#ifdef CONFIG_ACPI_I2C_OPREGION\nint i2c_acpi_install_space_handler(struct i2c_adapter *adapter);\nvoid i2c_acpi_remove_space_handler(struct i2c_adapter *adapter);\n#else  \nstatic inline int i2c_acpi_install_space_handler(struct i2c_adapter *adapter) { return 0; }\nstatic inline void i2c_acpi_remove_space_handler(struct i2c_adapter *adapter) { }\n#endif  \n\n#ifdef CONFIG_OF\nvoid of_i2c_register_devices(struct i2c_adapter *adap);\n#else\nstatic inline void of_i2c_register_devices(struct i2c_adapter *adap) { }\n#endif\nextern struct notifier_block i2c_of_notifier;\n\n#if IS_ENABLED(CONFIG_I2C_SMBUS)\nint i2c_setup_smbus_alert(struct i2c_adapter *adap);\n#else\nstatic inline int i2c_setup_smbus_alert(struct i2c_adapter *adap)\n{\n\treturn 0;\n}\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}