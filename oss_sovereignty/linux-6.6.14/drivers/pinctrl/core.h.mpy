{
  "module_name": "core.h",
  "hash_id": "4a238400d4edb8113b511d7af583dd7e32bd824d786d46b710ea55c40cee2bc7",
  "original_prompt": "Ingested from linux-6.6.14/drivers/pinctrl/core.h",
  "human_readable_source": " \n \n\n#include <linux/kref.h>\n#include <linux/list.h>\n#include <linux/mutex.h>\n#include <linux/radix-tree.h>\n#include <linux/types.h>\n\n#include <linux/pinctrl/machine.h>\n\nstruct dentry;\nstruct device;\nstruct device_node;\nstruct module;\n\nstruct pinctrl;\nstruct pinctrl_desc;\nstruct pinctrl_gpio_range;\nstruct pinctrl_state;\n\n \nstruct pinctrl_dev {\n\tstruct list_head node;\n\tstruct pinctrl_desc *desc;\n\tstruct radix_tree_root pin_desc_tree;\n#ifdef CONFIG_GENERIC_PINCTRL_GROUPS\n\tstruct radix_tree_root pin_group_tree;\n\tunsigned int num_groups;\n#endif\n#ifdef CONFIG_GENERIC_PINMUX_FUNCTIONS\n\tstruct radix_tree_root pin_function_tree;\n\tunsigned int num_functions;\n#endif\n\tstruct list_head gpio_ranges;\n\tstruct device *dev;\n\tstruct module *owner;\n\tvoid *driver_data;\n\tstruct pinctrl *p;\n\tstruct pinctrl_state *hog_default;\n\tstruct pinctrl_state *hog_sleep;\n\tstruct mutex mutex;\n#ifdef CONFIG_DEBUG_FS\n\tstruct dentry *device_root;\n#endif\n};\n\n \nstruct pinctrl {\n\tstruct list_head node;\n\tstruct device *dev;\n\tstruct list_head states;\n\tstruct pinctrl_state *state;\n\tstruct list_head dt_maps;\n\tstruct kref users;\n};\n\n \nstruct pinctrl_state {\n\tstruct list_head node;\n\tconst char *name;\n\tstruct list_head settings;\n};\n\n \nstruct pinctrl_setting_mux {\n\tunsigned group;\n\tunsigned func;\n};\n\n \nstruct pinctrl_setting_configs {\n\tunsigned group_or_pin;\n\tunsigned long *configs;\n\tunsigned num_configs;\n};\n\n \nstruct pinctrl_setting {\n\tstruct list_head node;\n\tenum pinctrl_map_type type;\n\tstruct pinctrl_dev *pctldev;\n\tconst char *dev_name;\n\tunion {\n\t\tstruct pinctrl_setting_mux mux;\n\t\tstruct pinctrl_setting_configs configs;\n\t} data;\n};\n\n \nstruct pin_desc {\n\tstruct pinctrl_dev *pctldev;\n\tconst char *name;\n\tbool dynamic_name;\n\tvoid *drv_data;\n\t \n#ifdef CONFIG_PINMUX\n\tunsigned mux_usecount;\n\tconst char *mux_owner;\n\tconst struct pinctrl_setting_mux *mux_setting;\n\tconst char *gpio_owner;\n#endif\n};\n\n \nstruct pinctrl_maps {\n\tstruct list_head node;\n\tconst struct pinctrl_map *maps;\n\tunsigned num_maps;\n};\n\n#ifdef CONFIG_GENERIC_PINCTRL_GROUPS\n\n \nstruct group_desc {\n\tconst char *name;\n\tint *pins;\n\tint num_pins;\n\tvoid *data;\n};\n\nint pinctrl_generic_get_group_count(struct pinctrl_dev *pctldev);\n\nconst char *pinctrl_generic_get_group_name(struct pinctrl_dev *pctldev,\n\t\t\t\t\t   unsigned int group_selector);\n\nint pinctrl_generic_get_group_pins(struct pinctrl_dev *pctldev,\n\t\t\t\t   unsigned int group_selector,\n\t\t\t\t   const unsigned int **pins,\n\t\t\t\t   unsigned int *npins);\n\nstruct group_desc *pinctrl_generic_get_group(struct pinctrl_dev *pctldev,\n\t\t\t\t\t     unsigned int group_selector);\n\nint pinctrl_generic_add_group(struct pinctrl_dev *pctldev, const char *name,\n\t\t\t      int *gpins, int ngpins, void *data);\n\nint pinctrl_generic_remove_group(struct pinctrl_dev *pctldev,\n\t\t\t\t unsigned int group_selector);\n\n#endif\t \n\nstruct pinctrl_dev *get_pinctrl_dev_from_devname(const char *dev_name);\nstruct pinctrl_dev *get_pinctrl_dev_from_of_node(struct device_node *np);\nint pin_get_from_name(struct pinctrl_dev *pctldev, const char *name);\nconst char *pin_get_name(struct pinctrl_dev *pctldev, const unsigned pin);\nint pinctrl_get_group_selector(struct pinctrl_dev *pctldev,\n\t\t\t       const char *pin_group);\n\nstatic inline struct pin_desc *pin_desc_get(struct pinctrl_dev *pctldev,\n\t\t\t\t\t    unsigned int pin)\n{\n\treturn radix_tree_lookup(&pctldev->pin_desc_tree, pin);\n}\n\nextern struct pinctrl_gpio_range *\npinctrl_find_gpio_range_from_pin_nolock(struct pinctrl_dev *pctldev,\n\t\t\t\t\tunsigned int pin);\n\nextern int pinctrl_force_sleep(struct pinctrl_dev *pctldev);\nextern int pinctrl_force_default(struct pinctrl_dev *pctldev);\n\nextern struct mutex pinctrl_maps_mutex;\nextern struct list_head pinctrl_maps;\n\n#define for_each_pin_map(_maps_node_, _map_)\t\t\t\t\t\t\\\n\tlist_for_each_entry(_maps_node_, &pinctrl_maps, node)\t\t\t\t\\\n\t\tfor (unsigned int __i = 0;\t\t\t\t\t\t\\\n\t\t     __i < _maps_node_->num_maps && (_map_ = &_maps_node_->maps[__i]);\t\\\n\t\t     __i++)\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}