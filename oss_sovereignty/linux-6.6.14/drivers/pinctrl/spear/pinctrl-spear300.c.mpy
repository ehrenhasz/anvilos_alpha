{
  "module_name": "pinctrl-spear300.c",
  "hash_id": "0e27504b6e44fd7ccd86019bb0f85b2a51231b7524ba528136f155069fcf1bb7",
  "original_prompt": "Ingested from linux-6.6.14/drivers/pinctrl/spear/pinctrl-spear300.c",
  "human_readable_source": " \n\n#include <linux/err.h>\n#include <linux/init.h>\n#include <linux/mod_devicetable.h>\n#include <linux/platform_device.h>\n#include \"pinctrl-spear3xx.h\"\n\n#define DRIVER_NAME \"spear300-pinmux\"\n\n \n#define PMX_CONFIG_REG\t\t\t0x00\n#define MODE_CONFIG_REG\t\t\t0x04\n\n \n#define NAND_MODE\t\t\t(1 << 0)\n#define NOR_MODE\t\t\t(1 << 1)\n#define PHOTO_FRAME_MODE\t\t(1 << 2)\n#define LEND_IP_PHONE_MODE\t\t(1 << 3)\n#define HEND_IP_PHONE_MODE\t\t(1 << 4)\n#define LEND_WIFI_PHONE_MODE\t\t(1 << 5)\n#define HEND_WIFI_PHONE_MODE\t\t(1 << 6)\n#define ATA_PABX_WI2S_MODE\t\t(1 << 7)\n#define ATA_PABX_I2S_MODE\t\t(1 << 8)\n#define CAML_LCDW_MODE\t\t\t(1 << 9)\n#define CAMU_LCD_MODE\t\t\t(1 << 10)\n#define CAMU_WLCD_MODE\t\t\t(1 << 11)\n#define CAML_LCD_MODE\t\t\t(1 << 12)\n\nstatic struct spear_pmx_mode pmx_mode_nand = {\n\t.name = \"nand\",\n\t.mode = NAND_MODE,\n\t.reg = MODE_CONFIG_REG,\n\t.mask = 0x0000000F,\n\t.val = 0x00,\n};\n\nstatic struct spear_pmx_mode pmx_mode_nor = {\n\t.name = \"nor\",\n\t.mode = NOR_MODE,\n\t.reg = MODE_CONFIG_REG,\n\t.mask = 0x0000000F,\n\t.val = 0x01,\n};\n\nstatic struct spear_pmx_mode pmx_mode_photo_frame = {\n\t.name = \"photo frame mode\",\n\t.mode = PHOTO_FRAME_MODE,\n\t.reg = MODE_CONFIG_REG,\n\t.mask = 0x0000000F,\n\t.val = 0x02,\n};\n\nstatic struct spear_pmx_mode pmx_mode_lend_ip_phone = {\n\t.name = \"lend ip phone mode\",\n\t.mode = LEND_IP_PHONE_MODE,\n\t.reg = MODE_CONFIG_REG,\n\t.mask = 0x0000000F,\n\t.val = 0x03,\n};\n\nstatic struct spear_pmx_mode pmx_mode_hend_ip_phone = {\n\t.name = \"hend ip phone mode\",\n\t.mode = HEND_IP_PHONE_MODE,\n\t.reg = MODE_CONFIG_REG,\n\t.mask = 0x0000000F,\n\t.val = 0x04,\n};\n\nstatic struct spear_pmx_mode pmx_mode_lend_wifi_phone = {\n\t.name = \"lend wifi phone mode\",\n\t.mode = LEND_WIFI_PHONE_MODE,\n\t.reg = MODE_CONFIG_REG,\n\t.mask = 0x0000000F,\n\t.val = 0x05,\n};\n\nstatic struct spear_pmx_mode pmx_mode_hend_wifi_phone = {\n\t.name = \"hend wifi phone mode\",\n\t.mode = HEND_WIFI_PHONE_MODE,\n\t.reg = MODE_CONFIG_REG,\n\t.mask = 0x0000000F,\n\t.val = 0x06,\n};\n\nstatic struct spear_pmx_mode pmx_mode_ata_pabx_wi2s = {\n\t.name = \"ata pabx wi2s mode\",\n\t.mode = ATA_PABX_WI2S_MODE,\n\t.reg = MODE_CONFIG_REG,\n\t.mask = 0x0000000F,\n\t.val = 0x07,\n};\n\nstatic struct spear_pmx_mode pmx_mode_ata_pabx_i2s = {\n\t.name = \"ata pabx i2s mode\",\n\t.mode = ATA_PABX_I2S_MODE,\n\t.reg = MODE_CONFIG_REG,\n\t.mask = 0x0000000F,\n\t.val = 0x08,\n};\n\nstatic struct spear_pmx_mode pmx_mode_caml_lcdw = {\n\t.name = \"caml lcdw mode\",\n\t.mode = CAML_LCDW_MODE,\n\t.reg = MODE_CONFIG_REG,\n\t.mask = 0x0000000F,\n\t.val = 0x0C,\n};\n\nstatic struct spear_pmx_mode pmx_mode_camu_lcd = {\n\t.name = \"camu lcd mode\",\n\t.mode = CAMU_LCD_MODE,\n\t.reg = MODE_CONFIG_REG,\n\t.mask = 0x0000000F,\n\t.val = 0x0D,\n};\n\nstatic struct spear_pmx_mode pmx_mode_camu_wlcd = {\n\t.name = \"camu wlcd mode\",\n\t.mode = CAMU_WLCD_MODE,\n\t.reg = MODE_CONFIG_REG,\n\t.mask = 0x0000000F,\n\t.val = 0xE,\n};\n\nstatic struct spear_pmx_mode pmx_mode_caml_lcd = {\n\t.name = \"caml lcd mode\",\n\t.mode = CAML_LCD_MODE,\n\t.reg = MODE_CONFIG_REG,\n\t.mask = 0x0000000F,\n\t.val = 0x0F,\n};\n\nstatic struct spear_pmx_mode *spear300_pmx_modes[] = {\n\t&pmx_mode_nand,\n\t&pmx_mode_nor,\n\t&pmx_mode_photo_frame,\n\t&pmx_mode_lend_ip_phone,\n\t&pmx_mode_hend_ip_phone,\n\t&pmx_mode_lend_wifi_phone,\n\t&pmx_mode_hend_wifi_phone,\n\t&pmx_mode_ata_pabx_wi2s,\n\t&pmx_mode_ata_pabx_i2s,\n\t&pmx_mode_caml_lcdw,\n\t&pmx_mode_camu_lcd,\n\t&pmx_mode_camu_wlcd,\n\t&pmx_mode_caml_lcd,\n};\n\n \nstatic const unsigned fsmc_2chips_pins[] = { 1, 97 };\nstatic struct spear_muxreg fsmc_2chips_muxreg[] = {\n\t{\n\t\t.reg = PMX_CONFIG_REG,\n\t\t.mask = PMX_FIRDA_MASK,\n\t\t.val = 0,\n\t},\n};\n\nstatic struct spear_modemux fsmc_2chips_modemux[] = {\n\t{\n\t\t.modes = NAND_MODE | NOR_MODE | PHOTO_FRAME_MODE |\n\t\t\tATA_PABX_WI2S_MODE | ATA_PABX_I2S_MODE,\n\t\t.muxregs = fsmc_2chips_muxreg,\n\t\t.nmuxregs = ARRAY_SIZE(fsmc_2chips_muxreg),\n\t},\n};\n\nstatic struct spear_pingroup fsmc_2chips_pingroup = {\n\t.name = \"fsmc_2chips_grp\",\n\t.pins = fsmc_2chips_pins,\n\t.npins = ARRAY_SIZE(fsmc_2chips_pins),\n\t.modemuxs = fsmc_2chips_modemux,\n\t.nmodemuxs = ARRAY_SIZE(fsmc_2chips_modemux),\n};\n\n \nstatic const unsigned fsmc_4chips_pins[] = { 1, 2, 3, 97 };\nstatic struct spear_muxreg fsmc_4chips_muxreg[] = {\n\t{\n\t\t.reg = PMX_CONFIG_REG,\n\t\t.mask = PMX_FIRDA_MASK | PMX_UART0_MASK,\n\t\t.val = 0,\n\t},\n};\n\nstatic struct spear_modemux fsmc_4chips_modemux[] = {\n\t{\n\t\t.modes = NAND_MODE | NOR_MODE | PHOTO_FRAME_MODE |\n\t\t\tATA_PABX_WI2S_MODE | ATA_PABX_I2S_MODE,\n\t\t.muxregs = fsmc_4chips_muxreg,\n\t\t.nmuxregs = ARRAY_SIZE(fsmc_4chips_muxreg),\n\t},\n};\n\nstatic struct spear_pingroup fsmc_4chips_pingroup = {\n\t.name = \"fsmc_4chips_grp\",\n\t.pins = fsmc_4chips_pins,\n\t.npins = ARRAY_SIZE(fsmc_4chips_pins),\n\t.modemuxs = fsmc_4chips_modemux,\n\t.nmodemuxs = ARRAY_SIZE(fsmc_4chips_modemux),\n};\n\nstatic const char *const fsmc_grps[] = { \"fsmc_2chips_grp\", \"fsmc_4chips_grp\"\n};\nstatic struct spear_function fsmc_function = {\n\t.name = \"fsmc\",\n\t.groups = fsmc_grps,\n\t.ngroups = ARRAY_SIZE(fsmc_grps),\n};\n\n \nstatic const unsigned clcd_lcdmode_pins[] = { 49, 50 };\nstatic struct spear_muxreg clcd_lcdmode_muxreg[] = {\n\t{\n\t\t.reg = PMX_CONFIG_REG,\n\t\t.mask = PMX_TIMER_0_1_MASK | PMX_TIMER_2_3_MASK,\n\t\t.val = 0,\n\t},\n};\n\nstatic struct spear_modemux clcd_lcdmode_modemux[] = {\n\t{\n\t\t.modes = HEND_IP_PHONE_MODE | HEND_WIFI_PHONE_MODE |\n\t\t\tCAMU_LCD_MODE | CAML_LCD_MODE,\n\t\t.muxregs = clcd_lcdmode_muxreg,\n\t\t.nmuxregs = ARRAY_SIZE(clcd_lcdmode_muxreg),\n\t},\n};\n\nstatic struct spear_pingroup clcd_lcdmode_pingroup = {\n\t.name = \"clcd_lcdmode_grp\",\n\t.pins = clcd_lcdmode_pins,\n\t.npins = ARRAY_SIZE(clcd_lcdmode_pins),\n\t.modemuxs = clcd_lcdmode_modemux,\n\t.nmodemuxs = ARRAY_SIZE(clcd_lcdmode_modemux),\n};\n\n \nstatic const unsigned clcd_pfmode_pins[] = { 47, 48, 49, 50 };\nstatic struct spear_muxreg clcd_pfmode_muxreg[] = {\n\t{\n\t\t.reg = PMX_CONFIG_REG,\n\t\t.mask = PMX_TIMER_2_3_MASK,\n\t\t.val = 0,\n\t},\n};\n\nstatic struct spear_modemux clcd_pfmode_modemux[] = {\n\t{\n\t\t.modes = PHOTO_FRAME_MODE,\n\t\t.muxregs = clcd_pfmode_muxreg,\n\t\t.nmuxregs = ARRAY_SIZE(clcd_pfmode_muxreg),\n\t},\n};\n\nstatic struct spear_pingroup clcd_pfmode_pingroup = {\n\t.name = \"clcd_pfmode_grp\",\n\t.pins = clcd_pfmode_pins,\n\t.npins = ARRAY_SIZE(clcd_pfmode_pins),\n\t.modemuxs = clcd_pfmode_modemux,\n\t.nmodemuxs = ARRAY_SIZE(clcd_pfmode_modemux),\n};\n\nstatic const char *const clcd_grps[] = { \"clcd_lcdmode_grp\", \"clcd_pfmode_grp\"\n};\nstatic struct spear_function clcd_function = {\n\t.name = \"clcd\",\n\t.groups = clcd_grps,\n\t.ngroups = ARRAY_SIZE(clcd_grps),\n};\n\n \nstatic const unsigned tdm_pins[] = { 34, 35, 36, 37, 38 };\nstatic struct spear_muxreg tdm_muxreg[] = {\n\t{\n\t\t.reg = PMX_CONFIG_REG,\n\t\t.mask = PMX_UART0_MODEM_MASK | PMX_SSP_CS_MASK,\n\t\t.val = 0,\n\t},\n};\n\nstatic struct spear_modemux tdm_modemux[] = {\n\t{\n\t\t.modes = PHOTO_FRAME_MODE | LEND_IP_PHONE_MODE |\n\t\t\tHEND_IP_PHONE_MODE | LEND_WIFI_PHONE_MODE\n\t\t\t| HEND_WIFI_PHONE_MODE | ATA_PABX_WI2S_MODE\n\t\t\t| ATA_PABX_I2S_MODE | CAML_LCDW_MODE | CAMU_LCD_MODE\n\t\t\t| CAMU_WLCD_MODE | CAML_LCD_MODE,\n\t\t.muxregs = tdm_muxreg,\n\t\t.nmuxregs = ARRAY_SIZE(tdm_muxreg),\n\t},\n};\n\nstatic struct spear_pingroup tdm_pingroup = {\n\t.name = \"tdm_grp\",\n\t.pins = tdm_pins,\n\t.npins = ARRAY_SIZE(tdm_pins),\n\t.modemuxs = tdm_modemux,\n\t.nmodemuxs = ARRAY_SIZE(tdm_modemux),\n};\n\nstatic const char *const tdm_grps[] = { \"tdm_grp\" };\nstatic struct spear_function tdm_function = {\n\t.name = \"tdm\",\n\t.groups = tdm_grps,\n\t.ngroups = ARRAY_SIZE(tdm_grps),\n};\n\n \nstatic const unsigned i2c_clk_pins[] = { 45, 46, 47, 48 };\nstatic struct spear_muxreg i2c_clk_muxreg[] = {\n\t{\n\t\t.reg = PMX_CONFIG_REG,\n\t\t.mask = PMX_TIMER_0_1_MASK | PMX_TIMER_2_3_MASK,\n\t\t.val = 0,\n\t},\n};\n\nstatic struct spear_modemux i2c_clk_modemux[] = {\n\t{\n\t\t.modes = LEND_IP_PHONE_MODE | HEND_IP_PHONE_MODE |\n\t\t\tLEND_WIFI_PHONE_MODE | HEND_WIFI_PHONE_MODE |\n\t\t\tATA_PABX_WI2S_MODE | ATA_PABX_I2S_MODE | CAML_LCDW_MODE\n\t\t\t| CAML_LCD_MODE,\n\t\t.muxregs = i2c_clk_muxreg,\n\t\t.nmuxregs = ARRAY_SIZE(i2c_clk_muxreg),\n\t},\n};\n\nstatic struct spear_pingroup i2c_clk_pingroup = {\n\t.name = \"i2c_clk_grp_grp\",\n\t.pins = i2c_clk_pins,\n\t.npins = ARRAY_SIZE(i2c_clk_pins),\n\t.modemuxs = i2c_clk_modemux,\n\t.nmodemuxs = ARRAY_SIZE(i2c_clk_modemux),\n};\n\nstatic const char *const i2c_grps[] = { \"i2c_clk_grp\" };\nstatic struct spear_function i2c_function = {\n\t.name = \"i2c1\",\n\t.groups = i2c_grps,\n\t.ngroups = ARRAY_SIZE(i2c_grps),\n};\n\n \nstatic const unsigned caml_pins[] = { 12, 13, 14, 15, 16, 17, 18, 19, 20, 21 };\nstatic struct spear_muxreg caml_muxreg[] = {\n\t{\n\t\t.reg = PMX_CONFIG_REG,\n\t\t.mask = PMX_MII_MASK,\n\t\t.val = 0,\n\t},\n};\n\nstatic struct spear_modemux caml_modemux[] = {\n\t{\n\t\t.modes = CAML_LCDW_MODE | CAML_LCD_MODE,\n\t\t.muxregs = caml_muxreg,\n\t\t.nmuxregs = ARRAY_SIZE(caml_muxreg),\n\t},\n};\n\nstatic struct spear_pingroup caml_pingroup = {\n\t.name = \"caml_grp\",\n\t.pins = caml_pins,\n\t.npins = ARRAY_SIZE(caml_pins),\n\t.modemuxs = caml_modemux,\n\t.nmodemuxs = ARRAY_SIZE(caml_modemux),\n};\n\n \nstatic const unsigned camu_pins[] = { 16, 17, 18, 19, 20, 21, 45, 46, 47, 48 };\nstatic struct spear_muxreg camu_muxreg[] = {\n\t{\n\t\t.reg = PMX_CONFIG_REG,\n\t\t.mask = PMX_TIMER_0_1_MASK | PMX_TIMER_2_3_MASK | PMX_MII_MASK,\n\t\t.val = 0,\n\t},\n};\n\nstatic struct spear_modemux camu_modemux[] = {\n\t{\n\t\t.modes = CAMU_LCD_MODE | CAMU_WLCD_MODE,\n\t\t.muxregs = camu_muxreg,\n\t\t.nmuxregs = ARRAY_SIZE(camu_muxreg),\n\t},\n};\n\nstatic struct spear_pingroup camu_pingroup = {\n\t.name = \"camu_grp\",\n\t.pins = camu_pins,\n\t.npins = ARRAY_SIZE(camu_pins),\n\t.modemuxs = camu_modemux,\n\t.nmodemuxs = ARRAY_SIZE(camu_modemux),\n};\n\nstatic const char *const cam_grps[] = { \"caml_grp\", \"camu_grp\" };\nstatic struct spear_function cam_function = {\n\t.name = \"cam\",\n\t.groups = cam_grps,\n\t.ngroups = ARRAY_SIZE(cam_grps),\n};\n\n \nstatic const unsigned dac_pins[] = { 43, 44 };\nstatic struct spear_muxreg dac_muxreg[] = {\n\t{\n\t\t.reg = PMX_CONFIG_REG,\n\t\t.mask = PMX_TIMER_0_1_MASK,\n\t\t.val = 0,\n\t},\n};\n\nstatic struct spear_modemux dac_modemux[] = {\n\t{\n\t\t.modes = ATA_PABX_I2S_MODE | CAML_LCDW_MODE | CAMU_LCD_MODE\n\t\t\t| CAMU_WLCD_MODE | CAML_LCD_MODE,\n\t\t.muxregs = dac_muxreg,\n\t\t.nmuxregs = ARRAY_SIZE(dac_muxreg),\n\t},\n};\n\nstatic struct spear_pingroup dac_pingroup = {\n\t.name = \"dac_grp\",\n\t.pins = dac_pins,\n\t.npins = ARRAY_SIZE(dac_pins),\n\t.modemuxs = dac_modemux,\n\t.nmodemuxs = ARRAY_SIZE(dac_modemux),\n};\n\nstatic const char *const dac_grps[] = { \"dac_grp\" };\nstatic struct spear_function dac_function = {\n\t.name = \"dac\",\n\t.groups = dac_grps,\n\t.ngroups = ARRAY_SIZE(dac_grps),\n};\n\n \nstatic const unsigned i2s_pins[] = { 39, 40, 41, 42 };\nstatic struct spear_muxreg i2s_muxreg[] = {\n\t{\n\t\t.reg = PMX_CONFIG_REG,\n\t\t.mask = PMX_UART0_MODEM_MASK,\n\t\t.val = 0,\n\t},\n};\n\nstatic struct spear_modemux i2s_modemux[] = {\n\t{\n\t\t.modes = LEND_IP_PHONE_MODE | HEND_IP_PHONE_MODE\n\t\t\t| LEND_WIFI_PHONE_MODE | HEND_WIFI_PHONE_MODE |\n\t\t\tATA_PABX_I2S_MODE | CAML_LCDW_MODE | CAMU_LCD_MODE\n\t\t\t| CAMU_WLCD_MODE | CAML_LCD_MODE,\n\t\t.muxregs = i2s_muxreg,\n\t\t.nmuxregs = ARRAY_SIZE(i2s_muxreg),\n\t},\n};\n\nstatic struct spear_pingroup i2s_pingroup = {\n\t.name = \"i2s_grp\",\n\t.pins = i2s_pins,\n\t.npins = ARRAY_SIZE(i2s_pins),\n\t.modemuxs = i2s_modemux,\n\t.nmodemuxs = ARRAY_SIZE(i2s_modemux),\n};\n\nstatic const char *const i2s_grps[] = { \"i2s_grp\" };\nstatic struct spear_function i2s_function = {\n\t.name = \"i2s\",\n\t.groups = i2s_grps,\n\t.ngroups = ARRAY_SIZE(i2s_grps),\n};\n\n \nstatic const unsigned sdhci_4bit_pins[] = { 28, 29, 30, 31, 32, 33 };\nstatic struct spear_muxreg sdhci_4bit_muxreg[] = {\n\t{\n\t\t.reg = PMX_CONFIG_REG,\n\t\t.mask = PMX_GPIO_PIN0_MASK | PMX_GPIO_PIN1_MASK |\n\t\t\tPMX_GPIO_PIN2_MASK | PMX_GPIO_PIN3_MASK |\n\t\t\tPMX_GPIO_PIN4_MASK | PMX_GPIO_PIN5_MASK,\n\t\t.val = 0,\n\t},\n};\n\nstatic struct spear_modemux sdhci_4bit_modemux[] = {\n\t{\n\t\t.modes = PHOTO_FRAME_MODE | LEND_IP_PHONE_MODE |\n\t\t\tHEND_IP_PHONE_MODE | LEND_WIFI_PHONE_MODE |\n\t\t\tHEND_WIFI_PHONE_MODE | CAML_LCDW_MODE | CAMU_LCD_MODE |\n\t\t\tCAMU_WLCD_MODE | CAML_LCD_MODE | ATA_PABX_WI2S_MODE,\n\t\t.muxregs = sdhci_4bit_muxreg,\n\t\t.nmuxregs = ARRAY_SIZE(sdhci_4bit_muxreg),\n\t},\n};\n\nstatic struct spear_pingroup sdhci_4bit_pingroup = {\n\t.name = \"sdhci_4bit_grp\",\n\t.pins = sdhci_4bit_pins,\n\t.npins = ARRAY_SIZE(sdhci_4bit_pins),\n\t.modemuxs = sdhci_4bit_modemux,\n\t.nmodemuxs = ARRAY_SIZE(sdhci_4bit_modemux),\n};\n\n \nstatic const unsigned sdhci_8bit_pins[] = { 24, 25, 26, 27, 28, 29, 30, 31, 32,\n\t33 };\nstatic struct spear_muxreg sdhci_8bit_muxreg[] = {\n\t{\n\t\t.reg = PMX_CONFIG_REG,\n\t\t.mask = PMX_GPIO_PIN0_MASK | PMX_GPIO_PIN1_MASK |\n\t\t\tPMX_GPIO_PIN2_MASK | PMX_GPIO_PIN3_MASK |\n\t\t\tPMX_GPIO_PIN4_MASK | PMX_GPIO_PIN5_MASK | PMX_MII_MASK,\n\t\t.val = 0,\n\t},\n};\n\nstatic struct spear_modemux sdhci_8bit_modemux[] = {\n\t{\n\t\t.modes = PHOTO_FRAME_MODE | LEND_IP_PHONE_MODE |\n\t\t\tHEND_IP_PHONE_MODE | LEND_WIFI_PHONE_MODE |\n\t\t\tHEND_WIFI_PHONE_MODE | CAML_LCDW_MODE | CAMU_LCD_MODE |\n\t\t\tCAMU_WLCD_MODE | CAML_LCD_MODE,\n\t\t.muxregs = sdhci_8bit_muxreg,\n\t\t.nmuxregs = ARRAY_SIZE(sdhci_8bit_muxreg),\n\t},\n};\n\nstatic struct spear_pingroup sdhci_8bit_pingroup = {\n\t.name = \"sdhci_8bit_grp\",\n\t.pins = sdhci_8bit_pins,\n\t.npins = ARRAY_SIZE(sdhci_8bit_pins),\n\t.modemuxs = sdhci_8bit_modemux,\n\t.nmodemuxs = ARRAY_SIZE(sdhci_8bit_modemux),\n};\n\nstatic const char *const sdhci_grps[] = { \"sdhci_4bit_grp\", \"sdhci_8bit_grp\" };\nstatic struct spear_function sdhci_function = {\n\t.name = \"sdhci\",\n\t.groups = sdhci_grps,\n\t.ngroups = ARRAY_SIZE(sdhci_grps),\n};\n\n \nstatic const unsigned gpio1_0_to_3_pins[] = { 39, 40, 41, 42 };\nstatic struct spear_muxreg gpio1_0_to_3_muxreg[] = {\n\t{\n\t\t.reg = PMX_CONFIG_REG,\n\t\t.mask = PMX_UART0_MODEM_MASK,\n\t\t.val = 0,\n\t},\n};\n\nstatic struct spear_modemux gpio1_0_to_3_modemux[] = {\n\t{\n\t\t.modes = PHOTO_FRAME_MODE,\n\t\t.muxregs = gpio1_0_to_3_muxreg,\n\t\t.nmuxregs = ARRAY_SIZE(gpio1_0_to_3_muxreg),\n\t},\n};\n\nstatic struct spear_pingroup gpio1_0_to_3_pingroup = {\n\t.name = \"gpio1_0_to_3_grp\",\n\t.pins = gpio1_0_to_3_pins,\n\t.npins = ARRAY_SIZE(gpio1_0_to_3_pins),\n\t.modemuxs = gpio1_0_to_3_modemux,\n\t.nmodemuxs = ARRAY_SIZE(gpio1_0_to_3_modemux),\n};\n\n \nstatic const unsigned gpio1_4_to_7_pins[] = { 43, 44, 45, 46 };\n\nstatic struct spear_muxreg gpio1_4_to_7_muxreg[] = {\n\t{\n\t\t.reg = PMX_CONFIG_REG,\n\t\t.mask = PMX_TIMER_0_1_MASK | PMX_TIMER_2_3_MASK,\n\t\t.val = 0,\n\t},\n};\n\nstatic struct spear_modemux gpio1_4_to_7_modemux[] = {\n\t{\n\t\t.modes = PHOTO_FRAME_MODE,\n\t\t.muxregs = gpio1_4_to_7_muxreg,\n\t\t.nmuxregs = ARRAY_SIZE(gpio1_4_to_7_muxreg),\n\t},\n};\n\nstatic struct spear_pingroup gpio1_4_to_7_pingroup = {\n\t.name = \"gpio1_4_to_7_grp\",\n\t.pins = gpio1_4_to_7_pins,\n\t.npins = ARRAY_SIZE(gpio1_4_to_7_pins),\n\t.modemuxs = gpio1_4_to_7_modemux,\n\t.nmodemuxs = ARRAY_SIZE(gpio1_4_to_7_modemux),\n};\n\nstatic const char *const gpio1_grps[] = { \"gpio1_0_to_3_grp\", \"gpio1_4_to_7_grp\"\n};\nstatic struct spear_function gpio1_function = {\n\t.name = \"gpio1\",\n\t.groups = gpio1_grps,\n\t.ngroups = ARRAY_SIZE(gpio1_grps),\n};\n\n \nstatic struct spear_pingroup *spear300_pingroups[] = {\n\tSPEAR3XX_COMMON_PINGROUPS,\n\t&fsmc_2chips_pingroup,\n\t&fsmc_4chips_pingroup,\n\t&clcd_lcdmode_pingroup,\n\t&clcd_pfmode_pingroup,\n\t&tdm_pingroup,\n\t&i2c_clk_pingroup,\n\t&caml_pingroup,\n\t&camu_pingroup,\n\t&dac_pingroup,\n\t&i2s_pingroup,\n\t&sdhci_4bit_pingroup,\n\t&sdhci_8bit_pingroup,\n\t&gpio1_0_to_3_pingroup,\n\t&gpio1_4_to_7_pingroup,\n};\n\n \nstatic struct spear_function *spear300_functions[] = {\n\tSPEAR3XX_COMMON_FUNCTIONS,\n\t&fsmc_function,\n\t&clcd_function,\n\t&tdm_function,\n\t&i2c_function,\n\t&cam_function,\n\t&dac_function,\n\t&i2s_function,\n\t&sdhci_function,\n\t&gpio1_function,\n};\n\nstatic const struct of_device_id spear300_pinctrl_of_match[] = {\n\t{\n\t\t.compatible = \"st,spear300-pinmux\",\n\t},\n\t{},\n};\n\nstatic int spear300_pinctrl_probe(struct platform_device *pdev)\n{\n\tspear3xx_machdata.groups = spear300_pingroups;\n\tspear3xx_machdata.ngroups = ARRAY_SIZE(spear300_pingroups);\n\tspear3xx_machdata.functions = spear300_functions;\n\tspear3xx_machdata.nfunctions = ARRAY_SIZE(spear300_functions);\n\tspear3xx_machdata.gpio_pingroups = NULL;\n\tspear3xx_machdata.ngpio_pingroups = 0;\n\n\tspear3xx_machdata.modes_supported = true;\n\tspear3xx_machdata.pmx_modes = spear300_pmx_modes;\n\tspear3xx_machdata.npmx_modes = ARRAY_SIZE(spear300_pmx_modes);\n\n\tpmx_init_addr(&spear3xx_machdata, PMX_CONFIG_REG);\n\n\treturn spear_pinctrl_probe(pdev, &spear3xx_machdata);\n}\n\nstatic struct platform_driver spear300_pinctrl_driver = {\n\t.driver = {\n\t\t.name = DRIVER_NAME,\n\t\t.of_match_table = spear300_pinctrl_of_match,\n\t},\n\t.probe = spear300_pinctrl_probe,\n};\n\nstatic int __init spear300_pinctrl_init(void)\n{\n\treturn platform_driver_register(&spear300_pinctrl_driver);\n}\narch_initcall(spear300_pinctrl_init);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}