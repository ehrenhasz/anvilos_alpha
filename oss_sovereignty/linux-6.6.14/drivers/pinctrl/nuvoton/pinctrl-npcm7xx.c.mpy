{
  "module_name": "pinctrl-npcm7xx.c",
  "hash_id": "fe9eb4a29a0279611d2659b6cc1cfaebfefc1e7eea6417dce8ea2c70e3d20e26",
  "original_prompt": "Ingested from linux-6.6.14/drivers/pinctrl/nuvoton/pinctrl-npcm7xx.c",
  "human_readable_source": "\n\n\n\n#include <linux/device.h>\n#include <linux/gpio/driver.h>\n#include <linux/interrupt.h>\n#include <linux/irq.h>\n#include <linux/mfd/syscon.h>\n#include <linux/module.h>\n#include <linux/of.h>\n#include <linux/of_address.h>\n#include <linux/of_irq.h>\n#include <linux/platform_device.h>\n#include <linux/property.h>\n#include <linux/regmap.h>\n#include <linux/seq_file.h>\n\n#include <linux/pinctrl/consumer.h>\n#include <linux/pinctrl/machine.h>\n#include <linux/pinctrl/pinconf-generic.h>\n#include <linux/pinctrl/pinconf.h>\n#include <linux/pinctrl/pinctrl.h>\n#include <linux/pinctrl/pinmux.h>\n\n \n#define NPCM7XX_GCR_PDID\t0x00\n#define NPCM7XX_GCR_MFSEL1\t0x0C\n#define NPCM7XX_GCR_MFSEL2\t0x10\n#define NPCM7XX_GCR_MFSEL3\t0x64\n#define NPCM7XX_GCR_MFSEL4\t0xb0\n#define NPCM7XX_GCR_CPCTL\t0xD0\n#define NPCM7XX_GCR_CP2BST\t0xD4\n#define NPCM7XX_GCR_B2CPNT\t0xD8\n#define NPCM7XX_GCR_I2CSEGSEL\t0xE0\n#define NPCM7XX_GCR_I2CSEGCTL\t0xE4\n#define NPCM7XX_GCR_SRCNT\t0x68\n#define NPCM7XX_GCR_FLOCKR1\t0x74\n#define NPCM7XX_GCR_DSCNT\t0x78\n\n#define SRCNT_ESPI\t\tBIT(3)\n\n \n#define NPCM7XX_GP_N_TLOCK1\t0x00\n#define NPCM7XX_GP_N_DIN\t0x04  \n#define NPCM7XX_GP_N_POL\t0x08  \n#define NPCM7XX_GP_N_DOUT\t0x0c  \n#define NPCM7XX_GP_N_OE\t\t0x10  \n#define NPCM7XX_GP_N_OTYP\t0x14\n#define NPCM7XX_GP_N_MP\t\t0x18\n#define NPCM7XX_GP_N_PU\t\t0x1c  \n#define NPCM7XX_GP_N_PD\t\t0x20  \n#define NPCM7XX_GP_N_DBNC\t0x24  \n#define NPCM7XX_GP_N_EVTYP\t0x28  \n#define NPCM7XX_GP_N_EVBE\t0x2c  \n#define NPCM7XX_GP_N_OBL0\t0x30\n#define NPCM7XX_GP_N_OBL1\t0x34\n#define NPCM7XX_GP_N_OBL2\t0x38\n#define NPCM7XX_GP_N_OBL3\t0x3c\n#define NPCM7XX_GP_N_EVEN\t0x40  \n#define NPCM7XX_GP_N_EVENS\t0x44  \n#define NPCM7XX_GP_N_EVENC\t0x48  \n#define NPCM7XX_GP_N_EVST\t0x4c  \n#define NPCM7XX_GP_N_SPLCK\t0x50\n#define NPCM7XX_GP_N_MPLCK\t0x54\n#define NPCM7XX_GP_N_IEM\t0x58  \n#define NPCM7XX_GP_N_OSRC\t0x5c\n#define NPCM7XX_GP_N_ODSC\t0x60\n#define NPCM7XX_GP_N_DOS\t0x68  \n#define NPCM7XX_GP_N_DOC\t0x6c  \n#define NPCM7XX_GP_N_OES\t0x70  \n#define NPCM7XX_GP_N_OEC\t0x74  \n#define NPCM7XX_GP_N_TLOCK2\t0x7c\n\n#define NPCM7XX_GPIO_PER_BANK\t32\n#define NPCM7XX_GPIO_BANK_NUM\t8\n#define NPCM7XX_GCR_NONE\t0\n\n \nstruct npcm7xx_gpio {\n\tvoid __iomem\t\t*base;\n\tstruct gpio_chip\tgc;\n\tint\t\t\tirqbase;\n\tint\t\t\tirq;\n\tu32\t\t\tpinctrl_id;\n\tint (*direction_input)(struct gpio_chip *chip, unsigned int offset);\n\tint (*direction_output)(struct gpio_chip *chip, unsigned int offset,\n\t\t\t\tint value);\n\tint (*request)(struct gpio_chip *chip, unsigned int offset);\n\tvoid (*free)(struct gpio_chip *chip, unsigned int offset);\n};\n\nstruct npcm7xx_pinctrl {\n\tstruct pinctrl_dev\t*pctldev;\n\tstruct device\t\t*dev;\n\tstruct npcm7xx_gpio\tgpio_bank[NPCM7XX_GPIO_BANK_NUM];\n\tstruct irq_domain\t*domain;\n\tstruct regmap\t\t*gcr_regmap;\n\tvoid __iomem\t\t*regs;\n\tu32\t\t\tbank_num;\n};\n\n \nstatic void npcm_gpio_set(struct gpio_chip *gc, void __iomem *reg,\n\t\t\t  unsigned int pinmask)\n{\n\tunsigned long flags;\n\tunsigned long val;\n\n\traw_spin_lock_irqsave(&gc->bgpio_lock, flags);\n\n\tval = ioread32(reg) | pinmask;\n\tiowrite32(val, reg);\n\n\traw_spin_unlock_irqrestore(&gc->bgpio_lock, flags);\n}\n\nstatic void npcm_gpio_clr(struct gpio_chip *gc, void __iomem *reg,\n\t\t\t  unsigned int pinmask)\n{\n\tunsigned long flags;\n\tunsigned long val;\n\n\traw_spin_lock_irqsave(&gc->bgpio_lock, flags);\n\n\tval = ioread32(reg) & ~pinmask;\n\tiowrite32(val, reg);\n\n\traw_spin_unlock_irqrestore(&gc->bgpio_lock, flags);\n}\n\nstatic void npcmgpio_dbg_show(struct seq_file *s, struct gpio_chip *chip)\n{\n\tstruct npcm7xx_gpio *bank = gpiochip_get_data(chip);\n\n\tseq_printf(s, \"-- module %d [gpio%d - %d]\\n\",\n\t\t   bank->gc.base / bank->gc.ngpio,\n\t\t   bank->gc.base,\n\t\t   bank->gc.base + bank->gc.ngpio);\n\tseq_printf(s, \"DIN :%.8x DOUT:%.8x IE  :%.8x OE\t :%.8x\\n\",\n\t\t   ioread32(bank->base + NPCM7XX_GP_N_DIN),\n\t\t   ioread32(bank->base + NPCM7XX_GP_N_DOUT),\n\t\t   ioread32(bank->base + NPCM7XX_GP_N_IEM),\n\t\t   ioread32(bank->base + NPCM7XX_GP_N_OE));\n\tseq_printf(s, \"PU  :%.8x PD  :%.8x DB  :%.8x POL :%.8x\\n\",\n\t\t   ioread32(bank->base + NPCM7XX_GP_N_PU),\n\t\t   ioread32(bank->base + NPCM7XX_GP_N_PD),\n\t\t   ioread32(bank->base + NPCM7XX_GP_N_DBNC),\n\t\t   ioread32(bank->base + NPCM7XX_GP_N_POL));\n\tseq_printf(s, \"ETYP:%.8x EVBE:%.8x EVEN:%.8x EVST:%.8x\\n\",\n\t\t   ioread32(bank->base + NPCM7XX_GP_N_EVTYP),\n\t\t   ioread32(bank->base + NPCM7XX_GP_N_EVBE),\n\t\t   ioread32(bank->base + NPCM7XX_GP_N_EVEN),\n\t\t   ioread32(bank->base + NPCM7XX_GP_N_EVST));\n\tseq_printf(s, \"OTYP:%.8x OSRC:%.8x ODSC:%.8x\\n\",\n\t\t   ioread32(bank->base + NPCM7XX_GP_N_OTYP),\n\t\t   ioread32(bank->base + NPCM7XX_GP_N_OSRC),\n\t\t   ioread32(bank->base + NPCM7XX_GP_N_ODSC));\n\tseq_printf(s, \"OBL0:%.8x OBL1:%.8x OBL2:%.8x OBL3:%.8x\\n\",\n\t\t   ioread32(bank->base + NPCM7XX_GP_N_OBL0),\n\t\t   ioread32(bank->base + NPCM7XX_GP_N_OBL1),\n\t\t   ioread32(bank->base + NPCM7XX_GP_N_OBL2),\n\t\t   ioread32(bank->base + NPCM7XX_GP_N_OBL3));\n\tseq_printf(s, \"SLCK:%.8x MLCK:%.8x\\n\",\n\t\t   ioread32(bank->base + NPCM7XX_GP_N_SPLCK),\n\t\t   ioread32(bank->base + NPCM7XX_GP_N_MPLCK));\n}\n\nstatic int npcmgpio_direction_input(struct gpio_chip *chip, unsigned int offset)\n{\n\tstruct npcm7xx_gpio *bank = gpiochip_get_data(chip);\n\tint ret;\n\n\tret = pinctrl_gpio_direction_input(offset + chip->base);\n\tif (ret)\n\t\treturn ret;\n\n\treturn bank->direction_input(chip, offset);\n}\n\n \nstatic int npcmgpio_direction_output(struct gpio_chip *chip,\n\t\t\t\t     unsigned int offset, int value)\n{\n\tstruct npcm7xx_gpio *bank = gpiochip_get_data(chip);\n\tint ret;\n\n\tdev_dbg(chip->parent, \"gpio_direction_output: offset%d = %x\\n\", offset,\n\t\tvalue);\n\n\tret = pinctrl_gpio_direction_output(offset + chip->base);\n\tif (ret)\n\t\treturn ret;\n\n\treturn bank->direction_output(chip, offset, value);\n}\n\nstatic int npcmgpio_gpio_request(struct gpio_chip *chip, unsigned int offset)\n{\n\tstruct npcm7xx_gpio *bank = gpiochip_get_data(chip);\n\tint ret;\n\n\tdev_dbg(chip->parent, \"gpio_request: offset%d\\n\", offset);\n\tret = pinctrl_gpio_request(offset + chip->base);\n\tif (ret)\n\t\treturn ret;\n\n\treturn bank->request(chip, offset);\n}\n\nstatic void npcmgpio_gpio_free(struct gpio_chip *chip, unsigned int offset)\n{\n\tdev_dbg(chip->parent, \"gpio_free: offset%d\\n\", offset);\n\tpinctrl_gpio_free(offset + chip->base);\n}\n\nstatic void npcmgpio_irq_handler(struct irq_desc *desc)\n{\n\tstruct gpio_chip *gc;\n\tstruct irq_chip *chip;\n\tstruct npcm7xx_gpio *bank;\n\tunsigned long sts, en, bit;\n\n\tgc = irq_desc_get_handler_data(desc);\n\tbank = gpiochip_get_data(gc);\n\tchip = irq_desc_get_chip(desc);\n\n\tchained_irq_enter(chip, desc);\n\tsts = ioread32(bank->base + NPCM7XX_GP_N_EVST);\n\ten  = ioread32(bank->base + NPCM7XX_GP_N_EVEN);\n\tdev_dbg(bank->gc.parent, \"==> got irq sts %.8lx %.8lx\\n\", sts,\n\t\ten);\n\n\tsts &= en;\n\tfor_each_set_bit(bit, &sts, NPCM7XX_GPIO_PER_BANK)\n\t\tgeneric_handle_domain_irq(gc->irq.domain, bit);\n\tchained_irq_exit(chip, desc);\n}\n\nstatic int npcmgpio_set_irq_type(struct irq_data *d, unsigned int type)\n{\n\tstruct gpio_chip *gc = irq_data_get_irq_chip_data(d);\n\tstruct npcm7xx_gpio *bank = gpiochip_get_data(gc);\n\tunsigned int gpio = BIT(irqd_to_hwirq(d));\n\n\tdev_dbg(bank->gc.parent, \"setirqtype: %u.%u = %u\\n\", gpio,\n\t\td->irq, type);\n\tswitch (type) {\n\tcase IRQ_TYPE_EDGE_RISING:\n\t\tdev_dbg(bank->gc.parent, \"edge.rising\\n\");\n\t\tnpcm_gpio_clr(&bank->gc, bank->base + NPCM7XX_GP_N_EVBE, gpio);\n\t\tnpcm_gpio_clr(&bank->gc, bank->base + NPCM7XX_GP_N_POL, gpio);\n\t\tbreak;\n\tcase IRQ_TYPE_EDGE_FALLING:\n\t\tdev_dbg(bank->gc.parent, \"edge.falling\\n\");\n\t\tnpcm_gpio_clr(&bank->gc, bank->base + NPCM7XX_GP_N_EVBE, gpio);\n\t\tnpcm_gpio_set(&bank->gc, bank->base + NPCM7XX_GP_N_POL, gpio);\n\t\tbreak;\n\tcase IRQ_TYPE_EDGE_BOTH:\n\t\tdev_dbg(bank->gc.parent, \"edge.both\\n\");\n\t\tnpcm_gpio_set(&bank->gc, bank->base + NPCM7XX_GP_N_EVBE, gpio);\n\t\tbreak;\n\tcase IRQ_TYPE_LEVEL_LOW:\n\t\tdev_dbg(bank->gc.parent, \"level.low\\n\");\n\t\tnpcm_gpio_set(&bank->gc, bank->base + NPCM7XX_GP_N_POL, gpio);\n\t\tbreak;\n\tcase IRQ_TYPE_LEVEL_HIGH:\n\t\tdev_dbg(bank->gc.parent, \"level.high\\n\");\n\t\tnpcm_gpio_clr(&bank->gc, bank->base + NPCM7XX_GP_N_POL, gpio);\n\t\tbreak;\n\tdefault:\n\t\tdev_dbg(bank->gc.parent, \"invalid irq type\\n\");\n\t\treturn -EINVAL;\n\t}\n\n\tif (type & (IRQ_TYPE_LEVEL_HIGH | IRQ_TYPE_LEVEL_LOW)) {\n\t\tnpcm_gpio_clr(&bank->gc, bank->base + NPCM7XX_GP_N_EVTYP, gpio);\n\t\tirq_set_handler_locked(d, handle_level_irq);\n\t} else if (type & (IRQ_TYPE_EDGE_BOTH | IRQ_TYPE_EDGE_RISING\n\t\t\t   | IRQ_TYPE_EDGE_FALLING)) {\n\t\tnpcm_gpio_set(&bank->gc, bank->base + NPCM7XX_GP_N_EVTYP, gpio);\n\t\tirq_set_handler_locked(d, handle_edge_irq);\n\t}\n\n\treturn 0;\n}\n\nstatic void npcmgpio_irq_ack(struct irq_data *d)\n{\n\tstruct gpio_chip *gc = irq_data_get_irq_chip_data(d);\n\tstruct npcm7xx_gpio *bank = gpiochip_get_data(gc);\n\tunsigned int gpio = irqd_to_hwirq(d);\n\n\tdev_dbg(bank->gc.parent, \"irq_ack: %u.%u\\n\", gpio, d->irq);\n\tiowrite32(BIT(gpio), bank->base + NPCM7XX_GP_N_EVST);\n}\n\n \nstatic void npcmgpio_irq_mask(struct irq_data *d)\n{\n\tstruct gpio_chip *gc = irq_data_get_irq_chip_data(d);\n\tstruct npcm7xx_gpio *bank = gpiochip_get_data(gc);\n\tunsigned int gpio = irqd_to_hwirq(d);\n\n\t \n\tdev_dbg(bank->gc.parent, \"irq_mask: %u.%u\\n\", gpio, d->irq);\n\tiowrite32(BIT(gpio), bank->base + NPCM7XX_GP_N_EVENC);\n\tgpiochip_disable_irq(gc, gpio);\n}\n\n \nstatic void npcmgpio_irq_unmask(struct irq_data *d)\n{\n\tstruct gpio_chip *gc = irq_data_get_irq_chip_data(d);\n\tstruct npcm7xx_gpio *bank = gpiochip_get_data(gc);\n\tunsigned int gpio = irqd_to_hwirq(d);\n\n\t \n\tgpiochip_enable_irq(gc, gpio);\n\tdev_dbg(bank->gc.parent, \"irq_unmask: %u.%u\\n\", gpio, d->irq);\n\tiowrite32(BIT(gpio), bank->base + NPCM7XX_GP_N_EVENS);\n}\n\nstatic unsigned int npcmgpio_irq_startup(struct irq_data *d)\n{\n\tstruct gpio_chip *gc = irq_data_get_irq_chip_data(d);\n\tunsigned int gpio = irqd_to_hwirq(d);\n\n\t \n\tdev_dbg(gc->parent, \"startup: %u.%u\\n\", gpio, d->irq);\n\tnpcmgpio_direction_input(gc, gpio);\n\tnpcmgpio_irq_ack(d);\n\tnpcmgpio_irq_unmask(d);\n\n\treturn 0;\n}\n\nstatic const struct irq_chip npcmgpio_irqchip = {\n\t.name = \"NPCM7XX-GPIO-IRQ\",\n\t.irq_ack = npcmgpio_irq_ack,\n\t.irq_unmask = npcmgpio_irq_unmask,\n\t.irq_mask = npcmgpio_irq_mask,\n\t.irq_set_type = npcmgpio_set_irq_type,\n\t.irq_startup = npcmgpio_irq_startup,\n\t.flags = IRQCHIP_IMMUTABLE,\n\tGPIOCHIP_IRQ_RESOURCE_HELPERS,\n};\n\n \nstatic const int smb0_pins[]  = { 115, 114 };\nstatic const int smb0b_pins[] = { 195, 194 };\nstatic const int smb0c_pins[] = { 202, 196 };\nstatic const int smb0d_pins[] = { 198, 199 };\nstatic const int smb0den_pins[] = { 197 };\n\nstatic const int smb1_pins[]  = { 117, 116 };\nstatic const int smb1b_pins[] = { 126, 127 };\nstatic const int smb1c_pins[] = { 124, 125 };\nstatic const int smb1d_pins[] = { 4, 5 };\n\nstatic const int smb2_pins[]  = { 119, 118 };\nstatic const int smb2b_pins[] = { 122, 123 };\nstatic const int smb2c_pins[] = { 120, 121 };\nstatic const int smb2d_pins[] = { 6, 7 };\n\nstatic const int smb3_pins[]  = { 30, 31 };\nstatic const int smb3b_pins[] = { 39, 40 };\nstatic const int smb3c_pins[] = { 37, 38 };\nstatic const int smb3d_pins[] = { 59, 60 };\n\nstatic const int smb4_pins[]  = { 28, 29 };\nstatic const int smb4b_pins[] = { 18, 19 };\nstatic const int smb4c_pins[] = { 20, 21 };\nstatic const int smb4d_pins[] = { 22, 23 };\nstatic const int smb4den_pins[] = { 17 };\n\nstatic const int smb5_pins[]  = { 26, 27 };\nstatic const int smb5b_pins[] = { 13, 12 };\nstatic const int smb5c_pins[] = { 15, 14 };\nstatic const int smb5d_pins[] = { 94, 93 };\nstatic const int ga20kbc_pins[] = { 94, 93 };\n\nstatic const int smb6_pins[]  = { 172, 171 };\nstatic const int smb7_pins[]  = { 174, 173 };\nstatic const int smb8_pins[]  = { 129, 128 };\nstatic const int smb9_pins[]  = { 131, 130 };\nstatic const int smb10_pins[] = { 133, 132 };\nstatic const int smb11_pins[] = { 135, 134 };\nstatic const int smb12_pins[] = { 221, 220 };\nstatic const int smb13_pins[] = { 223, 222 };\nstatic const int smb14_pins[] = { 22, 23 };\nstatic const int smb15_pins[] = { 20, 21 };\n\nstatic const int fanin0_pins[] = { 64 };\nstatic const int fanin1_pins[] = { 65 };\nstatic const int fanin2_pins[] = { 66 };\nstatic const int fanin3_pins[] = { 67 };\nstatic const int fanin4_pins[] = { 68 };\nstatic const int fanin5_pins[] = { 69 };\nstatic const int fanin6_pins[] = { 70 };\nstatic const int fanin7_pins[] = { 71 };\nstatic const int fanin8_pins[] = { 72 };\nstatic const int fanin9_pins[] = { 73 };\nstatic const int fanin10_pins[] = { 74 };\nstatic const int fanin11_pins[] = { 75 };\nstatic const int fanin12_pins[] = { 76 };\nstatic const int fanin13_pins[] = { 77 };\nstatic const int fanin14_pins[] = { 78 };\nstatic const int fanin15_pins[] = { 79 };\nstatic const int faninx_pins[] = { 175, 176, 177, 203 };\n\nstatic const int pwm0_pins[] = { 80 };\nstatic const int pwm1_pins[] = { 81 };\nstatic const int pwm2_pins[] = { 82 };\nstatic const int pwm3_pins[] = { 83 };\nstatic const int pwm4_pins[] = { 144 };\nstatic const int pwm5_pins[] = { 145 };\nstatic const int pwm6_pins[] = { 146 };\nstatic const int pwm7_pins[] = { 147 };\n\nstatic const int uart1_pins[] = { 43, 44, 45, 46, 47, 61, 62, 63 };\nstatic const int uart2_pins[] = { 48, 49, 50, 51, 52, 53, 54, 55 };\n\n \nstatic const int rg1_pins[] = { 96, 97, 98, 99, 100, 101, 102, 103, 104, 105,\n\t106, 107 };\n \nstatic const int rg1mdio_pins[] = { 108, 109 };\n\n \nstatic const int rg2_pins[] = { 110, 111, 112, 113, 208, 209, 210, 211, 212,\n\t213, 214, 215 };\n \nstatic const int rg2mdio_pins[] = { 216, 217 };\n\nstatic const int ddr_pins[] = { 110, 111, 112, 113, 208, 209, 210, 211, 212,\n\t213, 214, 215, 216, 217 };\n \nstatic const int iox1_pins[] = { 0, 1, 2, 3 };\n \nstatic const int iox2_pins[] = { 4, 5, 6, 7 };\n \nstatic const int ioxh_pins[] = { 10, 11, 24, 25 };\n\nstatic const int mmc_pins[] = { 152, 154, 156, 157, 158, 159 };\nstatic const int mmcwp_pins[] = { 153 };\nstatic const int mmccd_pins[] = { 155 };\nstatic const int mmcrst_pins[] = { 155 };\nstatic const int mmc8_pins[] = { 148, 149, 150, 151 };\n\n \nstatic const int r1_pins[] = { 178, 179, 180, 181, 182, 193, 201 };\nstatic const int r1err_pins[] = { 56 };\nstatic const int r1md_pins[] = { 57, 58 };\n\n \nstatic const int r2_pins[] = { 84, 85, 86, 87, 88, 89, 200 };\nstatic const int r2err_pins[] = { 90 };\nstatic const int r2md_pins[] = { 91, 92 };\n\nstatic const int sd1_pins[] = { 136, 137, 138, 139, 140, 141, 142, 143 };\nstatic const int sd1pwr_pins[] = { 143 };\n\nstatic const int wdog1_pins[] = { 218 };\nstatic const int wdog2_pins[] = { 219 };\n\n \nstatic const int bmcuart0a_pins[] = { 41, 42 };\nstatic const int bmcuart0b_pins[] = { 48, 49 };\n\nstatic const int bmcuart1_pins[] = { 43, 44, 62, 63 };\n\n \nstatic const int scipme_pins[] = { 169 };\n \nstatic const int sci_pins[] = { 170 };\n \nstatic const int serirq_pins[] = { 162 };\n\nstatic const int clkout_pins[] = { 160 };\nstatic const int clkreq_pins[] = { 231 };\n\nstatic const int jtag2_pins[] = { 43, 44, 45, 46, 47 };\n \nstatic const int gspi_pins[] = { 12, 13, 14, 15 };\n\nstatic const int spix_pins[] = { 224, 225, 226, 227, 229, 230 };\nstatic const int spixcs1_pins[] = { 228 };\n\nstatic const int pspi1_pins[] = { 175, 176, 177 };\nstatic const int pspi2_pins[] = { 17, 18, 19 };\n\nstatic const int spi0cs1_pins[] = { 32 };\n\nstatic const int spi3_pins[] = { 183, 184, 185, 186 };\nstatic const int spi3cs1_pins[] = { 187 };\nstatic const int spi3quad_pins[] = { 188, 189 };\nstatic const int spi3cs2_pins[] = { 188 };\nstatic const int spi3cs3_pins[] = { 189 };\n\nstatic const int ddc_pins[] = { 204, 205, 206, 207 };\n\nstatic const int lpc_pins[] = { 95, 161, 163, 164, 165, 166, 167 };\nstatic const int lpcclk_pins[] = { 168 };\nstatic const int espi_pins[] = { 95, 161, 163, 164, 165, 166, 167, 168 };\n\nstatic const int lkgpo0_pins[] = { 16 };\nstatic const int lkgpo1_pins[] = { 8 };\nstatic const int lkgpo2_pins[] = { 9 };\n\nstatic const int nprd_smi_pins[] = { 190 };\n\n \nstruct npcm7xx_group {\n\tconst char *name;\n\tconst unsigned int *pins;\n\tint npins;\n};\n\n#define NPCM7XX_GRPS \\\n\tNPCM7XX_GRP(smb0), \\\n\tNPCM7XX_GRP(smb0b), \\\n\tNPCM7XX_GRP(smb0c), \\\n\tNPCM7XX_GRP(smb0d), \\\n\tNPCM7XX_GRP(smb0den), \\\n\tNPCM7XX_GRP(smb1), \\\n\tNPCM7XX_GRP(smb1b), \\\n\tNPCM7XX_GRP(smb1c), \\\n\tNPCM7XX_GRP(smb1d), \\\n\tNPCM7XX_GRP(smb2), \\\n\tNPCM7XX_GRP(smb2b), \\\n\tNPCM7XX_GRP(smb2c), \\\n\tNPCM7XX_GRP(smb2d), \\\n\tNPCM7XX_GRP(smb3), \\\n\tNPCM7XX_GRP(smb3b), \\\n\tNPCM7XX_GRP(smb3c), \\\n\tNPCM7XX_GRP(smb3d), \\\n\tNPCM7XX_GRP(smb4), \\\n\tNPCM7XX_GRP(smb4b), \\\n\tNPCM7XX_GRP(smb4c), \\\n\tNPCM7XX_GRP(smb4d), \\\n\tNPCM7XX_GRP(smb4den), \\\n\tNPCM7XX_GRP(smb5), \\\n\tNPCM7XX_GRP(smb5b), \\\n\tNPCM7XX_GRP(smb5c), \\\n\tNPCM7XX_GRP(smb5d), \\\n\tNPCM7XX_GRP(ga20kbc), \\\n\tNPCM7XX_GRP(smb6), \\\n\tNPCM7XX_GRP(smb7), \\\n\tNPCM7XX_GRP(smb8), \\\n\tNPCM7XX_GRP(smb9), \\\n\tNPCM7XX_GRP(smb10), \\\n\tNPCM7XX_GRP(smb11), \\\n\tNPCM7XX_GRP(smb12), \\\n\tNPCM7XX_GRP(smb13), \\\n\tNPCM7XX_GRP(smb14), \\\n\tNPCM7XX_GRP(smb15), \\\n\tNPCM7XX_GRP(fanin0), \\\n\tNPCM7XX_GRP(fanin1), \\\n\tNPCM7XX_GRP(fanin2), \\\n\tNPCM7XX_GRP(fanin3), \\\n\tNPCM7XX_GRP(fanin4), \\\n\tNPCM7XX_GRP(fanin5), \\\n\tNPCM7XX_GRP(fanin6), \\\n\tNPCM7XX_GRP(fanin7), \\\n\tNPCM7XX_GRP(fanin8), \\\n\tNPCM7XX_GRP(fanin9), \\\n\tNPCM7XX_GRP(fanin10), \\\n\tNPCM7XX_GRP(fanin11), \\\n\tNPCM7XX_GRP(fanin12), \\\n\tNPCM7XX_GRP(fanin13), \\\n\tNPCM7XX_GRP(fanin14), \\\n\tNPCM7XX_GRP(fanin15), \\\n\tNPCM7XX_GRP(faninx), \\\n\tNPCM7XX_GRP(pwm0), \\\n\tNPCM7XX_GRP(pwm1), \\\n\tNPCM7XX_GRP(pwm2), \\\n\tNPCM7XX_GRP(pwm3), \\\n\tNPCM7XX_GRP(pwm4), \\\n\tNPCM7XX_GRP(pwm5), \\\n\tNPCM7XX_GRP(pwm6), \\\n\tNPCM7XX_GRP(pwm7), \\\n\tNPCM7XX_GRP(rg1), \\\n\tNPCM7XX_GRP(rg1mdio), \\\n\tNPCM7XX_GRP(rg2), \\\n\tNPCM7XX_GRP(rg2mdio), \\\n\tNPCM7XX_GRP(ddr), \\\n\tNPCM7XX_GRP(uart1), \\\n\tNPCM7XX_GRP(uart2), \\\n\tNPCM7XX_GRP(bmcuart0a), \\\n\tNPCM7XX_GRP(bmcuart0b), \\\n\tNPCM7XX_GRP(bmcuart1), \\\n\tNPCM7XX_GRP(iox1), \\\n\tNPCM7XX_GRP(iox2), \\\n\tNPCM7XX_GRP(ioxh), \\\n\tNPCM7XX_GRP(gspi), \\\n\tNPCM7XX_GRP(mmc), \\\n\tNPCM7XX_GRP(mmcwp), \\\n\tNPCM7XX_GRP(mmccd), \\\n\tNPCM7XX_GRP(mmcrst), \\\n\tNPCM7XX_GRP(mmc8), \\\n\tNPCM7XX_GRP(r1), \\\n\tNPCM7XX_GRP(r1err), \\\n\tNPCM7XX_GRP(r1md), \\\n\tNPCM7XX_GRP(r2), \\\n\tNPCM7XX_GRP(r2err), \\\n\tNPCM7XX_GRP(r2md), \\\n\tNPCM7XX_GRP(sd1), \\\n\tNPCM7XX_GRP(sd1pwr), \\\n\tNPCM7XX_GRP(wdog1), \\\n\tNPCM7XX_GRP(wdog2), \\\n\tNPCM7XX_GRP(scipme), \\\n\tNPCM7XX_GRP(sci), \\\n\tNPCM7XX_GRP(serirq), \\\n\tNPCM7XX_GRP(jtag2), \\\n\tNPCM7XX_GRP(spix), \\\n\tNPCM7XX_GRP(spixcs1), \\\n\tNPCM7XX_GRP(pspi1), \\\n\tNPCM7XX_GRP(pspi2), \\\n\tNPCM7XX_GRP(ddc), \\\n\tNPCM7XX_GRP(clkreq), \\\n\tNPCM7XX_GRP(clkout), \\\n\tNPCM7XX_GRP(spi3), \\\n\tNPCM7XX_GRP(spi3cs1), \\\n\tNPCM7XX_GRP(spi3quad), \\\n\tNPCM7XX_GRP(spi3cs2), \\\n\tNPCM7XX_GRP(spi3cs3), \\\n\tNPCM7XX_GRP(spi0cs1), \\\n\tNPCM7XX_GRP(lpc), \\\n\tNPCM7XX_GRP(lpcclk), \\\n\tNPCM7XX_GRP(espi), \\\n\tNPCM7XX_GRP(lkgpo0), \\\n\tNPCM7XX_GRP(lkgpo1), \\\n\tNPCM7XX_GRP(lkgpo2), \\\n\tNPCM7XX_GRP(nprd_smi), \\\n\t\\\n\nenum {\n#define NPCM7XX_GRP(x) fn_ ## x\n\tNPCM7XX_GRPS\n\t \n\tNPCM7XX_GRP(none),\n\tNPCM7XX_GRP(gpio),\n#undef NPCM7XX_GRP\n};\n\nstatic struct npcm7xx_group npcm7xx_groups[] = {\n#define NPCM7XX_GRP(x) { .name = #x, .pins = x ## _pins, \\\n\t\t\t.npins = ARRAY_SIZE(x ## _pins) }\n\tNPCM7XX_GRPS\n#undef NPCM7XX_GRP\n};\n\n#define NPCM7XX_SFUNC(a) NPCM7XX_FUNC(a, #a)\n#define NPCM7XX_FUNC(a, b...) static const char *a ## _grp[] = { b }\n#define NPCM7XX_MKFUNC(nm) { .name = #nm, .ngroups = ARRAY_SIZE(nm ## _grp), \\\n\t\t\t.groups = nm ## _grp }\nstruct npcm7xx_func {\n\tconst char *name;\n\tconst unsigned int ngroups;\n\tconst char *const *groups;\n};\n\nNPCM7XX_SFUNC(smb0);\nNPCM7XX_SFUNC(smb0b);\nNPCM7XX_SFUNC(smb0c);\nNPCM7XX_SFUNC(smb0d);\nNPCM7XX_SFUNC(smb0den);\nNPCM7XX_SFUNC(smb1);\nNPCM7XX_SFUNC(smb1b);\nNPCM7XX_SFUNC(smb1c);\nNPCM7XX_SFUNC(smb1d);\nNPCM7XX_SFUNC(smb2);\nNPCM7XX_SFUNC(smb2b);\nNPCM7XX_SFUNC(smb2c);\nNPCM7XX_SFUNC(smb2d);\nNPCM7XX_SFUNC(smb3);\nNPCM7XX_SFUNC(smb3b);\nNPCM7XX_SFUNC(smb3c);\nNPCM7XX_SFUNC(smb3d);\nNPCM7XX_SFUNC(smb4);\nNPCM7XX_SFUNC(smb4b);\nNPCM7XX_SFUNC(smb4c);\nNPCM7XX_SFUNC(smb4d);\nNPCM7XX_SFUNC(smb4den);\nNPCM7XX_SFUNC(smb5);\nNPCM7XX_SFUNC(smb5b);\nNPCM7XX_SFUNC(smb5c);\nNPCM7XX_SFUNC(smb5d);\nNPCM7XX_SFUNC(ga20kbc);\nNPCM7XX_SFUNC(smb6);\nNPCM7XX_SFUNC(smb7);\nNPCM7XX_SFUNC(smb8);\nNPCM7XX_SFUNC(smb9);\nNPCM7XX_SFUNC(smb10);\nNPCM7XX_SFUNC(smb11);\nNPCM7XX_SFUNC(smb12);\nNPCM7XX_SFUNC(smb13);\nNPCM7XX_SFUNC(smb14);\nNPCM7XX_SFUNC(smb15);\nNPCM7XX_SFUNC(fanin0);\nNPCM7XX_SFUNC(fanin1);\nNPCM7XX_SFUNC(fanin2);\nNPCM7XX_SFUNC(fanin3);\nNPCM7XX_SFUNC(fanin4);\nNPCM7XX_SFUNC(fanin5);\nNPCM7XX_SFUNC(fanin6);\nNPCM7XX_SFUNC(fanin7);\nNPCM7XX_SFUNC(fanin8);\nNPCM7XX_SFUNC(fanin9);\nNPCM7XX_SFUNC(fanin10);\nNPCM7XX_SFUNC(fanin11);\nNPCM7XX_SFUNC(fanin12);\nNPCM7XX_SFUNC(fanin13);\nNPCM7XX_SFUNC(fanin14);\nNPCM7XX_SFUNC(fanin15);\nNPCM7XX_SFUNC(faninx);\nNPCM7XX_SFUNC(pwm0);\nNPCM7XX_SFUNC(pwm1);\nNPCM7XX_SFUNC(pwm2);\nNPCM7XX_SFUNC(pwm3);\nNPCM7XX_SFUNC(pwm4);\nNPCM7XX_SFUNC(pwm5);\nNPCM7XX_SFUNC(pwm6);\nNPCM7XX_SFUNC(pwm7);\nNPCM7XX_SFUNC(rg1);\nNPCM7XX_SFUNC(rg1mdio);\nNPCM7XX_SFUNC(rg2);\nNPCM7XX_SFUNC(rg2mdio);\nNPCM7XX_SFUNC(ddr);\nNPCM7XX_SFUNC(uart1);\nNPCM7XX_SFUNC(uart2);\nNPCM7XX_SFUNC(bmcuart0a);\nNPCM7XX_SFUNC(bmcuart0b);\nNPCM7XX_SFUNC(bmcuart1);\nNPCM7XX_SFUNC(iox1);\nNPCM7XX_SFUNC(iox2);\nNPCM7XX_SFUNC(ioxh);\nNPCM7XX_SFUNC(gspi);\nNPCM7XX_SFUNC(mmc);\nNPCM7XX_SFUNC(mmcwp);\nNPCM7XX_SFUNC(mmccd);\nNPCM7XX_SFUNC(mmcrst);\nNPCM7XX_SFUNC(mmc8);\nNPCM7XX_SFUNC(r1);\nNPCM7XX_SFUNC(r1err);\nNPCM7XX_SFUNC(r1md);\nNPCM7XX_SFUNC(r2);\nNPCM7XX_SFUNC(r2err);\nNPCM7XX_SFUNC(r2md);\nNPCM7XX_SFUNC(sd1);\nNPCM7XX_SFUNC(sd1pwr);\nNPCM7XX_SFUNC(wdog1);\nNPCM7XX_SFUNC(wdog2);\nNPCM7XX_SFUNC(scipme);\nNPCM7XX_SFUNC(sci);\nNPCM7XX_SFUNC(serirq);\nNPCM7XX_SFUNC(jtag2);\nNPCM7XX_SFUNC(spix);\nNPCM7XX_SFUNC(spixcs1);\nNPCM7XX_SFUNC(pspi1);\nNPCM7XX_SFUNC(pspi2);\nNPCM7XX_SFUNC(ddc);\nNPCM7XX_SFUNC(clkreq);\nNPCM7XX_SFUNC(clkout);\nNPCM7XX_SFUNC(spi3);\nNPCM7XX_SFUNC(spi3cs1);\nNPCM7XX_SFUNC(spi3quad);\nNPCM7XX_SFUNC(spi3cs2);\nNPCM7XX_SFUNC(spi3cs3);\nNPCM7XX_SFUNC(spi0cs1);\nNPCM7XX_SFUNC(lpc);\nNPCM7XX_SFUNC(lpcclk);\nNPCM7XX_SFUNC(espi);\nNPCM7XX_SFUNC(lkgpo0);\nNPCM7XX_SFUNC(lkgpo1);\nNPCM7XX_SFUNC(lkgpo2);\nNPCM7XX_SFUNC(nprd_smi);\n\n \nstatic struct npcm7xx_func npcm7xx_funcs[] = {\n\tNPCM7XX_MKFUNC(smb0),\n\tNPCM7XX_MKFUNC(smb0b),\n\tNPCM7XX_MKFUNC(smb0c),\n\tNPCM7XX_MKFUNC(smb0d),\n\tNPCM7XX_MKFUNC(smb0den),\n\tNPCM7XX_MKFUNC(smb1),\n\tNPCM7XX_MKFUNC(smb1b),\n\tNPCM7XX_MKFUNC(smb1c),\n\tNPCM7XX_MKFUNC(smb1d),\n\tNPCM7XX_MKFUNC(smb2),\n\tNPCM7XX_MKFUNC(smb2b),\n\tNPCM7XX_MKFUNC(smb2c),\n\tNPCM7XX_MKFUNC(smb2d),\n\tNPCM7XX_MKFUNC(smb3),\n\tNPCM7XX_MKFUNC(smb3b),\n\tNPCM7XX_MKFUNC(smb3c),\n\tNPCM7XX_MKFUNC(smb3d),\n\tNPCM7XX_MKFUNC(smb4),\n\tNPCM7XX_MKFUNC(smb4b),\n\tNPCM7XX_MKFUNC(smb4c),\n\tNPCM7XX_MKFUNC(smb4d),\n\tNPCM7XX_MKFUNC(smb4den),\n\tNPCM7XX_MKFUNC(smb5),\n\tNPCM7XX_MKFUNC(smb5b),\n\tNPCM7XX_MKFUNC(smb5c),\n\tNPCM7XX_MKFUNC(smb5d),\n\tNPCM7XX_MKFUNC(ga20kbc),\n\tNPCM7XX_MKFUNC(smb6),\n\tNPCM7XX_MKFUNC(smb7),\n\tNPCM7XX_MKFUNC(smb8),\n\tNPCM7XX_MKFUNC(smb9),\n\tNPCM7XX_MKFUNC(smb10),\n\tNPCM7XX_MKFUNC(smb11),\n\tNPCM7XX_MKFUNC(smb12),\n\tNPCM7XX_MKFUNC(smb13),\n\tNPCM7XX_MKFUNC(smb14),\n\tNPCM7XX_MKFUNC(smb15),\n\tNPCM7XX_MKFUNC(fanin0),\n\tNPCM7XX_MKFUNC(fanin1),\n\tNPCM7XX_MKFUNC(fanin2),\n\tNPCM7XX_MKFUNC(fanin3),\n\tNPCM7XX_MKFUNC(fanin4),\n\tNPCM7XX_MKFUNC(fanin5),\n\tNPCM7XX_MKFUNC(fanin6),\n\tNPCM7XX_MKFUNC(fanin7),\n\tNPCM7XX_MKFUNC(fanin8),\n\tNPCM7XX_MKFUNC(fanin9),\n\tNPCM7XX_MKFUNC(fanin10),\n\tNPCM7XX_MKFUNC(fanin11),\n\tNPCM7XX_MKFUNC(fanin12),\n\tNPCM7XX_MKFUNC(fanin13),\n\tNPCM7XX_MKFUNC(fanin14),\n\tNPCM7XX_MKFUNC(fanin15),\n\tNPCM7XX_MKFUNC(faninx),\n\tNPCM7XX_MKFUNC(pwm0),\n\tNPCM7XX_MKFUNC(pwm1),\n\tNPCM7XX_MKFUNC(pwm2),\n\tNPCM7XX_MKFUNC(pwm3),\n\tNPCM7XX_MKFUNC(pwm4),\n\tNPCM7XX_MKFUNC(pwm5),\n\tNPCM7XX_MKFUNC(pwm6),\n\tNPCM7XX_MKFUNC(pwm7),\n\tNPCM7XX_MKFUNC(rg1),\n\tNPCM7XX_MKFUNC(rg1mdio),\n\tNPCM7XX_MKFUNC(rg2),\n\tNPCM7XX_MKFUNC(rg2mdio),\n\tNPCM7XX_MKFUNC(ddr),\n\tNPCM7XX_MKFUNC(uart1),\n\tNPCM7XX_MKFUNC(uart2),\n\tNPCM7XX_MKFUNC(bmcuart0a),\n\tNPCM7XX_MKFUNC(bmcuart0b),\n\tNPCM7XX_MKFUNC(bmcuart1),\n\tNPCM7XX_MKFUNC(iox1),\n\tNPCM7XX_MKFUNC(iox2),\n\tNPCM7XX_MKFUNC(ioxh),\n\tNPCM7XX_MKFUNC(gspi),\n\tNPCM7XX_MKFUNC(mmc),\n\tNPCM7XX_MKFUNC(mmcwp),\n\tNPCM7XX_MKFUNC(mmccd),\n\tNPCM7XX_MKFUNC(mmcrst),\n\tNPCM7XX_MKFUNC(mmc8),\n\tNPCM7XX_MKFUNC(r1),\n\tNPCM7XX_MKFUNC(r1err),\n\tNPCM7XX_MKFUNC(r1md),\n\tNPCM7XX_MKFUNC(r2),\n\tNPCM7XX_MKFUNC(r2err),\n\tNPCM7XX_MKFUNC(r2md),\n\tNPCM7XX_MKFUNC(sd1),\n\tNPCM7XX_MKFUNC(sd1pwr),\n\tNPCM7XX_MKFUNC(wdog1),\n\tNPCM7XX_MKFUNC(wdog2),\n\tNPCM7XX_MKFUNC(scipme),\n\tNPCM7XX_MKFUNC(sci),\n\tNPCM7XX_MKFUNC(serirq),\n\tNPCM7XX_MKFUNC(jtag2),\n\tNPCM7XX_MKFUNC(spix),\n\tNPCM7XX_MKFUNC(spixcs1),\n\tNPCM7XX_MKFUNC(pspi1),\n\tNPCM7XX_MKFUNC(pspi2),\n\tNPCM7XX_MKFUNC(ddc),\n\tNPCM7XX_MKFUNC(clkreq),\n\tNPCM7XX_MKFUNC(clkout),\n\tNPCM7XX_MKFUNC(spi3),\n\tNPCM7XX_MKFUNC(spi3cs1),\n\tNPCM7XX_MKFUNC(spi3quad),\n\tNPCM7XX_MKFUNC(spi3cs2),\n\tNPCM7XX_MKFUNC(spi3cs3),\n\tNPCM7XX_MKFUNC(spi0cs1),\n\tNPCM7XX_MKFUNC(lpc),\n\tNPCM7XX_MKFUNC(lpcclk),\n\tNPCM7XX_MKFUNC(espi),\n\tNPCM7XX_MKFUNC(lkgpo0),\n\tNPCM7XX_MKFUNC(lkgpo1),\n\tNPCM7XX_MKFUNC(lkgpo2),\n\tNPCM7XX_MKFUNC(nprd_smi),\n};\n\n#define NPCM7XX_PINCFG(a, b, c, d, e, f, g, h, i, j, k) \\\n\t[a] = { .fn0 = fn_ ## b, .reg0 = NPCM7XX_GCR_ ## c, .bit0 = d, \\\n\t\t\t.fn1 = fn_ ## e, .reg1 = NPCM7XX_GCR_ ## f, .bit1 = g, \\\n\t\t\t.fn2 = fn_ ## h, .reg2 = NPCM7XX_GCR_ ## i, .bit2 = j, \\\n\t\t\t.flag = k }\n\n \n#define DRIVE_STRENGTH_LO_SHIFT\t\t8\n#define DRIVE_STRENGTH_HI_SHIFT\t\t12\n#define DRIVE_STRENGTH_MASK\t\t0x0000FF00\n\n#define DSTR(lo, hi)\t(((lo) << DRIVE_STRENGTH_LO_SHIFT) | \\\n\t\t\t ((hi) << DRIVE_STRENGTH_HI_SHIFT))\n#define DSLO(x)\t\t(((x) >> DRIVE_STRENGTH_LO_SHIFT) & 0xF)\n#define DSHI(x)\t\t(((x) >> DRIVE_STRENGTH_HI_SHIFT) & 0xF)\n\n#define GPI\t\t0x1  \n#define GPO\t\t0x2  \n#define SLEW\t\t0x4  \n#define SLEWLPC\t\t0x8  \n\nstruct npcm7xx_pincfg {\n\tint flag;\n\tint fn0, reg0, bit0;\n\tint fn1, reg1, bit1;\n\tint fn2, reg2, bit2;\n};\n\nstatic const struct npcm7xx_pincfg pincfg[] = {\n\t \n\tNPCM7XX_PINCFG(0,\t iox1, MFSEL1, 30,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(1,\t iox1, MFSEL1, 30,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12)),\n\tNPCM7XX_PINCFG(2,\t iox1, MFSEL1, 30,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12)),\n\tNPCM7XX_PINCFG(3,\t iox1, MFSEL1, 30,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(4,\t iox2, MFSEL3, 14,\t smb1d, I2CSEGSEL, 7,\tnone, NONE, 0,\t     SLEW),\n\tNPCM7XX_PINCFG(5,\t iox2, MFSEL3, 14,\t smb1d, I2CSEGSEL, 7,\tnone, NONE, 0,\t     SLEW),\n\tNPCM7XX_PINCFG(6,\t iox2, MFSEL3, 14,\t smb2d, I2CSEGSEL, 10,  none, NONE, 0,       SLEW),\n\tNPCM7XX_PINCFG(7,\t iox2, MFSEL3, 14,\t smb2d, I2CSEGSEL, 10,  none, NONE, 0,       SLEW),\n\tNPCM7XX_PINCFG(8,      lkgpo1, FLOCKR1, 4,        none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12)),\n\tNPCM7XX_PINCFG(9,      lkgpo2, FLOCKR1, 8,        none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12)),\n\tNPCM7XX_PINCFG(10,\t ioxh, MFSEL3, 18,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12)),\n\tNPCM7XX_PINCFG(11,\t ioxh, MFSEL3, 18,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12)),\n\tNPCM7XX_PINCFG(12,\t gspi, MFSEL1, 24,\t smb5b, I2CSEGSEL, 19,  none, NONE, 0,\t     SLEW),\n\tNPCM7XX_PINCFG(13,\t gspi, MFSEL1, 24,\t smb5b, I2CSEGSEL, 19,  none, NONE, 0,\t     SLEW),\n\tNPCM7XX_PINCFG(14,\t gspi, MFSEL1, 24,\t smb5c, I2CSEGSEL, 20,\tnone, NONE, 0,\t     SLEW),\n\tNPCM7XX_PINCFG(15,\t gspi, MFSEL1, 24,\t smb5c, I2CSEGSEL, 20,\tnone, NONE, 0,\t     SLEW),\n\tNPCM7XX_PINCFG(16,     lkgpo0, FLOCKR1, 0,        none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12)),\n\tNPCM7XX_PINCFG(17,      pspi2, MFSEL3, 13,     smb4den, I2CSEGSEL, 23,  none, NONE, 0,       DSTR(8, 12)),\n\tNPCM7XX_PINCFG(18,      pspi2, MFSEL3, 13,\t smb4b, I2CSEGSEL, 14,  none, NONE, 0,\t     DSTR(8, 12)),\n\tNPCM7XX_PINCFG(19,      pspi2, MFSEL3, 13,\t smb4b, I2CSEGSEL, 14,  none, NONE, 0,\t     DSTR(8, 12)),\n\tNPCM7XX_PINCFG(20,\tsmb4c, I2CSEGSEL, 15,    smb15, MFSEL3, 8,      none, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(21,\tsmb4c, I2CSEGSEL, 15,    smb15, MFSEL3, 8,      none, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(22,      smb4d, I2CSEGSEL, 16,\t smb14, MFSEL3, 7,      none, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(23,      smb4d, I2CSEGSEL, 16,\t smb14, MFSEL3, 7,      none, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(24,\t ioxh, MFSEL3, 18,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12)),\n\tNPCM7XX_PINCFG(25,\t ioxh, MFSEL3, 18,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12)),\n\tNPCM7XX_PINCFG(26,\t smb5, MFSEL1, 2,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(27,\t smb5, MFSEL1, 2,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(28,\t smb4, MFSEL1, 1,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(29,\t smb4, MFSEL1, 1,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(30,\t smb3, MFSEL1, 0,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(31,\t smb3, MFSEL1, 0,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\n\tNPCM7XX_PINCFG(32,    spi0cs1, MFSEL1, 3,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(33,\t none, NONE, 0,           none, NONE, 0,\tnone, NONE, 0,\t     SLEW),\n\tNPCM7XX_PINCFG(34,\t none, NONE, 0,           none, NONE, 0,\tnone, NONE, 0,\t     SLEW),\n\tNPCM7XX_PINCFG(37,\tsmb3c, I2CSEGSEL, 12,\t  none, NONE, 0,\tnone, NONE, 0,\t     SLEW),\n\tNPCM7XX_PINCFG(38,\tsmb3c, I2CSEGSEL, 12,\t  none, NONE, 0,\tnone, NONE, 0,\t     SLEW),\n\tNPCM7XX_PINCFG(39,\tsmb3b, I2CSEGSEL, 11,\t  none, NONE, 0,\tnone, NONE, 0,\t     SLEW),\n\tNPCM7XX_PINCFG(40,\tsmb3b, I2CSEGSEL, 11,\t  none, NONE, 0,\tnone, NONE, 0,\t     SLEW),\n\tNPCM7XX_PINCFG(41,  bmcuart0a, MFSEL1, 9,         none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(42,  bmcuart0a, MFSEL1, 9,         none, NONE, 0,\tnone, NONE, 0,\t     DSTR(2, 4) | GPO),\n\tNPCM7XX_PINCFG(43,      uart1, MFSEL1, 10,\t jtag2, MFSEL4, 0,  bmcuart1, MFSEL3, 24,    0),\n\tNPCM7XX_PINCFG(44,      uart1, MFSEL1, 10,\t jtag2, MFSEL4, 0,  bmcuart1, MFSEL3, 24,    0),\n\tNPCM7XX_PINCFG(45,      uart1, MFSEL1, 10,\t jtag2, MFSEL4, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(46,      uart1, MFSEL1, 10,\t jtag2, MFSEL4, 0,\tnone, NONE, 0,\t     DSTR(2, 8)),\n\tNPCM7XX_PINCFG(47,      uart1, MFSEL1, 10,\t jtag2, MFSEL4, 0,\tnone, NONE, 0,\t     DSTR(2, 8)),\n\tNPCM7XX_PINCFG(48,\tuart2, MFSEL1, 11,   bmcuart0b, MFSEL4, 1,      none, NONE, 0,\t     GPO),\n\tNPCM7XX_PINCFG(49,\tuart2, MFSEL1, 11,   bmcuart0b, MFSEL4, 1,      none, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(50,\tuart2, MFSEL1, 11,\t  none, NONE, 0,        none, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(51,\tuart2, MFSEL1, 11,\t  none, NONE, 0,        none, NONE, 0,\t     GPO),\n\tNPCM7XX_PINCFG(52,\tuart2, MFSEL1, 11,\t  none, NONE, 0,        none, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(53,\tuart2, MFSEL1, 11,\t  none, NONE, 0,        none, NONE, 0,\t     GPO),\n\tNPCM7XX_PINCFG(54,\tuart2, MFSEL1, 11,\t  none, NONE, 0,        none, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(55,\tuart2, MFSEL1, 11,\t  none, NONE, 0,        none, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(56,\tr1err, MFSEL1, 12,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(57,       r1md, MFSEL1, 13,        none, NONE, 0,        none, NONE, 0,       DSTR(2, 4)),\n\tNPCM7XX_PINCFG(58,       r1md, MFSEL1, 13,        none, NONE, 0,\tnone, NONE, 0,\t     DSTR(2, 4)),\n\tNPCM7XX_PINCFG(59,\tsmb3d, I2CSEGSEL, 13,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(60,\tsmb3d, I2CSEGSEL, 13,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(61,      uart1, MFSEL1, 10,\t  none, NONE, 0,\tnone, NONE, 0,     GPO),\n\tNPCM7XX_PINCFG(62,      uart1, MFSEL1, 10,    bmcuart1, MFSEL3, 24,\tnone, NONE, 0,     GPO),\n\tNPCM7XX_PINCFG(63,      uart1, MFSEL1, 10,    bmcuart1, MFSEL3, 24,\tnone, NONE, 0,     GPO),\n\n\tNPCM7XX_PINCFG(64,    fanin0, MFSEL2, 0,          none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(65,    fanin1, MFSEL2, 1,          none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(66,    fanin2, MFSEL2, 2,          none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(67,    fanin3, MFSEL2, 3,          none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(68,    fanin4, MFSEL2, 4,          none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(69,    fanin5, MFSEL2, 5,          none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(70,    fanin6, MFSEL2, 6,          none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(71,    fanin7, MFSEL2, 7,          none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(72,    fanin8, MFSEL2, 8,          none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(73,    fanin9, MFSEL2, 9,          none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(74,    fanin10, MFSEL2, 10,        none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(75,    fanin11, MFSEL2, 11,        none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(76,    fanin12, MFSEL2, 12,        none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(77,    fanin13, MFSEL2, 13,        none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(78,    fanin14, MFSEL2, 14,        none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(79,    fanin15, MFSEL2, 15,        none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(80,\t pwm0, MFSEL2, 16,        none, NONE, 0,\tnone, NONE, 0,\t     DSTR(4, 8)),\n\tNPCM7XX_PINCFG(81,\t pwm1, MFSEL2, 17,        none, NONE, 0,\tnone, NONE, 0,\t     DSTR(4, 8)),\n\tNPCM7XX_PINCFG(82,\t pwm2, MFSEL2, 18,        none, NONE, 0,\tnone, NONE, 0,\t     DSTR(4, 8)),\n\tNPCM7XX_PINCFG(83,\t pwm3, MFSEL2, 19,        none, NONE, 0,\tnone, NONE, 0,\t     DSTR(4, 8)),\n\tNPCM7XX_PINCFG(84,         r2, MFSEL1, 14,        none, NONE, 0,        none, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(85,         r2, MFSEL1, 14,        none, NONE, 0,        none, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(86,         r2, MFSEL1, 14,        none, NONE, 0,        none, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(87,         r2, MFSEL1, 14,        none, NONE, 0,        none, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(88,         r2, MFSEL1, 14,        none, NONE, 0,        none, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(89,         r2, MFSEL1, 14,        none, NONE, 0,        none, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(90,      r2err, MFSEL1, 15,        none, NONE, 0,        none, NONE, 0,       0),\n\tNPCM7XX_PINCFG(91,       r2md, MFSEL1, 16,\t  none, NONE, 0,        none, NONE, 0,\t     DSTR(2, 4)),\n\tNPCM7XX_PINCFG(92,       r2md, MFSEL1, 16,\t  none, NONE, 0,        none, NONE, 0,\t     DSTR(2, 4)),\n\tNPCM7XX_PINCFG(93,    ga20kbc, MFSEL1, 17,\t smb5d, I2CSEGSEL, 21,  none, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(94,    ga20kbc, MFSEL1, 17,\t smb5d, I2CSEGSEL, 21,  none, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(95,\t  lpc, NONE, 0,\t\t  espi, MFSEL4, 8,      gpio, MFSEL1, 26,    0),\n\n\tNPCM7XX_PINCFG(96,\t  rg1, MFSEL4, 22,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(97,\t  rg1, MFSEL4, 22,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(98,\t  rg1, MFSEL4, 22,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(99,\t  rg1, MFSEL4, 22,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(100,\t  rg1, MFSEL4, 22,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(101,\t  rg1, MFSEL4, 22,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(102,\t  rg1, MFSEL4, 22,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(103,\t  rg1, MFSEL4, 22,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(104,\t  rg1, MFSEL4, 22,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(105,\t  rg1, MFSEL4, 22,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(106,\t  rg1, MFSEL4, 22,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(107,\t  rg1, MFSEL4, 22,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(108,   rg1mdio, MFSEL4, 21,        none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(109,   rg1mdio, MFSEL4, 21,        none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(110,       rg2, MFSEL4, 24,         ddr, MFSEL3, 26,     none, NONE, 0,       0),\n\tNPCM7XX_PINCFG(111,       rg2, MFSEL4, 24,         ddr, MFSEL3, 26,     none, NONE, 0,       0),\n\tNPCM7XX_PINCFG(112,       rg2, MFSEL4, 24,         ddr, MFSEL3, 26,     none, NONE, 0,       0),\n\tNPCM7XX_PINCFG(113,       rg2, MFSEL4, 24,         ddr, MFSEL3, 26,     none, NONE, 0,       0),\n\tNPCM7XX_PINCFG(114,\t smb0, MFSEL1, 6,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(115,\t smb0, MFSEL1, 6,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(116,\t smb1, MFSEL1, 7,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(117,\t smb1, MFSEL1, 7,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(118,\t smb2, MFSEL1, 8,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(119,\t smb2, MFSEL1, 8,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(120,\tsmb2c, I2CSEGSEL, 9,\t  none, NONE, 0,\tnone, NONE, 0,\t     SLEW),\n\tNPCM7XX_PINCFG(121,\tsmb2c, I2CSEGSEL, 9,      none, NONE, 0,\tnone, NONE, 0,\t     SLEW),\n\tNPCM7XX_PINCFG(122,\tsmb2b, I2CSEGSEL, 8,\t  none, NONE, 0,\tnone, NONE, 0,\t     SLEW),\n\tNPCM7XX_PINCFG(123,\tsmb2b, I2CSEGSEL, 8,\t  none, NONE, 0,\tnone, NONE, 0,\t     SLEW),\n\tNPCM7XX_PINCFG(124,\tsmb1c, I2CSEGSEL, 6,\t  none, NONE, 0,\tnone, NONE, 0,\t     SLEW),\n\tNPCM7XX_PINCFG(125,\tsmb1c, I2CSEGSEL, 6,\t  none, NONE, 0,\tnone, NONE, 0,\t     SLEW),\n\tNPCM7XX_PINCFG(126,\tsmb1b, I2CSEGSEL, 5,\t  none, NONE, 0,\tnone, NONE, 0,\t     SLEW),\n\tNPCM7XX_PINCFG(127,\tsmb1b, I2CSEGSEL, 5,\t  none, NONE, 0,\tnone, NONE, 0,\t     SLEW),\n\n\tNPCM7XX_PINCFG(128,\t smb8, MFSEL4, 11,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(129,\t smb8, MFSEL4, 11,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(130,\t smb9, MFSEL4, 12,        none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(131,\t smb9, MFSEL4, 12,        none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(132,\tsmb10, MFSEL4, 13,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(133,\tsmb10, MFSEL4, 13,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(134,\tsmb11, MFSEL4, 14,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(135,\tsmb11, MFSEL4, 14,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(136,\t  sd1, MFSEL3, 12,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(137,\t  sd1, MFSEL3, 12,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(138,\t  sd1, MFSEL3, 12,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(139,\t  sd1, MFSEL3, 12,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(140,\t  sd1, MFSEL3, 12,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(141,\t  sd1, MFSEL3, 12,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(142,\t  sd1, MFSEL3, 12,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(143,       sd1, MFSEL3, 12,      sd1pwr, MFSEL4, 5,      none, NONE, 0,       0),\n\tNPCM7XX_PINCFG(144,\t pwm4, MFSEL2, 20,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(4, 8)),\n\tNPCM7XX_PINCFG(145,\t pwm5, MFSEL2, 21,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(4, 8)),\n\tNPCM7XX_PINCFG(146,\t pwm6, MFSEL2, 22,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(4, 8)),\n\tNPCM7XX_PINCFG(147,\t pwm7, MFSEL2, 23,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(4, 8)),\n\tNPCM7XX_PINCFG(148,\t mmc8, MFSEL3, 11,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(149,\t mmc8, MFSEL3, 11,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(150,\t mmc8, MFSEL3, 11,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(151,\t mmc8, MFSEL3, 11,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(152,\t  mmc, MFSEL3, 10,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(153,     mmcwp, FLOCKR1, 24,       none, NONE, 0,\tnone, NONE, 0,\t     0),   \n\tNPCM7XX_PINCFG(154,\t  mmc, MFSEL3, 10,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(155,     mmccd, MFSEL3, 25,      mmcrst, MFSEL4, 6,      none, NONE, 0,       0),   \n\tNPCM7XX_PINCFG(156,\t  mmc, MFSEL3, 10,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(157,\t  mmc, MFSEL3, 10,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(158,\t  mmc, MFSEL3, 10,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(159,\t  mmc, MFSEL3, 10,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\n\tNPCM7XX_PINCFG(160,    clkout, MFSEL1, 21,        none, NONE, 0,        none, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(161,\t  lpc, NONE, 0,\t\t  espi, MFSEL4, 8,      gpio, MFSEL1, 26,    DSTR(8, 12)),\n\tNPCM7XX_PINCFG(162,    serirq, NONE, 0,           gpio, MFSEL1, 31,\tnone, NONE, 0,\t     DSTR(8, 12)),\n\tNPCM7XX_PINCFG(163,\t  lpc, NONE, 0,\t\t  espi, MFSEL4, 8,      gpio, MFSEL1, 26,    0),\n\tNPCM7XX_PINCFG(164,\t  lpc, NONE, 0,\t\t  espi, MFSEL4, 8,      gpio, MFSEL1, 26,    SLEWLPC),\n\tNPCM7XX_PINCFG(165,\t  lpc, NONE, 0,\t\t  espi, MFSEL4, 8,      gpio, MFSEL1, 26,    SLEWLPC),\n\tNPCM7XX_PINCFG(166,\t  lpc, NONE, 0,\t\t  espi, MFSEL4, 8,      gpio, MFSEL1, 26,    SLEWLPC),\n\tNPCM7XX_PINCFG(167,\t  lpc, NONE, 0,\t\t  espi, MFSEL4, 8,      gpio, MFSEL1, 26,    SLEWLPC),\n\tNPCM7XX_PINCFG(168,    lpcclk, NONE, 0,           espi, MFSEL4, 8,      gpio, MFSEL3, 16,    0),\n\tNPCM7XX_PINCFG(169,    scipme, MFSEL3, 0,         none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(170,\t  sci, MFSEL1, 22,        none, NONE, 0,        none, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(171,\t smb6, MFSEL3, 1,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(172,\t smb6, MFSEL3, 1,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(173,\t smb7, MFSEL3, 2,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(174,\t smb7, MFSEL3, 2,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(175,\tpspi1, MFSEL3, 4,       faninx, MFSEL3, 3,      none, NONE, 0,\t     DSTR(8, 12)),\n\tNPCM7XX_PINCFG(176,     pspi1, MFSEL3, 4,       faninx, MFSEL3, 3,      none, NONE, 0,\t     DSTR(8, 12)),\n\tNPCM7XX_PINCFG(177,     pspi1, MFSEL3, 4,       faninx, MFSEL3, 3,      none, NONE, 0,\t     DSTR(8, 12)),\n\tNPCM7XX_PINCFG(178,\t   r1, MFSEL3, 9,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(179,\t   r1, MFSEL3, 9,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(180,\t   r1, MFSEL3, 9,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(181,\t   r1, MFSEL3, 9,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(182,\t   r1, MFSEL3, 9,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(183,     spi3, MFSEL4, 16,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(184,     spi3, MFSEL4, 16,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW | GPO),\n\tNPCM7XX_PINCFG(185,     spi3, MFSEL4, 16,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW | GPO),\n\tNPCM7XX_PINCFG(186,     spi3, MFSEL4, 16,\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12)),\n\tNPCM7XX_PINCFG(187,   spi3cs1, MFSEL4, 17,        none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12)),\n\tNPCM7XX_PINCFG(188,  spi3quad, MFSEL4, 20,     spi3cs2, MFSEL4, 18,     none, NONE, 0,    DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(189,  spi3quad, MFSEL4, 20,     spi3cs3, MFSEL4, 19,     none, NONE, 0,    DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(190,      gpio, FLOCKR1, 20,   nprd_smi, NONE, 0,\tnone, NONE, 0,\t     DSTR(2, 4)),\n\tNPCM7XX_PINCFG(191,\t none, NONE, 0,\t\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12)),   \n\n\tNPCM7XX_PINCFG(192,\t none, NONE, 0,\t\t  none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12)),   \n\tNPCM7XX_PINCFG(193,\t   r1, MFSEL3, 9,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(194,\tsmb0b, I2CSEGSEL, 0,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(195,\tsmb0b, I2CSEGSEL, 0,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(196,\tsmb0c, I2CSEGSEL, 1,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(197,   smb0den, I2CSEGSEL, 22,     none, NONE, 0,\tnone, NONE, 0,\t     SLEW),\n\tNPCM7XX_PINCFG(198,\tsmb0d, I2CSEGSEL, 2,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(199,\tsmb0d, I2CSEGSEL, 2,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(200,        r2, MFSEL1, 14,        none, NONE, 0,        none, NONE, 0,       0),\n\tNPCM7XX_PINCFG(201,\t   r1, MFSEL3, 9,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(202,\tsmb0c, I2CSEGSEL, 1,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(203,    faninx, MFSEL3, 3,         none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12)),\n\tNPCM7XX_PINCFG(204,\t  ddc, NONE, 0,           gpio, MFSEL3, 22,\tnone, NONE, 0,\t     SLEW),\n\tNPCM7XX_PINCFG(205,\t  ddc, NONE, 0,           gpio, MFSEL3, 22,\tnone, NONE, 0,\t     SLEW),\n\tNPCM7XX_PINCFG(206,\t  ddc, NONE, 0,           gpio, MFSEL3, 22,\tnone, NONE, 0,\t     DSTR(4, 8)),\n\tNPCM7XX_PINCFG(207,\t  ddc, NONE, 0,           gpio, MFSEL3, 22,\tnone, NONE, 0,\t     DSTR(4, 8)),\n\tNPCM7XX_PINCFG(208,       rg2, MFSEL4, 24,         ddr, MFSEL3, 26,     none, NONE, 0,       0),\n\tNPCM7XX_PINCFG(209,       rg2, MFSEL4, 24,         ddr, MFSEL3, 26,     none, NONE, 0,       0),\n\tNPCM7XX_PINCFG(210,       rg2, MFSEL4, 24,         ddr, MFSEL3, 26,     none, NONE, 0,       0),\n\tNPCM7XX_PINCFG(211,       rg2, MFSEL4, 24,         ddr, MFSEL3, 26,     none, NONE, 0,       0),\n\tNPCM7XX_PINCFG(212,       rg2, MFSEL4, 24,         ddr, MFSEL3, 26,     none, NONE, 0,       0),\n\tNPCM7XX_PINCFG(213,       rg2, MFSEL4, 24,         ddr, MFSEL3, 26,     none, NONE, 0,       0),\n\tNPCM7XX_PINCFG(214,       rg2, MFSEL4, 24,         ddr, MFSEL3, 26,     none, NONE, 0,       0),\n\tNPCM7XX_PINCFG(215,       rg2, MFSEL4, 24,         ddr, MFSEL3, 26,     none, NONE, 0,       0),\n\tNPCM7XX_PINCFG(216,   rg2mdio, MFSEL4, 23,         ddr, MFSEL3, 26,     none, NONE, 0,       0),\n\tNPCM7XX_PINCFG(217,   rg2mdio, MFSEL4, 23,         ddr, MFSEL3, 26,     none, NONE, 0,       0),\n\tNPCM7XX_PINCFG(218,     wdog1, MFSEL3, 19,        none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(219,     wdog2, MFSEL3, 20,        none, NONE, 0,\tnone, NONE, 0,\t     DSTR(4, 8)),\n\tNPCM7XX_PINCFG(220,\tsmb12, MFSEL3, 5,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(221,\tsmb12, MFSEL3, 5,\t  none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(222,     smb13, MFSEL3, 6,         none, NONE, 0,\tnone, NONE, 0,\t     0),\n\tNPCM7XX_PINCFG(223,     smb13, MFSEL3, 6,         none, NONE, 0,\tnone, NONE, 0,\t     0),\n\n\tNPCM7XX_PINCFG(224,\t spix, MFSEL4, 27,        none, NONE, 0,\tnone, NONE, 0,\t     SLEW),\n\tNPCM7XX_PINCFG(225,\t spix, MFSEL4, 27,        none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW | GPO),\n\tNPCM7XX_PINCFG(226,\t spix, MFSEL4, 27,        none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW | GPO),\n\tNPCM7XX_PINCFG(227,\t spix, MFSEL4, 27,        none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(228,   spixcs1, MFSEL4, 28,        none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(229,\t spix, MFSEL4, 27,        none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(230,\t spix, MFSEL4, 27,        none, NONE, 0,\tnone, NONE, 0,\t     DSTR(8, 12) | SLEW),\n\tNPCM7XX_PINCFG(231,    clkreq, MFSEL4, 9,         none, NONE, 0,        none, NONE, 0,\t     DSTR(8, 12)),\n\tNPCM7XX_PINCFG(253,\t none, NONE, 0,\t\t  none, NONE, 0,\tnone, NONE, 0,\t     GPI),  \n\tNPCM7XX_PINCFG(254,\t none, NONE, 0,\t\t  none, NONE, 0,\tnone, NONE, 0,\t     GPI),  \n\tNPCM7XX_PINCFG(255,\t none, NONE, 0,\t\t  none, NONE, 0,\tnone, NONE, 0,\t     GPI),  \n};\n\n \nstatic const struct pinctrl_pin_desc npcm7xx_pins[] = {\n\tPINCTRL_PIN(0,\t\"GPIO0/IOX1DI\"),\n\tPINCTRL_PIN(1,\t\"GPIO1/IOX1LD\"),\n\tPINCTRL_PIN(2,\t\"GPIO2/IOX1CK\"),\n\tPINCTRL_PIN(3,\t\"GPIO3/IOX1D0\"),\n\tPINCTRL_PIN(4,\t\"GPIO4/IOX2DI/SMB1DSDA\"),\n\tPINCTRL_PIN(5,\t\"GPIO5/IOX2LD/SMB1DSCL\"),\n\tPINCTRL_PIN(6,\t\"GPIO6/IOX2CK/SMB2DSDA\"),\n\tPINCTRL_PIN(7,\t\"GPIO7/IOX2D0/SMB2DSCL\"),\n\tPINCTRL_PIN(8,\t\"GPIO8/LKGPO1\"),\n\tPINCTRL_PIN(9,\t\"GPIO9/LKGPO2\"),\n\tPINCTRL_PIN(10, \"GPIO10/IOXHLD\"),\n\tPINCTRL_PIN(11, \"GPIO11/IOXHCK\"),\n\tPINCTRL_PIN(12, \"GPIO12/GSPICK/SMB5BSCL\"),\n\tPINCTRL_PIN(13, \"GPIO13/GSPIDO/SMB5BSDA\"),\n\tPINCTRL_PIN(14, \"GPIO14/GSPIDI/SMB5CSCL\"),\n\tPINCTRL_PIN(15, \"GPIO15/GSPICS/SMB5CSDA\"),\n\tPINCTRL_PIN(16, \"GPIO16/LKGPO0\"),\n\tPINCTRL_PIN(17, \"GPIO17/PSPI2DI/SMB4DEN\"),\n\tPINCTRL_PIN(18, \"GPIO18/PSPI2D0/SMB4BSDA\"),\n\tPINCTRL_PIN(19, \"GPIO19/PSPI2CK/SMB4BSCL\"),\n\tPINCTRL_PIN(20, \"GPIO20/SMB4CSDA/SMB15SDA\"),\n\tPINCTRL_PIN(21, \"GPIO21/SMB4CSCL/SMB15SCL\"),\n\tPINCTRL_PIN(22, \"GPIO22/SMB4DSDA/SMB14SDA\"),\n\tPINCTRL_PIN(23, \"GPIO23/SMB4DSCL/SMB14SCL\"),\n\tPINCTRL_PIN(24, \"GPIO24/IOXHDO\"),\n\tPINCTRL_PIN(25, \"GPIO25/IOXHDI\"),\n\tPINCTRL_PIN(26, \"GPIO26/SMB5SDA\"),\n\tPINCTRL_PIN(27, \"GPIO27/SMB5SCL\"),\n\tPINCTRL_PIN(28, \"GPIO28/SMB4SDA\"),\n\tPINCTRL_PIN(29, \"GPIO29/SMB4SCL\"),\n\tPINCTRL_PIN(30, \"GPIO30/SMB3SDA\"),\n\tPINCTRL_PIN(31, \"GPIO31/SMB3SCL\"),\n\n\tPINCTRL_PIN(32, \"GPIO32/nSPI0CS1\"),\n\tPINCTRL_PIN(33, \"SPI0D2\"),\n\tPINCTRL_PIN(34, \"SPI0D3\"),\n\tPINCTRL_PIN(37, \"GPIO37/SMB3CSDA\"),\n\tPINCTRL_PIN(38, \"GPIO38/SMB3CSCL\"),\n\tPINCTRL_PIN(39, \"GPIO39/SMB3BSDA\"),\n\tPINCTRL_PIN(40, \"GPIO40/SMB3BSCL\"),\n\tPINCTRL_PIN(41, \"GPIO41/BSPRXD\"),\n\tPINCTRL_PIN(42, \"GPO42/BSPTXD/STRAP11\"),\n\tPINCTRL_PIN(43, \"GPIO43/RXD1/JTMS2/BU1RXD\"),\n\tPINCTRL_PIN(44, \"GPIO44/nCTS1/JTDI2/BU1CTS\"),\n\tPINCTRL_PIN(45, \"GPIO45/nDCD1/JTDO2\"),\n\tPINCTRL_PIN(46, \"GPIO46/nDSR1/JTCK2\"),\n\tPINCTRL_PIN(47, \"GPIO47/nRI1/JCP_RDY2\"),\n\tPINCTRL_PIN(48, \"GPIO48/TXD2/BSPTXD\"),\n\tPINCTRL_PIN(49, \"GPIO49/RXD2/BSPRXD\"),\n\tPINCTRL_PIN(50, \"GPIO50/nCTS2\"),\n\tPINCTRL_PIN(51, \"GPO51/nRTS2/STRAP2\"),\n\tPINCTRL_PIN(52, \"GPIO52/nDCD2\"),\n\tPINCTRL_PIN(53, \"GPO53/nDTR2_BOUT2/STRAP1\"),\n\tPINCTRL_PIN(54, \"GPIO54/nDSR2\"),\n\tPINCTRL_PIN(55, \"GPIO55/nRI2\"),\n\tPINCTRL_PIN(56, \"GPIO56/R1RXERR\"),\n\tPINCTRL_PIN(57, \"GPIO57/R1MDC\"),\n\tPINCTRL_PIN(58, \"GPIO58/R1MDIO\"),\n\tPINCTRL_PIN(59, \"GPIO59/SMB3DSDA\"),\n\tPINCTRL_PIN(60, \"GPIO60/SMB3DSCL\"),\n\tPINCTRL_PIN(61, \"GPO61/nDTR1_BOUT1/STRAP6\"),\n\tPINCTRL_PIN(62, \"GPO62/nRTST1/STRAP5\"),\n\tPINCTRL_PIN(63, \"GPO63/TXD1/STRAP4\"),\n\n\tPINCTRL_PIN(64, \"GPIO64/FANIN0\"),\n\tPINCTRL_PIN(65, \"GPIO65/FANIN1\"),\n\tPINCTRL_PIN(66, \"GPIO66/FANIN2\"),\n\tPINCTRL_PIN(67, \"GPIO67/FANIN3\"),\n\tPINCTRL_PIN(68, \"GPIO68/FANIN4\"),\n\tPINCTRL_PIN(69, \"GPIO69/FANIN5\"),\n\tPINCTRL_PIN(70, \"GPIO70/FANIN6\"),\n\tPINCTRL_PIN(71, \"GPIO71/FANIN7\"),\n\tPINCTRL_PIN(72, \"GPIO72/FANIN8\"),\n\tPINCTRL_PIN(73, \"GPIO73/FANIN9\"),\n\tPINCTRL_PIN(74, \"GPIO74/FANIN10\"),\n\tPINCTRL_PIN(75, \"GPIO75/FANIN11\"),\n\tPINCTRL_PIN(76, \"GPIO76/FANIN12\"),\n\tPINCTRL_PIN(77, \"GPIO77/FANIN13\"),\n\tPINCTRL_PIN(78, \"GPIO78/FANIN14\"),\n\tPINCTRL_PIN(79, \"GPIO79/FANIN15\"),\n\tPINCTRL_PIN(80, \"GPIO80/PWM0\"),\n\tPINCTRL_PIN(81, \"GPIO81/PWM1\"),\n\tPINCTRL_PIN(82, \"GPIO82/PWM2\"),\n\tPINCTRL_PIN(83, \"GPIO83/PWM3\"),\n\tPINCTRL_PIN(84, \"GPIO84/R2TXD0\"),\n\tPINCTRL_PIN(85, \"GPIO85/R2TXD1\"),\n\tPINCTRL_PIN(86, \"GPIO86/R2TXEN\"),\n\tPINCTRL_PIN(87, \"GPIO87/R2RXD0\"),\n\tPINCTRL_PIN(88, \"GPIO88/R2RXD1\"),\n\tPINCTRL_PIN(89, \"GPIO89/R2CRSDV\"),\n\tPINCTRL_PIN(90, \"GPIO90/R2RXERR\"),\n\tPINCTRL_PIN(91, \"GPIO91/R2MDC\"),\n\tPINCTRL_PIN(92, \"GPIO92/R2MDIO\"),\n\tPINCTRL_PIN(93, \"GPIO93/GA20/SMB5DSCL\"),\n\tPINCTRL_PIN(94, \"GPIO94/nKBRST/SMB5DSDA\"),\n\tPINCTRL_PIN(95, \"GPIO95/nLRESET/nESPIRST\"),\n\n\tPINCTRL_PIN(96, \"GPIO96/RG1TXD0\"),\n\tPINCTRL_PIN(97, \"GPIO97/RG1TXD1\"),\n\tPINCTRL_PIN(98, \"GPIO98/RG1TXD2\"),\n\tPINCTRL_PIN(99, \"GPIO99/RG1TXD3\"),\n\tPINCTRL_PIN(100, \"GPIO100/RG1TXC\"),\n\tPINCTRL_PIN(101, \"GPIO101/RG1TXCTL\"),\n\tPINCTRL_PIN(102, \"GPIO102/RG1RXD0\"),\n\tPINCTRL_PIN(103, \"GPIO103/RG1RXD1\"),\n\tPINCTRL_PIN(104, \"GPIO104/RG1RXD2\"),\n\tPINCTRL_PIN(105, \"GPIO105/RG1RXD3\"),\n\tPINCTRL_PIN(106, \"GPIO106/RG1RXC\"),\n\tPINCTRL_PIN(107, \"GPIO107/RG1RXCTL\"),\n\tPINCTRL_PIN(108, \"GPIO108/RG1MDC\"),\n\tPINCTRL_PIN(109, \"GPIO109/RG1MDIO\"),\n\tPINCTRL_PIN(110, \"GPIO110/RG2TXD0/DDRV0\"),\n\tPINCTRL_PIN(111, \"GPIO111/RG2TXD1/DDRV1\"),\n\tPINCTRL_PIN(112, \"GPIO112/RG2TXD2/DDRV2\"),\n\tPINCTRL_PIN(113, \"GPIO113/RG2TXD3/DDRV3\"),\n\tPINCTRL_PIN(114, \"GPIO114/SMB0SCL\"),\n\tPINCTRL_PIN(115, \"GPIO115/SMB0SDA\"),\n\tPINCTRL_PIN(116, \"GPIO116/SMB1SCL\"),\n\tPINCTRL_PIN(117, \"GPIO117/SMB1SDA\"),\n\tPINCTRL_PIN(118, \"GPIO118/SMB2SCL\"),\n\tPINCTRL_PIN(119, \"GPIO119/SMB2SDA\"),\n\tPINCTRL_PIN(120, \"GPIO120/SMB2CSDA\"),\n\tPINCTRL_PIN(121, \"GPIO121/SMB2CSCL\"),\n\tPINCTRL_PIN(122, \"GPIO122/SMB2BSDA\"),\n\tPINCTRL_PIN(123, \"GPIO123/SMB2BSCL\"),\n\tPINCTRL_PIN(124, \"GPIO124/SMB1CSDA\"),\n\tPINCTRL_PIN(125, \"GPIO125/SMB1CSCL\"),\n\tPINCTRL_PIN(126, \"GPIO126/SMB1BSDA\"),\n\tPINCTRL_PIN(127, \"GPIO127/SMB1BSCL\"),\n\n\tPINCTRL_PIN(128, \"GPIO128/SMB8SCL\"),\n\tPINCTRL_PIN(129, \"GPIO129/SMB8SDA\"),\n\tPINCTRL_PIN(130, \"GPIO130/SMB9SCL\"),\n\tPINCTRL_PIN(131, \"GPIO131/SMB9SDA\"),\n\tPINCTRL_PIN(132, \"GPIO132/SMB10SCL\"),\n\tPINCTRL_PIN(133, \"GPIO133/SMB10SDA\"),\n\tPINCTRL_PIN(134, \"GPIO134/SMB11SCL\"),\n\tPINCTRL_PIN(135, \"GPIO135/SMB11SDA\"),\n\tPINCTRL_PIN(136, \"GPIO136/SD1DT0\"),\n\tPINCTRL_PIN(137, \"GPIO137/SD1DT1\"),\n\tPINCTRL_PIN(138, \"GPIO138/SD1DT2\"),\n\tPINCTRL_PIN(139, \"GPIO139/SD1DT3\"),\n\tPINCTRL_PIN(140, \"GPIO140/SD1CLK\"),\n\tPINCTRL_PIN(141, \"GPIO141/SD1WP\"),\n\tPINCTRL_PIN(142, \"GPIO142/SD1CMD\"),\n\tPINCTRL_PIN(143, \"GPIO143/SD1CD/SD1PWR\"),\n\tPINCTRL_PIN(144, \"GPIO144/PWM4\"),\n\tPINCTRL_PIN(145, \"GPIO145/PWM5\"),\n\tPINCTRL_PIN(146, \"GPIO146/PWM6\"),\n\tPINCTRL_PIN(147, \"GPIO147/PWM7\"),\n\tPINCTRL_PIN(148, \"GPIO148/MMCDT4\"),\n\tPINCTRL_PIN(149, \"GPIO149/MMCDT5\"),\n\tPINCTRL_PIN(150, \"GPIO150/MMCDT6\"),\n\tPINCTRL_PIN(151, \"GPIO151/MMCDT7\"),\n\tPINCTRL_PIN(152, \"GPIO152/MMCCLK\"),\n\tPINCTRL_PIN(153, \"GPIO153/MMCWP\"),\n\tPINCTRL_PIN(154, \"GPIO154/MMCCMD\"),\n\tPINCTRL_PIN(155, \"GPIO155/nMMCCD/nMMCRST\"),\n\tPINCTRL_PIN(156, \"GPIO156/MMCDT0\"),\n\tPINCTRL_PIN(157, \"GPIO157/MMCDT1\"),\n\tPINCTRL_PIN(158, \"GPIO158/MMCDT2\"),\n\tPINCTRL_PIN(159, \"GPIO159/MMCDT3\"),\n\n\tPINCTRL_PIN(160, \"GPIO160/CLKOUT/RNGOSCOUT\"),\n\tPINCTRL_PIN(161, \"GPIO161/nLFRAME/nESPICS\"),\n\tPINCTRL_PIN(162, \"GPIO162/SERIRQ\"),\n\tPINCTRL_PIN(163, \"GPIO163/LCLK/ESPICLK\"),\n\tPINCTRL_PIN(164, \"GPIO164/LAD0/ESPI_IO0\" ),\n\tPINCTRL_PIN(165, \"GPIO165/LAD1/ESPI_IO1\" ),\n\tPINCTRL_PIN(166, \"GPIO166/LAD2/ESPI_IO2\" ),\n\tPINCTRL_PIN(167, \"GPIO167/LAD3/ESPI_IO3\" ),\n\tPINCTRL_PIN(168, \"GPIO168/nCLKRUN/nESPIALERT\"),\n\tPINCTRL_PIN(169, \"GPIO169/nSCIPME\"),\n\tPINCTRL_PIN(170, \"GPIO170/nSMI\"),\n\tPINCTRL_PIN(171, \"GPIO171/SMB6SCL\"),\n\tPINCTRL_PIN(172, \"GPIO172/SMB6SDA\"),\n\tPINCTRL_PIN(173, \"GPIO173/SMB7SCL\"),\n\tPINCTRL_PIN(174, \"GPIO174/SMB7SDA\"),\n\tPINCTRL_PIN(175, \"GPIO175/PSPI1CK/FANIN19\"),\n\tPINCTRL_PIN(176, \"GPIO176/PSPI1DO/FANIN18\"),\n\tPINCTRL_PIN(177, \"GPIO177/PSPI1DI/FANIN17\"),\n\tPINCTRL_PIN(178, \"GPIO178/R1TXD0\"),\n\tPINCTRL_PIN(179, \"GPIO179/R1TXD1\"),\n\tPINCTRL_PIN(180, \"GPIO180/R1TXEN\"),\n\tPINCTRL_PIN(181, \"GPIO181/R1RXD0\"),\n\tPINCTRL_PIN(182, \"GPIO182/R1RXD1\"),\n\tPINCTRL_PIN(183, \"GPIO183/SPI3CK\"),\n\tPINCTRL_PIN(184, \"GPO184/SPI3D0/STRAP9\"),\n\tPINCTRL_PIN(185, \"GPO185/SPI3D1/STRAP10\"),\n\tPINCTRL_PIN(186, \"GPIO186/nSPI3CS0\"),\n\tPINCTRL_PIN(187, \"GPIO187/nSPI3CS1\"),\n\tPINCTRL_PIN(188, \"GPIO188/SPI3D2/nSPI3CS2\"),\n\tPINCTRL_PIN(189, \"GPIO189/SPI3D3/nSPI3CS3\"),\n\tPINCTRL_PIN(190, \"GPIO190/nPRD_SMI\"),\n\tPINCTRL_PIN(191, \"GPIO191\"),\n\n\tPINCTRL_PIN(192, \"GPIO192\"),\n\tPINCTRL_PIN(193, \"GPIO193/R1CRSDV\"),\n\tPINCTRL_PIN(194, \"GPIO194/SMB0BSCL\"),\n\tPINCTRL_PIN(195, \"GPIO195/SMB0BSDA\"),\n\tPINCTRL_PIN(196, \"GPIO196/SMB0CSCL\"),\n\tPINCTRL_PIN(197, \"GPIO197/SMB0DEN\"),\n\tPINCTRL_PIN(198, \"GPIO198/SMB0DSDA\"),\n\tPINCTRL_PIN(199, \"GPIO199/SMB0DSCL\"),\n\tPINCTRL_PIN(200, \"GPIO200/R2CK\"),\n\tPINCTRL_PIN(201, \"GPIO201/R1CK\"),\n\tPINCTRL_PIN(202, \"GPIO202/SMB0CSDA\"),\n\tPINCTRL_PIN(203, \"GPIO203/FANIN16\"),\n\tPINCTRL_PIN(204, \"GPIO204/DDC2SCL\"),\n\tPINCTRL_PIN(205, \"GPIO205/DDC2SDA\"),\n\tPINCTRL_PIN(206, \"GPIO206/HSYNC2\"),\n\tPINCTRL_PIN(207, \"GPIO207/VSYNC2\"),\n\tPINCTRL_PIN(208, \"GPIO208/RG2TXC/DVCK\"),\n\tPINCTRL_PIN(209, \"GPIO209/RG2TXCTL/DDRV4\"),\n\tPINCTRL_PIN(210, \"GPIO210/RG2RXD0/DDRV5\"),\n\tPINCTRL_PIN(211, \"GPIO211/RG2RXD1/DDRV6\"),\n\tPINCTRL_PIN(212, \"GPIO212/RG2RXD2/DDRV7\"),\n\tPINCTRL_PIN(213, \"GPIO213/RG2RXD3/DDRV8\"),\n\tPINCTRL_PIN(214, \"GPIO214/RG2RXC/DDRV9\"),\n\tPINCTRL_PIN(215, \"GPIO215/RG2RXCTL/DDRV10\"),\n\tPINCTRL_PIN(216, \"GPIO216/RG2MDC/DDRV11\"),\n\tPINCTRL_PIN(217, \"GPIO217/RG2MDIO/DVHSYNC\"),\n\tPINCTRL_PIN(218, \"GPIO218/nWDO1\"),\n\tPINCTRL_PIN(219, \"GPIO219/nWDO2\"),\n\tPINCTRL_PIN(220, \"GPIO220/SMB12SCL\"),\n\tPINCTRL_PIN(221, \"GPIO221/SMB12SDA\"),\n\tPINCTRL_PIN(222, \"GPIO222/SMB13SCL\"),\n\tPINCTRL_PIN(223, \"GPIO223/SMB13SDA\"),\n\n\tPINCTRL_PIN(224, \"GPIO224/SPIXCK\"),\n\tPINCTRL_PIN(225, \"GPO225/SPIXD0/STRAP12\"),\n\tPINCTRL_PIN(226, \"GPO226/SPIXD1/STRAP13\"),\n\tPINCTRL_PIN(227, \"GPIO227/nSPIXCS0\"),\n\tPINCTRL_PIN(228, \"GPIO228/nSPIXCS1\"),\n\tPINCTRL_PIN(229, \"GPO229/SPIXD2/STRAP3\"),\n\tPINCTRL_PIN(230, \"GPIO230/SPIXD3\"),\n\tPINCTRL_PIN(231, \"GPIO231/nCLKREQ\"),\n\tPINCTRL_PIN(255, \"GPI255/DACOSEL\"),\n};\n\n \nstatic void npcm7xx_setfunc(struct regmap *gcr_regmap, const unsigned int *pin,\n\t\t\t    int pin_number, int mode)\n{\n\tconst struct npcm7xx_pincfg *cfg;\n\tint i;\n\n\tfor (i = 0 ; i < pin_number ; i++) {\n\t\tcfg = &pincfg[pin[i]];\n\t\tif (mode == fn_gpio || cfg->fn0 == mode || cfg->fn1 == mode || cfg->fn2 == mode) {\n\t\t\tif (cfg->reg0)\n\t\t\t\tregmap_update_bits(gcr_regmap, cfg->reg0,\n\t\t\t\t\t\t   BIT(cfg->bit0),\n\t\t\t\t\t\t   !!(cfg->fn0 == mode) ?\n\t\t\t\t\t\t   BIT(cfg->bit0) : 0);\n\t\t\tif (cfg->reg1)\n\t\t\t\tregmap_update_bits(gcr_regmap, cfg->reg1,\n\t\t\t\t\t\t   BIT(cfg->bit1),\n\t\t\t\t\t\t   !!(cfg->fn1 == mode) ?\n\t\t\t\t\t\t   BIT(cfg->bit1) : 0);\n\t\t\tif (cfg->reg2)\n\t\t\t\tregmap_update_bits(gcr_regmap, cfg->reg2,\n\t\t\t\t\t\t   BIT(cfg->bit2),\n\t\t\t\t\t\t   !!(cfg->fn2 == mode) ?\n\t\t\t\t\t\t   BIT(cfg->bit2) : 0);\n\t\t}\n\t}\n}\n\n \nstatic int npcm7xx_get_slew_rate(struct npcm7xx_gpio *bank,\n\t\t\t\t struct regmap *gcr_regmap, unsigned int pin)\n{\n\tu32 val;\n\tint gpio = (pin % bank->gc.ngpio);\n\tunsigned long pinmask = BIT(gpio);\n\n\tif (pincfg[pin].flag & SLEW)\n\t\treturn ioread32(bank->base + NPCM7XX_GP_N_OSRC)\n\t\t& pinmask;\n\t \n\tif (pincfg[pin].flag & SLEWLPC) {\n\t\tregmap_read(gcr_regmap, NPCM7XX_GCR_SRCNT, &val);\n\t\treturn !!(val & SRCNT_ESPI);\n\t}\n\n\treturn -EINVAL;\n}\n\n \nstatic int npcm7xx_set_slew_rate(struct npcm7xx_gpio *bank,\n\t\t\t\t struct regmap *gcr_regmap, unsigned int pin,\n\t\t\t\t int arg)\n{\n\tint gpio = BIT(pin % bank->gc.ngpio);\n\n\tif (pincfg[pin].flag & SLEW) {\n\t\tswitch (arg) {\n\t\tcase 0:\n\t\t\tnpcm_gpio_clr(&bank->gc, bank->base + NPCM7XX_GP_N_OSRC,\n\t\t\t\t      gpio);\n\t\t\treturn 0;\n\t\tcase 1:\n\t\t\tnpcm_gpio_set(&bank->gc, bank->base + NPCM7XX_GP_N_OSRC,\n\t\t\t\t      gpio);\n\t\t\treturn 0;\n\t\tdefault:\n\t\t\treturn -EINVAL;\n\t\t}\n\t}\n\t \n\tif (pincfg[pin].flag & SLEWLPC) {\n\t\tswitch (arg) {\n\t\tcase 0:\n\t\t\tregmap_update_bits(gcr_regmap, NPCM7XX_GCR_SRCNT,\n\t\t\t\t\t   SRCNT_ESPI, 0);\n\t\t\treturn 0;\n\t\tcase 1:\n\t\t\tregmap_update_bits(gcr_regmap, NPCM7XX_GCR_SRCNT,\n\t\t\t\t\t   SRCNT_ESPI, SRCNT_ESPI);\n\t\t\treturn 0;\n\t\tdefault:\n\t\t\treturn -EINVAL;\n\t\t}\n\t}\n\n\treturn -EINVAL;\n}\n\n \nstatic int npcm7xx_get_drive_strength(struct pinctrl_dev *pctldev,\n\t\t\t\t      unsigned int pin)\n{\n\tstruct npcm7xx_pinctrl *npcm = pinctrl_dev_get_drvdata(pctldev);\n\tstruct npcm7xx_gpio *bank =\n\t\t&npcm->gpio_bank[pin / NPCM7XX_GPIO_PER_BANK];\n\tint gpio = (pin % bank->gc.ngpio);\n\tunsigned long pinmask = BIT(gpio);\n\tu32 ds = 0;\n\tint flg, val;\n\n\tflg = pincfg[pin].flag;\n\tif (flg & DRIVE_STRENGTH_MASK) {\n\t\t \n\t\tval = ioread32(bank->base + NPCM7XX_GP_N_ODSC)\n\t\t& pinmask;\n\t\tds = val ? DSHI(flg) : DSLO(flg);\n\t\tdev_dbg(bank->gc.parent,\n\t\t\t\"pin %d strength %d = %d\\n\", pin, val, ds);\n\t\treturn ds;\n\t}\n\n\treturn -EINVAL;\n}\n\n \nstatic int npcm7xx_set_drive_strength(struct npcm7xx_pinctrl *npcm,\n\t\t\t\t      unsigned int pin, int nval)\n{\n\tint v;\n\tstruct npcm7xx_gpio *bank =\n\t\t&npcm->gpio_bank[pin / NPCM7XX_GPIO_PER_BANK];\n\tint gpio = BIT(pin % bank->gc.ngpio);\n\n\tv = (pincfg[pin].flag & DRIVE_STRENGTH_MASK);\n\tif (!nval || !v)\n\t\treturn -ENOTSUPP;\n\tif (DSLO(v) == nval) {\n\t\tdev_dbg(bank->gc.parent,\n\t\t\t\"setting pin %d to low strength [%d]\\n\", pin, nval);\n\t\tnpcm_gpio_clr(&bank->gc, bank->base + NPCM7XX_GP_N_ODSC, gpio);\n\t\treturn 0;\n\t} else if (DSHI(v) == nval) {\n\t\tdev_dbg(bank->gc.parent,\n\t\t\t\"setting pin %d to high strength [%d]\\n\", pin, nval);\n\t\tnpcm_gpio_set(&bank->gc, bank->base + NPCM7XX_GP_N_ODSC, gpio);\n\t\treturn 0;\n\t}\n\n\treturn -ENOTSUPP;\n}\n\n \nstatic void npcm7xx_pin_dbg_show(struct pinctrl_dev *pctldev,\n\t\t\t\t struct seq_file *s, unsigned int offset)\n{\n\tseq_printf(s, \"pinctrl_ops.dbg: %d\", offset);\n}\n\nstatic int npcm7xx_get_groups_count(struct pinctrl_dev *pctldev)\n{\n\tstruct npcm7xx_pinctrl *npcm = pinctrl_dev_get_drvdata(pctldev);\n\n\tdev_dbg(npcm->dev, \"group size: %zu\\n\", ARRAY_SIZE(npcm7xx_groups));\n\treturn ARRAY_SIZE(npcm7xx_groups);\n}\n\nstatic const char *npcm7xx_get_group_name(struct pinctrl_dev *pctldev,\n\t\t\t\t\t  unsigned int selector)\n{\n\treturn npcm7xx_groups[selector].name;\n}\n\nstatic int npcm7xx_get_group_pins(struct pinctrl_dev *pctldev,\n\t\t\t\t  unsigned int selector,\n\t\t\t\t  const unsigned int **pins,\n\t\t\t\t  unsigned int *npins)\n{\n\t*npins = npcm7xx_groups[selector].npins;\n\t*pins  = npcm7xx_groups[selector].pins;\n\n\treturn 0;\n}\n\nstatic int npcm7xx_dt_node_to_map(struct pinctrl_dev *pctldev,\n\t\t\t\t  struct device_node *np_config,\n\t\t\t\t  struct pinctrl_map **map,\n\t\t\t\t  u32 *num_maps)\n{\n\tstruct npcm7xx_pinctrl *npcm = pinctrl_dev_get_drvdata(pctldev);\n\n\tdev_dbg(npcm->dev, \"dt_node_to_map: %s\\n\", np_config->name);\n\treturn pinconf_generic_dt_node_to_map(pctldev, np_config,\n\t\t\t\t\t      map, num_maps,\n\t\t\t\t\t      PIN_MAP_TYPE_INVALID);\n}\n\nstatic void npcm7xx_dt_free_map(struct pinctrl_dev *pctldev,\n\t\t\t\tstruct pinctrl_map *map, u32 num_maps)\n{\n\tkfree(map);\n}\n\nstatic const struct pinctrl_ops npcm7xx_pinctrl_ops = {\n\t.get_groups_count = npcm7xx_get_groups_count,\n\t.get_group_name = npcm7xx_get_group_name,\n\t.get_group_pins = npcm7xx_get_group_pins,\n\t.pin_dbg_show = npcm7xx_pin_dbg_show,\n\t.dt_node_to_map = npcm7xx_dt_node_to_map,\n\t.dt_free_map = npcm7xx_dt_free_map,\n};\n\n \nstatic int npcm7xx_get_functions_count(struct pinctrl_dev *pctldev)\n{\n\treturn ARRAY_SIZE(npcm7xx_funcs);\n}\n\nstatic const char *npcm7xx_get_function_name(struct pinctrl_dev *pctldev,\n\t\t\t\t\t     unsigned int function)\n{\n\treturn npcm7xx_funcs[function].name;\n}\n\nstatic int npcm7xx_get_function_groups(struct pinctrl_dev *pctldev,\n\t\t\t\t       unsigned int function,\n\t\t\t\t       const char * const **groups,\n\t\t\t\t       unsigned int * const ngroups)\n{\n\t*ngroups = npcm7xx_funcs[function].ngroups;\n\t*groups\t = npcm7xx_funcs[function].groups;\n\n\treturn 0;\n}\n\nstatic int npcm7xx_pinmux_set_mux(struct pinctrl_dev *pctldev,\n\t\t\t\t  unsigned int function,\n\t\t\t\t  unsigned int group)\n{\n\tstruct npcm7xx_pinctrl *npcm = pinctrl_dev_get_drvdata(pctldev);\n\n\tdev_dbg(npcm->dev, \"set_mux: %d, %d[%s]\\n\", function, group,\n\t\tnpcm7xx_groups[group].name);\n\n\tnpcm7xx_setfunc(npcm->gcr_regmap, npcm7xx_groups[group].pins,\n\t\t\tnpcm7xx_groups[group].npins, group);\n\n\treturn 0;\n}\n\nstatic int npcm7xx_gpio_request_enable(struct pinctrl_dev *pctldev,\n\t\t\t\t       struct pinctrl_gpio_range *range,\n\t\t\t\t       unsigned int offset)\n{\n\tstruct npcm7xx_pinctrl *npcm = pinctrl_dev_get_drvdata(pctldev);\n\n\tif (!range) {\n\t\tdev_err(npcm->dev, \"invalid range\\n\");\n\t\treturn -EINVAL;\n\t}\n\tif (!range->gc) {\n\t\tdev_err(npcm->dev, \"invalid gpiochip\\n\");\n\t\treturn -EINVAL;\n\t}\n\n\tnpcm7xx_setfunc(npcm->gcr_regmap, &offset, 1, fn_gpio);\n\n\treturn 0;\n}\n\n \nstatic void npcm7xx_gpio_request_free(struct pinctrl_dev *pctldev,\n\t\t\t\t      struct pinctrl_gpio_range *range,\n\t\t\t\t      unsigned int offset)\n{\n\tstruct npcm7xx_pinctrl *npcm = pinctrl_dev_get_drvdata(pctldev);\n\tint virq;\n\n\tvirq = irq_find_mapping(npcm->domain, offset);\n\tif (virq)\n\t\tirq_dispose_mapping(virq);\n}\n\n \nstatic int npcm_gpio_set_direction(struct pinctrl_dev *pctldev,\n\t\t\t\t   struct pinctrl_gpio_range *range,\n\t\t\t\t   unsigned int offset, bool input)\n{\n\tstruct npcm7xx_pinctrl *npcm = pinctrl_dev_get_drvdata(pctldev);\n\tstruct npcm7xx_gpio *bank =\n\t\t&npcm->gpio_bank[offset / NPCM7XX_GPIO_PER_BANK];\n\tint gpio = BIT(offset % bank->gc.ngpio);\n\n\tdev_dbg(bank->gc.parent, \"GPIO Set Direction: %d = %d\\n\", offset,\n\t\tinput);\n\tif (input)\n\t\tiowrite32(gpio, bank->base + NPCM7XX_GP_N_OEC);\n\telse\n\t\tiowrite32(gpio, bank->base + NPCM7XX_GP_N_OES);\n\n\treturn 0;\n}\n\nstatic const struct pinmux_ops npcm7xx_pinmux_ops = {\n\t.get_functions_count = npcm7xx_get_functions_count,\n\t.get_function_name = npcm7xx_get_function_name,\n\t.get_function_groups = npcm7xx_get_function_groups,\n\t.set_mux = npcm7xx_pinmux_set_mux,\n\t.gpio_request_enable = npcm7xx_gpio_request_enable,\n\t.gpio_disable_free = npcm7xx_gpio_request_free,\n\t.gpio_set_direction = npcm_gpio_set_direction,\n};\n\n \nstatic int npcm7xx_config_get(struct pinctrl_dev *pctldev, unsigned int pin,\n\t\t\t      unsigned long *config)\n{\n\tenum pin_config_param param = pinconf_to_config_param(*config);\n\tstruct npcm7xx_pinctrl *npcm = pinctrl_dev_get_drvdata(pctldev);\n\tstruct npcm7xx_gpio *bank =\n\t\t&npcm->gpio_bank[pin / NPCM7XX_GPIO_PER_BANK];\n\tint gpio = (pin % bank->gc.ngpio);\n\tunsigned long pinmask = BIT(gpio);\n\tu32 ie, oe, pu, pd;\n\tint rc = 0;\n\n\tswitch (param) {\n\tcase PIN_CONFIG_BIAS_DISABLE:\n\tcase PIN_CONFIG_BIAS_PULL_UP:\n\tcase PIN_CONFIG_BIAS_PULL_DOWN:\n\t\tpu = ioread32(bank->base + NPCM7XX_GP_N_PU) & pinmask;\n\t\tpd = ioread32(bank->base + NPCM7XX_GP_N_PD) & pinmask;\n\t\tif (param == PIN_CONFIG_BIAS_DISABLE)\n\t\t\trc = (!pu && !pd);\n\t\telse if (param == PIN_CONFIG_BIAS_PULL_UP)\n\t\t\trc = (pu && !pd);\n\t\telse if (param == PIN_CONFIG_BIAS_PULL_DOWN)\n\t\t\trc = (!pu && pd);\n\t\tbreak;\n\tcase PIN_CONFIG_OUTPUT:\n\tcase PIN_CONFIG_INPUT_ENABLE:\n\t\tie = ioread32(bank->base + NPCM7XX_GP_N_IEM) & pinmask;\n\t\toe = ioread32(bank->base + NPCM7XX_GP_N_OE) & pinmask;\n\t\tif (param == PIN_CONFIG_INPUT_ENABLE)\n\t\t\trc = (ie && !oe);\n\t\telse if (param == PIN_CONFIG_OUTPUT)\n\t\t\trc = (!ie && oe);\n\t\tbreak;\n\tcase PIN_CONFIG_DRIVE_PUSH_PULL:\n\t\trc = !(ioread32(bank->base + NPCM7XX_GP_N_OTYP) & pinmask);\n\t\tbreak;\n\tcase PIN_CONFIG_DRIVE_OPEN_DRAIN:\n\t\trc = ioread32(bank->base + NPCM7XX_GP_N_OTYP) & pinmask;\n\t\tbreak;\n\tcase PIN_CONFIG_INPUT_DEBOUNCE:\n\t\trc = ioread32(bank->base + NPCM7XX_GP_N_DBNC) & pinmask;\n\t\tbreak;\n\tcase PIN_CONFIG_DRIVE_STRENGTH:\n\t\trc = npcm7xx_get_drive_strength(pctldev, pin);\n\t\tif (rc)\n\t\t\t*config = pinconf_to_config_packed(param, rc);\n\t\tbreak;\n\tcase PIN_CONFIG_SLEW_RATE:\n\t\trc = npcm7xx_get_slew_rate(bank, npcm->gcr_regmap, pin);\n\t\tif (rc >= 0)\n\t\t\t*config = pinconf_to_config_packed(param, rc);\n\t\tbreak;\n\tdefault:\n\t\treturn -ENOTSUPP;\n\t}\n\n\tif (!rc)\n\t\treturn -EINVAL;\n\n\treturn 0;\n}\n\nstatic int npcm7xx_config_set_one(struct npcm7xx_pinctrl *npcm,\n\t\t\t\t  unsigned int pin, unsigned long config)\n{\n\tenum pin_config_param param = pinconf_to_config_param(config);\n\tu16 arg = pinconf_to_config_argument(config);\n\tstruct npcm7xx_gpio *bank =\n\t\t&npcm->gpio_bank[pin / NPCM7XX_GPIO_PER_BANK];\n\tint gpio = BIT(pin % bank->gc.ngpio);\n\n\tdev_dbg(bank->gc.parent, \"param=%d %d[GPIO]\\n\", param, pin);\n\tswitch (param) {\n\tcase PIN_CONFIG_BIAS_DISABLE:\n\t\tnpcm_gpio_clr(&bank->gc, bank->base + NPCM7XX_GP_N_PU, gpio);\n\t\tnpcm_gpio_clr(&bank->gc, bank->base + NPCM7XX_GP_N_PD, gpio);\n\t\tbreak;\n\tcase PIN_CONFIG_BIAS_PULL_DOWN:\n\t\tnpcm_gpio_clr(&bank->gc, bank->base + NPCM7XX_GP_N_PU, gpio);\n\t\tnpcm_gpio_set(&bank->gc, bank->base + NPCM7XX_GP_N_PD, gpio);\n\t\tbreak;\n\tcase PIN_CONFIG_BIAS_PULL_UP:\n\t\tnpcm_gpio_clr(&bank->gc, bank->base + NPCM7XX_GP_N_PD, gpio);\n\t\tnpcm_gpio_set(&bank->gc, bank->base + NPCM7XX_GP_N_PU, gpio);\n\t\tbreak;\n\tcase PIN_CONFIG_INPUT_ENABLE:\n\t\tiowrite32(gpio, bank->base + NPCM7XX_GP_N_OEC);\n\t\tbank->direction_input(&bank->gc, pin % bank->gc.ngpio);\n\t\tbreak;\n\tcase PIN_CONFIG_OUTPUT:\n\t\tiowrite32(gpio, bank->base + NPCM7XX_GP_N_OES);\n\t\tbank->direction_output(&bank->gc, pin % bank->gc.ngpio, arg);\n\t\tbreak;\n\tcase PIN_CONFIG_DRIVE_PUSH_PULL:\n\t\tnpcm_gpio_clr(&bank->gc, bank->base + NPCM7XX_GP_N_OTYP, gpio);\n\t\tbreak;\n\tcase PIN_CONFIG_DRIVE_OPEN_DRAIN:\n\t\tnpcm_gpio_set(&bank->gc, bank->base + NPCM7XX_GP_N_OTYP, gpio);\n\t\tbreak;\n\tcase PIN_CONFIG_INPUT_DEBOUNCE:\n\t\tnpcm_gpio_set(&bank->gc, bank->base + NPCM7XX_GP_N_DBNC, gpio);\n\t\tbreak;\n\tcase PIN_CONFIG_SLEW_RATE:\n\t\treturn npcm7xx_set_slew_rate(bank, npcm->gcr_regmap, pin, arg);\n\tcase PIN_CONFIG_DRIVE_STRENGTH:\n\t\treturn npcm7xx_set_drive_strength(npcm, pin, arg);\n\tdefault:\n\t\treturn -ENOTSUPP;\n\t}\n\n\treturn 0;\n}\n\n \nstatic int npcm7xx_config_set(struct pinctrl_dev *pctldev, unsigned int pin,\n\t\t\t      unsigned long *configs, unsigned int num_configs)\n{\n\tstruct npcm7xx_pinctrl *npcm = pinctrl_dev_get_drvdata(pctldev);\n\tint rc;\n\n\twhile (num_configs--) {\n\t\trc = npcm7xx_config_set_one(npcm, pin, *configs++);\n\t\tif (rc)\n\t\t\treturn rc;\n\t}\n\n\treturn 0;\n}\n\nstatic const struct pinconf_ops npcm7xx_pinconf_ops = {\n\t.is_generic = true,\n\t.pin_config_get = npcm7xx_config_get,\n\t.pin_config_set = npcm7xx_config_set,\n};\n\n \nstatic struct pinctrl_desc npcm7xx_pinctrl_desc = {\n\t.name = \"npcm7xx-pinctrl\",\n\t.pins = npcm7xx_pins,\n\t.npins = ARRAY_SIZE(npcm7xx_pins),\n\t.pctlops = &npcm7xx_pinctrl_ops,\n\t.pmxops = &npcm7xx_pinmux_ops,\n\t.confops = &npcm7xx_pinconf_ops,\n\t.owner = THIS_MODULE,\n};\n\nstatic int npcm7xx_gpio_of(struct npcm7xx_pinctrl *pctrl)\n{\n\tint ret = -ENXIO;\n\tstruct resource res;\n\tstruct device *dev = pctrl->dev;\n\tstruct fwnode_reference_args args;\n\tstruct fwnode_handle *child;\n\tint id = 0;\n\n\tfor_each_gpiochip_node(dev, child) {\n\t\tstruct device_node *np = to_of_node(child);\n\n\t\tret = of_address_to_resource(np, 0, &res);\n\t\tif (ret < 0) {\n\t\t\tdev_err(dev, \"Resource fail for GPIO bank %u\\n\", id);\n\t\t\treturn ret;\n\t\t}\n\n\t\tpctrl->gpio_bank[id].base = ioremap(res.start, resource_size(&res));\n\t\tif (!pctrl->gpio_bank[id].base)\n\t\t\treturn -EINVAL;\n\n\t\tret = bgpio_init(&pctrl->gpio_bank[id].gc, dev, 4,\n\t\t\t\t pctrl->gpio_bank[id].base + NPCM7XX_GP_N_DIN,\n\t\t\t\t pctrl->gpio_bank[id].base + NPCM7XX_GP_N_DOUT,\n\t\t\t\t NULL,\n\t\t\t\t NULL,\n\t\t\t\t pctrl->gpio_bank[id].base + NPCM7XX_GP_N_IEM,\n\t\t\t\t BGPIOF_READ_OUTPUT_REG_SET);\n\t\tif (ret) {\n\t\t\tdev_err(dev, \"bgpio_init() failed\\n\");\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = fwnode_property_get_reference_args(child, \"gpio-ranges\", NULL, 3, 0, &args);\n\t\tif (ret < 0) {\n\t\t\tdev_err(dev, \"gpio-ranges fail for GPIO bank %u\\n\", id);\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = irq_of_parse_and_map(np, 0);\n\t\tif (!ret) {\n\t\t\tdev_err(dev, \"No IRQ for GPIO bank %u\\n\", id);\n\t\t\treturn -EINVAL;\n\t\t}\n\t\tpctrl->gpio_bank[id].irq = ret;\n\t\tpctrl->gpio_bank[id].irqbase = id * NPCM7XX_GPIO_PER_BANK;\n\t\tpctrl->gpio_bank[id].pinctrl_id = args.args[0];\n\t\tpctrl->gpio_bank[id].gc.base = args.args[1];\n\t\tpctrl->gpio_bank[id].gc.ngpio = args.args[2];\n\t\tpctrl->gpio_bank[id].gc.owner = THIS_MODULE;\n\t\tpctrl->gpio_bank[id].gc.parent = dev;\n\t\tpctrl->gpio_bank[id].gc.fwnode = child;\n\t\tpctrl->gpio_bank[id].gc.label = devm_kasprintf(dev, GFP_KERNEL, \"%pfw\", child);\n\t\tif (pctrl->gpio_bank[id].gc.label == NULL)\n\t\t\treturn -ENOMEM;\n\n\t\tpctrl->gpio_bank[id].gc.dbg_show = npcmgpio_dbg_show;\n\t\tpctrl->gpio_bank[id].direction_input = pctrl->gpio_bank[id].gc.direction_input;\n\t\tpctrl->gpio_bank[id].gc.direction_input = npcmgpio_direction_input;\n\t\tpctrl->gpio_bank[id].direction_output = pctrl->gpio_bank[id].gc.direction_output;\n\t\tpctrl->gpio_bank[id].gc.direction_output = npcmgpio_direction_output;\n\t\tpctrl->gpio_bank[id].request = pctrl->gpio_bank[id].gc.request;\n\t\tpctrl->gpio_bank[id].gc.request = npcmgpio_gpio_request;\n\t\tpctrl->gpio_bank[id].gc.free = npcmgpio_gpio_free;\n\t\tid++;\n\t}\n\n\tpctrl->bank_num = id;\n\treturn ret;\n}\n\nstatic int npcm7xx_gpio_register(struct npcm7xx_pinctrl *pctrl)\n{\n\tint ret, id;\n\n\tfor (id = 0 ; id < pctrl->bank_num ; id++) {\n\t\tstruct gpio_irq_chip *girq;\n\n\t\tgirq = &pctrl->gpio_bank[id].gc.irq;\n\t\tgpio_irq_chip_set_chip(girq, &npcmgpio_irqchip);\n\t\tgirq->parent_handler = npcmgpio_irq_handler;\n\t\tgirq->num_parents = 1;\n\t\tgirq->parents = devm_kcalloc(pctrl->dev, 1,\n\t\t\t\t\t     sizeof(*girq->parents),\n\t\t\t\t\t     GFP_KERNEL);\n\t\tif (!girq->parents) {\n\t\t\tret = -ENOMEM;\n\t\t\tgoto err_register;\n\t\t}\n\t\tgirq->parents[0] = pctrl->gpio_bank[id].irq;\n\t\tgirq->default_type = IRQ_TYPE_NONE;\n\t\tgirq->handler = handle_level_irq;\n\t\tret = devm_gpiochip_add_data(pctrl->dev,\n\t\t\t\t\t     &pctrl->gpio_bank[id].gc,\n\t\t\t\t\t     &pctrl->gpio_bank[id]);\n\t\tif (ret) {\n\t\t\tdev_err(pctrl->dev, \"Failed to add GPIO chip %u\\n\", id);\n\t\t\tgoto err_register;\n\t\t}\n\n\t\tret = gpiochip_add_pin_range(&pctrl->gpio_bank[id].gc,\n\t\t\t\t\t     dev_name(pctrl->dev),\n\t\t\t\t\t     pctrl->gpio_bank[id].pinctrl_id,\n\t\t\t\t\t     pctrl->gpio_bank[id].gc.base,\n\t\t\t\t\t     pctrl->gpio_bank[id].gc.ngpio);\n\t\tif (ret < 0) {\n\t\t\tdev_err(pctrl->dev, \"Failed to add GPIO bank %u\\n\", id);\n\t\t\tgpiochip_remove(&pctrl->gpio_bank[id].gc);\n\t\t\tgoto err_register;\n\t\t}\n\t}\n\n\treturn 0;\n\nerr_register:\n\tfor (; id > 0; id--)\n\t\tgpiochip_remove(&pctrl->gpio_bank[id - 1].gc);\n\n\treturn ret;\n}\n\nstatic int npcm7xx_pinctrl_probe(struct platform_device *pdev)\n{\n\tstruct npcm7xx_pinctrl *pctrl;\n\tint ret;\n\n\tpctrl = devm_kzalloc(&pdev->dev, sizeof(*pctrl), GFP_KERNEL);\n\tif (!pctrl)\n\t\treturn -ENOMEM;\n\n\tpctrl->dev = &pdev->dev;\n\tdev_set_drvdata(&pdev->dev, pctrl);\n\n\tpctrl->gcr_regmap =\n\t\tsyscon_regmap_lookup_by_compatible(\"nuvoton,npcm750-gcr\");\n\tif (IS_ERR(pctrl->gcr_regmap)) {\n\t\tdev_err(pctrl->dev, \"didn't find nuvoton,npcm750-gcr\\n\");\n\t\treturn PTR_ERR(pctrl->gcr_regmap);\n\t}\n\n\tret = npcm7xx_gpio_of(pctrl);\n\tif (ret < 0) {\n\t\tdev_err(pctrl->dev, \"Failed to gpio dt-binding %u\\n\", ret);\n\t\treturn ret;\n\t}\n\n\tpctrl->pctldev = devm_pinctrl_register(&pdev->dev,\n\t\t\t\t\t       &npcm7xx_pinctrl_desc, pctrl);\n\tif (IS_ERR(pctrl->pctldev)) {\n\t\tdev_err(&pdev->dev, \"Failed to register pinctrl device\\n\");\n\t\treturn PTR_ERR(pctrl->pctldev);\n\t}\n\n\tret = npcm7xx_gpio_register(pctrl);\n\tif (ret < 0) {\n\t\tdev_err(pctrl->dev, \"Failed to register gpio %u\\n\", ret);\n\t\treturn ret;\n\t}\n\n\tpr_info(\"NPCM7xx Pinctrl driver probed\\n\");\n\treturn 0;\n}\n\nstatic const struct of_device_id npcm7xx_pinctrl_match[] = {\n\t{ .compatible = \"nuvoton,npcm750-pinctrl\" },\n\t{ },\n};\nMODULE_DEVICE_TABLE(of, npcm7xx_pinctrl_match);\n\nstatic struct platform_driver npcm7xx_pinctrl_driver = {\n\t.probe = npcm7xx_pinctrl_probe,\n\t.driver = {\n\t\t.name = \"npcm7xx-pinctrl\",\n\t\t.of_match_table = npcm7xx_pinctrl_match,\n\t\t.suppress_bind_attrs = true,\n\t},\n};\n\nstatic int __init npcm7xx_pinctrl_register(void)\n{\n\treturn platform_driver_register(&npcm7xx_pinctrl_driver);\n}\narch_initcall(npcm7xx_pinctrl_register);\n\nMODULE_AUTHOR(\"jordan_hargrave@dell.com\");\nMODULE_AUTHOR(\"tomer.maimon@nuvoton.com\");\nMODULE_DESCRIPTION(\"Nuvoton NPCM7XX Pinctrl and GPIO driver\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}