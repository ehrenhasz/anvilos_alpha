{
  "module_name": "pinctrl-meson.h",
  "hash_id": "b1fd91b69da5095d7c2c590d48ea6c2592a0c981fc0b8217e101653346f05802",
  "original_prompt": "Ingested from linux-6.6.14/drivers/pinctrl/meson/pinctrl-meson.h",
  "human_readable_source": " \n \n\n#include <linux/gpio/driver.h>\n#include <linux/pinctrl/pinctrl.h>\n#include <linux/platform_device.h>\n#include <linux/regmap.h>\n#include <linux/types.h>\n#include <linux/module.h>\n\nstruct fwnode_handle;\n\nstruct meson_pinctrl;\n\n \nstruct meson_pmx_group {\n\tconst char *name;\n\tconst unsigned int *pins;\n\tunsigned int num_pins;\n\tconst void *data;\n};\n\n \nstruct meson_pmx_func {\n\tconst char *name;\n\tconst char * const *groups;\n\tunsigned int num_groups;\n};\n\n \nstruct meson_reg_desc {\n\tunsigned int reg;\n\tunsigned int bit;\n};\n\n \nenum meson_reg_type {\n\tMESON_REG_PULLEN,\n\tMESON_REG_PULL,\n\tMESON_REG_DIR,\n\tMESON_REG_OUT,\n\tMESON_REG_IN,\n\tMESON_REG_DS,\n\tMESON_NUM_REG,\n};\n\n \nenum meson_pinconf_drv {\n\tMESON_PINCONF_DRV_500UA,\n\tMESON_PINCONF_DRV_2500UA,\n\tMESON_PINCONF_DRV_3000UA,\n\tMESON_PINCONF_DRV_4000UA,\n};\n\n \nstruct meson_bank {\n\tconst char *name;\n\tunsigned int first;\n\tunsigned int last;\n\tint irq_first;\n\tint irq_last;\n\tstruct meson_reg_desc regs[MESON_NUM_REG];\n};\n\nstruct meson_pinctrl_data {\n\tconst char *name;\n\tconst struct pinctrl_pin_desc *pins;\n\tstruct meson_pmx_group *groups;\n\tstruct meson_pmx_func *funcs;\n\tunsigned int num_pins;\n\tunsigned int num_groups;\n\tunsigned int num_funcs;\n\tstruct meson_bank *banks;\n\tunsigned int num_banks;\n\tconst struct pinmux_ops *pmx_ops;\n\tvoid *pmx_data;\n\tint (*parse_dt)(struct meson_pinctrl *pc);\n};\n\nstruct meson_pinctrl {\n\tstruct device *dev;\n\tstruct pinctrl_dev *pcdev;\n\tstruct pinctrl_desc desc;\n\tstruct meson_pinctrl_data *data;\n\tstruct regmap *reg_mux;\n\tstruct regmap *reg_pullen;\n\tstruct regmap *reg_pull;\n\tstruct regmap *reg_gpio;\n\tstruct regmap *reg_ds;\n\tstruct gpio_chip chip;\n\tstruct fwnode_handle *fwnode;\n};\n\n#define FUNCTION(fn)\t\t\t\t\t\t\t\\\n\t{\t\t\t\t\t\t\t\t\\\n\t\t.name = #fn,\t\t\t\t\t\t\\\n\t\t.groups = fn ## _groups,\t\t\t\t\\\n\t\t.num_groups = ARRAY_SIZE(fn ## _groups),\t\t\\\n\t}\n\n#define BANK_DS(n, f, l, fi, li, per, peb, pr, pb, dr, db, or, ob, ir, ib,     \\\n\t\tdsr, dsb)                                                      \\\n\t{\t\t\t\t\t\t\t\t\\\n\t\t.name\t\t= n,\t\t\t\t\t\\\n\t\t.first\t\t= f,\t\t\t\t\t\\\n\t\t.last\t\t= l,\t\t\t\t\t\\\n\t\t.irq_first\t= fi,\t\t\t\t\t\\\n\t\t.irq_last\t= li,\t\t\t\t\t\\\n\t\t.regs = {\t\t\t\t\t\t\\\n\t\t\t[MESON_REG_PULLEN]\t= { per, peb },\t\t\\\n\t\t\t[MESON_REG_PULL]\t= { pr, pb },\t\t\\\n\t\t\t[MESON_REG_DIR]\t\t= { dr, db },\t\t\\\n\t\t\t[MESON_REG_OUT]\t\t= { or, ob },\t\t\\\n\t\t\t[MESON_REG_IN]\t\t= { ir, ib },\t\t\\\n\t\t\t[MESON_REG_DS]\t\t= { dsr, dsb },\t\t\\\n\t\t},\t\t\t\t\t\t\t\\\n\t }\n\n#define BANK(n, f, l, fi, li, per, peb, pr, pb, dr, db, or, ob, ir, ib) \\\n\tBANK_DS(n, f, l, fi, li, per, peb, pr, pb, dr, db, or, ob, ir, ib, 0, 0)\n\n#define MESON_PIN(x) PINCTRL_PIN(x, #x)\n\n \nint meson_pmx_get_funcs_count(struct pinctrl_dev *pcdev);\nconst char *meson_pmx_get_func_name(struct pinctrl_dev *pcdev,\n\t\t\t\t    unsigned selector);\nint meson_pmx_get_groups(struct pinctrl_dev *pcdev,\n\t\t\t unsigned selector,\n\t\t\t const char * const **groups,\n\t\t\t unsigned * const num_groups);\n\n \nint meson_pinctrl_probe(struct platform_device *pdev);\n \nint meson8_aobus_parse_dt_extra(struct meson_pinctrl *pc);\n \nint meson_a1_parse_dt_extra(struct meson_pinctrl *pc);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}