{
  "module_name": "pinctrl-imx.h",
  "hash_id": "9ecc65112b3164346be8620e83bea1e08539a20f6ba3c6cfadf409a884dd6d5c",
  "original_prompt": "Ingested from linux-6.6.14/drivers/pinctrl/freescale/pinctrl-imx.h",
  "human_readable_source": " \n \n\n#ifndef __DRIVERS_PINCTRL_IMX_H\n#define __DRIVERS_PINCTRL_IMX_H\n\n#include <linux/pinctrl/pinmux.h>\n\nstruct platform_device;\n\nextern struct pinmux_ops imx_pmx_ops;\nextern const struct dev_pm_ops imx_pinctrl_pm_ops;\n\n \nstruct imx_pin_mmio {\n\tunsigned int mux_mode;\n\tu16 input_reg;\n\tunsigned int input_val;\n\tunsigned long config;\n};\n\n \nstruct imx_pin_scu {\n\tunsigned int mux_mode;\n\tunsigned long config;\n};\n\n \nstruct imx_pin {\n\tunsigned int pin;\n\tunion {\n\t\tstruct imx_pin_mmio mmio;\n\t\tstruct imx_pin_scu scu;\n\t} conf;\n};\n\n \nstruct imx_pin_reg {\n\ts16 mux_reg;\n\ts16 conf_reg;\n};\n\n \nstruct imx_pinctrl {\n\tstruct device *dev;\n\tstruct pinctrl_dev *pctl;\n\tvoid __iomem *base;\n\tvoid __iomem *input_sel_base;\n\tconst struct imx_pinctrl_soc_info *info;\n\tstruct imx_pin_reg *pin_regs;\n\tunsigned int group_index;\n\tstruct mutex mutex;\n};\n\nstruct imx_pinctrl_soc_info {\n\tconst struct pinctrl_pin_desc *pins;\n\tunsigned int npins;\n\tunsigned int flags;\n\tconst char *gpr_compatible;\n\n\t \n\tunsigned int mux_mask;\n\tu8 mux_shift;\n\n\tint (*gpio_set_direction)(struct pinctrl_dev *pctldev,\n\t\t\t\t  struct pinctrl_gpio_range *range,\n\t\t\t\t  unsigned offset,\n\t\t\t\t  bool input);\n\tint (*imx_pinconf_get)(struct pinctrl_dev *pctldev, unsigned int pin_id,\n\t\t\t       unsigned long *config);\n\tint (*imx_pinconf_set)(struct pinctrl_dev *pctldev, unsigned int pin_id,\n\t\t\t       unsigned long *configs, unsigned int num_configs);\n\tvoid (*imx_pinctrl_parse_pin)(struct imx_pinctrl *ipctl,\n\t\t\t\t      unsigned int *pin_id, struct imx_pin *pin,\n\t\t\t\t      const __be32 **list_p);\n};\n\n#define SHARE_MUX_CONF_REG\tBIT(0)\n#define ZERO_OFFSET_VALID\tBIT(1)\n#define IMX_USE_SCU\t\tBIT(2)\n\n#define NO_MUX\t\t0x0\n#define NO_PAD\t\t0x0\n\n#define IMX_PINCTRL_PIN(pin) PINCTRL_PIN(pin, #pin)\n\n#define PAD_CTL_MASK(len)\t((1 << len) - 1)\n#define IMX_MUX_MASK\t0x7\n#define IOMUXC_CONFIG_SION\t(0x1 << 4)\n\nint imx_pinctrl_probe(struct platform_device *pdev,\n\t\t\tconst struct imx_pinctrl_soc_info *info);\n\n#define BM_PAD_CTL_GP_ENABLE\t\tBIT(30)\n#define BM_PAD_CTL_IFMUX_ENABLE\t\tBIT(31)\n#define BP_PAD_CTL_IFMUX\t\t27\n\nint imx_pinctrl_sc_ipc_init(struct platform_device *pdev);\nint imx_pinconf_get_scu(struct pinctrl_dev *pctldev, unsigned pin_id,\n\t\t\tunsigned long *config);\nint imx_pinconf_set_scu(struct pinctrl_dev *pctldev, unsigned pin_id,\n\t\t\tunsigned long *configs, unsigned num_configs);\nvoid imx_pinctrl_parse_pin_scu(struct imx_pinctrl *ipctl,\n\t\t\t       unsigned int *pin_id, struct imx_pin *pin,\n\t\t\t       const __be32 **list_p);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}