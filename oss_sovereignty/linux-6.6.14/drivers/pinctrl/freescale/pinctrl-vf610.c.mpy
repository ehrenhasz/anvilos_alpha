{
  "module_name": "pinctrl-vf610.c",
  "hash_id": "d111816c82c3254361761653c23beac19be9b13d45d4543f4c3295a186ebc2b7",
  "original_prompt": "Ingested from linux-6.6.14/drivers/pinctrl/freescale/pinctrl-vf610.c",
  "human_readable_source": "\n\n\n\n\n\n#include <linux/err.h>\n#include <linux/init.h>\n#include <linux/io.h>\n#include <linux/mod_devicetable.h>\n#include <linux/platform_device.h>\n#include <linux/pinctrl/pinctrl.h>\n\n#include \"pinctrl-imx.h\"\n\nenum vf610_pads {\n\tVF610_PAD_PTA6 = 0,\n\tVF610_PAD_PTA8 = 1,\n\tVF610_PAD_PTA9 = 2,\n\tVF610_PAD_PTA10 = 3,\n\tVF610_PAD_PTA11 = 4,\n\tVF610_PAD_PTA12 = 5,\n\tVF610_PAD_PTA16 = 6,\n\tVF610_PAD_PTA17 = 7,\n\tVF610_PAD_PTA18 = 8,\n\tVF610_PAD_PTA19 = 9,\n\tVF610_PAD_PTA20 = 10,\n\tVF610_PAD_PTA21 = 11,\n\tVF610_PAD_PTA22 = 12,\n\tVF610_PAD_PTA23 = 13,\n\tVF610_PAD_PTA24 = 14,\n\tVF610_PAD_PTA25 = 15,\n\tVF610_PAD_PTA26 = 16,\n\tVF610_PAD_PTA27 = 17,\n\tVF610_PAD_PTA28 = 18,\n\tVF610_PAD_PTA29 = 19,\n\tVF610_PAD_PTA30 = 20,\n\tVF610_PAD_PTA31 = 21,\n\tVF610_PAD_PTB0 = 22,\n\tVF610_PAD_PTB1 = 23,\n\tVF610_PAD_PTB2 = 24,\n\tVF610_PAD_PTB3 = 25,\n\tVF610_PAD_PTB4 = 26,\n\tVF610_PAD_PTB5 = 27,\n\tVF610_PAD_PTB6 = 28,\n\tVF610_PAD_PTB7 = 29,\n\tVF610_PAD_PTB8 = 30,\n\tVF610_PAD_PTB9 = 31,\n\tVF610_PAD_PTB10 = 32,\n\tVF610_PAD_PTB11 = 33,\n\tVF610_PAD_PTB12 = 34,\n\tVF610_PAD_PTB13 = 35,\n\tVF610_PAD_PTB14 = 36,\n\tVF610_PAD_PTB15 = 37,\n\tVF610_PAD_PTB16 = 38,\n\tVF610_PAD_PTB17 = 39,\n\tVF610_PAD_PTB18 = 40,\n\tVF610_PAD_PTB19 = 41,\n\tVF610_PAD_PTB20 = 42,\n\tVF610_PAD_PTB21 = 43,\n\tVF610_PAD_PTB22 = 44,\n\tVF610_PAD_PTC0 = 45,\n\tVF610_PAD_PTC1 = 46,\n\tVF610_PAD_PTC2 = 47,\n\tVF610_PAD_PTC3 = 48,\n\tVF610_PAD_PTC4 = 49,\n\tVF610_PAD_PTC5 = 50,\n\tVF610_PAD_PTC6 = 51,\n\tVF610_PAD_PTC7 = 52,\n\tVF610_PAD_PTC8 = 53,\n\tVF610_PAD_PTC9 = 54,\n\tVF610_PAD_PTC10 = 55,\n\tVF610_PAD_PTC11 = 56,\n\tVF610_PAD_PTC12 = 57,\n\tVF610_PAD_PTC13 = 58,\n\tVF610_PAD_PTC14 = 59,\n\tVF610_PAD_PTC15 = 60,\n\tVF610_PAD_PTC16 = 61,\n\tVF610_PAD_PTC17 = 62,\n\tVF610_PAD_PTD31 = 63,\n\tVF610_PAD_PTD30 = 64,\n\tVF610_PAD_PTD29 = 65,\n\tVF610_PAD_PTD28 = 66,\n\tVF610_PAD_PTD27 = 67,\n\tVF610_PAD_PTD26 = 68,\n\tVF610_PAD_PTD25 = 69,\n\tVF610_PAD_PTD24 = 70,\n\tVF610_PAD_PTD23 = 71,\n\tVF610_PAD_PTD22 = 72,\n\tVF610_PAD_PTD21 = 73,\n\tVF610_PAD_PTD20 = 74,\n\tVF610_PAD_PTD19 = 75,\n\tVF610_PAD_PTD18 = 76,\n\tVF610_PAD_PTD17 = 77,\n\tVF610_PAD_PTD16 = 78,\n\tVF610_PAD_PTD0 = 79,\n\tVF610_PAD_PTD1 = 80,\n\tVF610_PAD_PTD2 = 81,\n\tVF610_PAD_PTD3 = 82,\n\tVF610_PAD_PTD4 = 83,\n\tVF610_PAD_PTD5 = 84,\n\tVF610_PAD_PTD6 = 85,\n\tVF610_PAD_PTD7 = 86,\n\tVF610_PAD_PTD8 = 87,\n\tVF610_PAD_PTD9 = 88,\n\tVF610_PAD_PTD10 = 89,\n\tVF610_PAD_PTD11 = 90,\n\tVF610_PAD_PTD12 = 91,\n\tVF610_PAD_PTD13 = 92,\n\tVF610_PAD_PTB23 = 93,\n\tVF610_PAD_PTB24 = 94,\n\tVF610_PAD_PTB25 = 95,\n\tVF610_PAD_PTB26 = 96,\n\tVF610_PAD_PTB27 = 97,\n\tVF610_PAD_PTB28 = 98,\n\tVF610_PAD_PTC26 = 99,\n\tVF610_PAD_PTC27 = 100,\n\tVF610_PAD_PTC28 = 101,\n\tVF610_PAD_PTC29 = 102,\n\tVF610_PAD_PTC30 = 103,\n\tVF610_PAD_PTC31 = 104,\n\tVF610_PAD_PTE0 = 105,\n\tVF610_PAD_PTE1 = 106,\n\tVF610_PAD_PTE2 = 107,\n\tVF610_PAD_PTE3 = 108,\n\tVF610_PAD_PTE4 = 109,\n\tVF610_PAD_PTE5 = 110,\n\tVF610_PAD_PTE6 = 111,\n\tVF610_PAD_PTE7 = 112,\n\tVF610_PAD_PTE8 = 113,\n\tVF610_PAD_PTE9 = 114,\n\tVF610_PAD_PTE10 = 115,\n\tVF610_PAD_PTE11 = 116,\n\tVF610_PAD_PTE12 = 117,\n\tVF610_PAD_PTE13 = 118,\n\tVF610_PAD_PTE14 = 119,\n\tVF610_PAD_PTE15 = 120,\n\tVF610_PAD_PTE16 = 121,\n\tVF610_PAD_PTE17 = 122,\n\tVF610_PAD_PTE18 = 123,\n\tVF610_PAD_PTE19 = 124,\n\tVF610_PAD_PTE20 = 125,\n\tVF610_PAD_PTE21 = 126,\n\tVF610_PAD_PTE22 = 127,\n\tVF610_PAD_PTE23 = 128,\n\tVF610_PAD_PTE24 = 129,\n\tVF610_PAD_PTE25 = 130,\n\tVF610_PAD_PTE26 = 131,\n\tVF610_PAD_PTE27 = 132,\n\tVF610_PAD_PTE28 = 133,\n\tVF610_PAD_PTA7 = 134,\n};\n\n \nstatic const struct pinctrl_pin_desc vf610_pinctrl_pads[] = {\n\tIMX_PINCTRL_PIN(VF610_PAD_PTA6),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTA8),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTA9),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTA10),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTA11),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTA12),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTA16),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTA17),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTA18),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTA19),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTA20),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTA21),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTA22),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTA23),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTA24),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTA25),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTA26),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTA27),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTA28),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTA29),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTA30),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTA31),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB0),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB1),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB2),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB3),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB4),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB5),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB6),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB7),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB8),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB9),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB10),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB11),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB12),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB13),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB14),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB15),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB16),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB17),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB18),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB19),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB20),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB21),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB22),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC0),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC1),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC2),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC3),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC4),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC5),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC6),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC7),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC8),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC9),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC10),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC11),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC12),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC13),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC14),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC15),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC16),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC17),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD31),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD30),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD29),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD28),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD27),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD26),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD25),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD24),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD23),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD22),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD21),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD20),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD19),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD18),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD17),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD16),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD0),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD1),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD2),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD3),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD4),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD5),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD6),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD7),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD8),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD9),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD10),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD11),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD12),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTD13),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB23),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB24),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB25),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB26),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB27),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTB28),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC26),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC27),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC28),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC29),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC30),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTC31),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE0),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE1),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE2),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE3),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE4),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE5),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE6),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE7),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE8),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE9),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE10),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE11),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE12),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE13),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE14),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE15),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE16),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE17),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE18),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE19),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE20),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE21),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE22),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE23),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE24),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE25),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE26),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE27),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTE28),\n\tIMX_PINCTRL_PIN(VF610_PAD_PTA7),\n};\n\nstatic int vf610_pmx_gpio_set_direction(struct pinctrl_dev *pctldev,\n\t\t\t\t\tstruct pinctrl_gpio_range *range,\n\t\t\t\t\tunsigned offset, bool input)\n{\n\tstruct imx_pinctrl *ipctl = pinctrl_dev_get_drvdata(pctldev);\n\tconst struct imx_pin_reg *pin_reg;\n\tu32 reg;\n\n\tpin_reg = &ipctl->pin_regs[offset];\n\tif (pin_reg->mux_reg == -1)\n\t\treturn -EINVAL;\n\n\t \n\treg = readl(ipctl->base + pin_reg->mux_reg);\n\tif (input)\n\t\treg &= ~0x2;\n\telse\n\t\treg |= 0x2;\n\twritel(reg, ipctl->base + pin_reg->mux_reg);\n\n\treturn 0;\n}\n\nstatic const struct imx_pinctrl_soc_info vf610_pinctrl_info = {\n\t.pins = vf610_pinctrl_pads,\n\t.npins = ARRAY_SIZE(vf610_pinctrl_pads),\n\t.flags = SHARE_MUX_CONF_REG | ZERO_OFFSET_VALID,\n\t.gpio_set_direction = vf610_pmx_gpio_set_direction,\n\t.mux_mask = 0x700000,\n\t.mux_shift = 20,\n};\n\nstatic const struct of_device_id vf610_pinctrl_of_match[] = {\n\t{ .compatible = \"fsl,vf610-iomuxc\", },\n\t{   }\n};\n\nstatic int vf610_pinctrl_probe(struct platform_device *pdev)\n{\n\treturn imx_pinctrl_probe(pdev, &vf610_pinctrl_info);\n}\n\nstatic struct platform_driver vf610_pinctrl_driver = {\n\t.driver = {\n\t\t.name = \"vf610-pinctrl\",\n\t\t.of_match_table = vf610_pinctrl_of_match,\n\t\t.suppress_bind_attrs = true,\n\t},\n\t.probe = vf610_pinctrl_probe,\n};\n\nstatic int __init vf610_pinctrl_init(void)\n{\n\treturn platform_driver_register(&vf610_pinctrl_driver);\n}\narch_initcall(vf610_pinctrl_init);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}