{
  "module_name": "sppctl.h",
  "hash_id": "5d4ad221cfd9f085f87ac21ce8ea91c57dbff5858d06570e6ad624778f0756a0",
  "original_prompt": "Ingested from linux-6.6.14/drivers/pinctrl/sunplus/sppctl.h",
  "human_readable_source": " \n \n\n#ifndef __SPPCTL_H__\n#define __SPPCTL_H__\n\n#include <linux/bits.h>\n#include <linux/gpio/driver.h>\n#include <linux/kernel.h>\n#include <linux/pinctrl/pinctrl.h>\n#include <linux/spinlock.h>\n#include <linux/types.h>\n\n#define SPPCTL_MODULE_NAME\t\t\"sppctl_sp7021\"\n\n#define SPPCTL_GPIO_OFF_FIRST\t\t0x00\n#define SPPCTL_GPIO_OFF_MASTER\t\t0x00\n#define SPPCTL_GPIO_OFF_OE\t\t0x20\n#define SPPCTL_GPIO_OFF_OUT\t\t0x40\n#define SPPCTL_GPIO_OFF_IN\t\t0x60\n#define SPPCTL_GPIO_OFF_IINV\t\t0x80\n#define SPPCTL_GPIO_OFF_OINV\t\t0xa0\n#define SPPCTL_GPIO_OFF_OD\t\t0xc0\n\n#define SPPCTL_FULLY_PINMUX_MASK_MASK\tGENMASK(22, 16)\n#define SPPCTL_FULLY_PINMUX_SEL_MASK\tGENMASK(6, 0)\n#define SPPCTL_FULLY_PINMUX_UPPER_SHIFT\t8\n\n \n#define SPPCTL_MOON_REG_MASK_SHIFT\t16\n#define SPPCTL_SET_MOON_REG_BIT(bit)\t(BIT((bit) + SPPCTL_MOON_REG_MASK_SHIFT) | BIT(bit))\n#define SPPCTL_CLR_MOON_REG_BIT(bit)\tBIT((bit) + SPPCTL_MOON_REG_MASK_SHIFT)\n\n#define SPPCTL_IOP_CONFIGS\t\t0xff\n\n#define FNCE(n, r, o, bo, bl, g) { \\\n\t.name = n, \\\n\t.type = r, \\\n\t.roff = o, \\\n\t.boff = bo, \\\n\t.blen = bl, \\\n\t.grps = (g), \\\n\t.gnum = ARRAY_SIZE(g), \\\n}\n\n#define FNCN(n, r, o, bo, bl) { \\\n\t.name = n, \\\n\t.type = r, \\\n\t.roff = o, \\\n\t.boff = bo, \\\n\t.blen = bl, \\\n\t.grps = NULL, \\\n\t.gnum = 0, \\\n}\n\n#define EGRP(n, v, p) { \\\n\t.name = n, \\\n\t.gval = (v), \\\n\t.pins = (p), \\\n\t.pnum = ARRAY_SIZE(p), \\\n}\n\n \nenum mux_first_reg {\n\tmux_f_mux = 0,\n\tmux_f_gpio = 1,\n\tmux_f_keep = 2,\n};\n\n \nenum mux_master_reg {\n\tmux_m_iop = 0,\n\tmux_m_gpio = 1,\n\tmux_m_keep = 2,\n};\n\n \nenum pinmux_type {\n\tpinmux_type_fpmx,\n\tpinmux_type_grp,\n};\n\n \nstruct grp2fp_map {\n\tu16 f_idx;\n\tu16 g_idx;\n};\n\nstruct sppctl_gpio_chip;\n\nstruct sppctl_pdata {\n\tvoid __iomem *moon2_base;\t \n\tvoid __iomem *gpioxt_base;\t \n\tvoid __iomem *first_base;\t \n\tvoid __iomem *moon1_base;\t \n\n\tstruct pinctrl_desc pctl_desc;\n\tstruct pinctrl_dev *pctl_dev;\n\tstruct pinctrl_gpio_range pctl_grange;\n\tstruct sppctl_gpio_chip *spp_gchip;\n\n\tchar const **unq_grps;\n\tsize_t unq_grps_sz;\n\tstruct grp2fp_map *g2fp_maps;\n};\n\nstruct sppctl_grp {\n\tconst char * const name;\n\tconst u8 gval;                   \n\tconst unsigned * const pins;     \n\tconst unsigned int pnum;         \n};\n\nstruct sppctl_func {\n\tconst char * const name;\n\tconst enum pinmux_type type;     \n\tconst u8 roff;                   \n\tconst u8 boff;                   \n\tconst u8 blen;                   \n\tconst struct sppctl_grp * const grps;  \n\tconst unsigned int gnum;         \n};\n\nextern const struct sppctl_func sppctl_list_funcs[];\nextern const char * const sppctl_pmux_list_s[];\nextern const char * const sppctl_gpio_list_s[];\nextern const struct pinctrl_pin_desc sppctl_pins_all[];\nextern const unsigned int sppctl_pins_gpio[];\n\nextern const size_t sppctl_list_funcs_sz;\nextern const size_t sppctl_pmux_list_sz;\nextern const size_t sppctl_gpio_list_sz;\nextern const size_t sppctl_pins_all_sz;\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}