{
  "module_name": "pinctrl-common.h",
  "hash_id": "bacbbfd73824828d022f7d18e612d38624648af56bf58c00d9cf41667f8988b7",
  "original_prompt": "Ingested from linux-6.6.14/drivers/pinctrl/visconti/pinctrl-common.h",
  "human_readable_source": " \n \n\n#ifndef __VISCONTI_PINCTRL_COMMON_H__\n#define __VISCONTI_PINCTRL_COMMON_H__\n\nstruct pinctrl_pin_desc;\n\n \n#define VISCONTI_PINS(pins_name, ...)  \\\n\tstatic const unsigned int pins_name ## _pins[] = { __VA_ARGS__ }\n\nstruct visconti_desc_pin {\n\tstruct pinctrl_pin_desc pin;\n\tunsigned int dsel_offset;\n\tunsigned int dsel_shift;\n\tunsigned int pude_offset;\n\tunsigned int pudsel_offset;\n\tunsigned int pud_shift;\n};\n\n#define VISCONTI_PIN(_pin, dsel, d_sh, pude, pudsel, p_sh)\t\\\n{\t\t\t\t\t\t\t\t\\\n\t.pin = _pin,\t\t\t\t\t\t\\\n\t.dsel_offset = dsel,\t\t\t\t\t\\\n\t.dsel_shift = d_sh,\t\t\t\t\t\\\n\t.pude_offset = pude,\t\t\t\t\t\\\n\t.pudsel_offset = pudsel,\t\t\t\t\\\n\t.pud_shift = p_sh,\t\t\t\t\t\\\n}\n\n \n#define VISCONTI_GROUPS(groups_name, ...)\t\\\n\tstatic const char * const groups_name ## _grps[] = { __VA_ARGS__ }\n\nstruct visconti_mux {\n\tunsigned int offset;\n\tunsigned int mask;\n\tunsigned int val;\n};\n\nstruct visconti_pin_group {\n\tconst char *name;\n\tconst unsigned int *pins;\n\tunsigned int nr_pins;\n\tstruct visconti_mux mux;\n};\n\n#define VISCONTI_PIN_GROUP(group_name, off, msk, v)\t\\\n{\t\t\t\t\t\t\t\\\n\t.name = __stringify(group_name) \"_grp\",\t\t\\\n\t.pins = group_name ## _pins,\t\t\t\\\n\t.nr_pins = ARRAY_SIZE(group_name ## _pins),\t\\\n\t.mux = {\t\t\t\t\t\\\n\t\t.offset = off,\t\t\t\t\\\n\t\t.mask = msk,\t\t\t\t\\\n\t\t.val = v,\t\t\t\t\\\n\t}\t\t\t\t\t\t\\\n}\n\n \nstruct visconti_pin_function {\n\tconst char *name;\n\tconst char * const *groups;\n\tunsigned int nr_groups;\n};\n\n#define VISCONTI_PIN_FUNCTION(func)\t\t\\\n{\t\t\t\t\t\t\\\n\t.name = #func,\t\t\t\t\\\n\t.groups = func ## _grps,\t\t\\\n\t.nr_groups = ARRAY_SIZE(func ## _grps),\t\\\n}\n\n \nstruct visconti_pinctrl_devdata {\n\tconst struct visconti_desc_pin *pins;\n\tunsigned int nr_pins;\n\tconst struct visconti_pin_group *groups;\n\tunsigned int nr_groups;\n\tconst struct visconti_pin_function *functions;\n\tunsigned int nr_functions;\n\n\tconst struct visconti_mux *gpio_mux;\n\n\tvoid (*unlock)(void __iomem *base);\n};\n\nint visconti_pinctrl_probe(struct platform_device *pdev,\n\t\t\t   const struct visconti_pinctrl_devdata *devdata);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}