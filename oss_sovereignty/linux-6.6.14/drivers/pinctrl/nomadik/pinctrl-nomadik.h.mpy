{
  "module_name": "pinctrl-nomadik.h",
  "hash_id": "b99bb20c4bca94777904a4c08f0792f82541621c7198fd18b0c045f540461e13",
  "original_prompt": "Ingested from linux-6.6.14/drivers/pinctrl/nomadik/pinctrl-nomadik.h",
  "human_readable_source": " \n#ifndef PINCTRL_PINCTRL_NOMADIK_H\n#define PINCTRL_PINCTRL_NOMADIK_H\n\n#include <linux/kernel.h>\n#include <linux/types.h>\n\n#include <linux/pinctrl/pinctrl.h>\n\n \n#define PINCTRL_NMK_STN8815\t0\n#define PINCTRL_NMK_DB8500\t1\n\n \n#define NMK_GPIO_ALT_GPIO\t0\n#define NMK_GPIO_ALT_A\t1\n#define NMK_GPIO_ALT_B\t2\n#define NMK_GPIO_ALT_C\t(NMK_GPIO_ALT_A | NMK_GPIO_ALT_B)\n\n#define NMK_GPIO_ALT_CX_SHIFT 2\n#define NMK_GPIO_ALT_C1\t((1<<NMK_GPIO_ALT_CX_SHIFT) | NMK_GPIO_ALT_C)\n#define NMK_GPIO_ALT_C2\t((2<<NMK_GPIO_ALT_CX_SHIFT) | NMK_GPIO_ALT_C)\n#define NMK_GPIO_ALT_C3\t((3<<NMK_GPIO_ALT_CX_SHIFT) | NMK_GPIO_ALT_C)\n#define NMK_GPIO_ALT_C4\t((4<<NMK_GPIO_ALT_CX_SHIFT) | NMK_GPIO_ALT_C)\n\n#define PRCM_GPIOCR_ALTCX(pin_num,\\\n\taltc1_used, altc1_ri, altc1_cb,\\\n\taltc2_used, altc2_ri, altc2_cb,\\\n\taltc3_used, altc3_ri, altc3_cb,\\\n\taltc4_used, altc4_ri, altc4_cb)\\\n{\\\n\t.pin = pin_num,\\\n\t.altcx[PRCM_IDX_GPIOCR_ALTC1] = {\\\n\t\t.used = altc1_used,\\\n\t\t.reg_index = altc1_ri,\\\n\t\t.control_bit = altc1_cb\\\n\t},\\\n\t.altcx[PRCM_IDX_GPIOCR_ALTC2] = {\\\n\t\t.used = altc2_used,\\\n\t\t.reg_index = altc2_ri,\\\n\t\t.control_bit = altc2_cb\\\n\t},\\\n\t.altcx[PRCM_IDX_GPIOCR_ALTC3] = {\\\n\t\t.used = altc3_used,\\\n\t\t.reg_index = altc3_ri,\\\n\t\t.control_bit = altc3_cb\\\n\t},\\\n\t.altcx[PRCM_IDX_GPIOCR_ALTC4] = {\\\n\t\t.used = altc4_used,\\\n\t\t.reg_index = altc4_ri,\\\n\t\t.control_bit = altc4_cb\\\n\t},\\\n}\n\n \nenum prcm_gpiocr_reg_index {\n\tPRCM_IDX_GPIOCR1,\n\tPRCM_IDX_GPIOCR2,\n\tPRCM_IDX_GPIOCR3\n};\n \nenum prcm_gpiocr_altcx_index {\n\tPRCM_IDX_GPIOCR_ALTC1,\n\tPRCM_IDX_GPIOCR_ALTC2,\n\tPRCM_IDX_GPIOCR_ALTC3,\n\tPRCM_IDX_GPIOCR_ALTC4,\n\tPRCM_IDX_GPIOCR_ALTC_MAX,\n};\n\n \nstruct prcm_gpiocr_altcx {\n\tbool used:1;\n\tu8 reg_index:2;\n\tu8 control_bit:5;\n} __packed;\n\n \nstruct prcm_gpiocr_altcx_pin_desc {\n\tunsigned short pin;\n\tstruct prcm_gpiocr_altcx altcx[PRCM_IDX_GPIOCR_ALTC_MAX];\n};\n\n \nstruct nmk_function {\n\tconst char *name;\n\tconst char * const *groups;\n\tunsigned ngroups;\n};\n\n \nstruct nmk_pingroup {\n\tstruct pingroup grp;\n\tint altsetting;\n};\n\n#define NMK_PIN_GROUP(a, b)\t\t\t\t\t\t\t\\\n\t{\t\t\t\t\t\t\t\t\t\\\n\t\t.grp = PINCTRL_PINGROUP(#a, a##_pins, ARRAY_SIZE(a##_pins)),\t\\\n\t\t.altsetting = b,\t\t\t\t\t\t\\\n\t}\n\n \nstruct nmk_pinctrl_soc_data {\n\tconst struct pinctrl_pin_desc *pins;\n\tunsigned npins;\n\tconst struct nmk_function *functions;\n\tunsigned nfunctions;\n\tconst struct nmk_pingroup *groups;\n\tunsigned ngroups;\n\tconst struct prcm_gpiocr_altcx_pin_desc *altcx_pins;\n\tunsigned npins_altcx;\n\tconst u16 *prcm_gpiocr_registers;\n};\n\n#ifdef CONFIG_PINCTRL_STN8815\n\nvoid nmk_pinctrl_stn8815_init(const struct nmk_pinctrl_soc_data **soc);\n\n#else\n\nstatic inline void\nnmk_pinctrl_stn8815_init(const struct nmk_pinctrl_soc_data **soc)\n{\n}\n\n#endif\n\n#ifdef CONFIG_PINCTRL_DB8500\n\nvoid nmk_pinctrl_db8500_init(const struct nmk_pinctrl_soc_data **soc);\n\n#else\n\nstatic inline void\nnmk_pinctrl_db8500_init(const struct nmk_pinctrl_soc_data **soc)\n{\n}\n\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}