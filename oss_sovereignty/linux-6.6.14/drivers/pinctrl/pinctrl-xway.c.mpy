{
  "module_name": "pinctrl-xway.c",
  "hash_id": "37957271b1eae7636d58d57092255483a74c6b4d68958c349783b051bbe24e4d",
  "original_prompt": "Ingested from linux-6.6.14/drivers/pinctrl/pinctrl-xway.c",
  "human_readable_source": "\n \n\n#include <linux/err.h>\n#include <linux/gpio/driver.h>\n#include <linux/slab.h>\n#include <linux/module.h>\n#include <linux/of_platform.h>\n#include <linux/of_address.h>\n#include <linux/ioport.h>\n#include <linux/io.h>\n#include <linux/device.h>\n#include <linux/platform_device.h>\n\n#include \"pinctrl-lantiq.h\"\n\n#include <lantiq_soc.h>\n\n \n#define PINS\t\t\t16\n#define PORT3\t\t\t3\n#define PORT(x)\t\t\t(x / PINS)\n#define PORT_PIN(x)\t\t(x % PINS)\n\n \n#define MUX_ALT0\t0x1\n#define MUX_ALT1\t0x2\n\n \n#define REG_OFF\t\t\t0x30\n\n \n#define GPIO_BASE(p)\t\t(REG_OFF * PORT(p))\n#define GPIO_OUT(p)\t\tGPIO_BASE(p)\n#define GPIO_IN(p)\t\t(GPIO_BASE(p) + 0x04)\n#define GPIO_DIR(p)\t\t(GPIO_BASE(p) + 0x08)\n#define GPIO_ALT0(p)\t\t(GPIO_BASE(p) + 0x0C)\n#define GPIO_ALT1(p)\t\t(GPIO_BASE(p) + 0x10)\n#define GPIO_OD(p)\t\t(GPIO_BASE(p) + 0x14)\n#define GPIO_PUDSEL(p)\t\t(GPIO_BASE(p) + 0x1c)\n#define GPIO_PUDEN(p)\t\t(GPIO_BASE(p) + 0x20)\n\n \n#define GPIO3_OD\t\t(GPIO_BASE(0) + 0x24)\n#define GPIO3_PUDSEL\t\t(GPIO_BASE(0) + 0x28)\n#define GPIO3_PUDEN\t\t(GPIO_BASE(0) + 0x2C)\n#define GPIO3_ALT1\t\t(GPIO_BASE(PINS) + 0x24)\n\n \n#define gpio_getbit(m, r, p)\t(!!(ltq_r32(m + r) & BIT(p)))\n#define gpio_setbit(m, r, p)\tltq_w32_mask(0, BIT(p), m + r)\n#define gpio_clearbit(m, r, p)\tltq_w32_mask(BIT(p), 0, m + r)\n\n#define MFP_XWAY(a, f0, f1, f2, f3)\t\\\n\t{\t\t\t\t\\\n\t\t.name = #a,\t\t\\\n\t\t.pin = a,\t\t\\\n\t\t.func = {\t\t\\\n\t\t\tXWAY_MUX_##f0,\t\\\n\t\t\tXWAY_MUX_##f1,\t\\\n\t\t\tXWAY_MUX_##f2,\t\\\n\t\t\tXWAY_MUX_##f3,\t\\\n\t\t},\t\t\t\\\n\t}\n\n#define GRP_MUX(a, m, p)\t\t\\\n\t{ .name = a, .mux = XWAY_MUX_##m, .pins = p, .npins = ARRAY_SIZE(p), }\n\n#define FUNC_MUX(f, m)\t\t\\\n\t{ .func = f, .mux = XWAY_MUX_##m, }\n\nenum xway_mux {\n\tXWAY_MUX_GPIO = 0,\n\tXWAY_MUX_SPI,\n\tXWAY_MUX_ASC,\n\tXWAY_MUX_USIF,\n\tXWAY_MUX_PCI,\n\tXWAY_MUX_CBUS,\n\tXWAY_MUX_CGU,\n\tXWAY_MUX_EBU,\n\tXWAY_MUX_EBU2,\n\tXWAY_MUX_JTAG,\n\tXWAY_MUX_MCD,\n\tXWAY_MUX_EXIN,\n\tXWAY_MUX_TDM,\n\tXWAY_MUX_STP,\n\tXWAY_MUX_SIN,\n\tXWAY_MUX_GPT,\n\tXWAY_MUX_NMI,\n\tXWAY_MUX_MDIO,\n\tXWAY_MUX_MII,\n\tXWAY_MUX_EPHY,\n\tXWAY_MUX_DFE,\n\tXWAY_MUX_SDIO,\n\tXWAY_MUX_GPHY,\n\tXWAY_MUX_SSI,\n\tXWAY_MUX_WIFI,\n\tXWAY_MUX_NONE = 0xffff,\n};\n\n \n#define ASE_MAX_PIN\t\t32\n\nstatic const struct ltq_mfp_pin ase_mfp[] = {\n\t \n\tMFP_XWAY(GPIO0, GPIO,\tEXIN,\tMII,\tTDM),\n\tMFP_XWAY(GPIO1, GPIO,\tSTP,\tDFE,\tEBU),\n\tMFP_XWAY(GPIO2, GPIO,\tSTP,\tDFE,\tEPHY),\n\tMFP_XWAY(GPIO3, GPIO,\tSTP,\tEPHY,\tEBU),\n\tMFP_XWAY(GPIO4, GPIO,\tGPT,\tEPHY,\tMII),\n\tMFP_XWAY(GPIO5, GPIO,\tMII,\tASC,\tGPT),\n\tMFP_XWAY(GPIO6, GPIO,\tMII,\tASC,\tEXIN),\n\tMFP_XWAY(GPIO7, GPIO,\tSPI,\tMII,\tJTAG),\n\tMFP_XWAY(GPIO8, GPIO,\tSPI,\tMII,\tJTAG),\n\tMFP_XWAY(GPIO9, GPIO,\tSPI,\tMII,\tJTAG),\n\tMFP_XWAY(GPIO10, GPIO,\tSPI,\tMII,\tJTAG),\n\tMFP_XWAY(GPIO11, GPIO,\tEBU,\tCGU,\tJTAG),\n\tMFP_XWAY(GPIO12, GPIO,\tEBU,\tMII,\tSDIO),\n\tMFP_XWAY(GPIO13, GPIO,\tEBU,\tMII,\tCGU),\n\tMFP_XWAY(GPIO14, GPIO,\tEBU,\tSPI,\tCGU),\n\tMFP_XWAY(GPIO15, GPIO,\tEBU,\tSPI,\tSDIO),\n\tMFP_XWAY(GPIO16, GPIO,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO17, GPIO,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO18, GPIO,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO19, GPIO,\tEBU,\tMII,\tSDIO),\n\tMFP_XWAY(GPIO20, GPIO,\tEBU,\tMII,\tSDIO),\n\tMFP_XWAY(GPIO21, GPIO,\tEBU,\tMII,\tEBU2),\n\tMFP_XWAY(GPIO22, GPIO,\tEBU,\tMII,\tCGU),\n\tMFP_XWAY(GPIO23, GPIO,\tEBU,\tMII,\tCGU),\n\tMFP_XWAY(GPIO24, GPIO,\tEBU,\tEBU2,\tMDIO),\n\tMFP_XWAY(GPIO25, GPIO,\tEBU,\tMII,\tGPT),\n\tMFP_XWAY(GPIO26, GPIO,\tEBU,\tMII,\tSDIO),\n\tMFP_XWAY(GPIO27, GPIO,\tEBU,\tNONE,\tMDIO),\n\tMFP_XWAY(GPIO28, GPIO,\tMII,\tEBU,\tSDIO),\n\tMFP_XWAY(GPIO29, GPIO,\tEBU,\tMII,\tEXIN),\n\tMFP_XWAY(GPIO30, GPIO,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO31, GPIO,\tNONE,\tNONE,\tNONE),\n};\n\nstatic const unsigned ase_exin_pin_map[] = {GPIO6, GPIO29, GPIO0};\n\nstatic const unsigned ase_pins_exin0[] = {GPIO6};\nstatic const unsigned ase_pins_exin1[] = {GPIO29};\nstatic const unsigned ase_pins_exin2[] = {GPIO0};\n\nstatic const unsigned ase_pins_jtag[] = {GPIO7, GPIO8, GPIO9, GPIO10, GPIO11};\nstatic const unsigned ase_pins_asc[] = {GPIO5, GPIO6};\nstatic const unsigned ase_pins_stp[] = {GPIO1, GPIO2, GPIO3};\nstatic const unsigned ase_pins_mdio[] = {GPIO24, GPIO27};\nstatic const unsigned ase_pins_ephy_led0[] = {GPIO2};\nstatic const unsigned ase_pins_ephy_led1[] = {GPIO3};\nstatic const unsigned ase_pins_ephy_led2[] = {GPIO4};\nstatic const unsigned ase_pins_dfe_led0[] = {GPIO1};\nstatic const unsigned ase_pins_dfe_led1[] = {GPIO2};\n\nstatic const unsigned ase_pins_spi[] = {GPIO8, GPIO9, GPIO10};  \nstatic const unsigned ase_pins_spi_di[] = {GPIO8};\nstatic const unsigned ase_pins_spi_do[] = {GPIO9};\nstatic const unsigned ase_pins_spi_clk[] = {GPIO10};\nstatic const unsigned ase_pins_spi_cs1[] = {GPIO7};\nstatic const unsigned ase_pins_spi_cs2[] = {GPIO15};\nstatic const unsigned ase_pins_spi_cs3[] = {GPIO14};\n\nstatic const unsigned ase_pins_gpt1[] = {GPIO5};\nstatic const unsigned ase_pins_gpt2[] = {GPIO4};\nstatic const unsigned ase_pins_gpt3[] = {GPIO25};\n\nstatic const unsigned ase_pins_clkout0[] = {GPIO23};\nstatic const unsigned ase_pins_clkout1[] = {GPIO22};\nstatic const unsigned ase_pins_clkout2[] = {GPIO14};\n\nstatic const struct ltq_pin_group ase_grps[] = {\n\tGRP_MUX(\"exin0\", EXIN, ase_pins_exin0),\n\tGRP_MUX(\"exin1\", EXIN, ase_pins_exin1),\n\tGRP_MUX(\"exin2\", EXIN, ase_pins_exin2),\n\tGRP_MUX(\"jtag\", JTAG, ase_pins_jtag),\n\tGRP_MUX(\"spi\", SPI, ase_pins_spi),  \n\tGRP_MUX(\"spi_di\", SPI, ase_pins_spi_di),\n\tGRP_MUX(\"spi_do\", SPI, ase_pins_spi_do),\n\tGRP_MUX(\"spi_clk\", SPI, ase_pins_spi_clk),\n\tGRP_MUX(\"spi_cs1\", SPI, ase_pins_spi_cs1),\n\tGRP_MUX(\"spi_cs2\", SPI, ase_pins_spi_cs2),\n\tGRP_MUX(\"spi_cs3\", SPI, ase_pins_spi_cs3),\n\tGRP_MUX(\"asc\", ASC, ase_pins_asc),\n\tGRP_MUX(\"stp\", STP, ase_pins_stp),\n\tGRP_MUX(\"gpt1\", GPT, ase_pins_gpt1),\n\tGRP_MUX(\"gpt2\", GPT, ase_pins_gpt2),\n\tGRP_MUX(\"gpt3\", GPT, ase_pins_gpt3),\n\tGRP_MUX(\"clkout0\", CGU, ase_pins_clkout0),\n\tGRP_MUX(\"clkout1\", CGU, ase_pins_clkout1),\n\tGRP_MUX(\"clkout2\", CGU, ase_pins_clkout2),\n\tGRP_MUX(\"mdio\", MDIO, ase_pins_mdio),\n\tGRP_MUX(\"dfe led0\", DFE, ase_pins_dfe_led0),\n\tGRP_MUX(\"dfe led1\", DFE, ase_pins_dfe_led1),\n\tGRP_MUX(\"ephy led0\", EPHY, ase_pins_ephy_led0),\n\tGRP_MUX(\"ephy led1\", EPHY, ase_pins_ephy_led1),\n\tGRP_MUX(\"ephy led2\", EPHY, ase_pins_ephy_led2),\n};\n\nstatic const char * const ase_exin_grps[] = {\"exin0\", \"exin1\", \"exin2\"};\nstatic const char * const ase_gpt_grps[] = {\"gpt1\", \"gpt2\", \"gpt3\"};\nstatic const char * const ase_cgu_grps[] = {\"clkout0\", \"clkout1\",\n\t\t\t\t\t\t\"clkout2\"};\nstatic const char * const ase_mdio_grps[] = {\"mdio\"};\nstatic const char * const ase_dfe_grps[] = {\"dfe led0\", \"dfe led1\"};\nstatic const char * const ase_ephy_grps[] = {\"ephy led0\", \"ephy led1\",\n\t\t\t\t\t\t\"ephy led2\"};\nstatic const char * const ase_asc_grps[] = {\"asc\"};\nstatic const char * const ase_jtag_grps[] = {\"jtag\"};\nstatic const char * const ase_stp_grps[] = {\"stp\"};\nstatic const char * const ase_spi_grps[] = {\"spi\",   \n\t\t\t\t\t\t\"spi_di\", \"spi_do\",\n\t\t\t\t\t\t\"spi_clk\", \"spi_cs1\",\n\t\t\t\t\t\t\"spi_cs2\", \"spi_cs3\"};\n\nstatic const struct ltq_pmx_func ase_funcs[] = {\n\t{\"spi\",\t\tARRAY_AND_SIZE(ase_spi_grps)},\n\t{\"asc\",\t\tARRAY_AND_SIZE(ase_asc_grps)},\n\t{\"cgu\",\t\tARRAY_AND_SIZE(ase_cgu_grps)},\n\t{\"jtag\",\tARRAY_AND_SIZE(ase_jtag_grps)},\n\t{\"exin\",\tARRAY_AND_SIZE(ase_exin_grps)},\n\t{\"stp\",\t\tARRAY_AND_SIZE(ase_stp_grps)},\n\t{\"gpt\",\t\tARRAY_AND_SIZE(ase_gpt_grps)},\n\t{\"mdio\",\tARRAY_AND_SIZE(ase_mdio_grps)},\n\t{\"ephy\",\tARRAY_AND_SIZE(ase_ephy_grps)},\n\t{\"dfe\",\t\tARRAY_AND_SIZE(ase_dfe_grps)},\n};\n\n \n#define DANUBE_MAX_PIN\t\t32\n\nstatic const struct ltq_mfp_pin danube_mfp[] = {\n\t \n\tMFP_XWAY(GPIO0, GPIO,\tEXIN,\tSDIO,\tTDM),\n\tMFP_XWAY(GPIO1, GPIO,\tEXIN,\tCBUS,\tMII),\n\tMFP_XWAY(GPIO2, GPIO,\tCGU,\tEXIN,\tMII),\n\tMFP_XWAY(GPIO3, GPIO,\tCGU,\tSDIO,\tPCI),\n\tMFP_XWAY(GPIO4, GPIO,\tSTP,\tDFE,\tASC),\n\tMFP_XWAY(GPIO5, GPIO,\tSTP,\tMII,\tDFE),\n\tMFP_XWAY(GPIO6, GPIO,\tSTP,\tGPT,\tASC),\n\tMFP_XWAY(GPIO7, GPIO,\tCGU,\tCBUS,\tMII),\n\tMFP_XWAY(GPIO8, GPIO,\tCGU,\tNMI,\tMII),\n\tMFP_XWAY(GPIO9, GPIO,\tASC,\tSPI,\tMII),\n\tMFP_XWAY(GPIO10, GPIO,\tASC,\tSPI,\tMII),\n\tMFP_XWAY(GPIO11, GPIO,\tASC,\tCBUS,\tSPI),\n\tMFP_XWAY(GPIO12, GPIO,\tASC,\tCBUS,\tMCD),\n\tMFP_XWAY(GPIO13, GPIO,\tEBU,\tSPI,\tMII),\n\tMFP_XWAY(GPIO14, GPIO,\tCGU,\tCBUS,\tMII),\n\tMFP_XWAY(GPIO15, GPIO,\tSPI,\tSDIO,\tJTAG),\n\tMFP_XWAY(GPIO16, GPIO,\tSPI,\tSDIO,\tJTAG),\n\tMFP_XWAY(GPIO17, GPIO,\tSPI,\tSDIO,\tJTAG),\n\tMFP_XWAY(GPIO18, GPIO,\tSPI,\tSDIO,\tJTAG),\n\tMFP_XWAY(GPIO19, GPIO,\tPCI,\tSDIO,\tMII),\n\tMFP_XWAY(GPIO20, GPIO,\tJTAG,\tSDIO,\tMII),\n\tMFP_XWAY(GPIO21, GPIO,\tPCI,\tEBU,\tGPT),\n\tMFP_XWAY(GPIO22, GPIO,\tSPI,\tMCD,\tMII),\n\tMFP_XWAY(GPIO23, GPIO,\tEBU,\tPCI,\tSTP),\n\tMFP_XWAY(GPIO24, GPIO,\tEBU,\tTDM,\tPCI),\n\tMFP_XWAY(GPIO25, GPIO,\tTDM,\tSDIO,\tASC),\n\tMFP_XWAY(GPIO26, GPIO,\tEBU,\tTDM,\tSDIO),\n\tMFP_XWAY(GPIO27, GPIO,\tTDM,\tSDIO,\tASC),\n\tMFP_XWAY(GPIO28, GPIO,\tGPT,\tMII,\tSDIO),\n\tMFP_XWAY(GPIO29, GPIO,\tPCI,\tCBUS,\tMII),\n\tMFP_XWAY(GPIO30, GPIO,\tPCI,\tCBUS,\tMII),\n\tMFP_XWAY(GPIO31, GPIO,\tEBU,\tPCI,\tMII),\n};\n\nstatic const unsigned danube_exin_pin_map[] = {GPIO0, GPIO1, GPIO2};\n\nstatic const unsigned danube_pins_exin0[] = {GPIO0};\nstatic const unsigned danube_pins_exin1[] = {GPIO1};\nstatic const unsigned danube_pins_exin2[] = {GPIO2};\n\nstatic const unsigned danube_pins_jtag[] = {GPIO15, GPIO16, GPIO17, GPIO18, GPIO20};\nstatic const unsigned danube_pins_asc0[] = {GPIO11, GPIO12};\nstatic const unsigned danube_pins_asc0_cts_rts[] = {GPIO9, GPIO10};\nstatic const unsigned danube_pins_stp[] = {GPIO4, GPIO5, GPIO6};\nstatic const unsigned danube_pins_nmi[] = {GPIO8};\n\nstatic const unsigned danube_pins_dfe_led0[] = {GPIO4};\nstatic const unsigned danube_pins_dfe_led1[] = {GPIO5};\n\nstatic const unsigned danube_pins_ebu_a24[] = {GPIO13};\nstatic const unsigned danube_pins_ebu_clk[] = {GPIO21};\nstatic const unsigned danube_pins_ebu_cs1[] = {GPIO23};\nstatic const unsigned danube_pins_ebu_a23[] = {GPIO24};\nstatic const unsigned danube_pins_ebu_wait[] = {GPIO26};\nstatic const unsigned danube_pins_ebu_a25[] = {GPIO31};\n\nstatic const unsigned danube_pins_nand_ale[] = {GPIO13};\nstatic const unsigned danube_pins_nand_cs1[] = {GPIO23};\nstatic const unsigned danube_pins_nand_cle[] = {GPIO24};\n\nstatic const unsigned danube_pins_spi[] = {GPIO16, GPIO17, GPIO18};  \nstatic const unsigned danube_pins_spi_di[] = {GPIO16};\nstatic const unsigned danube_pins_spi_do[] = {GPIO17};\nstatic const unsigned danube_pins_spi_clk[] = {GPIO18};\nstatic const unsigned danube_pins_spi_cs1[] = {GPIO15};\nstatic const unsigned danube_pins_spi_cs2[] = {GPIO21};\nstatic const unsigned danube_pins_spi_cs3[] = {GPIO13};\nstatic const unsigned danube_pins_spi_cs4[] = {GPIO10};\nstatic const unsigned danube_pins_spi_cs5[] = {GPIO9};\nstatic const unsigned danube_pins_spi_cs6[] = {GPIO11};\n\nstatic const unsigned danube_pins_gpt1[] = {GPIO28};\nstatic const unsigned danube_pins_gpt2[] = {GPIO21};\nstatic const unsigned danube_pins_gpt3[] = {GPIO6};\n\nstatic const unsigned danube_pins_clkout0[] = {GPIO8};\nstatic const unsigned danube_pins_clkout1[] = {GPIO7};\nstatic const unsigned danube_pins_clkout2[] = {GPIO3};\nstatic const unsigned danube_pins_clkout3[] = {GPIO2};\n\nstatic const unsigned danube_pins_pci_gnt1[] = {GPIO30};\nstatic const unsigned danube_pins_pci_gnt2[] = {GPIO23};\nstatic const unsigned danube_pins_pci_gnt3[] = {GPIO19};\nstatic const unsigned danube_pins_pci_req1[] = {GPIO29};\nstatic const unsigned danube_pins_pci_req2[] = {GPIO31};\nstatic const unsigned danube_pins_pci_req3[] = {GPIO3};\n\nstatic const struct ltq_pin_group danube_grps[] = {\n\tGRP_MUX(\"exin0\", EXIN, danube_pins_exin0),\n\tGRP_MUX(\"exin1\", EXIN, danube_pins_exin1),\n\tGRP_MUX(\"exin2\", EXIN, danube_pins_exin2),\n\tGRP_MUX(\"jtag\", JTAG, danube_pins_jtag),\n\tGRP_MUX(\"ebu a23\", EBU, danube_pins_ebu_a23),\n\tGRP_MUX(\"ebu a24\", EBU, danube_pins_ebu_a24),\n\tGRP_MUX(\"ebu a25\", EBU, danube_pins_ebu_a25),\n\tGRP_MUX(\"ebu clk\", EBU, danube_pins_ebu_clk),\n\tGRP_MUX(\"ebu cs1\", EBU, danube_pins_ebu_cs1),\n\tGRP_MUX(\"ebu wait\", EBU, danube_pins_ebu_wait),\n\tGRP_MUX(\"nand ale\", EBU, danube_pins_nand_ale),\n\tGRP_MUX(\"nand cs1\", EBU, danube_pins_nand_cs1),\n\tGRP_MUX(\"nand cle\", EBU, danube_pins_nand_cle),\n\tGRP_MUX(\"spi\", SPI, danube_pins_spi),  \n\tGRP_MUX(\"spi_di\", SPI, danube_pins_spi_di),\n\tGRP_MUX(\"spi_do\", SPI, danube_pins_spi_do),\n\tGRP_MUX(\"spi_clk\", SPI, danube_pins_spi_clk),\n\tGRP_MUX(\"spi_cs1\", SPI, danube_pins_spi_cs1),\n\tGRP_MUX(\"spi_cs2\", SPI, danube_pins_spi_cs2),\n\tGRP_MUX(\"spi_cs3\", SPI, danube_pins_spi_cs3),\n\tGRP_MUX(\"spi_cs4\", SPI, danube_pins_spi_cs4),\n\tGRP_MUX(\"spi_cs5\", SPI, danube_pins_spi_cs5),\n\tGRP_MUX(\"spi_cs6\", SPI, danube_pins_spi_cs6),\n\tGRP_MUX(\"asc0\", ASC, danube_pins_asc0),\n\tGRP_MUX(\"asc0 cts rts\", ASC, danube_pins_asc0_cts_rts),\n\tGRP_MUX(\"stp\", STP, danube_pins_stp),\n\tGRP_MUX(\"nmi\", NMI, danube_pins_nmi),\n\tGRP_MUX(\"gpt1\", GPT, danube_pins_gpt1),\n\tGRP_MUX(\"gpt2\", GPT, danube_pins_gpt2),\n\tGRP_MUX(\"gpt3\", GPT, danube_pins_gpt3),\n\tGRP_MUX(\"clkout0\", CGU, danube_pins_clkout0),\n\tGRP_MUX(\"clkout1\", CGU, danube_pins_clkout1),\n\tGRP_MUX(\"clkout2\", CGU, danube_pins_clkout2),\n\tGRP_MUX(\"clkout3\", CGU, danube_pins_clkout3),\n\tGRP_MUX(\"gnt1\", PCI, danube_pins_pci_gnt1),\n\tGRP_MUX(\"gnt2\", PCI, danube_pins_pci_gnt2),\n\tGRP_MUX(\"gnt3\", PCI, danube_pins_pci_gnt3),\n\tGRP_MUX(\"req1\", PCI, danube_pins_pci_req1),\n\tGRP_MUX(\"req2\", PCI, danube_pins_pci_req2),\n\tGRP_MUX(\"req3\", PCI, danube_pins_pci_req3),\n\tGRP_MUX(\"dfe led0\", DFE, danube_pins_dfe_led0),\n\tGRP_MUX(\"dfe led1\", DFE, danube_pins_dfe_led1),\n};\n\nstatic const char * const danube_pci_grps[] = {\"gnt1\", \"gnt2\",\n\t\t\t\t\t\t\"gnt3\", \"req1\",\n\t\t\t\t\t\t\"req2\", \"req3\"};\nstatic const char * const danube_spi_grps[] = {\"spi\",  \n\t\t\t\t\t\t\"spi_di\", \"spi_do\",\n\t\t\t\t\t\t\"spi_clk\", \"spi_cs1\",\n\t\t\t\t\t\t\"spi_cs2\", \"spi_cs3\",\n\t\t\t\t\t\t\"spi_cs4\", \"spi_cs5\",\n\t\t\t\t\t\t\"spi_cs6\"};\nstatic const char * const danube_cgu_grps[] = {\"clkout0\", \"clkout1\",\n\t\t\t\t\t\t\"clkout2\", \"clkout3\"};\nstatic const char * const danube_ebu_grps[] = {\"ebu a23\", \"ebu a24\",\n\t\t\t\t\t\t\"ebu a25\", \"ebu cs1\",\n\t\t\t\t\t\t\"ebu wait\", \"ebu clk\",\n\t\t\t\t\t\t\"nand ale\", \"nand cs1\",\n\t\t\t\t\t\t\"nand cle\"};\nstatic const char * const danube_dfe_grps[] = {\"dfe led0\", \"dfe led1\"};\nstatic const char * const danube_exin_grps[] = {\"exin0\", \"exin1\", \"exin2\"};\nstatic const char * const danube_gpt_grps[] = {\"gpt1\", \"gpt2\", \"gpt3\"};\nstatic const char * const danube_asc_grps[] = {\"asc0\", \"asc0 cts rts\"};\nstatic const char * const danube_jtag_grps[] = {\"jtag\"};\nstatic const char * const danube_stp_grps[] = {\"stp\"};\nstatic const char * const danube_nmi_grps[] = {\"nmi\"};\n\nstatic const struct ltq_pmx_func danube_funcs[] = {\n\t{\"spi\",\t\tARRAY_AND_SIZE(danube_spi_grps)},\n\t{\"asc\",\t\tARRAY_AND_SIZE(danube_asc_grps)},\n\t{\"cgu\",\t\tARRAY_AND_SIZE(danube_cgu_grps)},\n\t{\"jtag\",\tARRAY_AND_SIZE(danube_jtag_grps)},\n\t{\"exin\",\tARRAY_AND_SIZE(danube_exin_grps)},\n\t{\"stp\",\t\tARRAY_AND_SIZE(danube_stp_grps)},\n\t{\"gpt\",\t\tARRAY_AND_SIZE(danube_gpt_grps)},\n\t{\"nmi\",\t\tARRAY_AND_SIZE(danube_nmi_grps)},\n\t{\"pci\",\t\tARRAY_AND_SIZE(danube_pci_grps)},\n\t{\"ebu\",\t\tARRAY_AND_SIZE(danube_ebu_grps)},\n\t{\"dfe\",\t\tARRAY_AND_SIZE(danube_dfe_grps)},\n};\n\n \n#define XRX100_MAX_PIN\t\t56\n\nstatic const struct ltq_mfp_pin xrx100_mfp[] = {\n\t \n\tMFP_XWAY(GPIO0, GPIO,\tEXIN,\tSDIO,\tTDM),\n\tMFP_XWAY(GPIO1, GPIO,\tEXIN,\tCBUS,\tSIN),\n\tMFP_XWAY(GPIO2, GPIO,\tCGU,\tEXIN,\tNONE),\n\tMFP_XWAY(GPIO3, GPIO,\tCGU,\tSDIO,\tPCI),\n\tMFP_XWAY(GPIO4, GPIO,\tSTP,\tDFE,\tASC),\n\tMFP_XWAY(GPIO5, GPIO,\tSTP,\tNONE,\tDFE),\n\tMFP_XWAY(GPIO6, GPIO,\tSTP,\tGPT,\tASC),\n\tMFP_XWAY(GPIO7, GPIO,\tCGU,\tCBUS,\tNONE),\n\tMFP_XWAY(GPIO8, GPIO,\tCGU,\tNMI,\tNONE),\n\tMFP_XWAY(GPIO9, GPIO,\tASC,\tSPI,\tEXIN),\n\tMFP_XWAY(GPIO10, GPIO,\tASC,\tSPI,\tEXIN),\n\tMFP_XWAY(GPIO11, GPIO,\tASC,\tCBUS,\tSPI),\n\tMFP_XWAY(GPIO12, GPIO,\tASC,\tCBUS,\tMCD),\n\tMFP_XWAY(GPIO13, GPIO,\tEBU,\tSPI,\tNONE),\n\tMFP_XWAY(GPIO14, GPIO,\tCGU,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO15, GPIO,\tSPI,\tSDIO,\tMCD),\n\tMFP_XWAY(GPIO16, GPIO,\tSPI,\tSDIO,\tNONE),\n\tMFP_XWAY(GPIO17, GPIO,\tSPI,\tSDIO,\tNONE),\n\tMFP_XWAY(GPIO18, GPIO,\tSPI,\tSDIO,\tNONE),\n\tMFP_XWAY(GPIO19, GPIO,\tPCI,\tSDIO,\tCGU),\n\tMFP_XWAY(GPIO20, GPIO,\tNONE,\tSDIO,\tEBU),\n\tMFP_XWAY(GPIO21, GPIO,\tPCI,\tEBU,\tGPT),\n\tMFP_XWAY(GPIO22, GPIO,\tSPI,\tNONE,\tEBU),\n\tMFP_XWAY(GPIO23, GPIO,\tEBU,\tPCI,\tSTP),\n\tMFP_XWAY(GPIO24, GPIO,\tEBU,\tTDM,\tPCI),\n\tMFP_XWAY(GPIO25, GPIO,\tTDM,\tSDIO,\tASC),\n\tMFP_XWAY(GPIO26, GPIO,\tEBU,\tTDM,\tSDIO),\n\tMFP_XWAY(GPIO27, GPIO,\tTDM,\tSDIO,\tASC),\n\tMFP_XWAY(GPIO28, GPIO,\tGPT,\tNONE,\tSDIO),\n\tMFP_XWAY(GPIO29, GPIO,\tPCI,\tCBUS,\tNONE),\n\tMFP_XWAY(GPIO30, GPIO,\tPCI,\tCBUS,\tNONE),\n\tMFP_XWAY(GPIO31, GPIO,\tEBU,\tPCI,\tNONE),\n\tMFP_XWAY(GPIO32, GPIO,\tMII,\tNONE,\tEBU),\n\tMFP_XWAY(GPIO33, GPIO,\tMII,\tNONE,\tEBU),\n\tMFP_XWAY(GPIO34, GPIO,\tSIN,\tSSI,\tNONE),\n\tMFP_XWAY(GPIO35, GPIO,\tSIN,\tSSI,\tNONE),\n\tMFP_XWAY(GPIO36, GPIO,\tSIN,\tSSI,\tNONE),\n\tMFP_XWAY(GPIO37, GPIO,\tPCI,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO38, GPIO,\tPCI,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO39, GPIO,\tNONE,\tEXIN,\tNONE),\n\tMFP_XWAY(GPIO40, GPIO,\tMII,\tTDM,\tNONE),\n\tMFP_XWAY(GPIO41, GPIO,\tMII,\tTDM,\tNONE),\n\tMFP_XWAY(GPIO42, GPIO,\tMDIO,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO43, GPIO,\tMDIO,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO44, GPIO,\tMII,\tSIN,\tNONE),\n\tMFP_XWAY(GPIO45, GPIO,\tMII,\tNONE,\tSIN),\n\tMFP_XWAY(GPIO46, GPIO,\tMII,\tNONE,\tEXIN),\n\tMFP_XWAY(GPIO47, GPIO,\tMII,\tNONE,\tSIN),\n\tMFP_XWAY(GPIO48, GPIO,\tEBU,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO49, GPIO,\tEBU,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO50, GPIO,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO51, GPIO,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO52, GPIO,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO53, GPIO,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO54, GPIO,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO55, GPIO,\tNONE,\tNONE,\tNONE),\n};\n\nstatic const unsigned xrx100_exin_pin_map[] = {GPIO0, GPIO1, GPIO2, GPIO39, GPIO10, GPIO9};\n\nstatic const unsigned xrx100_pins_exin0[] = {GPIO0};\nstatic const unsigned xrx100_pins_exin1[] = {GPIO1};\nstatic const unsigned xrx100_pins_exin2[] = {GPIO2};\nstatic const unsigned xrx100_pins_exin3[] = {GPIO39};\nstatic const unsigned xrx100_pins_exin4[] = {GPIO10};\nstatic const unsigned xrx100_pins_exin5[] = {GPIO9};\n\nstatic const unsigned xrx100_pins_asc0[] = {GPIO11, GPIO12};\nstatic const unsigned xrx100_pins_asc0_cts_rts[] = {GPIO9, GPIO10};\nstatic const unsigned xrx100_pins_stp[] = {GPIO4, GPIO5, GPIO6};\nstatic const unsigned xrx100_pins_nmi[] = {GPIO8};\nstatic const unsigned xrx100_pins_mdio[] = {GPIO42, GPIO43};\n\nstatic const unsigned xrx100_pins_dfe_led0[] = {GPIO4};\nstatic const unsigned xrx100_pins_dfe_led1[] = {GPIO5};\n\nstatic const unsigned xrx100_pins_ebu_a24[] = {GPIO13};\nstatic const unsigned xrx100_pins_ebu_clk[] = {GPIO21};\nstatic const unsigned xrx100_pins_ebu_cs1[] = {GPIO23};\nstatic const unsigned xrx100_pins_ebu_a23[] = {GPIO24};\nstatic const unsigned xrx100_pins_ebu_wait[] = {GPIO26};\nstatic const unsigned xrx100_pins_ebu_a25[] = {GPIO31};\n\nstatic const unsigned xrx100_pins_nand_ale[] = {GPIO13};\nstatic const unsigned xrx100_pins_nand_cs1[] = {GPIO23};\nstatic const unsigned xrx100_pins_nand_cle[] = {GPIO24};\nstatic const unsigned xrx100_pins_nand_rdy[] = {GPIO48};\nstatic const unsigned xrx100_pins_nand_rd[] = {GPIO49};\n\nstatic const unsigned xrx100_pins_spi_di[] = {GPIO16};\nstatic const unsigned xrx100_pins_spi_do[] = {GPIO17};\nstatic const unsigned xrx100_pins_spi_clk[] = {GPIO18};\nstatic const unsigned xrx100_pins_spi_cs1[] = {GPIO15};\nstatic const unsigned xrx100_pins_spi_cs2[] = {GPIO22};\nstatic const unsigned xrx100_pins_spi_cs3[] = {GPIO13};\nstatic const unsigned xrx100_pins_spi_cs4[] = {GPIO10};\nstatic const unsigned xrx100_pins_spi_cs5[] = {GPIO9};\nstatic const unsigned xrx100_pins_spi_cs6[] = {GPIO11};\n\nstatic const unsigned xrx100_pins_gpt1[] = {GPIO28};\nstatic const unsigned xrx100_pins_gpt2[] = {GPIO21};\nstatic const unsigned xrx100_pins_gpt3[] = {GPIO6};\n\nstatic const unsigned xrx100_pins_clkout0[] = {GPIO8};\nstatic const unsigned xrx100_pins_clkout1[] = {GPIO7};\nstatic const unsigned xrx100_pins_clkout2[] = {GPIO3};\nstatic const unsigned xrx100_pins_clkout3[] = {GPIO2};\n\nstatic const unsigned xrx100_pins_pci_gnt1[] = {GPIO30};\nstatic const unsigned xrx100_pins_pci_gnt2[] = {GPIO23};\nstatic const unsigned xrx100_pins_pci_gnt3[] = {GPIO19};\nstatic const unsigned xrx100_pins_pci_gnt4[] = {GPIO38};\nstatic const unsigned xrx100_pins_pci_req1[] = {GPIO29};\nstatic const unsigned xrx100_pins_pci_req2[] = {GPIO31};\nstatic const unsigned xrx100_pins_pci_req3[] = {GPIO3};\nstatic const unsigned xrx100_pins_pci_req4[] = {GPIO37};\n\nstatic const struct ltq_pin_group xrx100_grps[] = {\n\tGRP_MUX(\"exin0\", EXIN, xrx100_pins_exin0),\n\tGRP_MUX(\"exin1\", EXIN, xrx100_pins_exin1),\n\tGRP_MUX(\"exin2\", EXIN, xrx100_pins_exin2),\n\tGRP_MUX(\"exin3\", EXIN, xrx100_pins_exin3),\n\tGRP_MUX(\"exin4\", EXIN, xrx100_pins_exin4),\n\tGRP_MUX(\"exin5\", EXIN, xrx100_pins_exin5),\n\tGRP_MUX(\"ebu a23\", EBU, xrx100_pins_ebu_a23),\n\tGRP_MUX(\"ebu a24\", EBU, xrx100_pins_ebu_a24),\n\tGRP_MUX(\"ebu a25\", EBU, xrx100_pins_ebu_a25),\n\tGRP_MUX(\"ebu clk\", EBU, xrx100_pins_ebu_clk),\n\tGRP_MUX(\"ebu cs1\", EBU, xrx100_pins_ebu_cs1),\n\tGRP_MUX(\"ebu wait\", EBU, xrx100_pins_ebu_wait),\n\tGRP_MUX(\"nand ale\", EBU, xrx100_pins_nand_ale),\n\tGRP_MUX(\"nand cs1\", EBU, xrx100_pins_nand_cs1),\n\tGRP_MUX(\"nand cle\", EBU, xrx100_pins_nand_cle),\n\tGRP_MUX(\"nand rdy\", EBU, xrx100_pins_nand_rdy),\n\tGRP_MUX(\"nand rd\", EBU, xrx100_pins_nand_rd),\n\tGRP_MUX(\"spi_di\", SPI, xrx100_pins_spi_di),\n\tGRP_MUX(\"spi_do\", SPI, xrx100_pins_spi_do),\n\tGRP_MUX(\"spi_clk\", SPI, xrx100_pins_spi_clk),\n\tGRP_MUX(\"spi_cs1\", SPI, xrx100_pins_spi_cs1),\n\tGRP_MUX(\"spi_cs2\", SPI, xrx100_pins_spi_cs2),\n\tGRP_MUX(\"spi_cs3\", SPI, xrx100_pins_spi_cs3),\n\tGRP_MUX(\"spi_cs4\", SPI, xrx100_pins_spi_cs4),\n\tGRP_MUX(\"spi_cs5\", SPI, xrx100_pins_spi_cs5),\n\tGRP_MUX(\"spi_cs6\", SPI, xrx100_pins_spi_cs6),\n\tGRP_MUX(\"asc0\", ASC, xrx100_pins_asc0),\n\tGRP_MUX(\"asc0 cts rts\", ASC, xrx100_pins_asc0_cts_rts),\n\tGRP_MUX(\"stp\", STP, xrx100_pins_stp),\n\tGRP_MUX(\"nmi\", NMI, xrx100_pins_nmi),\n\tGRP_MUX(\"gpt1\", GPT, xrx100_pins_gpt1),\n\tGRP_MUX(\"gpt2\", GPT, xrx100_pins_gpt2),\n\tGRP_MUX(\"gpt3\", GPT, xrx100_pins_gpt3),\n\tGRP_MUX(\"clkout0\", CGU, xrx100_pins_clkout0),\n\tGRP_MUX(\"clkout1\", CGU, xrx100_pins_clkout1),\n\tGRP_MUX(\"clkout2\", CGU, xrx100_pins_clkout2),\n\tGRP_MUX(\"clkout3\", CGU, xrx100_pins_clkout3),\n\tGRP_MUX(\"gnt1\", PCI, xrx100_pins_pci_gnt1),\n\tGRP_MUX(\"gnt2\", PCI, xrx100_pins_pci_gnt2),\n\tGRP_MUX(\"gnt3\", PCI, xrx100_pins_pci_gnt3),\n\tGRP_MUX(\"gnt4\", PCI, xrx100_pins_pci_gnt4),\n\tGRP_MUX(\"req1\", PCI, xrx100_pins_pci_req1),\n\tGRP_MUX(\"req2\", PCI, xrx100_pins_pci_req2),\n\tGRP_MUX(\"req3\", PCI, xrx100_pins_pci_req3),\n\tGRP_MUX(\"req4\", PCI, xrx100_pins_pci_req4),\n\tGRP_MUX(\"mdio\", MDIO, xrx100_pins_mdio),\n\tGRP_MUX(\"dfe led0\", DFE, xrx100_pins_dfe_led0),\n\tGRP_MUX(\"dfe led1\", DFE, xrx100_pins_dfe_led1),\n};\n\nstatic const char * const xrx100_pci_grps[] = {\"gnt1\", \"gnt2\",\n\t\t\t\t\t\t\"gnt3\", \"gnt4\",\n\t\t\t\t\t\t\"req1\", \"req2\",\n\t\t\t\t\t\t\"req3\", \"req4\"};\nstatic const char * const xrx100_spi_grps[] = {\"spi_di\", \"spi_do\",\n\t\t\t\t\t\t\"spi_clk\", \"spi_cs1\",\n\t\t\t\t\t\t\"spi_cs2\", \"spi_cs3\",\n\t\t\t\t\t\t\"spi_cs4\", \"spi_cs5\",\n\t\t\t\t\t\t\"spi_cs6\"};\nstatic const char * const xrx100_cgu_grps[] = {\"clkout0\", \"clkout1\",\n\t\t\t\t\t\t\"clkout2\", \"clkout3\"};\nstatic const char * const xrx100_ebu_grps[] = {\"ebu a23\", \"ebu a24\",\n\t\t\t\t\t\t\"ebu a25\", \"ebu cs1\",\n\t\t\t\t\t\t\"ebu wait\", \"ebu clk\",\n\t\t\t\t\t\t\"nand ale\", \"nand cs1\",\n\t\t\t\t\t\t\"nand cle\", \"nand rdy\",\n\t\t\t\t\t\t\"nand rd\"};\nstatic const char * const xrx100_exin_grps[] = {\"exin0\", \"exin1\", \"exin2\",\n\t\t\t\t\t\t\"exin3\", \"exin4\", \"exin5\"};\nstatic const char * const xrx100_gpt_grps[] = {\"gpt1\", \"gpt2\", \"gpt3\"};\nstatic const char * const xrx100_asc_grps[] = {\"asc0\", \"asc0 cts rts\"};\nstatic const char * const xrx100_stp_grps[] = {\"stp\"};\nstatic const char * const xrx100_nmi_grps[] = {\"nmi\"};\nstatic const char * const xrx100_mdio_grps[] = {\"mdio\"};\nstatic const char * const xrx100_dfe_grps[] = {\"dfe led0\", \"dfe led1\"};\n\nstatic const struct ltq_pmx_func xrx100_funcs[] = {\n\t{\"spi\",\t\tARRAY_AND_SIZE(xrx100_spi_grps)},\n\t{\"asc\",\t\tARRAY_AND_SIZE(xrx100_asc_grps)},\n\t{\"cgu\",\t\tARRAY_AND_SIZE(xrx100_cgu_grps)},\n\t{\"exin\",\tARRAY_AND_SIZE(xrx100_exin_grps)},\n\t{\"stp\",\t\tARRAY_AND_SIZE(xrx100_stp_grps)},\n\t{\"gpt\",\t\tARRAY_AND_SIZE(xrx100_gpt_grps)},\n\t{\"nmi\",\t\tARRAY_AND_SIZE(xrx100_nmi_grps)},\n\t{\"pci\",\t\tARRAY_AND_SIZE(xrx100_pci_grps)},\n\t{\"ebu\",\t\tARRAY_AND_SIZE(xrx100_ebu_grps)},\n\t{\"mdio\",\tARRAY_AND_SIZE(xrx100_mdio_grps)},\n\t{\"dfe\",\t\tARRAY_AND_SIZE(xrx100_dfe_grps)},\n};\n\n \n#define XRX200_MAX_PIN\t\t50\n\nstatic const struct ltq_mfp_pin xrx200_mfp[] = {\n\t \n\tMFP_XWAY(GPIO0, GPIO,\tEXIN,\tSDIO,\tTDM),\n\tMFP_XWAY(GPIO1, GPIO,\tEXIN,\tCBUS,\tSIN),\n\tMFP_XWAY(GPIO2, GPIO,\tCGU,\tEXIN,\tGPHY),\n\tMFP_XWAY(GPIO3, GPIO,\tCGU,\tSDIO,\tPCI),\n\tMFP_XWAY(GPIO4, GPIO,\tSTP,\tDFE,\tUSIF),\n\tMFP_XWAY(GPIO5, GPIO,\tSTP,\tGPHY,\tDFE),\n\tMFP_XWAY(GPIO6, GPIO,\tSTP,\tGPT,\tUSIF),\n\tMFP_XWAY(GPIO7, GPIO,\tCGU,\tCBUS,\tGPHY),\n\tMFP_XWAY(GPIO8, GPIO,\tCGU,\tNMI,\tNONE),\n\tMFP_XWAY(GPIO9, GPIO,\tUSIF,\tSPI,\tEXIN),\n\tMFP_XWAY(GPIO10, GPIO,\tUSIF,\tSPI,\tEXIN),\n\tMFP_XWAY(GPIO11, GPIO,\tUSIF,\tCBUS,\tSPI),\n\tMFP_XWAY(GPIO12, GPIO,\tUSIF,\tCBUS,\tMCD),\n\tMFP_XWAY(GPIO13, GPIO,\tEBU,\tSPI,\tNONE),\n\tMFP_XWAY(GPIO14, GPIO,\tCGU,\tCBUS,\tUSIF),\n\tMFP_XWAY(GPIO15, GPIO,\tSPI,\tSDIO,\tMCD),\n\tMFP_XWAY(GPIO16, GPIO,\tSPI,\tSDIO,\tNONE),\n\tMFP_XWAY(GPIO17, GPIO,\tSPI,\tSDIO,\tNONE),\n\tMFP_XWAY(GPIO18, GPIO,\tSPI,\tSDIO,\tNONE),\n\tMFP_XWAY(GPIO19, GPIO,\tPCI,\tSDIO,\tCGU),\n\tMFP_XWAY(GPIO20, GPIO,\tNONE,\tSDIO,\tEBU),\n\tMFP_XWAY(GPIO21, GPIO,\tPCI,\tEBU,\tGPT),\n\tMFP_XWAY(GPIO22, GPIO,\tSPI,\tCGU,\tEBU),\n\tMFP_XWAY(GPIO23, GPIO,\tEBU,\tPCI,\tSTP),\n\tMFP_XWAY(GPIO24, GPIO,\tEBU,\tTDM,\tPCI),\n\tMFP_XWAY(GPIO25, GPIO,\tTDM,\tSDIO,\tUSIF),\n\tMFP_XWAY(GPIO26, GPIO,\tEBU,\tTDM,\tSDIO),\n\tMFP_XWAY(GPIO27, GPIO,\tTDM,\tSDIO,\tUSIF),\n\tMFP_XWAY(GPIO28, GPIO,\tGPT,\tPCI,\tSDIO),\n\tMFP_XWAY(GPIO29, GPIO,\tPCI,\tCBUS,\tEXIN),\n\tMFP_XWAY(GPIO30, GPIO,\tPCI,\tCBUS,\tNONE),\n\tMFP_XWAY(GPIO31, GPIO,\tEBU,\tPCI,\tNONE),\n\tMFP_XWAY(GPIO32, GPIO,\tMII,\tNONE,\tEBU),\n\tMFP_XWAY(GPIO33, GPIO,\tMII,\tNONE,\tEBU),\n\tMFP_XWAY(GPIO34, GPIO,\tSIN,\tSSI,\tNONE),\n\tMFP_XWAY(GPIO35, GPIO,\tSIN,\tSSI,\tNONE),\n\tMFP_XWAY(GPIO36, GPIO,\tSIN,\tSSI,\tEXIN),\n\tMFP_XWAY(GPIO37, GPIO,\tUSIF,\tNONE,\tPCI),\n\tMFP_XWAY(GPIO38, GPIO,\tPCI,\tUSIF,\tNONE),\n\tMFP_XWAY(GPIO39, GPIO,\tUSIF,\tEXIN,\tNONE),\n\tMFP_XWAY(GPIO40, GPIO,\tMII,\tTDM,\tNONE),\n\tMFP_XWAY(GPIO41, GPIO,\tMII,\tTDM,\tNONE),\n\tMFP_XWAY(GPIO42, GPIO,\tMDIO,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO43, GPIO,\tMDIO,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO44, GPIO,\tMII,\tSIN,\tGPHY),\n\tMFP_XWAY(GPIO45, GPIO,\tMII,\tGPHY,\tSIN),\n\tMFP_XWAY(GPIO46, GPIO,\tMII,\tNONE,\tEXIN),\n\tMFP_XWAY(GPIO47, GPIO,\tMII,\tGPHY,\tSIN),\n\tMFP_XWAY(GPIO48, GPIO,\tEBU,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO49, GPIO,\tEBU,\tNONE,\tNONE),\n};\n\nstatic const unsigned xrx200_exin_pin_map[] = {GPIO0, GPIO1, GPIO2, GPIO39, GPIO10, GPIO9};\n\nstatic const unsigned xrx200_pins_exin0[] = {GPIO0};\nstatic const unsigned xrx200_pins_exin1[] = {GPIO1};\nstatic const unsigned xrx200_pins_exin2[] = {GPIO2};\nstatic const unsigned xrx200_pins_exin3[] = {GPIO39};\nstatic const unsigned xrx200_pins_exin4[] = {GPIO10};\nstatic const unsigned xrx200_pins_exin5[] = {GPIO9};\n\nstatic const unsigned xrx200_pins_usif_uart_rx[] = {GPIO11};\nstatic const unsigned xrx200_pins_usif_uart_tx[] = {GPIO12};\nstatic const unsigned xrx200_pins_usif_uart_rts[] = {GPIO9};\nstatic const unsigned xrx200_pins_usif_uart_cts[] = {GPIO10};\nstatic const unsigned xrx200_pins_usif_uart_dtr[] = {GPIO4};\nstatic const unsigned xrx200_pins_usif_uart_dsr[] = {GPIO6};\nstatic const unsigned xrx200_pins_usif_uart_dcd[] = {GPIO25};\nstatic const unsigned xrx200_pins_usif_uart_ri[] = {GPIO27};\n\nstatic const unsigned xrx200_pins_usif_spi_di[] = {GPIO11};\nstatic const unsigned xrx200_pins_usif_spi_do[] = {GPIO12};\nstatic const unsigned xrx200_pins_usif_spi_clk[] = {GPIO38};\nstatic const unsigned xrx200_pins_usif_spi_cs0[] = {GPIO37};\nstatic const unsigned xrx200_pins_usif_spi_cs1[] = {GPIO39};\nstatic const unsigned xrx200_pins_usif_spi_cs2[] = {GPIO14};\n\nstatic const unsigned xrx200_pins_stp[] = {GPIO4, GPIO5, GPIO6};\nstatic const unsigned xrx200_pins_nmi[] = {GPIO8};\nstatic const unsigned xrx200_pins_mdio[] = {GPIO42, GPIO43};\n\nstatic const unsigned xrx200_pins_dfe_led0[] = {GPIO4};\nstatic const unsigned xrx200_pins_dfe_led1[] = {GPIO5};\n\nstatic const unsigned xrx200_pins_gphy0_led0[] = {GPIO5};\nstatic const unsigned xrx200_pins_gphy0_led1[] = {GPIO7};\nstatic const unsigned xrx200_pins_gphy0_led2[] = {GPIO2};\nstatic const unsigned xrx200_pins_gphy1_led0[] = {GPIO44};\nstatic const unsigned xrx200_pins_gphy1_led1[] = {GPIO45};\nstatic const unsigned xrx200_pins_gphy1_led2[] = {GPIO47};\n\nstatic const unsigned xrx200_pins_ebu_a24[] = {GPIO13};\nstatic const unsigned xrx200_pins_ebu_clk[] = {GPIO21};\nstatic const unsigned xrx200_pins_ebu_cs1[] = {GPIO23};\nstatic const unsigned xrx200_pins_ebu_a23[] = {GPIO24};\nstatic const unsigned xrx200_pins_ebu_wait[] = {GPIO26};\nstatic const unsigned xrx200_pins_ebu_a25[] = {GPIO31};\n\nstatic const unsigned xrx200_pins_nand_ale[] = {GPIO13};\nstatic const unsigned xrx200_pins_nand_cs1[] = {GPIO23};\nstatic const unsigned xrx200_pins_nand_cle[] = {GPIO24};\nstatic const unsigned xrx200_pins_nand_rdy[] = {GPIO48};\nstatic const unsigned xrx200_pins_nand_rd[] = {GPIO49};\n\nstatic const unsigned xrx200_pins_spi_di[] = {GPIO16};\nstatic const unsigned xrx200_pins_spi_do[] = {GPIO17};\nstatic const unsigned xrx200_pins_spi_clk[] = {GPIO18};\nstatic const unsigned xrx200_pins_spi_cs1[] = {GPIO15};\nstatic const unsigned xrx200_pins_spi_cs2[] = {GPIO22};\nstatic const unsigned xrx200_pins_spi_cs3[] = {GPIO13};\nstatic const unsigned xrx200_pins_spi_cs4[] = {GPIO10};\nstatic const unsigned xrx200_pins_spi_cs5[] = {GPIO9};\nstatic const unsigned xrx200_pins_spi_cs6[] = {GPIO11};\n\nstatic const unsigned xrx200_pins_gpt1[] = {GPIO28};\nstatic const unsigned xrx200_pins_gpt2[] = {GPIO21};\nstatic const unsigned xrx200_pins_gpt3[] = {GPIO6};\n\nstatic const unsigned xrx200_pins_clkout0[] = {GPIO8};\nstatic const unsigned xrx200_pins_clkout1[] = {GPIO7};\nstatic const unsigned xrx200_pins_clkout2[] = {GPIO3};\nstatic const unsigned xrx200_pins_clkout3[] = {GPIO2};\n\nstatic const unsigned xrx200_pins_pci_gnt1[] = {GPIO28};\nstatic const unsigned xrx200_pins_pci_gnt2[] = {GPIO23};\nstatic const unsigned xrx200_pins_pci_gnt3[] = {GPIO19};\nstatic const unsigned xrx200_pins_pci_gnt4[] = {GPIO38};\nstatic const unsigned xrx200_pins_pci_req1[] = {GPIO29};\nstatic const unsigned xrx200_pins_pci_req2[] = {GPIO31};\nstatic const unsigned xrx200_pins_pci_req3[] = {GPIO3};\nstatic const unsigned xrx200_pins_pci_req4[] = {GPIO37};\n\nstatic const struct ltq_pin_group xrx200_grps[] = {\n\tGRP_MUX(\"exin0\", EXIN, xrx200_pins_exin0),\n\tGRP_MUX(\"exin1\", EXIN, xrx200_pins_exin1),\n\tGRP_MUX(\"exin2\", EXIN, xrx200_pins_exin2),\n\tGRP_MUX(\"exin3\", EXIN, xrx200_pins_exin3),\n\tGRP_MUX(\"exin4\", EXIN, xrx200_pins_exin4),\n\tGRP_MUX(\"exin5\", EXIN, xrx200_pins_exin5),\n\tGRP_MUX(\"ebu a23\", EBU, xrx200_pins_ebu_a23),\n\tGRP_MUX(\"ebu a24\", EBU, xrx200_pins_ebu_a24),\n\tGRP_MUX(\"ebu a25\", EBU, xrx200_pins_ebu_a25),\n\tGRP_MUX(\"ebu clk\", EBU, xrx200_pins_ebu_clk),\n\tGRP_MUX(\"ebu cs1\", EBU, xrx200_pins_ebu_cs1),\n\tGRP_MUX(\"ebu wait\", EBU, xrx200_pins_ebu_wait),\n\tGRP_MUX(\"nand ale\", EBU, xrx200_pins_nand_ale),\n\tGRP_MUX(\"nand cs1\", EBU, xrx200_pins_nand_cs1),\n\tGRP_MUX(\"nand cle\", EBU, xrx200_pins_nand_cle),\n\tGRP_MUX(\"nand rdy\", EBU, xrx200_pins_nand_rdy),\n\tGRP_MUX(\"nand rd\", EBU, xrx200_pins_nand_rd),\n\tGRP_MUX(\"spi_di\", SPI, xrx200_pins_spi_di),\n\tGRP_MUX(\"spi_do\", SPI, xrx200_pins_spi_do),\n\tGRP_MUX(\"spi_clk\", SPI, xrx200_pins_spi_clk),\n\tGRP_MUX(\"spi_cs1\", SPI, xrx200_pins_spi_cs1),\n\tGRP_MUX(\"spi_cs2\", SPI, xrx200_pins_spi_cs2),\n\tGRP_MUX(\"spi_cs3\", SPI, xrx200_pins_spi_cs3),\n\tGRP_MUX(\"spi_cs4\", SPI, xrx200_pins_spi_cs4),\n\tGRP_MUX(\"spi_cs5\", SPI, xrx200_pins_spi_cs5),\n\tGRP_MUX(\"spi_cs6\", SPI, xrx200_pins_spi_cs6),\n\tGRP_MUX(\"usif uart_rx\", USIF, xrx200_pins_usif_uart_rx),\n\tGRP_MUX(\"usif uart_tx\", USIF, xrx200_pins_usif_uart_tx),\n\tGRP_MUX(\"usif uart_rts\", USIF, xrx200_pins_usif_uart_rts),\n\tGRP_MUX(\"usif uart_cts\", USIF, xrx200_pins_usif_uart_cts),\n\tGRP_MUX(\"usif uart_dtr\", USIF, xrx200_pins_usif_uart_dtr),\n\tGRP_MUX(\"usif uart_dsr\", USIF, xrx200_pins_usif_uart_dsr),\n\tGRP_MUX(\"usif uart_dcd\", USIF, xrx200_pins_usif_uart_dcd),\n\tGRP_MUX(\"usif uart_ri\", USIF, xrx200_pins_usif_uart_ri),\n\tGRP_MUX(\"usif spi_di\", USIF, xrx200_pins_usif_spi_di),\n\tGRP_MUX(\"usif spi_do\", USIF, xrx200_pins_usif_spi_do),\n\tGRP_MUX(\"usif spi_clk\", USIF, xrx200_pins_usif_spi_clk),\n\tGRP_MUX(\"usif spi_cs0\", USIF, xrx200_pins_usif_spi_cs0),\n\tGRP_MUX(\"usif spi_cs1\", USIF, xrx200_pins_usif_spi_cs1),\n\tGRP_MUX(\"usif spi_cs2\", USIF, xrx200_pins_usif_spi_cs2),\n\tGRP_MUX(\"stp\", STP, xrx200_pins_stp),\n\tGRP_MUX(\"nmi\", NMI, xrx200_pins_nmi),\n\tGRP_MUX(\"gpt1\", GPT, xrx200_pins_gpt1),\n\tGRP_MUX(\"gpt2\", GPT, xrx200_pins_gpt2),\n\tGRP_MUX(\"gpt3\", GPT, xrx200_pins_gpt3),\n\tGRP_MUX(\"clkout0\", CGU, xrx200_pins_clkout0),\n\tGRP_MUX(\"clkout1\", CGU, xrx200_pins_clkout1),\n\tGRP_MUX(\"clkout2\", CGU, xrx200_pins_clkout2),\n\tGRP_MUX(\"clkout3\", CGU, xrx200_pins_clkout3),\n\tGRP_MUX(\"gnt1\", PCI, xrx200_pins_pci_gnt1),\n\tGRP_MUX(\"gnt2\", PCI, xrx200_pins_pci_gnt2),\n\tGRP_MUX(\"gnt3\", PCI, xrx200_pins_pci_gnt3),\n\tGRP_MUX(\"gnt4\", PCI, xrx200_pins_pci_gnt4),\n\tGRP_MUX(\"req1\", PCI, xrx200_pins_pci_req1),\n\tGRP_MUX(\"req2\", PCI, xrx200_pins_pci_req2),\n\tGRP_MUX(\"req3\", PCI, xrx200_pins_pci_req3),\n\tGRP_MUX(\"req4\", PCI, xrx200_pins_pci_req4),\n\tGRP_MUX(\"mdio\", MDIO, xrx200_pins_mdio),\n\tGRP_MUX(\"dfe led0\", DFE, xrx200_pins_dfe_led0),\n\tGRP_MUX(\"dfe led1\", DFE, xrx200_pins_dfe_led1),\n\tGRP_MUX(\"gphy0 led0\", GPHY, xrx200_pins_gphy0_led0),\n\tGRP_MUX(\"gphy0 led1\", GPHY, xrx200_pins_gphy0_led1),\n\tGRP_MUX(\"gphy0 led2\", GPHY, xrx200_pins_gphy0_led2),\n\tGRP_MUX(\"gphy1 led0\", GPHY, xrx200_pins_gphy1_led0),\n\tGRP_MUX(\"gphy1 led1\", GPHY, xrx200_pins_gphy1_led1),\n\tGRP_MUX(\"gphy1 led2\", GPHY, xrx200_pins_gphy1_led2),\n};\n\nstatic const char * const xrx200_pci_grps[] = {\"gnt1\", \"gnt2\",\n\t\t\t\t\t\t\"gnt3\", \"gnt4\",\n\t\t\t\t\t\t\"req1\", \"req2\",\n\t\t\t\t\t\t\"req3\", \"req4\"};\nstatic const char * const xrx200_spi_grps[] = {\"spi_di\", \"spi_do\",\n\t\t\t\t\t\t\"spi_clk\", \"spi_cs1\",\n\t\t\t\t\t\t\"spi_cs2\", \"spi_cs3\",\n\t\t\t\t\t\t\"spi_cs4\", \"spi_cs5\",\n\t\t\t\t\t\t\"spi_cs6\"};\nstatic const char * const xrx200_cgu_grps[] = {\"clkout0\", \"clkout1\",\n\t\t\t\t\t\t\"clkout2\", \"clkout3\"};\nstatic const char * const xrx200_ebu_grps[] = {\"ebu a23\", \"ebu a24\",\n\t\t\t\t\t\t\"ebu a25\", \"ebu cs1\",\n\t\t\t\t\t\t\"ebu wait\", \"ebu clk\",\n\t\t\t\t\t\t\"nand ale\", \"nand cs1\",\n\t\t\t\t\t\t\"nand cle\", \"nand rdy\",\n\t\t\t\t\t\t\"nand rd\"};\nstatic const char * const xrx200_exin_grps[] = {\"exin0\", \"exin1\", \"exin2\",\n\t\t\t\t\t\t\"exin3\", \"exin4\", \"exin5\"};\nstatic const char * const xrx200_gpt_grps[] = {\"gpt1\", \"gpt2\", \"gpt3\"};\nstatic const char * const xrx200_usif_grps[] = {\"usif uart_rx\", \"usif uart_tx\",\n\t\t\t\t\t\t\"usif uart_rts\", \"usif uart_cts\",\n\t\t\t\t\t\t\"usif uart_dtr\", \"usif uart_dsr\",\n\t\t\t\t\t\t\"usif uart_dcd\", \"usif uart_ri\",\n\t\t\t\t\t\t\"usif spi_di\", \"usif spi_do\",\n\t\t\t\t\t\t\"usif spi_clk\", \"usif spi_cs0\",\n\t\t\t\t\t\t\"usif spi_cs1\", \"usif spi_cs2\"};\nstatic const char * const xrx200_stp_grps[] = {\"stp\"};\nstatic const char * const xrx200_nmi_grps[] = {\"nmi\"};\nstatic const char * const xrx200_mdio_grps[] = {\"mdio\"};\nstatic const char * const xrx200_dfe_grps[] = {\"dfe led0\", \"dfe led1\"};\nstatic const char * const xrx200_gphy_grps[] = {\"gphy0 led0\", \"gphy0 led1\",\n\t\t\t\t\t\t\"gphy0 led2\", \"gphy1 led0\",\n\t\t\t\t\t\t\"gphy1 led1\", \"gphy1 led2\"};\n\nstatic const struct ltq_pmx_func xrx200_funcs[] = {\n\t{\"spi\",\t\tARRAY_AND_SIZE(xrx200_spi_grps)},\n\t{\"usif\",\tARRAY_AND_SIZE(xrx200_usif_grps)},\n\t{\"cgu\",\t\tARRAY_AND_SIZE(xrx200_cgu_grps)},\n\t{\"exin\",\tARRAY_AND_SIZE(xrx200_exin_grps)},\n\t{\"stp\",\t\tARRAY_AND_SIZE(xrx200_stp_grps)},\n\t{\"gpt\",\t\tARRAY_AND_SIZE(xrx200_gpt_grps)},\n\t{\"nmi\",\t\tARRAY_AND_SIZE(xrx200_nmi_grps)},\n\t{\"pci\",\t\tARRAY_AND_SIZE(xrx200_pci_grps)},\n\t{\"ebu\",\t\tARRAY_AND_SIZE(xrx200_ebu_grps)},\n\t{\"mdio\",\tARRAY_AND_SIZE(xrx200_mdio_grps)},\n\t{\"dfe\",\t\tARRAY_AND_SIZE(xrx200_dfe_grps)},\n\t{\"gphy\",\tARRAY_AND_SIZE(xrx200_gphy_grps)},\n};\n\n \n#define XRX300_MAX_PIN\t\t64\n\nstatic const struct ltq_mfp_pin xrx300_mfp[] = {\n\t \n\tMFP_XWAY(GPIO0, GPIO,\tEXIN,\tEPHY,\tNONE),\n\tMFP_XWAY(GPIO1, GPIO,\tNONE,\tEXIN,\tNONE),\n\tMFP_XWAY(GPIO2, NONE,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO3, GPIO,\tCGU,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO4, GPIO,\tSTP,\tDFE,\tNONE),\n\tMFP_XWAY(GPIO5, GPIO,\tSTP,\tEPHY,\tDFE),\n\tMFP_XWAY(GPIO6, GPIO,\tSTP,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO7, NONE,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO8, GPIO,\tCGU,\tGPHY,\tEPHY),\n\tMFP_XWAY(GPIO9, GPIO,\tWIFI,\tNONE,\tEXIN),\n\tMFP_XWAY(GPIO10, GPIO,\tUSIF,\tSPI,\tEXIN),\n\tMFP_XWAY(GPIO11, GPIO,\tUSIF,\tWIFI,\tSPI),\n\tMFP_XWAY(GPIO12, NONE,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO13, GPIO,\tEBU,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO14, GPIO,\tCGU,\tUSIF,\tEPHY),\n\tMFP_XWAY(GPIO15, GPIO,\tSPI,\tNONE,\tMCD),\n\tMFP_XWAY(GPIO16, GPIO,\tSPI,\tEXIN,\tNONE),\n\tMFP_XWAY(GPIO17, GPIO,\tSPI,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO18, GPIO,\tSPI,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO19, GPIO,\tUSIF,\tNONE,\tEPHY),\n\tMFP_XWAY(GPIO20, NONE,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO21, NONE,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO22, NONE,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO23, GPIO,\tEBU,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO24, GPIO,\tEBU,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO25, GPIO,\tTDM,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO26, GPIO,\tTDM,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO27, GPIO,\tTDM,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO28, NONE,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO29, NONE,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO30, NONE,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO31, NONE,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO32, NONE,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO33, NONE,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO34, GPIO,\tNONE,\tSSI,\tNONE),\n\tMFP_XWAY(GPIO35, GPIO,\tNONE,\tSSI,\tNONE),\n\tMFP_XWAY(GPIO36, GPIO,\tNONE,\tSSI,\tNONE),\n\tMFP_XWAY(GPIO37, NONE,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO38, NONE,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO39, NONE,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO40, NONE,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO41, NONE,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO42, GPIO,\tMDIO,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO43, GPIO,\tMDIO,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO44, NONE,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO45, NONE,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO46, NONE,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO47, NONE,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO48, GPIO,\tEBU,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO49, GPIO,\tEBU,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO50, GPIO,\tEBU,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO51, GPIO,\tEBU,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO52, GPIO,\tEBU,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO53, GPIO,\tEBU,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO54, GPIO,\tEBU,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO55, GPIO,\tEBU,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO56, GPIO,\tEBU,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO57, GPIO,\tEBU,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO58, GPIO,\tEBU,\tTDM,\tNONE),\n\tMFP_XWAY(GPIO59, GPIO,\tEBU,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO60, GPIO,\tEBU,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO61, GPIO,\tEBU,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO62, NONE,\tNONE,\tNONE,\tNONE),\n\tMFP_XWAY(GPIO63, NONE,\tNONE,\tNONE,\tNONE),\n};\n\nstatic const unsigned xrx300_exin_pin_map[] = {GPIO0, GPIO1, GPIO16, GPIO10, GPIO9};\n\nstatic const unsigned xrx300_pins_exin0[] = {GPIO0};\nstatic const unsigned xrx300_pins_exin1[] = {GPIO1};\nstatic const unsigned xrx300_pins_exin2[] = {GPIO16};\n \nstatic const unsigned xrx300_pins_exin4[] = {GPIO10};\nstatic const unsigned xrx300_pins_exin5[] = {GPIO9};\n\nstatic const unsigned xrx300_pins_usif_uart_rx[] = {GPIO11};\nstatic const unsigned xrx300_pins_usif_uart_tx[] = {GPIO10};\n\nstatic const unsigned xrx300_pins_usif_spi_di[] = {GPIO11};\nstatic const unsigned xrx300_pins_usif_spi_do[] = {GPIO10};\nstatic const unsigned xrx300_pins_usif_spi_clk[] = {GPIO19};\nstatic const unsigned xrx300_pins_usif_spi_cs0[] = {GPIO14};\n\nstatic const unsigned xrx300_pins_stp[] = {GPIO4, GPIO5, GPIO6};\nstatic const unsigned xrx300_pins_mdio[] = {GPIO42, GPIO43};\n\nstatic const unsigned xrx300_pins_dfe_led0[] = {GPIO4};\nstatic const unsigned xrx300_pins_dfe_led1[] = {GPIO5};\n\nstatic const unsigned xrx300_pins_ephy0_led0[] = {GPIO5};\nstatic const unsigned xrx300_pins_ephy0_led1[] = {GPIO8};\nstatic const unsigned xrx300_pins_ephy1_led0[] = {GPIO14};\nstatic const unsigned xrx300_pins_ephy1_led1[] = {GPIO19};\n\nstatic const unsigned xrx300_pins_nand_ale[] = {GPIO13};\nstatic const unsigned xrx300_pins_nand_cs1[] = {GPIO23};\nstatic const unsigned xrx300_pins_nand_cle[] = {GPIO24};\nstatic const unsigned xrx300_pins_nand_rdy[] = {GPIO48};\nstatic const unsigned xrx300_pins_nand_rd[] = {GPIO49};\nstatic const unsigned xrx300_pins_nand_d1[] = {GPIO50};\nstatic const unsigned xrx300_pins_nand_d0[] = {GPIO51};\nstatic const unsigned xrx300_pins_nand_d2[] = {GPIO52};\nstatic const unsigned xrx300_pins_nand_d7[] = {GPIO53};\nstatic const unsigned xrx300_pins_nand_d6[] = {GPIO54};\nstatic const unsigned xrx300_pins_nand_d5[] = {GPIO55};\nstatic const unsigned xrx300_pins_nand_d4[] = {GPIO56};\nstatic const unsigned xrx300_pins_nand_d3[] = {GPIO57};\nstatic const unsigned xrx300_pins_nand_cs0[] = {GPIO58};\nstatic const unsigned xrx300_pins_nand_wr[] = {GPIO59};\nstatic const unsigned xrx300_pins_nand_wp[] = {GPIO60};\nstatic const unsigned xrx300_pins_nand_se[] = {GPIO61};\n\nstatic const unsigned xrx300_pins_spi_di[] = {GPIO16};\nstatic const unsigned xrx300_pins_spi_do[] = {GPIO17};\nstatic const unsigned xrx300_pins_spi_clk[] = {GPIO18};\nstatic const unsigned xrx300_pins_spi_cs1[] = {GPIO15};\n \n \nstatic const unsigned xrx300_pins_spi_cs4[] = {GPIO10};\n \nstatic const unsigned xrx300_pins_spi_cs6[] = {GPIO11};\n\n \n \nstatic const unsigned xrx300_pins_clkout2[] = {GPIO3};\n\nstatic const struct ltq_pin_group xrx300_grps[] = {\n\tGRP_MUX(\"exin0\", EXIN, xrx300_pins_exin0),\n\tGRP_MUX(\"exin1\", EXIN, xrx300_pins_exin1),\n\tGRP_MUX(\"exin2\", EXIN, xrx300_pins_exin2),\n\tGRP_MUX(\"exin4\", EXIN, xrx300_pins_exin4),\n\tGRP_MUX(\"exin5\", EXIN, xrx300_pins_exin5),\n\tGRP_MUX(\"nand ale\", EBU, xrx300_pins_nand_ale),\n\tGRP_MUX(\"nand cs1\", EBU, xrx300_pins_nand_cs1),\n\tGRP_MUX(\"nand cle\", EBU, xrx300_pins_nand_cle),\n\tGRP_MUX(\"nand rdy\", EBU, xrx300_pins_nand_rdy),\n\tGRP_MUX(\"nand rd\", EBU, xrx300_pins_nand_rd),\n\tGRP_MUX(\"nand d1\", EBU, xrx300_pins_nand_d1),\n\tGRP_MUX(\"nand d0\", EBU, xrx300_pins_nand_d0),\n\tGRP_MUX(\"nand d2\", EBU, xrx300_pins_nand_d2),\n\tGRP_MUX(\"nand d7\", EBU, xrx300_pins_nand_d7),\n\tGRP_MUX(\"nand d6\", EBU, xrx300_pins_nand_d6),\n\tGRP_MUX(\"nand d5\", EBU, xrx300_pins_nand_d5),\n\tGRP_MUX(\"nand d4\", EBU, xrx300_pins_nand_d4),\n\tGRP_MUX(\"nand d3\", EBU, xrx300_pins_nand_d3),\n\tGRP_MUX(\"nand cs0\", EBU, xrx300_pins_nand_cs0),\n\tGRP_MUX(\"nand wr\", EBU, xrx300_pins_nand_wr),\n\tGRP_MUX(\"nand wp\", EBU, xrx300_pins_nand_wp),\n\tGRP_MUX(\"nand se\", EBU, xrx300_pins_nand_se),\n\tGRP_MUX(\"spi_di\", SPI, xrx300_pins_spi_di),\n\tGRP_MUX(\"spi_do\", SPI, xrx300_pins_spi_do),\n\tGRP_MUX(\"spi_clk\", SPI, xrx300_pins_spi_clk),\n\tGRP_MUX(\"spi_cs1\", SPI, xrx300_pins_spi_cs1),\n\tGRP_MUX(\"spi_cs4\", SPI, xrx300_pins_spi_cs4),\n\tGRP_MUX(\"spi_cs6\", SPI, xrx300_pins_spi_cs6),\n\tGRP_MUX(\"usif uart_rx\", USIF, xrx300_pins_usif_uart_rx),\n\tGRP_MUX(\"usif uart_tx\", USIF, xrx300_pins_usif_uart_tx),\n\tGRP_MUX(\"usif spi_di\", USIF, xrx300_pins_usif_spi_di),\n\tGRP_MUX(\"usif spi_do\", USIF, xrx300_pins_usif_spi_do),\n\tGRP_MUX(\"usif spi_clk\", USIF, xrx300_pins_usif_spi_clk),\n\tGRP_MUX(\"usif spi_cs0\", USIF, xrx300_pins_usif_spi_cs0),\n\tGRP_MUX(\"stp\", STP, xrx300_pins_stp),\n\tGRP_MUX(\"clkout2\", CGU, xrx300_pins_clkout2),\n\tGRP_MUX(\"mdio\", MDIO, xrx300_pins_mdio),\n\tGRP_MUX(\"dfe led0\", DFE, xrx300_pins_dfe_led0),\n\tGRP_MUX(\"dfe led1\", DFE, xrx300_pins_dfe_led1),\n\tGRP_MUX(\"ephy0 led0\", GPHY, xrx300_pins_ephy0_led0),\n\tGRP_MUX(\"ephy0 led1\", GPHY, xrx300_pins_ephy0_led1),\n\tGRP_MUX(\"ephy1 led0\", GPHY, xrx300_pins_ephy1_led0),\n\tGRP_MUX(\"ephy1 led1\", GPHY, xrx300_pins_ephy1_led1),\n};\n\nstatic const char * const xrx300_spi_grps[] = {\"spi_di\", \"spi_do\",\n\t\t\t\t\t\t\"spi_clk\", \"spi_cs1\",\n\t\t\t\t\t\t\"spi_cs4\", \"spi_cs6\"};\nstatic const char * const xrx300_cgu_grps[] = {\"clkout2\"};\nstatic const char * const xrx300_ebu_grps[] = {\"nand ale\", \"nand cs1\",\n\t\t\t\t\t\t\"nand cle\", \"nand rdy\",\n\t\t\t\t\t\t\"nand rd\", \"nand d1\",\n\t\t\t\t\t\t\"nand d0\", \"nand d2\",\n\t\t\t\t\t\t\"nand d7\", \"nand d6\",\n\t\t\t\t\t\t\"nand d5\", \"nand d4\",\n\t\t\t\t\t\t\"nand d3\", \"nand cs0\",\n\t\t\t\t\t\t\"nand wr\", \"nand wp\",\n\t\t\t\t\t\t\"nand se\"};\nstatic const char * const xrx300_exin_grps[] = {\"exin0\", \"exin1\", \"exin2\",\n\t\t\t\t\t\t\"exin4\", \"exin5\"};\nstatic const char * const xrx300_usif_grps[] = {\"usif uart_rx\", \"usif uart_tx\",\n\t\t\t\t\t\t\"usif spi_di\", \"usif spi_do\",\n\t\t\t\t\t\t\"usif spi_clk\", \"usif spi_cs0\"};\nstatic const char * const xrx300_stp_grps[] = {\"stp\"};\nstatic const char * const xrx300_mdio_grps[] = {\"mdio\"};\nstatic const char * const xrx300_dfe_grps[] = {\"dfe led0\", \"dfe led1\"};\nstatic const char * const xrx300_gphy_grps[] = {\"ephy0 led0\", \"ephy0 led1\",\n\t\t\t\t\t\t\"ephy1 led0\", \"ephy1 led1\"};\n\nstatic const struct ltq_pmx_func xrx300_funcs[] = {\n\t{\"spi\",\t\tARRAY_AND_SIZE(xrx300_spi_grps)},\n\t{\"usif\",\tARRAY_AND_SIZE(xrx300_usif_grps)},\n\t{\"cgu\",\t\tARRAY_AND_SIZE(xrx300_cgu_grps)},\n\t{\"exin\",\tARRAY_AND_SIZE(xrx300_exin_grps)},\n\t{\"stp\",\t\tARRAY_AND_SIZE(xrx300_stp_grps)},\n\t{\"ebu\",\t\tARRAY_AND_SIZE(xrx300_ebu_grps)},\n\t{\"mdio\",\tARRAY_AND_SIZE(xrx300_mdio_grps)},\n\t{\"dfe\",\t\tARRAY_AND_SIZE(xrx300_dfe_grps)},\n\t{\"ephy\",\tARRAY_AND_SIZE(xrx300_gphy_grps)},\n};\n\n \nstatic int xway_pinconf_get(struct pinctrl_dev *pctldev,\n\t\t\t\tunsigned pin,\n\t\t\t\tunsigned long *config)\n{\n\tstruct ltq_pinmux_info *info = pinctrl_dev_get_drvdata(pctldev);\n\tenum ltq_pinconf_param param = LTQ_PINCONF_UNPACK_PARAM(*config);\n\tint port = PORT(pin);\n\tu32 reg;\n\n\tswitch (param) {\n\tcase LTQ_PINCONF_PARAM_OPEN_DRAIN:\n\t\tif (port == PORT3)\n\t\t\treg = GPIO3_OD;\n\t\telse\n\t\t\treg = GPIO_OD(pin);\n\t\t*config = LTQ_PINCONF_PACK(param,\n\t\t\t!gpio_getbit(info->membase[0], reg, PORT_PIN(pin)));\n\t\tbreak;\n\n\tcase LTQ_PINCONF_PARAM_PULL:\n\t\tif (port == PORT3)\n\t\t\treg = GPIO3_PUDEN;\n\t\telse\n\t\t\treg = GPIO_PUDEN(pin);\n\t\tif (!gpio_getbit(info->membase[0], reg, PORT_PIN(pin))) {\n\t\t\t*config = LTQ_PINCONF_PACK(param, 0);\n\t\t\tbreak;\n\t\t}\n\n\t\tif (port == PORT3)\n\t\t\treg = GPIO3_PUDSEL;\n\t\telse\n\t\t\treg = GPIO_PUDSEL(pin);\n\t\tif (!gpio_getbit(info->membase[0], reg, PORT_PIN(pin)))\n\t\t\t*config = LTQ_PINCONF_PACK(param, 2);\n\t\telse\n\t\t\t*config = LTQ_PINCONF_PACK(param, 1);\n\t\tbreak;\n\n\tcase LTQ_PINCONF_PARAM_OUTPUT:\n\t\treg = GPIO_DIR(pin);\n\t\t*config = LTQ_PINCONF_PACK(param,\n\t\t\tgpio_getbit(info->membase[0], reg, PORT_PIN(pin)));\n\t\tbreak;\n\tdefault:\n\t\tdev_err(pctldev->dev, \"Invalid config param %04x\\n\", param);\n\t\treturn -ENOTSUPP;\n\t}\n\treturn 0;\n}\n\nstatic int xway_pinconf_set(struct pinctrl_dev *pctldev,\n\t\t\t\tunsigned pin,\n\t\t\t\tunsigned long *configs,\n\t\t\t\tunsigned num_configs)\n{\n\tstruct ltq_pinmux_info *info = pinctrl_dev_get_drvdata(pctldev);\n\tenum ltq_pinconf_param param;\n\tint arg;\n\tint port = PORT(pin);\n\tu32 reg;\n\tint i;\n\n\tfor (i = 0; i < num_configs; i++) {\n\t\tparam = LTQ_PINCONF_UNPACK_PARAM(configs[i]);\n\t\targ = LTQ_PINCONF_UNPACK_ARG(configs[i]);\n\n\t\tswitch (param) {\n\t\tcase LTQ_PINCONF_PARAM_OPEN_DRAIN:\n\t\t\tif (port == PORT3)\n\t\t\t\treg = GPIO3_OD;\n\t\t\telse\n\t\t\t\treg = GPIO_OD(pin);\n\t\t\tif (arg == 0)\n\t\t\t\tgpio_setbit(info->membase[0],\n\t\t\t\t\treg,\n\t\t\t\t\tPORT_PIN(pin));\n\t\t\telse\n\t\t\t\tgpio_clearbit(info->membase[0],\n\t\t\t\t\treg,\n\t\t\t\t\tPORT_PIN(pin));\n\t\t\tbreak;\n\n\t\tcase LTQ_PINCONF_PARAM_PULL:\n\t\t\tif (port == PORT3)\n\t\t\t\treg = GPIO3_PUDEN;\n\t\t\telse\n\t\t\t\treg = GPIO_PUDEN(pin);\n\t\t\tif (arg == 0) {\n\t\t\t\tgpio_clearbit(info->membase[0],\n\t\t\t\t\treg,\n\t\t\t\t\tPORT_PIN(pin));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tgpio_setbit(info->membase[0], reg, PORT_PIN(pin));\n\n\t\t\tif (port == PORT3)\n\t\t\t\treg = GPIO3_PUDSEL;\n\t\t\telse\n\t\t\t\treg = GPIO_PUDSEL(pin);\n\t\t\tif (arg == 1)\n\t\t\t\tgpio_clearbit(info->membase[0],\n\t\t\t\t\treg,\n\t\t\t\t\tPORT_PIN(pin));\n\t\t\telse if (arg == 2)\n\t\t\t\tgpio_setbit(info->membase[0],\n\t\t\t\t\treg,\n\t\t\t\t\tPORT_PIN(pin));\n\t\t\telse\n\t\t\t\tdev_err(pctldev->dev,\n\t\t\t\t\t\"Invalid pull value %d\\n\", arg);\n\t\t\tbreak;\n\n\t\tcase LTQ_PINCONF_PARAM_OUTPUT:\n\t\t\treg = GPIO_DIR(pin);\n\t\t\tif (arg == 0)\n\t\t\t\tgpio_clearbit(info->membase[0],\n\t\t\t\t\treg,\n\t\t\t\t\tPORT_PIN(pin));\n\t\t\telse\n\t\t\t\tgpio_setbit(info->membase[0],\n\t\t\t\t\treg,\n\t\t\t\t\tPORT_PIN(pin));\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tdev_err(pctldev->dev,\n\t\t\t\t\"Invalid config param %04x\\n\", param);\n\t\t\treturn -ENOTSUPP;\n\t\t}\n\t}  \n\n\treturn 0;\n}\n\nint xway_pinconf_group_set(struct pinctrl_dev *pctldev,\n\t\t\tunsigned selector,\n\t\t\tunsigned long *configs,\n\t\t\tunsigned num_configs)\n{\n\tstruct ltq_pinmux_info *info = pinctrl_dev_get_drvdata(pctldev);\n\tint i, ret = 0;\n\n\tfor (i = 0; i < info->grps[selector].npins && !ret; i++)\n\t\tret = xway_pinconf_set(pctldev,\n\t\t\t\tinfo->grps[selector].pins[i],\n\t\t\t\tconfigs,\n\t\t\t\tnum_configs);\n\n\treturn ret;\n}\n\nstatic const struct pinconf_ops xway_pinconf_ops = {\n\t.pin_config_get\t= xway_pinconf_get,\n\t.pin_config_set\t= xway_pinconf_set,\n\t.pin_config_group_set = xway_pinconf_group_set,\n};\n\nstatic struct pinctrl_desc xway_pctrl_desc = {\n\t.owner\t\t= THIS_MODULE,\n\t.confops\t= &xway_pinconf_ops,\n};\n\nstatic inline int xway_mux_apply(struct pinctrl_dev *pctrldev,\n\t\t\t\tint pin, int mux)\n{\n\tstruct ltq_pinmux_info *info = pinctrl_dev_get_drvdata(pctrldev);\n\tint port = PORT(pin);\n\tu32 alt1_reg = GPIO_ALT1(pin);\n\n\tif (port == PORT3)\n\t\talt1_reg = GPIO3_ALT1;\n\n\tif (mux & MUX_ALT0)\n\t\tgpio_setbit(info->membase[0], GPIO_ALT0(pin), PORT_PIN(pin));\n\telse\n\t\tgpio_clearbit(info->membase[0], GPIO_ALT0(pin), PORT_PIN(pin));\n\n\tif (mux & MUX_ALT1)\n\t\tgpio_setbit(info->membase[0], alt1_reg, PORT_PIN(pin));\n\telse\n\t\tgpio_clearbit(info->membase[0], alt1_reg, PORT_PIN(pin));\n\n\treturn 0;\n}\n\nstatic const struct ltq_cfg_param xway_cfg_params[] = {\n\t{\"lantiq,pull\",\t\tLTQ_PINCONF_PARAM_PULL},\n\t{\"lantiq,open-drain\",\tLTQ_PINCONF_PARAM_OPEN_DRAIN},\n\t{\"lantiq,output\",\tLTQ_PINCONF_PARAM_OUTPUT},\n};\n\nstatic struct ltq_pinmux_info xway_info = {\n\t.desc\t\t= &xway_pctrl_desc,\n\t.apply_mux\t= xway_mux_apply,\n\t.params\t\t= xway_cfg_params,\n\t.num_params\t= ARRAY_SIZE(xway_cfg_params),\n};\n\n \nstatic void xway_gpio_set(struct gpio_chip *chip, unsigned int pin, int val)\n{\n\tstruct ltq_pinmux_info *info = dev_get_drvdata(chip->parent);\n\n\tif (val)\n\t\tgpio_setbit(info->membase[0], GPIO_OUT(pin), PORT_PIN(pin));\n\telse\n\t\tgpio_clearbit(info->membase[0], GPIO_OUT(pin), PORT_PIN(pin));\n}\n\nstatic int xway_gpio_get(struct gpio_chip *chip, unsigned int pin)\n{\n\tstruct ltq_pinmux_info *info = dev_get_drvdata(chip->parent);\n\n\treturn !!gpio_getbit(info->membase[0], GPIO_IN(pin), PORT_PIN(pin));\n}\n\nstatic int xway_gpio_dir_in(struct gpio_chip *chip, unsigned int pin)\n{\n\tstruct ltq_pinmux_info *info = dev_get_drvdata(chip->parent);\n\n\tgpio_clearbit(info->membase[0], GPIO_DIR(pin), PORT_PIN(pin));\n\n\treturn 0;\n}\n\nstatic int xway_gpio_dir_out(struct gpio_chip *chip, unsigned int pin, int val)\n{\n\tstruct ltq_pinmux_info *info = dev_get_drvdata(chip->parent);\n\n\tif (PORT(pin) == PORT3)\n\t\tgpio_setbit(info->membase[0], GPIO3_OD, PORT_PIN(pin));\n\telse\n\t\tgpio_setbit(info->membase[0], GPIO_OD(pin), PORT_PIN(pin));\n\tgpio_setbit(info->membase[0], GPIO_DIR(pin), PORT_PIN(pin));\n\txway_gpio_set(chip, pin, val);\n\n\treturn 0;\n}\n\n \nstatic int xway_gpio_to_irq(struct gpio_chip *chip, unsigned offset)\n{\n\tstruct ltq_pinmux_info *info = dev_get_drvdata(chip->parent);\n\tint i;\n\n\tfor (i = 0; i < info->num_exin; i++)\n\t\tif (info->exin[i] == offset)\n\t\t\treturn ltq_eiu_get_irq(i);\n\n\treturn -1;\n}\n\nstatic struct gpio_chip xway_chip = {\n\t.label = \"gpio-xway\",\n\t.direction_input = xway_gpio_dir_in,\n\t.direction_output = xway_gpio_dir_out,\n\t.get = xway_gpio_get,\n\t.set = xway_gpio_set,\n\t.request = gpiochip_generic_request,\n\t.free = gpiochip_generic_free,\n\t.to_irq = xway_gpio_to_irq,\n\t.base = -1,\n};\n\n\n \nstruct pinctrl_xway_soc {\n\tint pin_count;\n\tconst struct ltq_mfp_pin *mfp;\n\tconst struct ltq_pin_group *grps;\n\tunsigned int num_grps;\n\tconst struct ltq_pmx_func *funcs;\n\tunsigned int num_funcs;\n\tconst unsigned *exin;\n\tunsigned int num_exin;\n};\n\n \nstatic struct pinctrl_xway_soc ase_pinctrl = {\n\t.pin_count = ASE_MAX_PIN,\n\t.mfp = ase_mfp,\n\t.grps = ase_grps,\n\t.num_grps = ARRAY_SIZE(ase_grps),\n\t.funcs = ase_funcs,\n\t.num_funcs = ARRAY_SIZE(ase_funcs),\n\t.exin = ase_exin_pin_map,\n\t.num_exin = 3\n};\n\n \nstatic struct pinctrl_xway_soc danube_pinctrl = {\n\t.pin_count = DANUBE_MAX_PIN,\n\t.mfp = danube_mfp,\n\t.grps = danube_grps,\n\t.num_grps = ARRAY_SIZE(danube_grps),\n\t.funcs = danube_funcs,\n\t.num_funcs = ARRAY_SIZE(danube_funcs),\n\t.exin = danube_exin_pin_map,\n\t.num_exin = 3\n};\n\n \nstatic struct pinctrl_xway_soc xrx100_pinctrl = {\n\t.pin_count = XRX100_MAX_PIN,\n\t.mfp = xrx100_mfp,\n\t.grps = xrx100_grps,\n\t.num_grps = ARRAY_SIZE(xrx100_grps),\n\t.funcs = xrx100_funcs,\n\t.num_funcs = ARRAY_SIZE(xrx100_funcs),\n\t.exin = xrx100_exin_pin_map,\n\t.num_exin = 6\n};\n\n \nstatic struct pinctrl_xway_soc xrx200_pinctrl = {\n\t.pin_count = XRX200_MAX_PIN,\n\t.mfp = xrx200_mfp,\n\t.grps = xrx200_grps,\n\t.num_grps = ARRAY_SIZE(xrx200_grps),\n\t.funcs = xrx200_funcs,\n\t.num_funcs = ARRAY_SIZE(xrx200_funcs),\n\t.exin = xrx200_exin_pin_map,\n\t.num_exin = 6\n};\n\n \nstatic struct pinctrl_xway_soc xrx300_pinctrl = {\n\t.pin_count = XRX300_MAX_PIN,\n\t.mfp = xrx300_mfp,\n\t.grps = xrx300_grps,\n\t.num_grps = ARRAY_SIZE(xrx300_grps),\n\t.funcs = xrx300_funcs,\n\t.num_funcs = ARRAY_SIZE(xrx300_funcs),\n\t.exin = xrx300_exin_pin_map,\n\t.num_exin = 5\n};\n\nstatic struct pinctrl_gpio_range xway_gpio_range = {\n\t.name\t= \"XWAY GPIO\",\n\t.gc\t= &xway_chip,\n};\n\nstatic const struct of_device_id xway_match[] = {\n\t{ .compatible = \"lantiq,ase-pinctrl\", .data = &ase_pinctrl},\n\t{ .compatible = \"lantiq,danube-pinctrl\", .data = &danube_pinctrl},\n\t{ .compatible = \"lantiq,xrx100-pinctrl\", .data = &xrx100_pinctrl},\n\t{ .compatible = \"lantiq,xrx200-pinctrl\", .data = &xrx200_pinctrl},\n\t{ .compatible = \"lantiq,xrx300-pinctrl\", .data = &xrx300_pinctrl},\n\t{},\n};\nMODULE_DEVICE_TABLE(of, xway_match);\n\nstatic int pinmux_xway_probe(struct platform_device *pdev)\n{\n\tconst struct of_device_id *match;\n\tconst struct pinctrl_xway_soc *xway_soc;\n\tint ret, i;\n\n\t \n\txway_info.membase[0] = devm_platform_ioremap_resource(pdev, 0);\n\tif (IS_ERR(xway_info.membase[0]))\n\t\treturn PTR_ERR(xway_info.membase[0]);\n\n\tmatch = of_match_device(xway_match, &pdev->dev);\n\tif (match)\n\t\txway_soc = (const struct pinctrl_xway_soc *) match->data;\n\telse\n\t\txway_soc = &danube_pinctrl;\n\n\t \n\txway_chip.ngpio = xway_soc->pin_count;\n\n\t \n\txway_info.pads = devm_kcalloc(&pdev->dev,\n\t\t\txway_chip.ngpio, sizeof(struct pinctrl_pin_desc),\n\t\t\tGFP_KERNEL);\n\tif (!xway_info.pads)\n\t\treturn -ENOMEM;\n\n\tfor (i = 0; i < xway_chip.ngpio; i++) {\n\t\tchar *name = devm_kasprintf(&pdev->dev, GFP_KERNEL, \"io%d\", i);\n\n\t\tif (!name)\n\t\t\treturn -ENOMEM;\n\n\t\txway_info.pads[i].number = GPIO0 + i;\n\t\txway_info.pads[i].name = name;\n\t}\n\txway_pctrl_desc.pins = xway_info.pads;\n\n\t \n\txway_pctrl_desc.name\t= dev_name(&pdev->dev);\n\txway_pctrl_desc.npins\t= xway_chip.ngpio;\n\n\txway_info.num_pads\t= xway_chip.ngpio;\n\txway_info.num_mfp\t= xway_chip.ngpio;\n\txway_info.mfp\t\t= xway_soc->mfp;\n\txway_info.grps\t\t= xway_soc->grps;\n\txway_info.num_grps\t= xway_soc->num_grps;\n\txway_info.funcs\t\t= xway_soc->funcs;\n\txway_info.num_funcs\t= xway_soc->num_funcs;\n\txway_info.exin\t\t= xway_soc->exin;\n\txway_info.num_exin\t= xway_soc->num_exin;\n\n\t \n\tret = ltq_pinctrl_register(pdev, &xway_info);\n\tif (ret) {\n\t\tdev_err(&pdev->dev, \"Failed to register pinctrl driver\\n\");\n\t\treturn ret;\n\t}\n\n\t \n\txway_chip.parent = &pdev->dev;\n\txway_chip.owner = THIS_MODULE;\n\tret = devm_gpiochip_add_data(&pdev->dev, &xway_chip, NULL);\n\tif (ret) {\n\t\tdev_err(&pdev->dev, \"Failed to register gpio chip\\n\");\n\t\treturn ret;\n\t}\n\n\t \n\tif (!of_property_read_bool(pdev->dev.of_node, \"gpio-ranges\")) {\n\t\t \n\t\txway_gpio_range.npins = xway_chip.ngpio;\n\t\txway_gpio_range.base = xway_chip.base;\n\t\tpinctrl_add_gpio_range(xway_info.pctrl, &xway_gpio_range);\n\t}\n\n\tdev_info(&pdev->dev, \"Init done\\n\");\n\treturn 0;\n}\n\nstatic struct platform_driver pinmux_xway_driver = {\n\t.probe\t= pinmux_xway_probe,\n\t.driver = {\n\t\t.name\t= \"pinctrl-xway\",\n\t\t.of_match_table = xway_match,\n\t},\n};\n\nstatic int __init pinmux_xway_init(void)\n{\n\treturn platform_driver_register(&pinmux_xway_driver);\n}\n\ncore_initcall_sync(pinmux_xway_init);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}