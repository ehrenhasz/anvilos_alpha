{
  "module_name": "pinctrl-mt7621.c",
  "hash_id": "52535275c1031c62e8f6b702f35b4d166a7ecc1ac079b54718e77941825f46c8",
  "original_prompt": "Ingested from linux-6.6.14/drivers/pinctrl/mediatek/pinctrl-mt7621.c",
  "human_readable_source": "\n\n#include <linux/module.h>\n#include <linux/platform_device.h>\n#include <linux/of.h>\n#include \"pinctrl-mtmips.h\"\n\n#define MT7621_GPIO_MODE_UART1\t\t1\n#define MT7621_GPIO_MODE_I2C\t\t2\n#define MT7621_GPIO_MODE_UART3_MASK\t0x3\n#define MT7621_GPIO_MODE_UART3_SHIFT\t3\n#define MT7621_GPIO_MODE_UART3_GPIO\t1\n#define MT7621_GPIO_MODE_UART2_MASK\t0x3\n#define MT7621_GPIO_MODE_UART2_SHIFT\t5\n#define MT7621_GPIO_MODE_UART2_GPIO\t1\n#define MT7621_GPIO_MODE_JTAG\t\t7\n#define MT7621_GPIO_MODE_WDT_MASK\t0x3\n#define MT7621_GPIO_MODE_WDT_SHIFT\t8\n#define MT7621_GPIO_MODE_WDT_GPIO\t1\n#define MT7621_GPIO_MODE_PCIE_RST\t0\n#define MT7621_GPIO_MODE_PCIE_REF\t2\n#define MT7621_GPIO_MODE_PCIE_MASK\t0x3\n#define MT7621_GPIO_MODE_PCIE_SHIFT\t10\n#define MT7621_GPIO_MODE_PCIE_GPIO\t1\n#define MT7621_GPIO_MODE_MDIO_MASK\t0x3\n#define MT7621_GPIO_MODE_MDIO_SHIFT\t12\n#define MT7621_GPIO_MODE_MDIO_GPIO\t1\n#define MT7621_GPIO_MODE_RGMII1\t\t14\n#define MT7621_GPIO_MODE_RGMII2\t\t15\n#define MT7621_GPIO_MODE_SPI_MASK\t0x3\n#define MT7621_GPIO_MODE_SPI_SHIFT\t16\n#define MT7621_GPIO_MODE_SPI_GPIO\t1\n#define MT7621_GPIO_MODE_SDHCI_MASK\t0x3\n#define MT7621_GPIO_MODE_SDHCI_SHIFT\t18\n#define MT7621_GPIO_MODE_SDHCI_GPIO\t1\n\nstatic struct mtmips_pmx_func uart1_grp[] =  { FUNC(\"uart1\", 0, 1, 2) };\nstatic struct mtmips_pmx_func i2c_grp[] =  { FUNC(\"i2c\", 0, 3, 2) };\nstatic struct mtmips_pmx_func uart3_grp[] = {\n\tFUNC(\"uart3\", 0, 5, 4),\n\tFUNC(\"i2s\", 2, 5, 4),\n\tFUNC(\"spdif3\", 3, 5, 4),\n};\nstatic struct mtmips_pmx_func uart2_grp[] = {\n\tFUNC(\"uart2\", 0, 9, 4),\n\tFUNC(\"pcm\", 2, 9, 4),\n\tFUNC(\"spdif2\", 3, 9, 4),\n};\nstatic struct mtmips_pmx_func jtag_grp[] = { FUNC(\"jtag\", 0, 13, 5) };\nstatic struct mtmips_pmx_func wdt_grp[] = {\n\tFUNC(\"wdt rst\", 0, 18, 1),\n\tFUNC(\"wdt refclk\", 2, 18, 1),\n};\nstatic struct mtmips_pmx_func pcie_rst_grp[] = {\n\tFUNC(\"pcie rst\", MT7621_GPIO_MODE_PCIE_RST, 19, 1),\n\tFUNC(\"pcie refclk\", MT7621_GPIO_MODE_PCIE_REF, 19, 1)\n};\nstatic struct mtmips_pmx_func mdio_grp[] = { FUNC(\"mdio\", 0, 20, 2) };\nstatic struct mtmips_pmx_func rgmii2_grp[] = { FUNC(\"rgmii2\", 0, 22, 12) };\nstatic struct mtmips_pmx_func spi_grp[] = {\n\tFUNC(\"spi\", 0, 34, 7),\n\tFUNC(\"nand1\", 2, 34, 7),\n};\nstatic struct mtmips_pmx_func sdhci_grp[] = {\n\tFUNC(\"sdhci\", 0, 41, 8),\n\tFUNC(\"nand2\", 2, 41, 8),\n};\nstatic struct mtmips_pmx_func rgmii1_grp[] = { FUNC(\"rgmii1\", 0, 49, 12) };\n\nstatic struct mtmips_pmx_group mt7621_pinmux_data[] = {\n\tGRP(\"uart1\", uart1_grp, 1, MT7621_GPIO_MODE_UART1),\n\tGRP(\"i2c\", i2c_grp, 1, MT7621_GPIO_MODE_I2C),\n\tGRP_G(\"uart3\", uart3_grp, MT7621_GPIO_MODE_UART3_MASK,\n\t\tMT7621_GPIO_MODE_UART3_GPIO, MT7621_GPIO_MODE_UART3_SHIFT),\n\tGRP_G(\"uart2\", uart2_grp, MT7621_GPIO_MODE_UART2_MASK,\n\t\tMT7621_GPIO_MODE_UART2_GPIO, MT7621_GPIO_MODE_UART2_SHIFT),\n\tGRP(\"jtag\", jtag_grp, 1, MT7621_GPIO_MODE_JTAG),\n\tGRP_G(\"wdt\", wdt_grp, MT7621_GPIO_MODE_WDT_MASK,\n\t\tMT7621_GPIO_MODE_WDT_GPIO, MT7621_GPIO_MODE_WDT_SHIFT),\n\tGRP_G(\"pcie\", pcie_rst_grp, MT7621_GPIO_MODE_PCIE_MASK,\n\t\tMT7621_GPIO_MODE_PCIE_GPIO, MT7621_GPIO_MODE_PCIE_SHIFT),\n\tGRP_G(\"mdio\", mdio_grp, MT7621_GPIO_MODE_MDIO_MASK,\n\t\tMT7621_GPIO_MODE_MDIO_GPIO, MT7621_GPIO_MODE_MDIO_SHIFT),\n\tGRP(\"rgmii2\", rgmii2_grp, 1, MT7621_GPIO_MODE_RGMII2),\n\tGRP_G(\"spi\", spi_grp, MT7621_GPIO_MODE_SPI_MASK,\n\t\tMT7621_GPIO_MODE_SPI_GPIO, MT7621_GPIO_MODE_SPI_SHIFT),\n\tGRP_G(\"sdhci\", sdhci_grp, MT7621_GPIO_MODE_SDHCI_MASK,\n\t\tMT7621_GPIO_MODE_SDHCI_GPIO, MT7621_GPIO_MODE_SDHCI_SHIFT),\n\tGRP(\"rgmii1\", rgmii1_grp, 1, MT7621_GPIO_MODE_RGMII1),\n\t{ 0 }\n};\n\nstatic int mt7621_pinctrl_probe(struct platform_device *pdev)\n{\n\treturn mtmips_pinctrl_init(pdev, mt7621_pinmux_data);\n}\n\nstatic const struct of_device_id mt7621_pinctrl_match[] = {\n\t{ .compatible = \"ralink,mt7621-pinctrl\" },\n\t{ .compatible = \"ralink,rt2880-pinmux\" },\n\t{}\n};\nMODULE_DEVICE_TABLE(of, mt7621_pinctrl_match);\n\nstatic struct platform_driver mt7621_pinctrl_driver = {\n\t.probe = mt7621_pinctrl_probe,\n\t.driver = {\n\t\t.name = \"mt7621-pinctrl\",\n\t\t.of_match_table = mt7621_pinctrl_match,\n\t},\n};\n\nstatic int __init mt7621_pinctrl_init(void)\n{\n\treturn platform_driver_register(&mt7621_pinctrl_driver);\n}\ncore_initcall_sync(mt7621_pinctrl_init);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}