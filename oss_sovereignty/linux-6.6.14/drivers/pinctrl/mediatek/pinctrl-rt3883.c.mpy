{
  "module_name": "pinctrl-rt3883.c",
  "hash_id": "6ea4f835beceab072197d831fe626948d150227e35f10a9e09de355979d25935",
  "original_prompt": "Ingested from linux-6.6.14/drivers/pinctrl/mediatek/pinctrl-rt3883.c",
  "human_readable_source": "\n\n#include <linux/module.h>\n#include <linux/platform_device.h>\n#include <linux/of.h>\n#include \"pinctrl-mtmips.h\"\n\n#define RT3883_GPIO_MODE_UART0_SHIFT\t2\n#define RT3883_GPIO_MODE_UART0_MASK\t0x7\n#define RT3883_GPIO_MODE_UART0(x)\t((x) << RT3883_GPIO_MODE_UART0_SHIFT)\n#define RT3883_GPIO_MODE_UARTF\t\t0x0\n#define RT3883_GPIO_MODE_PCM_UARTF\t0x1\n#define RT3883_GPIO_MODE_PCM_I2S\t0x2\n#define RT3883_GPIO_MODE_I2S_UARTF\t0x3\n#define RT3883_GPIO_MODE_PCM_GPIO\t0x4\n#define RT3883_GPIO_MODE_GPIO_UARTF\t0x5\n#define RT3883_GPIO_MODE_GPIO_I2S\t0x6\n#define RT3883_GPIO_MODE_GPIO\t\t0x7\n\n#define RT3883_GPIO_MODE_I2C\t\t0\n#define RT3883_GPIO_MODE_SPI\t\t1\n#define RT3883_GPIO_MODE_UART1\t\t5\n#define RT3883_GPIO_MODE_JTAG\t\t6\n#define RT3883_GPIO_MODE_MDIO\t\t7\n#define RT3883_GPIO_MODE_GE1\t\t9\n#define RT3883_GPIO_MODE_GE2\t\t10\n\n#define RT3883_GPIO_MODE_PCI_SHIFT\t11\n#define RT3883_GPIO_MODE_PCI_MASK\t0x7\n#define RT3883_GPIO_MODE_PCI\t\t(RT3883_GPIO_MODE_PCI_MASK << RT3883_GPIO_MODE_PCI_SHIFT)\n#define RT3883_GPIO_MODE_LNA_A_SHIFT\t16\n#define RT3883_GPIO_MODE_LNA_A_MASK\t0x3\n#define _RT3883_GPIO_MODE_LNA_A(_x)\t((_x) << RT3883_GPIO_MODE_LNA_A_SHIFT)\n#define RT3883_GPIO_MODE_LNA_A_GPIO\t0x3\n#define RT3883_GPIO_MODE_LNA_A\t\t_RT3883_GPIO_MODE_LNA_A(RT3883_GPIO_MODE_LNA_A_MASK)\n#define RT3883_GPIO_MODE_LNA_G_SHIFT\t18\n#define RT3883_GPIO_MODE_LNA_G_MASK\t0x3\n#define _RT3883_GPIO_MODE_LNA_G(_x)\t((_x) << RT3883_GPIO_MODE_LNA_G_SHIFT)\n#define RT3883_GPIO_MODE_LNA_G_GPIO\t0x3\n#define RT3883_GPIO_MODE_LNA_G\t\t_RT3883_GPIO_MODE_LNA_G(RT3883_GPIO_MODE_LNA_G_MASK)\n\nstatic struct mtmips_pmx_func i2c_grp[] =  { FUNC(\"i2c\", 0, 1, 2) };\nstatic struct mtmips_pmx_func spi_grp[] = { FUNC(\"spi\", 0, 3, 4) };\nstatic struct mtmips_pmx_func uartf_grp[] = {\n\tFUNC(\"uartf\", RT3883_GPIO_MODE_UARTF, 7, 8),\n\tFUNC(\"pcm uartf\", RT3883_GPIO_MODE_PCM_UARTF, 7, 8),\n\tFUNC(\"pcm i2s\", RT3883_GPIO_MODE_PCM_I2S, 7, 8),\n\tFUNC(\"i2s uartf\", RT3883_GPIO_MODE_I2S_UARTF, 7, 8),\n\tFUNC(\"pcm gpio\", RT3883_GPIO_MODE_PCM_GPIO, 11, 4),\n\tFUNC(\"gpio uartf\", RT3883_GPIO_MODE_GPIO_UARTF, 7, 4),\n\tFUNC(\"gpio i2s\", RT3883_GPIO_MODE_GPIO_I2S, 7, 4),\n};\nstatic struct mtmips_pmx_func uartlite_grp[] = { FUNC(\"uartlite\", 0, 15, 2) };\nstatic struct mtmips_pmx_func jtag_grp[] = { FUNC(\"jtag\", 0, 17, 5) };\nstatic struct mtmips_pmx_func mdio_grp[] = { FUNC(\"mdio\", 0, 22, 2) };\nstatic struct mtmips_pmx_func lna_a_grp[] = { FUNC(\"lna a\", 0, 32, 3) };\nstatic struct mtmips_pmx_func lna_g_grp[] = { FUNC(\"lna g\", 0, 35, 3) };\nstatic struct mtmips_pmx_func pci_grp[] = {\n\tFUNC(\"pci-dev\", 0, 40, 32),\n\tFUNC(\"pci-host2\", 1, 40, 32),\n\tFUNC(\"pci-host1\", 2, 40, 32),\n\tFUNC(\"pci-fnc\", 3, 40, 32)\n};\nstatic struct mtmips_pmx_func ge1_grp[] = { FUNC(\"ge1\", 0, 72, 12) };\nstatic struct mtmips_pmx_func ge2_grp[] = { FUNC(\"ge2\", 0, 84, 12) };\n\nstatic struct mtmips_pmx_group rt3883_pinmux_data[] = {\n\tGRP(\"i2c\", i2c_grp, 1, RT3883_GPIO_MODE_I2C),\n\tGRP(\"spi\", spi_grp, 1, RT3883_GPIO_MODE_SPI),\n\tGRP(\"uartf\", uartf_grp, RT3883_GPIO_MODE_UART0_MASK,\n\t\tRT3883_GPIO_MODE_UART0_SHIFT),\n\tGRP(\"uartlite\", uartlite_grp, 1, RT3883_GPIO_MODE_UART1),\n\tGRP(\"jtag\", jtag_grp, 1, RT3883_GPIO_MODE_JTAG),\n\tGRP(\"mdio\", mdio_grp, 1, RT3883_GPIO_MODE_MDIO),\n\tGRP(\"lna a\", lna_a_grp, 1, RT3883_GPIO_MODE_LNA_A),\n\tGRP(\"lna g\", lna_g_grp, 1, RT3883_GPIO_MODE_LNA_G),\n\tGRP(\"pci\", pci_grp, RT3883_GPIO_MODE_PCI_MASK,\n\t\tRT3883_GPIO_MODE_PCI_SHIFT),\n\tGRP(\"ge1\", ge1_grp, 1, RT3883_GPIO_MODE_GE1),\n\tGRP(\"ge2\", ge2_grp, 1, RT3883_GPIO_MODE_GE2),\n\t{ 0 }\n};\n\nstatic int rt3883_pinctrl_probe(struct platform_device *pdev)\n{\n\treturn mtmips_pinctrl_init(pdev, rt3883_pinmux_data);\n}\n\nstatic const struct of_device_id rt3883_pinctrl_match[] = {\n\t{ .compatible = \"ralink,rt3883-pinctrl\" },\n\t{ .compatible = \"ralink,rt2880-pinmux\" },\n\t{}\n};\nMODULE_DEVICE_TABLE(of, rt3883_pinctrl_match);\n\nstatic struct platform_driver rt3883_pinctrl_driver = {\n\t.probe = rt3883_pinctrl_probe,\n\t.driver = {\n\t\t.name = \"rt3883-pinctrl\",\n\t\t.of_match_table = rt3883_pinctrl_match,\n\t},\n};\n\nstatic int __init rt3883_pinctrl_init(void)\n{\n\treturn platform_driver_register(&rt3883_pinctrl_driver);\n}\ncore_initcall_sync(rt3883_pinctrl_init);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}