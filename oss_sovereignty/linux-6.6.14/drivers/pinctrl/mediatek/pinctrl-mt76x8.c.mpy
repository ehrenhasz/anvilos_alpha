{
  "module_name": "pinctrl-mt76x8.c",
  "hash_id": "80302f1b342e36417ac1dd3db25b25fbdcc87a550ead263ef1c1af0a5e17f6e8",
  "original_prompt": "Ingested from linux-6.6.14/drivers/pinctrl/mediatek/pinctrl-mt76x8.c",
  "human_readable_source": "\n\n#include <linux/module.h>\n#include <linux/platform_device.h>\n#include <linux/of.h>\n#include \"pinctrl-mtmips.h\"\n\n#define MT76X8_GPIO_MODE_MASK\t\t0x3\n\n#define MT76X8_GPIO_MODE_P4LED_KN\t58\n#define MT76X8_GPIO_MODE_P3LED_KN\t56\n#define MT76X8_GPIO_MODE_P2LED_KN\t54\n#define MT76X8_GPIO_MODE_P1LED_KN\t52\n#define MT76X8_GPIO_MODE_P0LED_KN\t50\n#define MT76X8_GPIO_MODE_WLED_KN\t48\n#define MT76X8_GPIO_MODE_P4LED_AN\t42\n#define MT76X8_GPIO_MODE_P3LED_AN\t40\n#define MT76X8_GPIO_MODE_P2LED_AN\t38\n#define MT76X8_GPIO_MODE_P1LED_AN\t36\n#define MT76X8_GPIO_MODE_P0LED_AN\t34\n#define MT76X8_GPIO_MODE_WLED_AN\t32\n#define MT76X8_GPIO_MODE_PWM1\t\t30\n#define MT76X8_GPIO_MODE_PWM0\t\t28\n#define MT76X8_GPIO_MODE_UART2\t\t26\n#define MT76X8_GPIO_MODE_UART1\t\t24\n#define MT76X8_GPIO_MODE_I2C\t\t20\n#define MT76X8_GPIO_MODE_REFCLK\t\t18\n#define MT76X8_GPIO_MODE_PERST\t\t16\n#define MT76X8_GPIO_MODE_WDT\t\t14\n#define MT76X8_GPIO_MODE_SPI\t\t12\n#define MT76X8_GPIO_MODE_SDMODE\t\t10\n#define MT76X8_GPIO_MODE_UART0\t\t8\n#define MT76X8_GPIO_MODE_I2S\t\t6\n#define MT76X8_GPIO_MODE_CS1\t\t4\n#define MT76X8_GPIO_MODE_SPIS\t\t2\n#define MT76X8_GPIO_MODE_GPIO\t\t0\n\nstatic struct mtmips_pmx_func pwm1_grp[] = {\n\tFUNC(\"sdxc d6\", 3, 19, 1),\n\tFUNC(\"utif\", 2, 19, 1),\n\tFUNC(\"gpio\", 1, 19, 1),\n\tFUNC(\"pwm1\", 0, 19, 1),\n};\n\nstatic struct mtmips_pmx_func pwm0_grp[] = {\n\tFUNC(\"sdxc d7\", 3, 18, 1),\n\tFUNC(\"utif\", 2, 18, 1),\n\tFUNC(\"gpio\", 1, 18, 1),\n\tFUNC(\"pwm0\", 0, 18, 1),\n};\n\nstatic struct mtmips_pmx_func uart2_grp[] = {\n\tFUNC(\"sdxc d5 d4\", 3, 20, 2),\n\tFUNC(\"pwm\", 2, 20, 2),\n\tFUNC(\"gpio\", 1, 20, 2),\n\tFUNC(\"uart2\", 0, 20, 2),\n};\n\nstatic struct mtmips_pmx_func uart1_grp[] = {\n\tFUNC(\"sw_r\", 3, 45, 2),\n\tFUNC(\"pwm\", 2, 45, 2),\n\tFUNC(\"gpio\", 1, 45, 2),\n\tFUNC(\"uart1\", 0, 45, 2),\n};\n\nstatic struct mtmips_pmx_func i2c_grp[] = {\n\tFUNC(\"-\", 3, 4, 2),\n\tFUNC(\"debug\", 2, 4, 2),\n\tFUNC(\"gpio\", 1, 4, 2),\n\tFUNC(\"i2c\", 0, 4, 2),\n};\n\nstatic struct mtmips_pmx_func refclk_grp[] = { FUNC(\"refclk\", 0, 37, 1) };\nstatic struct mtmips_pmx_func perst_grp[] = { FUNC(\"perst\", 0, 36, 1) };\nstatic struct mtmips_pmx_func wdt_grp[] = { FUNC(\"wdt\", 0, 38, 1) };\nstatic struct mtmips_pmx_func spi_grp[] = { FUNC(\"spi\", 0, 7, 4) };\n\nstatic struct mtmips_pmx_func sd_mode_grp[] = {\n\tFUNC(\"jtag\", 3, 22, 8),\n\tFUNC(\"utif\", 2, 22, 8),\n\tFUNC(\"gpio\", 1, 22, 8),\n\tFUNC(\"sdxc\", 0, 22, 8),\n};\n\nstatic struct mtmips_pmx_func uart0_grp[] = {\n\tFUNC(\"-\", 3, 12, 2),\n\tFUNC(\"-\", 2, 12, 2),\n\tFUNC(\"gpio\", 1, 12, 2),\n\tFUNC(\"uart0\", 0, 12, 2),\n};\n\nstatic struct mtmips_pmx_func i2s_grp[] = {\n\tFUNC(\"antenna\", 3, 0, 4),\n\tFUNC(\"pcm\", 2, 0, 4),\n\tFUNC(\"gpio\", 1, 0, 4),\n\tFUNC(\"i2s\", 0, 0, 4),\n};\n\nstatic struct mtmips_pmx_func spi_cs1_grp[] = {\n\tFUNC(\"-\", 3, 6, 1),\n\tFUNC(\"refclk\", 2, 6, 1),\n\tFUNC(\"gpio\", 1, 6, 1),\n\tFUNC(\"spi cs1\", 0, 6, 1),\n};\n\nstatic struct mtmips_pmx_func spis_grp[] = {\n\tFUNC(\"pwm_uart2\", 3, 14, 4),\n\tFUNC(\"utif\", 2, 14, 4),\n\tFUNC(\"gpio\", 1, 14, 4),\n\tFUNC(\"spis\", 0, 14, 4),\n};\n\nstatic struct mtmips_pmx_func gpio_grp[] = {\n\tFUNC(\"pcie\", 3, 11, 1),\n\tFUNC(\"refclk\", 2, 11, 1),\n\tFUNC(\"gpio\", 1, 11, 1),\n\tFUNC(\"gpio\", 0, 11, 1),\n};\n\nstatic struct mtmips_pmx_func p4led_kn_grp[] = {\n\tFUNC(\"jtag\", 3, 30, 1),\n\tFUNC(\"utif\", 2, 30, 1),\n\tFUNC(\"gpio\", 1, 30, 1),\n\tFUNC(\"p4led_kn\", 0, 30, 1),\n};\n\nstatic struct mtmips_pmx_func p3led_kn_grp[] = {\n\tFUNC(\"jtag\", 3, 31, 1),\n\tFUNC(\"utif\", 2, 31, 1),\n\tFUNC(\"gpio\", 1, 31, 1),\n\tFUNC(\"p3led_kn\", 0, 31, 1),\n};\n\nstatic struct mtmips_pmx_func p2led_kn_grp[] = {\n\tFUNC(\"jtag\", 3, 32, 1),\n\tFUNC(\"utif\", 2, 32, 1),\n\tFUNC(\"gpio\", 1, 32, 1),\n\tFUNC(\"p2led_kn\", 0, 32, 1),\n};\n\nstatic struct mtmips_pmx_func p1led_kn_grp[] = {\n\tFUNC(\"jtag\", 3, 33, 1),\n\tFUNC(\"utif\", 2, 33, 1),\n\tFUNC(\"gpio\", 1, 33, 1),\n\tFUNC(\"p1led_kn\", 0, 33, 1),\n};\n\nstatic struct mtmips_pmx_func p0led_kn_grp[] = {\n\tFUNC(\"jtag\", 3, 34, 1),\n\tFUNC(\"rsvd\", 2, 34, 1),\n\tFUNC(\"gpio\", 1, 34, 1),\n\tFUNC(\"p0led_kn\", 0, 34, 1),\n};\n\nstatic struct mtmips_pmx_func wled_kn_grp[] = {\n\tFUNC(\"rsvd\", 3, 35, 1),\n\tFUNC(\"rsvd\", 2, 35, 1),\n\tFUNC(\"gpio\", 1, 35, 1),\n\tFUNC(\"wled_kn\", 0, 35, 1),\n};\n\nstatic struct mtmips_pmx_func p4led_an_grp[] = {\n\tFUNC(\"jtag\", 3, 39, 1),\n\tFUNC(\"utif\", 2, 39, 1),\n\tFUNC(\"gpio\", 1, 39, 1),\n\tFUNC(\"p4led_an\", 0, 39, 1),\n};\n\nstatic struct mtmips_pmx_func p3led_an_grp[] = {\n\tFUNC(\"jtag\", 3, 40, 1),\n\tFUNC(\"utif\", 2, 40, 1),\n\tFUNC(\"gpio\", 1, 40, 1),\n\tFUNC(\"p3led_an\", 0, 40, 1),\n};\n\nstatic struct mtmips_pmx_func p2led_an_grp[] = {\n\tFUNC(\"jtag\", 3, 41, 1),\n\tFUNC(\"utif\", 2, 41, 1),\n\tFUNC(\"gpio\", 1, 41, 1),\n\tFUNC(\"p2led_an\", 0, 41, 1),\n};\n\nstatic struct mtmips_pmx_func p1led_an_grp[] = {\n\tFUNC(\"jtag\", 3, 42, 1),\n\tFUNC(\"utif\", 2, 42, 1),\n\tFUNC(\"gpio\", 1, 42, 1),\n\tFUNC(\"p1led_an\", 0, 42, 1),\n};\n\nstatic struct mtmips_pmx_func p0led_an_grp[] = {\n\tFUNC(\"jtag\", 3, 43, 1),\n\tFUNC(\"rsvd\", 2, 43, 1),\n\tFUNC(\"gpio\", 1, 43, 1),\n\tFUNC(\"p0led_an\", 0, 43, 1),\n};\n\nstatic struct mtmips_pmx_func wled_an_grp[] = {\n\tFUNC(\"rsvd\", 3, 44, 1),\n\tFUNC(\"rsvd\", 2, 44, 1),\n\tFUNC(\"gpio\", 1, 44, 1),\n\tFUNC(\"wled_an\", 0, 44, 1),\n};\n\nstatic struct mtmips_pmx_group mt76x8_pinmux_data[] = {\n\tGRP_G(\"pwm1\", pwm1_grp, MT76X8_GPIO_MODE_MASK,\n\t\t\t\t1, MT76X8_GPIO_MODE_PWM1),\n\tGRP_G(\"pwm0\", pwm0_grp, MT76X8_GPIO_MODE_MASK,\n\t\t\t\t1, MT76X8_GPIO_MODE_PWM0),\n\tGRP_G(\"uart2\", uart2_grp, MT76X8_GPIO_MODE_MASK,\n\t\t\t\t1, MT76X8_GPIO_MODE_UART2),\n\tGRP_G(\"uart1\", uart1_grp, MT76X8_GPIO_MODE_MASK,\n\t\t\t\t1, MT76X8_GPIO_MODE_UART1),\n\tGRP_G(\"i2c\", i2c_grp, MT76X8_GPIO_MODE_MASK,\n\t\t\t\t1, MT76X8_GPIO_MODE_I2C),\n\tGRP(\"refclk\", refclk_grp, 1, MT76X8_GPIO_MODE_REFCLK),\n\tGRP(\"perst\", perst_grp, 1, MT76X8_GPIO_MODE_PERST),\n\tGRP(\"wdt\", wdt_grp, 1, MT76X8_GPIO_MODE_WDT),\n\tGRP(\"spi\", spi_grp, 1, MT76X8_GPIO_MODE_SPI),\n\tGRP_G(\"sdmode\", sd_mode_grp, MT76X8_GPIO_MODE_MASK,\n\t\t\t\t1, MT76X8_GPIO_MODE_SDMODE),\n\tGRP_G(\"uart0\", uart0_grp, MT76X8_GPIO_MODE_MASK,\n\t\t\t\t1, MT76X8_GPIO_MODE_UART0),\n\tGRP_G(\"i2s\", i2s_grp, MT76X8_GPIO_MODE_MASK,\n\t\t\t\t1, MT76X8_GPIO_MODE_I2S),\n\tGRP_G(\"spi cs1\", spi_cs1_grp, MT76X8_GPIO_MODE_MASK,\n\t\t\t\t1, MT76X8_GPIO_MODE_CS1),\n\tGRP_G(\"spis\", spis_grp, MT76X8_GPIO_MODE_MASK,\n\t\t\t\t1, MT76X8_GPIO_MODE_SPIS),\n\tGRP_G(\"gpio\", gpio_grp, MT76X8_GPIO_MODE_MASK,\n\t\t\t\t1, MT76X8_GPIO_MODE_GPIO),\n\tGRP_G(\"wled_an\", wled_an_grp, MT76X8_GPIO_MODE_MASK,\n\t\t\t\t1, MT76X8_GPIO_MODE_WLED_AN),\n\tGRP_G(\"p0led_an\", p0led_an_grp, MT76X8_GPIO_MODE_MASK,\n\t\t\t\t1, MT76X8_GPIO_MODE_P0LED_AN),\n\tGRP_G(\"p1led_an\", p1led_an_grp, MT76X8_GPIO_MODE_MASK,\n\t\t\t\t1, MT76X8_GPIO_MODE_P1LED_AN),\n\tGRP_G(\"p2led_an\", p2led_an_grp, MT76X8_GPIO_MODE_MASK,\n\t\t\t\t1, MT76X8_GPIO_MODE_P2LED_AN),\n\tGRP_G(\"p3led_an\", p3led_an_grp, MT76X8_GPIO_MODE_MASK,\n\t\t\t\t1, MT76X8_GPIO_MODE_P3LED_AN),\n\tGRP_G(\"p4led_an\", p4led_an_grp, MT76X8_GPIO_MODE_MASK,\n\t\t\t\t1, MT76X8_GPIO_MODE_P4LED_AN),\n\tGRP_G(\"wled_kn\", wled_kn_grp, MT76X8_GPIO_MODE_MASK,\n\t\t\t\t1, MT76X8_GPIO_MODE_WLED_KN),\n\tGRP_G(\"p0led_kn\", p0led_kn_grp, MT76X8_GPIO_MODE_MASK,\n\t\t\t\t1, MT76X8_GPIO_MODE_P0LED_KN),\n\tGRP_G(\"p1led_kn\", p1led_kn_grp, MT76X8_GPIO_MODE_MASK,\n\t\t\t\t1, MT76X8_GPIO_MODE_P1LED_KN),\n\tGRP_G(\"p2led_kn\", p2led_kn_grp, MT76X8_GPIO_MODE_MASK,\n\t\t\t\t1, MT76X8_GPIO_MODE_P2LED_KN),\n\tGRP_G(\"p3led_kn\", p3led_kn_grp, MT76X8_GPIO_MODE_MASK,\n\t\t\t\t1, MT76X8_GPIO_MODE_P3LED_KN),\n\tGRP_G(\"p4led_kn\", p4led_kn_grp, MT76X8_GPIO_MODE_MASK,\n\t\t\t\t1, MT76X8_GPIO_MODE_P4LED_KN),\n\t{ 0 }\n};\n\nstatic int mt76x8_pinctrl_probe(struct platform_device *pdev)\n{\n\treturn mtmips_pinctrl_init(pdev, mt76x8_pinmux_data);\n}\n\nstatic const struct of_device_id mt76x8_pinctrl_match[] = {\n\t{ .compatible = \"ralink,mt76x8-pinctrl\" },\n\t{ .compatible = \"ralink,mt7620-pinctrl\" },\n\t{ .compatible = \"ralink,rt2880-pinmux\" },\n\t{}\n};\nMODULE_DEVICE_TABLE(of, mt76x8_pinctrl_match);\n\nstatic struct platform_driver mt76x8_pinctrl_driver = {\n\t.probe = mt76x8_pinctrl_probe,\n\t.driver = {\n\t\t.name = \"mt76x8-pinctrl\",\n\t\t.of_match_table = mt76x8_pinctrl_match,\n\t},\n};\n\nstatic int __init mt76x8_pinctrl_init(void)\n{\n\treturn platform_driver_register(&mt76x8_pinctrl_driver);\n}\ncore_initcall_sync(mt76x8_pinctrl_init);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}