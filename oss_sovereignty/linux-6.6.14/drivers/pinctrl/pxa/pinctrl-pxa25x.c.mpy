{
  "module_name": "pinctrl-pxa25x.c",
  "hash_id": "a94d12683e85247e19e036b30ab4941935a2aad24ed1845e358e3ca696311cc8",
  "original_prompt": "Ingested from linux-6.6.14/drivers/pinctrl/pxa/pinctrl-pxa25x.c",
  "human_readable_source": "\n \n#include <linux/module.h>\n#include <linux/platform_device.h>\n#include <linux/of.h>\n#include <linux/pinctrl/pinctrl.h>\n\n#include \"pinctrl-pxa2xx.h\"\n\nstatic const struct pxa_desc_pin pxa25x_pins[] = {\n\tPXA_GPIO_ONLY_PIN(PXA_PINCTRL_PIN(0)),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(1),\n\t\t     PXA_FUNCTION(0, 1, \"GP_RST\")),\n\tPXA_GPIO_ONLY_PIN(PXA_PINCTRL_PIN(2)),\n\tPXA_GPIO_ONLY_PIN(PXA_PINCTRL_PIN(3)),\n\tPXA_GPIO_ONLY_PIN(PXA_PINCTRL_PIN(4)),\n\tPXA_GPIO_ONLY_PIN(PXA_PINCTRL_PIN(5)),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(6),\n\t\t     PXA_FUNCTION(1, 1, \"MMCCLK\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(7),\n\t\t     PXA_FUNCTION(1, 1, \"48_MHz\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(8),\n\t\t     PXA_FUNCTION(1, 1, \"MMCCS0\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(9),\n\t\t     PXA_FUNCTION(1, 1, \"MMCCS1\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(10),\n\t\t     PXA_FUNCTION(1, 1, \"RTCCLK\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(11),\n\t\t     PXA_FUNCTION(1, 1, \"3_6_MHz\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(12),\n\t\t     PXA_FUNCTION(1, 1, \"32_kHz\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(13),\n\t\t     PXA_FUNCTION(1, 2, \"MBGNT\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(14),\n\t\t     PXA_FUNCTION(0, 1, \"MBREQ\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(15),\n\t\t     PXA_FUNCTION(1, 2, \"nCS_1\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(16),\n\t\t     PXA_FUNCTION(1, 2, \"PWM0\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(17),\n\t\t     PXA_FUNCTION(1, 2, \"PWM1\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(18),\n\t\t     PXA_FUNCTION(0, 1, \"RDY\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(19),\n\t\t     PXA_FUNCTION(0, 1, \"DREQ[1]\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(20),\n\t\t     PXA_FUNCTION(0, 1, \"DREQ[0]\")),\n\tPXA_GPIO_ONLY_PIN(PXA_PINCTRL_PIN(21)),\n\tPXA_GPIO_ONLY_PIN(PXA_PINCTRL_PIN(22)),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(23),\n\t\t     PXA_FUNCTION(1, 2, \"SCLK\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(24),\n\t\t     PXA_FUNCTION(1, 2, \"SFRM\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(25),\n\t\t     PXA_FUNCTION(1, 2, \"TXD\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(26),\n\t\t     PXA_FUNCTION(0, 1, \"RXD\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(27),\n\t\t     PXA_FUNCTION(0, 1, \"EXTCLK\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(28),\n\t\t     PXA_FUNCTION(0, 1, \"BITCLK\"),\n\t\t     PXA_FUNCTION(0, 2, \"BITCLK\"),\n\t\t     PXA_FUNCTION(1, 1, \"BITCLK\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(29),\n\t\t     PXA_FUNCTION(0, 1, \"SDATA_IN0\"),\n\t\t     PXA_FUNCTION(0, 2, \"SDATA_IN\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(30),\n\t\t     PXA_FUNCTION(1, 1, \"SDATA_OUT\"),\n\t\t     PXA_FUNCTION(1, 2, \"SDATA_OUT\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(31),\n\t\t     PXA_FUNCTION(1, 1, \"SYNC\"),\n\t\t     PXA_FUNCTION(1, 2, \"SYNC\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(32),\n\t\t     PXA_FUNCTION(0, 1, \"SDATA_IN1\"),\n\t\t     PXA_FUNCTION(1, 1, \"SYSCLK\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(33),\n\t\t     PXA_FUNCTION(1, 2, \"nCS[5]\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(34),\n\t\t     PXA_FUNCTION(0, 1, \"FFRXD\"),\n\t\t     PXA_FUNCTION(1, 2, \"MMCCS0\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(35),\n\t\t     PXA_FUNCTION(0, 1, \"CTS\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(36),\n\t\t     PXA_FUNCTION(0, 1, \"DCD\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(37),\n\t\t     PXA_FUNCTION(0, 1, \"DSR\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(38),\n\t\t     PXA_FUNCTION(0, 1, \"RI\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(39),\n\t\t     PXA_FUNCTION(1, 1, \"MMCC1\"),\n\t\t     PXA_FUNCTION(1, 2, \"FFTXD\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(40),\n\t\t     PXA_FUNCTION(1, 2, \"DTR\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(41),\n\t\t     PXA_FUNCTION(1, 2, \"RTS\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(42),\n\t\t     PXA_FUNCTION(0, 1, \"BTRXD\"),\n\t\t     PXA_FUNCTION(0, 3, \"HWRXD\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(43),\n\t\t     PXA_FUNCTION(1, 2, \"BTTXD\"),\n\t\t     PXA_FUNCTION(1, 3, \"HWTXD\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(44),\n\t\t     PXA_FUNCTION(0, 1, \"BTCTS\"),\n\t\t     PXA_FUNCTION(0, 3, \"HWCTS\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(45),\n\t\t     PXA_FUNCTION(1, 2, \"BTRTS\"),\n\t\t     PXA_FUNCTION(1, 3, \"HWRTS\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(46),\n\t\t     PXA_FUNCTION(0, 1, \"ICP_RXD\"),\n\t\t     PXA_FUNCTION(0, 2, \"RXD\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(47),\n\t\t     PXA_FUNCTION(1, 1, \"TXD\"),\n\t\t     PXA_FUNCTION(1, 2, \"ICP_TXD\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(48),\n\t\t     PXA_FUNCTION(1, 1, \"HWTXD\"),\n\t\t     PXA_FUNCTION(1, 2, \"nPOE\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(49),\n\t\t     PXA_FUNCTION(0, 1, \"HWRXD\"),\n\t\t     PXA_FUNCTION(1, 2, \"nPWE\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(50),\n\t\t     PXA_FUNCTION(0, 1, \"HWCTS\"),\n\t\t     PXA_FUNCTION(1, 2, \"nPIOR\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(51),\n\t\t     PXA_FUNCTION(1, 1, \"HWRTS\"),\n\t\t     PXA_FUNCTION(1, 2, \"nPIOW\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(52),\n\t\t     PXA_FUNCTION(1, 2, \"nPCE[1]\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(53),\n\t\t     PXA_FUNCTION(1, 1, \"MMCCLK\"),\n\t\t     PXA_FUNCTION(1, 2, \"nPCE[2]\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(54),\n\t\t     PXA_FUNCTION(1, 1, \"MMCCLK\"),\n\t\t     PXA_FUNCTION(1, 2, \"nPSKTSEL\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(55),\n\t\t     PXA_FUNCTION(1, 2, \"nPREG\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(56),\n\t\t     PXA_FUNCTION(0, 1, \"nPWAIT\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(57),\n\t\t     PXA_FUNCTION(0, 1, \"nIOIS16\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(58),\n\t\t     PXA_FUNCTION(1, 2, \"LDD<0>\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(59),\n\t\t     PXA_FUNCTION(1, 2, \"LDD<1>\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(60),\n\t\t     PXA_FUNCTION(1, 2, \"LDD<2>\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(61),\n\t\t     PXA_FUNCTION(1, 2, \"LDD<3>\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(62),\n\t\t     PXA_FUNCTION(1, 2, \"LDD<4>\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(63),\n\t\t     PXA_FUNCTION(1, 2, \"LDD<5>\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(64),\n\t\t     PXA_FUNCTION(1, 2, \"LDD<6>\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(65),\n\t\t     PXA_FUNCTION(1, 2, \"LDD<7>\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(66),\n\t\t     PXA_FUNCTION(0, 1, \"MBREQ\"),\n\t\t     PXA_FUNCTION(1, 2, \"LDD<8>\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(67),\n\t\t     PXA_FUNCTION(1, 1, \"MMCCS0\"),\n\t\t     PXA_FUNCTION(1, 2, \"LDD<9>\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(68),\n\t\t     PXA_FUNCTION(1, 1, \"MMCCS1\"),\n\t\t     PXA_FUNCTION(1, 2, \"LDD<10>\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(69),\n\t\t     PXA_FUNCTION(1, 1, \"MMCCLK\"),\n\t\t     PXA_FUNCTION(1, 2, \"LDD<11>\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(70),\n\t\t     PXA_FUNCTION(1, 1, \"RTCCLK\"),\n\t\t     PXA_FUNCTION(1, 2, \"LDD<12>\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(71),\n\t\t     PXA_FUNCTION(1, 1, \"3_6_MHz\"),\n\t\t     PXA_FUNCTION(1, 2, \"LDD<13>\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(72),\n\t\t     PXA_FUNCTION(1, 1, \"32_kHz\"),\n\t\t     PXA_FUNCTION(1, 2, \"LDD<14>\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(73),\n\t\t     PXA_FUNCTION(1, 1, \"MBGNT\"),\n\t\t     PXA_FUNCTION(1, 2, \"LDD<15>\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(74),\n\t\t     PXA_FUNCTION(1, 2, \"LCD_FCLK\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(75),\n\t\t     PXA_FUNCTION(1, 2, \"LCD_LCLK\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(76),\n\t\t     PXA_FUNCTION(1, 2, \"LCD_PCLK\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(77),\n\t\t     PXA_FUNCTION(1, 2, \"LCD_ACBIAS\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(78),\n\t\t     PXA_FUNCTION(1, 2, \"nCS<2>\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(79),\n\t\t     PXA_FUNCTION(1, 2, \"nCS<3>\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(80),\n\t\t     PXA_FUNCTION(1, 2, \"nCS<4>\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(81),\n\t\t     PXA_FUNCTION(0, 1, \"NSSPSCLK\"),\n\t\t     PXA_FUNCTION(1, 1, \"NSSPSCLK\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(82),\n\t\t     PXA_FUNCTION(0, 1, \"NSSPSFRM\"),\n\t\t     PXA_FUNCTION(1, 1, \"NSSPSFRM\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(83),\n\t\t     PXA_FUNCTION(0, 2, \"NSSPRXD\"),\n\t\t     PXA_FUNCTION(1, 1, \"NSSPTXD\")),\n\tPXA_GPIO_PIN(PXA_PINCTRL_PIN(84),\n\t\t     PXA_FUNCTION(0, 2, \"NSSPRXD\"),\n\t\t     PXA_FUNCTION(1, 1, \"NSSPTXD\")),\n};\n\nstatic int pxa25x_pinctrl_probe(struct platform_device *pdev)\n{\n\tint ret, i;\n\tvoid __iomem *base_af[8];\n\tvoid __iomem *base_dir[4];\n\tvoid __iomem *base_sleep[4];\n\n\tbase_af[0] = devm_platform_ioremap_resource(pdev, 0);\n\tif (IS_ERR(base_af[0]))\n\t\treturn PTR_ERR(base_af[0]);\n\n\tbase_dir[0] = devm_platform_ioremap_resource(pdev, 1);\n\tif (IS_ERR(base_dir[0]))\n\t\treturn PTR_ERR(base_dir[0]);\n\n\tbase_dir[3] = devm_platform_ioremap_resource(pdev, 2);\n\tif (IS_ERR(base_dir[3]))\n\t\treturn PTR_ERR(base_dir[3]);\n\n\tbase_sleep[0] = devm_platform_ioremap_resource(pdev, 3);\n\tif (IS_ERR(base_sleep[0]))\n\t\treturn PTR_ERR(base_sleep[0]);\n\n\tfor (i = 0; i < ARRAY_SIZE(base_af); i++)\n\t\tbase_af[i] = base_af[0] + sizeof(base_af[0]) * i;\n\tfor (i = 0; i < 3; i++)\n\t\tbase_dir[i] = base_dir[0] + sizeof(base_dir[0]) * i;\n\tfor (i = 0; i < ARRAY_SIZE(base_sleep); i++)\n\t\tbase_sleep[i] = base_sleep[0] + sizeof(base_af[0]) * i;\n\n\tret = pxa2xx_pinctrl_init(pdev, pxa25x_pins, ARRAY_SIZE(pxa25x_pins),\n\t\t\t\t  base_af, base_dir, base_sleep);\n\treturn ret;\n}\n\nstatic const struct of_device_id pxa25x_pinctrl_match[] = {\n\t{ .compatible = \"marvell,pxa25x-pinctrl\", },\n\t{}\n};\nMODULE_DEVICE_TABLE(of, pxa25x_pinctrl_match);\n\nstatic struct platform_driver pxa25x_pinctrl_driver = {\n\t.probe\t= pxa25x_pinctrl_probe,\n\t.driver\t= {\n\t\t.name\t\t= \"pxa25x-pinctrl\",\n\t\t.of_match_table\t= pxa25x_pinctrl_match,\n\t},\n};\nmodule_platform_driver(pxa25x_pinctrl_driver);\n\nMODULE_AUTHOR(\"Robert Jarzmik <robert.jarzmik@free.fr>\");\nMODULE_DESCRIPTION(\"Marvell PXA25x pinctrl driver\");\nMODULE_LICENSE(\"GPL v2\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}