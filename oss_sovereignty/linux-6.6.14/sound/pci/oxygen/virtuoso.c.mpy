{
  "module_name": "virtuoso.c",
  "hash_id": "7c74b9f2e6590aaad00f911bdb2ec69c80430b9e018535a5668787e4fe96b0a4",
  "original_prompt": "Ingested from linux-6.6.14/sound/pci/oxygen/virtuoso.c",
  "human_readable_source": "\n \n\n#include <linux/pci.h>\n#include <linux/delay.h>\n#include <linux/module.h>\n#include <sound/core.h>\n#include <sound/initval.h>\n#include <sound/pcm.h>\n#include \"xonar.h\"\n\nMODULE_AUTHOR(\"Clemens Ladisch <clemens@ladisch.de>\");\nMODULE_DESCRIPTION(\"Asus Virtuoso driver\");\nMODULE_LICENSE(\"GPL v2\");\n\nstatic int index[SNDRV_CARDS] = SNDRV_DEFAULT_IDX;\nstatic char *id[SNDRV_CARDS] = SNDRV_DEFAULT_STR;\nstatic bool enable[SNDRV_CARDS] = SNDRV_DEFAULT_ENABLE_PNP;\n\nmodule_param_array(index, int, NULL, 0444);\nMODULE_PARM_DESC(index, \"card index\");\nmodule_param_array(id, charp, NULL, 0444);\nMODULE_PARM_DESC(id, \"ID string\");\nmodule_param_array(enable, bool, NULL, 0444);\nMODULE_PARM_DESC(enable, \"enable card\");\n\nstatic const struct pci_device_id xonar_ids[] = {\n\t{ OXYGEN_PCI_SUBID(0x1043, 0x8269) },\n\t{ OXYGEN_PCI_SUBID(0x1043, 0x8275) },\n\t{ OXYGEN_PCI_SUBID(0x1043, 0x82b7) },\n\t{ OXYGEN_PCI_SUBID(0x1043, 0x8314) },\n\t{ OXYGEN_PCI_SUBID(0x1043, 0x8327) },\n\t{ OXYGEN_PCI_SUBID(0x1043, 0x834f) },\n\t{ OXYGEN_PCI_SUBID(0x1043, 0x835c) },\n\t{ OXYGEN_PCI_SUBID(0x1043, 0x835d) },\n\t{ OXYGEN_PCI_SUBID(0x1043, 0x835e) },\n\t{ OXYGEN_PCI_SUBID(0x1043, 0x838e) },\n\t{ OXYGEN_PCI_SUBID(0x1043, 0x8428) },\n\t{ OXYGEN_PCI_SUBID(0x1043, 0x8522) },\n\t{ OXYGEN_PCI_SUBID(0x1043, 0x85f4) },\n\t{ OXYGEN_PCI_SUBID_BROKEN_EEPROM },\n\t{ }\n};\nMODULE_DEVICE_TABLE(pci, xonar_ids);\n\nstatic int get_xonar_model(struct oxygen *chip,\n\t\t\t   const struct pci_device_id *id)\n{\n\tif (get_xonar_pcm179x_model(chip, id) >= 0)\n\t\treturn 0;\n\tif (get_xonar_cs43xx_model(chip, id) >= 0)\n\t\treturn 0;\n\tif (get_xonar_wm87x6_model(chip, id) >= 0)\n\t\treturn 0;\n\treturn -EINVAL;\n}\n\nstatic int xonar_probe(struct pci_dev *pci,\n\t\t       const struct pci_device_id *pci_id)\n{\n\tstatic int dev;\n\tint err;\n\n\tif (dev >= SNDRV_CARDS)\n\t\treturn -ENODEV;\n\tif (!enable[dev]) {\n\t\t++dev;\n\t\treturn -ENOENT;\n\t}\n\terr = oxygen_pci_probe(pci, index[dev], id[dev], THIS_MODULE,\n\t\t\t       xonar_ids, get_xonar_model);\n\tif (err >= 0)\n\t\t++dev;\n\treturn err;\n}\n\nstatic struct pci_driver xonar_driver = {\n\t.name = KBUILD_MODNAME,\n\t.id_table = xonar_ids,\n\t.probe = xonar_probe,\n#ifdef CONFIG_PM_SLEEP\n\t.driver = {\n\t\t.pm = &oxygen_pci_pm,\n\t},\n#endif\n\t.shutdown = oxygen_pci_shutdown,\n};\n\nmodule_pci_driver(xonar_driver);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}