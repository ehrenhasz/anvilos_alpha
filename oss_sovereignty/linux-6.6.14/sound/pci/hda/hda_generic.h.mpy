{
  "module_name": "hda_generic.h",
  "hash_id": "813b5e8ce0336bce97392ea7af92e8def44eb5a76078b9121218e76ca97fcd66",
  "original_prompt": "Ingested from linux-6.6.14/sound/pci/hda/hda_generic.h",
  "human_readable_source": " \n \n\n#ifndef __SOUND_HDA_GENERIC_H\n#define __SOUND_HDA_GENERIC_H\n\n#include <linux/leds.h>\n#include \"hda_auto_parser.h\"\n\nstruct hda_jack_callback;\n\n \nstruct hda_multi_io {\n\thda_nid_t pin;\t\t \n\thda_nid_t dac;\t\t \n\tunsigned int ctl_in;\t \n};\n\n \n\n#define MAX_NID_PATH_DEPTH\t10\n\nenum {\n\tNID_PATH_VOL_CTL,\n\tNID_PATH_MUTE_CTL,\n\tNID_PATH_BOOST_CTL,\n\tNID_PATH_NUM_CTLS\n};\n\nstruct nid_path {\n\tint depth;\n\thda_nid_t path[MAX_NID_PATH_DEPTH];\n\tunsigned char idx[MAX_NID_PATH_DEPTH];\n\tunsigned char multi[MAX_NID_PATH_DEPTH];\n\tunsigned int ctls[NID_PATH_NUM_CTLS];  \n\tbool active:1;\t\t \n\tbool pin_enabled:1;\t \n\tbool pin_fixed:1;\t \n\tbool stream_enabled:1;\t \n};\n\n \n\n#define MAX_AUTO_MIC_PINS\t3\n\nstruct automic_entry {\n\thda_nid_t pin;\t\t \n\tint idx;\t\t \n\tunsigned int attr;\t \n};\n\n \nenum { STREAM_MULTI_OUT, STREAM_INDEP_HP };\n\n \nenum {\n\tHDA_GEN_PCM_ACT_OPEN,\n\tHDA_GEN_PCM_ACT_PREPARE,\n\tHDA_GEN_PCM_ACT_CLEANUP,\n\tHDA_GEN_PCM_ACT_CLOSE,\n};\n\n \nstruct badness_table {\n\tint no_primary_dac;\t \n\tint no_dac;\t\t \n\tint shared_primary;\t \n\tint shared_surr;\t \n\tint shared_clfe;\t \n\tint shared_surr_main;\t \n};\n\nextern const struct badness_table hda_main_out_badness;\nextern const struct badness_table hda_extra_out_badness;\n\nstruct hda_gen_spec {\n\tchar stream_name_analog[32];\t \n\tconst struct hda_pcm_stream *stream_analog_playback;\n\tconst struct hda_pcm_stream *stream_analog_capture;\n\n\tchar stream_name_alt_analog[32];  \n\tconst struct hda_pcm_stream *stream_analog_alt_playback;\n\tconst struct hda_pcm_stream *stream_analog_alt_capture;\n\n\tchar stream_name_digital[32];\t \n\tconst struct hda_pcm_stream *stream_digital_playback;\n\tconst struct hda_pcm_stream *stream_digital_capture;\n\n\t \n\tunsigned int active_streams;\n\tstruct mutex pcm_mutex;\n\n\t \n\tstruct hda_multi_out multiout;\t \n\thda_nid_t alt_dac_nid;\n\thda_nid_t follower_dig_outs[3];\t \n\tint dig_out_type;\n\n\t \n\tunsigned int num_adc_nids;\n\thda_nid_t adc_nids[AUTO_CFG_MAX_INS];\n\thda_nid_t dig_in_nid;\t\t \n\thda_nid_t mixer_nid;\t\t \n\thda_nid_t mixer_merge_nid;\t \n\tconst char *input_labels[HDA_MAX_NUM_INPUTS];\n\tint input_label_idxs[HDA_MAX_NUM_INPUTS];\n\n\t \n\thda_nid_t cur_adc;\n\tunsigned int cur_adc_stream_tag;\n\tunsigned int cur_adc_format;\n\n\t \n\tstruct hda_input_mux input_mux;\n\tunsigned int cur_mux[3];\n\n\t \n\t \n\tint min_channel_count;\t\t \n\tint ext_channel_count;\t\t \n\tint const_channel_count;\t \n\n\t \n\tstruct hda_pcm *pcm_rec[3];\t \n\n\t \n\tstruct auto_pin_cfg autocfg;\n\tstruct snd_array kctls;\n\thda_nid_t private_dac_nids[AUTO_CFG_MAX_OUTS];\n\thda_nid_t imux_pins[HDA_MAX_NUM_INPUTS];\n\tunsigned int dyn_adc_idx[HDA_MAX_NUM_INPUTS];\n\t \n\thda_nid_t shared_mic_vref_pin;\n\thda_nid_t hp_mic_pin;\n\tint hp_mic_mux_idx;\n\n\t \n\tint num_all_dacs;\n\thda_nid_t all_dacs[16];\n\tint num_all_adcs;\n\thda_nid_t all_adcs[AUTO_CFG_MAX_INS];\n\n\t \n\tstruct snd_array paths;\n\n\t \n\tint out_paths[AUTO_CFG_MAX_OUTS];\n\tint hp_paths[AUTO_CFG_MAX_OUTS];\n\tint speaker_paths[AUTO_CFG_MAX_OUTS];\n\tint aamix_out_paths[3];\n\tint digout_paths[AUTO_CFG_MAX_OUTS];\n\tint input_paths[HDA_MAX_NUM_INPUTS][AUTO_CFG_MAX_INS];\n\tint loopback_paths[HDA_MAX_NUM_INPUTS];\n\tint loopback_merge_path;\n\tint digin_path;\n\n\t \n\tint am_num_entries;\n\tstruct automic_entry am_entry[MAX_AUTO_MIC_PINS];\n\n\t \n\t \n\tunsigned int hp_jack_present:1;\n\tunsigned int line_jack_present:1;\n\tunsigned int speaker_muted:1;  \n\tunsigned int line_out_muted:1;  \n\n\t \n\tunsigned int auto_mic:1;\n\tunsigned int automute_speaker:1;  \n\tunsigned int automute_lo:1;  \n\n\t \n\tunsigned int detect_hp:1;\t \n\tunsigned int detect_lo:1;\t \n\tunsigned int automute_speaker_possible:1;  \n\tunsigned int automute_lo_possible:1;\t   \n\n\t \n\tunsigned int master_mute:1;\t \n\tunsigned int keep_vref_in_automute:1;  \n\tunsigned int line_in_auto_switch:1;  \n\tunsigned int auto_mute_via_amp:1;  \n\n\t \n\tunsigned int suppress_auto_mute:1;  \n\tunsigned int suppress_auto_mic:1;  \n\n\t \n\tunsigned int need_dac_fix:1;  \n\tunsigned int hp_mic:1;  \n\tunsigned int suppress_hp_mic_detect:1;  \n\tunsigned int no_primary_hp:1;  \n\tunsigned int no_multi_io:1;  \n\tunsigned int multi_cap_vol:1;  \n\tunsigned int inv_dmic_split:1;  \n\tunsigned int own_eapd_ctl:1;  \n\tunsigned int keep_eapd_on:1;  \n\tunsigned int vmaster_mute_led:1;  \n\tunsigned int mic_mute_led:1;  \n\tunsigned int indep_hp:1;  \n\tunsigned int prefer_hp_amp:1;  \n\tunsigned int add_stereo_mix_input:2;  \n\tunsigned int add_jack_modes:1;  \n\tunsigned int power_down_unused:1;  \n\tunsigned int dac_min_mute:1;  \n\tunsigned int suppress_vmaster:1;  \n\tunsigned int obey_preferred_dacs:1;  \n\n\t \n\tunsigned int no_analog:1;  \n\tunsigned int dyn_adc_switch:1;  \n\tunsigned int indep_hp_enabled:1;  \n\tunsigned int have_aamix_ctl:1;\n\tunsigned int hp_mic_jack_modes:1;\n\tunsigned int skip_verbs:1;  \n\n\t \n\tu64 mute_bits;\n\n\t \n\tu64 out_vol_mask;\n\n\t \n\tconst struct badness_table *main_out_badness;\n\tconst struct badness_table *extra_out_badness;\n\n\t \n\tconst hda_nid_t *preferred_dacs;\n\n\t \n\tbool aamix_mode;\n\n\t \n\thda_nid_t beep_nid;\n\n\t \n\thda_nid_t vmaster_nid;\n\tunsigned int vmaster_tlv[4];\n\tstruct hda_vmaster_mute_hook vmaster_mute;\n\n\tstruct hda_loopback_check loopback;\n\tstruct snd_array loopback_list;\n\n\t \n\tint multi_ios;\n\tstruct hda_multi_io multi_io[4];\n\n\t \n\tvoid (*init_hook)(struct hda_codec *codec);\n\tvoid (*automute_hook)(struct hda_codec *codec);\n\tvoid (*cap_sync_hook)(struct hda_codec *codec,\n\t\t\t      struct snd_kcontrol *kcontrol,\n\t\t\t      struct snd_ctl_elem_value *ucontrol);\n\n\t \n\tvoid (*pcm_playback_hook)(struct hda_pcm_stream *hinfo,\n\t\t\t\t  struct hda_codec *codec,\n\t\t\t\t  struct snd_pcm_substream *substream,\n\t\t\t\t  int action);\n\tvoid (*pcm_capture_hook)(struct hda_pcm_stream *hinfo,\n\t\t\t\t struct hda_codec *codec,\n\t\t\t\t struct snd_pcm_substream *substream,\n\t\t\t\t int action);\n\n\t \n\tvoid (*hp_automute_hook)(struct hda_codec *codec,\n\t\t\t\t struct hda_jack_callback *cb);\n\tvoid (*line_automute_hook)(struct hda_codec *codec,\n\t\t\t\t   struct hda_jack_callback *cb);\n\tvoid (*mic_autoswitch_hook)(struct hda_codec *codec,\n\t\t\t\t    struct hda_jack_callback *cb);\n\n\t \n\tstruct led_classdev *led_cdevs[NUM_AUDIO_LEDS];\n};\n\n \nenum {\n\tHDA_HINT_STEREO_MIX_DISABLE,\t \n\tHDA_HINT_STEREO_MIX_ENABLE,\t \n\tHDA_HINT_STEREO_MIX_AUTO,\t \n};\n\nint snd_hda_gen_spec_init(struct hda_gen_spec *spec);\n\nint snd_hda_gen_init(struct hda_codec *codec);\nvoid snd_hda_gen_free(struct hda_codec *codec);\n\nint snd_hda_get_path_idx(struct hda_codec *codec, struct nid_path *path);\nstruct nid_path *snd_hda_get_path_from_idx(struct hda_codec *codec, int idx);\nstruct nid_path *\nsnd_hda_add_new_path(struct hda_codec *codec, hda_nid_t from_nid,\n\t\t     hda_nid_t to_nid, int anchor_nid);\nvoid snd_hda_activate_path(struct hda_codec *codec, struct nid_path *path,\n\t\t\t   bool enable, bool add_aamix);\n\nstruct snd_kcontrol_new *\nsnd_hda_gen_add_kctl(struct hda_gen_spec *spec, const char *name,\n\t\t     const struct snd_kcontrol_new *temp);\n\nint snd_hda_gen_parse_auto_config(struct hda_codec *codec,\n\t\t\t\t  struct auto_pin_cfg *cfg);\nint snd_hda_gen_build_controls(struct hda_codec *codec);\nint snd_hda_gen_build_pcms(struct hda_codec *codec);\n\n \nvoid snd_hda_gen_hp_automute(struct hda_codec *codec,\n\t\t\t     struct hda_jack_callback *jack);\nvoid snd_hda_gen_line_automute(struct hda_codec *codec,\n\t\t\t       struct hda_jack_callback *jack);\nvoid snd_hda_gen_mic_autoswitch(struct hda_codec *codec,\n\t\t\t\tstruct hda_jack_callback *jack);\nvoid snd_hda_gen_update_outputs(struct hda_codec *codec);\n\n#ifdef CONFIG_PM\nint snd_hda_gen_check_power_status(struct hda_codec *codec, hda_nid_t nid);\n#endif\nunsigned int snd_hda_gen_path_power_filter(struct hda_codec *codec,\n\t\t\t\t\t   hda_nid_t nid,\n\t\t\t\t\t   unsigned int power_state);\nvoid snd_hda_gen_stream_pm(struct hda_codec *codec, hda_nid_t nid, bool on);\nint snd_hda_gen_fix_pin_power(struct hda_codec *codec, hda_nid_t pin);\n\nint snd_hda_gen_add_mute_led_cdev(struct hda_codec *codec,\n\t\t\t\t  int (*callback)(struct led_classdev *,\n\t\t\t\t\t\t  enum led_brightness));\nint snd_hda_gen_add_micmute_led_cdev(struct hda_codec *codec,\n\t\t\t\t     int (*callback)(struct led_classdev *,\n\t\t\t\t\t\t     enum led_brightness));\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}