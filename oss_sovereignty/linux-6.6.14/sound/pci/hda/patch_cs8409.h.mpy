{
  "module_name": "patch_cs8409.h",
  "hash_id": "d091e124409bcb51a14e37c9a1869a98f553655306ed31a2cf13b2779a595c9b",
  "original_prompt": "Ingested from linux-6.6.14/sound/pci/hda/patch_cs8409.h",
  "human_readable_source": " \n \n\n#ifndef __CS8409_PATCH_H\n#define __CS8409_PATCH_H\n\n#include <linux/pci.h>\n#include <sound/tlv.h>\n#include <linux/workqueue.h>\n#include <sound/cs42l42.h>\n#include <sound/hda_codec.h>\n#include \"hda_local.h\"\n#include \"hda_auto_parser.h\"\n#include \"hda_jack.h\"\n#include \"hda_generic.h\"\n\n \n\nenum cs8409_pins {\n\tCS8409_PIN_ROOT,\n\tCS8409_PIN_AFG,\n\tCS8409_PIN_ASP1_OUT_A,\n\tCS8409_PIN_ASP1_OUT_B,\n\tCS8409_PIN_ASP1_OUT_C,\n\tCS8409_PIN_ASP1_OUT_D,\n\tCS8409_PIN_ASP1_OUT_E,\n\tCS8409_PIN_ASP1_OUT_F,\n\tCS8409_PIN_ASP1_OUT_G,\n\tCS8409_PIN_ASP1_OUT_H,\n\tCS8409_PIN_ASP2_OUT_A,\n\tCS8409_PIN_ASP2_OUT_B,\n\tCS8409_PIN_ASP2_OUT_C,\n\tCS8409_PIN_ASP2_OUT_D,\n\tCS8409_PIN_ASP2_OUT_E,\n\tCS8409_PIN_ASP2_OUT_F,\n\tCS8409_PIN_ASP2_OUT_G,\n\tCS8409_PIN_ASP2_OUT_H,\n\tCS8409_PIN_ASP1_IN_A,\n\tCS8409_PIN_ASP1_IN_B,\n\tCS8409_PIN_ASP1_IN_C,\n\tCS8409_PIN_ASP1_IN_D,\n\tCS8409_PIN_ASP1_IN_E,\n\tCS8409_PIN_ASP1_IN_F,\n\tCS8409_PIN_ASP1_IN_G,\n\tCS8409_PIN_ASP1_IN_H,\n\tCS8409_PIN_ASP2_IN_A,\n\tCS8409_PIN_ASP2_IN_B,\n\tCS8409_PIN_ASP2_IN_C,\n\tCS8409_PIN_ASP2_IN_D,\n\tCS8409_PIN_ASP2_IN_E,\n\tCS8409_PIN_ASP2_IN_F,\n\tCS8409_PIN_ASP2_IN_G,\n\tCS8409_PIN_ASP2_IN_H,\n\tCS8409_PIN_DMIC1,\n\tCS8409_PIN_DMIC2,\n\tCS8409_PIN_ASP1_TRANSMITTER_A,\n\tCS8409_PIN_ASP1_TRANSMITTER_B,\n\tCS8409_PIN_ASP1_TRANSMITTER_C,\n\tCS8409_PIN_ASP1_TRANSMITTER_D,\n\tCS8409_PIN_ASP1_TRANSMITTER_E,\n\tCS8409_PIN_ASP1_TRANSMITTER_F,\n\tCS8409_PIN_ASP1_TRANSMITTER_G,\n\tCS8409_PIN_ASP1_TRANSMITTER_H,\n\tCS8409_PIN_ASP2_TRANSMITTER_A,\n\tCS8409_PIN_ASP2_TRANSMITTER_B,\n\tCS8409_PIN_ASP2_TRANSMITTER_C,\n\tCS8409_PIN_ASP2_TRANSMITTER_D,\n\tCS8409_PIN_ASP2_TRANSMITTER_E,\n\tCS8409_PIN_ASP2_TRANSMITTER_F,\n\tCS8409_PIN_ASP2_TRANSMITTER_G,\n\tCS8409_PIN_ASP2_TRANSMITTER_H,\n\tCS8409_PIN_ASP1_RECEIVER_A,\n\tCS8409_PIN_ASP1_RECEIVER_B,\n\tCS8409_PIN_ASP1_RECEIVER_C,\n\tCS8409_PIN_ASP1_RECEIVER_D,\n\tCS8409_PIN_ASP1_RECEIVER_E,\n\tCS8409_PIN_ASP1_RECEIVER_F,\n\tCS8409_PIN_ASP1_RECEIVER_G,\n\tCS8409_PIN_ASP1_RECEIVER_H,\n\tCS8409_PIN_ASP2_RECEIVER_A,\n\tCS8409_PIN_ASP2_RECEIVER_B,\n\tCS8409_PIN_ASP2_RECEIVER_C,\n\tCS8409_PIN_ASP2_RECEIVER_D,\n\tCS8409_PIN_ASP2_RECEIVER_E,\n\tCS8409_PIN_ASP2_RECEIVER_F,\n\tCS8409_PIN_ASP2_RECEIVER_G,\n\tCS8409_PIN_ASP2_RECEIVER_H,\n\tCS8409_PIN_DMIC1_IN,\n\tCS8409_PIN_DMIC2_IN,\n\tCS8409_PIN_BEEP_GEN,\n\tCS8409_PIN_VENDOR_WIDGET\n};\n\nenum cs8409_coefficient_index_registers {\n\tCS8409_DEV_CFG1,\n\tCS8409_DEV_CFG2,\n\tCS8409_DEV_CFG3,\n\tCS8409_ASP1_CLK_CTRL1,\n\tCS8409_ASP1_CLK_CTRL2,\n\tCS8409_ASP1_CLK_CTRL3,\n\tCS8409_ASP2_CLK_CTRL1,\n\tCS8409_ASP2_CLK_CTRL2,\n\tCS8409_ASP2_CLK_CTRL3,\n\tCS8409_DMIC_CFG,\n\tCS8409_BEEP_CFG,\n\tASP1_RX_NULL_INS_RMV,\n\tASP1_Rx_RATE1,\n\tASP1_Rx_RATE2,\n\tASP1_Tx_NULL_INS_RMV,\n\tASP1_Tx_RATE1,\n\tASP1_Tx_RATE2,\n\tASP2_Rx_NULL_INS_RMV,\n\tASP2_Rx_RATE1,\n\tASP2_Rx_RATE2,\n\tASP2_Tx_NULL_INS_RMV,\n\tASP2_Tx_RATE1,\n\tASP2_Tx_RATE2,\n\tASP1_SYNC_CTRL,\n\tASP2_SYNC_CTRL,\n\tASP1_A_TX_CTRL1,\n\tASP1_A_TX_CTRL2,\n\tASP1_B_TX_CTRL1,\n\tASP1_B_TX_CTRL2,\n\tASP1_C_TX_CTRL1,\n\tASP1_C_TX_CTRL2,\n\tASP1_D_TX_CTRL1,\n\tASP1_D_TX_CTRL2,\n\tASP1_E_TX_CTRL1,\n\tASP1_E_TX_CTRL2,\n\tASP1_F_TX_CTRL1,\n\tASP1_F_TX_CTRL2,\n\tASP1_G_TX_CTRL1,\n\tASP1_G_TX_CTRL2,\n\tASP1_H_TX_CTRL1,\n\tASP1_H_TX_CTRL2,\n\tASP2_A_TX_CTRL1,\n\tASP2_A_TX_CTRL2,\n\tASP2_B_TX_CTRL1,\n\tASP2_B_TX_CTRL2,\n\tASP2_C_TX_CTRL1,\n\tASP2_C_TX_CTRL2,\n\tASP2_D_TX_CTRL1,\n\tASP2_D_TX_CTRL2,\n\tASP2_E_TX_CTRL1,\n\tASP2_E_TX_CTRL2,\n\tASP2_F_TX_CTRL1,\n\tASP2_F_TX_CTRL2,\n\tASP2_G_TX_CTRL1,\n\tASP2_G_TX_CTRL2,\n\tASP2_H_TX_CTRL1,\n\tASP2_H_TX_CTRL2,\n\tASP1_A_RX_CTRL1,\n\tASP1_A_RX_CTRL2,\n\tASP1_B_RX_CTRL1,\n\tASP1_B_RX_CTRL2,\n\tASP1_C_RX_CTRL1,\n\tASP1_C_RX_CTRL2,\n\tASP1_D_RX_CTRL1,\n\tASP1_D_RX_CTRL2,\n\tASP1_E_RX_CTRL1,\n\tASP1_E_RX_CTRL2,\n\tASP1_F_RX_CTRL1,\n\tASP1_F_RX_CTRL2,\n\tASP1_G_RX_CTRL1,\n\tASP1_G_RX_CTRL2,\n\tASP1_H_RX_CTRL1,\n\tASP1_H_RX_CTRL2,\n\tASP2_A_RX_CTRL1,\n\tASP2_A_RX_CTRL2,\n\tASP2_B_RX_CTRL1,\n\tASP2_B_RX_CTRL2,\n\tASP2_C_RX_CTRL1,\n\tASP2_C_RX_CTRL2,\n\tASP2_D_RX_CTRL1,\n\tASP2_D_RX_CTRL2,\n\tASP2_E_RX_CTRL1,\n\tASP2_E_RX_CTRL2,\n\tASP2_F_RX_CTRL1,\n\tASP2_F_RX_CTRL2,\n\tASP2_G_RX_CTRL1,\n\tASP2_G_RX_CTRL2,\n\tASP2_H_RX_CTRL1,\n\tASP2_H_RX_CTRL2,\n\tCS8409_I2C_ADDR,\n\tCS8409_I2C_DATA,\n\tCS8409_I2C_CTRL,\n\tCS8409_I2C_STS,\n\tCS8409_I2C_QWRITE,\n\tCS8409_I2C_QREAD,\n\tCS8409_SPI_CTRL,\n\tCS8409_SPI_TX_DATA,\n\tCS8409_SPI_RX_DATA,\n\tCS8409_SPI_STS,\n\tCS8409_PFE_COEF_W1,  \n\tCS8409_PFE_COEF_W2,\n\tCS8409_PFE_CTRL1,\n\tCS8409_PFE_CTRL2,\n\tCS8409_PRE_SCALE_ATTN1,\n\tCS8409_PRE_SCALE_ATTN2,\n\tCS8409_PFE_COEF_MON1,  \n\tCS8409_PFE_COEF_MON2,\n\tCS8409_ASP1_INTRN_STS,\n\tCS8409_ASP2_INTRN_STS,\n\tCS8409_ASP1_RX_SCLK_COUNT,\n\tCS8409_ASP1_TX_SCLK_COUNT,\n\tCS8409_ASP2_RX_SCLK_COUNT,\n\tCS8409_ASP2_TX_SCLK_COUNT,\n\tCS8409_ASP_UNS_RESP_MASK,\n\tCS8409_LOOPBACK_CTRL = 0x80,\n\tCS8409_PAD_CFG_SLW_RATE_CTRL = 0x82,  \n};\n\n \n\n#define CS8409_MAX_CODECS\t\t\t8\n#define CS42L42_VOLUMES\t\t\t\t(4U)\n#define CS42L42_HP_VOL_REAL_MIN\t\t\t(-63)\n#define CS42L42_HP_VOL_REAL_MAX\t\t\t(0)\n#define CS42L42_AMIC_VOL_REAL_MIN\t\t(-97)\n#define CS42L42_AMIC_VOL_REAL_MAX\t\t(12)\n#define CS42L42_REG_AMIC_VOL_MASK\t\t(0x00FF)\n#define CS42L42_HSTYPE_MASK\t\t\t(0x03)\n#define CS42L42_I2C_TIMEOUT_US\t\t\t(20000)\n#define CS42L42_I2C_SLEEP_US\t\t\t(2000)\n#define CS42L42_PDN_TIMEOUT_US\t\t\t(250000)\n#define CS42L42_PDN_SLEEP_US\t\t\t(2000)\n#define CS42L42_INIT_TIMEOUT_MS\t\t\t(45)\n#define CS42L42_FULL_SCALE_VOL_MASK\t\t(2)\n#define CS42L42_FULL_SCALE_VOL_0DB\t\t(1)\n#define CS42L42_FULL_SCALE_VOL_MINUS6DB\t\t(0)\n\n \n\n#define CS42L42_I2C_ADDR\t\t\t(0x48 << 1)\n#define CS8409_CS42L42_RESET\t\t\tGENMASK(5, 5)  \n#define CS8409_CS42L42_INT\t\t\tGENMASK(4, 4)  \n#define CS8409_CYBORG_SPEAKER_PDN\t\tGENMASK(2, 2)  \n#define CS8409_WARLOCK_SPEAKER_PDN\t\tGENMASK(1, 1)  \n#define CS8409_CS42L42_HP_PIN_NID\t\tCS8409_PIN_ASP1_TRANSMITTER_A\n#define CS8409_CS42L42_SPK_PIN_NID\t\tCS8409_PIN_ASP2_TRANSMITTER_A\n#define CS8409_CS42L42_AMIC_PIN_NID\t\tCS8409_PIN_ASP1_RECEIVER_A\n#define CS8409_CS42L42_DMIC_PIN_NID\t\tCS8409_PIN_DMIC1_IN\n#define CS8409_CS42L42_DMIC_ADC_PIN_NID\t\tCS8409_PIN_DMIC1\n\n \n\n#define DOLPHIN_C0_I2C_ADDR\t\t\t(0x48 << 1)\n#define DOLPHIN_C1_I2C_ADDR\t\t\t(0x49 << 1)\n#define DOLPHIN_HP_PIN_NID\t\t\tCS8409_PIN_ASP1_TRANSMITTER_A\n#define DOLPHIN_LO_PIN_NID\t\t\tCS8409_PIN_ASP1_TRANSMITTER_B\n#define DOLPHIN_AMIC_PIN_NID\t\t\tCS8409_PIN_ASP1_RECEIVER_A\n\n#define DOLPHIN_C0_INT\t\t\t\tGENMASK(4, 4)\n#define DOLPHIN_C1_INT\t\t\t\tGENMASK(0, 0)\n#define DOLPHIN_C0_RESET\t\t\tGENMASK(5, 5)\n#define DOLPHIN_C1_RESET\t\t\tGENMASK(1, 1)\n#define DOLPHIN_WAKE\t\t\t\t(DOLPHIN_C0_INT | DOLPHIN_C1_INT)\n\nenum {\n\tCS8409_BULLSEYE,\n\tCS8409_WARLOCK,\n\tCS8409_WARLOCK_MLK,\n\tCS8409_WARLOCK_MLK_DUAL_MIC,\n\tCS8409_CYBORG,\n\tCS8409_FIXUPS,\n\tCS8409_DOLPHIN,\n\tCS8409_DOLPHIN_FIXUPS,\n\tCS8409_ODIN,\n};\n\nenum {\n\tCS8409_CODEC0,\n\tCS8409_CODEC1\n};\n\nenum {\n\tCS42L42_VOL_ADC,\n\tCS42L42_VOL_DAC,\n};\n\n#define CS42L42_ADC_VOL_OFFSET\t\t\t(CS42L42_VOL_ADC)\n#define CS42L42_DAC_CH0_VOL_OFFSET\t\t(CS42L42_VOL_DAC)\n#define CS42L42_DAC_CH1_VOL_OFFSET\t\t(CS42L42_VOL_DAC + 1)\n\nstruct cs8409_i2c_param {\n\tunsigned int addr;\n\tunsigned int value;\n};\n\nstruct cs8409_cir_param {\n\tunsigned int nid;\n\tunsigned int cir;\n\tunsigned int coeff;\n};\n\nstruct sub_codec {\n\tstruct hda_codec *codec;\n\tunsigned int addr;\n\tunsigned int reset_gpio;\n\tunsigned int irq_mask;\n\tconst struct cs8409_i2c_param *init_seq;\n\tunsigned int init_seq_num;\n\n\tunsigned int hp_jack_in:1;\n\tunsigned int mic_jack_in:1;\n\tunsigned int suspended:1;\n\tunsigned int paged:1;\n\tunsigned int last_page;\n\tunsigned int hsbias_hiz;\n\tunsigned int full_scale_vol:1;\n\tunsigned int no_type_dect:1;\n\n\ts8 vol[CS42L42_VOLUMES];\n};\n\nstruct cs8409_spec {\n\tstruct hda_gen_spec gen;\n\tstruct hda_codec *codec;\n\n\tstruct sub_codec *scodecs[CS8409_MAX_CODECS];\n\tunsigned int num_scodecs;\n\n\tunsigned int gpio_mask;\n\tunsigned int gpio_dir;\n\tunsigned int gpio_data;\n\n\tint speaker_pdn_gpio;\n\n\tstruct mutex i2c_mux;\n\tunsigned int i2c_clck_enabled;\n\tunsigned int dev_addr;\n\tstruct delayed_work i2c_clk_work;\n\n\tunsigned int playback_started:1;\n\tunsigned int capture_started:1;\n\tunsigned int init_done:1;\n\tunsigned int build_ctrl_done:1;\n\n\t \n\tint (*exec_verb)(struct hdac_device *dev, unsigned int cmd, unsigned int flags,\n\t\t\t unsigned int *res);\n};\n\nextern const struct snd_kcontrol_new cs42l42_dac_volume_mixer;\nextern const struct snd_kcontrol_new cs42l42_adc_volume_mixer;\n\nint cs42l42_volume_info(struct snd_kcontrol *kctrl, struct snd_ctl_elem_info *uinfo);\nint cs42l42_volume_get(struct snd_kcontrol *kctrl, struct snd_ctl_elem_value *uctrl);\nint cs42l42_volume_put(struct snd_kcontrol *kctrl, struct snd_ctl_elem_value *uctrl);\n\nextern const struct hda_pcm_stream cs42l42_48k_pcm_analog_playback;\nextern const struct hda_pcm_stream cs42l42_48k_pcm_analog_capture;\nextern const struct snd_pci_quirk cs8409_fixup_tbl[];\nextern const struct hda_model_fixup cs8409_models[];\nextern const struct hda_fixup cs8409_fixups[];\nextern const struct hda_verb cs8409_cs42l42_init_verbs[];\nextern const struct cs8409_cir_param cs8409_cs42l42_hw_cfg[];\nextern const struct cs8409_cir_param cs8409_cs42l42_bullseye_atn[];\nextern struct sub_codec cs8409_cs42l42_codec;\n\nextern const struct hda_verb dolphin_init_verbs[];\nextern const struct cs8409_cir_param dolphin_hw_cfg[];\nextern struct sub_codec dolphin_cs42l42_0;\nextern struct sub_codec dolphin_cs42l42_1;\n\nvoid cs8409_cs42l42_fixups(struct hda_codec *codec, const struct hda_fixup *fix, int action);\nvoid dolphin_fixups(struct hda_codec *codec, const struct hda_fixup *fix, int action);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}