{
  "module_name": "pcxhr_core.h",
  "hash_id": "2c9a4d35fd85a6f2b43814c60ced63af1349dde5fb7c868ea0b6d1621c3b4312",
  "original_prompt": "Ingested from linux-6.6.14/sound/pci/pcxhr/pcxhr_core.h",
  "human_readable_source": " \n \n\n#ifndef __SOUND_PCXHR_CORE_H\n#define __SOUND_PCXHR_CORE_H\n\nstruct firmware;\nstruct pcxhr_mgr;\n\n \nvoid pcxhr_reset_xilinx_com(struct pcxhr_mgr *mgr);\nvoid pcxhr_reset_dsp(struct pcxhr_mgr *mgr);\nvoid pcxhr_enable_dsp(struct pcxhr_mgr *mgr);\nint pcxhr_load_xilinx_binary(struct pcxhr_mgr *mgr, const struct firmware *xilinx, int second);\nint pcxhr_load_eeprom_binary(struct pcxhr_mgr *mgr, const struct firmware *eeprom);\nint pcxhr_load_boot_binary(struct pcxhr_mgr *mgr, const struct firmware *boot);\nint pcxhr_load_dsp_binary(struct pcxhr_mgr *mgr, const struct firmware *dsp);\n\n \n#define PCXHR_DSP_TIME_MASK\t\t0x00ffffff\n#define PCXHR_DSP_TIME_INVALID\t\t0x10000000\n\n\n#define PCXHR_SIZE_MAX_CMD\t\t8\n#define PCXHR_SIZE_MAX_STATUS\t\t16\n#define PCXHR_SIZE_MAX_LONG_STATUS\t256\n\nstruct pcxhr_rmh {\n\tu16\tcmd_len;\t\t \n\tu16\tstat_len;\t\t \n\tu16\tdsp_stat;\t\t \n\tu16\tcmd_idx;\t\t \n\tu32\tcmd[PCXHR_SIZE_MAX_CMD];\n\tu32\tstat[PCXHR_SIZE_MAX_STATUS];\n};\n\nenum {\n\tCMD_VERSION,\t\t\t \n\tCMD_SUPPORTED,\t\t\t \n\tCMD_TEST_IT,\t\t\t \n\tCMD_SEND_IRQA,\t\t\t \n\tCMD_ACCESS_IO_WRITE,\t\t \n\tCMD_ACCESS_IO_READ,\t\t \n\tCMD_ASYNC,\t\t\t \n\tCMD_MODIFY_CLOCK,\t\t \n\tCMD_RESYNC_AUDIO_INPUTS,\t \n\tCMD_GET_DSP_RESOURCES,\t\t \n\tCMD_SET_TIMER_INTERRUPT,\t \n\tCMD_RES_PIPE,\t\t\t \n\tCMD_FREE_PIPE,\t\t\t \n\tCMD_CONF_PIPE,\t\t\t \n\tCMD_STOP_PIPE,\t\t\t \n\tCMD_PIPE_SAMPLE_COUNT,\t\t \n\tCMD_CAN_START_PIPE,\t\t \n\tCMD_START_STREAM,\t\t \n\tCMD_STREAM_OUT_LEVEL_ADJUST,\t \n\tCMD_STOP_STREAM,\t\t \n\tCMD_UPDATE_R_BUFFERS,\t\t \n\tCMD_FORMAT_STREAM_OUT,\t\t \n\tCMD_FORMAT_STREAM_IN,\t\t \n\tCMD_STREAM_SAMPLE_COUNT,\t \n\tCMD_AUDIO_LEVEL_ADJUST,\t\t \n\tCMD_GET_TIME_CODE,\t\t \n\tCMD_MANAGE_SIGNAL,\t\t \n\tCMD_LAST_INDEX\n};\n\n#define MASK_DSP_WORD\t\t0x00ffffff\n#define MASK_ALL_STREAM\t\t0x00ffffff\n#define MASK_DSP_WORD_LEVEL\t0x000001ff\n#define MASK_FIRST_FIELD\t0x0000001f\n#define FIELD_SIZE\t\t5\n\n \nvoid pcxhr_init_rmh(struct pcxhr_rmh *rmh, int cmd);\n\nvoid pcxhr_set_pipe_cmd_params(struct pcxhr_rmh* rmh, int capture, unsigned int param1,\n\t\t\t       unsigned int param2, unsigned int param3);\n\n#define DSP_EXT_CMD_SET(x) (x->dsp_version > 0x012800)\n\n \nint pcxhr_send_msg(struct pcxhr_mgr *mgr, struct pcxhr_rmh *rmh);\n\n\n \n#define IO_NUM_REG_CONT\t\t\t0\n#define IO_NUM_REG_GENCLK\t\t1\n#define IO_NUM_REG_MUTE_OUT\t\t2\n#define IO_NUM_SPEED_RATIO\t\t4\n#define IO_NUM_REG_STATUS\t\t5\n#define IO_NUM_REG_CUER\t\t\t10\n#define IO_NUM_UER_CHIP_REG\t\t11\n#define IO_NUM_REG_CONFIG_SRC\t\t12\n#define IO_NUM_REG_OUT_ANA_LEVEL\t20\n#define IO_NUM_REG_IN_ANA_LEVEL\t\t21\n\n#define REG_CONT_VALSMPTE\t\t0x000800\n#define REG_CONT_UNMUTE_INPUTS\t\t0x020000\n\n \n#define REG_STATUS_OPTIONS\t\t0\n#define REG_STATUS_AES_SYNC\t\t8\n#define REG_STATUS_AES_1\t\t9\n#define REG_STATUS_AES_2\t\t10\n#define REG_STATUS_AES_3\t\t11\n#define REG_STATUS_AES_4\t\t12\n#define REG_STATUS_WORD_CLOCK\t\t13\n#define REG_STATUS_INTER_SYNC\t\t14\n#define REG_STATUS_CURRENT\t\t0x80\n \n#define REG_STATUS_OPT_NO_VIDEO_SIGNAL\t0x01\n#define REG_STATUS_OPT_DAUGHTER_MASK\t0x1c\n#define REG_STATUS_OPT_ANALOG_BOARD\t0x00\n#define REG_STATUS_OPT_NO_DAUGHTER\t0x1c\n#define REG_STATUS_OPT_COMPANION_MASK\t0xe0\n#define REG_STATUS_OPT_NO_COMPANION\t0xe0\n#define REG_STATUS_SYNC_32000\t\t0x00\n#define REG_STATUS_SYNC_44100\t\t0x01\n#define REG_STATUS_SYNC_48000\t\t0x02\n#define REG_STATUS_SYNC_64000\t\t0x03\n#define REG_STATUS_SYNC_88200\t\t0x04\n#define REG_STATUS_SYNC_96000\t\t0x05\n#define REG_STATUS_SYNC_128000\t\t0x06\n#define REG_STATUS_SYNC_176400\t\t0x07\n#define REG_STATUS_SYNC_192000\t\t0x08\n\nint pcxhr_set_pipe_state(struct pcxhr_mgr *mgr, int playback_mask, int capture_mask, int start);\n\nint pcxhr_write_io_num_reg_cont(struct pcxhr_mgr *mgr, unsigned int mask,\n\t\t\t\tunsigned int value, int *changed);\n\n \n#define CS8416_RUN\t\t0x200401\n#define CS8416_FORMAT_DETECT\t0x200b00\n#define CS8416_CSB0\t\t0x201900\n#define CS8416_CSB1\t\t0x201a00\n#define CS8416_CSB2\t\t0x201b00\n#define CS8416_CSB3\t\t0x201c00\n#define CS8416_CSB4\t\t0x201d00\n#define CS8416_VERSION\t\t0x207f00\n\n#define CS8420_DATA_FLOW_CTL\t0x200301\n#define CS8420_CLOCK_SRC_CTL\t0x200401\n#define CS8420_RECEIVER_ERRORS\t0x201000\n#define CS8420_SRC_RATIO\t0x201e00\n#define CS8420_CSB0\t\t0x202000\n#define CS8420_CSB1\t\t0x202100\n#define CS8420_CSB2\t\t0x202200\n#define CS8420_CSB3\t\t0x202300\n#define CS8420_CSB4\t\t0x202400\n#define CS8420_VERSION\t\t0x207f00\n\n#define CS4271_MODE_CTL_1\t0x200101\n#define CS4271_DAC_CTL\t\t0x200201\n#define CS4271_VOLMIX\t\t0x200301\n#define CS4271_VOLMUTE_LEFT\t0x200401\n#define CS4271_VOLMUTE_RIGHT\t0x200501\n#define CS4271_ADC_CTL\t\t0x200601\n#define CS4271_MODE_CTL_2\t0x200701\n\n#define CHIP_SIG_AND_MAP_SPI\t0xff7f00\n\n \n#define CS4271_01_CS\t\t0x160018\n#define CS4271_23_CS\t\t0x160019\n#define CS4271_45_CS\t\t0x16001a\n#define CS4271_67_CS\t\t0x16001b\n#define CS4271_89_CS\t\t0x16001c\n#define CS4271_AB_CS\t\t0x16001d\n#define CS8420_01_CS\t\t0x080090\n#define CS8420_23_CS\t\t0x080092\n#define CS8420_45_CS\t\t0x080094\n#define CS8420_67_CS\t\t0x080096\n#define CS8416_01_CS\t\t0x080098\n\n\n \nirqreturn_t pcxhr_interrupt(int irq, void *dev_id);\nirqreturn_t pcxhr_threaded_irq(int irq, void *dev_id);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}