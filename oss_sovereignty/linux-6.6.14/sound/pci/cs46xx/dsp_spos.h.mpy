{
  "module_name": "dsp_spos.h",
  "hash_id": "08108a1ae6f88b9fa0601e014c1453e1e0cdeb27f901817716150ab4466412b7",
  "original_prompt": "Ingested from linux-6.6.14/sound/pci/cs46xx/dsp_spos.h",
  "human_readable_source": " \n \n\n \n\n#ifdef  CONFIG_SND_CS46XX_NEW_DSP  \n#ifndef __DSP_SPOS_H__\n#define __DSP_SPOS_H__\n\n#define DSP_MAX_SYMBOLS 1024\n#define DSP_MAX_MODULES 64\n\n#define DSP_CODE_BYTE_SIZE             0x00007000UL\n#define DSP_PARAMETER_BYTE_SIZE        0x00003000UL\n#define DSP_SAMPLE_BYTE_SIZE           0x00003800UL\n#define DSP_PARAMETER_BYTE_OFFSET      0x00000000UL\n#define DSP_SAMPLE_BYTE_OFFSET         0x00010000UL\n#define DSP_CODE_BYTE_OFFSET           0x00020000UL\n\n#define WIDE_INSTR_MASK       0x0040\n#define WIDE_LADD_INSTR_MASK  0x0380\n\n \nenum wide_opcode {\n\tWIDE_FOR_BEGIN_LOOP = 0x20,\n\tWIDE_FOR_BEGIN_LOOP2,\n\n\tWIDE_COND_GOTO_ADDR = 0x30,\n\tWIDE_COND_GOTO_CALL,\n\n\tWIDE_TBEQ_COND_GOTO_ADDR = 0x70,\n\tWIDE_TBEQ_COND_CALL_ADDR,\n\tWIDE_TBEQ_NCOND_GOTO_ADDR,\n\tWIDE_TBEQ_NCOND_CALL_ADDR,\n\tWIDE_TBEQ_COND_GOTO1_ADDR,\n\tWIDE_TBEQ_COND_CALL1_ADDR,\n\tWIDE_TBEQ_NCOND_GOTOI_ADDR,\n\tWIDE_TBEQ_NCOND_CALL1_ADDR,\n};\n\n \n#define VARI_DECIMATE_BUF1       0x0000\n#define WRITE_BACK_BUF1          0x0400\n#define CODEC_INPUT_BUF1         0x0500\n#define PCM_READER_BUF1          0x0600\n#define SRC_DELAY_BUF1           0x0680\n#define VARI_DECIMATE_BUF0       0x0780\n#define SRC_OUTPUT_BUF1          0x07A0\n#define ASYNC_IP_OUTPUT_BUFFER1  0x0A00\n#define OUTPUT_SNOOP_BUFFER      0x0B00\n#define SPDIFI_IP_OUTPUT_BUFFER1 0x0E00\n#define SPDIFO_IP_OUTPUT_BUFFER1 0x1000\n#define MIX_SAMPLE_BUF1          0x1400\n#define MIX_SAMPLE_BUF2          0x2E80\n#define MIX_SAMPLE_BUF3          0x2F00\n#define MIX_SAMPLE_BUF4          0x2F80\n#define MIX_SAMPLE_BUF5          0x3000\n\n \n#define HFG_STACK                0x066A\n#define FG_STACK                 0x066E\n#define BG_STACK                 0x068E\n\n \n#define SPOSCB_ADDR              0x070\n#define BG_TREE_SCB_ADDR         0x635\n#define NULL_SCB_ADDR            0x000\n#define TIMINGMASTER_SCB_ADDR    0x010\n#define CODECOUT_SCB_ADDR        0x020\n#define PCMREADER_SCB_ADDR       0x030\n#define WRITEBACK_SCB_ADDR       0x040\n#define CODECIN_SCB_ADDR         0x080\n#define MASTERMIX_SCB_ADDR       0x090\n#define SRCTASK_SCB_ADDR         0x0A0\n#define VARIDECIMATE_SCB_ADDR    0x0B0\n#define PCMSERIALIN_SCB_ADDR     0x0C0\n#define FG_TASK_HEADER_ADDR      0x600\n#define ASYNCTX_SCB_ADDR         0x0E0\n#define ASYNCRX_SCB_ADDR         0x0F0\n#define SRCTASKII_SCB_ADDR       0x100\n#define OUTPUTSNOOP_SCB_ADDR     0x110\n#define PCMSERIALINII_SCB_ADDR   0x120\n#define SPIOWRITE_SCB_ADDR       0x130\n#define REAR_CODECOUT_SCB_ADDR   0x140\n#define OUTPUTSNOOPII_SCB_ADDR   0x150\n#define PCMSERIALIN_PCM_SCB_ADDR 0x160\n#define RECORD_MIXER_SCB_ADDR    0x170\n#define REAR_MIXER_SCB_ADDR      0x180\n#define CLFE_MIXER_SCB_ADDR      0x190\n#define CLFE_CODEC_SCB_ADDR      0x1A0\n\n \n#define HFG_TREE_SCB             0xBA0\n#define SPDIFI_SCB_INST          0xBB0\n#define SPDIFO_SCB_INST          0xBC0\n#define WRITE_BACK_SPB           0x0D0\n\n \n#define AsyncCIOFIFOPointer  0xd\n#define SPDIFOFIFOPointer    0xd\n#define SPDIFIFIFOPointer    0xd\n#define TCBData              0xb\n#define HFGFlags             0xa\n#define TCBContextBlk        0x10\n#define AFGTxAccumPhi        0x4\n#define SCBsubListPtr        0x9\n#define SCBfuncEntryPtr      0xA\n#define SRCCorPerGof         0x2\n#define SRCPhiIncr6Int26Frac 0xd\n#define SCBVolumeCtrl        0xe\n\n \n#define UseASER1Input 1\n\n\n\n \n\n#define RSCONFIG_MODULO_SIZE_MASK               0x0000000FL\n#define RSCONFIG_MODULO_16                      0x00000001L\n#define RSCONFIG_MODULO_32                      0x00000002L\n#define RSCONFIG_MODULO_64                      0x00000003L\n#define RSCONFIG_MODULO_128                     0x00000004L\n#define RSCONFIG_MODULO_256                     0x00000005L\n#define RSCONFIG_MODULO_512                     0x00000006L\n#define RSCONFIG_MODULO_1024                    0x00000007L\n#define RSCONFIG_MODULO_4                       0x00000008L\n#define RSCONFIG_MODULO_8                       0x00000009L\n#define RSCONFIG_SAMPLE_SIZE_MASK               0x000000C0L\n#define RSCONFIG_SAMPLE_8MONO                   0x00000000L\n#define RSCONFIG_SAMPLE_8STEREO                 0x00000040L\n#define RSCONFIG_SAMPLE_16MONO                  0x00000080L\n#define RSCONFIG_SAMPLE_16STEREO                0x000000C0L\n#define RSCONFIG_UNDERRUN_ZERO                  0x00004000L\n#define RSCONFIG_DMA_TO_HOST                    0x00008000L\n#define RSCONFIG_STREAM_NUM_MASK                0x00FF0000L\n#define RSCONFIG_MAX_DMA_SIZE_MASK              0x1F000000L\n#define RSCONFIG_DMA_ENABLE                     0x20000000L\n#define RSCONFIG_PRIORITY_MASK                  0xC0000000L\n#define RSCONFIG_PRIORITY_HIGH                  0x00000000L\n#define RSCONFIG_PRIORITY_MEDIUM_HIGH           0x40000000L\n#define RSCONFIG_PRIORITY_MEDIUM_LOW            0x80000000L\n#define RSCONFIG_PRIORITY_LOW                   0xC0000000L\n#define RSCONFIG_STREAM_NUM_SHIFT               16L\n#define RSCONFIG_MAX_DMA_SIZE_SHIFT             24L\n\n \n#define FG_INTERVAL_TIMER_PERIOD                0x0051\n#define BG_INTERVAL_TIMER_PERIOD                0x0100\n\n\n \n#define SP_ASER_COUNTDOWN 0x8040\n#define SP_SPDOUT_FIFO    0x0108\n#define SP_SPDIN_MI_FIFO  0x01E0\n#define SP_SPDIN_D_FIFO   0x01F0\n#define SP_SPDIN_STATUS   0x8048\n#define SP_SPDIN_CONTROL  0x8049\n#define SP_SPDIN_FIFOPTR  0x804A\n#define SP_SPDOUT_STATUS  0x804C\n#define SP_SPDOUT_CONTROL 0x804D\n#define SP_SPDOUT_CSUV    0x808E\n\nstatic inline u8 _wrap_all_bits (u8 val)\n{\n\tu8 wrapped;\n\t\n\t \n\twrapped = \n\t\t((val & 0x1 ) << 7) |\n\t\t((val & 0x2 ) << 5) |\n\t\t((val & 0x4 ) << 3) |\n\t\t((val & 0x8 ) << 1) |\n\t\t((val & 0x10) >> 1) |\n\t\t((val & 0x20) >> 3) |\n\t\t((val & 0x40) >> 5) |\n\t\t((val & 0x80) >> 7);\n\n\treturn wrapped;\n}\n\nstatic inline void cs46xx_dsp_spos_update_scb (struct snd_cs46xx * chip,\n\t\t\t\t\t       struct dsp_scb_descriptor * scb) \n{\n\t \n\tsnd_cs46xx_poke(chip,\n\t\t\t(scb->address + SCBsubListPtr) << 2,\n\t\t\t(scb->sub_list_ptr->address << 0x10) |\n\t\t\t(scb->next_scb_ptr->address));\t\n\tscb->updated = 1;\n}\n\nstatic inline void cs46xx_dsp_scb_set_volume (struct snd_cs46xx * chip,\n\t\t\t\t\t      struct dsp_scb_descriptor * scb,\n\t\t\t\t\t      u16 left, u16 right)\n{\n\tunsigned int val = ((0xffff - left) << 16 | (0xffff - right));\n\n\tsnd_cs46xx_poke(chip, (scb->address + SCBVolumeCtrl) << 2, val);\n\tsnd_cs46xx_poke(chip, (scb->address + SCBVolumeCtrl + 1) << 2, val);\n\tscb->volume_set = 1;\n\tscb->volume[0] = left;\n\tscb->volume[1] = right;\n}\n#endif  \n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}