{
  "module_name": "cs46xx_lib.h",
  "hash_id": "d7bd60a87fead26734c75c4c4ff7f1a4cbe02d4f0a1272b5734a869324b3bb8c",
  "original_prompt": "Ingested from linux-6.6.14/sound/pci/cs46xx/cs46xx_lib.h",
  "human_readable_source": " \n \n\n#ifndef __CS46XX_LIB_H__\n#define __CS46XX_LIB_H__\n\n \n\n#define CS46XX_BA0_SIZE\t\t  0x1000\n#define CS46XX_BA1_DATA0_SIZE 0x3000\n#define CS46XX_BA1_DATA1_SIZE 0x3800\n#define CS46XX_BA1_PRG_SIZE\t  0x7000\n#define CS46XX_BA1_REG_SIZE\t  0x0100\n\n\n\n#ifdef CONFIG_SND_CS46XX_NEW_DSP\n#define CS46XX_MIN_PERIOD_SIZE 64\n#define CS46XX_MAX_PERIOD_SIZE 1024*1024\n#else\n#define CS46XX_MIN_PERIOD_SIZE 2048\n#define CS46XX_MAX_PERIOD_SIZE 2048\n#endif\n\n#define CS46XX_FRAGS 2\n \n\n#define SCB_NO_PARENT             0\n#define SCB_ON_PARENT_NEXT_SCB    1\n#define SCB_ON_PARENT_SUBLIST_SCB 2\n\n \n#define BA1_DWORD_SIZE\t\t(13 * 1024 + 512)\n#define BA1_MEMORY_COUNT\t3\n\n \n\nstatic inline void snd_cs46xx_poke(struct snd_cs46xx *chip, unsigned long reg, unsigned int val)\n{\n\tunsigned int bank = reg >> 16;\n\tunsigned int offset = reg & 0xffff;\n\n\t \n\twritel(val, chip->region.idx[bank+1].remap_addr + offset);\n}\n\nstatic inline unsigned int snd_cs46xx_peek(struct snd_cs46xx *chip, unsigned long reg)\n{\n\tunsigned int bank = reg >> 16;\n\tunsigned int offset = reg & 0xffff;\n\treturn readl(chip->region.idx[bank+1].remap_addr + offset);\n}\n\nstatic inline void snd_cs46xx_pokeBA0(struct snd_cs46xx *chip, unsigned long offset, unsigned int val)\n{\n\twritel(val, chip->region.name.ba0.remap_addr + offset);\n}\n\nstatic inline unsigned int snd_cs46xx_peekBA0(struct snd_cs46xx *chip, unsigned long offset)\n{\n\treturn readl(chip->region.name.ba0.remap_addr + offset);\n}\n\nstruct dsp_spos_instance *cs46xx_dsp_spos_create (struct snd_cs46xx * chip);\nvoid cs46xx_dsp_spos_destroy (struct snd_cs46xx * chip);\nint cs46xx_dsp_load_module (struct snd_cs46xx * chip, struct dsp_module_desc * module);\n#ifdef CONFIG_PM_SLEEP\nint cs46xx_dsp_resume(struct snd_cs46xx * chip);\n#endif\nstruct dsp_symbol_entry *cs46xx_dsp_lookup_symbol (struct snd_cs46xx * chip, char * symbol_name,\n\t\t\t\t\t\t   int symbol_type);\n#ifdef CONFIG_SND_PROC_FS\nint cs46xx_dsp_proc_init (struct snd_card *card, struct snd_cs46xx *chip);\nint cs46xx_dsp_proc_done (struct snd_cs46xx *chip);\n#else\n#define cs46xx_dsp_proc_init(card, chip)\n#define cs46xx_dsp_proc_done(chip)\n#endif\nint cs46xx_dsp_scb_and_task_init (struct snd_cs46xx *chip);\nint snd_cs46xx_download (struct snd_cs46xx *chip, u32 *src, unsigned long offset,\n\t\t\t unsigned long len);\nint snd_cs46xx_clear_BA1(struct snd_cs46xx *chip, unsigned long offset, unsigned long len);\nint cs46xx_dsp_enable_spdif_out (struct snd_cs46xx *chip);\nint cs46xx_dsp_enable_spdif_hw (struct snd_cs46xx *chip);\nint cs46xx_dsp_disable_spdif_out (struct snd_cs46xx *chip);\nint cs46xx_dsp_enable_spdif_in (struct snd_cs46xx *chip);\nint cs46xx_dsp_disable_spdif_in (struct snd_cs46xx *chip);\nint cs46xx_dsp_enable_pcm_capture (struct snd_cs46xx *chip);\nint cs46xx_dsp_disable_pcm_capture (struct snd_cs46xx *chip);\nint cs46xx_dsp_enable_adc_capture (struct snd_cs46xx *chip);\nint cs46xx_dsp_disable_adc_capture (struct snd_cs46xx *chip);\nint cs46xx_poke_via_dsp (struct snd_cs46xx *chip, u32 address, u32 data);\nstruct dsp_scb_descriptor * cs46xx_dsp_create_scb (struct snd_cs46xx *chip, char * name,\n\t\t\t\t\t\t   u32 * scb_data, u32 dest);\n#ifdef CONFIG_SND_PROC_FS\nvoid cs46xx_dsp_proc_free_scb_desc (struct dsp_scb_descriptor * scb);\nvoid cs46xx_dsp_proc_register_scb_desc (struct snd_cs46xx *chip,\n\t\t\t\t\tstruct dsp_scb_descriptor * scb);\n#else\n#define cs46xx_dsp_proc_free_scb_desc(scb)\n#define cs46xx_dsp_proc_register_scb_desc(chip, scb)\n#endif\nstruct dsp_scb_descriptor * cs46xx_dsp_create_timing_master_scb (struct snd_cs46xx *chip);\nstruct dsp_scb_descriptor *\ncs46xx_dsp_create_codec_out_scb(struct snd_cs46xx * chip,\n\t\t\t\tchar * codec_name, u16 channel_disp, u16 fifo_addr,\n\t\t\t\tu16 child_scb_addr, u32 dest,\n\t\t\t\tstruct dsp_scb_descriptor * parent_scb,\n\t\t\t\tint scb_child_type);\nstruct dsp_scb_descriptor *\ncs46xx_dsp_create_codec_in_scb(struct snd_cs46xx * chip, char * codec_name,\n\t\t\t       u16 channel_disp, u16 fifo_addr,\n\t\t\t       u16 sample_buffer_addr, u32 dest,\n\t\t\t       struct dsp_scb_descriptor * parent_scb,\n\t\t\t       int scb_child_type);\nvoid cs46xx_dsp_remove_scb (struct snd_cs46xx *chip,\n\t\t\t    struct dsp_scb_descriptor * scb);\nstruct dsp_scb_descriptor *\ncs46xx_dsp_create_codec_in_scb(struct snd_cs46xx * chip, char * codec_name,\n\t\t\t       u16 channel_disp, u16 fifo_addr,\n\t\t\t       u16 sample_buffer_addr, u32 dest,\n\t\t\t       struct dsp_scb_descriptor * parent_scb,\n\t\t\t       int scb_child_type);\nstruct dsp_scb_descriptor *\ncs46xx_dsp_create_src_task_scb(struct snd_cs46xx * chip, char * scb_name,\n\t\t\t       int sample_rate, u16 src_buffer_addr,\n\t\t\t       u16 src_delay_buffer_addr, u32 dest,\n\t\t\t       struct dsp_scb_descriptor * parent_scb,\n\t\t\t       int scb_child_type, int pass_through);\nstruct dsp_scb_descriptor *\ncs46xx_dsp_create_mix_only_scb(struct snd_cs46xx * chip, char * scb_name,\n\t\t\t       u16 mix_buffer_addr, u32 dest,\n\t\t\t       struct dsp_scb_descriptor * parent_scb,\n\t\t\t       int scb_child_type);\n\nstruct dsp_scb_descriptor *\ncs46xx_dsp_create_vari_decimate_scb(struct snd_cs46xx * chip, char * scb_name,\n\t\t\t\t    u16 vari_buffer_addr0, u16 vari_buffer_addr1, u32 dest,\n\t\t\t\t    struct dsp_scb_descriptor * parent_scb,\n\t\t\t\t    int scb_child_type);\nstruct dsp_scb_descriptor *\ncs46xx_dsp_create_asynch_fg_rx_scb(struct snd_cs46xx * chip, char * scb_name,\n\t\t\t\t   u32 dest, u16 hfg_scb_address, u16 asynch_buffer_address,\n\t\t\t\t   struct dsp_scb_descriptor * parent_scb,\n\t\t\t\t   int scb_child_type);\nstruct dsp_scb_descriptor *\ncs46xx_dsp_create_spio_write_scb(struct snd_cs46xx * chip, char * scb_name, u32 dest,\n\t\t\t\t struct dsp_scb_descriptor * parent_scb,\n\t\t\t\t int scb_child_type);\nstruct dsp_scb_descriptor *\ncs46xx_dsp_create_mix_to_ostream_scb(struct snd_cs46xx * chip, char * scb_name,\n\t\t\t\t     u16 mix_buffer_addr, u16 writeback_spb, u32 dest,\n\t\t\t\t     struct dsp_scb_descriptor * parent_scb,\n\t\t\t\t     int scb_child_type);\nstruct dsp_scb_descriptor *\ncs46xx_dsp_create_magic_snoop_scb(struct snd_cs46xx * chip, char * scb_name,\n\t\t\t\t  u32 dest, u16 snoop_buffer_address,\n\t\t\t\t  struct dsp_scb_descriptor * snoop_scb,\n\t\t\t\t  struct dsp_scb_descriptor * parent_scb,\n\t\t\t\t  int scb_child_type);\nstruct dsp_pcm_channel_descriptor *\ncs46xx_dsp_create_pcm_channel (struct snd_cs46xx * chip, u32 sample_rate,\n\t\t\t       void * private_data, u32 hw_dma_addr,\n\t\t\t       int pcm_channel_id);\nvoid cs46xx_dsp_destroy_pcm_channel (struct snd_cs46xx * chip,\n\t\t\t\t     struct dsp_pcm_channel_descriptor * pcm_channel);\nint cs46xx_dsp_pcm_unlink (struct snd_cs46xx * chip,\n\t\t\t   struct dsp_pcm_channel_descriptor * pcm_channel);\nint cs46xx_dsp_pcm_link (struct snd_cs46xx * chip,\n\t\t\t struct dsp_pcm_channel_descriptor * pcm_channel);\nstruct dsp_scb_descriptor *\ncs46xx_add_record_source (struct snd_cs46xx *chip, struct dsp_scb_descriptor * source,\n\t\t\t  u16 addr, char * scb_name);\nint cs46xx_src_unlink(struct snd_cs46xx *chip, struct dsp_scb_descriptor * src);\nint cs46xx_src_link(struct snd_cs46xx *chip, struct dsp_scb_descriptor * src);\nint cs46xx_iec958_pre_open (struct snd_cs46xx *chip);\nint cs46xx_iec958_post_close (struct snd_cs46xx *chip);\nint cs46xx_dsp_pcm_channel_set_period (struct snd_cs46xx * chip,\n\t\t\t\t       struct dsp_pcm_channel_descriptor * pcm_channel,\n\t\t\t\t       int period_size);\nint cs46xx_dsp_pcm_ostream_set_period (struct snd_cs46xx * chip, int period_size);\nint cs46xx_dsp_set_dac_volume (struct snd_cs46xx * chip, u16 left, u16 right);\nint cs46xx_dsp_set_iec958_volume (struct snd_cs46xx * chip, u16 left, u16 right);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}