{
  "module_name": "au88x0_xtalk.c",
  "hash_id": "ec1e3548141f2a98c05cd395410384afba7bb5ac9d7e9d86a0969ad833810ad2",
  "original_prompt": "Ingested from linux-6.6.14/sound/pci/au88x0/au88x0_xtalk.c",
  "human_readable_source": "\n \n\n \n\n#include \"au88x0_xtalk.h\"\n\n \n\nstatic short const sXtalkWideKLeftEq = 0x269C;\nstatic short const sXtalkWideKRightEq = 0x269C;\nstatic short const sXtalkWideKLeftXt = 0xF25E;\nstatic __maybe_unused short const sXtalkWideKRightXt = 0xF25E;\nstatic short const sXtalkWideShiftLeftEq = 1;\nstatic short const sXtalkWideShiftRightEq = 1;\nstatic short const sXtalkWideShiftLeftXt = 0;\nstatic __maybe_unused short const sXtalkWideShiftRightXt = 0;\nstatic unsigned short const wXtalkWideLeftDelay = 0xd;\nstatic unsigned short const wXtalkWideRightDelay = 0xd;\nstatic short const sXtalkNarrowKLeftEq = 0x468D;\nstatic short const sXtalkNarrowKRightEq = 0x468D;\nstatic short const sXtalkNarrowKLeftXt = 0xF82E;\nstatic __maybe_unused short const sXtalkNarrowKRightXt = 0xF82E;\nstatic short const sXtalkNarrowShiftLeftEq = 0x3;\nstatic short const sXtalkNarrowShiftRightEq = 0x3;\nstatic short const sXtalkNarrowShiftLeftXt = 0;\nstatic __maybe_unused short const sXtalkNarrowShiftRightXt = 0;\nstatic unsigned short const wXtalkNarrowLeftDelay = 0x7;\nstatic unsigned short const wXtalkNarrowRightDelay = 0x7;\n\nstatic __maybe_unused xtalk_gains_t const asXtalkGainsDefault = {\n\t0x4000, 0x4000, 0x4000, 0x4000, 0x4000,\n\t0x4000, 0x4000, 0x4000, 0x4000,\t0x4000\n};\n\nstatic __maybe_unused xtalk_gains_t const asXtalkGainsTest = {\n\t0x7fff, 0x8000, 0x0000, 0x0000, 0x0001,\n\t0xffff, 0x4000, 0xc000, 0x0002, 0xfffe\n};\n\nstatic __maybe_unused xtalk_gains_t const asXtalkGains1Chan = {\n\t0x7FFF, 0, 0, 0, 0,\n\t0x7FFF, 0, 0, 0, 0,\n};\n\n\nstatic xtalk_gains_t const asXtalkGainsAllChan = {\n\t0x7FFF, 0x7FFF, 0x7FFF, 0x7FFF, 0,\n\t0x7FFF, 0x7FFF, 0x7FFF, 0x7FFF,\t0\n};\n\nstatic xtalk_gains_t const asXtalkGainsZeros = {\n\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n};\n\nstatic xtalk_dline_t const alXtalkDlineZeros = {\n\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n};\nstatic __maybe_unused xtalk_dline_t const alXtalkDlineTest = {\n\t0x0000fc18, 0xfff03e8, 0x000186a0, 0xfffe7960, 1, 0xffffffff, 0, 0,\n\t0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n\t0, 0, 0, 0, 0, 0, 0, 0\n};\n\nstatic xtalk_instate_t const asXtalkInStateZeros = {\n\t0, 0, 0, 0\n};\n\nstatic __maybe_unused xtalk_instate_t const asXtalkInStateTest = {\n\t0x0080, 0xff80, 0x0001, 0xffff\n};\n\nstatic xtalk_state_t const asXtalkOutStateZeros = {\n\t{0, 0, 0, 0},\n\t{0, 0, 0, 0},\n\t{0, 0, 0, 0},\n\t{0, 0, 0, 0},\n\t{0, 0, 0, 0}\n};\n\nstatic short const sDiamondKLeftEq = 0x401d;\nstatic short const sDiamondKRightEq = 0x401d;\nstatic short const sDiamondKLeftXt = 0xF90E;\nstatic __maybe_unused short const sDiamondKRightXt = 0xF90E;\nstatic short const sDiamondShiftLeftEq = 1;\nstatic short const sDiamondShiftRightEq = 1;\nstatic short const sDiamondShiftLeftXt = 0;\nstatic __maybe_unused short const sDiamondShiftRightXt = 0;\nstatic unsigned short const wDiamondLeftDelay = 0xb;\nstatic unsigned short const wDiamondRightDelay = 0xb;\n\nstatic xtalk_coefs_t const asXtalkWideCoefsLeftEq = {\n\t{0xEC4C, 0xDCE9, 0xFDC2, 0xFEEC, 0},\n\t{0x5F60, 0xCBCB, 0xFC26, 0x0305, 0},\n\t{0x340B, 0xe8f5, 0x236c, 0xe40d, 0},\n\t{0x76d5, 0xc78d, 0x05ac, 0xfa5b, 0},\n\t{0x7F04, 0xC0FA, 0x0263, 0xFDA2, 0}\n};\nstatic xtalk_coefs_t const asXtalkWideCoefsRightEq = {\n\t{0xEC4C, 0xDCE9, 0xFDC2, 0xFEEC, 0},\n\t{0x5F60, 0xCBCB, 0xFC26, 0x0305, 0},\n\t{0x340B, 0xe8f5, 0x236c, 0xe40d, 0},\n\t{0x76d5, 0xc78d, 0x05ac, 0xfa5b, 0},\n\t{0x7F04, 0xC0FA, 0x0263, 0xFDA2, 0}\n};\nstatic xtalk_coefs_t const asXtalkWideCoefsLeftXt = {\n\t{0x55c6, 0xc97b, 0x005b, 0x0047, 0},\n\t{0x6a60, 0xca20, 0xffc6, 0x0040, 0},\n\t{0x6411, 0xd711, 0xfca1, 0x0190, 0},\n\t{0x77dc, 0xc79e, 0xffb8, 0x000a, 0},\n\t{0, 0, 0, 0, 0}\n};\nstatic __maybe_unused xtalk_coefs_t const asXtalkWideCoefsRightXt = {\n\t{0x55c6, 0xc97b, 0x005b, 0x0047, 0},\n\t{0x6a60, 0xca20, 0xffc6, 0x0040, 0},\n\t{0x6411, 0xd711, 0xfca1, 0x0190, 0},\n\t{0x77dc, 0xc79e, 0xffb8, 0x000a, 0},\n\t{0, 0, 0, 0, 0}\n};\nstatic xtalk_coefs_t const asXtalkNarrowCoefsLeftEq = {\n\t{0x50B5, 0xD07C, 0x026D, 0xFD21, 0},\n\t{0x460F, 0xE44F, 0xF75E, 0xEFA6, 0},\n\t{0x556D, 0xDCAB, 0x2098, 0xF0F2, 0},\n\t{0x7E03, 0xC1F0, 0x007D, 0xFF89, 0},\n\t{0x383E, 0xFD9D, 0xB278, 0x4547, 0}\n};\n\nstatic xtalk_coefs_t const asXtalkNarrowCoefsRightEq = {\n\t{0x50B5, 0xD07C, 0x026D, 0xFD21, 0},\n\t{0x460F, 0xE44F, 0xF75E, 0xEFA6, 0},\n\t{0x556D, 0xDCAB, 0x2098, 0xF0F2, 0},\n\t{0x7E03, 0xC1F0, 0x007D, 0xFF89, 0},\n\t{0x383E, 0xFD9D, 0xB278, 0x4547, 0}\n};\n\nstatic xtalk_coefs_t const asXtalkNarrowCoefsLeftXt = {\n\t{0x3CB2, 0xDF49, 0xF6EA, 0x095B, 0},\n\t{0x6777, 0xC915, 0xFEAF, 0x00B1, 0},\n\t{0x7762, 0xC7D9, 0x025B, 0xFDA6, 0},\n\t{0x6B7A, 0xD2AA, 0xF2FB, 0x0B64, 0},\n\t{0, 0, 0, 0, 0}\n};\n\nstatic __maybe_unused xtalk_coefs_t const asXtalkNarrowCoefsRightXt = {\n\t{0x3CB2, 0xDF49, 0xF6EA, 0x095B, 0},\n\t{0x6777, 0xC915, 0xFEAF, 0x00B1, 0},\n\t{0x7762, 0xC7D9, 0x025B, 0xFDA6, 0},\n\t{0x6B7A, 0xD2AA, 0xF2FB, 0x0B64, 0},\n\t{0, 0, 0, 0, 0}\n};\n\nstatic xtalk_coefs_t const asXtalkCoefsZeros = {\n\t{0, 0, 0, 0, 0},\n\t{0, 0, 0, 0, 0},\n\t{0, 0, 0, 0, 0},\n\t{0, 0, 0, 0, 0},\n\t{0, 0, 0, 0, 0}\n};\n\nstatic xtalk_coefs_t const asXtalkCoefsPipe = {\n\t{0, 0, 0x0FA0, 0, 0},\n\t{0, 0, 0x0FA0, 0, 0},\n\t{0, 0, 0x0FA0, 0, 0},\n\t{0, 0, 0x0FA0, 0, 0},\n\t{0, 0, 0x1180, 0, 0},\n};\nstatic __maybe_unused xtalk_coefs_t const asXtalkCoefsNegPipe = {\n\t{0, 0, 0xF380, 0, 0},\n\t{0, 0, 0xF380, 0, 0},\n\t{0, 0, 0xF380, 0, 0},\n\t{0, 0, 0xF380, 0, 0},\n\t{0, 0, 0xF200, 0, 0}\n};\n\nstatic __maybe_unused xtalk_coefs_t const asXtalkCoefsNumTest = {\n\t{0, 0, 0xF380, 0x8000, 0x6D60},\n\t{0, 0, 0, 0, 0},\n\t{0, 0, 0, 0, 0},\n\t{0, 0, 0, 0, 0},\n\t{0, 0, 0, 0, 0}\n};\n\nstatic __maybe_unused xtalk_coefs_t const asXtalkCoefsDenTest = {\n\t{0xC000, 0x2000, 0x4000, 0, 0},\n\t{0, 0, 0, 0, 0},\n\t{0, 0, 0, 0, 0},\n\t{0, 0, 0, 0, 0},\n\t{0, 0, 0, 0, 0}\n};\n\nstatic __maybe_unused xtalk_state_t const asXtalkOutStateTest = {\n\t{0x7FFF, 0x0004, 0xFFFC, 0},\n\t{0xFE00, 0x0008, 0xFFF8, 0x4000},\n\t{0x0200, 0x0010, 0xFFF0, 0xC000},\n\t{0x8000, 0x0020, 0xFFE0, 0},\n\t{0, 0, 0, 0}\n};\n\nstatic xtalk_coefs_t const asDiamondCoefsLeftEq = {\n\t{0x0F1E, 0x2D05, 0xF8E3, 0x07C8, 0},\n\t{0x45E2, 0xCA51, 0x0448, 0xFCE7, 0},\n\t{0xA93E, 0xDBD5, 0x022C, 0x028A, 0},\n\t{0, 0, 0, 0, 0},\n\t{0, 0, 0, 0, 0}\n};\n\nstatic xtalk_coefs_t const asDiamondCoefsRightEq = {\n\t{0x0F1E, 0x2D05, 0xF8E3, 0x07C8, 0},\n\t{0x45E2, 0xCA51, 0x0448, 0xFCE7, 0},\n\t{0xA93E, 0xDBD5, 0x022C, 0x028A, 0},\n\t{0, 0, 0, 0, 0},\n\t{0, 0, 0, 0, 0}\n};\n\nstatic xtalk_coefs_t const asDiamondCoefsLeftXt = {\n\t{0x3B50, 0xFE08, 0xF959, 0x0060, 0},\n\t{0x9FCB, 0xD8F1, 0x00A2, 0x003A, 0},\n\t{0, 0, 0, 0, 0},\n\t{0, 0, 0, 0, 0},\n\t{0, 0, 0, 0, 0}\n};\n\nstatic __maybe_unused xtalk_coefs_t const asDiamondCoefsRightXt = {\n\t{0x3B50, 0xFE08, 0xF959, 0x0060, 0},\n\t{0x9FCB, 0xD8F1, 0x00A2, 0x003A, 0},\n\t{0, 0, 0, 0, 0},\n\t{0, 0, 0, 0, 0},\n\t{0, 0, 0, 0, 0}\n};\n\n  \n \nstatic void\nvortex_XtalkHw_SetLeftEQ(vortex_t * vortex, short arg_0, short arg_4,\n\t\t\t xtalk_coefs_t const coefs)\n{\n\tint i;\n\n\tfor (i = 0; i < 5; i++) {\n\t\thwwrite(vortex->mmio, 0x24200 + i * 0x24, coefs[i][0]);\n\t\thwwrite(vortex->mmio, 0x24204 + i * 0x24, coefs[i][1]);\n\t\thwwrite(vortex->mmio, 0x24208 + i * 0x24, coefs[i][2]);\n\t\thwwrite(vortex->mmio, 0x2420c + i * 0x24, coefs[i][3]);\n\t\thwwrite(vortex->mmio, 0x24210 + i * 0x24, coefs[i][4]);\n\t}\n\thwwrite(vortex->mmio, 0x24538, arg_0 & 0xffff);\n\thwwrite(vortex->mmio, 0x2453C, arg_4 & 0xffff);\n}\n\nstatic void\nvortex_XtalkHw_SetRightEQ(vortex_t * vortex, short arg_0, short arg_4,\n\t\t\t  xtalk_coefs_t const coefs)\n{\n\tint i;\n\n\tfor (i = 0; i < 5; i++) {\n\t\thwwrite(vortex->mmio, 0x242b4 + i * 0x24, coefs[i][0]);\n\t\thwwrite(vortex->mmio, 0x242b8 + i * 0x24, coefs[i][1]);\n\t\thwwrite(vortex->mmio, 0x242bc + i * 0x24, coefs[i][2]);\n\t\thwwrite(vortex->mmio, 0x242c0 + i * 0x24, coefs[i][3]);\n\t\thwwrite(vortex->mmio, 0x242c4 + i * 0x24, coefs[i][4]);\n\t}\n\thwwrite(vortex->mmio, 0x24540, arg_0 & 0xffff);\n\thwwrite(vortex->mmio, 0x24544, arg_4 & 0xffff);\n}\n\nstatic void\nvortex_XtalkHw_SetLeftXT(vortex_t * vortex, short arg_0, short arg_4,\n\t\t\t xtalk_coefs_t const coefs)\n{\n\tint i;\n\n\tfor (i = 0; i < 5; i++) {\n\t\thwwrite(vortex->mmio, 0x24368 + i * 0x24, coefs[i][0]);\n\t\thwwrite(vortex->mmio, 0x2436c + i * 0x24, coefs[i][1]);\n\t\thwwrite(vortex->mmio, 0x24370 + i * 0x24, coefs[i][2]);\n\t\thwwrite(vortex->mmio, 0x24374 + i * 0x24, coefs[i][3]);\n\t\thwwrite(vortex->mmio, 0x24378 + i * 0x24, coefs[i][4]);\n\t}\n\thwwrite(vortex->mmio, 0x24548, arg_0 & 0xffff);\n\thwwrite(vortex->mmio, 0x2454C, arg_4 & 0xffff);\n}\n\nstatic void\nvortex_XtalkHw_SetRightXT(vortex_t * vortex, short arg_0, short arg_4,\n\t\t\t  xtalk_coefs_t const coefs)\n{\n\tint i;\n\n\tfor (i = 0; i < 5; i++) {\n\t\thwwrite(vortex->mmio, 0x2441C + i * 0x24, coefs[i][0]);\n\t\thwwrite(vortex->mmio, 0x24420 + i * 0x24, coefs[i][1]);\n\t\thwwrite(vortex->mmio, 0x24424 + i * 0x24, coefs[i][2]);\n\t\thwwrite(vortex->mmio, 0x24428 + i * 0x24, coefs[i][3]);\n\t\thwwrite(vortex->mmio, 0x2442C + i * 0x24, coefs[i][4]);\n\t}\n\thwwrite(vortex->mmio, 0x24550, arg_0 & 0xffff);\n\thwwrite(vortex->mmio, 0x24554, arg_4 & 0xffff);\n}\n\nstatic void\nvortex_XtalkHw_SetLeftEQStates(vortex_t * vortex,\n\t\t\t       xtalk_instate_t const arg_0,\n\t\t\t       xtalk_state_t const coefs)\n{\n\tint i;\n\n\tfor (i = 0; i < 5; i++) {\n\t\thwwrite(vortex->mmio, 0x24214 + i * 0x24, coefs[i][0]);\n\t\thwwrite(vortex->mmio, 0x24218 + i * 0x24, coefs[i][1]);\n\t\thwwrite(vortex->mmio, 0x2421C + i * 0x24, coefs[i][2]);\n\t\thwwrite(vortex->mmio, 0x24220 + i * 0x24, coefs[i][3]);\n\t}\n\thwwrite(vortex->mmio, 0x244F8, arg_0[0]);\n\thwwrite(vortex->mmio, 0x244FC, arg_0[1]);\n\thwwrite(vortex->mmio, 0x24500, arg_0[2]);\n\thwwrite(vortex->mmio, 0x24504, arg_0[3]);\n}\n\nstatic void\nvortex_XtalkHw_SetRightEQStates(vortex_t * vortex,\n\t\t\t\txtalk_instate_t const arg_0,\n\t\t\t\txtalk_state_t const coefs)\n{\n\tint i;\n\n\tfor (i = 0; i < 5; i++) {\n\t\thwwrite(vortex->mmio, 0x242C8 + i * 0x24, coefs[i][0]);\n\t\thwwrite(vortex->mmio, 0x242CC + i * 0x24, coefs[i][1]);\n\t\thwwrite(vortex->mmio, 0x242D0 + i * 0x24, coefs[i][2]);\n\t\thwwrite(vortex->mmio, 0x244D4 + i * 0x24, coefs[i][3]);\n\t}\n\thwwrite(vortex->mmio, 0x24508, arg_0[0]);\n\thwwrite(vortex->mmio, 0x2450C, arg_0[1]);\n\thwwrite(vortex->mmio, 0x24510, arg_0[2]);\n\thwwrite(vortex->mmio, 0x24514, arg_0[3]);\n}\n\nstatic void\nvortex_XtalkHw_SetLeftXTStates(vortex_t * vortex,\n\t\t\t       xtalk_instate_t const arg_0,\n\t\t\t       xtalk_state_t const coefs)\n{\n\tint i;\n\n\tfor (i = 0; i < 5; i++) {\n\t\thwwrite(vortex->mmio, 0x2437C + i * 0x24, coefs[i][0]);\n\t\thwwrite(vortex->mmio, 0x24380 + i * 0x24, coefs[i][1]);\n\t\thwwrite(vortex->mmio, 0x24384 + i * 0x24, coefs[i][2]);\n\t\thwwrite(vortex->mmio, 0x24388 + i * 0x24, coefs[i][3]);\n\t}\n\thwwrite(vortex->mmio, 0x24518, arg_0[0]);\n\thwwrite(vortex->mmio, 0x2451C, arg_0[1]);\n\thwwrite(vortex->mmio, 0x24520, arg_0[2]);\n\thwwrite(vortex->mmio, 0x24524, arg_0[3]);\n}\n\nstatic void\nvortex_XtalkHw_SetRightXTStates(vortex_t * vortex,\n\t\t\t\txtalk_instate_t const arg_0,\n\t\t\t\txtalk_state_t const coefs)\n{\n\tint i;\n\n\tfor (i = 0; i < 5; i++) {\n\t\thwwrite(vortex->mmio, 0x24430 + i * 0x24, coefs[i][0]);\n\t\thwwrite(vortex->mmio, 0x24434 + i * 0x24, coefs[i][1]);\n\t\thwwrite(vortex->mmio, 0x24438 + i * 0x24, coefs[i][2]);\n\t\thwwrite(vortex->mmio, 0x2443C + i * 0x24, coefs[i][3]);\n\t}\n\thwwrite(vortex->mmio, 0x24528, arg_0[0]);\n\thwwrite(vortex->mmio, 0x2452C, arg_0[1]);\n\thwwrite(vortex->mmio, 0x24530, arg_0[2]);\n\thwwrite(vortex->mmio, 0x24534, arg_0[3]);\n}\n\n#if 0\nstatic void\nvortex_XtalkHw_GetLeftEQ(vortex_t * vortex, short *arg_0, short *arg_4,\n\t\t\t xtalk_coefs_t coefs)\n{\n\tint i;\n\n\tfor (i = 0; i < 5; i++) {\n\t\tcoefs[i][0] = hwread(vortex->mmio, 0x24200 + i * 0x24);\n\t\tcoefs[i][1] = hwread(vortex->mmio, 0x24204 + i * 0x24);\n\t\tcoefs[i][2] = hwread(vortex->mmio, 0x24208 + i * 0x24);\n\t\tcoefs[i][3] = hwread(vortex->mmio, 0x2420c + i * 0x24);\n\t\tcoefs[i][4] = hwread(vortex->mmio, 0x24210 + i * 0x24);\n\t}\n\t*arg_0 = hwread(vortex->mmio, 0x24538) & 0xffff;\n\t*arg_4 = hwread(vortex->mmio, 0x2453c) & 0xffff;\n}\n\nstatic void\nvortex_XtalkHw_GetRightEQ(vortex_t * vortex, short *arg_0, short *arg_4,\n\t\t\t  xtalk_coefs_t coefs)\n{\n\tint i;\n\n\tfor (i = 0; i < 5; i++) {\n\t\tcoefs[i][0] = hwread(vortex->mmio, 0x242b4 + i * 0x24);\n\t\tcoefs[i][1] = hwread(vortex->mmio, 0x242b8 + i * 0x24);\n\t\tcoefs[i][2] = hwread(vortex->mmio, 0x242bc + i * 0x24);\n\t\tcoefs[i][3] = hwread(vortex->mmio, 0x242c0 + i * 0x24);\n\t\tcoefs[i][4] = hwread(vortex->mmio, 0x242c4 + i * 0x24);\n\t}\n\t*arg_0 = hwread(vortex->mmio, 0x24540) & 0xffff;\n\t*arg_4 = hwread(vortex->mmio, 0x24544) & 0xffff;\n}\n\nstatic void\nvortex_XtalkHw_GetLeftXT(vortex_t * vortex, short *arg_0, short *arg_4,\n\t\t\t xtalk_coefs_t coefs)\n{\n\tint i;\n\n\tfor (i = 0; i < 5; i++) {\n\t\tcoefs[i][0] = hwread(vortex->mmio, 0x24368 + i * 0x24);\n\t\tcoefs[i][1] = hwread(vortex->mmio, 0x2436C + i * 0x24);\n\t\tcoefs[i][2] = hwread(vortex->mmio, 0x24370 + i * 0x24);\n\t\tcoefs[i][3] = hwread(vortex->mmio, 0x24374 + i * 0x24);\n\t\tcoefs[i][4] = hwread(vortex->mmio, 0x24378 + i * 0x24);\n\t}\n\t*arg_0 = hwread(vortex->mmio, 0x24548) & 0xffff;\n\t*arg_4 = hwread(vortex->mmio, 0x2454C) & 0xffff;\n}\n\nstatic void\nvortex_XtalkHw_GetRightXT(vortex_t * vortex, short *arg_0, short *arg_4,\n\t\t\t  xtalk_coefs_t coefs)\n{\n\tint i;\n\n\tfor (i = 0; i < 5; i++) {\n\t\tcoefs[i][0] = hwread(vortex->mmio, 0x2441C + i * 0x24);\n\t\tcoefs[i][1] = hwread(vortex->mmio, 0x24420 + i * 0x24);\n\t\tcoefs[i][2] = hwread(vortex->mmio, 0x24424 + i * 0x24);\n\t\tcoefs[i][3] = hwread(vortex->mmio, 0x24428 + i * 0x24);\n\t\tcoefs[i][4] = hwread(vortex->mmio, 0x2442C + i * 0x24);\n\t}\n\t*arg_0 = hwread(vortex->mmio, 0x24550) & 0xffff;\n\t*arg_4 = hwread(vortex->mmio, 0x24554) & 0xffff;\n}\n\nstatic void\nvortex_XtalkHw_GetLeftEQStates(vortex_t * vortex, xtalk_instate_t arg_0,\n\t\t\t       xtalk_state_t coefs)\n{\n\tint i;\n\n\tfor (i = 0; i < 5; i++) {\n\t\tcoefs[i][0] = hwread(vortex->mmio, 0x24214 + i * 0x24);\n\t\tcoefs[i][1] = hwread(vortex->mmio, 0x24218 + i * 0x24);\n\t\tcoefs[i][2] = hwread(vortex->mmio, 0x2421C + i * 0x24);\n\t\tcoefs[i][3] = hwread(vortex->mmio, 0x24220 + i * 0x24);\n\t}\n\targ_0[0] = hwread(vortex->mmio, 0x244F8);\n\targ_0[1] = hwread(vortex->mmio, 0x244FC);\n\targ_0[2] = hwread(vortex->mmio, 0x24500);\n\targ_0[3] = hwread(vortex->mmio, 0x24504);\n}\n\nstatic void\nvortex_XtalkHw_GetRightEQStates(vortex_t * vortex, xtalk_instate_t arg_0,\n\t\t\t\txtalk_state_t coefs)\n{\n\tint i;\n\n\tfor (i = 0; i < 5; i++) {\n\t\tcoefs[i][0] = hwread(vortex->mmio, 0x242C8 + i * 0x24);\n\t\tcoefs[i][1] = hwread(vortex->mmio, 0x242CC + i * 0x24);\n\t\tcoefs[i][2] = hwread(vortex->mmio, 0x242D0 + i * 0x24);\n\t\tcoefs[i][3] = hwread(vortex->mmio, 0x242D4 + i * 0x24);\n\t}\n\targ_0[0] = hwread(vortex->mmio, 0x24508);\n\targ_0[1] = hwread(vortex->mmio, 0x2450C);\n\targ_0[2] = hwread(vortex->mmio, 0x24510);\n\targ_0[3] = hwread(vortex->mmio, 0x24514);\n}\n\nstatic void\nvortex_XtalkHw_GetLeftXTStates(vortex_t * vortex, xtalk_instate_t arg_0,\n\t\t\t       xtalk_state_t coefs)\n{\n\tint i;\n\n\tfor (i = 0; i < 5; i++) {\n\t\tcoefs[i][0] = hwread(vortex->mmio, 0x2437C + i * 0x24);\n\t\tcoefs[i][1] = hwread(vortex->mmio, 0x24380 + i * 0x24);\n\t\tcoefs[i][2] = hwread(vortex->mmio, 0x24384 + i * 0x24);\n\t\tcoefs[i][3] = hwread(vortex->mmio, 0x24388 + i * 0x24);\n\t}\n\targ_0[0] = hwread(vortex->mmio, 0x24518);\n\targ_0[1] = hwread(vortex->mmio, 0x2451C);\n\targ_0[2] = hwread(vortex->mmio, 0x24520);\n\targ_0[3] = hwread(vortex->mmio, 0x24524);\n}\n\nstatic void\nvortex_XtalkHw_GetRightXTStates(vortex_t * vortex, xtalk_instate_t arg_0,\n\t\t\t\txtalk_state_t coefs)\n{\n\tint i;\n\n\tfor (i = 0; i < 5; i++) {\n\t\tcoefs[i][0] = hwread(vortex->mmio, 0x24430 + i * 0x24);\n\t\tcoefs[i][1] = hwread(vortex->mmio, 0x24434 + i * 0x24);\n\t\tcoefs[i][2] = hwread(vortex->mmio, 0x24438 + i * 0x24);\n\t\tcoefs[i][3] = hwread(vortex->mmio, 0x2443C + i * 0x24);\n\t}\n\targ_0[0] = hwread(vortex->mmio, 0x24528);\n\targ_0[1] = hwread(vortex->mmio, 0x2452C);\n\targ_0[2] = hwread(vortex->mmio, 0x24530);\n\targ_0[3] = hwread(vortex->mmio, 0x24534);\n}\n\n#endif\n \n\nstatic void\nvortex_XtalkHw_SetGains(vortex_t * vortex, xtalk_gains_t const gains)\n{\n\tint i;\n\n\tfor (i = 0; i < XTGAINS_SZ; i++) {\n\t\thwwrite(vortex->mmio, 0x244D0 + (i * 4), gains[i]);\n\t}\n}\n\nstatic void\nvortex_XtalkHw_SetGainsAllChan(vortex_t * vortex)\n{\n\tvortex_XtalkHw_SetGains(vortex, asXtalkGainsAllChan);\n}\n\n#if 0\nstatic void vortex_XtalkHw_GetGains(vortex_t * vortex, xtalk_gains_t gains)\n{\n\tint i;\n\n\tfor (i = 0; i < XTGAINS_SZ; i++)\n\t\tgains[i] = hwread(vortex->mmio, 0x244D0 + i * 4);\n}\n\n#endif\n \n\nstatic void\nvortex_XtalkHw_SetDelay(vortex_t * vortex, unsigned short right,\n\t\t\tunsigned short left)\n{\n\tu32 esp0 = 0;\n\n\tesp0 &= 0x1FFFFFFF;\n\tesp0 |= 0xA0000000;\n\tesp0 = (esp0 & 0xffffE0ff) | ((right & 0x1F) << 8);\n\tesp0 = (esp0 & 0xfffc1fff) | ((left & 0x1F) << 0xd);\n\n\thwwrite(vortex->mmio, 0x24660, esp0);\n}\n\nstatic void\nvortex_XtalkHw_SetLeftDline(vortex_t * vortex, xtalk_dline_t const dline)\n{\n\tint i;\n\n\tfor (i = 0; i < 0x20; i++) {\n\t\thwwrite(vortex->mmio, 0x24000 + (i << 2), dline[i] & 0xffff);\n\t\thwwrite(vortex->mmio, 0x24080 + (i << 2), dline[i] >> 0x10);\n\t}\n}\n\nstatic void\nvortex_XtalkHw_SetRightDline(vortex_t * vortex, xtalk_dline_t const dline)\n{\n\tint i;\n\n\tfor (i = 0; i < 0x20; i++) {\n\t\thwwrite(vortex->mmio, 0x24100 + (i << 2), dline[i] & 0xffff);\n\t\thwwrite(vortex->mmio, 0x24180 + (i << 2), dline[i] >> 0x10);\n\t}\n}\n\n#if 0\nstatic void\nvortex_XtalkHw_GetDelay(vortex_t * vortex, unsigned short *right,\n\t\t\tunsigned short *left)\n{\n\tint esp0;\n\n\tesp0 = hwread(vortex->mmio, 0x24660);\n\t*right = (esp0 >> 8) & 0x1f;\n\t*left = (esp0 >> 0xd) & 0x1f;\n}\n\nstatic void vortex_XtalkHw_GetLeftDline(vortex_t * vortex, xtalk_dline_t dline)\n{\n\tint i;\n\n\tfor (i = 0; i < 0x20; i++) {\n\t\tdline[i] =\n\t\t    (hwread(vortex->mmio, 0x24000 + (i << 2)) & 0xffff) |\n\t\t    (hwread(vortex->mmio, 0x24080 + (i << 2)) << 0x10);\n\t}\n}\n\nstatic void vortex_XtalkHw_GetRightDline(vortex_t * vortex, xtalk_dline_t dline)\n{\n\tint i;\n\n\tfor (i = 0; i < 0x20; i++) {\n\t\tdline[i] =\n\t\t    (hwread(vortex->mmio, 0x24100 + (i << 2)) & 0xffff) |\n\t\t    (hwread(vortex->mmio, 0x24180 + (i << 2)) << 0x10);\n\t}\n}\n\n#endif\n \n\n#if 0\nstatic void vortex_XtalkHw_SetControlReg(vortex_t * vortex, u32 ctrl)\n{\n\thwwrite(vortex->mmio, 0x24660, ctrl);\n}\nstatic void vortex_XtalkHw_GetControlReg(vortex_t * vortex, u32 *ctrl)\n{\n\t*ctrl = hwread(vortex->mmio, 0x24660);\n}\n#endif\nstatic void vortex_XtalkHw_SetSampleRate(vortex_t * vortex, u32 sr)\n{\n\tu32 temp;\n\n\ttemp = (hwread(vortex->mmio, 0x24660) & 0x1FFFFFFF) | 0xC0000000;\n\ttemp = (temp & 0xffffff07) | ((sr & 0x1f) << 3);\n\thwwrite(vortex->mmio, 0x24660, temp);\n}\n\n#if 0\nstatic void vortex_XtalkHw_GetSampleRate(vortex_t * vortex, u32 *sr)\n{\n\t*sr = (hwread(vortex->mmio, 0x24660) >> 3) & 0x1f;\n}\n\n#endif\nstatic void vortex_XtalkHw_Enable(vortex_t * vortex)\n{\n\tu32 temp;\n\n\ttemp = (hwread(vortex->mmio, 0x24660) & 0x1FFFFFFF) | 0xC0000000;\n\ttemp |= 1;\n\thwwrite(vortex->mmio, 0x24660, temp);\n\n}\n\nstatic void vortex_XtalkHw_Disable(vortex_t * vortex)\n{\n\tu32 temp;\n\n\ttemp = (hwread(vortex->mmio, 0x24660) & 0x1FFFFFFF) | 0xC0000000;\n\ttemp &= 0xfffffffe;\n\thwwrite(vortex->mmio, 0x24660, temp);\n\n}\n\nstatic void vortex_XtalkHw_ZeroIO(vortex_t * vortex)\n{\n\tint i;\n\n\tfor (i = 0; i < 20; i++)\n\t\thwwrite(vortex->mmio, 0x24600 + (i << 2), 0);\n\tfor (i = 0; i < 4; i++)\n\t\thwwrite(vortex->mmio, 0x24650 + (i << 2), 0);\n}\n\nstatic void vortex_XtalkHw_ZeroState(vortex_t * vortex)\n{\n\tvortex_XtalkHw_ZeroIO(vortex);\t\n\n\tvortex_XtalkHw_SetLeftEQ(vortex, 0, 0, asXtalkCoefsZeros);\n\tvortex_XtalkHw_SetRightEQ(vortex, 0, 0, asXtalkCoefsZeros);\n\n\tvortex_XtalkHw_SetLeftXT(vortex, 0, 0, asXtalkCoefsZeros);\n\tvortex_XtalkHw_SetRightXT(vortex, 0, 0, asXtalkCoefsZeros);\n\n\tvortex_XtalkHw_SetGains(vortex, asXtalkGainsZeros);\t\n\n\tvortex_XtalkHw_SetDelay(vortex, 0, 0);\t\n\n\tvortex_XtalkHw_SetLeftDline(vortex, alXtalkDlineZeros);\t\n\tvortex_XtalkHw_SetRightDline(vortex, alXtalkDlineZeros);\t\n\tvortex_XtalkHw_SetLeftDline(vortex, alXtalkDlineZeros);\t\n\tvortex_XtalkHw_SetRightDline(vortex, alXtalkDlineZeros);\t\n\n\tvortex_XtalkHw_SetLeftEQStates(vortex, asXtalkInStateZeros,\n\t\t\t\t       asXtalkOutStateZeros);\n\tvortex_XtalkHw_SetRightEQStates(vortex, asXtalkInStateZeros,\n\t\t\t\t\tasXtalkOutStateZeros);\n\tvortex_XtalkHw_SetLeftXTStates(vortex, asXtalkInStateZeros,\n\t\t\t\t       asXtalkOutStateZeros);\n\tvortex_XtalkHw_SetRightXTStates(vortex, asXtalkInStateZeros,\n\t\t\t\t\tasXtalkOutStateZeros);\n}\n\nstatic void vortex_XtalkHw_ProgramPipe(vortex_t * vortex)\n{\n\n\tvortex_XtalkHw_SetLeftEQ(vortex, 0, 1, asXtalkCoefsPipe);\n\tvortex_XtalkHw_SetRightEQ(vortex, 0, 1, asXtalkCoefsPipe);\n\tvortex_XtalkHw_SetLeftXT(vortex, 0, 0, asXtalkCoefsZeros);\n\tvortex_XtalkHw_SetRightXT(vortex, 0, 0, asXtalkCoefsZeros);\n\n\tvortex_XtalkHw_SetDelay(vortex, 0, 0);\t\n}\n\nstatic void vortex_XtalkHw_ProgramXtalkWide(vortex_t * vortex)\n{\n\n\tvortex_XtalkHw_SetLeftEQ(vortex, sXtalkWideKLeftEq,\n\t\t\t\t sXtalkWideShiftLeftEq, asXtalkWideCoefsLeftEq);\n\tvortex_XtalkHw_SetRightEQ(vortex, sXtalkWideKRightEq,\n\t\t\t\t  sXtalkWideShiftRightEq,\n\t\t\t\t  asXtalkWideCoefsRightEq);\n\tvortex_XtalkHw_SetLeftXT(vortex, sXtalkWideKLeftXt,\n\t\t\t\t sXtalkWideShiftLeftXt, asXtalkWideCoefsLeftXt);\n\tvortex_XtalkHw_SetRightXT(vortex, sXtalkWideKLeftXt,\n\t\t\t\t  sXtalkWideShiftLeftXt,\n\t\t\t\t  asXtalkWideCoefsLeftXt);\n\n\tvortex_XtalkHw_SetDelay(vortex, wXtalkWideRightDelay, wXtalkWideLeftDelay);\t\n}\n\nstatic void vortex_XtalkHw_ProgramXtalkNarrow(vortex_t * vortex)\n{\n\n\tvortex_XtalkHw_SetLeftEQ(vortex, sXtalkNarrowKLeftEq,\n\t\t\t\t sXtalkNarrowShiftLeftEq,\n\t\t\t\t asXtalkNarrowCoefsLeftEq);\n\tvortex_XtalkHw_SetRightEQ(vortex, sXtalkNarrowKRightEq,\n\t\t\t\t  sXtalkNarrowShiftRightEq,\n\t\t\t\t  asXtalkNarrowCoefsRightEq);\n\tvortex_XtalkHw_SetLeftXT(vortex, sXtalkNarrowKLeftXt,\n\t\t\t\t sXtalkNarrowShiftLeftXt,\n\t\t\t\t asXtalkNarrowCoefsLeftXt);\n\tvortex_XtalkHw_SetRightXT(vortex, sXtalkNarrowKLeftXt,\n\t\t\t\t  sXtalkNarrowShiftLeftXt,\n\t\t\t\t  asXtalkNarrowCoefsLeftXt);\n\n\tvortex_XtalkHw_SetDelay(vortex, wXtalkNarrowRightDelay, wXtalkNarrowLeftDelay);\t\n}\n\nstatic void vortex_XtalkHw_ProgramDiamondXtalk(vortex_t * vortex)\n{\n\n\t\n\tvortex_XtalkHw_SetLeftEQ(vortex, sDiamondKLeftEq,\n\t\t\t\t sDiamondShiftLeftEq, asDiamondCoefsLeftEq);\n\tvortex_XtalkHw_SetRightEQ(vortex, sDiamondKRightEq,\n\t\t\t\t  sDiamondShiftRightEq, asDiamondCoefsRightEq);\n\tvortex_XtalkHw_SetLeftXT(vortex, sDiamondKLeftXt,\n\t\t\t\t sDiamondShiftLeftXt, asDiamondCoefsLeftXt);\n\tvortex_XtalkHw_SetRightXT(vortex, sDiamondKLeftXt,\n\t\t\t\t  sDiamondShiftLeftXt, asDiamondCoefsLeftXt);\n\n\tvortex_XtalkHw_SetDelay(vortex, wDiamondRightDelay, wDiamondLeftDelay);\t\n}\n\nstatic void vortex_XtalkHw_init(vortex_t * vortex)\n{\n\tvortex_XtalkHw_ZeroState(vortex);\n}\n\n \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}