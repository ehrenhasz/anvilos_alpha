{
  "module_name": "mixart_core.h",
  "hash_id": "1b85bb8a9d18fb691d8be7efe21a74d12bf54a678e60486ff3ac62b8c0937cf0",
  "original_prompt": "Ingested from linux-6.6.14/sound/pci/mixart/mixart_core.h",
  "human_readable_source": " \n \n\n#ifndef __SOUND_MIXART_CORE_H\n#define __SOUND_MIXART_CORE_H\n\n\nenum mixart_message_id {\n\tMSG_CONNECTOR_GET_AUDIO_INFO         = 0x050008,\n\tMSG_CONNECTOR_GET_OUT_AUDIO_LEVEL    = 0x050009,\n\tMSG_CONNECTOR_SET_OUT_AUDIO_LEVEL    = 0x05000A,\n\n\tMSG_CONSOLE_MANAGER                  = 0x070000,\n\tMSG_CONSOLE_GET_CLOCK_UID            = 0x070003,\n\n\tMSG_PHYSICALIO_SET_LEVEL             = 0x0F0008,\n\n\tMSG_STREAM_ADD_INPUT_GROUP           = 0x130000,\n\tMSG_STREAM_ADD_OUTPUT_GROUP          = 0x130001,\n\tMSG_STREAM_DELETE_GROUP              = 0x130004,\n\tMSG_STREAM_START_STREAM_GRP_PACKET   = 0x130006,\n\tMSG_STREAM_START_INPUT_STAGE_PACKET  = 0x130007,\n\tMSG_STREAM_START_OUTPUT_STAGE_PACKET = 0x130008,\n\tMSG_STREAM_STOP_STREAM_GRP_PACKET    = 0x130009,\n\tMSG_STREAM_STOP_INPUT_STAGE_PACKET   = 0x13000A,\n\tMSG_STREAM_STOP_OUTPUT_STAGE_PACKET  = 0x13000B,\n\tMSG_STREAM_SET_INPUT_STAGE_PARAM     = 0x13000F,\n\tMSG_STREAM_SET_OUTPUT_STAGE_PARAM    = 0x130010,\n\tMSG_STREAM_SET_IN_AUDIO_LEVEL        = 0x130015,\n\tMSG_STREAM_SET_OUT_STREAM_LEVEL      = 0x130017,\n\n\tMSG_SYSTEM_FIRST_ID                  = 0x160000,\n\tMSG_SYSTEM_ENUM_PHYSICAL_IO          = 0x16000E,\n\tMSG_SYSTEM_ENUM_PLAY_CONNECTOR       = 0x160017,\n\tMSG_SYSTEM_ENUM_RECORD_CONNECTOR     = 0x160018,\n\tMSG_SYSTEM_WAIT_SYNCHRO_CMD          = 0x16002C,\n\tMSG_SYSTEM_SEND_SYNCHRO_CMD          = 0x16002D,\n\n\tMSG_SERVICES_TIMER_NOTIFY            = 0x1D0404,\n\tMSG_SERVICES_REPORT_TRACES           = 0x1D0700,\n\n\tMSG_CLOCK_CHECK_PROPERTIES           = 0x200001,\n\tMSG_CLOCK_SET_PROPERTIES             = 0x200002,\n};\n\n#define MSG_DEFAULT_SIZE            512\n\nstruct mixart_msg\n{\n\tu32          message_id;\n\tstruct mixart_uid uid;\n\tvoid*        data;\n\tsize_t       size;\n};\n\n \n\nstruct mixart_enum_connector_resp\n{\n\tu32  error_code;\n\tu32  first_uid_offset;\n\tu32  uid_count;\n\tu32  current_uid_index;\n\tstruct mixart_uid uid[MIXART_MAX_PHYS_CONNECTORS];\n} __attribute__((packed));\n\n\n \n#define MIXART_FLOAT_P_22_0_TO_HEX      0x41b00000   \n#define MIXART_FLOAT_M_20_0_TO_HEX      0xc1a00000   \n#define MIXART_FLOAT____0_0_TO_HEX      0x00000000   \n\nstruct mixart_audio_info_req\n{\n\tu32 line_max_level;     \n\tu32 micro_max_level;    \n\tu32 cd_max_level;       \n} __attribute__((packed));\n\nstruct mixart_analog_hw_info\n{\n\tu32 is_present;\n\tu32 hw_connection_type;\n\tu32 max_level;          \n\tu32 min_var_level;      \n\tu32 max_var_level;      \n\tu32 step_var_level;     \n\tu32 fix_gain;           \n\tu32 zero_var;           \n} __attribute__((packed));\n\nstruct mixart_digital_hw_info\n{\n\tu32   hw_connection_type;\n\tu32   presence;\n\tu32   clock;\n\tu32   reserved;\n} __attribute__((packed));\n\nstruct mixart_analog_info\n{\n\tu32                     type_mask;\n\tstruct mixart_analog_hw_info micro_info;\n\tstruct mixart_analog_hw_info line_info;\n\tstruct mixart_analog_hw_info cd_info;\n\tu32                     analog_level_present;\n} __attribute__((packed));\n\nstruct mixart_digital_info\n{\n\tu32 type_mask;\n\tstruct mixart_digital_hw_info aes_info;\n\tstruct mixart_digital_hw_info adat_info;\n} __attribute__((packed));\n\nstruct mixart_audio_info\n{\n\tu32                   clock_type_mask;\n\tstruct mixart_analog_info  analog_info;\n\tstruct mixart_digital_info digital_info;\n} __attribute__((packed));\n\nstruct mixart_audio_info_resp\n{\n\tu32                 txx_status;\n\tstruct mixart_audio_info info;\n} __attribute__((packed));\n\n\n \n#define MIXART_FLOAT_P__4_0_TO_HEX      0x40800000   \n#define MIXART_FLOAT_P__8_0_TO_HEX      0x41000000   \n\nstruct mixart_stream_info\n{\n\tu32 size_max_byte_frame;\n\tu32 size_max_sample_frame;\n\tu32 nb_bytes_max_per_sample;   \n} __attribute__((packed));\n\n \n \n\nstruct mixart_streaming_group_req\n{\n\tu32 stream_count;\n\tu32 channel_count;\n\tu32 user_grp_number;\n\tu32 first_phys_audio;\n\tu32 latency;\n\tstruct mixart_stream_info stream_info[32];\n\tstruct mixart_uid connector;\n\tu32 flow_entry[32];\n} __attribute__((packed));\n\nstruct mixart_stream_desc\n{\n\tstruct mixart_uid stream_uid;\n\tu32          stream_desc;\n} __attribute__((packed));\n\nstruct mixart_streaming_group\n{\n\tu32                  status;\n\tstruct mixart_uid    group;\n\tu32                  pipe_desc;\n\tu32                  stream_count;\n\tstruct mixart_stream_desc stream[32];\n} __attribute__((packed));\n\n \n\n \n\nstruct mixart_delete_group_resp\n{\n\tu32  status;\n\tu32  unused[2];\n} __attribute__((packed));\n\n\n \n\nstruct mixart_fx_couple_uid\n{\n\tstruct mixart_uid uid_fx_code;\n\tstruct mixart_uid uid_fx_data;\n} __attribute__((packed));\n\nstruct mixart_txx_stream_desc\n{\n\tstruct mixart_uid       uid_pipe;\n\tu32                     stream_idx;\n\tu32                     fx_number;\n\tstruct mixart_fx_couple_uid  uid_fx[4];\n} __attribute__((packed));\n\nstruct mixart_flow_info\n{\n\tstruct mixart_txx_stream_desc  stream_desc;\n\tu32                       flow_entry;\n\tu32                       flow_phy_addr;\n} __attribute__((packed));\n\nstruct mixart_stream_state_req\n{\n\tu32                 delayed;\n\tu64                 scheduler;\n\tu32                 reserved4np[3];\n\tu32                 stream_count;   \n\tstruct mixart_flow_info  stream_info;    \n} __attribute__((packed));\n\n \n\nstruct mixart_group_state_req\n{\n\tu32           delayed;\n\tu64           scheduler;\n\tu32           reserved4np[2];\n\tu32           pipe_count;     \n\tstruct mixart_uid  pipe_uid;  \n} __attribute__((packed));\n\nstruct mixart_group_state_resp\n{\n\tu32           txx_status;\n\tu64           scheduler;\n} __attribute__((packed));\n\n\n\n \n\nstruct mixart_sample_pos\n{\n\tu32   buffer_id;\n\tu32   validity;\n\tu32   sample_pos_high_part;\n\tu32   sample_pos_low_part;\n} __attribute__((packed));\n\n \n#define MIXART_MAX_TIMER_NOTIFY_STREAMS\t\t\t\t\\\n\t((MSG_DEFAULT_SIZE - sizeof(u32)) / sizeof(struct mixart_sample_pos))\nstruct mixart_timer_notify\n{\n\tu32                  stream_count;\n\tstruct mixart_sample_pos  streams[MIXART_MAX_TIMER_NOTIFY_STREAMS];\n} __attribute__((packed));\n\n\n \n\n \n\nstruct mixart_return_uid\n{\n\tu32 error_code;\n\tstruct mixart_uid uid;\n} __attribute__((packed));\n\n \n\nenum mixart_clock_generic_type {\n\tCGT_NO_CLOCK,\n\tCGT_INTERNAL_CLOCK,\n\tCGT_PROGRAMMABLE_CLOCK,\n\tCGT_INTERNAL_ENSLAVED_CLOCK,\n\tCGT_EXTERNAL_CLOCK,\n\tCGT_CURRENT_CLOCK\n};\n\nenum mixart_clock_mode {\n\tCM_UNDEFINED,\n\tCM_MASTER,\n\tCM_SLAVE,\n\tCM_STANDALONE,\n\tCM_NOT_CONCERNED\n};\n\n\nstruct mixart_clock_properties\n{\n\tu32 error_code;\n\tu32 validation_mask;\n\tu32 frequency;\n\tu32 reference_frequency;\n\tu32 clock_generic_type;\n\tu32 clock_mode;\n\tstruct mixart_uid uid_clock_source;\n\tstruct mixart_uid uid_event_source;\n\tu32 event_mode;\n\tu32 synchro_signal_presence;\n\tu32 format;\n\tu32 board_mask;\n\tu32 nb_callers;  \n\tstruct mixart_uid uid_caller;\n} __attribute__((packed));\n\nstruct mixart_clock_properties_resp\n{\n\tu32 status;\n\tu32 clock_mode;\n} __attribute__((packed));\n\n\n \n \n\nenum mixart_coding_type {\n\tCT_NOT_DEFINED,\n\tCT_LINEAR,\n\tCT_MPEG_L1,\n\tCT_MPEG_L2,\n\tCT_MPEG_L3,\n\tCT_MPEG_L3_LSF,\n\tCT_GSM\n};\nenum mixart_sample_type {\n\tST_NOT_DEFINED,\n\tST_FLOATING_POINT_32BE,\n\tST_FLOATING_POINT_32LE,\n\tST_FLOATING_POINT_64BE,\n\tST_FLOATING_POINT_64LE,\n\tST_FIXED_POINT_8,\n\tST_FIXED_POINT_16BE,\n\tST_FIXED_POINT_16LE,\n\tST_FIXED_POINT_24BE,\n\tST_FIXED_POINT_24LE,\n\tST_FIXED_POINT_32BE,\n\tST_FIXED_POINT_32LE,\n\tST_INTEGER_8,\n\tST_INTEGER_16BE,\n\tST_INTEGER_16LE,\n\tST_INTEGER_24BE,\n\tST_INTEGER_24LE,\n\tST_INTEGER_32BE,\n\tST_INTEGER_32LE\n};\n\nstruct mixart_stream_param_desc\n{\n\tu32 coding_type;   \n\tu32 sample_type;   \n\n\tunion {\n\t\tstruct {\n\t\t\tu32 linear_endian_ness;\n\t\t\tu32 linear_bits;\n\t\t\tu32 is_signed;\n\t\t\tu32 is_float;\n\t\t} linear_format_info;\n\n\t\tstruct {\n\t\t\tu32 mpeg_layer;\n\t\t\tu32 mpeg_mode;\n\t\t\tu32 mpeg_mode_extension;\n\t\t\tu32 mpeg_pre_emphasis;\n\t\t\tu32 mpeg_has_padding_bit;\n\t\t\tu32 mpeg_has_crc;\n\t\t\tu32 mpeg_has_extension;\n\t\t\tu32 mpeg_is_original;\n\t\t\tu32 mpeg_has_copyright;\n\t\t} mpeg_format_info;\n\t} format_info;\n\n\tu32 delayed;\n\tu64 scheduler;\n\tu32 sample_size;\n\tu32 has_header;\n\tu32 has_suffix;\n\tu32 has_bitrate;\n\tu32 samples_per_frame;\n\tu32 bytes_per_frame;\n\tu32 bytes_per_sample;\n\tu32 sampling_freq;\n\tu32 number_of_channel;\n\tu32 stream_number;\n\tu32 buffer_size;\n\tu32 differed_time;\n\tu32 reserved4np[3];\n\tu32 pipe_count;                            \n\tu32 stream_count;                          \n\tstruct mixart_txx_stream_desc stream_desc;  \n} __attribute__((packed));\n\n\n \n\n\nstruct mixart_get_out_audio_level\n{\n\tu32 txx_status;\n\tu32 digital_level;    \n\tu32 analog_level;     \n\tu32 monitor_level;    \n\tu32 mute;\n\tu32 monitor_mute1;\n\tu32 monitor_mute2;\n} __attribute__((packed));\n\n\n \n\n \n#define MIXART_AUDIO_LEVEL_ANALOG_MASK\t0x01\n#define MIXART_AUDIO_LEVEL_DIGITAL_MASK\t0x02\n#define MIXART_AUDIO_LEVEL_MONITOR_MASK\t0x04\n#define MIXART_AUDIO_LEVEL_MUTE_MASK\t0x08\n#define MIXART_AUDIO_LEVEL_MUTE_M1_MASK\t0x10\n#define MIXART_AUDIO_LEVEL_MUTE_M2_MASK\t0x20\n\nstruct mixart_set_out_audio_level\n{\n\tu32 delayed;\n\tu64 scheduler;\n\tu32 valid_mask1;\n\tu32 valid_mask2;\n\tu32 digital_level;    \n\tu32 analog_level;     \n\tu32 monitor_level;    \n\tu32 mute;\n\tu32 monitor_mute1;\n\tu32 monitor_mute2;\n\tu32 reserved4np;\n} __attribute__((packed));\n\n\n \n\n#define MIXART_MAX_PHYS_IO  (MIXART_MAX_CARDS * 2 * 2)  \n\nstruct mixart_uid_enumeration\n{\n\tu32 error_code;\n\tu32 first_uid_offset;\n\tu32 nb_uid;\n\tu32 current_uid_index;\n\tstruct mixart_uid uid[MIXART_MAX_PHYS_IO];\n} __attribute__((packed));\n\n\n \n\nstruct mixart_io_channel_level\n{\n\tu32 analog_level;    \n\tu32 unused[2];\n} __attribute__((packed));\n\nstruct mixart_io_level\n{\n\ts32 channel;  \n\tstruct mixart_io_channel_level level[2];\n} __attribute__((packed));\n\n\n \n\nstruct mixart_in_audio_level_info\n{\n\tstruct mixart_uid connector;\n\tu32 valid_mask1;\n\tu32 valid_mask2;\n\tu32 digital_level;\n\tu32 analog_level;\n} __attribute__((packed));\n\nstruct mixart_set_in_audio_level_req\n{\n\tu32 delayed;\n\tu64 scheduler;\n\tu32 audio_count;   \n\tu32 reserved4np;\n\tstruct mixart_in_audio_level_info level[2];\n} __attribute__((packed));\n\n \n\n\n \n\n \n#define MIXART_OUT_STREAM_SET_LEVEL_LEFT_AUDIO1\t\t0x01\n#define MIXART_OUT_STREAM_SET_LEVEL_LEFT_AUDIO2\t\t0x02\n#define MIXART_OUT_STREAM_SET_LEVEL_RIGHT_AUDIO1\t0x04\n#define MIXART_OUT_STREAM_SET_LEVEL_RIGHT_AUDIO2\t0x08\n#define MIXART_OUT_STREAM_SET_LEVEL_STREAM_1\t\t0x10\n#define MIXART_OUT_STREAM_SET_LEVEL_STREAM_2\t\t0x20\n#define MIXART_OUT_STREAM_SET_LEVEL_MUTE_1\t\t0x40\n#define MIXART_OUT_STREAM_SET_LEVEL_MUTE_2\t\t0x80\n\nstruct mixart_out_stream_level_info\n{\n\tu32 valid_mask1;\n\tu32 valid_mask2;\n\tu32 left_to_out1_level;\n\tu32 left_to_out2_level;\n\tu32 right_to_out1_level;\n\tu32 right_to_out2_level;\n\tu32 digital_level1;\n\tu32 digital_level2;\n\tu32 mute1;\n\tu32 mute2;\n} __attribute__((packed));\n\nstruct mixart_set_out_stream_level\n{\n\tstruct mixart_txx_stream_desc desc;\n\tstruct mixart_out_stream_level_info out_level;\n} __attribute__((packed));\n\nstruct mixart_set_out_stream_level_req\n{\n\tu32 delayed;\n\tu64 scheduler;\n\tu32 reserved4np[2];\n\tu32 nb_of_stream;   \n\tstruct mixart_set_out_stream_level stream_level;  \n} __attribute__((packed));\n\n \n\n\n \nvoid snd_mixart_init_mailbox(struct mixart_mgr *mgr);\nvoid snd_mixart_exit_mailbox(struct mixart_mgr *mgr);\n\nint  snd_mixart_send_msg(struct mixart_mgr *mgr, struct mixart_msg *request, int max_resp_size, void *resp_data);\nint  snd_mixart_send_msg_wait_notif(struct mixart_mgr *mgr, struct mixart_msg *request, u32 notif_event);\nint  snd_mixart_send_msg_nonblock(struct mixart_mgr *mgr, struct mixart_msg *request);\n\nirqreturn_t snd_mixart_interrupt(int irq, void *dev_id);\nirqreturn_t snd_mixart_threaded_irq(int irq, void *dev_id);\n\nvoid snd_mixart_reset_board(struct mixart_mgr *mgr);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}