{
  "module_name": "control.c",
  "hash_id": "2a15ec6ada4b577b526b99e48b00211151499b47aff1715f2d763a0d3131c877",
  "original_prompt": "Ingested from linux-6.6.14/sound/usb/caiaq/control.c",
  "human_readable_source": "\n \n\n#include <linux/device.h>\n#include <linux/init.h>\n#include <linux/usb.h>\n#include <sound/control.h>\n#include <sound/core.h>\n#include <sound/pcm.h>\n\n#include \"device.h\"\n#include \"control.h\"\n\n#define CNT_INTVAL 0x10000\n#define MASCHINE_BANK_SIZE 32\n\nstatic int control_info(struct snd_kcontrol *kcontrol,\n\t\t\tstruct snd_ctl_elem_info *uinfo)\n{\n\tstruct snd_usb_audio *chip = snd_kcontrol_chip(kcontrol);\n\tstruct snd_usb_caiaqdev *cdev = caiaqdev(chip->card);\n\tint pos = kcontrol->private_value;\n\tint is_intval = pos & CNT_INTVAL;\n\tint maxval = 63;\n\n\tuinfo->count = 1;\n\tpos &= ~CNT_INTVAL;\n\n\tswitch (cdev->chip.usb_id) {\n\tcase USB_ID(USB_VID_NATIVEINSTRUMENTS, USB_PID_AUDIO8DJ):\n\tcase USB_ID(USB_VID_NATIVEINSTRUMENTS, USB_PID_AUDIO4DJ):\n\t\tif (pos == 0) {\n\t\t\t \n\t\t\tuinfo->type = SNDRV_CTL_ELEM_TYPE_INTEGER;\n\t\t\tuinfo->value.integer.min = 0;\n\t\t\tuinfo->value.integer.max = 2;\n\t\t\treturn 0;\n\t\t}\n\t\tbreak;\n\n\tcase USB_ID(USB_VID_NATIVEINSTRUMENTS, USB_PID_TRAKTORKONTROLX1):\n\t\tmaxval = 127;\n\t\tbreak;\n\n\tcase USB_ID(USB_VID_NATIVEINSTRUMENTS, USB_PID_TRAKTORKONTROLS4):\n\t\tmaxval = 31;\n\t\tbreak;\n\t}\n\n\tif (is_intval) {\n\t\tuinfo->type = SNDRV_CTL_ELEM_TYPE_INTEGER;\n\t\tuinfo->value.integer.min = 0;\n\t\tuinfo->value.integer.max = maxval;\n\t} else {\n\t\tuinfo->type = SNDRV_CTL_ELEM_TYPE_BOOLEAN;\n\t\tuinfo->value.integer.min = 0;\n\t\tuinfo->value.integer.max = 1;\n\t}\n\n\treturn 0;\n}\n\nstatic int control_get(struct snd_kcontrol *kcontrol,\n\t\t       struct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_usb_audio *chip = snd_kcontrol_chip(kcontrol);\n\tstruct snd_usb_caiaqdev *cdev = caiaqdev(chip->card);\n\tint pos = kcontrol->private_value;\n\n\tif (pos & CNT_INTVAL)\n\t\tucontrol->value.integer.value[0]\n\t\t\t= cdev->control_state[pos & ~CNT_INTVAL];\n\telse\n\t\tucontrol->value.integer.value[0]\n\t\t\t= !!(cdev->control_state[pos / 8] & (1 << pos % 8));\n\n\treturn 0;\n}\n\nstatic int control_put(struct snd_kcontrol *kcontrol,\n\t\t       struct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_usb_audio *chip = snd_kcontrol_chip(kcontrol);\n\tstruct snd_usb_caiaqdev *cdev = caiaqdev(chip->card);\n\tint pos = kcontrol->private_value;\n\tint v = ucontrol->value.integer.value[0];\n\tunsigned char cmd;\n\n\tswitch (cdev->chip.usb_id) {\n\tcase USB_ID(USB_VID_NATIVEINSTRUMENTS, USB_PID_MASCHINECONTROLLER):\n\tcase USB_ID(USB_VID_NATIVEINSTRUMENTS, USB_PID_TRAKTORKONTROLX1):\n\tcase USB_ID(USB_VID_NATIVEINSTRUMENTS, USB_PID_KORECONTROLLER2):\n\tcase USB_ID(USB_VID_NATIVEINSTRUMENTS, USB_PID_KORECONTROLLER):\n\t\tcmd = EP1_CMD_DIMM_LEDS;\n\t\tbreak;\n\tdefault:\n\t\tcmd = EP1_CMD_WRITE_IO;\n\t\tbreak;\n\t}\n\n\tif (pos & CNT_INTVAL) {\n\t\tint i = pos & ~CNT_INTVAL;\n\n\t\tcdev->control_state[i] = v;\n\n\t\tif (cdev->chip.usb_id ==\n\t\t\tUSB_ID(USB_VID_NATIVEINSTRUMENTS, USB_PID_TRAKTORKONTROLS4)) {\n\t\t\tint actual_len;\n\n\t\t\tcdev->ep8_out_buf[0] = i;\n\t\t\tcdev->ep8_out_buf[1] = v;\n\n\t\t\tusb_bulk_msg(cdev->chip.dev,\n\t\t\t\t     usb_sndbulkpipe(cdev->chip.dev, 8),\n\t\t\t\t     cdev->ep8_out_buf, sizeof(cdev->ep8_out_buf),\n\t\t\t\t     &actual_len, 200);\n\t\t} else if (cdev->chip.usb_id ==\n\t\t\tUSB_ID(USB_VID_NATIVEINSTRUMENTS, USB_PID_MASCHINECONTROLLER)) {\n\n\t\t\tint bank = 0;\n\t\t\tint offset = 0;\n\n\t\t\tif (i >= MASCHINE_BANK_SIZE) {\n\t\t\t\tbank = 0x1e;\n\t\t\t\toffset = MASCHINE_BANK_SIZE;\n\t\t\t}\n\n\t\t\tsnd_usb_caiaq_send_command_bank(cdev, cmd, bank,\n\t\t\t\t\tcdev->control_state + offset,\n\t\t\t\t\tMASCHINE_BANK_SIZE);\n\t\t} else {\n\t\t\tsnd_usb_caiaq_send_command(cdev, cmd,\n\t\t\t\t\tcdev->control_state, sizeof(cdev->control_state));\n\t\t}\n\t} else {\n\t\tif (v)\n\t\t\tcdev->control_state[pos / 8] |= 1 << (pos % 8);\n\t\telse\n\t\t\tcdev->control_state[pos / 8] &= ~(1 << (pos % 8));\n\n\t\tsnd_usb_caiaq_send_command(cdev, cmd,\n\t\t\t\tcdev->control_state, sizeof(cdev->control_state));\n\t}\n\n\treturn 1;\n}\n\nstatic struct snd_kcontrol_new kcontrol_template = {\n\t.iface = SNDRV_CTL_ELEM_IFACE_HWDEP,\n\t.access = SNDRV_CTL_ELEM_ACCESS_READWRITE,\n\t.index = 0,\n\t.info = control_info,\n\t.get  = control_get,\n\t.put  = control_put,\n\t \n};\n\nstruct caiaq_controller {\n\tchar *name;\n\tint index;\n};\n\nstatic const struct caiaq_controller ak1_controller[] = {\n\t{ \"LED left\", \t2 },\n\t{ \"LED middle\", 1 },\n\t{ \"LED right\", \t0 },\n\t{ \"LED ring\", \t3 }\n};\n\nstatic const struct caiaq_controller rk2_controller[] = {\n\t{ \"LED 1\",\t\t5  },\n\t{ \"LED 2\",\t\t4  },\n\t{ \"LED 3\",\t\t3  },\n\t{ \"LED 4\",\t\t2  },\n\t{ \"LED 5\",\t\t1  },\n\t{ \"LED 6\",\t\t0  },\n\t{ \"LED pedal\",\t\t6  },\n\t{ \"LED 7seg_1b\",\t8  },\n\t{ \"LED 7seg_1c\",\t9  },\n\t{ \"LED 7seg_2a\",\t10 },\n\t{ \"LED 7seg_2b\",\t11 },\n\t{ \"LED 7seg_2c\",\t12 },\n\t{ \"LED 7seg_2d\",\t13 },\n\t{ \"LED 7seg_2e\",\t14 },\n\t{ \"LED 7seg_2f\",\t15 },\n\t{ \"LED 7seg_2g\",\t16 },\n\t{ \"LED 7seg_3a\",\t17 },\n\t{ \"LED 7seg_3b\",\t18 },\n\t{ \"LED 7seg_3c\",\t19 },\n\t{ \"LED 7seg_3d\",\t20 },\n\t{ \"LED 7seg_3e\",\t21 },\n\t{ \"LED 7seg_3f\",\t22 },\n\t{ \"LED 7seg_3g\",\t23 }\n};\n\nstatic const struct caiaq_controller rk3_controller[] = {\n\t{ \"LED 7seg_1a\",        0 + 0 },\n\t{ \"LED 7seg_1b\",        0 + 1 },\n\t{ \"LED 7seg_1c\",        0 + 2 },\n\t{ \"LED 7seg_1d\",        0 + 3 },\n\t{ \"LED 7seg_1e\",        0 + 4 },\n\t{ \"LED 7seg_1f\",        0 + 5 },\n\t{ \"LED 7seg_1g\",        0 + 6 },\n\t{ \"LED 7seg_1p\",        0 + 7 },\n\n\t{ \"LED 7seg_2a\",        8 + 0 },\n\t{ \"LED 7seg_2b\",        8 + 1 },\n\t{ \"LED 7seg_2c\",        8 + 2 },\n\t{ \"LED 7seg_2d\",        8 + 3 },\n\t{ \"LED 7seg_2e\",        8 + 4 },\n\t{ \"LED 7seg_2f\",        8 + 5 },\n\t{ \"LED 7seg_2g\",        8 + 6 },\n\t{ \"LED 7seg_2p\",        8 + 7 },\n\n\t{ \"LED 7seg_3a\",        16 + 0 },\n\t{ \"LED 7seg_3b\",        16 + 1 },\n\t{ \"LED 7seg_3c\",        16 + 2 },\n\t{ \"LED 7seg_3d\",        16 + 3 },\n\t{ \"LED 7seg_3e\",        16 + 4 },\n\t{ \"LED 7seg_3f\",        16 + 5 },\n\t{ \"LED 7seg_3g\",        16 + 6 },\n\t{ \"LED 7seg_3p\",        16 + 7 },\n\n\t{ \"LED 7seg_4a\",        24 + 0 },\n\t{ \"LED 7seg_4b\",        24 + 1 },\n\t{ \"LED 7seg_4c\",        24 + 2 },\n\t{ \"LED 7seg_4d\",        24 + 3 },\n\t{ \"LED 7seg_4e\",        24 + 4 },\n\t{ \"LED 7seg_4f\",        24 + 5 },\n\t{ \"LED 7seg_4g\",        24 + 6 },\n\t{ \"LED 7seg_4p\",        24 + 7 },\n\n\t{ \"LED 1\",\t\t32 + 0 },\n\t{ \"LED 2\",\t\t32 + 1 },\n\t{ \"LED 3\",\t\t32 + 2 },\n\t{ \"LED 4\",\t\t32 + 3 },\n\t{ \"LED 5\",\t\t32 + 4 },\n\t{ \"LED 6\",\t\t32 + 5 },\n\t{ \"LED 7\",\t\t32 + 6 },\n\t{ \"LED 8\",\t\t32 + 7 },\n\t{ \"LED pedal\",\t\t32 + 8 }\n};\n\nstatic const struct caiaq_controller kore_controller[] = {\n\t{ \"LED F1\",\t\t8   | CNT_INTVAL },\n\t{ \"LED F2\",\t\t12  | CNT_INTVAL },\n\t{ \"LED F3\",\t\t0   | CNT_INTVAL },\n\t{ \"LED F4\",\t\t4   | CNT_INTVAL },\n\t{ \"LED F5\",\t\t11  | CNT_INTVAL },\n\t{ \"LED F6\",\t\t15  | CNT_INTVAL },\n\t{ \"LED F7\",\t\t3   | CNT_INTVAL },\n\t{ \"LED F8\",\t\t7   | CNT_INTVAL },\n\t{ \"LED touch1\",\t     \t10  | CNT_INTVAL },\n\t{ \"LED touch2\",\t     \t14  | CNT_INTVAL },\n\t{ \"LED touch3\",\t     \t2   | CNT_INTVAL },\n\t{ \"LED touch4\",\t     \t6   | CNT_INTVAL },\n\t{ \"LED touch5\",\t     \t9   | CNT_INTVAL },\n\t{ \"LED touch6\",\t     \t13  | CNT_INTVAL },\n\t{ \"LED touch7\",\t     \t1   | CNT_INTVAL },\n\t{ \"LED touch8\",\t     \t5   | CNT_INTVAL },\n\t{ \"LED left\",\t       \t18  | CNT_INTVAL },\n\t{ \"LED right\",\t     \t22  | CNT_INTVAL },\n\t{ \"LED up\",\t\t16  | CNT_INTVAL },\n\t{ \"LED down\",\t       \t20  | CNT_INTVAL },\n\t{ \"LED stop\",\t       \t23  | CNT_INTVAL },\n\t{ \"LED play\",\t       \t21  | CNT_INTVAL },\n\t{ \"LED record\",\t     \t19  | CNT_INTVAL },\n\t{ \"LED listen\",\t\t17  | CNT_INTVAL },\n\t{ \"LED lcd\",\t\t30  | CNT_INTVAL },\n\t{ \"LED menu\",\t\t28  | CNT_INTVAL },\n\t{ \"LED sound\",\t \t31  | CNT_INTVAL },\n\t{ \"LED esc\",\t\t29  | CNT_INTVAL },\n\t{ \"LED view\",\t\t27  | CNT_INTVAL },\n\t{ \"LED enter\",\t\t24  | CNT_INTVAL },\n\t{ \"LED control\",\t26  | CNT_INTVAL }\n};\n\nstatic const struct caiaq_controller a8dj_controller[] = {\n\t{ \"Current input mode\",\t\t\t0 | CNT_INTVAL \t},\n\t{ \"GND lift for TC Vinyl mode\", \t24 + 0 \t\t},\n\t{ \"GND lift for TC CD/Line mode\", \t24 + 1 \t\t},\n\t{ \"GND lift for phono mode\", \t\t24 + 2 \t\t},\n\t{ \"Software lock\", \t\t\t40 \t\t}\n};\n\nstatic const struct caiaq_controller a4dj_controller[] = {\n\t{ \"Current input mode\",\t0 | CNT_INTVAL \t}\n};\n\nstatic const struct caiaq_controller kontrolx1_controller[] = {\n\t{ \"LED FX A: ON\",\t\t7 | CNT_INTVAL\t},\n\t{ \"LED FX A: 1\",\t\t6 | CNT_INTVAL\t},\n\t{ \"LED FX A: 2\",\t\t5 | CNT_INTVAL\t},\n\t{ \"LED FX A: 3\",\t\t4 | CNT_INTVAL\t},\n\t{ \"LED FX B: ON\",\t\t3 | CNT_INTVAL\t},\n\t{ \"LED FX B: 1\",\t\t2 | CNT_INTVAL\t},\n\t{ \"LED FX B: 2\",\t\t1 | CNT_INTVAL\t},\n\t{ \"LED FX B: 3\",\t\t0 | CNT_INTVAL\t},\n\n\t{ \"LED Hotcue\",\t\t\t28 | CNT_INTVAL\t},\n\t{ \"LED Shift (white)\",\t\t29 | CNT_INTVAL\t},\n\t{ \"LED Shift (green)\",\t\t30 | CNT_INTVAL\t},\n\n\t{ \"LED Deck A: FX1\",\t\t24 | CNT_INTVAL\t},\n\t{ \"LED Deck A: FX2\",\t\t25 | CNT_INTVAL\t},\n\t{ \"LED Deck A: IN\",\t\t17 | CNT_INTVAL\t},\n\t{ \"LED Deck A: OUT\",\t\t16 | CNT_INTVAL\t},\n\t{ \"LED Deck A: < BEAT\",\t\t19 | CNT_INTVAL\t},\n\t{ \"LED Deck A: BEAT >\",\t\t18 | CNT_INTVAL\t},\n\t{ \"LED Deck A: CUE/ABS\",\t21 | CNT_INTVAL\t},\n\t{ \"LED Deck A: CUP/REL\",\t20 | CNT_INTVAL\t},\n\t{ \"LED Deck A: PLAY\",\t\t23 | CNT_INTVAL\t},\n\t{ \"LED Deck A: SYNC\",\t\t22 | CNT_INTVAL\t},\n\n\t{ \"LED Deck B: FX1\",\t\t26 | CNT_INTVAL\t},\n\t{ \"LED Deck B: FX2\",\t\t27 | CNT_INTVAL\t},\n\t{ \"LED Deck B: IN\",\t\t15 | CNT_INTVAL\t},\n\t{ \"LED Deck B: OUT\",\t\t14 | CNT_INTVAL\t},\n\t{ \"LED Deck B: < BEAT\",\t\t13 | CNT_INTVAL\t},\n\t{ \"LED Deck B: BEAT >\",\t\t12 | CNT_INTVAL\t},\n\t{ \"LED Deck B: CUE/ABS\",\t11 | CNT_INTVAL\t},\n\t{ \"LED Deck B: CUP/REL\",\t10 | CNT_INTVAL\t},\n\t{ \"LED Deck B: PLAY\",\t\t9  | CNT_INTVAL\t},\n\t{ \"LED Deck B: SYNC\",\t\t8  | CNT_INTVAL\t},\n};\n\nstatic const struct caiaq_controller kontrols4_controller[] = {\n\t{ \"LED: Master: Quant\",\t\t\t10  | CNT_INTVAL },\n\t{ \"LED: Master: Headphone\",\t\t11  | CNT_INTVAL },\n\t{ \"LED: Master: Master\",\t\t12  | CNT_INTVAL },\n\t{ \"LED: Master: Snap\",\t\t\t14  | CNT_INTVAL },\n\t{ \"LED: Master: Warning\",\t\t15  | CNT_INTVAL },\n\t{ \"LED: Master: Master button\",\t\t112 | CNT_INTVAL },\n\t{ \"LED: Master: Snap button\",\t\t113 | CNT_INTVAL },\n\t{ \"LED: Master: Rec\",\t\t\t118 | CNT_INTVAL },\n\t{ \"LED: Master: Size\",\t\t\t119 | CNT_INTVAL },\n\t{ \"LED: Master: Quant button\",\t\t120 | CNT_INTVAL },\n\t{ \"LED: Master: Browser button\",\t121 | CNT_INTVAL },\n\t{ \"LED: Master: Play button\",\t\t126 | CNT_INTVAL },\n\t{ \"LED: Master: Undo button\",\t\t127 | CNT_INTVAL },\n\n\t{ \"LED: Channel A: >\",\t\t\t4   | CNT_INTVAL },\n\t{ \"LED: Channel A: <\",\t\t\t5   | CNT_INTVAL },\n\t{ \"LED: Channel A: Meter 1\",\t\t97  | CNT_INTVAL },\n\t{ \"LED: Channel A: Meter 2\",\t\t98  | CNT_INTVAL },\n\t{ \"LED: Channel A: Meter 3\",\t\t99  | CNT_INTVAL },\n\t{ \"LED: Channel A: Meter 4\",\t\t100 | CNT_INTVAL },\n\t{ \"LED: Channel A: Meter 5\",\t\t101 | CNT_INTVAL },\n\t{ \"LED: Channel A: Meter 6\",\t\t102 | CNT_INTVAL },\n\t{ \"LED: Channel A: Meter clip\",\t\t103 | CNT_INTVAL },\n\t{ \"LED: Channel A: Active\",\t\t114 | CNT_INTVAL },\n\t{ \"LED: Channel A: Cue\",\t\t116 | CNT_INTVAL },\n\t{ \"LED: Channel A: FX1\",\t\t149 | CNT_INTVAL },\n\t{ \"LED: Channel A: FX2\",\t\t148 | CNT_INTVAL },\n\n\t{ \"LED: Channel B: >\",\t\t\t2   | CNT_INTVAL },\n\t{ \"LED: Channel B: <\",\t\t\t3   | CNT_INTVAL },\n\t{ \"LED: Channel B: Meter 1\",\t\t89  | CNT_INTVAL },\n\t{ \"LED: Channel B: Meter 2\",\t\t90  | CNT_INTVAL },\n\t{ \"LED: Channel B: Meter 3\",\t\t91  | CNT_INTVAL },\n\t{ \"LED: Channel B: Meter 4\",\t\t92  | CNT_INTVAL },\n\t{ \"LED: Channel B: Meter 5\",\t\t93  | CNT_INTVAL },\n\t{ \"LED: Channel B: Meter 6\",\t\t94  | CNT_INTVAL },\n\t{ \"LED: Channel B: Meter clip\",\t\t95  | CNT_INTVAL },\n\t{ \"LED: Channel B: Active\",\t\t122 | CNT_INTVAL },\n\t{ \"LED: Channel B: Cue\",\t\t125 | CNT_INTVAL },\n\t{ \"LED: Channel B: FX1\",\t\t147 | CNT_INTVAL },\n\t{ \"LED: Channel B: FX2\",\t\t146 | CNT_INTVAL },\n\n\t{ \"LED: Channel C: >\",\t\t\t6   | CNT_INTVAL },\n\t{ \"LED: Channel C: <\",\t\t\t7   | CNT_INTVAL },\n\t{ \"LED: Channel C: Meter 1\",\t\t105 | CNT_INTVAL },\n\t{ \"LED: Channel C: Meter 2\",\t\t106 | CNT_INTVAL },\n\t{ \"LED: Channel C: Meter 3\",\t\t107 | CNT_INTVAL },\n\t{ \"LED: Channel C: Meter 4\",\t\t108 | CNT_INTVAL },\n\t{ \"LED: Channel C: Meter 5\",\t\t109 | CNT_INTVAL },\n\t{ \"LED: Channel C: Meter 6\",\t\t110 | CNT_INTVAL },\n\t{ \"LED: Channel C: Meter clip\",\t\t111 | CNT_INTVAL },\n\t{ \"LED: Channel C: Active\",\t\t115 | CNT_INTVAL },\n\t{ \"LED: Channel C: Cue\",\t\t117 | CNT_INTVAL },\n\t{ \"LED: Channel C: FX1\",\t\t151 | CNT_INTVAL },\n\t{ \"LED: Channel C: FX2\",\t\t150 | CNT_INTVAL },\n\n\t{ \"LED: Channel D: >\",\t\t\t0   | CNT_INTVAL },\n\t{ \"LED: Channel D: <\",\t\t\t1   | CNT_INTVAL },\n\t{ \"LED: Channel D: Meter 1\",\t\t81  | CNT_INTVAL },\n\t{ \"LED: Channel D: Meter 2\",\t\t82  | CNT_INTVAL },\n\t{ \"LED: Channel D: Meter 3\",\t\t83  | CNT_INTVAL },\n\t{ \"LED: Channel D: Meter 4\",\t\t84  | CNT_INTVAL },\n\t{ \"LED: Channel D: Meter 5\",\t\t85  | CNT_INTVAL },\n\t{ \"LED: Channel D: Meter 6\",\t\t86  | CNT_INTVAL },\n\t{ \"LED: Channel D: Meter clip\",\t\t87  | CNT_INTVAL },\n\t{ \"LED: Channel D: Active\",\t\t123 | CNT_INTVAL },\n\t{ \"LED: Channel D: Cue\",\t\t124 | CNT_INTVAL },\n\t{ \"LED: Channel D: FX1\",\t\t145 | CNT_INTVAL },\n\t{ \"LED: Channel D: FX2\",\t\t144 | CNT_INTVAL },\n\n\t{ \"LED: Deck A: 1 (blue)\",\t\t22  | CNT_INTVAL },\n\t{ \"LED: Deck A: 1 (green)\",\t\t23  | CNT_INTVAL },\n\t{ \"LED: Deck A: 2 (blue)\",\t\t20  | CNT_INTVAL },\n\t{ \"LED: Deck A: 2 (green)\",\t\t21  | CNT_INTVAL },\n\t{ \"LED: Deck A: 3 (blue)\",\t\t18  | CNT_INTVAL },\n\t{ \"LED: Deck A: 3 (green)\",\t\t19  | CNT_INTVAL },\n\t{ \"LED: Deck A: 4 (blue)\",\t\t16  | CNT_INTVAL },\n\t{ \"LED: Deck A: 4 (green)\",\t\t17  | CNT_INTVAL },\n\t{ \"LED: Deck A: Load\",\t\t\t44  | CNT_INTVAL },\n\t{ \"LED: Deck A: Deck C button\",\t\t45  | CNT_INTVAL },\n\t{ \"LED: Deck A: In\",\t\t\t47  | CNT_INTVAL },\n\t{ \"LED: Deck A: Out\",\t\t\t46  | CNT_INTVAL },\n\t{ \"LED: Deck A: Shift\",\t\t\t24  | CNT_INTVAL },\n\t{ \"LED: Deck A: Sync\",\t\t\t27  | CNT_INTVAL },\n\t{ \"LED: Deck A: Cue\",\t\t\t26  | CNT_INTVAL },\n\t{ \"LED: Deck A: Play\",\t\t\t25  | CNT_INTVAL },\n\t{ \"LED: Deck A: Tempo up\",\t\t33  | CNT_INTVAL },\n\t{ \"LED: Deck A: Tempo down\",\t\t32  | CNT_INTVAL },\n\t{ \"LED: Deck A: Master\",\t\t34  | CNT_INTVAL },\n\t{ \"LED: Deck A: Keylock\",\t\t35  | CNT_INTVAL },\n\t{ \"LED: Deck A: Deck A\",\t\t37  | CNT_INTVAL },\n\t{ \"LED: Deck A: Deck C\",\t\t36  | CNT_INTVAL },\n\t{ \"LED: Deck A: Samples\",\t\t38  | CNT_INTVAL },\n\t{ \"LED: Deck A: On Air\",\t\t39  | CNT_INTVAL },\n\t{ \"LED: Deck A: Sample 1\",\t\t31  | CNT_INTVAL },\n\t{ \"LED: Deck A: Sample 2\",\t\t30  | CNT_INTVAL },\n\t{ \"LED: Deck A: Sample 3\",\t\t29  | CNT_INTVAL },\n\t{ \"LED: Deck A: Sample 4\",\t\t28  | CNT_INTVAL },\n\t{ \"LED: Deck A: Digit 1 - A\",\t\t55  | CNT_INTVAL },\n\t{ \"LED: Deck A: Digit 1 - B\",\t\t54  | CNT_INTVAL },\n\t{ \"LED: Deck A: Digit 1 - C\",\t\t53  | CNT_INTVAL },\n\t{ \"LED: Deck A: Digit 1 - D\",\t\t52  | CNT_INTVAL },\n\t{ \"LED: Deck A: Digit 1 - E\",\t\t51  | CNT_INTVAL },\n\t{ \"LED: Deck A: Digit 1 - F\",\t\t50  | CNT_INTVAL },\n\t{ \"LED: Deck A: Digit 1 - G\",\t\t49  | CNT_INTVAL },\n\t{ \"LED: Deck A: Digit 1 - dot\",\t\t48  | CNT_INTVAL },\n\t{ \"LED: Deck A: Digit 2 - A\",\t\t63  | CNT_INTVAL },\n\t{ \"LED: Deck A: Digit 2 - B\",\t\t62  | CNT_INTVAL },\n\t{ \"LED: Deck A: Digit 2 - C\",\t\t61  | CNT_INTVAL },\n\t{ \"LED: Deck A: Digit 2 - D\",\t\t60  | CNT_INTVAL },\n\t{ \"LED: Deck A: Digit 2 - E\",\t\t59  | CNT_INTVAL },\n\t{ \"LED: Deck A: Digit 2 - F\",\t\t58  | CNT_INTVAL },\n\t{ \"LED: Deck A: Digit 2 - G\",\t\t57  | CNT_INTVAL },\n\t{ \"LED: Deck A: Digit 2 - dot\",\t\t56  | CNT_INTVAL },\n\n\t{ \"LED: Deck B: 1 (blue)\",\t\t78  | CNT_INTVAL },\n\t{ \"LED: Deck B: 1 (green)\",\t\t79  | CNT_INTVAL },\n\t{ \"LED: Deck B: 2 (blue)\",\t\t76  | CNT_INTVAL },\n\t{ \"LED: Deck B: 2 (green)\",\t\t77  | CNT_INTVAL },\n\t{ \"LED: Deck B: 3 (blue)\",\t\t74  | CNT_INTVAL },\n\t{ \"LED: Deck B: 3 (green)\",\t\t75  | CNT_INTVAL },\n\t{ \"LED: Deck B: 4 (blue)\",\t\t72  | CNT_INTVAL },\n\t{ \"LED: Deck B: 4 (green)\",\t\t73  | CNT_INTVAL },\n\t{ \"LED: Deck B: Load\",\t\t\t180 | CNT_INTVAL },\n\t{ \"LED: Deck B: Deck D button\",\t\t181 | CNT_INTVAL },\n\t{ \"LED: Deck B: In\",\t\t\t183 | CNT_INTVAL },\n\t{ \"LED: Deck B: Out\",\t\t\t182 | CNT_INTVAL },\n\t{ \"LED: Deck B: Shift\",\t\t\t64  | CNT_INTVAL },\n\t{ \"LED: Deck B: Sync\",\t\t\t67  | CNT_INTVAL },\n\t{ \"LED: Deck B: Cue\",\t\t\t66  | CNT_INTVAL },\n\t{ \"LED: Deck B: Play\",\t\t\t65  | CNT_INTVAL },\n\t{ \"LED: Deck B: Tempo up\",\t\t185 | CNT_INTVAL },\n\t{ \"LED: Deck B: Tempo down\",\t\t184 | CNT_INTVAL },\n\t{ \"LED: Deck B: Master\",\t\t186 | CNT_INTVAL },\n\t{ \"LED: Deck B: Keylock\",\t\t187 | CNT_INTVAL },\n\t{ \"LED: Deck B: Deck B\",\t\t189 | CNT_INTVAL },\n\t{ \"LED: Deck B: Deck D\",\t\t188 | CNT_INTVAL },\n\t{ \"LED: Deck B: Samples\",\t\t190 | CNT_INTVAL },\n\t{ \"LED: Deck B: On Air\",\t\t191 | CNT_INTVAL },\n\t{ \"LED: Deck B: Sample 1\",\t\t71  | CNT_INTVAL },\n\t{ \"LED: Deck B: Sample 2\",\t\t70  | CNT_INTVAL },\n\t{ \"LED: Deck B: Sample 3\",\t\t69  | CNT_INTVAL },\n\t{ \"LED: Deck B: Sample 4\",\t\t68  | CNT_INTVAL },\n\t{ \"LED: Deck B: Digit 1 - A\",\t\t175 | CNT_INTVAL },\n\t{ \"LED: Deck B: Digit 1 - B\",\t\t174 | CNT_INTVAL },\n\t{ \"LED: Deck B: Digit 1 - C\",\t\t173 | CNT_INTVAL },\n\t{ \"LED: Deck B: Digit 1 - D\",\t\t172 | CNT_INTVAL },\n\t{ \"LED: Deck B: Digit 1 - E\",\t\t171 | CNT_INTVAL },\n\t{ \"LED: Deck B: Digit 1 - F\",\t\t170 | CNT_INTVAL },\n\t{ \"LED: Deck B: Digit 1 - G\",\t\t169 | CNT_INTVAL },\n\t{ \"LED: Deck B: Digit 1 - dot\",\t\t168 | CNT_INTVAL },\n\t{ \"LED: Deck B: Digit 2 - A\",\t\t167 | CNT_INTVAL },\n\t{ \"LED: Deck B: Digit 2 - B\",\t\t166 | CNT_INTVAL },\n\t{ \"LED: Deck B: Digit 2 - C\",\t\t165 | CNT_INTVAL },\n\t{ \"LED: Deck B: Digit 2 - D\",\t\t164 | CNT_INTVAL },\n\t{ \"LED: Deck B: Digit 2 - E\",\t\t163 | CNT_INTVAL },\n\t{ \"LED: Deck B: Digit 2 - F\",\t\t162 | CNT_INTVAL },\n\t{ \"LED: Deck B: Digit 2 - G\",\t\t161 | CNT_INTVAL },\n\t{ \"LED: Deck B: Digit 2 - dot\",\t\t160 | CNT_INTVAL },\n\n\t{ \"LED: FX1: dry/wet\",\t\t\t153 | CNT_INTVAL },\n\t{ \"LED: FX1: 1\",\t\t\t154 | CNT_INTVAL },\n\t{ \"LED: FX1: 2\",\t\t\t155 | CNT_INTVAL },\n\t{ \"LED: FX1: 3\",\t\t\t156 | CNT_INTVAL },\n\t{ \"LED: FX1: Mode\",\t\t\t157 | CNT_INTVAL },\n\t{ \"LED: FX2: dry/wet\",\t\t\t129 | CNT_INTVAL },\n\t{ \"LED: FX2: 1\",\t\t\t130 | CNT_INTVAL },\n\t{ \"LED: FX2: 2\",\t\t\t131 | CNT_INTVAL },\n\t{ \"LED: FX2: 3\",\t\t\t132 | CNT_INTVAL },\n\t{ \"LED: FX2: Mode\",\t\t\t133 | CNT_INTVAL },\n};\n\nstatic const struct caiaq_controller maschine_controller[] = {\n\t{ \"LED: Pad 1\",\t\t\t\t3  | CNT_INTVAL },\n\t{ \"LED: Pad 2\",\t\t\t\t2  | CNT_INTVAL },\n\t{ \"LED: Pad 3\",\t\t\t\t1  | CNT_INTVAL },\n\t{ \"LED: Pad 4\",\t\t\t\t0  | CNT_INTVAL },\n\t{ \"LED: Pad 5\",\t\t\t\t7  | CNT_INTVAL },\n\t{ \"LED: Pad 6\",\t\t\t\t6  | CNT_INTVAL },\n\t{ \"LED: Pad 7\",\t\t\t\t5  | CNT_INTVAL },\n\t{ \"LED: Pad 8\",\t\t\t\t4  | CNT_INTVAL },\n\t{ \"LED: Pad 9\",\t\t\t\t11 | CNT_INTVAL },\n\t{ \"LED: Pad 10\",\t\t\t10 | CNT_INTVAL },\n\t{ \"LED: Pad 11\",\t\t\t9  | CNT_INTVAL },\n\t{ \"LED: Pad 12\",\t\t\t8  | CNT_INTVAL },\n\t{ \"LED: Pad 13\",\t\t\t15 | CNT_INTVAL },\n\t{ \"LED: Pad 14\",\t\t\t14 | CNT_INTVAL },\n\t{ \"LED: Pad 15\",\t\t\t13 | CNT_INTVAL },\n\t{ \"LED: Pad 16\",\t\t\t12 | CNT_INTVAL },\n\n\t{ \"LED: Mute\",\t\t\t\t16 | CNT_INTVAL },\n\t{ \"LED: Solo\",\t\t\t\t17 | CNT_INTVAL },\n\t{ \"LED: Select\",\t\t\t18 | CNT_INTVAL },\n\t{ \"LED: Duplicate\",\t\t\t19 | CNT_INTVAL },\n\t{ \"LED: Navigate\",\t\t\t20 | CNT_INTVAL },\n\t{ \"LED: Pad Mode\",\t\t\t21 | CNT_INTVAL },\n\t{ \"LED: Pattern\",\t\t\t22 | CNT_INTVAL },\n\t{ \"LED: Scene\",\t\t\t\t23 | CNT_INTVAL },\n\n\t{ \"LED: Shift\",\t\t\t\t24 | CNT_INTVAL },\n\t{ \"LED: Erase\",\t\t\t\t25 | CNT_INTVAL },\n\t{ \"LED: Grid\",\t\t\t\t26 | CNT_INTVAL },\n\t{ \"LED: Right Bottom\",\t\t\t27 | CNT_INTVAL },\n\t{ \"LED: Rec\",\t\t\t\t28 | CNT_INTVAL },\n\t{ \"LED: Play\",\t\t\t\t29 | CNT_INTVAL },\n\t{ \"LED: Left Bottom\",\t\t\t32 | CNT_INTVAL },\n\t{ \"LED: Restart\",\t\t\t33 | CNT_INTVAL },\n\n\t{ \"LED: Group A\",\t\t\t41 | CNT_INTVAL },\n\t{ \"LED: Group B\",\t\t\t40 | CNT_INTVAL },\n\t{ \"LED: Group C\",\t\t\t37 | CNT_INTVAL },\n\t{ \"LED: Group D\",\t\t\t36 | CNT_INTVAL },\n\t{ \"LED: Group E\",\t\t\t39 | CNT_INTVAL },\n\t{ \"LED: Group F\",\t\t\t38 | CNT_INTVAL },\n\t{ \"LED: Group G\",\t\t\t35 | CNT_INTVAL },\n\t{ \"LED: Group H\",\t\t\t34 | CNT_INTVAL },\n\n\t{ \"LED: Auto Write\",\t\t\t42 | CNT_INTVAL },\n\t{ \"LED: Snap\",\t\t\t\t43 | CNT_INTVAL },\n\t{ \"LED: Right Top\",\t\t\t44 | CNT_INTVAL },\n\t{ \"LED: Left Top\",\t\t\t45 | CNT_INTVAL },\n\t{ \"LED: Sampling\",\t\t\t46 | CNT_INTVAL },\n\t{ \"LED: Browse\",\t\t\t47 | CNT_INTVAL },\n\t{ \"LED: Step\",\t\t\t\t48 | CNT_INTVAL },\n\t{ \"LED: Control\",\t\t\t49 | CNT_INTVAL },\n\n\t{ \"LED: Top Button 1\",\t\t\t57 | CNT_INTVAL },\n\t{ \"LED: Top Button 2\",\t\t\t56 | CNT_INTVAL },\n\t{ \"LED: Top Button 3\",\t\t\t55 | CNT_INTVAL },\n\t{ \"LED: Top Button 4\",\t\t\t54 | CNT_INTVAL },\n\t{ \"LED: Top Button 5\",\t\t\t53 | CNT_INTVAL },\n\t{ \"LED: Top Button 6\",\t\t\t52 | CNT_INTVAL },\n\t{ \"LED: Top Button 7\",\t\t\t51 | CNT_INTVAL },\n\t{ \"LED: Top Button 8\",\t\t\t50 | CNT_INTVAL },\n\n\t{ \"LED: Note Repeat\",\t\t\t58 | CNT_INTVAL },\n\n\t{ \"Backlight Display\",\t\t\t59 | CNT_INTVAL }\n};\n\nstatic int add_controls(const struct caiaq_controller *c, int num,\n\t\t\tstruct snd_usb_caiaqdev *cdev)\n{\n\tint i, ret;\n\tstruct snd_kcontrol *kc;\n\n\tfor (i = 0; i < num; i++, c++) {\n\t\tkcontrol_template.name = c->name;\n\t\tkcontrol_template.private_value = c->index;\n\t\tkc = snd_ctl_new1(&kcontrol_template, cdev);\n\t\tret = snd_ctl_add(cdev->chip.card, kc);\n\t\tif (ret < 0)\n\t\t\treturn ret;\n\t}\n\n\treturn 0;\n}\n\nint snd_usb_caiaq_control_init(struct snd_usb_caiaqdev *cdev)\n{\n\tint ret = 0;\n\n\tswitch (cdev->chip.usb_id) {\n\tcase USB_ID(USB_VID_NATIVEINSTRUMENTS, USB_PID_AK1):\n\t\tret = add_controls(ak1_controller,\n\t\t\tARRAY_SIZE(ak1_controller), cdev);\n\t\tbreak;\n\n\tcase USB_ID(USB_VID_NATIVEINSTRUMENTS, USB_PID_RIGKONTROL2):\n\t\tret = add_controls(rk2_controller,\n\t\t\tARRAY_SIZE(rk2_controller), cdev);\n\t\tbreak;\n\n\tcase USB_ID(USB_VID_NATIVEINSTRUMENTS, USB_PID_RIGKONTROL3):\n\t\tret = add_controls(rk3_controller,\n\t\t\tARRAY_SIZE(rk3_controller), cdev);\n\t\tbreak;\n\n\tcase USB_ID(USB_VID_NATIVEINSTRUMENTS, USB_PID_KORECONTROLLER):\n\tcase USB_ID(USB_VID_NATIVEINSTRUMENTS, USB_PID_KORECONTROLLER2):\n\t\tret = add_controls(kore_controller,\n\t\t\tARRAY_SIZE(kore_controller), cdev);\n\t\tbreak;\n\n\tcase USB_ID(USB_VID_NATIVEINSTRUMENTS, USB_PID_AUDIO8DJ):\n\t\tret = add_controls(a8dj_controller,\n\t\t\tARRAY_SIZE(a8dj_controller), cdev);\n\t\tbreak;\n\n\tcase USB_ID(USB_VID_NATIVEINSTRUMENTS, USB_PID_AUDIO4DJ):\n\t\tret = add_controls(a4dj_controller,\n\t\t\tARRAY_SIZE(a4dj_controller), cdev);\n\t\tbreak;\n\n\tcase USB_ID(USB_VID_NATIVEINSTRUMENTS, USB_PID_TRAKTORKONTROLX1):\n\t\tret = add_controls(kontrolx1_controller,\n\t\t\tARRAY_SIZE(kontrolx1_controller), cdev);\n\t\tbreak;\n\n\tcase USB_ID(USB_VID_NATIVEINSTRUMENTS, USB_PID_TRAKTORKONTROLS4):\n\t\tret = add_controls(kontrols4_controller,\n\t\t\tARRAY_SIZE(kontrols4_controller), cdev);\n\t\tbreak;\n\n\tcase USB_ID(USB_VID_NATIVEINSTRUMENTS, USB_PID_MASCHINECONTROLLER):\n\t\tret = add_controls(maschine_controller,\n\t\t\tARRAY_SIZE(maschine_controller), cdev);\n\t\tbreak;\n\t}\n\n\treturn ret;\n}\n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}