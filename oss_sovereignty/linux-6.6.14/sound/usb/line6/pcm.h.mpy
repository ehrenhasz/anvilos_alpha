{
  "module_name": "pcm.h",
  "hash_id": "bb6f477000427a9ad8fc18d417d4eb6af4dcc054848f1bef8274d0174b63226d",
  "original_prompt": "Ingested from linux-6.6.14/sound/usb/line6/pcm.h",
  "human_readable_source": " \n \n\n \n\n#ifndef PCM_H\n#define PCM_H\n\n#include <sound/pcm.h>\n\n#include \"driver.h\"\n\n \n#define LINE6_ISO_PACKETS\t1\n\n \n#define LINE6_ISO_INTERVAL\t1\n\n#define LINE6_IMPULSE_DEFAULT_PERIOD 100\n\n \n#define get_substream(line6pcm, stream)\t\\\n\t\t(line6pcm->pcm->streams[stream].substream)\n\n \n\n \nenum {\n\tLINE6_STREAM_PCM,\n\tLINE6_STREAM_MONITOR,\n\tLINE6_STREAM_IMPULSE,\n\tLINE6_STREAM_CAPTURE_HELPER,\n};\n\n \nenum {\n\tLINE6_FLAG_PAUSE_PLAYBACK,\n\tLINE6_FLAG_PREPARED,\n};\n\nstruct line6_pcm_properties {\n\tstruct snd_pcm_hardware playback_hw, capture_hw;\n\tstruct snd_pcm_hw_constraint_ratdens rates;\n\tint bytes_per_channel;\n};\n\nstruct line6_pcm_stream {\n\t \n\tstruct urb **urbs;\n\n\t \n\tunsigned char *buffer;\n\n\t \n\tsnd_pcm_uframes_t pos;\n\n\t \n\tunsigned bytes;\n\n\t \n\tunsigned count;\n\n\t \n\tunsigned period;\n\n\t \n\tsnd_pcm_uframes_t pos_done;\n\n\t \n\tunsigned long active_urbs;\n\n\t \n\tunsigned long unlink_urbs;\n\n\t \n\tspinlock_t lock;\n\n\t \n\tunsigned long opened;\n\n\t \n\tunsigned long running;\n\n\tint last_frame;\n};\n\nstruct snd_line6_pcm {\n\t \n\tstruct usb_line6 *line6;\n\n\t \n\tstruct line6_pcm_properties *properties;\n\n\t \n\tstruct snd_pcm *pcm;\n\n\t \n\tstruct mutex state_mutex;\n\n\t \n\tstruct line6_pcm_stream in;\n\tstruct line6_pcm_stream out;\n\n\t \n\tunsigned char *prev_fbuf;\n\n\t \n\tint prev_fsize;\n\n\t \n\tint max_packet_size_in;\n\tint max_packet_size_out;\n\n\t \n\tint volume_playback[2];\n\n\t \n\tint volume_monitor;\n\n\t \n\tint impulse_volume;\n\n\t \n\tint impulse_period;\n\n\t \n\tint impulse_count;\n\n\t \n\tunsigned long flags;\n};\n\nextern int line6_init_pcm(struct usb_line6 *line6,\n\t\t\t  struct line6_pcm_properties *properties);\nextern int snd_line6_trigger(struct snd_pcm_substream *substream, int cmd);\nextern int snd_line6_prepare(struct snd_pcm_substream *substream);\nextern int snd_line6_hw_params(struct snd_pcm_substream *substream,\n\t\t\t       struct snd_pcm_hw_params *hw_params);\nextern int snd_line6_hw_free(struct snd_pcm_substream *substream);\nextern snd_pcm_uframes_t snd_line6_pointer(struct snd_pcm_substream *substream);\nextern void line6_pcm_disconnect(struct snd_line6_pcm *line6pcm);\nextern int line6_pcm_acquire(struct snd_line6_pcm *line6pcm, int type,\n\t\t\t       bool start);\nextern void line6_pcm_release(struct snd_line6_pcm *line6pcm, int type);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}