{
  "module_name": "podhd.c",
  "hash_id": "20feda4dbe8a0f79b9128fa50d86c8171fa6c9d9dc1de70cf0d3258dde01fd63",
  "original_prompt": "Ingested from linux-6.6.14/sound/usb/line6/podhd.c",
  "human_readable_source": "\n \n\n#include <linux/usb.h>\n#include <linux/slab.h>\n#include <linux/module.h>\n#include <sound/core.h>\n#include <sound/control.h>\n#include <sound/pcm.h>\n\n#include \"driver.h\"\n#include \"pcm.h\"\n\n#define PODHD_STARTUP_DELAY 500\n\nenum {\n\tLINE6_PODHD300,\n\tLINE6_PODHD400,\n\tLINE6_PODHD500,\n\tLINE6_PODX3,\n\tLINE6_PODX3LIVE,\n\tLINE6_PODHD500X,\n\tLINE6_PODHDDESKTOP\n};\n\nstruct usb_line6_podhd {\n\t \n\tstruct usb_line6 line6;\n\n\t \n\tu32 serial_number;\n\n\t \n\tint firmware_version;\n\n\t \n\tint monitor_level;\n};\n\n#define line6_to_podhd(x)\tcontainer_of(x, struct usb_line6_podhd, line6)\n\nstatic const struct snd_ratden podhd_ratden = {\n\t.num_min = 48000,\n\t.num_max = 48000,\n\t.num_step = 1,\n\t.den = 1,\n};\n\nstatic struct line6_pcm_properties podhd_pcm_properties = {\n\t.playback_hw = {\n\t\t\t\t  .info = (SNDRV_PCM_INFO_MMAP |\n\t\t\t\t\t   SNDRV_PCM_INFO_INTERLEAVED |\n\t\t\t\t\t   SNDRV_PCM_INFO_BLOCK_TRANSFER |\n\t\t\t\t\t   SNDRV_PCM_INFO_MMAP_VALID |\n\t\t\t\t\t   SNDRV_PCM_INFO_PAUSE |\n\t\t\t\t\t   SNDRV_PCM_INFO_SYNC_START),\n\t\t\t\t  .formats = SNDRV_PCM_FMTBIT_S24_3LE,\n\t\t\t\t  .rates = SNDRV_PCM_RATE_48000,\n\t\t\t\t  .rate_min = 48000,\n\t\t\t\t  .rate_max = 48000,\n\t\t\t\t  .channels_min = 2,\n\t\t\t\t  .channels_max = 2,\n\t\t\t\t  .buffer_bytes_max = 60000,\n\t\t\t\t  .period_bytes_min = 64,\n\t\t\t\t  .period_bytes_max = 8192,\n\t\t\t\t  .periods_min = 1,\n\t\t\t\t  .periods_max = 1024},\n\t.capture_hw = {\n\t\t\t\t .info = (SNDRV_PCM_INFO_MMAP |\n\t\t\t\t\t  SNDRV_PCM_INFO_INTERLEAVED |\n\t\t\t\t\t  SNDRV_PCM_INFO_BLOCK_TRANSFER |\n\t\t\t\t\t  SNDRV_PCM_INFO_MMAP_VALID |\n\t\t\t\t\t  SNDRV_PCM_INFO_SYNC_START),\n\t\t\t\t .formats = SNDRV_PCM_FMTBIT_S24_3LE,\n\t\t\t\t .rates = SNDRV_PCM_RATE_48000,\n\t\t\t\t .rate_min = 48000,\n\t\t\t\t .rate_max = 48000,\n\t\t\t\t .channels_min = 2,\n\t\t\t\t .channels_max = 2,\n\t\t\t\t .buffer_bytes_max = 60000,\n\t\t\t\t .period_bytes_min = 64,\n\t\t\t\t .period_bytes_max = 8192,\n\t\t\t\t .periods_min = 1,\n\t\t\t\t .periods_max = 1024},\n\t.rates = {\n\t\t\t    .nrats = 1,\n\t\t\t    .rats = &podhd_ratden},\n\t.bytes_per_channel = 3  \n};\n\nstatic struct line6_pcm_properties podx3_pcm_properties = {\n\t.playback_hw = {\n\t\t\t\t  .info = (SNDRV_PCM_INFO_MMAP |\n\t\t\t\t\t   SNDRV_PCM_INFO_INTERLEAVED |\n\t\t\t\t\t   SNDRV_PCM_INFO_BLOCK_TRANSFER |\n\t\t\t\t\t   SNDRV_PCM_INFO_MMAP_VALID |\n\t\t\t\t\t   SNDRV_PCM_INFO_PAUSE |\n\t\t\t\t\t   SNDRV_PCM_INFO_SYNC_START),\n\t\t\t\t  .formats = SNDRV_PCM_FMTBIT_S24_3LE,\n\t\t\t\t  .rates = SNDRV_PCM_RATE_48000,\n\t\t\t\t  .rate_min = 48000,\n\t\t\t\t  .rate_max = 48000,\n\t\t\t\t  .channels_min = 2,\n\t\t\t\t  .channels_max = 2,\n\t\t\t\t  .buffer_bytes_max = 60000,\n\t\t\t\t  .period_bytes_min = 64,\n\t\t\t\t  .period_bytes_max = 8192,\n\t\t\t\t  .periods_min = 1,\n\t\t\t\t  .periods_max = 1024},\n\t.capture_hw = {\n\t\t\t\t .info = (SNDRV_PCM_INFO_MMAP |\n\t\t\t\t\t  SNDRV_PCM_INFO_INTERLEAVED |\n\t\t\t\t\t  SNDRV_PCM_INFO_BLOCK_TRANSFER |\n\t\t\t\t\t  SNDRV_PCM_INFO_MMAP_VALID |\n\t\t\t\t\t  SNDRV_PCM_INFO_SYNC_START),\n\t\t\t\t .formats = SNDRV_PCM_FMTBIT_S24_3LE,\n\t\t\t\t .rates = SNDRV_PCM_RATE_48000,\n\t\t\t\t .rate_min = 48000,\n\t\t\t\t .rate_max = 48000,\n\t\t\t\t  \n\t\t\t\t .channels_min = 8,\n\t\t\t\t .channels_max = 8,\n\t\t\t\t .buffer_bytes_max = 60000,\n\t\t\t\t .period_bytes_min = 64,\n\t\t\t\t .period_bytes_max = 8192,\n\t\t\t\t .periods_min = 1,\n\t\t\t\t .periods_max = 1024},\n\t.rates = {\n\t\t\t    .nrats = 1,\n\t\t\t    .rats = &podhd_ratden},\n\t.bytes_per_channel = 3  \n};\nstatic struct usb_driver podhd_driver;\n\nstatic ssize_t serial_number_show(struct device *dev,\n\t\t\t\t  struct device_attribute *attr, char *buf)\n{\n\tstruct snd_card *card = dev_to_snd_card(dev);\n\tstruct usb_line6_podhd *pod = card->private_data;\n\n\treturn sysfs_emit(buf, \"%u\\n\", pod->serial_number);\n}\n\nstatic ssize_t firmware_version_show(struct device *dev,\n\t\t\t\t     struct device_attribute *attr, char *buf)\n{\n\tstruct snd_card *card = dev_to_snd_card(dev);\n\tstruct usb_line6_podhd *pod = card->private_data;\n\n\treturn sysfs_emit(buf, \"%06x\\n\", pod->firmware_version);\n}\n\nstatic DEVICE_ATTR_RO(firmware_version);\nstatic DEVICE_ATTR_RO(serial_number);\n\nstatic struct attribute *podhd_dev_attrs[] = {\n\t&dev_attr_firmware_version.attr,\n\t&dev_attr_serial_number.attr,\n\tNULL\n};\n\nstatic const struct attribute_group podhd_dev_attr_group = {\n\t.name = \"podhd\",\n\t.attrs = podhd_dev_attrs,\n};\n\n \n\nstatic int podhd_dev_start(struct usb_line6_podhd *pod)\n{\n\tint ret;\n\tu8 init_bytes[8];\n\tint i;\n\tstruct usb_device *usbdev = pod->line6.usbdev;\n\n\tret = usb_control_msg_send(usbdev, 0,\n\t\t\t\t\t0x67, USB_TYPE_VENDOR | USB_RECIP_DEVICE | USB_DIR_OUT,\n\t\t\t\t\t0x11, 0,\n\t\t\t\t\tNULL, 0, LINE6_TIMEOUT, GFP_KERNEL);\n\tif (ret) {\n\t\tdev_err(pod->line6.ifcdev, \"read request failed (error %d)\\n\", ret);\n\t\tgoto exit;\n\t}\n\n\t \n\tret = usb_control_msg_recv(usbdev, 0, 0x67,\n\t\t\t\t\tUSB_TYPE_VENDOR | USB_RECIP_DEVICE | USB_DIR_IN,\n\t\t\t\t\t0x11, 0x0,\n\t\t\t\t\tinit_bytes, 3, LINE6_TIMEOUT, GFP_KERNEL);\n\tif (ret) {\n\t\tdev_err(pod->line6.ifcdev,\n\t\t\t\"receive length failed (error %d)\\n\", ret);\n\t\tgoto exit;\n\t}\n\n\tpod->firmware_version =\n\t\t(init_bytes[0] << 16) | (init_bytes[1] << 8) | (init_bytes[2] << 0);\n\n\tfor (i = 0; i <= 16; i++) {\n\t\tret = line6_read_data(&pod->line6, 0xf000 + 0x08 * i, init_bytes, 8);\n\t\tif (ret < 0)\n\t\t\tgoto exit;\n\t}\n\n\tret = usb_control_msg_send(usbdev, 0,\n\t\t\t\t\tUSB_REQ_SET_FEATURE,\n\t\t\t\t\tUSB_TYPE_STANDARD | USB_RECIP_DEVICE | USB_DIR_OUT,\n\t\t\t\t\t1, 0,\n\t\t\t\t\tNULL, 0, LINE6_TIMEOUT, GFP_KERNEL);\nexit:\n\treturn ret;\n}\n\nstatic void podhd_startup(struct usb_line6 *line6)\n{\n\tstruct usb_line6_podhd *pod = line6_to_podhd(line6);\n\n\tpodhd_dev_start(pod);\n\tline6_read_serial_number(&pod->line6, &pod->serial_number);\n\tif (snd_card_register(line6->card))\n\t\tdev_err(line6->ifcdev, \"Failed to register POD HD card.\\n\");\n}\n\nstatic void podhd_disconnect(struct usb_line6 *line6)\n{\n\tstruct usb_line6_podhd *pod = line6_to_podhd(line6);\n\n\tif (pod->line6.properties->capabilities & LINE6_CAP_CONTROL_INFO) {\n\t\tstruct usb_interface *intf;\n\n\t\tintf = usb_ifnum_to_if(line6->usbdev,\n\t\t\t\t\tpod->line6.properties->ctrl_if);\n\t\tif (intf)\n\t\t\tusb_driver_release_interface(&podhd_driver, intf);\n\t}\n}\n\nstatic const unsigned int float_zero_to_one_lookup[] = {\n0x00000000, 0x3c23d70a, 0x3ca3d70a, 0x3cf5c28f, 0x3d23d70a, 0x3d4ccccd,\n0x3d75c28f, 0x3d8f5c29, 0x3da3d70a, 0x3db851ec, 0x3dcccccd, 0x3de147ae,\n0x3df5c28f, 0x3e051eb8, 0x3e0f5c29, 0x3e19999a, 0x3e23d70a, 0x3e2e147b,\n0x3e3851ec, 0x3e428f5c, 0x3e4ccccd, 0x3e570a3d, 0x3e6147ae, 0x3e6b851f,\n0x3e75c28f, 0x3e800000, 0x3e851eb8, 0x3e8a3d71, 0x3e8f5c29, 0x3e947ae1,\n0x3e99999a, 0x3e9eb852, 0x3ea3d70a, 0x3ea8f5c3, 0x3eae147b, 0x3eb33333,\n0x3eb851ec, 0x3ebd70a4, 0x3ec28f5c, 0x3ec7ae14, 0x3ecccccd, 0x3ed1eb85,\n0x3ed70a3d, 0x3edc28f6, 0x3ee147ae, 0x3ee66666, 0x3eeb851f, 0x3ef0a3d7,\n0x3ef5c28f, 0x3efae148, 0x3f000000, 0x3f028f5c, 0x3f051eb8, 0x3f07ae14,\n0x3f0a3d71, 0x3f0ccccd, 0x3f0f5c29, 0x3f11eb85, 0x3f147ae1, 0x3f170a3d,\n0x3f19999a, 0x3f1c28f6, 0x3f1eb852, 0x3f2147ae, 0x3f23d70a, 0x3f266666,\n0x3f28f5c3, 0x3f2b851f, 0x3f2e147b, 0x3f30a3d7, 0x3f333333, 0x3f35c28f,\n0x3f3851ec, 0x3f3ae148, 0x3f3d70a4, 0x3f400000, 0x3f428f5c, 0x3f451eb8,\n0x3f47ae14, 0x3f4a3d71, 0x3f4ccccd, 0x3f4f5c29, 0x3f51eb85, 0x3f547ae1,\n0x3f570a3d, 0x3f59999a, 0x3f5c28f6, 0x3f5eb852, 0x3f6147ae, 0x3f63d70a,\n0x3f666666, 0x3f68f5c3, 0x3f6b851f, 0x3f6e147b, 0x3f70a3d7, 0x3f733333,\n0x3f75c28f, 0x3f7851ec, 0x3f7ae148, 0x3f7d70a4, 0x3f800000\n};\n\nstatic void podhd_set_monitor_level(struct usb_line6_podhd *podhd, int value)\n{\n\tunsigned int fl;\n\tstatic const unsigned char msg[16] = {\n\t\t \n\t\t0x0c, 0x00,\n\t\t \n\t\t0x01, 0x00,\n\t\t \n\t\t0x02, 0x00,\n\t\t \n\t\t0x04, 0x41,\n\t\t \n\t\t0x04, 0x00, 0x13, 0x00,\n\t\t \n\t\t0x00, 0x00, 0x00, 0x00\n\t};\n\tunsigned char *buf;\n\n\tbuf = kmemdup(msg, sizeof(msg), GFP_KERNEL);\n\tif (!buf)\n\t\treturn;\n\n\tif (value < 0)\n\t\tvalue = 0;\n\n\tif (value >= ARRAY_SIZE(float_zero_to_one_lookup))\n\t\tvalue = ARRAY_SIZE(float_zero_to_one_lookup) - 1;\n\n\tfl = float_zero_to_one_lookup[value];\n\n\tbuf[12] = (fl >> 0) & 0xff;\n\tbuf[13] = (fl >> 8) & 0xff;\n\tbuf[14] = (fl >> 16) & 0xff;\n\tbuf[15] = (fl >> 24) & 0xff;\n\n\tline6_send_raw_message(&podhd->line6, buf, sizeof(msg));\n\tkfree(buf);\n\n\tpodhd->monitor_level = value;\n}\n\n \nstatic int snd_podhd_control_monitor_info(struct snd_kcontrol *kcontrol,\n\t\t\t\t\tstruct snd_ctl_elem_info *uinfo)\n{\n\tuinfo->type = SNDRV_CTL_ELEM_TYPE_INTEGER;\n\tuinfo->count = 1;\n\tuinfo->value.integer.min = 0;\n\tuinfo->value.integer.max = 100;\n\tuinfo->value.integer.step = 1;\n\treturn 0;\n}\n\n \nstatic int snd_podhd_control_monitor_get(struct snd_kcontrol *kcontrol,\n\t\t\t\t       struct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_line6_pcm *line6pcm = snd_kcontrol_chip(kcontrol);\n\tstruct usb_line6_podhd *podhd = line6_to_podhd(line6pcm->line6);\n\n\tucontrol->value.integer.value[0] = podhd->monitor_level;\n\treturn 0;\n}\n\n \nstatic int snd_podhd_control_monitor_put(struct snd_kcontrol *kcontrol,\n\t\t\t\t       struct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_line6_pcm *line6pcm = snd_kcontrol_chip(kcontrol);\n\tstruct usb_line6_podhd *podhd = line6_to_podhd(line6pcm->line6);\n\n\tif (ucontrol->value.integer.value[0] == podhd->monitor_level)\n\t\treturn 0;\n\n\tpodhd_set_monitor_level(podhd, ucontrol->value.integer.value[0]);\n\treturn 1;\n}\n\n \nstatic const struct snd_kcontrol_new podhd_control_monitor = {\n\t.iface = SNDRV_CTL_ELEM_IFACE_MIXER,\n\t.name = \"Monitor Playback Volume\",\n\t.index = 0,\n\t.access = SNDRV_CTL_ELEM_ACCESS_READWRITE,\n\t.info = snd_podhd_control_monitor_info,\n\t.get = snd_podhd_control_monitor_get,\n\t.put = snd_podhd_control_monitor_put\n};\n\n \nstatic int podhd_init(struct usb_line6 *line6,\n\t\t      const struct usb_device_id *id)\n{\n\tint err;\n\tstruct usb_line6_podhd *pod = line6_to_podhd(line6);\n\tstruct usb_interface *intf;\n\n\tline6->disconnect = podhd_disconnect;\n\tline6->startup = podhd_startup;\n\n\tif (pod->line6.properties->capabilities & LINE6_CAP_CONTROL) {\n\t\t \n\t\tintf = usb_ifnum_to_if(line6->usbdev,\n\t\t\t\t\tpod->line6.properties->ctrl_if);\n\t\tif (!intf) {\n\t\t\tdev_err(pod->line6.ifcdev, \"interface %d not found\\n\",\n\t\t\t\tpod->line6.properties->ctrl_if);\n\t\t\treturn -ENODEV;\n\t\t}\n\n\t\terr = usb_driver_claim_interface(&podhd_driver, intf, NULL);\n\t\tif (err != 0) {\n\t\t\tdev_err(pod->line6.ifcdev, \"can't claim interface %d, error %d\\n\",\n\t\t\t\tpod->line6.properties->ctrl_if, err);\n\t\t\treturn err;\n\t\t}\n\t}\n\n\tif (pod->line6.properties->capabilities & LINE6_CAP_CONTROL_INFO) {\n\t\t \n\t\terr = snd_card_add_dev_attr(line6->card, &podhd_dev_attr_group);\n\t\tif (err < 0)\n\t\t\treturn err;\n\t}\n\n\tif (pod->line6.properties->capabilities & LINE6_CAP_PCM) {\n\t\t \n\t\terr = line6_init_pcm(line6,\n\t\t\t(id->driver_info == LINE6_PODX3 ||\n\t\t\tid->driver_info == LINE6_PODX3LIVE) ? &podx3_pcm_properties :\n\t\t\t&podhd_pcm_properties);\n\t\tif (err < 0)\n\t\t\treturn err;\n\t}\n\n\tif (pod->line6.properties->capabilities & LINE6_CAP_HWMON_CTL) {\n\t\tpodhd_set_monitor_level(pod, 100);\n\t\terr = snd_ctl_add(line6->card,\n\t\t\t\t  snd_ctl_new1(&podhd_control_monitor,\n\t\t\t\t\t       line6->line6pcm));\n\t\tif (err < 0)\n\t\t\treturn err;\n\t}\n\n\tif (!(pod->line6.properties->capabilities & LINE6_CAP_CONTROL_INFO)) {\n\t\t \n\t\treturn snd_card_register(line6->card);\n\t}\n\n\t \n\tschedule_delayed_work(&line6->startup_work,\n\t\t\t      msecs_to_jiffies(PODHD_STARTUP_DELAY));\n\treturn 0;\n}\n\n#define LINE6_DEVICE(prod) USB_DEVICE(0x0e41, prod)\n#define LINE6_IF_NUM(prod, n) USB_DEVICE_INTERFACE_NUMBER(0x0e41, prod, n)\n\n \nstatic const struct usb_device_id podhd_id_table[] = {\n\t \n\t{ LINE6_DEVICE(0x5057),    .driver_info = LINE6_PODHD300 },\n\t{ LINE6_DEVICE(0x5058),    .driver_info = LINE6_PODHD400 },\n\t{ LINE6_IF_NUM(0x414D, 0), .driver_info = LINE6_PODHD500 },\n\t{ LINE6_IF_NUM(0x414A, 0), .driver_info = LINE6_PODX3 },\n\t{ LINE6_IF_NUM(0x414B, 0), .driver_info = LINE6_PODX3LIVE },\n\t{ LINE6_IF_NUM(0x4159, 0), .driver_info = LINE6_PODHD500X },\n\t{ LINE6_IF_NUM(0x4156, 0), .driver_info = LINE6_PODHDDESKTOP },\n\t{}\n};\n\nMODULE_DEVICE_TABLE(usb, podhd_id_table);\n\nstatic const struct line6_properties podhd_properties_table[] = {\n\t[LINE6_PODHD300] = {\n\t\t.id = \"PODHD300\",\n\t\t.name = \"POD HD300\",\n\t\t.capabilities\t= LINE6_CAP_PCM\n\t\t\t\t| LINE6_CAP_HWMON,\n\t\t.altsetting = 5,\n\t\t.ep_ctrl_r = 0x84,\n\t\t.ep_ctrl_w = 0x03,\n\t\t.ep_audio_r = 0x82,\n\t\t.ep_audio_w = 0x01,\n\t},\n\t[LINE6_PODHD400] = {\n\t\t.id = \"PODHD400\",\n\t\t.name = \"POD HD400\",\n\t\t.capabilities\t= LINE6_CAP_PCM\n\t\t\t\t| LINE6_CAP_HWMON,\n\t\t.altsetting = 5,\n\t\t.ep_ctrl_r = 0x84,\n\t\t.ep_ctrl_w = 0x03,\n\t\t.ep_audio_r = 0x82,\n\t\t.ep_audio_w = 0x01,\n\t},\n\t[LINE6_PODHD500] = {\n\t\t.id = \"PODHD500\",\n\t\t.name = \"POD HD500\",\n\t\t.capabilities\t= LINE6_CAP_PCM | LINE6_CAP_CONTROL\n\t\t\t\t| LINE6_CAP_HWMON | LINE6_CAP_HWMON_CTL,\n\t\t.altsetting = 1,\n\t\t.ctrl_if = 1,\n\t\t.ep_ctrl_r = 0x81,\n\t\t.ep_ctrl_w = 0x01,\n\t\t.ep_audio_r = 0x86,\n\t\t.ep_audio_w = 0x02,\n\t},\n\t[LINE6_PODX3] = {\n\t\t.id = \"PODX3\",\n\t\t.name = \"POD X3\",\n\t\t.capabilities\t= LINE6_CAP_CONTROL | LINE6_CAP_CONTROL_INFO\n\t\t\t\t| LINE6_CAP_PCM | LINE6_CAP_HWMON | LINE6_CAP_IN_NEEDS_OUT,\n\t\t.altsetting = 1,\n\t\t.ep_ctrl_r = 0x81,\n\t\t.ep_ctrl_w = 0x01,\n\t\t.ctrl_if = 1,\n\t\t.ep_audio_r = 0x86,\n\t\t.ep_audio_w = 0x02,\n\t},\n\t[LINE6_PODX3LIVE] = {\n\t\t.id = \"PODX3LIVE\",\n\t\t.name = \"POD X3 LIVE\",\n\t\t.capabilities\t= LINE6_CAP_CONTROL | LINE6_CAP_CONTROL_INFO\n\t\t\t\t| LINE6_CAP_PCM | LINE6_CAP_HWMON | LINE6_CAP_IN_NEEDS_OUT,\n\t\t.altsetting = 1,\n\t\t.ep_ctrl_r = 0x81,\n\t\t.ep_ctrl_w = 0x01,\n\t\t.ctrl_if = 1,\n\t\t.ep_audio_r = 0x86,\n\t\t.ep_audio_w = 0x02,\n\t},\n\t[LINE6_PODHD500X] = {\n\t\t.id = \"PODHD500X\",\n\t\t.name = \"POD HD500X\",\n\t\t.capabilities\t= LINE6_CAP_CONTROL\n\t\t\t\t| LINE6_CAP_PCM | LINE6_CAP_HWMON,\n\t\t.altsetting = 1,\n\t\t.ep_ctrl_r = 0x81,\n\t\t.ep_ctrl_w = 0x01,\n\t\t.ctrl_if = 1,\n\t\t.ep_audio_r = 0x86,\n\t\t.ep_audio_w = 0x02,\n\t},\n\t[LINE6_PODHDDESKTOP] = {\n\t\t.id = \"PODHDDESKTOP\",\n\t\t.name = \"POD HDDESKTOP\",\n\t\t.capabilities    = LINE6_CAP_CONTROL\n\t\t\t| LINE6_CAP_PCM | LINE6_CAP_HWMON,\n\t\t.altsetting = 1,\n\t\t.ep_ctrl_r = 0x81,\n\t\t.ep_ctrl_w = 0x01,\n\t\t.ctrl_if = 1,\n\t\t.ep_audio_r = 0x86,\n\t\t.ep_audio_w = 0x02,\n\t},\n};\n\n \nstatic int podhd_probe(struct usb_interface *interface,\n\t\t       const struct usb_device_id *id)\n{\n\treturn line6_probe(interface, id, \"Line6-PODHD\",\n\t\t\t   &podhd_properties_table[id->driver_info],\n\t\t\t   podhd_init, sizeof(struct usb_line6_podhd));\n}\n\nstatic struct usb_driver podhd_driver = {\n\t.name = KBUILD_MODNAME,\n\t.probe = podhd_probe,\n\t.disconnect = line6_disconnect,\n#ifdef CONFIG_PM\n\t.suspend = line6_suspend,\n\t.resume = line6_resume,\n\t.reset_resume = line6_resume,\n#endif\n\t.id_table = podhd_id_table,\n};\n\nmodule_usb_driver(podhd_driver);\n\nMODULE_DESCRIPTION(\"Line 6 PODHD USB driver\");\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}