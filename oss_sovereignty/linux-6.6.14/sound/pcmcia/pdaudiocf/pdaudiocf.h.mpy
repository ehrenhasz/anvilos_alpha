{
  "module_name": "pdaudiocf.h",
  "hash_id": "4c4af7ca4e4a3e2a6c5a7db9a67900365a06a22dcfd182436092ff956f42bbd7",
  "original_prompt": "Ingested from linux-6.6.14/sound/pcmcia/pdaudiocf/pdaudiocf.h",
  "human_readable_source": " \n \n\n#ifndef __PDAUDIOCF_H\n#define __PDAUDIOCF_H\n\n#include <sound/pcm.h>\n#include <linux/io.h>\n#include <linux/interrupt.h>\n#include <pcmcia/cistpl.h>\n#include <pcmcia/ds.h>\n\n#include <sound/ak4117.h>\n\n \n#define PDAUDIOCF_REG_MD\t0x00\t \n#define PDAUDIOCF_REG_WDP\t0x02\t \n#define PDAUDIOCF_REG_RDP\t0x04\t \n#define PDAUDIOCF_REG_TCR\t0x06\t \n#define PDAUDIOCF_REG_SCR\t0x08\t \n#define PDAUDIOCF_REG_ISR\t0x0a\t \n#define PDAUDIOCF_REG_IER\t0x0c\t \n#define PDAUDIOCF_REG_AK_IFR\t0x0e\t \n\n \n#define PDAUDIOCF_ELIMAKMBIT\t(1<<0)\t \n#define PDAUDIOCF_TESTDATASEL\t(1<<1)\t \n\n \n#define PDAUDIOCF_AK_SBP\t(1<<0)\t \n#define PDAUDIOCF_RST\t\t(1<<2)\t \n#define PDAUDIOCF_PDN\t\t(1<<3)\t \n#define PDAUDIOCF_CLKDIV0\t(1<<4)\t \n#define PDAUDIOCF_CLKDIV1\t(1<<5)\n#define PDAUDIOCF_RECORD\t(1<<6)\t \n#define PDAUDIOCF_AK_SDD\t(1<<7)\t \n#define PDAUDIOCF_RED_LED_OFF\t(1<<8)\t \n#define PDAUDIOCF_BLUE_LED_OFF\t(1<<9)\t \n#define PDAUDIOCF_DATAFMT0\t(1<<10)\t \n#define PDAUDIOCF_DATAFMT1\t(1<<11)\t \n#define PDAUDIOCF_FPGAREV(x)\t((x>>12)&0x0f)  \n\n \n#define PDAUDIOCF_IRQLVL\t(1<<0)\t \n#define PDAUDIOCF_IRQOVR\t(1<<1)\t \n#define PDAUDIOCF_IRQAKM\t(1<<2)\t \n\n \n#define PDAUDIOCF_IRQLVLEN0\t(1<<0)\t \n#define PDAUDIOCF_IRQLVLEN1\t(1<<1)\t \n#define PDAUDIOCF_IRQOVREN\t(1<<2)\t \n#define PDAUDIOCF_IRQAKMEN\t(1<<3)\t \n#define PDAUDIOCF_BLUEDUTY0\t(1<<8)\t \n#define PDAUDIOCF_BLUEDUTY1\t(1<<9)\t \n#define PDAUDIOCF_REDDUTY0\t(1<<10)\t \n#define PDAUDIOCF_REDDUTY1\t(1<<11)\t \n#define PDAUDIOCF_BLUESDD\t(1<<12)\t \n#define PDAUDIOCF_BLUEMODULATE\t(1<<13)\t \n#define PDAUDIOCF_REDMODULATE\t(1<<14)\t \n#define PDAUDIOCF_HALFRATE\t(1<<15)\t \n\n \n#define PDAUDIOCF_STAT_IS_STALE\t(1<<0)\n#define PDAUDIOCF_STAT_IS_CONFIGURED (1<<1)\n#define PDAUDIOCF_STAT_IS_SUSPENDED (1<<2)\n\nstruct snd_pdacf {\n\tstruct snd_card *card;\n\tint index;\n\n\tunsigned long port;\n\tint irq;\n\n\tstruct mutex reg_lock;\n\tunsigned short regmap[8];\n\tunsigned short suspend_reg_scr;\n\n\tspinlock_t ak4117_lock;\n\tstruct ak4117 *ak4117;\n\n\tunsigned int chip_status;\n\n\tstruct snd_pcm *pcm;\n\tstruct snd_pcm_substream *pcm_substream;\n\tunsigned int pcm_running: 1;\n\tunsigned int pcm_channels;\n\tunsigned int pcm_swab;\n\tunsigned int pcm_little;\n\tunsigned int pcm_frame;\n\tunsigned int pcm_sample;\n\tunsigned int pcm_xor;\n\tunsigned int pcm_size;\n\tunsigned int pcm_period;\n\tunsigned int pcm_tdone;\n\tunsigned int pcm_hwptr;\n\tvoid *pcm_area;\n\t\n\t \n\tstruct pcmcia_device\t*p_dev;\n};\n\nstatic inline void pdacf_reg_write(struct snd_pdacf *chip, unsigned char reg, unsigned short val)\n{\n\toutw(chip->regmap[reg>>1] = val, chip->port + reg);\n}\n\nstatic inline unsigned short pdacf_reg_read(struct snd_pdacf *chip, unsigned char reg)\n{\n\treturn inw(chip->port + reg);\n}\n\nstruct snd_pdacf *snd_pdacf_create(struct snd_card *card);\nint snd_pdacf_ak4117_create(struct snd_pdacf *pdacf);\nvoid snd_pdacf_powerdown(struct snd_pdacf *chip);\n#ifdef CONFIG_PM\nint snd_pdacf_suspend(struct snd_pdacf *chip);\nint snd_pdacf_resume(struct snd_pdacf *chip);\n#endif\nint snd_pdacf_pcm_new(struct snd_pdacf *chip);\nirqreturn_t pdacf_interrupt(int irq, void *dev);\nirqreturn_t pdacf_threaded_irq(int irq, void *dev);\nvoid pdacf_reinit(struct snd_pdacf *chip, int resume);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}