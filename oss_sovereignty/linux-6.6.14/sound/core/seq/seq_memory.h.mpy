{
  "module_name": "seq_memory.h",
  "hash_id": "6d5d1632380700f5bef4cf2583df135480a7519e2fedf3df1fe02ca6307cf12d",
  "original_prompt": "Ingested from linux-6.6.14/sound/core/seq/seq_memory.h",
  "human_readable_source": " \n \n#ifndef __SND_SEQ_MEMORYMGR_H\n#define __SND_SEQ_MEMORYMGR_H\n\n#include <sound/seq_kernel.h>\n#include <linux/poll.h>\n\nstruct snd_info_buffer;\n\n \nunion __snd_seq_event {\n\tstruct snd_seq_event legacy;\n#if IS_ENABLED(CONFIG_SND_SEQ_UMP)\n\tstruct snd_seq_ump_event ump;\n#endif\n\tstruct {\n\t\tstruct snd_seq_event event;\n#if IS_ENABLED(CONFIG_SND_SEQ_UMP)\n\t\tu32 extra;\n#endif\n\t} __packed raw;\n};\n\n \nstruct snd_seq_event_cell {\n\tunion {\n\t\tstruct snd_seq_event event;\n\t\tunion __snd_seq_event ump;\n\t};\n\tstruct snd_seq_pool *pool;\t\t\t\t \n\tstruct snd_seq_event_cell *next;\t \n};\n\n \n\nstruct snd_seq_pool {\n\tstruct snd_seq_event_cell *ptr;\t \n\tstruct snd_seq_event_cell *free;\t \n\n\tint total_elements;\t \n\tatomic_t counter;\t \n\n\tint size;\t\t \n\tint room;\t\t \n\n\tint closing;\n\n\t \n\tint max_used;\n\tint event_alloc_nopool;\n\tint event_alloc_failures;\n\tint event_alloc_success;\n\n\t \n\twait_queue_head_t output_sleep;\n\n\t \n\tspinlock_t lock;\n};\n\nvoid snd_seq_cell_free(struct snd_seq_event_cell *cell);\n\nint snd_seq_event_dup(struct snd_seq_pool *pool, struct snd_seq_event *event,\n\t\t      struct snd_seq_event_cell **cellp, int nonblock,\n\t\t      struct file *file, struct mutex *mutexp);\n\n \nstatic inline int snd_seq_unused_cells(struct snd_seq_pool *pool)\n{\n\treturn pool ? pool->total_elements - atomic_read(&pool->counter) : 0;\n}\n\n \nstatic inline int snd_seq_total_cells(struct snd_seq_pool *pool)\n{\n\treturn pool ? pool->total_elements : 0;\n}\n\n \nint snd_seq_pool_init(struct snd_seq_pool *pool);\n\n \nvoid snd_seq_pool_mark_closing(struct snd_seq_pool *pool);\nint snd_seq_pool_done(struct snd_seq_pool *pool);\n\n \nstruct snd_seq_pool *snd_seq_pool_new(int poolsize);\n\n \nint snd_seq_pool_delete(struct snd_seq_pool **pool);\n\n \nint snd_seq_pool_poll_wait(struct snd_seq_pool *pool, struct file *file, poll_table *wait);\n\nvoid snd_seq_info_pool(struct snd_info_buffer *buffer,\n\t\t       struct snd_seq_pool *pool, char *space);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}