{
  "module_name": "seq_oss_device.h",
  "hash_id": "45664e22b5a4d416d7828f15b99a65db71b30ce6e49f62dc598a4443ef1a9b95",
  "original_prompt": "Ingested from linux-6.6.14/sound/core/seq/oss/seq_oss_device.h",
  "human_readable_source": " \n \n\n#ifndef __SEQ_OSS_DEVICE_H\n#define __SEQ_OSS_DEVICE_H\n\n#include <linux/time.h>\n#include <linux/wait.h>\n#include <linux/slab.h>\n#include <linux/sched/signal.h>\n#include <sound/core.h>\n#include <sound/seq_oss.h>\n#include <sound/rawmidi.h>\n#include <sound/seq_kernel.h>\n#include <sound/info.h>\n#include \"../seq_clientmgr.h\"\n\n \n#define SNDRV_SEQ_OSS_MAX_CLIENTS\t16\n#define SNDRV_SEQ_OSS_MAX_SYNTH_DEVS\t16\n#define SNDRV_SEQ_OSS_MAX_MIDI_DEVS\t32\n\n \n#define SNDRV_SEQ_OSS_MAJOR_VERSION\t0\n#define SNDRV_SEQ_OSS_MINOR_VERSION\t1\n#define SNDRV_SEQ_OSS_TINY_VERSION\t8\n#define SNDRV_SEQ_OSS_VERSION_STR\t\"0.1.8\"\n\n \n#define SNDRV_SEQ_OSS_PROCNAME\t\t\"oss\"\n\n\n \n\ntypedef unsigned int reltime_t;\ntypedef unsigned int abstime_t;\n\n\n \nstruct seq_oss_chinfo {\n\tint note, vel;\n};\n\n \nstruct seq_oss_synthinfo {\n\tstruct snd_seq_oss_arg arg;\n\tstruct seq_oss_chinfo *ch;\n\tstruct seq_oss_synth_sysex *sysex;\n\tint nr_voices;\n\tint opened;\n\tint is_midi;\n\tint midi_mapped;\n};\n\n\n \n\nstruct seq_oss_devinfo {\n\n\tint index;\t \n\tint cseq;\t \n\tint port;\t \n\tint queue;\t \n\n\tstruct snd_seq_addr addr;\t \n\n\tint seq_mode;\t \n\tint file_mode;\t \n\n\t \n\tint max_mididev;\n\n\t \n\tint max_synthdev;\n\tstruct seq_oss_synthinfo synths[SNDRV_SEQ_OSS_MAX_SYNTH_DEVS];\n\tint synth_opened;\n\n\t \n\tstruct seq_oss_writeq *writeq;\n\n\t \n\tstruct seq_oss_readq *readq;\n\n\t \n\tstruct seq_oss_timer *timer;\n};\n\n\n \n\n \nint snd_seq_oss_create_client(void);\nint snd_seq_oss_delete_client(void);\n\n \nint snd_seq_oss_open(struct file *file, int level);\nvoid snd_seq_oss_release(struct seq_oss_devinfo *dp);\nint snd_seq_oss_ioctl(struct seq_oss_devinfo *dp, unsigned int cmd, unsigned long arg);\nint snd_seq_oss_read(struct seq_oss_devinfo *dev, char __user *buf, int count);\nint snd_seq_oss_write(struct seq_oss_devinfo *dp, const char __user *buf, int count, struct file *opt);\n__poll_t snd_seq_oss_poll(struct seq_oss_devinfo *dp, struct file *file, poll_table * wait);\n\nvoid snd_seq_oss_reset(struct seq_oss_devinfo *dp);\n\n \nvoid snd_seq_oss_process_queue(struct seq_oss_devinfo *dp, abstime_t time);\n\n\n \nvoid snd_seq_oss_system_info_read(struct snd_info_buffer *buf);\nvoid snd_seq_oss_midi_info_read(struct snd_info_buffer *buf);\nvoid snd_seq_oss_synth_info_read(struct snd_info_buffer *buf);\nvoid snd_seq_oss_readq_info_read(struct seq_oss_readq *q, struct snd_info_buffer *buf);\n\n \n#define is_read_mode(mode)\t((mode) & SNDRV_SEQ_OSS_FILE_READ)\n#define is_write_mode(mode)\t((mode) & SNDRV_SEQ_OSS_FILE_WRITE)\n#define is_nonblock_mode(mode)\t((mode) & SNDRV_SEQ_OSS_FILE_NONBLOCK)\n\n \nstatic inline int\nsnd_seq_oss_dispatch(struct seq_oss_devinfo *dp, struct snd_seq_event *ev, int atomic, int hop)\n{\n\treturn snd_seq_kernel_client_dispatch(dp->cseq, ev, atomic, hop);\n}\n\n \nstatic inline int\nsnd_seq_oss_control(struct seq_oss_devinfo *dp, unsigned int type, void *arg)\n{\n\tint err;\n\n\tsnd_seq_client_ioctl_lock(dp->cseq);\n\terr = snd_seq_kernel_client_ctl(dp->cseq, type, arg);\n\tsnd_seq_client_ioctl_unlock(dp->cseq);\n\treturn err;\n}\n\n \nstatic inline void\nsnd_seq_oss_fill_addr(struct seq_oss_devinfo *dp, struct snd_seq_event *ev,\n\t\t     int dest_client, int dest_port)\n{\n\tev->queue = dp->queue;\n\tev->source = dp->addr;\n\tev->dest.client = dest_client;\n\tev->dest.port = dest_port;\n}\n\n\n \nchar *enabled_str(int bool);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}