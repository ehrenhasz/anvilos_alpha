{
  "module_name": "pcm_trace.h",
  "hash_id": "ff438f4b6b7c5347512de1e82c844dd8cffa3fc4cdbbf31d9a0d47152be8abb7",
  "original_prompt": "Ingested from linux-6.6.14/sound/core/pcm_trace.h",
  "human_readable_source": " \n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM snd_pcm\n#define TRACE_INCLUDE_FILE pcm_trace\n\n#if !defined(_PCM_TRACE_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _PCM_TRACE_H\n\n#include <linux/tracepoint.h>\n\nTRACE_EVENT(hwptr,\n\tTP_PROTO(struct snd_pcm_substream *substream, snd_pcm_uframes_t pos, bool irq),\n\tTP_ARGS(substream, pos, irq),\n\tTP_STRUCT__entry(\n\t\t__field( bool, in_interrupt )\n\t\t__field( unsigned int, card )\n\t\t__field( unsigned int, device )\n\t\t__field( unsigned int, number )\n\t\t__field( unsigned int, stream )\n\t\t__field( snd_pcm_uframes_t, pos )\n\t\t__field( snd_pcm_uframes_t, period_size )\n\t\t__field( snd_pcm_uframes_t, buffer_size )\n\t\t__field( snd_pcm_uframes_t, old_hw_ptr )\n\t\t__field( snd_pcm_uframes_t, hw_ptr_base )\n\t),\n\tTP_fast_assign(\n\t\t__entry->in_interrupt = (irq);\n\t\t__entry->card = (substream)->pcm->card->number;\n\t\t__entry->device = (substream)->pcm->device;\n\t\t__entry->number = (substream)->number;\n\t\t__entry->stream = (substream)->stream;\n\t\t__entry->pos = (pos);\n\t\t__entry->period_size = (substream)->runtime->period_size;\n\t\t__entry->buffer_size = (substream)->runtime->buffer_size;\n\t\t__entry->old_hw_ptr = (substream)->runtime->status->hw_ptr;\n\t\t__entry->hw_ptr_base = (substream)->runtime->hw_ptr_base;\n\t),\n\tTP_printk(\"pcmC%dD%d%s/sub%d: %s: pos=%lu, old=%lu, base=%lu, period=%lu, buf=%lu\",\n\t\t  __entry->card, __entry->device,\n\t\t  __entry->stream == SNDRV_PCM_STREAM_PLAYBACK ? \"p\" : \"c\",\n\t\t  __entry->number,\n\t\t  __entry->in_interrupt ? \"IRQ\" : \"POS\",\n\t\t  (unsigned long)__entry->pos,\n\t\t  (unsigned long)__entry->old_hw_ptr,\n\t\t  (unsigned long)__entry->hw_ptr_base,\n\t\t  (unsigned long)__entry->period_size,\n\t\t  (unsigned long)__entry->buffer_size)\n);\n\nTRACE_EVENT(xrun,\n\tTP_PROTO(struct snd_pcm_substream *substream),\n\tTP_ARGS(substream),\n\tTP_STRUCT__entry(\n\t\t__field( unsigned int, card )\n\t\t__field( unsigned int, device )\n\t\t__field( unsigned int, number )\n\t\t__field( unsigned int, stream )\n\t\t__field( snd_pcm_uframes_t, period_size )\n\t\t__field( snd_pcm_uframes_t, buffer_size )\n\t\t__field( snd_pcm_uframes_t, old_hw_ptr )\n\t\t__field( snd_pcm_uframes_t, hw_ptr_base )\n\t),\n\tTP_fast_assign(\n\t\t__entry->card = (substream)->pcm->card->number;\n\t\t__entry->device = (substream)->pcm->device;\n\t\t__entry->number = (substream)->number;\n\t\t__entry->stream = (substream)->stream;\n\t\t__entry->period_size = (substream)->runtime->period_size;\n\t\t__entry->buffer_size = (substream)->runtime->buffer_size;\n\t\t__entry->old_hw_ptr = (substream)->runtime->status->hw_ptr;\n\t\t__entry->hw_ptr_base = (substream)->runtime->hw_ptr_base;\n\t),\n\tTP_printk(\"pcmC%dD%d%s/sub%d: XRUN: old=%lu, base=%lu, period=%lu, buf=%lu\",\n\t\t  __entry->card, __entry->device,\n\t\t  __entry->stream == SNDRV_PCM_STREAM_PLAYBACK ? \"p\" : \"c\",\n\t\t  __entry->number,\n\t\t  (unsigned long)__entry->old_hw_ptr,\n\t\t  (unsigned long)__entry->hw_ptr_base,\n\t\t  (unsigned long)__entry->period_size,\n\t\t  (unsigned long)__entry->buffer_size)\n);\n\nTRACE_EVENT(hw_ptr_error,\n\tTP_PROTO(struct snd_pcm_substream *substream, const char *why),\n\tTP_ARGS(substream, why),\n\tTP_STRUCT__entry(\n\t\t__field( unsigned int, card )\n\t\t__field( unsigned int, device )\n\t\t__field( unsigned int, number )\n\t\t__field( unsigned int, stream )\n\t\t__string( reason, why )\n\t),\n\tTP_fast_assign(\n\t\t__entry->card = (substream)->pcm->card->number;\n\t\t__entry->device = (substream)->pcm->device;\n\t\t__entry->number = (substream)->number;\n\t\t__entry->stream = (substream)->stream;\n\t\t__assign_str(reason, why);\n\t),\n\tTP_printk(\"pcmC%dD%d%s/sub%d: ERROR: %s\",\n\t\t  __entry->card, __entry->device,\n\t\t  __entry->stream == SNDRV_PCM_STREAM_PLAYBACK ? \"p\" : \"c\",\n\t\t  __entry->number, __get_str(reason))\n);\n\nTRACE_EVENT(applptr,\n\tTP_PROTO(struct snd_pcm_substream *substream, snd_pcm_uframes_t prev, snd_pcm_uframes_t curr),\n\tTP_ARGS(substream, prev, curr),\n\tTP_STRUCT__entry(\n\t\t__field( unsigned int, card )\n\t\t__field( unsigned int, device )\n\t\t__field( unsigned int, number )\n\t\t__field( unsigned int, stream )\n\t\t__field( snd_pcm_uframes_t, prev )\n\t\t__field( snd_pcm_uframes_t, curr )\n\t\t__field( snd_pcm_uframes_t, avail )\n\t\t__field( snd_pcm_uframes_t, period_size )\n\t\t__field( snd_pcm_uframes_t, buffer_size )\n\t),\n\tTP_fast_assign(\n\t\t__entry->card = (substream)->pcm->card->number;\n\t\t__entry->device = (substream)->pcm->device;\n\t\t__entry->number = (substream)->number;\n\t\t__entry->stream = (substream)->stream;\n\t\t__entry->prev = (prev);\n\t\t__entry->curr = (curr);\n\t\t__entry->avail = (substream)->stream ? snd_pcm_capture_avail(substream->runtime) : snd_pcm_playback_avail(substream->runtime);\n\t\t__entry->period_size = (substream)->runtime->period_size;\n\t\t__entry->buffer_size = (substream)->runtime->buffer_size;\n\t),\n\tTP_printk(\"pcmC%dD%d%s/sub%d: prev=%lu, curr=%lu, avail=%lu, period=%lu, buf=%lu\",\n\t\t__entry->card,\n\t\t__entry->device,\n\t\t__entry->stream ? \"c\" : \"p\",\n\t\t__entry->number,\n\t\t__entry->prev,\n\t\t__entry->curr,\n\t\t__entry->avail,\n\t\t__entry->period_size,\n\t\t__entry->buffer_size\n\t)\n);\n\n#endif  \n\n \n#undef TRACE_INCLUDE_PATH\n#define TRACE_INCLUDE_PATH .\n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}