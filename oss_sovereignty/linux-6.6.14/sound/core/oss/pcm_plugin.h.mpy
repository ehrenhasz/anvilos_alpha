{
  "module_name": "pcm_plugin.h",
  "hash_id": "adc1fd8274b627d0faa76a6d2780f102cb6d979065db549f50af3c980fd153d4",
  "original_prompt": "Ingested from linux-6.6.14/sound/core/oss/pcm_plugin.h",
  "human_readable_source": " \n#ifndef __PCM_PLUGIN_H\n#define __PCM_PLUGIN_H\n\n \n\n#ifdef CONFIG_SND_PCM_OSS_PLUGINS\n\n#define snd_pcm_plug_stream(plug) ((plug)->stream)\n\nenum snd_pcm_plugin_action {\n\tINIT = 0,\n\tPREPARE = 1,\n};\n\nstruct snd_pcm_channel_area {\n\tvoid *addr;\t\t\t \n\tunsigned int first;\t\t \n\tunsigned int step;\t\t \n};\n\nstruct snd_pcm_plugin_channel {\n\tvoid *aptr;\t\t\t \n\tstruct snd_pcm_channel_area area;\n\tsnd_pcm_uframes_t frames;\t \n\tunsigned int enabled:1;\t\t \n\tunsigned int wanted:1;\t\t \n};\n\nstruct snd_pcm_plugin_format {\n\tsnd_pcm_format_t format;\n\tunsigned int rate;\n\tunsigned int channels;\n};\n\nstruct snd_pcm_plugin {\n\tconst char *name;\t\t \n\tint stream;\n\tstruct snd_pcm_plugin_format src_format;\t \n\tstruct snd_pcm_plugin_format dst_format;\t \n\tint src_width;\t\t\t \n\tint dst_width;\t\t\t \n\tsnd_pcm_access_t access;\n\tsnd_pcm_sframes_t (*src_frames)(struct snd_pcm_plugin *plugin, snd_pcm_uframes_t dst_frames);\n\tsnd_pcm_sframes_t (*dst_frames)(struct snd_pcm_plugin *plugin, snd_pcm_uframes_t src_frames);\n\tsnd_pcm_sframes_t (*client_channels)(struct snd_pcm_plugin *plugin,\n\t\t\t\t\t     snd_pcm_uframes_t frames,\n\t\t\t\t\t     struct snd_pcm_plugin_channel **channels);\n\tsnd_pcm_sframes_t (*transfer)(struct snd_pcm_plugin *plugin,\n\t\t\t\t      const struct snd_pcm_plugin_channel *src_channels,\n\t\t\t\t      struct snd_pcm_plugin_channel *dst_channels,\n\t\t\t\t      snd_pcm_uframes_t frames);\n\tint (*action)(struct snd_pcm_plugin *plugin,\n\t\t      enum snd_pcm_plugin_action action,\n\t\t      unsigned long data);\n\tstruct snd_pcm_plugin *prev;\n\tstruct snd_pcm_plugin *next;\n\tstruct snd_pcm_substream *plug;\n\tvoid *private_data;\n\tvoid (*private_free)(struct snd_pcm_plugin *plugin);\n\tchar *buf;\n\tsnd_pcm_uframes_t buf_frames;\n\tstruct snd_pcm_plugin_channel *buf_channels;\n\tchar extra_data[];\n};\n\nint snd_pcm_plugin_build(struct snd_pcm_substream *handle,\n                         const char *name,\n                         struct snd_pcm_plugin_format *src_format,\n                         struct snd_pcm_plugin_format *dst_format,\n                         size_t extra,\n                         struct snd_pcm_plugin **ret);\nint snd_pcm_plugin_free(struct snd_pcm_plugin *plugin);\nint snd_pcm_plugin_clear(struct snd_pcm_plugin **first);\nint snd_pcm_plug_alloc(struct snd_pcm_substream *plug, snd_pcm_uframes_t frames);\nsnd_pcm_sframes_t snd_pcm_plug_client_size(struct snd_pcm_substream *handle, snd_pcm_uframes_t drv_size);\nsnd_pcm_sframes_t snd_pcm_plug_slave_size(struct snd_pcm_substream *handle, snd_pcm_uframes_t clt_size);\n\n#define FULL ROUTE_PLUGIN_RESOLUTION\n#define HALF ROUTE_PLUGIN_RESOLUTION / 2\n\nint snd_pcm_plugin_build_io(struct snd_pcm_substream *handle,\n\t\t\t    struct snd_pcm_hw_params *params,\n\t\t\t    struct snd_pcm_plugin **r_plugin);\nint snd_pcm_plugin_build_linear(struct snd_pcm_substream *handle,\n\t\t\t\tstruct snd_pcm_plugin_format *src_format,\n\t\t\t\tstruct snd_pcm_plugin_format *dst_format,\n\t\t\t\tstruct snd_pcm_plugin **r_plugin);\nint snd_pcm_plugin_build_mulaw(struct snd_pcm_substream *handle,\n\t\t\t       struct snd_pcm_plugin_format *src_format,\n\t\t\t       struct snd_pcm_plugin_format *dst_format,\n\t\t\t       struct snd_pcm_plugin **r_plugin);\nint snd_pcm_plugin_build_rate(struct snd_pcm_substream *handle,\n\t\t\t      struct snd_pcm_plugin_format *src_format,\n\t\t\t      struct snd_pcm_plugin_format *dst_format,\n\t\t\t      struct snd_pcm_plugin **r_plugin);\nint snd_pcm_plugin_build_route(struct snd_pcm_substream *handle,\n\t\t\t       struct snd_pcm_plugin_format *src_format,\n\t\t\t       struct snd_pcm_plugin_format *dst_format,\n\t\t               struct snd_pcm_plugin **r_plugin);\nint snd_pcm_plugin_build_copy(struct snd_pcm_substream *handle,\n\t\t\t      struct snd_pcm_plugin_format *src_format,\n\t\t\t      struct snd_pcm_plugin_format *dst_format,\n\t\t\t      struct snd_pcm_plugin **r_plugin);\n\nint snd_pcm_plug_format_plugins(struct snd_pcm_substream *substream,\n\t\t\t\tstruct snd_pcm_hw_params *params,\n\t\t\t\tstruct snd_pcm_hw_params *slave_params);\n\nsnd_pcm_format_t snd_pcm_plug_slave_format(snd_pcm_format_t format,\n\t\t\t\t\t   const struct snd_mask *format_mask);\n\nint snd_pcm_plugin_append(struct snd_pcm_plugin *plugin);\n\nsnd_pcm_sframes_t snd_pcm_plug_write_transfer(struct snd_pcm_substream *handle,\n\t\t\t\t\t      struct snd_pcm_plugin_channel *src_channels,\n\t\t\t\t\t      snd_pcm_uframes_t size);\nsnd_pcm_sframes_t snd_pcm_plug_read_transfer(struct snd_pcm_substream *handle,\n\t\t\t\t\t     struct snd_pcm_plugin_channel *dst_channels_final,\n\t\t\t\t\t     snd_pcm_uframes_t size);\n\nsnd_pcm_sframes_t snd_pcm_plug_client_channels_buf(struct snd_pcm_substream *handle,\n\t\t\t\t\t\t   char *buf, snd_pcm_uframes_t count,\n\t\t\t\t\t\t   struct snd_pcm_plugin_channel **channels);\n\nsnd_pcm_sframes_t snd_pcm_plugin_client_channels(struct snd_pcm_plugin *plugin,\n\t\t\t\t\t\t snd_pcm_uframes_t frames,\n\t\t\t\t\t\t struct snd_pcm_plugin_channel **channels);\n\nint snd_pcm_area_silence(const struct snd_pcm_channel_area *dst_channel,\n\t\t\t size_t dst_offset,\n\t\t\t size_t samples, snd_pcm_format_t format);\nint snd_pcm_area_copy(const struct snd_pcm_channel_area *src_channel,\n\t\t      size_t src_offset,\n\t\t      const struct snd_pcm_channel_area *dst_channel,\n\t\t      size_t dst_offset,\n\t\t      size_t samples, snd_pcm_format_t format);\n\nvoid *snd_pcm_plug_buf_alloc(struct snd_pcm_substream *plug, snd_pcm_uframes_t size);\nvoid snd_pcm_plug_buf_unlock(struct snd_pcm_substream *plug, void *ptr);\n#else\n\nstatic inline snd_pcm_sframes_t snd_pcm_plug_client_size(struct snd_pcm_substream *handle, snd_pcm_uframes_t drv_size) { return drv_size; }\nstatic inline snd_pcm_sframes_t snd_pcm_plug_slave_size(struct snd_pcm_substream *handle, snd_pcm_uframes_t clt_size) { return clt_size; }\nstatic inline int snd_pcm_plug_slave_format(int format, const struct snd_mask *format_mask) { return format; }\n\n#endif\n\nsnd_pcm_sframes_t snd_pcm_oss_write3(struct snd_pcm_substream *substream,\n\t\t\t\t     const char *ptr, snd_pcm_uframes_t size,\n\t\t\t\t     int in_kernel);\nsnd_pcm_sframes_t snd_pcm_oss_read3(struct snd_pcm_substream *substream,\n\t\t\t\t    char *ptr, snd_pcm_uframes_t size, int in_kernel);\nsnd_pcm_sframes_t snd_pcm_oss_writev3(struct snd_pcm_substream *substream,\n\t\t\t\t      void **bufs, snd_pcm_uframes_t frames);\nsnd_pcm_sframes_t snd_pcm_oss_readv3(struct snd_pcm_substream *substream,\n\t\t\t\t     void **bufs, snd_pcm_uframes_t frames);\n\n#ifdef PLUGIN_DEBUG\n#define pdprintf(fmt, args...) printk(KERN_DEBUG \"plugin: \" fmt, ##args)\n#else\n#define pdprintf(fmt, args...)\n#endif\n\n#endif\t\t\t\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}