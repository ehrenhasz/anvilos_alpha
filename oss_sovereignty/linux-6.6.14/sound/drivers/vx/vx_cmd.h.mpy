{
  "module_name": "vx_cmd.h",
  "hash_id": "3a67f9895e2868d38ea428485a811368776c4fc49d60b9587f7a9160196c85b1",
  "original_prompt": "Ingested from linux-6.6.14/sound/drivers/vx/vx_cmd.h",
  "human_readable_source": " \n \n\n#ifndef __VX_CMD_H\n#define __VX_CMD_H\n\nenum {\n\tCMD_VERSION,\n\tCMD_SUPPORTED,\n\tCMD_TEST_IT,\n\tCMD_SEND_IRQA,\n\tCMD_IBL,\n\tCMD_ASYNC,\n\tCMD_RES_PIPE,\n\tCMD_FREE_PIPE,\n\tCMD_CONF_PIPE,\n\tCMD_ABORT_CONF_PIPE,\n\tCMD_PARAM_OUTPUT_PIPE,\n\tCMD_STOP_PIPE,\n\tCMD_PIPE_STATE,\n\tCMD_PIPE_SPL_COUNT,\n\tCMD_CAN_START_PIPE,\n\tCMD_SIZE_HBUFFER,\n\tCMD_START_STREAM,\n\tCMD_START_ONE_STREAM,\n\tCMD_PAUSE_STREAM,\n\tCMD_PAUSE_ONE_STREAM,\n\tCMD_STREAM_OUT_LEVEL_ADJUST,\n\tCMD_STOP_STREAM,\n\tCMD_FORMAT_STREAM_OUT,\n\tCMD_FORMAT_STREAM_IN,\n\tCMD_GET_STREAM_STATE,\n\tCMD_DROP_BYTES_AWAY,\n\tCMD_GET_REMAINING_BYTES,\n\tCMD_CONNECT_AUDIO,\n\tCMD_AUDIO_LEVEL_ADJUST,\n\tCMD_AUDIO_VU_PIC_METER,\n\tCMD_GET_AUDIO_LEVELS,\n\tCMD_GET_NOTIFY_EVENT,\n\tCMD_INFO_NOTIFIED,\n\tCMD_ACCESS_IO_FCT,\n\tCMD_STATUS_R_BUFFERS,\n\tCMD_UPDATE_R_BUFFERS,\n\tCMD_LOAD_EFFECT_CONTEXT,\n\tCMD_EFFECT_ONE_PIPE,\n\tCMD_MODIFY_CLOCK,\n\tCMD_STREAM1_OUT_SET_N_LEVELS,\n\tCMD_PURGE_STREAM_DCMDS,\n\tCMD_NOTIFY_PIPE_TIME,\n\tCMD_LOAD_EFFECT_CONTEXT_PACKET,\n\tCMD_RELIC_R_BUFFER,\n\tCMD_RESYNC_AUDIO_INPUTS,\n\tCMD_NOTIFY_STREAM_TIME,\n\tCMD_STREAM_SAMPLE_COUNT,\n\tCMD_CONFIG_TIME_CODE,\n\tCMD_GET_TIME_CODE,\n\tCMD_MANAGE_SIGNAL,\n\tCMD_PARAMETER_STREAM_OUT,\n\tCMD_READ_BOARD_FREQ,\n\tCMD_GET_STREAM_LEVELS,\n\tCMD_PURGE_PIPE_DCMDS,\n\t\n\t\n\tCMD_CONNECT_MONITORING,\n\tCMD_STREAM2_OUT_SET_N_LEVELS,\n\tCMD_CANCEL_R_BUFFERS,\n\tCMD_NOTIFY_END_OF_BUFFER,\n\tCMD_GET_STREAM_VU_METER,\n\tCMD_LAST_INDEX\n};\n\nstruct vx_cmd_info {\n\tunsigned int opcode;\t \n\tint length;\t\t \n\tint st_type;\t\t \n\tint st_length;\t\t \n};\n\n \n#define CODE_OP_PIPE_TIME                       0x004e0000\n#define CODE_OP_START_STREAM                    0x00800000\n#define CODE_OP_PAUSE_STREAM                    0x00810000\n#define CODE_OP_OUT_STREAM_LEVEL                0x00820000\n#define CODE_OP_UPDATE_R_BUFFERS                0x00840000\n#define CODE_OP_OUT_STREAM1_LEVEL_CURVE         0x00850000\n#define CODE_OP_OUT_STREAM2_LEVEL_CURVE         0x00930000\n#define CODE_OP_OUT_STREAM_FORMAT               0x00860000\n#define CODE_OP_STREAM_TIME                     0x008f0000\n#define CODE_OP_OUT_STREAM_EXTRAPARAMETER       0x00910000\n#define CODE_OP_OUT_AUDIO_LEVEL                 0x00c20000\n\n#define NOTIFY_LAST_COMMAND     0x00400000\n\n \n#define DC_DIFFERED_DELAY       (1<<BIT_DIFFERED_COMMAND)\n#define DC_NOTIFY_DELAY         (1<<BIT_NOTIFIED_COMMAND)\n#define DC_HBUFFER_DELAY        (1<<BIT_TIME_RELATIVE_TO_BUFFER)\n#define DC_MULTIPLE_DELAY       (1<<BIT_RESERVED)\n#define DC_STREAM_TIME_DELAY    (1<<BIT_STREAM_TIME)\n#define DC_CANCELLED_DELAY      (1<<BIT_CANCELLED_COMMAND)\n\n \n#define BIT_DIFFERED_COMMAND                0\n#define BIT_NOTIFIED_COMMAND                1\n#define BIT_TIME_RELATIVE_TO_BUFFER         2\n#define BIT_RESERVED                        3\n#define BIT_STREAM_TIME                     4\n#define BIT_CANCELLED_COMMAND               5\n\n \n#define GET_NOTIFY_EVENT_SIZE_FIELD_MASK    0x000000ff\n\n \n#define OPCODE_MASK                 0x00ff0000\n#define DSP_DIFFERED_COMMAND_MASK   0x0000C000\n\n \n#define ALL_CMDS_NOTIFIED                   0x0000  \n#define START_STREAM_NOTIFIED               0x0001\n#define PAUSE_STREAM_NOTIFIED               0x0002\n#define OUT_STREAM_LEVEL_NOTIFIED           0x0003\n#define OUT_STREAM_PARAMETER_NOTIFIED       0x0004  \n#define OUT_STREAM_FORMAT_NOTIFIED          0x0004\n#define PIPE_TIME_NOTIFIED                  0x0005\n#define OUT_AUDIO_LEVEL_NOTIFIED            0x0006\n#define OUT_STREAM_LEVEL_CURVE_NOTIFIED     0x0007\n#define STREAM_TIME_NOTIFIED                0x0008\n#define OUT_STREAM_EXTRAPARAMETER_NOTIFIED  0x0009\n#define UNKNOWN_COMMAND_NOTIFIED            0xffff\n\n \n#define MASK_VALID_PIPE_MPEG_PARAM      0x000040\n#define MASK_VALID_PIPE_BACKWARD_PARAM  0x000020\n#define MASK_SET_PIPE_MPEG_PARAM        0x000002\n#define MASK_SET_PIPE_BACKWARD_PARAM    0x000001\n\n#define MASK_DSP_WORD           0x00FFFFFF\n#define MASK_ALL_STREAM         0x00FFFFFF\n#define MASK_DSP_WORD_LEVEL     0x000001FF\n#define MASK_FIRST_FIELD        0x0000001F\n#define FIELD_SIZE              5\n\n#define COMMAND_RECORD_MASK     0x000800\n\n \n#define P_UNDERRUN_SKIP_SOUND_MASK\t\t\t\t0x01\n#define P_PREPARE_FOR_MPEG3_MASK\t\t\t\t0x02\n#define P_DO_NOT_RESET_ANALOG_LEVELS\t\t\t0x04\n#define P_ALLOW_UNDER_ALLOCATION_MASK\t\t\t0x08\n#define P_DATA_MODE_MASK\t\t\t\t0x10\n#define P_ASIO_BUFFER_MANAGEMENT_MASK\t\t\t0x20\n\n#define BIT_SKIP_SOUND\t\t\t\t\t0x08\t\n#define BIT_DATA_MODE\t\t\t\t\t0x10\t\n    \n \n#define CMD_MODIFY_CLOCK_FD_BIT     0x00000001\n#define CMD_MODIFY_CLOCK_T_BIT      0x00000002\n#define CMD_MODIFY_CLOCK_S_BIT      0x00000004\n\n \n#define TIME_CODE_V_MASK            0x00800000\n#define TIME_CODE_N_MASK            0x00400000\n#define TIME_CODE_B_MASK            0x00200000\n#define TIME_CODE_W_MASK            0x00100000\n\n \n#define MANAGE_SIGNAL_TIME_CODE     0x01\n#define MANAGE_SIGNAL_MIDI          0x02\n\n \n#define CONFIG_TIME_CODE_CANCEL     0x00001000\n    \n \n#define PCX_TIME_HI_MASK        0x000fffff\n\n \n#define HBUFFER_TIME_HIGH       0x00200000\n#define HBUFFER_TIME_LOW        0x00000000\n\n#define NOTIFY_MASK_TIME_HIGH   0x00400000\n#define MULTIPLE_MASK_TIME_HIGH 0x00100000\n#define STREAM_MASK_TIME_HIGH   0x00800000\n\n\n \nvoid vx_init_rmh(struct vx_rmh *rmh, unsigned int cmd);\n\n \nstatic inline void vx_set_pipe_cmd_params(struct vx_rmh *rmh, int is_capture,\n\t\t\t\t\t  int param1, int param2)\n{\n\tif (is_capture)\n\t\trmh->Cmd[0] |= COMMAND_RECORD_MASK;\n\trmh->Cmd[0] |= (((u32)param1 & MASK_FIRST_FIELD) << FIELD_SIZE) & MASK_DSP_WORD;\n\t\t\n\tif (param2)\n\t\trmh->Cmd[0] |= ((u32)param2 & MASK_FIRST_FIELD) & MASK_DSP_WORD;\n\t\n}\n\n \nstatic inline void vx_set_stream_cmd_params(struct vx_rmh *rmh, int is_capture, int pipe)\n{\n\tif (is_capture)\n\t\trmh->Cmd[0] |= COMMAND_RECORD_MASK;\n\trmh->Cmd[0] |= (((u32)pipe & MASK_FIRST_FIELD) << FIELD_SIZE) & MASK_DSP_WORD;\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}