{
  "module_name": "gus_io.c",
  "hash_id": "84aa30fa295d9a89dc24698bc4817cc3ede6e840f4af27bc6048e46ccdeedcdb",
  "original_prompt": "Ingested from linux-6.6.14/sound/isa/gus/gus_io.c",
  "human_readable_source": "\n \n\n#include <linux/delay.h>\n#include <linux/time.h>\n#include <sound/core.h>\n#include <sound/gus.h>\n\nvoid snd_gf1_delay(struct snd_gus_card * gus)\n{\n\tint i;\n\n\tfor (i = 0; i < 6; i++) {\n\t\tmb();\n\t\tinb(GUSP(gus, DRAM));\n\t}\n}\n\n \n\n \n\nstatic inline void __snd_gf1_ctrl_stop(struct snd_gus_card * gus, unsigned char reg)\n{\n\tunsigned char value;\n\n\toutb(reg | 0x80, gus->gf1.reg_regsel);\n\tmb();\n\tvalue = inb(gus->gf1.reg_data8);\n\tmb();\n\toutb(reg, gus->gf1.reg_regsel);\n\tmb();\n\toutb((value | 0x03) & ~(0x80 | 0x20), gus->gf1.reg_data8);\n\tmb();\n}\n\nstatic inline void __snd_gf1_write8(struct snd_gus_card * gus,\n\t\t\t\t    unsigned char reg,\n\t\t\t\t    unsigned char data)\n{\n\toutb(reg, gus->gf1.reg_regsel);\n\tmb();\n\toutb(data, gus->gf1.reg_data8);\n\tmb();\n}\n\nstatic inline unsigned char __snd_gf1_look8(struct snd_gus_card * gus,\n\t\t\t\t\t    unsigned char reg)\n{\n\toutb(reg, gus->gf1.reg_regsel);\n\tmb();\n\treturn inb(gus->gf1.reg_data8);\n}\n\nstatic inline void __snd_gf1_write16(struct snd_gus_card * gus,\n\t\t\t\t     unsigned char reg, unsigned int data)\n{\n\toutb(reg, gus->gf1.reg_regsel);\n\tmb();\n\toutw((unsigned short) data, gus->gf1.reg_data16);\n\tmb();\n}\n\nstatic inline unsigned short __snd_gf1_look16(struct snd_gus_card * gus,\n\t\t\t\t\t      unsigned char reg)\n{\n\toutb(reg, gus->gf1.reg_regsel);\n\tmb();\n\treturn inw(gus->gf1.reg_data16);\n}\n\nstatic inline void __snd_gf1_adlib_write(struct snd_gus_card * gus,\n\t\t\t\t\t unsigned char reg, unsigned char data)\n{\n\toutb(reg, gus->gf1.reg_timerctrl);\n\tinb(gus->gf1.reg_timerctrl);\n\tinb(gus->gf1.reg_timerctrl);\n\toutb(data, gus->gf1.reg_timerdata);\n\tinb(gus->gf1.reg_timerctrl);\n\tinb(gus->gf1.reg_timerctrl);\n}\n\nstatic inline void __snd_gf1_write_addr(struct snd_gus_card * gus, unsigned char reg,\n                                        unsigned int addr, int w_16bit)\n{\n\tif (gus->gf1.enh_mode) {\n\t\tif (w_16bit)\n\t\t\taddr = ((addr >> 1) & ~0x0000000f) | (addr & 0x0000000f);\n\t\t__snd_gf1_write8(gus, SNDRV_GF1_VB_UPPER_ADDRESS, (unsigned char) ((addr >> 26) & 0x03));\n\t} else if (w_16bit)\n\t\taddr = (addr & 0x00c0000f) | ((addr & 0x003ffff0) >> 1);\n\t__snd_gf1_write16(gus, reg, (unsigned short) (addr >> 11));\n\t__snd_gf1_write16(gus, reg + 1, (unsigned short) (addr << 5));\n}\n\nstatic inline unsigned int __snd_gf1_read_addr(struct snd_gus_card * gus,\n\t\t\t\t\t       unsigned char reg, short w_16bit)\n{\n\tunsigned int res;\n\n\tres = ((unsigned int) __snd_gf1_look16(gus, reg | 0x80) << 11) & 0xfff800;\n\tres |= ((unsigned int) __snd_gf1_look16(gus, (reg + 1) | 0x80) >> 5) & 0x0007ff;\n\tif (gus->gf1.enh_mode) {\n\t\tres |= (unsigned int) __snd_gf1_look8(gus, SNDRV_GF1_VB_UPPER_ADDRESS | 0x80) << 26;\n\t\tif (w_16bit)\n\t\t\tres = ((res << 1) & 0xffffffe0) | (res & 0x0000000f);\n\t} else if (w_16bit)\n\t\tres = ((res & 0x001ffff0) << 1) | (res & 0x00c0000f);\n\treturn res;\n}\n\n\n \n\nvoid snd_gf1_ctrl_stop(struct snd_gus_card * gus, unsigned char reg)\n{\n\t__snd_gf1_ctrl_stop(gus, reg);\n}\n\nvoid snd_gf1_write8(struct snd_gus_card * gus,\n\t\t    unsigned char reg,\n\t\t    unsigned char data)\n{\n\t__snd_gf1_write8(gus, reg, data);\n}\n\nunsigned char snd_gf1_look8(struct snd_gus_card * gus, unsigned char reg)\n{\n\treturn __snd_gf1_look8(gus, reg);\n}\n\nvoid snd_gf1_write16(struct snd_gus_card * gus,\n\t\t     unsigned char reg,\n\t\t     unsigned int data)\n{\n\t__snd_gf1_write16(gus, reg, data);\n}\n\nunsigned short snd_gf1_look16(struct snd_gus_card * gus, unsigned char reg)\n{\n\treturn __snd_gf1_look16(gus, reg);\n}\n\nvoid snd_gf1_adlib_write(struct snd_gus_card * gus,\n                         unsigned char reg,\n                         unsigned char data)\n{\n\t__snd_gf1_adlib_write(gus, reg, data);\n}\n\nvoid snd_gf1_write_addr(struct snd_gus_card * gus, unsigned char reg,\n                        unsigned int addr, short w_16bit)\n{\n\t__snd_gf1_write_addr(gus, reg, addr, w_16bit);\n}\n\nunsigned int snd_gf1_read_addr(struct snd_gus_card * gus,\n                               unsigned char reg,\n                               short w_16bit)\n{\n\treturn __snd_gf1_read_addr(gus, reg, w_16bit);\n}\n\n \n\nvoid snd_gf1_i_ctrl_stop(struct snd_gus_card * gus, unsigned char reg)\n{\n\tunsigned long flags;\n\n\tspin_lock_irqsave(&gus->reg_lock, flags);\n\t__snd_gf1_ctrl_stop(gus, reg);\n\tspin_unlock_irqrestore(&gus->reg_lock, flags);\n}\n\nvoid snd_gf1_i_write8(struct snd_gus_card * gus,\n\t\t      unsigned char reg,\n                      unsigned char data)\n{\n\tunsigned long flags;\n\n\tspin_lock_irqsave(&gus->reg_lock, flags);\n\t__snd_gf1_write8(gus, reg, data);\n\tspin_unlock_irqrestore(&gus->reg_lock, flags);\n}\n\nunsigned char snd_gf1_i_look8(struct snd_gus_card * gus, unsigned char reg)\n{\n\tunsigned long flags;\n\tunsigned char res;\n\n\tspin_lock_irqsave(&gus->reg_lock, flags);\n\tres = __snd_gf1_look8(gus, reg);\n\tspin_unlock_irqrestore(&gus->reg_lock, flags);\n\treturn res;\n}\n\nvoid snd_gf1_i_write16(struct snd_gus_card * gus,\n\t\t       unsigned char reg,\n\t\t       unsigned int data)\n{\n\tunsigned long flags;\n\n\tspin_lock_irqsave(&gus->reg_lock, flags);\n\t__snd_gf1_write16(gus, reg, data);\n\tspin_unlock_irqrestore(&gus->reg_lock, flags);\n}\n\nunsigned short snd_gf1_i_look16(struct snd_gus_card * gus, unsigned char reg)\n{\n\tunsigned long flags;\n\tunsigned short res;\n\n\tspin_lock_irqsave(&gus->reg_lock, flags);\n\tres = __snd_gf1_look16(gus, reg);\n\tspin_unlock_irqrestore(&gus->reg_lock, flags);\n\treturn res;\n}\n\n#if 0\n\nvoid snd_gf1_i_adlib_write(struct snd_gus_card * gus,\n\t\t           unsigned char reg,\n\t\t           unsigned char data)\n{\n\tunsigned long flags;\n\n\tspin_lock_irqsave(&gus->reg_lock, flags);\n\t__snd_gf1_adlib_write(gus, reg, data);\n\tspin_unlock_irqrestore(&gus->reg_lock, flags);\n}\n\nvoid snd_gf1_i_write_addr(struct snd_gus_card * gus, unsigned char reg,\n\t\t\t  unsigned int addr, short w_16bit)\n{\n\tunsigned long flags;\n\n\tspin_lock_irqsave(&gus->reg_lock, flags);\n\t__snd_gf1_write_addr(gus, reg, addr, w_16bit);\n\tspin_unlock_irqrestore(&gus->reg_lock, flags);\n}\n\n#endif   \n\n#ifdef CONFIG_SND_DEBUG\nstatic unsigned int snd_gf1_i_read_addr(struct snd_gus_card * gus,\n\t\t\t\t\tunsigned char reg, short w_16bit)\n{\n\tunsigned int res;\n\tunsigned long flags;\n\n\tspin_lock_irqsave(&gus->reg_lock, flags);\n\tres = __snd_gf1_read_addr(gus, reg, w_16bit);\n\tspin_unlock_irqrestore(&gus->reg_lock, flags);\n\treturn res;\n}\n#endif\n\n \n\nvoid snd_gf1_dram_addr(struct snd_gus_card * gus, unsigned int addr)\n{\n\toutb(0x43, gus->gf1.reg_regsel);\n\tmb();\n\toutw((unsigned short) addr, gus->gf1.reg_data16);\n\tmb();\n\toutb(0x44, gus->gf1.reg_regsel);\n\tmb();\n\toutb((unsigned char) (addr >> 16), gus->gf1.reg_data8);\n\tmb();\n}\n\nvoid snd_gf1_poke(struct snd_gus_card * gus, unsigned int addr, unsigned char data)\n{\n\tunsigned long flags;\n\n\tspin_lock_irqsave(&gus->reg_lock, flags);\n\toutb(SNDRV_GF1_GW_DRAM_IO_LOW, gus->gf1.reg_regsel);\n\tmb();\n\toutw((unsigned short) addr, gus->gf1.reg_data16);\n\tmb();\n\toutb(SNDRV_GF1_GB_DRAM_IO_HIGH, gus->gf1.reg_regsel);\n\tmb();\n\toutb((unsigned char) (addr >> 16), gus->gf1.reg_data8);\n\tmb();\n\toutb(data, gus->gf1.reg_dram);\n\tspin_unlock_irqrestore(&gus->reg_lock, flags);\n}\n\nunsigned char snd_gf1_peek(struct snd_gus_card * gus, unsigned int addr)\n{\n\tunsigned long flags;\n\tunsigned char res;\n\n\tspin_lock_irqsave(&gus->reg_lock, flags);\n\toutb(SNDRV_GF1_GW_DRAM_IO_LOW, gus->gf1.reg_regsel);\n\tmb();\n\toutw((unsigned short) addr, gus->gf1.reg_data16);\n\tmb();\n\toutb(SNDRV_GF1_GB_DRAM_IO_HIGH, gus->gf1.reg_regsel);\n\tmb();\n\toutb((unsigned char) (addr >> 16), gus->gf1.reg_data8);\n\tmb();\n\tres = inb(gus->gf1.reg_dram);\n\tspin_unlock_irqrestore(&gus->reg_lock, flags);\n\treturn res;\n}\n\n#if 0\n\nvoid snd_gf1_pokew(struct snd_gus_card * gus, unsigned int addr, unsigned short data)\n{\n\tunsigned long flags;\n\n#ifdef CONFIG_SND_DEBUG\n\tif (!gus->interwave)\n\t\tsnd_printk(KERN_DEBUG \"snd_gf1_pokew - GF1!!!\\n\");\n#endif\n\tspin_lock_irqsave(&gus->reg_lock, flags);\n\toutb(SNDRV_GF1_GW_DRAM_IO_LOW, gus->gf1.reg_regsel);\n\tmb();\n\toutw((unsigned short) addr, gus->gf1.reg_data16);\n\tmb();\n\toutb(SNDRV_GF1_GB_DRAM_IO_HIGH, gus->gf1.reg_regsel);\n\tmb();\n\toutb((unsigned char) (addr >> 16), gus->gf1.reg_data8);\n\tmb();\n\toutb(SNDRV_GF1_GW_DRAM_IO16, gus->gf1.reg_regsel);\n\tmb();\n\toutw(data, gus->gf1.reg_data16);\n\tspin_unlock_irqrestore(&gus->reg_lock, flags);\n}\n\nunsigned short snd_gf1_peekw(struct snd_gus_card * gus, unsigned int addr)\n{\n\tunsigned long flags;\n\tunsigned short res;\n\n#ifdef CONFIG_SND_DEBUG\n\tif (!gus->interwave)\n\t\tsnd_printk(KERN_DEBUG \"snd_gf1_peekw - GF1!!!\\n\");\n#endif\n\tspin_lock_irqsave(&gus->reg_lock, flags);\n\toutb(SNDRV_GF1_GW_DRAM_IO_LOW, gus->gf1.reg_regsel);\n\tmb();\n\toutw((unsigned short) addr, gus->gf1.reg_data16);\n\tmb();\n\toutb(SNDRV_GF1_GB_DRAM_IO_HIGH, gus->gf1.reg_regsel);\n\tmb();\n\toutb((unsigned char) (addr >> 16), gus->gf1.reg_data8);\n\tmb();\n\toutb(SNDRV_GF1_GW_DRAM_IO16, gus->gf1.reg_regsel);\n\tmb();\n\tres = inw(gus->gf1.reg_data16);\n\tspin_unlock_irqrestore(&gus->reg_lock, flags);\n\treturn res;\n}\n\nvoid snd_gf1_dram_setmem(struct snd_gus_card * gus, unsigned int addr,\n\t\t\t unsigned short value, unsigned int count)\n{\n\tunsigned long port;\n\tunsigned long flags;\n\n#ifdef CONFIG_SND_DEBUG\n\tif (!gus->interwave)\n\t\tsnd_printk(KERN_DEBUG \"snd_gf1_dram_setmem - GF1!!!\\n\");\n#endif\n\taddr &= ~1;\n\tcount >>= 1;\n\tport = GUSP(gus, GF1DATALOW);\n\tspin_lock_irqsave(&gus->reg_lock, flags);\n\toutb(SNDRV_GF1_GW_DRAM_IO_LOW, gus->gf1.reg_regsel);\n\tmb();\n\toutw((unsigned short) addr, gus->gf1.reg_data16);\n\tmb();\n\toutb(SNDRV_GF1_GB_DRAM_IO_HIGH, gus->gf1.reg_regsel);\n\tmb();\n\toutb((unsigned char) (addr >> 16), gus->gf1.reg_data8);\n\tmb();\n\toutb(SNDRV_GF1_GW_DRAM_IO16, gus->gf1.reg_regsel);\n\twhile (count--)\n\t\toutw(value, port);\n\tspin_unlock_irqrestore(&gus->reg_lock, flags);\n}\n\n#endif   \n\nvoid snd_gf1_select_active_voices(struct snd_gus_card * gus)\n{\n\tunsigned short voices;\n\n\tstatic const unsigned short voices_tbl[32 - 14 + 1] =\n\t{\n\t    44100, 41160, 38587, 36317, 34300, 32494, 30870, 29400, 28063, 26843,\n\t    25725, 24696, 23746, 22866, 22050, 21289, 20580, 19916, 19293\n\t};\n\n\tvoices = gus->gf1.active_voices;\n\tif (voices > 32)\n\t\tvoices = 32;\n\tif (voices < 14)\n\t\tvoices = 14;\n\tif (gus->gf1.enh_mode)\n\t\tvoices = 32;\n\tgus->gf1.active_voices = voices;\n\tgus->gf1.playback_freq =\n\t    gus->gf1.enh_mode ? 44100 : voices_tbl[voices - 14];\n\tif (!gus->gf1.enh_mode) {\n\t\tsnd_gf1_i_write8(gus, SNDRV_GF1_GB_ACTIVE_VOICES, 0xc0 | (voices - 1));\n\t\tudelay(100);\n\t}\n}\n\n#ifdef CONFIG_SND_DEBUG\n\nvoid snd_gf1_print_voice_registers(struct snd_gus_card * gus)\n{\n\tunsigned char mode;\n\tint voice, ctrl;\n\n\tvoice = gus->gf1.active_voice;\n\tprintk(KERN_INFO \" -%i- GF1  voice ctrl, ramp ctrl  = 0x%x, 0x%x\\n\", voice, ctrl = snd_gf1_i_read8(gus, 0), snd_gf1_i_read8(gus, 0x0d));\n\tprintk(KERN_INFO \" -%i- GF1  frequency              = 0x%x\\n\", voice, snd_gf1_i_read16(gus, 1));\n\tprintk(KERN_INFO \" -%i- GF1  loop start, end        = 0x%x (0x%x), 0x%x (0x%x)\\n\", voice, snd_gf1_i_read_addr(gus, 2, ctrl & 4), snd_gf1_i_read_addr(gus, 2, (ctrl & 4) ^ 4), snd_gf1_i_read_addr(gus, 4, ctrl & 4), snd_gf1_i_read_addr(gus, 4, (ctrl & 4) ^ 4));\n\tprintk(KERN_INFO \" -%i- GF1  ramp start, end, rate  = 0x%x, 0x%x, 0x%x\\n\", voice, snd_gf1_i_read8(gus, 7), snd_gf1_i_read8(gus, 8), snd_gf1_i_read8(gus, 6));\n\tprintk(KERN_INFO\" -%i- GF1  volume                 = 0x%x\\n\", voice, snd_gf1_i_read16(gus, 9));\n\tprintk(KERN_INFO \" -%i- GF1  position               = 0x%x (0x%x)\\n\", voice, snd_gf1_i_read_addr(gus, 0x0a, ctrl & 4), snd_gf1_i_read_addr(gus, 0x0a, (ctrl & 4) ^ 4));\n\tif (gus->interwave && snd_gf1_i_read8(gus, 0x19) & 0x01) {\t \n\t\tmode = snd_gf1_i_read8(gus, 0x15);\n\t\tprintk(KERN_INFO \" -%i- GFA1 mode                   = 0x%x\\n\", voice, mode);\n\t\tif (mode & 0x01) {\t \n\t\t\tprintk(KERN_INFO \" -%i- GFA1 effect address         = 0x%x\\n\", voice, snd_gf1_i_read_addr(gus, 0x11, ctrl & 4));\n\t\t\tprintk(KERN_INFO \" -%i- GFA1 effect volume          = 0x%x\\n\", voice, snd_gf1_i_read16(gus, 0x16));\n\t\t\tprintk(KERN_INFO \" -%i- GFA1 effect volume final    = 0x%x\\n\", voice, snd_gf1_i_read16(gus, 0x1d));\n\t\t\tprintk(KERN_INFO \" -%i- GFA1 effect accumulator     = 0x%x\\n\", voice, snd_gf1_i_read8(gus, 0x14));\n\t\t}\n\t\tif (mode & 0x20) {\n\t\t\tprintk(KERN_INFO \" -%i- GFA1 left offset            = 0x%x (%i)\\n\", voice, snd_gf1_i_read16(gus, 0x13), snd_gf1_i_read16(gus, 0x13) >> 4);\n\t\t\tprintk(KERN_INFO \" -%i- GFA1 left offset final      = 0x%x (%i)\\n\", voice, snd_gf1_i_read16(gus, 0x1c), snd_gf1_i_read16(gus, 0x1c) >> 4);\n\t\t\tprintk(KERN_INFO \" -%i- GFA1 right offset           = 0x%x (%i)\\n\", voice, snd_gf1_i_read16(gus, 0x0c), snd_gf1_i_read16(gus, 0x0c) >> 4);\n\t\t\tprintk(KERN_INFO \" -%i- GFA1 right offset final     = 0x%x (%i)\\n\", voice, snd_gf1_i_read16(gus, 0x1b), snd_gf1_i_read16(gus, 0x1b) >> 4);\n\t\t} else\n\t\t\tprintk(KERN_INFO \" -%i- GF1  pan                    = 0x%x\\n\", voice, snd_gf1_i_read8(gus, 0x0c));\n\t} else\n\t\tprintk(KERN_INFO \" -%i- GF1  pan                    = 0x%x\\n\", voice, snd_gf1_i_read8(gus, 0x0c));\n}\n\n#if 0\n\nvoid snd_gf1_print_global_registers(struct snd_gus_card * gus)\n{\n\tunsigned char global_mode = 0x00;\n\n\tprintk(KERN_INFO \" -G- GF1 active voices            = 0x%x\\n\", snd_gf1_i_look8(gus, SNDRV_GF1_GB_ACTIVE_VOICES));\n\tif (gus->interwave) {\n\t\tglobal_mode = snd_gf1_i_read8(gus, SNDRV_GF1_GB_GLOBAL_MODE);\n\t\tprintk(KERN_INFO \" -G- GF1 global mode              = 0x%x\\n\", global_mode);\n\t}\n\tif (global_mode & 0x02)\t \n\t\tprintk(KERN_INFO \" -G- GF1 LFO base                 = 0x%x\\n\", snd_gf1_i_look16(gus, SNDRV_GF1_GW_LFO_BASE));\n\tprintk(KERN_INFO \" -G- GF1 voices IRQ read          = 0x%x\\n\", snd_gf1_i_look8(gus, SNDRV_GF1_GB_VOICES_IRQ_READ));\n\tprintk(KERN_INFO \" -G- GF1 DRAM DMA control         = 0x%x\\n\", snd_gf1_i_look8(gus, SNDRV_GF1_GB_DRAM_DMA_CONTROL));\n\tprintk(KERN_INFO \" -G- GF1 DRAM DMA high/low        = 0x%x/0x%x\\n\", snd_gf1_i_look8(gus, SNDRV_GF1_GB_DRAM_DMA_HIGH), snd_gf1_i_read16(gus, SNDRV_GF1_GW_DRAM_DMA_LOW));\n\tprintk(KERN_INFO \" -G- GF1 DRAM IO high/low         = 0x%x/0x%x\\n\", snd_gf1_i_look8(gus, SNDRV_GF1_GB_DRAM_IO_HIGH), snd_gf1_i_read16(gus, SNDRV_GF1_GW_DRAM_IO_LOW));\n\tif (!gus->interwave)\n\t\tprintk(KERN_INFO \" -G- GF1 record DMA control       = 0x%x\\n\", snd_gf1_i_look8(gus, SNDRV_GF1_GB_REC_DMA_CONTROL));\n\tprintk(KERN_INFO \" -G- GF1 DRAM IO 16               = 0x%x\\n\", snd_gf1_i_look16(gus, SNDRV_GF1_GW_DRAM_IO16));\n\tif (gus->gf1.enh_mode) {\n\t\tprintk(KERN_INFO \" -G- GFA1 memory config           = 0x%x\\n\", snd_gf1_i_look16(gus, SNDRV_GF1_GW_MEMORY_CONFIG));\n\t\tprintk(KERN_INFO \" -G- GFA1 memory control          = 0x%x\\n\", snd_gf1_i_look8(gus, SNDRV_GF1_GB_MEMORY_CONTROL));\n\t\tprintk(KERN_INFO \" -G- GFA1 FIFO record base        = 0x%x\\n\", snd_gf1_i_look16(gus, SNDRV_GF1_GW_FIFO_RECORD_BASE_ADDR));\n\t\tprintk(KERN_INFO \" -G- GFA1 FIFO playback base      = 0x%x\\n\", snd_gf1_i_look16(gus, SNDRV_GF1_GW_FIFO_PLAY_BASE_ADDR));\n\t\tprintk(KERN_INFO \" -G- GFA1 interleave control      = 0x%x\\n\", snd_gf1_i_look16(gus, SNDRV_GF1_GW_INTERLEAVE));\n\t}\n}\n\nvoid snd_gf1_print_setup_registers(struct snd_gus_card * gus)\n{\n\tprintk(KERN_INFO \" -S- mix control                  = 0x%x\\n\", inb(GUSP(gus, MIXCNTRLREG)));\n\tprintk(KERN_INFO \" -S- IRQ status                   = 0x%x\\n\", inb(GUSP(gus, IRQSTAT)));\n\tprintk(KERN_INFO \" -S- timer control                = 0x%x\\n\", inb(GUSP(gus, TIMERCNTRL)));\n\tprintk(KERN_INFO \" -S- timer data                   = 0x%x\\n\", inb(GUSP(gus, TIMERDATA)));\n\tprintk(KERN_INFO \" -S- status read                  = 0x%x\\n\", inb(GUSP(gus, REGCNTRLS)));\n\tprintk(KERN_INFO \" -S- Sound Blaster control        = 0x%x\\n\", snd_gf1_i_look8(gus, SNDRV_GF1_GB_SOUND_BLASTER_CONTROL));\n\tprintk(KERN_INFO \" -S- AdLib timer 1/2              = 0x%x/0x%x\\n\", snd_gf1_i_look8(gus, SNDRV_GF1_GB_ADLIB_TIMER_1), snd_gf1_i_look8(gus, SNDRV_GF1_GB_ADLIB_TIMER_2));\n\tprintk(KERN_INFO \" -S- reset                        = 0x%x\\n\", snd_gf1_i_look8(gus, SNDRV_GF1_GB_RESET));\n\tif (gus->interwave) {\n\t\tprintk(KERN_INFO \" -S- compatibility                = 0x%x\\n\", snd_gf1_i_look8(gus, SNDRV_GF1_GB_COMPATIBILITY));\n\t\tprintk(KERN_INFO \" -S- decode control               = 0x%x\\n\", snd_gf1_i_look8(gus, SNDRV_GF1_GB_DECODE_CONTROL));\n\t\tprintk(KERN_INFO \" -S- version number               = 0x%x\\n\", snd_gf1_i_look8(gus, SNDRV_GF1_GB_VERSION_NUMBER));\n\t\tprintk(KERN_INFO \" -S- MPU-401 emul. control A/B    = 0x%x/0x%x\\n\", snd_gf1_i_look8(gus, SNDRV_GF1_GB_MPU401_CONTROL_A), snd_gf1_i_look8(gus, SNDRV_GF1_GB_MPU401_CONTROL_B));\n\t\tprintk(KERN_INFO \" -S- emulation IRQ                = 0x%x\\n\", snd_gf1_i_look8(gus, SNDRV_GF1_GB_EMULATION_IRQ));\n\t}\n}\n\nvoid snd_gf1_peek_print_block(struct snd_gus_card * gus, unsigned int addr, int count, int w_16bit)\n{\n\tif (!w_16bit) {\n\t\twhile (count-- > 0)\n\t\t\tprintk(count > 0 ? \"%02x:\" : \"%02x\", snd_gf1_peek(gus, addr++));\n\t} else {\n\t\twhile (count-- > 0) {\n\t\t\tprintk(count > 0 ? \"%04x:\" : \"%04x\", snd_gf1_peek(gus, addr) | (snd_gf1_peek(gus, addr + 1) << 8));\n\t\t\taddr += 2;\n\t\t}\n\t}\n}\n\n#endif   \n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}