{
  "module_name": "snd_ps3.h",
  "hash_id": "9313ab3d0acaf805a6939058b0f491cfef4357a2158d4196c3f209429c220273",
  "original_prompt": "Ingested from linux-6.6.14/sound/ppc/snd_ps3.h",
  "human_readable_source": " \n \n\n#if !defined(_SND_PS3_H_)\n#define _SND_PS3_H_\n\n#include <linux/irqreturn.h>\n\n#define SND_PS3_DRIVER_NAME \"snd_ps3\"\n\nenum snd_ps3_out_channel {\n\tSND_PS3_OUT_SPDIF_0,\n\tSND_PS3_OUT_SPDIF_1,\n\tSND_PS3_OUT_SERIAL_0,\n\tSND_PS3_OUT_DEVS\n};\n\nenum snd_ps3_dma_filltype {\n\tSND_PS3_DMA_FILLTYPE_FIRSTFILL,\n\tSND_PS3_DMA_FILLTYPE_RUNNING,\n\tSND_PS3_DMA_FILLTYPE_SILENT_FIRSTFILL,\n\tSND_PS3_DMA_FILLTYPE_SILENT_RUNNING\n};\n\nenum snd_ps3_ch {\n\tSND_PS3_CH_L = 0,\n\tSND_PS3_CH_R = 1,\n\tSND_PS3_CH_MAX = 2\n};\n\nstruct snd_ps3_avsetting_info {\n\tuint32_t avs_audio_ch;      \n\tuint32_t avs_audio_rate;\n\tuint32_t avs_audio_width;\n\tuint32_t avs_audio_format;  \n\tuint32_t avs_audio_source;  \n\tunsigned char avs_cs_info[8];\n};\n \nstruct snd_ps3_card_info {\n\tstruct ps3_system_bus_device *ps3_dev;\n\tstruct snd_card *card;\n\n\tstruct snd_pcm *pcm;\n\tstruct snd_pcm_substream *substream;\n\n\t \n\tu64 audio_lpar_addr;\n\tu64 audio_lpar_size;\n\n\t \n\tvoid __iomem *mapped_mmio_vaddr;\n\n\t \n\tu64 audio_irq_outlet;\n\tunsigned int irq_no;\n\n\t \n\tstruct snd_ps3_avsetting_info avs;\n\n\t \n\tspinlock_t dma_lock;\n\t\t \n\t\tvoid * dma_start_vaddr[2];  \n\t\tdma_addr_t dma_start_bus_addr[2];\n\t\tsize_t dma_buffer_size;\n\t\tvoid * dma_last_transfer_vaddr[2];\n\t\tvoid * dma_next_transfer_vaddr[2];\n\t\tint    silent;\n\t\t \n\n\tint running;\n\n\t \n\tvoid *null_buffer_start_vaddr;\n\tdma_addr_t null_buffer_start_dma_addr;\n\n\t \n\tunsigned int start_delay;\n\n};\n\n\n \n#define PS3_AUDIO_DMAC_BLOCK_SIZE (128)\n \n#define PS3_AUDIO_FIFO_STAGE_SIZE (256)\n \n#define PS3_AUDIO_FIFO_STAGE_COUNT (8)\n \n#define PS3_AUDIO_FIFO_SIZE \\\n\t(PS3_AUDIO_FIFO_STAGE_SIZE * PS3_AUDIO_FIFO_STAGE_COUNT)\n\n \n#define PS3_AUDIO_DMAC_MAX_BLOCKS  (PS3_AUDIO_DMASIZE_BLOCKS_MASK + 1)\n\n#define PS3_AUDIO_NORMAL_DMA_START_CH (0)\n#define PS3_AUDIO_NORMAL_DMA_COUNT    (8)\n#define PS3_AUDIO_NULL_DMA_START_CH \\\n\t(PS3_AUDIO_NORMAL_DMA_START_CH + PS3_AUDIO_NORMAL_DMA_COUNT)\n#define PS3_AUDIO_NULL_DMA_COUNT      (2)\n\n#define SND_PS3_MAX_VOL (0x0F)\n#define SND_PS3_MIN_VOL (0x00)\n#define SND_PS3_MIN_ATT SND_PS3_MIN_VOL\n#define SND_PS3_MAX_ATT SND_PS3_MAX_VOL\n\n#define SND_PS3_PCM_PREALLOC_SIZE \\\n\t(PS3_AUDIO_DMAC_BLOCK_SIZE * PS3_AUDIO_DMAC_MAX_BLOCKS * 4)\n\n#define SND_PS3_DMA_REGION_SIZE \\\n\t(SND_PS3_PCM_PREALLOC_SIZE + PAGE_SIZE)\n\n#define PS3_AUDIO_IOID       (1UL)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}