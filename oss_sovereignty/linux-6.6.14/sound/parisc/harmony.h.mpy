{
  "module_name": "harmony.h",
  "hash_id": "d4f1054ebeb9f90c91170c4cab64bf40f29eb45fcf0ba576830599537e28aedc",
  "original_prompt": "Ingested from linux-6.6.14/sound/parisc/harmony.h",
  "human_readable_source": " \n \n\n#ifndef __HARMONY_H__\n#define __HARMONY_H__\n\nstruct harmony_buffer {\n        unsigned long addr;\n        int buf;\n        int count;\n        int size;\n        int coherent;\n};\n\nstruct snd_harmony {\n        int irq;\n\n        unsigned long hpa;  \n        void __iomem *iobase;  \n\n        struct parisc_device *dev;\n\n        struct {\n                u32 gain;\n                u32 rate;\n                u32 format;\n                u32 stereo;\n\t\tint playing;\n\t\tint capturing;\n        } st;\n\n        struct snd_dma_device dma;  \n        struct harmony_buffer pbuf;\n\tstruct harmony_buffer cbuf;\n\n        struct snd_dma_buffer gdma;  \n        struct snd_dma_buffer sdma;  \n\n        struct {\n                unsigned long play_intr;\n\t        unsigned long rec_intr;\n                unsigned long graveyard_intr;\n                unsigned long silence_intr;\n        } stats;\n\n        struct snd_pcm *pcm;\n        struct snd_card *card;\n        struct snd_pcm_substream *psubs;\n\tstruct snd_pcm_substream *csubs;\n        struct snd_info_entry *proc;\n\n        spinlock_t lock;\n        spinlock_t mixer_lock;\n};\n\n#define MAX_PCM_DEVICES     1\n#define MAX_PCM_SUBSTREAMS  4\n#define MAX_MIDI_DEVICES    0\n\n#define HARMONY_SIZE       64\n\n#define BUF_SIZE     PAGE_SIZE\n#define MAX_BUFS     16\n#define MAX_BUF_SIZE (MAX_BUFS * BUF_SIZE)\n\n#define PLAYBACK_BUFS    MAX_BUFS\n#define RECORD_BUFS      MAX_BUFS\n#define GRAVEYARD_BUFS   1\n#define GRAVEYARD_BUFSZ  (GRAVEYARD_BUFS*BUF_SIZE)\n#define SILENCE_BUFS     1\n#define SILENCE_BUFSZ    (SILENCE_BUFS*BUF_SIZE)\n\n#define HARMONY_ID       0x000\n#define HARMONY_RESET    0x004\n#define HARMONY_CNTL     0x008\n#define HARMONY_GAINCTL  0x00c\n#define HARMONY_PNXTADD  0x010\n#define HARMONY_PCURADD  0x014\n#define HARMONY_RNXTADD  0x018\n#define HARMONY_RCURADD  0x01c\n#define HARMONY_DSTATUS  0x020\n#define HARMONY_OV       0x024\n#define HARMONY_PIO      0x028\n#define HARMONY_DIAG     0x03c\n\n#define HARMONY_CNTL_C          0x80000000\n#define HARMONY_CNTL_ST         0x00000020\n#define HARMONY_CNTL_44100      0x00000015       \n#define HARMONY_CNTL_8000       0x00000008       \n\n#define HARMONY_DSTATUS_ID      0x00000000  \n#define HARMONY_DSTATUS_PN      0x00000200  \n#define HARMONY_DSTATUS_RN      0x00000002  \n#define HARMONY_DSTATUS_IE      0x80000000  \n\n#define HARMONY_DF_16BIT_LINEAR 0x00000000\n#define HARMONY_DF_8BIT_ULAW    0x00000001\n#define HARMONY_DF_8BIT_ALAW    0x00000002\n\n#define HARMONY_SS_MONO         0x00000000\n#define HARMONY_SS_STEREO       0x00000001\n\n#define HARMONY_GAIN_SILENCE    0x01F00FFF\n#define HARMONY_GAIN_DEFAULT    0x01F00FFF\n\n#define HARMONY_GAIN_HE_SHIFT   27  \n#define HARMONY_GAIN_HE_MASK    (1 << HARMONY_GAIN_HE_SHIFT)\n#define HARMONY_GAIN_LE_SHIFT   26  \n#define HARMONY_GAIN_LE_MASK    (1 << HARMONY_GAIN_LE_SHIFT)\n#define HARMONY_GAIN_SE_SHIFT   25  \n#define HARMONY_GAIN_SE_MASK    (1 << HARMONY_GAIN_SE_SHIFT)\n#define HARMONY_GAIN_IS_SHIFT   24  \n#define HARMONY_GAIN_IS_MASK    (1 << HARMONY_GAIN_IS_SHIFT)\n\n \n#define HARMONY_GAIN_MA         0x0f\n#define HARMONY_GAIN_MA_SHIFT   20\n#define HARMONY_GAIN_MA_MASK    (HARMONY_GAIN_MA << HARMONY_GAIN_MA_SHIFT)\n\n \n#define HARMONY_GAIN_IN         0x0f\n#define HARMONY_GAIN_LI_SHIFT   16\n#define HARMONY_GAIN_LI_MASK    (HARMONY_GAIN_IN << HARMONY_GAIN_LI_SHIFT)\n#define HARMONY_GAIN_RI_SHIFT   12\n#define HARMONY_GAIN_RI_MASK    (HARMONY_GAIN_IN << HARMONY_GAIN_RI_SHIFT)\n\n \n#define HARMONY_GAIN_OUT        0x3f\n#define HARMONY_GAIN_LO_SHIFT   6\n#define HARMONY_GAIN_LO_MASK    (HARMONY_GAIN_OUT << HARMONY_GAIN_LO_SHIFT)\n#define HARMONY_GAIN_RO_SHIFT   0\n#define HARMONY_GAIN_RO_MASK    (HARMONY_GAIN_OUT << HARMONY_GAIN_RO_SHIFT)\n\n#define HARMONY_MAX_OUT (HARMONY_GAIN_RO_MASK >> HARMONY_GAIN_RO_SHIFT)\n#define HARMONY_MAX_IN  (HARMONY_GAIN_RI_MASK >> HARMONY_GAIN_RI_SHIFT)\n#define HARMONY_MAX_MON (HARMONY_GAIN_MA_MASK >> HARMONY_GAIN_MA_SHIFT)\n\n#define HARMONY_SR_8KHZ         0x08\n#define HARMONY_SR_16KHZ        0x09\n#define HARMONY_SR_27KHZ        0x0A\n#define HARMONY_SR_32KHZ        0x0B\n#define HARMONY_SR_48KHZ        0x0E\n#define HARMONY_SR_9KHZ         0x0F\n#define HARMONY_SR_5KHZ         0x10\n#define HARMONY_SR_11KHZ        0x11\n#define HARMONY_SR_18KHZ        0x12\n#define HARMONY_SR_22KHZ        0x13\n#define HARMONY_SR_37KHZ        0x14\n#define HARMONY_SR_44KHZ        0x15\n#define HARMONY_SR_33KHZ        0x16\n#define HARMONY_SR_6KHZ         0x17\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}