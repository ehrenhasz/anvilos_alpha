{
  "module_name": "soundbus.h",
  "hash_id": "5703185f4ff118c639d32b8597445c37802006fd7c19ea4ff008ed0086f7590c",
  "original_prompt": "Ingested from linux-6.6.14/sound/aoa/soundbus/soundbus.h",
  "human_readable_source": " \n \n#ifndef __SOUNDBUS_H\n#define __SOUNDBUS_H\n\n#include <linux/of_device.h>\n#include <sound/pcm.h>\n#include <linux/list.h>\n\n\n \nenum clock_switch {\n\tCLOCK_SWITCH_PREPARE_SLAVE,\n\tCLOCK_SWITCH_PREPARE_MASTER,\n\tCLOCK_SWITCH_SLAVE,\n\tCLOCK_SWITCH_MASTER,\n\tCLOCK_SWITCH_NOTIFY,\n};\n\n \nstruct transfer_info {\n\tu64 formats;\t\t \n\tunsigned int rates;\t \n\t \n\tu32 transfer_in:1,  \n\t    must_be_clock_source:1;\n\t \n\tint tag;\n};\n\nstruct codec_info_item {\n\tstruct codec_info *codec;\n\tvoid *codec_data;\n\tstruct soundbus_dev *sdev;\n\t \n\tstruct list_head list;\n};\n\n \nstruct bus_info {\n\t \n\tint sysclock_factor;\n\tint bus_factor;\n};\n\n \nstruct codec_info {\n\t \n\tstruct module *owner;\n\n\t \n\tstruct transfer_info *transfers;\n\n\t \n\tint sysclock_factor;\n\n\t \n\tint bus_factor;\n\n\t \n\t \n\tint (*switch_clock)(struct codec_info_item *cii,\n\t\t\t    enum clock_switch clock);\n\n\t \n\tint (*usable)(struct codec_info_item *cii,\n\t\t      struct transfer_info *ti,\n\t\t      struct transfer_info *out);\n\n\t \n\tint (*open)(struct codec_info_item *cii,\n\t\t    struct snd_pcm_substream *substream);\n\n\t \n\tint (*close)(struct codec_info_item *cii,\n\t\t     struct snd_pcm_substream *substream);\n\n\t \n\tint (*prepare)(struct codec_info_item *cii,\n\t\t       struct bus_info *bi,\n\t\t       struct snd_pcm_substream *substream);\n\n\t \n\tint (*start)(struct codec_info_item *cii,\n\t\t     struct snd_pcm_substream *substream);\n\n\t \n\tint (*stop)(struct codec_info_item *cii,\n\t\t    struct snd_pcm_substream *substream);\n\n\tint (*suspend)(struct codec_info_item *cii, pm_message_t state);\n\tint (*resume)(struct codec_info_item *cii);\n};\n\n \nstruct soundbus_dev {\n\t \n\tstruct list_head onbuslist;\n\n\t \n\tstruct platform_device ofdev;\n\n\t \n\tchar modalias[32];\n\n\t \n\tchar *pcmname;\n\tint pcmid;\n\n\t \n\tstruct snd_pcm *pcm;\n\n\t \n\t \n\tint (*attach_codec)(struct soundbus_dev *dev, struct snd_card *card,\n\t\t\t    struct codec_info *ci, void *data);\n\tvoid (*detach_codec)(struct soundbus_dev *dev, void *data);\n\t \n\n\t \n\tstruct list_head codec_list;\n\tu32 have_out:1, have_in:1;\n};\n#define to_soundbus_device(d) container_of(d, struct soundbus_dev, ofdev.dev)\n#define of_to_soundbus_device(d) container_of(d, struct soundbus_dev, ofdev)\n\nextern int soundbus_add_one(struct soundbus_dev *dev);\nextern void soundbus_remove_one(struct soundbus_dev *dev);\n\nextern struct soundbus_dev *soundbus_dev_get(struct soundbus_dev *dev);\nextern void soundbus_dev_put(struct soundbus_dev *dev);\n\nstruct soundbus_driver {\n\tchar *name;\n\tstruct module *owner;\n\n\t \n\n\tint\t(*probe)(struct soundbus_dev* dev);\n\tvoid\t(*remove)(struct soundbus_dev *dev);\n\n\tint\t(*shutdown)(struct soundbus_dev* dev);\n\n\tstruct device_driver driver;\n};\n#define to_soundbus_driver(drv) container_of(drv,struct soundbus_driver, driver)\n\nextern int soundbus_register_driver(struct soundbus_driver *drv);\nextern void soundbus_unregister_driver(struct soundbus_driver *drv);\n\nextern struct attribute *soundbus_dev_attrs[];\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}