{
  "module_name": "dice-alesis.c",
  "hash_id": "76a17009d68753e92a9a0fd97a32b973bdbab2b43854d0057a6595993af149d3",
  "original_prompt": "Ingested from linux-6.6.14/sound/firewire/dice/dice-alesis.c",
  "human_readable_source": "\n \n\n#include \"dice.h\"\n\nstatic const unsigned int\nalesis_io14_tx_pcm_chs[MAX_STREAMS][SND_DICE_RATE_MODE_COUNT] = {\n\t{6, 6, 4},\t \n\t{8, 4, 0},\t \n};\n\nstatic const unsigned int\nalesis_io26_tx_pcm_chs[MAX_STREAMS][SND_DICE_RATE_MODE_COUNT] = {\n\t{10, 10, 4},\t \n\t{16, 4, 0},\t \n};\n\nint snd_dice_detect_alesis_formats(struct snd_dice *dice)\n{\n\t__be32 reg;\n\tu32 data;\n\tint i;\n\tint err;\n\n\terr = snd_dice_transaction_read_tx(dice, TX_NUMBER_AUDIO, &reg,\n\t\t\t\t\t   sizeof(reg));\n\tif (err < 0)\n\t\treturn err;\n\tdata = be32_to_cpu(reg);\n\n\tif (data == 4 || data == 6) {\n\t\tmemcpy(dice->tx_pcm_chs, alesis_io14_tx_pcm_chs,\n\t\t\t\tMAX_STREAMS * SND_DICE_RATE_MODE_COUNT *\n\t\t\t\tsizeof(unsigned int));\n\t} else {\n\t\tmemcpy(dice->tx_pcm_chs, alesis_io26_tx_pcm_chs,\n\t\t\t\tMAX_STREAMS * SND_DICE_RATE_MODE_COUNT *\n\t\t\t\tsizeof(unsigned int));\n\t}\n\n\tfor (i = 0; i < SND_DICE_RATE_MODE_COUNT; ++i)\n\t\tdice->rx_pcm_chs[0][i] = 8;\n\n\tdice->tx_midi_ports[0] = 1;\n\tdice->rx_midi_ports[0] = 1;\n\n\treturn 0;\n}\n\nint snd_dice_detect_alesis_mastercontrol_formats(struct snd_dice *dice)\n{\n\tint i;\n\n\tdice->tx_pcm_chs[0][SND_DICE_RATE_MODE_LOW]\t= 16;\n\tdice->tx_pcm_chs[1][SND_DICE_RATE_MODE_LOW]\t= 12;\n\tdice->tx_pcm_chs[0][SND_DICE_RATE_MODE_MIDDLE]\t= 12;\n\tdice->tx_pcm_chs[1][SND_DICE_RATE_MODE_MIDDLE]\t= 4;\n\tdice->tx_pcm_chs[0][SND_DICE_RATE_MODE_HIGH]\t= 8;\n\tdice->tx_pcm_chs[1][SND_DICE_RATE_MODE_HIGH]\t= 0;\n\n\tfor (i = 0; i < SND_DICE_RATE_MODE_COUNT; ++i) {\n\t\tdice->rx_pcm_chs[0][i] = 6;\n\t\tdice->rx_pcm_chs[1][i] = 0;\n\t}\n\n\tfor (i = 0; i < MAX_STREAMS; ++i) {\n\t\tdice->tx_midi_ports[i] = 2;\n\t\tdice->rx_midi_ports[i] = 2;\n\t}\n\n\treturn 0;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}