{
  "module_name": "tegra210_mbdrc.h",
  "hash_id": "e8ae4dc441dc3e239e0779b701d1eedfd34ff5ab96070af4deb8b3974142606e",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/tegra/tegra210_mbdrc.h",
  "human_readable_source": " \n \n\n#ifndef __TEGRA210_MBDRC_H__\n#define __TEGRA210_MBDRC_H__\n\n#include <linux/platform_device.h>\n#include <sound/soc.h>\n\n \n#define TEGRA210_MBDRC_SOFT_RESET\t\t\t0x4\n#define TEGRA210_MBDRC_CG\t\t\t\t0x8\n#define TEGRA210_MBDRC_STATUS\t\t\t\t0xc\n#define TEGRA210_MBDRC_CFG\t\t\t\t0x28\n#define TEGRA210_MBDRC_CHANNEL_MASK\t\t\t0x2c\n#define TEGRA210_MBDRC_MASTER_VOL\t\t\t0x30\n#define TEGRA210_MBDRC_FAST_FACTOR\t\t\t0x34\n\n#define TEGRA210_MBDRC_FILTER_COUNT\t\t\t3\n#define TEGRA210_MBDRC_FILTER_PARAM_STRIDE\t\t0x4\n\n#define TEGRA210_MBDRC_IIR_CFG\t\t\t\t0x38\n#define TEGRA210_MBDRC_IN_ATTACK\t\t\t0x44\n#define TEGRA210_MBDRC_IN_RELEASE\t\t\t0x50\n#define TEGRA210_MBDRC_FAST_ATTACK\t\t\t0x5c\n#define TEGRA210_MBDRC_IN_THRESHOLD\t\t\t0x68\n#define TEGRA210_MBDRC_OUT_THRESHOLD\t\t\t0x74\n#define TEGRA210_MBDRC_RATIO_1ST\t\t\t0x80\n#define TEGRA210_MBDRC_RATIO_2ND\t\t\t0x8c\n#define TEGRA210_MBDRC_RATIO_3RD\t\t\t0x98\n#define TEGRA210_MBDRC_RATIO_4TH\t\t\t0xa4\n#define TEGRA210_MBDRC_RATIO_5TH\t\t\t0xb0\n#define TEGRA210_MBDRC_MAKEUP_GAIN\t\t\t0xbc\n#define TEGRA210_MBDRC_INIT_GAIN\t\t\t0xc8\n#define TEGRA210_MBDRC_GAIN_ATTACK\t\t\t0xd4\n#define TEGRA210_MBDRC_GAIN_RELEASE\t\t\t0xe0\n#define TEGRA210_MBDRC_FAST_RELEASE\t\t\t0xec\n#define TEGRA210_MBDRC_CFG_RAM_CTRL\t\t\t0xf8\n#define TEGRA210_MBDRC_CFG_RAM_DATA\t\t\t0x104\n\n#define TEGRA210_MBDRC_MAX_REG\t\t\t\t(TEGRA210_MBDRC_CFG_RAM_DATA +\t\t\\\n\t\t\t\t\t\t\t (TEGRA210_MBDRC_FILTER_PARAM_STRIDE *\t\\\n\t\t\t\t\t\t\t  (TEGRA210_MBDRC_FILTER_COUNT - 1)))\n\n \n#define TEGRA210_MBDRC_CFG_RMS_OFFSET_SHIFT\t\t16\n#define TEGRA210_MBDRC_CFG_RMS_OFFSET_MASK\t\t(0x1ff << TEGRA210_MBDRC_CFG_RMS_OFFSET_SHIFT)\n\n#define TEGRA210_MBDRC_CFG_PEAK_RMS_SHIFT\t\t14\n#define TEGRA210_MBDRC_CFG_PEAK_RMS_MASK\t\t(0x1 << TEGRA210_MBDRC_CFG_PEAK_RMS_SHIFT)\n#define TEGRA210_MBDRC_CFG_PEAK\t\t\t\t(1 << TEGRA210_MBDRC_CFG_PEAK_RMS_SHIFT)\n\n#define TEGRA210_MBDRC_CFG_FILTER_STRUCTURE_SHIFT\t13\n#define TEGRA210_MBDRC_CFG_FILTER_STRUCTURE_MASK\t(0x1 << TEGRA210_MBDRC_CFG_FILTER_STRUCTURE_SHIFT)\n#define TEGRA210_MBDRC_CFG_FILTER_STRUCTURE_FLEX\t(1 << TEGRA210_MBDRC_CFG_FILTER_STRUCTURE_SHIFT)\n\n#define TEGRA210_MBDRC_CFG_SHIFT_CTRL_SHIFT\t\t8\n#define TEGRA210_MBDRC_CFG_SHIFT_CTRL_MASK\t\t(0x1f << TEGRA210_MBDRC_CFG_SHIFT_CTRL_SHIFT)\n\n#define TEGRA210_MBDRC_CFG_FRAME_SIZE_SHIFT\t\t4\n#define TEGRA210_MBDRC_CFG_FRAME_SIZE_MASK\t\t(0xf << TEGRA210_MBDRC_CFG_FRAME_SIZE_SHIFT)\n\n#define TEGRA210_MBDRC_CFG_MBDRC_MODE_SHIFT\t\t0\n#define TEGRA210_MBDRC_CFG_MBDRC_MODE_MASK\t\t(0x3 << TEGRA210_MBDRC_CFG_MBDRC_MODE_SHIFT)\n#define TEGRA210_MBDRC_CFG_MBDRC_MODE_BYPASS\t\t(0 << TEGRA210_MBDRC_CFG_MBDRC_MODE_SHIFT)\n\n \n#define TEGRA210_MBDRC_CHANNEL_MASK_SHIFT\t\t0\n#define TEGRA210_MBDRC_CHANNEL_MASK_MASK\t\t(0xff << TEGRA210_MBDRC_CHANNEL_MASK_SHIFT)\n\n \n#define TEGRA210_MBDRC_MASTER_VOL_SHIFT\t\t\t23\n#define TEGRA210_MBDRC_MASTER_VOL_MIN\t\t\t-256\n#define TEGRA210_MBDRC_MASTER_VOL_MAX\t\t\t256\n\n \n#define TEGRA210_MBDRC_FAST_FACTOR_RELEASE_SHIFT\t16\n#define TEGRA210_MBDRC_FAST_FACTOR_RELEASE_MASK\t\t(0xffff << TEGRA210_MBDRC_FAST_FACTOR_RELEASE_SHIFT)\n\n#define TEGRA210_MBDRC_FAST_FACTOR_ATTACK_SHIFT\t\t0\n#define TEGRA210_MBDRC_FAST_FACTOR_ATTACK_MASK\t\t(0xffff << TEGRA210_MBDRC_FAST_FACTOR_ATTACK_SHIFT)\n\n \n#define TEGRA210_MBDRC_IIR_CFG_NUM_STAGES_SHIFT\t\t0\n#define TEGRA210_MBDRC_IIR_CFG_NUM_STAGES_MASK\t\t(0xf << TEGRA210_MBDRC_IIR_CFG_NUM_STAGES_SHIFT)\n\n \n#define TEGRA210_MBDRC_IN_ATTACK_TC_SHIFT\t\t0\n#define TEGRA210_MBDRC_IN_ATTACK_TC_MASK\t\t(0xffffffff << TEGRA210_MBDRC_IN_ATTACK_TC_SHIFT)\n\n \n#define TEGRA210_MBDRC_IN_RELEASE_TC_SHIFT\t\t0\n#define TEGRA210_MBDRC_IN_RELEASE_TC_MASK\t\t(0xffffffff << TEGRA210_MBDRC_IN_RELEASE_TC_SHIFT)\n\n \n#define TEGRA210_MBDRC_FAST_ATTACK_TC_SHIFT\t\t0\n#define TEGRA210_MBDRC_FAST_ATTACK_TC_MASK\t\t(0xffffffff << TEGRA210_MBDRC_FAST_ATTACK_TC_SHIFT)\n\n \n#define TEGRA210_MBDRC_THRESH_4TH_SHIFT\t\t\t24\n#define TEGRA210_MBDRC_THRESH_4TH_MASK\t\t\t(0xff << TEGRA210_MBDRC_THRESH_4TH_SHIFT)\n\n#define TEGRA210_MBDRC_THRESH_3RD_SHIFT\t\t\t16\n#define TEGRA210_MBDRC_THRESH_3RD_MASK\t\t\t(0xff << TEGRA210_MBDRC_THRESH_3RD_SHIFT)\n\n#define TEGRA210_MBDRC_THRESH_2ND_SHIFT\t\t\t8\n#define TEGRA210_MBDRC_THRESH_2ND_MASK\t\t\t(0xff << TEGRA210_MBDRC_THRESH_2ND_SHIFT)\n\n#define TEGRA210_MBDRC_THRESH_1ST_SHIFT\t\t\t0\n#define TEGRA210_MBDRC_THRESH_1ST_MASK\t\t\t(0xff << TEGRA210_MBDRC_THRESH_1ST_SHIFT)\n\n \n#define TEGRA210_MBDRC_RATIO_1ST_SHIFT\t\t\t0\n#define TEGRA210_MBDRC_RATIO_1ST_MASK\t\t\t(0xffff << TEGRA210_MBDRC_RATIO_1ST_SHIFT)\n\n \n#define TEGRA210_MBDRC_RATIO_2ND_SHIFT\t\t\t0\n#define TEGRA210_MBDRC_RATIO_2ND_MASK\t\t\t(0xffff << TEGRA210_MBDRC_RATIO_2ND_SHIFT)\n\n \n#define TEGRA210_MBDRC_RATIO_3RD_SHIFT\t\t\t0\n#define TEGRA210_MBDRC_RATIO_3RD_MASK\t\t\t(0xffff << TEGRA210_MBDRC_RATIO_3RD_SHIFT)\n\n \n#define TEGRA210_MBDRC_RATIO_4TH_SHIFT\t\t\t0\n#define TEGRA210_MBDRC_RATIO_4TH_MASK\t\t\t(0xffff << TEGRA210_MBDRC_RATIO_4TH_SHIFT)\n\n \n#define TEGRA210_MBDRC_RATIO_5TH_SHIFT\t\t\t0\n#define TEGRA210_MBDRC_RATIO_5TH_MASK\t\t\t(0xffff << TEGRA210_MBDRC_RATIO_5TH_SHIFT)\n\n \n#define TEGRA210_MBDRC_MAKEUP_GAIN_SHIFT\t\t0\n#define TEGRA210_MBDRC_MAKEUP_GAIN_MASK\t\t\t(0x3f << TEGRA210_MBDRC_MAKEUP_GAIN_SHIFT)\n\n \n#define TEGRA210_MBDRC_INIT_GAIN_SHIFT\t\t\t0\n#define TEGRA210_MBDRC_INIT_GAIN_MASK\t\t\t(0xffffffff << TEGRA210_MBDRC_INIT_GAIN_SHIFT)\n\n \n#define TEGRA210_MBDRC_GAIN_ATTACK_SHIFT\t\t0\n#define TEGRA210_MBDRC_GAIN_ATTACK_MASK\t\t\t(0xffffffff << TEGRA210_MBDRC_GAIN_ATTACK_SHIFT)\n\n \n#define TEGRA210_MBDRC_GAIN_RELEASE_SHIFT\t\t0\n#define TEGRA210_MBDRC_GAIN_RELEASE_MASK\t\t(0xffffffff << TEGRA210_MBDRC_GAIN_RELEASE_SHIFT)\n\n \n#define TEGRA210_MBDRC_FAST_RELEASE_SHIFT\t\t0\n#define TEGRA210_MBDRC_FAST_RELEASE_MASK\t\t(0xffffffff << TEGRA210_MBDRC_FAST_RELEASE_SHIFT)\n\n#define TEGRA210_MBDRC_RAM_CTRL_RW_READ\t\t\t0\n#define TEGRA210_MBDRC_RAM_CTRL_RW_WRITE\t\t(1 << 14)\n#define TEGRA210_MBDRC_RAM_CTRL_ADDR_INIT_EN\t\t(1 << 13)\n#define TEGRA210_MBDRC_RAM_CTRL_SEQ_ACCESS_EN\t\t(1 << 12)\n#define TEGRA210_MBDRC_RAM_CTRL_RAM_ADDR_MASK\t\t0x1ff\n\n \n#define TEGRA210_MBDRC_THRESHOLD_NUM\t\t\t\t4\n#define TEGRA210_MBDRC_RATIO_NUM\t\t\t\t(TEGRA210_MBDRC_THRESHOLD_NUM + 1)\n#define TEGRA210_MBDRC_MAX_BIQUAD_STAGES\t\t\t8\n\n \nenum {\n\tMBDRC_LOW_BAND,\n\tMBDRC_MID_BAND,\n\tMBDRC_HIGH_BAND,\n\tMBDRC_NUM_BAND,\n};\n\nstruct tegra210_mbdrc_band_params {\n\tu32 band;\n\tu32 iir_stages;\n\tu32 in_attack_tc;\n\tu32 in_release_tc;\n\tu32 fast_attack_tc;\n\tu32 in_threshold[TEGRA210_MBDRC_THRESHOLD_NUM];\n\tu32 out_threshold[TEGRA210_MBDRC_THRESHOLD_NUM];\n\tu32 ratio[TEGRA210_MBDRC_RATIO_NUM];\n\tu32 makeup_gain;\n\tu32 gain_init;\n\tu32 gain_attack_tc;\n\tu32 gain_release_tc;\n\tu32 fast_release_tc;\n\t \n\tu32 biquad_params[TEGRA210_MBDRC_MAX_BIQUAD_STAGES * 5];\n};\n\nstruct tegra210_mbdrc_config {\n\tunsigned int mode;\n\tunsigned int rms_off;\n\tunsigned int peak_rms_mode;\n\tunsigned int filter_structure;\n\tunsigned int shift_ctrl;\n\tunsigned int frame_size;\n\tunsigned int channel_mask;\n\tunsigned int fa_factor;\t \n\tunsigned int fr_factor;\t \n\tstruct tegra210_mbdrc_band_params band_params[MBDRC_NUM_BAND];\n};\n\nint tegra210_mbdrc_regmap_init(struct platform_device *pdev);\nint tegra210_mbdrc_component_init(struct snd_soc_component *cmpnt);\nint tegra210_mbdrc_hw_params(struct snd_soc_component *cmpnt);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}