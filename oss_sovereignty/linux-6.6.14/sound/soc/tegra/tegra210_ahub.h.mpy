{
  "module_name": "tegra210_ahub.h",
  "hash_id": "9e9e6bacc5f05d18d883c49e8ceebb59549548a549440239d3f43c5ebfcc425f",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/tegra/tegra210_ahub.h",
  "human_readable_source": " \n \n\n#ifndef __TEGRA210_AHUB__H__\n#define __TEGRA210_AHUB__H__\n\n \n#define TEGRA210_XBAR_PART1_RX\t\t\t\t0x200\n#define TEGRA210_XBAR_PART2_RX\t\t\t\t0x400\n#define TEGRA210_XBAR_RX_STRIDE\t\t\t\t0x4\n#define TEGRA210_XBAR_AUDIO_RX_COUNT\t\t\t90\n#define TEGRA210_XBAR_REG_MASK_0\t\t\t0xf1f03ff\n#define TEGRA210_XBAR_REG_MASK_1\t\t\t0x3f30031f\n#define TEGRA210_XBAR_REG_MASK_2\t\t\t0xff1cf313\n#define TEGRA210_XBAR_REG_MASK_3\t\t\t0x0\n#define TEGRA210_XBAR_UPDATE_MAX_REG\t\t\t3\n \n#define TEGRA186_XBAR_PART3_RX\t\t\t\t0x600\n#define TEGRA186_XBAR_AUDIO_RX_COUNT\t\t\t115\n#define TEGRA186_XBAR_REG_MASK_0\t\t\t0xf3fffff\n#define TEGRA186_XBAR_REG_MASK_1\t\t\t0x3f310f1f\n#define TEGRA186_XBAR_REG_MASK_2\t\t\t0xff3cf311\n#define TEGRA186_XBAR_REG_MASK_3\t\t\t0x3f0f00ff\n#define TEGRA186_XBAR_UPDATE_MAX_REG\t\t\t4\n\n#define TEGRA_XBAR_UPDATE_MAX_REG (TEGRA186_XBAR_UPDATE_MAX_REG)\n\n#define TEGRA186_MAX_REGISTER_ADDR (TEGRA186_XBAR_PART3_RX +\t\t\\\n\t(TEGRA210_XBAR_RX_STRIDE * (TEGRA186_XBAR_AUDIO_RX_COUNT - 1)))\n\n#define TEGRA210_MAX_REGISTER_ADDR (TEGRA210_XBAR_PART2_RX +\t\t\\\n\t(TEGRA210_XBAR_RX_STRIDE * (TEGRA210_XBAR_AUDIO_RX_COUNT - 1)))\n\n#define MUX_REG(id) (TEGRA210_XBAR_RX_STRIDE * (id))\n\n#define MUX_VALUE(npart, nbit) (1 + (nbit) + (npart) * 32)\n\n#define SOC_VALUE_ENUM_WIDE(xreg, shift, xmax, xtexts, xvalues)\t\t\\\n\t{\t\t\t\t\t\t\t\t\\\n\t\t.reg = xreg,\t\t\t\t\t\t\\\n\t\t.shift_l = shift,\t\t\t\t\t\\\n\t\t.shift_r = shift,\t\t\t\t\t\\\n\t\t.items = xmax,\t\t\t\t\t\t\\\n\t\t.texts = xtexts,\t\t\t\t\t\\\n\t\t.values = xvalues,\t\t\t\t\t\\\n\t\t.mask = xmax ? roundup_pow_of_two(xmax) - 1 : 0\t\t\\\n\t}\n\n#define SOC_VALUE_ENUM_WIDE_DECL(name, xreg, shift, xtexts, xvalues)\t\\\n\tstatic struct soc_enum name =\t\t\t\t\t\\\n\t\tSOC_VALUE_ENUM_WIDE(xreg, shift, ARRAY_SIZE(xtexts),\t\\\n\t\t\t\t    xtexts, xvalues)\n\n#define MUX_ENUM_CTRL_DECL(ename, id)\t\t\t\t\t\\\n\tSOC_VALUE_ENUM_WIDE_DECL(ename##_enum, MUX_REG(id), 0,\t\t\\\n\t\t\t\t tegra210_ahub_mux_texts,\t\t\\\n\t\t\t\t tegra210_ahub_mux_values);\t\t\\\n\tstatic const struct snd_kcontrol_new ename##_control =\t\t\\\n\t\tSOC_DAPM_ENUM_EXT(\"Route\", ename##_enum,\t\t\\\n\t\t\t\t  tegra_ahub_get_value_enum,\t\t\\\n\t\t\t\t  tegra_ahub_put_value_enum)\n\n#define MUX_ENUM_CTRL_DECL_186(ename, id)\t\t\t\t\\\n\tSOC_VALUE_ENUM_WIDE_DECL(ename##_enum, MUX_REG(id), 0,\t\t\\\n\t\t\t\t tegra186_ahub_mux_texts,\t\t\\\n\t\t\t\t tegra186_ahub_mux_values);\t\t\\\n\tstatic const struct snd_kcontrol_new ename##_control =\t\t\\\n\t\tSOC_DAPM_ENUM_EXT(\"Route\", ename##_enum,\t\t\\\n\t\t\t\t  tegra_ahub_get_value_enum,\t\t\\\n\t\t\t\t  tegra_ahub_put_value_enum)\n\n#define MUX_ENUM_CTRL_DECL_234(ename, id) MUX_ENUM_CTRL_DECL_186(ename, id)\n\n#define WIDGETS(sname, ename)\t\t\t\t\t\t     \\\n\tSND_SOC_DAPM_AIF_IN(sname \" XBAR-RX\", NULL, 0, SND_SOC_NOPM, 0, 0),  \\\n\tSND_SOC_DAPM_AIF_OUT(sname \" XBAR-TX\", NULL, 0, SND_SOC_NOPM, 0, 0), \\\n\tSND_SOC_DAPM_MUX(sname \" Mux\", SND_SOC_NOPM, 0, 0,\t\t     \\\n\t\t\t &ename##_control)\n\n#define TX_WIDGETS(sname)\t\t\t\t\t\t    \\\n\tSND_SOC_DAPM_AIF_IN(sname \" XBAR-RX\", NULL, 0, SND_SOC_NOPM, 0, 0), \\\n\tSND_SOC_DAPM_AIF_OUT(sname \" XBAR-TX\", NULL, 0, SND_SOC_NOPM, 0, 0)\n\n#define DAI(sname)\t\t\t\t\t\t\t\\\n\t{\t\t\t\t\t\t\t\t\\\n\t\t.name = \"XBAR-\" #sname,\t\t\t\t\t\\\n\t\t.playback = {\t\t\t\t\t\t\\\n\t\t\t.stream_name = #sname \" XBAR-Playback\",\t\t\\\n\t\t\t.channels_min = 1,\t\t\t\t\\\n\t\t\t.channels_max = 16,\t\t\t\t\\\n\t\t\t.rates = SNDRV_PCM_RATE_8000_192000,\t\t\\\n\t\t\t.formats = SNDRV_PCM_FMTBIT_S8 |\t\t\\\n\t\t\t\tSNDRV_PCM_FMTBIT_S16_LE |\t\t\\\n\t\t\t\tSNDRV_PCM_FMTBIT_S24_LE |\t\t\\\n\t\t\t\tSNDRV_PCM_FMTBIT_S32_LE,\t\t\\\n\t\t},\t\t\t\t\t\t\t\\\n\t\t.capture = {\t\t\t\t\t\t\\\n\t\t\t.stream_name = #sname \" XBAR-Capture\",\t\t\\\n\t\t\t.channels_min = 1,\t\t\t\t\\\n\t\t\t.channels_max = 16,\t\t\t\t\\\n\t\t\t.rates = SNDRV_PCM_RATE_8000_192000,\t\t\\\n\t\t\t.formats = SNDRV_PCM_FMTBIT_S8 |\t\t\\\n\t\t\t\tSNDRV_PCM_FMTBIT_S16_LE |\t\t\\\n\t\t\t\tSNDRV_PCM_FMTBIT_S24_LE |\t\t\\\n\t\t\t\tSNDRV_PCM_FMTBIT_S32_LE,\t\t\\\n\t\t},\t\t\t\t\t\t\t\\\n\t}\n\nstruct tegra_ahub_soc_data {\n\tconst struct regmap_config *regmap_config;\n\tconst struct snd_soc_component_driver *cmpnt_drv;\n\tstruct snd_soc_dai_driver *dai_drv;\n\tunsigned int mask[4];\n\tunsigned int reg_count;\n\tunsigned int num_dais;\n};\n\nstruct tegra_ahub {\n\tconst struct tegra_ahub_soc_data *soc_data;\n\tstruct regmap *regmap;\n\tstruct clk *clk;\n};\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}