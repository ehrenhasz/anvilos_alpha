{
  "module_name": "fsl_ssi_dbg.c",
  "hash_id": "419e325f7034a092e9d537667a0e3ac0389419fdd1603634f2057f0a0da4ed6c",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/fsl/fsl_ssi_dbg.c",
  "human_readable_source": "\n\n\n\n\n\n\n\n#include <linux/debugfs.h>\n#include <linux/device.h>\n#include <linux/kernel.h>\n\n#include \"fsl_ssi.h\"\n\nvoid fsl_ssi_dbg_isr(struct fsl_ssi_dbg *dbg, u32 sisr)\n{\n\tif (sisr & SSI_SISR_RFRC)\n\t\tdbg->stats.rfrc++;\n\n\tif (sisr & SSI_SISR_TFRC)\n\t\tdbg->stats.tfrc++;\n\n\tif (sisr & SSI_SISR_CMDAU)\n\t\tdbg->stats.cmdau++;\n\n\tif (sisr & SSI_SISR_CMDDU)\n\t\tdbg->stats.cmddu++;\n\n\tif (sisr & SSI_SISR_RXT)\n\t\tdbg->stats.rxt++;\n\n\tif (sisr & SSI_SISR_RDR1)\n\t\tdbg->stats.rdr1++;\n\n\tif (sisr & SSI_SISR_RDR0)\n\t\tdbg->stats.rdr0++;\n\n\tif (sisr & SSI_SISR_TDE1)\n\t\tdbg->stats.tde1++;\n\n\tif (sisr & SSI_SISR_TDE0)\n\t\tdbg->stats.tde0++;\n\n\tif (sisr & SSI_SISR_ROE1)\n\t\tdbg->stats.roe1++;\n\n\tif (sisr & SSI_SISR_ROE0)\n\t\tdbg->stats.roe0++;\n\n\tif (sisr & SSI_SISR_TUE1)\n\t\tdbg->stats.tue1++;\n\n\tif (sisr & SSI_SISR_TUE0)\n\t\tdbg->stats.tue0++;\n\n\tif (sisr & SSI_SISR_TFS)\n\t\tdbg->stats.tfs++;\n\n\tif (sisr & SSI_SISR_RFS)\n\t\tdbg->stats.rfs++;\n\n\tif (sisr & SSI_SISR_TLS)\n\t\tdbg->stats.tls++;\n\n\tif (sisr & SSI_SISR_RLS)\n\t\tdbg->stats.rls++;\n\n\tif (sisr & SSI_SISR_RFF1)\n\t\tdbg->stats.rff1++;\n\n\tif (sisr & SSI_SISR_RFF0)\n\t\tdbg->stats.rff0++;\n\n\tif (sisr & SSI_SISR_TFE1)\n\t\tdbg->stats.tfe1++;\n\n\tif (sisr & SSI_SISR_TFE0)\n\t\tdbg->stats.tfe0++;\n}\n\n \n#define SIER_SHOW(flag, name) \\\n\tdo { \\\n\t\tif (SSI_SIER_##flag) \\\n\t\t\tseq_printf(s, #name \"=%u\\n\", ssi_dbg->stats.name); \\\n\t} while (0)\n\n\n \nstatic int fsl_ssi_stats_show(struct seq_file *s, void *unused)\n{\n\tstruct fsl_ssi_dbg *ssi_dbg = s->private;\n\n\tSIER_SHOW(RFRC_EN, rfrc);\n\tSIER_SHOW(TFRC_EN, tfrc);\n\tSIER_SHOW(CMDAU_EN, cmdau);\n\tSIER_SHOW(CMDDU_EN, cmddu);\n\tSIER_SHOW(RXT_EN, rxt);\n\tSIER_SHOW(RDR1_EN, rdr1);\n\tSIER_SHOW(RDR0_EN, rdr0);\n\tSIER_SHOW(TDE1_EN, tde1);\n\tSIER_SHOW(TDE0_EN, tde0);\n\tSIER_SHOW(ROE1_EN, roe1);\n\tSIER_SHOW(ROE0_EN, roe0);\n\tSIER_SHOW(TUE1_EN, tue1);\n\tSIER_SHOW(TUE0_EN, tue0);\n\tSIER_SHOW(TFS_EN, tfs);\n\tSIER_SHOW(RFS_EN, rfs);\n\tSIER_SHOW(TLS_EN, tls);\n\tSIER_SHOW(RLS_EN, rls);\n\tSIER_SHOW(RFF1_EN, rff1);\n\tSIER_SHOW(RFF0_EN, rff0);\n\tSIER_SHOW(TFE1_EN, tfe1);\n\tSIER_SHOW(TFE0_EN, tfe0);\n\n\treturn 0;\n}\n\nDEFINE_SHOW_ATTRIBUTE(fsl_ssi_stats);\n\nvoid fsl_ssi_debugfs_create(struct fsl_ssi_dbg *ssi_dbg, struct device *dev)\n{\n\tssi_dbg->dbg_dir = debugfs_create_dir(dev_name(dev), NULL);\n\n\tdebugfs_create_file(\"stats\", 0444, ssi_dbg->dbg_dir, ssi_dbg,\n\t\t\t    &fsl_ssi_stats_fops);\n}\n\nvoid fsl_ssi_debugfs_remove(struct fsl_ssi_dbg *ssi_dbg)\n{\n\tdebugfs_remove_recursive(ssi_dbg->dbg_dir);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}