{
  "module_name": "imx-pcm-dma.c",
  "hash_id": "bcbd675f1f7c94f9950ee55e05965e5471e822fd90d75d17d44f1f344c2e4d30",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/fsl/imx-pcm-dma.c",
  "human_readable_source": "\n \n#include <linux/platform_device.h>\n#include <linux/dmaengine.h>\n#include <linux/types.h>\n#include <linux/module.h>\n\n#include <sound/core.h>\n#include <sound/pcm.h>\n#include <sound/soc.h>\n#include <sound/dmaengine_pcm.h>\n\n#include \"imx-pcm.h\"\n\nstatic bool filter(struct dma_chan *chan, void *param)\n{\n\tif (!imx_dma_is_general_purpose(chan))\n\t\treturn false;\n\n\tchan->private = param;\n\n\treturn true;\n}\n\nstatic const struct snd_dmaengine_pcm_config imx_dmaengine_pcm_config = {\n\t.prepare_slave_config = snd_dmaengine_pcm_prepare_slave_config,\n\t.compat_filter_fn = filter,\n};\n\nint imx_pcm_dma_init(struct platform_device *pdev)\n{\n\tstruct snd_dmaengine_pcm_config *config;\n\n\tconfig = devm_kzalloc(&pdev->dev,\n\t\t\tsizeof(struct snd_dmaengine_pcm_config), GFP_KERNEL);\n\tif (!config)\n\t\treturn -ENOMEM;\n\t*config = imx_dmaengine_pcm_config;\n\n\treturn devm_snd_dmaengine_pcm_register(&pdev->dev,\n\t\tconfig,\n\t\tSND_DMAENGINE_PCM_FLAG_COMPAT);\n}\nEXPORT_SYMBOL_GPL(imx_pcm_dma_init);\n\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}