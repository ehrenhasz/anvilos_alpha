{
  "module_name": "cygnus-ssp.h",
  "hash_id": "a63dcd7d92644e6629e5e7b2a4a279e7d97b3ef55dd12f4a06a467b9f789a9fb",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/bcm/cygnus-ssp.h",
  "human_readable_source": " \n \n#ifndef __CYGNUS_SSP_H__\n#define __CYGNUS_SSP_H__\n\n#define CYGNUS_TDM_DAI_MAX_SLOTS 16\n\n#define CYGNUS_MAX_PLAYBACK_PORTS 4\n#define CYGNUS_MAX_CAPTURE_PORTS 3\n#define CYGNUS_MAX_I2S_PORTS 3\n#define CYGNUS_MAX_PORTS  CYGNUS_MAX_PLAYBACK_PORTS\n#define CYGNUS_AUIDO_MAX_NUM_CLKS 3\n\n#define CYGNUS_SSP_FRAMEBITS_DIV 1\n\n#define CYGNUS_SSPMODE_I2S 0\n#define CYGNUS_SSPMODE_TDM 1\n#define CYGNUS_SSPMODE_UNKNOWN -1\n\n#define CYGNUS_SSP_CLKSRC_PLL      0\n\n \n#define PROP_LEN_MAX 40\n\nstruct ringbuf_regs {\n\tunsigned rdaddr;\n\tunsigned wraddr;\n\tunsigned baseaddr;\n\tunsigned endaddr;\n\tunsigned fmark;    \n\tunsigned period_bytes;\n\tunsigned buf_size;\n};\n\n#define RINGBUF_REG_PLAYBACK(num) ((struct ringbuf_regs) { \\\n\t.rdaddr = SRC_RBUF_ ##num## _RDADDR_OFFSET, \\\n\t.wraddr = SRC_RBUF_ ##num## _WRADDR_OFFSET, \\\n\t.baseaddr = SRC_RBUF_ ##num## _BASEADDR_OFFSET, \\\n\t.endaddr = SRC_RBUF_ ##num## _ENDADDR_OFFSET, \\\n\t.fmark = SRC_RBUF_ ##num## _FREE_MARK_OFFSET, \\\n\t.period_bytes = 0, \\\n\t.buf_size = 0, \\\n})\n\n#define RINGBUF_REG_CAPTURE(num) ((struct ringbuf_regs)  { \\\n\t.rdaddr = DST_RBUF_ ##num## _RDADDR_OFFSET, \\\n\t.wraddr = DST_RBUF_ ##num## _WRADDR_OFFSET, \\\n\t.baseaddr = DST_RBUF_ ##num## _BASEADDR_OFFSET, \\\n\t.endaddr = DST_RBUF_ ##num## _ENDADDR_OFFSET, \\\n\t.fmark = DST_RBUF_ ##num## _FULL_MARK_OFFSET, \\\n\t.period_bytes = 0, \\\n\t.buf_size = 0, \\\n})\n\nenum cygnus_audio_port_type {\n\tPORT_TDM,\n\tPORT_SPDIF,\n};\n\nstruct cygnus_ssp_regs {\n\tu32 i2s_stream_cfg;\n\tu32 i2s_cfg;\n\tu32 i2s_cap_stream_cfg;\n\tu32 i2s_cap_cfg;\n\tu32 i2s_mclk_cfg;\n\n\tu32 bf_destch_ctrl;\n\tu32 bf_destch_cfg;\n\tu32 bf_sourcech_ctrl;\n\tu32 bf_sourcech_cfg;\n\tu32 bf_sourcech_grp;\n};\n\nstruct cygnus_track_clk {\n\tbool cap_en;\n\tbool play_en;\n\tbool cap_clk_en;\n\tbool play_clk_en;\n};\n\nstruct cygnus_aio_port {\n\tint portnum;\n\tint mode;\n\tbool is_slave;\n\tint streams_on;    \n\tint fsync_width;\n\tint port_type;\n\n\tu32 mclk;\n\tu32 lrclk;\n\tu32 bit_per_frame;\n\tu32 pll_clk_num;\n\n\tstruct cygnus_audio *cygaud;\n\tstruct cygnus_ssp_regs regs;\n\n\tstruct ringbuf_regs play_rb_regs;\n\tstruct ringbuf_regs capture_rb_regs;\n\n\tstruct snd_pcm_substream *play_stream;\n\tstruct snd_pcm_substream *capture_stream;\n\n\tstruct cygnus_track_clk clk_trace;\n};\n\n\nstruct cygnus_audio {\n\tstruct cygnus_aio_port  portinfo[CYGNUS_MAX_PORTS];\n\n\tint irq_num;\n\tvoid __iomem *audio;\n\tstruct device *dev;\n\tvoid __iomem *i2s_in;\n\n\tstruct clk *audio_clk[CYGNUS_AUIDO_MAX_NUM_CLKS];\n\tint active_ports;\n\tunsigned long vco_rate;\n};\n\nextern int cygnus_ssp_set_custom_fsync_width(struct snd_soc_dai *cpu_dai,\n\t\t\t\t\t\tint len);\nextern int cygnus_soc_platform_register(struct device *dev,\n\t\t\t\t\tstruct cygnus_audio *cygaud);\nextern int cygnus_soc_platform_unregister(struct device *dev);\nextern int cygnus_ssp_set_custom_fsync_width(struct snd_soc_dai *cpu_dai,\n\tint len);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}