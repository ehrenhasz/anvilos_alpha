{
  "module_name": "pci-cnl.c",
  "hash_id": "faa433e8052ad92fea34163108bbdd75e521ee35fc4b16f5ca9adaa84a513309",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/sof/intel/pci-cnl.c",
  "human_readable_source": "\n\n\n\n\n\n\n\n\n\n#include <linux/module.h>\n#include <linux/pci.h>\n#include <sound/soc-acpi.h>\n#include <sound/soc-acpi-intel-match.h>\n#include <sound/sof.h>\n#include \"../ops.h\"\n#include \"../sof-pci-dev.h\"\n\n \n#include \"hda.h\"\n\nstatic const struct sof_dev_desc cnl_desc = {\n\t.machines\t\t= snd_soc_acpi_intel_cnl_machines,\n\t.alt_machines\t\t= snd_soc_acpi_intel_cnl_sdw_machines,\n\t.use_acpi_target_states\t= true,\n\t.resindex_lpe_base\t= 0,\n\t.resindex_pcicfg_base\t= -1,\n\t.resindex_imr_base\t= -1,\n\t.irqindex_host_ipc\t= -1,\n\t.chip_info = &cnl_chip_info,\n\t.ipc_supported_mask\t= BIT(SOF_IPC) | BIT(SOF_INTEL_IPC4),\n\t.ipc_default\t\t= SOF_IPC,\n\t.dspless_mode_supported\t= true,\t\t \n\t.default_fw_path = {\n\t\t[SOF_IPC] = \"intel/sof\",\n\t\t[SOF_INTEL_IPC4] = \"intel/avs/cnl\",\n\t},\n\t.default_lib_path = {\n\t\t[SOF_INTEL_IPC4] = \"intel/avs-lib/cnl\",\n\t},\n\t.default_tplg_path = {\n\t\t[SOF_IPC] = \"intel/sof-tplg\",\n\t\t[SOF_INTEL_IPC4] = \"intel/avs-tplg\",\n\t},\n\t.default_fw_filename = {\n\t\t[SOF_IPC] = \"sof-cnl.ri\",\n\t\t[SOF_INTEL_IPC4] = \"dsp_basefw.bin\",\n\t},\n\t.nocodec_tplg_filename = \"sof-cnl-nocodec.tplg\",\n\t.ops = &sof_cnl_ops,\n\t.ops_init = sof_cnl_ops_init,\n\t.ops_free = hda_ops_free,\n};\n\nstatic const struct sof_dev_desc cfl_desc = {\n\t.machines\t\t= snd_soc_acpi_intel_cfl_machines,\n\t.alt_machines\t\t= snd_soc_acpi_intel_cfl_sdw_machines,\n\t.use_acpi_target_states\t= true,\n\t.resindex_lpe_base\t= 0,\n\t.resindex_pcicfg_base\t= -1,\n\t.resindex_imr_base\t= -1,\n\t.irqindex_host_ipc\t= -1,\n\t.chip_info = &cnl_chip_info,\n\t.ipc_supported_mask\t= BIT(SOF_IPC) | BIT(SOF_INTEL_IPC4),\n\t.ipc_default\t\t= SOF_IPC,\n\t.dspless_mode_supported\t= true,\t\t \n\t.default_fw_path = {\n\t\t[SOF_IPC] = \"intel/sof\",\n\t\t[SOF_INTEL_IPC4] = \"intel/avs/cnl\",\n\t},\n\t.default_lib_path = {\n\t\t[SOF_INTEL_IPC4] = \"intel/avs-lib/cnl\",\n\t},\n\t.default_tplg_path = {\n\t\t[SOF_IPC] = \"intel/sof-tplg\",\n\t\t[SOF_INTEL_IPC4] = \"intel/avs-tplg\",\n\t},\n\t.default_fw_filename = {\n\t\t[SOF_IPC] = \"sof-cfl.ri\",\n\t\t[SOF_INTEL_IPC4] = \"dsp_basefw.bin\",\n\t},\n\t.nocodec_tplg_filename = \"sof-cnl-nocodec.tplg\",\n\t.ops = &sof_cnl_ops,\n\t.ops_init = sof_cnl_ops_init,\n\t.ops_free = hda_ops_free,\n};\n\nstatic const struct sof_dev_desc cml_desc = {\n\t.machines\t\t= snd_soc_acpi_intel_cml_machines,\n\t.alt_machines\t\t= snd_soc_acpi_intel_cml_sdw_machines,\n\t.use_acpi_target_states\t= true,\n\t.resindex_lpe_base\t= 0,\n\t.resindex_pcicfg_base\t= -1,\n\t.resindex_imr_base\t= -1,\n\t.irqindex_host_ipc\t= -1,\n\t.chip_info = &cnl_chip_info,\n\t.ipc_supported_mask\t= BIT(SOF_IPC) | BIT(SOF_INTEL_IPC4),\n\t.ipc_default\t\t= SOF_IPC,\n\t.dspless_mode_supported\t= true,\t\t \n\t.default_fw_path = {\n\t\t[SOF_IPC] = \"intel/sof\",\n\t\t[SOF_INTEL_IPC4] = \"intel/avs/cnl\",\n\t},\n\t.default_lib_path = {\n\t\t[SOF_INTEL_IPC4] = \"intel/avs-lib/cnl\",\n\t},\n\t.default_tplg_path = {\n\t\t[SOF_IPC] = \"intel/sof-tplg\",\n\t\t[SOF_INTEL_IPC4] = \"intel/avs-tplg\",\n\t},\n\t.default_fw_filename = {\n\t\t[SOF_IPC] = \"sof-cml.ri\",\n\t\t[SOF_INTEL_IPC4] = \"dsp_basefw.bin\",\n\t},\n\t.nocodec_tplg_filename = \"sof-cnl-nocodec.tplg\",\n\t.ops = &sof_cnl_ops,\n\t.ops_init = sof_cnl_ops_init,\n\t.ops_free = hda_ops_free,\n};\n\n \nstatic const struct pci_device_id sof_pci_ids[] = {\n\t{ PCI_DEVICE_DATA(INTEL, HDA_CNL_LP, &cnl_desc) },\n\t{ PCI_DEVICE_DATA(INTEL, HDA_CNL_H, &cfl_desc) },\n\t{ PCI_DEVICE_DATA(INTEL, HDA_CML_LP, &cml_desc) },\n\t{ PCI_DEVICE_DATA(INTEL, HDA_CML_H, &cml_desc) },\n\t{ PCI_DEVICE_DATA(INTEL, HDA_CML_S, &cml_desc) },\n\t{ 0, }\n};\nMODULE_DEVICE_TABLE(pci, sof_pci_ids);\n\n \nstatic struct pci_driver snd_sof_pci_intel_cnl_driver = {\n\t.name = \"sof-audio-pci-intel-cnl\",\n\t.id_table = sof_pci_ids,\n\t.probe = hda_pci_intel_probe,\n\t.remove = sof_pci_remove,\n\t.shutdown = sof_pci_shutdown,\n\t.driver = {\n\t\t.pm = &sof_pci_pm,\n\t},\n};\nmodule_pci_driver(snd_sof_pci_intel_cnl_driver);\n\nMODULE_LICENSE(\"Dual BSD/GPL\");\nMODULE_IMPORT_NS(SND_SOC_SOF_INTEL_HDA_COMMON);\nMODULE_IMPORT_NS(SND_SOC_SOF_PCI_DEV);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}