{
  "module_name": "sof-priv.h",
  "hash_id": "50a70e8ca88493326fcc4b0b95c12e97ccd5f66a61740681b97f473b47372575",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/sof/sof-priv.h",
  "human_readable_source": " \n \n\n#ifndef __SOUND_SOC_SOF_PRIV_H\n#define __SOUND_SOC_SOF_PRIV_H\n\n#include <linux/device.h>\n#include <sound/hdaudio.h>\n#include <sound/sof.h>\n#include <sound/sof/info.h>\n#include <sound/sof/pm.h>\n#include <sound/sof/trace.h>\n#include <uapi/sound/sof/fw.h>\n#include <sound/sof/ext_manifest.h>\n\nstruct snd_sof_pcm_stream;\n\n \n#define SOF_DBG_ENABLE_TRACE\tBIT(0)\n#define SOF_DBG_RETAIN_CTX\tBIT(1)\t \n#define SOF_DBG_VERIFY_TPLG\tBIT(2)  \n#define SOF_DBG_DYNAMIC_PIPELINES_OVERRIDE\tBIT(3)  \n#define SOF_DBG_DYNAMIC_PIPELINES_ENABLE\tBIT(4)  \n#define SOF_DBG_DISABLE_MULTICORE\t\tBIT(5)  \n#define SOF_DBG_PRINT_ALL_DUMPS\t\tBIT(6)  \n#define SOF_DBG_IGNORE_D3_PERSISTENT\t\tBIT(7)  \n#define SOF_DBG_PRINT_DMA_POSITION_UPDATE_LOGS\tBIT(8)  \n#define SOF_DBG_PRINT_IPC_SUCCESS_LOGS\t\tBIT(9)  \n#define SOF_DBG_FORCE_NOCODEC\t\t\tBIT(10)  \n#define SOF_DBG_DUMP_IPC_MESSAGE_PAYLOAD\tBIT(11)  \n#define SOF_DBG_DSPLESS_MODE\t\t\tBIT(15)  \n\n \n#define SOF_DBG_DUMP_REGS\t\tBIT(0)\n#define SOF_DBG_DUMP_MBOX\t\tBIT(1)\n#define SOF_DBG_DUMP_TEXT\t\tBIT(2)\n#define SOF_DBG_DUMP_PCI\t\tBIT(3)\n \n#define SOF_DBG_DUMP_OPTIONAL\t\tBIT(4)\n\n \nbool sof_debug_check_flag(int mask);\n\n \n#define SND_SOF_BARS\t8\n\n \n#define SND_SOF_SUSPEND_DELAY_MS\t2000\n\n \n#define DMA_BUF_SIZE_FOR_TRACE (PAGE_SIZE * 16)\n\n#define SOF_IPC_DSP_REPLY\t\t0\n#define SOF_IPC_HOST_REPLY\t\t1\n\n \n#define SOF_DAI_STREAM(sname, scmin, scmax, srates, sfmt) \\\n\t{.stream_name = sname, .channels_min = scmin, .channels_max = scmax, \\\n\t .rates = srates, .formats = sfmt}\n\n#define SOF_FORMATS (SNDRV_PCM_FMTBIT_S16_LE | SNDRV_PCM_FMTBIT_S24_LE | \\\n\tSNDRV_PCM_FMTBIT_S32_LE | SNDRV_PCM_FMTBIT_FLOAT)\n\n \n#define SOF_DSP_PRIMARY_CORE 0\n\n \n#define SOF_MAX_DSP_NUM_CORES 8\n\nstruct sof_dsp_power_state {\n\tu32 state;\n\tu32 substate;  \n};\n\n \nenum sof_system_suspend_state {\n\tSOF_SUSPEND_NONE = 0,\n\tSOF_SUSPEND_S0IX,\n\tSOF_SUSPEND_S3,\n\tSOF_SUSPEND_S4,\n\tSOF_SUSPEND_S5,\n};\n\nenum sof_dfsentry_type {\n\tSOF_DFSENTRY_TYPE_IOMEM = 0,\n\tSOF_DFSENTRY_TYPE_BUF,\n};\n\nenum sof_debugfs_access_type {\n\tSOF_DEBUGFS_ACCESS_ALWAYS = 0,\n\tSOF_DEBUGFS_ACCESS_D0_ONLY,\n};\n\nstruct sof_compr_stream {\n\tu64 copied_total;\n\tu32 sampling_rate;\n\tu16 channels;\n\tu16 sample_container_bytes;\n\tsize_t posn_offset;\n};\n\nstruct snd_sof_dev;\nstruct snd_sof_ipc_msg;\nstruct snd_sof_ipc;\nstruct snd_sof_debugfs_map;\nstruct snd_soc_tplg_ops;\nstruct snd_soc_component;\nstruct snd_sof_pdata;\n\n \nstruct snd_sof_platform_stream_params {\n\tu16 stream_tag;\n\tbool use_phy_address;\n\tu32 phy_addr;\n\tbool no_ipc_position;\n\tbool cont_update_posn;\n};\n\n \nstruct sof_firmware {\n\tconst struct firmware *fw;\n\tu32 payload_offset;\n};\n\n \nstruct snd_sof_dsp_ops {\n\n\t \n\tint (*probe)(struct snd_sof_dev *sof_dev);  \n\tint (*remove)(struct snd_sof_dev *sof_dev);  \n\tint (*shutdown)(struct snd_sof_dev *sof_dev);  \n\n\t \n\tint (*run)(struct snd_sof_dev *sof_dev);  \n\tint (*stall)(struct snd_sof_dev *sof_dev, unsigned int core_mask);  \n\tint (*reset)(struct snd_sof_dev *sof_dev);  \n\tint (*core_get)(struct snd_sof_dev *sof_dev, int core);  \n\tint (*core_put)(struct snd_sof_dev *sof_dev, int core);  \n\n\t \n\tvoid (*write8)(struct snd_sof_dev *sof_dev, void __iomem *addr,\n\t\t       u8 value);  \n\tu8 (*read8)(struct snd_sof_dev *sof_dev,\n\t\t    void __iomem *addr);  \n\tvoid (*write)(struct snd_sof_dev *sof_dev, void __iomem *addr,\n\t\t      u32 value);  \n\tu32 (*read)(struct snd_sof_dev *sof_dev,\n\t\t    void __iomem *addr);  \n\tvoid (*write64)(struct snd_sof_dev *sof_dev, void __iomem *addr,\n\t\t\tu64 value);  \n\tu64 (*read64)(struct snd_sof_dev *sof_dev,\n\t\t      void __iomem *addr);  \n\n\t \n\tint (*block_read)(struct snd_sof_dev *sof_dev,\n\t\t\t  enum snd_sof_fw_blk_type type, u32 offset,\n\t\t\t  void *dest, size_t size);  \n\tint (*block_write)(struct snd_sof_dev *sof_dev,\n\t\t\t   enum snd_sof_fw_blk_type type, u32 offset,\n\t\t\t   void *src, size_t size);  \n\n\t \n\tvoid (*mailbox_read)(struct snd_sof_dev *sof_dev,\n\t\t\t     u32 offset, void *dest,\n\t\t\t     size_t size);  \n\tvoid (*mailbox_write)(struct snd_sof_dev *sof_dev,\n\t\t\t      u32 offset, void *src,\n\t\t\t      size_t size);  \n\n\t \n\tirqreturn_t (*irq_handler)(int irq, void *context);  \n\tirqreturn_t (*irq_thread)(int irq, void *context);  \n\n\t \n\tint (*send_msg)(struct snd_sof_dev *sof_dev,\n\t\t\tstruct snd_sof_ipc_msg *msg);  \n\n\t \n\tint (*load_firmware)(struct snd_sof_dev *sof_dev);  \n\tint (*load_module)(struct snd_sof_dev *sof_dev,\n\t\t\t   struct snd_sof_mod_hdr *hdr);  \n\n\t \n\tint (*pcm_open)(struct snd_sof_dev *sdev,\n\t\t\tstruct snd_pcm_substream *substream);  \n\t \n\tint (*pcm_close)(struct snd_sof_dev *sdev,\n\t\t\t struct snd_pcm_substream *substream);  \n\n\t \n\tint (*pcm_hw_params)(struct snd_sof_dev *sdev,\n\t\t\t     struct snd_pcm_substream *substream,\n\t\t\t     struct snd_pcm_hw_params *params,\n\t\t\t     struct snd_sof_platform_stream_params *platform_params);  \n\n\t \n\tint (*pcm_hw_free)(struct snd_sof_dev *sdev,\n\t\t\t   struct snd_pcm_substream *substream);  \n\n\t \n\tint (*pcm_trigger)(struct snd_sof_dev *sdev,\n\t\t\t   struct snd_pcm_substream *substream,\n\t\t\t   int cmd);  \n\n\t \n\tsnd_pcm_uframes_t (*pcm_pointer)(struct snd_sof_dev *sdev,\n\t\t\t\t\t struct snd_pcm_substream *substream);  \n\n\t \n\tint (*pcm_ack)(struct snd_sof_dev *sdev, struct snd_pcm_substream *substream);  \n\n\t \n\tu64 (*get_stream_position)(struct snd_sof_dev *sdev,\n\t\t\t\t   struct snd_soc_component *component,\n\t\t\t\t   struct snd_pcm_substream *substream);  \n\n\t \n\tint (*ipc_msg_data)(struct snd_sof_dev *sdev,\n\t\t\t    struct snd_sof_pcm_stream *sps,\n\t\t\t    void *p, size_t sz);  \n\n\t \n\tint (*set_stream_data_offset)(struct snd_sof_dev *sdev,\n\t\t\t\t      struct snd_sof_pcm_stream *sps,\n\t\t\t\t      size_t posn_offset);  \n\n\t \n\tint (*pre_fw_run)(struct snd_sof_dev *sof_dev);  \n\tint (*post_fw_run)(struct snd_sof_dev *sof_dev);  \n\n\t \n\tint (*parse_platform_ext_manifest)(struct snd_sof_dev *sof_dev,\n\t\t\t\t\t   const struct sof_ext_man_elem_header *hdr);\n\n\t \n\tint (*suspend)(struct snd_sof_dev *sof_dev,\n\t\t       u32 target_state);  \n\tint (*resume)(struct snd_sof_dev *sof_dev);  \n\tint (*runtime_suspend)(struct snd_sof_dev *sof_dev);  \n\tint (*runtime_resume)(struct snd_sof_dev *sof_dev);  \n\tint (*runtime_idle)(struct snd_sof_dev *sof_dev);  \n\tint (*set_hw_params_upon_resume)(struct snd_sof_dev *sdev);  \n\tint (*set_power_state)(struct snd_sof_dev *sdev,\n\t\t\t       const struct sof_dsp_power_state *target_state);  \n\n\t \n\tint (*set_clk)(struct snd_sof_dev *sof_dev, u32 freq);  \n\n\t \n\tconst struct snd_sof_debugfs_map *debug_map;  \n\tint debug_map_count;  \n\tvoid (*dbg_dump)(struct snd_sof_dev *sof_dev,\n\t\t\t u32 flags);  \n\tvoid (*ipc_dump)(struct snd_sof_dev *sof_dev);  \n\tint (*debugfs_add_region_item)(struct snd_sof_dev *sdev,\n\t\t\t\t       enum snd_sof_fw_blk_type blk_type, u32 offset,\n\t\t\t\t       size_t size, const char *name,\n\t\t\t\t       enum sof_debugfs_access_type access_type);  \n\n\t \n\tint (*trace_init)(struct snd_sof_dev *sdev,\n\t\t\t  struct snd_dma_buffer *dmatb,\n\t\t\t  struct sof_ipc_dma_trace_params_ext *dtrace_params);  \n\tint (*trace_release)(struct snd_sof_dev *sdev);  \n\tint (*trace_trigger)(struct snd_sof_dev *sdev,\n\t\t\t     int cmd);  \n\n\t \n\tint (*get_bar_index)(struct snd_sof_dev *sdev,\n\t\t\t     u32 type);  \n\tint (*get_mailbox_offset)(struct snd_sof_dev *sdev); \n\tint (*get_window_offset)(struct snd_sof_dev *sdev,\n\t\t\t\t u32 id); \n\n\t \n\tint (*machine_register)(struct snd_sof_dev *sdev,\n\t\t\t\tvoid *pdata);  \n\tvoid (*machine_unregister)(struct snd_sof_dev *sdev,\n\t\t\t\t   void *pdata);  \n\tstruct snd_soc_acpi_mach * (*machine_select)(struct snd_sof_dev *sdev);  \n\tvoid (*set_mach_params)(struct snd_soc_acpi_mach *mach,\n\t\t\t\tstruct snd_sof_dev *sdev);  \n\n\t \n\tint (*register_ipc_clients)(struct snd_sof_dev *sdev);  \n\tvoid (*unregister_ipc_clients)(struct snd_sof_dev *sdev);  \n\n\t \n\tstruct snd_soc_dai_driver *drv;\n\tint num_drv;\n\n\t \n\tu32 hw_info;\n\n\tconst struct dsp_arch_ops *dsp_arch_ops;\n};\n\n \nstruct dsp_arch_ops {\n\tvoid (*dsp_oops)(struct snd_sof_dev *sdev, const char *level, void *oops);\n\tvoid (*dsp_stack)(struct snd_sof_dev *sdev, const char *level, void *oops,\n\t\t\t  u32 *stack, u32 stack_words);\n};\n\n#define sof_dsp_arch_ops(sdev) ((sdev)->pdata->desc->ops->dsp_arch_ops)\n\n \nstruct snd_sof_dfsentry {\n\tsize_t size;\n\tsize_t buf_data_size;   \n\tenum sof_dfsentry_type type;\n\t \n\tenum sof_debugfs_access_type access_type;\n#if IS_ENABLED(CONFIG_SND_SOC_SOF_DEBUG_ENABLE_DEBUGFS_CACHE)\n\tchar *cache_buf;  \n#endif\n\tstruct snd_sof_dev *sdev;\n\tstruct list_head list;   \n\tunion {\n\t\tvoid __iomem *io_mem;\n\t\tvoid *buf;\n\t};\n};\n\n \nstruct snd_sof_debugfs_map {\n\tconst char *name;\n\tu32 bar;\n\tu32 offset;\n\tu32 size;\n\t \n\tenum sof_debugfs_access_type access_type;\n};\n\n \nstruct snd_sof_mailbox {\n\tu32 offset;\n\tsize_t size;\n};\n\n \nstruct snd_sof_ipc_msg {\n\t \n\tvoid *msg_data;\n\tvoid *reply_data;\n\tsize_t msg_size;\n\tsize_t reply_size;\n\tint reply_error;\n\n\t \n\tvoid *rx_data;\n\n\twait_queue_head_t waitq;\n\tbool ipc_complete;\n};\n\n \nstruct sof_ipc_fw_tracing_ops {\n\tint (*init)(struct snd_sof_dev *sdev);\n\tvoid (*free)(struct snd_sof_dev *sdev);\n\tvoid (*fw_crashed)(struct snd_sof_dev *sdev);\n\tvoid (*suspend)(struct snd_sof_dev *sdev, pm_message_t pm_state);\n\tint (*resume)(struct snd_sof_dev *sdev);\n};\n\n \nstruct sof_ipc_pm_ops {\n\tint (*ctx_save)(struct snd_sof_dev *sdev);\n\tint (*ctx_restore)(struct snd_sof_dev *sdev);\n\tint (*set_core_state)(struct snd_sof_dev *sdev, int core_idx, bool on);\n\tint (*set_pm_gate)(struct snd_sof_dev *sdev, u32 flags);\n};\n\n \nstruct sof_ipc_fw_loader_ops {\n\tint (*validate)(struct snd_sof_dev *sdev);\n\tsize_t (*parse_ext_manifest)(struct snd_sof_dev *sdev);\n\tint (*load_fw_to_dsp)(struct snd_sof_dev *sdev);\n};\n\nstruct sof_ipc_tplg_ops;\nstruct sof_ipc_pcm_ops;\n\n \nstruct sof_ipc_ops {\n\tconst struct sof_ipc_tplg_ops *tplg;\n\tconst struct sof_ipc_pm_ops *pm;\n\tconst struct sof_ipc_pcm_ops *pcm;\n\tconst struct sof_ipc_fw_loader_ops *fw_loader;\n\tconst struct sof_ipc_fw_tracing_ops *fw_tracing;\n\n\tint (*init)(struct snd_sof_dev *sdev);\n\tvoid (*exit)(struct snd_sof_dev *sdev);\n\tint (*post_fw_boot)(struct snd_sof_dev *sdev);\n\n\tint (*tx_msg)(struct snd_sof_dev *sdev, void *msg_data, size_t msg_bytes,\n\t\t      void *reply_data, size_t reply_bytes, bool no_pm);\n\tint (*set_get_data)(struct snd_sof_dev *sdev, void *data, size_t data_bytes,\n\t\t\t    bool set);\n\tint (*get_reply)(struct snd_sof_dev *sdev);\n\tvoid (*rx_msg)(struct snd_sof_dev *sdev);\n};\n\n \nstruct snd_sof_ipc {\n\tstruct snd_sof_dev *sdev;\n\n\t \n\tstruct mutex tx_mutex;\n\t \n\tbool disable_ipc_tx;\n\n\t \n\tsize_t max_payload_size;\n\n\tstruct snd_sof_ipc_msg msg;\n\n\t \n\tconst struct sof_ipc_ops *ops;\n};\n\n \n#define sof_ipc_get_ops(sdev, ops_name)\t\t\\\n\t\t(((sdev)->ipc && (sdev)->ipc->ops) ? (sdev)->ipc->ops->ops_name : NULL)\n\n \nstruct snd_sof_dev {\n\tstruct device *dev;\n\tspinlock_t ipc_lock;\t \n\tspinlock_t hw_lock;\t \n\n\t \n\tbool dspless_mode_selected;\n\n\t \n\tstruct sof_firmware basefw;\n\n\t \n\tstruct snd_soc_component_driver plat_drv;\n\n\t \n\tstruct sof_dsp_power_state dsp_power_state;\n\t \n\tstruct mutex power_state_access;\n\n\t \n\tenum sof_system_suspend_state system_suspend_target;\n\n\t \n\twait_queue_head_t boot_wait;\n\tenum sof_fw_state fw_state;\n\tbool first_boot;\n\n\t \n\tstruct work_struct probe_work;\n\tbool probe_completed;\n\n\t \n\tstruct snd_sof_pdata *pdata;\n\n\t \n\tstruct snd_sof_ipc *ipc;\n\tstruct snd_sof_mailbox fw_info_box;\t \n\tstruct snd_sof_mailbox dsp_box;\t\t \n\tstruct snd_sof_mailbox host_box;\t \n\tstruct snd_sof_mailbox stream_box;\t \n\tstruct snd_sof_mailbox debug_box;\t \n\tstruct snd_sof_ipc_msg *msg;\n\tint ipc_irq;\n\tu32 next_comp_id;  \n\n\t \n\tvoid __iomem *bar[SND_SOF_BARS];\t \n\tint mmio_bar;\n\tint mailbox_bar;\n\tsize_t dsp_oops_offset;\n\n\t \n\tstruct dentry *debugfs_root;\n\tstruct list_head dfsentry_list;\n\tbool dbg_dump_printed;\n\tbool ipc_dump_printed;\n\n\t \n\tstruct sof_ipc_fw_ready fw_ready;\n\tstruct sof_ipc_fw_version fw_version;\n\tstruct sof_ipc_cc_version *cc_version;\n\n\t \n\tstruct snd_soc_tplg_ops *tplg_ops;\n\tstruct list_head pcm_list;\n\tstruct list_head kcontrol_list;\n\tstruct list_head widget_list;\n\tstruct list_head pipeline_list;\n\tstruct list_head dai_list;\n\tstruct list_head dai_link_list;\n\tstruct list_head route_list;\n\tstruct snd_soc_component *component;\n\tu32 enabled_cores_mask;  \n\tbool led_present;\n\n\t \n\tstruct sof_ipc_window *info_window;\n\n\t \n\tint ipc_timeout;\n\tint boot_timeout;\n\n\t \n\tbool fw_trace_is_supported;  \n\tvoid *fw_trace_data;  \n\n\tbool msi_enabled;\n\n\t \n\tu32 num_cores;\n\n\t \n\tint dsp_core_ref_count[SOF_MAX_DSP_NUM_CORES];\n\n\t \n\tstruct list_head ipc_client_list;\n\n\t \n\tstruct mutex ipc_client_mutex;\n\n\t \n\tstruct list_head ipc_rx_handler_list;\n\n\t \n\tstruct list_head fw_state_handler_list;\n\n\t \n\tstruct mutex client_event_handler_mutex;\n\n\t \n\tbool mclk_id_override;\n\tu16  mclk_id_quirk;  \n\n\tvoid *private;\t\t\t \n};\n\n \n\nint snd_sof_device_probe(struct device *dev, struct snd_sof_pdata *plat_data);\nint snd_sof_device_remove(struct device *dev);\nint snd_sof_device_shutdown(struct device *dev);\nbool snd_sof_device_probe_completed(struct device *dev);\n\nint snd_sof_runtime_suspend(struct device *dev);\nint snd_sof_runtime_resume(struct device *dev);\nint snd_sof_runtime_idle(struct device *dev);\nint snd_sof_resume(struct device *dev);\nint snd_sof_suspend(struct device *dev);\nint snd_sof_dsp_power_down_notify(struct snd_sof_dev *sdev);\nint snd_sof_prepare(struct device *dev);\nvoid snd_sof_complete(struct device *dev);\n\nvoid snd_sof_new_platform_drv(struct snd_sof_dev *sdev);\n\n \nextern struct snd_compress_ops sof_compressed_ops;\n\n \nint snd_sof_load_firmware_raw(struct snd_sof_dev *sdev);\nint snd_sof_load_firmware_memcpy(struct snd_sof_dev *sdev);\nint snd_sof_run_firmware(struct snd_sof_dev *sdev);\nvoid snd_sof_fw_unload(struct snd_sof_dev *sdev);\n\n \nstruct snd_sof_ipc *snd_sof_ipc_init(struct snd_sof_dev *sdev);\nvoid snd_sof_ipc_free(struct snd_sof_dev *sdev);\nvoid snd_sof_ipc_get_reply(struct snd_sof_dev *sdev);\nvoid snd_sof_ipc_reply(struct snd_sof_dev *sdev, u32 msg_id);\nstatic inline void snd_sof_ipc_msgs_rx(struct snd_sof_dev *sdev)\n{\n\tsdev->ipc->ops->rx_msg(sdev);\n}\nint sof_ipc_tx_message(struct snd_sof_ipc *ipc, void *msg_data, size_t msg_bytes,\n\t\t       void *reply_data, size_t reply_bytes);\nstatic inline int sof_ipc_tx_message_no_reply(struct snd_sof_ipc *ipc, void *msg_data,\n\t\t\t\t\t      size_t msg_bytes)\n{\n\treturn sof_ipc_tx_message(ipc, msg_data, msg_bytes, NULL, 0);\n}\nint sof_ipc_set_get_data(struct snd_sof_ipc *ipc, void *msg_data,\n\t\t\t size_t msg_bytes, bool set);\nint sof_ipc_tx_message_no_pm(struct snd_sof_ipc *ipc, void *msg_data, size_t msg_bytes,\n\t\t\t     void *reply_data, size_t reply_bytes);\nstatic inline int sof_ipc_tx_message_no_pm_no_reply(struct snd_sof_ipc *ipc, void *msg_data,\n\t\t\t\t\t\t    size_t msg_bytes)\n{\n\treturn sof_ipc_tx_message_no_pm(ipc, msg_data, msg_bytes, NULL, 0);\n}\nint sof_ipc_send_msg(struct snd_sof_dev *sdev, void *msg_data, size_t msg_bytes,\n\t\t     size_t reply_bytes);\n\nstatic inline void snd_sof_ipc_process_reply(struct snd_sof_dev *sdev, u32 msg_id)\n{\n\tsnd_sof_ipc_get_reply(sdev);\n\tsnd_sof_ipc_reply(sdev, msg_id);\n}\n\n \nint snd_sof_dbg_init(struct snd_sof_dev *sdev);\nvoid snd_sof_free_debug(struct snd_sof_dev *sdev);\nint snd_sof_debugfs_buf_item(struct snd_sof_dev *sdev,\n\t\t\t     void *base, size_t size,\n\t\t\t     const char *name, mode_t mode);\nvoid sof_print_oops_and_stack(struct snd_sof_dev *sdev, const char *level,\n\t\t\t      u32 panic_code, u32 tracep_code, void *oops,\n\t\t\t      struct sof_ipc_panic_info *panic_info,\n\t\t\t      void *stack, size_t stack_words);\nvoid snd_sof_handle_fw_exception(struct snd_sof_dev *sdev, const char *msg);\nint snd_sof_dbg_memory_info_init(struct snd_sof_dev *sdev);\nint snd_sof_debugfs_add_region_item_iomem(struct snd_sof_dev *sdev,\n\t\tenum snd_sof_fw_blk_type blk_type, u32 offset, size_t size,\n\t\tconst char *name, enum sof_debugfs_access_type access_type);\n \nint sof_fw_trace_init(struct snd_sof_dev *sdev);\nvoid sof_fw_trace_free(struct snd_sof_dev *sdev);\nvoid sof_fw_trace_fw_crashed(struct snd_sof_dev *sdev);\nvoid sof_fw_trace_suspend(struct snd_sof_dev *sdev, pm_message_t pm_state);\nint sof_fw_trace_resume(struct snd_sof_dev *sdev);\n\n \nstatic inline void sof_stack(struct snd_sof_dev *sdev, const char *level,\n\t\t\t     void *oops, u32 *stack, u32 stack_words)\n{\n\t\tsof_dsp_arch_ops(sdev)->dsp_stack(sdev, level,  oops, stack,\n\t\t\t\t\t\t  stack_words);\n}\n\nstatic inline void sof_oops(struct snd_sof_dev *sdev, const char *level, void *oops)\n{\n\tif (sof_dsp_arch_ops(sdev)->dsp_oops)\n\t\tsof_dsp_arch_ops(sdev)->dsp_oops(sdev, level, oops);\n}\n\nextern const struct dsp_arch_ops sof_xtensa_arch_ops;\n\n \nvoid sof_set_fw_state(struct snd_sof_dev *sdev, enum sof_fw_state new_state);\n\n \nvoid sof_io_write(struct snd_sof_dev *sdev, void __iomem *addr, u32 value);\nvoid sof_io_write64(struct snd_sof_dev *sdev, void __iomem *addr, u64 value);\nu32 sof_io_read(struct snd_sof_dev *sdev, void __iomem *addr);\nu64 sof_io_read64(struct snd_sof_dev *sdev, void __iomem *addr);\nvoid sof_mailbox_write(struct snd_sof_dev *sdev, u32 offset,\n\t\t       void *message, size_t bytes);\nvoid sof_mailbox_read(struct snd_sof_dev *sdev, u32 offset,\n\t\t      void *message, size_t bytes);\nint sof_block_write(struct snd_sof_dev *sdev, enum snd_sof_fw_blk_type blk_type,\n\t\t    u32 offset, void *src, size_t size);\nint sof_block_read(struct snd_sof_dev *sdev, enum snd_sof_fw_blk_type blk_type,\n\t\t   u32 offset, void *dest, size_t size);\n\nint sof_ipc_msg_data(struct snd_sof_dev *sdev,\n\t\t     struct snd_sof_pcm_stream *sps,\n\t\t     void *p, size_t sz);\nint sof_set_stream_data_offset(struct snd_sof_dev *sdev,\n\t\t\t       struct snd_sof_pcm_stream *sps,\n\t\t\t       size_t posn_offset);\n\nint sof_stream_pcm_open(struct snd_sof_dev *sdev,\n\t\t\tstruct snd_pcm_substream *substream);\nint sof_stream_pcm_close(struct snd_sof_dev *sdev,\n\t\t\t struct snd_pcm_substream *substream);\n\nint sof_machine_check(struct snd_sof_dev *sdev);\n\n \n#if IS_ENABLED(CONFIG_SND_SOC_SOF_CLIENT)\nint sof_client_dev_register(struct snd_sof_dev *sdev, const char *name, u32 id,\n\t\t\t    const void *data, size_t size);\nvoid sof_client_dev_unregister(struct snd_sof_dev *sdev, const char *name, u32 id);\nint sof_register_clients(struct snd_sof_dev *sdev);\nvoid sof_unregister_clients(struct snd_sof_dev *sdev);\nvoid sof_client_ipc_rx_dispatcher(struct snd_sof_dev *sdev, void *msg_buf);\nvoid sof_client_fw_state_dispatcher(struct snd_sof_dev *sdev);\nint sof_suspend_clients(struct snd_sof_dev *sdev, pm_message_t state);\nint sof_resume_clients(struct snd_sof_dev *sdev);\n#else  \nstatic inline int sof_client_dev_register(struct snd_sof_dev *sdev, const char *name,\n\t\t\t\t\t  u32 id, const void *data, size_t size)\n{\n\treturn 0;\n}\n\nstatic inline void sof_client_dev_unregister(struct snd_sof_dev *sdev,\n\t\t\t\t\t     const char *name, u32 id)\n{\n}\n\nstatic inline int sof_register_clients(struct snd_sof_dev *sdev)\n{\n\treturn 0;\n}\n\nstatic inline  void sof_unregister_clients(struct snd_sof_dev *sdev)\n{\n}\n\nstatic inline void sof_client_ipc_rx_dispatcher(struct snd_sof_dev *sdev, void *msg_buf)\n{\n}\n\nstatic inline void sof_client_fw_state_dispatcher(struct snd_sof_dev *sdev)\n{\n}\n\nstatic inline int sof_suspend_clients(struct snd_sof_dev *sdev, pm_message_t state)\n{\n\treturn 0;\n}\n\nstatic inline int sof_resume_clients(struct snd_sof_dev *sdev)\n{\n\treturn 0;\n}\n#endif  \n\n \nextern const struct sof_ipc_ops ipc3_ops;\nextern const struct sof_ipc_ops ipc4_ops;\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}