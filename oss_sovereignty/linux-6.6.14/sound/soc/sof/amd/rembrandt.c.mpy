{
  "module_name": "rembrandt.c",
  "hash_id": "24fb4c5f1e7fd308436eb7ff986d0a2f550d090216a85da3dbaf007c29aca6bc",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/sof/amd/rembrandt.c",
  "human_readable_source": "\n\n\n\n\n\n\n\n\n \n\n#include <linux/platform_device.h>\n#include <linux/module.h>\n\n#include \"../ops.h\"\n#include \"../sof-audio.h\"\n#include \"acp.h\"\n#include \"acp-dsp-offset.h\"\n\n#define I2S_HS_INSTANCE\t\t0\n#define I2S_BT_INSTANCE\t\t1\n#define I2S_SP_INSTANCE\t\t2\n#define PDM_DMIC_INSTANCE\t3\n#define I2S_HS_VIRTUAL_INSTANCE\t4\n\nstatic struct snd_soc_dai_driver rembrandt_sof_dai[] = {\n\t[I2S_HS_INSTANCE] = {\n\t\t.id = I2S_HS_INSTANCE,\n\t\t.name = \"acp-sof-hs\",\n\t\t.playback = {\n\t\t\t.rates = SNDRV_PCM_RATE_8000_96000,\n\t\t\t.formats = SNDRV_PCM_FMTBIT_S16_LE | SNDRV_PCM_FMTBIT_S8 |\n\t\t\t\t   SNDRV_PCM_FMTBIT_U8 | SNDRV_PCM_FMTBIT_S32_LE,\n\t\t\t.channels_min = 2,\n\t\t\t.channels_max = 8,\n\t\t\t.rate_min = 8000,\n\t\t\t.rate_max = 96000,\n\t\t},\n\t\t.capture = {\n\t\t\t.rates = SNDRV_PCM_RATE_8000_48000,\n\t\t\t.formats = SNDRV_PCM_FMTBIT_S16_LE | SNDRV_PCM_FMTBIT_S8 |\n\t\t\t\t   SNDRV_PCM_FMTBIT_U8 | SNDRV_PCM_FMTBIT_S32_LE,\n\t\t\t \n\t\t\t.channels_min = 2,\n\t\t\t.channels_max = 2,\n\t\t\t.rate_min = 8000,\n\t\t\t.rate_max = 48000,\n\t\t},\n\t},\n\n\t[I2S_BT_INSTANCE] = {\n\t\t.id = I2S_BT_INSTANCE,\n\t\t.name = \"acp-sof-bt\",\n\t\t.playback = {\n\t\t\t.rates = SNDRV_PCM_RATE_8000_96000,\n\t\t\t.formats = SNDRV_PCM_FMTBIT_S16_LE | SNDRV_PCM_FMTBIT_S8 |\n\t\t\t\t   SNDRV_PCM_FMTBIT_U8 | SNDRV_PCM_FMTBIT_S32_LE,\n\t\t\t.channels_min = 2,\n\t\t\t.channels_max = 8,\n\t\t\t.rate_min = 8000,\n\t\t\t.rate_max = 96000,\n\t\t},\n\t\t.capture = {\n\t\t\t.rates = SNDRV_PCM_RATE_8000_48000,\n\t\t\t.formats = SNDRV_PCM_FMTBIT_S16_LE | SNDRV_PCM_FMTBIT_S8 |\n\t\t\t\t   SNDRV_PCM_FMTBIT_U8 | SNDRV_PCM_FMTBIT_S32_LE,\n\t\t\t \n\t\t\t.channels_min = 2,\n\t\t\t.channels_max = 2,\n\t\t\t.rate_min = 8000,\n\t\t\t.rate_max = 48000,\n\t\t},\n\t},\n\n\t[I2S_SP_INSTANCE] = {\n\t\t.id = I2S_SP_INSTANCE,\n\t\t.name = \"acp-sof-sp\",\n\t\t.playback = {\n\t\t\t.rates = SNDRV_PCM_RATE_8000_96000,\n\t\t\t.formats = SNDRV_PCM_FMTBIT_S16_LE | SNDRV_PCM_FMTBIT_S8 |\n\t\t\t\t   SNDRV_PCM_FMTBIT_U8 | SNDRV_PCM_FMTBIT_S32_LE,\n\t\t\t.channels_min = 2,\n\t\t\t.channels_max = 8,\n\t\t\t.rate_min = 8000,\n\t\t\t.rate_max = 96000,\n\t\t},\n\t\t.capture = {\n\t\t\t.rates = SNDRV_PCM_RATE_8000_48000,\n\t\t\t.formats = SNDRV_PCM_FMTBIT_S16_LE | SNDRV_PCM_FMTBIT_S8 |\n\t\t\t\t   SNDRV_PCM_FMTBIT_U8 | SNDRV_PCM_FMTBIT_S32_LE,\n\t\t\t \n\t\t\t.channels_min = 2,\n\t\t\t.channels_max = 2,\n\t\t\t.rate_min = 8000,\n\t\t\t.rate_max = 48000,\n\t\t},\n\t},\n\n\t[PDM_DMIC_INSTANCE] = {\n\t\t.id = PDM_DMIC_INSTANCE,\n\t\t.name = \"acp-sof-dmic\",\n\t\t.capture = {\n\t\t\t.rates = SNDRV_PCM_RATE_8000_48000,\n\t\t\t.formats = SNDRV_PCM_FMTBIT_S32_LE,\n\t\t\t.channels_min = 2,\n\t\t\t.channels_max = 4,\n\t\t\t.rate_min = 8000,\n\t\t\t.rate_max = 48000,\n\t\t},\n\t},\n\n\t[I2S_HS_VIRTUAL_INSTANCE] = {\n\t\t.id = I2S_HS_VIRTUAL_INSTANCE,\n\t\t.name = \"acp-sof-hs-virtual\",\n\t\t.playback = {\n\t\t\t.rates = SNDRV_PCM_RATE_8000_96000,\n\t\t\t.formats = SNDRV_PCM_FMTBIT_S16_LE | SNDRV_PCM_FMTBIT_S8 |\n\t\t\t\t   SNDRV_PCM_FMTBIT_U8 | SNDRV_PCM_FMTBIT_S32_LE,\n\t\t\t.channels_min = 2,\n\t\t\t.channels_max = 8,\n\t\t\t.rate_min = 8000,\n\t\t\t.rate_max = 96000,\n\t\t},\n\t},\n};\n\n \nstruct snd_sof_dsp_ops sof_rembrandt_ops;\nEXPORT_SYMBOL_NS(sof_rembrandt_ops, SND_SOC_SOF_AMD_COMMON);\n\nint sof_rembrandt_ops_init(struct snd_sof_dev *sdev)\n{\n\t \n\tmemcpy(&sof_rembrandt_ops, &sof_acp_common_ops, sizeof(struct snd_sof_dsp_ops));\n\n\tsof_rembrandt_ops.drv = rembrandt_sof_dai;\n\tsof_rembrandt_ops.num_drv = ARRAY_SIZE(rembrandt_sof_dai);\n\n\treturn 0;\n}\n\nMODULE_IMPORT_NS(SND_SOC_SOF_AMD_COMMON);\nMODULE_DESCRIPTION(\"REMBRANDT SOF Driver\");\nMODULE_LICENSE(\"Dual BSD/GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}