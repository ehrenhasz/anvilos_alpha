{
  "module_name": "rn_acp3x.h",
  "hash_id": "54903e06a6029011a27c9b9e16fcb07a22c25800b2b893f0e7d9d6e7060d64d0",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/amd/renoir/rn_acp3x.h",
  "human_readable_source": " \n \n\n#include \"rn_chip_offset_byte.h\"\n\n#define ACP_DEVS\t\t3\n#define ACP_PHY_BASE_ADDRESS 0x1240000\n#define\tACP_REG_START\t0x1240000\n#define\tACP_REG_END\t0x1250200\n\n#define ACP_DEVICE_ID 0x15E2\n#define ACP_POWER_ON 0x00\n#define ACP_POWER_ON_IN_PROGRESS 0x01\n#define ACP_POWER_OFF 0x02\n#define ACP_POWER_OFF_IN_PROGRESS 0x03\n#define ACP_SOFT_RESET_SOFTRESET_AUDDONE_MASK\t0x00010001\n\n#define ACP_PGFSM_CNTL_POWER_ON_MASK    0x01\n#define ACP_PGFSM_CNTL_POWER_OFF_MASK   0x00\n#define ACP_PGFSM_STATUS_MASK           0x03\n#define ACP_POWERED_ON                  0x00\n#define ACP_POWER_ON_IN_PROGRESS        0x01\n#define ACP_POWERED_OFF                 0x02\n#define ACP_POWER_OFF_IN_PROGRESS       0x03\n\n#define ACP_ERROR_MASK 0x20000000\n#define ACP_EXT_INTR_STAT_CLEAR_MASK 0xFFFFFFFF\n#define PDM_DMA_STAT 0x10\n#define PDM_DMA_INTR_MASK  0x10000\n#define ACP_ERROR_STAT 29\n#define PDM_DECIMATION_FACTOR 0x2\n#define ACP_PDM_CLK_FREQ_MASK 0x07\n#define ACP_WOV_GAIN_CONTROL\tGENMASK(4, 3)\n#define ACP_PDM_ENABLE 0x01\n#define ACP_PDM_DISABLE 0x00\n#define ACP_PDM_DMA_EN_STATUS 0x02\n#define TWO_CH 0x02\n#define DELAY_US 5\n#define ACP_COUNTER 20000\n \n#define ACP_SUSPEND_DELAY_MS\t2000\n\n#define ACP_SRAM_PTE_OFFSET\t0x02050000\n#define PAGE_SIZE_4K_ENABLE     0x2\n#define MEM_WINDOW_START\t0x4000000\n\n#define CAPTURE_MIN_NUM_PERIODS     4\n#define CAPTURE_MAX_NUM_PERIODS     4\n#define CAPTURE_MAX_PERIOD_SIZE     8192\n#define CAPTURE_MIN_PERIOD_SIZE     4096\n\n#define MAX_BUFFER (CAPTURE_MAX_PERIOD_SIZE * CAPTURE_MAX_NUM_PERIODS)\n#define MIN_BUFFER MAX_BUFFER\n#define\tACP_DMIC_AUTO   -1\n\nstruct pdm_dev_data {\n\tu32 pdm_irq;\n\tvoid __iomem *acp_base;\n\tstruct snd_pcm_substream *capture_stream;\n};\n\nstruct pdm_stream_instance {\n\tu16 num_pages;\n\tu16 channels;\n\tdma_addr_t dma_addr;\n\tu64 bytescount;\n\tvoid __iomem *acp_base;\n};\n\nunion acp_pdm_dma_count {\n\tstruct {\n\tu32 low;\n\tu32 high;\n\t} bcount;\n\tu64 bytescount;\n};\n\nstatic inline u32 rn_readl(void __iomem *base_addr)\n{\n\treturn readl(base_addr - ACP_PHY_BASE_ADDRESS);\n}\n\nstatic inline void rn_writel(u32 val, void __iomem *base_addr)\n{\n\twritel(val, base_addr - ACP_PHY_BASE_ADDRESS);\n}\n\n \nint snd_amd_acp_find_config(struct pci_dev *pci);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}