{
  "module_name": "acp.h",
  "hash_id": "90968fb51342774ae830da87a9bfd8f2bb18f009e8bde31a9b75f9b8a71a6be0",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/amd/acp.h",
  "human_readable_source": " \n#ifndef __ACP_HW_H\n#define __ACP_HW_H\n\n#include \"include/acp_2_2_d.h\"\n#include \"include/acp_2_2_sh_mask.h\"\n\n#define ACP_PAGE_SIZE_4K_ENABLE\t\t\t0x02\n\n#define ACP_PLAYBACK_PTE_OFFSET\t\t\t10\n#define ACP_CAPTURE_PTE_OFFSET\t\t\t0\n\n \n#define ACP_ST_PLAYBACK_PTE_OFFSET\t0x04\n#define ACP_ST_CAPTURE_PTE_OFFSET\t0x00\n#define ACP_ST_BT_PLAYBACK_PTE_OFFSET\t0x08\n#define ACP_ST_BT_CAPTURE_PTE_OFFSET\t0x0c\n\n#define ACP_GARLIC_CNTL_DEFAULT\t\t\t0x00000FB4\n#define ACP_ONION_CNTL_DEFAULT\t\t\t0x00000FB4\n\n#define ACP_PHYSICAL_BASE\t\t\t0x14000\n\n \n#define ACP_SRAM_BANK_1_ADDRESS\t\t0x4002000\n#define ACP_SRAM_BANK_2_ADDRESS\t\t0x4004000\n#define ACP_SRAM_BANK_3_ADDRESS\t\t0x4006000\n#define ACP_SRAM_BANK_4_ADDRESS\t\t0x4008000\n#define ACP_SRAM_BANK_5_ADDRESS\t\t0x400A000\n\n#define ACP_DMA_RESET_TIME\t\t\t10000\n#define ACP_CLOCK_EN_TIME_OUT_VALUE\t\t0x000000FF\n#define ACP_SOFT_RESET_DONE_TIME_OUT_VALUE\t0x000000FF\n#define ACP_DMA_COMPLETE_TIME_OUT_VALUE\t\t0x000000FF\n\n#define ACP_SRAM_BASE_ADDRESS\t\t\t0x4000000\n#define ACP_DAGB_GRP_SRAM_BASE_ADDRESS\t\t0x4001000\n#define ACP_DAGB_GRP_SRBM_SRAM_BASE_OFFSET\t0x1000\n#define ACP_INTERNAL_APERTURE_WINDOW_0_ADDRESS\t0x00000000\n#define ACP_INTERNAL_APERTURE_WINDOW_4_ADDRESS\t0x01800000\n\n#define TO_ACP_I2S_1   0x2\n#define TO_ACP_I2S_2   0x4\n#define TO_BLUETOOTH   0x3\n#define FROM_ACP_I2S_1 0xa\n#define FROM_ACP_I2S_2 0xb\n#define FROM_BLUETOOTH 0xb\n\n#define I2S_SP_INSTANCE                 0x01\n#define I2S_BT_INSTANCE                 0x02\n#define I2S_MICSP_INSTANCE\t\t0x03\n#define CAP_CHANNEL0\t\t\t0x00\n#define CAP_CHANNEL1\t\t\t0x01\n\n#define ACP_TILE_ON_MASK                0x03\n#define ACP_TILE_OFF_MASK               0x02\n#define ACP_TILE_ON_RETAIN_REG_MASK     0x1f\n#define ACP_TILE_OFF_RETAIN_REG_MASK    0x20\n\n#define ACP_TILE_P1_MASK                0x3e\n#define ACP_TILE_P2_MASK                0x3d\n#define ACP_TILE_DSP0_MASK              0x3b\n#define ACP_TILE_DSP1_MASK              0x37\n\n#define ACP_TILE_DSP2_MASK              0x2f\n \n#define SYSRAM_TO_ACP_CH_NUM 12\n#define ACP_TO_I2S_DMA_CH_NUM 13\n\n \n#define I2S_TO_ACP_DMA_CH_NUM 14\n#define ACP_TO_SYSRAM_CH_NUM 15\n\n \n#define SYSRAM_TO_ACP_BT_INSTANCE_CH_NUM  8\n#define ACP_TO_I2S_DMA_BT_INSTANCE_CH_NUM 9\n\n \n#define I2S_TO_ACP_DMA_BT_INSTANCE_CH_NUM 10\n#define ACP_TO_SYSRAM_BT_INSTANCE_CH_NUM 11\n\n \n#define SYSRAM_TO_ACP_MICSP_INSTANCE_CH_NUM  4\n#define ACP_TO_I2S_DMA_MICSP_INSTANCE_CH_NUM 5\n\n#define NUM_DSCRS_PER_CHANNEL 2\n\n#define PLAYBACK_START_DMA_DESCR_CH12 0\n#define PLAYBACK_END_DMA_DESCR_CH12 1\n#define PLAYBACK_START_DMA_DESCR_CH13 2\n#define PLAYBACK_END_DMA_DESCR_CH13 3\n\n#define CAPTURE_START_DMA_DESCR_CH14 4\n#define CAPTURE_END_DMA_DESCR_CH14 5\n#define CAPTURE_START_DMA_DESCR_CH15 6\n#define CAPTURE_END_DMA_DESCR_CH15 7\n\n \n#define PLAYBACK_START_DMA_DESCR_CH8 8\n#define PLAYBACK_END_DMA_DESCR_CH8 9\n#define PLAYBACK_START_DMA_DESCR_CH9 10\n#define PLAYBACK_END_DMA_DESCR_CH9 11\n\n#define CAPTURE_START_DMA_DESCR_CH10 12\n#define CAPTURE_END_DMA_DESCR_CH10 13\n#define CAPTURE_START_DMA_DESCR_CH11 14\n#define CAPTURE_END_DMA_DESCR_CH11 15\n\n \n#define PLAYBACK_START_DMA_DESCR_CH4 0\n#define PLAYBACK_END_DMA_DESCR_CH4 1\n#define PLAYBACK_START_DMA_DESCR_CH5 2\n#define PLAYBACK_END_DMA_DESCR_CH5 3\n\n#define mmACP_I2S_16BIT_RESOLUTION_EN       0x5209\n#define ACP_I2S_MIC_16BIT_RESOLUTION_EN 0x01\n#define ACP_I2S_MICSP_16BIT_RESOLUTION_EN 0x01\n#define ACP_I2S_SP_16BIT_RESOLUTION_EN\t0x02\n#define ACP_I2S_BT_16BIT_RESOLUTION_EN\t0x04\n#define ACP_BT_UART_PAD_SELECT_MASK\t0x1\n\nenum acp_dma_priority_level {\n\t \n\tACP_DMA_PRIORITY_LEVEL_NORMAL = 0x0,\n\t \n\tACP_DMA_PRIORITY_LEVEL_HIGH = 0x1,\n\tACP_DMA_PRIORITY_LEVEL_FORCESIZE = 0xFF\n};\n\nstruct audio_substream_data {\n\tdma_addr_t dma_addr;\n\tunsigned int order;\n\tu16 num_of_pages;\n\tu16 i2s_instance;\n\tu16 capture_channel;\n\tu16 direction;\n\tu16 ch1;\n\tu16 ch2;\n\tu16 destination;\n\tu16 dma_dscr_idx_1;\n\tu16 dma_dscr_idx_2;\n\tu32 pte_offset;\n\tu32 sram_bank;\n\tu32 byte_cnt_high_reg_offset;\n\tu32 byte_cnt_low_reg_offset;\n\tu32 dma_curr_dscr;\n\tuint64_t size;\n\tu64 bytescount;\n\tvoid __iomem *acp_mmio;\n};\n\nstruct audio_drv_data {\n\tstruct snd_pcm_substream *play_i2ssp_stream;\n\tstruct snd_pcm_substream *capture_i2ssp_stream;\n\tstruct snd_pcm_substream *play_i2sbt_stream;\n\tstruct snd_pcm_substream *capture_i2sbt_stream;\n\tstruct snd_pcm_substream *play_i2s_micsp_stream;\n\tvoid __iomem *acp_mmio;\n\tu32 asic_type;\n\tsnd_pcm_sframes_t delay;\n};\n\n \nstruct acp_platform_info {\n\tu16 play_i2s_instance;\n\tu16 cap_i2s_instance;\n\tu16 capture_channel;\n};\n\nunion acp_dma_count {\n\tstruct {\n\tu32 low;\n\tu32 high;\n\t} bcount;\n\tu64 bytescount;\n};\n\nenum {\n\tACP_TILE_P1 = 0,\n\tACP_TILE_P2,\n\tACP_TILE_DSP0,\n\tACP_TILE_DSP1,\n\tACP_TILE_DSP2,\n};\n\nenum {\n\tACP_DMA_ATTR_SHAREDMEM_TO_DAGB_ONION = 0x0,\n\tACP_DMA_ATTR_SHARED_MEM_TO_DAGB_GARLIC = 0x1,\n\tACP_DMA_ATTR_DAGB_ONION_TO_SHAREDMEM = 0x8,\n\tACP_DMA_ATTR_DAGB_GARLIC_TO_SHAREDMEM = 0x9,\n\tACP_DMA_ATTR_FORCE_SIZE = 0xF\n};\n\ntypedef struct acp_dma_dscr_transfer {\n\t \n\tu32 src;\n\t \n\tu32 dest;\n\t \n\tu32 xfer_val;\n\t \n\tu32 reserved;\n} acp_dma_dscr_transfer_t;\n\nextern bool acp_bt_uart_enable;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}