{
  "module_name": "acp-config.c",
  "hash_id": "8419f8825b379e60b56e30a5be187cae15ded78ff3ac4b5bd36e85db1b3a88dc",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/amd/acp-config.c",
  "human_readable_source": "\n\n\n\n\n\n\n\n\n\n \n\n#include <linux/acpi.h>\n#include <linux/bits.h>\n#include <linux/dmi.h>\n#include <linux/module.h>\n#include <linux/pci.h>\n\n#include \"../sof/amd/acp.h\"\n#include \"mach-config.h\"\n\nstatic int acp_quirk_data;\n\nstatic const struct config_entry config_table[] = {\n\t{\n\t\t.flags = FLAG_AMD_SOF,\n\t\t.device = ACP_PCI_DEV_ID,\n\t\t.dmi_table = (const struct dmi_system_id []) {\n\t\t\t{\n\t\t\t\t.matches = {\n\t\t\t\t\tDMI_MATCH(DMI_SYS_VENDOR, \"AMD\"),\n\t\t\t\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"Majolica-CZN\"),\n\t\t\t\t},\n\t\t\t},\n\t\t\t{}\n\t\t},\n\t},\n\t{\n\t\t.flags = FLAG_AMD_SOF,\n\t\t.device = ACP_PCI_DEV_ID,\n\t\t.dmi_table = (const struct dmi_system_id []) {\n\t\t\t{\n\t\t\t\t.matches = {\n\t\t\t\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Google\"),\n\t\t\t\t},\n\t\t\t},\n\t\t\t{}\n\t\t},\n\t},\n\t{\n\t\t.flags = FLAG_AMD_SOF,\n\t\t.device = ACP_PCI_DEV_ID,\n\t\t.dmi_table = (const struct dmi_system_id []) {\n\t\t\t{\n\t\t\t\t.matches = {\n\t\t\t\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Valve\"),\n\t\t\t\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"Galileo\"),\n\t\t\t\t\tDMI_MATCH(DMI_PRODUCT_FAMILY, \"Sephiroth\"),\n\t\t\t\t},\n\t\t\t},\n\t\t\t{}\n\t\t},\n\t},\n};\n\nint snd_amd_acp_find_config(struct pci_dev *pci)\n{\n\tconst struct config_entry *table = config_table;\n\tu16 device = pci->device;\n\tint i;\n\n\t \n\tif (!pci->revision)\n\t\treturn 0;\n\n\tfor (i = 0; i < ARRAY_SIZE(config_table); i++, table++) {\n\t\tif (table->device != device)\n\t\t\tcontinue;\n\t\tif (table->dmi_table && !dmi_check_system(table->dmi_table))\n\t\t\tcontinue;\n\t\tacp_quirk_data = table->flags;\n\t\treturn table->flags;\n\t}\n\n\treturn 0;\n}\nEXPORT_SYMBOL(snd_amd_acp_find_config);\n\nstatic struct snd_soc_acpi_codecs amp_rt1019 = {\n\t.num_codecs = 1,\n\t.codecs = {\"10EC1019\"}\n};\n\nstatic struct snd_soc_acpi_codecs amp_max = {\n\t.num_codecs = 1,\n\t.codecs = {\"MX98360A\"}\n};\n\nstatic struct snd_soc_acpi_codecs amp_max98388 = {\n\t.num_codecs = 1,\n\t.codecs = {\"ADS8388\"}\n};\n\nstruct snd_soc_acpi_mach snd_soc_acpi_amd_sof_machines[] = {\n\t{\n\t\t.id = \"10EC5682\",\n\t\t.drv_name = \"rt5682-rt1019\",\n\t\t.pdata = (void *)&acp_quirk_data,\n\t\t.machine_quirk = snd_soc_acpi_codec_list,\n\t\t.quirk_data = &amp_rt1019,\n\t\t.fw_filename = \"sof-rn.ri\",\n\t\t.sof_tplg_filename = \"sof-rn-rt5682-rt1019.tplg\",\n\t},\n\t{\n\t\t.id = \"10EC5682\",\n\t\t.drv_name = \"rt5682-max\",\n\t\t.pdata = (void *)&acp_quirk_data,\n\t\t.machine_quirk = snd_soc_acpi_codec_list,\n\t\t.quirk_data = &amp_max,\n\t\t.fw_filename = \"sof-rn.ri\",\n\t\t.sof_tplg_filename = \"sof-rn-rt5682-max98360.tplg\",\n\t},\n\t{\n\t\t.id = \"RTL5682\",\n\t\t.drv_name = \"rt5682s-max\",\n\t\t.pdata = (void *)&acp_quirk_data,\n\t\t.machine_quirk = snd_soc_acpi_codec_list,\n\t\t.quirk_data = &amp_max,\n\t\t.fw_filename = \"sof-rn.ri\",\n\t\t.sof_tplg_filename = \"sof-rn-rt5682-max98360.tplg\",\n\t},\n\t{\n\t\t.id = \"RTL5682\",\n\t\t.drv_name = \"rt5682s-rt1019\",\n\t\t.pdata = (void *)&acp_quirk_data,\n\t\t.machine_quirk = snd_soc_acpi_codec_list,\n\t\t.quirk_data = &amp_rt1019,\n\t\t.fw_filename = \"sof-rn.ri\",\n\t\t.sof_tplg_filename = \"sof-rn-rt5682-rt1019.tplg\",\n\t},\n\t{\n\t\t.id = \"AMDI1019\",\n\t\t.drv_name = \"renoir-dsp\",\n\t\t.pdata = (void *)&acp_quirk_data,\n\t\t.fw_filename = \"sof-rn.ri\",\n\t\t.sof_tplg_filename = \"sof-acp.tplg\",\n\t},\n\t{},\n};\nEXPORT_SYMBOL(snd_soc_acpi_amd_sof_machines);\n\nstruct snd_soc_acpi_mach snd_soc_acpi_amd_vangogh_sof_machines[] = {\n\t{\n\t\t.id = \"NVTN2020\",\n\t\t.drv_name = \"nau8821-max\",\n\t\t.pdata = &acp_quirk_data,\n\t\t.machine_quirk = snd_soc_acpi_codec_list,\n\t\t.quirk_data = &amp_max98388,\n\t\t.fw_filename = \"sof-vangogh.ri\",\n\t\t.sof_tplg_filename = \"sof-vangogh-nau8821-max.tplg\",\n\t},\n\t{},\n};\nEXPORT_SYMBOL(snd_soc_acpi_amd_vangogh_sof_machines);\n\nstruct snd_soc_acpi_mach snd_soc_acpi_amd_rmb_sof_machines[] = {\n\t{\n\t\t.id = \"AMDI1019\",\n\t\t.drv_name = \"rmb-dsp\",\n\t\t.pdata = &acp_quirk_data,\n\t\t.fw_filename = \"sof-rmb.ri\",\n\t\t.sof_tplg_filename = \"sof-acp-rmb.tplg\",\n\t},\n\t{\n\t\t.id = \"10508825\",\n\t\t.drv_name = \"nau8825-max\",\n\t\t.pdata = &acp_quirk_data,\n\t\t.machine_quirk = snd_soc_acpi_codec_list,\n\t\t.quirk_data = &amp_max,\n\t\t.fw_filename = \"sof-rmb.ri\",\n\t\t.sof_tplg_filename = \"sof-rmb-nau8825-max98360.tplg\",\n\t},\n\t{\n\t\t.id = \"RTL5682\",\n\t\t.drv_name = \"rt5682s-hs-rt1019\",\n\t\t.pdata = &acp_quirk_data,\n\t\t.machine_quirk = snd_soc_acpi_codec_list,\n\t\t.quirk_data = &amp_rt1019,\n\t\t.fw_filename = \"sof-rmb.ri\",\n\t\t.sof_tplg_filename = \"sof-rmb-rt5682s-rt1019.tplg\",\n\t},\n\t{},\n};\nEXPORT_SYMBOL(snd_soc_acpi_amd_rmb_sof_machines);\n\nMODULE_LICENSE(\"Dual BSD/GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}