{
  "module_name": "cs47l24.c",
  "hash_id": "06aeee17a223b886b4294e37510e24b6d6dd2eedc7d22869bcc04b2881d89b4b",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/codecs/cs47l24.c",
  "human_readable_source": "\n \n\n#include <linux/module.h>\n#include <linux/moduleparam.h>\n#include <linux/init.h>\n#include <linux/delay.h>\n#include <linux/pm.h>\n#include <linux/pm_runtime.h>\n#include <linux/regmap.h>\n#include <linux/slab.h>\n#include <sound/core.h>\n#include <sound/pcm.h>\n#include <sound/pcm_params.h>\n#include <sound/soc.h>\n#include <sound/jack.h>\n#include <sound/initval.h>\n#include <sound/tlv.h>\n\n#include <linux/mfd/arizona/core.h>\n#include <linux/mfd/arizona/registers.h>\n\n#include \"arizona.h\"\n#include \"wm_adsp.h\"\n#include \"cs47l24.h\"\n\n#define DRV_NAME \"cs47l24-codec\"\n\nstruct cs47l24_priv {\n\tstruct arizona_priv core;\n\tstruct arizona_fll fll[2];\n};\n\nstatic const struct cs_dsp_region cs47l24_dsp2_regions[] = {\n\t{ .type = WMFW_ADSP2_PM, .base = 0x200000 },\n\t{ .type = WMFW_ADSP2_ZM, .base = 0x280000 },\n\t{ .type = WMFW_ADSP2_XM, .base = 0x290000 },\n\t{ .type = WMFW_ADSP2_YM, .base = 0x2a8000 },\n};\n\nstatic const struct cs_dsp_region cs47l24_dsp3_regions[] = {\n\t{ .type = WMFW_ADSP2_PM, .base = 0x300000 },\n\t{ .type = WMFW_ADSP2_ZM, .base = 0x380000 },\n\t{ .type = WMFW_ADSP2_XM, .base = 0x390000 },\n\t{ .type = WMFW_ADSP2_YM, .base = 0x3a8000 },\n};\n\nstatic const struct cs_dsp_region *cs47l24_dsp_regions[] = {\n\tcs47l24_dsp2_regions,\n\tcs47l24_dsp3_regions,\n};\n\nstatic int cs47l24_adsp_power_ev(struct snd_soc_dapm_widget *w,\n\t\t\t\t struct snd_kcontrol *kcontrol, int event)\n{\n\tstruct snd_soc_component *component = snd_soc_dapm_to_component(w->dapm);\n\tstruct arizona *arizona = dev_get_drvdata(component->dev->parent);\n\tunsigned int v;\n\tint ret;\n\n\tret = regmap_read(arizona->regmap, ARIZONA_SYSTEM_CLOCK_1, &v);\n\tif (ret != 0) {\n\t\tdev_err(component->dev, \"Failed to read SYSCLK state: %d\\n\", ret);\n\t\treturn ret;\n\t}\n\n\tv = (v & ARIZONA_SYSCLK_FREQ_MASK) >> ARIZONA_SYSCLK_FREQ_SHIFT;\n\n\twm_adsp2_set_dspclk(w, v);\n\n\treturn wm_adsp_early_event(w, kcontrol, event);\n}\n\nstatic DECLARE_TLV_DB_SCALE(eq_tlv, -1200, 100, 0);\nstatic DECLARE_TLV_DB_SCALE(digital_tlv, -6400, 50, 0);\nstatic DECLARE_TLV_DB_SCALE(noise_tlv, -13200, 600, 0);\nstatic DECLARE_TLV_DB_SCALE(ng_tlv, -10200, 600, 0);\n\n#define CS47L24_NG_SRC(name, base) \\\n\tSOC_SINGLE(name \" NG HPOUT1L Switch\",  base,  0, 1, 0), \\\n\tSOC_SINGLE(name \" NG HPOUT1R Switch\",  base,  1, 1, 0), \\\n\tSOC_SINGLE(name \" NG SPKOUT Switch\",  base,  6, 1, 0)\n\nstatic const struct snd_kcontrol_new cs47l24_snd_controls[] = {\nSOC_ENUM(\"IN1 OSR\", arizona_in_dmic_osr[0]),\nSOC_ENUM(\"IN2 OSR\", arizona_in_dmic_osr[1]),\n\nSOC_ENUM(\"IN HPF Cutoff Frequency\", arizona_in_hpf_cut_enum),\n\nSOC_SINGLE(\"IN1L HPF Switch\", ARIZONA_IN1L_CONTROL,\n\t   ARIZONA_IN1L_HPF_SHIFT, 1, 0),\nSOC_SINGLE(\"IN1R HPF Switch\", ARIZONA_IN1R_CONTROL,\n\t   ARIZONA_IN1R_HPF_SHIFT, 1, 0),\nSOC_SINGLE(\"IN2L HPF Switch\", ARIZONA_IN2L_CONTROL,\n\t   ARIZONA_IN2L_HPF_SHIFT, 1, 0),\nSOC_SINGLE(\"IN2R HPF Switch\", ARIZONA_IN2R_CONTROL,\n\t   ARIZONA_IN2R_HPF_SHIFT, 1, 0),\n\nSOC_SINGLE_TLV(\"IN1L Digital Volume\", ARIZONA_ADC_DIGITAL_VOLUME_1L,\n\t       ARIZONA_IN1L_DIG_VOL_SHIFT, 0xbf, 0, digital_tlv),\nSOC_SINGLE_TLV(\"IN1R Digital Volume\", ARIZONA_ADC_DIGITAL_VOLUME_1R,\n\t       ARIZONA_IN1R_DIG_VOL_SHIFT, 0xbf, 0, digital_tlv),\nSOC_SINGLE_TLV(\"IN2L Digital Volume\", ARIZONA_ADC_DIGITAL_VOLUME_2L,\n\t       ARIZONA_IN2L_DIG_VOL_SHIFT, 0xbf, 0, digital_tlv),\nSOC_SINGLE_TLV(\"IN2R Digital Volume\", ARIZONA_ADC_DIGITAL_VOLUME_2R,\n\t       ARIZONA_IN2R_DIG_VOL_SHIFT, 0xbf, 0, digital_tlv),\n\nSOC_ENUM(\"Input Ramp Up\", arizona_in_vi_ramp),\nSOC_ENUM(\"Input Ramp Down\", arizona_in_vd_ramp),\n\nARIZONA_MIXER_CONTROLS(\"EQ1\", ARIZONA_EQ1MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"EQ2\", ARIZONA_EQ2MIX_INPUT_1_SOURCE),\n\nARIZONA_EQ_CONTROL(\"EQ1 Coefficients\", ARIZONA_EQ1_2),\nSOC_SINGLE_TLV(\"EQ1 B1 Volume\", ARIZONA_EQ1_1, ARIZONA_EQ1_B1_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ1 B2 Volume\", ARIZONA_EQ1_1, ARIZONA_EQ1_B2_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ1 B3 Volume\", ARIZONA_EQ1_1, ARIZONA_EQ1_B3_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ1 B4 Volume\", ARIZONA_EQ1_2, ARIZONA_EQ1_B4_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ1 B5 Volume\", ARIZONA_EQ1_2, ARIZONA_EQ1_B5_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\n\nARIZONA_EQ_CONTROL(\"EQ2 Coefficients\", ARIZONA_EQ2_2),\nSOC_SINGLE_TLV(\"EQ2 B1 Volume\", ARIZONA_EQ2_1, ARIZONA_EQ2_B1_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ2 B2 Volume\", ARIZONA_EQ2_1, ARIZONA_EQ2_B2_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ2 B3 Volume\", ARIZONA_EQ2_1, ARIZONA_EQ2_B3_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ2 B4 Volume\", ARIZONA_EQ2_2, ARIZONA_EQ2_B4_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ2 B5 Volume\", ARIZONA_EQ2_2, ARIZONA_EQ2_B5_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\n\nARIZONA_MIXER_CONTROLS(\"DRC1L\", ARIZONA_DRC1LMIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"DRC1R\", ARIZONA_DRC1RMIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"DRC2L\", ARIZONA_DRC2LMIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"DRC2R\", ARIZONA_DRC2RMIX_INPUT_1_SOURCE),\n\nSND_SOC_BYTES_MASK(\"DRC1\", ARIZONA_DRC1_CTRL1, 5,\n\t\t   ARIZONA_DRC1R_ENA | ARIZONA_DRC1L_ENA),\nSND_SOC_BYTES_MASK(\"DRC2\", ARIZONA_DRC2_CTRL1, 5,\n\t\t   ARIZONA_DRC2R_ENA | ARIZONA_DRC2L_ENA),\n\nARIZONA_MIXER_CONTROLS(\"LHPF1\", ARIZONA_HPLP1MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"LHPF2\", ARIZONA_HPLP2MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"LHPF3\", ARIZONA_HPLP3MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"LHPF4\", ARIZONA_HPLP4MIX_INPUT_1_SOURCE),\n\nARIZONA_LHPF_CONTROL(\"LHPF1 Coefficients\", ARIZONA_HPLPF1_2),\nARIZONA_LHPF_CONTROL(\"LHPF2 Coefficients\", ARIZONA_HPLPF2_2),\nARIZONA_LHPF_CONTROL(\"LHPF3 Coefficients\", ARIZONA_HPLPF3_2),\nARIZONA_LHPF_CONTROL(\"LHPF4 Coefficients\", ARIZONA_HPLPF4_2),\n\nSOC_ENUM(\"LHPF1 Mode\", arizona_lhpf1_mode),\nSOC_ENUM(\"LHPF2 Mode\", arizona_lhpf2_mode),\nSOC_ENUM(\"LHPF3 Mode\", arizona_lhpf3_mode),\nSOC_ENUM(\"LHPF4 Mode\", arizona_lhpf4_mode),\n\nSOC_ENUM(\"ISRC1 FSL\", arizona_isrc_fsl[0]),\nSOC_ENUM(\"ISRC2 FSL\", arizona_isrc_fsl[1]),\nSOC_ENUM(\"ISRC3 FSL\", arizona_isrc_fsl[2]),\nSOC_ENUM(\"ISRC1 FSH\", arizona_isrc_fsh[0]),\nSOC_ENUM(\"ISRC2 FSH\", arizona_isrc_fsh[1]),\nSOC_ENUM(\"ISRC3 FSH\", arizona_isrc_fsh[2]),\nSOC_ENUM(\"ASRC RATE 1\", arizona_asrc_rate1),\n\nWM_ADSP2_PRELOAD_SWITCH(\"DSP2\", 2),\nWM_ADSP2_PRELOAD_SWITCH(\"DSP3\", 3),\n\nARIZONA_MIXER_CONTROLS(\"DSP2L\", ARIZONA_DSP2LMIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"DSP2R\", ARIZONA_DSP2RMIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"DSP3L\", ARIZONA_DSP3LMIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"DSP3R\", ARIZONA_DSP3RMIX_INPUT_1_SOURCE),\n\nSOC_SINGLE_TLV(\"Noise Generator Volume\", ARIZONA_COMFORT_NOISE_GENERATOR,\n\t       ARIZONA_NOISE_GEN_GAIN_SHIFT, 0x16, 0, noise_tlv),\n\nARIZONA_MIXER_CONTROLS(\"HPOUT1L\", ARIZONA_OUT1LMIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"HPOUT1R\", ARIZONA_OUT1RMIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"SPKOUT\", ARIZONA_OUT4LMIX_INPUT_1_SOURCE),\n\nSOC_SINGLE(\"HPOUT1 SC Protect Switch\", ARIZONA_HP1_SHORT_CIRCUIT_CTRL,\n\t   ARIZONA_HP1_SC_ENA_SHIFT, 1, 0),\n\nSOC_DOUBLE_R(\"HPOUT1 Digital Switch\", ARIZONA_DAC_DIGITAL_VOLUME_1L,\n\t     ARIZONA_DAC_DIGITAL_VOLUME_1R, ARIZONA_OUT1L_MUTE_SHIFT, 1, 1),\nSOC_SINGLE(\"Speaker Digital Switch\", ARIZONA_DAC_DIGITAL_VOLUME_4L,\n\t   ARIZONA_OUT4L_MUTE_SHIFT, 1, 1),\n\nSOC_DOUBLE_R_TLV(\"HPOUT1 Digital Volume\", ARIZONA_DAC_DIGITAL_VOLUME_1L,\n\t\t ARIZONA_DAC_DIGITAL_VOLUME_1R, ARIZONA_OUT1L_VOL_SHIFT,\n\t\t 0xbf, 0, digital_tlv),\nSOC_SINGLE_TLV(\"Speaker Digital Volume\", ARIZONA_DAC_DIGITAL_VOLUME_4L,\n\t       ARIZONA_OUT4L_VOL_SHIFT, 0xbf, 0, digital_tlv),\n\nSOC_ENUM(\"Output Ramp Up\", arizona_out_vi_ramp),\nSOC_ENUM(\"Output Ramp Down\", arizona_out_vd_ramp),\n\nSOC_SINGLE(\"Noise Gate Switch\", ARIZONA_NOISE_GATE_CONTROL,\n\t   ARIZONA_NGATE_ENA_SHIFT, 1, 0),\nSOC_SINGLE_TLV(\"Noise Gate Threshold Volume\", ARIZONA_NOISE_GATE_CONTROL,\n\t       ARIZONA_NGATE_THR_SHIFT, 7, 1, ng_tlv),\nSOC_ENUM(\"Noise Gate Hold\", arizona_ng_hold),\n\nCS47L24_NG_SRC(\"HPOUT1L\", ARIZONA_NOISE_GATE_SELECT_1L),\nCS47L24_NG_SRC(\"HPOUT1R\", ARIZONA_NOISE_GATE_SELECT_1R),\nCS47L24_NG_SRC(\"SPKOUT\", ARIZONA_NOISE_GATE_SELECT_4L),\n\nARIZONA_MIXER_CONTROLS(\"AIF1TX1\", ARIZONA_AIF1TX1MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"AIF1TX2\", ARIZONA_AIF1TX2MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"AIF1TX3\", ARIZONA_AIF1TX3MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"AIF1TX4\", ARIZONA_AIF1TX4MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"AIF1TX5\", ARIZONA_AIF1TX5MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"AIF1TX6\", ARIZONA_AIF1TX6MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"AIF1TX7\", ARIZONA_AIF1TX7MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"AIF1TX8\", ARIZONA_AIF1TX8MIX_INPUT_1_SOURCE),\n\nARIZONA_MIXER_CONTROLS(\"AIF2TX1\", ARIZONA_AIF2TX1MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"AIF2TX2\", ARIZONA_AIF2TX2MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"AIF2TX3\", ARIZONA_AIF2TX3MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"AIF2TX4\", ARIZONA_AIF2TX4MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"AIF2TX5\", ARIZONA_AIF2TX5MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"AIF2TX6\", ARIZONA_AIF2TX6MIX_INPUT_1_SOURCE),\n\nARIZONA_MIXER_CONTROLS(\"AIF3TX1\", ARIZONA_AIF3TX1MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"AIF3TX2\", ARIZONA_AIF3TX2MIX_INPUT_1_SOURCE),\n\nWM_ADSP_FW_CONTROL(\"DSP2\", 1),\nWM_ADSP_FW_CONTROL(\"DSP3\", 2),\n};\n\nARIZONA_MIXER_ENUMS(EQ1, ARIZONA_EQ1MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(EQ2, ARIZONA_EQ2MIX_INPUT_1_SOURCE);\n\nARIZONA_MIXER_ENUMS(DRC1L, ARIZONA_DRC1LMIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(DRC1R, ARIZONA_DRC1RMIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(DRC2L, ARIZONA_DRC2LMIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(DRC2R, ARIZONA_DRC2RMIX_INPUT_1_SOURCE);\n\nARIZONA_MIXER_ENUMS(LHPF1, ARIZONA_HPLP1MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(LHPF2, ARIZONA_HPLP2MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(LHPF3, ARIZONA_HPLP3MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(LHPF4, ARIZONA_HPLP4MIX_INPUT_1_SOURCE);\n\nARIZONA_MIXER_ENUMS(DSP2L, ARIZONA_DSP2LMIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(DSP2R, ARIZONA_DSP2RMIX_INPUT_1_SOURCE);\nARIZONA_DSP_AUX_ENUMS(DSP2, ARIZONA_DSP2AUX1MIX_INPUT_1_SOURCE);\n\nARIZONA_MIXER_ENUMS(DSP3L, ARIZONA_DSP3LMIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(DSP3R, ARIZONA_DSP3RMIX_INPUT_1_SOURCE);\nARIZONA_DSP_AUX_ENUMS(DSP3, ARIZONA_DSP3AUX1MIX_INPUT_1_SOURCE);\n\nARIZONA_MIXER_ENUMS(PWM1, ARIZONA_PWM1MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(PWM2, ARIZONA_PWM2MIX_INPUT_1_SOURCE);\n\nARIZONA_MIXER_ENUMS(OUT1L, ARIZONA_OUT1LMIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(OUT1R, ARIZONA_OUT1RMIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(SPKOUT, ARIZONA_OUT4LMIX_INPUT_1_SOURCE);\n\nARIZONA_MIXER_ENUMS(AIF1TX1, ARIZONA_AIF1TX1MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(AIF1TX2, ARIZONA_AIF1TX2MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(AIF1TX3, ARIZONA_AIF1TX3MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(AIF1TX4, ARIZONA_AIF1TX4MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(AIF1TX5, ARIZONA_AIF1TX5MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(AIF1TX6, ARIZONA_AIF1TX6MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(AIF1TX7, ARIZONA_AIF1TX7MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(AIF1TX8, ARIZONA_AIF1TX8MIX_INPUT_1_SOURCE);\n\nARIZONA_MIXER_ENUMS(AIF2TX1, ARIZONA_AIF2TX1MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(AIF2TX2, ARIZONA_AIF2TX2MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(AIF2TX3, ARIZONA_AIF2TX3MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(AIF2TX4, ARIZONA_AIF2TX4MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(AIF2TX5, ARIZONA_AIF2TX5MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(AIF2TX6, ARIZONA_AIF2TX6MIX_INPUT_1_SOURCE);\n\nARIZONA_MIXER_ENUMS(AIF3TX1, ARIZONA_AIF3TX1MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(AIF3TX2, ARIZONA_AIF3TX2MIX_INPUT_1_SOURCE);\n\nARIZONA_MUX_ENUMS(ASRC1L, ARIZONA_ASRC1LMIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ASRC1R, ARIZONA_ASRC1RMIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ASRC2L, ARIZONA_ASRC2LMIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ASRC2R, ARIZONA_ASRC2RMIX_INPUT_1_SOURCE);\n\nARIZONA_MUX_ENUMS(ISRC1INT1, ARIZONA_ISRC1INT1MIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ISRC1INT2, ARIZONA_ISRC1INT2MIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ISRC1INT3, ARIZONA_ISRC1INT3MIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ISRC1INT4, ARIZONA_ISRC1INT4MIX_INPUT_1_SOURCE);\n\nARIZONA_MUX_ENUMS(ISRC1DEC1, ARIZONA_ISRC1DEC1MIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ISRC1DEC2, ARIZONA_ISRC1DEC2MIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ISRC1DEC3, ARIZONA_ISRC1DEC3MIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ISRC1DEC4, ARIZONA_ISRC1DEC4MIX_INPUT_1_SOURCE);\n\nARIZONA_MUX_ENUMS(ISRC2INT1, ARIZONA_ISRC2INT1MIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ISRC2INT2, ARIZONA_ISRC2INT2MIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ISRC2INT3, ARIZONA_ISRC2INT3MIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ISRC2INT4, ARIZONA_ISRC2INT4MIX_INPUT_1_SOURCE);\n\nARIZONA_MUX_ENUMS(ISRC2DEC1, ARIZONA_ISRC2DEC1MIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ISRC2DEC2, ARIZONA_ISRC2DEC2MIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ISRC2DEC3, ARIZONA_ISRC2DEC3MIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ISRC2DEC4, ARIZONA_ISRC2DEC4MIX_INPUT_1_SOURCE);\n\nARIZONA_MUX_ENUMS(ISRC3INT1, ARIZONA_ISRC3INT1MIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ISRC3INT2, ARIZONA_ISRC3INT2MIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ISRC3INT3, ARIZONA_ISRC3INT3MIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ISRC3INT4, ARIZONA_ISRC3INT4MIX_INPUT_1_SOURCE);\n\nARIZONA_MUX_ENUMS(ISRC3DEC1, ARIZONA_ISRC3DEC1MIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ISRC3DEC2, ARIZONA_ISRC3DEC2MIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ISRC3DEC3, ARIZONA_ISRC3DEC3MIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ISRC3DEC4, ARIZONA_ISRC3DEC4MIX_INPUT_1_SOURCE);\n\nstatic const char * const cs47l24_aec_loopback_texts[] = {\n\t\"HPOUT1L\", \"HPOUT1R\", \"SPKOUT\",\n};\n\nstatic const unsigned int cs47l24_aec_loopback_values[] = {\n\t0, 1, 6,\n};\n\nstatic const struct soc_enum cs47l24_aec_loopback =\n\tSOC_VALUE_ENUM_SINGLE(ARIZONA_DAC_AEC_CONTROL_1,\n\t\t\t      ARIZONA_AEC_LOOPBACK_SRC_SHIFT, 0xf,\n\t\t\t      ARRAY_SIZE(cs47l24_aec_loopback_texts),\n\t\t\t      cs47l24_aec_loopback_texts,\n\t\t\t      cs47l24_aec_loopback_values);\n\nstatic const struct snd_kcontrol_new cs47l24_aec_loopback_mux =\n\tSOC_DAPM_ENUM(\"AEC Loopback\", cs47l24_aec_loopback);\n\nstatic const struct snd_soc_dapm_widget cs47l24_dapm_widgets[] = {\nSND_SOC_DAPM_SUPPLY(\"SYSCLK\", ARIZONA_SYSTEM_CLOCK_1,\n\t\t    ARIZONA_SYSCLK_ENA_SHIFT, 0, arizona_clk_ev,\n\t\t    SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMD),\nSND_SOC_DAPM_SUPPLY(\"ASYNCCLK\", ARIZONA_ASYNC_CLOCK_1,\n\t\t    ARIZONA_ASYNC_CLK_ENA_SHIFT, 0, arizona_clk_ev,\n\t\t    SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMD),\nSND_SOC_DAPM_SUPPLY(\"OPCLK\", ARIZONA_OUTPUT_SYSTEM_CLOCK,\n\t\t    ARIZONA_OPCLK_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_SUPPLY(\"ASYNCOPCLK\", ARIZONA_OUTPUT_ASYNC_CLOCK,\n\t\t    ARIZONA_OPCLK_ASYNC_ENA_SHIFT, 0, NULL, 0),\n\nSND_SOC_DAPM_REGULATOR_SUPPLY(\"CPVDD\", 20, 0),\nSND_SOC_DAPM_REGULATOR_SUPPLY(\"MICVDD\", 0, SND_SOC_DAPM_REGULATOR_BYPASS),\nSND_SOC_DAPM_REGULATOR_SUPPLY(\"SPKVDD\", 0, 0),\n\nSND_SOC_DAPM_SIGGEN(\"TONE\"),\nSND_SOC_DAPM_SIGGEN(\"NOISE\"),\nSND_SOC_DAPM_SIGGEN(\"HAPTICS\"),\n\nSND_SOC_DAPM_INPUT(\"IN1L\"),\nSND_SOC_DAPM_INPUT(\"IN1R\"),\nSND_SOC_DAPM_INPUT(\"IN2L\"),\nSND_SOC_DAPM_INPUT(\"IN2R\"),\n\nSND_SOC_DAPM_OUTPUT(\"DRC1 Signal Activity\"),\nSND_SOC_DAPM_OUTPUT(\"DRC2 Signal Activity\"),\n\nSND_SOC_DAPM_OUTPUT(\"DSP Voice Trigger\"),\n\nSND_SOC_DAPM_SWITCH(\"DSP3 Voice Trigger\", SND_SOC_NOPM, 2, 0,\n\t\t    &arizona_voice_trigger_switch[2]),\n\nSND_SOC_DAPM_PGA_E(\"IN1L PGA\", ARIZONA_INPUT_ENABLES, ARIZONA_IN1L_ENA_SHIFT,\n\t\t   0, NULL, 0, arizona_in_ev,\n\t\t   SND_SOC_DAPM_PRE_PMD | SND_SOC_DAPM_POST_PMD |\n\t\t   SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMU),\nSND_SOC_DAPM_PGA_E(\"IN1R PGA\", ARIZONA_INPUT_ENABLES, ARIZONA_IN1R_ENA_SHIFT,\n\t\t   0, NULL, 0, arizona_in_ev,\n\t\t   SND_SOC_DAPM_PRE_PMD | SND_SOC_DAPM_POST_PMD |\n\t\t   SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMU),\nSND_SOC_DAPM_PGA_E(\"IN2L PGA\", ARIZONA_INPUT_ENABLES, ARIZONA_IN2L_ENA_SHIFT,\n\t\t   0, NULL, 0, arizona_in_ev,\n\t\t   SND_SOC_DAPM_PRE_PMD | SND_SOC_DAPM_POST_PMD |\n\t\t   SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMU),\nSND_SOC_DAPM_PGA_E(\"IN2R PGA\", ARIZONA_INPUT_ENABLES, ARIZONA_IN2R_ENA_SHIFT,\n\t\t   0, NULL, 0, arizona_in_ev,\n\t\t   SND_SOC_DAPM_PRE_PMD | SND_SOC_DAPM_POST_PMD |\n\t\t   SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMU),\n\nSND_SOC_DAPM_SUPPLY(\"MICBIAS1\", ARIZONA_MIC_BIAS_CTRL_1,\n\t\t    ARIZONA_MICB1_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_SUPPLY(\"MICBIAS2\", ARIZONA_MIC_BIAS_CTRL_2,\n\t\t    ARIZONA_MICB1_ENA_SHIFT, 0, NULL, 0),\n\nSND_SOC_DAPM_PGA(\"Noise Generator\", ARIZONA_COMFORT_NOISE_GENERATOR,\n\t\t ARIZONA_NOISE_GEN_ENA_SHIFT, 0, NULL, 0),\n\nSND_SOC_DAPM_PGA(\"Tone Generator 1\", ARIZONA_TONE_GENERATOR_1,\n\t\t ARIZONA_TONE1_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"Tone Generator 2\", ARIZONA_TONE_GENERATOR_1,\n\t\t ARIZONA_TONE2_ENA_SHIFT, 0, NULL, 0),\n\nSND_SOC_DAPM_PGA(\"EQ1\", ARIZONA_EQ1_1, ARIZONA_EQ1_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"EQ2\", ARIZONA_EQ2_1, ARIZONA_EQ2_ENA_SHIFT, 0, NULL, 0),\n\nSND_SOC_DAPM_PGA(\"DRC1L\", ARIZONA_DRC1_CTRL1, ARIZONA_DRC1L_ENA_SHIFT, 0,\n\t\t NULL, 0),\nSND_SOC_DAPM_PGA(\"DRC1R\", ARIZONA_DRC1_CTRL1, ARIZONA_DRC1R_ENA_SHIFT, 0,\n\t\t NULL, 0),\nSND_SOC_DAPM_PGA(\"DRC2L\", ARIZONA_DRC2_CTRL1, ARIZONA_DRC2L_ENA_SHIFT, 0,\n\t\t NULL, 0),\nSND_SOC_DAPM_PGA(\"DRC2R\", ARIZONA_DRC2_CTRL1, ARIZONA_DRC2R_ENA_SHIFT, 0,\n\t\t NULL, 0),\n\nSND_SOC_DAPM_PGA(\"LHPF1\", ARIZONA_HPLPF1_1, ARIZONA_LHPF1_ENA_SHIFT, 0,\n\t\t NULL, 0),\nSND_SOC_DAPM_PGA(\"LHPF2\", ARIZONA_HPLPF2_1, ARIZONA_LHPF2_ENA_SHIFT, 0,\n\t\t NULL, 0),\nSND_SOC_DAPM_PGA(\"LHPF3\", ARIZONA_HPLPF3_1, ARIZONA_LHPF3_ENA_SHIFT, 0,\n\t\t NULL, 0),\nSND_SOC_DAPM_PGA(\"LHPF4\", ARIZONA_HPLPF4_1, ARIZONA_LHPF4_ENA_SHIFT, 0,\n\t\t NULL, 0),\n\nSND_SOC_DAPM_PGA(\"PWM1 Driver\", ARIZONA_PWM_DRIVE_1, ARIZONA_PWM1_ENA_SHIFT,\n\t\t 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"PWM2 Driver\", ARIZONA_PWM_DRIVE_1, ARIZONA_PWM2_ENA_SHIFT,\n\t\t 0, NULL, 0),\n\nSND_SOC_DAPM_PGA(\"ASRC1L\", ARIZONA_ASRC_ENABLE, ARIZONA_ASRC1L_ENA_SHIFT, 0,\n\t\t NULL, 0),\nSND_SOC_DAPM_PGA(\"ASRC1R\", ARIZONA_ASRC_ENABLE, ARIZONA_ASRC1R_ENA_SHIFT, 0,\n\t\t NULL, 0),\nSND_SOC_DAPM_PGA(\"ASRC2L\", ARIZONA_ASRC_ENABLE, ARIZONA_ASRC2L_ENA_SHIFT, 0,\n\t\t NULL, 0),\nSND_SOC_DAPM_PGA(\"ASRC2R\", ARIZONA_ASRC_ENABLE, ARIZONA_ASRC2R_ENA_SHIFT, 0,\n\t\t NULL, 0),\n\nWM_ADSP2(\"DSP2\", 1, cs47l24_adsp_power_ev),\nWM_ADSP2(\"DSP3\", 2, cs47l24_adsp_power_ev),\n\nSND_SOC_DAPM_PGA(\"ISRC1INT1\", ARIZONA_ISRC_1_CTRL_3,\n\t\t ARIZONA_ISRC1_INT0_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"ISRC1INT2\", ARIZONA_ISRC_1_CTRL_3,\n\t\t ARIZONA_ISRC1_INT1_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"ISRC1INT3\", ARIZONA_ISRC_1_CTRL_3,\n\t\t ARIZONA_ISRC1_INT2_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"ISRC1INT4\", ARIZONA_ISRC_1_CTRL_3,\n\t\t ARIZONA_ISRC1_INT3_ENA_SHIFT, 0, NULL, 0),\n\nSND_SOC_DAPM_PGA(\"ISRC1DEC1\", ARIZONA_ISRC_1_CTRL_3,\n\t\t ARIZONA_ISRC1_DEC0_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"ISRC1DEC2\", ARIZONA_ISRC_1_CTRL_3,\n\t\t ARIZONA_ISRC1_DEC1_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"ISRC1DEC3\", ARIZONA_ISRC_1_CTRL_3,\n\t\t ARIZONA_ISRC1_DEC2_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"ISRC1DEC4\", ARIZONA_ISRC_1_CTRL_3,\n\t\t ARIZONA_ISRC1_DEC3_ENA_SHIFT, 0, NULL, 0),\n\nSND_SOC_DAPM_PGA(\"ISRC2INT1\", ARIZONA_ISRC_2_CTRL_3,\n\t\t ARIZONA_ISRC2_INT0_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"ISRC2INT2\", ARIZONA_ISRC_2_CTRL_3,\n\t\t ARIZONA_ISRC2_INT1_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"ISRC2INT3\", ARIZONA_ISRC_2_CTRL_3,\n\t\t ARIZONA_ISRC2_INT2_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"ISRC2INT4\", ARIZONA_ISRC_2_CTRL_3,\n\t\t ARIZONA_ISRC2_INT3_ENA_SHIFT, 0, NULL, 0),\n\nSND_SOC_DAPM_PGA(\"ISRC2DEC1\", ARIZONA_ISRC_2_CTRL_3,\n\t\t ARIZONA_ISRC2_DEC0_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"ISRC2DEC2\", ARIZONA_ISRC_2_CTRL_3,\n\t\t ARIZONA_ISRC2_DEC1_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"ISRC2DEC3\", ARIZONA_ISRC_2_CTRL_3,\n\t\t ARIZONA_ISRC2_DEC2_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"ISRC2DEC4\", ARIZONA_ISRC_2_CTRL_3,\n\t\t ARIZONA_ISRC2_DEC3_ENA_SHIFT, 0, NULL, 0),\n\nSND_SOC_DAPM_PGA(\"ISRC3INT1\", ARIZONA_ISRC_3_CTRL_3,\n\t\t ARIZONA_ISRC3_INT0_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"ISRC3INT2\", ARIZONA_ISRC_3_CTRL_3,\n\t\t ARIZONA_ISRC3_INT1_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"ISRC3INT3\", ARIZONA_ISRC_3_CTRL_3,\n\t\t ARIZONA_ISRC3_INT2_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"ISRC3INT4\", ARIZONA_ISRC_3_CTRL_3,\n\t\t ARIZONA_ISRC3_INT3_ENA_SHIFT, 0, NULL, 0),\n\nSND_SOC_DAPM_PGA(\"ISRC3DEC1\", ARIZONA_ISRC_3_CTRL_3,\n\t\t ARIZONA_ISRC3_DEC0_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"ISRC3DEC2\", ARIZONA_ISRC_3_CTRL_3,\n\t\t ARIZONA_ISRC3_DEC1_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"ISRC3DEC3\", ARIZONA_ISRC_3_CTRL_3,\n\t\t ARIZONA_ISRC3_DEC2_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"ISRC3DEC4\", ARIZONA_ISRC_3_CTRL_3,\n\t\t ARIZONA_ISRC3_DEC3_ENA_SHIFT, 0, NULL, 0),\n\nSND_SOC_DAPM_MUX(\"AEC Loopback\", ARIZONA_DAC_AEC_CONTROL_1,\n\t\t ARIZONA_AEC_LOOPBACK_ENA_SHIFT, 0, &cs47l24_aec_loopback_mux),\n\nSND_SOC_DAPM_AIF_OUT(\"AIF1TX1\", NULL, 0,\n\t\t     ARIZONA_AIF1_TX_ENABLES, ARIZONA_AIF1TX1_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"AIF1TX2\", NULL, 1,\n\t\t     ARIZONA_AIF1_TX_ENABLES, ARIZONA_AIF1TX2_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"AIF1TX3\", NULL, 2,\n\t\t     ARIZONA_AIF1_TX_ENABLES, ARIZONA_AIF1TX3_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"AIF1TX4\", NULL, 3,\n\t\t     ARIZONA_AIF1_TX_ENABLES, ARIZONA_AIF1TX4_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"AIF1TX5\", NULL, 4,\n\t\t     ARIZONA_AIF1_TX_ENABLES, ARIZONA_AIF1TX5_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"AIF1TX6\", NULL, 5,\n\t\t     ARIZONA_AIF1_TX_ENABLES, ARIZONA_AIF1TX6_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"AIF1TX7\", NULL, 6,\n\t\t     ARIZONA_AIF1_TX_ENABLES, ARIZONA_AIF1TX7_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"AIF1TX8\", NULL, 7,\n\t\t     ARIZONA_AIF1_TX_ENABLES, ARIZONA_AIF1TX8_ENA_SHIFT, 0),\n\nSND_SOC_DAPM_AIF_IN(\"AIF1RX1\", NULL, 0,\n\t\t    ARIZONA_AIF1_RX_ENABLES, ARIZONA_AIF1RX1_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"AIF1RX2\", NULL, 1,\n\t\t    ARIZONA_AIF1_RX_ENABLES, ARIZONA_AIF1RX2_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"AIF1RX3\", NULL, 2,\n\t\t    ARIZONA_AIF1_RX_ENABLES, ARIZONA_AIF1RX3_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"AIF1RX4\", NULL, 3,\n\t\t    ARIZONA_AIF1_RX_ENABLES, ARIZONA_AIF1RX4_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"AIF1RX5\", NULL, 4,\n\t\t    ARIZONA_AIF1_RX_ENABLES, ARIZONA_AIF1RX5_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"AIF1RX6\", NULL, 5,\n\t\t    ARIZONA_AIF1_RX_ENABLES, ARIZONA_AIF1RX6_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"AIF1RX7\", NULL, 6,\n\t\t    ARIZONA_AIF1_RX_ENABLES, ARIZONA_AIF1RX7_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"AIF1RX8\", NULL, 7,\n\t\t    ARIZONA_AIF1_RX_ENABLES, ARIZONA_AIF1RX8_ENA_SHIFT, 0),\n\nSND_SOC_DAPM_AIF_OUT(\"AIF2TX1\", NULL, 0,\n\t\t     ARIZONA_AIF2_TX_ENABLES, ARIZONA_AIF2TX1_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"AIF2TX2\", NULL, 1,\n\t\t     ARIZONA_AIF2_TX_ENABLES, ARIZONA_AIF2TX2_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"AIF2TX3\", NULL, 2,\n\t\t     ARIZONA_AIF2_TX_ENABLES, ARIZONA_AIF2TX3_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"AIF2TX4\", NULL, 3,\n\t\t     ARIZONA_AIF2_TX_ENABLES, ARIZONA_AIF2TX4_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"AIF2TX5\", NULL, 4,\n\t\t     ARIZONA_AIF2_TX_ENABLES, ARIZONA_AIF2TX5_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"AIF2TX6\", NULL, 5,\n\t\t     ARIZONA_AIF2_TX_ENABLES, ARIZONA_AIF2TX6_ENA_SHIFT, 0),\n\nSND_SOC_DAPM_AIF_IN(\"AIF2RX1\", NULL, 0,\n\t\t    ARIZONA_AIF2_RX_ENABLES, ARIZONA_AIF2RX1_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"AIF2RX2\", NULL, 1,\n\t\t    ARIZONA_AIF2_RX_ENABLES, ARIZONA_AIF2RX2_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"AIF2RX3\", NULL, 2,\n\t\t    ARIZONA_AIF2_RX_ENABLES, ARIZONA_AIF2RX3_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"AIF2RX4\", NULL, 3,\n\t\t    ARIZONA_AIF2_RX_ENABLES, ARIZONA_AIF2RX4_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"AIF2RX5\", NULL, 4,\n\t\t    ARIZONA_AIF2_RX_ENABLES, ARIZONA_AIF2RX5_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"AIF2RX6\", NULL, 5,\n\t\t    ARIZONA_AIF2_RX_ENABLES, ARIZONA_AIF2RX6_ENA_SHIFT, 0),\n\nSND_SOC_DAPM_AIF_OUT(\"AIF3TX1\", NULL, 0,\n\t\t     ARIZONA_AIF3_TX_ENABLES, ARIZONA_AIF3TX1_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"AIF3TX2\", NULL, 1,\n\t\t     ARIZONA_AIF3_TX_ENABLES, ARIZONA_AIF3TX2_ENA_SHIFT, 0),\n\nSND_SOC_DAPM_AIF_IN(\"AIF3RX1\", NULL, 0,\n\t\t    ARIZONA_AIF3_RX_ENABLES, ARIZONA_AIF3RX1_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"AIF3RX2\", NULL, 1,\n\t\t    ARIZONA_AIF3_RX_ENABLES, ARIZONA_AIF3RX2_ENA_SHIFT, 0),\n\nSND_SOC_DAPM_PGA_E(\"OUT1L\", SND_SOC_NOPM,\n\t\t   ARIZONA_OUT1L_ENA_SHIFT, 0, NULL, 0, arizona_hp_ev,\n\t\t   SND_SOC_DAPM_PRE_PMD | SND_SOC_DAPM_POST_PMD |\n\t\t   SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMU),\nSND_SOC_DAPM_PGA_E(\"OUT1R\", SND_SOC_NOPM,\n\t\t   ARIZONA_OUT1R_ENA_SHIFT, 0, NULL, 0, arizona_hp_ev,\n\t\t   SND_SOC_DAPM_PRE_PMD | SND_SOC_DAPM_POST_PMD |\n\t\t   SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMU),\n\nARIZONA_MIXER_WIDGETS(EQ1, \"EQ1\"),\nARIZONA_MIXER_WIDGETS(EQ2, \"EQ2\"),\n\nARIZONA_MIXER_WIDGETS(DRC1L, \"DRC1L\"),\nARIZONA_MIXER_WIDGETS(DRC1R, \"DRC1R\"),\nARIZONA_MIXER_WIDGETS(DRC2L, \"DRC2L\"),\nARIZONA_MIXER_WIDGETS(DRC2R, \"DRC2R\"),\n\nARIZONA_MIXER_WIDGETS(LHPF1, \"LHPF1\"),\nARIZONA_MIXER_WIDGETS(LHPF2, \"LHPF2\"),\nARIZONA_MIXER_WIDGETS(LHPF3, \"LHPF3\"),\nARIZONA_MIXER_WIDGETS(LHPF4, \"LHPF4\"),\n\nARIZONA_MIXER_WIDGETS(PWM1, \"PWM1\"),\nARIZONA_MIXER_WIDGETS(PWM2, \"PWM2\"),\n\nARIZONA_MIXER_WIDGETS(OUT1L, \"HPOUT1L\"),\nARIZONA_MIXER_WIDGETS(OUT1R, \"HPOUT1R\"),\nARIZONA_MIXER_WIDGETS(SPKOUT, \"SPKOUT\"),\n\nARIZONA_MIXER_WIDGETS(AIF1TX1, \"AIF1TX1\"),\nARIZONA_MIXER_WIDGETS(AIF1TX2, \"AIF1TX2\"),\nARIZONA_MIXER_WIDGETS(AIF1TX3, \"AIF1TX3\"),\nARIZONA_MIXER_WIDGETS(AIF1TX4, \"AIF1TX4\"),\nARIZONA_MIXER_WIDGETS(AIF1TX5, \"AIF1TX5\"),\nARIZONA_MIXER_WIDGETS(AIF1TX6, \"AIF1TX6\"),\nARIZONA_MIXER_WIDGETS(AIF1TX7, \"AIF1TX7\"),\nARIZONA_MIXER_WIDGETS(AIF1TX8, \"AIF1TX8\"),\n\nARIZONA_MIXER_WIDGETS(AIF2TX1, \"AIF2TX1\"),\nARIZONA_MIXER_WIDGETS(AIF2TX2, \"AIF2TX2\"),\nARIZONA_MIXER_WIDGETS(AIF2TX3, \"AIF2TX3\"),\nARIZONA_MIXER_WIDGETS(AIF2TX4, \"AIF2TX4\"),\nARIZONA_MIXER_WIDGETS(AIF2TX5, \"AIF2TX5\"),\nARIZONA_MIXER_WIDGETS(AIF2TX6, \"AIF2TX6\"),\n\nARIZONA_MIXER_WIDGETS(AIF3TX1, \"AIF3TX1\"),\nARIZONA_MIXER_WIDGETS(AIF3TX2, \"AIF3TX2\"),\n\nARIZONA_MUX_WIDGETS(ASRC1L, \"ASRC1L\"),\nARIZONA_MUX_WIDGETS(ASRC1R, \"ASRC1R\"),\nARIZONA_MUX_WIDGETS(ASRC2L, \"ASRC2L\"),\nARIZONA_MUX_WIDGETS(ASRC2R, \"ASRC2R\"),\n\nARIZONA_DSP_WIDGETS(DSP2, \"DSP2\"),\nARIZONA_DSP_WIDGETS(DSP3, \"DSP3\"),\n\nARIZONA_MUX_WIDGETS(ISRC1DEC1, \"ISRC1DEC1\"),\nARIZONA_MUX_WIDGETS(ISRC1DEC2, \"ISRC1DEC2\"),\nARIZONA_MUX_WIDGETS(ISRC1DEC3, \"ISRC1DEC3\"),\nARIZONA_MUX_WIDGETS(ISRC1DEC4, \"ISRC1DEC4\"),\n\nARIZONA_MUX_WIDGETS(ISRC1INT1, \"ISRC1INT1\"),\nARIZONA_MUX_WIDGETS(ISRC1INT2, \"ISRC1INT2\"),\nARIZONA_MUX_WIDGETS(ISRC1INT3, \"ISRC1INT3\"),\nARIZONA_MUX_WIDGETS(ISRC1INT4, \"ISRC1INT4\"),\n\nARIZONA_MUX_WIDGETS(ISRC2DEC1, \"ISRC2DEC1\"),\nARIZONA_MUX_WIDGETS(ISRC2DEC2, \"ISRC2DEC2\"),\nARIZONA_MUX_WIDGETS(ISRC2DEC3, \"ISRC2DEC3\"),\nARIZONA_MUX_WIDGETS(ISRC2DEC4, \"ISRC2DEC4\"),\n\nARIZONA_MUX_WIDGETS(ISRC2INT1, \"ISRC2INT1\"),\nARIZONA_MUX_WIDGETS(ISRC2INT2, \"ISRC2INT2\"),\nARIZONA_MUX_WIDGETS(ISRC2INT3, \"ISRC2INT3\"),\nARIZONA_MUX_WIDGETS(ISRC2INT4, \"ISRC2INT4\"),\n\nARIZONA_MUX_WIDGETS(ISRC3DEC1, \"ISRC3DEC1\"),\nARIZONA_MUX_WIDGETS(ISRC3DEC2, \"ISRC3DEC2\"),\nARIZONA_MUX_WIDGETS(ISRC3DEC3, \"ISRC3DEC3\"),\nARIZONA_MUX_WIDGETS(ISRC3DEC4, \"ISRC3DEC4\"),\n\nARIZONA_MUX_WIDGETS(ISRC3INT1, \"ISRC3INT1\"),\nARIZONA_MUX_WIDGETS(ISRC3INT2, \"ISRC3INT2\"),\nARIZONA_MUX_WIDGETS(ISRC3INT3, \"ISRC3INT3\"),\nARIZONA_MUX_WIDGETS(ISRC3INT4, \"ISRC3INT4\"),\n\nSND_SOC_DAPM_OUTPUT(\"HPOUT1L\"),\nSND_SOC_DAPM_OUTPUT(\"HPOUT1R\"),\nSND_SOC_DAPM_OUTPUT(\"SPKOUTN\"),\nSND_SOC_DAPM_OUTPUT(\"SPKOUTP\"),\n\nSND_SOC_DAPM_OUTPUT(\"MICSUPP\"),\n};\n\n#define ARIZONA_MIXER_INPUT_ROUTES(name)\t\\\n\t{ name, \"Noise Generator\", \"Noise Generator\" }, \\\n\t{ name, \"Tone Generator 1\", \"Tone Generator 1\" }, \\\n\t{ name, \"Tone Generator 2\", \"Tone Generator 2\" }, \\\n\t{ name, \"Haptics\", \"HAPTICS\" }, \\\n\t{ name, \"AEC\", \"AEC Loopback\" }, \\\n\t{ name, \"IN1L\", \"IN1L PGA\" }, \\\n\t{ name, \"IN1R\", \"IN1R PGA\" }, \\\n\t{ name, \"IN2L\", \"IN2L PGA\" }, \\\n\t{ name, \"IN2R\", \"IN2R PGA\" }, \\\n\t{ name, \"AIF1RX1\", \"AIF1RX1\" }, \\\n\t{ name, \"AIF1RX2\", \"AIF1RX2\" }, \\\n\t{ name, \"AIF1RX3\", \"AIF1RX3\" }, \\\n\t{ name, \"AIF1RX4\", \"AIF1RX4\" }, \\\n\t{ name, \"AIF1RX5\", \"AIF1RX5\" }, \\\n\t{ name, \"AIF1RX6\", \"AIF1RX6\" }, \\\n\t{ name, \"AIF1RX7\", \"AIF1RX7\" }, \\\n\t{ name, \"AIF1RX8\", \"AIF1RX8\" }, \\\n\t{ name, \"AIF2RX1\", \"AIF2RX1\" }, \\\n\t{ name, \"AIF2RX2\", \"AIF2RX2\" }, \\\n\t{ name, \"AIF2RX3\", \"AIF2RX3\" }, \\\n\t{ name, \"AIF2RX4\", \"AIF2RX4\" }, \\\n\t{ name, \"AIF2RX5\", \"AIF2RX5\" }, \\\n\t{ name, \"AIF2RX6\", \"AIF2RX6\" }, \\\n\t{ name, \"AIF3RX1\", \"AIF3RX1\" }, \\\n\t{ name, \"AIF3RX2\", \"AIF3RX2\" }, \\\n\t{ name, \"EQ1\", \"EQ1\" }, \\\n\t{ name, \"EQ2\", \"EQ2\" }, \\\n\t{ name, \"DRC1L\", \"DRC1L\" }, \\\n\t{ name, \"DRC1R\", \"DRC1R\" }, \\\n\t{ name, \"DRC2L\", \"DRC2L\" }, \\\n\t{ name, \"DRC2R\", \"DRC2R\" }, \\\n\t{ name, \"LHPF1\", \"LHPF1\" }, \\\n\t{ name, \"LHPF2\", \"LHPF2\" }, \\\n\t{ name, \"LHPF3\", \"LHPF3\" }, \\\n\t{ name, \"LHPF4\", \"LHPF4\" }, \\\n\t{ name, \"ASRC1L\", \"ASRC1L\" }, \\\n\t{ name, \"ASRC1R\", \"ASRC1R\" }, \\\n\t{ name, \"ASRC2L\", \"ASRC2L\" }, \\\n\t{ name, \"ASRC2R\", \"ASRC2R\" }, \\\n\t{ name, \"ISRC1DEC1\", \"ISRC1DEC1\" }, \\\n\t{ name, \"ISRC1DEC2\", \"ISRC1DEC2\" }, \\\n\t{ name, \"ISRC1DEC3\", \"ISRC1DEC3\" }, \\\n\t{ name, \"ISRC1DEC4\", \"ISRC1DEC4\" }, \\\n\t{ name, \"ISRC1INT1\", \"ISRC1INT1\" }, \\\n\t{ name, \"ISRC1INT2\", \"ISRC1INT2\" }, \\\n\t{ name, \"ISRC1INT3\", \"ISRC1INT3\" }, \\\n\t{ name, \"ISRC1INT4\", \"ISRC1INT4\" }, \\\n\t{ name, \"ISRC2DEC1\", \"ISRC2DEC1\" }, \\\n\t{ name, \"ISRC2DEC2\", \"ISRC2DEC2\" }, \\\n\t{ name, \"ISRC2DEC3\", \"ISRC2DEC3\" }, \\\n\t{ name, \"ISRC2DEC4\", \"ISRC2DEC4\" }, \\\n\t{ name, \"ISRC2INT1\", \"ISRC2INT1\" }, \\\n\t{ name, \"ISRC2INT2\", \"ISRC2INT2\" }, \\\n\t{ name, \"ISRC2INT3\", \"ISRC2INT3\" }, \\\n\t{ name, \"ISRC2INT4\", \"ISRC2INT4\" }, \\\n\t{ name, \"ISRC3DEC1\", \"ISRC3DEC1\" }, \\\n\t{ name, \"ISRC3DEC2\", \"ISRC3DEC2\" }, \\\n\t{ name, \"ISRC3DEC3\", \"ISRC3DEC3\" }, \\\n\t{ name, \"ISRC3DEC4\", \"ISRC3DEC4\" }, \\\n\t{ name, \"ISRC3INT1\", \"ISRC3INT1\" }, \\\n\t{ name, \"ISRC3INT2\", \"ISRC3INT2\" }, \\\n\t{ name, \"ISRC3INT3\", \"ISRC3INT3\" }, \\\n\t{ name, \"ISRC3INT4\", \"ISRC3INT4\" }, \\\n\t{ name, \"DSP2.1\", \"DSP2\" }, \\\n\t{ name, \"DSP2.2\", \"DSP2\" }, \\\n\t{ name, \"DSP2.3\", \"DSP2\" }, \\\n\t{ name, \"DSP2.4\", \"DSP2\" }, \\\n\t{ name, \"DSP2.5\", \"DSP2\" }, \\\n\t{ name, \"DSP2.6\", \"DSP2\" }, \\\n\t{ name, \"DSP3.1\", \"DSP3\" }, \\\n\t{ name, \"DSP3.2\", \"DSP3\" }, \\\n\t{ name, \"DSP3.3\", \"DSP3\" }, \\\n\t{ name, \"DSP3.4\", \"DSP3\" }, \\\n\t{ name, \"DSP3.5\", \"DSP3\" }, \\\n\t{ name, \"DSP3.6\", \"DSP3\" }\n\nstatic const struct snd_soc_dapm_route cs47l24_dapm_routes[] = {\n\t{ \"OUT1L\", NULL, \"CPVDD\" },\n\t{ \"OUT1R\", NULL, \"CPVDD\" },\n\n\t{ \"OUT4L\", NULL, \"SPKVDD\" },\n\n\t{ \"OUT1L\", NULL, \"SYSCLK\" },\n\t{ \"OUT1R\", NULL, \"SYSCLK\" },\n\t{ \"OUT4L\", NULL, \"SYSCLK\" },\n\n\t{ \"IN1L\", NULL, \"SYSCLK\" },\n\t{ \"IN1R\", NULL, \"SYSCLK\" },\n\t{ \"IN2L\", NULL, \"SYSCLK\" },\n\t{ \"IN2R\", NULL, \"SYSCLK\" },\n\n\t{ \"ASRC1L\", NULL, \"SYSCLK\" },\n\t{ \"ASRC1R\", NULL, \"SYSCLK\" },\n\t{ \"ASRC2L\", NULL, \"SYSCLK\" },\n\t{ \"ASRC2R\", NULL, \"SYSCLK\" },\n\n\t{ \"ASRC1L\", NULL, \"ASYNCCLK\" },\n\t{ \"ASRC1R\", NULL, \"ASYNCCLK\" },\n\t{ \"ASRC2L\", NULL, \"ASYNCCLK\" },\n\t{ \"ASRC2R\", NULL, \"ASYNCCLK\" },\n\n\t{ \"MICBIAS1\", NULL, \"MICVDD\" },\n\t{ \"MICBIAS2\", NULL, \"MICVDD\" },\n\n\t{ \"Noise Generator\", NULL, \"SYSCLK\" },\n\t{ \"Tone Generator 1\", NULL, \"SYSCLK\" },\n\t{ \"Tone Generator 2\", NULL, \"SYSCLK\" },\n\n\t{ \"Noise Generator\", NULL, \"NOISE\" },\n\t{ \"Tone Generator 1\", NULL, \"TONE\" },\n\t{ \"Tone Generator 2\", NULL, \"TONE\" },\n\n\t{ \"AIF1 Capture\", NULL, \"AIF1TX1\" },\n\t{ \"AIF1 Capture\", NULL, \"AIF1TX2\" },\n\t{ \"AIF1 Capture\", NULL, \"AIF1TX3\" },\n\t{ \"AIF1 Capture\", NULL, \"AIF1TX4\" },\n\t{ \"AIF1 Capture\", NULL, \"AIF1TX5\" },\n\t{ \"AIF1 Capture\", NULL, \"AIF1TX6\" },\n\t{ \"AIF1 Capture\", NULL, \"AIF1TX7\" },\n\t{ \"AIF1 Capture\", NULL, \"AIF1TX8\" },\n\n\t{ \"AIF1RX1\", NULL, \"AIF1 Playback\" },\n\t{ \"AIF1RX2\", NULL, \"AIF1 Playback\" },\n\t{ \"AIF1RX3\", NULL, \"AIF1 Playback\" },\n\t{ \"AIF1RX4\", NULL, \"AIF1 Playback\" },\n\t{ \"AIF1RX5\", NULL, \"AIF1 Playback\" },\n\t{ \"AIF1RX6\", NULL, \"AIF1 Playback\" },\n\t{ \"AIF1RX7\", NULL, \"AIF1 Playback\" },\n\t{ \"AIF1RX8\", NULL, \"AIF1 Playback\" },\n\n\t{ \"AIF2 Capture\", NULL, \"AIF2TX1\" },\n\t{ \"AIF2 Capture\", NULL, \"AIF2TX2\" },\n\t{ \"AIF2 Capture\", NULL, \"AIF2TX3\" },\n\t{ \"AIF2 Capture\", NULL, \"AIF2TX4\" },\n\t{ \"AIF2 Capture\", NULL, \"AIF2TX5\" },\n\t{ \"AIF2 Capture\", NULL, \"AIF2TX6\" },\n\n\t{ \"AIF2RX1\", NULL, \"AIF2 Playback\" },\n\t{ \"AIF2RX2\", NULL, \"AIF2 Playback\" },\n\t{ \"AIF2RX3\", NULL, \"AIF2 Playback\" },\n\t{ \"AIF2RX4\", NULL, \"AIF2 Playback\" },\n\t{ \"AIF2RX5\", NULL, \"AIF2 Playback\" },\n\t{ \"AIF2RX6\", NULL, \"AIF2 Playback\" },\n\n\t{ \"AIF3 Capture\", NULL, \"AIF3TX1\" },\n\t{ \"AIF3 Capture\", NULL, \"AIF3TX2\" },\n\n\t{ \"AIF3RX1\", NULL, \"AIF3 Playback\" },\n\t{ \"AIF3RX2\", NULL, \"AIF3 Playback\" },\n\n\t{ \"AIF1 Playback\", NULL, \"SYSCLK\" },\n\t{ \"AIF2 Playback\", NULL, \"SYSCLK\" },\n\t{ \"AIF3 Playback\", NULL, \"SYSCLK\" },\n\n\t{ \"AIF1 Capture\", NULL, \"SYSCLK\" },\n\t{ \"AIF2 Capture\", NULL, \"SYSCLK\" },\n\t{ \"AIF3 Capture\", NULL, \"SYSCLK\" },\n\n\t{ \"Voice Control DSP\", NULL, \"DSP3\" },\n\n\t{ \"IN1L PGA\", NULL, \"IN1L\" },\n\t{ \"IN1R PGA\", NULL, \"IN1R\" },\n\n\t{ \"IN2L PGA\", NULL, \"IN2L\" },\n\t{ \"IN2R PGA\", NULL, \"IN2R\" },\n\n\t{ \"Audio Trace DSP\", NULL, \"DSP2\" },\n\n\tARIZONA_MIXER_ROUTES(\"OUT1L\", \"HPOUT1L\"),\n\tARIZONA_MIXER_ROUTES(\"OUT1R\", \"HPOUT1R\"),\n\n\tARIZONA_MIXER_ROUTES(\"OUT4L\", \"SPKOUT\"),\n\n\tARIZONA_MIXER_ROUTES(\"PWM1 Driver\", \"PWM1\"),\n\tARIZONA_MIXER_ROUTES(\"PWM2 Driver\", \"PWM2\"),\n\n\tARIZONA_MIXER_ROUTES(\"AIF1TX1\", \"AIF1TX1\"),\n\tARIZONA_MIXER_ROUTES(\"AIF1TX2\", \"AIF1TX2\"),\n\tARIZONA_MIXER_ROUTES(\"AIF1TX3\", \"AIF1TX3\"),\n\tARIZONA_MIXER_ROUTES(\"AIF1TX4\", \"AIF1TX4\"),\n\tARIZONA_MIXER_ROUTES(\"AIF1TX5\", \"AIF1TX5\"),\n\tARIZONA_MIXER_ROUTES(\"AIF1TX6\", \"AIF1TX6\"),\n\tARIZONA_MIXER_ROUTES(\"AIF1TX7\", \"AIF1TX7\"),\n\tARIZONA_MIXER_ROUTES(\"AIF1TX8\", \"AIF1TX8\"),\n\n\tARIZONA_MIXER_ROUTES(\"AIF2TX1\", \"AIF2TX1\"),\n\tARIZONA_MIXER_ROUTES(\"AIF2TX2\", \"AIF2TX2\"),\n\tARIZONA_MIXER_ROUTES(\"AIF2TX3\", \"AIF2TX3\"),\n\tARIZONA_MIXER_ROUTES(\"AIF2TX4\", \"AIF2TX4\"),\n\tARIZONA_MIXER_ROUTES(\"AIF2TX5\", \"AIF2TX5\"),\n\tARIZONA_MIXER_ROUTES(\"AIF2TX6\", \"AIF2TX6\"),\n\n\tARIZONA_MIXER_ROUTES(\"AIF3TX1\", \"AIF3TX1\"),\n\tARIZONA_MIXER_ROUTES(\"AIF3TX2\", \"AIF3TX2\"),\n\n\tARIZONA_MIXER_ROUTES(\"EQ1\", \"EQ1\"),\n\tARIZONA_MIXER_ROUTES(\"EQ2\", \"EQ2\"),\n\n\tARIZONA_MIXER_ROUTES(\"DRC1L\", \"DRC1L\"),\n\tARIZONA_MIXER_ROUTES(\"DRC1R\", \"DRC1R\"),\n\tARIZONA_MIXER_ROUTES(\"DRC2L\", \"DRC2L\"),\n\tARIZONA_MIXER_ROUTES(\"DRC2R\", \"DRC2R\"),\n\n\tARIZONA_MIXER_ROUTES(\"LHPF1\", \"LHPF1\"),\n\tARIZONA_MIXER_ROUTES(\"LHPF2\", \"LHPF2\"),\n\tARIZONA_MIXER_ROUTES(\"LHPF3\", \"LHPF3\"),\n\tARIZONA_MIXER_ROUTES(\"LHPF4\", \"LHPF4\"),\n\n\tARIZONA_MUX_ROUTES(\"ASRC1L\", \"ASRC1L\"),\n\tARIZONA_MUX_ROUTES(\"ASRC1R\", \"ASRC1R\"),\n\tARIZONA_MUX_ROUTES(\"ASRC2L\", \"ASRC2L\"),\n\tARIZONA_MUX_ROUTES(\"ASRC2R\", \"ASRC2R\"),\n\n\tARIZONA_DSP_ROUTES(\"DSP2\"),\n\tARIZONA_DSP_ROUTES(\"DSP3\"),\n\n\tARIZONA_MUX_ROUTES(\"ISRC1INT1\", \"ISRC1INT1\"),\n\tARIZONA_MUX_ROUTES(\"ISRC1INT2\", \"ISRC1INT2\"),\n\tARIZONA_MUX_ROUTES(\"ISRC1INT3\", \"ISRC1INT3\"),\n\tARIZONA_MUX_ROUTES(\"ISRC1INT4\", \"ISRC1INT4\"),\n\n\tARIZONA_MUX_ROUTES(\"ISRC1DEC1\", \"ISRC1DEC1\"),\n\tARIZONA_MUX_ROUTES(\"ISRC1DEC2\", \"ISRC1DEC2\"),\n\tARIZONA_MUX_ROUTES(\"ISRC1DEC3\", \"ISRC1DEC3\"),\n\tARIZONA_MUX_ROUTES(\"ISRC1DEC4\", \"ISRC1DEC4\"),\n\n\tARIZONA_MUX_ROUTES(\"ISRC2INT1\", \"ISRC2INT1\"),\n\tARIZONA_MUX_ROUTES(\"ISRC2INT2\", \"ISRC2INT2\"),\n\tARIZONA_MUX_ROUTES(\"ISRC2INT3\", \"ISRC2INT3\"),\n\tARIZONA_MUX_ROUTES(\"ISRC2INT4\", \"ISRC2INT4\"),\n\n\tARIZONA_MUX_ROUTES(\"ISRC2DEC1\", \"ISRC2DEC1\"),\n\tARIZONA_MUX_ROUTES(\"ISRC2DEC2\", \"ISRC2DEC2\"),\n\tARIZONA_MUX_ROUTES(\"ISRC2DEC3\", \"ISRC2DEC3\"),\n\tARIZONA_MUX_ROUTES(\"ISRC2DEC4\", \"ISRC2DEC4\"),\n\n\tARIZONA_MUX_ROUTES(\"ISRC3INT1\", \"ISRC3INT1\"),\n\tARIZONA_MUX_ROUTES(\"ISRC3INT2\", \"ISRC3INT2\"),\n\tARIZONA_MUX_ROUTES(\"ISRC3INT3\", \"ISRC3INT3\"),\n\tARIZONA_MUX_ROUTES(\"ISRC3INT4\", \"ISRC3INT4\"),\n\n\tARIZONA_MUX_ROUTES(\"ISRC3DEC1\", \"ISRC3DEC1\"),\n\tARIZONA_MUX_ROUTES(\"ISRC3DEC2\", \"ISRC3DEC2\"),\n\tARIZONA_MUX_ROUTES(\"ISRC3DEC3\", \"ISRC3DEC3\"),\n\tARIZONA_MUX_ROUTES(\"ISRC3DEC4\", \"ISRC3DEC4\"),\n\n\t{ \"AEC Loopback\", \"HPOUT1L\", \"OUT1L\" },\n\t{ \"AEC Loopback\", \"HPOUT1R\", \"OUT1R\" },\n\t{ \"HPOUT1L\", NULL, \"OUT1L\" },\n\t{ \"HPOUT1R\", NULL, \"OUT1R\" },\n\n\t{ \"AEC Loopback\", \"SPKOUT\", \"OUT4L\" },\n\t{ \"SPKOUTN\", NULL, \"OUT4L\" },\n\t{ \"SPKOUTP\", NULL, \"OUT4L\" },\n\n\t{ \"MICSUPP\", NULL, \"SYSCLK\" },\n\n\t{ \"DRC1 Signal Activity\", NULL, \"SYSCLK\" },\n\t{ \"DRC2 Signal Activity\", NULL, \"SYSCLK\" },\n\t{ \"DRC1 Signal Activity\", NULL, \"DRC1L\" },\n\t{ \"DRC1 Signal Activity\", NULL, \"DRC1R\" },\n\t{ \"DRC2 Signal Activity\", NULL, \"DRC2L\" },\n\t{ \"DRC2 Signal Activity\", NULL, \"DRC2R\" },\n\n\t{ \"DSP Voice Trigger\", NULL, \"SYSCLK\" },\n\t{ \"DSP Voice Trigger\", NULL, \"DSP3 Voice Trigger\" },\n\t{ \"DSP3 Voice Trigger\", \"Switch\", \"DSP3\" },\n};\n\nstatic int cs47l24_set_fll(struct snd_soc_component *component, int fll_id,\n\t\t\t   int source, unsigned int Fref, unsigned int Fout)\n{\n\tstruct cs47l24_priv *cs47l24 = snd_soc_component_get_drvdata(component);\n\n\tswitch (fll_id) {\n\tcase CS47L24_FLL1:\n\t\treturn arizona_set_fll(&cs47l24->fll[0], source, Fref, Fout);\n\tcase CS47L24_FLL2:\n\t\treturn arizona_set_fll(&cs47l24->fll[1], source, Fref, Fout);\n\tcase CS47L24_FLL1_REFCLK:\n\t\treturn arizona_set_fll_refclk(&cs47l24->fll[0], source, Fref,\n\t\t\t\t\t      Fout);\n\tcase CS47L24_FLL2_REFCLK:\n\t\treturn arizona_set_fll_refclk(&cs47l24->fll[1], source, Fref,\n\t\t\t\t\t      Fout);\n\tdefault:\n\t\treturn -EINVAL;\n\t}\n}\n\n#define CS47L24_RATES SNDRV_PCM_RATE_KNOT\n\n#define CS47L24_FORMATS (SNDRV_PCM_FMTBIT_S16_LE | SNDRV_PCM_FMTBIT_S20_3LE |\\\n\t\t\t SNDRV_PCM_FMTBIT_S24_LE | SNDRV_PCM_FMTBIT_S32_LE)\n\nstatic const struct snd_soc_dai_ops cs47l24_dai_ops = {\n\t.compress_new = snd_soc_new_compress,\n};\n\nstatic struct snd_soc_dai_driver cs47l24_dai[] = {\n\t{\n\t\t.name = \"cs47l24-aif1\",\n\t\t.id = 1,\n\t\t.base = ARIZONA_AIF1_BCLK_CTRL,\n\t\t.playback = {\n\t\t\t.stream_name = \"AIF1 Playback\",\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 8,\n\t\t\t.rates = CS47L24_RATES,\n\t\t\t.formats = CS47L24_FORMATS,\n\t\t},\n\t\t.capture = {\n\t\t\t .stream_name = \"AIF1 Capture\",\n\t\t\t .channels_min = 1,\n\t\t\t .channels_max = 8,\n\t\t\t .rates = CS47L24_RATES,\n\t\t\t .formats = CS47L24_FORMATS,\n\t\t },\n\t\t.ops = &arizona_dai_ops,\n\t\t.symmetric_rate = 1,\n\t\t.symmetric_sample_bits = 1,\n\t},\n\t{\n\t\t.name = \"cs47l24-aif2\",\n\t\t.id = 2,\n\t\t.base = ARIZONA_AIF2_BCLK_CTRL,\n\t\t.playback = {\n\t\t\t.stream_name = \"AIF2 Playback\",\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 6,\n\t\t\t.rates = CS47L24_RATES,\n\t\t\t.formats = CS47L24_FORMATS,\n\t\t},\n\t\t.capture = {\n\t\t\t .stream_name = \"AIF2 Capture\",\n\t\t\t .channels_min = 1,\n\t\t\t .channels_max = 6,\n\t\t\t .rates = CS47L24_RATES,\n\t\t\t .formats = CS47L24_FORMATS,\n\t\t },\n\t\t.ops = &arizona_dai_ops,\n\t\t.symmetric_rate = 1,\n\t\t.symmetric_sample_bits = 1,\n\t},\n\t{\n\t\t.name = \"cs47l24-aif3\",\n\t\t.id = 3,\n\t\t.base = ARIZONA_AIF3_BCLK_CTRL,\n\t\t.playback = {\n\t\t\t.stream_name = \"AIF3 Playback\",\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 2,\n\t\t\t.rates = CS47L24_RATES,\n\t\t\t.formats = CS47L24_FORMATS,\n\t\t},\n\t\t.capture = {\n\t\t\t .stream_name = \"AIF3 Capture\",\n\t\t\t .channels_min = 1,\n\t\t\t .channels_max = 2,\n\t\t\t .rates = CS47L24_RATES,\n\t\t\t .formats = CS47L24_FORMATS,\n\t\t },\n\t\t.ops = &arizona_dai_ops,\n\t\t.symmetric_rate = 1,\n\t\t.symmetric_sample_bits = 1,\n\t},\n\t{\n\t\t.name = \"cs47l24-cpu-voicectrl\",\n\t\t.capture = {\n\t\t\t.stream_name = \"Voice Control CPU\",\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 1,\n\t\t\t.rates = CS47L24_RATES,\n\t\t\t.formats = CS47L24_FORMATS,\n\t\t},\n\t\t.ops = &cs47l24_dai_ops,\n\t},\n\t{\n\t\t.name = \"cs47l24-dsp-voicectrl\",\n\t\t.capture = {\n\t\t\t.stream_name = \"Voice Control DSP\",\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 1,\n\t\t\t.rates = CS47L24_RATES,\n\t\t\t.formats = CS47L24_FORMATS,\n\t\t},\n\t},\n\t{\n\t\t.name = \"cs47l24-cpu-trace\",\n\t\t.capture = {\n\t\t\t.stream_name = \"Audio Trace CPU\",\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 6,\n\t\t\t.rates = CS47L24_RATES,\n\t\t\t.formats = CS47L24_FORMATS,\n\t\t},\n\t\t.ops = &cs47l24_dai_ops,\n\t},\n\t{\n\t\t.name = \"cs47l24-dsp-trace\",\n\t\t.capture = {\n\t\t\t.stream_name = \"Audio Trace DSP\",\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 6,\n\t\t\t.rates = CS47L24_RATES,\n\t\t\t.formats = CS47L24_FORMATS,\n\t\t},\n\t},\n};\n\nstatic int cs47l24_open(struct snd_soc_component *component,\n\t\t\tstruct snd_compr_stream *stream)\n{\n\tstruct snd_soc_pcm_runtime *rtd = stream->private_data;\n\tstruct cs47l24_priv *priv = snd_soc_component_get_drvdata(component);\n\tstruct arizona *arizona = priv->core.arizona;\n\tint n_adsp;\n\n\tif (strcmp(asoc_rtd_to_codec(rtd, 0)->name, \"cs47l24-dsp-voicectrl\") == 0) {\n\t\tn_adsp = 2;\n\t} else if (strcmp(asoc_rtd_to_codec(rtd, 0)->name, \"cs47l24-dsp-trace\") == 0) {\n\t\tn_adsp = 1;\n\t} else {\n\t\tdev_err(arizona->dev,\n\t\t\t\"No suitable compressed stream for DAI '%s'\\n\",\n\t\t\tasoc_rtd_to_codec(rtd, 0)->name);\n\t\treturn -EINVAL;\n\t}\n\n\treturn wm_adsp_compr_open(&priv->core.adsp[n_adsp], stream);\n}\n\nstatic irqreturn_t cs47l24_adsp2_irq(int irq, void *data)\n{\n\tstruct cs47l24_priv *priv = data;\n\tstruct arizona *arizona = priv->core.arizona;\n\tstruct arizona_voice_trigger_info info;\n\tint serviced = 0;\n\tint i, ret;\n\n\tfor (i = 1; i <= 2; ++i) {\n\t\tret = wm_adsp_compr_handle_irq(&priv->core.adsp[i]);\n\t\tif (ret != -ENODEV)\n\t\t\tserviced++;\n\t\tif (ret == WM_ADSP_COMPR_VOICE_TRIGGER) {\n\t\t\tinfo.core = i;\n\t\t\tarizona_call_notifiers(arizona,\n\t\t\t\t\t       ARIZONA_NOTIFY_VOICE_TRIGGER,\n\t\t\t\t\t       &info);\n\t\t}\n\t}\n\n\tif (!serviced) {\n\t\tdev_err(arizona->dev, \"Spurious compressed data IRQ\\n\");\n\t\treturn IRQ_NONE;\n\t}\n\n\treturn IRQ_HANDLED;\n}\n\nstatic int cs47l24_component_probe(struct snd_soc_component *component)\n{\n\tstruct snd_soc_dapm_context *dapm = snd_soc_component_get_dapm(component);\n\tstruct cs47l24_priv *priv = snd_soc_component_get_drvdata(component);\n\tstruct arizona *arizona = priv->core.arizona;\n\tint ret;\n\n\tarizona->dapm = dapm;\n\tsnd_soc_component_init_regmap(component, arizona->regmap);\n\n\tret = arizona_init_spk(component);\n\tif (ret < 0)\n\t\treturn ret;\n\n\tarizona_init_gpio(component);\n\tarizona_init_mono(component);\n\n\tret = wm_adsp2_component_probe(&priv->core.adsp[1], component);\n\tif (ret)\n\t\tgoto err_adsp2_codec_probe;\n\n\tret = wm_adsp2_component_probe(&priv->core.adsp[2], component);\n\tif (ret)\n\t\tgoto err_adsp2_codec_probe;\n\n\tret = snd_soc_add_component_controls(component,\n\t\t\t\t\t     &arizona_adsp2_rate_controls[1],\n\t\t\t\t\t     2);\n\tif (ret)\n\t\tgoto err_adsp2_codec_probe;\n\n\tsnd_soc_component_disable_pin(component, \"HAPTICS\");\n\n\treturn 0;\n\nerr_adsp2_codec_probe:\n\twm_adsp2_component_remove(&priv->core.adsp[1], component);\n\twm_adsp2_component_remove(&priv->core.adsp[2], component);\n\n\treturn ret;\n}\n\nstatic void cs47l24_component_remove(struct snd_soc_component *component)\n{\n\tstruct cs47l24_priv *priv = snd_soc_component_get_drvdata(component);\n\n\twm_adsp2_component_remove(&priv->core.adsp[1], component);\n\twm_adsp2_component_remove(&priv->core.adsp[2], component);\n\n\tpriv->core.arizona->dapm = NULL;\n}\n\n#define CS47L24_DIG_VU 0x0200\n\nstatic unsigned int cs47l24_digital_vu[] = {\n\tARIZONA_DAC_DIGITAL_VOLUME_1L,\n\tARIZONA_DAC_DIGITAL_VOLUME_1R,\n\tARIZONA_DAC_DIGITAL_VOLUME_4L,\n};\n\nstatic const struct snd_compress_ops cs47l24_compress_ops = {\n\t.open\t\t= cs47l24_open,\n\t.free\t\t= wm_adsp_compr_free,\n\t.set_params\t= wm_adsp_compr_set_params,\n\t.get_caps\t= wm_adsp_compr_get_caps,\n\t.trigger\t= wm_adsp_compr_trigger,\n\t.pointer\t= wm_adsp_compr_pointer,\n\t.copy\t\t= wm_adsp_compr_copy,\n};\n\nstatic const struct snd_soc_component_driver soc_component_dev_cs47l24 = {\n\t.probe\t\t\t= cs47l24_component_probe,\n\t.remove\t\t\t= cs47l24_component_remove,\n\t.set_sysclk\t\t= arizona_set_sysclk,\n\t.set_pll\t\t= cs47l24_set_fll,\n\t.name\t\t\t= DRV_NAME,\n\t.compress_ops\t\t= &cs47l24_compress_ops,\n\t.controls\t\t= cs47l24_snd_controls,\n\t.num_controls\t\t= ARRAY_SIZE(cs47l24_snd_controls),\n\t.dapm_widgets\t\t= cs47l24_dapm_widgets,\n\t.num_dapm_widgets\t= ARRAY_SIZE(cs47l24_dapm_widgets),\n\t.dapm_routes\t\t= cs47l24_dapm_routes,\n\t.num_dapm_routes\t= ARRAY_SIZE(cs47l24_dapm_routes),\n\t.use_pmdown_time\t= 1,\n\t.endianness\t\t= 1,\n};\n\nstatic int cs47l24_probe(struct platform_device *pdev)\n{\n\tstruct arizona *arizona = dev_get_drvdata(pdev->dev.parent);\n\tstruct cs47l24_priv *cs47l24;\n\tint i, ret;\n\n\tBUILD_BUG_ON(ARRAY_SIZE(cs47l24_dai) > ARIZONA_MAX_DAI);\n\n\tcs47l24 = devm_kzalloc(&pdev->dev, sizeof(struct cs47l24_priv),\n\t\t\t       GFP_KERNEL);\n\tif (!cs47l24)\n\t\treturn -ENOMEM;\n\n\tif (IS_ENABLED(CONFIG_OF)) {\n\t\tif (!dev_get_platdata(arizona->dev)) {\n\t\t\tret = arizona_of_get_audio_pdata(arizona);\n\t\t\tif (ret < 0)\n\t\t\t\treturn ret;\n\t\t}\n\t}\n\n\tplatform_set_drvdata(pdev, cs47l24);\n\n\tcs47l24->core.arizona = arizona;\n\tcs47l24->core.num_inputs = 4;\n\n\tfor (i = 1; i <= 2; i++) {\n\t\tcs47l24->core.adsp[i].part = \"cs47l24\";\n\t\tcs47l24->core.adsp[i].cs_dsp.num = i + 1;\n\t\tcs47l24->core.adsp[i].cs_dsp.type = WMFW_ADSP2;\n\t\tcs47l24->core.adsp[i].cs_dsp.dev = arizona->dev;\n\t\tcs47l24->core.adsp[i].cs_dsp.regmap = arizona->regmap;\n\n\t\tcs47l24->core.adsp[i].cs_dsp.base = ARIZONA_DSP1_CONTROL_1 +\n\t\t\t\t\t     (0x100 * i);\n\t\tcs47l24->core.adsp[i].cs_dsp.mem = cs47l24_dsp_regions[i - 1];\n\t\tcs47l24->core.adsp[i].cs_dsp.num_mems =\n\t\t\t\tARRAY_SIZE(cs47l24_dsp2_regions);\n\n\t\tret = wm_adsp2_init(&cs47l24->core.adsp[i]);\n\t\tif (ret != 0)\n\t\t\treturn ret;\n\t}\n\n\tfor (i = 0; i < ARRAY_SIZE(cs47l24->fll); i++)\n\t\tcs47l24->fll[i].vco_mult = 3;\n\n\tarizona_init_fll(arizona, 1, ARIZONA_FLL1_CONTROL_1 - 1,\n\t\t\t ARIZONA_IRQ_FLL1_LOCK, ARIZONA_IRQ_FLL1_CLOCK_OK,\n\t\t\t &cs47l24->fll[0]);\n\tarizona_init_fll(arizona, 2, ARIZONA_FLL2_CONTROL_1 - 1,\n\t\t\t ARIZONA_IRQ_FLL2_LOCK, ARIZONA_IRQ_FLL2_CLOCK_OK,\n\t\t\t &cs47l24->fll[1]);\n\n\t \n\tregmap_update_bits(arizona->regmap, ARIZONA_SAMPLE_RATE_2,\n\t\t\t   ARIZONA_SAMPLE_RATE_2_MASK, 0x11);\n\tregmap_update_bits(arizona->regmap, ARIZONA_SAMPLE_RATE_3,\n\t\t\t   ARIZONA_SAMPLE_RATE_3_MASK, 0x12);\n\n\tfor (i = 0; i < ARRAY_SIZE(cs47l24_dai); i++)\n\t\tarizona_init_dai(&cs47l24->core, i);\n\n\t \n\tfor (i = 0; i < ARRAY_SIZE(cs47l24_digital_vu); i++)\n\t\tregmap_update_bits(arizona->regmap, cs47l24_digital_vu[i],\n\t\t\t\t   CS47L24_DIG_VU, CS47L24_DIG_VU);\n\n\tpm_runtime_enable(&pdev->dev);\n\tpm_runtime_idle(&pdev->dev);\n\n\tret = arizona_request_irq(arizona, ARIZONA_IRQ_DSP_IRQ1,\n\t\t\t\t  \"ADSP2 Compressed IRQ\", cs47l24_adsp2_irq,\n\t\t\t\t  cs47l24);\n\tif (ret != 0) {\n\t\tdev_err(&pdev->dev, \"Failed to request DSP IRQ: %d\\n\", ret);\n\t\treturn ret;\n\t}\n\n\tret = arizona_set_irq_wake(arizona, ARIZONA_IRQ_DSP_IRQ1, 1);\n\tif (ret != 0)\n\t\tdev_warn(&pdev->dev,\n\t\t\t \"Failed to set compressed IRQ as a wake source: %d\\n\",\n\t\t\t ret);\n\n\tarizona_init_common(arizona);\n\n\tret = arizona_init_vol_limit(arizona);\n\tif (ret < 0)\n\t\tgoto err_dsp_irq;\n\tret = arizona_init_spk_irqs(arizona);\n\tif (ret < 0)\n\t\tgoto err_dsp_irq;\n\n\tret = devm_snd_soc_register_component(&pdev->dev,\n\t\t\t\t\t      &soc_component_dev_cs47l24,\n\t\t\t\t\t      cs47l24_dai,\n\t\t\t\t\t      ARRAY_SIZE(cs47l24_dai));\n\tif (ret < 0) {\n\t\tdev_err(&pdev->dev, \"Failed to register component: %d\\n\", ret);\n\t\tgoto err_spk_irqs;\n\t}\n\n\treturn ret;\n\nerr_spk_irqs:\n\tarizona_free_spk_irqs(arizona);\nerr_dsp_irq:\n\tarizona_set_irq_wake(arizona, ARIZONA_IRQ_DSP_IRQ1, 0);\n\tarizona_free_irq(arizona, ARIZONA_IRQ_DSP_IRQ1, cs47l24);\n\n\treturn ret;\n}\n\nstatic void cs47l24_remove(struct platform_device *pdev)\n{\n\tstruct cs47l24_priv *cs47l24 = platform_get_drvdata(pdev);\n\tstruct arizona *arizona = cs47l24->core.arizona;\n\n\tpm_runtime_disable(&pdev->dev);\n\n\twm_adsp2_remove(&cs47l24->core.adsp[1]);\n\twm_adsp2_remove(&cs47l24->core.adsp[2]);\n\n\tarizona_free_spk_irqs(arizona);\n\n\tarizona_set_irq_wake(arizona, ARIZONA_IRQ_DSP_IRQ1, 0);\n\tarizona_free_irq(arizona, ARIZONA_IRQ_DSP_IRQ1, cs47l24);\n}\n\nstatic struct platform_driver cs47l24_codec_driver = {\n\t.driver = {\n\t\t.name = \"cs47l24-codec\",\n\t},\n\t.probe = cs47l24_probe,\n\t.remove_new = cs47l24_remove,\n};\n\nmodule_platform_driver(cs47l24_codec_driver);\n\nMODULE_DESCRIPTION(\"ASoC CS47L24 driver\");\nMODULE_AUTHOR(\"Richard Fitzgerald <rf@opensource.wolfsonmicro.com>\");\nMODULE_LICENSE(\"GPL v2\");\nMODULE_ALIAS(\"platform:cs47l24-codec\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}