{
  "module_name": "bt-sco.c",
  "hash_id": "8258e04f2bbe733b3223ac2feb9d2a768a34641d6562d4fb6e050575a1b62e51",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/codecs/bt-sco.c",
  "human_readable_source": "\n \n\n#include <linux/init.h>\n#include <linux/module.h>\n#include <linux/platform_device.h>\n\n#include <sound/soc.h>\n\nstatic const struct snd_soc_dapm_widget bt_sco_widgets[] = {\n\tSND_SOC_DAPM_INPUT(\"RX\"),\n\tSND_SOC_DAPM_OUTPUT(\"TX\"),\n\tSND_SOC_DAPM_AIF_IN(\"BT_SCO_RX\", \"Playback\", 0,\n\t\t\t    SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"BT_SCO_TX\", \"Capture\", 0,\n\t\t\t     SND_SOC_NOPM, 0, 0),\n};\n\nstatic const struct snd_soc_dapm_route bt_sco_routes[] = {\n\t{ \"BT_SCO_TX\", NULL, \"RX\" },\n\t{ \"TX\", NULL, \"BT_SCO_RX\" },\n};\n\nstatic struct snd_soc_dai_driver bt_sco_dai[] = {\n\t{\n\t\t.name = \"bt-sco-pcm\",\n\t\t.playback = {\n\t\t\t.stream_name = \"Playback\",\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 1,\n\t\t\t.rates = SNDRV_PCM_RATE_8000,\n\t\t\t.formats = SNDRV_PCM_FMTBIT_S16_LE,\n\t\t},\n\t\t.capture = {\n\t\t\t .stream_name = \"Capture\",\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 1,\n\t\t\t.rates = SNDRV_PCM_RATE_8000,\n\t\t\t.formats = SNDRV_PCM_FMTBIT_S16_LE,\n\t\t},\n\t},\n\t{\n\t\t.name = \"bt-sco-pcm-wb\",\n\t\t.playback = {\n\t\t\t.stream_name = \"Playback\",\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 1,\n\t\t\t.rates = SNDRV_PCM_RATE_8000 | SNDRV_PCM_RATE_16000,\n\t\t\t.formats = SNDRV_PCM_FMTBIT_S16_LE,\n\t\t},\n\t\t.capture = {\n\t\t\t .stream_name = \"Capture\",\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 1,\n\t\t\t.rates = SNDRV_PCM_RATE_8000 | SNDRV_PCM_RATE_16000,\n\t\t\t.formats = SNDRV_PCM_FMTBIT_S16_LE,\n\t\t},\n\t}\n};\n\nstatic const struct snd_soc_component_driver soc_component_dev_bt_sco = {\n\t.dapm_widgets\t\t= bt_sco_widgets,\n\t.num_dapm_widgets\t= ARRAY_SIZE(bt_sco_widgets),\n\t.dapm_routes\t\t= bt_sco_routes,\n\t.num_dapm_routes\t= ARRAY_SIZE(bt_sco_routes),\n\t.idle_bias_on\t\t= 1,\n\t.use_pmdown_time\t= 1,\n\t.endianness\t\t= 1,\n};\n\nstatic int bt_sco_probe(struct platform_device *pdev)\n{\n\treturn devm_snd_soc_register_component(&pdev->dev,\n\t\t\t\t      &soc_component_dev_bt_sco,\n\t\t\t\t      bt_sco_dai, ARRAY_SIZE(bt_sco_dai));\n}\n\nstatic const struct platform_device_id bt_sco_driver_ids[] = {\n\t{\n\t\t.name\t\t= \"dfbmcs320\",\n\t},\n\t{\n\t\t.name\t\t= \"bt-sco\",\n\t},\n\t{},\n};\nMODULE_DEVICE_TABLE(platform, bt_sco_driver_ids);\n\n#if defined(CONFIG_OF)\nstatic const struct of_device_id bt_sco_codec_of_match[] = {\n\t{ .compatible = \"delta,dfbmcs320\", },\n\t{ .compatible = \"linux,bt-sco\", },\n\t{},\n};\nMODULE_DEVICE_TABLE(of, bt_sco_codec_of_match);\n#endif\n\nstatic struct platform_driver bt_sco_driver = {\n\t.driver = {\n\t\t.name = \"bt-sco\",\n\t\t.of_match_table = of_match_ptr(bt_sco_codec_of_match),\n\t},\n\t.probe = bt_sco_probe,\n\t.id_table = bt_sco_driver_ids,\n};\n\nmodule_platform_driver(bt_sco_driver);\n\nMODULE_AUTHOR(\"Lars-Peter Clausen <lars@metafoo.de>\");\nMODULE_DESCRIPTION(\"ASoC generic bluetooth sco link driver\");\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}