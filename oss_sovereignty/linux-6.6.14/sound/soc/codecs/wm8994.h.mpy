{
  "module_name": "wm8994.h",
  "hash_id": "735a26a8f14ed46e3715e461f5f668f0f66c24c14f0cab8c3ac1b5015e60be48",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/codecs/wm8994.h",
  "human_readable_source": " \n \n\n#ifndef _WM8994_H\n#define _WM8994_H\n\n#include <linux/clk.h>\n#include <sound/soc.h>\n#include <linux/firmware.h>\n#include <linux/completion.h>\n#include <linux/workqueue.h>\n#include <linux/mutex.h>\n\n#include \"wm_hubs.h\"\n\nenum {\n\tWM8994_MCLK1,\n\tWM8994_MCLK2,\n\tWM8994_NUM_MCLK\n};\n\n \n#define WM8994_SYSCLK_MCLK1 1\n#define WM8994_SYSCLK_MCLK2 2\n#define WM8994_SYSCLK_FLL1  3\n#define WM8994_SYSCLK_FLL2  4\n\n \n#define WM8994_SYSCLK_OPCLK 5\n\n#define WM8994_FLL1 1\n#define WM8994_FLL2 2\n\n#define WM8994_FLL_SRC_MCLK1    1\n#define WM8994_FLL_SRC_MCLK2    2\n#define WM8994_FLL_SRC_LRCLK    3\n#define WM8994_FLL_SRC_BCLK     4\n#define WM8994_FLL_SRC_INTERNAL 5\n\nenum wm8994_vmid_mode {\n\tWM8994_VMID_NORMAL,\n\tWM8994_VMID_FORCE,\n};\n\ntypedef void (*wm1811_micdet_cb)(void *data);\ntypedef void (*wm1811_mic_id_cb)(void *data, u16 status);\n\nint wm8994_mic_detect(struct snd_soc_component *component, struct snd_soc_jack *jack,\n\t\t      int micbias);\nint wm8958_mic_detect(struct snd_soc_component *component, struct snd_soc_jack *jack,\n\t\t      wm1811_micdet_cb det_cb, void *det_cb_data,\n\t\t      wm1811_mic_id_cb id_cb, void *id_cb_data);\n\nint wm8994_vmid_mode(struct snd_soc_component *component, enum wm8994_vmid_mode mode);\n\nint wm8958_aif_ev(struct snd_soc_dapm_widget *w,\n\t\t  struct snd_kcontrol *kcontrol, int event);\n\nvoid wm8958_dsp2_init(struct snd_soc_component *component);\n\nstruct wm8994_micdet {\n\tstruct snd_soc_jack *jack;\n\tbool detecting;\n};\n\n \nstruct wm8994_fll_config {\n\tint src;\n\tint in;\n\tint out;\n};\n\n#define WM8994_NUM_DRC 3\n#define WM8994_NUM_EQ  3\n\nstruct wm8994;\n\nstruct wm8994_priv {\n\tstruct wm_hubs_data hubs;\n\tstruct wm8994 *wm8994;\n\tstruct clk_bulk_data mclk[WM8994_NUM_MCLK];\n\tint sysclk[2];\n\tint sysclk_rate[2];\n\tint mclk_rate[2];\n\tint aifclk[2];\n\tint aifdiv[2];\n\tint channels[2];\n\tstruct wm8994_fll_config fll[2], fll_suspend[2];\n\tstruct completion fll_locked[2];\n\tbool fll_locked_irq;\n\tbool fll_byp;\n\tbool clk_has_run;\n\n\tint vmid_refcount;\n\tint active_refcount;\n\tenum wm8994_vmid_mode vmid_mode;\n\n\tint dac_rates[2];\n\tint lrclk_shared[2];\n\n\tint mbc_ena[3];\n\tint hpf1_ena[3];\n\tint hpf2_ena[3];\n\tint vss_ena[3];\n\tint enh_eq_ena[3];\n\n\t \n\tconst char **drc_texts;\n\tint drc_cfg[WM8994_NUM_DRC];\n\tstruct soc_enum drc_enum;\n\n\t \n\tint num_retune_mobile_texts;\n\tconst char **retune_mobile_texts;\n\tint retune_mobile_cfg[WM8994_NUM_EQ];\n\tstruct soc_enum retune_mobile_enum;\n\n\t \n\tint mbc_cfg;\n\tconst char **mbc_texts;\n\tstruct soc_enum mbc_enum;\n\n\t \n\tint vss_cfg;\n\tconst char **vss_texts;\n\tstruct soc_enum vss_enum;\n\n\t \n\tint vss_hpf_cfg;\n\tconst char **vss_hpf_texts;\n\tstruct soc_enum vss_hpf_enum;\n\n\t \n\tint enh_eq_cfg;\n\tconst char **enh_eq_texts;\n\tstruct soc_enum enh_eq_enum;\n\n\tstruct mutex accdet_lock;\n\tstruct wm8994_micdet micdet[2];\n\tstruct delayed_work mic_work;\n\tstruct delayed_work open_circuit_work;\n\tstruct delayed_work mic_complete_work;\n\tu16 mic_status;\n\tbool mic_detecting;\n\tbool jack_mic;\n\tint btn_mask;\n\tbool jackdet;\n\tint jackdet_mode;\n\tstruct delayed_work jackdet_bootstrap;\n\n\tint micdet_irq;\n\twm1811_micdet_cb micd_cb;\n\tvoid *micd_cb_data;\n\twm1811_mic_id_cb mic_id_cb;\n\tvoid *mic_id_cb_data;\n\n\tunsigned int aif1clk_enable:1;\n\tunsigned int aif2clk_enable:1;\n\n\tunsigned int aif1clk_disable:1;\n\tunsigned int aif2clk_disable:1;\n\n\tstruct mutex fw_lock;\n\tint dsp_active;\n\tconst struct firmware *cur_fw;\n\tconst struct firmware *mbc;\n\tconst struct firmware *mbc_vss;\n\tconst struct firmware *enh_eq;\n};\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}