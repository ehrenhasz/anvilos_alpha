{
  "module_name": "rt711.h",
  "hash_id": "9110f59dd52f291a35e63d8a86070c6c57b7351909a2662802b694965164c364",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/codecs/rt711.h",
  "human_readable_source": " \n \n\n#ifndef __RT711_H__\n#define __RT711_H__\n\nextern const struct dev_pm_ops rt711_runtime_pm;\n\nstruct  rt711_priv {\n\tstruct regmap *regmap;\n\tstruct regmap *sdw_regmap;\n\tstruct snd_soc_component *component;\n\tstruct sdw_slave *slave;\n\tstruct sdw_bus_params params;\n\tbool hw_init;\n\tbool first_hw_init;\n\tstruct snd_soc_jack *hs_jack;\n\tstruct delayed_work jack_detect_work;\n\tstruct delayed_work jack_btn_check_work;\n\tstruct work_struct calibration_work;\n\tstruct mutex calibrate_mutex;  \n\tint jack_type, jd_src;\n\tstruct mutex disable_irq_lock;  \n\tbool disable_irq;\n};\n\n \n#define RT711_AUDIO_FUNCTION_GROUP\t\t\t0x01\n#define RT711_DAC_OUT2\t\t\t\t\t0x03\n#define RT711_ADC_IN1\t\t\t\t\t0x09\n#define RT711_ADC_IN2\t\t\t\t\t0x08\n#define RT711_DMIC1\t\t\t\t\t0x12\n#define RT711_DMIC2\t\t\t\t\t0x13\n#define RT711_MIC2\t\t\t\t\t0x19\n#define RT711_LINE1\t\t\t\t\t0x1a\n#define RT711_LINE2\t\t\t\t\t0x1b\n#define RT711_BEEP\t\t\t\t\t0x1d\n#define RT711_VENDOR_REG\t\t\t\t0x20\n#define RT711_HP_OUT\t\t\t\t\t0x21\n#define RT711_MIXER_IN1\t\t\t\t\t0x22\n#define RT711_MIXER_IN2\t\t\t\t\t0x23\n#define RT711_INLINE_CMD\t\t\t\t0x55\n#define RT711_VENDOR_CALI\t\t\t\t0x58\n#define RT711_VENDOR_IMS_DRE\t\t\t0x5b\n\n \n#define RT711_DAC_DC_CALI_CTL1\t\t\t\t0x00\n#define RT711_JD_CTL1\t\t\t\t0x08\n#define RT711_JD_CTL2\t\t\t\t0x09\n#define RT711_JD_CTL4\t\t\t\t0x0b\n#define RT711_CC_DET1\t\t\t\t0x11\n#define RT711_PARA_VERB_CTL\t\t\t\t0x1a\n#define RT711_COMBO_JACK_AUTO_CTL1\t\t\t\t0x45\n#define RT711_COMBO_JACK_AUTO_CTL2\t\t\t\t0x46\n#define RT711_INLINE_CMD_CTL\t\t\t\t0x48\n#define RT711_DIGITAL_MISC_CTRL4\t\t\t0x4a\n#define RT711_VREFOUT_CTL\t\t\t\t0x6b\n#define RT711_FSM_CTL\t\t\t\t0x6f\n#define RT711_IRQ_FLAG_TABLE1\t\t\t\t0x80\n#define RT711_IRQ_FLAG_TABLE2\t\t\t\t0x81\n#define RT711_IRQ_FLAG_TABLE3\t\t\t\t0x82\n#define RT711_TX_RX_MUX_CTL\t\t\t\t0x91\n\n \n#define RT711_IMS_DIGITAL_CTL1\t\t\t\t0x00\n#define RT711_HP_IMS_RESULT_L\t\t\t\t0x20\n#define RT711_HP_IMS_RESULT_R\t\t\t\t0x21\n\n \n#define RT711_VERB_SET_CONNECT_SEL\t\t\t0x3100\n#define RT711_VERB_SET_EAPD_BTLENABLE\t\t\t0x3c00\n#define RT711_VERB_GET_CONNECT_SEL\t\t\t0xb100\n#define RT711_VERB_SET_POWER_STATE\t\t\t0x3500\n#define RT711_VERB_SET_CHANNEL_STREAMID\t\t\t0x3600\n#define RT711_VERB_SET_PIN_WIDGET_CONTROL\t\t0x3700\n#define RT711_VERB_SET_UNSOLICITED_ENABLE\t\t0x3800\n#define RT711_SET_AMP_GAIN_MUTE_H\t\t\t0x7300\n#define RT711_SET_AMP_GAIN_MUTE_L\t\t\t0x8380\n#define RT711_VERB_GET_POWER_STATE\t\t\t0xb500\n#define RT711_VERB_GET_CHANNEL_STREAMID\t\t\t0xb600\n#define RT711_VERB_GET_PIN_SENSE\t\t\t0xb900\n#define RT711_FUNC_RESET\t\t\t0xff01\n\n#define RT711_READ_HDA_3\t\t\t\t0x2012\n#define RT711_READ_HDA_2\t\t\t\t0x2013\n#define RT711_READ_HDA_1\t\t\t\t0x2014\n#define RT711_READ_HDA_0\t\t\t\t0x2015\n#define RT711_PRIV_INDEX_W_H\t\t\t\t0x7500\n#define RT711_PRIV_INDEX_W_L\t\t\t\t0x8580\n#define RT711_PRIV_DATA_W_H\t\t\t\t0x7400\n#define RT711_PRIV_DATA_W_L\t\t\t\t0x8480\n#define RT711_PRIV_INDEX_R_H\t\t\t\t0x9d00\n#define RT711_PRIV_INDEX_R_L\t\t\t\t0xad80\n#define RT711_PRIV_DATA_R_H\t\t\t\t0x9c00\n#define RT711_PRIV_DATA_R_L\t\t\t\t0xac80\n#define RT711_DAC_FORMAT_H\t\t\t\t0x7203\n#define RT711_DAC_FORMAT_L\t\t\t\t0x8283\n#define RT711_ADC1_FORMAT_H\t\t\t\t0x7209\n#define RT711_ADC1_FORMAT_L\t\t\t\t0x8289\n#define RT711_ADC2_FORMAT_H\t\t\t\t0x7208\n#define RT711_ADC2_FORMAT_L\t\t\t\t0x8288\n\n#define RT711_SET_AUDIO_POWER_STATE\\\n\t(RT711_VERB_SET_POWER_STATE | RT711_AUDIO_FUNCTION_GROUP)\n#define RT711_GET_AUDIO_POWER_STATE\\\n\t\t(RT711_VERB_GET_POWER_STATE | RT711_AUDIO_FUNCTION_GROUP)\n#define RT711_SET_PIN_DMIC1\\\n\t(RT711_VERB_SET_PIN_WIDGET_CONTROL | RT711_DMIC1)\n#define RT711_SET_PIN_DMIC2\\\n\t(RT711_VERB_SET_PIN_WIDGET_CONTROL | RT711_DMIC2)\n#define RT711_SET_PIN_HP\\\n\t(RT711_VERB_SET_PIN_WIDGET_CONTROL | RT711_HP_OUT)\n#define RT711_SET_PIN_MIC2\\\n\t(RT711_VERB_SET_PIN_WIDGET_CONTROL | RT711_MIC2)\n#define RT711_SET_PIN_LINE1\\\n\t(RT711_VERB_SET_PIN_WIDGET_CONTROL | RT711_LINE1)\n#define RT711_SET_PIN_LINE2\\\n\t(RT711_VERB_SET_PIN_WIDGET_CONTROL | RT711_LINE2)\n#define RT711_SET_MIC2_UNSOLICITED_ENABLE\\\n\t(RT711_VERB_SET_UNSOLICITED_ENABLE | RT711_MIC2)\n#define RT711_SET_HP_UNSOLICITED_ENABLE\\\n\t(RT711_VERB_SET_UNSOLICITED_ENABLE | RT711_HP_OUT)\n#define RT711_SET_INLINE_UNSOLICITED_ENABLE\\\n\t(RT711_VERB_SET_UNSOLICITED_ENABLE | RT711_INLINE_CMD)\n#define RT711_SET_STREAMID_DAC2\\\n\t(RT711_VERB_SET_CHANNEL_STREAMID | RT711_DAC_OUT2)\n#define RT711_SET_STREAMID_ADC1\\\n\t(RT711_VERB_SET_CHANNEL_STREAMID | RT711_ADC_IN1)\n#define RT711_SET_STREAMID_ADC2\\\n\t(RT711_VERB_SET_CHANNEL_STREAMID | RT711_ADC_IN2)\n#define RT711_GET_STREAMID_DAC2\\\n\t(RT711_VERB_GET_CHANNEL_STREAMID | RT711_DAC_OUT2)\n#define RT711_GET_STREAMID_ADC1\\\n\t(RT711_VERB_GET_CHANNEL_STREAMID | RT711_ADC_IN1)\n#define RT711_GET_STREAMID_ADC2\\\n\t(RT711_VERB_GET_CHANNEL_STREAMID | RT711_ADC_IN2)\n#define RT711_SET_GAIN_DAC2_L\\\n\t(RT711_SET_AMP_GAIN_MUTE_L | RT711_DAC_OUT2)\n#define RT711_SET_GAIN_DAC2_H\\\n\t(RT711_SET_AMP_GAIN_MUTE_H | RT711_DAC_OUT2)\n#define RT711_SET_GAIN_ADC1_L\\\n\t(RT711_SET_AMP_GAIN_MUTE_L | RT711_ADC_IN1)\n#define RT711_SET_GAIN_ADC1_H\\\n\t(RT711_SET_AMP_GAIN_MUTE_H | RT711_ADC_IN1)\n#define RT711_SET_GAIN_ADC2_L\\\n\t(RT711_SET_AMP_GAIN_MUTE_L | RT711_ADC_IN2)\n#define RT711_SET_GAIN_ADC2_H\\\n\t(RT711_SET_AMP_GAIN_MUTE_H | RT711_ADC_IN2)\n#define RT711_SET_GAIN_AMIC_L\\\n\t(RT711_SET_AMP_GAIN_MUTE_L | RT711_MIC2)\n#define RT711_SET_GAIN_AMIC_H\\\n\t(RT711_SET_AMP_GAIN_MUTE_H | RT711_MIC2)\n#define RT711_SET_GAIN_DMIC1_L\\\n\t(RT711_SET_AMP_GAIN_MUTE_L | RT711_DMIC1)\n#define RT711_SET_GAIN_DMIC1_H\\\n\t(RT711_SET_AMP_GAIN_MUTE_H | RT711_DMIC1)\n#define RT711_SET_GAIN_DMIC2_L\\\n\t(RT711_SET_AMP_GAIN_MUTE_L | RT711_DMIC2)\n#define RT711_SET_GAIN_DMIC2_H\\\n\t(RT711_SET_AMP_GAIN_MUTE_H | RT711_DMIC2)\n#define RT711_SET_GAIN_HP_L\\\n\t(RT711_SET_AMP_GAIN_MUTE_L | RT711_HP_OUT)\n#define RT711_SET_GAIN_HP_H\\\n\t(RT711_SET_AMP_GAIN_MUTE_H | RT711_HP_OUT)\n\n \n#define RT711_DAC_DC_CALI_TRIGGER (0x1 << 15)\n\n \n#define RT711_JD2_DIGITAL_JD_MODE_SEL (0x1 << 1)\n#define RT711_JD2_1_JD_MODE (0x0 << 1)\n#define RT711_JD2_2_JD_MODE (0x1 << 1)\n\n \n#define RT711_JD2_2PORT_200K_DECODE_HP (0x1 << 13)\n#define RT711_JD2_2PORT_100K_DECODE (0x1 << 12)\n#define RT711_JD2_2PORT_100K_DECODE_HP (0x0 << 12)\n#define RT711_HP_JD_SEL_JD1 (0x0 << 1)\n#define RT711_HP_JD_SEL_JD2 (0x1 << 1)\n#define RT711_JD2_1PORT_TYPE_DECODE (0x3 << 10)\n#define RT711_JD2_1PORT_JD_LINE2 (0x0 << 10)\n#define RT711_JD2_1PORT_JD_HP (0x1 << 10)\n#define RT711_JD2_1PORT_JD_LINE1 (0x2 << 10)\n#define RT711_JD1_2PORT_TYPE_100K_DECODE (0x1 << 0)\n#define RT711_JD1_2PORT_JD_RESERVED (0x0 << 0)\n#define RT711_JD1_2PORT_JD_LINE1 (0x1 << 0)\n\n \n#define RT711_JD2_PAD_PULL_UP_MASK (0x1 << 3)\n#define RT711_JD2_PAD_NOT_PULL_UP (0x0 << 3)\n#define RT711_JD2_PAD_PULL_UP (0x1 << 3)\n#define RT711_JD2_MODE_SEL_MASK (0x3 << 0)\n#define RT711_JD2_MODE0_2PORT (0x0 << 0)\n#define RT711_JD2_MODE1_3P3V_1PORT (0x1 << 0)\n#define RT711_JD2_MODE2_1P8V_1PORT (0x2 << 0)\n\n \n#define RT711_HP_JD_FINAL_RESULT_CTL_JD12 (0x1 << 10)\n#define RT711_HP_JD_FINAL_RESULT_CTL_CCDET (0x0 << 10)\n\n \n#define RT711_HIDDEN_REG_SW_RESET (0x1 << 14)\n\n \n#define RT711_COMBOJACK_AUTO_DET_STATUS\t\t\t(0x1 << 11)\n#define RT711_COMBOJACK_AUTO_DET_TRS\t\t\t(0x1 << 10)\n#define RT711_COMBOJACK_AUTO_DET_CTIA\t\t\t(0x1 << 9)\n#define RT711_COMBOJACK_AUTO_DET_OMTP\t\t\t(0x1 << 8)\n\n \n#define RT711_CALI_CTL\t\t\t(0x0 << 0)\n#define RT711_COMBOJACK_CTL\t\t\t(0x1 << 0)\n#define RT711_IMS_CTL\t\t\t(0x2 << 0)\n#define RT711_DEPOP_CTL\t\t\t(0x3 << 0)\n\n \n#define RT711_TRIGGER_IMS\t\t\t(0x1 << 15)\n#define RT711_IMS_EN\t\t\t(0x1 << 6)\n\n#define RT711_EAPD_HIGH\t\t\t\t\t0x2\n#define RT711_EAPD_LOW\t\t\t\t\t0x0\n#define RT711_MUTE_SFT\t\t\t\t\t7\n \n#define RT711_DIR_IN_SFT\t\t\t\t6\n#define RT711_DIR_OUT_SFT\t\t\t\t7\n\nenum {\n\tRT711_AIF1,\n\tRT711_AIF2,\n\tRT711_AIFS,\n};\n\nenum rt711_jd_src {\n\tRT711_JD_NULL,\n\tRT711_JD1,\n\tRT711_JD2,\n\tRT711_JD2_100K,\n\tRT711_JD2_1P8V_1PORT\n};\n\nint rt711_io_init(struct device *dev, struct sdw_slave *slave);\nint rt711_init(struct device *dev, struct regmap *sdw_regmap,\n\t       struct regmap *regmap, struct sdw_slave *slave);\n\nint rt711_jack_detect(struct rt711_priv *rt711, bool *hp, bool *mic);\nint rt711_clock_config(struct device *dev);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}