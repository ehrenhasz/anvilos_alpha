{
  "module_name": "spdif_receiver.c",
  "hash_id": "13c2602651f497b367f6394ca559edb76f049673d4257bd6e6811a6380a0bc85",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/codecs/spdif_receiver.c",
  "human_readable_source": "\n \n\n#include <linux/module.h>\n#include <linux/moduleparam.h>\n#include <linux/slab.h>\n#include <sound/soc.h>\n#include <sound/pcm.h>\n#include <sound/initval.h>\n#include <linux/of.h>\n\nstatic const struct snd_soc_dapm_widget dir_widgets[] = {\n\tSND_SOC_DAPM_INPUT(\"spdif-in\"),\n};\n\nstatic const struct snd_soc_dapm_route dir_routes[] = {\n\t{ \"Capture\", NULL, \"spdif-in\" },\n};\n\n#define STUB_RATES\tSNDRV_PCM_RATE_8000_192000\n#define STUB_FORMATS\t(SNDRV_PCM_FMTBIT_S16_LE | \\\n\t\t\tSNDRV_PCM_FMTBIT_S20_3LE | \\\n\t\t\tSNDRV_PCM_FMTBIT_S24_LE  | \\\n\t\t\tSNDRV_PCM_FMTBIT_S32_LE | \\\n\t\t\tSNDRV_PCM_FMTBIT_IEC958_SUBFRAME_LE)\n\nstatic struct snd_soc_component_driver soc_codec_spdif_dir = {\n\t.dapm_widgets\t\t= dir_widgets,\n\t.num_dapm_widgets\t= ARRAY_SIZE(dir_widgets),\n\t.dapm_routes\t\t= dir_routes,\n\t.num_dapm_routes\t= ARRAY_SIZE(dir_routes),\n\t.idle_bias_on\t\t= 1,\n\t.use_pmdown_time\t= 1,\n\t.endianness\t\t= 1,\n};\n\nstatic struct snd_soc_dai_driver dir_stub_dai = {\n\t.name\t\t= \"dir-hifi\",\n\t.capture\t= {\n\t\t.stream_name\t= \"Capture\",\n\t\t.channels_min\t= 1,\n\t\t.channels_max\t= 384,\n\t\t.rates\t\t= STUB_RATES,\n\t\t.formats\t= STUB_FORMATS,\n\t},\n};\n\nstatic int spdif_dir_probe(struct platform_device *pdev)\n{\n\treturn devm_snd_soc_register_component(&pdev->dev,\n\t\t\t&soc_codec_spdif_dir,\n\t\t\t&dir_stub_dai, 1);\n}\n\n#ifdef CONFIG_OF\nstatic const struct of_device_id spdif_dir_dt_ids[] = {\n\t{ .compatible = \"linux,spdif-dir\", },\n\t{ }\n};\nMODULE_DEVICE_TABLE(of, spdif_dir_dt_ids);\n#endif\n\nstatic struct platform_driver spdif_dir_driver = {\n\t.probe\t\t= spdif_dir_probe,\n\t.driver\t\t= {\n\t\t.name\t= \"spdif-dir\",\n\t\t.of_match_table = of_match_ptr(spdif_dir_dt_ids),\n\t},\n};\n\nmodule_platform_driver(spdif_dir_driver);\n\nMODULE_DESCRIPTION(\"ASoC SPDIF DIR driver\");\nMODULE_AUTHOR(\"Vipin Kumar <vipin.kumar@st.com>\");\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}