{
  "module_name": "wm5102.c",
  "hash_id": "1d3eda569df89a69825110038cb63a201b60870be81ccc0443135352adb69687",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/codecs/wm5102.c",
  "human_readable_source": "\n \n\n#include <linux/module.h>\n#include <linux/moduleparam.h>\n#include <linux/init.h>\n#include <linux/delay.h>\n#include <linux/pm.h>\n#include <linux/pm_runtime.h>\n#include <linux/regmap.h>\n#include <linux/slab.h>\n#include <sound/core.h>\n#include <sound/pcm.h>\n#include <sound/pcm_params.h>\n#include <sound/soc.h>\n#include <sound/jack.h>\n#include <sound/initval.h>\n#include <sound/tlv.h>\n\n#include <linux/mfd/arizona/core.h>\n#include <linux/mfd/arizona/registers.h>\n#include <asm/unaligned.h>\n\n#include \"arizona.h\"\n#include \"wm5102.h\"\n#include \"wm_adsp.h\"\n\n#define DRV_NAME \"wm5102-codec\"\n\nstruct wm5102_priv {\n\tstruct arizona_priv core;\n\tstruct arizona_fll fll[2];\n};\n\nstatic DECLARE_TLV_DB_SCALE(ana_tlv, 0, 100, 0);\nstatic DECLARE_TLV_DB_SCALE(eq_tlv, -1200, 100, 0);\nstatic DECLARE_TLV_DB_SCALE(digital_tlv, -6400, 50, 0);\nstatic DECLARE_TLV_DB_SCALE(noise_tlv, -13200, 600, 0);\nstatic DECLARE_TLV_DB_SCALE(ng_tlv, -10200, 600, 0);\n\nstatic const struct cs_dsp_region wm5102_dsp1_regions[] = {\n\t{ .type = WMFW_ADSP2_PM, .base = 0x100000 },\n\t{ .type = WMFW_ADSP2_ZM, .base = 0x180000 },\n\t{ .type = WMFW_ADSP2_XM, .base = 0x190000 },\n\t{ .type = WMFW_ADSP2_YM, .base = 0x1a8000 },\n};\n\nstatic const struct reg_default wm5102_sysclk_reva_patch[] = {\n\t{ 0x3000, 0x2225 },\n\t{ 0x3001, 0x3a03 },\n\t{ 0x3002, 0x0225 },\n\t{ 0x3003, 0x0801 },\n\t{ 0x3004, 0x6249 },\n\t{ 0x3005, 0x0c04 },\n\t{ 0x3006, 0x0225 },\n\t{ 0x3007, 0x5901 },\n\t{ 0x3008, 0xe249 },\n\t{ 0x3009, 0x030d },\n\t{ 0x300a, 0x0249 },\n\t{ 0x300b, 0x2c01 },\n\t{ 0x300c, 0xe249 },\n\t{ 0x300d, 0x4342 },\n\t{ 0x300e, 0xe249 },\n\t{ 0x300f, 0x73c0 },\n\t{ 0x3010, 0x4249 },\n\t{ 0x3011, 0x0c00 },\n\t{ 0x3012, 0x0225 },\n\t{ 0x3013, 0x1f01 },\n\t{ 0x3014, 0x0225 },\n\t{ 0x3015, 0x1e01 },\n\t{ 0x3016, 0x0225 },\n\t{ 0x3017, 0xfa00 },\n\t{ 0x3018, 0x0000 },\n\t{ 0x3019, 0xf000 },\n\t{ 0x301a, 0x0000 },\n\t{ 0x301b, 0xf000 },\n\t{ 0x301c, 0x0000 },\n\t{ 0x301d, 0xf000 },\n\t{ 0x301e, 0x0000 },\n\t{ 0x301f, 0xf000 },\n\t{ 0x3020, 0x0000 },\n\t{ 0x3021, 0xf000 },\n\t{ 0x3022, 0x0000 },\n\t{ 0x3023, 0xf000 },\n\t{ 0x3024, 0x0000 },\n\t{ 0x3025, 0xf000 },\n\t{ 0x3026, 0x0000 },\n\t{ 0x3027, 0xf000 },\n\t{ 0x3028, 0x0000 },\n\t{ 0x3029, 0xf000 },\n\t{ 0x302a, 0x0000 },\n\t{ 0x302b, 0xf000 },\n\t{ 0x302c, 0x0000 },\n\t{ 0x302d, 0xf000 },\n\t{ 0x302e, 0x0000 },\n\t{ 0x302f, 0xf000 },\n\t{ 0x3030, 0x0225 },\n\t{ 0x3031, 0x1a01 },\n\t{ 0x3032, 0x0225 },\n\t{ 0x3033, 0x1e00 },\n\t{ 0x3034, 0x0225 },\n\t{ 0x3035, 0x1f00 },\n\t{ 0x3036, 0x6225 },\n\t{ 0x3037, 0xf800 },\n\t{ 0x3038, 0x0000 },\n\t{ 0x3039, 0xf000 },\n\t{ 0x303a, 0x0000 },\n\t{ 0x303b, 0xf000 },\n\t{ 0x303c, 0x0000 },\n\t{ 0x303d, 0xf000 },\n\t{ 0x303e, 0x0000 },\n\t{ 0x303f, 0xf000 },\n\t{ 0x3040, 0x2226 },\n\t{ 0x3041, 0x3a03 },\n\t{ 0x3042, 0x0226 },\n\t{ 0x3043, 0x0801 },\n\t{ 0x3044, 0x6249 },\n\t{ 0x3045, 0x0c06 },\n\t{ 0x3046, 0x0226 },\n\t{ 0x3047, 0x5901 },\n\t{ 0x3048, 0xe249 },\n\t{ 0x3049, 0x030d },\n\t{ 0x304a, 0x0249 },\n\t{ 0x304b, 0x2c01 },\n\t{ 0x304c, 0xe249 },\n\t{ 0x304d, 0x4342 },\n\t{ 0x304e, 0xe249 },\n\t{ 0x304f, 0x73c0 },\n\t{ 0x3050, 0x4249 },\n\t{ 0x3051, 0x0c00 },\n\t{ 0x3052, 0x0226 },\n\t{ 0x3053, 0x1f01 },\n\t{ 0x3054, 0x0226 },\n\t{ 0x3055, 0x1e01 },\n\t{ 0x3056, 0x0226 },\n\t{ 0x3057, 0xfa00 },\n\t{ 0x3058, 0x0000 },\n\t{ 0x3059, 0xf000 },\n\t{ 0x305a, 0x0000 },\n\t{ 0x305b, 0xf000 },\n\t{ 0x305c, 0x0000 },\n\t{ 0x305d, 0xf000 },\n\t{ 0x305e, 0x0000 },\n\t{ 0x305f, 0xf000 },\n\t{ 0x3060, 0x0000 },\n\t{ 0x3061, 0xf000 },\n\t{ 0x3062, 0x0000 },\n\t{ 0x3063, 0xf000 },\n\t{ 0x3064, 0x0000 },\n\t{ 0x3065, 0xf000 },\n\t{ 0x3066, 0x0000 },\n\t{ 0x3067, 0xf000 },\n\t{ 0x3068, 0x0000 },\n\t{ 0x3069, 0xf000 },\n\t{ 0x306a, 0x0000 },\n\t{ 0x306b, 0xf000 },\n\t{ 0x306c, 0x0000 },\n\t{ 0x306d, 0xf000 },\n\t{ 0x306e, 0x0000 },\n\t{ 0x306f, 0xf000 },\n\t{ 0x3070, 0x0226 },\n\t{ 0x3071, 0x1a01 },\n\t{ 0x3072, 0x0226 },\n\t{ 0x3073, 0x1e00 },\n\t{ 0x3074, 0x0226 },\n\t{ 0x3075, 0x1f00 },\n\t{ 0x3076, 0x6226 },\n\t{ 0x3077, 0xf800 },\n\t{ 0x3078, 0x0000 },\n\t{ 0x3079, 0xf000 },\n\t{ 0x307a, 0x0000 },\n\t{ 0x307b, 0xf000 },\n\t{ 0x307c, 0x0000 },\n\t{ 0x307d, 0xf000 },\n\t{ 0x307e, 0x0000 },\n\t{ 0x307f, 0xf000 },\n\t{ 0x3080, 0x2227 },\n\t{ 0x3081, 0x3a03 },\n\t{ 0x3082, 0x0227 },\n\t{ 0x3083, 0x0801 },\n\t{ 0x3084, 0x6255 },\n\t{ 0x3085, 0x0c04 },\n\t{ 0x3086, 0x0227 },\n\t{ 0x3087, 0x5901 },\n\t{ 0x3088, 0xe255 },\n\t{ 0x3089, 0x030d },\n\t{ 0x308a, 0x0255 },\n\t{ 0x308b, 0x2c01 },\n\t{ 0x308c, 0xe255 },\n\t{ 0x308d, 0x4342 },\n\t{ 0x308e, 0xe255 },\n\t{ 0x308f, 0x73c0 },\n\t{ 0x3090, 0x4255 },\n\t{ 0x3091, 0x0c00 },\n\t{ 0x3092, 0x0227 },\n\t{ 0x3093, 0x1f01 },\n\t{ 0x3094, 0x0227 },\n\t{ 0x3095, 0x1e01 },\n\t{ 0x3096, 0x0227 },\n\t{ 0x3097, 0xfa00 },\n\t{ 0x3098, 0x0000 },\n\t{ 0x3099, 0xf000 },\n\t{ 0x309a, 0x0000 },\n\t{ 0x309b, 0xf000 },\n\t{ 0x309c, 0x0000 },\n\t{ 0x309d, 0xf000 },\n\t{ 0x309e, 0x0000 },\n\t{ 0x309f, 0xf000 },\n\t{ 0x30a0, 0x0000 },\n\t{ 0x30a1, 0xf000 },\n\t{ 0x30a2, 0x0000 },\n\t{ 0x30a3, 0xf000 },\n\t{ 0x30a4, 0x0000 },\n\t{ 0x30a5, 0xf000 },\n\t{ 0x30a6, 0x0000 },\n\t{ 0x30a7, 0xf000 },\n\t{ 0x30a8, 0x0000 },\n\t{ 0x30a9, 0xf000 },\n\t{ 0x30aa, 0x0000 },\n\t{ 0x30ab, 0xf000 },\n\t{ 0x30ac, 0x0000 },\n\t{ 0x30ad, 0xf000 },\n\t{ 0x30ae, 0x0000 },\n\t{ 0x30af, 0xf000 },\n\t{ 0x30b0, 0x0227 },\n\t{ 0x30b1, 0x1a01 },\n\t{ 0x30b2, 0x0227 },\n\t{ 0x30b3, 0x1e00 },\n\t{ 0x30b4, 0x0227 },\n\t{ 0x30b5, 0x1f00 },\n\t{ 0x30b6, 0x6227 },\n\t{ 0x30b7, 0xf800 },\n\t{ 0x30b8, 0x0000 },\n\t{ 0x30b9, 0xf000 },\n\t{ 0x30ba, 0x0000 },\n\t{ 0x30bb, 0xf000 },\n\t{ 0x30bc, 0x0000 },\n\t{ 0x30bd, 0xf000 },\n\t{ 0x30be, 0x0000 },\n\t{ 0x30bf, 0xf000 },\n\t{ 0x30c0, 0x2228 },\n\t{ 0x30c1, 0x3a03 },\n\t{ 0x30c2, 0x0228 },\n\t{ 0x30c3, 0x0801 },\n\t{ 0x30c4, 0x6255 },\n\t{ 0x30c5, 0x0c06 },\n\t{ 0x30c6, 0x0228 },\n\t{ 0x30c7, 0x5901 },\n\t{ 0x30c8, 0xe255 },\n\t{ 0x30c9, 0x030d },\n\t{ 0x30ca, 0x0255 },\n\t{ 0x30cb, 0x2c01 },\n\t{ 0x30cc, 0xe255 },\n\t{ 0x30cd, 0x4342 },\n\t{ 0x30ce, 0xe255 },\n\t{ 0x30cf, 0x73c0 },\n\t{ 0x30d0, 0x4255 },\n\t{ 0x30d1, 0x0c00 },\n\t{ 0x30d2, 0x0228 },\n\t{ 0x30d3, 0x1f01 },\n\t{ 0x30d4, 0x0228 },\n\t{ 0x30d5, 0x1e01 },\n\t{ 0x30d6, 0x0228 },\n\t{ 0x30d7, 0xfa00 },\n\t{ 0x30d8, 0x0000 },\n\t{ 0x30d9, 0xf000 },\n\t{ 0x30da, 0x0000 },\n\t{ 0x30db, 0xf000 },\n\t{ 0x30dc, 0x0000 },\n\t{ 0x30dd, 0xf000 },\n\t{ 0x30de, 0x0000 },\n\t{ 0x30df, 0xf000 },\n\t{ 0x30e0, 0x0000 },\n\t{ 0x30e1, 0xf000 },\n\t{ 0x30e2, 0x0000 },\n\t{ 0x30e3, 0xf000 },\n\t{ 0x30e4, 0x0000 },\n\t{ 0x30e5, 0xf000 },\n\t{ 0x30e6, 0x0000 },\n\t{ 0x30e7, 0xf000 },\n\t{ 0x30e8, 0x0000 },\n\t{ 0x30e9, 0xf000 },\n\t{ 0x30ea, 0x0000 },\n\t{ 0x30eb, 0xf000 },\n\t{ 0x30ec, 0x0000 },\n\t{ 0x30ed, 0xf000 },\n\t{ 0x30ee, 0x0000 },\n\t{ 0x30ef, 0xf000 },\n\t{ 0x30f0, 0x0228 },\n\t{ 0x30f1, 0x1a01 },\n\t{ 0x30f2, 0x0228 },\n\t{ 0x30f3, 0x1e00 },\n\t{ 0x30f4, 0x0228 },\n\t{ 0x30f5, 0x1f00 },\n\t{ 0x30f6, 0x6228 },\n\t{ 0x30f7, 0xf800 },\n\t{ 0x30f8, 0x0000 },\n\t{ 0x30f9, 0xf000 },\n\t{ 0x30fa, 0x0000 },\n\t{ 0x30fb, 0xf000 },\n\t{ 0x30fc, 0x0000 },\n\t{ 0x30fd, 0xf000 },\n\t{ 0x30fe, 0x0000 },\n\t{ 0x30ff, 0xf000 },\n\t{ 0x3100, 0x222b },\n\t{ 0x3101, 0x3a03 },\n\t{ 0x3102, 0x222b },\n\t{ 0x3103, 0x5803 },\n\t{ 0x3104, 0xe26f },\n\t{ 0x3105, 0x030d },\n\t{ 0x3106, 0x626f },\n\t{ 0x3107, 0x2c01 },\n\t{ 0x3108, 0xe26f },\n\t{ 0x3109, 0x4342 },\n\t{ 0x310a, 0xe26f },\n\t{ 0x310b, 0x73c0 },\n\t{ 0x310c, 0x026f },\n\t{ 0x310d, 0x0c00 },\n\t{ 0x310e, 0x022b },\n\t{ 0x310f, 0x1f01 },\n\t{ 0x3110, 0x022b },\n\t{ 0x3111, 0x1e01 },\n\t{ 0x3112, 0x022b },\n\t{ 0x3113, 0xfa00 },\n\t{ 0x3114, 0x0000 },\n\t{ 0x3115, 0xf000 },\n\t{ 0x3116, 0x0000 },\n\t{ 0x3117, 0xf000 },\n\t{ 0x3118, 0x0000 },\n\t{ 0x3119, 0xf000 },\n\t{ 0x311a, 0x0000 },\n\t{ 0x311b, 0xf000 },\n\t{ 0x311c, 0x0000 },\n\t{ 0x311d, 0xf000 },\n\t{ 0x311e, 0x0000 },\n\t{ 0x311f, 0xf000 },\n\t{ 0x3120, 0x022b },\n\t{ 0x3121, 0x0a01 },\n\t{ 0x3122, 0x022b },\n\t{ 0x3123, 0x1e00 },\n\t{ 0x3124, 0x022b },\n\t{ 0x3125, 0x1f00 },\n\t{ 0x3126, 0x622b },\n\t{ 0x3127, 0xf800 },\n\t{ 0x3128, 0x0000 },\n\t{ 0x3129, 0xf000 },\n\t{ 0x312a, 0x0000 },\n\t{ 0x312b, 0xf000 },\n\t{ 0x312c, 0x0000 },\n\t{ 0x312d, 0xf000 },\n\t{ 0x312e, 0x0000 },\n\t{ 0x312f, 0xf000 },\n\t{ 0x3130, 0x0000 },\n\t{ 0x3131, 0xf000 },\n\t{ 0x3132, 0x0000 },\n\t{ 0x3133, 0xf000 },\n\t{ 0x3134, 0x0000 },\n\t{ 0x3135, 0xf000 },\n\t{ 0x3136, 0x0000 },\n\t{ 0x3137, 0xf000 },\n\t{ 0x3138, 0x0000 },\n\t{ 0x3139, 0xf000 },\n\t{ 0x313a, 0x0000 },\n\t{ 0x313b, 0xf000 },\n\t{ 0x313c, 0x0000 },\n\t{ 0x313d, 0xf000 },\n\t{ 0x313e, 0x0000 },\n\t{ 0x313f, 0xf000 },\n\t{ 0x3140, 0x0000 },\n\t{ 0x3141, 0xf000 },\n\t{ 0x3142, 0x0000 },\n\t{ 0x3143, 0xf000 },\n\t{ 0x3144, 0x0000 },\n\t{ 0x3145, 0xf000 },\n\t{ 0x3146, 0x0000 },\n\t{ 0x3147, 0xf000 },\n\t{ 0x3148, 0x0000 },\n\t{ 0x3149, 0xf000 },\n\t{ 0x314a, 0x0000 },\n\t{ 0x314b, 0xf000 },\n\t{ 0x314c, 0x0000 },\n\t{ 0x314d, 0xf000 },\n\t{ 0x314e, 0x0000 },\n\t{ 0x314f, 0xf000 },\n\t{ 0x3150, 0x0000 },\n\t{ 0x3151, 0xf000 },\n\t{ 0x3152, 0x0000 },\n\t{ 0x3153, 0xf000 },\n\t{ 0x3154, 0x0000 },\n\t{ 0x3155, 0xf000 },\n\t{ 0x3156, 0x0000 },\n\t{ 0x3157, 0xf000 },\n\t{ 0x3158, 0x0000 },\n\t{ 0x3159, 0xf000 },\n\t{ 0x315a, 0x0000 },\n\t{ 0x315b, 0xf000 },\n\t{ 0x315c, 0x0000 },\n\t{ 0x315d, 0xf000 },\n\t{ 0x315e, 0x0000 },\n\t{ 0x315f, 0xf000 },\n\t{ 0x3160, 0x0000 },\n\t{ 0x3161, 0xf000 },\n\t{ 0x3162, 0x0000 },\n\t{ 0x3163, 0xf000 },\n\t{ 0x3164, 0x0000 },\n\t{ 0x3165, 0xf000 },\n\t{ 0x3166, 0x0000 },\n\t{ 0x3167, 0xf000 },\n\t{ 0x3168, 0x0000 },\n\t{ 0x3169, 0xf000 },\n\t{ 0x316a, 0x0000 },\n\t{ 0x316b, 0xf000 },\n\t{ 0x316c, 0x0000 },\n\t{ 0x316d, 0xf000 },\n\t{ 0x316e, 0x0000 },\n\t{ 0x316f, 0xf000 },\n\t{ 0x3170, 0x0000 },\n\t{ 0x3171, 0xf000 },\n\t{ 0x3172, 0x0000 },\n\t{ 0x3173, 0xf000 },\n\t{ 0x3174, 0x0000 },\n\t{ 0x3175, 0xf000 },\n\t{ 0x3176, 0x0000 },\n\t{ 0x3177, 0xf000 },\n\t{ 0x3178, 0x0000 },\n\t{ 0x3179, 0xf000 },\n\t{ 0x317a, 0x0000 },\n\t{ 0x317b, 0xf000 },\n\t{ 0x317c, 0x0000 },\n\t{ 0x317d, 0xf000 },\n\t{ 0x317e, 0x0000 },\n\t{ 0x317f, 0xf000 },\n\t{ 0x3180, 0x2001 },\n\t{ 0x3181, 0xf101 },\n\t{ 0x3182, 0x0000 },\n\t{ 0x3183, 0xf000 },\n\t{ 0x3184, 0x0000 },\n\t{ 0x3185, 0xf000 },\n\t{ 0x3186, 0x0000 },\n\t{ 0x3187, 0xf000 },\n\t{ 0x3188, 0x0000 },\n\t{ 0x3189, 0xf000 },\n\t{ 0x318a, 0x0000 },\n\t{ 0x318b, 0xf000 },\n\t{ 0x318c, 0x0000 },\n\t{ 0x318d, 0xf000 },\n\t{ 0x318e, 0x0000 },\n\t{ 0x318f, 0xf000 },\n\t{ 0x3190, 0x0000 },\n\t{ 0x3191, 0xf000 },\n\t{ 0x3192, 0x0000 },\n\t{ 0x3193, 0xf000 },\n\t{ 0x3194, 0x0000 },\n\t{ 0x3195, 0xf000 },\n\t{ 0x3196, 0x0000 },\n\t{ 0x3197, 0xf000 },\n\t{ 0x3198, 0x0000 },\n\t{ 0x3199, 0xf000 },\n\t{ 0x319a, 0x0000 },\n\t{ 0x319b, 0xf000 },\n\t{ 0x319c, 0x0000 },\n\t{ 0x319d, 0xf000 },\n\t{ 0x319e, 0x0000 },\n\t{ 0x319f, 0xf000 },\n\t{ 0x31a0, 0x0000 },\n\t{ 0x31a1, 0xf000 },\n\t{ 0x31a2, 0x0000 },\n\t{ 0x31a3, 0xf000 },\n\t{ 0x31a4, 0x0000 },\n\t{ 0x31a5, 0xf000 },\n\t{ 0x31a6, 0x0000 },\n\t{ 0x31a7, 0xf000 },\n\t{ 0x31a8, 0x0000 },\n\t{ 0x31a9, 0xf000 },\n\t{ 0x31aa, 0x0000 },\n\t{ 0x31ab, 0xf000 },\n\t{ 0x31ac, 0x0000 },\n\t{ 0x31ad, 0xf000 },\n\t{ 0x31ae, 0x0000 },\n\t{ 0x31af, 0xf000 },\n\t{ 0x31b0, 0x0000 },\n\t{ 0x31b1, 0xf000 },\n\t{ 0x31b2, 0x0000 },\n\t{ 0x31b3, 0xf000 },\n\t{ 0x31b4, 0x0000 },\n\t{ 0x31b5, 0xf000 },\n\t{ 0x31b6, 0x0000 },\n\t{ 0x31b7, 0xf000 },\n\t{ 0x31b8, 0x0000 },\n\t{ 0x31b9, 0xf000 },\n\t{ 0x31ba, 0x0000 },\n\t{ 0x31bb, 0xf000 },\n\t{ 0x31bc, 0x0000 },\n\t{ 0x31bd, 0xf000 },\n\t{ 0x31be, 0x0000 },\n\t{ 0x31bf, 0xf000 },\n\t{ 0x31c0, 0x0000 },\n\t{ 0x31c1, 0xf000 },\n\t{ 0x31c2, 0x0000 },\n\t{ 0x31c3, 0xf000 },\n\t{ 0x31c4, 0x0000 },\n\t{ 0x31c5, 0xf000 },\n\t{ 0x31c6, 0x0000 },\n\t{ 0x31c7, 0xf000 },\n\t{ 0x31c8, 0x0000 },\n\t{ 0x31c9, 0xf000 },\n\t{ 0x31ca, 0x0000 },\n\t{ 0x31cb, 0xf000 },\n\t{ 0x31cc, 0x0000 },\n\t{ 0x31cd, 0xf000 },\n\t{ 0x31ce, 0x0000 },\n\t{ 0x31cf, 0xf000 },\n\t{ 0x31d0, 0x0000 },\n\t{ 0x31d1, 0xf000 },\n\t{ 0x31d2, 0x0000 },\n\t{ 0x31d3, 0xf000 },\n\t{ 0x31d4, 0x0000 },\n\t{ 0x31d5, 0xf000 },\n\t{ 0x31d6, 0x0000 },\n\t{ 0x31d7, 0xf000 },\n\t{ 0x31d8, 0x0000 },\n\t{ 0x31d9, 0xf000 },\n\t{ 0x31da, 0x0000 },\n\t{ 0x31db, 0xf000 },\n\t{ 0x31dc, 0x0000 },\n\t{ 0x31dd, 0xf000 },\n\t{ 0x31de, 0x0000 },\n\t{ 0x31df, 0xf000 },\n\t{ 0x31e0, 0x0000 },\n\t{ 0x31e1, 0xf000 },\n\t{ 0x31e2, 0x0000 },\n\t{ 0x31e3, 0xf000 },\n\t{ 0x31e4, 0x0000 },\n\t{ 0x31e5, 0xf000 },\n\t{ 0x31e6, 0x0000 },\n\t{ 0x31e7, 0xf000 },\n\t{ 0x31e8, 0x0000 },\n\t{ 0x31e9, 0xf000 },\n\t{ 0x31ea, 0x0000 },\n\t{ 0x31eb, 0xf000 },\n\t{ 0x31ec, 0x0000 },\n\t{ 0x31ed, 0xf000 },\n\t{ 0x31ee, 0x0000 },\n\t{ 0x31ef, 0xf000 },\n\t{ 0x31f0, 0x0000 },\n\t{ 0x31f1, 0xf000 },\n\t{ 0x31f2, 0x0000 },\n\t{ 0x31f3, 0xf000 },\n\t{ 0x31f4, 0x0000 },\n\t{ 0x31f5, 0xf000 },\n\t{ 0x31f6, 0x0000 },\n\t{ 0x31f7, 0xf000 },\n\t{ 0x31f8, 0x0000 },\n\t{ 0x31f9, 0xf000 },\n\t{ 0x31fa, 0x0000 },\n\t{ 0x31fb, 0xf000 },\n\t{ 0x31fc, 0x0000 },\n\t{ 0x31fd, 0xf000 },\n\t{ 0x31fe, 0x0000 },\n\t{ 0x31ff, 0xf000 },\n\t{ 0x024d, 0xff50 },\n\t{ 0x0252, 0xff50 },\n\t{ 0x0259, 0x0112 },\n\t{ 0x025e, 0x0112 },\n};\n\nstatic const struct reg_default wm5102_sysclk_revb_patch[] = {\n\t{ 0x3081, 0x08FE },\n\t{ 0x3083, 0x00ED },\n\t{ 0x30C1, 0x08FE },\n\t{ 0x30C3, 0x00ED },\n};\n\nstatic int wm5102_sysclk_ev(struct snd_soc_dapm_widget *w,\n\t\t\t    struct snd_kcontrol *kcontrol, int event)\n{\n\tstruct snd_soc_component *component = snd_soc_dapm_to_component(w->dapm);\n\tstruct arizona *arizona = dev_get_drvdata(component->dev->parent);\n\tstruct regmap *regmap = arizona->regmap;\n\tconst struct reg_default *patch = NULL;\n\tint i, patch_size;\n\n\tswitch (arizona->rev) {\n\tcase 0:\n\t\tpatch = wm5102_sysclk_reva_patch;\n\t\tpatch_size = ARRAY_SIZE(wm5102_sysclk_reva_patch);\n\t\tbreak;\n\tdefault:\n\t\tpatch = wm5102_sysclk_revb_patch;\n\t\tpatch_size = ARRAY_SIZE(wm5102_sysclk_revb_patch);\n\t\tbreak;\n\t}\n\n\tswitch (event) {\n\tcase SND_SOC_DAPM_POST_PMU:\n\t\tif (patch)\n\t\t\tfor (i = 0; i < patch_size; i++)\n\t\t\t\tregmap_write_async(regmap, patch[i].reg,\n\t\t\t\t\t\t   patch[i].def);\n\t\tbreak;\n\tcase SND_SOC_DAPM_PRE_PMD:\n\t\tbreak;\n\tcase SND_SOC_DAPM_PRE_PMU:\n\tcase SND_SOC_DAPM_POST_PMD:\n\t\treturn arizona_clk_ev(w, kcontrol, event);\n\tdefault:\n\t\treturn 0;\n\t}\n\n\treturn arizona_dvfs_sysclk_ev(w, kcontrol, event);\n}\n\nstatic int wm5102_adsp_power_ev(struct snd_soc_dapm_widget *w,\n\t\t\t\tstruct snd_kcontrol *kcontrol, int event)\n{\n\tstruct snd_soc_component *component = snd_soc_dapm_to_component(w->dapm);\n\tstruct arizona *arizona = dev_get_drvdata(component->dev->parent);\n\tunsigned int v = 0;\n\tint ret;\n\n\tswitch (event) {\n\tcase SND_SOC_DAPM_PRE_PMU:\n\t\tret = regmap_read(arizona->regmap, ARIZONA_SYSTEM_CLOCK_1, &v);\n\t\tif (ret != 0) {\n\t\t\tdev_err(component->dev,\n\t\t\t\t\"Failed to read SYSCLK state: %d\\n\", ret);\n\t\t\treturn -EIO;\n\t\t}\n\n\t\tv = (v & ARIZONA_SYSCLK_FREQ_MASK) >> ARIZONA_SYSCLK_FREQ_SHIFT;\n\n\t\tif (v >= 3) {\n\t\t\tret = arizona_dvfs_up(component, ARIZONA_DVFS_ADSP1_RQ);\n\t\t\tif (ret) {\n\t\t\t\tdev_err(component->dev,\n\t\t\t\t\t\"Failed to raise DVFS: %d\\n\", ret);\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\n\t\twm_adsp2_set_dspclk(w, v);\n\t\tbreak;\n\n\tcase SND_SOC_DAPM_POST_PMD:\n\t\tret = arizona_dvfs_down(component, ARIZONA_DVFS_ADSP1_RQ);\n\t\tif (ret)\n\t\t\tdev_warn(component->dev,\n\t\t\t\t \"Failed to lower DVFS: %d\\n\", ret);\n\t\tbreak;\n\n\tdefault:\n\t\tbreak;\n\t}\n\n\treturn wm_adsp_early_event(w, kcontrol, event);\n}\n\nstatic int wm5102_out_comp_coeff_get(struct snd_kcontrol *kcontrol,\n\t\t\t\t     struct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_soc_component *component = snd_soc_kcontrol_component(kcontrol);\n\tstruct arizona *arizona = dev_get_drvdata(component->dev->parent);\n\n\tmutex_lock(&arizona->dac_comp_lock);\n\tput_unaligned_be16(arizona->dac_comp_coeff,\n\t\t\t   ucontrol->value.bytes.data);\n\tmutex_unlock(&arizona->dac_comp_lock);\n\n\treturn 0;\n}\n\nstatic int wm5102_out_comp_coeff_put(struct snd_kcontrol *kcontrol,\n\t\t\t\t     struct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_soc_component *component = snd_soc_kcontrol_component(kcontrol);\n\tstruct arizona *arizona = dev_get_drvdata(component->dev->parent);\n\tuint16_t dac_comp_coeff = get_unaligned_be16(ucontrol->value.bytes.data);\n\tint ret = 0;\n\n\tmutex_lock(&arizona->dac_comp_lock);\n\tif (arizona->dac_comp_coeff != dac_comp_coeff) {\n\t\tarizona->dac_comp_coeff = dac_comp_coeff;\n\t\tret = 1;\n\t}\n\tmutex_unlock(&arizona->dac_comp_lock);\n\n\treturn ret;\n}\n\nstatic int wm5102_out_comp_switch_get(struct snd_kcontrol *kcontrol,\n\t\t\t\t      struct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_soc_component *component = snd_soc_kcontrol_component(kcontrol);\n\tstruct arizona *arizona = dev_get_drvdata(component->dev->parent);\n\n\tmutex_lock(&arizona->dac_comp_lock);\n\tucontrol->value.integer.value[0] = arizona->dac_comp_enabled;\n\tmutex_unlock(&arizona->dac_comp_lock);\n\n\treturn 0;\n}\n\nstatic int wm5102_out_comp_switch_put(struct snd_kcontrol *kcontrol,\n\t\t\t\t      struct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_soc_component *component = snd_soc_kcontrol_component(kcontrol);\n\tstruct arizona *arizona = dev_get_drvdata(component->dev->parent);\n\tstruct soc_mixer_control *mc = (struct soc_mixer_control *)kcontrol->private_value;\n\tint ret = 0;\n\n\tif (ucontrol->value.integer.value[0] > mc->max)\n\t\treturn -EINVAL;\n\n\tmutex_lock(&arizona->dac_comp_lock);\n\tif (arizona->dac_comp_enabled != ucontrol->value.integer.value[0]) {\n\t\tarizona->dac_comp_enabled = ucontrol->value.integer.value[0];\n\t\tret = 1;\n\t}\n\tmutex_unlock(&arizona->dac_comp_lock);\n\n\treturn ret;\n}\n\nstatic const char * const wm5102_osr_text[] = {\n\t\"Low power\", \"Normal\", \"High performance\",\n};\n\nstatic const unsigned int wm5102_osr_val[] = {\n\t0x0, 0x3, 0x5,\n};\n\nstatic const struct soc_enum wm5102_hpout_osr[] = {\n\tSOC_VALUE_ENUM_SINGLE(ARIZONA_OUTPUT_PATH_CONFIG_1L,\n\t\t\t      ARIZONA_OUT1_OSR_SHIFT, 0x7,\n\t\t\t      ARRAY_SIZE(wm5102_osr_text),\n\t\t\t      wm5102_osr_text, wm5102_osr_val),\n\tSOC_VALUE_ENUM_SINGLE(ARIZONA_OUTPUT_PATH_CONFIG_2L,\n\t\t\t      ARIZONA_OUT2_OSR_SHIFT, 0x7,\n\t\t\t      ARRAY_SIZE(wm5102_osr_text),\n\t\t\t      wm5102_osr_text, wm5102_osr_val),\n\tSOC_VALUE_ENUM_SINGLE(ARIZONA_OUTPUT_PATH_CONFIG_3L,\n\t\t\t      ARIZONA_OUT3_OSR_SHIFT, 0x7,\n\t\t\t      ARRAY_SIZE(wm5102_osr_text),\n\t\t\t      wm5102_osr_text, wm5102_osr_val),\n};\n\n#define WM5102_NG_SRC(name, base) \\\n\tSOC_SINGLE(name \" NG HPOUT1L Switch\",  base, 0, 1, 0), \\\n\tSOC_SINGLE(name \" NG HPOUT1R Switch\",  base, 1, 1, 0), \\\n\tSOC_SINGLE(name \" NG HPOUT2L Switch\",  base, 2, 1, 0), \\\n\tSOC_SINGLE(name \" NG HPOUT2R Switch\",  base, 3, 1, 0), \\\n\tSOC_SINGLE(name \" NG EPOUT Switch\",    base, 4, 1, 0), \\\n\tSOC_SINGLE(name \" NG SPKOUTL Switch\",  base, 6, 1, 0), \\\n\tSOC_SINGLE(name \" NG SPKOUTR Switch\",  base, 7, 1, 0), \\\n\tSOC_SINGLE(name \" NG SPKDAT1L Switch\", base, 8, 1, 0), \\\n\tSOC_SINGLE(name \" NG SPKDAT1R Switch\", base, 9, 1, 0)\n\nstatic const struct snd_kcontrol_new wm5102_snd_controls[] = {\nSOC_SINGLE(\"IN1 High Performance Switch\", ARIZONA_IN1L_CONTROL,\n\t   ARIZONA_IN1_OSR_SHIFT, 1, 0),\nSOC_SINGLE(\"IN2 High Performance Switch\", ARIZONA_IN2L_CONTROL,\n\t   ARIZONA_IN2_OSR_SHIFT, 1, 0),\nSOC_SINGLE(\"IN3 High Performance Switch\", ARIZONA_IN3L_CONTROL,\n\t   ARIZONA_IN3_OSR_SHIFT, 1, 0),\n\nSOC_SINGLE_RANGE_TLV(\"IN1L Volume\", ARIZONA_IN1L_CONTROL,\n\t\t     ARIZONA_IN1L_PGA_VOL_SHIFT, 0x40, 0x5f, 0, ana_tlv),\nSOC_SINGLE_RANGE_TLV(\"IN1R Volume\", ARIZONA_IN1R_CONTROL,\n\t\t     ARIZONA_IN1R_PGA_VOL_SHIFT, 0x40, 0x5f, 0, ana_tlv),\nSOC_SINGLE_RANGE_TLV(\"IN2L Volume\", ARIZONA_IN2L_CONTROL,\n\t\t     ARIZONA_IN2L_PGA_VOL_SHIFT, 0x40, 0x5f, 0, ana_tlv),\nSOC_SINGLE_RANGE_TLV(\"IN2R Volume\", ARIZONA_IN2R_CONTROL,\n\t\t     ARIZONA_IN2R_PGA_VOL_SHIFT, 0x40, 0x5f, 0, ana_tlv),\nSOC_SINGLE_RANGE_TLV(\"IN3L Volume\", ARIZONA_IN3L_CONTROL,\n\t\t     ARIZONA_IN3L_PGA_VOL_SHIFT, 0x40, 0x5f, 0, ana_tlv),\nSOC_SINGLE_RANGE_TLV(\"IN3R Volume\", ARIZONA_IN3R_CONTROL,\n\t\t     ARIZONA_IN3R_PGA_VOL_SHIFT, 0x40, 0x5f, 0, ana_tlv),\n\nSOC_SINGLE_TLV(\"IN1L Digital Volume\", ARIZONA_ADC_DIGITAL_VOLUME_1L,\n\t       ARIZONA_IN1L_DIG_VOL_SHIFT, 0xbf, 0, digital_tlv),\nSOC_SINGLE_TLV(\"IN1R Digital Volume\", ARIZONA_ADC_DIGITAL_VOLUME_1R,\n\t       ARIZONA_IN1R_DIG_VOL_SHIFT, 0xbf, 0, digital_tlv),\nSOC_SINGLE_TLV(\"IN2L Digital Volume\", ARIZONA_ADC_DIGITAL_VOLUME_2L,\n\t       ARIZONA_IN2L_DIG_VOL_SHIFT, 0xbf, 0, digital_tlv),\nSOC_SINGLE_TLV(\"IN2R Digital Volume\", ARIZONA_ADC_DIGITAL_VOLUME_2R,\n\t       ARIZONA_IN2R_DIG_VOL_SHIFT, 0xbf, 0, digital_tlv),\nSOC_SINGLE_TLV(\"IN3L Digital Volume\", ARIZONA_ADC_DIGITAL_VOLUME_3L,\n\t       ARIZONA_IN3L_DIG_VOL_SHIFT, 0xbf, 0, digital_tlv),\nSOC_SINGLE_TLV(\"IN3R Digital Volume\", ARIZONA_ADC_DIGITAL_VOLUME_3R,\n\t       ARIZONA_IN3R_DIG_VOL_SHIFT, 0xbf, 0, digital_tlv),\n\nSOC_ENUM(\"Input Ramp Up\", arizona_in_vi_ramp),\nSOC_ENUM(\"Input Ramp Down\", arizona_in_vd_ramp),\n\nARIZONA_MIXER_CONTROLS(\"EQ1\", ARIZONA_EQ1MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"EQ2\", ARIZONA_EQ2MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"EQ3\", ARIZONA_EQ3MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"EQ4\", ARIZONA_EQ4MIX_INPUT_1_SOURCE),\n\nARIZONA_EQ_CONTROL(\"EQ1 Coefficients\", ARIZONA_EQ1_2),\nSOC_SINGLE_TLV(\"EQ1 B1 Volume\", ARIZONA_EQ1_1, ARIZONA_EQ1_B1_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ1 B2 Volume\", ARIZONA_EQ1_1, ARIZONA_EQ1_B2_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ1 B3 Volume\", ARIZONA_EQ1_1, ARIZONA_EQ1_B3_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ1 B4 Volume\", ARIZONA_EQ1_2, ARIZONA_EQ1_B4_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ1 B5 Volume\", ARIZONA_EQ1_2, ARIZONA_EQ1_B5_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\n\nARIZONA_EQ_CONTROL(\"EQ2 Coefficients\", ARIZONA_EQ2_2),\nSOC_SINGLE_TLV(\"EQ2 B1 Volume\", ARIZONA_EQ2_1, ARIZONA_EQ2_B1_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ2 B2 Volume\", ARIZONA_EQ2_1, ARIZONA_EQ2_B2_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ2 B3 Volume\", ARIZONA_EQ2_1, ARIZONA_EQ2_B3_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ2 B4 Volume\", ARIZONA_EQ2_2, ARIZONA_EQ2_B4_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ2 B5 Volume\", ARIZONA_EQ2_2, ARIZONA_EQ2_B5_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\n\nARIZONA_EQ_CONTROL(\"EQ3 Coefficients\", ARIZONA_EQ3_2),\nSOC_SINGLE_TLV(\"EQ3 B1 Volume\", ARIZONA_EQ3_1, ARIZONA_EQ3_B1_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ3 B2 Volume\", ARIZONA_EQ3_1, ARIZONA_EQ3_B2_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ3 B3 Volume\", ARIZONA_EQ3_1, ARIZONA_EQ3_B3_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ3 B4 Volume\", ARIZONA_EQ3_2, ARIZONA_EQ3_B4_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ3 B5 Volume\", ARIZONA_EQ3_2, ARIZONA_EQ3_B5_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\n\nARIZONA_EQ_CONTROL(\"EQ4 Coefficients\", ARIZONA_EQ4_2),\nSOC_SINGLE_TLV(\"EQ4 B1 Volume\", ARIZONA_EQ4_1, ARIZONA_EQ4_B1_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ4 B2 Volume\", ARIZONA_EQ4_1, ARIZONA_EQ4_B2_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ4 B3 Volume\", ARIZONA_EQ4_1, ARIZONA_EQ4_B3_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ4 B4 Volume\", ARIZONA_EQ4_2, ARIZONA_EQ4_B4_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\nSOC_SINGLE_TLV(\"EQ4 B5 Volume\", ARIZONA_EQ4_2, ARIZONA_EQ4_B5_GAIN_SHIFT,\n\t       24, 0, eq_tlv),\n\nARIZONA_MIXER_CONTROLS(\"DRC1L\", ARIZONA_DRC1LMIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"DRC1R\", ARIZONA_DRC1RMIX_INPUT_1_SOURCE),\n\nSND_SOC_BYTES_MASK(\"DRC1\", ARIZONA_DRC1_CTRL1, 5,\n\t\t   ARIZONA_DRC1R_ENA | ARIZONA_DRC1L_ENA),\n\nARIZONA_MIXER_CONTROLS(\"LHPF1\", ARIZONA_HPLP1MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"LHPF2\", ARIZONA_HPLP2MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"LHPF3\", ARIZONA_HPLP3MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"LHPF4\", ARIZONA_HPLP4MIX_INPUT_1_SOURCE),\n\nARIZONA_LHPF_CONTROL(\"LHPF1 Coefficients\", ARIZONA_HPLPF1_2),\nARIZONA_LHPF_CONTROL(\"LHPF2 Coefficients\", ARIZONA_HPLPF2_2),\nARIZONA_LHPF_CONTROL(\"LHPF3 Coefficients\", ARIZONA_HPLPF3_2),\nARIZONA_LHPF_CONTROL(\"LHPF4 Coefficients\", ARIZONA_HPLPF4_2),\n\nWM_ADSP2_PRELOAD_SWITCH(\"DSP1\", 1),\n\nARIZONA_MIXER_CONTROLS(\"DSP1L\", ARIZONA_DSP1LMIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"DSP1R\", ARIZONA_DSP1RMIX_INPUT_1_SOURCE),\n\nSOC_ENUM(\"LHPF1 Mode\", arizona_lhpf1_mode),\nSOC_ENUM(\"LHPF2 Mode\", arizona_lhpf2_mode),\nSOC_ENUM(\"LHPF3 Mode\", arizona_lhpf3_mode),\nSOC_ENUM(\"LHPF4 Mode\", arizona_lhpf4_mode),\n\nSOC_ENUM(\"ISRC1 FSL\", arizona_isrc_fsl[0]),\nSOC_ENUM(\"ISRC2 FSL\", arizona_isrc_fsl[1]),\n\nARIZONA_MIXER_CONTROLS(\"Mic\", ARIZONA_MICMIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"Noise\", ARIZONA_NOISEMIX_INPUT_1_SOURCE),\n\nSOC_SINGLE_TLV(\"Noise Generator Volume\", ARIZONA_COMFORT_NOISE_GENERATOR,\n\t       ARIZONA_NOISE_GEN_GAIN_SHIFT, 0x16, 0, noise_tlv),\n\nARIZONA_MIXER_CONTROLS(\"HPOUT1L\", ARIZONA_OUT1LMIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"HPOUT1R\", ARIZONA_OUT1RMIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"HPOUT2L\", ARIZONA_OUT2LMIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"HPOUT2R\", ARIZONA_OUT2RMIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"EPOUT\", ARIZONA_OUT3LMIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"SPKOUTL\", ARIZONA_OUT4LMIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"SPKOUTR\", ARIZONA_OUT4RMIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"SPKDAT1L\", ARIZONA_OUT5LMIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"SPKDAT1R\", ARIZONA_OUT5RMIX_INPUT_1_SOURCE),\n\nSOC_SINGLE(\"Speaker High Performance Switch\", ARIZONA_OUTPUT_PATH_CONFIG_4L,\n\t   ARIZONA_OUT4_OSR_SHIFT, 1, 0),\nSOC_SINGLE(\"SPKDAT1 High Performance Switch\", ARIZONA_OUTPUT_PATH_CONFIG_5L,\n\t   ARIZONA_OUT5_OSR_SHIFT, 1, 0),\n\nSOC_DOUBLE_R(\"HPOUT1 Digital Switch\", ARIZONA_DAC_DIGITAL_VOLUME_1L,\n\t     ARIZONA_DAC_DIGITAL_VOLUME_1R, ARIZONA_OUT1L_MUTE_SHIFT, 1, 1),\nSOC_DOUBLE_R(\"HPOUT2 Digital Switch\", ARIZONA_DAC_DIGITAL_VOLUME_2L,\n\t     ARIZONA_DAC_DIGITAL_VOLUME_2R, ARIZONA_OUT2L_MUTE_SHIFT, 1, 1),\nSOC_SINGLE(\"EPOUT Digital Switch\", ARIZONA_DAC_DIGITAL_VOLUME_3L,\n\t   ARIZONA_OUT3L_MUTE_SHIFT, 1, 1),\nSOC_DOUBLE_R(\"Speaker Digital Switch\", ARIZONA_DAC_DIGITAL_VOLUME_4L,\n\t     ARIZONA_DAC_DIGITAL_VOLUME_4R, ARIZONA_OUT4L_MUTE_SHIFT, 1, 1),\nSOC_DOUBLE_R(\"SPKDAT1 Digital Switch\", ARIZONA_DAC_DIGITAL_VOLUME_5L,\n\t     ARIZONA_DAC_DIGITAL_VOLUME_5R, ARIZONA_OUT5L_MUTE_SHIFT, 1, 1),\n\nSOC_DOUBLE_R_TLV(\"HPOUT1 Digital Volume\", ARIZONA_DAC_DIGITAL_VOLUME_1L,\n\t\t ARIZONA_DAC_DIGITAL_VOLUME_1R, ARIZONA_OUT1L_VOL_SHIFT,\n\t\t 0xbf, 0, digital_tlv),\nSOC_DOUBLE_R_TLV(\"HPOUT2 Digital Volume\", ARIZONA_DAC_DIGITAL_VOLUME_2L,\n\t\t ARIZONA_DAC_DIGITAL_VOLUME_2R, ARIZONA_OUT2L_VOL_SHIFT,\n\t\t 0xbf, 0, digital_tlv),\nSOC_SINGLE_TLV(\"EPOUT Digital Volume\", ARIZONA_DAC_DIGITAL_VOLUME_3L,\n\t       ARIZONA_OUT3L_VOL_SHIFT, 0xbf, 0, digital_tlv),\nSOC_DOUBLE_R_TLV(\"Speaker Digital Volume\", ARIZONA_DAC_DIGITAL_VOLUME_4L,\n\t\t ARIZONA_DAC_DIGITAL_VOLUME_4R, ARIZONA_OUT4L_VOL_SHIFT,\n\t\t 0xbf, 0, digital_tlv),\nSOC_DOUBLE_R_TLV(\"SPKDAT1 Digital Volume\", ARIZONA_DAC_DIGITAL_VOLUME_5L,\n\t\t ARIZONA_DAC_DIGITAL_VOLUME_5R, ARIZONA_OUT5L_VOL_SHIFT,\n\t\t 0xbf, 0, digital_tlv),\n\nSOC_ENUM(\"HPOUT1 OSR\", wm5102_hpout_osr[0]),\nSOC_ENUM(\"HPOUT2 OSR\", wm5102_hpout_osr[1]),\nSOC_ENUM(\"EPOUT OSR\", wm5102_hpout_osr[2]),\n\nSOC_DOUBLE(\"HPOUT1 DRE Switch\", ARIZONA_DRE_ENABLE,\n\t   ARIZONA_DRE1L_ENA_SHIFT, ARIZONA_DRE1R_ENA_SHIFT, 1, 0),\nSOC_DOUBLE(\"HPOUT2 DRE Switch\", ARIZONA_DRE_ENABLE,\n\t   ARIZONA_DRE2L_ENA_SHIFT, ARIZONA_DRE2R_ENA_SHIFT, 1, 0),\nSOC_SINGLE(\"EPOUT DRE Switch\", ARIZONA_DRE_ENABLE,\n\t   ARIZONA_DRE3L_ENA_SHIFT, 1, 0),\n\nSOC_SINGLE(\"DRE Threshold\", ARIZONA_DRE_CONTROL_2,\n\t   ARIZONA_DRE_T_LOW_SHIFT, 63, 0),\n\nSOC_SINGLE(\"DRE Low Level ABS\", ARIZONA_DRE_CONTROL_3,\n\t   ARIZONA_DRE_LOW_LEVEL_ABS_SHIFT, 15, 0),\n\nSOC_ENUM(\"Output Ramp Up\", arizona_out_vi_ramp),\nSOC_ENUM(\"Output Ramp Down\", arizona_out_vd_ramp),\n\nSOC_DOUBLE(\"SPKDAT1 Switch\", ARIZONA_PDM_SPK1_CTRL_1, ARIZONA_SPK1L_MUTE_SHIFT,\n\t   ARIZONA_SPK1R_MUTE_SHIFT, 1, 1),\n\nSOC_SINGLE(\"Noise Gate Switch\", ARIZONA_NOISE_GATE_CONTROL,\n\t   ARIZONA_NGATE_ENA_SHIFT, 1, 0),\nSOC_SINGLE_TLV(\"Noise Gate Threshold Volume\", ARIZONA_NOISE_GATE_CONTROL,\n\t       ARIZONA_NGATE_THR_SHIFT, 7, 1, ng_tlv),\nSOC_ENUM(\"Noise Gate Hold\", arizona_ng_hold),\n\nSND_SOC_BYTES_EXT(\"Output Compensation Coefficient\", 2,\n\t\t  wm5102_out_comp_coeff_get, wm5102_out_comp_coeff_put),\n\nSOC_SINGLE_EXT(\"Output Compensation Switch\", 0, 0, 1, 0,\n\t       wm5102_out_comp_switch_get, wm5102_out_comp_switch_put),\n\nWM5102_NG_SRC(\"HPOUT1L\", ARIZONA_NOISE_GATE_SELECT_1L),\nWM5102_NG_SRC(\"HPOUT1R\", ARIZONA_NOISE_GATE_SELECT_1R),\nWM5102_NG_SRC(\"HPOUT2L\", ARIZONA_NOISE_GATE_SELECT_2L),\nWM5102_NG_SRC(\"HPOUT2R\", ARIZONA_NOISE_GATE_SELECT_2R),\nWM5102_NG_SRC(\"EPOUT\", ARIZONA_NOISE_GATE_SELECT_3L),\nWM5102_NG_SRC(\"SPKOUTL\", ARIZONA_NOISE_GATE_SELECT_4L),\nWM5102_NG_SRC(\"SPKOUTR\", ARIZONA_NOISE_GATE_SELECT_4R),\nWM5102_NG_SRC(\"SPKDAT1L\", ARIZONA_NOISE_GATE_SELECT_5L),\nWM5102_NG_SRC(\"SPKDAT1R\", ARIZONA_NOISE_GATE_SELECT_5R),\n\nARIZONA_MIXER_CONTROLS(\"AIF1TX1\", ARIZONA_AIF1TX1MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"AIF1TX2\", ARIZONA_AIF1TX2MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"AIF1TX3\", ARIZONA_AIF1TX3MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"AIF1TX4\", ARIZONA_AIF1TX4MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"AIF1TX5\", ARIZONA_AIF1TX5MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"AIF1TX6\", ARIZONA_AIF1TX6MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"AIF1TX7\", ARIZONA_AIF1TX7MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"AIF1TX8\", ARIZONA_AIF1TX8MIX_INPUT_1_SOURCE),\n\nARIZONA_MIXER_CONTROLS(\"AIF2TX1\", ARIZONA_AIF2TX1MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"AIF2TX2\", ARIZONA_AIF2TX2MIX_INPUT_1_SOURCE),\n\nARIZONA_MIXER_CONTROLS(\"AIF3TX1\", ARIZONA_AIF3TX1MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"AIF3TX2\", ARIZONA_AIF3TX2MIX_INPUT_1_SOURCE),\n\nARIZONA_MIXER_CONTROLS(\"SLIMTX1\", ARIZONA_SLIMTX1MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"SLIMTX2\", ARIZONA_SLIMTX2MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"SLIMTX3\", ARIZONA_SLIMTX3MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"SLIMTX4\", ARIZONA_SLIMTX4MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"SLIMTX5\", ARIZONA_SLIMTX5MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"SLIMTX6\", ARIZONA_SLIMTX6MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"SLIMTX7\", ARIZONA_SLIMTX7MIX_INPUT_1_SOURCE),\nARIZONA_MIXER_CONTROLS(\"SLIMTX8\", ARIZONA_SLIMTX8MIX_INPUT_1_SOURCE),\n\nWM_ADSP_FW_CONTROL(\"DSP1\", 0),\n};\n\nARIZONA_MIXER_ENUMS(EQ1, ARIZONA_EQ1MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(EQ2, ARIZONA_EQ2MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(EQ3, ARIZONA_EQ3MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(EQ4, ARIZONA_EQ4MIX_INPUT_1_SOURCE);\n\nARIZONA_MIXER_ENUMS(DRC1L, ARIZONA_DRC1LMIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(DRC1R, ARIZONA_DRC1RMIX_INPUT_1_SOURCE);\n\nARIZONA_MIXER_ENUMS(LHPF1, ARIZONA_HPLP1MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(LHPF2, ARIZONA_HPLP2MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(LHPF3, ARIZONA_HPLP3MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(LHPF4, ARIZONA_HPLP4MIX_INPUT_1_SOURCE);\n\nARIZONA_MIXER_ENUMS(Mic, ARIZONA_MICMIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(Noise, ARIZONA_NOISEMIX_INPUT_1_SOURCE);\n\nARIZONA_MIXER_ENUMS(PWM1, ARIZONA_PWM1MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(PWM2, ARIZONA_PWM2MIX_INPUT_1_SOURCE);\n\nARIZONA_MIXER_ENUMS(OUT1L, ARIZONA_OUT1LMIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(OUT1R, ARIZONA_OUT1RMIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(OUT2L, ARIZONA_OUT2LMIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(OUT2R, ARIZONA_OUT2RMIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(OUT3, ARIZONA_OUT3LMIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(SPKOUTL, ARIZONA_OUT4LMIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(SPKOUTR, ARIZONA_OUT4RMIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(SPKDAT1L, ARIZONA_OUT5LMIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(SPKDAT1R, ARIZONA_OUT5RMIX_INPUT_1_SOURCE);\n\nARIZONA_MIXER_ENUMS(AIF1TX1, ARIZONA_AIF1TX1MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(AIF1TX2, ARIZONA_AIF1TX2MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(AIF1TX3, ARIZONA_AIF1TX3MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(AIF1TX4, ARIZONA_AIF1TX4MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(AIF1TX5, ARIZONA_AIF1TX5MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(AIF1TX6, ARIZONA_AIF1TX6MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(AIF1TX7, ARIZONA_AIF1TX7MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(AIF1TX8, ARIZONA_AIF1TX8MIX_INPUT_1_SOURCE);\n\nARIZONA_MIXER_ENUMS(AIF2TX1, ARIZONA_AIF2TX1MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(AIF2TX2, ARIZONA_AIF2TX2MIX_INPUT_1_SOURCE);\n\nARIZONA_MIXER_ENUMS(AIF3TX1, ARIZONA_AIF3TX1MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(AIF3TX2, ARIZONA_AIF3TX2MIX_INPUT_1_SOURCE);\n\nARIZONA_MIXER_ENUMS(SLIMTX1, ARIZONA_SLIMTX1MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(SLIMTX2, ARIZONA_SLIMTX2MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(SLIMTX3, ARIZONA_SLIMTX3MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(SLIMTX4, ARIZONA_SLIMTX4MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(SLIMTX5, ARIZONA_SLIMTX5MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(SLIMTX6, ARIZONA_SLIMTX6MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(SLIMTX7, ARIZONA_SLIMTX7MIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(SLIMTX8, ARIZONA_SLIMTX8MIX_INPUT_1_SOURCE);\n\nARIZONA_MUX_ENUMS(ASRC1L, ARIZONA_ASRC1LMIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ASRC1R, ARIZONA_ASRC1RMIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ASRC2L, ARIZONA_ASRC2LMIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ASRC2R, ARIZONA_ASRC2RMIX_INPUT_1_SOURCE);\n\nARIZONA_MUX_ENUMS(ISRC1INT1, ARIZONA_ISRC1INT1MIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ISRC1INT2, ARIZONA_ISRC1INT2MIX_INPUT_1_SOURCE);\n\nARIZONA_MUX_ENUMS(ISRC1DEC1, ARIZONA_ISRC1DEC1MIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ISRC1DEC2, ARIZONA_ISRC1DEC2MIX_INPUT_1_SOURCE);\n\nARIZONA_MUX_ENUMS(ISRC2INT1, ARIZONA_ISRC2INT1MIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ISRC2INT2, ARIZONA_ISRC2INT2MIX_INPUT_1_SOURCE);\n\nARIZONA_MUX_ENUMS(ISRC2DEC1, ARIZONA_ISRC2DEC1MIX_INPUT_1_SOURCE);\nARIZONA_MUX_ENUMS(ISRC2DEC2, ARIZONA_ISRC2DEC2MIX_INPUT_1_SOURCE);\n\nARIZONA_MIXER_ENUMS(DSP1L, ARIZONA_DSP1LMIX_INPUT_1_SOURCE);\nARIZONA_MIXER_ENUMS(DSP1R, ARIZONA_DSP1RMIX_INPUT_1_SOURCE);\n\nARIZONA_DSP_AUX_ENUMS(DSP1, ARIZONA_DSP1AUX1MIX_INPUT_1_SOURCE);\n\nstatic const char * const wm5102_aec_loopback_texts[] = {\n\t\"HPOUT1L\", \"HPOUT1R\", \"HPOUT2L\", \"HPOUT2R\", \"EPOUT\",\n\t\"SPKOUTL\", \"SPKOUTR\", \"SPKDAT1L\", \"SPKDAT1R\",\n};\n\nstatic const unsigned int wm5102_aec_loopback_values[] = {\n\t0, 1, 2, 3, 4, 6, 7, 8, 9,\n};\n\nstatic const struct soc_enum wm5102_aec_loopback =\n\tSOC_VALUE_ENUM_SINGLE(ARIZONA_DAC_AEC_CONTROL_1,\n\t\t\t      ARIZONA_AEC_LOOPBACK_SRC_SHIFT, 0xf,\n\t\t\t      ARRAY_SIZE(wm5102_aec_loopback_texts),\n\t\t\t      wm5102_aec_loopback_texts,\n\t\t\t      wm5102_aec_loopback_values);\n\nstatic const struct snd_kcontrol_new wm5102_aec_loopback_mux =\n\tSOC_DAPM_ENUM(\"AEC Loopback\", wm5102_aec_loopback);\n\nstatic const struct snd_soc_dapm_widget wm5102_dapm_widgets[] = {\nSND_SOC_DAPM_SUPPLY(\"SYSCLK\", ARIZONA_SYSTEM_CLOCK_1, ARIZONA_SYSCLK_ENA_SHIFT,\n\t\t    0, wm5102_sysclk_ev,\n\t\t    SND_SOC_DAPM_POST_PMU | SND_SOC_DAPM_PRE_PMD |\n\t\t    SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMD),\nSND_SOC_DAPM_SUPPLY(\"ASYNCCLK\", ARIZONA_ASYNC_CLOCK_1,\n\t\t    ARIZONA_ASYNC_CLK_ENA_SHIFT, 0, arizona_clk_ev,\n\t\t    SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMD),\nSND_SOC_DAPM_SUPPLY(\"OPCLK\", ARIZONA_OUTPUT_SYSTEM_CLOCK,\n\t\t    ARIZONA_OPCLK_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_SUPPLY(\"ASYNCOPCLK\", ARIZONA_OUTPUT_ASYNC_CLOCK,\n\t\t    ARIZONA_OPCLK_ASYNC_ENA_SHIFT, 0, NULL, 0),\n\nSND_SOC_DAPM_REGULATOR_SUPPLY(\"DBVDD2\", 0, 0),\nSND_SOC_DAPM_REGULATOR_SUPPLY(\"DBVDD3\", 0, 0),\nSND_SOC_DAPM_REGULATOR_SUPPLY(\"CPVDD\", 20, 0),\nSND_SOC_DAPM_REGULATOR_SUPPLY(\"MICVDD\", 0, SND_SOC_DAPM_REGULATOR_BYPASS),\nSND_SOC_DAPM_REGULATOR_SUPPLY(\"SPKVDDL\", 0, 0),\nSND_SOC_DAPM_REGULATOR_SUPPLY(\"SPKVDDR\", 0, 0),\n\nSND_SOC_DAPM_SIGGEN(\"TONE\"),\nSND_SOC_DAPM_SIGGEN(\"NOISE\"),\nSND_SOC_DAPM_SIGGEN(\"HAPTICS\"),\n\nSND_SOC_DAPM_INPUT(\"IN1L\"),\nSND_SOC_DAPM_INPUT(\"IN1R\"),\nSND_SOC_DAPM_INPUT(\"IN2L\"),\nSND_SOC_DAPM_INPUT(\"IN2R\"),\nSND_SOC_DAPM_INPUT(\"IN3L\"),\nSND_SOC_DAPM_INPUT(\"IN3R\"),\n\nSND_SOC_DAPM_OUTPUT(\"DRC1 Signal Activity\"),\n\nSND_SOC_DAPM_PGA_E(\"IN1L PGA\", ARIZONA_INPUT_ENABLES, ARIZONA_IN1L_ENA_SHIFT,\n\t\t   0, NULL, 0, arizona_in_ev,\n\t\t   SND_SOC_DAPM_PRE_PMD | SND_SOC_DAPM_POST_PMD |\n\t\t   SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMU),\nSND_SOC_DAPM_PGA_E(\"IN1R PGA\", ARIZONA_INPUT_ENABLES, ARIZONA_IN1R_ENA_SHIFT,\n\t\t   0, NULL, 0, arizona_in_ev,\n\t\t   SND_SOC_DAPM_PRE_PMD | SND_SOC_DAPM_POST_PMD |\n\t\t   SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMU),\nSND_SOC_DAPM_PGA_E(\"IN2L PGA\", ARIZONA_INPUT_ENABLES, ARIZONA_IN2L_ENA_SHIFT,\n\t\t   0, NULL, 0, arizona_in_ev,\n\t\t   SND_SOC_DAPM_PRE_PMD | SND_SOC_DAPM_POST_PMD |\n\t\t   SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMU),\nSND_SOC_DAPM_PGA_E(\"IN2R PGA\", ARIZONA_INPUT_ENABLES, ARIZONA_IN2R_ENA_SHIFT,\n\t\t   0, NULL, 0, arizona_in_ev,\n\t\t   SND_SOC_DAPM_PRE_PMD | SND_SOC_DAPM_POST_PMD |\n\t\t   SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMU),\nSND_SOC_DAPM_PGA_E(\"IN3L PGA\", ARIZONA_INPUT_ENABLES, ARIZONA_IN3L_ENA_SHIFT,\n\t\t   0, NULL, 0, arizona_in_ev,\n\t\t   SND_SOC_DAPM_PRE_PMD | SND_SOC_DAPM_POST_PMD |\n\t\t   SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMU),\nSND_SOC_DAPM_PGA_E(\"IN3R PGA\", ARIZONA_INPUT_ENABLES, ARIZONA_IN3R_ENA_SHIFT,\n\t\t   0, NULL, 0, arizona_in_ev,\n\t\t   SND_SOC_DAPM_PRE_PMD | SND_SOC_DAPM_POST_PMD |\n\t\t   SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMU),\n\nSND_SOC_DAPM_SUPPLY(\"MICBIAS1\", ARIZONA_MIC_BIAS_CTRL_1,\n\t\t    ARIZONA_MICB1_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_SUPPLY(\"MICBIAS2\", ARIZONA_MIC_BIAS_CTRL_2,\n\t\t    ARIZONA_MICB2_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_SUPPLY(\"MICBIAS3\", ARIZONA_MIC_BIAS_CTRL_3,\n\t\t    ARIZONA_MICB3_ENA_SHIFT, 0, NULL, 0),\n\nSND_SOC_DAPM_PGA(\"Noise Generator\", ARIZONA_COMFORT_NOISE_GENERATOR,\n\t\t ARIZONA_NOISE_GEN_ENA_SHIFT, 0, NULL, 0),\n\nSND_SOC_DAPM_PGA(\"Tone Generator 1\", ARIZONA_TONE_GENERATOR_1,\n\t\t ARIZONA_TONE1_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"Tone Generator 2\", ARIZONA_TONE_GENERATOR_1,\n\t\t ARIZONA_TONE2_ENA_SHIFT, 0, NULL, 0),\n\nSND_SOC_DAPM_PGA(\"Mic Mute Mixer\", ARIZONA_MIC_NOISE_MIX_CONTROL_1,\n\t\t ARIZONA_MICMUTE_MIX_ENA_SHIFT, 0, NULL, 0),\n\nSND_SOC_DAPM_PGA(\"EQ1\", ARIZONA_EQ1_1, ARIZONA_EQ1_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"EQ2\", ARIZONA_EQ2_1, ARIZONA_EQ2_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"EQ3\", ARIZONA_EQ3_1, ARIZONA_EQ3_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"EQ4\", ARIZONA_EQ4_1, ARIZONA_EQ4_ENA_SHIFT, 0, NULL, 0),\n\nSND_SOC_DAPM_PGA(\"DRC1L\", ARIZONA_DRC1_CTRL1, ARIZONA_DRC1L_ENA_SHIFT, 0,\n\t\t NULL, 0),\nSND_SOC_DAPM_PGA(\"DRC1R\", ARIZONA_DRC1_CTRL1, ARIZONA_DRC1R_ENA_SHIFT, 0,\n\t\t NULL, 0),\n\nSND_SOC_DAPM_PGA(\"LHPF1\", ARIZONA_HPLPF1_1, ARIZONA_LHPF1_ENA_SHIFT, 0,\n\t\t NULL, 0),\nSND_SOC_DAPM_PGA(\"LHPF2\", ARIZONA_HPLPF2_1, ARIZONA_LHPF2_ENA_SHIFT, 0,\n\t\t NULL, 0),\nSND_SOC_DAPM_PGA(\"LHPF3\", ARIZONA_HPLPF3_1, ARIZONA_LHPF3_ENA_SHIFT, 0,\n\t\t NULL, 0),\nSND_SOC_DAPM_PGA(\"LHPF4\", ARIZONA_HPLPF4_1, ARIZONA_LHPF4_ENA_SHIFT, 0,\n\t\t NULL, 0),\n\nSND_SOC_DAPM_PGA(\"PWM1 Driver\", ARIZONA_PWM_DRIVE_1, ARIZONA_PWM1_ENA_SHIFT,\n\t\t 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"PWM2 Driver\", ARIZONA_PWM_DRIVE_1, ARIZONA_PWM2_ENA_SHIFT,\n\t\t 0, NULL, 0),\n\nSND_SOC_DAPM_PGA(\"ASRC1L\", ARIZONA_ASRC_ENABLE, ARIZONA_ASRC1L_ENA_SHIFT, 0,\n\t\t NULL, 0),\nSND_SOC_DAPM_PGA(\"ASRC1R\", ARIZONA_ASRC_ENABLE, ARIZONA_ASRC1R_ENA_SHIFT, 0,\n\t\t NULL, 0),\nSND_SOC_DAPM_PGA(\"ASRC2L\", ARIZONA_ASRC_ENABLE, ARIZONA_ASRC2L_ENA_SHIFT, 0,\n\t\t NULL, 0),\nSND_SOC_DAPM_PGA(\"ASRC2R\", ARIZONA_ASRC_ENABLE, ARIZONA_ASRC2R_ENA_SHIFT, 0,\n\t\t NULL, 0),\n\nSND_SOC_DAPM_PGA(\"ISRC1INT1\", ARIZONA_ISRC_1_CTRL_3,\n\t\t ARIZONA_ISRC1_INT0_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"ISRC1INT2\", ARIZONA_ISRC_1_CTRL_3,\n\t\t ARIZONA_ISRC1_INT1_ENA_SHIFT, 0, NULL, 0),\n\nSND_SOC_DAPM_PGA(\"ISRC1DEC1\", ARIZONA_ISRC_1_CTRL_3,\n\t\t ARIZONA_ISRC1_DEC0_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"ISRC1DEC2\", ARIZONA_ISRC_1_CTRL_3,\n\t\t ARIZONA_ISRC1_DEC1_ENA_SHIFT, 0, NULL, 0),\n\nSND_SOC_DAPM_PGA(\"ISRC2INT1\", ARIZONA_ISRC_2_CTRL_3,\n\t\t ARIZONA_ISRC2_INT0_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"ISRC2INT2\", ARIZONA_ISRC_2_CTRL_3,\n\t\t ARIZONA_ISRC2_INT1_ENA_SHIFT, 0, NULL, 0),\n\nSND_SOC_DAPM_PGA(\"ISRC2DEC1\", ARIZONA_ISRC_2_CTRL_3,\n\t\t ARIZONA_ISRC2_DEC0_ENA_SHIFT, 0, NULL, 0),\nSND_SOC_DAPM_PGA(\"ISRC2DEC2\", ARIZONA_ISRC_2_CTRL_3,\n\t\t ARIZONA_ISRC2_DEC1_ENA_SHIFT, 0, NULL, 0),\n\nSND_SOC_DAPM_AIF_OUT(\"AIF1TX1\", NULL, 0,\n\t\t     ARIZONA_AIF1_TX_ENABLES, ARIZONA_AIF1TX1_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"AIF1TX2\", NULL, 1,\n\t\t     ARIZONA_AIF1_TX_ENABLES, ARIZONA_AIF1TX2_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"AIF1TX3\", NULL, 2,\n\t\t     ARIZONA_AIF1_TX_ENABLES, ARIZONA_AIF1TX3_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"AIF1TX4\", NULL, 3,\n\t\t     ARIZONA_AIF1_TX_ENABLES, ARIZONA_AIF1TX4_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"AIF1TX5\", NULL, 4,\n\t\t     ARIZONA_AIF1_TX_ENABLES, ARIZONA_AIF1TX5_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"AIF1TX6\", NULL, 5,\n\t\t     ARIZONA_AIF1_TX_ENABLES, ARIZONA_AIF1TX6_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"AIF1TX7\", NULL, 6,\n\t\t     ARIZONA_AIF1_TX_ENABLES, ARIZONA_AIF1TX7_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"AIF1TX8\", NULL, 7,\n\t\t     ARIZONA_AIF1_TX_ENABLES, ARIZONA_AIF1TX8_ENA_SHIFT, 0),\n\nSND_SOC_DAPM_AIF_IN(\"AIF1RX1\", NULL, 0,\n\t\t    ARIZONA_AIF1_RX_ENABLES, ARIZONA_AIF1RX1_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"AIF1RX2\", NULL, 1,\n\t\t    ARIZONA_AIF1_RX_ENABLES, ARIZONA_AIF1RX2_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"AIF1RX3\", NULL, 2,\n\t\t    ARIZONA_AIF1_RX_ENABLES, ARIZONA_AIF1RX3_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"AIF1RX4\", NULL, 3,\n\t\t    ARIZONA_AIF1_RX_ENABLES, ARIZONA_AIF1RX4_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"AIF1RX5\", NULL, 4,\n\t\t    ARIZONA_AIF1_RX_ENABLES, ARIZONA_AIF1RX5_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"AIF1RX6\", NULL, 5,\n\t\t    ARIZONA_AIF1_RX_ENABLES, ARIZONA_AIF1RX6_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"AIF1RX7\", NULL, 6,\n\t\t    ARIZONA_AIF1_RX_ENABLES, ARIZONA_AIF1RX7_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"AIF1RX8\", NULL, 7,\n\t\t    ARIZONA_AIF1_RX_ENABLES, ARIZONA_AIF1RX8_ENA_SHIFT, 0),\n\nSND_SOC_DAPM_AIF_OUT(\"AIF2TX1\", NULL, 0,\n\t\t     ARIZONA_AIF2_TX_ENABLES, ARIZONA_AIF2TX1_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"AIF2TX2\", NULL, 1,\n\t\t     ARIZONA_AIF2_TX_ENABLES, ARIZONA_AIF2TX2_ENA_SHIFT, 0),\n\nSND_SOC_DAPM_AIF_IN(\"AIF2RX1\", NULL, 0,\n\t\t    ARIZONA_AIF2_RX_ENABLES, ARIZONA_AIF2RX1_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"AIF2RX2\", NULL, 1,\n\t\t    ARIZONA_AIF2_RX_ENABLES, ARIZONA_AIF2RX2_ENA_SHIFT, 0),\n\nSND_SOC_DAPM_AIF_OUT(\"AIF3TX1\", NULL, 0,\n\t\t     ARIZONA_AIF3_TX_ENABLES, ARIZONA_AIF3TX1_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"AIF3TX2\", NULL, 1,\n\t\t     ARIZONA_AIF3_TX_ENABLES, ARIZONA_AIF3TX2_ENA_SHIFT, 0),\n\nSND_SOC_DAPM_AIF_IN(\"AIF3RX1\", NULL, 0,\n\t\t    ARIZONA_AIF3_RX_ENABLES, ARIZONA_AIF3RX1_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"AIF3RX2\", NULL, 1,\n\t\t    ARIZONA_AIF3_RX_ENABLES, ARIZONA_AIF3RX2_ENA_SHIFT, 0),\n\nSND_SOC_DAPM_AIF_OUT(\"SLIMTX1\", NULL, 0,\n\t\t     ARIZONA_SLIMBUS_TX_CHANNEL_ENABLE,\n\t\t     ARIZONA_SLIMTX1_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"SLIMTX2\", NULL, 1,\n\t\t     ARIZONA_SLIMBUS_TX_CHANNEL_ENABLE,\n\t\t     ARIZONA_SLIMTX2_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"SLIMTX3\", NULL, 2,\n\t\t     ARIZONA_SLIMBUS_TX_CHANNEL_ENABLE,\n\t\t     ARIZONA_SLIMTX3_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"SLIMTX4\", NULL, 3,\n\t\t     ARIZONA_SLIMBUS_TX_CHANNEL_ENABLE,\n\t\t     ARIZONA_SLIMTX4_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"SLIMTX5\", NULL, 4,\n\t\t     ARIZONA_SLIMBUS_TX_CHANNEL_ENABLE,\n\t\t     ARIZONA_SLIMTX5_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"SLIMTX6\", NULL, 5,\n\t\t     ARIZONA_SLIMBUS_TX_CHANNEL_ENABLE,\n\t\t     ARIZONA_SLIMTX6_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"SLIMTX7\", NULL, 6,\n\t\t     ARIZONA_SLIMBUS_TX_CHANNEL_ENABLE,\n\t\t     ARIZONA_SLIMTX7_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_OUT(\"SLIMTX8\", NULL, 7,\n\t\t     ARIZONA_SLIMBUS_TX_CHANNEL_ENABLE,\n\t\t     ARIZONA_SLIMTX8_ENA_SHIFT, 0),\n\nSND_SOC_DAPM_AIF_IN(\"SLIMRX1\", NULL, 0,\n\t\t    ARIZONA_SLIMBUS_RX_CHANNEL_ENABLE,\n\t\t    ARIZONA_SLIMRX1_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"SLIMRX2\", NULL, 1,\n\t\t    ARIZONA_SLIMBUS_RX_CHANNEL_ENABLE,\n\t\t    ARIZONA_SLIMRX2_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"SLIMRX3\", NULL, 2,\n\t\t    ARIZONA_SLIMBUS_RX_CHANNEL_ENABLE,\n\t\t    ARIZONA_SLIMRX3_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"SLIMRX4\", NULL, 3,\n\t\t    ARIZONA_SLIMBUS_RX_CHANNEL_ENABLE,\n\t\t    ARIZONA_SLIMRX4_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"SLIMRX5\", NULL, 4,\n\t\t    ARIZONA_SLIMBUS_RX_CHANNEL_ENABLE,\n\t\t    ARIZONA_SLIMRX5_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"SLIMRX6\", NULL, 5,\n\t\t    ARIZONA_SLIMBUS_RX_CHANNEL_ENABLE,\n\t\t    ARIZONA_SLIMRX6_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"SLIMRX7\", NULL, 6,\n\t\t    ARIZONA_SLIMBUS_RX_CHANNEL_ENABLE,\n\t\t    ARIZONA_SLIMRX7_ENA_SHIFT, 0),\nSND_SOC_DAPM_AIF_IN(\"SLIMRX8\", NULL, 7,\n\t\t    ARIZONA_SLIMBUS_RX_CHANNEL_ENABLE,\n\t\t    ARIZONA_SLIMRX8_ENA_SHIFT, 0),\n\nARIZONA_DSP_WIDGETS(DSP1, \"DSP1\"),\n\nSND_SOC_DAPM_MUX(\"AEC Loopback\", ARIZONA_DAC_AEC_CONTROL_1,\n\t\t ARIZONA_AEC_LOOPBACK_ENA_SHIFT, 0, &wm5102_aec_loopback_mux),\n\nSND_SOC_DAPM_PGA_E(\"OUT1L\", SND_SOC_NOPM,\n\t\t   ARIZONA_OUT1L_ENA_SHIFT, 0, NULL, 0, arizona_hp_ev,\n\t\t   SND_SOC_DAPM_PRE_PMD | SND_SOC_DAPM_POST_PMD |\n\t\t   SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMU),\nSND_SOC_DAPM_PGA_E(\"OUT1R\", SND_SOC_NOPM,\n\t\t   ARIZONA_OUT1R_ENA_SHIFT, 0, NULL, 0, arizona_hp_ev,\n\t\t   SND_SOC_DAPM_PRE_PMD | SND_SOC_DAPM_POST_PMD |\n\t\t   SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMU),\nSND_SOC_DAPM_PGA_E(\"OUT2L\", ARIZONA_OUTPUT_ENABLES_1,\n\t\t   ARIZONA_OUT2L_ENA_SHIFT, 0, NULL, 0, arizona_out_ev,\n\t\t   SND_SOC_DAPM_PRE_PMD | SND_SOC_DAPM_POST_PMD |\n\t\t   SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMU),\nSND_SOC_DAPM_PGA_E(\"OUT2R\", ARIZONA_OUTPUT_ENABLES_1,\n\t\t   ARIZONA_OUT2R_ENA_SHIFT, 0, NULL, 0, arizona_out_ev,\n\t\t   SND_SOC_DAPM_PRE_PMD | SND_SOC_DAPM_POST_PMD |\n\t\t   SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMU),\nSND_SOC_DAPM_PGA_E(\"OUT3L\", ARIZONA_OUTPUT_ENABLES_1,\n\t\t   ARIZONA_OUT3L_ENA_SHIFT, 0, NULL, 0, arizona_out_ev,\n\t\t   SND_SOC_DAPM_PRE_PMD | SND_SOC_DAPM_POST_PMD |\n\t\t   SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMU),\nSND_SOC_DAPM_PGA_E(\"OUT5L\", ARIZONA_OUTPUT_ENABLES_1,\n\t\t   ARIZONA_OUT5L_ENA_SHIFT, 0, NULL, 0, arizona_out_ev,\n\t\t   SND_SOC_DAPM_PRE_PMD | SND_SOC_DAPM_POST_PMU),\nSND_SOC_DAPM_PGA_E(\"OUT5R\", ARIZONA_OUTPUT_ENABLES_1,\n\t\t   ARIZONA_OUT5R_ENA_SHIFT, 0, NULL, 0, arizona_out_ev,\n\t\t   SND_SOC_DAPM_PRE_PMD | SND_SOC_DAPM_POST_PMU),\n\nARIZONA_MIXER_WIDGETS(EQ1, \"EQ1\"),\nARIZONA_MIXER_WIDGETS(EQ2, \"EQ2\"),\nARIZONA_MIXER_WIDGETS(EQ3, \"EQ3\"),\nARIZONA_MIXER_WIDGETS(EQ4, \"EQ4\"),\n\nARIZONA_MIXER_WIDGETS(DRC1L, \"DRC1L\"),\nARIZONA_MIXER_WIDGETS(DRC1R, \"DRC1R\"),\n\nARIZONA_MIXER_WIDGETS(LHPF1, \"LHPF1\"),\nARIZONA_MIXER_WIDGETS(LHPF2, \"LHPF2\"),\nARIZONA_MIXER_WIDGETS(LHPF3, \"LHPF3\"),\nARIZONA_MIXER_WIDGETS(LHPF4, \"LHPF4\"),\n\nARIZONA_MIXER_WIDGETS(Mic, \"Mic\"),\nARIZONA_MIXER_WIDGETS(Noise, \"Noise\"),\n\nARIZONA_MIXER_WIDGETS(PWM1, \"PWM1\"),\nARIZONA_MIXER_WIDGETS(PWM2, \"PWM2\"),\n\nARIZONA_MIXER_WIDGETS(OUT1L, \"HPOUT1L\"),\nARIZONA_MIXER_WIDGETS(OUT1R, \"HPOUT1R\"),\nARIZONA_MIXER_WIDGETS(OUT2L, \"HPOUT2L\"),\nARIZONA_MIXER_WIDGETS(OUT2R, \"HPOUT2R\"),\nARIZONA_MIXER_WIDGETS(OUT3, \"EPOUT\"),\nARIZONA_MIXER_WIDGETS(SPKOUTL, \"SPKOUTL\"),\nARIZONA_MIXER_WIDGETS(SPKOUTR, \"SPKOUTR\"),\nARIZONA_MIXER_WIDGETS(SPKDAT1L, \"SPKDAT1L\"),\nARIZONA_MIXER_WIDGETS(SPKDAT1R, \"SPKDAT1R\"),\n\nARIZONA_MIXER_WIDGETS(AIF1TX1, \"AIF1TX1\"),\nARIZONA_MIXER_WIDGETS(AIF1TX2, \"AIF1TX2\"),\nARIZONA_MIXER_WIDGETS(AIF1TX3, \"AIF1TX3\"),\nARIZONA_MIXER_WIDGETS(AIF1TX4, \"AIF1TX4\"),\nARIZONA_MIXER_WIDGETS(AIF1TX5, \"AIF1TX5\"),\nARIZONA_MIXER_WIDGETS(AIF1TX6, \"AIF1TX6\"),\nARIZONA_MIXER_WIDGETS(AIF1TX7, \"AIF1TX7\"),\nARIZONA_MIXER_WIDGETS(AIF1TX8, \"AIF1TX8\"),\n\nARIZONA_MIXER_WIDGETS(AIF2TX1, \"AIF2TX1\"),\nARIZONA_MIXER_WIDGETS(AIF2TX2, \"AIF2TX2\"),\n\nARIZONA_MIXER_WIDGETS(AIF3TX1, \"AIF3TX1\"),\nARIZONA_MIXER_WIDGETS(AIF3TX2, \"AIF3TX2\"),\n\nARIZONA_MIXER_WIDGETS(SLIMTX1, \"SLIMTX1\"),\nARIZONA_MIXER_WIDGETS(SLIMTX2, \"SLIMTX2\"),\nARIZONA_MIXER_WIDGETS(SLIMTX3, \"SLIMTX3\"),\nARIZONA_MIXER_WIDGETS(SLIMTX4, \"SLIMTX4\"),\nARIZONA_MIXER_WIDGETS(SLIMTX5, \"SLIMTX5\"),\nARIZONA_MIXER_WIDGETS(SLIMTX6, \"SLIMTX6\"),\nARIZONA_MIXER_WIDGETS(SLIMTX7, \"SLIMTX7\"),\nARIZONA_MIXER_WIDGETS(SLIMTX8, \"SLIMTX8\"),\n\nARIZONA_MUX_WIDGETS(ASRC1L, \"ASRC1L\"),\nARIZONA_MUX_WIDGETS(ASRC1R, \"ASRC1R\"),\nARIZONA_MUX_WIDGETS(ASRC2L, \"ASRC2L\"),\nARIZONA_MUX_WIDGETS(ASRC2R, \"ASRC2R\"),\n\nARIZONA_MUX_WIDGETS(ISRC1DEC1, \"ISRC1DEC1\"),\nARIZONA_MUX_WIDGETS(ISRC1DEC2, \"ISRC1DEC2\"),\n\nARIZONA_MUX_WIDGETS(ISRC1INT1, \"ISRC1INT1\"),\nARIZONA_MUX_WIDGETS(ISRC1INT2, \"ISRC1INT2\"),\n\nARIZONA_MUX_WIDGETS(ISRC2DEC1, \"ISRC2DEC1\"),\nARIZONA_MUX_WIDGETS(ISRC2DEC2, \"ISRC2DEC2\"),\n\nARIZONA_MUX_WIDGETS(ISRC2INT1, \"ISRC2INT1\"),\nARIZONA_MUX_WIDGETS(ISRC2INT2, \"ISRC2INT2\"),\n\nWM_ADSP2(\"DSP1\", 0, wm5102_adsp_power_ev),\n\nSND_SOC_DAPM_OUTPUT(\"HPOUT1L\"),\nSND_SOC_DAPM_OUTPUT(\"HPOUT1R\"),\nSND_SOC_DAPM_OUTPUT(\"HPOUT2L\"),\nSND_SOC_DAPM_OUTPUT(\"HPOUT2R\"),\nSND_SOC_DAPM_OUTPUT(\"EPOUTN\"),\nSND_SOC_DAPM_OUTPUT(\"EPOUTP\"),\nSND_SOC_DAPM_OUTPUT(\"SPKOUTLN\"),\nSND_SOC_DAPM_OUTPUT(\"SPKOUTLP\"),\nSND_SOC_DAPM_OUTPUT(\"SPKOUTRN\"),\nSND_SOC_DAPM_OUTPUT(\"SPKOUTRP\"),\nSND_SOC_DAPM_OUTPUT(\"SPKDAT1L\"),\nSND_SOC_DAPM_OUTPUT(\"SPKDAT1R\"),\n\nSND_SOC_DAPM_OUTPUT(\"MICSUPP\"),\n};\n\n#define ARIZONA_MIXER_INPUT_ROUTES(name)\t\\\n\t{ name, \"Noise Generator\", \"Noise Generator\" }, \\\n\t{ name, \"Tone Generator 1\", \"Tone Generator 1\" }, \\\n\t{ name, \"Tone Generator 2\", \"Tone Generator 2\" }, \\\n\t{ name, \"Haptics\", \"HAPTICS\" }, \\\n\t{ name, \"AEC\", \"AEC Loopback\" }, \\\n\t{ name, \"IN1L\", \"IN1L PGA\" }, \\\n\t{ name, \"IN1R\", \"IN1R PGA\" }, \\\n\t{ name, \"IN2L\", \"IN2L PGA\" }, \\\n\t{ name, \"IN2R\", \"IN2R PGA\" }, \\\n\t{ name, \"IN3L\", \"IN3L PGA\" }, \\\n\t{ name, \"IN3R\", \"IN3R PGA\" }, \\\n\t{ name, \"Mic Mute Mixer\", \"Mic Mute Mixer\" }, \\\n\t{ name, \"AIF1RX1\", \"AIF1RX1\" }, \\\n\t{ name, \"AIF1RX2\", \"AIF1RX2\" }, \\\n\t{ name, \"AIF1RX3\", \"AIF1RX3\" }, \\\n\t{ name, \"AIF1RX4\", \"AIF1RX4\" }, \\\n\t{ name, \"AIF1RX5\", \"AIF1RX5\" }, \\\n\t{ name, \"AIF1RX6\", \"AIF1RX6\" }, \\\n\t{ name, \"AIF1RX7\", \"AIF1RX7\" }, \\\n\t{ name, \"AIF1RX8\", \"AIF1RX8\" }, \\\n\t{ name, \"AIF2RX1\", \"AIF2RX1\" }, \\\n\t{ name, \"AIF2RX2\", \"AIF2RX2\" }, \\\n\t{ name, \"AIF3RX1\", \"AIF3RX1\" }, \\\n\t{ name, \"AIF3RX2\", \"AIF3RX2\" }, \\\n\t{ name, \"SLIMRX1\", \"SLIMRX1\" }, \\\n\t{ name, \"SLIMRX2\", \"SLIMRX2\" }, \\\n\t{ name, \"SLIMRX3\", \"SLIMRX3\" }, \\\n\t{ name, \"SLIMRX4\", \"SLIMRX4\" }, \\\n\t{ name, \"SLIMRX5\", \"SLIMRX5\" }, \\\n\t{ name, \"SLIMRX6\", \"SLIMRX6\" }, \\\n\t{ name, \"SLIMRX7\", \"SLIMRX7\" }, \\\n\t{ name, \"SLIMRX8\", \"SLIMRX8\" }, \\\n\t{ name, \"EQ1\", \"EQ1\" }, \\\n\t{ name, \"EQ2\", \"EQ2\" }, \\\n\t{ name, \"EQ3\", \"EQ3\" }, \\\n\t{ name, \"EQ4\", \"EQ4\" }, \\\n\t{ name, \"DRC1L\", \"DRC1L\" }, \\\n\t{ name, \"DRC1R\", \"DRC1R\" }, \\\n\t{ name, \"LHPF1\", \"LHPF1\" }, \\\n\t{ name, \"LHPF2\", \"LHPF2\" }, \\\n\t{ name, \"LHPF3\", \"LHPF3\" }, \\\n\t{ name, \"LHPF4\", \"LHPF4\" }, \\\n\t{ name, \"ASRC1L\", \"ASRC1L\" }, \\\n\t{ name, \"ASRC1R\", \"ASRC1R\" }, \\\n\t{ name, \"ASRC2L\", \"ASRC2L\" }, \\\n\t{ name, \"ASRC2R\", \"ASRC2R\" }, \\\n\t{ name, \"ISRC1DEC1\", \"ISRC1DEC1\" }, \\\n\t{ name, \"ISRC1DEC2\", \"ISRC1DEC2\" }, \\\n\t{ name, \"ISRC1INT1\", \"ISRC1INT1\" }, \\\n\t{ name, \"ISRC1INT2\", \"ISRC1INT2\" }, \\\n\t{ name, \"ISRC2DEC1\", \"ISRC2DEC1\" }, \\\n\t{ name, \"ISRC2DEC2\", \"ISRC2DEC2\" }, \\\n\t{ name, \"ISRC2INT1\", \"ISRC2INT1\" }, \\\n\t{ name, \"ISRC2INT2\", \"ISRC2INT2\" }, \\\n\t{ name, \"DSP1.1\", \"DSP1\" }, \\\n\t{ name, \"DSP1.2\", \"DSP1\" }, \\\n\t{ name, \"DSP1.3\", \"DSP1\" }, \\\n\t{ name, \"DSP1.4\", \"DSP1\" }, \\\n\t{ name, \"DSP1.5\", \"DSP1\" }, \\\n\t{ name, \"DSP1.6\", \"DSP1\" }\n\nstatic const struct snd_soc_dapm_route wm5102_dapm_routes[] = {\n\t{ \"AIF2 Capture\", NULL, \"DBVDD2\" },\n\t{ \"AIF2 Playback\", NULL, \"DBVDD2\" },\n\n\t{ \"AIF3 Capture\", NULL, \"DBVDD3\" },\n\t{ \"AIF3 Playback\", NULL, \"DBVDD3\" },\n\n\t{ \"OUT1L\", NULL, \"CPVDD\" },\n\t{ \"OUT1R\", NULL, \"CPVDD\" },\n\t{ \"OUT2L\", NULL, \"CPVDD\" },\n\t{ \"OUT2R\", NULL, \"CPVDD\" },\n\t{ \"OUT3L\", NULL, \"CPVDD\" },\n\n\t{ \"OUT4L\", NULL, \"SPKVDDL\" },\n\t{ \"OUT4R\", NULL, \"SPKVDDR\" },\n\n\t{ \"OUT1L\", NULL, \"SYSCLK\" },\n\t{ \"OUT1R\", NULL, \"SYSCLK\" },\n\t{ \"OUT2L\", NULL, \"SYSCLK\" },\n\t{ \"OUT2R\", NULL, \"SYSCLK\" },\n\t{ \"OUT3L\", NULL, \"SYSCLK\" },\n\t{ \"OUT4L\", NULL, \"SYSCLK\" },\n\t{ \"OUT4R\", NULL, \"SYSCLK\" },\n\t{ \"OUT5L\", NULL, \"SYSCLK\" },\n\t{ \"OUT5R\", NULL, \"SYSCLK\" },\n\n\t{ \"IN1L\", NULL, \"SYSCLK\" },\n\t{ \"IN1R\", NULL, \"SYSCLK\" },\n\t{ \"IN2L\", NULL, \"SYSCLK\" },\n\t{ \"IN2R\", NULL, \"SYSCLK\" },\n\t{ \"IN3L\", NULL, \"SYSCLK\" },\n\t{ \"IN3R\", NULL, \"SYSCLK\" },\n\n\t{ \"ASRC1L\", NULL, \"SYSCLK\" },\n\t{ \"ASRC1R\", NULL, \"SYSCLK\" },\n\t{ \"ASRC2L\", NULL, \"SYSCLK\" },\n\t{ \"ASRC2R\", NULL, \"SYSCLK\" },\n\n\t{ \"ASRC1L\", NULL, \"ASYNCCLK\" },\n\t{ \"ASRC1R\", NULL, \"ASYNCCLK\" },\n\t{ \"ASRC2L\", NULL, \"ASYNCCLK\" },\n\t{ \"ASRC2R\", NULL, \"ASYNCCLK\" },\n\n\t{ \"MICBIAS1\", NULL, \"MICVDD\" },\n\t{ \"MICBIAS2\", NULL, \"MICVDD\" },\n\t{ \"MICBIAS3\", NULL, \"MICVDD\" },\n\n\t{ \"Noise Generator\", NULL, \"SYSCLK\" },\n\t{ \"Tone Generator 1\", NULL, \"SYSCLK\" },\n\t{ \"Tone Generator 2\", NULL, \"SYSCLK\" },\n\n\t{ \"Noise Generator\", NULL, \"NOISE\" },\n\t{ \"Tone Generator 1\", NULL, \"TONE\" },\n\t{ \"Tone Generator 2\", NULL, \"TONE\" },\n\n\t{ \"AIF1 Capture\", NULL, \"AIF1TX1\" },\n\t{ \"AIF1 Capture\", NULL, \"AIF1TX2\" },\n\t{ \"AIF1 Capture\", NULL, \"AIF1TX3\" },\n\t{ \"AIF1 Capture\", NULL, \"AIF1TX4\" },\n\t{ \"AIF1 Capture\", NULL, \"AIF1TX5\" },\n\t{ \"AIF1 Capture\", NULL, \"AIF1TX6\" },\n\t{ \"AIF1 Capture\", NULL, \"AIF1TX7\" },\n\t{ \"AIF1 Capture\", NULL, \"AIF1TX8\" },\n\n\t{ \"AIF1RX1\", NULL, \"AIF1 Playback\" },\n\t{ \"AIF1RX2\", NULL, \"AIF1 Playback\" },\n\t{ \"AIF1RX3\", NULL, \"AIF1 Playback\" },\n\t{ \"AIF1RX4\", NULL, \"AIF1 Playback\" },\n\t{ \"AIF1RX5\", NULL, \"AIF1 Playback\" },\n\t{ \"AIF1RX6\", NULL, \"AIF1 Playback\" },\n\t{ \"AIF1RX7\", NULL, \"AIF1 Playback\" },\n\t{ \"AIF1RX8\", NULL, \"AIF1 Playback\" },\n\n\t{ \"AIF2 Capture\", NULL, \"AIF2TX1\" },\n\t{ \"AIF2 Capture\", NULL, \"AIF2TX2\" },\n\n\t{ \"AIF2RX1\", NULL, \"AIF2 Playback\" },\n\t{ \"AIF2RX2\", NULL, \"AIF2 Playback\" },\n\n\t{ \"AIF3 Capture\", NULL, \"AIF3TX1\" },\n\t{ \"AIF3 Capture\", NULL, \"AIF3TX2\" },\n\n\t{ \"AIF3RX1\", NULL, \"AIF3 Playback\" },\n\t{ \"AIF3RX2\", NULL, \"AIF3 Playback\" },\n\n\t{ \"Slim1 Capture\", NULL, \"SLIMTX1\" },\n\t{ \"Slim1 Capture\", NULL, \"SLIMTX2\" },\n\t{ \"Slim1 Capture\", NULL, \"SLIMTX3\" },\n\t{ \"Slim1 Capture\", NULL, \"SLIMTX4\" },\n\n\t{ \"SLIMRX1\", NULL, \"Slim1 Playback\" },\n\t{ \"SLIMRX2\", NULL, \"Slim1 Playback\" },\n\t{ \"SLIMRX3\", NULL, \"Slim1 Playback\" },\n\t{ \"SLIMRX4\", NULL, \"Slim1 Playback\" },\n\n\t{ \"Slim2 Capture\", NULL, \"SLIMTX5\" },\n\t{ \"Slim2 Capture\", NULL, \"SLIMTX6\" },\n\n\t{ \"SLIMRX5\", NULL, \"Slim2 Playback\" },\n\t{ \"SLIMRX6\", NULL, \"Slim2 Playback\" },\n\n\t{ \"Slim3 Capture\", NULL, \"SLIMTX7\" },\n\t{ \"Slim3 Capture\", NULL, \"SLIMTX8\" },\n\n\t{ \"SLIMRX7\", NULL, \"Slim3 Playback\" },\n\t{ \"SLIMRX8\", NULL, \"Slim3 Playback\" },\n\n\t{ \"AIF1 Playback\", NULL, \"SYSCLK\" },\n\t{ \"AIF2 Playback\", NULL, \"SYSCLK\" },\n\t{ \"AIF3 Playback\", NULL, \"SYSCLK\" },\n\t{ \"Slim1 Playback\", NULL, \"SYSCLK\" },\n\t{ \"Slim2 Playback\", NULL, \"SYSCLK\" },\n\t{ \"Slim3 Playback\", NULL, \"SYSCLK\" },\n\n\t{ \"AIF1 Capture\", NULL, \"SYSCLK\" },\n\t{ \"AIF2 Capture\", NULL, \"SYSCLK\" },\n\t{ \"AIF3 Capture\", NULL, \"SYSCLK\" },\n\t{ \"Slim1 Capture\", NULL, \"SYSCLK\" },\n\t{ \"Slim2 Capture\", NULL, \"SYSCLK\" },\n\t{ \"Slim3 Capture\", NULL, \"SYSCLK\" },\n\n\t{ \"Audio Trace DSP\", NULL, \"DSP1\" },\n\n\t{ \"IN1L PGA\", NULL, \"IN1L\" },\n\t{ \"IN1R PGA\", NULL, \"IN1R\" },\n\n\t{ \"IN2L PGA\", NULL, \"IN2L\" },\n\t{ \"IN2R PGA\", NULL, \"IN2R\" },\n\n\t{ \"IN3L PGA\", NULL, \"IN3L\" },\n\t{ \"IN3R PGA\", NULL, \"IN3R\" },\n\n\tARIZONA_MIXER_ROUTES(\"OUT1L\", \"HPOUT1L\"),\n\tARIZONA_MIXER_ROUTES(\"OUT1R\", \"HPOUT1R\"),\n\tARIZONA_MIXER_ROUTES(\"OUT2L\", \"HPOUT2L\"),\n\tARIZONA_MIXER_ROUTES(\"OUT2R\", \"HPOUT2R\"),\n\tARIZONA_MIXER_ROUTES(\"OUT3L\", \"EPOUT\"),\n\n\tARIZONA_MIXER_ROUTES(\"OUT4L\", \"SPKOUTL\"),\n\tARIZONA_MIXER_ROUTES(\"OUT4R\", \"SPKOUTR\"),\n\tARIZONA_MIXER_ROUTES(\"OUT5L\", \"SPKDAT1L\"),\n\tARIZONA_MIXER_ROUTES(\"OUT5R\", \"SPKDAT1R\"),\n\n\tARIZONA_MIXER_ROUTES(\"PWM1 Driver\", \"PWM1\"),\n\tARIZONA_MIXER_ROUTES(\"PWM2 Driver\", \"PWM2\"),\n\n\tARIZONA_MIXER_ROUTES(\"AIF1TX1\", \"AIF1TX1\"),\n\tARIZONA_MIXER_ROUTES(\"AIF1TX2\", \"AIF1TX2\"),\n\tARIZONA_MIXER_ROUTES(\"AIF1TX3\", \"AIF1TX3\"),\n\tARIZONA_MIXER_ROUTES(\"AIF1TX4\", \"AIF1TX4\"),\n\tARIZONA_MIXER_ROUTES(\"AIF1TX5\", \"AIF1TX5\"),\n\tARIZONA_MIXER_ROUTES(\"AIF1TX6\", \"AIF1TX6\"),\n\tARIZONA_MIXER_ROUTES(\"AIF1TX7\", \"AIF1TX7\"),\n\tARIZONA_MIXER_ROUTES(\"AIF1TX8\", \"AIF1TX8\"),\n\n\tARIZONA_MIXER_ROUTES(\"AIF2TX1\", \"AIF2TX1\"),\n\tARIZONA_MIXER_ROUTES(\"AIF2TX2\", \"AIF2TX2\"),\n\n\tARIZONA_MIXER_ROUTES(\"AIF3TX1\", \"AIF3TX1\"),\n\tARIZONA_MIXER_ROUTES(\"AIF3TX2\", \"AIF3TX2\"),\n\n\tARIZONA_MIXER_ROUTES(\"SLIMTX1\", \"SLIMTX1\"),\n\tARIZONA_MIXER_ROUTES(\"SLIMTX2\", \"SLIMTX2\"),\n\tARIZONA_MIXER_ROUTES(\"SLIMTX3\", \"SLIMTX3\"),\n\tARIZONA_MIXER_ROUTES(\"SLIMTX4\", \"SLIMTX4\"),\n\tARIZONA_MIXER_ROUTES(\"SLIMTX5\", \"SLIMTX5\"),\n\tARIZONA_MIXER_ROUTES(\"SLIMTX6\", \"SLIMTX6\"),\n\tARIZONA_MIXER_ROUTES(\"SLIMTX7\", \"SLIMTX7\"),\n\tARIZONA_MIXER_ROUTES(\"SLIMTX8\", \"SLIMTX8\"),\n\n\tARIZONA_MIXER_ROUTES(\"EQ1\", \"EQ1\"),\n\tARIZONA_MIXER_ROUTES(\"EQ2\", \"EQ2\"),\n\tARIZONA_MIXER_ROUTES(\"EQ3\", \"EQ3\"),\n\tARIZONA_MIXER_ROUTES(\"EQ4\", \"EQ4\"),\n\n\tARIZONA_MIXER_ROUTES(\"DRC1L\", \"DRC1L\"),\n\tARIZONA_MIXER_ROUTES(\"DRC1R\", \"DRC1R\"),\n\n\tARIZONA_MIXER_ROUTES(\"LHPF1\", \"LHPF1\"),\n\tARIZONA_MIXER_ROUTES(\"LHPF2\", \"LHPF2\"),\n\tARIZONA_MIXER_ROUTES(\"LHPF3\", \"LHPF3\"),\n\tARIZONA_MIXER_ROUTES(\"LHPF4\", \"LHPF4\"),\n\n\tARIZONA_MIXER_ROUTES(\"Mic Mute Mixer\", \"Noise\"),\n\tARIZONA_MIXER_ROUTES(\"Mic Mute Mixer\", \"Mic\"),\n\n\tARIZONA_MUX_ROUTES(\"ASRC1L\", \"ASRC1L\"),\n\tARIZONA_MUX_ROUTES(\"ASRC1R\", \"ASRC1R\"),\n\tARIZONA_MUX_ROUTES(\"ASRC2L\", \"ASRC2L\"),\n\tARIZONA_MUX_ROUTES(\"ASRC2R\", \"ASRC2R\"),\n\n\tARIZONA_MUX_ROUTES(\"ISRC1INT1\", \"ISRC1INT1\"),\n\tARIZONA_MUX_ROUTES(\"ISRC1INT2\", \"ISRC1INT2\"),\n\n\tARIZONA_MUX_ROUTES(\"ISRC1DEC1\", \"ISRC1DEC1\"),\n\tARIZONA_MUX_ROUTES(\"ISRC1DEC2\", \"ISRC1DEC2\"),\n\n\tARIZONA_MUX_ROUTES(\"ISRC2INT1\", \"ISRC2INT1\"),\n\tARIZONA_MUX_ROUTES(\"ISRC2INT2\", \"ISRC2INT2\"),\n\n\tARIZONA_MUX_ROUTES(\"ISRC2DEC1\", \"ISRC2DEC1\"),\n\tARIZONA_MUX_ROUTES(\"ISRC2DEC2\", \"ISRC2DEC2\"),\n\n\tARIZONA_DSP_ROUTES(\"DSP1\"),\n\n\t{ \"AEC Loopback\", \"HPOUT1L\", \"OUT1L\" },\n\t{ \"AEC Loopback\", \"HPOUT1R\", \"OUT1R\" },\n\t{ \"HPOUT1L\", NULL, \"OUT1L\" },\n\t{ \"HPOUT1R\", NULL, \"OUT1R\" },\n\n\t{ \"AEC Loopback\", \"HPOUT2L\", \"OUT2L\" },\n\t{ \"AEC Loopback\", \"HPOUT2R\", \"OUT2R\" },\n\t{ \"HPOUT2L\", NULL, \"OUT2L\" },\n\t{ \"HPOUT2R\", NULL, \"OUT2R\" },\n\n\t{ \"AEC Loopback\", \"EPOUT\", \"OUT3L\" },\n\t{ \"EPOUTN\", NULL, \"OUT3L\" },\n\t{ \"EPOUTP\", NULL, \"OUT3L\" },\n\n\t{ \"AEC Loopback\", \"SPKOUTL\", \"OUT4L\" },\n\t{ \"SPKOUTLN\", NULL, \"OUT4L\" },\n\t{ \"SPKOUTLP\", NULL, \"OUT4L\" },\n\n\t{ \"AEC Loopback\", \"SPKOUTR\", \"OUT4R\" },\n\t{ \"SPKOUTRN\", NULL, \"OUT4R\" },\n\t{ \"SPKOUTRP\", NULL, \"OUT4R\" },\n\n\t{ \"AEC Loopback\", \"SPKDAT1L\", \"OUT5L\" },\n\t{ \"AEC Loopback\", \"SPKDAT1R\", \"OUT5R\" },\n\t{ \"SPKDAT1L\", NULL, \"OUT5L\" },\n\t{ \"SPKDAT1R\", NULL, \"OUT5R\" },\n\n\t{ \"MICSUPP\", NULL, \"SYSCLK\" },\n\n\t{ \"DRC1 Signal Activity\", NULL, \"SYSCLK\" },\n\t{ \"DRC1 Signal Activity\", NULL, \"DRC1L\" },\n\t{ \"DRC1 Signal Activity\", NULL, \"DRC1R\" },\n};\n\nstatic int wm5102_set_fll(struct snd_soc_component *component, int fll_id,\n\t\t\t  int source, unsigned int Fref, unsigned int Fout)\n{\n\tstruct wm5102_priv *wm5102 = snd_soc_component_get_drvdata(component);\n\n\tswitch (fll_id) {\n\tcase WM5102_FLL1:\n\t\treturn arizona_set_fll(&wm5102->fll[0], source, Fref, Fout);\n\tcase WM5102_FLL2:\n\t\treturn arizona_set_fll(&wm5102->fll[1], source, Fref, Fout);\n\tcase WM5102_FLL1_REFCLK:\n\t\treturn arizona_set_fll_refclk(&wm5102->fll[0], source, Fref,\n\t\t\t\t\t      Fout);\n\tcase WM5102_FLL2_REFCLK:\n\t\treturn arizona_set_fll_refclk(&wm5102->fll[1], source, Fref,\n\t\t\t\t\t      Fout);\n\tdefault:\n\t\treturn -EINVAL;\n\t}\n}\n\n#define WM5102_RATES SNDRV_PCM_RATE_KNOT\n\n#define WM5102_FORMATS (SNDRV_PCM_FMTBIT_S16_LE | SNDRV_PCM_FMTBIT_S20_3LE |\\\n\t\t\tSNDRV_PCM_FMTBIT_S24_LE | SNDRV_PCM_FMTBIT_S32_LE)\n\nstatic const struct snd_soc_dai_ops wm5102_dai_ops = {\n\t.compress_new = snd_soc_new_compress,\n};\n\nstatic struct snd_soc_dai_driver wm5102_dai[] = {\n\t{\n\t\t.name = \"wm5102-aif1\",\n\t\t.id = 1,\n\t\t.base = ARIZONA_AIF1_BCLK_CTRL,\n\t\t.playback = {\n\t\t\t.stream_name = \"AIF1 Playback\",\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 8,\n\t\t\t.rates = WM5102_RATES,\n\t\t\t.formats = WM5102_FORMATS,\n\t\t},\n\t\t.capture = {\n\t\t\t .stream_name = \"AIF1 Capture\",\n\t\t\t .channels_min = 1,\n\t\t\t .channels_max = 8,\n\t\t\t .rates = WM5102_RATES,\n\t\t\t .formats = WM5102_FORMATS,\n\t\t },\n\t\t.ops = &arizona_dai_ops,\n\t\t.symmetric_rate = 1,\n\t\t.symmetric_sample_bits = 1,\n\t},\n\t{\n\t\t.name = \"wm5102-aif2\",\n\t\t.id = 2,\n\t\t.base = ARIZONA_AIF2_BCLK_CTRL,\n\t\t.playback = {\n\t\t\t.stream_name = \"AIF2 Playback\",\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 2,\n\t\t\t.rates = WM5102_RATES,\n\t\t\t.formats = WM5102_FORMATS,\n\t\t},\n\t\t.capture = {\n\t\t\t .stream_name = \"AIF2 Capture\",\n\t\t\t .channels_min = 1,\n\t\t\t .channels_max = 2,\n\t\t\t .rates = WM5102_RATES,\n\t\t\t .formats = WM5102_FORMATS,\n\t\t },\n\t\t.ops = &arizona_dai_ops,\n\t\t.symmetric_rate = 1,\n\t\t.symmetric_sample_bits = 1,\n\t},\n\t{\n\t\t.name = \"wm5102-aif3\",\n\t\t.id = 3,\n\t\t.base = ARIZONA_AIF3_BCLK_CTRL,\n\t\t.playback = {\n\t\t\t.stream_name = \"AIF3 Playback\",\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 2,\n\t\t\t.rates = WM5102_RATES,\n\t\t\t.formats = WM5102_FORMATS,\n\t\t},\n\t\t.capture = {\n\t\t\t .stream_name = \"AIF3 Capture\",\n\t\t\t .channels_min = 1,\n\t\t\t .channels_max = 2,\n\t\t\t .rates = WM5102_RATES,\n\t\t\t .formats = WM5102_FORMATS,\n\t\t },\n\t\t.ops = &arizona_dai_ops,\n\t\t.symmetric_rate = 1,\n\t\t.symmetric_sample_bits = 1,\n\t},\n\t{\n\t\t.name = \"wm5102-slim1\",\n\t\t.id = 4,\n\t\t.playback = {\n\t\t\t.stream_name = \"Slim1 Playback\",\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 4,\n\t\t\t.rates = WM5102_RATES,\n\t\t\t.formats = WM5102_FORMATS,\n\t\t},\n\t\t.capture = {\n\t\t\t .stream_name = \"Slim1 Capture\",\n\t\t\t .channels_min = 1,\n\t\t\t .channels_max = 4,\n\t\t\t .rates = WM5102_RATES,\n\t\t\t .formats = WM5102_FORMATS,\n\t\t },\n\t\t.ops = &arizona_simple_dai_ops,\n\t},\n\t{\n\t\t.name = \"wm5102-slim2\",\n\t\t.id = 5,\n\t\t.playback = {\n\t\t\t.stream_name = \"Slim2 Playback\",\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 2,\n\t\t\t.rates = WM5102_RATES,\n\t\t\t.formats = WM5102_FORMATS,\n\t\t},\n\t\t.capture = {\n\t\t\t .stream_name = \"Slim2 Capture\",\n\t\t\t .channels_min = 1,\n\t\t\t .channels_max = 2,\n\t\t\t .rates = WM5102_RATES,\n\t\t\t .formats = WM5102_FORMATS,\n\t\t },\n\t\t.ops = &arizona_simple_dai_ops,\n\t},\n\t{\n\t\t.name = \"wm5102-slim3\",\n\t\t.id = 6,\n\t\t.playback = {\n\t\t\t.stream_name = \"Slim3 Playback\",\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 2,\n\t\t\t.rates = WM5102_RATES,\n\t\t\t.formats = WM5102_FORMATS,\n\t\t},\n\t\t.capture = {\n\t\t\t .stream_name = \"Slim3 Capture\",\n\t\t\t .channels_min = 1,\n\t\t\t .channels_max = 2,\n\t\t\t .rates = WM5102_RATES,\n\t\t\t .formats = WM5102_FORMATS,\n\t\t },\n\t\t.ops = &arizona_simple_dai_ops,\n\t},\n\t{\n\t\t.name = \"wm5102-cpu-trace\",\n\t\t.capture = {\n\t\t\t.stream_name = \"Audio Trace CPU\",\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 4,\n\t\t\t.rates = WM5102_RATES,\n\t\t\t.formats = WM5102_FORMATS,\n\t\t},\n\t\t.ops = &wm5102_dai_ops,\n\t},\n\t{\n\t\t.name = \"wm5102-dsp-trace\",\n\t\t.capture = {\n\t\t\t.stream_name = \"Audio Trace DSP\",\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 4,\n\t\t\t.rates = WM5102_RATES,\n\t\t\t.formats = WM5102_FORMATS,\n\t\t},\n\t},\n};\n\nstatic int wm5102_open(struct snd_soc_component *component,\n\t\t       struct snd_compr_stream *stream)\n{\n\tstruct wm5102_priv *priv = snd_soc_component_get_drvdata(component);\n\n\treturn wm_adsp_compr_open(&priv->core.adsp[0], stream);\n}\n\nstatic irqreturn_t wm5102_adsp2_irq(int irq, void *data)\n{\n\tstruct wm5102_priv *priv = data;\n\tstruct arizona *arizona = priv->core.arizona;\n\tint ret;\n\n\tret = wm_adsp_compr_handle_irq(&priv->core.adsp[0]);\n\tif (ret == -ENODEV) {\n\t\tdev_err(arizona->dev, \"Spurious compressed data IRQ\\n\");\n\t\treturn IRQ_NONE;\n\t}\n\n\treturn IRQ_HANDLED;\n}\n\nstatic int wm5102_component_probe(struct snd_soc_component *component)\n{\n\tstruct snd_soc_dapm_context *dapm = snd_soc_component_get_dapm(component);\n\tstruct wm5102_priv *priv = snd_soc_component_get_drvdata(component);\n\tstruct arizona *arizona = priv->core.arizona;\n\tint ret;\n\n\tsnd_soc_component_init_regmap(component, arizona->regmap);\n\n\tret = wm_adsp2_component_probe(&priv->core.adsp[0], component);\n\tif (ret)\n\t\treturn ret;\n\n\tret = snd_soc_add_component_controls(component,\n\t\t\t\t\t     arizona_adsp2_rate_controls, 1);\n\tif (ret)\n\t\tgoto err_adsp2_codec_probe;\n\n\tret = arizona_init_spk(component);\n\tif (ret < 0)\n\t\treturn ret;\n\n\tarizona_init_gpio(component);\n\n\tsnd_soc_component_disable_pin(component, \"HAPTICS\");\n\n\tpriv->core.arizona->dapm = dapm;\n\n\treturn 0;\n\nerr_adsp2_codec_probe:\n\twm_adsp2_component_remove(&priv->core.adsp[0], component);\n\n\treturn ret;\n}\n\nstatic void wm5102_component_remove(struct snd_soc_component *component)\n{\n\tstruct wm5102_priv *priv = snd_soc_component_get_drvdata(component);\n\n\twm_adsp2_component_remove(&priv->core.adsp[0], component);\n\n\tpriv->core.arizona->dapm = NULL;\n}\n\n#define WM5102_DIG_VU 0x0200\n\nstatic unsigned int wm5102_digital_vu[] = {\n\tARIZONA_DAC_DIGITAL_VOLUME_1L,\n\tARIZONA_DAC_DIGITAL_VOLUME_1R,\n\tARIZONA_DAC_DIGITAL_VOLUME_2L,\n\tARIZONA_DAC_DIGITAL_VOLUME_2R,\n\tARIZONA_DAC_DIGITAL_VOLUME_3L,\n\tARIZONA_DAC_DIGITAL_VOLUME_4L,\n\tARIZONA_DAC_DIGITAL_VOLUME_4R,\n\tARIZONA_DAC_DIGITAL_VOLUME_5L,\n\tARIZONA_DAC_DIGITAL_VOLUME_5R,\n};\n\nstatic const struct snd_compress_ops wm5102_compress_ops = {\n\t.open\t\t= wm5102_open,\n\t.free\t\t= wm_adsp_compr_free,\n\t.set_params\t= wm_adsp_compr_set_params,\n\t.get_caps\t= wm_adsp_compr_get_caps,\n\t.trigger\t= wm_adsp_compr_trigger,\n\t.pointer\t= wm_adsp_compr_pointer,\n\t.copy\t\t= wm_adsp_compr_copy,\n};\n\nstatic const struct snd_soc_component_driver soc_component_dev_wm5102 = {\n\t.probe\t\t\t= wm5102_component_probe,\n\t.remove\t\t\t= wm5102_component_remove,\n\t.set_sysclk\t\t= arizona_set_sysclk,\n\t.set_pll\t\t= wm5102_set_fll,\n\t.set_jack\t\t= arizona_jack_set_jack,\n\t.name\t\t\t= DRV_NAME,\n\t.compress_ops\t\t= &wm5102_compress_ops,\n\t.controls\t\t= wm5102_snd_controls,\n\t.num_controls\t\t= ARRAY_SIZE(wm5102_snd_controls),\n\t.dapm_widgets\t\t= wm5102_dapm_widgets,\n\t.num_dapm_widgets\t= ARRAY_SIZE(wm5102_dapm_widgets),\n\t.dapm_routes\t\t= wm5102_dapm_routes,\n\t.num_dapm_routes\t= ARRAY_SIZE(wm5102_dapm_routes),\n\t.use_pmdown_time\t= 1,\n\t.endianness\t\t= 1,\n};\n\nstatic int wm5102_probe(struct platform_device *pdev)\n{\n\tstruct arizona *arizona = dev_get_drvdata(pdev->dev.parent);\n\tstruct wm5102_priv *wm5102;\n\tint i, ret;\n\n\twm5102 = devm_kzalloc(&pdev->dev, sizeof(struct wm5102_priv),\n\t\t\t      GFP_KERNEL);\n\tif (wm5102 == NULL)\n\t\treturn -ENOMEM;\n\tplatform_set_drvdata(pdev, wm5102);\n\n\tif (IS_ENABLED(CONFIG_OF)) {\n\t\tif (!dev_get_platdata(arizona->dev)) {\n\t\t\tret = arizona_of_get_audio_pdata(arizona);\n\t\t\tif (ret < 0)\n\t\t\t\treturn ret;\n\t\t}\n\t}\n\n\tmutex_init(&arizona->dac_comp_lock);\n\n\twm5102->core.arizona = arizona;\n\twm5102->core.num_inputs = 6;\n\n\tarizona_init_dvfs(&wm5102->core);\n\n\twm5102->core.adsp[0].part = \"wm5102\";\n\twm5102->core.adsp[0].cs_dsp.num = 1;\n\twm5102->core.adsp[0].cs_dsp.type = WMFW_ADSP2;\n\twm5102->core.adsp[0].cs_dsp.base = ARIZONA_DSP1_CONTROL_1;\n\twm5102->core.adsp[0].cs_dsp.dev = arizona->dev;\n\twm5102->core.adsp[0].cs_dsp.regmap = arizona->regmap;\n\twm5102->core.adsp[0].cs_dsp.mem = wm5102_dsp1_regions;\n\twm5102->core.adsp[0].cs_dsp.num_mems = ARRAY_SIZE(wm5102_dsp1_regions);\n\n\tret = wm_adsp2_init(&wm5102->core.adsp[0]);\n\tif (ret != 0)\n\t\treturn ret;\n\n\t \n\tret = arizona_jack_codec_dev_probe(&wm5102->core, &pdev->dev);\n\tif (ret)\n\t\treturn ret;\n\n\tfor (i = 0; i < ARRAY_SIZE(wm5102->fll); i++)\n\t\twm5102->fll[i].vco_mult = 1;\n\n\tarizona_init_fll(arizona, 1, ARIZONA_FLL1_CONTROL_1 - 1,\n\t\t\t ARIZONA_IRQ_FLL1_LOCK, ARIZONA_IRQ_FLL1_CLOCK_OK,\n\t\t\t &wm5102->fll[0]);\n\tarizona_init_fll(arizona, 2, ARIZONA_FLL2_CONTROL_1 - 1,\n\t\t\t ARIZONA_IRQ_FLL2_LOCK, ARIZONA_IRQ_FLL2_CLOCK_OK,\n\t\t\t &wm5102->fll[1]);\n\n\t \n\tregmap_update_bits(arizona->regmap, ARIZONA_SAMPLE_RATE_2,\n\t\t\t   ARIZONA_SAMPLE_RATE_2_MASK, 0x11);\n\tregmap_update_bits(arizona->regmap, ARIZONA_SAMPLE_RATE_3,\n\t\t\t   ARIZONA_SAMPLE_RATE_3_MASK, 0x12);\n\n\tfor (i = 0; i < ARRAY_SIZE(wm5102_dai); i++)\n\t\tarizona_init_dai(&wm5102->core, i);\n\n\t \n\tfor (i = 0; i < ARRAY_SIZE(wm5102_digital_vu); i++)\n\t\tregmap_update_bits(arizona->regmap, wm5102_digital_vu[i],\n\t\t\t\t   WM5102_DIG_VU, WM5102_DIG_VU);\n\n\tpm_runtime_enable(&pdev->dev);\n\tpm_runtime_idle(&pdev->dev);\n\n\tret = arizona_request_irq(arizona, ARIZONA_IRQ_DSP_IRQ1,\n\t\t\t\t  \"ADSP2 Compressed IRQ\", wm5102_adsp2_irq,\n\t\t\t\t  wm5102);\n\tif (ret != 0) {\n\t\tdev_err(&pdev->dev, \"Failed to request DSP IRQ: %d\\n\", ret);\n\t\tgoto err_jack_codec_dev;\n\t}\n\n\tret = arizona_set_irq_wake(arizona, ARIZONA_IRQ_DSP_IRQ1, 1);\n\tif (ret != 0)\n\t\tdev_warn(&pdev->dev,\n\t\t\t \"Failed to set compressed IRQ as a wake source: %d\\n\",\n\t\t\t ret);\n\n\tarizona_init_common(arizona);\n\n\tret = arizona_init_vol_limit(arizona);\n\tif (ret < 0)\n\t\tgoto err_dsp_irq;\n\tret = arizona_init_spk_irqs(arizona);\n\tif (ret < 0)\n\t\tgoto err_dsp_irq;\n\n\tret = devm_snd_soc_register_component(&pdev->dev,\n\t\t\t\t\t      &soc_component_dev_wm5102,\n\t\t\t\t\t      wm5102_dai,\n\t\t\t\t\t      ARRAY_SIZE(wm5102_dai));\n\tif (ret < 0) {\n\t\tdev_err(&pdev->dev, \"Failed to register component: %d\\n\", ret);\n\t\tgoto err_spk_irqs;\n\t}\n\n\treturn ret;\n\nerr_spk_irqs:\n\tarizona_free_spk_irqs(arizona);\nerr_dsp_irq:\n\tarizona_set_irq_wake(arizona, ARIZONA_IRQ_DSP_IRQ1, 0);\n\tarizona_free_irq(arizona, ARIZONA_IRQ_DSP_IRQ1, wm5102);\nerr_jack_codec_dev:\n\tpm_runtime_disable(&pdev->dev);\n\tarizona_jack_codec_dev_remove(&wm5102->core);\n\n\treturn ret;\n}\n\nstatic void wm5102_remove(struct platform_device *pdev)\n{\n\tstruct wm5102_priv *wm5102 = platform_get_drvdata(pdev);\n\tstruct arizona *arizona = wm5102->core.arizona;\n\n\tpm_runtime_disable(&pdev->dev);\n\n\twm_adsp2_remove(&wm5102->core.adsp[0]);\n\n\tarizona_free_spk_irqs(arizona);\n\n\tarizona_set_irq_wake(arizona, ARIZONA_IRQ_DSP_IRQ1, 0);\n\tarizona_free_irq(arizona, ARIZONA_IRQ_DSP_IRQ1, wm5102);\n\n\tarizona_jack_codec_dev_remove(&wm5102->core);\n}\n\nstatic struct platform_driver wm5102_codec_driver = {\n\t.driver = {\n\t\t.name = \"wm5102-codec\",\n\t},\n\t.probe = wm5102_probe,\n\t.remove_new = wm5102_remove,\n};\n\nmodule_platform_driver(wm5102_codec_driver);\n\nMODULE_DESCRIPTION(\"ASoC WM5102 driver\");\nMODULE_AUTHOR(\"Mark Brown <broonie@opensource.wolfsonmicro.com>\");\nMODULE_LICENSE(\"GPL\");\nMODULE_ALIAS(\"platform:wm5102-codec\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}