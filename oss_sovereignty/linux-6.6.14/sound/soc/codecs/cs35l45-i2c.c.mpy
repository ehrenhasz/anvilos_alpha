{
  "module_name": "cs35l45-i2c.c",
  "hash_id": "3032cb40b361837d56760cc82bce7d54beb971d91e9674be19784dbe2300e7f9",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/codecs/cs35l45-i2c.c",
  "human_readable_source": "\n\n\n\n\n\n\n\n#include <linux/device.h>\n#include <linux/module.h>\n#include <linux/i2c.h>\n#include <linux/regmap.h>\n\n#include \"cs35l45.h\"\n\nstatic int cs35l45_i2c_probe(struct i2c_client *client)\n{\n\tstruct cs35l45_private *cs35l45;\n\tstruct device *dev = &client->dev;\n\tint ret;\n\n\tcs35l45 = devm_kzalloc(dev, sizeof(struct cs35l45_private), GFP_KERNEL);\n\tif (!cs35l45)\n\t\treturn -ENOMEM;\n\n\ti2c_set_clientdata(client, cs35l45);\n\tcs35l45->regmap = devm_regmap_init_i2c(client, &cs35l45_i2c_regmap);\n\tif (IS_ERR(cs35l45->regmap)) {\n\t\tret = PTR_ERR(cs35l45->regmap);\n\t\tdev_err(dev, \"Failed to allocate register map: %d\\n\", ret);\n\t\treturn ret;\n\t}\n\n\tcs35l45->dev = dev;\n\tcs35l45->irq = client->irq;\n\tcs35l45->bus_type = CONTROL_BUS_I2C;\n\tcs35l45->i2c_addr = client->addr;\n\n\treturn cs35l45_probe(cs35l45);\n}\n\nstatic void cs35l45_i2c_remove(struct i2c_client *client)\n{\n\tstruct cs35l45_private *cs35l45 = i2c_get_clientdata(client);\n\n\tcs35l45_remove(cs35l45);\n}\n\nstatic const struct of_device_id cs35l45_of_match[] = {\n\t{ .compatible = \"cirrus,cs35l45\" },\n\t{},\n};\nMODULE_DEVICE_TABLE(of, cs35l45_of_match);\n\nstatic const struct i2c_device_id cs35l45_id_i2c[] = {\n\t{ \"cs35l45\", 0 },\n\t{}\n};\nMODULE_DEVICE_TABLE(i2c, cs35l45_id_i2c);\n\nstatic struct i2c_driver cs35l45_i2c_driver = {\n\t.driver = {\n\t\t.name\t\t= \"cs35l45\",\n\t\t.of_match_table = cs35l45_of_match,\n\t\t.pm\t\t= pm_ptr(&cs35l45_pm_ops),\n\t},\n\t.id_table\t= cs35l45_id_i2c,\n\t.probe\t\t= cs35l45_i2c_probe,\n\t.remove\t\t= cs35l45_i2c_remove,\n};\nmodule_i2c_driver(cs35l45_i2c_driver);\n\nMODULE_DESCRIPTION(\"I2C CS35L45 driver\");\nMODULE_AUTHOR(\"James Schulman, Cirrus Logic Inc, <james.schulman@cirrus.com>\");\nMODULE_LICENSE(\"GPL\");\nMODULE_IMPORT_NS(SND_SOC_CS35L45);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}