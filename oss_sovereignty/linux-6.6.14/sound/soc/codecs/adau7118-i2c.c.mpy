{
  "module_name": "adau7118-i2c.c",
  "hash_id": "9a1a176add38ee0eccd0b5f8124ab02c7ede7b9d313149cf215e1fd020a93b21",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/codecs/adau7118-i2c.c",
  "human_readable_source": "\n\n\n\n\n\n#include <linux/i2c.h>\n#include <linux/module.h>\n#include <linux/regmap.h>\n\n#include \"adau7118.h\"\n\nstatic const struct reg_default adau7118_reg_defaults[] = {\n\t{ ADAU7118_REG_VENDOR_ID, 0x41 },\n\t{ ADAU7118_REG_DEVICE_ID1, 0x71 },\n\t{ ADAU7118_REG_DEVICE_ID2, 0x18 },\n\t{ ADAU7118_REG_REVISION_ID, 0x00 },\n\t{ ADAU7118_REG_ENABLES, 0x3F },\n\t{ ADAU7118_REG_DEC_RATIO_CLK_MAP, 0xC0 },\n\t{ ADAU7118_REG_HPF_CONTROL, 0xD0 },\n\t{ ADAU7118_REG_SPT_CTRL1, 0x41 },\n\t{ ADAU7118_REG_SPT_CTRL2, 0x00 },\n\t{ ADAU7118_REG_SPT_CX(0), 0x01 },\n\t{ ADAU7118_REG_SPT_CX(1), 0x11 },\n\t{ ADAU7118_REG_SPT_CX(2), 0x21 },\n\t{ ADAU7118_REG_SPT_CX(3), 0x31 },\n\t{ ADAU7118_REG_SPT_CX(4), 0x41 },\n\t{ ADAU7118_REG_SPT_CX(5), 0x51 },\n\t{ ADAU7118_REG_SPT_CX(6), 0x61 },\n\t{ ADAU7118_REG_SPT_CX(7), 0x71 },\n\t{ ADAU7118_REG_DRIVE_STRENGTH, 0x2a },\n\t{ ADAU7118_REG_RESET, 0x00 },\n};\n\nstatic bool adau7118_volatile(struct device *dev, unsigned int reg)\n{\n\treturn (reg == ADAU7118_REG_RESET);\n}\n\n\nstatic const struct regmap_config adau7118_regmap_config = {\n\t.reg_bits = 8,\n\t.val_bits = 8,\n\t.reg_defaults = adau7118_reg_defaults,\n\t.num_reg_defaults = ARRAY_SIZE(adau7118_reg_defaults),\n\t.cache_type = REGCACHE_MAPLE,\n\t.max_register = ADAU7118_REG_RESET,\n\t.volatile_reg = adau7118_volatile,\n};\n\nstatic int adau7118_probe_i2c(struct i2c_client *i2c)\n{\n\tstruct regmap *map;\n\n\tmap = devm_regmap_init_i2c(i2c, &adau7118_regmap_config);\n\tif (IS_ERR(map)) {\n\t\tdev_err(&i2c->dev, \"Failed to init regmap %ld\\n\", PTR_ERR(map));\n\t\treturn PTR_ERR(map);\n\t}\n\n\treturn adau7118_probe(&i2c->dev, map, false);\n}\n\nstatic const struct of_device_id adau7118_of_match[] = {\n\t{ .compatible = \"adi,adau7118\" },\n\t{}\n};\nMODULE_DEVICE_TABLE(of, adau7118_of_match);\n\nstatic const struct i2c_device_id adau7118_id[] = {\n\t{\"adau7118\", 0},\n\t{}\n};\nMODULE_DEVICE_TABLE(i2c, adau7118_id);\n\nstatic struct i2c_driver adau7118_driver = {\n\t.driver = {\n\t\t.name = \"adau7118\",\n\t\t.of_match_table = adau7118_of_match,\n\t},\n\t.probe = adau7118_probe_i2c,\n\t.id_table = adau7118_id,\n};\nmodule_i2c_driver(adau7118_driver);\n\nMODULE_AUTHOR(\"Nuno Sa <nuno.sa@analog.com>\");\nMODULE_DESCRIPTION(\"ADAU7118 8 channel PDM-to-I2S/TDM Converter driver over I2C\");\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}