{
  "module_name": "aw88395_device.h",
  "hash_id": "7e5a25e156751507e6019583832a651e2c96bf33884d9c0d48a0fed387bd4720",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/codecs/aw88395/aw88395_device.h",
  "human_readable_source": "\n\n\n\n\n\n\n\n\n#ifndef __AW88395_DEVICE_FILE_H__\n#define __AW88395_DEVICE_FILE_H__\n\n#include \"aw88395.h\"\n#include \"aw88395_data_type.h\"\n#include \"aw88395_lib.h\"\n\n#define AW88395_DEV_DEFAULT_CH\t\t\t\t(0)\n#define AW88395_DEV_DSP_CHECK_MAX\t\t\t(5)\n#define AW88395_DSP_I2C_WRITES\n#define AW88395_MAX_RAM_WRITE_BYTE_SIZE\t\t(128)\n#define AW88395_DSP_ODD_NUM_BIT_TEST\t\t\t(0x5555)\n#define AW88395_DSP_EVEN_NUM_BIT_TEST\t\t\t(0xAAAA)\n#define AW88395_DSP_ST_CHECK_MAX\t\t\t(2)\n#define AW88395_FADE_IN_OUT_DEFAULT\t\t\t(0)\n#define AW88395_CALI_RE_MAX\t\t\t\t(15000)\n#define AW88395_CALI_RE_MIN\t\t\t\t(4000)\n#define AW88395_CALI_DELAY_CACL(value)\t\t\t((value * 32) / 48)\n\n#define AW88395_DSP_RE_TO_SHOW_RE(re, shift)\t\t(((re) * (1000)) >> (shift))\n#define AW88395_SHOW_RE_TO_DSP_RE(re, shift)\t\t(((re) << shift) / (1000))\n\n#define AW88395_ACF_FILE\t\t\t\t\"aw88395_acf.bin\"\n#define AW88395_DEV_SYSST_CHECK_MAX\t\t\t(10)\n\nenum {\n\tAW88395_DEV_VDSEL_DAC = 0,\n\tAW88395_DEV_VDSEL_VSENSE = 1,\n};\n\nenum {\n\tAW88395_DSP_CRC_NA = 0,\n\tAW88395_DSP_CRC_OK = 1,\n};\n\nenum {\n\tAW88395_DSP_FW_UPDATE_OFF = 0,\n\tAW88395_DSP_FW_UPDATE_ON = 1,\n};\n\nenum {\n\tAW88395_FORCE_UPDATE_OFF = 0,\n\tAW88395_FORCE_UPDATE_ON = 1,\n};\n\nenum {\n\tAW88395_1000_US = 1000,\n\tAW88395_2000_US = 2000,\n\tAW88395_3000_US = 3000,\n\tAW88395_4000_US = 4000,\n\tAW88395_5000_US = 5000,\n\tAW88395_10000_US = 10000,\n\tAW88395_100000_US = 100000,\n};\n\nenum {\n\tAW88395_DEV_TYPE_OK = 0,\n\tAW88395_DEV_TYPE_NONE = 1,\n};\n\n\nenum AW88395_DEV_STATUS {\n\tAW88395_DEV_PW_OFF = 0,\n\tAW88395_DEV_PW_ON,\n};\n\nenum AW88395_DEV_FW_STATUS {\n\tAW88395_DEV_FW_FAILED = 0,\n\tAW88395_DEV_FW_OK,\n};\n\nenum AW88395_DEV_MEMCLK {\n\tAW88395_DEV_MEMCLK_OSC = 0,\n\tAW88395_DEV_MEMCLK_PLL = 1,\n};\n\nenum AW88395_DEV_DSP_CFG {\n\tAW88395_DEV_DSP_WORK = 0,\n\tAW88395_DEV_DSP_BYPASS = 1,\n};\n\nenum {\n\tAW88395_DSP_16_DATA = 0,\n\tAW88395_DSP_32_DATA = 1,\n};\n\nenum {\n\tAW88395_NOT_RCV_MODE = 0,\n\tAW88395_RCV_MODE = 1,\n};\n\nstruct aw_profctrl_desc {\n\tunsigned int cur_mode;\n};\n\nstruct aw_volume_desc {\n\tunsigned int init_volume;\n\tunsigned int mute_volume;\n\tunsigned int ctl_volume;\n\tunsigned int max_volume;\n};\n\nstruct aw_dsp_mem_desc {\n\tunsigned int dsp_madd_reg;\n\tunsigned int dsp_mdat_reg;\n\tunsigned int dsp_fw_base_addr;\n\tunsigned int dsp_cfg_base_addr;\n};\n\nstruct aw_vmax_desc {\n\tunsigned int init_vmax;\n};\n\nstruct aw_cali_delay_desc {\n\tunsigned int delay;\n};\n\nstruct aw_cali_desc {\n\tu32 cali_re;\n\tu32 ra;\n};\n\nstruct aw_container {\n\tint len;\n\tu8 data[];\n};\n\nstruct aw_device {\n\tint status;\n\tstruct mutex dsp_lock;\n\n\tunsigned char prof_cur;\n\tunsigned char prof_index;\n\tunsigned char dsp_crc_st;\n\tu16 chip_id;\n\n\tunsigned int channel;\n\tunsigned int fade_step;\n\n\tstruct i2c_client *i2c;\n\tstruct device *dev;\n\tstruct regmap *regmap;\n\tchar *acf;\n\n\tu32 fade_en;\n\tunsigned char dsp_cfg;\n\n\tu32 dsp_fw_len;\n\tu32 dsp_cfg_len;\n\tu8 platform;\n\tu8 fw_status;\n\n\tunsigned int fade_in_time;\n\tunsigned int fade_out_time;\n\n\tstruct aw_prof_info prof_info;\n\tstruct aw_sec_data_desc crc_dsp_cfg;\n\tstruct aw_profctrl_desc profctrl_desc;\n\tstruct aw_volume_desc volume_desc;\n\tstruct aw_dsp_mem_desc dsp_mem_desc;\n\tstruct aw_vmax_desc vmax_desc;\n\n\tstruct aw_cali_delay_desc cali_delay_desc;\n\tstruct aw_cali_desc cali_desc;\n\n};\n\nint aw88395_init(struct aw_device **aw_dev, struct i2c_client *i2c, struct regmap *regmap);\nint aw88395_dev_init(struct aw_device *aw_dev, struct aw_container *aw_cfg);\nint aw88395_dev_start(struct aw_device *aw_dev);\nint aw88395_dev_stop(struct aw_device *aw_dev);\nint aw88395_dev_fw_update(struct aw_device *aw_dev, bool up_dsp_fw_en, bool force_up_en);\n\nvoid aw88395_dev_set_volume(struct aw_device *aw_dev, unsigned short set_vol);\nint aw88395_dev_get_prof_data(struct aw_device *aw_dev, int index,\n\t\t\tstruct aw_prof_desc **prof_desc);\nchar *aw88395_dev_get_prof_name(struct aw_device *aw_dev, int index);\nint aw88395_dev_set_profile_index(struct aw_device *aw_dev, int index);\nint aw88395_dev_get_profile_index(struct aw_device *aw_dev);\nint aw88395_dev_get_profile_count(struct aw_device *aw_dev);\nint aw88395_dev_load_acf_check(struct aw_device *aw_dev, struct aw_container *aw_cfg);\nint aw88395_dev_cfg_load(struct aw_device *aw_dev, struct aw_container *aw_cfg);\nvoid aw88395_dev_mute(struct aw_device *aw_dev, bool is_mute);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}