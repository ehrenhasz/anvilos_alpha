{
  "module_name": "cs35l41-i2c.c",
  "hash_id": "77fd28346134b0daedf30fdf95dba56d0c6ac70da30de70d09aaf886037b95bf",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/codecs/cs35l41-i2c.c",
  "human_readable_source": "\n\n\n\n\n\n\n\n#include <linux/acpi.h>\n#include <linux/delay.h>\n#include <linux/i2c.h>\n#include <linux/init.h>\n#include <linux/kernel.h>\n#include <linux/module.h>\n#include <linux/moduleparam.h>\n#include <linux/of_device.h>\n#include <linux/platform_device.h>\n#include <linux/slab.h>\n\n#include \"cs35l41.h\"\n\nstatic const struct i2c_device_id cs35l41_id_i2c[] = {\n\t{ \"cs35l40\", 0 },\n\t{ \"cs35l41\", 0 },\n\t{ \"cs35l51\", 0 },\n\t{ \"cs35l53\", 0 },\n\t{}\n};\n\nMODULE_DEVICE_TABLE(i2c, cs35l41_id_i2c);\n\nstatic int cs35l41_i2c_probe(struct i2c_client *client)\n{\n\tstruct cs35l41_private *cs35l41;\n\tstruct device *dev = &client->dev;\n\tstruct cs35l41_hw_cfg *hw_cfg = dev_get_platdata(dev);\n\tconst struct regmap_config *regmap_config = &cs35l41_regmap_i2c;\n\tint ret;\n\n\tcs35l41 = devm_kzalloc(dev, sizeof(struct cs35l41_private), GFP_KERNEL);\n\n\tif (!cs35l41)\n\t\treturn -ENOMEM;\n\n\tcs35l41->dev = dev;\n\tcs35l41->irq = client->irq;\n\n\ti2c_set_clientdata(client, cs35l41);\n\tcs35l41->regmap = devm_regmap_init_i2c(client, regmap_config);\n\tif (IS_ERR(cs35l41->regmap)) {\n\t\tret = PTR_ERR(cs35l41->regmap);\n\t\tdev_err(cs35l41->dev, \"Failed to allocate register map: %d\\n\", ret);\n\t\treturn ret;\n\t}\n\n\treturn cs35l41_probe(cs35l41, hw_cfg);\n}\n\nstatic void cs35l41_i2c_remove(struct i2c_client *client)\n{\n\tstruct cs35l41_private *cs35l41 = i2c_get_clientdata(client);\n\n\tcs35l41_remove(cs35l41);\n}\n\n#ifdef CONFIG_OF\nstatic const struct of_device_id cs35l41_of_match[] = {\n\t{ .compatible = \"cirrus,cs35l40\" },\n\t{ .compatible = \"cirrus,cs35l41\" },\n\t{},\n};\nMODULE_DEVICE_TABLE(of, cs35l41_of_match);\n#endif\n\n#ifdef CONFIG_ACPI\nstatic const struct acpi_device_id cs35l41_acpi_match[] = {\n\t{ \"CSC3541\", 0 },  \n\t{},\n};\nMODULE_DEVICE_TABLE(acpi, cs35l41_acpi_match);\n#endif\n\nstatic struct i2c_driver cs35l41_i2c_driver = {\n\t.driver = {\n\t\t.name\t\t= \"cs35l41\",\n\t\t.pm\t\t= &cs35l41_pm_ops,\n\t\t.of_match_table = of_match_ptr(cs35l41_of_match),\n\t\t.acpi_match_table = ACPI_PTR(cs35l41_acpi_match),\n\t},\n\t.id_table\t= cs35l41_id_i2c,\n\t.probe\t\t= cs35l41_i2c_probe,\n\t.remove\t\t= cs35l41_i2c_remove,\n};\n\nmodule_i2c_driver(cs35l41_i2c_driver);\n\nMODULE_DESCRIPTION(\"I2C CS35L41 driver\");\nMODULE_AUTHOR(\"David Rhodes, Cirrus Logic Inc, <david.rhodes@cirrus.com>\");\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}