{
  "module_name": "cs42l42-i2c.c",
  "hash_id": "c2d8317da9abf22839642dd46ecc85cbe25d67794814644d7e3e857ec8d9378b",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/codecs/cs42l42-i2c.c",
  "human_readable_source": "\n \n\n#include <linux/i2c.h>\n#include <linux/module.h>\n#include <linux/regmap.h>\n#include <linux/slab.h>\n#include <linux/types.h>\n\n#include \"cs42l42.h\"\n\nstatic int cs42l42_i2c_probe(struct i2c_client *i2c_client)\n{\n\tstruct device *dev = &i2c_client->dev;\n\tstruct cs42l42_private *cs42l42;\n\tstruct regmap *regmap;\n\tint ret;\n\n\tcs42l42 = devm_kzalloc(dev, sizeof(*cs42l42), GFP_KERNEL);\n\tif (!cs42l42)\n\t\treturn -ENOMEM;\n\n\tregmap = devm_regmap_init_i2c(i2c_client, &cs42l42_regmap);\n\tif (IS_ERR(regmap))\n\t\treturn dev_err_probe(&i2c_client->dev, PTR_ERR(regmap),\n\t\t\t\t     \"regmap_init() failed\\n\");\n\n\tcs42l42->devid = CS42L42_CHIP_ID;\n\tcs42l42->dev = dev;\n\tcs42l42->regmap = regmap;\n\tcs42l42->irq = i2c_client->irq;\n\n\tret = cs42l42_common_probe(cs42l42, &cs42l42_soc_component, &cs42l42_dai);\n\tif (ret)\n\t\treturn ret;\n\n\treturn cs42l42_init(cs42l42);\n}\n\nstatic void cs42l42_i2c_remove(struct i2c_client *i2c_client)\n{\n\tstruct cs42l42_private *cs42l42 = dev_get_drvdata(&i2c_client->dev);\n\n\tcs42l42_common_remove(cs42l42);\n}\n\nstatic int __maybe_unused cs42l42_i2c_resume(struct device *dev)\n{\n\tint ret;\n\n\tret = cs42l42_resume(dev);\n\tif (ret)\n\t\treturn ret;\n\n\tcs42l42_resume_restore(dev);\n\n\treturn 0;\n}\n\nstatic const struct dev_pm_ops cs42l42_i2c_pm_ops = {\n\tSET_SYSTEM_SLEEP_PM_OPS(cs42l42_suspend, cs42l42_i2c_resume)\n};\n\nstatic const struct of_device_id __maybe_unused cs42l42_of_match[] = {\n\t{ .compatible = \"cirrus,cs42l42\", },\n\t{}\n};\nMODULE_DEVICE_TABLE(of, cs42l42_of_match);\n\nstatic const struct acpi_device_id __maybe_unused cs42l42_acpi_match[] = {\n\t{\"10134242\", 0,},\n\t{}\n};\nMODULE_DEVICE_TABLE(acpi, cs42l42_acpi_match);\n\nstatic const struct i2c_device_id cs42l42_id[] = {\n\t{\"cs42l42\", 0},\n\t{}\n};\n\nMODULE_DEVICE_TABLE(i2c, cs42l42_id);\n\nstatic struct i2c_driver cs42l42_i2c_driver = {\n\t.driver = {\n\t\t.name = \"cs42l42\",\n\t\t.pm = &cs42l42_i2c_pm_ops,\n\t\t.of_match_table = of_match_ptr(cs42l42_of_match),\n\t\t.acpi_match_table = ACPI_PTR(cs42l42_acpi_match),\n\t\t},\n\t.id_table = cs42l42_id,\n\t.probe = cs42l42_i2c_probe,\n\t.remove = cs42l42_i2c_remove,\n};\n\nmodule_i2c_driver(cs42l42_i2c_driver);\n\nMODULE_DESCRIPTION(\"ASoC CS42L42 I2C driver\");\nMODULE_AUTHOR(\"Richard Fitzgerald <rf@opensource.cirrus.com>\");\nMODULE_LICENSE(\"GPL\");\nMODULE_IMPORT_NS(SND_SOC_CS42L42_CORE);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}