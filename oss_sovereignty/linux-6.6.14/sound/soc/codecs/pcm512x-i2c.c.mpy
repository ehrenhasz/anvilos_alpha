{
  "module_name": "pcm512x-i2c.c",
  "hash_id": "8c824f8f6f60704dcb3b00d8b4232c22634ed7e83011afcaf254009192e4968e",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/codecs/pcm512x-i2c.c",
  "human_readable_source": "\n \n\n#include <linux/init.h>\n#include <linux/module.h>\n#include <linux/i2c.h>\n#include <linux/acpi.h>\n\n#include \"pcm512x.h\"\n\nstatic int pcm512x_i2c_probe(struct i2c_client *i2c)\n{\n\tstruct regmap *regmap;\n\tstruct regmap_config config = pcm512x_regmap;\n\n\t \n\tconfig.read_flag_mask = 0x80;\n\tconfig.write_flag_mask = 0x80;\n\n\tregmap = devm_regmap_init_i2c(i2c, &config);\n\tif (IS_ERR(regmap))\n\t\treturn PTR_ERR(regmap);\n\n\treturn pcm512x_probe(&i2c->dev, regmap);\n}\n\nstatic void pcm512x_i2c_remove(struct i2c_client *i2c)\n{\n\tpcm512x_remove(&i2c->dev);\n}\n\nstatic const struct i2c_device_id pcm512x_i2c_id[] = {\n\t{ \"pcm5121\", },\n\t{ \"pcm5122\", },\n\t{ \"pcm5141\", },\n\t{ \"pcm5142\", },\n\t{ }\n};\nMODULE_DEVICE_TABLE(i2c, pcm512x_i2c_id);\n\n#if defined(CONFIG_OF)\nstatic const struct of_device_id pcm512x_of_match[] = {\n\t{ .compatible = \"ti,pcm5121\", },\n\t{ .compatible = \"ti,pcm5122\", },\n\t{ .compatible = \"ti,pcm5141\", },\n\t{ .compatible = \"ti,pcm5142\", },\n\t{ }\n};\nMODULE_DEVICE_TABLE(of, pcm512x_of_match);\n#endif\n\n#ifdef CONFIG_ACPI\nstatic const struct acpi_device_id pcm512x_acpi_match[] = {\n\t{ \"104C5121\", 0 },\n\t{ \"104C5122\", 0 },\n\t{ \"104C5141\", 0 },\n\t{ \"104C5142\", 0 },\n\t{ },\n};\nMODULE_DEVICE_TABLE(acpi, pcm512x_acpi_match);\n#endif\n\nstatic struct i2c_driver pcm512x_i2c_driver = {\n\t.probe\t\t= pcm512x_i2c_probe,\n\t.remove \t= pcm512x_i2c_remove,\n\t.id_table\t= pcm512x_i2c_id,\n\t.driver\t\t= {\n\t\t.name\t= \"pcm512x\",\n\t\t.of_match_table = of_match_ptr(pcm512x_of_match),\n\t\t.acpi_match_table = ACPI_PTR(pcm512x_acpi_match),\n\t\t.pm     = &pcm512x_pm_ops,\n\t},\n};\n\nmodule_i2c_driver(pcm512x_i2c_driver);\n\nMODULE_DESCRIPTION(\"ASoC PCM512x codec driver - I2C\");\nMODULE_AUTHOR(\"Mark Brown <broonie@kernel.org>\");\nMODULE_LICENSE(\"GPL v2\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}