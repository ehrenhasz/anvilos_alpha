{
  "module_name": "lpass-rx-macro.c",
  "hash_id": "8d94a26119593a78a25e53e75f7910e913b5a1e21a7ba202bd4830a4f0d71ad8",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/codecs/lpass-rx-macro.c",
  "human_readable_source": "\n\n\n#include <linux/module.h>\n#include <linux/init.h>\n#include <linux/io.h>\n#include <linux/platform_device.h>\n#include <linux/pm_runtime.h>\n#include <linux/clk.h>\n#include <sound/soc.h>\n#include <sound/pcm.h>\n#include <sound/pcm_params.h>\n#include <sound/soc-dapm.h>\n#include <sound/tlv.h>\n#include <linux/of_clk.h>\n#include <linux/clk-provider.h>\n\n#include \"lpass-macro-common.h\"\n\n#define CDC_RX_TOP_TOP_CFG0\t\t(0x0000)\n#define CDC_RX_TOP_SWR_CTRL\t\t(0x0008)\n#define CDC_RX_TOP_DEBUG\t\t(0x000C)\n#define CDC_RX_TOP_DEBUG_BUS\t\t(0x0010)\n#define CDC_RX_TOP_DEBUG_EN0\t\t(0x0014)\n#define CDC_RX_TOP_DEBUG_EN1\t\t(0x0018)\n#define CDC_RX_TOP_DEBUG_EN2\t\t(0x001C)\n#define CDC_RX_TOP_HPHL_COMP_WR_LSB\t(0x0020)\n#define CDC_RX_TOP_HPHL_COMP_WR_MSB\t(0x0024)\n#define CDC_RX_TOP_HPHL_COMP_LUT\t(0x0028)\n#define CDC_RX_TOP_HPH_LUT_BYPASS_MASK\tBIT(7)\n#define CDC_RX_TOP_HPHL_COMP_RD_LSB\t(0x002C)\n#define CDC_RX_TOP_HPHL_COMP_RD_MSB\t(0x0030)\n#define CDC_RX_TOP_HPHR_COMP_WR_LSB\t(0x0034)\n#define CDC_RX_TOP_HPHR_COMP_WR_MSB\t(0x0038)\n#define CDC_RX_TOP_HPHR_COMP_LUT\t(0x003C)\n#define CDC_RX_TOP_HPHR_COMP_RD_LSB\t(0x0040)\n#define CDC_RX_TOP_HPHR_COMP_RD_MSB\t(0x0044)\n#define CDC_RX_TOP_DSD0_DEBUG_CFG0\t(0x0070)\n#define CDC_RX_TOP_DSD0_DEBUG_CFG1\t(0x0074)\n#define CDC_RX_TOP_DSD0_DEBUG_CFG2\t(0x0078)\n#define CDC_RX_TOP_DSD0_DEBUG_CFG3\t(0x007C)\n#define CDC_RX_TOP_DSD1_DEBUG_CFG0\t(0x0080)\n#define CDC_RX_TOP_DSD1_DEBUG_CFG1\t(0x0084)\n#define CDC_RX_TOP_DSD1_DEBUG_CFG2\t(0x0088)\n#define CDC_RX_TOP_DSD1_DEBUG_CFG3\t(0x008C)\n#define CDC_RX_TOP_RX_I2S_CTL\t\t(0x0090)\n#define CDC_RX_TOP_TX_I2S2_CTL\t\t(0x0094)\n#define CDC_RX_TOP_I2S_CLK\t\t(0x0098)\n#define CDC_RX_TOP_I2S_RESET\t\t(0x009C)\n#define CDC_RX_TOP_I2S_MUX\t\t(0x00A0)\n#define CDC_RX_CLK_RST_CTRL_MCLK_CONTROL\t(0x0100)\n#define CDC_RX_CLK_MCLK_EN_MASK\t\tBIT(0)\n#define CDC_RX_CLK_MCLK_ENABLE\t\tBIT(0)\n#define CDC_RX_CLK_MCLK2_EN_MASK\tBIT(1)\n#define CDC_RX_CLK_MCLK2_ENABLE\t\tBIT(1)\n#define CDC_RX_CLK_RST_CTRL_FS_CNT_CONTROL\t(0x0104)\n#define CDC_RX_FS_MCLK_CNT_EN_MASK\tBIT(0)\n#define CDC_RX_FS_MCLK_CNT_ENABLE\tBIT(0)\n#define CDC_RX_FS_MCLK_CNT_CLR_MASK\tBIT(1)\n#define CDC_RX_FS_MCLK_CNT_CLR\t\tBIT(1)\n#define CDC_RX_CLK_RST_CTRL_SWR_CONTROL\t(0x0108)\n#define CDC_RX_SWR_CLK_EN_MASK\t\tBIT(0)\n#define CDC_RX_SWR_RESET_MASK\t\tBIT(1)\n#define CDC_RX_SWR_RESET\t\tBIT(1)\n#define CDC_RX_CLK_RST_CTRL_DSD_CONTROL\t(0x010C)\n#define CDC_RX_CLK_RST_CTRL_ASRC_SHARE_CONTROL\t(0x0110)\n#define CDC_RX_SOFTCLIP_CRC\t\t(0x0140)\n#define CDC_RX_SOFTCLIP_CLK_EN_MASK\tBIT(0)\n#define CDC_RX_SOFTCLIP_SOFTCLIP_CTRL\t(0x0144)\n#define CDC_RX_SOFTCLIP_EN_MASK\t\tBIT(0)\n#define CDC_RX_INP_MUX_RX_INT0_CFG0\t(0x0180)\n#define CDC_RX_INTX_1_MIX_INP0_SEL_MASK\tGENMASK(3, 0)\n#define CDC_RX_INTX_1_MIX_INP1_SEL_MASK\tGENMASK(7, 4)\n#define CDC_RX_INP_MUX_RX_INT0_CFG1\t(0x0184)\n#define CDC_RX_INTX_2_SEL_MASK\t\tGENMASK(3, 0)\n#define CDC_RX_INTX_1_MIX_INP2_SEL_MASK\tGENMASK(7, 4)\n#define CDC_RX_INP_MUX_RX_INT1_CFG0\t(0x0188)\n#define CDC_RX_INP_MUX_RX_INT1_CFG1\t(0x018C)\n#define CDC_RX_INP_MUX_RX_INT2_CFG0\t(0x0190)\n#define CDC_RX_INP_MUX_RX_INT2_CFG1\t(0x0194)\n#define CDC_RX_INP_MUX_RX_MIX_CFG4\t(0x0198)\n#define CDC_RX_INP_MUX_RX_MIX_CFG5\t(0x019C)\n#define CDC_RX_INP_MUX_SIDETONE_SRC_CFG0\t(0x01A0)\n#define CDC_RX_CLSH_CRC\t\t\t(0x0200)\n#define CDC_RX_CLSH_CLK_EN_MASK\t\tBIT(0)\n#define CDC_RX_CLSH_DLY_CTRL\t\t(0x0204)\n#define CDC_RX_CLSH_DECAY_CTRL\t\t(0x0208)\n#define CDC_RX_CLSH_DECAY_RATE_MASK\tGENMASK(2, 0)\n#define CDC_RX_CLSH_HPH_V_PA\t\t(0x020C)\n#define CDC_RX_CLSH_HPH_V_PA_MIN_MASK\tGENMASK(5, 0)\n#define CDC_RX_CLSH_EAR_V_PA\t\t(0x0210)\n#define CDC_RX_CLSH_HPH_V_HD\t\t(0x0214)\n#define CDC_RX_CLSH_EAR_V_HD\t\t(0x0218)\n#define CDC_RX_CLSH_K1_MSB\t\t(0x021C)\n#define CDC_RX_CLSH_K1_MSB_COEFF_MASK\tGENMASK(3, 0)\n#define CDC_RX_CLSH_K1_LSB\t\t(0x0220)\n#define CDC_RX_CLSH_K2_MSB\t\t(0x0224)\n#define CDC_RX_CLSH_K2_LSB\t\t(0x0228)\n#define CDC_RX_CLSH_IDLE_CTRL\t\t(0x022C)\n#define CDC_RX_CLSH_IDLE_HPH\t\t(0x0230)\n#define CDC_RX_CLSH_IDLE_EAR\t\t(0x0234)\n#define CDC_RX_CLSH_TEST0\t\t(0x0238)\n#define CDC_RX_CLSH_TEST1\t\t(0x023C)\n#define CDC_RX_CLSH_OVR_VREF\t\t(0x0240)\n#define CDC_RX_CLSH_CLSG_CTL\t\t(0x0244)\n#define CDC_RX_CLSH_CLSG_CFG1\t\t(0x0248)\n#define CDC_RX_CLSH_CLSG_CFG2\t\t(0x024C)\n#define CDC_RX_BCL_VBAT_PATH_CTL\t(0x0280)\n#define CDC_RX_BCL_VBAT_CFG\t\t(0x0284)\n#define CDC_RX_BCL_VBAT_ADC_CAL1\t(0x0288)\n#define CDC_RX_BCL_VBAT_ADC_CAL2\t(0x028C)\n#define CDC_RX_BCL_VBAT_ADC_CAL3\t(0x0290)\n#define CDC_RX_BCL_VBAT_PK_EST1\t\t(0x0294)\n#define CDC_RX_BCL_VBAT_PK_EST2\t\t(0x0298)\n#define CDC_RX_BCL_VBAT_PK_EST3\t\t(0x029C)\n#define CDC_RX_BCL_VBAT_RF_PROC1\t(0x02A0)\n#define CDC_RX_BCL_VBAT_RF_PROC2\t(0x02A4)\n#define CDC_RX_BCL_VBAT_TAC1\t\t(0x02A8)\n#define CDC_RX_BCL_VBAT_TAC2\t\t(0x02AC)\n#define CDC_RX_BCL_VBAT_TAC3\t\t(0x02B0)\n#define CDC_RX_BCL_VBAT_TAC4\t\t(0x02B4)\n#define CDC_RX_BCL_VBAT_GAIN_UPD1\t(0x02B8)\n#define CDC_RX_BCL_VBAT_GAIN_UPD2\t(0x02BC)\n#define CDC_RX_BCL_VBAT_GAIN_UPD3\t(0x02C0)\n#define CDC_RX_BCL_VBAT_GAIN_UPD4\t(0x02C4)\n#define CDC_RX_BCL_VBAT_GAIN_UPD5\t(0x02C8)\n#define CDC_RX_BCL_VBAT_DEBUG1\t\t(0x02CC)\n#define CDC_RX_BCL_VBAT_GAIN_UPD_MON\t(0x02D0)\n#define CDC_RX_BCL_VBAT_GAIN_MON_VAL\t(0x02D4)\n#define CDC_RX_BCL_VBAT_BAN\t\t(0x02D8)\n#define CDC_RX_BCL_VBAT_BCL_GAIN_UPD1\t(0x02DC)\n#define CDC_RX_BCL_VBAT_BCL_GAIN_UPD2\t(0x02E0)\n#define CDC_RX_BCL_VBAT_BCL_GAIN_UPD3\t(0x02E4)\n#define CDC_RX_BCL_VBAT_BCL_GAIN_UPD4\t(0x02E8)\n#define CDC_RX_BCL_VBAT_BCL_GAIN_UPD5\t(0x02EC)\n#define CDC_RX_BCL_VBAT_BCL_GAIN_UPD6\t(0x02F0)\n#define CDC_RX_BCL_VBAT_BCL_GAIN_UPD7\t(0x02F4)\n#define CDC_RX_BCL_VBAT_BCL_GAIN_UPD8\t(0x02F8)\n#define CDC_RX_BCL_VBAT_BCL_GAIN_UPD9\t(0x02FC)\n#define CDC_RX_BCL_VBAT_ATTN1\t\t(0x0300)\n#define CDC_RX_BCL_VBAT_ATTN2\t\t(0x0304)\n#define CDC_RX_BCL_VBAT_ATTN3\t\t(0x0308)\n#define CDC_RX_BCL_VBAT_DECODE_CTL1\t(0x030C)\n#define CDC_RX_BCL_VBAT_DECODE_CTL2\t(0x0310)\n#define CDC_RX_BCL_VBAT_DECODE_CFG1\t(0x0314)\n#define CDC_RX_BCL_VBAT_DECODE_CFG2\t(0x0318)\n#define CDC_RX_BCL_VBAT_DECODE_CFG3\t(0x031C)\n#define CDC_RX_BCL_VBAT_DECODE_CFG4\t(0x0320)\n#define CDC_RX_BCL_VBAT_DECODE_ST\t(0x0324)\n#define CDC_RX_INTR_CTRL_CFG\t\t(0x0340)\n#define CDC_RX_INTR_CTRL_CLR_COMMIT\t(0x0344)\n#define CDC_RX_INTR_CTRL_PIN1_MASK0\t(0x0360)\n#define CDC_RX_INTR_CTRL_PIN1_STATUS0\t(0x0368)\n#define CDC_RX_INTR_CTRL_PIN1_CLEAR0\t(0x0370)\n#define CDC_RX_INTR_CTRL_PIN2_MASK0\t(0x0380)\n#define CDC_RX_INTR_CTRL_PIN2_STATUS0\t(0x0388)\n#define CDC_RX_INTR_CTRL_PIN2_CLEAR0\t(0x0390)\n#define CDC_RX_INTR_CTRL_LEVEL0\t\t(0x03C0)\n#define CDC_RX_INTR_CTRL_BYPASS0\t(0x03C8)\n#define CDC_RX_INTR_CTRL_SET0\t\t(0x03D0)\n#define CDC_RX_RXn_RX_PATH_CTL(n)\t(0x0400 + 0x80 * n)\n#define CDC_RX_RX0_RX_PATH_CTL\t\t(0x0400)\n#define CDC_RX_PATH_RESET_EN_MASK\tBIT(6)\n#define CDC_RX_PATH_CLK_EN_MASK\t\tBIT(5)\n#define CDC_RX_PATH_CLK_ENABLE\t\tBIT(5)\n#define CDC_RX_PATH_PGA_MUTE_MASK\tBIT(4)\n#define CDC_RX_PATH_PGA_MUTE_ENABLE\tBIT(4)\n#define CDC_RX_PATH_PCM_RATE_MASK\tGENMASK(3, 0)\n#define CDC_RX_RXn_RX_PATH_CFG0(n)\t(0x0404 + 0x80 * n)\n#define CDC_RX_RXn_COMP_EN_MASK\t\tBIT(1)\n#define CDC_RX_RX0_RX_PATH_CFG0\t\t(0x0404)\n#define CDC_RX_RXn_CLSH_EN_MASK\t\tBIT(6)\n#define CDC_RX_DLY_ZN_EN_MASK\t\tBIT(3)\n#define CDC_RX_DLY_ZN_ENABLE\t\tBIT(3)\n#define CDC_RX_RXn_HD2_EN_MASK\t\tBIT(2)\n#define CDC_RX_RXn_RX_PATH_CFG1(n)\t(0x0408 + 0x80 * n)\n#define CDC_RX_RXn_SIDETONE_EN_MASK\tBIT(4)\n#define CDC_RX_RX0_RX_PATH_CFG1\t\t(0x0408)\n#define CDC_RX_RX0_HPH_L_EAR_SEL_MASK\tBIT(1)\n#define CDC_RX_RXn_RX_PATH_CFG2(n)\t(0x040C + 0x80 * n)\n#define CDC_RX_RXn_HPF_CUT_FREQ_MASK\tGENMASK(1, 0)\n#define CDC_RX_RX0_RX_PATH_CFG2\t\t(0x040C)\n#define CDC_RX_RXn_RX_PATH_CFG3(n)\t(0x0410 + 0x80 * n)\n#define CDC_RX_RX0_RX_PATH_CFG3\t\t(0x0410)\n#define CDC_RX_DC_COEFF_SEL_MASK\tGENMASK(1, 0)\n#define CDC_RX_DC_COEFF_SEL_TWO\t\t0x2\n#define CDC_RX_RXn_RX_VOL_CTL(n)\t(0x0414 + 0x80 * n)\n#define CDC_RX_RX0_RX_VOL_CTL\t\t(0x0414)\n#define CDC_RX_RXn_RX_PATH_MIX_CTL(n)\t(0x0418 + 0x80 * n)\n#define CDC_RX_RXn_MIX_PCM_RATE_MASK\tGENMASK(3, 0)\n#define CDC_RX_RXn_MIX_RESET_MASK\tBIT(6)\n#define CDC_RX_RXn_MIX_RESET\t\tBIT(6)\n#define CDC_RX_RXn_MIX_CLK_EN_MASK\tBIT(5)\n#define CDC_RX_RX0_RX_PATH_MIX_CTL\t(0x0418)\n#define CDC_RX_RX0_RX_PATH_MIX_CFG\t(0x041C)\n#define CDC_RX_RXn_RX_VOL_MIX_CTL(n)\t(0x0420 + 0x80 * n)\n#define CDC_RX_RX0_RX_VOL_MIX_CTL\t(0x0420)\n#define CDC_RX_RX0_RX_PATH_SEC1\t\t(0x0424)\n#define CDC_RX_RX0_RX_PATH_SEC2\t\t(0x0428)\n#define CDC_RX_RX0_RX_PATH_SEC3\t\t(0x042C)\n#define CDC_RX_RX0_RX_PATH_SEC4\t\t(0x0430)\n#define CDC_RX_RX0_RX_PATH_SEC7\t\t(0x0434)\n#define CDC_RX_DSM_OUT_DELAY_SEL_MASK\tGENMASK(2, 0)\n#define CDC_RX_DSM_OUT_DELAY_TWO_SAMPLE\t0x2\n#define CDC_RX_RX0_RX_PATH_MIX_SEC0\t(0x0438)\n#define CDC_RX_RX0_RX_PATH_MIX_SEC1\t(0x043C)\n#define CDC_RX_RXn_RX_PATH_DSM_CTL(n)\t(0x0440 + 0x80 * n)\n#define CDC_RX_RXn_DSM_CLK_EN_MASK\tBIT(0)\n#define CDC_RX_RX0_RX_PATH_DSM_CTL\t(0x0440)\n#define CDC_RX_RX0_RX_PATH_DSM_DATA1\t(0x0444)\n#define CDC_RX_RX0_RX_PATH_DSM_DATA2\t(0x0448)\n#define CDC_RX_RX0_RX_PATH_DSM_DATA3\t(0x044C)\n#define CDC_RX_RX0_RX_PATH_DSM_DATA4\t(0x0450)\n#define CDC_RX_RX0_RX_PATH_DSM_DATA5\t(0x0454)\n#define CDC_RX_RX0_RX_PATH_DSM_DATA6\t(0x0458)\n#define CDC_RX_RX1_RX_PATH_CTL\t\t(0x0480)\n#define CDC_RX_RX1_RX_PATH_CFG0\t\t(0x0484)\n#define CDC_RX_RX1_RX_PATH_CFG1\t\t(0x0488)\n#define CDC_RX_RX1_RX_PATH_CFG2\t\t(0x048C)\n#define CDC_RX_RX1_RX_PATH_CFG3\t\t(0x0490)\n#define CDC_RX_RX1_RX_VOL_CTL\t\t(0x0494)\n#define CDC_RX_RX1_RX_PATH_MIX_CTL\t(0x0498)\n#define CDC_RX_RX1_RX_PATH_MIX_CFG\t(0x049C)\n#define CDC_RX_RX1_RX_VOL_MIX_CTL\t(0x04A0)\n#define CDC_RX_RX1_RX_PATH_SEC1\t\t(0x04A4)\n#define CDC_RX_RX1_RX_PATH_SEC2\t\t(0x04A8)\n#define CDC_RX_RX1_RX_PATH_SEC3\t\t(0x04AC)\n#define CDC_RX_RXn_HD2_ALPHA_MASK\tGENMASK(5, 2)\n#define CDC_RX_RX1_RX_PATH_SEC4\t\t(0x04B0)\n#define CDC_RX_RX1_RX_PATH_SEC7\t\t(0x04B4)\n#define CDC_RX_RX1_RX_PATH_MIX_SEC0\t(0x04B8)\n#define CDC_RX_RX1_RX_PATH_MIX_SEC1\t(0x04BC)\n#define CDC_RX_RX1_RX_PATH_DSM_CTL\t(0x04C0)\n#define CDC_RX_RX1_RX_PATH_DSM_DATA1\t(0x04C4)\n#define CDC_RX_RX1_RX_PATH_DSM_DATA2\t(0x04C8)\n#define CDC_RX_RX1_RX_PATH_DSM_DATA3\t(0x04CC)\n#define CDC_RX_RX1_RX_PATH_DSM_DATA4\t(0x04D0)\n#define CDC_RX_RX1_RX_PATH_DSM_DATA5\t(0x04D4)\n#define CDC_RX_RX1_RX_PATH_DSM_DATA6\t(0x04D8)\n#define CDC_RX_RX2_RX_PATH_CTL\t\t(0x0500)\n#define CDC_RX_RX2_RX_PATH_CFG0\t\t(0x0504)\n#define CDC_RX_RX2_CLSH_EN_MASK\t\tBIT(4)\n#define CDC_RX_RX2_DLY_Z_EN_MASK\tBIT(3)\n#define CDC_RX_RX2_RX_PATH_CFG1\t\t(0x0508)\n#define CDC_RX_RX2_RX_PATH_CFG2\t\t(0x050C)\n#define CDC_RX_RX2_RX_PATH_CFG3\t\t(0x0510)\n#define CDC_RX_RX2_RX_VOL_CTL\t\t(0x0514)\n#define CDC_RX_RX2_RX_PATH_MIX_CTL\t(0x0518)\n#define CDC_RX_RX2_RX_PATH_MIX_CFG\t(0x051C)\n#define CDC_RX_RX2_RX_VOL_MIX_CTL\t(0x0520)\n#define CDC_RX_RX2_RX_PATH_SEC0\t\t(0x0524)\n#define CDC_RX_RX2_RX_PATH_SEC1\t\t(0x0528)\n#define CDC_RX_RX2_RX_PATH_SEC2\t\t(0x052C)\n#define CDC_RX_RX2_RX_PATH_SEC3\t\t(0x0530)\n#define CDC_RX_RX2_RX_PATH_SEC4\t\t(0x0534)\n#define CDC_RX_RX2_RX_PATH_SEC5\t\t(0x0538)\n#define CDC_RX_RX2_RX_PATH_SEC6\t\t(0x053C)\n#define CDC_RX_RX2_RX_PATH_SEC7\t\t(0x0540)\n#define CDC_RX_RX2_RX_PATH_MIX_SEC0\t(0x0544)\n#define CDC_RX_RX2_RX_PATH_MIX_SEC1\t(0x0548)\n#define CDC_RX_RX2_RX_PATH_DSM_CTL\t(0x054C)\n#define CDC_RX_IDLE_DETECT_PATH_CTL\t(0x0780)\n#define CDC_RX_IDLE_DETECT_CFG0\t\t(0x0784)\n#define CDC_RX_IDLE_DETECT_CFG1\t\t(0x0788)\n#define CDC_RX_IDLE_DETECT_CFG2\t\t(0x078C)\n#define CDC_RX_IDLE_DETECT_CFG3\t\t(0x0790)\n#define CDC_RX_COMPANDERn_CTL0(n)\t(0x0800 + 0x40 * n)\n#define CDC_RX_COMPANDERn_CLK_EN_MASK\tBIT(0)\n#define CDC_RX_COMPANDERn_SOFT_RST_MASK\tBIT(1)\n#define CDC_RX_COMPANDERn_HALT_MASK\tBIT(2)\n#define CDC_RX_COMPANDER0_CTL0\t\t(0x0800)\n#define CDC_RX_COMPANDER0_CTL1\t\t(0x0804)\n#define CDC_RX_COMPANDER0_CTL2\t\t(0x0808)\n#define CDC_RX_COMPANDER0_CTL3\t\t(0x080C)\n#define CDC_RX_COMPANDER0_CTL4\t\t(0x0810)\n#define CDC_RX_COMPANDER0_CTL5\t\t(0x0814)\n#define CDC_RX_COMPANDER0_CTL6\t\t(0x0818)\n#define CDC_RX_COMPANDER0_CTL7\t\t(0x081C)\n#define CDC_RX_COMPANDER1_CTL0\t\t(0x0840)\n#define CDC_RX_COMPANDER1_CTL1\t\t(0x0844)\n#define CDC_RX_COMPANDER1_CTL2\t\t(0x0848)\n#define CDC_RX_COMPANDER1_CTL3\t\t(0x084C)\n#define CDC_RX_COMPANDER1_CTL4\t\t(0x0850)\n#define CDC_RX_COMPANDER1_CTL5\t\t(0x0854)\n#define CDC_RX_COMPANDER1_CTL6\t\t(0x0858)\n#define CDC_RX_COMPANDER1_CTL7\t\t(0x085C)\n#define CDC_RX_COMPANDER1_HPH_LOW_PWR_MODE_MASK\tBIT(5)\n#define CDC_RX_SIDETONE_IIR0_IIR_PATH_CTL\t(0x0A00)\n#define CDC_RX_SIDETONE_IIR0_IIR_GAIN_B1_CTL\t(0x0A04)\n#define CDC_RX_SIDETONE_IIR0_IIR_GAIN_B2_CTL\t(0x0A08)\n#define CDC_RX_SIDETONE_IIR0_IIR_GAIN_B3_CTL\t(0x0A0C)\n#define CDC_RX_SIDETONE_IIR0_IIR_GAIN_B4_CTL\t(0x0A10)\n#define CDC_RX_SIDETONE_IIR0_IIR_GAIN_B5_CTL\t(0x0A14)\n#define CDC_RX_SIDETONE_IIR0_IIR_GAIN_B6_CTL\t(0x0A18)\n#define CDC_RX_SIDETONE_IIR0_IIR_GAIN_B7_CTL\t(0x0A1C)\n#define CDC_RX_SIDETONE_IIR0_IIR_GAIN_B8_CTL\t(0x0A20)\n#define CDC_RX_SIDETONE_IIR0_IIR_CTL\t\t(0x0A24)\n#define CDC_RX_SIDETONE_IIR0_IIR_GAIN_TIMER_CTL\t(0x0A28)\n#define CDC_RX_SIDETONE_IIR0_IIR_COEF_B1_CTL\t(0x0A2C)\n#define CDC_RX_SIDETONE_IIR0_IIR_COEF_B2_CTL\t(0x0A30)\n#define CDC_RX_SIDETONE_IIR1_IIR_PATH_CTL\t(0x0A80)\n#define CDC_RX_SIDETONE_IIR1_IIR_GAIN_B1_CTL\t(0x0A84)\n#define CDC_RX_SIDETONE_IIR1_IIR_GAIN_B2_CTL\t(0x0A88)\n#define CDC_RX_SIDETONE_IIR1_IIR_GAIN_B3_CTL\t(0x0A8C)\n#define CDC_RX_SIDETONE_IIR1_IIR_GAIN_B4_CTL\t(0x0A90)\n#define CDC_RX_SIDETONE_IIR1_IIR_GAIN_B5_CTL\t(0x0A94)\n#define CDC_RX_SIDETONE_IIR1_IIR_GAIN_B6_CTL\t(0x0A98)\n#define CDC_RX_SIDETONE_IIR1_IIR_GAIN_B7_CTL\t(0x0A9C)\n#define CDC_RX_SIDETONE_IIR1_IIR_GAIN_B8_CTL\t(0x0AA0)\n#define CDC_RX_SIDETONE_IIR1_IIR_CTL\t\t(0x0AA4)\n#define CDC_RX_SIDETONE_IIR1_IIR_GAIN_TIMER_CTL\t(0x0AA8)\n#define CDC_RX_SIDETONE_IIR1_IIR_COEF_B1_CTL\t(0x0AAC)\n#define CDC_RX_SIDETONE_IIR1_IIR_COEF_B2_CTL\t(0x0AB0)\n#define CDC_RX_IIR_INP_MUX_IIR0_MIX_CFG0\t(0x0B00)\n#define CDC_RX_IIR_INP_MUX_IIR0_MIX_CFG1\t(0x0B04)\n#define CDC_RX_IIR_INP_MUX_IIR0_MIX_CFG2\t(0x0B08)\n#define CDC_RX_IIR_INP_MUX_IIR0_MIX_CFG3\t(0x0B0C)\n#define CDC_RX_IIR_INP_MUX_IIR1_MIX_CFG0\t(0x0B10)\n#define CDC_RX_IIR_INP_MUX_IIR1_MIX_CFG1\t(0x0B14)\n#define CDC_RX_IIR_INP_MUX_IIR1_MIX_CFG2\t(0x0B18)\n#define CDC_RX_IIR_INP_MUX_IIR1_MIX_CFG3\t(0x0B1C)\n#define CDC_RX_SIDETONE_SRC0_ST_SRC_PATH_CTL\t(0x0B40)\n#define CDC_RX_SIDETONE_SRC0_ST_SRC_PATH_CFG1\t(0x0B44)\n#define CDC_RX_SIDETONE_SRC1_ST_SRC_PATH_CTL\t(0x0B50)\n#define CDC_RX_SIDETONE_SRC1_ST_SRC_PATH_CFG1\t(0x0B54)\n#define CDC_RX_EC_REF_HQ0_EC_REF_HQ_PATH_CTL\t(0x0C00)\n#define CDC_RX_EC_REF_HQ0_EC_REF_HQ_CFG0\t(0x0C04)\n#define CDC_RX_EC_REF_HQ1_EC_REF_HQ_PATH_CTL\t(0x0C40)\n#define CDC_RX_EC_REF_HQ1_EC_REF_HQ_CFG0\t(0x0C44)\n#define CDC_RX_EC_REF_HQ2_EC_REF_HQ_PATH_CTL\t(0x0C80)\n#define CDC_RX_EC_REF_HQ2_EC_REF_HQ_CFG0\t(0x0C84)\n#define CDC_RX_EC_ASRC0_CLK_RST_CTL\t\t(0x0D00)\n#define CDC_RX_EC_ASRC0_CTL0\t\t\t(0x0D04)\n#define CDC_RX_EC_ASRC0_CTL1\t\t\t(0x0D08)\n#define CDC_RX_EC_ASRC0_FIFO_CTL\t\t(0x0D0C)\n#define CDC_RX_EC_ASRC0_STATUS_FMIN_CNTR_LSB\t(0x0D10)\n#define CDC_RX_EC_ASRC0_STATUS_FMIN_CNTR_MSB\t(0x0D14)\n#define CDC_RX_EC_ASRC0_STATUS_FMAX_CNTR_LSB\t(0x0D18)\n#define CDC_RX_EC_ASRC0_STATUS_FMAX_CNTR_MSB\t(0x0D1C)\n#define CDC_RX_EC_ASRC0_STATUS_FIFO\t\t(0x0D20)\n#define CDC_RX_EC_ASRC1_CLK_RST_CTL\t\t(0x0D40)\n#define CDC_RX_EC_ASRC1_CTL0\t\t\t(0x0D44)\n#define CDC_RX_EC_ASRC1_CTL1\t\t\t(0x0D48)\n#define CDC_RX_EC_ASRC1_FIFO_CTL\t\t(0x0D4C)\n#define CDC_RX_EC_ASRC1_STATUS_FMIN_CNTR_LSB\t(0x0D50)\n#define CDC_RX_EC_ASRC1_STATUS_FMIN_CNTR_MSB\t(0x0D54)\n#define CDC_RX_EC_ASRC1_STATUS_FMAX_CNTR_LSB\t(0x0D58)\n#define CDC_RX_EC_ASRC1_STATUS_FMAX_CNTR_MSB\t(0x0D5C)\n#define CDC_RX_EC_ASRC1_STATUS_FIFO\t\t(0x0D60)\n#define CDC_RX_EC_ASRC2_CLK_RST_CTL\t\t(0x0D80)\n#define CDC_RX_EC_ASRC2_CTL0\t\t\t(0x0D84)\n#define CDC_RX_EC_ASRC2_CTL1\t\t\t(0x0D88)\n#define CDC_RX_EC_ASRC2_FIFO_CTL\t\t(0x0D8C)\n#define CDC_RX_EC_ASRC2_STATUS_FMIN_CNTR_LSB\t(0x0D90)\n#define CDC_RX_EC_ASRC2_STATUS_FMIN_CNTR_MSB\t(0x0D94)\n#define CDC_RX_EC_ASRC2_STATUS_FMAX_CNTR_LSB\t(0x0D98)\n#define CDC_RX_EC_ASRC2_STATUS_FMAX_CNTR_MSB\t(0x0D9C)\n#define CDC_RX_EC_ASRC2_STATUS_FIFO\t\t(0x0DA0)\n#define CDC_RX_DSD0_PATH_CTL\t\t\t(0x0F00)\n#define CDC_RX_DSD0_CFG0\t\t\t(0x0F04)\n#define CDC_RX_DSD0_CFG1\t\t\t(0x0F08)\n#define CDC_RX_DSD0_CFG2\t\t\t(0x0F0C)\n#define CDC_RX_DSD1_PATH_CTL\t\t\t(0x0F80)\n#define CDC_RX_DSD1_CFG0\t\t\t(0x0F84)\n#define CDC_RX_DSD1_CFG1\t\t\t(0x0F88)\n#define CDC_RX_DSD1_CFG2\t\t\t(0x0F8C)\n#define RX_MAX_OFFSET\t\t\t\t(0x0F8C)\n\n#define MCLK_FREQ\t\t19200000\n\n#define RX_MACRO_RATES (SNDRV_PCM_RATE_8000 | SNDRV_PCM_RATE_16000 |\\\n\t\t\tSNDRV_PCM_RATE_32000 | SNDRV_PCM_RATE_48000 |\\\n\t\t\tSNDRV_PCM_RATE_96000 | SNDRV_PCM_RATE_192000 |\\\n\t\t\tSNDRV_PCM_RATE_384000)\n \n#define RX_MACRO_FRAC_RATES (SNDRV_PCM_RATE_44100 | SNDRV_PCM_RATE_88200 |\\\n\t\t\t\tSNDRV_PCM_RATE_176400 | SNDRV_PCM_RATE_352800)\n\n#define RX_MACRO_FORMATS (SNDRV_PCM_FMTBIT_S16_LE |\\\n\t\tSNDRV_PCM_FMTBIT_S24_LE |\\\n\t\tSNDRV_PCM_FMTBIT_S24_3LE | SNDRV_PCM_FMTBIT_S32_LE)\n\n#define RX_MACRO_ECHO_RATES (SNDRV_PCM_RATE_8000 | SNDRV_PCM_RATE_16000 |\\\n\t\t\tSNDRV_PCM_RATE_48000)\n#define RX_MACRO_ECHO_FORMATS (SNDRV_PCM_FMTBIT_S16_LE |\\\n\t\tSNDRV_PCM_FMTBIT_S24_LE |\\\n\t\tSNDRV_PCM_FMTBIT_S24_3LE)\n\n#define RX_MACRO_MAX_DMA_CH_PER_PORT 2\n\n#define RX_MACRO_EC_MIX_TX0_MASK 0xf0\n#define RX_MACRO_EC_MIX_TX1_MASK 0x0f\n#define RX_MACRO_EC_MIX_TX2_MASK 0x0f\n\n#define COMP_MAX_COEFF 25\n#define RX_NUM_CLKS_MAX\t5\n\nstruct comp_coeff_val {\n\tu8 lsb;\n\tu8 msb;\n};\n\nenum {\n\tHPH_ULP,\n\tHPH_LOHIFI,\n\tHPH_MODE_MAX,\n};\n\nstatic const struct comp_coeff_val comp_coeff_table[HPH_MODE_MAX][COMP_MAX_COEFF] = {\n\t{\n\t\t{0x40, 0x00},\n\t\t{0x4C, 0x00},\n\t\t{0x5A, 0x00},\n\t\t{0x6B, 0x00},\n\t\t{0x7F, 0x00},\n\t\t{0x97, 0x00},\n\t\t{0xB3, 0x00},\n\t\t{0xD5, 0x00},\n\t\t{0xFD, 0x00},\n\t\t{0x2D, 0x01},\n\t\t{0x66, 0x01},\n\t\t{0xA7, 0x01},\n\t\t{0xF8, 0x01},\n\t\t{0x57, 0x02},\n\t\t{0xC7, 0x02},\n\t\t{0x4B, 0x03},\n\t\t{0xE9, 0x03},\n\t\t{0xA3, 0x04},\n\t\t{0x7D, 0x05},\n\t\t{0x90, 0x06},\n\t\t{0xD1, 0x07},\n\t\t{0x49, 0x09},\n\t\t{0x00, 0x0B},\n\t\t{0x01, 0x0D},\n\t\t{0x59, 0x0F},\n\t},\n\t{\n\t\t{0x40, 0x00},\n\t\t{0x4C, 0x00},\n\t\t{0x5A, 0x00},\n\t\t{0x6B, 0x00},\n\t\t{0x80, 0x00},\n\t\t{0x98, 0x00},\n\t\t{0xB4, 0x00},\n\t\t{0xD5, 0x00},\n\t\t{0xFE, 0x00},\n\t\t{0x2E, 0x01},\n\t\t{0x66, 0x01},\n\t\t{0xA9, 0x01},\n\t\t{0xF8, 0x01},\n\t\t{0x56, 0x02},\n\t\t{0xC4, 0x02},\n\t\t{0x4F, 0x03},\n\t\t{0xF0, 0x03},\n\t\t{0xAE, 0x04},\n\t\t{0x8B, 0x05},\n\t\t{0x8E, 0x06},\n\t\t{0xBC, 0x07},\n\t\t{0x56, 0x09},\n\t\t{0x0F, 0x0B},\n\t\t{0x13, 0x0D},\n\t\t{0x6F, 0x0F},\n\t},\n};\n\nstruct rx_macro_reg_mask_val {\n\tu16 reg;\n\tu8 mask;\n\tu8 val;\n};\n\nenum {\n\tINTERP_HPHL,\n\tINTERP_HPHR,\n\tINTERP_AUX,\n\tINTERP_MAX\n};\n\nenum {\n\tRX_MACRO_RX0,\n\tRX_MACRO_RX1,\n\tRX_MACRO_RX2,\n\tRX_MACRO_RX3,\n\tRX_MACRO_RX4,\n\tRX_MACRO_RX5,\n\tRX_MACRO_PORTS_MAX\n};\n\nenum {\n\tRX_MACRO_COMP1,  \n\tRX_MACRO_COMP2,  \n\tRX_MACRO_COMP_MAX\n};\n\nenum {\n\tRX_MACRO_EC0_MUX = 0,\n\tRX_MACRO_EC1_MUX,\n\tRX_MACRO_EC2_MUX,\n\tRX_MACRO_EC_MUX_MAX,\n};\n\nenum {\n\tINTn_1_INP_SEL_ZERO = 0,\n\tINTn_1_INP_SEL_DEC0,\n\tINTn_1_INP_SEL_DEC1,\n\tINTn_1_INP_SEL_IIR0,\n\tINTn_1_INP_SEL_IIR1,\n\tINTn_1_INP_SEL_RX0,\n\tINTn_1_INP_SEL_RX1,\n\tINTn_1_INP_SEL_RX2,\n\tINTn_1_INP_SEL_RX3,\n\tINTn_1_INP_SEL_RX4,\n\tINTn_1_INP_SEL_RX5,\n};\n\nenum {\n\tINTn_2_INP_SEL_ZERO = 0,\n\tINTn_2_INP_SEL_RX0,\n\tINTn_2_INP_SEL_RX1,\n\tINTn_2_INP_SEL_RX2,\n\tINTn_2_INP_SEL_RX3,\n\tINTn_2_INP_SEL_RX4,\n\tINTn_2_INP_SEL_RX5,\n};\n\nenum {\n\tINTERP_MAIN_PATH,\n\tINTERP_MIX_PATH,\n};\n\n \nenum {\n\tIIR0 = 0,\n\tIIR1,\n\tIIR_MAX,\n};\n\n \nenum {\n\tBAND1 = 0,\n\tBAND2,\n\tBAND3,\n\tBAND4,\n\tBAND5,\n\tBAND_MAX,\n};\n\n#define RX_MACRO_IIR_FILTER_SIZE\t(sizeof(u32) * BAND_MAX)\n\n#define RX_MACRO_IIR_FILTER_CTL(xname, iidx, bidx) \\\n{ \\\n\t.iface = SNDRV_CTL_ELEM_IFACE_MIXER, .name = xname, \\\n\t.info = rx_macro_iir_filter_info, \\\n\t.get = rx_macro_get_iir_band_audio_mixer, \\\n\t.put = rx_macro_put_iir_band_audio_mixer, \\\n\t.private_value = (unsigned long)&(struct wcd_iir_filter_ctl) { \\\n\t\t.iir_idx = iidx, \\\n\t\t.band_idx = bidx, \\\n\t\t.bytes_ext = {.max = RX_MACRO_IIR_FILTER_SIZE, }, \\\n\t} \\\n}\n\nstruct interp_sample_rate {\n\tint sample_rate;\n\tint rate_val;\n};\n\nstatic struct interp_sample_rate sr_val_tbl[] = {\n\t{8000, 0x0}, {16000, 0x1}, {32000, 0x3}, {48000, 0x4}, {96000, 0x5},\n\t{192000, 0x6}, {384000, 0x7}, {44100, 0x9}, {88200, 0xA},\n\t{176400, 0xB}, {352800, 0xC},\n};\n\nenum {\n\tRX_MACRO_AIF_INVALID = 0,\n\tRX_MACRO_AIF1_PB,\n\tRX_MACRO_AIF2_PB,\n\tRX_MACRO_AIF3_PB,\n\tRX_MACRO_AIF4_PB,\n\tRX_MACRO_AIF_ECHO,\n\tRX_MACRO_MAX_DAIS,\n};\n\nenum {\n\tRX_MACRO_AIF1_CAP = 0,\n\tRX_MACRO_AIF2_CAP,\n\tRX_MACRO_AIF3_CAP,\n\tRX_MACRO_MAX_AIF_CAP_DAIS\n};\n\nstruct rx_macro {\n\tstruct device *dev;\n\tint comp_enabled[RX_MACRO_COMP_MAX];\n\t \n\tint main_clk_users[INTERP_MAX];\n\tint rx_port_value[RX_MACRO_PORTS_MAX];\n\tu16 prim_int_users[INTERP_MAX];\n\tint rx_mclk_users;\n\tint clsh_users;\n\tint rx_mclk_cnt;\n\tbool is_ear_mode_on;\n\tbool hph_pwr_mode;\n\tbool hph_hd2_mode;\n\tstruct snd_soc_component *component;\n\tunsigned long active_ch_mask[RX_MACRO_MAX_DAIS];\n\tunsigned long active_ch_cnt[RX_MACRO_MAX_DAIS];\n\tu16 bit_width[RX_MACRO_MAX_DAIS];\n\tint is_softclip_on;\n\tint is_aux_hpf_on;\n\tint softclip_clk_users;\n\tstruct lpass_macro *pds;\n\tstruct regmap *regmap;\n\tstruct clk *mclk;\n\tstruct clk *npl;\n\tstruct clk *macro;\n\tstruct clk *dcodec;\n\tstruct clk *fsgen;\n\tstruct clk_hw hw;\n};\n#define to_rx_macro(_hw) container_of(_hw, struct rx_macro, hw)\n\nstruct wcd_iir_filter_ctl {\n\tunsigned int iir_idx;\n\tunsigned int band_idx;\n\tstruct soc_bytes_ext bytes_ext;\n};\n\nstatic const DECLARE_TLV_DB_SCALE(digital_gain, -8400, 100, -8400);\n\nstatic const char * const rx_int_mix_mux_text[] = {\n\t\"ZERO\", \"RX0\", \"RX1\", \"RX2\", \"RX3\", \"RX4\", \"RX5\"\n};\n\nstatic const char * const rx_prim_mix_text[] = {\n\t\"ZERO\", \"DEC0\", \"DEC1\", \"IIR0\", \"IIR1\", \"RX0\", \"RX1\", \"RX2\",\n\t\"RX3\", \"RX4\", \"RX5\"\n};\n\nstatic const char * const rx_sidetone_mix_text[] = {\n\t\"ZERO\", \"SRC0\", \"SRC1\", \"SRC_SUM\"\n};\n\nstatic const char * const iir_inp_mux_text[] = {\n\t\"ZERO\", \"DEC0\", \"DEC1\", \"DEC2\", \"DEC3\",\n\t\"RX0\", \"RX1\", \"RX2\", \"RX3\", \"RX4\", \"RX5\"\n};\n\nstatic const char * const rx_int_dem_inp_mux_text[] = {\n\t\"NORMAL_DSM_OUT\", \"CLSH_DSM_OUT\",\n};\n\nstatic const char * const rx_int0_1_interp_mux_text[] = {\n\t\"ZERO\", \"RX INT0_1 MIX1\",\n};\n\nstatic const char * const rx_int1_1_interp_mux_text[] = {\n\t\"ZERO\", \"RX INT1_1 MIX1\",\n};\n\nstatic const char * const rx_int2_1_interp_mux_text[] = {\n\t\"ZERO\", \"RX INT2_1 MIX1\",\n};\n\nstatic const char * const rx_int0_2_interp_mux_text[] = {\n\t\"ZERO\", \"RX INT0_2 MUX\",\n};\n\nstatic const char * const rx_int1_2_interp_mux_text[] = {\n\t\"ZERO\", \"RX INT1_2 MUX\",\n};\n\nstatic const char * const rx_int2_2_interp_mux_text[] = {\n\t\"ZERO\", \"RX INT2_2 MUX\",\n};\n\nstatic const char *const rx_macro_mux_text[] = {\n\t\"ZERO\", \"AIF1_PB\", \"AIF2_PB\", \"AIF3_PB\", \"AIF4_PB\"\n};\n\nstatic const char *const rx_macro_hph_pwr_mode_text[] = {\n\t\"ULP\", \"LOHIFI\"\n};\n\nstatic const char * const rx_echo_mux_text[] = {\n\t\"ZERO\", \"RX_MIX0\", \"RX_MIX1\", \"RX_MIX2\"\n};\n\nstatic const struct soc_enum rx_macro_hph_pwr_mode_enum =\n\t\tSOC_ENUM_SINGLE_EXT(2, rx_macro_hph_pwr_mode_text);\nstatic const struct soc_enum rx_mix_tx2_mux_enum =\n\t\tSOC_ENUM_SINGLE(CDC_RX_INP_MUX_RX_MIX_CFG5, 0, 4, rx_echo_mux_text);\nstatic const struct soc_enum rx_mix_tx1_mux_enum =\n\t\tSOC_ENUM_SINGLE(CDC_RX_INP_MUX_RX_MIX_CFG4, 0, 4, rx_echo_mux_text);\nstatic const struct soc_enum rx_mix_tx0_mux_enum =\n\t\tSOC_ENUM_SINGLE(CDC_RX_INP_MUX_RX_MIX_CFG4, 4, 4, rx_echo_mux_text);\n\nstatic SOC_ENUM_SINGLE_DECL(rx_int0_2_enum, CDC_RX_INP_MUX_RX_INT0_CFG1, 0,\n\t\t\t    rx_int_mix_mux_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_int1_2_enum, CDC_RX_INP_MUX_RX_INT1_CFG1, 0,\n\t\t\t    rx_int_mix_mux_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_int2_2_enum, CDC_RX_INP_MUX_RX_INT2_CFG1, 0,\n\t\t\t    rx_int_mix_mux_text);\n\nstatic SOC_ENUM_SINGLE_DECL(rx_int0_1_mix_inp0_enum, CDC_RX_INP_MUX_RX_INT0_CFG0, 0,\n\t\t\t    rx_prim_mix_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_int0_1_mix_inp1_enum, CDC_RX_INP_MUX_RX_INT0_CFG0, 4,\n\t\t\t    rx_prim_mix_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_int0_1_mix_inp2_enum, CDC_RX_INP_MUX_RX_INT0_CFG1, 4,\n\t\t\t    rx_prim_mix_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_int1_1_mix_inp0_enum, CDC_RX_INP_MUX_RX_INT1_CFG0, 0,\n\t\t\t    rx_prim_mix_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_int1_1_mix_inp1_enum, CDC_RX_INP_MUX_RX_INT1_CFG0, 4,\n\t\t\t    rx_prim_mix_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_int1_1_mix_inp2_enum, CDC_RX_INP_MUX_RX_INT1_CFG1, 4,\n\t\t\t    rx_prim_mix_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_int2_1_mix_inp0_enum, CDC_RX_INP_MUX_RX_INT2_CFG0, 0,\n\t\t\t    rx_prim_mix_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_int2_1_mix_inp1_enum, CDC_RX_INP_MUX_RX_INT2_CFG0, 4,\n\t\t\t    rx_prim_mix_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_int2_1_mix_inp2_enum, CDC_RX_INP_MUX_RX_INT2_CFG1, 4,\n\t\t\t    rx_prim_mix_text);\n\nstatic SOC_ENUM_SINGLE_DECL(rx_int0_mix2_inp_enum, CDC_RX_INP_MUX_SIDETONE_SRC_CFG0, 2,\n\t\t\t    rx_sidetone_mix_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_int1_mix2_inp_enum, CDC_RX_INP_MUX_SIDETONE_SRC_CFG0, 4,\n\t\t\t    rx_sidetone_mix_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_int2_mix2_inp_enum, CDC_RX_INP_MUX_SIDETONE_SRC_CFG0, 6,\n\t\t\t    rx_sidetone_mix_text);\nstatic SOC_ENUM_SINGLE_DECL(iir0_inp0_enum, CDC_RX_IIR_INP_MUX_IIR0_MIX_CFG0, 0,\n\t\t\t    iir_inp_mux_text);\nstatic SOC_ENUM_SINGLE_DECL(iir0_inp1_enum, CDC_RX_IIR_INP_MUX_IIR0_MIX_CFG1, 0,\n\t\t\t    iir_inp_mux_text);\nstatic SOC_ENUM_SINGLE_DECL(iir0_inp2_enum, CDC_RX_IIR_INP_MUX_IIR0_MIX_CFG2, 0,\n\t\t\t    iir_inp_mux_text);\nstatic SOC_ENUM_SINGLE_DECL(iir0_inp3_enum, CDC_RX_IIR_INP_MUX_IIR0_MIX_CFG3, 0,\n\t\t\t    iir_inp_mux_text);\nstatic SOC_ENUM_SINGLE_DECL(iir1_inp0_enum, CDC_RX_IIR_INP_MUX_IIR1_MIX_CFG0, 0,\n\t\t\t    iir_inp_mux_text);\nstatic SOC_ENUM_SINGLE_DECL(iir1_inp1_enum, CDC_RX_IIR_INP_MUX_IIR1_MIX_CFG1, 0,\n\t\t\t    iir_inp_mux_text);\nstatic SOC_ENUM_SINGLE_DECL(iir1_inp2_enum, CDC_RX_IIR_INP_MUX_IIR1_MIX_CFG2, 0,\n\t\t\t    iir_inp_mux_text);\nstatic SOC_ENUM_SINGLE_DECL(iir1_inp3_enum, CDC_RX_IIR_INP_MUX_IIR1_MIX_CFG3, 0,\n\t\t\t    iir_inp_mux_text);\n\nstatic SOC_ENUM_SINGLE_DECL(rx_int0_1_interp_enum, SND_SOC_NOPM, 0,\n\t\t\t    rx_int0_1_interp_mux_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_int1_1_interp_enum, SND_SOC_NOPM, 0,\n\t\t\t    rx_int1_1_interp_mux_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_int2_1_interp_enum, SND_SOC_NOPM, 0,\n\t\t\t    rx_int2_1_interp_mux_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_int0_2_interp_enum, SND_SOC_NOPM, 0,\n\t\t\t    rx_int0_2_interp_mux_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_int1_2_interp_enum, SND_SOC_NOPM, 0,\n\t\t\t    rx_int1_2_interp_mux_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_int2_2_interp_enum, SND_SOC_NOPM, 0,\n\t\t\t    rx_int2_2_interp_mux_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_int0_dem_inp_enum, CDC_RX_RX0_RX_PATH_CFG1, 0,\n\t\t\t    rx_int_dem_inp_mux_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_int1_dem_inp_enum, CDC_RX_RX1_RX_PATH_CFG1, 0,\n\t\t\t    rx_int_dem_inp_mux_text);\n\nstatic SOC_ENUM_SINGLE_DECL(rx_macro_rx0_enum, SND_SOC_NOPM, 0, rx_macro_mux_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_macro_rx1_enum, SND_SOC_NOPM, 0, rx_macro_mux_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_macro_rx2_enum, SND_SOC_NOPM, 0, rx_macro_mux_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_macro_rx3_enum, SND_SOC_NOPM, 0, rx_macro_mux_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_macro_rx4_enum, SND_SOC_NOPM, 0, rx_macro_mux_text);\nstatic SOC_ENUM_SINGLE_DECL(rx_macro_rx5_enum, SND_SOC_NOPM, 0, rx_macro_mux_text);\n\nstatic const struct snd_kcontrol_new rx_mix_tx1_mux =\n\t\tSOC_DAPM_ENUM(\"RX MIX TX1_MUX Mux\", rx_mix_tx1_mux_enum);\nstatic const struct snd_kcontrol_new rx_mix_tx2_mux = \n\t\tSOC_DAPM_ENUM(\"RX MIX TX2_MUX Mux\", rx_mix_tx2_mux_enum);\nstatic const struct snd_kcontrol_new rx_int0_2_mux =\n\t\tSOC_DAPM_ENUM(\"rx_int0_2\", rx_int0_2_enum);\nstatic const struct snd_kcontrol_new rx_int1_2_mux =\n\t\tSOC_DAPM_ENUM(\"rx_int1_2\", rx_int1_2_enum);\nstatic const struct snd_kcontrol_new rx_int2_2_mux =\n\t\tSOC_DAPM_ENUM(\"rx_int2_2\", rx_int2_2_enum);\nstatic const struct snd_kcontrol_new rx_int0_1_mix_inp0_mux =\n\t\tSOC_DAPM_ENUM(\"rx_int0_1_mix_inp0\", rx_int0_1_mix_inp0_enum);\nstatic const struct snd_kcontrol_new rx_int0_1_mix_inp1_mux =\n\t\tSOC_DAPM_ENUM(\"rx_int0_1_mix_inp1\", rx_int0_1_mix_inp1_enum);\nstatic const struct snd_kcontrol_new rx_int0_1_mix_inp2_mux =\n\t\tSOC_DAPM_ENUM(\"rx_int0_1_mix_inp2\", rx_int0_1_mix_inp2_enum);\nstatic const struct snd_kcontrol_new rx_int1_1_mix_inp0_mux =\n\t\tSOC_DAPM_ENUM(\"rx_int1_1_mix_inp0\", rx_int1_1_mix_inp0_enum);\nstatic const struct snd_kcontrol_new rx_int1_1_mix_inp1_mux =\n\t\tSOC_DAPM_ENUM(\"rx_int1_1_mix_inp1\", rx_int1_1_mix_inp1_enum);\nstatic const struct snd_kcontrol_new rx_int1_1_mix_inp2_mux =\n\t\tSOC_DAPM_ENUM(\"rx_int1_1_mix_inp2\", rx_int1_1_mix_inp2_enum);\nstatic const struct snd_kcontrol_new rx_int2_1_mix_inp0_mux =\n\t\tSOC_DAPM_ENUM(\"rx_int2_1_mix_inp0\", rx_int2_1_mix_inp0_enum);\nstatic const struct snd_kcontrol_new rx_int2_1_mix_inp1_mux =\n\t\tSOC_DAPM_ENUM(\"rx_int2_1_mix_inp1\", rx_int2_1_mix_inp1_enum);\nstatic const struct snd_kcontrol_new rx_int2_1_mix_inp2_mux =\n\t\tSOC_DAPM_ENUM(\"rx_int2_1_mix_inp2\", rx_int2_1_mix_inp2_enum);\nstatic const struct snd_kcontrol_new rx_int0_mix2_inp_mux =\n\t\tSOC_DAPM_ENUM(\"rx_int0_mix2_inp\", rx_int0_mix2_inp_enum);\nstatic const struct snd_kcontrol_new rx_int1_mix2_inp_mux =\n\t\tSOC_DAPM_ENUM(\"rx_int1_mix2_inp\", rx_int1_mix2_inp_enum);\nstatic const struct snd_kcontrol_new rx_int2_mix2_inp_mux =\n\t\tSOC_DAPM_ENUM(\"rx_int2_mix2_inp\", rx_int2_mix2_inp_enum);\nstatic const struct snd_kcontrol_new iir0_inp0_mux =\n\t\tSOC_DAPM_ENUM(\"iir0_inp0\", iir0_inp0_enum);\nstatic const struct snd_kcontrol_new iir0_inp1_mux =\n\t\tSOC_DAPM_ENUM(\"iir0_inp1\", iir0_inp1_enum);\nstatic const struct snd_kcontrol_new iir0_inp2_mux =\n\t\tSOC_DAPM_ENUM(\"iir0_inp2\", iir0_inp2_enum);\nstatic const struct snd_kcontrol_new iir0_inp3_mux =\n\t\tSOC_DAPM_ENUM(\"iir0_inp3\", iir0_inp3_enum);\nstatic const struct snd_kcontrol_new iir1_inp0_mux =\n\t\tSOC_DAPM_ENUM(\"iir1_inp0\", iir1_inp0_enum);\nstatic const struct snd_kcontrol_new iir1_inp1_mux =\n\t\tSOC_DAPM_ENUM(\"iir1_inp1\", iir1_inp1_enum);\nstatic const struct snd_kcontrol_new iir1_inp2_mux =\n\t\tSOC_DAPM_ENUM(\"iir1_inp2\", iir1_inp2_enum);\nstatic const struct snd_kcontrol_new iir1_inp3_mux =\n\t\tSOC_DAPM_ENUM(\"iir1_inp3\", iir1_inp3_enum);\nstatic const struct snd_kcontrol_new rx_int0_1_interp_mux =\n\t\tSOC_DAPM_ENUM(\"rx_int0_1_interp\", rx_int0_1_interp_enum);\nstatic const struct snd_kcontrol_new rx_int1_1_interp_mux =\n\t\tSOC_DAPM_ENUM(\"rx_int1_1_interp\", rx_int1_1_interp_enum);\nstatic const struct snd_kcontrol_new rx_int2_1_interp_mux =\n\t\tSOC_DAPM_ENUM(\"rx_int2_1_interp\", rx_int2_1_interp_enum);\nstatic const struct snd_kcontrol_new rx_int0_2_interp_mux =\n\t\tSOC_DAPM_ENUM(\"rx_int0_2_interp\", rx_int0_2_interp_enum);\nstatic const struct snd_kcontrol_new rx_int1_2_interp_mux =\n\t\tSOC_DAPM_ENUM(\"rx_int1_2_interp\", rx_int1_2_interp_enum);\nstatic const struct snd_kcontrol_new rx_int2_2_interp_mux =\n\t\tSOC_DAPM_ENUM(\"rx_int2_2_interp\", rx_int2_2_interp_enum);\nstatic const struct snd_kcontrol_new rx_mix_tx0_mux =\n\t\tSOC_DAPM_ENUM(\"RX MIX TX0_MUX Mux\", rx_mix_tx0_mux_enum);\n\nstatic const struct reg_default rx_defaults[] = {\n\t \n\t{ CDC_RX_TOP_TOP_CFG0, 0x00 },\n\t{ CDC_RX_TOP_SWR_CTRL, 0x00 },\n\t{ CDC_RX_TOP_DEBUG, 0x00 },\n\t{ CDC_RX_TOP_DEBUG_BUS, 0x00 },\n\t{ CDC_RX_TOP_DEBUG_EN0, 0x00 },\n\t{ CDC_RX_TOP_DEBUG_EN1, 0x00 },\n\t{ CDC_RX_TOP_DEBUG_EN2, 0x00 },\n\t{ CDC_RX_TOP_HPHL_COMP_WR_LSB, 0x00 },\n\t{ CDC_RX_TOP_HPHL_COMP_WR_MSB, 0x00 },\n\t{ CDC_RX_TOP_HPHL_COMP_LUT, 0x00 },\n\t{ CDC_RX_TOP_HPHL_COMP_RD_LSB, 0x00 },\n\t{ CDC_RX_TOP_HPHL_COMP_RD_MSB, 0x00 },\n\t{ CDC_RX_TOP_HPHR_COMP_WR_LSB, 0x00 },\n\t{ CDC_RX_TOP_HPHR_COMP_WR_MSB, 0x00 },\n\t{ CDC_RX_TOP_HPHR_COMP_LUT, 0x00 },\n\t{ CDC_RX_TOP_HPHR_COMP_RD_LSB, 0x00 },\n\t{ CDC_RX_TOP_HPHR_COMP_RD_MSB, 0x00 },\n\t{ CDC_RX_TOP_DSD0_DEBUG_CFG0, 0x11 },\n\t{ CDC_RX_TOP_DSD0_DEBUG_CFG1, 0x20 },\n\t{ CDC_RX_TOP_DSD0_DEBUG_CFG2, 0x00 },\n\t{ CDC_RX_TOP_DSD0_DEBUG_CFG3, 0x00 },\n\t{ CDC_RX_TOP_DSD1_DEBUG_CFG0, 0x11 },\n\t{ CDC_RX_TOP_DSD1_DEBUG_CFG1, 0x20 },\n\t{ CDC_RX_TOP_DSD1_DEBUG_CFG2, 0x00 },\n\t{ CDC_RX_TOP_DSD1_DEBUG_CFG3, 0x00 },\n\t{ CDC_RX_TOP_RX_I2S_CTL, 0x0C },\n\t{ CDC_RX_TOP_TX_I2S2_CTL, 0x0C },\n\t{ CDC_RX_TOP_I2S_CLK, 0x0C },\n\t{ CDC_RX_TOP_I2S_RESET, 0x00 },\n\t{ CDC_RX_TOP_I2S_MUX, 0x00 },\n\t{ CDC_RX_CLK_RST_CTRL_MCLK_CONTROL, 0x00 },\n\t{ CDC_RX_CLK_RST_CTRL_FS_CNT_CONTROL, 0x00 },\n\t{ CDC_RX_CLK_RST_CTRL_SWR_CONTROL, 0x00 },\n\t{ CDC_RX_CLK_RST_CTRL_DSD_CONTROL, 0x00 },\n\t{ CDC_RX_CLK_RST_CTRL_ASRC_SHARE_CONTROL, 0x08 },\n\t{ CDC_RX_SOFTCLIP_CRC, 0x00 },\n\t{ CDC_RX_SOFTCLIP_SOFTCLIP_CTRL, 0x38 },\n\t{ CDC_RX_INP_MUX_RX_INT0_CFG0, 0x00 },\n\t{ CDC_RX_INP_MUX_RX_INT0_CFG1, 0x00 },\n\t{ CDC_RX_INP_MUX_RX_INT1_CFG0, 0x00 },\n\t{ CDC_RX_INP_MUX_RX_INT1_CFG1, 0x00 },\n\t{ CDC_RX_INP_MUX_RX_INT2_CFG0, 0x00 },\n\t{ CDC_RX_INP_MUX_RX_INT2_CFG1, 0x00 },\n\t{ CDC_RX_INP_MUX_RX_MIX_CFG4, 0x00 },\n\t{ CDC_RX_INP_MUX_RX_MIX_CFG5, 0x00 },\n\t{ CDC_RX_INP_MUX_SIDETONE_SRC_CFG0, 0x00 },\n\t{ CDC_RX_CLSH_CRC, 0x00 },\n\t{ CDC_RX_CLSH_DLY_CTRL, 0x03 },\n\t{ CDC_RX_CLSH_DECAY_CTRL, 0x02 },\n\t{ CDC_RX_CLSH_HPH_V_PA, 0x1C },\n\t{ CDC_RX_CLSH_EAR_V_PA, 0x39 },\n\t{ CDC_RX_CLSH_HPH_V_HD, 0x0C },\n\t{ CDC_RX_CLSH_EAR_V_HD, 0x0C },\n\t{ CDC_RX_CLSH_K1_MSB, 0x01 },\n\t{ CDC_RX_CLSH_K1_LSB, 0x00 },\n\t{ CDC_RX_CLSH_K2_MSB, 0x00 },\n\t{ CDC_RX_CLSH_K2_LSB, 0x80 },\n\t{ CDC_RX_CLSH_IDLE_CTRL, 0x00 },\n\t{ CDC_RX_CLSH_IDLE_HPH, 0x00 },\n\t{ CDC_RX_CLSH_IDLE_EAR, 0x00 },\n\t{ CDC_RX_CLSH_TEST0, 0x07 },\n\t{ CDC_RX_CLSH_TEST1, 0x00 },\n\t{ CDC_RX_CLSH_OVR_VREF, 0x00 },\n\t{ CDC_RX_CLSH_CLSG_CTL, 0x02 },\n\t{ CDC_RX_CLSH_CLSG_CFG1, 0x9A },\n\t{ CDC_RX_CLSH_CLSG_CFG2, 0x10 },\n\t{ CDC_RX_BCL_VBAT_PATH_CTL, 0x00 },\n\t{ CDC_RX_BCL_VBAT_CFG, 0x10 },\n\t{ CDC_RX_BCL_VBAT_ADC_CAL1, 0x00 },\n\t{ CDC_RX_BCL_VBAT_ADC_CAL2, 0x00 },\n\t{ CDC_RX_BCL_VBAT_ADC_CAL3, 0x04 },\n\t{ CDC_RX_BCL_VBAT_PK_EST1, 0xE0 },\n\t{ CDC_RX_BCL_VBAT_PK_EST2, 0x01 },\n\t{ CDC_RX_BCL_VBAT_PK_EST3, 0x40 },\n\t{ CDC_RX_BCL_VBAT_RF_PROC1, 0x2A },\n\t{ CDC_RX_BCL_VBAT_RF_PROC1, 0x00 },\n\t{ CDC_RX_BCL_VBAT_TAC1, 0x00 },\n\t{ CDC_RX_BCL_VBAT_TAC2, 0x18 },\n\t{ CDC_RX_BCL_VBAT_TAC3, 0x18 },\n\t{ CDC_RX_BCL_VBAT_TAC4, 0x03 },\n\t{ CDC_RX_BCL_VBAT_GAIN_UPD1, 0x01 },\n\t{ CDC_RX_BCL_VBAT_GAIN_UPD2, 0x00 },\n\t{ CDC_RX_BCL_VBAT_GAIN_UPD3, 0x00 },\n\t{ CDC_RX_BCL_VBAT_GAIN_UPD4, 0x64 },\n\t{ CDC_RX_BCL_VBAT_GAIN_UPD5, 0x01 },\n\t{ CDC_RX_BCL_VBAT_DEBUG1, 0x00 },\n\t{ CDC_RX_BCL_VBAT_GAIN_UPD_MON, 0x00 },\n\t{ CDC_RX_BCL_VBAT_GAIN_MON_VAL, 0x00 },\n\t{ CDC_RX_BCL_VBAT_BAN, 0x0C },\n\t{ CDC_RX_BCL_VBAT_BCL_GAIN_UPD1, 0x00 },\n\t{ CDC_RX_BCL_VBAT_BCL_GAIN_UPD2, 0x77 },\n\t{ CDC_RX_BCL_VBAT_BCL_GAIN_UPD3, 0x01 },\n\t{ CDC_RX_BCL_VBAT_BCL_GAIN_UPD4, 0x00 },\n\t{ CDC_RX_BCL_VBAT_BCL_GAIN_UPD5, 0x4B },\n\t{ CDC_RX_BCL_VBAT_BCL_GAIN_UPD6, 0x00 },\n\t{ CDC_RX_BCL_VBAT_BCL_GAIN_UPD7, 0x01 },\n\t{ CDC_RX_BCL_VBAT_BCL_GAIN_UPD8, 0x00 },\n\t{ CDC_RX_BCL_VBAT_BCL_GAIN_UPD9, 0x00 },\n\t{ CDC_RX_BCL_VBAT_ATTN1, 0x04 },\n\t{ CDC_RX_BCL_VBAT_ATTN2, 0x08 },\n\t{ CDC_RX_BCL_VBAT_ATTN3, 0x0C },\n\t{ CDC_RX_BCL_VBAT_DECODE_CTL1, 0xE0 },\n\t{ CDC_RX_BCL_VBAT_DECODE_CTL2, 0x00 },\n\t{ CDC_RX_BCL_VBAT_DECODE_CFG1, 0x00 },\n\t{ CDC_RX_BCL_VBAT_DECODE_CFG2, 0x00 },\n\t{ CDC_RX_BCL_VBAT_DECODE_CFG3, 0x00 },\n\t{ CDC_RX_BCL_VBAT_DECODE_CFG4, 0x00 },\n\t{ CDC_RX_BCL_VBAT_DECODE_ST, 0x00 },\n\t{ CDC_RX_INTR_CTRL_CFG, 0x00 },\n\t{ CDC_RX_INTR_CTRL_CLR_COMMIT, 0x00 },\n\t{ CDC_RX_INTR_CTRL_PIN1_MASK0, 0xFF },\n\t{ CDC_RX_INTR_CTRL_PIN1_STATUS0, 0x00 },\n\t{ CDC_RX_INTR_CTRL_PIN1_CLEAR0, 0x00 },\n\t{ CDC_RX_INTR_CTRL_PIN2_MASK0, 0xFF },\n\t{ CDC_RX_INTR_CTRL_PIN2_STATUS0, 0x00 },\n\t{ CDC_RX_INTR_CTRL_PIN2_CLEAR0, 0x00 },\n\t{ CDC_RX_INTR_CTRL_LEVEL0, 0x00 },\n\t{ CDC_RX_INTR_CTRL_BYPASS0, 0x00 },\n\t{ CDC_RX_INTR_CTRL_SET0, 0x00 },\n\t{ CDC_RX_RX0_RX_PATH_CTL, 0x04 },\n\t{ CDC_RX_RX0_RX_PATH_CFG0, 0x00 },\n\t{ CDC_RX_RX0_RX_PATH_CFG1, 0x64 },\n\t{ CDC_RX_RX0_RX_PATH_CFG2, 0x8F },\n\t{ CDC_RX_RX0_RX_PATH_CFG3, 0x00 },\n\t{ CDC_RX_RX0_RX_VOL_CTL, 0x00 },\n\t{ CDC_RX_RX0_RX_PATH_MIX_CTL, 0x04 },\n\t{ CDC_RX_RX0_RX_PATH_MIX_CFG, 0x7E },\n\t{ CDC_RX_RX0_RX_VOL_MIX_CTL, 0x00 },\n\t{ CDC_RX_RX0_RX_PATH_SEC1, 0x08 },\n\t{ CDC_RX_RX0_RX_PATH_SEC2, 0x00 },\n\t{ CDC_RX_RX0_RX_PATH_SEC3, 0x00 },\n\t{ CDC_RX_RX0_RX_PATH_SEC4, 0x00 },\n\t{ CDC_RX_RX0_RX_PATH_SEC7, 0x00 },\n\t{ CDC_RX_RX0_RX_PATH_MIX_SEC0, 0x08 },\n\t{ CDC_RX_RX0_RX_PATH_MIX_SEC1, 0x00 },\n\t{ CDC_RX_RX0_RX_PATH_DSM_CTL, 0x08 },\n\t{ CDC_RX_RX0_RX_PATH_DSM_DATA1, 0x00 },\n\t{ CDC_RX_RX0_RX_PATH_DSM_DATA2, 0x00 },\n\t{ CDC_RX_RX0_RX_PATH_DSM_DATA3, 0x00 },\n\t{ CDC_RX_RX0_RX_PATH_DSM_DATA4, 0x55 },\n\t{ CDC_RX_RX0_RX_PATH_DSM_DATA5, 0x55 },\n\t{ CDC_RX_RX0_RX_PATH_DSM_DATA6, 0x55 },\n\t{ CDC_RX_RX1_RX_PATH_CTL, 0x04 },\n\t{ CDC_RX_RX1_RX_PATH_CFG0, 0x00 },\n\t{ CDC_RX_RX1_RX_PATH_CFG1, 0x64 },\n\t{ CDC_RX_RX1_RX_PATH_CFG2, 0x8F },\n\t{ CDC_RX_RX1_RX_PATH_CFG3, 0x00 },\n\t{ CDC_RX_RX1_RX_VOL_CTL, 0x00 },\n\t{ CDC_RX_RX1_RX_PATH_MIX_CTL, 0x04 },\n\t{ CDC_RX_RX1_RX_PATH_MIX_CFG, 0x7E },\n\t{ CDC_RX_RX1_RX_VOL_MIX_CTL, 0x00 },\n\t{ CDC_RX_RX1_RX_PATH_SEC1, 0x08 },\n\t{ CDC_RX_RX1_RX_PATH_SEC2, 0x00 },\n\t{ CDC_RX_RX1_RX_PATH_SEC3, 0x00 },\n\t{ CDC_RX_RX1_RX_PATH_SEC4, 0x00 },\n\t{ CDC_RX_RX1_RX_PATH_SEC7, 0x00 },\n\t{ CDC_RX_RX1_RX_PATH_MIX_SEC0, 0x08 },\n\t{ CDC_RX_RX1_RX_PATH_MIX_SEC1, 0x00 },\n\t{ CDC_RX_RX1_RX_PATH_DSM_CTL, 0x08 },\n\t{ CDC_RX_RX1_RX_PATH_DSM_DATA1, 0x00 },\n\t{ CDC_RX_RX1_RX_PATH_DSM_DATA2, 0x00 },\n\t{ CDC_RX_RX1_RX_PATH_DSM_DATA3, 0x00 },\n\t{ CDC_RX_RX1_RX_PATH_DSM_DATA4, 0x55 },\n\t{ CDC_RX_RX1_RX_PATH_DSM_DATA5, 0x55 },\n\t{ CDC_RX_RX1_RX_PATH_DSM_DATA6, 0x55 },\n\t{ CDC_RX_RX2_RX_PATH_CTL, 0x04 },\n\t{ CDC_RX_RX2_RX_PATH_CFG0, 0x00 },\n\t{ CDC_RX_RX2_RX_PATH_CFG1, 0x64 },\n\t{ CDC_RX_RX2_RX_PATH_CFG2, 0x8F },\n\t{ CDC_RX_RX2_RX_PATH_CFG3, 0x00 },\n\t{ CDC_RX_RX2_RX_VOL_CTL, 0x00 },\n\t{ CDC_RX_RX2_RX_PATH_MIX_CTL, 0x04 },\n\t{ CDC_RX_RX2_RX_PATH_MIX_CFG, 0x7E },\n\t{ CDC_RX_RX2_RX_VOL_MIX_CTL, 0x00 },\n\t{ CDC_RX_RX2_RX_PATH_SEC0, 0x04 },\n\t{ CDC_RX_RX2_RX_PATH_SEC1, 0x08 },\n\t{ CDC_RX_RX2_RX_PATH_SEC2, 0x00 },\n\t{ CDC_RX_RX2_RX_PATH_SEC3, 0x00 },\n\t{ CDC_RX_RX2_RX_PATH_SEC4, 0x00 },\n\t{ CDC_RX_RX2_RX_PATH_SEC5, 0x00 },\n\t{ CDC_RX_RX2_RX_PATH_SEC6, 0x00 },\n\t{ CDC_RX_RX2_RX_PATH_SEC7, 0x00 },\n\t{ CDC_RX_RX2_RX_PATH_MIX_SEC0, 0x08 },\n\t{ CDC_RX_RX2_RX_PATH_MIX_SEC1, 0x00 },\n\t{ CDC_RX_RX2_RX_PATH_DSM_CTL, 0x00 },\n\t{ CDC_RX_IDLE_DETECT_PATH_CTL, 0x00 },\n\t{ CDC_RX_IDLE_DETECT_CFG0, 0x07 },\n\t{ CDC_RX_IDLE_DETECT_CFG1, 0x3C },\n\t{ CDC_RX_IDLE_DETECT_CFG2, 0x00 },\n\t{ CDC_RX_IDLE_DETECT_CFG3, 0x00 },\n\t{ CDC_RX_COMPANDER0_CTL0, 0x60 },\n\t{ CDC_RX_COMPANDER0_CTL1, 0xDB },\n\t{ CDC_RX_COMPANDER0_CTL2, 0xFF },\n\t{ CDC_RX_COMPANDER0_CTL3, 0x35 },\n\t{ CDC_RX_COMPANDER0_CTL4, 0xFF },\n\t{ CDC_RX_COMPANDER0_CTL5, 0x00 },\n\t{ CDC_RX_COMPANDER0_CTL6, 0x01 },\n\t{ CDC_RX_COMPANDER0_CTL7, 0x28 },\n\t{ CDC_RX_COMPANDER1_CTL0, 0x60 },\n\t{ CDC_RX_COMPANDER1_CTL1, 0xDB },\n\t{ CDC_RX_COMPANDER1_CTL2, 0xFF },\n\t{ CDC_RX_COMPANDER1_CTL3, 0x35 },\n\t{ CDC_RX_COMPANDER1_CTL4, 0xFF },\n\t{ CDC_RX_COMPANDER1_CTL5, 0x00 },\n\t{ CDC_RX_COMPANDER1_CTL6, 0x01 },\n\t{ CDC_RX_COMPANDER1_CTL7, 0x28 },\n\t{ CDC_RX_SIDETONE_IIR0_IIR_PATH_CTL, 0x00 },\n\t{ CDC_RX_SIDETONE_IIR0_IIR_GAIN_B1_CTL, 0x00 },\n\t{ CDC_RX_SIDETONE_IIR0_IIR_GAIN_B2_CTL, 0x00 },\n\t{ CDC_RX_SIDETONE_IIR0_IIR_GAIN_B3_CTL, 0x00 },\n\t{ CDC_RX_SIDETONE_IIR0_IIR_GAIN_B4_CTL, 0x00 },\n\t{ CDC_RX_SIDETONE_IIR0_IIR_GAIN_B5_CTL, 0x00 },\n\t{ CDC_RX_SIDETONE_IIR0_IIR_GAIN_B6_CTL, 0x00 },\n\t{ CDC_RX_SIDETONE_IIR0_IIR_GAIN_B7_CTL, 0x00 },\n\t{ CDC_RX_SIDETONE_IIR0_IIR_GAIN_B8_CTL, 0x00 },\n\t{ CDC_RX_SIDETONE_IIR0_IIR_CTL, 0x40 },\n\t{ CDC_RX_SIDETONE_IIR0_IIR_GAIN_TIMER_CTL, 0x00 },\n\t{ CDC_RX_SIDETONE_IIR0_IIR_COEF_B1_CTL, 0x00 },\n\t{ CDC_RX_SIDETONE_IIR0_IIR_COEF_B2_CTL, 0x00 },\n\t{ CDC_RX_SIDETONE_IIR1_IIR_PATH_CTL, 0x00 },\n\t{ CDC_RX_SIDETONE_IIR1_IIR_GAIN_B1_CTL, 0x00 },\n\t{ CDC_RX_SIDETONE_IIR1_IIR_GAIN_B2_CTL, 0x00 },\n\t{ CDC_RX_SIDETONE_IIR1_IIR_GAIN_B3_CTL, 0x00 },\n\t{ CDC_RX_SIDETONE_IIR1_IIR_GAIN_B4_CTL, 0x00 },\n\t{ CDC_RX_SIDETONE_IIR1_IIR_GAIN_B5_CTL, 0x00 },\n\t{ CDC_RX_SIDETONE_IIR1_IIR_GAIN_B6_CTL, 0x00 },\n\t{ CDC_RX_SIDETONE_IIR1_IIR_GAIN_B7_CTL, 0x00 },\n\t{ CDC_RX_SIDETONE_IIR1_IIR_GAIN_B8_CTL, 0x00 },\n\t{ CDC_RX_SIDETONE_IIR1_IIR_CTL, 0x40 },\n\t{ CDC_RX_SIDETONE_IIR1_IIR_GAIN_TIMER_CTL, 0x00 },\n\t{ CDC_RX_SIDETONE_IIR1_IIR_COEF_B1_CTL, 0x00 },\n\t{ CDC_RX_SIDETONE_IIR1_IIR_COEF_B2_CTL, 0x00 },\n\t{ CDC_RX_IIR_INP_MUX_IIR0_MIX_CFG0, 0x00 },\n\t{ CDC_RX_IIR_INP_MUX_IIR0_MIX_CFG1, 0x00 },\n\t{ CDC_RX_IIR_INP_MUX_IIR0_MIX_CFG2, 0x00 },\n\t{ CDC_RX_IIR_INP_MUX_IIR0_MIX_CFG3, 0x00 },\n\t{ CDC_RX_IIR_INP_MUX_IIR1_MIX_CFG0, 0x00 },\n\t{ CDC_RX_IIR_INP_MUX_IIR1_MIX_CFG1, 0x00 },\n\t{ CDC_RX_IIR_INP_MUX_IIR1_MIX_CFG2, 0x00 },\n\t{ CDC_RX_IIR_INP_MUX_IIR1_MIX_CFG3, 0x00 },\n\t{ CDC_RX_SIDETONE_SRC0_ST_SRC_PATH_CTL, 0x04 },\n\t{ CDC_RX_SIDETONE_SRC0_ST_SRC_PATH_CFG1, 0x00 },\n\t{ CDC_RX_SIDETONE_SRC1_ST_SRC_PATH_CTL, 0x04 },\n\t{ CDC_RX_SIDETONE_SRC1_ST_SRC_PATH_CFG1, 0x00 },\n\t{ CDC_RX_EC_REF_HQ0_EC_REF_HQ_PATH_CTL, 0x00 },\n\t{ CDC_RX_EC_REF_HQ0_EC_REF_HQ_CFG0, 0x01 },\n\t{ CDC_RX_EC_REF_HQ1_EC_REF_HQ_PATH_CTL, 0x00 },\n\t{ CDC_RX_EC_REF_HQ1_EC_REF_HQ_CFG0, 0x01 },\n\t{ CDC_RX_EC_REF_HQ2_EC_REF_HQ_PATH_CTL, 0x00 },\n\t{ CDC_RX_EC_REF_HQ2_EC_REF_HQ_CFG0, 0x01 },\n\t{ CDC_RX_EC_ASRC0_CLK_RST_CTL, 0x00 },\n\t{ CDC_RX_EC_ASRC0_CTL0, 0x00 },\n\t{ CDC_RX_EC_ASRC0_CTL1, 0x00 },\n\t{ CDC_RX_EC_ASRC0_FIFO_CTL, 0xA8 },\n\t{ CDC_RX_EC_ASRC0_STATUS_FMIN_CNTR_LSB, 0x00 },\n\t{ CDC_RX_EC_ASRC0_STATUS_FMIN_CNTR_MSB, 0x00 },\n\t{ CDC_RX_EC_ASRC0_STATUS_FMAX_CNTR_LSB, 0x00 },\n\t{ CDC_RX_EC_ASRC0_STATUS_FMAX_CNTR_MSB, 0x00 },\n\t{ CDC_RX_EC_ASRC0_STATUS_FIFO, 0x00 },\n\t{ CDC_RX_EC_ASRC1_CLK_RST_CTL, 0x00 },\n\t{ CDC_RX_EC_ASRC1_CTL0, 0x00 },\n\t{ CDC_RX_EC_ASRC1_CTL1, 0x00 },\n\t{ CDC_RX_EC_ASRC1_FIFO_CTL, 0xA8 },\n\t{ CDC_RX_EC_ASRC1_STATUS_FMIN_CNTR_LSB, 0x00 },\n\t{ CDC_RX_EC_ASRC1_STATUS_FMIN_CNTR_MSB, 0x00 },\n\t{ CDC_RX_EC_ASRC1_STATUS_FMAX_CNTR_LSB, 0x00 },\n\t{ CDC_RX_EC_ASRC1_STATUS_FMAX_CNTR_MSB, 0x00 },\n\t{ CDC_RX_EC_ASRC1_STATUS_FIFO, 0x00 },\n\t{ CDC_RX_EC_ASRC2_CLK_RST_CTL, 0x00 },\n\t{ CDC_RX_EC_ASRC2_CTL0, 0x00 },\n\t{ CDC_RX_EC_ASRC2_CTL1, 0x00 },\n\t{ CDC_RX_EC_ASRC2_FIFO_CTL, 0xA8 },\n\t{ CDC_RX_EC_ASRC2_STATUS_FMIN_CNTR_LSB, 0x00 },\n\t{ CDC_RX_EC_ASRC2_STATUS_FMIN_CNTR_MSB, 0x00 },\n\t{ CDC_RX_EC_ASRC2_STATUS_FMAX_CNTR_LSB, 0x00 },\n\t{ CDC_RX_EC_ASRC2_STATUS_FMAX_CNTR_MSB, 0x00 },\n\t{ CDC_RX_EC_ASRC2_STATUS_FIFO, 0x00 },\n\t{ CDC_RX_DSD0_PATH_CTL, 0x00 },\n\t{ CDC_RX_DSD0_CFG0, 0x00 },\n\t{ CDC_RX_DSD0_CFG1, 0x62 },\n\t{ CDC_RX_DSD0_CFG2, 0x96 },\n\t{ CDC_RX_DSD1_PATH_CTL, 0x00 },\n\t{ CDC_RX_DSD1_CFG0, 0x00 },\n\t{ CDC_RX_DSD1_CFG1, 0x62 },\n\t{ CDC_RX_DSD1_CFG2, 0x96 },\n};\n\nstatic bool rx_is_wronly_register(struct device *dev,\n\t\t\t\t\tunsigned int reg)\n{\n\tswitch (reg) {\n\tcase CDC_RX_BCL_VBAT_GAIN_UPD_MON:\n\tcase CDC_RX_INTR_CTRL_CLR_COMMIT:\n\tcase CDC_RX_INTR_CTRL_PIN1_CLEAR0:\n\tcase CDC_RX_INTR_CTRL_PIN2_CLEAR0:\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nstatic bool rx_is_volatile_register(struct device *dev, unsigned int reg)\n{\n\t \n\tswitch (reg) {\n\tcase CDC_RX_TOP_HPHL_COMP_RD_LSB:\n\tcase CDC_RX_TOP_HPHL_COMP_WR_LSB:\n\tcase CDC_RX_TOP_HPHL_COMP_RD_MSB:\n\tcase CDC_RX_TOP_HPHL_COMP_WR_MSB:\n\tcase CDC_RX_TOP_HPHR_COMP_RD_LSB:\n\tcase CDC_RX_TOP_HPHR_COMP_WR_LSB:\n\tcase CDC_RX_TOP_HPHR_COMP_RD_MSB:\n\tcase CDC_RX_TOP_HPHR_COMP_WR_MSB:\n\tcase CDC_RX_TOP_DSD0_DEBUG_CFG2:\n\tcase CDC_RX_TOP_DSD1_DEBUG_CFG2:\n\tcase CDC_RX_BCL_VBAT_GAIN_MON_VAL:\n\tcase CDC_RX_BCL_VBAT_DECODE_ST:\n\tcase CDC_RX_INTR_CTRL_PIN1_STATUS0:\n\tcase CDC_RX_INTR_CTRL_PIN2_STATUS0:\n\tcase CDC_RX_COMPANDER0_CTL6:\n\tcase CDC_RX_COMPANDER1_CTL6:\n\tcase CDC_RX_EC_ASRC0_STATUS_FMIN_CNTR_LSB:\n\tcase CDC_RX_EC_ASRC0_STATUS_FMIN_CNTR_MSB:\n\tcase CDC_RX_EC_ASRC0_STATUS_FMAX_CNTR_LSB:\n\tcase CDC_RX_EC_ASRC0_STATUS_FMAX_CNTR_MSB:\n\tcase CDC_RX_EC_ASRC0_STATUS_FIFO:\n\tcase CDC_RX_EC_ASRC1_STATUS_FMIN_CNTR_LSB:\n\tcase CDC_RX_EC_ASRC1_STATUS_FMIN_CNTR_MSB:\n\tcase CDC_RX_EC_ASRC1_STATUS_FMAX_CNTR_LSB:\n\tcase CDC_RX_EC_ASRC1_STATUS_FMAX_CNTR_MSB:\n\tcase CDC_RX_EC_ASRC1_STATUS_FIFO:\n\tcase CDC_RX_EC_ASRC2_STATUS_FMIN_CNTR_LSB:\n\tcase CDC_RX_EC_ASRC2_STATUS_FMIN_CNTR_MSB:\n\tcase CDC_RX_EC_ASRC2_STATUS_FMAX_CNTR_LSB:\n\tcase CDC_RX_EC_ASRC2_STATUS_FMAX_CNTR_MSB:\n\tcase CDC_RX_EC_ASRC2_STATUS_FIFO:\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nstatic bool rx_is_rw_register(struct device *dev, unsigned int reg)\n{\n\tswitch (reg) {\n\tcase CDC_RX_TOP_TOP_CFG0:\n\tcase CDC_RX_TOP_SWR_CTRL:\n\tcase CDC_RX_TOP_DEBUG:\n\tcase CDC_RX_TOP_DEBUG_BUS:\n\tcase CDC_RX_TOP_DEBUG_EN0:\n\tcase CDC_RX_TOP_DEBUG_EN1:\n\tcase CDC_RX_TOP_DEBUG_EN2:\n\tcase CDC_RX_TOP_HPHL_COMP_WR_LSB:\n\tcase CDC_RX_TOP_HPHL_COMP_WR_MSB:\n\tcase CDC_RX_TOP_HPHL_COMP_LUT:\n\tcase CDC_RX_TOP_HPHR_COMP_WR_LSB:\n\tcase CDC_RX_TOP_HPHR_COMP_WR_MSB:\n\tcase CDC_RX_TOP_HPHR_COMP_LUT:\n\tcase CDC_RX_TOP_DSD0_DEBUG_CFG0:\n\tcase CDC_RX_TOP_DSD0_DEBUG_CFG1:\n\tcase CDC_RX_TOP_DSD0_DEBUG_CFG3:\n\tcase CDC_RX_TOP_DSD1_DEBUG_CFG0:\n\tcase CDC_RX_TOP_DSD1_DEBUG_CFG1:\n\tcase CDC_RX_TOP_DSD1_DEBUG_CFG3:\n\tcase CDC_RX_TOP_RX_I2S_CTL:\n\tcase CDC_RX_TOP_TX_I2S2_CTL:\n\tcase CDC_RX_TOP_I2S_CLK:\n\tcase CDC_RX_TOP_I2S_RESET:\n\tcase CDC_RX_TOP_I2S_MUX:\n\tcase CDC_RX_CLK_RST_CTRL_MCLK_CONTROL:\n\tcase CDC_RX_CLK_RST_CTRL_FS_CNT_CONTROL:\n\tcase CDC_RX_CLK_RST_CTRL_SWR_CONTROL:\n\tcase CDC_RX_CLK_RST_CTRL_DSD_CONTROL:\n\tcase CDC_RX_CLK_RST_CTRL_ASRC_SHARE_CONTROL:\n\tcase CDC_RX_SOFTCLIP_CRC:\n\tcase CDC_RX_SOFTCLIP_SOFTCLIP_CTRL:\n\tcase CDC_RX_INP_MUX_RX_INT0_CFG0:\n\tcase CDC_RX_INP_MUX_RX_INT0_CFG1:\n\tcase CDC_RX_INP_MUX_RX_INT1_CFG0:\n\tcase CDC_RX_INP_MUX_RX_INT1_CFG1:\n\tcase CDC_RX_INP_MUX_RX_INT2_CFG0:\n\tcase CDC_RX_INP_MUX_RX_INT2_CFG1:\n\tcase CDC_RX_INP_MUX_RX_MIX_CFG4:\n\tcase CDC_RX_INP_MUX_RX_MIX_CFG5:\n\tcase CDC_RX_INP_MUX_SIDETONE_SRC_CFG0:\n\tcase CDC_RX_CLSH_CRC:\n\tcase CDC_RX_CLSH_DLY_CTRL:\n\tcase CDC_RX_CLSH_DECAY_CTRL:\n\tcase CDC_RX_CLSH_HPH_V_PA:\n\tcase CDC_RX_CLSH_EAR_V_PA:\n\tcase CDC_RX_CLSH_HPH_V_HD:\n\tcase CDC_RX_CLSH_EAR_V_HD:\n\tcase CDC_RX_CLSH_K1_MSB:\n\tcase CDC_RX_CLSH_K1_LSB:\n\tcase CDC_RX_CLSH_K2_MSB:\n\tcase CDC_RX_CLSH_K2_LSB:\n\tcase CDC_RX_CLSH_IDLE_CTRL:\n\tcase CDC_RX_CLSH_IDLE_HPH:\n\tcase CDC_RX_CLSH_IDLE_EAR:\n\tcase CDC_RX_CLSH_TEST0:\n\tcase CDC_RX_CLSH_TEST1:\n\tcase CDC_RX_CLSH_OVR_VREF:\n\tcase CDC_RX_CLSH_CLSG_CTL:\n\tcase CDC_RX_CLSH_CLSG_CFG1:\n\tcase CDC_RX_CLSH_CLSG_CFG2:\n\tcase CDC_RX_BCL_VBAT_PATH_CTL:\n\tcase CDC_RX_BCL_VBAT_CFG:\n\tcase CDC_RX_BCL_VBAT_ADC_CAL1:\n\tcase CDC_RX_BCL_VBAT_ADC_CAL2:\n\tcase CDC_RX_BCL_VBAT_ADC_CAL3:\n\tcase CDC_RX_BCL_VBAT_PK_EST1:\n\tcase CDC_RX_BCL_VBAT_PK_EST2:\n\tcase CDC_RX_BCL_VBAT_PK_EST3:\n\tcase CDC_RX_BCL_VBAT_RF_PROC1:\n\tcase CDC_RX_BCL_VBAT_RF_PROC2:\n\tcase CDC_RX_BCL_VBAT_TAC1:\n\tcase CDC_RX_BCL_VBAT_TAC2:\n\tcase CDC_RX_BCL_VBAT_TAC3:\n\tcase CDC_RX_BCL_VBAT_TAC4:\n\tcase CDC_RX_BCL_VBAT_GAIN_UPD1:\n\tcase CDC_RX_BCL_VBAT_GAIN_UPD2:\n\tcase CDC_RX_BCL_VBAT_GAIN_UPD3:\n\tcase CDC_RX_BCL_VBAT_GAIN_UPD4:\n\tcase CDC_RX_BCL_VBAT_GAIN_UPD5:\n\tcase CDC_RX_BCL_VBAT_DEBUG1:\n\tcase CDC_RX_BCL_VBAT_BAN:\n\tcase CDC_RX_BCL_VBAT_BCL_GAIN_UPD1:\n\tcase CDC_RX_BCL_VBAT_BCL_GAIN_UPD2:\n\tcase CDC_RX_BCL_VBAT_BCL_GAIN_UPD3:\n\tcase CDC_RX_BCL_VBAT_BCL_GAIN_UPD4:\n\tcase CDC_RX_BCL_VBAT_BCL_GAIN_UPD5:\n\tcase CDC_RX_BCL_VBAT_BCL_GAIN_UPD6:\n\tcase CDC_RX_BCL_VBAT_BCL_GAIN_UPD7:\n\tcase CDC_RX_BCL_VBAT_BCL_GAIN_UPD8:\n\tcase CDC_RX_BCL_VBAT_BCL_GAIN_UPD9:\n\tcase CDC_RX_BCL_VBAT_ATTN1:\n\tcase CDC_RX_BCL_VBAT_ATTN2:\n\tcase CDC_RX_BCL_VBAT_ATTN3:\n\tcase CDC_RX_BCL_VBAT_DECODE_CTL1:\n\tcase CDC_RX_BCL_VBAT_DECODE_CTL2:\n\tcase CDC_RX_BCL_VBAT_DECODE_CFG1:\n\tcase CDC_RX_BCL_VBAT_DECODE_CFG2:\n\tcase CDC_RX_BCL_VBAT_DECODE_CFG3:\n\tcase CDC_RX_BCL_VBAT_DECODE_CFG4:\n\tcase CDC_RX_INTR_CTRL_CFG:\n\tcase CDC_RX_INTR_CTRL_PIN1_MASK0:\n\tcase CDC_RX_INTR_CTRL_PIN2_MASK0:\n\tcase CDC_RX_INTR_CTRL_LEVEL0:\n\tcase CDC_RX_INTR_CTRL_BYPASS0:\n\tcase CDC_RX_INTR_CTRL_SET0:\n\tcase CDC_RX_RX0_RX_PATH_CTL:\n\tcase CDC_RX_RX0_RX_PATH_CFG0:\n\tcase CDC_RX_RX0_RX_PATH_CFG1:\n\tcase CDC_RX_RX0_RX_PATH_CFG2:\n\tcase CDC_RX_RX0_RX_PATH_CFG3:\n\tcase CDC_RX_RX0_RX_VOL_CTL:\n\tcase CDC_RX_RX0_RX_PATH_MIX_CTL:\n\tcase CDC_RX_RX0_RX_PATH_MIX_CFG:\n\tcase CDC_RX_RX0_RX_VOL_MIX_CTL:\n\tcase CDC_RX_RX0_RX_PATH_SEC1:\n\tcase CDC_RX_RX0_RX_PATH_SEC2:\n\tcase CDC_RX_RX0_RX_PATH_SEC3:\n\tcase CDC_RX_RX0_RX_PATH_SEC4:\n\tcase CDC_RX_RX0_RX_PATH_SEC7:\n\tcase CDC_RX_RX0_RX_PATH_MIX_SEC0:\n\tcase CDC_RX_RX0_RX_PATH_MIX_SEC1:\n\tcase CDC_RX_RX0_RX_PATH_DSM_CTL:\n\tcase CDC_RX_RX0_RX_PATH_DSM_DATA1:\n\tcase CDC_RX_RX0_RX_PATH_DSM_DATA2:\n\tcase CDC_RX_RX0_RX_PATH_DSM_DATA3:\n\tcase CDC_RX_RX0_RX_PATH_DSM_DATA4:\n\tcase CDC_RX_RX0_RX_PATH_DSM_DATA5:\n\tcase CDC_RX_RX0_RX_PATH_DSM_DATA6:\n\tcase CDC_RX_RX1_RX_PATH_CTL:\n\tcase CDC_RX_RX1_RX_PATH_CFG0:\n\tcase CDC_RX_RX1_RX_PATH_CFG1:\n\tcase CDC_RX_RX1_RX_PATH_CFG2:\n\tcase CDC_RX_RX1_RX_PATH_CFG3:\n\tcase CDC_RX_RX1_RX_VOL_CTL:\n\tcase CDC_RX_RX1_RX_PATH_MIX_CTL:\n\tcase CDC_RX_RX1_RX_PATH_MIX_CFG:\n\tcase CDC_RX_RX1_RX_VOL_MIX_CTL:\n\tcase CDC_RX_RX1_RX_PATH_SEC1:\n\tcase CDC_RX_RX1_RX_PATH_SEC2:\n\tcase CDC_RX_RX1_RX_PATH_SEC3:\n\tcase CDC_RX_RX1_RX_PATH_SEC4:\n\tcase CDC_RX_RX1_RX_PATH_SEC7:\n\tcase CDC_RX_RX1_RX_PATH_MIX_SEC0:\n\tcase CDC_RX_RX1_RX_PATH_MIX_SEC1:\n\tcase CDC_RX_RX1_RX_PATH_DSM_CTL:\n\tcase CDC_RX_RX1_RX_PATH_DSM_DATA1:\n\tcase CDC_RX_RX1_RX_PATH_DSM_DATA2:\n\tcase CDC_RX_RX1_RX_PATH_DSM_DATA3:\n\tcase CDC_RX_RX1_RX_PATH_DSM_DATA4:\n\tcase CDC_RX_RX1_RX_PATH_DSM_DATA5:\n\tcase CDC_RX_RX1_RX_PATH_DSM_DATA6:\n\tcase CDC_RX_RX2_RX_PATH_CTL:\n\tcase CDC_RX_RX2_RX_PATH_CFG0:\n\tcase CDC_RX_RX2_RX_PATH_CFG1:\n\tcase CDC_RX_RX2_RX_PATH_CFG2:\n\tcase CDC_RX_RX2_RX_PATH_CFG3:\n\tcase CDC_RX_RX2_RX_VOL_CTL:\n\tcase CDC_RX_RX2_RX_PATH_MIX_CTL:\n\tcase CDC_RX_RX2_RX_PATH_MIX_CFG:\n\tcase CDC_RX_RX2_RX_VOL_MIX_CTL:\n\tcase CDC_RX_RX2_RX_PATH_SEC0:\n\tcase CDC_RX_RX2_RX_PATH_SEC1:\n\tcase CDC_RX_RX2_RX_PATH_SEC2:\n\tcase CDC_RX_RX2_RX_PATH_SEC3:\n\tcase CDC_RX_RX2_RX_PATH_SEC4:\n\tcase CDC_RX_RX2_RX_PATH_SEC5:\n\tcase CDC_RX_RX2_RX_PATH_SEC6:\n\tcase CDC_RX_RX2_RX_PATH_SEC7:\n\tcase CDC_RX_RX2_RX_PATH_MIX_SEC0:\n\tcase CDC_RX_RX2_RX_PATH_MIX_SEC1:\n\tcase CDC_RX_RX2_RX_PATH_DSM_CTL:\n\tcase CDC_RX_IDLE_DETECT_PATH_CTL:\n\tcase CDC_RX_IDLE_DETECT_CFG0:\n\tcase CDC_RX_IDLE_DETECT_CFG1:\n\tcase CDC_RX_IDLE_DETECT_CFG2:\n\tcase CDC_RX_IDLE_DETECT_CFG3:\n\tcase CDC_RX_COMPANDER0_CTL0:\n\tcase CDC_RX_COMPANDER0_CTL1:\n\tcase CDC_RX_COMPANDER0_CTL2:\n\tcase CDC_RX_COMPANDER0_CTL3:\n\tcase CDC_RX_COMPANDER0_CTL4:\n\tcase CDC_RX_COMPANDER0_CTL5:\n\tcase CDC_RX_COMPANDER0_CTL7:\n\tcase CDC_RX_COMPANDER1_CTL0:\n\tcase CDC_RX_COMPANDER1_CTL1:\n\tcase CDC_RX_COMPANDER1_CTL2:\n\tcase CDC_RX_COMPANDER1_CTL3:\n\tcase CDC_RX_COMPANDER1_CTL4:\n\tcase CDC_RX_COMPANDER1_CTL5:\n\tcase CDC_RX_COMPANDER1_CTL7:\n\tcase CDC_RX_SIDETONE_IIR0_IIR_PATH_CTL:\n\tcase CDC_RX_SIDETONE_IIR0_IIR_GAIN_B1_CTL:\n\tcase CDC_RX_SIDETONE_IIR0_IIR_GAIN_B2_CTL:\n\tcase CDC_RX_SIDETONE_IIR0_IIR_GAIN_B3_CTL:\n\tcase CDC_RX_SIDETONE_IIR0_IIR_GAIN_B4_CTL:\n\tcase CDC_RX_SIDETONE_IIR0_IIR_GAIN_B5_CTL:\n\tcase CDC_RX_SIDETONE_IIR0_IIR_GAIN_B6_CTL:\n\tcase CDC_RX_SIDETONE_IIR0_IIR_GAIN_B7_CTL:\n\tcase CDC_RX_SIDETONE_IIR0_IIR_GAIN_B8_CTL:\n\tcase CDC_RX_SIDETONE_IIR0_IIR_CTL:\n\tcase CDC_RX_SIDETONE_IIR0_IIR_GAIN_TIMER_CTL:\n\tcase CDC_RX_SIDETONE_IIR0_IIR_COEF_B1_CTL:\n\tcase CDC_RX_SIDETONE_IIR0_IIR_COEF_B2_CTL:\n\tcase CDC_RX_SIDETONE_IIR1_IIR_PATH_CTL:\n\tcase CDC_RX_SIDETONE_IIR1_IIR_GAIN_B1_CTL:\n\tcase CDC_RX_SIDETONE_IIR1_IIR_GAIN_B2_CTL:\n\tcase CDC_RX_SIDETONE_IIR1_IIR_GAIN_B3_CTL:\n\tcase CDC_RX_SIDETONE_IIR1_IIR_GAIN_B4_CTL:\n\tcase CDC_RX_SIDETONE_IIR1_IIR_GAIN_B5_CTL:\n\tcase CDC_RX_SIDETONE_IIR1_IIR_GAIN_B6_CTL:\n\tcase CDC_RX_SIDETONE_IIR1_IIR_GAIN_B7_CTL:\n\tcase CDC_RX_SIDETONE_IIR1_IIR_GAIN_B8_CTL:\n\tcase CDC_RX_SIDETONE_IIR1_IIR_CTL:\n\tcase CDC_RX_SIDETONE_IIR1_IIR_GAIN_TIMER_CTL:\n\tcase CDC_RX_SIDETONE_IIR1_IIR_COEF_B1_CTL:\n\tcase CDC_RX_SIDETONE_IIR1_IIR_COEF_B2_CTL:\n\tcase CDC_RX_IIR_INP_MUX_IIR0_MIX_CFG0:\n\tcase CDC_RX_IIR_INP_MUX_IIR0_MIX_CFG1:\n\tcase CDC_RX_IIR_INP_MUX_IIR0_MIX_CFG2:\n\tcase CDC_RX_IIR_INP_MUX_IIR0_MIX_CFG3:\n\tcase CDC_RX_IIR_INP_MUX_IIR1_MIX_CFG0:\n\tcase CDC_RX_IIR_INP_MUX_IIR1_MIX_CFG1:\n\tcase CDC_RX_IIR_INP_MUX_IIR1_MIX_CFG2:\n\tcase CDC_RX_IIR_INP_MUX_IIR1_MIX_CFG3:\n\tcase CDC_RX_SIDETONE_SRC0_ST_SRC_PATH_CTL:\n\tcase CDC_RX_SIDETONE_SRC0_ST_SRC_PATH_CFG1:\n\tcase CDC_RX_SIDETONE_SRC1_ST_SRC_PATH_CTL:\n\tcase CDC_RX_SIDETONE_SRC1_ST_SRC_PATH_CFG1:\n\tcase CDC_RX_EC_REF_HQ0_EC_REF_HQ_PATH_CTL:\n\tcase CDC_RX_EC_REF_HQ0_EC_REF_HQ_CFG0:\n\tcase CDC_RX_EC_REF_HQ1_EC_REF_HQ_PATH_CTL:\n\tcase CDC_RX_EC_REF_HQ1_EC_REF_HQ_CFG0:\n\tcase CDC_RX_EC_REF_HQ2_EC_REF_HQ_PATH_CTL:\n\tcase CDC_RX_EC_REF_HQ2_EC_REF_HQ_CFG0:\n\tcase CDC_RX_EC_ASRC0_CLK_RST_CTL:\n\tcase CDC_RX_EC_ASRC0_CTL0:\n\tcase CDC_RX_EC_ASRC0_CTL1:\n\tcase CDC_RX_EC_ASRC0_FIFO_CTL:\n\tcase CDC_RX_EC_ASRC1_CLK_RST_CTL:\n\tcase CDC_RX_EC_ASRC1_CTL0:\n\tcase CDC_RX_EC_ASRC1_CTL1:\n\tcase CDC_RX_EC_ASRC1_FIFO_CTL:\n\tcase CDC_RX_EC_ASRC2_CLK_RST_CTL:\n\tcase CDC_RX_EC_ASRC2_CTL0:\n\tcase CDC_RX_EC_ASRC2_CTL1:\n\tcase CDC_RX_EC_ASRC2_FIFO_CTL:\n\tcase CDC_RX_DSD0_PATH_CTL:\n\tcase CDC_RX_DSD0_CFG0:\n\tcase CDC_RX_DSD0_CFG1:\n\tcase CDC_RX_DSD0_CFG2:\n\tcase CDC_RX_DSD1_PATH_CTL:\n\tcase CDC_RX_DSD1_CFG0:\n\tcase CDC_RX_DSD1_CFG1:\n\tcase CDC_RX_DSD1_CFG2:\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nstatic bool rx_is_writeable_register(struct device *dev, unsigned int reg)\n{\n\tbool ret;\n\n\tret = rx_is_rw_register(dev, reg);\n\tif (!ret)\n\t\treturn rx_is_wronly_register(dev, reg);\n\n\treturn ret;\n}\n\nstatic bool rx_is_readable_register(struct device *dev, unsigned int reg)\n{\n\tswitch (reg) {\n\tcase CDC_RX_TOP_HPHL_COMP_RD_LSB:\n\tcase CDC_RX_TOP_HPHL_COMP_RD_MSB:\n\tcase CDC_RX_TOP_HPHR_COMP_RD_LSB:\n\tcase CDC_RX_TOP_HPHR_COMP_RD_MSB:\n\tcase CDC_RX_TOP_DSD0_DEBUG_CFG2:\n\tcase CDC_RX_TOP_DSD1_DEBUG_CFG2:\n\tcase CDC_RX_BCL_VBAT_GAIN_MON_VAL:\n\tcase CDC_RX_BCL_VBAT_DECODE_ST:\n\tcase CDC_RX_INTR_CTRL_PIN1_STATUS0:\n\tcase CDC_RX_INTR_CTRL_PIN2_STATUS0:\n\tcase CDC_RX_COMPANDER0_CTL6:\n\tcase CDC_RX_COMPANDER1_CTL6:\n\tcase CDC_RX_EC_ASRC0_STATUS_FMIN_CNTR_LSB:\n\tcase CDC_RX_EC_ASRC0_STATUS_FMIN_CNTR_MSB:\n\tcase CDC_RX_EC_ASRC0_STATUS_FMAX_CNTR_LSB:\n\tcase CDC_RX_EC_ASRC0_STATUS_FMAX_CNTR_MSB:\n\tcase CDC_RX_EC_ASRC0_STATUS_FIFO:\n\tcase CDC_RX_EC_ASRC1_STATUS_FMIN_CNTR_LSB:\n\tcase CDC_RX_EC_ASRC1_STATUS_FMIN_CNTR_MSB:\n\tcase CDC_RX_EC_ASRC1_STATUS_FMAX_CNTR_LSB:\n\tcase CDC_RX_EC_ASRC1_STATUS_FMAX_CNTR_MSB:\n\tcase CDC_RX_EC_ASRC1_STATUS_FIFO:\n\tcase CDC_RX_EC_ASRC2_STATUS_FMIN_CNTR_LSB:\n\tcase CDC_RX_EC_ASRC2_STATUS_FMIN_CNTR_MSB:\n\tcase CDC_RX_EC_ASRC2_STATUS_FMAX_CNTR_LSB:\n\tcase CDC_RX_EC_ASRC2_STATUS_FMAX_CNTR_MSB:\n\tcase CDC_RX_EC_ASRC2_STATUS_FIFO:\n\t\treturn true;\n\t}\n\n\treturn rx_is_rw_register(dev, reg);\n}\n\nstatic const struct regmap_config rx_regmap_config = {\n\t.name = \"rx_macro\",\n\t.reg_bits = 16,\n\t.val_bits = 32,  \n\t.reg_stride = 4,\n\t.cache_type = REGCACHE_FLAT,\n\t.reg_defaults = rx_defaults,\n\t.num_reg_defaults = ARRAY_SIZE(rx_defaults),\n\t.max_register = RX_MAX_OFFSET,\n\t.writeable_reg = rx_is_writeable_register,\n\t.volatile_reg = rx_is_volatile_register,\n\t.readable_reg = rx_is_readable_register,\n};\n\nstatic int rx_macro_int_dem_inp_mux_put(struct snd_kcontrol *kcontrol,\n\t\t\t\t\tstruct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_soc_dapm_widget *widget = snd_soc_dapm_kcontrol_widget(kcontrol);\n\tstruct snd_soc_component *component = snd_soc_dapm_to_component(widget->dapm);\n\tstruct soc_enum *e = (struct soc_enum *)kcontrol->private_value;\n\tunsigned short look_ahead_dly_reg;\n\tunsigned int val;\n\n\tval = ucontrol->value.enumerated.item[0];\n\n\tif (e->reg == CDC_RX_RX0_RX_PATH_CFG1)\n\t\tlook_ahead_dly_reg = CDC_RX_RX0_RX_PATH_CFG0;\n\telse if (e->reg == CDC_RX_RX1_RX_PATH_CFG1)\n\t\tlook_ahead_dly_reg = CDC_RX_RX1_RX_PATH_CFG0;\n\n\t \n\tif (val)\n\t\tsnd_soc_component_update_bits(component, look_ahead_dly_reg,\n\t\t\t\t\t      CDC_RX_DLY_ZN_EN_MASK,\n\t\t\t\t\t      CDC_RX_DLY_ZN_ENABLE);\n\telse\n\t\tsnd_soc_component_update_bits(component, look_ahead_dly_reg,\n\t\t\t\t\t      CDC_RX_DLY_ZN_EN_MASK, 0);\n\t \n\treturn snd_soc_dapm_put_enum_double(kcontrol, ucontrol);\n}\n\nstatic const struct snd_kcontrol_new rx_int0_dem_inp_mux =\n\t\tSOC_DAPM_ENUM_EXT(\"rx_int0_dem_inp\", rx_int0_dem_inp_enum,\n\t\t  snd_soc_dapm_get_enum_double, rx_macro_int_dem_inp_mux_put);\nstatic const struct snd_kcontrol_new rx_int1_dem_inp_mux =\n\t\tSOC_DAPM_ENUM_EXT(\"rx_int1_dem_inp\", rx_int1_dem_inp_enum,\n\t\t  snd_soc_dapm_get_enum_double, rx_macro_int_dem_inp_mux_put);\n\nstatic int rx_macro_set_prim_interpolator_rate(struct snd_soc_dai *dai,\n\t\t\t\t\t       int rate_reg_val, u32 sample_rate)\n{\n\n\tu8 int_1_mix1_inp;\n\tu32 j, port;\n\tu16 int_mux_cfg0, int_mux_cfg1;\n\tu16 int_fs_reg;\n\tu8 inp0_sel, inp1_sel, inp2_sel;\n\tstruct snd_soc_component *component = dai->component;\n\tstruct rx_macro *rx = snd_soc_component_get_drvdata(component);\n\n\tfor_each_set_bit(port, &rx->active_ch_mask[dai->id], RX_MACRO_PORTS_MAX) {\n\t\tint_1_mix1_inp = port;\n\t\tint_mux_cfg0 = CDC_RX_INP_MUX_RX_INT0_CFG0;\n\t\t \n\t\tfor (j = 0; j < INTERP_MAX; j++) {\n\t\t\tint_mux_cfg1 = int_mux_cfg0 + 4;\n\n\t\t\tinp0_sel = snd_soc_component_read_field(component, int_mux_cfg0,\n\t\t\t\t\t\t\t\tCDC_RX_INTX_1_MIX_INP0_SEL_MASK);\n\t\t\tinp1_sel = snd_soc_component_read_field(component, int_mux_cfg0,\n\t\t\t\t\t\t\t\tCDC_RX_INTX_1_MIX_INP1_SEL_MASK);\n\t\t\tinp2_sel = snd_soc_component_read_field(component, int_mux_cfg1,\n\t\t\t\t\t\t\t\tCDC_RX_INTX_1_MIX_INP2_SEL_MASK);\n\n\t\t\tif ((inp0_sel == int_1_mix1_inp + INTn_1_INP_SEL_RX0) ||\n\t\t\t    (inp1_sel == int_1_mix1_inp + INTn_1_INP_SEL_RX0) ||\n\t\t\t    (inp2_sel == int_1_mix1_inp + INTn_1_INP_SEL_RX0)) {\n\t\t\t\tint_fs_reg = CDC_RX_RXn_RX_PATH_CTL(j);\n\t\t\t\t \n\t\t\t\tsnd_soc_component_update_bits(component, int_fs_reg,\n\t\t\t\t\t\t\t      CDC_RX_PATH_PCM_RATE_MASK,\n\t\t\t\t\t\t\t      rate_reg_val);\n\t\t\t}\n\t\t\tint_mux_cfg0 += 8;\n\t\t}\n\t}\n\n\treturn 0;\n}\n\nstatic int rx_macro_set_mix_interpolator_rate(struct snd_soc_dai *dai,\n\t\t\t\t\t      int rate_reg_val, u32 sample_rate)\n{\n\n\tu8 int_2_inp;\n\tu32 j, port;\n\tu16 int_mux_cfg1, int_fs_reg;\n\tu8 int_mux_cfg1_val;\n\tstruct snd_soc_component *component = dai->component;\n\tstruct rx_macro *rx = snd_soc_component_get_drvdata(component);\n\n\tfor_each_set_bit(port, &rx->active_ch_mask[dai->id], RX_MACRO_PORTS_MAX) {\n\t\tint_2_inp = port;\n\n\t\tint_mux_cfg1 = CDC_RX_INP_MUX_RX_INT0_CFG1;\n\t\tfor (j = 0; j < INTERP_MAX; j++) {\n\t\t\tint_mux_cfg1_val = snd_soc_component_read_field(component, int_mux_cfg1,\n\t\t\t\t\t\t\t\t\tCDC_RX_INTX_2_SEL_MASK);\n\n\t\t\tif (int_mux_cfg1_val == int_2_inp + INTn_2_INP_SEL_RX0) {\n\t\t\t\tint_fs_reg = CDC_RX_RXn_RX_PATH_MIX_CTL(j);\n\t\t\t\tsnd_soc_component_update_bits(component, int_fs_reg,\n\t\t\t\t\t\t\t      CDC_RX_RXn_MIX_PCM_RATE_MASK,\n\t\t\t\t\t\t\t      rate_reg_val);\n\t\t\t}\n\t\t\tint_mux_cfg1 += 8;\n\t\t}\n\t}\n\treturn 0;\n}\n\nstatic int rx_macro_set_interpolator_rate(struct snd_soc_dai *dai,\n\t\t\t\t\t  u32 sample_rate)\n{\n\tint rate_val = 0;\n\tint i, ret;\n\n\tfor (i = 0; i < ARRAY_SIZE(sr_val_tbl); i++)\n\t\tif (sample_rate == sr_val_tbl[i].sample_rate)\n\t\t\trate_val = sr_val_tbl[i].rate_val;\n\n\tret = rx_macro_set_prim_interpolator_rate(dai, rate_val, sample_rate);\n\tif (ret)\n\t\treturn ret;\n\n\tret = rx_macro_set_mix_interpolator_rate(dai, rate_val, sample_rate);\n\n\treturn ret;\n}\n\nstatic int rx_macro_hw_params(struct snd_pcm_substream *substream,\n\t\t\t      struct snd_pcm_hw_params *params,\n\t\t\t      struct snd_soc_dai *dai)\n{\n\tstruct snd_soc_component *component = dai->component;\n\tstruct rx_macro *rx = snd_soc_component_get_drvdata(component);\n\tint ret;\n\n\tswitch (substream->stream) {\n\tcase SNDRV_PCM_STREAM_PLAYBACK:\n\t\tret = rx_macro_set_interpolator_rate(dai, params_rate(params));\n\t\tif (ret) {\n\t\t\tdev_err(component->dev, \"%s: cannot set sample rate: %u\\n\",\n\t\t\t\t__func__, params_rate(params));\n\t\t\treturn ret;\n\t\t}\n\t\trx->bit_width[dai->id] = params_width(params);\n\t\tbreak;\n\tdefault:\n\t\tbreak;\n\t}\n\treturn 0;\n}\n\nstatic int rx_macro_get_channel_map(struct snd_soc_dai *dai,\n\t\t\t\t    unsigned int *tx_num, unsigned int *tx_slot,\n\t\t\t\t    unsigned int *rx_num, unsigned int *rx_slot)\n{\n\tstruct snd_soc_component *component = dai->component;\n\tstruct rx_macro *rx = snd_soc_component_get_drvdata(component);\n\tu16 val, mask = 0, cnt = 0, temp;\n\n\tswitch (dai->id) {\n\tcase RX_MACRO_AIF1_PB:\n\tcase RX_MACRO_AIF2_PB:\n\tcase RX_MACRO_AIF3_PB:\n\tcase RX_MACRO_AIF4_PB:\n\t\tfor_each_set_bit(temp, &rx->active_ch_mask[dai->id],\n\t\t\t RX_MACRO_PORTS_MAX) {\n\t\t\tmask |= (1 << temp);\n\t\t\tif (++cnt == RX_MACRO_MAX_DMA_CH_PER_PORT)\n\t\t\t\tbreak;\n\t\t}\n\t\t \n\t\tif (mask & 0x0C)\n\t\t\tmask = mask >> 2;\n\t\tif ((mask & 0x10) || (mask & 0x20))\n\t\t\tmask = 0x1;\n\t\t*rx_slot = mask;\n\t\t*rx_num = rx->active_ch_cnt[dai->id];\n\t\tbreak;\n\tcase RX_MACRO_AIF_ECHO:\n\t\tval = snd_soc_component_read(component,\tCDC_RX_INP_MUX_RX_MIX_CFG4);\n\t\tif (val & RX_MACRO_EC_MIX_TX0_MASK) {\n\t\t\tmask |= 0x1;\n\t\t\tcnt++;\n\t\t}\n\t\tif (val & RX_MACRO_EC_MIX_TX1_MASK) {\n\t\t\tmask |= 0x2;\n\t\t\tcnt++;\n\t\t}\n\t\tval = snd_soc_component_read(component,\n\t\t\tCDC_RX_INP_MUX_RX_MIX_CFG5);\n\t\tif (val & RX_MACRO_EC_MIX_TX2_MASK) {\n\t\t\tmask |= 0x4;\n\t\t\tcnt++;\n\t\t}\n\t\t*tx_slot = mask;\n\t\t*tx_num = cnt;\n\t\tbreak;\n\tdefault:\n\t\tdev_err(component->dev, \"%s: Invalid AIF\\n\", __func__);\n\t\tbreak;\n\t}\n\treturn 0;\n}\n\nstatic int rx_macro_digital_mute(struct snd_soc_dai *dai, int mute, int stream)\n{\n\tstruct snd_soc_component *component = dai->component;\n\tuint16_t j, reg, mix_reg, dsm_reg;\n\tu16 int_mux_cfg0, int_mux_cfg1;\n\tu8 int_mux_cfg0_val, int_mux_cfg1_val;\n\n\tswitch (dai->id) {\n\tcase RX_MACRO_AIF1_PB:\n\tcase RX_MACRO_AIF2_PB:\n\tcase RX_MACRO_AIF3_PB:\n\tcase RX_MACRO_AIF4_PB:\n\t\tfor (j = 0; j < INTERP_MAX; j++) {\n\t\t\treg = CDC_RX_RXn_RX_PATH_CTL(j);\n\t\t\tmix_reg = CDC_RX_RXn_RX_PATH_MIX_CTL(j);\n\t\t\tdsm_reg = CDC_RX_RXn_RX_PATH_DSM_CTL(j);\n\n\t\t\tif (mute) {\n\t\t\t\tsnd_soc_component_update_bits(component, reg,\n\t\t\t\t\t\t\t      CDC_RX_PATH_PGA_MUTE_MASK,\n\t\t\t\t\t\t\t      CDC_RX_PATH_PGA_MUTE_ENABLE);\n\t\t\t\tsnd_soc_component_update_bits(component, mix_reg,\n\t\t\t\t\t\t\t      CDC_RX_PATH_PGA_MUTE_MASK,\n\t\t\t\t\t\t\t      CDC_RX_PATH_PGA_MUTE_ENABLE);\n\t\t\t} else {\n\t\t\t\tsnd_soc_component_update_bits(component, reg,\n\t\t\t\t\t\t\t      CDC_RX_PATH_PGA_MUTE_MASK, 0x0);\n\t\t\t\tsnd_soc_component_update_bits(component, mix_reg,\n\t\t\t\t\t\t\t      CDC_RX_PATH_PGA_MUTE_MASK, 0x0);\n\t\t\t}\n\n\t\t\tif (j == INTERP_AUX)\n\t\t\t\tdsm_reg = CDC_RX_RX2_RX_PATH_DSM_CTL;\n\n\t\t\tint_mux_cfg0 = CDC_RX_INP_MUX_RX_INT0_CFG0 + j * 8;\n\t\t\tint_mux_cfg1 = int_mux_cfg0 + 4;\n\t\t\tint_mux_cfg0_val = snd_soc_component_read(component, int_mux_cfg0);\n\t\t\tint_mux_cfg1_val = snd_soc_component_read(component, int_mux_cfg1);\n\n\t\t\tif (snd_soc_component_read(component, dsm_reg) & 0x01) {\n\t\t\t\tif (int_mux_cfg0_val || (int_mux_cfg1_val & 0xF0))\n\t\t\t\t\tsnd_soc_component_update_bits(component, reg, 0x20, 0x20);\n\t\t\t\tif (int_mux_cfg1_val & 0x0F) {\n\t\t\t\t\tsnd_soc_component_update_bits(component, reg, 0x20, 0x20);\n\t\t\t\t\tsnd_soc_component_update_bits(component, mix_reg, 0x20,\n\t\t\t\t\t\t\t\t      0x20);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tbreak;\n\tdefault:\n\t\tbreak;\n\t}\n\treturn 0;\n}\n\nstatic const struct snd_soc_dai_ops rx_macro_dai_ops = {\n\t.hw_params = rx_macro_hw_params,\n\t.get_channel_map = rx_macro_get_channel_map,\n\t.mute_stream = rx_macro_digital_mute,\n};\n\nstatic struct snd_soc_dai_driver rx_macro_dai[] = {\n\t{\n\t\t.name = \"rx_macro_rx1\",\n\t\t.id = RX_MACRO_AIF1_PB,\n\t\t.playback = {\n\t\t\t.stream_name = \"RX_MACRO_AIF1 Playback\",\n\t\t\t.rates = RX_MACRO_RATES | RX_MACRO_FRAC_RATES,\n\t\t\t.formats = RX_MACRO_FORMATS,\n\t\t\t.rate_max = 384000,\n\t\t\t.rate_min = 8000,\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 2,\n\t\t},\n\t\t.ops = &rx_macro_dai_ops,\n\t},\n\t{\n\t\t.name = \"rx_macro_rx2\",\n\t\t.id = RX_MACRO_AIF2_PB,\n\t\t.playback = {\n\t\t\t.stream_name = \"RX_MACRO_AIF2 Playback\",\n\t\t\t.rates = RX_MACRO_RATES | RX_MACRO_FRAC_RATES,\n\t\t\t.formats = RX_MACRO_FORMATS,\n\t\t\t.rate_max = 384000,\n\t\t\t.rate_min = 8000,\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 2,\n\t\t},\n\t\t.ops = &rx_macro_dai_ops,\n\t},\n\t{\n\t\t.name = \"rx_macro_rx3\",\n\t\t.id = RX_MACRO_AIF3_PB,\n\t\t.playback = {\n\t\t\t.stream_name = \"RX_MACRO_AIF3 Playback\",\n\t\t\t.rates = RX_MACRO_RATES | RX_MACRO_FRAC_RATES,\n\t\t\t.formats = RX_MACRO_FORMATS,\n\t\t\t.rate_max = 384000,\n\t\t\t.rate_min = 8000,\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 2,\n\t\t},\n\t\t.ops = &rx_macro_dai_ops,\n\t},\n\t{\n\t\t.name = \"rx_macro_rx4\",\n\t\t.id = RX_MACRO_AIF4_PB,\n\t\t.playback = {\n\t\t\t.stream_name = \"RX_MACRO_AIF4 Playback\",\n\t\t\t.rates = RX_MACRO_RATES | RX_MACRO_FRAC_RATES,\n\t\t\t.formats = RX_MACRO_FORMATS,\n\t\t\t.rate_max = 384000,\n\t\t\t.rate_min = 8000,\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 2,\n\t\t},\n\t\t.ops = &rx_macro_dai_ops,\n\t},\n\t{\n\t\t.name = \"rx_macro_echo\",\n\t\t.id = RX_MACRO_AIF_ECHO,\n\t\t.capture = {\n\t\t\t.stream_name = \"RX_AIF_ECHO Capture\",\n\t\t\t.rates = RX_MACRO_ECHO_RATES,\n\t\t\t.formats = RX_MACRO_ECHO_FORMATS,\n\t\t\t.rate_max = 48000,\n\t\t\t.rate_min = 8000,\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 3,\n\t\t},\n\t\t.ops = &rx_macro_dai_ops,\n\t},\n};\n\nstatic void rx_macro_mclk_enable(struct rx_macro *rx, bool mclk_enable)\n{\n\tstruct regmap *regmap = rx->regmap;\n\n\tif (mclk_enable) {\n\t\tif (rx->rx_mclk_users == 0) {\n\t\t\tregmap_update_bits(regmap, CDC_RX_CLK_RST_CTRL_MCLK_CONTROL,\n\t\t\t\t\t   CDC_RX_CLK_MCLK_EN_MASK |\n\t\t\t\t\t   CDC_RX_CLK_MCLK2_EN_MASK,\n\t\t\t\t\t   CDC_RX_CLK_MCLK_ENABLE |\n\t\t\t\t\t   CDC_RX_CLK_MCLK2_ENABLE);\n\t\t\tregmap_update_bits(regmap, CDC_RX_CLK_RST_CTRL_FS_CNT_CONTROL,\n\t\t\t\t\t   CDC_RX_FS_MCLK_CNT_CLR_MASK, 0x00);\n\t\t\tregmap_update_bits(regmap, CDC_RX_CLK_RST_CTRL_FS_CNT_CONTROL,\n\t\t\t\t\t   CDC_RX_FS_MCLK_CNT_EN_MASK,\n\t\t\t\t\t   CDC_RX_FS_MCLK_CNT_ENABLE);\n\t\t\tregcache_mark_dirty(regmap);\n\t\t\tregcache_sync(regmap);\n\t\t}\n\t\trx->rx_mclk_users++;\n\t} else {\n\t\tif (rx->rx_mclk_users <= 0) {\n\t\t\tdev_err(rx->dev, \"%s: clock already disabled\\n\", __func__);\n\t\t\trx->rx_mclk_users = 0;\n\t\t\treturn;\n\t\t}\n\t\trx->rx_mclk_users--;\n\t\tif (rx->rx_mclk_users == 0) {\n\t\t\tregmap_update_bits(regmap, CDC_RX_CLK_RST_CTRL_FS_CNT_CONTROL,\n\t\t\t\t\t   CDC_RX_FS_MCLK_CNT_EN_MASK, 0x0);\n\t\t\tregmap_update_bits(regmap, CDC_RX_CLK_RST_CTRL_FS_CNT_CONTROL,\n\t\t\t\t\t   CDC_RX_FS_MCLK_CNT_CLR_MASK,\n\t\t\t\t\t   CDC_RX_FS_MCLK_CNT_CLR);\n\t\t\tregmap_update_bits(regmap, CDC_RX_CLK_RST_CTRL_MCLK_CONTROL,\n\t\t\t\t\t   CDC_RX_CLK_MCLK_EN_MASK |\n\t\t\t\t\t   CDC_RX_CLK_MCLK2_EN_MASK, 0x0);\n\t\t}\n\t}\n}\n\nstatic int rx_macro_mclk_event(struct snd_soc_dapm_widget *w,\n\t\t\t       struct snd_kcontrol *kcontrol, int event)\n{\n\tstruct snd_soc_component *component = snd_soc_dapm_to_component(w->dapm);\n\tstruct rx_macro *rx = snd_soc_component_get_drvdata(component);\n\tint ret = 0;\n\n\tswitch (event) {\n\tcase SND_SOC_DAPM_PRE_PMU:\n\t\trx_macro_mclk_enable(rx, true);\n\t\tbreak;\n\tcase SND_SOC_DAPM_POST_PMD:\n\t\trx_macro_mclk_enable(rx, false);\n\t\tbreak;\n\tdefault:\n\t\tdev_err(component->dev, \"%s: invalid DAPM event %d\\n\", __func__, event);\n\t\tret = -EINVAL;\n\t}\n\treturn ret;\n}\n\nstatic bool rx_macro_adie_lb(struct snd_soc_component *component,\n\t\t\t     int interp_idx)\n{\n\tu16 int_mux_cfg0, int_mux_cfg1;\n\tu8 int_n_inp0, int_n_inp1, int_n_inp2;\n\n\tint_mux_cfg0 = CDC_RX_INP_MUX_RX_INT0_CFG0 + interp_idx * 8;\n\tint_mux_cfg1 = int_mux_cfg0 + 4;\n\n\tint_n_inp0 = snd_soc_component_read_field(component, int_mux_cfg0,\n\t\t\t\t\t\t  CDC_RX_INTX_1_MIX_INP0_SEL_MASK);\n\tint_n_inp1 = snd_soc_component_read_field(component, int_mux_cfg0,\n\t\t\t\t\t\t  CDC_RX_INTX_1_MIX_INP1_SEL_MASK);\n\tint_n_inp2 = snd_soc_component_read_field(component, int_mux_cfg1,\n\t\t\t\t\t\t  CDC_RX_INTX_1_MIX_INP2_SEL_MASK);\n\n\tif (int_n_inp0 == INTn_1_INP_SEL_DEC0 ||\n\t\tint_n_inp0 == INTn_1_INP_SEL_DEC1 ||\n\t\tint_n_inp0 == INTn_1_INP_SEL_IIR0 ||\n\t\tint_n_inp0 == INTn_1_INP_SEL_IIR1)\n\t\treturn true;\n\n\tif (int_n_inp1 == INTn_1_INP_SEL_DEC0 ||\n\t\tint_n_inp1 == INTn_1_INP_SEL_DEC1 ||\n\t\tint_n_inp1 == INTn_1_INP_SEL_IIR0 ||\n\t\tint_n_inp1 == INTn_1_INP_SEL_IIR1)\n\t\treturn true;\n\n\tif (int_n_inp2 == INTn_1_INP_SEL_DEC0 ||\n\t\tint_n_inp2 == INTn_1_INP_SEL_DEC1 ||\n\t\tint_n_inp2 == INTn_1_INP_SEL_IIR0 ||\n\t\tint_n_inp2 == INTn_1_INP_SEL_IIR1)\n\t\treturn true;\n\n\treturn false;\n}\n\nstatic int rx_macro_enable_interp_clk(struct snd_soc_component *component,\n\t\t\t\t      int event, int interp_idx);\nstatic int rx_macro_enable_main_path(struct snd_soc_dapm_widget *w,\n\t\t\t\t\tstruct snd_kcontrol *kcontrol,\n\t\t\t\t\tint event)\n{\n\tstruct snd_soc_component *component = snd_soc_dapm_to_component(w->dapm);\n\tu16 gain_reg, reg;\n\n\treg = CDC_RX_RXn_RX_PATH_CTL(w->shift);\n\tgain_reg = CDC_RX_RXn_RX_VOL_CTL(w->shift);\n\n\tswitch (event) {\n\tcase SND_SOC_DAPM_PRE_PMU:\n\t\trx_macro_enable_interp_clk(component, event, w->shift);\n\t\tif (rx_macro_adie_lb(component, w->shift))\n\t\t\tsnd_soc_component_update_bits(component, reg,\n\t\t\t\t\t\t      CDC_RX_PATH_CLK_EN_MASK,\n\t\t\t\t\t\t      CDC_RX_PATH_CLK_ENABLE);\n\t\tbreak;\n\tcase SND_SOC_DAPM_POST_PMU:\n\t\tsnd_soc_component_write(component, gain_reg,\n\t\t\tsnd_soc_component_read(component, gain_reg));\n\t\tbreak;\n\tcase SND_SOC_DAPM_POST_PMD:\n\t\trx_macro_enable_interp_clk(component, event, w->shift);\n\t\tbreak;\n\t}\n\n\treturn 0;\n}\n\nstatic int rx_macro_config_compander(struct snd_soc_component *component,\n\t\t\t\tstruct rx_macro *rx,\n\t\t\t\tint comp, int event)\n{\n\tu8 pcm_rate, val;\n\n\t \n\tif (comp == INTERP_AUX)\n\t\treturn 0;\n\n\tpcm_rate = snd_soc_component_read(component, CDC_RX_RXn_RX_PATH_CTL(comp)) & 0x0F;\n\tif (pcm_rate < 0x06)\n\t\tval = 0x03;\n\telse if (pcm_rate < 0x08)\n\t\tval = 0x01;\n\telse if (pcm_rate < 0x0B)\n\t\tval = 0x02;\n\telse\n\t\tval = 0x00;\n\n\tif (SND_SOC_DAPM_EVENT_ON(event))\n\t\tsnd_soc_component_update_bits(component, CDC_RX_RXn_RX_PATH_CFG3(comp),\n\t\t\t\t\t      CDC_RX_DC_COEFF_SEL_MASK, val);\n\n\tif (SND_SOC_DAPM_EVENT_OFF(event))\n\t\tsnd_soc_component_update_bits(component, CDC_RX_RXn_RX_PATH_CFG3(comp),\n\t\t\t\t\t      CDC_RX_DC_COEFF_SEL_MASK, 0x3);\n\tif (!rx->comp_enabled[comp])\n\t\treturn 0;\n\n\tif (SND_SOC_DAPM_EVENT_ON(event)) {\n\t\t \n\t\tsnd_soc_component_write_field(component, CDC_RX_COMPANDERn_CTL0(comp),\n\t\t\t\t\t      CDC_RX_COMPANDERn_CLK_EN_MASK, 0x1);\n\t\tsnd_soc_component_write_field(component, CDC_RX_COMPANDERn_CTL0(comp),\n\t\t\t\t\t      CDC_RX_COMPANDERn_SOFT_RST_MASK, 0x1);\n\t\tsnd_soc_component_write_field(component, CDC_RX_COMPANDERn_CTL0(comp),\n\t\t\t\t\t      CDC_RX_COMPANDERn_SOFT_RST_MASK, 0x0);\n\t\tsnd_soc_component_write_field(component, CDC_RX_RXn_RX_PATH_CFG0(comp),\n\t\t\t\t\t      CDC_RX_RXn_COMP_EN_MASK, 0x1);\n\t}\n\n\tif (SND_SOC_DAPM_EVENT_OFF(event)) {\n\t\tsnd_soc_component_write_field(component, CDC_RX_COMPANDERn_CTL0(comp),\n\t\t\t\t\t      CDC_RX_COMPANDERn_HALT_MASK, 0x1);\n\t\tsnd_soc_component_write_field(component, CDC_RX_RXn_RX_PATH_CFG0(comp),\n\t\t\t\t\t      CDC_RX_RXn_COMP_EN_MASK, 0x0);\n\t\tsnd_soc_component_write_field(component, CDC_RX_COMPANDERn_CTL0(comp),\n\t\t\t\t\t      CDC_RX_COMPANDERn_CLK_EN_MASK, 0x0);\n\t\tsnd_soc_component_write_field(component, CDC_RX_COMPANDERn_CTL0(comp),\n\t\t\t\t\t      CDC_RX_COMPANDERn_HALT_MASK, 0x0);\n\t}\n\n\treturn 0;\n}\n\nstatic int rx_macro_load_compander_coeff(struct snd_soc_component *component,\n\t\t\t\t\t struct rx_macro *rx,\n\t\t\t\t\t int comp, int event)\n{\n\tu16 comp_coeff_lsb_reg, comp_coeff_msb_reg;\n\tint i;\n\tint hph_pwr_mode;\n\n\t \n\tif (comp == INTERP_AUX)\n\t\treturn 0;\n\n\tif (!rx->comp_enabled[comp])\n\t\treturn 0;\n\n\tif (comp == INTERP_HPHL) {\n\t\tcomp_coeff_lsb_reg = CDC_RX_TOP_HPHL_COMP_WR_LSB;\n\t\tcomp_coeff_msb_reg = CDC_RX_TOP_HPHL_COMP_WR_MSB;\n\t} else if (comp == INTERP_HPHR) {\n\t\tcomp_coeff_lsb_reg = CDC_RX_TOP_HPHR_COMP_WR_LSB;\n\t\tcomp_coeff_msb_reg = CDC_RX_TOP_HPHR_COMP_WR_MSB;\n\t} else {\n\t\t \n\t\treturn 0;\n\t}\n\n\thph_pwr_mode = rx->hph_pwr_mode;\n\n\tif (SND_SOC_DAPM_EVENT_ON(event)) {\n\t\t \n\t\tfor (i = 0; i < COMP_MAX_COEFF; i++) {\n\t\t\tsnd_soc_component_write(component, comp_coeff_lsb_reg,\n\t\t\t\t\tcomp_coeff_table[hph_pwr_mode][i].lsb);\n\t\t\tsnd_soc_component_write(component, comp_coeff_msb_reg,\n\t\t\t\t\tcomp_coeff_table[hph_pwr_mode][i].msb);\n\t\t}\n\t}\n\n\treturn 0;\n}\n\nstatic void rx_macro_enable_softclip_clk(struct snd_soc_component *component,\n\t\t\t\t\t struct rx_macro *rx, bool enable)\n{\n\tif (enable) {\n\t\tif (rx->softclip_clk_users == 0)\n\t\t\tsnd_soc_component_write_field(component, CDC_RX_SOFTCLIP_CRC,\n\t\t\t\t\t\t      CDC_RX_SOFTCLIP_CLK_EN_MASK, 1);\n\t\trx->softclip_clk_users++;\n\t} else {\n\t\trx->softclip_clk_users--;\n\t\tif (rx->softclip_clk_users == 0)\n\t\t\tsnd_soc_component_write_field(component, CDC_RX_SOFTCLIP_CRC,\n\t\t\t\t\t\t      CDC_RX_SOFTCLIP_CLK_EN_MASK, 0);\n\t}\n}\n\nstatic int rx_macro_config_softclip(struct snd_soc_component *component,\n\t\t\t\t    struct rx_macro *rx, int event)\n{\n\n\tif (!rx->is_softclip_on)\n\t\treturn 0;\n\n\tif (SND_SOC_DAPM_EVENT_ON(event)) {\n\t\t \n\t\trx_macro_enable_softclip_clk(component, rx, true);\n\t\t \n\t\tsnd_soc_component_write_field(component, CDC_RX_SOFTCLIP_SOFTCLIP_CTRL,\n\t\t\t\t\t     CDC_RX_SOFTCLIP_EN_MASK, 0x01);\n\t}\n\n\tif (SND_SOC_DAPM_EVENT_OFF(event)) {\n\t\tsnd_soc_component_write_field(component, CDC_RX_SOFTCLIP_SOFTCLIP_CTRL,\n\t\t\t\t\t     CDC_RX_SOFTCLIP_EN_MASK, 0x0);\n\t\trx_macro_enable_softclip_clk(component, rx, false);\n\t}\n\n\treturn 0;\n}\n\nstatic int rx_macro_config_aux_hpf(struct snd_soc_component *component,\n\t\t\t\t   struct rx_macro *rx, int event)\n{\n\tif (SND_SOC_DAPM_EVENT_ON(event)) {\n\t\t \n\t\tif (!rx->is_aux_hpf_on)\n\t\t\tsnd_soc_component_update_bits(component,\n\t\t\t\tCDC_RX_RX2_RX_PATH_CFG1, 0x04, 0x00);\n\t}\n\n\tif (SND_SOC_DAPM_EVENT_OFF(event)) {\n\t\t \n\t\tsnd_soc_component_update_bits(component,\n\t\t\tCDC_RX_RX2_RX_PATH_CFG1, 0x04, 0x04);\n\t}\n\n\treturn 0;\n}\n\nstatic inline void rx_macro_enable_clsh_block(struct rx_macro *rx, bool enable)\n{\n\tif ((enable && ++rx->clsh_users == 1) || (!enable && --rx->clsh_users == 0))\n\t\tsnd_soc_component_update_bits(rx->component, CDC_RX_CLSH_CRC,\n\t\t\t\t\t     CDC_RX_CLSH_CLK_EN_MASK, enable);\n\tif (rx->clsh_users < 0)\n\t\trx->clsh_users = 0;\n}\n\nstatic int rx_macro_config_classh(struct snd_soc_component *component,\n\t\t\t\tstruct rx_macro *rx,\n\t\t\t\tint interp_n, int event)\n{\n\tif (SND_SOC_DAPM_EVENT_OFF(event)) {\n\t\trx_macro_enable_clsh_block(rx, false);\n\t\treturn 0;\n\t}\n\n\tif (!SND_SOC_DAPM_EVENT_ON(event))\n\t\treturn 0;\n\n\trx_macro_enable_clsh_block(rx, true);\n\tif (interp_n == INTERP_HPHL ||\n\t\tinterp_n == INTERP_HPHR) {\n\t\t \n\t\tsnd_soc_component_write(component, CDC_RX_CLSH_K1_LSB, 0xc0);\n\t\tsnd_soc_component_write_field(component, CDC_RX_CLSH_K1_MSB,\n\t\t\t\t\t      CDC_RX_CLSH_K1_MSB_COEFF_MASK, 0);\n\t}\n\tswitch (interp_n) {\n\tcase INTERP_HPHL:\n\t\tif (rx->is_ear_mode_on)\n\t\t\tsnd_soc_component_update_bits(component,\n\t\t\t\tCDC_RX_CLSH_HPH_V_PA,\n\t\t\t\tCDC_RX_CLSH_HPH_V_PA_MIN_MASK, 0x39);\n\t\telse\n\t\t\tsnd_soc_component_update_bits(component,\n\t\t\t\tCDC_RX_CLSH_HPH_V_PA,\n\t\t\t\tCDC_RX_CLSH_HPH_V_PA_MIN_MASK, 0x1c);\n\t\tsnd_soc_component_update_bits(component,\n\t\t\t\tCDC_RX_CLSH_DECAY_CTRL,\n\t\t\t\tCDC_RX_CLSH_DECAY_RATE_MASK, 0x0);\n\t\tsnd_soc_component_write_field(component,\n\t\t\t\tCDC_RX_RX0_RX_PATH_CFG0,\n\t\t\t\tCDC_RX_RXn_CLSH_EN_MASK, 0x1);\n\t\tbreak;\n\tcase INTERP_HPHR:\n\t\tif (rx->is_ear_mode_on)\n\t\t\tsnd_soc_component_update_bits(component,\n\t\t\t\tCDC_RX_CLSH_HPH_V_PA,\n\t\t\t\tCDC_RX_CLSH_HPH_V_PA_MIN_MASK, 0x39);\n\t\telse\n\t\t\tsnd_soc_component_update_bits(component,\n\t\t\t\tCDC_RX_CLSH_HPH_V_PA,\n\t\t\t\tCDC_RX_CLSH_HPH_V_PA_MIN_MASK, 0x1c);\n\t\tsnd_soc_component_update_bits(component,\n\t\t\t\tCDC_RX_CLSH_DECAY_CTRL,\n\t\t\t\tCDC_RX_CLSH_DECAY_RATE_MASK, 0x0);\n\t\tsnd_soc_component_write_field(component,\n\t\t\t\tCDC_RX_RX1_RX_PATH_CFG0,\n\t\t\t\tCDC_RX_RXn_CLSH_EN_MASK, 0x1);\n\t\tbreak;\n\tcase INTERP_AUX:\n\t\tsnd_soc_component_update_bits(component,\n\t\t\t\tCDC_RX_RX2_RX_PATH_CFG0,\n\t\t\t\tCDC_RX_RX2_DLY_Z_EN_MASK, 1);\n\t\tsnd_soc_component_write_field(component,\n\t\t\t\tCDC_RX_RX2_RX_PATH_CFG0,\n\t\t\t\tCDC_RX_RX2_CLSH_EN_MASK, 1);\n\t\tbreak;\n\t}\n\n\treturn 0;\n}\n\nstatic void rx_macro_hd2_control(struct snd_soc_component *component,\n\t\t\t\t u16 interp_idx, int event)\n{\n\tu16 hd2_scale_reg, hd2_enable_reg;\n\n\tswitch (interp_idx) {\n\tcase INTERP_HPHL:\n\t\thd2_scale_reg = CDC_RX_RX0_RX_PATH_SEC3;\n\t\thd2_enable_reg = CDC_RX_RX0_RX_PATH_CFG0;\n\t\tbreak;\n\tcase INTERP_HPHR:\n\t\thd2_scale_reg = CDC_RX_RX1_RX_PATH_SEC3;\n\t\thd2_enable_reg = CDC_RX_RX1_RX_PATH_CFG0;\n\t\tbreak;\n\t}\n\n\tif (hd2_enable_reg && SND_SOC_DAPM_EVENT_ON(event)) {\n\t\tsnd_soc_component_update_bits(component, hd2_scale_reg,\n\t\t\t\tCDC_RX_RXn_HD2_ALPHA_MASK, 0x14);\n\t\tsnd_soc_component_write_field(component, hd2_enable_reg,\n\t\t\t\t\t      CDC_RX_RXn_HD2_EN_MASK, 1);\n\t}\n\n\tif (hd2_enable_reg && SND_SOC_DAPM_EVENT_OFF(event)) {\n\t\tsnd_soc_component_write_field(component, hd2_enable_reg,\n\t\t\t\t\t      CDC_RX_RXn_HD2_EN_MASK, 0);\n\t\tsnd_soc_component_update_bits(component, hd2_scale_reg,\n\t\t\t\tCDC_RX_RXn_HD2_ALPHA_MASK, 0x0);\n\t}\n}\n\nstatic int rx_macro_get_compander(struct snd_kcontrol *kcontrol,\n\t\t\t       struct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_soc_component *component =\n\t\t\t\tsnd_soc_kcontrol_component(kcontrol);\n\tint comp = ((struct soc_mixer_control *) kcontrol->private_value)->shift;\n\tstruct rx_macro *rx = snd_soc_component_get_drvdata(component);\n\n\tucontrol->value.integer.value[0] = rx->comp_enabled[comp];\n\treturn 0;\n}\n\nstatic int rx_macro_set_compander(struct snd_kcontrol *kcontrol,\n\t\t\t       struct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_soc_component *component = snd_soc_kcontrol_component(kcontrol);\n\tint comp = ((struct soc_mixer_control *)  kcontrol->private_value)->shift;\n\tint value = ucontrol->value.integer.value[0];\n\tstruct rx_macro *rx = snd_soc_component_get_drvdata(component);\n\n\trx->comp_enabled[comp] = value;\n\n\treturn 0;\n}\n\nstatic int rx_macro_mux_get(struct snd_kcontrol *kcontrol,\n\t\t\t  struct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_soc_dapm_widget *widget = snd_soc_dapm_kcontrol_widget(kcontrol);\n\tstruct snd_soc_component *component = snd_soc_dapm_to_component(widget->dapm);\n\tstruct rx_macro *rx = snd_soc_component_get_drvdata(component);\n\n\tucontrol->value.enumerated.item[0] =\n\t\t\trx->rx_port_value[widget->shift];\n\treturn 0;\n}\n\nstatic int rx_macro_mux_put(struct snd_kcontrol *kcontrol,\n\t\t\t    struct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_soc_dapm_widget *widget = snd_soc_dapm_kcontrol_widget(kcontrol);\n\tstruct snd_soc_component *component = snd_soc_dapm_to_component(widget->dapm);\n\tstruct soc_enum *e = (struct soc_enum *)kcontrol->private_value;\n\tstruct snd_soc_dapm_update *update = NULL;\n\tu32 rx_port_value = ucontrol->value.enumerated.item[0];\n\tu32 aif_rst;\n\tstruct rx_macro *rx = snd_soc_component_get_drvdata(component);\n\n\taif_rst = rx->rx_port_value[widget->shift];\n\tif (!rx_port_value) {\n\t\tif (aif_rst == 0)\n\t\t\treturn 0;\n\t\tif (aif_rst > RX_MACRO_AIF4_PB) {\n\t\t\tdev_err(component->dev, \"%s: Invalid AIF reset\\n\", __func__);\n\t\t\treturn 0;\n\t\t}\n\t}\n\trx->rx_port_value[widget->shift] = rx_port_value;\n\n\tswitch (rx_port_value) {\n\tcase 0:\n\t\tif (rx->active_ch_cnt[aif_rst]) {\n\t\t\tclear_bit(widget->shift,\n\t\t\t\t&rx->active_ch_mask[aif_rst]);\n\t\t\trx->active_ch_cnt[aif_rst]--;\n\t\t}\n\t\tbreak;\n\tcase 1:\n\tcase 2:\n\tcase 3:\n\tcase 4:\n\t\tset_bit(widget->shift,\n\t\t\t&rx->active_ch_mask[rx_port_value]);\n\t\trx->active_ch_cnt[rx_port_value]++;\n\t\tbreak;\n\tdefault:\n\t\tdev_err(component->dev,\n\t\t\t\"%s:Invalid AIF_ID for RX_MACRO MUX %d\\n\",\n\t\t\t__func__, rx_port_value);\n\t\tgoto err;\n\t}\n\n\tsnd_soc_dapm_mux_update_power(widget->dapm, kcontrol,\n\t\t\t\t\trx_port_value, e, update);\n\treturn 0;\nerr:\n\treturn -EINVAL;\n}\n\nstatic const struct snd_kcontrol_new rx_macro_rx0_mux =\n\t\tSOC_DAPM_ENUM_EXT(\"rx_macro_rx0\", rx_macro_rx0_enum,\n\t\t  rx_macro_mux_get, rx_macro_mux_put);\nstatic const struct snd_kcontrol_new rx_macro_rx1_mux =\n\t\tSOC_DAPM_ENUM_EXT(\"rx_macro_rx1\", rx_macro_rx1_enum,\n\t\t  rx_macro_mux_get, rx_macro_mux_put);\nstatic const struct snd_kcontrol_new rx_macro_rx2_mux =\n\t\tSOC_DAPM_ENUM_EXT(\"rx_macro_rx2\", rx_macro_rx2_enum,\n\t\t  rx_macro_mux_get, rx_macro_mux_put);\nstatic const struct snd_kcontrol_new rx_macro_rx3_mux =\n\t\tSOC_DAPM_ENUM_EXT(\"rx_macro_rx3\", rx_macro_rx3_enum,\n\t\t  rx_macro_mux_get, rx_macro_mux_put);\nstatic const struct snd_kcontrol_new rx_macro_rx4_mux =\n\t\tSOC_DAPM_ENUM_EXT(\"rx_macro_rx4\", rx_macro_rx4_enum,\n\t\t  rx_macro_mux_get, rx_macro_mux_put);\nstatic const struct snd_kcontrol_new rx_macro_rx5_mux =\n\t\tSOC_DAPM_ENUM_EXT(\"rx_macro_rx5\", rx_macro_rx5_enum,\n\t\t  rx_macro_mux_get, rx_macro_mux_put);\n\nstatic int rx_macro_get_ear_mode(struct snd_kcontrol *kcontrol,\n\t\t\t       struct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_soc_component *component = snd_soc_kcontrol_component(kcontrol);\n\tstruct rx_macro *rx = snd_soc_component_get_drvdata(component);\n\n\tucontrol->value.integer.value[0] = rx->is_ear_mode_on;\n\treturn 0;\n}\n\nstatic int rx_macro_put_ear_mode(struct snd_kcontrol *kcontrol,\n\t\t\t       struct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_soc_component *component = snd_soc_kcontrol_component(kcontrol);\n\tstruct rx_macro *rx = snd_soc_component_get_drvdata(component);\n\n\trx->is_ear_mode_on = (!ucontrol->value.integer.value[0] ? false : true);\n\treturn 0;\n}\n\nstatic int rx_macro_get_hph_hd2_mode(struct snd_kcontrol *kcontrol,\n\t\t\t       struct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_soc_component *component = snd_soc_kcontrol_component(kcontrol);\n\tstruct rx_macro *rx = snd_soc_component_get_drvdata(component);\n\n\tucontrol->value.integer.value[0] = rx->hph_hd2_mode;\n\treturn 0;\n}\n\nstatic int rx_macro_put_hph_hd2_mode(struct snd_kcontrol *kcontrol,\n\t\t\t       struct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_soc_component *component = snd_soc_kcontrol_component(kcontrol);\n\tstruct rx_macro *rx = snd_soc_component_get_drvdata(component);\n\n\trx->hph_hd2_mode = ucontrol->value.integer.value[0];\n\treturn 0;\n}\n\nstatic int rx_macro_get_hph_pwr_mode(struct snd_kcontrol *kcontrol,\n\t\t\t       struct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_soc_component *component = snd_soc_kcontrol_component(kcontrol);\n\tstruct rx_macro *rx = snd_soc_component_get_drvdata(component);\n\n\tucontrol->value.enumerated.item[0] = rx->hph_pwr_mode;\n\treturn 0;\n}\n\nstatic int rx_macro_put_hph_pwr_mode(struct snd_kcontrol *kcontrol,\n\t\t\t       struct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_soc_component *component = snd_soc_kcontrol_component(kcontrol);\n\tstruct rx_macro *rx = snd_soc_component_get_drvdata(component);\n\n\trx->hph_pwr_mode = ucontrol->value.enumerated.item[0];\n\treturn 0;\n}\n\nstatic int rx_macro_soft_clip_enable_get(struct snd_kcontrol *kcontrol,\n\t\t\t\t\t  struct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_soc_component *component = snd_soc_kcontrol_component(kcontrol);\n\tstruct rx_macro *rx = snd_soc_component_get_drvdata(component);\n\n\tucontrol->value.integer.value[0] = rx->is_softclip_on;\n\n\treturn 0;\n}\n\nstatic int rx_macro_soft_clip_enable_put(struct snd_kcontrol *kcontrol,\n\t\t\t\t\t  struct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_soc_component *component = snd_soc_kcontrol_component(kcontrol);\n\tstruct rx_macro *rx = snd_soc_component_get_drvdata(component);\n\n\trx->is_softclip_on = ucontrol->value.integer.value[0];\n\n\treturn 0;\n}\n\nstatic int rx_macro_aux_hpf_mode_get(struct snd_kcontrol *kcontrol,\n\t\t\t\t\t  struct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_soc_component *component = snd_soc_kcontrol_component(kcontrol);\n\tstruct rx_macro *rx = snd_soc_component_get_drvdata(component);\n\n\tucontrol->value.integer.value[0] = rx->is_aux_hpf_on;\n\n\treturn 0;\n}\n\nstatic int rx_macro_aux_hpf_mode_put(struct snd_kcontrol *kcontrol,\n\t\t\t\t\t  struct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_soc_component *component = snd_soc_kcontrol_component(kcontrol);\n\tstruct rx_macro *rx = snd_soc_component_get_drvdata(component);\n\n\trx->is_aux_hpf_on = ucontrol->value.integer.value[0];\n\n\treturn 0;\n}\n\nstatic int rx_macro_hphdelay_lutbypass(struct snd_soc_component *component,\n\t\t\t\t\tstruct rx_macro *rx,\n\t\t\t\t\tu16 interp_idx, int event)\n{\n\tu16 hph_lut_bypass_reg;\n\tu16 hph_comp_ctrl7;\n\n\tswitch (interp_idx) {\n\tcase INTERP_HPHL:\n\t\thph_lut_bypass_reg = CDC_RX_TOP_HPHL_COMP_LUT;\n\t\thph_comp_ctrl7 = CDC_RX_COMPANDER0_CTL7;\n\t\tbreak;\n\tcase INTERP_HPHR:\n\t\thph_lut_bypass_reg = CDC_RX_TOP_HPHR_COMP_LUT;\n\t\thph_comp_ctrl7 = CDC_RX_COMPANDER1_CTL7;\n\t\tbreak;\n\tdefault:\n\t\treturn -EINVAL;\n\t}\n\n\tif (hph_lut_bypass_reg && SND_SOC_DAPM_EVENT_ON(event)) {\n\t\tif (interp_idx == INTERP_HPHL) {\n\t\t\tif (rx->is_ear_mode_on)\n\t\t\t\tsnd_soc_component_write_field(component,\n\t\t\t\t\tCDC_RX_RX0_RX_PATH_CFG1,\n\t\t\t\t\tCDC_RX_RX0_HPH_L_EAR_SEL_MASK, 0x1);\n\t\t\telse\n\t\t\t\tsnd_soc_component_write_field(component,\n\t\t\t\t\thph_lut_bypass_reg,\n\t\t\t\t\tCDC_RX_TOP_HPH_LUT_BYPASS_MASK, 1);\n\t\t} else {\n\t\t\tsnd_soc_component_write_field(component, hph_lut_bypass_reg,\n\t\t\t\t\tCDC_RX_TOP_HPH_LUT_BYPASS_MASK, 1);\n\t\t}\n\t\tif (rx->hph_pwr_mode)\n\t\t\tsnd_soc_component_write_field(component, hph_comp_ctrl7,\n\t\t\t\t\tCDC_RX_COMPANDER1_HPH_LOW_PWR_MODE_MASK, 0x0);\n\t}\n\n\tif (hph_lut_bypass_reg && SND_SOC_DAPM_EVENT_OFF(event)) {\n\t\tsnd_soc_component_write_field(component,\n\t\t\t\t\tCDC_RX_RX0_RX_PATH_CFG1,\n\t\t\t\t\tCDC_RX_RX0_HPH_L_EAR_SEL_MASK, 0x0);\n\t\tsnd_soc_component_update_bits(component, hph_lut_bypass_reg,\n\t\t\t\t\tCDC_RX_TOP_HPH_LUT_BYPASS_MASK, 0);\n\t\tsnd_soc_component_write_field(component, hph_comp_ctrl7,\n\t\t\t\t\tCDC_RX_COMPANDER1_HPH_LOW_PWR_MODE_MASK, 0x1);\n\t}\n\n\treturn 0;\n}\n\nstatic int rx_macro_enable_interp_clk(struct snd_soc_component *component,\n\t\t\t\t      int event, int interp_idx)\n{\n\tu16 main_reg, dsm_reg, rx_cfg2_reg;\n\tstruct rx_macro *rx = snd_soc_component_get_drvdata(component);\n\n\tmain_reg = CDC_RX_RXn_RX_PATH_CTL(interp_idx);\n\tdsm_reg = CDC_RX_RXn_RX_PATH_DSM_CTL(interp_idx);\n\tif (interp_idx == INTERP_AUX)\n\t\tdsm_reg = CDC_RX_RX2_RX_PATH_DSM_CTL;\n\trx_cfg2_reg = CDC_RX_RXn_RX_PATH_CFG2(interp_idx);\n\n\tif (SND_SOC_DAPM_EVENT_ON(event)) {\n\t\tif (rx->main_clk_users[interp_idx] == 0) {\n\t\t\t \n\t\t\tsnd_soc_component_write_field(component, main_reg,\n\t\t\t\t\t\t      CDC_RX_PATH_PGA_MUTE_MASK, 0x1);\n\t\t\tsnd_soc_component_write_field(component, dsm_reg,\n\t\t\t\t\t\t      CDC_RX_RXn_DSM_CLK_EN_MASK, 0x1);\n\t\t\tsnd_soc_component_update_bits(component, rx_cfg2_reg,\n\t\t\t\t\tCDC_RX_RXn_HPF_CUT_FREQ_MASK, 0x03);\n\t\t\trx_macro_load_compander_coeff(component, rx, interp_idx, event);\n\t\t\tif (rx->hph_hd2_mode)\n\t\t\t\trx_macro_hd2_control(component, interp_idx, event);\n\t\t\trx_macro_hphdelay_lutbypass(component, rx, interp_idx, event);\n\t\t\trx_macro_config_compander(component, rx, interp_idx, event);\n\t\t\tif (interp_idx == INTERP_AUX) {\n\t\t\t\trx_macro_config_softclip(component, rx,\tevent);\n\t\t\t\trx_macro_config_aux_hpf(component, rx, event);\n\t\t\t}\n\t\t\trx_macro_config_classh(component, rx, interp_idx, event);\n\t\t}\n\t\trx->main_clk_users[interp_idx]++;\n\t}\n\n\tif (SND_SOC_DAPM_EVENT_OFF(event)) {\n\t\trx->main_clk_users[interp_idx]--;\n\t\tif (rx->main_clk_users[interp_idx] <= 0) {\n\t\t\trx->main_clk_users[interp_idx] = 0;\n\t\t\t \n\t\t\tsnd_soc_component_write_field(component, main_reg,\n\t\t\t\t\t\t      CDC_RX_PATH_PGA_MUTE_MASK, 0x1);\n\t\t\t \n\t\t\tsnd_soc_component_write_field(component, dsm_reg,\n\t\t\t\t\t\t      CDC_RX_RXn_DSM_CLK_EN_MASK, 0);\n\t\t\tsnd_soc_component_write_field(component, main_reg,\n\t\t\t\t\t\t      CDC_RX_PATH_CLK_EN_MASK, 0);\n\t\t\t \n\t\t\tsnd_soc_component_write_field(component, main_reg,\n\t\t\t\t\t\t      CDC_RX_PATH_RESET_EN_MASK, 1);\n\t\t\tsnd_soc_component_write_field(component, main_reg,\n\t\t\t\t\t\t      CDC_RX_PATH_RESET_EN_MASK, 0);\n\t\t\t \n\t\t\tsnd_soc_component_update_bits(component, main_reg,\n\t\t\t\t\t\t      CDC_RX_PATH_PCM_RATE_MASK,\n\t\t\t\t\t\t      0x04);\n\t\t\tsnd_soc_component_update_bits(component, rx_cfg2_reg,\n\t\t\t\t\t\t      CDC_RX_RXn_HPF_CUT_FREQ_MASK, 0x00);\n\t\t\trx_macro_config_classh(component, rx, interp_idx, event);\n\t\t\trx_macro_config_compander(component, rx, interp_idx, event);\n\t\t\tif (interp_idx ==  INTERP_AUX) {\n\t\t\t\trx_macro_config_softclip(component, rx,\tevent);\n\t\t\t\trx_macro_config_aux_hpf(component, rx, event);\n\t\t\t}\n\t\t\trx_macro_hphdelay_lutbypass(component, rx, interp_idx, event);\n\t\t\tif (rx->hph_hd2_mode)\n\t\t\t\trx_macro_hd2_control(component, interp_idx, event);\n\t\t}\n\t}\n\n\treturn rx->main_clk_users[interp_idx];\n}\n\nstatic int rx_macro_enable_mix_path(struct snd_soc_dapm_widget *w,\n\t\t\t\t    struct snd_kcontrol *kcontrol, int event)\n{\n\tstruct snd_soc_component *component = snd_soc_dapm_to_component(w->dapm);\n\tu16 gain_reg, mix_reg;\n\n\tgain_reg = CDC_RX_RXn_RX_VOL_MIX_CTL(w->shift);\n\tmix_reg = CDC_RX_RXn_RX_PATH_MIX_CTL(w->shift);\n\n\tswitch (event) {\n\tcase SND_SOC_DAPM_PRE_PMU:\n\t\trx_macro_enable_interp_clk(component, event, w->shift);\n\t\tbreak;\n\tcase SND_SOC_DAPM_POST_PMU:\n\t\tsnd_soc_component_write(component, gain_reg,\n\t\t\t\t\tsnd_soc_component_read(component, gain_reg));\n\t\tbreak;\n\tcase SND_SOC_DAPM_POST_PMD:\n\t\t \n\t\tsnd_soc_component_update_bits(component, mix_reg,\n\t\t\t\t\t      CDC_RX_RXn_MIX_CLK_EN_MASK, 0x00);\n\t\trx_macro_enable_interp_clk(component, event, w->shift);\n\t\t \n\t\tsnd_soc_component_update_bits(component, mix_reg,\n\t\t\t\t\t      CDC_RX_RXn_MIX_RESET_MASK,\n\t\t\t\t\t      CDC_RX_RXn_MIX_RESET);\n\t\tsnd_soc_component_update_bits(component, mix_reg,\n\t\t\t\t\t      CDC_RX_RXn_MIX_RESET_MASK, 0x00);\n\t\tbreak;\n\t}\n\n\treturn 0;\n}\n\nstatic int rx_macro_enable_rx_path_clk(struct snd_soc_dapm_widget *w,\n\t\t\t\t       struct snd_kcontrol *kcontrol, int event)\n{\n\tstruct snd_soc_component *component = snd_soc_dapm_to_component(w->dapm);\n\n\tswitch (event) {\n\tcase SND_SOC_DAPM_PRE_PMU:\n\t\trx_macro_enable_interp_clk(component, event, w->shift);\n\t\tsnd_soc_component_write_field(component, CDC_RX_RXn_RX_PATH_CFG1(w->shift),\n\t\t\t\t\t      CDC_RX_RXn_SIDETONE_EN_MASK, 1);\n\t\tsnd_soc_component_write_field(component, CDC_RX_RXn_RX_PATH_CTL(w->shift),\n\t\t\t\t\t      CDC_RX_PATH_CLK_EN_MASK, 1);\n\t\tbreak;\n\tcase SND_SOC_DAPM_POST_PMD:\n\t\tsnd_soc_component_write_field(component, CDC_RX_RXn_RX_PATH_CFG1(w->shift),\n\t\t\t\t\t      CDC_RX_RXn_SIDETONE_EN_MASK, 0);\n\t\trx_macro_enable_interp_clk(component, event, w->shift);\n\t\tbreak;\n\tdefault:\n\t\tbreak;\n\t}\n\treturn 0;\n}\n\nstatic int rx_macro_set_iir_gain(struct snd_soc_dapm_widget *w,\n\t\t\t\t struct snd_kcontrol *kcontrol, int event)\n{\n\tstruct snd_soc_component *component = snd_soc_dapm_to_component(w->dapm);\n\n\tswitch (event) {\n\tcase SND_SOC_DAPM_POST_PMU:  \n\tcase SND_SOC_DAPM_PRE_PMD:\n\t\tif (strnstr(w->name, \"IIR0\", sizeof(\"IIR0\"))) {\n\t\t\tsnd_soc_component_write(component,\n\t\t\t\tCDC_RX_SIDETONE_IIR0_IIR_GAIN_B1_CTL,\n\t\t\tsnd_soc_component_read(component,\n\t\t\t\tCDC_RX_SIDETONE_IIR0_IIR_GAIN_B1_CTL));\n\t\t\tsnd_soc_component_write(component,\n\t\t\t\tCDC_RX_SIDETONE_IIR0_IIR_GAIN_B2_CTL,\n\t\t\tsnd_soc_component_read(component,\n\t\t\t\tCDC_RX_SIDETONE_IIR0_IIR_GAIN_B2_CTL));\n\t\t\tsnd_soc_component_write(component,\n\t\t\t\tCDC_RX_SIDETONE_IIR0_IIR_GAIN_B3_CTL,\n\t\t\tsnd_soc_component_read(component,\n\t\t\t\tCDC_RX_SIDETONE_IIR0_IIR_GAIN_B3_CTL));\n\t\t\tsnd_soc_component_write(component,\n\t\t\t\tCDC_RX_SIDETONE_IIR0_IIR_GAIN_B4_CTL,\n\t\t\tsnd_soc_component_read(component,\n\t\t\t\tCDC_RX_SIDETONE_IIR0_IIR_GAIN_B4_CTL));\n\t\t} else {\n\t\t\tsnd_soc_component_write(component,\n\t\t\t\tCDC_RX_SIDETONE_IIR1_IIR_GAIN_B1_CTL,\n\t\t\tsnd_soc_component_read(component,\n\t\t\t\tCDC_RX_SIDETONE_IIR1_IIR_GAIN_B1_CTL));\n\t\t\tsnd_soc_component_write(component,\n\t\t\t\tCDC_RX_SIDETONE_IIR1_IIR_GAIN_B2_CTL,\n\t\t\tsnd_soc_component_read(component,\n\t\t\t\tCDC_RX_SIDETONE_IIR1_IIR_GAIN_B2_CTL));\n\t\t\tsnd_soc_component_write(component,\n\t\t\t\tCDC_RX_SIDETONE_IIR1_IIR_GAIN_B3_CTL,\n\t\t\tsnd_soc_component_read(component,\n\t\t\t\tCDC_RX_SIDETONE_IIR1_IIR_GAIN_B3_CTL));\n\t\t\tsnd_soc_component_write(component,\n\t\t\t\tCDC_RX_SIDETONE_IIR1_IIR_GAIN_B4_CTL,\n\t\t\tsnd_soc_component_read(component,\n\t\t\t\tCDC_RX_SIDETONE_IIR1_IIR_GAIN_B4_CTL));\n\t\t}\n\t\tbreak;\n\t}\n\treturn 0;\n}\n\nstatic uint32_t get_iir_band_coeff(struct snd_soc_component *component,\n\t\t\t\t   int iir_idx, int band_idx, int coeff_idx)\n{\n\tu32 value;\n\tint reg, b2_reg;\n\n\t \n\treg = CDC_RX_SIDETONE_IIR0_IIR_COEF_B1_CTL + 0x80 * iir_idx;\n\tb2_reg = CDC_RX_SIDETONE_IIR0_IIR_COEF_B2_CTL + 0x80 * iir_idx;\n\n\tsnd_soc_component_write(component, reg,\n\t\t\t\t((band_idx * BAND_MAX + coeff_idx) *\n\t\t\t\t sizeof(uint32_t)) & 0x7F);\n\n\tvalue = snd_soc_component_read(component, b2_reg);\n\tsnd_soc_component_write(component, reg,\n\t\t\t\t((band_idx * BAND_MAX + coeff_idx)\n\t\t\t\t * sizeof(uint32_t) + 1) & 0x7F);\n\n\tvalue |= (snd_soc_component_read(component, b2_reg) << 8);\n\tsnd_soc_component_write(component, reg,\n\t\t\t\t((band_idx * BAND_MAX + coeff_idx)\n\t\t\t\t * sizeof(uint32_t) + 2) & 0x7F);\n\n\tvalue |= (snd_soc_component_read(component, b2_reg) << 16);\n\tsnd_soc_component_write(component, reg,\n\t\t((band_idx * BAND_MAX + coeff_idx)\n\t\t* sizeof(uint32_t) + 3) & 0x7F);\n\n\t \n\tvalue |= (snd_soc_component_read(component, b2_reg) << 24);\n\treturn value;\n}\n\nstatic void set_iir_band_coeff(struct snd_soc_component *component,\n\t\t\t       int iir_idx, int band_idx, uint32_t value)\n{\n\tint reg = CDC_RX_SIDETONE_IIR0_IIR_COEF_B2_CTL + 0x80 * iir_idx;\n\n\tsnd_soc_component_write(component, reg, (value & 0xFF));\n\tsnd_soc_component_write(component, reg, (value >> 8) & 0xFF);\n\tsnd_soc_component_write(component, reg, (value >> 16) & 0xFF);\n\t \n\tsnd_soc_component_write(component, reg, (value >> 24) & 0x3F);\n}\n\nstatic int rx_macro_put_iir_band_audio_mixer(\n\t\t\t\t\tstruct snd_kcontrol *kcontrol,\n\t\t\t\t\tstruct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_soc_component *component =\n\t\t\tsnd_soc_kcontrol_component(kcontrol);\n\tstruct wcd_iir_filter_ctl *ctl =\n\t\t\t(struct wcd_iir_filter_ctl *)kcontrol->private_value;\n\tstruct soc_bytes_ext *params = &ctl->bytes_ext;\n\tint iir_idx = ctl->iir_idx;\n\tint band_idx = ctl->band_idx;\n\tu32 coeff[BAND_MAX];\n\tint reg = CDC_RX_SIDETONE_IIR0_IIR_COEF_B1_CTL + 0x80 * iir_idx;\n\n\tmemcpy(&coeff[0], ucontrol->value.bytes.data, params->max);\n\n\t \n\t \n\tsnd_soc_component_write(component, reg, (band_idx * BAND_MAX *\n\t\t\t\t\t\t sizeof(uint32_t)) & 0x7F);\n\n\tset_iir_band_coeff(component, iir_idx, band_idx, coeff[0]);\n\tset_iir_band_coeff(component, iir_idx, band_idx, coeff[1]);\n\tset_iir_band_coeff(component, iir_idx, band_idx, coeff[2]);\n\tset_iir_band_coeff(component, iir_idx, band_idx, coeff[3]);\n\tset_iir_band_coeff(component, iir_idx, band_idx, coeff[4]);\n\n\treturn 0;\n}\n\nstatic int rx_macro_get_iir_band_audio_mixer(struct snd_kcontrol *kcontrol,\n\t\t\t\t    struct snd_ctl_elem_value *ucontrol)\n{\n\tstruct snd_soc_component *component =\n\t\t\tsnd_soc_kcontrol_component(kcontrol);\n\tstruct wcd_iir_filter_ctl *ctl =\n\t\t\t(struct wcd_iir_filter_ctl *)kcontrol->private_value;\n\tstruct soc_bytes_ext *params = &ctl->bytes_ext;\n\tint iir_idx = ctl->iir_idx;\n\tint band_idx = ctl->band_idx;\n\tu32 coeff[BAND_MAX];\n\n\tcoeff[0] = get_iir_band_coeff(component, iir_idx, band_idx, 0);\n\tcoeff[1] = get_iir_band_coeff(component, iir_idx, band_idx, 1);\n\tcoeff[2] = get_iir_band_coeff(component, iir_idx, band_idx, 2);\n\tcoeff[3] = get_iir_band_coeff(component, iir_idx, band_idx, 3);\n\tcoeff[4] = get_iir_band_coeff(component, iir_idx, band_idx, 4);\n\n\tmemcpy(ucontrol->value.bytes.data, &coeff[0], params->max);\n\n\treturn 0;\n}\n\nstatic int rx_macro_iir_filter_info(struct snd_kcontrol *kcontrol,\n\t\t\t\t   struct snd_ctl_elem_info *ucontrol)\n{\n\tstruct wcd_iir_filter_ctl *ctl =\n\t\t(struct wcd_iir_filter_ctl *)kcontrol->private_value;\n\tstruct soc_bytes_ext *params = &ctl->bytes_ext;\n\n\tucontrol->type = SNDRV_CTL_ELEM_TYPE_BYTES;\n\tucontrol->count = params->max;\n\n\treturn 0;\n}\n\nstatic const struct snd_kcontrol_new rx_macro_snd_controls[] = {\n\tSOC_SINGLE_S8_TLV(\"RX_RX0 Digital Volume\", CDC_RX_RX0_RX_VOL_CTL,\n\t\t\t  -84, 40, digital_gain),\n\tSOC_SINGLE_S8_TLV(\"RX_RX1 Digital Volume\", CDC_RX_RX1_RX_VOL_CTL,\n\t\t\t  -84, 40, digital_gain),\n\tSOC_SINGLE_S8_TLV(\"RX_RX2 Digital Volume\", CDC_RX_RX2_RX_VOL_CTL,\n\t\t\t  -84, 40, digital_gain),\n\tSOC_SINGLE_S8_TLV(\"RX_RX0 Mix Digital Volume\", CDC_RX_RX0_RX_VOL_MIX_CTL,\n\t\t\t  -84, 40, digital_gain),\n\tSOC_SINGLE_S8_TLV(\"RX_RX1 Mix Digital Volume\", CDC_RX_RX1_RX_VOL_MIX_CTL,\n\t\t\t  -84, 40, digital_gain),\n\tSOC_SINGLE_S8_TLV(\"RX_RX2 Mix Digital Volume\", CDC_RX_RX2_RX_VOL_MIX_CTL,\n\t\t\t  -84, 40, digital_gain),\n\n\tSOC_SINGLE_EXT(\"RX_COMP1 Switch\", SND_SOC_NOPM, RX_MACRO_COMP1, 1, 0,\n\t\trx_macro_get_compander, rx_macro_set_compander),\n\tSOC_SINGLE_EXT(\"RX_COMP2 Switch\", SND_SOC_NOPM, RX_MACRO_COMP2, 1, 0,\n\t\trx_macro_get_compander, rx_macro_set_compander),\n\n\tSOC_SINGLE_EXT(\"RX_EAR Mode Switch\", SND_SOC_NOPM, 0, 1, 0,\n\t\trx_macro_get_ear_mode, rx_macro_put_ear_mode),\n\n\tSOC_SINGLE_EXT(\"RX_HPH HD2 Mode Switch\", SND_SOC_NOPM, 0, 1, 0,\n\t\trx_macro_get_hph_hd2_mode, rx_macro_put_hph_hd2_mode),\n\n\tSOC_ENUM_EXT(\"RX_HPH PWR Mode\", rx_macro_hph_pwr_mode_enum,\n\t\trx_macro_get_hph_pwr_mode, rx_macro_put_hph_pwr_mode),\n\n\tSOC_SINGLE_EXT(\"RX_Softclip Switch\", SND_SOC_NOPM, 0, 1, 0,\n\t\t     rx_macro_soft_clip_enable_get,\n\t\t     rx_macro_soft_clip_enable_put),\n\tSOC_SINGLE_EXT(\"AUX_HPF Switch\", SND_SOC_NOPM, 0, 1, 0,\n\t\t\trx_macro_aux_hpf_mode_get,\n\t\t\trx_macro_aux_hpf_mode_put),\n\n\tSOC_SINGLE_S8_TLV(\"IIR0 INP0 Volume\",\n\t\tCDC_RX_SIDETONE_IIR0_IIR_GAIN_B1_CTL, -84, 40,\n\t\tdigital_gain),\n\tSOC_SINGLE_S8_TLV(\"IIR0 INP1 Volume\",\n\t\tCDC_RX_SIDETONE_IIR0_IIR_GAIN_B2_CTL, -84, 40,\n\t\tdigital_gain),\n\tSOC_SINGLE_S8_TLV(\"IIR0 INP2 Volume\",\n\t\tCDC_RX_SIDETONE_IIR0_IIR_GAIN_B3_CTL, -84, 40,\n\t\tdigital_gain),\n\tSOC_SINGLE_S8_TLV(\"IIR0 INP3 Volume\",\n\t\tCDC_RX_SIDETONE_IIR0_IIR_GAIN_B4_CTL, -84, 40,\n\t\tdigital_gain),\n\tSOC_SINGLE_S8_TLV(\"IIR1 INP0 Volume\",\n\t\tCDC_RX_SIDETONE_IIR1_IIR_GAIN_B1_CTL, -84, 40,\n\t\tdigital_gain),\n\tSOC_SINGLE_S8_TLV(\"IIR1 INP1 Volume\",\n\t\tCDC_RX_SIDETONE_IIR1_IIR_GAIN_B2_CTL, -84, 40,\n\t\tdigital_gain),\n\tSOC_SINGLE_S8_TLV(\"IIR1 INP2 Volume\",\n\t\tCDC_RX_SIDETONE_IIR1_IIR_GAIN_B3_CTL, -84, 40,\n\t\tdigital_gain),\n\tSOC_SINGLE_S8_TLV(\"IIR1 INP3 Volume\",\n\t\tCDC_RX_SIDETONE_IIR1_IIR_GAIN_B4_CTL, -84, 40,\n\t\tdigital_gain),\n\n\tSOC_SINGLE(\"IIR1 Band1 Switch\", CDC_RX_SIDETONE_IIR0_IIR_CTL,\n\t\t   0, 1, 0),\n\tSOC_SINGLE(\"IIR1 Band2 Switch\", CDC_RX_SIDETONE_IIR0_IIR_CTL,\n\t\t   1, 1, 0),\n\tSOC_SINGLE(\"IIR1 Band3 Switch\", CDC_RX_SIDETONE_IIR0_IIR_CTL,\n\t\t   2, 1, 0),\n\tSOC_SINGLE(\"IIR1 Band4 Switch\", CDC_RX_SIDETONE_IIR0_IIR_CTL,\n\t\t   3, 1, 0),\n\tSOC_SINGLE(\"IIR1 Band5 Switch\", CDC_RX_SIDETONE_IIR0_IIR_CTL,\n\t\t   4, 1, 0),\n\tSOC_SINGLE(\"IIR2 Band1 Switch\", CDC_RX_SIDETONE_IIR1_IIR_CTL,\n\t\t   0, 1, 0),\n\tSOC_SINGLE(\"IIR2 Band2 Switch\", CDC_RX_SIDETONE_IIR1_IIR_CTL,\n\t\t   1, 1, 0),\n\tSOC_SINGLE(\"IIR2 Band3 Switch\", CDC_RX_SIDETONE_IIR1_IIR_CTL,\n\t\t   2, 1, 0),\n\tSOC_SINGLE(\"IIR2 Band4 Switch\", CDC_RX_SIDETONE_IIR1_IIR_CTL,\n\t\t   3, 1, 0),\n\tSOC_SINGLE(\"IIR2 Band5 Switch\", CDC_RX_SIDETONE_IIR1_IIR_CTL,\n\t\t   4, 1, 0),\n\n\tRX_MACRO_IIR_FILTER_CTL(\"IIR0 Band1\", IIR0, BAND1),\n\tRX_MACRO_IIR_FILTER_CTL(\"IIR0 Band2\", IIR0, BAND2),\n\tRX_MACRO_IIR_FILTER_CTL(\"IIR0 Band3\", IIR0, BAND3),\n\tRX_MACRO_IIR_FILTER_CTL(\"IIR0 Band4\", IIR0, BAND4),\n\tRX_MACRO_IIR_FILTER_CTL(\"IIR0 Band5\", IIR0, BAND5),\n\n\tRX_MACRO_IIR_FILTER_CTL(\"IIR1 Band1\", IIR1, BAND1),\n\tRX_MACRO_IIR_FILTER_CTL(\"IIR1 Band2\", IIR1, BAND2),\n\tRX_MACRO_IIR_FILTER_CTL(\"IIR1 Band3\", IIR1, BAND3),\n\tRX_MACRO_IIR_FILTER_CTL(\"IIR1 Band4\", IIR1, BAND4),\n\tRX_MACRO_IIR_FILTER_CTL(\"IIR1 Band5\", IIR1, BAND5),\n\n};\n\nstatic int rx_macro_enable_echo(struct snd_soc_dapm_widget *w,\n\t\t\t\tstruct snd_kcontrol *kcontrol,\n\t\t\t\tint event)\n{\n\tstruct snd_soc_component *component = snd_soc_dapm_to_component(w->dapm);\n\tu16 val, ec_hq_reg;\n\tint ec_tx = -1;\n\n\tval = snd_soc_component_read(component,\n\t\t\tCDC_RX_INP_MUX_RX_MIX_CFG4);\n\tif (!(strcmp(w->name, \"RX MIX TX0 MUX\")))\n\t\tec_tx = ((val & 0xf0) >> 0x4) - 1;\n\telse if (!(strcmp(w->name, \"RX MIX TX1 MUX\")))\n\t\tec_tx = (val & 0x0f) - 1;\n\n\tval = snd_soc_component_read(component,\n\t\t\tCDC_RX_INP_MUX_RX_MIX_CFG5);\n\tif (!(strcmp(w->name, \"RX MIX TX2 MUX\")))\n\t\tec_tx = (val & 0x0f) - 1;\n\n\tif (ec_tx < 0 || (ec_tx >= RX_MACRO_EC_MUX_MAX)) {\n\t\tdev_err(component->dev, \"%s: EC mix control not set correctly\\n\",\n\t\t\t__func__);\n\t\treturn -EINVAL;\n\t}\n\tec_hq_reg = CDC_RX_EC_REF_HQ0_EC_REF_HQ_PATH_CTL +\n\t\t\t    0x40 * ec_tx;\n\tsnd_soc_component_update_bits(component, ec_hq_reg, 0x01, 0x01);\n\tec_hq_reg = CDC_RX_EC_REF_HQ0_EC_REF_HQ_CFG0 +\n\t\t\t\t0x40 * ec_tx;\n\t \n\tsnd_soc_component_update_bits(component, ec_hq_reg, 0x1E, 0x08);\n\n\treturn 0;\n}\n\nstatic const struct snd_soc_dapm_widget rx_macro_dapm_widgets[] = {\n\tSND_SOC_DAPM_AIF_IN(\"RX AIF1 PB\", \"RX_MACRO_AIF1 Playback\", 0,\n\t\tSND_SOC_NOPM, 0, 0),\n\n\tSND_SOC_DAPM_AIF_IN(\"RX AIF2 PB\", \"RX_MACRO_AIF2 Playback\", 0,\n\t\tSND_SOC_NOPM, 0, 0),\n\n\tSND_SOC_DAPM_AIF_IN(\"RX AIF3 PB\", \"RX_MACRO_AIF3 Playback\", 0,\n\t\tSND_SOC_NOPM, 0, 0),\n\n\tSND_SOC_DAPM_AIF_IN(\"RX AIF4 PB\", \"RX_MACRO_AIF4 Playback\", 0,\n\t\tSND_SOC_NOPM, 0, 0),\n\n\tSND_SOC_DAPM_AIF_OUT(\"RX AIF_ECHO\", \"RX_AIF_ECHO Capture\", 0,\n\t\tSND_SOC_NOPM, 0, 0),\n\n\tSND_SOC_DAPM_MUX(\"RX_MACRO RX0 MUX\", SND_SOC_NOPM, RX_MACRO_RX0, 0,\n\t\t\t &rx_macro_rx0_mux),\n\tSND_SOC_DAPM_MUX(\"RX_MACRO RX1 MUX\", SND_SOC_NOPM, RX_MACRO_RX1, 0,\n\t\t\t &rx_macro_rx1_mux),\n\tSND_SOC_DAPM_MUX(\"RX_MACRO RX2 MUX\", SND_SOC_NOPM, RX_MACRO_RX2, 0,\n\t\t\t &rx_macro_rx2_mux),\n\tSND_SOC_DAPM_MUX(\"RX_MACRO RX3 MUX\", SND_SOC_NOPM, RX_MACRO_RX3, 0,\n\t\t\t &rx_macro_rx3_mux),\n\tSND_SOC_DAPM_MUX(\"RX_MACRO RX4 MUX\", SND_SOC_NOPM, RX_MACRO_RX4, 0,\n\t\t\t &rx_macro_rx4_mux),\n\tSND_SOC_DAPM_MUX(\"RX_MACRO RX5 MUX\", SND_SOC_NOPM, RX_MACRO_RX5, 0,\n\t\t\t &rx_macro_rx5_mux),\n\n\tSND_SOC_DAPM_MIXER(\"RX_RX0\", SND_SOC_NOPM, 0, 0, NULL, 0),\n\tSND_SOC_DAPM_MIXER(\"RX_RX1\", SND_SOC_NOPM, 0, 0, NULL, 0),\n\tSND_SOC_DAPM_MIXER(\"RX_RX2\", SND_SOC_NOPM, 0, 0, NULL, 0),\n\tSND_SOC_DAPM_MIXER(\"RX_RX3\", SND_SOC_NOPM, 0, 0, NULL, 0),\n\tSND_SOC_DAPM_MIXER(\"RX_RX4\", SND_SOC_NOPM, 0, 0, NULL, 0),\n\tSND_SOC_DAPM_MIXER(\"RX_RX5\", SND_SOC_NOPM, 0, 0, NULL, 0),\n\n\tSND_SOC_DAPM_MUX(\"IIR0 INP0 MUX\", SND_SOC_NOPM, 0, 0, &iir0_inp0_mux),\n\tSND_SOC_DAPM_MUX(\"IIR0 INP1 MUX\", SND_SOC_NOPM, 0, 0, &iir0_inp1_mux),\n\tSND_SOC_DAPM_MUX(\"IIR0 INP2 MUX\", SND_SOC_NOPM, 0, 0, &iir0_inp2_mux),\n\tSND_SOC_DAPM_MUX(\"IIR0 INP3 MUX\", SND_SOC_NOPM, 0, 0, &iir0_inp3_mux),\n\tSND_SOC_DAPM_MUX(\"IIR1 INP0 MUX\", SND_SOC_NOPM, 0, 0, &iir1_inp0_mux),\n\tSND_SOC_DAPM_MUX(\"IIR1 INP1 MUX\", SND_SOC_NOPM, 0, 0, &iir1_inp1_mux),\n\tSND_SOC_DAPM_MUX(\"IIR1 INP2 MUX\", SND_SOC_NOPM, 0, 0, &iir1_inp2_mux),\n\tSND_SOC_DAPM_MUX(\"IIR1 INP3 MUX\", SND_SOC_NOPM, 0, 0, &iir1_inp3_mux),\n\n\tSND_SOC_DAPM_MUX_E(\"RX MIX TX0 MUX\", SND_SOC_NOPM,\n\t\t\t   RX_MACRO_EC0_MUX, 0,\n\t\t\t   &rx_mix_tx0_mux, rx_macro_enable_echo,\n\t\t\t   SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMD),\n\tSND_SOC_DAPM_MUX_E(\"RX MIX TX1 MUX\", SND_SOC_NOPM,\n\t\t\t   RX_MACRO_EC1_MUX, 0,\n\t\t\t   &rx_mix_tx1_mux, rx_macro_enable_echo,\n\t\t\t   SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMD),\n\tSND_SOC_DAPM_MUX_E(\"RX MIX TX2 MUX\", SND_SOC_NOPM,\n\t\t\t   RX_MACRO_EC2_MUX, 0,\n\t\t\t   &rx_mix_tx2_mux, rx_macro_enable_echo,\n\t\t\t   SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMD),\n\n\tSND_SOC_DAPM_MIXER_E(\"IIR0\", CDC_RX_SIDETONE_IIR0_IIR_PATH_CTL,\n\t\t4, 0, NULL, 0, rx_macro_set_iir_gain,\n\t\tSND_SOC_DAPM_POST_PMU | SND_SOC_DAPM_PRE_PMD),\n\tSND_SOC_DAPM_MIXER_E(\"IIR1\", CDC_RX_SIDETONE_IIR1_IIR_PATH_CTL,\n\t\t4, 0, NULL, 0, rx_macro_set_iir_gain,\n\t\tSND_SOC_DAPM_POST_PMU | SND_SOC_DAPM_PRE_PMD),\n\tSND_SOC_DAPM_MIXER(\"SRC0\", CDC_RX_SIDETONE_SRC0_ST_SRC_PATH_CTL,\n\t\t4, 0, NULL, 0),\n\tSND_SOC_DAPM_MIXER(\"SRC1\", CDC_RX_SIDETONE_SRC1_ST_SRC_PATH_CTL,\n\t\t4, 0, NULL, 0),\n\n\tSND_SOC_DAPM_MUX(\"RX INT0 DEM MUX\", SND_SOC_NOPM, 0, 0,\n\t\t\t &rx_int0_dem_inp_mux),\n\tSND_SOC_DAPM_MUX(\"RX INT1 DEM MUX\", SND_SOC_NOPM, 0, 0,\n\t\t\t &rx_int1_dem_inp_mux),\n\n\tSND_SOC_DAPM_MUX_E(\"RX INT0_2 MUX\", SND_SOC_NOPM, INTERP_HPHL, 0,\n\t\t&rx_int0_2_mux, rx_macro_enable_mix_path,\n\t\tSND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMU |\n\t\tSND_SOC_DAPM_POST_PMD),\n\tSND_SOC_DAPM_MUX_E(\"RX INT1_2 MUX\", SND_SOC_NOPM, INTERP_HPHR, 0,\n\t\t&rx_int1_2_mux, rx_macro_enable_mix_path,\n\t\tSND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMU |\n\t\tSND_SOC_DAPM_POST_PMD),\n\tSND_SOC_DAPM_MUX_E(\"RX INT2_2 MUX\", SND_SOC_NOPM, INTERP_AUX, 0,\n\t\t&rx_int2_2_mux, rx_macro_enable_mix_path,\n\t\tSND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMU |\n\t\tSND_SOC_DAPM_POST_PMD),\n\n\tSND_SOC_DAPM_MUX(\"RX INT0_1 MIX1 INP0\", SND_SOC_NOPM, 0, 0, &rx_int0_1_mix_inp0_mux),\n\tSND_SOC_DAPM_MUX(\"RX INT0_1 MIX1 INP1\", SND_SOC_NOPM, 0, 0, &rx_int0_1_mix_inp1_mux),\n\tSND_SOC_DAPM_MUX(\"RX INT0_1 MIX1 INP2\", SND_SOC_NOPM, 0, 0, &rx_int0_1_mix_inp2_mux),\n\tSND_SOC_DAPM_MUX(\"RX INT1_1 MIX1 INP0\", SND_SOC_NOPM, 0, 0, &rx_int1_1_mix_inp0_mux),\n\tSND_SOC_DAPM_MUX(\"RX INT1_1 MIX1 INP1\", SND_SOC_NOPM, 0, 0, &rx_int1_1_mix_inp1_mux),\n\tSND_SOC_DAPM_MUX(\"RX INT1_1 MIX1 INP2\", SND_SOC_NOPM, 0, 0, &rx_int1_1_mix_inp2_mux),\n\tSND_SOC_DAPM_MUX(\"RX INT2_1 MIX1 INP0\", SND_SOC_NOPM, 0, 0, &rx_int2_1_mix_inp0_mux),\n\tSND_SOC_DAPM_MUX(\"RX INT2_1 MIX1 INP1\", SND_SOC_NOPM, 0, 0, &rx_int2_1_mix_inp1_mux),\n\tSND_SOC_DAPM_MUX(\"RX INT2_1 MIX1 INP2\", SND_SOC_NOPM, 0, 0, &rx_int2_1_mix_inp2_mux),\n\n\tSND_SOC_DAPM_MUX_E(\"RX INT0_1 INTERP\", SND_SOC_NOPM, INTERP_HPHL, 0,\n\t\t&rx_int0_1_interp_mux, rx_macro_enable_main_path,\n\t\tSND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMU |\n\t\tSND_SOC_DAPM_POST_PMD),\n\tSND_SOC_DAPM_MUX_E(\"RX INT1_1 INTERP\", SND_SOC_NOPM, INTERP_HPHR, 0,\n\t\t&rx_int1_1_interp_mux, rx_macro_enable_main_path,\n\t\tSND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMU |\n\t\tSND_SOC_DAPM_POST_PMD),\n\tSND_SOC_DAPM_MUX_E(\"RX INT2_1 INTERP\", SND_SOC_NOPM, INTERP_AUX, 0,\n\t\t&rx_int2_1_interp_mux, rx_macro_enable_main_path,\n\t\tSND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMU |\n\t\tSND_SOC_DAPM_POST_PMD),\n\n\tSND_SOC_DAPM_MUX(\"RX INT0_2 INTERP\", SND_SOC_NOPM, 0, 0,\n\t\t\t &rx_int0_2_interp_mux),\n\tSND_SOC_DAPM_MUX(\"RX INT1_2 INTERP\", SND_SOC_NOPM, 0, 0,\n\t\t\t &rx_int1_2_interp_mux),\n\tSND_SOC_DAPM_MUX(\"RX INT2_2 INTERP\", SND_SOC_NOPM, 0, 0,\n\t\t\t &rx_int2_2_interp_mux),\n\n\tSND_SOC_DAPM_MIXER(\"RX INT0_1 MIX1\", SND_SOC_NOPM, 0, 0, NULL, 0),\n\tSND_SOC_DAPM_MIXER(\"RX INT0 SEC MIX\", SND_SOC_NOPM, 0, 0, NULL, 0),\n\tSND_SOC_DAPM_MIXER(\"RX INT1_1 MIX1\", SND_SOC_NOPM, 0, 0, NULL, 0),\n\tSND_SOC_DAPM_MIXER(\"RX INT1 SEC MIX\", SND_SOC_NOPM, 0, 0, NULL, 0),\n\tSND_SOC_DAPM_MIXER(\"RX INT2_1 MIX1\", SND_SOC_NOPM, 0, 0, NULL, 0),\n\tSND_SOC_DAPM_MIXER(\"RX INT2 SEC MIX\", SND_SOC_NOPM, 0, 0, NULL, 0),\n\n\tSND_SOC_DAPM_MUX_E(\"RX INT0 MIX2 INP\", SND_SOC_NOPM, INTERP_HPHL,\n\t\t0, &rx_int0_mix2_inp_mux, rx_macro_enable_rx_path_clk,\n\t\tSND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMD),\n\tSND_SOC_DAPM_MUX_E(\"RX INT1 MIX2 INP\", SND_SOC_NOPM, INTERP_HPHR,\n\t\t0, &rx_int1_mix2_inp_mux, rx_macro_enable_rx_path_clk,\n\t\tSND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMD),\n\tSND_SOC_DAPM_MUX_E(\"RX INT2 MIX2 INP\", SND_SOC_NOPM, INTERP_AUX,\n\t\t0, &rx_int2_mix2_inp_mux, rx_macro_enable_rx_path_clk,\n\t\tSND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMD),\n\n\tSND_SOC_DAPM_MIXER(\"RX INT0 MIX2\", SND_SOC_NOPM, 0, 0, NULL, 0),\n\tSND_SOC_DAPM_MIXER(\"RX INT1 MIX2\", SND_SOC_NOPM, 0, 0, NULL, 0),\n\tSND_SOC_DAPM_MIXER(\"RX INT2 MIX2\", SND_SOC_NOPM, 0, 0, NULL, 0),\n\n\tSND_SOC_DAPM_OUTPUT(\"HPHL_OUT\"),\n\tSND_SOC_DAPM_OUTPUT(\"HPHR_OUT\"),\n\tSND_SOC_DAPM_OUTPUT(\"AUX_OUT\"),\n\n\tSND_SOC_DAPM_INPUT(\"RX_TX DEC0_INP\"),\n\tSND_SOC_DAPM_INPUT(\"RX_TX DEC1_INP\"),\n\tSND_SOC_DAPM_INPUT(\"RX_TX DEC2_INP\"),\n\tSND_SOC_DAPM_INPUT(\"RX_TX DEC3_INP\"),\n\n\tSND_SOC_DAPM_SUPPLY_S(\"RX_MCLK\", 0, SND_SOC_NOPM, 0, 0,\n\trx_macro_mclk_event, SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMD),\n};\n\nstatic const struct snd_soc_dapm_route rx_audio_map[] = {\n\t{\"RX AIF1 PB\", NULL, \"RX_MCLK\"},\n\t{\"RX AIF2 PB\", NULL, \"RX_MCLK\"},\n\t{\"RX AIF3 PB\", NULL, \"RX_MCLK\"},\n\t{\"RX AIF4 PB\", NULL, \"RX_MCLK\"},\n\n\t{\"RX_MACRO RX0 MUX\", \"AIF1_PB\", \"RX AIF1 PB\"},\n\t{\"RX_MACRO RX1 MUX\", \"AIF1_PB\", \"RX AIF1 PB\"},\n\t{\"RX_MACRO RX2 MUX\", \"AIF1_PB\", \"RX AIF1 PB\"},\n\t{\"RX_MACRO RX3 MUX\", \"AIF1_PB\", \"RX AIF1 PB\"},\n\t{\"RX_MACRO RX4 MUX\", \"AIF1_PB\", \"RX AIF1 PB\"},\n\t{\"RX_MACRO RX5 MUX\", \"AIF1_PB\", \"RX AIF1 PB\"},\n\n\t{\"RX_MACRO RX0 MUX\", \"AIF2_PB\", \"RX AIF2 PB\"},\n\t{\"RX_MACRO RX1 MUX\", \"AIF2_PB\", \"RX AIF2 PB\"},\n\t{\"RX_MACRO RX2 MUX\", \"AIF2_PB\", \"RX AIF2 PB\"},\n\t{\"RX_MACRO RX3 MUX\", \"AIF2_PB\", \"RX AIF2 PB\"},\n\t{\"RX_MACRO RX4 MUX\", \"AIF2_PB\", \"RX AIF2 PB\"},\n\t{\"RX_MACRO RX5 MUX\", \"AIF2_PB\", \"RX AIF2 PB\"},\n\n\t{\"RX_MACRO RX0 MUX\", \"AIF3_PB\", \"RX AIF3 PB\"},\n\t{\"RX_MACRO RX1 MUX\", \"AIF3_PB\", \"RX AIF3 PB\"},\n\t{\"RX_MACRO RX2 MUX\", \"AIF3_PB\", \"RX AIF3 PB\"},\n\t{\"RX_MACRO RX3 MUX\", \"AIF3_PB\", \"RX AIF3 PB\"},\n\t{\"RX_MACRO RX4 MUX\", \"AIF3_PB\", \"RX AIF3 PB\"},\n\t{\"RX_MACRO RX5 MUX\", \"AIF3_PB\", \"RX AIF3 PB\"},\n\n\t{\"RX_MACRO RX0 MUX\", \"AIF4_PB\", \"RX AIF4 PB\"},\n\t{\"RX_MACRO RX1 MUX\", \"AIF4_PB\", \"RX AIF4 PB\"},\n\t{\"RX_MACRO RX2 MUX\", \"AIF4_PB\", \"RX AIF4 PB\"},\n\t{\"RX_MACRO RX3 MUX\", \"AIF4_PB\", \"RX AIF4 PB\"},\n\t{\"RX_MACRO RX4 MUX\", \"AIF4_PB\", \"RX AIF4 PB\"},\n\t{\"RX_MACRO RX5 MUX\", \"AIF4_PB\", \"RX AIF4 PB\"},\n\n\t{\"RX_RX0\", NULL, \"RX_MACRO RX0 MUX\"},\n\t{\"RX_RX1\", NULL, \"RX_MACRO RX1 MUX\"},\n\t{\"RX_RX2\", NULL, \"RX_MACRO RX2 MUX\"},\n\t{\"RX_RX3\", NULL, \"RX_MACRO RX3 MUX\"},\n\t{\"RX_RX4\", NULL, \"RX_MACRO RX4 MUX\"},\n\t{\"RX_RX5\", NULL, \"RX_MACRO RX5 MUX\"},\n\n\t{\"RX INT0_1 MIX1 INP0\", \"RX0\", \"RX_RX0\"},\n\t{\"RX INT0_1 MIX1 INP0\", \"RX1\", \"RX_RX1\"},\n\t{\"RX INT0_1 MIX1 INP0\", \"RX2\", \"RX_RX2\"},\n\t{\"RX INT0_1 MIX1 INP0\", \"RX3\", \"RX_RX3\"},\n\t{\"RX INT0_1 MIX1 INP0\", \"RX4\", \"RX_RX4\"},\n\t{\"RX INT0_1 MIX1 INP0\", \"RX5\", \"RX_RX5\"},\n\t{\"RX INT0_1 MIX1 INP0\", \"IIR0\", \"IIR0\"},\n\t{\"RX INT0_1 MIX1 INP0\", \"IIR1\", \"IIR1\"},\n\t{\"RX INT0_1 MIX1 INP0\", \"DEC0\", \"RX_TX DEC0_INP\"},\n\t{\"RX INT0_1 MIX1 INP0\", \"DEC1\", \"RX_TX DEC1_INP\"},\n\t{\"RX INT0_1 MIX1 INP1\", \"RX0\", \"RX_RX0\"},\n\t{\"RX INT0_1 MIX1 INP1\", \"RX1\", \"RX_RX1\"},\n\t{\"RX INT0_1 MIX1 INP1\", \"RX2\", \"RX_RX2\"},\n\t{\"RX INT0_1 MIX1 INP1\", \"RX3\", \"RX_RX3\"},\n\t{\"RX INT0_1 MIX1 INP1\", \"RX4\", \"RX_RX4\"},\n\t{\"RX INT0_1 MIX1 INP1\", \"RX5\", \"RX_RX5\"},\n\t{\"RX INT0_1 MIX1 INP1\", \"IIR0\", \"IIR0\"},\n\t{\"RX INT0_1 MIX1 INP1\", \"IIR1\", \"IIR1\"},\n\t{\"RX INT0_1 MIX1 INP1\", \"DEC0\", \"RX_TX DEC0_INP\"},\n\t{\"RX INT0_1 MIX1 INP1\", \"DEC1\", \"RX_TX DEC1_INP\"},\n\t{\"RX INT0_1 MIX1 INP2\", \"RX0\", \"RX_RX0\"},\n\t{\"RX INT0_1 MIX1 INP2\", \"RX1\", \"RX_RX1\"},\n\t{\"RX INT0_1 MIX1 INP2\", \"RX2\", \"RX_RX2\"},\n\t{\"RX INT0_1 MIX1 INP2\", \"RX3\", \"RX_RX3\"},\n\t{\"RX INT0_1 MIX1 INP2\", \"RX4\", \"RX_RX4\"},\n\t{\"RX INT0_1 MIX1 INP2\", \"RX5\", \"RX_RX5\"},\n\t{\"RX INT0_1 MIX1 INP2\", \"IIR0\", \"IIR0\"},\n\t{\"RX INT0_1 MIX1 INP2\", \"IIR1\", \"IIR1\"},\n\t{\"RX INT0_1 MIX1 INP2\", \"DEC0\", \"RX_TX DEC0_INP\"},\n\t{\"RX INT0_1 MIX1 INP2\", \"DEC1\", \"RX_TX DEC1_INP\"},\n\n\t{\"RX INT1_1 MIX1 INP0\", \"RX0\", \"RX_RX0\"},\n\t{\"RX INT1_1 MIX1 INP0\", \"RX1\", \"RX_RX1\"},\n\t{\"RX INT1_1 MIX1 INP0\", \"RX2\", \"RX_RX2\"},\n\t{\"RX INT1_1 MIX1 INP0\", \"RX3\", \"RX_RX3\"},\n\t{\"RX INT1_1 MIX1 INP0\", \"RX4\", \"RX_RX4\"},\n\t{\"RX INT1_1 MIX1 INP0\", \"RX5\", \"RX_RX5\"},\n\t{\"RX INT1_1 MIX1 INP0\", \"IIR0\", \"IIR0\"},\n\t{\"RX INT1_1 MIX1 INP0\", \"IIR1\", \"IIR1\"},\n\t{\"RX INT1_1 MIX1 INP0\", \"DEC0\", \"RX_TX DEC0_INP\"},\n\t{\"RX INT1_1 MIX1 INP0\", \"DEC1\", \"RX_TX DEC1_INP\"},\n\t{\"RX INT1_1 MIX1 INP1\", \"RX0\", \"RX_RX0\"},\n\t{\"RX INT1_1 MIX1 INP1\", \"RX1\", \"RX_RX1\"},\n\t{\"RX INT1_1 MIX1 INP1\", \"RX2\", \"RX_RX2\"},\n\t{\"RX INT1_1 MIX1 INP1\", \"RX3\", \"RX_RX3\"},\n\t{\"RX INT1_1 MIX1 INP1\", \"RX4\", \"RX_RX4\"},\n\t{\"RX INT1_1 MIX1 INP1\", \"RX5\", \"RX_RX5\"},\n\t{\"RX INT1_1 MIX1 INP1\", \"IIR0\", \"IIR0\"},\n\t{\"RX INT1_1 MIX1 INP1\", \"IIR1\", \"IIR1\"},\n\t{\"RX INT1_1 MIX1 INP1\", \"DEC0\", \"RX_TX DEC0_INP\"},\n\t{\"RX INT1_1 MIX1 INP1\", \"DEC1\", \"RX_TX DEC1_INP\"},\n\t{\"RX INT1_1 MIX1 INP2\", \"RX0\", \"RX_RX0\"},\n\t{\"RX INT1_1 MIX1 INP2\", \"RX1\", \"RX_RX1\"},\n\t{\"RX INT1_1 MIX1 INP2\", \"RX2\", \"RX_RX2\"},\n\t{\"RX INT1_1 MIX1 INP2\", \"RX3\", \"RX_RX3\"},\n\t{\"RX INT1_1 MIX1 INP2\", \"RX4\", \"RX_RX4\"},\n\t{\"RX INT1_1 MIX1 INP2\", \"RX5\", \"RX_RX5\"},\n\t{\"RX INT1_1 MIX1 INP2\", \"IIR0\", \"IIR0\"},\n\t{\"RX INT1_1 MIX1 INP2\", \"IIR1\", \"IIR1\"},\n\t{\"RX INT1_1 MIX1 INP2\", \"DEC0\", \"RX_TX DEC0_INP\"},\n\t{\"RX INT1_1 MIX1 INP2\", \"DEC1\", \"RX_TX DEC1_INP\"},\n\n\t{\"RX INT2_1 MIX1 INP0\", \"RX0\", \"RX_RX0\"},\n\t{\"RX INT2_1 MIX1 INP0\", \"RX1\", \"RX_RX1\"},\n\t{\"RX INT2_1 MIX1 INP0\", \"RX2\", \"RX_RX2\"},\n\t{\"RX INT2_1 MIX1 INP0\", \"RX3\", \"RX_RX3\"},\n\t{\"RX INT2_1 MIX1 INP0\", \"RX4\", \"RX_RX4\"},\n\t{\"RX INT2_1 MIX1 INP0\", \"RX5\", \"RX_RX5\"},\n\t{\"RX INT2_1 MIX1 INP0\", \"IIR0\", \"IIR0\"},\n\t{\"RX INT2_1 MIX1 INP0\", \"IIR1\", \"IIR1\"},\n\t{\"RX INT2_1 MIX1 INP0\", \"DEC0\", \"RX_TX DEC0_INP\"},\n\t{\"RX INT2_1 MIX1 INP0\", \"DEC1\", \"RX_TX DEC1_INP\"},\n\t{\"RX INT2_1 MIX1 INP1\", \"RX0\", \"RX_RX0\"},\n\t{\"RX INT2_1 MIX1 INP1\", \"RX1\", \"RX_RX1\"},\n\t{\"RX INT2_1 MIX1 INP1\", \"RX2\", \"RX_RX2\"},\n\t{\"RX INT2_1 MIX1 INP1\", \"RX3\", \"RX_RX3\"},\n\t{\"RX INT2_1 MIX1 INP1\", \"RX4\", \"RX_RX4\"},\n\t{\"RX INT2_1 MIX1 INP1\", \"RX5\", \"RX_RX5\"},\n\t{\"RX INT2_1 MIX1 INP1\", \"IIR0\", \"IIR0\"},\n\t{\"RX INT2_1 MIX1 INP1\", \"IIR1\", \"IIR1\"},\n\t{\"RX INT2_1 MIX1 INP1\", \"DEC0\", \"RX_TX DEC0_INP\"},\n\t{\"RX INT2_1 MIX1 INP1\", \"DEC1\", \"RX_TX DEC1_INP\"},\n\t{\"RX INT2_1 MIX1 INP2\", \"RX0\", \"RX_RX0\"},\n\t{\"RX INT2_1 MIX1 INP2\", \"RX1\", \"RX_RX1\"},\n\t{\"RX INT2_1 MIX1 INP2\", \"RX2\", \"RX_RX2\"},\n\t{\"RX INT2_1 MIX1 INP2\", \"RX3\", \"RX_RX3\"},\n\t{\"RX INT2_1 MIX1 INP2\", \"RX4\", \"RX_RX4\"},\n\t{\"RX INT2_1 MIX1 INP2\", \"RX5\", \"RX_RX5\"},\n\t{\"RX INT2_1 MIX1 INP2\", \"IIR0\", \"IIR0\"},\n\t{\"RX INT2_1 MIX1 INP2\", \"IIR1\", \"IIR1\"},\n\t{\"RX INT2_1 MIX1 INP2\", \"DEC0\", \"RX_TX DEC0_INP\"},\n\t{\"RX INT2_1 MIX1 INP2\", \"DEC1\", \"RX_TX DEC1_INP\"},\n\n\t{\"RX INT0_1 MIX1\", NULL, \"RX INT0_1 MIX1 INP0\"},\n\t{\"RX INT0_1 MIX1\", NULL, \"RX INT0_1 MIX1 INP1\"},\n\t{\"RX INT0_1 MIX1\", NULL, \"RX INT0_1 MIX1 INP2\"},\n\t{\"RX INT1_1 MIX1\", NULL, \"RX INT1_1 MIX1 INP0\"},\n\t{\"RX INT1_1 MIX1\", NULL, \"RX INT1_1 MIX1 INP1\"},\n\t{\"RX INT1_1 MIX1\", NULL, \"RX INT1_1 MIX1 INP2\"},\n\t{\"RX INT2_1 MIX1\", NULL, \"RX INT2_1 MIX1 INP0\"},\n\t{\"RX INT2_1 MIX1\", NULL, \"RX INT2_1 MIX1 INP1\"},\n\t{\"RX INT2_1 MIX1\", NULL, \"RX INT2_1 MIX1 INP2\"},\n\n\t{\"RX MIX TX0 MUX\", \"RX_MIX0\", \"RX INT0 SEC MIX\"},\n\t{\"RX MIX TX0 MUX\", \"RX_MIX1\", \"RX INT1 SEC MIX\"},\n\t{\"RX MIX TX0 MUX\", \"RX_MIX2\", \"RX INT2 SEC MIX\"},\n\t{\"RX MIX TX1 MUX\", \"RX_MIX0\", \"RX INT0 SEC MIX\"},\n\t{\"RX MIX TX1 MUX\", \"RX_MIX1\", \"RX INT1 SEC MIX\"},\n\t{\"RX MIX TX1 MUX\", \"RX_MIX2\", \"RX INT2 SEC MIX\"},\n\t{\"RX MIX TX2 MUX\", \"RX_MIX0\", \"RX INT0 SEC MIX\"},\n\t{\"RX MIX TX2 MUX\", \"RX_MIX1\", \"RX INT1 SEC MIX\"},\n\t{\"RX MIX TX2 MUX\", \"RX_MIX2\", \"RX INT2 SEC MIX\"},\n\t{\"RX AIF_ECHO\", NULL, \"RX MIX TX0 MUX\"},\n\t{\"RX AIF_ECHO\", NULL, \"RX MIX TX1 MUX\"},\n\t{\"RX AIF_ECHO\", NULL, \"RX MIX TX2 MUX\"},\n\t{\"RX AIF_ECHO\", NULL, \"RX_MCLK\"},\n\n\t \n\t{\"RX INT0_2 MUX\", \"RX0\", \"RX_RX0\"},\n\t{\"RX INT0_2 MUX\", \"RX1\", \"RX_RX1\"},\n\t{\"RX INT0_2 MUX\", \"RX2\", \"RX_RX2\"},\n\t{\"RX INT0_2 MUX\", \"RX3\", \"RX_RX3\"},\n\t{\"RX INT0_2 MUX\", \"RX4\", \"RX_RX4\"},\n\t{\"RX INT0_2 MUX\", \"RX5\", \"RX_RX5\"},\n\t{\"RX INT0_2 INTERP\", NULL, \"RX INT0_2 MUX\"},\n\t{\"RX INT0 SEC MIX\", NULL, \"RX INT0_2 INTERP\"},\n\n\t \n\t{\"RX INT1_2 MUX\", \"RX0\", \"RX_RX0\"},\n\t{\"RX INT1_2 MUX\", \"RX1\", \"RX_RX1\"},\n\t{\"RX INT1_2 MUX\", \"RX2\", \"RX_RX2\"},\n\t{\"RX INT1_2 MUX\", \"RX3\", \"RX_RX3\"},\n\t{\"RX INT1_2 MUX\", \"RX4\", \"RX_RX4\"},\n\t{\"RX INT1_2 MUX\", \"RX5\", \"RX_RX5\"},\n\t{\"RX INT1_2 INTERP\", NULL, \"RX INT1_2 MUX\"},\n\t{\"RX INT1 SEC MIX\", NULL, \"RX INT1_2 INTERP\"},\n\n\t \n\t{\"RX INT2_2 MUX\", \"RX0\", \"RX_RX0\"},\n\t{\"RX INT2_2 MUX\", \"RX1\", \"RX_RX1\"},\n\t{\"RX INT2_2 MUX\", \"RX2\", \"RX_RX2\"},\n\t{\"RX INT2_2 MUX\", \"RX3\", \"RX_RX3\"},\n\t{\"RX INT2_2 MUX\", \"RX4\", \"RX_RX4\"},\n\t{\"RX INT2_2 MUX\", \"RX5\", \"RX_RX5\"},\n\t{\"RX INT2_2 INTERP\", NULL, \"RX INT2_2 MUX\"},\n\t{\"RX INT2 SEC MIX\", NULL, \"RX INT2_2 INTERP\"},\n\n\t{\"RX INT0_1 INTERP\", NULL, \"RX INT0_1 MIX1\"},\n\t{\"RX INT0 SEC MIX\", NULL, \"RX INT0_1 INTERP\"},\n\t{\"RX INT0 MIX2\", NULL, \"RX INT0 SEC MIX\"},\n\t{\"RX INT0 MIX2\", NULL, \"RX INT0 MIX2 INP\"},\n\t{\"RX INT0 DEM MUX\", \"CLSH_DSM_OUT\", \"RX INT0 MIX2\"},\n\t{\"HPHL_OUT\", NULL, \"RX INT0 DEM MUX\"},\n\t{\"HPHL_OUT\", NULL, \"RX_MCLK\"},\n\n\t{\"RX INT1_1 INTERP\", NULL, \"RX INT1_1 MIX1\"},\n\t{\"RX INT1 SEC MIX\", NULL, \"RX INT1_1 INTERP\"},\n\t{\"RX INT1 MIX2\", NULL, \"RX INT1 SEC MIX\"},\n\t{\"RX INT1 MIX2\", NULL, \"RX INT1 MIX2 INP\"},\n\t{\"RX INT1 DEM MUX\", \"CLSH_DSM_OUT\", \"RX INT1 MIX2\"},\n\t{\"HPHR_OUT\", NULL, \"RX INT1 DEM MUX\"},\n\t{\"HPHR_OUT\", NULL, \"RX_MCLK\"},\n\n\t{\"RX INT2_1 INTERP\", NULL, \"RX INT2_1 MIX1\"},\n\n\t{\"RX INT2 SEC MIX\", NULL, \"RX INT2_1 INTERP\"},\n\t{\"RX INT2 MIX2\", NULL, \"RX INT2 SEC MIX\"},\n\t{\"RX INT2 MIX2\", NULL, \"RX INT2 MIX2 INP\"},\n\t{\"AUX_OUT\", NULL, \"RX INT2 MIX2\"},\n\t{\"AUX_OUT\", NULL, \"RX_MCLK\"},\n\n\t{\"IIR0\", NULL, \"RX_MCLK\"},\n\t{\"IIR0\", NULL, \"IIR0 INP0 MUX\"},\n\t{\"IIR0 INP0 MUX\", \"DEC0\", \"RX_TX DEC0_INP\"},\n\t{\"IIR0 INP0 MUX\", \"DEC1\", \"RX_TX DEC1_INP\"},\n\t{\"IIR0 INP0 MUX\", \"DEC2\", \"RX_TX DEC2_INP\"},\n\t{\"IIR0 INP0 MUX\", \"DEC3\", \"RX_TX DEC3_INP\"},\n\t{\"IIR0 INP0 MUX\", \"RX0\", \"RX_RX0\"},\n\t{\"IIR0 INP0 MUX\", \"RX1\", \"RX_RX1\"},\n\t{\"IIR0 INP0 MUX\", \"RX2\", \"RX_RX2\"},\n\t{\"IIR0 INP0 MUX\", \"RX3\", \"RX_RX3\"},\n\t{\"IIR0 INP0 MUX\", \"RX4\", \"RX_RX4\"},\n\t{\"IIR0 INP0 MUX\", \"RX5\", \"RX_RX5\"},\n\t{\"IIR0\", NULL, \"IIR0 INP1 MUX\"},\n\t{\"IIR0 INP1 MUX\", \"DEC0\", \"RX_TX DEC0_INP\"},\n\t{\"IIR0 INP1 MUX\", \"DEC1\", \"RX_TX DEC1_INP\"},\n\t{\"IIR0 INP1 MUX\", \"DEC2\", \"RX_TX DEC2_INP\"},\n\t{\"IIR0 INP1 MUX\", \"DEC3\", \"RX_TX DEC3_INP\"},\n\t{\"IIR0 INP1 MUX\", \"RX0\", \"RX_RX0\"},\n\t{\"IIR0 INP1 MUX\", \"RX1\", \"RX_RX1\"},\n\t{\"IIR0 INP1 MUX\", \"RX2\", \"RX_RX2\"},\n\t{\"IIR0 INP1 MUX\", \"RX3\", \"RX_RX3\"},\n\t{\"IIR0 INP1 MUX\", \"RX4\", \"RX_RX4\"},\n\t{\"IIR0 INP1 MUX\", \"RX5\", \"RX_RX5\"},\n\t{\"IIR0\", NULL, \"IIR0 INP2 MUX\"},\n\t{\"IIR0 INP2 MUX\", \"DEC0\", \"RX_TX DEC0_INP\"},\n\t{\"IIR0 INP2 MUX\", \"DEC1\", \"RX_TX DEC1_INP\"},\n\t{\"IIR0 INP2 MUX\", \"DEC2\", \"RX_TX DEC2_INP\"},\n\t{\"IIR0 INP2 MUX\", \"DEC3\", \"RX_TX DEC3_INP\"},\n\t{\"IIR0 INP2 MUX\", \"RX0\", \"RX_RX0\"},\n\t{\"IIR0 INP2 MUX\", \"RX1\", \"RX_RX1\"},\n\t{\"IIR0 INP2 MUX\", \"RX2\", \"RX_RX2\"},\n\t{\"IIR0 INP2 MUX\", \"RX3\", \"RX_RX3\"},\n\t{\"IIR0 INP2 MUX\", \"RX4\", \"RX_RX4\"},\n\t{\"IIR0 INP2 MUX\", \"RX5\", \"RX_RX5\"},\n\t{\"IIR0\", NULL, \"IIR0 INP3 MUX\"},\n\t{\"IIR0 INP3 MUX\", \"DEC0\", \"RX_TX DEC0_INP\"},\n\t{\"IIR0 INP3 MUX\", \"DEC1\", \"RX_TX DEC1_INP\"},\n\t{\"IIR0 INP3 MUX\", \"DEC2\", \"RX_TX DEC2_INP\"},\n\t{\"IIR0 INP3 MUX\", \"DEC3\", \"RX_TX DEC3_INP\"},\n\t{\"IIR0 INP3 MUX\", \"RX0\", \"RX_RX0\"},\n\t{\"IIR0 INP3 MUX\", \"RX1\", \"RX_RX1\"},\n\t{\"IIR0 INP3 MUX\", \"RX2\", \"RX_RX2\"},\n\t{\"IIR0 INP3 MUX\", \"RX3\", \"RX_RX3\"},\n\t{\"IIR0 INP3 MUX\", \"RX4\", \"RX_RX4\"},\n\t{\"IIR0 INP3 MUX\", \"RX5\", \"RX_RX5\"},\n\n\t{\"IIR1\", NULL, \"RX_MCLK\"},\n\t{\"IIR1\", NULL, \"IIR1 INP0 MUX\"},\n\t{\"IIR1 INP0 MUX\", \"DEC0\", \"RX_TX DEC0_INP\"},\n\t{\"IIR1 INP0 MUX\", \"DEC1\", \"RX_TX DEC1_INP\"},\n\t{\"IIR1 INP0 MUX\", \"DEC2\", \"RX_TX DEC2_INP\"},\n\t{\"IIR1 INP0 MUX\", \"DEC3\", \"RX_TX DEC3_INP\"},\n\t{\"IIR1 INP0 MUX\", \"RX0\", \"RX_RX0\"},\n\t{\"IIR1 INP0 MUX\", \"RX1\", \"RX_RX1\"},\n\t{\"IIR1 INP0 MUX\", \"RX2\", \"RX_RX2\"},\n\t{\"IIR1 INP0 MUX\", \"RX3\", \"RX_RX3\"},\n\t{\"IIR1 INP0 MUX\", \"RX4\", \"RX_RX4\"},\n\t{\"IIR1 INP0 MUX\", \"RX5\", \"RX_RX5\"},\n\t{\"IIR1\", NULL, \"IIR1 INP1 MUX\"},\n\t{\"IIR1 INP1 MUX\", \"DEC0\", \"RX_TX DEC0_INP\"},\n\t{\"IIR1 INP1 MUX\", \"DEC1\", \"RX_TX DEC1_INP\"},\n\t{\"IIR1 INP1 MUX\", \"DEC2\", \"RX_TX DEC2_INP\"},\n\t{\"IIR1 INP1 MUX\", \"DEC3\", \"RX_TX DEC3_INP\"},\n\t{\"IIR1 INP1 MUX\", \"RX0\", \"RX_RX0\"},\n\t{\"IIR1 INP1 MUX\", \"RX1\", \"RX_RX1\"},\n\t{\"IIR1 INP1 MUX\", \"RX2\", \"RX_RX2\"},\n\t{\"IIR1 INP1 MUX\", \"RX3\", \"RX_RX3\"},\n\t{\"IIR1 INP1 MUX\", \"RX4\", \"RX_RX4\"},\n\t{\"IIR1 INP1 MUX\", \"RX5\", \"RX_RX5\"},\n\t{\"IIR1\", NULL, \"IIR1 INP2 MUX\"},\n\t{\"IIR1 INP2 MUX\", \"DEC0\", \"RX_TX DEC0_INP\"},\n\t{\"IIR1 INP2 MUX\", \"DEC1\", \"RX_TX DEC1_INP\"},\n\t{\"IIR1 INP2 MUX\", \"DEC2\", \"RX_TX DEC2_INP\"},\n\t{\"IIR1 INP2 MUX\", \"DEC3\", \"RX_TX DEC3_INP\"},\n\t{\"IIR1 INP2 MUX\", \"RX0\", \"RX_RX0\"},\n\t{\"IIR1 INP2 MUX\", \"RX1\", \"RX_RX1\"},\n\t{\"IIR1 INP2 MUX\", \"RX2\", \"RX_RX2\"},\n\t{\"IIR1 INP2 MUX\", \"RX3\", \"RX_RX3\"},\n\t{\"IIR1 INP2 MUX\", \"RX4\", \"RX_RX4\"},\n\t{\"IIR1 INP2 MUX\", \"RX5\", \"RX_RX5\"},\n\t{\"IIR1\", NULL, \"IIR1 INP3 MUX\"},\n\t{\"IIR1 INP3 MUX\", \"DEC0\", \"RX_TX DEC0_INP\"},\n\t{\"IIR1 INP3 MUX\", \"DEC1\", \"RX_TX DEC1_INP\"},\n\t{\"IIR1 INP3 MUX\", \"DEC2\", \"RX_TX DEC2_INP\"},\n\t{\"IIR1 INP3 MUX\", \"DEC3\", \"RX_TX DEC3_INP\"},\n\t{\"IIR1 INP3 MUX\", \"RX0\", \"RX_RX0\"},\n\t{\"IIR1 INP3 MUX\", \"RX1\", \"RX_RX1\"},\n\t{\"IIR1 INP3 MUX\", \"RX2\", \"RX_RX2\"},\n\t{\"IIR1 INP3 MUX\", \"RX3\", \"RX_RX3\"},\n\t{\"IIR1 INP3 MUX\", \"RX4\", \"RX_RX4\"},\n\t{\"IIR1 INP3 MUX\", \"RX5\", \"RX_RX5\"},\n\n\t{\"SRC0\", NULL, \"IIR0\"},\n\t{\"SRC1\", NULL, \"IIR1\"},\n\t{\"RX INT0 MIX2 INP\", \"SRC0\", \"SRC0\"},\n\t{\"RX INT0 MIX2 INP\", \"SRC1\", \"SRC1\"},\n\t{\"RX INT1 MIX2 INP\", \"SRC0\", \"SRC0\"},\n\t{\"RX INT1 MIX2 INP\", \"SRC1\", \"SRC1\"},\n\t{\"RX INT2 MIX2 INP\", \"SRC0\", \"SRC0\"},\n\t{\"RX INT2 MIX2 INP\", \"SRC1\", \"SRC1\"},\n};\n\nstatic int rx_macro_component_probe(struct snd_soc_component *component)\n{\n\tstruct rx_macro *rx = snd_soc_component_get_drvdata(component);\n\n\tsnd_soc_component_init_regmap(component, rx->regmap);\n\n\tsnd_soc_component_update_bits(component, CDC_RX_RX0_RX_PATH_SEC7,\n\t\t\t\t      CDC_RX_DSM_OUT_DELAY_SEL_MASK,\n\t\t\t\t      CDC_RX_DSM_OUT_DELAY_TWO_SAMPLE);\n\tsnd_soc_component_update_bits(component, CDC_RX_RX1_RX_PATH_SEC7,\n\t\t\t\t      CDC_RX_DSM_OUT_DELAY_SEL_MASK,\n\t\t\t\t      CDC_RX_DSM_OUT_DELAY_TWO_SAMPLE);\n\tsnd_soc_component_update_bits(component, CDC_RX_RX2_RX_PATH_SEC7,\n\t\t\t\t      CDC_RX_DSM_OUT_DELAY_SEL_MASK,\n\t\t\t\t      CDC_RX_DSM_OUT_DELAY_TWO_SAMPLE);\n\tsnd_soc_component_update_bits(component, CDC_RX_RX0_RX_PATH_CFG3,\n\t\t\t\t      CDC_RX_DC_COEFF_SEL_MASK,\n\t\t\t\t      CDC_RX_DC_COEFF_SEL_TWO);\n\tsnd_soc_component_update_bits(component, CDC_RX_RX1_RX_PATH_CFG3,\n\t\t\t\t      CDC_RX_DC_COEFF_SEL_MASK,\n\t\t\t\t      CDC_RX_DC_COEFF_SEL_TWO);\n\tsnd_soc_component_update_bits(component, CDC_RX_RX2_RX_PATH_CFG3,\n\t\t\t\t      CDC_RX_DC_COEFF_SEL_MASK,\n\t\t\t\t      CDC_RX_DC_COEFF_SEL_TWO);\n\n\trx->component = component;\n\n\treturn 0;\n}\n\nstatic int swclk_gate_enable(struct clk_hw *hw)\n{\n\tstruct rx_macro *rx = to_rx_macro(hw);\n\tint ret;\n\n\tret = clk_prepare_enable(rx->mclk);\n\tif (ret) {\n\t\tdev_err(rx->dev, \"unable to prepare mclk\\n\");\n\t\treturn ret;\n\t}\n\n\trx_macro_mclk_enable(rx, true);\n\n\tregmap_update_bits(rx->regmap, CDC_RX_CLK_RST_CTRL_SWR_CONTROL,\n\t\t\t   CDC_RX_SWR_CLK_EN_MASK, 1);\n\n\treturn 0;\n}\n\nstatic void swclk_gate_disable(struct clk_hw *hw)\n{\n\tstruct rx_macro *rx = to_rx_macro(hw);\n\n\tregmap_update_bits(rx->regmap, CDC_RX_CLK_RST_CTRL_SWR_CONTROL, \n\t\t\t   CDC_RX_SWR_CLK_EN_MASK, 0);\n\n\trx_macro_mclk_enable(rx, false);\n\tclk_disable_unprepare(rx->mclk);\n}\n\nstatic int swclk_gate_is_enabled(struct clk_hw *hw)\n{\n\tstruct rx_macro *rx = to_rx_macro(hw);\n\tint ret, val;\n\n\tregmap_read(rx->regmap, CDC_RX_CLK_RST_CTRL_SWR_CONTROL, &val);\n\tret = val & BIT(0);\n\n\treturn ret;\n}\n\nstatic unsigned long swclk_recalc_rate(struct clk_hw *hw,\n\t\t\t\t       unsigned long parent_rate)\n{\n\treturn parent_rate / 2;\n}\n\nstatic const struct clk_ops swclk_gate_ops = {\n\t.prepare = swclk_gate_enable,\n\t.unprepare = swclk_gate_disable,\n\t.is_enabled = swclk_gate_is_enabled,\n\t.recalc_rate = swclk_recalc_rate,\n\n};\n\nstatic int rx_macro_register_mclk_output(struct rx_macro *rx)\n{\n\tstruct device *dev = rx->dev;\n\tconst char *parent_clk_name = NULL;\n\tconst char *clk_name = \"lpass-rx-mclk\";\n\tstruct clk_hw *hw;\n\tstruct clk_init_data init;\n\tint ret;\n\n\tif (rx->npl)\n\t\tparent_clk_name = __clk_get_name(rx->npl);\n\telse\n\t\tparent_clk_name = __clk_get_name(rx->mclk);\n\n\tinit.name = clk_name;\n\tinit.ops = &swclk_gate_ops;\n\tinit.flags = 0;\n\tinit.parent_names = &parent_clk_name;\n\tinit.num_parents = 1;\n\trx->hw.init = &init;\n\thw = &rx->hw;\n\tret = devm_clk_hw_register(rx->dev, hw);\n\tif (ret)\n\t\treturn ret;\n\n\treturn devm_of_clk_add_hw_provider(dev, of_clk_hw_simple_get, hw);\n}\n\nstatic const struct snd_soc_component_driver rx_macro_component_drv = {\n\t.name = \"RX-MACRO\",\n\t.probe = rx_macro_component_probe,\n\t.controls = rx_macro_snd_controls,\n\t.num_controls = ARRAY_SIZE(rx_macro_snd_controls),\n\t.dapm_widgets = rx_macro_dapm_widgets,\n\t.num_dapm_widgets = ARRAY_SIZE(rx_macro_dapm_widgets),\n\t.dapm_routes = rx_audio_map,\n\t.num_dapm_routes = ARRAY_SIZE(rx_audio_map),\n};\n\nstatic int rx_macro_probe(struct platform_device *pdev)\n{\n\tstruct device *dev = &pdev->dev;\n\tkernel_ulong_t flags;\n\tstruct rx_macro *rx;\n\tvoid __iomem *base;\n\tint ret;\n\n\tflags = (kernel_ulong_t)device_get_match_data(dev);\n\n\trx = devm_kzalloc(dev, sizeof(*rx), GFP_KERNEL);\n\tif (!rx)\n\t\treturn -ENOMEM;\n\n\trx->macro = devm_clk_get_optional(dev, \"macro\");\n\tif (IS_ERR(rx->macro))\n\t\treturn dev_err_probe(dev, PTR_ERR(rx->macro), \"unable to get macro clock\\n\");\n\n\trx->dcodec = devm_clk_get_optional(dev, \"dcodec\");\n\tif (IS_ERR(rx->dcodec))\n\t\treturn dev_err_probe(dev, PTR_ERR(rx->dcodec), \"unable to get dcodec clock\\n\");\n\n\trx->mclk = devm_clk_get(dev, \"mclk\");\n\tif (IS_ERR(rx->mclk))\n\t\treturn dev_err_probe(dev, PTR_ERR(rx->mclk), \"unable to get mclk clock\\n\");\n\n\tif (flags & LPASS_MACRO_FLAG_HAS_NPL_CLOCK) {\n\t\trx->npl = devm_clk_get(dev, \"npl\");\n\t\tif (IS_ERR(rx->npl))\n\t\t\treturn dev_err_probe(dev, PTR_ERR(rx->npl), \"unable to get npl clock\\n\");\n\t}\n\n\trx->fsgen = devm_clk_get(dev, \"fsgen\");\n\tif (IS_ERR(rx->fsgen))\n\t\treturn dev_err_probe(dev, PTR_ERR(rx->fsgen), \"unable to get fsgen clock\\n\");\n\n\trx->pds = lpass_macro_pds_init(dev);\n\tif (IS_ERR(rx->pds))\n\t\treturn PTR_ERR(rx->pds);\n\n\tbase = devm_platform_ioremap_resource(pdev, 0);\n\tif (IS_ERR(base)) {\n\t\tret = PTR_ERR(base);\n\t\tgoto err;\n\t}\n\n\trx->regmap = devm_regmap_init_mmio(dev, base, &rx_regmap_config);\n\tif (IS_ERR(rx->regmap)) {\n\t\tret = PTR_ERR(rx->regmap);\n\t\tgoto err;\n\t}\n\n\tdev_set_drvdata(dev, rx);\n\n\trx->dev = dev;\n\n\t \n\tclk_set_rate(rx->mclk, MCLK_FREQ);\n\tclk_set_rate(rx->npl, MCLK_FREQ);\n\n\tret = clk_prepare_enable(rx->macro);\n\tif (ret)\n\t\tgoto err;\n\n\tret = clk_prepare_enable(rx->dcodec);\n\tif (ret)\n\t\tgoto err_dcodec;\n\n\tret = clk_prepare_enable(rx->mclk);\n\tif (ret)\n\t\tgoto err_mclk;\n\n\tret = clk_prepare_enable(rx->npl);\n\tif (ret)\n\t\tgoto err_npl;\n\n\tret = clk_prepare_enable(rx->fsgen);\n\tif (ret)\n\t\tgoto err_fsgen;\n\n\t \n\tregmap_update_bits(rx->regmap, CDC_RX_CLK_RST_CTRL_SWR_CONTROL,\n\t\t\t   CDC_RX_SWR_RESET_MASK,\n\t\t\t   CDC_RX_SWR_RESET);\n\n\tregmap_update_bits(rx->regmap, CDC_RX_CLK_RST_CTRL_SWR_CONTROL,\n\t\t\t   CDC_RX_SWR_CLK_EN_MASK, 1);\n\n\tregmap_update_bits(rx->regmap, CDC_RX_CLK_RST_CTRL_SWR_CONTROL,\n\t\t\t   CDC_RX_SWR_RESET_MASK, 0);\n\n\tret = devm_snd_soc_register_component(dev, &rx_macro_component_drv,\n\t\t\t\t\t      rx_macro_dai,\n\t\t\t\t\t      ARRAY_SIZE(rx_macro_dai));\n\tif (ret)\n\t\tgoto err_clkout;\n\n\n\tpm_runtime_set_autosuspend_delay(dev, 3000);\n\tpm_runtime_use_autosuspend(dev);\n\tpm_runtime_mark_last_busy(dev);\n\tpm_runtime_set_active(dev);\n\tpm_runtime_enable(dev);\n\n\tret = rx_macro_register_mclk_output(rx);\n\tif (ret)\n\t\tgoto err_clkout;\n\n\treturn 0;\n\nerr_clkout:\n\tclk_disable_unprepare(rx->fsgen);\nerr_fsgen:\n\tclk_disable_unprepare(rx->npl);\nerr_npl:\n\tclk_disable_unprepare(rx->mclk);\nerr_mclk:\n\tclk_disable_unprepare(rx->dcodec);\nerr_dcodec:\n\tclk_disable_unprepare(rx->macro);\nerr:\n\tlpass_macro_pds_exit(rx->pds);\n\n\treturn ret;\n}\n\nstatic void rx_macro_remove(struct platform_device *pdev)\n{\n\tstruct rx_macro *rx = dev_get_drvdata(&pdev->dev);\n\n\tclk_disable_unprepare(rx->mclk);\n\tclk_disable_unprepare(rx->npl);\n\tclk_disable_unprepare(rx->fsgen);\n\tclk_disable_unprepare(rx->macro);\n\tclk_disable_unprepare(rx->dcodec);\n\n\tlpass_macro_pds_exit(rx->pds);\n}\n\nstatic const struct of_device_id rx_macro_dt_match[] = {\n\t{\n\t\t.compatible = \"qcom,sc7280-lpass-rx-macro\",\n\t\t.data = (void *)LPASS_MACRO_FLAG_HAS_NPL_CLOCK,\n\n\t}, {\n\t\t.compatible = \"qcom,sm8250-lpass-rx-macro\",\n\t\t.data = (void *)LPASS_MACRO_FLAG_HAS_NPL_CLOCK,\n\t}, {\n\t\t.compatible = \"qcom,sm8450-lpass-rx-macro\",\n\t\t.data = (void *)LPASS_MACRO_FLAG_HAS_NPL_CLOCK,\n\t}, {\n\t\t.compatible = \"qcom,sm8550-lpass-rx-macro\",\n\t}, {\n\t\t.compatible = \"qcom,sc8280xp-lpass-rx-macro\",\n\t\t.data = (void *)LPASS_MACRO_FLAG_HAS_NPL_CLOCK,\n\t},\n\t{ }\n};\nMODULE_DEVICE_TABLE(of, rx_macro_dt_match);\n\nstatic int __maybe_unused rx_macro_runtime_suspend(struct device *dev)\n{\n\tstruct rx_macro *rx = dev_get_drvdata(dev);\n\n\tregcache_cache_only(rx->regmap, true);\n\tregcache_mark_dirty(rx->regmap);\n\n\tclk_disable_unprepare(rx->fsgen);\n\tclk_disable_unprepare(rx->npl);\n\tclk_disable_unprepare(rx->mclk);\n\n\treturn 0;\n}\n\nstatic int __maybe_unused rx_macro_runtime_resume(struct device *dev)\n{\n\tstruct rx_macro *rx = dev_get_drvdata(dev);\n\tint ret;\n\n\tret = clk_prepare_enable(rx->mclk);\n\tif (ret) {\n\t\tdev_err(dev, \"unable to prepare mclk\\n\");\n\t\treturn ret;\n\t}\n\n\tret = clk_prepare_enable(rx->npl);\n\tif (ret) {\n\t\tdev_err(dev, \"unable to prepare mclkx2\\n\");\n\t\tgoto err_npl;\n\t}\n\n\tret = clk_prepare_enable(rx->fsgen);\n\tif (ret) {\n\t\tdev_err(dev, \"unable to prepare fsgen\\n\");\n\t\tgoto err_fsgen;\n\t}\n\tregcache_cache_only(rx->regmap, false);\n\tregcache_sync(rx->regmap);\n\n\treturn 0;\nerr_fsgen:\n\tclk_disable_unprepare(rx->npl);\nerr_npl:\n\tclk_disable_unprepare(rx->mclk);\n\n\treturn ret;\n}\n\nstatic const struct dev_pm_ops rx_macro_pm_ops = {\n\tSET_RUNTIME_PM_OPS(rx_macro_runtime_suspend, rx_macro_runtime_resume, NULL)\n};\n\nstatic struct platform_driver rx_macro_driver = {\n\t.driver = {\n\t\t.name = \"rx_macro\",\n\t\t.of_match_table = rx_macro_dt_match,\n\t\t.suppress_bind_attrs = true,\n\t\t.pm = &rx_macro_pm_ops,\n\t},\n\t.probe = rx_macro_probe,\n\t.remove_new = rx_macro_remove,\n};\n\nmodule_platform_driver(rx_macro_driver);\n\nMODULE_DESCRIPTION(\"RX macro driver\");\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}