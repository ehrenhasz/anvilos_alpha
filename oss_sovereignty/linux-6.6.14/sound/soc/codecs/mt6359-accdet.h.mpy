{
  "module_name": "mt6359-accdet.h",
  "hash_id": "30d4b2d2390057d00f89b1de931d09be2deac0fdf427f0ec77cd005c2c980cdd",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/codecs/mt6359-accdet.h",
  "human_readable_source": " \n \n\n#ifndef _ACCDET_H_\n#define _ACCDET_H_\n\n#include <linux/ctype.h>\n#include <linux/string.h>\n\n#define ACCDET_DEVNAME \"accdet\"\n\n#define HEADSET_MODE_1\t\t(1)\n#define HEADSET_MODE_2\t\t(2)\n#define HEADSET_MODE_6\t\t(6)\n\n#define MT6359_ACCDET_NUM_BUTTONS 4\n#define MT6359_ACCDET_JACK_MASK (SND_JACK_HEADPHONE | \\\n\t\t\t\tSND_JACK_HEADSET | \\\n\t\t\t\tSND_JACK_BTN_0 | \\\n\t\t\t\tSND_JACK_BTN_1 | \\\n\t\t\t\tSND_JACK_BTN_2 | \\\n\t\t\t\tSND_JACK_BTN_3)\n#define MT6359_ACCDET_BTN_MASK (SND_JACK_BTN_0 | \\\n\t\t\t\tSND_JACK_BTN_1 | \\\n\t\t\t\tSND_JACK_BTN_2 | \\\n\t\t\t\tSND_JACK_BTN_3)\n\nenum eint_moisture_status {\n\tM_PLUG_IN =\t\t0,\n\tM_WATER_IN =\t\t1,\n\tM_HP_PLUG_IN =\t\t2,\n\tM_PLUG_OUT =\t\t3,\n\tM_NO_ACT =\t\t4,\n\tM_UNKNOWN =\t\t5,\n};\n\nenum {\n\taccdet_state000 = 0,\n\taccdet_state001,\n\taccdet_state010,\n\taccdet_state011,\n\taccdet_auxadc,\n\teint_state000,\n\teint_state001,\n\teint_state010,\n\teint_state011,\n\teint_inverter_state000,\n};\n\nstruct three_key_threshold {\n\tunsigned int mid;\n\tunsigned int up;\n\tunsigned int down;\n};\n\nstruct four_key_threshold {\n\tunsigned int mid;\n\tunsigned int voice;\n\tunsigned int up;\n\tunsigned int down;\n};\n\nstruct pwm_deb_settings {\n\tunsigned int pwm_width;\n\tunsigned int pwm_thresh;\n\tunsigned int fall_delay;\n\tunsigned int rise_delay;\n\tunsigned int debounce0;\n\tunsigned int debounce1;\n\tunsigned int debounce3;\n\tunsigned int debounce4;\n\tunsigned int eint_pwm_width;\n\tunsigned int eint_pwm_thresh;\n\tunsigned int eint_debounce0;\n\tunsigned int eint_debounce1;\n\tunsigned int eint_debounce2;\n\tunsigned int eint_debounce3;\n\tunsigned int eint_inverter_debounce;\n\n};\n\nstruct dts_data {\n\tunsigned int mic_vol;\n\tunsigned int mic_mode;\n\tunsigned int plugout_deb;\n\tunsigned int eint_pol;\n\tstruct pwm_deb_settings *pwm_deb;\n\tstruct three_key_threshold three_key;\n\tstruct four_key_threshold four_key;\n\tunsigned int moisture_detect_enable;\n\tunsigned int eint_detect_mode;\n\tunsigned int eint_use_ext_res;\n\tunsigned int eint_comp_vth;\n\tunsigned int moisture_detect_mode;\n\tunsigned int moisture_comp_vth;\n\tunsigned int moisture_comp_vref2;\n\tunsigned int moisture_use_ext_res;\n};\n\nstruct mt6359_accdet {\n\tstruct snd_soc_jack *jack;\n\tstruct device *dev;\n\tstruct regmap *regmap;\n\tstruct dts_data *data;\n\tunsigned int caps;\n\tint accdet_irq;\n\tint accdet_eint0;\n\tint accdet_eint1;\n\tstruct mutex res_lock;  \n\tbool jack_plugged;\n\tunsigned int jack_type;\n\tunsigned int btn_type;\n\tunsigned int accdet_status;\n\tunsigned int pre_accdet_status;\n\tunsigned int cali_voltage;\n\tunsigned int jd_sts;\n\tstruct work_struct accdet_work;\n\tstruct workqueue_struct *accdet_workqueue;\n\tstruct work_struct jd_work;\n\tstruct workqueue_struct *jd_workqueue;\n};\n\nint mt6359_accdet_enable_jack_detect(struct snd_soc_component *component,\n\t\t\t\t     struct snd_soc_jack *jack);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}