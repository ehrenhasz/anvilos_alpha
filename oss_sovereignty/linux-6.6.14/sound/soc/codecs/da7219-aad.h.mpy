{
  "module_name": "da7219-aad.h",
  "hash_id": "c4faf5293e5a39a06530f410c633263e01eeb3568e0237be5d614f3f0e8d1161",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/codecs/da7219-aad.h",
  "human_readable_source": " \n \n\n#ifndef __DA7219_AAD_H\n#define __DA7219_AAD_H\n\n#include <linux/timer.h>\n#include <linux/mutex.h>\n#include <sound/soc.h>\n#include <sound/jack.h>\n#include <sound/da7219-aad.h>\n\n \n\n#define DA7219_ACCDET_STATUS_A\t\t0xC0\n#define DA7219_ACCDET_STATUS_B\t\t0xC1\n#define DA7219_ACCDET_IRQ_EVENT_A\t0xC2\n#define DA7219_ACCDET_IRQ_EVENT_B\t0xC3\n#define DA7219_ACCDET_IRQ_MASK_A\t0xC4\n#define DA7219_ACCDET_IRQ_MASK_B\t0xC5\n#define DA7219_ACCDET_CONFIG_1\t\t0xC6\n#define DA7219_ACCDET_CONFIG_2\t\t0xC7\n#define DA7219_ACCDET_CONFIG_3\t\t0xC8\n#define DA7219_ACCDET_CONFIG_4\t\t0xC9\n#define DA7219_ACCDET_CONFIG_5\t\t0xCA\n#define DA7219_ACCDET_CONFIG_6\t\t0xCB\n#define DA7219_ACCDET_CONFIG_7\t\t0xCC\n#define DA7219_ACCDET_CONFIG_8\t\t0xCD\n\n\n \n\n \n#define DA7219_JACK_INSERTION_STS_SHIFT\t0\n#define DA7219_JACK_INSERTION_STS_MASK\t(0x1 << 0)\n#define DA7219_JACK_TYPE_STS_SHIFT\t1\n#define DA7219_JACK_TYPE_STS_MASK\t(0x1 << 1)\n#define DA7219_JACK_PIN_ORDER_STS_SHIFT\t2\n#define DA7219_JACK_PIN_ORDER_STS_MASK\t(0x1 << 2)\n#define DA7219_MICBIAS_UP_STS_SHIFT\t3\n#define DA7219_MICBIAS_UP_STS_MASK\t(0x1 << 3)\n\n \n#define DA7219_BUTTON_TYPE_STS_SHIFT\t0\n#define DA7219_BUTTON_TYPE_STS_MASK\t(0xFF << 0)\n\n \n#define DA7219_E_JACK_INSERTED_SHIFT\t\t0\n#define DA7219_E_JACK_INSERTED_MASK\t\t(0x1 << 0)\n#define DA7219_E_JACK_REMOVED_SHIFT\t\t1\n#define DA7219_E_JACK_REMOVED_MASK\t\t(0x1 << 1)\n#define DA7219_E_JACK_DETECT_COMPLETE_SHIFT\t2\n#define DA7219_E_JACK_DETECT_COMPLETE_MASK\t(0x1 << 2)\n\n \n#define DA7219_E_BUTTON_A_PRESSED_SHIFT\t\t0\n#define DA7219_E_BUTTON_A_PRESSED_MASK\t\t(0x1 << 0)\n#define DA7219_E_BUTTON_B_PRESSED_SHIFT\t\t1\n#define DA7219_E_BUTTON_B_PRESSED_MASK\t\t(0x1 << 1)\n#define DA7219_E_BUTTON_C_PRESSED_SHIFT\t\t2\n#define DA7219_E_BUTTON_C_PRESSED_MASK\t\t(0x1 << 2)\n#define DA7219_E_BUTTON_D_PRESSED_SHIFT\t\t3\n#define DA7219_E_BUTTON_D_PRESSED_MASK\t\t(0x1 << 3)\n#define DA7219_E_BUTTON_D_RELEASED_SHIFT\t4\n#define DA7219_E_BUTTON_D_RELEASED_MASK\t\t(0x1 << 4)\n#define DA7219_E_BUTTON_C_RELEASED_SHIFT\t5\n#define DA7219_E_BUTTON_C_RELEASED_MASK\t\t(0x1 << 5)\n#define DA7219_E_BUTTON_B_RELEASED_SHIFT\t6\n#define DA7219_E_BUTTON_B_RELEASED_MASK\t\t(0x1 << 6)\n#define DA7219_E_BUTTON_A_RELEASED_SHIFT\t7\n#define DA7219_E_BUTTON_A_RELEASED_MASK\t\t(0x1 << 7)\n\n \n#define DA7219_M_JACK_INSERTED_SHIFT\t\t0\n#define DA7219_M_JACK_INSERTED_MASK\t\t(0x1 << 0)\n#define DA7219_M_JACK_REMOVED_SHIFT\t\t1\n#define DA7219_M_JACK_REMOVED_MASK\t\t(0x1 << 1)\n#define DA7219_M_JACK_DETECT_COMPLETE_SHIFT\t2\n#define DA7219_M_JACK_DETECT_COMPLETE_MASK\t(0x1 << 2)\n\n \n#define DA7219_M_BUTTON_A_PRESSED_SHIFT\t\t0\n#define DA7219_M_BUTTON_A_PRESSED_MASK\t\t(0x1 << 0)\n#define DA7219_M_BUTTON_B_PRESSED_SHIFT\t\t1\n#define DA7219_M_BUTTON_B_PRESSED_MASK\t\t(0x1 << 1)\n#define DA7219_M_BUTTON_C_PRESSED_SHIFT\t\t2\n#define DA7219_M_BUTTON_C_PRESSED_MASK\t\t(0x1 << 2)\n#define DA7219_M_BUTTON_D_PRESSED_SHIFT\t\t3\n#define DA7219_M_BUTTON_D_PRESSED_MASK\t\t(0x1 << 3)\n#define DA7219_M_BUTTON_D_RELEASED_SHIFT\t4\n#define DA7219_M_BUTTON_D_RELEASED_MASK\t\t(0x1 << 4)\n#define DA7219_M_BUTTON_C_RELEASED_SHIFT\t5\n#define DA7219_M_BUTTON_C_RELEASED_MASK\t\t(0x1 << 5)\n#define DA7219_M_BUTTON_B_RELEASED_SHIFT\t6\n#define DA7219_M_BUTTON_B_RELEASED_MASK\t\t(0x1 << 6)\n#define DA7219_M_BUTTON_A_RELEASED_SHIFT\t7\n#define DA7219_M_BUTTON_A_RELEASED_MASK\t\t(0x1 << 7)\n\n \n#define DA7219_ACCDET_EN_SHIFT\t\t0\n#define DA7219_ACCDET_EN_MASK\t\t(0x1 << 0)\n#define DA7219_BUTTON_CONFIG_SHIFT\t1\n#define DA7219_BUTTON_CONFIG_MASK\t(0x7 << 1)\n#define DA7219_MIC_DET_THRESH_SHIFT\t4\n#define DA7219_MIC_DET_THRESH_MASK\t(0x3 << 4)\n#define DA7219_JACK_TYPE_DET_EN_SHIFT\t6\n#define DA7219_JACK_TYPE_DET_EN_MASK\t(0x1 << 6)\n#define DA7219_PIN_ORDER_DET_EN_SHIFT\t7\n#define DA7219_PIN_ORDER_DET_EN_MASK\t(0x1 << 7)\n\n \n#define DA7219_ACCDET_PAUSE_SHIFT\t0\n#define DA7219_ACCDET_PAUSE_MASK\t(0x1 << 0)\n#define DA7219_JACKDET_DEBOUNCE_SHIFT\t1\n#define DA7219_JACKDET_DEBOUNCE_MASK\t(0x7 << 1)\n#define DA7219_JACK_DETECT_RATE_SHIFT\t4\n#define DA7219_JACK_DETECT_RATE_MASK\t(0x3 << 4)\n#define DA7219_JACKDET_REM_DEB_SHIFT\t6\n#define DA7219_JACKDET_REM_DEB_MASK\t(0x3 << 6)\n\n \n#define DA7219_A_D_BUTTON_THRESH_SHIFT\t0\n#define DA7219_A_D_BUTTON_THRESH_MASK\t(0xFF << 0)\n\n \n#define DA7219_D_B_BUTTON_THRESH_SHIFT\t0\n#define DA7219_D_B_BUTTON_THRESH_MASK\t(0xFF << 0)\n\n \n#define DA7219_B_C_BUTTON_THRESH_SHIFT\t0\n#define DA7219_B_C_BUTTON_THRESH_MASK\t(0xFF << 0)\n\n \n#define DA7219_C_MIC_BUTTON_THRESH_SHIFT\t0\n#define DA7219_C_MIC_BUTTON_THRESH_MASK\t\t(0xFF << 0)\n\n \n#define DA7219_BUTTON_AVERAGE_SHIFT\t0\n#define DA7219_BUTTON_AVERAGE_MASK\t(0x3 << 0)\n#define DA7219_ADC_1_BIT_REPEAT_SHIFT\t2\n#define DA7219_ADC_1_BIT_REPEAT_MASK\t(0x3 << 2)\n#define DA7219_PIN_ORDER_FORCE_SHIFT\t4\n#define DA7219_PIN_ORDER_FORCE_MASK\t(0x1 << 4)\n#define DA7219_JACK_TYPE_FORCE_SHIFT\t5\n#define DA7219_JACK_TYPE_FORCE_MASK\t(0x1 << 5)\n\n \n#define DA7219_HPTEST_EN_SHIFT\t\t0\n#define DA7219_HPTEST_EN_MASK\t\t(0x1 << 0)\n#define DA7219_HPTEST_RES_SEL_SHIFT\t1\n#define DA7219_HPTEST_RES_SEL_MASK\t(0x3 << 1)\n#define DA7219_HPTEST_RES_SEL_1KOHMS\t(0x0 << 1)\n#define DA7219_HPTEST_COMP_SHIFT\t4\n#define DA7219_HPTEST_COMP_MASK\t\t(0x1 << 4)\n\n\n#define DA7219_AAD_MAX_BUTTONS\t\t4\n#define DA7219_AAD_REPORT_ALL_MASK\t(SND_JACK_MECHANICAL |\t\t\t\\\n\t\t\t\t\t SND_JACK_HEADSET | SND_JACK_LINEOUT |\t\\\n\t\t\t\t\t SND_JACK_BTN_0 | SND_JACK_BTN_1 |\t\\\n\t\t\t\t\t SND_JACK_BTN_2 | SND_JACK_BTN_3)\n\n#define DA7219_AAD_MICBIAS_CHK_DELAY\t10\n#define DA7219_AAD_MICBIAS_CHK_RETRIES\t5\n\n#define DA7219_AAD_HPTEST_RAMP_FREQ\t\t0x28\n#define DA7219_AAD_HPTEST_RAMP_FREQ_INT_OSC\t0x4D\n#define DA7219_AAD_HPTEST_PERIOD\t\t65\n#define DA7219_AAD_HPTEST_INT_OSC_PATH_DELAY\t20\n\nenum da7219_aad_event_regs {\n\tDA7219_AAD_IRQ_REG_A = 0,\n\tDA7219_AAD_IRQ_REG_B,\n\tDA7219_AAD_IRQ_REG_MAX,\n};\n\n \nstruct da7219_aad_priv {\n\tstruct snd_soc_component *component;\n\tint irq;\n\tint gnd_switch_delay;\n\n\tu8 micbias_pulse_lvl;\n\tu32 micbias_pulse_time;\n\n\tu8 btn_cfg;\n\n\tstruct work_struct btn_det_work;\n\tstruct work_struct hptest_work;\n\tstruct delayed_work jack_det_work;\n\tstruct workqueue_struct *aad_wq;\n\n\tstruct snd_soc_jack *jack;\n\tbool micbias_resume_enable;\n\tbool jack_inserted;\n};\n\n \nvoid da7219_aad_jack_det(struct snd_soc_component *component, struct snd_soc_jack *jack);\n\n \nvoid da7219_aad_suspend(struct snd_soc_component *component);\nvoid da7219_aad_resume(struct snd_soc_component *component);\n\n \nint da7219_aad_init(struct snd_soc_component *component);\nvoid da7219_aad_exit(struct snd_soc_component *component);\n\n \nint da7219_aad_probe(struct i2c_client *i2c);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}