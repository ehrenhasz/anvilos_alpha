{
  "module_name": "q6prm-clocks.c",
  "hash_id": "a0dbb9272c24aff9620bfa61e9b855530fa681481cca7f18f2cc695982d22e58",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/qcom/qdsp6/q6prm-clocks.c",
  "human_readable_source": "\n\n\n#include <linux/err.h>\n#include <linux/init.h>\n#include <linux/clk-provider.h>\n#include <linux/module.h>\n#include <linux/device.h>\n#include <linux/platform_device.h>\n#include <dt-bindings/sound/qcom,q6dsp-lpass-ports.h>\n#include \"q6dsp-lpass-clocks.h\"\n#include \"q6prm.h\"\n\n#define Q6PRM_CLK(id) {\t\t\t\t\t\\\n\t\t.clk_id\t= id,\t\t\t\t\\\n\t\t.q6dsp_clk_id\t= Q6PRM_##id,\t\t\\\n\t\t.name = #id,\t\t\t\t\\\n\t\t.rate = 19200000,\t\t\t\\\n\t}\n\nstatic const struct q6dsp_clk_init q6prm_clks[] = {\n\tQ6PRM_CLK(LPASS_CLK_ID_PRI_MI2S_IBIT),\n\tQ6PRM_CLK(LPASS_CLK_ID_PRI_MI2S_EBIT),\n\tQ6PRM_CLK(LPASS_CLK_ID_SEC_MI2S_IBIT),\n\tQ6PRM_CLK(LPASS_CLK_ID_SEC_MI2S_EBIT),\n\tQ6PRM_CLK(LPASS_CLK_ID_TER_MI2S_IBIT),\n\tQ6PRM_CLK(LPASS_CLK_ID_TER_MI2S_EBIT),\n\tQ6PRM_CLK(LPASS_CLK_ID_QUAD_MI2S_IBIT),\n\tQ6PRM_CLK(LPASS_CLK_ID_QUAD_MI2S_EBIT),\n\tQ6PRM_CLK(LPASS_CLK_ID_SPEAKER_I2S_IBIT),\n\tQ6PRM_CLK(LPASS_CLK_ID_SPEAKER_I2S_EBIT),\n\tQ6PRM_CLK(LPASS_CLK_ID_SPEAKER_I2S_OSR),\n\tQ6PRM_CLK(LPASS_CLK_ID_QUI_MI2S_IBIT),\n\tQ6PRM_CLK(LPASS_CLK_ID_QUI_MI2S_EBIT),\n\tQ6PRM_CLK(LPASS_CLK_ID_SEN_MI2S_IBIT),\n\tQ6PRM_CLK(LPASS_CLK_ID_SEN_MI2S_EBIT),\n\tQ6PRM_CLK(LPASS_CLK_ID_INT0_MI2S_IBIT),\n\tQ6PRM_CLK(LPASS_CLK_ID_INT1_MI2S_IBIT),\n\tQ6PRM_CLK(LPASS_CLK_ID_INT2_MI2S_IBIT),\n\tQ6PRM_CLK(LPASS_CLK_ID_INT3_MI2S_IBIT),\n\tQ6PRM_CLK(LPASS_CLK_ID_INT4_MI2S_IBIT),\n\tQ6PRM_CLK(LPASS_CLK_ID_INT5_MI2S_IBIT),\n\tQ6PRM_CLK(LPASS_CLK_ID_INT6_MI2S_IBIT),\n\tQ6PRM_CLK(LPASS_CLK_ID_QUI_MI2S_OSR),\n\tQ6PRM_CLK(LPASS_CLK_ID_WSA_CORE_MCLK),\n\tQ6PRM_CLK(LPASS_CLK_ID_WSA_CORE_NPL_MCLK),\n\tQ6PRM_CLK(LPASS_CLK_ID_VA_CORE_MCLK),\n\tQ6PRM_CLK(LPASS_CLK_ID_TX_CORE_MCLK),\n\tQ6PRM_CLK(LPASS_CLK_ID_TX_CORE_NPL_MCLK),\n\tQ6PRM_CLK(LPASS_CLK_ID_RX_CORE_MCLK),\n\tQ6PRM_CLK(LPASS_CLK_ID_RX_CORE_NPL_MCLK),\n\tQ6PRM_CLK(LPASS_CLK_ID_VA_CORE_2X_MCLK),\n\tQ6PRM_CLK(LPASS_CLK_ID_WSA2_CORE_MCLK),\n\tQ6PRM_CLK(LPASS_CLK_ID_WSA2_CORE_2X_MCLK),\n\tQ6PRM_CLK(LPASS_CLK_ID_RX_CORE_TX_MCLK),\n\tQ6PRM_CLK(LPASS_CLK_ID_RX_CORE_TX_2X_MCLK),\n\tQ6PRM_CLK(LPASS_CLK_ID_WSA_CORE_TX_MCLK),\n\tQ6PRM_CLK(LPASS_CLK_ID_WSA_CORE_TX_2X_MCLK),\n\tQ6PRM_CLK(LPASS_CLK_ID_WSA2_CORE_TX_MCLK),\n\tQ6PRM_CLK(LPASS_CLK_ID_WSA2_CORE_TX_2X_MCLK),\n\tQ6PRM_CLK(LPASS_CLK_ID_RX_CORE_MCLK2_2X_MCLK),\n\tQ6DSP_VOTE_CLK(LPASS_HW_MACRO_VOTE, Q6PRM_HW_CORE_ID_LPASS,\n\t\t       \"LPASS_HW_MACRO\"),\n\tQ6DSP_VOTE_CLK(LPASS_HW_DCODEC_VOTE, Q6PRM_HW_CORE_ID_DCODEC,\n\t\t       \"LPASS_HW_DCODEC\"),\n};\n\nstatic const struct q6dsp_clk_desc q6dsp_clk_q6prm __maybe_unused = {\n\t.clks = q6prm_clks,\n\t.num_clks = ARRAY_SIZE(q6prm_clks),\n\t.lpass_set_clk = q6prm_set_lpass_clock,\n\t.lpass_vote_clk = q6prm_vote_lpass_core_hw,\n\t.lpass_unvote_clk = q6prm_unvote_lpass_core_hw,\n};\n\n#ifdef CONFIG_OF\nstatic const struct of_device_id q6prm_clock_device_id[] = {\n\t{ .compatible = \"qcom,q6prm-lpass-clocks\", .data = &q6dsp_clk_q6prm },\n\t{},\n};\nMODULE_DEVICE_TABLE(of, q6prm_clock_device_id);\n#endif\n\nstatic struct platform_driver q6prm_clock_platform_driver = {\n\t.driver = {\n\t\t.name = \"q6prm-lpass-clock\",\n\t\t.of_match_table = of_match_ptr(q6prm_clock_device_id),\n\t},\n\t.probe = q6dsp_clock_dev_probe,\n};\nmodule_platform_driver(q6prm_clock_platform_driver);\n\nMODULE_DESCRIPTION(\"Q6 Proxy Resource Manager LPASS clock driver\");\nMODULE_LICENSE(\"GPL\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}