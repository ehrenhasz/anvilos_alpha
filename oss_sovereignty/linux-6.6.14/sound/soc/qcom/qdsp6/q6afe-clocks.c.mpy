{
  "module_name": "q6afe-clocks.c",
  "hash_id": "89b11de2bc0e92dac0a5c9d8eb9dba6e9f03244c660adfb5c5d2a55623613f25",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/qcom/qdsp6/q6afe-clocks.c",
  "human_readable_source": "\n\n\n#include <linux/err.h>\n#include <linux/init.h>\n#include <linux/clk-provider.h>\n#include <linux/module.h>\n#include <linux/device.h>\n#include <linux/platform_device.h>\n#include \"q6dsp-lpass-clocks.h\"\n#include \"q6afe.h\"\n\n#define Q6AFE_CLK(id) {\t\t\t\t\t\\\n\t\t.clk_id\t= id,\t\t\t\t\\\n\t\t.q6dsp_clk_id\t= Q6AFE_##id,\t\t\\\n\t\t.name = #id,\t\t\t\t\\\n\t\t.rate = 19200000,\t\t\t\\\n\t}\n\n\nstatic const struct q6dsp_clk_init q6afe_clks[] = {\n\tQ6AFE_CLK(LPASS_CLK_ID_PRI_MI2S_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_PRI_MI2S_EBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_SEC_MI2S_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_SEC_MI2S_EBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_TER_MI2S_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_TER_MI2S_EBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_QUAD_MI2S_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_QUAD_MI2S_EBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_SPEAKER_I2S_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_SPEAKER_I2S_EBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_SPEAKER_I2S_OSR),\n\tQ6AFE_CLK(LPASS_CLK_ID_QUI_MI2S_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_QUI_MI2S_EBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_SEN_MI2S_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_SEN_MI2S_EBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_INT0_MI2S_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_INT1_MI2S_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_INT2_MI2S_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_INT3_MI2S_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_INT4_MI2S_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_INT5_MI2S_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_INT6_MI2S_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_QUI_MI2S_OSR),\n\tQ6AFE_CLK(LPASS_CLK_ID_PRI_PCM_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_PRI_PCM_EBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_SEC_PCM_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_SEC_PCM_EBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_TER_PCM_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_TER_PCM_EBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_QUAD_PCM_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_QUAD_PCM_EBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_QUIN_PCM_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_QUIN_PCM_EBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_QUI_PCM_OSR),\n\tQ6AFE_CLK(LPASS_CLK_ID_PRI_TDM_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_PRI_TDM_EBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_SEC_TDM_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_SEC_TDM_EBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_TER_TDM_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_TER_TDM_EBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_QUAD_TDM_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_QUAD_TDM_EBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_QUIN_TDM_IBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_QUIN_TDM_EBIT),\n\tQ6AFE_CLK(LPASS_CLK_ID_QUIN_TDM_OSR),\n\tQ6AFE_CLK(LPASS_CLK_ID_MCLK_1),\n\tQ6AFE_CLK(LPASS_CLK_ID_MCLK_2),\n\tQ6AFE_CLK(LPASS_CLK_ID_MCLK_3),\n\tQ6AFE_CLK(LPASS_CLK_ID_MCLK_4),\n\tQ6AFE_CLK(LPASS_CLK_ID_INTERNAL_DIGITAL_CODEC_CORE),\n\tQ6AFE_CLK(LPASS_CLK_ID_INT_MCLK_0),\n\tQ6AFE_CLK(LPASS_CLK_ID_INT_MCLK_1),\n\tQ6AFE_CLK(LPASS_CLK_ID_WSA_CORE_MCLK),\n\tQ6AFE_CLK(LPASS_CLK_ID_WSA_CORE_NPL_MCLK),\n\tQ6AFE_CLK(LPASS_CLK_ID_VA_CORE_MCLK),\n\tQ6AFE_CLK(LPASS_CLK_ID_TX_CORE_MCLK),\n\tQ6AFE_CLK(LPASS_CLK_ID_TX_CORE_NPL_MCLK),\n\tQ6AFE_CLK(LPASS_CLK_ID_RX_CORE_MCLK),\n\tQ6AFE_CLK(LPASS_CLK_ID_RX_CORE_NPL_MCLK),\n\tQ6AFE_CLK(LPASS_CLK_ID_VA_CORE_2X_MCLK),\n\tQ6DSP_VOTE_CLK(LPASS_HW_AVTIMER_VOTE,\n\t\t       Q6AFE_LPASS_CORE_AVTIMER_BLOCK,\n\t\t       \"LPASS_AVTIMER_MACRO\"),\n\tQ6DSP_VOTE_CLK(LPASS_HW_MACRO_VOTE,\n\t\t       Q6AFE_LPASS_CORE_HW_MACRO_BLOCK,\n\t\t       \"LPASS_HW_MACRO\"),\n\tQ6DSP_VOTE_CLK(LPASS_HW_DCODEC_VOTE,\n\t\t       Q6AFE_LPASS_CORE_HW_DCODEC_BLOCK,\n\t\t       \"LPASS_HW_DCODEC\"),\n};\n\nstatic const struct q6dsp_clk_desc q6dsp_clk_q6afe __maybe_unused = {\n\t.clks = q6afe_clks,\n\t.num_clks = ARRAY_SIZE(q6afe_clks),\n\t.lpass_set_clk = q6afe_set_lpass_clock,\n\t.lpass_vote_clk = q6afe_vote_lpass_core_hw,\n\t.lpass_unvote_clk = q6afe_unvote_lpass_core_hw,\n};\n\n#ifdef CONFIG_OF\nstatic const struct of_device_id q6afe_clock_device_id[] = {\n\t{ .compatible = \"qcom,q6afe-clocks\", .data = &q6dsp_clk_q6afe },\n\t{},\n};\nMODULE_DEVICE_TABLE(of, q6afe_clock_device_id);\n#endif\n\nstatic struct platform_driver q6afe_clock_platform_driver = {\n\t.driver = {\n\t\t.name = \"q6afe-clock\",\n\t\t.of_match_table = of_match_ptr(q6afe_clock_device_id),\n\t},\n\t.probe = q6dsp_clock_dev_probe,\n};\nmodule_platform_driver(q6afe_clock_platform_driver);\n\nMODULE_DESCRIPTION(\"Q6 Audio Frontend clock driver\");\nMODULE_LICENSE(\"GPL v2\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}