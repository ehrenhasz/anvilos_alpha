{
  "module_name": "q6asm.h",
  "hash_id": "be309319eec0f52076021e2c42b7644814713628545a22605c9c575e3fb80505",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/qcom/qdsp6/q6asm.h",
  "human_readable_source": " \n#ifndef __Q6_ASM_H__\n#define __Q6_ASM_H__\n#include \"q6dsp-common.h\"\n#include <dt-bindings/sound/qcom,q6asm.h>\n\n \n#define CMD_PAUSE\t\t\t0x0001\n#define ASM_CLIENT_EVENT_CMD_PAUSE_DONE\t\t0x1001\n#define CMD_FLUSH\t\t\t\t0x0002\n#define ASM_CLIENT_EVENT_CMD_FLUSH_DONE\t\t0x1002\n#define CMD_EOS\t\t\t\t0x0003\n#define ASM_CLIENT_EVENT_CMD_EOS_DONE\t\t0x1003\n#define CMD_CLOSE\t\t\t\t0x0004\n#define ASM_CLIENT_EVENT_CMD_CLOSE_DONE\t\t0x1004\n#define CMD_OUT_FLUSH\t\t\t\t0x0005\n#define ASM_CLIENT_EVENT_CMD_OUT_FLUSH_DONE\t0x1005\n#define CMD_SUSPEND\t\t\t\t0x0006\n#define ASM_CLIENT_EVENT_CMD_SUSPEND_DONE\t0x1006\n#define ASM_CLIENT_EVENT_CMD_RUN_DONE\t\t0x1008\n#define ASM_CLIENT_EVENT_DATA_WRITE_DONE\t0x1009\n#define ASM_CLIENT_EVENT_DATA_READ_DONE\t\t0x100a\n#define ASM_WRITE_TOKEN_MASK\t\t\tGENMASK(15, 0)\n#define ASM_WRITE_TOKEN_LEN_MASK\t\tGENMASK(31, 16)\n#define ASM_WRITE_TOKEN_LEN_SHIFT\t\t16\n\nenum {\n\tLEGACY_PCM_MODE = 0,\n\tLOW_LATENCY_PCM_MODE,\n\tULTRA_LOW_LATENCY_PCM_MODE,\n\tULL_POST_PROCESSING_PCM_MODE,\n};\n\n#define MAX_SESSIONS\t8\n#define FORMAT_LINEAR_PCM   0x0000\n#define ASM_LAST_BUFFER_FLAG           BIT(30)\n\nstruct q6asm_flac_cfg {\n        u32 sample_rate;\n        u32 ext_sample_rate;\n        u32 min_frame_size;\n        u32 max_frame_size;\n        u16 stream_info_present;\n        u16 min_blk_size;\n        u16 max_blk_size;\n        u16 ch_cfg;\n        u16 sample_size;\n        u16 md5_sum;\n};\n\nstruct q6asm_wma_cfg {\n\tu32 fmtag;\n\tu32 num_channels;\n\tu32 sample_rate;\n\tu32 bytes_per_sec;\n\tu32 block_align;\n\tu32 bits_per_sample;\n\tu32 channel_mask;\n\tu32 enc_options;\n\tu32 adv_enc_options;\n\tu32 adv_enc_options2;\n};\n\nstruct q6asm_alac_cfg {\n\tu32 frame_length;\n\tu8 compatible_version;\n\tu8 bit_depth;\n\tu8 pb;\n\tu8 mb;\n\tu8 kb;\n\tu8 num_channels;\n\tu16 max_run;\n\tu32 max_frame_bytes;\n\tu32 avg_bit_rate;\n\tu32 sample_rate;\n\tu32 channel_layout_tag;\n};\n\nstruct q6asm_ape_cfg {\n\tu16 compatible_version;\n\tu16 compression_level;\n\tu32 format_flags;\n\tu32 blocks_per_frame;\n\tu32 final_frame_blocks;\n\tu32 total_frames;\n\tu16 bits_per_sample;\n\tu16 num_channels;\n\tu32 sample_rate;\n\tu32 seek_table_present;\n};\n\ntypedef void (*q6asm_cb) (uint32_t opcode, uint32_t token,\n\t\t\t  void *payload, void *priv);\nstruct audio_client;\nstruct audio_client *q6asm_audio_client_alloc(struct device *dev,\n\t\t\t\t\t      q6asm_cb cb, void *priv,\n\t\t\t\t\t      int session_id, int perf_mode);\nvoid q6asm_audio_client_free(struct audio_client *ac);\nint q6asm_write_async(struct audio_client *ac, uint32_t stream_id, uint32_t len,\n\t\t      uint32_t msw_ts, uint32_t lsw_ts, uint32_t wflags);\nint q6asm_open_write(struct audio_client *ac, uint32_t stream_id,\n\t\t     uint32_t format, u32 codec_profile,\n\t\t     uint16_t bits_per_sample, bool is_gapless);\n\nint q6asm_open_read(struct audio_client *ac, uint32_t stream_id,\n\t\t    uint32_t format, uint16_t bits_per_sample);\nint q6asm_enc_cfg_blk_pcm_format_support(struct audio_client *ac,\n\t\t\t\t\t uint32_t stream_id, uint32_t rate,\n\t\t\t\t\t uint32_t channels,\n\t\t\t\t\t uint16_t bits_per_sample);\n\nint q6asm_read(struct audio_client *ac, uint32_t stream_id);\n\nint q6asm_media_format_block_multi_ch_pcm(struct audio_client *ac,\n\t\t\t\t\t  uint32_t stream_id,\n\t\t\t\t\t  uint32_t rate, uint32_t channels,\n\t\t\t\t\t  u8 channel_map[PCM_MAX_NUM_CHANNEL],\n\t\t\t\t\t  uint16_t bits_per_sample);\nint q6asm_stream_media_format_block_flac(struct audio_client *ac,\n\t\t\t\t\t uint32_t stream_id,\n\t\t\t\t\t struct q6asm_flac_cfg *cfg);\nint q6asm_stream_media_format_block_wma_v9(struct audio_client *ac,\n\t\t\t\t\t   uint32_t stream_id,\n\t\t\t\t\t   struct q6asm_wma_cfg *cfg);\nint q6asm_stream_media_format_block_wma_v10(struct audio_client *ac,\n\t\t\t\t\t    uint32_t stream_id,\n\t\t\t\t\t    struct q6asm_wma_cfg *cfg);\nint q6asm_stream_media_format_block_alac(struct audio_client *ac,\n\t\t\t\t\t uint32_t stream_id,\n\t\t\t\t\t struct q6asm_alac_cfg *cfg);\nint q6asm_stream_media_format_block_ape(struct audio_client *ac,\n\t\t\t\t\tuint32_t stream_id,\n\t\t\t\t\tstruct q6asm_ape_cfg *cfg);\nint q6asm_run(struct audio_client *ac, uint32_t stream_id, uint32_t flags,\n\t      uint32_t msw_ts, uint32_t lsw_ts);\nint q6asm_run_nowait(struct audio_client *ac, uint32_t stream_id,\n\t\t     uint32_t flags, uint32_t msw_ts, uint32_t lsw_ts);\nint q6asm_stream_remove_initial_silence(struct audio_client *ac,\n\t\t\t\t\tuint32_t stream_id,\n\t\t\t\t\tuint32_t initial_samples);\nint q6asm_stream_remove_trailing_silence(struct audio_client *ac,\n\t\t\t\t\t uint32_t stream_id,\n\t\t\t\t\t uint32_t trailing_samples);\nint q6asm_cmd(struct audio_client *ac, uint32_t stream_id,  int cmd);\nint q6asm_cmd_nowait(struct audio_client *ac, uint32_t stream_id,  int cmd);\nint q6asm_get_session_id(struct audio_client *c);\nint q6asm_map_memory_regions(unsigned int dir,\n\t\t\t     struct audio_client *ac,\n\t\t\t     phys_addr_t phys,\n\t\t\t     size_t period_sz, unsigned int periods);\nint q6asm_unmap_memory_regions(unsigned int dir, struct audio_client *ac);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}