{
  "module_name": "kirkwood.h",
  "hash_id": "3e571ce323961e751c530f16e0330447df08d0f2abaa7b68243e121faf0edd16",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/kirkwood/kirkwood.h",
  "human_readable_source": " \n \n\n#ifndef _KIRKWOOD_AUDIO_H\n#define _KIRKWOOD_AUDIO_H\n\n#define DRV_NAME\t\"mvebu-audio\"\n\n#define KIRKWOOD_RECORD_WIN\t\t\t0\n#define KIRKWOOD_PLAYBACK_WIN\t\t\t1\n#define KIRKWOOD_MAX_AUDIO_WIN\t\t\t2\n\n#define KIRKWOOD_AUDIO_WIN_BASE_REG(win)\t(0xA00 + ((win)<<3))\n#define KIRKWOOD_AUDIO_WIN_CTRL_REG(win)\t(0xA04 + ((win)<<3))\n\n\n#define KIRKWOOD_RECCTL\t\t\t0x1000\n#define KIRKWOOD_RECCTL_SPDIF_EN\t\t(1<<11)\n#define KIRKWOOD_RECCTL_I2S_EN\t\t\t(1<<10)\n#define KIRKWOOD_RECCTL_PAUSE\t\t\t(1<<9)\n#define KIRKWOOD_RECCTL_MUTE\t\t\t(1<<8)\n#define KIRKWOOD_RECCTL_BURST_MASK\t\t(3<<5)\n#define KIRKWOOD_RECCTL_BURST_128\t\t(2<<5)\n#define KIRKWOOD_RECCTL_BURST_32\t\t(1<<5)\n#define KIRKWOOD_RECCTL_MONO\t\t\t(1<<4)\n#define KIRKWOOD_RECCTL_MONO_CHAN_RIGHT\t(1<<3)\n#define KIRKWOOD_RECCTL_MONO_CHAN_LEFT\t\t(0<<3)\n#define KIRKWOOD_RECCTL_SIZE_MASK\t\t(7<<0)\n#define KIRKWOOD_RECCTL_SIZE_16\t\t(7<<0)\n#define KIRKWOOD_RECCTL_SIZE_16_C\t\t(3<<0)\n#define KIRKWOOD_RECCTL_SIZE_20\t\t(2<<0)\n#define KIRKWOOD_RECCTL_SIZE_24\t\t(1<<0)\n#define KIRKWOOD_RECCTL_SIZE_32\t\t(0<<0)\n\n#define KIRKWOOD_RECCTL_ENABLE_MASK\t\t(KIRKWOOD_RECCTL_SPDIF_EN | \\\n\t\t\t\t\t\t KIRKWOOD_RECCTL_I2S_EN)\n\n#define KIRKWOOD_REC_BUF_ADDR\t\t\t0x1004\n#define KIRKWOOD_REC_BUF_SIZE\t\t\t0x1008\n#define KIRKWOOD_REC_BYTE_COUNT\t\t\t0x100C\n\n#define KIRKWOOD_PLAYCTL\t\t\t0x1100\n#define KIRKWOOD_PLAYCTL_PLAY_BUSY\t\t(1<<16)\n#define KIRKWOOD_PLAYCTL_BURST_MASK\t\t(3<<11)\n#define KIRKWOOD_PLAYCTL_BURST_128\t\t(2<<11)\n#define KIRKWOOD_PLAYCTL_BURST_32\t\t(1<<11)\n#define KIRKWOOD_PLAYCTL_PAUSE\t\t\t(1<<9)\n#define KIRKWOOD_PLAYCTL_SPDIF_MUTE\t\t(1<<8)\n#define KIRKWOOD_PLAYCTL_MONO_MASK\t\t(3<<5)\n#define KIRKWOOD_PLAYCTL_MONO_BOTH\t\t(3<<5)\n#define KIRKWOOD_PLAYCTL_MONO_OFF\t\t(0<<5)\n#define KIRKWOOD_PLAYCTL_I2S_MUTE\t\t(1<<7)\n#define KIRKWOOD_PLAYCTL_SPDIF_EN\t\t(1<<4)\n#define KIRKWOOD_PLAYCTL_I2S_EN\t\t\t(1<<3)\n#define KIRKWOOD_PLAYCTL_SIZE_MASK\t\t(7<<0)\n#define KIRKWOOD_PLAYCTL_SIZE_16\t\t(7<<0)\n#define KIRKWOOD_PLAYCTL_SIZE_16_C\t\t(3<<0)\n#define KIRKWOOD_PLAYCTL_SIZE_20\t\t(2<<0)\n#define KIRKWOOD_PLAYCTL_SIZE_24\t\t(1<<0)\n#define KIRKWOOD_PLAYCTL_SIZE_32\t\t(0<<0)\n\n#define KIRKWOOD_PLAYCTL_ENABLE_MASK\t\t(KIRKWOOD_PLAYCTL_SPDIF_EN | \\\n\t\t\t\t\t\t KIRKWOOD_PLAYCTL_I2S_EN)\n\n#define KIRKWOOD_PLAY_BUF_ADDR\t\t\t0x1104\n#define KIRKWOOD_PLAY_BUF_SIZE\t\t\t0x1108\n#define KIRKWOOD_PLAY_BYTE_COUNT\t\t0x110C\n\n#define KIRKWOOD_DCO_CTL\t\t\t0x1204\n#define KIRKWOOD_DCO_CTL_OFFSET_MASK\t\t(0xFFF<<2)\n#define KIRKWOOD_DCO_CTL_OFFSET_0\t\t(0x800<<2)\n#define KIRKWOOD_DCO_CTL_FREQ_MASK\t\t(3<<0)\n#define KIRKWOOD_DCO_CTL_FREQ_11\t\t(0<<0)\n#define KIRKWOOD_DCO_CTL_FREQ_12\t\t(1<<0)\n#define KIRKWOOD_DCO_CTL_FREQ_24\t\t(2<<0)\n\n#define KIRKWOOD_DCO_SPCR_STATUS\t\t0x120c\n#define KIRKWOOD_DCO_SPCR_STATUS_DCO_LOCK\t(1<<16)\n\n#define KIRKWOOD_CLOCKS_CTRL\t\t\t0x1230\n#define KIRKWOOD_MCLK_SOURCE_MASK\t\t(3<<0)\n#define KIRKWOOD_MCLK_SOURCE_DCO\t\t(0<<0)\n#define KIRKWOOD_MCLK_SOURCE_EXTCLK\t\t(3<<0)\n\n#define KIRKWOOD_ERR_CAUSE\t\t\t0x1300\n#define KIRKWOOD_ERR_MASK\t\t\t0x1304\n\n#define KIRKWOOD_INT_CAUSE\t\t\t0x1308\n#define KIRKWOOD_INT_MASK\t\t\t0x130C\n#define KIRKWOOD_INT_CAUSE_PLAY_BYTES\t\t(1<<14)\n#define KIRKWOOD_INT_CAUSE_REC_BYTES\t\t(1<<13)\n#define KIRKWOOD_INT_CAUSE_DMA_PLAY_END\t(1<<7)\n#define KIRKWOOD_INT_CAUSE_DMA_PLAY_3Q\t\t(1<<6)\n#define KIRKWOOD_INT_CAUSE_DMA_PLAY_HALF\t(1<<5)\n#define KIRKWOOD_INT_CAUSE_DMA_PLAY_1Q\t\t(1<<4)\n#define KIRKWOOD_INT_CAUSE_DMA_REC_END\t\t(1<<3)\n#define KIRKWOOD_INT_CAUSE_DMA_REC_3Q\t\t(1<<2)\n#define KIRKWOOD_INT_CAUSE_DMA_REC_HALF\t(1<<1)\n#define KIRKWOOD_INT_CAUSE_DMA_REC_1Q\t\t(1<<0)\n\n#define KIRKWOOD_REC_BYTE_INT_COUNT\t\t0x1310\n#define KIRKWOOD_PLAY_BYTE_INT_COUNT\t\t0x1314\n#define KIRKWOOD_BYTE_INT_COUNT_MASK\t\t0xffffff\n\n#define KIRKWOOD_I2S_PLAYCTL\t\t\t0x2508\n#define KIRKWOOD_I2S_RECCTL\t\t\t0x2408\n#define KIRKWOOD_I2S_CTL_JUST_MASK\t\t(0xf<<26)\n#define KIRKWOOD_I2S_CTL_LJ\t\t\t(0<<26)\n#define KIRKWOOD_I2S_CTL_I2S\t\t\t(5<<26)\n#define KIRKWOOD_I2S_CTL_RJ\t\t\t(8<<26)\n#define KIRKWOOD_I2S_CTL_SIZE_MASK\t\t(3<<30)\n#define KIRKWOOD_I2S_CTL_SIZE_16\t\t(3<<30)\n#define KIRKWOOD_I2S_CTL_SIZE_20\t\t(2<<30)\n#define KIRKWOOD_I2S_CTL_SIZE_24\t\t(1<<30)\n#define KIRKWOOD_I2S_CTL_SIZE_32\t\t(0<<30)\n\n#define KIRKWOOD_AUDIO_BUF_MAX\t\t\t(16*1024*1024)\n\n \n \n#define KIRKWOOD_SND_MIN_PERIODS\t\t2\n#define KIRKWOOD_SND_MAX_PERIODS\t\t16\n#define KIRKWOOD_SND_MIN_PERIOD_BYTES\t\t256\n#define KIRKWOOD_SND_MAX_PERIOD_BYTES\t\t0x8000\n#define KIRKWOOD_SND_MAX_BUFFER_BYTES\t\t(KIRKWOOD_SND_MAX_PERIOD_BYTES \\\n\t\t\t\t\t\t * KIRKWOOD_SND_MAX_PERIODS)\n\nstruct kirkwood_dma_data {\n\tvoid __iomem *io;\n\tvoid __iomem *pll_config;\n\tvoid __iomem *soc_control;\n\tstruct clk *clk;\n\tstruct clk *extclk;\n\tuint32_t ctl_play;\n\tuint32_t ctl_rec;\n\tstruct snd_pcm_substream *substream_play;\n\tstruct snd_pcm_substream *substream_rec;\n\tint irq;\n\tint burst;\n};\n\nextern const struct snd_soc_component_driver kirkwood_soc_component;\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}