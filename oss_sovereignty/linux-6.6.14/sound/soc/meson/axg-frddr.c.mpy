{
  "module_name": "axg-frddr.c",
  "hash_id": "f8c5e2a8d254d3eac10ab7fb2434d7879045dcbc3005a0e4f0213aafbfd8071b",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/meson/axg-frddr.c",
  "human_readable_source": "\n\n\n\n\n \n\n#include <linux/clk.h>\n#include <linux/regmap.h>\n#include <linux/module.h>\n#include <linux/of_platform.h>\n#include <sound/pcm_params.h>\n#include <sound/soc.h>\n#include <sound/soc-dai.h>\n\n#include \"axg-fifo.h\"\n\n#define CTRL0_FRDDR_PP_MODE\t\tBIT(30)\n#define CTRL0_SEL1_EN_SHIFT\t\t3\n#define CTRL0_SEL2_SHIFT\t\t4\n#define CTRL0_SEL2_EN_SHIFT\t\t7\n#define CTRL0_SEL3_SHIFT\t\t8\n#define CTRL0_SEL3_EN_SHIFT\t\t11\n#define CTRL1_FRDDR_FORCE_FINISH\tBIT(12)\n#define CTRL2_SEL1_SHIFT\t\t0\n#define CTRL2_SEL1_EN_SHIFT\t\t4\n#define CTRL2_SEL2_SHIFT\t\t8\n#define CTRL2_SEL2_EN_SHIFT\t\t12\n#define CTRL2_SEL3_SHIFT\t\t16\n#define CTRL2_SEL3_EN_SHIFT\t\t20\n\nstatic int g12a_frddr_dai_prepare(struct snd_pcm_substream *substream,\n\t\t\t\t  struct snd_soc_dai *dai)\n{\n\tstruct axg_fifo *fifo = snd_soc_dai_get_drvdata(dai);\n\n\t \n\tregmap_update_bits(fifo->map, FIFO_CTRL1,\n\t\t\t   CTRL1_FRDDR_FORCE_FINISH, 0);\n\tregmap_update_bits(fifo->map, FIFO_CTRL1,\n\t\t\t   CTRL1_FRDDR_FORCE_FINISH, CTRL1_FRDDR_FORCE_FINISH);\n\tregmap_update_bits(fifo->map, FIFO_CTRL1,\n\t\t\t   CTRL1_FRDDR_FORCE_FINISH, 0);\n\n\treturn 0;\n}\n\nstatic int axg_frddr_dai_hw_params(struct snd_pcm_substream *substream,\n\t\t\t\t   struct snd_pcm_hw_params *params,\n\t\t\t\t   struct snd_soc_dai *dai)\n{\n\tstruct axg_fifo *fifo = snd_soc_dai_get_drvdata(dai);\n\tunsigned int period, depth, val;\n\n\tperiod = params_period_bytes(params);\n\n\t \n\tdepth = min(period, fifo->depth);\n\tval = (depth / AXG_FIFO_BURST) - 1;\n\tregmap_update_bits(fifo->map, FIFO_CTRL1, CTRL1_FRDDR_DEPTH_MASK,\n\t\t\t   CTRL1_FRDDR_DEPTH(val));\n\n\treturn 0;\n}\n\nstatic int axg_frddr_dai_startup(struct snd_pcm_substream *substream,\n\t\t\t\t struct snd_soc_dai *dai)\n{\n\tstruct axg_fifo *fifo = snd_soc_dai_get_drvdata(dai);\n\tint ret;\n\n\t \n\tret = clk_prepare_enable(fifo->pclk);\n\tif (ret)\n\t\treturn ret;\n\n\t \n\tregmap_update_bits(fifo->map, FIFO_CTRL0, CTRL0_FRDDR_PP_MODE, 0);\n\n\treturn 0;\n}\n\nstatic void axg_frddr_dai_shutdown(struct snd_pcm_substream *substream,\n\t\t\t\t   struct snd_soc_dai *dai)\n{\n\tstruct axg_fifo *fifo = snd_soc_dai_get_drvdata(dai);\n\n\tclk_disable_unprepare(fifo->pclk);\n}\n\nstatic int axg_frddr_pcm_new(struct snd_soc_pcm_runtime *rtd,\n\t\t\t     struct snd_soc_dai *dai)\n{\n\treturn axg_fifo_pcm_new(rtd, SNDRV_PCM_STREAM_PLAYBACK);\n}\n\nstatic const struct snd_soc_dai_ops axg_frddr_ops = {\n\t.hw_params\t= axg_frddr_dai_hw_params,\n\t.startup\t= axg_frddr_dai_startup,\n\t.shutdown\t= axg_frddr_dai_shutdown,\n\t.pcm_new\t= axg_frddr_pcm_new,\n};\n\nstatic struct snd_soc_dai_driver axg_frddr_dai_drv = {\n\t.name = \"FRDDR\",\n\t.playback = {\n\t\t.stream_name\t= \"Playback\",\n\t\t.channels_min\t= 1,\n\t\t.channels_max\t= AXG_FIFO_CH_MAX,\n\t\t.rates\t\t= AXG_FIFO_RATES,\n\t\t.formats\t= AXG_FIFO_FORMATS,\n\t},\n\t.ops\t\t= &axg_frddr_ops,\n};\n\nstatic const char * const axg_frddr_sel_texts[] = {\n\t\"OUT 0\", \"OUT 1\", \"OUT 2\", \"OUT 3\", \"OUT 4\", \"OUT 5\", \"OUT 6\", \"OUT 7\",\n};\n\nstatic SOC_ENUM_SINGLE_DECL(axg_frddr_sel_enum, FIFO_CTRL0, CTRL0_SEL_SHIFT,\n\t\t\t    axg_frddr_sel_texts);\n\nstatic const struct snd_kcontrol_new axg_frddr_out_demux =\n\tSOC_DAPM_ENUM(\"Output Sink\", axg_frddr_sel_enum);\n\nstatic const struct snd_soc_dapm_widget axg_frddr_dapm_widgets[] = {\n\tSND_SOC_DAPM_DEMUX(\"SINK SEL\", SND_SOC_NOPM, 0, 0,\n\t\t\t   &axg_frddr_out_demux),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 0\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 1\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 2\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 3\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 4\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 5\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 6\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 7\", NULL, 0, SND_SOC_NOPM, 0, 0),\n};\n\nstatic const struct snd_soc_dapm_route axg_frddr_dapm_routes[] = {\n\t{ \"SINK SEL\", NULL, \"Playback\" },\n\t{ \"OUT 0\", \"OUT 0\",  \"SINK SEL\" },\n\t{ \"OUT 1\", \"OUT 1\",  \"SINK SEL\" },\n\t{ \"OUT 2\", \"OUT 2\",  \"SINK SEL\" },\n\t{ \"OUT 3\", \"OUT 3\",  \"SINK SEL\" },\n\t{ \"OUT 4\", \"OUT 4\",  \"SINK SEL\" },\n\t{ \"OUT 5\", \"OUT 5\",  \"SINK SEL\" },\n\t{ \"OUT 6\", \"OUT 6\",  \"SINK SEL\" },\n\t{ \"OUT 7\", \"OUT 7\",  \"SINK SEL\" },\n};\n\nstatic const struct snd_soc_component_driver axg_frddr_component_drv = {\n\t.dapm_widgets\t\t= axg_frddr_dapm_widgets,\n\t.num_dapm_widgets\t= ARRAY_SIZE(axg_frddr_dapm_widgets),\n\t.dapm_routes\t\t= axg_frddr_dapm_routes,\n\t.num_dapm_routes\t= ARRAY_SIZE(axg_frddr_dapm_routes),\n\t.open\t\t\t= axg_fifo_pcm_open,\n\t.close\t\t\t= axg_fifo_pcm_close,\n\t.hw_params\t\t= axg_fifo_pcm_hw_params,\n\t.hw_free\t\t= axg_fifo_pcm_hw_free,\n\t.pointer\t\t= axg_fifo_pcm_pointer,\n\t.trigger\t\t= axg_fifo_pcm_trigger,\n\t.legacy_dai_naming\t= 1,\n};\n\nstatic const struct axg_fifo_match_data axg_frddr_match_data = {\n\t.field_threshold\t= REG_FIELD(FIFO_CTRL1, 16, 23),\n\t.component_drv\t\t= &axg_frddr_component_drv,\n\t.dai_drv\t\t= &axg_frddr_dai_drv\n};\n\nstatic const struct snd_soc_dai_ops g12a_frddr_ops = {\n\t.prepare\t= g12a_frddr_dai_prepare,\n\t.hw_params\t= axg_frddr_dai_hw_params,\n\t.startup\t= axg_frddr_dai_startup,\n\t.shutdown\t= axg_frddr_dai_shutdown,\n\t.pcm_new\t= axg_frddr_pcm_new,\n};\n\nstatic struct snd_soc_dai_driver g12a_frddr_dai_drv = {\n\t.name = \"FRDDR\",\n\t.playback = {\n\t\t.stream_name\t= \"Playback\",\n\t\t.channels_min\t= 1,\n\t\t.channels_max\t= AXG_FIFO_CH_MAX,\n\t\t.rates\t\t= AXG_FIFO_RATES,\n\t\t.formats\t= AXG_FIFO_FORMATS,\n\t},\n\t.ops\t\t= &g12a_frddr_ops,\n};\n\nstatic SOC_ENUM_SINGLE_DECL(g12a_frddr_sel1_enum, FIFO_CTRL0, CTRL0_SEL_SHIFT,\n\t\t\t    axg_frddr_sel_texts);\nstatic SOC_ENUM_SINGLE_DECL(g12a_frddr_sel2_enum, FIFO_CTRL0, CTRL0_SEL2_SHIFT,\n\t\t\t    axg_frddr_sel_texts);\nstatic SOC_ENUM_SINGLE_DECL(g12a_frddr_sel3_enum, FIFO_CTRL0, CTRL0_SEL3_SHIFT,\n\t\t\t    axg_frddr_sel_texts);\n\nstatic const struct snd_kcontrol_new g12a_frddr_out1_demux =\n\tSOC_DAPM_ENUM(\"Output Src 1\", g12a_frddr_sel1_enum);\nstatic const struct snd_kcontrol_new g12a_frddr_out2_demux =\n\tSOC_DAPM_ENUM(\"Output Src 2\", g12a_frddr_sel2_enum);\nstatic const struct snd_kcontrol_new g12a_frddr_out3_demux =\n\tSOC_DAPM_ENUM(\"Output Src 3\", g12a_frddr_sel3_enum);\n\nstatic const struct snd_kcontrol_new g12a_frddr_out1_enable =\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"Switch\", FIFO_CTRL0,\n\t\t\t\t    CTRL0_SEL1_EN_SHIFT, 1, 0);\nstatic const struct snd_kcontrol_new g12a_frddr_out2_enable =\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"Switch\", FIFO_CTRL0,\n\t\t\t\t    CTRL0_SEL2_EN_SHIFT, 1, 0);\nstatic const struct snd_kcontrol_new g12a_frddr_out3_enable =\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"Switch\", FIFO_CTRL0,\n\t\t\t\t    CTRL0_SEL3_EN_SHIFT, 1, 0);\n\nstatic const struct snd_soc_dapm_widget g12a_frddr_dapm_widgets[] = {\n\tSND_SOC_DAPM_AIF_OUT(\"SRC 1\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"SRC 2\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"SRC 3\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_SWITCH(\"SRC 1 EN\", SND_SOC_NOPM, 0, 0,\n\t\t\t    &g12a_frddr_out1_enable),\n\tSND_SOC_DAPM_SWITCH(\"SRC 2 EN\", SND_SOC_NOPM, 0, 0,\n\t\t\t    &g12a_frddr_out2_enable),\n\tSND_SOC_DAPM_SWITCH(\"SRC 3 EN\", SND_SOC_NOPM, 0, 0,\n\t\t\t    &g12a_frddr_out3_enable),\n\tSND_SOC_DAPM_DEMUX(\"SINK 1 SEL\", SND_SOC_NOPM, 0, 0,\n\t\t\t   &g12a_frddr_out1_demux),\n\tSND_SOC_DAPM_DEMUX(\"SINK 2 SEL\", SND_SOC_NOPM, 0, 0,\n\t\t\t   &g12a_frddr_out2_demux),\n\tSND_SOC_DAPM_DEMUX(\"SINK 3 SEL\", SND_SOC_NOPM, 0, 0,\n\t\t\t   &g12a_frddr_out3_demux),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 0\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 1\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 2\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 3\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 4\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 5\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 6\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 7\", NULL, 0, SND_SOC_NOPM, 0, 0),\n};\n\nstatic const struct snd_soc_dapm_route g12a_frddr_dapm_routes[] = {\n\t{ \"SRC 1\", NULL, \"Playback\" },\n\t{ \"SRC 2\", NULL, \"Playback\" },\n\t{ \"SRC 3\", NULL, \"Playback\" },\n\t{ \"SRC 1 EN\", \"Switch\", \"SRC 1\" },\n\t{ \"SRC 2 EN\", \"Switch\", \"SRC 2\" },\n\t{ \"SRC 3 EN\", \"Switch\", \"SRC 3\" },\n\t{ \"SINK 1 SEL\", NULL, \"SRC 1 EN\" },\n\t{ \"SINK 2 SEL\", NULL, \"SRC 2 EN\" },\n\t{ \"SINK 3 SEL\", NULL, \"SRC 3 EN\" },\n\t{ \"OUT 0\", \"OUT 0\", \"SINK 1 SEL\" },\n\t{ \"OUT 1\", \"OUT 1\", \"SINK 1 SEL\" },\n\t{ \"OUT 2\", \"OUT 2\", \"SINK 1 SEL\" },\n\t{ \"OUT 3\", \"OUT 3\", \"SINK 1 SEL\" },\n\t{ \"OUT 4\", \"OUT 4\", \"SINK 1 SEL\" },\n\t{ \"OUT 5\", \"OUT 5\", \"SINK 1 SEL\" },\n\t{ \"OUT 6\", \"OUT 6\", \"SINK 1 SEL\" },\n\t{ \"OUT 7\", \"OUT 7\", \"SINK 1 SEL\" },\n\t{ \"OUT 0\", \"OUT 0\", \"SINK 2 SEL\" },\n\t{ \"OUT 1\", \"OUT 1\", \"SINK 2 SEL\" },\n\t{ \"OUT 2\", \"OUT 2\", \"SINK 2 SEL\" },\n\t{ \"OUT 3\", \"OUT 3\", \"SINK 2 SEL\" },\n\t{ \"OUT 4\", \"OUT 4\", \"SINK 2 SEL\" },\n\t{ \"OUT 5\", \"OUT 5\", \"SINK 2 SEL\" },\n\t{ \"OUT 6\", \"OUT 6\", \"SINK 2 SEL\" },\n\t{ \"OUT 7\", \"OUT 7\", \"SINK 2 SEL\" },\n\t{ \"OUT 0\", \"OUT 0\", \"SINK 3 SEL\" },\n\t{ \"OUT 1\", \"OUT 1\", \"SINK 3 SEL\" },\n\t{ \"OUT 2\", \"OUT 2\", \"SINK 3 SEL\" },\n\t{ \"OUT 3\", \"OUT 3\", \"SINK 3 SEL\" },\n\t{ \"OUT 4\", \"OUT 4\", \"SINK 3 SEL\" },\n\t{ \"OUT 5\", \"OUT 5\", \"SINK 3 SEL\" },\n\t{ \"OUT 6\", \"OUT 6\", \"SINK 3 SEL\" },\n\t{ \"OUT 7\", \"OUT 7\", \"SINK 3 SEL\" },\n};\n\nstatic const struct snd_soc_component_driver g12a_frddr_component_drv = {\n\t.dapm_widgets\t\t= g12a_frddr_dapm_widgets,\n\t.num_dapm_widgets\t= ARRAY_SIZE(g12a_frddr_dapm_widgets),\n\t.dapm_routes\t\t= g12a_frddr_dapm_routes,\n\t.num_dapm_routes\t= ARRAY_SIZE(g12a_frddr_dapm_routes),\n\t.open\t\t\t= axg_fifo_pcm_open,\n\t.close\t\t\t= axg_fifo_pcm_close,\n\t.hw_params\t\t= g12a_fifo_pcm_hw_params,\n\t.hw_free\t\t= axg_fifo_pcm_hw_free,\n\t.pointer\t\t= axg_fifo_pcm_pointer,\n\t.trigger\t\t= axg_fifo_pcm_trigger,\n\t.legacy_dai_naming\t= 1,\n};\n\nstatic const struct axg_fifo_match_data g12a_frddr_match_data = {\n\t.field_threshold\t= REG_FIELD(FIFO_CTRL1, 16, 23),\n\t.component_drv\t\t= &g12a_frddr_component_drv,\n\t.dai_drv\t\t= &g12a_frddr_dai_drv\n};\n\n \nstatic const struct snd_kcontrol_new sm1_frddr_out1_enable =\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"Switch\", FIFO_CTRL2,\n\t\t\t\t    CTRL2_SEL1_EN_SHIFT, 1, 0);\nstatic const struct snd_kcontrol_new sm1_frddr_out2_enable =\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"Switch\", FIFO_CTRL2,\n\t\t\t\t    CTRL2_SEL2_EN_SHIFT, 1, 0);\nstatic const struct snd_kcontrol_new sm1_frddr_out3_enable =\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"Switch\", FIFO_CTRL2,\n\t\t\t\t    CTRL2_SEL3_EN_SHIFT, 1, 0);\n\nstatic SOC_ENUM_SINGLE_DECL(sm1_frddr_sel1_enum, FIFO_CTRL2, CTRL2_SEL1_SHIFT,\n\t\t\t    axg_frddr_sel_texts);\nstatic SOC_ENUM_SINGLE_DECL(sm1_frddr_sel2_enum, FIFO_CTRL2, CTRL2_SEL2_SHIFT,\n\t\t\t    axg_frddr_sel_texts);\nstatic SOC_ENUM_SINGLE_DECL(sm1_frddr_sel3_enum, FIFO_CTRL2, CTRL2_SEL3_SHIFT,\n\t\t\t    axg_frddr_sel_texts);\n\nstatic const struct snd_kcontrol_new sm1_frddr_out1_demux =\n\tSOC_DAPM_ENUM(\"Output Src 1\", sm1_frddr_sel1_enum);\nstatic const struct snd_kcontrol_new sm1_frddr_out2_demux =\n\tSOC_DAPM_ENUM(\"Output Src 2\", sm1_frddr_sel2_enum);\nstatic const struct snd_kcontrol_new sm1_frddr_out3_demux =\n\tSOC_DAPM_ENUM(\"Output Src 3\", sm1_frddr_sel3_enum);\n\nstatic const struct snd_soc_dapm_widget sm1_frddr_dapm_widgets[] = {\n\tSND_SOC_DAPM_AIF_OUT(\"SRC 1\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"SRC 2\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"SRC 3\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_SWITCH(\"SRC 1 EN\", SND_SOC_NOPM, 0, 0,\n\t\t\t    &sm1_frddr_out1_enable),\n\tSND_SOC_DAPM_SWITCH(\"SRC 2 EN\", SND_SOC_NOPM, 0, 0,\n\t\t\t    &sm1_frddr_out2_enable),\n\tSND_SOC_DAPM_SWITCH(\"SRC 3 EN\", SND_SOC_NOPM, 0, 0,\n\t\t\t    &sm1_frddr_out3_enable),\n\tSND_SOC_DAPM_DEMUX(\"SINK 1 SEL\", SND_SOC_NOPM, 0, 0,\n\t\t\t   &sm1_frddr_out1_demux),\n\tSND_SOC_DAPM_DEMUX(\"SINK 2 SEL\", SND_SOC_NOPM, 0, 0,\n\t\t\t   &sm1_frddr_out2_demux),\n\tSND_SOC_DAPM_DEMUX(\"SINK 3 SEL\", SND_SOC_NOPM, 0, 0,\n\t\t\t   &sm1_frddr_out3_demux),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 0\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 1\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 2\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 3\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 4\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 5\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 6\", NULL, 0, SND_SOC_NOPM, 0, 0),\n\tSND_SOC_DAPM_AIF_OUT(\"OUT 7\", NULL, 0, SND_SOC_NOPM, 0, 0),\n};\n\nstatic const struct snd_soc_component_driver sm1_frddr_component_drv = {\n\t.dapm_widgets\t\t= sm1_frddr_dapm_widgets,\n\t.num_dapm_widgets\t= ARRAY_SIZE(sm1_frddr_dapm_widgets),\n\t.dapm_routes\t\t= g12a_frddr_dapm_routes,\n\t.num_dapm_routes\t= ARRAY_SIZE(g12a_frddr_dapm_routes),\n\t.open\t\t\t= axg_fifo_pcm_open,\n\t.close\t\t\t= axg_fifo_pcm_close,\n\t.hw_params\t\t= g12a_fifo_pcm_hw_params,\n\t.hw_free\t\t= axg_fifo_pcm_hw_free,\n\t.pointer\t\t= axg_fifo_pcm_pointer,\n\t.trigger\t\t= axg_fifo_pcm_trigger,\n\t.legacy_dai_naming\t= 1,\n};\n\nstatic const struct axg_fifo_match_data sm1_frddr_match_data = {\n\t.field_threshold\t= REG_FIELD(FIFO_CTRL1, 16, 23),\n\t.component_drv\t\t= &sm1_frddr_component_drv,\n\t.dai_drv\t\t= &g12a_frddr_dai_drv\n};\n\nstatic const struct of_device_id axg_frddr_of_match[] = {\n\t{\n\t\t.compatible = \"amlogic,axg-frddr\",\n\t\t.data = &axg_frddr_match_data,\n\t}, {\n\t\t.compatible = \"amlogic,g12a-frddr\",\n\t\t.data = &g12a_frddr_match_data,\n\t}, {\n\t\t.compatible = \"amlogic,sm1-frddr\",\n\t\t.data = &sm1_frddr_match_data,\n\t}, {}\n};\nMODULE_DEVICE_TABLE(of, axg_frddr_of_match);\n\nstatic struct platform_driver axg_frddr_pdrv = {\n\t.probe = axg_fifo_probe,\n\t.driver = {\n\t\t.name = \"axg-frddr\",\n\t\t.of_match_table = axg_frddr_of_match,\n\t},\n};\nmodule_platform_driver(axg_frddr_pdrv);\n\nMODULE_DESCRIPTION(\"Amlogic AXG/G12A playback fifo driver\");\nMODULE_AUTHOR(\"Jerome Brunet <jbrunet@baylibre.com>\");\nMODULE_LICENSE(\"GPL v2\");\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}