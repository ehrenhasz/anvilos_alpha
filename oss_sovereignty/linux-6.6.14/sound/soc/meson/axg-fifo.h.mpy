{
  "module_name": "axg-fifo.h",
  "hash_id": "e197cc5c8d944939369bcd1ada1c205729f2b5cffed447e39f208c46b7712b41",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/meson/axg-fifo.h",
  "human_readable_source": " \n \n\n#ifndef _MESON_AXG_FIFO_H\n#define _MESON_AXG_FIFO_H\n\nstruct clk;\nstruct platform_device;\nstruct reg_field;\nstruct regmap;\nstruct regmap_field;\nstruct reset_control;\n\nstruct snd_soc_component_driver;\nstruct snd_soc_dai;\nstruct snd_soc_dai_driver;\n\nstruct snd_soc_pcm_runtime;\n\n#define AXG_FIFO_CH_MAX\t\t\t128\n#define AXG_FIFO_RATES\t\t\t(SNDRV_PCM_RATE_5512 |\t\t\\\n\t\t\t\t\t SNDRV_PCM_RATE_8000_192000)\n#define AXG_FIFO_FORMATS\t\t(SNDRV_PCM_FMTBIT_S8 |\t\t\\\n\t\t\t\t\t SNDRV_PCM_FMTBIT_S16_LE |\t\\\n\t\t\t\t\t SNDRV_PCM_FMTBIT_S20_LE |\t\\\n\t\t\t\t\t SNDRV_PCM_FMTBIT_S24_LE |\t\\\n\t\t\t\t\t SNDRV_PCM_FMTBIT_S32_LE |\t\\\n\t\t\t\t\t SNDRV_PCM_FMTBIT_IEC958_SUBFRAME_LE)\n\n#define AXG_FIFO_BURST\t\t\t8\n\n#define FIFO_INT_ADDR_FINISH\t\tBIT(0)\n#define FIFO_INT_ADDR_INT\t\tBIT(1)\n#define FIFO_INT_COUNT_REPEAT\t\tBIT(2)\n#define FIFO_INT_COUNT_ONCE\t\tBIT(3)\n#define FIFO_INT_FIFO_ZERO\t\tBIT(4)\n#define FIFO_INT_FIFO_DEPTH\t\tBIT(5)\n#define FIFO_INT_MASK\t\t\tGENMASK(7, 0)\n\n#define FIFO_CTRL0\t\t\t0x00\n#define  CTRL0_DMA_EN\t\t\tBIT(31)\n#define  CTRL0_INT_EN(x)\t\t((x) << 16)\n#define  CTRL0_SEL_MASK\t\t\tGENMASK(2, 0)\n#define  CTRL0_SEL_SHIFT\t\t0\n#define FIFO_CTRL1\t\t\t0x04\n#define  CTRL1_INT_CLR(x)\t\t((x) << 0)\n#define  CTRL1_STATUS2_SEL_MASK\t\tGENMASK(11, 8)\n#define  CTRL1_STATUS2_SEL(x)\t\t((x) << 8)\n#define   STATUS2_SEL_DDR_READ\t\t0\n#define  CTRL1_FRDDR_DEPTH_MASK\t\tGENMASK(31, 24)\n#define  CTRL1_FRDDR_DEPTH(x)\t\t((x) << 24)\n#define FIFO_START_ADDR\t\t\t0x08\n#define FIFO_FINISH_ADDR\t\t0x0c\n#define FIFO_INT_ADDR\t\t\t0x10\n#define FIFO_STATUS1\t\t\t0x14\n#define  STATUS1_INT_STS(x)\t\t((x) << 0)\n#define FIFO_STATUS2\t\t\t0x18\n#define FIFO_INIT_ADDR\t\t\t0x24\n#define FIFO_CTRL2\t\t\t0x28\n\nstruct axg_fifo {\n\tstruct regmap *map;\n\tstruct clk *pclk;\n\tstruct reset_control *arb;\n\tstruct regmap_field *field_threshold;\n\tunsigned int depth;\n\tint irq;\n};\n\nstruct axg_fifo_match_data {\n\tconst struct snd_soc_component_driver *component_drv;\n\tstruct snd_soc_dai_driver *dai_drv;\n\tstruct reg_field field_threshold;\n};\n\nint axg_fifo_pcm_open(struct snd_soc_component *component,\n\t\t      struct snd_pcm_substream *ss);\nint axg_fifo_pcm_close(struct snd_soc_component *component,\n\t\t       struct snd_pcm_substream *ss);\nint axg_fifo_pcm_hw_params(struct snd_soc_component *component,\n\t\t\t   struct snd_pcm_substream *ss,\n\t\t\t   struct snd_pcm_hw_params *params);\nint g12a_fifo_pcm_hw_params(struct snd_soc_component *component,\n\t\t\t    struct snd_pcm_substream *ss,\n\t\t\t    struct snd_pcm_hw_params *params);\nint axg_fifo_pcm_hw_free(struct snd_soc_component *component,\n\t\t\t struct snd_pcm_substream *ss);\nsnd_pcm_uframes_t axg_fifo_pcm_pointer(struct snd_soc_component *component,\n\t\t\t\t       struct snd_pcm_substream *ss);\nint axg_fifo_pcm_trigger(struct snd_soc_component *component,\n\t\t\t struct snd_pcm_substream *ss, int cmd);\n\nint axg_fifo_pcm_new(struct snd_soc_pcm_runtime *rtd, unsigned int type);\nint axg_fifo_probe(struct platform_device *pdev);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}