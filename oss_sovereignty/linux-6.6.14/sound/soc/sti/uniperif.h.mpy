{
  "module_name": "uniperif.h",
  "hash_id": "c78a95e7a3e1ea1fc6967a2ede17b15a6acdd9c9d43a739e9ae5f099bc19c6ed",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/sti/uniperif.h",
  "human_readable_source": " \n \n\n#ifndef __SND_ST_AUD_UNIPERIF_H\n#define __SND_ST_AUD_UNIPERIF_H\n\n#include <linux/regmap.h>\n\n#include <sound/dmaengine_pcm.h>\n\n \n\n#define GET_UNIPERIF_REG(ip, offset, shift, mask) \\\n\t((readl_relaxed(ip->base + offset) >> shift) & mask)\n#define SET_UNIPERIF_REG(ip, offset, shift, mask, value) \\\n\twritel_relaxed(((readl_relaxed(ip->base + offset) & \\\n\t~(mask << shift)) | (((value) & mask) << shift)), ip->base + offset)\n#define SET_UNIPERIF_BIT_REG(ip, offset, shift, mask, value) \\\n\twritel_relaxed((((value) & mask) << shift), ip->base + offset)\n\n \n\n#define UNIPERIF_SOFT_RST_OFFSET(ip) 0x0000\n#define GET_UNIPERIF_SOFT_RST(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? \\\n\t\treadl_relaxed(ip->base + UNIPERIF_SOFT_RST_OFFSET(ip)) : 0)\n#define SET_UNIPERIF_SOFT_RST(ip, value) \\\n\twritel_relaxed(value, ip->base + UNIPERIF_SOFT_RST_OFFSET(ip))\n\n \n#define UNIPERIF_SOFT_RST_SOFT_RST_SHIFT(ip) 0x0\n#define UNIPERIF_SOFT_RST_SOFT_RST_MASK(ip) 0x1\n#define SET_UNIPERIF_SOFT_RST_SOFT_RST(ip) \\\n\tSET_UNIPERIF_BIT_REG(ip, \\\n\t\tUNIPERIF_SOFT_RST_OFFSET(ip), \\\n\t\tUNIPERIF_SOFT_RST_SOFT_RST_SHIFT(ip), \\\n\t\tUNIPERIF_SOFT_RST_SOFT_RST_MASK(ip), 1)\n#define GET_UNIPERIF_SOFT_RST_SOFT_RST(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_SOFT_RST_OFFSET(ip), \\\n\t\tUNIPERIF_SOFT_RST_SOFT_RST_SHIFT(ip), \\\n\t\tUNIPERIF_SOFT_RST_SOFT_RST_MASK(ip))\n\n \n\n#define UNIPERIF_FIFO_DATA_OFFSET(ip) 0x0004\n#define SET_UNIPERIF_DATA(ip, value) \\\n\twritel_relaxed(value, ip->base + UNIPERIF_FIFO_DATA_OFFSET(ip))\n\n \n\n#define UNIPERIF_CHANNEL_STA_REGN(ip, n) (0x0060 + (4 * n))\n#define GET_UNIPERIF_CHANNEL_STA_REGN(ip) \\\n\treadl_relaxed(ip->base + UNIPERIF_CHANNEL_STA_REGN(ip, n))\n#define SET_UNIPERIF_CHANNEL_STA_REGN(ip, n, value) \\\n\twritel_relaxed(value, ip->base + \\\n\t\t\tUNIPERIF_CHANNEL_STA_REGN(ip, n))\n\n#define UNIPERIF_CHANNEL_STA_REG0_OFFSET(ip) 0x0060\n#define GET_UNIPERIF_CHANNEL_STA_REG0(ip) \\\n\treadl_relaxed(ip->base + UNIPERIF_CHANNEL_STA_REG0_OFFSET(ip))\n#define SET_UNIPERIF_CHANNEL_STA_REG0(ip, value) \\\n\twritel_relaxed(value, ip->base + UNIPERIF_CHANNEL_STA_REG0_OFFSET(ip))\n\n#define UNIPERIF_CHANNEL_STA_REG1_OFFSET(ip) 0x0064\n#define GET_UNIPERIF_CHANNEL_STA_REG1(ip) \\\n\treadl_relaxed(ip->base + UNIPERIF_CHANNEL_STA_REG1_OFFSET(ip))\n#define SET_UNIPERIF_CHANNEL_STA_REG1(ip, value) \\\n\twritel_relaxed(value, ip->base + UNIPERIF_CHANNEL_STA_REG1_OFFSET(ip))\n\n#define UNIPERIF_CHANNEL_STA_REG2_OFFSET(ip) 0x0068\n#define GET_UNIPERIF_CHANNEL_STA_REG2(ip) \\\n\treadl_relaxed(ip->base + UNIPERIF_CHANNEL_STA_REG2_OFFSET(ip))\n#define SET_UNIPERIF_CHANNEL_STA_REG2(ip, value) \\\n\twritel_relaxed(value, ip->base + UNIPERIF_CHANNEL_STA_REG2_OFFSET(ip))\n\n#define UNIPERIF_CHANNEL_STA_REG3_OFFSET(ip) 0x006C\n#define GET_UNIPERIF_CHANNEL_STA_REG3(ip) \\\n\treadl_relaxed(ip->base + UNIPERIF_CHANNEL_STA_REG3_OFFSET(ip))\n#define SET_UNIPERIF_CHANNEL_STA_REG3(ip, value) \\\n\twritel_relaxed(value, ip->base + UNIPERIF_CHANNEL_STA_REG3_OFFSET(ip))\n\n#define UNIPERIF_CHANNEL_STA_REG4_OFFSET(ip) 0x0070\n#define GET_UNIPERIF_CHANNEL_STA_REG4(ip) \\\n\treadl_relaxed(ip->base + UNIPERIF_CHANNEL_STA_REG4_OFFSET(ip))\n#define SET_UNIPERIF_CHANNEL_STA_REG4(ip, value) \\\n\twritel_relaxed(value, ip->base + UNIPERIF_CHANNEL_STA_REG4_OFFSET(ip))\n\n#define UNIPERIF_CHANNEL_STA_REG5_OFFSET(ip) 0x0074\n#define GET_UNIPERIF_CHANNEL_STA_REG5(ip) \\\n\treadl_relaxed(ip->base + UNIPERIF_CHANNEL_STA_REG5_OFFSET(ip))\n#define SET_UNIPERIF_CHANNEL_STA_REG5(ip, value) \\\n\twritel_relaxed(value, ip->base + UNIPERIF_CHANNEL_STA_REG5_OFFSET(ip))\n\n \n\n#define UNIPERIF_ITS_OFFSET(ip) 0x000C\n#define GET_UNIPERIF_ITS(ip) \\\n\treadl_relaxed(ip->base + UNIPERIF_ITS_OFFSET(ip))\n\n \n#define UNIPERIF_ITS_MEM_BLK_READ_SHIFT(ip) 5\n#define UNIPERIF_ITS_MEM_BLK_READ_MASK(ip) \\\n\t(BIT(UNIPERIF_ITS_MEM_BLK_READ_SHIFT(ip)))\n\n \n#define UNIPERIF_ITS_FIFO_ERROR_SHIFT(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? 0 : 8)\n#define UNIPERIF_ITS_FIFO_ERROR_MASK(ip) \\\n\t(BIT(UNIPERIF_ITS_FIFO_ERROR_SHIFT(ip)))\n\n \n#define UNIPERIF_ITS_DMA_ERROR_SHIFT(ip) 9\n#define UNIPERIF_ITS_DMA_ERROR_MASK(ip) \\\n\t(BIT(UNIPERIF_ITS_DMA_ERROR_SHIFT(ip)))\n\n \n#define UNIPERIF_ITS_UNDERFLOW_REC_DONE_SHIFT(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? -1 : 12)\n#define UNIPERIF_ITS_UNDERFLOW_REC_DONE_MASK(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? \\\n\t\t0 : (BIT(UNIPERIF_ITS_UNDERFLOW_REC_DONE_SHIFT(ip))))\n\n \n#define UNIPERIF_ITS_UNDERFLOW_REC_FAILED_SHIFT(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? -1 : 13)\n#define UNIPERIF_ITS_UNDERFLOW_REC_FAILED_MASK(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? \\\n\t\t0 : (BIT(UNIPERIF_ITS_UNDERFLOW_REC_FAILED_SHIFT(ip))))\n\n \n\n \n#define UNIPERIF_ITS_BCLR_FIFO_ERROR_SHIFT(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? 0 : 8)\n#define UNIPERIF_ITS_BCLR_FIFO_ERROR_MASK(ip) \\\n\t(BIT(UNIPERIF_ITS_BCLR_FIFO_ERROR_SHIFT(ip)))\n#define SET_UNIPERIF_ITS_BCLR_FIFO_ERROR(ip) \\\n\tSET_UNIPERIF_ITS_BCLR(ip, \\\n\t\tUNIPERIF_ITS_BCLR_FIFO_ERROR_MASK(ip))\n\n#define UNIPERIF_ITS_BCLR_OFFSET(ip) 0x0010\n#define SET_UNIPERIF_ITS_BCLR(ip, value) \\\n\twritel_relaxed(value, ip->base + UNIPERIF_ITS_BCLR_OFFSET(ip))\n\n \n\n#define UNIPERIF_ITM_OFFSET(ip) 0x0018\n#define GET_UNIPERIF_ITM(ip) \\\n\treadl_relaxed(ip->base + UNIPERIF_ITM_OFFSET(ip))\n\n \n#define UNIPERIF_ITM_FIFO_ERROR_SHIFT(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? 0 : 8)\n#define UNIPERIF_ITM_FIFO_ERROR_MASK(ip) \\\n\t(BIT(UNIPERIF_ITM_FIFO_ERROR_SHIFT(ip)))\n\n \n#define UNIPERIF_ITM_UNDERFLOW_REC_DONE_SHIFT(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? -1 : 12)\n#define UNIPERIF_ITM_UNDERFLOW_REC_DONE_MASK(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? \\\n\t\t0 : (BIT(UNIPERIF_ITM_UNDERFLOW_REC_DONE_SHIFT(ip))))\n\n \n#define UNIPERIF_ITM_UNDERFLOW_REC_FAILED_SHIFT(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? -1 : 13)\n#define UNIPERIF_ITM_UNDERFLOW_REC_FAILED_MASK(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? \\\n\t\t0 : (BIT(UNIPERIF_ITM_UNDERFLOW_REC_FAILED_SHIFT(ip))))\n\n \n\n#define UNIPERIF_ITM_BCLR_OFFSET(ip) 0x001c\n#define SET_UNIPERIF_ITM_BCLR(ip, value) \\\n\twritel_relaxed(value, ip->base + UNIPERIF_ITM_BCLR_OFFSET(ip))\n\n \n#define UNIPERIF_ITM_BCLR_FIFO_ERROR_SHIFT(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? 0 : 8)\n#define UNIPERIF_ITM_BCLR_FIFO_ERROR_MASK(ip) \\\n\t(BIT(UNIPERIF_ITM_BCLR_FIFO_ERROR_SHIFT(ip)))\n#define SET_UNIPERIF_ITM_BCLR_FIFO_ERROR(ip) \\\n\tSET_UNIPERIF_ITM_BCLR(ip, \\\n\t\tUNIPERIF_ITM_BCLR_FIFO_ERROR_MASK(ip))\n\n \n#define UNIPERIF_ITM_BCLR_DMA_ERROR_SHIFT(ip) 9\n#define UNIPERIF_ITM_BCLR_DMA_ERROR_MASK(ip) \\\n\t(BIT(UNIPERIF_ITM_BCLR_DMA_ERROR_SHIFT(ip)))\n#define SET_UNIPERIF_ITM_BCLR_DMA_ERROR(ip) \\\n\tSET_UNIPERIF_ITM_BCLR(ip, \\\n\t\tUNIPERIF_ITM_BCLR_DMA_ERROR_MASK(ip))\n\n \n\n#define UNIPERIF_ITM_BSET_OFFSET(ip) 0x0020\n#define SET_UNIPERIF_ITM_BSET(ip, value) \\\n\twritel_relaxed(value, ip->base + UNIPERIF_ITM_BSET_OFFSET(ip))\n\n \n#define UNIPERIF_ITM_BSET_FIFO_ERROR_SHIFT(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? 0 : 8)\n#define UNIPERIF_ITM_BSET_FIFO_ERROR_MASK(ip) \\\n\t(BIT(UNIPERIF_ITM_BSET_FIFO_ERROR_SHIFT(ip)))\n#define SET_UNIPERIF_ITM_BSET_FIFO_ERROR(ip) \\\n\tSET_UNIPERIF_ITM_BSET(ip, \\\n\t\tUNIPERIF_ITM_BSET_FIFO_ERROR_MASK(ip))\n\n \n#define UNIPERIF_ITM_BSET_MEM_BLK_READ_SHIFT(ip) 5\n#define UNIPERIF_ITM_BSET_MEM_BLK_READ_MASK(ip) \\\n\t(BIT(UNIPERIF_ITM_BSET_MEM_BLK_READ_SHIFT(ip)))\n#define SET_UNIPERIF_ITM_BSET_MEM_BLK_READ(ip) \\\n\tSET_UNIPERIF_ITM_BSET(ip, \\\n\t\tUNIPERIF_ITM_BSET_MEM_BLK_READ_MASK(ip))\n\n \n#define UNIPERIF_ITM_BSET_DMA_ERROR_SHIFT(ip) 9\n#define UNIPERIF_ITM_BSET_DMA_ERROR_MASK(ip) \\\n\t(BIT(UNIPERIF_ITM_BSET_DMA_ERROR_SHIFT(ip)))\n#define SET_UNIPERIF_ITM_BSET_DMA_ERROR(ip) \\\n\tSET_UNIPERIF_ITM_BSET(ip, \\\n\t\tUNIPERIF_ITM_BSET_DMA_ERROR_MASK(ip))\n\n \n#define UNIPERIF_ITM_BSET_UNDERFLOW_REC_DONE_SHIFT(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? -1 : 12)\n#define UNIPERIF_ITM_BSET_UNDERFLOW_REC_DONE_MASK(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? \\\n\t\t0 : (BIT(UNIPERIF_ITM_BSET_UNDERFLOW_REC_DONE_SHIFT(ip))))\n#define SET_UNIPERIF_ITM_BSET_UNDERFLOW_REC_DONE(ip) \\\n\tSET_UNIPERIF_ITM_BSET(ip, \\\n\t\tUNIPERIF_ITM_BSET_UNDERFLOW_REC_DONE_MASK(ip))\n\n \n#define UNIPERIF_ITM_BSET_UNDERFLOW_REC_FAILED_SHIFT(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? -1 : 13)\n#define UNIPERIF_ITM_BSET_UNDERFLOW_REC_FAILED_MASK(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? \\\n\t\t0 : (BIT(UNIPERIF_ITM_BSET_UNDERFLOW_REC_FAILED_SHIFT(ip))))\n#define SET_UNIPERIF_ITM_BSET_UNDERFLOW_REC_FAILED(ip) \\\n\tSET_UNIPERIF_ITM_BSET(ip, \\\n\t\tUNIPERIF_ITM_BSET_UNDERFLOW_REC_FAILED_MASK(ip))\n\n \n\n#define UNIPERIF_CONFIG_OFFSET(ip) 0x0040\n#define GET_UNIPERIF_CONFIG(ip) \\\n\treadl_relaxed(ip->base + UNIPERIF_CONFIG_OFFSET(ip))\n#define SET_UNIPERIF_CONFIG(ip, value) \\\n\twritel_relaxed(value, ip->base + UNIPERIF_CONFIG_OFFSET(ip))\n\n \n#define UNIPERIF_CONFIG_PARITY_CNTR_SHIFT(ip) 0\n#define UNIPERIF_CONFIG_PARITY_CNTR_MASK(ip) 0x1\n#define GET_UNIPERIF_CONFIG_PARITY_CNTR(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_PARITY_CNTR_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_PARITY_CNTR_MASK(ip))\n#define SET_UNIPERIF_CONFIG_PARITY_CNTR_BY_HW(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_PARITY_CNTR_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_PARITY_CNTR_MASK(ip), 0)\n#define SET_UNIPERIF_CONFIG_PARITY_CNTR_BY_SW(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_PARITY_CNTR_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_PARITY_CNTR_MASK(ip), 1)\n\n \n#define UNIPERIF_CONFIG_CHANNEL_STA_CNTR_SHIFT(ip) 1\n#define UNIPERIF_CONFIG_CHANNEL_STA_CNTR_MASK(ip) 0x1\n#define GET_UNIPERIF_CONFIG_CHANNEL_STA_CNTR(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_CHANNEL_STA_CNTR_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_CHANNEL_STA_CNTR_MASK(ip))\n#define SET_UNIPERIF_CONFIG_CHANNEL_STA_CNTR_BY_SW(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_CHANNEL_STA_CNTR_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_CHANNEL_STA_CNTR_MASK(ip), 0)\n#define SET_UNIPERIF_CONFIG_CHANNEL_STA_CNTR_BY_HW(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip),    \\\n\t\tUNIPERIF_CONFIG_CHANNEL_STA_CNTR_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_CHANNEL_STA_CNTR_MASK(ip), 1)\n\n \n#define UNIPERIF_CONFIG_USER_DAT_CNTR_SHIFT(ip) 2\n#define UNIPERIF_CONFIG_USER_DAT_CNTR_MASK(ip) 0x1\n#define GET_UNIPERIF_CONFIG_USER_DAT_CNTR(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_USER_DAT_CNTR_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_USER_DAT_CNTR_MASK(ip))\n#define SET_UNIPERIF_CONFIG_USER_DAT_CNTR_BY_HW(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_USER_DAT_CNTR_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_USER_DAT_CNTR_MASK(ip), 1)\n#define SET_UNIPERIF_CONFIG_USER_DAT_CNTR_BY_SW(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_USER_DAT_CNTR_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_USER_DAT_CNTR_MASK(ip), 0)\n\n \n#define UNIPERIF_CONFIG_VALIDITY_DAT_CNTR_SHIFT(ip) 3\n#define UNIPERIF_CONFIG_VALIDITY_DAT_CNTR_MASK(ip) 0x1\n#define GET_UNIPERIF_CONFIG_VALIDITY_DAT_CNTR(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_VALIDITY_DAT_CNTR_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_VALIDITY_DAT_CNTR_MASK(ip))\n#define SET_UNIPERIF_CONFIG_VALIDITY_DAT_CNTR_BY_SW(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_VALIDITY_DAT_CNTR_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_VALIDITY_DAT_CNTR_MASK(ip), 0)\n#define SET_UNIPERIF_CONFIG_VALIDITY_DAT_CNTR_BY_HW(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_VALIDITY_DAT_CNTR_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_VALIDITY_DAT_CNTR_MASK(ip), 1)\n\n \n#define UNIPERIF_CONFIG_ONE_BIT_AUD_SHIFT(ip) 4\n#define UNIPERIF_CONFIG_ONE_BIT_AUD_MASK(ip) 0x1\n#define GET_UNIPERIF_CONFIG_ONE_BIT_AUD(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_ONE_BIT_AUD_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_ONE_BIT_AUD_MASK(ip))\n#define SET_UNIPERIF_CONFIG_ONE_BIT_AUD_DISABLE(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_ONE_BIT_AUD_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_ONE_BIT_AUD_MASK(ip), 0)\n#define SET_UNIPERIF_CONFIG_ONE_BIT_AUD_ENABLE(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_ONE_BIT_AUD_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_ONE_BIT_AUD_MASK(ip), 1)\n\n \n#define UNIPERIF_CONFIG_MEM_FMT_SHIFT(ip) 5\n#define UNIPERIF_CONFIG_MEM_FMT_MASK(ip) 0x1\n#define VALUE_UNIPERIF_CONFIG_MEM_FMT_16_0(ip) 0\n#define VALUE_UNIPERIF_CONFIG_MEM_FMT_16_16(ip) 1\n#define GET_UNIPERIF_CONFIG_MEM_FMT(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_MEM_FMT_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_MEM_FMT_MASK(ip))\n#define SET_UNIPERIF_CONFIG_MEM_FMT(ip, value)\t\\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_MEM_FMT_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_MEM_FMT_MASK(ip), value)\n#define SET_UNIPERIF_CONFIG_MEM_FMT_16_0(ip)   \\\n\tSET_UNIPERIF_CONFIG_MEM_FMT(ip, \\\n\t\tVALUE_UNIPERIF_CONFIG_MEM_FMT_16_0(ip))\n#define SET_UNIPERIF_CONFIG_MEM_FMT_16_16(ip) \\\n\tSET_UNIPERIF_CONFIG_MEM_FMT(ip, \\\n\t\tVALUE_UNIPERIF_CONFIG_MEM_FMT_16_16(ip))\n\n \n#define UNIPERIF_CONFIG_REPEAT_CHL_STS_SHIFT(ip) 6\n#define UNIPERIF_CONFIG_REPEAT_CHL_STS_MASK(ip) 0x1\n#define GET_UNIPERIF_CONFIG_REPEAT_CHL_STS(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_REPEAT_CHL_STS_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_REPEAT_CHL_STS_MASK(ip))\n#define SET_UNIPERIF_CONFIG_REPEAT_CHL_STS_ENABLE(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_REPEAT_CHL_STS_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_REPEAT_CHL_STS_MASK(ip), 0)\n#define SET_UNIPERIF_CONFIG_REPEAT_CHL_STS_DISABLE(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_REPEAT_CHL_STS_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_REPEAT_CHL_STS_MASK(ip), 1)\n\n \n#define UNIPERIF_CONFIG_BACK_STALL_REQ_SHIFT(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? 7 : -1)\n#define UNIPERIF_CONFIG_BACK_STALL_REQ_MASK(ip) 0x1\n#define GET_UNIPERIF_CONFIG_BACK_STALL_REQ(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_BACK_STALL_REQ_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_BACK_STALL_REQ_MASK(ip))\n#define SET_UNIPERIF_CONFIG_BACK_STALL_REQ_DISABLE(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_BACK_STALL_REQ_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_BACK_STALL_REQ_MASK(ip), 0)\n#define SET_UNIPERIF_CONFIG_BACK_STALL_REQ_ENABLE(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_BACK_STALL_REQ_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_BACK_STALL_REQ_MASK(ip), 1)\n\n \n#define UNIPERIF_CONFIG_DMA_TRIG_LIMIT_SHIFT(ip) 8\n#define UNIPERIF_CONFIG_DMA_TRIG_LIMIT_MASK(ip) 0x7F\n#define GET_UNIPERIF_CONFIG_DMA_TRIG_LIMIT(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_DMA_TRIG_LIMIT_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_DMA_TRIG_LIMIT_MASK(ip))\n#define SET_UNIPERIF_CONFIG_DMA_TRIG_LIMIT(ip, value) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_DMA_TRIG_LIMIT_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_DMA_TRIG_LIMIT_MASK(ip), value)\n\n \n#define UNIPERIF_CONFIG_CHL_STS_UPDATE_SHIFT(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? 16 : -1)\n#define UNIPERIF_CONFIG_CHL_STS_UPDATE_MASK(ip) 0x1\n#define GET_UNIPERIF_CONFIG_CHL_STS_UPDATE(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip),  \\\n\t\tUNIPERIF_CONFIG_CHL_STS_UPDATE_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_CHL_STS_UPDATE_MASK(ip))\n#define SET_UNIPERIF_CONFIG_CHL_STS_UPDATE(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_CHL_STS_UPDATE_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_CHL_STS_UPDATE_MASK(ip), 1)\n\n \n#define UNIPERIF_CONFIG_IDLE_MOD_SHIFT(ip) 18\n#define UNIPERIF_CONFIG_IDLE_MOD_MASK(ip) 0x1\n#define GET_UNIPERIF_CONFIG_IDLE_MOD(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_IDLE_MOD_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_IDLE_MOD_MASK(ip))\n#define SET_UNIPERIF_CONFIG_IDLE_MOD_DISABLE(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_IDLE_MOD_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_IDLE_MOD_MASK(ip), 0)\n#define SET_UNIPERIF_CONFIG_IDLE_MOD_ENABLE(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_IDLE_MOD_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_IDLE_MOD_MASK(ip), 1)\n\n \n#define UNIPERIF_CONFIG_SUBFRAME_SEL_SHIFT(ip) 19\n#define UNIPERIF_CONFIG_SUBFRAME_SEL_MASK(ip) 0x1\n#define GET_UNIPERIF_CONFIG_SUBFRAME_SEL(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_SUBFRAME_SEL_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_SUBFRAME_SEL_MASK(ip))\n#define SET_UNIPERIF_CONFIG_SUBFRAME_SEL_SUBF1_SUBF0(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_SUBFRAME_SEL_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_SUBFRAME_SEL_MASK(ip), 1)\n#define SET_UNIPERIF_CONFIG_SUBFRAME_SEL_SUBF0_SUBF1(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_SUBFRAME_SEL_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_SUBFRAME_SEL_MASK(ip), 0)\n\n \n#define UNIPERIF_CONFIG_SPDIF_SW_CTRL_SHIFT(ip) 20\n#define UNIPERIF_CONFIG_SPDIF_SW_CTRL_MASK(ip) 0x1\n#define GET_UNIPERIF_CONFIG_SPDIF_SW_CTRL(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_SPDIF_SW_CTRL_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_SPDIF_SW_CTRL_MASK(ip))\n#define SET_UNIPERIF_CONFIG_SPDIF_SW_CTRL_ENABLE(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_SPDIF_SW_CTRL_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_SPDIF_SW_CTRL_MASK(ip), 1)\n#define SET_UNIPERIF_CONFIG_SPDIF_SW_CTRL_DISABLE(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_SPDIF_SW_CTRL_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_SPDIF_SW_CTRL_MASK(ip), 0)\n\n \n#define UNIPERIF_CONFIG_MSTR_CLKEDGE_SHIFT(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? 24 : -1)\n#define UNIPERIF_CONFIG_MSTR_CLKEDGE_MASK(ip) 0x1\n#define GET_UNIPERIF_CONFIG_MSTR_CLKEDGE(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_MSTR_CLKEDGE_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_MSTR_CLKEDGE_MASK(ip))\n#define SET_UNIPERIF_CONFIG_MSTR_CLKEDGE_FALLING(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_MSTR_CLKEDGE_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_MSTR_CLKEDGE_MASK(ip), 1)\n#define SET_UNIPERIF_CONFIG_MSTR_CLKEDGE_RISING(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CONFIG_OFFSET(ip), \\\n\t\tUNIPERIF_CONFIG_MSTR_CLKEDGE_SHIFT(ip), \\\n\t\tUNIPERIF_CONFIG_MSTR_CLKEDGE_MASK(ip), 0)\n\n \n\n#define UNIPERIF_CTRL_OFFSET(ip) 0x0044\n#define GET_UNIPERIF_CTRL(ip) \\\n\treadl_relaxed(ip->base + UNIPERIF_CTRL_OFFSET(ip))\n#define SET_UNIPERIF_CTRL(ip, value) \\\n\twritel_relaxed(value, ip->base + UNIPERIF_CTRL_OFFSET(ip))\n\n \n#define UNIPERIF_CTRL_OPERATION_SHIFT(ip) 0\n#define UNIPERIF_CTRL_OPERATION_MASK(ip) 0x7\n#define GET_UNIPERIF_CTRL_OPERATION(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_OPERATION_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_OPERATION_MASK(ip))\n#define VALUE_UNIPERIF_CTRL_OPERATION_OFF(ip) 0\n#define SET_UNIPERIF_CTRL_OPERATION_OFF(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_OPERATION_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_OPERATION_MASK(ip), \\\n\t\tVALUE_UNIPERIF_CTRL_OPERATION_OFF(ip))\n#define VALUE_UNIPERIF_CTRL_OPERATION_MUTE_PCM_NULL(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? 1 : -1)\n#define SET_UNIPERIF_CTRL_OPERATION_MUTE_PCM_NULL(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_OPERATION_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_OPERATION_MASK(ip), \\\n\t\tVALUE_UNIPERIF_CTRL_OPERATION_MUTE_PCM_NULL(ip))\n#define VALUE_UNIPERIF_CTRL_OPERATION_MUTE_PAUSE_BURST(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? 2 : -1)\n#define SET_UNIPERIF_CTRL_OPERATION_MUTE_PAUSE_BURST(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_OPERATION_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_OPERATION_MASK(ip), \\\n\t\tVALUE_UNIPERIF_CTRL_OPERATION_MUTE_PAUSE_BURST(ip))\n#define VALUE_UNIPERIF_CTRL_OPERATION_PCM_DATA(ip) 3\n#define SET_UNIPERIF_CTRL_OPERATION_PCM_DATA(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_OPERATION_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_OPERATION_MASK(ip), \\\n\t\tVALUE_UNIPERIF_CTRL_OPERATION_PCM_DATA(ip))\n \n#define VALUE_UNIPERIF_CTRL_OPERATION_AUDIO_DATA(ip) 3\n#define SET_UNIPERIF_CTRL_OPERATION_AUDIO_DATA(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_OPERATION_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_OPERATION_MASK(ip), \\\n\t\tVALUE_UNIPERIF_CTRL_OPERATION_AUDIO_DATA(ip))\n#define VALUE_UNIPERIF_CTRL_OPERATION_ENC_DATA(ip) 4\n#define SET_UNIPERIF_CTRL_OPERATION_ENC_DATA(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_OPERATION_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_OPERATION_MASK(ip), \\\n\t\tVALUE_UNIPERIF_CTRL_OPERATION_ENC_DATA(ip))\n#define VALUE_UNIPERIF_CTRL_OPERATION_CD_DATA(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? 5 : -1)\n#define SET_UNIPERIF_CTRL_OPERATION_CD_DATA(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_OPERATION_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_OPERATION_MASK(ip), \\\n\t\tVALUE_UNIPERIF_CTRL_OPERATION_CD_DATA(ip))\n#define VALUE_UNIPERIF_CTRL_OPERATION_STANDBY(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? -1 : 7)\n#define SET_UNIPERIF_CTRL_OPERATION_STANDBY(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_OPERATION_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_OPERATION_MASK(ip), \\\n\t\tVALUE_UNIPERIF_CTRL_OPERATION_STANDBY(ip))\n\n \n#define UNIPERIF_CTRL_EXIT_STBY_ON_EOBLOCK_SHIFT(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? -1 : 3)\n#define UNIPERIF_CTRL_EXIT_STBY_ON_EOBLOCK_MASK(ip) 0x1\n#define GET_UNIPERIF_CTRL_EXIT_STBY_ON_EOBLOCK(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_EXIT_STBY_ON_EOBLOCK_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_EXIT_STBY_ON_EOBLOCK_MASK(ip))\n#define SET_UNIPERIF_CTRL_EXIT_STBY_ON_EOBLOCK_OFF(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_EXIT_STBY_ON_EOBLOCK_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_EXIT_STBY_ON_EOBLOCK_MASK(ip), 0)\n#define SET_UNIPERIF_CTRL_EXIT_STBY_ON_EOBLOCK_ON(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_EXIT_STBY_ON_EOBLOCK_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_EXIT_STBY_ON_EOBLOCK_MASK(ip), 1)\n\n \n#define UNIPERIF_CTRL_ROUNDING_SHIFT(ip) 4\n#define UNIPERIF_CTRL_ROUNDING_MASK(ip) 0x1\n#define GET_UNIPERIF_CTRL_ROUNDING(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_ROUNDING_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_ROUNDING_MASK(ip))\n#define SET_UNIPERIF_CTRL_ROUNDING_OFF(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_ROUNDING_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_ROUNDING_MASK(ip), 0)\n#define SET_UNIPERIF_CTRL_ROUNDING_ON(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_ROUNDING_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_ROUNDING_MASK(ip), 1)\n\n \n#define UNIPERIF_CTRL_DIVIDER_SHIFT(ip) 5\n#define UNIPERIF_CTRL_DIVIDER_MASK(ip) 0xff\n#define GET_UNIPERIF_CTRL_DIVIDER(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_DIVIDER_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_DIVIDER_MASK(ip))\n#define SET_UNIPERIF_CTRL_DIVIDER(ip, value) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_DIVIDER_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_DIVIDER_MASK(ip), value)\n\n \n#define UNIPERIF_CTRL_BYTE_SWP_SHIFT(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? 13 : -1)\n#define UNIPERIF_CTRL_BYTE_SWP_MASK(ip) 0x1\n#define GET_UNIPERIF_CTRL_BYTE_SWP(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_BYTE_SWP_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_BYTE_SWP_MASK(ip))\n#define SET_UNIPERIF_CTRL_BYTE_SWP_OFF(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_BYTE_SWP_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_BYTE_SWP_MASK(ip), 0)\n#define SET_UNIPERIF_CTRL_BYTE_SWP_ON(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_BYTE_SWP_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_BYTE_SWP_MASK(ip), 1)\n\n \n#define UNIPERIF_CTRL_ZERO_STUFF_SHIFT(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? 14 : -1)\n#define UNIPERIF_CTRL_ZERO_STUFF_MASK(ip) 0x1\n#define GET_UNIPERIF_CTRL_ZERO_STUFF(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_ZERO_STUFF_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_ZERO_STUFF_MASK(ip))\n#define SET_UNIPERIF_CTRL_ZERO_STUFF_HW(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_ZERO_STUFF_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_ZERO_STUFF_MASK(ip), 1)\n#define SET_UNIPERIF_CTRL_ZERO_STUFF_SW(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_ZERO_STUFF_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_ZERO_STUFF_MASK(ip), 0)\n\n \n#define UNIPERIF_CTRL_SPDIF_LAT_SHIFT(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? 16 : -1)\n#define UNIPERIF_CTRL_SPDIF_LAT_MASK(ip) 0x1\n#define GET_UNIPERIF_CTRL_SPDIF_LAT(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_SPDIF_LAT_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_SPDIF_LAT_MASK(ip))\n#define SET_UNIPERIF_CTRL_SPDIF_LAT_ON(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_SPDIF_LAT_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_SPDIF_LAT_MASK(ip), 1)\n#define SET_UNIPERIF_CTRL_SPDIF_LAT_OFF(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_SPDIF_LAT_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_SPDIF_LAT_MASK(ip), 0)\n\n \n#define UNIPERIF_CTRL_SPDIF_FMT_SHIFT(ip) 17\n#define UNIPERIF_CTRL_SPDIF_FMT_MASK(ip) 0x1\n#define GET_UNIPERIF_CTRL_SPDIF_FMT(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_SPDIF_FMT_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_SPDIF_FMT_MASK(ip))\n#define SET_UNIPERIF_CTRL_SPDIF_FMT_ON(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_SPDIF_FMT_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_SPDIF_FMT_MASK(ip), 1)\n#define SET_UNIPERIF_CTRL_SPDIF_FMT_OFF(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_SPDIF_FMT_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_SPDIF_FMT_MASK(ip), 0)\n\n \n#define UNIPERIF_CTRL_READER_OUT_SEL_SHIFT(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? 18 : -1)\n#define UNIPERIF_CTRL_READER_OUT_SEL_MASK(ip) 0x1\n#define GET_UNIPERIF_CTRL_READER_OUT_SEL(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_READER_OUT_SEL_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_READER_OUT_SEL_MASK(ip))\n#define SET_UNIPERIF_CTRL_READER_OUT_SEL_IN_MEM(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_READER_OUT_SEL_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_READER_OUT_SEL_MASK(ip), 0)\n#define SET_UNIPERIF_CTRL_READER_OUT_SEL_ON_I2S_LINE(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_READER_OUT_SEL_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_READER_OUT_SEL_MASK(ip), 1)\n\n \n#define UNIPERIF_CTRL_UNDERFLOW_REC_WINDOW_SHIFT(ip) 20\n#define UNIPERIF_CTRL_UNDERFLOW_REC_WINDOW_MASK(ip) 0xff\n#define GET_UNIPERIF_CTRL_UNDERFLOW_REC_WINDOW(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_UNDERFLOW_REC_WINDOW_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_UNDERFLOW_REC_WINDOW_MASK(ip))\n#define SET_UNIPERIF_CTRL_UNDERFLOW_REC_WINDOW(ip, value) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_CTRL_OFFSET(ip), \\\n\t\tUNIPERIF_CTRL_UNDERFLOW_REC_WINDOW_SHIFT(ip), \\\n\t\tUNIPERIF_CTRL_UNDERFLOW_REC_WINDOW_MASK(ip), value)\n\n \n\n#define UNIPERIF_I2S_FMT_OFFSET(ip) 0x0048\n#define GET_UNIPERIF_I2S_FMT(ip) \\\n\treadl_relaxed(ip->base + UNIPERIF_I2S_FMT_OFFSET(ip))\n#define SET_UNIPERIF_I2S_FMT(ip, value) \\\n\twritel_relaxed(value, ip->base + UNIPERIF_I2S_FMT_OFFSET(ip))\n\n \n#define UNIPERIF_I2S_FMT_NBIT_SHIFT(ip) 0\n#define UNIPERIF_I2S_FMT_NBIT_MASK(ip) 0x1\n#define GET_UNIPERIF_I2S_FMT_NBIT(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_NBIT_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_NBIT_MASK(ip))\n#define SET_UNIPERIF_I2S_FMT_NBIT_32(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_NBIT_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_NBIT_MASK(ip), 0)\n#define SET_UNIPERIF_I2S_FMT_NBIT_16(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_NBIT_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_NBIT_MASK(ip), 1)\n\n \n#define UNIPERIF_I2S_FMT_DATA_SIZE_SHIFT(ip) 1\n#define UNIPERIF_I2S_FMT_DATA_SIZE_MASK(ip) 0x7\n#define GET_UNIPERIF_I2S_FMT_DATA_SIZE(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_DATA_SIZE_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_DATA_SIZE_MASK(ip))\n#define SET_UNIPERIF_I2S_FMT_DATA_SIZE_16(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_DATA_SIZE_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_DATA_SIZE_MASK(ip), 0)\n#define SET_UNIPERIF_I2S_FMT_DATA_SIZE_18(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_DATA_SIZE_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_DATA_SIZE_MASK(ip), 1)\n#define SET_UNIPERIF_I2S_FMT_DATA_SIZE_20(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_DATA_SIZE_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_DATA_SIZE_MASK(ip), 2)\n#define SET_UNIPERIF_I2S_FMT_DATA_SIZE_24(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_DATA_SIZE_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_DATA_SIZE_MASK(ip), 3)\n#define SET_UNIPERIF_I2S_FMTL_DATA_SIZE_28(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_DATA_SIZE_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_DATA_SIZE_MASK(ip), 4)\n#define SET_UNIPERIF_I2S_FMT_DATA_SIZE_32(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_DATA_SIZE_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_DATA_SIZE_MASK(ip), 5)\n\n \n#define UNIPERIF_I2S_FMT_LR_POL_SHIFT(ip) 4\n#define UNIPERIF_I2S_FMT_LR_POL_MASK(ip) 0x1\n#define VALUE_UNIPERIF_I2S_FMT_LR_POL_LOW(ip) 0x0\n#define VALUE_UNIPERIF_I2S_FMT_LR_POL_HIG(ip) 0x1\n#define GET_UNIPERIF_I2S_FMT_LR_POL(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_LR_POL_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_LR_POL_MASK(ip))\n#define SET_UNIPERIF_I2S_FMT_LR_POL(ip, value) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_LR_POL_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_LR_POL_MASK(ip), value)\n#define SET_UNIPERIF_I2S_FMT_LR_POL_LOW(ip) \\\n\tSET_UNIPERIF_I2S_FMT_LR_POL(ip, \\\n\t\tVALUE_UNIPERIF_I2S_FMT_LR_POL_LOW(ip))\n#define SET_UNIPERIF_I2S_FMT_LR_POL_HIG(ip) \\\n\tSET_UNIPERIF_I2S_FMT_LR_POL(ip, \\\n\t\tVALUE_UNIPERIF_I2S_FMT_LR_POL_HIG(ip))\n\n \n#define UNIPERIF_I2S_FMT_SCLK_EDGE_SHIFT(ip) 5\n#define UNIPERIF_I2S_FMT_SCLK_EDGE_MASK(ip) 0x1\n#define GET_UNIPERIF_I2S_FMT_SCLK_EDGE(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_SCLK_EDGE_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_SCLK_EDGE_MASK(ip))\n#define SET_UNIPERIF_I2S_FMT_SCLK_EDGE_RISING(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_SCLK_EDGE_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_SCLK_EDGE_MASK(ip), 0)\n#define SET_UNIPERIF_I2S_FMT_SCLK_EDGE_FALLING(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_SCLK_EDGE_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_SCLK_EDGE_MASK(ip), 1)\n\n \n#define UNIPERIF_I2S_FMT_PADDING_SHIFT(ip) 6\n#define UNIPERIF_I2S_FMT_PADDING_MASK(ip) 0x1\n#define UNIPERIF_I2S_FMT_PADDING_MASK(ip) 0x1\n#define VALUE_UNIPERIF_I2S_FMT_PADDING_I2S_MODE(ip) 0x0\n#define VALUE_UNIPERIF_I2S_FMT_PADDING_SONY_MODE(ip) 0x1\n#define GET_UNIPERIF_I2S_FMT_PADDING(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_PADDING_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_PADDING_MASK(ip))\n#define SET_UNIPERIF_I2S_FMT_PADDING(ip, value) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_PADDING_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_PADDING_MASK(ip), value)\n#define SET_UNIPERIF_I2S_FMT_PADDING_I2S_MODE(ip) \\\n\tSET_UNIPERIF_I2S_FMT_PADDING(ip, \\\n\t\tVALUE_UNIPERIF_I2S_FMT_PADDING_I2S_MODE(ip))\n#define SET_UNIPERIF_I2S_FMT_PADDING_SONY_MODE(ip) \\\n\tSET_UNIPERIF_I2S_FMT_PADDING(ip, \\\n\t\tVALUE_UNIPERIF_I2S_FMT_PADDING_SONY_MODE(ip))\n\n \n#define UNIPERIF_I2S_FMT_ALIGN_SHIFT(ip) 7\n#define UNIPERIF_I2S_FMT_ALIGN_MASK(ip) 0x1\n#define GET_UNIPERIF_I2S_FMT_ALIGN(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_ALIGN_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_ALIGN_MASK(ip))\n#define SET_UNIPERIF_I2S_FMT_ALIGN_LEFT(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_ALIGN_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_ALIGN_MASK(ip), 0)\n#define SET_UNIPERIF_I2S_FMT_ALIGN_RIGHT(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_ALIGN_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_ALIGN_MASK(ip), 1)\n\n \n#define UNIPERIF_I2S_FMT_ORDER_SHIFT(ip) 8\n#define UNIPERIF_I2S_FMT_ORDER_MASK(ip) 0x1\n#define GET_UNIPERIF_I2S_FMT_ORDER(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_ORDER_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_ORDER_MASK(ip))\n#define SET_UNIPERIF_I2S_FMT_ORDER_LSB(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_ORDER_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_ORDER_MASK(ip), 0)\n#define SET_UNIPERIF_I2S_FMT_ORDER_MSB(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_ORDER_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_ORDER_MASK(ip), 1)\n\n \n#define UNIPERIF_I2S_FMT_NUM_CH_SHIFT(ip) 9\n#define UNIPERIF_I2S_FMT_NUM_CH_MASK(ip) 0x7\n#define GET_UNIPERIF_I2S_FMT_NUM_CH(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_NUM_CH_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_NUM_CH_MASK(ip))\n#define SET_UNIPERIF_I2S_FMT_NUM_CH(ip, value) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_NUM_CH_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_NUM_CH_MASK(ip), value)\n\n \n#define UNIPERIF_I2S_FMT_NO_OF_SAMPLES_TO_READ_SHIFT(ip) 12\n#define UNIPERIF_I2S_FMT_NO_OF_SAMPLES_TO_READ_MASK(ip) 0xfffff\n#define GET_UNIPERIF_I2S_FMT_NO_OF_SAMPLES_TO_READ(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_NO_OF_SAMPLES_TO_READ_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_NO_OF_SAMPLES_TO_READ_MASK(ip))\n#define SET_UNIPERIF_I2S_FMT_NO_OF_SAMPLES_TO_READ(ip, value) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_I2S_FMT_OFFSET(ip), \\\n\t\tUNIPERIF_I2S_FMT_NO_OF_SAMPLES_TO_READ_SHIFT(ip), \\\n\t\tUNIPERIF_I2S_FMT_NO_OF_SAMPLES_TO_READ_MASK(ip), value)\n\n \n\n#define UNIPERIF_BIT_CONTROL_OFFSET(ip)  \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? -1 : 0x004c)\n#define GET_UNIPERIF_BIT_CONTROL(ip) \\\n\treadl_relaxed(ip->base + UNIPERIF_BIT_CONTROL_OFFSET(ip))\n#define SET_UNIPERIF_BIT_CONTROL(ip, value) \\\n\twritel_relaxed(value, ip->base + UNIPERIF_BIT_CONTROL_OFFSET(ip))\n\n \n#define UNIPERIF_BIT_CONTROL_CLR_UNDERFLOW_DURATION_SHIFT(ip) 0\n#define UNIPERIF_BIT_CONTROL_CLR_UNDERFLOW_DURATION_MASK(ip) 0x1\n#define GET_UNIPERIF_BIT_CONTROL_CLR_UNDERFLOW_DURATION(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_BIT_CONTROL_OFFSET(ip), \\\n\t\tUNIPERIF_BIT_CONTROL_CLR_UNDERFLOW_DURATION_SHIFT(ip), \\\n\t\tUNIPERIF_BIT_CONTROL_CLR_UNDERFLOW_DURATION_MASK(ip))\n#define SET_UNIPERIF_BIT_CONTROL_CLR_UNDERFLOW_DURATION(ip) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_BIT_CONTROL_OFFSET(ip), \\\n\t\tUNIPERIF_BIT_CONTROL_CLR_UNDERFLOW_DURATION_SHIFT(ip), \\\n\t\tUNIPERIF_BIT_CONTROL_CLR_UNDERFLOW_DURATION_MASK(ip), 1)\n\n \n#define UNIPERIF_BIT_CONTROL_CHL_STS_UPDATE_SHIFT(ip) 1\n#define UNIPERIF_BIT_CONTROL_CHL_STS_UPDATE_MASK(ip) 0x1\n#define GET_UNIPERIF_BIT_CONTROL_CHL_STS_UPDATE(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_BIT_CONTROL_OFFSET(ip), \\\n\t\tUNIPERIF_BIT_CONTROL_CHL_STS_UPDATE_SHIFT(ip), \\\n\t\tUNIPERIF_BIT_CONTROL_CHL_STS_UPDATE_MASK(ip))\n#define SET_UNIPERIF_BIT_CONTROL_CHL_STS_UPDATE(ip) \\\n\tSET_UNIPERIF_BIT_REG(ip, \\\n\t\tUNIPERIF_BIT_CONTROL_OFFSET(ip), \\\n\t\tUNIPERIF_BIT_CONTROL_CHL_STS_UPDATE_SHIFT(ip), \\\n\t\tUNIPERIF_BIT_CONTROL_CHL_STS_UPDATE_MASK(ip), 1)\n\n \n\n#define UNIPERIF_STATUS_1_OFFSET(ip) 0x0050\n#define GET_UNIPERIF_STATUS_1(ip) \\\n\treadl_relaxed(ip->base + UNIPERIF_STATUS_1_OFFSET(ip))\n#define SET_UNIPERIF_STATUS_1(ip, value) \\\n\twritel_relaxed(value, ip->base + UNIPERIF_STATUS_1_OFFSET(ip))\n\n \n#define UNIPERIF_STATUS_1_UNDERFLOW_DURATION_SHIFT(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? -1 : 0)\n#define UNIPERIF_STATUS_1_UNDERFLOW_DURATION_MASK(ip) 0xff\n#define GET_UNIPERIF_STATUS_1_UNDERFLOW_DURATION(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_STATUS_1_OFFSET(ip), \\\n\t\tUNIPERIF_STATUS_1_UNDERFLOW_DURATION_SHIFT(ip), \\\n\t\tUNIPERIF_STATUS_1_UNDERFLOW_DURATION_MASK(ip))\n#define SET_UNIPERIF_STATUS_1_UNDERFLOW_DURATION(ip, value) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_STATUS_1_OFFSET(ip), \\\n\t\tUNIPERIF_STATUS_1_UNDERFLOW_DURATION_SHIFT(ip), \\\n\t\tUNIPERIF_STATUS_1_UNDERFLOW_DURATION_MASK(ip), value)\n\n \n\n#define UNIPERIF_CHANNEL_STA_REGN(ip, n) (0x0060 + (4 * n))\n#define GET_UNIPERIF_CHANNEL_STA_REGN(ip) \\\n\treadl_relaxed(ip->base + UNIPERIF_CHANNEL_STA_REGN(ip, n))\n#define SET_UNIPERIF_CHANNEL_STA_REGN(ip, n, value) \\\n\twritel_relaxed(value, ip->base + \\\n\t\t\tUNIPERIF_CHANNEL_STA_REGN(ip, n))\n\n \n\n#define UNIPERIF_USER_VALIDITY_OFFSET(ip) 0x0090\n#define GET_UNIPERIF_USER_VALIDITY(ip) \\\n\treadl_relaxed(ip->base + UNIPERIF_USER_VALIDITY_OFFSET(ip))\n#define SET_UNIPERIF_USER_VALIDITY(ip, value) \\\n\twritel_relaxed(value, ip->base + UNIPERIF_USER_VALIDITY_OFFSET(ip))\n\n \n#define UNIPERIF_USER_VALIDITY_VALIDITY_LR_SHIFT(ip) 0\n#define UNIPERIF_USER_VALIDITY_VALIDITY_LR_MASK(ip) 0x3\n#define GET_UNIPERIF_USER_VALIDITY_VALIDITY_LR(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_USER_VALIDITY_OFFSET(ip), \\\n\t\tUNIPERIF_USER_VALIDITY_VALIDITY_LR_SHIFT(ip), \\\n\t\tUNIPERIF_USER_VALIDITY_VALIDITY_LR_MASK(ip))\n#define SET_UNIPERIF_USER_VALIDITY_VALIDITY_LR(ip, value) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_USER_VALIDITY_OFFSET(ip), \\\n\t\tUNIPERIF_USER_VALIDITY_VALIDITY_LR_SHIFT(ip), \\\n\t\tUNIPERIF_USER_VALIDITY_VALIDITY_LR_MASK(ip), \\\n\t\tvalue ? 0x3 : 0)\n\n \n#define UNIPERIF_DBG_STANDBY_LEFT_SP_OFFSET(ip) 0x0150\n#define UNIPERIF_DBG_STANDBY_LEFT_SP_SHIFT(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? -1 : 0)\n#define UNIPERIF_DBG_STANDBY_LEFT_SP_MASK(ip) \\\n\t((ip)->ver < SND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0 ? 0 : 0xFFFFFF)\n#define GET_UNIPERIF_DBG_STANDBY_LEFT_SP(ip) \\\n\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_DBG_STANDBY_LEFT_SP_OFFSET(ip), \\\n\t\tUNIPERIF_DBG_STANDBY_LEFT_SP_SHIFT(ip), \\\n\t\tUNIPERIF_DBG_STANDBY_LEFT_SP_MASK(ip))\n#define SET_UNIPERIF_DBG_STANDBY_LEFT_SP(ip, value) \\\n\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_DBG_STANDBY_LEFT_SP_OFFSET(ip), \\\n\t\tUNIPERIF_DBG_STANDBY_LEFT_SP_SHIFT(ip), \\\n\t\tUNIPERIF_DBG_STANDBY_LEFT_SP_MASK(ip), value)\n\n \n#define UNIPERIF_TDM_ENABLE_OFFSET(ip) 0x0118\n#define GET_UNIPERIF_TDM_ENABLE(ip) \\\n\treadl_relaxed(ip->base + UNIPERIF_TDM_ENABLE_OFFSET(ip))\n#define SET_UNIPERIF_TDM_ENABLE(ip, value) \\\n\twritel_relaxed(value, ip->base + UNIPERIF_TDM_ENABLE_OFFSET(ip))\n\n \n#define UNIPERIF_TDM_ENABLE_EN_TDM_SHIFT(ip) 0x0\n#define UNIPERIF_TDM_ENABLE_EN_TDM_MASK(ip) 0x1\n#define GET_UNIPERIF_TDM_ENABLE_EN_TDM(ip) \\\n\t\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_TDM_ENABLE_OFFSET(ip), \\\n\t\tUNIPERIF_TDM_ENABLE_EN_TDM_SHIFT(ip), \\\n\t\tUNIPERIF_TDM_ENABLE_EN_TDM_MASK(ip))\n#define SET_UNIPERIF_TDM_ENABLE_TDM_ENABLE(ip) \\\n\t\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_TDM_ENABLE_OFFSET(ip), \\\n\t\tUNIPERIF_TDM_ENABLE_EN_TDM_SHIFT(ip), \\\n\t\tUNIPERIF_TDM_ENABLE_EN_TDM_MASK(ip), 1)\n#define SET_UNIPERIF_TDM_ENABLE_TDM_DISABLE(ip) \\\n\t\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_TDM_ENABLE_OFFSET(ip), \\\n\t\tUNIPERIF_TDM_ENABLE_EN_TDM_SHIFT(ip), \\\n\t\tUNIPERIF_TDM_ENABLE_EN_TDM_MASK(ip), 0)\n\n \n#define UNIPERIF_TDM_FS_REF_FREQ_OFFSET(ip) 0x011c\n#define GET_UNIPERIF_TDM_FS_REF_FREQ(ip) \\\n\treadl_relaxed(ip->base + UNIPERIF_TDM_FS_REF_FREQ_OFFSET(ip))\n#define SET_UNIPERIF_TDM_FS_REF_FREQ(ip, value) \\\n\twritel_relaxed(value, ip->base + \\\n\t\t\tUNIPERIF_TDM_FS_REF_FREQ_OFFSET(ip))\n\n \n#define UNIPERIF_TDM_FS_REF_FREQ_REF_FREQ_SHIFT(ip) 0x0\n#define VALUE_UNIPERIF_TDM_FS_REF_FREQ_8KHZ(ip) 0\n#define VALUE_UNIPERIF_TDM_FS_REF_FREQ_16KHZ(ip) 1\n#define VALUE_UNIPERIF_TDM_FS_REF_FREQ_32KHZ(ip) 2\n#define VALUE_UNIPERIF_TDM_FS_REF_FREQ_48KHZ(ip) 3\n#define UNIPERIF_TDM_FS_REF_FREQ_REF_FREQ_MASK(ip) 0x3\n#define GET_UNIPERIF_TDM_FS_REF_FREQ_REF_FREQ(ip) \\\n\t\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_TDM_FS_REF_FREQ_OFFSET(ip), \\\n\t\tUNIPERIF_TDM_FS_REF_FREQ_REF_FREQ_SHIFT(ip), \\\n\t\tUNIPERIF_TDM_FS_REF_FREQ_REF_FREQ_MASK(ip))\n#define SET_UNIPERIF_TDM_FS_REF_FREQ_8KHZ(ip) \\\n\t\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_TDM_FS_REF_FREQ_OFFSET(ip), \\\n\t\tUNIPERIF_TDM_FS_REF_FREQ_REF_FREQ_SHIFT(ip), \\\n\t\tUNIPERIF_TDM_FS_REF_FREQ_REF_FREQ_MASK(ip), \\\n\t\tVALUE_UNIPERIF_TDM_FS_REF_FREQ_8KHZ(ip))\n#define SET_UNIPERIF_TDM_FS_REF_FREQ_16KHZ(ip) \\\n\t\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_TDM_FS_REF_FREQ_OFFSET(ip), \\\n\t\tUNIPERIF_TDM_FS_REF_FREQ_REF_FREQ_SHIFT(ip), \\\n\t\tUNIPERIF_TDM_FS_REF_FREQ_REF_FREQ_MASK(ip), \\\n\t\tVALUE_UNIPERIF_TDM_FS_REF_FREQ_16KHZ(ip))\n#define SET_UNIPERIF_TDM_FS_REF_FREQ_32KHZ(ip) \\\n\t\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_TDM_FS_REF_FREQ_OFFSET(ip), \\\n\t\tUNIPERIF_TDM_FS_REF_FREQ_REF_FREQ_SHIFT(ip), \\\n\t\tUNIPERIF_TDM_FS_REF_FREQ_REF_FREQ_MASK(ip), \\\n\t\tVALUE_UNIPERIF_TDM_FS_REF_FREQ_32KHZ(ip))\n#define SET_UNIPERIF_TDM_FS_REF_FREQ_48KHZ(ip) \\\n\t\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_TDM_FS_REF_FREQ_OFFSET(ip), \\\n\t\tUNIPERIF_TDM_FS_REF_FREQ_REF_FREQ_SHIFT(ip), \\\n\t\tUNIPERIF_TDM_FS_REF_FREQ_REF_FREQ_MASK(ip), \\\n\t\tVALUE_UNIPERIF_TDM_FS_REF_FREQ_48KHZ(ip))\n\n \n#define UNIPERIF_TDM_FS_REF_DIV_OFFSET(ip) 0x0120\n#define GET_UNIPERIF_TDM_FS_REF_DIV(ip) \\\n\treadl_relaxed(ip->base + UNIPERIF_TDM_FS_REF_DIV_OFFSET(ip))\n#define SET_UNIPERIF_TDM_FS_REF_DIV(ip, value) \\\n\t\twritel_relaxed(value, ip->base + \\\n\t\t\tUNIPERIF_TDM_FS_REF_DIV_OFFSET(ip))\n\n \n#define UNIPERIF_TDM_FS_REF_DIV_NUM_TIMESLOT_SHIFT(ip) 0x0\n#define UNIPERIF_TDM_FS_REF_DIV_NUM_TIMESLOT_MASK(ip) 0xff\n#define GET_UNIPERIF_TDM_FS_REF_DIV_NUM_TIMESLOT(ip) \\\n\t\tGET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_TDM_FS_REF_DIV_OFFSET(ip), \\\n\t\tUNIPERIF_TDM_FS_REF_DIV_NUM_TIMESLOT_SHIFT(ip), \\\n\t\tUNIPERIF_TDM_FS_REF_DIV_NUM_TIMESLOT_MASK(ip))\n#define SET_UNIPERIF_TDM_FS_REF_DIV_NUM_TIMESLOT(ip, value) \\\n\t\tSET_UNIPERIF_REG(ip, \\\n\t\tUNIPERIF_TDM_FS_REF_DIV_OFFSET(ip), \\\n\t\tUNIPERIF_TDM_FS_REF_DIV_NUM_TIMESLOT_SHIFT(ip), \\\n\t\tUNIPERIF_TDM_FS_REF_DIV_NUM_TIMESLOT_MASK(ip), value)\n\n \n#define UNIPERIF_TDM_WORD_POS_1_2_OFFSET(ip) 0x013c\n#define UNIPERIF_TDM_WORD_POS_3_4_OFFSET(ip) 0x0140\n#define UNIPERIF_TDM_WORD_POS_5_6_OFFSET(ip) 0x0144\n#define UNIPERIF_TDM_WORD_POS_7_8_OFFSET(ip) 0x0148\n#define GET_UNIPERIF_TDM_WORD_POS(ip, words) \\\n\treadl_relaxed(ip->base + UNIPERIF_TDM_WORD_POS_##words##_OFFSET(ip))\n#define SET_UNIPERIF_TDM_WORD_POS(ip, words, value) \\\n\t\twritel_relaxed(value, ip->base + \\\n\t\tUNIPERIF_TDM_WORD_POS_##words##_OFFSET(ip))\n \n\n#define UNIPERIF_FIFO_SIZE\t\t70  \n#define UNIPERIF_FIFO_FRAMES\t\t4   \n\n#define UNIPERIF_TYPE_IS_HDMI(p) \\\n\t((p)->type == SND_ST_UNIPERIF_TYPE_HDMI)\n#define UNIPERIF_TYPE_IS_PCM(p) \\\n\t((p)->type == SND_ST_UNIPERIF_TYPE_PCM)\n#define UNIPERIF_TYPE_IS_SPDIF(p) \\\n\t((p)->type == SND_ST_UNIPERIF_TYPE_SPDIF)\n#define UNIPERIF_TYPE_IS_IEC958(p) \\\n\t(UNIPERIF_TYPE_IS_HDMI(p) || \\\n\t\tUNIPERIF_TYPE_IS_SPDIF(p))\n#define UNIPERIF_TYPE_IS_TDM(p) \\\n\t((p)->type == SND_ST_UNIPERIF_TYPE_TDM)\n\n \nenum uniperif_version {\n\tSND_ST_UNIPERIF_VERSION_UNKNOWN,\n\t \n\tSND_ST_UNIPERIF_VERSION_C6AUD0_UNI_1_0,\n\t \n\tSND_ST_UNIPERIF_VERSION_UNI_PLR_1_0,\n\t \n\tSND_ST_UNIPERIF_VERSION_UNI_RDR_1_0,\n\t \n\tSND_ST_UNIPERIF_VERSION_TDM_PLR_1_0,\n\t \n\tSND_ST_UNIPERIF_VERSION_UNI_PLR_TOP_1_0\n};\n\nenum uniperif_type {\n\tSND_ST_UNIPERIF_TYPE_NONE\t= 0x00,\n\tSND_ST_UNIPERIF_TYPE_HDMI\t= 0x01,\n\tSND_ST_UNIPERIF_TYPE_PCM\t= 0x02,\n\tSND_ST_UNIPERIF_TYPE_SPDIF\t= 0x04,\n\tSND_ST_UNIPERIF_TYPE_TDM\t= 0x08\n};\n\nenum uniperif_state {\n\tUNIPERIF_STATE_STOPPED,\n\tUNIPERIF_STATE_STARTED,\n\tUNIPERIF_STATE_STANDBY,\n\tUNIPERIF_STATE_UNDERFLOW,\n\tUNIPERIF_STATE_OVERFLOW = UNIPERIF_STATE_UNDERFLOW,\n\tUNIPERIF_STATE_XRUN\n};\n\nenum uniperif_iec958_encoding_mode {\n\tUNIPERIF_IEC958_ENCODING_MODE_PCM,\n\tUNIPERIF_IEC958_ENCODING_MODE_ENCODED\n};\n\nenum uniperif_word_pos {\n\tWORD_1_2,\n\tWORD_3_4,\n\tWORD_5_6,\n\tWORD_7_8,\n\tWORD_MAX\n};\n\nstruct uniperif_iec958_settings {\n\tenum uniperif_iec958_encoding_mode encoding_mode;\n\tstruct snd_aes_iec958 iec958;\n};\n\nstruct dai_tdm_slot {\n\tunsigned int mask;\n\tint slots;\n\tint slot_width;\n\tunsigned int avail_slots;\n};\n\nstruct uniperif {\n\t \n\tenum uniperif_type type;\n\tint underflow_enabled;  \n\tstruct device *dev;\n\tint id;  \n\tint ver;  \n\tstruct regmap_field *clk_sel;\n\tstruct regmap_field *valid_sel;\n\tspinlock_t irq_lock;  \n\n\t \n\tconst struct snd_pcm_hardware *hw;\n\n\t \n\tstruct resource *mem_region;\n\tvoid __iomem *base;\n\tunsigned long fifo_phys_address;\n\tint irq;\n\n\t \n\tstruct clk *clk;\n\tint mclk;\n\tint clk_adj;\n\n\t \n\tenum uniperif_state state;\n\n\tstruct snd_pcm_substream *substream;\n\n\t \n\tstruct uniperif_iec958_settings stream_settings;\n\tstruct mutex ctrl_lock;  \n\n\t \n\tstruct snd_kcontrol_new *snd_ctrls;\n\tint num_ctrls;\n\n\t \n\tunsigned int daifmt;\n\tstruct dai_tdm_slot tdm_slot;\n\n\t \n\tconst struct snd_soc_dai_ops *dai_ops;\n};\n\nstruct sti_uniperiph_dai {\n\tint stream;\n\tstruct uniperif *uni;\n\tstruct snd_dmaengine_dai_dma_data dma_data;\n};\n\nstruct sti_uniperiph_data {\n\tstruct platform_device *pdev;\n\tstruct snd_soc_dai_driver *dai;\n\tstruct sti_uniperiph_dai dai_data;\n};\n\nstatic __maybe_unused const struct snd_pcm_hardware uni_tdm_hw = {\n\t.info = SNDRV_PCM_INFO_INTERLEAVED | SNDRV_PCM_INFO_BLOCK_TRANSFER |\n\t\tSNDRV_PCM_INFO_PAUSE | SNDRV_PCM_INFO_MMAP |\n\t\tSNDRV_PCM_INFO_MMAP_VALID,\n\n\t.formats = SNDRV_PCM_FMTBIT_S32_LE | SNDRV_PCM_FMTBIT_S16_LE,\n\n\t.rates = SNDRV_PCM_RATE_CONTINUOUS,\n\t.rate_min = 8000,\n\t.rate_max = 48000,\n\n\t.channels_min = 1,\n\t.channels_max = 32,\n\n\t.periods_min = 2,\n\t.periods_max = 10,\n\n\t.period_bytes_min = 128,\n\t.period_bytes_max = 64 * PAGE_SIZE,\n\t.buffer_bytes_max = 256 * PAGE_SIZE\n};\n\n \nint uni_player_init(struct platform_device *pdev,\n\t\t    struct uniperif *player);\nint uni_player_resume(struct uniperif *player);\n\n \nint uni_reader_init(struct platform_device *pdev,\n\t\t    struct uniperif *reader);\n\n \nint sti_uniperiph_dai_set_fmt(struct snd_soc_dai *dai,\n\t\t\t      unsigned int fmt);\n\nint sti_uniperiph_dai_hw_params(struct snd_pcm_substream *substream,\n\t\t\t\tstruct snd_pcm_hw_params *params,\n\t\t\t\tstruct snd_soc_dai *dai);\n\nstatic inline int sti_uniperiph_get_user_frame_size(\n\tstruct snd_pcm_runtime *runtime)\n{\n\treturn (runtime->channels * snd_pcm_format_width(runtime->format) / 8);\n}\n\nstatic inline int sti_uniperiph_get_unip_tdm_frame_size(struct uniperif *uni)\n{\n\treturn (uni->tdm_slot.slots * uni->tdm_slot.slot_width / 8);\n}\n\nint  sti_uniperiph_reset(struct uniperif *uni);\n\nint sti_uniperiph_set_tdm_slot(struct snd_soc_dai *dai, unsigned int tx_mask,\n\t\t\t       unsigned int rx_mask, int slots,\n\t\t\t       int slot_width);\n\nint sti_uniperiph_get_tdm_word_pos(struct uniperif *uni,\n\t\t\t\t   unsigned int *word_pos);\n\nint sti_uniperiph_fix_tdm_chan(struct snd_pcm_hw_params *params,\n\t\t\t       struct snd_pcm_hw_rule *rule);\n\nint sti_uniperiph_fix_tdm_format(struct snd_pcm_hw_params *params,\n\t\t\t\t struct snd_pcm_hw_rule *rule);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}