{
  "module_name": "mt8192-dai-pcm.c",
  "hash_id": "a74e582bf04a17c354b89247c14ed3d2d04b0b14d9486e7aa2ede4a07adb3456",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/mediatek/mt8192/mt8192-dai-pcm.c",
  "human_readable_source": "\n\n\n\n\n\n\n\n#include <linux/regmap.h>\n#include <sound/pcm_params.h>\n\n#include \"mt8192-afe-common.h\"\n#include \"mt8192-interconnection.h\"\n\nenum AUD_TX_LCH_RPT {\n\tAUD_TX_LCH_RPT_NO_REPEAT = 0,\n\tAUD_TX_LCH_RPT_REPEAT = 1\n};\n\nenum AUD_VBT_16K_MODE {\n\tAUD_VBT_16K_MODE_DISABLE = 0,\n\tAUD_VBT_16K_MODE_ENABLE = 1\n};\n\nenum AUD_EXT_MODEM {\n\tAUD_EXT_MODEM_SELECT_INTERNAL = 0,\n\tAUD_EXT_MODEM_SELECT_EXTERNAL = 1\n};\n\nenum AUD_PCM_SYNC_TYPE {\n\t \n\tAUD_PCM_ONE_BCK_CYCLE_SYNC = 0,\n\t \n\tAUD_PCM_EXTENDED_BCK_CYCLE_SYNC = 1\n};\n\nenum AUD_BT_MODE {\n\tAUD_BT_MODE_DUAL_MIC_ON_TX = 0,\n\tAUD_BT_MODE_SINGLE_MIC_ON_TX = 1\n};\n\nenum AUD_PCM_AFIFO_SRC {\n\t \n\tAUD_PCM_AFIFO_ASRC = 0,\n\t \n\tAUD_PCM_AFIFO_AFIFO = 1\n};\n\nenum AUD_PCM_CLOCK_SOURCE {\n\tAUD_PCM_CLOCK_MASTER_MODE = 0,\n\tAUD_PCM_CLOCK_SLAVE_MODE = 1\n};\n\nenum AUD_PCM_WLEN {\n\tAUD_PCM_WLEN_PCM_32_BCK_CYCLES = 0,\n\tAUD_PCM_WLEN_PCM_64_BCK_CYCLES = 1\n};\n\nenum AUD_PCM_MODE {\n\tAUD_PCM_MODE_PCM_MODE_8K = 0,\n\tAUD_PCM_MODE_PCM_MODE_16K = 1,\n\tAUD_PCM_MODE_PCM_MODE_32K = 2,\n\tAUD_PCM_MODE_PCM_MODE_48K = 3,\n};\n\nenum AUD_PCM_FMT {\n\tAUD_PCM_FMT_I2S = 0,\n\tAUD_PCM_FMT_EIAJ = 1,\n\tAUD_PCM_FMT_PCM_MODE_A = 2,\n\tAUD_PCM_FMT_PCM_MODE_B = 3\n};\n\nenum AUD_BCLK_OUT_INV {\n\tAUD_BCLK_OUT_INV_NO_INVERSE = 0,\n\tAUD_BCLK_OUT_INV_INVERSE = 1\n};\n\nenum AUD_PCM_EN {\n\tAUD_PCM_EN_DISABLE = 0,\n\tAUD_PCM_EN_ENABLE = 1\n};\n\n \nstatic const struct snd_kcontrol_new mtk_pcm_1_playback_ch1_mix[] = {\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"ADDA_UL_CH1\", AFE_CONN7,\n\t\t\t\t    I_ADDA_UL_CH1, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"DL2_CH1\", AFE_CONN7,\n\t\t\t\t    I_DL2_CH1, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"DL4_CH1\", AFE_CONN7_1,\n\t\t\t\t    I_DL4_CH1, 1, 0),\n};\n\nstatic const struct snd_kcontrol_new mtk_pcm_1_playback_ch2_mix[] = {\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"ADDA_UL_CH2\", AFE_CONN8,\n\t\t\t\t    I_ADDA_UL_CH2, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"DL2_CH2\", AFE_CONN8,\n\t\t\t\t    I_DL2_CH2, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"DL4_CH2\", AFE_CONN8_1,\n\t\t\t\t    I_DL4_CH2, 1, 0),\n};\n\nstatic const struct snd_kcontrol_new mtk_pcm_1_playback_ch4_mix[] = {\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"I2S0_CH1\", AFE_CONN27,\n\t\t\t\t    I_I2S0_CH1, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"I2S0_CH2\", AFE_CONN27,\n\t\t\t\t    I_I2S0_CH2, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"DL1_CH1\", AFE_CONN27,\n\t\t\t\t    I_DL1_CH1, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"I2S2_CH1\", AFE_CONN27,\n\t\t\t\t    I_I2S2_CH1, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"I2S2_CH2\", AFE_CONN27,\n\t\t\t\t    I_I2S2_CH2, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"DL4_CH1\", AFE_CONN27_1,\n\t\t\t\t    I_DL4_CH1, 1, 0),\n};\n\nstatic const struct snd_kcontrol_new mtk_pcm_2_playback_ch1_mix[] = {\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"ADDA_UL_CH1\", AFE_CONN17,\n\t\t\t\t    I_ADDA_UL_CH1, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"ADDA_UL_CH2\", AFE_CONN17,\n\t\t\t\t    I_ADDA_UL_CH2, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"ADDA_UL_CH3\", AFE_CONN17,\n\t\t\t\t    I_ADDA_UL_CH3, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"DL2_CH1\", AFE_CONN17,\n\t\t\t\t    I_DL2_CH1, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"DL4_CH1\", AFE_CONN17_1,\n\t\t\t\t    I_DL4_CH1, 1, 0),\n};\n\nstatic const struct snd_kcontrol_new mtk_pcm_2_playback_ch2_mix[] = {\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"ADDA_UL_CH1\", AFE_CONN18,\n\t\t\t\t    I_ADDA_UL_CH1, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"ADDA_UL_CH2\", AFE_CONN18,\n\t\t\t\t    I_ADDA_UL_CH2, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"ADDA_UL_CH3\", AFE_CONN18,\n\t\t\t\t    I_ADDA_UL_CH3, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"DL2_CH2\", AFE_CONN18,\n\t\t\t\t    I_DL2_CH2, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"DL4_CH2\", AFE_CONN18_1,\n\t\t\t\t    I_DL4_CH2, 1, 0),\n};\n\nstatic const struct snd_kcontrol_new mtk_pcm_2_playback_ch3_mix[] = {\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"ADDA_UL_CH3\", AFE_CONN23,\n\t\t\t\t    I_ADDA_UL_CH3, 1, 0),\n};\n\nstatic const struct snd_kcontrol_new mtk_pcm_2_playback_ch4_mix[] = {\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"I2S0_CH1\", AFE_CONN24,\n\t\t\t\t    I_I2S0_CH1, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"I2S0_CH2\", AFE_CONN24,\n\t\t\t\t    I_I2S0_CH2, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"DL1_CH1\", AFE_CONN24,\n\t\t\t\t    I_DL1_CH1, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"I2S2_CH1\", AFE_CONN24,\n\t\t\t\t    I_I2S2_CH1, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"I2S2_CH2\", AFE_CONN24,\n\t\t\t\t    I_I2S2_CH2, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"DL4_CH1\", AFE_CONN24_1,\n\t\t\t\t    I_DL4_CH1, 1, 0),\n};\n\nstatic const struct snd_kcontrol_new mtk_pcm_2_playback_ch5_mix[] = {\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"I2S0_CH2\", AFE_CONN25,\n\t\t\t\t    I_I2S0_CH2, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"DL1_CH2\", AFE_CONN25,\n\t\t\t\t    I_DL1_CH2, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"I2S2_CH2\", AFE_CONN25,\n\t\t\t\t    I_I2S2_CH2, 1, 0),\n\tSOC_DAPM_SINGLE_AUTODISABLE(\"DL4_CH2\", AFE_CONN25_1,\n\t\t\t\t    I_DL4_CH2, 1, 0),\n};\n\nstatic int mtk_pcm_en_event(struct snd_soc_dapm_widget *w,\n\t\t\t    struct snd_kcontrol *kcontrol,\n\t\t\t    int event)\n{\n\tstruct snd_soc_component *cmpnt = snd_soc_dapm_to_component(w->dapm);\n\tstruct mtk_base_afe *afe = snd_soc_component_get_drvdata(cmpnt);\n\n\tdev_info(afe->dev, \"%s(), name %s, event 0x%x\\n\",\n\t\t __func__, w->name, event);\n\treturn 0;\n}\n\nstatic const struct snd_soc_dapm_widget mtk_dai_pcm_widgets[] = {\n\t \n\tSND_SOC_DAPM_MIXER(\"PCM_1_PB_CH1\", SND_SOC_NOPM, 0, 0,\n\t\t\t   mtk_pcm_1_playback_ch1_mix,\n\t\t\t   ARRAY_SIZE(mtk_pcm_1_playback_ch1_mix)),\n\tSND_SOC_DAPM_MIXER(\"PCM_1_PB_CH2\", SND_SOC_NOPM, 0, 0,\n\t\t\t   mtk_pcm_1_playback_ch2_mix,\n\t\t\t   ARRAY_SIZE(mtk_pcm_1_playback_ch2_mix)),\n\tSND_SOC_DAPM_MIXER(\"PCM_1_PB_CH4\", SND_SOC_NOPM, 0, 0,\n\t\t\t   mtk_pcm_1_playback_ch4_mix,\n\t\t\t   ARRAY_SIZE(mtk_pcm_1_playback_ch4_mix)),\n\tSND_SOC_DAPM_MIXER(\"PCM_2_PB_CH1\", SND_SOC_NOPM, 0, 0,\n\t\t\t   mtk_pcm_2_playback_ch1_mix,\n\t\t\t   ARRAY_SIZE(mtk_pcm_2_playback_ch1_mix)),\n\tSND_SOC_DAPM_MIXER(\"PCM_2_PB_CH2\", SND_SOC_NOPM, 0, 0,\n\t\t\t   mtk_pcm_2_playback_ch2_mix,\n\t\t\t   ARRAY_SIZE(mtk_pcm_2_playback_ch2_mix)),\n\tSND_SOC_DAPM_MIXER(\"PCM_2_PB_CH3\", SND_SOC_NOPM, 0, 0,\n\t\t\t   mtk_pcm_2_playback_ch3_mix,\n\t\t\t   ARRAY_SIZE(mtk_pcm_2_playback_ch3_mix)),\n\tSND_SOC_DAPM_MIXER(\"PCM_2_PB_CH4\", SND_SOC_NOPM, 0, 0,\n\t\t\t   mtk_pcm_2_playback_ch4_mix,\n\t\t\t   ARRAY_SIZE(mtk_pcm_2_playback_ch4_mix)),\n\tSND_SOC_DAPM_MIXER(\"PCM_2_PB_CH5\", SND_SOC_NOPM, 0, 0,\n\t\t\t   mtk_pcm_2_playback_ch5_mix,\n\t\t\t   ARRAY_SIZE(mtk_pcm_2_playback_ch5_mix)),\n\n\tSND_SOC_DAPM_SUPPLY(\"PCM_1_EN\",\n\t\t\t    PCM_INTF_CON1, PCM_EN_SFT, 0,\n\t\t\t    mtk_pcm_en_event,\n\t\t\t    SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMD),\n\n\tSND_SOC_DAPM_SUPPLY(\"PCM_2_EN\",\n\t\t\t    PCM2_INTF_CON, PCM2_EN_SFT, 0,\n\t\t\t    mtk_pcm_en_event,\n\t\t\t    SND_SOC_DAPM_PRE_PMU | SND_SOC_DAPM_POST_PMD),\n\n\tSND_SOC_DAPM_INPUT(\"MD1_TO_AFE\"),\n\tSND_SOC_DAPM_INPUT(\"MD2_TO_AFE\"),\n\tSND_SOC_DAPM_OUTPUT(\"AFE_TO_MD1\"),\n\tSND_SOC_DAPM_OUTPUT(\"AFE_TO_MD2\"),\n};\n\nstatic const struct snd_soc_dapm_route mtk_dai_pcm_routes[] = {\n\t{\"PCM 1 Playback\", NULL, \"PCM_1_PB_CH1\"},\n\t{\"PCM 1 Playback\", NULL, \"PCM_1_PB_CH2\"},\n\t{\"PCM 1 Playback\", NULL, \"PCM_1_PB_CH4\"},\n\t{\"PCM 2 Playback\", NULL, \"PCM_2_PB_CH1\"},\n\t{\"PCM 2 Playback\", NULL, \"PCM_2_PB_CH2\"},\n\t{\"PCM 2 Playback\", NULL, \"PCM_2_PB_CH3\"},\n\t{\"PCM 2 Playback\", NULL, \"PCM_2_PB_CH4\"},\n\t{\"PCM 2 Playback\", NULL, \"PCM_2_PB_CH5\"},\n\n\t{\"PCM 1 Playback\", NULL, \"PCM_1_EN\"},\n\t{\"PCM 2 Playback\", NULL, \"PCM_2_EN\"},\n\t{\"PCM 1 Capture\", NULL, \"PCM_1_EN\"},\n\t{\"PCM 2 Capture\", NULL, \"PCM_2_EN\"},\n\n\t{\"AFE_TO_MD1\", NULL, \"PCM 2 Playback\"},\n\t{\"AFE_TO_MD2\", NULL, \"PCM 1 Playback\"},\n\t{\"PCM 2 Capture\", NULL, \"MD1_TO_AFE\"},\n\t{\"PCM 1 Capture\", NULL, \"MD2_TO_AFE\"},\n\n\t{\"PCM_1_PB_CH1\", \"DL2_CH1\", \"DL2\"},\n\t{\"PCM_1_PB_CH2\", \"DL2_CH2\", \"DL2\"},\n\t{\"PCM_1_PB_CH4\", \"DL1_CH1\", \"DL1\"},\n\t{\"PCM_2_PB_CH1\", \"DL2_CH1\", \"DL2\"},\n\t{\"PCM_2_PB_CH2\", \"DL2_CH2\", \"DL2\"},\n\t{\"PCM_2_PB_CH4\", \"DL1_CH1\", \"DL1\"},\n\n\t{\"PCM_1_PB_CH1\", \"DL4_CH1\", \"DL4\"},\n\t{\"PCM_1_PB_CH2\", \"DL4_CH2\", \"DL4\"},\n\t{\"PCM_1_PB_CH4\", \"DL4_CH1\", \"DL4\"},\n\t{\"PCM_2_PB_CH1\", \"DL4_CH1\", \"DL4\"},\n\t{\"PCM_2_PB_CH2\", \"DL4_CH2\", \"DL4\"},\n\t{\"PCM_2_PB_CH4\", \"DL4_CH1\", \"DL4\"},\n\t{\"PCM_1_PB_CH4\", \"I2S0_CH1\", \"I2S0\"},\n\t{\"PCM_2_PB_CH4\", \"I2S2_CH1\", \"I2S2\"},\n\t{\"PCM_2_PB_CH5\", \"DL1_CH2\", \"DL1\"},\n\t{\"PCM_2_PB_CH5\", \"DL4_CH2\", \"DL4\"},\n\t{\"PCM_2_PB_CH5\", \"I2S0_CH2\", \"I2S0\"},\n\t{\"PCM_2_PB_CH5\", \"I2S2_CH2\", \"I2S2\"},\n};\n\n \nstatic int mtk_dai_pcm_hw_params(struct snd_pcm_substream *substream,\n\t\t\t\t struct snd_pcm_hw_params *params,\n\t\t\t\t struct snd_soc_dai *dai)\n{\n\tstruct mtk_base_afe *afe = snd_soc_dai_get_drvdata(dai);\n\tstruct snd_soc_dapm_widget *p = snd_soc_dai_get_widget_playback(dai);\n\tstruct snd_soc_dapm_widget *c = snd_soc_dai_get_widget_capture(dai);\n\tunsigned int rate = params_rate(params);\n\tunsigned int rate_reg = mt8192_rate_transform(afe->dev, rate, dai->id);\n\tunsigned int pcm_con = 0;\n\n\tdev_info(afe->dev, \"%s(), id %d, stream %d, rate %d, rate_reg %d, widget active p %d, c %d\\n\",\n\t\t __func__,\n\t\t dai->id,\n\t\t substream->stream,\n\t\t rate,\n\t\t rate_reg,\n\t\t p->active,\n\t\t c->active);\n\n\tif (p->active || c->active)\n\t\treturn 0;\n\n\tswitch (dai->id) {\n\tcase MT8192_DAI_PCM_1:\n\t\tpcm_con |= AUD_BCLK_OUT_INV_NO_INVERSE << PCM_BCLK_OUT_INV_SFT;\n\t\tpcm_con |= AUD_TX_LCH_RPT_NO_REPEAT << PCM_TX_LCH_RPT_SFT;\n\t\tpcm_con |= AUD_VBT_16K_MODE_DISABLE << PCM_VBT_16K_MODE_SFT;\n\t\tpcm_con |= AUD_EXT_MODEM_SELECT_INTERNAL << PCM_EXT_MODEM_SFT;\n\t\tpcm_con |= 0 << PCM_SYNC_LENGTH_SFT;\n\t\tpcm_con |= AUD_PCM_ONE_BCK_CYCLE_SYNC << PCM_SYNC_TYPE_SFT;\n\t\tpcm_con |= AUD_BT_MODE_DUAL_MIC_ON_TX << PCM_BT_MODE_SFT;\n\t\tpcm_con |= AUD_PCM_AFIFO_AFIFO << PCM_BYP_ASRC_SFT;\n\t\tpcm_con |= AUD_PCM_CLOCK_SLAVE_MODE << PCM_SLAVE_SFT;\n\t\tpcm_con |= rate_reg << PCM_MODE_SFT;\n\t\tpcm_con |= AUD_PCM_FMT_PCM_MODE_B << PCM_FMT_SFT;\n\n\t\tregmap_update_bits(afe->regmap, PCM_INTF_CON1,\n\t\t\t\t   0xfffffffe, pcm_con);\n\t\tbreak;\n\tcase MT8192_DAI_PCM_2:\n\t\tpcm_con |= AUD_TX_LCH_RPT_NO_REPEAT << PCM2_TX_LCH_RPT_SFT;\n\t\tpcm_con |= AUD_VBT_16K_MODE_DISABLE << PCM2_VBT_16K_MODE_SFT;\n\t\tpcm_con |= AUD_BT_MODE_DUAL_MIC_ON_TX << PCM2_BT_MODE_SFT;\n\t\tpcm_con |= AUD_PCM_AFIFO_AFIFO << PCM2_AFIFO_SFT;\n\t\tpcm_con |= AUD_PCM_WLEN_PCM_32_BCK_CYCLES << PCM2_WLEN_SFT;\n\t\tpcm_con |= rate_reg << PCM2_MODE_SFT;\n\t\tpcm_con |= AUD_PCM_FMT_PCM_MODE_B << PCM2_FMT_SFT;\n\n\t\tregmap_update_bits(afe->regmap, PCM2_INTF_CON,\n\t\t\t\t   0xfffffffe, pcm_con);\n\t\tbreak;\n\tdefault:\n\t\tdev_warn(afe->dev, \"%s(), id %d not support\\n\",\n\t\t\t __func__, dai->id);\n\t\treturn -EINVAL;\n\t}\n\n\treturn 0;\n}\n\nstatic const struct snd_soc_dai_ops mtk_dai_pcm_ops = {\n\t.hw_params = mtk_dai_pcm_hw_params,\n};\n\n \n#define MTK_PCM_RATES (SNDRV_PCM_RATE_8000 |\\\n\t\t       SNDRV_PCM_RATE_16000 |\\\n\t\t       SNDRV_PCM_RATE_32000 |\\\n\t\t       SNDRV_PCM_RATE_48000)\n\n#define MTK_PCM_FORMATS (SNDRV_PCM_FMTBIT_S16_LE |\\\n\t\t\t SNDRV_PCM_FMTBIT_S24_LE |\\\n\t\t\t SNDRV_PCM_FMTBIT_S32_LE)\n\nstatic struct snd_soc_dai_driver mtk_dai_pcm_driver[] = {\n\t{\n\t\t.name = \"PCM 1\",\n\t\t.id = MT8192_DAI_PCM_1,\n\t\t.playback = {\n\t\t\t.stream_name = \"PCM 1 Playback\",\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 2,\n\t\t\t.rates = MTK_PCM_RATES,\n\t\t\t.formats = MTK_PCM_FORMATS,\n\t\t},\n\t\t.capture = {\n\t\t\t.stream_name = \"PCM 1 Capture\",\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 2,\n\t\t\t.rates = MTK_PCM_RATES,\n\t\t\t.formats = MTK_PCM_FORMATS,\n\t\t},\n\t\t.ops = &mtk_dai_pcm_ops,\n\t\t.symmetric_rate = 1,\n\t\t.symmetric_sample_bits = 1,\n\t},\n\t{\n\t\t.name = \"PCM 2\",\n\t\t.id = MT8192_DAI_PCM_2,\n\t\t.playback = {\n\t\t\t.stream_name = \"PCM 2 Playback\",\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 2,\n\t\t\t.rates = MTK_PCM_RATES,\n\t\t\t.formats = MTK_PCM_FORMATS,\n\t\t},\n\t\t.capture = {\n\t\t\t.stream_name = \"PCM 2 Capture\",\n\t\t\t.channels_min = 1,\n\t\t\t.channels_max = 2,\n\t\t\t.rates = MTK_PCM_RATES,\n\t\t\t.formats = MTK_PCM_FORMATS,\n\t\t},\n\t\t.ops = &mtk_dai_pcm_ops,\n\t\t.symmetric_rate = 1,\n\t\t.symmetric_sample_bits = 1,\n\t},\n};\n\nint mt8192_dai_pcm_register(struct mtk_base_afe *afe)\n{\n\tstruct mtk_base_afe_dai *dai;\n\n\tdev_info(afe->dev, \"%s()\\n\", __func__);\n\n\tdai = devm_kzalloc(afe->dev, sizeof(*dai), GFP_KERNEL);\n\tif (!dai)\n\t\treturn -ENOMEM;\n\n\tlist_add(&dai->list, &afe->sub_dais);\n\n\tdai->dai_drivers = mtk_dai_pcm_driver;\n\tdai->num_dai_drivers = ARRAY_SIZE(mtk_dai_pcm_driver);\n\n\tdai->dapm_widgets = mtk_dai_pcm_widgets;\n\tdai->num_dapm_widgets = ARRAY_SIZE(mtk_dai_pcm_widgets);\n\tdai->dapm_routes = mtk_dai_pcm_routes;\n\tdai->num_dapm_routes = ARRAY_SIZE(mtk_dai_pcm_routes);\n\treturn 0;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}