{
  "module_name": "mt8186-afe-common.h",
  "hash_id": "a5a516ac3681d82f8547e7f40c998cb716c25909a74a7ee72a6f1e51a7b9abbc",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/mediatek/mt8186/mt8186-afe-common.h",
  "human_readable_source": " \n\n#ifndef _MT_8186_AFE_COMMON_H_\n#define _MT_8186_AFE_COMMON_H_\n#include <sound/soc.h>\n#include <linux/list.h>\n#include <linux/regmap.h>\n#include \"mt8186-reg.h\"\n#include \"../common/mtk-base-afe.h\"\n\nenum {\n\tMT8186_MEMIF_DL1,\n\tMT8186_MEMIF_DL12,\n\tMT8186_MEMIF_DL2,\n\tMT8186_MEMIF_DL3,\n\tMT8186_MEMIF_DL4,\n\tMT8186_MEMIF_DL5,\n\tMT8186_MEMIF_DL6,\n\tMT8186_MEMIF_DL7,\n\tMT8186_MEMIF_DL8,\n\tMT8186_MEMIF_VUL12,\n\tMT8186_MEMIF_VUL2,\n\tMT8186_MEMIF_VUL3,\n\tMT8186_MEMIF_VUL4,\n\tMT8186_MEMIF_VUL5,\n\tMT8186_MEMIF_VUL6,\n\tMT8186_MEMIF_AWB,\n\tMT8186_MEMIF_AWB2,\n\tMT8186_MEMIF_NUM,\n\tMT8186_DAI_ADDA = MT8186_MEMIF_NUM,\n\tMT8186_DAI_AP_DMIC,\n\tMT8186_DAI_CONNSYS_I2S,\n\tMT8186_DAI_I2S_0,\n\tMT8186_DAI_I2S_1,\n\tMT8186_DAI_I2S_2,\n\tMT8186_DAI_I2S_3,\n\tMT8186_DAI_HW_GAIN_1,\n\tMT8186_DAI_HW_GAIN_2,\n\tMT8186_DAI_SRC_1,\n\tMT8186_DAI_SRC_2,\n\tMT8186_DAI_PCM,\n\tMT8186_DAI_TDM_IN,\n\tMT8186_DAI_HOSTLESS_LPBK,\n\tMT8186_DAI_HOSTLESS_FM,\n\tMT8186_DAI_HOSTLESS_HW_GAIN_AAUDIO,\n\tMT8186_DAI_HOSTLESS_SRC_AAUDIO,\n\tMT8186_DAI_HOSTLESS_SRC_1,\n\tMT8186_DAI_HOSTLESS_SRC_BARGEIN,\n\tMT8186_DAI_HOSTLESS_UL1,\n\tMT8186_DAI_HOSTLESS_UL2,\n\tMT8186_DAI_HOSTLESS_UL3,\n\tMT8186_DAI_HOSTLESS_UL5,\n\tMT8186_DAI_HOSTLESS_UL6,\n\tMT8186_DAI_NUM,\n};\n\n#define MT8186_RECORD_MEMIF MT8186_MEMIF_VUL12\n#define MT8186_ECHO_REF_MEMIF MT8186_MEMIF_AWB\n#define MT8186_PRIMARY_MEMIF MT8186_MEMIF_DL1\n#define MT8186_FAST_MEMIF MT8186_MEMIF_DL2\n#define MT8186_DEEP_MEMIF MT8186_MEMIF_DL3\n#define MT8186_VOIP_MEMIF MT8186_MEMIF_DL12\n#define MT8186_MMAP_DL_MEMIF MT8186_MEMIF_DL5\n#define MT8186_MMAP_UL_MEMIF MT8186_MEMIF_VUL5\n#define MT8186_BARGEIN_MEMIF MT8186_MEMIF_AWB\n\nenum {\n\tMT8186_IRQ_0,\n\tMT8186_IRQ_1,\n\tMT8186_IRQ_2,\n\tMT8186_IRQ_3,\n\tMT8186_IRQ_4,\n\tMT8186_IRQ_5,\n\tMT8186_IRQ_6,\n\tMT8186_IRQ_7,\n\tMT8186_IRQ_8,\n\tMT8186_IRQ_9,\n\tMT8186_IRQ_10,\n\tMT8186_IRQ_11,\n\tMT8186_IRQ_12,\n\tMT8186_IRQ_13,\n\tMT8186_IRQ_14,\n\tMT8186_IRQ_15,\n\tMT8186_IRQ_16,\n\tMT8186_IRQ_17,\n\tMT8186_IRQ_18,\n\tMT8186_IRQ_19,\n\tMT8186_IRQ_20,\n\tMT8186_IRQ_21,\n\tMT8186_IRQ_22,\n\tMT8186_IRQ_23,\n\tMT8186_IRQ_24,\n\tMT8186_IRQ_25,\n\tMT8186_IRQ_26,\n\tMT8186_IRQ_NUM,\n};\n\nenum {\n\tMT8186_AFE_IRQ_DIR_MCU = 0,\n\tMT8186_AFE_IRQ_DIR_DSP,\n\tMT8186_AFE_IRQ_DIR_BOTH,\n};\n\nenum {\n\tMTKAIF_PROTOCOL_1 = 0,\n\tMTKAIF_PROTOCOL_2,\n\tMTKAIF_PROTOCOL_2_CLK_P2,\n};\n\nenum {\n\tMTK_AFE_ADDA_DL_GAIN_MUTE = 0,\n\tMTK_AFE_ADDA_DL_GAIN_NORMAL = 0xf74f,\n\t \n};\n\n#define MTK_SPK_I2S_0_STR \"MTK_SPK_I2S_0\"\n#define MTK_SPK_I2S_1_STR \"MTK_SPK_I2S_1\"\n#define MTK_SPK_I2S_2_STR \"MTK_SPK_I2S_2\"\n#define MTK_SPK_I2S_3_STR \"MTK_SPK_I2S_3\"\n\n \nenum {\n\tMT8186_I2S0_MCK = 0,\n\tMT8186_I2S1_MCK,\n\tMT8186_I2S2_MCK,\n\tMT8186_I2S4_MCK,\n\tMT8186_TDM_MCK,\n\tMT8186_MCK_NUM,\n};\n\nstruct snd_pcm_substream;\nstruct mtk_base_irq_data;\nstruct clk;\n\nstruct mt8186_afe_private {\n\tstruct clk **clk;\n\tstruct clk_lookup **lookup;\n\tstruct regmap *topckgen;\n\tstruct regmap *apmixedsys;\n\tstruct regmap *infracfg;\n\tint irq_cnt[MT8186_MEMIF_NUM];\n\tint stf_positive_gain_db;\n\tint pm_runtime_bypass_reg_ctl;\n\tint sgen_mode;\n\tint sgen_rate;\n\tint sgen_amplitude;\n\n\t \n\tint xrun_assert[MT8186_MEMIF_NUM];\n\n\t \n\tbool dai_on[MT8186_DAI_NUM];\n\tvoid *dai_priv[MT8186_DAI_NUM];\n\n\t \n\tbool mtkaif_calibration_ok;\n\tint mtkaif_protocol;\n\tint mtkaif_chosen_phase[4];\n\tint mtkaif_phase_cycle[4];\n\tint mtkaif_calibration_num_phase;\n\tint mtkaif_dmic;\n\tint mtkaif_looback0;\n\tint mtkaif_looback1;\n\n\t \n\tint mck_rate[MT8186_MCK_NUM];\n};\n\nint mt8186_dai_adda_register(struct mtk_base_afe *afe);\nint mt8186_dai_i2s_register(struct mtk_base_afe *afe);\nint mt8186_dai_tdm_register(struct mtk_base_afe *afe);\nint mt8186_dai_hw_gain_register(struct mtk_base_afe *afe);\nint mt8186_dai_src_register(struct mtk_base_afe *afe);\nint mt8186_dai_pcm_register(struct mtk_base_afe *afe);\nint mt8186_dai_hostless_register(struct mtk_base_afe *afe);\n\nint mt8186_add_misc_control(struct snd_soc_component *component);\n\nunsigned int mt8186_general_rate_transform(struct device *dev,\n\t\t\t\t\t   unsigned int rate);\nunsigned int mt8186_rate_transform(struct device *dev,\n\t\t\t\t   unsigned int rate, int aud_blk);\nunsigned int mt8186_tdm_relatch_rate_transform(struct device *dev,\n\t\t\t\t\t       unsigned int rate);\n\nint mt8186_dai_i2s_set_share(struct mtk_base_afe *afe, const char *main_i2s_name,\n\t\t\t     const char *secondary_i2s_name);\n\nint mt8186_dai_set_priv(struct mtk_base_afe *afe, int id,\n\t\t\tint priv_size, const void *priv_data);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}