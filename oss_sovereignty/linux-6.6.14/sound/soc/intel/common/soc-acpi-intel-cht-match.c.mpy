{
  "module_name": "soc-acpi-intel-cht-match.c",
  "hash_id": "96135e3506287668ccc661501bcc2bf677829d51069a1492708820b5f2a5699b",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/intel/common/soc-acpi-intel-cht-match.c",
  "human_readable_source": "\n \n\n#include <linux/dmi.h>\n#include <sound/soc-acpi.h>\n#include <sound/soc-acpi-intel-match.h>\n\nstatic unsigned long cht_machine_id;\n\n#define CHT_SURFACE_MACH 1\n\nstatic int cht_surface_quirk_cb(const struct dmi_system_id *id)\n{\n\tcht_machine_id = CHT_SURFACE_MACH;\n\treturn 1;\n}\n\nstatic const struct dmi_system_id cht_table[] = {\n\t{\n\t\t.callback = cht_surface_quirk_cb,\n\t\t.matches = {\n\t\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Microsoft Corporation\"),\n\t\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"Surface 3\"),\n\t\t},\n\t},\n\t{ }\n};\n\nstatic struct snd_soc_acpi_mach cht_surface_mach = {\n\t.id = \"10EC5640\",\n\t.drv_name = \"cht-bsw-rt5645\",\n\t.fw_filename = \"intel/fw_sst_22a8.bin\",\n\t.board = \"cht-bsw\",\n\t.sof_tplg_filename = \"sof-cht-rt5645.tplg\",\n};\n\nstatic struct snd_soc_acpi_mach *cht_quirk(void *arg)\n{\n\tstruct snd_soc_acpi_mach *mach = arg;\n\n\tdmi_check_system(cht_table);\n\n\tif (cht_machine_id == CHT_SURFACE_MACH)\n\t\treturn &cht_surface_mach;\n\telse\n\t\treturn mach;\n}\n\n \nstatic const struct dmi_system_id cht_ess8316_not_present_table[] = {\n\t{\n\t\t \n\t\t.matches = {\n\t\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Insyde\"),\n\t\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"CherryTrail\"),\n\t\t\tDMI_MATCH(DMI_BIOS_VERSION, \"M882\"),\n\t\t},\n\t},\n\t{ }\n};\n\nstatic struct snd_soc_acpi_mach *cht_ess8316_quirk(void *arg)\n{\n\tif (dmi_check_system(cht_ess8316_not_present_table))\n\t\treturn NULL;\n\n\treturn arg;\n}\n\n \nstatic const struct dmi_system_id lenovo_yoga_tab3_x90[] = {\n\t{\n\t\t \n\t\t.matches = {\n\t\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Intel Corporation\"),\n\t\t\tDMI_MATCH(DMI_PRODUCT_NAME, \"CHERRYVIEW D1 PLATFORM\"),\n\t\t\tDMI_MATCH(DMI_PRODUCT_VERSION, \"Blade3-10A-001\"),\n\t\t},\n\t},\n\t{ }\n};\n\nstatic struct snd_soc_acpi_mach cht_lenovo_yoga_tab3_x90_mach = {\n\t.id = \"10WM5102\",\n\t.drv_name = \"bytcr_wm5102\",\n\t.fw_filename = \"intel/fw_sst_22a8.bin\",\n\t.board = \"bytcr_wm5102\",\n\t.sof_tplg_filename = \"sof-cht-wm5102.tplg\",\n};\n\nstatic struct snd_soc_acpi_mach *lenovo_yt3_x90_quirk(void *arg)\n{\n\tif (dmi_check_system(lenovo_yoga_tab3_x90))\n\t\treturn &cht_lenovo_yoga_tab3_x90_mach;\n\n\t \n\treturn NULL;\n}\n\nstatic const struct snd_soc_acpi_codecs rt5640_comp_ids = {\n\t.num_codecs = 2,\n\t.codecs = { \"10EC5640\", \"10EC3276\" },\n};\n\nstatic const struct snd_soc_acpi_codecs rt5670_comp_ids = {\n\t.num_codecs = 2,\n\t.codecs = { \"10EC5670\", \"10EC5672\" },\n};\n\nstatic const struct snd_soc_acpi_codecs rt5645_comp_ids = {\n\t.num_codecs = 3,\n\t.codecs = { \"10EC5645\", \"10EC5650\", \"10EC3270\" },\n};\n\nstatic const struct snd_soc_acpi_codecs da7213_comp_ids = {\n\t.num_codecs = 2,\n\t.codecs = { \"DGLS7212\", \"DGLS7213\"},\n\n};\n\n \nstruct snd_soc_acpi_mach  snd_soc_acpi_intel_cherrytrail_machines[] = {\n\t{\n\t\t.comp_ids = &rt5670_comp_ids,\n\t\t.drv_name = \"cht-bsw-rt5672\",\n\t\t.fw_filename = \"intel/fw_sst_22a8.bin\",\n\t\t.board = \"cht-bsw\",\n\t\t.sof_tplg_filename = \"sof-cht-rt5670.tplg\",\n\t},\n\t{\n\t\t.comp_ids = &rt5645_comp_ids,\n\t\t.drv_name = \"cht-bsw-rt5645\",\n\t\t.fw_filename = \"intel/fw_sst_22a8.bin\",\n\t\t.board = \"cht-bsw\",\n\t\t.sof_tplg_filename = \"sof-cht-rt5645.tplg\",\n\t},\n\t{\n\t\t.id = \"193C9890\",\n\t\t.drv_name = \"cht-bsw-max98090\",\n\t\t.fw_filename = \"intel/fw_sst_22a8.bin\",\n\t\t.board = \"cht-bsw\",\n\t\t.sof_tplg_filename = \"sof-cht-max98090.tplg\",\n\t},\n\t{\n\t\t.id = \"10508824\",\n\t\t.drv_name = \"cht-bsw-nau8824\",\n\t\t.fw_filename = \"intel/fw_sst_22a8.bin\",\n\t\t.board = \"cht-bsw\",\n\t\t.sof_tplg_filename = \"sof-cht-nau8824.tplg\",\n\t},\n\t{\n\t\t.comp_ids = &da7213_comp_ids,\n\t\t.drv_name = \"bytcht_da7213\",\n\t\t.fw_filename = \"intel/fw_sst_22a8.bin\",\n\t\t.board = \"bytcht_da7213\",\n\t\t.sof_tplg_filename = \"sof-cht-da7213.tplg\",\n\t},\n\t{\n\t\t.id = \"ESSX8316\",\n\t\t.drv_name = \"bytcht_es8316\",\n\t\t.fw_filename = \"intel/fw_sst_22a8.bin\",\n\t\t.board = \"bytcht_es8316\",\n\t\t.machine_quirk = cht_ess8316_quirk,\n\t\t.sof_tplg_filename = \"sof-cht-es8316.tplg\",\n\t},\n\t \n\t{\n\t\t.comp_ids = &rt5640_comp_ids,\n\t\t.drv_name = \"bytcr_rt5640\",\n\t\t.fw_filename = \"intel/fw_sst_22a8.bin\",\n\t\t.board = \"bytcr_rt5640\",\n\t\t.machine_quirk = cht_quirk,\n\t\t.sof_tplg_filename = \"sof-cht-rt5640.tplg\",\n\t},\n\t{\n\t\t.id = \"10EC5682\",\n\t\t.drv_name = \"sof_rt5682\",\n\t\t.sof_tplg_filename = \"sof-cht-rt5682.tplg\",\n\t},\n\t \n\t{\n\t\t.id = \"10EC5651\",\n\t\t.drv_name = \"bytcr_rt5651\",\n\t\t.fw_filename = \"intel/fw_sst_22a8.bin\",\n\t\t.board = \"bytcr_rt5651\",\n\t\t.sof_tplg_filename = \"sof-cht-rt5651.tplg\",\n\t},\n\t{\n\t\t.id = \"14F10720\",\n\t\t.drv_name = \"bytcht_cx2072x\",\n\t\t.fw_filename = \"intel/fw_sst_22a8.bin\",\n\t\t.board = \"bytcht_cx2072x\",\n\t\t.sof_tplg_filename = \"sof-cht-cx2072x.tplg\",\n\t},\n\t{\n\t\t.id = \"104C5122\",\n\t\t.drv_name = \"sof_pcm512x\",\n\t\t.sof_tplg_filename = \"sof-cht-src-50khz-pcm512x.tplg\",\n\t},\n\t \n\t{\n\t\t.id = \"808622A8\",\n\t\t.machine_quirk = lenovo_yt3_x90_quirk,\n\t},\n\n#if IS_ENABLED(CONFIG_SND_SOC_INTEL_BYT_CHT_NOCODEC_MACH)\n\t \n\t{\n\t\t.id = \"808622A8\",\n\t\t.drv_name = \"bytcht_nocodec\",\n\t\t.fw_filename = \"intel/fw_sst_22a8.bin\",\n\t\t.board = \"bytcht_nocodec\",\n\t},\n#endif\n\t{},\n};\nEXPORT_SYMBOL_GPL(snd_soc_acpi_intel_cherrytrail_machines);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}