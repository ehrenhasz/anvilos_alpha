{
  "module_name": "sst-ipc.h",
  "hash_id": "5384612570ca036273937b7d443d32938de6dddab1fb7c9ca835f042c1d283ee",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/intel/common/sst-ipc.h",
  "human_readable_source": " \n \n\n#ifndef __SST_GENERIC_IPC_H\n#define __SST_GENERIC_IPC_H\n\n#include <linux/types.h>\n#include <linux/kernel.h>\n#include <linux/wait.h>\n#include <linux/list.h>\n#include <linux/workqueue.h>\n#include <linux/sched.h>\n\nstruct sst_ipc_message {\n\tu64 header;\n\tvoid *data;\n\tsize_t size;\n};\n\nstruct ipc_message {\n\tstruct list_head list;\n\tstruct sst_ipc_message tx;\n\tstruct sst_ipc_message rx;\n\n\twait_queue_head_t waitq;\n\tbool pending;\n\tbool complete;\n\tbool wait;\n\tint errno;\n};\n\nstruct sst_generic_ipc;\nstruct sst_dsp;\n\nstruct sst_plat_ipc_ops {\n\tvoid (*tx_msg)(struct sst_generic_ipc *, struct ipc_message *);\n\tvoid (*shim_dbg)(struct sst_generic_ipc *, const char *);\n\tvoid (*tx_data_copy)(struct ipc_message *, char *, size_t);\n\tu64  (*reply_msg_match)(u64 header, u64 *mask);\n\tbool (*is_dsp_busy)(struct sst_dsp *dsp);\n\tint (*check_dsp_lp_on)(struct sst_dsp *dsp, bool state);\n};\n\n \nstruct sst_generic_ipc {\n\tstruct device *dev;\n\tstruct sst_dsp *dsp;\n\n\t \n\tstruct list_head tx_list;\n\tstruct list_head rx_list;\n\tstruct list_head empty_list;\n\twait_queue_head_t wait_txq;\n\tstruct task_struct *tx_thread;\n\tstruct work_struct kwork;\n\tbool pending;\n\tstruct ipc_message *msg;\n\tint tx_data_max_size;\n\tint rx_data_max_size;\n\n\tstruct sst_plat_ipc_ops ops;\n};\n\nint sst_ipc_tx_message_wait(struct sst_generic_ipc *ipc,\n\tstruct sst_ipc_message request, struct sst_ipc_message *reply);\n\nint sst_ipc_tx_message_nowait(struct sst_generic_ipc *ipc,\n\tstruct sst_ipc_message request);\n\nint sst_ipc_tx_message_nopm(struct sst_generic_ipc *ipc,\n\tstruct sst_ipc_message request, struct sst_ipc_message *reply);\n\nstruct ipc_message *sst_ipc_reply_find_msg(struct sst_generic_ipc *ipc,\n\tu64 header);\n\nvoid sst_ipc_tx_msg_reply_complete(struct sst_generic_ipc *ipc,\n\tstruct ipc_message *msg);\n\nint sst_ipc_init(struct sst_generic_ipc *ipc);\nvoid sst_ipc_fini(struct sst_generic_ipc *ipc);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}