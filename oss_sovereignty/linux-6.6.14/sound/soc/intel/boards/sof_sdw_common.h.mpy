{
  "module_name": "sof_sdw_common.h",
  "hash_id": "b43cd317e23588a339a46577f154931fd9657f783a488bfc969c940ef9507eaf",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/intel/boards/sof_sdw_common.h",
  "human_readable_source": " \n\n \n\n#ifndef SND_SOC_SOF_SDW_COMMON_H\n#define SND_SOC_SOF_SDW_COMMON_H\n\n#include <linux/bits.h>\n#include <linux/types.h>\n#include <sound/soc.h>\n\n#define MAX_NO_PROPS 2\n#define MAX_HDMI_NUM 4\n#define SDW_UNUSED_DAI_ID -1\n#define SDW_JACK_OUT_DAI_ID 0\n#define SDW_JACK_IN_DAI_ID 1\n#define SDW_AMP_OUT_DAI_ID 2\n#define SDW_AMP_IN_DAI_ID 3\n#define SDW_DMIC_DAI_ID 4\n#define SDW_MAX_CPU_DAIS 16\n#define SDW_INTEL_BIDIR_PDI_BASE 2\n\n \n#define SDW_MAX_GROUPS 9\n\nenum {\n\tSOF_PRE_TGL_HDMI_COUNT = 3,\n\tSOF_TGL_HDMI_COUNT = 4,\n};\n\nenum {\n\tSOF_I2S_SSP0 = BIT(0),\n\tSOF_I2S_SSP1 = BIT(1),\n\tSOF_I2S_SSP2 = BIT(2),\n\tSOF_I2S_SSP3 = BIT(3),\n\tSOF_I2S_SSP4 = BIT(4),\n\tSOF_I2S_SSP5 = BIT(5),\n};\n\n#define SOF_JACK_JDSRC(quirk)\t\t((quirk) & GENMASK(3, 0))\n#define SOF_SDW_FOUR_SPK\t\tBIT(4)\n#define SOF_SDW_TGL_HDMI\t\tBIT(5)\n#define SOF_SDW_PCH_DMIC\t\tBIT(6)\n#define SOF_SSP_PORT(x)\t\t(((x) & GENMASK(5, 0)) << 7)\n#define SOF_SSP_GET_PORT(quirk)\t(((quirk) >> 7) & GENMASK(5, 0))\n#define SOF_SDW_NO_AGGREGATION\t\tBIT(14)\n\n \n#define SOF_BT_OFFLOAD_SSP_SHIFT\t15\n#define SOF_BT_OFFLOAD_SSP_MASK\t(GENMASK(17, 15))\n#define SOF_BT_OFFLOAD_SSP(quirk)\t\\\n\t(((quirk) << SOF_BT_OFFLOAD_SSP_SHIFT) & SOF_BT_OFFLOAD_SSP_MASK)\n#define SOF_SSP_BT_OFFLOAD_PRESENT\tBIT(18)\n\n#define SOF_SDW_DAI_TYPE_JACK\t\t0\n#define SOF_SDW_DAI_TYPE_AMP\t\t1\n#define SOF_SDW_DAI_TYPE_MIC\t\t2\n\n#define SOF_SDW_MAX_DAI_NUM\t\t3\n\nstruct sof_sdw_codec_info;\n\nstruct sof_sdw_dai_info {\n\tconst bool direction[2];  \n\tconst char *dai_name;\n\tconst int dai_type;\n\tconst int dailink[2];  \n\tint  (*init)(struct snd_soc_card *card,\n\t\t     const struct snd_soc_acpi_link_adr *link,\n\t\t     struct snd_soc_dai_link *dai_links,\n\t\t     struct sof_sdw_codec_info *info,\n\t\t     bool playback);\n\tint (*exit)(struct snd_soc_card *card, struct snd_soc_dai_link *dai_link);\n};\n\nstruct sof_sdw_codec_info {\n\tconst int part_id;\n\tconst int version_id;\n\tconst char *codec_name;\n\tint amp_num;\n\tconst u8 acpi_id[ACPI_ID_LEN];\n\tconst bool ignore_pch_dmic;\n\tconst struct snd_soc_ops *ops;\n\tstruct sof_sdw_dai_info dais[SOF_SDW_MAX_DAI_NUM];\n\tconst int dai_num;\n\n\tint (*codec_card_late_probe)(struct snd_soc_card *card);\n};\n\nstruct mc_private {\n\tstruct list_head hdmi_pcm_list;\n\tbool idisp_codec;\n\tstruct snd_soc_jack sdw_headset;\n\tstruct device *headset_codec_dev;  \n\tstruct device *amp_dev1, *amp_dev2;\n};\n\nextern unsigned long sof_sdw_quirk;\n\nint sdw_startup(struct snd_pcm_substream *substream);\nint sdw_prepare(struct snd_pcm_substream *substream);\nint sdw_trigger(struct snd_pcm_substream *substream, int cmd);\nint sdw_hw_params(struct snd_pcm_substream *substream,\n\t\t  struct snd_pcm_hw_params *params);\nint sdw_hw_free(struct snd_pcm_substream *substream);\nvoid sdw_shutdown(struct snd_pcm_substream *substream);\n\n \nint sof_sdw_hdmi_init(struct snd_soc_pcm_runtime *rtd);\n\nint sof_sdw_hdmi_card_late_probe(struct snd_soc_card *card);\n\n \nint sof_sdw_dmic_init(struct snd_soc_pcm_runtime *rtd);\n\n \nint sof_sdw_rt711_init(struct snd_soc_card *card,\n\t\t       const struct snd_soc_acpi_link_adr *link,\n\t\t       struct snd_soc_dai_link *dai_links,\n\t\t       struct sof_sdw_codec_info *info,\n\t\t       bool playback);\nint sof_sdw_rt711_exit(struct snd_soc_card *card, struct snd_soc_dai_link *dai_link);\n\n \nint sof_sdw_rt_sdca_jack_init(struct snd_soc_card *card,\n\t\t\t      const struct snd_soc_acpi_link_adr *link,\n\t\t\t      struct snd_soc_dai_link *dai_links,\n\t\t\t      struct sof_sdw_codec_info *info,\n\t\t\t      bool playback);\nint sof_sdw_rt_sdca_jack_exit(struct snd_soc_card *card, struct snd_soc_dai_link *dai_link);\n\n \nint sof_sdw_rt712_sdca_init(struct snd_soc_card *card,\n\t\t\t    const struct snd_soc_acpi_link_adr *link,\n\t\t\t    struct snd_soc_dai_link *dai_links,\n\t\t\t    struct sof_sdw_codec_info *info,\n\t\t\t    bool playback);\nint sof_sdw_rt712_sdca_exit(struct snd_soc_card *card, struct snd_soc_dai_link *dai_link);\nint sof_sdw_rt712_spk_init(struct snd_soc_card *card,\n\t\t\t   const struct snd_soc_acpi_link_adr *link,\n\t\t\t   struct snd_soc_dai_link *dai_links,\n\t\t\t   struct sof_sdw_codec_info *info,\n\t\t\t   bool playback);\nint sof_sdw_rt712_sdca_dmic_init(struct snd_soc_card *card,\n\t\t\t\t const struct snd_soc_acpi_link_adr *link,\n\t\t\t\t struct snd_soc_dai_link *dai_links,\n\t\t\t\t struct sof_sdw_codec_info *info,\n\t\t\t\t bool playback);\n\n \nint sof_sdw_rt700_init(struct snd_soc_card *card,\n\t\t       const struct snd_soc_acpi_link_adr *link,\n\t\t       struct snd_soc_dai_link *dai_links,\n\t\t       struct sof_sdw_codec_info *info,\n\t\t       bool playback);\n\n \nextern struct snd_soc_ops sof_sdw_rt1308_i2s_ops;\n\n \nint sof_sdw_rt_amp_init(struct snd_soc_card *card,\n\t\t\tconst struct snd_soc_acpi_link_adr *link,\n\t\t\tstruct snd_soc_dai_link *dai_links,\n\t\t\tstruct sof_sdw_codec_info *info,\n\t\t\tbool playback);\nint sof_sdw_rt_amp_exit(struct snd_soc_card *card, struct snd_soc_dai_link *dai_link);\n\n \n\n \nint sof_sdw_rt715_init(struct snd_soc_card *card,\n\t\t       const struct snd_soc_acpi_link_adr *link,\n\t\t       struct snd_soc_dai_link *dai_links,\n\t\t       struct sof_sdw_codec_info *info,\n\t\t       bool playback);\n\n \nint sof_sdw_rt715_sdca_init(struct snd_soc_card *card,\n\t\t\t    const struct snd_soc_acpi_link_adr *link,\n\t\t\t    struct snd_soc_dai_link *dai_links,\n\t\t\t    struct sof_sdw_codec_info *info,\n\t\t\t    bool playback);\n\n \nint sof_sdw_maxim_init(struct snd_soc_card *card,\n\t\t       const struct snd_soc_acpi_link_adr *link,\n\t\t       struct snd_soc_dai_link *dai_links,\n\t\t       struct sof_sdw_codec_info *info,\n\t\t       bool playback);\n\n \nint sof_sdw_rt5682_init(struct snd_soc_card *card,\n\t\t\tconst struct snd_soc_acpi_link_adr *link,\n\t\t\tstruct snd_soc_dai_link *dai_links,\n\t\t\tstruct sof_sdw_codec_info *info,\n\t\t\tbool playback);\n\n \nint sof_sdw_cs42l42_init(struct snd_soc_card *card,\n\t\t\t const struct snd_soc_acpi_link_adr *link,\n\t\t\t struct snd_soc_dai_link *dai_links,\n\t\t\t struct sof_sdw_codec_info *info,\n\t\t\t bool playback);\n\n \nint sof_sdw_cs_amp_init(struct snd_soc_card *card,\n\t\t\tconst struct snd_soc_acpi_link_adr *link,\n\t\t\tstruct snd_soc_dai_link *dai_links,\n\t\t\tstruct sof_sdw_codec_info *info,\n\t\t\tbool playback);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}