{
  "module_name": "sof_ssp_amp.c",
  "hash_id": "cf7913b6fdf3f921e7ab6781ead31c8a640faf43d298f2a337b674c30943b7ce",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/intel/boards/sof_ssp_amp.c",
  "human_readable_source": "\n\n\n\n \n\n#include <linux/acpi.h>\n#include <linux/delay.h>\n#include <linux/dmi.h>\n#include <linux/module.h>\n#include <linux/platform_device.h>\n#include <sound/core.h>\n#include <sound/jack.h>\n#include <sound/pcm.h>\n#include <sound/pcm_params.h>\n#include <sound/sof.h>\n#include \"../../codecs/hdac_hdmi.h\"\n#include \"hda_dsp_common.h\"\n#include \"sof_realtek_common.h\"\n#include \"sof_cirrus_common.h\"\n\n#define NAME_SIZE 32\n\n \n#define SOF_AMPLIFIER_SSP(quirk)\t\t((quirk) & GENMASK(3, 0))\n#define SOF_AMPLIFIER_SSP_MASK\t\t\t(GENMASK(3, 0))\n\n \n#define SOF_SSP_HDMI_CAPTURE_PRESENT\t\tBIT(4)\n#define SOF_NO_OF_HDMI_CAPTURE_SSP_SHIFT\t\t5\n#define SOF_NO_OF_HDMI_CAPTURE_SSP_MASK\t\t(GENMASK(6, 5))\n#define SOF_NO_OF_HDMI_CAPTURE_SSP(quirk)\t\\\n\t(((quirk) << SOF_NO_OF_HDMI_CAPTURE_SSP_SHIFT) & SOF_NO_OF_HDMI_CAPTURE_SSP_MASK)\n\n#define SOF_HDMI_CAPTURE_1_SSP_SHIFT\t\t7\n#define SOF_HDMI_CAPTURE_1_SSP_MASK\t\t(GENMASK(9, 7))\n#define SOF_HDMI_CAPTURE_1_SSP(quirk)\t\\\n\t(((quirk) << SOF_HDMI_CAPTURE_1_SSP_SHIFT) & SOF_HDMI_CAPTURE_1_SSP_MASK)\n\n#define SOF_HDMI_CAPTURE_2_SSP_SHIFT\t\t10\n#define SOF_HDMI_CAPTURE_2_SSP_MASK\t\t(GENMASK(12, 10))\n#define SOF_HDMI_CAPTURE_2_SSP(quirk)\t\\\n\t(((quirk) << SOF_HDMI_CAPTURE_2_SSP_SHIFT) & SOF_HDMI_CAPTURE_2_SSP_MASK)\n\n \n#define SOF_HDMI_PLAYBACK_PRESENT\t\tBIT(13)\n#define SOF_NO_OF_HDMI_PLAYBACK_SHIFT\t\t14\n#define SOF_NO_OF_HDMI_PLAYBACK_MASK\t\t(GENMASK(16, 14))\n#define SOF_NO_OF_HDMI_PLAYBACK(quirk)\t\\\n\t(((quirk) << SOF_NO_OF_HDMI_PLAYBACK_SHIFT) & SOF_NO_OF_HDMI_PLAYBACK_MASK)\n\n \n#define SOF_SSP_BT_OFFLOAD_PRESENT\t\tBIT(17)\n#define SOF_BT_OFFLOAD_SSP_SHIFT\t\t18\n#define SOF_BT_OFFLOAD_SSP_MASK\t\t\t(GENMASK(20, 18))\n#define SOF_BT_OFFLOAD_SSP(quirk)\t\\\n\t(((quirk) << SOF_BT_OFFLOAD_SSP_SHIFT) & SOF_BT_OFFLOAD_SSP_MASK)\n\n \n#define SOF_RT1308_SPEAKER_AMP_PRESENT\t\tBIT(21)\n#define SOF_CS35L41_SPEAKER_AMP_PRESENT\t\tBIT(22)\n\n \nstatic unsigned long sof_ssp_amp_quirk = SOF_AMPLIFIER_SSP(2);\n\nstruct sof_hdmi_pcm {\n\tstruct list_head head;\n\tstruct snd_soc_jack sof_hdmi;\n\tstruct snd_soc_dai *codec_dai;\n\tint device;\n};\n\nstruct sof_card_private {\n\tstruct list_head hdmi_pcm_list;\n\tbool common_hdmi_codec_drv;\n\tbool idisp_codec;\n};\n\nstatic const struct dmi_system_id chromebook_platforms[] = {\n\t{\n\t\t.ident = \"Google Chromebooks\",\n\t\t.matches = {\n\t\t\tDMI_MATCH(DMI_SYS_VENDOR, \"Google\"),\n\t\t}\n\t},\n\t{},\n};\n\nstatic const struct snd_soc_dapm_widget sof_ssp_amp_dapm_widgets[] = {\n\tSND_SOC_DAPM_MIC(\"SoC DMIC\", NULL),\n};\n\nstatic const struct snd_soc_dapm_route sof_ssp_amp_dapm_routes[] = {\n\t \n\t{\"DMic\", NULL, \"SoC DMIC\"},\n};\n\nstatic int sof_card_late_probe(struct snd_soc_card *card)\n{\n\tstruct sof_card_private *ctx = snd_soc_card_get_drvdata(card);\n\tstruct snd_soc_component *component = NULL;\n\tchar jack_name[NAME_SIZE];\n\tstruct sof_hdmi_pcm *pcm;\n\tint err;\n\n\tif (!(sof_ssp_amp_quirk & SOF_HDMI_PLAYBACK_PRESENT))\n\t\treturn 0;\n\n\t \n\tif (!ctx->idisp_codec)\n\t\treturn 0;\n\n\tif (list_empty(&ctx->hdmi_pcm_list))\n\t\treturn -EINVAL;\n\n\tif (ctx->common_hdmi_codec_drv) {\n\t\tpcm = list_first_entry(&ctx->hdmi_pcm_list, struct sof_hdmi_pcm,\n\t\t\t\t       head);\n\t\tcomponent = pcm->codec_dai->component;\n\t\treturn hda_dsp_hdmi_build_controls(card, component);\n\t}\n\n\tlist_for_each_entry(pcm, &ctx->hdmi_pcm_list, head) {\n\t\tcomponent = pcm->codec_dai->component;\n\t\tsnprintf(jack_name, sizeof(jack_name),\n\t\t\t \"HDMI/DP, pcm=%d Jack\", pcm->device);\n\t\terr = snd_soc_card_jack_new(card, jack_name,\n\t\t\t\t\t    SND_JACK_AVOUT, &pcm->sof_hdmi);\n\n\t\tif (err)\n\t\t\treturn err;\n\n\t\terr = hdac_hdmi_jack_init(pcm->codec_dai, pcm->device,\n\t\t\t\t\t  &pcm->sof_hdmi);\n\t\tif (err < 0)\n\t\t\treturn err;\n\t}\n\n\treturn hdac_hdmi_jack_port_init(component, &card->dapm);\n}\n\nstatic struct snd_soc_card sof_ssp_amp_card = {\n\t.name         = \"ssp_amp\",\n\t.owner        = THIS_MODULE,\n\t.dapm_widgets = sof_ssp_amp_dapm_widgets,\n\t.num_dapm_widgets = ARRAY_SIZE(sof_ssp_amp_dapm_widgets),\n\t.dapm_routes = sof_ssp_amp_dapm_routes,\n\t.num_dapm_routes = ARRAY_SIZE(sof_ssp_amp_dapm_routes),\n\t.fully_routed = true,\n\t.late_probe = sof_card_late_probe,\n};\n\nstatic struct snd_soc_dai_link_component platform_component[] = {\n\t{\n\t\t \n\t\t.name = \"0000:00:1f.3\"\n\t}\n};\n\nstatic struct snd_soc_dai_link_component dmic_component[] = {\n\t{\n\t\t.name = \"dmic-codec\",\n\t\t.dai_name = \"dmic-hifi\",\n\t}\n};\n\nstatic int sof_hdmi_init(struct snd_soc_pcm_runtime *rtd)\n{\n\tstruct sof_card_private *ctx = snd_soc_card_get_drvdata(rtd->card);\n\tstruct snd_soc_dai *dai = asoc_rtd_to_codec(rtd, 0);\n\tstruct sof_hdmi_pcm *pcm;\n\n\tpcm = devm_kzalloc(rtd->card->dev, sizeof(*pcm), GFP_KERNEL);\n\tif (!pcm)\n\t\treturn -ENOMEM;\n\n\t \n\tpcm->device = rtd->dai_link->id;\n\tpcm->codec_dai = dai;\n\n\tlist_add_tail(&pcm->head, &ctx->hdmi_pcm_list);\n\n\treturn 0;\n}\n\n#define IDISP_CODEC_MASK\t0x4\n\nstatic struct snd_soc_dai_link *sof_card_dai_links_create(struct device *dev,\n\t\t\t\t\t\t\t  int ssp_codec,\n\t\t\t\t\t\t\t  int dmic_be_num,\n\t\t\t\t\t\t\t  int hdmi_num,\n\t\t\t\t\t\t\t  bool idisp_codec)\n{\n\tstruct snd_soc_dai_link_component *idisp_components;\n\tstruct snd_soc_dai_link_component *cpus;\n\tstruct snd_soc_dai_link *links;\n\tint i, id = 0;\n\n\tlinks = devm_kcalloc(dev, sof_ssp_amp_card.num_links,\n\t\t\t\t\tsizeof(struct snd_soc_dai_link), GFP_KERNEL);\n\tcpus = devm_kcalloc(dev, sof_ssp_amp_card.num_links,\n\t\t\t\t\tsizeof(struct snd_soc_dai_link_component), GFP_KERNEL);\n\tif (!links || !cpus)\n\t\treturn NULL;\n\n\t \n\tif (sof_ssp_amp_quirk & SOF_SSP_HDMI_CAPTURE_PRESENT) {\n\t\tint num_of_hdmi_ssp = (sof_ssp_amp_quirk & SOF_NO_OF_HDMI_CAPTURE_SSP_MASK) >>\n\t\t\t\tSOF_NO_OF_HDMI_CAPTURE_SSP_SHIFT;\n\n\t\tfor (i = 1; i <= num_of_hdmi_ssp; i++) {\n\t\t\tint port = (i == 1 ? (sof_ssp_amp_quirk & SOF_HDMI_CAPTURE_1_SSP_MASK) >>\n\t\t\t\t\t\tSOF_HDMI_CAPTURE_1_SSP_SHIFT :\n\t\t\t\t\t\t(sof_ssp_amp_quirk & SOF_HDMI_CAPTURE_2_SSP_MASK) >>\n\t\t\t\t\t\tSOF_HDMI_CAPTURE_2_SSP_SHIFT);\n\n\t\t\tlinks[id].cpus = &cpus[id];\n\t\t\tlinks[id].cpus->dai_name = devm_kasprintf(dev, GFP_KERNEL,\n\t\t\t\t\t\t\t\t  \"SSP%d Pin\", port);\n\t\t\tif (!links[id].cpus->dai_name)\n\t\t\t\treturn NULL;\n\t\t\tlinks[id].name = devm_kasprintf(dev, GFP_KERNEL, \"SSP%d-HDMI\", port);\n\t\t\tif (!links[id].name)\n\t\t\t\treturn NULL;\n\t\t\tlinks[id].id = id;\n\t\t\tlinks[id].codecs = &asoc_dummy_dlc;\n\t\t\tlinks[id].num_codecs = 1;\n\t\t\tlinks[id].platforms = platform_component;\n\t\t\tlinks[id].num_platforms = ARRAY_SIZE(platform_component);\n\t\t\tlinks[id].dpcm_capture = 1;\n\t\t\tlinks[id].no_pcm = 1;\n\t\t\tlinks[id].num_cpus = 1;\n\t\t\tid++;\n\t\t}\n\t}\n\n\t \n\tlinks[id].name = devm_kasprintf(dev, GFP_KERNEL, \"SSP%d-Codec\", ssp_codec);\n\tif (!links[id].name)\n\t\treturn NULL;\n\n\tlinks[id].id = id;\n\tif (sof_ssp_amp_quirk & SOF_RT1308_SPEAKER_AMP_PRESENT) {\n\t\tsof_rt1308_dai_link(&links[id]);\n\t} else if (sof_ssp_amp_quirk & SOF_CS35L41_SPEAKER_AMP_PRESENT) {\n\t\tcs35l41_set_dai_link(&links[id]);\n\t}\n\tlinks[id].platforms = platform_component;\n\tlinks[id].num_platforms = ARRAY_SIZE(platform_component);\n\tlinks[id].dpcm_playback = 1;\n\t \n\tlinks[id].dpcm_capture = 1;\n\tlinks[id].no_pcm = 1;\n\tlinks[id].cpus = &cpus[id];\n\tlinks[id].num_cpus = 1;\n\tlinks[id].cpus->dai_name = devm_kasprintf(dev, GFP_KERNEL, \"SSP%d Pin\", ssp_codec);\n\tif (!links[id].cpus->dai_name)\n\t\treturn NULL;\n\n\tid++;\n\n\t \n\tif (dmic_be_num > 0) {\n\t\t \n\t\tlinks[id].name = \"dmic01\";\n\t\tlinks[id].cpus = &cpus[id];\n\t\tlinks[id].cpus->dai_name = \"DMIC01 Pin\";\n\t\tif (dmic_be_num > 1) {\n\t\t\t \n\t\t\tlinks[id + 1].name = \"dmic16k\";\n\t\t\tlinks[id + 1].cpus = &cpus[id + 1];\n\t\t\tlinks[id + 1].cpus->dai_name = \"DMIC16k Pin\";\n\t\t\tdmic_be_num = 2;\n\t\t}\n\t}\n\n\tfor (i = 0; i < dmic_be_num; i++) {\n\t\tlinks[id].id = id;\n\t\tlinks[id].num_cpus = 1;\n\t\tlinks[id].codecs = dmic_component;\n\t\tlinks[id].num_codecs = ARRAY_SIZE(dmic_component);\n\t\tlinks[id].platforms = platform_component;\n\t\tlinks[id].num_platforms = ARRAY_SIZE(platform_component);\n\t\tlinks[id].ignore_suspend = 1;\n\t\tlinks[id].dpcm_capture = 1;\n\t\tlinks[id].no_pcm = 1;\n\t\tid++;\n\t}\n\n\t \n\tif (sof_ssp_amp_quirk & SOF_HDMI_PLAYBACK_PRESENT) {\n\t\t \n\t\tif (hdmi_num > 0) {\n\t\t\tidisp_components = devm_kcalloc(dev,\n\t\t\t\t\t   hdmi_num,\n\t\t\t\t\t   sizeof(struct snd_soc_dai_link_component),\n\t\t\t\t\t   GFP_KERNEL);\n\t\t\tif (!idisp_components)\n\t\t\t\tgoto devm_err;\n\t\t}\n\t\tfor (i = 1; i <= hdmi_num; i++) {\n\t\t\tlinks[id].name = devm_kasprintf(dev, GFP_KERNEL,\n\t\t\t\t\t\t\t\"iDisp%d\", i);\n\t\t\tif (!links[id].name)\n\t\t\t\tgoto devm_err;\n\n\t\t\tlinks[id].id = id;\n\t\t\tlinks[id].cpus = &cpus[id];\n\t\t\tlinks[id].num_cpus = 1;\n\t\t\tlinks[id].cpus->dai_name = devm_kasprintf(dev, GFP_KERNEL,\n\t\t\t\t\t\t\t\t  \"iDisp%d Pin\", i);\n\t\t\tif (!links[id].cpus->dai_name)\n\t\t\t\tgoto devm_err;\n\n\t\t\tif (idisp_codec) {\n\t\t\t\tidisp_components[i - 1].name = \"ehdaudio0D2\";\n\t\t\t\tidisp_components[i - 1].dai_name = devm_kasprintf(dev,\n\t\t\t\t\t\t\t\t\t\t  GFP_KERNEL,\n\t\t\t\t\t\t\t\t\t\t  \"intel-hdmi-hifi%d\",\n\t\t\t\t\t\t\t\t\t\t  i);\n\t\t\t\tif (!idisp_components[i - 1].dai_name)\n\t\t\t\t\tgoto devm_err;\n\t\t\t} else {\n\t\t\t\tidisp_components[i - 1] = asoc_dummy_dlc;\n\t\t\t}\n\n\t\t\tlinks[id].codecs = &idisp_components[i - 1];\n\t\t\tlinks[id].num_codecs = 1;\n\t\t\tlinks[id].platforms = platform_component;\n\t\t\tlinks[id].num_platforms = ARRAY_SIZE(platform_component);\n\t\t\tlinks[id].init = sof_hdmi_init;\n\t\t\tlinks[id].dpcm_playback = 1;\n\t\t\tlinks[id].no_pcm = 1;\n\t\t\tid++;\n\t\t}\n\t}\n\n\t \n\tif (sof_ssp_amp_quirk & SOF_SSP_BT_OFFLOAD_PRESENT) {\n\t\tint port = (sof_ssp_amp_quirk & SOF_BT_OFFLOAD_SSP_MASK) >>\n\t\t\t\tSOF_BT_OFFLOAD_SSP_SHIFT;\n\n\t\tlinks[id].id = id;\n\t\tlinks[id].cpus = &cpus[id];\n\t\tlinks[id].cpus->dai_name = devm_kasprintf(dev, GFP_KERNEL,\n\t\t\t\t\t\t\t  \"SSP%d Pin\", port);\n\t\tif (!links[id].cpus->dai_name)\n\t\t\tgoto devm_err;\n\t\tlinks[id].name = devm_kasprintf(dev, GFP_KERNEL, \"SSP%d-BT\", port);\n\t\tif (!links[id].name)\n\t\t\tgoto devm_err;\n\t\tlinks[id].codecs = &asoc_dummy_dlc;\n\t\tlinks[id].num_codecs = 1;\n\t\tlinks[id].platforms = platform_component;\n\t\tlinks[id].num_platforms = ARRAY_SIZE(platform_component);\n\t\tlinks[id].dpcm_playback = 1;\n\t\tlinks[id].dpcm_capture = 1;\n\t\tlinks[id].no_pcm = 1;\n\t\tlinks[id].num_cpus = 1;\n\t\tid++;\n\t}\n\n\treturn links;\ndevm_err:\n\treturn NULL;\n}\n\nstatic int sof_ssp_amp_probe(struct platform_device *pdev)\n{\n\tstruct snd_soc_dai_link *dai_links;\n\tstruct snd_soc_acpi_mach *mach;\n\tstruct sof_card_private *ctx;\n\tint dmic_be_num = 0, hdmi_num = 0;\n\tint ret, ssp_codec;\n\n\tctx = devm_kzalloc(&pdev->dev, sizeof(*ctx), GFP_KERNEL);\n\tif (!ctx)\n\t\treturn -ENOMEM;\n\n\tif (pdev->id_entry && pdev->id_entry->driver_data)\n\t\tsof_ssp_amp_quirk = (unsigned long)pdev->id_entry->driver_data;\n\n\tmach = pdev->dev.platform_data;\n\n\tif (dmi_check_system(chromebook_platforms) || mach->mach_params.dmic_num > 0)\n\t\tdmic_be_num = 2;\n\n\tssp_codec = sof_ssp_amp_quirk & SOF_AMPLIFIER_SSP_MASK;\n\n\t \n\tsof_ssp_amp_card.num_links = 1 + dmic_be_num;\n\n\tif (sof_ssp_amp_quirk & SOF_SSP_HDMI_CAPTURE_PRESENT)\n\t\tsof_ssp_amp_card.num_links += (sof_ssp_amp_quirk & SOF_NO_OF_HDMI_CAPTURE_SSP_MASK) >>\n\t\t\t\tSOF_NO_OF_HDMI_CAPTURE_SSP_SHIFT;\n\n\tif (sof_ssp_amp_quirk & SOF_HDMI_PLAYBACK_PRESENT) {\n\t\thdmi_num = (sof_ssp_amp_quirk & SOF_NO_OF_HDMI_PLAYBACK_MASK) >>\n\t\t\t\tSOF_NO_OF_HDMI_PLAYBACK_SHIFT;\n\t\t \n\t\tif (!hdmi_num)\n\t\t\thdmi_num = 3;\n\n\t\tif (mach->mach_params.codec_mask & IDISP_CODEC_MASK)\n\t\t\tctx->idisp_codec = true;\n\n\t\tsof_ssp_amp_card.num_links += hdmi_num;\n\t}\n\n\tif (sof_ssp_amp_quirk & SOF_SSP_BT_OFFLOAD_PRESENT)\n\t\tsof_ssp_amp_card.num_links++;\n\n\tdai_links = sof_card_dai_links_create(&pdev->dev, ssp_codec, dmic_be_num, hdmi_num, ctx->idisp_codec);\n\tif (!dai_links)\n\t\treturn -ENOMEM;\n\n\tsof_ssp_amp_card.dai_link = dai_links;\n\n\t \n\tif (sof_ssp_amp_quirk & SOF_CS35L41_SPEAKER_AMP_PRESENT) {\n\t\tcs35l41_set_codec_conf(&sof_ssp_amp_card);\n\t}\n\n\tINIT_LIST_HEAD(&ctx->hdmi_pcm_list);\n\n\tsof_ssp_amp_card.dev = &pdev->dev;\n\n\t \n\tret = snd_soc_fixup_dai_links_platform_name(&sof_ssp_amp_card,\n\t\t\t\t\t\t    mach->mach_params.platform);\n\tif (ret)\n\t\treturn ret;\n\n\tctx->common_hdmi_codec_drv = mach->mach_params.common_hdmi_codec_drv;\n\n\tsnd_soc_card_set_drvdata(&sof_ssp_amp_card, ctx);\n\n\treturn devm_snd_soc_register_card(&pdev->dev, &sof_ssp_amp_card);\n}\n\nstatic const struct platform_device_id board_ids[] = {\n\t{\n\t\t.name = \"sof_ssp_amp\",\n\t},\n\t{\n\t\t.name = \"tgl_rt1308_hdmi_ssp\",\n\t\t.driver_data = (kernel_ulong_t)(SOF_AMPLIFIER_SSP(2) |\n\t\t\t\t\tSOF_NO_OF_HDMI_CAPTURE_SSP(2) |\n\t\t\t\t\tSOF_HDMI_CAPTURE_1_SSP(1) |\n\t\t\t\t\tSOF_HDMI_CAPTURE_2_SSP(5) |\n\t\t\t\t\tSOF_SSP_HDMI_CAPTURE_PRESENT |\n\t\t\t\t\tSOF_RT1308_SPEAKER_AMP_PRESENT),\n\t},\n\t{\n\t\t.name = \"adl_cs35l41\",\n\t\t.driver_data = (kernel_ulong_t)(SOF_AMPLIFIER_SSP(1) |\n\t\t\t\t\tSOF_NO_OF_HDMI_PLAYBACK(4) |\n\t\t\t\t\tSOF_HDMI_PLAYBACK_PRESENT |\n\t\t\t\t\tSOF_BT_OFFLOAD_SSP(2) |\n\t\t\t\t\tSOF_SSP_BT_OFFLOAD_PRESENT |\n\t\t\t\t\tSOF_CS35L41_SPEAKER_AMP_PRESENT),\n\t},\n\t{\n\t\t.name = \"adl_lt6911_hdmi_ssp\",\n\t\t.driver_data = (kernel_ulong_t)(SOF_NO_OF_HDMI_CAPTURE_SSP(2) |\n\t\t\t\t\tSOF_HDMI_CAPTURE_1_SSP(0) |\n\t\t\t\t\tSOF_HDMI_CAPTURE_2_SSP(2) |\n\t\t\t\t\tSOF_SSP_HDMI_CAPTURE_PRESENT |\n\t\t\t\t\tSOF_NO_OF_HDMI_PLAYBACK(3) |\n\t\t\t\t\tSOF_HDMI_PLAYBACK_PRESENT),\n\t},\n\t{\n\t\t.name = \"rpl_lt6911_hdmi_ssp\",\n\t\t.driver_data = (kernel_ulong_t)(SOF_NO_OF_HDMI_CAPTURE_SSP(2) |\n\t\t\t\t\tSOF_HDMI_CAPTURE_1_SSP(0) |\n\t\t\t\t\tSOF_HDMI_CAPTURE_2_SSP(2) |\n\t\t\t\t\tSOF_SSP_HDMI_CAPTURE_PRESENT |\n\t\t\t\t\tSOF_NO_OF_HDMI_PLAYBACK(3) |\n\t\t\t\t\tSOF_HDMI_PLAYBACK_PRESENT),\n\t},\n\t{ }\n};\nMODULE_DEVICE_TABLE(platform, board_ids);\n\nstatic struct platform_driver sof_ssp_amp_driver = {\n\t.probe          = sof_ssp_amp_probe,\n\t.driver = {\n\t\t.name   = \"sof_ssp_amp\",\n\t\t.pm = &snd_soc_pm_ops,\n\t},\n\t.id_table = board_ids,\n};\nmodule_platform_driver(sof_ssp_amp_driver);\n\nMODULE_DESCRIPTION(\"ASoC Intel(R) SOF Amplifier Machine driver\");\nMODULE_AUTHOR(\"Balamurugan C <balamurugan.c@intel.com>\");\nMODULE_AUTHOR(\"Brent Lu <brent.lu@intel.com>\");\nMODULE_LICENSE(\"GPL\");\nMODULE_IMPORT_NS(SND_SOC_INTEL_HDA_DSP_COMMON);\nMODULE_IMPORT_NS(SND_SOC_INTEL_SOF_REALTEK_COMMON);\nMODULE_IMPORT_NS(SND_SOC_INTEL_SOF_CIRRUS_COMMON);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}