{
  "module_name": "sst-mfld-dsp.h",
  "hash_id": "02fe6cc452442b1ed21dbf0ed747285a3ea1caddb3490ac62c414ec9416484e0",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/intel/atom/sst-mfld-dsp.h",
  "human_readable_source": " \n#ifndef __SST_MFLD_DSP_H__\n#define __SST_MFLD_DSP_H__\n \n\n#define SST_MAX_BIN_BYTES 1024\n\n#define MAX_DBG_RW_BYTES 80\n#define MAX_NUM_SCATTER_BUFFERS 8\n#define MAX_LOOP_BACK_DWORDS 8\n \n#define SST_MAILBOX_SIZE 0x0400\n#define SST_MAILBOX_SEND 0x0000\n#define SST_TIME_STAMP 0x1800\n#define SST_TIME_STAMP_MRFLD 0x800\n#define SST_RESERVED_OFFSET 0x1A00\n#define SST_SCU_LPE_MAILBOX 0x1000\n#define SST_LPE_SCU_MAILBOX 0x1400\n#define SST_SCU_LPE_LOG_BUF (SST_SCU_LPE_MAILBOX+16)\n#define PROCESS_MSG 0x80\n\n \n \n\n \n#define IPC_IA_PREP_LIB_DNLD 0x01\n#define IPC_IA_LIB_DNLD_CMPLT 0x02\n#define IPC_IA_GET_FW_VERSION 0x04\n#define IPC_IA_GET_FW_BUILD_INF 0x05\n#define IPC_IA_GET_FW_INFO 0x06\n#define IPC_IA_GET_FW_CTXT 0x07\n#define IPC_IA_SET_FW_CTXT 0x08\n#define IPC_IA_PREPARE_SHUTDOWN 0x31\n \n#define IPC_PREP_D3 0x10\n#define IPC_IA_SET_CODEC_PARAMS 0x10\n#define IPC_IA_GET_CODEC_PARAMS 0x11\n#define IPC_IA_SET_PPP_PARAMS 0x12\n#define IPC_IA_GET_PPP_PARAMS 0x13\n#define IPC_SST_PERIOD_ELAPSED_MRFLD 0xA\n#define IPC_IA_ALG_PARAMS 0x1A\n#define IPC_IA_TUNING_PARAMS 0x1B\n#define IPC_IA_SET_RUNTIME_PARAMS 0x1C\n#define IPC_IA_SET_PARAMS 0x1\n#define IPC_IA_GET_PARAMS 0x2\n\n#define IPC_EFFECTS_CREATE 0xE\n#define IPC_EFFECTS_DESTROY 0xF\n\n \n#define IPC_IA_ALLOC_STREAM_MRFLD 0x2\n#define IPC_IA_ALLOC_STREAM 0x20  \n#define IPC_IA_FREE_STREAM_MRFLD 0x03\n#define IPC_IA_FREE_STREAM 0x21  \n#define IPC_IA_SET_STREAM_PARAMS 0x22\n#define IPC_IA_SET_STREAM_PARAMS_MRFLD 0x12\n#define IPC_IA_GET_STREAM_PARAMS 0x23\n#define IPC_IA_PAUSE_STREAM 0x24\n#define IPC_IA_PAUSE_STREAM_MRFLD 0x4\n#define IPC_IA_RESUME_STREAM 0x25\n#define IPC_IA_RESUME_STREAM_MRFLD 0x5\n#define IPC_IA_DROP_STREAM 0x26\n#define IPC_IA_DROP_STREAM_MRFLD 0x07\n#define IPC_IA_DRAIN_STREAM 0x27  \n#define IPC_IA_DRAIN_STREAM_MRFLD 0x8\n#define IPC_IA_CONTROL_ROUTING 0x29\n#define IPC_IA_VTSV_UPDATE_MODULES 0x20\n#define IPC_IA_VTSV_DETECTED 0x21\n\n#define IPC_IA_START_STREAM_MRFLD 0X06\n#define IPC_IA_START_STREAM 0x30  \n\n#define IPC_IA_SET_GAIN_MRFLD 0x21\n \n#define IPC_IA_DBG_MEM_READ 0x40\n#define IPC_IA_DBG_MEM_WRITE 0x41\n#define IPC_IA_DBG_LOOP_BACK 0x42\n#define IPC_IA_DBG_LOG_ENABLE 0x45\n#define IPC_IA_DBG_SET_PROBE_PARAMS 0x47\n\n \n#define IPC_IA_FW_INIT_CMPLT 0x81\n#define IPC_IA_FW_INIT_CMPLT_MRFLD 0x01\n#define IPC_IA_FW_ASYNC_ERR_MRFLD 0x11\n\n \n#define IPC_SST_FRAGMENT_ELPASED 0x90  \n\n#define IPC_SST_BUF_UNDER_RUN 0x92  \n#define IPC_SST_BUF_OVER_RUN 0x93  \n#define IPC_SST_DRAIN_END 0x94  \n#define IPC_SST_CHNGE_SSP_PARAMS 0x95  \n#define IPC_SST_STREAM_PROCESS_FATAL_ERR 0x96 \n#define IPC_SST_PERIOD_ELAPSED 0x97  \n\n#define IPC_SST_ERROR_EVENT 0x99  \n \n#define IPC_SC_DDR_LINK_UP 0xC0\n#define IPC_SC_DDR_LINK_DOWN 0xC1\n#define IPC_SC_SET_LPECLK_REQ 0xC2\n#define IPC_SC_SSP_BIT_BANG 0xC3\n\n \n#define IPC_IA_MEM_ALLOC_FAIL 0xE0\n#define IPC_IA_PROC_ERR 0xE1  \n\n \n#define IPC_IA_PRINT_STRING 0xF0\n\n \n#define IPC_IA_BUF_UNDER_RUN_MRFLD 0x0B\n\n \n#define SST_ASYNC_DRV_ID 0\n\n \nenum ackData {\n\tIPC_ACK_SUCCESS = 0,\n\tIPC_ACK_FAILURE,\n};\n\nenum ipc_ia_msg_id {\n\tIPC_CMD = 1,\t\t \n\tIPC_SET_PARAMS = 2, \n\tIPC_GET_PARAMS = 3,\t \n\tIPC_INVALID = 0xFF,\t \n};\n\nenum sst_codec_types {\n\t \n\tSST_CODEC_TYPE_UNKNOWN = 0,\n\tSST_CODEC_TYPE_PCM,\t \n\tSST_CODEC_TYPE_MP3,\n\tSST_CODEC_TYPE_MP24,\n\tSST_CODEC_TYPE_AAC,\n\tSST_CODEC_TYPE_AACP,\n\tSST_CODEC_TYPE_eAACP,\n};\n\nenum stream_type {\n\tSST_STREAM_TYPE_NONE = 0,\n\tSST_STREAM_TYPE_MUSIC = 1,\n};\n\nenum sst_error_codes {\n\t \n\t \n\tSST_SUCCESS = 0,         \n\tSST_ERR_INVALID_STREAM_ID = 1,\n\tSST_ERR_INVALID_MSG_ID = 2,\n\tSST_ERR_INVALID_STREAM_OP = 3,\n\tSST_ERR_INVALID_PARAMS = 4,\n\tSST_ERR_INVALID_CODEC = 5,\n\tSST_ERR_INVALID_MEDIA_TYPE = 6,\n\tSST_ERR_STREAM_ERR = 7,\n\n\tSST_ERR_STREAM_IN_USE = 15,\n};\n\nstruct ipc_dsp_hdr {\n\tu16 mod_index_id:8;\t\t \n\tu16 pipe_id:8;\t \n\tu16 mod_id;\t\t \n\tu16 cmd_id;\t\t \n\tu16 length;\t\t \n} __packed;\n\nunion ipc_header_high {\n\tstruct {\n\t\tu32  msg_id:8;\t     \n\t\tu32  task_id:4;\t     \n\t\tu32  drv_id:4;     \n\t\tu32  rsvd1:8;\t     \n\t\tu32  result:4;\t     \n\t\tu32  res_rqd:1;\t     \n\t\tu32  large:1;\t     \n\t\tu32  done:1;\t     \n\t\tu32  busy:1;\t     \n\t} part;\n\tu32 full;\n} __packed;\n \nunion ipc_header_mrfld {\n\tstruct {\n\t\tu32 header_low_payload;\n\t\tunion ipc_header_high header_high;\n\t} p;\n\tu64 full;\n} __packed;\n \n\n \nunion ipc_header {\n\tstruct {\n\t\tu32  msg_id:8;  \n\t\tu32  str_id:5;\n\t\tu32  large:1;\t \n\t\tu32  reserved:2;\t \n\t\tu32  data:14;\t \n\t\tu32  done:1;  \n\t\tu32  busy:1;  \n\t} part;\n\tu32 full;\n} __packed;\n\n \nstruct sst_fw_build_info {\n\tunsigned char  date[16];  \n\tunsigned char  time[16];  \n} __packed;\n\n \nstruct snd_sst_fw_version {\n\tu8 build;\t \n\tu8 minor;\t \n\tu8 major;\t \n\tu8 type;\t \n};\n\nstruct ipc_header_fw_init {\n\tstruct snd_sst_fw_version fw_version; \n\tstruct sst_fw_build_info build_info;\n\tu16 result;\t \n\tu8 module_id;  \n\tu8 debug_info;  \n} __packed;\n\nstruct snd_sst_tstamp {\n\tu64 ring_buffer_counter;\t \n\tu64 hardware_counter;\t     \n\tu64 frames_decoded;\n\tu64 bytes_decoded;\n\tu64 bytes_copied;\n\tu32 sampling_frequency;\n\tu32 channel_peak[8];\n} __packed;\n\n \nstruct snd_sst_str_type {\n\tu8 codec_type;\t\t \n\tu8 str_type;\t\t \n\tu8 operation;\t\t \n\tu8 protected_str;\t \n\tu8 time_slots;\n\tu8 reserved;\t\t \n\tu16 result;\t\t \n} __packed;\n\n \nstruct module_info {\n\tu32 lib_version;\n\tu32 lib_type; \n\tu32 media_type;\n\tu8  lib_name[12];\n\tu32 lib_caps;\n\tunsigned char  b_date[16];  \n\tunsigned char  b_time[16];  \n} __packed;\n\n \nstruct lib_slot_info {\n\tu8  slot_num;  \n\tu8  reserved1;\n\tu16 reserved2;\n\tu32 iram_size;  \n\tu32 dram_size;  \n\tu32 iram_offset;  \n\tu32 dram_offset;  \n} __packed;\n\nstruct snd_ppp_mixer_params {\n\t__u32\t\t\ttype;  \n\t__u32\t\t\tsize;\n\t__u32\t\t\tinput_stream_bitmap;  \n} __packed;\n\nstruct snd_sst_lib_download {\n\tstruct module_info lib_info;  \n\tstruct lib_slot_info slot_info;  \n\tu32 mod_entry_pt;\n};\n\nstruct snd_sst_lib_download_info {\n\tstruct snd_sst_lib_download dload_lib;\n\tu16 result;\t \n\tu8 pvt_id;  \n\tu8 reserved;   \n};\nstruct snd_pcm_params {\n\tu8 num_chan;\t \n\tu8 pcm_wd_sz;\t \n\tu8 use_offload_path;\t \n\tu8 reserved2;\n\tu32 sfreq;     \n\tu8 channel_map[8];\n} __packed;\n\n \nstruct snd_mp3_params {\n\tu8  num_chan;\t \n\tu8  pcm_wd_sz;  \n\tu8  crc_check;  \n\tu8  reserved1;  \n\tu16 reserved2;\t \n} __packed;\n\n#define AAC_BIT_STREAM_ADTS\t\t0\n#define AAC_BIT_STREAM_ADIF\t\t1\n#define AAC_BIT_STREAM_RAW\t\t2\n\n \nstruct snd_aac_params {\n\tu8 num_chan;  \n\tu8 pcm_wd_sz;  \n\tu8 bdownsample;  \n\tu8 bs_format;  \n\tu16  reser2;\n\tu32 externalsr;  \n\tu8 sbr_signalling; \n\tu8 reser1;\n\tu16  reser3;\n} __packed;\n\n \nstruct snd_wma_params {\n\tu8  num_chan;\t \n\tu8  pcm_wd_sz;\t \n\tu16 reserved1;\n\tu32 brate;\t \n\tu32 sfreq;\t \n\tu32 channel_mask;   \n\tu16 format_tag;\t \n\tu16 block_align;\t \n\tu16 wma_encode_opt; \n\tu8 op_align;\t \n\tu8 reserved;\t \n} __packed;\n\n \nunion  snd_sst_codec_params {\n\tstruct snd_pcm_params pcm_params;\n\tstruct snd_mp3_params mp3_params;\n\tstruct snd_aac_params aac_params;\n\tstruct snd_wma_params wma_params;\n} __packed;\n\n \nstruct sst_address_info {\n\tu32 addr;  \n\tu32 size;  \n};\n\nstruct snd_sst_alloc_params_ext {\n\t__u16 sg_count;\n\t__u16 reserved;\n\t__u32 frag_size;\t \n\tstruct sst_address_info  ring_buf_info[8];\n};\n\nstruct snd_sst_stream_params {\n\tunion snd_sst_codec_params uc;\n} __packed;\n\nstruct snd_sst_params {\n\tu32 result;\n\tu32 stream_id;\n\tu8 codec;\n\tu8 ops;\n\tu8 stream_type;\n\tu8 device_type;\n\tu8 task;\n\tstruct snd_sst_stream_params sparams;\n\tstruct snd_sst_alloc_params_ext aparams;\n};\n\nstruct snd_sst_alloc_mrfld {\n\tu16 codec_type;\n\tu8 operation;\n\tu8 sg_count;\n\tstruct sst_address_info ring_buf_info[8];\n\tu32 frag_size;\n\tu32 ts;\n\tstruct snd_sst_stream_params codec_params;\n} __packed;\n\n \nstruct snd_sst_alloc_params {\n\tstruct snd_sst_str_type str_type;\n\tstruct snd_sst_stream_params stream_params;\n\tstruct snd_sst_alloc_params_ext alloc_params;\n} __packed;\n\n \nstruct snd_sst_alloc_response {\n\tstruct snd_sst_str_type str_type;  \n\tstruct snd_sst_lib_download lib_dnld;  \n};\n\n \nstruct snd_sst_drop_response {\n\tu32 result;\n\tu32 bytes;\n};\n\nstruct snd_sst_async_msg {\n\tu32 msg_id;  \n\tu32 payload[];\n};\n\nstruct snd_sst_async_err_msg {\n\tu32 fw_resp;  \n\tu32 lib_resp;  \n} __packed;\n\nstruct snd_sst_vol {\n\tu32\tstream_id;\n\ts32\tvolume;\n\tu32\tramp_duration;\n\tu32\tramp_type;\t\t \n};\n\n \nstruct snd_sst_gain_v2 {\n\tu16 gain_cell_num;   \n\tu8 cell_nbr_idx;  \n\tu8 cell_path_idx;  \n\tu16 module_id;  \n\tu16 left_cell_gain;  \n\tu16 right_cell_gain;  \n\tu16 gain_time_const;  \n} __packed;\n\nstruct snd_sst_mute {\n\tu32\tstream_id;\n\tu32\tmute;\n};\n\nstruct snd_sst_runtime_params {\n\tu8 type;\n\tu8 str_id;\n\tu8 size;\n\tu8 rsvd;\n\tvoid *addr;\n} __packed;\n\nenum stream_param_type {\n\tSST_SET_TIME_SLOT = 0,\n\tSST_SET_CHANNEL_INFO = 1,\n\tOTHERS = 2,  \n};\n\n \nstruct snd_sst_control_routing {\n\tu8 control;  \n\tu8 reserved[3];\t \n};\n\nstruct ipc_post {\n\tstruct list_head node;\n\tunion ipc_header header;  \n\tbool is_large;\n\tbool is_process_reply;\n\tunion ipc_header_mrfld mrfld_header;\n\tchar *mailbox_data;\n};\n\nstruct snd_sst_ctxt_params {\n\tu32 address;  \n\tu32 size;  \n};\n\nstruct snd_sst_lpe_log_params {\n\tu8 dbg_type;\n\tu8 module_id;\n\tu8 log_level;\n\tu8 reserved;\n} __packed;\n\nenum snd_sst_bytes_type {\n\tSND_SST_BYTES_SET = 0x1,\n\tSND_SST_BYTES_GET = 0x2,\n};\n\nstruct snd_sst_bytes_v2 {\n\tu8 type;\n\tu8 ipc_msg;\n\tu8 block;\n\tu8 task_id;\n\tu8 pipe_id;\n\tu8 rsvd;\n\tu16 len;\n\tchar bytes[];\n};\n\n#define MAX_VTSV_FILES 2\nstruct snd_sst_vtsv_info {\n\tstruct sst_address_info vfiles[MAX_VTSV_FILES];\n} __packed;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}