{
  "module_name": "skl-sst-ipc.h",
  "hash_id": "e9a33f9e7e81b1b8b24e5636e1f7c6e73f9757c2a652e26c25c790272e44be66",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/intel/skylake/skl-sst-ipc.h",
  "human_readable_source": " \n \n\n#ifndef __SKL_IPC_H\n#define __SKL_IPC_H\n\n#include <linux/irqreturn.h>\n#include \"../common/sst-ipc.h\"\n#include \"skl-sst-dsp.h\"\n\nstruct sst_dsp;\nstruct sst_generic_ipc;\n\nenum skl_ipc_pipeline_state {\n\tPPL_INVALID_STATE =\t0,\n\tPPL_UNINITIALIZED =\t1,\n\tPPL_RESET =\t\t2,\n\tPPL_PAUSED =\t\t3,\n\tPPL_RUNNING =\t\t4,\n\tPPL_ERROR_STOP =\t5,\n\tPPL_SAVED =\t\t6,\n\tPPL_RESTORED =\t\t7\n};\n\nstruct skl_ipc_dxstate_info {\n\tu32 core_mask;\n\tu32 dx_mask;\n};\n\nstruct skl_ipc_header {\n\tu32 primary;\n\tu32 extension;\n};\n\nstruct skl_dsp_cores {\n\tunsigned int count;\n\tenum skl_dsp_states *state;\n\tint *usage_count;\n};\n\n \nstruct skl_d0i3_data {\n\tint streaming;\n\tint non_streaming;\n\tint non_d0i3;\n\tenum skl_dsp_d0i3_states state;\n\tstruct delayed_work work;\n};\n\n#define SKL_LIB_NAME_LENGTH 128\n#define SKL_MAX_LIB 16\n\nstruct skl_lib_info {\n\tchar name[SKL_LIB_NAME_LENGTH];\n\tconst struct firmware *fw;\n};\n\nstruct skl_ipc_init_instance_msg {\n\tu32 module_id;\n\tu32 instance_id;\n\tu16 param_data_size;\n\tu8 ppl_instance_id;\n\tu8 core_id;\n\tu8 domain;\n};\n\nstruct skl_ipc_bind_unbind_msg {\n\tu32 module_id;\n\tu32 instance_id;\n\tu32 dst_module_id;\n\tu32 dst_instance_id;\n\tu8 src_queue;\n\tu8 dst_queue;\n\tbool bind;\n};\n\nstruct skl_ipc_large_config_msg {\n\tu32 module_id;\n\tu32 instance_id;\n\tu32 large_param_id;\n\tu32 param_data_size;\n};\n\nstruct skl_ipc_d0ix_msg {\n\tu32 module_id;\n\tu32 instance_id;\n\tu8 streaming;\n\tu8 wake;\n};\n\n#define SKL_IPC_BOOT_MSECS\t\t3000\n\n#define SKL_IPC_D3_MASK\t0\n#define SKL_IPC_D0_MASK\t3\n\nirqreturn_t skl_dsp_irq_thread_handler(int irq, void *context);\n\nint skl_ipc_create_pipeline(struct sst_generic_ipc *ipc,\n\t\tu16 ppl_mem_size, u8 ppl_type, u8 instance_id, u8 lp_mode);\n\nint skl_ipc_delete_pipeline(struct sst_generic_ipc *ipc, u8 instance_id);\n\nint skl_ipc_set_pipeline_state(struct sst_generic_ipc *ipc,\n\t\tu8 instance_id,\tenum skl_ipc_pipeline_state state);\n\nint skl_ipc_save_pipeline(struct sst_generic_ipc *ipc,\n\t\tu8 instance_id, int dma_id);\n\nint skl_ipc_restore_pipeline(struct sst_generic_ipc *ipc, u8 instance_id);\n\nint skl_ipc_init_instance(struct sst_generic_ipc *ipc,\n\t\tstruct skl_ipc_init_instance_msg *msg, void *param_data);\n\nint skl_ipc_bind_unbind(struct sst_generic_ipc *ipc,\n\t\tstruct skl_ipc_bind_unbind_msg *msg);\n\nint skl_ipc_load_modules(struct sst_generic_ipc *ipc,\n\t\t\t\tu8 module_cnt, void *data);\n\nint skl_ipc_unload_modules(struct sst_generic_ipc *ipc,\n\t\t\t\tu8 module_cnt, void *data);\n\nint skl_ipc_set_dx(struct sst_generic_ipc *ipc,\n\t\tu8 instance_id, u16 module_id, struct skl_ipc_dxstate_info *dx);\n\nint skl_ipc_set_large_config(struct sst_generic_ipc *ipc,\n\t\tstruct skl_ipc_large_config_msg *msg, u32 *param);\n\nint skl_ipc_get_large_config(struct sst_generic_ipc *ipc,\n\t\tstruct skl_ipc_large_config_msg *msg,\n\t\tu32 **payload, size_t *bytes);\n\nint skl_sst_ipc_load_library(struct sst_generic_ipc *ipc,\n\t\t\tu8 dma_id, u8 table_id, bool wait);\n\nint skl_ipc_set_d0ix(struct sst_generic_ipc *ipc,\n\t\tstruct skl_ipc_d0ix_msg *msg);\n\nint skl_ipc_check_D0i0(struct sst_dsp *dsp, bool state);\n\nvoid skl_ipc_int_enable(struct sst_dsp *ctx);\nvoid skl_ipc_op_int_enable(struct sst_dsp *ctx);\nvoid skl_ipc_op_int_disable(struct sst_dsp *ctx);\nvoid skl_ipc_int_disable(struct sst_dsp *ctx);\n\nbool skl_ipc_int_status(struct sst_dsp *ctx);\nvoid skl_ipc_free(struct sst_generic_ipc *ipc);\nint skl_ipc_init(struct device *dev, struct skl_dev *skl);\nvoid skl_clear_module_cnt(struct sst_dsp *ctx);\n\nvoid skl_ipc_process_reply(struct sst_generic_ipc *ipc,\n\t\tstruct skl_ipc_header header);\nint skl_ipc_process_notification(struct sst_generic_ipc *ipc,\n\t\tstruct skl_ipc_header header);\nvoid skl_ipc_tx_data_copy(struct ipc_message *msg, char *tx_data,\n\t\tsize_t tx_size);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}