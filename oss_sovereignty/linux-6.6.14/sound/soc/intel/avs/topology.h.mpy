{
  "module_name": "topology.h",
  "hash_id": "cc0925a8fdf8c498ee2aca4d6066dd43986716b6c08f5b402bf5269bd05a2dd5",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/intel/avs/topology.h",
  "human_readable_source": " \n \n\n#ifndef __SOUND_SOC_INTEL_AVS_TPLG_H\n#define __SOUND_SOC_INTEL_AVS_TPLG_H\n\n#include <linux/list.h>\n#include \"messages.h\"\n\n#define INVALID_OBJECT_ID\tUINT_MAX\n\nstruct snd_soc_component;\n\nstruct avs_tplg {\n\tchar name[SNDRV_CTL_ELEM_ID_NAME_MAXLEN];\n\tu32 version;\n\tstruct snd_soc_component *comp;\n\n\tstruct avs_tplg_library *libs;\n\tu32 num_libs;\n\tstruct avs_audio_format *fmts;\n\tu32 num_fmts;\n\tstruct avs_tplg_modcfg_base *modcfgs_base;\n\tu32 num_modcfgs_base;\n\tstruct avs_tplg_modcfg_ext *modcfgs_ext;\n\tu32 num_modcfgs_ext;\n\tstruct avs_tplg_pplcfg *pplcfgs;\n\tu32 num_pplcfgs;\n\tstruct avs_tplg_binding *bindings;\n\tu32 num_bindings;\n\n\tstruct list_head path_tmpl_list;\n};\n\nstruct avs_tplg_library {\n\tchar name[SNDRV_CTL_ELEM_ID_NAME_MAXLEN];\n};\n\n \nstruct avs_tplg_modcfg_base {\n\tu32 cpc;\n\tu32 ibs;\n\tu32 obs;\n\tu32 is_pages;\n};\n\nstruct avs_tplg_pin_format {\n\tu32 pin_index;\n\tu32 iobs;\n\tstruct avs_audio_format *fmt;\n};\n\nstruct avs_tplg_modcfg_ext {\n\tguid_t type;\n\n\tunion {\n\t\tstruct {\n\t\t\tu16 num_input_pins;\n\t\t\tu16 num_output_pins;\n\t\t\tstruct avs_tplg_pin_format *pin_fmts;\n\t\t} generic;\n\t\tstruct {\n\t\t\tstruct avs_audio_format *out_fmt;\n\t\t\tstruct avs_audio_format *blob_fmt;  \n\t\t\tu32 feature_mask;\n\t\t\tunion avs_virtual_index vindex;\n\t\t\tu32 dma_type;\n\t\t\tu32 dma_buffer_size;\n\t\t\tu32 config_length;\n\t\t\t \n\t\t} copier;\n\t\tstruct {\n\t\t\tu32 out_channel_config;\n\t\t\tu32 coefficients_select;\n\t\t\ts32 coefficients[AVS_CHANNELS_MAX];\n\t\t\tu32 channel_map;\n\t\t} updown_mix;\n\t\tstruct {\n\t\t\tu32 out_freq;\n\t\t} src;\n\t\tstruct {\n\t\t\tu32 out_freq;\n\t\t\tu8 mode;\n\t\t\tu8 disable_jitter_buffer;\n\t\t} asrc;\n\t\tstruct {\n\t\t\tu32 cpc_lp_mode;\n\t\t} wov;\n\t\tstruct {\n\t\t\tstruct avs_audio_format *ref_fmt;\n\t\t\tstruct avs_audio_format *out_fmt;\n\t\t\tu32 cpc_lp_mode;\n\t\t} aec;\n\t\tstruct {\n\t\t\tstruct avs_audio_format *ref_fmt;\n\t\t\tstruct avs_audio_format *out_fmt;\n\t\t} mux;\n\t\tstruct {\n\t\t\tstruct avs_audio_format *out_fmt;\n\t\t} micsel;\n\t};\n};\n\n \nenum avs_tplg_trigger {\n\tAVS_TPLG_TRIGGER_AUTO = 0,\n};\n\nstruct avs_tplg_pplcfg {\n\tu16 req_size;\n\tu8 priority;\n\tbool lp;\n\tu16 attributes;\n\tenum avs_tplg_trigger trigger;\n};\n\nstruct avs_tplg_binding {\n\tchar target_tplg_name[SNDRV_CTL_ELEM_ID_NAME_MAXLEN];\n\tu32 target_path_tmpl_id;\n\tu32 target_ppl_id;\n\tu32 target_mod_id;\n\tu8 target_mod_pin;\n\tu32 mod_id;\n\tu8 mod_pin;\n\tu8 is_sink;\n};\n\nstruct avs_tplg_path_template_id {\n\tu32 id;\n\tchar tplg_name[SNDRV_CTL_ELEM_ID_NAME_MAXLEN];\n};\n\nstruct avs_tplg_path_template {\n\tu32 id;\n\n\tstruct snd_soc_dapm_widget *w;\n\n\tstruct list_head path_list;\n\n\tstruct avs_tplg *owner;\n\t \n\tstruct list_head node;\n};\n\nstruct avs_tplg_path {\n\tu32 id;\n\n\t \n\tstruct avs_audio_format *fe_fmt;\n\tstruct avs_audio_format *be_fmt;\n\n\tstruct list_head ppl_list;\n\n\tstruct avs_tplg_path_template *owner;\n\t \n\tstruct list_head node;\n};\n\nstruct avs_tplg_pipeline {\n\tu32 id;\n\n\tstruct avs_tplg_pplcfg *cfg;\n\tstruct avs_tplg_binding **bindings;\n\tu32 num_bindings;\n\tstruct list_head mod_list;\n\n\tstruct avs_tplg_path *owner;\n\t \n\tstruct list_head node;\n};\n\nstruct avs_tplg_module {\n\tu32 id;\n\n\tstruct avs_tplg_modcfg_base *cfg_base;\n\tstruct avs_audio_format *in_fmt;\n\tu8 core_id;\n\tu8 domain;\n\tstruct avs_tplg_modcfg_ext *cfg_ext;\n\tu32 ctl_id;\n\n\tstruct avs_tplg_pipeline *owner;\n\t \n\tstruct list_head node;\n};\n\nstruct avs_tplg *avs_tplg_new(struct snd_soc_component *comp);\n\nint avs_load_topology(struct snd_soc_component *comp, const char *filename);\nint avs_remove_topology(struct snd_soc_component *comp);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}