{
  "module_name": "trace.h",
  "hash_id": "ac37d2e00d990a2d2ce7879882fcaa42e130d7522a5bc4cde2ee885300f61650",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/intel/avs/trace.h",
  "human_readable_source": " \n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM intel_avs\n\n#if !defined(_TRACE_INTEL_AVS_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _TRACE_INTEL_AVS_H\n\n#include <linux/types.h>\n#include <linux/tracepoint.h>\n\nTRACE_EVENT(avs_dsp_core_op,\n\n\tTP_PROTO(unsigned int reg, unsigned int mask, const char *op, bool flag),\n\n\tTP_ARGS(reg, mask, op, flag),\n\n\tTP_STRUCT__entry(\n\t\t__field(unsigned int,\treg\t)\n\t\t__field(unsigned int,\tmask\t)\n\t\t__string(op,\t\top\t)\n\t\t__field(bool,\t\tflag\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->reg = reg;\n\t\t__entry->mask = mask;\n\t\t__assign_str(op, op);\n\t\t__entry->flag = flag;\n\t),\n\n\tTP_printk(\"%s: %d, core mask: 0x%X, prev state: 0x%08X\",\n\t\t  __get_str(op), __entry->flag, __entry->mask, __entry->reg)\n);\n\n#ifndef __TRACE_INTEL_AVS_TRACE_HELPER\n#define __TRACE_INTEL_AVS_TRACE_HELPER\n\nvoid trace_avs_msg_payload(const void *data, size_t size);\n\n#define trace_avs_request(msg, fwregs) \\\n({ \\\n\ttrace_avs_ipc_request_msg((msg)->header, fwregs); \\\n\ttrace_avs_msg_payload((msg)->data, (msg)->size); \\\n})\n\n#define trace_avs_reply(msg, fwregs) \\\n({ \\\n\ttrace_avs_ipc_reply_msg((msg)->header, fwregs); \\\n\ttrace_avs_msg_payload((msg)->data, (msg)->size); \\\n})\n\n#define trace_avs_notify(msg, fwregs) \\\n({ \\\n\ttrace_avs_ipc_notify_msg((msg)->header, fwregs); \\\n\ttrace_avs_msg_payload((msg)->data, (msg)->size); \\\n})\n#endif\n\nDECLARE_EVENT_CLASS(avs_ipc_msg_hdr,\n\n\tTP_PROTO(u64 header, u64 fwregs),\n\n\tTP_ARGS(header, fwregs),\n\n\tTP_STRUCT__entry(\n\t\t__field(u64,\theader)\n\t\t__field(u64,\tfwregs)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->header = header;\n\t\t__entry->fwregs = fwregs;\n\t),\n\n\tTP_printk(\"primary: 0x%08X, extension: 0x%08X,\\n\"\n\t\t  \"fwstatus: 0x%08X, fwerror: 0x%08X\",\n\t\t  lower_32_bits(__entry->header), upper_32_bits(__entry->header),\n\t\t  lower_32_bits(__entry->fwregs), upper_32_bits(__entry->fwregs))\n);\n\nDEFINE_EVENT(avs_ipc_msg_hdr, avs_ipc_request_msg,\n\tTP_PROTO(u64 header, u64 fwregs),\n\tTP_ARGS(header, fwregs)\n);\n\nDEFINE_EVENT(avs_ipc_msg_hdr, avs_ipc_reply_msg,\n\tTP_PROTO(u64 header, u64 fwregs),\n\tTP_ARGS(header, fwregs)\n);\n\nDEFINE_EVENT(avs_ipc_msg_hdr, avs_ipc_notify_msg,\n\tTP_PROTO(u64 header, u64 fwregs),\n\tTP_ARGS(header, fwregs)\n);\n\nTRACE_EVENT_CONDITION(avs_ipc_msg_payload,\n\n\tTP_PROTO(const u8 *data, size_t size, size_t offset, size_t total),\n\n\tTP_ARGS(data, size, offset, total),\n\n\tTP_CONDITION(data && size),\n\n\tTP_STRUCT__entry(\n\t\t__dynamic_array(u8,\tbuf,\tsize\t)\n\t\t__field(size_t,\t\toffset\t\t)\n\t\t__field(size_t,\t\tpos\t\t)\n\t\t__field(size_t,\t\ttotal\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\tmemcpy(__get_dynamic_array(buf), data + offset, size);\n\t\t__entry->offset = offset;\n\t\t__entry->pos = offset + size;\n\t\t__entry->total = total;\n\t),\n\n\tTP_printk(\"range %zu-%zu out of %zu bytes%s\",\n\t\t  __entry->offset, __entry->pos, __entry->total,\n\t\t  __print_hex_dump(\"\", DUMP_PREFIX_NONE, 16, 4,\n\t\t\t\t   __get_dynamic_array(buf),\n\t\t\t\t   __get_dynamic_array_len(buf), false))\n);\n\nTRACE_EVENT(avs_d0ix,\n\n\tTP_PROTO(const char *op, bool proceed, u64 header),\n\n\tTP_ARGS(op, proceed, header),\n\n\tTP_STRUCT__entry(\n\t\t__string(op,\top\t)\n\t\t__field(bool,\tproceed\t)\n\t\t__field(u64,\theader\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(op, op);\n\t\t__entry->proceed = proceed;\n\t\t__entry->header = header;\n\t),\n\n\tTP_printk(\"%s%s for request: 0x%08X 0x%08X\",\n\t\t  __entry->proceed ? \"\" : \"ignore \", __get_str(op),\n\t\t  lower_32_bits(__entry->header), upper_32_bits(__entry->header))\n);\n\n#endif  \n\n \n#undef TRACE_INCLUDE_PATH\n#define TRACE_INCLUDE_PATH .\n#define TRACE_INCLUDE_FILE trace\n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}