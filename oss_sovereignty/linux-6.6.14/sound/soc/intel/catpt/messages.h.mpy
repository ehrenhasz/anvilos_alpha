{
  "module_name": "messages.h",
  "hash_id": "0db366ba803ce852381a43ce4cb0fd616b6bedb183e0bb0a9b737e6599ff0cc6",
  "original_prompt": "Ingested from linux-6.6.14/sound/soc/intel/catpt/messages.h",
  "human_readable_source": " \n \n\n#ifndef __SND_SOC_INTEL_CATPT_MSG_H\n#define __SND_SOC_INTEL_CATPT_MSG_H\n\nstruct catpt_dev;\n\n \n\nenum catpt_reply_status {\n\tCATPT_REPLY_SUCCESS = 0,\n\tCATPT_REPLY_ERROR_INVALID_PARAM = 1,\n\tCATPT_REPLY_UNKNOWN_MESSAGE_TYPE = 2,\n\tCATPT_REPLY_OUT_OF_RESOURCES = 3,\n\tCATPT_REPLY_BUSY = 4,\n\tCATPT_REPLY_PENDING = 5,\n\tCATPT_REPLY_FAILURE = 6,\n\tCATPT_REPLY_INVALID_REQUEST = 7,\n\tCATPT_REPLY_UNINITIALIZED = 8,\n\tCATPT_REPLY_NOT_FOUND = 9,\n\tCATPT_REPLY_SOURCE_NOT_STARTED = 10,\n};\n\n \n\nenum catpt_global_msg_type {\n\tCATPT_GLB_GET_FW_VERSION = 0,\n\tCATPT_GLB_ALLOCATE_STREAM = 3,\n\tCATPT_GLB_FREE_STREAM = 4,\n\tCATPT_GLB_STREAM_MESSAGE = 6,\n\tCATPT_GLB_REQUEST_CORE_DUMP = 7,\n\tCATPT_GLB_SET_DEVICE_FORMATS = 10,\n\tCATPT_GLB_ENTER_DX_STATE = 12,\n\tCATPT_GLB_GET_MIXER_STREAM_INFO = 13,\n};\n\nunion catpt_global_msg {\n\tu32 val;\n\tstruct {\n\t\tu32 status:5;\n\t\tu32 context:19;  \n\t\tu32 global_msg_type:5;\n\t\tu32 fw_ready:1;\n\t\tu32 done:1;\n\t\tu32 busy:1;\n\t};\n} __packed;\n\n#define CATPT_MSG(hdr) { .val = hdr }\n#define CATPT_GLOBAL_MSG(msg_type) \\\n\t{ .global_msg_type = CATPT_GLB_##msg_type }\n\n#define BUILD_HASH_SIZE\t\t40\n\nstruct catpt_fw_version {\n\tu8 build;\n\tu8 minor;\n\tu8 major;\n\tu8 type;\n\tu8 build_hash[BUILD_HASH_SIZE];\n\tu32 log_providers_hash;\n} __packed;\n\nint catpt_ipc_get_fw_version(struct catpt_dev *cdev,\n\t\t\t     struct catpt_fw_version *version);\n\nenum catpt_pin_id {\n\tCATPT_PIN_ID_SYSTEM = 0,\n\tCATPT_PIN_ID_REFERENCE = 1,\n\tCATPT_PIN_ID_CAPTURE1 = 2,\n\tCATPT_PIN_ID_CAPTURE2 = 3,\n\tCATPT_PIN_ID_OFFLOAD1 = 4,\n\tCATPT_PIN_ID_OFFLOAD2 = 5,\n\tCATPT_PIN_ID_MIXER = 7,\n\tCATPT_PIN_ID_BLUETOOTH_CAPTURE = 8,\n\tCATPT_PIN_ID_BLUETOOTH_RENDER = 9,\n};\n\nenum catpt_path_id {\n\tCATPT_PATH_SSP0_OUT = 0,\n\tCATPT_PATH_SSP0_IN = 1,\n\tCATPT_PATH_SSP1_OUT = 2,\n\tCATPT_PATH_SSP1_IN = 3,\n\t \n\tCATPT_PATH_SSP0_IN_DUP = 4,\n};\n\nenum catpt_stream_type {\n\tCATPT_STRM_TYPE_RENDER = 0,  \n\tCATPT_STRM_TYPE_SYSTEM = 1,\n\tCATPT_STRM_TYPE_CAPTURE = 2,\n\tCATPT_STRM_TYPE_LOOPBACK = 3,\n\tCATPT_STRM_TYPE_BLUETOOTH_RENDER = 4,\n\tCATPT_STRM_TYPE_BLUETOOTH_CAPTURE = 5,\n};\n\nenum catpt_format_id {\n\tCATPT_FORMAT_PCM = 0,\n\tCATPT_FORMAT_MP3 = 1,\n\tCATPT_FORMAT_AAC = 2,\n\tCATPT_FORMAT_WMA = 3,\n};\n\nenum catpt_channel_index {\n\tCATPT_CHANNEL_LEFT = 0x0,\n\tCATPT_CHANNEL_CENTER = 0x1,\n\tCATPT_CHANNEL_RIGHT = 0x2,\n\tCATPT_CHANNEL_LEFT_SURROUND = 0x3,\n\tCATPT_CHANNEL_CENTER_SURROUND = 0x3,\n\tCATPT_CHANNEL_RIGHT_SURROUND = 0x4,\n\tCATPT_CHANNEL_LFE = 0x7,\n\tCATPT_CHANNEL_INVALID = 0xF,\n};\n\nenum catpt_channel_config {\n\tCATPT_CHANNEL_CONFIG_MONO\t= 0,  \n\tCATPT_CHANNEL_CONFIG_STEREO\t= 1,  \n\tCATPT_CHANNEL_CONFIG_2_POINT_1\t= 2,  \n\tCATPT_CHANNEL_CONFIG_3_POINT_0\t= 3,  \n\tCATPT_CHANNEL_CONFIG_3_POINT_1\t= 4,  \n\tCATPT_CHANNEL_CONFIG_QUATRO\t= 5,  \n\tCATPT_CHANNEL_CONFIG_4_POINT_0\t= 6,  \n\tCATPT_CHANNEL_CONFIG_5_POINT_0\t= 7,  \n\tCATPT_CHANNEL_CONFIG_5_POINT_1\t= 8,  \n\tCATPT_CHANNEL_CONFIG_DUAL_MONO\t= 9,  \n\tCATPT_CHANNEL_CONFIG_INVALID\t= 10,\n};\n\nenum catpt_interleaving_style {\n\tCATPT_INTERLEAVING_PER_CHANNEL\t= 0,\n\tCATPT_INTERLEAVING_PER_SAMPLE\t= 1,\n};\n\nstruct catpt_audio_format {\n\tu32 sample_rate;\n\tu32 bit_depth;\n\tu32 channel_map;\n\tu32 channel_config;\n\tu32 interleaving;\n\tu8 num_channels;\n\tu8 valid_bit_depth;\n\tu8 reserved[2];\n} __packed;\n\nstruct catpt_ring_info {\n\tu32 page_table_addr;\n\tu32 num_pages;\n\tu32 size;\n\tu32 offset;\n\tu32 ring_first_page_pfn;\n} __packed;\n\n#define CATPT_MODULE_COUNT (CATPT_MODID_LAST + 1)\n\nenum catpt_module_id {\n\tCATPT_MODID_BASE_FW\t\t= 0x0,\n\tCATPT_MODID_MP3\t\t\t= 0x1,\n\tCATPT_MODID_AAC_5_1\t\t= 0x2,\n\tCATPT_MODID_AAC_2_0\t\t= 0x3,\n\tCATPT_MODID_SRC\t\t\t= 0x4,\n\tCATPT_MODID_WAVES\t\t= 0x5,\n\tCATPT_MODID_DOLBY\t\t= 0x6,\n\tCATPT_MODID_BOOST\t\t= 0x7,\n\tCATPT_MODID_LPAL\t\t= 0x8,\n\tCATPT_MODID_DTS\t\t\t= 0x9,\n\tCATPT_MODID_PCM_CAPTURE\t\t= 0xA,\n\tCATPT_MODID_PCM_SYSTEM\t\t= 0xB,\n\tCATPT_MODID_PCM_REFERENCE\t= 0xC,\n\tCATPT_MODID_PCM\t\t\t= 0xD,  \n\tCATPT_MODID_BLUETOOTH_RENDER\t= 0xE,\n\tCATPT_MODID_BLUETOOTH_CAPTURE\t= 0xF,\n\tCATPT_MODID_LAST\t\t= CATPT_MODID_BLUETOOTH_CAPTURE,\n};\n\nstruct catpt_module_entry {\n\tu32 module_id;\n\tu32 entry_point;\n} __packed;\n\nstruct catpt_module_map {\n\tu8 num_entries;\n\tstruct catpt_module_entry entries[];\n} __packed;\n\nstruct catpt_memory_info {\n\tu32 offset;\n\tu32 size;\n} __packed;\n\n#define CATPT_CHANNELS_MAX\t4\n#define CATPT_ALL_CHANNELS_MASK\tUINT_MAX\n\nstruct catpt_stream_info {\n\tu32 stream_hw_id;\n\tu32 reserved;\n\tu32 read_pos_regaddr;\n\tu32 pres_pos_regaddr;\n\tu32 peak_meter_regaddr[CATPT_CHANNELS_MAX];\n\tu32 volume_regaddr[CATPT_CHANNELS_MAX];\n} __packed;\n\nint catpt_ipc_alloc_stream(struct catpt_dev *cdev,\n\t\t\t   enum catpt_path_id path_id,\n\t\t\t   enum catpt_stream_type type,\n\t\t\t   struct catpt_audio_format *afmt,\n\t\t\t   struct catpt_ring_info *rinfo,\n\t\t\t   u8 num_modules,\n\t\t\t   struct catpt_module_entry *modules,\n\t\t\t   struct resource *persistent,\n\t\t\t   struct resource *scratch,\n\t\t\t   struct catpt_stream_info *sinfo);\nint catpt_ipc_free_stream(struct catpt_dev *cdev, u8 stream_hw_id);\n\nenum catpt_ssp_iface {\n\tCATPT_SSP_IFACE_0 = 0,\n\tCATPT_SSP_IFACE_1 = 1,\n\tCATPT_SSP_COUNT,\n};\n\nenum catpt_mclk_frequency {\n\tCATPT_MCLK_OFF = 0,\n\tCATPT_MCLK_FREQ_6_MHZ = 1,\n\tCATPT_MCLK_FREQ_21_MHZ = 2,\n\tCATPT_MCLK_FREQ_24_MHZ = 3,\n};\n\nenum catpt_ssp_mode {\n\tCATPT_SSP_MODE_I2S_CONSUMER = 0,\n\tCATPT_SSP_MODE_I2S_PROVIDER = 1,\n\tCATPT_SSP_MODE_TDM_PROVIDER = 2,\n};\n\nstruct catpt_ssp_device_format {\n\tu32 iface;\n\tu32 mclk;\n\tu32 mode;\n\tu16 clock_divider;\n\tu8 channels;\n} __packed;\n\nint catpt_ipc_set_device_format(struct catpt_dev *cdev,\n\t\t\t\tstruct catpt_ssp_device_format *devfmt);\n\nenum catpt_dx_state {\n\tCATPT_DX_STATE_D3 = 3,\n};\n\nenum catpt_dx_type {\n\tCATPT_DX_TYPE_FW_IMAGE = 0,\n\tCATPT_DX_TYPE_MEMORY_DUMP = 1,\n};\n\nstruct catpt_save_meminfo {\n\tu32 offset;\n\tu32 size;\n\tu32 source;\n} __packed;\n\n#define SAVE_MEMINFO_MAX\t14\n\nstruct catpt_dx_context {\n\tu32 num_meminfo;\n\tstruct catpt_save_meminfo meminfo[SAVE_MEMINFO_MAX];\n} __packed;\n\nint catpt_ipc_enter_dxstate(struct catpt_dev *cdev, enum catpt_dx_state state,\n\t\t\t    struct catpt_dx_context *context);\n\nstruct catpt_mixer_stream_info {\n\tu32 mixer_hw_id;\n\tu32 peak_meter_regaddr[CATPT_CHANNELS_MAX];\n\tu32 volume_regaddr[CATPT_CHANNELS_MAX];\n} __packed;\n\nint catpt_ipc_get_mixer_stream_info(struct catpt_dev *cdev,\n\t\t\t\t    struct catpt_mixer_stream_info *info);\n\n \n\nenum catpt_stream_msg_type {\n\tCATPT_STRM_RESET_STREAM = 0,\n\tCATPT_STRM_PAUSE_STREAM = 1,\n\tCATPT_STRM_RESUME_STREAM = 2,\n\tCATPT_STRM_STAGE_MESSAGE = 3,\n\tCATPT_STRM_NOTIFICATION = 4,\n};\n\nenum catpt_stage_action {\n\tCATPT_STG_SET_VOLUME = 1,\n\tCATPT_STG_SET_WRITE_POSITION = 2,\n\tCATPT_STG_MUTE_LOOPBACK = 3,\n};\n\nunion catpt_stream_msg {\n\tu32 val;\n\tstruct {\n\t\tu32 status:5;\n\t\tu32 reserved:7;\n\t\tu32 stage_action:4;\n\t\tu32 stream_hw_id:4;\n\t\tu32 stream_msg_type:4;\n\t\tu32 global_msg_type:5;\n\t\tu32 fw_ready:1;\n\t\tu32 done:1;\n\t\tu32 busy:1;\n\t};\n} __packed;\n\n#define CATPT_STREAM_MSG(msg_type) \\\n{ \\\n\t.stream_msg_type = CATPT_STRM_##msg_type, \\\n\t.global_msg_type = CATPT_GLB_STREAM_MESSAGE }\n#define CATPT_STAGE_MSG(msg_type) \\\n{ \\\n\t.stage_action = CATPT_STG_##msg_type, \\\n\t.stream_msg_type = CATPT_STRM_STAGE_MESSAGE, \\\n\t.global_msg_type = CATPT_GLB_STREAM_MESSAGE }\n\nint catpt_ipc_reset_stream(struct catpt_dev *cdev, u8 stream_hw_id);\nint catpt_ipc_pause_stream(struct catpt_dev *cdev, u8 stream_hw_id);\nint catpt_ipc_resume_stream(struct catpt_dev *cdev, u8 stream_hw_id);\n\n \n\nenum catpt_audio_curve_type {\n\tCATPT_AUDIO_CURVE_NONE = 0,\n\tCATPT_AUDIO_CURVE_WINDOWS_FADE = 1,\n};\n\nint catpt_ipc_set_volume(struct catpt_dev *cdev, u8 stream_hw_id,\n\t\t\t u32 channel, u32 volume,\n\t\t\t u32 curve_duration,\n\t\t\t enum catpt_audio_curve_type curve_type);\n\nint catpt_ipc_set_write_pos(struct catpt_dev *cdev, u8 stream_hw_id,\n\t\t\t    u32 pos, bool eob, bool ll);\n\nint catpt_ipc_mute_loopback(struct catpt_dev *cdev, u8 stream_hw_id, bool mute);\n\n \n\nenum catpt_notify_reason {\n\tCATPT_NOTIFY_POSITION_CHANGED = 0,\n\tCATPT_NOTIFY_GLITCH_OCCURRED = 1,\n};\n\nunion catpt_notify_msg {\n\tu32 val;\n\tstruct {\n\t\tu32 mailbox_address:29;\n\t\tu32 fw_ready:1;\n\t\tu32 done:1;\n\t\tu32 busy:1;\n\t};\n\tstruct {\n\t\tu32 status:5;\n\t\tu32 reserved:7;\n\t\tu32 notify_reason:4;\n\t\tu32 stream_hw_id:4;\n\t\tu32 stream_msg_type:4;\n\t\tu32 global_msg_type:5;\n\t\tu32 hdr:3;  \n\t};\n} __packed;\n\n#define FW_INFO_SIZE_MAX\t100\n\nstruct catpt_fw_ready {\n\tu32 inbox_offset;\n\tu32 outbox_offset;\n\tu32 inbox_size;\n\tu32 outbox_size;\n\tu32 fw_info_size;\n\tchar fw_info[FW_INFO_SIZE_MAX];\n} __packed;\n\nstruct catpt_notify_position {\n\tu32 stream_position;\n\tu32 fw_cycle_count;\n} __packed;\n\nenum catpt_glitch_type {\n\tCATPT_GLITCH_UNDERRUN = 1,\n\tCATPT_GLITCH_DECODER_ERROR = 2,\n\tCATPT_GLITCH_DOUBLED_WRITE_POS = 3,\n};\n\nstruct catpt_notify_glitch {\n\tu32 type;\n\tu64 presentation_pos;\n\tu32 write_pos;\n} __packed;\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}