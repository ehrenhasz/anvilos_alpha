{
  "module_name": "xfs_ondisk.h",
  "hash_id": "aaecbeea3fa42e2906a67c0c2bedc04a193fe126c847d2b10e71821a86d81dbf",
  "original_prompt": "Ingested from linux-6.6.14/fs/xfs/xfs_ondisk.h",
  "human_readable_source": "\n \n#ifndef __XFS_ONDISK_H\n#define __XFS_ONDISK_H\n\n#define XFS_CHECK_STRUCT_SIZE(structname, size) \\\n\tBUILD_BUG_ON_MSG(sizeof(structname) != (size), \"XFS: sizeof(\" \\\n\t\t#structname \") is wrong, expected \" #size)\n\n#define XFS_CHECK_OFFSET(structname, member, off) \\\n\tBUILD_BUG_ON_MSG(offsetof(structname, member) != (off), \\\n\t\t\"XFS: offsetof(\" #structname \", \" #member \") is wrong, \" \\\n\t\t\"expected \" #off)\n\n#define XFS_CHECK_VALUE(value, expected) \\\n\tBUILD_BUG_ON_MSG((value) != (expected), \\\n\t\t\"XFS: value of \" #value \" is wrong, expected \" #expected)\n\nstatic inline void __init\nxfs_check_ondisk_structs(void)\n{\n\t \n\tXFS_CHECK_STRUCT_SIZE(struct xfs_acl,\t\t\t4);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_acl_entry,\t\t12);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_agf,\t\t\t224);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_agfl,\t\t\t36);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_agi,\t\t\t344);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_bmbt_key,\t\t8);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_bmbt_rec,\t\t16);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_bmdr_block,\t\t4);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_btree_block_shdr,\t48);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_btree_block_lhdr,\t64);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_btree_block,\t\t72);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_dinode,\t\t176);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_disk_dquot,\t\t104);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_dqblk,\t\t\t136);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_dsb,\t\t\t264);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_dsymlink_hdr,\t\t56);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_inobt_key,\t\t4);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_inobt_rec,\t\t16);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_refcount_key,\t\t4);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_refcount_rec,\t\t12);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_rmap_key,\t\t20);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_rmap_rec,\t\t24);\n\tXFS_CHECK_STRUCT_SIZE(xfs_timestamp_t,\t\t\t8);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_legacy_timestamp,\t8);\n\tXFS_CHECK_STRUCT_SIZE(xfs_alloc_key_t,\t\t\t8);\n\tXFS_CHECK_STRUCT_SIZE(xfs_alloc_ptr_t,\t\t\t4);\n\tXFS_CHECK_STRUCT_SIZE(xfs_alloc_rec_t,\t\t\t8);\n\tXFS_CHECK_STRUCT_SIZE(xfs_inobt_ptr_t,\t\t\t4);\n\tXFS_CHECK_STRUCT_SIZE(xfs_refcount_ptr_t,\t\t4);\n\tXFS_CHECK_STRUCT_SIZE(xfs_rmap_ptr_t,\t\t\t4);\n\n\t \n\tXFS_CHECK_STRUCT_SIZE(struct xfs_attr3_leaf_hdr,\t80);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_attr3_leafblock,\t80);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_attr3_rmt_hdr,\t\t56);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_da3_blkinfo,\t\t56);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_da3_intnode,\t\t64);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_da3_node_hdr,\t\t64);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_dir3_blk_hdr,\t\t48);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_dir3_data_hdr,\t\t64);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_dir3_free,\t\t64);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_dir3_free_hdr,\t\t64);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_dir3_leaf,\t\t64);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_dir3_leaf_hdr,\t\t64);\n\tXFS_CHECK_STRUCT_SIZE(xfs_attr_leaf_entry_t,\t\t8);\n\tXFS_CHECK_STRUCT_SIZE(xfs_attr_leaf_hdr_t,\t\t32);\n\tXFS_CHECK_STRUCT_SIZE(xfs_attr_leaf_map_t,\t\t4);\n\tXFS_CHECK_STRUCT_SIZE(xfs_attr_leaf_name_local_t,\t4);\n\n\t \n\n\tXFS_CHECK_OFFSET(xfs_attr_leaf_name_local_t, valuelen,\t0);\n\tXFS_CHECK_OFFSET(xfs_attr_leaf_name_local_t, namelen,\t2);\n\tXFS_CHECK_OFFSET(xfs_attr_leaf_name_local_t, nameval,\t3);\n\tXFS_CHECK_OFFSET(xfs_attr_leaf_name_remote_t, valueblk,\t0);\n\tXFS_CHECK_OFFSET(xfs_attr_leaf_name_remote_t, valuelen,\t4);\n\tXFS_CHECK_OFFSET(xfs_attr_leaf_name_remote_t, namelen,\t8);\n\tXFS_CHECK_OFFSET(xfs_attr_leaf_name_remote_t, name,\t9);\n\tXFS_CHECK_STRUCT_SIZE(xfs_attr_leafblock_t,\t\t32);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_attr_shortform,\t4);\n\tXFS_CHECK_OFFSET(struct xfs_attr_shortform, hdr.totsize, 0);\n\tXFS_CHECK_OFFSET(struct xfs_attr_shortform, hdr.count,\t 2);\n\tXFS_CHECK_OFFSET(struct xfs_attr_shortform, list[0].namelen,\t4);\n\tXFS_CHECK_OFFSET(struct xfs_attr_shortform, list[0].valuelen,\t5);\n\tXFS_CHECK_OFFSET(struct xfs_attr_shortform, list[0].flags,\t6);\n\tXFS_CHECK_OFFSET(struct xfs_attr_shortform, list[0].nameval,\t7);\n\tXFS_CHECK_STRUCT_SIZE(xfs_da_blkinfo_t,\t\t\t12);\n\tXFS_CHECK_STRUCT_SIZE(xfs_da_intnode_t,\t\t\t16);\n\tXFS_CHECK_STRUCT_SIZE(xfs_da_node_entry_t,\t\t8);\n\tXFS_CHECK_STRUCT_SIZE(xfs_da_node_hdr_t,\t\t16);\n\tXFS_CHECK_STRUCT_SIZE(xfs_dir2_data_free_t,\t\t4);\n\tXFS_CHECK_STRUCT_SIZE(xfs_dir2_data_hdr_t,\t\t16);\n\tXFS_CHECK_OFFSET(xfs_dir2_data_unused_t, freetag,\t0);\n\tXFS_CHECK_OFFSET(xfs_dir2_data_unused_t, length,\t2);\n\tXFS_CHECK_STRUCT_SIZE(xfs_dir2_free_hdr_t,\t\t16);\n\tXFS_CHECK_STRUCT_SIZE(xfs_dir2_free_t,\t\t\t16);\n\tXFS_CHECK_STRUCT_SIZE(xfs_dir2_leaf_entry_t,\t\t8);\n\tXFS_CHECK_STRUCT_SIZE(xfs_dir2_leaf_hdr_t,\t\t16);\n\tXFS_CHECK_STRUCT_SIZE(xfs_dir2_leaf_t,\t\t\t16);\n\tXFS_CHECK_STRUCT_SIZE(xfs_dir2_leaf_tail_t,\t\t4);\n\tXFS_CHECK_STRUCT_SIZE(xfs_dir2_sf_entry_t,\t\t3);\n\tXFS_CHECK_OFFSET(xfs_dir2_sf_entry_t, namelen,\t\t0);\n\tXFS_CHECK_OFFSET(xfs_dir2_sf_entry_t, offset,\t\t1);\n\tXFS_CHECK_OFFSET(xfs_dir2_sf_entry_t, name,\t\t3);\n\tXFS_CHECK_STRUCT_SIZE(xfs_dir2_sf_hdr_t,\t\t10);\n\n\t \n\tXFS_CHECK_STRUCT_SIZE(struct xfs_buf_log_format,\t88);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_dq_logformat,\t\t24);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_efd_log_format_32,\t16);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_efd_log_format_64,\t16);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_efi_log_format_32,\t16);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_efi_log_format_64,\t16);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_extent_32,\t\t12);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_extent_64,\t\t16);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_log_dinode,\t\t176);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_icreate_log,\t\t28);\n\tXFS_CHECK_STRUCT_SIZE(xfs_log_timestamp_t,\t\t8);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_log_legacy_timestamp,\t8);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_inode_log_format_32,\t52);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_inode_log_format,\t56);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_qoff_logformat,\t20);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_trans_header,\t\t16);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_attri_log_format,\t40);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_attrd_log_format,\t16);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_bui_log_format,\t16);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_bud_log_format,\t16);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_cui_log_format,\t16);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_cud_log_format,\t16);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_rui_log_format,\t16);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_rud_log_format,\t16);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_map_extent,\t\t32);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_phys_extent,\t\t16);\n\n\tXFS_CHECK_OFFSET(struct xfs_bui_log_format, bui_extents,\t16);\n\tXFS_CHECK_OFFSET(struct xfs_cui_log_format, cui_extents,\t16);\n\tXFS_CHECK_OFFSET(struct xfs_rui_log_format, rui_extents,\t16);\n\tXFS_CHECK_OFFSET(struct xfs_efi_log_format, efi_extents,\t16);\n\tXFS_CHECK_OFFSET(struct xfs_efi_log_format_32, efi_extents,\t16);\n\tXFS_CHECK_OFFSET(struct xfs_efi_log_format_64, efi_extents,\t16);\n\n\t \n\tXFS_CHECK_OFFSET(struct xfs_dir3_leaf, hdr.info.hdr,\t0);\n\tXFS_CHECK_OFFSET(struct xfs_da3_intnode, hdr.info.hdr,\t0);\n\tXFS_CHECK_OFFSET(struct xfs_dir3_data_hdr, hdr.magic,\t0);\n\tXFS_CHECK_OFFSET(struct xfs_dir3_free, hdr.hdr.magic,\t0);\n\tXFS_CHECK_OFFSET(struct xfs_attr3_leafblock, hdr.info.hdr, 0);\n\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_bulkstat,\t\t192);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_inumbers,\t\t24);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_bulkstat_req,\t\t64);\n\tXFS_CHECK_STRUCT_SIZE(struct xfs_inumbers_req,\t\t64);\n\n\t \n\tXFS_CHECK_VALUE(XFS_BIGTIME_TIME_MIN - XFS_BIGTIME_EPOCH_OFFSET,\n\t\t\tXFS_LEGACY_TIME_MIN);\n\tXFS_CHECK_VALUE(XFS_BIGTIME_TIME_MAX - XFS_BIGTIME_EPOCH_OFFSET,\n\t\t\t16299260424LL);\n\n\t \n\tXFS_CHECK_VALUE(XFS_DQ_BIGTIME_EXPIRY_MIN << XFS_DQ_BIGTIME_SHIFT, 4);\n\tXFS_CHECK_VALUE(XFS_DQ_BIGTIME_EXPIRY_MAX << XFS_DQ_BIGTIME_SHIFT,\n\t\t\t16299260424LL);\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}