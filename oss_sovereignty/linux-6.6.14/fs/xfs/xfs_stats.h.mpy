{
  "module_name": "xfs_stats.h",
  "hash_id": "833bba7d950441d3353551a3161b5aef420ae7440b4ca37dcddf2992d55e51cd",
  "original_prompt": "Ingested from linux-6.6.14/fs/xfs/xfs_stats.h",
  "human_readable_source": "\n \n#ifndef __XFS_STATS_H__\n#define __XFS_STATS_H__\n\n\n#include <linux/percpu.h>\n\n \nenum {\n\t__XBTS_lookup = 0,\n\t__XBTS_compare = 1,\n\t__XBTS_insrec = 2,\n\t__XBTS_delrec = 3,\n\t__XBTS_newroot = 4,\n\t__XBTS_killroot = 5,\n\t__XBTS_increment = 6,\n\t__XBTS_decrement = 7,\n\t__XBTS_lshift = 8,\n\t__XBTS_rshift = 9,\n\t__XBTS_split = 10,\n\t__XBTS_join = 11,\n\t__XBTS_alloc = 12,\n\t__XBTS_free = 13,\n\t__XBTS_moves = 14,\n\n\t__XBTS_MAX = 15,\n};\n\n \nstruct __xfsstats {\n\tuint32_t\t\txs_allocx;\n\tuint32_t\t\txs_allocb;\n\tuint32_t\t\txs_freex;\n\tuint32_t\t\txs_freeb;\n\tuint32_t\t\txs_abt_lookup;\n\tuint32_t\t\txs_abt_compare;\n\tuint32_t\t\txs_abt_insrec;\n\tuint32_t\t\txs_abt_delrec;\n\tuint32_t\t\txs_blk_mapr;\n\tuint32_t\t\txs_blk_mapw;\n\tuint32_t\t\txs_blk_unmap;\n\tuint32_t\t\txs_add_exlist;\n\tuint32_t\t\txs_del_exlist;\n\tuint32_t\t\txs_look_exlist;\n\tuint32_t\t\txs_cmp_exlist;\n\tuint32_t\t\txs_bmbt_lookup;\n\tuint32_t\t\txs_bmbt_compare;\n\tuint32_t\t\txs_bmbt_insrec;\n\tuint32_t\t\txs_bmbt_delrec;\n\tuint32_t\t\txs_dir_lookup;\n\tuint32_t\t\txs_dir_create;\n\tuint32_t\t\txs_dir_remove;\n\tuint32_t\t\txs_dir_getdents;\n\tuint32_t\t\txs_trans_sync;\n\tuint32_t\t\txs_trans_async;\n\tuint32_t\t\txs_trans_empty;\n\tuint32_t\t\txs_ig_attempts;\n\tuint32_t\t\txs_ig_found;\n\tuint32_t\t\txs_ig_frecycle;\n\tuint32_t\t\txs_ig_missed;\n\tuint32_t\t\txs_ig_dup;\n\tuint32_t\t\txs_ig_reclaims;\n\tuint32_t\t\txs_ig_attrchg;\n\tuint32_t\t\txs_log_writes;\n\tuint32_t\t\txs_log_blocks;\n\tuint32_t\t\txs_log_noiclogs;\n\tuint32_t\t\txs_log_force;\n\tuint32_t\t\txs_log_force_sleep;\n\tuint32_t\t\txs_try_logspace;\n\tuint32_t\t\txs_sleep_logspace;\n\tuint32_t\t\txs_push_ail;\n\tuint32_t\t\txs_push_ail_success;\n\tuint32_t\t\txs_push_ail_pushbuf;\n\tuint32_t\t\txs_push_ail_pinned;\n\tuint32_t\t\txs_push_ail_locked;\n\tuint32_t\t\txs_push_ail_flushing;\n\tuint32_t\t\txs_push_ail_restarts;\n\tuint32_t\t\txs_push_ail_flush;\n\tuint32_t\t\txs_xstrat_quick;\n\tuint32_t\t\txs_xstrat_split;\n\tuint32_t\t\txs_write_calls;\n\tuint32_t\t\txs_read_calls;\n\tuint32_t\t\txs_attr_get;\n\tuint32_t\t\txs_attr_set;\n\tuint32_t\t\txs_attr_remove;\n\tuint32_t\t\txs_attr_list;\n\tuint32_t\t\txs_iflush_count;\n\tuint32_t\t\txs_icluster_flushcnt;\n\tuint32_t\t\txs_icluster_flushinode;\n\tuint32_t\t\tvn_active;\t \n\tuint32_t\t\tvn_alloc;\t \n\tuint32_t\t\tvn_get;\t\t \n\tuint32_t\t\tvn_hold;\t \n\tuint32_t\t\tvn_rele;\t \n\tuint32_t\t\tvn_reclaim;\t \n\tuint32_t\t\tvn_remove;\t \n\tuint32_t\t\tvn_free;\t \n\tuint32_t\t\txb_get;\n\tuint32_t\t\txb_create;\n\tuint32_t\t\txb_get_locked;\n\tuint32_t\t\txb_get_locked_waited;\n\tuint32_t\t\txb_busy_locked;\n\tuint32_t\t\txb_miss_locked;\n\tuint32_t\t\txb_page_retries;\n\tuint32_t\t\txb_page_found;\n\tuint32_t\t\txb_get_read;\n \n\tuint32_t\t\txs_abtb_2[__XBTS_MAX];\n\tuint32_t\t\txs_abtc_2[__XBTS_MAX];\n\tuint32_t\t\txs_bmbt_2[__XBTS_MAX];\n\tuint32_t\t\txs_ibt_2[__XBTS_MAX];\n\tuint32_t\t\txs_fibt_2[__XBTS_MAX];\n\tuint32_t\t\txs_rmap_2[__XBTS_MAX];\n\tuint32_t\t\txs_refcbt_2[__XBTS_MAX];\n\tuint32_t\t\txs_qm_dqreclaims;\n\tuint32_t\t\txs_qm_dqreclaim_misses;\n\tuint32_t\t\txs_qm_dquot_dups;\n\tuint32_t\t\txs_qm_dqcachemisses;\n\tuint32_t\t\txs_qm_dqcachehits;\n\tuint32_t\t\txs_qm_dqwants;\n\tuint32_t\t\txs_qm_dquot;\n\tuint32_t\t\txs_qm_dquot_unused;\n \n\tuint64_t\t\txs_xstrat_bytes;\n\tuint64_t\t\txs_write_bytes;\n\tuint64_t\t\txs_read_bytes;\n\tuint64_t\t\tdefer_relog;\n};\n\n#define\txfsstats_offset(f)\t(offsetof(struct __xfsstats, f)/sizeof(uint32_t))\n\nstruct xfsstats {\n\tunion {\n\t\tstruct __xfsstats\ts;\n\t\tuint32_t\t\ta[xfsstats_offset(xs_qm_dquot)];\n\t};\n};\n\n \n#define XFS_STATS_CALC_INDEX(member)\t\\\n\t(offsetof(struct __xfsstats, member) / (int)sizeof(uint32_t))\n\n\nint xfs_stats_format(struct xfsstats __percpu *stats, char *buf);\nvoid xfs_stats_clearall(struct xfsstats __percpu *stats);\nextern struct xstats xfsstats;\n\n#define XFS_STATS_INC(mp, v)\t\t\t\t\t\\\ndo {\t\t\t\t\t\t\t\t\\\n\tper_cpu_ptr(xfsstats.xs_stats, current_cpu())->s.v++;\t\\\n\tper_cpu_ptr(mp->m_stats.xs_stats, current_cpu())->s.v++;\t\\\n} while (0)\n\n#define XFS_STATS_DEC(mp, v)\t\t\t\t\t\\\ndo {\t\t\t\t\t\t\t\t\\\n\tper_cpu_ptr(xfsstats.xs_stats, current_cpu())->s.v--;\t\\\n\tper_cpu_ptr(mp->m_stats.xs_stats, current_cpu())->s.v--;\t\\\n} while (0)\n\n#define XFS_STATS_ADD(mp, v, inc)\t\t\t\t\t\\\ndo {\t\t\t\t\t\t\t\t\t\\\n\tper_cpu_ptr(xfsstats.xs_stats, current_cpu())->s.v += (inc);\t\\\n\tper_cpu_ptr(mp->m_stats.xs_stats, current_cpu())->s.v += (inc);\t\\\n} while (0)\n\n#define XFS_STATS_INC_OFF(mp, off)\t\t\t\t\\\ndo {\t\t\t\t\t\t\t\t\\\n\tper_cpu_ptr(xfsstats.xs_stats, current_cpu())->a[off]++;\t\\\n\tper_cpu_ptr(mp->m_stats.xs_stats, current_cpu())->a[off]++;\t\\\n} while (0)\n\n#define XFS_STATS_DEC_OFF(mp, off)\t\t\t\t\t\\\ndo {\t\t\t\t\t\t\t\t\\\n\tper_cpu_ptr(xfsstats.xs_stats, current_cpu())->a[off];\t\\\n\tper_cpu_ptr(mp->m_stats.xs_stats, current_cpu())->a[off];\t\\\n} while (0)\n\n#define XFS_STATS_ADD_OFF(mp, off, inc)\t\t\t\t\t\\\ndo {\t\t\t\t\t\t\t\t\t\\\n\tper_cpu_ptr(xfsstats.xs_stats, current_cpu())->a[off] += (inc);\t\\\n\tper_cpu_ptr(mp->m_stats.xs_stats, current_cpu())->a[off] += (inc);\t\\\n} while (0)\n\n#if defined(CONFIG_PROC_FS)\n\nextern int xfs_init_procfs(void);\nextern void xfs_cleanup_procfs(void);\n\n\n#else\t \n\nstatic inline int xfs_init_procfs(void)\n{\n\treturn 0;\n}\n\nstatic inline void xfs_cleanup_procfs(void)\n{\n}\n\n#endif\t \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}