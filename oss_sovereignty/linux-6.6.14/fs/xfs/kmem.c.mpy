{
  "module_name": "kmem.c",
  "hash_id": "d282709f9bbe6449ed24885f81760b37b94ebf91cb880cddb22b8de7bc29a784",
  "original_prompt": "Ingested from linux-6.6.14/fs/xfs/kmem.c",
  "human_readable_source": "\n \n#include \"xfs.h\"\n#include \"xfs_message.h\"\n#include \"xfs_trace.h\"\n\nvoid *\nkmem_alloc(size_t size, xfs_km_flags_t flags)\n{\n\tint\tretries = 0;\n\tgfp_t\tlflags = kmem_flags_convert(flags);\n\tvoid\t*ptr;\n\n\ttrace_kmem_alloc(size, flags, _RET_IP_);\n\n\tdo {\n\t\tptr = kmalloc(size, lflags);\n\t\tif (ptr || (flags & KM_MAYFAIL))\n\t\t\treturn ptr;\n\t\tif (!(++retries % 100))\n\t\t\txfs_err(NULL,\n\t\"%s(%u) possible memory allocation deadlock size %u in %s (mode:0x%x)\",\n\t\t\t\tcurrent->comm, current->pid,\n\t\t\t\t(unsigned int)size, __func__, lflags);\n\t\tmemalloc_retry_wait(lflags);\n\t} while (1);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}