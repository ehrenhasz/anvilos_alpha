{
  "module_name": "xfs_message.c",
  "hash_id": "d96b825bd8225cc8a6b9edd93cc74c141cd52f6d113dfe6e7cb2fea8ddcc43b4",
  "original_prompt": "Ingested from linux-6.6.14/fs/xfs/xfs_message.c",
  "human_readable_source": "\n \n\n#include \"xfs.h\"\n#include \"xfs_fs.h\"\n#include \"xfs_error.h\"\n#include \"xfs_shared.h\"\n#include \"xfs_format.h\"\n#include \"xfs_trans_resv.h\"\n#include \"xfs_mount.h\"\n\n \nstatic void\n__xfs_printk(\n\tconst char\t\t*level,\n\tconst struct xfs_mount\t*mp,\n\tstruct va_format\t*vaf)\n{\n\tif (mp && mp->m_super) {\n\t\tprintk(\"%sXFS (%s): %pV\\n\", level, mp->m_super->s_id, vaf);\n\t\treturn;\n\t}\n\tprintk(\"%sXFS: %pV\\n\", level, vaf);\n}\n\nvoid\nxfs_printk_level(\n\tconst char *kern_level,\n\tconst struct xfs_mount *mp,\n\tconst char *fmt, ...)\n{\n\tstruct va_format\tvaf;\n\tva_list\t\t\targs;\n\tint\t\t\tlevel;\n\n\tva_start(args, fmt);\n\tvaf.fmt = fmt;\n\tvaf.va = &args;\n\n\t__xfs_printk(kern_level, mp, &vaf);\n\n\tva_end(args);\n\n\tif (!kstrtoint(kern_level, 0, &level) &&\n\t    level <= LOGLEVEL_ERR &&\n\t    xfs_error_level >= XFS_ERRLEVEL_HIGH)\n\t\txfs_stack_trace();\n}\n\nvoid\n_xfs_alert_tag(\n\tconst struct xfs_mount\t*mp,\n\tuint32_t\t\tpanic_tag,\n\tconst char\t\t*fmt, ...)\n{\n\tstruct va_format\tvaf;\n\tva_list\t\t\targs;\n\tint\t\t\tdo_panic = 0;\n\n\tif (xfs_panic_mask && (xfs_panic_mask & panic_tag)) {\n\t\txfs_alert(mp, \"Transforming an alert into a BUG.\");\n\t\tdo_panic = 1;\n\t}\n\n\tva_start(args, fmt);\n\n\tvaf.fmt = fmt;\n\tvaf.va = &args;\n\n\t__xfs_printk(KERN_ALERT, mp, &vaf);\n\tva_end(args);\n\n\tBUG_ON(do_panic);\n}\n\nvoid\nasswarn(\n\tstruct xfs_mount\t*mp,\n\tchar\t\t\t*expr,\n\tchar\t\t\t*file,\n\tint\t\t\tline)\n{\n\txfs_warn(mp, \"Assertion failed: %s, file: %s, line: %d\",\n\t\texpr, file, line);\n\tWARN_ON(1);\n}\n\nvoid\nassfail(\n\tstruct xfs_mount\t*mp,\n\tchar\t\t\t*expr,\n\tchar\t\t\t*file,\n\tint\t\t\tline)\n{\n\txfs_emerg(mp, \"Assertion failed: %s, file: %s, line: %d\",\n\t\texpr, file, line);\n\tif (xfs_globals.bug_on_assert)\n\t\tBUG();\n\telse\n\t\tWARN_ON(1);\n}\n\nvoid\nxfs_hex_dump(const void *p, int length)\n{\n\tprint_hex_dump(KERN_ALERT, \"\", DUMP_PREFIX_OFFSET, 16, 1, p, length, 1);\n}\n\nvoid\nxfs_buf_alert_ratelimited(\n\tstruct xfs_buf\t\t*bp,\n\tconst char\t\t*rlmsg,\n\tconst char\t\t*fmt,\n\t...)\n{\n\tstruct xfs_mount\t*mp = bp->b_mount;\n\tstruct va_format\tvaf;\n\tva_list\t\t\targs;\n\n\t \n\tif (!___ratelimit(&bp->b_target->bt_ioerror_rl, rlmsg))\n\t\treturn;\n\n\tva_start(args, fmt);\n\tvaf.fmt = fmt;\n\tvaf.va = &args;\n\t__xfs_printk(KERN_ALERT, mp, &vaf);\n\tva_end(args);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}