{
  "module_name": "xfs_log_format.h",
  "hash_id": "fc8b09c69dceb425054190b2e6ff0e59d1fa856f1021d1a23b7920673c57becd",
  "original_prompt": "Ingested from linux-6.6.14/fs/xfs/libxfs/xfs_log_format.h",
  "human_readable_source": "\n \n#ifndef\t__XFS_LOG_FORMAT_H__\n#define __XFS_LOG_FORMAT_H__\n\nstruct xfs_mount;\nstruct xfs_trans_res;\n\n \ntypedef uint32_t xlog_tid_t;\n\n#define XLOG_MIN_ICLOGS\t\t2\n#define XLOG_MAX_ICLOGS\t\t8\n#define XLOG_HEADER_MAGIC_NUM\t0xFEEDbabe\t \n#define XLOG_VERSION_1\t\t1\n#define XLOG_VERSION_2\t\t2\t\t \n#define XLOG_VERSION_OKBITS\t(XLOG_VERSION_1 | XLOG_VERSION_2)\n#define XLOG_MIN_RECORD_BSIZE\t(16*1024)\t \n#define XLOG_BIG_RECORD_BSIZE\t(32*1024)\t \n#define XLOG_MAX_RECORD_BSIZE\t(256*1024)\n#define XLOG_HEADER_CYCLE_SIZE\t(32*1024)\t \n#define XLOG_MIN_RECORD_BSHIFT\t14\t\t \n#define XLOG_BIG_RECORD_BSHIFT\t15\t\t \n#define XLOG_MAX_RECORD_BSHIFT\t18\t\t \n\n#define XLOG_HEADER_SIZE\t512\n\n \n#define XFS_MIN_LOG_FACTOR\t3\n\n#define XLOG_REC_SHIFT(log) \\\n\tBTOBB(1 << (xfs_has_logv2(log->l_mp) ? \\\n\t XLOG_MAX_RECORD_BSHIFT : XLOG_BIG_RECORD_BSHIFT))\n#define XLOG_TOTAL_REC_SHIFT(log) \\\n\tBTOBB(XLOG_MAX_ICLOGS << (xfs_has_logv2(log->l_mp) ? \\\n\t XLOG_MAX_RECORD_BSHIFT : XLOG_BIG_RECORD_BSHIFT))\n\n \n#define CYCLE_LSN(lsn) ((uint)((lsn)>>32))\n#define BLOCK_LSN(lsn) ((uint)(lsn))\n\n \n#define CYCLE_LSN_DISK(lsn) (((__be32 *)&(lsn))[0])\n\nstatic inline xfs_lsn_t xlog_assign_lsn(uint cycle, uint block)\n{\n\treturn ((xfs_lsn_t)cycle << 32) | block;\n}\n\nstatic inline uint xlog_get_cycle(char *ptr)\n{\n\tif (be32_to_cpu(*(__be32 *)ptr) == XLOG_HEADER_MAGIC_NUM)\n\t\treturn be32_to_cpu(*((__be32 *)ptr + 1));\n\telse\n\t\treturn be32_to_cpu(*(__be32 *)ptr);\n}\n\n \n#define XFS_TRANSACTION\t\t0x69\n#define XFS_LOG\t\t\t0xaa\n\n#define XLOG_UNMOUNT_TYPE\t0x556e\t \n\n \nstruct xfs_unmount_log_format {\n\tuint16_t\tmagic;\t \n\tuint16_t\tpad1;\n\tuint32_t\tpad2;\t \n};\n\n \n#define XLOG_REG_TYPE_BFORMAT\t\t1\n#define XLOG_REG_TYPE_BCHUNK\t\t2\n#define XLOG_REG_TYPE_EFI_FORMAT\t3\n#define XLOG_REG_TYPE_EFD_FORMAT\t4\n#define XLOG_REG_TYPE_IFORMAT\t\t5\n#define XLOG_REG_TYPE_ICORE\t\t6\n#define XLOG_REG_TYPE_IEXT\t\t7\n#define XLOG_REG_TYPE_IBROOT\t\t8\n#define XLOG_REG_TYPE_ILOCAL\t\t9\n#define XLOG_REG_TYPE_IATTR_EXT\t\t10\n#define XLOG_REG_TYPE_IATTR_BROOT\t11\n#define XLOG_REG_TYPE_IATTR_LOCAL\t12\n#define XLOG_REG_TYPE_QFORMAT\t\t13\n#define XLOG_REG_TYPE_DQUOT\t\t14\n#define XLOG_REG_TYPE_QUOTAOFF\t\t15\n#define XLOG_REG_TYPE_LRHEADER\t\t16\n#define XLOG_REG_TYPE_UNMOUNT\t\t17\n#define XLOG_REG_TYPE_COMMIT\t\t18\n#define XLOG_REG_TYPE_TRANSHDR\t\t19\n#define XLOG_REG_TYPE_ICREATE\t\t20\n#define XLOG_REG_TYPE_RUI_FORMAT\t21\n#define XLOG_REG_TYPE_RUD_FORMAT\t22\n#define XLOG_REG_TYPE_CUI_FORMAT\t23\n#define XLOG_REG_TYPE_CUD_FORMAT\t24\n#define XLOG_REG_TYPE_BUI_FORMAT\t25\n#define XLOG_REG_TYPE_BUD_FORMAT\t26\n#define XLOG_REG_TYPE_ATTRI_FORMAT\t27\n#define XLOG_REG_TYPE_ATTRD_FORMAT\t28\n#define XLOG_REG_TYPE_ATTR_NAME\t29\n#define XLOG_REG_TYPE_ATTR_VALUE\t30\n#define XLOG_REG_TYPE_MAX\t\t30\n\n\n \n#define XLOG_START_TRANS\t0x01\t \n#define XLOG_COMMIT_TRANS\t0x02\t \n#define XLOG_CONTINUE_TRANS\t0x04\t \n#define XLOG_WAS_CONT_TRANS\t0x08\t \n#define XLOG_END_TRANS\t\t0x10\t \n#define XLOG_UNMOUNT_TRANS\t0x20\t \n\n\ntypedef struct xlog_op_header {\n\t__be32\t   oh_tid;\t \n\t__be32\t   oh_len;\t \n\t__u8\t   oh_clientid;\t \n\t__u8\t   oh_flags;\t \n\t__u16\t   oh_res2;\t \n} xlog_op_header_t;\n\n \n#define XLOG_FMT_UNKNOWN  0\n#define XLOG_FMT_LINUX_LE 1\n#define XLOG_FMT_LINUX_BE 2\n#define XLOG_FMT_IRIX_BE  3\n\n \n#ifdef XFS_NATIVE_HOST\n#define XLOG_FMT XLOG_FMT_LINUX_BE\n#else\n#define XLOG_FMT XLOG_FMT_LINUX_LE\n#endif\n\ntypedef struct xlog_rec_header {\n\t__be32\t  h_magicno;\t \n\t__be32\t  h_cycle;\t \n\t__be32\t  h_version;\t \n\t__be32\t  h_len;\t \n\t__be64\t  h_lsn;\t \n\t__be64\t  h_tail_lsn;\t \n\t__le32\t  h_crc;\t \n\t__be32\t  h_prev_block;  \n\t__be32\t  h_num_logops;\t \n\t__be32\t  h_cycle_data[XLOG_HEADER_CYCLE_SIZE / BBSIZE];\n\t \n\t__be32    h_fmt;         \n\tuuid_t\t  h_fs_uuid;     \n\t__be32\t  h_size;\t \n} xlog_rec_header_t;\n\ntypedef struct xlog_rec_ext_header {\n\t__be32\t  xh_cycle;\t \n\t__be32\t  xh_cycle_data[XLOG_HEADER_CYCLE_SIZE / BBSIZE];  \n} xlog_rec_ext_header_t;\n\n \ntypedef union xlog_in_core2 {\n\txlog_rec_header_t\thic_header;\n\txlog_rec_ext_header_t\thic_xheader;\n\tchar\t\t\thic_sector[XLOG_HEADER_SIZE];\n} xlog_in_core_2_t;\n\n \ntypedef struct xfs_log_iovec {\n\tvoid\t\t*i_addr;\t \n\tint\t\ti_len;\t\t \n\tuint\t\ti_type;\t\t \n} xfs_log_iovec_t;\n\n\n \ntypedef struct xfs_trans_header {\n\tuint\t\tth_magic;\t\t \n\tuint\t\tth_type;\t\t \n\tint32_t\t\tth_tid;\t\t\t \n\tuint\t\tth_num_items;\t\t \n} xfs_trans_header_t;\n\n#define\tXFS_TRANS_HEADER_MAGIC\t0x5452414e\t \n\n \n#define XFS_TRANS_CHECKPOINT\t40\n\n \n#define\tXFS_LI_EFI\t\t0x1236\n#define\tXFS_LI_EFD\t\t0x1237\n#define\tXFS_LI_IUNLINK\t\t0x1238\n#define\tXFS_LI_INODE\t\t0x123b\t \n#define\tXFS_LI_BUF\t\t0x123c\t \n#define\tXFS_LI_DQUOT\t\t0x123d\n#define\tXFS_LI_QUOTAOFF\t\t0x123e\n#define\tXFS_LI_ICREATE\t\t0x123f\n#define\tXFS_LI_RUI\t\t0x1240\t \n#define\tXFS_LI_RUD\t\t0x1241\n#define\tXFS_LI_CUI\t\t0x1242\t \n#define\tXFS_LI_CUD\t\t0x1243\n#define\tXFS_LI_BUI\t\t0x1244\t \n#define\tXFS_LI_BUD\t\t0x1245\n#define\tXFS_LI_ATTRI\t\t0x1246   \n#define\tXFS_LI_ATTRD\t\t0x1247   \n\n#define XFS_LI_TYPE_DESC \\\n\t{ XFS_LI_EFI,\t\t\"XFS_LI_EFI\" }, \\\n\t{ XFS_LI_EFD,\t\t\"XFS_LI_EFD\" }, \\\n\t{ XFS_LI_IUNLINK,\t\"XFS_LI_IUNLINK\" }, \\\n\t{ XFS_LI_INODE,\t\t\"XFS_LI_INODE\" }, \\\n\t{ XFS_LI_BUF,\t\t\"XFS_LI_BUF\" }, \\\n\t{ XFS_LI_DQUOT,\t\t\"XFS_LI_DQUOT\" }, \\\n\t{ XFS_LI_QUOTAOFF,\t\"XFS_LI_QUOTAOFF\" }, \\\n\t{ XFS_LI_ICREATE,\t\"XFS_LI_ICREATE\" }, \\\n\t{ XFS_LI_RUI,\t\t\"XFS_LI_RUI\" }, \\\n\t{ XFS_LI_RUD,\t\t\"XFS_LI_RUD\" }, \\\n\t{ XFS_LI_CUI,\t\t\"XFS_LI_CUI\" }, \\\n\t{ XFS_LI_CUD,\t\t\"XFS_LI_CUD\" }, \\\n\t{ XFS_LI_BUI,\t\t\"XFS_LI_BUI\" }, \\\n\t{ XFS_LI_BUD,\t\t\"XFS_LI_BUD\" }, \\\n\t{ XFS_LI_ATTRI,\t\t\"XFS_LI_ATTRI\" }, \\\n\t{ XFS_LI_ATTRD,\t\t\"XFS_LI_ATTRD\" }\n\n \nstruct xfs_inode_log_format {\n\tuint16_t\t\tilf_type;\t \n\tuint16_t\t\tilf_size;\t \n\tuint32_t\t\tilf_fields;\t \n\tuint16_t\t\tilf_asize;\t \n\tuint16_t\t\tilf_dsize;\t \n\tuint32_t\t\tilf_pad;\t \n\tuint64_t\t\tilf_ino;\t \n\tunion {\n\t\tuint32_t\tilfu_rdev;\t \n\t\tuint8_t\t\t__pad[16];\t \n\t} ilf_u;\n\tint64_t\t\t\tilf_blkno;\t \n\tint32_t\t\t\tilf_len;\t \n\tint32_t\t\t\tilf_boffset;\t \n};\n\n \nstruct xfs_inode_log_format_32 {\n\tuint16_t\t\tilf_type;\t \n\tuint16_t\t\tilf_size;\t \n\tuint32_t\t\tilf_fields;\t \n\tuint16_t\t\tilf_asize;\t \n\tuint16_t\t\tilf_dsize;\t \n\tuint64_t\t\tilf_ino;\t \n\tunion {\n\t\tuint32_t\tilfu_rdev;\t \n\t\tuint8_t\t\t__pad[16];\t \n\t} ilf_u;\n\tint64_t\t\t\tilf_blkno;\t \n\tint32_t\t\t\tilf_len;\t \n\tint32_t\t\t\tilf_boffset;\t \n} __attribute__((packed));\n\n\n \n#define\tXFS_ILOG_CORE\t0x001\t \n#define\tXFS_ILOG_DDATA\t0x002\t \n#define\tXFS_ILOG_DEXT\t0x004\t \n#define\tXFS_ILOG_DBROOT\t0x008\t \n#define\tXFS_ILOG_DEV\t0x010\t \n#define\tXFS_ILOG_UUID\t0x020\t \n#define\tXFS_ILOG_ADATA\t0x040\t \n#define\tXFS_ILOG_AEXT\t0x080\t \n#define\tXFS_ILOG_ABROOT\t0x100\t \n#define XFS_ILOG_DOWNER\t0x200\t \n#define XFS_ILOG_AOWNER\t0x400\t \n\n \n#define XFS_ILOG_TIMESTAMP\t0x4000\n\n \n#define XFS_ILOG_IVERSION\t0x8000\n\n#define\tXFS_ILOG_NONCORE\t(XFS_ILOG_DDATA | XFS_ILOG_DEXT | \\\n\t\t\t\t XFS_ILOG_DBROOT | XFS_ILOG_DEV | \\\n\t\t\t\t XFS_ILOG_ADATA | XFS_ILOG_AEXT | \\\n\t\t\t\t XFS_ILOG_ABROOT | XFS_ILOG_DOWNER | \\\n\t\t\t\t XFS_ILOG_AOWNER)\n\n#define\tXFS_ILOG_DFORK\t\t(XFS_ILOG_DDATA | XFS_ILOG_DEXT | \\\n\t\t\t\t XFS_ILOG_DBROOT)\n\n#define\tXFS_ILOG_AFORK\t\t(XFS_ILOG_ADATA | XFS_ILOG_AEXT | \\\n\t\t\t\t XFS_ILOG_ABROOT)\n\n#define\tXFS_ILOG_ALL\t\t(XFS_ILOG_CORE | XFS_ILOG_DDATA | \\\n\t\t\t\t XFS_ILOG_DEXT | XFS_ILOG_DBROOT | \\\n\t\t\t\t XFS_ILOG_DEV | XFS_ILOG_ADATA | \\\n\t\t\t\t XFS_ILOG_AEXT | XFS_ILOG_ABROOT | \\\n\t\t\t\t XFS_ILOG_TIMESTAMP | XFS_ILOG_DOWNER | \\\n\t\t\t\t XFS_ILOG_AOWNER)\n\nstatic inline int xfs_ilog_fbroot(int w)\n{\n\treturn (w == XFS_DATA_FORK ? XFS_ILOG_DBROOT : XFS_ILOG_ABROOT);\n}\n\nstatic inline int xfs_ilog_fext(int w)\n{\n\treturn (w == XFS_DATA_FORK ? XFS_ILOG_DEXT : XFS_ILOG_AEXT);\n}\n\nstatic inline int xfs_ilog_fdata(int w)\n{\n\treturn (w == XFS_DATA_FORK ? XFS_ILOG_DDATA : XFS_ILOG_ADATA);\n}\n\n \ntypedef uint64_t xfs_log_timestamp_t;\n\n \nstruct xfs_log_legacy_timestamp {\n\tint32_t\t\tt_sec;\t\t \n\tint32_t\t\tt_nsec;\t\t \n};\n\n \nstruct xfs_log_dinode {\n\tuint16_t\tdi_magic;\t \n\tuint16_t\tdi_mode;\t \n\tint8_t\t\tdi_version;\t \n\tint8_t\t\tdi_format;\t \n\tuint8_t\t\tdi_pad3[2];\t \n\tuint32_t\tdi_uid;\t\t \n\tuint32_t\tdi_gid;\t\t \n\tuint32_t\tdi_nlink;\t \n\tuint16_t\tdi_projid_lo;\t \n\tuint16_t\tdi_projid_hi;\t \n\tunion {\n\t\t \n\t\tuint64_t\tdi_big_nextents;\n\n\t\t \n\t\tuint64_t\tdi_v3_pad;\n\n\t\t \n\t\tstruct {\n\t\t\tuint8_t\tdi_v2_pad[6];\t \n\t\t\tuint16_t di_flushiter;\t \n\t\t};\n\t};\n\txfs_log_timestamp_t di_atime;\t \n\txfs_log_timestamp_t di_mtime;\t \n\txfs_log_timestamp_t di_ctime;\t \n\txfs_fsize_t\tdi_size;\t \n\txfs_rfsblock_t\tdi_nblocks;\t \n\txfs_extlen_t\tdi_extsize;\t \n\tunion {\n\t\t \n\t\tstruct {\n\t\t\tuint32_t  di_nextents;\n\t\t\tuint16_t  di_anextents;\n\t\t} __packed;\n\n\t\t \n\t\tstruct {\n\t\t\tuint32_t  di_big_anextents;\n\t\t\tuint16_t  di_nrext64_pad;\n\t\t} __packed;\n\t} __packed;\n\tuint8_t\t\tdi_forkoff;\t \n\tint8_t\t\tdi_aformat;\t \n\tuint32_t\tdi_dmevmask;\t \n\tuint16_t\tdi_dmstate;\t \n\tuint16_t\tdi_flags;\t \n\tuint32_t\tdi_gen;\t\t \n\n\t \n\txfs_agino_t\tdi_next_unlinked; \n\n\t \n\tuint32_t\tdi_crc;\t\t \n\tuint64_t\tdi_changecount;\t \n\n\t \n\txfs_lsn_t\tdi_lsn;\n\n\tuint64_t\tdi_flags2;\t \n\tuint32_t\tdi_cowextsize;\t \n\tuint8_t\t\tdi_pad2[12];\t \n\n\t \n\txfs_log_timestamp_t di_crtime;\t \n\txfs_ino_t\tdi_ino;\t\t \n\tuuid_t\t\tdi_uuid;\t \n\n\t \n};\n\n#define xfs_log_dinode_size(mp)\t\t\t\t\t\t\\\n\t(xfs_has_v3inodes((mp)) ?\t\t\t\t\t\\\n\t\tsizeof(struct xfs_log_dinode) :\t\t\t\t\\\n\t\toffsetof(struct xfs_log_dinode, di_next_unlinked))\n\n \n#define\tXFS_BLF_CHUNK\t\t128\n#define\tXFS_BLF_SHIFT\t\t7\n#define\tBIT_TO_WORD_SHIFT\t5\n#define\tNBWORD\t\t\t(NBBY * sizeof(unsigned int))\n\n \n#define\tXFS_BLF_INODE_BUF\t(1<<0)\n\n \n#define\tXFS_BLF_CANCEL\t\t(1<<1)\n\n \n#define\tXFS_BLF_UDQUOT_BUF\t(1<<2)\n#define XFS_BLF_PDQUOT_BUF\t(1<<3)\n#define\tXFS_BLF_GDQUOT_BUF\t(1<<4)\n\n \n#define __XFS_BLF_DATAMAP_SIZE\t((XFS_MAX_BLOCKSIZE / XFS_BLF_CHUNK) / NBWORD)\n#define XFS_BLF_DATAMAP_SIZE\t(__XFS_BLF_DATAMAP_SIZE + 1)\n\ntypedef struct xfs_buf_log_format {\n\tunsigned short\tblf_type;\t \n\tunsigned short\tblf_size;\t \n\tunsigned short\tblf_flags;\t \n\tunsigned short\tblf_len;\t \n\tint64_t\t\tblf_blkno;\t \n\tunsigned int\tblf_map_size;\t \n\tunsigned int\tblf_data_map[XFS_BLF_DATAMAP_SIZE];  \n} xfs_buf_log_format_t;\n\n \n#define XFS_BLFT_BITS\t5\n#define XFS_BLFT_SHIFT\t11\n#define XFS_BLFT_MASK\t(((1 << XFS_BLFT_BITS) - 1) << XFS_BLFT_SHIFT)\n\nenum xfs_blft {\n\tXFS_BLFT_UNKNOWN_BUF = 0,\n\tXFS_BLFT_UDQUOT_BUF,\n\tXFS_BLFT_PDQUOT_BUF,\n\tXFS_BLFT_GDQUOT_BUF,\n\tXFS_BLFT_BTREE_BUF,\n\tXFS_BLFT_AGF_BUF,\n\tXFS_BLFT_AGFL_BUF,\n\tXFS_BLFT_AGI_BUF,\n\tXFS_BLFT_DINO_BUF,\n\tXFS_BLFT_SYMLINK_BUF,\n\tXFS_BLFT_DIR_BLOCK_BUF,\n\tXFS_BLFT_DIR_DATA_BUF,\n\tXFS_BLFT_DIR_FREE_BUF,\n\tXFS_BLFT_DIR_LEAF1_BUF,\n\tXFS_BLFT_DIR_LEAFN_BUF,\n\tXFS_BLFT_DA_NODE_BUF,\n\tXFS_BLFT_ATTR_LEAF_BUF,\n\tXFS_BLFT_ATTR_RMT_BUF,\n\tXFS_BLFT_SB_BUF,\n\tXFS_BLFT_RTBITMAP_BUF,\n\tXFS_BLFT_RTSUMMARY_BUF,\n\tXFS_BLFT_MAX_BUF = (1 << XFS_BLFT_BITS),\n};\n\nstatic inline void\nxfs_blft_to_flags(struct xfs_buf_log_format *blf, enum xfs_blft type)\n{\n\tASSERT(type > XFS_BLFT_UNKNOWN_BUF && type < XFS_BLFT_MAX_BUF);\n\tblf->blf_flags &= ~XFS_BLFT_MASK;\n\tblf->blf_flags |= ((type << XFS_BLFT_SHIFT) & XFS_BLFT_MASK);\n}\n\nstatic inline uint16_t\nxfs_blft_from_flags(struct xfs_buf_log_format *blf)\n{\n\treturn (blf->blf_flags & XFS_BLFT_MASK) >> XFS_BLFT_SHIFT;\n}\n\n \ntypedef struct xfs_extent {\n\txfs_fsblock_t\text_start;\n\txfs_extlen_t\text_len;\n} xfs_extent_t;\n\n \ntypedef struct xfs_extent_32 {\n\tuint64_t\text_start;\n\tuint32_t\text_len;\n} __attribute__((packed)) xfs_extent_32_t;\n\ntypedef struct xfs_extent_64 {\n\tuint64_t\text_start;\n\tuint32_t\text_len;\n\tuint32_t\text_pad;\n} xfs_extent_64_t;\n\n \ntypedef struct xfs_efi_log_format {\n\tuint16_t\t\tefi_type;\t \n\tuint16_t\t\tefi_size;\t \n\tuint32_t\t\tefi_nextents;\t \n\tuint64_t\t\tefi_id;\t\t \n\txfs_extent_t\t\tefi_extents[];\t \n} xfs_efi_log_format_t;\n\nstatic inline size_t\nxfs_efi_log_format_sizeof(\n\tunsigned int\t\tnr)\n{\n\treturn sizeof(struct xfs_efi_log_format) +\n\t\t\tnr * sizeof(struct xfs_extent);\n}\n\ntypedef struct xfs_efi_log_format_32 {\n\tuint16_t\t\tefi_type;\t \n\tuint16_t\t\tefi_size;\t \n\tuint32_t\t\tefi_nextents;\t \n\tuint64_t\t\tefi_id;\t\t \n\txfs_extent_32_t\t\tefi_extents[];\t \n} __attribute__((packed)) xfs_efi_log_format_32_t;\n\nstatic inline size_t\nxfs_efi_log_format32_sizeof(\n\tunsigned int\t\tnr)\n{\n\treturn sizeof(struct xfs_efi_log_format_32) +\n\t\t\tnr * sizeof(struct xfs_extent_32);\n}\n\ntypedef struct xfs_efi_log_format_64 {\n\tuint16_t\t\tefi_type;\t \n\tuint16_t\t\tefi_size;\t \n\tuint32_t\t\tefi_nextents;\t \n\tuint64_t\t\tefi_id;\t\t \n\txfs_extent_64_t\t\tefi_extents[];\t \n} xfs_efi_log_format_64_t;\n\nstatic inline size_t\nxfs_efi_log_format64_sizeof(\n\tunsigned int\t\tnr)\n{\n\treturn sizeof(struct xfs_efi_log_format_64) +\n\t\t\tnr * sizeof(struct xfs_extent_64);\n}\n\n \ntypedef struct xfs_efd_log_format {\n\tuint16_t\t\tefd_type;\t \n\tuint16_t\t\tefd_size;\t \n\tuint32_t\t\tefd_nextents;\t \n\tuint64_t\t\tefd_efi_id;\t \n\txfs_extent_t\t\tefd_extents[];\t \n} xfs_efd_log_format_t;\n\nstatic inline size_t\nxfs_efd_log_format_sizeof(\n\tunsigned int\t\tnr)\n{\n\treturn sizeof(struct xfs_efd_log_format) +\n\t\t\tnr * sizeof(struct xfs_extent);\n}\n\ntypedef struct xfs_efd_log_format_32 {\n\tuint16_t\t\tefd_type;\t \n\tuint16_t\t\tefd_size;\t \n\tuint32_t\t\tefd_nextents;\t \n\tuint64_t\t\tefd_efi_id;\t \n\txfs_extent_32_t\t\tefd_extents[];\t \n} __attribute__((packed)) xfs_efd_log_format_32_t;\n\nstatic inline size_t\nxfs_efd_log_format32_sizeof(\n\tunsigned int\t\tnr)\n{\n\treturn sizeof(struct xfs_efd_log_format_32) +\n\t\t\tnr * sizeof(struct xfs_extent_32);\n}\n\ntypedef struct xfs_efd_log_format_64 {\n\tuint16_t\t\tefd_type;\t \n\tuint16_t\t\tefd_size;\t \n\tuint32_t\t\tefd_nextents;\t \n\tuint64_t\t\tefd_efi_id;\t \n\txfs_extent_64_t\t\tefd_extents[];\t \n} xfs_efd_log_format_64_t;\n\nstatic inline size_t\nxfs_efd_log_format64_sizeof(\n\tunsigned int\t\tnr)\n{\n\treturn sizeof(struct xfs_efd_log_format_64) +\n\t\t\tnr * sizeof(struct xfs_extent_64);\n}\n\n \nstruct xfs_map_extent {\n\tuint64_t\t\tme_owner;\n\tuint64_t\t\tme_startblock;\n\tuint64_t\t\tme_startoff;\n\tuint32_t\t\tme_len;\n\tuint32_t\t\tme_flags;\n};\n\n \n#define XFS_RMAP_EXTENT_MAP\t\t1\n#define XFS_RMAP_EXTENT_MAP_SHARED\t2\n#define XFS_RMAP_EXTENT_UNMAP\t\t3\n#define XFS_RMAP_EXTENT_UNMAP_SHARED\t4\n#define XFS_RMAP_EXTENT_CONVERT\t\t5\n#define XFS_RMAP_EXTENT_CONVERT_SHARED\t6\n#define XFS_RMAP_EXTENT_ALLOC\t\t7\n#define XFS_RMAP_EXTENT_FREE\t\t8\n#define XFS_RMAP_EXTENT_TYPE_MASK\t0xFF\n\n#define XFS_RMAP_EXTENT_ATTR_FORK\t(1U << 31)\n#define XFS_RMAP_EXTENT_BMBT_BLOCK\t(1U << 30)\n#define XFS_RMAP_EXTENT_UNWRITTEN\t(1U << 29)\n\n#define XFS_RMAP_EXTENT_FLAGS\t\t(XFS_RMAP_EXTENT_TYPE_MASK | \\\n\t\t\t\t\t XFS_RMAP_EXTENT_ATTR_FORK | \\\n\t\t\t\t\t XFS_RMAP_EXTENT_BMBT_BLOCK | \\\n\t\t\t\t\t XFS_RMAP_EXTENT_UNWRITTEN)\n\n \nstruct xfs_rui_log_format {\n\tuint16_t\t\trui_type;\t \n\tuint16_t\t\trui_size;\t \n\tuint32_t\t\trui_nextents;\t \n\tuint64_t\t\trui_id;\t\t \n\tstruct xfs_map_extent\trui_extents[];\t \n};\n\nstatic inline size_t\nxfs_rui_log_format_sizeof(\n\tunsigned int\t\tnr)\n{\n\treturn sizeof(struct xfs_rui_log_format) +\n\t\t\tnr * sizeof(struct xfs_map_extent);\n}\n\n \nstruct xfs_rud_log_format {\n\tuint16_t\t\trud_type;\t \n\tuint16_t\t\trud_size;\t \n\tuint32_t\t\t__pad;\n\tuint64_t\t\trud_rui_id;\t \n};\n\n \nstruct xfs_phys_extent {\n\tuint64_t\t\tpe_startblock;\n\tuint32_t\t\tpe_len;\n\tuint32_t\t\tpe_flags;\n};\n\n \n \n#define XFS_REFCOUNT_EXTENT_TYPE_MASK\t0xFF\n\n#define XFS_REFCOUNT_EXTENT_FLAGS\t(XFS_REFCOUNT_EXTENT_TYPE_MASK)\n\n \nstruct xfs_cui_log_format {\n\tuint16_t\t\tcui_type;\t \n\tuint16_t\t\tcui_size;\t \n\tuint32_t\t\tcui_nextents;\t \n\tuint64_t\t\tcui_id;\t\t \n\tstruct xfs_phys_extent\tcui_extents[];\t \n};\n\nstatic inline size_t\nxfs_cui_log_format_sizeof(\n\tunsigned int\t\tnr)\n{\n\treturn sizeof(struct xfs_cui_log_format) +\n\t\t\tnr * sizeof(struct xfs_phys_extent);\n}\n\n \nstruct xfs_cud_log_format {\n\tuint16_t\t\tcud_type;\t \n\tuint16_t\t\tcud_size;\t \n\tuint32_t\t\t__pad;\n\tuint64_t\t\tcud_cui_id;\t \n};\n\n \n\n \n \n#define XFS_BMAP_EXTENT_TYPE_MASK\t0xFF\n\n#define XFS_BMAP_EXTENT_ATTR_FORK\t(1U << 31)\n#define XFS_BMAP_EXTENT_UNWRITTEN\t(1U << 30)\n\n#define XFS_BMAP_EXTENT_FLAGS\t\t(XFS_BMAP_EXTENT_TYPE_MASK | \\\n\t\t\t\t\t XFS_BMAP_EXTENT_ATTR_FORK | \\\n\t\t\t\t\t XFS_BMAP_EXTENT_UNWRITTEN)\n\n \nstruct xfs_bui_log_format {\n\tuint16_t\t\tbui_type;\t \n\tuint16_t\t\tbui_size;\t \n\tuint32_t\t\tbui_nextents;\t \n\tuint64_t\t\tbui_id;\t\t \n\tstruct xfs_map_extent\tbui_extents[];\t \n};\n\nstatic inline size_t\nxfs_bui_log_format_sizeof(\n\tunsigned int\t\tnr)\n{\n\treturn sizeof(struct xfs_bui_log_format) +\n\t\t\tnr * sizeof(struct xfs_map_extent);\n}\n\n \nstruct xfs_bud_log_format {\n\tuint16_t\t\tbud_type;\t \n\tuint16_t\t\tbud_size;\t \n\tuint32_t\t\t__pad;\n\tuint64_t\t\tbud_bui_id;\t \n};\n\n \ntypedef struct xfs_dq_logformat {\n\tuint16_t\t\tqlf_type;       \n\tuint16_t\t\tqlf_size;       \n\txfs_dqid_t\t\tqlf_id;\t        \n\tint64_t\t\t\tqlf_blkno;      \n\tint32_t\t\t\tqlf_len;        \n\tuint32_t\t\tqlf_boffset;    \n} xfs_dq_logformat_t;\n\n \ntypedef struct xfs_qoff_logformat {\n\tunsigned short\t\tqf_type;\t \n\tunsigned short\t\tqf_size;\t \n\tunsigned int\t\tqf_flags;\t \n\tchar\t\t\tqf_pad[12];\t \n} xfs_qoff_logformat_t;\n\n \n#define XFS_UQUOTA_ACCT\t0x0001   \n#define XFS_UQUOTA_ENFD\t0x0002   \n#define XFS_UQUOTA_CHKD\t0x0004   \n#define XFS_PQUOTA_ACCT\t0x0008   \n#define XFS_OQUOTA_ENFD\t0x0010   \n#define XFS_OQUOTA_CHKD\t0x0020   \n#define XFS_GQUOTA_ACCT\t0x0040   \n\n \n#define XFS_GQUOTA_ENFD\t0x0080   \n#define XFS_GQUOTA_CHKD\t0x0100   \n#define XFS_PQUOTA_ENFD\t0x0200   \n#define XFS_PQUOTA_CHKD\t0x0400   \n\n#define XFS_ALL_QUOTA_ACCT\t\\\n\t\t(XFS_UQUOTA_ACCT | XFS_GQUOTA_ACCT | XFS_PQUOTA_ACCT)\n#define XFS_ALL_QUOTA_ENFD\t\\\n\t\t(XFS_UQUOTA_ENFD | XFS_GQUOTA_ENFD | XFS_PQUOTA_ENFD)\n#define XFS_ALL_QUOTA_CHKD\t\\\n\t\t(XFS_UQUOTA_CHKD | XFS_GQUOTA_CHKD | XFS_PQUOTA_CHKD)\n\n#define XFS_MOUNT_QUOTA_ALL\t(XFS_UQUOTA_ACCT|XFS_UQUOTA_ENFD|\\\n\t\t\t\t XFS_UQUOTA_CHKD|XFS_GQUOTA_ACCT|\\\n\t\t\t\t XFS_GQUOTA_ENFD|XFS_GQUOTA_CHKD|\\\n\t\t\t\t XFS_PQUOTA_ACCT|XFS_PQUOTA_ENFD|\\\n\t\t\t\t XFS_PQUOTA_CHKD)\n\n \nstruct xfs_icreate_log {\n\tuint16_t\ticl_type;\t \n\tuint16_t\ticl_size;\t \n\t__be32\t\ticl_ag;\t\t \n\t__be32\t\ticl_agbno;\t \n\t__be32\t\ticl_count;\t \n\t__be32\t\ticl_isize;\t \n\t__be32\t\ticl_length;\t \n\t__be32\t\ticl_gen;\t \n};\n\n \n#define XFS_ATTRI_OP_FLAGS_SET\t\t1\t \n#define XFS_ATTRI_OP_FLAGS_REMOVE\t2\t \n#define XFS_ATTRI_OP_FLAGS_REPLACE\t3\t \n#define XFS_ATTRI_OP_FLAGS_TYPE_MASK\t0xFF\t \n\n \n#define XFS_ATTRI_FILTER_MASK\t\t(XFS_ATTR_ROOT | \\\n\t\t\t\t\t XFS_ATTR_SECURE | \\\n\t\t\t\t\t XFS_ATTR_INCOMPLETE)\n\n \nstruct xfs_attri_log_format {\n\tuint16_t\talfi_type;\t \n\tuint16_t\talfi_size;\t \n\tuint32_t\t__pad;\t\t \n\tuint64_t\talfi_id;\t \n\tuint64_t\talfi_ino;\t \n\tuint32_t\talfi_op_flags;\t \n\tuint32_t\talfi_name_len;\t \n\tuint32_t\talfi_value_len;\t \n\tuint32_t\talfi_attr_filter; \n};\n\nstruct xfs_attrd_log_format {\n\tuint16_t\talfd_type;\t \n\tuint16_t\talfd_size;\t \n\tuint32_t\t__pad;\t\t \n\tuint64_t\talfd_alf_id;\t \n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}