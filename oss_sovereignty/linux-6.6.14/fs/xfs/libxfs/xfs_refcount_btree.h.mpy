{
  "module_name": "xfs_refcount_btree.h",
  "hash_id": "a1cd2fe2249282b26f3536c1960342bb70649d005ea7f932f3fa15a60ced9eb5",
  "original_prompt": "Ingested from linux-6.6.14/fs/xfs/libxfs/xfs_refcount_btree.h",
  "human_readable_source": "\n \n#ifndef __XFS_REFCOUNT_BTREE_H__\n#define\t__XFS_REFCOUNT_BTREE_H__\n\n \n\nstruct xfs_buf;\nstruct xfs_btree_cur;\nstruct xfs_mount;\nstruct xfs_perag;\nstruct xbtree_afakeroot;\n\n \n#define XFS_REFCOUNT_BLOCK_LEN\tXFS_BTREE_SBLOCK_CRC_LEN\n\n \n#define XFS_REFCOUNT_REC_ADDR(block, index) \\\n\t((struct xfs_refcount_rec *) \\\n\t\t((char *)(block) + \\\n\t\t XFS_REFCOUNT_BLOCK_LEN + \\\n\t\t (((index) - 1) * sizeof(struct xfs_refcount_rec))))\n\n#define XFS_REFCOUNT_KEY_ADDR(block, index) \\\n\t((struct xfs_refcount_key *) \\\n\t\t((char *)(block) + \\\n\t\t XFS_REFCOUNT_BLOCK_LEN + \\\n\t\t ((index) - 1) * sizeof(struct xfs_refcount_key)))\n\n#define XFS_REFCOUNT_PTR_ADDR(block, index, maxrecs) \\\n\t((xfs_refcount_ptr_t *) \\\n\t\t((char *)(block) + \\\n\t\t XFS_REFCOUNT_BLOCK_LEN + \\\n\t\t (maxrecs) * sizeof(struct xfs_refcount_key) + \\\n\t\t ((index) - 1) * sizeof(xfs_refcount_ptr_t)))\n\nextern struct xfs_btree_cur *xfs_refcountbt_init_cursor(struct xfs_mount *mp,\n\t\tstruct xfs_trans *tp, struct xfs_buf *agbp,\n\t\tstruct xfs_perag *pag);\nstruct xfs_btree_cur *xfs_refcountbt_stage_cursor(struct xfs_mount *mp,\n\t\tstruct xbtree_afakeroot *afake, struct xfs_perag *pag);\nextern int xfs_refcountbt_maxrecs(int blocklen, bool leaf);\nextern void xfs_refcountbt_compute_maxlevels(struct xfs_mount *mp);\n\nextern xfs_extlen_t xfs_refcountbt_calc_size(struct xfs_mount *mp,\n\t\tunsigned long long len);\nextern xfs_extlen_t xfs_refcountbt_max_size(struct xfs_mount *mp,\n\t\txfs_agblock_t agblocks);\n\nextern int xfs_refcountbt_calc_reserves(struct xfs_mount *mp,\n\t\tstruct xfs_trans *tp, struct xfs_perag *pag, xfs_extlen_t *ask,\n\t\txfs_extlen_t *used);\n\nvoid xfs_refcountbt_commit_staged_btree(struct xfs_btree_cur *cur,\n\t\tstruct xfs_trans *tp, struct xfs_buf *agbp);\n\nunsigned int xfs_refcountbt_maxlevels_ondisk(void);\n\nint __init xfs_refcountbt_init_cur_cache(void);\nvoid xfs_refcountbt_destroy_cur_cache(void);\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}