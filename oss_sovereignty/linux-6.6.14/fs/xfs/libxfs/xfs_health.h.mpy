{
  "module_name": "xfs_health.h",
  "hash_id": "507f0748f0e645d024206d114e568889b76aeb3e4fa8a4b176745c463de54d14",
  "original_prompt": "Ingested from linux-6.6.14/fs/xfs/libxfs/xfs_health.h",
  "human_readable_source": " \n \n#ifndef __XFS_HEALTH_H__\n#define __XFS_HEALTH_H__\n\n \n\nstruct xfs_mount;\nstruct xfs_perag;\nstruct xfs_inode;\nstruct xfs_fsop_geom;\n\n \n#define XFS_SICK_FS_COUNTERS\t(1 << 0)   \n#define XFS_SICK_FS_UQUOTA\t(1 << 1)   \n#define XFS_SICK_FS_GQUOTA\t(1 << 2)   \n#define XFS_SICK_FS_PQUOTA\t(1 << 3)   \n\n \n#define XFS_SICK_RT_BITMAP\t(1 << 0)   \n#define XFS_SICK_RT_SUMMARY\t(1 << 1)   \n\n \n#define XFS_SICK_AG_SB\t\t(1 << 0)   \n#define XFS_SICK_AG_AGF\t\t(1 << 1)   \n#define XFS_SICK_AG_AGFL\t(1 << 2)   \n#define XFS_SICK_AG_AGI\t\t(1 << 3)   \n#define XFS_SICK_AG_BNOBT\t(1 << 4)   \n#define XFS_SICK_AG_CNTBT\t(1 << 5)   \n#define XFS_SICK_AG_INOBT\t(1 << 6)   \n#define XFS_SICK_AG_FINOBT\t(1 << 7)   \n#define XFS_SICK_AG_RMAPBT\t(1 << 8)   \n#define XFS_SICK_AG_REFCNTBT\t(1 << 9)   \n\n \n#define XFS_SICK_INO_CORE\t(1 << 0)   \n#define XFS_SICK_INO_BMBTD\t(1 << 1)   \n#define XFS_SICK_INO_BMBTA\t(1 << 2)   \n#define XFS_SICK_INO_BMBTC\t(1 << 3)   \n#define XFS_SICK_INO_DIR\t(1 << 4)   \n#define XFS_SICK_INO_XATTR\t(1 << 5)   \n#define XFS_SICK_INO_SYMLINK\t(1 << 6)   \n#define XFS_SICK_INO_PARENT\t(1 << 7)   \n\n \n#define XFS_SICK_FS_PRIMARY\t(XFS_SICK_FS_COUNTERS | \\\n\t\t\t\t XFS_SICK_FS_UQUOTA | \\\n\t\t\t\t XFS_SICK_FS_GQUOTA | \\\n\t\t\t\t XFS_SICK_FS_PQUOTA)\n\n#define XFS_SICK_RT_PRIMARY\t(XFS_SICK_RT_BITMAP | \\\n\t\t\t\t XFS_SICK_RT_SUMMARY)\n\n#define XFS_SICK_AG_PRIMARY\t(XFS_SICK_AG_SB | \\\n\t\t\t\t XFS_SICK_AG_AGF | \\\n\t\t\t\t XFS_SICK_AG_AGFL | \\\n\t\t\t\t XFS_SICK_AG_AGI | \\\n\t\t\t\t XFS_SICK_AG_BNOBT | \\\n\t\t\t\t XFS_SICK_AG_CNTBT | \\\n\t\t\t\t XFS_SICK_AG_INOBT | \\\n\t\t\t\t XFS_SICK_AG_FINOBT | \\\n\t\t\t\t XFS_SICK_AG_RMAPBT | \\\n\t\t\t\t XFS_SICK_AG_REFCNTBT)\n\n#define XFS_SICK_INO_PRIMARY\t(XFS_SICK_INO_CORE | \\\n\t\t\t\t XFS_SICK_INO_BMBTD | \\\n\t\t\t\t XFS_SICK_INO_BMBTA | \\\n\t\t\t\t XFS_SICK_INO_BMBTC | \\\n\t\t\t\t XFS_SICK_INO_DIR | \\\n\t\t\t\t XFS_SICK_INO_XATTR | \\\n\t\t\t\t XFS_SICK_INO_SYMLINK | \\\n\t\t\t\t XFS_SICK_INO_PARENT)\n\n \n\nvoid xfs_fs_mark_sick(struct xfs_mount *mp, unsigned int mask);\nvoid xfs_fs_mark_healthy(struct xfs_mount *mp, unsigned int mask);\nvoid xfs_fs_measure_sickness(struct xfs_mount *mp, unsigned int *sick,\n\t\tunsigned int *checked);\n\nvoid xfs_rt_mark_sick(struct xfs_mount *mp, unsigned int mask);\nvoid xfs_rt_mark_healthy(struct xfs_mount *mp, unsigned int mask);\nvoid xfs_rt_measure_sickness(struct xfs_mount *mp, unsigned int *sick,\n\t\tunsigned int *checked);\n\nvoid xfs_ag_mark_sick(struct xfs_perag *pag, unsigned int mask);\nvoid xfs_ag_mark_healthy(struct xfs_perag *pag, unsigned int mask);\nvoid xfs_ag_measure_sickness(struct xfs_perag *pag, unsigned int *sick,\n\t\tunsigned int *checked);\n\nvoid xfs_inode_mark_sick(struct xfs_inode *ip, unsigned int mask);\nvoid xfs_inode_mark_healthy(struct xfs_inode *ip, unsigned int mask);\nvoid xfs_inode_measure_sickness(struct xfs_inode *ip, unsigned int *sick,\n\t\tunsigned int *checked);\n\nvoid xfs_health_unmount(struct xfs_mount *mp);\n\n \n\nstatic inline bool\nxfs_fs_has_sickness(struct xfs_mount *mp, unsigned int mask)\n{\n\tunsigned int\tsick, checked;\n\n\txfs_fs_measure_sickness(mp, &sick, &checked);\n\treturn sick & mask;\n}\n\nstatic inline bool\nxfs_rt_has_sickness(struct xfs_mount *mp, unsigned int mask)\n{\n\tunsigned int\tsick, checked;\n\n\txfs_rt_measure_sickness(mp, &sick, &checked);\n\treturn sick & mask;\n}\n\nstatic inline bool\nxfs_ag_has_sickness(struct xfs_perag *pag, unsigned int mask)\n{\n\tunsigned int\tsick, checked;\n\n\txfs_ag_measure_sickness(pag, &sick, &checked);\n\treturn sick & mask;\n}\n\nstatic inline bool\nxfs_inode_has_sickness(struct xfs_inode *ip, unsigned int mask)\n{\n\tunsigned int\tsick, checked;\n\n\txfs_inode_measure_sickness(ip, &sick, &checked);\n\treturn sick & mask;\n}\n\nstatic inline bool\nxfs_fs_is_healthy(struct xfs_mount *mp)\n{\n\treturn !xfs_fs_has_sickness(mp, -1U);\n}\n\nstatic inline bool\nxfs_rt_is_healthy(struct xfs_mount *mp)\n{\n\treturn !xfs_rt_has_sickness(mp, -1U);\n}\n\nstatic inline bool\nxfs_ag_is_healthy(struct xfs_perag *pag)\n{\n\treturn !xfs_ag_has_sickness(pag, -1U);\n}\n\nstatic inline bool\nxfs_inode_is_healthy(struct xfs_inode *ip)\n{\n\treturn !xfs_inode_has_sickness(ip, -1U);\n}\n\nvoid xfs_fsop_geom_health(struct xfs_mount *mp, struct xfs_fsop_geom *geo);\nvoid xfs_ag_geom_health(struct xfs_perag *pag, struct xfs_ag_geometry *ageo);\nvoid xfs_bulkstat_health(struct xfs_inode *ip, struct xfs_bulkstat *bs);\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}