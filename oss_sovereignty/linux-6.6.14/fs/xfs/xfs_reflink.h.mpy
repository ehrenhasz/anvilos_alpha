{
  "module_name": "xfs_reflink.h",
  "hash_id": "ee1fbb909dee9e6e494213d6db3375fe02991d2caf67f6b8a1744659ad3a7afa",
  "original_prompt": "Ingested from linux-6.6.14/fs/xfs/xfs_reflink.h",
  "human_readable_source": "\n \n#ifndef __XFS_REFLINK_H\n#define __XFS_REFLINK_H 1\n\nstatic inline bool xfs_is_always_cow_inode(struct xfs_inode *ip)\n{\n\treturn ip->i_mount->m_always_cow && xfs_has_reflink(ip->i_mount);\n}\n\nstatic inline bool xfs_is_cow_inode(struct xfs_inode *ip)\n{\n\treturn xfs_is_reflink_inode(ip) || xfs_is_always_cow_inode(ip);\n}\n\nextern int xfs_reflink_trim_around_shared(struct xfs_inode *ip,\n\t\tstruct xfs_bmbt_irec *irec, bool *shared);\nint xfs_bmap_trim_cow(struct xfs_inode *ip, struct xfs_bmbt_irec *imap,\n\t\tbool *shared);\n\nint xfs_reflink_allocate_cow(struct xfs_inode *ip, struct xfs_bmbt_irec *imap,\n\t\tstruct xfs_bmbt_irec *cmap, bool *shared, uint *lockmode,\n\t\tbool convert_now);\nextern int xfs_reflink_convert_cow(struct xfs_inode *ip, xfs_off_t offset,\n\t\txfs_off_t count);\n\nextern int xfs_reflink_cancel_cow_blocks(struct xfs_inode *ip,\n\t\tstruct xfs_trans **tpp, xfs_fileoff_t offset_fsb,\n\t\txfs_fileoff_t end_fsb, bool cancel_real);\nextern int xfs_reflink_cancel_cow_range(struct xfs_inode *ip, xfs_off_t offset,\n\t\txfs_off_t count, bool cancel_real);\nextern int xfs_reflink_end_cow(struct xfs_inode *ip, xfs_off_t offset,\n\t\txfs_off_t count);\nextern int xfs_reflink_recover_cow(struct xfs_mount *mp);\nextern loff_t xfs_reflink_remap_range(struct file *file_in, loff_t pos_in,\n\t\tstruct file *file_out, loff_t pos_out, loff_t len,\n\t\tunsigned int remap_flags);\nextern int xfs_reflink_inode_has_shared_extents(struct xfs_trans *tp,\n\t\tstruct xfs_inode *ip, bool *has_shared);\nextern int xfs_reflink_clear_inode_flag(struct xfs_inode *ip,\n\t\tstruct xfs_trans **tpp);\nextern int xfs_reflink_unshare(struct xfs_inode *ip, xfs_off_t offset,\n\t\txfs_off_t len);\nextern int xfs_reflink_remap_prep(struct file *file_in, loff_t pos_in,\n\t\tstruct file *file_out, loff_t pos_out, loff_t *len,\n\t\tunsigned int remap_flags);\nextern int xfs_reflink_remap_blocks(struct xfs_inode *src, loff_t pos_in,\n\t\tstruct xfs_inode *dest, loff_t pos_out, loff_t remap_len,\n\t\tloff_t *remapped);\nextern int xfs_reflink_update_dest(struct xfs_inode *dest, xfs_off_t newlen,\n\t\txfs_extlen_t cowextsize, unsigned int remap_flags);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}