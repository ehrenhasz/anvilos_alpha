{
  "module_name": "isofs.h",
  "hash_id": "d55a8e8cdfeaed2d500535dc580911123ce7a5a44a2da2cb2ce8db9743103da7",
  "original_prompt": "Ingested from linux-6.6.14/fs/isofs/isofs.h",
  "human_readable_source": " \n#include <linux/fs.h>\n#include <linux/buffer_head.h>\n#include <linux/exportfs.h>\n#include <linux/iso_fs.h>\n#include <asm/unaligned.h>\n\nenum isofs_file_format {\n\tisofs_file_normal = 0,\n\tisofs_file_sparse = 1,\n\tisofs_file_compressed = 2,\n};\n\t\n \nstruct iso_inode_info {\n\tunsigned long i_iget5_block;\n\tunsigned long i_iget5_offset;\n\tunsigned int i_first_extent;\n\tunsigned char i_file_format;\n\tunsigned char i_format_parm[3];\n\tunsigned long i_next_section_block;\n\tunsigned long i_next_section_offset;\n\toff_t i_section_size;\n\tstruct inode vfs_inode;\n};\n\n \nstruct isofs_sb_info {\n\tunsigned long s_ninodes;\n\tunsigned long s_nzones;\n\tunsigned long s_firstdatazone;\n\tunsigned long s_log_zone_size;\n\tunsigned long s_max_size;\n\t\n\tint           s_rock_offset;  \n\ts32           s_sbsector;\n\tunsigned char s_joliet_level;\n\tunsigned char s_mapping;\n\tunsigned char s_check;\n\tunsigned char s_session;\n\tunsigned int  s_high_sierra:1;\n\tunsigned int  s_rock:2;\n\tunsigned int  s_cruft:1;  \n\tunsigned int  s_nocompress:1;\n\tunsigned int  s_hide:1;\n\tunsigned int  s_showassoc:1;\n\tunsigned int  s_overriderockperm:1;\n\tunsigned int  s_uid_set:1;\n\tunsigned int  s_gid_set:1;\n\n\tumode_t s_fmode;\n\tumode_t s_dmode;\n\tkgid_t s_gid;\n\tkuid_t s_uid;\n\tstruct nls_table *s_nls_iocharset;  \n};\n\n#define ISOFS_INVALID_MODE ((umode_t) -1)\n\nstatic inline struct isofs_sb_info *ISOFS_SB(struct super_block *sb)\n{\n\treturn sb->s_fs_info;\n}\n\nstatic inline struct iso_inode_info *ISOFS_I(struct inode *inode)\n{\n\treturn container_of(inode, struct iso_inode_info, vfs_inode);\n}\n\nstatic inline int isonum_711(u8 *p)\n{\n\treturn *p;\n}\nstatic inline int isonum_712(s8 *p)\n{\n\treturn *p;\n}\nstatic inline unsigned int isonum_721(u8 *p)\n{\n\treturn get_unaligned_le16(p);\n}\nstatic inline unsigned int isonum_722(u8 *p)\n{\n\treturn get_unaligned_be16(p);\n}\nstatic inline unsigned int isonum_723(u8 *p)\n{\n\t \n\treturn get_unaligned_le16(p);\n}\nstatic inline unsigned int isonum_731(u8 *p)\n{\n\treturn get_unaligned_le32(p);\n}\nstatic inline unsigned int isonum_732(u8 *p)\n{\n\treturn get_unaligned_be32(p);\n}\nstatic inline unsigned int isonum_733(u8 *p)\n{\n\t \n\treturn get_unaligned_le32(p);\n}\nextern int iso_date(u8 *, int);\n\nstruct inode;\t\t \n\nextern int parse_rock_ridge_inode(struct iso_directory_record *, struct inode *, int relocated);\nextern int get_rock_ridge_filename(struct iso_directory_record *, char *, struct inode *);\nextern int isofs_name_translate(struct iso_directory_record *, char *, struct inode *);\n\nint get_joliet_filename(struct iso_directory_record *, unsigned char *, struct inode *);\nint get_acorn_filename(struct iso_directory_record *, char *, struct inode *);\n\nextern struct dentry *isofs_lookup(struct inode *, struct dentry *, unsigned int flags);\nextern struct buffer_head *isofs_bread(struct inode *, sector_t);\nextern int isofs_get_blocks(struct inode *, sector_t, struct buffer_head **, unsigned long);\n\nstruct inode *__isofs_iget(struct super_block *sb,\n\t\t\t   unsigned long block,\n\t\t\t   unsigned long offset,\n\t\t\t   int relocated);\n\nstatic inline struct inode *isofs_iget(struct super_block *sb,\n\t\t\t\t       unsigned long block,\n\t\t\t\t       unsigned long offset)\n{\n\treturn __isofs_iget(sb, block, offset, 0);\n}\n\nstatic inline struct inode *isofs_iget_reloc(struct super_block *sb,\n\t\t\t\t\t     unsigned long block,\n\t\t\t\t\t     unsigned long offset)\n{\n\treturn __isofs_iget(sb, block, offset, 1);\n}\n\n \nstatic inline unsigned long isofs_get_ino(unsigned long block,\n\t\t\t\t\t  unsigned long offset,\n\t\t\t\t\t  unsigned long bufbits)\n{\n\treturn (block << (bufbits - 5)) | (offset >> 5);\n}\n\n \nstatic inline void\nisofs_normalize_block_and_offset(struct iso_directory_record* de,\n\t\t\t\t unsigned long *block,\n\t\t\t\t unsigned long *offset)\n{\n\t \n\tif (de->flags[0] & 2) {\n\t\t*offset = 0;\n\t\t*block = (unsigned long)isonum_733(de->extent)\n\t\t\t+ (unsigned long)isonum_711(de->ext_attr_length);\n\t}\n}\n\nextern const struct inode_operations isofs_dir_inode_operations;\nextern const struct file_operations isofs_dir_operations;\nextern const struct address_space_operations isofs_symlink_aops;\nextern const struct export_operations isofs_export_ops;\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}