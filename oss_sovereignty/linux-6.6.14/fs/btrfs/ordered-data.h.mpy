{
  "module_name": "ordered-data.h",
  "hash_id": "6dc35bb9e7bf27281212c796d41a828bfa71ce208b0d560b6906f24f011abf26",
  "original_prompt": "Ingested from linux-6.6.14/fs/btrfs/ordered-data.h",
  "human_readable_source": " \n \n\n#ifndef BTRFS_ORDERED_DATA_H\n#define BTRFS_ORDERED_DATA_H\n\n \nstruct btrfs_ordered_inode_tree {\n\tspinlock_t lock;\n\tstruct rb_root tree;\n\tstruct rb_node *last;\n};\n\nstruct btrfs_ordered_sum {\n\t \n\tu64 logical;\n\tu32 len;\n\n\tstruct list_head list;\n\t \n\tu8 sums[];\n};\n\n \nenum {\n\t \n\tBTRFS_ORDERED_REGULAR,\n\tBTRFS_ORDERED_NOCOW,\n\tBTRFS_ORDERED_PREALLOC,\n\tBTRFS_ORDERED_COMPRESSED,\n\n\t \n\tBTRFS_ORDERED_DIRECT,\n\n\t \n\n\t \n\tBTRFS_ORDERED_IO_DONE,\n\t \n\tBTRFS_ORDERED_COMPLETE,\n\t \n\tBTRFS_ORDERED_IOERR,\n\t \n\tBTRFS_ORDERED_TRUNCATED,\n\t \n\tBTRFS_ORDERED_LOGGED,\n\t \n\tBTRFS_ORDERED_LOGGED_CSUM,\n\t \n\tBTRFS_ORDERED_PENDING,\n\t \n\tBTRFS_ORDERED_ENCODED,\n};\n\n \n#define BTRFS_ORDERED_TYPE_FLAGS ((1UL << BTRFS_ORDERED_REGULAR) |\t\\\n\t\t\t\t  (1UL << BTRFS_ORDERED_NOCOW) |\t\\\n\t\t\t\t  (1UL << BTRFS_ORDERED_PREALLOC) |\t\\\n\t\t\t\t  (1UL << BTRFS_ORDERED_COMPRESSED) |\t\\\n\t\t\t\t  (1UL << BTRFS_ORDERED_DIRECT) |\t\\\n\t\t\t\t  (1UL << BTRFS_ORDERED_ENCODED))\n\nstruct btrfs_ordered_extent {\n\t \n\tu64 file_offset;\n\n\t \n\tu64 num_bytes;\n\tu64 ram_bytes;\n\tu64 disk_bytenr;\n\tu64 disk_num_bytes;\n\tu64 offset;\n\n\t \n\tu64 bytes_left;\n\n\t \n\tu64 outstanding_isize;\n\n\t \n\tu64 truncated_len;\n\n\t \n\tunsigned long flags;\n\n\t \n\tint compress_type;\n\n\t \n\tint qgroup_rsv;\n\n\t \n\trefcount_t refs;\n\n\t \n\tstruct inode *inode;\n\n\t \n\tstruct list_head list;\n\n\t \n\tstruct list_head log_list;\n\n\t \n\twait_queue_head_t wait;\n\n\t \n\tstruct rb_node rb_node;\n\n\t \n\tstruct list_head root_extent_list;\n\n\tstruct btrfs_work work;\n\n\tstruct completion completion;\n\tstruct btrfs_work flush_work;\n\tstruct list_head work_list;\n};\n\nstatic inline void\nbtrfs_ordered_inode_tree_init(struct btrfs_ordered_inode_tree *t)\n{\n\tspin_lock_init(&t->lock);\n\tt->tree = RB_ROOT;\n\tt->last = NULL;\n}\n\nint btrfs_finish_one_ordered(struct btrfs_ordered_extent *ordered_extent);\nint btrfs_finish_ordered_io(struct btrfs_ordered_extent *ordered_extent);\n\nvoid btrfs_put_ordered_extent(struct btrfs_ordered_extent *entry);\nvoid btrfs_remove_ordered_extent(struct btrfs_inode *btrfs_inode,\n\t\t\t\tstruct btrfs_ordered_extent *entry);\nbool btrfs_finish_ordered_extent(struct btrfs_ordered_extent *ordered,\n\t\t\t\t struct page *page, u64 file_offset, u64 len,\n\t\t\t\t bool uptodate);\nvoid btrfs_mark_ordered_io_finished(struct btrfs_inode *inode,\n\t\t\t\tstruct page *page, u64 file_offset,\n\t\t\t\tu64 num_bytes, bool uptodate);\nbool btrfs_dec_test_ordered_pending(struct btrfs_inode *inode,\n\t\t\t\t    struct btrfs_ordered_extent **cached,\n\t\t\t\t    u64 file_offset, u64 io_size);\nstruct btrfs_ordered_extent *btrfs_alloc_ordered_extent(\n\t\t\tstruct btrfs_inode *inode, u64 file_offset,\n\t\t\tu64 num_bytes, u64 ram_bytes, u64 disk_bytenr,\n\t\t\tu64 disk_num_bytes, u64 offset, unsigned long flags,\n\t\t\tint compress_type);\nvoid btrfs_add_ordered_sum(struct btrfs_ordered_extent *entry,\n\t\t\t   struct btrfs_ordered_sum *sum);\nstruct btrfs_ordered_extent *btrfs_lookup_ordered_extent(struct btrfs_inode *inode,\n\t\t\t\t\t\t\t u64 file_offset);\nvoid btrfs_start_ordered_extent(struct btrfs_ordered_extent *entry);\nint btrfs_wait_ordered_range(struct inode *inode, u64 start, u64 len);\nstruct btrfs_ordered_extent *\nbtrfs_lookup_first_ordered_extent(struct btrfs_inode *inode, u64 file_offset);\nstruct btrfs_ordered_extent *btrfs_lookup_first_ordered_range(\n\t\t\tstruct btrfs_inode *inode, u64 file_offset, u64 len);\nstruct btrfs_ordered_extent *btrfs_lookup_ordered_range(\n\t\tstruct btrfs_inode *inode,\n\t\tu64 file_offset,\n\t\tu64 len);\nvoid btrfs_get_ordered_extents_for_logging(struct btrfs_inode *inode,\n\t\t\t\t\t   struct list_head *list);\nu64 btrfs_wait_ordered_extents(struct btrfs_root *root, u64 nr,\n\t\t\t       const u64 range_start, const u64 range_len);\nvoid btrfs_wait_ordered_roots(struct btrfs_fs_info *fs_info, u64 nr,\n\t\t\t      const u64 range_start, const u64 range_len);\nvoid btrfs_lock_and_flush_ordered_range(struct btrfs_inode *inode, u64 start,\n\t\t\t\t\tu64 end,\n\t\t\t\t\tstruct extent_state **cached_state);\nbool btrfs_try_lock_ordered_range(struct btrfs_inode *inode, u64 start, u64 end,\n\t\t\t\t  struct extent_state **cached_state);\nstruct btrfs_ordered_extent *btrfs_split_ordered_extent(\n\t\t\tstruct btrfs_ordered_extent *ordered, u64 len);\nint __init ordered_data_init(void);\nvoid __cold ordered_data_exit(void);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}