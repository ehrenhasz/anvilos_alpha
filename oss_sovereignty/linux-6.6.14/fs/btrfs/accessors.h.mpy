{
  "module_name": "accessors.h",
  "hash_id": "7de647cd6424267ee1d1187b6e30589e4b69215a5aafcd59b48a96665de7478d",
  "original_prompt": "Ingested from linux-6.6.14/fs/btrfs/accessors.h",
  "human_readable_source": " \n\n#ifndef BTRFS_ACCESSORS_H\n#define BTRFS_ACCESSORS_H\n\n#include <linux/stddef.h>\n\nstruct btrfs_map_token {\n\tstruct extent_buffer *eb;\n\tchar *kaddr;\n\tunsigned long offset;\n};\n\nvoid btrfs_init_map_token(struct btrfs_map_token *token, struct extent_buffer *eb);\n\n \n#define le8_to_cpu(v) (v)\n#define cpu_to_le8(v) (v)\n#define __le8 u8\n\nstatic inline u8 get_unaligned_le8(const void *p)\n{\n       return *(u8 *)p;\n}\n\nstatic inline void put_unaligned_le8(u8 val, void *p)\n{\n       *(u8 *)p = val;\n}\n\n#define read_eb_member(eb, ptr, type, member, result) (\\\n\tread_extent_buffer(eb, (char *)(result),\t\t\t\\\n\t\t\t   ((unsigned long)(ptr)) +\t\t\t\\\n\t\t\t    offsetof(type, member),\t\t\t\\\n\t\t\t    sizeof_field(type, member)))\n\n#define write_eb_member(eb, ptr, type, member, result) (\\\n\twrite_extent_buffer(eb, (char *)(result),\t\t\t\\\n\t\t\t   ((unsigned long)(ptr)) +\t\t\t\\\n\t\t\t    offsetof(type, member),\t\t\t\\\n\t\t\t    sizeof_field(type, member)))\n\n#define DECLARE_BTRFS_SETGET_BITS(bits)\t\t\t\t\t\\\nu##bits btrfs_get_token_##bits(struct btrfs_map_token *token,\t\t\\\n\t\t\t       const void *ptr, unsigned long off);\t\\\nvoid btrfs_set_token_##bits(struct btrfs_map_token *token,\t\t\\\n\t\t\t    const void *ptr, unsigned long off,\t\t\\\n\t\t\t    u##bits val);\t\t\t\t\\\nu##bits btrfs_get_##bits(const struct extent_buffer *eb,\t\t\\\n\t\t\t const void *ptr, unsigned long off);\t\t\\\nvoid btrfs_set_##bits(const struct extent_buffer *eb, void *ptr,\t\\\n\t\t      unsigned long off, u##bits val);\n\nDECLARE_BTRFS_SETGET_BITS(8)\nDECLARE_BTRFS_SETGET_BITS(16)\nDECLARE_BTRFS_SETGET_BITS(32)\nDECLARE_BTRFS_SETGET_BITS(64)\n\n#define BTRFS_SETGET_FUNCS(name, type, member, bits)\t\t\t\\\nstatic inline u##bits btrfs_##name(const struct extent_buffer *eb,\t\\\n\t\t\t\t   const type *s)\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\\\n\tstatic_assert(sizeof(u##bits) == sizeof_field(type, member));\t\\\n\treturn btrfs_get_##bits(eb, s, offsetof(type, member));\t\t\\\n}\t\t\t\t\t\t\t\t\t\\\nstatic inline void btrfs_set_##name(const struct extent_buffer *eb, type *s, \\\n\t\t\t\t    u##bits val)\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\\\n\tstatic_assert(sizeof(u##bits) == sizeof_field(type, member));\t\\\n\tbtrfs_set_##bits(eb, s, offsetof(type, member), val);\t\t\\\n}\t\t\t\t\t\t\t\t\t\\\nstatic inline u##bits btrfs_token_##name(struct btrfs_map_token *token,\t\\\n\t\t\t\t\t const type *s)\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\\\n\tstatic_assert(sizeof(u##bits) == sizeof_field(type, member));\t\\\n\treturn btrfs_get_token_##bits(token, s, offsetof(type, member));\\\n}\t\t\t\t\t\t\t\t\t\\\nstatic inline void btrfs_set_token_##name(struct btrfs_map_token *token,\\\n\t\t\t\t\t  type *s, u##bits val)\t\t\\\n{\t\t\t\t\t\t\t\t\t\\\n\tstatic_assert(sizeof(u##bits) == sizeof_field(type, member));\t\\\n\tbtrfs_set_token_##bits(token, s, offsetof(type, member), val);\t\\\n}\n\n#define BTRFS_SETGET_HEADER_FUNCS(name, type, member, bits)\t\t\\\nstatic inline u##bits btrfs_##name(const struct extent_buffer *eb)\t\\\n{\t\t\t\t\t\t\t\t\t\\\n\tconst type *p = page_address(eb->pages[0]) +\t\t\t\\\n\t\t\toffset_in_page(eb->start);\t\t\t\\\n\treturn get_unaligned_le##bits(&p->member);\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\\\nstatic inline void btrfs_set_##name(const struct extent_buffer *eb,\t\\\n\t\t\t\t    u##bits val)\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\\\n\ttype *p = page_address(eb->pages[0]) + offset_in_page(eb->start); \\\n\tput_unaligned_le##bits(val, &p->member);\t\t\t\\\n}\n\n#define BTRFS_SETGET_STACK_FUNCS(name, type, member, bits)\t\t\\\nstatic inline u##bits btrfs_##name(const type *s)\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\\\n\treturn get_unaligned_le##bits(&s->member);\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\\\nstatic inline void btrfs_set_##name(type *s, u##bits val)\t\t\\\n{\t\t\t\t\t\t\t\t\t\\\n\tput_unaligned_le##bits(val, &s->member);\t\t\t\\\n}\n\nstatic inline u64 btrfs_device_total_bytes(const struct extent_buffer *eb,\n\t\t\t\t\t   struct btrfs_dev_item *s)\n{\n\tstatic_assert(sizeof(u64) == sizeof_field(struct btrfs_dev_item, total_bytes));\n\treturn btrfs_get_64(eb, s, offsetof(struct btrfs_dev_item, total_bytes));\n}\nstatic inline void btrfs_set_device_total_bytes(const struct extent_buffer *eb,\n\t\t\t\t\t\tstruct btrfs_dev_item *s,\n\t\t\t\t\t\tu64 val)\n{\n\tstatic_assert(sizeof(u64) == sizeof_field(struct btrfs_dev_item, total_bytes));\n\tWARN_ON(!IS_ALIGNED(val, eb->fs_info->sectorsize));\n\tbtrfs_set_64(eb, s, offsetof(struct btrfs_dev_item, total_bytes), val);\n}\n\nBTRFS_SETGET_FUNCS(device_type, struct btrfs_dev_item, type, 64);\nBTRFS_SETGET_FUNCS(device_bytes_used, struct btrfs_dev_item, bytes_used, 64);\nBTRFS_SETGET_FUNCS(device_io_align, struct btrfs_dev_item, io_align, 32);\nBTRFS_SETGET_FUNCS(device_io_width, struct btrfs_dev_item, io_width, 32);\nBTRFS_SETGET_FUNCS(device_start_offset, struct btrfs_dev_item, start_offset, 64);\nBTRFS_SETGET_FUNCS(device_sector_size, struct btrfs_dev_item, sector_size, 32);\nBTRFS_SETGET_FUNCS(device_id, struct btrfs_dev_item, devid, 64);\nBTRFS_SETGET_FUNCS(device_group, struct btrfs_dev_item, dev_group, 32);\nBTRFS_SETGET_FUNCS(device_seek_speed, struct btrfs_dev_item, seek_speed, 8);\nBTRFS_SETGET_FUNCS(device_bandwidth, struct btrfs_dev_item, bandwidth, 8);\nBTRFS_SETGET_FUNCS(device_generation, struct btrfs_dev_item, generation, 64);\n\nBTRFS_SETGET_STACK_FUNCS(stack_device_type, struct btrfs_dev_item, type, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_device_total_bytes, struct btrfs_dev_item,\n\t\t\t total_bytes, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_device_bytes_used, struct btrfs_dev_item,\n\t\t\t bytes_used, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_device_io_align, struct btrfs_dev_item,\n\t\t\t io_align, 32);\nBTRFS_SETGET_STACK_FUNCS(stack_device_io_width, struct btrfs_dev_item,\n\t\t\t io_width, 32);\nBTRFS_SETGET_STACK_FUNCS(stack_device_sector_size, struct btrfs_dev_item,\n\t\t\t sector_size, 32);\nBTRFS_SETGET_STACK_FUNCS(stack_device_id, struct btrfs_dev_item, devid, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_device_group, struct btrfs_dev_item, dev_group, 32);\nBTRFS_SETGET_STACK_FUNCS(stack_device_seek_speed, struct btrfs_dev_item,\n\t\t\t seek_speed, 8);\nBTRFS_SETGET_STACK_FUNCS(stack_device_bandwidth, struct btrfs_dev_item,\n\t\t\t bandwidth, 8);\nBTRFS_SETGET_STACK_FUNCS(stack_device_generation, struct btrfs_dev_item,\n\t\t\t generation, 64);\n\nstatic inline unsigned long btrfs_device_uuid(struct btrfs_dev_item *d)\n{\n\treturn (unsigned long)d + offsetof(struct btrfs_dev_item, uuid);\n}\n\nstatic inline unsigned long btrfs_device_fsid(struct btrfs_dev_item *d)\n{\n\treturn (unsigned long)d + offsetof(struct btrfs_dev_item, fsid);\n}\n\nBTRFS_SETGET_FUNCS(chunk_length, struct btrfs_chunk, length, 64);\nBTRFS_SETGET_FUNCS(chunk_owner, struct btrfs_chunk, owner, 64);\nBTRFS_SETGET_FUNCS(chunk_stripe_len, struct btrfs_chunk, stripe_len, 64);\nBTRFS_SETGET_FUNCS(chunk_io_align, struct btrfs_chunk, io_align, 32);\nBTRFS_SETGET_FUNCS(chunk_io_width, struct btrfs_chunk, io_width, 32);\nBTRFS_SETGET_FUNCS(chunk_sector_size, struct btrfs_chunk, sector_size, 32);\nBTRFS_SETGET_FUNCS(chunk_type, struct btrfs_chunk, type, 64);\nBTRFS_SETGET_FUNCS(chunk_num_stripes, struct btrfs_chunk, num_stripes, 16);\nBTRFS_SETGET_FUNCS(chunk_sub_stripes, struct btrfs_chunk, sub_stripes, 16);\nBTRFS_SETGET_FUNCS(stripe_devid, struct btrfs_stripe, devid, 64);\nBTRFS_SETGET_FUNCS(stripe_offset, struct btrfs_stripe, offset, 64);\n\nstatic inline char *btrfs_stripe_dev_uuid(struct btrfs_stripe *s)\n{\n\treturn (char *)s + offsetof(struct btrfs_stripe, dev_uuid);\n}\n\nBTRFS_SETGET_STACK_FUNCS(stack_chunk_length, struct btrfs_chunk, length, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_chunk_owner, struct btrfs_chunk, owner, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_chunk_stripe_len, struct btrfs_chunk,\n\t\t\t stripe_len, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_chunk_io_align, struct btrfs_chunk, io_align, 32);\nBTRFS_SETGET_STACK_FUNCS(stack_chunk_io_width, struct btrfs_chunk, io_width, 32);\nBTRFS_SETGET_STACK_FUNCS(stack_chunk_sector_size, struct btrfs_chunk,\n\t\t\t sector_size, 32);\nBTRFS_SETGET_STACK_FUNCS(stack_chunk_type, struct btrfs_chunk, type, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_chunk_num_stripes, struct btrfs_chunk,\n\t\t\t num_stripes, 16);\nBTRFS_SETGET_STACK_FUNCS(stack_chunk_sub_stripes, struct btrfs_chunk,\n\t\t\t sub_stripes, 16);\nBTRFS_SETGET_STACK_FUNCS(stack_stripe_devid, struct btrfs_stripe, devid, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_stripe_offset, struct btrfs_stripe, offset, 64);\n\nstatic inline struct btrfs_stripe *btrfs_stripe_nr(struct btrfs_chunk *c, int nr)\n{\n\tunsigned long offset = (unsigned long)c;\n\n\toffset += offsetof(struct btrfs_chunk, stripe);\n\toffset += nr * sizeof(struct btrfs_stripe);\n\treturn (struct btrfs_stripe *)offset;\n}\n\nstatic inline char *btrfs_stripe_dev_uuid_nr(struct btrfs_chunk *c, int nr)\n{\n\treturn btrfs_stripe_dev_uuid(btrfs_stripe_nr(c, nr));\n}\n\nstatic inline u64 btrfs_stripe_offset_nr(const struct extent_buffer *eb,\n\t\t\t\t\t struct btrfs_chunk *c, int nr)\n{\n\treturn btrfs_stripe_offset(eb, btrfs_stripe_nr(c, nr));\n}\n\nstatic inline void btrfs_set_stripe_offset_nr(struct extent_buffer *eb,\n\t\t\t\t\t      struct btrfs_chunk *c, int nr,\n\t\t\t\t\t      u64 val)\n{\n\tbtrfs_set_stripe_offset(eb, btrfs_stripe_nr(c, nr), val);\n}\n\nstatic inline u64 btrfs_stripe_devid_nr(const struct extent_buffer *eb,\n\t\t\t\t\t struct btrfs_chunk *c, int nr)\n{\n\treturn btrfs_stripe_devid(eb, btrfs_stripe_nr(c, nr));\n}\n\nstatic inline void btrfs_set_stripe_devid_nr(struct extent_buffer *eb,\n\t\t\t\t\t     struct btrfs_chunk *c, int nr,\n\t\t\t\t\t     u64 val)\n{\n\tbtrfs_set_stripe_devid(eb, btrfs_stripe_nr(c, nr), val);\n}\n\n \nBTRFS_SETGET_STACK_FUNCS(stack_block_group_used, struct btrfs_block_group_item,\n\t\t\t used, 64);\nBTRFS_SETGET_FUNCS(block_group_used, struct btrfs_block_group_item, used, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_block_group_chunk_objectid,\n\t\t\tstruct btrfs_block_group_item, chunk_objectid, 64);\n\nBTRFS_SETGET_FUNCS(block_group_chunk_objectid,\n\t\t   struct btrfs_block_group_item, chunk_objectid, 64);\nBTRFS_SETGET_FUNCS(block_group_flags, struct btrfs_block_group_item, flags, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_block_group_flags,\n\t\t\tstruct btrfs_block_group_item, flags, 64);\n\n \nBTRFS_SETGET_FUNCS(free_space_extent_count, struct btrfs_free_space_info,\n\t\t   extent_count, 32);\nBTRFS_SETGET_FUNCS(free_space_flags, struct btrfs_free_space_info, flags, 32);\n\n \nBTRFS_SETGET_FUNCS(inode_ref_name_len, struct btrfs_inode_ref, name_len, 16);\nBTRFS_SETGET_FUNCS(inode_ref_index, struct btrfs_inode_ref, index, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_inode_ref_name_len, struct btrfs_inode_ref, name_len, 16);\nBTRFS_SETGET_STACK_FUNCS(stack_inode_ref_index, struct btrfs_inode_ref, index, 64);\n\n \nBTRFS_SETGET_FUNCS(inode_extref_parent, struct btrfs_inode_extref,\n\t\t   parent_objectid, 64);\nBTRFS_SETGET_FUNCS(inode_extref_name_len, struct btrfs_inode_extref,\n\t\t   name_len, 16);\nBTRFS_SETGET_FUNCS(inode_extref_index, struct btrfs_inode_extref, index, 64);\n\n \nBTRFS_SETGET_FUNCS(inode_generation, struct btrfs_inode_item, generation, 64);\nBTRFS_SETGET_FUNCS(inode_sequence, struct btrfs_inode_item, sequence, 64);\nBTRFS_SETGET_FUNCS(inode_transid, struct btrfs_inode_item, transid, 64);\nBTRFS_SETGET_FUNCS(inode_size, struct btrfs_inode_item, size, 64);\nBTRFS_SETGET_FUNCS(inode_nbytes, struct btrfs_inode_item, nbytes, 64);\nBTRFS_SETGET_FUNCS(inode_block_group, struct btrfs_inode_item, block_group, 64);\nBTRFS_SETGET_FUNCS(inode_nlink, struct btrfs_inode_item, nlink, 32);\nBTRFS_SETGET_FUNCS(inode_uid, struct btrfs_inode_item, uid, 32);\nBTRFS_SETGET_FUNCS(inode_gid, struct btrfs_inode_item, gid, 32);\nBTRFS_SETGET_FUNCS(inode_mode, struct btrfs_inode_item, mode, 32);\nBTRFS_SETGET_FUNCS(inode_rdev, struct btrfs_inode_item, rdev, 64);\nBTRFS_SETGET_FUNCS(inode_flags, struct btrfs_inode_item, flags, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_inode_generation, struct btrfs_inode_item,\n\t\t\t generation, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_inode_sequence, struct btrfs_inode_item,\n\t\t\t sequence, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_inode_transid, struct btrfs_inode_item,\n\t\t\t transid, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_inode_size, struct btrfs_inode_item, size, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_inode_nbytes, struct btrfs_inode_item, nbytes, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_inode_block_group, struct btrfs_inode_item,\n\t\t\t block_group, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_inode_nlink, struct btrfs_inode_item, nlink, 32);\nBTRFS_SETGET_STACK_FUNCS(stack_inode_uid, struct btrfs_inode_item, uid, 32);\nBTRFS_SETGET_STACK_FUNCS(stack_inode_gid, struct btrfs_inode_item, gid, 32);\nBTRFS_SETGET_STACK_FUNCS(stack_inode_mode, struct btrfs_inode_item, mode, 32);\nBTRFS_SETGET_STACK_FUNCS(stack_inode_rdev, struct btrfs_inode_item, rdev, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_inode_flags, struct btrfs_inode_item, flags, 64);\nBTRFS_SETGET_FUNCS(timespec_sec, struct btrfs_timespec, sec, 64);\nBTRFS_SETGET_FUNCS(timespec_nsec, struct btrfs_timespec, nsec, 32);\nBTRFS_SETGET_STACK_FUNCS(stack_timespec_sec, struct btrfs_timespec, sec, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_timespec_nsec, struct btrfs_timespec, nsec, 32);\n\n \nBTRFS_SETGET_FUNCS(dev_extent_chunk_tree, struct btrfs_dev_extent, chunk_tree, 64);\nBTRFS_SETGET_FUNCS(dev_extent_chunk_objectid, struct btrfs_dev_extent,\n\t\t   chunk_objectid, 64);\nBTRFS_SETGET_FUNCS(dev_extent_chunk_offset, struct btrfs_dev_extent,\n\t\t   chunk_offset, 64);\nBTRFS_SETGET_FUNCS(dev_extent_length, struct btrfs_dev_extent, length, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_dev_extent_chunk_tree, struct btrfs_dev_extent,\n\t\t\t chunk_tree, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_dev_extent_chunk_objectid, struct btrfs_dev_extent,\n\t\t\t chunk_objectid, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_dev_extent_chunk_offset, struct btrfs_dev_extent,\n\t\t\t chunk_offset, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_dev_extent_length, struct btrfs_dev_extent, length, 64);\n\nBTRFS_SETGET_FUNCS(extent_refs, struct btrfs_extent_item, refs, 64);\nBTRFS_SETGET_FUNCS(extent_generation, struct btrfs_extent_item, generation, 64);\nBTRFS_SETGET_FUNCS(extent_flags, struct btrfs_extent_item, flags, 64);\n\nBTRFS_SETGET_FUNCS(tree_block_level, struct btrfs_tree_block_info, level, 8);\n\nstatic inline void btrfs_tree_block_key(const struct extent_buffer *eb,\n\t\t\t\t\tstruct btrfs_tree_block_info *item,\n\t\t\t\t\tstruct btrfs_disk_key *key)\n{\n\tread_eb_member(eb, item, struct btrfs_tree_block_info, key, key);\n}\n\nstatic inline void btrfs_set_tree_block_key(const struct extent_buffer *eb,\n\t\t\t\t\t    struct btrfs_tree_block_info *item,\n\t\t\t\t\t    struct btrfs_disk_key *key)\n{\n\twrite_eb_member(eb, item, struct btrfs_tree_block_info, key, key);\n}\n\nBTRFS_SETGET_FUNCS(extent_data_ref_root, struct btrfs_extent_data_ref, root, 64);\nBTRFS_SETGET_FUNCS(extent_data_ref_objectid, struct btrfs_extent_data_ref,\n\t\t   objectid, 64);\nBTRFS_SETGET_FUNCS(extent_data_ref_offset, struct btrfs_extent_data_ref,\n\t\t   offset, 64);\nBTRFS_SETGET_FUNCS(extent_data_ref_count, struct btrfs_extent_data_ref, count, 32);\n\nBTRFS_SETGET_FUNCS(shared_data_ref_count, struct btrfs_shared_data_ref, count, 32);\n\nBTRFS_SETGET_FUNCS(extent_inline_ref_type, struct btrfs_extent_inline_ref,\n\t\t   type, 8);\nBTRFS_SETGET_FUNCS(extent_inline_ref_offset, struct btrfs_extent_inline_ref,\n\t\t   offset, 64);\n\nstatic inline u32 btrfs_extent_inline_ref_size(int type)\n{\n\tif (type == BTRFS_TREE_BLOCK_REF_KEY ||\n\t    type == BTRFS_SHARED_BLOCK_REF_KEY)\n\t\treturn sizeof(struct btrfs_extent_inline_ref);\n\tif (type == BTRFS_SHARED_DATA_REF_KEY)\n\t\treturn sizeof(struct btrfs_shared_data_ref) +\n\t\t       sizeof(struct btrfs_extent_inline_ref);\n\tif (type == BTRFS_EXTENT_DATA_REF_KEY)\n\t\treturn sizeof(struct btrfs_extent_data_ref) +\n\t\t       offsetof(struct btrfs_extent_inline_ref, offset);\n\treturn 0;\n}\n\n \nBTRFS_SETGET_FUNCS(key_blockptr, struct btrfs_key_ptr, blockptr, 64);\nBTRFS_SETGET_FUNCS(key_generation, struct btrfs_key_ptr, generation, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_key_blockptr, struct btrfs_key_ptr, blockptr, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_key_generation, struct btrfs_key_ptr,\n\t\t\t generation, 64);\n\nstatic inline u64 btrfs_node_blockptr(const struct extent_buffer *eb, int nr)\n{\n\tunsigned long ptr;\n\n\tptr = offsetof(struct btrfs_node, ptrs) +\n\t\tsizeof(struct btrfs_key_ptr) * nr;\n\treturn btrfs_key_blockptr(eb, (struct btrfs_key_ptr *)ptr);\n}\n\nstatic inline void btrfs_set_node_blockptr(const struct extent_buffer *eb,\n\t\t\t\t\t   int nr, u64 val)\n{\n\tunsigned long ptr;\n\n\tptr = offsetof(struct btrfs_node, ptrs) +\n\t\tsizeof(struct btrfs_key_ptr) * nr;\n\tbtrfs_set_key_blockptr(eb, (struct btrfs_key_ptr *)ptr, val);\n}\n\nstatic inline u64 btrfs_node_ptr_generation(const struct extent_buffer *eb, int nr)\n{\n\tunsigned long ptr;\n\n\tptr = offsetof(struct btrfs_node, ptrs) +\n\t\tsizeof(struct btrfs_key_ptr) * nr;\n\treturn btrfs_key_generation(eb, (struct btrfs_key_ptr *)ptr);\n}\n\nstatic inline void btrfs_set_node_ptr_generation(const struct extent_buffer *eb,\n\t\t\t\t\t\t int nr, u64 val)\n{\n\tunsigned long ptr;\n\n\tptr = offsetof(struct btrfs_node, ptrs) +\n\t\tsizeof(struct btrfs_key_ptr) * nr;\n\tbtrfs_set_key_generation(eb, (struct btrfs_key_ptr *)ptr, val);\n}\n\nstatic inline unsigned long btrfs_node_key_ptr_offset(const struct extent_buffer *eb, int nr)\n{\n\treturn offsetof(struct btrfs_node, ptrs) +\n\t\tsizeof(struct btrfs_key_ptr) * nr;\n}\n\nvoid btrfs_node_key(const struct extent_buffer *eb,\n\t\t    struct btrfs_disk_key *disk_key, int nr);\n\nstatic inline void btrfs_set_node_key(const struct extent_buffer *eb,\n\t\t\t\t      struct btrfs_disk_key *disk_key, int nr)\n{\n\tunsigned long ptr;\n\n\tptr = btrfs_node_key_ptr_offset(eb, nr);\n\twrite_eb_member(eb, (struct btrfs_key_ptr *)ptr,\n\t\t        struct btrfs_key_ptr, key, disk_key);\n}\n\n \nBTRFS_SETGET_FUNCS(raw_item_offset, struct btrfs_item, offset, 32);\nBTRFS_SETGET_FUNCS(raw_item_size, struct btrfs_item, size, 32);\nBTRFS_SETGET_STACK_FUNCS(stack_item_offset, struct btrfs_item, offset, 32);\nBTRFS_SETGET_STACK_FUNCS(stack_item_size, struct btrfs_item, size, 32);\n\nstatic inline unsigned long btrfs_item_nr_offset(const struct extent_buffer *eb, int nr)\n{\n\treturn offsetof(struct btrfs_leaf, items) +\n\t\tsizeof(struct btrfs_item) * nr;\n}\n\nstatic inline struct btrfs_item *btrfs_item_nr(const struct extent_buffer *eb, int nr)\n{\n\treturn (struct btrfs_item *)btrfs_item_nr_offset(eb, nr);\n}\n\n#define BTRFS_ITEM_SETGET_FUNCS(member)\t\t\t\t\t\t\\\nstatic inline u32 btrfs_item_##member(const struct extent_buffer *eb, int slot)\t\\\n{\t\t\t\t\t\t\t\t\t\t\\\n\treturn btrfs_raw_item_##member(eb, btrfs_item_nr(eb, slot));\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\\\nstatic inline void btrfs_set_item_##member(const struct extent_buffer *eb,\t\\\n\t\t\t\t\t   int slot, u32 val)\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\\\n\tbtrfs_set_raw_item_##member(eb, btrfs_item_nr(eb, slot), val);\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\\\nstatic inline u32 btrfs_token_item_##member(struct btrfs_map_token *token,\t\\\n\t\t\t\t\t    int slot)\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\\\n\tstruct btrfs_item *item = btrfs_item_nr(token->eb, slot);\t\t\\\n\treturn btrfs_token_raw_item_##member(token, item);\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\\\nstatic inline void btrfs_set_token_item_##member(struct btrfs_map_token *token,\t\\\n\t\t\t\t\t\t int slot, u32 val)\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\\\n\tstruct btrfs_item *item = btrfs_item_nr(token->eb, slot);\t\t\\\n\tbtrfs_set_token_raw_item_##member(token, item, val);\t\t\t\\\n}\n\nBTRFS_ITEM_SETGET_FUNCS(offset)\nBTRFS_ITEM_SETGET_FUNCS(size);\n\nstatic inline u32 btrfs_item_data_end(const struct extent_buffer *eb, int nr)\n{\n\treturn btrfs_item_offset(eb, nr) + btrfs_item_size(eb, nr);\n}\n\nstatic inline void btrfs_item_key(const struct extent_buffer *eb,\n\t\t\t   struct btrfs_disk_key *disk_key, int nr)\n{\n\tstruct btrfs_item *item = btrfs_item_nr(eb, nr);\n\n\tread_eb_member(eb, item, struct btrfs_item, key, disk_key);\n}\n\nstatic inline void btrfs_set_item_key(struct extent_buffer *eb,\n\t\t\t\t      struct btrfs_disk_key *disk_key, int nr)\n{\n\tstruct btrfs_item *item = btrfs_item_nr(eb, nr);\n\n\twrite_eb_member(eb, item, struct btrfs_item, key, disk_key);\n}\n\nBTRFS_SETGET_FUNCS(dir_log_end, struct btrfs_dir_log_item, end, 64);\n\n \nBTRFS_SETGET_FUNCS(root_ref_dirid, struct btrfs_root_ref, dirid, 64);\nBTRFS_SETGET_FUNCS(root_ref_sequence, struct btrfs_root_ref, sequence, 64);\nBTRFS_SETGET_FUNCS(root_ref_name_len, struct btrfs_root_ref, name_len, 16);\nBTRFS_SETGET_STACK_FUNCS(stack_root_ref_dirid, struct btrfs_root_ref, dirid, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_root_ref_sequence, struct btrfs_root_ref, sequence, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_root_ref_name_len, struct btrfs_root_ref, name_len, 16);\n\n \nBTRFS_SETGET_FUNCS(dir_data_len, struct btrfs_dir_item, data_len, 16);\nBTRFS_SETGET_FUNCS(dir_flags, struct btrfs_dir_item, type, 8);\nBTRFS_SETGET_FUNCS(dir_name_len, struct btrfs_dir_item, name_len, 16);\nBTRFS_SETGET_FUNCS(dir_transid, struct btrfs_dir_item, transid, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_dir_flags, struct btrfs_dir_item, type, 8);\nBTRFS_SETGET_STACK_FUNCS(stack_dir_data_len, struct btrfs_dir_item, data_len, 16);\nBTRFS_SETGET_STACK_FUNCS(stack_dir_name_len, struct btrfs_dir_item, name_len, 16);\nBTRFS_SETGET_STACK_FUNCS(stack_dir_transid, struct btrfs_dir_item, transid, 64);\n\nstatic inline u8 btrfs_dir_ftype(const struct extent_buffer *eb,\n\t\t\t\t const struct btrfs_dir_item *item)\n{\n\treturn btrfs_dir_flags_to_ftype(btrfs_dir_flags(eb, item));\n}\n\nstatic inline u8 btrfs_stack_dir_ftype(const struct btrfs_dir_item *item)\n{\n\treturn btrfs_dir_flags_to_ftype(btrfs_stack_dir_flags(item));\n}\n\nstatic inline void btrfs_dir_item_key(const struct extent_buffer *eb,\n\t\t\t\t      const struct btrfs_dir_item *item,\n\t\t\t\t      struct btrfs_disk_key *key)\n{\n\tread_eb_member(eb, item, struct btrfs_dir_item, location, key);\n}\n\nstatic inline void btrfs_set_dir_item_key(struct extent_buffer *eb,\n\t\t\t\t\t  struct btrfs_dir_item *item,\n\t\t\t\t\t  const struct btrfs_disk_key *key)\n{\n\twrite_eb_member(eb, item, struct btrfs_dir_item, location, key);\n}\n\nBTRFS_SETGET_FUNCS(free_space_entries, struct btrfs_free_space_header,\n\t\t   num_entries, 64);\nBTRFS_SETGET_FUNCS(free_space_bitmaps, struct btrfs_free_space_header,\n\t\t   num_bitmaps, 64);\nBTRFS_SETGET_FUNCS(free_space_generation, struct btrfs_free_space_header,\n\t\t   generation, 64);\n\nstatic inline void btrfs_free_space_key(const struct extent_buffer *eb,\n\t\t\t\t\tconst struct btrfs_free_space_header *h,\n\t\t\t\t\tstruct btrfs_disk_key *key)\n{\n\tread_eb_member(eb, h, struct btrfs_free_space_header, location, key);\n}\n\nstatic inline void btrfs_set_free_space_key(struct extent_buffer *eb,\n\t\t\t\t\t    struct btrfs_free_space_header *h,\n\t\t\t\t\t    const struct btrfs_disk_key *key)\n{\n\twrite_eb_member(eb, h, struct btrfs_free_space_header, location, key);\n}\n\n \nBTRFS_SETGET_STACK_FUNCS(disk_key_objectid, struct btrfs_disk_key, objectid, 64);\nBTRFS_SETGET_STACK_FUNCS(disk_key_offset, struct btrfs_disk_key, offset, 64);\nBTRFS_SETGET_STACK_FUNCS(disk_key_type, struct btrfs_disk_key, type, 8);\n\n#ifdef __LITTLE_ENDIAN\n\n \n\nstatic inline void btrfs_disk_key_to_cpu(struct btrfs_key *cpu_key,\n\t\t\t\t\t const struct btrfs_disk_key *disk_key)\n{\n\tmemcpy(cpu_key, disk_key, sizeof(struct btrfs_key));\n}\n\nstatic inline void btrfs_cpu_key_to_disk(struct btrfs_disk_key *disk_key,\n\t\t\t\t\t const struct btrfs_key *cpu_key)\n{\n\tmemcpy(disk_key, cpu_key, sizeof(struct btrfs_key));\n}\n\nstatic inline void btrfs_node_key_to_cpu(const struct extent_buffer *eb,\n\t\t\t\t\t struct btrfs_key *cpu_key, int nr)\n{\n\tstruct btrfs_disk_key *disk_key = (struct btrfs_disk_key *)cpu_key;\n\n\tbtrfs_node_key(eb, disk_key, nr);\n}\n\nstatic inline void btrfs_item_key_to_cpu(const struct extent_buffer *eb,\n\t\t\t\t\t struct btrfs_key *cpu_key, int nr)\n{\n\tstruct btrfs_disk_key *disk_key = (struct btrfs_disk_key *)cpu_key;\n\n\tbtrfs_item_key(eb, disk_key, nr);\n}\n\nstatic inline void btrfs_dir_item_key_to_cpu(const struct extent_buffer *eb,\n\t\t\t\t\t     const struct btrfs_dir_item *item,\n\t\t\t\t\t     struct btrfs_key *cpu_key)\n{\n\tstruct btrfs_disk_key *disk_key = (struct btrfs_disk_key *)cpu_key;\n\n\tbtrfs_dir_item_key(eb, item, disk_key);\n}\n\n#else\n\nstatic inline void btrfs_disk_key_to_cpu(struct btrfs_key *cpu,\n\t\t\t\t\t const struct btrfs_disk_key *disk)\n{\n\tcpu->offset = le64_to_cpu(disk->offset);\n\tcpu->type = disk->type;\n\tcpu->objectid = le64_to_cpu(disk->objectid);\n}\n\nstatic inline void btrfs_cpu_key_to_disk(struct btrfs_disk_key *disk,\n\t\t\t\t\t const struct btrfs_key *cpu)\n{\n\tdisk->offset = cpu_to_le64(cpu->offset);\n\tdisk->type = cpu->type;\n\tdisk->objectid = cpu_to_le64(cpu->objectid);\n}\n\nstatic inline void btrfs_node_key_to_cpu(const struct extent_buffer *eb,\n\t\t\t\t\t struct btrfs_key *key, int nr)\n{\n\tstruct btrfs_disk_key disk_key;\n\n\tbtrfs_node_key(eb, &disk_key, nr);\n\tbtrfs_disk_key_to_cpu(key, &disk_key);\n}\n\nstatic inline void btrfs_item_key_to_cpu(const struct extent_buffer *eb,\n\t\t\t\t\t struct btrfs_key *key, int nr)\n{\n\tstruct btrfs_disk_key disk_key;\n\n\tbtrfs_item_key(eb, &disk_key, nr);\n\tbtrfs_disk_key_to_cpu(key, &disk_key);\n}\n\nstatic inline void btrfs_dir_item_key_to_cpu(const struct extent_buffer *eb,\n\t\t\t\t\t     const struct btrfs_dir_item *item,\n\t\t\t\t\t     struct btrfs_key *key)\n{\n\tstruct btrfs_disk_key disk_key;\n\n\tbtrfs_dir_item_key(eb, item, &disk_key);\n\tbtrfs_disk_key_to_cpu(key, &disk_key);\n}\n\n#endif\n\n \nBTRFS_SETGET_HEADER_FUNCS(header_bytenr, struct btrfs_header, bytenr, 64);\nBTRFS_SETGET_HEADER_FUNCS(header_generation, struct btrfs_header, generation, 64);\nBTRFS_SETGET_HEADER_FUNCS(header_owner, struct btrfs_header, owner, 64);\nBTRFS_SETGET_HEADER_FUNCS(header_nritems, struct btrfs_header, nritems, 32);\nBTRFS_SETGET_HEADER_FUNCS(header_flags, struct btrfs_header, flags, 64);\nBTRFS_SETGET_HEADER_FUNCS(header_level, struct btrfs_header, level, 8);\nBTRFS_SETGET_STACK_FUNCS(stack_header_generation, struct btrfs_header,\n\t\t\t generation, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_header_owner, struct btrfs_header, owner, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_header_nritems, struct btrfs_header, nritems, 32);\nBTRFS_SETGET_STACK_FUNCS(stack_header_bytenr, struct btrfs_header, bytenr, 64);\n\nstatic inline int btrfs_header_flag(const struct extent_buffer *eb, u64 flag)\n{\n\treturn (btrfs_header_flags(eb) & flag) == flag;\n}\n\nstatic inline void btrfs_set_header_flag(struct extent_buffer *eb, u64 flag)\n{\n\tu64 flags = btrfs_header_flags(eb);\n\n\tbtrfs_set_header_flags(eb, flags | flag);\n}\n\nstatic inline void btrfs_clear_header_flag(struct extent_buffer *eb, u64 flag)\n{\n\tu64 flags = btrfs_header_flags(eb);\n\n\tbtrfs_set_header_flags(eb, flags & ~flag);\n}\n\nstatic inline int btrfs_header_backref_rev(const struct extent_buffer *eb)\n{\n\tu64 flags = btrfs_header_flags(eb);\n\n\treturn flags >> BTRFS_BACKREF_REV_SHIFT;\n}\n\nstatic inline void btrfs_set_header_backref_rev(struct extent_buffer *eb, int rev)\n{\n\tu64 flags = btrfs_header_flags(eb);\n\n\tflags &= ~BTRFS_BACKREF_REV_MASK;\n\tflags |= (u64)rev << BTRFS_BACKREF_REV_SHIFT;\n\tbtrfs_set_header_flags(eb, flags);\n}\n\nstatic inline int btrfs_is_leaf(const struct extent_buffer *eb)\n{\n\treturn btrfs_header_level(eb) == 0;\n}\n\n \nBTRFS_SETGET_FUNCS(disk_root_generation, struct btrfs_root_item, generation, 64);\nBTRFS_SETGET_FUNCS(disk_root_refs, struct btrfs_root_item, refs, 32);\nBTRFS_SETGET_FUNCS(disk_root_bytenr, struct btrfs_root_item, bytenr, 64);\nBTRFS_SETGET_FUNCS(disk_root_level, struct btrfs_root_item, level, 8);\n\nBTRFS_SETGET_STACK_FUNCS(root_generation, struct btrfs_root_item, generation, 64);\nBTRFS_SETGET_STACK_FUNCS(root_bytenr, struct btrfs_root_item, bytenr, 64);\nBTRFS_SETGET_STACK_FUNCS(root_drop_level, struct btrfs_root_item, drop_level, 8);\nBTRFS_SETGET_STACK_FUNCS(root_level, struct btrfs_root_item, level, 8);\nBTRFS_SETGET_STACK_FUNCS(root_dirid, struct btrfs_root_item, root_dirid, 64);\nBTRFS_SETGET_STACK_FUNCS(root_refs, struct btrfs_root_item, refs, 32);\nBTRFS_SETGET_STACK_FUNCS(root_flags, struct btrfs_root_item, flags, 64);\nBTRFS_SETGET_STACK_FUNCS(root_used, struct btrfs_root_item, bytes_used, 64);\nBTRFS_SETGET_STACK_FUNCS(root_limit, struct btrfs_root_item, byte_limit, 64);\nBTRFS_SETGET_STACK_FUNCS(root_last_snapshot, struct btrfs_root_item,\n\t\t\t last_snapshot, 64);\nBTRFS_SETGET_STACK_FUNCS(root_generation_v2, struct btrfs_root_item,\n\t\t\t generation_v2, 64);\nBTRFS_SETGET_STACK_FUNCS(root_ctransid, struct btrfs_root_item, ctransid, 64);\nBTRFS_SETGET_STACK_FUNCS(root_otransid, struct btrfs_root_item, otransid, 64);\nBTRFS_SETGET_STACK_FUNCS(root_stransid, struct btrfs_root_item, stransid, 64);\nBTRFS_SETGET_STACK_FUNCS(root_rtransid, struct btrfs_root_item, rtransid, 64);\n\n \nBTRFS_SETGET_STACK_FUNCS(backup_tree_root, struct btrfs_root_backup,\n\t\t   tree_root, 64);\nBTRFS_SETGET_STACK_FUNCS(backup_tree_root_gen, struct btrfs_root_backup,\n\t\t   tree_root_gen, 64);\nBTRFS_SETGET_STACK_FUNCS(backup_tree_root_level, struct btrfs_root_backup,\n\t\t   tree_root_level, 8);\n\nBTRFS_SETGET_STACK_FUNCS(backup_chunk_root, struct btrfs_root_backup,\n\t\t   chunk_root, 64);\nBTRFS_SETGET_STACK_FUNCS(backup_chunk_root_gen, struct btrfs_root_backup,\n\t\t   chunk_root_gen, 64);\nBTRFS_SETGET_STACK_FUNCS(backup_chunk_root_level, struct btrfs_root_backup,\n\t\t   chunk_root_level, 8);\n\nBTRFS_SETGET_STACK_FUNCS(backup_extent_root, struct btrfs_root_backup,\n\t\t   extent_root, 64);\nBTRFS_SETGET_STACK_FUNCS(backup_extent_root_gen, struct btrfs_root_backup,\n\t\t   extent_root_gen, 64);\nBTRFS_SETGET_STACK_FUNCS(backup_extent_root_level, struct btrfs_root_backup,\n\t\t   extent_root_level, 8);\n\nBTRFS_SETGET_STACK_FUNCS(backup_fs_root, struct btrfs_root_backup,\n\t\t   fs_root, 64);\nBTRFS_SETGET_STACK_FUNCS(backup_fs_root_gen, struct btrfs_root_backup,\n\t\t   fs_root_gen, 64);\nBTRFS_SETGET_STACK_FUNCS(backup_fs_root_level, struct btrfs_root_backup,\n\t\t   fs_root_level, 8);\n\nBTRFS_SETGET_STACK_FUNCS(backup_dev_root, struct btrfs_root_backup,\n\t\t   dev_root, 64);\nBTRFS_SETGET_STACK_FUNCS(backup_dev_root_gen, struct btrfs_root_backup,\n\t\t   dev_root_gen, 64);\nBTRFS_SETGET_STACK_FUNCS(backup_dev_root_level, struct btrfs_root_backup,\n\t\t   dev_root_level, 8);\n\nBTRFS_SETGET_STACK_FUNCS(backup_csum_root, struct btrfs_root_backup,\n\t\t   csum_root, 64);\nBTRFS_SETGET_STACK_FUNCS(backup_csum_root_gen, struct btrfs_root_backup,\n\t\t   csum_root_gen, 64);\nBTRFS_SETGET_STACK_FUNCS(backup_csum_root_level, struct btrfs_root_backup,\n\t\t   csum_root_level, 8);\nBTRFS_SETGET_STACK_FUNCS(backup_total_bytes, struct btrfs_root_backup,\n\t\t   total_bytes, 64);\nBTRFS_SETGET_STACK_FUNCS(backup_bytes_used, struct btrfs_root_backup,\n\t\t   bytes_used, 64);\nBTRFS_SETGET_STACK_FUNCS(backup_num_devices, struct btrfs_root_backup,\n\t\t   num_devices, 64);\n\n \nBTRFS_SETGET_FUNCS(balance_flags, struct btrfs_balance_item, flags, 64);\n\nstatic inline void btrfs_balance_data(const struct extent_buffer *eb,\n\t\t\t\t      const struct btrfs_balance_item *bi,\n\t\t\t\t      struct btrfs_disk_balance_args *ba)\n{\n\tread_eb_member(eb, bi, struct btrfs_balance_item, data, ba);\n}\n\nstatic inline void btrfs_set_balance_data(struct extent_buffer *eb,\n\t\t\t\t\t  struct btrfs_balance_item *bi,\n\t\t\t\t\t  const struct btrfs_disk_balance_args *ba)\n{\n\twrite_eb_member(eb, bi, struct btrfs_balance_item, data, ba);\n}\n\nstatic inline void btrfs_balance_meta(const struct extent_buffer *eb,\n\t\t\t\t      const struct btrfs_balance_item *bi,\n\t\t\t\t      struct btrfs_disk_balance_args *ba)\n{\n\tread_eb_member(eb, bi, struct btrfs_balance_item, meta, ba);\n}\n\nstatic inline void btrfs_set_balance_meta(struct extent_buffer *eb,\n\t\t\t\t\t  struct btrfs_balance_item *bi,\n\t\t\t\t\t  const struct btrfs_disk_balance_args *ba)\n{\n\twrite_eb_member(eb, bi, struct btrfs_balance_item, meta, ba);\n}\n\nstatic inline void btrfs_balance_sys(const struct extent_buffer *eb,\n\t\t\t\t     const struct btrfs_balance_item *bi,\n\t\t\t\t     struct btrfs_disk_balance_args *ba)\n{\n\tread_eb_member(eb, bi, struct btrfs_balance_item, sys, ba);\n}\n\nstatic inline void btrfs_set_balance_sys(struct extent_buffer *eb,\n\t\t\t\t\t struct btrfs_balance_item *bi,\n\t\t\t\t\t const struct btrfs_disk_balance_args *ba)\n{\n\twrite_eb_member(eb, bi, struct btrfs_balance_item, sys, ba);\n}\n\nstatic inline void btrfs_disk_balance_args_to_cpu(struct btrfs_balance_args *cpu,\n\t\t\t       const struct btrfs_disk_balance_args *disk)\n{\n\tmemset(cpu, 0, sizeof(*cpu));\n\n\tcpu->profiles = le64_to_cpu(disk->profiles);\n\tcpu->usage = le64_to_cpu(disk->usage);\n\tcpu->devid = le64_to_cpu(disk->devid);\n\tcpu->pstart = le64_to_cpu(disk->pstart);\n\tcpu->pend = le64_to_cpu(disk->pend);\n\tcpu->vstart = le64_to_cpu(disk->vstart);\n\tcpu->vend = le64_to_cpu(disk->vend);\n\tcpu->target = le64_to_cpu(disk->target);\n\tcpu->flags = le64_to_cpu(disk->flags);\n\tcpu->limit = le64_to_cpu(disk->limit);\n\tcpu->stripes_min = le32_to_cpu(disk->stripes_min);\n\tcpu->stripes_max = le32_to_cpu(disk->stripes_max);\n}\n\nstatic inline void btrfs_cpu_balance_args_to_disk(\n\t\t\t\tstruct btrfs_disk_balance_args *disk,\n\t\t\t\tconst struct btrfs_balance_args *cpu)\n{\n\tmemset(disk, 0, sizeof(*disk));\n\n\tdisk->profiles = cpu_to_le64(cpu->profiles);\n\tdisk->usage = cpu_to_le64(cpu->usage);\n\tdisk->devid = cpu_to_le64(cpu->devid);\n\tdisk->pstart = cpu_to_le64(cpu->pstart);\n\tdisk->pend = cpu_to_le64(cpu->pend);\n\tdisk->vstart = cpu_to_le64(cpu->vstart);\n\tdisk->vend = cpu_to_le64(cpu->vend);\n\tdisk->target = cpu_to_le64(cpu->target);\n\tdisk->flags = cpu_to_le64(cpu->flags);\n\tdisk->limit = cpu_to_le64(cpu->limit);\n\tdisk->stripes_min = cpu_to_le32(cpu->stripes_min);\n\tdisk->stripes_max = cpu_to_le32(cpu->stripes_max);\n}\n\n \nBTRFS_SETGET_STACK_FUNCS(super_bytenr, struct btrfs_super_block, bytenr, 64);\nBTRFS_SETGET_STACK_FUNCS(super_flags, struct btrfs_super_block, flags, 64);\nBTRFS_SETGET_STACK_FUNCS(super_generation, struct btrfs_super_block,\n\t\t\t generation, 64);\nBTRFS_SETGET_STACK_FUNCS(super_root, struct btrfs_super_block, root, 64);\nBTRFS_SETGET_STACK_FUNCS(super_sys_array_size,\n\t\t\t struct btrfs_super_block, sys_chunk_array_size, 32);\nBTRFS_SETGET_STACK_FUNCS(super_chunk_root_generation,\n\t\t\t struct btrfs_super_block, chunk_root_generation, 64);\nBTRFS_SETGET_STACK_FUNCS(super_root_level, struct btrfs_super_block,\n\t\t\t root_level, 8);\nBTRFS_SETGET_STACK_FUNCS(super_chunk_root, struct btrfs_super_block,\n\t\t\t chunk_root, 64);\nBTRFS_SETGET_STACK_FUNCS(super_chunk_root_level, struct btrfs_super_block,\n\t\t\t chunk_root_level, 8);\nBTRFS_SETGET_STACK_FUNCS(super_log_root, struct btrfs_super_block, log_root, 64);\nBTRFS_SETGET_STACK_FUNCS(super_log_root_level, struct btrfs_super_block,\n\t\t\t log_root_level, 8);\nBTRFS_SETGET_STACK_FUNCS(super_total_bytes, struct btrfs_super_block,\n\t\t\t total_bytes, 64);\nBTRFS_SETGET_STACK_FUNCS(super_bytes_used, struct btrfs_super_block,\n\t\t\t bytes_used, 64);\nBTRFS_SETGET_STACK_FUNCS(super_sectorsize, struct btrfs_super_block,\n\t\t\t sectorsize, 32);\nBTRFS_SETGET_STACK_FUNCS(super_nodesize, struct btrfs_super_block,\n\t\t\t nodesize, 32);\nBTRFS_SETGET_STACK_FUNCS(super_stripesize, struct btrfs_super_block,\n\t\t\t stripesize, 32);\nBTRFS_SETGET_STACK_FUNCS(super_root_dir, struct btrfs_super_block,\n\t\t\t root_dir_objectid, 64);\nBTRFS_SETGET_STACK_FUNCS(super_num_devices, struct btrfs_super_block,\n\t\t\t num_devices, 64);\nBTRFS_SETGET_STACK_FUNCS(super_compat_flags, struct btrfs_super_block,\n\t\t\t compat_flags, 64);\nBTRFS_SETGET_STACK_FUNCS(super_compat_ro_flags, struct btrfs_super_block,\n\t\t\t compat_ro_flags, 64);\nBTRFS_SETGET_STACK_FUNCS(super_incompat_flags, struct btrfs_super_block,\n\t\t\t incompat_flags, 64);\nBTRFS_SETGET_STACK_FUNCS(super_csum_type, struct btrfs_super_block,\n\t\t\t csum_type, 16);\nBTRFS_SETGET_STACK_FUNCS(super_cache_generation, struct btrfs_super_block,\n\t\t\t cache_generation, 64);\nBTRFS_SETGET_STACK_FUNCS(super_magic, struct btrfs_super_block, magic, 64);\nBTRFS_SETGET_STACK_FUNCS(super_uuid_tree_generation, struct btrfs_super_block,\n\t\t\t uuid_tree_generation, 64);\nBTRFS_SETGET_STACK_FUNCS(super_nr_global_roots, struct btrfs_super_block,\n\t\t\t nr_global_roots, 64);\n\n \nBTRFS_SETGET_STACK_FUNCS(stack_file_extent_type, struct btrfs_file_extent_item,\n\t\t\t type, 8);\nBTRFS_SETGET_STACK_FUNCS(stack_file_extent_disk_bytenr,\n\t\t\t struct btrfs_file_extent_item, disk_bytenr, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_file_extent_offset,\n\t\t\t struct btrfs_file_extent_item, offset, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_file_extent_generation,\n\t\t\t struct btrfs_file_extent_item, generation, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_file_extent_num_bytes,\n\t\t\t struct btrfs_file_extent_item, num_bytes, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_file_extent_ram_bytes,\n\t\t\t struct btrfs_file_extent_item, ram_bytes, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_file_extent_disk_num_bytes,\n\t\t\t struct btrfs_file_extent_item, disk_num_bytes, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_file_extent_compression,\n\t\t\t struct btrfs_file_extent_item, compression, 8);\n\n\nBTRFS_SETGET_FUNCS(file_extent_type, struct btrfs_file_extent_item, type, 8);\nBTRFS_SETGET_FUNCS(file_extent_disk_bytenr, struct btrfs_file_extent_item,\n\t\t   disk_bytenr, 64);\nBTRFS_SETGET_FUNCS(file_extent_generation, struct btrfs_file_extent_item,\n\t\t   generation, 64);\nBTRFS_SETGET_FUNCS(file_extent_disk_num_bytes, struct btrfs_file_extent_item,\n\t\t   disk_num_bytes, 64);\nBTRFS_SETGET_FUNCS(file_extent_offset, struct btrfs_file_extent_item,\n\t\t  offset, 64);\nBTRFS_SETGET_FUNCS(file_extent_num_bytes, struct btrfs_file_extent_item,\n\t\t   num_bytes, 64);\nBTRFS_SETGET_FUNCS(file_extent_ram_bytes, struct btrfs_file_extent_item,\n\t\t   ram_bytes, 64);\nBTRFS_SETGET_FUNCS(file_extent_compression, struct btrfs_file_extent_item,\n\t\t   compression, 8);\nBTRFS_SETGET_FUNCS(file_extent_encryption, struct btrfs_file_extent_item,\n\t\t   encryption, 8);\nBTRFS_SETGET_FUNCS(file_extent_other_encoding, struct btrfs_file_extent_item,\n\t\t   other_encoding, 16);\n\n \nBTRFS_SETGET_FUNCS(qgroup_status_generation, struct btrfs_qgroup_status_item,\n\t\t   generation, 64);\nBTRFS_SETGET_FUNCS(qgroup_status_version, struct btrfs_qgroup_status_item,\n\t\t   version, 64);\nBTRFS_SETGET_FUNCS(qgroup_status_flags, struct btrfs_qgroup_status_item,\n\t\t   flags, 64);\nBTRFS_SETGET_FUNCS(qgroup_status_rescan, struct btrfs_qgroup_status_item,\n\t\t   rescan, 64);\n\n \nBTRFS_SETGET_FUNCS(qgroup_info_generation, struct btrfs_qgroup_info_item,\n\t\t   generation, 64);\nBTRFS_SETGET_FUNCS(qgroup_info_rfer, struct btrfs_qgroup_info_item, rfer, 64);\nBTRFS_SETGET_FUNCS(qgroup_info_rfer_cmpr, struct btrfs_qgroup_info_item,\n\t\t   rfer_cmpr, 64);\nBTRFS_SETGET_FUNCS(qgroup_info_excl, struct btrfs_qgroup_info_item, excl, 64);\nBTRFS_SETGET_FUNCS(qgroup_info_excl_cmpr, struct btrfs_qgroup_info_item,\n\t\t   excl_cmpr, 64);\n\nBTRFS_SETGET_STACK_FUNCS(stack_qgroup_info_generation,\n\t\t\t struct btrfs_qgroup_info_item, generation, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_qgroup_info_rfer, struct btrfs_qgroup_info_item,\n\t\t\t rfer, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_qgroup_info_rfer_cmpr,\n\t\t\t struct btrfs_qgroup_info_item, rfer_cmpr, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_qgroup_info_excl, struct btrfs_qgroup_info_item,\n\t\t\t excl, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_qgroup_info_excl_cmpr,\n\t\t\t struct btrfs_qgroup_info_item, excl_cmpr, 64);\n\n \nBTRFS_SETGET_FUNCS(qgroup_limit_flags, struct btrfs_qgroup_limit_item, flags, 64);\nBTRFS_SETGET_FUNCS(qgroup_limit_max_rfer, struct btrfs_qgroup_limit_item,\n\t\t   max_rfer, 64);\nBTRFS_SETGET_FUNCS(qgroup_limit_max_excl, struct btrfs_qgroup_limit_item,\n\t\t   max_excl, 64);\nBTRFS_SETGET_FUNCS(qgroup_limit_rsv_rfer, struct btrfs_qgroup_limit_item,\n\t\t   rsv_rfer, 64);\nBTRFS_SETGET_FUNCS(qgroup_limit_rsv_excl, struct btrfs_qgroup_limit_item,\n\t\t   rsv_excl, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_qgroup_limit_flags,\n\t\t\t struct btrfs_qgroup_limit_item, flags, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_qgroup_limit_max_rfer,\n\t\t\t struct btrfs_qgroup_limit_item, max_rfer, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_qgroup_limit_max_excl,\n\t\t\t struct btrfs_qgroup_limit_item, max_excl, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_qgroup_limit_rsv_rfer,\n\t\t\t struct btrfs_qgroup_limit_item, rsv_rfer, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_qgroup_limit_rsv_excl,\n\t\t\t struct btrfs_qgroup_limit_item, rsv_excl, 64);\n\n \nBTRFS_SETGET_FUNCS(dev_replace_src_devid,\n\t\t   struct btrfs_dev_replace_item, src_devid, 64);\nBTRFS_SETGET_FUNCS(dev_replace_cont_reading_from_srcdev_mode,\n\t\t   struct btrfs_dev_replace_item, cont_reading_from_srcdev_mode,\n\t\t   64);\nBTRFS_SETGET_FUNCS(dev_replace_replace_state, struct btrfs_dev_replace_item,\n\t\t   replace_state, 64);\nBTRFS_SETGET_FUNCS(dev_replace_time_started, struct btrfs_dev_replace_item,\n\t\t   time_started, 64);\nBTRFS_SETGET_FUNCS(dev_replace_time_stopped, struct btrfs_dev_replace_item,\n\t\t   time_stopped, 64);\nBTRFS_SETGET_FUNCS(dev_replace_num_write_errors, struct btrfs_dev_replace_item,\n\t\t   num_write_errors, 64);\nBTRFS_SETGET_FUNCS(dev_replace_num_uncorrectable_read_errors,\n\t\t   struct btrfs_dev_replace_item, num_uncorrectable_read_errors,\n\t\t   64);\nBTRFS_SETGET_FUNCS(dev_replace_cursor_left, struct btrfs_dev_replace_item,\n\t\t   cursor_left, 64);\nBTRFS_SETGET_FUNCS(dev_replace_cursor_right, struct btrfs_dev_replace_item,\n\t\t   cursor_right, 64);\n\nBTRFS_SETGET_STACK_FUNCS(stack_dev_replace_src_devid,\n\t\t\t struct btrfs_dev_replace_item, src_devid, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_dev_replace_cont_reading_from_srcdev_mode,\n\t\t\t struct btrfs_dev_replace_item,\n\t\t\t cont_reading_from_srcdev_mode, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_dev_replace_replace_state,\n\t\t\t struct btrfs_dev_replace_item, replace_state, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_dev_replace_time_started,\n\t\t\t struct btrfs_dev_replace_item, time_started, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_dev_replace_time_stopped,\n\t\t\t struct btrfs_dev_replace_item, time_stopped, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_dev_replace_num_write_errors,\n\t\t\t struct btrfs_dev_replace_item, num_write_errors, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_dev_replace_num_uncorrectable_read_errors,\n\t\t\t struct btrfs_dev_replace_item,\n\t\t\t num_uncorrectable_read_errors, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_dev_replace_cursor_left,\n\t\t\t struct btrfs_dev_replace_item, cursor_left, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_dev_replace_cursor_right,\n\t\t\t struct btrfs_dev_replace_item, cursor_right, 64);\n\n \nBTRFS_SETGET_FUNCS(verity_descriptor_encryption, struct btrfs_verity_descriptor_item,\n\t\t   encryption, 8);\nBTRFS_SETGET_FUNCS(verity_descriptor_size, struct btrfs_verity_descriptor_item,\n\t\t   size, 64);\nBTRFS_SETGET_STACK_FUNCS(stack_verity_descriptor_encryption,\n\t\t\t struct btrfs_verity_descriptor_item, encryption, 8);\nBTRFS_SETGET_STACK_FUNCS(stack_verity_descriptor_size,\n\t\t\t struct btrfs_verity_descriptor_item, size, 64);\n\n \n#define btrfs_item_ptr(leaf, slot, type)\t\t\t\t\\\n\t((type *)(btrfs_item_nr_offset(leaf, 0) + btrfs_item_offset(leaf, slot)))\n\n#define btrfs_item_ptr_offset(leaf, slot)\t\t\t\t\\\n\t((unsigned long)(btrfs_item_nr_offset(leaf, 0) + btrfs_item_offset(leaf, slot)))\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}