{
  "module_name": "disk-io.h",
  "hash_id": "00cf1fd76faea2e88373f0d0c3cf560e29030bb1fbc8283208d27daf1b6886b2",
  "original_prompt": "Ingested from linux-6.6.14/fs/btrfs/disk-io.h",
  "human_readable_source": " \n \n\n#ifndef BTRFS_DISK_IO_H\n#define BTRFS_DISK_IO_H\n\n#define BTRFS_SUPER_MIRROR_MAX\t 3\n#define BTRFS_SUPER_MIRROR_SHIFT 12\n\n \n#define BTRFS_BDEV_BLOCKSIZE\t(4096)\n\nstatic inline u64 btrfs_sb_offset(int mirror)\n{\n\tu64 start = SZ_16K;\n\tif (mirror)\n\t\treturn start << (BTRFS_SUPER_MIRROR_SHIFT * mirror);\n\treturn BTRFS_SUPER_INFO_OFFSET;\n}\n\nstruct btrfs_device;\nstruct btrfs_fs_devices;\nstruct btrfs_tree_parent_check;\n\nvoid btrfs_check_leaked_roots(struct btrfs_fs_info *fs_info);\nvoid btrfs_init_fs_info(struct btrfs_fs_info *fs_info);\nstruct extent_buffer *read_tree_block(struct btrfs_fs_info *fs_info, u64 bytenr,\n\t\t\t\t      struct btrfs_tree_parent_check *check);\nstruct extent_buffer *btrfs_find_create_tree_block(\n\t\t\t\t\t\tstruct btrfs_fs_info *fs_info,\n\t\t\t\t\t\tu64 bytenr, u64 owner_root,\n\t\t\t\t\t\tint level);\nvoid btrfs_clear_buffer_dirty(struct btrfs_trans_handle *trans,\n\t\t\t      struct extent_buffer *buf);\nvoid btrfs_clear_oneshot_options(struct btrfs_fs_info *fs_info);\nint btrfs_start_pre_rw_mount(struct btrfs_fs_info *fs_info);\nint btrfs_check_super_csum(struct btrfs_fs_info *fs_info,\n\t\t\t   const struct btrfs_super_block *disk_sb);\nint __cold open_ctree(struct super_block *sb,\n\t       struct btrfs_fs_devices *fs_devices,\n\t       char *options);\nvoid __cold close_ctree(struct btrfs_fs_info *fs_info);\nint btrfs_validate_super(struct btrfs_fs_info *fs_info,\n\t\t\t struct btrfs_super_block *sb, int mirror_num);\nint btrfs_check_features(struct btrfs_fs_info *fs_info, bool is_rw_mount);\nint write_all_supers(struct btrfs_fs_info *fs_info, int max_mirrors);\nstruct btrfs_super_block *btrfs_read_dev_super(struct block_device *bdev);\nstruct btrfs_super_block *btrfs_read_dev_one_super(struct block_device *bdev,\n\t\t\t\t\t\t   int copy_num, bool drop_cache);\nint btrfs_commit_super(struct btrfs_fs_info *fs_info);\nstruct btrfs_root *btrfs_read_tree_root(struct btrfs_root *tree_root,\n\t\t\t\t\tstruct btrfs_key *key);\nint btrfs_insert_fs_root(struct btrfs_fs_info *fs_info,\n\t\t\t struct btrfs_root *root);\nvoid btrfs_free_fs_roots(struct btrfs_fs_info *fs_info);\n\nstruct btrfs_root *btrfs_get_fs_root(struct btrfs_fs_info *fs_info,\n\t\t\t\t     u64 objectid, bool check_ref);\nstruct btrfs_root *btrfs_get_new_fs_root(struct btrfs_fs_info *fs_info,\n\t\t\t\t\t u64 objectid, dev_t anon_dev);\nstruct btrfs_root *btrfs_get_fs_root_commit_root(struct btrfs_fs_info *fs_info,\n\t\t\t\t\t\t struct btrfs_path *path,\n\t\t\t\t\t\t u64 objectid);\nint btrfs_global_root_insert(struct btrfs_root *root);\nvoid btrfs_global_root_delete(struct btrfs_root *root);\nstruct btrfs_root *btrfs_global_root(struct btrfs_fs_info *fs_info,\n\t\t\t\t     struct btrfs_key *key);\nstruct btrfs_root *btrfs_csum_root(struct btrfs_fs_info *fs_info, u64 bytenr);\nstruct btrfs_root *btrfs_extent_root(struct btrfs_fs_info *fs_info, u64 bytenr);\nstruct btrfs_root *btrfs_block_group_root(struct btrfs_fs_info *fs_info);\n\nvoid btrfs_free_fs_info(struct btrfs_fs_info *fs_info);\nvoid btrfs_btree_balance_dirty(struct btrfs_fs_info *fs_info);\nvoid btrfs_btree_balance_dirty_nodelay(struct btrfs_fs_info *fs_info);\nvoid btrfs_drop_and_free_fs_root(struct btrfs_fs_info *fs_info,\n\t\t\t\t struct btrfs_root *root);\nint btrfs_validate_extent_buffer(struct extent_buffer *eb,\n\t\t\t\t struct btrfs_tree_parent_check *check);\n#ifdef CONFIG_BTRFS_FS_RUN_SANITY_TESTS\nstruct btrfs_root *btrfs_alloc_dummy_root(struct btrfs_fs_info *fs_info);\n#endif\n\n \nstatic inline struct btrfs_root *btrfs_grab_root(struct btrfs_root *root)\n{\n\tif (!root)\n\t\treturn NULL;\n\tif (refcount_inc_not_zero(&root->refs))\n\t\treturn root;\n\treturn NULL;\n}\n\nvoid btrfs_put_root(struct btrfs_root *root);\nvoid btrfs_mark_buffer_dirty(struct btrfs_trans_handle *trans,\n\t\t\t     struct extent_buffer *buf);\nint btrfs_buffer_uptodate(struct extent_buffer *buf, u64 parent_transid,\n\t\t\t  int atomic);\nint btrfs_read_extent_buffer(struct extent_buffer *buf,\n\t\t\t     struct btrfs_tree_parent_check *check);\n\nblk_status_t btree_csum_one_bio(struct btrfs_bio *bbio);\nint btrfs_alloc_log_tree_node(struct btrfs_trans_handle *trans,\n\t\t\t      struct btrfs_root *root);\nint btrfs_init_log_root_tree(struct btrfs_trans_handle *trans,\n\t\t\t     struct btrfs_fs_info *fs_info);\nint btrfs_add_log_tree(struct btrfs_trans_handle *trans,\n\t\t       struct btrfs_root *root);\nvoid btrfs_cleanup_dirty_bgs(struct btrfs_transaction *trans,\n\t\t\t     struct btrfs_fs_info *fs_info);\nvoid btrfs_cleanup_one_transaction(struct btrfs_transaction *trans,\n\t\t\t\t  struct btrfs_fs_info *fs_info);\nstruct btrfs_root *btrfs_create_tree(struct btrfs_trans_handle *trans,\n\t\t\t\t     u64 objectid);\nint btrfs_get_num_tolerated_disk_barrier_failures(u64 flags);\nint btrfs_get_free_objectid(struct btrfs_root *root, u64 *objectid);\nint btrfs_init_root_free_objectid(struct btrfs_root *root);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}