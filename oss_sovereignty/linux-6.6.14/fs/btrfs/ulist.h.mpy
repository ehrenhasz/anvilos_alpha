{
  "module_name": "ulist.h",
  "hash_id": "80f7dc19162c4d6de305520c35a9f486b5e2cbd587eb24514c159c40daac2d71",
  "original_prompt": "Ingested from linux-6.6.14/fs/btrfs/ulist.h",
  "human_readable_source": " \n \n\n#ifndef BTRFS_ULIST_H\n#define BTRFS_ULIST_H\n\n#include <linux/list.h>\n#include <linux/rbtree.h>\n\n \nstruct ulist_iterator {\n\tstruct list_head *cur_list;   \n};\n\n \nstruct ulist_node {\n\tu64 val;\t\t \n\tu64 aux;\t\t \n\n\tstruct list_head list;   \n\tstruct rb_node rb_node;\t \n};\n\nstruct ulist {\n\t \n\tunsigned long nnodes;\n\n\tstruct list_head nodes;\n\tstruct rb_root root;\n};\n\nvoid ulist_init(struct ulist *ulist);\nvoid ulist_release(struct ulist *ulist);\nvoid ulist_reinit(struct ulist *ulist);\nstruct ulist *ulist_alloc(gfp_t gfp_mask);\nvoid ulist_free(struct ulist *ulist);\nint ulist_add(struct ulist *ulist, u64 val, u64 aux, gfp_t gfp_mask);\nint ulist_add_merge(struct ulist *ulist, u64 val, u64 aux,\n\t\t    u64 *old_aux, gfp_t gfp_mask);\nint ulist_del(struct ulist *ulist, u64 val, u64 aux);\n\n \nstatic inline int ulist_add_merge_ptr(struct ulist *ulist, u64 val, void *aux,\n\t\t\t\t      void **old_aux, gfp_t gfp_mask)\n{\n#if BITS_PER_LONG == 32\n\tu64 old64 = (uintptr_t)*old_aux;\n\tint ret = ulist_add_merge(ulist, val, (uintptr_t)aux, &old64, gfp_mask);\n\t*old_aux = (void *)((uintptr_t)old64);\n\treturn ret;\n#else\n\treturn ulist_add_merge(ulist, val, (u64)aux, (u64 *)old_aux, gfp_mask);\n#endif\n}\n\nstruct ulist_node *ulist_next(const struct ulist *ulist,\n\t\t\t      struct ulist_iterator *uiter);\n\n#define ULIST_ITER_INIT(uiter) ((uiter)->cur_list = NULL)\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}