{
  "module_name": "extent-tree.h",
  "hash_id": "be01be82f0217c2df354bc862a576ac2524afc0209e46cff2395d5a33bfe0ff8",
  "original_prompt": "Ingested from linux-6.6.14/fs/btrfs/extent-tree.h",
  "human_readable_source": " \n\n#ifndef BTRFS_EXTENT_TREE_H\n#define BTRFS_EXTENT_TREE_H\n\n#include \"misc.h\"\n#include \"block-group.h\"\n\nstruct btrfs_free_cluster;\n\nenum btrfs_extent_allocation_policy {\n\tBTRFS_EXTENT_ALLOC_CLUSTERED,\n\tBTRFS_EXTENT_ALLOC_ZONED,\n};\n\nstruct find_free_extent_ctl {\n\t \n\tu64 ram_bytes;\n\tu64 num_bytes;\n\tu64 min_alloc_size;\n\tu64 empty_size;\n\tu64 flags;\n\tint delalloc;\n\n\t \n\tu64 search_start;\n\n\t \n\tu64 empty_cluster;\n\tstruct btrfs_free_cluster *last_ptr;\n\tbool use_cluster;\n\n\tbool have_caching_bg;\n\tbool orig_have_caching_bg;\n\n\t \n\tbool for_treelog;\n\n\t \n\tbool for_data_reloc;\n\n\t \n\tint index;\n\n\t \n\tint loop;\n\n\t \n\tbool retry_uncached;\n\n\t \n\tint cached;\n\n\t \n\tu64 max_extent_size;\n\n\t \n\tu64 total_free_space;\n\n\t \n\tu64 found_offset;\n\n\t \n\tu64 hint_byte;\n\n\t \n\tenum btrfs_extent_allocation_policy policy;\n\n\t \n\tbool hinted;\n\n\t \n\tenum btrfs_block_group_size_class size_class;\n};\n\nenum btrfs_inline_ref_type {\n\tBTRFS_REF_TYPE_INVALID,\n\tBTRFS_REF_TYPE_BLOCK,\n\tBTRFS_REF_TYPE_DATA,\n\tBTRFS_REF_TYPE_ANY,\n};\n\nint btrfs_get_extent_inline_ref_type(const struct extent_buffer *eb,\n\t\t\t\t     struct btrfs_extent_inline_ref *iref,\n\t\t\t\t     enum btrfs_inline_ref_type is_data);\nu64 hash_extent_data_ref(u64 root_objectid, u64 owner, u64 offset);\n\nint btrfs_run_delayed_refs(struct btrfs_trans_handle *trans, unsigned long count);\nvoid btrfs_cleanup_ref_head_accounting(struct btrfs_fs_info *fs_info,\n\t\t\t\t  struct btrfs_delayed_ref_root *delayed_refs,\n\t\t\t\t  struct btrfs_delayed_ref_head *head);\nint btrfs_lookup_data_extent(struct btrfs_fs_info *fs_info, u64 start, u64 len);\nint btrfs_lookup_extent_info(struct btrfs_trans_handle *trans,\n\t\t\t     struct btrfs_fs_info *fs_info, u64 bytenr,\n\t\t\t     u64 offset, int metadata, u64 *refs, u64 *flags);\nint btrfs_pin_extent(struct btrfs_trans_handle *trans, u64 bytenr, u64 num,\n\t\t     int reserved);\nint btrfs_pin_extent_for_log_replay(struct btrfs_trans_handle *trans,\n\t\t\t\t    u64 bytenr, u64 num_bytes);\nint btrfs_exclude_logged_extents(struct extent_buffer *eb);\nint btrfs_cross_ref_exist(struct btrfs_root *root,\n\t\t\t  u64 objectid, u64 offset, u64 bytenr, bool strict,\n\t\t\t  struct btrfs_path *path);\nstruct extent_buffer *btrfs_alloc_tree_block(struct btrfs_trans_handle *trans,\n\t\t\t\t\t     struct btrfs_root *root,\n\t\t\t\t\t     u64 parent, u64 root_objectid,\n\t\t\t\t\t     const struct btrfs_disk_key *key,\n\t\t\t\t\t     int level, u64 hint,\n\t\t\t\t\t     u64 empty_size,\n\t\t\t\t\t     enum btrfs_lock_nesting nest);\nvoid btrfs_free_tree_block(struct btrfs_trans_handle *trans,\n\t\t\t   u64 root_id,\n\t\t\t   struct extent_buffer *buf,\n\t\t\t   u64 parent, int last_ref);\nint btrfs_alloc_reserved_file_extent(struct btrfs_trans_handle *trans,\n\t\t\t\t     struct btrfs_root *root, u64 owner,\n\t\t\t\t     u64 offset, u64 ram_bytes,\n\t\t\t\t     struct btrfs_key *ins);\nint btrfs_alloc_logged_file_extent(struct btrfs_trans_handle *trans,\n\t\t\t\t   u64 root_objectid, u64 owner, u64 offset,\n\t\t\t\t   struct btrfs_key *ins);\nint btrfs_reserve_extent(struct btrfs_root *root, u64 ram_bytes, u64 num_bytes,\n\t\t\t u64 min_alloc_size, u64 empty_size, u64 hint_byte,\n\t\t\t struct btrfs_key *ins, int is_data, int delalloc);\nint btrfs_inc_ref(struct btrfs_trans_handle *trans, struct btrfs_root *root,\n\t\t  struct extent_buffer *buf, int full_backref);\nint btrfs_dec_ref(struct btrfs_trans_handle *trans, struct btrfs_root *root,\n\t\t  struct extent_buffer *buf, int full_backref);\nint btrfs_set_disk_extent_flags(struct btrfs_trans_handle *trans,\n\t\t\t\tstruct extent_buffer *eb, u64 flags);\nint btrfs_free_extent(struct btrfs_trans_handle *trans, struct btrfs_ref *ref);\n\nint btrfs_free_reserved_extent(struct btrfs_fs_info *fs_info,\n\t\t\t       u64 start, u64 len, int delalloc);\nint btrfs_pin_reserved_extent(struct btrfs_trans_handle *trans, u64 start, u64 len);\nint btrfs_finish_extent_commit(struct btrfs_trans_handle *trans);\nint btrfs_inc_extent_ref(struct btrfs_trans_handle *trans, struct btrfs_ref *generic_ref);\nint __must_check btrfs_drop_snapshot(struct btrfs_root *root, int update_ref,\n\t\t\t\t     int for_reloc);\nint btrfs_drop_subtree(struct btrfs_trans_handle *trans,\n\t\t\tstruct btrfs_root *root,\n\t\t\tstruct extent_buffer *node,\n\t\t\tstruct extent_buffer *parent);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}