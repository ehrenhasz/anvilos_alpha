{
  "module_name": "ocfs2_fs.h",
  "hash_id": "01a02b2e6af49da09dfd82113a9755f70f109ce7bfef81729908c2063a2e7f5b",
  "original_prompt": "Ingested from linux-6.6.14/fs/ocfs2/ocfs2_fs.h",
  "human_readable_source": " \n \n\n#ifndef _OCFS2_FS_H\n#define _OCFS2_FS_H\n\n#include <linux/magic.h>\n\n \n#define OCFS2_MAJOR_REV_LEVEL\t\t0\n#define OCFS2_MINOR_REV_LEVEL          \t90\n\n \n#define OCFS2_SUPER_BLOCK_BLKNO\t\t2\n\n \n#define OCFS2_MIN_CLUSTERSIZE\t\t4096\n#define OCFS2_MAX_CLUSTERSIZE\t\t1048576\n\n \n#define OCFS2_MIN_BLOCKSIZE\t\t512\n#define OCFS2_MAX_BLOCKSIZE\t\tOCFS2_MIN_CLUSTERSIZE\n\n \n#define OCFS2_SUPER_BLOCK_SIGNATURE\t\"OCFSV2\"\n#define OCFS2_INODE_SIGNATURE\t\t\"INODE01\"\n#define OCFS2_EXTENT_BLOCK_SIGNATURE\t\"EXBLK01\"\n#define OCFS2_GROUP_DESC_SIGNATURE      \"GROUP01\"\n#define OCFS2_XATTR_BLOCK_SIGNATURE\t\"XATTR01\"\n#define OCFS2_DIR_TRAILER_SIGNATURE\t\"DIRTRL1\"\n#define OCFS2_DX_ROOT_SIGNATURE\t\t\"DXDIR01\"\n#define OCFS2_DX_LEAF_SIGNATURE\t\t\"DXLEAF1\"\n#define OCFS2_REFCOUNT_BLOCK_SIGNATURE\t\"REFCNT1\"\n\n \n#define OCFS2_HAS_COMPAT_FEATURE(sb,mask)\t\t\t\\\n\t( OCFS2_SB(sb)->s_feature_compat & (mask) )\n#define OCFS2_HAS_RO_COMPAT_FEATURE(sb,mask)\t\t\t\\\n\t( OCFS2_SB(sb)->s_feature_ro_compat & (mask) )\n#define OCFS2_HAS_INCOMPAT_FEATURE(sb,mask)\t\t\t\\\n\t( OCFS2_SB(sb)->s_feature_incompat & (mask) )\n#define OCFS2_SET_COMPAT_FEATURE(sb,mask)\t\t\t\\\n\tOCFS2_SB(sb)->s_feature_compat |= (mask)\n#define OCFS2_SET_RO_COMPAT_FEATURE(sb,mask)\t\t\t\\\n\tOCFS2_SB(sb)->s_feature_ro_compat |= (mask)\n#define OCFS2_SET_INCOMPAT_FEATURE(sb,mask)\t\t\t\\\n\tOCFS2_SB(sb)->s_feature_incompat |= (mask)\n#define OCFS2_CLEAR_COMPAT_FEATURE(sb,mask)\t\t\t\\\n\tOCFS2_SB(sb)->s_feature_compat &= ~(mask)\n#define OCFS2_CLEAR_RO_COMPAT_FEATURE(sb,mask)\t\t\t\\\n\tOCFS2_SB(sb)->s_feature_ro_compat &= ~(mask)\n#define OCFS2_CLEAR_INCOMPAT_FEATURE(sb,mask)\t\t\t\\\n\tOCFS2_SB(sb)->s_feature_incompat &= ~(mask)\n\n#define OCFS2_FEATURE_COMPAT_SUPP\t(OCFS2_FEATURE_COMPAT_BACKUP_SB\t\\\n\t\t\t\t\t | OCFS2_FEATURE_COMPAT_JBD2_SB)\n#define OCFS2_FEATURE_INCOMPAT_SUPP\t(OCFS2_FEATURE_INCOMPAT_LOCAL_MOUNT \\\n\t\t\t\t\t | OCFS2_FEATURE_INCOMPAT_SPARSE_ALLOC \\\n\t\t\t\t\t | OCFS2_FEATURE_INCOMPAT_INLINE_DATA \\\n\t\t\t\t\t | OCFS2_FEATURE_INCOMPAT_EXTENDED_SLOT_MAP \\\n\t\t\t\t\t | OCFS2_FEATURE_INCOMPAT_USERSPACE_STACK \\\n\t\t\t\t\t | OCFS2_FEATURE_INCOMPAT_XATTR \\\n\t\t\t\t\t | OCFS2_FEATURE_INCOMPAT_META_ECC \\\n\t\t\t\t\t | OCFS2_FEATURE_INCOMPAT_INDEXED_DIRS \\\n\t\t\t\t\t | OCFS2_FEATURE_INCOMPAT_REFCOUNT_TREE \\\n\t\t\t\t\t | OCFS2_FEATURE_INCOMPAT_DISCONTIG_BG\t\\\n\t\t\t\t\t | OCFS2_FEATURE_INCOMPAT_CLUSTERINFO \\\n\t\t\t\t\t | OCFS2_FEATURE_INCOMPAT_APPEND_DIO)\n#define OCFS2_FEATURE_RO_COMPAT_SUPP\t(OCFS2_FEATURE_RO_COMPAT_UNWRITTEN \\\n\t\t\t\t\t | OCFS2_FEATURE_RO_COMPAT_USRQUOTA \\\n\t\t\t\t\t | OCFS2_FEATURE_RO_COMPAT_GRPQUOTA)\n\n \n#define OCFS2_FEATURE_INCOMPAT_HEARTBEAT_DEV\t0x0002\n\n \n#define OCFS2_FEATURE_INCOMPAT_RESIZE_INPROG    0x0004\n\n \n#define OCFS2_FEATURE_INCOMPAT_LOCAL_MOUNT\t0x0008\n\n \n#define OCFS2_FEATURE_INCOMPAT_SPARSE_ALLOC\t0x0010\n\n \n#define OCFS2_FEATURE_INCOMPAT_TUNEFS_INPROG\t0x0020\n\n \n#define OCFS2_FEATURE_INCOMPAT_INLINE_DATA\t0x0040\n\n \n#define OCFS2_FEATURE_INCOMPAT_USERSPACE_STACK\t0x0080\n\n \n#define OCFS2_FEATURE_INCOMPAT_EXTENDED_SLOT_MAP 0x100\n\n \n#define OCFS2_FEATURE_INCOMPAT_XATTR\t\t0x0200\n\n \n#define OCFS2_FEATURE_INCOMPAT_INDEXED_DIRS\t0x0400\n\n \n#define OCFS2_FEATURE_INCOMPAT_META_ECC\t\t0x0800\n\n \n#define OCFS2_FEATURE_INCOMPAT_REFCOUNT_TREE\t0x1000\n\n \n#define OCFS2_FEATURE_INCOMPAT_DISCONTIG_BG\t0x2000\n\n \n#define OCFS2_FEATURE_INCOMPAT_CLUSTERINFO\t0x4000\n\n \n#define OCFS2_FEATURE_INCOMPAT_APPEND_DIO\t0x8000\n\n \n#define OCFS2_FEATURE_COMPAT_BACKUP_SB\t\t0x0001\n\n \n#define OCFS2_FEATURE_COMPAT_JBD2_SB\t\t0x0002\n\n \n#define OCFS2_FEATURE_RO_COMPAT_UNWRITTEN\t0x0001\n\n \n#define OCFS2_FEATURE_RO_COMPAT_USRQUOTA\t0x0002\n#define OCFS2_FEATURE_RO_COMPAT_GRPQUOTA\t0x0004\n\n\n \n#define OCFS2_BACKUP_SB_START\t\t\t1 << 30\n\n \n#define OCFS2_MAX_BACKUP_SUPERBLOCKS\t6\n\n \n#define OCFS2_TUNEFS_INPROG_REMOVE_SLOT\t\t0x0001\t \n\n \n#define OCFS2_VALID_FL\t\t(0x00000001)\t \n#define OCFS2_UNUSED2_FL\t(0x00000002)\n#define OCFS2_ORPHANED_FL\t(0x00000004)\t \n#define OCFS2_UNUSED3_FL\t(0x00000008)\n \n#define OCFS2_SYSTEM_FL\t\t(0x00000010)\t \n#define OCFS2_SUPER_BLOCK_FL\t(0x00000020)\t \n#define OCFS2_LOCAL_ALLOC_FL\t(0x00000040)\t \n#define OCFS2_BITMAP_FL\t\t(0x00000080)\t \n#define OCFS2_JOURNAL_FL\t(0x00000100)\t \n#define OCFS2_HEARTBEAT_FL\t(0x00000200)\t \n#define OCFS2_CHAIN_FL\t\t(0x00000400)\t \n#define OCFS2_DEALLOC_FL\t(0x00000800)\t \n#define OCFS2_QUOTA_FL\t\t(0x00001000)\t \n#define OCFS2_DIO_ORPHANED_FL\t(0X00002000)\t \n\n \n#define OCFS2_INLINE_DATA_FL\t(0x0001)\t \n#define OCFS2_HAS_XATTR_FL\t(0x0002)\n#define OCFS2_INLINE_XATTR_FL\t(0x0004)\n#define OCFS2_INDEXED_DIR_FL\t(0x0008)\n#define OCFS2_HAS_REFCOUNT_FL   (0x0010)\n\n \n#define OCFS2_SECRM_FL\t\t\tFS_SECRM_FL\t \n#define OCFS2_UNRM_FL\t\t\tFS_UNRM_FL\t \n#define OCFS2_COMPR_FL\t\t\tFS_COMPR_FL\t \n#define OCFS2_SYNC_FL\t\t\tFS_SYNC_FL\t \n#define OCFS2_IMMUTABLE_FL\t\tFS_IMMUTABLE_FL\t \n#define OCFS2_APPEND_FL\t\t\tFS_APPEND_FL\t \n#define OCFS2_NODUMP_FL\t\t\tFS_NODUMP_FL\t \n#define OCFS2_NOATIME_FL\t\tFS_NOATIME_FL\t \n \n#define OCFS2_DIRTY_FL\t\t\tFS_DIRTY_FL\n#define OCFS2_COMPRBLK_FL\t\tFS_COMPRBLK_FL\t \n#define OCFS2_NOCOMP_FL\t\t\tFS_NOCOMP_FL\t \n#define OCFS2_ECOMPR_FL\t\t\tFS_ECOMPR_FL\t \n \n#define OCFS2_BTREE_FL\t\t\tFS_BTREE_FL\t \n#define OCFS2_INDEX_FL\t\t\tFS_INDEX_FL\t \n#define OCFS2_IMAGIC_FL\t\t\tFS_IMAGIC_FL\t \n#define OCFS2_JOURNAL_DATA_FL\t\tFS_JOURNAL_DATA_FL  \n#define OCFS2_NOTAIL_FL\t\t\tFS_NOTAIL_FL\t \n#define OCFS2_DIRSYNC_FL\t\tFS_DIRSYNC_FL\t \n#define OCFS2_TOPDIR_FL\t\t\tFS_TOPDIR_FL\t \n#define OCFS2_RESERVED_FL\t\tFS_RESERVED_FL\t \n\n#define OCFS2_FL_VISIBLE\t\tFS_FL_USER_VISIBLE\t \n#define OCFS2_FL_MODIFIABLE\t\tFS_FL_USER_MODIFIABLE\t \n\n \n#define OCFS2_EXT_UNWRITTEN\t\t(0x01)\t \n#define OCFS2_EXT_REFCOUNTED\t\t(0x02)   \n\n \n#define OCFS2_JOURNAL_DIRTY_FL\t(0x00000001)\t \n\n \n#define OCFS2_ERROR_FS\t\t(0x00000001)\t \n\n \n#define OCFS2_MAX_FILENAME_LEN\t\t255\n\n \n#define OCFS2_MAX_SLOTS\t\t\t255\n\n \n#define OCFS2_INVALID_SLOT\t\t((u16)-1)\n\n#define OCFS2_VOL_UUID_LEN\t\t16\n#define OCFS2_MAX_VOL_LABEL_LEN\t\t64\n\n \n#define OCFS2_STACK_LABEL_LEN\t\t4\n#define OCFS2_CLUSTER_NAME_LEN\t\t16\n\n \n#define OCFS2_CLASSIC_CLUSTER_STACK\t\"o2cb\"\n\n \n#define OCFS2_MIN_JOURNAL_SIZE\t\t(4 * 1024 * 1024)\n\n \n#define OCFS2_MIN_XATTR_INLINE_SIZE     256\n\n \n#define OCFS2_CLUSTER_O2CB_GLOBAL_HEARTBEAT\t(0x01)\n\nstruct ocfs2_system_inode_info {\n\tchar\t*si_name;\n\tint\tsi_iflags;\n\tint\tsi_mode;\n};\n\n \nenum {\n\tBAD_BLOCK_SYSTEM_INODE = 0,\n\tGLOBAL_INODE_ALLOC_SYSTEM_INODE,\n#define OCFS2_FIRST_ONLINE_SYSTEM_INODE GLOBAL_INODE_ALLOC_SYSTEM_INODE\n\tSLOT_MAP_SYSTEM_INODE,\n\tHEARTBEAT_SYSTEM_INODE,\n\tGLOBAL_BITMAP_SYSTEM_INODE,\n\tUSER_QUOTA_SYSTEM_INODE,\n\tGROUP_QUOTA_SYSTEM_INODE,\n#define OCFS2_LAST_GLOBAL_SYSTEM_INODE GROUP_QUOTA_SYSTEM_INODE\n#define OCFS2_FIRST_LOCAL_SYSTEM_INODE ORPHAN_DIR_SYSTEM_INODE\n\tORPHAN_DIR_SYSTEM_INODE,\n\tEXTENT_ALLOC_SYSTEM_INODE,\n\tINODE_ALLOC_SYSTEM_INODE,\n\tJOURNAL_SYSTEM_INODE,\n\tLOCAL_ALLOC_SYSTEM_INODE,\n\tTRUNCATE_LOG_SYSTEM_INODE,\n\tLOCAL_USER_QUOTA_SYSTEM_INODE,\n\tLOCAL_GROUP_QUOTA_SYSTEM_INODE,\n#define OCFS2_LAST_LOCAL_SYSTEM_INODE LOCAL_GROUP_QUOTA_SYSTEM_INODE\n\tNUM_SYSTEM_INODES\n};\n#define NUM_GLOBAL_SYSTEM_INODES OCFS2_FIRST_LOCAL_SYSTEM_INODE\n#define NUM_LOCAL_SYSTEM_INODES\t\\\n\t\t(NUM_SYSTEM_INODES - OCFS2_FIRST_LOCAL_SYSTEM_INODE)\n\nstatic struct ocfs2_system_inode_info ocfs2_system_inodes[NUM_SYSTEM_INODES] = {\n\t \n\t \n\t[BAD_BLOCK_SYSTEM_INODE]\t\t= { \"bad_blocks\", 0, S_IFREG | 0644 },\n\t[GLOBAL_INODE_ALLOC_SYSTEM_INODE] \t= { \"global_inode_alloc\", OCFS2_BITMAP_FL | OCFS2_CHAIN_FL, S_IFREG | 0644 },\n\n\t \n\t[SLOT_MAP_SYSTEM_INODE]\t\t\t= { \"slot_map\", 0, S_IFREG | 0644 },\n\t[HEARTBEAT_SYSTEM_INODE]\t\t= { \"heartbeat\", OCFS2_HEARTBEAT_FL, S_IFREG | 0644 },\n\t[GLOBAL_BITMAP_SYSTEM_INODE]\t\t= { \"global_bitmap\", 0, S_IFREG | 0644 },\n\t[USER_QUOTA_SYSTEM_INODE]\t\t= { \"aquota.user\", OCFS2_QUOTA_FL, S_IFREG | 0644 },\n\t[GROUP_QUOTA_SYSTEM_INODE]\t\t= { \"aquota.group\", OCFS2_QUOTA_FL, S_IFREG | 0644 },\n\n\t \n\t[ORPHAN_DIR_SYSTEM_INODE]\t\t= { \"orphan_dir:%04d\", 0, S_IFDIR | 0755 },\n\t[EXTENT_ALLOC_SYSTEM_INODE]\t\t= { \"extent_alloc:%04d\", OCFS2_BITMAP_FL | OCFS2_CHAIN_FL, S_IFREG | 0644 },\n\t[INODE_ALLOC_SYSTEM_INODE]\t\t= { \"inode_alloc:%04d\", OCFS2_BITMAP_FL | OCFS2_CHAIN_FL, S_IFREG | 0644 },\n\t[JOURNAL_SYSTEM_INODE]\t\t\t= { \"journal:%04d\", OCFS2_JOURNAL_FL, S_IFREG | 0644 },\n\t[LOCAL_ALLOC_SYSTEM_INODE]\t\t= { \"local_alloc:%04d\", OCFS2_BITMAP_FL | OCFS2_LOCAL_ALLOC_FL, S_IFREG | 0644 },\n\t[TRUNCATE_LOG_SYSTEM_INODE]\t\t= { \"truncate_log:%04d\", OCFS2_DEALLOC_FL, S_IFREG | 0644 },\n\t[LOCAL_USER_QUOTA_SYSTEM_INODE]\t\t= { \"aquota.user:%04d\", OCFS2_QUOTA_FL, S_IFREG | 0644 },\n\t[LOCAL_GROUP_QUOTA_SYSTEM_INODE]\t= { \"aquota.group:%04d\", OCFS2_QUOTA_FL, S_IFREG | 0644 },\n};\n\n \n#define OCFS2_HB_NONE\t\t\t\"heartbeat=none\"\n#define OCFS2_HB_LOCAL\t\t\t\"heartbeat=local\"\n#define OCFS2_HB_GLOBAL\t\t\t\"heartbeat=global\"\n\n \n#define OCFS2_DIR_PAD\t\t\t4\n#define OCFS2_DIR_ROUND\t\t\t(OCFS2_DIR_PAD - 1)\n#define OCFS2_DIR_MEMBER_LEN \t\toffsetof(struct ocfs2_dir_entry, name)\n#define OCFS2_DIR_REC_LEN(name_len)\t(((name_len) + OCFS2_DIR_MEMBER_LEN + \\\n                                          OCFS2_DIR_ROUND) & \\\n\t\t\t\t\t ~OCFS2_DIR_ROUND)\n#define OCFS2_DIR_MIN_REC_LEN\tOCFS2_DIR_REC_LEN(1)\n\n#define OCFS2_LINK_MAX\t\t32000\n#define\tOCFS2_DX_LINK_MAX\t((1U << 31) - 1U)\n#define\tOCFS2_LINKS_HI_SHIFT\t16\n#define\tOCFS2_DX_ENTRIES_MAX\t(0xffffffffU)\n\n\n \n#define OCFS2_RAW_SB(dinode)\t\t(&((dinode)->id2.i_super))\n\n \nstruct ocfs2_block_check {\n \t__le32 bc_crc32e;\t \n\t__le16 bc_ecc;\t\t \n\t__le16 bc_reserved1;\n \n};\n\n \nstruct ocfs2_extent_rec {\n \t__le32 e_cpos;\t\t \n\tunion {\n\t\t__le32 e_int_clusters;  \n\t\tstruct {\n\t\t\t__le16 e_leaf_clusters;  \n\t\t\t__u8 e_reserved1;\n\t\t\t__u8 e_flags;  \n\t\t};\n\t};\n\t__le64 e_blkno;\t\t \n \n};\n\nstruct ocfs2_chain_rec {\n\t__le32 c_free;\t \n\t__le32 c_total;\t \n\t__le64 c_blkno;\t \n};\n\nstruct ocfs2_truncate_rec {\n\t__le32 t_start;\t\t \n\t__le32 t_clusters;\t \n};\n\n \nstruct ocfs2_extent_list {\n \t__le16 l_tree_depth;\t\t \n\t__le16 l_count;\t\t\t \n\t__le16 l_next_free_rec;\t\t \n\t__le16 l_reserved1;\n\t__le64 l_reserved2;\t\t \n \tstruct ocfs2_extent_rec l_recs[];\t \n};\n\n \nstruct ocfs2_chain_list {\n \t__le16 cl_cpg;\t\t\t \n\t__le16 cl_bpc;\t\t\t \n\t__le16 cl_count;\t\t \n\t__le16 cl_next_free_rec;\t \n\t__le64 cl_reserved1;\n \tstruct ocfs2_chain_rec cl_recs[];\t \n};\n\n \nstruct ocfs2_truncate_log {\n \t__le16 tl_count;\t\t \n\t__le16 tl_used;\t\t\t \n\t__le32 tl_reserved1;\n \tstruct ocfs2_truncate_rec tl_recs[];\t \n};\n\n \nstruct ocfs2_extent_block\n{\n \t__u8 h_signature[8];\t\t \n\tstruct ocfs2_block_check h_check;\t \n \t__le16 h_suballoc_slot;\t\t \n\t__le16 h_suballoc_bit;\t\t \n\t__le32 h_fs_generation;\t\t \n\t__le64 h_blkno;\t\t\t \n \t__le64 h_suballoc_loc;\t\t \n\t__le64 h_next_leaf_blk;\t\t \n \tstruct ocfs2_extent_list h_list;\t \n \n};\n\n \nstruct ocfs2_slot_map {\n \tDECLARE_FLEX_ARRAY(__le16, sm_slots);\n \n};\n\nstruct ocfs2_extended_slot {\n \t__u8\tes_valid;\n\t__u8\tes_reserved1[3];\n\t__le32\tes_node_num;\n \n};\n\n \nstruct ocfs2_slot_map_extended {\n \tDECLARE_FLEX_ARRAY(struct ocfs2_extended_slot, se_slots);\n \n};\n\n \nstruct ocfs2_cluster_info {\n \t__u8   ci_stack[OCFS2_STACK_LABEL_LEN];\n\tunion {\n\t\t__le32 ci_reserved;\n\t\tstruct {\n\t\t\t__u8 ci_stackflags;\n\t\t\t__u8 ci_reserved1;\n\t\t\t__u8 ci_reserved2;\n\t\t\t__u8 ci_reserved3;\n\t\t};\n\t};\n \t__u8   ci_cluster[OCFS2_CLUSTER_NAME_LEN];\n \n};\n\n \nstruct ocfs2_super_block {\n \t__le16 s_major_rev_level;\n\t__le16 s_minor_rev_level;\n\t__le16 s_mnt_count;\n\t__le16 s_max_mnt_count;\n\t__le16 s_state;\t\t\t \n\t__le16 s_errors;\t\t\t \n\t__le32 s_checkinterval;\t\t \n \t__le64 s_lastcheck;\t\t \n\t__le32 s_creator_os;\t\t \n\t__le32 s_feature_compat;\t\t \n \t__le32 s_feature_incompat;\t \n\t__le32 s_feature_ro_compat;\t \n\t__le64 s_root_blkno;\t\t \n \t__le64 s_system_dir_blkno;\t \n\t__le32 s_blocksize_bits;\t\t \n\t__le32 s_clustersize_bits;\t \n \t__le16 s_max_slots;\t\t \n\t__le16 s_tunefs_flag;\n\t__le32 s_uuid_hash;\t\t \n\t__le64 s_first_cluster_group;\t \n \t__u8  s_label[OCFS2_MAX_VOL_LABEL_LEN];\t \n \t__u8  s_uuid[OCFS2_VOL_UUID_LEN];\t \n   struct ocfs2_cluster_info s_cluster_info;  \n \t__le16 s_xattr_inline_size;\t \n\t__le16 s_reserved0;\n\t__le32 s_dx_seed[3];\t\t \n   __le64 s_reserved2[15];\t\t \n \n\n\t \n};\n\n \nstruct ocfs2_local_alloc\n{\n \t__le32 la_bm_off;\t \n\t__le16 la_size;\t\t \n\t__le16 la_reserved1;\n\t__le64 la_reserved2;\n \t__u8   la_bitmap[];\n};\n\n \nstruct ocfs2_inline_data\n{\n \t__le16\tid_count;\t \n\t__le16\tid_reserved0;\n\t__le32\tid_reserved1;\n\t__u8\tid_data[];\t \n};\n\n \nstruct ocfs2_dinode {\n \t__u8 i_signature[8];\t\t \n\t__le32 i_generation;\t\t \n\t__le16 i_suballoc_slot;\t\t \n\t__le16 i_suballoc_bit;\t\t \n \t__le16 i_links_count_hi;\t \n\t__le16 i_xattr_inline_size;\n\t__le32 i_clusters;\t\t \n\t__le32 i_uid;\t\t\t \n\t__le32 i_gid;\t\t\t \n \t__le64 i_size;\t\t\t \n\t__le16 i_mode;\t\t\t \n\t__le16 i_links_count;\t\t \n\t__le32 i_flags;\t\t\t \n \t__le64 i_atime;\t\t\t \n\t__le64 i_ctime;\t\t\t \n \t__le64 i_mtime;\t\t\t \n\t__le64 i_dtime;\t\t\t \n \t__le64 i_blkno;\t\t\t \n\t__le64 i_last_eb_blk;\t\t \n \t__le32 i_fs_generation;\t\t \n\t__le32 i_atime_nsec;\n\t__le32 i_ctime_nsec;\n\t__le32 i_mtime_nsec;\n \t__le32 i_attr;\n\t__le16 i_orphaned_slot;\t\t \n\t__le16 i_dyn_features;\n\t__le64 i_xattr_loc;\n \tstruct ocfs2_block_check i_check;\t \n \t__le64 i_dx_root;\t\t \n \t__le64 i_refcount_loc;\n\t__le64 i_suballoc_loc;\t\t \n \t__le16 i_dio_orphaned_slot;\t \n\t__le16 i_reserved1[3];\n\t__le64 i_reserved2[2];\n \tunion {\n\t\t__le64 i_pad1;\t\t \n\t\tstruct {\n\t\t\t__le64 i_rdev;\t \n\t\t} dev1;\n\t\tstruct {\t\t \n\t\t\t__le32 i_used;\t \n\t\t\t__le32 i_total;\t \n\t\t} bitmap1;\n\t\tstruct {\t\t \n\t\t\t__le32 ij_flags;\t \n\t\t\t__le32 ij_recovery_generation;  \n\t\t} journal1;\n\t} id1;\t\t\t\t \n \tunion {\n\t\tstruct ocfs2_super_block\ti_super;\n\t\tstruct ocfs2_local_alloc\ti_lab;\n\t\tstruct ocfs2_chain_list\t\ti_chain;\n\t\tstruct ocfs2_extent_list\ti_list;\n\t\tstruct ocfs2_truncate_log\ti_dealloc;\n\t\tstruct ocfs2_inline_data\ti_data;\n\t\tDECLARE_FLEX_ARRAY(__u8,\ti_symlink);\n\t} id2;\n \n};\n\n \nstruct ocfs2_dir_entry {\n \t__le64   inode;                   \n\t__le16   rec_len;                 \n\t__u8    name_len;                \n\t__u8    file_type;\n \tchar    name[OCFS2_MAX_FILENAME_LEN];    \n \n} __attribute__ ((packed));\n\n \nstruct ocfs2_dir_block_trailer {\n \t__le64\t\tdb_compat_inode;\t \n\n\t__le16\t\tdb_compat_rec_len;\t \n\t__u8\t\tdb_compat_name_len;\t \n\t__u8\t\tdb_reserved0;\n\t__le16\t\tdb_reserved1;\n\t__le16\t\tdb_free_rec_len;\t \n \t__u8\t\tdb_signature[8];\t \n\t__le64\t\tdb_reserved2;\n \t__le64\t\tdb_free_next;\t\t \n\t__le64\t\tdb_blkno;\t\t \n \t__le64\t\tdb_parent_dinode;\t \n\tstruct ocfs2_block_check db_check;\t \n \n};\n\n  \nstruct ocfs2_dx_entry {\n\t__le32\t\tdx_major_hash;\t \n\t__le32\t\tdx_minor_hash;\t \n\t__le64\t\tdx_dirent_blk;\t \n};\n\nstruct ocfs2_dx_entry_list {\n\t__le32\t\tde_reserved;\n\t__le16\t\tde_count;\t \n\t__le16\t\tde_num_used;\t \n\tstruct\tocfs2_dx_entry\t\tde_entries[];\t \n};\n\n#define OCFS2_DX_FLAG_INLINE\t0x01\n\n \nstruct ocfs2_dx_root_block {\n\t__u8\t\tdr_signature[8];\t \n\tstruct ocfs2_block_check dr_check;\t \n\t__le16\t\tdr_suballoc_slot;\t \n\t__le16\t\tdr_suballoc_bit;\t \n\t__le32\t\tdr_fs_generation;\t \n\t__le64\t\tdr_blkno;\t\t \n\t__le64\t\tdr_last_eb_blk;\t\t \n\t__le32\t\tdr_clusters;\t\t \n\t__u8\t\tdr_flags;\t\t \n\t__u8\t\tdr_reserved0;\n\t__le16\t\tdr_reserved1;\n\t__le64\t\tdr_dir_blkno;\t\t \n\t__le32\t\tdr_num_entries;\t\t \n\t__le32\t\tdr_reserved2;\n\t__le64\t\tdr_free_blk;\t\t \n\t__le64\t\tdr_suballoc_loc;\t \n\t__le64\t\tdr_reserved3[14];\n\tunion {\n\t\tstruct ocfs2_extent_list dr_list;  \n\t\tstruct ocfs2_dx_entry_list dr_entries;  \n\t};\n};\n\n \nstruct ocfs2_dx_leaf {\n\t__u8\t\tdl_signature[8]; \n\tstruct ocfs2_block_check dl_check;\t \n\t__le64\t\tdl_blkno;\t \n\t__le32\t\tdl_fs_generation; \n\t__le32\t\tdl_reserved0;\n\t__le64\t\tdl_reserved1;\n\tstruct ocfs2_dx_entry_list\tdl_list;\n};\n\n \n#define OCFS2_MAX_BG_BITMAP_SIZE\t256\n\n \nstruct ocfs2_group_desc\n{\n \t__u8    bg_signature[8];         \n\t__le16   bg_size;                 \n\t__le16   bg_bits;                 \n\t__le16\tbg_free_bits_count;      \n\t__le16   bg_chain;                \n \t__le32   bg_generation;\n\t__le32\tbg_reserved1;\n\t__le64   bg_next_group;           \n \t__le64   bg_parent_dinode;        \n\t__le64   bg_blkno;                \n \tstruct ocfs2_block_check bg_check;\t \n\t__le64   bg_reserved2;\n \tunion {\n\t\tDECLARE_FLEX_ARRAY(__u8, bg_bitmap);\n\t\tstruct {\n\t\t\t \n\t\t\t__u8 bg_bitmap_filler[OCFS2_MAX_BG_BITMAP_SIZE];\n \t\t\tstruct ocfs2_extent_list bg_list;\n\t\t};\n\t};\n \n};\n\nstruct ocfs2_refcount_rec {\n \t__le64 r_cpos;\t\t \n\t__le32 r_clusters;\t \n\t__le32 r_refcount;\t \n \n};\n#define OCFS2_32BIT_POS_MASK\t\t(0xffffffffULL)\n\n#define OCFS2_REFCOUNT_LEAF_FL          (0x00000001)\n#define OCFS2_REFCOUNT_TREE_FL          (0x00000002)\n\nstruct ocfs2_refcount_list {\n \t__le16 rl_count;\t \n\t__le16 rl_used;\t\t \n\t__le32 rl_reserved2;\n\t__le64 rl_reserved1;\t \n \tstruct ocfs2_refcount_rec rl_recs[];\t \n};\n\n\nstruct ocfs2_refcount_block {\n \t__u8 rf_signature[8];\t\t \n\t__le16 rf_suballoc_slot;\t \n\t__le16 rf_suballoc_bit;\t\t \n\t__le32 rf_fs_generation;\t \n \t__le64 rf_blkno;\t\t \n\t__le64 rf_parent;\t\t \n \tstruct ocfs2_block_check rf_check;\t \n\t__le64 rf_last_eb_blk;\t\t \n \t__le32 rf_count;\t\t \n\t__le32 rf_flags;\t\t \n\t__le32 rf_clusters;\t\t \n\t__le32 rf_cpos;\t\t\t \n \t__le32 rf_generation;\t\t \n\t__le32 rf_reserved0;\n\t__le64 rf_suballoc_loc;\t\t \n \t__le64 rf_reserved1[6];\n \tunion {\n\t\tstruct ocfs2_refcount_list rf_records;   \n\t\tstruct ocfs2_extent_list rf_list;\t \n\t};\n \n};\n\n \n\n \nstruct ocfs2_xattr_entry {\n\t__le32\txe_name_hash;     \n\t__le16\txe_name_offset;   \n\t__u8\txe_name_len;\t  \n\t__u8\txe_type;          \n\t__le64\txe_value_size;\t  \n};\n\n \nstruct ocfs2_xattr_header {\n\t__le16\txh_count;                        \n\t__le16\txh_free_start;                   \n\t__le16\txh_name_value_len;               \n\t__le16\txh_num_buckets;                  \n\tstruct ocfs2_block_check xh_check;\t \n\tstruct ocfs2_xattr_entry xh_entries[];  \n};\n\n \nstruct ocfs2_xattr_value_root {\n \t__le32\txr_clusters;               \n\t__le32\txr_reserved0;\n\t__le64\txr_last_eb_blk;            \n \tstruct ocfs2_extent_list xr_list;  \n};\n\n \nstruct ocfs2_xattr_tree_root {\n \t__le32\txt_clusters;               \n\t__le32\txt_reserved0;\n\t__le64\txt_last_eb_blk;            \n \tstruct ocfs2_extent_list xt_list;  \n};\n\n#define OCFS2_XATTR_INDEXED\t0x1\n#define OCFS2_HASH_SHIFT\t5\n#define OCFS2_XATTR_ROUND\t3\n#define OCFS2_XATTR_SIZE(size)\t(((size) + OCFS2_XATTR_ROUND) & \\\n\t\t\t\t~(OCFS2_XATTR_ROUND))\n\n#define OCFS2_XATTR_BUCKET_SIZE\t\t\t4096\n#define OCFS2_XATTR_MAX_BLOCKS_PER_BUCKET \t(OCFS2_XATTR_BUCKET_SIZE \\\n\t\t\t\t\t\t / OCFS2_MIN_BLOCKSIZE)\n\n \nstruct ocfs2_xattr_block {\n \t__u8\txb_signature[8];      \n\t__le16\txb_suballoc_slot;     \n\t__le16\txb_suballoc_bit;      \n\t__le32\txb_fs_generation;     \n \t__le64\txb_blkno;             \n\tstruct ocfs2_block_check xb_check;\t \n \t__le16\txb_flags;             \n\t__le16\txb_reserved0;\n\t__le32  xb_reserved1;\n\t__le64\txb_suballoc_loc;\t \n \tunion {\n\t\tstruct ocfs2_xattr_header xb_header;  \n\t\tstruct ocfs2_xattr_tree_root xb_root; \n\t} xb_attrs;\n};\n\n#define OCFS2_XATTR_ENTRY_LOCAL\t\t0x80\n#define OCFS2_XATTR_TYPE_MASK\t\t0x7F\nstatic inline void ocfs2_xattr_set_local(struct ocfs2_xattr_entry *xe,\n\t\t\t\t\t int local)\n{\n\tif (local)\n\t\txe->xe_type |= OCFS2_XATTR_ENTRY_LOCAL;\n\telse\n\t\txe->xe_type &= ~OCFS2_XATTR_ENTRY_LOCAL;\n}\n\nstatic inline int ocfs2_xattr_is_local(struct ocfs2_xattr_entry *xe)\n{\n\treturn xe->xe_type & OCFS2_XATTR_ENTRY_LOCAL;\n}\n\nstatic inline void ocfs2_xattr_set_type(struct ocfs2_xattr_entry *xe, int type)\n{\n\txe->xe_type |= type & OCFS2_XATTR_TYPE_MASK;\n}\n\nstatic inline int ocfs2_xattr_get_type(struct ocfs2_xattr_entry *xe)\n{\n\treturn xe->xe_type & OCFS2_XATTR_TYPE_MASK;\n}\n\n \n\n \n#define OCFS2_GLOBAL_QMAGICS {\\\n\t0x0cf52470,   \\\n\t0x0cf52471    \\\n}\n\n#define OCFS2_GLOBAL_QVERSIONS {\\\n\t0, \\\n\t0, \\\n}\n\n\n \n#define OCFS2_QBLK_RESERVED_SPACE 8\n\n \nstruct ocfs2_disk_dqheader {\n\t__le32 dqh_magic;\t \n\t__le32 dqh_version;\t \n};\n\n#define OCFS2_GLOBAL_INFO_OFF (sizeof(struct ocfs2_disk_dqheader))\n\n \nstruct ocfs2_global_disk_dqinfo {\n \t__le32 dqi_bgrace;\t \n\t__le32 dqi_igrace;\t \n\t__le32 dqi_syncms;\t \n\t__le32 dqi_blocks;\t \n \t__le32 dqi_free_blk;\t \n\t__le32 dqi_free_entry;\t \n};\n\n \nstruct ocfs2_global_disk_dqblk {\n \t__le32 dqb_id;           \n\t__le32 dqb_use_count;    \n\t__le64 dqb_ihardlimit;   \n \t__le64 dqb_isoftlimit;   \n\t__le64 dqb_curinodes;    \n \t__le64 dqb_bhardlimit;   \n\t__le64 dqb_bsoftlimit;   \n \t__le64 dqb_curspace;     \n\t__le64 dqb_btime;        \n \t__le64 dqb_itime;        \n\t__le64 dqb_pad1;\n \t__le64 dqb_pad2;\n};\n\n \n\n \n#define OCFS2_LOCAL_QMAGICS {\\\n\t0x0cf524c0,   \\\n\t0x0cf524c1    \\\n}\n\n#define OCFS2_LOCAL_QVERSIONS {\\\n\t0, \\\n\t0, \\\n}\n\n \n#define OLQF_CLEAN\t0x0001\t \n\n#define OCFS2_LOCAL_INFO_OFF (sizeof(struct ocfs2_disk_dqheader))\n\n \nstruct ocfs2_local_disk_dqinfo {\n\t__le32 dqi_flags;\t \n\t__le32 dqi_chunks;\t \n\t__le32 dqi_blocks;\t \n};\n\n \nstruct ocfs2_local_disk_chunk {\n\t__le32 dqc_free;\t \n\t__u8 dqc_bitmap[];\t \n};\n\n \nstruct ocfs2_local_disk_dqblk {\n \t__le64 dqb_id;\t\t \n\t__le64 dqb_spacemod;\t \n \t__le64 dqb_inodemod;\t \n};\n\n\n \n\nstruct ocfs2_disk_dqtrailer {\n \tstruct ocfs2_block_check dq_check;\t \n \t \n};\n\nstatic inline struct ocfs2_disk_dqtrailer *ocfs2_block_dqtrailer(int blocksize,\n\t\t\t\t\t\t\t\t void *buf)\n{\n\tchar *ptr = buf;\n\tptr += blocksize - OCFS2_QBLK_RESERVED_SPACE;\n\n\treturn (struct ocfs2_disk_dqtrailer *)ptr;\n}\n\n#ifdef __KERNEL__\nstatic inline int ocfs2_fast_symlink_chars(struct super_block *sb)\n{\n\treturn  sb->s_blocksize -\n\t\t offsetof(struct ocfs2_dinode, id2.i_symlink);\n}\n\nstatic inline int ocfs2_max_inline_data_with_xattr(struct super_block *sb,\n\t\t\t\t\t\t   struct ocfs2_dinode *di)\n{\n\tunsigned int xattrsize = le16_to_cpu(di->i_xattr_inline_size);\n\n\tif (le16_to_cpu(di->i_dyn_features) & OCFS2_INLINE_XATTR_FL)\n\t\treturn sb->s_blocksize -\n\t\t\toffsetof(struct ocfs2_dinode, id2.i_data.id_data) -\n\t\t\txattrsize;\n\telse\n\t\treturn sb->s_blocksize -\n\t\t\toffsetof(struct ocfs2_dinode, id2.i_data.id_data);\n}\n\nstatic inline int ocfs2_extent_recs_per_inode(struct super_block *sb)\n{\n\tint size;\n\n\tsize = sb->s_blocksize -\n\t\toffsetof(struct ocfs2_dinode, id2.i_list.l_recs);\n\n\treturn size / sizeof(struct ocfs2_extent_rec);\n}\n\nstatic inline int ocfs2_extent_recs_per_inode_with_xattr(\n\t\t\t\t\t\tstruct super_block *sb,\n\t\t\t\t\t\tstruct ocfs2_dinode *di)\n{\n\tint size;\n\tunsigned int xattrsize = le16_to_cpu(di->i_xattr_inline_size);\n\n\tif (le16_to_cpu(di->i_dyn_features) & OCFS2_INLINE_XATTR_FL)\n\t\tsize = sb->s_blocksize -\n\t\t\toffsetof(struct ocfs2_dinode, id2.i_list.l_recs) -\n\t\t\txattrsize;\n\telse\n\t\tsize = sb->s_blocksize -\n\t\t\toffsetof(struct ocfs2_dinode, id2.i_list.l_recs);\n\n\treturn size / sizeof(struct ocfs2_extent_rec);\n}\n\nstatic inline int ocfs2_extent_recs_per_dx_root(struct super_block *sb)\n{\n\tint size;\n\n\tsize = sb->s_blocksize -\n\t\toffsetof(struct ocfs2_dx_root_block, dr_list.l_recs);\n\n\treturn size / sizeof(struct ocfs2_extent_rec);\n}\n\nstatic inline int ocfs2_chain_recs_per_inode(struct super_block *sb)\n{\n\tint size;\n\n\tsize = sb->s_blocksize -\n\t\toffsetof(struct ocfs2_dinode, id2.i_chain.cl_recs);\n\n\treturn size / sizeof(struct ocfs2_chain_rec);\n}\n\nstatic inline u16 ocfs2_extent_recs_per_eb(struct super_block *sb)\n{\n\tint size;\n\n\tsize = sb->s_blocksize -\n\t\toffsetof(struct ocfs2_extent_block, h_list.l_recs);\n\n\treturn size / sizeof(struct ocfs2_extent_rec);\n}\n\nstatic inline u16 ocfs2_extent_recs_per_gd(struct super_block *sb)\n{\n\tint size;\n\n\tsize = sb->s_blocksize -\n\t\toffsetof(struct ocfs2_group_desc, bg_list.l_recs);\n\n\treturn size / sizeof(struct ocfs2_extent_rec);\n}\n\nstatic inline int ocfs2_dx_entries_per_leaf(struct super_block *sb)\n{\n\tint size;\n\n\tsize = sb->s_blocksize -\n\t\toffsetof(struct ocfs2_dx_leaf, dl_list.de_entries);\n\n\treturn size / sizeof(struct ocfs2_dx_entry);\n}\n\nstatic inline int ocfs2_dx_entries_per_root(struct super_block *sb)\n{\n\tint size;\n\n\tsize = sb->s_blocksize -\n\t\toffsetof(struct ocfs2_dx_root_block, dr_entries.de_entries);\n\n\treturn size / sizeof(struct ocfs2_dx_entry);\n}\n\nstatic inline u16 ocfs2_local_alloc_size(struct super_block *sb)\n{\n\tu16 size;\n\n\tsize = sb->s_blocksize -\n\t\toffsetof(struct ocfs2_dinode, id2.i_lab.la_bitmap);\n\n\treturn size;\n}\n\nstatic inline int ocfs2_group_bitmap_size(struct super_block *sb,\n\t\t\t\t\t  int suballocator,\n\t\t\t\t\t  u32 feature_incompat)\n{\n\tint size = sb->s_blocksize -\n\t\toffsetof(struct ocfs2_group_desc, bg_bitmap);\n\n\t \n\tif (suballocator &&\n\t    (feature_incompat & OCFS2_FEATURE_INCOMPAT_DISCONTIG_BG))\n\t\tsize = OCFS2_MAX_BG_BITMAP_SIZE;\n\n\treturn size;\n}\n\nstatic inline int ocfs2_truncate_recs_per_inode(struct super_block *sb)\n{\n\tint size;\n\n\tsize = sb->s_blocksize -\n\t\toffsetof(struct ocfs2_dinode, id2.i_dealloc.tl_recs);\n\n\treturn size / sizeof(struct ocfs2_truncate_rec);\n}\n\nstatic inline u64 ocfs2_backup_super_blkno(struct super_block *sb, int index)\n{\n\tu64 offset = OCFS2_BACKUP_SB_START;\n\n\tif (index >= 0 && index < OCFS2_MAX_BACKUP_SUPERBLOCKS) {\n\t\toffset <<= (2 * index);\n\t\toffset >>= sb->s_blocksize_bits;\n\t\treturn offset;\n\t}\n\n\treturn 0;\n\n}\n\nstatic inline u16 ocfs2_xattr_recs_per_xb(struct super_block *sb)\n{\n\tint size;\n\n\tsize = sb->s_blocksize -\n\t\toffsetof(struct ocfs2_xattr_block,\n\t\t\t xb_attrs.xb_root.xt_list.l_recs);\n\n\treturn size / sizeof(struct ocfs2_extent_rec);\n}\n\nstatic inline u16 ocfs2_extent_recs_per_rb(struct super_block *sb)\n{\n\tint size;\n\n\tsize = sb->s_blocksize -\n\t\toffsetof(struct ocfs2_refcount_block, rf_list.l_recs);\n\n\treturn size / sizeof(struct ocfs2_extent_rec);\n}\n\nstatic inline u16 ocfs2_refcount_recs_per_rb(struct super_block *sb)\n{\n\tint size;\n\n\tsize = sb->s_blocksize -\n\t\toffsetof(struct ocfs2_refcount_block, rf_records.rl_recs);\n\n\treturn size / sizeof(struct ocfs2_refcount_rec);\n}\n\nstatic inline u32\nocfs2_get_ref_rec_low_cpos(const struct ocfs2_refcount_rec *rec)\n{\n\treturn le64_to_cpu(rec->r_cpos) & OCFS2_32BIT_POS_MASK;\n}\n#else\nstatic inline int ocfs2_fast_symlink_chars(int blocksize)\n{\n\treturn blocksize - offsetof(struct ocfs2_dinode, id2.i_symlink);\n}\n\nstatic inline int ocfs2_max_inline_data_with_xattr(int blocksize,\n\t\t\t\t\t\t   struct ocfs2_dinode *di)\n{\n\tif (di && (di->i_dyn_features & OCFS2_INLINE_XATTR_FL))\n\t\treturn blocksize -\n\t\t\toffsetof(struct ocfs2_dinode, id2.i_data.id_data) -\n\t\t\tdi->i_xattr_inline_size;\n\telse\n\t\treturn blocksize -\n\t\t\toffsetof(struct ocfs2_dinode, id2.i_data.id_data);\n}\n\nstatic inline int ocfs2_extent_recs_per_inode(int blocksize)\n{\n\tint size;\n\n\tsize = blocksize -\n\t\toffsetof(struct ocfs2_dinode, id2.i_list.l_recs);\n\n\treturn size / sizeof(struct ocfs2_extent_rec);\n}\n\nstatic inline int ocfs2_chain_recs_per_inode(int blocksize)\n{\n\tint size;\n\n\tsize = blocksize -\n\t\toffsetof(struct ocfs2_dinode, id2.i_chain.cl_recs);\n\n\treturn size / sizeof(struct ocfs2_chain_rec);\n}\n\nstatic inline int ocfs2_extent_recs_per_eb(int blocksize)\n{\n\tint size;\n\n\tsize = blocksize -\n\t\toffsetof(struct ocfs2_extent_block, h_list.l_recs);\n\n\treturn size / sizeof(struct ocfs2_extent_rec);\n}\n\nstatic inline int ocfs2_extent_recs_per_gd(int blocksize)\n{\n\tint size;\n\n\tsize = blocksize -\n\t\toffsetof(struct ocfs2_group_desc, bg_list.l_recs);\n\n\treturn size / sizeof(struct ocfs2_extent_rec);\n}\n\nstatic inline int ocfs2_local_alloc_size(int blocksize)\n{\n\tint size;\n\n\tsize = blocksize -\n\t\toffsetof(struct ocfs2_dinode, id2.i_lab.la_bitmap);\n\n\treturn size;\n}\n\nstatic inline int ocfs2_group_bitmap_size(int blocksize,\n\t\t\t\t\t  int suballocator,\n\t\t\t\t\t  uint32_t feature_incompat)\n{\n\tint size = sb->s_blocksize -\n\t\toffsetof(struct ocfs2_group_desc, bg_bitmap);\n\n\t \n\tif (suballocator &&\n\t    (feature_incompat & OCFS2_FEATURE_INCOMPAT_DISCONTIG_BG))\n\t\tsize = OCFS2_MAX_BG_BITMAP_SIZE;\n\n\treturn size;\n}\n\nstatic inline int ocfs2_truncate_recs_per_inode(int blocksize)\n{\n\tint size;\n\n\tsize = blocksize -\n\t\toffsetof(struct ocfs2_dinode, id2.i_dealloc.tl_recs);\n\n\treturn size / sizeof(struct ocfs2_truncate_rec);\n}\n\nstatic inline uint64_t ocfs2_backup_super_blkno(int blocksize, int index)\n{\n\tuint64_t offset = OCFS2_BACKUP_SB_START;\n\n\tif (index >= 0 && index < OCFS2_MAX_BACKUP_SUPERBLOCKS) {\n\t\toffset <<= (2 * index);\n\t\toffset /= blocksize;\n\t\treturn offset;\n\t}\n\n\treturn 0;\n}\n\nstatic inline int ocfs2_xattr_recs_per_xb(int blocksize)\n{\n\tint size;\n\n\tsize = blocksize -\n\t\toffsetof(struct ocfs2_xattr_block,\n\t\t\t xb_attrs.xb_root.xt_list.l_recs);\n\n\treturn size / sizeof(struct ocfs2_extent_rec);\n}\n#endif   \n\n\nstatic inline int ocfs2_system_inode_is_global(int type)\n{\n\treturn ((type >= 0) &&\n\t\t(type <= OCFS2_LAST_GLOBAL_SYSTEM_INODE));\n}\n\nstatic inline int ocfs2_sprintf_system_inode_name(char *buf, int len,\n\t\t\t\t\t\t  int type, int slot)\n{\n\tint chars;\n\n         \n\tif (type <= OCFS2_LAST_GLOBAL_SYSTEM_INODE)\n\t\tchars = snprintf(buf, len, \"%s\",\n\t\t\t\t ocfs2_system_inodes[type].si_name);\n\telse\n\t\tchars = snprintf(buf, len,\n\t\t\t\t ocfs2_system_inodes[type].si_name,\n\t\t\t\t slot);\n\n\treturn chars;\n}\n\nstatic inline void ocfs2_set_de_type(struct ocfs2_dir_entry *de,\n\t\t\t\t    umode_t mode)\n{\n\tde->file_type = fs_umode_to_ftype(mode);\n}\n\nstatic inline int ocfs2_gd_is_discontig(struct ocfs2_group_desc *gd)\n{\n\tif ((offsetof(struct ocfs2_group_desc, bg_bitmap) +\n\t     le16_to_cpu(gd->bg_size)) !=\n\t    offsetof(struct ocfs2_group_desc, bg_list))\n\t\treturn 0;\n\t \n\tif (!gd->bg_list.l_next_free_rec)\n\t\treturn 0;\n\treturn 1;\n}\n#endif   \n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}