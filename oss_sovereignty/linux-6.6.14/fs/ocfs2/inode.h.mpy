{
  "module_name": "inode.h",
  "hash_id": "40857fb24c5c2a7864d473d4f991c520189bbcd86897f02e52b81f9f8c07b5c8",
  "original_prompt": "Ingested from linux-6.6.14/fs/ocfs2/inode.h",
  "human_readable_source": " \n \n\n#ifndef OCFS2_INODE_H\n#define OCFS2_INODE_H\n\n#include \"extent_map.h\"\n\n \nstruct ocfs2_inode_info\n{\n\tu64\t\t\tip_blkno;\n\n\tstruct ocfs2_lock_res\t\tip_rw_lockres;\n\tstruct ocfs2_lock_res\t\tip_inode_lockres;\n\tstruct ocfs2_lock_res\t\tip_open_lockres;\n\n\t \n\tstruct rw_semaphore\t\tip_alloc_sem;\n\n\t \n\tstruct rw_semaphore\t\tip_xattr_sem;\n\n\t \n\tspinlock_t\t\t\tip_lock;\n\tu32\t\t\t\tip_open_count;\n\tstruct list_head\t\tip_io_markers;\n\tu32\t\t\t\tip_clusters;\n\n\tu16\t\t\t\tip_dyn_features;\n\tstruct mutex\t\t\tip_io_mutex;\n\tu32\t\t\t\tip_flags;  \n\tu32\t\t\t\tip_attr;  \n\n\t \n\tstruct list_head\t\tip_unwritten_list;\n\n\t \n\tstruct inode\t\t\t*ip_next_orphan;\n\n\tstruct ocfs2_caching_info\tip_metadata_cache;\n\tstruct ocfs2_extent_map\t\tip_extent_map;\n\tstruct inode\t\t\tvfs_inode;\n\tstruct jbd2_inode\t\tip_jinode;\n\n\tu32\t\t\t\tip_dir_start_lookup;\n\n\t \n\tu32\t\t\t\tip_last_used_slot;\n\tu64\t\t\t\tip_last_used_group;\n\tu32\t\t\t\tip_dir_lock_gen;\n\n\tstruct ocfs2_alloc_reservation\tip_la_data_resv;\n\n\t \n\ttid_t i_sync_tid;\n\ttid_t i_datasync_tid;\n\n\tstruct dquot *i_dquot[MAXQUOTAS];\n};\n\n \n \n#define OCFS2_INODE_SYSTEM_FILE\t\t0x00000001\n#define OCFS2_INODE_JOURNAL\t\t0x00000002\n#define OCFS2_INODE_BITMAP\t\t0x00000004\n \n#define OCFS2_INODE_DELETED\t\t0x00000008\n \n#define OCFS2_INODE_MAYBE_ORPHANED\t0x00000010\n \n#define OCFS2_INODE_OPEN_DIRECT\t\t0x00000020\n \n#define OCFS2_INODE_SKIP_ORPHAN_DIR     0x00000040\n \n#define OCFS2_INODE_DIO_ORPHAN_ENTRY\t0x00000080\n\nstatic inline struct ocfs2_inode_info *OCFS2_I(struct inode *inode)\n{\n\treturn container_of(inode, struct ocfs2_inode_info, vfs_inode);\n}\n\n#define INODE_JOURNAL(i) (OCFS2_I(i)->ip_flags & OCFS2_INODE_JOURNAL)\n#define SET_INODE_JOURNAL(i) (OCFS2_I(i)->ip_flags |= OCFS2_INODE_JOURNAL)\n\nextern const struct address_space_operations ocfs2_aops;\nextern const struct ocfs2_caching_operations ocfs2_inode_caching_ops;\n\nstatic inline struct ocfs2_caching_info *INODE_CACHE(struct inode *inode)\n{\n\treturn &OCFS2_I(inode)->ip_metadata_cache;\n}\n\nvoid ocfs2_evict_inode(struct inode *inode);\nint ocfs2_drop_inode(struct inode *inode);\n\n \n#define OCFS2_FI_FLAG_SYSFILE\t\t0x1\n#define OCFS2_FI_FLAG_ORPHAN_RECOVERY\t0x2\n#define OCFS2_FI_FLAG_FILECHECK_CHK\t0x4\n#define OCFS2_FI_FLAG_FILECHECK_FIX\t0x8\n\nstruct inode *ocfs2_ilookup(struct super_block *sb, u64 feoff);\nstruct inode *ocfs2_iget(struct ocfs2_super *osb, u64 feoff, unsigned flags,\n\t\t\t int sysfile_type);\nint ocfs2_inode_revalidate(struct dentry *dentry);\nvoid ocfs2_populate_inode(struct inode *inode, struct ocfs2_dinode *fe,\n\t\t\t  int create_ino);\nvoid ocfs2_sync_blockdev(struct super_block *sb);\nvoid ocfs2_refresh_inode(struct inode *inode,\n\t\t\t struct ocfs2_dinode *fe);\nint ocfs2_mark_inode_dirty(handle_t *handle,\n\t\t\t   struct inode *inode,\n\t\t\t   struct buffer_head *bh);\n\nvoid ocfs2_set_inode_flags(struct inode *inode);\nvoid ocfs2_get_inode_flags(struct ocfs2_inode_info *oi);\n\nstatic inline blkcnt_t ocfs2_inode_sector_count(struct inode *inode)\n{\n\tint c_to_s_bits = OCFS2_SB(inode->i_sb)->s_clustersize_bits - 9;\n\n\treturn (blkcnt_t)OCFS2_I(inode)->ip_clusters << c_to_s_bits;\n}\n\n \nint ocfs2_validate_inode_block(struct super_block *sb,\n\t\t\t       struct buffer_head *bh);\n \nint ocfs2_read_inode_block(struct inode *inode, struct buffer_head **bh);\n \nint ocfs2_read_inode_block_full(struct inode *inode, struct buffer_head **bh,\n\t\t\t\tint flags);\n\nstatic inline struct ocfs2_inode_info *cache_info_to_inode(struct ocfs2_caching_info *ci)\n{\n\treturn container_of(ci, struct ocfs2_inode_info, ip_metadata_cache);\n}\n\n \nstatic inline bool ocfs2_is_refcount_inode(struct inode *inode)\n{\n\treturn (OCFS2_I(inode)->ip_dyn_features & OCFS2_HAS_REFCOUNT_FL);\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}