{
  "module_name": "dir.h",
  "hash_id": "c2272cd87624a7229b29e54505235401694c4cdf3a46d6018ec75a750ec8651c",
  "original_prompt": "Ingested from linux-6.6.14/fs/ocfs2/dir.h",
  "human_readable_source": " \n \n\n#ifndef OCFS2_DIR_H\n#define OCFS2_DIR_H\n\nstruct ocfs2_dx_hinfo {\n\tu32\tmajor_hash;\n\tu32\tminor_hash;\n};\n\nstruct ocfs2_dir_lookup_result {\n\tstruct buffer_head\t\t*dl_leaf_bh;\t \n\tstruct ocfs2_dir_entry\t\t*dl_entry;\t \n\n\tstruct buffer_head\t\t*dl_dx_root_bh;\t \n\n\tstruct buffer_head\t\t*dl_dx_leaf_bh;\t \n\tstruct ocfs2_dx_entry\t\t*dl_dx_entry;\t \n\tstruct ocfs2_dx_hinfo\t\tdl_hinfo;\t \n\n\tstruct buffer_head\t\t*dl_prev_leaf_bh; \n};\n\nvoid ocfs2_free_dir_lookup_result(struct ocfs2_dir_lookup_result *res);\n\nint ocfs2_find_entry(const char *name, int namelen,\n\t\t     struct inode *dir,\n\t\t     struct ocfs2_dir_lookup_result *lookup);\nint ocfs2_delete_entry(handle_t *handle,\n\t\t       struct inode *dir,\n\t\t       struct ocfs2_dir_lookup_result *res);\nint __ocfs2_add_entry(handle_t *handle,\n\t\t      struct inode *dir,\n\t\t      const char *name, int namelen,\n\t\t      struct inode *inode, u64 blkno,\n\t\t      struct buffer_head *parent_fe_bh,\n\t\t      struct ocfs2_dir_lookup_result *lookup);\nstatic inline int ocfs2_add_entry(handle_t *handle,\n\t\t\t\t  struct dentry *dentry,\n\t\t\t\t  struct inode *inode, u64 blkno,\n\t\t\t\t  struct buffer_head *parent_fe_bh,\n\t\t\t\t  struct ocfs2_dir_lookup_result *lookup)\n{\n\treturn __ocfs2_add_entry(handle, d_inode(dentry->d_parent),\n\t\t\t\t dentry->d_name.name, dentry->d_name.len,\n\t\t\t\t inode, blkno, parent_fe_bh, lookup);\n}\nint ocfs2_update_entry(struct inode *dir, handle_t *handle,\n\t\t       struct ocfs2_dir_lookup_result *res,\n\t\t       struct inode *new_entry_inode);\n\nint ocfs2_check_dir_for_entry(struct inode *dir,\n\t\t\t      const char *name,\n\t\t\t      int namelen);\nint ocfs2_empty_dir(struct inode *inode);\n\nint ocfs2_find_files_on_disk(const char *name,\n\t\t\t     int namelen,\n\t\t\t     u64 *blkno,\n\t\t\t     struct inode *inode,\n\t\t\t     struct ocfs2_dir_lookup_result *res);\nint ocfs2_lookup_ino_from_name(struct inode *dir, const char *name,\n\t\t\t       int namelen, u64 *blkno);\nint ocfs2_readdir(struct file *file, struct dir_context *ctx);\nint ocfs2_dir_foreach(struct inode *inode, struct dir_context *ctx);\nint ocfs2_prepare_dir_for_insert(struct ocfs2_super *osb,\n\t\t\t\t struct inode *dir,\n\t\t\t\t struct buffer_head *parent_fe_bh,\n\t\t\t\t const char *name,\n\t\t\t\t int namelen,\n\t\t\t\t struct ocfs2_dir_lookup_result *lookup);\nstruct ocfs2_alloc_context;\nint ocfs2_fill_new_dir(struct ocfs2_super *osb,\n\t\t       handle_t *handle,\n\t\t       struct inode *parent,\n\t\t       struct inode *inode,\n\t\t       struct buffer_head *fe_bh,\n\t\t       struct ocfs2_alloc_context *data_ac,\n\t\t       struct ocfs2_alloc_context *meta_ac);\n\nint ocfs2_dx_dir_truncate(struct inode *dir, struct buffer_head *di_bh);\n\nstruct ocfs2_dir_block_trailer *ocfs2_dir_trailer_from_size(int blocksize,\n\t\t\t\t\t\t\t    void *data);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}