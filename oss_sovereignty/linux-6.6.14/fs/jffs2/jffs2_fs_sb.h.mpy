{
  "module_name": "jffs2_fs_sb.h",
  "hash_id": "3ec013a129f2a37425ea92f55e396b4d531c95cd95d7a38e3e2c61971dd91317",
  "original_prompt": "Ingested from linux-6.6.14/fs/jffs2/jffs2_fs_sb.h",
  "human_readable_source": " \n\n#ifndef _JFFS2_FS_SB\n#define _JFFS2_FS_SB\n\n#include <linux/types.h>\n#include <linux/spinlock.h>\n#include <linux/workqueue.h>\n#include <linux/completion.h>\n#include <linux/mutex.h>\n#include <linux/timer.h>\n#include <linux/wait.h>\n#include <linux/list.h>\n#include <linux/rwsem.h>\n\n#define JFFS2_SB_FLAG_RO 1\n#define JFFS2_SB_FLAG_SCANNING 2  \n#define JFFS2_SB_FLAG_BUILDING 4  \n\nstruct jffs2_inodirty;\n\nstruct jffs2_mount_opts {\n\tbool override_compr;\n\tunsigned int compr;\n\n\t \n\tbool set_rp_size;\n\tunsigned int rp_size;\n};\n\n \nstruct jffs2_sb_info {\n\tstruct mtd_info *mtd;\n\n\tuint32_t highest_ino;\n\tuint32_t check_ino;\t\t \n\n\tunsigned int flags;\n\n\tstruct task_struct *gc_task;\t \n\tstruct completion gc_thread_start;  \n\tstruct completion gc_thread_exit;  \n\n\tstruct mutex alloc_sem;\t\t \n\tuint32_t cleanmarker_size;\t \n\n\tuint32_t flash_size;\n\tuint32_t used_size;\n\tuint32_t dirty_size;\n\tuint32_t wasted_size;\n\tuint32_t free_size;\n\tuint32_t erasing_size;\n\tuint32_t bad_size;\n\tuint32_t sector_size;\n\tuint32_t unchecked_size;\n\n\tuint32_t nr_free_blocks;\n\tuint32_t nr_erasing_blocks;\n\n\t \n\tuint8_t resv_blocks_write;\t \n\tuint8_t resv_blocks_deletion;\t \n\tuint8_t resv_blocks_gctrigger;\t \n\tuint8_t resv_blocks_gcbad;\t \n\tuint8_t resv_blocks_gcmerge;\t \n\t \n\tuint8_t vdirty_blocks_gctrigger;\n\n\tuint32_t nospc_dirty_size;\n\n\tuint32_t nr_blocks;\n\tstruct jffs2_eraseblock *blocks;\t \n\tstruct jffs2_eraseblock *nextblock;\t \n\n\tstruct jffs2_eraseblock *gcblock;\t \n\n\tstruct list_head clean_list;\t\t \n\tstruct list_head very_dirty_list;\t \n\tstruct list_head dirty_list;\t\t \n\tstruct list_head erasable_list;\t\t \n\tstruct list_head erasable_pending_wbuf_list;\t \n\tstruct list_head erasing_list;\t\t \n\tstruct list_head erase_checking_list;\t \n\tstruct list_head erase_pending_list;\t \n\tstruct list_head erase_complete_list;\t \n\tstruct list_head free_list;\t\t \n\tstruct list_head bad_list;\t\t \n\tstruct list_head bad_used_list;\t\t \n\n\tspinlock_t erase_completion_lock;\t \n\twait_queue_head_t erase_wait;\t\t \n\n\twait_queue_head_t inocache_wq;\n\tint inocache_hashsize;\n\tstruct jffs2_inode_cache **inocache_list;\n\tspinlock_t inocache_lock;\n\n\t \n\tstruct mutex erase_free_sem;\n\n\tuint32_t wbuf_pagesize;  \n\n#ifdef CONFIG_JFFS2_FS_WBUF_VERIFY\n\tunsigned char *wbuf_verify;  \n#endif\n#ifdef CONFIG_JFFS2_FS_WRITEBUFFER\n\tunsigned char *wbuf;  \n\tuint32_t wbuf_ofs;\n\tuint32_t wbuf_len;\n\tstruct jffs2_inodirty *wbuf_inodes;\n\tstruct rw_semaphore wbuf_sem;\t \n\n\tstruct delayed_work wbuf_dwork;  \n\n\tunsigned char *oobbuf;\n\tint oobavail;  \n#endif\n\n\tstruct jffs2_summary *summary;\t\t \n\tstruct jffs2_mount_opts mount_opts;\n\n#ifdef CONFIG_JFFS2_FS_XATTR\n#define XATTRINDEX_HASHSIZE\t(57)\n\tuint32_t highest_xid;\n\tuint32_t highest_xseqno;\n\tstruct list_head xattrindex[XATTRINDEX_HASHSIZE];\n\tstruct list_head xattr_unchecked;\n\tstruct list_head xattr_dead_list;\n\tstruct jffs2_xattr_ref *xref_dead_list;\n\tstruct jffs2_xattr_ref *xref_temp;\n\tstruct rw_semaphore xattr_sem;\n\tuint32_t xdatum_mem_usage;\n\tuint32_t xdatum_mem_threshold;\n#endif\n\t \n\tvoid *os_priv;\n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}