{
  "module_name": "compr.h",
  "hash_id": "4ea7bcf020d586b420a21ab50117f5de99d2224ceb9a432404eded170399a826",
  "original_prompt": "Ingested from linux-6.6.14/fs/jffs2/compr.h",
  "human_readable_source": " \n\n#ifndef __JFFS2_COMPR_H__\n#define __JFFS2_COMPR_H__\n\n#include <linux/kernel.h>\n#include <linux/vmalloc.h>\n#include <linux/list.h>\n#include <linux/types.h>\n#include <linux/string.h>\n#include <linux/slab.h>\n#include <linux/errno.h>\n#include <linux/fs.h>\n#include <linux/jffs2.h>\n#include \"jffs2_fs_i.h\"\n#include \"jffs2_fs_sb.h\"\n#include \"nodelist.h\"\n\n#define JFFS2_RUBINMIPS_PRIORITY 10\n#define JFFS2_DYNRUBIN_PRIORITY  20\n#define JFFS2_LZARI_PRIORITY     30\n#define JFFS2_RTIME_PRIORITY     50\n#define JFFS2_ZLIB_PRIORITY      60\n#define JFFS2_LZO_PRIORITY       80\n\n\n#define JFFS2_RUBINMIPS_DISABLED  \n#define JFFS2_DYNRUBIN_DISABLED   \n\n#define JFFS2_COMPR_MODE_NONE       0\n#define JFFS2_COMPR_MODE_PRIORITY   1\n#define JFFS2_COMPR_MODE_SIZE       2\n#define JFFS2_COMPR_MODE_FAVOURLZO  3\n#define JFFS2_COMPR_MODE_FORCELZO   4\n#define JFFS2_COMPR_MODE_FORCEZLIB  5\n\n#define FAVOUR_LZO_PERCENT 80\n\nstruct jffs2_compressor {\n\tstruct list_head list;\n\tint priority;\t\t\t \n\tchar *name;\n\tchar compr;\t\t\t \n\tint (*compress)(unsigned char *data_in, unsigned char *cpage_out,\n\t\t\tuint32_t *srclen, uint32_t *destlen);\n\tint (*decompress)(unsigned char *cdata_in, unsigned char *data_out,\n\t\t\t  uint32_t cdatalen, uint32_t datalen);\n\tint usecount;\n\tint disabled;\t\t \n\tunsigned char *compr_buf;\t \n\tuint32_t compr_buf_size;\t \n\tuint32_t stat_compr_orig_size;\n\tuint32_t stat_compr_new_size;\n\tuint32_t stat_compr_blocks;\n\tuint32_t stat_decompr_blocks;\n};\n\nint jffs2_register_compressor(struct jffs2_compressor *comp);\nint jffs2_unregister_compressor(struct jffs2_compressor *comp);\n\nint jffs2_compressors_init(void);\nint jffs2_compressors_exit(void);\n\nuint16_t jffs2_compress(struct jffs2_sb_info *c, struct jffs2_inode_info *f,\n\t\t\tunsigned char *data_in, unsigned char **cpage_out,\n\t\t\tuint32_t *datalen, uint32_t *cdatalen);\n\nint jffs2_decompress(struct jffs2_sb_info *c, struct jffs2_inode_info *f,\n\t\t     uint16_t comprtype, unsigned char *cdata_in,\n\t\t     unsigned char *data_out, uint32_t cdatalen, uint32_t datalen);\n\nvoid jffs2_free_comprbuf(unsigned char *comprbuf, unsigned char *orig);\n\n \n \n\n#ifdef CONFIG_JFFS2_RUBIN\nint jffs2_rubinmips_init(void);\nvoid jffs2_rubinmips_exit(void);\nint jffs2_dynrubin_init(void);\nvoid jffs2_dynrubin_exit(void);\n#else\nstatic inline int jffs2_rubinmips_init(void) { return 0; }\nstatic inline void jffs2_rubinmips_exit(void) {}\nstatic inline int jffs2_dynrubin_init(void) { return 0; }\nstatic inline void jffs2_dynrubin_exit(void) {}\n#endif\n#ifdef CONFIG_JFFS2_RTIME\nextern int jffs2_rtime_init(void);\nextern void jffs2_rtime_exit(void);\n#else\nstatic inline int jffs2_rtime_init(void) { return 0; }\nstatic inline void jffs2_rtime_exit(void) {}\n#endif\n#ifdef CONFIG_JFFS2_ZLIB\nextern int jffs2_zlib_init(void);\nextern void jffs2_zlib_exit(void);\n#else\nstatic inline int jffs2_zlib_init(void) { return 0; }\nstatic inline void jffs2_zlib_exit(void) {}\n#endif\n#ifdef CONFIG_JFFS2_LZO\nextern int jffs2_lzo_init(void);\nextern void jffs2_lzo_exit(void);\n#else\nstatic inline int jffs2_lzo_init(void) { return 0; }\nstatic inline void jffs2_lzo_exit(void) {}\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}