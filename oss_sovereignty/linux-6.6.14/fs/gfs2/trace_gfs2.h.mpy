{
  "module_name": "trace_gfs2.h",
  "hash_id": "9515dd2b41477fe74eb9aa58d7710ab96c5431c800d2ade4fd0215e255e68ff7",
  "original_prompt": "Ingested from linux-6.6.14/fs/gfs2/trace_gfs2.h",
  "human_readable_source": " \n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM gfs2\n\n#if !defined(_TRACE_GFS2_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _TRACE_GFS2_H\n\n#include <linux/tracepoint.h>\n\n#include <linux/fs.h>\n#include <linux/buffer_head.h>\n#include <linux/dlmconstants.h>\n#include <linux/gfs2_ondisk.h>\n#include <linux/writeback.h>\n#include <linux/ktime.h>\n#include <linux/iomap.h>\n#include \"incore.h\"\n#include \"glock.h\"\n#include \"rgrp.h\"\n\n#define dlm_state_name(nn) { DLM_LOCK_##nn, #nn }\n#define glock_trace_name(x) __print_symbolic(x,\t\t\\\n\t\t\t    dlm_state_name(IV),\t\t\\\n\t\t\t    dlm_state_name(NL),\t\t\\\n\t\t\t    dlm_state_name(CR),\t\t\\\n\t\t\t    dlm_state_name(CW),\t\t\\\n\t\t\t    dlm_state_name(PR),\t\t\\\n\t\t\t    dlm_state_name(PW),\t\t\\\n\t\t\t    dlm_state_name(EX))\n\n#define block_state_name(x) __print_symbolic(x,\t\t\t\\\n\t\t\t    { GFS2_BLKST_FREE, \"free\" },\t\\\n\t\t\t    { GFS2_BLKST_USED, \"used\" },\t\\\n\t\t\t    { GFS2_BLKST_DINODE, \"dinode\" },\t\\\n\t\t\t    { GFS2_BLKST_UNLINKED, \"unlinked\" })\n\n#define TRACE_RS_DELETE  0\n#define TRACE_RS_TREEDEL 1\n#define TRACE_RS_INSERT  2\n#define TRACE_RS_CLAIM   3\n\n#define rs_func_name(x) __print_symbolic(x,\t\\\n\t\t\t\t\t { 0, \"del \" },\t\\\n\t\t\t\t\t { 1, \"tdel\" },\t\\\n\t\t\t\t\t { 2, \"ins \" },\t\\\n\t\t\t\t\t { 3, \"clm \" })\n\n#define show_glock_flags(flags) __print_flags(flags, \"\",\t\\\n\t{(1UL << GLF_LOCK),\t\t\t\"l\" },\t\t\\\n\t{(1UL << GLF_DEMOTE),\t\t\t\"D\" },\t\t\\\n\t{(1UL << GLF_PENDING_DEMOTE),\t\t\"d\" },\t\t\\\n\t{(1UL << GLF_DEMOTE_IN_PROGRESS),\t\"p\" },\t\t\\\n\t{(1UL << GLF_DIRTY),\t\t\t\"y\" },\t\t\\\n\t{(1UL << GLF_LFLUSH),\t\t\t\"f\" },\t\t\\\n\t{(1UL << GLF_INVALIDATE_IN_PROGRESS),\t\"i\" },\t\t\\\n\t{(1UL << GLF_REPLY_PENDING),\t\t\"r\" },\t\t\\\n\t{(1UL << GLF_INITIAL),\t\t\t\"I\" },\t\t\\\n\t{(1UL << GLF_FROZEN),\t\t\t\"F\" },\t\t\\\n\t{(1UL << GLF_LRU),\t\t\t\"L\" },\t\t\\\n\t{(1UL << GLF_OBJECT),\t\t\t\"o\" },\t\t\\\n\t{(1UL << GLF_BLOCKING),\t\t\t\"b\" })\n\n#ifndef NUMPTY\n#define NUMPTY\nstatic inline u8 glock_trace_state(unsigned int state)\n{\n\tswitch(state) {\n\tcase LM_ST_SHARED:\n\t\treturn DLM_LOCK_PR;\n\tcase LM_ST_DEFERRED:\n\t\treturn DLM_LOCK_CW;\n\tcase LM_ST_EXCLUSIVE:\n\t\treturn DLM_LOCK_EX;\n\t}\n\treturn DLM_LOCK_NL;\n}\n#endif\n\n \n\n \nTRACE_EVENT(gfs2_glock_state_change,\n\n\tTP_PROTO(const struct gfs2_glock *gl, unsigned int new_state),\n\n\tTP_ARGS(gl, new_state),\n\n\tTP_STRUCT__entry(\n\t\t__field(\tdev_t,\tdev\t\t\t)\n\t\t__field(\tu64,\tglnum\t\t\t)\n\t\t__field(\tu32,\tgltype\t\t\t)\n\t\t__field(\tu8,\tcur_state\t\t)\n\t\t__field(\tu8,\tnew_state\t\t)\n\t\t__field(\tu8,\tdmt_state\t\t)\n\t\t__field(\tu8,\ttgt_state\t\t)\n\t\t__field(\tunsigned long,\tflags\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->dev\t\t= gl->gl_name.ln_sbd->sd_vfs->s_dev;\n\t\t__entry->glnum\t\t= gl->gl_name.ln_number;\n\t\t__entry->gltype\t\t= gl->gl_name.ln_type;\n\t\t__entry->cur_state\t= glock_trace_state(gl->gl_state);\n\t\t__entry->new_state\t= glock_trace_state(new_state);\n\t\t__entry->tgt_state\t= glock_trace_state(gl->gl_target);\n\t\t__entry->dmt_state\t= glock_trace_state(gl->gl_demote_state);\n\t\t__entry->flags\t\t= gl->gl_flags | (gl->gl_object ? (1UL<<GLF_OBJECT) : 0);\n\t),\n\n\tTP_printk(\"%u,%u glock %d:%lld state %s to %s tgt:%s dmt:%s flags:%s\",\n\t\t  MAJOR(__entry->dev), MINOR(__entry->dev), __entry->gltype,\n\t\t (unsigned long long)__entry->glnum,\n\t\t  glock_trace_name(__entry->cur_state),\n\t\t  glock_trace_name(__entry->new_state),\n\t\t  glock_trace_name(__entry->tgt_state),\n\t\t  glock_trace_name(__entry->dmt_state),\n\t\t  show_glock_flags(__entry->flags))\n);\n\n \nTRACE_EVENT(gfs2_glock_put,\n\n\tTP_PROTO(const struct gfs2_glock *gl),\n\n\tTP_ARGS(gl),\n\n\tTP_STRUCT__entry(\n\t\t__field(        dev_t,  dev                     )\n\t\t__field(\tu64,\tglnum\t\t\t)\n\t\t__field(\tu32,\tgltype\t\t\t)\n\t\t__field(\tu8,\tcur_state\t\t)\n\t\t__field(\tunsigned long,\tflags\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->dev\t\t= gl->gl_name.ln_sbd->sd_vfs->s_dev;\n\t\t__entry->gltype\t\t= gl->gl_name.ln_type;\n\t\t__entry->glnum\t\t= gl->gl_name.ln_number;\n\t\t__entry->cur_state\t= glock_trace_state(gl->gl_state);\n\t\t__entry->flags\t\t= gl->gl_flags  | (gl->gl_object ? (1UL<<GLF_OBJECT) : 0);\n\t),\n\n\tTP_printk(\"%u,%u glock %d:%lld state %s => %s flags:%s\",\n\t\t  MAJOR(__entry->dev), MINOR(__entry->dev),\n                  __entry->gltype, (unsigned long long)__entry->glnum,\n                  glock_trace_name(__entry->cur_state),\n\t\t  glock_trace_name(DLM_LOCK_IV),\n\t\t  show_glock_flags(__entry->flags))\n\n);\n\n \nTRACE_EVENT(gfs2_demote_rq,\n\n\tTP_PROTO(const struct gfs2_glock *gl, bool remote),\n\n\tTP_ARGS(gl, remote),\n\n\tTP_STRUCT__entry(\n\t\t__field(        dev_t,  dev                     )\n\t\t__field(\tu64,\tglnum\t\t\t)\n\t\t__field(\tu32,\tgltype\t\t\t)\n\t\t__field(\tu8,\tcur_state\t\t)\n\t\t__field(\tu8,\tdmt_state\t\t)\n\t\t__field(\tunsigned long,\tflags\t\t)\n\t\t__field(\tbool,\tremote\t\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->dev\t\t= gl->gl_name.ln_sbd->sd_vfs->s_dev;\n\t\t__entry->gltype\t\t= gl->gl_name.ln_type;\n\t\t__entry->glnum\t\t= gl->gl_name.ln_number;\n\t\t__entry->cur_state\t= glock_trace_state(gl->gl_state);\n\t\t__entry->dmt_state\t= glock_trace_state(gl->gl_demote_state);\n\t\t__entry->flags\t\t= gl->gl_flags  | (gl->gl_object ? (1UL<<GLF_OBJECT) : 0);\n\t\t__entry->remote\t\t= remote;\n\t),\n\n\tTP_printk(\"%u,%u glock %d:%lld demote %s to %s flags:%s %s\",\n\t\t  MAJOR(__entry->dev), MINOR(__entry->dev), __entry->gltype,\n\t\t  (unsigned long long)__entry->glnum,\n                  glock_trace_name(__entry->cur_state),\n                  glock_trace_name(__entry->dmt_state),\n\t\t  show_glock_flags(__entry->flags),\n\t\t  __entry->remote ? \"remote\" : \"local\")\n\n);\n\n \nTRACE_EVENT(gfs2_promote,\n\n\tTP_PROTO(const struct gfs2_holder *gh),\n\n\tTP_ARGS(gh),\n\n\tTP_STRUCT__entry(\n\t\t__field(        dev_t,  dev                     )\n\t\t__field(\tu64,\tglnum\t\t\t)\n\t\t__field(\tu32,\tgltype\t\t\t)\n\t\t__field(\tu8,\tstate\t\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->dev\t= gh->gh_gl->gl_name.ln_sbd->sd_vfs->s_dev;\n\t\t__entry->glnum\t= gh->gh_gl->gl_name.ln_number;\n\t\t__entry->gltype\t= gh->gh_gl->gl_name.ln_type;\n\t\t__entry->state\t= glock_trace_state(gh->gh_state);\n\t),\n\n\tTP_printk(\"%u,%u glock %u:%llu promote %s\",\n\t\t  MAJOR(__entry->dev), MINOR(__entry->dev), __entry->gltype,\n\t\t  (unsigned long long)__entry->glnum,\n\t\t  glock_trace_name(__entry->state))\n);\n\n \nTRACE_EVENT(gfs2_glock_queue,\n\n\tTP_PROTO(const struct gfs2_holder *gh, int queue),\n\n\tTP_ARGS(gh, queue),\n\n\tTP_STRUCT__entry(\n\t\t__field(        dev_t,  dev                     )\n\t\t__field(\tu64,\tglnum\t\t\t)\n\t\t__field(\tu32,\tgltype\t\t\t)\n\t\t__field(\tint,\tqueue\t\t\t)\n\t\t__field(\tu8,\tstate\t\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->dev\t= gh->gh_gl->gl_name.ln_sbd->sd_vfs->s_dev;\n\t\t__entry->glnum\t= gh->gh_gl->gl_name.ln_number;\n\t\t__entry->gltype\t= gh->gh_gl->gl_name.ln_type;\n\t\t__entry->queue\t= queue;\n\t\t__entry->state\t= glock_trace_state(gh->gh_state);\n\t),\n\n\tTP_printk(\"%u,%u glock %u:%llu %squeue %s\",\n\t\t  MAJOR(__entry->dev), MINOR(__entry->dev), __entry->gltype,\n\t\t  (unsigned long long)__entry->glnum,\n\t\t  __entry->queue ? \"\" : \"de\",\n\t\t  glock_trace_name(__entry->state))\n);\n\n \nTRACE_EVENT(gfs2_glock_lock_time,\n\n\tTP_PROTO(const struct gfs2_glock *gl, s64 tdiff),\n\n\tTP_ARGS(gl, tdiff),\n\n\tTP_STRUCT__entry(\n\t\t__field(\tdev_t,\tdev\t\t)\n\t\t__field(\tu64,\tglnum\t\t)\n\t\t__field(\tu32,\tgltype\t\t)\n\t\t__field(\tint,\tstatus\t\t)\n\t\t__field(\tchar,\tflags\t\t)\n\t\t__field(\ts64,\ttdiff\t\t)\n\t\t__field(\tu64,\tsrtt\t\t)\n\t\t__field(\tu64,\tsrttvar\t\t)\n\t\t__field(\tu64,\tsrttb\t\t)\n\t\t__field(\tu64,\tsrttvarb\t)\n\t\t__field(\tu64,\tsirt\t\t)\n\t\t__field(\tu64,\tsirtvar\t\t)\n\t\t__field(\tu64,\tdcount\t\t)\n\t\t__field(\tu64,\tqcount\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->dev            = gl->gl_name.ln_sbd->sd_vfs->s_dev;\n\t\t__entry->glnum          = gl->gl_name.ln_number;\n\t\t__entry->gltype         = gl->gl_name.ln_type;\n\t\t__entry->status\t\t= gl->gl_lksb.sb_status;\n\t\t__entry->flags\t\t= gl->gl_lksb.sb_flags;\n\t\t__entry->tdiff\t\t= tdiff;\n\t\t__entry->srtt\t\t= gl->gl_stats.stats[GFS2_LKS_SRTT];\n\t\t__entry->srttvar\t= gl->gl_stats.stats[GFS2_LKS_SRTTVAR];\n\t\t__entry->srttb\t\t= gl->gl_stats.stats[GFS2_LKS_SRTTB];\n\t\t__entry->srttvarb\t= gl->gl_stats.stats[GFS2_LKS_SRTTVARB];\n\t\t__entry->sirt\t\t= gl->gl_stats.stats[GFS2_LKS_SIRT];\n\t\t__entry->sirtvar\t= gl->gl_stats.stats[GFS2_LKS_SIRTVAR];\n\t\t__entry->dcount\t\t= gl->gl_stats.stats[GFS2_LKS_DCOUNT];\n\t\t__entry->qcount\t\t= gl->gl_stats.stats[GFS2_LKS_QCOUNT];\n\t),\n\n\tTP_printk(\"%u,%u glock %d:%lld status:%d flags:%02x tdiff:%lld srtt:%lld/%lld srttb:%lld/%lld sirt:%lld/%lld dcnt:%lld qcnt:%lld\",\n\t\t  MAJOR(__entry->dev), MINOR(__entry->dev), __entry->gltype,\n\t\t  (unsigned long long)__entry->glnum,\n\t\t  __entry->status, __entry->flags,\n\t\t  (long long)__entry->tdiff,\n\t\t  (long long)__entry->srtt,\n\t\t  (long long)__entry->srttvar,\n\t\t  (long long)__entry->srttb,\n\t\t  (long long)__entry->srttvarb,\n\t\t  (long long)__entry->sirt,\n\t\t  (long long)__entry->sirtvar,\n\t\t  (long long)__entry->dcount,\n\t\t  (long long)__entry->qcount)\n);\n\n \n\n \nTRACE_EVENT(gfs2_pin,\n\n\tTP_PROTO(const struct gfs2_bufdata *bd, int pin),\n\n\tTP_ARGS(bd, pin),\n\n\tTP_STRUCT__entry(\n\t\t__field(        dev_t,  dev                     )\n\t\t__field(\tint,\tpin\t\t\t)\n\t\t__field(\tu32,\tlen\t\t\t)\n\t\t__field(\tsector_t,\tblock\t\t)\n\t\t__field(\tu64,\tino\t\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->dev\t\t= bd->bd_gl->gl_name.ln_sbd->sd_vfs->s_dev;\n\t\t__entry->pin\t\t= pin;\n\t\t__entry->len\t\t= bd->bd_bh->b_size;\n\t\t__entry->block\t\t= bd->bd_bh->b_blocknr;\n\t\t__entry->ino\t\t= bd->bd_gl->gl_name.ln_number;\n\t),\n\n\tTP_printk(\"%u,%u log %s %llu/%lu inode %llu\",\n\t\t  MAJOR(__entry->dev), MINOR(__entry->dev),\n\t\t  __entry->pin ? \"pin\" : \"unpin\",\n\t\t  (unsigned long long)__entry->block,\n\t\t  (unsigned long)__entry->len,\n\t\t  (unsigned long long)__entry->ino)\n);\n\n \nTRACE_EVENT(gfs2_log_flush,\n\n\tTP_PROTO(const struct gfs2_sbd *sdp, int start, u32 flags),\n\n\tTP_ARGS(sdp, start, flags),\n\n\tTP_STRUCT__entry(\n\t\t__field(        dev_t,  dev                     )\n\t\t__field(\tint,\tstart\t\t\t)\n\t\t__field(\tu64,\tlog_seq\t\t\t)\n\t\t__field(\tu32,\tflags\t\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->dev            = sdp->sd_vfs->s_dev;\n\t\t__entry->start\t\t= start;\n\t\t__entry->log_seq\t= sdp->sd_log_sequence;\n\t\t__entry->flags\t\t= flags;\n\t),\n\n\tTP_printk(\"%u,%u log flush %s %llu %llx\",\n\t\t  MAJOR(__entry->dev), MINOR(__entry->dev),\n\t\t  __entry->start ? \"start\" : \"end\",\n\t\t  (unsigned long long)__entry->log_seq,\n\t\t  (unsigned long long)__entry->flags)\n);\n\n \nTRACE_EVENT(gfs2_log_blocks,\n\n\tTP_PROTO(const struct gfs2_sbd *sdp, int blocks),\n\n\tTP_ARGS(sdp, blocks),\n\n\tTP_STRUCT__entry(\n\t\t__field(        dev_t,  dev                     )\n\t\t__field(\tint,\tblocks\t\t\t)\n\t\t__field(\tint,\tblks_free\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->dev\t\t= sdp->sd_vfs->s_dev;\n\t\t__entry->blocks\t\t= blocks;\n\t\t__entry->blks_free\t= atomic_read(&sdp->sd_log_blks_free);\n\t),\n\n\tTP_printk(\"%u,%u log reserve %d %d\", MAJOR(__entry->dev),\n\t\t  MINOR(__entry->dev), __entry->blocks, __entry->blks_free)\n);\n\n \nTRACE_EVENT(gfs2_ail_flush,\n\n\tTP_PROTO(const struct gfs2_sbd *sdp, const struct writeback_control *wbc, int start),\n\n\tTP_ARGS(sdp, wbc, start),\n\n\tTP_STRUCT__entry(\n\t\t__field(\tdev_t,\tdev\t\t\t)\n\t\t__field(\tint, start\t\t\t)\n\t\t__field(\tint, sync_mode\t\t\t)\n\t\t__field(\tlong, nr_to_write\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->dev\t\t= sdp->sd_vfs->s_dev;\n\t\t__entry->start\t\t= start;\n\t\t__entry->sync_mode\t= wbc->sync_mode;\n\t\t__entry->nr_to_write\t= wbc->nr_to_write;\n\t),\n\n\tTP_printk(\"%u,%u ail flush %s %s %ld\", MAJOR(__entry->dev),\n\t\t  MINOR(__entry->dev), __entry->start ? \"start\" : \"end\",\n\t\t  __entry->sync_mode == WB_SYNC_ALL ? \"all\" : \"none\",\n\t\t  __entry->nr_to_write)\n);\n\n \n\n \nTRACE_EVENT(gfs2_bmap,\n\n\tTP_PROTO(const struct gfs2_inode *ip, const struct buffer_head *bh,\n\t\tsector_t lblock, int create, int errno),\n\n\tTP_ARGS(ip, bh, lblock, create, errno),\n\n\tTP_STRUCT__entry(\n\t\t__field(        dev_t,  dev                     )\n\t\t__field(\tsector_t, lblock\t\t)\n\t\t__field(\tsector_t, pblock\t\t)\n\t\t__field(\tu64,\tinum\t\t\t)\n\t\t__field(\tunsigned long, state\t\t)\n\t\t__field(\tu32,\tlen\t\t\t)\n\t\t__field(\tint,\tcreate\t\t\t)\n\t\t__field(\tint,\terrno\t\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->dev            = ip->i_gl->gl_name.ln_sbd->sd_vfs->s_dev;\n\t\t__entry->lblock\t\t= lblock;\n\t\t__entry->pblock\t\t= buffer_mapped(bh) ?  bh->b_blocknr : 0;\n\t\t__entry->inum\t\t= ip->i_no_addr;\n\t\t__entry->state\t\t= bh->b_state;\n\t\t__entry->len\t\t= bh->b_size;\n\t\t__entry->create\t\t= create;\n\t\t__entry->errno\t\t= errno;\n\t),\n\n\tTP_printk(\"%u,%u bmap %llu map %llu/%lu to %llu flags:%08lx %s %d\",\n\t\t  MAJOR(__entry->dev), MINOR(__entry->dev),\n\t\t  (unsigned long long)__entry->inum,\n\t\t  (unsigned long long)__entry->lblock,\n\t\t  (unsigned long)__entry->len,\n\t\t  (unsigned long long)__entry->pblock,\n\t\t  __entry->state, __entry->create ? \"create \" : \"nocreate\",\n\t\t  __entry->errno)\n);\n\nTRACE_EVENT(gfs2_iomap_start,\n\n\tTP_PROTO(const struct gfs2_inode *ip, loff_t pos, ssize_t length,\n\t\t u16 flags),\n\n\tTP_ARGS(ip, pos, length, flags),\n\n\tTP_STRUCT__entry(\n\t\t__field(        dev_t,  dev                     )\n\t\t__field(\tu64,\tinum\t\t\t)\n\t\t__field(\tloff_t, pos\t\t\t)\n\t\t__field(\tssize_t, length\t\t\t)\n\t\t__field(\tu16,\tflags\t\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->dev            = ip->i_gl->gl_name.ln_sbd->sd_vfs->s_dev;\n\t\t__entry->inum\t\t= ip->i_no_addr;\n\t\t__entry->pos\t\t= pos;\n\t\t__entry->length\t\t= length;\n\t\t__entry->flags\t\t= flags;\n\t),\n\n\tTP_printk(\"%u,%u bmap %llu iomap start %llu/%lu flags:%08x\",\n\t\t  MAJOR(__entry->dev), MINOR(__entry->dev),\n\t\t  (unsigned long long)__entry->inum,\n\t\t  (unsigned long long)__entry->pos,\n\t\t  (unsigned long)__entry->length, (u16)__entry->flags)\n);\n\nTRACE_EVENT(gfs2_iomap_end,\n\n\tTP_PROTO(const struct gfs2_inode *ip, struct iomap *iomap, int ret),\n\n\tTP_ARGS(ip, iomap, ret),\n\n\tTP_STRUCT__entry(\n\t\t__field(        dev_t,  dev                     )\n\t\t__field(\tu64,\tinum\t\t\t)\n\t\t__field(\tloff_t, offset\t\t\t)\n\t\t__field(\tssize_t, length\t\t\t)\n\t\t__field(\tsector_t, pblock\t\t)\n\t\t__field(\tu16,\tflags\t\t\t)\n\t\t__field(\tu16,\ttype\t\t\t)\n\t\t__field(\tint,\tret\t\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->dev            = ip->i_gl->gl_name.ln_sbd->sd_vfs->s_dev;\n\t\t__entry->inum\t\t= ip->i_no_addr;\n\t\t__entry->offset\t\t= iomap->offset;\n\t\t__entry->length\t\t= iomap->length;\n\t\t__entry->pblock\t\t= iomap->addr == IOMAP_NULL_ADDR ? 0 :\n\t\t\t\t\t (iomap->addr >> ip->i_inode.i_blkbits);\n\t\t__entry->flags\t\t= iomap->flags;\n\t\t__entry->type\t\t= iomap->type;\n\t\t__entry->ret\t\t= ret;\n\t),\n\n\tTP_printk(\"%u,%u bmap %llu iomap end %llu/%lu to %llu ty:%d flags:%08x rc:%d\",\n\t\t  MAJOR(__entry->dev), MINOR(__entry->dev),\n\t\t  (unsigned long long)__entry->inum,\n\t\t  (unsigned long long)__entry->offset,\n\t\t  (unsigned long)__entry->length,\n\t\t  (long long)__entry->pblock,\n\t\t  (u16)__entry->type,\n\t\t  (u16)__entry->flags, __entry->ret)\n);\n\n \nTRACE_EVENT(gfs2_block_alloc,\n\n\tTP_PROTO(const struct gfs2_inode *ip, struct gfs2_rgrpd *rgd,\n\t\t u64 block, unsigned len, u8 block_state),\n\n\tTP_ARGS(ip, rgd, block, len, block_state),\n\n\tTP_STRUCT__entry(\n\t\t__field(        dev_t,  dev                     )\n\t\t__field(\tu64,\tstart\t\t\t)\n\t\t__field(\tu64,\tinum\t\t\t)\n\t\t__field(\tu32,\tlen\t\t\t)\n\t\t__field(\tu8,\tblock_state\t\t)\n\t\t__field(        u64,\trd_addr\t\t\t)\n\t\t__field(        u32,\trd_free_clone\t\t)\n\t\t__field(\tu32,\trd_requested\t\t)\n\t\t__field(\tu32,\trd_reserved\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->dev\t\t= rgd->rd_gl->gl_name.ln_sbd->sd_vfs->s_dev;\n\t\t__entry->start\t\t= block;\n\t\t__entry->inum\t\t= ip->i_no_addr;\n\t\t__entry->len\t\t= len;\n\t\t__entry->block_state\t= block_state;\n\t\t__entry->rd_addr\t= rgd->rd_addr;\n\t\t__entry->rd_free_clone\t= rgd->rd_free_clone;\n\t\t__entry->rd_requested\t= rgd->rd_requested;\n\t\t__entry->rd_reserved\t= rgd->rd_reserved;\n\t),\n\n\tTP_printk(\"%u,%u bmap %llu alloc %llu/%lu %s rg:%llu rf:%u rq:%u rr:%u\",\n\t\t  MAJOR(__entry->dev), MINOR(__entry->dev),\n\t\t  (unsigned long long)__entry->inum,\n\t\t  (unsigned long long)__entry->start,\n\t\t  (unsigned long)__entry->len,\n\t\t  block_state_name(__entry->block_state),\n\t\t  (unsigned long long)__entry->rd_addr,\n\t\t  __entry->rd_free_clone,\n\t\t  __entry->rd_requested,\n\t\t  __entry->rd_reserved)\n);\n\n \nTRACE_EVENT(gfs2_rs,\n\n\tTP_PROTO(const struct gfs2_blkreserv *rs, u8 func),\n\n\tTP_ARGS(rs, func),\n\n\tTP_STRUCT__entry(\n\t\t__field(        dev_t,  dev                     )\n\t\t__field(\tu64,\trd_addr\t\t\t)\n\t\t__field(\tu32,\trd_free_clone\t\t)\n\t\t__field(\tu32,\trd_requested\t\t)\n\t\t__field(\tu32,\trd_reserved\t\t)\n\t\t__field(\tu64,\tinum\t\t\t)\n\t\t__field(\tu64,\tstart\t\t\t)\n\t\t__field(\tu32,\trequested\t\t)\n\t\t__field(\tu32,\treserved\t\t)\n\t\t__field(\tu8,\tfunc\t\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->dev\t\t= rs->rs_rgd->rd_sbd->sd_vfs->s_dev;\n\t\t__entry->rd_addr\t= rs->rs_rgd->rd_addr;\n\t\t__entry->rd_free_clone\t= rs->rs_rgd->rd_free_clone;\n\t\t__entry->rd_requested\t= rs->rs_rgd->rd_requested;\n\t\t__entry->rd_reserved\t= rs->rs_rgd->rd_reserved;\n\t\t__entry->inum\t\t= container_of(rs, struct gfs2_inode,\n\t\t\t\t\t\t       i_res)->i_no_addr;\n\t\t__entry->start\t\t= rs->rs_start;\n\t\t__entry->requested\t= rs->rs_requested;\n\t\t__entry->reserved\t= rs->rs_reserved;\n\t\t__entry->func\t\t= func;\n\t),\n\n\tTP_printk(\"%u,%u bmap %llu resrv %llu rg:%llu rf:%u rq:%u rr:%u %s q:%u r:%u\",\n\t\t  MAJOR(__entry->dev), MINOR(__entry->dev),\n\t\t  (unsigned long long)__entry->inum,\n\t\t  (unsigned long long)__entry->start,\n\t\t  (unsigned long long)__entry->rd_addr,\n\t\t  __entry->rd_free_clone,\n\t\t  __entry->rd_requested,\n\t\t  __entry->rd_reserved,\n\t\t  rs_func_name(__entry->func),\n\t\t  __entry->requested,\n\t\t  __entry->reserved)\n);\n\n#endif  \n\n \n#undef TRACE_INCLUDE_PATH\n#define TRACE_INCLUDE_PATH .\n#define TRACE_INCLUDE_FILE trace_gfs2\n#include <trace/define_trace.h>\n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}