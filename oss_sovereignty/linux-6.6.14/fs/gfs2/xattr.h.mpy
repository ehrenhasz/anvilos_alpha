{
  "module_name": "xattr.h",
  "hash_id": "fc0f1fee47da0365cd7df890e239882f9f5b53e56d92a8e2ef3bb1761f2dcdf8",
  "original_prompt": "Ingested from linux-6.6.14/fs/gfs2/xattr.h",
  "human_readable_source": " \n \n\n#ifndef __EATTR_DOT_H__\n#define __EATTR_DOT_H__\n\nstruct gfs2_inode;\nstruct iattr;\n\n#define GFS2_EA_REC_LEN(ea) be32_to_cpu((ea)->ea_rec_len)\n#define GFS2_EA_DATA_LEN(ea) be32_to_cpu((ea)->ea_data_len)\n\n#define GFS2_EA_SIZE(ea) \\\nALIGN(sizeof(struct gfs2_ea_header) + (ea)->ea_name_len + \\\n      ((GFS2_EA_IS_STUFFED(ea)) ? GFS2_EA_DATA_LEN(ea) : \\\n\t\t\t\t  (sizeof(__be64) * (ea)->ea_num_ptrs)), 8)\n\n#define GFS2_EA_IS_STUFFED(ea) (!(ea)->ea_num_ptrs)\n#define GFS2_EA_IS_LAST(ea) ((ea)->ea_flags & GFS2_EAFLAG_LAST)\n\n#define GFS2_EAREQ_SIZE_STUFFED(er) \\\nALIGN(sizeof(struct gfs2_ea_header) + (er)->er_name_len + (er)->er_data_len, 8)\n\n#define GFS2_EA2NAME(ea) ((char *)((struct gfs2_ea_header *)(ea) + 1))\n#define GFS2_EA2DATA(ea) (GFS2_EA2NAME(ea) + (ea)->ea_name_len)\n\n#define GFS2_EA2DATAPTRS(ea) \\\n((__be64 *)(GFS2_EA2NAME(ea) + ALIGN((ea)->ea_name_len, 8)))\n\n#define GFS2_EA2NEXT(ea) \\\n((struct gfs2_ea_header *)((char *)(ea) + GFS2_EA_REC_LEN(ea)))\n\n#define GFS2_EA_BH2FIRST(bh) \\\n((struct gfs2_ea_header *)((bh)->b_data + sizeof(struct gfs2_meta_header)))\n\nstruct gfs2_ea_request {\n\tconst char *er_name;\n\tchar *er_data;\n\tunsigned int er_name_len;\n\tunsigned int er_data_len;\n\tunsigned int er_type;  \n};\n\nstruct gfs2_ea_location {\n\tstruct buffer_head *el_bh;\n\tstruct gfs2_ea_header *el_ea;\n\tstruct gfs2_ea_header *el_prev;\n};\n\nextern int __gfs2_xattr_set(struct inode *inode, const char *name,\n\t\t\t    const void *value, size_t size,\n\t\t\t    int flags, int type);\nextern ssize_t gfs2_listxattr(struct dentry *dentry, char *buffer, size_t size);\nextern int gfs2_ea_dealloc(struct gfs2_inode *ip);\n\n \n\nextern int gfs2_xattr_acl_get(struct gfs2_inode *ip, const char *name, char **data);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}