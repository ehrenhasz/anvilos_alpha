{
  "module_name": "itree_v1.c",
  "hash_id": "0d641bc2c049d6a3a6d29dcf46b1dc6562f2fcfbcd58aaa81f0407f0c7955bfb",
  "original_prompt": "Ingested from linux-6.6.14/fs/minix/itree_v1.c",
  "human_readable_source": "\n#include <linux/buffer_head.h>\n#include <linux/slab.h>\n#include \"minix.h\"\n\nenum {DEPTH = 3, DIRECT = 7};\t \n\ntypedef u16 block_t;\t \n\nstatic inline unsigned long block_to_cpu(block_t n)\n{\n\treturn n;\n}\n\nstatic inline block_t cpu_to_block(unsigned long n)\n{\n\treturn n;\n}\n\nstatic inline block_t *i_data(struct inode *inode)\n{\n\treturn (block_t *)minix_i(inode)->u.i1_data;\n}\n\nstatic int block_to_path(struct inode * inode, long block, int offsets[DEPTH])\n{\n\tint n = 0;\n\n\tif (block < 0) {\n\t\tprintk(\"MINIX-fs: block_to_path: block %ld < 0 on dev %pg\\n\",\n\t\t\tblock, inode->i_sb->s_bdev);\n\t\treturn 0;\n\t}\n\tif ((u64)block * BLOCK_SIZE >= inode->i_sb->s_maxbytes)\n\t\treturn 0;\n\n\tif (block < 7) {\n\t\toffsets[n++] = block;\n\t} else if ((block -= 7) < 512) {\n\t\toffsets[n++] = 7;\n\t\toffsets[n++] = block;\n\t} else {\n\t\tblock -= 512;\n\t\toffsets[n++] = 8;\n\t\toffsets[n++] = block>>9;\n\t\toffsets[n++] = block & 511;\n\t}\n\treturn n;\n}\n\n#include \"itree_common.c\"\n\nint V1_minix_get_block(struct inode * inode, long block,\n\t\t\tstruct buffer_head *bh_result, int create)\n{\n\treturn get_block(inode, block, bh_result, create);\n}\n\nvoid V1_minix_truncate(struct inode * inode)\n{\n\ttruncate(inode);\n}\n\nunsigned V1_minix_blocks(loff_t size, struct super_block *sb)\n{\n\treturn nblocks(size, sb);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}