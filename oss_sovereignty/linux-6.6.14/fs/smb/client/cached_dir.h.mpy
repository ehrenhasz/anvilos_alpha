{
  "module_name": "cached_dir.h",
  "hash_id": "429e15847b862cee42527c74285062be4fd8cb6467683e8e0f0cef50c352a7b0",
  "original_prompt": "Ingested from linux-6.6.14/fs/smb/client/cached_dir.h",
  "human_readable_source": " \n \n\n#ifndef _CACHED_DIR_H\n#define _CACHED_DIR_H\n\n\nstruct cached_dirent {\n\tstruct list_head entry;\n\tchar *name;\n\tint namelen;\n\tloff_t pos;\n\n\tstruct cifs_fattr fattr;\n};\n\nstruct cached_dirents {\n\tbool is_valid:1;\n\tbool is_failed:1;\n\tstruct dir_context *ctx;  \n\tstruct mutex de_mutex;\n\tint pos;\t\t  \n\tstruct list_head entries;\n};\n\nstruct cached_fid {\n\tstruct list_head entry;\n\tstruct cached_fids *cfids;\n\tconst char *path;\n\tbool has_lease:1;\n\tbool is_open:1;\n\tbool on_list:1;\n\tbool file_all_info_is_valid:1;\n\tunsigned long time;  \n\tstruct kref refcount;\n\tstruct cifs_fid fid;\n\tspinlock_t fid_lock;\n\tstruct cifs_tcon *tcon;\n\tstruct dentry *dentry;\n\tstruct work_struct lease_break;\n\tstruct smb2_file_all_info file_all_info;\n\tstruct cached_dirents dirents;\n};\n\n \nstruct cached_fids {\n\t \n\tspinlock_t cfid_list_lock;\n\tint num_entries;\n\tstruct list_head entries;\n\tstruct delayed_work laundromat_work;\n};\n\nextern struct cached_fids *init_cached_dirs(void);\nextern void free_cached_dirs(struct cached_fids *cfids);\nextern int open_cached_dir(unsigned int xid, struct cifs_tcon *tcon,\n\t\t\t   const char *path,\n\t\t\t   struct cifs_sb_info *cifs_sb,\n\t\t\t   bool lookup_only, struct cached_fid **cfid);\nextern int open_cached_dir_by_dentry(struct cifs_tcon *tcon,\n\t\t\t\t     struct dentry *dentry,\n\t\t\t\t     struct cached_fid **cfid);\nextern void close_cached_dir(struct cached_fid *cfid);\nextern void drop_cached_dir_by_name(const unsigned int xid,\n\t\t\t\t    struct cifs_tcon *tcon,\n\t\t\t\t    const char *name,\n\t\t\t\t    struct cifs_sb_info *cifs_sb);\nextern void close_all_cached_dirs(struct cifs_sb_info *cifs_sb);\nextern void invalidate_all_cached_dirs(struct cifs_tcon *tcon);\nextern int cached_dir_lease_break(struct cifs_tcon *tcon, __u8 lease_key[16]);\n\n#endif\t\t\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}