{
  "module_name": "transport_rdma.h",
  "hash_id": "8baa24e4e59fb85c2088a16c74195fd673938a5c05f784ca6d06b915f84e97df",
  "original_prompt": "Ingested from linux-6.6.14/fs/smb/server/transport_rdma.h",
  "human_readable_source": " \n \n\n#ifndef __KSMBD_TRANSPORT_RDMA_H__\n#define __KSMBD_TRANSPORT_RDMA_H__\n\n#define SMBD_DEFAULT_IOSIZE (8 * 1024 * 1024)\n#define SMBD_MIN_IOSIZE (512 * 1024)\n#define SMBD_MAX_IOSIZE (16 * 1024 * 1024)\n\n \nstruct smb_direct_negotiate_req {\n\t__le16 min_version;\n\t__le16 max_version;\n\t__le16 reserved;\n\t__le16 credits_requested;\n\t__le32 preferred_send_size;\n\t__le32 max_receive_size;\n\t__le32 max_fragmented_size;\n} __packed;\n\n \nstruct smb_direct_negotiate_resp {\n\t__le16 min_version;\n\t__le16 max_version;\n\t__le16 negotiated_version;\n\t__le16 reserved;\n\t__le16 credits_requested;\n\t__le16 credits_granted;\n\t__le32 status;\n\t__le32 max_readwrite_size;\n\t__le32 preferred_send_size;\n\t__le32 max_receive_size;\n\t__le32 max_fragmented_size;\n} __packed;\n\n#define SMB_DIRECT_RESPONSE_REQUESTED 0x0001\n\n \nstruct smb_direct_data_transfer {\n\t__le16 credits_requested;\n\t__le16 credits_granted;\n\t__le16 flags;\n\t__le16 reserved;\n\t__le32 remaining_data_length;\n\t__le32 data_offset;\n\t__le32 data_length;\n\t__le32 padding;\n\t__u8 buffer[];\n} __packed;\n\n#ifdef CONFIG_SMB_SERVER_SMBDIRECT\nint ksmbd_rdma_init(void);\nvoid ksmbd_rdma_destroy(void);\nbool ksmbd_rdma_capable_netdev(struct net_device *netdev);\nvoid init_smbd_max_io_size(unsigned int sz);\nunsigned int get_smbd_max_read_write_size(void);\n#else\nstatic inline int ksmbd_rdma_init(void) { return 0; }\nstatic inline int ksmbd_rdma_destroy(void) { return 0; }\nstatic inline bool ksmbd_rdma_capable_netdev(struct net_device *netdev) { return false; }\nstatic inline void init_smbd_max_io_size(unsigned int sz) { }\nstatic inline unsigned int get_smbd_max_read_write_size(void) { return 0; }\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}