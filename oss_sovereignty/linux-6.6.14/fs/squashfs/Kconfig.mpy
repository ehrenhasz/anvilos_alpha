{
  "module_name": "Kconfig",
  "hash_id": "2271c154078407a4c13e0ff319fa1acbe9559d2020c29b6b6fbe55cf10b799cf",
  "original_prompt": "Ingested from linux-6.6.14/fs/squashfs/Kconfig",
  "human_readable_source": "# SPDX-License-Identifier: GPL-2.0-only\nconfig SQUASHFS\n\ttristate \"SquashFS 4.0 - Squashed file system support\"\n\tdepends on BLOCK\n\thelp\n\t  Saying Y here includes support for SquashFS 4.0 (a Compressed\n\t  Read-Only File System).  Squashfs is a highly compressed read-only\n\t  filesystem for Linux.  It uses zlib, lzo or xz compression to\n\t  compress both files, inodes and directories.  Inodes in the system\n\t  are very small and all blocks are packed to minimise data overhead.\n\t  Block sizes greater than 4K are supported up to a maximum of 1 Mbytes\n\t  (default block size 128K).  SquashFS 4.0 supports 64 bit filesystems\n\t  and files (larger than 4GB), full uid/gid information, hard links and\n\t  timestamps.\n\n\t  Squashfs is intended for general read-only filesystem use, for\n\t  archival use (i.e. in cases where a .tar.gz file may be used), and in\n\t  embedded systems where low overhead is needed.  Further information\n\t  and tools are available from http://squashfs.sourceforge.net.\n\n\t  If you want to compile this as a module ( = code which can be\n\t  inserted in and removed from the running kernel whenever you want),\n\t  say M here.  The module will be called squashfs.  Note that the root\n\t  file system (the one containing the directory /) cannot be compiled\n\t  as a module.\n\n\t  If unsure, say N.\n\nchoice\n\tprompt \"File decompression options\"\n\tdepends on SQUASHFS\n\thelp\n\t  Squashfs now supports two options for decompressing file\n\t  data.  Traditionally Squashfs has decompressed into an\n\t  intermediate buffer and then memcopied it into the page cache.\n\t  Squashfs now supports the ability to decompress directly into\n\t  the page cache.\n\n\t  If unsure, select \"Decompress file data into an intermediate buffer\"\n\nconfig SQUASHFS_FILE_CACHE\n\tbool \"Decompress file data into an intermediate buffer\"\n\thelp\n\t  Decompress file data into an intermediate buffer and then\n\t  memcopy it into the page cache.\n\nconfig SQUASHFS_FILE_DIRECT\n\tbool \"Decompress files directly into the page cache\"\n\thelp\n\t  Directly decompress file data into the page cache.\n\t  Doing so can significantly improve performance because\n\t  it eliminates a memcpy and it also removes the lock contention\n\t  on the single buffer.\n\nendchoice\n\nconfig SQUASHFS_DECOMP_SINGLE\n\tdepends on SQUASHFS\n\tdef_bool n\n\nconfig SQUASHFS_DECOMP_MULTI\n\tdepends on SQUASHFS\n\tdef_bool n\n\nconfig SQUASHFS_DECOMP_MULTI_PERCPU\n\tdepends on SQUASHFS\n\tdef_bool n\n\nconfig SQUASHFS_CHOICE_DECOMP_BY_MOUNT\n\tbool \"Select the parallel decompression mode during mount\"\n\tdepends on SQUASHFS\n\tdefault n\n\tselect SQUASHFS_DECOMP_SINGLE\n\tselect SQUASHFS_DECOMP_MULTI\n\tselect SQUASHFS_DECOMP_MULTI_PERCPU\n\tselect SQUASHFS_MOUNT_DECOMP_THREADS\n\thelp\n\t  Compile all parallel decompression modes and specify the\n\t  decompression mode by setting \"threads=\" during mount.\n\t  default Decompressor parallelisation is SQUASHFS_DECOMP_SINGLE\n\nchoice\n\tprompt \"Select decompression parallel mode at compile time\"\n\tdepends on SQUASHFS\n\tdepends on !SQUASHFS_CHOICE_DECOMP_BY_MOUNT\n\thelp\n\t  Squashfs now supports three parallelisation options for\n\t  decompression.  Each one exhibits various trade-offs between\n\t  decompression performance and CPU and memory usage.\n\n\t  If in doubt, select \"Single threaded compression\"\n\nconfig SQUASHFS_COMPILE_DECOMP_SINGLE\n\tbool \"Single threaded compression\"\n\tselect SQUASHFS_DECOMP_SINGLE\n\thelp\n\t  Traditionally Squashfs has used single-threaded decompression.\n\t  Only one block (data or metadata) can be decompressed at any\n\t  one time.  This limits CPU and memory usage to a minimum.\n\nconfig SQUASHFS_COMPILE_DECOMP_MULTI\n\tbool \"Use multiple decompressors for parallel I/O\"\n\tselect SQUASHFS_DECOMP_MULTI\n\thelp\n\t  By default Squashfs uses a single decompressor but it gives\n\t  poor performance on parallel I/O workloads when using multiple CPU\n\t  machines due to waiting on decompressor availability.\n\n\t  If you have a parallel I/O workload and your system has enough memory,\n\t  using this option may improve overall I/O performance.\n\n\t  This decompressor implementation uses up to two parallel\n\t  decompressors per core.  It dynamically allocates decompressors\n\t  on a demand basis.\n\nconfig SQUASHFS_COMPILE_DECOMP_MULTI_PERCPU\n\tbool \"Use percpu multiple decompressors for parallel I/O\"\n\tselect SQUASHFS_DECOMP_MULTI_PERCPU\n\thelp\n\t  By default Squashfs uses a single decompressor but it gives\n\t  poor performance on parallel I/O workloads when using multiple CPU\n\t  machines due to waiting on decompressor availability.\n\n\t  This decompressor implementation uses a maximum of one\n\t  decompressor per core.  It uses percpu variables to ensure\n\t  decompression is load-balanced across the cores.\nendchoice\n\nconfig SQUASHFS_MOUNT_DECOMP_THREADS\n\tbool \"Add the mount parameter 'threads=' for squashfs\"\n\tdepends on SQUASHFS\n\tdepends on SQUASHFS_DECOMP_MULTI\n\tdefault n\n\thelp\n\t  Use threads= to set the decompression parallel mode and the number of threads.\n\t  If SQUASHFS_CHOICE_DECOMP_BY_MOUNT=y\n\t      threads=<single|multi|percpu|1|2|3|...>\n\t  else\n\t      threads=<2|3|...>\n\t  The upper limit is num_online_cpus() * 2.\n\nconfig SQUASHFS_XATTR\n\tbool \"Squashfs XATTR support\"\n\tdepends on SQUASHFS\n\thelp\n\t  Saying Y here includes support for extended attributes (xattrs).\n\t  Xattrs are name:value pairs associated with inodes by\n\t  the kernel or by users (see the attr(5) manual page).\n\n\t  If unsure, say N.\n\nconfig SQUASHFS_ZLIB\n\tbool \"Include support for ZLIB compressed file systems\"\n\tdepends on SQUASHFS\n\tselect ZLIB_INFLATE\n\tdefault y\n\thelp\n\t  ZLIB compression is the standard compression used by Squashfs\n\t  file systems.  It offers a good trade-off between compression\n\t  achieved and the amount of CPU time and memory necessary to\n\t  compress and decompress.\n\n\t  If unsure, say Y.\n\nconfig SQUASHFS_LZ4\n\tbool \"Include support for LZ4 compressed file systems\"\n\tdepends on SQUASHFS\n\tselect LZ4_DECOMPRESS\n\thelp\n\t  Saying Y here includes support for reading Squashfs file systems\n\t  compressed with LZ4 compression.  LZ4 compression is mainly\n\t  aimed at embedded systems with slower CPUs where the overheads\n\t  of zlib are too high.\n\n\t  LZ4 is not the standard compression used in Squashfs and so most\n\t  file systems will be readable without selecting this option.\n\n\t  If unsure, say N.\n\nconfig SQUASHFS_LZO\n\tbool \"Include support for LZO compressed file systems\"\n\tdepends on SQUASHFS\n\tselect LZO_DECOMPRESS\n\thelp\n\t  Saying Y here includes support for reading Squashfs file systems\n\t  compressed with LZO compression.  LZO compression is mainly\n\t  aimed at embedded systems with slower CPUs where the overheads\n\t  of zlib are too high.\n\n\t  LZO is not the standard compression used in Squashfs and so most\n\t  file systems will be readable without selecting this option.\n\n\t  If unsure, say N.\n\nconfig SQUASHFS_XZ\n\tbool \"Include support for XZ compressed file systems\"\n\tdepends on SQUASHFS\n\tselect XZ_DEC\n\thelp\n\t  Saying Y here includes support for reading Squashfs file systems\n\t  compressed with XZ compression.  XZ gives better compression than\n\t  the default zlib compression, at the expense of greater CPU and\n\t  memory overhead.\n\n\t  XZ is not the standard compression used in Squashfs and so most\n\t  file systems will be readable without selecting this option.\n\n\t  If unsure, say N.\n\nconfig SQUASHFS_ZSTD\n\tbool \"Include support for ZSTD compressed file systems\"\n\tdepends on SQUASHFS\n\tselect ZSTD_DECOMPRESS\n\thelp\n\t  Saying Y here includes support for reading Squashfs file systems\n\t  compressed with ZSTD compression.  ZSTD gives better compression than\n\t  the default ZLIB compression, while using less CPU.\n\n\t  ZSTD is not the standard compression used in Squashfs and so most\n\t  file systems will be readable without selecting this option.\n\n\t  If unsure, say N.\n\nconfig SQUASHFS_4K_DEVBLK_SIZE\n\tbool \"Use 4K device block size?\"\n\tdepends on SQUASHFS\n\thelp\n\t  By default Squashfs sets the dev block size (sb_min_blocksize)\n\t  to 1K or the smallest block size supported by the block device\n\t  (if larger).  This, because blocks are packed together and\n\t  unaligned in Squashfs, should reduce latency.\n\n\t  This, however, gives poor performance on MTD NAND devices where\n\t  the optimal I/O size is 4K (even though the devices can support\n\t  smaller block sizes).\n\n\t  Using a 4K device block size may also improve overall I/O\n\t  performance for some file access patterns (e.g. sequential\n\t  accesses of files in filesystem order) on all media.\n\n\t  Setting this option will force Squashfs to use a 4K device block\n\t  size by default.\n\n\t  If unsure, say N.\n\nconfig SQUASHFS_EMBEDDED\n\tbool \"Additional option for memory-constrained systems\"\n\tdepends on SQUASHFS\n\thelp\n\t  Saying Y here allows you to specify cache size.\n\n\t  If unsure, say N.\n\nconfig SQUASHFS_FRAGMENT_CACHE_SIZE\n\tint \"Number of fragments cached\" if SQUASHFS_EMBEDDED\n\tdepends on SQUASHFS\n\tdefault \"3\"\n\thelp\n\t  By default SquashFS caches the last 3 fragments read from\n\t  the filesystem.  Increasing this amount may mean SquashFS\n\t  has to re-read fragments less often from disk, at the expense\n\t  of extra system memory.  Decreasing this amount will mean\n\t  SquashFS uses less memory at the expense of extra reads from disk.\n\n\t  Note there must be at least one cached fragment.  Anything\n\t  much more than three will probably not make much difference.\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}