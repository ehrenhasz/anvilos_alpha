{
  "module_name": "trace.h",
  "hash_id": "4b3d532f223ecf578c5d20a3f300cc8a7bb35a6f16fc515717d2dbe23e7cfeee",
  "original_prompt": "Ingested from linux-6.6.14/fs/ext2/trace.h",
  "human_readable_source": "\n\n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM ext2\n\n#if !defined(_EXT2_TRACE_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _EXT2_TRACE_H\n\n#include <linux/tracepoint.h>\n\nDECLARE_EVENT_CLASS(ext2_dio_class,\n\tTP_PROTO(struct kiocb *iocb, struct iov_iter *iter, ssize_t ret),\n\tTP_ARGS(iocb, iter, ret),\n\tTP_STRUCT__entry(\n\t\t__field(dev_t,\tdev)\n\t\t__field(ino_t,\tino)\n\t\t__field(loff_t, isize)\n\t\t__field(loff_t, pos)\n\t\t__field(size_t,\tcount)\n\t\t__field(int,\tki_flags)\n\t\t__field(bool,\taio)\n\t\t__field(ssize_t, ret)\n\t),\n\tTP_fast_assign(\n\t\t__entry->dev = file_inode(iocb->ki_filp)->i_sb->s_dev;\n\t\t__entry->ino = file_inode(iocb->ki_filp)->i_ino;\n\t\t__entry->isize = file_inode(iocb->ki_filp)->i_size;\n\t\t__entry->pos = iocb->ki_pos;\n\t\t__entry->count = iov_iter_count(iter);\n\t\t__entry->ki_flags = iocb->ki_flags;\n\t\t__entry->aio = !is_sync_kiocb(iocb);\n\t\t__entry->ret = ret;\n\t),\n\tTP_printk(\"dev %d:%d ino 0x%lx isize 0x%llx pos 0x%llx len %zu flags %s aio %d ret %zd\",\n\t\t  MAJOR(__entry->dev), MINOR(__entry->dev),\n\t\t  __entry->ino,\n\t\t  __entry->isize,\n\t\t  __entry->pos,\n\t\t  __entry->count,\n\t\t  __print_flags(__entry->ki_flags, \"|\", TRACE_IOCB_STRINGS),\n\t\t  __entry->aio,\n\t\t  __entry->ret)\n);\n\n#define DEFINE_DIO_RW_EVENT(name)\t\t\t\t\t  \\\nDEFINE_EVENT(ext2_dio_class, name,\t\t\t\t\t  \\\n\tTP_PROTO(struct kiocb *iocb, struct iov_iter *iter, ssize_t ret), \\\n\tTP_ARGS(iocb, iter, ret))\nDEFINE_DIO_RW_EVENT(ext2_dio_write_begin);\nDEFINE_DIO_RW_EVENT(ext2_dio_write_end);\nDEFINE_DIO_RW_EVENT(ext2_dio_write_buff_end);\nDEFINE_DIO_RW_EVENT(ext2_dio_read_begin);\nDEFINE_DIO_RW_EVENT(ext2_dio_read_end);\n\nTRACE_EVENT(ext2_dio_write_endio,\n\tTP_PROTO(struct kiocb *iocb, ssize_t size, int ret),\n\tTP_ARGS(iocb, size, ret),\n\tTP_STRUCT__entry(\n\t\t__field(dev_t,\tdev)\n\t\t__field(ino_t,\tino)\n\t\t__field(loff_t, isize)\n\t\t__field(loff_t, pos)\n\t\t__field(ssize_t, size)\n\t\t__field(int,\tki_flags)\n\t\t__field(bool,\taio)\n\t\t__field(int,\tret)\n\t),\n\tTP_fast_assign(\n\t\t__entry->dev = file_inode(iocb->ki_filp)->i_sb->s_dev;\n\t\t__entry->ino = file_inode(iocb->ki_filp)->i_ino;\n\t\t__entry->isize = file_inode(iocb->ki_filp)->i_size;\n\t\t__entry->pos = iocb->ki_pos;\n\t\t__entry->size = size;\n\t\t__entry->ki_flags = iocb->ki_flags;\n\t\t__entry->aio = !is_sync_kiocb(iocb);\n\t\t__entry->ret = ret;\n\t),\n\tTP_printk(\"dev %d:%d ino 0x%lx isize 0x%llx pos 0x%llx len %zd flags %s aio %d ret %d\",\n\t\t  MAJOR(__entry->dev), MINOR(__entry->dev),\n\t\t  __entry->ino,\n\t\t  __entry->isize,\n\t\t  __entry->pos,\n\t\t  __entry->size,\n\t\t  __print_flags(__entry->ki_flags, \"|\", TRACE_IOCB_STRINGS),\n\t\t  __entry->aio,\n\t\t  __entry->ret)\n);\n\n#endif  \n\n#undef TRACE_INCLUDE_PATH\n#define TRACE_INCLUDE_PATH .\n#define TRACE_INCLUDE_FILE trace\n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}