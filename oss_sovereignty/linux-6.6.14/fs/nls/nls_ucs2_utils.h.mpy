{
  "module_name": "nls_ucs2_utils.h",
  "hash_id": "dd01b4bcfca747246ae0150e62c819a28193482e4149115668276dd84ae802ae",
  "original_prompt": "Ingested from linux-6.6.14/fs/nls/nls_ucs2_utils.h",
  "human_readable_source": " \n \n#ifndef _NLS_UCS2_UTILS_H\n#define _NLS_UCS2_UTILS_H\n\n#include <asm/byteorder.h>\n#include <linux/types.h>\n#include <linux/nls.h>\n#include <linux/unicode.h>\n#include \"nls_ucs2_data.h\"\n\n \n#define UNI_ASTERISK    ((__u16)('*' + 0xF000))\n#define UNI_QUESTION    ((__u16)('?' + 0xF000))\n#define UNI_COLON       ((__u16)(':' + 0xF000))\n#define UNI_GRTRTHAN    ((__u16)('>' + 0xF000))\n#define UNI_LESSTHAN    ((__u16)('<' + 0xF000))\n#define UNI_PIPE        ((__u16)('|' + 0xF000))\n#define UNI_SLASH       ((__u16)('\\\\' + 0xF000))\n\n \nstatic inline wchar_t *UniStrcat(wchar_t *ucs1, const wchar_t *ucs2)\n{\n\twchar_t *anchor = ucs1;\t \n\n\twhile (*ucs1++)\n\t ;\t \n\tucs1--;\t\t\t \n\twhile ((*ucs1++ = *ucs2++))\n\t ;\t \n\treturn anchor;\n}\n\n \nstatic inline wchar_t *UniStrchr(const wchar_t *ucs, wchar_t uc)\n{\n\twhile ((*ucs != uc) && *ucs)\n\t\tucs++;\n\n\tif (*ucs == uc)\n\t\treturn (wchar_t *)ucs;\n\treturn NULL;\n}\n\n \nstatic inline int UniStrcmp(const wchar_t *ucs1, const wchar_t *ucs2)\n{\n\twhile ((*ucs1 == *ucs2) && *ucs1) {\n\t\tucs1++;\n\t\tucs2++;\n\t}\n\treturn (int)*ucs1 - (int)*ucs2;\n}\n\n \nstatic inline wchar_t *UniStrcpy(wchar_t *ucs1, const wchar_t *ucs2)\n{\n\twchar_t *anchor = ucs1;\t \n\n\twhile ((*ucs1++ = *ucs2++))\n\t ;\n\treturn anchor;\n}\n\n \nstatic inline size_t UniStrlen(const wchar_t *ucs1)\n{\n\tint i = 0;\n\n\twhile (*ucs1++)\n\t\ti++;\n\treturn i;\n}\n\n \nstatic inline size_t UniStrnlen(const wchar_t *ucs1, int maxlen)\n{\n\tint i = 0;\n\n\twhile (*ucs1++) {\n\t\ti++;\n\t\tif (i >= maxlen)\n\t\t\tbreak;\n\t}\n\treturn i;\n}\n\n \nstatic inline wchar_t *UniStrncat(wchar_t *ucs1, const wchar_t *ucs2, size_t n)\n{\n\twchar_t *anchor = ucs1;\t \n\n\twhile (*ucs1++)\n\t ;\n\tucs1--;\t\t\t \n\twhile (n-- && (*ucs1 = *ucs2)) {\t \n\t\tucs1++;\n\t\tucs2++;\n\t}\n\t*ucs1 = 0;\t\t \n\treturn anchor;\n}\n\n \nstatic inline int UniStrncmp(const wchar_t *ucs1, const wchar_t *ucs2, size_t n)\n{\n\tif (!n)\n\t\treturn 0;\t \n\twhile ((*ucs1 == *ucs2) && *ucs1 && --n) {\n\t\tucs1++;\n\t\tucs2++;\n\t}\n\treturn (int)*ucs1 - (int)*ucs2;\n}\n\n \nstatic inline int\nUniStrncmp_le(const wchar_t *ucs1, const wchar_t *ucs2, size_t n)\n{\n\tif (!n)\n\t\treturn 0;\t \n\twhile ((*ucs1 == __le16_to_cpu(*ucs2)) && *ucs1 && --n) {\n\t\tucs1++;\n\t\tucs2++;\n\t}\n\treturn (int)*ucs1 - (int)__le16_to_cpu(*ucs2);\n}\n\n \nstatic inline wchar_t *UniStrncpy(wchar_t *ucs1, const wchar_t *ucs2, size_t n)\n{\n\twchar_t *anchor = ucs1;\n\n\twhile (n-- && *ucs2)\t \n\t\t*ucs1++ = *ucs2++;\n\n\tn++;\n\twhile (n--)\t\t \n\t\t*ucs1++ = 0;\n\treturn anchor;\n}\n\n \nstatic inline wchar_t *UniStrncpy_le(wchar_t *ucs1, const wchar_t *ucs2, size_t n)\n{\n\twchar_t *anchor = ucs1;\n\n\twhile (n-- && *ucs2)\t \n\t\t*ucs1++ = __le16_to_cpu(*ucs2++);\n\n\tn++;\n\twhile (n--)\t\t \n\t\t*ucs1++ = 0;\n\treturn anchor;\n}\n\n \nstatic inline wchar_t *UniStrstr(const wchar_t *ucs1, const wchar_t *ucs2)\n{\n\tconst wchar_t *anchor1 = ucs1;\n\tconst wchar_t *anchor2 = ucs2;\n\n\twhile (*ucs1) {\n\t\tif (*ucs1 == *ucs2) {\n\t\t\t \n\t\t\tucs1++;\n\t\t\tucs2++;\n\t\t} else {\n\t\t\tif (!*ucs2)\t \n\t\t\t\treturn (wchar_t *)anchor1;\n\t\t\tucs1 = ++anchor1;\t \n\t\t\tucs2 = anchor2;\n\t\t}\n\t}\n\n\tif (!*ucs2)\t\t \n\t\treturn (wchar_t *)anchor1;\t \n\treturn NULL;\t\t \n}\n\n#ifndef UNIUPR_NOUPPER\n \nstatic inline wchar_t UniToupper(register wchar_t uc)\n{\n\tregister const struct UniCaseRange *rp;\n\n\tif (uc < sizeof(NlsUniUpperTable)) {\n\t\t \n\t\treturn uc + NlsUniUpperTable[uc];\t \n\t}\n\n\trp = NlsUniUpperRange;\t \n\twhile (rp->start) {\n\t\tif (uc < rp->start)\t \n\t\t\treturn uc;\t \n\t\tif (uc <= rp->end)\t \n\t\t\treturn uc + rp->table[uc - rp->start];\n\t\trp++;\t \n\t}\n\treturn uc;\t\t \n}\n\n \nstatic inline __le16 *UniStrupr(register __le16 *upin)\n{\n\tregister __le16 *up;\n\n\tup = upin;\n\twhile (*up) {\t\t \n\t\t*up = cpu_to_le16(UniToupper(le16_to_cpu(*up)));\n\t\tup++;\n\t}\n\treturn upin;\t\t \n}\n#endif\t\t\t\t \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}