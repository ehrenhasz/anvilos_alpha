{
  "module_name": "ufs.h",
  "hash_id": "27e8593f3101adc751a22465d4e1442a641594e41fdcaea933ca779706eba4c6",
  "original_prompt": "Ingested from linux-6.6.14/fs/ufs/ufs.h",
  "human_readable_source": " \n#ifndef _UFS_UFS_H\n#define _UFS_UFS_H 1\n\n#ifdef pr_fmt\n#undef pr_fmt\n#endif\n\n#define pr_fmt(fmt) KBUILD_MODNAME \": \" fmt\n\n#define UFS_MAX_GROUP_LOADED 8\n#define UFS_CGNO_EMPTY ((unsigned)-1)\n\nstruct ufs_sb_private_info;\nstruct ufs_cg_private_info;\nstruct ufs_csum;\n\nstruct ufs_sb_info {\n\tstruct ufs_sb_private_info * s_uspi;\n\tstruct ufs_csum\t* s_csp;\n\tunsigned s_bytesex;\n\tunsigned s_flags;\n\tstruct buffer_head ** s_ucg;\n\tstruct ufs_cg_private_info * s_ucpi[UFS_MAX_GROUP_LOADED];\n\tunsigned s_cgno[UFS_MAX_GROUP_LOADED];\n\tunsigned short s_cg_loaded;\n\tunsigned s_mount_opt;\n\tstruct super_block *sb;\n\tint work_queued;  \n\tstruct delayed_work sync_work;  \n\tspinlock_t work_lock;  \n\tstruct mutex s_lock;\n};\n\nstruct ufs_inode_info {\n\tunion {\n\t\t__fs32\ti_data[15];\n\t\t__u8\ti_symlink[2 * 4 * 15];\n\t\t__fs64\tu2_i_data[15];\n\t} i_u1;\n\t__u32\ti_flags;\n\t__u32\ti_shadow;\n\t__u32\ti_unused1;\n\t__u32\ti_unused2;\n\t__u32\ti_oeftflag;\n\t__u16\ti_osync;\n\t__u64\ti_lastfrag;\n\tseqlock_t meta_lock;\n\tstruct mutex\ttruncate_mutex;\n\t__u32   i_dir_start_lookup;\n\tstruct inode vfs_inode;\n};\n\n \n#define UFS_MOUNT_ONERROR\t\t0x0000000F\n#define UFS_MOUNT_ONERROR_PANIC\t\t0x00000001\n#define UFS_MOUNT_ONERROR_LOCK\t\t0x00000002\n#define UFS_MOUNT_ONERROR_UMOUNT\t0x00000004\n#define UFS_MOUNT_ONERROR_REPAIR\t0x00000008\n\n#define UFS_MOUNT_UFSTYPE\t\t0x0000FFF0\n#define UFS_MOUNT_UFSTYPE_OLD\t\t0x00000010\n#define UFS_MOUNT_UFSTYPE_44BSD\t\t0x00000020\n#define UFS_MOUNT_UFSTYPE_SUN\t\t0x00000040\n#define UFS_MOUNT_UFSTYPE_NEXTSTEP\t0x00000080\n#define UFS_MOUNT_UFSTYPE_NEXTSTEP_CD\t0x00000100\n#define UFS_MOUNT_UFSTYPE_OPENSTEP\t0x00000200\n#define UFS_MOUNT_UFSTYPE_SUNx86\t0x00000400\n#define UFS_MOUNT_UFSTYPE_HP\t        0x00000800\n#define UFS_MOUNT_UFSTYPE_UFS2\t\t0x00001000\n#define UFS_MOUNT_UFSTYPE_SUNOS\t\t0x00002000\n\n#define ufs_clear_opt(o,opt)\to &= ~UFS_MOUNT_##opt\n#define ufs_set_opt(o,opt)\to |= UFS_MOUNT_##opt\n#define ufs_test_opt(o,opt)\t((o) & UFS_MOUNT_##opt)\n\n \n#ifdef CONFIG_UFS_DEBUG\n#\tdefine UFSD(f, a...)\t{\t\t\t\t\t\\\n\t\tpr_debug(\"UFSD (%s, %d): %s:\",\t\t\t\t\\\n\t\t\t__FILE__, __LINE__, __func__);\t\t\\\n\t\tpr_debug(f, ## a);\t\t\t\t\t\\\n\t}\n#else\n#\tdefine UFSD(f, a...)\t \n#endif\n\n \nextern void ufs_free_fragments (struct inode *, u64, unsigned);\nextern void ufs_free_blocks (struct inode *, u64, unsigned);\nextern u64 ufs_new_fragments(struct inode *, void *, u64, u64,\n\t\t\t     unsigned, int *, struct page *);\n\n \nextern struct ufs_cg_private_info * ufs_load_cylinder (struct super_block *, unsigned);\nextern void ufs_put_cylinder (struct super_block *, unsigned);\n\n \nextern const struct inode_operations ufs_dir_inode_operations;\nextern int ufs_add_link (struct dentry *, struct inode *);\nextern ino_t ufs_inode_by_name(struct inode *, const struct qstr *);\nextern int ufs_make_empty(struct inode *, struct inode *);\nextern struct ufs_dir_entry *ufs_find_entry(struct inode *, const struct qstr *, struct page **);\nextern int ufs_delete_entry(struct inode *, struct ufs_dir_entry *, struct page *);\nextern int ufs_empty_dir (struct inode *);\nextern struct ufs_dir_entry *ufs_dotdot(struct inode *, struct page **);\nextern void ufs_set_link(struct inode *dir, struct ufs_dir_entry *de,\n\t\t\t struct page *page, struct inode *inode, bool update_times);\n\n \nextern const struct inode_operations ufs_file_inode_operations;\nextern const struct file_operations ufs_file_operations;\nextern const struct address_space_operations ufs_aops;\n\n \nextern void ufs_free_inode (struct inode *inode);\nextern struct inode * ufs_new_inode (struct inode *, umode_t);\n\n \nextern struct inode *ufs_iget(struct super_block *, unsigned long);\nextern int ufs_write_inode (struct inode *, struct writeback_control *);\nextern int ufs_sync_inode (struct inode *);\nextern void ufs_evict_inode (struct inode *);\nextern int ufs_setattr(struct mnt_idmap *idmap, struct dentry *dentry,\n\t\t       struct iattr *attr);\n\n \nextern const struct file_operations ufs_dir_operations;\n\n \nextern __printf(3, 4)\nvoid ufs_warning(struct super_block *, const char *, const char *, ...);\nextern __printf(3, 4)\nvoid ufs_error(struct super_block *, const char *, const char *, ...);\nextern __printf(3, 4)\nvoid ufs_panic(struct super_block *, const char *, const char *, ...);\nvoid ufs_mark_sb_dirty(struct super_block *sb);\n\nstatic inline struct ufs_sb_info *UFS_SB(struct super_block *sb)\n{\n\treturn sb->s_fs_info;\n}\n\nstatic inline struct ufs_inode_info *UFS_I(struct inode *inode)\n{\n\treturn container_of(inode, struct ufs_inode_info, vfs_inode);\n}\n\n \n \nstatic inline u64 ufs_dtog(struct ufs_sb_private_info * uspi, u64 b)\n{\n\tdo_div(b, uspi->s_fpg);\n\treturn b;\n}\n \nstatic inline u32 ufs_dtogd(struct ufs_sb_private_info * uspi, u64 b)\n{\n\treturn do_div(b, uspi->s_fpg);\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}