{
  "module_name": "xdr_fs.h",
  "hash_id": "0efb092e878091bb325b27121d7d7c50af0ae4c2518adaf0c2f53408ed6c35e4",
  "original_prompt": "Ingested from linux-6.6.14/fs/afs/xdr_fs.h",
  "human_readable_source": " \n \n\n#ifndef XDR_FS_H\n#define XDR_FS_H\n\nstruct afs_xdr_AFSFetchStatus {\n\t__be32\tif_version;\n#define AFS_FSTATUS_VERSION\t1\n\t__be32\ttype;\n\t__be32\tnlink;\n\t__be32\tsize_lo;\n\t__be32\tdata_version_lo;\n\t__be32\tauthor;\n\t__be32\towner;\n\t__be32\tcaller_access;\n\t__be32\tanon_access;\n\t__be32\tmode;\n\t__be32\tparent_vnode;\n\t__be32\tparent_unique;\n\t__be32\tseg_size;\n\t__be32\tmtime_client;\n\t__be32\tmtime_server;\n\t__be32\tgroup;\n\t__be32\tsync_counter;\n\t__be32\tdata_version_hi;\n\t__be32\tlock_count;\n\t__be32\tsize_hi;\n\t__be32\tabort_code;\n} __packed;\n\n#define AFS_DIR_HASHTBL_SIZE\t128\n#define AFS_DIR_DIRENT_SIZE\t32\n#define AFS_DIR_SLOTS_PER_BLOCK\t64\n#define AFS_DIR_BLOCK_SIZE\t2048\n#define AFS_DIR_BLOCKS_PER_PAGE\t(PAGE_SIZE / AFS_DIR_BLOCK_SIZE)\n#define AFS_DIR_MAX_SLOTS\t65536\n#define AFS_DIR_BLOCKS_WITH_CTR\t128\n#define AFS_DIR_MAX_BLOCKS\t1023\n#define AFS_DIR_RESV_BLOCKS\t1\n#define AFS_DIR_RESV_BLOCKS0\t13\n\n \nunion afs_xdr_dirent {\n\tstruct {\n\t\tu8\t\tvalid;\n\t\tu8\t\tunused[1];\n\t\t__be16\t\thash_next;\n\t\t__be32\t\tvnode;\n\t\t__be32\t\tunique;\n\t\tu8\t\tname[];\n\t\t \n\t} u;\n\tu8\t\t\textended_name[32];\n} __packed;\n\n \nstruct afs_xdr_dir_hdr {\n\t__be16\t\tnpages;\n\t__be16\t\tmagic;\n#define AFS_DIR_MAGIC htons(1234)\n\tu8\t\treserved;\n\tu8\t\tbitmap[8];\n\tu8\t\tpad[19];\n} __packed;\n\n \nunion afs_xdr_dir_block {\n\tstruct afs_xdr_dir_hdr\t\thdr;\n\n\tstruct {\n\t\tstruct afs_xdr_dir_hdr\thdr;\n\t\tu8\t\t\talloc_ctrs[AFS_DIR_MAX_BLOCKS];\n\t\t__be16\t\t\thashtable[AFS_DIR_HASHTBL_SIZE];\n\t} meta;\n\n\tunion afs_xdr_dirent\tdirents[AFS_DIR_SLOTS_PER_BLOCK];\n} __packed;\n\n \nstruct afs_xdr_dir_page {\n\tunion afs_xdr_dir_block\tblocks[AFS_DIR_BLOCKS_PER_PAGE];\n};\n\n \nstatic inline unsigned int afs_dir_calc_slots(size_t name_len)\n{\n\tname_len++;  \n\treturn 1 + ((name_len + 15) / AFS_DIR_DIRENT_SIZE);\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}