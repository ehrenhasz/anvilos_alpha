{
  "module_name": "misc.c",
  "hash_id": "741cdc952e9830773d04f9e57df19d9fbe8b0c6ac45c7db6dcf8abd1ce0fb959",
  "original_prompt": "Ingested from linux-6.6.14/fs/afs/misc.c",
  "human_readable_source": "\n \n\n#include <linux/kernel.h>\n#include <linux/module.h>\n#include <linux/errno.h>\n#include \"internal.h\"\n#include \"afs_fs.h\"\n#include \"protocol_uae.h\"\n\n \nint afs_abort_to_error(u32 abort_code)\n{\n\tswitch (abort_code) {\n\t\t \n\tcase 13:\t\treturn -EACCES;\n\tcase 27:\t\treturn -EFBIG;\n\tcase 30:\t\treturn -EROFS;\n\n\t\t \n\tcase VSALVAGE:\t\treturn -EIO;\n\tcase VNOVNODE:\t\treturn -ENOENT;\n\tcase VNOVOL:\t\treturn -ENOMEDIUM;\n\tcase VVOLEXISTS:\treturn -EEXIST;\n\tcase VNOSERVICE:\treturn -EIO;\n\tcase VOFFLINE:\t\treturn -ENOENT;\n\tcase VONLINE:\t\treturn -EEXIST;\n\tcase VDISKFULL:\t\treturn -ENOSPC;\n\tcase VOVERQUOTA:\treturn -EDQUOT;\n\tcase VBUSY:\t\treturn -EBUSY;\n\tcase VMOVED:\t\treturn -ENXIO;\n\n\t\t \n\tcase AFSVL_IDEXIST:\t\treturn -EEXIST;\n\tcase AFSVL_IO:\t\t\treturn -EREMOTEIO;\n\tcase AFSVL_NAMEEXIST:\t\treturn -EEXIST;\n\tcase AFSVL_CREATEFAIL:\t\treturn -EREMOTEIO;\n\tcase AFSVL_NOENT:\t\treturn -ENOMEDIUM;\n\tcase AFSVL_EMPTY:\t\treturn -ENOMEDIUM;\n\tcase AFSVL_ENTDELETED:\t\treturn -ENOMEDIUM;\n\tcase AFSVL_BADNAME:\t\treturn -EINVAL;\n\tcase AFSVL_BADINDEX:\t\treturn -EINVAL;\n\tcase AFSVL_BADVOLTYPE:\t\treturn -EINVAL;\n\tcase AFSVL_BADSERVER:\t\treturn -EINVAL;\n\tcase AFSVL_BADPARTITION:\treturn -EINVAL;\n\tcase AFSVL_REPSFULL:\t\treturn -EFBIG;\n\tcase AFSVL_NOREPSERVER:\t\treturn -ENOENT;\n\tcase AFSVL_DUPREPSERVER:\treturn -EEXIST;\n\tcase AFSVL_RWNOTFOUND:\t\treturn -ENOENT;\n\tcase AFSVL_BADREFCOUNT:\t\treturn -EINVAL;\n\tcase AFSVL_SIZEEXCEEDED:\treturn -EINVAL;\n\tcase AFSVL_BADENTRY:\t\treturn -EINVAL;\n\tcase AFSVL_BADVOLIDBUMP:\treturn -EINVAL;\n\tcase AFSVL_IDALREADYHASHED:\treturn -EINVAL;\n\tcase AFSVL_ENTRYLOCKED:\t\treturn -EBUSY;\n\tcase AFSVL_BADVOLOPER:\t\treturn -EBADRQC;\n\tcase AFSVL_BADRELLOCKTYPE:\treturn -EINVAL;\n\tcase AFSVL_RERELEASE:\t\treturn -EREMOTEIO;\n\tcase AFSVL_BADSERVERFLAG:\treturn -EINVAL;\n\tcase AFSVL_PERM:\t\treturn -EACCES;\n\tcase AFSVL_NOMEM:\t\treturn -EREMOTEIO;\n\n\t\t \n\tcase UAEPERM:\t\t\treturn -EPERM;\n\tcase UAENOENT:\t\t\treturn -ENOENT;\n\tcase UAEAGAIN:\t\t\treturn -EAGAIN;\n\tcase UAEACCES:\t\t\treturn -EACCES;\n\tcase UAEBUSY:\t\t\treturn -EBUSY;\n\tcase UAEEXIST:\t\t\treturn -EEXIST;\n\tcase UAENOTDIR:\t\t\treturn -ENOTDIR;\n\tcase UAEISDIR:\t\t\treturn -EISDIR;\n\tcase UAEFBIG:\t\t\treturn -EFBIG;\n\tcase UAENOSPC:\t\t\treturn -ENOSPC;\n\tcase UAEROFS:\t\t\treturn -EROFS;\n\tcase UAEMLINK:\t\t\treturn -EMLINK;\n\tcase UAEDEADLK:\t\t\treturn -EDEADLK;\n\tcase UAENAMETOOLONG:\t\treturn -ENAMETOOLONG;\n\tcase UAENOLCK:\t\t\treturn -ENOLCK;\n\tcase UAENOTEMPTY:\t\treturn -ENOTEMPTY;\n\tcase UAELOOP:\t\t\treturn -ELOOP;\n\tcase UAEOVERFLOW:\t\treturn -EOVERFLOW;\n\tcase UAENOMEDIUM:\t\treturn -ENOMEDIUM;\n\tcase UAEDQUOT:\t\t\treturn -EDQUOT;\n\n\t\t \n\tcase RXKADINCONSISTENCY: return -EPROTO;\n\tcase RXKADPACKETSHORT:\treturn -EPROTO;\n\tcase RXKADLEVELFAIL:\treturn -EKEYREJECTED;\n\tcase RXKADTICKETLEN:\treturn -EKEYREJECTED;\n\tcase RXKADOUTOFSEQUENCE: return -EPROTO;\n\tcase RXKADNOAUTH:\treturn -EKEYREJECTED;\n\tcase RXKADBADKEY:\treturn -EKEYREJECTED;\n\tcase RXKADBADTICKET:\treturn -EKEYREJECTED;\n\tcase RXKADUNKNOWNKEY:\treturn -EKEYREJECTED;\n\tcase RXKADEXPIRED:\treturn -EKEYEXPIRED;\n\tcase RXKADSEALEDINCON:\treturn -EKEYREJECTED;\n\tcase RXKADDATALEN:\treturn -EKEYREJECTED;\n\tcase RXKADILLEGALLEVEL:\treturn -EKEYREJECTED;\n\n\tcase RXGEN_OPCODE:\treturn -ENOTSUPP;\n\n\tdefault:\t\treturn -EREMOTEIO;\n\t}\n}\n\n \nvoid afs_prioritise_error(struct afs_error *e, int error, u32 abort_code)\n{\n\tswitch (error) {\n\tcase 0:\n\t\treturn;\n\tdefault:\n\t\tif (e->error == -ETIMEDOUT ||\n\t\t    e->error == -ETIME)\n\t\t\treturn;\n\t\tfallthrough;\n\tcase -ETIMEDOUT:\n\tcase -ETIME:\n\t\tif (e->error == -ENOMEM ||\n\t\t    e->error == -ENONET)\n\t\t\treturn;\n\t\tfallthrough;\n\tcase -ENOMEM:\n\tcase -ENONET:\n\t\tif (e->error == -ERFKILL)\n\t\t\treturn;\n\t\tfallthrough;\n\tcase -ERFKILL:\n\t\tif (e->error == -EADDRNOTAVAIL)\n\t\t\treturn;\n\t\tfallthrough;\n\tcase -EADDRNOTAVAIL:\n\t\tif (e->error == -ENETUNREACH)\n\t\t\treturn;\n\t\tfallthrough;\n\tcase -ENETUNREACH:\n\t\tif (e->error == -EHOSTUNREACH)\n\t\t\treturn;\n\t\tfallthrough;\n\tcase -EHOSTUNREACH:\n\t\tif (e->error == -EHOSTDOWN)\n\t\t\treturn;\n\t\tfallthrough;\n\tcase -EHOSTDOWN:\n\t\tif (e->error == -ECONNREFUSED)\n\t\t\treturn;\n\t\tfallthrough;\n\tcase -ECONNREFUSED:\n\t\tif (e->error == -ECONNRESET)\n\t\t\treturn;\n\t\tfallthrough;\n\tcase -ECONNRESET:  \n\t\tif (e->responded)\n\t\t\treturn;\n\t\te->error = error;\n\t\treturn;\n\n\tcase -ECONNABORTED:\n\t\terror = afs_abort_to_error(abort_code);\n\t\tfallthrough;\n\tcase -ENETRESET:  \n\t\te->responded = true;\n\t\te->error = error;\n\t\treturn;\n\t}\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}