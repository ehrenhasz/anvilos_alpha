{
  "module_name": "netns.h",
  "hash_id": "301e5c263cc7eedf8f2ca5185675d675f749e3baf5e9572293a040b18d56725b",
  "original_prompt": "Ingested from linux-6.6.14/fs/nfsd/netns.h",
  "human_readable_source": " \n \n\n#ifndef __NFSD_NETNS_H__\n#define __NFSD_NETNS_H__\n\n#include <net/net_namespace.h>\n#include <net/netns/generic.h>\n#include <linux/filelock.h>\n#include <linux/percpu_counter.h>\n#include <linux/siphash.h>\n\n \n#define CLIENT_HASH_BITS                 4\n#define CLIENT_HASH_SIZE                (1 << CLIENT_HASH_BITS)\n#define CLIENT_HASH_MASK                (CLIENT_HASH_SIZE - 1)\n\n#define SESSION_HASH_SIZE\t512\n\nstruct cld_net;\nstruct nfsd4_client_tracking_ops;\n\nenum {\n\t \n\tNFSD_NET_PAYLOAD_MISSES,\n\t \n\tNFSD_NET_DRC_MEM_USAGE,\n\tNFSD_NET_COUNTERS_NUM\n};\n\n \nstruct nfsd_net {\n\tstruct cld_net *cld_net;\n\n\tstruct cache_detail *svc_expkey_cache;\n\tstruct cache_detail *svc_export_cache;\n\n\tstruct cache_detail *idtoname_cache;\n\tstruct cache_detail *nametoid_cache;\n\n\tstruct lock_manager nfsd4_manager;\n\tbool grace_ended;\n\ttime64_t boot_time;\n\n\tstruct dentry *nfsd_client_dir;\n\n\t \n\tstruct list_head *reclaim_str_hashtbl;\n\tint reclaim_str_hashtbl_size;\n\tstruct list_head *conf_id_hashtbl;\n\tstruct rb_root conf_name_tree;\n\tstruct list_head *unconf_id_hashtbl;\n\tstruct rb_root unconf_name_tree;\n\tstruct list_head *sessionid_hashtbl;\n\t \n\tstruct list_head client_lru;\n\tstruct list_head close_lru;\n\tstruct list_head del_recall_lru;\n\n\t \n\tstruct list_head blocked_locks_lru;\n\n\tstruct delayed_work laundromat_work;\n\n\t \n\tspinlock_t client_lock;\n\n\t \n\tspinlock_t blocked_locks_lock;\n\n\tstruct file *rec_file;\n\tbool in_grace;\n\tconst struct nfsd4_client_tracking_ops *client_tracking_ops;\n\n\ttime64_t nfsd4_lease;\n\ttime64_t nfsd4_grace;\n\tbool somebody_reclaimed;\n\n\tbool track_reclaim_completes;\n\tatomic_t nr_reclaim_complete;\n\n\tbool nfsd_net_up;\n\tbool lockd_up;\n\n\tseqlock_t writeverf_lock;\n\tunsigned char writeverf[8];\n\n\t \n\tunsigned int max_connections;\n\n\tu32 clientid_base;\n\tu32 clientid_counter;\n\tu32 clverifier_counter;\n\n\tstruct svc_serv *nfsd_serv;\n\t \n\tint keep_active;\n\n\t \n\tu32\t\ts2s_cp_cl_id;\n\tstruct idr\ts2s_cp_stateids;\n\tspinlock_t\ts2s_cp_lock;\n\n\t \n\tbool *nfsd_versions;\n\tbool *nfsd4_minorversions;\n\n\t \n\tstruct nfsd_drc_bucket   *drc_hashtbl;\n\n\t \n\tunsigned int             max_drc_entries;\n\n\t \n\tunsigned int             maskbits;\n\tunsigned int             drc_hashsize;\n\n\t \n\n\t \n\tatomic_t                 num_drc_entries;\n\n\t \n\tstruct percpu_counter    counter[NFSD_NET_COUNTERS_NUM];\n\n\t \n\tunsigned int             longest_chain;\n\n\t \n\tunsigned int             longest_chain_cachesize;\n\n\tstruct shrinker\t\tnfsd_reply_cache_shrinker;\n\n\t \n\tspinlock_t              nfsd_ssc_lock;\n\tstruct list_head        nfsd_ssc_mount_list;\n\twait_queue_head_t       nfsd_ssc_waitq;\n\n\t \n\tchar\t\t\tnfsd_name[UNX_MAXNODENAME+1];\n\n\tstruct nfsd_fcache_disposal *fcache_disposal;\n\n\tsiphash_key_t\t\tsiphash_key;\n\n\tatomic_t\t\tnfs4_client_count;\n\tint\t\t\tnfs4_max_clients;\n\n\tatomic_t\t\tnfsd_courtesy_clients;\n\tstruct shrinker\t\tnfsd_client_shrinker;\n\tstruct work_struct\tnfsd_shrinker_work;\n};\n\n \n#define nfsd_netns_ready(nn) ((nn)->sessionid_hashtbl)\n\nextern void nfsd_netns_free_versions(struct nfsd_net *nn);\n\nextern unsigned int nfsd_net_id;\n\nvoid nfsd_copy_write_verifier(__be32 verf[2], struct nfsd_net *nn);\nvoid nfsd_reset_write_verifier(struct nfsd_net *nn);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}