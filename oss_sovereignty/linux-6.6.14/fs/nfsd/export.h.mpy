{
  "module_name": "export.h",
  "hash_id": "557af8b1fe1185fb565c5032ebe42c27318069f456fc92f37b7f119accde738e",
  "original_prompt": "Ingested from linux-6.6.14/fs/nfsd/export.h",
  "human_readable_source": " \n \n#ifndef NFSD_EXPORT_H\n#define NFSD_EXPORT_H\n\n#include <linux/sunrpc/cache.h>\n#include <linux/percpu_counter.h>\n#include <uapi/linux/nfsd/export.h>\n#include <linux/nfs4.h>\n\nstruct knfsd_fh;\nstruct svc_fh;\nstruct svc_rqst;\n\n \n\n#define MAX_FS_LOCATIONS\t128\n\nstruct nfsd4_fs_location {\n\tchar *hosts;  \n\tchar *path;   \n};\n\nstruct nfsd4_fs_locations {\n\tuint32_t locations_count;\n\tstruct nfsd4_fs_location *locations;\n \n\tint migrated;\n};\n\n \n#define MAX_SECINFO_LIST\t8\n#define EX_UUID_LEN\t\t16\n\nstruct exp_flavor_info {\n\tu32\tpseudoflavor;\n\tu32\tflags;\n};\n\n \nenum {\n\tEXP_STATS_FH_STALE,\n\tEXP_STATS_IO_READ,\n\tEXP_STATS_IO_WRITE,\n\tEXP_STATS_COUNTERS_NUM\n};\n\nstruct export_stats {\n\ttime64_t\t\tstart_time;\n\tstruct percpu_counter\tcounter[EXP_STATS_COUNTERS_NUM];\n};\n\nstruct svc_export {\n\tstruct cache_head\th;\n\tstruct auth_domain *\tex_client;\n\tint\t\t\tex_flags;\n\tstruct path\t\tex_path;\n\tkuid_t\t\t\tex_anon_uid;\n\tkgid_t\t\t\tex_anon_gid;\n\tint\t\t\tex_fsid;\n\tunsigned char *\t\tex_uuid;  \n\tstruct nfsd4_fs_locations ex_fslocs;\n\tuint32_t\t\tex_nflavors;\n\tstruct exp_flavor_info\tex_flavors[MAX_SECINFO_LIST];\n\tu32\t\t\tex_layout_types;\n\tstruct nfsd4_deviceid_map *ex_devid_map;\n\tstruct cache_detail\t*cd;\n\tstruct rcu_head\t\tex_rcu;\n\tstruct export_stats\tex_stats;\n\tunsigned long\t\tex_xprtsec_modes;\n};\n\n \nstruct svc_expkey {\n\tstruct cache_head\th;\n\n\tstruct auth_domain *\tek_client;\n\tint\t\t\tek_fsidtype;\n\tu32\t\t\tek_fsid[6];\n\n\tstruct path\t\tek_path;\n\tstruct rcu_head\t\tek_rcu;\n};\n\n#define EX_ISSYNC(exp)\t\t(!((exp)->ex_flags & NFSEXP_ASYNC))\n#define EX_NOHIDE(exp)\t\t((exp)->ex_flags & NFSEXP_NOHIDE)\n#define EX_WGATHER(exp)\t\t((exp)->ex_flags & NFSEXP_GATHERED_WRITES)\n\nint nfsexp_flags(struct svc_rqst *rqstp, struct svc_export *exp);\n__be32 check_nfsd_access(struct svc_export *exp, struct svc_rqst *rqstp);\n\n \nint\t\t\tnfsd_export_init(struct net *);\nvoid\t\t\tnfsd_export_shutdown(struct net *);\nvoid\t\t\tnfsd_export_flush(struct net *);\nstruct svc_export *\trqst_exp_get_by_name(struct svc_rqst *,\n\t\t\t\t\t     struct path *);\nstruct svc_export *\trqst_exp_parent(struct svc_rqst *,\n\t\t\t\t\tstruct path *);\nstruct svc_export *\trqst_find_fsidzero_export(struct svc_rqst *);\nint\t\t\texp_rootfh(struct net *, struct auth_domain *,\n\t\t\t\t\tchar *path, struct knfsd_fh *, int maxsize);\n__be32\t\t\texp_pseudoroot(struct svc_rqst *, struct svc_fh *);\n\nstatic inline void exp_put(struct svc_export *exp)\n{\n\tcache_put(&exp->h, exp->cd);\n}\n\nstatic inline struct svc_export *exp_get(struct svc_export *exp)\n{\n\tcache_get(&exp->h);\n\treturn exp;\n}\nstruct svc_export * rqst_exp_find(struct svc_rqst *, int, u32 *);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}