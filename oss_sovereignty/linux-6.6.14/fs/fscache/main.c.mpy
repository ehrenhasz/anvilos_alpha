{
  "module_name": "main.c",
  "hash_id": "747fca2fd18cc8b2ace068be9748a589de8fa51de03371e1ec33a6a02cc36c8e",
  "original_prompt": "Ingested from linux-6.6.14/fs/fscache/main.c",
  "human_readable_source": "\n \n\n#define FSCACHE_DEBUG_LEVEL CACHE\n#include <linux/module.h>\n#include <linux/init.h>\n#define CREATE_TRACE_POINTS\n#include \"internal.h\"\n\nMODULE_DESCRIPTION(\"FS Cache Manager\");\nMODULE_AUTHOR(\"Red Hat, Inc.\");\nMODULE_LICENSE(\"GPL\");\n\nunsigned fscache_debug;\nmodule_param_named(debug, fscache_debug, uint,\n\t\t   S_IWUSR | S_IRUGO);\nMODULE_PARM_DESC(fscache_debug,\n\t\t \"FS-Cache debugging mask\");\n\nEXPORT_TRACEPOINT_SYMBOL(fscache_access_cache);\nEXPORT_TRACEPOINT_SYMBOL(fscache_access_volume);\nEXPORT_TRACEPOINT_SYMBOL(fscache_access);\n\nstruct workqueue_struct *fscache_wq;\nEXPORT_SYMBOL(fscache_wq);\n\n \n#define HASH_MIX(x, y, a)\t\\\n\t(\tx ^= (a),\t\\\n\ty ^= x,\tx = rol32(x, 7),\\\n\tx += y,\ty = rol32(y,20),\\\n\ty *= 9\t\t\t)\n\nstatic inline unsigned int fold_hash(unsigned long x, unsigned long y)\n{\n\t \n\treturn __hash_32(y ^ __hash_32(x));\n}\n\n \nunsigned int fscache_hash(unsigned int salt, const void *data, size_t len)\n{\n\tconst __le32 *p = data;\n\tunsigned int a, x = 0, y = salt, n = len / sizeof(__le32);\n\n\tfor (; n; n--) {\n\t\ta = le32_to_cpu(*p++);\n\t\tHASH_MIX(x, y, a);\n\t}\n\treturn fold_hash(x, y);\n}\n\n \nstatic int __init fscache_init(void)\n{\n\tint ret = -ENOMEM;\n\n\tfscache_wq = alloc_workqueue(\"fscache\", WQ_UNBOUND | WQ_FREEZABLE, 0);\n\tif (!fscache_wq)\n\t\tgoto error_wq;\n\n\tret = fscache_proc_init();\n\tif (ret < 0)\n\t\tgoto error_proc;\n\n\tfscache_cookie_jar = kmem_cache_create(\"fscache_cookie_jar\",\n\t\t\t\t\t       sizeof(struct fscache_cookie),\n\t\t\t\t\t       0, 0, NULL);\n\tif (!fscache_cookie_jar) {\n\t\tpr_notice(\"Failed to allocate a cookie jar\\n\");\n\t\tret = -ENOMEM;\n\t\tgoto error_cookie_jar;\n\t}\n\n\tpr_notice(\"Loaded\\n\");\n\treturn 0;\n\nerror_cookie_jar:\n\tfscache_proc_cleanup();\nerror_proc:\n\tdestroy_workqueue(fscache_wq);\nerror_wq:\n\treturn ret;\n}\n\nfs_initcall(fscache_init);\n\n \nstatic void __exit fscache_exit(void)\n{\n\t_enter(\"\");\n\n\tkmem_cache_destroy(fscache_cookie_jar);\n\tfscache_proc_cleanup();\n\tdestroy_workqueue(fscache_wq);\n\tpr_notice(\"Unloaded\\n\");\n}\n\nmodule_exit(fscache_exit);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}