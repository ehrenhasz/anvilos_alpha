{
  "module_name": "jfs_unicode.h",
  "hash_id": "04938855d025c8b17e2af6703ea037f693d2581b3cdd8e3b4430a5fd69c5c6d2",
  "original_prompt": "Ingested from linux-6.6.14/fs/jfs/jfs_unicode.h",
  "human_readable_source": " \n \n#ifndef _H_JFS_UNICODE\n#define _H_JFS_UNICODE\n\n#include <linux/slab.h>\n#include <asm/byteorder.h>\n#include \"../nls/nls_ucs2_data.h\"\n#include \"jfs_types.h\"\n\nextern int get_UCSname(struct component_name *, struct dentry *);\nextern int jfs_strfromUCS_le(char *, const __le16 *, int, struct nls_table *);\n\n#define free_UCSname(COMP) kfree((COMP)->name)\n\n \nstatic inline wchar_t *UniStrcpy(wchar_t * ucs1, const wchar_t * ucs2)\n{\n\twchar_t *anchor = ucs1;\t \n\n\twhile ((*ucs1++ = *ucs2++));\n\treturn anchor;\n}\n\n\n\n \nstatic inline __le16 *UniStrncpy_le(__le16 * ucs1, const __le16 * ucs2,\n\t\t\t\t  size_t n)\n{\n\t__le16 *anchor = ucs1;\n\n\twhile (n-- && *ucs2)\t \n\t\t*ucs1++ = *ucs2++;\n\n\tn++;\n\twhile (n--)\t\t \n\t\t*ucs1++ = 0;\n\treturn anchor;\n}\n\n \nstatic inline int UniStrncmp_le(const wchar_t * ucs1, const __le16 * ucs2,\n\t\t\t\tsize_t n)\n{\n\tif (!n)\n\t\treturn 0;\t \n\twhile ((*ucs1 == __le16_to_cpu(*ucs2)) && *ucs1 && --n) {\n\t\tucs1++;\n\t\tucs2++;\n\t}\n\treturn (int) *ucs1 - (int) __le16_to_cpu(*ucs2);\n}\n\n \nstatic inline __le16 *UniStrncpy_to_le(__le16 * ucs1, const wchar_t * ucs2,\n\t\t\t\t       size_t n)\n{\n\t__le16 *anchor = ucs1;\n\n\twhile (n-- && *ucs2)\t \n\t\t*ucs1++ = cpu_to_le16(*ucs2++);\n\n\tn++;\n\twhile (n--)\t\t \n\t\t*ucs1++ = 0;\n\treturn anchor;\n}\n\n \nstatic inline wchar_t *UniStrncpy_from_le(wchar_t * ucs1, const __le16 * ucs2,\n\t\t\t\t\t  size_t n)\n{\n\twchar_t *anchor = ucs1;\n\n\twhile (n-- && *ucs2)\t \n\t\t*ucs1++ = __le16_to_cpu(*ucs2++);\n\n\tn++;\n\twhile (n--)\t\t \n\t\t*ucs1++ = 0;\n\treturn anchor;\n}\n\n \nstatic inline wchar_t UniToupper(wchar_t uc)\n{\n\tconst struct UniCaseRange *rp;\n\n\tif (uc < sizeof(NlsUniUpperTable)) {\t \n\t\treturn uc + NlsUniUpperTable[uc];\t \n\t} else {\n\t\trp = NlsUniUpperRange;\t \n\t\twhile (rp->start) {\n\t\t\tif (uc < rp->start)\t \n\t\t\t\treturn uc;\t \n\t\t\tif (uc <= rp->end)\t \n\t\t\t\treturn uc + rp->table[uc - rp->start];\n\t\t\trp++;\t \n\t\t}\n\t}\n\treturn uc;\t\t \n}\n\n\n \nstatic inline wchar_t *UniStrupr(wchar_t * upin)\n{\n\twchar_t *up;\n\n\tup = upin;\n\twhile (*up) {\t\t \n\t\t*up = UniToupper(*up);\n\t\tup++;\n\t}\n\treturn upin;\t\t \n}\n\n#endif\t\t\t\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}