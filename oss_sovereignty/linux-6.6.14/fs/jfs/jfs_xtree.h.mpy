{
  "module_name": "jfs_xtree.h",
  "hash_id": "d9e7071542fc5b5b4ff64df0b3b6a369664f225a88c38d574388baeadfd64827",
  "original_prompt": "Ingested from linux-6.6.14/fs/jfs/jfs_xtree.h",
  "human_readable_source": " \n \n#ifndef _H_JFS_XTREE\n#define _H_JFS_XTREE\n\n \n\n#include \"jfs_btree.h\"\n\n\n \ntypedef struct xad {\n\t__u8 flag;\t \n\t__u8 rsvrd[2];\t \n\t__u8 off1;\t \n\t__le32 off2;\t \n\tpxd_t loc;\t \n} xad_t;\t\t\t \n\n#define MAXXLEN\t\t((1 << 24) - 1)\n\n#define XTSLOTSIZE\t16\n#define L2XTSLOTSIZE\t4\n\n \n#define XADoffset(xad, offset64)\\\n{\\\n\t(xad)->off1 = ((u64)offset64) >> 32;\\\n\t(xad)->off2 = __cpu_to_le32((offset64) & 0xffffffff);\\\n}\n#define XADaddress(xad, address64) PXDaddress(&(xad)->loc, address64)\n#define XADlength(xad, length32) PXDlength(&(xad)->loc, length32)\n\n \n#define offsetXAD(xad)\\\n\t( ((s64)((xad)->off1)) << 32 | __le32_to_cpu((xad)->off2))\n#define addressXAD(xad) addressPXD(&(xad)->loc)\n#define lengthXAD(xad) lengthPXD(&(xad)->loc)\n\n \nstruct xadlist {\n\ts16 maxnxad;\n\ts16 nxad;\n\txad_t *xad;\n};\n\n \n#define XAD_NEW\t\t0x01\t \n#define XAD_EXTENDED\t0x02\t \n#define XAD_COMPRESSED\t0x04\t \n#define XAD_NOTRECORDED 0x08\t \n#define XAD_COW\t\t0x10\t \n\n\n \n#define XTROOTINITSLOT_DIR 6\n#define XTROOTINITSLOT\t10\n#define XTROOTMAXSLOT\t18\n#define XTPAGEMAXSLOT\t256\n#define XTENTRYSTART\t2\n\n \ntypedef union {\n\tstruct xtheader {\n\t\t__le64 next;\t \n\t\t__le64 prev;\t \n\n\t\tu8 flag;\t \n\t\tu8 rsrvd1;\t \n\t\t__le16 nextindex;\t \n\t\t__le16 maxentry;\t \n\t\t__le16 rsrvd2;\t \n\n\t\tpxd_t self;\t \n\t} header;\t\t \n\n\txad_t xad[XTROOTMAXSLOT];\t \n} xtpage_t;\n\n \nextern int xtLookup(struct inode *ip, s64 lstart, s64 llen,\n\t\t    int *pflag, s64 * paddr, int *plen, int flag);\nextern void xtInitRoot(tid_t tid, struct inode *ip);\nextern int xtInsert(tid_t tid, struct inode *ip,\n\t\t    int xflag, s64 xoff, int xlen, s64 * xaddrp, int flag);\nextern int xtExtend(tid_t tid, struct inode *ip, s64 xoff, int xlen,\n\t\t    int flag);\nextern int xtUpdate(tid_t tid, struct inode *ip, struct xad *nxad);\nextern s64 xtTruncate(tid_t tid, struct inode *ip, s64 newsize, int type);\nextern s64 xtTruncate_pmap(tid_t tid, struct inode *ip, s64 committed_size);\nextern int xtAppend(tid_t tid,\n\t\t    struct inode *ip, int xflag, s64 xoff, int maxblocks,\n\t\t    int *xlenp, s64 * xaddrp, int flag);\n#endif\t\t\t\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}