{
  "module_name": "omfs.h",
  "hash_id": "41df2e2c1539ba9420179c83351e0058ce8c2adc79f3075b06c878e894f53618",
  "original_prompt": "Ingested from linux-6.6.14/fs/omfs/omfs.h",
  "human_readable_source": " \n#ifndef _OMFS_H\n#define _OMFS_H\n\n#include <linux/module.h>\n#include <linux/fs.h>\n\n#include \"omfs_fs.h\"\n\n \nstruct omfs_sb_info {\n\tu64 s_num_blocks;\n\tu64 s_bitmap_ino;\n\tu64 s_root_ino;\n\tu32 s_blocksize;\n\tu32 s_mirrors;\n\tu32 s_sys_blocksize;\n\tu32 s_clustersize;\n\tint s_block_shift;\n\tunsigned long **s_imap;\n\tint s_imap_size;\n\tstruct mutex s_bitmap_lock;\n\tkuid_t s_uid;\n\tkgid_t s_gid;\n\tint s_dmask;\n\tint s_fmask;\n};\n\n \nstatic inline sector_t clus_to_blk(struct omfs_sb_info *sbi, sector_t block)\n{\n\treturn block << sbi->s_block_shift;\n}\n\nstatic inline struct omfs_sb_info *OMFS_SB(struct super_block *sb)\n{\n\treturn sb->s_fs_info;\n}\n\n \nextern unsigned long omfs_count_free(struct super_block *sb);\nextern int omfs_allocate_block(struct super_block *sb, u64 block);\nextern int omfs_allocate_range(struct super_block *sb, int min_request,\n\t\t\tint max_request, u64 *return_block, int *return_size);\nextern int omfs_clear_range(struct super_block *sb, u64 block, int count);\n\n \nextern const struct file_operations omfs_dir_operations;\nextern const struct inode_operations omfs_dir_inops;\nextern int omfs_make_empty(struct inode *inode, struct super_block *sb);\nextern int omfs_is_bad(struct omfs_sb_info *sbi, struct omfs_header *header,\n\t\t\tu64 fsblock);\n\n \nextern const struct file_operations omfs_file_operations;\nextern const struct inode_operations omfs_file_inops;\nextern const struct address_space_operations omfs_aops;\nextern void omfs_make_empty_table(struct buffer_head *bh, int offset);\nextern int omfs_shrink_inode(struct inode *inode);\n\n \nextern struct buffer_head *omfs_bread(struct super_block *sb, sector_t block);\nextern struct inode *omfs_iget(struct super_block *sb, ino_t inode);\nextern struct inode *omfs_new_inode(struct inode *dir, umode_t mode);\nextern int omfs_reserve_block(struct super_block *sb, sector_t block);\nextern int omfs_find_empty_block(struct super_block *sb, int mode, ino_t *ino);\nextern int omfs_sync_inode(struct inode *inode);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}