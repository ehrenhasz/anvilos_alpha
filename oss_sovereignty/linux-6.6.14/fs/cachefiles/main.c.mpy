{
  "module_name": "main.c",
  "hash_id": "5c9bc064f1e94358a9cf583b8c9f1b14c170b9aae104bcacbcc26208e63897c7",
  "original_prompt": "Ingested from linux-6.6.14/fs/cachefiles/main.c",
  "human_readable_source": "\n \n\n#include <linux/module.h>\n#include <linux/init.h>\n#include <linux/sched.h>\n#include <linux/completion.h>\n#include <linux/slab.h>\n#include <linux/fs.h>\n#include <linux/file.h>\n#include <linux/namei.h>\n#include <linux/mount.h>\n#include <linux/statfs.h>\n#include <linux/sysctl.h>\n#include <linux/miscdevice.h>\n#include <linux/netfs.h>\n#include <trace/events/netfs.h>\n#define CREATE_TRACE_POINTS\n#include \"internal.h\"\n\nunsigned cachefiles_debug;\nmodule_param_named(debug, cachefiles_debug, uint, S_IWUSR | S_IRUGO);\nMODULE_PARM_DESC(cachefiles_debug, \"CacheFiles debugging mask\");\n\nMODULE_DESCRIPTION(\"Mounted-filesystem based cache\");\nMODULE_AUTHOR(\"Red Hat, Inc.\");\nMODULE_LICENSE(\"GPL\");\n\nstruct kmem_cache *cachefiles_object_jar;\n\nstatic struct miscdevice cachefiles_dev = {\n\t.minor\t= MISC_DYNAMIC_MINOR,\n\t.name\t= \"cachefiles\",\n\t.fops\t= &cachefiles_daemon_fops,\n};\n\n \nstatic int __init cachefiles_init(void)\n{\n\tint ret;\n\n\tret = cachefiles_register_error_injection();\n\tif (ret < 0)\n\t\tgoto error_einj;\n\tret = misc_register(&cachefiles_dev);\n\tif (ret < 0)\n\t\tgoto error_dev;\n\n\t \n\tret = -ENOMEM;\n\tcachefiles_object_jar =\n\t\tkmem_cache_create(\"cachefiles_object_jar\",\n\t\t\t\t  sizeof(struct cachefiles_object),\n\t\t\t\t  0, SLAB_HWCACHE_ALIGN, NULL);\n\tif (!cachefiles_object_jar) {\n\t\tpr_notice(\"Failed to allocate an object jar\\n\");\n\t\tgoto error_object_jar;\n\t}\n\n\tpr_info(\"Loaded\\n\");\n\treturn 0;\n\nerror_object_jar:\n\tmisc_deregister(&cachefiles_dev);\nerror_dev:\n\tcachefiles_unregister_error_injection();\nerror_einj:\n\tpr_err(\"failed to register: %d\\n\", ret);\n\treturn ret;\n}\n\nfs_initcall(cachefiles_init);\n\n \nstatic void __exit cachefiles_exit(void)\n{\n\tpr_info(\"Unloading\\n\");\n\n\tkmem_cache_destroy(cachefiles_object_jar);\n\tmisc_deregister(&cachefiles_dev);\n\tcachefiles_unregister_error_injection();\n}\n\nmodule_exit(cachefiles_exit);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}