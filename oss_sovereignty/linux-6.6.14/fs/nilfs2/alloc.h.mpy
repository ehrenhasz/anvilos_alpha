{
  "module_name": "alloc.h",
  "hash_id": "a3407bd3c9378628c18dd9084180e6173896992bbc1e8c3ec353d5c3843f37b9",
  "original_prompt": "Ingested from linux-6.6.14/fs/nilfs2/alloc.h",
  "human_readable_source": " \n \n\n#ifndef _NILFS_ALLOC_H\n#define _NILFS_ALLOC_H\n\n#include <linux/types.h>\n#include <linux/buffer_head.h>\n#include <linux/fs.h>\n\n \nstatic inline unsigned long\nnilfs_palloc_entries_per_group(const struct inode *inode)\n{\n\treturn 1UL << (inode->i_blkbits + 3  );\n}\n\nint nilfs_palloc_init_blockgroup(struct inode *, unsigned int);\nint nilfs_palloc_get_entry_block(struct inode *, __u64, int,\n\t\t\t\t struct buffer_head **);\nvoid *nilfs_palloc_block_get_entry(const struct inode *, __u64,\n\t\t\t\t   const struct buffer_head *, void *);\n\nint nilfs_palloc_count_max_entries(struct inode *, u64, u64 *);\n\n \nstruct nilfs_palloc_req {\n\t__u64 pr_entry_nr;\n\tstruct buffer_head *pr_desc_bh;\n\tstruct buffer_head *pr_bitmap_bh;\n\tstruct buffer_head *pr_entry_bh;\n};\n\nint nilfs_palloc_prepare_alloc_entry(struct inode *,\n\t\t\t\t     struct nilfs_palloc_req *);\nvoid nilfs_palloc_commit_alloc_entry(struct inode *,\n\t\t\t\t     struct nilfs_palloc_req *);\nvoid nilfs_palloc_abort_alloc_entry(struct inode *, struct nilfs_palloc_req *);\nvoid nilfs_palloc_commit_free_entry(struct inode *, struct nilfs_palloc_req *);\nint nilfs_palloc_prepare_free_entry(struct inode *, struct nilfs_palloc_req *);\nvoid nilfs_palloc_abort_free_entry(struct inode *, struct nilfs_palloc_req *);\nint nilfs_palloc_freev(struct inode *, __u64 *, size_t);\n\n#define nilfs_set_bit_atomic\t\text2_set_bit_atomic\n#define nilfs_clear_bit_atomic\t\text2_clear_bit_atomic\n#define nilfs_find_next_zero_bit\tfind_next_zero_bit_le\n#define nilfs_find_next_bit\t\tfind_next_bit_le\n\n \nstruct nilfs_bh_assoc {\n\tunsigned long blkoff;\n\tstruct buffer_head *bh;\n};\n\n \nstruct nilfs_palloc_cache {\n\tspinlock_t lock;\n\tstruct nilfs_bh_assoc prev_desc;\n\tstruct nilfs_bh_assoc prev_bitmap;\n\tstruct nilfs_bh_assoc prev_entry;\n};\n\nvoid nilfs_palloc_setup_cache(struct inode *inode,\n\t\t\t      struct nilfs_palloc_cache *cache);\nvoid nilfs_palloc_clear_cache(struct inode *inode);\nvoid nilfs_palloc_destroy_cache(struct inode *inode);\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}