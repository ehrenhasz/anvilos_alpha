{
  "module_name": "sufile.h",
  "hash_id": "784e14ecda920b25f3568dfeaf793872caa162b75e7e4815302b5afe194e607d",
  "original_prompt": "Ingested from linux-6.6.14/fs/nilfs2/sufile.h",
  "human_readable_source": " \n \n\n#ifndef _NILFS_SUFILE_H\n#define _NILFS_SUFILE_H\n\n#include <linux/fs.h>\n#include <linux/buffer_head.h>\n#include \"mdt.h\"\n\n\nstatic inline unsigned long nilfs_sufile_get_nsegments(struct inode *sufile)\n{\n\treturn ((struct the_nilfs *)sufile->i_sb->s_fs_info)->ns_nsegments;\n}\n\nunsigned long nilfs_sufile_get_ncleansegs(struct inode *sufile);\n\nint nilfs_sufile_set_alloc_range(struct inode *sufile, __u64 start, __u64 end);\nint nilfs_sufile_alloc(struct inode *, __u64 *);\nint nilfs_sufile_mark_dirty(struct inode *sufile, __u64 segnum);\nint nilfs_sufile_set_segment_usage(struct inode *sufile, __u64 segnum,\n\t\t\t\t   unsigned long nblocks, time64_t modtime);\nint nilfs_sufile_get_stat(struct inode *, struct nilfs_sustat *);\nssize_t nilfs_sufile_get_suinfo(struct inode *, __u64, void *, unsigned int,\n\t\t\t\tsize_t);\nssize_t nilfs_sufile_set_suinfo(struct inode *, void *, unsigned int, size_t);\n\nint nilfs_sufile_updatev(struct inode *, __u64 *, size_t, int, size_t *,\n\t\t\t void (*dofunc)(struct inode *, __u64,\n\t\t\t\t\tstruct buffer_head *,\n\t\t\t\t\tstruct buffer_head *));\nint nilfs_sufile_update(struct inode *, __u64, int,\n\t\t\tvoid (*dofunc)(struct inode *, __u64,\n\t\t\t\t       struct buffer_head *,\n\t\t\t\t       struct buffer_head *));\nvoid nilfs_sufile_do_scrap(struct inode *, __u64, struct buffer_head *,\n\t\t\t   struct buffer_head *);\nvoid nilfs_sufile_do_free(struct inode *, __u64, struct buffer_head *,\n\t\t\t  struct buffer_head *);\nvoid nilfs_sufile_do_cancel_free(struct inode *, __u64, struct buffer_head *,\n\t\t\t\t struct buffer_head *);\nvoid nilfs_sufile_do_set_error(struct inode *, __u64, struct buffer_head *,\n\t\t\t       struct buffer_head *);\n\nint nilfs_sufile_resize(struct inode *sufile, __u64 newnsegs);\nint nilfs_sufile_read(struct super_block *sb, size_t susize,\n\t\t      struct nilfs_inode *raw_inode, struct inode **inodep);\nint nilfs_sufile_trim_fs(struct inode *sufile, struct fstrim_range *range);\n\n \nstatic inline int nilfs_sufile_scrap(struct inode *sufile, __u64 segnum)\n{\n\treturn nilfs_sufile_update(sufile, segnum, 1, nilfs_sufile_do_scrap);\n}\n\n \nstatic inline int nilfs_sufile_free(struct inode *sufile, __u64 segnum)\n{\n\treturn nilfs_sufile_update(sufile, segnum, 0, nilfs_sufile_do_free);\n}\n\n \nstatic inline int nilfs_sufile_freev(struct inode *sufile, __u64 *segnumv,\n\t\t\t\t     size_t nsegs, size_t *ndone)\n{\n\treturn nilfs_sufile_updatev(sufile, segnumv, nsegs, 0, ndone,\n\t\t\t\t    nilfs_sufile_do_free);\n}\n\n \nstatic inline int nilfs_sufile_cancel_freev(struct inode *sufile,\n\t\t\t\t\t    __u64 *segnumv, size_t nsegs,\n\t\t\t\t\t    size_t *ndone)\n{\n\treturn nilfs_sufile_updatev(sufile, segnumv, nsegs, 0, ndone,\n\t\t\t\t    nilfs_sufile_do_cancel_free);\n}\n\n \nstatic inline int nilfs_sufile_set_error(struct inode *sufile, __u64 segnum)\n{\n\treturn nilfs_sufile_update(sufile, segnum, 0,\n\t\t\t\t   nilfs_sufile_do_set_error);\n}\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}