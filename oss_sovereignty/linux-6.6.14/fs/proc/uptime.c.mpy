{
  "module_name": "uptime.c",
  "hash_id": "ebabc3bf7c647386724c536f6f13a5f92d28e09f11dac7393174bd0b2d015a38",
  "original_prompt": "Ingested from linux-6.6.14/fs/proc/uptime.c",
  "human_readable_source": "\n#include <linux/fs.h>\n#include <linux/init.h>\n#include <linux/proc_fs.h>\n#include <linux/sched.h>\n#include <linux/seq_file.h>\n#include <linux/time.h>\n#include <linux/time_namespace.h>\n#include <linux/kernel_stat.h>\n#include \"internal.h\"\n\nstatic int uptime_proc_show(struct seq_file *m, void *v)\n{\n\tstruct timespec64 uptime;\n\tstruct timespec64 idle;\n\tu64 idle_nsec;\n\tu32 rem;\n\tint i;\n\n\tidle_nsec = 0;\n\tfor_each_possible_cpu(i) {\n\t\tstruct kernel_cpustat kcs;\n\n\t\tkcpustat_cpu_fetch(&kcs, i);\n\t\tidle_nsec += get_idle_time(&kcs, i);\n\t}\n\n\tktime_get_boottime_ts64(&uptime);\n\ttimens_add_boottime(&uptime);\n\n\tidle.tv_sec = div_u64_rem(idle_nsec, NSEC_PER_SEC, &rem);\n\tidle.tv_nsec = rem;\n\tseq_printf(m, \"%lu.%02lu %lu.%02lu\\n\",\n\t\t\t(unsigned long) uptime.tv_sec,\n\t\t\t(uptime.tv_nsec / (NSEC_PER_SEC / 100)),\n\t\t\t(unsigned long) idle.tv_sec,\n\t\t\t(idle.tv_nsec / (NSEC_PER_SEC / 100)));\n\treturn 0;\n}\n\nstatic int __init proc_uptime_init(void)\n{\n\tstruct proc_dir_entry *pde;\n\n\tpde = proc_create_single(\"uptime\", 0, NULL, uptime_proc_show);\n\tpde_make_permanent(pde);\n\treturn 0;\n}\nfs_initcall(proc_uptime_init);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}