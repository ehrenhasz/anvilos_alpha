{
  "module_name": "Kconfig",
  "hash_id": "d64ab85f55cf1a710d61e024099625953dfad368068d42f2250242849ba50858",
  "original_prompt": "Ingested from linux-6.6.14/fs/overlayfs/Kconfig",
  "human_readable_source": "# SPDX-License-Identifier: GPL-2.0-only\nconfig OVERLAY_FS\n\ttristate \"Overlay filesystem support\"\n\tselect EXPORTFS\n\thelp\n\t  An overlay filesystem combines two filesystems - an 'upper' filesystem\n\t  and a 'lower' filesystem.  When a name exists in both filesystems, the\n\t  object in the 'upper' filesystem is visible while the object in the\n\t  'lower' filesystem is either hidden or, in the case of directories,\n\t  merged with the 'upper' object.\n\n\t  For more information see Documentation/filesystems/overlayfs.rst\n\nconfig OVERLAY_FS_REDIRECT_DIR\n\tbool \"Overlayfs: turn on redirect directory feature by default\"\n\tdepends on OVERLAY_FS\n\thelp\n\t  If this config option is enabled then overlay filesystems will use\n\t  redirects when renaming directories by default.  In this case it is\n\t  still possible to turn off redirects globally with the\n\t  \"redirect_dir=off\" module option or on a filesystem instance basis\n\t  with the \"redirect_dir=off\" mount option.\n\n\t  Note, that redirects are not backward compatible.  That is, mounting\n\t  an overlay which has redirects on a kernel that doesn't support this\n\t  feature will have unexpected results.\n\n\t  If unsure, say N.\n\nconfig OVERLAY_FS_REDIRECT_ALWAYS_FOLLOW\n\tbool \"Overlayfs: follow redirects even if redirects are turned off\"\n\tdefault y\n\tdepends on OVERLAY_FS\n\thelp\n\t  Disable this to get a possibly more secure configuration, but that\n\t  might not be backward compatible with previous kernels.\n\n\t  If backward compatibility is not an issue, then it is safe and\n\t  recommended to say N here.\n\n\t  For more information, see Documentation/filesystems/overlayfs.rst\n\n\t  If unsure, say Y.\n\nconfig OVERLAY_FS_INDEX\n\tbool \"Overlayfs: turn on inodes index feature by default\"\n\tdepends on OVERLAY_FS\n\thelp\n\t  If this config option is enabled then overlay filesystems will use\n\t  the index directory to map lower inodes to upper inodes by default.\n\t  In this case it is still possible to turn off index globally with the\n\t  \"index=off\" module option or on a filesystem instance basis with the\n\t  \"index=off\" mount option.\n\n\t  The inodes index feature prevents breaking of lower hardlinks on copy\n\t  up.\n\n\t  Note, that the inodes index feature is not backward compatible.\n\t  That is, mounting an overlay which has an inodes index on a kernel\n\t  that doesn't support this feature will have unexpected results.\n\n\t  If unsure, say N.\n\nconfig OVERLAY_FS_NFS_EXPORT\n\tbool \"Overlayfs: turn on NFS export feature by default\"\n\tdepends on OVERLAY_FS\n\tdepends on OVERLAY_FS_INDEX\n\tdepends on !OVERLAY_FS_METACOPY\n\thelp\n\t  If this config option is enabled then overlay filesystems will use\n\t  the index directory to decode overlay NFS file handles by default.\n\t  In this case, it is still possible to turn off NFS export support\n\t  globally with the \"nfs_export=off\" module option or on a filesystem\n\t  instance basis with the \"nfs_export=off\" mount option.\n\n\t  The NFS export feature creates an index on copy up of every file and\n\t  directory.  This full index is used to detect overlay filesystems\n\t  inconsistencies on lookup, like redirect from multiple upper dirs to\n\t  the same lower dir.  The full index may incur some overhead on mount\n\t  time, especially when verifying that directory file handles are not\n\t  stale.\n\n\t  Note, that the NFS export feature is not backward compatible.\n\t  That is, mounting an overlay which has a full index on a kernel\n\t  that doesn't support this feature will have unexpected results.\n\n\t  Most users should say N here and enable this feature on a case-by-\n\t  case basis with the \"nfs_export=on\" mount option.\n\n\t  Say N unless you fully understand the consequences.\n\nconfig OVERLAY_FS_XINO_AUTO\n\tbool \"Overlayfs: auto enable inode number mapping\"\n\tdefault n\n\tdepends on OVERLAY_FS\n\tdepends on 64BIT\n\thelp\n\t  If this config option is enabled then overlay filesystems will use\n\t  unused high bits in underlying filesystem inode numbers to map all\n\t  inodes to a unified address space.  The mapped 64bit inode numbers\n\t  might not be compatible with applications that expect 32bit inodes.\n\n\t  If compatibility with applications that expect 32bit inodes is not an\n\t  issue, then it is safe and recommended to say Y here.\n\n\t  For more information, see Documentation/filesystems/overlayfs.rst\n\n\t  If unsure, say N.\n\nconfig OVERLAY_FS_METACOPY\n\tbool \"Overlayfs: turn on metadata only copy up feature by default\"\n\tdepends on OVERLAY_FS\n\tselect OVERLAY_FS_REDIRECT_DIR\n\thelp\n\t  If this config option is enabled then overlay filesystems will\n\t  copy up only metadata where appropriate and data copy up will\n\t  happen when a file is opened for WRITE operation. It is still\n\t  possible to turn off this feature globally with the \"metacopy=off\"\n\t  module option or on a filesystem instance basis with the\n\t  \"metacopy=off\" mount option.\n\n\t  Note, that this feature is not backward compatible.  That is,\n\t  mounting an overlay which has metacopy only inodes on a kernel\n\t  that doesn't support this feature will have unexpected results.\n\n\t  If unsure, say N.\n\nconfig OVERLAY_FS_DEBUG\n\tbool \"Overlayfs: turn on extra debugging checks\"\n\tdefault n\n\tdepends on OVERLAY_FS\n\thelp\n\t  Say Y here to enable extra debugging checks in overlayfs.\n\n\t  If unsure, say N.\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}