{
  "module_name": "dot2k",
  "hash_id": "d5b83315bfed683aa3ffe24f6780fb24f16b0c44bb6100b00e9c4908da21b56d",
  "original_prompt": "Ingested from linux-6.6.14/tools/verification/dot2/dot2k",
  "human_readable_source": "#!/usr/bin/env python3\n# SPDX-License-Identifier: GPL-2.0-only\n#\n# Copyright (C) 2019-2022 Red Hat, Inc. Daniel Bristot de Oliveira <bristot@kernel.org>\n#\n# dot2k: transform dot files into a monitor for the Linux kernel.\n#\n# For further information, see:\n#   Documentation/trace/rv/da_monitor_synthesis.rst\n\nif __name__ == '__main__':\n    from dot2.dot2k import dot2k\n    import argparse\n    import ntpath\n    import os\n    import platform\n    import sys\n    import sys\n    import argparse\n\n    parser = argparse.ArgumentParser(description='transform .dot file into kernel rv monitor')\n    parser.add_argument('-d', \"--dot\", dest=\"dot_file\", required=True)\n    parser.add_argument('-t', \"--monitor_type\", dest=\"monitor_type\", required=True)\n    parser.add_argument('-n', \"--model_name\", dest=\"model_name\", required=False)\n    parser.add_argument(\"-D\", \"--description\", dest=\"description\", required=False)\n    params = parser.parse_args()\n\n    print(\"Opening and parsing the dot file %s\" % params.dot_file)\n    try:\n        monitor=dot2k(params.dot_file, params.monitor_type)\n    except Exception as e:\n        print('Error: '+ str(e))\n        print(\"Sorry : :-(\")\n        sys.exit(1)\n\n    # easier than using argparse action.\n    if params.model_name != None:\n        print(params.model_name)\n\n    print(\"Writing the monitor into the directory %s\" % monitor.name)\n    monitor.print_files()\n    print(\"Almost done, checklist\")\n    print(\"  - Edit the %s/%s.c to add the instrumentation\" % (monitor.name, monitor.name))\n    print(\"  - Edit include/trace/events/rv.h to add the tracepoint entry\")\n    print(\"  - Move it to the kernel's monitor directory\")\n    print(\"  - Edit kernel/trace/rv/Makefile\")\n    print(\"  - Edit kernel/trace/rv/Kconfig\")\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}