{
  "module_name": "perf.data-directory-format.txt",
  "hash_id": "13007e3d99f9fb828857a9e54ee063b50b05786e8b2f709e105c47aa9ba65ad0",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/Documentation/perf.data-directory-format.txt",
  "human_readable_source": "perf.data directory format\n\nDISCLAIMER This is not ABI yet and is subject to possible change\n           in following versions of perf. We will remove this\n           disclaimer once the directory format soaks in.\n\n\nThis document describes the on-disk perf.data directory format.\n\nThe layout is described by HEADER_DIR_FORMAT feature.\nCurrently it holds only version number (0):\n\n  HEADER_DIR_FORMAT = 24\n\n  struct {\n     uint64_t version;\n  }\n\nThe current only version value 0 means that:\n  - there is a single perf.data file named 'data' within the directory.\n  e.g.\n\n    $ tree -ps perf.data\n    perf.data\n    \u2514\u2500\u2500 [-rw-------       25912]  data\n\nFuture versions are expected to describe different data files\nlayout according to special needs.\n\nCurrently the only 'perf record' option to output to a directory is\nthe --kcore option which puts a copy of /proc/kcore into the directory.\ne.g.\n\n  $ sudo perf record --kcore uname\n  Linux\n  [ perf record: Woken up 1 times to write data ]\n  [ perf record: Captured and wrote 0.015 MB perf.data (9 samples) ]\n  $ sudo tree -ps perf.data\n  perf.data\n  \u251c\u2500\u2500 [-rw-------       23744]  data\n  \u2514\u2500\u2500 [drwx------        4096]  kcore_dir\n      \u251c\u2500\u2500 [-r--------     6731125]  kallsyms\n      \u251c\u2500\u2500 [-r--------    40230912]  kcore\n      \u2514\u2500\u2500 [-r--------        5419]  modules\n\n  1 directory, 4 files\n  $ sudo perf script -v\n  build id event received for vmlinux: 1eaa285996affce2d74d8e66dcea09a80c9941de\n  build id event received for [vdso]: 8bbaf5dc62a9b644b4d4e4539737e104e4a84541\n  build id event received for /lib/x86_64-linux-gnu/libc-2.28.so: 5b157f49586a3ca84d55837f97ff466767dd3445\n  Samples for 'cycles' event do not have CPU attribute set. Skipping 'cpu' field.\n  Using CPUID GenuineIntel-6-8E-A\n  Using perf.data/kcore_dir/kcore for kernel data\n  Using perf.data/kcore_dir/kallsyms for symbols\n              perf 15316 2060795.480902:          1 cycles:  ffffffffa2caa548 native_write_msr+0x8 (vmlinux)\n              perf 15316 2060795.480906:          1 cycles:  ffffffffa2caa548 native_write_msr+0x8 (vmlinux)\n              perf 15316 2060795.480908:          7 cycles:  ffffffffa2caa548 native_write_msr+0x8 (vmlinux)\n              perf 15316 2060795.480910:        119 cycles:  ffffffffa2caa54a native_write_msr+0xa (vmlinux)\n              perf 15316 2060795.480912:       2109 cycles:  ffffffffa2c9b7b0 native_apic_msr_write+0x0 (vmlinux)\n              perf 15316 2060795.480914:      37606 cycles:  ffffffffa2f121fe perf_event_addr_filters_exec+0x2e (vmlinux)\n             uname 15316 2060795.480924:     588287 cycles:  ffffffffa303a56d page_counter_try_charge+0x6d (vmlinux)\n             uname 15316 2060795.481067:    2261945 cycles:  ffffffffa301438f kmem_cache_free+0x4f (vmlinux)\n             uname 15316 2060795.481643:    2172167 cycles:      7f1a48c393c0 _IO_un_link+0x0 (/lib/x86_64-linux-gnu/libc-2.28.so)\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}