{
  "module_name": "perf-inject.txt",
  "hash_id": "e7889438189bfc81301d5f546ee16e3d79b48e3a70a55f7337080e8c872b84d3",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/Documentation/perf-inject.txt",
  "human_readable_source": "perf-inject(1)\n==============\n\nNAME\n----\nperf-inject - Filter to augment the events stream with additional information\n\nSYNOPSIS\n--------\n[verse]\n'perf inject <options>'\n\nDESCRIPTION\n-----------\nperf-inject reads a perf-record event stream and repipes it to stdout.  At any\npoint the processing code can inject other events into the event stream - in\nthis case build-ids (-b option) are read and injected as needed into the event\nstream.\n\nBuild-ids are just the first user of perf-inject - potentially anything that\nneeds userspace processing to augment the events stream with additional\ninformation could make use of this facility.\n\nOPTIONS\n-------\n-b::\n--build-ids::\n\tInject build-ids of DSOs hit by samples into the output stream.\n\tThis means it needs to process all SAMPLE records to find the DSOs.\n\n--buildid-all::\n\tInject build-ids of all DSOs into the output stream regardless of hits\n\tand skip SAMPLE processing.\n\n--known-build-ids=::\n\tOverride build-ids to inject using these comma-separated pairs of\n\tbuild-id and path. Understands file://filename to read these pairs\n\tfrom a file, which can be generated with perf buildid-list.\n\n-v::\n--verbose::\n\tBe more verbose.\n-i::\n--input=::\n\tInput file name. (default: stdin)\n-o::\n--output=::\n\tOutput file name. (default: stdout)\n-s::\n--sched-stat::\n\tMerge sched_stat and sched_switch for getting events where and how long\n\ttasks slept. sched_switch contains a callchain where a task slept and\n\tsched_stat contains a timeslice how long a task slept.\n\n-k::\n--vmlinux=<file>::\n        vmlinux pathname\n\n--ignore-vmlinux::\n\tIgnore vmlinux files.\n\n--kallsyms=<file>::\n\tkallsyms pathname\n\n--itrace::\n\tDecode Instruction Tracing data, replacing it with synthesized events.\n\tOptions are:\n\ninclude::itrace.txt[]\n\n--strip::\n\tUse with --itrace to strip out non-synthesized events.\n\n-j::\n--jit::\n\tProcess jitdump files by injecting the mmap records corresponding to jitted\n\tfunctions. This option also generates the ELF images for each jitted function\n\tfound in the jitdumps files captured in the input perf.data file. Use this option\n\tif you are monitoring environment using JIT runtimes, such as Java, DART or V8.\n\n-f::\n--force::\n\tDon't complain, do it.\n\n--vm-time-correlation[=OPTIONS]::\n\tSome architectures may capture AUX area data which contains timestamps\n\taffected by virtualization. This option will update those timestamps\n\tin place, to correlate with host timestamps. The in-place update means\n\tthat an output file is not specified, and instead the input file is\n\tmodified.  The options are architecture specific, except that they may\n\tstart with \"dry-run\" which will cause the file to be processed but\n\twithout updating it. Currently this option is supported only by\n\tIntel PT, refer linkperf:perf-intel-pt[1]\n\n--guest-data=<path>,<pid>[,<time offset>[,<time scale>]]::\n\tInsert events from a perf.data file recorded in a virtual machine at\n\tthe same time as the input perf.data file was recorded on the host.\n\tThe Process ID (PID) of the QEMU hypervisor process must be provided,\n\tand the time offset and time scale (multiplier) will likely be needed\n\tto convert guest time stamps into host time stamps. For example, for\n\tx86 the TSC Offset and Multiplier could be provided for a virtual machine\n\tusing Linux command line option no-kvmclock.\n\tCurrently only mmap, mmap2, comm, task, context_switch, ksymbol,\n\tand text_poke events are inserted, as well as build ID information.\n\tThe QEMU option -name debug-threads=on is needed so that thread names\n\tcan be used to determine which thread is running which VCPU. Note\n\tlibvirt seems to use this by default.\n\tWhen using perf record in the guest, option --sample-identifier\n\tshould be used, and also --buildid-all and --switch-events may be\n\tuseful.\n\n:GMEXAMPLECMD: inject\n:GMEXAMPLESUBCMD:\ninclude::guestmount.txt[]\n\nSEE ALSO\n--------\nlinkperf:perf-record[1], linkperf:perf-report[1], linkperf:perf-archive[1],\nlinkperf:perf-intel-pt[1]\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}