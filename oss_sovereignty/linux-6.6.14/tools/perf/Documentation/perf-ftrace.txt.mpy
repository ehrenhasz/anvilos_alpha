{
  "module_name": "perf-ftrace.txt",
  "hash_id": "813c2850c87b516d8819a95683ba7c5577d1d5290cde350fecf6b41788adf53d",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/Documentation/perf-ftrace.txt",
  "human_readable_source": "perf-ftrace(1)\n==============\n\nNAME\n----\nperf-ftrace - simple wrapper for kernel's ftrace functionality\n\n\nSYNOPSIS\n--------\n[verse]\n'perf ftrace' {trace|latency} <command>\n\nDESCRIPTION\n-----------\nThe 'perf ftrace' command provides a collection of subcommands which use\nkernel's ftrace infrastructure.\n\n  'perf ftrace trace' is a simple wrapper of the ftrace.  It only supports\n  single thread tracing currently and just reads trace_pipe in text and then\n  write it to stdout.\n\n  'perf ftrace latency' calculates execution latency of a given function\n  (optionally with BPF) and display it as a histogram.\n\nThe following options apply to perf ftrace.\n\nCOMMON OPTIONS\n--------------\n\n-p::\n--pid=::\n\tTrace on existing process id (comma separated list).\n\n--tid=::\n\tTrace on existing thread id (comma separated list).\n\n-a::\n--all-cpus::\n\tForce system-wide collection.  Scripts run without a <command>\n\tnormally use -a by default, while scripts run with a <command>\n\tnormally don't - this option allows the latter to be run in\n\tsystem-wide mode.\n\n-C::\n--cpu=::\n\tOnly trace for the list of CPUs provided.  Multiple CPUs can\n\tbe provided as a comma separated list with no space like: 0,1.\n\tRanges of CPUs are specified with -: 0-2.\n\tDefault is to trace on all online CPUs.\n\n-v::\n--verbose::\n        Increase the verbosity level.\n\n\nOPTIONS for 'perf ftrace trace'\n-------------------------------\n\n-t::\n--tracer=::\n\tTracer to use when neither -G nor -F option is not\n\tspecified: function_graph or function.\n\n-F::\n--funcs::\n        List available functions to trace. It accepts a pattern to\n        only list interested functions.\n\n-D::\n--delay::\n\tTime (ms) to wait before starting tracing after program start.\n\n-m::\n--buffer-size::\n\tSet the size of per-cpu tracing buffer, <size> is expected to\n\tbe a number with appended unit character - B/K/M/G.\n\n--inherit::\n\tTrace children processes spawned by our target.\n\n-T::\n--trace-funcs=::\n\tSelect function tracer and set function filter on the given\n\tfunction (or a glob pattern). Multiple functions can be given\n\tby using this option more than once. The function argument also\n\tcan be a glob pattern. It will be passed to 'set_ftrace_filter'\n\tin tracefs.\n\n-N::\n--notrace-funcs=::\n\tSelect function tracer and do not trace functions given by the\n\targument.  Like -T option, this can be used more than once to\n\tspecify multiple functions (or glob patterns).  It will be\n\tpassed to 'set_ftrace_notrace' in tracefs.\n\n--func-opts::\n\tList of options allowed to set:\n\n\t  - call-graph - Display kernel stack trace for function tracer.\n\t  - irq-info   - Display irq context info for function tracer.\n\n-G::\n--graph-funcs=::\n\tSelect function_graph tracer and set graph filter on the given\n\tfunction (or a glob pattern). This is useful to trace for\n\tfunctions executed from the given function. This can be used more\n\tthan once to specify multiple functions. It will be passed to\n\t'set_graph_function' in tracefs.\n\n-g::\n--nograph-funcs=::\n\tSelect function_graph tracer and set graph notrace filter on the\n\tgiven function (or a glob pattern). Like -G option, this is useful\n\tfor the function_graph tracer only and disables tracing for function\n\texecuted from the given function. This can be used more than once to\n\tspecify multiple functions. It will be passed to 'set_graph_notrace'\n\tin tracefs.\n\n--graph-opts::\n\tList of options allowed to set:\n\n\t  - nosleep-time - Measure on-CPU time only for function_graph tracer.\n\t  - noirqs       - Ignore functions that happen inside interrupt.\n\t  - verbose      - Show process names, PIDs, timestamps, etc.\n\t  - thresh=<n>   - Setup trace duration threshold in microseconds.\n\t  - depth=<n>    - Set max depth for function graph tracer to follow.\n\n\nOPTIONS for 'perf ftrace latency'\n---------------------------------\n\n-T::\n--trace-funcs=::\n\tSet the function name to get the histogram.  Unlike perf ftrace trace,\n\tit only allows single function to calculate the histogram.\n\n-b::\n--use-bpf::\n\tUse BPF to measure function latency instead of using the ftrace (it\n\tuses function_graph tracer internally).\n\n-n::\n--use-nsec::\n\tUse nano-second instead of micro-second as a base unit of the histogram.\n\n\nSEE ALSO\n--------\nlinkperf:perf-record[1], linkperf:perf-trace[1]\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}