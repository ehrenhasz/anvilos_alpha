{
  "module_name": "perf-list.txt",
  "hash_id": "42137b4278a9f13aa4eb5f2d27919502a7c1b71cae8dc65143f9e4976f7be858",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/Documentation/perf-list.txt",
  "human_readable_source": "perf-list(1)\n============\n\nNAME\n----\nperf-list - List all symbolic event types\n\nSYNOPSIS\n--------\n[verse]\n'perf list' [--no-desc] [--long-desc]\n            [hw|sw|cache|tracepoint|pmu|sdt|metric|metricgroup|event_glob]\n\nDESCRIPTION\n-----------\nThis command displays the symbolic event types which can be selected in the\nvarious perf commands with the -e option.\n\nOPTIONS\n-------\n-d::\n--desc::\nPrint extra event descriptions. (default)\n\n--no-desc::\nDon't print descriptions.\n\n-v::\n--long-desc::\nPrint longer event descriptions.\n\n--debug::\nEnable debugging output.\n\n--details::\nPrint how named events are resolved internally into perf events, and also\nany extra expressions computed by perf stat.\n\n--deprecated::\nPrint deprecated events. By default the deprecated events are hidden.\n\n--unit::\nPrint PMU events and metrics limited to the specific PMU name.\n(e.g. --unit cpu, --unit msr, --unit cpu_core, --unit cpu_atom)\n\n-j::\n--json::\nOutput in JSON format.\n\n[[EVENT_MODIFIERS]]\nEVENT MODIFIERS\n---------------\n\nEvents can optionally have a modifier by appending a colon and one or\nmore modifiers. Modifiers allow the user to restrict the events to be\ncounted. The following modifiers exist:\n\n u - user-space counting\n k - kernel counting\n h - hypervisor counting\n I - non idle counting\n G - guest counting (in KVM guests)\n H - host counting (not in KVM guests)\n p - precise level\n P - use maximum detected precise level\n S - read sample value (PERF_SAMPLE_READ)\n D - pin the event to the PMU\n W - group is weak and will fallback to non-group if not schedulable,\n e - group or event are exclusive and do not share the PMU\n\nThe 'p' modifier can be used for specifying how precise the instruction\naddress should be. The 'p' modifier can be specified multiple times:\n\n 0 - SAMPLE_IP can have arbitrary skid\n 1 - SAMPLE_IP must have constant skid\n 2 - SAMPLE_IP requested to have 0 skid\n 3 - SAMPLE_IP must have 0 skid, or uses randomization to avoid\n     sample shadowing effects.\n\nFor Intel systems precise event sampling is implemented with PEBS\nwhich supports up to precise-level 2, and precise level 3 for\nsome special cases\n\nOn AMD systems it is implemented using IBS (up to precise-level 2).\nThe precise modifier works with event types 0x76 (cpu-cycles, CPU\nclocks not halted) and 0xC1 (micro-ops retired). Both events map to\nIBS execution sampling (IBS op) with the IBS Op Counter Control bit\n(IbsOpCntCtl) set respectively (see the\nCore Complex (CCX) -> Processor x86 Core -> Instruction Based Sampling (IBS)\nsection of the [AMD Processor Programming Reference (PPR)] relevant to the\nfamily, model and stepping of the processor being used).\n\nManual Volume 2: System Programming, 13.3 Instruction-Based\nSampling). Examples to use IBS:\n\n perf record -a -e cpu-cycles:p ...    # use ibs op counting cycles\n perf record -a -e r076:p ...          # same as -e cpu-cycles:p\n perf record -a -e r0C1:p ...          # use ibs op counting micro-ops\n\nRAW HARDWARE EVENT DESCRIPTOR\n-----------------------------\nEven when an event is not available in a symbolic form within perf right now,\nit can be encoded in a per processor specific way.\n\nFor instance on x86 CPUs, N is a hexadecimal value that represents the raw register encoding with the\nlayout of IA32_PERFEVTSELx MSRs (see [Intel\u00ae 64 and IA-32 Architectures Software Developer's Manual Volume 3B: System Programming Guide] Figure 30-1 Layout\nof IA32_PERFEVTSELx MSRs) or AMD's PERF_CTL MSRs (see the\nCore Complex (CCX) -> Processor x86 Core -> MSR Registers section of the\n[AMD Processor Programming Reference (PPR)] relevant to the family, model\nand stepping of the processor being used).\n\nNote: Only the following bit fields can be set in x86 counter\nregisters: event, umask, edge, inv, cmask. Esp. guest/host only and\nOS/user mode flags must be setup using <<EVENT_MODIFIERS, EVENT\nMODIFIERS>>.\n\nExample:\n\nIf the Intel docs for a QM720 Core i7 describe an event as:\n\n  Event  Umask  Event Mask\n  Num.   Value  Mnemonic    Description                        Comment\n\n  A8H      01H  LSD.UOPS    Counts the number of micro-ops     Use cmask=1 and\n                            delivered by loop stream detector  invert to count\n                                                               cycles\n\nraw encoding of 0x1A8 can be used:\n\n perf stat -e r1a8 -a sleep 1\n perf record -e r1a8 ...\n\nIt's also possible to use pmu syntax:\n\n perf record -e r1a8 -a sleep 1\n perf record -e cpu/r1a8/ ...\n perf record -e cpu/r0x1a8/ ...\n\nSome processors, like those from AMD, support event codes and unit masks\nlarger than a byte. In such cases, the bits corresponding to the event\nconfiguration parameters can be seen with:\n\n  cat /sys/bus/event_source/devices/<pmu>/format/<config>\n\nExample:\n\nIf the AMD docs for an EPYC 7713 processor describe an event as:\n\n  Event  Umask  Event Mask\n  Num.   Value  Mnemonic                        Description\n\n  28FH     03H  op_cache_hit_miss.op_cache_hit  Counts Op Cache micro-tag\n                                                hit events.\n\nraw encoding of 0x0328F cannot be used since the upper nibble of the\nEventSelect bits have to be specified via bits 32-35 as can be seen with:\n\n  cat /sys/bus/event_source/devices/cpu/format/event\n\nraw encoding of 0x20000038F should be used instead:\n\n perf stat -e r20000038f -a sleep 1\n perf record -e r20000038f ...\n\nIt's also possible to use pmu syntax:\n\n perf record -e r20000038f -a sleep 1\n perf record -e cpu/r20000038f/ ...\n perf record -e cpu/r0x20000038f/ ...\n\nYou should refer to the processor specific documentation for getting these\ndetails. Some of them are referenced in the SEE ALSO section below.\n\nARBITRARY PMUS\n--------------\n\nperf also supports an extended syntax for specifying raw parameters\nto PMUs. Using this typically requires looking up the specific event\nin the CPU vendor specific documentation.\n\nThe available PMUs and their raw parameters can be listed with\n\n  ls /sys/devices/*/format\n\nFor example the raw event \"LSD.UOPS\" core pmu event above could\nbe specified as\n\n  perf stat -e cpu/event=0xa8,umask=0x1,name=LSD.UOPS_CYCLES,cmask=0x1/ ...\n\n  or using extended name syntax\n\n  perf stat -e cpu/event=0xa8,umask=0x1,cmask=0x1,name=\\'LSD.UOPS_CYCLES:cmask=0x1\\'/ ...\n\nPER SOCKET PMUS\n---------------\n\nSome PMUs are not associated with a core, but with a whole CPU socket.\nEvents on these PMUs generally cannot be sampled, but only counted globally\nwith perf stat -a. They can be bound to one logical CPU, but will measure\nall the CPUs in the same socket.\n\nThis example measures memory bandwidth every second\non the first memory controller on socket 0 of a Intel Xeon system\n\n  perf stat -C 0 -a uncore_imc_0/cas_count_read/,uncore_imc_0/cas_count_write/ -I 1000 ...\n\nEach memory controller has its own PMU.  Measuring the complete system\nbandwidth would require specifying all imc PMUs (see perf list output),\nand adding the values together. To simplify creation of multiple events,\nprefix and glob matching is supported in the PMU name, and the prefix\n'uncore_' is also ignored when performing the match. So the command above\ncan be expanded to all memory controllers by using the syntaxes:\n\n  perf stat -C 0 -a imc/cas_count_read/,imc/cas_count_write/ -I 1000 ...\n  perf stat -C 0 -a *imc*/cas_count_read/,*imc*/cas_count_write/ -I 1000 ...\n\nThis example measures the combined core power every second\n\n  perf stat -I 1000 -e power/energy-cores/  -a\n\nACCESS RESTRICTIONS\n-------------------\n\nFor non root users generally only context switched PMU events are available.\nThis is normally only the events in the cpu PMU, the predefined events\nlike cycles and instructions and some software events.\n\nOther PMUs and global measurements are normally root only.\nSome event qualifiers, such as \"any\", are also root only.\n\nThis can be overridden by setting the kernel.perf_event_paranoid\nsysctl to -1, which allows non root to use these events.\n\nFor accessing trace point events perf needs to have read access to\n/sys/kernel/tracing, even when perf_event_paranoid is in a relaxed\nsetting.\n\nTRACING\n-------\n\nSome PMUs control advanced hardware tracing capabilities, such as Intel PT,\nthat allows low overhead execution tracing.  These are described in a separate\nintel-pt.txt document.\n\nPARAMETERIZED EVENTS\n--------------------\n\nSome pmu events listed by 'perf-list' will be displayed with '?' in them. For\nexample:\n\n  hv_gpci/dtbp_ptitc,phys_processor_idx=?/\n\nThis means that when provided as an event, a value for '?' must\nalso be supplied. For example:\n\n  perf stat -C 0 -e 'hv_gpci/dtbp_ptitc,phys_processor_idx=0x2/' ...\n\nEVENT QUALIFIERS:\n\nIt is also possible to add extra qualifiers to an event:\n\npercore:\n\nSums up the event counts for all hardware threads in a core, e.g.:\n\n\n  perf stat -e cpu/event=0,umask=0x3,percore=1/\n\n\nEVENT GROUPS\n------------\n\nPerf supports time based multiplexing of events, when the number of events\nactive exceeds the number of hardware performance counters. Multiplexing\ncan cause measurement errors when the workload changes its execution\nprofile.\n\nWhen metrics are computed using formulas from event counts, it is useful to\nensure some events are always measured together as a group to minimize multiplexing\nerrors. Event groups can be specified using { }.\n\n  perf stat -e '{instructions,cycles}' ...\n\nThe number of available performance counters depend on the CPU. A group\ncannot contain more events than available counters.\nFor example Intel Core CPUs typically have four generic performance counters\nfor the core, plus three fixed counters for instructions, cycles and\nref-cycles. Some special events have restrictions on which counter they\ncan schedule, and may not support multiple instances in a single group.\nWhen too many events are specified in the group some of them will not\nbe measured.\n\nGlobally pinned events can limit the number of counters available for\nother groups. On x86 systems, the NMI watchdog pins a counter by default.\nThe nmi watchdog can be disabled as root with\n\n\techo 0 > /proc/sys/kernel/nmi_watchdog\n\nEvents from multiple different PMUs cannot be mixed in a group, with\nsome exceptions for software events.\n\nLEADER SAMPLING\n---------------\n\nperf also supports group leader sampling using the :S specifier.\n\n  perf record -e '{cycles,instructions}:S' ...\n  perf report --group\n\nNormally all events in an event group sample, but with :S only\nthe first event (the leader) samples, and it only reads the values of the\nother events in the group.\n\nHowever, in the case AUX area events (e.g. Intel PT or CoreSight), the AUX\narea event must be the leader, so then the second event samples, not the first.\n\nOPTIONS\n-------\n\nWithout options all known events will be listed.\n\nTo limit the list use:\n\n. 'hw' or 'hardware' to list hardware events such as cache-misses, etc.\n\n. 'sw' or 'software' to list software events such as context switches, etc.\n\n. 'cache' or 'hwcache' to list hardware cache events such as L1-dcache-loads, etc.\n\n. 'tracepoint' to list all tracepoint events, alternatively use\n  'subsys_glob:event_glob' to filter by tracepoint subsystems such as sched,\n  block, etc.\n\n. 'pmu' to print the kernel supplied PMU events.\n\n. 'sdt' to list all Statically Defined Tracepoint events.\n\n. 'metric' to list metrics\n\n. 'metricgroup' to list metricgroups with metrics.\n\n. If none of the above is matched, it will apply the supplied glob to all\n  events, printing the ones that match.\n\n. As a last resort, it will do a substring search in all event names.\n\nOne or more types can be used at the same time, listing the events for the\ntypes specified.\n\nSupport raw format:\n\n. '--raw-dump', shows the raw-dump of all the events.\n. '--raw-dump [hw|sw|cache|tracepoint|pmu|event_glob]', shows the raw-dump of\n  a certain kind of events.\n\nSEE ALSO\n--------\nlinkperf:perf-stat[1], linkperf:perf-top[1],\nlinkperf:perf-record[1],\nhttp://www.intel.com/sdm/[Intel\u00ae 64 and IA-32 Architectures Software Developer's Manual Volume 3B: System Programming Guide],\nhttps://bugzilla.kernel.org/show_bug.cgi?id=206537[AMD Processor Programming Reference (PPR)]\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}