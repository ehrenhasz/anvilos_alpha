{
  "module_name": "perf-kvm.txt",
  "hash_id": "b1628d4c0222c35503924bf3e28f76a9ffa071035bbcda7577e0d05b93f3fd20",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/Documentation/perf-kvm.txt",
  "human_readable_source": "perf-kvm(1)\n===========\n\nNAME\n----\nperf-kvm - Tool to trace/measure kvm guest os\n\nSYNOPSIS\n--------\n[verse]\n'perf kvm' [--host] [--guest] [--guestmount=<path>\n\t[--guestkallsyms=<path> --guestmodules=<path> | --guestvmlinux=<path>]]\n\t{top|record|report|diff|buildid-list} [<options>]\n'perf kvm' [--host] [--guest] [--guestkallsyms=<path> --guestmodules=<path>\n\t| --guestvmlinux=<path>] {top|record|report|diff|buildid-list|stat} [<options>]\n'perf kvm stat [record|report|live] [<options>]\n\nDESCRIPTION\n-----------\nThere are a couple of variants of perf kvm:\n\n  'perf kvm [options] top <command>' to generates and displays\n  a performance counter profile of guest os in realtime\n  of an arbitrary workload.\n\n  'perf kvm record <command>' to record the performance counter profile\n  of an arbitrary workload and save it into a perf data file. We set the\n  default behavior of perf kvm as --guest, so if neither --host nor --guest\n  is input, the perf data file name is perf.data.guest. If --host is input,\n  the perf data file name is perf.data.kvm. If you want to record data into\n  perf.data.host, please input --host --no-guest. The behaviors are shown as\n  following:\n    Default('')         ->  perf.data.guest\n    --host              ->  perf.data.kvm\n    --guest             ->  perf.data.guest\n    --host --guest      ->  perf.data.kvm\n    --host --no-guest   ->  perf.data.host\n\n  'perf kvm report' to display the performance counter profile information\n  recorded via perf kvm record.\n\n  'perf kvm diff' to displays the performance difference amongst two perf.data\n  files captured via perf record.\n\n  'perf kvm buildid-list' to  display the buildids found in a perf data file,\n  so that other tools can be used to fetch packages with matching symbol tables\n  for use by perf report. As buildid is read from /sys/kernel/notes in os, then\n  if you want to list the buildid for guest, please make sure your perf data file\n  was captured with --guestmount in perf kvm record.\n\n  'perf kvm stat <command>' to run a command and gather performance counter\n  statistics.\n  Especially, perf 'kvm stat record/report' generates a statistical analysis\n  of KVM events. Currently, vmexit, mmio (x86 only) and ioport (x86 only)\n  events are supported. 'perf kvm stat record <command>' records kvm events\n  and the events between start and end <command>.\n  And this command produces a file which contains tracing results of kvm\n  events.\n\n  'perf kvm stat report' reports statistical data which includes events\n  handled sample, percent_sample, time, percent_time, max_t, min_t, mean_t.\n\n  'perf kvm stat live' reports statistical data in a live mode (similar to\n  record + report but with statistical data updated live at a given display\n  rate).\n\nOPTIONS\n-------\n-i::\n--input=<path>::\n        Input file name, for the 'report', 'diff' and 'buildid-list' subcommands.\n-o::\n--output=<path>::\n        Output file name, for the 'record' subcommand. Doesn't work with 'report',\n        just redirect the output to a file when using 'report'.\n--host::\n        Collect host side performance profile.\n--guest::\n        Collect guest side performance profile.\n\n:GMEXAMPLECMD: kvm --host --guest\n:GMEXAMPLESUBCMD: top\ninclude::guest-files.txt[]\n\n--stdio:: Use the stdio interface.\n\n-v::\n--verbose::\n\tBe more verbose (show counter open errors, etc).\n\nSTAT REPORT OPTIONS\n-------------------\n--vcpu=<value>::\n       analyze events which occur on this vcpu. (default: all vcpus)\n\n--event=<value>::\n       event to be analyzed. Possible values: vmexit, mmio (x86 only),\n       ioport (x86 only). (default: vmexit)\n-k::\n--key=<value>::\n       Sorting key. Possible values: sample (default, sort by samples\n       number), percent_sample (sort by sample percentage), time\n       (sort by average time), precent_time (sort by time percentage),\n       max_t (sort by maximum time), min_t (sort by minimum time), mean_t\n       (sort by mean time).\n-p::\n--pid=::\n    Analyze events only for given process ID(s) (comma separated list).\n\nSTAT LIVE OPTIONS\n-----------------\n-d::\n--display::\n        Time in seconds between display updates\n\n-m::\n--mmap-pages=::\n    Number of mmap data pages (must be a power of two) or size\n    specification with appended unit character - B/K/M/G. The\n    size is rounded up to have nearest pages power of two value.\n\n-a::\n--all-cpus::\n        System-wide collection from all CPUs.\n\n-p::\n--pid=::\n    Analyze events only for given process ID(s) (comma separated list).\n\n--vcpu=<value>::\n       analyze events which occur on this vcpu. (default: all vcpus)\n\n\n--event=<value>::\n       event to be analyzed. Possible values: vmexit,\n       mmio (x86 only), ioport (x86 only).\n       (default: vmexit)\n\n-k::\n--key=<value>::\n       Sorting key. Possible values: sample (default, sort by samples\n       number), time (sort by average time).\n\n--duration=<value>::\n       Show events other than HLT (x86 only) or Wait state (s390 only)\n       that take longer than duration usecs.\n\n--proc-map-timeout::\n\tWhen processing pre-existing threads /proc/XXX/mmap, it may take\n\ta long time, because the file may be huge. A time out is needed\n\tin such cases.\n\tThis option sets the time out limit. The default value is 500 ms.\n\nSEE ALSO\n--------\nlinkperf:perf-top[1], linkperf:perf-record[1], linkperf:perf-report[1],\nlinkperf:perf-diff[1], linkperf:perf-buildid-list[1],\nlinkperf:perf-stat[1]\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}