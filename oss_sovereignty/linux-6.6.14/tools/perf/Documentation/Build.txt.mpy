{
  "module_name": "Build.txt",
  "hash_id": "aa305503370b9bde6ac4bf735874a343a433c3750abb791da9ec51fd60b00262",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/Documentation/Build.txt",
  "human_readable_source": "\n1) perf build\n=============\nThe perf build process consists of several separated building blocks,\nwhich are linked together to form the perf binary:\n  - libperf library (static)\n  - perf builtin commands\n  - traceevent library (static)\n  - GTK ui library\n\nSeveral makefiles govern the perf build:\n\n  - Makefile\n    top level Makefile working as a wrapper that calls the main\n    Makefile.perf with a -j option to do parallel builds.\n\n  - Makefile.perf\n    main makefile that triggers build of all perf objects including\n    installation and documentation processing.\n\n  - tools/build/Makefile.build\n    main makefile of the build framework\n\n  - tools/build/Build.include\n    build framework generic definitions\n\n  - Build makefiles\n    makefiles that defines build objects\n\nPlease refer to tools/build/Documentation/Build.txt for more\ninformation about build framework.\n\n\n2) perf build\n=============\nThe Makefile.perf triggers the build framework for build objects:\n   perf, libperf, gtk\n\nresulting in following objects:\n  $ ls  *-in.o\n  gtk-in.o  libperf-in.o  perf-in.o\n\nThose objects are then used in final linking:\n  libperf-gtk.so <- gtk-in.o  libperf-in.o\n  perf           <- perf-in.o libperf-in.o\n\n\nNOTE this description is omitting other libraries involved, only\n     focusing on build framework outcomes\n\n3) Build with ASan or UBSan\n==========================\n  $ cd tools/perf\n  $ make DESTDIR=/usr\n  $ make DESTDIR=/usr install\n\nAddressSanitizer (or ASan) is a GCC feature that detects memory corruption bugs\nsuch as buffer overflows and memory leaks.\n\n  $ cd tools/perf\n  $ make DEBUG=1 EXTRA_CFLAGS='-fno-omit-frame-pointer -fsanitize=address'\n  $ ASAN_OPTIONS=log_path=asan.log ./perf record -a\n\nASan outputs all detected issues into a log file named 'asan.log.<pid>'.\n\nUndefinedBehaviorSanitizer (or UBSan) is a fast undefined behavior detector\nsupported by GCC. UBSan detects undefined behaviors of programs at runtime.\n\n  $ cd tools/perf\n  $ make DEBUG=1 EXTRA_CFLAGS='-fno-omit-frame-pointer -fsanitize=undefined'\n  $ UBSAN_OPTIONS=print_stacktrace=1 ./perf record -a\n\nIf UBSan detects any problem at runtime, it outputs a \u201cruntime error:\u201d message.\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}