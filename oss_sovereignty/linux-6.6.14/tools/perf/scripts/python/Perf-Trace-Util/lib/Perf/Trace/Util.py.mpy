{
  "module_name": "Util.py",
  "hash_id": "f2e9048237cd60a5f37c178bc69c3a7fbe1e16b41215197328d8e6be6380e156",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/scripts/python/Perf-Trace-Util/lib/Perf/Trace/Util.py",
  "human_readable_source": "# Util.py - Python extension for perf script, miscellaneous utility code\n#\n# Copyright (C) 2010 by Tom Zanussi <tzanussi@gmail.com>\n#\n# This software may be distributed under the terms of the GNU General\n# Public License (\"GPL\") version 2 as published by the Free Software\n# Foundation.\nfrom __future__ import print_function\n\nimport errno, os\n\nFUTEX_WAIT = 0\nFUTEX_WAKE = 1\nFUTEX_PRIVATE_FLAG = 128\nFUTEX_CLOCK_REALTIME = 256\nFUTEX_CMD_MASK = ~(FUTEX_PRIVATE_FLAG | FUTEX_CLOCK_REALTIME)\n\nNSECS_PER_SEC    = 1000000000\n\ndef avg(total, n):\n    return total / n\n\ndef nsecs(secs, nsecs):\n    return secs * NSECS_PER_SEC + nsecs\n\ndef nsecs_secs(nsecs):\n    return nsecs / NSECS_PER_SEC\n\ndef nsecs_nsecs(nsecs):\n    return nsecs % NSECS_PER_SEC\n\ndef nsecs_str(nsecs):\n    str = \"%5u.%09u\" % (nsecs_secs(nsecs), nsecs_nsecs(nsecs)),\n    return str\n\ndef add_stats(dict, key, value):\n\tif key not in dict:\n\t\tdict[key] = (value, value, value, 1)\n\telse:\n\t\tmin, max, avg, count = dict[key]\n\t\tif value < min:\n\t\t\tmin = value\n\t\tif value > max:\n\t\t\tmax = value\n\t\tavg = (avg + value) / 2\n\t\tdict[key] = (min, max, avg, count + 1)\n\ndef clear_term():\n    print(\"\\x1b[H\\x1b[2J\")\n\naudit_package_warned = False\n\ntry:\n\timport audit\n\tmachine_to_id = {\n\t\t'x86_64': audit.MACH_86_64,\n\t\t'aarch64': audit.MACH_AARCH64,\n\t\t'alpha'\t: audit.MACH_ALPHA,\n\t\t'ia64'\t: audit.MACH_IA64,\n\t\t'ppc'\t: audit.MACH_PPC,\n\t\t'ppc64'\t: audit.MACH_PPC64,\n\t\t'ppc64le' : audit.MACH_PPC64LE,\n\t\t's390'\t: audit.MACH_S390,\n\t\t's390x'\t: audit.MACH_S390X,\n\t\t'i386'\t: audit.MACH_X86,\n\t\t'i586'\t: audit.MACH_X86,\n\t\t'i686'\t: audit.MACH_X86,\n\t}\n\ttry:\n\t\tmachine_to_id['armeb'] = audit.MACH_ARMEB\n\texcept:\n\t\tpass\n\tmachine_id = machine_to_id[os.uname()[4]]\nexcept:\n\tif not audit_package_warned:\n\t\taudit_package_warned = True\n\t\tprint(\"Install the python-audit package to get syscall names.\\n\"\n                    \"For example:\\n  # apt-get install python3-audit (Ubuntu)\"\n                    \"\\n  # yum install python3-audit (Fedora)\"\n                    \"\\n  etc.\\n\")\n\ndef syscall_name(id):\n\ttry:\n\t\treturn audit.audit_syscall_to_name(id, machine_id)\n\texcept:\n\t\treturn str(id)\n\ndef strerror(nr):\n\ttry:\n\t\treturn errno.errorcode[abs(nr)]\n\texcept:\n\t\treturn \"Unknown %d errno\" % nr\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}