{
  "module_name": "futex_op.c",
  "hash_id": "0f58342527f12bb37a1dafa4558544ca5b9c133999713966452d4f2dc8a55d74",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/trace/beauty/futex_op.c",
  "human_readable_source": "\n#include <linux/futex.h>\n\n#ifndef FUTEX_WAIT_BITSET\n#define FUTEX_WAIT_BITSET\t  9\n#endif\n#ifndef FUTEX_WAKE_BITSET\n#define FUTEX_WAKE_BITSET\t 10\n#endif\n#ifndef FUTEX_WAIT_REQUEUE_PI\n#define FUTEX_WAIT_REQUEUE_PI\t 11\n#endif\n#ifndef FUTEX_CMP_REQUEUE_PI\n#define FUTEX_CMP_REQUEUE_PI\t 12\n#endif\n#ifndef FUTEX_CLOCK_REALTIME\n#define FUTEX_CLOCK_REALTIME\t256\n#endif\n\nstatic size_t syscall_arg__scnprintf_futex_op(char *bf, size_t size, struct syscall_arg *arg)\n{\n\tbool show_prefix = arg->show_string_prefix;\n\tconst char *prefix = \"FUTEX_\";\n\tenum syscall_futex_args {\n\t\tSCF_UADDR   = (1 << 0),\n\t\tSCF_OP\t    = (1 << 1),\n\t\tSCF_VAL\t    = (1 << 2),\n\t\tSCF_TIMEOUT = (1 << 3),\n\t\tSCF_UADDR2  = (1 << 4),\n\t\tSCF_VAL3    = (1 << 5),\n\t};\n\tint op = arg->val;\n\tint cmd = op & FUTEX_CMD_MASK;\n\tsize_t printed = 0;\n\n\tswitch (cmd) {\n#define\tP_FUTEX_OP(n) case FUTEX_##n: printed = scnprintf(bf, size, \"%s%s\", show_prefix ? prefix : \"\", #n);\n\tP_FUTEX_OP(WAIT);\t    arg->mask |= SCF_VAL3|SCF_UADDR2;\t\t  break;\n\tP_FUTEX_OP(WAKE);\t    arg->mask |= SCF_VAL3|SCF_UADDR2|SCF_TIMEOUT; break;\n\tP_FUTEX_OP(FD);\t\t    arg->mask |= SCF_VAL3|SCF_UADDR2|SCF_TIMEOUT; break;\n\tP_FUTEX_OP(REQUEUE);\t    arg->mask |= SCF_VAL3|SCF_TIMEOUT;\t          break;\n\tP_FUTEX_OP(CMP_REQUEUE);    arg->mask |= SCF_TIMEOUT;\t\t\t  break;\n\tP_FUTEX_OP(CMP_REQUEUE_PI); arg->mask |= SCF_TIMEOUT;\t\t\t  break;\n\tP_FUTEX_OP(WAKE_OP);\t\t\t\t\t\t\t  break;\n\tP_FUTEX_OP(LOCK_PI);\t    arg->mask |= SCF_VAL3|SCF_UADDR2|SCF_TIMEOUT; break;\n\tP_FUTEX_OP(UNLOCK_PI);\t    arg->mask |= SCF_VAL3|SCF_UADDR2|SCF_TIMEOUT; break;\n\tP_FUTEX_OP(TRYLOCK_PI);\t    arg->mask |= SCF_VAL3|SCF_UADDR2;\t\t  break;\n\tP_FUTEX_OP(WAIT_BITSET);    arg->mask |= SCF_UADDR2;\t\t\t  break;\n\tP_FUTEX_OP(WAKE_BITSET);    arg->mask |= SCF_UADDR2;\t\t\t  break;\n\tP_FUTEX_OP(WAIT_REQUEUE_PI);\t\t\t\t\t\t  break;\n\tdefault: printed = scnprintf(bf, size, \"%#x\", cmd);\t\t\t  break;\n\t}\n\n\tif (op & FUTEX_PRIVATE_FLAG)\n\t\tprinted += scnprintf(bf + printed, size - printed, \"|%s%s\", show_prefix ? prefix : \"\", \"PRIVATE_FLAG\");\n\n\tif (op & FUTEX_CLOCK_REALTIME)\n\t\tprinted += scnprintf(bf + printed, size - printed, \"|%s%s\", show_prefix ? prefix : \"\", \"CLOCK_REALTIME\");\n\n\treturn printed;\n}\n\n#define SCA_FUTEX_OP  syscall_arg__scnprintf_futex_op\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}