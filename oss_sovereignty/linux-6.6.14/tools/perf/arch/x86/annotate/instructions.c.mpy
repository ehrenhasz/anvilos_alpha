{
  "module_name": "instructions.c",
  "hash_id": "2e255fe59f543769a47369b63e6290b46e5cfef3696e9e18e1b18b4740da43ea",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/arch/x86/annotate/instructions.c",
  "human_readable_source": "\n \nstatic struct ins x86__instructions[] = {\n\t{ .name = \"adc\",\t.ops = &mov_ops,  },\n\t{ .name = \"add\",\t.ops = &mov_ops,  },\n\t{ .name = \"addsd\",\t.ops = &mov_ops,  },\n\t{ .name = \"and\",\t.ops = &mov_ops,  },\n\t{ .name = \"andpd\",\t.ops = &mov_ops,  },\n\t{ .name = \"andps\",\t.ops = &mov_ops,  },\n\t{ .name = \"bsr\",\t.ops = &mov_ops,  },\n\t{ .name = \"bt\",\t\t.ops = &mov_ops,  },\n\t{ .name = \"btr\",\t.ops = &mov_ops,  },\n\t{ .name = \"bts\",\t.ops = &mov_ops,  },\n\t{ .name = \"call\",\t.ops = &call_ops, },\n\t{ .name = \"cmovbe\",\t.ops = &mov_ops,  },\n\t{ .name = \"cmove\",\t.ops = &mov_ops,  },\n\t{ .name = \"cmovae\",\t.ops = &mov_ops,  },\n\t{ .name = \"cmp\",\t.ops = &mov_ops,  },\n\t{ .name = \"cmpxch\",\t.ops = &mov_ops,  },\n\t{ .name = \"cmpxchg\",\t.ops = &mov_ops,  },\n\t{ .name = \"cs\",\t\t.ops = &mov_ops,  },\n\t{ .name = \"dec\",\t.ops = &dec_ops,  },\n\t{ .name = \"divsd\",\t.ops = &mov_ops,  },\n\t{ .name = \"divss\",\t.ops = &mov_ops,  },\n\t{ .name = \"gs\",\t\t.ops = &mov_ops,  },\n\t{ .name = \"imul\",\t.ops = &mov_ops,  },\n\t{ .name = \"inc\",\t.ops = &dec_ops,  },\n\t{ .name = \"ja\",\t\t.ops = &jump_ops, },\n\t{ .name = \"jae\",\t.ops = &jump_ops, },\n\t{ .name = \"jb\",\t\t.ops = &jump_ops, },\n\t{ .name = \"jbe\",\t.ops = &jump_ops, },\n\t{ .name = \"jc\",\t\t.ops = &jump_ops, },\n\t{ .name = \"jcxz\",\t.ops = &jump_ops, },\n\t{ .name = \"je\",\t\t.ops = &jump_ops, },\n\t{ .name = \"jecxz\",\t.ops = &jump_ops, },\n\t{ .name = \"jg\",\t\t.ops = &jump_ops, },\n\t{ .name = \"jge\",\t.ops = &jump_ops, },\n\t{ .name = \"jl\",\t\t.ops = &jump_ops, },\n\t{ .name = \"jle\",\t.ops = &jump_ops, },\n\t{ .name = \"jmp\",\t.ops = &jump_ops, },\n\t{ .name = \"jna\",\t.ops = &jump_ops, },\n\t{ .name = \"jnae\",\t.ops = &jump_ops, },\n\t{ .name = \"jnb\",\t.ops = &jump_ops, },\n\t{ .name = \"jnbe\",\t.ops = &jump_ops, },\n\t{ .name = \"jnc\",\t.ops = &jump_ops, },\n\t{ .name = \"jne\",\t.ops = &jump_ops, },\n\t{ .name = \"jng\",\t.ops = &jump_ops, },\n\t{ .name = \"jnge\",\t.ops = &jump_ops, },\n\t{ .name = \"jnl\",\t.ops = &jump_ops, },\n\t{ .name = \"jnle\",\t.ops = &jump_ops, },\n\t{ .name = \"jno\",\t.ops = &jump_ops, },\n\t{ .name = \"jnp\",\t.ops = &jump_ops, },\n\t{ .name = \"jns\",\t.ops = &jump_ops, },\n\t{ .name = \"jnz\",\t.ops = &jump_ops, },\n\t{ .name = \"jo\",\t\t.ops = &jump_ops, },\n\t{ .name = \"jp\",\t\t.ops = &jump_ops, },\n\t{ .name = \"jpe\",\t.ops = &jump_ops, },\n\t{ .name = \"jpo\",\t.ops = &jump_ops, },\n\t{ .name = \"jrcxz\",\t.ops = &jump_ops, },\n\t{ .name = \"js\",\t\t.ops = &jump_ops, },\n\t{ .name = \"jz\",\t\t.ops = &jump_ops, },\n\t{ .name = \"lea\",\t.ops = &mov_ops,  },\n\t{ .name = \"lock\",\t.ops = &lock_ops, },\n\t{ .name = \"mov\",\t.ops = &mov_ops,  },\n\t{ .name = \"movapd\",\t.ops = &mov_ops,  },\n\t{ .name = \"movaps\",\t.ops = &mov_ops,  },\n\t{ .name = \"movdqa\",\t.ops = &mov_ops,  },\n\t{ .name = \"movdqu\",\t.ops = &mov_ops,  },\n\t{ .name = \"movsd\",\t.ops = &mov_ops,  },\n\t{ .name = \"movslq\",\t.ops = &mov_ops,  },\n\t{ .name = \"movss\",\t.ops = &mov_ops,  },\n\t{ .name = \"movupd\",\t.ops = &mov_ops,  },\n\t{ .name = \"movups\",\t.ops = &mov_ops,  },\n\t{ .name = \"movzbl\",\t.ops = &mov_ops,  },\n\t{ .name = \"movzwl\",\t.ops = &mov_ops,  },\n\t{ .name = \"mulsd\",\t.ops = &mov_ops,  },\n\t{ .name = \"mulss\",\t.ops = &mov_ops,  },\n\t{ .name = \"nop\",\t.ops = &nop_ops,  },\n\t{ .name = \"or\",\t\t.ops = &mov_ops,  },\n\t{ .name = \"orps\",\t.ops = &mov_ops,  },\n\t{ .name = \"pand\",\t.ops = &mov_ops,  },\n\t{ .name = \"paddq\",\t.ops = &mov_ops,  },\n\t{ .name = \"pcmpeqb\",\t.ops = &mov_ops,  },\n\t{ .name = \"por\",\t.ops = &mov_ops,  },\n\t{ .name = \"rcl\",\t.ops = &mov_ops,  },\n\t{ .name = \"ret\",\t.ops = &ret_ops,  },\n\t{ .name = \"sbb\",\t.ops = &mov_ops,  },\n\t{ .name = \"sete\",\t.ops = &mov_ops,  },\n\t{ .name = \"sub\",\t.ops = &mov_ops,  },\n\t{ .name = \"subsd\",\t.ops = &mov_ops,  },\n\t{ .name = \"test\",\t.ops = &mov_ops,  },\n\t{ .name = \"tzcnt\",\t.ops = &mov_ops,  },\n\t{ .name = \"ucomisd\",\t.ops = &mov_ops,  },\n\t{ .name = \"ucomiss\",\t.ops = &mov_ops,  },\n\t{ .name = \"vaddsd\",\t.ops = &mov_ops,  },\n\t{ .name = \"vandpd\",\t.ops = &mov_ops,  },\n\t{ .name = \"vmovdqa\",\t.ops = &mov_ops,  },\n\t{ .name = \"vmovq\",\t.ops = &mov_ops,  },\n\t{ .name = \"vmovsd\",\t.ops = &mov_ops,  },\n\t{ .name = \"vmulsd\",\t.ops = &mov_ops,  },\n\t{ .name = \"vorpd\",\t.ops = &mov_ops,  },\n\t{ .name = \"vsubsd\",\t.ops = &mov_ops,  },\n\t{ .name = \"vucomisd\",\t.ops = &mov_ops,  },\n\t{ .name = \"xadd\",\t.ops = &mov_ops,  },\n\t{ .name = \"xbegin\",\t.ops = &jump_ops, },\n\t{ .name = \"xchg\",\t.ops = &mov_ops,  },\n\t{ .name = \"xor\",\t.ops = &mov_ops, },\n\t{ .name = \"xorpd\",\t.ops = &mov_ops, },\n\t{ .name = \"xorps\",\t.ops = &mov_ops, },\n};\n\nstatic bool amd__ins_is_fused(struct arch *arch, const char *ins1,\n\t\t\t      const char *ins2)\n{\n\tif (strstr(ins2, \"jmp\"))\n\t\treturn false;\n\n\t \n\tif (arch->family >= 0x15 && (strstarts(ins1, \"test\") ||\n\t    (strstarts(ins1, \"cmp\") && !strstr(ins1, \"xchg\")))) {\n\t\treturn true;\n\t}\n\n\t \n\tif (arch->family >= 0x19 && (strstarts(ins1, \"add\") ||\n\t    strstarts(ins1, \"sub\") || strstarts(ins1, \"and\") ||\n\t    strstarts(ins1, \"inc\") || strstarts(ins1, \"dec\") ||\n\t    strstarts(ins1, \"or\") || strstarts(ins1, \"xor\"))) {\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nstatic bool intel__ins_is_fused(struct arch *arch, const char *ins1,\n\t\t\t\tconst char *ins2)\n{\n\tif (arch->family != 6 || arch->model < 0x1e || strstr(ins2, \"jmp\"))\n\t\treturn false;\n\n\tif (arch->model == 0x1e) {\n\t\t \n\t\tif ((strstr(ins1, \"cmp\") && !strstr(ins1, \"xchg\")) ||\n\t\t     strstr(ins1, \"test\")) {\n\t\t\treturn true;\n\t\t}\n\t} else {\n\t\t \n\t\tif ((strstr(ins1, \"cmp\") && !strstr(ins1, \"xchg\")) ||\n\t\t     strstr(ins1, \"test\") ||\n\t\t     strstr(ins1, \"add\") ||\n\t\t     strstr(ins1, \"sub\") ||\n\t\t     strstr(ins1, \"and\") ||\n\t\t     strstr(ins1, \"inc\") ||\n\t\t     strstr(ins1, \"dec\")) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n}\n\nstatic int x86__cpuid_parse(struct arch *arch, char *cpuid)\n{\n\tunsigned int family, model, stepping;\n\tint ret;\n\n\t \n\tret = sscanf(cpuid, \"%*[^,],%u,%u,%u\", &family, &model, &stepping);\n\tif (ret == 3) {\n\t\tarch->family = family;\n\t\tarch->model = model;\n\t\tarch->ins_is_fused = strstarts(cpuid, \"AuthenticAMD\") ?\n\t\t\t\t\tamd__ins_is_fused :\n\t\t\t\t\tintel__ins_is_fused;\n\t\treturn 0;\n\t}\n\n\treturn -1;\n}\n\nstatic int x86__annotate_init(struct arch *arch, char *cpuid)\n{\n\tint err = 0;\n\n\tif (arch->initialized)\n\t\treturn 0;\n\n\tif (cpuid) {\n\t\tif (x86__cpuid_parse(arch, cpuid))\n\t\t\terr = SYMBOL_ANNOTATE_ERRNO__ARCH_INIT_CPUID_PARSING;\n\t}\n\n\tarch->initialized = true;\n\treturn err;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}