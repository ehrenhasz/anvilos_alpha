{
  "module_name": "unwind-libdw.c",
  "hash_id": "76bd7ad56714e93d9be76a6531b5f3c6d9f9462ad552fd86a155c006de2aedc8",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/arch/csky/util/unwind-libdw.c",
  "human_readable_source": "\n\n\n#include <elfutils/libdwfl.h>\n#include \"perf_regs.h\"\n#include \"../../util/unwind-libdw.h\"\n#include \"../../util/perf_regs.h\"\n#include \"../../util/event.h\"\n\nbool libdw__arch_set_initial_registers(Dwfl_Thread *thread, void *arg)\n{\n\tstruct unwind_info *ui = arg;\n\tstruct regs_dump *user_regs = &ui->sample->user_regs;\n\tDwarf_Word dwarf_regs[PERF_REG_CSKY_MAX];\n\n#define REG(r) ({\t\t\t\t\t\t\\\n\tDwarf_Word val = 0;\t\t\t\t\t\\\n\tperf_reg_value(&val, user_regs, PERF_REG_CSKY_##r);\t\\\n\tval;\t\t\t\t\t\t\t\\\n})\n\n#if defined(__CSKYABIV2__)\n\tdwarf_regs[0]  = REG(A0);\n\tdwarf_regs[1]  = REG(A1);\n\tdwarf_regs[2]  = REG(A2);\n\tdwarf_regs[3]  = REG(A3);\n\tdwarf_regs[4]  = REG(REGS0);\n\tdwarf_regs[5]  = REG(REGS1);\n\tdwarf_regs[6]  = REG(REGS2);\n\tdwarf_regs[7]  = REG(REGS3);\n\tdwarf_regs[8]  = REG(REGS4);\n\tdwarf_regs[9]  = REG(REGS5);\n\tdwarf_regs[10] = REG(REGS6);\n\tdwarf_regs[11] = REG(REGS7);\n\tdwarf_regs[12] = REG(REGS8);\n\tdwarf_regs[13] = REG(REGS9);\n\tdwarf_regs[14] = REG(SP);\n\tdwarf_regs[15] = REG(LR);\n\tdwarf_regs[16] = REG(EXREGS0);\n\tdwarf_regs[17] = REG(EXREGS1);\n\tdwarf_regs[18] = REG(EXREGS2);\n\tdwarf_regs[19] = REG(EXREGS3);\n\tdwarf_regs[20] = REG(EXREGS4);\n\tdwarf_regs[21] = REG(EXREGS5);\n\tdwarf_regs[22] = REG(EXREGS6);\n\tdwarf_regs[23] = REG(EXREGS7);\n\tdwarf_regs[24] = REG(EXREGS8);\n\tdwarf_regs[25] = REG(EXREGS9);\n\tdwarf_regs[26] = REG(EXREGS10);\n\tdwarf_regs[27] = REG(EXREGS11);\n\tdwarf_regs[28] = REG(EXREGS12);\n\tdwarf_regs[29] = REG(EXREGS13);\n\tdwarf_regs[30] = REG(EXREGS14);\n\tdwarf_regs[31] = REG(TLS);\n\tdwarf_regs[32] = REG(PC);\n#else\n\tdwarf_regs[0]  = REG(SP);\n\tdwarf_regs[1]  = REG(REGS9);\n\tdwarf_regs[2]  = REG(A0);\n\tdwarf_regs[3]  = REG(A1);\n\tdwarf_regs[4]  = REG(A2);\n\tdwarf_regs[5]  = REG(A3);\n\tdwarf_regs[6]  = REG(REGS0);\n\tdwarf_regs[7]  = REG(REGS1);\n\tdwarf_regs[8]  = REG(REGS2);\n\tdwarf_regs[9]  = REG(REGS3);\n\tdwarf_regs[10] = REG(REGS4);\n\tdwarf_regs[11] = REG(REGS5);\n\tdwarf_regs[12] = REG(REGS6);\n\tdwarf_regs[13] = REG(REGS7);\n\tdwarf_regs[14] = REG(REGS8);\n\tdwarf_regs[15] = REG(LR);\n#endif\n\tdwfl_thread_state_register_pc(thread, REG(PC));\n\n\treturn dwfl_thread_state_registers(thread, 0, PERF_REG_CSKY_MAX,\n\t\t\t\t\t   dwarf_regs);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}