{
  "module_name": "unwind-libdw.c",
  "hash_id": "999e3a7c58fedd4c1e063a93fd5ec134143415cd414ff3511af3f950e7ac8369",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/arch/arm64/util/unwind-libdw.c",
  "human_readable_source": "\n#include <elfutils/libdwfl.h>\n#include \"perf_regs.h\"\n#include \"../../../util/unwind-libdw.h\"\n#include \"../../../util/perf_regs.h\"\n#include \"../../../util/sample.h\"\n\nbool libdw__arch_set_initial_registers(Dwfl_Thread *thread, void *arg)\n{\n\tstruct unwind_info *ui = arg;\n\tstruct regs_dump *user_regs = &ui->sample->user_regs;\n\tDwarf_Word dwarf_regs[PERF_REG_ARM64_MAX], dwarf_pc;\n\n#define REG(r) ({\t\t\t\t\t\t\\\n\tDwarf_Word val = 0;\t\t\t\t\t\\\n\tperf_reg_value(&val, user_regs, PERF_REG_ARM64_##r);\t\\\n\tval;\t\t\t\t\t\t\t\\\n})\n\n\tdwarf_regs[0]  = REG(X0);\n\tdwarf_regs[1]  = REG(X1);\n\tdwarf_regs[2]  = REG(X2);\n\tdwarf_regs[3]  = REG(X3);\n\tdwarf_regs[4]  = REG(X4);\n\tdwarf_regs[5]  = REG(X5);\n\tdwarf_regs[6]  = REG(X6);\n\tdwarf_regs[7]  = REG(X7);\n\tdwarf_regs[8]  = REG(X8);\n\tdwarf_regs[9]  = REG(X9);\n\tdwarf_regs[10] = REG(X10);\n\tdwarf_regs[11] = REG(X11);\n\tdwarf_regs[12] = REG(X12);\n\tdwarf_regs[13] = REG(X13);\n\tdwarf_regs[14] = REG(X14);\n\tdwarf_regs[15] = REG(X15);\n\tdwarf_regs[16] = REG(X16);\n\tdwarf_regs[17] = REG(X17);\n\tdwarf_regs[18] = REG(X18);\n\tdwarf_regs[19] = REG(X19);\n\tdwarf_regs[20] = REG(X20);\n\tdwarf_regs[21] = REG(X21);\n\tdwarf_regs[22] = REG(X22);\n\tdwarf_regs[23] = REG(X23);\n\tdwarf_regs[24] = REG(X24);\n\tdwarf_regs[25] = REG(X25);\n\tdwarf_regs[26] = REG(X26);\n\tdwarf_regs[27] = REG(X27);\n\tdwarf_regs[28] = REG(X28);\n\tdwarf_regs[29] = REG(X29);\n\tdwarf_regs[30] = REG(LR);\n\tdwarf_regs[31] = REG(SP);\n\n\tif (!dwfl_thread_state_registers(thread, 0, PERF_REG_ARM64_MAX,\n\t\t\t\t\t dwarf_regs))\n\t\treturn false;\n\n\tdwarf_pc = REG(PC);\n\tdwfl_thread_state_register_pc(thread, dwarf_pc);\n\n\treturn true;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}