{
  "module_name": "instructions.c",
  "hash_id": "dfde2b55c02ac2c7e38ff316d17fba741c52458236e7f0770beb5a082f0cd5f9",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/arch/sparc/annotate/instructions.c",
  "human_readable_source": "\n\nstatic int is_branch_cond(const char *cond)\n{\n\tif (cond[0] == '\\0')\n\t\treturn 1;\n\n\tif (cond[0] == 'a' && cond[1] == '\\0')\n\t\treturn 1;\n\n\tif (cond[0] == 'c' &&\n\t    (cond[1] == 'c' || cond[1] == 's') &&\n\t    cond[2] == '\\0')\n\t\treturn 1;\n\n\tif (cond[0] == 'e' &&\n\t    (cond[1] == '\\0' ||\n\t     (cond[1] == 'q' && cond[2] == '\\0')))\n\t\treturn 1;\n\n\tif (cond[0] == 'g' &&\n\t    (cond[1] == '\\0' ||\n\t     (cond[1] == 't' && cond[2] == '\\0') ||\n\t     (cond[1] == 'e' && cond[2] == '\\0') ||\n\t     (cond[1] == 'e' && cond[2] == 'u' && cond[3] == '\\0')))\n\t\treturn 1;\n\n\tif (cond[0] == 'l' &&\n\t    (cond[1] == '\\0' ||\n\t     (cond[1] == 't' && cond[2] == '\\0') ||\n\t     (cond[1] == 'u' && cond[2] == '\\0') ||\n\t     (cond[1] == 'e' && cond[2] == '\\0') ||\n\t     (cond[1] == 'e' && cond[2] == 'u' && cond[3] == '\\0')))\n\t\treturn 1;\n\n\tif (cond[0] == 'n' &&\n\t    (cond[1] == '\\0' ||\n\t     (cond[1] == 'e' && cond[2] == '\\0') ||\n\t     (cond[1] == 'z' && cond[2] == '\\0') ||\n\t     (cond[1] == 'e' && cond[2] == 'g' && cond[3] == '\\0')))\n\t\treturn 1;\n\n\tif (cond[0] == 'b' &&\n\t    cond[1] == 'p' &&\n\t    cond[2] == 'o' &&\n\t    cond[3] == 's' &&\n\t    cond[4] == '\\0')\n\t\treturn 1;\n\n\tif (cond[0] == 'v' &&\n\t    (cond[1] == 'c' || cond[1] == 's') &&\n\t    cond[2] == '\\0')\n\t\treturn 1;\n\n\tif (cond[0] == 'b' &&\n\t    cond[1] == 'z' &&\n\t    cond[2] == '\\0')\n\t\treturn 1;\n\n\treturn 0;\n}\n\nstatic int is_branch_reg_cond(const char *cond)\n{\n\tif ((cond[0] == 'n' || cond[0] == 'l') &&\n\t    cond[1] == 'z' &&\n\t    cond[2] == '\\0')\n\t\treturn 1;\n\n\tif (cond[0] == 'z' &&\n\t    cond[1] == '\\0')\n\t\treturn 1;\n\n\tif ((cond[0] == 'g' || cond[0] == 'l') &&\n\t    cond[1] == 'e' &&\n\t    cond[2] == 'z' &&\n\t    cond[3] == '\\0')\n\t\treturn 1;\n\n\tif (cond[0] == 'g' &&\n\t    cond[1] == 'z' &&\n\t    cond[2] == '\\0')\n\t\treturn 1;\n\n\treturn 0;\n}\n\nstatic int is_branch_float_cond(const char *cond)\n{\n\tif (cond[0] == '\\0')\n\t\treturn 1;\n\n\tif ((cond[0] == 'a' || cond[0] == 'e' ||\n\t     cond[0] == 'z' || cond[0] == 'g' ||\n\t     cond[0] == 'l' || cond[0] == 'n' ||\n\t     cond[0] == 'o' || cond[0] == 'u') &&\n\t    cond[1] == '\\0')\n\t\treturn 1;\n\n\tif (((cond[0] == 'g' && cond[1] == 'e') ||\n\t     (cond[0] == 'l' && (cond[1] == 'e' ||\n\t\t\t\t cond[1] == 'g')) ||\n\t     (cond[0] == 'n' && (cond[1] == 'e' ||\n\t\t\t\t cond[1] == 'z')) ||\n\t     (cond[0] == 'u' && (cond[1] == 'e' ||\n\t\t\t\t cond[1] == 'g' ||\n\t\t\t\t cond[1] == 'l'))) &&\n\t    cond[2] == '\\0')\n\t\treturn 1;\n\n\tif (cond[0] == 'u' &&\n\t    (cond[1] == 'g' || cond[1] == 'l') &&\n\t    cond[2] == 'e' &&\n\t    cond[3] == '\\0')\n\t\treturn 1;\n\n\treturn 0;\n}\n\nstatic struct ins_ops *sparc__associate_instruction_ops(struct arch *arch, const char *name)\n{\n\tstruct ins_ops *ops = NULL;\n\n\tif (!strcmp(name, \"call\") ||\n\t    !strcmp(name, \"jmp\") ||\n\t    !strcmp(name, \"jmpl\")) {\n\t\tops = &call_ops;\n\t} else if (!strcmp(name, \"ret\") ||\n\t\t   !strcmp(name, \"retl\") ||\n\t\t   !strcmp(name, \"return\")) {\n\t\tops = &ret_ops;\n\t} else if (!strcmp(name, \"mov\")) {\n\t\tops = &mov_ops;\n\t} else {\n\t\tif (name[0] == 'c' &&\n\t\t    (name[1] == 'w' || name[1] == 'x'))\n\t\t\tname += 2;\n\n\t\tif (name[0] == 'b') {\n\t\t\tconst char *cond = name + 1;\n\n\t\t\tif (cond[0] == 'r') {\n\t\t\t\tif (is_branch_reg_cond(cond + 1))\n\t\t\t\t\tops = &jump_ops;\n\t\t\t} else if (is_branch_cond(cond)) {\n\t\t\t\tops = &jump_ops;\n\t\t\t}\n\t\t} else if (name[0] == 'f' && name[1] == 'b') {\n\t\t\tif (is_branch_float_cond(name + 2))\n\t\t\t\tops = &jump_ops;\n\t\t}\n\t}\n\n\tif (ops)\n\t\tarch__associate_ins_ops(arch, name, ops);\n\n\treturn ops;\n}\n\nstatic int sparc__annotate_init(struct arch *arch, char *cpuid __maybe_unused)\n{\n\tif (!arch->initialized) {\n\t\tarch->initialized = true;\n\t\tarch->associate_instruction_ops = sparc__associate_instruction_ops;\n\t\tarch->objdump.comment_char = '#';\n\t}\n\n\treturn 0;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}