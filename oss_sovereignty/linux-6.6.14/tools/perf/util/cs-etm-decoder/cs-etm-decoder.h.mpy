{
  "module_name": "cs-etm-decoder.h",
  "hash_id": "8d1bd3220642028c9bdd13d6143f55945a6ac20b7fa530e9d0a1fbe9d2853333",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/util/cs-etm-decoder/cs-etm-decoder.h",
  "human_readable_source": " \n\n#ifndef INCLUDE__CS_ETM_DECODER_H__\n#define INCLUDE__CS_ETM_DECODER_H__\n\n#include <linux/types.h>\n#include <opencsd/ocsd_if_types.h>\n#include <stdio.h>\n\nstruct cs_etm_decoder;\nstruct cs_etm_packet;\nstruct cs_etm_packet_queue;\n\nstruct cs_etm_queue;\n\ntypedef u32 (*cs_etm_mem_cb_type)(struct cs_etm_queue *, u8, u64, size_t, u8 *,\n\t\t\t\t  const ocsd_mem_space_acc_t);\n\nstruct cs_etmv3_trace_params {\n\tu32 reg_ctrl;\n\tu32 reg_trc_id;\n\tu32 reg_ccer;\n\tu32 reg_idr;\n};\n\nstruct cs_etmv4_trace_params {\n\tu32 reg_idr0;\n\tu32 reg_idr1;\n\tu32 reg_idr2;\n\tu32 reg_idr8;\n\tu32 reg_configr;\n\tu32 reg_traceidr;\n};\n\nstruct cs_ete_trace_params {\n\tu32 reg_idr0;\n\tu32 reg_idr1;\n\tu32 reg_idr2;\n\tu32 reg_idr8;\n\tu32 reg_configr;\n\tu32 reg_traceidr;\n\tu32 reg_devarch;\n};\n\nstruct cs_etm_trace_params {\n\tint protocol;\n\tunion {\n\t\tstruct cs_etmv3_trace_params etmv3;\n\t\tstruct cs_etmv4_trace_params etmv4;\n\t\tstruct cs_ete_trace_params ete;\n\t};\n};\n\nstruct cs_etm_decoder_params {\n\tint operation;\n\tvoid (*packet_printer)(const char *msg);\n\tcs_etm_mem_cb_type mem_acc_cb;\n\tbool formatted;\n\tbool fsyncs;\n\tbool hsyncs;\n\tbool frame_aligned;\n\tvoid *data;\n};\n\n \nenum {\n\tCS_ETM_PROTO_ETMV3 = 1,\n\tCS_ETM_PROTO_ETMV4i,\n\tCS_ETM_PROTO_ETMV4d,\n\tCS_ETM_PROTO_PTM,\n\tCS_ETM_PROTO_ETE\n};\n\nenum cs_etm_decoder_operation {\n\tCS_ETM_OPERATION_PRINT = 1,\n\tCS_ETM_OPERATION_DECODE,\n\tCS_ETM_OPERATION_MAX,\n};\n\nint cs_etm_decoder__process_data_block(struct cs_etm_decoder *decoder,\n\t\t\t\t       u64 indx, const u8 *buf,\n\t\t\t\t       size_t len, size_t *consumed);\n\nstruct cs_etm_decoder *\ncs_etm_decoder__new(int num_cpu,\n\t\t    struct cs_etm_decoder_params *d_params,\n\t\t    struct cs_etm_trace_params t_params[]);\n\nvoid cs_etm_decoder__free(struct cs_etm_decoder *decoder);\n\nint cs_etm_decoder__add_mem_access_cb(struct cs_etm_decoder *decoder,\n\t\t\t\t      u64 start, u64 end,\n\t\t\t\t      cs_etm_mem_cb_type cb_func);\n\nint cs_etm_decoder__get_packet(struct cs_etm_packet_queue *packet_queue,\n\t\t\t       struct cs_etm_packet *packet);\n\nint cs_etm_decoder__reset(struct cs_etm_decoder *decoder);\nconst char *cs_etm_decoder__get_name(struct cs_etm_decoder *decoder);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}