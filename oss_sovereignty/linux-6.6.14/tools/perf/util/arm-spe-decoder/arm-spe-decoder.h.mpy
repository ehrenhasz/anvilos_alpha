{
  "module_name": "arm-spe-decoder.h",
  "hash_id": "4bcb238feb79f901c690ceb964b8009eb544890306d68f2c3180b81beaf46eac",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/util/arm-spe-decoder/arm-spe-decoder.h",
  "human_readable_source": " \n \n\n#ifndef INCLUDE__ARM_SPE_DECODER_H__\n#define INCLUDE__ARM_SPE_DECODER_H__\n\n#include <stdbool.h>\n#include <stddef.h>\n#include <stdint.h>\n\n#include \"arm-spe-pkt-decoder.h\"\n\nenum arm_spe_sample_type {\n\tARM_SPE_L1D_ACCESS\t\t= 1 << 0,\n\tARM_SPE_L1D_MISS\t\t= 1 << 1,\n\tARM_SPE_LLC_ACCESS\t\t= 1 << 2,\n\tARM_SPE_LLC_MISS\t\t= 1 << 3,\n\tARM_SPE_TLB_ACCESS\t\t= 1 << 4,\n\tARM_SPE_TLB_MISS\t\t= 1 << 5,\n\tARM_SPE_BRANCH_MISS\t\t= 1 << 6,\n\tARM_SPE_REMOTE_ACCESS\t\t= 1 << 7,\n\tARM_SPE_SVE_PARTIAL_PRED\t= 1 << 8,\n\tARM_SPE_SVE_EMPTY_PRED\t\t= 1 << 9,\n};\n\nenum arm_spe_op_type {\n\t \n\tARM_SPE_OP_OTHER\t= 1 << 0,\n\tARM_SPE_OP_LDST\t\t= 1 << 1,\n\tARM_SPE_OP_BRANCH_ERET\t= 1 << 2,\n\n\t \n\tARM_SPE_OP_SVE_OTHER\t\t= 1 << 16,\n\tARM_SPE_OP_SVE_FP\t\t= 1 << 17,\n\tARM_SPE_OP_SVE_PRED_OTHER\t= 1 << 18,\n\n\t \n\tARM_SPE_OP_LD\t\t\t= 1 << 16,\n\tARM_SPE_OP_ST\t\t\t= 1 << 17,\n\tARM_SPE_OP_ATOMIC\t\t= 1 << 18,\n\tARM_SPE_OP_EXCL\t\t\t= 1 << 19,\n\tARM_SPE_OP_AR\t\t\t= 1 << 20,\n\tARM_SPE_OP_SIMD_FP\t\t= 1 << 21,\n\tARM_SPE_OP_GP_REG\t\t= 1 << 22,\n\tARM_SPE_OP_UNSPEC_REG\t\t= 1 << 23,\n\tARM_SPE_OP_NV_SYSREG\t\t= 1 << 24,\n\tARM_SPE_OP_SVE_LDST\t\t= 1 << 25,\n\tARM_SPE_OP_SVE_PRED_LDST\t= 1 << 26,\n\tARM_SPE_OP_SVE_SG\t\t= 1 << 27,\n\n\t \n\tARM_SPE_OP_BR_COND\t= 1 << 16,\n\tARM_SPE_OP_BR_INDIRECT\t= 1 << 17,\n};\n\nenum arm_spe_neoverse_data_source {\n\tARM_SPE_NV_L1D\t\t = 0x0,\n\tARM_SPE_NV_L2\t\t = 0x8,\n\tARM_SPE_NV_PEER_CORE\t = 0x9,\n\tARM_SPE_NV_LOCAL_CLUSTER = 0xa,\n\tARM_SPE_NV_SYS_CACHE\t = 0xb,\n\tARM_SPE_NV_PEER_CLUSTER\t = 0xc,\n\tARM_SPE_NV_REMOTE\t = 0xd,\n\tARM_SPE_NV_DRAM\t\t = 0xe,\n};\n\nstruct arm_spe_record {\n\tenum arm_spe_sample_type type;\n\tint err;\n\tu32 op;\n\tu32 latency;\n\tu64 from_ip;\n\tu64 to_ip;\n\tu64 timestamp;\n\tu64 virt_addr;\n\tu64 phys_addr;\n\tu64 context_id;\n\tu16 source;\n};\n\nstruct arm_spe_insn;\n\nstruct arm_spe_buffer {\n\tconst unsigned char *buf;\n\tsize_t len;\n\tu64 offset;\n\tu64 trace_nr;\n};\n\nstruct arm_spe_params {\n\tint (*get_trace)(struct arm_spe_buffer *buffer, void *data);\n\tvoid *data;\n};\n\nstruct arm_spe_decoder {\n\tint (*get_trace)(struct arm_spe_buffer *buffer, void *data);\n\tvoid *data;\n\tstruct arm_spe_record record;\n\n\tconst unsigned char *buf;\n\tsize_t len;\n\n\tstruct arm_spe_pkt packet;\n};\n\nstruct arm_spe_decoder *arm_spe_decoder_new(struct arm_spe_params *params);\nvoid arm_spe_decoder_free(struct arm_spe_decoder *decoder);\n\nint arm_spe_decode(struct arm_spe_decoder *decoder);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}