{
  "module_name": "event.h",
  "hash_id": "d9c87b03623b9299532290db8940a269cc8c397df79f2523c431285299e8088b",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/util/event.h",
  "human_readable_source": " \n#ifndef __PERF_RECORD_H\n#define __PERF_RECORD_H\n \n#include <stdio.h>\n#include <linux/stddef.h>\n#include <perf/event.h>\n#include <linux/types.h>\n\nstruct dso;\nstruct machine;\nstruct perf_event_attr;\nstruct perf_sample;\n\n#ifdef __LP64__\n \n#define PRI_lu64 \"l\" PRIu64\n#define PRI_lx64 \"l\" PRIx64\n#define PRI_ld64 \"l\" PRId64\n#else\n#define PRI_lu64 PRIu64\n#define PRI_lx64 PRIx64\n#define PRI_ld64 PRId64\n#endif\n\n#define PERF_SAMPLE_MASK\t\t\t\t\\\n\t(PERF_SAMPLE_IP | PERF_SAMPLE_TID |\t\t\\\n\t PERF_SAMPLE_TIME | PERF_SAMPLE_ADDR |\t\t\\\n\tPERF_SAMPLE_ID | PERF_SAMPLE_STREAM_ID |\t\\\n\t PERF_SAMPLE_CPU | PERF_SAMPLE_PERIOD |\t\t\\\n\t PERF_SAMPLE_IDENTIFIER)\n\n \n#define PERF_SAMPLE_MAX_SIZE (1 << 16)\n\nstruct ip_callchain {\n\tu64 nr;\n\tu64 ips[];\n};\n\nstruct branch_stack;\n\nenum {\n\tPERF_IP_FLAG_BRANCH\t\t= 1ULL << 0,\n\tPERF_IP_FLAG_CALL\t\t= 1ULL << 1,\n\tPERF_IP_FLAG_RETURN\t\t= 1ULL << 2,\n\tPERF_IP_FLAG_CONDITIONAL\t= 1ULL << 3,\n\tPERF_IP_FLAG_SYSCALLRET\t\t= 1ULL << 4,\n\tPERF_IP_FLAG_ASYNC\t\t= 1ULL << 5,\n\tPERF_IP_FLAG_INTERRUPT\t\t= 1ULL << 6,\n\tPERF_IP_FLAG_TX_ABORT\t\t= 1ULL << 7,\n\tPERF_IP_FLAG_TRACE_BEGIN\t= 1ULL << 8,\n\tPERF_IP_FLAG_TRACE_END\t\t= 1ULL << 9,\n\tPERF_IP_FLAG_IN_TX\t\t= 1ULL << 10,\n\tPERF_IP_FLAG_VMENTRY\t\t= 1ULL << 11,\n\tPERF_IP_FLAG_VMEXIT\t\t= 1ULL << 12,\n\tPERF_IP_FLAG_INTR_DISABLE\t= 1ULL << 13,\n\tPERF_IP_FLAG_INTR_TOGGLE\t= 1ULL << 14,\n};\n\n#define PERF_IP_FLAG_CHARS \"bcrosyiABExghDt\"\n\n#define PERF_BRANCH_MASK\t\t(\\\n\tPERF_IP_FLAG_BRANCH\t\t|\\\n\tPERF_IP_FLAG_CALL\t\t|\\\n\tPERF_IP_FLAG_RETURN\t\t|\\\n\tPERF_IP_FLAG_CONDITIONAL\t|\\\n\tPERF_IP_FLAG_SYSCALLRET\t\t|\\\n\tPERF_IP_FLAG_ASYNC\t\t|\\\n\tPERF_IP_FLAG_INTERRUPT\t\t|\\\n\tPERF_IP_FLAG_TX_ABORT\t\t|\\\n\tPERF_IP_FLAG_TRACE_BEGIN\t|\\\n\tPERF_IP_FLAG_TRACE_END\t\t|\\\n\tPERF_IP_FLAG_VMENTRY\t\t|\\\n\tPERF_IP_FLAG_VMEXIT)\n\n#define PERF_MEM_DATA_SRC_NONE \\\n\t(PERF_MEM_S(OP, NA) |\\\n\t PERF_MEM_S(LVL, NA) |\\\n\t PERF_MEM_S(SNOOP, NA) |\\\n\t PERF_MEM_S(LOCK, NA) |\\\n\t PERF_MEM_S(TLB, NA) |\\\n\t PERF_MEM_S(LVLNUM, NA))\n\n \n#define PERF_TYPE_SYNTH\t\t(INT_MAX + 1U)\n\n \nenum perf_synth_id {\n\tPERF_SYNTH_INTEL_PTWRITE,\n\tPERF_SYNTH_INTEL_MWAIT,\n\tPERF_SYNTH_INTEL_PWRE,\n\tPERF_SYNTH_INTEL_EXSTOP,\n\tPERF_SYNTH_INTEL_PWRX,\n\tPERF_SYNTH_INTEL_CBR,\n\tPERF_SYNTH_INTEL_PSB,\n\tPERF_SYNTH_INTEL_EVT,\n\tPERF_SYNTH_INTEL_IFLAG_CHG,\n};\n\n \n\nstruct perf_synth_intel_ptwrite {\n\tu32 padding;\n\tunion {\n\t\tstruct {\n\t\t\tu32\tip\t\t:  1,\n\t\t\t\treserved\t: 31;\n\t\t};\n\t\tu32\tflags;\n\t};\n\tu64\tpayload;\n};\n\nstruct perf_synth_intel_mwait {\n\tu32 padding;\n\tu32 reserved;\n\tunion {\n\t\tstruct {\n\t\t\tu64\thints\t\t:  8,\n\t\t\t\treserved1\t: 24,\n\t\t\t\textensions\t:  2,\n\t\t\t\treserved2\t: 30;\n\t\t};\n\t\tu64\tpayload;\n\t};\n};\n\nstruct perf_synth_intel_pwre {\n\tu32 padding;\n\tu32 reserved;\n\tunion {\n\t\tstruct {\n\t\t\tu64\treserved1\t:  7,\n\t\t\t\thw\t\t:  1,\n\t\t\t\tsubcstate\t:  4,\n\t\t\t\tcstate\t\t:  4,\n\t\t\t\treserved2\t: 48;\n\t\t};\n\t\tu64\tpayload;\n\t};\n};\n\nstruct perf_synth_intel_exstop {\n\tu32 padding;\n\tunion {\n\t\tstruct {\n\t\t\tu32\tip\t\t:  1,\n\t\t\t\treserved\t: 31;\n\t\t};\n\t\tu32\tflags;\n\t};\n};\n\nstruct perf_synth_intel_pwrx {\n\tu32 padding;\n\tu32 reserved;\n\tunion {\n\t\tstruct {\n\t\t\tu64\tdeepest_cstate\t:  4,\n\t\t\t\tlast_cstate\t:  4,\n\t\t\t\twake_reason\t:  4,\n\t\t\t\treserved1\t: 52;\n\t\t};\n\t\tu64\tpayload;\n\t};\n};\n\nstruct perf_synth_intel_cbr {\n\tu32 padding;\n\tunion {\n\t\tstruct {\n\t\t\tu32\tcbr\t\t:  8,\n\t\t\t\treserved1\t:  8,\n\t\t\t\tmax_nonturbo\t:  8,\n\t\t\t\treserved2\t:  8;\n\t\t};\n\t\tu32\tflags;\n\t};\n\tu32 freq;\n\tu32 reserved3;\n};\n\nstruct perf_synth_intel_psb {\n\tu32 padding;\n\tu32 reserved;\n\tu64 offset;\n};\n\nstruct perf_synth_intel_evd {\n\tunion {\n\t\tstruct {\n\t\t\tu8\tevd_type;\n\t\t\tu8\treserved[7];\n\t\t};\n\t\tu64\tet;\n\t};\n\tu64\tpayload;\n};\n\n \nstruct perf_synth_intel_evt {\n\tu32 padding;\n\tunion {\n\t\tstruct {\n\t\t\tu32\ttype\t\t:  5,\n\t\t\t\treserved\t:  2,\n\t\t\t\tip\t\t:  1,\n\t\t\t\tvector\t\t:  8,\n\t\t\t\tevd_cnt\t\t: 16;\n\t\t};\n\t\tu32\tcfe;\n\t};\n\tstruct perf_synth_intel_evd evd[0];\n};\n\nstruct perf_synth_intel_iflag_chg {\n\tu32 padding;\n\tunion {\n\t\tstruct {\n\t\t\tu32\tiflag\t\t:  1,\n\t\t\t\tvia_branch\t:  1;\n\t\t};\n\t\tu32\tflags;\n\t};\n\tu64\tbranch_ip;  \n};\n\nstatic inline void *perf_synth__raw_data(void *p)\n{\n\treturn p + 4;\n}\n\n#define perf_synth__raw_size(d) (sizeof(d) - 4)\n\n#define perf_sample__bad_synth_size(s, d) ((s)->raw_size < sizeof(d) - 4)\n\nenum {\n\tPERF_STAT_ROUND_TYPE__INTERVAL\t= 0,\n\tPERF_STAT_ROUND_TYPE__FINAL\t= 1,\n};\n\nvoid perf_event__print_totals(void);\n\nstruct perf_cpu_map;\nstruct perf_record_stat_config;\nstruct perf_stat_config;\nstruct perf_tool;\n\nvoid perf_event__read_stat_config(struct perf_stat_config *config,\n\t\t\t\t  struct perf_record_stat_config *event);\n\nint perf_event__process_comm(struct perf_tool *tool,\n\t\t\t     union perf_event *event,\n\t\t\t     struct perf_sample *sample,\n\t\t\t     struct machine *machine);\nint perf_event__process_lost(struct perf_tool *tool,\n\t\t\t     union perf_event *event,\n\t\t\t     struct perf_sample *sample,\n\t\t\t     struct machine *machine);\nint perf_event__process_lost_samples(struct perf_tool *tool,\n\t\t\t\t     union perf_event *event,\n\t\t\t\t     struct perf_sample *sample,\n\t\t\t\t     struct machine *machine);\nint perf_event__process_aux(struct perf_tool *tool,\n\t\t\t    union perf_event *event,\n\t\t\t    struct perf_sample *sample,\n\t\t\t    struct machine *machine);\nint perf_event__process_itrace_start(struct perf_tool *tool,\n\t\t\t\t     union perf_event *event,\n\t\t\t\t     struct perf_sample *sample,\n\t\t\t\t     struct machine *machine);\nint perf_event__process_aux_output_hw_id(struct perf_tool *tool,\n\t\t\t\t\t union perf_event *event,\n\t\t\t\t\t struct perf_sample *sample,\n\t\t\t\t\t struct machine *machine);\nint perf_event__process_switch(struct perf_tool *tool,\n\t\t\t       union perf_event *event,\n\t\t\t       struct perf_sample *sample,\n\t\t\t       struct machine *machine);\nint perf_event__process_namespaces(struct perf_tool *tool,\n\t\t\t\t   union perf_event *event,\n\t\t\t\t   struct perf_sample *sample,\n\t\t\t\t   struct machine *machine);\nint perf_event__process_cgroup(struct perf_tool *tool,\n\t\t\t       union perf_event *event,\n\t\t\t       struct perf_sample *sample,\n\t\t\t       struct machine *machine);\nint perf_event__process_mmap(struct perf_tool *tool,\n\t\t\t     union perf_event *event,\n\t\t\t     struct perf_sample *sample,\n\t\t\t     struct machine *machine);\nint perf_event__process_mmap2(struct perf_tool *tool,\n\t\t\t     union perf_event *event,\n\t\t\t     struct perf_sample *sample,\n\t\t\t     struct machine *machine);\nint perf_event__process_fork(struct perf_tool *tool,\n\t\t\t     union perf_event *event,\n\t\t\t     struct perf_sample *sample,\n\t\t\t     struct machine *machine);\nint perf_event__process_exit(struct perf_tool *tool,\n\t\t\t     union perf_event *event,\n\t\t\t     struct perf_sample *sample,\n\t\t\t     struct machine *machine);\nint perf_event__process_ksymbol(struct perf_tool *tool,\n\t\t\t\tunion perf_event *event,\n\t\t\t\tstruct perf_sample *sample,\n\t\t\t\tstruct machine *machine);\nint perf_event__process_bpf(struct perf_tool *tool,\n\t\t\t    union perf_event *event,\n\t\t\t    struct perf_sample *sample,\n\t\t\t    struct machine *machine);\nint perf_event__process_text_poke(struct perf_tool *tool,\n\t\t\t\t  union perf_event *event,\n\t\t\t\t  struct perf_sample *sample,\n\t\t\t\t  struct machine *machine);\nint perf_event__process(struct perf_tool *tool,\n\t\t\tunion perf_event *event,\n\t\t\tstruct perf_sample *sample,\n\t\t\tstruct machine *machine);\n\nbool is_bts_event(struct perf_event_attr *attr);\nbool sample_addr_correlates_sym(struct perf_event_attr *attr);\n\nconst char *perf_event__name(unsigned int id);\n\nsize_t perf_event__fprintf_comm(union perf_event *event, FILE *fp);\nsize_t perf_event__fprintf_mmap(union perf_event *event, FILE *fp);\nsize_t perf_event__fprintf_mmap2(union perf_event *event, FILE *fp);\nsize_t perf_event__fprintf_task(union perf_event *event, FILE *fp);\nsize_t perf_event__fprintf_aux(union perf_event *event, FILE *fp);\nsize_t perf_event__fprintf_itrace_start(union perf_event *event, FILE *fp);\nsize_t perf_event__fprintf_aux_output_hw_id(union perf_event *event, FILE *fp);\nsize_t perf_event__fprintf_switch(union perf_event *event, FILE *fp);\nsize_t perf_event__fprintf_thread_map(union perf_event *event, FILE *fp);\nsize_t perf_event__fprintf_cpu_map(union perf_event *event, FILE *fp);\nsize_t perf_event__fprintf_namespaces(union perf_event *event, FILE *fp);\nsize_t perf_event__fprintf_cgroup(union perf_event *event, FILE *fp);\nsize_t perf_event__fprintf_ksymbol(union perf_event *event, FILE *fp);\nsize_t perf_event__fprintf_bpf(union perf_event *event, FILE *fp);\nsize_t perf_event__fprintf_text_poke(union perf_event *event, struct machine *machine,FILE *fp);\nsize_t perf_event__fprintf(union perf_event *event, struct machine *machine, FILE *fp);\n\nint kallsyms__get_function_start(const char *kallsyms_filename,\n\t\t\t\t const char *symbol_name, u64 *addr);\nint kallsyms__get_symbol_start(const char *kallsyms_filename,\n\t\t\t       const char *symbol_name, u64 *addr);\n\nvoid event_attr_init(struct perf_event_attr *attr);\n\nint perf_event_paranoid(void);\nbool perf_event_paranoid_check(int max_level);\n\nextern int sysctl_perf_event_max_stack;\nextern int sysctl_perf_event_max_contexts_per_stack;\nextern unsigned int proc_map_timeout;\n\n#define PAGE_SIZE_NAME_LEN\t32\nchar *get_page_size_name(u64 size, char *str);\n\nvoid arch_perf_parse_sample_weight(struct perf_sample *data, const __u64 *array, u64 type);\nvoid arch_perf_synthesize_sample_weight(const struct perf_sample *data, __u64 *array, u64 type);\nconst char *arch_perf_header_entry(const char *se_header);\nint arch_support_sort_key(const char *sort_key);\n\nstatic inline bool perf_event_header__cpumode_is_guest(u8 cpumode)\n{\n\treturn cpumode == PERF_RECORD_MISC_GUEST_KERNEL ||\n\t       cpumode == PERF_RECORD_MISC_GUEST_USER;\n}\n\nstatic inline bool perf_event_header__misc_is_guest(u16 misc)\n{\n\treturn perf_event_header__cpumode_is_guest(misc & PERF_RECORD_MISC_CPUMODE_MASK);\n}\n\nstatic inline bool perf_event_header__is_guest(const struct perf_event_header *header)\n{\n\treturn perf_event_header__misc_is_guest(header->misc);\n}\n\nstatic inline bool perf_event__is_guest(const union perf_event *event)\n{\n\treturn perf_event_header__is_guest(&event->header);\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}