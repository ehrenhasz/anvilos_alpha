{
  "module_name": "parse-events.h",
  "hash_id": "c0206d419b3011989ddedc06957eec5e18ad8e2e890b2a2c424934764a138560",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/util/parse-events.h",
  "human_readable_source": " \n#ifndef __PERF_PARSE_EVENTS_H\n#define __PERF_PARSE_EVENTS_H\n \n\n#include <linux/list.h>\n#include <stdbool.h>\n#include <linux/types.h>\n#include <linux/perf_event.h>\n#include <stdio.h>\n#include <string.h>\n\nstruct evsel;\nstruct evlist;\nstruct parse_events_error;\n\nstruct option;\nstruct perf_pmu;\nstruct strbuf;\n\nconst char *event_type(int type);\n\n \nstruct parse_events_option_args {\n\tstruct evlist **evlistp;\n\tconst char *pmu_filter;\n};\nint parse_events_option(const struct option *opt, const char *str, int unset);\nint parse_events_option_new_evlist(const struct option *opt, const char *str, int unset);\n__attribute__((nonnull(1, 2, 4)))\nint __parse_events(struct evlist *evlist, const char *str, const char *pmu_filter,\n\t\t   struct parse_events_error *error, struct perf_pmu *fake_pmu,\n\t\t   bool warn_if_reordered);\n\n__attribute__((nonnull(1, 2, 3)))\nstatic inline int parse_events(struct evlist *evlist, const char *str,\n\t\t\t       struct parse_events_error *err)\n{\n\treturn __parse_events(evlist, str,  NULL, err,  NULL,\n\t\t\t       true);\n}\n\nint parse_event(struct evlist *evlist, const char *str);\n\nint parse_events_terms(struct list_head *terms, const char *str, FILE *input);\nint parse_filter(const struct option *opt, const char *str, int unset);\nint exclude_perf(const struct option *opt, const char *arg, int unset);\n\nenum parse_events__term_val_type {\n\tPARSE_EVENTS__TERM_TYPE_NUM,\n\tPARSE_EVENTS__TERM_TYPE_STR,\n};\n\nenum parse_events__term_type {\n\tPARSE_EVENTS__TERM_TYPE_USER,\n\tPARSE_EVENTS__TERM_TYPE_CONFIG,\n\tPARSE_EVENTS__TERM_TYPE_CONFIG1,\n\tPARSE_EVENTS__TERM_TYPE_CONFIG2,\n\tPARSE_EVENTS__TERM_TYPE_CONFIG3,\n\tPARSE_EVENTS__TERM_TYPE_NAME,\n\tPARSE_EVENTS__TERM_TYPE_SAMPLE_PERIOD,\n\tPARSE_EVENTS__TERM_TYPE_SAMPLE_FREQ,\n\tPARSE_EVENTS__TERM_TYPE_BRANCH_SAMPLE_TYPE,\n\tPARSE_EVENTS__TERM_TYPE_TIME,\n\tPARSE_EVENTS__TERM_TYPE_CALLGRAPH,\n\tPARSE_EVENTS__TERM_TYPE_STACKSIZE,\n\tPARSE_EVENTS__TERM_TYPE_NOINHERIT,\n\tPARSE_EVENTS__TERM_TYPE_INHERIT,\n\tPARSE_EVENTS__TERM_TYPE_MAX_STACK,\n\tPARSE_EVENTS__TERM_TYPE_MAX_EVENTS,\n\tPARSE_EVENTS__TERM_TYPE_NOOVERWRITE,\n\tPARSE_EVENTS__TERM_TYPE_OVERWRITE,\n\tPARSE_EVENTS__TERM_TYPE_DRV_CFG,\n\tPARSE_EVENTS__TERM_TYPE_PERCORE,\n\tPARSE_EVENTS__TERM_TYPE_AUX_OUTPUT,\n\tPARSE_EVENTS__TERM_TYPE_AUX_SAMPLE_SIZE,\n\tPARSE_EVENTS__TERM_TYPE_METRIC_ID,\n\tPARSE_EVENTS__TERM_TYPE_RAW,\n\tPARSE_EVENTS__TERM_TYPE_LEGACY_CACHE,\n\tPARSE_EVENTS__TERM_TYPE_HARDWARE,\n#define\t__PARSE_EVENTS__TERM_TYPE_NR (PARSE_EVENTS__TERM_TYPE_HARDWARE + 1)\n};\n\nstruct parse_events_term {\n\t \n\tstruct list_head list;\n\t \n\tconst char *config;\n\t \n\tunion {\n\t\tchar *str;\n\t\tu64  num;\n\t} val;\n\t \n\tenum parse_events__term_val_type type_val;\n\t \n\tenum parse_events__term_type type_term;\n\t \n\tint err_term;\n\t \n\tint err_val;\n\t \n\tbool used;\n\t \n\tbool weak;\n\t \n\tbool no_value;\n};\n\nstruct parse_events_error {\n\tint   num_errors;        \n\tint   idx;\t \n\tchar *str;       \n\tchar *help;\t \n\tint   first_idx; \n\tchar *first_str;\n\tchar *first_help;\n};\n\nstruct parse_events_state {\n\t \n\tstruct list_head\t   list;\n\t \n\tint\t\t\t   idx;\n\t \n\tstruct parse_events_error *error;\n\t \n\tstruct list_head\t  *terms;\n\t \n\tint\t\t\t   stoken;\n\t \n\tstruct perf_pmu\t\t  *fake_pmu;\n\t \n\tconst char\t\t  *pmu_filter;\n\t \n\tbool\t\t\t   match_legacy_cache_terms;\n\t \n\tbool\t\t\t   wild_card_pmus;\n};\n\nbool parse_events__filter_pmu(const struct parse_events_state *parse_state,\n\t\t\t      const struct perf_pmu *pmu);\nvoid parse_events__shrink_config_terms(void);\nint parse_events__is_hardcoded_term(struct parse_events_term *term);\nint parse_events_term__num(struct parse_events_term **term,\n\t\t\t   enum parse_events__term_type type_term,\n\t\t\t   const char *config, u64 num,\n\t\t\t   bool novalue,\n\t\t\t   void *loc_term, void *loc_val);\nint parse_events_term__str(struct parse_events_term **term,\n\t\t\t   enum parse_events__term_type type_term,\n\t\t\t   char *config, char *str,\n\t\t\t   void *loc_term, void *loc_val);\nint parse_events_term__term(struct parse_events_term **term,\n\t\t\t    enum parse_events__term_type term_lhs,\n\t\t\t    enum parse_events__term_type term_rhs,\n\t\t\t    void *loc_term, void *loc_val);\nint parse_events_term__clone(struct parse_events_term **new,\n\t\t\t     struct parse_events_term *term);\nvoid parse_events_term__delete(struct parse_events_term *term);\nvoid parse_events_terms__delete(struct list_head *terms);\nvoid parse_events_terms__purge(struct list_head *terms);\nint parse_events_term__to_strbuf(struct list_head *term_list, struct strbuf *sb);\nint parse_events__modifier_event(struct list_head *list, char *str, bool add);\nint parse_events__modifier_group(struct list_head *list, char *event_mod);\nint parse_events_name(struct list_head *list, const char *name);\nint parse_events_add_tracepoint(struct list_head *list, int *idx,\n\t\t\t\tconst char *sys, const char *event,\n\t\t\t\tstruct parse_events_error *error,\n\t\t\t\tstruct list_head *head_config, void *loc);\nint parse_events_add_numeric(struct parse_events_state *parse_state,\n\t\t\t     struct list_head *list,\n\t\t\t     u32 type, u64 config,\n\t\t\t     struct list_head *head_config,\n\t\t\t     bool wildcard);\nint parse_events_add_tool(struct parse_events_state *parse_state,\n\t\t\t  struct list_head *list,\n\t\t\t  int tool_event);\nint parse_events_add_cache(struct list_head *list, int *idx, const char *name,\n\t\t\t   struct parse_events_state *parse_state,\n\t\t\t   struct list_head *head_config);\nint parse_events__decode_legacy_cache(const char *name, int pmu_type, __u64 *config);\nint parse_events_add_breakpoint(struct parse_events_state *parse_state,\n\t\t\t\tstruct list_head *list,\n\t\t\t\tu64 addr, char *type, u64 len,\n\t\t\t\tstruct list_head *head_config);\nint parse_events_add_pmu(struct parse_events_state *parse_state,\n\t\t\t struct list_head *list, const char *name,\n\t\t\t struct list_head *head_config,\n\t\t\tbool auto_merge_stats, void *loc);\n\nstruct evsel *parse_events__add_event(int idx, struct perf_event_attr *attr,\n\t\t\t\t      const char *name, const char *metric_id,\n\t\t\t\t      struct perf_pmu *pmu);\n\nint parse_events_multi_pmu_add(struct parse_events_state *parse_state,\n\t\t\t       char *str,\n\t\t\t       struct list_head *head_config,\n\t\t\t       struct list_head **listp, void *loc);\n\nint parse_events_copy_term_list(struct list_head *old,\n\t\t\t\t struct list_head **new);\n\nvoid parse_events__set_leader(char *name, struct list_head *list);\nvoid parse_events_update_lists(struct list_head *list_event,\n\t\t\t       struct list_head *list_all);\nvoid parse_events_evlist_error(struct parse_events_state *parse_state,\n\t\t\t       int idx, const char *str);\n\nstruct event_symbol {\n\tconst char\t*symbol;\n\tconst char\t*alias;\n};\nextern struct event_symbol event_symbols_hw[];\nextern struct event_symbol event_symbols_sw[];\n\nchar *parse_events_formats_error_string(char *additional_terms);\n\nvoid parse_events_error__init(struct parse_events_error *err);\nvoid parse_events_error__exit(struct parse_events_error *err);\nvoid parse_events_error__handle(struct parse_events_error *err, int idx,\n\t\t\t\tchar *str, char *help);\nvoid parse_events_error__print(struct parse_events_error *err,\n\t\t\t       const char *event);\n\n#ifdef HAVE_LIBELF_SUPPORT\n \nstatic inline bool is_sdt_event(char *str)\n{\n\treturn (str[0] == '%' ||\n\t\t(!strncmp(str, \"sdt_\", 4) &&\n\t\t !!strchr(str, ':') && !strchr(str, '=')));\n}\n#else\nstatic inline bool is_sdt_event(char *str __maybe_unused)\n{\n\treturn false;\n}\n#endif  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}