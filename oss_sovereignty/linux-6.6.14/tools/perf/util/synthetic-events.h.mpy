{
  "module_name": "synthetic-events.h",
  "hash_id": "2884e2c17661c8f03c10ba8f90d46272bd2d0def3bbf966a3606db2a681ddc42",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/util/synthetic-events.h",
  "human_readable_source": " \n#ifndef __PERF_SYNTHETIC_EVENTS_H\n#define __PERF_SYNTHETIC_EVENTS_H\n\n#include <stdbool.h>\n#include <sys/types.h> \n#include <linux/compiler.h>\n#include <linux/types.h>\n#include <perf/cpumap.h>\n\nstruct auxtrace_record;\nstruct dso;\nstruct evlist;\nstruct evsel;\nstruct machine;\nstruct perf_counts_values;\nstruct perf_cpu_map;\nstruct perf_data;\nstruct perf_event_attr;\nstruct perf_event_mmap_page;\nstruct perf_sample;\nstruct perf_session;\nstruct perf_stat_config;\nstruct perf_thread_map;\nstruct perf_tool;\nstruct record_opts;\nstruct target;\n\nunion perf_event;\n\nenum perf_record_synth {\n\tPERF_SYNTH_TASK\t\t= 1 << 0,\n\tPERF_SYNTH_MMAP\t\t= 1 << 1,\n\tPERF_SYNTH_CGROUP\t= 1 << 2,\n\n\t \n\tPERF_SYNTH_MAX\t\t= 1 << 3,\n};\n#define PERF_SYNTH_ALL  (PERF_SYNTH_MAX - 1)\n\nint parse_synth_opt(char *str);\n\ntypedef int (*perf_event__handler_t)(struct perf_tool *tool, union perf_event *event,\n\t\t\t\t     struct perf_sample *sample, struct machine *machine);\n\nint perf_event__synthesize_attrs(struct perf_tool *tool, struct evlist *evlist, perf_event__handler_t process);\nint perf_event__synthesize_attr(struct perf_tool *tool, struct perf_event_attr *attr, u32 ids, u64 *id, perf_event__handler_t process);\nint perf_event__synthesize_build_id(struct perf_tool *tool, struct dso *pos, u16 misc, perf_event__handler_t process, struct machine *machine);\nint perf_event__synthesize_cpu_map(struct perf_tool *tool, const struct perf_cpu_map *cpus, perf_event__handler_t process, struct machine *machine);\nint perf_event__synthesize_event_update_cpus(struct perf_tool *tool, struct evsel *evsel, perf_event__handler_t process);\nint perf_event__synthesize_event_update_name(struct perf_tool *tool, struct evsel *evsel, perf_event__handler_t process);\nint perf_event__synthesize_event_update_scale(struct perf_tool *tool, struct evsel *evsel, perf_event__handler_t process);\nint perf_event__synthesize_event_update_unit(struct perf_tool *tool, struct evsel *evsel, perf_event__handler_t process);\nint perf_event__synthesize_extra_attr(struct perf_tool *tool, struct evlist *evsel_list, perf_event__handler_t process, bool is_pipe);\nint perf_event__synthesize_extra_kmaps(struct perf_tool *tool, perf_event__handler_t process, struct machine *machine);\nint perf_event__synthesize_features(struct perf_tool *tool, struct perf_session *session, struct evlist *evlist, perf_event__handler_t process);\nint perf_event__synthesize_id_index(struct perf_tool *tool, perf_event__handler_t process, struct evlist *evlist, struct machine *machine);\nint __perf_event__synthesize_id_index(struct perf_tool *tool, perf_event__handler_t process, struct evlist *evlist, struct machine *machine, size_t from);\nint perf_event__synthesize_id_sample(__u64 *array, u64 type, const struct perf_sample *sample);\nint perf_event__synthesize_kernel_mmap(struct perf_tool *tool, perf_event__handler_t process, struct machine *machine);\nint perf_event__synthesize_mmap_events(struct perf_tool *tool, union perf_event *event, pid_t pid, pid_t tgid, perf_event__handler_t process, struct machine *machine, bool mmap_data);\nint perf_event__synthesize_modules(struct perf_tool *tool, perf_event__handler_t process, struct machine *machine);\nint perf_event__synthesize_namespaces(struct perf_tool *tool, union perf_event *event, pid_t pid, pid_t tgid, perf_event__handler_t process, struct machine *machine);\nint perf_event__synthesize_cgroups(struct perf_tool *tool, perf_event__handler_t process, struct machine *machine);\nint perf_event__synthesize_sample(union perf_event *event, u64 type, u64 read_format, const struct perf_sample *sample);\nint perf_event__synthesize_stat_config(struct perf_tool *tool, struct perf_stat_config *config, perf_event__handler_t process, struct machine *machine);\nint perf_event__synthesize_stat_events(struct perf_stat_config *config, struct perf_tool *tool, struct evlist *evlist, perf_event__handler_t process, bool attrs);\nint perf_event__synthesize_stat_round(struct perf_tool *tool, u64 time, u64 type, perf_event__handler_t process, struct machine *machine);\nint perf_event__synthesize_stat(struct perf_tool *tool, struct perf_cpu cpu, u32 thread, u64 id, struct perf_counts_values *count, perf_event__handler_t process, struct machine *machine);\nint perf_event__synthesize_thread_map2(struct perf_tool *tool, struct perf_thread_map *threads, perf_event__handler_t process, struct machine *machine);\nint perf_event__synthesize_thread_map(struct perf_tool *tool, struct perf_thread_map *threads, perf_event__handler_t process, struct machine *machine, bool needs_mmap, bool mmap_data);\nint perf_event__synthesize_threads(struct perf_tool *tool, perf_event__handler_t process, struct machine *machine, bool needs_mmap, bool mmap_data, unsigned int nr_threads_synthesize);\nint perf_event__synthesize_tracing_data(struct perf_tool *tool, int fd, struct evlist *evlist, perf_event__handler_t process);\nint perf_event__synth_time_conv(const struct perf_event_mmap_page *pc, struct perf_tool *tool, perf_event__handler_t process, struct machine *machine);\npid_t perf_event__synthesize_comm(struct perf_tool *tool, union perf_event *event, pid_t pid, perf_event__handler_t process, struct machine *machine);\n\nint perf_tool__process_synth_event(struct perf_tool *tool, union perf_event *event, struct machine *machine, perf_event__handler_t process);\n\nsize_t perf_event__sample_event_size(const struct perf_sample *sample, u64 type, u64 read_format);\n\nint __machine__synthesize_threads(struct machine *machine, struct perf_tool *tool,\n\t\t\t\t  struct target *target, struct perf_thread_map *threads,\n\t\t\t\t  perf_event__handler_t process, bool needs_mmap, bool data_mmap,\n\t\t\t\t  unsigned int nr_threads_synthesize);\nint machine__synthesize_threads(struct machine *machine, struct target *target,\n\t\t\t\tstruct perf_thread_map *threads, bool needs_mmap, bool data_mmap,\n\t\t\t\tunsigned int nr_threads_synthesize);\n\n#ifdef HAVE_AUXTRACE_SUPPORT\nint perf_event__synthesize_auxtrace_info(struct auxtrace_record *itr, struct perf_tool *tool,\n\t\t\t\t\t struct perf_session *session, perf_event__handler_t process);\n\n#else \n\n#include <errno.h>\n\nstatic inline int\nperf_event__synthesize_auxtrace_info(struct auxtrace_record *itr __maybe_unused,\n\t\t\t\t     struct perf_tool *tool __maybe_unused,\n\t\t\t\t     struct perf_session *session __maybe_unused,\n\t\t\t\t     perf_event__handler_t process __maybe_unused)\n{\n\treturn -EINVAL;\n}\n#endif \n\n#ifdef HAVE_LIBBPF_SUPPORT\nint perf_event__synthesize_bpf_events(struct perf_session *session, perf_event__handler_t process,\n\t\t\t\t      struct machine *machine, struct record_opts *opts);\n#else \nstatic inline int perf_event__synthesize_bpf_events(struct perf_session *session __maybe_unused,\n\t\t\t\t\t\t    perf_event__handler_t process __maybe_unused,\n\t\t\t\t\t\t    struct machine *machine __maybe_unused,\n\t\t\t\t\t\t    struct record_opts *opts __maybe_unused)\n{\n\treturn 0;\n}\n#endif \n\nint perf_event__synthesize_for_pipe(struct perf_tool *tool,\n\t\t\t\t    struct perf_session *session,\n\t\t\t\t    struct perf_data *data,\n\t\t\t\t    perf_event__handler_t process);\n\n#endif \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}