{
  "module_name": "thread-stack.h",
  "hash_id": "42a74b7315358345f3217888a4fe93f30b7246f54c5ebf39855b81c3ce332da2",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/util/thread-stack.h",
  "human_readable_source": " \n \n\n#ifndef __PERF_THREAD_STACK_H\n#define __PERF_THREAD_STACK_H\n\n#include <sys/types.h>\n\n#include <linux/types.h>\n\nstruct thread;\nstruct comm;\nstruct ip_callchain;\nstruct symbol;\nstruct dso;\nstruct perf_sample;\nstruct addr_location;\nstruct call_path;\n\n \nenum {\n\tCALL_RETURN_NO_CALL\t= 1 << 0,\n\tCALL_RETURN_NO_RETURN\t= 1 << 1,\n\tCALL_RETURN_NON_CALL\t= 1 << 2,\n};\n\n \nstruct call_return {\n\tstruct thread *thread;\n\tstruct comm *comm;\n\tstruct call_path *cp;\n\tu64 call_time;\n\tu64 return_time;\n\tu64 branch_count;\n\tu64 insn_count;\n\tu64 cyc_count;\n\tu64 call_ref;\n\tu64 return_ref;\n\tu64 db_id;\n\tu64 parent_db_id;\n\tu32 flags;\n};\n\n \nstruct call_return_processor {\n\tstruct call_path_root *cpr;\n\tint (*process)(struct call_return *cr, u64 *parent_db_id, void *data);\n\tvoid *data;\n};\n\nint thread_stack__event(struct thread *thread, int cpu, u32 flags, u64 from_ip,\n\t\t\tu64 to_ip, u16 insn_len, u64 trace_nr, bool callstack,\n\t\t\tunsigned int br_stack_sz, bool mispred_all);\nvoid thread_stack__set_trace_nr(struct thread *thread, int cpu, u64 trace_nr);\nvoid thread_stack__sample(struct thread *thread, int cpu, struct ip_callchain *chain,\n\t\t\t  size_t sz, u64 ip, u64 kernel_start);\nvoid thread_stack__sample_late(struct thread *thread, int cpu,\n\t\t\t       struct ip_callchain *chain, size_t sz, u64 ip,\n\t\t\t       u64 kernel_start);\nvoid thread_stack__br_sample(struct thread *thread, int cpu,\n\t\t\t     struct branch_stack *dst, unsigned int sz);\nvoid thread_stack__br_sample_late(struct thread *thread, int cpu,\n\t\t\t\t  struct branch_stack *dst, unsigned int sz,\n\t\t\t\t  u64 sample_ip, u64 kernel_start);\nint thread_stack__flush(struct thread *thread);\nvoid thread_stack__free(struct thread *thread);\nsize_t thread_stack__depth(struct thread *thread, int cpu);\n\nstruct call_return_processor *\ncall_return_processor__new(int (*process)(struct call_return *cr, u64 *parent_db_id, void *data),\n\t\t\t   void *data);\nvoid call_return_processor__free(struct call_return_processor *crp);\nint thread_stack__process(struct thread *thread, struct comm *comm,\n\t\t\t  struct perf_sample *sample,\n\t\t\t  struct addr_location *from_al,\n\t\t\t  struct addr_location *to_al, u64 ref,\n\t\t\t  struct call_return_processor *crp);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}