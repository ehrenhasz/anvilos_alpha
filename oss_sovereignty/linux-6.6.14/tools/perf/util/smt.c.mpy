{
  "module_name": "smt.c",
  "hash_id": "f5a6faba83cfcbaa92948decc1b4cbee04722014f8e9aae485613ba2bd3493d5",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/util/smt.c",
  "human_readable_source": "\n#include <string.h>\n#include \"api/fs/fs.h\"\n#include \"cputopo.h\"\n#include \"smt.h\"\n\nbool smt_on(void)\n{\n\tstatic bool cached;\n\tstatic bool cached_result;\n\tint fs_value;\n\n\tif (cached)\n\t\treturn cached_result;\n\n\tif (sysfs__read_int(\"devices/system/cpu/smt/active\", &fs_value) >= 0)\n\t\tcached_result = (fs_value == 1);\n\telse\n\t\tcached_result = cpu_topology__smt_on(online_topology());\n\n\tcached = true;\n\treturn cached_result;\n}\n\nbool core_wide(bool system_wide, const char *user_requested_cpu_list)\n{\n\t \n\tif (!system_wide)\n\t\treturn false;\n\n\t \n\tif (!smt_on())\n\t\treturn true;\n\n\treturn cpu_topology__core_wide(online_topology(), user_requested_cpu_list);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}