{
  "module_name": "target.h",
  "hash_id": "6b80842b71245c1845273a9e845da99776c083176c31e7b50753c15e95812bc5",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/util/target.h",
  "human_readable_source": " \n#ifndef _PERF_TARGET_H\n#define _PERF_TARGET_H\n\n#include <stdbool.h>\n#include <sys/types.h>\n\nstruct target {\n\tconst char   *pid;\n\tconst char   *tid;\n\tconst char   *cpu_list;\n\tconst char   *uid_str;\n\tconst char   *bpf_str;\n\tuid_t\t     uid;\n\tbool\t     system_wide;\n\tbool\t     uses_mmap;\n\tbool\t     default_per_cpu;\n\tbool\t     per_thread;\n\tbool\t     use_bpf;\n\tint\t     initial_delay;\n\tconst char   *attr_map;\n};\n\nenum target_errno {\n\tTARGET_ERRNO__SUCCESS\t\t= 0,\n\n\t \n\t__TARGET_ERRNO__START\t\t= -10000,\n\n\t \n\tTARGET_ERRNO__PID_OVERRIDE_CPU\t= __TARGET_ERRNO__START,\n\tTARGET_ERRNO__PID_OVERRIDE_UID,\n\tTARGET_ERRNO__UID_OVERRIDE_CPU,\n\tTARGET_ERRNO__PID_OVERRIDE_SYSTEM,\n\tTARGET_ERRNO__UID_OVERRIDE_SYSTEM,\n\tTARGET_ERRNO__SYSTEM_OVERRIDE_THREAD,\n\tTARGET_ERRNO__BPF_OVERRIDE_CPU,\n\tTARGET_ERRNO__BPF_OVERRIDE_PID,\n\tTARGET_ERRNO__BPF_OVERRIDE_UID,\n\tTARGET_ERRNO__BPF_OVERRIDE_THREAD,\n\n\t \n\tTARGET_ERRNO__INVALID_UID,\n\tTARGET_ERRNO__USER_NOT_FOUND,\n\n\t__TARGET_ERRNO__END,\n};\n\nenum target_errno target__validate(struct target *target);\nenum target_errno target__parse_uid(struct target *target);\n\nint target__strerror(struct target *target, int errnum, char *buf, size_t buflen);\n\nstatic inline bool target__has_task(struct target *target)\n{\n\treturn target->tid || target->pid || target->uid_str;\n}\n\nstatic inline bool target__has_cpu(struct target *target)\n{\n\treturn target->system_wide || target->cpu_list;\n}\n\nstatic inline bool target__none(struct target *target)\n{\n\treturn !target__has_task(target) && !target__has_cpu(target);\n}\n\nstatic inline bool target__enable_on_exec(struct target *target)\n{\n\t \n\treturn target__none(target) && !target->initial_delay;\n}\n\nstatic inline bool target__has_per_thread(struct target *target)\n{\n\treturn target->system_wide && target->per_thread;\n}\n\nstatic inline bool target__uses_dummy_map(struct target *target)\n{\n\tbool use_dummy = false;\n\n\tif (target->default_per_cpu)\n\t\tuse_dummy = target->per_thread ? true : false;\n\telse if (target__has_task(target) ||\n\t         (!target__has_cpu(target) && !target->uses_mmap))\n\t\tuse_dummy = true;\n\telse if (target__has_per_thread(target))\n\t\tuse_dummy = true;\n\n\treturn use_dummy;\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}