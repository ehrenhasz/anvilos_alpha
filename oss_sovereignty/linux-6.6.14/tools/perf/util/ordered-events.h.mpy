{
  "module_name": "ordered-events.h",
  "hash_id": "05f3ec2fb06561855c3041f3d069f093f8d6ecb8e22102cff4a448a51bbf9102",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/util/ordered-events.h",
  "human_readable_source": " \n#ifndef __ORDERED_EVENTS_H\n#define __ORDERED_EVENTS_H\n\n#include <linux/types.h>\n\nstruct perf_sample;\n\nstruct ordered_event {\n\tu64\t\t\ttimestamp;\n\tu64\t\t\tfile_offset;\n\tconst char\t\t*file_path;\n\tunion perf_event\t*event;\n\tstruct list_head\tlist;\n};\n\nenum oe_flush {\n\tOE_FLUSH__NONE,\n\tOE_FLUSH__FINAL,\n\tOE_FLUSH__ROUND,\n\tOE_FLUSH__HALF,\n\tOE_FLUSH__TOP,\n\tOE_FLUSH__TIME,\n};\n\nstruct ordered_events;\n\ntypedef int (*ordered_events__deliver_t)(struct ordered_events *oe,\n\t\t\t\t\t struct ordered_event *event);\n\nstruct ordered_events_buffer {\n\tstruct list_head\tlist;\n\tstruct ordered_event\tevent[];\n};\n\nstruct ordered_events {\n\tu64\t\t\t\t last_flush;\n\tu64\t\t\t\t next_flush;\n\tu64\t\t\t\t max_timestamp;\n\tu64\t\t\t\t max_alloc_size;\n\tu64\t\t\t\t cur_alloc_size;\n\tstruct list_head\t\t events;\n\tstruct list_head\t\t cache;\n\tstruct list_head\t\t to_free;\n\tstruct ordered_events_buffer\t*buffer;\n\tstruct ordered_event\t\t*last;\n\tordered_events__deliver_t\t deliver;\n\tint\t\t\t\t buffer_idx;\n\tunsigned int\t\t\t nr_events;\n\tenum oe_flush\t\t\t last_flush_type;\n\tu32\t\t\t\t nr_unordered_events;\n\tbool\t\t\t\t copy_on_queue;\n\tvoid\t\t\t\t*data;\n};\n\nint ordered_events__queue(struct ordered_events *oe, union perf_event *event,\n\t\t\t  u64 timestamp, u64 file_offset, const char *file_path);\nvoid ordered_events__delete(struct ordered_events *oe, struct ordered_event *event);\nint ordered_events__flush(struct ordered_events *oe, enum oe_flush how);\nint ordered_events__flush_time(struct ordered_events *oe, u64 timestamp);\nvoid ordered_events__init(struct ordered_events *oe, ordered_events__deliver_t deliver,\n\t\t\t  void *data);\nvoid ordered_events__free(struct ordered_events *oe);\nvoid ordered_events__reinit(struct ordered_events *oe);\nu64 ordered_events__first_time(struct ordered_events *oe);\n\nstatic inline\nvoid ordered_events__set_alloc_size(struct ordered_events *oe, u64 size)\n{\n\toe->max_alloc_size = size;\n}\n\nstatic inline\nvoid ordered_events__set_copy_on_queue(struct ordered_events *oe, bool copy)\n{\n\toe->copy_on_queue = copy;\n}\n\nstatic inline u64 ordered_events__last_flush_time(struct ordered_events *oe)\n{\n\treturn oe->last_flush;\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}