{
  "module_name": "mutex.h",
  "hash_id": "2da382db2d7c711ea2ba4c021706cda25fb3eb4b251cf43856d43d5585616ff6",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/util/mutex.h",
  "human_readable_source": " \n#ifndef __PERF_MUTEX_H\n#define __PERF_MUTEX_H\n\n#include <pthread.h>\n#include <stdbool.h>\n\n \n#ifdef __has_attribute\n#define HAVE_ATTRIBUTE(x) __has_attribute(x)\n#else\n#define HAVE_ATTRIBUTE(x) 0\n#endif\n\n#if HAVE_ATTRIBUTE(guarded_by) && HAVE_ATTRIBUTE(pt_guarded_by) && \\\n\tHAVE_ATTRIBUTE(lockable) && HAVE_ATTRIBUTE(exclusive_lock_function) && \\\n\tHAVE_ATTRIBUTE(exclusive_trylock_function) && HAVE_ATTRIBUTE(exclusive_locks_required) && \\\n\tHAVE_ATTRIBUTE(no_thread_safety_analysis)\n\n \n#define GUARDED_BY(x) __attribute__((guarded_by(x)))\n\n \n#define PT_GUARDED_BY(x) __attribute__((pt_guarded_by(x)))\n\n \n#define LOCKABLE __attribute__((lockable))\n\n \n#define EXCLUSIVE_LOCK_FUNCTION(...)  __attribute__((exclusive_lock_function(__VA_ARGS__)))\n\n \n#define UNLOCK_FUNCTION(...) __attribute__((unlock_function(__VA_ARGS__)))\n\n \n#define EXCLUSIVE_TRYLOCK_FUNCTION(...) \\\n\t__attribute__((exclusive_trylock_function(__VA_ARGS__)))\n\n \n#define EXCLUSIVE_LOCKS_REQUIRED(...) __attribute__((exclusive_locks_required(__VA_ARGS__)))\n\n \n#define NO_THREAD_SAFETY_ANALYSIS __attribute__((no_thread_safety_analysis))\n\n#else\n\n#define GUARDED_BY(x)\n#define PT_GUARDED_BY(x)\n#define LOCKABLE\n#define EXCLUSIVE_LOCK_FUNCTION(...)\n#define UNLOCK_FUNCTION(...)\n#define EXCLUSIVE_TRYLOCK_FUNCTION(...)\n#define EXCLUSIVE_LOCKS_REQUIRED(...)\n#define NO_THREAD_SAFETY_ANALYSIS\n\n#endif\n\n \nstruct LOCKABLE mutex {\n\tpthread_mutex_t lock;\n};\n\n \nstruct cond {\n\tpthread_cond_t cond;\n};\n\n \nvoid mutex_init(struct mutex *mtx);\n \nvoid mutex_init_pshared(struct mutex *mtx);\nvoid mutex_destroy(struct mutex *mtx);\n\nvoid mutex_lock(struct mutex *mtx) EXCLUSIVE_LOCK_FUNCTION(*mtx);\nvoid mutex_unlock(struct mutex *mtx) UNLOCK_FUNCTION(*mtx);\n \nbool mutex_trylock(struct mutex *mtx) EXCLUSIVE_TRYLOCK_FUNCTION(true, *mtx);\n\n \nvoid cond_init(struct cond *cnd);\n \nvoid cond_init_pshared(struct cond *cnd);\nvoid cond_destroy(struct cond *cnd);\n\nvoid cond_wait(struct cond *cnd, struct mutex *mtx) EXCLUSIVE_LOCKS_REQUIRED(mtx);\nvoid cond_signal(struct cond *cnd);\nvoid cond_broadcast(struct cond *cnd);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}