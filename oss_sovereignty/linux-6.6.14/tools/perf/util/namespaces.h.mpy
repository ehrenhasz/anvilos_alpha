{
  "module_name": "namespaces.h",
  "hash_id": "ab2b87ace7d3ce21f0a4400a05567cfe83b5bc1f99374eebbc569173af93e17d",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/util/namespaces.h",
  "human_readable_source": " \n \n\n#ifndef __PERF_NAMESPACES_H\n#define __PERF_NAMESPACES_H\n\n#include <sys/types.h>\n#include <sys/stat.h>\n#include <linux/stddef.h>\n#include <linux/perf_event.h>\n#include <linux/refcount.h>\n#include <linux/types.h>\n#include <internal/rc_check.h>\n\n#ifndef HAVE_SETNS_SUPPORT\nint setns(int fd, int nstype);\n#endif\n\nstruct perf_record_namespaces;\n\nstruct namespaces {\n\tstruct list_head list;\n\tu64 end_time;\n\tstruct perf_ns_link_info link_info[];\n};\n\nstruct namespaces *namespaces__new(struct perf_record_namespaces *event);\nvoid namespaces__free(struct namespaces *namespaces);\n\nDECLARE_RC_STRUCT(nsinfo) {\n\tpid_t\t\t\tpid;\n\tpid_t\t\t\ttgid;\n\tpid_t\t\t\tnstgid;\n\tbool\t\t\tneed_setns;\n\tbool\t\t\tin_pidns;\n\tchar\t\t\t*mntns_path;\n\trefcount_t\t\trefcnt;\n};\n\nstruct nscookie {\n\tint\t\t\toldns;\n\tint\t\t\tnewns;\n\tchar\t\t\t*oldcwd;\n};\n\nint nsinfo__init(struct nsinfo *nsi);\nstruct nsinfo *nsinfo__new(pid_t pid);\nstruct nsinfo *nsinfo__copy(const struct nsinfo *nsi);\n\nstruct nsinfo *nsinfo__get(struct nsinfo *nsi);\nvoid nsinfo__put(struct nsinfo *nsi);\n\nbool nsinfo__need_setns(const struct nsinfo *nsi);\nvoid nsinfo__clear_need_setns(struct nsinfo *nsi);\npid_t nsinfo__tgid(const struct nsinfo  *nsi);\npid_t nsinfo__nstgid(const struct nsinfo  *nsi);\npid_t nsinfo__pid(const struct nsinfo  *nsi);\npid_t nsinfo__in_pidns(const struct nsinfo  *nsi);\n\nvoid nsinfo__mountns_enter(struct nsinfo *nsi, struct nscookie *nc);\nvoid nsinfo__mountns_exit(struct nscookie *nc);\n\nchar *nsinfo__realpath(const char *path, struct nsinfo *nsi);\nint nsinfo__stat(const char *filename, struct stat *st, struct nsinfo *nsi);\n\nbool nsinfo__is_in_root_namespace(void);\n\nstatic inline void __nsinfo__zput(struct nsinfo **nsip)\n{\n\tif (nsip) {\n\t\tnsinfo__put(*nsip);\n\t\t*nsip = NULL;\n\t}\n}\n\n#define nsinfo__zput(nsi) __nsinfo__zput(&nsi)\n\nconst char *perf_ns__name(unsigned int id);\n\n#endif   \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}