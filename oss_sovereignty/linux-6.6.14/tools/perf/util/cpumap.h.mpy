{
  "module_name": "cpumap.h",
  "hash_id": "78c2de910023c3a454e6d97257b3acdd7605bc6c88834dcc18a9ebe6ef076753",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/util/cpumap.h",
  "human_readable_source": " \n#ifndef __PERF_CPUMAP_H\n#define __PERF_CPUMAP_H\n\n#include <stdbool.h>\n#include <stdio.h>\n#include <perf/cpumap.h>\n#include <linux/refcount.h>\n\n \nstruct aggr_cpu_id {\n\t \n\tint thread_idx;\n\t \n\tint node;\n\t \n\tint socket;\n\t \n\tint die;\n\t \n\tint cache_lvl;\n\t \n\tint cache;\n\t \n\tint core;\n\t \n\tstruct perf_cpu cpu;\n};\n\n \nstruct cpu_aggr_map {\n\trefcount_t refcnt;\n\t \n\tint nr;\n\t \n\tstruct aggr_cpu_id map[];\n};\n\n#define cpu_aggr_map__for_each_idx(idx, aggr_map)\t\t\t\t\\\n\tfor ((idx) = 0; (idx) < aggr_map->nr; (idx)++)\n\nstruct perf_record_cpu_map_data;\n\nbool perf_record_cpu_map_data__test_bit(int i, const struct perf_record_cpu_map_data *data);\n\nstruct perf_cpu_map *perf_cpu_map__empty_new(int nr);\n\nstruct perf_cpu_map *cpu_map__new_data(const struct perf_record_cpu_map_data *data);\nsize_t cpu_map__snprint(struct perf_cpu_map *map, char *buf, size_t size);\nsize_t cpu_map__snprint_mask(struct perf_cpu_map *map, char *buf, size_t size);\nsize_t cpu_map__fprintf(struct perf_cpu_map *map, FILE *fp);\nstruct perf_cpu_map *cpu_map__online(void);  \n\nint cpu__setup_cpunode_map(void);\n\nint cpu__max_node(void);\nstruct perf_cpu cpu__max_cpu(void);\nstruct perf_cpu cpu__max_present_cpu(void);\n\n \nstatic inline bool cpu_map__is_dummy(const struct perf_cpu_map *cpus)\n{\n\treturn perf_cpu_map__nr(cpus) == 1 && perf_cpu_map__cpu(cpus, 0).cpu == -1;\n}\n\n \nint cpu__get_node(struct perf_cpu cpu);\n \nint cpu__get_socket_id(struct perf_cpu cpu);\n \nint cpu__get_die_id(struct perf_cpu cpu);\n \nint cpu__get_core_id(struct perf_cpu cpu);\n\n \nstruct cpu_aggr_map *cpu_aggr_map__empty_new(int nr);\n\ntypedef struct aggr_cpu_id (*aggr_cpu_id_get_t)(struct perf_cpu cpu, void *data);\n\n \nstruct cpu_aggr_map *cpu_aggr_map__new(const struct perf_cpu_map *cpus,\n\t\t\t\t       aggr_cpu_id_get_t get_id,\n\t\t\t\t       void *data, bool needs_sort);\n\nbool aggr_cpu_id__equal(const struct aggr_cpu_id *a, const struct aggr_cpu_id *b);\nbool aggr_cpu_id__is_empty(const struct aggr_cpu_id *a);\nstruct aggr_cpu_id aggr_cpu_id__empty(void);\n\n\n \nstruct aggr_cpu_id aggr_cpu_id__socket(struct perf_cpu cpu, void *data);\n \nstruct aggr_cpu_id aggr_cpu_id__die(struct perf_cpu cpu, void *data);\n \nstruct aggr_cpu_id aggr_cpu_id__core(struct perf_cpu cpu, void *data);\n \nstruct aggr_cpu_id aggr_cpu_id__cpu(struct perf_cpu cpu, void *data);\n \nstruct aggr_cpu_id aggr_cpu_id__node(struct perf_cpu cpu, void *data);\n \nstruct aggr_cpu_id aggr_cpu_id__global(struct perf_cpu cpu, void *data);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}