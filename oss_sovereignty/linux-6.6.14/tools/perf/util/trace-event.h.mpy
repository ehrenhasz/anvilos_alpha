{
  "module_name": "trace-event.h",
  "hash_id": "786b1d4e68c9f451501a7fdb776f7cc67e64b5d4b96626bdf5c63d202a188e36",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/util/trace-event.h",
  "human_readable_source": " \n#ifndef _PERF_UTIL_TRACE_EVENT_H\n#define _PERF_UTIL_TRACE_EVENT_H\n\n#include <stdbool.h>\n#include <stdio.h>\n#include <sys/types.h>\n#include <linux/types.h>\n\nstruct evlist;\nstruct machine;\nstruct perf_sample;\nunion perf_event;\nstruct perf_tool;\nstruct thread;\nstruct tep_plugin_list;\nstruct evsel;\n\nstruct trace_event {\n\tstruct tep_handle\t*pevent;\n\tstruct tep_plugin_list\t*plugin_list;\n};\n\n \n#define MAKE_LIBTRACEEVENT_VERSION(a, b, c) ((a)*255*255+(b)*255+(c))\n\ntypedef char *(tep_func_resolver_t)(void *priv,\n\t\t\t\t    unsigned long long *addrp, char **modp);\n\nbool have_tracepoints(struct list_head *evlist);\n\nint trace_event__init(struct trace_event *t);\nvoid trace_event__cleanup(struct trace_event *t);\nint trace_event__register_resolver(struct machine *machine,\n\t\t\t\t   tep_func_resolver_t *func);\nstruct tep_event*\ntrace_event__tp_format(const char *sys, const char *name);\n\nstruct tep_event *trace_event__tp_format_id(int id);\n\nvoid event_format__fprintf(struct tep_event *event,\n\t\t\t   int cpu, void *data, int size, FILE *fp);\n\nvoid event_format__print(struct tep_event *event,\n\t\t\t int cpu, void *data, int size);\n\nint parse_ftrace_file(struct tep_handle *pevent, char *buf, unsigned long size);\nint parse_event_file(struct tep_handle *pevent,\n\t\t     char *buf, unsigned long size, char *sys);\n\nunsigned long long\nraw_field_value(struct tep_event *event, const char *name, void *data);\n\nvoid parse_proc_kallsyms(struct tep_handle *pevent, char *file, unsigned int size);\nvoid parse_ftrace_printk(struct tep_handle *pevent, char *file, unsigned int size);\nvoid parse_saved_cmdline(struct tep_handle *pevent, char *file, unsigned int size);\n\nssize_t trace_report(int fd, struct trace_event *tevent, bool repipe);\n\nunsigned long long read_size(struct tep_event *event, void *ptr, int size);\nunsigned long long eval_flag(const char *flag);\n\nint read_tracing_data(int fd, struct list_head *pattrs);\n\n \nchar *tracepoint_id_to_name(u64 config);\n\nstruct tracing_data {\n\t \n\tssize_t size;\n\tbool temp;\n\tchar temp_file[50];\n};\n\nstruct tracing_data *tracing_data_get(struct list_head *pattrs,\n\t\t\t\t      int fd, bool temp);\nint tracing_data_put(struct tracing_data *tdata);\n\n\nstruct addr_location;\n\nstruct perf_session;\nstruct perf_stat_config;\n\nstruct scripting_ops {\n\tconst char *name;\n\tconst char *dirname;  \n\tint (*start_script)(const char *script, int argc, const char **argv,\n\t\t\t    struct perf_session *session);\n\tint (*flush_script) (void);\n\tint (*stop_script) (void);\n\tvoid (*process_event) (union perf_event *event,\n\t\t\t       struct perf_sample *sample,\n\t\t\t       struct evsel *evsel,\n\t\t\t       struct addr_location *al,\n\t\t\t       struct addr_location *addr_al);\n\tvoid (*process_switch)(union perf_event *event,\n\t\t\t       struct perf_sample *sample,\n\t\t\t       struct machine *machine);\n\tvoid (*process_auxtrace_error)(struct perf_session *session,\n\t\t\t\t       union perf_event *event);\n\tvoid (*process_stat)(struct perf_stat_config *config,\n\t\t\t     struct evsel *evsel, u64 tstamp);\n\tvoid (*process_stat_interval)(u64 tstamp);\n\tvoid (*process_throttle)(union perf_event *event,\n\t\t\t\t struct perf_sample *sample,\n\t\t\t\t struct machine *machine);\n\tint (*generate_script) (struct tep_handle *pevent, const char *outfile);\n};\n\nextern unsigned int scripting_max_stack;\n\nint script_spec_register(const char *spec, struct scripting_ops *ops);\n\nvoid script_fetch_insn(struct perf_sample *sample, struct thread *thread,\n\t\t       struct machine *machine);\n\nvoid setup_perl_scripting(void);\nvoid setup_python_scripting(void);\n\nstruct scripting_context {\n\tstruct tep_handle *pevent;\n\tvoid *event_data;\n\tunion perf_event *event;\n\tstruct perf_sample *sample;\n\tstruct evsel *evsel;\n\tstruct addr_location *al;\n\tstruct addr_location *addr_al;\n\tstruct perf_session *session;\n};\n\nvoid scripting_context__update(struct scripting_context *scripting_context,\n\t\t\t       union perf_event *event,\n\t\t\t       struct perf_sample *sample,\n\t\t\t       struct evsel *evsel,\n\t\t\t       struct addr_location *al,\n\t\t\t       struct addr_location *addr_al);\n\nint common_pc(struct scripting_context *context);\nint common_flags(struct scripting_context *context);\nint common_lock_depth(struct scripting_context *context);\n\n#define SAMPLE_FLAGS_BUF_SIZE 64\nint perf_sample__sprintf_flags(u32 flags, char *str, size_t sz);\n\n#if defined(LIBTRACEEVENT_VERSION) &&  LIBTRACEEVENT_VERSION >= MAKE_LIBTRACEEVENT_VERSION(1, 5, 0)\n#include <traceevent/event-parse.h>\n\nstatic inline bool tep_field_is_relative(unsigned long flags)\n{\n\treturn (flags & TEP_FIELD_IS_RELATIVE) != 0;\n}\n#else\n#include <linux/compiler.h>\n\nstatic inline bool tep_field_is_relative(unsigned long flags __maybe_unused)\n{\n\treturn false;\n}\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}