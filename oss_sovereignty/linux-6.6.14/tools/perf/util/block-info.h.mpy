{
  "module_name": "block-info.h",
  "hash_id": "a173338b9c743cd2c4e673268fa17cdfdeaf8754fe251de56e071d40793232fc",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/util/block-info.h",
  "human_readable_source": " \n#ifndef __PERF_BLOCK_H\n#define __PERF_BLOCK_H\n\n#include <linux/types.h>\n#include <linux/refcount.h>\n#include \"hist.h\"\n#include \"symbol.h\"\n#include \"sort.h\"\n#include \"ui/ui.h\"\n\nstruct block_info {\n\tstruct symbol\t\t*sym;\n\tu64\t\t\tstart;\n\tu64\t\t\tend;\n\tu64\t\t\tcycles;\n\tu64\t\t\tcycles_aggr;\n\ts64\t\t\tcycles_spark[NUM_SPARKS];\n\tu64\t\t\ttotal_cycles;\n\tint\t\t\tnum;\n\tint\t\t\tnum_aggr;\n\trefcount_t\t\trefcnt;\n};\n\nstruct block_fmt {\n\tstruct perf_hpp_fmt\tfmt;\n\tint\t\t\tidx;\n\tint\t\t\twidth;\n\tconst char\t\t*header;\n\tu64\t\t\ttotal_cycles;\n\tu64\t\t\tblock_cycles;\n};\n\nenum {\n\tPERF_HPP_REPORT__BLOCK_TOTAL_CYCLES_PCT,\n\tPERF_HPP_REPORT__BLOCK_LBR_CYCLES,\n\tPERF_HPP_REPORT__BLOCK_CYCLES_PCT,\n\tPERF_HPP_REPORT__BLOCK_AVG_CYCLES,\n\tPERF_HPP_REPORT__BLOCK_RANGE,\n\tPERF_HPP_REPORT__BLOCK_DSO,\n\tPERF_HPP_REPORT__BLOCK_MAX_INDEX\n};\n\nstruct block_report {\n\tstruct block_hist\thist;\n\tu64\t\t\tcycles;\n\tstruct block_fmt\tfmts[PERF_HPP_REPORT__BLOCK_MAX_INDEX];\n\tint\t\t\tnr_fmts;\n};\n\nstruct block_hist;\n\nstruct block_info *block_info__new(void);\nstruct block_info *block_info__get(struct block_info *bi);\nvoid   block_info__put(struct block_info *bi);\n\nstatic inline void __block_info__zput(struct block_info **bi)\n{\n\tblock_info__put(*bi);\n\t*bi = NULL;\n}\n\n#define block_info__zput(bi) __block_info__zput(&bi)\n\nint64_t __block_info__cmp(struct hist_entry *left, struct hist_entry *right);\n\nint64_t block_info__cmp(struct perf_hpp_fmt *fmt __maybe_unused,\n\t\t\tstruct hist_entry *left, struct hist_entry *right);\n\nint block_info__process_sym(struct hist_entry *he, struct block_hist *bh,\n\t\t\t    u64 *block_cycles_aggr, u64 total_cycles);\n\nstruct block_report *block_info__create_report(struct evlist *evlist,\n\t\t\t\t\t       u64 total_cycles,\n\t\t\t\t\t       int *block_hpps, int nr_hpps,\n\t\t\t\t\t       int *nr_reps);\n\nvoid block_info__free_report(struct block_report *reps, int nr_reps);\n\nint report__browse_block_hists(struct block_hist *bh, float min_percent,\n\t\t\t       struct evsel *evsel, struct perf_env *env,\n\t\t\t       struct annotation_options *annotation_opts);\n\nfloat block_info__total_cycles_percent(struct hist_entry *he);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}