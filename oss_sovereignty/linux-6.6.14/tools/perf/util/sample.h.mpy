{
  "module_name": "sample.h",
  "hash_id": "e777a2a75a31a3dd4e871c3d3df071805370461ae0e29a0c4563b736963ae092",
  "original_prompt": "Ingested from linux-6.6.14/tools/perf/util/sample.h",
  "human_readable_source": " \n#ifndef __PERF_SAMPLE_H\n#define __PERF_SAMPLE_H\n\n#include <linux/perf_event.h>\n#include <linux/types.h>\n\n \n#define PERF_SAMPLE_REGS_CACHE_SIZE (8 * sizeof(u64))\n\nstruct regs_dump {\n\tu64 abi;\n\tu64 mask;\n\tu64 *regs;\n\n\t \n\tu64 cache_regs[PERF_SAMPLE_REGS_CACHE_SIZE];\n\tu64 cache_mask;\n};\n\nstruct stack_dump {\n\tu16 offset;\n\tu64 size;\n\tchar *data;\n};\n\nstruct sample_read_value {\n\tu64 value;\n\tu64 id;    \n\tu64 lost;  \n};\n\nstruct sample_read {\n\tu64 time_enabled;\n\tu64 time_running;\n\tunion {\n\t\tstruct {\n\t\t\tu64 nr;\n\t\t\tstruct sample_read_value *values;\n\t\t} group;\n\t\tstruct sample_read_value one;\n\t};\n};\n\nstatic inline size_t sample_read_value_size(u64 read_format)\n{\n\t \n\tif (read_format & PERF_FORMAT_LOST)\n\t\treturn sizeof(struct sample_read_value);\n\telse\n\t\treturn offsetof(struct sample_read_value, lost);\n}\n\nstatic inline struct sample_read_value *next_sample_read_value(struct sample_read_value *v, u64 read_format)\n{\n\treturn (void *)v + sample_read_value_size(read_format);\n}\n\n#define sample_read_group__for_each(v, nr, rf) \\\n\tfor (int __i = 0; __i < (int)nr; v = next_sample_read_value(v, rf), __i++)\n\n#define MAX_INSN 16\n\nstruct aux_sample {\n\tu64 size;\n\tvoid *data;\n};\n\nstruct simd_flags {\n\tu64\tarch:1,\t \n\t\tpred:2;\t \n};\n\n \n#define SIMD_OP_FLAGS_ARCH_SVE\t\t0x01\t \n\n \n#define SIMD_OP_FLAGS_PRED_PARTIAL\t0x01\t \n#define SIMD_OP_FLAGS_PRED_EMPTY\t0x02\t \n\nstruct perf_sample {\n\tu64 ip;\n\tu32 pid, tid;\n\tu64 time;\n\tu64 addr;\n\tu64 id;\n\tu64 stream_id;\n\tu64 period;\n\tu64 weight;\n\tu64 transaction;\n\tu64 insn_cnt;\n\tu64 cyc_cnt;\n\tu32 cpu;\n\tu32 raw_size;\n\tu64 data_src;\n\tu64 phys_addr;\n\tu64 data_page_size;\n\tu64 code_page_size;\n\tu64 cgroup;\n\tu32 flags;\n\tu32 machine_pid;\n\tu32 vcpu;\n\tu16 insn_len;\n\tu8  cpumode;\n\tu16 misc;\n\tu16 ins_lat;\n\tunion {\n\t\tu16 p_stage_cyc;\n\t\tu16 retire_lat;\n\t};\n\tbool no_hw_idx;\t\t \n\tchar insn[MAX_INSN];\n\tvoid *raw_data;\n\tstruct ip_callchain *callchain;\n\tstruct branch_stack *branch_stack;\n\tstruct regs_dump  user_regs;\n\tstruct regs_dump  intr_regs;\n\tstruct stack_dump user_stack;\n\tstruct sample_read read;\n\tstruct aux_sample aux_sample;\n\tstruct simd_flags simd_flags;\n};\n\n \nstatic inline void *perf_sample__synth_ptr(struct perf_sample *sample)\n{\n\treturn sample->raw_data - 4;\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}