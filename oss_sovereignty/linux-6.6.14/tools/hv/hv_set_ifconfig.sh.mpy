{
  "module_name": "hv_set_ifconfig.sh",
  "hash_id": "040cdf7aec26981d18de96da2c056be28b6e86f36c92d0d07dae94021b14a0b5",
  "original_prompt": "Ingested from linux-6.6.14/tools/hv/hv_set_ifconfig.sh",
  "human_readable_source": "#!/bin/bash\n# SPDX-License-Identifier: GPL-2.0\n\n# This example script activates an interface based on the specified\n# configuration.\n#\n# In the interest of keeping the KVP daemon code free of distro specific\n# information; the kvp daemon code invokes this external script to configure\n# the interface.\n#\n# The only argument to this script is the configuration file that is to\n# be used to configure the interface.\n#\n# Each Distro is expected to implement this script in a distro specific\n# fashion. For instance, on Distros that ship with Network Manager enabled,\n# this script can be based on the Network Manager APIs for configuring the\n# interface.\n#\n# This example script is based on a RHEL environment.\n#\n# Here is the ifcfg format of the ip configuration file:\n#\n# HWADDR=macaddr\n# DEVICE=interface name\n# BOOTPROTO=<protocol> (where <protocol> is \"dhcp\" if DHCP is configured\n# \t\t\tor \"none\" if no boot-time protocol should be used)\n#\n# IPADDR0=ipaddr1\n# IPADDR1=ipaddr2\n# IPADDRx=ipaddry (where y = x + 1)\n#\n# NETMASK0=netmask1\n# NETMASKx=netmasky (where y = x + 1)\n#\n# GATEWAY=ipaddr1\n# GATEWAYx=ipaddry (where y = x + 1)\n#\n# DNSx=ipaddrx (where first DNS address is tagged as DNS1 etc)\n#\n# IPV6 addresses will be tagged as IPV6ADDR, IPV6 gateway will be\n# tagged as IPV6_DEFAULTGW and IPV6 NETMASK will be tagged as\n# IPV6NETMASK.\n#\n# Here is the keyfile format of the ip configuration file:\n#\n# [ethernet]\n# mac-address=macaddr\n# [connection]\n# interface-name=interface name\n#\n# [ipv4]\n# method=<protocol> (where <protocol> is \"auto\" if DHCP is configured\n#                       or \"manual\" if no boot-time protocol should be used)\n#\n# address1=ipaddr1/plen\n# address2=ipaddr2/plen\n#\n# gateway=gateway1;gateway2\n#\n# dns=dns1;\n#\n# [ipv6]\n# address1=ipaddr1/plen\n# address2=ipaddr2/plen\n#\n# gateway=gateway1;gateway2\n#\n# dns=dns1;dns2\n#\n# The host can specify multiple ipv4 and ipv6 addresses to be\n# configured for the interface. Furthermore, the configuration\n# needs to be persistent. A subsequent GET call on the interface\n# is expected to return the configuration that is set via the SET\n# call.\n#\n\necho \"IPV6INIT=yes\" >> $1\necho \"NM_CONTROLLED=no\" >> $1\necho \"PEERDNS=yes\" >> $1\necho \"ONBOOT=yes\" >> $1\n\ncp $1 /etc/sysconfig/network-scripts/\n\nchmod 600 $2\ninterface=$(echo $2 | awk -F - '{ print $2 }')\nfilename=\"${2##*/}\"\n\nsed '/\\[connection\\]/a autoconnect=true' $2 > /etc/NetworkManager/system-connections/${filename}\n\n\n/sbin/ifdown $interface 2>/dev/null\n/sbin/ifup $interface 2>/dev/null\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}