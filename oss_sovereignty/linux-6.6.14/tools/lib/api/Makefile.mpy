{
  "module_name": "Makefile",
  "hash_id": "5ddaab1b86b6b89a7312f612acabbc7e72fe6d84b8af19f562ad2a995a9d64ae",
  "original_prompt": "Ingested from linux-6.6.14/tools/lib/api/Makefile",
  "human_readable_source": "# SPDX-License-Identifier: GPL-2.0\ninclude ../../scripts/Makefile.include\ninclude ../../scripts/utilities.mak\t\t# QUIET_CLEAN\n\nifeq ($(srctree),)\nsrctree := $(patsubst %/,%,$(dir $(CURDIR)))\nsrctree := $(patsubst %/,%,$(dir $(srctree)))\nsrctree := $(patsubst %/,%,$(dir $(srctree)))\n#$(info Determined 'srctree' to be $(srctree))\nendif\n\nCC ?= $(CROSS_COMPILE)gcc\nAR ?= $(CROSS_COMPILE)ar\nLD ?= $(CROSS_COMPILE)ld\n\nMAKEFLAGS += --no-print-directory\n\nINSTALL = install\n\n\n# Use DESTDIR for installing into a different root directory.\n# This is useful for building a package. The program will be\n# installed in this directory as if it was the root directory.\n# Then the build tool can move it later.\nDESTDIR ?=\nDESTDIR_SQ = '$(subst ','\\'',$(DESTDIR))'\n\nLIBFILE = $(OUTPUT)libapi.a\n\nCFLAGS := $(EXTRA_WARNINGS) $(EXTRA_CFLAGS)\nCFLAGS += -ggdb3 -Wall -Wextra -std=gnu99 -U_FORTIFY_SOURCE -fPIC\n\nifeq ($(DEBUG),0)\nifeq ($(CC_NO_CLANG), 0)\n  CFLAGS += -O3\nelse\n  CFLAGS += -O6\nendif\nendif\n\nifeq ($(DEBUG),0)\n  CFLAGS += -D_FORTIFY_SOURCE\nendif\n\n# Treat warnings as errors unless directed not to\nifneq ($(WERROR),0)\n  CFLAGS += -Werror\nendif\n\nCFLAGS += -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64\nCFLAGS += -I$(srctree)/tools/lib/api\nCFLAGS += -I$(srctree)/tools/include\n\nRM = rm -f\n\nAPI_IN := $(OUTPUT)libapi-in.o\n\nifeq ($(LP64), 1)\n  libdir_relative = lib64\nelse\n  libdir_relative = lib\nendif\n\nprefix ?=\nlibdir = $(prefix)/$(libdir_relative)\n\n# Shell quotes\nlibdir_SQ = $(subst ','\\'',$(libdir))\n\nall:\n\nexport srctree OUTPUT CC LD CFLAGS V\ninclude $(srctree)/tools/build/Makefile.include\ninclude $(srctree)/tools/scripts/Makefile.include\n\nall: fixdep $(LIBFILE)\n\n$(API_IN): FORCE\n\t@$(MAKE) $(build)=libapi\n\n$(LIBFILE): $(API_IN)\n\t$(QUIET_AR)$(RM) $@ && $(AR) rcs $@ $(API_IN)\n\ndefine do_install_mkdir\n\tif [ ! -d '$(DESTDIR_SQ)$1' ]; then             \\\n\t\t$(INSTALL) -d -m 755 '$(DESTDIR_SQ)$1'; \\\n\tfi\nendef\n\ndefine do_install\n\tif [ ! -d '$2' ]; then             \\\n\t\t$(INSTALL) -d -m 755 '$2'; \\\n\tfi;                                \\\n\t$(INSTALL) $1 $(if $3,-m $3,) '$2'\nendef\n\ninstall_lib: $(LIBFILE)\n\t$(call QUIET_INSTALL, $(LIBFILE)) \\\n\t\t$(call do_install_mkdir,$(libdir_SQ)); \\\n\t\tcp -fpR $(LIBFILE) $(DESTDIR)$(libdir_SQ)\n\nHDRS := cpu.h debug.h io.h\nFD_HDRS := fd/array.h\nFS_HDRS := fs/fs.h fs/tracing_path.h\nINSTALL_HDRS_PFX := $(DESTDIR)$(prefix)/include/api\nINSTALL_HDRS := $(addprefix $(INSTALL_HDRS_PFX)/, $(HDRS))\nINSTALL_FD_HDRS := $(addprefix $(INSTALL_HDRS_PFX)/, $(FD_HDRS))\nINSTALL_FS_HDRS := $(addprefix $(INSTALL_HDRS_PFX)/, $(FS_HDRS))\n\n$(INSTALL_HDRS): $(INSTALL_HDRS_PFX)/%.h: %.h\n\t$(call QUIET_INSTALL, $@) \\\n\t\t$(call do_install,$<,$(INSTALL_HDRS_PFX)/,644)\n\n$(INSTALL_FD_HDRS): $(INSTALL_HDRS_PFX)/fd/%.h: fd/%.h\n\t$(call QUIET_INSTALL, $@) \\\n\t\t$(call do_install,$<,$(INSTALL_HDRS_PFX)/fd/,644)\n\n$(INSTALL_FS_HDRS): $(INSTALL_HDRS_PFX)/fs/%.h: fs/%.h\n\t$(call QUIET_INSTALL, $@) \\\n\t\t$(call do_install,$<,$(INSTALL_HDRS_PFX)/fs/,644)\n\ninstall_headers: $(INSTALL_HDRS) $(INSTALL_FD_HDRS) $(INSTALL_FS_HDRS)\n\t$(call QUIET_INSTALL, libapi_headers)\n\ninstall: install_lib install_headers\n\nclean:\n\t$(call QUIET_CLEAN, libapi) $(RM) $(LIBFILE); \\\n\tfind $(or $(OUTPUT),.) -name \\*.o -or -name \\*.o.cmd -or -name \\*.o.d | xargs $(RM)\n\nFORCE:\n\n.PHONY: clean FORCE\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}