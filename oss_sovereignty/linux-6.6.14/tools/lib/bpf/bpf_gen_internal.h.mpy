{
  "module_name": "bpf_gen_internal.h",
  "hash_id": "28bec03cd8590a3c2e2f20ac6153989cabb2eeb29e5d800be688a7bdf2da25eb",
  "original_prompt": "Ingested from linux-6.6.14/tools/lib/bpf/bpf_gen_internal.h",
  "human_readable_source": " \n \n#ifndef __BPF_GEN_INTERNAL_H\n#define __BPF_GEN_INTERNAL_H\n\n#include \"bpf.h\"\n\nstruct ksym_relo_desc {\n\tconst char *name;\n\tint kind;\n\tint insn_idx;\n\tbool is_weak;\n\tbool is_typeless;\n\tbool is_ld64;\n};\n\nstruct ksym_desc {\n\tconst char *name;\n\tint ref;\n\tint kind;\n\tunion {\n\t\t \n\t\tint off;\n\t\t \n\t\tbool typeless;\n\t};\n\tint insn;\n\tbool is_ld64;\n};\n\nstruct bpf_gen {\n\tstruct gen_loader_opts *opts;\n\tvoid *data_start;\n\tvoid *data_cur;\n\tvoid *insn_start;\n\tvoid *insn_cur;\n\tssize_t cleanup_label;\n\t__u32 nr_progs;\n\t__u32 nr_maps;\n\tint log_level;\n\tint error;\n\tstruct ksym_relo_desc *relos;\n\tint relo_cnt;\n\tstruct bpf_core_relo *core_relos;\n\tint core_relo_cnt;\n\tchar attach_target[128];\n\tint attach_kind;\n\tstruct ksym_desc *ksyms;\n\t__u32 nr_ksyms;\n\tint fd_array;\n\tint nr_fd_array;\n};\n\nvoid bpf_gen__init(struct bpf_gen *gen, int log_level, int nr_progs, int nr_maps);\nint bpf_gen__finish(struct bpf_gen *gen, int nr_progs, int nr_maps);\nvoid bpf_gen__free(struct bpf_gen *gen);\nvoid bpf_gen__load_btf(struct bpf_gen *gen, const void *raw_data, __u32 raw_size);\nvoid bpf_gen__map_create(struct bpf_gen *gen,\n\t\t\t enum bpf_map_type map_type, const char *map_name,\n\t\t\t __u32 key_size, __u32 value_size, __u32 max_entries,\n\t\t\t struct bpf_map_create_opts *map_attr, int map_idx);\nvoid bpf_gen__prog_load(struct bpf_gen *gen,\n\t\t\tenum bpf_prog_type prog_type, const char *prog_name,\n\t\t\tconst char *license, struct bpf_insn *insns, size_t insn_cnt,\n\t\t\tstruct bpf_prog_load_opts *load_attr, int prog_idx);\nvoid bpf_gen__map_update_elem(struct bpf_gen *gen, int map_idx, void *value, __u32 value_size);\nvoid bpf_gen__map_freeze(struct bpf_gen *gen, int map_idx);\nvoid bpf_gen__record_attach_target(struct bpf_gen *gen, const char *name, enum bpf_attach_type type);\nvoid bpf_gen__record_extern(struct bpf_gen *gen, const char *name, bool is_weak,\n\t\t\t    bool is_typeless, bool is_ld64, int kind, int insn_idx);\nvoid bpf_gen__record_relo_core(struct bpf_gen *gen, const struct bpf_core_relo *core_relo);\nvoid bpf_gen__populate_outer_map(struct bpf_gen *gen, int outer_map_idx, int key, int inner_map_idx);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}