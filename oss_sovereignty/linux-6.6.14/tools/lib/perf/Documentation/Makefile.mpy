{
  "module_name": "Makefile",
  "hash_id": "8f4c6233652890b3c67f6ff18a8ff51010e24d70bae11eda2feee291eeb43c7c",
  "original_prompt": "Ingested from linux-6.6.14/tools/lib/perf/Documentation/Makefile",
  "human_readable_source": "# SPDX-License-Identifier: (LGPL-2.1 OR BSD-2-Clause)\n# Most of this file is copied from tools/perf/Documentation/Makefile\n\ninclude ../../../scripts/Makefile.include\ninclude ../../../scripts/utilities.mak\n\nMAN3_TXT  = libperf.txt\nMAN7_TXT  = libperf-counting.txt libperf-sampling.txt\nMAN_EX    = examples/*.c\n\nMAN_TXT   = $(MAN3_TXT) $(MAN7_TXT)\n\n_MAN_XML  = $(patsubst %.txt,%.xml,$(MAN_TXT))\n_MAN_HTML = $(patsubst %.txt,%.html,$(MAN_TXT))\n_MAN_3    = $(patsubst %.txt,%.3,$(MAN3_TXT))\n_MAN_7    = $(patsubst %.txt,%.7,$(MAN7_TXT))\n\nMAN_XML   = $(addprefix $(OUTPUT),$(_MAN_XML))\nMAN_HTML  = $(addprefix $(OUTPUT),$(_MAN_HTML))\nMAN_3     = $(addprefix $(OUTPUT),$(_MAN_3))\nMAN_7     = $(addprefix $(OUTPUT),$(_MAN_7))\nMAN_X     = $(MAN_3) $(MAN_7)\n\n# Make the path relative to DESTDIR, not prefix\nifndef DESTDIR\n  prefix ?=$(HOME)\nendif\n\nmandir  ?= $(prefix)/share/man\nman3dir  = $(mandir)/man3\nman7dir  = $(mandir)/man7\n\ndocdir  ?= $(prefix)/share/doc/libperf\nhtmldir  = $(docdir)/html\nexdir    = $(docdir)/examples\n\nASCIIDOC        = asciidoc\nASCIIDOC_EXTRA  = --unsafe -f asciidoc.conf\nASCIIDOC_HTML   = xhtml11\nMANPAGE_XSL     = manpage-normal.xsl\nXMLTO_EXTRA     =\nXMLTO           =xmlto\n\nINSTALL ?= install\nRM      ?= rm -f\n\n# For asciidoc ...\n#\t-7.1.2,\tno extra settings are needed.\n#\t8.0-,\tset ASCIIDOC8.\n#\n\n# For docbook-xsl ...\n#\t-1.68.1,\tset ASCIIDOC_NO_ROFF? (based on changelog from 1.73.0)\n#\t1.69.0,\t\tno extra settings are needed?\n#\t1.69.1-1.71.0,\tset DOCBOOK_SUPPRESS_SP?\n#\t1.71.1,\t\tno extra settings are needed?\n#\t1.72.0,\t\tset DOCBOOK_XSL_172.\n#\t1.73.0-,\tset ASCIIDOC_NO_ROFF\n\n# If you had been using DOCBOOK_XSL_172 in an attempt to get rid\n# of 'the \".ft C\" problem' in your generated manpages, and you\n# instead ended up with weird characters around callouts, try\n# using ASCIIDOC_NO_ROFF instead (it works fine with ASCIIDOC8).\n\nifdef ASCIIDOC8\n  ASCIIDOC_EXTRA += -a asciidoc7compatible\nendif\nifdef DOCBOOK_XSL_172\n  ASCIIDOC_EXTRA += -a libperf-asciidoc-no-roff\n  MANPAGE_XSL = manpage-1.72.xsl\nelse\n  ifdef ASCIIDOC_NO_ROFF\n    # docbook-xsl after 1.72 needs the regular XSL, but will not\n    # pass-thru raw roff codes from asciidoc.conf, so turn them off.\n    ASCIIDOC_EXTRA += -a libperf-asciidoc-no-roff\n  endif\nendif\nifdef MAN_BOLD_LITERAL\n  XMLTO_EXTRA += -m manpage-bold-literal.xsl\nendif\nifdef DOCBOOK_SUPPRESS_SP\n  XMLTO_EXTRA += -m manpage-suppress-sp.xsl\nendif\n\nDESTDIR ?=\nDESTDIR_SQ = '$(subst ','\\'',$(DESTDIR))'\n\nexport DESTDIR DESTDIR_SQ\n\n# Please note that there is a minor bug in asciidoc.\n# The version after 6.0.3 _will_ include the patch found here:\n#   http://marc.theaimsgroup.com/?l=libtraceevent&m=111558757202243&w=2\n#\n# Until that version is released you may have to apply the patch\n# yourself - yes, all 6 characters of it!\n\nQUIET_SUBDIR0  = +$(MAKE) -C # space to separate -C and subdir\nQUIET_SUBDIR1  =\n\nifneq ($(findstring $(MAKEFLAGS),w),w)\n  PRINT_DIR = --no-print-directory\nelse # \"make -w\"\n  NO_SUBDIR = :\nendif\n\nifneq ($(findstring $(MAKEFLAGS),s),s)\n  ifneq ($(V),1)\n    QUIET_ASCIIDOC = @echo '  ASCIIDOC '$@;\n    QUIET_XMLTO    = @echo '  XMLTO    '$@;\n  endif\nendif\n\nall: $(MAN_X) $(MAN_HTML)\n\n$(MAN_HTML) $(MAN_X): asciidoc.conf\n\ninstall-man: all\n\t$(call QUIET_INSTALL, man) \\\n\t\t$(INSTALL) -d -m 755 $(DESTDIR)$(man3dir); \\\n\t\t$(INSTALL) -m 644 $(MAN_3) $(DESTDIR)$(man3dir); \\\n\t\t$(INSTALL) -d -m 755 $(DESTDIR)$(man7dir); \\\n\t\t$(INSTALL) -m 644 $(MAN_7) $(DESTDIR)$(man7dir);\n\ninstall-html:\n\t$(call QUIET_INSTALL, html) \\\n\t\t$(INSTALL) -d -m 755 $(DESTDIR)$(htmldir); \\\n\t\t$(INSTALL) -m 644 $(MAN_HTML) $(DESTDIR)$(htmldir); \\\n\ninstall-examples:\n\t$(call QUIET_INSTALL, examples) \\\n\t\t$(INSTALL) -d -m 755 $(DESTDIR)$(exdir); \\\n\t\t$(INSTALL) -m 644 $(MAN_EX) $(DESTDIR)$(exdir); \\\n\nCLEAN_FILES =\t\t\t\t\t\\\n\t$(MAN_XML) $(addsuffix +,$(MAN_XML))\t\\\n\t$(MAN_HTML) $(addsuffix +,$(MAN_HTML))\t\\\n\t$(MAN_X)\n\nclean:\n\t$(call QUIET_CLEAN, Documentation) $(RM) $(CLEAN_FILES)\n\n$(MAN_3): $(OUTPUT)%.3: %.xml\n\t$(QUIET_XMLTO)$(XMLTO) -o $(OUTPUT). -m $(MANPAGE_XSL) $(XMLTO_EXTRA) man $<\n\n$(MAN_7): $(OUTPUT)%.7: %.xml\n\t$(QUIET_XMLTO)$(XMLTO) -o $(OUTPUT). -m $(MANPAGE_XSL) $(XMLTO_EXTRA) man $<\n\n$(MAN_XML): $(OUTPUT)%.xml: %.txt\n\t$(QUIET_ASCIIDOC)$(ASCIIDOC) -b docbook -d manpage \\\n\t\t$(ASCIIDOC_EXTRA) -alibperf_version=$(EVENT_PARSE_VERSION) -o $@+ $< && \\\n\tmv $@+ $@\n\n$(MAN_HTML): $(OUTPUT)%.html: %.txt\n\t$(QUIET_ASCIIDOC)$(ASCIIDOC) -b $(ASCIIDOC_HTML) -d manpage \\\n\t$(ASCIIDOC_EXTRA) -aperf_version=$(EVENT_PARSE_VERSION) -o $@+ $< && \\\n\tmv $@+ $@\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}