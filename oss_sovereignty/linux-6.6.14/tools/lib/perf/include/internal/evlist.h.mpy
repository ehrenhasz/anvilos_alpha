{
  "module_name": "evlist.h",
  "hash_id": "5aaac2ce4f2e83838b45e11f9e05af16d044975f1c4fe44b4d5554765eb751ad",
  "original_prompt": "Ingested from linux-6.6.14/tools/lib/perf/include/internal/evlist.h",
  "human_readable_source": " \n#ifndef __LIBPERF_INTERNAL_EVLIST_H\n#define __LIBPERF_INTERNAL_EVLIST_H\n\n#include <linux/list.h>\n#include <api/fd/array.h>\n#include <internal/cpumap.h>\n#include <internal/evsel.h>\n\n#define PERF_EVLIST__HLIST_BITS 8\n#define PERF_EVLIST__HLIST_SIZE (1 << PERF_EVLIST__HLIST_BITS)\n\nstruct perf_cpu_map;\nstruct perf_thread_map;\nstruct perf_mmap_param;\n\nstruct perf_evlist {\n\tstruct list_head\t entries;\n\tint\t\t\t nr_entries;\n\tbool\t\t\t has_user_cpus;\n\tbool\t\t\t needs_map_propagation;\n\t \n\tstruct perf_cpu_map\t*user_requested_cpus;\n\t \n\tstruct perf_cpu_map\t*all_cpus;\n\tstruct perf_thread_map\t*threads;\n\tint\t\t\t nr_mmaps;\n\tsize_t\t\t\t mmap_len;\n\tstruct fdarray\t\t pollfd;\n\tstruct hlist_head\t heads[PERF_EVLIST__HLIST_SIZE];\n\tstruct perf_mmap\t*mmap;\n\tstruct perf_mmap\t*mmap_ovw;\n\tstruct perf_mmap\t*mmap_first;\n\tstruct perf_mmap\t*mmap_ovw_first;\n};\n\ntypedef void\n(*perf_evlist_mmap__cb_idx_t)(struct perf_evlist*, struct perf_evsel*,\n\t\t\t      struct perf_mmap_param*, int);\ntypedef struct perf_mmap*\n(*perf_evlist_mmap__cb_get_t)(struct perf_evlist*, bool, int);\ntypedef int\n(*perf_evlist_mmap__cb_mmap_t)(struct perf_mmap*, struct perf_mmap_param*, int, struct perf_cpu);\n\nstruct perf_evlist_mmap_ops {\n\tperf_evlist_mmap__cb_idx_t\tidx;\n\tperf_evlist_mmap__cb_get_t\tget;\n\tperf_evlist_mmap__cb_mmap_t\tmmap;\n};\n\nint perf_evlist__alloc_pollfd(struct perf_evlist *evlist);\nint perf_evlist__add_pollfd(struct perf_evlist *evlist, int fd,\n\t\t\t    void *ptr, short revent, enum fdarray_flags flags);\n\nint perf_evlist__mmap_ops(struct perf_evlist *evlist,\n\t\t\t  struct perf_evlist_mmap_ops *ops,\n\t\t\t  struct perf_mmap_param *mp);\n\nvoid perf_evlist__init(struct perf_evlist *evlist);\nvoid perf_evlist__exit(struct perf_evlist *evlist);\n\n \n#define __perf_evlist__for_each_entry(list, evsel) \\\n\tlist_for_each_entry(evsel, list, node)\n\n \n#define perf_evlist__for_each_entry(evlist, evsel) \\\n\t__perf_evlist__for_each_entry(&(evlist)->entries, evsel)\n\n \n#define __perf_evlist__for_each_entry_reverse(list, evsel) \\\n\tlist_for_each_entry_reverse(evsel, list, node)\n\n \n#define perf_evlist__for_each_entry_reverse(evlist, evsel) \\\n\t__perf_evlist__for_each_entry_reverse(&(evlist)->entries, evsel)\n\n \n#define __perf_evlist__for_each_entry_safe(list, tmp, evsel) \\\n\tlist_for_each_entry_safe(evsel, tmp, list, node)\n\n \n#define perf_evlist__for_each_entry_safe(evlist, tmp, evsel) \\\n\t__perf_evlist__for_each_entry_safe(&(evlist)->entries, tmp, evsel)\n\nstatic inline struct perf_evsel *perf_evlist__first(struct perf_evlist *evlist)\n{\n\treturn list_entry(evlist->entries.next, struct perf_evsel, node);\n}\n\nstatic inline struct perf_evsel *perf_evlist__last(struct perf_evlist *evlist)\n{\n\treturn list_entry(evlist->entries.prev, struct perf_evsel, node);\n}\n\nu64 perf_evlist__read_format(struct perf_evlist *evlist);\n\nvoid perf_evlist__id_add(struct perf_evlist *evlist,\n\t\t\t struct perf_evsel *evsel,\n\t\t\t int cpu, int thread, u64 id);\n\nint perf_evlist__id_add_fd(struct perf_evlist *evlist,\n\t\t\t   struct perf_evsel *evsel,\n\t\t\t   int cpu, int thread, int fd);\n\nvoid perf_evlist__reset_id_hash(struct perf_evlist *evlist);\n\nvoid __perf_evlist__set_leader(struct list_head *list, struct perf_evsel *leader);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}