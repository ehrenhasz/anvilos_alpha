{
  "module_name": "Makefile",
  "hash_id": "07bebc239288ba4faa8785399829a0190b231d26d929053bb387fe705ec6a38c",
  "original_prompt": "Ingested from linux-6.6.14/tools/lib/subcmd/Makefile",
  "human_readable_source": "# SPDX-License-Identifier: GPL-2.0\ninclude ../../scripts/Makefile.include\ninclude ../../scripts/utilities.mak\t\t# QUIET_CLEAN\n\nifeq ($(srctree),)\nsrctree := $(patsubst %/,%,$(dir $(CURDIR)))\nsrctree := $(patsubst %/,%,$(dir $(srctree)))\nsrctree := $(patsubst %/,%,$(dir $(srctree)))\n#$(info Determined 'srctree' to be $(srctree))\nendif\n\nCC ?= $(CROSS_COMPILE)gcc\nLD ?= $(CROSS_COMPILE)ld\nAR ?= $(CROSS_COMPILE)ar\n\nRM = rm -f\n\nMAKEFLAGS += --no-print-directory\n\nINSTALL = install\n\n# Use DESTDIR for installing into a different root directory.\n# This is useful for building a package. The program will be\n# installed in this directory as if it was the root directory.\n# Then the build tool can move it later.\nDESTDIR ?=\nDESTDIR_SQ = '$(subst ','\\'',$(DESTDIR))'\n\nLIBFILE = $(OUTPUT)libsubcmd.a\n\nCFLAGS := -ggdb3 -Wall -Wextra -std=gnu99 -fPIC\n\nifeq ($(DEBUG),0)\n  ifeq ($(feature-fortify-source), 1)\n    CFLAGS += -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=2\n  endif\nendif\n\nifeq ($(DEBUG),1)\n  CFLAGS += -O0\nelse ifeq ($(CC_NO_CLANG), 0)\n  CFLAGS += -O3\nelse\n  CFLAGS += -O6\nendif\n\n# Treat warnings as errors unless directed not to\nifneq ($(WERROR),0)\n  CFLAGS += -Werror\nendif\n\nCFLAGS += -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64 -D_GNU_SOURCE\n\nCFLAGS += -I$(srctree)/tools/include/\n\nCFLAGS += $(EXTRA_WARNINGS) $(EXTRA_CFLAGS)\n\nSUBCMD_IN := $(OUTPUT)libsubcmd-in.o\n\nifeq ($(LP64), 1)\n  libdir_relative = lib64\nelse\n  libdir_relative = lib\nendif\n\nprefix ?=\nlibdir = $(prefix)/$(libdir_relative)\n\n# Shell quotes\nlibdir_SQ = $(subst ','\\'',$(libdir))\n\nall:\n\nexport srctree OUTPUT CC LD CFLAGS V\ninclude $(srctree)/tools/build/Makefile.include\n\nall: fixdep $(LIBFILE)\n\n$(SUBCMD_IN): FORCE\n\t@$(MAKE) $(build)=libsubcmd\n\n$(LIBFILE): $(SUBCMD_IN)\n\t$(QUIET_AR)$(RM) $@ && $(AR) rcs $@ $(SUBCMD_IN)\n\ndefine do_install_mkdir\n\tif [ ! -d '$(DESTDIR_SQ)$1' ]; then             \\\n\t\t$(INSTALL) -d -m 755 '$(DESTDIR_SQ)$1'; \\\n\tfi\nendef\n\ndefine do_install\n\tif [ ! -d '$2' ]; then             \\\n\t\t$(INSTALL) -d -m 755 '$2'; \\\n\tfi;                                             \\\n\t$(INSTALL) $1 $(if $3,-m $3,) '$2'\nendef\n\ninstall_lib: $(LIBFILE)\n\t$(call QUIET_INSTALL, $(LIBFILE)) \\\n\t\t$(call do_install_mkdir,$(libdir_SQ)); \\\n\t\tcp -fpR $(LIBFILE) $(DESTDIR)$(libdir_SQ)\n\nHDRS := exec-cmd.h help.h pager.h parse-options.h run-command.h\nINSTALL_HDRS_PFX := $(DESTDIR)$(prefix)/include/subcmd\nINSTALL_HDRS := $(addprefix $(INSTALL_HDRS_PFX)/, $(HDRS))\n\n$(INSTALL_HDRS): $(INSTALL_HDRS_PFX)/%.h: %.h\n\t$(call QUIET_INSTALL, $@) \\\n\t\t$(call do_install,$<,$(INSTALL_HDRS_PFX)/,644)\n\ninstall_headers: $(INSTALL_HDRS)\n\t$(call QUIET_INSTALL, libsubcmd_headers)\n\ninstall: install_lib install_headers\n\nclean:\n\t$(call QUIET_CLEAN, libsubcmd) $(RM) $(LIBFILE); \\\n\tfind $(or $(OUTPUT),.) -name \\*.o -or -name \\*.o.cmd -or -name \\*.o.d | xargs $(RM)\n\nFORCE:\n\n.PHONY: clean FORCE\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}