{
  "module_name": "Makefile",
  "hash_id": "a0557208256de5411fd9e3460a0ff70bdda38b661682d9ad795f05dc044a4e12",
  "original_prompt": "Ingested from linux-6.6.14/tools/thermal/tmon/Makefile",
  "human_readable_source": "# SPDX-License-Identifier: GPL-2.0\n# We need this for the \"cc-option\" macro.\ninclude ../../build/Build.include\n\nVERSION = 1.0\n\nBINDIR=usr/bin\nWARNFLAGS=-Wall -Wshadow -W -Wformat -Wimplicit-function-declaration -Wimplicit-int\noverride CFLAGS+= $(call cc-option,-O3,-O1) ${WARNFLAGS}\n# Add \"-fstack-protector\" only if toolchain supports it.\noverride CFLAGS+= $(call cc-option,-fstack-protector-strong)\nCC?= $(CROSS_COMPILE)gcc\nPKG_CONFIG?= $(CROSS_COMPILE)pkg-config\n\noverride CFLAGS+=-D VERSION=\\\"$(VERSION)\\\"\nTARGET=tmon\n\nINSTALL_PROGRAM=install -m 755 -p\nDEL_FILE=rm -f\n\n# Static builds might require -ltinfo, for instance\nifneq ($(findstring -static, $(LDFLAGS)),)\nSTATIC := --static\nendif\n\nTMON_LIBS=-lm -lpthread\nTMON_LIBS += $(shell $(PKG_CONFIG) --libs $(STATIC) panelw ncursesw 2> /dev/null || \\\n\t\t     $(PKG_CONFIG) --libs $(STATIC) panel ncurses 2> /dev/null || \\\n\t\t     echo -lpanel -lncurses)\n\noverride CFLAGS += $(shell $(PKG_CONFIG) --cflags $(STATIC) panelw ncursesw 2> /dev/null || \\\n\t\t     $(PKG_CONFIG) --cflags $(STATIC) panel ncurses 2> /dev/null)\n\nOBJS = tmon.o tui.o sysfs.o pid.o\n\ntmon: $(OBJS) Makefile tmon.h\n\t$(CC) $(CFLAGS) $(LDFLAGS) $(OBJS)  -o $(TARGET) $(TMON_LIBS)\n\nvalgrind: tmon\n\t sudo valgrind -v --track-origins=yes --tool=memcheck --leak-check=yes --show-reachable=yes --num-callers=20 --track-fds=yes ./$(TARGET)  1> /dev/null\n\ninstall:\n\t- $(INSTALL_PROGRAM) -D \"$(TARGET)\" \"$(INSTALL_ROOT)/$(BINDIR)/$(TARGET)\"\n\nuninstall:\n\t$(DEL_FILE) \"$(INSTALL_ROOT)/$(BINDIR)/$(TARGET)\"\n\nclean:\n\trm -f $(TARGET) $(OBJS)\n\ndist:\n\tgit tag v$(VERSION)\n\tgit archive --format=tar --prefix=\"$(TARGET)-$(VERSION)/\" v$(VERSION) | \\\n\t\tgzip > $(TARGET)-$(VERSION).tar.gz\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}