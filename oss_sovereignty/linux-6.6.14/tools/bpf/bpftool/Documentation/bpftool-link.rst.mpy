{
  "module_name": "bpftool-link.rst",
  "hash_id": "643f8d3f8aaff1b864852a40f1ed3959701a1f81d159ffc7155d5496cdd2f7fa",
  "original_prompt": "Ingested from linux-6.6.14/tools/bpf/bpftool/Documentation/bpftool-link.rst",
  "human_readable_source": ".. SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)\n\n================\nbpftool-link\n================\n-------------------------------------------------------------------------------\ntool for inspection and simple manipulation of eBPF links\n-------------------------------------------------------------------------------\n\n:Manual section: 8\n\n.. include:: substitutions.rst\n\nSYNOPSIS\n========\n\n\t**bpftool** [*OPTIONS*] **link** *COMMAND*\n\n\t*OPTIONS* := { |COMMON_OPTIONS| | { **-f** | **--bpffs** } | { **-n** | **--nomount** } }\n\n\t*COMMANDS* := { **show** | **list** | **pin** | **help** }\n\nLINK COMMANDS\n=============\n\n|\t**bpftool** **link { show | list }** [*LINK*]\n|\t**bpftool** **link pin** *LINK* *FILE*\n|\t**bpftool** **link detach** *LINK*\n|\t**bpftool** **link help**\n|\n|\t*LINK* := { **id** *LINK_ID* | **pinned** *FILE* }\n\n\nDESCRIPTION\n===========\n\t**bpftool link { show | list }** [*LINK*]\n\t\t  Show information about active links. If *LINK* is\n\t\t  specified show information only about given link,\n\t\t  otherwise list all links currently active on the system.\n\n\t\t  Output will start with link ID followed by link type and\n\t\t  zero or more named attributes, some of which depend on type\n\t\t  of link.\n\n\t\t  Since Linux 5.8 bpftool is able to discover information about\n\t\t  processes that hold open file descriptors (FDs) against BPF\n\t\t  links. On such kernels bpftool will automatically emit this\n\t\t  information as well.\n\n\t**bpftool link pin** *LINK* *FILE*\n\t\t  Pin link *LINK* as *FILE*.\n\n\t\t  Note: *FILE* must be located in *bpffs* mount. It must not\n\t\t  contain a dot character ('.'), which is reserved for future\n\t\t  extensions of *bpffs*.\n\n\t**bpftool link detach** *LINK*\n\t\t  Force-detach link *LINK*. BPF link and its underlying BPF\n\t\t  program will stay valid, but they will be detached from the\n\t\t  respective BPF hook and BPF link will transition into\n\t\t  a defunct state until last open file descriptor for that\n\t\t  link is closed.\n\n\t**bpftool link help**\n\t\t  Print short help message.\n\nOPTIONS\n=======\n\t.. include:: common_options.rst\n\n\t-f, --bpffs\n\t\t  When showing BPF links, show file names of pinned\n\t\t  links.\n\n\t-n, --nomount\n\t\t  Do not automatically attempt to mount any virtual file system\n\t\t  (such as tracefs or BPF virtual file system) when necessary.\n\nEXAMPLES\n========\n**# bpftool link show**\n\n::\n\n    10: cgroup  prog 25\n            cgroup_id 614  attach_type egress\n            pids test_progs(223)\n\n**# bpftool --json --pretty link show**\n\n::\n\n    [{\n            \"type\": \"cgroup\",\n            \"prog_id\": 25,\n            \"cgroup_id\": 614,\n            \"attach_type\": \"egress\",\n            \"pids\": [{\n                    \"pid\": 223,\n                    \"comm\": \"test_progs\"\n                }\n            ]\n        }\n    ]\n\n|\n| **# bpftool link pin id 10 /sys/fs/bpf/link**\n| **# ls -l /sys/fs/bpf/**\n\n::\n\n    -rw------- 1 root root 0 Apr 23 21:39 link\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}