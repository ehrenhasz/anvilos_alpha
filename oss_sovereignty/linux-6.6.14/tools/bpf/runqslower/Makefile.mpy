{
  "module_name": "Makefile",
  "hash_id": "8b9d02a0af9abbd735273c4fbd7ae635bab237ef93701797feebaf751a8cc436",
  "original_prompt": "Ingested from linux-6.6.14/tools/bpf/runqslower/Makefile",
  "human_readable_source": "# SPDX-License-Identifier: (LGPL-2.1 OR BSD-2-Clause)\ninclude ../../scripts/Makefile.include\n\nOUTPUT ?= $(abspath .output)/\n\nBPFTOOL_OUTPUT := $(OUTPUT)bpftool/\nDEFAULT_BPFTOOL := $(BPFTOOL_OUTPUT)bootstrap/bpftool\nBPFTOOL ?= $(DEFAULT_BPFTOOL)\nLIBBPF_SRC := $(abspath ../../lib/bpf)\nBPFOBJ_OUTPUT := $(OUTPUT)libbpf/\nBPFOBJ := $(BPFOBJ_OUTPUT)libbpf.a\nBPF_DESTDIR := $(BPFOBJ_OUTPUT)\nBPF_INCLUDE := $(BPF_DESTDIR)/include\nINCLUDES := -I$(OUTPUT) -I$(BPF_INCLUDE) -I$(abspath ../../include/uapi)\nCFLAGS := -g -Wall $(CLANG_CROSS_FLAGS)\nCFLAGS += $(EXTRA_CFLAGS)\nLDFLAGS += $(EXTRA_LDFLAGS)\n\n# Try to detect best kernel BTF source\nKERNEL_REL := $(shell uname -r)\nVMLINUX_BTF_PATHS := $(if $(O),$(O)/vmlinux)\t\t\\\n\t$(if $(KBUILD_OUTPUT),$(KBUILD_OUTPUT)/vmlinux) \\\n\t../../../vmlinux /sys/kernel/btf/vmlinux\t\\\n\t/boot/vmlinux-$(KERNEL_REL)\nVMLINUX_BTF_PATH := $(or $(VMLINUX_BTF),$(firstword\t\t\t       \\\n\t\t\t\t\t  $(wildcard $(VMLINUX_BTF_PATHS))))\n\nifeq ($(V),1)\nQ =\nelse\nQ = @\nMAKEFLAGS += --no-print-directory\nsubmake_extras := feature_display=0\nendif\n\n.DELETE_ON_ERROR:\n\n.PHONY: all clean runqslower libbpf_hdrs\nall: runqslower\n\nrunqslower: $(OUTPUT)/runqslower\n\nclean:\n\t$(call QUIET_CLEAN, runqslower)\n\t$(Q)$(RM) -r $(BPFOBJ_OUTPUT) $(BPFTOOL_OUTPUT)\n\t$(Q)$(RM) $(OUTPUT)*.o $(OUTPUT)*.d\n\t$(Q)$(RM) $(OUTPUT)*.skel.h $(OUTPUT)vmlinux.h\n\t$(Q)$(RM) $(OUTPUT)runqslower\n\t$(Q)$(RM) -r .output\n\nlibbpf_hdrs: $(BPFOBJ)\n\n$(OUTPUT)/runqslower: $(OUTPUT)/runqslower.o $(BPFOBJ)\n\t$(QUIET_LINK)$(CC) $(CFLAGS) $^ -lelf -lz -o $@\n\n$(OUTPUT)/runqslower.o: runqslower.h $(OUTPUT)/runqslower.skel.h\t      \\\n\t\t\t$(OUTPUT)/runqslower.bpf.o | libbpf_hdrs\n\n$(OUTPUT)/runqslower.bpf.o: $(OUTPUT)/vmlinux.h runqslower.h | libbpf_hdrs\n\n$(OUTPUT)/%.skel.h: $(OUTPUT)/%.bpf.o | $(BPFTOOL)\n\t$(QUIET_GEN)$(BPFTOOL) gen skeleton $< > $@\n\n$(OUTPUT)/%.bpf.o: %.bpf.c $(BPFOBJ) | $(OUTPUT)\n\t$(QUIET_GEN)$(CLANG) -g -O2 --target=bpf $(INCLUDES)\t\t      \\\n\t\t -c $(filter %.c,$^) -o $@ &&\t\t\t\t      \\\n\t$(LLVM_STRIP) -g $@\n\n$(OUTPUT)/%.o: %.c | $(OUTPUT)\n\t$(QUIET_CC)$(CC) $(CFLAGS) $(INCLUDES) -c $(filter %.c,$^) -o $@\n\n$(OUTPUT) $(BPFOBJ_OUTPUT) $(BPFTOOL_OUTPUT):\n\t$(QUIET_MKDIR)mkdir -p $@\n\n$(OUTPUT)/vmlinux.h: $(VMLINUX_BTF_PATH) | $(OUTPUT) $(BPFTOOL)\nifeq ($(VMLINUX_H),)\n\t$(Q)if [ ! -e \"$(VMLINUX_BTF_PATH)\" ] ; then \\\n\t\techo \"Couldn't find kernel BTF; set VMLINUX_BTF to\"\t       \\\n\t\t\t\"specify its location.\" >&2;\t\t\t       \\\n\t\texit 1;\\\n\tfi\n\t$(QUIET_GEN)$(BPFTOOL) btf dump file $(VMLINUX_BTF_PATH) format c > $@\nelse\n\t$(Q)cp \"$(VMLINUX_H)\" $@\nendif\n\n$(BPFOBJ): $(wildcard $(LIBBPF_SRC)/*.[ch] $(LIBBPF_SRC)/Makefile) | $(BPFOBJ_OUTPUT)\n\t$(Q)$(MAKE) $(submake_extras) -C $(LIBBPF_SRC) OUTPUT=$(BPFOBJ_OUTPUT) \\\n\t\t    DESTDIR=$(BPFOBJ_OUTPUT) prefix= $(abspath $@) install_headers\n\n$(DEFAULT_BPFTOOL): | $(BPFTOOL_OUTPUT)\n\t$(Q)$(MAKE) $(submake_extras) -C ../bpftool OUTPUT=$(BPFTOOL_OUTPUT) bootstrap\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}