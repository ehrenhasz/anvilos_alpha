{
  "module_name": "Makefile",
  "hash_id": "6f34956746c66416ba2707c753b1d1d8fe4f3ab85990e1d41d27dfaf98c5bf7b",
  "original_prompt": "Ingested from linux-6.6.14/tools/bpf/Makefile",
  "human_readable_source": "# SPDX-License-Identifier: GPL-2.0\ninclude ../scripts/Makefile.include\n\nprefix ?= /usr/local\n\nLEX = flex\nYACC = bison\nMAKE = make\nINSTALL ?= install\n\nCFLAGS += -Wall -O2\nCFLAGS += -D__EXPORTED_HEADERS__ -I$(srctree)/tools/include/uapi \\\n\t  -I$(srctree)/tools/include\n\n# This will work when bpf is built in tools env. where srctree\n# isn't set and when invoked from selftests build, where srctree\n# is set to \".\". building_out_of_srctree is undefined for in srctree\n# builds\nifeq ($(srctree),)\nupdate_srctree := 1\nendif\nifndef building_out_of_srctree\nupdate_srctree := 1\nendif\nifeq ($(update_srctree),1)\nsrctree := $(patsubst %/,%,$(dir $(CURDIR)))\nsrctree := $(patsubst %/,%,$(dir $(srctree)))\nendif\n\nifeq ($(V),1)\n  Q =\nelse\n  Q = @\nendif\n\nFEATURE_USER = .bpf\nFEATURE_TESTS = libbfd disassembler-four-args disassembler-init-styled\nFEATURE_DISPLAY = libbfd\n\ncheck_feat := 1\nNON_CHECK_FEAT_TARGETS := clean bpftool_clean runqslower_clean resolve_btfids_clean\nifdef MAKECMDGOALS\nifeq ($(filter-out $(NON_CHECK_FEAT_TARGETS),$(MAKECMDGOALS)),)\n  check_feat := 0\nendif\nendif\n\nifeq ($(check_feat),1)\nifeq ($(FEATURES_DUMP),)\ninclude $(srctree)/tools/build/Makefile.feature\nelse\ninclude $(FEATURES_DUMP)\nendif\nendif\n\nifeq ($(feature-disassembler-four-args), 1)\nCFLAGS += -DDISASM_FOUR_ARGS_SIGNATURE\nendif\nifeq ($(feature-disassembler-init-styled), 1)\nCFLAGS += -DDISASM_INIT_STYLED\nendif\n\n$(OUTPUT)%.yacc.c: $(srctree)/tools/bpf/%.y\n\t$(QUIET_BISON)$(YACC) -o $@ -d $<\n\n$(OUTPUT)%.lex.c: $(srctree)/tools/bpf/%.l\n\t$(QUIET_FLEX)$(LEX) -o $@ $<\n\n$(OUTPUT)%.o: $(srctree)/tools/bpf/%.c\n\t$(QUIET_CC)$(CC) $(CFLAGS) -c -o $@ $<\n\n$(OUTPUT)%.yacc.o: $(OUTPUT)%.yacc.c\n\t$(QUIET_CC)$(CC) $(CFLAGS) -c -o $@ $<\n$(OUTPUT)%.lex.o: $(OUTPUT)%.lex.c\n\t$(QUIET_CC)$(CC) $(CFLAGS) -c -o $@ $<\n\nPROGS = $(OUTPUT)bpf_jit_disasm $(OUTPUT)bpf_dbg $(OUTPUT)bpf_asm\n\nall: $(PROGS) bpftool runqslower\n\n$(OUTPUT)bpf_jit_disasm: CFLAGS += -DPACKAGE='bpf_jit_disasm'\n$(OUTPUT)bpf_jit_disasm: $(OUTPUT)bpf_jit_disasm.o\n\t$(QUIET_LINK)$(CC) $(CFLAGS) -o $@ $^ -lopcodes -lbfd -ldl\n\n$(OUTPUT)bpf_dbg: $(OUTPUT)bpf_dbg.o\n\t$(QUIET_LINK)$(CC) $(CFLAGS) -o $@ $^ -lreadline\n\n$(OUTPUT)bpf_asm: $(OUTPUT)bpf_asm.o $(OUTPUT)bpf_exp.yacc.o $(OUTPUT)bpf_exp.lex.o\n\t$(QUIET_LINK)$(CC) $(CFLAGS) -o $@ $^\n\n$(OUTPUT)bpf_exp.lex.c: $(OUTPUT)bpf_exp.yacc.c\n$(OUTPUT)bpf_exp.yacc.o: $(OUTPUT)bpf_exp.yacc.c\n$(OUTPUT)bpf_exp.lex.o: $(OUTPUT)bpf_exp.lex.c\n\nclean: bpftool_clean runqslower_clean resolve_btfids_clean\n\t$(call QUIET_CLEAN, bpf-progs)\n\t$(Q)$(RM) -r -- $(OUTPUT)*.o $(OUTPUT)bpf_jit_disasm $(OUTPUT)bpf_dbg \\\n\t       $(OUTPUT)bpf_asm $(OUTPUT)bpf_exp.yacc.* $(OUTPUT)bpf_exp.lex.*\n\t$(call QUIET_CLEAN, core-gen)\n\t$(Q)$(RM) -- $(OUTPUT)FEATURE-DUMP.bpf\n\t$(Q)$(RM) -r -- $(OUTPUT)feature\n\ninstall: $(PROGS) bpftool_install\n\t$(call QUIET_INSTALL, bpf_jit_disasm)\n\t$(Q)$(INSTALL) -m 0755 -d $(DESTDIR)$(prefix)/bin\n\t$(Q)$(INSTALL) $(OUTPUT)bpf_jit_disasm $(DESTDIR)$(prefix)/bin/bpf_jit_disasm\n\t$(call QUIET_INSTALL, bpf_dbg)\n\t$(Q)$(INSTALL) $(OUTPUT)bpf_dbg $(DESTDIR)$(prefix)/bin/bpf_dbg\n\t$(call QUIET_INSTALL, bpf_asm)\n\t$(Q)$(INSTALL) $(OUTPUT)bpf_asm $(DESTDIR)$(prefix)/bin/bpf_asm\n\nbpftool:\n\t$(call descend,bpftool)\n\nbpftool_install:\n\t$(call descend,bpftool,install)\n\nbpftool_clean:\n\t$(call descend,bpftool,clean)\n\nrunqslower:\n\t$(call descend,runqslower)\n\nrunqslower_clean:\n\t$(call descend,runqslower,clean)\n\nresolve_btfids:\n\t$(call descend,resolve_btfids)\n\nresolve_btfids_clean:\n\t$(call descend,resolve_btfids,clean)\n\n.PHONY: all install clean bpftool bpftool_install bpftool_clean \\\n\trunqslower runqslower_clean \\\n\tresolve_btfids resolve_btfids_clean\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}