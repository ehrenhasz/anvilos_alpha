{
  "module_name": "regression3.c",
  "hash_id": "73102cd0ead70d99c1bc284fbdcb4f397a7bcfbadb62448dce27c5b19a51b965",
  "original_prompt": "Ingested from linux-6.6.14/tools/testing/radix-tree/regression3.c",
  "human_readable_source": "\n \n#include <linux/kernel.h>\n#include <linux/gfp.h>\n#include <linux/slab.h>\n#include <linux/radix-tree.h>\n#include <stdlib.h>\n#include <stdio.h>\n\n#include \"regression.h\"\n\nvoid regression3_test(void)\n{\n\tRADIX_TREE(root, GFP_KERNEL);\n\tvoid *ptr0 = (void *)4ul;\n\tvoid *ptr = (void *)8ul;\n\tstruct radix_tree_iter iter;\n\tvoid **slot;\n\tbool first;\n\n\tprintv(1, \"running regression test 3 (should take milliseconds)\\n\");\n\n\tradix_tree_insert(&root, 0, ptr0);\n\tradix_tree_tag_set(&root, 0, 0);\n\n\tfirst = true;\n\tradix_tree_for_each_tagged(slot, &root, &iter, 0, 0) {\n\t\tprintv(2, \"tagged %ld %p\\n\", iter.index, *slot);\n\t\tif (first) {\n\t\t\tradix_tree_insert(&root, 1, ptr);\n\t\t\tradix_tree_tag_set(&root, 1, 0);\n\t\t\tfirst = false;\n\t\t}\n\t\tif (radix_tree_deref_retry(*slot)) {\n\t\t\tprintv(2, \"retry at %ld\\n\", iter.index);\n\t\t\tslot = radix_tree_iter_retry(&iter);\n\t\t\tcontinue;\n\t\t}\n\t}\n\tradix_tree_delete(&root, 1);\n\n\tfirst = true;\n\tradix_tree_for_each_slot(slot, &root, &iter, 0) {\n\t\tprintv(2, \"slot %ld %p\\n\", iter.index, *slot);\n\t\tif (first) {\n\t\t\tradix_tree_insert(&root, 1, ptr);\n\t\t\tfirst = false;\n\t\t}\n\t\tif (radix_tree_deref_retry(*slot)) {\n\t\t\tprintv(2, \"retry at %ld\\n\", iter.index);\n\t\t\tslot = radix_tree_iter_retry(&iter);\n\t\t\tcontinue;\n\t\t}\n\t}\n\n\tradix_tree_for_each_slot(slot, &root, &iter, 0) {\n\t\tprintv(2, \"slot %ld %p\\n\", iter.index, *slot);\n\t\tif (!iter.index) {\n\t\t\tprintv(2, \"next at %ld\\n\", iter.index);\n\t\t\tslot = radix_tree_iter_resume(slot, &iter);\n\t\t}\n\t}\n\n\tradix_tree_tag_set(&root, 0, 0);\n\tradix_tree_tag_set(&root, 1, 0);\n\tradix_tree_for_each_tagged(slot, &root, &iter, 0, 0) {\n\t\tprintv(2, \"tagged %ld %p\\n\", iter.index, *slot);\n\t\tif (!iter.index) {\n\t\t\tprintv(2, \"next at %ld\\n\", iter.index);\n\t\t\tslot = radix_tree_iter_resume(slot, &iter);\n\t\t}\n\t}\n\n\tradix_tree_delete(&root, 0);\n\tradix_tree_delete(&root, 1);\n\n\tprintv(1, \"regression test 3 passed\\n\");\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}