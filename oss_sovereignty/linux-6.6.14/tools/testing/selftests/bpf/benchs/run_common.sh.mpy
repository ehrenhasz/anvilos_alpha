{
  "module_name": "run_common.sh",
  "hash_id": "b332acfa663bf6af6b07e4b2977e13f83ff8935024a820409e119640f9c368ba",
  "original_prompt": "Ingested from linux-6.6.14/tools/testing/selftests/bpf/benchs/run_common.sh",
  "human_readable_source": "#!/bin/bash\n# SPDX-License-Identifier: GPL-2.0\n\nRUN_BENCH=\"sudo ./bench -w3 -d10 -a\"\n\nfunction header()\n{\n\tlocal len=${#1}\n\n\tprintf \"\\n%s\\n\" \"$1\"\n\tfor i in $(seq 1 $len); do printf '='; done\n\tprintf '\\n'\n}\n\nfunction subtitle()\n{\n\tlocal len=${#1}\n\tprintf \"\\t%s\\n\" \"$1\"\n}\n\nfunction hits()\n{\n\techo \"$*\" | sed -E \"s/.*hits\\s+([0-9]+\\.[0-9]+ \u00b1 [0-9]+\\.[0-9]+M\\/s).*/\\1/\"\n}\n\nfunction drops()\n{\n\techo \"$*\" | sed -E \"s/.*drops\\s+([0-9]+\\.[0-9]+ \u00b1 [0-9]+\\.[0-9]+M\\/s).*/\\1/\"\n}\n\nfunction percentage()\n{\n\techo \"$*\" | sed -E \"s/.*Percentage\\s=\\s+([0-9]+\\.[0-9]+).*/\\1/\"\n}\n\nfunction ops()\n{\n\techo -n \"throughput: \"\n\techo -n \"$*\" | sed -E \"s/.*throughput\\s+([0-9]+\\.[0-9]+ \u00b1 [0-9]+\\.[0-9]+\\sM\\sops\\/s).*/\\1/\"\n\techo -n -e \", latency: \"\n\techo \"$*\" | sed -E \"s/.*latency\\s+([0-9]+\\.[0-9]+\\sns\\/op).*/\\1/\"\n}\n\nfunction local_storage()\n{\n\techo -n \"hits throughput: \"\n\techo -n \"$*\" | sed -E \"s/.* hits throughput\\s+([0-9]+\\.[0-9]+ \u00b1 [0-9]+\\.[0-9]+\\sM\\sops\\/s).*/\\1/\"\n\techo -n -e \", hits latency: \"\n\techo -n \"$*\" | sed -E \"s/.* hits latency\\s+([0-9]+\\.[0-9]+\\sns\\/op).*/\\1/\"\n\techo -n \", important_hits throughput: \"\n\techo \"$*\" | sed -E \"s/.*important_hits throughput\\s+([0-9]+\\.[0-9]+ \u00b1 [0-9]+\\.[0-9]+\\sM\\sops\\/s).*/\\1/\"\n}\n\nfunction total()\n{\n\techo \"$*\" | sed -E \"s/.*total operations\\s+([0-9]+\\.[0-9]+ \u00b1 [0-9]+\\.[0-9]+M\\/s).*/\\1/\"\n}\n\nfunction summarize()\n{\n\tbench=\"$1\"\n\tsummary=$(echo $2 | tail -n1)\n\tprintf \"%-20s %s (drops %s)\\n\" \"$bench\" \"$(hits $summary)\" \"$(drops $summary)\"\n}\n\nfunction summarize_percentage()\n{\n\tbench=\"$1\"\n\tsummary=$(echo $2 | tail -n1)\n\tprintf \"%-20s %s%%\\n\" \"$bench\" \"$(percentage $summary)\"\n}\n\nfunction summarize_ops()\n{\n\tbench=\"$1\"\n\tsummary=$(echo $2 | tail -n1)\n\tprintf \"%-20s %s\\n\" \"$bench\" \"$(ops $summary)\"\n}\n\nfunction summarize_local_storage()\n{\n\tbench=\"$1\"\n\tsummary=$(echo $2 | tail -n1)\n\tprintf \"%-20s %s\\n\" \"$bench\" \"$(local_storage $summary)\"\n}\n\nfunction summarize_total()\n{\n\tbench=\"$1\"\n\tsummary=$(echo $2 | tail -n1)\n\tprintf \"%-20s %s\\n\" \"$bench\" \"$(total $summary)\"\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}