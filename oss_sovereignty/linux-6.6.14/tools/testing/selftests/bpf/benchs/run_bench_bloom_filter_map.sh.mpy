{
  "module_name": "run_bench_bloom_filter_map.sh",
  "hash_id": "3fb29480f8fee49157b238592d4dcd4818ff413e35c265a8281b7967403f3f57",
  "original_prompt": "Ingested from linux-6.6.14/tools/testing/selftests/bpf/benchs/run_bench_bloom_filter_map.sh",
  "human_readable_source": "#!/bin/bash\n# SPDX-License-Identifier: GPL-2.0\n\nsource ./benchs/run_common.sh\n\nset -eufo pipefail\n\nheader \"Bloom filter map\"\nfor v in 2 4 8 16 40; do\nfor t in 1 4 8 12 16; do\nfor h in {1..10}; do\nsubtitle \"value_size: $v bytes, # threads: $t, # hashes: $h\"\n\tfor e in 10000 50000 75000 100000 250000 500000 750000 1000000 2500000 5000000; do\n\t\tprintf \"%'d entries -\\n\" $e\n\t\tprintf \"\\t\"\n\t\tsummarize \"Lookups, total operations: \" \\\n\t\t\t\"$($RUN_BENCH -p $t --nr_hash_funcs $h --nr_entries $e --value_size $v bloom-lookup)\"\n\t\tprintf \"\\t\"\n\t\tsummarize \"Updates, total operations: \" \\\n\t\t\t\"$($RUN_BENCH -p $t --nr_hash_funcs $h --nr_entries $e --value_size $v bloom-update)\"\n\t\tprintf \"\\t\"\n\t\tsummarize_percentage \"False positive rate: \" \\\n\t\t\t\"$($RUN_BENCH -p $t --nr_hash_funcs $h --nr_entries $e --value_size $v bloom-false-positive)\"\n\tdone\n\tprintf \"\\n\"\ndone\ndone\ndone\n\nheader \"Hashmap without bloom filter vs. hashmap with bloom filter (throughput, 8 threads)\"\nfor v in 2 4 8 16 40; do\nfor h in {1..10}; do\nsubtitle \"value_size: $v, # hashes: $h\"\n\tfor e in 10000 50000 75000 100000 250000 500000 750000 1000000 2500000 5000000; do\n\t\tprintf \"%'d entries -\\n\" $e\n\t\tprintf \"\\t\"\n\t\tsummarize_total \"Hashmap without bloom filter: \" \\\n\t\t\t\"$($RUN_BENCH --nr_hash_funcs $h --nr_entries $e --value_size $v -p 8 hashmap-without-bloom)\"\n\t\tprintf \"\\t\"\n\t\tsummarize_total \"Hashmap with bloom filter: \" \\\n\t\t\t\"$($RUN_BENCH --nr_hash_funcs $h --nr_entries $e --value_size $v -p 8 hashmap-with-bloom)\"\n\tdone\n\tprintf \"\\n\"\ndone\ndone\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}