{
  "module_name": "bpf_iter_bpf_percpu_hash_map.c",
  "hash_id": "35a9549d3281342097fd9c62a158bb58bd566189552d9183672378f77d6644fc",
  "original_prompt": "Ingested from linux-6.6.14/tools/testing/selftests/bpf/progs/bpf_iter_bpf_percpu_hash_map.c",
  "human_readable_source": "\n \n#include \"bpf_iter.h\"\n#include <bpf/bpf_helpers.h>\n#include <bpf/bpf_tracing.h>\n\nchar _license[] SEC(\"license\") = \"GPL\";\n\nstruct key_t {\n\tint a;\n\tint b;\n\tint c;\n};\n\nstruct {\n\t__uint(type, BPF_MAP_TYPE_PERCPU_HASH);\n\t__uint(max_entries, 3);\n\t__type(key, struct key_t);\n\t__type(value, __u32);\n} hashmap1 SEC(\".maps\");\n\n \nvolatile const __u32 num_cpus = 0;\n\n \n__u32 key_sum_a = 0, key_sum_b = 0, key_sum_c = 0;\n__u32 val_sum = 0;\n\nSEC(\"iter/bpf_map_elem\")\nint dump_bpf_percpu_hash_map(struct bpf_iter__bpf_map_elem *ctx)\n{\n\tstruct key_t *key = ctx->key;\n\tvoid *pptr = ctx->value;\n\t__u32 step;\n\tint i;\n\n\tif (key == (void *)0 || pptr == (void *)0)\n\t\treturn 0;\n\n\tkey_sum_a += key->a;\n\tkey_sum_b += key->b;\n\tkey_sum_c += key->c;\n\n\tstep = 8;\n\tfor (i = 0; i < num_cpus; i++) {\n\t\tval_sum += *(__u32 *)pptr;\n\t\tpptr += step;\n\t}\n\treturn 0;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}