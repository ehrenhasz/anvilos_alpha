{
  "module_name": "Makefile",
  "hash_id": "ef2366425eac4e2e50cda2ec078d11b75db32dc2588b7e6b55e57d0f13c6d59e",
  "original_prompt": "Ingested from linux-6.6.14/tools/testing/selftests/wireguard/qemu/Makefile",
  "human_readable_source": "# SPDX-License-Identifier: GPL-2.0\n#\n# Copyright (C) 2015-2019 Jason A. Donenfeld <Jason@zx2c4.com>. All Rights Reserved.\n\nPWD := $(shell pwd)\n\n# Set these from the environment to override\nKERNEL_PATH ?= $(PWD)/../../../../..\nBUILD_PATH ?= $(PWD)/build/$(ARCH)\nDISTFILES_PATH ?= $(PWD)/distfiles\nNR_CPUS ?= 4\nARCH ?=\nCBUILD := $(shell gcc -dumpmachine)\nHOST_ARCH := $(firstword $(subst -, ,$(CBUILD)))\nifeq ($(ARCH),)\nARCH := $(HOST_ARCH)\nendif\n\nMIRROR := https://download.wireguard.com/qemu-test/distfiles/\n\nKERNEL_BUILD_PATH := $(BUILD_PATH)/kernel$(if $(findstring yes,$(DEBUG_KERNEL)),-debug)\n\ndefault: qemu\n\n# variable name, tarball project name, version, tarball extension, default URI base\ndefine tar_download =\n$(1)_VERSION := $(3)\n$(1)_NAME := $(2)-$$($(1)_VERSION)\n$(1)_TAR := $(DISTFILES_PATH)/$$($(1)_NAME)$(4)\n$(1)_PATH := $(BUILD_PATH)/$$($(1)_NAME)\n$(call file_download,$$($(1)_NAME)$(4),$(5),$(6))\nendef\n\ndefine file_download =\n$(DISTFILES_PATH)/$(1): | $(4)\n\tmkdir -p $(DISTFILES_PATH)\n\tflock -x $$@.lock -c '[ -f $$@ ] && exit 0; wget -O $$@.tmp $(MIRROR)$(1) || wget -O $$@.tmp $(2)$(1) || rm -f $$@.tmp; [ -f $$@.tmp ] || exit 1; if ([ -n \"$(4)\" ] && sed -n \"s#^\\([a-f0-9]\\{64\\}\\)  \\($(1)\\)\\$$$$#\\1  $(DISTFILES_PATH)/\\2.tmp#p\" \"$(4)\" || echo \"$(3)  $$@.tmp\") | sha256sum -c -; then mv $$@.tmp $$@; else rm -f $$@.tmp; exit 71; fi'\nendef\n\n$(eval $(call tar_download,IPERF,iperf,3.11,.tar.gz,https://downloads.es.net/pub/iperf/,de8cb409fad61a0574f4cb07eb19ce1159707403ac2dc01b5d175e91240b7e5f))\n$(eval $(call tar_download,BASH,bash,5.1.16,.tar.gz,https://ftp.gnu.org/gnu/bash/,5bac17218d3911834520dad13cd1f85ab944e1c09ae1aba55906be1f8192f558))\n$(eval $(call tar_download,IPROUTE2,iproute2,5.17.0,.tar.gz,https://www.kernel.org/pub/linux/utils/net/iproute2/,bda331d5c4606138892f23a565d78fca18919b4d508a0b7ca8391c2da2db68b9))\n$(eval $(call tar_download,IPTABLES,iptables,1.8.7,.tar.bz2,https://www.netfilter.org/projects/iptables/files/,c109c96bb04998cd44156622d36f8e04b140701ec60531a10668cfdff5e8d8f0))\n$(eval $(call tar_download,NMAP,nmap,7.92,.tgz,https://nmap.org/dist/,064183ea642dc4c12b1ab3b5358ce1cef7d2e7e11ffa2849f16d339f5b717117))\n$(eval $(call tar_download,IPUTILS,iputils,s20190709,.tar.gz,https://github.com/iputils/iputils/archive/s20190709.tar.gz/#,a15720dd741d7538dd2645f9f516d193636ae4300ff7dbc8bfca757bf166490a))\n$(eval $(call tar_download,WIREGUARD_TOOLS,wireguard-tools,1.0.20210914,.tar.xz,https://git.zx2c4.com/wireguard-tools/snapshot/,97ff31489217bb265b7ae850d3d0f335ab07d2652ba1feec88b734bc96bd05ac))\n\nexport CFLAGS := -O3 -pipe\nifeq ($(HOST_ARCH),$(ARCH))\nCFLAGS += -march=native\nendif\nexport LDFLAGS :=\nexport CPPFLAGS :=\n\nQEMU_VPORT_RESULT :=\nifeq ($(ARCH),aarch64)\nCHOST := aarch64-linux-musl\nQEMU_ARCH := aarch64\nKERNEL_ARCH := arm64\nKERNEL_BZIMAGE := $(KERNEL_BUILD_PATH)/arch/arm64/boot/Image\nQEMU_VPORT_RESULT := virtio-serial-device\nifeq ($(HOST_ARCH),$(ARCH))\nQEMU_MACHINE := -cpu host -machine virt,gic_version=host,accel=kvm\nelse\nQEMU_MACHINE := -cpu max -machine virt\nCFLAGS += -march=armv8-a\nendif\nelse ifeq ($(ARCH),aarch64_be)\nCHOST := aarch64_be-linux-musl\nQEMU_ARCH := aarch64\nKERNEL_ARCH := arm64\nKERNEL_BZIMAGE := $(KERNEL_BUILD_PATH)/arch/arm64/boot/Image\nQEMU_VPORT_RESULT := virtio-serial-device\nifeq ($(HOST_ARCH),$(ARCH))\nQEMU_MACHINE := -cpu host -machine virt,gic_version=host,accel=kvm\nelse\nQEMU_MACHINE := -cpu max -machine virt\nCFLAGS += -march=armv8-a\nendif\nelse ifeq ($(ARCH),arm)\nCHOST := arm-linux-musleabi\nQEMU_ARCH := arm\nKERNEL_ARCH := arm\nKERNEL_BZIMAGE := $(KERNEL_BUILD_PATH)/arch/arm/boot/zImage\nQEMU_VPORT_RESULT := virtio-serial-device\nifeq ($(HOST_ARCH),$(ARCH))\nQEMU_MACHINE := -cpu host -machine virt,gic_version=host,accel=kvm\nelse\nQEMU_MACHINE := -cpu max -machine virt\nCFLAGS += -march=armv7-a -mabi=aapcs-linux\nendif\nelse ifeq ($(ARCH),armeb)\nCHOST := armeb-linux-musleabi\nQEMU_ARCH := arm\nKERNEL_ARCH := arm\nKERNEL_BZIMAGE := $(KERNEL_BUILD_PATH)/arch/arm/boot/zImage\nQEMU_VPORT_RESULT := virtio-serial-device\nifeq ($(HOST_ARCH),$(ARCH))\nQEMU_MACHINE := -cpu host -machine virt,gic_version=host,accel=kvm\nelse\nQEMU_MACHINE := -cpu max -machine virt\nCFLAGS += -march=armv7-a -mabi=aapcs-linux\nLDFLAGS += -Wl,--be8\nendif\nelse ifeq ($(ARCH),x86_64)\nCHOST := x86_64-linux-musl\nQEMU_ARCH := x86_64\nKERNEL_ARCH := x86_64\nKERNEL_BZIMAGE := $(KERNEL_BUILD_PATH)/arch/x86/boot/bzImage\nQEMU_VPORT_RESULT := virtio-serial-device\nifeq ($(HOST_ARCH),$(ARCH))\nQEMU_MACHINE := -cpu host -machine microvm,accel=kvm,pit=off,pic=off,rtc=off -no-acpi\nelse\nQEMU_MACHINE := -cpu max -machine microvm -no-acpi\nendif\nelse ifeq ($(ARCH),i686)\nCHOST := i686-linux-musl\nQEMU_ARCH := i386\nKERNEL_ARCH := x86\nKERNEL_BZIMAGE := $(KERNEL_BUILD_PATH)/arch/x86/boot/bzImage\nQEMU_VPORT_RESULT := virtio-serial-device\nifeq ($(subst x86_64,i686,$(HOST_ARCH)),$(ARCH))\nQEMU_MACHINE := -cpu host -machine microvm,accel=kvm,pit=off,pic=off,rtc=off -no-acpi\nelse\nQEMU_MACHINE := -cpu coreduo -machine microvm -no-acpi\nendif\nelse ifeq ($(ARCH),mips64)\nCHOST := mips64-linux-musl\nQEMU_ARCH := mips64\nKERNEL_ARCH := mips\nKERNEL_BZIMAGE := $(KERNEL_BUILD_PATH)/vmlinux\nifeq ($(HOST_ARCH),$(ARCH))\nQEMU_MACHINE := -cpu host -machine malta,accel=kvm\nCFLAGS += -EB\nelse\nQEMU_MACHINE := -cpu MIPS64R2-generic -machine malta -smp 1\nCFLAGS += -march=mips64r2 -EB\nendif\nelse ifeq ($(ARCH),mips64el)\nCHOST := mips64el-linux-musl\nQEMU_ARCH := mips64el\nKERNEL_ARCH := mips\nKERNEL_BZIMAGE := $(KERNEL_BUILD_PATH)/vmlinux\nifeq ($(HOST_ARCH),$(ARCH))\nQEMU_MACHINE := -cpu host -machine malta,accel=kvm\nCFLAGS += -EL\nelse\nQEMU_MACHINE := -cpu MIPS64R2-generic -machine malta -smp 1\nCFLAGS += -march=mips64r2 -EL\nendif\nelse ifeq ($(ARCH),mips)\nCHOST := mips-linux-musl\nQEMU_ARCH := mips\nKERNEL_ARCH := mips\nKERNEL_BZIMAGE := $(KERNEL_BUILD_PATH)/vmlinux\nifeq ($(HOST_ARCH),$(ARCH))\nQEMU_MACHINE := -cpu host -machine malta,accel=kvm\nCFLAGS += -EB\nelse\nQEMU_MACHINE := -cpu 24Kf -machine malta -smp 1\nCFLAGS += -march=mips32r2 -EB\nendif\nelse ifeq ($(ARCH),mipsel)\nCHOST := mipsel-linux-musl\nQEMU_ARCH := mipsel\nKERNEL_ARCH := mips\nKERNEL_BZIMAGE := $(KERNEL_BUILD_PATH)/vmlinux\nifeq ($(HOST_ARCH),$(ARCH))\nQEMU_MACHINE := -cpu host -machine malta,accel=kvm\nCFLAGS += -EL\nelse\nQEMU_MACHINE := -cpu 24Kf -machine malta -smp 1\nCFLAGS += -march=mips32r2 -EL\nendif\nelse ifeq ($(ARCH),powerpc64)\nCHOST := powerpc64-linux-musl\nQEMU_ARCH := ppc64\nKERNEL_ARCH := powerpc\nKERNEL_BZIMAGE := $(KERNEL_BUILD_PATH)/vmlinux\nifeq ($(HOST_ARCH),$(ARCH))\nQEMU_MACHINE := -cpu host,accel=kvm -machine pseries\nelse\nQEMU_MACHINE := -machine pseries -device spapr-rng,rng=rng -object rng-random,id=rng\nendif\nelse ifeq ($(ARCH),powerpc64le)\nCHOST := powerpc64le-linux-musl\nQEMU_ARCH := ppc64\nKERNEL_ARCH := powerpc\nKERNEL_BZIMAGE := $(KERNEL_BUILD_PATH)/vmlinux\nifeq ($(HOST_ARCH),$(ARCH))\nQEMU_MACHINE := -cpu host,accel=kvm -machine pseries\nelse\nQEMU_MACHINE := -machine pseries -device spapr-rng,rng=rng -object rng-random,id=rng\nendif\nelse ifeq ($(ARCH),powerpc)\nCHOST := powerpc-linux-musl\nQEMU_ARCH := ppc\nKERNEL_ARCH := powerpc\nKERNEL_BZIMAGE := $(KERNEL_BUILD_PATH)/arch/powerpc/boot/uImage\nifeq ($(HOST_ARCH),$(ARCH))\nQEMU_MACHINE := -cpu host,accel=kvm -machine ppce500\nelse\nQEMU_MACHINE := -machine ppce500\nendif\nelse ifeq ($(ARCH),m68k)\nCHOST := m68k-linux-musl\nQEMU_ARCH := m68k\nKERNEL_ARCH := m68k\nKERNEL_BZIMAGE := $(KERNEL_BUILD_PATH)/vmlinux\nKERNEL_CMDLINE := $(shell sed -n 's/CONFIG_CMDLINE=\\(.*\\)/\\1/p' arch/m68k.config)\nQEMU_VPORT_RESULT := virtio-serial-device\nifeq ($(HOST_ARCH),$(ARCH))\nQEMU_MACHINE := -cpu host,accel=kvm -machine virt -append $(KERNEL_CMDLINE)\nelse\nQEMU_MACHINE := -machine virt -smp 1 -append $(KERNEL_CMDLINE)\nendif\nelse ifeq ($(ARCH),riscv64)\nCHOST := riscv64-linux-musl\nQEMU_ARCH := riscv64\nKERNEL_ARCH := riscv\nKERNEL_BZIMAGE := $(KERNEL_BUILD_PATH)/arch/riscv/boot/Image\nQEMU_VPORT_RESULT := virtio-serial-device\nifeq ($(HOST_ARCH),$(ARCH))\nQEMU_MACHINE := -cpu host,accel=kvm -machine virt\nelse\nQEMU_MACHINE := -cpu rv64 -machine virt\nendif\nelse ifeq ($(ARCH),riscv32)\nCHOST := riscv32-linux-musl\nQEMU_ARCH := riscv32\nKERNEL_ARCH := riscv\nKERNEL_BZIMAGE := $(KERNEL_BUILD_PATH)/arch/riscv/boot/Image\nQEMU_VPORT_RESULT := virtio-serial-device\nifeq ($(HOST_ARCH),$(ARCH))\nQEMU_MACHINE := -cpu host,accel=kvm -machine virt\nelse\nQEMU_MACHINE := -cpu rv32 -machine virt\nendif\nelse ifeq ($(ARCH),s390x)\nCHOST := s390x-linux-musl\nQEMU_ARCH := s390x\nKERNEL_ARCH := s390\nKERNEL_BZIMAGE := $(KERNEL_BUILD_PATH)/arch/s390/boot/bzImage\nKERNEL_CMDLINE := $(shell sed -n 's/CONFIG_CMDLINE=\\(.*\\)/\\1/p' arch/s390x.config)\nQEMU_VPORT_RESULT := virtio-serial-ccw\nifeq ($(HOST_ARCH),$(ARCH))\nQEMU_MACHINE := -cpu host,accel=kvm -machine s390-ccw-virtio -append $(KERNEL_CMDLINE)\nelse\nQEMU_MACHINE := -cpu max -machine s390-ccw-virtio -append $(KERNEL_CMDLINE)\nendif\nelse ifeq ($(ARCH),um)\nCHOST := $(HOST_ARCH)-linux-musl\nKERNEL_BZIMAGE := $(KERNEL_BUILD_PATH)/vmlinux\nKERNEL_ARCH := um\nKERNEL_CMDLINE := $(shell sed -n 's/CONFIG_CMDLINE=\\(.*\\)/\\1/p' arch/um.config)\nelse\n$(error I only build: x86_64, i686, arm, armeb, aarch64, aarch64_be, mips, mipsel, mips64, mips64el, powerpc64, powerpc64le, powerpc, m68k, riscv64, riscv32, s390x, um)\nendif\n\nTOOLCHAIN_FILENAME := $(CHOST)-cross.tgz\nTOOLCHAIN_TAR := $(DISTFILES_PATH)/$(TOOLCHAIN_FILENAME)\nTOOLCHAIN_PATH := $(BUILD_PATH)/$(CHOST)-cross\nTOOLCHAIN_DIR := https://download.wireguard.com/qemu-test/toolchains/20211123/\n$(eval $(call file_download,toolchain-sha256sums-20211123,$(TOOLCHAIN_DIR)SHA256SUMS#,83da033fd8c798df476c21d9612da2dfb896ec62fbed4ceec5eefc0e56b3f0c8))\n$(eval $(call file_download,$(TOOLCHAIN_FILENAME),$(TOOLCHAIN_DIR),,$(DISTFILES_PATH)/toolchain-sha256sums-20211123))\n\nSTRIP := $(CHOST)-strip\nCROSS_COMPILE_FLAG := --build=$(CBUILD) --host=$(CHOST)\n$(info Building for $(CHOST) using $(CBUILD))\nifneq ($(ARCH),um)\nexport CROSS_COMPILE := $(CHOST)-\nendif\nexport PATH := $(TOOLCHAIN_PATH)/bin:$(PATH)\nexport CC := $(CHOST)-gcc\nCCACHE_PATH := $(shell which ccache 2>/dev/null)\nifneq ($(CCACHE_PATH),)\nexport KBUILD_BUILD_TIMESTAMP := Fri Jun  5 15:58:00 CEST 2015\nexport PATH := $(TOOLCHAIN_PATH)/bin/ccache:$(PATH)\nexport CCACHE_SLOPPINESS := file_macro,time_macros\nexport CCACHE_DIR ?= $(PWD)/ccache\nendif\n\nUSERSPACE_DEPS := $(TOOLCHAIN_PATH)/.installed $(TOOLCHAIN_PATH)/$(CHOST)/include/linux/.installed\n\ncomma := ,\nbuild: $(KERNEL_BZIMAGE)\nqemu: $(KERNEL_BZIMAGE)\n\trm -f $(BUILD_PATH)/result\nifneq ($(ARCH),um)\n\ttimeout --foreground 20m qemu-system-$(QEMU_ARCH) \\\n\t\t-nodefaults \\\n\t\t-nographic \\\n\t\t-smp $(NR_CPUS) \\\n\t\t$(QEMU_MACHINE) \\\n\t\t-m $$(grep -q CONFIG_DEBUG_KMEMLEAK=y $(KERNEL_BUILD_PATH)/.config && echo 1G || echo 256M) \\\n\t\t-serial stdio \\\n\t\t-chardev file,path=$(BUILD_PATH)/result,id=result \\\n\t\t$(if $(QEMU_VPORT_RESULT),-device $(QEMU_VPORT_RESULT) -device virtserialport$(comma)chardev=result,-serial chardev:result) \\\n\t\t-no-reboot \\\n\t\t-monitor none \\\n\t\t-kernel $<\nelse\n\ttimeout --foreground 20m $< \\\n\t\t$(KERNEL_CMDLINE) \\\n\t\tmem=$$(grep -q CONFIG_DEBUG_KMEMLEAK=y $(KERNEL_BUILD_PATH)/.config && echo 1G || echo 256M) \\\n\t\tnoreboot \\\n\t\tcon1=fd:51 51>$(BUILD_PATH)/result </dev/null 2>&1 | cat\nendif\n\tgrep -Fq success $(BUILD_PATH)/result\n\n$(BUILD_PATH)/init-cpio-spec.txt: $(TOOLCHAIN_PATH)/.installed $(BUILD_PATH)/init\n\tmkdir -p $(BUILD_PATH)\n\techo \"file /init $(BUILD_PATH)/init 755 0 0\" > $@\n\techo \"file /init.sh $(PWD)/../netns.sh 755 0 0\" >> $@\n\techo \"dir /dev 755 0 0\" >> $@\n\techo \"nod /dev/console 644 0 0 c 5 1\" >> $@\n\techo \"dir /bin 755 0 0\" >> $@\n\techo \"file /bin/iperf3 $(IPERF_PATH)/src/iperf3 755 0 0\" >> $@\n\techo \"file /bin/wg $(WIREGUARD_TOOLS_PATH)/src/wg 755 0 0\" >> $@\n\techo \"file /bin/bash $(BASH_PATH)/bash 755 0 0\" >> $@\n\techo \"file /bin/ip $(IPROUTE2_PATH)/ip/ip 755 0 0\" >> $@\n\techo \"file /bin/ss $(IPROUTE2_PATH)/misc/ss 755 0 0\" >> $@\n\techo \"file /bin/ping $(IPUTILS_PATH)/ping 755 0 0\" >> $@\n\techo \"file /bin/ncat $(NMAP_PATH)/ncat/ncat 755 0 0\" >> $@\n\techo \"file /bin/xtables-legacy-multi $(IPTABLES_PATH)/iptables/xtables-legacy-multi 755 0 0\" >> $@\n\techo \"slink /bin/iptables xtables-legacy-multi 777 0 0\" >> $@\n\techo \"slink /bin/ping6 ping 777 0 0\" >> $@\n\techo \"dir /lib 755 0 0\" >> $@\n\techo \"file /lib/libc.so $(TOOLCHAIN_PATH)/$(CHOST)/lib/libc.so 755 0 0\" >> $@\n\techo \"slink $$($(CHOST)-readelf -p .interp '$(BUILD_PATH)/init'| grep -o '/lib/.*') libc.so 777 0 0\" >> $@\n\n$(KERNEL_BUILD_PATH)/.config: $(TOOLCHAIN_PATH)/.installed kernel.config arch/$(ARCH).config\n\tmkdir -p $(KERNEL_BUILD_PATH)\n\tcp kernel.config $(KERNEL_BUILD_PATH)/minimal.config\n\tprintf 'CONFIG_NR_CPUS=$(NR_CPUS)\\nCONFIG_INITRAMFS_SOURCE=\"$(BUILD_PATH)/init-cpio-spec.txt\"\\n' >> $(KERNEL_BUILD_PATH)/minimal.config\n\tcat arch/$(ARCH).config >> $(KERNEL_BUILD_PATH)/minimal.config\n\t$(MAKE) -C $(KERNEL_PATH) O=$(KERNEL_BUILD_PATH) ARCH=$(KERNEL_ARCH) allnoconfig\n\tcd $(KERNEL_BUILD_PATH) && ARCH=$(KERNEL_ARCH) $(KERNEL_PATH)/scripts/kconfig/merge_config.sh -n $(KERNEL_BUILD_PATH)/.config $(KERNEL_BUILD_PATH)/minimal.config\n\t$(if $(findstring yes,$(DEBUG_KERNEL)),cp debug.config $(KERNEL_BUILD_PATH) && cd $(KERNEL_BUILD_PATH) && ARCH=$(KERNEL_ARCH) $(KERNEL_PATH)/scripts/kconfig/merge_config.sh -n $(KERNEL_BUILD_PATH)/.config debug.config,)\n\n$(KERNEL_BZIMAGE): $(TOOLCHAIN_PATH)/.installed $(KERNEL_BUILD_PATH)/.config $(BUILD_PATH)/init-cpio-spec.txt $(IPERF_PATH)/src/iperf3 $(IPUTILS_PATH)/ping $(BASH_PATH)/bash $(IPROUTE2_PATH)/misc/ss $(IPROUTE2_PATH)/ip/ip $(IPTABLES_PATH)/iptables/xtables-legacy-multi $(NMAP_PATH)/ncat/ncat $(WIREGUARD_TOOLS_PATH)/src/wg $(BUILD_PATH)/init\n\t$(MAKE) -C $(KERNEL_PATH) O=$(KERNEL_BUILD_PATH) ARCH=$(KERNEL_ARCH) CROSS_COMPILE=$(CROSS_COMPILE)\n.PHONY: $(KERNEL_BZIMAGE)\n\n$(TOOLCHAIN_PATH)/$(CHOST)/include/linux/.installed: | $(KERNEL_BUILD_PATH)/.config $(TOOLCHAIN_PATH)/.installed\nifneq ($(ARCH),um)\n\trm -rf $(TOOLCHAIN_PATH)/$(CHOST)/include/linux\n\t$(MAKE) -C $(KERNEL_PATH) O=$(KERNEL_BUILD_PATH) INSTALL_HDR_PATH=$(TOOLCHAIN_PATH)/$(CHOST) ARCH=$(KERNEL_ARCH) CROSS_COMPILE=$(CROSS_COMPILE) headers_install\nendif\n\ttouch $@\n\n$(TOOLCHAIN_PATH)/.installed: $(TOOLCHAIN_TAR)\n\tmkdir -p $(BUILD_PATH)\n\tflock -s $<.lock tar -C $(BUILD_PATH) -xf $<\n\t$(STRIP) -s $(TOOLCHAIN_PATH)/$(CHOST)/lib/libc.so\nifneq ($(CCACHE_PATH),)\n\tmkdir -p $(TOOLCHAIN_PATH)/bin/ccache\n\tln -s $(CCACHE_PATH) $(TOOLCHAIN_PATH)/bin/ccache/$(CC)\nendif\n\ttouch $@\n\n$(IPERF_PATH)/.installed: $(IPERF_TAR)\n\tmkdir -p $(BUILD_PATH)\n\tflock -s $<.lock tar -C $(BUILD_PATH) -xf $<\n\tsed -i '1s/^/#include <stdint.h>/' $(IPERF_PATH)/src/cjson.h $(IPERF_PATH)/src/timer.h\n\tsed -i -r 's/-p?g//g' $(IPERF_PATH)/src/Makefile*\n\ttouch $@\n\n$(IPERF_PATH)/src/iperf3: | $(IPERF_PATH)/.installed $(USERSPACE_DEPS)\n\tcd $(IPERF_PATH) && autoreconf -fi\n\tcd $(IPERF_PATH) && CFLAGS=\"$(CFLAGS) -D_GNU_SOURCE\" ./configure --prefix=/ $(CROSS_COMPILE_FLAG) --enable-static --disable-shared --with-openssl=no\n\t$(MAKE) -C $(IPERF_PATH)\n\t$(STRIP) -s $@\n\n$(WIREGUARD_TOOLS_PATH)/.installed: $(WIREGUARD_TOOLS_TAR)\n\tmkdir -p $(BUILD_PATH)\n\tflock -s $<.lock tar -C $(BUILD_PATH) -xf $<\n\ttouch $@\n\n$(WIREGUARD_TOOLS_PATH)/src/wg: | $(WIREGUARD_TOOLS_PATH)/.installed $(USERSPACE_DEPS)\n\t$(MAKE) -C $(WIREGUARD_TOOLS_PATH)/src wg\n\t$(STRIP) -s $@\n\n$(BUILD_PATH)/init: init.c | $(USERSPACE_DEPS)\n\tmkdir -p $(BUILD_PATH)\n\t$(CC) -o $@ $(CFLAGS) $(LDFLAGS) -std=gnu11 $<\n\t$(STRIP) -s $@\n\n$(IPUTILS_PATH)/.installed: $(IPUTILS_TAR)\n\tmkdir -p $(BUILD_PATH)\n\tflock -s $<.lock tar -C $(BUILD_PATH) -xf $<\n\ttouch $@\n\n$(IPUTILS_PATH)/ping: | $(IPUTILS_PATH)/.installed $(USERSPACE_DEPS)\n\tsed -i /atexit/d $(IPUTILS_PATH)/ping.c\n\tcd $(IPUTILS_PATH) && $(CC) $(CFLAGS) -std=c99 -o $@ ping.c ping_common.c ping6_common.c iputils_common.c -D_GNU_SOURCE -D'IPUTILS_VERSION(f)=f' -lresolv $(LDFLAGS)\n\t$(STRIP) -s $@\n\n$(BASH_PATH)/.installed: $(BASH_TAR)\n\tmkdir -p $(BUILD_PATH)\n\tflock -s $<.lock tar -C $(BUILD_PATH) -xf $<\n\ttouch $@\n\n$(BASH_PATH)/bash: | $(BASH_PATH)/.installed $(USERSPACE_DEPS)\n\tcd $(BASH_PATH) && ./configure --prefix=/ $(CROSS_COMPILE_FLAG) --without-bash-malloc --disable-debugger --disable-help-builtin --disable-history --disable-progcomp --disable-readline --disable-mem-scramble\n\t$(MAKE) -C $(BASH_PATH)\n\t$(STRIP) -s $@\n\n$(IPROUTE2_PATH)/.installed: $(IPROUTE2_TAR)\n\tmkdir -p $(BUILD_PATH)\n\tflock -s $<.lock tar -C $(BUILD_PATH) -xf $<\n\tprintf 'CC:=$(CC)\\nPKG_CONFIG:=pkg-config\\nTC_CONFIG_XT:=n\\nTC_CONFIG_ATM:=n\\nTC_CONFIG_IPSET:=n\\nIP_CONFIG_SETNS:=y\\nHAVE_ELF:=n\\nHAVE_MNL:=n\\nHAVE_BERKELEY_DB:=n\\nHAVE_LATEX:=n\\nHAVE_PDFLATEX:=n\\nCFLAGS+=-DHAVE_SETNS -DHAVE_HANDLE_AT\\n' > $(IPROUTE2_PATH)/config.mk\n\tprintf 'libutil.a.done:\\n\\tflock -x $$@.lock $$(MAKE) -C lib\\n\\ttouch $$@\\nip/ip: libutil.a.done\\n\\t$$(MAKE) -C ip ip\\nmisc/ss: libutil.a.done\\n\\t$$(MAKE) -C misc ss\\n' >> $(IPROUTE2_PATH)/Makefile\n\ttouch $@\n\n$(IPROUTE2_PATH)/ip/ip: | $(IPROUTE2_PATH)/.installed $(USERSPACE_DEPS)\n\t$(MAKE) -C $(IPROUTE2_PATH) PREFIX=/ ip/ip\n\t$(STRIP) -s $@\n\n$(IPROUTE2_PATH)/misc/ss: | $(IPROUTE2_PATH)/.installed $(USERSPACE_DEPS)\n\t$(MAKE) -C $(IPROUTE2_PATH) PREFIX=/ misc/ss\n\t$(STRIP) -s $@\n\n$(IPTABLES_PATH)/.installed: $(IPTABLES_TAR)\n\tmkdir -p $(BUILD_PATH)\n\tflock -s $<.lock tar -C $(BUILD_PATH) -xf $<\n\tsed -i -e \"/nfnetlink=[01]/s:=[01]:=0:\" -e \"/nfconntrack=[01]/s:=[01]:=0:\" $(IPTABLES_PATH)/configure\n\ttouch $@\n\n$(IPTABLES_PATH)/iptables/xtables-legacy-multi: | $(IPTABLES_PATH)/.installed $(USERSPACE_DEPS)\n\tcd $(IPTABLES_PATH) && ./configure --prefix=/ $(CROSS_COMPILE_FLAG) --enable-static --disable-shared --disable-nftables --disable-bpf-compiler --disable-nfsynproxy --disable-libipq --disable-connlabel --with-kernel=$(BUILD_PATH)/include\n\t$(MAKE) -C $(IPTABLES_PATH)\n\t$(STRIP) -s $@\n\n$(NMAP_PATH)/.installed: $(NMAP_TAR)\n\tmkdir -p $(BUILD_PATH)\n\tflock -s $<.lock tar -C $(BUILD_PATH) -xf $<\n\ttouch $@\n\n$(NMAP_PATH)/ncat/ncat: | $(NMAP_PATH)/.installed $(USERSPACE_DEPS)\n\tcd $(NMAP_PATH) && ./configure --prefix=/ $(CROSS_COMPILE_FLAG) --enable-static --disable-shared --without-ndiff --without-zenmap --without-nping --with-libpcap=included --with-libpcre=included --with-libdnet=included --without-liblua --with-liblinear=included --without-nmap-update --without-openssl --with-pcap=linux --without-libssh\n\t$(MAKE) -C $(NMAP_PATH)/libpcap\n\t$(MAKE) -C $(NMAP_PATH)/ncat\n\t$(STRIP) -s $@\n\nclean:\n\trm -rf $(BUILD_PATH)\n\ndistclean: clean\n\trm -rf $(DISTFILES_PATH)\n\ncacheclean: clean\nifneq ($(CCACHE_DIR),)\n\trm -rf $(CCACHE_DIR)\nendif\n\nmenuconfig: $(KERNEL_BUILD_PATH)/.config\n\t$(MAKE) -C $(KERNEL_PATH) O=$(KERNEL_BUILD_PATH) ARCH=$(KERNEL_ARCH) CROSS_COMPILE=$(CROSS_COMPILE) menuconfig\n\n.PHONY: qemu build clean distclean cacheclean menuconfig\n.DELETE_ON_ERROR:\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}