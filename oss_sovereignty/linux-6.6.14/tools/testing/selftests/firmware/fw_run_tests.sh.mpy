{
  "module_name": "fw_run_tests.sh",
  "hash_id": "4767c23874ae5af444f4b3153013f9fc86ad84778c7e662abba0644485fa1795",
  "original_prompt": "Ingested from linux-6.6.14/tools/testing/selftests/firmware/fw_run_tests.sh",
  "human_readable_source": "#!/bin/bash\n# SPDX-License-Identifier: GPL-2.0\n\n# This runs all known tests across all known possible configurations we could\n# emulate in one run.\n\nset -e\n\nTEST_DIR=$(dirname $0)\nsource $TEST_DIR/fw_lib.sh\n\nexport HAS_FW_LOADER_USER_HELPER=\"\"\nexport HAS_FW_LOADER_USER_HELPER_FALLBACK=\"\"\nexport HAS_FW_LOADER_COMPRESS=\"\"\n\nrun_tests()\n{\n\tproc_set_force_sysfs_fallback $1\n\tproc_set_ignore_sysfs_fallback $2\n\t$TEST_DIR/fw_filesystem.sh\n\n\tproc_set_force_sysfs_fallback $1\n\tproc_set_ignore_sysfs_fallback $2\n\t$TEST_DIR/fw_fallback.sh\n\n\tproc_set_force_sysfs_fallback $1\n\tproc_set_ignore_sysfs_fallback $2\n\t$TEST_DIR/fw_upload.sh\n}\n\nrun_test_config_0001()\n{\n\techo \"-----------------------------------------------------\"\n\techo \"Running kernel configuration test 1 -- rare\"\n\techo \"Emulates:\"\n\techo \"CONFIG_FW_LOADER=y\"\n\techo \"CONFIG_FW_LOADER_USER_HELPER=n\"\n\techo \"CONFIG_FW_LOADER_USER_HELPER_FALLBACK=n\"\n\trun_tests 0 1\n}\n\nrun_test_config_0002()\n{\n\techo \"-----------------------------------------------------\"\n\techo \"Running kernel configuration test 2 -- distro\"\n\techo \"Emulates:\"\n\techo \"CONFIG_FW_LOADER=y\"\n\techo \"CONFIG_FW_LOADER_USER_HELPER=y\"\n\techo \"CONFIG_FW_LOADER_USER_HELPER_FALLBACK=n\"\n\tproc_set_ignore_sysfs_fallback 0\n\trun_tests 0 0\n}\n\nrun_test_config_0003()\n{\n\techo \"-----------------------------------------------------\"\n\techo \"Running kernel configuration test 3 -- android\"\n\techo \"Emulates:\"\n\techo \"CONFIG_FW_LOADER=y\"\n\techo \"CONFIG_FW_LOADER_USER_HELPER=y\"\n\techo \"CONFIG_FW_LOADER_USER_HELPER_FALLBACK=y\"\n\trun_tests 1 0\n}\n\ncheck_mods\ncheck_setup\n\necho \"Running namespace test: \"\n$TEST_DIR/fw_namespace $DIR/trigger_request\necho \"OK\"\n\nif [ -f $FW_FORCE_SYSFS_FALLBACK ]; then\n\trun_test_config_0001\n\trun_test_config_0002\n\trun_test_config_0003\nelse\n\techo \"Running basic kernel configuration, working with your config\"\n\trun_tests\nfi\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}