{
  "module_name": "trigger-multihist.tc",
  "hash_id": "ab97ade2620721f0d7b029387d37a1cccba2b57ddb98fff7611e928ec1865760",
  "original_prompt": "Ingested from linux-6.6.14/tools/testing/selftests/ftrace/test.d/trigger/trigger-multihist.tc",
  "human_readable_source": "#!/bin/sh\n# SPDX-License-Identifier: GPL-2.0\n# description: event trigger - test multiple histogram triggers\n# requires: set_event events/sched/sched_process_fork/trigger events/sched/sched_process_fork/hist\n# flags: instance\n\nfail() { #msg\n    echo $1\n    exit_fail\n}\n\necho \"Test histogram multiple triggers\"\n\necho 'hist:keys=parent_pid:vals=child_pid' > events/sched/sched_process_fork/trigger\necho 'hist:keys=parent_comm:vals=child_pid' >> events/sched/sched_process_fork/trigger\nfor i in `seq 1 10` ; do ( echo \"forked\" > /dev/null); done\ngrep parent_pid events/sched/sched_process_fork/hist > /dev/null || \\\n    fail \"hist trigger on sched_process_fork did not work\"\ngrep child events/sched/sched_process_fork/hist > /dev/null || \\\n    fail \"hist trigger on sched_process_fork did not work\"\nCOMM=`cat /proc/$$/comm`\ngrep \"parent_comm: $COMM\" events/sched/sched_process_fork/hist > /dev/null || \\\n    fail \"string key on sched_process_fork did not work\"\n\nreset_trigger\n\necho \"Test histogram with its name\"\n\necho 'hist:name=test_hist:keys=common_pid' > events/sched/sched_process_fork/trigger\nfor i in `seq 1 10` ; do ( echo \"forked\" > /dev/null); done\ngrep test_hist events/sched/sched_process_fork/hist > /dev/null || \\\n    fail \"named event on sched_process_fork did not work\"\n\necho \"Test same named histogram on different events\"\n\necho 'hist:name=test_hist:keys=common_pid' > events/sched/sched_process_exit/trigger\nfor i in `seq 1 10` ; do ( echo \"forked\" > /dev/null); done\ngrep test_hist events/sched/sched_process_exit/hist > /dev/null || \\\n    fail \"named event on sched_process_fork did not work\"\n\ndiffs=`diff events/sched/sched_process_exit/hist events/sched/sched_process_fork/hist | wc -l`\ntest $diffs -eq 0 || fail \"Same name histograms are not same\"\n\nexit 0\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}