{
  "module_name": "trigger-synthetic-event-syntax.tc",
  "hash_id": "51d33f9aae7735eec2c932f97e127296f0eb7d66b0dc65f16749d8770e565804",
  "original_prompt": "Ingested from linux-6.6.14/tools/testing/selftests/ftrace/test.d/trigger/inter-event/trigger-synthetic-event-syntax.tc",
  "human_readable_source": "#!/bin/sh\n# SPDX-License-Identifier: GPL-2.0\n# description: event trigger - test synthetic_events syntax parser\n# requires: set_event synthetic_events\n\ndo_reset() {\n    reset_trigger\n    echo > set_event\n    clear_trace\n}\n\nfail() { #msg\n    do_reset\n    echo $1\n    exit_fail\n}\n\nreset_tracer\ndo_reset\n\necho \"Test synthetic_events syntax parser\"\n\necho > synthetic_events\n\n# synthetic event must have a field\n! echo \"myevent\" >> synthetic_events\necho \"myevent u64 var1\" >> synthetic_events\n\n# synthetic event must be found in synthetic_events\ngrep \"myevent[[:space:]]u64 var1\" synthetic_events\n\n# it is not possible to add same name event\n! echo \"myevent u64 var2\" >> synthetic_events\n\n# make sure !synthetic event doesn't require a field\necho \"!myevent\" >> synthetic_events\necho \"myevent u64 var1\" >> synthetic_events\n\n# Non-append open will cleanup all events and add new one\necho \"myevent u64 var2\" > synthetic_events\n\n# multiple fields with different spaces\necho \"myevent u64 var1; u64 var2;\" > synthetic_events\ngrep \"myevent[[:space:]]u64 var1; u64 var2\" synthetic_events\necho \"myevent u64 var1 ; u64 var2 ;\" > synthetic_events\ngrep \"myevent[[:space:]]u64 var1; u64 var2\" synthetic_events\necho \"myevent u64 var1 ;u64 var2\" > synthetic_events\ngrep \"myevent[[:space:]]u64 var1; u64 var2\" synthetic_events\n\n# test field types\necho \"myevent u32 var\" > synthetic_events\necho \"myevent u16 var\" > synthetic_events\necho \"myevent u8 var\" > synthetic_events\necho \"myevent s64 var\" > synthetic_events\necho \"myevent s32 var\" > synthetic_events\necho \"myevent s16 var\" > synthetic_events\necho \"myevent s8 var\" > synthetic_events\n\necho \"myevent char var\" > synthetic_events\necho \"myevent int var\" > synthetic_events\necho \"myevent long var\" > synthetic_events\necho \"myevent pid_t var\" > synthetic_events\n\necho \"myevent unsigned char var\" > synthetic_events\necho \"myevent unsigned int var\" > synthetic_events\necho \"myevent unsigned long var\" > synthetic_events\ngrep \"myevent[[:space:]]unsigned long var\" synthetic_events\n\n# test string type\necho \"myevent char var[10]\" > synthetic_events\ngrep \"myevent[[:space:]]char\\[10\\] var\" synthetic_events\n\nif grep -q 'long\\[\\]' README; then\n  # test stacktrace type\n  echo \"myevent unsigned long[] var\" > synthetic_events\n  grep \"myevent[[:space:]]unsigned long\\[\\] var\" synthetic_events\nfi\n\ndo_reset\n\nexit 0\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}