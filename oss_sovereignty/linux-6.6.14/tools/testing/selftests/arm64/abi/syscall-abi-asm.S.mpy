{
  "module_name": "syscall-abi-asm.S",
  "hash_id": "162507517f6e7664a000a1b86aa9ae717401655df5207645001c814b607040c4",
  "original_prompt": "Ingested from linux-6.6.14/tools/testing/selftests/arm64/abi/syscall-abi-asm.S",
  "human_readable_source": " \n \n \n \n\n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n\n#include \"syscall-abi.h\"\n\n.arch_extension sve\n\n#define ID_AA64SMFR0_EL1_SMEver_SHIFT           56\n#define ID_AA64SMFR0_EL1_SMEver_WIDTH           4\n\n \n.macro _ldr_za nw, nxbase, offset=0\n\t.inst\t0xe1000000\t\t\t\\\n\t\t| (((\\nw) & 3) << 13)\t\t\\\n\t\t| ((\\nxbase) << 5)\t\t\\\n\t\t| ((\\offset) & 7)\n.endm\n\n \n.macro _str_za nw, nxbase, offset=0\n\t.inst\t0xe1200000\t\t\t\\\n\t\t| (((\\nw) & 3) << 13)\t\t\\\n\t\t| ((\\nxbase) << 5)\t\t\\\n\t\t| ((\\offset) & 7)\n.endm\n\n \n.macro _ldr_zt nx\n\t.inst\t0xe11f8000\t\t\t\\\n\t\t| (((\\nx) & 0x1f) << 5)\n.endm\n\n \n.macro _str_zt nx\n\t.inst\t0xe13f8000\t\t\t\\\n\t\t| (((\\nx) & 0x1f) << 5)\n.endm\n\n.globl do_syscall\ndo_syscall:\n\t \n\tstp\tx29, x30, [sp, #-112]!\n\tmov\tx29, sp\n\tstp\tx0, x1, [sp, #16]\n\tstp\tx19, x20, [sp, #32]\n\tstp\tx21, x22, [sp, #48]\n\tstp\tx23, x24, [sp, #64]\n\tstp\tx25, x26, [sp, #80]\n\tstp\tx27, x28, [sp, #96]\n\n\t \n\tcbz\tx1, 1f\n\tadrp\tx2, svcr_in\n\tldr\tx2, [x2, :lo12:svcr_in]\n\tmsr\tS3_3_C4_C2_2, x2\n1:\n\n\t \n\ttbz\tx2, #SVCR_ZA_SHIFT, 1f\n\tmov\tw12, #0\n\tldr\tx2, =za_in\n2:\t_ldr_za 12, 2\n\tadd\tx2, x2, x1\n\tadd\tx12, x12, #1\n\tcmp\tx1, x12\n\tbne\t2b\n\n\t \n\tmrs\tx2, S3_0_C0_C4_5\t \n\tubfx\tx2, x2, #ID_AA64SMFR0_EL1_SMEver_SHIFT, \\\n\t\t\t #ID_AA64SMFR0_EL1_SMEver_WIDTH\n\tcbz\tx2, 1f\n\tadrp\tx2, zt_in\n\tadd\tx2, x2, :lo12:zt_in\n\t_ldr_zt 2\n1:\n\n\t \n\tldr\tx2, =gpr_in\n\tadd\tx2, x2, #64\n\tldp\tx8, x9, [x2], #16\n\tldp\tx10, x11, [x2], #16\n\tldp\tx12, x13, [x2], #16\n\tldp\tx14, x15, [x2], #16\n\tldp\tx16, x17, [x2], #16\n\tldp\tx18, x19, [x2], #16\n\tldp\tx20, x21, [x2], #16\n\tldp\tx22, x23, [x2], #16\n\tldp\tx24, x25, [x2], #16\n\tldp\tx26, x27, [x2], #16\n\tldr\tx28, [x2], #8\n\tstr\tx29, [x2], #8\t\t \n\tstr\tx30, [x2], #8\t\t \n\n\t \n\tcbnz\tx0, 1f\n\tldr\tx2, =svcr_in\n\ttbnz\tx2, #SVCR_SM_SHIFT, 1f\n\n\tldr\tx2, =fpr_in\n\tldp\tq0, q1, [x2]\n\tldp\tq2, q3, [x2, #16 * 2]\n\tldp\tq4, q5, [x2, #16 * 4]\n\tldp\tq6, q7, [x2, #16 * 6]\n\tldp\tq8, q9, [x2, #16 * 8]\n\tldp\tq10, q11, [x2, #16 * 10]\n\tldp\tq12, q13, [x2, #16 * 12]\n\tldp\tq14, q15, [x2, #16 * 14]\n\tldp\tq16, q17, [x2, #16 * 16]\n\tldp\tq18, q19, [x2, #16 * 18]\n\tldp\tq20, q21, [x2, #16 * 20]\n\tldp\tq22, q23, [x2, #16 * 22]\n\tldp\tq24, q25, [x2, #16 * 24]\n\tldp\tq26, q27, [x2, #16 * 26]\n\tldp\tq28, q29, [x2, #16 * 28]\n\tldp\tq30, q31, [x2, #16 * 30]\n\n\tb\t2f\n1:\n\n\t \n\n\tldr\tx2, =z_in\n\tldr\tz0, [x2, #0, MUL VL]\n\tldr\tz1, [x2, #1, MUL VL]\n\tldr\tz2, [x2, #2, MUL VL]\n\tldr\tz3, [x2, #3, MUL VL]\n\tldr\tz4, [x2, #4, MUL VL]\n\tldr\tz5, [x2, #5, MUL VL]\n\tldr\tz6, [x2, #6, MUL VL]\n\tldr\tz7, [x2, #7, MUL VL]\n\tldr\tz8, [x2, #8, MUL VL]\n\tldr\tz9, [x2, #9, MUL VL]\n\tldr\tz10, [x2, #10, MUL VL]\n\tldr\tz11, [x2, #11, MUL VL]\n\tldr\tz12, [x2, #12, MUL VL]\n\tldr\tz13, [x2, #13, MUL VL]\n\tldr\tz14, [x2, #14, MUL VL]\n\tldr\tz15, [x2, #15, MUL VL]\n\tldr\tz16, [x2, #16, MUL VL]\n\tldr\tz17, [x2, #17, MUL VL]\n\tldr\tz18, [x2, #18, MUL VL]\n\tldr\tz19, [x2, #19, MUL VL]\n\tldr\tz20, [x2, #20, MUL VL]\n\tldr\tz21, [x2, #21, MUL VL]\n\tldr\tz22, [x2, #22, MUL VL]\n\tldr\tz23, [x2, #23, MUL VL]\n\tldr\tz24, [x2, #24, MUL VL]\n\tldr\tz25, [x2, #25, MUL VL]\n\tldr\tz26, [x2, #26, MUL VL]\n\tldr\tz27, [x2, #27, MUL VL]\n\tldr\tz28, [x2, #28, MUL VL]\n\tldr\tz29, [x2, #29, MUL VL]\n\tldr\tz30, [x2, #30, MUL VL]\n\tldr\tz31, [x2, #31, MUL VL]\n\n\t \n\t \n\tldr\tx2, =ffr_in\n\tldr\tp0, [x2]\n\tldr\tx2, [x2, #0]\n\tcbz\tx2, 1f\n\twrffr\tp0.b\n1:\n\n\tldr\tx2, =p_in\n\tldr\tp0, [x2, #0, MUL VL]\n\tldr\tp1, [x2, #1, MUL VL]\n\tldr\tp2, [x2, #2, MUL VL]\n\tldr\tp3, [x2, #3, MUL VL]\n\tldr\tp4, [x2, #4, MUL VL]\n\tldr\tp5, [x2, #5, MUL VL]\n\tldr\tp6, [x2, #6, MUL VL]\n\tldr\tp7, [x2, #7, MUL VL]\n\tldr\tp8, [x2, #8, MUL VL]\n\tldr\tp9, [x2, #9, MUL VL]\n\tldr\tp10, [x2, #10, MUL VL]\n\tldr\tp11, [x2, #11, MUL VL]\n\tldr\tp12, [x2, #12, MUL VL]\n\tldr\tp13, [x2, #13, MUL VL]\n\tldr\tp14, [x2, #14, MUL VL]\n\tldr\tp15, [x2, #15, MUL VL]\n2:\n\n\t \n\tsvc\t#0\n\n\t \n\tldr\tx2, =gpr_out\n\tadd\tx2, x2, #64\n\tstp\tx8, x9, [x2], #16\n\tstp\tx10, x11, [x2], #16\n\tstp\tx12, x13, [x2], #16\n\tstp\tx14, x15, [x2], #16\n\tstp\tx16, x17, [x2], #16\n\tstp\tx18, x19, [x2], #16\n\tstp\tx20, x21, [x2], #16\n\tstp\tx22, x23, [x2], #16\n\tstp\tx24, x25, [x2], #16\n\tstp\tx26, x27, [x2], #16\n\tstp\tx28, x29, [x2], #16\n\tstr\tx30, [x2]\n\n\t \n\tldp\tx0, x1, [sp, #16]\n\n\t \n\tldr\tx2, =fpr_out\n\tstp\tq0, q1, [x2]\n\tstp\tq2, q3, [x2, #16 * 2]\n\tstp\tq4, q5, [x2, #16 * 4]\n\tstp\tq6, q7, [x2, #16 * 6]\n\tstp\tq8, q9, [x2, #16 * 8]\n\tstp\tq10, q11, [x2, #16 * 10]\n\tstp\tq12, q13, [x2, #16 * 12]\n\tstp\tq14, q15, [x2, #16 * 14]\n\tstp\tq16, q17, [x2, #16 * 16]\n\tstp\tq18, q19, [x2, #16 * 18]\n\tstp\tq20, q21, [x2, #16 * 20]\n\tstp\tq22, q23, [x2, #16 * 22]\n\tstp\tq24, q25, [x2, #16 * 24]\n\tstp\tq26, q27, [x2, #16 * 26]\n\tstp\tq28, q29, [x2, #16 * 28]\n\tstp\tq30, q31, [x2, #16 * 30]\n\n\t \n\tcbz\tx1, 1f\n\tmrs\tx2, S3_3_C4_C2_2\n\tadrp\tx3, svcr_out\n\tstr\tx2, [x3, :lo12:svcr_out]\n1:\n\n\t \n\ttbz\tx2, #SVCR_ZA_SHIFT, 1f\n\tmov\tw12, #0\n\tldr\tx2, =za_out\n2:\t_str_za 12, 2\n\tadd\tx2, x2, x1\n\tadd\tx12, x12, #1\n\tcmp\tx1, x12\n\tbne\t2b\n\n\t \n\tmrs\tx2, S3_0_C0_C4_5\t \n\tubfx\tx2, x2, #ID_AA64SMFR0_EL1_SMEver_SHIFT, \\\n\t\t\t#ID_AA64SMFR0_EL1_SMEver_WIDTH\n\tcbz\tx2, 1f\n\tadrp\tx2, zt_out\n\tadd\tx2, x2, :lo12:zt_out\n\t_str_zt 2\n1:\n\n\t \n\tcbz\tx0, 1f\n\n\tldr\tx2, =z_out\n\tstr\tz0, [x2, #0, MUL VL]\n\tstr\tz1, [x2, #1, MUL VL]\n\tstr\tz2, [x2, #2, MUL VL]\n\tstr\tz3, [x2, #3, MUL VL]\n\tstr\tz4, [x2, #4, MUL VL]\n\tstr\tz5, [x2, #5, MUL VL]\n\tstr\tz6, [x2, #6, MUL VL]\n\tstr\tz7, [x2, #7, MUL VL]\n\tstr\tz8, [x2, #8, MUL VL]\n\tstr\tz9, [x2, #9, MUL VL]\n\tstr\tz10, [x2, #10, MUL VL]\n\tstr\tz11, [x2, #11, MUL VL]\n\tstr\tz12, [x2, #12, MUL VL]\n\tstr\tz13, [x2, #13, MUL VL]\n\tstr\tz14, [x2, #14, MUL VL]\n\tstr\tz15, [x2, #15, MUL VL]\n\tstr\tz16, [x2, #16, MUL VL]\n\tstr\tz17, [x2, #17, MUL VL]\n\tstr\tz18, [x2, #18, MUL VL]\n\tstr\tz19, [x2, #19, MUL VL]\n\tstr\tz20, [x2, #20, MUL VL]\n\tstr\tz21, [x2, #21, MUL VL]\n\tstr\tz22, [x2, #22, MUL VL]\n\tstr\tz23, [x2, #23, MUL VL]\n\tstr\tz24, [x2, #24, MUL VL]\n\tstr\tz25, [x2, #25, MUL VL]\n\tstr\tz26, [x2, #26, MUL VL]\n\tstr\tz27, [x2, #27, MUL VL]\n\tstr\tz28, [x2, #28, MUL VL]\n\tstr\tz29, [x2, #29, MUL VL]\n\tstr\tz30, [x2, #30, MUL VL]\n\tstr\tz31, [x2, #31, MUL VL]\n\n\tldr\tx2, =p_out\n\tstr\tp0, [x2, #0, MUL VL]\n\tstr\tp1, [x2, #1, MUL VL]\n\tstr\tp2, [x2, #2, MUL VL]\n\tstr\tp3, [x2, #3, MUL VL]\n\tstr\tp4, [x2, #4, MUL VL]\n\tstr\tp5, [x2, #5, MUL VL]\n\tstr\tp6, [x2, #6, MUL VL]\n\tstr\tp7, [x2, #7, MUL VL]\n\tstr\tp8, [x2, #8, MUL VL]\n\tstr\tp9, [x2, #9, MUL VL]\n\tstr\tp10, [x2, #10, MUL VL]\n\tstr\tp11, [x2, #11, MUL VL]\n\tstr\tp12, [x2, #12, MUL VL]\n\tstr\tp13, [x2, #13, MUL VL]\n\tstr\tp14, [x2, #14, MUL VL]\n\tstr\tp15, [x2, #15, MUL VL]\n\n\t \n\tldr\tx2, =ffr_in\n\tldr\tx2, [x2, #0]\n\tcbz\tx2, 1f\n\tldr\tx2, =ffr_out\n\trdffr\tp0.b\n\tstr\tp0, [x2]\n1:\n\n\t \n\tldp\tx19, x20, [sp, #32]\n\tldp\tx21, x22, [sp, #48]\n\tldp\tx23, x24, [sp, #64]\n\tldp\tx25, x26, [sp, #80]\n\tldp\tx27, x28, [sp, #96]\n\tldp\tx29, x30, [sp], #112\n\n\t \n\tcbz\tx1, 1f\n\tmsr\tS3_3_C4_C2_2, xzr\n1:\n\n\tret\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}