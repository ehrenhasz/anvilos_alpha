{
  "module_name": "processor.h",
  "hash_id": "54847cf34504a11e88b37a60828bc2ddb24a9d37ef7a2b6f67c36a00559bfc8a",
  "original_prompt": "Ingested from linux-6.6.14/tools/testing/selftests/kvm/include/riscv/processor.h",
  "human_readable_source": " \n \n#ifndef SELFTEST_KVM_PROCESSOR_H\n#define SELFTEST_KVM_PROCESSOR_H\n\n#include \"kvm_util.h\"\n#include <linux/stringify.h>\n\nstatic inline uint64_t __kvm_reg_id(uint64_t type, uint64_t idx,\n\t\t\t\t    uint64_t  size)\n{\n\treturn KVM_REG_RISCV | type | idx | size;\n}\n\n#if __riscv_xlen == 64\n#define KVM_REG_SIZE_ULONG\tKVM_REG_SIZE_U64\n#else\n#define KVM_REG_SIZE_ULONG\tKVM_REG_SIZE_U32\n#endif\n\n#define RISCV_CONFIG_REG(name)\t__kvm_reg_id(KVM_REG_RISCV_CONFIG, \\\n\t\t\t\t\t     KVM_REG_RISCV_CONFIG_REG(name), \\\n\t\t\t\t\t     KVM_REG_SIZE_ULONG)\n\n#define RISCV_CORE_REG(name)\t__kvm_reg_id(KVM_REG_RISCV_CORE, \\\n\t\t\t\t\t     KVM_REG_RISCV_CORE_REG(name), \\\n\t\t\t\t\t     KVM_REG_SIZE_ULONG)\n\n#define RISCV_CSR_REG(name)\t__kvm_reg_id(KVM_REG_RISCV_CSR, \\\n\t\t\t\t\t     KVM_REG_RISCV_CSR_REG(name), \\\n\t\t\t\t\t     KVM_REG_SIZE_ULONG)\n\n#define RISCV_TIMER_REG(name)\t__kvm_reg_id(KVM_REG_RISCV_TIMER, \\\n\t\t\t\t\t     KVM_REG_RISCV_TIMER_REG(name), \\\n\t\t\t\t\t     KVM_REG_SIZE_U64)\n\n#define RISCV_ISA_EXT_REG(idx)\t__kvm_reg_id(KVM_REG_RISCV_ISA_EXT, \\\n\t\t\t\t\t     idx, KVM_REG_SIZE_ULONG)\n\n \n#define PGTBL_L3_INDEX_MASK\t\t\t0x0000FF8000000000ULL\n#define PGTBL_L3_INDEX_SHIFT\t\t\t39\n#define PGTBL_L3_BLOCK_SHIFT\t\t\t39\n#define PGTBL_L3_BLOCK_SIZE\t\t\t0x0000008000000000ULL\n#define PGTBL_L3_MAP_MASK\t\t\t(~(PGTBL_L3_BLOCK_SIZE - 1))\n \n#define PGTBL_L2_INDEX_MASK\t\t\t0x0000007FC0000000ULL\n#define PGTBL_L2_INDEX_SHIFT\t\t\t30\n#define PGTBL_L2_BLOCK_SHIFT\t\t\t30\n#define PGTBL_L2_BLOCK_SIZE\t\t\t0x0000000040000000ULL\n#define PGTBL_L2_MAP_MASK\t\t\t(~(PGTBL_L2_BLOCK_SIZE - 1))\n \n#define PGTBL_L1_INDEX_MASK\t\t\t0x000000003FE00000ULL\n#define PGTBL_L1_INDEX_SHIFT\t\t\t21\n#define PGTBL_L1_BLOCK_SHIFT\t\t\t21\n#define PGTBL_L1_BLOCK_SIZE\t\t\t0x0000000000200000ULL\n#define PGTBL_L1_MAP_MASK\t\t\t(~(PGTBL_L1_BLOCK_SIZE - 1))\n \n#define PGTBL_L0_INDEX_MASK\t\t\t0x00000000001FF000ULL\n#define PGTBL_L0_INDEX_SHIFT\t\t\t12\n#define PGTBL_L0_BLOCK_SHIFT\t\t\t12\n#define PGTBL_L0_BLOCK_SIZE\t\t\t0x0000000000001000ULL\n#define PGTBL_L0_MAP_MASK\t\t\t(~(PGTBL_L0_BLOCK_SIZE - 1))\n\n#define PGTBL_PTE_ADDR_MASK\t\t\t0x003FFFFFFFFFFC00ULL\n#define PGTBL_PTE_ADDR_SHIFT\t\t\t10\n#define PGTBL_PTE_RSW_MASK\t\t\t0x0000000000000300ULL\n#define PGTBL_PTE_RSW_SHIFT\t\t\t8\n#define PGTBL_PTE_DIRTY_MASK\t\t\t0x0000000000000080ULL\n#define PGTBL_PTE_DIRTY_SHIFT\t\t\t7\n#define PGTBL_PTE_ACCESSED_MASK\t\t\t0x0000000000000040ULL\n#define PGTBL_PTE_ACCESSED_SHIFT\t\t6\n#define PGTBL_PTE_GLOBAL_MASK\t\t\t0x0000000000000020ULL\n#define PGTBL_PTE_GLOBAL_SHIFT\t\t\t5\n#define PGTBL_PTE_USER_MASK\t\t\t0x0000000000000010ULL\n#define PGTBL_PTE_USER_SHIFT\t\t\t4\n#define PGTBL_PTE_EXECUTE_MASK\t\t\t0x0000000000000008ULL\n#define PGTBL_PTE_EXECUTE_SHIFT\t\t\t3\n#define PGTBL_PTE_WRITE_MASK\t\t\t0x0000000000000004ULL\n#define PGTBL_PTE_WRITE_SHIFT\t\t\t2\n#define PGTBL_PTE_READ_MASK\t\t\t0x0000000000000002ULL\n#define PGTBL_PTE_READ_SHIFT\t\t\t1\n#define PGTBL_PTE_PERM_MASK\t\t\t(PGTBL_PTE_ACCESSED_MASK | \\\n\t\t\t\t\t\t PGTBL_PTE_DIRTY_MASK | \\\n\t\t\t\t\t\t PGTBL_PTE_EXECUTE_MASK | \\\n\t\t\t\t\t\t PGTBL_PTE_WRITE_MASK | \\\n\t\t\t\t\t\t PGTBL_PTE_READ_MASK)\n#define PGTBL_PTE_VALID_MASK\t\t\t0x0000000000000001ULL\n#define PGTBL_PTE_VALID_SHIFT\t\t\t0\n\n#define PGTBL_PAGE_SIZE\t\t\t\tPGTBL_L0_BLOCK_SIZE\n#define PGTBL_PAGE_SIZE_SHIFT\t\t\tPGTBL_L0_BLOCK_SHIFT\n\n#define SATP_PPN\t\t\t\t_AC(0x00000FFFFFFFFFFF, UL)\n#define SATP_MODE_39\t\t\t\t_AC(0x8000000000000000, UL)\n#define SATP_MODE_48\t\t\t\t_AC(0x9000000000000000, UL)\n#define SATP_ASID_BITS\t\t\t\t16\n#define SATP_ASID_SHIFT\t\t\t\t44\n#define SATP_ASID_MASK\t\t\t\t_AC(0xFFFF, UL)\n\n#define SBI_EXT_EXPERIMENTAL_START\t\t0x08000000\n#define SBI_EXT_EXPERIMENTAL_END\t\t0x08FFFFFF\n\n#define KVM_RISCV_SELFTESTS_SBI_EXT\t\tSBI_EXT_EXPERIMENTAL_END\n#define KVM_RISCV_SELFTESTS_SBI_UCALL\t\t0\n#define KVM_RISCV_SELFTESTS_SBI_UNEXP\t\t1\n\nstruct sbiret {\n\tlong error;\n\tlong value;\n};\n\nstruct sbiret sbi_ecall(int ext, int fid, unsigned long arg0,\n\t\t\tunsigned long arg1, unsigned long arg2,\n\t\t\tunsigned long arg3, unsigned long arg4,\n\t\t\tunsigned long arg5);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}