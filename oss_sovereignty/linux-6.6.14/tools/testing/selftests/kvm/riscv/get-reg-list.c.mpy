{
  "module_name": "get-reg-list.c",
  "hash_id": "7d55fd2cad11579d62578cce2d828350973270f8e3449d6990b80bc47d5be1be",
  "original_prompt": "Ingested from linux-6.6.14/tools/testing/selftests/kvm/riscv/get-reg-list.c",
  "human_readable_source": "\n \n#include <stdio.h>\n#include \"kvm_util.h\"\n#include \"test_util.h\"\n#include \"processor.h\"\n\n#define REG_MASK (KVM_REG_ARCH_MASK | KVM_REG_SIZE_MASK)\n\nstatic bool isa_ext_cant_disable[KVM_RISCV_ISA_EXT_MAX];\n\nbool filter_reg(__u64 reg)\n{\n\tswitch (reg & ~REG_MASK) {\n\t \n\tcase KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_A:\n\tcase KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_C:\n\tcase KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_D:\n\tcase KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_F:\n\tcase KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_H:\n\tcase KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_I:\n\tcase KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_M:\n\tcase KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_SVPBMT:\n\tcase KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_SSTC:\n\tcase KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_SVINVAL:\n\tcase KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_ZIHINTPAUSE:\n\tcase KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_ZICBOM:\n\tcase KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_ZICBOZ:\n\tcase KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_ZBB:\n\tcase KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_SSAIA:\n\tcase KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_V:\n\tcase KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_SVNAPOT:\n\tcase KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_ZBA:\n\tcase KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_ZBS:\n\tcase KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_ZICNTR:\n\tcase KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_ZICSR:\n\tcase KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_ZIFENCEI:\n\tcase KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_ZIHPM:\n\t\treturn true;\n\t \n\tcase KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_AIA | KVM_REG_RISCV_CSR_AIA_REG(siselect):\n\tcase KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_AIA | KVM_REG_RISCV_CSR_AIA_REG(iprio1):\n\tcase KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_AIA | KVM_REG_RISCV_CSR_AIA_REG(iprio2):\n\tcase KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_AIA | KVM_REG_RISCV_CSR_AIA_REG(sieh):\n\tcase KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_AIA | KVM_REG_RISCV_CSR_AIA_REG(siph):\n\tcase KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_AIA | KVM_REG_RISCV_CSR_AIA_REG(iprio1h):\n\tcase KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_AIA | KVM_REG_RISCV_CSR_AIA_REG(iprio2h):\n\t\treturn isa_ext_cant_disable[KVM_RISCV_ISA_EXT_SSAIA];\n\tdefault:\n\t\tbreak;\n\t}\n\n\treturn false;\n}\n\nbool check_reject_set(int err)\n{\n\treturn err == EINVAL;\n}\n\nstatic inline bool vcpu_has_ext(struct kvm_vcpu *vcpu, int ext)\n{\n\tint ret;\n\tunsigned long value;\n\n\tret = __vcpu_get_reg(vcpu, RISCV_ISA_EXT_REG(ext), &value);\n\treturn (ret) ? false : !!value;\n}\n\nvoid finalize_vcpu(struct kvm_vcpu *vcpu, struct vcpu_reg_list *c)\n{\n\tunsigned long isa_ext_state[KVM_RISCV_ISA_EXT_MAX] = { 0 };\n\tstruct vcpu_reg_sublist *s;\n\tint rc;\n\n\tfor (int i = 0; i < KVM_RISCV_ISA_EXT_MAX; i++)\n\t\t__vcpu_get_reg(vcpu, RISCV_ISA_EXT_REG(i), &isa_ext_state[i]);\n\n\t \n\tfor (int i = 0; i < KVM_RISCV_ISA_EXT_MAX; i++) {\n\t\trc = __vcpu_set_reg(vcpu, RISCV_ISA_EXT_REG(i), 0);\n\t\tif (rc && isa_ext_state[i])\n\t\t\tisa_ext_cant_disable[i] = true;\n\t}\n\n\tfor_each_sublist(c, s) {\n\t\tif (!s->feature)\n\t\t\tcontinue;\n\n\t\t \n\t\t__vcpu_set_reg(vcpu, RISCV_ISA_EXT_REG(s->feature), 1);\n\n\t\t \n\t\t__TEST_REQUIRE(vcpu_has_ext(vcpu, s->feature),\n\t\t\t       \"%s not available, skipping tests\\n\", s->name);\n\t}\n}\n\nstatic const char *config_id_to_str(__u64 id)\n{\n\t \n\t__u64 reg_off = id & ~(REG_MASK | KVM_REG_RISCV_CONFIG);\n\n\tswitch (reg_off) {\n\tcase KVM_REG_RISCV_CONFIG_REG(isa):\n\t\treturn \"KVM_REG_RISCV_CONFIG_REG(isa)\";\n\tcase KVM_REG_RISCV_CONFIG_REG(zicbom_block_size):\n\t\treturn \"KVM_REG_RISCV_CONFIG_REG(zicbom_block_size)\";\n\tcase KVM_REG_RISCV_CONFIG_REG(zicboz_block_size):\n\t\treturn \"KVM_REG_RISCV_CONFIG_REG(zicboz_block_size)\";\n\tcase KVM_REG_RISCV_CONFIG_REG(mvendorid):\n\t\treturn \"KVM_REG_RISCV_CONFIG_REG(mvendorid)\";\n\tcase KVM_REG_RISCV_CONFIG_REG(marchid):\n\t\treturn \"KVM_REG_RISCV_CONFIG_REG(marchid)\";\n\tcase KVM_REG_RISCV_CONFIG_REG(mimpid):\n\t\treturn \"KVM_REG_RISCV_CONFIG_REG(mimpid)\";\n\tcase KVM_REG_RISCV_CONFIG_REG(satp_mode):\n\t\treturn \"KVM_REG_RISCV_CONFIG_REG(satp_mode)\";\n\t}\n\n\t \n\treturn strdup_printf(\"KVM_REG_RISCV_CONFIG_REG(%lld) /* UNKNOWN */\", reg_off);\n}\n\nstatic const char *core_id_to_str(const char *prefix, __u64 id)\n{\n\t \n\t__u64 reg_off = id & ~(REG_MASK | KVM_REG_RISCV_CORE);\n\n\tswitch (reg_off) {\n\tcase KVM_REG_RISCV_CORE_REG(regs.pc):\n\t\treturn \"KVM_REG_RISCV_CORE_REG(regs.pc)\";\n\tcase KVM_REG_RISCV_CORE_REG(regs.ra):\n\t\treturn \"KVM_REG_RISCV_CORE_REG(regs.ra)\";\n\tcase KVM_REG_RISCV_CORE_REG(regs.sp):\n\t\treturn \"KVM_REG_RISCV_CORE_REG(regs.sp)\";\n\tcase KVM_REG_RISCV_CORE_REG(regs.gp):\n\t\treturn \"KVM_REG_RISCV_CORE_REG(regs.gp)\";\n\tcase KVM_REG_RISCV_CORE_REG(regs.tp):\n\t\treturn \"KVM_REG_RISCV_CORE_REG(regs.tp)\";\n\tcase KVM_REG_RISCV_CORE_REG(regs.t0) ... KVM_REG_RISCV_CORE_REG(regs.t2):\n\t\treturn strdup_printf(\"KVM_REG_RISCV_CORE_REG(regs.t%lld)\",\n\t\t\t   reg_off - KVM_REG_RISCV_CORE_REG(regs.t0));\n\tcase KVM_REG_RISCV_CORE_REG(regs.s0) ... KVM_REG_RISCV_CORE_REG(regs.s1):\n\t\treturn strdup_printf(\"KVM_REG_RISCV_CORE_REG(regs.s%lld)\",\n\t\t\t   reg_off - KVM_REG_RISCV_CORE_REG(regs.s0));\n\tcase KVM_REG_RISCV_CORE_REG(regs.a0) ... KVM_REG_RISCV_CORE_REG(regs.a7):\n\t\treturn strdup_printf(\"KVM_REG_RISCV_CORE_REG(regs.a%lld)\",\n\t\t\t   reg_off - KVM_REG_RISCV_CORE_REG(regs.a0));\n\tcase KVM_REG_RISCV_CORE_REG(regs.s2) ... KVM_REG_RISCV_CORE_REG(regs.s11):\n\t\treturn strdup_printf(\"KVM_REG_RISCV_CORE_REG(regs.s%lld)\",\n\t\t\t   reg_off - KVM_REG_RISCV_CORE_REG(regs.s2) + 2);\n\tcase KVM_REG_RISCV_CORE_REG(regs.t3) ... KVM_REG_RISCV_CORE_REG(regs.t6):\n\t\treturn strdup_printf(\"KVM_REG_RISCV_CORE_REG(regs.t%lld)\",\n\t\t\t   reg_off - KVM_REG_RISCV_CORE_REG(regs.t3) + 3);\n\tcase KVM_REG_RISCV_CORE_REG(mode):\n\t\treturn \"KVM_REG_RISCV_CORE_REG(mode)\";\n\t}\n\n\tTEST_FAIL(\"%s: Unknown core reg id: 0x%llx\", prefix, id);\n\treturn NULL;\n}\n\n#define RISCV_CSR_GENERAL(csr) \\\n\t\"KVM_REG_RISCV_CSR_GENERAL | KVM_REG_RISCV_CSR_REG(\" #csr \")\"\n#define RISCV_CSR_AIA(csr) \\\n\t\"KVM_REG_RISCV_CSR_AIA | KVM_REG_RISCV_CSR_REG(\" #csr \")\"\n\nstatic const char *general_csr_id_to_str(__u64 reg_off)\n{\n\t \n\tswitch (reg_off) {\n\tcase KVM_REG_RISCV_CSR_REG(sstatus):\n\t\treturn RISCV_CSR_GENERAL(sstatus);\n\tcase KVM_REG_RISCV_CSR_REG(sie):\n\t\treturn RISCV_CSR_GENERAL(sie);\n\tcase KVM_REG_RISCV_CSR_REG(stvec):\n\t\treturn RISCV_CSR_GENERAL(stvec);\n\tcase KVM_REG_RISCV_CSR_REG(sscratch):\n\t\treturn RISCV_CSR_GENERAL(sscratch);\n\tcase KVM_REG_RISCV_CSR_REG(sepc):\n\t\treturn RISCV_CSR_GENERAL(sepc);\n\tcase KVM_REG_RISCV_CSR_REG(scause):\n\t\treturn RISCV_CSR_GENERAL(scause);\n\tcase KVM_REG_RISCV_CSR_REG(stval):\n\t\treturn RISCV_CSR_GENERAL(stval);\n\tcase KVM_REG_RISCV_CSR_REG(sip):\n\t\treturn RISCV_CSR_GENERAL(sip);\n\tcase KVM_REG_RISCV_CSR_REG(satp):\n\t\treturn RISCV_CSR_GENERAL(satp);\n\tcase KVM_REG_RISCV_CSR_REG(scounteren):\n\t\treturn RISCV_CSR_GENERAL(scounteren);\n\t}\n\n\tTEST_FAIL(\"Unknown general csr reg: 0x%llx\", reg_off);\n\treturn NULL;\n}\n\nstatic const char *aia_csr_id_to_str(__u64 reg_off)\n{\n\t \n\tswitch (reg_off) {\n\tcase KVM_REG_RISCV_CSR_AIA_REG(siselect):\n\t\treturn RISCV_CSR_AIA(siselect);\n\tcase KVM_REG_RISCV_CSR_AIA_REG(iprio1):\n\t\treturn RISCV_CSR_AIA(iprio1);\n\tcase KVM_REG_RISCV_CSR_AIA_REG(iprio2):\n\t\treturn RISCV_CSR_AIA(iprio2);\n\tcase KVM_REG_RISCV_CSR_AIA_REG(sieh):\n\t\treturn RISCV_CSR_AIA(sieh);\n\tcase KVM_REG_RISCV_CSR_AIA_REG(siph):\n\t\treturn RISCV_CSR_AIA(siph);\n\tcase KVM_REG_RISCV_CSR_AIA_REG(iprio1h):\n\t\treturn RISCV_CSR_AIA(iprio1h);\n\tcase KVM_REG_RISCV_CSR_AIA_REG(iprio2h):\n\t\treturn RISCV_CSR_AIA(iprio2h);\n\t}\n\n\tTEST_FAIL(\"Unknown aia csr reg: 0x%llx\", reg_off);\n\treturn NULL;\n}\n\nstatic const char *csr_id_to_str(const char *prefix, __u64 id)\n{\n\t__u64 reg_off = id & ~(REG_MASK | KVM_REG_RISCV_CSR);\n\t__u64 reg_subtype = reg_off & KVM_REG_RISCV_SUBTYPE_MASK;\n\n\treg_off &= ~KVM_REG_RISCV_SUBTYPE_MASK;\n\n\tswitch (reg_subtype) {\n\tcase KVM_REG_RISCV_CSR_GENERAL:\n\t\treturn general_csr_id_to_str(reg_off);\n\tcase KVM_REG_RISCV_CSR_AIA:\n\t\treturn aia_csr_id_to_str(reg_off);\n\t}\n\n\tTEST_FAIL(\"%s: Unknown csr subtype: 0x%llx\", prefix, reg_subtype);\n\treturn NULL;\n}\n\nstatic const char *timer_id_to_str(const char *prefix, __u64 id)\n{\n\t \n\t__u64 reg_off = id & ~(REG_MASK | KVM_REG_RISCV_TIMER);\n\n\tswitch (reg_off) {\n\tcase KVM_REG_RISCV_TIMER_REG(frequency):\n\t\treturn \"KVM_REG_RISCV_TIMER_REG(frequency)\";\n\tcase KVM_REG_RISCV_TIMER_REG(time):\n\t\treturn \"KVM_REG_RISCV_TIMER_REG(time)\";\n\tcase KVM_REG_RISCV_TIMER_REG(compare):\n\t\treturn \"KVM_REG_RISCV_TIMER_REG(compare)\";\n\tcase KVM_REG_RISCV_TIMER_REG(state):\n\t\treturn \"KVM_REG_RISCV_TIMER_REG(state)\";\n\t}\n\n\tTEST_FAIL(\"%s: Unknown timer reg id: 0x%llx\", prefix, id);\n\treturn NULL;\n}\n\nstatic const char *fp_f_id_to_str(const char *prefix, __u64 id)\n{\n\t \n\t__u64 reg_off = id & ~(REG_MASK | KVM_REG_RISCV_FP_F);\n\n\tswitch (reg_off) {\n\tcase KVM_REG_RISCV_FP_F_REG(f[0]) ...\n\t     KVM_REG_RISCV_FP_F_REG(f[31]):\n\t\treturn strdup_printf(\"KVM_REG_RISCV_FP_F_REG(f[%lld])\", reg_off);\n\tcase KVM_REG_RISCV_FP_F_REG(fcsr):\n\t\treturn \"KVM_REG_RISCV_FP_F_REG(fcsr)\";\n\t}\n\n\tTEST_FAIL(\"%s: Unknown fp_f reg id: 0x%llx\", prefix, id);\n\treturn NULL;\n}\n\nstatic const char *fp_d_id_to_str(const char *prefix, __u64 id)\n{\n\t \n\t__u64 reg_off = id & ~(REG_MASK | KVM_REG_RISCV_FP_D);\n\n\tswitch (reg_off) {\n\tcase KVM_REG_RISCV_FP_D_REG(f[0]) ...\n\t     KVM_REG_RISCV_FP_D_REG(f[31]):\n\t\treturn strdup_printf(\"KVM_REG_RISCV_FP_D_REG(f[%lld])\", reg_off);\n\tcase KVM_REG_RISCV_FP_D_REG(fcsr):\n\t\treturn \"KVM_REG_RISCV_FP_D_REG(fcsr)\";\n\t}\n\n\tTEST_FAIL(\"%s: Unknown fp_d reg id: 0x%llx\", prefix, id);\n\treturn NULL;\n}\n\nstatic const char *isa_ext_id_to_str(__u64 id)\n{\n\t \n\t__u64 reg_off = id & ~(REG_MASK | KVM_REG_RISCV_ISA_EXT);\n\n\tstatic const char * const kvm_isa_ext_reg_name[] = {\n\t\t\"KVM_RISCV_ISA_EXT_A\",\n\t\t\"KVM_RISCV_ISA_EXT_C\",\n\t\t\"KVM_RISCV_ISA_EXT_D\",\n\t\t\"KVM_RISCV_ISA_EXT_F\",\n\t\t\"KVM_RISCV_ISA_EXT_H\",\n\t\t\"KVM_RISCV_ISA_EXT_I\",\n\t\t\"KVM_RISCV_ISA_EXT_M\",\n\t\t\"KVM_RISCV_ISA_EXT_SVPBMT\",\n\t\t\"KVM_RISCV_ISA_EXT_SSTC\",\n\t\t\"KVM_RISCV_ISA_EXT_SVINVAL\",\n\t\t\"KVM_RISCV_ISA_EXT_ZIHINTPAUSE\",\n\t\t\"KVM_RISCV_ISA_EXT_ZICBOM\",\n\t\t\"KVM_RISCV_ISA_EXT_ZICBOZ\",\n\t\t\"KVM_RISCV_ISA_EXT_ZBB\",\n\t\t\"KVM_RISCV_ISA_EXT_SSAIA\",\n\t\t\"KVM_RISCV_ISA_EXT_V\",\n\t\t\"KVM_RISCV_ISA_EXT_SVNAPOT\",\n\t\t\"KVM_RISCV_ISA_EXT_ZBA\",\n\t\t\"KVM_RISCV_ISA_EXT_ZBS\",\n\t\t\"KVM_RISCV_ISA_EXT_ZICNTR\",\n\t\t\"KVM_RISCV_ISA_EXT_ZICSR\",\n\t\t\"KVM_RISCV_ISA_EXT_ZIFENCEI\",\n\t\t\"KVM_RISCV_ISA_EXT_ZIHPM\",\n\t};\n\n\tif (reg_off >= ARRAY_SIZE(kvm_isa_ext_reg_name)) {\n\t\t \n\t\treturn strdup_printf(\"%lld /* UNKNOWN */\", reg_off);\n\t}\n\n\treturn kvm_isa_ext_reg_name[reg_off];\n}\n\nstatic const char *sbi_ext_single_id_to_str(__u64 reg_off)\n{\n\t \n\tstatic const char * const kvm_sbi_ext_reg_name[] = {\n\t\t\"KVM_REG_RISCV_SBI_SINGLE | KVM_RISCV_SBI_EXT_V01\",\n\t\t\"KVM_REG_RISCV_SBI_SINGLE | KVM_RISCV_SBI_EXT_TIME\",\n\t\t\"KVM_REG_RISCV_SBI_SINGLE | KVM_RISCV_SBI_EXT_IPI\",\n\t\t\"KVM_REG_RISCV_SBI_SINGLE | KVM_RISCV_SBI_EXT_RFENCE\",\n\t\t\"KVM_REG_RISCV_SBI_SINGLE | KVM_RISCV_SBI_EXT_SRST\",\n\t\t\"KVM_REG_RISCV_SBI_SINGLE | KVM_RISCV_SBI_EXT_HSM\",\n\t\t\"KVM_REG_RISCV_SBI_SINGLE | KVM_RISCV_SBI_EXT_PMU\",\n\t\t\"KVM_REG_RISCV_SBI_SINGLE | KVM_RISCV_SBI_EXT_EXPERIMENTAL\",\n\t\t\"KVM_REG_RISCV_SBI_SINGLE | KVM_RISCV_SBI_EXT_VENDOR\",\n\t};\n\n\tif (reg_off >= ARRAY_SIZE(kvm_sbi_ext_reg_name)) {\n\t\t \n\t\treturn strdup_printf(\"KVM_REG_RISCV_SBI_SINGLE | %lld /* UNKNOWN */\", reg_off);\n\t}\n\n\treturn kvm_sbi_ext_reg_name[reg_off];\n}\n\nstatic const char *sbi_ext_multi_id_to_str(__u64 reg_subtype, __u64 reg_off)\n{\n\tif (reg_off > KVM_REG_RISCV_SBI_MULTI_REG_LAST) {\n\t\t \n\t\treturn strdup_printf(\"%lld /* UNKNOWN */\", reg_off);\n\t}\n\n\tswitch (reg_subtype) {\n\tcase KVM_REG_RISCV_SBI_MULTI_EN:\n\t\treturn strdup_printf(\"KVM_REG_RISCV_SBI_MULTI_EN | %lld\", reg_off);\n\tcase KVM_REG_RISCV_SBI_MULTI_DIS:\n\t\treturn strdup_printf(\"KVM_REG_RISCV_SBI_MULTI_DIS | %lld\", reg_off);\n\t}\n\n\treturn NULL;\n}\n\nstatic const char *sbi_ext_id_to_str(const char *prefix, __u64 id)\n{\n\t__u64 reg_off = id & ~(REG_MASK | KVM_REG_RISCV_SBI_EXT);\n\t__u64 reg_subtype = reg_off & KVM_REG_RISCV_SUBTYPE_MASK;\n\n\treg_off &= ~KVM_REG_RISCV_SUBTYPE_MASK;\n\n\tswitch (reg_subtype) {\n\tcase KVM_REG_RISCV_SBI_SINGLE:\n\t\treturn sbi_ext_single_id_to_str(reg_off);\n\tcase KVM_REG_RISCV_SBI_MULTI_EN:\n\tcase KVM_REG_RISCV_SBI_MULTI_DIS:\n\t\treturn sbi_ext_multi_id_to_str(reg_subtype, reg_off);\n\t}\n\n\tTEST_FAIL(\"%s: Unknown sbi ext subtype: 0x%llx\", prefix, reg_subtype);\n\treturn NULL;\n}\n\nvoid print_reg(const char *prefix, __u64 id)\n{\n\tconst char *reg_size = NULL;\n\n\tTEST_ASSERT((id & KVM_REG_ARCH_MASK) == KVM_REG_RISCV,\n\t\t    \"%s: KVM_REG_RISCV missing in reg id: 0x%llx\", prefix, id);\n\n\tswitch (id & KVM_REG_SIZE_MASK) {\n\tcase KVM_REG_SIZE_U32:\n\t\treg_size = \"KVM_REG_SIZE_U32\";\n\t\tbreak;\n\tcase KVM_REG_SIZE_U64:\n\t\treg_size = \"KVM_REG_SIZE_U64\";\n\t\tbreak;\n\tcase KVM_REG_SIZE_U128:\n\t\treg_size = \"KVM_REG_SIZE_U128\";\n\t\tbreak;\n\tdefault:\n\t\tTEST_FAIL(\"%s: Unexpected reg size: 0x%llx in reg id: 0x%llx\",\n\t\t\t  prefix, (id & KVM_REG_SIZE_MASK) >> KVM_REG_SIZE_SHIFT, id);\n\t}\n\n\tswitch (id & KVM_REG_RISCV_TYPE_MASK) {\n\tcase KVM_REG_RISCV_CONFIG:\n\t\tprintf(\"\\tKVM_REG_RISCV | %s | KVM_REG_RISCV_CONFIG | %s,\\n\",\n\t\t\t\treg_size, config_id_to_str(id));\n\t\tbreak;\n\tcase KVM_REG_RISCV_CORE:\n\t\tprintf(\"\\tKVM_REG_RISCV | %s | KVM_REG_RISCV_CORE | %s,\\n\",\n\t\t\t\treg_size, core_id_to_str(prefix, id));\n\t\tbreak;\n\tcase KVM_REG_RISCV_CSR:\n\t\tprintf(\"\\tKVM_REG_RISCV | %s | KVM_REG_RISCV_CSR | %s,\\n\",\n\t\t\t\treg_size, csr_id_to_str(prefix, id));\n\t\tbreak;\n\tcase KVM_REG_RISCV_TIMER:\n\t\tprintf(\"\\tKVM_REG_RISCV | %s | KVM_REG_RISCV_TIMER | %s,\\n\",\n\t\t\t\treg_size, timer_id_to_str(prefix, id));\n\t\tbreak;\n\tcase KVM_REG_RISCV_FP_F:\n\t\tprintf(\"\\tKVM_REG_RISCV | %s | KVM_REG_RISCV_FP_F | %s,\\n\",\n\t\t\t\treg_size, fp_f_id_to_str(prefix, id));\n\t\tbreak;\n\tcase KVM_REG_RISCV_FP_D:\n\t\tprintf(\"\\tKVM_REG_RISCV | %s | KVM_REG_RISCV_FP_D | %s,\\n\",\n\t\t\t\treg_size, fp_d_id_to_str(prefix, id));\n\t\tbreak;\n\tcase KVM_REG_RISCV_ISA_EXT:\n\t\tprintf(\"\\tKVM_REG_RISCV | %s | KVM_REG_RISCV_ISA_EXT | %s,\\n\",\n\t\t\t\treg_size, isa_ext_id_to_str(id));\n\t\tbreak;\n\tcase KVM_REG_RISCV_SBI_EXT:\n\t\tprintf(\"\\tKVM_REG_RISCV | %s | KVM_REG_RISCV_SBI_EXT | %s,\\n\",\n\t\t\t\treg_size, sbi_ext_id_to_str(prefix, id));\n\t\tbreak;\n\tdefault:\n\t\tTEST_FAIL(\"%s: Unexpected reg type: 0x%llx in reg id: 0x%llx\", prefix,\n\t\t\t\t(id & KVM_REG_RISCV_TYPE_MASK) >> KVM_REG_RISCV_TYPE_SHIFT, id);\n\t}\n}\n\n \nstatic __u64 base_regs[] = {\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CONFIG | KVM_REG_RISCV_CONFIG_REG(isa),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CONFIG | KVM_REG_RISCV_CONFIG_REG(mvendorid),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CONFIG | KVM_REG_RISCV_CONFIG_REG(marchid),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CONFIG | KVM_REG_RISCV_CONFIG_REG(mimpid),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CONFIG | KVM_REG_RISCV_CONFIG_REG(satp_mode),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.pc),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.ra),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.sp),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.gp),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.tp),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.t0),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.t1),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.t2),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.s0),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.s1),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.a0),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.a1),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.a2),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.a3),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.a4),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.a5),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.a6),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.a7),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.s2),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.s3),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.s4),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.s5),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.s6),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.s7),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.s8),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.s9),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.s10),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.s11),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.t3),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.t4),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.t5),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(regs.t6),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CORE | KVM_REG_RISCV_CORE_REG(mode),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_GENERAL | KVM_REG_RISCV_CSR_REG(sstatus),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_GENERAL | KVM_REG_RISCV_CSR_REG(sie),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_GENERAL | KVM_REG_RISCV_CSR_REG(stvec),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_GENERAL | KVM_REG_RISCV_CSR_REG(sscratch),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_GENERAL | KVM_REG_RISCV_CSR_REG(sepc),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_GENERAL | KVM_REG_RISCV_CSR_REG(scause),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_GENERAL | KVM_REG_RISCV_CSR_REG(stval),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_GENERAL | KVM_REG_RISCV_CSR_REG(sip),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_GENERAL | KVM_REG_RISCV_CSR_REG(satp),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_GENERAL | KVM_REG_RISCV_CSR_REG(scounteren),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_TIMER | KVM_REG_RISCV_TIMER_REG(frequency),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_TIMER | KVM_REG_RISCV_TIMER_REG(time),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_TIMER | KVM_REG_RISCV_TIMER_REG(compare),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_TIMER | KVM_REG_RISCV_TIMER_REG(state),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_SBI_EXT | KVM_REG_RISCV_SBI_SINGLE | KVM_RISCV_SBI_EXT_V01,\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_SBI_EXT | KVM_REG_RISCV_SBI_SINGLE | KVM_RISCV_SBI_EXT_TIME,\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_SBI_EXT | KVM_REG_RISCV_SBI_SINGLE | KVM_RISCV_SBI_EXT_IPI,\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_SBI_EXT | KVM_REG_RISCV_SBI_SINGLE | KVM_RISCV_SBI_EXT_RFENCE,\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_SBI_EXT | KVM_REG_RISCV_SBI_SINGLE | KVM_RISCV_SBI_EXT_SRST,\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_SBI_EXT | KVM_REG_RISCV_SBI_SINGLE | KVM_RISCV_SBI_EXT_HSM,\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_SBI_EXT | KVM_REG_RISCV_SBI_SINGLE | KVM_RISCV_SBI_EXT_PMU,\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_SBI_EXT | KVM_REG_RISCV_SBI_SINGLE | KVM_RISCV_SBI_EXT_EXPERIMENTAL,\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_SBI_EXT | KVM_REG_RISCV_SBI_SINGLE | KVM_RISCV_SBI_EXT_VENDOR,\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_SBI_EXT | KVM_REG_RISCV_SBI_MULTI_EN | 0,\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_SBI_EXT | KVM_REG_RISCV_SBI_MULTI_DIS | 0,\n};\n\n \nstatic __u64 base_skips_set[] = {\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_TIMER | KVM_REG_RISCV_TIMER_REG(state),\n};\n\nstatic __u64 h_regs[] = {\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_H,\n};\n\nstatic __u64 zicbom_regs[] = {\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CONFIG | KVM_REG_RISCV_CONFIG_REG(zicbom_block_size),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_ZICBOM,\n};\n\nstatic __u64 zicboz_regs[] = {\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CONFIG | KVM_REG_RISCV_CONFIG_REG(zicboz_block_size),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_ZICBOZ,\n};\n\nstatic __u64 svpbmt_regs[] = {\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_SVPBMT,\n};\n\nstatic __u64 sstc_regs[] = {\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_SSTC,\n};\n\nstatic __u64 svinval_regs[] = {\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_SVINVAL,\n};\n\nstatic __u64 zihintpause_regs[] = {\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_ZIHINTPAUSE,\n};\n\nstatic __u64 zba_regs[] = {\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_ZBA,\n};\n\nstatic __u64 zbb_regs[] = {\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_ZBB,\n};\n\nstatic __u64 zbs_regs[] = {\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_ZBS,\n};\n\nstatic __u64 zicntr_regs[] = {\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_ZICNTR,\n};\n\nstatic __u64 zicsr_regs[] = {\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_ZICSR,\n};\n\nstatic __u64 zifencei_regs[] = {\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_ZIFENCEI,\n};\n\nstatic __u64 zihpm_regs[] = {\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_ZIHPM,\n};\n\nstatic __u64 aia_regs[] = {\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_AIA | KVM_REG_RISCV_CSR_AIA_REG(siselect),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_AIA | KVM_REG_RISCV_CSR_AIA_REG(iprio1),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_AIA | KVM_REG_RISCV_CSR_AIA_REG(iprio2),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_AIA | KVM_REG_RISCV_CSR_AIA_REG(sieh),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_AIA | KVM_REG_RISCV_CSR_AIA_REG(siph),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_AIA | KVM_REG_RISCV_CSR_AIA_REG(iprio1h),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_CSR | KVM_REG_RISCV_CSR_AIA | KVM_REG_RISCV_CSR_AIA_REG(iprio2h),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_SSAIA,\n};\n\nstatic __u64 fp_f_regs[] = {\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[0]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[1]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[2]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[3]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[4]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[5]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[6]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[7]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[8]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[9]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[10]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[11]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[12]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[13]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[14]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[15]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[16]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[17]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[18]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[19]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[20]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[21]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[22]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[23]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[24]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[25]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[26]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[27]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[28]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[29]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[30]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(f[31]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_F | KVM_REG_RISCV_FP_F_REG(fcsr),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_F,\n};\n\nstatic __u64 fp_d_regs[] = {\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[0]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[1]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[2]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[3]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[4]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[5]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[6]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[7]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[8]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[9]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[10]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[11]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[12]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[13]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[14]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[15]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[16]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[17]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[18]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[19]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[20]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[21]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[22]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[23]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[24]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[25]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[26]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[27]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[28]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[29]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[30]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U64 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(f[31]),\n\tKVM_REG_RISCV | KVM_REG_SIZE_U32 | KVM_REG_RISCV_FP_D | KVM_REG_RISCV_FP_D_REG(fcsr),\n\tKVM_REG_RISCV | KVM_REG_SIZE_ULONG | KVM_REG_RISCV_ISA_EXT | KVM_RISCV_ISA_EXT_D,\n};\n\n#define BASE_SUBLIST \\\n\t{\"base\", .regs = base_regs, .regs_n = ARRAY_SIZE(base_regs), \\\n\t .skips_set = base_skips_set, .skips_set_n = ARRAY_SIZE(base_skips_set),}\n#define H_REGS_SUBLIST \\\n\t{\"h\", .feature = KVM_RISCV_ISA_EXT_H, .regs = h_regs, .regs_n = ARRAY_SIZE(h_regs),}\n#define ZICBOM_REGS_SUBLIST \\\n\t{\"zicbom\", .feature = KVM_RISCV_ISA_EXT_ZICBOM, .regs = zicbom_regs, .regs_n = ARRAY_SIZE(zicbom_regs),}\n#define ZICBOZ_REGS_SUBLIST \\\n\t{\"zicboz\", .feature = KVM_RISCV_ISA_EXT_ZICBOZ, .regs = zicboz_regs, .regs_n = ARRAY_SIZE(zicboz_regs),}\n#define SVPBMT_REGS_SUBLIST \\\n\t{\"svpbmt\", .feature = KVM_RISCV_ISA_EXT_SVPBMT, .regs = svpbmt_regs, .regs_n = ARRAY_SIZE(svpbmt_regs),}\n#define SSTC_REGS_SUBLIST \\\n\t{\"sstc\", .feature = KVM_RISCV_ISA_EXT_SSTC, .regs = sstc_regs, .regs_n = ARRAY_SIZE(sstc_regs),}\n#define SVINVAL_REGS_SUBLIST \\\n\t{\"svinval\", .feature = KVM_RISCV_ISA_EXT_SVINVAL, .regs = svinval_regs, .regs_n = ARRAY_SIZE(svinval_regs),}\n#define ZIHINTPAUSE_REGS_SUBLIST \\\n\t{\"zihintpause\", .feature = KVM_RISCV_ISA_EXT_ZIHINTPAUSE, .regs = zihintpause_regs, .regs_n = ARRAY_SIZE(zihintpause_regs),}\n#define ZBA_REGS_SUBLIST \\\n\t{\"zba\", .feature = KVM_RISCV_ISA_EXT_ZBA, .regs = zba_regs, .regs_n = ARRAY_SIZE(zba_regs),}\n#define ZBB_REGS_SUBLIST \\\n\t{\"zbb\", .feature = KVM_RISCV_ISA_EXT_ZBB, .regs = zbb_regs, .regs_n = ARRAY_SIZE(zbb_regs),}\n#define ZBS_REGS_SUBLIST \\\n\t{\"zbs\", .feature = KVM_RISCV_ISA_EXT_ZBS, .regs = zbs_regs, .regs_n = ARRAY_SIZE(zbs_regs),}\n#define ZICNTR_REGS_SUBLIST \\\n\t{\"zicntr\", .feature = KVM_RISCV_ISA_EXT_ZICNTR, .regs = zicntr_regs, .regs_n = ARRAY_SIZE(zicntr_regs),}\n#define ZICSR_REGS_SUBLIST \\\n\t{\"zicsr\", .feature = KVM_RISCV_ISA_EXT_ZICSR, .regs = zicsr_regs, .regs_n = ARRAY_SIZE(zicsr_regs),}\n#define ZIFENCEI_REGS_SUBLIST \\\n\t{\"zifencei\", .feature = KVM_RISCV_ISA_EXT_ZIFENCEI, .regs = zifencei_regs, .regs_n = ARRAY_SIZE(zifencei_regs),}\n#define ZIHPM_REGS_SUBLIST \\\n\t{\"zihpm\", .feature = KVM_RISCV_ISA_EXT_ZIHPM, .regs = zihpm_regs, .regs_n = ARRAY_SIZE(zihpm_regs),}\n#define AIA_REGS_SUBLIST \\\n\t{\"aia\", .feature = KVM_RISCV_ISA_EXT_SSAIA, .regs = aia_regs, .regs_n = ARRAY_SIZE(aia_regs),}\n#define FP_F_REGS_SUBLIST \\\n\t{\"fp_f\", .feature = KVM_RISCV_ISA_EXT_F, .regs = fp_f_regs, \\\n\t\t.regs_n = ARRAY_SIZE(fp_f_regs),}\n#define FP_D_REGS_SUBLIST \\\n\t{\"fp_d\", .feature = KVM_RISCV_ISA_EXT_D, .regs = fp_d_regs, \\\n\t\t.regs_n = ARRAY_SIZE(fp_d_regs),}\n\nstatic struct vcpu_reg_list h_config = {\n\t.sublists = {\n\tBASE_SUBLIST,\n\tH_REGS_SUBLIST,\n\t{0},\n\t},\n};\n\nstatic struct vcpu_reg_list zicbom_config = {\n\t.sublists = {\n\tBASE_SUBLIST,\n\tZICBOM_REGS_SUBLIST,\n\t{0},\n\t},\n};\n\nstatic struct vcpu_reg_list zicboz_config = {\n\t.sublists = {\n\tBASE_SUBLIST,\n\tZICBOZ_REGS_SUBLIST,\n\t{0},\n\t},\n};\n\nstatic struct vcpu_reg_list svpbmt_config = {\n\t.sublists = {\n\tBASE_SUBLIST,\n\tSVPBMT_REGS_SUBLIST,\n\t{0},\n\t},\n};\n\nstatic struct vcpu_reg_list sstc_config = {\n\t.sublists = {\n\tBASE_SUBLIST,\n\tSSTC_REGS_SUBLIST,\n\t{0},\n\t},\n};\n\nstatic struct vcpu_reg_list svinval_config = {\n\t.sublists = {\n\tBASE_SUBLIST,\n\tSVINVAL_REGS_SUBLIST,\n\t{0},\n\t},\n};\n\nstatic struct vcpu_reg_list zihintpause_config = {\n\t.sublists = {\n\tBASE_SUBLIST,\n\tZIHINTPAUSE_REGS_SUBLIST,\n\t{0},\n\t},\n};\n\nstatic struct vcpu_reg_list zba_config = {\n\t.sublists = {\n\tBASE_SUBLIST,\n\tZBA_REGS_SUBLIST,\n\t{0},\n\t},\n};\n\nstatic struct vcpu_reg_list zbb_config = {\n\t.sublists = {\n\tBASE_SUBLIST,\n\tZBB_REGS_SUBLIST,\n\t{0},\n\t},\n};\n\nstatic struct vcpu_reg_list zbs_config = {\n\t.sublists = {\n\tBASE_SUBLIST,\n\tZBS_REGS_SUBLIST,\n\t{0},\n\t},\n};\n\nstatic struct vcpu_reg_list zicntr_config = {\n\t.sublists = {\n\tBASE_SUBLIST,\n\tZICNTR_REGS_SUBLIST,\n\t{0},\n\t},\n};\n\nstatic struct vcpu_reg_list zicsr_config = {\n\t.sublists = {\n\tBASE_SUBLIST,\n\tZICSR_REGS_SUBLIST,\n\t{0},\n\t},\n};\n\nstatic struct vcpu_reg_list zifencei_config = {\n\t.sublists = {\n\tBASE_SUBLIST,\n\tZIFENCEI_REGS_SUBLIST,\n\t{0},\n\t},\n};\n\nstatic struct vcpu_reg_list zihpm_config = {\n\t.sublists = {\n\tBASE_SUBLIST,\n\tZIHPM_REGS_SUBLIST,\n\t{0},\n\t},\n};\n\nstatic struct vcpu_reg_list aia_config = {\n\t.sublists = {\n\tBASE_SUBLIST,\n\tAIA_REGS_SUBLIST,\n\t{0},\n\t},\n};\n\nstatic struct vcpu_reg_list fp_f_config = {\n\t.sublists = {\n\tBASE_SUBLIST,\n\tFP_F_REGS_SUBLIST,\n\t{0},\n\t},\n};\n\nstatic struct vcpu_reg_list fp_d_config = {\n\t.sublists = {\n\tBASE_SUBLIST,\n\tFP_D_REGS_SUBLIST,\n\t{0},\n\t},\n};\n\nstruct vcpu_reg_list *vcpu_configs[] = {\n\t&h_config,\n\t&zicbom_config,\n\t&zicboz_config,\n\t&svpbmt_config,\n\t&sstc_config,\n\t&svinval_config,\n\t&zihintpause_config,\n\t&zba_config,\n\t&zbb_config,\n\t&zbs_config,\n\t&zicntr_config,\n\t&zicsr_config,\n\t&zifencei_config,\n\t&zihpm_config,\n\t&aia_config,\n\t&fp_f_config,\n\t&fp_d_config,\n};\nint vcpu_configs_n = ARRAY_SIZE(vcpu_configs);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}