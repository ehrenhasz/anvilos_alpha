{
  "module_name": "mmap_test.h",
  "hash_id": "d7a04dc7f7e878f69f9bc35fe193187bf534f23041c5ff73eef09474dfdf44e6",
  "original_prompt": "Ingested from linux-6.6.14/tools/testing/selftests/riscv/mm/mmap_test.h",
  "human_readable_source": " \n#ifndef _TESTCASES_MMAP_TEST_H\n#define _TESTCASES_MMAP_TEST_H\n#include <sys/mman.h>\n#include <sys/resource.h>\n#include <stddef.h>\n\n#define TOP_DOWN 0\n#define BOTTOM_UP 1\n\nstruct addresses {\n\tint *no_hint;\n\tint *on_37_addr;\n\tint *on_38_addr;\n\tint *on_46_addr;\n\tint *on_47_addr;\n\tint *on_55_addr;\n\tint *on_56_addr;\n};\n\nstatic inline void do_mmaps(struct addresses *mmap_addresses)\n{\n\t \n\tvoid *on_37_bits = (void *)(1UL << 37);\n\tvoid *on_38_bits = (void *)(1UL << 38);\n\tvoid *on_46_bits = (void *)(1UL << 46);\n\tvoid *on_47_bits = (void *)(1UL << 47);\n\tvoid *on_55_bits = (void *)(1UL << 55);\n\tvoid *on_56_bits = (void *)(1UL << 56);\n\n\tint prot = PROT_READ | PROT_WRITE;\n\tint flags = MAP_PRIVATE | MAP_ANONYMOUS;\n\n\tmmap_addresses->no_hint =\n\t\tmmap(NULL, 5 * sizeof(int), prot, flags, 0, 0);\n\tmmap_addresses->on_37_addr =\n\t\tmmap(on_37_bits, 5 * sizeof(int), prot, flags, 0, 0);\n\tmmap_addresses->on_38_addr =\n\t\tmmap(on_38_bits, 5 * sizeof(int), prot, flags, 0, 0);\n\tmmap_addresses->on_46_addr =\n\t\tmmap(on_46_bits, 5 * sizeof(int), prot, flags, 0, 0);\n\tmmap_addresses->on_47_addr =\n\t\tmmap(on_47_bits, 5 * sizeof(int), prot, flags, 0, 0);\n\tmmap_addresses->on_55_addr =\n\t\tmmap(on_55_bits, 5 * sizeof(int), prot, flags, 0, 0);\n\tmmap_addresses->on_56_addr =\n\t\tmmap(on_56_bits, 5 * sizeof(int), prot, flags, 0, 0);\n}\n\nstatic inline int memory_layout(void)\n{\n\tint prot = PROT_READ | PROT_WRITE;\n\tint flags = MAP_PRIVATE | MAP_ANONYMOUS;\n\n\tvoid *value1 = mmap(NULL, sizeof(int), prot, flags, 0, 0);\n\tvoid *value2 = mmap(NULL, sizeof(int), prot, flags, 0, 0);\n\n\treturn value2 > value1;\n}\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}