{
  "module_name": "hwprobe.c",
  "hash_id": "f010db93c29a39d1e39572f36448b40d8503480e0b770552ca45d1e7b6f0b1ac",
  "original_prompt": "Ingested from linux-6.6.14/tools/testing/selftests/riscv/hwprobe/hwprobe.c",
  "human_readable_source": "\n#include <stddef.h>\n#include <asm/hwprobe.h>\n\n \nlong riscv_hwprobe(struct riscv_hwprobe *pairs, size_t pair_count,\n\t\t   size_t cpu_count, unsigned long *cpus, unsigned int flags);\n\nint main(int argc, char **argv)\n{\n\tstruct riscv_hwprobe pairs[8];\n\tunsigned long cpus;\n\tlong out;\n\n\t \n\tcpus = -1;\n\n\t \n\tfor (long i = 0; i < 8; i++)\n\t\tpairs[i].key = i;\n\tout = riscv_hwprobe(pairs, 8, 1, &cpus, 0);\n\tif (out != 0)\n\t\treturn -1;\n\tfor (long i = 0; i < 4; ++i) {\n\t\t \n\t\tif ((i < 4) && (pairs[i].key != i))\n\t\t\treturn -2;\n\n\t\tif (pairs[i].key != RISCV_HWPROBE_KEY_BASE_BEHAVIOR)\n\t\t\tcontinue;\n\n\t\tif (pairs[i].value & RISCV_HWPROBE_BASE_BEHAVIOR_IMA)\n\t\t\tcontinue;\n\n\t\treturn -3;\n\t}\n\n\t \n\tout = riscv_hwprobe(pairs, 8, 0, 0, 0);\n\tif (out != 0)\n\t\treturn -4;\n\n\tout = riscv_hwprobe(pairs, 8, 0, &cpus, 0);\n\tif (out == 0)\n\t\treturn -5;\n\n\tout = riscv_hwprobe(pairs, 8, 1, 0, 0);\n\tif (out == 0)\n\t\treturn -6;\n\n\t \n\tpairs[0].key = RISCV_HWPROBE_KEY_BASE_BEHAVIOR;\n\tout = riscv_hwprobe(pairs, 1, 1, &cpus, 0);\n\tif (out != 0)\n\t\treturn -7;\n\tif (pairs[0].key != RISCV_HWPROBE_KEY_BASE_BEHAVIOR)\n\t\treturn -8;\n\n\t \n\tpairs[0].key = 0x5555;\n\tpairs[1].key = 1;\n\tpairs[1].value = 0xAAAA;\n\tout = riscv_hwprobe(pairs, 2, 0, 0, 0);\n\tif (out != 0)\n\t\treturn -9;\n\n\tif (pairs[0].key != -1)\n\t\treturn -10;\n\n\tif ((pairs[1].key != 1) || (pairs[1].value == 0xAAAA))\n\t\treturn -11;\n\n\treturn 0;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}