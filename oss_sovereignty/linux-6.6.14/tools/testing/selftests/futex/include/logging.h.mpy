{
  "module_name": "logging.h",
  "hash_id": "fa2092a96c796d7657932161b8e99ce105b25907f4b6a6524195aae200f2979c",
  "original_prompt": "Ingested from linux-6.6.14/tools/testing/selftests/futex/include/logging.h",
  "human_readable_source": " \n \n\n#ifndef _LOGGING_H\n#define _LOGGING_H\n\n#include <stdio.h>\n#include <string.h>\n#include <unistd.h>\n#include <linux/futex.h>\n#include \"kselftest.h\"\n\n \n#define ESC 0x1B, '['\n#define BRIGHT '1'\n#define GREEN '3', '2'\n#define YELLOW '3', '3'\n#define RED '3', '1'\n#define ESCEND 'm'\n#define BRIGHT_GREEN ESC, BRIGHT, ';', GREEN, ESCEND\n#define BRIGHT_YELLOW ESC, BRIGHT, ';', YELLOW, ESCEND\n#define BRIGHT_RED ESC, BRIGHT, ';', RED, ESCEND\n#define RESET_COLOR ESC, '0', 'm'\nstatic const char PASS_COLOR[] = {BRIGHT_GREEN, ' ', 'P', 'A', 'S', 'S',\n\t\t\t\t  RESET_COLOR, 0};\nstatic const char ERROR_COLOR[] = {BRIGHT_YELLOW, 'E', 'R', 'R', 'O', 'R',\n\t\t\t\t   RESET_COLOR, 0};\nstatic const char FAIL_COLOR[] = {BRIGHT_RED, ' ', 'F', 'A', 'I', 'L',\n\t\t\t\t  RESET_COLOR, 0};\nstatic const char INFO_NORMAL[] = \" INFO\";\nstatic const char PASS_NORMAL[] = \" PASS\";\nstatic const char ERROR_NORMAL[] = \"ERROR\";\nstatic const char FAIL_NORMAL[] = \" FAIL\";\nconst char *INFO = INFO_NORMAL;\nconst char *PASS = PASS_NORMAL;\nconst char *ERROR = ERROR_NORMAL;\nconst char *FAIL = FAIL_NORMAL;\n\n \n#define VQUIET    0\n#define VCRITICAL 1\n#define VINFO     2\n#define VMAX      VINFO\nint _verbose = VCRITICAL;\n\n \n#define RET_PASS   0\n#define RET_ERROR -1\n#define RET_FAIL  -2\n\n \nvoid log_color(int use_color)\n{\n\tif (use_color) {\n\t\tPASS = PASS_COLOR;\n\t\tERROR = ERROR_COLOR;\n\t\tFAIL = FAIL_COLOR;\n\t} else {\n\t\tPASS = PASS_NORMAL;\n\t\tERROR = ERROR_NORMAL;\n\t\tFAIL = FAIL_NORMAL;\n\t}\n}\n\n \nvoid log_verbosity(int level)\n{\n\tif (level > VMAX)\n\t\tlevel = VMAX;\n\telse if (level < 0)\n\t\tlevel = 0;\n\t_verbose = level;\n}\n\n \nvoid print_result(const char *test_name, int ret)\n{\n\tswitch (ret) {\n\tcase RET_PASS:\n\t\tksft_test_result_pass(\"%s\\n\", test_name);\n\t\tksft_print_cnts();\n\t\treturn;\n\tcase RET_ERROR:\n\t\tksft_test_result_error(\"%s\\n\", test_name);\n\t\tksft_print_cnts();\n\t\treturn;\n\tcase RET_FAIL:\n\t\tksft_test_result_fail(\"%s\\n\", test_name);\n\t\tksft_print_cnts();\n\t\treturn;\n\t}\n}\n\n \n#define info(message, vargs...) \\\ndo { \\\n\tif (_verbose >= VINFO) \\\n\t\tfprintf(stderr, \"\\t%s: \"message, INFO, ##vargs); \\\n} while (0)\n\n#define error(message, err, args...) \\\ndo { \\\n\tif (_verbose >= VCRITICAL) {\\\n\t\tif (err) \\\n\t\t\tfprintf(stderr, \"\\t%s: %s: \"message, \\\n\t\t\t\tERROR, strerror(err), ##args); \\\n\t\telse \\\n\t\t\tfprintf(stderr, \"\\t%s: \"message, ERROR, ##args); \\\n\t} \\\n} while (0)\n\n#define fail(message, args...) \\\ndo { \\\n\tif (_verbose >= VCRITICAL) \\\n\t\tfprintf(stderr, \"\\t%s: \"message, FAIL, ##args); \\\n} while (0)\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}