{
  "module_name": "tests.json",
  "hash_id": "c009bd69bd778e2bbf96502388fdf2922f64afd237883e662e77face2c6c6fb9",
  "original_prompt": "Ingested from linux-6.6.14/tools/testing/selftests/tc-testing/tc-tests/filters/tests.json",
  "human_readable_source": "[\n    {\n        \"id\": \"2638\",\n        \"name\": \"Add matchall and try to get it\",\n        \"category\": [\n            \"filter\",\n            \"matchall\"\n        ],\n        \"plugins\": {\n                \"requires\": \"nsPlugin\"\n        },\n        \"setup\": [\n            \"$TC qdisc add dev $DEV1 clsact\",\n            \"$TC filter add dev $DEV1 protocol all pref 1 ingress handle 0x1234 matchall action ok\"\n        ],\n        \"cmdUnderTest\": \"$TC filter get dev $DEV1 protocol all pref 1 ingress handle 0x1234 matchall\",\n        \"expExitCode\": \"0\",\n        \"verifyCmd\": \"$TC filter show dev $DEV1 ingress\",\n        \"matchPattern\": \"filter protocol all pref 1 matchall chain 0 handle 0x1234\",\n        \"matchCount\": \"1\",\n        \"teardown\": [\n            \"$TC qdisc del dev $DEV1 clsact\"\n        ]\n    },\n    {\n        \"id\": \"2ff3\",\n        \"name\": \"Add flower with max handle and then dump it\",\n        \"category\": [\n            \"filter\",\n            \"flower\"\n        ],\n        \"setup\": [\n            \"$TC qdisc add dev $DEV2 ingress\"\n        ],\n        \"cmdUnderTest\": \"$TC filter add dev $DEV2 protocol ip pref 1 ingress handle 0xffffffff flower action ok\",\n        \"expExitCode\": \"0\",\n        \"verifyCmd\": \"$TC filter show dev $DEV2 ingress\",\n        \"matchPattern\": \"filter protocol ip pref 1 flower.*handle 0xffffffff\",\n        \"matchCount\": \"1\",\n        \"teardown\": [\n            \"$TC qdisc del dev $DEV2 ingress\"\n        ]\n    },\n    {\n        \"id\": \"d052\",\n        \"name\": \"Add 1M filters with the same action\",\n        \"category\": [\n            \"filter\",\n            \"flower\"\n        ],\n        \"plugins\": {\n                \"requires\": \"nsPlugin\"\n        },\n        \"setup\": [\n            \"$TC qdisc add dev $DEV2 ingress\",\n            \"./tdc_batch.py $DEV2 $BATCH_FILE --share_action -n 1000000\"\n        ],\n        \"cmdUnderTest\": \"$TC -b $BATCH_FILE\",\n        \"expExitCode\": \"0\",\n        \"verifyCmd\": \"$TC actions list action gact\",\n        \"matchPattern\": \"action order 0: gact action drop.*index 1 ref 1000000 bind 1000000\",\n        \"matchCount\": \"1\",\n        \"teardown\": [\n            \"$TC qdisc del dev $DEV2 ingress\",\n            \"/bin/rm $BATCH_FILE\"\n        ]\n    },\n    {\n        \"id\": \"4cbd\",\n        \"name\": \"Try to add filter with duplicate key\",\n        \"category\": [\n            \"filter\",\n            \"flower\"\n        ],\n        \"plugins\": {\n                \"requires\": \"nsPlugin\"\n        },\n        \"setup\": [\n            \"$TC qdisc add dev $DEV2 ingress\",\n            \"$TC filter add dev $DEV2 protocol ip prio 1 ingress flower dst_mac e4:11:22:11:4a:51 src_mac e4:11:22:11:4a:50 ip_proto tcp src_ip 1.1.1.1 dst_ip 2.2.2.2 action drop\"\n        ],\n        \"cmdUnderTest\": \"$TC filter add dev $DEV2 protocol ip prio 1 ingress flower dst_mac e4:11:22:11:4a:51 src_mac e4:11:22:11:4a:50 ip_proto tcp src_ip 1.1.1.1 dst_ip 2.2.2.2 action drop\",\n        \"expExitCode\": \"2\",\n        \"verifyCmd\": \"$TC -s filter show dev $DEV2 ingress\",\n        \"matchPattern\": \"filter protocol ip pref 1 flower chain 0 handle\",\n        \"matchCount\": \"1\",\n        \"teardown\": [\n            \"$TC qdisc del dev $DEV2 ingress\"\n        ]\n    },\n    {\n        \"id\": \"7c65\",\n        \"name\": \"Add flower filter and then terse dump it\",\n        \"category\": [\n            \"filter\",\n            \"flower\"\n        ],\n        \"setup\": [\n            \"$TC qdisc add dev $DEV2 ingress\"\n        ],\n        \"cmdUnderTest\": \"$TC filter add dev $DEV2 protocol ip pref 1 ingress flower dst_mac e4:11:22:11:4a:51 action drop\",\n        \"expExitCode\": \"0\",\n        \"verifyCmd\": \"$TC -br filter show dev $DEV2 ingress\",\n        \"matchPattern\": \"filter protocol ip pref 1 flower.*handle\",\n        \"matchCount\": \"1\",\n        \"teardown\": [\n            \"$TC qdisc del dev $DEV2 ingress\"\n        ]\n    },\n    {\n        \"id\": \"d45e\",\n        \"name\": \"Add flower filter and verify that terse dump doesn't output filter key\",\n        \"category\": [\n            \"filter\",\n            \"flower\"\n        ],\n        \"setup\": [\n            \"$TC qdisc add dev $DEV2 ingress\"\n        ],\n        \"cmdUnderTest\": \"$TC filter add dev $DEV2 protocol ip pref 1 ingress flower dst_mac e4:11:22:11:4a:51 action drop\",\n        \"expExitCode\": \"0\",\n        \"verifyCmd\": \"$TC -br filter show dev $DEV2 ingress\",\n        \"matchPattern\": \"  dst_mac e4:11:22:11:4a:51\",\n        \"matchCount\": \"0\",\n        \"teardown\": [\n            \"$TC qdisc del dev $DEV2 ingress\"\n        ]\n    }\n]\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}