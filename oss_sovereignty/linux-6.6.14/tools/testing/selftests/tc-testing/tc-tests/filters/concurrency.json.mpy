{
  "module_name": "concurrency.json",
  "hash_id": "b5efb855ca8ad619106665fcb4c2ee1bb3cff116ec4ed7db98518886527aa4b9",
  "original_prompt": "Ingested from linux-6.6.14/tools/testing/selftests/tc-testing/tc-tests/filters/concurrency.json",
  "human_readable_source": "[\n    {\n        \"id\": \"e41d\",\n        \"name\": \"Add 1M flower filters with 10 parallel tc instances\",\n        \"category\": [\n            \"filter\",\n            \"flower\",\n            \"concurrency\"\n        ],\n        \"setup\": [\n            \"/bin/mkdir $BATCH_DIR\",\n            \"$TC qdisc add dev $DEV2 ingress\",\n            \"./tdc_multibatch.py $DEV2 $BATCH_DIR 100000 10 add\"\n        ],\n        \"cmdUnderTest\": \"bash -c \\\"find $BATCH_DIR/add* -print | xargs -n 1 -P 10 $TC -b\\\"\",\n        \"expExitCode\": \"0\",\n        \"verifyCmd\": \"$TC -s filter show dev $DEV2 ingress\",\n        \"matchPattern\": \"filter protocol ip pref 1 flower chain 0 handle\",\n        \"matchCount\": \"1000000\",\n        \"teardown\": [\n            \"$TC qdisc del dev $DEV2 ingress\",\n            \"/bin/rm -rf $BATCH_DIR\"\n        ]\n    },\n    {\n        \"id\": \"6f52\",\n        \"name\": \"Delete 1M flower filters with 10 parallel tc instances\",\n        \"category\": [\n            \"filter\",\n            \"flower\",\n            \"concurrency\"\n        ],\n        \"setup\": [\n            \"/bin/mkdir $BATCH_DIR\",\n            \"$TC qdisc add dev $DEV2 ingress\",\n            \"./tdc_multibatch.py $DEV2 $BATCH_DIR 1000000 1 add\",\n            \"$TC -b $BATCH_DIR/add_0\",\n            \"./tdc_multibatch.py $DEV2 $BATCH_DIR 100000 10 del\"\n        ],\n        \"cmdUnderTest\": \"bash -c \\\"find $BATCH_DIR/del* -print | xargs -n 1 -P 10 $TC -b\\\"\",\n        \"expExitCode\": \"0\",\n        \"verifyCmd\": \"$TC -s filter show dev $DEV2 ingress\",\n        \"matchPattern\": \"filter protocol ip pref 1 flower chain 0 handle\",\n        \"matchCount\": \"0\",\n        \"teardown\": [\n            \"$TC qdisc del dev $DEV2 ingress\",\n            \"/bin/rm -rf $BATCH_DIR\"\n        ]\n    },\n    {\n        \"id\": \"c9da\",\n        \"name\": \"Replace 1M flower filters with 10 parallel tc instances\",\n        \"category\": [\n            \"filter\",\n            \"flower\",\n            \"concurrency\"\n        ],\n        \"setup\": [\n            \"/bin/mkdir $BATCH_DIR\",\n            \"$TC qdisc add dev $DEV2 ingress\",\n            \"./tdc_multibatch.py $DEV2 $BATCH_DIR 1000000 1 add\",\n            \"$TC -b $BATCH_DIR/add_0\",\n            \"./tdc_multibatch.py $DEV2 $BATCH_DIR 100000 10 replace\"\n        ],\n        \"cmdUnderTest\": \"bash -c \\\"find $BATCH_DIR/replace* -print | xargs -n 1 -P 10 $TC -b\\\"\",\n        \"expExitCode\": \"0\",\n        \"verifyCmd\": \"$TC -s filter show dev $DEV2 ingress\",\n        \"matchPattern\": \"filter protocol ip pref 1 flower chain 0 handle\",\n        \"matchCount\": \"1000000\",\n        \"teardown\": [\n            \"$TC qdisc del dev $DEV2 ingress\",\n            \"/bin/rm -rf $BATCH_DIR\"\n        ]\n    },\n    {\n        \"id\": \"14be\",\n        \"name\": \"Concurrently replace same range of 100k flower filters from 10 tc instances\",\n        \"category\": [\n            \"filter\",\n            \"flower\",\n            \"concurrency\"\n        ],\n        \"setup\": [\n            \"/bin/mkdir $BATCH_DIR\",\n            \"$TC qdisc add dev $DEV2 ingress\",\n            \"./tdc_multibatch.py $DEV2 $BATCH_DIR 100000 1 add\",\n            \"$TC -b $BATCH_DIR/add_0\",\n            \"./tdc_multibatch.py -d $DEV2 $BATCH_DIR 100000 10 replace\"\n        ],\n        \"cmdUnderTest\": \"bash -c \\\"find $BATCH_DIR/replace* -print | xargs -n 1 -P 10 $TC -b\\\"\",\n        \"expExitCode\": \"0\",\n        \"verifyCmd\": \"$TC -s filter show dev $DEV2 ingress\",\n        \"matchPattern\": \"filter protocol ip pref 1 flower chain 0 handle\",\n        \"matchCount\": \"100000\",\n        \"teardown\": [\n            \"$TC qdisc del dev $DEV2 ingress\",\n            \"/bin/rm -rf $BATCH_DIR\"\n        ]\n    },\n    {\n        \"id\": \"0c44\",\n        \"name\": \"Concurrently delete same range of 100k flower filters from 10 tc instances\",\n        \"category\": [\n            \"filter\",\n            \"flower\",\n            \"concurrency\"\n        ],\n        \"setup\": [\n            \"/bin/mkdir $BATCH_DIR\",\n            \"$TC qdisc add dev $DEV2 ingress\",\n            \"./tdc_multibatch.py $DEV2 $BATCH_DIR 100000 1 add\",\n            \"$TC -b $BATCH_DIR/add_0\",\n            \"./tdc_multibatch.py -d $DEV2 $BATCH_DIR 100000 10 del\"\n        ],\n        \"cmdUnderTest\": \"bash -c \\\"find $BATCH_DIR/del* -print | xargs -n 1 -P 10 $TC -f -b\\\"\",\n        \"expExitCode\": \"123\",\n        \"verifyCmd\": \"$TC -s filter show dev $DEV2 ingress\",\n        \"matchPattern\": \"filter protocol ip pref 1 flower chain 0 handle\",\n        \"matchCount\": \"0\",\n        \"teardown\": [\n            \"$TC qdisc del dev $DEV2 ingress\",\n\t    \"/bin/rm -rf $BATCH_DIR\"\n        ]\n    },\n    {\n        \"id\": \"ab62\",\n        \"name\": \"Add and delete from same tp with 10 tc instances\",\n        \"category\": [\n            \"filter\",\n            \"flower\",\n            \"concurrency\"\n        ],\n        \"setup\": [\n            \"/bin/mkdir $BATCH_DIR\",\n            \"$TC qdisc add dev $DEV2 ingress\",\n            \"./tdc_multibatch.py -x init_ $DEV2 $BATCH_DIR 100000 5 add\",\n            \"bash -c \\\"find $BATCH_DIR/init_* -print | xargs -n 1 -P 5 $TC -b\\\"\",\n            \"./tdc_multibatch.py -x par_ -a 500001 -m 5 $DEV2 $BATCH_DIR 100000 5 add\",\n            \"./tdc_multibatch.py -x par_ $DEV2 $BATCH_DIR 100000 5 del\"\n        ],\n        \"cmdUnderTest\": \"bash -c \\\"find $BATCH_DIR/par_* -print | xargs -n 1 -P 10 $TC -b\\\"\",\n        \"expExitCode\": \"0\",\n        \"verifyCmd\": \"$TC -s filter show dev $DEV2 ingress\",\n        \"matchPattern\": \"filter protocol ip pref 1 flower chain 0 handle\",\n        \"matchCount\": \"500000\",\n        \"teardown\": [\n            \"$TC qdisc del dev $DEV2 ingress\",\n            \"/bin/rm -rf $BATCH_DIR\"\n        ]\n    },\n    {\n        \"id\": \"6e8f\",\n        \"name\": \"Replace and delete from same tp with 10 tc instances\",\n        \"category\": [\n            \"filter\",\n            \"flower\",\n            \"concurrency\"\n        ],\n        \"setup\": [\n            \"/bin/mkdir $BATCH_DIR\",\n            \"$TC qdisc add dev $DEV2 ingress\",\n            \"./tdc_multibatch.py -x init_ $DEV2 $BATCH_DIR 100000 10 add\",\n            \"bash -c \\\"find $BATCH_DIR/init_* -print | xargs -n 1 -P 5 $TC -b\\\"\",\n            \"./tdc_multibatch.py -x par_ -a 500001 -m 5 $DEV2 $BATCH_DIR 100000 5 replace\",\n            \"./tdc_multibatch.py -x par_ $DEV2 $BATCH_DIR 100000 5 del\"\n        ],\n        \"cmdUnderTest\": \"bash -c \\\"find $BATCH_DIR/par_* -print | xargs -n 1 -P 10 $TC -b\\\"\",\n        \"expExitCode\": \"0\",\n        \"verifyCmd\": \"$TC -s filter show dev $DEV2 ingress\",\n        \"matchPattern\": \"filter protocol ip pref 1 flower chain 0 handle\",\n        \"matchCount\": \"500000\",\n        \"teardown\": [\n            \"$TC qdisc del dev $DEV2 ingress\",\n            \"/bin/rm -rf $BATCH_DIR\"\n        ]\n    }\n]\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}