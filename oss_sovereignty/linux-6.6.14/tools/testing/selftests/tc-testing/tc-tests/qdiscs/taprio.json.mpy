{
  "module_name": "taprio.json",
  "hash_id": "eba662dd47a291d788e3bb1ce49016ec126deec834776926110ed2d2c463f541",
  "original_prompt": "Ingested from linux-6.6.14/tools/testing/selftests/tc-testing/tc-tests/qdiscs/taprio.json",
  "human_readable_source": "[\n    {\n        \"id\": \"ba39\",\n        \"name\": \"Add taprio Qdisc to multi-queue device (8 queues)\",\n        \"category\": [\n            \"qdisc\",\n            \"taprio\"\n        ],\n        \"plugins\": {\n            \"requires\": \"nsPlugin\"\n        },\n        \"setup\": [\n            \"echo \\\"1 1 8\\\" > /sys/bus/netdevsim/new_device\"\n        ],\n        \"cmdUnderTest\": \"$TC qdisc add dev $ETH root handle 1: taprio num_tc 3 map 2 2 1 0 2 2 2 2 2 2 2 2 2 2 2 2 queues 1@0 1@0 1@0 base-time 1000000000 sched-entry S 01 300000 flags 0x1 clockid CLOCK_TAI\",\n        \"expExitCode\": \"0\",\n        \"verifyCmd\": \"$TC qdisc show dev $ETH\",\n        \"matchPattern\": \"qdisc taprio 1: root refcnt [0-9]+ tc 3 map 2 2 1 0 2 2 2 2 2 2 2 2 2 2 2 2\",\n        \"matchCount\": \"1\",\n        \"teardown\": [\n            \"echo \\\"1\\\" > /sys/bus/netdevsim/del_device\"\n        ]\n    },\n    {\n        \"id\": \"9462\",\n        \"name\": \"Add taprio Qdisc with multiple sched-entry\",\n        \"category\": [\n            \"qdisc\",\n            \"taprio\"\n        ],\n        \"plugins\": {\n            \"requires\": \"nsPlugin\"\n        },\n        \"setup\": [\n            \"echo \\\"1 1 8\\\" > /sys/bus/netdevsim/new_device\"\n        ],\n        \"cmdUnderTest\": \"$TC qdisc add dev $ETH root handle 1: taprio num_tc 3 map 2 2 1 0 2 2 2 2 2 2 2 2 2 2 2 2 queues 1@0 1@0 1@0 base-time 1000000000 sched-entry S 01 300000 sched-entry S 03 300000 sched-entry S 04 400000 flags 0x1 clockid CLOCK_TAI\",\n        \"expExitCode\": \"0\",\n        \"verifyCmd\": \"$TC qdisc show dev $ETH\",\n        \"matchPattern\": \"index [0-9]+ cmd S gatemask 0x[0-9]+ interval [0-9]+00000\",\n        \"matchCount\": \"3\",\n        \"teardown\": [\n            \"echo \\\"1\\\" > /sys/bus/netdevsim/del_device\"\n        ]\n    },\n    {\n        \"id\": \"8d92\",\n        \"name\": \"Add taprio Qdisc with txtime-delay\",\n        \"category\": [\n            \"qdisc\",\n            \"taprio\"\n        ],\n        \"plugins\": {\n            \"requires\": \"nsPlugin\"\n        },\n        \"setup\": [\n            \"echo \\\"1 1 8\\\" > /sys/bus/netdevsim/new_device\"\n        ],\n        \"cmdUnderTest\": \"$TC qdisc add dev $ETH root handle 1: taprio num_tc 3 map 2 2 1 0 2 2 2 2 2 2 2 2 2 2 2 2 queues 1@0 1@0 1@0 base-time 1000000000 sched-entry S 01 300000 flags 0x1 txtime-delay 500000 clockid CLOCK_TAI\",\n        \"expExitCode\": \"0\",\n        \"verifyCmd\": \"$TC qdisc show dev $ETH\",\n        \"matchPattern\": \"clockid TAI flags 0x1 txtime delay 500000\",\n        \"matchCount\": \"1\",\n        \"teardown\": [\n            \"echo \\\"1\\\" > /sys/bus/netdevsim/del_device\"\n        ]\n    },\n    {\n        \"id\": \"d092\",\n        \"name\": \"Delete taprio Qdisc with valid handle\",\n        \"category\": [\n            \"qdisc\",\n            \"taprio\"\n        ],\n        \"plugins\": {\n            \"requires\": \"nsPlugin\"\n        },\n        \"setup\": [\n            \"echo \\\"1 1 8\\\" > /sys/bus/netdevsim/new_device\",\n            \"$TC qdisc add dev $ETH root handle 1: taprio num_tc 3 map 2 2 1 0 2 2 2 2 2 2 2 2 2 2 2 2 queues 1@0 1@0 1@0 base-time 1000000000 sched-entry S 01 300000 flags 0x1 clockid CLOCK_TAI\"\n        ],\n        \"cmdUnderTest\": \"$TC qdisc del dev $ETH root handle 1:\",\n        \"expExitCode\": \"0\",\n        \"verifyCmd\": \"$TC qdisc show dev $ETH\",\n        \"matchPattern\": \"qdisc taprio 1: root refcnt\",\n        \"matchCount\": \"0\",\n        \"teardown\": [\n            \"echo \\\"1\\\" > /sys/bus/netdevsim/del_device\"\n        ]\n    },\n    {\n        \"id\": \"8471\",\n        \"name\": \"Show taprio class\",\n        \"category\": [\n            \"qdisc\",\n            \"taprio\"\n        ],\n        \"plugins\": {\n            \"requires\": \"nsPlugin\"\n        },\n        \"setup\": [\n            \"echo \\\"1 1 8\\\" > /sys/bus/netdevsim/new_device\"\n        ],\n        \"cmdUnderTest\": \"$TC qdisc add dev $ETH root handle 1: taprio num_tc 3 map 2 2 1 0 2 2 2 2 2 2 2 2 2 2 2 2 queues 1@0 1@0 1@0 base-time 1000000000 sched-entry S 01 300000 flags 0x1 clockid CLOCK_TAI\",\n        \"expExitCode\": \"0\",\n        \"verifyCmd\": \"$TC class show dev $ETH\",\n        \"matchPattern\": \"class taprio 1:[0-9]+ root\",\n        \"matchCount\": \"8\",\n        \"teardown\": [\n            \"echo \\\"1\\\" > /sys/bus/netdevsim/del_device\"\n        ]\n    },\n    {\n        \"id\": \"0a85\",\n        \"name\": \"Add taprio Qdisc to single-queue device\",\n        \"category\": [\n            \"qdisc\",\n            \"taprio\"\n        ],\n        \"plugins\": {\n            \"requires\": \"nsPlugin\"\n        },\n        \"setup\": [\n            \"echo \\\"1 1\\\" > /sys/bus/netdevsim/new_device\"\n        ],\n        \"cmdUnderTest\": \"$TC qdisc add dev $ETH root handle 1: taprio num_tc 3 map 2 2 1 0 2 2 2 2 2 2 2 2 2 2 2 2 queues 1@0 1@0 1@0 base-time 1000000000 sched-entry S 01 300000 flags 0x1 clockid CLOCK_TAI\",\n        \"expExitCode\": \"2\",\n        \"verifyCmd\": \"$TC qdisc show dev $ETH\",\n        \"matchPattern\": \"qdisc taprio 1: root refcnt\",\n        \"matchCount\": \"0\",\n        \"teardown\": [\n            \"echo \\\"1\\\" > /sys/bus/netdevsim/del_device\"\n        ]\n    },\n    {\n        \"id\": \"3e1e\",\n        \"name\": \"Add taprio Qdisc with an invalid cycle-time\",\n        \"category\": [\n            \"qdisc\",\n            \"taprio\"\n        ],\n        \"plugins\": {\n            \"requires\": \"nsPlugin\"\n        },\n        \"setup\": [\n            \"echo \\\"1 1 8\\\" > /sys/bus/netdevsim/new_device\",\n            \"$TC qdisc add dev $ETH root handle 1: taprio num_tc 3 map 2 2 1 0 2 2 2 2 2 2 2 2 2 2 2 2 queues 1@0 1@0 1@0 base-time 1000000000 sched-entry S 01 300000 flags 0x1 clockid CLOCK_TAI cycle-time 4294967296 || /bin/true\",\n            \"$IP link set dev $ETH up\",\n            \"$IP addr add 10.10.10.10/24 dev $ETH\"\n        ],\n        \"cmdUnderTest\": \"/bin/true\",\n        \"expExitCode\": \"0\",\n        \"verifyCmd\": \"$TC qdisc show dev $ETH\",\n        \"matchPattern\": \"qdisc taprio 1: root refcnt\",\n        \"matchCount\": \"0\",\n        \"teardown\": [\n            \"echo \\\"1\\\" > /sys/bus/netdevsim/del_device\"\n        ]\n    },\n    {\n        \"id\": \"39b4\",\n        \"name\": \"Reject grafting taprio as child qdisc of software taprio\",\n        \"category\": [\n            \"qdisc\",\n            \"taprio\"\n        ],\n        \"plugins\": {\n            \"requires\": \"nsPlugin\"\n        },\n        \"setup\": [\n            \"echo \\\"1 1 8\\\" > /sys/bus/netdevsim/new_device\",\n            \"$TC qdisc replace dev $ETH handle 8001: parent root stab overhead 24 taprio num_tc 8 map 0 1 2 3 4 5 6 7 queues 1@0 1@1 1@2 1@3 1@4 1@5 1@6 1@7 base-time 0 sched-entry S ff 20000000 clockid CLOCK_TAI\",\n            \"./taprio_wait_for_admin.sh $TC $ETH\"\n        ],\n        \"cmdUnderTest\": \"$TC qdisc replace dev $ETH parent 8001:7 taprio num_tc 8 map 0 1 2 3 4 5 6 7 queues 1@0 1@1 1@2 1@3 1@4 1@5 1@6 1@7 base-time 200 sched-entry S ff 20000000 clockid CLOCK_TAI\",\n        \"expExitCode\": \"2\",\n        \"verifyCmd\": \"bash -c \\\"./taprio_wait_for_admin.sh $TC $ETH && $TC -j qdisc show dev $ETH root | jq '.[].options.base_time'\\\"\",\n        \"matchPattern\": \"0\",\n        \"matchCount\": \"1\",\n        \"teardown\": [\n            \"$TC qdisc del dev $ETH root\",\n            \"echo \\\"1\\\" > /sys/bus/netdevsim/del_device\"\n        ]\n    },\n    {\n        \"id\": \"e8a1\",\n        \"name\": \"Reject grafting taprio as child qdisc of offloaded taprio\",\n        \"category\": [\n            \"qdisc\",\n            \"taprio\"\n        ],\n        \"plugins\": {\n            \"requires\": \"nsPlugin\"\n        },\n        \"setup\": [\n            \"echo \\\"1 1 8\\\" > /sys/bus/netdevsim/new_device\",\n            \"$TC qdisc replace dev $ETH handle 8001: parent root stab overhead 24 taprio num_tc 8 map 0 1 2 3 4 5 6 7 queues 1@0 1@1 1@2 1@3 1@4 1@5 1@6 1@7 base-time 0 sched-entry S ff 20000000 flags 0x2\",\n            \"./taprio_wait_for_admin.sh $TC $ETH\"\n        ],\n        \"cmdUnderTest\": \"$TC qdisc replace dev $ETH parent 8001:7 taprio num_tc 8 map 0 1 2 3 4 5 6 7 queues 1@0 1@1 1@2 1@3 1@4 1@5 1@6 1@7 base-time 200 sched-entry S ff 20000000 flags 0x2\",\n        \"expExitCode\": \"2\",\n        \"verifyCmd\": \"bash -c \\\"./taprio_wait_for_admin.sh $TC $ETH && $TC -j qdisc show dev $ETH root | jq '.[].options.base_time'\\\"\",\n        \"matchPattern\": \"0\",\n        \"matchCount\": \"1\",\n        \"teardown\": [\n            \"$TC qdisc del dev $ETH root\",\n            \"echo \\\"1\\\" > /sys/bus/netdevsim/del_device\"\n        ]\n    },\n    {\n        \"id\": \"a7bf\",\n        \"name\": \"Graft cbs as child of software taprio\",\n        \"category\": [\n            \"qdisc\",\n            \"taprio\",\n            \"cbs\"\n        ],\n        \"plugins\": {\n            \"requires\": \"nsPlugin\"\n        },\n        \"setup\": [\n            \"echo \\\"1 1 8\\\" > /sys/bus/netdevsim/new_device\",\n            \"$TC qdisc replace dev $ETH handle 8001: parent root stab overhead 24 taprio num_tc 8 map 0 1 2 3 4 5 6 7 queues 1@0 1@1 1@2 1@3 1@4 1@5 1@6 1@7 base-time 0 sched-entry S ff 20000000 clockid CLOCK_TAI\"\n        ],\n        \"cmdUnderTest\": \"$TC qdisc replace dev $ETH handle 8002: parent 8001:8 cbs idleslope 20000 sendslope -980000 hicredit 30 locredit -1470\",\n        \"expExitCode\": \"0\",\n        \"verifyCmd\": \"$TC -d qdisc show dev $ETH\",\n        \"matchPattern\": \"qdisc cbs 8002: parent 8001:8 hicredit 30 locredit -1470 sendslope -980000 idleslope 20000 offload 0\",\n        \"matchCount\": \"1\",\n        \"teardown\": [\n            \"$TC qdisc del dev $ETH root\",\n            \"echo \\\"1\\\" > /sys/bus/netdevsim/del_device\"\n        ]\n    },\n    {\n        \"id\": \"6a83\",\n        \"name\": \"Graft cbs as child of offloaded taprio\",\n        \"category\": [\n            \"qdisc\",\n            \"taprio\",\n            \"cbs\"\n        ],\n        \"plugins\": {\n            \"requires\": \"nsPlugin\"\n        },\n        \"setup\": [\n            \"echo \\\"1 1 8\\\" > /sys/bus/netdevsim/new_device\",\n            \"$TC qdisc replace dev $ETH handle 8001: parent root stab overhead 24 taprio num_tc 8 map 0 1 2 3 4 5 6 7 queues 1@0 1@1 1@2 1@3 1@4 1@5 1@6 1@7 base-time 0 sched-entry S ff 20000000 flags 0x2\"\n        ],\n        \"cmdUnderTest\": \"$TC qdisc replace dev $ETH handle 8002: parent 8001:8 cbs idleslope 20000 sendslope -980000 hicredit 30 locredit -1470\",\n        \"expExitCode\": \"0\",\n        \"verifyCmd\": \"$TC -d qdisc show dev $ETH\",\n        \"matchPattern\": \"qdisc cbs 8002: parent 8001:8 refcnt 2 hicredit 30 locredit -1470 sendslope -980000 idleslope 20000 offload 0\",\n        \"matchCount\": \"1\",\n        \"teardown\": [\n            \"$TC qdisc del dev $ETH root\",\n            \"echo \\\"1\\\" > /sys/bus/netdevsim/del_device\"\n        ]\n    }\n]\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}