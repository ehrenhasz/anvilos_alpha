{
  "module_name": "config2csv.sh",
  "hash_id": "dd1e4f8907b242d91b4efd47a02c6db64373a04950c8251c2906b191e2b6ed5e",
  "original_prompt": "Ingested from linux-6.6.14/tools/testing/selftests/rcutorture/bin/config2csv.sh",
  "human_readable_source": "#!/bin/sh\n# SPDX-License-Identifier: GPL-2.0+\n#\n# Create a spreadsheet from torture-test Kconfig options and kernel boot\n# parameters.  Run this in the directory containing the scenario files.\n#\n# Usage: config2csv path.csv [ \"scenario1 scenario2 ...\" ]\n#\n# By default, this script will take the list of scenarios from the CFLIST\n# file in that directory, otherwise it will consider only the scenarios\n# specified on the command line.  It will examine each scenario's file\n# and also its .boot file, if present, and create a column in the .csv\n# output file.  Note that \"CFLIST\" is a synonym for all the scenarios in the\n# CFLIST file, which allows easy comparison of those scenarios with selected\n# scenarios such as BUSTED that are normally omitted from CFLIST files.\n\ncsvout=${1}\nif test -z \"$csvout\"\nthen\n\techo \"Need .csv output file as first argument.\"\n\texit 1\nfi\nshift\ndefaultconfigs=\"`tr '\\012' ' ' < CFLIST`\"\nif test \"$#\" -eq 0\nthen\n\tscenariosarg=$defaultconfigs\nelse\n\tscenariosarg=$*\nfi\nscenarios=\"`echo $scenariosarg | sed -e \"s/\\<CFLIST\\>/$defaultconfigs/g\"`\"\n\nT=`mktemp -d /tmp/config2latex.sh.XXXXXX`\ntrap 'rm -rf $T' 0\n\ncat << '---EOF---' >> $T/p.awk\nEND\t{\n---EOF---\nfor i in $scenarios\ndo\n\techo '\ts[\"'$i'\"] = 1;' >> $T/p.awk\n\tgrep -v '^#' < $i | grep -v '^ *$' > $T/p\n\tif test -r $i.boot\n\tthen\n\t\ttr -s ' ' '\\012' < $i.boot | grep -v '^#' >> $T/p\n\tfi\n\tsed -e 's/^[^=]*$/&=?/' < $T/p |\n\tsed -e 's/^\\([^=]*\\)=\\(.*\\)$/\\tp[\"\\1:'\"$i\"'\"] = \"\\2\";\\n\\tc[\"\\1\"] = 1;/' >> $T/p.awk\ndone\ncat << '---EOF---' >> $T/p.awk\n\tns = asorti(s, ss);\n\tnc = asorti(c, cs);\n\tfor (j = 1; j <= ns; j++)\n\t\tprintf \",\\\"%s\\\"\", ss[j];\n\tprintf \"\\n\";\n\tfor (i = 1; i <= nc; i++) {\n\t\tprintf \"\\\"%s\\\"\", cs[i];\n\t\tfor (j = 1; j <= ns; j++) {\n\t\t\tprintf \",\\\"%s\\\"\", p[cs[i] \":\" ss[j]];\n\t\t}\n\t\tprintf \"\\n\";\n\t}\n}\n---EOF---\nawk -f $T/p.awk < /dev/null > $T/p.csv\ncp $T/p.csv $csvout\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}