{
  "module_name": "Makefile",
  "hash_id": "9f0ef25e5c23964652957d0a2476c274652e5c635d38367024e5d7e9f8b72e03",
  "original_prompt": "Ingested from linux-6.6.14/tools/testing/selftests/rseq/Makefile",
  "human_readable_source": "# SPDX-License-Identifier: GPL-2.0+ OR MIT\n\nifneq ($(shell $(CC) --version 2>&1 | head -n 1 | grep clang),)\nCLANG_FLAGS += -no-integrated-as\nendif\n\ntop_srcdir = ../../../..\n\nCFLAGS += -O2 -Wall -g -I./ $(KHDR_INCLUDES) -L$(OUTPUT) -Wl,-rpath=./ \\\n\t  $(CLANG_FLAGS) -I$(top_srcdir)/tools/include\nLDLIBS += -lpthread -ldl\n\n# Own dependencies because we only want to build against 1st prerequisite, but\n# still track changes to header files and depend on shared object.\nOVERRIDE_TARGETS = 1\n\nTEST_GEN_PROGS = basic_test basic_percpu_ops_test basic_percpu_ops_mm_cid_test param_test \\\n\t\tparam_test_benchmark param_test_compare_twice param_test_mm_cid \\\n\t\tparam_test_mm_cid_benchmark param_test_mm_cid_compare_twice\n\nTEST_GEN_PROGS_EXTENDED = librseq.so\n\nTEST_PROGS = run_param_test.sh\n\nTEST_FILES := settings\n\ninclude ../lib.mk\n\n$(OUTPUT)/librseq.so: rseq.c rseq.h rseq-*.h\n\t$(CC) $(CFLAGS) -shared -fPIC $< $(LDLIBS) -o $@\n\n$(OUTPUT)/%: %.c $(TEST_GEN_PROGS_EXTENDED) rseq.h rseq-*.h\n\t$(CC) $(CFLAGS) $< $(LDLIBS) -lrseq -o $@\n\n$(OUTPUT)/basic_percpu_ops_mm_cid_test: basic_percpu_ops_test.c $(TEST_GEN_PROGS_EXTENDED) rseq.h rseq-*.h\n\t$(CC) $(CFLAGS) -DBUILDOPT_RSEQ_PERCPU_MM_CID $< $(LDLIBS) -lrseq -o $@\n\n$(OUTPUT)/param_test_benchmark: param_test.c $(TEST_GEN_PROGS_EXTENDED) \\\n\t\t\t\t\trseq.h rseq-*.h\n\t$(CC) $(CFLAGS) -DBENCHMARK $< $(LDLIBS) -lrseq -o $@\n\n$(OUTPUT)/param_test_compare_twice: param_test.c $(TEST_GEN_PROGS_EXTENDED) \\\n\t\t\t\t\trseq.h rseq-*.h\n\t$(CC) $(CFLAGS) -DRSEQ_COMPARE_TWICE $< $(LDLIBS) -lrseq -o $@\n\n$(OUTPUT)/param_test_mm_cid: param_test.c $(TEST_GEN_PROGS_EXTENDED) \\\n\t\t\t\t\trseq.h rseq-*.h\n\t$(CC) $(CFLAGS) -DBUILDOPT_RSEQ_PERCPU_MM_CID $< $(LDLIBS) -lrseq -o $@\n\n$(OUTPUT)/param_test_mm_cid_benchmark: param_test.c $(TEST_GEN_PROGS_EXTENDED) \\\n\t\t\t\t\trseq.h rseq-*.h\n\t$(CC) $(CFLAGS) -DBUILDOPT_RSEQ_PERCPU_MM_CID -DBENCHMARK $< $(LDLIBS) -lrseq -o $@\n\n$(OUTPUT)/param_test_mm_cid_compare_twice: param_test.c $(TEST_GEN_PROGS_EXTENDED) \\\n\t\t\t\t\trseq.h rseq-*.h\n\t$(CC) $(CFLAGS) -DBUILDOPT_RSEQ_PERCPU_MM_CID -DRSEQ_COMPARE_TWICE $< $(LDLIBS) -lrseq -o $@\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}