{
  "module_name": "no_handler_test.c",
  "hash_id": "6f77f27c15e8bfbff04ea8da5199763db668588b5e672ec1a8e2ac75e37ea01d",
  "original_prompt": "Ingested from linux-6.6.14/tools/testing/selftests/powerpc/pmu/ebb/no_handler_test.c",
  "human_readable_source": "\n \n\n#include <stdio.h>\n#include <stdlib.h>\n#include <setjmp.h>\n#include <signal.h>\n\n#include \"ebb.h\"\n\n\n \n\nstatic int no_handler_test(void)\n{\n\tstruct event event;\n\tu64 val;\n\tint i;\n\n\tSKIP_IF(!ebb_is_supported());\n\n\tevent_init_named(&event, 0x1001e, \"cycles\");\n\tevent_leader_ebb_init(&event);\n\n\tevent.attr.exclude_kernel = 1;\n\tevent.attr.exclude_hv = 1;\n\tevent.attr.exclude_idle = 1;\n\n\tFAIL_IF(event_open(&event));\n\tFAIL_IF(ebb_event_enable(&event));\n\n\tval = mfspr(SPRN_EBBHR);\n\tFAIL_IF(val != 0);\n\n\t \n\tsample_period = 1000;\n\tmtspr(SPRN_PMC1, pmc_sample_period(sample_period));\n\n\t \n\tfor (i = 0; i < 1000; i++)\n\t\tmb();\n\n\tdump_ebb_state();\n\n\t \n\tval = mfspr(SPRN_MMCR0);\n\tFAIL_IF(val != 0x0000000080000080);\n\n\tevent_close(&event);\n\n\t \n\n\treturn 0;\n}\n\nint main(void)\n{\n\treturn test_harness(no_handler_test,\"no_handler_test\");\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}