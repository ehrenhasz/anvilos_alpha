{
  "module_name": "nx_dbg.h",
  "hash_id": "7f43a38a14030d9699d7c76a077577c6267225b9dc9eb467df49f30df6b210f7",
  "original_prompt": "Ingested from linux-6.6.14/tools/testing/selftests/powerpc/nx-gzip/include/nx_dbg.h",
  "human_readable_source": " \n \n\n#ifndef _NXU_DBG_H_\n#define _NXU_DBG_H_\n\n#include <sys/file.h>\n#include <stdint.h>\n#include <stdio.h>\n#include <time.h>\n#include <pthread.h>\n\nextern FILE * nx_gzip_log;\nextern int nx_gzip_trace;\nextern unsigned int nx_gzip_inflate_impl;\nextern unsigned int nx_gzip_deflate_impl;\nextern unsigned int nx_gzip_inflate_flags;\nextern unsigned int nx_gzip_deflate_flags;\n\nextern int nx_dbg;\npthread_mutex_t mutex_log;\n\n#define nx_gzip_trace_enabled()       (nx_gzip_trace & 0x1)\n#define nx_gzip_hw_trace_enabled()    (nx_gzip_trace & 0x2)\n#define nx_gzip_sw_trace_enabled()    (nx_gzip_trace & 0x4)\n#define nx_gzip_gather_statistics()   (nx_gzip_trace & 0x8)\n#define nx_gzip_per_stream_stat()     (nx_gzip_trace & 0x10)\n\n#define prt(fmt, ...) do { \\\n\tpthread_mutex_lock(&mutex_log);\t\t\t\t\t\\\n\tflock(nx_gzip_log->_fileno, LOCK_EX);\t\t\t\t\\\n\ttime_t t; struct tm *m; time(&t); m = localtime(&t);\t\t\\\n\tfprintf(nx_gzip_log, \"[%04d/%02d/%02d %02d:%02d:%02d] \"\t\t\\\n\t\t\"pid %d: \" fmt,\t\\\n\t\t(int)m->tm_year + 1900, (int)m->tm_mon+1, (int)m->tm_mday, \\\n\t\t(int)m->tm_hour, (int)m->tm_min, (int)m->tm_sec,\t\\\n\t\t(int)getpid(), ## __VA_ARGS__);\t\t\t\t\\\n\tfflush(nx_gzip_log);\t\t\t\t\t\t\\\n\tflock(nx_gzip_log->_fileno, LOCK_UN);\t\t\t\t\\\n\tpthread_mutex_unlock(&mutex_log);\t\t\t\t\\\n} while (0)\n\n \n#define prt_err(fmt, ...) do { if (nx_dbg >= 0) {\t\t\t\\\n\tprt(\"%s:%u: Error: \"fmt,\t\t\t\t\t\\\n\t\t__FILE__, __LINE__, ## __VA_ARGS__);\t\t\t\\\n}} while (0)\n\n \n#define prt_warn(fmt, ...) do {\tif (nx_dbg >= 1) {\t\t\t\\\n\tprt(\"%s:%u: Warning: \"fmt,\t\t\t\t\t\\\n\t\t__FILE__, __LINE__, ## __VA_ARGS__);\t\t\t\\\n}} while (0)\n\n \n#define prt_info(fmt, ...) do {\tif (nx_dbg >= 2) {\t\t\t\\\n\tprt(\"Info: \"fmt, ## __VA_ARGS__);\t\t\t\t\\\n}} while (0)\n\n \n#define prt_trace(fmt, ...) do { if (nx_gzip_trace_enabled()) {\t\t\\\n\tprt(\"### \"fmt, ## __VA_ARGS__);\t\t\t\t\t\\\n}} while (0)\n\n \n#define prt_stat(fmt, ...) do {\tif (nx_gzip_gather_statistics()) {\t\\\n\tprt(\"### \"fmt, ## __VA_ARGS__);\t\t\t\t\t\\\n}} while (0)\n\n \n#define hw_trace(fmt, ...) do {\t\t\t\t\t\t\\\n\t\tif (nx_gzip_hw_trace_enabled())\t\t\t\t\\\n\t\t\tfprintf(nx_gzip_log, \"hhh \" fmt, ## __VA_ARGS__); \\\n\t} while (0)\n\n \n#define sw_trace(fmt, ...) do {\t\t\t\t\t\t\\\n\t\tif (nx_gzip_sw_trace_enabled())\t\t\t\t\\\n\t\t\tfprintf(nx_gzip_log, \"sss \" fmt, ## __VA_ARGS__); \\\n\t} while (0)\n\n\n \nuint64_t str_to_num(char *str);\nvoid nx_lib_debug(int onoff);\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}