{
  "module_name": "instructions.h",
  "hash_id": "2162cb310a2fb410ea200197a3d78624ddfeb6cc05e0092486bfeed4dfe3f0a5",
  "original_prompt": "Ingested from linux-6.6.14/tools/testing/selftests/powerpc/include/instructions.h",
  "human_readable_source": " \n#ifndef _SELFTESTS_POWERPC_INSTRUCTIONS_H\n#define _SELFTESTS_POWERPC_INSTRUCTIONS_H\n\n#include <stdio.h>\n#include <stdlib.h>\n\n \n#define __COPY(RA, RB, L) \\\n\t(0x7c00060c | (RA) << (31-15) | (RB) << (31-20) | (L) << (31-10))\n#define COPY(RA, RB, L) \\\n\t.long __COPY((RA), (RB), (L))\n\nstatic inline void copy(void *i)\n{\n\tasm volatile(str(COPY(0, %0, 0))\";\"\n\t\t\t:\n\t\t\t: \"b\" (i)\n\t\t\t: \"memory\"\n\t\t    );\n}\n\nstatic inline void copy_first(void *i)\n{\n\tasm volatile(str(COPY(0, %0, 1))\";\"\n\t\t\t:\n\t\t\t: \"b\" (i)\n\t\t\t: \"memory\"\n\t\t    );\n}\n\n \n#define __PASTE(RA, RB, L, RC) \\\n\t(0x7c00070c | (RA) << (31-15) | (RB) << (31-20) | (L) << (31-10) | (RC) << (31-31))\n#define PASTE(RA, RB, L, RC) \\\n\t.long __PASTE((RA), (RB), (L), (RC))\n\nstatic inline int paste(void *i)\n{\n\tint cr;\n\n\tasm volatile(str(PASTE(0, %1, 0, 0))\";\"\n\t\t\t\"mfcr %0;\"\n\t\t\t: \"=r\" (cr)\n\t\t\t: \"b\" (i)\n\t\t\t: \"memory\"\n\t\t    );\n\treturn cr;\n}\n\nstatic inline int paste_last(void *i)\n{\n\tint cr;\n\n\tasm volatile(str(PASTE(0, %1, 1, 1))\";\"\n\t\t\t\"mfcr %0;\"\n\t\t\t: \"=r\" (cr)\n\t\t\t: \"b\" (i)\n\t\t\t: \"memory\"\n\t\t    );\n\treturn cr;\n}\n\n#define PPC_INST_COPY                  __COPY(0, 0, 0)\n#define PPC_INST_COPY_FIRST            __COPY(0, 0, 1)\n#define PPC_INST_PASTE                 __PASTE(0, 0, 0, 0)\n#define PPC_INST_PASTE_LAST            __PASTE(0, 0, 1, 1)\n\n \n#ifdef __ASSEMBLY__\n#  define stringify_in_c(...)\t__VA_ARGS__\n#else\n#  define __stringify_in_c(...)\t#__VA_ARGS__\n#  define stringify_in_c(...)\t__stringify_in_c(__VA_ARGS__) \" \"\n#endif\n\n#define __PPC_RA(a)\t(((a) & 0x1f) << 16)\n#define __PPC_RS(s)\t(((s) & 0x1f) << 21)\n#define __PPC_RT(t)\t__PPC_RS(t)\n#define __PPC_PREFIX_R(r)\t(((r) & 0x1) << 20)\n\n#define PPC_PREFIX_MLS\t\t\t0x06000000\n#define PPC_PREFIX_8LS\t\t\t0x04000000\n\n#define PPC_INST_LBZ\t\t\t0x88000000\n#define PPC_INST_LHZ\t\t\t0xa0000000\n#define PPC_INST_LHA\t\t\t0xa8000000\n#define PPC_INST_LWZ\t\t\t0x80000000\n#define PPC_INST_STB\t\t\t0x98000000\n#define PPC_INST_STH\t\t\t0xb0000000\n#define PPC_INST_STW\t\t\t0x90000000\n#define PPC_INST_STD\t\t\t0xf8000000\n#define PPC_INST_LFS\t\t\t0xc0000000\n#define PPC_INST_LFD\t\t\t0xc8000000\n#define PPC_INST_STFS\t\t\t0xd0000000\n#define PPC_INST_STFD\t\t\t0xd8000000\n\n#define PREFIX_MLS(instr, t, a, r, d)\tstringify_in_c(.balign 64, , 4;)\t\t\\\n\t\t\t\t\tstringify_in_c(.long PPC_PREFIX_MLS |\t\t\\\n\t\t\t\t\t\t       __PPC_PREFIX_R(r) |\t\t\\\n\t\t\t\t\t\t       (((d) >> 16) & 0x3ffff);)\t\\\n\t\t\t\t\tstringify_in_c(.long (instr)  |\t\t\t\\\n\t\t\t\t\t\t       __PPC_RT(t) |\t\t\t\\\n\t\t\t\t\t\t       __PPC_RA(a) |\t\t\t\\\n\t\t\t\t\t\t       ((d) & 0xffff);\\n)\n\n#define PREFIX_8LS(instr, t, a, r, d)\tstringify_in_c(.balign 64, , 4;)\t\t\\\n\t\t\t\t\tstringify_in_c(.long PPC_PREFIX_8LS |\t\t\\\n\t\t\t\t\t\t       __PPC_PREFIX_R(r) |\t\t\\\n\t\t\t\t\t\t       (((d) >> 16) & 0x3ffff);)\t\\\n\t\t\t\t\tstringify_in_c(.long (instr)  |\t\t\t\\\n\t\t\t\t\t\t       __PPC_RT(t) |\t\t\t\\\n\t\t\t\t\t\t       __PPC_RA(a) |\t\t\t\\\n\t\t\t\t\t\t       ((d) & 0xffff);\\n)\n\n \n#define PLBZ(t, a, r, d)\t\tPREFIX_MLS(PPC_INST_LBZ, t, a, r, d)\n#define PLHZ(t, a, r, d)\t\tPREFIX_MLS(PPC_INST_LHZ, t, a, r, d)\n#define PLHA(t, a, r, d)\t\tPREFIX_MLS(PPC_INST_LHA, t, a, r, d)\n#define PLWZ(t, a, r, d)\t\tPREFIX_MLS(PPC_INST_LWZ, t, a, r, d)\n#define PLWA(t, a, r, d)\t\tPREFIX_8LS(0xa4000000, t, a, r, d)\n#define PLD(t, a, r, d)\t\t\tPREFIX_8LS(0xe4000000, t, a, r, d)\n#define PLQ(t, a, r, d)\t\t\tPREFIX_8LS(0xe0000000, t, a, r, d)\n#define PSTB(s, a, r, d)\t\tPREFIX_MLS(PPC_INST_STB, s, a, r, d)\n#define PSTH(s, a, r, d)\t\tPREFIX_MLS(PPC_INST_STH, s, a, r, d)\n#define PSTW(s, a, r, d)\t\tPREFIX_MLS(PPC_INST_STW, s, a, r, d)\n#define PSTD(s, a, r, d)\t\tPREFIX_8LS(0xf4000000, s, a, r, d)\n#define PSTQ(s, a, r, d)\t\tPREFIX_8LS(0xf0000000, s, a, r, d)\n\n \n#define PLFS(frt, a, r, d)\t\tPREFIX_MLS(PPC_INST_LFS, frt, a, r, d)\n#define PLFD(frt, a, r, d)\t\tPREFIX_MLS(PPC_INST_LFD, frt, a, r, d)\n#define PSTFS(frs, a, r, d)\t\tPREFIX_MLS(PPC_INST_STFS, frs, a, r, d)\n#define PSTFD(frs, a, r, d)\t\tPREFIX_MLS(PPC_INST_STFD, frs, a, r, d)\n\n \n#define PLXSD(vrt, a, r, d)\t\tPREFIX_8LS(0xa8000000, vrt, a, r, d)\n#define PLXSSP(vrt, a, r, d)\t\tPREFIX_8LS(0xac000000, vrt, a, r, d)\n#define PLXV0(s, a, r, d)\t\tPREFIX_8LS(0xc8000000, s, a, r, d)\n#define PLXV1(s, a, r, d)\t\tPREFIX_8LS(0xcc000000, s, a, r, d)\n#define PSTXSD(vrs, a, r, d)\t\tPREFIX_8LS(0xb8000000, vrs, a, r, d)\n#define PSTXSSP(vrs, a, r, d)\t\tPREFIX_8LS(0xbc000000, vrs, a, r, d)\n#define PSTXV0(s, a, r, d)\t\tPREFIX_8LS(0xd8000000, s, a, r, d)\n#define PSTXV1(s, a, r, d)\t\tPREFIX_8LS(0xdc000000, s, a, r, d)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}