{
  "module_name": "non-atomic.h",
  "hash_id": "a1de932e4c8eb84bf317ef3abe69345d26975b9ea6b6cdf2d524a39ff3078adf",
  "original_prompt": "Ingested from linux-6.6.14/tools/include/asm-generic/bitops/non-atomic.h",
  "human_readable_source": " \n#ifndef _ASM_GENERIC_BITOPS_NON_ATOMIC_H_\n#define _ASM_GENERIC_BITOPS_NON_ATOMIC_H_\n\n#include <linux/bits.h>\n\n \nstatic __always_inline void\n___set_bit(unsigned long nr, volatile unsigned long *addr)\n{\n\tunsigned long mask = BIT_MASK(nr);\n\tunsigned long *p = ((unsigned long *)addr) + BIT_WORD(nr);\n\n\t*p  |= mask;\n}\n\nstatic __always_inline void\n___clear_bit(unsigned long nr, volatile unsigned long *addr)\n{\n\tunsigned long mask = BIT_MASK(nr);\n\tunsigned long *p = ((unsigned long *)addr) + BIT_WORD(nr);\n\n\t*p &= ~mask;\n}\n\n \nstatic __always_inline void\n___change_bit(unsigned long nr, volatile unsigned long *addr)\n{\n\tunsigned long mask = BIT_MASK(nr);\n\tunsigned long *p = ((unsigned long *)addr) + BIT_WORD(nr);\n\n\t*p ^= mask;\n}\n\n \nstatic __always_inline bool\n___test_and_set_bit(unsigned long nr, volatile unsigned long *addr)\n{\n\tunsigned long mask = BIT_MASK(nr);\n\tunsigned long *p = ((unsigned long *)addr) + BIT_WORD(nr);\n\tunsigned long old = *p;\n\n\t*p = old | mask;\n\treturn (old & mask) != 0;\n}\n\n \nstatic __always_inline bool\n___test_and_clear_bit(unsigned long nr, volatile unsigned long *addr)\n{\n\tunsigned long mask = BIT_MASK(nr);\n\tunsigned long *p = ((unsigned long *)addr) + BIT_WORD(nr);\n\tunsigned long old = *p;\n\n\t*p = old & ~mask;\n\treturn (old & mask) != 0;\n}\n\n \nstatic __always_inline bool\n___test_and_change_bit(unsigned long nr, volatile unsigned long *addr)\n{\n\tunsigned long mask = BIT_MASK(nr);\n\tunsigned long *p = ((unsigned long *)addr) + BIT_WORD(nr);\n\tunsigned long old = *p;\n\n\t*p = old ^ mask;\n\treturn (old & mask) != 0;\n}\n\n \nstatic __always_inline bool\n_test_bit(unsigned long nr, const volatile unsigned long *addr)\n{\n\treturn 1UL & (addr[BIT_WORD(nr)] >> (nr & (BITS_PER_LONG-1)));\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}