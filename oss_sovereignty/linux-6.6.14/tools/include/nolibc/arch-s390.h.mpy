{
  "module_name": "arch-s390.h",
  "hash_id": "4c9b403b197a16ceb02abbadfee9da0f4bf44981844196888a4ae5e8503b2678",
  "original_prompt": "Ingested from linux-6.6.14/tools/include/nolibc/arch-s390.h",
  "human_readable_source": " \n \n\n#ifndef _NOLIBC_ARCH_S390_H\n#define _NOLIBC_ARCH_S390_H\n#include <asm/signal.h>\n#include <asm/unistd.h>\n\n#include \"compiler.h\"\n#include \"crt.h\"\n\n \n\n#define my_syscall0(num)\t\t\t\t\t\t\\\n({\t\t\t\t\t\t\t\t\t\\\n\tregister long _num __asm__ (\"1\") = (num);\t\t\t\\\n\tregister long _rc __asm__ (\"2\");\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\t__asm__ volatile (\t\t\t\t\t\t\\\n\t\t\"svc 0\\n\"\t\t\t\t\t\t\\\n\t\t: \"=d\"(_rc)\t\t\t\t\t\t\\\n\t\t: \"d\"(_num)\t\t\t\t\t\t\\\n\t\t: \"memory\", \"cc\"\t\t\t\t\t\\\n\t\t);\t\t\t\t\t\t\t\\\n\t_rc;\t\t\t\t\t\t\t\t\\\n})\n\n#define my_syscall1(num, arg1)\t\t\t\t\t\t\\\n({\t\t\t\t\t\t\t\t\t\\\n\tregister long _num __asm__ (\"1\") = (num);\t\t\t\\\n\tregister long _arg1 __asm__ (\"2\") = (long)(arg1);\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\t__asm__ volatile (\t\t\t\t\t\t\\\n\t\t\"svc 0\\n\"\t\t\t\t\t\t\\\n\t\t: \"+d\"(_arg1)\t\t\t\t\t\t\\\n\t\t: \"d\"(_num)\t\t\t\t\t\t\\\n\t\t: \"memory\", \"cc\"\t\t\t\t\t\\\n\t\t);\t\t\t\t\t\t\t\\\n\t_arg1;\t\t\t\t\t\t\t\t\\\n})\n\n#define my_syscall2(num, arg1, arg2)\t\t\t\t\t\\\n({\t\t\t\t\t\t\t\t\t\\\n\tregister long _num __asm__ (\"1\") = (num);\t\t\t\\\n\tregister long _arg1 __asm__ (\"2\") = (long)(arg1);\t\t\\\n\tregister long _arg2 __asm__ (\"3\") = (long)(arg2);\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\t__asm__ volatile (\t\t\t\t\t\t\\\n\t\t\"svc 0\\n\"\t\t\t\t\t\t\\\n\t\t: \"+d\"(_arg1)\t\t\t\t\t\t\\\n\t\t: \"d\"(_arg2), \"d\"(_num)\t\t\t\t\t\\\n\t\t: \"memory\", \"cc\"\t\t\t\t\t\\\n\t\t);\t\t\t\t\t\t\t\\\n\t_arg1;\t\t\t\t\t\t\t\t\\\n})\n\n#define my_syscall3(num, arg1, arg2, arg3)\t\t\t\t\\\n({\t\t\t\t\t\t\t\t\t\\\n\tregister long _num __asm__ (\"1\") = (num);\t\t\t\\\n\tregister long _arg1 __asm__ (\"2\") = (long)(arg1);\t\t\\\n\tregister long _arg2 __asm__ (\"3\") = (long)(arg2);\t\t\\\n\tregister long _arg3 __asm__ (\"4\") = (long)(arg3);\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\t__asm__ volatile (\t\t\t\t\t\t\\\n\t\t\"svc 0\\n\"\t\t\t\t\t\t\\\n\t\t: \"+d\"(_arg1)\t\t\t\t\t\t\\\n\t\t: \"d\"(_arg2), \"d\"(_arg3), \"d\"(_num)\t\t\t\\\n\t\t: \"memory\", \"cc\"\t\t\t\t\t\\\n\t\t);\t\t\t\t\t\t\t\\\n\t_arg1;\t\t\t\t\t\t\t\t\\\n})\n\n#define my_syscall4(num, arg1, arg2, arg3, arg4)\t\t\t\\\n({\t\t\t\t\t\t\t\t\t\\\n\tregister long _num __asm__ (\"1\") = (num);\t\t\t\\\n\tregister long _arg1 __asm__ (\"2\") = (long)(arg1);\t\t\\\n\tregister long _arg2 __asm__ (\"3\") = (long)(arg2);\t\t\\\n\tregister long _arg3 __asm__ (\"4\") = (long)(arg3);\t\t\\\n\tregister long _arg4 __asm__ (\"5\") = (long)(arg4);\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\t__asm__ volatile (\t\t\t\t\t\t\\\n\t\t\"svc 0\\n\"\t\t\t\t\t\t\\\n\t\t: \"+d\"(_arg1)\t\t\t\t\t\t\\\n\t\t: \"d\"(_arg2), \"d\"(_arg3), \"d\"(_arg4), \"d\"(_num)\t\t\\\n\t\t: \"memory\", \"cc\"\t\t\t\t\t\\\n\t\t);\t\t\t\t\t\t\t\\\n\t_arg1;\t\t\t\t\t\t\t\t\\\n})\n\n#define my_syscall5(num, arg1, arg2, arg3, arg4, arg5)\t\t\t\\\n({\t\t\t\t\t\t\t\t\t\\\n\tregister long _num __asm__ (\"1\") = (num);\t\t\t\\\n\tregister long _arg1 __asm__ (\"2\") = (long)(arg1);\t\t\\\n\tregister long _arg2 __asm__ (\"3\") = (long)(arg2);\t\t\\\n\tregister long _arg3 __asm__ (\"4\") = (long)(arg3);\t\t\\\n\tregister long _arg4 __asm__ (\"5\") = (long)(arg4);\t\t\\\n\tregister long _arg5 __asm__ (\"6\") = (long)(arg5);\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\t__asm__ volatile (\t\t\t\t\t\t\\\n\t\t\"svc 0\\n\"\t\t\t\t\t\t\\\n\t\t: \"+d\"(_arg1)\t\t\t\t\t\t\\\n\t\t: \"d\"(_arg2), \"d\"(_arg3), \"d\"(_arg4), \"d\"(_arg5),\t\\\n\t\t  \"d\"(_num)\t\t\t\t\t\t\\\n\t\t: \"memory\", \"cc\"\t\t\t\t\t\\\n\t\t);\t\t\t\t\t\t\t\\\n\t_arg1;\t\t\t\t\t\t\t\t\\\n})\n\n#define my_syscall6(num, arg1, arg2, arg3, arg4, arg5, arg6)\t\t\\\n({\t\t\t\t\t\t\t\t\t\\\n\tregister long _num __asm__ (\"1\") = (num);\t\t\t\\\n\tregister long _arg1 __asm__ (\"2\") = (long)(arg1);\t\t\\\n\tregister long _arg2 __asm__ (\"3\") = (long)(arg2);\t\t\\\n\tregister long _arg3 __asm__ (\"4\") = (long)(arg3);\t\t\\\n\tregister long _arg4 __asm__ (\"5\") = (long)(arg4);\t\t\\\n\tregister long _arg5 __asm__ (\"6\") = (long)(arg5);\t\t\\\n\tregister long _arg6 __asm__ (\"7\") = (long)(arg6);\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\t__asm__ volatile (\t\t\t\t\t\t\\\n\t\t\"svc 0\\n\"\t\t\t\t\t\t\\\n\t\t: \"+d\"(_arg1)\t\t\t\t\t\t\\\n\t\t: \"d\"(_arg2), \"d\"(_arg3), \"d\"(_arg4), \"d\"(_arg5),\t\\\n\t\t  \"d\"(_arg6), \"d\"(_num)\t\t\t\t\t\\\n\t\t: \"memory\", \"cc\"\t\t\t\t\t\\\n\t\t);\t\t\t\t\t\t\t\\\n\t_arg1;\t\t\t\t\t\t\t\t\\\n})\n\n \nvoid __attribute__((weak, noreturn, optimize(\"Os\", \"omit-frame-pointer\"))) __no_stack_protector _start(void)\n{\n\t__asm__ volatile (\n\t\t\"lgr\t%r2, %r15\\n\"           \n\t\t\"aghi\t%r15, -160\\n\"          \n\t\t\"xc\t0(8,%r15), 0(%r15)\\n\"  \n\t\t\"brasl\t%r14, _start_c\\n\"      \n\t);\n\t__builtin_unreachable();\n}\n\nstruct s390_mmap_arg_struct {\n\tunsigned long addr;\n\tunsigned long len;\n\tunsigned long prot;\n\tunsigned long flags;\n\tunsigned long fd;\n\tunsigned long offset;\n};\n\nstatic __attribute__((unused))\nvoid *sys_mmap(void *addr, size_t length, int prot, int flags, int fd,\n\t       off_t offset)\n{\n\tstruct s390_mmap_arg_struct args = {\n\t\t.addr = (unsigned long)addr,\n\t\t.len = (unsigned long)length,\n\t\t.prot = prot,\n\t\t.flags = flags,\n\t\t.fd = fd,\n\t\t.offset = (unsigned long)offset\n\t};\n\n\treturn (void *)my_syscall1(__NR_mmap, &args);\n}\n#define sys_mmap sys_mmap\n\nstatic __attribute__((unused))\npid_t sys_fork(void)\n{\n\treturn my_syscall5(__NR_clone, 0, SIGCHLD, 0, 0, 0);\n}\n#define sys_fork sys_fork\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}