{
  "module_name": "usbip_host_common.h",
  "hash_id": "9ab2cf1eccdb4967188a42a1efd7bebb278e4667f618dd2f7187447a26593fe8",
  "original_prompt": "Ingested from linux-6.6.14/tools/usb/usbip/libsrc/usbip_host_common.h",
  "human_readable_source": " \n \n\n#ifndef __USBIP_HOST_COMMON_H\n#define __USBIP_HOST_COMMON_H\n\n#include <stdint.h>\n#include <libudev.h>\n#include <errno.h>\n#include \"list.h\"\n#include \"usbip_common.h\"\n#include \"sysfs_utils.h\"\n\nstruct usbip_host_driver;\n\nstruct usbip_host_driver_ops {\n\tint (*open)(struct usbip_host_driver *hdriver);\n\tvoid (*close)(struct usbip_host_driver *hdriver);\n\tint (*refresh_device_list)(struct usbip_host_driver *hdriver);\n\tstruct usbip_exported_device * (*get_device)(\n\t\tstruct usbip_host_driver *hdriver, int num);\n\n\tint (*read_device)(struct udev_device *sdev,\n\t\t\t   struct usbip_usb_device *dev);\n\tint (*read_interface)(struct usbip_usb_device *udev, int i,\n\t\t\t      struct usbip_usb_interface *uinf);\n\tint (*is_my_device)(struct udev_device *udev);\n};\n\nstruct usbip_host_driver {\n\tint ndevs;\n\t \n\tstruct list_head edev_list;\n\tconst char *udev_subsystem;\n\tstruct usbip_host_driver_ops ops;\n};\n\nstruct usbip_exported_device {\n\tstruct udev_device *sudev;\n\tint32_t status;\n\tstruct usbip_usb_device udev;\n\tstruct list_head node;\n\tstruct usbip_usb_interface uinf[];\n};\n\n \nstatic inline int usbip_driver_open(struct usbip_host_driver *hdriver)\n{\n\tif (!hdriver->ops.open)\n\t\treturn -EOPNOTSUPP;\n\treturn hdriver->ops.open(hdriver);\n}\n\nstatic inline void usbip_driver_close(struct usbip_host_driver *hdriver)\n{\n\tif (!hdriver->ops.close)\n\t\treturn;\n\thdriver->ops.close(hdriver);\n}\n\nstatic inline int usbip_refresh_device_list(struct usbip_host_driver *hdriver)\n{\n\tif (!hdriver->ops.refresh_device_list)\n\t\treturn -EOPNOTSUPP;\n\treturn hdriver->ops.refresh_device_list(hdriver);\n}\n\nstatic inline struct usbip_exported_device *\nusbip_get_device(struct usbip_host_driver *hdriver, int num)\n{\n\tif (!hdriver->ops.get_device)\n\t\treturn NULL;\n\treturn hdriver->ops.get_device(hdriver, num);\n}\n\n \nint usbip_generic_driver_open(struct usbip_host_driver *hdriver);\nvoid usbip_generic_driver_close(struct usbip_host_driver *hdriver);\nint usbip_generic_refresh_device_list(struct usbip_host_driver *hdriver);\nint usbip_export_device(struct usbip_exported_device *edev, int sockfd);\nstruct usbip_exported_device *usbip_generic_get_device(\n\t\tstruct usbip_host_driver *hdriver, int num);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}