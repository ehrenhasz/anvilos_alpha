{
  "module_name": "x86_energy_perf_policy.8",
  "hash_id": "5479ca88534c73c0a7f83f42475dea5f0a68a4a252e18018606f563502216c57",
  "original_prompt": "Ingested from linux-6.6.14/tools/power/x86/x86_energy_perf_policy/x86_energy_perf_policy.8",
  "human_readable_source": ".\\\"  This page Copyright (C) 2010 - 2015 Len Brown <len.brown@intel.com>\n.\\\"  Distributed under the GPL, Copyleft 1994.\n.TH X86_ENERGY_PERF_POLICY 8\n.SH NAME\nx86_energy_perf_policy \\- Manage Energy vs. Performance Policy via x86 Model Specific Registers\n.SH SYNOPSIS\n.B x86_energy_perf_policy\n.RB \"[ options ] [ scope ] [field \\ value]\"\n.br\n.RB \"scope: \\-\\-cpu\\ cpu-list | \\-\\-pkg\\ pkg-list\"\n.br\n.RB \"cpu-list, pkg-list: # | #,# | #-# | all\"\n.br\n.RB \"field: \\-\\-all | \\-\\-epb | \\-\\-hwp-epp | \\-\\-hwp-min | \\-\\-hwp-max | \\-\\-hwp-desired\"\n.br\n.RB \"other: (\\-\\-force | \\-\\-hwp-enable | \\-\\-turbo-enable)  value)\"\n.br\n.RB \"value: # | default | performance | balance-performance | balance-power | power\"\n.SH DESCRIPTION\n\\fBx86_energy_perf_policy\\fP\ndisplays and updates energy-performance policy settings specific to\nIntel Architecture Processors.  Settings are accessed via Model Specific Register (MSR)\nupdates, no matter if the Linux cpufreq sub-system is enabled or not.\n\nPolicy in MSR_IA32_ENERGY_PERF_BIAS (EPB)\nmay affect a wide range of hardware decisions,\nsuch as how aggressively the hardware enters and exits CPU idle states (C-states)\nand Processor Performance States (P-states).\nThis policy hint does not replace explicit OS C-state and P-state selection.\nRather, it tells the hardware how aggressively to implement those selections.\nFurther, it allows the OS to influence energy/performance trade-offs where there\nis no software interface, such as in the opportunistic \"turbo-mode\" P-state range.\nNote that MSR_IA32_ENERGY_PERF_BIAS is defined per CPU,\nbut some implementations\nshare a single MSR among all CPUs in each processor package.\nOn those systems, a write to EPB on one processor will\nbe visible, and will have an effect, on all CPUs\nin the same processor package.\n\nHardware P-States (HWP) are effectively an expansion of hardware\nP-state control from the opportunistic turbo-mode P-state range\nto include the entire range of available P-states.\nOn Broadwell Xeon, the initial HWP implementation, EPB influenced HWP.\nThat influence was removed in subsequent generations,\nwhere it was moved to the\nEnergy_Performance_Preference (EPP) field in\na pair of dedicated MSRs -- MSR_IA32_HWP_REQUEST and MSR_IA32_HWP_REQUEST_PKG.\n\nEPP is the most commonly managed knob in HWP mode,\nbut MSR_IA32_HWP_REQUEST also allows the user to specify\nminimum-frequency for Quality-of-Service,\nand maximum-frequency for power-capping.\nMSR_IA32_HWP_REQUEST is defined per-CPU.\n\nMSR_IA32_HWP_REQUEST_PKG has the same capability as MSR_IA32_HWP_REQUEST,\nbut it can simultaneously set the default policy for all CPUs within a package.\nA bit in per-CPU MSR_IA32_HWP_REQUEST indicates whether it is\nover-ruled-by or exempt-from MSR_IA32_HWP_REQUEST_PKG.\n\nMSR_HWP_CAPABILITIES shows the default values for the fields\nin MSR_IA32_HWP_REQUEST.  It is displayed when no values\nare being written.\n\n.SS SCOPE OPTIONS\n.PP\n\\fB-c, --cpu\\fP Operate on the MSR_IA32_HWP_REQUEST for each CPU in a CPU-list.\nThe CPU-list may be comma-separated CPU numbers, with dash for range\nor the string \"all\".  Eg. '--cpu 1,4,6-8' or '--cpu all'.\nWhen --cpu is used, \\fB--hwp-use-pkg\\fP is available, which specifies whether the per-cpu\nMSR_IA32_HWP_REQUEST should be over-ruled by MSR_IA32_HWP_REQUEST_PKG (1),\nor exempt from MSR_IA32_HWP_REQUEST_PKG (0).\n\n\\fB-p, --pkg\\fP Operate on the MSR_IA32_HWP_REQUEST_PKG for each package in the package-list.\nThe list is a string of individual package numbers separated\nby commas, and or ranges of package numbers separated by a dash,\nor the string \"all\".\nFor example '--pkg 1,3' or '--pkg all'\n\n.SS VALUE OPTIONS\n.PP\n.I normal | default\nSet a policy with a normal balance between performance and energy efficiency.\nThe processor will tolerate minor performance compromise\nfor potentially significant energy savings.\nThis is a reasonable default for most desktops and servers.\n\"default\" is a synonym for \"normal\".\n.PP\n.I performance\nSet a policy for maximum performance,\naccepting no performance sacrifice for the benefit of energy efficiency.\n.PP\n.I balance-performance\nSet a policy with a high priority on performance,\nbut allowing some performance loss to benefit energy efficiency.\n.PP\n.I balance-power\nSet a policy where the performance and power are balanced.\nThis is the default.\n.PP\n.I power\nSet a policy where the processor can accept\na measurable performance impact to maximize energy efficiency.\n\n.PP\nThe following table shows the mapping from the value strings above to actual MSR values.\nThis mapping is defined in the Linux-kernel header, msr-index.h.\n\n.nf\nVALUE STRING      \tEPB\tEPP\nperformance       \t0\t0\nbalance-performance\t4\t128\nnormal, default\t\t6\t128\nbalance-power\t \t8\t192\npower       \t\t15\t255\n.fi\n.PP\nFor MSR_IA32_HWP_REQUEST performance fields\n(--hwp-min, --hwp-max, --hwp-desired), the value option\nis in units of 100 MHz, Eg. 12 signifies 1200 MHz.\n\n.SS FIELD OPTIONS\n\\fB-a, --all value-string\\fP Sets all EPB and EPP and HWP limit fields to the value associated with\nthe value-string.  In addition, enables turbo-mode and HWP-mode, if they were previous disabled.\nThus \"--all normal\" will set a system without cpufreq into a well known configuration.\n.PP\n\\fB-B, --epb\\fP set EPB per-core or per-package.\nSee value strings in the table above.\n.PP\n\\fB-d, --debug\\fP debug increases verbosity.  By default\nx86_energy_perf_policy is silent for updates,\nand verbose for read-only mode.\n.PP\n\\fB-P, --hwp-epp\\fP set HWP.EPP per-core or per-package.\nSee value strings in the table above.\n.PP\n\\fB-m, --hwp-min\\fP request HWP to not go below the specified core/bus ratio.\nThe \"default\" is the value found in IA32_HWP_CAPABILITIES.min.\n.PP\n\\fB-M, --hwp-max\\fP request HWP not exceed a the specified core/bus ratio.\nThe \"default\" is the value found in IA32_HWP_CAPABILITIES.max.\n.PP\n\\fB-D, --hwp-desired\\fP request HWP 'desired' frequency.\nThe \"normal\" setting is 0, which\ncorresponds to 'full autonomous' HWP control.\nNon-zero performance values request a specific performance\nlevel on this processor, specified in multiples of 100 MHz.\n.PP\n\\fB-w, --hwp-window\\fP specify integer number of microsec\nin the sliding window that HWP uses to maintain average frequency.\nThis parameter is meaningful only when the \"desired\" field above is non-zero.\nDefault is 0, allowing the HW to choose.\n.SH OTHER OPTIONS\n.PP\n\\fB-f, --force\\fP writes the specified values without bounds checking.\n.PP\n\\fB-U, --hwp-use-pkg\\fP (0 | 1), when used in conjunction with --cpu,\nindicates whether the per-CPU MSR_IA32_HWP_REQUEST should be overruled (1)\nor exempt (0) from per-Package MSR_IA32_HWP_REQUEST_PKG settings.\nThe default is exempt.\n.PP\n\\fB-H, --hwp-enable\\fP enable HardWare-P-state (HWP) mode.  Once enabled, system RESET is required to disable HWP mode.\n.PP\n\\fB-t, --turbo-enable\\fP enable (1) or disable (0) turbo mode.\n.PP\n\\fB-v, --version\\fP print version and exit.\n.PP\nIf no request to change policy is made,\nthe default behavior is to read\nand display the current system state,\nincluding the default capabilities.\n.SH WARNING\n.PP\nThis utility writes directly to Model Specific Registers.\nThere is no locking or coordination should this utility\nbe used to modify HWP limit fields at the same time that\nintel_pstate's sysfs attributes access the same MSRs.\n.PP\nNote that --hwp-desired and --hwp-window are considered experimental.\nFuture versions of Linux reserve the right to access these\nfields internally -- potentially conflicting with user-space access.\n.SH EXAMPLE\n.nf\n# sudo x86_energy_perf_policy\ncpu0: EPB 6\ncpu0: HWP_REQ: min 6 max 35 des 0 epp 128 window 0x0 (0*10^0us) use_pkg 0\ncpu0: HWP_CAP: low 1 eff 8 guar 27 high 35\ncpu1: EPB 6\ncpu1: HWP_REQ: min 6 max 35 des 0 epp 128 window 0x0 (0*10^0us) use_pkg 0\ncpu1: HWP_CAP: low 1 eff 8 guar 27 high 35\ncpu2: EPB 6\ncpu2: HWP_REQ: min 6 max 35 des 0 epp 128 window 0x0 (0*10^0us) use_pkg 0\ncpu2: HWP_CAP: low 1 eff 8 guar 27 high 35\ncpu3: EPB 6\ncpu3: HWP_REQ: min 6 max 35 des 0 epp 128 window 0x0 (0*10^0us) use_pkg 0\ncpu3: HWP_CAP: low 1 eff 8 guar 27 high 35\n.fi\n.SH NOTES\n.B \"x86_energy_perf_policy\"\nruns only as root.\n.SH FILES\n.ta\n.nf\n/dev/cpu/*/msr\n.fi\n.SH \"SEE ALSO\"\n.nf\nmsr(4)\nIntel(R) 64 and IA-32 Architectures Software Developer's Manual\n.fi\n.PP\n.SH AUTHORS\n.nf\nLen Brown\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}