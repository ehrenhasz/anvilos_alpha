{
  "module_name": "bootgraph.8",
  "hash_id": "bc34470d3b626a2bd1d47dc1a6ea6e1abfb64796179d168666863ceac8b122ad",
  "original_prompt": "Ingested from linux-6.6.14/tools/power/pm-graph/bootgraph.8",
  "human_readable_source": ".TH BOOTGRAPH 8\n.SH NAME\nbootgraph \\- Kernel boot timing analysis\n.SH SYNOPSIS\n.ft B\n.B bootgraph\n.RB [ OPTIONS ]\n.RB [ COMMAND ]\n.SH DESCRIPTION\n\\fBbootgraph \\fP reads the dmesg log from kernel boot and\ncreates an html representation of the initcall timeline. It graphs\nevery module init call found, through both kernel and user modes. The\ntimeline is split into two phases: kernel mode & user mode. kernel mode\nrepresents a single process run on a single cpu with serial init calls.\nOnce user mode begins, the init process is called, and the init calls\nstart working in parallel.\n.PP\nIf no specific command is given, the tool reads the current dmesg log and\noutputs a new timeline.\n.PP\nThe tool can also augment the timeline with ftrace data on custom target\nfunctions as well as full trace callgraphs.\n.PP\nGenerates output files in subdirectory: boot-yymmdd-HHMMSS\n   html timeline   :     <hostname>_boot.html\n   raw dmesg file  :     <hostname>_boot_dmesg.txt\n   raw ftrace file :     <hostname>_boot_ftrace.txt\n.SH OPTIONS\n.TP\n\\fB-h\\fR\nPrint this help text\n.TP\n\\fB-v\\fR\nPrint the current tool version\n.TP\n\\fB-addlogs\\fR\nAdd the dmesg log to the html output. It will be viewable by\nclicking a button in the timeline.\n.TP\n\\fB-result \\fIfile\\fR\nExport a results table to a text file for parsing.\n.TP\n\\fB-o \\fIname\\fR\nOverrides the output subdirectory name when running a new test.\nUse {date}, {time}, {hostname} for current values.\n.sp\ne.g. boot-{hostname}-{date}-{time}\n.SS \"advanced\"\n.TP\n\\fB-f or -callgraph\\fR\nUse ftrace to create initcall callgraphs (default: disabled). If -func\nis not used there will be one callgraph per initcall. This can produce\nvery large outputs, i.e. 10MB - 100MB.\n.TP\n\\fB-fstat\\fR\nUse ftrace to add function detail (default: disabled)\n.TP\n\\fB-maxdepth \\fIlevel\\fR\nlimit the callgraph trace depth to \\fIlevel\\fR (default: 2). This is\nthe best way to limit the output size when using -callgraph.\n.TP\n\\fB-mincg \\fIt\\fR\nDiscard all callgraphs shorter than \\fIt\\fR milliseconds (default: 0=all).\nThis reduces the html file size as there can be many tiny callgraphs\nwhich are barely visible in the timeline.\nThe value is a float: e.g. 0.001 represents 1 us.\n.TP\n\\fB-cgfilter \\fI\"func1,func2,...\"\\fR\nReduce callgraph output in the timeline by limiting it to a list of calls. The\nargument can be a single function name or a comma delimited list.\n(default: none)\n.TP\n\\fB-cgskip \\fIfile\\fR\nReduce callgraph output in the timeline by skipping over uninteresting\nfunctions in the trace, e.g. printk or console_unlock. The functions listed\nin this file will show up as empty leaves in the callgraph with only the start/end\ntimes displayed.\n(default: none)\n.TP\n\\fB-timeprec \\fIn\\fR\nNumber of significant digits in timestamps (0:S, 3:ms, [6:us])\n.TP\n\\fB-expandcg\\fR\npre-expand the callgraph data in the html output (default: disabled)\n.TP\n\\fB-func \\fI\"func1,func2,...\"\\fR\nInstead of tracing each initcall, trace a custom list of functions (default: do_one_initcall)\n.TP\n\\fB-reboot\\fR\nReboot the machine and generate a new timeline automatically. Works in 4 steps.\n  1. updates grub with the required kernel parameters\n  2. installs a cron job which re-runs the tool after reboot\n  3. reboots the system\n  4. after startup, extracts the data and generates the timeline\n.TP\n\\fB-manual\\fR\nShow the requirements to generate a new timeline manually. Requires 3 steps.\n  1. append the string to the kernel command line via your native boot manager.\n  2. reboot the system\n  3. after startup, re-run the tool with the same arguments and no command\n\n.SH COMMANDS\n.SS \"rebuild\"\n.TP\n\\fB-dmesg \\fIfile\\fR\nCreate HTML output from an existing dmesg file.\n.TP\n\\fB-ftrace \\fIfile\\fR\nCreate HTML output from an existing ftrace file (used with -dmesg).\n.SS \"other\"\n.TP\n\\fB-flistall\\fR\nPrint all ftrace functions capable of being captured. These are all the\npossible values you can add to trace via the -func argument.\n.TP\n\\fB-sysinfo\\fR\nPrint out system info extracted from BIOS. Reads /dev/mem directly instead of going through dmidecode.\n\n.SH EXAMPLES\nCreate a timeline using the current dmesg log.\n.IP\n\\f(CW$ bootgraph\\fR\n.PP\nCreate a timeline using the current dmesg and ftrace log.\n.IP\n\\f(CW$ bootgraph -callgraph\\fR\n.PP\nCreate a timeline using the current dmesg, add the log to the html and change the folder.\n.IP\n\\f(CW$ bootgraph -addlogs -o \"myboot-{date}-{time}\"\\fR\n.PP\nCapture a new boot timeline by automatically rebooting the machine.\n.IP\n\\f(CW$ sudo bootgraph -reboot -addlogs -o \"latest-{hostname)\"\\fR\n.PP\nCapture a new boot timeline with function trace data.\n.IP\n\\f(CW$ sudo bootgraph -reboot -f\\fR\n.PP\nCapture a new boot timeline with trace & callgraph data. Skip callgraphs smaller than 5ms.\n.IP\n\\f(CW$ sudo bootgraph -reboot -callgraph -mincg 5\\fR\n.PP\nCapture a new boot timeline with callgraph data over custom functions.\n.IP\n\\f(CW$ sudo bootgraph -reboot -callgraph -func \"acpi_ps_parse_aml,msleep\"\\fR\n.PP\nCapture a brand new boot timeline with manual reboot.\n.IP\n\\f(CW$ sudo bootgraph -callgraph -manual\\fR\n.IP\n\\f(CW$ vi /etc/default/grub      # add the CMDLINE string to your kernel params\\fR\n.IP\n\\f(CW$ sudo reboot               # reboot the machine\\fR\n.IP\n\\f(CW$ sudo bootgraph -callgraph # re-run the tool after restart\\fR\n.PP\n.SS \"rebuild timeline from logs\"\n.PP\nRebuild the html from a previous run's logs, using the same options.\n.IP\n\\f(CW$ bootgraph -dmesg dmesg.txt -ftrace ftrace.txt -callgraph\\fR\n.PP\nRebuild the html with different options.\n.IP\n\\f(CW$ bootgraph -dmesg dmesg.txt -ftrace ftrace.txt -addlogs\\fR\n\n.SH \"SEE ALSO\"\ndmesg(1), update-grub(8), crontab(1), reboot(8)\n.PP\n.SH AUTHOR\n.nf\nWritten by Todd Brandt <todd.e.brandt@linux.intel.com>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}