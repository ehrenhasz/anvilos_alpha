{
  "module_name": "cpupower-completion.sh",
  "hash_id": "04f831f2b433eb04cf223eca03d0d213a0f486e45f952817c340043d91b03586",
  "original_prompt": "Ingested from linux-6.6.14/tools/power/cpupower/cpupower-completion.sh",
  "human_readable_source": "# -*- shell-script -*-\n# bash completion script for cpupower\n# Taken from git.git's completion script.\n\n_cpupower_commands=\"frequency-info frequency-set idle-info idle-set set info monitor\"\n\n_frequency_info ()\n{\n\tlocal flags=\"-f -w -l -d -p -g -a -s -y -o -m -n --freq --hwfreq --hwlimits --driver --policy --governors --related-cpus --affected-cpus --stats --latency --proc --human --no-rounding\"\n\tlocal prev=\"${COMP_WORDS[COMP_CWORD-1]}\"\n\tlocal cur=\"${COMP_WORDS[COMP_CWORD]}\"\n\tcase \"$prev\" in\n\t\tfrequency-info) COMPREPLY=($(compgen -W \"$flags\" -- \"$cur\")) ;;\n\tesac\n}\n\n_frequency_set ()\n{\n\tlocal flags=\"-f -g --freq --governor -d --min -u --max -r --related\"\n\tlocal prev=\"${COMP_WORDS[COMP_CWORD-1]}\"\n\tlocal cur=\"${COMP_WORDS[COMP_CWORD]}\"\n\tcase \"$prev\" in\n\t\t-f| --freq | -d | --min | -u | --max)\n\t\tif [ -d /sys/devices/system/cpu/cpufreq/ ] ; then\n\t\t\tCOMPREPLY=($(compgen -W '$(cat $(ls -d /sys/devices/system/cpu/cpufreq/policy* | head -1)/scaling_available_frequencies)' -- \"$cur\"))\n\t\tfi ;;\n\t\t-g| --governor)\n\t\tif [ -d /sys/devices/system/cpu/cpufreq/ ] ; then\n\t\t\tCOMPREPLY=($(compgen -W '$(cat $(ls -d /sys/devices/system/cpu/cpufreq/policy* | head -1)/scaling_available_governors)' -- \"$cur\"))\n\t\tfi;;\n\t\tfrequency-set) COMPREPLY=($(compgen -W \"$flags\" -- \"$cur\")) ;;\n\tesac\n}\n\n_idle_info()\n{\n\tlocal flags=\"-f --silent\"\n\tlocal prev=\"${COMP_WORDS[COMP_CWORD-1]}\"\n\tlocal cur=\"${COMP_WORDS[COMP_CWORD]}\"\n\tcase \"$prev\" in\n\t\tidle-info) COMPREPLY=($(compgen -W \"$flags\" -- \"$cur\")) ;;\n\tesac\n}\n\n_idle_set()\n{\n\tlocal flags=\"-d --disable -e --enable -D --disable-by-latency -E --enable-all\"\n\tlocal prev=\"${COMP_WORDS[COMP_CWORD-1]}\"\n\tlocal cur=\"${COMP_WORDS[COMP_CWORD]}\"\n\tcase \"$prev\" in\n\t\tidle-set) COMPREPLY=($(compgen -W \"$flags\" -- \"$cur\")) ;;\n\tesac\n}\n\n_set()\n{\n\tlocal flags=\"--perf-bias, -b\"\n\tlocal prev=\"${COMP_WORDS[COMP_CWORD-1]}\"\n\tlocal cur=\"${COMP_WORDS[COMP_CWORD]}\"\n\tcase \"$prev\" in\n\t\tset) COMPREPLY=($(compgen -W \"$flags\" -- \"$cur\")) ;;\n\tesac\n}\n\n_monitor()\n{\n\tlocal flags=\"-l -m -i -c -v\"\n\tlocal prev=\"${COMP_WORDS[COMP_CWORD-1]}\"\n\tlocal cur=\"${COMP_WORDS[COMP_CWORD]}\"\n\tcase \"$prev\" in\n\t\tmonitor) COMPREPLY=($(compgen -W \"$flags\" -- \"$cur\")) ;;\n\tesac\n}\n\n_taskset()\n{\n\tlocal prev_to_prev=\"${COMP_WORDS[COMP_CWORD-2]}\"\n\tlocal prev=\"${COMP_WORDS[COMP_CWORD-1]}\"\n\tlocal cur=\"${COMP_WORDS[COMP_CWORD]}\"\n\tcase \"$prev_to_prev\" in\n\t\t-c|--cpu) COMPREPLY=($(compgen -W \"$_cpupower_commands\" -- \"$cur\")) ;;\n\tesac\n\tcase \"$prev\" in\n\t\tfrequency-info) _frequency_info ;;\n\t\tfrequency-set) _frequency_set ;;\n\t\tidle-info) _idle_info ;;\n\t\tidle-set) _idle_set ;;\n\t\tset) _set ;;\n\t\tmonitor) _monitor ;;\n\tesac\n\n}\n\n_cpupower ()\n{\n\tlocal i\n\tlocal c=1\n\tlocal command\n\n\twhile test $c -lt $COMP_CWORD; do\n\t\tif test $c == 1; then\n\t\t\tcommand=\"${COMP_WORDS[c]}\"\n\t\tfi\n\t\tc=$((++c))\n\tdone\n\n\t# Complete name of subcommand if the user has not finished typing it yet.\n\tif test $c -eq $COMP_CWORD -a -z \"$command\"; then\n\t\tCOMPREPLY=($(compgen -W \"help -v --version -c --cpu $_cpupower_commands\" -- \"${COMP_WORDS[COMP_CWORD]}\"))\n\t\treturn\n\tfi\n\n\t# Complete arguments to subcommands.\n\tcase \"$command\" in\n\t\t-v|--version) return ;;\n\t\t-c|--cpu) _taskset ;;\n\t\thelp) COMPREPLY=($(compgen -W \"$_cpupower_commands\" -- \"${COMP_WORDS[COMP_CWORD]}\")) ;;\n\t\tfrequency-info) _frequency_info ;;\n\t\tfrequency-set) _frequency_set ;;\n\t\tidle-info) _idle_info ;;\n\t\tidle-set) _idle_set ;;\n\t\tset) _set ;;\n\t\tmonitor) _monitor ;;\n\tesac\n}\n\ncomplete -o bashdefault -o default -F _cpupower cpupower 2>/dev/null \\\n    || complete -o default -F _cpupower cpupower\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}