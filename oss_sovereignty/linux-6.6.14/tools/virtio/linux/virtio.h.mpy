{
  "module_name": "virtio.h",
  "hash_id": "b63b697240af2a918208f31030a83a5e266e6bde22fd32734e4fd720397ee9f2",
  "original_prompt": "Ingested from linux-6.6.14/tools/virtio/linux/virtio.h",
  "human_readable_source": " \n#ifndef LINUX_VIRTIO_H\n#define LINUX_VIRTIO_H\n#include <linux/scatterlist.h>\n#include <linux/kernel.h>\n#include <linux/spinlock.h>\n\nstruct device {\n\tvoid *parent;\n};\n\nstruct virtio_device {\n\tstruct device dev;\n\tu64 features;\n\tstruct list_head vqs;\n\tspinlock_t vqs_list_lock;\n\tconst struct virtio_config_ops *config;\n};\n\nstruct virtqueue {\n\tstruct list_head list;\n\tvoid (*callback)(struct virtqueue *vq);\n\tconst char *name;\n\tstruct virtio_device *vdev;\n        unsigned int index;\n        unsigned int num_free;\n\tunsigned int num_max;\n\tvoid *priv;\n\tbool reset;\n};\n\n \nint virtqueue_add_sgs(struct virtqueue *vq,\n\t\t      struct scatterlist *sgs[],\n\t\t      unsigned int out_sgs,\n\t\t      unsigned int in_sgs,\n\t\t      void *data,\n\t\t      gfp_t gfp);\n\nint virtqueue_add_outbuf(struct virtqueue *vq,\n\t\t\t struct scatterlist sg[], unsigned int num,\n\t\t\t void *data,\n\t\t\t gfp_t gfp);\n\nint virtqueue_add_inbuf(struct virtqueue *vq,\n\t\t\tstruct scatterlist sg[], unsigned int num,\n\t\t\tvoid *data,\n\t\t\tgfp_t gfp);\n\nbool virtqueue_kick(struct virtqueue *vq);\n\nvoid *virtqueue_get_buf(struct virtqueue *vq, unsigned int *len);\n\nvoid virtqueue_disable_cb(struct virtqueue *vq);\n\nbool virtqueue_enable_cb(struct virtqueue *vq);\nbool virtqueue_enable_cb_delayed(struct virtqueue *vq);\n\nvoid *virtqueue_detach_unused_buf(struct virtqueue *vq);\nstruct virtqueue *vring_new_virtqueue(unsigned int index,\n\t\t\t\t      unsigned int num,\n\t\t\t\t      unsigned int vring_align,\n\t\t\t\t      struct virtio_device *vdev,\n\t\t\t\t      bool weak_barriers,\n\t\t\t\t      bool ctx,\n\t\t\t\t      void *pages,\n\t\t\t\t      bool (*notify)(struct virtqueue *vq),\n\t\t\t\t      void (*callback)(struct virtqueue *vq),\n\t\t\t\t      const char *name);\nvoid vring_del_virtqueue(struct virtqueue *vq);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}