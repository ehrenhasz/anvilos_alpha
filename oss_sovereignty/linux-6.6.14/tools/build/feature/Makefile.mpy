{
  "module_name": "Makefile",
  "hash_id": "5ee4f880c7865cadf1e6c56a7179ed38770c1737389bab45fb5260d4dd46ec51",
  "original_prompt": "Ingested from linux-6.6.14/tools/build/feature/Makefile",
  "human_readable_source": "# SPDX-License-Identifier: GPL-2.0\ninclude ../../scripts/Makefile.include\n\nFILES=                                          \\\n         test-all.bin                           \\\n         test-backtrace.bin                     \\\n         test-bionic.bin                        \\\n         test-dwarf.bin                         \\\n         test-dwarf_getlocations.bin            \\\n         test-eventfd.bin                       \\\n         test-fortify-source.bin                \\\n         test-get_current_dir_name.bin          \\\n         test-glibc.bin                         \\\n         test-gtk2.bin                          \\\n         test-gtk2-infobar.bin                  \\\n         test-hello.bin                         \\\n         test-libaudit.bin                      \\\n         test-libbfd.bin                        \\\n         test-libbfd-buildid.bin\t\t\\\n         test-disassembler-four-args.bin        \\\n         test-disassembler-init-styled.bin\t\\\n         test-reallocarray.bin\t\t\t\\\n         test-libbfd-liberty.bin                \\\n         test-libbfd-liberty-z.bin              \\\n         test-cplus-demangle.bin                \\\n         test-cxa-demangle.bin                  \\\n         test-libcap.bin\t\t\t\\\n         test-libelf.bin                        \\\n         test-libelf-getphdrnum.bin             \\\n         test-libelf-gelf_getnote.bin           \\\n         test-libelf-getshdrstrndx.bin          \\\n         test-libdebuginfod.bin                 \\\n         test-libnuma.bin                       \\\n         test-numa_num_possible_cpus.bin        \\\n         test-libperl.bin                       \\\n         test-libpython.bin                     \\\n         test-libslang.bin                      \\\n         test-libslang-include-subdir.bin       \\\n         test-libtraceevent.bin                 \\\n         test-libtracefs.bin                    \\\n         test-libcrypto.bin                     \\\n         test-libunwind.bin                     \\\n         test-libunwind-debug-frame.bin         \\\n         test-libunwind-x86.bin                 \\\n         test-libunwind-x86_64.bin              \\\n         test-libunwind-arm.bin                 \\\n         test-libunwind-aarch64.bin             \\\n         test-libunwind-debug-frame-arm.bin     \\\n         test-libunwind-debug-frame-aarch64.bin \\\n         test-pthread-attr-setaffinity-np.bin   \\\n         test-pthread-barrier.bin\t\t\\\n         test-stackprotector-all.bin            \\\n         test-timerfd.bin                       \\\n         test-libdw-dwarf-unwind.bin            \\\n         test-libbabeltrace.bin                 \\\n         test-compile-32.bin                    \\\n         test-compile-x32.bin                   \\\n         test-zlib.bin                          \\\n         test-lzma.bin                          \\\n         test-bpf.bin                           \\\n         test-libbpf.bin                        \\\n         test-get_cpuid.bin                     \\\n         test-sdt.bin                           \\\n         test-cxx.bin                           \\\n         test-gettid.bin\t\t\t\\\n         test-jvmti.bin\t\t\t\t\\\n         test-jvmti-cmlr.bin\t\t\t\\\n         test-scandirat.bin\t\t\t\\\n         test-sched_getcpu.bin\t\t\t\\\n         test-setns.bin\t\t\t\t\\\n         test-libopencsd.bin\t\t\t\\\n         test-clang.bin\t\t\t\t\\\n         test-llvm.bin\t\t\t\t\\\n         test-llvm-version.bin\t\t\t\\\n         test-libaio.bin\t\t\t\\\n         test-libzstd.bin\t\t\t\\\n         test-clang-bpf-co-re.bin\t\t\\\n         test-file-handle.bin\t\t\t\\\n         test-libpfm4.bin\n\nFILES := $(addprefix $(OUTPUT),$(FILES))\n\nPKG_CONFIG ?= $(CROSS_COMPILE)pkg-config\n\nall: $(FILES)\n\n__BUILD = $(CC) $(CFLAGS) -MD -Wall -Werror -o $@ $(patsubst %.bin,%.c,$(@F)) $(LDFLAGS)\n  BUILD = $(__BUILD) > $(@:.bin=.make.output) 2>&1\n  BUILD_BFD = $(BUILD) -DPACKAGE='\"perf\"' -lbfd -ldl\n  BUILD_ALL = $(BUILD) -fstack-protector-all -O2 -D_FORTIFY_SOURCE=2 -ldw -lelf -lnuma -lelf -lslang $(FLAGS_PERL_EMBED) $(FLAGS_PYTHON_EMBED) -DPACKAGE='\"perf\"' -lbfd -ldl -lz -llzma -lzstd -lcap\n\n__BUILDXX = $(CXX) $(CXXFLAGS) -MD -Wall -Werror -o $@ $(patsubst %.bin,%.cpp,$(@F)) $(LDFLAGS)\n  BUILDXX = $(__BUILDXX) > $(@:.bin=.make.output) 2>&1\n\n###############################\n\n$(OUTPUT)test-all.bin:\n\t$(BUILD_ALL) || $(BUILD_ALL) -lopcodes -liberty\n\n$(OUTPUT)test-hello.bin:\n\t$(BUILD)\n\n$(OUTPUT)test-pthread-attr-setaffinity-np.bin:\n\t$(BUILD) -D_GNU_SOURCE -lpthread\n\n$(OUTPUT)test-pthread-barrier.bin:\n\t$(BUILD) -lpthread\n\n$(OUTPUT)test-stackprotector-all.bin:\n\t$(BUILD) -fstack-protector-all\n\n$(OUTPUT)test-fortify-source.bin:\n\t$(BUILD) -O2 -D_FORTIFY_SOURCE=2\n\n$(OUTPUT)test-bionic.bin:\n\t$(BUILD)\n\n$(OUTPUT)test-libcap.bin:\n\t$(BUILD) -lcap\n\n$(OUTPUT)test-libelf.bin:\n\t$(BUILD) -lelf\n\n$(OUTPUT)test-eventfd.bin:\n\t$(BUILD)\n\n$(OUTPUT)test-get_current_dir_name.bin:\n\t$(BUILD)\n\n$(OUTPUT)test-glibc.bin:\n\t$(BUILD)\n\n$(OUTPUT)test-scandirat.bin:\n\t$(BUILD)\n\n$(OUTPUT)test-sched_getcpu.bin:\n\t$(BUILD)\n\n$(OUTPUT)test-setns.bin:\n\t$(BUILD)\n\n$(OUTPUT)test-libopencsd.bin:\n\t$(BUILD) # -lopencsd_c_api -lopencsd provided by\n\t\t # $(FEATURE_CHECK_LDFLAGS-libopencsd)\n\nDWARFLIBS := -ldw\nifeq ($(findstring -static,${LDFLAGS}),-static)\nDWARFLIBS += -lelf -lebl -lz -llzma -lbz2\nendif\n\n$(OUTPUT)test-dwarf.bin:\n\t$(BUILD) $(DWARFLIBS)\n\n$(OUTPUT)test-dwarf_getlocations.bin:\n\t$(BUILD) $(DWARFLIBS)\n\n$(OUTPUT)test-libelf-getphdrnum.bin:\n\t$(BUILD) -lelf\n\n$(OUTPUT)test-libelf-gelf_getnote.bin:\n\t$(BUILD) -lelf\n\n$(OUTPUT)test-libelf-getshdrstrndx.bin:\n\t$(BUILD) -lelf\n\n$(OUTPUT)test-libdebuginfod.bin:\n\t$(BUILD) -ldebuginfod\n\n$(OUTPUT)test-libnuma.bin:\n\t$(BUILD) -lnuma\n\n$(OUTPUT)test-numa_num_possible_cpus.bin:\n\t$(BUILD) -lnuma\n\n$(OUTPUT)test-libunwind.bin:\n\t$(BUILD) -lelf\n\n$(OUTPUT)test-libunwind-debug-frame.bin:\n\t$(BUILD) -lelf\n$(OUTPUT)test-libunwind-x86.bin:\n\t$(BUILD) -lelf -lunwind-x86\n\n$(OUTPUT)test-libunwind-x86_64.bin:\n\t$(BUILD) -lelf -lunwind-x86_64\n\n$(OUTPUT)test-libunwind-arm.bin:\n\t$(BUILD) -lelf -lunwind-arm\n\n$(OUTPUT)test-libunwind-aarch64.bin:\n\t$(BUILD) -lelf -lunwind-aarch64\n\n$(OUTPUT)test-libunwind-debug-frame-arm.bin:\n\t$(BUILD) -lelf -lunwind-arm\n\n$(OUTPUT)test-libunwind-debug-frame-aarch64.bin:\n\t$(BUILD) -lelf -lunwind-aarch64\n\n$(OUTPUT)test-libaudit.bin:\n\t$(BUILD) -laudit\n\n$(OUTPUT)test-libslang.bin:\n\t$(BUILD) -lslang\n\n$(OUTPUT)test-libslang-include-subdir.bin:\n\t$(BUILD) -lslang\n\n$(OUTPUT)test-libtraceevent.bin:\n\t$(BUILD) -ltraceevent\n\n$(OUTPUT)test-libtracefs.bin:\n\t $(BUILD) $(shell $(PKG_CONFIG) --cflags libtraceevent 2>/dev/null) -ltracefs\n\n$(OUTPUT)test-libcrypto.bin:\n\t$(BUILD) -lcrypto\n\n$(OUTPUT)test-gtk2.bin:\n\t$(BUILD) $(shell $(PKG_CONFIG) --libs --cflags gtk+-2.0 2>/dev/null) -Wno-deprecated-declarations\n\n$(OUTPUT)test-gtk2-infobar.bin:\n\t$(BUILD) $(shell $(PKG_CONFIG) --libs --cflags gtk+-2.0 2>/dev/null)\n\ngrep-libs  = $(filter -l%,$(1))\nstrip-libs = $(filter-out -l%,$(1))\n\nPERL_EMBED_LDOPTS = $(shell perl -MExtUtils::Embed -e ldopts 2>/dev/null)\nPERL_EMBED_LDFLAGS = $(call strip-libs,$(PERL_EMBED_LDOPTS))\nPERL_EMBED_LIBADD = $(call grep-libs,$(PERL_EMBED_LDOPTS))\nPERL_EMBED_CCOPTS = $(shell perl -MExtUtils::Embed -e ccopts 2>/dev/null)\nFLAGS_PERL_EMBED=$(PERL_EMBED_CCOPTS) $(PERL_EMBED_LDOPTS)\n\nifeq ($(CC_NO_CLANG), 0)\n  PERL_EMBED_LDOPTS := $(filter-out -specs=%,$(PERL_EMBED_LDOPTS))\n  PERL_EMBED_CCOPTS := $(filter-out -flto=auto -ffat-lto-objects, $(PERL_EMBED_CCOPTS))\n  PERL_EMBED_CCOPTS := $(filter-out -specs=%,$(PERL_EMBED_CCOPTS))\n  FLAGS_PERL_EMBED += -Wno-compound-token-split-by-macro\nendif\n\n$(OUTPUT)test-libperl.bin:\n\t$(BUILD) $(FLAGS_PERL_EMBED)\n\n$(OUTPUT)test-libpython.bin:\n\t$(BUILD) $(FLAGS_PYTHON_EMBED)\n\n$(OUTPUT)test-libbfd.bin:\n\t$(BUILD_BFD)\n\n$(OUTPUT)test-libbfd-buildid.bin:\n\t$(BUILD_BFD) || $(BUILD_BFD) -liberty || $(BUILD_BFD) -liberty -lz\n\n$(OUTPUT)test-disassembler-four-args.bin:\n\t$(BUILD_BFD) -lopcodes || $(BUILD_BFD) -lopcodes -liberty || \\\n\t$(BUILD_BFD) -lopcodes -liberty -lz\n\n$(OUTPUT)test-disassembler-init-styled.bin:\n\t$(BUILD_BFD) -lopcodes || $(BUILD_BFD) -lopcodes -liberty || \\\n\t$(BUILD_BFD) -lopcodes -liberty -lz\n\n$(OUTPUT)test-reallocarray.bin:\n\t$(BUILD)\n\n$(OUTPUT)test-libbfd-liberty.bin:\n\t$(CC) $(CFLAGS) -Wall -Werror -o $@ test-libbfd.c -DPACKAGE='\"perf\"' $(LDFLAGS) -lbfd -ldl -liberty\n\n$(OUTPUT)test-libbfd-liberty-z.bin:\n\t$(CC) $(CFLAGS) -Wall -Werror -o $@ test-libbfd.c -DPACKAGE='\"perf\"' $(LDFLAGS) -lbfd -ldl -liberty -lz\n\n$(OUTPUT)test-cplus-demangle.bin:\n\t$(BUILD) -liberty\n\n$(OUTPUT)test-cxa-demangle.bin:\n\t$(BUILDXX)\n\n$(OUTPUT)test-backtrace.bin:\n\t$(BUILD)\n\n$(OUTPUT)test-timerfd.bin:\n\t$(BUILD)\n\n$(OUTPUT)test-libdw-dwarf-unwind.bin:\n\t$(BUILD) # -ldw provided by $(FEATURE_CHECK_LDFLAGS-libdw-dwarf-unwind)\n\n$(OUTPUT)test-libbabeltrace.bin:\n\t$(BUILD) # -lbabeltrace provided by $(FEATURE_CHECK_LDFLAGS-libbabeltrace)\n\n$(OUTPUT)test-compile-32.bin:\n\t$(CC) -m32 -o $@ test-compile.c\n\n$(OUTPUT)test-compile-x32.bin:\n\t$(CC) -mx32 -o $@ test-compile.c\n\n$(OUTPUT)test-zlib.bin:\n\t$(BUILD) -lz\n\n$(OUTPUT)test-lzma.bin:\n\t$(BUILD) -llzma\n\n$(OUTPUT)test-get_cpuid.bin:\n\t$(BUILD)\n\n$(OUTPUT)test-bpf.bin:\n\t$(BUILD)\n\n$(OUTPUT)test-libbpf.bin:\n\t$(BUILD) -lbpf\n\n$(OUTPUT)test-libbpf-btf__load_from_kernel_by_id.bin:\n\t$(BUILD) -lbpf\n\n$(OUTPUT)test-libbpf-bpf_prog_load.bin:\n\t$(BUILD) -lbpf\n\n$(OUTPUT)test-libbpf-bpf_map_create.bin:\n\t$(BUILD) -lbpf\n\n$(OUTPUT)test-libbpf-bpf_object__next_program.bin:\n\t$(BUILD) -lbpf\n\n$(OUTPUT)test-libbpf-bpf_object__next_map.bin:\n\t$(BUILD) -lbpf\n\n$(OUTPUT)test-libbpf-bpf_program__set_insns.bin:\n\t$(BUILD) -lbpf\n\n$(OUTPUT)test-libbpf-btf__raw_data.bin:\n\t$(BUILD) -lbpf\n\n$(OUTPUT)test-sdt.bin:\n\t$(BUILD)\n\n$(OUTPUT)test-cxx.bin:\n\t$(BUILDXX) -std=gnu++11\n\n$(OUTPUT)test-gettid.bin:\n\t$(BUILD)\n\n$(OUTPUT)test-jvmti.bin:\n\t$(BUILD)\n\n$(OUTPUT)test-jvmti-cmlr.bin:\n\t$(BUILD)\n\n$(OUTPUT)test-llvm.bin:\n\t$(BUILDXX) -std=gnu++17 \t\t\t\t\\\n\t\t-I$(shell $(LLVM_CONFIG) --includedir) \t\t\\\n\t\t-L$(shell $(LLVM_CONFIG) --libdir)\t\t\\\n\t\t$(shell $(LLVM_CONFIG) --libs Core BPF)\t\t\\\n\t\t$(shell $(LLVM_CONFIG) --system-libs)\t\t\\\n\t\t> $(@:.bin=.make.output) 2>&1\n\n$(OUTPUT)test-llvm-version.bin:\n\t$(BUILDXX) -std=gnu++17\t\t\t\t\t\\\n\t\t-I$(shell $(LLVM_CONFIG) --includedir)\t\t\\\n\t\t> $(@:.bin=.make.output) 2>&1\n\n$(OUTPUT)test-clang.bin:\n\t$(BUILDXX) -std=gnu++17\t\t\t\t\t\\\n\t\t-I$(shell $(LLVM_CONFIG) --includedir) \t\t\\\n\t\t-L$(shell $(LLVM_CONFIG) --libdir)\t\t\\\n\t\t-Wl,--start-group -lclang-cpp -Wl,--end-group\t\\\n\t\t$(shell $(LLVM_CONFIG) --libs Core option)\t\\\n\t\t$(shell $(LLVM_CONFIG) --system-libs)\t\t\\\n\t\t> $(@:.bin=.make.output) 2>&1\n\n-include $(OUTPUT)*.d\n\n$(OUTPUT)test-libaio.bin:\n\t$(BUILD) -lrt\n\n$(OUTPUT)test-libzstd.bin:\n\t$(BUILD) -lzstd\n\n$(OUTPUT)test-clang-bpf-co-re.bin:\n\t$(CLANG) -S -g --target=bpf -o - $(patsubst %.bin,%.c,$(@F)) |\t\\\n\t\tgrep BTF_KIND_VAR\n\n$(OUTPUT)test-file-handle.bin:\n\t$(BUILD)\n\n$(OUTPUT)test-libpfm4.bin:\n\t$(BUILD) -lpfm\n\n###############################\n\nclean:\n\trm -f $(FILES) $(OUTPUT)*.d $(FILES:.bin=.make.output)\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}