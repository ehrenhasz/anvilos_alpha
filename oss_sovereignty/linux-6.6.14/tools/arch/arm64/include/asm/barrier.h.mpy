{
  "module_name": "barrier.h",
  "hash_id": "0bdc386cfa8796b757e536b87bf0b71f7de649c47b87d13d563781f25647abff",
  "original_prompt": "Ingested from linux-6.6.14/tools/arch/arm64/include/asm/barrier.h",
  "human_readable_source": " \n#ifndef _TOOLS_LINUX_ASM_AARCH64_BARRIER_H\n#define _TOOLS_LINUX_ASM_AARCH64_BARRIER_H\n\n \n\n#define mb()\t\tasm volatile(\"dmb ish\" ::: \"memory\")\n#define wmb()\t\tasm volatile(\"dmb ishst\" ::: \"memory\")\n#define rmb()\t\tasm volatile(\"dmb ishld\" ::: \"memory\")\n\n \n#define smp_mb()\tasm volatile(\"dmb ish\" ::: \"memory\")\n#define smp_wmb()\tasm volatile(\"dmb ishst\" ::: \"memory\")\n#define smp_rmb()\tasm volatile(\"dmb ishld\" ::: \"memory\")\n\n#define smp_store_release(p, v)\t\t\t\t\t\t\\\ndo {\t\t\t\t\t\t\t\t\t\\\n\tunion { typeof(*p) __val; char __c[1]; } __u =\t\t\t\\\n\t\t{ .__val = (v) }; \t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\tswitch (sizeof(*p)) {\t\t\t\t\t\t\\\n\tcase 1:\t\t\t\t\t\t\t\t\\\n\t\tasm volatile (\"stlrb %w1, %0\"\t\t\t\t\\\n\t\t\t\t: \"=Q\" (*p)\t\t\t\t\\\n\t\t\t\t: \"r\" (*(__u8_alias_t *)__u.__c)\t\\\n\t\t\t\t: \"memory\");\t\t\t\t\\\n\t\tbreak;\t\t\t\t\t\t\t\\\n\tcase 2:\t\t\t\t\t\t\t\t\\\n\t\tasm volatile (\"stlrh %w1, %0\"\t\t\t\t\\\n\t\t\t\t: \"=Q\" (*p)\t\t\t\t\\\n\t\t\t\t: \"r\" (*(__u16_alias_t *)__u.__c)\t\\\n\t\t\t\t: \"memory\");\t\t\t\t\\\n\t\tbreak;\t\t\t\t\t\t\t\\\n\tcase 4:\t\t\t\t\t\t\t\t\\\n\t\tasm volatile (\"stlr %w1, %0\"\t\t\t\t\\\n\t\t\t\t: \"=Q\" (*p)\t\t\t\t\\\n\t\t\t\t: \"r\" (*(__u32_alias_t *)__u.__c)\t\\\n\t\t\t\t: \"memory\");\t\t\t\t\\\n\t\tbreak;\t\t\t\t\t\t\t\\\n\tcase 8:\t\t\t\t\t\t\t\t\\\n\t\tasm volatile (\"stlr %1, %0\"\t\t\t\t\\\n\t\t\t\t: \"=Q\" (*p)\t\t\t\t\\\n\t\t\t\t: \"r\" (*(__u64_alias_t *)__u.__c)\t\\\n\t\t\t\t: \"memory\");\t\t\t\t\\\n\t\tbreak;\t\t\t\t\t\t\t\\\n\tdefault:\t\t\t\t\t\t\t\\\n\t\t \t\t\t\t\\\n\t\tmb();\t\t\t\t\t\t\t\\\n\t\tbreak;\t\t\t\t\t\t\t\\\n\t}\t\t\t\t\t\t\t\t\\\n} while (0)\n\n#define smp_load_acquire(p)\t\t\t\t\t\t\\\n({\t\t\t\t\t\t\t\t\t\\\n\tunion { typeof(*p) __val; char __c[1]; } __u =\t\t\t\\\n\t\t{ .__c = { 0 } };\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\tswitch (sizeof(*p)) {\t\t\t\t\t\t\\\n\tcase 1:\t\t\t\t\t\t\t\t\\\n\t\tasm volatile (\"ldarb %w0, %1\"\t\t\t\t\\\n\t\t\t: \"=r\" (*(__u8_alias_t *)__u.__c)\t\t\\\n\t\t\t: \"Q\" (*p) : \"memory\");\t\t\t\t\\\n\t\tbreak;\t\t\t\t\t\t\t\\\n\tcase 2:\t\t\t\t\t\t\t\t\\\n\t\tasm volatile (\"ldarh %w0, %1\"\t\t\t\t\\\n\t\t\t: \"=r\" (*(__u16_alias_t *)__u.__c)\t\t\\\n\t\t\t: \"Q\" (*p) : \"memory\");\t\t\t\t\\\n\t\tbreak;\t\t\t\t\t\t\t\\\n\tcase 4:\t\t\t\t\t\t\t\t\\\n\t\tasm volatile (\"ldar %w0, %1\"\t\t\t\t\\\n\t\t\t: \"=r\" (*(__u32_alias_t *)__u.__c)\t\t\\\n\t\t\t: \"Q\" (*p) : \"memory\");\t\t\t\t\\\n\t\tbreak;\t\t\t\t\t\t\t\\\n\tcase 8:\t\t\t\t\t\t\t\t\\\n\t\tasm volatile (\"ldar %0, %1\"\t\t\t\t\\\n\t\t\t: \"=r\" (*(__u64_alias_t *)__u.__c)\t\t\\\n\t\t\t: \"Q\" (*p) : \"memory\");\t\t\t\t\\\n\t\tbreak;\t\t\t\t\t\t\t\\\n\tdefault:\t\t\t\t\t\t\t\\\n\t\t \t\t\t\t\\\n\t\tmb();\t\t\t\t\t\t\t\\\n\t\tbreak;\t\t\t\t\t\t\t\\\n\t}\t\t\t\t\t\t\t\t\\\n\t__u.__val;\t\t\t\t\t\t\t\\\n})\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}