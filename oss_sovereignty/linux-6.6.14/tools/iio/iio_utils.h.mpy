{
  "module_name": "iio_utils.h",
  "hash_id": "fd2b3e00db069b2614ed130e0b19f0e3b887253340db15f1fd1a20a38672aab3",
  "original_prompt": "Ingested from linux-6.6.14/tools/iio/iio_utils.h",
  "human_readable_source": " \n#ifndef _IIO_UTILS_H_\n#define _IIO_UTILS_H_\n\n \n\n#include <stdint.h>\n\n \n#define IIO_MAX_NAME_LENGTH 64\n\n#define FORMAT_SCAN_ELEMENTS_DIR \"%s/buffer%d\"\n#define FORMAT_EVENTS_DIR \"%s/events\"\n#define FORMAT_TYPE_FILE \"%s_type\"\n\n#define ARRAY_SIZE(arr) (sizeof(arr) / sizeof(arr[0]))\n\nextern const char *iio_dir;\n\n \nstruct iio_channel_info {\n\tchar *name;\n\tchar *generic_name;\n\tfloat scale;\n\tfloat offset;\n\tunsigned index;\n\tunsigned bytes;\n\tunsigned bits_used;\n\tunsigned shift;\n\tuint64_t mask;\n\tunsigned be;\n\tunsigned is_signed;\n\tunsigned location;\n};\n\nstatic inline int iioutils_check_suffix(const char *str, const char *suffix)\n{\n\treturn strlen(str) >= strlen(suffix) &&\n\t\tstrncmp(str+strlen(str)-strlen(suffix),\n\t\t\tsuffix, strlen(suffix)) == 0;\n}\n\nint iioutils_break_up_name(const char *full_name, char **generic_name);\nint iioutils_get_param_float(float *output, const char *param_name,\n\t\t\t     const char *device_dir, const char *name,\n\t\t\t     const char *generic_name);\nvoid bsort_channel_array_by_index(struct iio_channel_info *ci_array, int cnt);\nint build_channel_array(const char *device_dir, int buffer_idx,\n\t\t\tstruct iio_channel_info **ci_array, int *counter);\nint find_type_by_name(const char *name, const char *type);\nint write_sysfs_int(const char *filename, const char *basedir, int val);\nint write_sysfs_int_and_verify(const char *filename, const char *basedir,\n\t\t\t       int val);\nint write_sysfs_string_and_verify(const char *filename, const char *basedir,\n\t\t\t\t  const char *val);\nint write_sysfs_string(const char *filename, const char *basedir,\n\t\t       const char *val);\nint read_sysfs_posint(const char *filename, const char *basedir);\nint read_sysfs_float(const char *filename, const char *basedir, float *val);\nint read_sysfs_string(const char *filename, const char *basedir, char *str);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}