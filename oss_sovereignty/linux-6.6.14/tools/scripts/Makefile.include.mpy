{
  "module_name": "Makefile.include",
  "hash_id": "ce0519a50e8723de857456d6e7dab51cb622bcb67b28be64bb397b900b5e6f74",
  "original_prompt": "Ingested from linux-6.6.14/tools/scripts/Makefile.include",
  "human_readable_source": "# SPDX-License-Identifier: GPL-2.0\nifneq ($(O),)\nifeq ($(origin O), command line)\n\tdummy := $(if $(shell cd $(PWD); test -d $(O) || echo $(O)),$(error O=$(O) does not exist),)\n\tABSOLUTE_O := $(shell cd $(PWD); cd $(O) ; pwd)\n\tOUTPUT := $(ABSOLUTE_O)/$(if $(subdir),$(subdir)/)\n\tCOMMAND_O := O=$(ABSOLUTE_O)\nifeq ($(objtree),)\n\tobjtree := $(O)\nendif\nendif\nendif\n\n# check that the output directory actually exists\nifneq ($(OUTPUT),)\nOUTDIR := $(shell cd $(OUTPUT) && pwd)\n$(if $(OUTDIR),, $(error output directory \"$(OUTPUT)\" does not exist))\nendif\n\n#\n# Include saner warnings here, which can catch bugs:\n#\nEXTRA_WARNINGS := -Wbad-function-cast\nEXTRA_WARNINGS += -Wdeclaration-after-statement\nEXTRA_WARNINGS += -Wformat-security\nEXTRA_WARNINGS += -Wformat-y2k\nEXTRA_WARNINGS += -Winit-self\nEXTRA_WARNINGS += -Wmissing-declarations\nEXTRA_WARNINGS += -Wmissing-prototypes\nEXTRA_WARNINGS += -Wnested-externs\nEXTRA_WARNINGS += -Wno-system-headers\nEXTRA_WARNINGS += -Wold-style-definition\nEXTRA_WARNINGS += -Wpacked\nEXTRA_WARNINGS += -Wredundant-decls\nEXTRA_WARNINGS += -Wstrict-prototypes\nEXTRA_WARNINGS += -Wswitch-default\nEXTRA_WARNINGS += -Wswitch-enum\nEXTRA_WARNINGS += -Wundef\nEXTRA_WARNINGS += -Wwrite-strings\nEXTRA_WARNINGS += -Wformat\nEXTRA_WARNINGS += -Wno-type-limits\n\n# Makefiles suck: This macro sets a default value of $(2) for the\n# variable named by $(1), unless the variable has been set by\n# environment or command line. This is necessary for CC and AR\n# because make sets default values, so the simpler ?= approach\n# won't work as expected.\ndefine allow-override\n  $(if $(or $(findstring environment,$(origin $(1))),\\\n            $(findstring command line,$(origin $(1)))),,\\\n    $(eval $(1) = $(2)))\nendef\n\nifneq ($(LLVM),)\nifneq ($(filter %/,$(LLVM)),)\nLLVM_PREFIX := $(LLVM)\nelse ifneq ($(filter -%,$(LLVM)),)\nLLVM_SUFFIX := $(LLVM)\nendif\n\n$(call allow-override,CC,$(LLVM_PREFIX)clang$(LLVM_SUFFIX))\n$(call allow-override,AR,$(LLVM_PREFIX)llvm-ar$(LLVM_SUFFIX))\n$(call allow-override,LD,$(LLVM_PREFIX)ld.lld$(LLVM_SUFFIX))\n$(call allow-override,CXX,$(LLVM_PREFIX)clang++$(LLVM_SUFFIX))\n$(call allow-override,STRIP,$(LLVM_PREFIX)llvm-strip$(LLVM_SUFFIX))\nelse\n# Allow setting various cross-compile vars or setting CROSS_COMPILE as a prefix.\n$(call allow-override,CC,$(CROSS_COMPILE)gcc)\n$(call allow-override,AR,$(CROSS_COMPILE)ar)\n$(call allow-override,LD,$(CROSS_COMPILE)ld)\n$(call allow-override,CXX,$(CROSS_COMPILE)g++)\n$(call allow-override,STRIP,$(CROSS_COMPILE)strip)\nendif\n\nCC_NO_CLANG := $(shell $(CC) -dM -E -x c /dev/null | grep -Fq \"__clang__\"; echo $$?)\n\nifneq ($(LLVM),)\nHOSTAR  ?= $(LLVM_PREFIX)llvm-ar$(LLVM_SUFFIX)\nHOSTCC  ?= $(LLVM_PREFIX)clang$(LLVM_SUFFIX)\nHOSTLD  ?= $(LLVM_PREFIX)ld.lld$(LLVM_SUFFIX)\nelse\nHOSTAR  ?= ar\nHOSTCC  ?= gcc\nHOSTLD  ?= ld\nendif\n\n# Some tools require Clang, LLC and/or LLVM utils\nCLANG\t\t?= clang\nLLC\t\t?= llc\nLLVM_CONFIG\t?= llvm-config\nLLVM_OBJCOPY\t?= llvm-objcopy\nLLVM_STRIP\t?= llvm-strip\n\nifeq ($(CC_NO_CLANG), 1)\nEXTRA_WARNINGS += -Wstrict-aliasing=3\n\nelse ifneq ($(CROSS_COMPILE),)\n# Allow userspace to override CLANG_CROSS_FLAGS to specify their own\n# sysroots and flags or to avoid the GCC call in pure Clang builds.\nifeq ($(CLANG_CROSS_FLAGS),)\nCLANG_CROSS_FLAGS := --target=$(notdir $(CROSS_COMPILE:%-=%))\nGCC_TOOLCHAIN_DIR := $(dir $(shell which $(CROSS_COMPILE)gcc 2>/dev/null))\nifneq ($(GCC_TOOLCHAIN_DIR),)\nCLANG_CROSS_FLAGS += --prefix=$(GCC_TOOLCHAIN_DIR)$(notdir $(CROSS_COMPILE))\nCLANG_CROSS_FLAGS += --sysroot=$(shell $(CROSS_COMPILE)gcc -print-sysroot)\nCLANG_CROSS_FLAGS += --gcc-toolchain=$(realpath $(GCC_TOOLCHAIN_DIR)/..)\nendif # GCC_TOOLCHAIN_DIR\nendif # CLANG_CROSS_FLAGS\nCFLAGS += $(CLANG_CROSS_FLAGS)\nAFLAGS += $(CLANG_CROSS_FLAGS)\nelse\nCLANG_CROSS_FLAGS :=\nendif # CROSS_COMPILE\n\n# Hack to avoid type-punned warnings on old systems such as RHEL5:\n# We should be changing CFLAGS and checking gcc version, but this\n# will do for now and keep the above -Wstrict-aliasing=3 in place\n# in newer systems.\n# Needed for the __raw_cmpxchg in tools/arch/x86/include/asm/cmpxchg.h\n#\n# See https://lore.kernel.org/lkml/9a8748490611281710g78402fbeh8ff7fcc162dbcbca@mail.gmail.com/\n# and https://gcc.gnu.org/gcc-4.8/changes.html,\n# that takes into account Linus's comments (search for Wshadow) for the reasoning about\n# -Wshadow not being interesting before gcc 4.8.\n\nifneq ($(filter 3.%,$(MAKE_VERSION)),)  # make-3\nEXTRA_WARNINGS += -fno-strict-aliasing\nEXTRA_WARNINGS += -Wno-shadow\nelse\nEXTRA_WARNINGS += -Wshadow\nendif\n\nifneq ($(findstring $(MAKEFLAGS), w),w)\nPRINT_DIR = --no-print-directory\nelse\nNO_SUBDIR = :\nendif\n\nifneq ($(findstring s,$(filter-out --%,$(MAKEFLAGS))),)\n  silent=1\nendif\n\n#\n# Define a callable command for descending to a new directory\n#\n# Call by doing: $(call descend,directory[,target])\n#\ndescend = \\\n\t+mkdir -p $(OUTPUT)$(1) && \\\n\t$(MAKE) $(COMMAND_O) subdir=$(if $(subdir),$(subdir)/$(1),$(1)) $(PRINT_DIR) -C $(1) $(2)\n\nQUIET_SUBDIR0  = +$(MAKE) $(COMMAND_O) -C # space to separate -C and subdir\nQUIET_SUBDIR1  =\n\nifneq ($(silent),1)\n  ifneq ($(V),1)\n\tQUIET_CC       = @echo '  CC      '$@;\n\tQUIET_CC_FPIC  = @echo '  CC FPIC '$@;\n\tQUIET_CLANG    = @echo '  CLANG   '$@;\n\tQUIET_AR       = @echo '  AR      '$@;\n\tQUIET_LINK     = @echo '  LINK    '$@;\n\tQUIET_MKDIR    = @echo '  MKDIR   '$@;\n\tQUIET_GEN      = @echo '  GEN     '$@;\n\tQUIET_SUBDIR0  = +@subdir=\n\tQUIET_SUBDIR1  = ;$(NO_SUBDIR) \\\n\t\t\t  echo '  SUBDIR  '$$subdir; \\\n\t\t\t $(MAKE) $(PRINT_DIR) -C $$subdir\n\tQUIET_FLEX     = @echo '  FLEX    '$@;\n\tQUIET_BISON    = @echo '  BISON   '$@;\n\tQUIET_GENSKEL  = @echo '  GENSKEL '$@;\n\n\tdescend = \\\n\t\t+@echo\t       '  DESCEND '$(1); \\\n\t\tmkdir -p $(OUTPUT)$(1) && \\\n\t\t$(MAKE) $(COMMAND_O) subdir=$(if $(subdir),$(subdir)/$(1),$(1)) $(PRINT_DIR) -C $(1) $(2)\n\n\tQUIET_CLEAN    = @printf '  CLEAN   %s\\n' $1;\n\tQUIET_INSTALL  = @printf '  INSTALL %s\\n' $1;\n\tQUIET_UNINST   = @printf '  UNINST  %s\\n' $1;\n  endif\nendif\n\npound := \\#\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}