{
  "module_name": "log.h",
  "hash_id": "80a2de9da588cafaeeda91dce01cf5fd8449fc32e326a4cd72b346c43c352c95",
  "original_prompt": "Ingested from linux-6.6.14/net/batman-adv/log.h",
  "human_readable_source": " \n \n\n#ifndef _NET_BATMAN_ADV_LOG_H_\n#define _NET_BATMAN_ADV_LOG_H_\n\n#include \"main.h\"\n\n#include <linux/atomic.h>\n#include <linux/bitops.h>\n#include <linux/compiler.h>\n#include <linux/printk.h>\n\n#ifdef CONFIG_BATMAN_ADV_DEBUG\n\nint batadv_debug_log_setup(struct batadv_priv *bat_priv);\nvoid batadv_debug_log_cleanup(struct batadv_priv *bat_priv);\n\n#else\n\nstatic inline int batadv_debug_log_setup(struct batadv_priv *bat_priv)\n{\n\treturn 0;\n}\n\nstatic inline void batadv_debug_log_cleanup(struct batadv_priv *bat_priv)\n{\n}\n\n#endif\n\n \nenum batadv_dbg_level {\n\t \n\tBATADV_DBG_BATMAN\t= BIT(0),\n\n\t \n\tBATADV_DBG_ROUTES\t= BIT(1),\n\n\t \n\tBATADV_DBG_TT\t\t= BIT(2),\n\n\t \n\tBATADV_DBG_BLA\t\t= BIT(3),\n\n\t \n\tBATADV_DBG_DAT\t\t= BIT(4),\n\n\t \n\tBATADV_DBG_NC\t\t= BIT(5),\n\n\t \n\tBATADV_DBG_MCAST\t= BIT(6),\n\n\t \n\tBATADV_DBG_TP_METER\t= BIT(7),\n\n\t \n\tBATADV_DBG_ALL\t\t= 255,\n};\n\n#ifdef CONFIG_BATMAN_ADV_DEBUG\nint batadv_debug_log(struct batadv_priv *bat_priv, const char *fmt, ...)\n__printf(2, 3);\n\n \n#define _batadv_dbg(type, bat_priv, ratelimited, fmt, arg...)\t\t\\\n\tdo {\t\t\t\t\t\t\t\t\\\n\t\tstruct batadv_priv *__batpriv = (bat_priv);\t\t\\\n\t\tif (atomic_read(&__batpriv->log_level) & (type) &&\t\\\n\t\t    (!(ratelimited) || net_ratelimit()))\t\t\\\n\t\t\tbatadv_debug_log(__batpriv, fmt, ## arg);\t\\\n\t}\t\t\t\t\t\t\t\t\\\n\twhile (0)\n#else  \n__printf(4, 5)\nstatic inline void _batadv_dbg(int type __always_unused,\n\t\t\t       struct batadv_priv *bat_priv __always_unused,\n\t\t\t       int ratelimited __always_unused,\n\t\t\t       const char *fmt __always_unused, ...)\n{\n}\n#endif\n\n \n#define batadv_dbg(type, bat_priv, arg...) \\\n\t_batadv_dbg(type, bat_priv, 0, ## arg)\n\n \n#define batadv_dbg_ratelimited(type, bat_priv, arg...) \\\n\t_batadv_dbg(type, bat_priv, 1, ## arg)\n\n \n#define batadv_info(net_dev, fmt, arg...)\t\t\t\t\\\n\tdo {\t\t\t\t\t\t\t\t\\\n\t\tstruct net_device *_netdev = (net_dev);                 \\\n\t\tstruct batadv_priv *_batpriv = netdev_priv(_netdev);    \\\n\t\tbatadv_dbg(BATADV_DBG_ALL, _batpriv, fmt, ## arg);\t\\\n\t\tpr_info(\"%s: \" fmt, _netdev->name, ## arg);\t\t\\\n\t} while (0)\n\n \n#define batadv_err(net_dev, fmt, arg...)\t\t\t\t\\\n\tdo {\t\t\t\t\t\t\t\t\\\n\t\tstruct net_device *_netdev = (net_dev);                 \\\n\t\tstruct batadv_priv *_batpriv = netdev_priv(_netdev);    \\\n\t\tbatadv_dbg(BATADV_DBG_ALL, _batpriv, fmt, ## arg);\t\\\n\t\tpr_err(\"%s: \" fmt, _netdev->name, ## arg);\t\t\\\n\t} while (0)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}