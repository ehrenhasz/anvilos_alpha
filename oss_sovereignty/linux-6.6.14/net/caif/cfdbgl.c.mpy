{
  "module_name": "cfdbgl.c",
  "hash_id": "990335a2db5e8a9f6354e3b25f47a8ca835823ec868581ab4dacaa3b12a180b0",
  "original_prompt": "Ingested from linux-6.6.14/net/caif/cfdbgl.c",
  "human_readable_source": "\n \n\n#define pr_fmt(fmt) KBUILD_MODNAME \":%s(): \" fmt, __func__\n\n#include <linux/stddef.h>\n#include <linux/slab.h>\n#include <net/caif/caif_layer.h>\n#include <net/caif/cfsrvl.h>\n#include <net/caif/cfpkt.h>\n\n#define container_obj(layr) ((struct cfsrvl *) layr)\n\nstatic int cfdbgl_receive(struct cflayer *layr, struct cfpkt *pkt);\nstatic int cfdbgl_transmit(struct cflayer *layr, struct cfpkt *pkt);\n\nstruct cflayer *cfdbgl_create(u8 channel_id, struct dev_info *dev_info)\n{\n\tstruct cfsrvl *dbg = kzalloc(sizeof(struct cfsrvl), GFP_ATOMIC);\n\tif (!dbg)\n\t\treturn NULL;\n\tcaif_assert(offsetof(struct cfsrvl, layer) == 0);\n\tcfsrvl_init(dbg, channel_id, dev_info, false);\n\tdbg->layer.receive = cfdbgl_receive;\n\tdbg->layer.transmit = cfdbgl_transmit;\n\tsnprintf(dbg->layer.name, CAIF_LAYER_NAME_SZ, \"dbg%d\", channel_id);\n\treturn &dbg->layer;\n}\n\nstatic int cfdbgl_receive(struct cflayer *layr, struct cfpkt *pkt)\n{\n\treturn layr->up->receive(layr->up, pkt);\n}\n\nstatic int cfdbgl_transmit(struct cflayer *layr, struct cfpkt *pkt)\n{\n\tstruct cfsrvl *service = container_obj(layr);\n\tstruct caif_payload_info *info;\n\tint ret;\n\n\tif (!cfsrvl_ready(service, &ret)) {\n\t\tcfpkt_destroy(pkt);\n\t\treturn ret;\n\t}\n\n\t \n\tinfo = cfpkt_info(pkt);\n\tinfo->channel_id = service->layer.id;\n\tinfo->dev_info = &service->dev_info;\n\n\treturn layr->dn->transmit(layr->dn, pkt);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}