{
  "module_name": "rate.h",
  "hash_id": "896ed8273fc9587aa6105efbd803830f3fefac6257efa052b95b28718eaba12a",
  "original_prompt": "Ingested from linux-6.6.14/net/mac80211/rate.h",
  "human_readable_source": " \n \n\n#ifndef IEEE80211_RATE_H\n#define IEEE80211_RATE_H\n\n#include <linux/netdevice.h>\n#include <linux/skbuff.h>\n#include <linux/types.h>\n#include <net/mac80211.h>\n#include \"ieee80211_i.h\"\n#include \"sta_info.h\"\n#include \"driver-ops.h\"\n\nstruct rate_control_ref {\n\tconst struct rate_control_ops *ops;\n\tvoid *priv;\n};\n\nvoid rate_control_get_rate(struct ieee80211_sub_if_data *sdata,\n\t\t\t   struct sta_info *sta,\n\t\t\t   struct ieee80211_tx_rate_control *txrc);\n\nvoid rate_control_tx_status(struct ieee80211_local *local,\n\t\t\t    struct ieee80211_tx_status *st);\n\nvoid rate_control_rate_init(struct sta_info *sta);\nvoid rate_control_rate_update(struct ieee80211_local *local,\n\t\t\t      struct ieee80211_supported_band *sband,\n\t\t\t      struct sta_info *sta,\n\t\t\t      unsigned int link_id,\n\t\t\t      u32 changed);\n\nstatic inline void *rate_control_alloc_sta(struct rate_control_ref *ref,\n\t\t\t\t\t   struct sta_info *sta, gfp_t gfp)\n{\n\tspin_lock_init(&sta->rate_ctrl_lock);\n\treturn ref->ops->alloc_sta(ref->priv, &sta->sta, gfp);\n}\n\nstatic inline void rate_control_free_sta(struct sta_info *sta)\n{\n\tstruct rate_control_ref *ref = sta->rate_ctrl;\n\tstruct ieee80211_sta *ista = &sta->sta;\n\tvoid *priv_sta = sta->rate_ctrl_priv;\n\n\tref->ops->free_sta(ref->priv, ista, priv_sta);\n}\n\nstatic inline void rate_control_add_sta_debugfs(struct sta_info *sta)\n{\n#ifdef CONFIG_MAC80211_DEBUGFS\n\tstruct rate_control_ref *ref = sta->rate_ctrl;\n\tif (ref && sta->debugfs_dir && ref->ops->add_sta_debugfs)\n\t\tref->ops->add_sta_debugfs(ref->priv, sta->rate_ctrl_priv,\n\t\t\t\t\t  sta->debugfs_dir);\n#endif\n}\n\nextern const struct file_operations rcname_ops;\n\nstatic inline void rate_control_add_debugfs(struct ieee80211_local *local)\n{\n#ifdef CONFIG_MAC80211_DEBUGFS\n\tstruct dentry *debugfsdir;\n\n\tif (!local->rate_ctrl)\n\t\treturn;\n\n\tif (!local->rate_ctrl->ops->add_debugfs)\n\t\treturn;\n\n\tdebugfsdir = debugfs_create_dir(\"rc\", local->hw.wiphy->debugfsdir);\n\tlocal->debugfs.rcdir = debugfsdir;\n\tdebugfs_create_file(\"name\", 0400, debugfsdir,\n\t\t\t    local->rate_ctrl, &rcname_ops);\n\n\tlocal->rate_ctrl->ops->add_debugfs(&local->hw, local->rate_ctrl->priv,\n\t\t\t\t\t   debugfsdir);\n#endif\n}\n\nvoid ieee80211_check_rate_mask(struct ieee80211_link_data *link);\n\n \nint ieee80211_init_rate_ctrl_alg(struct ieee80211_local *local,\n\t\t\t\t const char *name);\nvoid rate_control_deinitialize(struct ieee80211_local *local);\n\n\n \n#ifdef CONFIG_MAC80211_RC_MINSTREL\nint rc80211_minstrel_init(void);\nvoid rc80211_minstrel_exit(void);\n#else\nstatic inline int rc80211_minstrel_init(void)\n{\n\treturn 0;\n}\nstatic inline void rc80211_minstrel_exit(void)\n{\n}\n#endif\n\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}