{
  "module_name": "trace.h",
  "hash_id": "11dcd4f5a3545f8fa4d73b58dafd10022fa5a83d3f4c647b54aec6b1a99df0d0",
  "original_prompt": "Ingested from linux-6.6.14/net/dsa/trace.h",
  "human_readable_source": " \n\n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM\tdsa\n\n#if !defined(_NET_DSA_TRACE_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _NET_DSA_TRACE_H\n\n#include <net/dsa.h>\n#include <net/switchdev.h>\n#include <linux/etherdevice.h>\n#include <linux/if_bridge.h>\n#include <linux/refcount.h>\n#include <linux/tracepoint.h>\n\n \n#define DSA_DB_BUFSIZ\t(IFNAMSIZ + 16)\n\nvoid dsa_db_print(const struct dsa_db *db, char buf[DSA_DB_BUFSIZ]);\nconst char *dsa_port_kind(const struct dsa_port *dp);\n\nDECLARE_EVENT_CLASS(dsa_port_addr_op_hw,\n\n\tTP_PROTO(const struct dsa_port *dp, const unsigned char *addr, u16 vid,\n\t\t const struct dsa_db *db, int err),\n\n\tTP_ARGS(dp, addr, vid, db, err),\n\n\tTP_STRUCT__entry(\n\t\t__string(dev, dev_name(dp->ds->dev))\n\t\t__string(kind, dsa_port_kind(dp))\n\t\t__field(int, port)\n\t\t__array(unsigned char, addr, ETH_ALEN)\n\t\t__field(u16, vid)\n\t\t__array(char, db_buf, DSA_DB_BUFSIZ)\n\t\t__field(int, err)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(dev, dev_name(dp->ds->dev));\n\t\t__assign_str(kind, dsa_port_kind(dp));\n\t\t__entry->port = dp->index;\n\t\tether_addr_copy(__entry->addr, addr);\n\t\t__entry->vid = vid;\n\t\tdsa_db_print(db, __entry->db_buf);\n\t\t__entry->err = err;\n\t),\n\n\tTP_printk(\"%s %s port %d addr %pM vid %u db \\\"%s\\\" err %d\",\n\t\t  __get_str(dev), __get_str(kind), __entry->port, __entry->addr,\n\t\t  __entry->vid, __entry->db_buf, __entry->err)\n);\n\n \nDEFINE_EVENT(dsa_port_addr_op_hw, dsa_fdb_add_hw,\n\t     TP_PROTO(const struct dsa_port *dp, const unsigned char *addr,\n\t\t      u16 vid, const struct dsa_db *db, int err),\n\t     TP_ARGS(dp, addr, vid, db, err));\n\nDEFINE_EVENT(dsa_port_addr_op_hw, dsa_mdb_add_hw,\n\t     TP_PROTO(const struct dsa_port *dp, const unsigned char *addr,\n\t\t      u16 vid, const struct dsa_db *db, int err),\n\t     TP_ARGS(dp, addr, vid, db, err));\n\n \nDEFINE_EVENT(dsa_port_addr_op_hw, dsa_fdb_del_hw,\n\t     TP_PROTO(const struct dsa_port *dp, const unsigned char *addr,\n\t\t      u16 vid, const struct dsa_db *db, int err),\n\t     TP_ARGS(dp, addr, vid, db, err));\n\nDEFINE_EVENT(dsa_port_addr_op_hw, dsa_mdb_del_hw,\n\t     TP_PROTO(const struct dsa_port *dp, const unsigned char *addr,\n\t\t      u16 vid, const struct dsa_db *db, int err),\n\t     TP_ARGS(dp, addr, vid, db, err));\n\nDECLARE_EVENT_CLASS(dsa_port_addr_op_refcount,\n\n\tTP_PROTO(const struct dsa_port *dp, const unsigned char *addr, u16 vid,\n\t\t const struct dsa_db *db, const refcount_t *refcount),\n\n\tTP_ARGS(dp, addr, vid, db, refcount),\n\n\tTP_STRUCT__entry(\n\t\t__string(dev, dev_name(dp->ds->dev))\n\t\t__string(kind, dsa_port_kind(dp))\n\t\t__field(int, port)\n\t\t__array(unsigned char, addr, ETH_ALEN)\n\t\t__field(u16, vid)\n\t\t__array(char, db_buf, DSA_DB_BUFSIZ)\n\t\t__field(unsigned int, refcount)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(dev, dev_name(dp->ds->dev));\n\t\t__assign_str(kind, dsa_port_kind(dp));\n\t\t__entry->port = dp->index;\n\t\tether_addr_copy(__entry->addr, addr);\n\t\t__entry->vid = vid;\n\t\tdsa_db_print(db, __entry->db_buf);\n\t\t__entry->refcount = refcount_read(refcount);\n\t),\n\n\tTP_printk(\"%s %s port %d addr %pM vid %u db \\\"%s\\\" refcount %u\",\n\t\t  __get_str(dev), __get_str(kind), __entry->port, __entry->addr,\n\t\t  __entry->vid, __entry->db_buf, __entry->refcount)\n);\n\n \nDEFINE_EVENT(dsa_port_addr_op_refcount, dsa_fdb_add_bump,\n\t     TP_PROTO(const struct dsa_port *dp, const unsigned char *addr,\n\t\t      u16 vid, const struct dsa_db *db,\n\t\t      const refcount_t *refcount),\n\t     TP_ARGS(dp, addr, vid, db, refcount));\n\nDEFINE_EVENT(dsa_port_addr_op_refcount, dsa_mdb_add_bump,\n\t     TP_PROTO(const struct dsa_port *dp, const unsigned char *addr,\n\t\t      u16 vid, const struct dsa_db *db,\n\t\t      const refcount_t *refcount),\n\t     TP_ARGS(dp, addr, vid, db, refcount));\n\n \nDEFINE_EVENT(dsa_port_addr_op_refcount, dsa_fdb_del_drop,\n\t     TP_PROTO(const struct dsa_port *dp, const unsigned char *addr,\n\t\t      u16 vid, const struct dsa_db *db,\n\t\t      const refcount_t *refcount),\n\t     TP_ARGS(dp, addr, vid, db, refcount));\n\nDEFINE_EVENT(dsa_port_addr_op_refcount, dsa_mdb_del_drop,\n\t     TP_PROTO(const struct dsa_port *dp, const unsigned char *addr,\n\t\t      u16 vid, const struct dsa_db *db,\n\t\t      const refcount_t *refcount),\n\t     TP_ARGS(dp, addr, vid, db, refcount));\n\nDECLARE_EVENT_CLASS(dsa_port_addr_del_not_found,\n\n\tTP_PROTO(const struct dsa_port *dp, const unsigned char *addr, u16 vid,\n\t\t const struct dsa_db *db),\n\n\tTP_ARGS(dp, addr, vid, db),\n\n\tTP_STRUCT__entry(\n\t\t__string(dev, dev_name(dp->ds->dev))\n\t\t__string(kind, dsa_port_kind(dp))\n\t\t__field(int, port)\n\t\t__array(unsigned char, addr, ETH_ALEN)\n\t\t__field(u16, vid)\n\t\t__array(char, db_buf, DSA_DB_BUFSIZ)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(dev, dev_name(dp->ds->dev));\n\t\t__assign_str(kind, dsa_port_kind(dp));\n\t\t__entry->port = dp->index;\n\t\tether_addr_copy(__entry->addr, addr);\n\t\t__entry->vid = vid;\n\t\tdsa_db_print(db, __entry->db_buf);\n\t),\n\n\tTP_printk(\"%s %s port %d addr %pM vid %u db \\\"%s\\\"\",\n\t\t  __get_str(dev), __get_str(kind), __entry->port,\n\t\t  __entry->addr, __entry->vid, __entry->db_buf)\n);\n\n \nDEFINE_EVENT(dsa_port_addr_del_not_found, dsa_fdb_del_not_found,\n\t     TP_PROTO(const struct dsa_port *dp, const unsigned char *addr,\n\t\t      u16 vid, const struct dsa_db *db),\n\t     TP_ARGS(dp, addr, vid, db));\n\nDEFINE_EVENT(dsa_port_addr_del_not_found, dsa_mdb_del_not_found,\n\t     TP_PROTO(const struct dsa_port *dp, const unsigned char *addr,\n\t\t      u16 vid, const struct dsa_db *db),\n\t     TP_ARGS(dp, addr, vid, db));\n\nTRACE_EVENT(dsa_lag_fdb_add_hw,\n\n\tTP_PROTO(const struct net_device *lag_dev, const unsigned char *addr,\n\t\t u16 vid, const struct dsa_db *db, int err),\n\n\tTP_ARGS(lag_dev, addr, vid, db, err),\n\n\tTP_STRUCT__entry(\n\t\t__string(dev, lag_dev->name)\n\t\t__array(unsigned char, addr, ETH_ALEN)\n\t\t__field(u16, vid)\n\t\t__array(char, db_buf, DSA_DB_BUFSIZ)\n\t\t__field(int, err)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(dev, lag_dev->name);\n\t\tether_addr_copy(__entry->addr, addr);\n\t\t__entry->vid = vid;\n\t\tdsa_db_print(db, __entry->db_buf);\n\t\t__entry->err = err;\n\t),\n\n\tTP_printk(\"%s addr %pM vid %u db \\\"%s\\\" err %d\",\n\t\t  __get_str(dev), __entry->addr, __entry->vid,\n\t\t  __entry->db_buf, __entry->err)\n);\n\nTRACE_EVENT(dsa_lag_fdb_add_bump,\n\n\tTP_PROTO(const struct net_device *lag_dev, const unsigned char *addr,\n\t\t u16 vid, const struct dsa_db *db, const refcount_t *refcount),\n\n\tTP_ARGS(lag_dev, addr, vid, db, refcount),\n\n\tTP_STRUCT__entry(\n\t\t__string(dev, lag_dev->name)\n\t\t__array(unsigned char, addr, ETH_ALEN)\n\t\t__field(u16, vid)\n\t\t__array(char, db_buf, DSA_DB_BUFSIZ)\n\t\t__field(unsigned int, refcount)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(dev, lag_dev->name);\n\t\tether_addr_copy(__entry->addr, addr);\n\t\t__entry->vid = vid;\n\t\tdsa_db_print(db, __entry->db_buf);\n\t\t__entry->refcount = refcount_read(refcount);\n\t),\n\n\tTP_printk(\"%s addr %pM vid %u db \\\"%s\\\" refcount %u\",\n\t\t  __get_str(dev), __entry->addr, __entry->vid,\n\t\t  __entry->db_buf, __entry->refcount)\n);\n\nTRACE_EVENT(dsa_lag_fdb_del_hw,\n\n\tTP_PROTO(const struct net_device *lag_dev, const unsigned char *addr,\n\t\t u16 vid, const struct dsa_db *db, int err),\n\n\tTP_ARGS(lag_dev, addr, vid, db, err),\n\n\tTP_STRUCT__entry(\n\t\t__string(dev, lag_dev->name)\n\t\t__array(unsigned char, addr, ETH_ALEN)\n\t\t__field(u16, vid)\n\t\t__array(char, db_buf, DSA_DB_BUFSIZ)\n\t\t__field(int, err)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(dev, lag_dev->name);\n\t\tether_addr_copy(__entry->addr, addr);\n\t\t__entry->vid = vid;\n\t\tdsa_db_print(db, __entry->db_buf);\n\t\t__entry->err = err;\n\t),\n\n\tTP_printk(\"%s addr %pM vid %u db \\\"%s\\\" err %d\",\n\t\t  __get_str(dev), __entry->addr, __entry->vid,\n\t\t  __entry->db_buf, __entry->err)\n);\n\nTRACE_EVENT(dsa_lag_fdb_del_drop,\n\n\tTP_PROTO(const struct net_device *lag_dev, const unsigned char *addr,\n\t\t u16 vid, const struct dsa_db *db, const refcount_t *refcount),\n\n\tTP_ARGS(lag_dev, addr, vid, db, refcount),\n\n\tTP_STRUCT__entry(\n\t\t__string(dev, lag_dev->name)\n\t\t__array(unsigned char, addr, ETH_ALEN)\n\t\t__field(u16, vid)\n\t\t__array(char, db_buf, DSA_DB_BUFSIZ)\n\t\t__field(unsigned int, refcount)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(dev, lag_dev->name);\n\t\tether_addr_copy(__entry->addr, addr);\n\t\t__entry->vid = vid;\n\t\tdsa_db_print(db, __entry->db_buf);\n\t\t__entry->refcount = refcount_read(refcount);\n\t),\n\n\tTP_printk(\"%s addr %pM vid %u db \\\"%s\\\" refcount %u\",\n\t\t  __get_str(dev), __entry->addr, __entry->vid,\n\t\t  __entry->db_buf, __entry->refcount)\n);\n\nTRACE_EVENT(dsa_lag_fdb_del_not_found,\n\n\tTP_PROTO(const struct net_device *lag_dev, const unsigned char *addr,\n\t\t u16 vid, const struct dsa_db *db),\n\n\tTP_ARGS(lag_dev, addr, vid, db),\n\n\tTP_STRUCT__entry(\n\t\t__string(dev, lag_dev->name)\n\t\t__array(unsigned char, addr, ETH_ALEN)\n\t\t__field(u16, vid)\n\t\t__array(char, db_buf, DSA_DB_BUFSIZ)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(dev, lag_dev->name);\n\t\tether_addr_copy(__entry->addr, addr);\n\t\t__entry->vid = vid;\n\t\tdsa_db_print(db, __entry->db_buf);\n\t),\n\n\tTP_printk(\"%s addr %pM vid %u db \\\"%s\\\"\",\n\t\t  __get_str(dev), __entry->addr, __entry->vid, __entry->db_buf)\n);\n\nDECLARE_EVENT_CLASS(dsa_vlan_op_hw,\n\n\tTP_PROTO(const struct dsa_port *dp,\n\t\t const struct switchdev_obj_port_vlan *vlan, int err),\n\n\tTP_ARGS(dp, vlan, err),\n\n\tTP_STRUCT__entry(\n\t\t__string(dev, dev_name(dp->ds->dev))\n\t\t__string(kind, dsa_port_kind(dp))\n\t\t__field(int, port)\n\t\t__field(u16, vid)\n\t\t__field(u16, flags)\n\t\t__field(bool, changed)\n\t\t__field(int, err)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(dev, dev_name(dp->ds->dev));\n\t\t__assign_str(kind, dsa_port_kind(dp));\n\t\t__entry->port = dp->index;\n\t\t__entry->vid = vlan->vid;\n\t\t__entry->flags = vlan->flags;\n\t\t__entry->changed = vlan->changed;\n\t\t__entry->err = err;\n\t),\n\n\tTP_printk(\"%s %s port %d vid %u%s%s%s\",\n\t\t  __get_str(dev), __get_str(kind), __entry->port, __entry->vid,\n\t\t  __entry->flags & BRIDGE_VLAN_INFO_PVID ? \" pvid\" : \"\",\n\t\t  __entry->flags & BRIDGE_VLAN_INFO_UNTAGGED ? \" untagged\" : \"\",\n\t\t  __entry->changed ? \" (changed)\" : \"\")\n);\n\nDEFINE_EVENT(dsa_vlan_op_hw, dsa_vlan_add_hw,\n\t     TP_PROTO(const struct dsa_port *dp,\n\t\t      const struct switchdev_obj_port_vlan *vlan, int err),\n\t     TP_ARGS(dp, vlan, err));\n\nDEFINE_EVENT(dsa_vlan_op_hw, dsa_vlan_del_hw,\n\t     TP_PROTO(const struct dsa_port *dp,\n\t\t      const struct switchdev_obj_port_vlan *vlan, int err),\n\t     TP_ARGS(dp, vlan, err));\n\nDECLARE_EVENT_CLASS(dsa_vlan_op_refcount,\n\n\tTP_PROTO(const struct dsa_port *dp,\n\t\t const struct switchdev_obj_port_vlan *vlan,\n\t\t const refcount_t *refcount),\n\n\tTP_ARGS(dp, vlan, refcount),\n\n\tTP_STRUCT__entry(\n\t\t__string(dev, dev_name(dp->ds->dev))\n\t\t__string(kind, dsa_port_kind(dp))\n\t\t__field(int, port)\n\t\t__field(u16, vid)\n\t\t__field(u16, flags)\n\t\t__field(bool, changed)\n\t\t__field(unsigned int, refcount)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(dev, dev_name(dp->ds->dev));\n\t\t__assign_str(kind, dsa_port_kind(dp));\n\t\t__entry->port = dp->index;\n\t\t__entry->vid = vlan->vid;\n\t\t__entry->flags = vlan->flags;\n\t\t__entry->changed = vlan->changed;\n\t\t__entry->refcount = refcount_read(refcount);\n\t),\n\n\tTP_printk(\"%s %s port %d vid %u%s%s%s refcount %u\",\n\t\t  __get_str(dev), __get_str(kind), __entry->port, __entry->vid,\n\t\t  __entry->flags & BRIDGE_VLAN_INFO_PVID ? \" pvid\" : \"\",\n\t\t  __entry->flags & BRIDGE_VLAN_INFO_UNTAGGED ? \" untagged\" : \"\",\n\t\t  __entry->changed ? \" (changed)\" : \"\", __entry->refcount)\n);\n\nDEFINE_EVENT(dsa_vlan_op_refcount, dsa_vlan_add_bump,\n\t     TP_PROTO(const struct dsa_port *dp,\n\t\t      const struct switchdev_obj_port_vlan *vlan,\n\t\t      const refcount_t *refcount),\n\t     TP_ARGS(dp, vlan, refcount));\n\nDEFINE_EVENT(dsa_vlan_op_refcount, dsa_vlan_del_drop,\n\t     TP_PROTO(const struct dsa_port *dp,\n\t\t      const struct switchdev_obj_port_vlan *vlan,\n\t\t      const refcount_t *refcount),\n\t     TP_ARGS(dp, vlan, refcount));\n\nTRACE_EVENT(dsa_vlan_del_not_found,\n\n\tTP_PROTO(const struct dsa_port *dp,\n\t\t const struct switchdev_obj_port_vlan *vlan),\n\n\tTP_ARGS(dp, vlan),\n\n\tTP_STRUCT__entry(\n\t\t__string(dev, dev_name(dp->ds->dev))\n\t\t__string(kind, dsa_port_kind(dp))\n\t\t__field(int, port)\n\t\t__field(u16, vid)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(dev, dev_name(dp->ds->dev));\n\t\t__assign_str(kind, dsa_port_kind(dp));\n\t\t__entry->port = dp->index;\n\t\t__entry->vid = vlan->vid;\n\t),\n\n\tTP_printk(\"%s %s port %d vid %u\",\n\t\t  __get_str(dev), __get_str(kind), __entry->port, __entry->vid)\n);\n\n#endif  \n\n \n#undef TRACE_INCLUDE_PATH\n#define TRACE_INCLUDE_PATH .\n#undef TRACE_INCLUDE_FILE\n#define TRACE_INCLUDE_FILE\ttrace\n \n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}