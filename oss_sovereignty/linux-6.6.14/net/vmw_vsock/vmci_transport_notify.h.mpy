{
  "module_name": "vmci_transport_notify.h",
  "hash_id": "16a9d41cdbdf730b47be43bd6afe3ada3f149534c0b26f9c23d5fed57953caf7",
  "original_prompt": "Ingested from linux-6.6.14/net/vmw_vsock/vmci_transport_notify.h",
  "human_readable_source": " \n \n\n#ifndef __VMCI_TRANSPORT_NOTIFY_H__\n#define __VMCI_TRANSPORT_NOTIFY_H__\n\n#include <linux/types.h>\n#include <linux/vmw_vmci_defs.h>\n#include <linux/vmw_vmci_api.h>\n\n#include \"vmci_transport.h\"\n\n \n#define VSOCK_OPTIMIZATION_WAITING_NOTIFY 1\n#if defined(VSOCK_OPTIMIZATION_WAITING_NOTIFY)\n \n#define VSOCK_OPTIMIZATION_FLOW_CONTROL 1\n#endif\n\n#define VMCI_TRANSPORT_MAX_DGRAM_RESENDS       10\n\nstruct vmci_transport_recv_notify_data {\n\tu64 consume_head;\n\tu64 produce_tail;\n\tbool notify_on_block;\n};\n\nstruct vmci_transport_send_notify_data {\n\tu64 consume_head;\n\tu64 produce_tail;\n};\n\n \nstruct vmci_transport_notify_ops {\n\tvoid (*socket_init) (struct sock *sk);\n\tvoid (*socket_destruct) (struct vsock_sock *vsk);\n\tint (*poll_in) (struct sock *sk, size_t target,\n\t\t\t  bool *data_ready_now);\n\tint (*poll_out) (struct sock *sk, size_t target,\n\t\t\t   bool *space_avail_now);\n\tvoid (*handle_notify_pkt) (struct sock *sk,\n\t\t\t\t   struct vmci_transport_packet *pkt,\n\t\t\t\t   bool bottom_half, struct sockaddr_vm *dst,\n\t\t\t\t   struct sockaddr_vm *src,\n\t\t\t\t   bool *pkt_processed);\n\tint (*recv_init) (struct sock *sk, size_t target,\n\t\t\t  struct vmci_transport_recv_notify_data *data);\n\tint (*recv_pre_block) (struct sock *sk, size_t target,\n\t\t\t       struct vmci_transport_recv_notify_data *data);\n\tint (*recv_pre_dequeue) (struct sock *sk, size_t target,\n\t\t\t\t struct vmci_transport_recv_notify_data *data);\n\tint (*recv_post_dequeue) (struct sock *sk, size_t target,\n\t\t\t\t  ssize_t copied, bool data_read,\n\t\t\t\t  struct vmci_transport_recv_notify_data *data);\n\tint (*send_init) (struct sock *sk,\n\t\t\t  struct vmci_transport_send_notify_data *data);\n\tint (*send_pre_block) (struct sock *sk,\n\t\t\t       struct vmci_transport_send_notify_data *data);\n\tint (*send_pre_enqueue) (struct sock *sk,\n\t\t\t\t struct vmci_transport_send_notify_data *data);\n\tint (*send_post_enqueue) (struct sock *sk, ssize_t written,\n\t\t\t\t  struct vmci_transport_send_notify_data *data);\n\tvoid (*process_request) (struct sock *sk);\n\tvoid (*process_negotiate) (struct sock *sk);\n};\n\nextern const struct vmci_transport_notify_ops vmci_transport_notify_pkt_ops;\nextern const\nstruct vmci_transport_notify_ops vmci_transport_notify_pkt_q_state_ops;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}