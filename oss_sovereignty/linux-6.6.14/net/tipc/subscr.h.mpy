{
  "module_name": "subscr.h",
  "hash_id": "fba6cbe16a696e5f72a71d722c928bf6fd6a014dabe183df66422c200ebba094",
  "original_prompt": "Ingested from linux-6.6.14/net/tipc/subscr.h",
  "human_readable_source": " \n\n#ifndef _TIPC_SUBSCR_H\n#define _TIPC_SUBSCR_H\n\n#include \"topsrv.h\"\n\n#define TIPC_MAX_SUBSCR         65535\n#define TIPC_MAX_PUBL           65535\n\nstruct publication;\nstruct tipc_subscription;\nstruct tipc_conn;\n\n \nstruct tipc_subscription {\n\tstruct tipc_subscr s;\n\tstruct tipc_event evt;\n\tstruct kref kref;\n\tstruct net *net;\n\tstruct timer_list timer;\n\tstruct list_head service_list;\n\tstruct list_head sub_list;\n\tint conid;\n\tbool inactive;\n\tspinlock_t lock;\n};\n\nstruct tipc_subscription *tipc_sub_subscribe(struct net *net,\n\t\t\t\t\t     struct tipc_subscr *s,\n\t\t\t\t\t     int conid);\nvoid tipc_sub_unsubscribe(struct tipc_subscription *sub);\nvoid tipc_sub_report_overlap(struct tipc_subscription *sub,\n\t\t\t     struct publication *p,\n\t\t\t     u32 event, bool must);\n\nint __net_init tipc_topsrv_init_net(struct net *net);\nvoid __net_exit tipc_topsrv_exit_net(struct net *net);\n\nvoid tipc_sub_put(struct tipc_subscription *subscription);\nvoid tipc_sub_get(struct tipc_subscription *subscription);\n\n#define TIPC_FILTER_MASK (TIPC_SUB_PORTS | TIPC_SUB_SERVICE | TIPC_SUB_CANCEL)\n\n \n#define tipc_sub_read(sub_, field_)\t\t\t\t\t\\\n\t({\t\t\t\t\t\t\t\t\\\n\t\tstruct tipc_subscr *sub__ = sub_;\t\t\t\\\n\t\tu32 val__ = (sub__)->field_;\t\t\t\t\\\n\t\tint swap_ = !((sub__)->filter & TIPC_FILTER_MASK);\t\\\n\t\t(swap_ ? swab32(val__) : val__);\t\t\t\\\n\t})\n\n \n#define tipc_sub_write(sub_, field_, val_)\t\t\t\t\\\n\t({\t\t\t\t\t\t\t\t\\\n\t\tstruct tipc_subscr *sub__ = sub_;\t\t\t\\\n\t\tu32 val__ = val_;\t\t\t\t\t\\\n\t\tint swap_ = !((sub__)->filter & TIPC_FILTER_MASK);\t\\\n\t\t(sub__)->field_ = swap_ ? swab32(val__) : val__;\t\\\n\t})\n\n \n#define tipc_evt_write(evt_, field_, val_)\t\t\t\t\\\n\t({\t\t\t\t\t\t\t\t\\\n\t\tstruct tipc_event *evt__ = evt_;\t\t\t\\\n\t\tu32 val__ = val_;\t\t\t\t\t\\\n\t\tint swap_ = !((evt__)->s.filter & (TIPC_FILTER_MASK));\t\\\n\t\t(evt__)->field_ = swap_ ? swab32(val__) : val__;\t\\\n\t})\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}