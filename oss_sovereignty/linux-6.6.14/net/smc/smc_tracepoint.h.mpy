{
  "module_name": "smc_tracepoint.h",
  "hash_id": "e73ec24c4f07eb5e2860d5a2e8863d7ce028dbcf0c5349f4523f22559b87982c",
  "original_prompt": "Ingested from linux-6.6.14/net/smc/smc_tracepoint.h",
  "human_readable_source": " \n\n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM smc\n\n#if !defined(_TRACE_SMC_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _TRACE_SMC_H\n\n#include <linux/ipv6.h>\n#include <linux/tcp.h>\n#include <linux/tracepoint.h>\n#include <net/ipv6.h>\n#include \"smc.h\"\n#include \"smc_core.h\"\n\nTRACE_EVENT(smc_switch_to_fallback,\n\n\t    TP_PROTO(const struct smc_sock *smc, int fallback_rsn),\n\n\t    TP_ARGS(smc, fallback_rsn),\n\n\t    TP_STRUCT__entry(\n\t\t\t     __field(const void *, sk)\n\t\t\t     __field(const void *, clcsk)\n\t\t\t     __field(u64, net_cookie)\n\t\t\t     __field(int, fallback_rsn)\n\t    ),\n\n\t    TP_fast_assign(\n\t\t\t   const struct sock *sk = &smc->sk;\n\t\t\t   const struct sock *clcsk = smc->clcsock->sk;\n\n\t\t\t   __entry->sk = sk;\n\t\t\t   __entry->clcsk = clcsk;\n\t\t\t   __entry->net_cookie = sock_net(sk)->net_cookie;\n\t\t\t   __entry->fallback_rsn = fallback_rsn;\n\t    ),\n\n\t    TP_printk(\"sk=%p clcsk=%p net=%llu fallback_rsn=%d\",\n\t\t      __entry->sk, __entry->clcsk,\n\t\t      __entry->net_cookie, __entry->fallback_rsn)\n);\n\nDECLARE_EVENT_CLASS(smc_msg_event,\n\n\t\t    TP_PROTO(const struct smc_sock *smc, size_t len),\n\n\t\t    TP_ARGS(smc, len),\n\n\t\t    TP_STRUCT__entry(\n\t\t\t\t     __field(const void *, smc)\n\t\t\t\t     __field(u64, net_cookie)\n\t\t\t\t     __field(size_t, len)\n\t\t\t\t     __string(name, smc->conn.lnk->ibname)\n\t\t    ),\n\n\t\t    TP_fast_assign(\n\t\t\t\t   const struct sock *sk = &smc->sk;\n\n\t\t\t\t   __entry->smc = smc;\n\t\t\t\t   __entry->net_cookie = sock_net(sk)->net_cookie;\n\t\t\t\t   __entry->len = len;\n\t\t\t\t   __assign_str(name, smc->conn.lnk->ibname);\n\t\t    ),\n\n\t\t    TP_printk(\"smc=%p net=%llu len=%zu dev=%s\",\n\t\t\t      __entry->smc, __entry->net_cookie,\n\t\t\t      __entry->len, __get_str(name))\n);\n\nDEFINE_EVENT(smc_msg_event, smc_tx_sendmsg,\n\n\t     TP_PROTO(const struct smc_sock *smc, size_t len),\n\n\t     TP_ARGS(smc, len)\n);\n\nDEFINE_EVENT(smc_msg_event, smc_rx_recvmsg,\n\n\t     TP_PROTO(const struct smc_sock *smc, size_t len),\n\n\t     TP_ARGS(smc, len)\n);\n\nTRACE_EVENT(smcr_link_down,\n\n\t    TP_PROTO(const struct smc_link *lnk, void *location),\n\n\t    TP_ARGS(lnk, location),\n\n\t    TP_STRUCT__entry(\n\t\t\t     __field(const void *, lnk)\n\t\t\t     __field(const void *, lgr)\n\t\t\t     __field(u64, net_cookie)\n\t\t\t     __field(int, state)\n\t\t\t     __string(name, lnk->ibname)\n\t\t\t     __field(void *, location)\n\t    ),\n\n\t    TP_fast_assign(\n\t\t\t   const struct smc_link_group *lgr = lnk->lgr;\n\n\t\t\t   __entry->lnk = lnk;\n\t\t\t   __entry->lgr = lgr;\n\t\t\t   __entry->net_cookie = lgr->net->net_cookie;\n\t\t\t   __entry->state = lnk->state;\n\t\t\t   __assign_str(name, lnk->ibname);\n\t\t\t   __entry->location = location;\n\t    ),\n\n\t    TP_printk(\"lnk=%p lgr=%p net=%llu state=%d dev=%s location=%pS\",\n\t\t      __entry->lnk, __entry->lgr, __entry->net_cookie,\n\t\t      __entry->state, __get_str(name),\n\t\t      __entry->location)\n);\n\n#endif  \n\n#undef TRACE_INCLUDE_PATH\n#define TRACE_INCLUDE_PATH .\n\n#undef TRACE_INCLUDE_FILE\n#define TRACE_INCLUDE_FILE smc_tracepoint\n\n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}