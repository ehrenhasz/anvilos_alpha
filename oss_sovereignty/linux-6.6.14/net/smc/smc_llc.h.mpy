{
  "module_name": "smc_llc.h",
  "hash_id": "c33314c94ac7c8e2561bab4bbcb557afe59ab7a3390b093243e92ba99d3748f0",
  "original_prompt": "Ingested from linux-6.6.14/net/smc/smc_llc.h",
  "human_readable_source": " \n \n\n#ifndef SMC_LLC_H\n#define SMC_LLC_H\n\n#include \"smc_wr.h\"\n\n#define SMC_LLC_FLAG_RESP\t\t0x80\n\n#define SMC_LLC_WAIT_FIRST_TIME\t\t(5 * HZ)\n#define SMC_LLC_WAIT_TIME\t\t(2 * HZ)\n#define SMC_LLC_TESTLINK_DEFAULT_TIME\t(30 * HZ)\n\nenum smc_llc_reqresp {\n\tSMC_LLC_REQ,\n\tSMC_LLC_RESP\n};\n\nenum smc_llc_msg_type {\n\tSMC_LLC_CONFIRM_LINK\t\t= 0x01,\n\tSMC_LLC_ADD_LINK\t\t= 0x02,\n\tSMC_LLC_ADD_LINK_CONT\t\t= 0x03,\n\tSMC_LLC_DELETE_LINK\t\t= 0x04,\n\tSMC_LLC_REQ_ADD_LINK\t\t= 0x05,\n\tSMC_LLC_CONFIRM_RKEY\t\t= 0x06,\n\tSMC_LLC_TEST_LINK\t\t= 0x07,\n\tSMC_LLC_CONFIRM_RKEY_CONT\t= 0x08,\n\tSMC_LLC_DELETE_RKEY\t\t= 0x09,\n\t \n\tSMC_LLC_CONFIRM_LINK_V2\t\t= 0x21,\n\tSMC_LLC_ADD_LINK_V2\t\t= 0x22,\n\tSMC_LLC_DELETE_LINK_V2\t\t= 0x24,\n\tSMC_LLC_REQ_ADD_LINK_V2\t\t= 0x25,\n\tSMC_LLC_CONFIRM_RKEY_V2\t\t= 0x26,\n\tSMC_LLC_TEST_LINK_V2\t\t= 0x27,\n\tSMC_LLC_DELETE_RKEY_V2\t\t= 0x29,\n};\n\n#define smc_link_downing(state) \\\n\t(cmpxchg(state, SMC_LNK_ACTIVE, SMC_LNK_INACTIVE) == SMC_LNK_ACTIVE)\n\n \n#define SMC_LLC_DEL_LOST_PATH\t\t0x00010000\n#define SMC_LLC_DEL_OP_INIT_TERM\t0x00020000\n#define SMC_LLC_DEL_PROG_INIT_TERM\t0x00030000\n#define SMC_LLC_DEL_PROT_VIOL\t\t0x00040000\n#define SMC_LLC_DEL_NO_ASYM_NEEDED\t0x00050000\n \n#define SMC_LLC_DEL_NOLNK\t0x00100000   \n#define SMC_LLC_DEL_NOLGR\t0x00200000   \n\n \nstatic inline struct smc_link *smc_llc_usable_link(struct smc_link_group *lgr)\n{\n\tint i;\n\n\tfor (i = 0; i < SMC_LINKS_PER_LGR_MAX; i++)\n\t\tif (smc_link_usable(&lgr->lnk[i]))\n\t\t\treturn &lgr->lnk[i];\n\treturn NULL;\n}\n\n \nstatic inline void smc_llc_set_termination_rsn(struct smc_link_group *lgr,\n\t\t\t\t\t       u32 rsn)\n{\n\tif (!lgr->llc_termination_rsn)\n\t\tlgr->llc_termination_rsn = rsn;\n}\n\n \nint smc_llc_send_confirm_link(struct smc_link *lnk,\n\t\t\t      enum smc_llc_reqresp reqresp);\nint smc_llc_send_add_link(struct smc_link *link, u8 mac[], u8 gid[],\n\t\t\t  struct smc_link *link_new,\n\t\t\t  enum smc_llc_reqresp reqresp);\nint smc_llc_send_delete_link(struct smc_link *link, u8 link_del_id,\n\t\t\t     enum smc_llc_reqresp reqresp, bool orderly,\n\t\t\t     u32 reason);\nvoid smc_llc_srv_delete_link_local(struct smc_link *link, u8 del_link_id);\nvoid smc_llc_lgr_init(struct smc_link_group *lgr, struct smc_sock *smc);\nvoid smc_llc_lgr_clear(struct smc_link_group *lgr);\nint smc_llc_link_init(struct smc_link *link);\nvoid smc_llc_link_active(struct smc_link *link);\nvoid smc_llc_link_clear(struct smc_link *link, bool log);\nint smc_llc_do_confirm_rkey(struct smc_link *send_link,\n\t\t\t    struct smc_buf_desc *rmb_desc);\nint smc_llc_do_delete_rkey(struct smc_link_group *lgr,\n\t\t\t   struct smc_buf_desc *rmb_desc);\nint smc_llc_flow_initiate(struct smc_link_group *lgr,\n\t\t\t  enum smc_llc_flowtype type);\nvoid smc_llc_flow_stop(struct smc_link_group *lgr, struct smc_llc_flow *flow);\nint smc_llc_eval_conf_link(struct smc_llc_qentry *qentry,\n\t\t\t   enum smc_llc_reqresp type);\nvoid smc_llc_link_set_uid(struct smc_link *link);\nvoid smc_llc_save_peer_uid(struct smc_llc_qentry *qentry);\nstruct smc_llc_qentry *smc_llc_wait(struct smc_link_group *lgr,\n\t\t\t\t    struct smc_link *lnk,\n\t\t\t\t    int time_out, u8 exp_msg);\nstruct smc_llc_qentry *smc_llc_flow_qentry_clr(struct smc_llc_flow *flow);\nvoid smc_llc_flow_qentry_del(struct smc_llc_flow *flow);\nvoid smc_llc_send_link_delete_all(struct smc_link_group *lgr, bool ord,\n\t\t\t\t  u32 rsn);\nint smc_llc_cli_add_link(struct smc_link *link, struct smc_llc_qentry *qentry);\nint smc_llc_srv_add_link(struct smc_link *link,\n\t\t\t struct smc_llc_qentry *req_qentry);\nvoid smc_llc_add_link_local(struct smc_link *link);\nint smc_llc_init(void) __init;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}