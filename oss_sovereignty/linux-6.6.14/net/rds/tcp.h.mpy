{
  "module_name": "tcp.h",
  "hash_id": "aa668aa56d853b0dc93869dee234084136ce26d78f002f10d63c155841700a4f",
  "original_prompt": "Ingested from linux-6.6.14/net/rds/tcp.h",
  "human_readable_source": " \n#ifndef _RDS_TCP_H\n#define _RDS_TCP_H\n\n#define RDS_TCP_PORT\t16385\n\nstruct rds_tcp_incoming {\n\tstruct rds_incoming\tti_inc;\n\tstruct sk_buff_head\tti_skb_list;\n};\n\nstruct rds_tcp_connection {\n\n\tstruct list_head\tt_tcp_node;\n\tbool\t\t\tt_tcp_node_detached;\n\tstruct rds_conn_path\t*t_cpath;\n\t \n\tstruct mutex\t\tt_conn_path_lock;\n\tstruct socket\t\t*t_sock;\n\tvoid\t\t\t*t_orig_write_space;\n\tvoid\t\t\t*t_orig_data_ready;\n\tvoid\t\t\t*t_orig_state_change;\n\n\tstruct rds_tcp_incoming\t*t_tinc;\n\tsize_t\t\t\tt_tinc_hdr_rem;\n\tsize_t\t\t\tt_tinc_data_rem;\n\n\t \n\tstruct work_struct\tt_conn_w;\n\tstruct work_struct\tt_send_w;\n\tstruct work_struct\tt_down_w;\n\tstruct work_struct\tt_recv_w;\n\n\t \n\tstruct list_head\tt_list_item;\n\tu32\t\t\tt_last_sent_nxt;\n\tu32\t\t\tt_last_expected_una;\n\tu32\t\t\tt_last_seen_una;\n};\n\nstruct rds_tcp_statistics {\n\tuint64_t\ts_tcp_data_ready_calls;\n\tuint64_t\ts_tcp_write_space_calls;\n\tuint64_t\ts_tcp_sndbuf_full;\n\tuint64_t\ts_tcp_connect_raced;\n\tuint64_t\ts_tcp_listen_closed_stale;\n};\n\n \nbool rds_tcp_tune(struct socket *sock);\nvoid rds_tcp_set_callbacks(struct socket *sock, struct rds_conn_path *cp);\nvoid rds_tcp_reset_callbacks(struct socket *sock, struct rds_conn_path *cp);\nvoid rds_tcp_restore_callbacks(struct socket *sock,\n\t\t\t       struct rds_tcp_connection *tc);\nu32 rds_tcp_write_seq(struct rds_tcp_connection *tc);\nu32 rds_tcp_snd_una(struct rds_tcp_connection *tc);\nextern struct rds_transport rds_tcp_transport;\nvoid rds_tcp_accept_work(struct sock *sk);\nint rds_tcp_laddr_check(struct net *net, const struct in6_addr *addr,\n\t\t\t__u32 scope_id);\n \nint rds_tcp_conn_path_connect(struct rds_conn_path *cp);\nvoid rds_tcp_conn_path_shutdown(struct rds_conn_path *conn);\nvoid rds_tcp_state_change(struct sock *sk);\n\n \nstruct socket *rds_tcp_listen_init(struct net *net, bool isv6);\nvoid rds_tcp_listen_stop(struct socket *sock, struct work_struct *acceptor);\nvoid rds_tcp_listen_data_ready(struct sock *sk);\nint rds_tcp_accept_one(struct socket *sock);\nvoid rds_tcp_keepalive(struct socket *sock);\nvoid *rds_tcp_listen_sock_def_readable(struct net *net);\n\n \nint rds_tcp_recv_init(void);\nvoid rds_tcp_recv_exit(void);\nvoid rds_tcp_data_ready(struct sock *sk);\nint rds_tcp_recv_path(struct rds_conn_path *cp);\nvoid rds_tcp_inc_free(struct rds_incoming *inc);\nint rds_tcp_inc_copy_to_user(struct rds_incoming *inc, struct iov_iter *to);\n\n \nvoid rds_tcp_xmit_path_prepare(struct rds_conn_path *cp);\nvoid rds_tcp_xmit_path_complete(struct rds_conn_path *cp);\nint rds_tcp_xmit(struct rds_connection *conn, struct rds_message *rm,\n\t\t unsigned int hdr_off, unsigned int sg, unsigned int off);\nvoid rds_tcp_write_space(struct sock *sk);\n\n \nDECLARE_PER_CPU(struct rds_tcp_statistics, rds_tcp_stats);\n#define rds_tcp_stats_inc(member) rds_stats_inc_which(rds_tcp_stats, member)\nunsigned int rds_tcp_stats_info_copy(struct rds_info_iterator *iter,\n\t\t\t\t     unsigned int avail);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}