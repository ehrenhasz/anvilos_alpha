{
  "module_name": "ib_sysctl.c",
  "hash_id": "369d27bfb7f37a5e12631c4b16f326c6331551414bf4452004a38290130137e7",
  "original_prompt": "Ingested from linux-6.6.14/net/rds/ib_sysctl.c",
  "human_readable_source": " \n#include <linux/kernel.h>\n#include <linux/sysctl.h>\n#include <linux/proc_fs.h>\n\n#include \"ib.h\"\n\nstatic struct ctl_table_header *rds_ib_sysctl_hdr;\n\nunsigned long rds_ib_sysctl_max_send_wr = RDS_IB_DEFAULT_SEND_WR;\nunsigned long rds_ib_sysctl_max_recv_wr = RDS_IB_DEFAULT_RECV_WR;\nunsigned long rds_ib_sysctl_max_recv_allocation = (128 * 1024 * 1024) / RDS_FRAG_SIZE;\nstatic unsigned long rds_ib_sysctl_max_wr_min = 1;\n \nstatic unsigned long rds_ib_sysctl_max_wr_max = (u32)~0;\n\nunsigned long rds_ib_sysctl_max_unsig_wrs = 16;\nstatic unsigned long rds_ib_sysctl_max_unsig_wr_min = 1;\nstatic unsigned long rds_ib_sysctl_max_unsig_wr_max = 64;\n\n \nunsigned int rds_ib_sysctl_flow_control = 0;\n\nstatic struct ctl_table rds_ib_sysctl_table[] = {\n\t{\n\t\t.procname       = \"max_send_wr\",\n\t\t.data\t\t= &rds_ib_sysctl_max_send_wr,\n\t\t.maxlen         = sizeof(unsigned long),\n\t\t.mode           = 0644,\n\t\t.proc_handler   = proc_doulongvec_minmax,\n\t\t.extra1\t\t= &rds_ib_sysctl_max_wr_min,\n\t\t.extra2\t\t= &rds_ib_sysctl_max_wr_max,\n\t},\n\t{\n\t\t.procname       = \"max_recv_wr\",\n\t\t.data\t\t= &rds_ib_sysctl_max_recv_wr,\n\t\t.maxlen         = sizeof(unsigned long),\n\t\t.mode           = 0644,\n\t\t.proc_handler   = proc_doulongvec_minmax,\n\t\t.extra1\t\t= &rds_ib_sysctl_max_wr_min,\n\t\t.extra2\t\t= &rds_ib_sysctl_max_wr_max,\n\t},\n\t{\n\t\t.procname       = \"max_unsignaled_wr\",\n\t\t.data\t\t= &rds_ib_sysctl_max_unsig_wrs,\n\t\t.maxlen         = sizeof(unsigned long),\n\t\t.mode           = 0644,\n\t\t.proc_handler   = proc_doulongvec_minmax,\n\t\t.extra1\t\t= &rds_ib_sysctl_max_unsig_wr_min,\n\t\t.extra2\t\t= &rds_ib_sysctl_max_unsig_wr_max,\n\t},\n\t{\n\t\t.procname       = \"max_recv_allocation\",\n\t\t.data\t\t= &rds_ib_sysctl_max_recv_allocation,\n\t\t.maxlen         = sizeof(unsigned long),\n\t\t.mode           = 0644,\n\t\t.proc_handler   = proc_doulongvec_minmax,\n\t},\n\t{\n\t\t.procname\t= \"flow_control\",\n\t\t.data\t\t= &rds_ib_sysctl_flow_control,\n\t\t.maxlen\t\t= sizeof(rds_ib_sysctl_flow_control),\n\t\t.mode\t\t= 0644,\n\t\t.proc_handler\t= proc_dointvec,\n\t},\n\t{ }\n};\n\nvoid rds_ib_sysctl_exit(void)\n{\n\tif (rds_ib_sysctl_hdr)\n\t\tunregister_net_sysctl_table(rds_ib_sysctl_hdr);\n}\n\nint rds_ib_sysctl_init(void)\n{\n\trds_ib_sysctl_hdr = register_net_sysctl(&init_net, \"net/rds/ib\", rds_ib_sysctl_table);\n\tif (!rds_ib_sysctl_hdr)\n\t\treturn -ENOMEM;\n\treturn 0;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}