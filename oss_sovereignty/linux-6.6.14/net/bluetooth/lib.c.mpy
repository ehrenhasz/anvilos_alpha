{
  "module_name": "lib.c",
  "hash_id": "d9db7f910752200c5f575b6795e679ac693a7e344089da5348d9f558155d5539",
  "original_prompt": "Ingested from linux-6.6.14/net/bluetooth/lib.c",
  "human_readable_source": " \n\n \n\n#define pr_fmt(fmt) \"Bluetooth: \" fmt\n\n#include <linux/export.h>\n\n#include <net/bluetooth/bluetooth.h>\n\nvoid baswap(bdaddr_t *dst, const bdaddr_t *src)\n{\n\tconst unsigned char *s = (const unsigned char *)src;\n\tunsigned char *d = (unsigned char *)dst;\n\tunsigned int i;\n\n\tfor (i = 0; i < 6; i++)\n\t\td[i] = s[5 - i];\n}\nEXPORT_SYMBOL(baswap);\n\n \nint bt_to_errno(__u16 code)\n{\n\tswitch (code) {\n\tcase 0:\n\t\treturn 0;\n\n\tcase 0x01:\n\t\treturn EBADRQC;\n\n\tcase 0x02:\n\t\treturn ENOTCONN;\n\n\tcase 0x03:\n\t\treturn EIO;\n\n\tcase 0x04:\n\tcase 0x3c:\n\t\treturn EHOSTDOWN;\n\n\tcase 0x05:\n\t\treturn EACCES;\n\n\tcase 0x06:\n\t\treturn EBADE;\n\n\tcase 0x07:\n\t\treturn ENOMEM;\n\n\tcase 0x08:\n\t\treturn ETIMEDOUT;\n\n\tcase 0x09:\n\t\treturn EMLINK;\n\n\tcase 0x0a:\n\t\treturn EMLINK;\n\n\tcase 0x0b:\n\t\treturn EALREADY;\n\n\tcase 0x0c:\n\t\treturn EBUSY;\n\n\tcase 0x0d:\n\tcase 0x0e:\n\tcase 0x0f:\n\t\treturn ECONNREFUSED;\n\n\tcase 0x10:\n\t\treturn ETIMEDOUT;\n\n\tcase 0x11:\n\tcase 0x27:\n\tcase 0x29:\n\tcase 0x20:\n\t\treturn EOPNOTSUPP;\n\n\tcase 0x12:\n\t\treturn EINVAL;\n\n\tcase 0x13:\n\tcase 0x14:\n\tcase 0x15:\n\t\treturn ECONNRESET;\n\n\tcase 0x16:\n\t\treturn ECONNABORTED;\n\n\tcase 0x17:\n\t\treturn ELOOP;\n\n\tcase 0x18:\n\t\treturn EACCES;\n\n\tcase 0x1a:\n\t\treturn EPROTONOSUPPORT;\n\n\tcase 0x1b:\n\t\treturn ECONNREFUSED;\n\n\tcase 0x19:\n\tcase 0x1e:\n\tcase 0x23:\n\tcase 0x24:\n\tcase 0x25:\n\t\treturn EPROTO;\n\n\tdefault:\n\t\treturn ENOSYS;\n\t}\n}\nEXPORT_SYMBOL(bt_to_errno);\n\n \n__u8 bt_status(int err)\n{\n\t \n\tif (err >= 0)\n\t\treturn err;\n\n\tswitch (err) {\n\tcase -EBADRQC:\n\t\treturn 0x01;\n\n\tcase -ENOTCONN:\n\t\treturn 0x02;\n\n\tcase -EIO:\n\t\treturn 0x03;\n\n\tcase -EHOSTDOWN:\n\t\treturn 0x04;\n\n\tcase -EACCES:\n\t\treturn 0x05;\n\n\tcase -EBADE:\n\t\treturn 0x06;\n\n\tcase -ENOMEM:\n\t\treturn 0x07;\n\n\tcase -ETIMEDOUT:\n\t\treturn 0x08;\n\n\tcase -EMLINK:\n\t\treturn 0x09;\n\n\tcase -EALREADY:\n\t\treturn 0x0b;\n\n\tcase -EBUSY:\n\t\treturn 0x0c;\n\n\tcase -ECONNREFUSED:\n\t\treturn 0x0d;\n\n\tcase -EOPNOTSUPP:\n\t\treturn 0x11;\n\n\tcase -EINVAL:\n\t\treturn 0x12;\n\n\tcase -ECONNRESET:\n\t\treturn 0x13;\n\n\tcase -ECONNABORTED:\n\t\treturn 0x16;\n\n\tcase -ELOOP:\n\t\treturn 0x17;\n\n\tcase -EPROTONOSUPPORT:\n\t\treturn 0x1a;\n\n\tcase -EPROTO:\n\t\treturn 0x19;\n\n\tdefault:\n\t\treturn 0x1f;\n\t}\n}\nEXPORT_SYMBOL(bt_status);\n\nvoid bt_info(const char *format, ...)\n{\n\tstruct va_format vaf;\n\tva_list args;\n\n\tva_start(args, format);\n\n\tvaf.fmt = format;\n\tvaf.va = &args;\n\n\tpr_info(\"%pV\", &vaf);\n\n\tva_end(args);\n}\nEXPORT_SYMBOL(bt_info);\n\nvoid bt_warn(const char *format, ...)\n{\n\tstruct va_format vaf;\n\tva_list args;\n\n\tva_start(args, format);\n\n\tvaf.fmt = format;\n\tvaf.va = &args;\n\n\tpr_warn(\"%pV\", &vaf);\n\n\tva_end(args);\n}\nEXPORT_SYMBOL(bt_warn);\n\nvoid bt_err(const char *format, ...)\n{\n\tstruct va_format vaf;\n\tva_list args;\n\n\tva_start(args, format);\n\n\tvaf.fmt = format;\n\tvaf.va = &args;\n\n\tpr_err(\"%pV\", &vaf);\n\n\tva_end(args);\n}\nEXPORT_SYMBOL(bt_err);\n\n#ifdef CONFIG_BT_FEATURE_DEBUG\nstatic bool debug_enable;\n\nvoid bt_dbg_set(bool enable)\n{\n\tdebug_enable = enable;\n}\n\nbool bt_dbg_get(void)\n{\n\treturn debug_enable;\n}\n\nvoid bt_dbg(const char *format, ...)\n{\n\tstruct va_format vaf;\n\tva_list args;\n\n\tif (likely(!debug_enable))\n\t\treturn;\n\n\tva_start(args, format);\n\n\tvaf.fmt = format;\n\tvaf.va = &args;\n\n\tprintk(KERN_DEBUG pr_fmt(\"%pV\"), &vaf);\n\n\tva_end(args);\n}\nEXPORT_SYMBOL(bt_dbg);\n#endif\n\nvoid bt_warn_ratelimited(const char *format, ...)\n{\n\tstruct va_format vaf;\n\tva_list args;\n\n\tva_start(args, format);\n\n\tvaf.fmt = format;\n\tvaf.va = &args;\n\n\tpr_warn_ratelimited(\"%pV\", &vaf);\n\n\tva_end(args);\n}\nEXPORT_SYMBOL(bt_warn_ratelimited);\n\nvoid bt_err_ratelimited(const char *format, ...)\n{\n\tstruct va_format vaf;\n\tva_list args;\n\n\tva_start(args, format);\n\n\tvaf.fmt = format;\n\tvaf.va = &args;\n\n\tpr_err_ratelimited(\"%pV\", &vaf);\n\n\tva_end(args);\n}\nEXPORT_SYMBOL(bt_err_ratelimited);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}