{
  "module_name": "br_private_mrp.h",
  "hash_id": "a37f20dbf797911e66af99103f1e4778b8c66081ee0fe1336b2bd2b29c2b8c1a",
  "original_prompt": "Ingested from linux-6.6.14/net/bridge/br_private_mrp.h",
  "human_readable_source": " \n\n#ifndef _BR_PRIVATE_MRP_H_\n#define _BR_PRIVATE_MRP_H_\n\n#include \"br_private.h\"\n#include <uapi/linux/mrp_bridge.h>\n\n#define MRP_OPT_PADDING\t\t0x2\n\nstruct br_mrp {\n\t \n\tstruct hlist_node\t\tlist;\n\n\tstruct net_bridge_port __rcu\t*p_port;\n\tstruct net_bridge_port __rcu\t*s_port;\n\tstruct net_bridge_port __rcu\t*i_port;\n\n\tu32\t\t\t\tring_id;\n\tu16\t\t\t\tin_id;\n\tu16\t\t\t\tprio;\n\n\tenum br_mrp_ring_role_type\tring_role;\n\tu8\t\t\t\tring_role_offloaded;\n\tenum br_mrp_ring_state_type\tring_state;\n\tu32\t\t\t\tring_transitions;\n\n\tenum br_mrp_in_role_type\tin_role;\n\tu8\t\t\t\tin_role_offloaded;\n\tenum br_mrp_in_state_type\tin_state;\n\tu32\t\t\t\tin_transitions;\n\n\tstruct delayed_work\t\ttest_work;\n\tu32\t\t\t\ttest_interval;\n\tunsigned long\t\t\ttest_end;\n\tu32\t\t\t\ttest_count_miss;\n\tu32\t\t\t\ttest_max_miss;\n\tbool\t\t\t\ttest_monitor;\n\n\tstruct delayed_work\t\tin_test_work;\n\tu32\t\t\t\tin_test_interval;\n\tunsigned long\t\t\tin_test_end;\n\tu32\t\t\t\tin_test_count_miss;\n\tu32\t\t\t\tin_test_max_miss;\n\n\tu32\t\t\t\tseq_id;\n\n\tstruct rcu_head\t\t\trcu;\n};\n\n \nenum br_mrp_hw_support {\n\tBR_MRP_NONE,\n\tBR_MRP_SW,\n\tBR_MRP_HW,\n};\n\n \nint br_mrp_add(struct net_bridge *br, struct br_mrp_instance *instance);\nint br_mrp_del(struct net_bridge *br, struct br_mrp_instance *instance);\nint br_mrp_set_port_state(struct net_bridge_port *p,\n\t\t\t  enum br_mrp_port_state_type state);\nint br_mrp_set_port_role(struct net_bridge_port *p,\n\t\t\t enum br_mrp_port_role_type role);\nint br_mrp_set_ring_state(struct net_bridge *br,\n\t\t\t  struct br_mrp_ring_state *state);\nint br_mrp_set_ring_role(struct net_bridge *br, struct br_mrp_ring_role *role);\nint br_mrp_start_test(struct net_bridge *br, struct br_mrp_start_test *test);\nint br_mrp_set_in_state(struct net_bridge *br, struct br_mrp_in_state *state);\nint br_mrp_set_in_role(struct net_bridge *br, struct br_mrp_in_role *role);\nint br_mrp_start_in_test(struct net_bridge *br,\n\t\t\t struct br_mrp_start_in_test *test);\n\n \nint br_mrp_switchdev_add(struct net_bridge *br, struct br_mrp *mrp);\nint br_mrp_switchdev_del(struct net_bridge *br, struct br_mrp *mrp);\nenum br_mrp_hw_support\nbr_mrp_switchdev_set_ring_role(struct net_bridge *br, struct br_mrp *mrp,\n\t\t\t       enum br_mrp_ring_role_type role);\nint br_mrp_switchdev_set_ring_state(struct net_bridge *br, struct br_mrp *mrp,\n\t\t\t\t    enum br_mrp_ring_state_type state);\nenum br_mrp_hw_support\nbr_mrp_switchdev_send_ring_test(struct net_bridge *br, struct br_mrp *mrp,\n\t\t\t\tu32 interval, u8 max_miss, u32 period,\n\t\t\t\tbool monitor);\nint br_mrp_port_switchdev_set_state(struct net_bridge_port *p, u32 state);\nint br_mrp_port_switchdev_set_role(struct net_bridge_port *p,\n\t\t\t\t   enum br_mrp_port_role_type role);\nenum br_mrp_hw_support\nbr_mrp_switchdev_set_in_role(struct net_bridge *br, struct br_mrp *mrp,\n\t\t\t     u16 in_id, u32 ring_id,\n\t\t\t     enum br_mrp_in_role_type role);\nint br_mrp_switchdev_set_in_state(struct net_bridge *br, struct br_mrp *mrp,\n\t\t\t\t  enum br_mrp_in_state_type state);\nenum br_mrp_hw_support\nbr_mrp_switchdev_send_in_test(struct net_bridge *br, struct br_mrp *mrp,\n\t\t\t      u32 interval, u8 max_miss, u32 period);\n\n \nint br_mrp_ring_port_open(struct net_device *dev, u8 loc);\nint br_mrp_in_port_open(struct net_device *dev, u8 loc);\n\n \nstruct br_mrp_tlv_hdr {\n\t__u8 type;\n\t__u8 length;\n};\n\nstruct br_mrp_common_hdr {\n\t__be16 seq_id;\n\t__u8 domain[MRP_DOMAIN_UUID_LENGTH];\n};\n\nstruct br_mrp_ring_test_hdr {\n\t__be16 prio;\n\t__u8 sa[ETH_ALEN];\n\t__be16 port_role;\n\t__be16 state;\n\t__be16 transitions;\n\t__be32 timestamp;\n} __attribute__((__packed__));\n\nstruct br_mrp_in_test_hdr {\n\t__be16 id;\n\t__u8 sa[ETH_ALEN];\n\t__be16 port_role;\n\t__be16 state;\n\t__be16 transitions;\n\t__be32 timestamp;\n} __attribute__((__packed__));\n\nstruct br_mrp_oui_hdr {\n\t__u8 oui[MRP_OUI_LENGTH];\n};\n\nstruct br_mrp_sub_option1_hdr {\n\t__u8 type;\n\t__u8 data[MRP_MANUFACTURE_DATA_LENGTH];\n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}