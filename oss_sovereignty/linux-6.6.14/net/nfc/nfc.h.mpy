{
  "module_name": "nfc.h",
  "hash_id": "3f2c20fab5bc22ee768c56d6ffd5f9b215879345e6b2768e9e3f83d57f92e0ce",
  "original_prompt": "Ingested from linux-6.6.14/net/nfc/nfc.h",
  "human_readable_source": " \n \n\n#ifndef __LOCAL_NFC_H\n#define __LOCAL_NFC_H\n\n#include <net/nfc/nfc.h>\n#include <net/sock.h>\n\n#define NFC_TARGET_MODE_IDLE 0\n#define NFC_TARGET_MODE_SLEEP 1\n\nstruct nfc_protocol {\n\tint id;\n\tstruct proto *proto;\n\tstruct module *owner;\n\tint (*create)(struct net *net, struct socket *sock,\n\t\t      const struct nfc_protocol *nfc_proto, int kern);\n};\n\nstruct nfc_rawsock {\n\tstruct sock sk;\n\tstruct nfc_dev *dev;\n\tu32 target_idx;\n\tstruct work_struct tx_work;\n\tbool tx_work_scheduled;\n};\n\nstruct nfc_sock_list {\n\tstruct hlist_head head;\n\trwlock_t          lock;\n};\n\n#define nfc_rawsock(sk) ((struct nfc_rawsock *) sk)\n#define to_rawsock_sk(_tx_work) \\\n\t((struct sock *) container_of(_tx_work, struct nfc_rawsock, tx_work))\n\nstruct nfc_llcp_sdp_tlv;\n\nvoid nfc_llcp_mac_is_down(struct nfc_dev *dev);\nvoid nfc_llcp_mac_is_up(struct nfc_dev *dev, u32 target_idx,\n\t\t\tu8 comm_mode, u8 rf_mode);\nint nfc_llcp_register_device(struct nfc_dev *dev);\nvoid nfc_llcp_unregister_device(struct nfc_dev *dev);\nint nfc_llcp_set_remote_gb(struct nfc_dev *dev, const u8 *gb, u8 gb_len);\nu8 *nfc_llcp_general_bytes(struct nfc_dev *dev, size_t *general_bytes_len);\nint nfc_llcp_data_received(struct nfc_dev *dev, struct sk_buff *skb);\nstruct nfc_llcp_local *nfc_llcp_find_local(struct nfc_dev *dev);\nint nfc_llcp_local_put(struct nfc_llcp_local *local);\nint __init nfc_llcp_init(void);\nvoid nfc_llcp_exit(void);\nvoid nfc_llcp_free_sdp_tlv(struct nfc_llcp_sdp_tlv *sdp);\nvoid nfc_llcp_free_sdp_tlv_list(struct hlist_head *head);\n\nint __init rawsock_init(void);\nvoid rawsock_exit(void);\n\nint __init af_nfc_init(void);\nvoid af_nfc_exit(void);\nint nfc_proto_register(const struct nfc_protocol *nfc_proto);\nvoid nfc_proto_unregister(const struct nfc_protocol *nfc_proto);\n\nextern int nfc_devlist_generation;\nextern struct mutex nfc_devlist_mutex;\n\nint __init nfc_genl_init(void);\nvoid nfc_genl_exit(void);\n\nvoid nfc_genl_data_init(struct nfc_genl_data *genl_data);\nvoid nfc_genl_data_exit(struct nfc_genl_data *genl_data);\n\nint nfc_genl_targets_found(struct nfc_dev *dev);\nint nfc_genl_target_lost(struct nfc_dev *dev, u32 target_idx);\n\nint nfc_genl_device_added(struct nfc_dev *dev);\nint nfc_genl_device_removed(struct nfc_dev *dev);\n\nint nfc_genl_dep_link_up_event(struct nfc_dev *dev, u32 target_idx,\n\t\t\t       u8 comm_mode, u8 rf_mode);\nint nfc_genl_dep_link_down_event(struct nfc_dev *dev);\n\nint nfc_genl_tm_activated(struct nfc_dev *dev, u32 protocol);\nint nfc_genl_tm_deactivated(struct nfc_dev *dev);\n\nint nfc_genl_llc_send_sdres(struct nfc_dev *dev, struct hlist_head *sdres_list);\n\nint nfc_genl_se_added(struct nfc_dev *dev, u32 se_idx, u16 type);\nint nfc_genl_se_removed(struct nfc_dev *dev, u32 se_idx);\nint nfc_genl_se_transaction(struct nfc_dev *dev, u8 se_idx,\n\t\t\t    struct nfc_evt_transaction *evt_transaction);\nint nfc_genl_se_connectivity(struct nfc_dev *dev, u8 se_idx);\n\nstruct nfc_dev *nfc_get_device(unsigned int idx);\n\nstatic inline void nfc_put_device(struct nfc_dev *dev)\n{\n\tput_device(&dev->dev);\n}\n\nstatic inline void nfc_device_iter_init(struct class_dev_iter *iter)\n{\n\tclass_dev_iter_init(iter, &nfc_class, NULL, NULL);\n}\n\nstatic inline struct nfc_dev *nfc_device_iter_next(struct class_dev_iter *iter)\n{\n\tstruct device *d = class_dev_iter_next(iter);\n\tif (!d)\n\t\treturn NULL;\n\n\treturn to_nfc_dev(d);\n}\n\nstatic inline void nfc_device_iter_exit(struct class_dev_iter *iter)\n{\n\tclass_dev_iter_exit(iter);\n}\n\nint nfc_fw_download(struct nfc_dev *dev, const char *firmware_name);\nint nfc_genl_fw_download_done(struct nfc_dev *dev, const char *firmware_name,\n\t\t\t      u32 result);\n\nint nfc_dev_up(struct nfc_dev *dev);\n\nint nfc_dev_down(struct nfc_dev *dev);\n\nint nfc_start_poll(struct nfc_dev *dev, u32 im_protocols, u32 tm_protocols);\n\nint nfc_stop_poll(struct nfc_dev *dev);\n\nint nfc_dep_link_up(struct nfc_dev *dev, int target_idx, u8 comm_mode);\n\nint nfc_dep_link_down(struct nfc_dev *dev);\n\nint nfc_activate_target(struct nfc_dev *dev, u32 target_idx, u32 protocol);\n\nint nfc_deactivate_target(struct nfc_dev *dev, u32 target_idx, u8 mode);\n\nint nfc_data_exchange(struct nfc_dev *dev, u32 target_idx, struct sk_buff *skb,\n\t\t      data_exchange_cb_t cb, void *cb_context);\n\nint nfc_enable_se(struct nfc_dev *dev, u32 se_idx);\nint nfc_disable_se(struct nfc_dev *dev, u32 se_idx);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}