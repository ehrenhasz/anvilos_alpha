{
  "module_name": "blk-mq-pci.c",
  "hash_id": "1458bc69fb835e2630f0c00f70671da5abb367d0fb2e2815b974ba65ee48eeb2",
  "original_prompt": "Ingested from linux-6.6.14/block/blk-mq-pci.c",
  "human_readable_source": "\n \n#include <linux/kobject.h>\n#include <linux/blkdev.h>\n#include <linux/blk-mq-pci.h>\n#include <linux/pci.h>\n#include <linux/module.h>\n\n#include \"blk-mq.h\"\n\n \nvoid blk_mq_pci_map_queues(struct blk_mq_queue_map *qmap, struct pci_dev *pdev,\n\t\t\t   int offset)\n{\n\tconst struct cpumask *mask;\n\tunsigned int queue, cpu;\n\n\tfor (queue = 0; queue < qmap->nr_queues; queue++) {\n\t\tmask = pci_irq_get_affinity(pdev, queue + offset);\n\t\tif (!mask)\n\t\t\tgoto fallback;\n\n\t\tfor_each_cpu(cpu, mask)\n\t\t\tqmap->mq_map[cpu] = qmap->queue_offset + queue;\n\t}\n\n\treturn;\n\nfallback:\n\tWARN_ON_ONCE(qmap->nr_queues > 1);\n\tblk_mq_clear_mq_map(qmap);\n}\nEXPORT_SYMBOL_GPL(blk_mq_pci_map_queues);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}