{
  "module_name": "blk-stat.h",
  "hash_id": "bd40e8b933eaa92fffae613fdaf0bfeb05d216537d84c920e30cbcfaff0d2560",
  "original_prompt": "Ingested from linux-6.6.14/block/blk-stat.h",
  "human_readable_source": " \n#ifndef BLK_STAT_H\n#define BLK_STAT_H\n\n#include <linux/kernel.h>\n#include <linux/blkdev.h>\n#include <linux/ktime.h>\n#include <linux/rcupdate.h>\n#include <linux/timer.h>\n\n \nstruct blk_stat_callback {\n\t \n\tstruct list_head list;\n\n\t \n\tstruct timer_list timer;\n\n\t \n\tstruct blk_rq_stat __percpu *cpu_stat;\n\n\t \n\tint (*bucket_fn)(const struct request *);\n\n\t \n\tunsigned int buckets;\n\n\t \n\tstruct blk_rq_stat *stat;\n\n\t \n\tvoid (*timer_fn)(struct blk_stat_callback *);\n\n\t \n\tvoid *data;\n\n\tstruct rcu_head rcu;\n};\n\nstruct blk_queue_stats *blk_alloc_queue_stats(void);\nvoid blk_free_queue_stats(struct blk_queue_stats *);\nbool blk_stats_alloc_enable(struct request_queue *q);\n\nvoid blk_stat_add(struct request *rq, u64 now);\n\n \nvoid blk_stat_enable_accounting(struct request_queue *q);\nvoid blk_stat_disable_accounting(struct request_queue *q);\n\n \nstruct blk_stat_callback *\nblk_stat_alloc_callback(void (*timer_fn)(struct blk_stat_callback *),\n\t\t\tint (*bucket_fn)(const struct request *),\n\t\t\tunsigned int buckets, void *data);\n\n \nvoid blk_stat_add_callback(struct request_queue *q,\n\t\t\t   struct blk_stat_callback *cb);\n\n \nvoid blk_stat_remove_callback(struct request_queue *q,\n\t\t\t      struct blk_stat_callback *cb);\n\n \nvoid blk_stat_free_callback(struct blk_stat_callback *cb);\n\n \nstatic inline bool blk_stat_is_active(struct blk_stat_callback *cb)\n{\n\treturn timer_pending(&cb->timer);\n}\n\n \nstatic inline void blk_stat_activate_nsecs(struct blk_stat_callback *cb,\n\t\t\t\t\t   u64 nsecs)\n{\n\tmod_timer(&cb->timer, jiffies + nsecs_to_jiffies(nsecs));\n}\n\nstatic inline void blk_stat_deactivate(struct blk_stat_callback *cb)\n{\n\tdel_timer_sync(&cb->timer);\n}\n\n \nstatic inline void blk_stat_activate_msecs(struct blk_stat_callback *cb,\n\t\t\t\t\t   unsigned int msecs)\n{\n\tmod_timer(&cb->timer, jiffies + msecs_to_jiffies(msecs));\n}\n\nvoid blk_rq_stat_add(struct blk_rq_stat *, u64);\nvoid blk_rq_stat_sum(struct blk_rq_stat *, struct blk_rq_stat *);\nvoid blk_rq_stat_init(struct blk_rq_stat *);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}