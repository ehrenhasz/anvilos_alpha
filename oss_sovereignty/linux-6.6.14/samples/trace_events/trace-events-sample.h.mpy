{
  "module_name": "trace-events-sample.h",
  "hash_id": "e98c3061d306f0773ad8b3fe8e936143995e80f2dcdff631a0c24ce56e7b8aba",
  "original_prompt": "Ingested from linux-6.6.14/samples/trace_events/trace-events-sample.h",
  "human_readable_source": " \n \n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM sample-trace\n\n \n#undef TRACE_SYSTEM_VAR\n#define TRACE_SYSTEM_VAR sample_trace\n \n\n \n#if !defined(_TRACE_EVENT_SAMPLE_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _TRACE_EVENT_SAMPLE_H\n\n \n#include <linux/tracepoint.h>\n\n \n\n \n#ifndef __TRACE_EVENT_SAMPLE_HELPER_FUNCTIONS\n#define __TRACE_EVENT_SAMPLE_HELPER_FUNCTIONS\nstatic inline int __length_of(const int *list)\n{\n\tint i;\n\n\tif (!list)\n\t\treturn 0;\n\n\tfor (i = 0; list[i]; i++)\n\t\t;\n\treturn i;\n}\n\nenum {\n\tTRACE_SAMPLE_FOO = 2,\n\tTRACE_SAMPLE_BAR = 4,\n\tTRACE_SAMPLE_ZOO = 8,\n};\n#endif\n\n \n\nTRACE_DEFINE_ENUM(TRACE_SAMPLE_FOO);\nTRACE_DEFINE_ENUM(TRACE_SAMPLE_BAR);\nTRACE_DEFINE_ENUM(TRACE_SAMPLE_ZOO);\n\nTRACE_EVENT(foo_bar,\n\n\tTP_PROTO(const char *foo, int bar, const int *lst,\n\t\t const char *string, const struct cpumask *mask,\n\t\t const char *fmt, va_list *va),\n\n\tTP_ARGS(foo, bar, lst, string, mask, fmt, va),\n\n\tTP_STRUCT__entry(\n\t\t__array(\tchar,\tfoo,    10\t\t)\n\t\t__field(\tint,\tbar\t\t\t)\n\t\t__dynamic_array(int,\tlist,   __length_of(lst))\n\t\t__string(\tstr,\tstring\t\t\t)\n\t\t__bitmask(\tcpus,\tnum_possible_cpus()\t)\n\t\t__cpumask(\tcpum\t\t\t\t)\n\t\t__vstring(\tvstr,\tfmt,\tva\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\tstrlcpy(__entry->foo, foo, 10);\n\t\t__entry->bar\t= bar;\n\t\tmemcpy(__get_dynamic_array(list), lst,\n\t\t       __length_of(lst) * sizeof(int));\n\t\t__assign_str(str, string);\n\t\t__assign_vstr(vstr, fmt, va);\n\t\t__assign_bitmask(cpus, cpumask_bits(mask), num_possible_cpus());\n\t\t__assign_cpumask(cpum, cpumask_bits(mask));\n\t),\n\n\tTP_printk(\"foo %s %d %s %s %s %s (%s) (%s) %s\", __entry->foo, __entry->bar,\n\n \n\t\t  __print_symbolic(__entry->bar,\n\t\t\t\t   { 0, \"zero\" },\n\t\t\t\t   { TRACE_SAMPLE_FOO, \"TWO\" },\n\t\t\t\t   { TRACE_SAMPLE_BAR, \"FOUR\" },\n\t\t\t\t   { TRACE_SAMPLE_ZOO, \"EIGHT\" },\n\t\t\t\t   { 10, \"TEN\" }\n\t\t\t  ),\n\n \n\t\t  __print_flags(__entry->bar, \"|\",\n\t\t\t\t{ 1, \"BIT1\" },\n\t\t\t\t{ 2, \"BIT2\" },\n\t\t\t\t{ 4, \"BIT3\" },\n\t\t\t\t{ 8, \"BIT4\" }\n\t\t\t  ),\n \n\t\t  __print_array(__get_dynamic_array(list),\n\t\t\t\t__get_dynamic_array_len(list) / sizeof(int),\n\t\t\t\tsizeof(int)),\n\t\t  __get_str(str), __get_bitmask(cpus), __get_cpumask(cpum),\n\t\t  __get_str(vstr))\n);\n\n \nTRACE_EVENT_CONDITION(foo_bar_with_cond,\n\n\tTP_PROTO(const char *foo, int bar),\n\n\tTP_ARGS(foo, bar),\n\n\tTP_CONDITION(!(bar % 10)),\n\n\tTP_STRUCT__entry(\n\t\t__string(\tfoo,    foo\t\t)\n\t\t__field(\tint,\tbar\t\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(foo, foo);\n\t\t__entry->bar\t= bar;\n\t),\n\n\tTP_printk(\"foo %s %d\", __get_str(foo), __entry->bar)\n);\n\nint foo_bar_reg(void);\nvoid foo_bar_unreg(void);\n\n \nTRACE_EVENT_FN(foo_bar_with_fn,\n\n\tTP_PROTO(const char *foo, int bar),\n\n\tTP_ARGS(foo, bar),\n\n\tTP_STRUCT__entry(\n\t\t__string(\tfoo,    foo\t\t)\n\t\t__field(\tint,\tbar\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(foo, foo);\n\t\t__entry->bar\t= bar;\n\t),\n\n\tTP_printk(\"foo %s %d\", __get_str(foo), __entry->bar),\n\n\tfoo_bar_reg, foo_bar_unreg\n);\n\n \nDECLARE_EVENT_CLASS(foo_template,\n\n\tTP_PROTO(const char *foo, int bar),\n\n\tTP_ARGS(foo, bar),\n\n\tTP_STRUCT__entry(\n\t\t__string(\tfoo,    foo\t\t)\n\t\t__field(\tint,\tbar\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(foo, foo);\n\t\t__entry->bar\t= bar;\n\t),\n\n\tTP_printk(\"foo %s %d\", __get_str(foo), __entry->bar)\n);\n\n \nDEFINE_EVENT(foo_template, foo_with_template_simple,\n\tTP_PROTO(const char *foo, int bar),\n\tTP_ARGS(foo, bar));\n\nDEFINE_EVENT_CONDITION(foo_template, foo_with_template_cond,\n\tTP_PROTO(const char *foo, int bar),\n\tTP_ARGS(foo, bar),\n\tTP_CONDITION(!(bar % 8)));\n\n\nDEFINE_EVENT_FN(foo_template, foo_with_template_fn,\n\tTP_PROTO(const char *foo, int bar),\n\tTP_ARGS(foo, bar),\n\tfoo_bar_reg, foo_bar_unreg);\n\n \n\n \n\nDEFINE_EVENT_PRINT(foo_template, foo_with_template_print,\n\tTP_PROTO(const char *foo, int bar),\n\tTP_ARGS(foo, bar),\n\tTP_printk(\"bar %s %d\", __get_str(foo), __entry->bar));\n\n \n\nTRACE_EVENT(foo_rel_loc,\n\n\tTP_PROTO(const char *foo, int bar, unsigned long *mask, const cpumask_t *cpus),\n\n\tTP_ARGS(foo, bar, mask, cpus),\n\n\tTP_STRUCT__entry(\n\t\t__rel_string(\tfoo,\tfoo\t)\n\t\t__field(\tint,\tbar\t)\n\t\t__rel_bitmask(\tbitmask,\n\t\t\tBITS_PER_BYTE * sizeof(unsigned long)\t)\n\t\t__rel_cpumask(\tcpumask )\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_rel_str(foo, foo);\n\t\t__entry->bar = bar;\n\t\t__assign_rel_bitmask(bitmask, mask,\n\t\t\tBITS_PER_BYTE * sizeof(unsigned long));\n\t\t__assign_rel_cpumask(cpumask, cpus);\n\t),\n\n\tTP_printk(\"foo_rel_loc %s, %d, %s, %s\", __get_rel_str(foo), __entry->bar,\n\t\t  __get_rel_bitmask(bitmask),\n\t\t  __get_rel_cpumask(cpumask))\n);\n#endif\n\n \n\n\n \n#undef TRACE_INCLUDE_PATH\n#undef TRACE_INCLUDE_FILE\n#define TRACE_INCLUDE_PATH .\n \n#define TRACE_INCLUDE_FILE trace-events-sample\n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}