{
  "module_name": "libfdt.h",
  "hash_id": "e750319f86ecbd2ed29f8f7b6061fc1488894e9f23a263eaff0071509e6c5e9f",
  "original_prompt": "Ingested from linux-6.6.14/scripts/dtc/libfdt/libfdt.h",
  "human_readable_source": " \n#ifndef LIBFDT_H\n#define LIBFDT_H\n \n\n#include \"libfdt_env.h\"\n#include \"fdt.h\"\n\n#ifdef __cplusplus\nextern \"C\" {\n#endif\n\n#define FDT_FIRST_SUPPORTED_VERSION\t0x02\n#define FDT_LAST_COMPATIBLE_VERSION 0x10\n#define FDT_LAST_SUPPORTED_VERSION\t0x11\n\n \n#define FDT_ERR_NOTFOUND\t1\n\t \n#define FDT_ERR_EXISTS\t\t2\n\t \n#define FDT_ERR_NOSPACE\t\t3\n\t \n\n \n#define FDT_ERR_BADOFFSET\t4\n\t \n#define FDT_ERR_BADPATH\t\t5\n\t \n#define FDT_ERR_BADPHANDLE\t6\n\t \n#define FDT_ERR_BADSTATE\t7\n\t \n\n \n#define FDT_ERR_TRUNCATED\t8\n\t \n#define FDT_ERR_BADMAGIC\t9\n\t \n#define FDT_ERR_BADVERSION\t10\n\t \n#define FDT_ERR_BADSTRUCTURE\t11\n\t \n#define FDT_ERR_BADLAYOUT\t12\n\t \n\n \n#define FDT_ERR_INTERNAL\t13\n\t \n\n \n#define FDT_ERR_BADNCELLS\t14\n\t \n\n#define FDT_ERR_BADVALUE\t15\n\t \n\n#define FDT_ERR_BADOVERLAY\t16\n\t \n\n#define FDT_ERR_NOPHANDLES\t17\n\t \n\n#define FDT_ERR_BADFLAGS\t18\n\t \n\n#define FDT_ERR_ALIGNMENT\t19\n\t \n\n#define FDT_ERR_MAX\t\t19\n\n \n#define FDT_MAX_PHANDLE 0xfffffffe\n\t \n\n \n \n \n\n#ifndef SWIG  \nconst void *fdt_offset_ptr(const void *fdt, int offset, unsigned int checklen);\n#endif\nstatic inline void *fdt_offset_ptr_w(void *fdt, int offset, int checklen)\n{\n\treturn (void *)(uintptr_t)fdt_offset_ptr(fdt, offset, checklen);\n}\n\nuint32_t fdt_next_tag(const void *fdt, int offset, int *nextoffset);\n\n \nstatic inline uint16_t fdt16_ld(const fdt16_t *p)\n{\n\tconst uint8_t *bp = (const uint8_t *)p;\n\n\treturn ((uint16_t)bp[0] << 8) | bp[1];\n}\n\nstatic inline uint32_t fdt32_ld(const fdt32_t *p)\n{\n\tconst uint8_t *bp = (const uint8_t *)p;\n\n\treturn ((uint32_t)bp[0] << 24)\n\t\t| ((uint32_t)bp[1] << 16)\n\t\t| ((uint32_t)bp[2] << 8)\n\t\t| bp[3];\n}\n\nstatic inline void fdt32_st(void *property, uint32_t value)\n{\n\tuint8_t *bp = (uint8_t *)property;\n\n\tbp[0] = value >> 24;\n\tbp[1] = (value >> 16) & 0xff;\n\tbp[2] = (value >> 8) & 0xff;\n\tbp[3] = value & 0xff;\n}\n\nstatic inline uint64_t fdt64_ld(const fdt64_t *p)\n{\n\tconst uint8_t *bp = (const uint8_t *)p;\n\n\treturn ((uint64_t)bp[0] << 56)\n\t\t| ((uint64_t)bp[1] << 48)\n\t\t| ((uint64_t)bp[2] << 40)\n\t\t| ((uint64_t)bp[3] << 32)\n\t\t| ((uint64_t)bp[4] << 24)\n\t\t| ((uint64_t)bp[5] << 16)\n\t\t| ((uint64_t)bp[6] << 8)\n\t\t| bp[7];\n}\n\nstatic inline void fdt64_st(void *property, uint64_t value)\n{\n\tuint8_t *bp = (uint8_t *)property;\n\n\tbp[0] = value >> 56;\n\tbp[1] = (value >> 48) & 0xff;\n\tbp[2] = (value >> 40) & 0xff;\n\tbp[3] = (value >> 32) & 0xff;\n\tbp[4] = (value >> 24) & 0xff;\n\tbp[5] = (value >> 16) & 0xff;\n\tbp[6] = (value >> 8) & 0xff;\n\tbp[7] = value & 0xff;\n}\n\n \n \n \n\nint fdt_next_node(const void *fdt, int offset, int *depth);\n\n \nint fdt_first_subnode(const void *fdt, int offset);\n\n \nint fdt_next_subnode(const void *fdt, int offset);\n\n \n#define fdt_for_each_subnode(node, fdt, parent)\t\t\\\n\tfor (node = fdt_first_subnode(fdt, parent);\t\\\n\t     node >= 0;\t\t\t\t\t\\\n\t     node = fdt_next_subnode(fdt, node))\n\n \n \n \n#define fdt_get_header(fdt, field) \\\n\t(fdt32_ld(&((const struct fdt_header *)(fdt))->field))\n#define fdt_magic(fdt)\t\t\t(fdt_get_header(fdt, magic))\n#define fdt_totalsize(fdt)\t\t(fdt_get_header(fdt, totalsize))\n#define fdt_off_dt_struct(fdt)\t\t(fdt_get_header(fdt, off_dt_struct))\n#define fdt_off_dt_strings(fdt)\t\t(fdt_get_header(fdt, off_dt_strings))\n#define fdt_off_mem_rsvmap(fdt)\t\t(fdt_get_header(fdt, off_mem_rsvmap))\n#define fdt_version(fdt)\t\t(fdt_get_header(fdt, version))\n#define fdt_last_comp_version(fdt)\t(fdt_get_header(fdt, last_comp_version))\n#define fdt_boot_cpuid_phys(fdt)\t(fdt_get_header(fdt, boot_cpuid_phys))\n#define fdt_size_dt_strings(fdt)\t(fdt_get_header(fdt, size_dt_strings))\n#define fdt_size_dt_struct(fdt)\t\t(fdt_get_header(fdt, size_dt_struct))\n\n#define fdt_set_hdr_(name) \\\n\tstatic inline void fdt_set_##name(void *fdt, uint32_t val) \\\n\t{ \\\n\t\tstruct fdt_header *fdth = (struct fdt_header *)fdt; \\\n\t\tfdth->name = cpu_to_fdt32(val); \\\n\t}\nfdt_set_hdr_(magic);\nfdt_set_hdr_(totalsize);\nfdt_set_hdr_(off_dt_struct);\nfdt_set_hdr_(off_dt_strings);\nfdt_set_hdr_(off_mem_rsvmap);\nfdt_set_hdr_(version);\nfdt_set_hdr_(last_comp_version);\nfdt_set_hdr_(boot_cpuid_phys);\nfdt_set_hdr_(size_dt_strings);\nfdt_set_hdr_(size_dt_struct);\n#undef fdt_set_hdr_\n\n \nsize_t fdt_header_size(const void *fdt);\n\n \nsize_t fdt_header_size_(uint32_t version);\n\n \nint fdt_check_header(const void *fdt);\n\n \nint fdt_move(const void *fdt, void *buf, int bufsize);\n\n \n \n \n\nint fdt_check_full(const void *fdt, size_t bufsize);\n\n \nconst char *fdt_get_string(const void *fdt, int stroffset, int *lenp);\n\n \nconst char *fdt_string(const void *fdt, int stroffset);\n\n \nint fdt_find_max_phandle(const void *fdt, uint32_t *phandle);\n\n \nstatic inline uint32_t fdt_get_max_phandle(const void *fdt)\n{\n\tuint32_t phandle;\n\tint err;\n\n\terr = fdt_find_max_phandle(fdt, &phandle);\n\tif (err < 0)\n\t\treturn (uint32_t)-1;\n\n\treturn phandle;\n}\n\n \nint fdt_generate_phandle(const void *fdt, uint32_t *phandle);\n\n \nint fdt_num_mem_rsv(const void *fdt);\n\n \nint fdt_get_mem_rsv(const void *fdt, int n, uint64_t *address, uint64_t *size);\n\n \n#ifndef SWIG  \nint fdt_subnode_offset_namelen(const void *fdt, int parentoffset,\n\t\t\t       const char *name, int namelen);\n#endif\n \nint fdt_subnode_offset(const void *fdt, int parentoffset, const char *name);\n\n \n#ifndef SWIG  \nint fdt_path_offset_namelen(const void *fdt, const char *path, int namelen);\n#endif\n\n \nint fdt_path_offset(const void *fdt, const char *path);\n\n \nconst char *fdt_get_name(const void *fdt, int nodeoffset, int *lenp);\n\n \nint fdt_first_property_offset(const void *fdt, int nodeoffset);\n\n \nint fdt_next_property_offset(const void *fdt, int offset);\n\n \n#define fdt_for_each_property_offset(property, fdt, node)\t\\\n\tfor (property = fdt_first_property_offset(fdt, node);\t\\\n\t     property >= 0;\t\t\t\t\t\\\n\t     property = fdt_next_property_offset(fdt, property))\n\n \nconst struct fdt_property *fdt_get_property_by_offset(const void *fdt,\n\t\t\t\t\t\t      int offset,\n\t\t\t\t\t\t      int *lenp);\nstatic inline struct fdt_property *fdt_get_property_by_offset_w(void *fdt,\n\t\t\t\t\t\t\t\tint offset,\n\t\t\t\t\t\t\t\tint *lenp)\n{\n\treturn (struct fdt_property *)(uintptr_t)\n\t\tfdt_get_property_by_offset(fdt, offset, lenp);\n}\n\n \n#ifndef SWIG  \nconst struct fdt_property *fdt_get_property_namelen(const void *fdt,\n\t\t\t\t\t\t    int nodeoffset,\n\t\t\t\t\t\t    const char *name,\n\t\t\t\t\t\t    int namelen, int *lenp);\n#endif\n\n \nconst struct fdt_property *fdt_get_property(const void *fdt, int nodeoffset,\n\t\t\t\t\t    const char *name, int *lenp);\nstatic inline struct fdt_property *fdt_get_property_w(void *fdt, int nodeoffset,\n\t\t\t\t\t\t      const char *name,\n\t\t\t\t\t\t      int *lenp)\n{\n\treturn (struct fdt_property *)(uintptr_t)\n\t\tfdt_get_property(fdt, nodeoffset, name, lenp);\n}\n\n \n#ifndef SWIG  \nconst void *fdt_getprop_by_offset(const void *fdt, int offset,\n\t\t\t\t  const char **namep, int *lenp);\n#endif\n\n \n#ifndef SWIG  \nconst void *fdt_getprop_namelen(const void *fdt, int nodeoffset,\n\t\t\t\tconst char *name, int namelen, int *lenp);\nstatic inline void *fdt_getprop_namelen_w(void *fdt, int nodeoffset,\n\t\t\t\t\t  const char *name, int namelen,\n\t\t\t\t\t  int *lenp)\n{\n\treturn (void *)(uintptr_t)fdt_getprop_namelen(fdt, nodeoffset, name,\n\t\t\t\t\t\t      namelen, lenp);\n}\n#endif\n\n \nconst void *fdt_getprop(const void *fdt, int nodeoffset,\n\t\t\tconst char *name, int *lenp);\nstatic inline void *fdt_getprop_w(void *fdt, int nodeoffset,\n\t\t\t\t  const char *name, int *lenp)\n{\n\treturn (void *)(uintptr_t)fdt_getprop(fdt, nodeoffset, name, lenp);\n}\n\n \nuint32_t fdt_get_phandle(const void *fdt, int nodeoffset);\n\n \n#ifndef SWIG  \nconst char *fdt_get_alias_namelen(const void *fdt,\n\t\t\t\t  const char *name, int namelen);\n#endif\n\n \nconst char *fdt_get_alias(const void *fdt, const char *name);\n\n \nint fdt_get_path(const void *fdt, int nodeoffset, char *buf, int buflen);\n\n \nint fdt_supernode_atdepth_offset(const void *fdt, int nodeoffset,\n\t\t\t\t int supernodedepth, int *nodedepth);\n\n \nint fdt_node_depth(const void *fdt, int nodeoffset);\n\n \nint fdt_parent_offset(const void *fdt, int nodeoffset);\n\n \nint fdt_node_offset_by_prop_value(const void *fdt, int startoffset,\n\t\t\t\t  const char *propname,\n\t\t\t\t  const void *propval, int proplen);\n\n \nint fdt_node_offset_by_phandle(const void *fdt, uint32_t phandle);\n\n \nint fdt_node_check_compatible(const void *fdt, int nodeoffset,\n\t\t\t      const char *compatible);\n\n \nint fdt_node_offset_by_compatible(const void *fdt, int startoffset,\n\t\t\t\t  const char *compatible);\n\n \nint fdt_stringlist_contains(const char *strlist, int listlen, const char *str);\n\n \nint fdt_stringlist_count(const void *fdt, int nodeoffset, const char *property);\n\n \nint fdt_stringlist_search(const void *fdt, int nodeoffset, const char *property,\n\t\t\t  const char *string);\n\n \nconst char *fdt_stringlist_get(const void *fdt, int nodeoffset,\n\t\t\t       const char *property, int index,\n\t\t\t       int *lenp);\n\n \n \n \n\n \n#define FDT_MAX_NCELLS\t\t4\n\n \nint fdt_address_cells(const void *fdt, int nodeoffset);\n\n \nint fdt_size_cells(const void *fdt, int nodeoffset);\n\n\n \n \n \n\n \n#ifndef SWIG  \nint fdt_setprop_inplace_namelen_partial(void *fdt, int nodeoffset,\n\t\t\t\t\tconst char *name, int namelen,\n\t\t\t\t\tuint32_t idx, const void *val,\n\t\t\t\t\tint len);\n#endif\n\n \n#ifndef SWIG  \nint fdt_setprop_inplace(void *fdt, int nodeoffset, const char *name,\n\t\t\tconst void *val, int len);\n#endif\n\n \nstatic inline int fdt_setprop_inplace_u32(void *fdt, int nodeoffset,\n\t\t\t\t\t  const char *name, uint32_t val)\n{\n\tfdt32_t tmp = cpu_to_fdt32(val);\n\treturn fdt_setprop_inplace(fdt, nodeoffset, name, &tmp, sizeof(tmp));\n}\n\n \nstatic inline int fdt_setprop_inplace_u64(void *fdt, int nodeoffset,\n\t\t\t\t\t  const char *name, uint64_t val)\n{\n\tfdt64_t tmp = cpu_to_fdt64(val);\n\treturn fdt_setprop_inplace(fdt, nodeoffset, name, &tmp, sizeof(tmp));\n}\n\n \nstatic inline int fdt_setprop_inplace_cell(void *fdt, int nodeoffset,\n\t\t\t\t\t   const char *name, uint32_t val)\n{\n\treturn fdt_setprop_inplace_u32(fdt, nodeoffset, name, val);\n}\n\n \nint fdt_nop_property(void *fdt, int nodeoffset, const char *name);\n\n \nint fdt_nop_node(void *fdt, int nodeoffset);\n\n \n \n \n\n \n#define FDT_CREATE_FLAG_NO_NAME_DEDUP 0x1\n\t \n\n#define FDT_CREATE_FLAGS_ALL\t(FDT_CREATE_FLAG_NO_NAME_DEDUP)\n\n \nint fdt_create_with_flags(void *buf, int bufsize, uint32_t flags);\n\n \nint fdt_create(void *buf, int bufsize);\n\nint fdt_resize(void *fdt, void *buf, int bufsize);\nint fdt_add_reservemap_entry(void *fdt, uint64_t addr, uint64_t size);\nint fdt_finish_reservemap(void *fdt);\nint fdt_begin_node(void *fdt, const char *name);\nint fdt_property(void *fdt, const char *name, const void *val, int len);\nstatic inline int fdt_property_u32(void *fdt, const char *name, uint32_t val)\n{\n\tfdt32_t tmp = cpu_to_fdt32(val);\n\treturn fdt_property(fdt, name, &tmp, sizeof(tmp));\n}\nstatic inline int fdt_property_u64(void *fdt, const char *name, uint64_t val)\n{\n\tfdt64_t tmp = cpu_to_fdt64(val);\n\treturn fdt_property(fdt, name, &tmp, sizeof(tmp));\n}\n\n#ifndef SWIG  \nstatic inline int fdt_property_cell(void *fdt, const char *name, uint32_t val)\n{\n\treturn fdt_property_u32(fdt, name, val);\n}\n#endif\n\n \nint fdt_property_placeholder(void *fdt, const char *name, int len, void **valp);\n\n#define fdt_property_string(fdt, name, str) \\\n\tfdt_property(fdt, name, str, strlen(str)+1)\nint fdt_end_node(void *fdt);\nint fdt_finish(void *fdt);\n\n \n \n \n\nint fdt_create_empty_tree(void *buf, int bufsize);\nint fdt_open_into(const void *fdt, void *buf, int bufsize);\nint fdt_pack(void *fdt);\n\n \nint fdt_add_mem_rsv(void *fdt, uint64_t address, uint64_t size);\n\n \nint fdt_del_mem_rsv(void *fdt, int n);\n\n \nint fdt_set_name(void *fdt, int nodeoffset, const char *name);\n\n \nint fdt_setprop(void *fdt, int nodeoffset, const char *name,\n\t\tconst void *val, int len);\n\n \nint fdt_setprop_placeholder(void *fdt, int nodeoffset, const char *name,\n\t\t\t    int len, void **prop_data);\n\n \nstatic inline int fdt_setprop_u32(void *fdt, int nodeoffset, const char *name,\n\t\t\t\t  uint32_t val)\n{\n\tfdt32_t tmp = cpu_to_fdt32(val);\n\treturn fdt_setprop(fdt, nodeoffset, name, &tmp, sizeof(tmp));\n}\n\n \nstatic inline int fdt_setprop_u64(void *fdt, int nodeoffset, const char *name,\n\t\t\t\t  uint64_t val)\n{\n\tfdt64_t tmp = cpu_to_fdt64(val);\n\treturn fdt_setprop(fdt, nodeoffset, name, &tmp, sizeof(tmp));\n}\n\n \nstatic inline int fdt_setprop_cell(void *fdt, int nodeoffset, const char *name,\n\t\t\t\t   uint32_t val)\n{\n\treturn fdt_setprop_u32(fdt, nodeoffset, name, val);\n}\n\n \n#define fdt_setprop_string(fdt, nodeoffset, name, str) \\\n\tfdt_setprop((fdt), (nodeoffset), (name), (str), strlen(str)+1)\n\n\n \n#define fdt_setprop_empty(fdt, nodeoffset, name) \\\n\tfdt_setprop((fdt), (nodeoffset), (name), NULL, 0)\n\n \nint fdt_appendprop(void *fdt, int nodeoffset, const char *name,\n\t\t   const void *val, int len);\n\n \nstatic inline int fdt_appendprop_u32(void *fdt, int nodeoffset,\n\t\t\t\t     const char *name, uint32_t val)\n{\n\tfdt32_t tmp = cpu_to_fdt32(val);\n\treturn fdt_appendprop(fdt, nodeoffset, name, &tmp, sizeof(tmp));\n}\n\n \nstatic inline int fdt_appendprop_u64(void *fdt, int nodeoffset,\n\t\t\t\t     const char *name, uint64_t val)\n{\n\tfdt64_t tmp = cpu_to_fdt64(val);\n\treturn fdt_appendprop(fdt, nodeoffset, name, &tmp, sizeof(tmp));\n}\n\n \nstatic inline int fdt_appendprop_cell(void *fdt, int nodeoffset,\n\t\t\t\t      const char *name, uint32_t val)\n{\n\treturn fdt_appendprop_u32(fdt, nodeoffset, name, val);\n}\n\n \n#define fdt_appendprop_string(fdt, nodeoffset, name, str) \\\n\tfdt_appendprop((fdt), (nodeoffset), (name), (str), strlen(str)+1)\n\n \nint fdt_appendprop_addrrange(void *fdt, int parent, int nodeoffset,\n\t\t\t     const char *name, uint64_t addr, uint64_t size);\n\n \nint fdt_delprop(void *fdt, int nodeoffset, const char *name);\n\n \n#ifndef SWIG  \nint fdt_add_subnode_namelen(void *fdt, int parentoffset,\n\t\t\t    const char *name, int namelen);\n#endif\n\n \nint fdt_add_subnode(void *fdt, int parentoffset, const char *name);\n\n \nint fdt_del_node(void *fdt, int nodeoffset);\n\n \nint fdt_overlay_apply(void *fdt, void *fdto);\n\n \nint fdt_overlay_target_offset(const void *fdt, const void *fdto,\n\t\t\t      int fragment_offset, char const **pathp);\n\n \n \n \n\nconst char *fdt_strerror(int errval);\n\n#ifdef __cplusplus\n}\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}