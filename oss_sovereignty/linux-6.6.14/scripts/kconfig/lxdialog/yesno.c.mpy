{
  "module_name": "yesno.c",
  "hash_id": "c233819063a77e9592bb6a14689a085a1dea486546ec894c9dbf1e86adf83c60",
  "original_prompt": "Ingested from linux-6.6.14/scripts/kconfig/lxdialog/yesno.c",
  "human_readable_source": "\n \n\n#include \"dialog.h\"\n\n \nstatic void print_buttons(WINDOW * dialog, int height, int width, int selected)\n{\n\tint x = width / 2 - 10;\n\tint y = height - 2;\n\n\tprint_button(dialog, \" Yes \", y, x, selected == 0);\n\tprint_button(dialog, \"  No  \", y, x + 13, selected == 1);\n\n\twmove(dialog, y, x + 1 + 13 * selected);\n\twrefresh(dialog);\n}\n\n \nint dialog_yesno(const char *title, const char *prompt, int height, int width)\n{\n\tint i, x, y, key = 0, button = 0;\n\tWINDOW *dialog;\n\ndo_resize:\n\tif (getmaxy(stdscr) < (height + YESNO_HEIGTH_MIN))\n\t\treturn -ERRDISPLAYTOOSMALL;\n\tif (getmaxx(stdscr) < (width + YESNO_WIDTH_MIN))\n\t\treturn -ERRDISPLAYTOOSMALL;\n\n\t \n\tx = (getmaxx(stdscr) - width) / 2;\n\ty = (getmaxy(stdscr) - height) / 2;\n\n\tdraw_shadow(stdscr, y, x, height, width);\n\n\tdialog = newwin(height, width, y, x);\n\tkeypad(dialog, TRUE);\n\n\tdraw_box(dialog, 0, 0, height, width,\n\t\t dlg.dialog.atr, dlg.border.atr);\n\twattrset(dialog, dlg.border.atr);\n\tmvwaddch(dialog, height - 3, 0, ACS_LTEE);\n\tfor (i = 0; i < width - 2; i++)\n\t\twaddch(dialog, ACS_HLINE);\n\twattrset(dialog, dlg.dialog.atr);\n\twaddch(dialog, ACS_RTEE);\n\n\tprint_title(dialog, title, width);\n\n\twattrset(dialog, dlg.dialog.atr);\n\tprint_autowrap(dialog, prompt, width - 2, 1, 3);\n\n\tprint_buttons(dialog, height, width, 0);\n\n\twhile (key != KEY_ESC) {\n\t\tkey = wgetch(dialog);\n\t\tswitch (key) {\n\t\tcase 'Y':\n\t\tcase 'y':\n\t\t\tdelwin(dialog);\n\t\t\treturn 0;\n\t\tcase 'N':\n\t\tcase 'n':\n\t\t\tdelwin(dialog);\n\t\t\treturn 1;\n\n\t\tcase TAB:\n\t\tcase KEY_LEFT:\n\t\tcase KEY_RIGHT:\n\t\t\tbutton = ((key == KEY_LEFT ? --button : ++button) < 0) ? 1 : (button > 1 ? 0 : button);\n\n\t\t\tprint_buttons(dialog, height, width, button);\n\t\t\twrefresh(dialog);\n\t\t\tbreak;\n\t\tcase ' ':\n\t\tcase '\\n':\n\t\t\tdelwin(dialog);\n\t\t\treturn button;\n\t\tcase KEY_ESC:\n\t\t\tkey = on_key_esc(dialog);\n\t\t\tbreak;\n\t\tcase KEY_RESIZE:\n\t\t\tdelwin(dialog);\n\t\t\ton_key_resize();\n\t\t\tgoto do_resize;\n\t\t}\n\t}\n\n\tdelwin(dialog);\n\treturn key;\t\t \n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}