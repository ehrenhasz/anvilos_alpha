{
  "module_name": "ld-version.sh",
  "hash_id": "15e7eb745335a6dab04d74a9b223bd9632f23dfb7d56074125cbd6d77a0c73a8",
  "original_prompt": "Ingested from linux-6.6.14/scripts/ld-version.sh",
  "human_readable_source": "#!/bin/sh\n# SPDX-License-Identifier: GPL-2.0\n#\n# Print the linker name and its version in a 5 or 6-digit form.\n# Also, perform the minimum version check.\n\nset -e\n\n# Convert the version string x.y.z to a canonical 5 or 6-digit form.\nget_canonical_version()\n{\n\tIFS=.\n\tset -- $1\n\n\t# If the 2nd or 3rd field is missing, fill it with a zero.\n\t#\n\t# The 4th field, if present, is ignored.\n\t# This occurs in development snapshots as in 2.35.1.20201116\n\techo $((10000 * $1 + 100 * ${2:-0} + ${3:-0}))\n}\n\norig_args=\"$@\"\n\n# Get the first line of the --version output.\nIFS='\n'\nset -- $(LC_ALL=C \"$@\" --version)\n\n# Split the line on spaces.\nIFS=' '\nset -- $1\n\nmin_tool_version=$(dirname $0)/min-tool-version.sh\n\nif [ \"$1\" = GNU -a \"$2\" = ld ]; then\n\tshift $(($# - 1))\n\tversion=$1\n\tmin_version=$($min_tool_version binutils)\n\tname=BFD\n\tdisp_name=\"GNU ld\"\nelif [ \"$1\" = GNU -a \"$2\" = gold ]; then\n\techo \"gold linker is not supported as it is not capable of linking the kernel proper.\" >&2\n\texit 1\nelse\n\twhile [ $# -gt 1 -a \"$1\" != \"LLD\" ]; do\n\t\tshift\n\tdone\n\n\tif [ \"$1\" = LLD ]; then\n\t\tversion=$2\n\t\tmin_version=$($min_tool_version llvm)\n\t\tname=LLD\n\t\tdisp_name=LLD\n\telse\n\t\techo \"$orig_args: unknown linker\" >&2\n\t\texit 1\n\tfi\nfi\n\n# Some distributions append a package release number, as in 2.34-4.fc32\n# Trim the hyphen and any characters that follow.\nversion=${version%-*}\n\ncversion=$(get_canonical_version $version)\nmin_cversion=$(get_canonical_version $min_version)\n\nif [ \"$cversion\" -lt \"$min_cversion\" ]; then\n\techo >&2 \"***\"\n\techo >&2 \"*** Linker is too old.\"\n\techo >&2 \"***   Your $disp_name version:    $version\"\n\techo >&2 \"***   Minimum $disp_name version: $min_version\"\n\techo >&2 \"***\"\n\texit 1\nfi\n\necho $name $cversion\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}