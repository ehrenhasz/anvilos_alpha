{
  "module_name": "err_cast.cocci",
  "hash_id": "a95a6a8ee0a67b29bfdad7fb0402eff304530fac865d525845763725ac6f6da1",
  "original_prompt": "Ingested from linux-6.6.14/scripts/coccinelle/api/err_cast.cocci",
  "human_readable_source": "// SPDX-License-Identifier: GPL-2.0-only\n///\n/// Use ERR_CAST inlined function instead of ERR_PTR(PTR_ERR(...))\n///\n// Confidence: High\n// Copyright: (C) 2009, 2010 Nicolas Palix, DIKU.\n// Copyright: (C) 2009, 2010 Julia Lawall, DIKU.\n// Copyright: (C) 2009, 2010 Gilles Muller, INRIA/LiP6.\n// URL: https://coccinelle.gitlabpages.inria.fr/website\n// Options:\n//\n// Keywords: ERR_PTR, PTR_ERR, ERR_CAST\n// Version min: 2.6.25\n//\n\nvirtual context\nvirtual patch\nvirtual org\nvirtual report\n\n\n@ depends on context && !patch && !org && !report@\nexpression x;\n@@\n\n* ERR_PTR(PTR_ERR(x))\n\n@ depends on !context && patch && !org && !report @\nexpression x;\n@@\n\n- ERR_PTR(PTR_ERR(x))\n+ ERR_CAST(x)\n\n@r depends on !context && !patch && (org || report)@\nexpression x;\nposition p;\n@@\n\n ERR_PTR@p(PTR_ERR(x))\n\n@script:python depends on org@\np << r.p;\nx << r.x;\n@@\n\nmsg=\"WARNING ERR_CAST can be used with %s\" % (x)\nmsg_safe=msg.replace(\"[\",\"@(\").replace(\"]\",\")\")\ncoccilib.org.print_todo(p[0], msg_safe)\n\n@script:python depends on report@\np << r.p;\nx << r.x;\n@@\n\nmsg=\"WARNING: ERR_CAST can be used with %s\" % (x)\ncoccilib.report.print_report(p[0], msg)\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}