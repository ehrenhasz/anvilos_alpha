{
  "module_name": "stop_task.c",
  "hash_id": "968be22cc2cb6a33b0233c2d310f5d7c669ac46974c8ad4a2e8bf58a8e33e8cf",
  "original_prompt": "Ingested from linux-6.6.14/kernel/sched/stop_task.c",
  "human_readable_source": "\n \n\n#ifdef CONFIG_SMP\nstatic int\nselect_task_rq_stop(struct task_struct *p, int cpu, int flags)\n{\n\treturn task_cpu(p);  \n}\n\nstatic int\nbalance_stop(struct rq *rq, struct task_struct *prev, struct rq_flags *rf)\n{\n\treturn sched_stop_runnable(rq);\n}\n#endif  \n\nstatic void\ncheck_preempt_curr_stop(struct rq *rq, struct task_struct *p, int flags)\n{\n\t \n}\n\nstatic void set_next_task_stop(struct rq *rq, struct task_struct *stop, bool first)\n{\n\tstop->se.exec_start = rq_clock_task(rq);\n}\n\nstatic struct task_struct *pick_task_stop(struct rq *rq)\n{\n\tif (!sched_stop_runnable(rq))\n\t\treturn NULL;\n\n\treturn rq->stop;\n}\n\nstatic struct task_struct *pick_next_task_stop(struct rq *rq)\n{\n\tstruct task_struct *p = pick_task_stop(rq);\n\n\tif (p)\n\t\tset_next_task_stop(rq, p, true);\n\n\treturn p;\n}\n\nstatic void\nenqueue_task_stop(struct rq *rq, struct task_struct *p, int flags)\n{\n\tadd_nr_running(rq, 1);\n}\n\nstatic void\ndequeue_task_stop(struct rq *rq, struct task_struct *p, int flags)\n{\n\tsub_nr_running(rq, 1);\n}\n\nstatic void yield_task_stop(struct rq *rq)\n{\n\tBUG();  \n}\n\nstatic void put_prev_task_stop(struct rq *rq, struct task_struct *prev)\n{\n\tstruct task_struct *curr = rq->curr;\n\tu64 now, delta_exec;\n\n\tnow = rq_clock_task(rq);\n\tdelta_exec = now - curr->se.exec_start;\n\tif (unlikely((s64)delta_exec < 0))\n\t\tdelta_exec = 0;\n\n\tschedstat_set(curr->stats.exec_max,\n\t\t      max(curr->stats.exec_max, delta_exec));\n\n\tupdate_current_exec_runtime(curr, now, delta_exec);\n}\n\n \nstatic void task_tick_stop(struct rq *rq, struct task_struct *curr, int queued)\n{\n}\n\nstatic void switched_to_stop(struct rq *rq, struct task_struct *p)\n{\n\tBUG();  \n}\n\nstatic void\nprio_changed_stop(struct rq *rq, struct task_struct *p, int oldprio)\n{\n\tBUG();  \n}\n\nstatic void update_curr_stop(struct rq *rq)\n{\n}\n\n \nDEFINE_SCHED_CLASS(stop) = {\n\n\t.enqueue_task\t\t= enqueue_task_stop,\n\t.dequeue_task\t\t= dequeue_task_stop,\n\t.yield_task\t\t= yield_task_stop,\n\n\t.check_preempt_curr\t= check_preempt_curr_stop,\n\n\t.pick_next_task\t\t= pick_next_task_stop,\n\t.put_prev_task\t\t= put_prev_task_stop,\n\t.set_next_task          = set_next_task_stop,\n\n#ifdef CONFIG_SMP\n\t.balance\t\t= balance_stop,\n\t.pick_task\t\t= pick_task_stop,\n\t.select_task_rq\t\t= select_task_rq_stop,\n\t.set_cpus_allowed\t= set_cpus_allowed_common,\n#endif\n\n\t.task_tick\t\t= task_tick_stop,\n\n\t.prio_changed\t\t= prio_changed_stop,\n\t.switched_to\t\t= switched_to_stop,\n\t.update_curr\t\t= update_curr_stop,\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}