{
  "module_name": "trace_entries.h",
  "hash_id": "a9e157e7d3e163b411eee354d1955265c07e5945a3dfc300543945fccd689ce6",
  "original_prompt": "Ingested from linux-6.6.14/kernel/trace/trace_entries.h",
  "human_readable_source": "\n \n\n \nFTRACE_ENTRY_REG(function, ftrace_entry,\n\n\tTRACE_FN,\n\n\tF_STRUCT(\n\t\t__field_fn(\tunsigned long,\tip\t\t)\n\t\t__field_fn(\tunsigned long,\tparent_ip\t)\n\t),\n\n\tF_printk(\" %ps <-- %ps\",\n\t\t (void *)__entry->ip, (void *)__entry->parent_ip),\n\n\tperf_ftrace_event_register\n);\n\n \nFTRACE_ENTRY_PACKED(funcgraph_entry, ftrace_graph_ent_entry,\n\n\tTRACE_GRAPH_ENT,\n\n\tF_STRUCT(\n\t\t__field_struct(\tstruct ftrace_graph_ent,\tgraph_ent\t)\n\t\t__field_packed(\tunsigned long,\tgraph_ent,\tfunc\t\t)\n\t\t__field_packed(\tint,\t\tgraph_ent,\tdepth\t\t)\n\t),\n\n\tF_printk(\"--> %ps (%d)\", (void *)__entry->func, __entry->depth)\n);\n\n \n#ifdef CONFIG_FUNCTION_GRAPH_RETVAL\n\nFTRACE_ENTRY_PACKED(funcgraph_exit, ftrace_graph_ret_entry,\n\n\tTRACE_GRAPH_RET,\n\n\tF_STRUCT(\n\t\t__field_struct(\tstruct ftrace_graph_ret,\tret\t)\n\t\t__field_packed(\tunsigned long,\tret,\t\tfunc\t)\n\t\t__field_packed(\tunsigned long,\tret,\t\tretval\t)\n\t\t__field_packed(\tint,\t\tret,\t\tdepth\t)\n\t\t__field_packed(\tunsigned int,\tret,\t\toverrun\t)\n\t\t__field_packed(\tunsigned long long, ret,\tcalltime)\n\t\t__field_packed(\tunsigned long long, ret,\trettime\t)\n\t),\n\n\tF_printk(\"<-- %ps (%d) (start: %llx  end: %llx) over: %d retval: %lx\",\n\t\t (void *)__entry->func, __entry->depth,\n\t\t __entry->calltime, __entry->rettime,\n\t\t __entry->depth, __entry->retval)\n);\n\n#else\n\nFTRACE_ENTRY_PACKED(funcgraph_exit, ftrace_graph_ret_entry,\n\n\tTRACE_GRAPH_RET,\n\n\tF_STRUCT(\n\t\t__field_struct(\tstruct ftrace_graph_ret,\tret\t)\n\t\t__field_packed(\tunsigned long,\tret,\t\tfunc\t)\n\t\t__field_packed(\tint,\t\tret,\t\tdepth\t)\n\t\t__field_packed(\tunsigned int,\tret,\t\toverrun\t)\n\t\t__field_packed(\tunsigned long long, ret,\tcalltime)\n\t\t__field_packed(\tunsigned long long, ret,\trettime\t)\n\t),\n\n\tF_printk(\"<-- %ps (%d) (start: %llx  end: %llx) over: %d\",\n\t\t (void *)__entry->func, __entry->depth,\n\t\t __entry->calltime, __entry->rettime,\n\t\t __entry->depth)\n);\n\n#endif\n\n \n#define FTRACE_CTX_FIELDS\t\t\t\t\t\\\n\t__field(\tunsigned int,\tprev_pid\t)\t\\\n\t__field(\tunsigned int,\tnext_pid\t)\t\\\n\t__field(\tunsigned int,\tnext_cpu\t)       \\\n\t__field(\tunsigned char,\tprev_prio\t)\t\\\n\t__field(\tunsigned char,\tprev_state\t)\t\\\n\t__field(\tunsigned char,\tnext_prio\t)\t\\\n\t__field(\tunsigned char,\tnext_state\t)\n\nFTRACE_ENTRY(context_switch, ctx_switch_entry,\n\n\tTRACE_CTX,\n\n\tF_STRUCT(\n\t\tFTRACE_CTX_FIELDS\n\t),\n\n\tF_printk(\"%u:%u:%u  ==> %u:%u:%u [%03u]\",\n\t\t __entry->prev_pid, __entry->prev_prio, __entry->prev_state,\n\t\t __entry->next_pid, __entry->next_prio, __entry->next_state,\n\t\t __entry->next_cpu)\n);\n\n \nFTRACE_ENTRY_DUP(wakeup, ctx_switch_entry,\n\n\tTRACE_WAKE,\n\n\tF_STRUCT(\n\t\tFTRACE_CTX_FIELDS\n\t),\n\n\tF_printk(\"%u:%u:%u  ==+ %u:%u:%u [%03u]\",\n\t\t __entry->prev_pid, __entry->prev_prio, __entry->prev_state,\n\t\t __entry->next_pid, __entry->next_prio, __entry->next_state,\n\t\t __entry->next_cpu)\n);\n\n \n\n#define FTRACE_STACK_ENTRIES\t8\n\nFTRACE_ENTRY(kernel_stack, stack_entry,\n\n\tTRACE_STACK,\n\n\tF_STRUCT(\n\t\t__field(\tint,\t\tsize\t)\n\t\t__stack_array(\tunsigned long,\tcaller,\tFTRACE_STACK_ENTRIES, size)\n\t),\n\n\tF_printk(\"\\t=> %ps\\n\\t=> %ps\\n\\t=> %ps\\n\"\n\t\t \"\\t=> %ps\\n\\t=> %ps\\n\\t=> %ps\\n\"\n\t\t \"\\t=> %ps\\n\\t=> %ps\\n\",\n\t\t (void *)__entry->caller[0], (void *)__entry->caller[1],\n\t\t (void *)__entry->caller[2], (void *)__entry->caller[3],\n\t\t (void *)__entry->caller[4], (void *)__entry->caller[5],\n\t\t (void *)__entry->caller[6], (void *)__entry->caller[7])\n);\n\nFTRACE_ENTRY(user_stack, userstack_entry,\n\n\tTRACE_USER_STACK,\n\n\tF_STRUCT(\n\t\t__field(\tunsigned int,\ttgid\t)\n\t\t__array(\tunsigned long,\tcaller, FTRACE_STACK_ENTRIES\t)\n\t),\n\n\tF_printk(\"\\t=> %ps\\n\\t=> %ps\\n\\t=> %ps\\n\"\n\t\t \"\\t=> %ps\\n\\t=> %ps\\n\\t=> %ps\\n\"\n\t\t \"\\t=> %ps\\n\\t=> %ps\\n\",\n\t\t (void *)__entry->caller[0], (void *)__entry->caller[1],\n\t\t (void *)__entry->caller[2], (void *)__entry->caller[3],\n\t\t (void *)__entry->caller[4], (void *)__entry->caller[5],\n\t\t (void *)__entry->caller[6], (void *)__entry->caller[7])\n);\n\n \nFTRACE_ENTRY(bprint, bprint_entry,\n\n\tTRACE_BPRINT,\n\n\tF_STRUCT(\n\t\t__field(\tunsigned long,\tip\t)\n\t\t__field(\tconst char *,\tfmt\t)\n\t\t__dynamic_array(\tu32,\tbuf\t)\n\t),\n\n\tF_printk(\"%ps: %s\",\n\t\t (void *)__entry->ip, __entry->fmt)\n);\n\nFTRACE_ENTRY_REG(print, print_entry,\n\n\tTRACE_PRINT,\n\n\tF_STRUCT(\n\t\t__field(\tunsigned long,\tip\t)\n\t\t__dynamic_array(\tchar,\tbuf\t)\n\t),\n\n\tF_printk(\"%ps: %s\",\n\t\t (void *)__entry->ip, __entry->buf),\n\n\tftrace_event_register\n);\n\nFTRACE_ENTRY(raw_data, raw_data_entry,\n\n\tTRACE_RAW_DATA,\n\n\tF_STRUCT(\n\t\t__field(\tunsigned int,\tid\t)\n\t\t__dynamic_array(\tchar,\tbuf\t)\n\t),\n\n\tF_printk(\"id:%04x %08x\",\n\t\t __entry->id, (int)__entry->buf[0])\n);\n\nFTRACE_ENTRY(bputs, bputs_entry,\n\n\tTRACE_BPUTS,\n\n\tF_STRUCT(\n\t\t__field(\tunsigned long,\tip\t)\n\t\t__field(\tconst char *,\tstr\t)\n\t),\n\n\tF_printk(\"%ps: %s\",\n\t\t (void *)__entry->ip, __entry->str)\n);\n\nFTRACE_ENTRY(mmiotrace_rw, trace_mmiotrace_rw,\n\n\tTRACE_MMIO_RW,\n\n\tF_STRUCT(\n\t\t__field_struct(\tstruct mmiotrace_rw,\trw\t)\n\t\t__field_desc(\tresource_size_t, rw,\tphys\t)\n\t\t__field_desc(\tunsigned long,\trw,\tvalue\t)\n\t\t__field_desc(\tunsigned long,\trw,\tpc\t)\n\t\t__field_desc(\tint,\t\trw,\tmap_id\t)\n\t\t__field_desc(\tunsigned char,\trw,\topcode\t)\n\t\t__field_desc(\tunsigned char,\trw,\twidth\t)\n\t),\n\n\tF_printk(\"%lx %lx %lx %d %x %x\",\n\t\t (unsigned long)__entry->phys, __entry->value, __entry->pc,\n\t\t __entry->map_id, __entry->opcode, __entry->width)\n);\n\nFTRACE_ENTRY(mmiotrace_map, trace_mmiotrace_map,\n\n\tTRACE_MMIO_MAP,\n\n\tF_STRUCT(\n\t\t__field_struct(\tstruct mmiotrace_map,\tmap\t)\n\t\t__field_desc(\tresource_size_t, map,\tphys\t)\n\t\t__field_desc(\tunsigned long,\tmap,\tvirt\t)\n\t\t__field_desc(\tunsigned long,\tmap,\tlen\t)\n\t\t__field_desc(\tint,\t\tmap,\tmap_id\t)\n\t\t__field_desc(\tunsigned char,\tmap,\topcode\t)\n\t),\n\n\tF_printk(\"%lx %lx %lx %d %x\",\n\t\t (unsigned long)__entry->phys, __entry->virt, __entry->len,\n\t\t __entry->map_id, __entry->opcode)\n);\n\n\n#define TRACE_FUNC_SIZE 30\n#define TRACE_FILE_SIZE 20\n\nFTRACE_ENTRY(branch, trace_branch,\n\n\tTRACE_BRANCH,\n\n\tF_STRUCT(\n\t\t__field(\tunsigned int,\tline\t\t\t\t)\n\t\t__array(\tchar,\t\tfunc,\tTRACE_FUNC_SIZE+1\t)\n\t\t__array(\tchar,\t\tfile,\tTRACE_FILE_SIZE+1\t)\n\t\t__field(\tchar,\t\tcorrect\t\t\t\t)\n\t\t__field(\tchar,\t\tconstant\t\t\t)\n\t),\n\n\tF_printk(\"%u:%s:%s (%u)%s\",\n\t\t __entry->line,\n\t\t __entry->func, __entry->file, __entry->correct,\n\t\t __entry->constant ? \" CONSTANT\" : \"\")\n);\n\n\nFTRACE_ENTRY(hwlat, hwlat_entry,\n\n\tTRACE_HWLAT,\n\n\tF_STRUCT(\n\t\t__field(\tu64,\t\t\tduration\t)\n\t\t__field(\tu64,\t\t\touter_duration\t)\n\t\t__field(\tu64,\t\t\tnmi_total_ts\t)\n\t\t__field_struct( struct timespec64,\ttimestamp\t)\n\t\t__field_desc(\ts64,\ttimestamp,\ttv_sec\t\t)\n\t\t__field_desc(\tlong,\ttimestamp,\ttv_nsec\t\t)\n\t\t__field(\tunsigned int,\t\tnmi_count\t)\n\t\t__field(\tunsigned int,\t\tseqnum\t\t)\n\t\t__field(\tunsigned int,\t\tcount\t\t)\n\t),\n\n\tF_printk(\"cnt:%u\\tts:%010llu.%010lu\\tinner:%llu\\touter:%llu\\tcount:%d\\tnmi-ts:%llu\\tnmi-count:%u\\n\",\n\t\t __entry->seqnum,\n\t\t __entry->tv_sec,\n\t\t __entry->tv_nsec,\n\t\t __entry->duration,\n\t\t __entry->outer_duration,\n\t\t __entry->count,\n\t\t __entry->nmi_total_ts,\n\t\t __entry->nmi_count)\n);\n\n#define FUNC_REPEATS_GET_DELTA_TS(entry)\t\t\t\t\\\n\t(((u64)(entry)->top_delta_ts << 32) | (entry)->bottom_delta_ts)\t\\\n\nFTRACE_ENTRY(func_repeats, func_repeats_entry,\n\n\tTRACE_FUNC_REPEATS,\n\n\tF_STRUCT(\n\t\t__field(\tunsigned long,\tip\t\t)\n\t\t__field(\tunsigned long,\tparent_ip\t)\n\t\t__field(\tu16\t,\tcount\t\t)\n\t\t__field(\tu16\t,\ttop_delta_ts\t)\n\t\t__field(\tu32\t,\tbottom_delta_ts\t)\n\t),\n\n\tF_printk(\" %ps <-%ps\\t(repeats:%u  delta: -%llu)\",\n\t\t (void *)__entry->ip,\n\t\t (void *)__entry->parent_ip,\n\t\t __entry->count,\n\t\t FUNC_REPEATS_GET_DELTA_TS(__entry))\n);\n\nFTRACE_ENTRY(osnoise, osnoise_entry,\n\n\tTRACE_OSNOISE,\n\n\tF_STRUCT(\n\t\t__field(\tu64,\t\t\tnoise\t\t)\n\t\t__field(\tu64,\t\t\truntime\t\t)\n\t\t__field(\tu64,\t\t\tmax_sample\t)\n\t\t__field(\tunsigned int,\t\thw_count\t)\n\t\t__field(\tunsigned int,\t\tnmi_count\t)\n\t\t__field(\tunsigned int,\t\tirq_count\t)\n\t\t__field(\tunsigned int,\t\tsoftirq_count\t)\n\t\t__field(\tunsigned int,\t\tthread_count\t)\n\t),\n\n\tF_printk(\"noise:%llu\\tmax_sample:%llu\\thw:%u\\tnmi:%u\\tirq:%u\\tsoftirq:%u\\tthread:%u\\n\",\n\t\t __entry->noise,\n\t\t __entry->max_sample,\n\t\t __entry->hw_count,\n\t\t __entry->nmi_count,\n\t\t __entry->irq_count,\n\t\t __entry->softirq_count,\n\t\t __entry->thread_count)\n);\n\nFTRACE_ENTRY(timerlat, timerlat_entry,\n\n\tTRACE_TIMERLAT,\n\n\tF_STRUCT(\n\t\t__field(\tunsigned int,\t\tseqnum\t\t)\n\t\t__field(\tint,\t\t\tcontext\t\t)\n\t\t__field(\tu64,\t\t\ttimer_latency\t)\n\t),\n\n\tF_printk(\"seq:%u\\tcontext:%d\\ttimer_latency:%llu\\n\",\n\t\t __entry->seqnum,\n\t\t __entry->context,\n\t\t __entry->timer_latency)\n);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}