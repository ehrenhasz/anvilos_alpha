{
  "module_name": "rcu_segcblist.h",
  "hash_id": "823a9c58ab2f840b5a40ac6315904a6406e9c84a72a23900b9db9380f2f1262e",
  "original_prompt": "Ingested from linux-6.6.14/kernel/rcu/rcu_segcblist.h",
  "human_readable_source": " \n \n\n#include <linux/rcu_segcblist.h>\n\n \nstatic inline long rcu_cblist_n_cbs(struct rcu_cblist *rclp)\n{\n\treturn READ_ONCE(rclp->len);\n}\n\nlong rcu_segcblist_get_seglen(struct rcu_segcblist *rsclp, int seg);\n\n \nlong rcu_segcblist_n_segment_cbs(struct rcu_segcblist *rsclp);\n\nvoid rcu_cblist_init(struct rcu_cblist *rclp);\nvoid rcu_cblist_enqueue(struct rcu_cblist *rclp, struct rcu_head *rhp);\nvoid rcu_cblist_flush_enqueue(struct rcu_cblist *drclp,\n\t\t\t      struct rcu_cblist *srclp,\n\t\t\t      struct rcu_head *rhp);\nstruct rcu_head *rcu_cblist_dequeue(struct rcu_cblist *rclp);\n\n \nstatic inline bool rcu_segcblist_empty(struct rcu_segcblist *rsclp)\n{\n\treturn !READ_ONCE(rsclp->head);\n}\n\n \nstatic inline long rcu_segcblist_n_cbs(struct rcu_segcblist *rsclp)\n{\n#ifdef CONFIG_RCU_NOCB_CPU\n\treturn atomic_long_read(&rsclp->len);\n#else\n\treturn READ_ONCE(rsclp->len);\n#endif\n}\n\nstatic inline void rcu_segcblist_set_flags(struct rcu_segcblist *rsclp,\n\t\t\t\t\t   int flags)\n{\n\tWRITE_ONCE(rsclp->flags, rsclp->flags | flags);\n}\n\nstatic inline void rcu_segcblist_clear_flags(struct rcu_segcblist *rsclp,\n\t\t\t\t\t     int flags)\n{\n\tWRITE_ONCE(rsclp->flags, rsclp->flags & ~flags);\n}\n\nstatic inline bool rcu_segcblist_test_flags(struct rcu_segcblist *rsclp,\n\t\t\t\t\t    int flags)\n{\n\treturn READ_ONCE(rsclp->flags) & flags;\n}\n\n \nstatic inline bool rcu_segcblist_is_enabled(struct rcu_segcblist *rsclp)\n{\n\treturn rcu_segcblist_test_flags(rsclp, SEGCBLIST_ENABLED);\n}\n\n \nstatic inline bool rcu_segcblist_is_offloaded(struct rcu_segcblist *rsclp)\n{\n\tif (IS_ENABLED(CONFIG_RCU_NOCB_CPU) &&\n\t    rcu_segcblist_test_flags(rsclp, SEGCBLIST_LOCKING))\n\t\treturn true;\n\n\treturn false;\n}\n\nstatic inline bool rcu_segcblist_completely_offloaded(struct rcu_segcblist *rsclp)\n{\n\tif (IS_ENABLED(CONFIG_RCU_NOCB_CPU) &&\n\t    !rcu_segcblist_test_flags(rsclp, SEGCBLIST_RCU_CORE))\n\t\treturn true;\n\n\treturn false;\n}\n\n \nstatic inline bool rcu_segcblist_restempty(struct rcu_segcblist *rsclp, int seg)\n{\n\treturn !READ_ONCE(*READ_ONCE(rsclp->tails[seg]));\n}\n\n \nstatic inline bool rcu_segcblist_segempty(struct rcu_segcblist *rsclp, int seg)\n{\n\tif (seg == RCU_DONE_TAIL)\n\t\treturn &rsclp->head == rsclp->tails[RCU_DONE_TAIL];\n\treturn rsclp->tails[seg - 1] == rsclp->tails[seg];\n}\n\nvoid rcu_segcblist_inc_len(struct rcu_segcblist *rsclp);\nvoid rcu_segcblist_add_len(struct rcu_segcblist *rsclp, long v);\nvoid rcu_segcblist_init(struct rcu_segcblist *rsclp);\nvoid rcu_segcblist_disable(struct rcu_segcblist *rsclp);\nvoid rcu_segcblist_offload(struct rcu_segcblist *rsclp, bool offload);\nbool rcu_segcblist_ready_cbs(struct rcu_segcblist *rsclp);\nbool rcu_segcblist_pend_cbs(struct rcu_segcblist *rsclp);\nstruct rcu_head *rcu_segcblist_first_cb(struct rcu_segcblist *rsclp);\nstruct rcu_head *rcu_segcblist_first_pend_cb(struct rcu_segcblist *rsclp);\nbool rcu_segcblist_nextgp(struct rcu_segcblist *rsclp, unsigned long *lp);\nvoid rcu_segcblist_enqueue(struct rcu_segcblist *rsclp,\n\t\t\t   struct rcu_head *rhp);\nbool rcu_segcblist_entrain(struct rcu_segcblist *rsclp,\n\t\t\t   struct rcu_head *rhp);\nvoid rcu_segcblist_extract_done_cbs(struct rcu_segcblist *rsclp,\n\t\t\t\t    struct rcu_cblist *rclp);\nvoid rcu_segcblist_extract_pend_cbs(struct rcu_segcblist *rsclp,\n\t\t\t\t    struct rcu_cblist *rclp);\nvoid rcu_segcblist_insert_count(struct rcu_segcblist *rsclp,\n\t\t\t\tstruct rcu_cblist *rclp);\nvoid rcu_segcblist_insert_done_cbs(struct rcu_segcblist *rsclp,\n\t\t\t\t   struct rcu_cblist *rclp);\nvoid rcu_segcblist_insert_pend_cbs(struct rcu_segcblist *rsclp,\n\t\t\t\t   struct rcu_cblist *rclp);\nvoid rcu_segcblist_advance(struct rcu_segcblist *rsclp, unsigned long seq);\nbool rcu_segcblist_accelerate(struct rcu_segcblist *rsclp, unsigned long seq);\nvoid rcu_segcblist_merge(struct rcu_segcblist *dst_rsclp,\n\t\t\t struct rcu_segcblist *src_rsclp);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}