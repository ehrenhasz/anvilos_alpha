{
  "module_name": "poweroff.c",
  "hash_id": "56b94bdfc0a7aec4c14ed68212a11f2b12a7f34eecd4ca2427ba8ed06e7f8ed5",
  "original_prompt": "Ingested from linux-6.6.14/kernel/power/poweroff.c",
  "human_readable_source": "\n \n\n#include <linux/kernel.h>\n#include <linux/sysrq.h>\n#include <linux/init.h>\n#include <linux/pm.h>\n#include <linux/workqueue.h>\n#include <linux/reboot.h>\n#include <linux/cpumask.h>\n\n \n\nstatic void do_poweroff(struct work_struct *dummy)\n{\n\tkernel_power_off();\n}\n\nstatic DECLARE_WORK(poweroff_work, do_poweroff);\n\nstatic void handle_poweroff(u8 key)\n{\n\t \n\tschedule_work_on(cpumask_first(cpu_online_mask), &poweroff_work);\n}\n\nstatic const struct sysrq_key_op\tsysrq_poweroff_op = {\n\t.handler        = handle_poweroff,\n\t.help_msg       = \"poweroff(o)\",\n\t.action_msg     = \"Power Off\",\n\t.enable_mask\t= SYSRQ_ENABLE_BOOT,\n};\n\nstatic int __init pm_sysrq_init(void)\n{\n\tregister_sysrq_key('o', &sysrq_poweroff_op);\n\treturn 0;\n}\n\nsubsys_initcall(pm_sysrq_init);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}