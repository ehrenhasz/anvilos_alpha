{
  "module_name": "Kconfig",
  "hash_id": "3519846a591b754e645a4211db97bcd5ef910fb33cceda881e0cb6087529b7c3",
  "original_prompt": "Ingested from linux-6.6.14/kernel/power/Kconfig",
  "human_readable_source": "# SPDX-License-Identifier: GPL-2.0-only\nconfig SUSPEND\n\tbool \"Suspend to RAM and standby\"\n\tdepends on ARCH_SUSPEND_POSSIBLE\n\tdefault y\n\thelp\n\t  Allow the system to enter sleep states in which main memory is\n\t  powered and thus its contents are preserved, such as the\n\t  suspend-to-RAM state (e.g. the ACPI S3 state).\n\nconfig SUSPEND_FREEZER\n\tbool \"Enable freezer for suspend to RAM/standby\" \\\n\t\tif ARCH_WANTS_FREEZER_CONTROL || BROKEN\n\tdepends on SUSPEND\n\tdefault y\n\thelp\n\t  This allows you to turn off the freezer for suspend. If this is\n\t  done, no tasks are frozen for suspend to RAM/standby.\n\n\t  Turning OFF this setting is NOT recommended! If in doubt, say Y.\n\nconfig SUSPEND_SKIP_SYNC\n\tbool \"Skip kernel's sys_sync() on suspend to RAM/standby\"\n\tdepends on SUSPEND\n\tdepends on EXPERT\n\thelp\n\t  Skip the kernel sys_sync() before freezing user processes.\n\t  Some systems prefer not to pay this cost on every invocation\n\t  of suspend, or they are content with invoking sync() from\n\t  user-space before invoking suspend.  There's a run-time switch\n\t  at '/sys/power/sync_on_suspend' to configure this behaviour.\n\t  This setting changes the default for the run-tim switch. Say Y\n\t  to change the default to disable the kernel sys_sync().\n\nconfig HIBERNATE_CALLBACKS\n\tbool\n\nconfig HIBERNATION\n\tbool \"Hibernation (aka 'suspend to disk')\"\n\tdepends on SWAP && ARCH_HIBERNATION_POSSIBLE\n\tselect HIBERNATE_CALLBACKS\n\tselect LZO_COMPRESS\n\tselect LZO_DECOMPRESS\n\tselect CRC32\n\thelp\n\t  Enable the suspend to disk (STD) functionality, which is usually\n\t  called \"hibernation\" in user interfaces.  STD checkpoints the\n\t  system and powers it off; and restores that checkpoint on reboot.\n\n\t  You can suspend your machine with 'echo disk > /sys/power/state'\n\t  after placing resume=/dev/swappartition on the kernel command line\n\t  in your bootloader's configuration file.\n\n\t  Alternatively, you can use the additional userland tools available\n\t  from <http://suspend.sf.net>.\n\n\t  In principle it does not require ACPI or APM, although for example\n\t  ACPI will be used for the final steps when it is available.  One\n\t  of the reasons to use software suspend is that the firmware hooks\n\t  for suspend states like suspend-to-RAM (STR) often don't work very\n\t  well with Linux.\n\n\t  It creates an image which is saved in your active swap. Upon the next\n\t  boot, pass the 'resume=/dev/swappartition' argument to the kernel to\n\t  have it detect the saved image, restore memory state from it, and\n\t  continue to run as before. If you do not want the previous state to\n\t  be reloaded, then use the 'noresume' kernel command line argument.\n\t  Note, however, that fsck will be run on your filesystems and you will\n\t  need to run mkswap against the swap partition used for the suspend.\n\n\t  It also works with swap files to a limited extent (for details see\n\t  <file:Documentation/power/swsusp-and-swap-files.rst>).\n\n\t  Right now you may boot without resuming and resume later but in the\n\t  meantime you cannot use the swap partition(s)/file(s) involved in\n\t  suspending.  Also in this case you must not use the filesystems\n\t  that were mounted before the suspend.  In particular, you MUST NOT\n\t  MOUNT any journaled filesystems mounted before the suspend or they\n\t  will get corrupted in a nasty way.\n\n\t  For more information take a look at <file:Documentation/power/swsusp.rst>.\n\nconfig HIBERNATION_SNAPSHOT_DEV\n\tbool \"Userspace snapshot device\"\n\tdepends on HIBERNATION\n\tdefault y\n\thelp\n\t  Device used by the uswsusp tools.\n\n\t  Say N if no snapshotting from userspace is needed, this also\n\t  reduces the attack surface of the kernel.\n\n\t  If in doubt, say Y.\n\nconfig PM_STD_PARTITION\n\tstring \"Default resume partition\"\n\tdepends on HIBERNATION\n\tdefault \"\"\n\thelp\n\t  The default resume partition is the partition that the suspend-\n\t  to-disk implementation will look for a suspended disk image.\n\n\t  The partition specified here will be different for almost every user.\n\t  It should be a valid swap partition (at least for now) that is turned\n\t  on before suspending.\n\n\t  The partition specified can be overridden by specifying:\n\n\t\tresume=/dev/<other device>\n\n\t  which will set the resume partition to the device specified.\n\n\t  Note there is currently not a way to specify which device to save the\n\t  suspended image to. It will simply pick the first available swap\n\t  device.\n\nconfig PM_SLEEP\n\tdef_bool y\n\tdepends on SUSPEND || HIBERNATE_CALLBACKS\n\tselect PM\n\nconfig PM_SLEEP_SMP\n\tdef_bool y\n\tdepends on SMP\n\tdepends on ARCH_SUSPEND_POSSIBLE || ARCH_HIBERNATION_POSSIBLE\n\tdepends on PM_SLEEP\n\tselect HOTPLUG_CPU\n\nconfig PM_SLEEP_SMP_NONZERO_CPU\n\tdef_bool y\n\tdepends on PM_SLEEP_SMP\n\tdepends on ARCH_SUSPEND_NONZERO_CPU\n\thelp\n\tIf an arch can suspend (for suspend, hibernate, kexec, etc) on a\n\tnon-zero numbered CPU, it may define ARCH_SUSPEND_NONZERO_CPU. This\n\twill allow nohz_full mask to include CPU0.\n\nconfig PM_AUTOSLEEP\n\tbool \"Opportunistic sleep\"\n\tdepends on PM_SLEEP\n\thelp\n\tAllow the kernel to trigger a system transition into a global sleep\n\tstate automatically whenever there are no active wakeup sources.\n\nconfig PM_USERSPACE_AUTOSLEEP\n\tbool \"Userspace opportunistic sleep\"\n\tdepends on PM_SLEEP\n\thelp\n\tNotify kernel of aggressive userspace autosleep power management policy.\n\n\tThis option changes the behavior of various sleep-sensitive code to deal\n\twith frequent userspace-initiated transitions into a global sleep state.\n\n\tSaying Y here, disables code paths that most users really should keep\n\tenabled. In particular, only enable this if it is very common to be\n\tasleep/awake for very short periods of time (<= 2 seconds).\n\n\tOnly platforms, such as Android, that implement opportunistic sleep from\n\ta userspace power manager service should enable this option; and not\n\tother machines. Therefore, you should say N here, unless you are\n\textremely certain that this is what you want. The option otherwise has\n\tbad, undesirable effects, and should not be enabled just for fun.\n\n\nconfig PM_WAKELOCKS\n\tbool \"User space wakeup sources interface\"\n\tdepends on PM_SLEEP\n\thelp\n\tAllow user space to create, activate and deactivate wakeup source\n\tobjects with the help of a sysfs-based interface.\n\nconfig PM_WAKELOCKS_LIMIT\n\tint \"Maximum number of user space wakeup sources (0 = no limit)\"\n\trange 0 100000\n\tdefault 100\n\tdepends on PM_WAKELOCKS\n\nconfig PM_WAKELOCKS_GC\n\tbool \"Garbage collector for user space wakeup sources\"\n\tdepends on PM_WAKELOCKS\n\tdefault y\n\nconfig PM\n\tbool \"Device power management core functionality\"\n\thelp\n\t  Enable functionality allowing I/O devices to be put into energy-saving\n\t  (low power) states, for example after a specified period of inactivity\n\t  (autosuspended), and woken up in response to a hardware-generated\n\t  wake-up event or a driver's request.\n\n\t  Hardware support is generally required for this functionality to work\n\t  and the bus type drivers of the buses the devices are on are\n\t  responsible for the actual handling of device suspend requests and\n\t  wake-up events.\n\nconfig PM_DEBUG\n\tbool \"Power Management Debug Support\"\n\tdepends on PM\n\thelp\n\tThis option enables various debugging support in the Power Management\n\tcode. This is helpful when debugging and reporting PM bugs, like\n\tsuspend support.\n\nconfig PM_ADVANCED_DEBUG\n\tbool \"Extra PM attributes in sysfs for low-level debugging/testing\"\n\tdepends on PM_DEBUG\n\thelp\n\tAdd extra sysfs attributes allowing one to access some Power Management\n\tfields of device objects from user space.  If you are not a kernel\n\tdeveloper interested in debugging/testing Power Management, say \"no\".\n\nconfig PM_TEST_SUSPEND\n\tbool \"Test suspend/resume and wakealarm during bootup\"\n\tdepends on SUSPEND && PM_DEBUG && RTC_CLASS=y\n\thelp\n\tThis option will let you suspend your machine during bootup, and\n\tmake it wake up a few seconds later using an RTC wakeup alarm.\n\tEnable this with a kernel parameter like \"test_suspend=mem\".\n\n\tYou probably want to have your system's RTC driver statically\n\tlinked, ensuring that it's available when this test runs.\n\nconfig PM_SLEEP_DEBUG\n\tdef_bool y\n\tdepends on PM_DEBUG && PM_SLEEP\n\nconfig DPM_WATCHDOG\n\tbool \"Device suspend/resume watchdog\"\n\tdepends on PM_DEBUG && PSTORE && EXPERT\n\thelp\n\t  Sets up a watchdog timer to capture drivers that are\n\t  locked up attempting to suspend/resume a device.\n\t  A detected lockup causes system panic with message\n\t  captured in pstore device for inspection in subsequent\n\t  boot session.\n\nconfig DPM_WATCHDOG_TIMEOUT\n\tint \"Watchdog timeout in seconds\"\n\trange 1 120\n\tdefault 120\n\tdepends on DPM_WATCHDOG\n\nconfig PM_TRACE\n\tbool\n\thelp\n\t  This enables code to save the last PM event point across\n\t  reboot. The architecture needs to support this, x86 for\n\t  example does by saving things in the RTC, see below.\n\n\t  The architecture specific code must provide the extern\n\t  functions from <linux/resume-trace.h> as well as the\n\t  <asm/resume-trace.h> header with a TRACE_RESUME() macro.\n\n\t  The way the information is presented is architecture-\n\t  dependent, x86 will print the information during a\n\t  late_initcall.\n\nconfig PM_TRACE_RTC\n\tbool \"Suspend/resume event tracing\"\n\tdepends on PM_SLEEP_DEBUG\n\tdepends on X86\n\tselect PM_TRACE\n\thelp\n\tThis enables some cheesy code to save the last PM event point in the\n\tRTC across reboots, so that you can debug a machine that just hangs\n\tduring suspend (or more commonly, during resume).\n\n\tTo use this debugging feature you should attempt to suspend the\n\tmachine, reboot it and then run\n\n\t\tdmesg -s 1000000 | grep 'hash matches'\n\n\tCAUTION: this option will cause your machine's real-time clock to be\n\tset to an invalid time after a resume.\n\nconfig APM_EMULATION\n\ttristate \"Advanced Power Management Emulation\"\n\tdepends on SYS_SUPPORTS_APM_EMULATION\n\thelp\n\t  APM is a BIOS specification for saving power using several different\n\t  techniques. This is mostly useful for battery powered laptops with\n\t  APM compliant BIOSes. If you say Y here, the system time will be\n\t  reset after a RESUME operation, the /proc/apm device will provide\n\t  battery status information, and user-space programs will receive\n\t  notification of APM \"events\" (e.g. battery status change).\n\n\t  In order to use APM, you will need supporting software. For location\n\t  and more information, read <file:Documentation/power/apm-acpi.rst>\n\t  and the Battery Powered Linux mini-HOWTO, available from\n\t  <http://www.tldp.org/docs.html#howto>.\n\n\t  This driver does not spin down disk drives (see the hdparm(8)\n\t  manpage (\"man 8 hdparm\") for that), and it doesn't turn off\n\t  VESA-compliant \"green\" monitors.\n\n\t  Generally, if you don't have a battery in your machine, there isn't\n\t  much point in using this driver and you should say N. If you get\n\t  random kernel OOPSes or reboots that don't seem to be related to\n\t  anything, try disabling/enabling this option (or disabling/enabling\n\t  APM in your BIOS).\n\nconfig PM_CLK\n\tdef_bool y\n\tdepends on PM && HAVE_CLK\n\nconfig PM_GENERIC_DOMAINS\n\tbool\n\tdepends on PM\n\nconfig WQ_POWER_EFFICIENT_DEFAULT\n\tbool \"Enable workqueue power-efficient mode by default\"\n\tdepends on PM\n\thelp\n\t  Per-cpu workqueues are generally preferred because they show\n\t  better performance thanks to cache locality; unfortunately,\n\t  per-cpu workqueues tend to be more power hungry than unbound\n\t  workqueues.\n\n\t  Enabling workqueue.power_efficient kernel parameter makes the\n\t  per-cpu workqueues which were observed to contribute\n\t  significantly to power consumption unbound, leading to measurably\n\t  lower power usage at the cost of small performance overhead.\n\n\t  This config option determines whether workqueue.power_efficient\n\t  is enabled by default.\n\n\t  If in doubt, say N.\n\nconfig PM_GENERIC_DOMAINS_SLEEP\n\tdef_bool y\n\tdepends on PM_SLEEP && PM_GENERIC_DOMAINS\n\nconfig PM_GENERIC_DOMAINS_OF\n\tdef_bool y\n\tdepends on PM_GENERIC_DOMAINS && OF\n\nconfig CPU_PM\n\tbool\n\nconfig ENERGY_MODEL\n\tbool \"Energy Model for devices with DVFS (CPUs, GPUs, etc)\"\n\tdepends on SMP\n\tdepends on CPU_FREQ\n\thelp\n\t  Several subsystems (thermal and/or the task scheduler for example)\n\t  can leverage information about the energy consumed by devices to\n\t  make smarter decisions. This config option enables the framework\n\t  from which subsystems can access the energy models.\n\n\t  The exact usage of the energy model is subsystem-dependent.\n\n\t  If in doubt, say N.\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}