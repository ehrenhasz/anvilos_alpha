{
  "module_name": "da_monitor.h",
  "hash_id": "c34a5b408ac3623abbb76887f734fe8b581189b079e24c646f4ab3dac7449555",
  "original_prompt": "Ingested from linux-6.6.14/include/rv/da_monitor.h",
  "human_readable_source": " \n \n\n#include <rv/automata.h>\n#include <linux/rv.h>\n#include <linux/bug.h>\n\n#ifdef CONFIG_RV_REACTORS\n\n#define DECLARE_RV_REACTING_HELPERS(name, type)\t\t\t\t\t\t\t\\\nstatic char REACT_MSG_##name[1024];\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic inline char *format_react_msg_##name(type curr_state, type event)\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tsnprintf(REACT_MSG_##name, 1024,\t\t\t\t\t\t\t\\\n\t\t \"rv: monitor %s does not allow event %s on state %s\\n\",\t\t\t\\\n\t\t #name,\t\t\t\t\t\t\t\t\t\t\\\n\t\t model_get_event_name_##name(event),\t\t\t\t\t\t\\\n\t\t model_get_state_name_##name(curr_state));\t\t\t\t\t\\\n\treturn REACT_MSG_##name;\t\t\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic void cond_react_##name(char *msg)\t\t\t\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tif (rv_##name.react)\t\t\t\t\t\t\t\t\t\\\n\t\trv_##name.react(msg);\t\t\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic bool rv_reacting_on_##name(void)\t\t\t\t\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\treturn rv_reacting_on();\t\t\t\t\t\t\t\t\\\n}\n\n#else  \n\n#define DECLARE_RV_REACTING_HELPERS(name, type)\t\t\t\t\t\t\t\\\nstatic inline char *format_react_msg_##name(type curr_state, type event)\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\treturn NULL;\t\t\t\t\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic void cond_react_##name(char *msg)\t\t\t\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\treturn;\t\t\t\t\t\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic bool rv_reacting_on_##name(void)\t\t\t\t\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\treturn 0;\t\t\t\t\t\t\t\t\t\t\\\n}\n#endif\n\n \n#define DECLARE_DA_MON_GENERIC_HELPERS(name, type)\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\nDECLARE_RV_REACTING_HELPERS(name, type)\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic inline void da_monitor_reset_##name(struct da_monitor *da_mon)\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tda_mon->monitoring = 0;\t\t\t\t\t\t\t\t\t\\\n\tda_mon->curr_state = model_get_initial_state_##name();\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic inline type da_monitor_curr_state_##name(struct da_monitor *da_mon)\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\treturn da_mon->curr_state;\t\t\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic inline void\t\t\t\t\t\t\t\t\t\t\\\nda_monitor_set_state_##name(struct da_monitor *da_mon, enum states_##name state)\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tda_mon->curr_state = state;\t\t\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic inline void da_monitor_start_##name(struct da_monitor *da_mon)\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tda_mon->curr_state = model_get_initial_state_##name();\t\t\t\t\t\\\n\tda_mon->monitoring = 1;\t\t\t\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic inline bool da_monitoring_##name(struct da_monitor *da_mon)\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\treturn da_mon->monitoring;\t\t\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic inline bool da_monitor_enabled_##name(void)\t\t\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t \t\t\t\t\t\t\t\t\t\\\n\tif (unlikely(!rv_monitoring_on()))\t\t\t\t\t\t\t\\\n\t\treturn 0;\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t \t\t\t\t\t\t\t\t\t\\\n\tif (unlikely(!rv_##name.enabled))\t\t\t\t\t\t\t\\\n\t\treturn 0;\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\treturn 1;\t\t\t\t\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic inline bool da_monitor_handling_event_##name(struct da_monitor *da_mon)\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tif (!da_monitor_enabled_##name())\t\t\t\t\t\t\t\\\n\t\treturn 0;\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t \t\t\t\t\t\t\t\\\n\tif (unlikely(!da_monitoring_##name(da_mon)))\t\t\t\t\t\t\\\n\t\treturn 0;\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\treturn 1;\t\t\t\t\t\t\t\t\t\t\\\n}\n\n \n#define DECLARE_DA_MON_MODEL_HANDLER_IMPLICIT(name, type)\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic inline bool\t\t\t\t\t\t\t\t\t\t\\\nda_event_##name(struct da_monitor *da_mon, enum events_##name event)\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\ttype curr_state = da_monitor_curr_state_##name(da_mon);\t\t\t\t\t\\\n\ttype next_state = model_get_next_state_##name(curr_state, event);\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tif (next_state != INVALID_STATE) {\t\t\t\t\t\t\t\\\n\t\tda_monitor_set_state_##name(da_mon, next_state);\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\ttrace_event_##name(model_get_state_name_##name(curr_state),\t\t\t\\\n\t\t\t\t   model_get_event_name_##name(event),\t\t\t\t\\\n\t\t\t\t   model_get_state_name_##name(next_state),\t\t\t\\\n\t\t\t\t   model_is_final_state_##name(next_state));\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\treturn true;\t\t\t\t\t\t\t\t\t\\\n\t}\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tif (rv_reacting_on_##name())\t\t\t\t\t\t\t\t\\\n\t\tcond_react_##name(format_react_msg_##name(curr_state, event));\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\ttrace_error_##name(model_get_state_name_##name(curr_state),\t\t\t\t\\\n\t\t\t   model_get_event_name_##name(event));\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\treturn false;\t\t\t\t\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\n \n#define DECLARE_DA_MON_MODEL_HANDLER_PER_TASK(name, type)\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic inline bool da_event_##name(struct da_monitor *da_mon, struct task_struct *tsk,\t\t\\\n\t\t\t\t   enum events_##name event)\t\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\ttype curr_state = da_monitor_curr_state_##name(da_mon);\t\t\t\t\t\\\n\ttype next_state = model_get_next_state_##name(curr_state, event);\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tif (next_state != INVALID_STATE) {\t\t\t\t\t\t\t\\\n\t\tda_monitor_set_state_##name(da_mon, next_state);\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\ttrace_event_##name(tsk->pid,\t\t\t\t\t\t\t\\\n\t\t\t\t   model_get_state_name_##name(curr_state),\t\t\t\\\n\t\t\t\t   model_get_event_name_##name(event),\t\t\t\t\\\n\t\t\t\t   model_get_state_name_##name(next_state),\t\t\t\\\n\t\t\t\t   model_is_final_state_##name(next_state));\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\treturn true;\t\t\t\t\t\t\t\t\t\\\n\t}\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tif (rv_reacting_on_##name())\t\t\t\t\t\t\t\t\\\n\t\tcond_react_##name(format_react_msg_##name(curr_state, event));\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\ttrace_error_##name(tsk->pid,\t\t\t\t\t\t\t\t\\\n\t\t\t   model_get_state_name_##name(curr_state),\t\t\t\t\\\n\t\t\t   model_get_event_name_##name(event));\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\treturn false;\t\t\t\t\t\t\t\t\t\t\\\n}\n\n \n#define DECLARE_DA_MON_INIT_GLOBAL(name, type)\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic struct da_monitor da_mon_##name;\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic struct da_monitor *da_get_monitor_##name(void)\t\t\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\treturn &da_mon_##name;\t\t\t\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic void da_monitor_reset_all_##name(void)\t\t\t\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tda_monitor_reset_##name(da_get_monitor_##name());\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic inline int da_monitor_init_##name(void)\t\t\t\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tda_monitor_reset_all_##name();\t\t\t\t\t\t\t\t\\\n\treturn 0;\t\t\t\t\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic inline void da_monitor_destroy_##name(void)\t\t\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\treturn;\t\t\t\t\t\t\t\t\t\t\t\\\n}\n\n \n#define DECLARE_DA_MON_INIT_PER_CPU(name, type)\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic DEFINE_PER_CPU(struct da_monitor, da_mon_##name);\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic struct da_monitor *da_get_monitor_##name(void)\t\t\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\treturn this_cpu_ptr(&da_mon_##name);\t\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic void da_monitor_reset_all_##name(void)\t\t\t\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tstruct da_monitor *da_mon;\t\t\t\t\t\t\t\t\\\n\tint cpu;\t\t\t\t\t\t\t\t\t\t\\\n\tfor_each_cpu(cpu, cpu_online_mask) {\t\t\t\t\t\t\t\\\n\t\tda_mon = per_cpu_ptr(&da_mon_##name, cpu);\t\t\t\t\t\\\n\t\tda_monitor_reset_##name(da_mon);\t\t\t\t\t\t\\\n\t}\t\t\t\t\t\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic inline int da_monitor_init_##name(void)\t\t\t\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tda_monitor_reset_all_##name();\t\t\t\t\t\t\t\t\\\n\treturn 0;\t\t\t\t\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic inline void da_monitor_destroy_##name(void)\t\t\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\treturn;\t\t\t\t\t\t\t\t\t\t\t\\\n}\n\n \n#define DECLARE_DA_MON_INIT_PER_TASK(name, type)\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic int task_mon_slot_##name = RV_PER_TASK_MONITOR_INIT;\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic inline struct da_monitor *da_get_monitor_##name(struct task_struct *tsk)\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\treturn &tsk->rv[task_mon_slot_##name].da_mon;\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic void da_monitor_reset_all_##name(void)\t\t\t\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tstruct task_struct *g, *p;\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tread_lock(&tasklist_lock);\t\t\t\t\t\t\t\t\\\n\tfor_each_process_thread(g, p)\t\t\t\t\t\t\t\t\\\n\t\tda_monitor_reset_##name(da_get_monitor_##name(p));\t\t\t\t\\\n\tread_unlock(&tasklist_lock);\t\t\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic int da_monitor_init_##name(void)\t\t\t\t\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tint slot;\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tslot = rv_get_task_monitor_slot();\t\t\t\t\t\t\t\\\n\tif (slot < 0 || slot >= RV_PER_TASK_MONITOR_INIT)\t\t\t\t\t\\\n\t\treturn slot;\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\ttask_mon_slot_##name = slot;\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tda_monitor_reset_all_##name();\t\t\t\t\t\t\t\t\\\n\treturn 0;\t\t\t\t\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic inline void da_monitor_destroy_##name(void)\t\t\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tif (task_mon_slot_##name == RV_PER_TASK_MONITOR_INIT) {\t\t\t\t\t\\\n\t\tWARN_ONCE(1, \"Disabling a disabled monitor: \" #name);\t\t\t\t\\\n\t\treturn;\t\t\t\t\t\t\t\t\t\t\\\n\t}\t\t\t\t\t\t\t\t\t\t\t\\\n\trv_put_task_monitor_slot(task_mon_slot_##name);\t\t\t\t\t\t\\\n\ttask_mon_slot_##name = RV_PER_TASK_MONITOR_INIT;\t\t\t\t\t\\\n\treturn;\t\t\t\t\t\t\t\t\t\t\t\\\n}\n\n \n#define DECLARE_DA_MON_MONITOR_HANDLER_IMPLICIT(name, type)\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic inline void __da_handle_event_##name(struct da_monitor *da_mon,\t\t\t\t\\\n\t\t\t\t\t    enum events_##name event)\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tbool retval;\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tretval = da_event_##name(da_mon, event);\t\t\t\t\t\t\\\n\tif (!retval)\t\t\t\t\t\t\t\t\t\t\\\n\t\tda_monitor_reset_##name(da_mon);\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic inline void da_handle_event_##name(enum events_##name event)\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tstruct da_monitor *da_mon = da_get_monitor_##name();\t\t\t\t\t\\\n\tbool retval;\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tretval = da_monitor_handling_event_##name(da_mon);\t\t\t\t\t\\\n\tif (!retval)\t\t\t\t\t\t\t\t\t\t\\\n\t\treturn;\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t__da_handle_event_##name(da_mon, event);\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic inline bool da_handle_start_event_##name(enum events_##name event)\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tstruct da_monitor *da_mon;\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tif (!da_monitor_enabled_##name())\t\t\t\t\t\t\t\\\n\t\treturn 0;\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tda_mon = da_get_monitor_##name();\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tif (unlikely(!da_monitoring_##name(da_mon))) {\t\t\t\t\t\t\\\n\t\tda_monitor_start_##name(da_mon);\t\t\t\t\t\t\\\n\t\treturn 0;\t\t\t\t\t\t\t\t\t\\\n\t}\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t__da_handle_event_##name(da_mon, event);\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\treturn 1;\t\t\t\t\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic inline bool da_handle_start_run_event_##name(enum events_##name event)\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tstruct da_monitor *da_mon;\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tif (!da_monitor_enabled_##name())\t\t\t\t\t\t\t\\\n\t\treturn 0;\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tda_mon = da_get_monitor_##name();\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tif (unlikely(!da_monitoring_##name(da_mon)))\t\t\t\t\t\t\\\n\t\tda_monitor_start_##name(da_mon);\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t__da_handle_event_##name(da_mon, event);\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\treturn 1;\t\t\t\t\t\t\t\t\t\t\\\n}\n\n \n#define DECLARE_DA_MON_MONITOR_HANDLER_PER_TASK(name, type)\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic inline void\t\t\t\t\t\t\t\t\t\t\\\n__da_handle_event_##name(struct da_monitor *da_mon, struct task_struct *tsk,\t\t\t\\\n\t\t\t enum events_##name event)\t\t\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tbool retval;\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tretval = da_event_##name(da_mon, tsk, event);\t\t\t\t\t\t\\\n\tif (!retval)\t\t\t\t\t\t\t\t\t\t\\\n\t\tda_monitor_reset_##name(da_mon);\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic inline void\t\t\t\t\t\t\t\t\t\t\\\nda_handle_event_##name(struct task_struct *tsk, enum events_##name event)\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tstruct da_monitor *da_mon = da_get_monitor_##name(tsk);\t\t\t\t\t\\\n\tbool retval;\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tretval = da_monitor_handling_event_##name(da_mon);\t\t\t\t\t\\\n\tif (!retval)\t\t\t\t\t\t\t\t\t\t\\\n\t\treturn;\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t__da_handle_event_##name(da_mon, tsk, event);\t\t\t\t\t\t\\\n}\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\t\t\t\\\nstatic inline bool\t\t\t\t\t\t\t\t\t\t\\\nda_handle_start_event_##name(struct task_struct *tsk, enum events_##name event)\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tstruct da_monitor *da_mon;\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tif (!da_monitor_enabled_##name())\t\t\t\t\t\t\t\\\n\t\treturn 0;\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tda_mon = da_get_monitor_##name(tsk);\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\tif (unlikely(!da_monitoring_##name(da_mon))) {\t\t\t\t\t\t\\\n\t\tda_monitor_start_##name(da_mon);\t\t\t\t\t\t\\\n\t\treturn 0;\t\t\t\t\t\t\t\t\t\\\n\t}\t\t\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\t__da_handle_event_##name(da_mon, tsk, event);\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\n\treturn 1;\t\t\t\t\t\t\t\t\t\t\\\n}\n\n \n#define DECLARE_DA_MON_GLOBAL(name, type)\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\nDECLARE_AUTOMATA_HELPERS(name, type)\t\t\t\t\t\t\t\t\\\nDECLARE_DA_MON_GENERIC_HELPERS(name, type)\t\t\t\t\t\t\t\\\nDECLARE_DA_MON_MODEL_HANDLER_IMPLICIT(name, type)\t\t\t\t\t\t\\\nDECLARE_DA_MON_INIT_GLOBAL(name, type)\t\t\t\t\t\t\t\t\\\nDECLARE_DA_MON_MONITOR_HANDLER_IMPLICIT(name, type)\n\n \n#define DECLARE_DA_MON_PER_CPU(name, type)\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\nDECLARE_AUTOMATA_HELPERS(name, type)\t\t\t\t\t\t\t\t\\\nDECLARE_DA_MON_GENERIC_HELPERS(name, type)\t\t\t\t\t\t\t\\\nDECLARE_DA_MON_MODEL_HANDLER_IMPLICIT(name, type)\t\t\t\t\t\t\\\nDECLARE_DA_MON_INIT_PER_CPU(name, type)\t\t\t\t\t\t\t\t\\\nDECLARE_DA_MON_MONITOR_HANDLER_IMPLICIT(name, type)\n\n \n#define DECLARE_DA_MON_PER_TASK(name, type)\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\\nDECLARE_AUTOMATA_HELPERS(name, type)\t\t\t\t\t\t\t\t\\\nDECLARE_DA_MON_GENERIC_HELPERS(name, type)\t\t\t\t\t\t\t\\\nDECLARE_DA_MON_MODEL_HANDLER_PER_TASK(name, type)\t\t\t\t\t\t\\\nDECLARE_DA_MON_INIT_PER_TASK(name, type)\t\t\t\t\t\t\t\\\nDECLARE_DA_MON_MONITOR_HANDLER_PER_TASK(name, type)\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}