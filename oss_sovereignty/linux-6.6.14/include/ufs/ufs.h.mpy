{
  "module_name": "ufs.h",
  "hash_id": "3e8130fc41b150d3c25a55646d600b0ed52b5dd7a59eaeaf1934feaf1b1fea8e",
  "original_prompt": "Ingested from linux-6.6.14/include/ufs/ufs.h",
  "human_readable_source": " \n \n\n#ifndef _UFS_H\n#define _UFS_H\n\n#include <linux/bitops.h>\n#include <linux/types.h>\n#include <uapi/scsi/scsi_bsg_ufs.h>\n\n \nstatic_assert(sizeof(struct utp_upiu_header) == 12);\n\n#define GENERAL_UPIU_REQUEST_SIZE (sizeof(struct utp_upiu_req))\n#define QUERY_DESC_MAX_SIZE       255\n#define QUERY_DESC_MIN_SIZE       2\n#define QUERY_DESC_HDR_SIZE       2\n#define QUERY_OSF_SIZE            (GENERAL_UPIU_REQUEST_SIZE - \\\n\t\t\t\t\t(sizeof(struct utp_upiu_header)))\n#define UFS_SENSE_SIZE\t18\n\n \n#define UFS_UPIU_MAX_UNIT_NUM_ID\t0x7F\n#define UFS_MAX_LUNS\t\t(SCSI_W_LUN_BASE + UFS_UPIU_MAX_UNIT_NUM_ID)\n#define UFS_UPIU_WLUN_ID\t(1 << 7)\n\n \n#define UFS_UPIU_MAX_WB_LUN_ID\t8\n\n \n#define UFS_WB_EXCEED_LIFETIME\t\t0x0B\n\n \n#define EHS_OFFSET_IN_RESPONSE 32\n\n \nenum {\n\tUFS_UPIU_REPORT_LUNS_WLUN\t= 0x81,\n\tUFS_UPIU_UFS_DEVICE_WLUN\t= 0xD0,\n\tUFS_UPIU_BOOT_WLUN\t\t= 0xB0,\n\tUFS_UPIU_RPMB_WLUN\t\t= 0xC4,\n};\n\n \n\n \nenum {\n\tUFS_ABORT_TASK\t\t= 0x01,\n\tUFS_ABORT_TASK_SET\t= 0x02,\n\tUFS_CLEAR_TASK_SET\t= 0x04,\n\tUFS_LOGICAL_RESET\t= 0x08,\n\tUFS_QUERY_TASK\t\t= 0x80,\n\tUFS_QUERY_TASK_SET\t= 0x81,\n};\n\n \nenum upiu_request_transaction {\n\tUPIU_TRANSACTION_NOP_OUT\t= 0x00,\n\tUPIU_TRANSACTION_COMMAND\t= 0x01,\n\tUPIU_TRANSACTION_DATA_OUT\t= 0x02,\n\tUPIU_TRANSACTION_TASK_REQ\t= 0x04,\n\tUPIU_TRANSACTION_QUERY_REQ\t= 0x16,\n};\n\n \nenum upiu_response_transaction {\n\tUPIU_TRANSACTION_NOP_IN\t\t= 0x20,\n\tUPIU_TRANSACTION_RESPONSE\t= 0x21,\n\tUPIU_TRANSACTION_DATA_IN\t= 0x22,\n\tUPIU_TRANSACTION_TASK_RSP\t= 0x24,\n\tUPIU_TRANSACTION_READY_XFER\t= 0x31,\n\tUPIU_TRANSACTION_QUERY_RSP\t= 0x36,\n\tUPIU_TRANSACTION_REJECT_UPIU\t= 0x3F,\n};\n\n \nenum {\n\tUPIU_CMD_FLAGS_NONE\t= 0x00,\n\tUPIU_CMD_FLAGS_WRITE\t= 0x20,\n\tUPIU_CMD_FLAGS_READ\t= 0x40,\n};\n\n \nenum {\n\tUPIU_RSP_FLAG_UNDERFLOW\t= 0x20,\n\tUPIU_RSP_FLAG_OVERFLOW\t= 0x40,\n};\n\n \nenum {\n\tUPIU_TASK_ATTR_SIMPLE\t= 0x00,\n\tUPIU_TASK_ATTR_ORDERED\t= 0x01,\n\tUPIU_TASK_ATTR_HEADQ\t= 0x02,\n\tUPIU_TASK_ATTR_ACA\t= 0x03,\n};\n\n \nenum {\n\tUPIU_QUERY_FUNC_STANDARD_READ_REQUEST           = 0x01,\n\tUPIU_QUERY_FUNC_STANDARD_WRITE_REQUEST          = 0x81,\n};\n\n \nenum flag_idn {\n\tQUERY_FLAG_IDN_FDEVICEINIT\t\t\t= 0x01,\n\tQUERY_FLAG_IDN_PERMANENT_WPE\t\t\t= 0x02,\n\tQUERY_FLAG_IDN_PWR_ON_WPE\t\t\t= 0x03,\n\tQUERY_FLAG_IDN_BKOPS_EN\t\t\t\t= 0x04,\n\tQUERY_FLAG_IDN_LIFE_SPAN_MODE_ENABLE\t\t= 0x05,\n\tQUERY_FLAG_IDN_PURGE_ENABLE\t\t\t= 0x06,\n\tQUERY_FLAG_IDN_RESERVED2\t\t\t= 0x07,\n\tQUERY_FLAG_IDN_FPHYRESOURCEREMOVAL\t\t= 0x08,\n\tQUERY_FLAG_IDN_BUSY_RTC\t\t\t\t= 0x09,\n\tQUERY_FLAG_IDN_RESERVED3\t\t\t= 0x0A,\n\tQUERY_FLAG_IDN_PERMANENTLY_DISABLE_FW_UPDATE\t= 0x0B,\n\tQUERY_FLAG_IDN_WB_EN                            = 0x0E,\n\tQUERY_FLAG_IDN_WB_BUFF_FLUSH_EN                 = 0x0F,\n\tQUERY_FLAG_IDN_WB_BUFF_FLUSH_DURING_HIBERN8     = 0x10,\n\tQUERY_FLAG_IDN_HPB_RESET                        = 0x11,\n\tQUERY_FLAG_IDN_HPB_EN\t\t\t\t= 0x12,\n};\n\n \nenum attr_idn {\n\tQUERY_ATTR_IDN_BOOT_LU_EN\t\t= 0x00,\n\tQUERY_ATTR_IDN_MAX_HPB_SINGLE_CMD\t= 0x01,\n\tQUERY_ATTR_IDN_POWER_MODE\t\t= 0x02,\n\tQUERY_ATTR_IDN_ACTIVE_ICC_LVL\t\t= 0x03,\n\tQUERY_ATTR_IDN_OOO_DATA_EN\t\t= 0x04,\n\tQUERY_ATTR_IDN_BKOPS_STATUS\t\t= 0x05,\n\tQUERY_ATTR_IDN_PURGE_STATUS\t\t= 0x06,\n\tQUERY_ATTR_IDN_MAX_DATA_IN\t\t= 0x07,\n\tQUERY_ATTR_IDN_MAX_DATA_OUT\t\t= 0x08,\n\tQUERY_ATTR_IDN_DYN_CAP_NEEDED\t\t= 0x09,\n\tQUERY_ATTR_IDN_REF_CLK_FREQ\t\t= 0x0A,\n\tQUERY_ATTR_IDN_CONF_DESC_LOCK\t\t= 0x0B,\n\tQUERY_ATTR_IDN_MAX_NUM_OF_RTT\t\t= 0x0C,\n\tQUERY_ATTR_IDN_EE_CONTROL\t\t= 0x0D,\n\tQUERY_ATTR_IDN_EE_STATUS\t\t= 0x0E,\n\tQUERY_ATTR_IDN_SECONDS_PASSED\t\t= 0x0F,\n\tQUERY_ATTR_IDN_CNTX_CONF\t\t= 0x10,\n\tQUERY_ATTR_IDN_CORR_PRG_BLK_NUM\t\t= 0x11,\n\tQUERY_ATTR_IDN_RESERVED2\t\t= 0x12,\n\tQUERY_ATTR_IDN_RESERVED3\t\t= 0x13,\n\tQUERY_ATTR_IDN_FFU_STATUS\t\t= 0x14,\n\tQUERY_ATTR_IDN_PSA_STATE\t\t= 0x15,\n\tQUERY_ATTR_IDN_PSA_DATA_SIZE\t\t= 0x16,\n\tQUERY_ATTR_IDN_REF_CLK_GATING_WAIT_TIME\t= 0x17,\n\tQUERY_ATTR_IDN_CASE_ROUGH_TEMP          = 0x18,\n\tQUERY_ATTR_IDN_HIGH_TEMP_BOUND          = 0x19,\n\tQUERY_ATTR_IDN_LOW_TEMP_BOUND           = 0x1A,\n\tQUERY_ATTR_IDN_WB_FLUSH_STATUS\t        = 0x1C,\n\tQUERY_ATTR_IDN_AVAIL_WB_BUFF_SIZE       = 0x1D,\n\tQUERY_ATTR_IDN_WB_BUFF_LIFE_TIME_EST    = 0x1E,\n\tQUERY_ATTR_IDN_CURR_WB_BUFF_SIZE        = 0x1F,\n\tQUERY_ATTR_IDN_EXT_IID_EN\t\t= 0x2A,\n\tQUERY_ATTR_IDN_TIMESTAMP\t\t= 0x30\n};\n\n \nenum desc_idn {\n\tQUERY_DESC_IDN_DEVICE\t\t= 0x0,\n\tQUERY_DESC_IDN_CONFIGURATION\t= 0x1,\n\tQUERY_DESC_IDN_UNIT\t\t= 0x2,\n\tQUERY_DESC_IDN_RFU_0\t\t= 0x3,\n\tQUERY_DESC_IDN_INTERCONNECT\t= 0x4,\n\tQUERY_DESC_IDN_STRING\t\t= 0x5,\n\tQUERY_DESC_IDN_RFU_1\t\t= 0x6,\n\tQUERY_DESC_IDN_GEOMETRY\t\t= 0x7,\n\tQUERY_DESC_IDN_POWER\t\t= 0x8,\n\tQUERY_DESC_IDN_HEALTH           = 0x9,\n\tQUERY_DESC_IDN_MAX,\n};\n\nenum desc_header_offset {\n\tQUERY_DESC_LENGTH_OFFSET\t= 0x00,\n\tQUERY_DESC_DESC_TYPE_OFFSET\t= 0x01,\n};\n\n \nenum unit_desc_param {\n\tUNIT_DESC_PARAM_LEN\t\t\t= 0x0,\n\tUNIT_DESC_PARAM_TYPE\t\t\t= 0x1,\n\tUNIT_DESC_PARAM_UNIT_INDEX\t\t= 0x2,\n\tUNIT_DESC_PARAM_LU_ENABLE\t\t= 0x3,\n\tUNIT_DESC_PARAM_BOOT_LUN_ID\t\t= 0x4,\n\tUNIT_DESC_PARAM_LU_WR_PROTECT\t\t= 0x5,\n\tUNIT_DESC_PARAM_LU_Q_DEPTH\t\t= 0x6,\n\tUNIT_DESC_PARAM_PSA_SENSITIVE\t\t= 0x7,\n\tUNIT_DESC_PARAM_MEM_TYPE\t\t= 0x8,\n\tUNIT_DESC_PARAM_DATA_RELIABILITY\t= 0x9,\n\tUNIT_DESC_PARAM_LOGICAL_BLK_SIZE\t= 0xA,\n\tUNIT_DESC_PARAM_LOGICAL_BLK_COUNT\t= 0xB,\n\tUNIT_DESC_PARAM_ERASE_BLK_SIZE\t\t= 0x13,\n\tUNIT_DESC_PARAM_PROVISIONING_TYPE\t= 0x17,\n\tUNIT_DESC_PARAM_PHY_MEM_RSRC_CNT\t= 0x18,\n\tUNIT_DESC_PARAM_CTX_CAPABILITIES\t= 0x20,\n\tUNIT_DESC_PARAM_LARGE_UNIT_SIZE_M1\t= 0x22,\n\tUNIT_DESC_PARAM_HPB_LU_MAX_ACTIVE_RGNS\t= 0x23,\n\tUNIT_DESC_PARAM_HPB_PIN_RGN_START_OFF\t= 0x25,\n\tUNIT_DESC_PARAM_HPB_NUM_PIN_RGNS\t= 0x27,\n\tUNIT_DESC_PARAM_WB_BUF_ALLOC_UNITS\t= 0x29,\n};\n\n \nenum rpmb_unit_desc_param {\n\tRPMB_UNIT_DESC_PARAM_LEN\t\t= 0x0,\n\tRPMB_UNIT_DESC_PARAM_TYPE\t\t= 0x1,\n\tRPMB_UNIT_DESC_PARAM_UNIT_INDEX\t\t= 0x2,\n\tRPMB_UNIT_DESC_PARAM_LU_ENABLE\t\t= 0x3,\n\tRPMB_UNIT_DESC_PARAM_BOOT_LUN_ID\t= 0x4,\n\tRPMB_UNIT_DESC_PARAM_LU_WR_PROTECT\t= 0x5,\n\tRPMB_UNIT_DESC_PARAM_LU_Q_DEPTH\t\t= 0x6,\n\tRPMB_UNIT_DESC_PARAM_PSA_SENSITIVE\t= 0x7,\n\tRPMB_UNIT_DESC_PARAM_MEM_TYPE\t\t= 0x8,\n\tRPMB_UNIT_DESC_PARAM_REGION_EN\t\t= 0x9,\n\tRPMB_UNIT_DESC_PARAM_LOGICAL_BLK_SIZE\t= 0xA,\n\tRPMB_UNIT_DESC_PARAM_LOGICAL_BLK_COUNT\t= 0xB,\n\tRPMB_UNIT_DESC_PARAM_REGION0_SIZE\t= 0x13,\n\tRPMB_UNIT_DESC_PARAM_REGION1_SIZE\t= 0x14,\n\tRPMB_UNIT_DESC_PARAM_REGION2_SIZE\t= 0x15,\n\tRPMB_UNIT_DESC_PARAM_REGION3_SIZE\t= 0x16,\n\tRPMB_UNIT_DESC_PARAM_PROVISIONING_TYPE\t= 0x17,\n\tRPMB_UNIT_DESC_PARAM_PHY_MEM_RSRC_CNT\t= 0x18,\n};\n\n \nenum device_desc_param {\n\tDEVICE_DESC_PARAM_LEN\t\t\t= 0x0,\n\tDEVICE_DESC_PARAM_TYPE\t\t\t= 0x1,\n\tDEVICE_DESC_PARAM_DEVICE_TYPE\t\t= 0x2,\n\tDEVICE_DESC_PARAM_DEVICE_CLASS\t\t= 0x3,\n\tDEVICE_DESC_PARAM_DEVICE_SUB_CLASS\t= 0x4,\n\tDEVICE_DESC_PARAM_PRTCL\t\t\t= 0x5,\n\tDEVICE_DESC_PARAM_NUM_LU\t\t= 0x6,\n\tDEVICE_DESC_PARAM_NUM_WLU\t\t= 0x7,\n\tDEVICE_DESC_PARAM_BOOT_ENBL\t\t= 0x8,\n\tDEVICE_DESC_PARAM_DESC_ACCSS_ENBL\t= 0x9,\n\tDEVICE_DESC_PARAM_INIT_PWR_MODE\t\t= 0xA,\n\tDEVICE_DESC_PARAM_HIGH_PR_LUN\t\t= 0xB,\n\tDEVICE_DESC_PARAM_SEC_RMV_TYPE\t\t= 0xC,\n\tDEVICE_DESC_PARAM_SEC_LU\t\t= 0xD,\n\tDEVICE_DESC_PARAM_BKOP_TERM_LT\t\t= 0xE,\n\tDEVICE_DESC_PARAM_ACTVE_ICC_LVL\t\t= 0xF,\n\tDEVICE_DESC_PARAM_SPEC_VER\t\t= 0x10,\n\tDEVICE_DESC_PARAM_MANF_DATE\t\t= 0x12,\n\tDEVICE_DESC_PARAM_MANF_NAME\t\t= 0x14,\n\tDEVICE_DESC_PARAM_PRDCT_NAME\t\t= 0x15,\n\tDEVICE_DESC_PARAM_SN\t\t\t= 0x16,\n\tDEVICE_DESC_PARAM_OEM_ID\t\t= 0x17,\n\tDEVICE_DESC_PARAM_MANF_ID\t\t= 0x18,\n\tDEVICE_DESC_PARAM_UD_OFFSET\t\t= 0x1A,\n\tDEVICE_DESC_PARAM_UD_LEN\t\t= 0x1B,\n\tDEVICE_DESC_PARAM_RTT_CAP\t\t= 0x1C,\n\tDEVICE_DESC_PARAM_FRQ_RTC\t\t= 0x1D,\n\tDEVICE_DESC_PARAM_UFS_FEAT\t\t= 0x1F,\n\tDEVICE_DESC_PARAM_FFU_TMT\t\t= 0x20,\n\tDEVICE_DESC_PARAM_Q_DPTH\t\t= 0x21,\n\tDEVICE_DESC_PARAM_DEV_VER\t\t= 0x22,\n\tDEVICE_DESC_PARAM_NUM_SEC_WPA\t\t= 0x24,\n\tDEVICE_DESC_PARAM_PSA_MAX_DATA\t\t= 0x25,\n\tDEVICE_DESC_PARAM_PSA_TMT\t\t= 0x29,\n\tDEVICE_DESC_PARAM_PRDCT_REV\t\t= 0x2A,\n\tDEVICE_DESC_PARAM_HPB_VER\t\t= 0x40,\n\tDEVICE_DESC_PARAM_HPB_CONTROL\t\t= 0x42,\n\tDEVICE_DESC_PARAM_EXT_UFS_FEATURE_SUP\t= 0x4F,\n\tDEVICE_DESC_PARAM_WB_PRESRV_USRSPC_EN\t= 0x53,\n\tDEVICE_DESC_PARAM_WB_TYPE\t\t= 0x54,\n\tDEVICE_DESC_PARAM_WB_SHARED_ALLOC_UNITS = 0x55,\n};\n\n \nenum interconnect_desc_param {\n\tINTERCONNECT_DESC_PARAM_LEN\t\t= 0x0,\n\tINTERCONNECT_DESC_PARAM_TYPE\t\t= 0x1,\n\tINTERCONNECT_DESC_PARAM_UNIPRO_VER\t= 0x2,\n\tINTERCONNECT_DESC_PARAM_MPHY_VER\t= 0x4,\n};\n\n \nenum geometry_desc_param {\n\tGEOMETRY_DESC_PARAM_LEN\t\t\t= 0x0,\n\tGEOMETRY_DESC_PARAM_TYPE\t\t= 0x1,\n\tGEOMETRY_DESC_PARAM_DEV_CAP\t\t= 0x4,\n\tGEOMETRY_DESC_PARAM_MAX_NUM_LUN\t\t= 0xC,\n\tGEOMETRY_DESC_PARAM_SEG_SIZE\t\t= 0xD,\n\tGEOMETRY_DESC_PARAM_ALLOC_UNIT_SIZE\t= 0x11,\n\tGEOMETRY_DESC_PARAM_MIN_BLK_SIZE\t= 0x12,\n\tGEOMETRY_DESC_PARAM_OPT_RD_BLK_SIZE\t= 0x13,\n\tGEOMETRY_DESC_PARAM_OPT_WR_BLK_SIZE\t= 0x14,\n\tGEOMETRY_DESC_PARAM_MAX_IN_BUF_SIZE\t= 0x15,\n\tGEOMETRY_DESC_PARAM_MAX_OUT_BUF_SIZE\t= 0x16,\n\tGEOMETRY_DESC_PARAM_RPMB_RW_SIZE\t= 0x17,\n\tGEOMETRY_DESC_PARAM_DYN_CAP_RSRC_PLC\t= 0x18,\n\tGEOMETRY_DESC_PARAM_DATA_ORDER\t\t= 0x19,\n\tGEOMETRY_DESC_PARAM_MAX_NUM_CTX\t\t= 0x1A,\n\tGEOMETRY_DESC_PARAM_TAG_UNIT_SIZE\t= 0x1B,\n\tGEOMETRY_DESC_PARAM_TAG_RSRC_SIZE\t= 0x1C,\n\tGEOMETRY_DESC_PARAM_SEC_RM_TYPES\t= 0x1D,\n\tGEOMETRY_DESC_PARAM_MEM_TYPES\t\t= 0x1E,\n\tGEOMETRY_DESC_PARAM_SCM_MAX_NUM_UNITS\t= 0x20,\n\tGEOMETRY_DESC_PARAM_SCM_CAP_ADJ_FCTR\t= 0x24,\n\tGEOMETRY_DESC_PARAM_NPM_MAX_NUM_UNITS\t= 0x26,\n\tGEOMETRY_DESC_PARAM_NPM_CAP_ADJ_FCTR\t= 0x2A,\n\tGEOMETRY_DESC_PARAM_ENM1_MAX_NUM_UNITS\t= 0x2C,\n\tGEOMETRY_DESC_PARAM_ENM1_CAP_ADJ_FCTR\t= 0x30,\n\tGEOMETRY_DESC_PARAM_ENM2_MAX_NUM_UNITS\t= 0x32,\n\tGEOMETRY_DESC_PARAM_ENM2_CAP_ADJ_FCTR\t= 0x36,\n\tGEOMETRY_DESC_PARAM_ENM3_MAX_NUM_UNITS\t= 0x38,\n\tGEOMETRY_DESC_PARAM_ENM3_CAP_ADJ_FCTR\t= 0x3C,\n\tGEOMETRY_DESC_PARAM_ENM4_MAX_NUM_UNITS\t= 0x3E,\n\tGEOMETRY_DESC_PARAM_ENM4_CAP_ADJ_FCTR\t= 0x42,\n\tGEOMETRY_DESC_PARAM_OPT_LOG_BLK_SIZE\t= 0x44,\n\tGEOMETRY_DESC_PARAM_HPB_REGION_SIZE\t= 0x48,\n\tGEOMETRY_DESC_PARAM_HPB_NUMBER_LU\t= 0x49,\n\tGEOMETRY_DESC_PARAM_HPB_SUBREGION_SIZE\t= 0x4A,\n\tGEOMETRY_DESC_PARAM_HPB_MAX_ACTIVE_REGS\t= 0x4B,\n\tGEOMETRY_DESC_PARAM_WB_MAX_ALLOC_UNITS\t= 0x4F,\n\tGEOMETRY_DESC_PARAM_WB_MAX_WB_LUNS\t= 0x53,\n\tGEOMETRY_DESC_PARAM_WB_BUFF_CAP_ADJ\t= 0x54,\n\tGEOMETRY_DESC_PARAM_WB_SUP_RED_TYPE\t= 0x55,\n\tGEOMETRY_DESC_PARAM_WB_SUP_WB_TYPE\t= 0x56,\n};\n\n \nenum health_desc_param {\n\tHEALTH_DESC_PARAM_LEN\t\t\t= 0x0,\n\tHEALTH_DESC_PARAM_TYPE\t\t\t= 0x1,\n\tHEALTH_DESC_PARAM_EOL_INFO\t\t= 0x2,\n\tHEALTH_DESC_PARAM_LIFE_TIME_EST_A\t= 0x3,\n\tHEALTH_DESC_PARAM_LIFE_TIME_EST_B\t= 0x4,\n};\n\n \nenum {\n\tWB_BUF_MODE_LU_DEDICATED\t= 0x0,\n\tWB_BUF_MODE_SHARED\t\t= 0x1,\n};\n\n \nenum ufs_lu_wp_type {\n\tUFS_LU_NO_WP\t\t= 0x00,\n\tUFS_LU_POWER_ON_WP\t= 0x01,\n\tUFS_LU_PERM_WP\t\t= 0x02,\n};\n\n \nenum {\n\tUFSHCD_NANO_AMP\t\t= 0,\n\tUFSHCD_MICRO_AMP\t= 1,\n\tUFSHCD_MILI_AMP\t\t= 2,\n\tUFSHCD_AMP\t\t= 3,\n};\n\n \nenum {\n\tUFS_DEV_LOW_TEMP_NOTIF\t\t= BIT(4),\n\tUFS_DEV_HIGH_TEMP_NOTIF\t\t= BIT(5),\n\tUFS_DEV_EXT_TEMP_NOTIF\t\t= BIT(6),\n\tUFS_DEV_HPB_SUPPORT\t\t= BIT(7),\n\tUFS_DEV_WRITE_BOOSTER_SUP\t= BIT(8),\n\tUFS_DEV_EXT_IID_SUP\t\t= BIT(16),\n};\n#define UFS_DEV_HPB_SUPPORT_VERSION\t\t0x310\n\n#define POWER_DESC_MAX_ACTV_ICC_LVLS\t\t16\n\n \n#define ATTR_ICC_LVL_UNIT_OFFSET\t14\n#define ATTR_ICC_LVL_UNIT_MASK\t\t(0x3 << ATTR_ICC_LVL_UNIT_OFFSET)\n#define ATTR_ICC_LVL_VALUE_MASK\t\t0x3FF\n\n \nenum power_desc_param_offset {\n\tPWR_DESC_LEN\t\t\t= 0x0,\n\tPWR_DESC_TYPE\t\t\t= 0x1,\n\tPWR_DESC_ACTIVE_LVLS_VCC_0\t= 0x2,\n\tPWR_DESC_ACTIVE_LVLS_VCCQ_0\t= 0x22,\n\tPWR_DESC_ACTIVE_LVLS_VCCQ2_0\t= 0x42,\n};\n\n \nenum {\n\tMASK_EE_STATUS\t\t\t= 0xFFFF,\n\tMASK_EE_DYNCAP_EVENT\t\t= BIT(0),\n\tMASK_EE_SYSPOOL_EVENT\t\t= BIT(1),\n\tMASK_EE_URGENT_BKOPS\t\t= BIT(2),\n\tMASK_EE_TOO_HIGH_TEMP\t\t= BIT(3),\n\tMASK_EE_TOO_LOW_TEMP\t\t= BIT(4),\n\tMASK_EE_WRITEBOOSTER_EVENT\t= BIT(5),\n\tMASK_EE_PERFORMANCE_THROTTLING\t= BIT(6),\n};\n#define MASK_EE_URGENT_TEMP (MASK_EE_TOO_HIGH_TEMP | MASK_EE_TOO_LOW_TEMP)\n\n \nenum bkops_status {\n\tBKOPS_STATUS_NO_OP               = 0x0,\n\tBKOPS_STATUS_NON_CRITICAL        = 0x1,\n\tBKOPS_STATUS_PERF_IMPACT         = 0x2,\n\tBKOPS_STATUS_CRITICAL            = 0x3,\n\tBKOPS_STATUS_MAX\t\t = BKOPS_STATUS_CRITICAL,\n};\n\n \nenum query_opcode {\n\tUPIU_QUERY_OPCODE_NOP\t\t= 0x0,\n\tUPIU_QUERY_OPCODE_READ_DESC\t= 0x1,\n\tUPIU_QUERY_OPCODE_WRITE_DESC\t= 0x2,\n\tUPIU_QUERY_OPCODE_READ_ATTR\t= 0x3,\n\tUPIU_QUERY_OPCODE_WRITE_ATTR\t= 0x4,\n\tUPIU_QUERY_OPCODE_READ_FLAG\t= 0x5,\n\tUPIU_QUERY_OPCODE_SET_FLAG\t= 0x6,\n\tUPIU_QUERY_OPCODE_CLEAR_FLAG\t= 0x7,\n\tUPIU_QUERY_OPCODE_TOGGLE_FLAG\t= 0x8,\n};\n\n \nenum ufs_ref_clk_freq {\n\tREF_CLK_FREQ_19_2_MHZ\t= 0,\n\tREF_CLK_FREQ_26_MHZ\t= 1,\n\tREF_CLK_FREQ_38_4_MHZ\t= 2,\n\tREF_CLK_FREQ_52_MHZ\t= 3,\n\tREF_CLK_FREQ_INVAL\t= -1,\n};\n\n \nenum {\n\tQUERY_RESULT_SUCCESS                    = 0x00,\n\tQUERY_RESULT_NOT_READABLE               = 0xF6,\n\tQUERY_RESULT_NOT_WRITEABLE              = 0xF7,\n\tQUERY_RESULT_ALREADY_WRITTEN            = 0xF8,\n\tQUERY_RESULT_INVALID_LENGTH             = 0xF9,\n\tQUERY_RESULT_INVALID_VALUE              = 0xFA,\n\tQUERY_RESULT_INVALID_SELECTOR           = 0xFB,\n\tQUERY_RESULT_INVALID_INDEX              = 0xFC,\n\tQUERY_RESULT_INVALID_IDN                = 0xFD,\n\tQUERY_RESULT_INVALID_OPCODE             = 0xFE,\n\tQUERY_RESULT_GENERAL_FAILURE            = 0xFF,\n};\n\n \nenum {\n\tUPIU_COMMAND_SET_TYPE_SCSI\t= 0x0,\n\tUPIU_COMMAND_SET_TYPE_UFS\t= 0x1,\n\tUPIU_COMMAND_SET_TYPE_QUERY\t= 0x2,\n};\n\n \n#define UPIU_RSP_CODE_OFFSET\t\t8\n\nenum {\n\tMASK_TM_SERVICE_RESP\t\t= 0xFF,\n};\n\n \nenum {\n\tUPIU_TASK_MANAGEMENT_FUNC_COMPL\t\t= 0x00,\n\tUPIU_TASK_MANAGEMENT_FUNC_NOT_SUPPORTED = 0x04,\n\tUPIU_TASK_MANAGEMENT_FUNC_SUCCEEDED\t= 0x08,\n\tUPIU_TASK_MANAGEMENT_FUNC_FAILED\t= 0x05,\n\tUPIU_INCORRECT_LOGICAL_UNIT_NO\t\t= 0x09,\n};\n\n \nenum ufs_dev_pwr_mode {\n\tUFS_ACTIVE_PWR_MODE\t= 1,\n\tUFS_SLEEP_PWR_MODE\t= 2,\n\tUFS_POWERDOWN_PWR_MODE\t= 3,\n\tUFS_DEEPSLEEP_PWR_MODE\t= 4,\n};\n\n#define UFS_WB_BUF_REMAIN_PERCENT(val) ((val) / 10)\n\n \nstruct utp_cmd_rsp {\n\t__be32 residual_transfer_count;\n\t__be32 reserved[4];\n\t__be16 sense_data_len;\n\tu8 sense_data[UFS_SENSE_SIZE];\n};\n\n \nstruct utp_upiu_rsp {\n\tstruct utp_upiu_header header;\n\tunion {\n\t\tstruct utp_cmd_rsp sr;\n\t\tstruct utp_upiu_query qr;\n\t};\n};\n\n \n#define UFS_VREG_LPM_LOAD_UA\t1000  \n\nstruct ufs_vreg {\n\tstruct regulator *reg;\n\tconst char *name;\n\tbool always_on;\n\tbool enabled;\n\tint max_uA;\n};\n\nstruct ufs_vreg_info {\n\tstruct ufs_vreg *vcc;\n\tstruct ufs_vreg *vccq;\n\tstruct ufs_vreg *vccq2;\n\tstruct ufs_vreg *vdd_hba;\n};\n\nstruct ufs_dev_info {\n\tbool\tf_power_on_wp_en;\n\t \n\tbool\tis_lu_power_on_wp;\n\t \n\tu8\tmax_lu_supported;\n\tu16\twmanufacturerid;\n\t \n\tu8\t*model;\n\tu16\twspecversion;\n\tu32\tclk_gating_wait_us;\n\t \n\tu8\tbqueuedepth;\n\n\t \n\tbool    wb_enabled;\n\tbool    wb_buf_flush_enabled;\n\tu8\twb_dedicated_lu;\n\tu8      wb_buffer_type;\n\n\tbool\tb_rpm_dev_flush_capable;\n\tu8\tb_presrv_uspc_en;\n\n\tbool    b_advanced_rpmb_en;\n\n\t \n\tbool\tb_ext_iid_en;\n};\n\n \nenum ufs_trace_str_t {\n\tUFS_CMD_SEND, UFS_CMD_COMP, UFS_DEV_COMP,\n\tUFS_QUERY_SEND, UFS_QUERY_COMP, UFS_QUERY_ERR,\n\tUFS_TM_SEND, UFS_TM_COMP, UFS_TM_ERR\n};\n\n \nenum ufs_trace_tsf_t {\n\tUFS_TSF_CDB, UFS_TSF_OSF, UFS_TSF_TM_INPUT, UFS_TSF_TM_OUTPUT\n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}