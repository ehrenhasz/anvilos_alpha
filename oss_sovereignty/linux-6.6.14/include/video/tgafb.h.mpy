{
  "module_name": "tgafb.h",
  "hash_id": "bccfba437ebbf4214abdcb23ee916a5325f8b9153a04478395c5c4a9c39c5ff9",
  "original_prompt": "Ingested from linux-6.6.14/include/video/tgafb.h",
  "human_readable_source": " \n\n#ifndef TGAFB_H\n#define TGAFB_H\n\n \n\n#define TGA_TYPE_8PLANE\t\t\t0\n#define TGA_TYPE_24PLANE\t\t1\n#define TGA_TYPE_24PLUSZ\t\t3\n\n \n\n#define\tTGA_ROM_OFFSET\t\t\t0x0000000\n#define\tTGA_REGS_OFFSET\t\t\t0x0100000\n#define\tTGA_8PLANE_FB_OFFSET\t\t0x0200000\n#define\tTGA_24PLANE_FB_OFFSET\t\t0x0804000\n#define\tTGA_24PLUSZ_FB_OFFSET\t\t0x1004000\n\n#define TGA_FOREGROUND_REG\t\t0x0020\n#define TGA_BACKGROUND_REG\t\t0x0024\n#define\tTGA_PLANEMASK_REG\t\t0x0028\n#define TGA_PIXELMASK_ONESHOT_REG\t0x002c\n#define\tTGA_MODE_REG\t\t\t0x0030\n#define\tTGA_RASTEROP_REG\t\t0x0034\n#define\tTGA_PIXELSHIFT_REG\t\t0x0038\n#define\tTGA_DEEP_REG\t\t\t0x0050\n#define\tTGA_START_REG\t\t\t0x0054\n#define\tTGA_PIXELMASK_REG\t\t0x005c\n#define\tTGA_CURSOR_BASE_REG\t\t0x0060\n#define\tTGA_HORIZ_REG\t\t\t0x0064\n#define\tTGA_VERT_REG\t\t\t0x0068\n#define\tTGA_BASE_ADDR_REG\t\t0x006c\n#define\tTGA_VALID_REG\t\t\t0x0070\n#define\tTGA_CURSOR_XY_REG\t\t0x0074\n#define\tTGA_INTR_STAT_REG\t\t0x007c\n#define TGA_DATA_REG\t\t\t0x0080\n#define\tTGA_RAMDAC_SETUP_REG\t\t0x00c0\n#define\tTGA_BLOCK_COLOR0_REG\t\t0x0140\n#define\tTGA_BLOCK_COLOR1_REG\t\t0x0144\n#define\tTGA_BLOCK_COLOR2_REG\t\t0x0148\n#define\tTGA_BLOCK_COLOR3_REG\t\t0x014c\n#define\tTGA_BLOCK_COLOR4_REG\t\t0x0150\n#define\tTGA_BLOCK_COLOR5_REG\t\t0x0154\n#define\tTGA_BLOCK_COLOR6_REG\t\t0x0158\n#define\tTGA_BLOCK_COLOR7_REG\t\t0x015c\n#define TGA_COPY64_SRC\t\t\t0x0160\n#define TGA_COPY64_DST\t\t\t0x0164\n#define\tTGA_CLOCK_REG\t\t\t0x01e8\n#define\tTGA_RAMDAC_REG\t\t\t0x01f0\n#define\tTGA_CMD_STAT_REG\t\t0x01f8\n\n\n \n\n#define TGA_HORIZ_ODD\t\t\t0x80000000\n#define TGA_HORIZ_POLARITY\t\t0x40000000\n#define TGA_HORIZ_ACT_MSB\t\t0x30000000\n#define TGA_HORIZ_BP\t\t\t0x0fe00000\n#define TGA_HORIZ_SYNC\t\t\t0x001fc000\n#define TGA_HORIZ_FP\t\t\t0x00007c00\n#define TGA_HORIZ_ACT_LSB\t\t0x000001ff\n\n#define TGA_VERT_SE\t\t\t0x80000000\n#define TGA_VERT_POLARITY\t\t0x40000000\n#define TGA_VERT_RESERVED\t\t0x30000000\n#define TGA_VERT_BP\t\t\t0x0fc00000\n#define TGA_VERT_SYNC\t\t\t0x003f0000\n#define TGA_VERT_FP\t\t\t0x0000f800\n#define TGA_VERT_ACTIVE\t\t\t0x000007ff\n\n#define TGA_VALID_VIDEO\t\t\t0x01\n#define TGA_VALID_BLANK\t\t\t0x02\n#define TGA_VALID_CURSOR\t\t0x04\n\n#define TGA_MODE_SBM_8BPP\t\t0x000\n#define TGA_MODE_SBM_24BPP\t\t0x300\n\n#define TGA_MODE_SIMPLE\t\t\t0x00\n#define TGA_MODE_SIMPLEZ\t\t0x10\n#define TGA_MODE_OPAQUE_STIPPLE\t\t0x01\n#define TGA_MODE_OPAQUE_FILL\t\t0x21\n#define TGA_MODE_TRANSPARENT_STIPPLE\t0x03\n#define TGA_MODE_TRANSPARENT_FILL\t0x23\n#define TGA_MODE_BLOCK_STIPPLE\t\t0x0d\n#define TGA_MODE_BLOCK_FILL\t\t0x2d\n#define TGA_MODE_COPY\t\t\t0x07\n#define TGA_MODE_DMA_READ_COPY_ND\t0x17\n#define TGA_MODE_DMA_READ_COPY_D\t0x37\n#define TGA_MODE_DMA_WRITE_COPY\t\t0x1f\n\n\n \n\n#define TGA_PLL_BASE_FREQ \t\t14318\t\t \n#define TGA_PLL_MAX_FREQ \t\t230000\n\n\n \n\n#define\tBT485_READ_BIT\t\t\t0x01\n#define\tBT485_WRITE_BIT\t\t\t0x00\n\n#define\tBT485_ADDR_PAL_WRITE\t\t0x00\n#define\tBT485_DATA_PAL\t\t\t0x02\n#define\tBT485_PIXEL_MASK\t\t0x04\n#define\tBT485_ADDR_PAL_READ\t\t0x06\n#define\tBT485_ADDR_CUR_WRITE\t\t0x08\n#define\tBT485_DATA_CUR\t\t\t0x0a\n#define\tBT485_CMD_0\t\t\t0x0c\n#define\tBT485_ADDR_CUR_READ\t\t0x0e\n#define\tBT485_CMD_1\t\t\t0x10\n#define\tBT485_CMD_2\t\t\t0x12\n#define\tBT485_STATUS\t\t\t0x14\n#define\tBT485_CMD_3\t\t\t0x14\n#define\tBT485_CUR_RAM\t\t\t0x16\n#define\tBT485_CUR_LOW_X\t\t\t0x18\n#define\tBT485_CUR_HIGH_X\t\t0x1a\n#define\tBT485_CUR_LOW_Y\t\t\t0x1c\n#define\tBT485_CUR_HIGH_Y\t\t0x1e\n\n\n \n\n#define\tBT463_ADDR_LO\t\t0x0\n#define\tBT463_ADDR_HI\t\t0x1\n#define\tBT463_REG_ACC\t\t0x2\n#define\tBT463_PALETTE\t\t0x3\n\n#define\tBT463_CUR_CLR_0\t\t0x0100\n#define\tBT463_CUR_CLR_1\t\t0x0101\n\n#define\tBT463_CMD_REG_0\t\t0x0201\n#define\tBT463_CMD_REG_1\t\t0x0202\n#define\tBT463_CMD_REG_2\t\t0x0203\n\n#define\tBT463_READ_MASK_0\t0x0205\n#define\tBT463_READ_MASK_1\t0x0206\n#define\tBT463_READ_MASK_2\t0x0207\n#define\tBT463_READ_MASK_3\t0x0208\n\n#define\tBT463_BLINK_MASK_0\t0x0209\n#define\tBT463_BLINK_MASK_1\t0x020a\n#define\tBT463_BLINK_MASK_2\t0x020b\n#define\tBT463_BLINK_MASK_3\t0x020c\n\n#define\tBT463_WINDOW_TYPE_BASE\t0x0300\n\n \n\n#define\tBT459_ADDR_LO\t\t0x0\n#define\tBT459_ADDR_HI\t\t0x1\n#define\tBT459_REG_ACC\t\t0x2\n#define\tBT459_PALETTE\t\t0x3\n\n#define\tBT459_CUR_CLR_1\t\t0x0181\n#define\tBT459_CUR_CLR_2\t\t0x0182\n#define\tBT459_CUR_CLR_3\t\t0x0183\n\n#define\tBT459_CMD_REG_0\t\t0x0201\n#define\tBT459_CMD_REG_1\t\t0x0202\n#define\tBT459_CMD_REG_2\t\t0x0203\n\n#define\tBT459_READ_MASK\t\t0x0204\n\n#define\tBT459_BLINK_MASK\t0x0206\n\n#define\tBT459_CUR_CMD_REG\t0x0300\n\n \n\nstruct tga_par {\n\t \n\tstruct device *dev;\n\n\t \n\tvoid __iomem *tga_mem_base;\n\tvoid __iomem *tga_fb_base;\n\tvoid __iomem *tga_regs_base;\n\tu8 tga_type;\t\t\t\t \n\tu8 tga_chip_rev;\t\t\t \n\n\t \n\tu8 vesa_blanked;\n\n\t \n\tu32 xres, yres;\t\t\t \n\tu32 htimings;\t\t\t \n\tu32 vtimings;\t\t\t \n\tu32 pll_freq;\t\t\t \n\tu32 bits_per_pixel;\t\t \n\tu32 sync_on_green;\t\t \n\tu32 palette[16];\n};\n\n\n \n\nstatic inline void\nTGA_WRITE_REG(struct tga_par *par, u32 v, u32 r)\n{\n\twritel(v, par->tga_regs_base +r);\n}\n\nstatic inline u32\nTGA_READ_REG(struct tga_par *par, u32 r)\n{\n\treturn readl(par->tga_regs_base +r);\n}\n\nstatic inline void\nBT485_WRITE(struct tga_par *par, u8 v, u8 r)\n{\n\tTGA_WRITE_REG(par, r, TGA_RAMDAC_SETUP_REG);\n\tTGA_WRITE_REG(par, v | (r << 8), TGA_RAMDAC_REG);\n}\n\nstatic inline void\nBT463_LOAD_ADDR(struct tga_par *par, u16 a)\n{\n\tTGA_WRITE_REG(par, BT463_ADDR_LO<<2, TGA_RAMDAC_SETUP_REG);\n\tTGA_WRITE_REG(par, (BT463_ADDR_LO<<10) | (a & 0xff), TGA_RAMDAC_REG);\n\tTGA_WRITE_REG(par, BT463_ADDR_HI<<2, TGA_RAMDAC_SETUP_REG);\n\tTGA_WRITE_REG(par, (BT463_ADDR_HI<<10) | (a >> 8), TGA_RAMDAC_REG);\n}\n\nstatic inline void\nBT463_WRITE(struct tga_par *par, u32 m, u16 a, u8 v)\n{\n\tBT463_LOAD_ADDR(par, a);\n\tTGA_WRITE_REG(par, m << 2, TGA_RAMDAC_SETUP_REG);\n\tTGA_WRITE_REG(par, m << 10 | v, TGA_RAMDAC_REG);\n}\n\nstatic inline void\nBT459_LOAD_ADDR(struct tga_par *par, u16 a)\n{\n\tTGA_WRITE_REG(par, BT459_ADDR_LO << 2, TGA_RAMDAC_SETUP_REG);\n\tTGA_WRITE_REG(par, a & 0xff, TGA_RAMDAC_REG);\n\tTGA_WRITE_REG(par, BT459_ADDR_HI << 2, TGA_RAMDAC_SETUP_REG);\n\tTGA_WRITE_REG(par, a >> 8, TGA_RAMDAC_REG);\n}\n\nstatic inline void\nBT459_WRITE(struct tga_par *par, u32 m, u16 a, u8 v)\n{\n\tBT459_LOAD_ADDR(par, a);\n\tTGA_WRITE_REG(par, m << 2, TGA_RAMDAC_SETUP_REG);\n\tTGA_WRITE_REG(par, v, TGA_RAMDAC_REG);\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}