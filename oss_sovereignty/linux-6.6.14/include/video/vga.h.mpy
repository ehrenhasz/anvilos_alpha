{
  "module_name": "vga.h",
  "hash_id": "de6c0205735e18d18d68bd63e873d4159f5cc2353ed1df59acebf9f8652d4702",
  "original_prompt": "Ingested from linux-6.6.14/include/video/vga.h",
  "human_readable_source": " \n\n#ifndef __linux_video_vga_h__\n#define __linux_video_vga_h__\n\n#include <linux/types.h>\n#include <linux/io.h>\n#include <asm/vga.h>\n#include <asm/byteorder.h>\n\n#define VGA_FB_PHYS_BASE\t0xA0000  \n#define VGA_FB_PHYS_SIZE\t65536\t \n\n \n \n \n \n \n \n\n \n \n\n \n#define VGA_CRT_DC  \t0x3D5\t \n#define VGA_CRT_DM  \t0x3B5\t \n#define VGA_ATT_R   \t0x3C1\t \n#define VGA_ATT_W   \t0x3C0\t \n#define VGA_GFX_D   \t0x3CF\t \n#define VGA_SEQ_D   \t0x3C5\t \n#define VGA_MIS_R   \t0x3CC\t \n#define VGA_MIS_W   \t0x3C2\t \n#define VGA_FTC_R\t0x3CA\t \n#define VGA_IS1_RC  \t0x3DA\t \n#define VGA_IS1_RM  \t0x3BA\t \n#define VGA_PEL_D   \t0x3C9\t \n#define VGA_PEL_MSK \t0x3C6\t \n\n \n#define EGA_GFX_E0\t0x3CC\t \n#define EGA_GFX_E1\t0x3CA\t \n\n \n#define VGA_CRT_IC  \t0x3D4\t \n#define VGA_CRT_IM  \t0x3B4\t \n#define VGA_ATT_IW  \t0x3C0\t \n#define VGA_GFX_I   \t0x3CE\t \n#define VGA_SEQ_I   \t0x3C4\t \n#define VGA_PEL_IW  \t0x3C8\t \n#define VGA_PEL_IR  \t0x3C7\t \n\n \n#define VGA_CRT_C   \t0x19\t \n#define VGA_ATT_C   \t0x15\t \n#define VGA_GFX_C   \t0x09\t \n#define VGA_SEQ_C   \t0x05\t \n#define VGA_MIS_C   \t0x01\t \n\n \n#define VGA_MIS_COLOR\t\t0x01\n#define VGA_MIS_ENB_MEM_ACCESS\t0x02\n#define VGA_MIS_DCLK_28322_720\t0x04\n#define VGA_MIS_ENB_PLL_LOAD\t(0x04 | 0x08)\n#define VGA_MIS_SEL_HIGH_PAGE\t0x20\n\n \n#define VGA_CRTC_H_TOTAL\t0\n#define VGA_CRTC_H_DISP\t\t1\n#define VGA_CRTC_H_BLANK_START\t2\n#define VGA_CRTC_H_BLANK_END\t3\n#define VGA_CRTC_H_SYNC_START\t4\n#define VGA_CRTC_H_SYNC_END\t5\n#define VGA_CRTC_V_TOTAL\t6\n#define VGA_CRTC_OVERFLOW\t7\n#define VGA_CRTC_PRESET_ROW\t8\n#define VGA_CRTC_MAX_SCAN\t9\n#define VGA_CRTC_CURSOR_START\t0x0A\n#define VGA_CRTC_CURSOR_END\t0x0B\n#define VGA_CRTC_START_HI\t0x0C\n#define VGA_CRTC_START_LO\t0x0D\n#define VGA_CRTC_CURSOR_HI\t0x0E\n#define VGA_CRTC_CURSOR_LO\t0x0F\n#define VGA_CRTC_V_SYNC_START\t0x10\n#define VGA_CRTC_V_SYNC_END\t0x11\n#define VGA_CRTC_V_DISP_END\t0x12\n#define VGA_CRTC_OFFSET\t\t0x13\n#define VGA_CRTC_UNDERLINE\t0x14\n#define VGA_CRTC_V_BLANK_START\t0x15\n#define VGA_CRTC_V_BLANK_END\t0x16\n#define VGA_CRTC_MODE\t\t0x17\n#define VGA_CRTC_LINE_COMPARE\t0x18\n#define VGA_CRTC_REGS\t\tVGA_CRT_C\n\n \n#define VGA_CR11_LOCK_CR0_CR7\t0x80  \n#define VGA_CR17_H_V_SIGNALS_ENABLED 0x80\n\n \n#define VGA_ATC_PALETTE0\t0x00\n#define VGA_ATC_PALETTE1\t0x01\n#define VGA_ATC_PALETTE2\t0x02\n#define VGA_ATC_PALETTE3\t0x03\n#define VGA_ATC_PALETTE4\t0x04\n#define VGA_ATC_PALETTE5\t0x05\n#define VGA_ATC_PALETTE6\t0x06\n#define VGA_ATC_PALETTE7\t0x07\n#define VGA_ATC_PALETTE8\t0x08\n#define VGA_ATC_PALETTE9\t0x09\n#define VGA_ATC_PALETTEA\t0x0A\n#define VGA_ATC_PALETTEB\t0x0B\n#define VGA_ATC_PALETTEC\t0x0C\n#define VGA_ATC_PALETTED\t0x0D\n#define VGA_ATC_PALETTEE\t0x0E\n#define VGA_ATC_PALETTEF\t0x0F\n#define VGA_ATC_MODE\t\t0x10\n#define VGA_ATC_OVERSCAN\t0x11\n#define VGA_ATC_PLANE_ENABLE\t0x12\n#define VGA_ATC_PEL\t\t0x13\n#define VGA_ATC_COLOR_PAGE\t0x14\n\n#define VGA_AR_ENABLE_DISPLAY\t0x20\n\n \n#define VGA_SEQ_RESET\t\t0x00\n#define VGA_SEQ_CLOCK_MODE\t0x01\n#define VGA_SEQ_PLANE_WRITE\t0x02\n#define VGA_SEQ_CHARACTER_MAP\t0x03\n#define VGA_SEQ_MEMORY_MODE\t0x04\n\n \n#define VGA_SR01_CHAR_CLK_8DOTS\t0x01  \n#define VGA_SR01_SCREEN_OFF\t0x20  \n#define VGA_SR02_ALL_PLANES\t0x0F  \n#define VGA_SR04_EXT_MEM\t0x02  \n#define VGA_SR04_SEQ_MODE\t0x04  \n#define VGA_SR04_CHN_4M\t\t0x08  \n\n \n#define VGA_GFX_SR_VALUE\t0x00\n#define VGA_GFX_SR_ENABLE\t0x01\n#define VGA_GFX_COMPARE_VALUE\t0x02\n#define VGA_GFX_DATA_ROTATE\t0x03\n#define VGA_GFX_PLANE_READ\t0x04\n#define VGA_GFX_MODE\t\t0x05\n#define VGA_GFX_MISC\t\t0x06\n#define VGA_GFX_COMPARE_MASK\t0x07\n#define VGA_GFX_BIT_MASK\t0x08\n\n \n#define VGA_GR06_GRAPHICS_MODE\t0x01\n\n \n#define VGA_OUT16VAL(v, r)       (((v) << 8) | (r))\n\n \n#ifdef __LITTLE_ENDIAN\n#define VGA_OUTW_WRITE\n#endif\n\n \n#define VGA_SAVE_FONT0 1   \n#define VGA_SAVE_FONT1 2   \n#define VGA_SAVE_TEXT  4   \n#define VGA_SAVE_FONTS 7   \n#define VGA_SAVE_MODE  8   \n#define VGA_SAVE_CMAP  16  \n\nstruct vgastate {\n\tvoid __iomem *vgabase;\t \n\tunsigned long membase;\t \n\t__u32 memsize;\t\t \n\t__u32 flags;\t\t \n\t__u32 depth;\t\t \n\t__u32 num_attr;\t\t \n\t__u32 num_crtc;\t\t \n\t__u32 num_gfx;\t\t \n\t__u32 num_seq;\t\t \n\tvoid *vidstate;\n};\n\nextern int save_vga(struct vgastate *state);\nextern int restore_vga(struct vgastate *state);\n\n \n\nstatic inline unsigned char vga_io_r (unsigned short port)\n{\n\treturn inb_p(port);\n}\n\nstatic inline void vga_io_w (unsigned short port, unsigned char val)\n{\n\toutb_p(val, port);\n}\n\nstatic inline void vga_io_w_fast (unsigned short port, unsigned char reg,\n\t\t\t\t  unsigned char val)\n{\n\toutw(VGA_OUT16VAL (val, reg), port);\n}\n\nstatic inline unsigned char vga_mm_r (void __iomem *regbase, unsigned short port)\n{\n\treturn readb (regbase + port);\n}\n\nstatic inline void vga_mm_w (void __iomem *regbase, unsigned short port, unsigned char val)\n{\n\twriteb (val, regbase + port);\n}\n\nstatic inline void vga_mm_w_fast (void __iomem *regbase, unsigned short port,\n\t\t\t\t  unsigned char reg, unsigned char val)\n{\n\twritew (VGA_OUT16VAL (val, reg), regbase + port);\n}\n\nstatic inline unsigned char vga_r (void __iomem *regbase, unsigned short port)\n{\n\tif (regbase)\n\t\treturn vga_mm_r (regbase, port);\n\telse\n\t\treturn vga_io_r (port);\n}\n\nstatic inline void vga_w (void __iomem *regbase, unsigned short port, unsigned char val)\n{\n\tif (regbase)\n\t\tvga_mm_w (regbase, port, val);\n\telse\n\t\tvga_io_w (port, val);\n}\n\n\nstatic inline void vga_w_fast (void __iomem *regbase, unsigned short port,\n\t\t\t       unsigned char reg, unsigned char val)\n{\n\tif (regbase)\n\t\tvga_mm_w_fast (regbase, port, reg, val);\n\telse\n\t\tvga_io_w_fast (port, reg, val);\n}\n\n\n \n\nstatic inline unsigned char vga_rcrt (void __iomem *regbase, unsigned char reg)\n{\n        vga_w (regbase, VGA_CRT_IC, reg);\n        return vga_r (regbase, VGA_CRT_DC);\n}\n\nstatic inline void vga_wcrt (void __iomem *regbase, unsigned char reg, unsigned char val)\n{\n#ifdef VGA_OUTW_WRITE\n\tvga_w_fast (regbase, VGA_CRT_IC, reg, val);\n#else\n        vga_w (regbase, VGA_CRT_IC, reg);\n        vga_w (regbase, VGA_CRT_DC, val);\n#endif  \n}\n\nstatic inline unsigned char vga_io_rcrt (unsigned char reg)\n{\n        vga_io_w (VGA_CRT_IC, reg);\n        return vga_io_r (VGA_CRT_DC);\n}\n\nstatic inline void vga_io_wcrt (unsigned char reg, unsigned char val)\n{\n#ifdef VGA_OUTW_WRITE\n\tvga_io_w_fast (VGA_CRT_IC, reg, val);\n#else\n        vga_io_w (VGA_CRT_IC, reg);\n        vga_io_w (VGA_CRT_DC, val);\n#endif  \n}\n\nstatic inline unsigned char vga_mm_rcrt (void __iomem *regbase, unsigned char reg)\n{\n        vga_mm_w (regbase, VGA_CRT_IC, reg);\n        return vga_mm_r (regbase, VGA_CRT_DC);\n}\n\nstatic inline void vga_mm_wcrt (void __iomem *regbase, unsigned char reg, unsigned char val)\n{\n#ifdef VGA_OUTW_WRITE\n\tvga_mm_w_fast (regbase, VGA_CRT_IC, reg, val);\n#else\n        vga_mm_w (regbase, VGA_CRT_IC, reg);\n        vga_mm_w (regbase, VGA_CRT_DC, val);\n#endif  \n}\n\n\n \n\nstatic inline unsigned char vga_rseq (void __iomem *regbase, unsigned char reg)\n{\n        vga_w (regbase, VGA_SEQ_I, reg);\n        return vga_r (regbase, VGA_SEQ_D);\n}\n\nstatic inline void vga_wseq (void __iomem *regbase, unsigned char reg, unsigned char val)\n{\n#ifdef VGA_OUTW_WRITE\n\tvga_w_fast (regbase, VGA_SEQ_I, reg, val);\n#else\n        vga_w (regbase, VGA_SEQ_I, reg);\n        vga_w (regbase, VGA_SEQ_D, val);\n#endif  \n}\n\nstatic inline unsigned char vga_io_rseq (unsigned char reg)\n{\n        vga_io_w (VGA_SEQ_I, reg);\n        return vga_io_r (VGA_SEQ_D);\n}\n\nstatic inline void vga_io_wseq (unsigned char reg, unsigned char val)\n{\n#ifdef VGA_OUTW_WRITE\n\tvga_io_w_fast (VGA_SEQ_I, reg, val);\n#else\n        vga_io_w (VGA_SEQ_I, reg);\n        vga_io_w (VGA_SEQ_D, val);\n#endif  \n}\n\nstatic inline unsigned char vga_mm_rseq (void __iomem *regbase, unsigned char reg)\n{\n        vga_mm_w (regbase, VGA_SEQ_I, reg);\n        return vga_mm_r (regbase, VGA_SEQ_D);\n}\n\nstatic inline void vga_mm_wseq (void __iomem *regbase, unsigned char reg, unsigned char val)\n{\n#ifdef VGA_OUTW_WRITE\n\tvga_mm_w_fast (regbase, VGA_SEQ_I, reg, val);\n#else\n        vga_mm_w (regbase, VGA_SEQ_I, reg);\n        vga_mm_w (regbase, VGA_SEQ_D, val);\n#endif  \n}\n\n \n\nstatic inline unsigned char vga_rgfx (void __iomem *regbase, unsigned char reg)\n{\n        vga_w (regbase, VGA_GFX_I, reg);\n        return vga_r (regbase, VGA_GFX_D);\n}\n\nstatic inline void vga_wgfx (void __iomem *regbase, unsigned char reg, unsigned char val)\n{\n#ifdef VGA_OUTW_WRITE\n\tvga_w_fast (regbase, VGA_GFX_I, reg, val);\n#else\n        vga_w (regbase, VGA_GFX_I, reg);\n        vga_w (regbase, VGA_GFX_D, val);\n#endif  \n}\n\nstatic inline unsigned char vga_io_rgfx (unsigned char reg)\n{\n        vga_io_w (VGA_GFX_I, reg);\n        return vga_io_r (VGA_GFX_D);\n}\n\nstatic inline void vga_io_wgfx (unsigned char reg, unsigned char val)\n{\n#ifdef VGA_OUTW_WRITE\n\tvga_io_w_fast (VGA_GFX_I, reg, val);\n#else\n        vga_io_w (VGA_GFX_I, reg);\n        vga_io_w (VGA_GFX_D, val);\n#endif  \n}\n\nstatic inline unsigned char vga_mm_rgfx (void __iomem *regbase, unsigned char reg)\n{\n        vga_mm_w (regbase, VGA_GFX_I, reg);\n        return vga_mm_r (regbase, VGA_GFX_D);\n}\n\nstatic inline void vga_mm_wgfx (void __iomem *regbase, unsigned char reg, unsigned char val)\n{\n#ifdef VGA_OUTW_WRITE\n\tvga_mm_w_fast (regbase, VGA_GFX_I, reg, val);\n#else\n        vga_mm_w (regbase, VGA_GFX_I, reg);\n        vga_mm_w (regbase, VGA_GFX_D, val);\n#endif  \n}\n\n\n \n\nstatic inline unsigned char vga_rattr (void __iomem *regbase, unsigned char reg)\n{\n        vga_w (regbase, VGA_ATT_IW, reg);\n        return vga_r (regbase, VGA_ATT_R);\n}\n\nstatic inline void vga_wattr (void __iomem *regbase, unsigned char reg, unsigned char val)\n{\n        vga_w (regbase, VGA_ATT_IW, reg);\n        vga_w (regbase, VGA_ATT_W, val);\n}\n\nstatic inline unsigned char vga_io_rattr (unsigned char reg)\n{\n        vga_io_w (VGA_ATT_IW, reg);\n        return vga_io_r (VGA_ATT_R);\n}\n\nstatic inline void vga_io_wattr (unsigned char reg, unsigned char val)\n{\n        vga_io_w (VGA_ATT_IW, reg);\n        vga_io_w (VGA_ATT_W, val);\n}\n\nstatic inline unsigned char vga_mm_rattr (void __iomem *regbase, unsigned char reg)\n{\n        vga_mm_w (regbase, VGA_ATT_IW, reg);\n        return vga_mm_r (regbase, VGA_ATT_R);\n}\n\nstatic inline void vga_mm_wattr (void __iomem *regbase, unsigned char reg, unsigned char val)\n{\n        vga_mm_w (regbase, VGA_ATT_IW, reg);\n        vga_mm_w (regbase, VGA_ATT_W, val);\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}