{
  "module_name": "helpers.h",
  "hash_id": "8aa1990c1265a2c3ff28e9b3f08f9bef8b6237b925cd23e0a2e6b1479e8af9f5",
  "original_prompt": "Ingested from linux-6.6.14/include/vdso/helpers.h",
  "human_readable_source": " \n#ifndef __VDSO_HELPERS_H\n#define __VDSO_HELPERS_H\n\n#ifndef __ASSEMBLY__\n\n#include <vdso/datapage.h>\n\nstatic __always_inline u32 vdso_read_begin(const struct vdso_data *vd)\n{\n\tu32 seq;\n\n\twhile (unlikely((seq = READ_ONCE(vd->seq)) & 1))\n\t\tcpu_relax();\n\n\tsmp_rmb();\n\treturn seq;\n}\n\nstatic __always_inline u32 vdso_read_retry(const struct vdso_data *vd,\n\t\t\t\t\t   u32 start)\n{\n\tu32 seq;\n\n\tsmp_rmb();\n\tseq = READ_ONCE(vd->seq);\n\treturn seq != start;\n}\n\nstatic __always_inline void vdso_write_begin(struct vdso_data *vd)\n{\n\t \n\tWRITE_ONCE(vd[CS_HRES_COARSE].seq, vd[CS_HRES_COARSE].seq + 1);\n\tWRITE_ONCE(vd[CS_RAW].seq, vd[CS_RAW].seq + 1);\n\tsmp_wmb();\n}\n\nstatic __always_inline void vdso_write_end(struct vdso_data *vd)\n{\n\tsmp_wmb();\n\t \n\tWRITE_ONCE(vd[CS_HRES_COARSE].seq, vd[CS_HRES_COARSE].seq + 1);\n\tWRITE_ONCE(vd[CS_RAW].seq, vd[CS_RAW].seq + 1);\n}\n\n#endif  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}