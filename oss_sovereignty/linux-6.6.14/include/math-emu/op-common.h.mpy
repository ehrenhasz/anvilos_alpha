{
  "module_name": "op-common.h",
  "hash_id": "a55482ffa722d5feed6f66cbe7bd71f05afef9e9812735046e6c5b0186421519",
  "original_prompt": "Ingested from linux-6.6.14/include/math-emu/op-common.h",
  "human_readable_source": " \n\n#ifndef __MATH_EMU_OP_COMMON_H__\n#define __MATH_EMU_OP_COMMON_H__\n\n#define _FP_DECL(wc, X)\t\t\t\\\n  _FP_I_TYPE X##_c=0, X##_s=0, X##_e=0;\t\\\n  _FP_FRAC_DECL_##wc(X)\n\n \n\n#define _FP_UNPACK_CANONICAL(fs, wc, X)\t\t\t\t\t\\\ndo {\t\t\t\t\t\t\t\t\t\\\n  switch (X##_e)\t\t\t\t\t\t\t\\\n  {\t\t\t\t\t\t\t\t\t\\\n  default:\t\t\t\t\t\t\t\t\\\n    _FP_FRAC_HIGH_RAW_##fs(X) |= _FP_IMPLBIT_##fs;\t\t\t\\\n    _FP_FRAC_SLL_##wc(X, _FP_WORKBITS);\t\t\t\t\t\\\n    X##_e -= _FP_EXPBIAS_##fs;\t\t\t\t\t\t\\\n    X##_c = FP_CLS_NORMAL;\t\t\t\t\t\t\\\n    break;\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n  case 0:\t\t\t\t\t\t\t\t\\\n    if (_FP_FRAC_ZEROP_##wc(X))\t\t\t\t\t\t\\\n      X##_c = FP_CLS_ZERO;\t\t\t\t\t\t\\\n    else\t\t\t\t\t\t\t\t\\\n      {\t\t\t\t\t\t\t\t\t\\\n\t \t\t\t\t\t\\\n\t_FP_I_TYPE _shift;\t\t\t\t\t\t\\\n\t_FP_FRAC_CLZ_##wc(_shift, X);\t\t\t\t\t\\\n\t_shift -= _FP_FRACXBITS_##fs;\t\t\t\t\t\\\n\t_FP_FRAC_SLL_##wc(X, (_shift+_FP_WORKBITS));\t\t\t\\\n\tX##_e -= _FP_EXPBIAS_##fs - 1 + _shift;\t\t\t\t\\\n\tX##_c = FP_CLS_NORMAL;\t\t\t\t\t\t\\\n\tFP_SET_EXCEPTION(FP_EX_DENORM);\t\t\t\t\t\\\n\tif (FP_DENORM_ZERO)\t\t\t\t\t\t\\\n\t  {\t\t\t\t\t\t\t\t\\\n\t    FP_SET_EXCEPTION(FP_EX_INEXACT);\t\t\t\t\\\n\t    X##_c = FP_CLS_ZERO;\t\t\t\t\t\\\n\t  }\t\t\t\t\t\t\t\t\\\n      }\t\t\t\t\t\t\t\t\t\\\n    break;\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n  case _FP_EXPMAX_##fs:\t\t\t\t\t\t\t\\\n    if (_FP_FRAC_ZEROP_##wc(X))\t\t\t\t\t\t\\\n      X##_c = FP_CLS_INF;\t\t\t\t\t\t\\\n    else\t\t\t\t\t\t\t\t\\\n      {\t\t\t\t\t\t\t\t\t\\\n\tX##_c = FP_CLS_NAN;\t\t\t\t\t\t\\\n\t \t\t\t\t\t\\\n\tif (!(_FP_FRAC_HIGH_RAW_##fs(X) & _FP_QNANBIT_##fs))\t\t\\\n\t  FP_SET_EXCEPTION(FP_EX_INVALID | FP_EX_INVALID_SNAN);\t\t\\\n      }\t\t\t\t\t\t\t\t\t\\\n    break;\t\t\t\t\t\t\t\t\\\n  }\t\t\t\t\t\t\t\t\t\\\n} while (0)\n\n \n\n#define _FP_PACK_CANONICAL(fs, wc, X)\t\t\t\t\\\ndo {\t\t\t\t\t\t\t\t\\\n  switch (X##_c)\t\t\t\t\t\t\\\n  {\t\t\t\t\t\t\t\t\\\n  case FP_CLS_NORMAL:\t\t\t\t\t\t\\\n    X##_e += _FP_EXPBIAS_##fs;\t\t\t\t\t\\\n    if (X##_e > 0)\t\t\t\t\t\t\\\n      {\t\t\t\t\t\t\t\t\\\n\t_FP_ROUND(wc, X);\t\t\t\t\t\\\n\tif (_FP_FRAC_OVERP_##wc(fs, X))\t\t\t\t\\\n\t  {\t\t\t\t\t\t\t\\\n\t    _FP_FRAC_CLEAR_OVERP_##wc(fs, X);\t\t\t\\\n\t    X##_e++;\t\t\t\t\t\t\\\n\t  }\t\t\t\t\t\t\t\\\n\t_FP_FRAC_SRL_##wc(X, _FP_WORKBITS);\t\t\t\\\n\tif (X##_e >= _FP_EXPMAX_##fs)\t\t\t\t\\\n\t  {\t\t\t\t\t\t\t\\\n\t     \t\t\t\t\t\\\n\t    switch (FP_ROUNDMODE)\t\t\t\t\\\n\t      {\t\t\t\t\t\t\t\\\n\t      case FP_RND_NEAREST:\t\t\t\t\\\n\t\tX##_c = FP_CLS_INF;\t\t\t\t\\\n\t\tbreak;\t\t\t\t\t\t\\\n\t      case FP_RND_PINF:\t\t\t\t\t\\\n\t\tif (!X##_s) X##_c = FP_CLS_INF;\t\t\t\\\n\t\tbreak;\t\t\t\t\t\t\\\n\t      case FP_RND_MINF:\t\t\t\t\t\\\n\t\tif (X##_s) X##_c = FP_CLS_INF;\t\t\t\\\n\t\tbreak;\t\t\t\t\t\t\\\n\t      }\t\t\t\t\t\t\t\\\n\t    if (X##_c == FP_CLS_INF)\t\t\t\t\\\n\t      {\t\t\t\t\t\t\t\\\n\t\t \t\t\t\\\n\t\tX##_e = _FP_EXPMAX_##fs;\t\t\t\\\n\t\t_FP_FRAC_SET_##wc(X, _FP_ZEROFRAC_##wc);\t\\\n\t      }\t\t\t\t\t\t\t\\\n\t    else\t\t\t\t\t\t\\\n\t      {\t\t\t\t\t\t\t\\\n\t\t \t\t\\\n\t\tX##_e = _FP_EXPMAX_##fs - 1;\t\t\t\\\n\t\t_FP_FRAC_SET_##wc(X, _FP_MAXFRAC_##wc);\t\t\\\n\t      }\t\t\t\t\t\t\t\\\n\t    FP_SET_EXCEPTION(FP_EX_OVERFLOW);\t\t\t\\\n            FP_SET_EXCEPTION(FP_EX_INEXACT);\t\t\t\\\n\t  }\t\t\t\t\t\t\t\\\n      }\t\t\t\t\t\t\t\t\\\n    else\t\t\t\t\t\t\t\\\n      {\t\t\t\t\t\t\t\t\\\n\t \t\t\t\\\n\tX##_e = -X##_e + 1;\t\t\t\t\t\\\n\tif (X##_e <= _FP_WFRACBITS_##fs)\t\t\t\\\n\t  {\t\t\t\t\t\t\t\\\n\t    _FP_FRAC_SRS_##wc(X, X##_e, _FP_WFRACBITS_##fs);\t\\\n\t    if (_FP_FRAC_HIGH_##fs(X)\t\t\t\t\\\n\t\t& (_FP_OVERFLOW_##fs >> 1))\t\t\t\\\n\t      {\t\t\t\t\t\t\t\\\n\t        X##_e = 1;\t\t\t\t\t\\\n\t        _FP_FRAC_SET_##wc(X, _FP_ZEROFRAC_##wc);\t\\\n\t      }\t\t\t\t\t\t\t\\\n\t    else\t\t\t\t\t\t\\\n\t      {\t\t\t\t\t\t\t\\\n\t\t_FP_ROUND(wc, X);\t\t\t\t\\\n\t\tif (_FP_FRAC_HIGH_##fs(X)\t\t\t\\\n\t\t   & (_FP_OVERFLOW_##fs >> 1))\t\t\t\\\n\t\t  {\t\t\t\t\t\t\\\n\t\t    X##_e = 1;\t\t\t\t\t\\\n\t\t    _FP_FRAC_SET_##wc(X, _FP_ZEROFRAC_##wc);\t\\\n\t\t    FP_SET_EXCEPTION(FP_EX_INEXACT);\t\t\\\n\t\t  }\t\t\t\t\t\t\\\n\t\telse\t\t\t\t\t\t\\\n\t\t  {\t\t\t\t\t\t\\\n\t\t    X##_e = 0;\t\t\t\t\t\\\n\t\t    _FP_FRAC_SRL_##wc(X, _FP_WORKBITS);\t\t\\\n\t\t  }\t\t\t\t\t\t\\\n\t      }\t\t\t\t\t\t\t\\\n\t    if ((FP_CUR_EXCEPTIONS & FP_EX_INEXACT) ||\t\t\\\n\t\t(FP_TRAPPING_EXCEPTIONS & FP_EX_UNDERFLOW))\t\\\n\t\tFP_SET_EXCEPTION(FP_EX_UNDERFLOW);\t\t\\\n\t  }\t\t\t\t\t\t\t\\\n\telse\t\t\t\t\t\t\t\\\n\t  {\t\t\t\t\t\t\t\\\n\t     \t\t\t\t\\\n\t    X##_e = 0;\t\t\t\t\t\t\\\n\t    if (!_FP_FRAC_ZEROP_##wc(X))\t\t\t\\\n\t      {\t\t\t\t\t\t\t\\\n\t        _FP_FRAC_SET_##wc(X, _FP_MINFRAC_##wc);\t\t\\\n\t        _FP_ROUND(wc, X);\t\t\t\t\\\n\t        _FP_FRAC_LOW_##wc(X) >>= (_FP_WORKBITS);\t\\\n\t      }\t\t\t\t\t\t\t\\\n\t    FP_SET_EXCEPTION(FP_EX_UNDERFLOW);\t\t\t\\\n\t  }\t\t\t\t\t\t\t\\\n      }\t\t\t\t\t\t\t\t\\\n    break;\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\\\n  case FP_CLS_ZERO:\t\t\t\t\t\t\\\n    X##_e = 0;\t\t\t\t\t\t\t\\\n    _FP_FRAC_SET_##wc(X, _FP_ZEROFRAC_##wc);\t\t\t\\\n    break;\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\\\n  case FP_CLS_INF:\t\t\t\t\t\t\\\n    X##_e = _FP_EXPMAX_##fs;\t\t\t\t\t\\\n    _FP_FRAC_SET_##wc(X, _FP_ZEROFRAC_##wc);\t\t\t\\\n    break;\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\\\n  case FP_CLS_NAN:\t\t\t\t\t\t\\\n    X##_e = _FP_EXPMAX_##fs;\t\t\t\t\t\\\n    if (!_FP_KEEPNANFRACP)\t\t\t\t\t\\\n      {\t\t\t\t\t\t\t\t\\\n\t_FP_FRAC_SET_##wc(X, _FP_NANFRAC_##fs);\t\t\t\\\n\tX##_s = _FP_NANSIGN_##fs;\t\t\t\t\\\n      }\t\t\t\t\t\t\t\t\\\n    else\t\t\t\t\t\t\t\\\n      _FP_FRAC_HIGH_RAW_##fs(X) |= _FP_QNANBIT_##fs;\t\t\\\n    break;\t\t\t\t\t\t\t\\\n  }\t\t\t\t\t\t\t\t\\\n} while (0)\n\n \n#define _FP_ISSIGNAN(fs, wc, X)\t\t\t\t\t\\\n({\t\t\t\t\t\t\t\t\\\n  int __ret = 0;\t\t\t\t\t\t\\\n  if (X##_e == _FP_EXPMAX_##fs)\t\t\t\t\t\\\n    {\t\t\t\t\t\t\t\t\\\n      if (!_FP_FRAC_ZEROP_##wc(X)\t\t\t\t\\\n\t  && !(_FP_FRAC_HIGH_RAW_##fs(X) & _FP_QNANBIT_##fs))\t\\\n\t__ret = 1;\t\t\t\t\t\t\\\n    }\t\t\t\t\t\t\t\t\\\n  __ret;\t\t\t\t\t\t\t\\\n})\n\n\n\n\n\n \n\n#define _FP_ADD_INTERNAL(fs, wc, R, X, Y, OP)\t\t\t\t     \\\ndo {\t\t\t\t\t\t\t\t\t     \\\n  switch (_FP_CLS_COMBINE(X##_c, Y##_c))\t\t\t\t     \\\n  {\t\t\t\t\t\t\t\t\t     \\\n  case _FP_CLS_COMBINE(FP_CLS_NORMAL,FP_CLS_NORMAL):\t\t\t     \\\n    {\t\t\t\t\t\t\t\t\t     \\\n        \\\n      _FP_I_TYPE diff = X##_e - Y##_e;\t\t\t\t\t     \\\n\t\t\t\t\t\t\t\t\t     \\\n      if (diff < 0)\t\t\t\t\t\t\t     \\\n\t{\t\t\t\t\t\t\t\t     \\\n\t  diff = -diff;\t\t\t\t\t\t\t     \\\n\t  if (diff <= _FP_WFRACBITS_##fs)\t\t\t\t     \\\n\t    _FP_FRAC_SRS_##wc(X, diff, _FP_WFRACBITS_##fs);\t\t     \\\n\t  else if (!_FP_FRAC_ZEROP_##wc(X))\t\t\t\t     \\\n\t    _FP_FRAC_SET_##wc(X, _FP_MINFRAC_##wc);\t\t\t     \\\n\t  R##_e = Y##_e;\t\t\t\t\t\t     \\\n\t}\t\t\t\t\t\t\t\t     \\\n      else\t\t\t\t\t\t\t\t     \\\n\t{\t\t\t\t\t\t\t\t     \\\n\t  if (diff > 0)\t\t\t\t\t\t\t     \\\n\t    {\t\t\t\t\t\t\t\t     \\\n\t      if (diff <= _FP_WFRACBITS_##fs)\t\t\t\t     \\\n\t        _FP_FRAC_SRS_##wc(Y, diff, _FP_WFRACBITS_##fs);\t\t     \\\n\t      else if (!_FP_FRAC_ZEROP_##wc(Y))\t\t\t\t     \\\n\t        _FP_FRAC_SET_##wc(Y, _FP_MINFRAC_##wc);\t\t\t     \\\n\t    }\t\t\t\t\t\t\t\t     \\\n\t  R##_e = X##_e;\t\t\t\t\t\t     \\\n\t}\t\t\t\t\t\t\t\t     \\\n\t\t\t\t\t\t\t\t\t     \\\n      R##_c = FP_CLS_NORMAL;\t\t\t\t\t\t     \\\n\t\t\t\t\t\t\t\t\t     \\\n      if (X##_s == Y##_s)\t\t\t\t\t\t     \\\n\t{\t\t\t\t\t\t\t\t     \\\n\t  R##_s = X##_s;\t\t\t\t\t\t     \\\n\t  _FP_FRAC_ADD_##wc(R, X, Y);\t\t\t\t\t     \\\n\t  if (_FP_FRAC_OVERP_##wc(fs, R))\t\t\t\t     \\\n\t    {\t\t\t\t\t\t\t\t     \\\n\t      _FP_FRAC_SRS_##wc(R, 1, _FP_WFRACBITS_##fs);\t\t     \\\n\t      R##_e++;\t\t\t\t\t\t\t     \\\n\t    }\t\t\t\t\t\t\t\t     \\\n\t}\t\t\t\t\t\t\t\t     \\\n      else\t\t\t\t\t\t\t\t     \\\n\t{\t\t\t\t\t\t\t\t     \\\n\t  R##_s = X##_s;\t\t\t\t\t\t     \\\n\t  _FP_FRAC_SUB_##wc(R, X, Y);\t\t\t\t\t     \\\n\t  if (_FP_FRAC_ZEROP_##wc(R))\t\t\t\t\t     \\\n\t    {\t\t\t\t\t\t\t\t     \\\n\t       \t\t\t\t     \\\n\t      if (FP_ROUNDMODE == FP_RND_MINF)\t\t\t\t     \\\n\t\tR##_s |= Y##_s;\t\t\t\t\t\t     \\\n\t      else\t\t\t\t\t\t\t     \\\n\t\tR##_s &= Y##_s;\t\t\t\t\t\t     \\\n\t      R##_c = FP_CLS_ZERO;\t\t\t\t\t     \\\n\t    }\t\t\t\t\t\t\t\t     \\\n\t  else\t\t\t\t\t\t\t\t     \\\n\t    {\t\t\t\t\t\t\t\t     \\\n\t      if (_FP_FRAC_NEGP_##wc(R))\t\t\t\t     \\\n\t\t{\t\t\t\t\t\t\t     \\\n\t\t  _FP_FRAC_SUB_##wc(R, Y, X);\t\t\t\t     \\\n\t\t  R##_s = Y##_s;\t\t\t\t\t     \\\n\t\t}\t\t\t\t\t\t\t     \\\n\t\t\t\t\t\t\t\t\t     \\\n\t       \t\t\t     \\\n\t      _FP_FRAC_CLZ_##wc(diff, R);\t\t\t\t     \\\n\t      diff -= _FP_WFRACXBITS_##fs;\t\t\t\t     \\\n\t      if (diff)\t\t\t\t\t\t\t     \\\n\t\t{\t\t\t\t\t\t\t     \\\n\t\t  R##_e -= diff;\t\t\t\t\t     \\\n\t\t  _FP_FRAC_SLL_##wc(R, diff);\t\t\t\t     \\\n\t\t}\t\t\t\t\t\t\t     \\\n\t    }\t\t\t\t\t\t\t\t     \\\n\t}\t\t\t\t\t\t\t\t     \\\n      break;\t\t\t\t\t\t\t\t     \\\n    }\t\t\t\t\t\t\t\t\t     \\\n\t\t\t\t\t\t\t\t\t     \\\n  case _FP_CLS_COMBINE(FP_CLS_NAN,FP_CLS_NAN):\t\t\t\t     \\\n    _FP_CHOOSENAN(fs, wc, R, X, Y, OP);\t\t\t\t\t     \\\n    break;\t\t\t\t\t\t\t\t     \\\n\t\t\t\t\t\t\t\t\t     \\\n  case _FP_CLS_COMBINE(FP_CLS_NORMAL,FP_CLS_ZERO):\t\t\t     \\\n    R##_e = X##_e;\t\t\t\t\t\t\t     \\\n\tfallthrough;\t\t\t\t\t\t\t     \\\n  case _FP_CLS_COMBINE(FP_CLS_NAN,FP_CLS_NORMAL):\t\t\t     \\\n  case _FP_CLS_COMBINE(FP_CLS_NAN,FP_CLS_INF):\t\t\t\t     \\\n  case _FP_CLS_COMBINE(FP_CLS_NAN,FP_CLS_ZERO):\t\t\t\t     \\\n    _FP_FRAC_COPY_##wc(R, X);\t\t\t\t\t\t     \\\n    R##_s = X##_s;\t\t\t\t\t\t\t     \\\n    R##_c = X##_c;\t\t\t\t\t\t\t     \\\n    break;\t\t\t\t\t\t\t\t     \\\n\t\t\t\t\t\t\t\t\t     \\\n  case _FP_CLS_COMBINE(FP_CLS_ZERO,FP_CLS_NORMAL):\t\t\t     \\\n    R##_e = Y##_e;\t\t\t\t\t\t\t     \\\n\tfallthrough;\t\t\t\t\t\t\t     \\\n  case _FP_CLS_COMBINE(FP_CLS_NORMAL,FP_CLS_NAN):\t\t\t     \\\n  case _FP_CLS_COMBINE(FP_CLS_INF,FP_CLS_NAN):\t\t\t\t     \\\n  case _FP_CLS_COMBINE(FP_CLS_ZERO,FP_CLS_NAN):\t\t\t\t     \\\n    _FP_FRAC_COPY_##wc(R, Y);\t\t\t\t\t\t     \\\n    R##_s = Y##_s;\t\t\t\t\t\t\t     \\\n    R##_c = Y##_c;\t\t\t\t\t\t\t     \\\n    break;\t\t\t\t\t\t\t\t     \\\n\t\t\t\t\t\t\t\t\t     \\\n  case _FP_CLS_COMBINE(FP_CLS_INF,FP_CLS_INF):\t\t\t\t     \\\n    if (X##_s != Y##_s)\t\t\t\t\t\t\t     \\\n      {\t\t\t\t\t\t\t\t\t     \\\n\t \t\t\t\t\t     \\\n\t_FP_FRAC_SET_##wc(R, _FP_NANFRAC_##fs);\t\t\t\t     \\\n\tR##_s = _FP_NANSIGN_##fs;\t\t\t\t\t     \\\n\tR##_c = FP_CLS_NAN;\t\t\t\t\t\t     \\\n\tFP_SET_EXCEPTION(FP_EX_INVALID | FP_EX_INVALID_ISI);\t\t     \\\n\tbreak;\t\t\t\t\t\t\t\t     \\\n      }\t\t\t\t\t\t\t\t\t     \\\n    fallthrough;\t\t\t\t\t\t\t     \\\n\t\t\t\t\t\t\t\t\t     \\\n  case _FP_CLS_COMBINE(FP_CLS_INF,FP_CLS_NORMAL):\t\t\t     \\\n  case _FP_CLS_COMBINE(FP_CLS_INF,FP_CLS_ZERO):\t\t\t\t     \\\n    R##_s = X##_s;\t\t\t\t\t\t\t     \\\n    R##_c = FP_CLS_INF;\t\t\t\t\t\t\t     \\\n    break;\t\t\t\t\t\t\t\t     \\\n\t\t\t\t\t\t\t\t\t     \\\n  case _FP_CLS_COMBINE(FP_CLS_NORMAL,FP_CLS_INF):\t\t\t     \\\n  case _FP_CLS_COMBINE(FP_CLS_ZERO,FP_CLS_INF):\t\t\t\t     \\\n    R##_s = Y##_s;\t\t\t\t\t\t\t     \\\n    R##_c = FP_CLS_INF;\t\t\t\t\t\t\t     \\\n    break;\t\t\t\t\t\t\t\t     \\\n\t\t\t\t\t\t\t\t\t     \\\n  case _FP_CLS_COMBINE(FP_CLS_ZERO,FP_CLS_ZERO):\t\t\t     \\\n     \t\t\t\t\t     \\\n    if (FP_ROUNDMODE == FP_RND_MINF)\t\t\t\t\t     \\\n      R##_s = X##_s | Y##_s;\t\t\t\t\t\t     \\\n    else\t\t\t\t\t\t\t\t     \\\n      R##_s = X##_s & Y##_s;\t\t\t\t\t\t     \\\n    R##_c = FP_CLS_ZERO;\t\t\t\t\t\t     \\\n    break;\t\t\t\t\t\t\t\t     \\\n\t\t\t\t\t\t\t\t\t     \\\n  default:\t\t\t\t\t\t\t\t     \\\n    abort();\t\t\t\t\t\t\t\t     \\\n  }\t\t\t\t\t\t\t\t\t     \\\n} while (0)\n\n#define _FP_ADD(fs, wc, R, X, Y) _FP_ADD_INTERNAL(fs, wc, R, X, Y, '+')\n#define _FP_SUB(fs, wc, R, X, Y)\t\t\t\t\t     \\\n  do {\t\t\t\t\t\t\t\t\t     \\\n    if (Y##_c != FP_CLS_NAN) Y##_s ^= 1;\t\t\t\t     \\\n    _FP_ADD_INTERNAL(fs, wc, R, X, Y, '-');\t\t\t\t     \\\n  } while (0)\n\n\n \n\n#define _FP_NEG(fs, wc, R, X)\t\t\\\n  do {\t\t\t\t\t\\\n    _FP_FRAC_COPY_##wc(R, X);\t\t\\\n    R##_c = X##_c;\t\t\t\\\n    R##_e = X##_e;\t\t\t\\\n    R##_s = 1 ^ X##_s;\t\t\t\\\n  } while (0)\n\n\n \n\n#define _FP_MUL(fs, wc, R, X, Y)\t\t\t\\\ndo {\t\t\t\t\t\t\t\\\n  R##_s = X##_s ^ Y##_s;\t\t\t\t\\\n  switch (_FP_CLS_COMBINE(X##_c, Y##_c))\t\t\\\n  {\t\t\t\t\t\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_NORMAL,FP_CLS_NORMAL):\t\\\n    R##_c = FP_CLS_NORMAL;\t\t\t\t\\\n    R##_e = X##_e + Y##_e + 1;\t\t\t\t\\\n\t\t\t\t\t\t\t\\\n    _FP_MUL_MEAT_##fs(R,X,Y);\t\t\t\t\\\n\t\t\t\t\t\t\t\\\n    if (_FP_FRAC_OVERP_##wc(fs, R))\t\t\t\\\n      _FP_FRAC_SRS_##wc(R, 1, _FP_WFRACBITS_##fs);\t\\\n    else\t\t\t\t\t\t\\\n      R##_e--;\t\t\t\t\t\t\\\n    break;\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_NAN,FP_CLS_NAN):\t\t\\\n    _FP_CHOOSENAN(fs, wc, R, X, Y, '*');\t\t\\\n    break;\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_NAN,FP_CLS_NORMAL):\t\\\n  case _FP_CLS_COMBINE(FP_CLS_NAN,FP_CLS_INF):\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_NAN,FP_CLS_ZERO):\t\t\\\n    R##_s = X##_s;\t\t\t\t\t\\\n\t  fallthrough;\t\t\t\t\t\\\n\t\t\t\t\t\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_INF,FP_CLS_INF):\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_INF,FP_CLS_NORMAL):\t\\\n  case _FP_CLS_COMBINE(FP_CLS_ZERO,FP_CLS_NORMAL):\t\\\n  case _FP_CLS_COMBINE(FP_CLS_ZERO,FP_CLS_ZERO):\t\\\n    _FP_FRAC_COPY_##wc(R, X);\t\t\t\t\\\n    R##_c = X##_c;\t\t\t\t\t\\\n    break;\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_NORMAL,FP_CLS_NAN):\t\\\n  case _FP_CLS_COMBINE(FP_CLS_INF,FP_CLS_NAN):\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_ZERO,FP_CLS_NAN):\t\t\\\n    R##_s = Y##_s;\t\t\t\t\t\\\n\t  fallthrough;\t\t\t\t\t\\\n\t\t\t\t\t\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_NORMAL,FP_CLS_INF):\t\\\n  case _FP_CLS_COMBINE(FP_CLS_NORMAL,FP_CLS_ZERO):\t\\\n    _FP_FRAC_COPY_##wc(R, Y);\t\t\t\t\\\n    R##_c = Y##_c;\t\t\t\t\t\\\n    break;\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_INF,FP_CLS_ZERO):\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_ZERO,FP_CLS_INF):\t\t\\\n    R##_s = _FP_NANSIGN_##fs;\t\t\t\t\\\n    R##_c = FP_CLS_NAN;\t\t\t\t\t\\\n    _FP_FRAC_SET_##wc(R, _FP_NANFRAC_##fs);\t\t\\\n    FP_SET_EXCEPTION(FP_EX_INVALID | FP_EX_INVALID_IMZ);\\\n    break;\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\\\n  default:\t\t\t\t\t\t\\\n    abort();\t\t\t\t\t\t\\\n  }\t\t\t\t\t\t\t\\\n} while (0)\n\n\n \n\n#define _FP_DIV(fs, wc, R, X, Y)\t\t\t\\\ndo {\t\t\t\t\t\t\t\\\n  R##_s = X##_s ^ Y##_s;\t\t\t\t\\\n  switch (_FP_CLS_COMBINE(X##_c, Y##_c))\t\t\\\n  {\t\t\t\t\t\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_NORMAL,FP_CLS_NORMAL):\t\\\n    R##_c = FP_CLS_NORMAL;\t\t\t\t\\\n    R##_e = X##_e - Y##_e;\t\t\t\t\\\n\t\t\t\t\t\t\t\\\n    _FP_DIV_MEAT_##fs(R,X,Y);\t\t\t\t\\\n    break;\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_NAN,FP_CLS_NAN):\t\t\\\n    _FP_CHOOSENAN(fs, wc, R, X, Y, '/');\t\t\\\n    break;\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_NAN,FP_CLS_NORMAL):\t\\\n  case _FP_CLS_COMBINE(FP_CLS_NAN,FP_CLS_INF):\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_NAN,FP_CLS_ZERO):\t\t\\\n    R##_s = X##_s;\t\t\t\t\t\\\n    _FP_FRAC_COPY_##wc(R, X);\t\t\t\t\\\n    R##_c = X##_c;\t\t\t\t\t\\\n    break;\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_NORMAL,FP_CLS_NAN):\t\\\n  case _FP_CLS_COMBINE(FP_CLS_INF,FP_CLS_NAN):\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_ZERO,FP_CLS_NAN):\t\t\\\n    R##_s = Y##_s;\t\t\t\t\t\\\n    _FP_FRAC_COPY_##wc(R, Y);\t\t\t\t\\\n    R##_c = Y##_c;\t\t\t\t\t\\\n    break;\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_NORMAL,FP_CLS_INF):\t\\\n  case _FP_CLS_COMBINE(FP_CLS_ZERO,FP_CLS_INF):\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_ZERO,FP_CLS_NORMAL):\t\\\n    R##_c = FP_CLS_ZERO;\t\t\t\t\\\n    break;\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_NORMAL,FP_CLS_ZERO):\t\\\n    FP_SET_EXCEPTION(FP_EX_DIVZERO);\t\t\t\\\n\tfallthrough;\t\t\t\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_INF,FP_CLS_ZERO):\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_INF,FP_CLS_NORMAL):\t\\\n    R##_c = FP_CLS_INF;\t\t\t\t\t\\\n    break;\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_INF,FP_CLS_INF):\t\t\\\n    R##_s = _FP_NANSIGN_##fs;\t\t\t\t\\\n    R##_c = FP_CLS_NAN;\t\t\t\t\t\\\n    _FP_FRAC_SET_##wc(R, _FP_NANFRAC_##fs);\t\t\\\n    FP_SET_EXCEPTION(FP_EX_INVALID | FP_EX_INVALID_IDI);\\\n    break;\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\\\n  case _FP_CLS_COMBINE(FP_CLS_ZERO,FP_CLS_ZERO):\t\\\n    R##_s = _FP_NANSIGN_##fs;\t\t\t\t\\\n    R##_c = FP_CLS_NAN;\t\t\t\t\t\\\n    _FP_FRAC_SET_##wc(R, _FP_NANFRAC_##fs);\t\t\\\n    FP_SET_EXCEPTION(FP_EX_INVALID | FP_EX_INVALID_ZDZ);\\\n    break;\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\\\n  default:\t\t\t\t\t\t\\\n    abort();\t\t\t\t\t\t\\\n  }\t\t\t\t\t\t\t\\\n} while (0)\n\n\n \n\n#define _FP_CMP(fs, wc, ret, X, Y, un)\t\t\t\t\t\\\n  do {\t\t\t\t\t\t\t\t\t\\\n     \t\t\t\t\t\t\\\n    if ((X##_e == _FP_EXPMAX_##fs && !_FP_FRAC_ZEROP_##wc(X))\t\t\\\n\t|| (Y##_e == _FP_EXPMAX_##fs && !_FP_FRAC_ZEROP_##wc(Y)))\t\\\n      {\t\t\t\t\t\t\t\t\t\\\n\tret = un;\t\t\t\t\t\t\t\\\n      }\t\t\t\t\t\t\t\t\t\\\n    else\t\t\t\t\t\t\t\t\\\n      {\t\t\t\t\t\t\t\t\t\\\n\tint __is_zero_x;\t\t\t\t\t\t\\\n\tint __is_zero_y;\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\t__is_zero_x = (!X##_e && _FP_FRAC_ZEROP_##wc(X)) ? 1 : 0;\t\\\n\t__is_zero_y = (!Y##_e && _FP_FRAC_ZEROP_##wc(Y)) ? 1 : 0;\t\\\n\t\t\t\t\t\t\t\t\t\\\n\tif (__is_zero_x && __is_zero_y)\t\t\t\t\t\\\n\t\tret = 0;\t\t\t\t\t\t\\\n\telse if (__is_zero_x)\t\t\t\t\t\t\\\n\t\tret = Y##_s ? 1 : -1;\t\t\t\t\t\\\n\telse if (__is_zero_y)\t\t\t\t\t\t\\\n\t\tret = X##_s ? -1 : 1;\t\t\t\t\t\\\n\telse if (X##_s != Y##_s)\t\t\t\t\t\\\n\t  ret = X##_s ? -1 : 1;\t\t\t\t\t\t\\\n\telse if (X##_e > Y##_e)\t\t\t\t\t\t\\\n\t  ret = X##_s ? -1 : 1;\t\t\t\t\t\t\\\n\telse if (X##_e < Y##_e)\t\t\t\t\t\t\\\n\t  ret = X##_s ? 1 : -1;\t\t\t\t\t\t\\\n\telse if (_FP_FRAC_GT_##wc(X, Y))\t\t\t\t\\\n\t  ret = X##_s ? -1 : 1;\t\t\t\t\t\t\\\n\telse if (_FP_FRAC_GT_##wc(Y, X))\t\t\t\t\\\n\t  ret = X##_s ? 1 : -1;\t\t\t\t\t\t\\\n\telse\t\t\t\t\t\t\t\t\\\n\t  ret = 0;\t\t\t\t\t\t\t\\\n      }\t\t\t\t\t\t\t\t\t\\\n  } while (0)\n\n\n \n\n#define _FP_CMP_EQ(fs, wc, ret, X, Y)\t\t\t\t\t  \\\n  do {\t\t\t\t\t\t\t\t\t  \\\n     \t\t\t\t\t\t  \\\n    if ((X##_e == _FP_EXPMAX_##fs && !_FP_FRAC_ZEROP_##wc(X))\t\t  \\\n\t|| (Y##_e == _FP_EXPMAX_##fs && !_FP_FRAC_ZEROP_##wc(Y)))\t  \\\n      {\t\t\t\t\t\t\t\t\t  \\\n\tret = 1;\t\t\t\t\t\t\t  \\\n      }\t\t\t\t\t\t\t\t\t  \\\n    else\t\t\t\t\t\t\t\t  \\\n      {\t\t\t\t\t\t\t\t\t  \\\n\tret = !(X##_e == Y##_e\t\t\t\t\t\t  \\\n\t\t&& _FP_FRAC_EQ_##wc(X, Y)\t\t\t\t  \\\n\t\t&& (X##_s == Y##_s || !X##_e && _FP_FRAC_ZEROP_##wc(X))); \\\n      }\t\t\t\t\t\t\t\t\t  \\\n  } while (0)\n\n \n\n#define _FP_SQRT(fs, wc, R, X)\t\t\t\t\t\t\\\ndo {\t\t\t\t\t\t\t\t\t\\\n    _FP_FRAC_DECL_##wc(T); _FP_FRAC_DECL_##wc(S);\t\t\t\\\n    _FP_W_TYPE q;\t\t\t\t\t\t\t\\\n    switch (X##_c)\t\t\t\t\t\t\t\\\n    {\t\t\t\t\t\t\t\t\t\\\n    case FP_CLS_NAN:\t\t\t\t\t\t\t\\\n\t_FP_FRAC_COPY_##wc(R, X);\t\t\t\t\t\\\n\tR##_s = X##_s;\t\t\t\t\t\t\t\\\n    \tR##_c = FP_CLS_NAN;\t\t\t\t\t\t\\\n    \tbreak;\t\t\t\t\t\t\t\t\\\n    case FP_CLS_INF:\t\t\t\t\t\t\t\\\n    \tif (X##_s)\t\t\t\t\t\t\t\\\n    \t  {\t\t\t\t\t\t\t\t\\\n    \t    R##_s = _FP_NANSIGN_##fs;\t\t\t\t\t\\\n\t    R##_c = FP_CLS_NAN;  \t\t\t\t\\\n\t    _FP_FRAC_SET_##wc(R, _FP_NANFRAC_##fs);\t\t\t\\\n\t    FP_SET_EXCEPTION(FP_EX_INVALID);\t\t\t\t\\\n    \t  }\t\t\t\t\t\t\t\t\\\n    \telse\t\t\t\t\t\t\t\t\\\n    \t  {\t\t\t\t\t\t\t\t\\\n    \t    R##_s = 0;\t\t\t\t\t\t\t\\\n    \t    R##_c = FP_CLS_INF;  \t\t\t\\\n    \t  }\t\t\t\t\t\t\t\t\\\n    \tbreak;\t\t\t\t\t\t\t\t\\\n    case FP_CLS_ZERO:\t\t\t\t\t\t\t\\\n\tR##_s = X##_s;\t\t\t\t\t\t\t\\\n\tR##_c = FP_CLS_ZERO;  \t\t\t\\\n\tbreak;\t\t\t\t\t\t\t\t\\\n    case FP_CLS_NORMAL:\t\t\t\t\t\t\t\\\n    \tR##_s = 0;\t\t\t\t\t\t\t\\\n        if (X##_s)\t\t\t\t\t\t\t\\\n          {\t\t\t\t\t\t\t\t\\\n\t    R##_c = FP_CLS_NAN;  \t\t\t\t\\\n\t    R##_s = _FP_NANSIGN_##fs;\t\t\t\t\t\\\n\t    _FP_FRAC_SET_##wc(R, _FP_NANFRAC_##fs);\t\t\t\\\n\t    FP_SET_EXCEPTION(FP_EX_INVALID);\t\t\t\t\\\n\t    break;\t\t\t\t\t\t\t\\\n          }\t\t\t\t\t\t\t\t\\\n    \tR##_c = FP_CLS_NORMAL;\t\t\t\t\t\t\\\n        if (X##_e & 1)\t\t\t\t\t\t\t\\\n          _FP_FRAC_SLL_##wc(X, 1);\t\t\t\t\t\\\n        R##_e = X##_e >> 1;\t\t\t\t\t\t\\\n        _FP_FRAC_SET_##wc(S, _FP_ZEROFRAC_##wc);\t\t\t\\\n        _FP_FRAC_SET_##wc(R, _FP_ZEROFRAC_##wc);\t\t\t\\\n        q = _FP_OVERFLOW_##fs >> 1;\t\t\t\t\t\\\n        _FP_SQRT_MEAT_##wc(R, S, T, X, q);\t\t\t\t\\\n    }\t\t\t\t\t\t\t\t\t\\\n  } while (0)\n\n \n\n \n#define _FP_TO_INT(fs, wc, r, X, rsize, rsigned)\t\t\t\t\\\n  do {\t\t\t\t\t\t\t\t\t\t\\\n    switch (X##_c)\t\t\t\t\t\t\t\t\\\n      {\t\t\t\t\t\t\t\t\t\t\\\n      case FP_CLS_NORMAL:\t\t\t\t\t\t\t\\\n\tif (X##_e < 0)\t\t\t\t\t\t\t\t\\\n\t  {\t\t\t\t\t\t\t\t\t\\\n\t    FP_SET_EXCEPTION(FP_EX_INEXACT);\t\t\t\t\t\\\n\t    fallthrough;\t\t\t\t\t\t\t\\\n\t  case FP_CLS_ZERO:\t\t\t\t\t\t\t\\\n\t    r = 0;\t\t\t\t\t\t\t\t\\\n\t  }\t\t\t\t\t\t\t\t\t\\\n\telse if (X##_e >= rsize - (rsigned > 0 || X##_s)\t\t\t\\\n\t\t || (!rsigned && X##_s))\t\t\t\t\t\\\n\t  {\t \t\t\t\t\t\t\t\\\n\t    fallthrough;\t\t\t\t\t\t\t\\\n\t  case FP_CLS_NAN:                                                      \\\n\t  case FP_CLS_INF:\t\t\t\t\t\t\t\\\n\t    if (rsigned == 2)\t\t\t\t\t\t\t\\\n\t      {\t\t\t\t\t\t\t\t\t\\\n\t\tif (X##_c != FP_CLS_NORMAL\t\t\t\t\t\\\n\t\t    || X##_e >= rsize - 1 + _FP_WFRACBITS_##fs)\t\t\t\\\n\t\t  r = 0;\t\t\t\t\t\t\t\\\n\t\telse\t\t\t\t\t\t\t\t\\\n\t\t  {\t\t\t\t\t\t\t\t\\\n\t\t    _FP_FRAC_SLL_##wc(X, (X##_e - _FP_WFRACBITS_##fs + 1));\t\\\n\t\t    _FP_FRAC_ASSEMBLE_##wc(r, X, rsize);\t\t\t\\\n\t\t  }\t\t\t\t\t\t\t\t\\\n\t      }\t\t\t\t\t\t\t\t\t\\\n\t    else if (rsigned)\t\t\t\t\t\t\t\\\n\t      {\t\t\t\t\t\t\t\t\t\\\n\t\tr = 1;\t\t\t\t\t\t\t\t\\\n\t\tr <<= rsize - 1;\t\t\t\t\t\t\\\n\t\tr -= 1 - X##_s;\t\t\t\t\t\t\t\\\n\t      }\t\t\t\t\t\t\t\t\t\\\n\t    else\t\t\t\t\t\t\t\t\\\n\t      {\t\t\t\t\t\t\t\t\t\\\n\t\tr = 0;\t\t\t\t\t\t\t\t\\\n\t\tif (!X##_s)\t\t\t\t\t\t\t\\\n\t\t  r = ~r;\t\t\t\t\t\t\t\\\n\t      }\t\t\t\t\t\t\t\t\t\\\n\t    FP_SET_EXCEPTION(FP_EX_INVALID);\t\t\t\t\t\\\n\t  }\t\t\t\t\t\t\t\t\t\\\n\telse\t\t\t\t\t\t\t\t\t\\\n\t  {\t\t\t\t\t\t\t\t\t\\\n\t    if (_FP_W_TYPE_SIZE*wc < rsize)\t\t\t\t\t\\\n\t      {\t\t\t\t\t\t\t\t\t\\\n\t\t_FP_FRAC_ASSEMBLE_##wc(r, X, rsize);\t\t\t\t\\\n\t\tr <<= X##_e - _FP_WFRACBITS_##fs;\t\t\t\t\\\n\t      }\t\t\t\t\t\t\t\t\t\\\n\t    else\t\t\t\t\t\t\t\t\\\n\t      {\t\t\t\t\t\t\t\t\t\\\n\t\tif (X##_e >= _FP_WFRACBITS_##fs)\t\t\t\t\\\n\t\t  _FP_FRAC_SLL_##wc(X, (X##_e - _FP_WFRACBITS_##fs + 1));\t\\\n\t\telse if (X##_e < _FP_WFRACBITS_##fs - 1)\t\t\t\\\n\t\t  {\t\t\t\t\t\t\t\t\\\n\t\t    _FP_FRAC_SRS_##wc(X, (_FP_WFRACBITS_##fs - X##_e - 2),\t\\\n\t\t\t\t      _FP_WFRACBITS_##fs);\t\t\t\\\n\t\t    if (_FP_FRAC_LOW_##wc(X) & 1)\t\t\t\t\\\n\t\t      FP_SET_EXCEPTION(FP_EX_INEXACT);\t\t\t\t\\\n\t\t    _FP_FRAC_SRL_##wc(X, 1);\t\t\t\t\t\\\n\t\t  }\t\t\t\t\t\t\t\t\\\n\t\t_FP_FRAC_ASSEMBLE_##wc(r, X, rsize);\t\t\t\t\\\n\t      }\t\t\t\t\t\t\t\t\t\\\n\t    if (rsigned && X##_s)\t\t\t\t\t\t\\\n\t      r = -r;\t\t\t\t\t\t\t\t\\\n\t  }\t\t\t\t\t\t\t\t\t\\\n\tbreak;\t\t\t\t\t\t\t\t\t\\\n      }\t\t\t\t\t\t\t\t\t\t\\\n  } while (0)\n\n#define _FP_TO_INT_ROUND(fs, wc, r, X, rsize, rsigned)\t\t\t\t\\\n  do {\t\t\t\t\t\t\t\t\t\t\\\n    r = 0;\t\t\t\t\t\t\t\t\t\\\n    switch (X##_c)\t\t\t\t\t\t\t\t\\\n      {\t\t\t\t\t\t\t\t\t\t\\\n      case FP_CLS_NORMAL:\t\t\t\t\t\t\t\\\n\tif (X##_e >= _FP_FRACBITS_##fs - 1)\t\t\t\t\t\\\n\t  {\t\t\t\t\t\t\t\t\t\\\n\t    if (X##_e < rsize - 1 + _FP_WFRACBITS_##fs)\t\t\t\t\\\n\t      {\t\t\t\t\t\t\t\t\t\\\n\t\tif (X##_e >= _FP_WFRACBITS_##fs - 1)\t\t\t\t\\\n\t\t  {\t\t\t\t\t\t\t\t\\\n\t\t    _FP_FRAC_ASSEMBLE_##wc(r, X, rsize);\t\t\t\\\n\t\t    r <<= X##_e - _FP_WFRACBITS_##fs + 1;\t\t\t\\\n\t\t  }\t\t\t\t\t\t\t\t\\\n\t\telse\t\t\t\t\t\t\t\t\\\n\t\t  {\t\t\t\t\t\t\t\t\\\n\t\t    _FP_FRAC_SRL_##wc(X, _FP_WORKBITS - X##_e\t\t\t\\\n\t\t\t\t      + _FP_FRACBITS_##fs - 1);\t\t\t\\\n\t\t    _FP_FRAC_ASSEMBLE_##wc(r, X, rsize);\t\t\t\\\n\t\t  }\t\t\t\t\t\t\t\t\\\n\t      }\t\t\t\t\t\t\t\t\t\\\n\t  }\t\t\t\t\t\t\t\t\t\\\n\telse\t\t\t\t\t\t\t\t\t\\\n\t  {\t\t\t\t\t\t\t\t\t\\\n\t    int _lz0, _lz1;\t\t\t\t\t\t\t\\\n\t    if (X##_e <= -_FP_WORKBITS - 1)\t\t\t\t\t\\\n\t      _FP_FRAC_SET_##wc(X, _FP_MINFRAC_##wc);\t\t\t\t\\\n\t    else\t\t\t\t\t\t\t\t\\\n\t      _FP_FRAC_SRS_##wc(X, _FP_FRACBITS_##fs - 1 - X##_e,\t\t\\\n\t\t\t\t_FP_WFRACBITS_##fs);\t\t\t\t\\\n\t    _FP_FRAC_CLZ_##wc(_lz0, X);\t\t\t\t\t\t\\\n\t    _FP_ROUND(wc, X);\t\t\t\t\t\t\t\\\n\t    _FP_FRAC_CLZ_##wc(_lz1, X);\t\t\t\t\t\t\\\n\t    if (_lz1 < _lz0)\t\t\t\t\t\t\t\\\n\t      X##_e++;  \t\t\t\t\\\n\t    _FP_FRAC_SRL_##wc(X, _FP_WORKBITS);\t\t\t\t\t\\\n\t    _FP_FRAC_ASSEMBLE_##wc(r, X, rsize);\t\t\t\t\\\n\t  }\t\t\t\t\t\t\t\t\t\\\n\tif (rsigned && X##_s)\t\t\t\t\t\t\t\\\n\t  r = -r;\t\t\t\t\t\t\t\t\\\n\tif (X##_e >= rsize - (rsigned > 0 || X##_s)\t\t\t\t\\\n\t    || (!rsigned && X##_s))\t\t\t\t\t\t\\\n\t  {\t \t\t\t\t\t\t\t\\\n\t    fallthrough;\t\t\t\t\t\t\t\\\n\t  case FP_CLS_NAN:                                                      \\\n\t  case FP_CLS_INF:\t\t\t\t\t\t\t\\\n\t    if (!rsigned)\t\t\t\t\t\t\t\\\n\t      {\t\t\t\t\t\t\t\t\t\\\n\t\tr = 0;\t\t\t\t\t\t\t\t\\\n\t\tif (!X##_s)\t\t\t\t\t\t\t\\\n\t\t  r = ~r;\t\t\t\t\t\t\t\\\n\t      }\t\t\t\t\t\t\t\t\t\\\n\t    else if (rsigned != 2)\t\t\t\t\t\t\\\n\t      {\t\t\t\t\t\t\t\t\t\\\n\t\tr = 1;\t\t\t\t\t\t\t\t\\\n\t\tr <<= rsize - 1;\t\t\t\t\t\t\\\n\t\tr -= 1 - X##_s;\t\t\t\t\t\t\t\\\n\t      }\t\t\t\t\t\t\t\t\t\\\n\t    FP_SET_EXCEPTION(FP_EX_INVALID);\t\t\t\t\t\\\n\t  }\t\t\t\t\t\t\t\t\t\\\n\tbreak;\t\t\t\t\t\t\t\t\t\\\n      case FP_CLS_ZERO:\t\t\t\t\t\t\t\t\\\n        break;\t\t\t\t\t\t\t\t\t\\\n      }\t\t\t\t\t\t\t\t\t\t\\\n  } while (0)\n\n#define _FP_FROM_INT(fs, wc, X, r, rsize, rtype)\t\t\t\\\n  do {\t\t\t\t\t\t\t\t\t\\\n    if (r)\t\t\t\t\t\t\t\t\\\n      {\t\t\t\t\t\t\t\t\t\\\n        unsigned rtype ur_;\t\t\t\t\t\t\\\n\tX##_c = FP_CLS_NORMAL;\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\tif ((X##_s = (r < 0)))\t\t\t\t\t\t\\\n\t  ur_ = (unsigned rtype) -r;\t\t\t\t\t\\\n\telse\t\t\t\t\t\t\t\t\\\n\t  ur_ = (unsigned rtype) r;\t\t\t\t\t\\\n\t(void) (((rsize) <= _FP_W_TYPE_SIZE)\t\t\t\t\\\n\t\t? ({ __FP_CLZ(X##_e, ur_); })\t\t\t\t\\\n\t\t: ({\t\t\t\t\t\t\t\\\n\t\t     __FP_CLZ_2(X##_e, (_FP_W_TYPE)(ur_ >> _FP_W_TYPE_SIZE),  \\\n\t\t\t\t\t\t\t    (_FP_W_TYPE)ur_); \\\n\t\t  }));\t\t\t\t\t\t\t\\\n\tif (rsize < _FP_W_TYPE_SIZE)\t\t\t\t\t\\\n\t\tX##_e -= (_FP_W_TYPE_SIZE - rsize);\t\t\t\\\n\tX##_e = rsize - X##_e - 1;\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\tif (_FP_FRACBITS_##fs < rsize && _FP_WFRACBITS_##fs <= X##_e)\t\\\n\t  __FP_FRAC_SRS_1(ur_, (X##_e - _FP_WFRACBITS_##fs + 1), rsize);\\\n\t_FP_FRAC_DISASSEMBLE_##wc(X, ur_, rsize);\t\t\t\\\n\tif ((_FP_WFRACBITS_##fs - X##_e - 1) > 0)\t\t\t\\\n\t  _FP_FRAC_SLL_##wc(X, (_FP_WFRACBITS_##fs - X##_e - 1));\t\\\n      }\t\t\t\t\t\t\t\t\t\\\n    else\t\t\t\t\t\t\t\t\\\n      {\t\t\t\t\t\t\t\t\t\\\n\tX##_c = FP_CLS_ZERO, X##_s = 0;\t\t\t\t\t\\\n      }\t\t\t\t\t\t\t\t\t\\\n  } while (0)\n\n\n#define FP_CONV(dfs,sfs,dwc,swc,D,S)\t\t\t\\\n  do {\t\t\t\t\t\t\t\\\n    _FP_FRAC_CONV_##dwc##_##swc(dfs, sfs, D, S);\t\\\n    D##_e = S##_e;\t\t\t\t\t\\\n    D##_c = S##_c;\t\t\t\t\t\\\n    D##_s = S##_s;\t\t\t\t\t\\\n  } while (0)\n\n \n\n \n\n#ifndef __FP_CLZ\n#if _FP_W_TYPE_SIZE < 64\n \n#define __FP_CLZ(r, x)\t\t\t\t\\\n  do {\t\t\t\t\t\t\\\n    _FP_W_TYPE _t = (x);\t\t\t\\\n    r = _FP_W_TYPE_SIZE - 1;\t\t\t\\\n    if (_t > 0xffff) r -= 16;\t\t\t\\\n    if (_t > 0xffff) _t >>= 16;\t\t\t\\\n    if (_t > 0xff) r -= 8;\t\t\t\\\n    if (_t > 0xff) _t >>= 8;\t\t\t\\\n    if (_t & 0xf0) r -= 4;\t\t\t\\\n    if (_t & 0xf0) _t >>= 4;\t\t\t\\\n    if (_t & 0xc) r -= 2;\t\t\t\\\n    if (_t & 0xc) _t >>= 2;\t\t\t\\\n    if (_t & 0x2) r -= 1;\t\t\t\\\n  } while (0)\n#else  \n#define __FP_CLZ(r, x)\t\t\t\t\\\n  do {\t\t\t\t\t\t\\\n    _FP_W_TYPE _t = (x);\t\t\t\\\n    r = _FP_W_TYPE_SIZE - 1;\t\t\t\\\n    if (_t > 0xffffffff) r -= 32;\t\t\\\n    if (_t > 0xffffffff) _t >>= 32;\t\t\\\n    if (_t > 0xffff) r -= 16;\t\t\t\\\n    if (_t > 0xffff) _t >>= 16;\t\t\t\\\n    if (_t > 0xff) r -= 8;\t\t\t\\\n    if (_t > 0xff) _t >>= 8;\t\t\t\\\n    if (_t & 0xf0) r -= 4;\t\t\t\\\n    if (_t & 0xf0) _t >>= 4;\t\t\t\\\n    if (_t & 0xc) r -= 2;\t\t\t\\\n    if (_t & 0xc) _t >>= 2;\t\t\t\\\n    if (_t & 0x2) r -= 1;\t\t\t\\\n  } while (0)\n#endif  \n#endif  \n\n#define _FP_DIV_HELP_imm(q, r, n, d)\t\t\\\n  do {\t\t\t\t\t\t\\\n    q = n / d, r = n % d;\t\t\t\\\n  } while (0)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}