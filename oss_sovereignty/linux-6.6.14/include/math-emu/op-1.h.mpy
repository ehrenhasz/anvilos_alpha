{
  "module_name": "op-1.h",
  "hash_id": "f4abc43b5545be2bc242558b7259436a160401dbc14ad16b3eefb0a4de4da243",
  "original_prompt": "Ingested from linux-6.6.14/include/math-emu/op-1.h",
  "human_readable_source": " \n\n#ifndef    __MATH_EMU_OP_1_H__\n#define    __MATH_EMU_OP_1_H__\n\n#define _FP_FRAC_DECL_1(X)\t_FP_W_TYPE X##_f=0\n#define _FP_FRAC_COPY_1(D,S)\t(D##_f = S##_f)\n#define _FP_FRAC_SET_1(X,I)\t(X##_f = I)\n#define _FP_FRAC_HIGH_1(X)\t(X##_f)\n#define _FP_FRAC_LOW_1(X)\t(X##_f)\n#define _FP_FRAC_WORD_1(X,w)\t(X##_f)\n\n#define _FP_FRAC_ADDI_1(X,I)\t(X##_f += I)\n#define _FP_FRAC_SLL_1(X,N)\t\t\t\\\n  do {\t\t\t\t\t\t\\\n    if (__builtin_constant_p(N) && (N) == 1)\t\\\n      X##_f += X##_f;\t\t\t\t\\\n    else\t\t\t\t\t\\\n      X##_f <<= (N);\t\t\t\t\\\n  } while (0)\n#define _FP_FRAC_SRL_1(X,N)\t(X##_f >>= N)\n\n \n#define _FP_FRAC_SRS_1(X,N,sz)\t__FP_FRAC_SRS_1(X##_f, N, sz)\n\n#define __FP_FRAC_SRS_1(X,N,sz)\t\t\t\t\t\t\\\n   (X = (X >> (N) | (__builtin_constant_p(N) && (N) == 1\t\t\\\n\t\t     ? X & 1 : (X << (_FP_W_TYPE_SIZE - (N))) != 0)))\n\n#define _FP_FRAC_ADD_1(R,X,Y)\t(R##_f = X##_f + Y##_f)\n#define _FP_FRAC_SUB_1(R,X,Y)\t(R##_f = X##_f - Y##_f)\n#define _FP_FRAC_DEC_1(X,Y)\t(X##_f -= Y##_f)\n#define _FP_FRAC_CLZ_1(z, X)\t__FP_CLZ(z, X##_f)\n\n \n#define _FP_FRAC_NEGP_1(X)\t((_FP_WS_TYPE)X##_f < 0)\n#define _FP_FRAC_ZEROP_1(X)\t(X##_f == 0)\n#define _FP_FRAC_OVERP_1(fs,X)\t(X##_f & _FP_OVERFLOW_##fs)\n#define _FP_FRAC_CLEAR_OVERP_1(fs,X)\t(X##_f &= ~_FP_OVERFLOW_##fs)\n#define _FP_FRAC_EQ_1(X, Y)\t(X##_f == Y##_f)\n#define _FP_FRAC_GE_1(X, Y)\t(X##_f >= Y##_f)\n#define _FP_FRAC_GT_1(X, Y)\t(X##_f > Y##_f)\n\n#define _FP_ZEROFRAC_1\t\t0\n#define _FP_MINFRAC_1\t\t1\n#define _FP_MAXFRAC_1\t\t(~(_FP_WS_TYPE)0)\n\n \n\n#define _FP_UNPACK_RAW_1(fs, X, val)\t\t\t\t\\\n  do {\t\t\t\t\t\t\t\t\\\n    union _FP_UNION_##fs _flo; _flo.flt = (val);\t\t\\\n\t\t\t\t\t\t\t\t\\\n    X##_f = _flo.bits.frac;\t\t\t\t\t\\\n    X##_e = _flo.bits.exp;\t\t\t\t\t\\\n    X##_s = _flo.bits.sign;\t\t\t\t\t\\\n  } while (0)\n\n#define _FP_UNPACK_RAW_1_P(fs, X, val)\t\t\t\t\\\n  do {\t\t\t\t\t\t\t\t\\\n    union _FP_UNION_##fs *_flo =\t\t\t\t\\\n      (union _FP_UNION_##fs *)(val);\t\t\t\t\\\n\t\t\t\t\t\t\t\t\\\n    X##_f = _flo->bits.frac;\t\t\t\t\t\\\n    X##_e = _flo->bits.exp;\t\t\t\t\t\\\n    X##_s = _flo->bits.sign;\t\t\t\t\t\\\n  } while (0)\n\n \n\n#define _FP_PACK_RAW_1(fs, val, X)\t\t\t\t\\\n  do {\t\t\t\t\t\t\t\t\\\n    union _FP_UNION_##fs _flo;\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\\\n    _flo.bits.frac = X##_f;\t\t\t\t\t\\\n    _flo.bits.exp  = X##_e;\t\t\t\t\t\\\n    _flo.bits.sign = X##_s;\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\\\n    (val) = _flo.flt;\t\t\t\t\t\t\\\n  } while (0)\n\n#define _FP_PACK_RAW_1_P(fs, val, X)\t\t\t\t\\\n  do {\t\t\t\t\t\t\t\t\\\n    union _FP_UNION_##fs *_flo =\t\t\t\t\\\n      (union _FP_UNION_##fs *)(val);\t\t\t\t\\\n\t\t\t\t\t\t\t\t\\\n    _flo->bits.frac = X##_f;\t\t\t\t\t\\\n    _flo->bits.exp  = X##_e;\t\t\t\t\t\\\n    _flo->bits.sign = X##_s;\t\t\t\t\t\\\n  } while (0)\n\n\n \n\n \n\n#define _FP_MUL_MEAT_1_imm(wfracbits, R, X, Y)\t\t\t\t\\\n  do {\t\t\t\t\t\t\t\t\t\\\n    R##_f = X##_f * Y##_f;\t\t\t\t\t\t\\\n     \t\t\t\t\t\\\n    _FP_FRAC_SRS_1(R, wfracbits-1, 2*wfracbits);\t\t\t\\\n  } while (0)\n\n \n\n#define _FP_MUL_MEAT_1_wide(wfracbits, R, X, Y, doit)\t\t\t\\\n  do {\t\t\t\t\t\t\t\t\t\\\n    _FP_W_TYPE _Z_f0, _Z_f1;\t\t\t\t\t\t\\\n    doit(_Z_f1, _Z_f0, X##_f, Y##_f);\t\t\t\t\t\\\n     \t\t\t\t\t\\\n    _FP_FRAC_SRS_2(_Z, wfracbits-1, 2*wfracbits);\t\t\t\\\n    R##_f = _Z_f0;\t\t\t\t\t\t\t\\\n  } while (0)\n\n \n\n#define _FP_MUL_MEAT_1_hard(wfracbits, R, X, Y)\t\t\t\t\\\n  do {\t\t\t\t\t\t\t\t\t\\\n    _FP_W_TYPE _xh, _xl, _yh, _yl, _z_f0, _z_f1, _a_f0, _a_f1;\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n     \t\t\t\t\t\\\n    _xh = X##_f >> (_FP_W_TYPE_SIZE/2);\t\t\t\t\t\\\n    _xl = X##_f & (((_FP_W_TYPE)1 << (_FP_W_TYPE_SIZE/2)) - 1);\t\t\\\n    _yh = Y##_f >> (_FP_W_TYPE_SIZE/2);\t\t\t\t\t\\\n    _yl = Y##_f & (((_FP_W_TYPE)1 << (_FP_W_TYPE_SIZE/2)) - 1);\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n     \t\t\t\t\t\t\\\n    _z_f0 = _xl * _yl;\t\t\t\t\t\t\t\\\n    _a_f0 = _xh * _yl;\t\t\t\t\t\t\t\\\n    _a_f1 = _xl * _yh;\t\t\t\t\t\t\t\\\n    _z_f1 = _xh * _yh;\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n     \t\t\t\t\\\n    if ((_a_f0 += _a_f1) < _a_f1)\t\t\t\t\t\\\n      _z_f1 += (_FP_W_TYPE)1 << (_FP_W_TYPE_SIZE/2);\t\t\t\\\n    _a_f1 = _a_f0 >> (_FP_W_TYPE_SIZE/2);\t\t\t\t\\\n    _a_f0 = _a_f0 << (_FP_W_TYPE_SIZE/2);\t\t\t\t\\\n    _FP_FRAC_ADD_2(_z, _z, _a);\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n     \t\t\t\t\t\t\t\\\n    _FP_FRAC_SRS_2(_z, wfracbits - 1, 2*wfracbits);\t\t\t\\\n    R##_f = _z_f0;\t\t\t\t\t\t\t\\\n  } while (0)\n\n\n \n\n \n\n#define _FP_DIV_MEAT_1_imm(fs, R, X, Y, doit)\t\t\\\n  do {\t\t\t\t\t\t\t\\\n    _FP_W_TYPE _q, _r;\t\t\t\t\t\\\n    X##_f <<= (X##_f < Y##_f\t\t\t\t\\\n\t       ? R##_e--, _FP_WFRACBITS_##fs\t\t\\\n\t       : _FP_WFRACBITS_##fs - 1);\t\t\\\n    doit(_q, _r, X##_f, Y##_f);\t\t\t\t\\\n    R##_f = _q | (_r != 0);\t\t\t\t\\\n  } while (0)\n\n \n\n#define _FP_DIV_MEAT_1_udiv_norm(fs, R, X, Y)\t\t\t\t\\\n  do {\t\t\t\t\t\t\t\t\t\\\n    _FP_W_TYPE _nh, _nl, _q, _r, _y;\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n     \t\\\n    _y = Y##_f << _FP_WFRACXBITS_##fs;\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n     \t\\\n    if (X##_f < Y##_f)\t\t\t\t\t\t\t\\\n      {\t\t\t\t\t\t\t\t\t\\\n\tR##_e--;\t\t\t\t\t\t\t\\\n\t_nl = 0;\t\t\t\t\t\t\t\\\n\t_nh = X##_f;\t\t\t\t\t\t\t\\\n      }\t\t\t\t\t\t\t\t\t\\\n    else\t\t\t\t\t\t\t\t\\\n      {\t\t\t\t\t\t\t\t\t\\\n\t_nl = X##_f << (_FP_W_TYPE_SIZE - 1);\t\t\t\t\\\n\t_nh = X##_f >> 1;\t\t\t\t\t\t\\\n      }\t\t\t\t\t\t\t\t\t\\\n    \t\t\t\t\t\t\t\t\t\\\n    udiv_qrnnd(_q, _r, _nh, _nl, _y);\t\t\t\t\t\\\n    R##_f = _q | (_r != 0);\t\t\t\t\t\t\\\n  } while (0)\n\n#define _FP_DIV_MEAT_1_udiv(fs, R, X, Y)\t\t\\\n  do {\t\t\t\t\t\t\t\\\n    _FP_W_TYPE _nh, _nl, _q, _r;\t\t\t\\\n    if (X##_f < Y##_f)\t\t\t\t\t\\\n      {\t\t\t\t\t\t\t\\\n\tR##_e--;\t\t\t\t\t\\\n\t_nl = X##_f << _FP_WFRACBITS_##fs;\t\t\\\n\t_nh = X##_f >> _FP_WFRACXBITS_##fs;\t\t\\\n      }\t\t\t\t\t\t\t\\\n    else\t\t\t\t\t\t\\\n      {\t\t\t\t\t\t\t\\\n\t_nl = X##_f << (_FP_WFRACBITS_##fs - 1);\t\\\n\t_nh = X##_f >> (_FP_WFRACXBITS_##fs + 1);\t\\\n      }\t\t\t\t\t\t\t\\\n    udiv_qrnnd(_q, _r, _nh, _nl, Y##_f);\t\t\\\n    R##_f = _q | (_r != 0);\t\t\t\t\\\n  } while (0)\n  \n  \n \n \n#define _FP_SQRT_MEAT_1(R, S, T, X, q)\t\t\t\\\n  do {\t\t\t\t\t\t\t\\\n    while (q != _FP_WORK_ROUND)\t\t\t\t\\\n      {\t\t\t\t\t\t\t\\\n        T##_f = S##_f + q;\t\t\t\t\\\n        if (T##_f <= X##_f)\t\t\t\t\\\n          {\t\t\t\t\t\t\\\n            S##_f = T##_f + q;\t\t\t\t\\\n            X##_f -= T##_f;\t\t\t\t\\\n            R##_f += q;\t\t\t\t\t\\\n          }\t\t\t\t\t\t\\\n        _FP_FRAC_SLL_1(X, 1);\t\t\t\t\\\n        q >>= 1;\t\t\t\t\t\\\n      }\t\t\t\t\t\t\t\\\n    if (X##_f)\t\t\t\t\t\t\\\n      {\t\t\t\t\t\t\t\\\n\tif (S##_f < X##_f)\t\t\t\t\\\n\t  R##_f |= _FP_WORK_ROUND;\t\t\t\\\n\tR##_f |= _FP_WORK_STICKY;\t\t\t\\\n      }\t\t\t\t\t\t\t\\\n  } while (0)\n\n \n\n#define _FP_FRAC_ASSEMBLE_1(r, X, rsize)\t(r = X##_f)\n#define _FP_FRAC_DISASSEMBLE_1(X, r, rsize)\t(X##_f = r)\n\n\n \n\n#define _FP_FRAC_CONV_1_1(dfs, sfs, D, S)\t\t\t\t\\\n  do {\t\t\t\t\t\t\t\t\t\\\n    D##_f = S##_f;\t\t\t\t\t\t\t\\\n    if (_FP_WFRACBITS_##sfs > _FP_WFRACBITS_##dfs)\t\t\t\\\n      {\t\t\t\t\t\t\t\t\t\\\n\tif (S##_c != FP_CLS_NAN)\t\t\t\t\t\\\n\t  _FP_FRAC_SRS_1(D, (_FP_WFRACBITS_##sfs-_FP_WFRACBITS_##dfs),\t\\\n\t\t\t _FP_WFRACBITS_##sfs);\t\t\t\t\\\n\telse\t\t\t\t\t\t\t\t\\\n\t  _FP_FRAC_SRL_1(D, (_FP_WFRACBITS_##sfs-_FP_WFRACBITS_##dfs));\t\\\n      }\t\t\t\t\t\t\t\t\t\\\n    else\t\t\t\t\t\t\t\t\\\n      D##_f <<= _FP_WFRACBITS_##dfs - _FP_WFRACBITS_##sfs;\t\t\\\n  } while (0)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}