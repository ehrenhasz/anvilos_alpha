{
  "module_name": "drm_rect.h",
  "hash_id": "f015b75ede7bee33a8f5b3081bc2fd7082f4435d43ef16da971b386d8311f0f5",
  "original_prompt": "Ingested from linux-6.6.14/include/drm/drm_rect.h",
  "human_readable_source": " \n\n#ifndef DRM_RECT_H\n#define DRM_RECT_H\n\n#include <linux/types.h>\n\n \n\n \nstruct drm_rect {\n\tint x1, y1, x2, y2;\n};\n\n \n#define DRM_RECT_INIT(x, y, w, h) ((struct drm_rect){ \\\n\t\t.x1 = (x), \\\n\t\t.y1 = (y), \\\n\t\t.x2 = (x) + (w), \\\n\t\t.y2 = (y) + (h) })\n\n \n#define DRM_RECT_FMT    \"%dx%d%+d%+d\"\n \n#define DRM_RECT_ARG(r) drm_rect_width(r), drm_rect_height(r), (r)->x1, (r)->y1\n\n \n#define DRM_RECT_FP_FMT \"%d.%06ux%d.%06u%+d.%06u%+d.%06u\"\n \n#define DRM_RECT_FP_ARG(r) \\\n\t\tdrm_rect_width(r) >> 16, ((drm_rect_width(r) & 0xffff) * 15625) >> 10, \\\n\t\tdrm_rect_height(r) >> 16, ((drm_rect_height(r) & 0xffff) * 15625) >> 10, \\\n\t\t(r)->x1 >> 16, (((r)->x1 & 0xffff) * 15625) >> 10, \\\n\t\t(r)->y1 >> 16, (((r)->y1 & 0xffff) * 15625) >> 10\n\n \nstatic inline void drm_rect_init(struct drm_rect *r, int x, int y,\n\t\t\t\t int width, int height)\n{\n\tr->x1 = x;\n\tr->y1 = y;\n\tr->x2 = x + width;\n\tr->y2 = y + height;\n}\n\n \nstatic inline void drm_rect_adjust_size(struct drm_rect *r, int dw, int dh)\n{\n\tr->x1 -= dw >> 1;\n\tr->y1 -= dh >> 1;\n\tr->x2 += (dw + 1) >> 1;\n\tr->y2 += (dh + 1) >> 1;\n}\n\n \nstatic inline void drm_rect_translate(struct drm_rect *r, int dx, int dy)\n{\n\tr->x1 += dx;\n\tr->y1 += dy;\n\tr->x2 += dx;\n\tr->y2 += dy;\n}\n\n \nstatic inline void drm_rect_translate_to(struct drm_rect *r, int x, int y)\n{\n\tdrm_rect_translate(r, x - r->x1, y - r->y1);\n}\n\n \nstatic inline void drm_rect_downscale(struct drm_rect *r, int horz, int vert)\n{\n\tr->x1 /= horz;\n\tr->y1 /= vert;\n\tr->x2 /= horz;\n\tr->y2 /= vert;\n}\n\n \nstatic inline int drm_rect_width(const struct drm_rect *r)\n{\n\treturn r->x2 - r->x1;\n}\n\n \nstatic inline int drm_rect_height(const struct drm_rect *r)\n{\n\treturn r->y2 - r->y1;\n}\n\n \nstatic inline bool drm_rect_visible(const struct drm_rect *r)\n{\n\treturn drm_rect_width(r) > 0 && drm_rect_height(r) > 0;\n}\n\n \nstatic inline bool drm_rect_equals(const struct drm_rect *r1,\n\t\t\t\t   const struct drm_rect *r2)\n{\n\treturn r1->x1 == r2->x1 && r1->x2 == r2->x2 &&\n\t\tr1->y1 == r2->y1 && r1->y2 == r2->y2;\n}\n\n \nstatic inline void drm_rect_fp_to_int(struct drm_rect *dst,\n\t\t\t\t      const struct drm_rect *src)\n{\n\tdrm_rect_init(dst, src->x1 >> 16, src->y1 >> 16,\n\t\t      drm_rect_width(src) >> 16,\n\t\t      drm_rect_height(src) >> 16);\n}\n\nbool drm_rect_intersect(struct drm_rect *r, const struct drm_rect *clip);\nbool drm_rect_clip_scaled(struct drm_rect *src, struct drm_rect *dst,\n\t\t\t  const struct drm_rect *clip);\nint drm_rect_calc_hscale(const struct drm_rect *src,\n\t\t\t const struct drm_rect *dst,\n\t\t\t int min_hscale, int max_hscale);\nint drm_rect_calc_vscale(const struct drm_rect *src,\n\t\t\t const struct drm_rect *dst,\n\t\t\t int min_vscale, int max_vscale);\nvoid drm_rect_debug_print(const char *prefix,\n\t\t\t  const struct drm_rect *r, bool fixed_point);\nvoid drm_rect_rotate(struct drm_rect *r,\n\t\t     int width, int height,\n\t\t     unsigned int rotation);\nvoid drm_rect_rotate_inv(struct drm_rect *r,\n\t\t\t int width, int height,\n\t\t\t unsigned int rotation);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}