{
  "module_name": "drm_panel.h",
  "hash_id": "8e4544129e3d7c851cc01a57b82841004f2c5967cd12f04bb4d262419a623e06",
  "original_prompt": "Ingested from linux-6.6.14/include/drm/drm_panel.h",
  "human_readable_source": " \n\n#ifndef __DRM_PANEL_H__\n#define __DRM_PANEL_H__\n\n#include <linux/err.h>\n#include <linux/errno.h>\n#include <linux/list.h>\n#include <linux/mutex.h>\n\nstruct backlight_device;\nstruct dentry;\nstruct device_node;\nstruct drm_connector;\nstruct drm_device;\nstruct drm_panel_follower;\nstruct drm_panel;\nstruct display_timing;\n\nenum drm_panel_orientation;\n\n \nstruct drm_panel_funcs {\n\t \n\tint (*prepare)(struct drm_panel *panel);\n\n\t \n\tint (*enable)(struct drm_panel *panel);\n\n\t \n\tint (*disable)(struct drm_panel *panel);\n\n\t \n\tint (*unprepare)(struct drm_panel *panel);\n\n\t \n\tint (*get_modes)(struct drm_panel *panel,\n\t\t\t struct drm_connector *connector);\n\n\t \n\tenum drm_panel_orientation (*get_orientation)(struct drm_panel *panel);\n\n\t \n\tint (*get_timings)(struct drm_panel *panel, unsigned int num_timings,\n\t\t\t   struct display_timing *timings);\n\n\t \n\tvoid (*debugfs_init)(struct drm_panel *panel, struct dentry *root);\n};\n\nstruct drm_panel_follower_funcs {\n\t \n\tint (*panel_prepared)(struct drm_panel_follower *follower);\n\n\t \n\tint (*panel_unpreparing)(struct drm_panel_follower *follower);\n};\n\nstruct drm_panel_follower {\n\t \n\tconst struct drm_panel_follower_funcs *funcs;\n\n\t \n\tstruct list_head list;\n\n\t \n\tstruct drm_panel *panel;\n};\n\n \nstruct drm_panel {\n\t \n\tstruct device *dev;\n\n\t \n\tstruct backlight_device *backlight;\n\n\t \n\tconst struct drm_panel_funcs *funcs;\n\n\t \n\tint connector_type;\n\n\t \n\tstruct list_head list;\n\n\t \n\tstruct list_head followers;\n\n\t \n\tstruct mutex follower_lock;\n\n\t \n\tbool prepare_prev_first;\n\n\t \n\tbool prepared;\n\n\t \n\tbool enabled;\n};\n\nvoid drm_panel_init(struct drm_panel *panel, struct device *dev,\n\t\t    const struct drm_panel_funcs *funcs,\n\t\t    int connector_type);\n\nvoid drm_panel_add(struct drm_panel *panel);\nvoid drm_panel_remove(struct drm_panel *panel);\n\nint drm_panel_prepare(struct drm_panel *panel);\nint drm_panel_unprepare(struct drm_panel *panel);\n\nint drm_panel_enable(struct drm_panel *panel);\nint drm_panel_disable(struct drm_panel *panel);\n\nint drm_panel_get_modes(struct drm_panel *panel, struct drm_connector *connector);\n\n#if defined(CONFIG_OF) && defined(CONFIG_DRM_PANEL)\nstruct drm_panel *of_drm_find_panel(const struct device_node *np);\nint of_drm_get_panel_orientation(const struct device_node *np,\n\t\t\t\t enum drm_panel_orientation *orientation);\n#else\nstatic inline struct drm_panel *of_drm_find_panel(const struct device_node *np)\n{\n\treturn ERR_PTR(-ENODEV);\n}\n\nstatic inline int of_drm_get_panel_orientation(const struct device_node *np,\n\t\t\t\t\t       enum drm_panel_orientation *orientation)\n{\n\treturn -ENODEV;\n}\n#endif\n\n#if defined(CONFIG_DRM_PANEL)\nbool drm_is_panel_follower(struct device *dev);\nint drm_panel_add_follower(struct device *follower_dev,\n\t\t\t   struct drm_panel_follower *follower);\nvoid drm_panel_remove_follower(struct drm_panel_follower *follower);\nint devm_drm_panel_add_follower(struct device *follower_dev,\n\t\t\t\tstruct drm_panel_follower *follower);\n#else\nstatic inline bool drm_is_panel_follower(struct device *dev)\n{\n\treturn false;\n}\n\nstatic inline int drm_panel_add_follower(struct device *follower_dev,\n\t\t\t\t\t struct drm_panel_follower *follower)\n{\n\treturn -ENODEV;\n}\n\nstatic inline void drm_panel_remove_follower(struct drm_panel_follower *follower) { }\nstatic inline int devm_drm_panel_add_follower(struct device *follower_dev,\n\t\t\t\t\t      struct drm_panel_follower *follower)\n{\n\treturn -ENODEV;\n}\n#endif\n\n#if IS_ENABLED(CONFIG_DRM_PANEL) && (IS_BUILTIN(CONFIG_BACKLIGHT_CLASS_DEVICE) || \\\n\t(IS_MODULE(CONFIG_DRM) && IS_MODULE(CONFIG_BACKLIGHT_CLASS_DEVICE)))\nint drm_panel_of_backlight(struct drm_panel *panel);\n#else\nstatic inline int drm_panel_of_backlight(struct drm_panel *panel)\n{\n\treturn 0;\n}\n#endif\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}