{
  "module_name": "samsung-dsim.h",
  "hash_id": "53ef8e09dbb6b199dce3f7f9dbd1faf84ff74e0bba3d479700c1c98ad6551989",
  "original_prompt": "Ingested from linux-6.6.14/include/drm/bridge/samsung-dsim.h",
  "human_readable_source": " \n \n\n#ifndef __SAMSUNG_DSIM__\n#define __SAMSUNG_DSIM__\n\n#include <linux/gpio/consumer.h>\n#include <linux/regulator/consumer.h>\n\n#include <drm/drm_atomic_helper.h>\n#include <drm/drm_of.h>\n#include <drm/drm_mipi_dsi.h>\n\nstruct samsung_dsim;\n\n#define DSIM_STATE_ENABLED\t\tBIT(0)\n#define DSIM_STATE_INITIALIZED\t\tBIT(1)\n#define DSIM_STATE_CMD_LPM\t\tBIT(2)\n#define DSIM_STATE_VIDOUT_AVAILABLE\tBIT(3)\n\nenum samsung_dsim_type {\n\tDSIM_TYPE_EXYNOS3250,\n\tDSIM_TYPE_EXYNOS4210,\n\tDSIM_TYPE_EXYNOS5410,\n\tDSIM_TYPE_EXYNOS5422,\n\tDSIM_TYPE_EXYNOS5433,\n\tDSIM_TYPE_IMX8MM,\n\tDSIM_TYPE_IMX8MP,\n\tDSIM_TYPE_COUNT,\n};\n\n#define samsung_dsim_hw_is_exynos(hw) \\\n\t((hw) >= DSIM_TYPE_EXYNOS3250 && (hw) <= DSIM_TYPE_EXYNOS5433)\n\nstruct samsung_dsim_transfer {\n\tstruct list_head list;\n\tstruct completion completed;\n\tint result;\n\tstruct mipi_dsi_packet packet;\n\tu16 flags;\n\tu16 tx_done;\n\n\tu8 *rx_payload;\n\tu16 rx_len;\n\tu16 rx_done;\n};\n\nstruct samsung_dsim_driver_data {\n\tconst unsigned int *reg_ofs;\n\tunsigned int plltmr_reg;\n\tunsigned int has_freqband:1;\n\tunsigned int has_clklane_stop:1;\n\tunsigned int has_broken_fifoctrl_emptyhdr:1;\n\tunsigned int num_clks;\n\tunsigned int min_freq;\n\tunsigned int max_freq;\n\tunsigned int wait_for_reset;\n\tunsigned int num_bits_resol;\n\tunsigned int pll_p_offset;\n\tconst unsigned int *reg_values;\n\tu16 m_min;\n\tu16 m_max;\n};\n\nstruct samsung_dsim_host_ops {\n\tint (*register_host)(struct samsung_dsim *dsim);\n\tvoid (*unregister_host)(struct samsung_dsim *dsim);\n\tint (*attach)(struct samsung_dsim *dsim, struct mipi_dsi_device *device);\n\tvoid (*detach)(struct samsung_dsim *dsim, struct mipi_dsi_device *device);\n\tirqreturn_t (*te_irq_handler)(struct samsung_dsim *dsim);\n};\n\nstruct samsung_dsim_plat_data {\n\tenum samsung_dsim_type hw_type;\n\tconst struct samsung_dsim_host_ops *host_ops;\n};\n\nstruct samsung_dsim {\n\tstruct mipi_dsi_host dsi_host;\n\tstruct drm_bridge bridge;\n\tstruct drm_bridge *out_bridge;\n\tstruct device *dev;\n\tstruct drm_display_mode mode;\n\n\tvoid __iomem *reg_base;\n\tstruct phy *phy;\n\tstruct clk **clks;\n\tstruct regulator_bulk_data supplies[2];\n\tint irq;\n\tstruct gpio_desc *te_gpio;\n\n\tu32 pll_clk_rate;\n\tu32 burst_clk_rate;\n\tu32 hs_clock;\n\tu32 esc_clk_rate;\n\tu32 lanes;\n\tu32 mode_flags;\n\tu32 format;\n\n\tbool swap_dn_dp_clk;\n\tbool swap_dn_dp_data;\n\tint state;\n\tstruct drm_property *brightness;\n\tstruct completion completed;\n\n\tspinlock_t transfer_lock;  \n\tstruct list_head transfer_list;\n\n\tconst struct samsung_dsim_driver_data *driver_data;\n\tconst struct samsung_dsim_plat_data *plat_data;\n\n\tvoid *priv;\n};\n\nextern int samsung_dsim_probe(struct platform_device *pdev);\nextern int samsung_dsim_remove(struct platform_device *pdev);\nextern const struct dev_pm_ops samsung_dsim_pm_ops;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}