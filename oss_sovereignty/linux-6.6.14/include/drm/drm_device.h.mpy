{
  "module_name": "drm_device.h",
  "hash_id": "b48a950585ce45c61c16c69439ae819d3a89c7c97e2e809e17c0e03e6eaffe03",
  "original_prompt": "Ingested from linux-6.6.14/include/drm/drm_device.h",
  "human_readable_source": "#ifndef _DRM_DEVICE_H_\n#define _DRM_DEVICE_H_\n\n#include <linux/list.h>\n#include <linux/kref.h>\n#include <linux/mutex.h>\n#include <linux/idr.h>\n\n#include <drm/drm_legacy.h>\n#include <drm/drm_mode_config.h>\n\nstruct drm_driver;\nstruct drm_minor;\nstruct drm_master;\nstruct drm_vblank_crtc;\nstruct drm_vma_offset_manager;\nstruct drm_vram_mm;\nstruct drm_fb_helper;\n\nstruct inode;\n\nstruct pci_dev;\nstruct pci_controller;\n\n\n \n\nenum switch_power_state {\n\t \n\tDRM_SWITCH_POWER_ON = 0,\n\n\t \n\tDRM_SWITCH_POWER_OFF = 1,\n\n\t \n\tDRM_SWITCH_POWER_CHANGING = 2,\n\n\t \n\tDRM_SWITCH_POWER_DYNAMIC_OFF = 3,\n};\n\n \nstruct drm_device {\n\t \n\tint if_version;\n\n\t \n\tstruct kref ref;\n\n\t \n\tstruct device *dev;\n\n\t \n\tstruct {\n\t\t \n\t\tstruct list_head resources;\n\t\t \n\t\tvoid *final_kfree;\n\t\t \n\t\tspinlock_t lock;\n\t} managed;\n\n\t \n\tconst struct drm_driver *driver;\n\n\t \n\tvoid *dev_private;\n\n\t \n\tstruct drm_minor *primary;\n\n\t \n\tstruct drm_minor *render;\n\n\t \n\tstruct drm_minor *accel;\n\n\t \n\tbool registered;\n\n\t \n\tstruct drm_master *master;\n\n\t \n\tu32 driver_features;\n\n\t \n\tbool unplugged;\n\n\t \n\tstruct inode *anon_inode;\n\n\t \n\tchar *unique;\n\n\t \n\tstruct mutex struct_mutex;\n\n\t \n\tstruct mutex master_mutex;\n\n\t \n\tatomic_t open_count;\n\n\t \n\tstruct mutex filelist_mutex;\n\t \n\tstruct list_head filelist;\n\n\t \n\tstruct list_head filelist_internal;\n\n\t \n\tstruct mutex clientlist_mutex;\n\n\t \n\tstruct list_head clientlist;\n\n\t \n\tbool vblank_disable_immediate;\n\n\t \n\tstruct drm_vblank_crtc *vblank;\n\n\t \n\tspinlock_t vblank_time_lock;\n\t \n\tspinlock_t vbl_lock;\n\n\t \n\tu32 max_vblank_count;\n\n\t \n\tstruct list_head vblank_event_list;\n\n\t \n\tspinlock_t event_lock;\n\n\t \n\tunsigned int num_crtcs;\n\n\t \n\tstruct drm_mode_config mode_config;\n\n\t \n\tstruct mutex object_name_lock;\n\n\t \n\tstruct idr object_name_idr;\n\n\t \n\tstruct drm_vma_offset_manager *vma_offset_manager;\n\n\t \n\tstruct drm_vram_mm *vram_mm;\n\n\t \n\tenum switch_power_state switch_power_state;\n\n\t \n\tstruct drm_fb_helper *fb_helper;\n\n\t \n\tstruct mutex debugfs_mutex;\n\n\t \n\tstruct list_head debugfs_list;\n\n\t \n\t \n#if IS_ENABLED(CONFIG_DRM_LEGACY)\n\t \n\tstruct list_head legacy_dev_list;\n\n#ifdef __alpha__\n\t \n\tstruct pci_controller *hose;\n#endif\n\n\t \n\tstruct drm_agp_head *agp;\n\n\t \n\tstruct list_head ctxlist;\n\n\t \n\tstruct mutex ctxlist_mutex;\n\n\t \n\tstruct idr ctx_idr;\n\n\t \n\tstruct list_head maplist;\n\n\t \n\tstruct drm_open_hash map_hash;\n\n\t \n\tstruct list_head vmalist;\n\n\t \n\tstruct drm_device_dma *dma;\n\n\t \n\t__volatile__ long context_flag;\n\n\t \n\tint last_context;\n\n\t \n\tspinlock_t buf_lock;\n\n\t \n\tint buf_use;\n\n\t \n\tatomic_t buf_alloc;\n\n\tstruct {\n\t\tint context;\n\t\tstruct drm_hw_lock *lock;\n\t} sigdata;\n\n\tstruct drm_local_map *agp_buffer_map;\n\tunsigned int agp_buffer_token;\n\n\t \n\tstruct drm_sg_mem *sg;\n\n\t \n\tbool irq_enabled;\n\tint irq;\n#endif\n};\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}