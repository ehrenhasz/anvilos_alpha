{
  "module_name": "drm_managed.h",
  "hash_id": "da0cb914063a7d6328d4a05d0d1472d6c5d140dfc9917a2f0975987a26588179",
  "original_prompt": "Ingested from linux-6.6.14/include/drm/drm_managed.h",
  "human_readable_source": "\n\n#ifndef _DRM_MANAGED_H_\n#define _DRM_MANAGED_H_\n\n#include <linux/gfp.h>\n#include <linux/overflow.h>\n#include <linux/types.h>\n\nstruct drm_device;\nstruct mutex;\n\ntypedef void (*drmres_release_t)(struct drm_device *dev, void *res);\n\n \n#define drmm_add_action(dev, action, data) \\\n\t__drmm_add_action(dev, action, data, #action)\n\nint __must_check __drmm_add_action(struct drm_device *dev,\n\t\t\t\t   drmres_release_t action,\n\t\t\t\t   void *data, const char *name);\n\n \n#define drmm_add_action_or_reset(dev, action, data) \\\n\t__drmm_add_action_or_reset(dev, action, data, #action)\n\nint __must_check __drmm_add_action_or_reset(struct drm_device *dev,\n\t\t\t\t\t    drmres_release_t action,\n\t\t\t\t\t    void *data, const char *name);\n\nvoid *drmm_kmalloc(struct drm_device *dev, size_t size, gfp_t gfp) __malloc;\n\n \nstatic inline void *drmm_kzalloc(struct drm_device *dev, size_t size, gfp_t gfp)\n{\n\treturn drmm_kmalloc(dev, size, gfp | __GFP_ZERO);\n}\n\n \nstatic inline void *drmm_kmalloc_array(struct drm_device *dev,\n\t\t\t\t       size_t n, size_t size, gfp_t flags)\n{\n\tsize_t bytes;\n\n\tif (unlikely(check_mul_overflow(n, size, &bytes)))\n\t\treturn NULL;\n\n\treturn drmm_kmalloc(dev, bytes, flags);\n}\n\n \nstatic inline void *drmm_kcalloc(struct drm_device *dev,\n\t\t\t\t size_t n, size_t size, gfp_t flags)\n{\n\treturn drmm_kmalloc_array(dev, n, size, flags | __GFP_ZERO);\n}\n\nchar *drmm_kstrdup(struct drm_device *dev, const char *s, gfp_t gfp);\n\nvoid drmm_kfree(struct drm_device *dev, void *data);\n\nvoid __drmm_mutex_release(struct drm_device *dev, void *res);\n\n \n#define drmm_mutex_init(dev, lock) ({\t\t\t\t\t     \\\n\tmutex_init(lock);\t\t\t\t\t\t     \\\n\tdrmm_add_action_or_reset(dev, __drmm_mutex_release, lock);\t     \\\n})\t\t\t\t\t\t\t\t\t     \\\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}