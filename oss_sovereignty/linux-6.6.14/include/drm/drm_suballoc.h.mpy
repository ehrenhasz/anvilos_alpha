{
  "module_name": "drm_suballoc.h",
  "hash_id": "f62d6ee07be7c85c2690a1893e8b2fd247d4cb0baea1031ab6b1825c0519af92",
  "original_prompt": "Ingested from linux-6.6.14/include/drm/drm_suballoc.h",
  "human_readable_source": " \n \n#ifndef _DRM_SUBALLOC_H_\n#define _DRM_SUBALLOC_H_\n\n#include <drm/drm_mm.h>\n\n#include <linux/dma-fence.h>\n#include <linux/types.h>\n\n#define DRM_SUBALLOC_MAX_QUEUES 32\n \nstruct drm_suballoc_manager {\n\twait_queue_head_t wq;\n\tstruct list_head *hole;\n\tstruct list_head olist;\n\tstruct list_head flist[DRM_SUBALLOC_MAX_QUEUES];\n\tsize_t size;\n\tsize_t align;\n};\n\n \nstruct drm_suballoc {\n\tstruct list_head olist;\n\tstruct list_head flist;\n\tstruct drm_suballoc_manager *manager;\n\tsize_t soffset;\n\tsize_t eoffset;\n\tstruct dma_fence *fence;\n};\n\nvoid drm_suballoc_manager_init(struct drm_suballoc_manager *sa_manager,\n\t\t\t       size_t size, size_t align);\n\nvoid drm_suballoc_manager_fini(struct drm_suballoc_manager *sa_manager);\n\nstruct drm_suballoc *\ndrm_suballoc_new(struct drm_suballoc_manager *sa_manager, size_t size,\n\t\t gfp_t gfp, bool intr, size_t align);\n\nvoid drm_suballoc_free(struct drm_suballoc *sa, struct dma_fence *fence);\n\n \nstatic inline size_t drm_suballoc_soffset(struct drm_suballoc *sa)\n{\n\treturn sa->soffset;\n}\n\n \nstatic inline size_t drm_suballoc_eoffset(struct drm_suballoc *sa)\n{\n\treturn sa->eoffset;\n}\n\n \nstatic inline size_t drm_suballoc_size(struct drm_suballoc *sa)\n{\n\treturn sa->eoffset - sa->soffset;\n}\n\n#ifdef CONFIG_DEBUG_FS\nvoid drm_suballoc_dump_debug_info(struct drm_suballoc_manager *sa_manager,\n\t\t\t\t  struct drm_printer *p,\n\t\t\t\t  unsigned long long suballoc_base);\n#else\nstatic inline void\ndrm_suballoc_dump_debug_info(struct drm_suballoc_manager *sa_manager,\n\t\t\t     struct drm_printer *p,\n\t\t\t     unsigned long long suballoc_base)\n{ }\n\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}