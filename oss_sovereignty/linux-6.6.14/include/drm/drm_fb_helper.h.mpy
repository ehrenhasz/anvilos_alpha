{
  "module_name": "drm_fb_helper.h",
  "hash_id": "1ef403b800736913b85ca55c773ce06bad7a4bffb3b3aae7f4045359858fdcb2",
  "original_prompt": "Ingested from linux-6.6.14/include/drm/drm_fb_helper.h",
  "human_readable_source": " \n#ifndef DRM_FB_HELPER_H\n#define DRM_FB_HELPER_H\n\nstruct drm_clip_rect;\nstruct drm_fb_helper;\n\n#include <linux/fb.h>\n\n#include <drm/drm_client.h>\n\n \nstruct drm_fb_helper_surface_size {\n\tu32 fb_width;\n\tu32 fb_height;\n\tu32 surface_width;\n\tu32 surface_height;\n\tu32 surface_bpp;\n\tu32 surface_depth;\n};\n\n \nstruct drm_fb_helper_funcs {\n\t \n\tint (*fb_probe)(struct drm_fb_helper *helper,\n\t\t\tstruct drm_fb_helper_surface_size *sizes);\n\n\t \n\tint (*fb_dirty)(struct drm_fb_helper *helper, struct drm_clip_rect *clip);\n};\n\n \nstruct drm_fb_helper {\n\t \n\tstruct drm_client_dev client;\n\n\t \n\tstruct drm_client_buffer *buffer;\n\n\tstruct drm_framebuffer *fb;\n\tstruct drm_device *dev;\n\tconst struct drm_fb_helper_funcs *funcs;\n\tstruct fb_info *info;\n\tu32 pseudo_palette[17];\n\tstruct drm_clip_rect damage_clip;\n\tspinlock_t damage_lock;\n\tstruct work_struct damage_work;\n\tstruct work_struct resume_work;\n\n\t \n\tstruct mutex lock;\n\n\t \n\tstruct list_head kernel_fb_list;\n\n\t \n\tbool delayed_hotplug;\n\n\t \n\tbool deferred_setup;\n\n\t \n\tint preferred_bpp;\n\n#ifdef CONFIG_FB_DEFERRED_IO\n\t \n\tstruct fb_deferred_io fbdefio;\n#endif\n};\n\nstatic inline struct drm_fb_helper *\ndrm_fb_helper_from_client(struct drm_client_dev *client)\n{\n\treturn container_of(client, struct drm_fb_helper, client);\n}\n\n \n#define DRM_FB_HELPER_DEFAULT_OPS \\\n\t.fb_check_var\t= drm_fb_helper_check_var, \\\n\t.fb_set_par\t= drm_fb_helper_set_par, \\\n\t.fb_setcmap\t= drm_fb_helper_setcmap, \\\n\t.fb_blank\t= drm_fb_helper_blank, \\\n\t.fb_pan_display\t= drm_fb_helper_pan_display, \\\n\t.fb_debug_enter = drm_fb_helper_debug_enter, \\\n\t.fb_debug_leave = drm_fb_helper_debug_leave, \\\n\t.fb_ioctl\t= drm_fb_helper_ioctl\n\n#ifdef CONFIG_DRM_FBDEV_EMULATION\nvoid drm_fb_helper_prepare(struct drm_device *dev, struct drm_fb_helper *helper,\n\t\t\t   unsigned int preferred_bpp,\n\t\t\t   const struct drm_fb_helper_funcs *funcs);\nvoid drm_fb_helper_unprepare(struct drm_fb_helper *fb_helper);\nint drm_fb_helper_init(struct drm_device *dev, struct drm_fb_helper *helper);\nvoid drm_fb_helper_fini(struct drm_fb_helper *helper);\nint drm_fb_helper_blank(int blank, struct fb_info *info);\nint drm_fb_helper_pan_display(struct fb_var_screeninfo *var,\n\t\t\t      struct fb_info *info);\nint drm_fb_helper_set_par(struct fb_info *info);\nint drm_fb_helper_check_var(struct fb_var_screeninfo *var,\n\t\t\t    struct fb_info *info);\n\nint drm_fb_helper_restore_fbdev_mode_unlocked(struct drm_fb_helper *fb_helper);\n\nstruct fb_info *drm_fb_helper_alloc_info(struct drm_fb_helper *fb_helper);\nvoid drm_fb_helper_release_info(struct drm_fb_helper *fb_helper);\nvoid drm_fb_helper_unregister_info(struct drm_fb_helper *fb_helper);\nvoid drm_fb_helper_fill_info(struct fb_info *info,\n\t\t\t     struct drm_fb_helper *fb_helper,\n\t\t\t     struct drm_fb_helper_surface_size *sizes);\n\nvoid drm_fb_helper_damage_range(struct fb_info *info, off_t off, size_t len);\nvoid drm_fb_helper_damage_area(struct fb_info *info, u32 x, u32 y, u32 width, u32 height);\n\nvoid drm_fb_helper_deferred_io(struct fb_info *info, struct list_head *pagereflist);\n\nvoid drm_fb_helper_set_suspend(struct drm_fb_helper *fb_helper, bool suspend);\nvoid drm_fb_helper_set_suspend_unlocked(struct drm_fb_helper *fb_helper,\n\t\t\t\t\tbool suspend);\n\nint drm_fb_helper_setcmap(struct fb_cmap *cmap, struct fb_info *info);\n\nint drm_fb_helper_ioctl(struct fb_info *info, unsigned int cmd,\n\t\t\tunsigned long arg);\n\nint drm_fb_helper_hotplug_event(struct drm_fb_helper *fb_helper);\nint drm_fb_helper_initial_config(struct drm_fb_helper *fb_helper);\nint drm_fb_helper_debug_enter(struct fb_info *info);\nint drm_fb_helper_debug_leave(struct fb_info *info);\n\nvoid drm_fb_helper_lastclose(struct drm_device *dev);\nvoid drm_fb_helper_output_poll_changed(struct drm_device *dev);\n#else\nstatic inline void drm_fb_helper_prepare(struct drm_device *dev,\n\t\t\t\t\t struct drm_fb_helper *helper,\n\t\t\t\t\t unsigned int preferred_bpp,\n\t\t\t\t\t const struct drm_fb_helper_funcs *funcs)\n{\n}\n\nstatic inline void drm_fb_helper_unprepare(struct drm_fb_helper *fb_helper)\n{\n}\n\nstatic inline int drm_fb_helper_init(struct drm_device *dev,\n\t\t       struct drm_fb_helper *helper)\n{\n\t \n\thelper->dev = dev;\n\tdev->fb_helper = helper;\n\n\treturn 0;\n}\n\nstatic inline void drm_fb_helper_fini(struct drm_fb_helper *helper)\n{\n\tif (helper && helper->dev)\n\t\thelper->dev->fb_helper = NULL;\n}\n\nstatic inline int drm_fb_helper_blank(int blank, struct fb_info *info)\n{\n\treturn 0;\n}\n\nstatic inline int drm_fb_helper_pan_display(struct fb_var_screeninfo *var,\n\t\t\t\t\t    struct fb_info *info)\n{\n\treturn 0;\n}\n\nstatic inline int drm_fb_helper_set_par(struct fb_info *info)\n{\n\treturn 0;\n}\n\nstatic inline int drm_fb_helper_check_var(struct fb_var_screeninfo *var,\n\t\t\t\t\t  struct fb_info *info)\n{\n\treturn 0;\n}\n\nstatic inline int\ndrm_fb_helper_restore_fbdev_mode_unlocked(struct drm_fb_helper *fb_helper)\n{\n\treturn 0;\n}\n\nstatic inline struct fb_info *\ndrm_fb_helper_alloc_info(struct drm_fb_helper *fb_helper)\n{\n\treturn NULL;\n}\n\nstatic inline void drm_fb_helper_release_info(struct drm_fb_helper *fb_helper)\n{\n}\n\nstatic inline void drm_fb_helper_unregister_info(struct drm_fb_helper *fb_helper)\n{\n}\n\nstatic inline void\ndrm_fb_helper_fill_info(struct fb_info *info,\n\t\t\tstruct drm_fb_helper *fb_helper,\n\t\t\tstruct drm_fb_helper_surface_size *sizes)\n{\n}\n\nstatic inline int drm_fb_helper_setcmap(struct fb_cmap *cmap,\n\t\t\t\t\tstruct fb_info *info)\n{\n\treturn 0;\n}\n\nstatic inline int drm_fb_helper_ioctl(struct fb_info *info, unsigned int cmd,\n\t\t\t\t      unsigned long arg)\n{\n\treturn 0;\n}\n\nstatic inline void drm_fb_helper_deferred_io(struct fb_info *info,\n\t\t\t\t\t     struct list_head *pagelist)\n{\n}\n\nstatic inline void drm_fb_helper_set_suspend(struct drm_fb_helper *fb_helper,\n\t\t\t\t\t     bool suspend)\n{\n}\n\nstatic inline void\ndrm_fb_helper_set_suspend_unlocked(struct drm_fb_helper *fb_helper, bool suspend)\n{\n}\n\nstatic inline int drm_fb_helper_hotplug_event(struct drm_fb_helper *fb_helper)\n{\n\treturn 0;\n}\n\nstatic inline int drm_fb_helper_initial_config(struct drm_fb_helper *fb_helper)\n{\n\treturn 0;\n}\n\nstatic inline int drm_fb_helper_debug_enter(struct fb_info *info)\n{\n\treturn 0;\n}\n\nstatic inline int drm_fb_helper_debug_leave(struct fb_info *info)\n{\n\treturn 0;\n}\n\nstatic inline void drm_fb_helper_lastclose(struct drm_device *dev)\n{\n}\n\nstatic inline void drm_fb_helper_output_poll_changed(struct drm_device *dev)\n{\n}\n#endif\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}