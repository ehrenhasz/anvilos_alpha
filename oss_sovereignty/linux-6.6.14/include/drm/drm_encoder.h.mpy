{
  "module_name": "drm_encoder.h",
  "hash_id": "8fdc332b773c26aac5f5cc9efdfbf9bd7de0b233f223e8e8270ce2898ab99020",
  "original_prompt": "Ingested from linux-6.6.14/include/drm/drm_encoder.h",
  "human_readable_source": " \n\n#ifndef __DRM_ENCODER_H__\n#define __DRM_ENCODER_H__\n\n#include <linux/list.h>\n#include <linux/ctype.h>\n#include <drm/drm_crtc.h>\n#include <drm/drm_mode.h>\n#include <drm/drm_mode_object.h>\n#include <drm/drm_util.h>\n\nstruct drm_encoder;\n\n \nstruct drm_encoder_funcs {\n\t \n\tvoid (*reset)(struct drm_encoder *encoder);\n\n\t \n\tvoid (*destroy)(struct drm_encoder *encoder);\n\n\t \n\tint (*late_register)(struct drm_encoder *encoder);\n\n\t \n\tvoid (*early_unregister)(struct drm_encoder *encoder);\n};\n\n \nstruct drm_encoder {\n\tstruct drm_device *dev;\n\tstruct list_head head;\n\n\tstruct drm_mode_object base;\n\tchar *name;\n\t \n\tint encoder_type;\n\n\t \n\tunsigned index;\n\n\t \n\tuint32_t possible_crtcs;\n\n\t \n\tuint32_t possible_clones;\n\n\t \n\tstruct drm_crtc *crtc;\n\n\t \n\tstruct list_head bridge_chain;\n\n\tconst struct drm_encoder_funcs *funcs;\n\tconst struct drm_encoder_helper_funcs *helper_private;\n};\n\n#define obj_to_encoder(x) container_of(x, struct drm_encoder, base)\n\n__printf(5, 6)\nint drm_encoder_init(struct drm_device *dev,\n\t\t     struct drm_encoder *encoder,\n\t\t     const struct drm_encoder_funcs *funcs,\n\t\t     int encoder_type, const char *name, ...);\n\n__printf(5, 6)\nint drmm_encoder_init(struct drm_device *dev,\n\t\t      struct drm_encoder *encoder,\n\t\t      const struct drm_encoder_funcs *funcs,\n\t\t      int encoder_type, const char *name, ...);\n\n__printf(6, 7)\nvoid *__drmm_encoder_alloc(struct drm_device *dev,\n\t\t\t   size_t size, size_t offset,\n\t\t\t   const struct drm_encoder_funcs *funcs,\n\t\t\t   int encoder_type,\n\t\t\t   const char *name, ...);\n\n \n#define drmm_encoder_alloc(dev, type, member, funcs, encoder_type, name, ...) \\\n\t((type *)__drmm_encoder_alloc(dev, sizeof(type), \\\n\t\t\t\t      offsetof(type, member), funcs, \\\n\t\t\t\t      encoder_type, name, ##__VA_ARGS__))\n\n \n#define drmm_plain_encoder_alloc(dev, funcs, encoder_type, name, ...) \\\n\t((struct drm_encoder *) \\\n\t __drmm_encoder_alloc(dev, sizeof(struct drm_encoder), \\\n\t\t\t      0, funcs, encoder_type, name, ##__VA_ARGS__))\n\n \nstatic inline unsigned int drm_encoder_index(const struct drm_encoder *encoder)\n{\n\treturn encoder->index;\n}\n\n \nstatic inline u32 drm_encoder_mask(const struct drm_encoder *encoder)\n{\n\treturn 1 << drm_encoder_index(encoder);\n}\n\n \nstatic inline bool drm_encoder_crtc_ok(struct drm_encoder *encoder,\n\t\t\t\t       struct drm_crtc *crtc)\n{\n\treturn !!(encoder->possible_crtcs & drm_crtc_mask(crtc));\n}\n\n \nstatic inline struct drm_encoder *drm_encoder_find(struct drm_device *dev,\n\t\t\t\t\t\t   struct drm_file *file_priv,\n\t\t\t\t\t\t   uint32_t id)\n{\n\tstruct drm_mode_object *mo;\n\n\tmo = drm_mode_object_find(dev, file_priv, id, DRM_MODE_OBJECT_ENCODER);\n\n\treturn mo ? obj_to_encoder(mo) : NULL;\n}\n\nvoid drm_encoder_cleanup(struct drm_encoder *encoder);\n\n \n#define drm_for_each_encoder_mask(encoder, dev, encoder_mask) \\\n\tlist_for_each_entry((encoder), &(dev)->mode_config.encoder_list, head) \\\n\t\tfor_each_if ((encoder_mask) & drm_encoder_mask(encoder))\n\n \n#define drm_for_each_encoder(encoder, dev) \\\n\tlist_for_each_entry(encoder, &(dev)->mode_config.encoder_list, head)\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}