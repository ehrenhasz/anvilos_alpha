{
  "module_name": "drm_mode_config.h",
  "hash_id": "7f30dfb2430b7ee234b1905d041df9d9ec07982bdaa143cb01cbc57d3d08f72c",
  "original_prompt": "Ingested from linux-6.6.14/include/drm/drm_mode_config.h",
  "human_readable_source": " \n\n#ifndef __DRM_MODE_CONFIG_H__\n#define __DRM_MODE_CONFIG_H__\n\n#include <linux/mutex.h>\n#include <linux/types.h>\n#include <linux/idr.h>\n#include <linux/workqueue.h>\n#include <linux/llist.h>\n\n#include <drm/drm_modeset_lock.h>\n\nstruct drm_file;\nstruct drm_device;\nstruct drm_atomic_state;\nstruct drm_mode_fb_cmd2;\nstruct drm_format_info;\nstruct drm_display_mode;\n\n \nstruct drm_mode_config_funcs {\n\t \n\tstruct drm_framebuffer *(*fb_create)(struct drm_device *dev,\n\t\t\t\t\t     struct drm_file *file_priv,\n\t\t\t\t\t     const struct drm_mode_fb_cmd2 *mode_cmd);\n\n\t \n\tconst struct drm_format_info *(*get_format_info)(const struct drm_mode_fb_cmd2 *mode_cmd);\n\n\t \n\tvoid (*output_poll_changed)(struct drm_device *dev);\n\n\t \n\tenum drm_mode_status (*mode_valid)(struct drm_device *dev,\n\t\t\t\t\t   const struct drm_display_mode *mode);\n\n\t \n\tint (*atomic_check)(struct drm_device *dev,\n\t\t\t    struct drm_atomic_state *state);\n\n\t \n\tint (*atomic_commit)(struct drm_device *dev,\n\t\t\t     struct drm_atomic_state *state,\n\t\t\t     bool nonblock);\n\n\t \n\tstruct drm_atomic_state *(*atomic_state_alloc)(struct drm_device *dev);\n\n\t \n\tvoid (*atomic_state_clear)(struct drm_atomic_state *state);\n\n\t \n\tvoid (*atomic_state_free)(struct drm_atomic_state *state);\n};\n\n \nstruct drm_mode_config {\n\t \n\tstruct mutex mutex;\n\n\t \n\tstruct drm_modeset_lock connection_mutex;\n\n\t \n\tstruct drm_modeset_acquire_ctx *acquire_ctx;\n\n\t \n\tstruct mutex idr_mutex;\n\n\t \n\tstruct idr object_idr;\n\n\t \n\tstruct idr tile_idr;\n\n\t \n\tstruct mutex fb_lock;\n\t \n\tint num_fb;\n\t \n\tstruct list_head fb_list;\n\n\t \n\tspinlock_t connector_list_lock;\n\t \n\tint num_connector;\n\t \n\tstruct ida connector_ida;\n\t \n\tstruct list_head connector_list;\n\t \n\tstruct llist_head connector_free_list;\n\t \n\tstruct work_struct connector_free_work;\n\n\t \n\tint num_encoder;\n\t \n\tstruct list_head encoder_list;\n\n\t \n\tint num_total_plane;\n\t \n\tstruct list_head plane_list;\n\n\t \n\tint num_crtc;\n\t \n\tstruct list_head crtc_list;\n\n\t \n\tstruct list_head property_list;\n\n\t \n\tstruct list_head privobj_list;\n\n\tint min_width, min_height;\n\tint max_width, max_height;\n\tconst struct drm_mode_config_funcs *funcs;\n\n\t \n\tbool poll_enabled;\n\tbool poll_running;\n\tbool delayed_event;\n\tstruct delayed_work output_poll_work;\n\n\t \n\tstruct mutex blob_lock;\n\n\t \n\tstruct list_head property_blob_list;\n\n\t \n\n\t \n\tstruct drm_property *edid_property;\n\t \n\tstruct drm_property *dpms_property;\n\t \n\tstruct drm_property *path_property;\n\t \n\tstruct drm_property *tile_property;\n\t \n\tstruct drm_property *link_status_property;\n\t \n\tstruct drm_property *plane_type_property;\n\t \n\tstruct drm_property *prop_src_x;\n\t \n\tstruct drm_property *prop_src_y;\n\t \n\tstruct drm_property *prop_src_w;\n\t \n\tstruct drm_property *prop_src_h;\n\t \n\tstruct drm_property *prop_crtc_x;\n\t \n\tstruct drm_property *prop_crtc_y;\n\t \n\tstruct drm_property *prop_crtc_w;\n\t \n\tstruct drm_property *prop_crtc_h;\n\t \n\tstruct drm_property *prop_fb_id;\n\t \n\tstruct drm_property *prop_in_fence_fd;\n\t \n\tstruct drm_property *prop_out_fence_ptr;\n\t \n\tstruct drm_property *prop_crtc_id;\n\t \n\tstruct drm_property *prop_fb_damage_clips;\n\t \n\tstruct drm_property *prop_active;\n\t \n\tstruct drm_property *prop_mode_id;\n\t \n\tstruct drm_property *prop_vrr_enabled;\n\n\t \n\tstruct drm_property *dvi_i_subconnector_property;\n\t \n\tstruct drm_property *dvi_i_select_subconnector_property;\n\n\t \n\tstruct drm_property *dp_subconnector_property;\n\n\t \n\tstruct drm_property *tv_subconnector_property;\n\t \n\tstruct drm_property *tv_select_subconnector_property;\n\n\t \n\tstruct drm_property *legacy_tv_mode_property;\n\n\t \n\tstruct drm_property *tv_mode_property;\n\n\t \n\tstruct drm_property *tv_left_margin_property;\n\t \n\tstruct drm_property *tv_right_margin_property;\n\t \n\tstruct drm_property *tv_top_margin_property;\n\t \n\tstruct drm_property *tv_bottom_margin_property;\n\t \n\tstruct drm_property *tv_brightness_property;\n\t \n\tstruct drm_property *tv_contrast_property;\n\t \n\tstruct drm_property *tv_flicker_reduction_property;\n\t \n\tstruct drm_property *tv_overscan_property;\n\t \n\tstruct drm_property *tv_saturation_property;\n\t \n\tstruct drm_property *tv_hue_property;\n\n\t \n\tstruct drm_property *scaling_mode_property;\n\t \n\tstruct drm_property *aspect_ratio_property;\n\t \n\tstruct drm_property *content_type_property;\n\t \n\tstruct drm_property *degamma_lut_property;\n\t \n\tstruct drm_property *degamma_lut_size_property;\n\t \n\tstruct drm_property *ctm_property;\n\t \n\tstruct drm_property *gamma_lut_property;\n\t \n\tstruct drm_property *gamma_lut_size_property;\n\n\t \n\tstruct drm_property *suggested_x_property;\n\t \n\tstruct drm_property *suggested_y_property;\n\n\t \n\tstruct drm_property *non_desktop_property;\n\n\t \n\tstruct drm_property *panel_orientation_property;\n\n\t \n\tstruct drm_property *writeback_fb_id_property;\n\n\t \n\tstruct drm_property *writeback_pixel_formats_property;\n\t \n\tstruct drm_property *writeback_out_fence_ptr_property;\n\n\t \n\tstruct drm_property *hdr_output_metadata_property;\n\n\t \n\tstruct drm_property *content_protection_property;\n\n\t \n\tstruct drm_property *hdcp_content_type_property;\n\n\t \n\tuint32_t preferred_depth, prefer_shadow;\n\n\t \n\tbool quirk_addfb_prefer_xbgr_30bpp;\n\n\t \n\tbool quirk_addfb_prefer_host_byte_order;\n\n\t \n\tbool async_page_flip;\n\n\t \n\tbool fb_modifiers_not_supported;\n\n\t \n\tbool normalize_zpos;\n\n\t \n\tstruct drm_property *modifiers_property;\n\n\t \n\tuint32_t cursor_width, cursor_height;\n\n\t \n\tstruct drm_atomic_state *suspend_state;\n\n\tconst struct drm_mode_config_helper_funcs *helper_private;\n};\n\nint __must_check drmm_mode_config_init(struct drm_device *dev);\n\n \nstatic inline int drm_mode_config_init(struct drm_device *dev)\n{\n\treturn drmm_mode_config_init(dev);\n}\n\nvoid drm_mode_config_reset(struct drm_device *dev);\nvoid drm_mode_config_cleanup(struct drm_device *dev);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}