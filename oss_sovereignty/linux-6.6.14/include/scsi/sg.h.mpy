{
  "module_name": "sg.h",
  "hash_id": "b97f6c6af313d7c9406b202d7fbf47623bcd833a97637205c350649be66f7e7a",
  "original_prompt": "Ingested from linux-6.6.14/include/scsi/sg.h",
  "human_readable_source": " \n#ifndef _SCSI_GENERIC_H\n#define _SCSI_GENERIC_H\n\n#include <linux/compiler.h>\n\n \n\n\ntypedef struct sg_iovec  \n{                        \n    void __user *iov_base;       \n    size_t iov_len;              \n} sg_iovec_t;\n\n\ntypedef struct sg_io_hdr\n{\n    int interface_id;            \n    int dxfer_direction;         \n    unsigned char cmd_len;       \n    unsigned char mx_sb_len;     \n    unsigned short iovec_count;  \n    unsigned int dxfer_len;      \n    void __user *dxferp;\t \n    unsigned char __user *cmdp;  \n    void __user *sbp;\t\t \n    unsigned int timeout;        \n    unsigned int flags;          \n    int pack_id;                 \n    void __user * usr_ptr;       \n    unsigned char status;        \n    unsigned char masked_status; \n    unsigned char msg_status;    \n    unsigned char sb_len_wr;     \n    unsigned short host_status;  \n    unsigned short driver_status; \n    int resid;                   \n    unsigned int duration;       \n    unsigned int info;           \n} sg_io_hdr_t;   \n\n#if defined(__KERNEL__)\n#include <linux/compat.h>\n\nstruct compat_sg_io_hdr {\n\tcompat_int_t interface_id;\t \n\tcompat_int_t dxfer_direction;\t \n\tunsigned char cmd_len;\t\t \n\tunsigned char mx_sb_len;\t \n\tunsigned short iovec_count;\t \n\tcompat_uint_t dxfer_len;\t \n\tcompat_uint_t dxferp;\t\t \n\tcompat_uptr_t cmdp;\t\t \n\tcompat_uptr_t sbp;\t\t \n\tcompat_uint_t timeout;\t\t \n\tcompat_uint_t flags;\t\t \n\tcompat_int_t pack_id;\t\t \n\tcompat_uptr_t usr_ptr;\t\t \n\tunsigned char status;\t\t \n\tunsigned char masked_status;\t \n\tunsigned char msg_status;\t \n\tunsigned char sb_len_wr;\t \n\tunsigned short host_status;\t \n\tunsigned short driver_status;\t \n\tcompat_int_t resid;\t\t \n\tcompat_uint_t duration;\t\t \n\tcompat_uint_t info;\t\t \n};\n#endif\n\n#define SG_INTERFACE_ID_ORIG 'S'\n\n \n#define SG_DXFER_NONE (-1)       \n#define SG_DXFER_TO_DEV (-2)     \n#define SG_DXFER_FROM_DEV (-3)   \n#define SG_DXFER_TO_FROM_DEV (-4)  \n#define SG_DXFER_UNKNOWN (-5)    \n\n \n#define SG_FLAG_DIRECT_IO 1      \n#define SG_FLAG_UNUSED_LUN_INHIBIT 2    \n\t\t\t\t \n#define SG_FLAG_MMAP_IO 4        \n#define SG_FLAG_NO_DXFER 0x10000  \n\t\t\t\t \n \n#define SG_FLAG_Q_AT_TAIL 0x10\n#define SG_FLAG_Q_AT_HEAD 0x20\n\n \n#define SG_INFO_OK_MASK 0x1\n#define SG_INFO_OK 0x0           \n#define SG_INFO_CHECK 0x1        \n\n#define SG_INFO_DIRECT_IO_MASK 0x6\n#define SG_INFO_INDIRECT_IO 0x0  \n#define SG_INFO_DIRECT_IO 0x2    \n#define SG_INFO_MIXED_IO 0x4     \n\n \n#define DRIVER_SENSE 0x08\n \n#define driver_byte(result) (((result) >> 24) & 0xff)\n\n \n\n#define GOOD                 0x00\n#define CHECK_CONDITION      0x01\n#define CONDITION_GOOD       0x02\n#define BUSY                 0x04\n#define INTERMEDIATE_GOOD    0x08\n#define INTERMEDIATE_C_GOOD  0x0a\n#define RESERVATION_CONFLICT 0x0c\n#define COMMAND_TERMINATED   0x11\n#define QUEUE_FULL           0x14\n#define ACA_ACTIVE           0x18\n#define TASK_ABORTED         0x20\n\n \n#define sg_status_byte(result) (((result) >> 1) & 0x7f)\n\ntypedef struct sg_scsi_id {  \n    int host_no;         \n    int channel;\n    int scsi_id;         \n    int lun;\n    int scsi_type;       \n    short h_cmd_per_lun; \n    short d_queue_depth; \n    int unused[2];       \n} sg_scsi_id_t;  \n\ntypedef struct sg_req_info {  \n    char req_state;      \n    char orphan;         \n    char sg_io_owned;    \n    char problem;        \n    int pack_id;         \n    void __user *usr_ptr;      \n    unsigned int duration;  \n    int unused;\n} sg_req_info_t;  \n\n\n \n\n#define SG_EMULATED_HOST 0x2203  \n\n \n \n#define SG_SET_TRANSFORM 0x2204  \n\t\t       \n#define SG_GET_TRANSFORM 0x2205\n\n#define SG_SET_RESERVED_SIZE 0x2275   \n#define SG_GET_RESERVED_SIZE 0x2272   \n\n \n#define SG_GET_SCSI_ID 0x2276    \n \n\n \n#define SG_SET_FORCE_LOW_DMA 0x2279   \n#define SG_GET_LOW_DMA 0x227a    \n\n \n#define SG_SET_FORCE_PACK_ID 0x227b\n#define SG_GET_PACK_ID 0x227c  \n\n#define SG_GET_NUM_WAITING 0x227d  \n\n \n#define SG_GET_SG_TABLESIZE 0x227F   \n\n#define SG_GET_VERSION_NUM 0x2282  \n\n \n#define SG_SCSI_RESET 0x2284\n \n#define\t\tSG_SCSI_RESET_NOTHING\t0\n#define\t\tSG_SCSI_RESET_DEVICE\t1\n#define\t\tSG_SCSI_RESET_BUS\t2\n#define\t\tSG_SCSI_RESET_HOST\t3\n#define\t\tSG_SCSI_RESET_TARGET\t4\n#define\t\tSG_SCSI_RESET_NO_ESCALATE\t0x100\n\n \n#define SG_IO 0x2285    \n\n#define SG_GET_REQUEST_TABLE 0x2286    \n\n \n#define SG_SET_KEEP_ORPHAN 0x2287  \n#define SG_GET_KEEP_ORPHAN 0x2288\n\n \n#define SG_GET_ACCESS_COUNT 0x2289  \n\n\n#define SG_SCATTER_SZ (8 * 4096)\n \n\n#define SG_DEFAULT_RETRIES 0\n\n \n#define SG_DEF_FORCE_PACK_ID 0\n#define SG_DEF_KEEP_ORPHAN 0\n#define SG_DEF_RESERVED_SIZE SG_SCATTER_SZ  \n\n \n#define SG_MAX_QUEUE 16\n\n#define SG_BIG_BUFF SG_DEF_RESERVED_SIZE     \n\n \ntypedef struct sg_io_hdr Sg_io_hdr;\ntypedef struct sg_io_vec Sg_io_vec;\ntypedef struct sg_scsi_id Sg_scsi_id;\ntypedef struct sg_req_info Sg_req_info;\n\n\n \n \n \n\n#define SG_MAX_SENSE 16    \n\nstruct sg_header\n{\n    int pack_len;     \n    int reply_len;    \n    int pack_id;      \n    int result;       \n    unsigned int twelve_byte:1;\n\t \n    unsigned int target_status:5;    \n    unsigned int host_status:8;      \n    unsigned int driver_status:8;    \n    unsigned int other_flags:10;     \n    unsigned char sense_buffer[SG_MAX_SENSE];  \n};       \n\n\n \n\n#define SG_SET_TIMEOUT 0x2201   \n#define SG_GET_TIMEOUT 0x2202   \n\n \n#define SG_GET_COMMAND_Q 0x2270    \n#define SG_SET_COMMAND_Q 0x2271    \n\n \n#define SG_SET_DEBUG 0x227e     \n\n#define SG_NEXT_CMD_LEN 0x2283   \n\n\n \n#ifdef __KERNEL__\n#define SG_DEFAULT_TIMEOUT_USER\t(60*USER_HZ)  \n#else\n#define SG_DEFAULT_TIMEOUT\t(60*HZ)\t      \n#endif\n\n#define SG_DEF_COMMAND_Q 0      \n#define SG_DEF_UNDERRUN_FLAG 0\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}