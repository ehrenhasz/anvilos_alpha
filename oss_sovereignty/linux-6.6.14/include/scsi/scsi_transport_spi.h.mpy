{
  "module_name": "scsi_transport_spi.h",
  "hash_id": "aaa6c58f423938383944cb90e75285fb86f6181dd6197fbc57894588704a3ca4",
  "original_prompt": "Ingested from linux-6.6.14/include/scsi/scsi_transport_spi.h",
  "human_readable_source": " \n \n#ifndef SCSI_TRANSPORT_SPI_H\n#define SCSI_TRANSPORT_SPI_H\n\n#include <linux/transport_class.h>\n#include <linux/mutex.h>\n\nstruct scsi_transport_template;\nstruct scsi_target;\nstruct scsi_device;\nstruct Scsi_Host;\n\nstruct spi_transport_attrs {\n\tint period;\t\t \n\tint min_period;\n\tint offset;\n\tint max_offset;\n\tunsigned int width:1;\t \n\tunsigned int max_width:1;\n\tunsigned int iu:1;\t \n\tunsigned int max_iu:1;\n\tunsigned int dt:1;\t \n\tunsigned int qas:1;\t \n\tunsigned int max_qas:1;\n\tunsigned int wr_flow:1;\t \n\tunsigned int rd_strm:1;\t \n\tunsigned int rti:1;\t \n\tunsigned int pcomp_en:1; \n\tunsigned int hold_mcs:1; \n\tunsigned int initial_dv:1;  \n\tunsigned long flags;\t \n\t \n\tunsigned int support_sync:1;  \n\tunsigned int support_wide:1;  \n\tunsigned int support_dt:1;  \n\tunsigned int support_dt_only;  \n\tunsigned int support_ius;  \n\tunsigned int support_qas;  \n\t \n\tunsigned int dv_pending:1;  \n\tunsigned int dv_in_progress:1;\t \n\tstruct mutex dv_mutex;  \n};\n\nenum spi_signal_type {\n\tSPI_SIGNAL_UNKNOWN = 1,\n\tSPI_SIGNAL_SE,\n\tSPI_SIGNAL_LVD,\n\tSPI_SIGNAL_HVD,\n};\n\nstruct spi_host_attrs {\n\tenum spi_signal_type signalling;\n};\n\n \n#define spi_period(x)\t(((struct spi_transport_attrs *)&(x)->starget_data)->period)\n#define spi_min_period(x) (((struct spi_transport_attrs *)&(x)->starget_data)->min_period)\n#define spi_offset(x)\t(((struct spi_transport_attrs *)&(x)->starget_data)->offset)\n#define spi_max_offset(x) (((struct spi_transport_attrs *)&(x)->starget_data)->max_offset)\n#define spi_width(x)\t(((struct spi_transport_attrs *)&(x)->starget_data)->width)\n#define spi_max_width(x) (((struct spi_transport_attrs *)&(x)->starget_data)->max_width)\n#define spi_iu(x)\t(((struct spi_transport_attrs *)&(x)->starget_data)->iu)\n#define spi_max_iu(x)\t(((struct spi_transport_attrs *)&(x)->starget_data)->max_iu)\n#define spi_dt(x)\t(((struct spi_transport_attrs *)&(x)->starget_data)->dt)\n#define spi_qas(x)\t(((struct spi_transport_attrs *)&(x)->starget_data)->qas)\n#define spi_max_qas(x)\t(((struct spi_transport_attrs *)&(x)->starget_data)->max_qas)\n#define spi_wr_flow(x)\t(((struct spi_transport_attrs *)&(x)->starget_data)->wr_flow)\n#define spi_rd_strm(x)\t(((struct spi_transport_attrs *)&(x)->starget_data)->rd_strm)\n#define spi_rti(x)\t(((struct spi_transport_attrs *)&(x)->starget_data)->rti)\n#define spi_pcomp_en(x)\t(((struct spi_transport_attrs *)&(x)->starget_data)->pcomp_en)\n#define spi_hold_mcs(x)\t(((struct spi_transport_attrs *)&(x)->starget_data)->hold_mcs)\n#define spi_initial_dv(x)\t(((struct spi_transport_attrs *)&(x)->starget_data)->initial_dv)\n#define spi_dv_pending(x) (((struct spi_transport_attrs *)&(x)->starget_data)->dv_pending)\n\n#define spi_support_sync(x)\t(((struct spi_transport_attrs *)&(x)->starget_data)->support_sync)\n#define spi_support_wide(x)\t(((struct spi_transport_attrs *)&(x)->starget_data)->support_wide)\n#define spi_support_dt(x)\t(((struct spi_transport_attrs *)&(x)->starget_data)->support_dt)\n#define spi_support_dt_only(x)\t(((struct spi_transport_attrs *)&(x)->starget_data)->support_dt_only)\n#define spi_support_ius(x)\t(((struct spi_transport_attrs *)&(x)->starget_data)->support_ius)\n#define spi_support_qas(x)\t(((struct spi_transport_attrs *)&(x)->starget_data)->support_qas)\n\n#define spi_flags(x)\t(((struct spi_transport_attrs *)&(x)->starget_data)->flags)\n#define spi_signalling(h)\t(((struct spi_host_attrs *)(h)->shost_data)->signalling)\n\n\n\n \nstruct spi_function_template {\n\tvoid\t(*get_period)(struct scsi_target *);\n\tvoid\t(*set_period)(struct scsi_target *, int);\n\tvoid\t(*get_offset)(struct scsi_target *);\n\tvoid\t(*set_offset)(struct scsi_target *, int);\n\tvoid\t(*get_width)(struct scsi_target *);\n\tvoid\t(*set_width)(struct scsi_target *, int);\n\tvoid\t(*get_iu)(struct scsi_target *);\n\tvoid\t(*set_iu)(struct scsi_target *, int);\n\tvoid\t(*get_dt)(struct scsi_target *);\n\tvoid\t(*set_dt)(struct scsi_target *, int);\n\tvoid\t(*get_qas)(struct scsi_target *);\n\tvoid\t(*set_qas)(struct scsi_target *, int);\n\tvoid\t(*get_wr_flow)(struct scsi_target *);\n\tvoid\t(*set_wr_flow)(struct scsi_target *, int);\n\tvoid\t(*get_rd_strm)(struct scsi_target *);\n\tvoid\t(*set_rd_strm)(struct scsi_target *, int);\n\tvoid\t(*get_rti)(struct scsi_target *);\n\tvoid\t(*set_rti)(struct scsi_target *, int);\n\tvoid\t(*get_pcomp_en)(struct scsi_target *);\n\tvoid\t(*set_pcomp_en)(struct scsi_target *, int);\n\tvoid\t(*get_hold_mcs)(struct scsi_target *);\n\tvoid\t(*set_hold_mcs)(struct scsi_target *, int);\n\tvoid\t(*get_signalling)(struct Scsi_Host *);\n\tvoid\t(*set_signalling)(struct Scsi_Host *, enum spi_signal_type);\n\tint\t(*deny_binding)(struct scsi_target *);\n\t \n\tunsigned long\tshow_period:1;\n\tunsigned long\tshow_offset:1;\n\tunsigned long\tshow_width:1;\n\tunsigned long\tshow_iu:1;\n\tunsigned long\tshow_dt:1;\n\tunsigned long\tshow_qas:1;\n\tunsigned long\tshow_wr_flow:1;\n\tunsigned long\tshow_rd_strm:1;\n\tunsigned long\tshow_rti:1;\n\tunsigned long\tshow_pcomp_en:1;\n\tunsigned long\tshow_hold_mcs:1;\n};\n\nstruct scsi_transport_template *spi_attach_transport(struct spi_function_template *);\nvoid spi_release_transport(struct scsi_transport_template *);\nvoid spi_schedule_dv_device(struct scsi_device *);\nvoid spi_dv_device(struct scsi_device *);\nvoid spi_display_xfer_agreement(struct scsi_target *);\nint spi_print_msg(const unsigned char *);\nint spi_populate_width_msg(unsigned char *msg, int width);\nint spi_populate_sync_msg(unsigned char *msg, int period, int offset);\nint spi_populate_ppr_msg(unsigned char *msg, int period, int offset, int width,\n\t\tint options);\nint spi_populate_tag_msg(unsigned char *msg, struct scsi_cmnd *cmd);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}