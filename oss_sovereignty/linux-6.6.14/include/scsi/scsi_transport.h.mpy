{
  "module_name": "scsi_transport.h",
  "hash_id": "49fd0a18e1dba3309b5be1e278d1fe1324276730a1588962a3aef3f2e66c8313",
  "original_prompt": "Ingested from linux-6.6.14/include/scsi/scsi_transport.h",
  "human_readable_source": " \n \n#ifndef SCSI_TRANSPORT_H\n#define SCSI_TRANSPORT_H\n\n#include <linux/transport_class.h>\n#include <linux/blkdev.h>\n#include <linux/bug.h>\n#include <scsi/scsi_host.h>\n#include <scsi/scsi_device.h>\n\nstruct scsi_transport_template {\n\t \n\tstruct transport_container host_attrs;\n\tstruct transport_container target_attrs;\n\tstruct transport_container device_attrs;\n\n\t \n\tint (*user_scan)(struct Scsi_Host *, uint, uint, u64);\n\n\t \n\tint\tdevice_size;\n\tint\tdevice_private_offset;\n\tint\ttarget_size;\n\tint\ttarget_private_offset;\n\tint\thost_size;\n\t \n\n\t \n\tunsigned int create_work_queue : 1;\n\n\t \n\tvoid (* eh_strategy_handler)(struct Scsi_Host *);\n};\n\n#define transport_class_to_shost(tc) \\\n\tdev_to_shost((tc)->parent)\n\n\n \nstatic inline void\nscsi_transport_reserve_target(struct scsi_transport_template * t, int space)\n{\n\tBUG_ON(t->target_private_offset != 0);\n\tt->target_private_offset = ALIGN(t->target_size, sizeof(void *));\n\tt->target_size = t->target_private_offset + space;\n}\nstatic inline void\nscsi_transport_reserve_device(struct scsi_transport_template * t, int space)\n{\n\tBUG_ON(t->device_private_offset != 0);\n\tt->device_private_offset = ALIGN(t->device_size, sizeof(void *));\n\tt->device_size = t->device_private_offset + space;\n}\nstatic inline void *\nscsi_transport_target_data(struct scsi_target *starget)\n{\n\tstruct Scsi_Host *shost = dev_to_shost(&starget->dev);\n\treturn (u8 *)starget->starget_data\n\t\t+ shost->transportt->target_private_offset;\n\n}\nstatic inline void *\nscsi_transport_device_data(struct scsi_device *sdev)\n{\n\tstruct Scsi_Host *shost = sdev->host;\n\treturn (u8 *)sdev->sdev_data\n\t\t+ shost->transportt->device_private_offset;\n}\n\nvoid __scsi_init_queue(struct Scsi_Host *shost, struct request_queue *q);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}