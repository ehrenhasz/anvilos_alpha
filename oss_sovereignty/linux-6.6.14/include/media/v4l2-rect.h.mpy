{
  "module_name": "v4l2-rect.h",
  "hash_id": "0f79a40102d1452cc37fb2e7fdaa86eac69638eaf90cfca6f7379e1e3376c344",
  "original_prompt": "Ingested from linux-6.6.14/include/media/v4l2-rect.h",
  "human_readable_source": " \n \n\n#ifndef _V4L2_RECT_H_\n#define _V4L2_RECT_H_\n\n#include <linux/videodev2.h>\n\n \nstatic inline void v4l2_rect_set_size_to(struct v4l2_rect *r,\n\t\t\t\t\t const struct v4l2_rect *size)\n{\n\tr->width = size->width;\n\tr->height = size->height;\n}\n\n \nstatic inline void v4l2_rect_set_min_size(struct v4l2_rect *r,\n\t\t\t\t\t  const struct v4l2_rect *min_size)\n{\n\tif (r->width < min_size->width)\n\t\tr->width = min_size->width;\n\tif (r->height < min_size->height)\n\t\tr->height = min_size->height;\n}\n\n \nstatic inline void v4l2_rect_set_max_size(struct v4l2_rect *r,\n\t\t\t\t\t  const struct v4l2_rect *max_size)\n{\n\tif (r->width > max_size->width)\n\t\tr->width = max_size->width;\n\tif (r->height > max_size->height)\n\t\tr->height = max_size->height;\n}\n\n \nstatic inline void v4l2_rect_map_inside(struct v4l2_rect *r,\n\t\t\t\t\tconst struct v4l2_rect *boundary)\n{\n\tv4l2_rect_set_max_size(r, boundary);\n\tif (r->left < boundary->left)\n\t\tr->left = boundary->left;\n\tif (r->top < boundary->top)\n\t\tr->top = boundary->top;\n\tif (r->left + r->width > boundary->left + boundary->width)\n\t\tr->left = boundary->left + boundary->width - r->width;\n\tif (r->top + r->height > boundary->top + boundary->height)\n\t\tr->top = boundary->top + boundary->height - r->height;\n}\n\n \nstatic inline bool v4l2_rect_same_size(const struct v4l2_rect *r1,\n\t\t\t\t       const struct v4l2_rect *r2)\n{\n\treturn r1->width == r2->width && r1->height == r2->height;\n}\n\n \nstatic inline bool v4l2_rect_same_position(const struct v4l2_rect *r1,\n\t\t\t\t\t   const struct v4l2_rect *r2)\n{\n\treturn r1->top == r2->top && r1->left == r2->left;\n}\n\n \nstatic inline bool v4l2_rect_equal(const struct v4l2_rect *r1,\n\t\t\t\t   const struct v4l2_rect *r2)\n{\n\treturn v4l2_rect_same_size(r1, r2) && v4l2_rect_same_position(r1, r2);\n}\n\n \nstatic inline void v4l2_rect_intersect(struct v4l2_rect *r,\n\t\t\t\t       const struct v4l2_rect *r1,\n\t\t\t\t       const struct v4l2_rect *r2)\n{\n\tint right, bottom;\n\n\tr->top = max(r1->top, r2->top);\n\tr->left = max(r1->left, r2->left);\n\tbottom = min(r1->top + r1->height, r2->top + r2->height);\n\tright = min(r1->left + r1->width, r2->left + r2->width);\n\tr->height = max(0, bottom - r->top);\n\tr->width = max(0, right - r->left);\n}\n\n \nstatic inline void v4l2_rect_scale(struct v4l2_rect *r,\n\t\t\t\t   const struct v4l2_rect *from,\n\t\t\t\t   const struct v4l2_rect *to)\n{\n\tif (from->width == 0 || from->height == 0) {\n\t\tr->left = r->top = r->width = r->height = 0;\n\t\treturn;\n\t}\n\tr->left = (((r->left - from->left) * to->width) / from->width) & ~1;\n\tr->width = ((r->width * to->width) / from->width) & ~1;\n\tr->top = ((r->top - from->top) * to->height) / from->height;\n\tr->height = (r->height * to->height) / from->height;\n}\n\n \nstatic inline bool v4l2_rect_overlap(const struct v4l2_rect *r1,\n\t\t\t\t     const struct v4l2_rect *r2)\n{\n\t \n\tif (r1->left >= r2->left + r2->width ||\n\t    r2->left >= r1->left + r1->width)\n\t\treturn false;\n\t \n\tif (r1->top >= r2->top + r2->height ||\n\t    r2->top >= r1->top + r1->height)\n\t\treturn false;\n\treturn true;\n}\n\n \nstatic inline bool v4l2_rect_enclosed(struct v4l2_rect *r1,\n\t\t\t\t      struct v4l2_rect *r2)\n{\n\tif (r1->left < r2->left || r1->top < r2->top)\n\t\treturn false;\n\tif (r1->left + r1->width > r2->left + r2->width)\n\t\treturn false;\n\tif (r1->top + r1->height > r2->top + r2->height)\n\t\treturn false;\n\n\treturn true;\n}\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}