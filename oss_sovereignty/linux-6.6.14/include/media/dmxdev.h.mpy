{
  "module_name": "dmxdev.h",
  "hash_id": "530d3b9180bcecb27e2196cf7fcc202bf76bbad4521b3b4fa07743be9a42435e",
  "original_prompt": "Ingested from linux-6.6.14/include/media/dmxdev.h",
  "human_readable_source": " \n\n#ifndef _DMXDEV_H_\n#define _DMXDEV_H_\n\n#include <linux/types.h>\n#include <linux/spinlock.h>\n#include <linux/time.h>\n#include <linux/timer.h>\n#include <linux/wait.h>\n#include <linux/fs.h>\n#include <linux/string.h>\n#include <linux/mutex.h>\n#include <linux/slab.h>\n\n#include <linux/dvb/dmx.h>\n\n#include <media/dvbdev.h>\n#include <media/demux.h>\n#include <media/dvb_ringbuffer.h>\n#include <media/dvb_vb2.h>\n\n \nenum dmxdev_type {\n\tDMXDEV_TYPE_NONE,\n\tDMXDEV_TYPE_SEC,\n\tDMXDEV_TYPE_PES,\n};\n\n \nenum dmxdev_state {\n\tDMXDEV_STATE_FREE,\n\tDMXDEV_STATE_ALLOCATED,\n\tDMXDEV_STATE_SET,\n\tDMXDEV_STATE_GO,\n\tDMXDEV_STATE_DONE,\n\tDMXDEV_STATE_TIMEDOUT\n};\n\n \n\nstruct dmxdev_feed {\n\tu16 pid;\n\tstruct dmx_ts_feed *ts;\n\tstruct list_head next;\n};\n\n \nstruct dmxdev_filter {\n\tunion {\n\t\tstruct dmx_section_filter *sec;\n\t} filter;\n\n\tunion {\n\t\t \n\t\tstruct list_head ts;\n\t\tstruct dmx_section_feed *sec;\n\t} feed;\n\n\tunion {\n\t\tstruct dmx_sct_filter_params sec;\n\t\tstruct dmx_pes_filter_params pes;\n\t} params;\n\n\tenum dmxdev_type type;\n\tenum dmxdev_state state;\n\tstruct dmxdev *dev;\n\tstruct dvb_ringbuffer buffer;\n\tstruct dvb_vb2_ctx vb2_ctx;\n\n\tstruct mutex mutex;\n\n\t \n\tstruct timer_list timer;\n\tint todo;\n\tu8 secheader[3];\n};\n\n \nstruct dmxdev {\n\tstruct dvb_device *dvbdev;\n\tstruct dvb_device *dvr_dvbdev;\n\n\tstruct dmxdev_filter *filter;\n\tstruct dmx_demux *demux;\n\n\tint filternum;\n\tint capabilities;\n\n\tunsigned int may_do_mmap:1;\n\tunsigned int exit:1;\n#define DMXDEV_CAP_DUPLEX 1\n\tstruct dmx_frontend *dvr_orig_fe;\n\n\tstruct dvb_ringbuffer dvr_buffer;\n#define DVR_BUFFER_SIZE (10*188*1024)\n\n\tstruct dvb_vb2_ctx dvr_vb2_ctx;\n\n\tstruct mutex mutex;\n\tspinlock_t lock;\n};\n\n \nint dvb_dmxdev_init(struct dmxdev *dmxdev, struct dvb_adapter *adap);\n\n \nvoid dvb_dmxdev_release(struct dmxdev *dmxdev);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}