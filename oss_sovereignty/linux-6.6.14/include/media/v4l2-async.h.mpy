{
  "module_name": "v4l2-async.h",
  "hash_id": "d4a6592b3d6ca18bbc5e922494dcf29a23cc9d6d89e08f2ce0dbf8dd749bd098",
  "original_prompt": "Ingested from linux-6.6.14/include/media/v4l2-async.h",
  "human_readable_source": " \n \n\n#ifndef V4L2_ASYNC_H\n#define V4L2_ASYNC_H\n\n#include <linux/list.h>\n#include <linux/mutex.h>\n\nstruct dentry;\nstruct device;\nstruct device_node;\nstruct v4l2_device;\nstruct v4l2_subdev;\nstruct v4l2_async_notifier;\n\n \nenum v4l2_async_match_type {\n\tV4L2_ASYNC_MATCH_TYPE_I2C,\n\tV4L2_ASYNC_MATCH_TYPE_FWNODE,\n};\n\n \nstruct v4l2_async_match_desc {\n\tenum v4l2_async_match_type type;\n\tunion {\n\t\tstruct fwnode_handle *fwnode;\n\t\tstruct {\n\t\t\tint adapter_id;\n\t\t\tunsigned short address;\n\t\t} i2c;\n\t};\n};\n\n \nstruct v4l2_async_connection {\n\tstruct v4l2_async_match_desc match;\n\tstruct v4l2_async_notifier *notifier;\n\tstruct list_head asc_entry;\n\tstruct list_head asc_subdev_entry;\n\tstruct v4l2_subdev *sd;\n};\n\n \nstruct v4l2_async_notifier_operations {\n\tint (*bound)(struct v4l2_async_notifier *notifier,\n\t\t     struct v4l2_subdev *subdev,\n\t\t     struct v4l2_async_connection *asc);\n\tint (*complete)(struct v4l2_async_notifier *notifier);\n\tvoid (*unbind)(struct v4l2_async_notifier *notifier,\n\t\t       struct v4l2_subdev *subdev,\n\t\t       struct v4l2_async_connection *asc);\n\tvoid (*destroy)(struct v4l2_async_connection *asc);\n};\n\n \nstruct v4l2_async_notifier {\n\tconst struct v4l2_async_notifier_operations *ops;\n\tstruct v4l2_device *v4l2_dev;\n\tstruct v4l2_subdev *sd;\n\tstruct v4l2_async_notifier *parent;\n\tstruct list_head waiting_list;\n\tstruct list_head done_list;\n\tstruct list_head notifier_entry;\n};\n\n \nstruct v4l2_async_subdev_endpoint {\n\tstruct list_head async_subdev_endpoint_entry;\n\tstruct fwnode_handle *endpoint;\n};\n\n \nvoid v4l2_async_debug_init(struct dentry *debugfs_dir);\n\n \nvoid v4l2_async_nf_init(struct v4l2_async_notifier *notifier,\n\t\t\tstruct v4l2_device *v4l2_dev);\n\n \nvoid v4l2_async_subdev_nf_init(struct v4l2_async_notifier *notifier,\n\t\t\t       struct v4l2_subdev *sd);\n\nstruct v4l2_async_connection *\n__v4l2_async_nf_add_fwnode(struct v4l2_async_notifier *notifier,\n\t\t\t   struct fwnode_handle *fwnode,\n\t\t\t   unsigned int asc_struct_size);\n \n#define v4l2_async_nf_add_fwnode(notifier, fwnode, type)\t\t\\\n\t((type *)__v4l2_async_nf_add_fwnode(notifier, fwnode, sizeof(type)))\n\nstruct v4l2_async_connection *\n__v4l2_async_nf_add_fwnode_remote(struct v4l2_async_notifier *notif,\n\t\t\t\t  struct fwnode_handle *endpoint,\n\t\t\t\t  unsigned int asc_struct_size);\n \n#define v4l2_async_nf_add_fwnode_remote(notifier, ep, type) \\\n\t((type *)__v4l2_async_nf_add_fwnode_remote(notifier, ep, sizeof(type)))\n\nstruct v4l2_async_connection *\n__v4l2_async_nf_add_i2c(struct v4l2_async_notifier *notifier,\n\t\t\tint adapter_id, unsigned short address,\n\t\t\tunsigned int asc_struct_size);\n \n#define v4l2_async_nf_add_i2c(notifier, adapter, address, type) \\\n\t((type *)__v4l2_async_nf_add_i2c(notifier, adapter, address, \\\n\t\t\t\t\t sizeof(type)))\n\n \nint v4l2_async_subdev_endpoint_add(struct v4l2_subdev *sd,\n\t\t\t\t   struct fwnode_handle *fwnode);\n\n \nstruct v4l2_async_connection *\nv4l2_async_connection_unique(struct v4l2_subdev *sd);\n\n \nint v4l2_async_nf_register(struct v4l2_async_notifier *notifier);\n\n \nvoid v4l2_async_nf_unregister(struct v4l2_async_notifier *notifier);\n\n \nvoid v4l2_async_nf_cleanup(struct v4l2_async_notifier *notifier);\n\n \nint v4l2_async_register_subdev(struct v4l2_subdev *sd);\n\n \nint __must_check\nv4l2_async_register_subdev_sensor(struct v4l2_subdev *sd);\n\n \nvoid v4l2_async_unregister_subdev(struct v4l2_subdev *sd);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}