{
  "module_name": "cx2341x.h",
  "hash_id": "b4f71d9760e6722c53a55e165e965ea50e9eeefefb30706644e3045ab25b53dd",
  "original_prompt": "Ingested from linux-6.6.14/include/media/drv-intf/cx2341x.h",
  "human_readable_source": " \n \n\n#ifndef CX2341X_H\n#define CX2341X_H\n\n#include <media/v4l2-ctrls.h>\n\nenum cx2341x_port {\n\tCX2341X_PORT_MEMORY    = 0,\n\tCX2341X_PORT_STREAMING = 1,\n\tCX2341X_PORT_SERIAL    = 2\n};\n\nenum cx2341x_cap {\n\tCX2341X_CAP_HAS_SLICED_VBI = 1 << 0,\n\tCX2341X_CAP_HAS_TS\t   = 1 << 1,\n\tCX2341X_CAP_HAS_AC3\t   = 1 << 2,\n};\n\nstruct cx2341x_mpeg_params {\n\t \n\tu32 capabilities;\n\tenum cx2341x_port port;\n\tu16 width;\n\tu16 height;\n\tu16 is_50hz;\n\n\t \n\tenum v4l2_mpeg_stream_type stream_type;\n\tenum v4l2_mpeg_stream_vbi_fmt stream_vbi_fmt;\n\tu16 stream_insert_nav_packets;\n\n\t \n\tenum v4l2_mpeg_audio_sampling_freq audio_sampling_freq;\n\tenum v4l2_mpeg_audio_encoding audio_encoding;\n\tenum v4l2_mpeg_audio_l2_bitrate audio_l2_bitrate;\n\tenum v4l2_mpeg_audio_ac3_bitrate audio_ac3_bitrate;\n\tenum v4l2_mpeg_audio_mode audio_mode;\n\tenum v4l2_mpeg_audio_mode_extension audio_mode_extension;\n\tenum v4l2_mpeg_audio_emphasis audio_emphasis;\n\tenum v4l2_mpeg_audio_crc audio_crc;\n\tu32 audio_properties;\n\tu16 audio_mute;\n\n\t \n\tenum v4l2_mpeg_video_encoding video_encoding;\n\tenum v4l2_mpeg_video_aspect video_aspect;\n\tu16 video_b_frames;\n\tu16 video_gop_size;\n\tu16 video_gop_closure;\n\tenum v4l2_mpeg_video_bitrate_mode video_bitrate_mode;\n\tu32 video_bitrate;\n\tu32 video_bitrate_peak;\n\tu16 video_temporal_decimation;\n\tu16 video_mute;\n\tu32 video_mute_yuv;\n\n\t \n\tenum v4l2_mpeg_cx2341x_video_spatial_filter_mode video_spatial_filter_mode;\n\tu16 video_spatial_filter;\n\tenum v4l2_mpeg_cx2341x_video_luma_spatial_filter_type video_luma_spatial_filter_type;\n\tenum v4l2_mpeg_cx2341x_video_chroma_spatial_filter_type video_chroma_spatial_filter_type;\n\tenum v4l2_mpeg_cx2341x_video_temporal_filter_mode video_temporal_filter_mode;\n\tu16 video_temporal_filter;\n\tenum v4l2_mpeg_cx2341x_video_median_filter_type video_median_filter_type;\n\tu16 video_luma_median_filter_top;\n\tu16 video_luma_median_filter_bottom;\n\tu16 video_chroma_median_filter_top;\n\tu16 video_chroma_median_filter_bottom;\n};\n\n#define CX2341X_MBOX_MAX_DATA 16\n\nextern const u32 cx2341x_mpeg_ctrls[];\ntypedef int (*cx2341x_mbox_func)(void *priv, u32 cmd, int in, int out,\n\t\tu32 data[CX2341X_MBOX_MAX_DATA]);\nint cx2341x_update(void *priv, cx2341x_mbox_func func,\n\t\tconst struct cx2341x_mpeg_params *old,\n\t\tconst struct cx2341x_mpeg_params *new);\nint cx2341x_ctrl_query(const struct cx2341x_mpeg_params *params,\n\t\tstruct v4l2_queryctrl *qctrl);\nconst char * const *cx2341x_ctrl_get_menu(const struct cx2341x_mpeg_params *p, u32 id);\nint cx2341x_ext_ctrls(struct cx2341x_mpeg_params *params, int busy,\n\t\tstruct v4l2_ext_controls *ctrls, unsigned int cmd);\nvoid cx2341x_fill_defaults(struct cx2341x_mpeg_params *p);\nvoid cx2341x_log_status(const struct cx2341x_mpeg_params *p, const char *prefix);\n\nstruct cx2341x_handler;\n\nstruct cx2341x_handler_ops {\n\t \n\tint (*s_audio_sampling_freq)(struct cx2341x_handler *hdl, u32 val);\n\t \n\tint (*s_audio_mode)(struct cx2341x_handler *hdl, u32 val);\n\t \n\tint (*s_video_encoding)(struct cx2341x_handler *hdl, u32 val);\n\t \n\tint (*s_stream_vbi_fmt)(struct cx2341x_handler *hdl, u32 val);\n};\n\nstruct cx2341x_handler {\n\tu32 capabilities;\n\tenum cx2341x_port port;\n\tu16 width;\n\tu16 height;\n\tu16 is_50hz;\n\tu32 audio_properties;\n\n\tstruct v4l2_ctrl_handler hdl;\n\tvoid *priv;\n\tcx2341x_mbox_func func;\n\tconst struct cx2341x_handler_ops *ops;\n\n\tstruct v4l2_ctrl *stream_vbi_fmt;\n\n\tstruct {\n\t\t \n\t\tstruct v4l2_ctrl *audio_sampling_freq;\n\t\tstruct v4l2_ctrl *audio_encoding;\n\t\tstruct v4l2_ctrl *audio_l2_bitrate;\n\t\tstruct v4l2_ctrl *audio_mode;\n\t\tstruct v4l2_ctrl *audio_mode_extension;\n\t\tstruct v4l2_ctrl *audio_emphasis;\n\t\tstruct v4l2_ctrl *audio_crc;\n\t\tstruct v4l2_ctrl *audio_ac3_bitrate;\n\t};\n\n\tstruct {\n\t\t \n\t\tstruct v4l2_ctrl *video_b_frames;\n\t\tstruct v4l2_ctrl *video_gop_size;\n\t};\n\n\tstruct {\n\t\t \n\t\tstruct v4l2_ctrl *stream_type;\n\t\tstruct v4l2_ctrl *video_encoding;\n\t\tstruct v4l2_ctrl *video_bitrate_mode;\n\t\tstruct v4l2_ctrl *video_bitrate;\n\t\tstruct v4l2_ctrl *video_bitrate_peak;\n\t};\n\n\tstruct {\n\t\t \n\t\tstruct v4l2_ctrl *video_mute;\n\t\tstruct v4l2_ctrl *video_mute_yuv;\n\t};\n\n\tstruct {\n\t\t \n\t\tstruct v4l2_ctrl *video_spatial_filter_mode;\n\t\tstruct v4l2_ctrl *video_temporal_filter_mode;\n\t\tstruct v4l2_ctrl *video_median_filter_type;\n\t};\n\n\tstruct {\n\t\t \n\t\tstruct v4l2_ctrl *video_luma_spatial_filter_type;\n\t\tstruct v4l2_ctrl *video_chroma_spatial_filter_type;\n\t};\n\n\tstruct  {\n\t\t \n\t\tstruct v4l2_ctrl *video_spatial_filter;\n\t\tstruct v4l2_ctrl *video_temporal_filter;\n\t};\n\n\tstruct {\n\t\t \n\t\tstruct v4l2_ctrl *video_luma_median_filter_top;\n\t\tstruct v4l2_ctrl *video_luma_median_filter_bottom;\n\t\tstruct v4l2_ctrl *video_chroma_median_filter_top;\n\t\tstruct v4l2_ctrl *video_chroma_median_filter_bottom;\n\t};\n};\n\nint cx2341x_handler_init(struct cx2341x_handler *cxhdl,\n\t\t\t unsigned nr_of_controls_hint);\nvoid cx2341x_handler_set_50hz(struct cx2341x_handler *cxhdl, int is_50hz);\nint cx2341x_handler_setup(struct cx2341x_handler *cxhdl);\nvoid cx2341x_handler_set_busy(struct cx2341x_handler *cxhdl, int busy);\n\n \n#define CX2341X_FIRM_ENC_FILENAME \"v4l-cx2341x-enc.fw\"\n \n#define CX2341X_FIRM_DEC_FILENAME \"v4l-cx2341x-dec.fw\"\n\n \n\n \n#define CX2341X_DEC_PING_FW\t\t\t0x00\n#define CX2341X_DEC_START_PLAYBACK\t\t0x01\n#define CX2341X_DEC_STOP_PLAYBACK\t\t0x02\n#define CX2341X_DEC_SET_PLAYBACK_SPEED\t\t0x03\n#define CX2341X_DEC_STEP_VIDEO\t\t\t0x05\n#define CX2341X_DEC_SET_DMA_BLOCK_SIZE\t\t0x08\n#define CX2341X_DEC_GET_XFER_INFO\t\t0x09\n#define CX2341X_DEC_GET_DMA_STATUS\t\t0x0a\n#define CX2341X_DEC_SCHED_DMA_FROM_HOST\t\t0x0b\n#define CX2341X_DEC_PAUSE_PLAYBACK\t\t0x0d\n#define CX2341X_DEC_HALT_FW\t\t\t0x0e\n#define CX2341X_DEC_SET_STANDARD\t\t0x10\n#define CX2341X_DEC_GET_VERSION\t\t\t0x11\n#define CX2341X_DEC_SET_STREAM_INPUT\t\t0x14\n#define CX2341X_DEC_GET_TIMING_INFO\t\t0x15\n#define CX2341X_DEC_SET_AUDIO_MODE\t\t0x16\n#define CX2341X_DEC_SET_EVENT_NOTIFICATION\t0x17\n#define CX2341X_DEC_SET_DISPLAY_BUFFERS\t\t0x18\n#define CX2341X_DEC_EXTRACT_VBI\t\t\t0x19\n#define CX2341X_DEC_SET_DECODER_SOURCE\t\t0x1a\n#define CX2341X_DEC_SET_PREBUFFERING\t\t0x1e\n\n \n#define CX2341X_ENC_PING_FW\t\t\t0x80\n#define CX2341X_ENC_START_CAPTURE\t\t0x81\n#define CX2341X_ENC_STOP_CAPTURE\t\t0x82\n#define CX2341X_ENC_SET_AUDIO_ID\t\t0x89\n#define CX2341X_ENC_SET_VIDEO_ID\t\t0x8b\n#define CX2341X_ENC_SET_PCR_ID\t\t\t0x8d\n#define CX2341X_ENC_SET_FRAME_RATE\t\t0x8f\n#define CX2341X_ENC_SET_FRAME_SIZE\t\t0x91\n#define CX2341X_ENC_SET_BIT_RATE\t\t0x95\n#define CX2341X_ENC_SET_GOP_PROPERTIES\t\t0x97\n#define CX2341X_ENC_SET_ASPECT_RATIO\t\t0x99\n#define CX2341X_ENC_SET_DNR_FILTER_MODE\t\t0x9b\n#define CX2341X_ENC_SET_DNR_FILTER_PROPS\t0x9d\n#define CX2341X_ENC_SET_CORING_LEVELS\t\t0x9f\n#define CX2341X_ENC_SET_SPATIAL_FILTER_TYPE\t0xa1\n#define CX2341X_ENC_SET_VBI_LINE\t\t0xb7\n#define CX2341X_ENC_SET_STREAM_TYPE\t\t0xb9\n#define CX2341X_ENC_SET_OUTPUT_PORT\t\t0xbb\n#define CX2341X_ENC_SET_AUDIO_PROPERTIES\t0xbd\n#define CX2341X_ENC_HALT_FW\t\t\t0xc3\n#define CX2341X_ENC_GET_VERSION\t\t\t0xc4\n#define CX2341X_ENC_SET_GOP_CLOSURE\t\t0xc5\n#define CX2341X_ENC_GET_SEQ_END\t\t\t0xc6\n#define CX2341X_ENC_SET_PGM_INDEX_INFO\t\t0xc7\n#define CX2341X_ENC_SET_VBI_CONFIG\t\t0xc8\n#define CX2341X_ENC_SET_DMA_BLOCK_SIZE\t\t0xc9\n#define CX2341X_ENC_GET_PREV_DMA_INFO_MB_10\t0xca\n#define CX2341X_ENC_GET_PREV_DMA_INFO_MB_9\t0xcb\n#define CX2341X_ENC_SCHED_DMA_TO_HOST\t\t0xcc\n#define CX2341X_ENC_INITIALIZE_INPUT\t\t0xcd\n#define CX2341X_ENC_SET_FRAME_DROP_RATE\t\t0xd0\n#define CX2341X_ENC_PAUSE_ENCODER\t\t0xd2\n#define CX2341X_ENC_REFRESH_INPUT\t\t0xd3\n#define CX2341X_ENC_SET_COPYRIGHT\t\t0xd4\n#define CX2341X_ENC_SET_EVENT_NOTIFICATION\t0xd5\n#define CX2341X_ENC_SET_NUM_VSYNC_LINES\t\t0xd6\n#define CX2341X_ENC_SET_PLACEHOLDER\t\t0xd7\n#define CX2341X_ENC_MUTE_VIDEO\t\t\t0xd9\n#define CX2341X_ENC_MUTE_AUDIO\t\t\t0xda\n#define CX2341X_ENC_SET_VERT_CROP_LINE\t\t0xdb\n#define CX2341X_ENC_MISC\t\t\t0xdc\n\n \n#define CX2341X_OSD_GET_FRAMEBUFFER\t\t0x41\n#define CX2341X_OSD_GET_PIXEL_FORMAT\t\t0x42\n#define CX2341X_OSD_SET_PIXEL_FORMAT\t\t0x43\n#define CX2341X_OSD_GET_STATE\t\t\t0x44\n#define CX2341X_OSD_SET_STATE\t\t\t0x45\n#define CX2341X_OSD_GET_OSD_COORDS\t\t0x46\n#define CX2341X_OSD_SET_OSD_COORDS\t\t0x47\n#define CX2341X_OSD_GET_SCREEN_COORDS\t\t0x48\n#define CX2341X_OSD_SET_SCREEN_COORDS\t\t0x49\n#define CX2341X_OSD_GET_GLOBAL_ALPHA\t\t0x4a\n#define CX2341X_OSD_SET_GLOBAL_ALPHA\t\t0x4b\n#define CX2341X_OSD_SET_BLEND_COORDS\t\t0x4c\n#define CX2341X_OSD_GET_FLICKER_STATE\t\t0x4f\n#define CX2341X_OSD_SET_FLICKER_STATE\t\t0x50\n#define CX2341X_OSD_BLT_COPY\t\t\t0x52\n#define CX2341X_OSD_BLT_FILL\t\t\t0x53\n#define CX2341X_OSD_BLT_TEXT\t\t\t0x54\n#define CX2341X_OSD_SET_FRAMEBUFFER_WINDOW\t0x56\n#define CX2341X_OSD_SET_CHROMA_KEY\t\t0x60\n#define CX2341X_OSD_GET_ALPHA_CONTENT_INDEX\t0x61\n#define CX2341X_OSD_SET_ALPHA_CONTENT_INDEX\t0x62\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}