{
  "module_name": "saa7146_vv.h",
  "hash_id": "b8146df16c3d6357b5ff34b454d76a56c8ae71bc9ef4b0cc3e389571515fca35",
  "original_prompt": "Ingested from linux-6.6.14/include/media/drv-intf/saa7146_vv.h",
  "human_readable_source": " \n#ifndef __SAA7146_VV__\n#define __SAA7146_VV__\n\n#include <media/v4l2-common.h>\n#include <media/v4l2-ioctl.h>\n#include <media/v4l2-fh.h>\n#include <media/drv-intf/saa7146.h>\n#include <media/videobuf2-dma-sg.h>\n\n#define MAX_SAA7146_CAPTURE_BUFFERS\t32\t \n#define BUFFER_TIMEOUT     (HZ/2)   \n\n#define WRITE_RPS0(x) do { \\\n\tdev->d_rps0.cpu_addr[ count++ ] = cpu_to_le32(x); \\\n\t} while (0);\n\n#define WRITE_RPS1(x) do { \\\n\tdev->d_rps1.cpu_addr[ count++ ] = cpu_to_le32(x); \\\n\t} while (0);\n\nstruct\tsaa7146_video_dma {\n\tu32 base_odd;\n\tu32 base_even;\n\tu32 prot_addr;\n\tu32 pitch;\n\tu32 base_page;\n\tu32 num_line_byte;\n};\n\n#define FORMAT_BYTE_SWAP\t0x1\n#define FORMAT_IS_PLANAR\t0x2\n\nstruct saa7146_format {\n\tu32\tpixelformat;\n\tu32\ttrans;\n\tu8\tdepth;\n\tu8\tflags;\n\tu8\tswap;\n};\n\nstruct saa7146_standard\n{\n\tchar          *name;\n\tv4l2_std_id   id;\n\n\tint v_offset;\t \n\tint v_field;\t \n\n\tint h_offset;\t \n\tint h_pixels;\t \n\n\tint v_max_out;\n\tint h_max_out;\n};\n\n \nstruct saa7146_buf {\n\t \n\tstruct vb2_v4l2_buffer vb;\n\tstruct list_head list;\n\n\t \n\tint (*activate)(struct saa7146_dev *dev,\n\t\t\tstruct saa7146_buf *buf,\n\t\t\tstruct saa7146_buf *next);\n\n\t \n\tstruct saa7146_pgtable  pt[3];\n};\n\nstruct saa7146_dmaqueue {\n\tstruct saa7146_dev\t*dev;\n\tstruct saa7146_buf\t*curr;\n\tstruct list_head\tqueue;\n\tstruct timer_list\ttimeout;\n\tstruct vb2_queue\tq;\n};\n\nstruct saa7146_vv\n{\n\t \n\tstruct saa7146_dmaqueue\t\tvbi_dmaq;\n\tstruct v4l2_vbi_format\t\tvbi_fmt;\n\tstruct timer_list\t\tvbi_read_timeout;\n\t \n\twait_queue_head_t\t\tvbi_wq;\n\n\t \n\tstruct saa7146_dmaqueue\t\tvideo_dmaq;\n\tstruct v4l2_pix_format\t\tvideo_fmt;\n\tenum v4l2_field\t\t\tlast_field;\n\tu32\t\t\t\tseqnr;\n\n\t \n\tstruct saa7146_standard\t*standard;\n\n\tint\tvflip;\n\tint\thflip;\n\tint\tcurrent_hps_source;\n\tint\tcurrent_hps_sync;\n\n\tunsigned int resources;  \n};\n\n \n#define SAA7146_USE_PORT_B_FOR_VBI\t0x2      \n\nstruct saa7146_ext_vv\n{\n\t \n\tint\tinputs;\n\tint\taudios;\n\tu32\tcapabilities;\n\tint\tflags;\n\n\t \n\tstruct saa7146_standard *stds;\n\tint num_stds;\n\tint (*std_callback)(struct saa7146_dev*, struct saa7146_standard *);\n\n\t \n\tstruct v4l2_ioctl_ops vid_ops;\n\tstruct v4l2_ioctl_ops vbi_ops;\n\t \n\tconst struct v4l2_ioctl_ops *core_ops;\n\n\tstruct v4l2_file_operations vbi_fops;\n};\n\nstruct saa7146_use_ops  {\n\tvoid (*init)(struct saa7146_dev *, struct saa7146_vv *);\n\tvoid (*irq_done)(struct saa7146_dev *, unsigned long status);\n};\n\n \nint saa7146_register_device(struct video_device *vid, struct saa7146_dev *dev, char *name, int type);\nint saa7146_unregister_device(struct video_device *vid, struct saa7146_dev *dev);\nvoid saa7146_buffer_finish(struct saa7146_dev *dev, struct saa7146_dmaqueue *q, int state);\nvoid saa7146_buffer_next(struct saa7146_dev *dev, struct saa7146_dmaqueue *q,int vbi);\nint saa7146_buffer_queue(struct saa7146_dev *dev, struct saa7146_dmaqueue *q, struct saa7146_buf *buf);\nvoid saa7146_buffer_timeout(struct timer_list *t);\n\nint saa7146_vv_init(struct saa7146_dev* dev, struct saa7146_ext_vv *ext_vv);\nint saa7146_vv_release(struct saa7146_dev* dev);\n\n \nvoid saa7146_set_capture(struct saa7146_dev *dev, struct saa7146_buf *buf, struct saa7146_buf *next);\nvoid saa7146_write_out_dma(struct saa7146_dev* dev, int which, struct saa7146_video_dma* vdma) ;\nvoid saa7146_set_hps_source_and_sync(struct saa7146_dev *saa, int source, int sync);\nvoid saa7146_set_gpio(struct saa7146_dev *saa, u8 pin, u8 data);\n\n \nextern const struct v4l2_ioctl_ops saa7146_video_ioctl_ops;\nextern const struct v4l2_ioctl_ops saa7146_vbi_ioctl_ops;\nextern const struct saa7146_use_ops saa7146_video_uops;\nextern const struct vb2_ops video_qops;\nlong saa7146_video_do_ioctl(struct file *file, unsigned int cmd, void *arg);\nint saa7146_s_ctrl(struct v4l2_ctrl *ctrl);\n\n \nextern const struct saa7146_use_ops saa7146_vbi_uops;\nextern const struct vb2_ops vbi_qops;\n\n \nint saa7146_res_get(struct saa7146_dev *dev, unsigned int bit);\nvoid saa7146_res_free(struct saa7146_dev *dev, unsigned int bits);\n\n#define RESOURCE_DMA1_HPS\t0x1\n#define RESOURCE_DMA2_CLP\t0x2\n#define RESOURCE_DMA3_BRS\t0x4\n\n \n#define SAA7146_HPS_SOURCE_PORT_A\t0x00\n#define SAA7146_HPS_SOURCE_PORT_B\t0x01\n#define SAA7146_HPS_SOURCE_YPB_CPA\t0x02\n#define SAA7146_HPS_SOURCE_YPA_CPB\t0x03\n\n \n#define SAA7146_HPS_SYNC_PORT_A\t\t0x00\n#define SAA7146_HPS_SYNC_PORT_B\t\t0x01\n\n \n \n#define SAA7146_CLIPPING_MEM\t(16 * 4 * sizeof(u32))\n\n \n#define SAA7146_CLIPPING_RECT\t\t0x4\n#define SAA7146_CLIPPING_RECT_INVERTED\t0x5\n#define SAA7146_CLIPPING_MASK\t\t0x6\n#define SAA7146_CLIPPING_MASK_INVERTED\t0x7\n\n \n#define RGB08_COMPOSED\t0x0217  \n \n#define RGB15_COMPOSED\t0x0213\n#define RGB16_COMPOSED\t0x0210\n#define RGB24_COMPOSED\t0x0201\n#define RGB32_COMPOSED\t0x0202\n\n#define Y8\t\t\t0x0006\n#define YUV411_COMPOSED\t\t0x0003\n#define YUV422_COMPOSED\t\t0x0000\n \n#define YUV411_DECOMPOSED\t0x100b\n#define YUV422_DECOMPOSED\t0x1009\n#define YUV420_DECOMPOSED\t0x100a\n\n#define IS_PLANAR(x) (x & 0xf000)\n\n \n#define SAA7146_NO_SWAP\t\t(0x0)\n#define SAA7146_TWO_BYTE_SWAP\t(0x1)\n#define SAA7146_FOUR_BYTE_SWAP\t(0x2)\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}