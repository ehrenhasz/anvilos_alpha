{
  "module_name": "media-devnode.h",
  "hash_id": "043fb5421068d057b53598a3821ab1cd2ff645a38a17b1a8ebbfd888166bc5ad",
  "original_prompt": "Ingested from linux-6.6.14/include/media/media-devnode.h",
  "human_readable_source": " \n \n\n#ifndef _MEDIA_DEVNODE_H\n#define _MEDIA_DEVNODE_H\n\n#include <linux/poll.h>\n#include <linux/fs.h>\n#include <linux/device.h>\n#include <linux/cdev.h>\n\nstruct media_device;\n\n \n#define MEDIA_FLAG_REGISTERED\t0\n\n \nstruct media_file_operations {\n\tstruct module *owner;\n\tssize_t (*read) (struct file *, char __user *, size_t, loff_t *);\n\tssize_t (*write) (struct file *, const char __user *, size_t, loff_t *);\n\t__poll_t (*poll) (struct file *, struct poll_table_struct *);\n\tlong (*ioctl) (struct file *, unsigned int, unsigned long);\n\tlong (*compat_ioctl) (struct file *, unsigned int, unsigned long);\n\tint (*open) (struct file *);\n\tint (*release) (struct file *);\n};\n\n \nstruct media_devnode {\n\tstruct media_device *media_dev;\n\n\t \n\tconst struct media_file_operations *fops;\n\n\t \n\tstruct device dev;\t\t \n\tstruct cdev cdev;\t\t \n\tstruct device *parent;\t\t \n\n\t \n\tint minor;\n\tunsigned long flags;\t\t \n\n\t \n\tvoid (*release)(struct media_devnode *devnode);\n};\n\n \n#define to_media_devnode(cd) container_of(cd, struct media_devnode, dev)\n\n \nint __must_check media_devnode_register(struct media_device *mdev,\n\t\t\t\t\tstruct media_devnode *devnode,\n\t\t\t\t\tstruct module *owner);\n\n \nvoid media_devnode_unregister_prepare(struct media_devnode *devnode);\n\n \nvoid media_devnode_unregister(struct media_devnode *devnode);\n\n \nstatic inline struct media_devnode *media_devnode_data(struct file *filp)\n{\n\treturn filp->private_data;\n}\n\n \nstatic inline int media_devnode_is_registered(struct media_devnode *devnode)\n{\n\tif (!devnode)\n\t\treturn false;\n\n\treturn test_bit(MEDIA_FLAG_REGISTERED, &devnode->flags);\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}