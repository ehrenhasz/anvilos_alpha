{
  "module_name": "test.h",
  "hash_id": "537ecc0a7dfc3a88f8bf08539d402d49dc6cb0f074c1c69e811b8981113b162b",
  "original_prompt": "Ingested from linux-6.6.14/include/kunit/test.h",
  "human_readable_source": " \n \n\n#ifndef _KUNIT_TEST_H\n#define _KUNIT_TEST_H\n\n#include <kunit/assert.h>\n#include <kunit/try-catch.h>\n\n#include <linux/args.h>\n#include <linux/compiler.h>\n#include <linux/container_of.h>\n#include <linux/err.h>\n#include <linux/init.h>\n#include <linux/jump_label.h>\n#include <linux/kconfig.h>\n#include <linux/kref.h>\n#include <linux/list.h>\n#include <linux/module.h>\n#include <linux/slab.h>\n#include <linux/spinlock.h>\n#include <linux/string.h>\n#include <linux/types.h>\n\n#include <asm/rwonce.h>\n\n \nDECLARE_STATIC_KEY_FALSE(kunit_running);\n\nstruct kunit;\n\n \n#define KUNIT_LOG_SIZE 2048\n\n \n#define KUNIT_PARAM_DESC_SIZE 128\n\n \n#define KUNIT_STATUS_COMMENT_SIZE 256\n\n \n#define KUNIT_INDENT_LEN\t\t4\n#define KUNIT_SUBTEST_INDENT\t\t\"    \"\n#define KUNIT_SUBSUBTEST_INDENT\t\t\"        \"\n\n \nenum kunit_status {\n\tKUNIT_SUCCESS,\n\tKUNIT_FAILURE,\n\tKUNIT_SKIPPED,\n};\n\n \n\n \nenum kunit_speed {\n\tKUNIT_SPEED_UNSET,\n\tKUNIT_SPEED_VERY_SLOW,\n\tKUNIT_SPEED_SLOW,\n\tKUNIT_SPEED_NORMAL,\n\tKUNIT_SPEED_MAX = KUNIT_SPEED_NORMAL,\n};\n\n \nstruct kunit_attributes {\n\tenum kunit_speed speed;\n};\n\n \nstruct kunit_case {\n\tvoid (*run_case)(struct kunit *test);\n\tconst char *name;\n\tconst void* (*generate_params)(const void *prev, char *desc);\n\tstruct kunit_attributes attr;\n\n\t \n\tenum kunit_status status;\n\tchar *module_name;\n\tchar *log;\n};\n\nstatic inline char *kunit_status_to_ok_not_ok(enum kunit_status status)\n{\n\tswitch (status) {\n\tcase KUNIT_SKIPPED:\n\tcase KUNIT_SUCCESS:\n\t\treturn \"ok\";\n\tcase KUNIT_FAILURE:\n\t\treturn \"not ok\";\n\t}\n\treturn \"invalid\";\n}\n\n \n#define KUNIT_CASE(test_name)\t\t\t\\\n\t\t{ .run_case = test_name, .name = #test_name,\t\\\n\t\t  .module_name = KBUILD_MODNAME}\n\n \n#define KUNIT_CASE_ATTR(test_name, attributes)\t\t\t\\\n\t\t{ .run_case = test_name, .name = #test_name,\t\\\n\t\t  .attr = attributes, .module_name = KBUILD_MODNAME}\n\n \n\n#define KUNIT_CASE_SLOW(test_name)\t\t\t\\\n\t\t{ .run_case = test_name, .name = #test_name,\t\\\n\t\t  .attr.speed = KUNIT_SPEED_SLOW, .module_name = KBUILD_MODNAME}\n\n \n#define KUNIT_CASE_PARAM(test_name, gen_params)\t\t\t\\\n\t\t{ .run_case = test_name, .name = #test_name,\t\\\n\t\t  .generate_params = gen_params, .module_name = KBUILD_MODNAME}\n\n \n#define KUNIT_CASE_PARAM_ATTR(test_name, gen_params, attributes)\t\\\n\t\t{ .run_case = test_name, .name = #test_name,\t\\\n\t\t  .generate_params = gen_params,\t\t\t\t\\\n\t\t  .attr = attributes, .module_name = KBUILD_MODNAME}\n\n \nstruct kunit_suite {\n\tconst char name[256];\n\tint (*suite_init)(struct kunit_suite *suite);\n\tvoid (*suite_exit)(struct kunit_suite *suite);\n\tint (*init)(struct kunit *test);\n\tvoid (*exit)(struct kunit *test);\n\tstruct kunit_case *test_cases;\n\tstruct kunit_attributes attr;\n\n\t \n\tchar status_comment[KUNIT_STATUS_COMMENT_SIZE];\n\tstruct dentry *debugfs;\n\tchar *log;\n\tint suite_init_err;\n};\n\n \nstruct kunit_suite_set {\n\tstruct kunit_suite * const *start;\n\tstruct kunit_suite * const *end;\n};\n\n \nstruct kunit {\n\tvoid *priv;\n\n\t \n\tconst char *name;  \n\tchar *log;  \n\tstruct kunit_try_catch try_catch;\n\t \n\tconst void *param_value;\n\t \n\tint param_index;\n\t \n\tspinlock_t lock;  \n\tenum kunit_status status;  \n\t \n\tstruct list_head resources;  \n\n\tchar status_comment[KUNIT_STATUS_COMMENT_SIZE];\n};\n\nstatic inline void kunit_set_failure(struct kunit *test)\n{\n\tWRITE_ONCE(test->status, KUNIT_FAILURE);\n}\n\nbool kunit_enabled(void);\nconst char *kunit_action(void);\nconst char *kunit_filter_glob(void);\nchar *kunit_filter(void);\nchar *kunit_filter_action(void);\n\nvoid kunit_init_test(struct kunit *test, const char *name, char *log);\n\nint kunit_run_tests(struct kunit_suite *suite);\n\nsize_t kunit_suite_num_test_cases(struct kunit_suite *suite);\n\nunsigned int kunit_test_case_num(struct kunit_suite *suite,\n\t\t\t\t struct kunit_case *test_case);\n\nstruct kunit_suite_set\nkunit_filter_suites(const struct kunit_suite_set *suite_set,\n\t\t    const char *filter_glob,\n\t\t    char *filters,\n\t\t    char *filter_action,\n\t\t    int *err);\nvoid kunit_free_suite_set(struct kunit_suite_set suite_set);\n\nint __kunit_test_suites_init(struct kunit_suite * const * const suites, int num_suites);\n\nvoid __kunit_test_suites_exit(struct kunit_suite **suites, int num_suites);\n\nvoid kunit_exec_run_tests(struct kunit_suite_set *suite_set, bool builtin);\nvoid kunit_exec_list_tests(struct kunit_suite_set *suite_set, bool include_attr);\n\n#if IS_BUILTIN(CONFIG_KUNIT)\nint kunit_run_all_tests(void);\n#else\nstatic inline int kunit_run_all_tests(void)\n{\n\treturn 0;\n}\n#endif  \n\n#define __kunit_test_suites(unique_array, ...)\t\t\t\t       \\\n\tstatic struct kunit_suite *unique_array[]\t\t\t       \\\n\t__aligned(sizeof(struct kunit_suite *))\t\t\t\t       \\\n\t__used __section(\".kunit_test_suites\") = { __VA_ARGS__ }\n\n \n#define kunit_test_suites(__suites...)\t\t\t\t\t\t\\\n\t__kunit_test_suites(__UNIQUE_ID(array),\t\t\t\t\\\n\t\t\t    ##__suites)\n\n#define kunit_test_suite(suite)\tkunit_test_suites(&suite)\n\n \n#define kunit_test_init_section_suites(__suites...)\t\t\t\\\n\t__kunit_test_suites(CONCATENATE(__UNIQUE_ID(array), _probe),\t\\\n\t\t\t    ##__suites)\n\n#define kunit_test_init_section_suite(suite)\t\\\n\tkunit_test_init_section_suites(&suite)\n\n#define kunit_suite_for_each_test_case(suite, test_case)\t\t\\\n\tfor (test_case = suite->test_cases; test_case->run_case; test_case++)\n\nenum kunit_status kunit_suite_has_succeeded(struct kunit_suite *suite);\n\n \nvoid *kunit_kmalloc_array(struct kunit *test, size_t n, size_t size, gfp_t gfp);\n\n \nstatic inline void *kunit_kmalloc(struct kunit *test, size_t size, gfp_t gfp)\n{\n\treturn kunit_kmalloc_array(test, 1, size, gfp);\n}\n\n \nvoid kunit_kfree(struct kunit *test, const void *ptr);\n\n \nstatic inline void *kunit_kzalloc(struct kunit *test, size_t size, gfp_t gfp)\n{\n\treturn kunit_kmalloc(test, size, gfp | __GFP_ZERO);\n}\n\n \nstatic inline void *kunit_kcalloc(struct kunit *test, size_t n, size_t size, gfp_t gfp)\n{\n\treturn kunit_kmalloc_array(test, n, size, gfp | __GFP_ZERO);\n}\n\nvoid kunit_cleanup(struct kunit *test);\n\nvoid __printf(2, 3) kunit_log_append(char *log, const char *fmt, ...);\n\n \n#define kunit_mark_skipped(test_or_suite, fmt, ...)\t\t\t\\\n\tdo {\t\t\t\t\t\t\t\t\\\n\t\tWRITE_ONCE((test_or_suite)->status, KUNIT_SKIPPED);\t\\\n\t\tscnprintf((test_or_suite)->status_comment,\t\t\\\n\t\t\t  KUNIT_STATUS_COMMENT_SIZE,\t\t\t\\\n\t\t\t  fmt, ##__VA_ARGS__);\t\t\t\t\\\n\t} while (0)\n\n \n#define kunit_skip(test_or_suite, fmt, ...)\t\t\t\t\\\n\tdo {\t\t\t\t\t\t\t\t\\\n\t\tkunit_mark_skipped((test_or_suite), fmt, ##__VA_ARGS__);\\\n\t\tkunit_try_catch_throw(&((test_or_suite)->try_catch));\t\\\n\t} while (0)\n\n \n#define kunit_log(lvl, test_or_suite, fmt, ...)\t\t\t\t\\\n\tdo {\t\t\t\t\t\t\t\t\\\n\t\tprintk(lvl fmt, ##__VA_ARGS__);\t\t\t\t\\\n\t\tkunit_log_append((test_or_suite)->log,\tfmt,\t\t\\\n\t\t\t\t ##__VA_ARGS__);\t\t\t\\\n\t} while (0)\n\n#define kunit_printk(lvl, test, fmt, ...)\t\t\t\t\\\n\tkunit_log(lvl, test, KUNIT_SUBTEST_INDENT \"# %s: \" fmt,\t\t\\\n\t\t  (test)->name,\t##__VA_ARGS__)\n\n \n#define kunit_info(test, fmt, ...) \\\n\tkunit_printk(KERN_INFO, test, fmt, ##__VA_ARGS__)\n\n \n#define kunit_warn(test, fmt, ...) \\\n\tkunit_printk(KERN_WARNING, test, fmt, ##__VA_ARGS__)\n\n \n#define kunit_err(test, fmt, ...) \\\n\tkunit_printk(KERN_ERR, test, fmt, ##__VA_ARGS__)\n\n \n#define KUNIT_SUCCEED(test) do {} while (0)\n\nvoid __noreturn __kunit_abort(struct kunit *test);\n\nvoid __kunit_do_failed_assertion(struct kunit *test,\n\t\t\t       const struct kunit_loc *loc,\n\t\t\t       enum kunit_assert_type type,\n\t\t\t       const struct kunit_assert *assert,\n\t\t\t       assert_format_t assert_format,\n\t\t\t       const char *fmt, ...);\n\n#define _KUNIT_FAILED(test, assert_type, assert_class, assert_format, INITIALIZER, fmt, ...) do { \\\n\tstatic const struct kunit_loc __loc = KUNIT_CURRENT_LOC;\t       \\\n\tconst struct assert_class __assertion = INITIALIZER;\t\t       \\\n\t__kunit_do_failed_assertion(test,\t\t\t\t       \\\n\t\t\t\t    &__loc,\t\t\t\t       \\\n\t\t\t\t    assert_type,\t\t\t       \\\n\t\t\t\t    &__assertion.assert,\t\t       \\\n\t\t\t\t    assert_format,\t\t\t       \\\n\t\t\t\t    fmt,\t\t\t\t       \\\n\t\t\t\t    ##__VA_ARGS__);\t\t\t       \\\n\tif (assert_type == KUNIT_ASSERTION)\t\t\t\t       \\\n\t\t__kunit_abort(test);\t\t\t\t\t       \\\n} while (0)\n\n\n#define KUNIT_FAIL_ASSERTION(test, assert_type, fmt, ...)\t\t       \\\n\t_KUNIT_FAILED(test,\t\t\t\t\t\t       \\\n\t\t      assert_type,\t\t\t\t\t       \\\n\t\t      kunit_fail_assert,\t\t\t\t       \\\n\t\t      kunit_fail_assert_format,\t\t\t\t       \\\n\t\t      {},\t\t\t\t\t\t       \\\n\t\t      fmt,\t\t\t\t\t\t       \\\n\t\t      ##__VA_ARGS__)\n\n \n#define KUNIT_FAIL(test, fmt, ...)\t\t\t\t\t       \\\n\tKUNIT_FAIL_ASSERTION(test,\t\t\t\t\t       \\\n\t\t\t     KUNIT_EXPECTATION,\t\t\t\t       \\\n\t\t\t     fmt,\t\t\t\t\t       \\\n\t\t\t     ##__VA_ARGS__)\n\n \n#define KUNIT_INIT_ASSERT(initializers...) { initializers }\n\n#define KUNIT_UNARY_ASSERTION(test,\t\t\t\t\t       \\\n\t\t\t      assert_type,\t\t\t\t       \\\n\t\t\t      condition_,\t\t\t\t       \\\n\t\t\t      expected_true_,\t\t\t\t       \\\n\t\t\t      fmt,\t\t\t\t\t       \\\n\t\t\t      ...)\t\t\t\t\t       \\\ndo {\t\t\t\t\t\t\t\t\t       \\\n\tif (likely(!!(condition_) == !!expected_true_))\t\t\t       \\\n\t\tbreak;\t\t\t\t\t\t\t       \\\n\t\t\t\t\t\t\t\t\t       \\\n\t_KUNIT_FAILED(test,\t\t\t\t\t\t       \\\n\t\t      assert_type,\t\t\t\t\t       \\\n\t\t      kunit_unary_assert,\t\t\t\t       \\\n\t\t      kunit_unary_assert_format,\t\t\t       \\\n\t\t      KUNIT_INIT_ASSERT(.condition = #condition_,\t       \\\n\t\t\t\t\t.expected_true = expected_true_),      \\\n\t\t      fmt,\t\t\t\t\t\t       \\\n\t\t      ##__VA_ARGS__);\t\t\t\t\t       \\\n} while (0)\n\n#define KUNIT_TRUE_MSG_ASSERTION(test, assert_type, condition, fmt, ...)       \\\n\tKUNIT_UNARY_ASSERTION(test,\t\t\t\t\t       \\\n\t\t\t      assert_type,\t\t\t\t       \\\n\t\t\t      condition,\t\t\t\t       \\\n\t\t\t      true,\t\t\t\t\t       \\\n\t\t\t      fmt,\t\t\t\t\t       \\\n\t\t\t      ##__VA_ARGS__)\n\n#define KUNIT_FALSE_MSG_ASSERTION(test, assert_type, condition, fmt, ...)      \\\n\tKUNIT_UNARY_ASSERTION(test,\t\t\t\t\t       \\\n\t\t\t      assert_type,\t\t\t\t       \\\n\t\t\t      condition,\t\t\t\t       \\\n\t\t\t      false,\t\t\t\t\t       \\\n\t\t\t      fmt,\t\t\t\t\t       \\\n\t\t\t      ##__VA_ARGS__)\n\n \n#define KUNIT_BASE_BINARY_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t    assert_class,\t\t\t       \\\n\t\t\t\t    format_func,\t\t\t       \\\n\t\t\t\t    assert_type,\t\t\t       \\\n\t\t\t\t    left,\t\t\t\t       \\\n\t\t\t\t    op,\t\t\t\t\t       \\\n\t\t\t\t    right,\t\t\t\t       \\\n\t\t\t\t    fmt,\t\t\t\t       \\\n\t\t\t\t    ...)\t\t\t\t       \\\ndo {\t\t\t\t\t\t\t\t\t       \\\n\tconst typeof(left) __left = (left);\t\t\t\t       \\\n\tconst typeof(right) __right = (right);\t\t\t\t       \\\n\tstatic const struct kunit_binary_assert_text __text = {\t\t       \\\n\t\t.operation = #op,\t\t\t\t\t       \\\n\t\t.left_text = #left,\t\t\t\t\t       \\\n\t\t.right_text = #right,\t\t\t\t\t       \\\n\t};\t\t\t\t\t\t\t\t       \\\n\t\t\t\t\t\t\t\t\t       \\\n\tif (likely(__left op __right))\t\t\t\t\t       \\\n\t\tbreak;\t\t\t\t\t\t\t       \\\n\t\t\t\t\t\t\t\t\t       \\\n\t_KUNIT_FAILED(test,\t\t\t\t\t\t       \\\n\t\t      assert_type,\t\t\t\t\t       \\\n\t\t      assert_class,\t\t\t\t\t       \\\n\t\t      format_func,\t\t\t\t\t       \\\n\t\t      KUNIT_INIT_ASSERT(.text = &__text,\t\t       \\\n\t\t\t\t\t.left_value = __left,\t\t       \\\n\t\t\t\t\t.right_value = __right),\t       \\\n\t\t      fmt,\t\t\t\t\t\t       \\\n\t\t      ##__VA_ARGS__);\t\t\t\t\t       \\\n} while (0)\n\n#define KUNIT_BINARY_INT_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   assert_type,\t\t\t\t       \\\n\t\t\t\t   left,\t\t\t\t       \\\n\t\t\t\t   op,\t\t\t\t\t       \\\n\t\t\t\t   right,\t\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t    ...)\t\t\t\t       \\\n\tKUNIT_BASE_BINARY_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t    kunit_binary_assert,\t\t       \\\n\t\t\t\t    kunit_binary_assert_format,\t\t       \\\n\t\t\t\t    assert_type,\t\t\t       \\\n\t\t\t\t    left, op, right,\t\t\t       \\\n\t\t\t\t    fmt,\t\t\t\t       \\\n\t\t\t\t    ##__VA_ARGS__)\n\n#define KUNIT_BINARY_PTR_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   assert_type,\t\t\t\t       \\\n\t\t\t\t   left,\t\t\t\t       \\\n\t\t\t\t   op,\t\t\t\t\t       \\\n\t\t\t\t   right,\t\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t    ...)\t\t\t\t       \\\n\tKUNIT_BASE_BINARY_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t    kunit_binary_ptr_assert,\t\t       \\\n\t\t\t\t    kunit_binary_ptr_assert_format,\t       \\\n\t\t\t\t    assert_type,\t\t\t       \\\n\t\t\t\t    left, op, right,\t\t\t       \\\n\t\t\t\t    fmt,\t\t\t\t       \\\n\t\t\t\t    ##__VA_ARGS__)\n\n#define KUNIT_BINARY_STR_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   assert_type,\t\t\t\t       \\\n\t\t\t\t   left,\t\t\t\t       \\\n\t\t\t\t   op,\t\t\t\t\t       \\\n\t\t\t\t   right,\t\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t   ...)\t\t\t\t\t       \\\ndo {\t\t\t\t\t\t\t\t\t       \\\n\tconst char *__left = (left);\t\t\t\t\t       \\\n\tconst char *__right = (right);\t\t\t\t\t       \\\n\tstatic const struct kunit_binary_assert_text __text = {\t\t       \\\n\t\t.operation = #op,\t\t\t\t\t       \\\n\t\t.left_text = #left,\t\t\t\t\t       \\\n\t\t.right_text = #right,\t\t\t\t\t       \\\n\t};\t\t\t\t\t\t\t\t       \\\n\t\t\t\t\t\t\t\t\t       \\\n\tif (likely(strcmp(__left, __right) op 0))\t\t\t       \\\n\t\tbreak;\t\t\t\t\t\t\t       \\\n\t\t\t\t\t\t\t\t\t       \\\n\t\t\t\t\t\t\t\t\t       \\\n\t_KUNIT_FAILED(test,\t\t\t\t\t\t       \\\n\t\t      assert_type,\t\t\t\t\t       \\\n\t\t      kunit_binary_str_assert,\t\t\t\t       \\\n\t\t      kunit_binary_str_assert_format,\t\t\t       \\\n\t\t      KUNIT_INIT_ASSERT(.text = &__text,\t\t       \\\n\t\t\t\t\t.left_value = __left,\t\t       \\\n\t\t\t\t\t.right_value = __right),\t       \\\n\t\t      fmt,\t\t\t\t\t\t       \\\n\t\t      ##__VA_ARGS__);\t\t\t\t\t       \\\n} while (0)\n\n#define KUNIT_MEM_ASSERTION(test,\t\t\t\t\t       \\\n\t\t\t    assert_type,\t\t\t\t       \\\n\t\t\t    left,\t\t\t\t\t       \\\n\t\t\t    op,\t\t\t\t\t\t       \\\n\t\t\t    right,\t\t\t\t\t       \\\n\t\t\t    size_,\t\t\t\t\t       \\\n\t\t\t    fmt,\t\t\t\t\t       \\\n\t\t\t    ...)\t\t\t\t\t       \\\ndo {\t\t\t\t\t\t\t\t\t       \\\n\tconst void *__left = (left);\t\t\t\t\t       \\\n\tconst void *__right = (right);\t\t\t\t\t       \\\n\tconst size_t __size = (size_);\t\t\t\t\t       \\\n\tstatic const struct kunit_binary_assert_text __text = {\t\t       \\\n\t\t.operation = #op,\t\t\t\t\t       \\\n\t\t.left_text = #left,\t\t\t\t\t       \\\n\t\t.right_text = #right,\t\t\t\t\t       \\\n\t};\t\t\t\t\t\t\t\t       \\\n\t\t\t\t\t\t\t\t\t       \\\n\tif (likely(__left && __right))\t\t\t\t\t       \\\n\t\tif (likely(memcmp(__left, __right, __size) op 0))\t       \\\n\t\t\tbreak;\t\t\t\t\t\t       \\\n\t\t\t\t\t\t\t\t\t       \\\n\t_KUNIT_FAILED(test,\t\t\t\t\t\t       \\\n\t\t      assert_type,\t\t\t\t\t       \\\n\t\t      kunit_mem_assert,\t\t\t\t\t       \\\n\t\t      kunit_mem_assert_format,\t\t\t\t       \\\n\t\t      KUNIT_INIT_ASSERT(.text = &__text,\t\t       \\\n\t\t\t\t\t.left_value = __left,\t\t       \\\n\t\t\t\t\t.right_value = __right,\t\t       \\\n\t\t\t\t\t.size = __size),\t\t       \\\n\t\t      fmt,\t\t\t\t\t\t       \\\n\t\t      ##__VA_ARGS__);\t\t\t\t\t       \\\n} while (0)\n\n#define KUNIT_PTR_NOT_ERR_OR_NULL_MSG_ASSERTION(test,\t\t\t       \\\n\t\t\t\t\t\tassert_type,\t\t       \\\n\t\t\t\t\t\tptr,\t\t\t       \\\n\t\t\t\t\t\tfmt,\t\t\t       \\\n\t\t\t\t\t\t...)\t\t\t       \\\ndo {\t\t\t\t\t\t\t\t\t       \\\n\tconst typeof(ptr) __ptr = (ptr);\t\t\t\t       \\\n\t\t\t\t\t\t\t\t\t       \\\n\tif (!IS_ERR_OR_NULL(__ptr))\t\t\t\t\t       \\\n\t\tbreak;\t\t\t\t\t\t\t       \\\n\t\t\t\t\t\t\t\t\t       \\\n\t_KUNIT_FAILED(test,\t\t\t\t\t\t       \\\n\t\t      assert_type,\t\t\t\t\t       \\\n\t\t      kunit_ptr_not_err_assert,\t\t\t\t       \\\n\t\t      kunit_ptr_not_err_assert_format,\t\t\t       \\\n\t\t      KUNIT_INIT_ASSERT(.text = #ptr, .value = __ptr),\t       \\\n\t\t      fmt,\t\t\t\t\t\t       \\\n\t\t      ##__VA_ARGS__);\t\t\t\t\t       \\\n} while (0)\n\n \n#define KUNIT_EXPECT_TRUE(test, condition) \\\n\tKUNIT_EXPECT_TRUE_MSG(test, condition, NULL)\n\n#define KUNIT_EXPECT_TRUE_MSG(test, condition, fmt, ...)\t\t       \\\n\tKUNIT_TRUE_MSG_ASSERTION(test,\t\t\t\t\t       \\\n\t\t\t\t KUNIT_EXPECTATION,\t\t\t       \\\n\t\t\t\t condition,\t\t\t\t       \\\n\t\t\t\t fmt,\t\t\t\t\t       \\\n\t\t\t\t ##__VA_ARGS__)\n\n \n#define KUNIT_EXPECT_FALSE(test, condition) \\\n\tKUNIT_EXPECT_FALSE_MSG(test, condition, NULL)\n\n#define KUNIT_EXPECT_FALSE_MSG(test, condition, fmt, ...)\t\t       \\\n\tKUNIT_FALSE_MSG_ASSERTION(test,\t\t\t\t\t       \\\n\t\t\t\t  KUNIT_EXPECTATION,\t\t\t       \\\n\t\t\t\t  condition,\t\t\t\t       \\\n\t\t\t\t  fmt,\t\t\t\t\t       \\\n\t\t\t\t  ##__VA_ARGS__)\n\n \n#define KUNIT_EXPECT_EQ(test, left, right) \\\n\tKUNIT_EXPECT_EQ_MSG(test, left, right, NULL)\n\n#define KUNIT_EXPECT_EQ_MSG(test, left, right, fmt, ...)\t\t       \\\n\tKUNIT_BINARY_INT_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_EXPECTATION,\t\t\t       \\\n\t\t\t\t   left, ==, right,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t    ##__VA_ARGS__)\n\n \n#define KUNIT_EXPECT_PTR_EQ(test, left, right)\t\t\t\t       \\\n\tKUNIT_EXPECT_PTR_EQ_MSG(test, left, right, NULL)\n\n#define KUNIT_EXPECT_PTR_EQ_MSG(test, left, right, fmt, ...)\t\t       \\\n\tKUNIT_BINARY_PTR_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_EXPECTATION,\t\t\t       \\\n\t\t\t\t   left, ==, right,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t   ##__VA_ARGS__)\n\n \n#define KUNIT_EXPECT_NE(test, left, right) \\\n\tKUNIT_EXPECT_NE_MSG(test, left, right, NULL)\n\n#define KUNIT_EXPECT_NE_MSG(test, left, right, fmt, ...)\t\t       \\\n\tKUNIT_BINARY_INT_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_EXPECTATION,\t\t\t       \\\n\t\t\t\t   left, !=, right,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t    ##__VA_ARGS__)\n\n \n#define KUNIT_EXPECT_PTR_NE(test, left, right)\t\t\t\t       \\\n\tKUNIT_EXPECT_PTR_NE_MSG(test, left, right, NULL)\n\n#define KUNIT_EXPECT_PTR_NE_MSG(test, left, right, fmt, ...)\t\t       \\\n\tKUNIT_BINARY_PTR_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_EXPECTATION,\t\t\t       \\\n\t\t\t\t   left, !=, right,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t   ##__VA_ARGS__)\n\n \n#define KUNIT_EXPECT_LT(test, left, right) \\\n\tKUNIT_EXPECT_LT_MSG(test, left, right, NULL)\n\n#define KUNIT_EXPECT_LT_MSG(test, left, right, fmt, ...)\t\t       \\\n\tKUNIT_BINARY_INT_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_EXPECTATION,\t\t\t       \\\n\t\t\t\t   left, <, right,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t    ##__VA_ARGS__)\n\n \n#define KUNIT_EXPECT_LE(test, left, right) \\\n\tKUNIT_EXPECT_LE_MSG(test, left, right, NULL)\n\n#define KUNIT_EXPECT_LE_MSG(test, left, right, fmt, ...)\t\t       \\\n\tKUNIT_BINARY_INT_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_EXPECTATION,\t\t\t       \\\n\t\t\t\t   left, <=, right,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t    ##__VA_ARGS__)\n\n \n#define KUNIT_EXPECT_GT(test, left, right) \\\n\tKUNIT_EXPECT_GT_MSG(test, left, right, NULL)\n\n#define KUNIT_EXPECT_GT_MSG(test, left, right, fmt, ...)\t\t       \\\n\tKUNIT_BINARY_INT_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_EXPECTATION,\t\t\t       \\\n\t\t\t\t   left, >, right,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t    ##__VA_ARGS__)\n\n \n#define KUNIT_EXPECT_GE(test, left, right) \\\n\tKUNIT_EXPECT_GE_MSG(test, left, right, NULL)\n\n#define KUNIT_EXPECT_GE_MSG(test, left, right, fmt, ...)\t\t       \\\n\tKUNIT_BINARY_INT_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_EXPECTATION,\t\t\t       \\\n\t\t\t\t   left, >=, right,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t    ##__VA_ARGS__)\n\n \n#define KUNIT_EXPECT_STREQ(test, left, right) \\\n\tKUNIT_EXPECT_STREQ_MSG(test, left, right, NULL)\n\n#define KUNIT_EXPECT_STREQ_MSG(test, left, right, fmt, ...)\t\t       \\\n\tKUNIT_BINARY_STR_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_EXPECTATION,\t\t\t       \\\n\t\t\t\t   left, ==, right,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t   ##__VA_ARGS__)\n\n \n#define KUNIT_EXPECT_STRNEQ(test, left, right) \\\n\tKUNIT_EXPECT_STRNEQ_MSG(test, left, right, NULL)\n\n#define KUNIT_EXPECT_STRNEQ_MSG(test, left, right, fmt, ...)\t\t       \\\n\tKUNIT_BINARY_STR_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_EXPECTATION,\t\t\t       \\\n\t\t\t\t   left, !=, right,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t   ##__VA_ARGS__)\n\n \n#define KUNIT_EXPECT_MEMEQ(test, left, right, size) \\\n\tKUNIT_EXPECT_MEMEQ_MSG(test, left, right, size, NULL)\n\n#define KUNIT_EXPECT_MEMEQ_MSG(test, left, right, size, fmt, ...)\t       \\\n\tKUNIT_MEM_ASSERTION(test,\t\t\t\t\t       \\\n\t\t\t    KUNIT_EXPECTATION,\t\t\t\t       \\\n\t\t\t    left, ==, right,\t\t\t\t       \\\n\t\t\t    size,\t\t\t\t\t       \\\n\t\t\t    fmt,\t\t\t\t\t       \\\n\t\t\t    ##__VA_ARGS__)\n\n \n#define KUNIT_EXPECT_MEMNEQ(test, left, right, size) \\\n\tKUNIT_EXPECT_MEMNEQ_MSG(test, left, right, size, NULL)\n\n#define KUNIT_EXPECT_MEMNEQ_MSG(test, left, right, size, fmt, ...)\t       \\\n\tKUNIT_MEM_ASSERTION(test,\t\t\t\t\t       \\\n\t\t\t    KUNIT_EXPECTATION,\t\t\t\t       \\\n\t\t\t    left, !=, right,\t\t\t\t       \\\n\t\t\t    size,\t\t\t\t\t       \\\n\t\t\t    fmt,\t\t\t\t\t       \\\n\t\t\t    ##__VA_ARGS__)\n\n \n#define KUNIT_EXPECT_NULL(test, ptr)\t\t\t\t               \\\n\tKUNIT_EXPECT_NULL_MSG(test,\t\t\t\t\t       \\\n\t\t\t      ptr,\t\t\t\t\t       \\\n\t\t\t      NULL)\n\n#define KUNIT_EXPECT_NULL_MSG(test, ptr, fmt, ...)\t                       \\\n\tKUNIT_BINARY_PTR_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_EXPECTATION,\t\t\t       \\\n\t\t\t\t   ptr, ==, NULL,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t   ##__VA_ARGS__)\n\n \n#define KUNIT_EXPECT_NOT_NULL(test, ptr)\t\t\t               \\\n\tKUNIT_EXPECT_NOT_NULL_MSG(test,\t\t\t\t\t       \\\n\t\t\t\t  ptr,\t\t\t\t\t       \\\n\t\t\t\t  NULL)\n\n#define KUNIT_EXPECT_NOT_NULL_MSG(test, ptr, fmt, ...)\t                       \\\n\tKUNIT_BINARY_PTR_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_EXPECTATION,\t\t\t       \\\n\t\t\t\t   ptr, !=, NULL,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t   ##__VA_ARGS__)\n\n \n#define KUNIT_EXPECT_NOT_ERR_OR_NULL(test, ptr) \\\n\tKUNIT_EXPECT_NOT_ERR_OR_NULL_MSG(test, ptr, NULL)\n\n#define KUNIT_EXPECT_NOT_ERR_OR_NULL_MSG(test, ptr, fmt, ...)\t\t       \\\n\tKUNIT_PTR_NOT_ERR_OR_NULL_MSG_ASSERTION(test,\t\t\t       \\\n\t\t\t\t\t\tKUNIT_EXPECTATION,\t       \\\n\t\t\t\t\t\tptr,\t\t\t       \\\n\t\t\t\t\t\tfmt,\t\t\t       \\\n\t\t\t\t\t\t##__VA_ARGS__)\n\n#define KUNIT_ASSERT_FAILURE(test, fmt, ...) \\\n\tKUNIT_FAIL_ASSERTION(test, KUNIT_ASSERTION, fmt, ##__VA_ARGS__)\n\n \n#define KUNIT_ASSERT_TRUE(test, condition) \\\n\tKUNIT_ASSERT_TRUE_MSG(test, condition, NULL)\n\n#define KUNIT_ASSERT_TRUE_MSG(test, condition, fmt, ...)\t\t       \\\n\tKUNIT_TRUE_MSG_ASSERTION(test,\t\t\t\t\t       \\\n\t\t\t\t KUNIT_ASSERTION,\t\t\t       \\\n\t\t\t\t condition,\t\t\t\t       \\\n\t\t\t\t fmt,\t\t\t\t\t       \\\n\t\t\t\t ##__VA_ARGS__)\n\n \n#define KUNIT_ASSERT_FALSE(test, condition) \\\n\tKUNIT_ASSERT_FALSE_MSG(test, condition, NULL)\n\n#define KUNIT_ASSERT_FALSE_MSG(test, condition, fmt, ...)\t\t       \\\n\tKUNIT_FALSE_MSG_ASSERTION(test,\t\t\t\t\t       \\\n\t\t\t\t  KUNIT_ASSERTION,\t\t\t       \\\n\t\t\t\t  condition,\t\t\t\t       \\\n\t\t\t\t  fmt,\t\t\t\t\t       \\\n\t\t\t\t  ##__VA_ARGS__)\n\n \n#define KUNIT_ASSERT_EQ(test, left, right) \\\n\tKUNIT_ASSERT_EQ_MSG(test, left, right, NULL)\n\n#define KUNIT_ASSERT_EQ_MSG(test, left, right, fmt, ...)\t\t       \\\n\tKUNIT_BINARY_INT_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_ASSERTION,\t\t\t       \\\n\t\t\t\t   left, ==, right,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t    ##__VA_ARGS__)\n\n \n#define KUNIT_ASSERT_PTR_EQ(test, left, right) \\\n\tKUNIT_ASSERT_PTR_EQ_MSG(test, left, right, NULL)\n\n#define KUNIT_ASSERT_PTR_EQ_MSG(test, left, right, fmt, ...)\t\t       \\\n\tKUNIT_BINARY_PTR_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_ASSERTION,\t\t\t       \\\n\t\t\t\t   left, ==, right,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t   ##__VA_ARGS__)\n\n \n#define KUNIT_ASSERT_NE(test, left, right) \\\n\tKUNIT_ASSERT_NE_MSG(test, left, right, NULL)\n\n#define KUNIT_ASSERT_NE_MSG(test, left, right, fmt, ...)\t\t       \\\n\tKUNIT_BINARY_INT_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_ASSERTION,\t\t\t       \\\n\t\t\t\t   left, !=, right,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t    ##__VA_ARGS__)\n\n \n#define KUNIT_ASSERT_PTR_NE(test, left, right) \\\n\tKUNIT_ASSERT_PTR_NE_MSG(test, left, right, NULL)\n\n#define KUNIT_ASSERT_PTR_NE_MSG(test, left, right, fmt, ...)\t\t       \\\n\tKUNIT_BINARY_PTR_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_ASSERTION,\t\t\t       \\\n\t\t\t\t   left, !=, right,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t   ##__VA_ARGS__)\n \n#define KUNIT_ASSERT_LT(test, left, right) \\\n\tKUNIT_ASSERT_LT_MSG(test, left, right, NULL)\n\n#define KUNIT_ASSERT_LT_MSG(test, left, right, fmt, ...)\t\t       \\\n\tKUNIT_BINARY_INT_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_ASSERTION,\t\t\t       \\\n\t\t\t\t   left, <, right,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t    ##__VA_ARGS__)\n \n#define KUNIT_ASSERT_LE(test, left, right) \\\n\tKUNIT_ASSERT_LE_MSG(test, left, right, NULL)\n\n#define KUNIT_ASSERT_LE_MSG(test, left, right, fmt, ...)\t\t       \\\n\tKUNIT_BINARY_INT_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_ASSERTION,\t\t\t       \\\n\t\t\t\t   left, <=, right,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t    ##__VA_ARGS__)\n\n \n#define KUNIT_ASSERT_GT(test, left, right) \\\n\tKUNIT_ASSERT_GT_MSG(test, left, right, NULL)\n\n#define KUNIT_ASSERT_GT_MSG(test, left, right, fmt, ...)\t\t       \\\n\tKUNIT_BINARY_INT_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_ASSERTION,\t\t\t       \\\n\t\t\t\t   left, >, right,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t    ##__VA_ARGS__)\n\n \n#define KUNIT_ASSERT_GE(test, left, right) \\\n\tKUNIT_ASSERT_GE_MSG(test, left, right, NULL)\n\n#define KUNIT_ASSERT_GE_MSG(test, left, right, fmt, ...)\t\t       \\\n\tKUNIT_BINARY_INT_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_ASSERTION,\t\t\t       \\\n\t\t\t\t   left, >=, right,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t    ##__VA_ARGS__)\n\n \n#define KUNIT_ASSERT_STREQ(test, left, right) \\\n\tKUNIT_ASSERT_STREQ_MSG(test, left, right, NULL)\n\n#define KUNIT_ASSERT_STREQ_MSG(test, left, right, fmt, ...)\t\t       \\\n\tKUNIT_BINARY_STR_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_ASSERTION,\t\t\t       \\\n\t\t\t\t   left, ==, right,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t   ##__VA_ARGS__)\n\n \n#define KUNIT_ASSERT_STRNEQ(test, left, right) \\\n\tKUNIT_ASSERT_STRNEQ_MSG(test, left, right, NULL)\n\n#define KUNIT_ASSERT_STRNEQ_MSG(test, left, right, fmt, ...)\t\t       \\\n\tKUNIT_BINARY_STR_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_ASSERTION,\t\t\t       \\\n\t\t\t\t   left, !=, right,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t   ##__VA_ARGS__)\n\n \n#define KUNIT_ASSERT_NULL(test, ptr) \\\n\tKUNIT_ASSERT_NULL_MSG(test,\t\t\t\t\t       \\\n\t\t\t      ptr,\t\t\t\t\t       \\\n\t\t\t      NULL)\n\n#define KUNIT_ASSERT_NULL_MSG(test, ptr, fmt, ...) \\\n\tKUNIT_BINARY_PTR_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_ASSERTION,\t\t\t       \\\n\t\t\t\t   ptr, ==, NULL,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t   ##__VA_ARGS__)\n\n \n#define KUNIT_ASSERT_NOT_NULL(test, ptr) \\\n\tKUNIT_ASSERT_NOT_NULL_MSG(test,\t\t\t\t\t       \\\n\t\t\t\t  ptr,\t\t\t\t\t       \\\n\t\t\t\t  NULL)\n\n#define KUNIT_ASSERT_NOT_NULL_MSG(test, ptr, fmt, ...) \\\n\tKUNIT_BINARY_PTR_ASSERTION(test,\t\t\t\t       \\\n\t\t\t\t   KUNIT_ASSERTION,\t\t\t       \\\n\t\t\t\t   ptr, !=, NULL,\t\t\t       \\\n\t\t\t\t   fmt,\t\t\t\t\t       \\\n\t\t\t\t   ##__VA_ARGS__)\n\n \n#define KUNIT_ASSERT_NOT_ERR_OR_NULL(test, ptr) \\\n\tKUNIT_ASSERT_NOT_ERR_OR_NULL_MSG(test, ptr, NULL)\n\n#define KUNIT_ASSERT_NOT_ERR_OR_NULL_MSG(test, ptr, fmt, ...)\t\t       \\\n\tKUNIT_PTR_NOT_ERR_OR_NULL_MSG_ASSERTION(test,\t\t\t       \\\n\t\t\t\t\t\tKUNIT_ASSERTION,\t       \\\n\t\t\t\t\t\tptr,\t\t\t       \\\n\t\t\t\t\t\tfmt,\t\t\t       \\\n\t\t\t\t\t\t##__VA_ARGS__)\n\n \n#define KUNIT_ARRAY_PARAM(name, array, get_desc)\t\t\t\t\t\t\\\n\tstatic const void *name##_gen_params(const void *prev, char *desc)\t\t\t\\\n\t{\t\t\t\t\t\t\t\t\t\t\t\\\n\t\ttypeof((array)[0]) *__next = prev ? ((typeof(__next)) prev) + 1 : (array);\t\\\n\t\tif (__next - (array) < ARRAY_SIZE((array))) {\t\t\t\t\t\\\n\t\t\tvoid (*__get_desc)(typeof(__next), char *) = get_desc;\t\t\t\\\n\t\t\tif (__get_desc)\t\t\t\t\t\t\t\t\\\n\t\t\t\t__get_desc(__next, desc);\t\t\t\t\t\\\n\t\t\treturn __next;\t\t\t\t\t\t\t\t\\\n\t\t}\t\t\t\t\t\t\t\t\t\t\\\n\t\treturn NULL;\t\t\t\t\t\t\t\t\t\\\n\t}\n\n\n\n#include <kunit/resource.h>\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}