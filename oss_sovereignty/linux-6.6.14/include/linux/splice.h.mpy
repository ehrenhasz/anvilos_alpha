{
  "module_name": "splice.h",
  "hash_id": "005e07786e28ffc7baafc30d04cb7aae6d0ba62122bd0ec018ef3cca3cb7bf5e",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/splice.h",
  "human_readable_source": " \n \n#ifndef SPLICE_H\n#define SPLICE_H\n\n#include <linux/pipe_fs_i.h>\n\n \n#define SPLICE_F_MOVE\t(0x01)\t \n#define SPLICE_F_NONBLOCK (0x02)  \n\t\t\t\t  \n\t\t\t\t  \n#define SPLICE_F_MORE\t(0x04)\t \n#define SPLICE_F_GIFT\t(0x08)\t \n\n#define SPLICE_F_ALL (SPLICE_F_MOVE|SPLICE_F_NONBLOCK|SPLICE_F_MORE|SPLICE_F_GIFT)\n\n \nstruct splice_desc {\n\tsize_t total_len;\t\t \n\tunsigned int len;\t\t \n\tunsigned int flags;\t\t \n\t \n\tunion {\n\t\tvoid __user *userptr;\t \n\t\tstruct file *file;\t \n\t\tvoid *data;\t\t \n\t} u;\n\tvoid (*splice_eof)(struct splice_desc *sd);  \n\tloff_t pos;\t\t\t \n\tloff_t *opos;\t\t\t \n\tsize_t num_spliced;\t\t \n\tbool need_wakeup;\t\t \n};\n\nstruct partial_page {\n\tunsigned int offset;\n\tunsigned int len;\n\tunsigned long private;\n};\n\n \nstruct splice_pipe_desc {\n\tstruct page **pages;\t\t \n\tstruct partial_page *partial;\t \n\tint nr_pages;\t\t\t \n\tunsigned int nr_pages_max;\t \n\tconst struct pipe_buf_operations *ops; \n\tvoid (*spd_release)(struct splice_pipe_desc *, unsigned int);\n};\n\ntypedef int (splice_actor)(struct pipe_inode_info *, struct pipe_buffer *,\n\t\t\t   struct splice_desc *);\ntypedef int (splice_direct_actor)(struct pipe_inode_info *,\n\t\t\t\t  struct splice_desc *);\n\nextern ssize_t splice_from_pipe(struct pipe_inode_info *, struct file *,\n\t\t\t\tloff_t *, size_t, unsigned int,\n\t\t\t\tsplice_actor *);\nextern ssize_t __splice_from_pipe(struct pipe_inode_info *,\n\t\t\t\t  struct splice_desc *, splice_actor *);\nextern ssize_t splice_to_pipe(struct pipe_inode_info *,\n\t\t\t      struct splice_pipe_desc *);\nextern ssize_t add_to_pipe(struct pipe_inode_info *,\n\t\t\t      struct pipe_buffer *);\nlong vfs_splice_read(struct file *in, loff_t *ppos,\n\t\t     struct pipe_inode_info *pipe, size_t len,\n\t\t     unsigned int flags);\nextern ssize_t splice_direct_to_actor(struct file *, struct splice_desc *,\n\t\t\t\t      splice_direct_actor *);\nextern long do_splice(struct file *in, loff_t *off_in,\n\t\t      struct file *out, loff_t *off_out,\n\t\t      size_t len, unsigned int flags);\n\nextern long do_tee(struct file *in, struct file *out, size_t len,\n\t\t   unsigned int flags);\nextern ssize_t splice_to_socket(struct pipe_inode_info *pipe, struct file *out,\n\t\t\t\tloff_t *ppos, size_t len, unsigned int flags);\n\n \nextern int splice_grow_spd(const struct pipe_inode_info *, struct splice_pipe_desc *);\nextern void splice_shrink_spd(struct splice_pipe_desc *);\n\nextern const struct pipe_buf_operations page_cache_pipe_buf_ops;\nextern const struct pipe_buf_operations default_pipe_buf_ops;\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}