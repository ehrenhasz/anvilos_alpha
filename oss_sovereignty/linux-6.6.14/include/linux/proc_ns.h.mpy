{
  "module_name": "proc_ns.h",
  "hash_id": "37daaa0b03b9773d358fbad1ffd0decb3e14d1c6a9d428b7f4a1784272cc867a",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/proc_ns.h",
  "human_readable_source": " \n \n#ifndef _LINUX_PROC_NS_H\n#define _LINUX_PROC_NS_H\n\n#include <linux/ns_common.h>\n\nstruct pid_namespace;\nstruct nsset;\nstruct path;\nstruct task_struct;\nstruct inode;\n\nstruct proc_ns_operations {\n\tconst char *name;\n\tconst char *real_ns_name;\n\tint type;\n\tstruct ns_common *(*get)(struct task_struct *task);\n\tvoid (*put)(struct ns_common *ns);\n\tint (*install)(struct nsset *nsset, struct ns_common *ns);\n\tstruct user_namespace *(*owner)(struct ns_common *ns);\n\tstruct ns_common *(*get_parent)(struct ns_common *ns);\n} __randomize_layout;\n\nextern const struct proc_ns_operations netns_operations;\nextern const struct proc_ns_operations utsns_operations;\nextern const struct proc_ns_operations ipcns_operations;\nextern const struct proc_ns_operations pidns_operations;\nextern const struct proc_ns_operations pidns_for_children_operations;\nextern const struct proc_ns_operations userns_operations;\nextern const struct proc_ns_operations mntns_operations;\nextern const struct proc_ns_operations cgroupns_operations;\nextern const struct proc_ns_operations timens_operations;\nextern const struct proc_ns_operations timens_for_children_operations;\n\n \nenum {\n\tPROC_ROOT_INO\t\t= 1,\n\tPROC_IPC_INIT_INO\t= 0xEFFFFFFFU,\n\tPROC_UTS_INIT_INO\t= 0xEFFFFFFEU,\n\tPROC_USER_INIT_INO\t= 0xEFFFFFFDU,\n\tPROC_PID_INIT_INO\t= 0xEFFFFFFCU,\n\tPROC_CGROUP_INIT_INO\t= 0xEFFFFFFBU,\n\tPROC_TIME_INIT_INO\t= 0xEFFFFFFAU,\n};\n\n#ifdef CONFIG_PROC_FS\n\nextern int proc_alloc_inum(unsigned int *pino);\nextern void proc_free_inum(unsigned int inum);\n\n#else  \n\nstatic inline int proc_alloc_inum(unsigned int *inum)\n{\n\t*inum = 1;\n\treturn 0;\n}\nstatic inline void proc_free_inum(unsigned int inum) {}\n\n#endif  \n\nstatic inline int ns_alloc_inum(struct ns_common *ns)\n{\n\tatomic_long_set(&ns->stashed, 0);\n\treturn proc_alloc_inum(&ns->inum);\n}\n\n#define ns_free_inum(ns) proc_free_inum((ns)->inum)\n\n#define get_proc_ns(inode) ((struct ns_common *)(inode)->i_private)\nextern int ns_get_path(struct path *path, struct task_struct *task,\n\t\t\tconst struct proc_ns_operations *ns_ops);\ntypedef struct ns_common *ns_get_path_helper_t(void *);\nextern int ns_get_path_cb(struct path *path, ns_get_path_helper_t ns_get_cb,\n\t\t\t    void *private_data);\n\nextern bool ns_match(const struct ns_common *ns, dev_t dev, ino_t ino);\n\nextern int ns_get_name(char *buf, size_t size, struct task_struct *task,\n\t\t\tconst struct proc_ns_operations *ns_ops);\nextern void nsfs_init(void);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}