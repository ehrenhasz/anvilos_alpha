{
  "module_name": "page_counter.h",
  "hash_id": "63d518859b8f44468994d2949d0910fb7670fa09fd5031809a1e91c1455074df",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/page_counter.h",
  "human_readable_source": " \n#ifndef _LINUX_PAGE_COUNTER_H\n#define _LINUX_PAGE_COUNTER_H\n\n#include <linux/atomic.h>\n#include <linux/cache.h>\n#include <linux/kernel.h>\n#include <asm/page.h>\n\nstruct page_counter {\n\t \n\tatomic_long_t usage;\n\tCACHELINE_PADDING(_pad1_);\n\n\t \n\tunsigned long emin;\n\tatomic_long_t min_usage;\n\tatomic_long_t children_min_usage;\n\n\t \n\tunsigned long elow;\n\tatomic_long_t low_usage;\n\tatomic_long_t children_low_usage;\n\n\tunsigned long watermark;\n\tunsigned long failcnt;\n\n\t \n\tCACHELINE_PADDING(_pad2_);\n\n\tunsigned long min;\n\tunsigned long low;\n\tunsigned long high;\n\tunsigned long max;\n\tstruct page_counter *parent;\n} ____cacheline_internodealigned_in_smp;\n\n#if BITS_PER_LONG == 32\n#define PAGE_COUNTER_MAX LONG_MAX\n#else\n#define PAGE_COUNTER_MAX (LONG_MAX / PAGE_SIZE)\n#endif\n\nstatic inline void page_counter_init(struct page_counter *counter,\n\t\t\t\t     struct page_counter *parent)\n{\n\tatomic_long_set(&counter->usage, 0);\n\tcounter->max = PAGE_COUNTER_MAX;\n\tcounter->parent = parent;\n}\n\nstatic inline unsigned long page_counter_read(struct page_counter *counter)\n{\n\treturn atomic_long_read(&counter->usage);\n}\n\nvoid page_counter_cancel(struct page_counter *counter, unsigned long nr_pages);\nvoid page_counter_charge(struct page_counter *counter, unsigned long nr_pages);\nbool page_counter_try_charge(struct page_counter *counter,\n\t\t\t     unsigned long nr_pages,\n\t\t\t     struct page_counter **fail);\nvoid page_counter_uncharge(struct page_counter *counter, unsigned long nr_pages);\nvoid page_counter_set_min(struct page_counter *counter, unsigned long nr_pages);\nvoid page_counter_set_low(struct page_counter *counter, unsigned long nr_pages);\n\nstatic inline void page_counter_set_high(struct page_counter *counter,\n\t\t\t\t\t unsigned long nr_pages)\n{\n\tWRITE_ONCE(counter->high, nr_pages);\n}\n\nint page_counter_set_max(struct page_counter *counter, unsigned long nr_pages);\nint page_counter_memparse(const char *buf, const char *max,\n\t\t\t  unsigned long *nr_pages);\n\nstatic inline void page_counter_reset_watermark(struct page_counter *counter)\n{\n\tcounter->watermark = page_counter_read(counter);\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}