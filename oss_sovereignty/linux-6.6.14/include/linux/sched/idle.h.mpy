{
  "module_name": "idle.h",
  "hash_id": "c4099d7dc85bb8f00cb4c94dc926f2b20aaa69ca34139e8e3e9a80b235597282",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/sched/idle.h",
  "human_readable_source": " \n#ifndef _LINUX_SCHED_IDLE_H\n#define _LINUX_SCHED_IDLE_H\n\n#include <linux/sched.h>\n\nenum cpu_idle_type {\n\tCPU_IDLE,\n\tCPU_NOT_IDLE,\n\tCPU_NEWLY_IDLE,\n\tCPU_MAX_IDLE_TYPES\n};\n\n#ifdef CONFIG_SMP\nextern void wake_up_if_idle(int cpu);\n#else\nstatic inline void wake_up_if_idle(int cpu) { }\n#endif\n\n \n#ifdef TIF_POLLING_NRFLAG\n\n#ifdef _ASM_GENERIC_BITOPS_INSTRUMENTED_ATOMIC_H\n\nstatic __always_inline void __current_set_polling(void)\n{\n\tarch_set_bit(TIF_POLLING_NRFLAG,\n\t\t     (unsigned long *)(&current_thread_info()->flags));\n}\n\nstatic __always_inline void __current_clr_polling(void)\n{\n\tarch_clear_bit(TIF_POLLING_NRFLAG,\n\t\t       (unsigned long *)(&current_thread_info()->flags));\n}\n\n#else\n\nstatic __always_inline void __current_set_polling(void)\n{\n\tset_bit(TIF_POLLING_NRFLAG,\n\t\t(unsigned long *)(&current_thread_info()->flags));\n}\n\nstatic __always_inline void __current_clr_polling(void)\n{\n\tclear_bit(TIF_POLLING_NRFLAG,\n\t\t  (unsigned long *)(&current_thread_info()->flags));\n}\n\n#endif  \n\nstatic __always_inline bool __must_check current_set_polling_and_test(void)\n{\n\t__current_set_polling();\n\n\t \n\tsmp_mb__after_atomic();\n\n\treturn unlikely(tif_need_resched());\n}\n\nstatic __always_inline bool __must_check current_clr_polling_and_test(void)\n{\n\t__current_clr_polling();\n\n\t \n\tsmp_mb__after_atomic();\n\n\treturn unlikely(tif_need_resched());\n}\n\n#else\nstatic inline void __current_set_polling(void) { }\nstatic inline void __current_clr_polling(void) { }\n\nstatic inline bool __must_check current_set_polling_and_test(void)\n{\n\treturn unlikely(tif_need_resched());\n}\nstatic inline bool __must_check current_clr_polling_and_test(void)\n{\n\treturn unlikely(tif_need_resched());\n}\n#endif\n\nstatic __always_inline void current_clr_polling(void)\n{\n\t__current_clr_polling();\n\n\t \n\tsmp_mb();  \n\n\tpreempt_fold_need_resched();\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}