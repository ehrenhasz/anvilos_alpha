{
  "module_name": "isolation.h",
  "hash_id": "8f0fc0ab3218a3ae716828282e92e87c7a0e1c6bc303ba24f16fcc033b5729a3",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/sched/isolation.h",
  "human_readable_source": "#ifndef _LINUX_SCHED_ISOLATION_H\n#define _LINUX_SCHED_ISOLATION_H\n\n#include <linux/cpumask.h>\n#include <linux/init.h>\n#include <linux/tick.h>\n\nenum hk_type {\n\tHK_TYPE_TIMER,\n\tHK_TYPE_RCU,\n\tHK_TYPE_MISC,\n\tHK_TYPE_SCHED,\n\tHK_TYPE_TICK,\n\tHK_TYPE_DOMAIN,\n\tHK_TYPE_WQ,\n\tHK_TYPE_MANAGED_IRQ,\n\tHK_TYPE_KTHREAD,\n\tHK_TYPE_MAX\n};\n\n#ifdef CONFIG_CPU_ISOLATION\nDECLARE_STATIC_KEY_FALSE(housekeeping_overridden);\nextern int housekeeping_any_cpu(enum hk_type type);\nextern const struct cpumask *housekeeping_cpumask(enum hk_type type);\nextern bool housekeeping_enabled(enum hk_type type);\nextern void housekeeping_affine(struct task_struct *t, enum hk_type type);\nextern bool housekeeping_test_cpu(int cpu, enum hk_type type);\nextern void __init housekeeping_init(void);\n\n#else\n\nstatic inline int housekeeping_any_cpu(enum hk_type type)\n{\n\treturn smp_processor_id();\n}\n\nstatic inline const struct cpumask *housekeeping_cpumask(enum hk_type type)\n{\n\treturn cpu_possible_mask;\n}\n\nstatic inline bool housekeeping_enabled(enum hk_type type)\n{\n\treturn false;\n}\n\nstatic inline void housekeeping_affine(struct task_struct *t,\n\t\t\t\t       enum hk_type type) { }\n\nstatic inline bool housekeeping_test_cpu(int cpu, enum hk_type type)\n{\n\treturn true;\n}\n\nstatic inline void housekeeping_init(void) { }\n#endif  \n\nstatic inline bool housekeeping_cpu(int cpu, enum hk_type type)\n{\n#ifdef CONFIG_CPU_ISOLATION\n\tif (static_branch_unlikely(&housekeeping_overridden))\n\t\treturn housekeeping_test_cpu(cpu, type);\n#endif\n\treturn true;\n}\n\nstatic inline bool cpu_is_isolated(int cpu)\n{\n\treturn !housekeeping_test_cpu(cpu, HK_TYPE_DOMAIN) ||\n\t\t !housekeeping_test_cpu(cpu, HK_TYPE_TICK);\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}