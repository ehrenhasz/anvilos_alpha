{
  "module_name": "iopoll.h",
  "hash_id": "95d257ffab1de7899d45e18ad071c38ad396972474d6db77c34ebb6220dcfd3f",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/iopoll.h",
  "human_readable_source": " \n \n\n#ifndef _LINUX_IOPOLL_H\n#define _LINUX_IOPOLL_H\n\n#include <linux/kernel.h>\n#include <linux/types.h>\n#include <linux/ktime.h>\n#include <linux/delay.h>\n#include <linux/errno.h>\n#include <linux/io.h>\n\n \n#define read_poll_timeout(op, val, cond, sleep_us, timeout_us, \\\n\t\t\t\tsleep_before_read, args...) \\\n({ \\\n\tu64 __timeout_us = (timeout_us); \\\n\tunsigned long __sleep_us = (sleep_us); \\\n\tktime_t __timeout = ktime_add_us(ktime_get(), __timeout_us); \\\n\tmight_sleep_if((__sleep_us) != 0); \\\n\tif (sleep_before_read && __sleep_us) \\\n\t\tusleep_range((__sleep_us >> 2) + 1, __sleep_us); \\\n\tfor (;;) { \\\n\t\t(val) = op(args); \\\n\t\tif (cond) \\\n\t\t\tbreak; \\\n\t\tif (__timeout_us && \\\n\t\t    ktime_compare(ktime_get(), __timeout) > 0) { \\\n\t\t\t(val) = op(args); \\\n\t\t\tbreak; \\\n\t\t} \\\n\t\tif (__sleep_us) \\\n\t\t\tusleep_range((__sleep_us >> 2) + 1, __sleep_us); \\\n\t\tcpu_relax(); \\\n\t} \\\n\t(cond) ? 0 : -ETIMEDOUT; \\\n})\n\n \n#define read_poll_timeout_atomic(op, val, cond, delay_us, timeout_us, \\\n\t\t\t\t\tdelay_before_read, args...) \\\n({ \\\n\tu64 __timeout_us = (timeout_us); \\\n\ts64 __left_ns = __timeout_us * NSEC_PER_USEC; \\\n\tunsigned long __delay_us = (delay_us); \\\n\tu64 __delay_ns = __delay_us * NSEC_PER_USEC; \\\n\tif (delay_before_read && __delay_us) { \\\n\t\tudelay(__delay_us); \\\n\t\tif (__timeout_us) \\\n\t\t\t__left_ns -= __delay_ns; \\\n\t} \\\n\tfor (;;) { \\\n\t\t(val) = op(args); \\\n\t\tif (cond) \\\n\t\t\tbreak; \\\n\t\tif (__timeout_us && __left_ns < 0) { \\\n\t\t\t(val) = op(args); \\\n\t\t\tbreak; \\\n\t\t} \\\n\t\tif (__delay_us) { \\\n\t\t\tudelay(__delay_us); \\\n\t\t\tif (__timeout_us) \\\n\t\t\t\t__left_ns -= __delay_ns; \\\n\t\t} \\\n\t\tcpu_relax(); \\\n\t\tif (__timeout_us) \\\n\t\t\t__left_ns--; \\\n\t} \\\n\t(cond) ? 0 : -ETIMEDOUT; \\\n})\n\n \n#define readx_poll_timeout(op, addr, val, cond, sleep_us, timeout_us)\t\\\n\tread_poll_timeout(op, val, cond, sleep_us, timeout_us, false, addr)\n\n \n#define readx_poll_timeout_atomic(op, addr, val, cond, delay_us, timeout_us) \\\n\tread_poll_timeout_atomic(op, val, cond, delay_us, timeout_us, false, addr)\n\n#define readb_poll_timeout(addr, val, cond, delay_us, timeout_us) \\\n\treadx_poll_timeout(readb, addr, val, cond, delay_us, timeout_us)\n\n#define readb_poll_timeout_atomic(addr, val, cond, delay_us, timeout_us) \\\n\treadx_poll_timeout_atomic(readb, addr, val, cond, delay_us, timeout_us)\n\n#define readw_poll_timeout(addr, val, cond, delay_us, timeout_us) \\\n\treadx_poll_timeout(readw, addr, val, cond, delay_us, timeout_us)\n\n#define readw_poll_timeout_atomic(addr, val, cond, delay_us, timeout_us) \\\n\treadx_poll_timeout_atomic(readw, addr, val, cond, delay_us, timeout_us)\n\n#define readl_poll_timeout(addr, val, cond, delay_us, timeout_us) \\\n\treadx_poll_timeout(readl, addr, val, cond, delay_us, timeout_us)\n\n#define readl_poll_timeout_atomic(addr, val, cond, delay_us, timeout_us) \\\n\treadx_poll_timeout_atomic(readl, addr, val, cond, delay_us, timeout_us)\n\n#define readq_poll_timeout(addr, val, cond, delay_us, timeout_us) \\\n\treadx_poll_timeout(readq, addr, val, cond, delay_us, timeout_us)\n\n#define readq_poll_timeout_atomic(addr, val, cond, delay_us, timeout_us) \\\n\treadx_poll_timeout_atomic(readq, addr, val, cond, delay_us, timeout_us)\n\n#define readb_relaxed_poll_timeout(addr, val, cond, delay_us, timeout_us) \\\n\treadx_poll_timeout(readb_relaxed, addr, val, cond, delay_us, timeout_us)\n\n#define readb_relaxed_poll_timeout_atomic(addr, val, cond, delay_us, timeout_us) \\\n\treadx_poll_timeout_atomic(readb_relaxed, addr, val, cond, delay_us, timeout_us)\n\n#define readw_relaxed_poll_timeout(addr, val, cond, delay_us, timeout_us) \\\n\treadx_poll_timeout(readw_relaxed, addr, val, cond, delay_us, timeout_us)\n\n#define readw_relaxed_poll_timeout_atomic(addr, val, cond, delay_us, timeout_us) \\\n\treadx_poll_timeout_atomic(readw_relaxed, addr, val, cond, delay_us, timeout_us)\n\n#define readl_relaxed_poll_timeout(addr, val, cond, delay_us, timeout_us) \\\n\treadx_poll_timeout(readl_relaxed, addr, val, cond, delay_us, timeout_us)\n\n#define readl_relaxed_poll_timeout_atomic(addr, val, cond, delay_us, timeout_us) \\\n\treadx_poll_timeout_atomic(readl_relaxed, addr, val, cond, delay_us, timeout_us)\n\n#define readq_relaxed_poll_timeout(addr, val, cond, delay_us, timeout_us) \\\n\treadx_poll_timeout(readq_relaxed, addr, val, cond, delay_us, timeout_us)\n\n#define readq_relaxed_poll_timeout_atomic(addr, val, cond, delay_us, timeout_us) \\\n\treadx_poll_timeout_atomic(readq_relaxed, addr, val, cond, delay_us, timeout_us)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}