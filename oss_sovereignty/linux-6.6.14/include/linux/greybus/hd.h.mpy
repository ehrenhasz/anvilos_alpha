{
  "module_name": "hd.h",
  "hash_id": "8af5536531aca7a7b855e73abb4b78a8e59d8c12767746abefddf044e877b712",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/greybus/hd.h",
  "human_readable_source": " \n \n\n#ifndef __HD_H\n#define __HD_H\n\n#include <linux/types.h>\n#include <linux/device.h>\n\nstruct gb_host_device;\nstruct gb_message;\n\nstruct gb_hd_driver {\n\tsize_t\thd_priv_size;\n\n\tint (*cport_allocate)(struct gb_host_device *hd, int cport_id,\n\t\t\t\tunsigned long flags);\n\tvoid (*cport_release)(struct gb_host_device *hd, u16 cport_id);\n\tint (*cport_enable)(struct gb_host_device *hd, u16 cport_id,\n\t\t\t\tunsigned long flags);\n\tint (*cport_disable)(struct gb_host_device *hd, u16 cport_id);\n\tint (*cport_connected)(struct gb_host_device *hd, u16 cport_id);\n\tint (*cport_flush)(struct gb_host_device *hd, u16 cport_id);\n\tint (*cport_shutdown)(struct gb_host_device *hd, u16 cport_id,\n\t\t\t\tu8 phase, unsigned int timeout);\n\tint (*cport_quiesce)(struct gb_host_device *hd, u16 cport_id,\n\t\t\t\tsize_t peer_space, unsigned int timeout);\n\tint (*cport_clear)(struct gb_host_device *hd, u16 cport_id);\n\n\tint (*message_send)(struct gb_host_device *hd, u16 dest_cport_id,\n\t\t\tstruct gb_message *message, gfp_t gfp_mask);\n\tvoid (*message_cancel)(struct gb_message *message);\n\tint (*latency_tag_enable)(struct gb_host_device *hd, u16 cport_id);\n\tint (*latency_tag_disable)(struct gb_host_device *hd, u16 cport_id);\n\tint (*output)(struct gb_host_device *hd, void *req, u16 size, u8 cmd,\n\t\t      bool async);\n};\n\nstruct gb_host_device {\n\tstruct device dev;\n\tint bus_id;\n\tconst struct gb_hd_driver *driver;\n\n\tstruct list_head modules;\n\tstruct list_head connections;\n\tstruct ida cport_id_map;\n\n\t \n\tsize_t num_cports;\n\n\t \n\tsize_t buffer_size_max;\n\n\tstruct gb_svc *svc;\n\t \n\tunsigned long hd_priv[] __aligned(sizeof(s64));\n};\n#define to_gb_host_device(d) container_of(d, struct gb_host_device, dev)\n\nint gb_hd_cport_reserve(struct gb_host_device *hd, u16 cport_id);\nvoid gb_hd_cport_release_reserved(struct gb_host_device *hd, u16 cport_id);\nint gb_hd_cport_allocate(struct gb_host_device *hd, int cport_id,\n\t\t\t\t\tunsigned long flags);\nvoid gb_hd_cport_release(struct gb_host_device *hd, u16 cport_id);\n\nstruct gb_host_device *gb_hd_create(struct gb_hd_driver *driver,\n\t\t\t\t\tstruct device *parent,\n\t\t\t\t\tsize_t buffer_size_max,\n\t\t\t\t\tsize_t num_cports);\nint gb_hd_add(struct gb_host_device *hd);\nvoid gb_hd_del(struct gb_host_device *hd);\nvoid gb_hd_shutdown(struct gb_host_device *hd);\nvoid gb_hd_put(struct gb_host_device *hd);\nint gb_hd_output(struct gb_host_device *hd, void *req, u16 size, u8 cmd,\n\t\t bool in_irq);\n\nint gb_hd_init(void);\nvoid gb_hd_exit(void);\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}