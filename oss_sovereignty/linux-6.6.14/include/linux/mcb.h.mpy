{
  "module_name": "mcb.h",
  "hash_id": "5e89de5e26f0f0d5c801bf839b8486b97ad9251399e18be89c19efdad8623112",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/mcb.h",
  "human_readable_source": " \n \n#ifndef _LINUX_MCB_H\n#define _LINUX_MCB_H\n\n#include <linux/mod_devicetable.h>\n#include <linux/device.h>\n#include <linux/irqreturn.h>\n\n#define CHAMELEON_FILENAME_LEN 12\n\nstruct mcb_driver;\nstruct mcb_device;\n\n \nstruct mcb_bus {\n\tstruct device dev;\n\tstruct device *carrier;\n\tint bus_nr;\n\tu8 revision;\n\tchar model;\n\tu8 minor;\n\tchar name[CHAMELEON_FILENAME_LEN + 1];\n\tint (*get_irq)(struct mcb_device *dev);\n};\n\nstatic inline struct mcb_bus *to_mcb_bus(struct device *dev)\n{\n\treturn container_of(dev, struct mcb_bus, dev);\n}\n\n \nstruct mcb_device {\n\tstruct device dev;\n\tstruct mcb_bus *bus;\n\tstruct mcb_driver *driver;\n\tu16 id;\n\tint inst;\n\tint group;\n\tint var;\n\tint bar;\n\tint rev;\n\tstruct resource irq;\n\tstruct resource mem;\n\tstruct device *dma_dev;\n};\n\n#define to_mcb_device(__dev)\tcontainer_of_const(__dev, struct mcb_device, dev)\n\n \nstruct mcb_driver {\n\tstruct device_driver driver;\n\tconst struct mcb_device_id *id_table;\n\tint (*probe)(struct mcb_device *mdev, const struct mcb_device_id *id);\n\tvoid (*remove)(struct mcb_device *mdev);\n\tvoid (*shutdown)(struct mcb_device *mdev);\n};\n\nstatic inline struct mcb_driver *to_mcb_driver(struct device_driver *drv)\n{\n\treturn container_of(drv, struct mcb_driver, driver);\n}\n\nstatic inline void *mcb_get_drvdata(struct mcb_device *dev)\n{\n\treturn dev_get_drvdata(&dev->dev);\n}\n\nstatic inline void mcb_set_drvdata(struct mcb_device *dev, void *data)\n{\n\tdev_set_drvdata(&dev->dev, data);\n}\n\nextern int __must_check __mcb_register_driver(struct mcb_driver *drv,\n\t\t\t\t\tstruct module *owner,\n\t\t\t\t\tconst char *mod_name);\n#define mcb_register_driver(driver)\t\t\\\n\t__mcb_register_driver(driver, THIS_MODULE, KBUILD_MODNAME)\nextern void mcb_unregister_driver(struct mcb_driver *driver);\n#define module_mcb_driver(__mcb_driver)\t\t\\\n\tmodule_driver(__mcb_driver, mcb_register_driver, mcb_unregister_driver)\nextern void mcb_bus_add_devices(const struct mcb_bus *bus);\nextern int mcb_device_register(struct mcb_bus *bus, struct mcb_device *dev);\nextern struct mcb_bus *mcb_alloc_bus(struct device *carrier);\nextern struct mcb_bus *mcb_bus_get(struct mcb_bus *bus);\nextern void mcb_bus_put(struct mcb_bus *bus);\nextern struct mcb_device *mcb_alloc_dev(struct mcb_bus *bus);\nextern void mcb_free_dev(struct mcb_device *dev);\nextern void mcb_release_bus(struct mcb_bus *bus);\nextern struct resource *mcb_request_mem(struct mcb_device *dev,\n\t\t\t\t\tconst char *name);\nextern void mcb_release_mem(struct resource *mem);\nextern int mcb_get_irq(struct mcb_device *dev);\nextern struct resource *mcb_get_resource(struct mcb_device *dev,\n\t\t\t\t\t unsigned int type);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}