{
  "module_name": "stmmac.h",
  "hash_id": "7f865ffb1e89bd2979931e25548d4b385a0d829c063af1ebf6ae34ca8b93547a",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/stmmac.h",
  "human_readable_source": " \n \n\n#ifndef __STMMAC_PLATFORM_DATA\n#define __STMMAC_PLATFORM_DATA\n\n#include <linux/platform_device.h>\n#include <linux/phy.h>\n\n#define MTL_MAX_RX_QUEUES\t8\n#define MTL_MAX_TX_QUEUES\t8\n#define STMMAC_CH_MAX\t\t8\n\n#define STMMAC_RX_COE_NONE\t0\n#define STMMAC_RX_COE_TYPE1\t1\n#define STMMAC_RX_COE_TYPE2\t2\n\n \n\n \n#define\tSTMMAC_CSR_60_100M\t0x0\t \n#define\tSTMMAC_CSR_100_150M\t0x1\t \n#define\tSTMMAC_CSR_20_35M\t0x2\t \n#define\tSTMMAC_CSR_35_60M\t0x3\t \n#define\tSTMMAC_CSR_150_250M\t0x4\t \n#define\tSTMMAC_CSR_250_300M\t0x5\t \n\n \n#define MTL_TX_ALGORITHM_WRR\t0x0\n#define MTL_TX_ALGORITHM_WFQ\t0x1\n#define MTL_TX_ALGORITHM_DWRR\t0x2\n#define MTL_TX_ALGORITHM_SP\t0x3\n#define MTL_RX_ALGORITHM_SP\t0x4\n#define MTL_RX_ALGORITHM_WSP\t0x5\n\n \n#define MTL_QUEUE_AVB\t\t0x0\n#define MTL_QUEUE_DCB\t\t0x1\n\n \n#define STMMAC_CSR_I_4\t\t0x8\t \n#define STMMAC_CSR_I_6\t\t0x9\t \n#define STMMAC_CSR_I_8\t\t0xA\t \n#define STMMAC_CSR_I_10\t\t0xB\t \n#define STMMAC_CSR_I_12\t\t0xC\t \n#define STMMAC_CSR_I_14\t\t0xD\t \n#define STMMAC_CSR_I_16\t\t0xE\t \n#define STMMAC_CSR_I_18\t\t0xF\t \n\n \n#define DMA_AXI_BLEN_4\t\t(1 << 1)\n#define DMA_AXI_BLEN_8\t\t(1 << 2)\n#define DMA_AXI_BLEN_16\t\t(1 << 3)\n#define DMA_AXI_BLEN_32\t\t(1 << 4)\n#define DMA_AXI_BLEN_64\t\t(1 << 5)\n#define DMA_AXI_BLEN_128\t(1 << 6)\n#define DMA_AXI_BLEN_256\t(1 << 7)\n#define DMA_AXI_BLEN_ALL (DMA_AXI_BLEN_4 | DMA_AXI_BLEN_8 | DMA_AXI_BLEN_16 \\\n\t\t\t| DMA_AXI_BLEN_32 | DMA_AXI_BLEN_64 \\\n\t\t\t| DMA_AXI_BLEN_128 | DMA_AXI_BLEN_256)\n\nstruct stmmac_priv;\n\n \n\nstruct stmmac_mdio_bus_data {\n\tunsigned int phy_mask;\n\tunsigned int has_xpcs;\n\tunsigned int xpcs_an_inband;\n\tint *irqs;\n\tint probed_phy_irq;\n\tbool needs_reset;\n};\n\nstruct stmmac_dma_cfg {\n\tint pbl;\n\tint txpbl;\n\tint rxpbl;\n\tbool pblx8;\n\tint fixed_burst;\n\tint mixed_burst;\n\tbool aal;\n\tbool eame;\n\tbool multi_msi_en;\n\tbool dche;\n};\n\n#define AXI_BLEN\t7\nstruct stmmac_axi {\n\tbool axi_lpi_en;\n\tbool axi_xit_frm;\n\tu32 axi_wr_osr_lmt;\n\tu32 axi_rd_osr_lmt;\n\tbool axi_kbbe;\n\tu32 axi_blen[AXI_BLEN];\n\tbool axi_fb;\n\tbool axi_mb;\n\tbool axi_rb;\n};\n\n#define EST_GCL\t\t1024\nstruct stmmac_est {\n\tstruct mutex lock;\n\tint enable;\n\tu32 btr_reserve[2];\n\tu32 btr_offset[2];\n\tu32 btr[2];\n\tu32 ctr[2];\n\tu32 ter;\n\tu32 gcl_unaligned[EST_GCL];\n\tu32 gcl[EST_GCL];\n\tu32 gcl_size;\n};\n\nstruct stmmac_rxq_cfg {\n\tu8 mode_to_use;\n\tu32 chan;\n\tu8 pkt_route;\n\tbool use_prio;\n\tu32 prio;\n};\n\nstruct stmmac_txq_cfg {\n\tu32 weight;\n\tu8 mode_to_use;\n\t \n\tu32 send_slope;\n\tu32 idle_slope;\n\tu32 high_credit;\n\tu32 low_credit;\n\tbool use_prio;\n\tu32 prio;\n\tint tbs_en;\n};\n\n \nenum stmmac_fpe_state {\n\tFPE_STATE_OFF = 0,\n\tFPE_STATE_CAPABLE = 1,\n\tFPE_STATE_ENTERING_ON = 2,\n\tFPE_STATE_ON = 3,\n};\n\n \nenum stmmac_mpacket_type {\n\tMPACKET_VERIFY = 0,\n\tMPACKET_RESPONSE = 1,\n};\n\nenum stmmac_fpe_task_state_t {\n\t__FPE_REMOVING,\n\t__FPE_TASK_SCHED,\n};\n\nstruct stmmac_fpe_cfg {\n\tbool enable;\t\t\t\t \n\tbool hs_enable;\t\t\t\t \n\tenum stmmac_fpe_state lp_fpe_state;\t \n\tenum stmmac_fpe_state lo_fpe_state;\t \n\tu32 fpe_csr;\t\t\t\t \n};\n\nstruct stmmac_safety_feature_cfg {\n\tu32 tsoee;\n\tu32 mrxpee;\n\tu32 mestee;\n\tu32 mrxee;\n\tu32 mtxee;\n\tu32 epsi;\n\tu32 edpp;\n\tu32 prtyen;\n\tu32 tmouten;\n};\n\n \nstruct dwmac4_addrs {\n\tu32 dma_chan;\n\tu32 dma_chan_offset;\n\tu32 mtl_chan;\n\tu32 mtl_chan_offset;\n\tu32 mtl_ets_ctrl;\n\tu32 mtl_ets_ctrl_offset;\n\tu32 mtl_txq_weight;\n\tu32 mtl_txq_weight_offset;\n\tu32 mtl_send_slp_cred;\n\tu32 mtl_send_slp_cred_offset;\n\tu32 mtl_high_cred;\n\tu32 mtl_high_cred_offset;\n\tu32 mtl_low_cred;\n\tu32 mtl_low_cred_offset;\n};\n\n#define STMMAC_FLAG_HAS_INTEGRATED_PCS\t\tBIT(0)\n#define STMMAC_FLAG_SPH_DISABLE\t\t\tBIT(1)\n#define STMMAC_FLAG_USE_PHY_WOL\t\t\tBIT(2)\n#define STMMAC_FLAG_HAS_SUN8I\t\t\tBIT(3)\n#define STMMAC_FLAG_TSO_EN\t\t\tBIT(4)\n#define STMMAC_FLAG_SERDES_UP_AFTER_PHY_LINKUP\tBIT(5)\n#define STMMAC_FLAG_VLAN_FAIL_Q_EN\t\tBIT(6)\n#define STMMAC_FLAG_MULTI_MSI_EN\t\tBIT(7)\n#define STMMAC_FLAG_EXT_SNAPSHOT_EN\t\tBIT(8)\n#define STMMAC_FLAG_INT_SNAPSHOT_EN\t\tBIT(9)\n#define STMMAC_FLAG_RX_CLK_RUNS_IN_LPI\t\tBIT(10)\n#define STMMAC_FLAG_EN_TX_LPI_CLOCKGATING\tBIT(11)\n#define STMMAC_FLAG_HWTSTAMP_CORRECT_LATENCY\tBIT(12)\n\nstruct plat_stmmacenet_data {\n\tint bus_id;\n\tint phy_addr;\n\t \n\tphy_interface_t mac_interface;\n\t \n\tphy_interface_t phy_interface;\n\tstruct stmmac_mdio_bus_data *mdio_bus_data;\n\tstruct device_node *phy_node;\n\tstruct fwnode_handle *port_node;\n\tstruct device_node *mdio_node;\n\tstruct stmmac_dma_cfg *dma_cfg;\n\tstruct stmmac_est *est;\n\tstruct stmmac_fpe_cfg *fpe_cfg;\n\tstruct stmmac_safety_feature_cfg *safety_feat_cfg;\n\tint clk_csr;\n\tint has_gmac;\n\tint enh_desc;\n\tint tx_coe;\n\tint rx_coe;\n\tint bugged_jumbo;\n\tint pmt;\n\tint force_sf_dma_mode;\n\tint force_thresh_dma_mode;\n\tint riwt_off;\n\tint max_speed;\n\tint maxmtu;\n\tint multicast_filter_bins;\n\tint unicast_filter_entries;\n\tint tx_fifo_size;\n\tint rx_fifo_size;\n\tu32 host_dma_width;\n\tu32 rx_queues_to_use;\n\tu32 tx_queues_to_use;\n\tu8 rx_sched_algorithm;\n\tu8 tx_sched_algorithm;\n\tstruct stmmac_rxq_cfg rx_queues_cfg[MTL_MAX_RX_QUEUES];\n\tstruct stmmac_txq_cfg tx_queues_cfg[MTL_MAX_TX_QUEUES];\n\tvoid (*fix_mac_speed)(void *priv, unsigned int speed, unsigned int mode);\n\tint (*fix_soc_reset)(void *priv, void __iomem *ioaddr);\n\tint (*serdes_powerup)(struct net_device *ndev, void *priv);\n\tvoid (*serdes_powerdown)(struct net_device *ndev, void *priv);\n\tvoid (*speed_mode_2500)(struct net_device *ndev, void *priv);\n\tvoid (*ptp_clk_freq_config)(struct stmmac_priv *priv);\n\tint (*init)(struct platform_device *pdev, void *priv);\n\tvoid (*exit)(struct platform_device *pdev, void *priv);\n\tstruct mac_device_info *(*setup)(void *priv);\n\tint (*clks_config)(void *priv, bool enabled);\n\tint (*crosststamp)(ktime_t *device, struct system_counterval_t *system,\n\t\t\t   void *ctx);\n\tvoid (*dump_debug_regs)(void *priv);\n\tvoid *bsp_priv;\n\tstruct clk *stmmac_clk;\n\tstruct clk *pclk;\n\tstruct clk *clk_ptp_ref;\n\tunsigned int clk_ptp_rate;\n\tunsigned int clk_ref_rate;\n\tunsigned int mult_fact_100ns;\n\ts32 ptp_max_adj;\n\tu32 cdc_error_adj;\n\tstruct reset_control *stmmac_rst;\n\tstruct reset_control *stmmac_ahb_rst;\n\tstruct stmmac_axi *axi;\n\tint has_gmac4;\n\tint rss_en;\n\tint mac_port_sel_speed;\n\tint has_xgmac;\n\tu8 vlan_fail_q;\n\tunsigned int eee_usecs_rate;\n\tstruct pci_dev *pdev;\n\tint int_snapshot_num;\n\tint ext_snapshot_num;\n\tint msi_mac_vec;\n\tint msi_wol_vec;\n\tint msi_lpi_vec;\n\tint msi_sfty_ce_vec;\n\tint msi_sfty_ue_vec;\n\tint msi_rx_base_vec;\n\tint msi_tx_base_vec;\n\tconst struct dwmac4_addrs *dwmac4_addrs;\n\tunsigned int flags;\n};\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}