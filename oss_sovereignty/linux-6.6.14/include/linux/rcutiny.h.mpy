{
  "module_name": "rcutiny.h",
  "hash_id": "59b2810c4399fb531e3fe711d02100b3e60f9cfcb7a21dd7e18464e1537d568b",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/rcutiny.h",
  "human_readable_source": " \n \n#ifndef __LINUX_TINY_H\n#define __LINUX_TINY_H\n\n#include <asm/param.h>  \n\nstruct rcu_gp_oldstate {\n\tunsigned long rgos_norm;\n};\n\n\n\n#define NUM_ACTIVE_RCU_POLL_FULL_OLDSTATE 2\n\n \nstatic inline bool same_state_synchronize_rcu_full(struct rcu_gp_oldstate *rgosp1,\n\t\t\t\t\t\t   struct rcu_gp_oldstate *rgosp2)\n{\n\treturn rgosp1->rgos_norm == rgosp2->rgos_norm;\n}\n\nunsigned long get_state_synchronize_rcu(void);\n\nstatic inline void get_state_synchronize_rcu_full(struct rcu_gp_oldstate *rgosp)\n{\n\trgosp->rgos_norm = get_state_synchronize_rcu();\n}\n\nunsigned long start_poll_synchronize_rcu(void);\n\nstatic inline void start_poll_synchronize_rcu_full(struct rcu_gp_oldstate *rgosp)\n{\n\trgosp->rgos_norm = start_poll_synchronize_rcu();\n}\n\nbool poll_state_synchronize_rcu(unsigned long oldstate);\n\nstatic inline bool poll_state_synchronize_rcu_full(struct rcu_gp_oldstate *rgosp)\n{\n\treturn poll_state_synchronize_rcu(rgosp->rgos_norm);\n}\n\nstatic inline void cond_synchronize_rcu(unsigned long oldstate)\n{\n\tmight_sleep();\n}\n\nstatic inline void cond_synchronize_rcu_full(struct rcu_gp_oldstate *rgosp)\n{\n\tcond_synchronize_rcu(rgosp->rgos_norm);\n}\n\nstatic inline unsigned long start_poll_synchronize_rcu_expedited(void)\n{\n\treturn start_poll_synchronize_rcu();\n}\n\nstatic inline void start_poll_synchronize_rcu_expedited_full(struct rcu_gp_oldstate *rgosp)\n{\n\trgosp->rgos_norm = start_poll_synchronize_rcu_expedited();\n}\n\nstatic inline void cond_synchronize_rcu_expedited(unsigned long oldstate)\n{\n\tcond_synchronize_rcu(oldstate);\n}\n\nstatic inline void cond_synchronize_rcu_expedited_full(struct rcu_gp_oldstate *rgosp)\n{\n\tcond_synchronize_rcu_expedited(rgosp->rgos_norm);\n}\n\nextern void rcu_barrier(void);\n\nstatic inline void synchronize_rcu_expedited(void)\n{\n\tsynchronize_rcu();\n}\n\n \nextern void kvfree(const void *addr);\n\nstatic inline void __kvfree_call_rcu(struct rcu_head *head, void *ptr)\n{\n\tif (head) {\n\t\tcall_rcu(head, (rcu_callback_t) ((void *) head - ptr));\n\t\treturn;\n\t}\n\n\t\n\tmight_sleep();\n\tsynchronize_rcu();\n\tkvfree(ptr);\n}\n\n#ifdef CONFIG_KASAN_GENERIC\nvoid kvfree_call_rcu(struct rcu_head *head, void *ptr);\n#else\nstatic inline void kvfree_call_rcu(struct rcu_head *head, void *ptr)\n{\n\t__kvfree_call_rcu(head, ptr);\n}\n#endif\n\nvoid rcu_qs(void);\n\nstatic inline void rcu_softirq_qs(void)\n{\n\trcu_qs();\n}\n\n#define rcu_note_context_switch(preempt) \\\n\tdo { \\\n\t\trcu_qs(); \\\n\t\trcu_tasks_qs(current, (preempt)); \\\n\t} while (0)\n\nstatic inline int rcu_needs_cpu(void)\n{\n\treturn 0;\n}\n\nstatic inline void rcu_request_urgent_qs_task(struct task_struct *t) { }\n\n \nstatic inline void rcu_virt_note_context_switch(void) { }\nstatic inline void rcu_cpu_stall_reset(void) { }\nstatic inline int rcu_jiffies_till_stall_check(void) { return 21 * HZ; }\nstatic inline void rcu_irq_exit_check_preempt(void) { }\nstatic inline void exit_rcu(void) { }\nstatic inline bool rcu_preempt_need_deferred_qs(struct task_struct *t)\n{\n\treturn false;\n}\nstatic inline void rcu_preempt_deferred_qs(struct task_struct *t) { }\nvoid rcu_scheduler_starting(void);\nstatic inline void rcu_end_inkernel_boot(void) { }\nstatic inline bool rcu_inkernel_boot_has_ended(void) { return true; }\nstatic inline bool rcu_is_watching(void) { return true; }\nstatic inline void rcu_momentary_dyntick_idle(void) { }\nstatic inline void kfree_rcu_scheduler_running(void) { }\nstatic inline bool rcu_gp_might_be_stalled(void) { return false; }\n\n \nstatic inline void rcu_all_qs(void) { barrier(); }\n\n \n#define rcutree_prepare_cpu      NULL\n#define rcutree_online_cpu       NULL\n#define rcutree_offline_cpu      NULL\n#define rcutree_dead_cpu         NULL\n#define rcutree_dying_cpu        NULL\nstatic inline void rcu_cpu_starting(unsigned int cpu) { }\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}