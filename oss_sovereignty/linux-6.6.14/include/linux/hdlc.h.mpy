{
  "module_name": "hdlc.h",
  "hash_id": "629729f992c4439d6ceda06ffb945619042c4401a9e3772f20a2dec5f46a86e8",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/hdlc.h",
  "human_readable_source": " \n \n#ifndef __HDLC_H\n#define __HDLC_H\n\n\n#include <linux/skbuff.h>\n#include <linux/netdevice.h>\n#include <linux/hdlc/ioctl.h>\n#include <uapi/linux/hdlc.h>\n\n \n\nstruct hdlc_proto {\n\tint (*open)(struct net_device *dev);\n\tvoid (*close)(struct net_device *dev);\n\tvoid (*start)(struct net_device *dev);  \n\tvoid (*stop)(struct net_device *dev);  \n\tvoid (*detach)(struct net_device *dev);\n\tint (*ioctl)(struct net_device *dev, struct if_settings *ifs);\n\t__be16 (*type_trans)(struct sk_buff *skb, struct net_device *dev);\n\tint (*netif_rx)(struct sk_buff *skb);\n\tnetdev_tx_t (*xmit)(struct sk_buff *skb, struct net_device *dev);\n\tstruct module *module;\n\tstruct hdlc_proto *next;  \n};\n\n\n \ntypedef struct hdlc_device {\n\t \n\tint (*attach)(struct net_device *dev,\n\t\t      unsigned short encoding, unsigned short parity);\n\n\t \n\tnetdev_tx_t (*xmit)(struct sk_buff *skb, struct net_device *dev);\n\n\t \n\tconst struct hdlc_proto *proto;\n\tint carrier;\n\tint open;\n\tspinlock_t state_lock;\n\tvoid *state;\n\tvoid *priv;\n} hdlc_device;\n\n\n\n \n\n \nint hdlc_ioctl(struct net_device *dev, struct if_settings *ifs);\n\n \n#define register_hdlc_device(dev)\tregister_netdev(dev)\nvoid unregister_hdlc_device(struct net_device *dev);\n\n\nvoid register_hdlc_protocol(struct hdlc_proto *proto);\nvoid unregister_hdlc_protocol(struct hdlc_proto *proto);\n\nstruct net_device *alloc_hdlcdev(void *priv);\n\nstatic inline struct hdlc_device* dev_to_hdlc(struct net_device *dev)\n{\n\treturn netdev_priv(dev);\n}\n\nstatic __inline__ void debug_frame(const struct sk_buff *skb)\n{\n\tint i;\n\n\tfor (i=0; i < skb->len; i++) {\n\t\tif (i == 100) {\n\t\t\tprintk(\"...\\n\");\n\t\t\treturn;\n\t\t}\n\t\tprintk(\" %02X\", skb->data[i]);\n\t}\n\tprintk(\"\\n\");\n}\n\n\n \nint hdlc_open(struct net_device *dev);\n \nvoid hdlc_close(struct net_device *dev);\n \nnetdev_tx_t hdlc_start_xmit(struct sk_buff *skb, struct net_device *dev);\n\nint attach_hdlc_protocol(struct net_device *dev, struct hdlc_proto *proto,\n\t\t\t size_t size);\n \nint detach_hdlc_protocol(struct net_device *dev);\n\nstatic __inline__ __be16 hdlc_type_trans(struct sk_buff *skb,\n\t\t\t\t\t struct net_device *dev)\n{\n\thdlc_device *hdlc = dev_to_hdlc(dev);\n\n\tskb->dev = dev;\n\tskb_reset_mac_header(skb);\n\n\tif (hdlc->proto->type_trans)\n\t\treturn hdlc->proto->type_trans(skb, dev);\n\telse\n\t\treturn htons(ETH_P_HDLC);\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}