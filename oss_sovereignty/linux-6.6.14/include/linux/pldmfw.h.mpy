{
  "module_name": "pldmfw.h",
  "hash_id": "bddb57e91b399c2b9c6ea15c8f8cc11a6e90e6c88ffcd959278349ff2e0b1db5",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/pldmfw.h",
  "human_readable_source": " \n \n\n#ifndef _PLDMFW_H_\n#define _PLDMFW_H_\n\n#include <linux/list.h>\n#include <linux/firmware.h>\n\n#define PLDM_DEVICE_UPDATE_CONTINUE_AFTER_FAIL BIT(0)\n\n#define PLDM_STRING_TYPE_UNKNOWN\t0\n#define PLDM_STRING_TYPE_ASCII\t\t1\n#define PLDM_STRING_TYPE_UTF8\t\t2\n#define PLDM_STRING_TYPE_UTF16\t\t3\n#define PLDM_STRING_TYPE_UTF16LE\t4\n#define PLDM_STRING_TYPE_UTF16BE\t5\n\nstruct pldmfw_record {\n\tstruct list_head entry;\n\n\t \n\tstruct list_head descs;\n\n\t \n\tconst u8 *version_string;\n\tu8 version_type;\n\tu8 version_len;\n\n\t \n\tu16 package_data_len;\n\n\t \n\tu32 device_update_flags;\n\n\t \n\tconst u8 *package_data;\n\n\t \n\tunsigned long *component_bitmap;\n\tu16 component_bitmap_len;\n};\n\n \n#define PLDM_DESC_ID_PCI_VENDOR_ID\t0x0000\n#define PLDM_DESC_ID_IANA_ENTERPRISE_ID\t0x0001\n#define PLDM_DESC_ID_UUID\t\t0x0002\n#define PLDM_DESC_ID_PNP_VENDOR_ID\t0x0003\n#define PLDM_DESC_ID_ACPI_VENDOR_ID\t0x0004\n#define PLDM_DESC_ID_PCI_DEVICE_ID\t0x0100\n#define PLDM_DESC_ID_PCI_SUBVENDOR_ID\t0x0101\n#define PLDM_DESC_ID_PCI_SUBDEV_ID\t0x0102\n#define PLDM_DESC_ID_PCI_REVISION_ID\t0x0103\n#define PLDM_DESC_ID_PNP_PRODUCT_ID\t0x0104\n#define PLDM_DESC_ID_ACPI_PRODUCT_ID\t0x0105\n#define PLDM_DESC_ID_VENDOR_DEFINED\t0xFFFF\n\nstruct pldmfw_desc_tlv {\n\tstruct list_head entry;\n\n\tconst u8 *data;\n\tu16 type;\n\tu16 size;\n};\n\n#define PLDM_CLASSIFICATION_UNKNOWN\t\t0x0000\n#define PLDM_CLASSIFICATION_OTHER\t\t0x0001\n#define PLDM_CLASSIFICATION_DRIVER\t\t0x0002\n#define PLDM_CLASSIFICATION_CONFIG_SW\t\t0x0003\n#define PLDM_CLASSIFICATION_APP_SW\t\t0x0004\n#define PLDM_CLASSIFICATION_INSTRUMENTATION\t0x0005\n#define PLDM_CLASSIFICATION_BIOS\t\t0x0006\n#define PLDM_CLASSIFICATION_DIAGNOSTIC_SW\t0x0007\n#define PLDM_CLASSIFICATION_OS\t\t\t0x0008\n#define PLDM_CLASSIFICATION_MIDDLEWARE\t\t0x0009\n#define PLDM_CLASSIFICATION_FIRMWARE\t\t0x000A\n#define PLDM_CLASSIFICATION_CODE\t\t0x000B\n#define PLDM_CLASSIFICATION_SERVICE_PACK\t0x000C\n#define PLDM_CLASSIFICATION_SOFTWARE_BUNDLE\t0x000D\n\n#define PLDM_ACTIVATION_METHOD_AUTO\t\tBIT(0)\n#define PLDM_ACTIVATION_METHOD_SELF_CONTAINED\tBIT(1)\n#define PLDM_ACTIVATION_METHOD_MEDIUM_SPECIFIC\tBIT(2)\n#define PLDM_ACTIVATION_METHOD_REBOOT\t\tBIT(3)\n#define PLDM_ACTIVATION_METHOD_DC_CYCLE\t\tBIT(4)\n#define PLDM_ACTIVATION_METHOD_AC_CYCLE\t\tBIT(5)\n\n#define PLDMFW_COMPONENT_OPTION_FORCE_UPDATE\t\tBIT(0)\n#define PLDMFW_COMPONENT_OPTION_USE_COMPARISON_STAMP\tBIT(1)\n\nstruct pldmfw_component {\n\tstruct list_head entry;\n\n\t \n\tu16 classification;\n\tu16 identifier;\n\n\tu16 options;\n\tu16 activation_method;\n\n\tu32 comparison_stamp;\n\n\tu32 component_size;\n\tconst u8 *component_data;\n\n\t \n\tconst u8 *version_string;\n\tu8 version_type;\n\tu8 version_len;\n\n\t \n\tu8 index;\n\n};\n\n \n#define PLDM_TRANSFER_FLAG_START\t\tBIT(0)\n#define PLDM_TRANSFER_FLAG_MIDDLE\t\tBIT(1)\n#define PLDM_TRANSFER_FLAG_END\t\t\tBIT(2)\n\nstruct pldmfw_ops;\n\n \nstruct pldmfw {\n\tconst struct pldmfw_ops *ops;\n\tstruct device *dev;\n};\n\nbool pldmfw_op_pci_match_record(struct pldmfw *context, struct pldmfw_record *record);\n\n \nstruct pldmfw_ops {\n\tbool (*match_record)(struct pldmfw *context, struct pldmfw_record *record);\n\tint (*send_package_data)(struct pldmfw *context, const u8 *data, u16 length);\n\tint (*send_component_table)(struct pldmfw *context, struct pldmfw_component *component,\n\t\t\t\t    u8 transfer_flag);\n\tint (*flash_component)(struct pldmfw *context, struct pldmfw_component *component);\n\tint (*finalize_update)(struct pldmfw *context);\n};\n\nint pldmfw_flash_image(struct pldmfw *context, const struct firmware *fw);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}