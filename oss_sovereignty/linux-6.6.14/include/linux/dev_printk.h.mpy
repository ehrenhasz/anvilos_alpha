{
  "module_name": "dev_printk.h",
  "hash_id": "31b174405f95d508dc27f558dc5cd4d8c83efb254bf5ae6fb0b5d26a5569566d",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/dev_printk.h",
  "human_readable_source": "\n \n\n#ifndef _DEVICE_PRINTK_H_\n#define _DEVICE_PRINTK_H_\n\n#include <linux/compiler.h>\n#include <linux/types.h>\n#include <linux/ratelimit.h>\n\n#ifndef dev_fmt\n#define dev_fmt(fmt) fmt\n#endif\n\nstruct device;\n\n#define PRINTK_INFO_SUBSYSTEM_LEN\t16\n#define PRINTK_INFO_DEVICE_LEN\t\t48\n\nstruct dev_printk_info {\n\tchar subsystem[PRINTK_INFO_SUBSYSTEM_LEN];\n\tchar device[PRINTK_INFO_DEVICE_LEN];\n};\n\n#ifdef CONFIG_PRINTK\n\n__printf(3, 0) __cold\nint dev_vprintk_emit(int level, const struct device *dev,\n\t\t     const char *fmt, va_list args);\n__printf(3, 4) __cold\nint dev_printk_emit(int level, const struct device *dev, const char *fmt, ...);\n\n__printf(3, 4) __cold\nvoid _dev_printk(const char *level, const struct device *dev,\n\t\t const char *fmt, ...);\n__printf(2, 3) __cold\nvoid _dev_emerg(const struct device *dev, const char *fmt, ...);\n__printf(2, 3) __cold\nvoid _dev_alert(const struct device *dev, const char *fmt, ...);\n__printf(2, 3) __cold\nvoid _dev_crit(const struct device *dev, const char *fmt, ...);\n__printf(2, 3) __cold\nvoid _dev_err(const struct device *dev, const char *fmt, ...);\n__printf(2, 3) __cold\nvoid _dev_warn(const struct device *dev, const char *fmt, ...);\n__printf(2, 3) __cold\nvoid _dev_notice(const struct device *dev, const char *fmt, ...);\n__printf(2, 3) __cold\nvoid _dev_info(const struct device *dev, const char *fmt, ...);\n\n#else\n\nstatic inline __printf(3, 0)\nint dev_vprintk_emit(int level, const struct device *dev,\n\t\t     const char *fmt, va_list args)\n{ return 0; }\nstatic inline __printf(3, 4)\nint dev_printk_emit(int level, const struct device *dev, const char *fmt, ...)\n{ return 0; }\n\nstatic inline void __dev_printk(const char *level, const struct device *dev,\n\t\t\t\tstruct va_format *vaf)\n{}\nstatic inline __printf(3, 4)\nvoid _dev_printk(const char *level, const struct device *dev,\n\t\t const char *fmt, ...)\n{}\n\nstatic inline __printf(2, 3)\nvoid _dev_emerg(const struct device *dev, const char *fmt, ...)\n{}\nstatic inline __printf(2, 3)\nvoid _dev_crit(const struct device *dev, const char *fmt, ...)\n{}\nstatic inline __printf(2, 3)\nvoid _dev_alert(const struct device *dev, const char *fmt, ...)\n{}\nstatic inline __printf(2, 3)\nvoid _dev_err(const struct device *dev, const char *fmt, ...)\n{}\nstatic inline __printf(2, 3)\nvoid _dev_warn(const struct device *dev, const char *fmt, ...)\n{}\nstatic inline __printf(2, 3)\nvoid _dev_notice(const struct device *dev, const char *fmt, ...)\n{}\nstatic inline __printf(2, 3)\nvoid _dev_info(const struct device *dev, const char *fmt, ...)\n{}\n\n#endif\n\n \n#define dev_printk_index_emit(level, fmt, ...) \\\n\tprintk_index_subsys_emit(\"%s %s: \", level, fmt)\n\n#define dev_printk_index_wrap(_p_func, level, dev, fmt, ...)\t\t\\\n\t({\t\t\t\t\t\t\t\t\\\n\t\tdev_printk_index_emit(level, fmt);\t\t\t\\\n\t\t_p_func(dev, fmt, ##__VA_ARGS__);\t\t\t\\\n\t})\n\n \n#define dev_printk(level, dev, fmt, ...)\t\t\t\t\\\n\t({\t\t\t\t\t\t\t\t\\\n\t\tdev_printk_index_emit(level, fmt);\t\t\t\\\n\t\t_dev_printk(level, dev, fmt, ##__VA_ARGS__);\t\t\\\n\t})\n\n \n\n#define dev_emerg(dev, fmt, ...) \\\n\tdev_printk_index_wrap(_dev_emerg, KERN_EMERG, dev, dev_fmt(fmt), ##__VA_ARGS__)\n#define dev_crit(dev, fmt, ...) \\\n\tdev_printk_index_wrap(_dev_crit, KERN_CRIT, dev, dev_fmt(fmt), ##__VA_ARGS__)\n#define dev_alert(dev, fmt, ...) \\\n\tdev_printk_index_wrap(_dev_alert, KERN_ALERT, dev, dev_fmt(fmt), ##__VA_ARGS__)\n#define dev_err(dev, fmt, ...) \\\n\tdev_printk_index_wrap(_dev_err, KERN_ERR, dev, dev_fmt(fmt), ##__VA_ARGS__)\n#define dev_warn(dev, fmt, ...) \\\n\tdev_printk_index_wrap(_dev_warn, KERN_WARNING, dev, dev_fmt(fmt), ##__VA_ARGS__)\n#define dev_notice(dev, fmt, ...) \\\n\tdev_printk_index_wrap(_dev_notice, KERN_NOTICE, dev, dev_fmt(fmt), ##__VA_ARGS__)\n#define dev_info(dev, fmt, ...) \\\n\tdev_printk_index_wrap(_dev_info, KERN_INFO, dev, dev_fmt(fmt), ##__VA_ARGS__)\n\n#if defined(CONFIG_DYNAMIC_DEBUG) || \\\n\t(defined(CONFIG_DYNAMIC_DEBUG_CORE) && defined(DYNAMIC_DEBUG_MODULE))\n#define dev_dbg(dev, fmt, ...)\t\t\t\t\t\t\\\n\tdynamic_dev_dbg(dev, dev_fmt(fmt), ##__VA_ARGS__)\n#elif defined(DEBUG)\n#define dev_dbg(dev, fmt, ...)\t\t\t\t\t\t\\\n\tdev_printk(KERN_DEBUG, dev, dev_fmt(fmt), ##__VA_ARGS__)\n#else\n#define dev_dbg(dev, fmt, ...)\t\t\t\t\t\t\\\n({\t\t\t\t\t\t\t\t\t\\\n\tif (0)\t\t\t\t\t\t\t\t\\\n\t\tdev_printk(KERN_DEBUG, dev, dev_fmt(fmt), ##__VA_ARGS__); \\\n})\n#endif\n\n#ifdef CONFIG_PRINTK\n#define dev_level_once(dev_level, dev, fmt, ...)\t\t\t\\\ndo {\t\t\t\t\t\t\t\t\t\\\n\tstatic bool __print_once __read_mostly;\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\tif (!__print_once) {\t\t\t\t\t\t\\\n\t\t__print_once = true;\t\t\t\t\t\\\n\t\tdev_level(dev, fmt, ##__VA_ARGS__);\t\t\t\\\n\t}\t\t\t\t\t\t\t\t\\\n} while (0)\n#else\n#define dev_level_once(dev_level, dev, fmt, ...)\t\t\t\\\ndo {\t\t\t\t\t\t\t\t\t\\\n\tif (0)\t\t\t\t\t\t\t\t\\\n\t\tdev_level(dev, fmt, ##__VA_ARGS__);\t\t\t\\\n} while (0)\n#endif\n\n#define dev_emerg_once(dev, fmt, ...)\t\t\t\t\t\\\n\tdev_level_once(dev_emerg, dev, fmt, ##__VA_ARGS__)\n#define dev_alert_once(dev, fmt, ...)\t\t\t\t\t\\\n\tdev_level_once(dev_alert, dev, fmt, ##__VA_ARGS__)\n#define dev_crit_once(dev, fmt, ...)\t\t\t\t\t\\\n\tdev_level_once(dev_crit, dev, fmt, ##__VA_ARGS__)\n#define dev_err_once(dev, fmt, ...)\t\t\t\t\t\\\n\tdev_level_once(dev_err, dev, fmt, ##__VA_ARGS__)\n#define dev_warn_once(dev, fmt, ...)\t\t\t\t\t\\\n\tdev_level_once(dev_warn, dev, fmt, ##__VA_ARGS__)\n#define dev_notice_once(dev, fmt, ...)\t\t\t\t\t\\\n\tdev_level_once(dev_notice, dev, fmt, ##__VA_ARGS__)\n#define dev_info_once(dev, fmt, ...)\t\t\t\t\t\\\n\tdev_level_once(dev_info, dev, fmt, ##__VA_ARGS__)\n#define dev_dbg_once(dev, fmt, ...)\t\t\t\t\t\\\n\tdev_level_once(dev_dbg, dev, fmt, ##__VA_ARGS__)\n\n#define dev_level_ratelimited(dev_level, dev, fmt, ...)\t\t\t\\\ndo {\t\t\t\t\t\t\t\t\t\\\n\tstatic DEFINE_RATELIMIT_STATE(_rs,\t\t\t\t\\\n\t\t\t\t      DEFAULT_RATELIMIT_INTERVAL,\t\\\n\t\t\t\t      DEFAULT_RATELIMIT_BURST);\t\t\\\n\tif (__ratelimit(&_rs))\t\t\t\t\t\t\\\n\t\tdev_level(dev, fmt, ##__VA_ARGS__);\t\t\t\\\n} while (0)\n\n#define dev_emerg_ratelimited(dev, fmt, ...)\t\t\t\t\\\n\tdev_level_ratelimited(dev_emerg, dev, fmt, ##__VA_ARGS__)\n#define dev_alert_ratelimited(dev, fmt, ...)\t\t\t\t\\\n\tdev_level_ratelimited(dev_alert, dev, fmt, ##__VA_ARGS__)\n#define dev_crit_ratelimited(dev, fmt, ...)\t\t\t\t\\\n\tdev_level_ratelimited(dev_crit, dev, fmt, ##__VA_ARGS__)\n#define dev_err_ratelimited(dev, fmt, ...)\t\t\t\t\\\n\tdev_level_ratelimited(dev_err, dev, fmt, ##__VA_ARGS__)\n#define dev_warn_ratelimited(dev, fmt, ...)\t\t\t\t\\\n\tdev_level_ratelimited(dev_warn, dev, fmt, ##__VA_ARGS__)\n#define dev_notice_ratelimited(dev, fmt, ...)\t\t\t\t\\\n\tdev_level_ratelimited(dev_notice, dev, fmt, ##__VA_ARGS__)\n#define dev_info_ratelimited(dev, fmt, ...)\t\t\t\t\\\n\tdev_level_ratelimited(dev_info, dev, fmt, ##__VA_ARGS__)\n#if defined(CONFIG_DYNAMIC_DEBUG) || \\\n\t(defined(CONFIG_DYNAMIC_DEBUG_CORE) && defined(DYNAMIC_DEBUG_MODULE))\n \n#define dev_dbg_ratelimited(dev, fmt, ...)\t\t\t\t\\\ndo {\t\t\t\t\t\t\t\t\t\\\n\tstatic DEFINE_RATELIMIT_STATE(_rs,\t\t\t\t\\\n\t\t\t\t      DEFAULT_RATELIMIT_INTERVAL,\t\\\n\t\t\t\t      DEFAULT_RATELIMIT_BURST);\t\t\\\n\tDEFINE_DYNAMIC_DEBUG_METADATA(descriptor, fmt);\t\t\t\\\n\tif (DYNAMIC_DEBUG_BRANCH(descriptor) &&\t\t\t\t\\\n\t    __ratelimit(&_rs))\t\t\t\t\t\t\\\n\t\t__dynamic_dev_dbg(&descriptor, dev, dev_fmt(fmt),\t\\\n\t\t\t\t  ##__VA_ARGS__);\t\t\t\\\n} while (0)\n#elif defined(DEBUG)\n#define dev_dbg_ratelimited(dev, fmt, ...)\t\t\t\t\\\ndo {\t\t\t\t\t\t\t\t\t\\\n\tstatic DEFINE_RATELIMIT_STATE(_rs,\t\t\t\t\\\n\t\t\t\t      DEFAULT_RATELIMIT_INTERVAL,\t\\\n\t\t\t\t      DEFAULT_RATELIMIT_BURST);\t\t\\\n\tif (__ratelimit(&_rs))\t\t\t\t\t\t\\\n\t\tdev_printk(KERN_DEBUG, dev, dev_fmt(fmt), ##__VA_ARGS__); \\\n} while (0)\n#else\n#define dev_dbg_ratelimited(dev, fmt, ...)\t\t\t\t\\\ndo {\t\t\t\t\t\t\t\t\t\\\n\tif (0)\t\t\t\t\t\t\t\t\\\n\t\tdev_printk(KERN_DEBUG, dev, dev_fmt(fmt), ##__VA_ARGS__); \\\n} while (0)\n#endif\n\n#ifdef VERBOSE_DEBUG\n#define dev_vdbg\tdev_dbg\n#else\n#define dev_vdbg(dev, fmt, ...)\t\t\t\t\t\t\\\n({\t\t\t\t\t\t\t\t\t\\\n\tif (0)\t\t\t\t\t\t\t\t\\\n\t\tdev_printk(KERN_DEBUG, dev, dev_fmt(fmt), ##__VA_ARGS__); \\\n})\n#endif\n\n \n#define dev_WARN(dev, format, arg...) \\\n\tWARN(1, \"%s %s: \" format, dev_driver_string(dev), dev_name(dev), ## arg)\n\n#define dev_WARN_ONCE(dev, condition, format, arg...) \\\n\tWARN_ONCE(condition, \"%s %s: \" format, \\\n\t\t\tdev_driver_string(dev), dev_name(dev), ## arg)\n\n__printf(3, 4) int dev_err_probe(const struct device *dev, int err, const char *fmt, ...);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}