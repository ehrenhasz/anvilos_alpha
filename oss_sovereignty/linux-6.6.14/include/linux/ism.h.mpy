{
  "module_name": "ism.h",
  "hash_id": "a08ab93286dc81fc75184853422ae5703fd3beb6ed573dbcbb5f46f27410f6fc",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/ism.h",
  "human_readable_source": " \n \n#ifndef _ISM_H\n#define _ISM_H\n\n#include <linux/workqueue.h>\n\nstruct ism_dmb {\n\tu64 dmb_tok;\n\tu64 rgid;\n\tu32 dmb_len;\n\tu32 sba_idx;\n\tu32 vlan_valid;\n\tu32 vlan_id;\n\tvoid *cpu_addr;\n\tdma_addr_t dma_addr;\n};\n\n \n#define MAX_CLIENTS\t\t8\n#define ISM_NR_DMBS\t\t1920\n\nstruct ism_dev {\n\tspinlock_t lock;  \n\tstruct list_head list;\n\tstruct pci_dev *pdev;\n\n\tstruct ism_sba *sba;\n\tdma_addr_t sba_dma_addr;\n\tDECLARE_BITMAP(sba_bitmap, ISM_NR_DMBS);\n\tu8 *sba_client_arr;\t \n\tvoid *priv[MAX_CLIENTS];\n\n\tstruct ism_eq *ieq;\n\tdma_addr_t ieq_dma_addr;\n\n\tstruct device dev;\n\tu64 local_gid;\n\tint ieq_idx;\n\n\tstruct ism_client *subs[MAX_CLIENTS];\n};\n\nstruct ism_event {\n\tu32 type;\n\tu32 code;\n\tu64 tok;\n\tu64 time;\n\tu64 info;\n};\n\nstruct ism_client {\n\tconst char *name;\n\tvoid (*add)(struct ism_dev *dev);\n\tvoid (*remove)(struct ism_dev *dev);\n\tvoid (*handle_event)(struct ism_dev *dev, struct ism_event *event);\n\t \n\tvoid (*handle_irq)(struct ism_dev *dev, unsigned int bit, u16 dmbemask);\n\t \n\tu8 id;\n};\n\nint ism_register_client(struct ism_client *client);\nint  ism_unregister_client(struct ism_client *client);\nstatic inline void *ism_get_priv(struct ism_dev *dev,\n\t\t\t\t struct ism_client *client) {\n\treturn dev->priv[client->id];\n}\n\nstatic inline void ism_set_priv(struct ism_dev *dev, struct ism_client *client,\n\t\t\t\tvoid *priv) {\n\tdev->priv[client->id] = priv;\n}\n\nint  ism_register_dmb(struct ism_dev *dev, struct ism_dmb *dmb,\n\t\t      struct ism_client *client);\nint  ism_unregister_dmb(struct ism_dev *dev, struct ism_dmb *dmb);\nint  ism_move(struct ism_dev *dev, u64 dmb_tok, unsigned int idx, bool sf,\n\t      unsigned int offset, void *data, unsigned int size);\nu8  *ism_get_seid(void);\n\nconst struct smcd_ops *ism_get_smcd_ops(void);\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}