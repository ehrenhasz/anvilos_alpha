{
  "module_name": "comedi_8254.h",
  "hash_id": "ff63c9c94db5aa1701a0866dc0c9cddbaf2acc0d59c6035279547010f111fbbc",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/comedi/comedi_8254.h",
  "human_readable_source": " \n \n\n#ifndef _COMEDI_8254_H\n#define _COMEDI_8254_H\n\n#include <linux/types.h>\n\nstruct comedi_device;\nstruct comedi_insn;\nstruct comedi_subdevice;\n\n \n#define I8254_OSC_BASE_10MHZ\t100\n#define I8254_OSC_BASE_5MHZ\t200\n#define I8254_OSC_BASE_4MHZ\t250\n#define I8254_OSC_BASE_2MHZ\t500\n#define I8254_OSC_BASE_1MHZ\t1000\n#define I8254_OSC_BASE_100KHZ\t10000\n#define I8254_OSC_BASE_10KHZ\t100000\n#define I8254_OSC_BASE_1KHZ\t1000000\n\n \n#define I8254_IO8\t\t1\n#define I8254_IO16\t\t2\n#define I8254_IO32\t\t4\n\n \n#define I8254_COUNTER0_REG\t\t0x00\n#define I8254_COUNTER1_REG\t\t0x01\n#define I8254_COUNTER2_REG\t\t0x02\n#define I8254_CTRL_REG\t\t\t0x03\n#define I8254_CTRL_SEL_CTR(x)\t\t((x) << 6)\n#define I8254_CTRL_READBACK(x)\t\t(I8254_CTRL_SEL_CTR(3) | BIT(x))\n#define I8254_CTRL_READBACK_COUNT\tI8254_CTRL_READBACK(4)\n#define I8254_CTRL_READBACK_STATUS\tI8254_CTRL_READBACK(5)\n#define I8254_CTRL_READBACK_SEL_CTR(x)\t(2 << (x))\n#define I8254_CTRL_RW(x)\t\t(((x) & 0x3) << 4)\n#define I8254_CTRL_LATCH\t\tI8254_CTRL_RW(0)\n#define I8254_CTRL_LSB_ONLY\t\tI8254_CTRL_RW(1)\n#define I8254_CTRL_MSB_ONLY\t\tI8254_CTRL_RW(2)\n#define I8254_CTRL_LSB_MSB\t\tI8254_CTRL_RW(3)\n\n \n#define I8254_MAX_COUNT\t\t\t0x10000\n\n \nstruct comedi_8254 {\n\tunsigned long iobase;\n\tvoid __iomem *mmio;\n\tunsigned int iosize;\n\tunsigned int regshift;\n\tunsigned int osc_base;\n\tunsigned int divisor;\n\tunsigned int divisor1;\n\tunsigned int divisor2;\n\tunsigned int next_div;\n\tunsigned int next_div1;\n\tunsigned int next_div2;\n\tunsigned int clock_src[3];\n\tunsigned int gate_src[3];\n\tbool busy[3];\n\n\tint (*insn_config)(struct comedi_device *dev,\n\t\t\t   struct comedi_subdevice *s,\n\t\t\t   struct comedi_insn *insn, unsigned int *data);\n};\n\nunsigned int comedi_8254_status(struct comedi_8254 *i8254,\n\t\t\t\tunsigned int counter);\nunsigned int comedi_8254_read(struct comedi_8254 *i8254, unsigned int counter);\nvoid comedi_8254_write(struct comedi_8254 *i8254,\n\t\t       unsigned int counter, unsigned int val);\n\nint comedi_8254_set_mode(struct comedi_8254 *i8254,\n\t\t\t unsigned int counter, unsigned int mode);\nint comedi_8254_load(struct comedi_8254 *i8254,\n\t\t     unsigned int counter, unsigned int val, unsigned int mode);\n\nvoid comedi_8254_pacer_enable(struct comedi_8254 *i8254,\n\t\t\t      unsigned int counter1, unsigned int counter2,\n\t\t\t      bool enable);\nvoid comedi_8254_update_divisors(struct comedi_8254 *i8254);\nvoid comedi_8254_cascade_ns_to_timer(struct comedi_8254 *i8254,\n\t\t\t\t     unsigned int *nanosec, unsigned int flags);\nvoid comedi_8254_ns_to_timer(struct comedi_8254 *i8254,\n\t\t\t     unsigned int *nanosec, unsigned int flags);\n\nvoid comedi_8254_set_busy(struct comedi_8254 *i8254,\n\t\t\t  unsigned int counter, bool busy);\n\nvoid comedi_8254_subdevice_init(struct comedi_subdevice *s,\n\t\t\t\tstruct comedi_8254 *i8254);\n\nstruct comedi_8254 *comedi_8254_init(unsigned long iobase,\n\t\t\t\t     unsigned int osc_base,\n\t\t\t\t     unsigned int iosize,\n\t\t\t\t     unsigned int regshift);\nstruct comedi_8254 *comedi_8254_mm_init(void __iomem *mmio,\n\t\t\t\t\tunsigned int osc_base,\n\t\t\t\t\tunsigned int iosize,\n\t\t\t\t\tunsigned int regshift);\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}