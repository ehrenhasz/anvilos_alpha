{
  "module_name": "oom.h",
  "hash_id": "a6b649dafa02cca80f651657cfd98c5f00e628b18971c75fbc7130ee6cb2468f",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/oom.h",
  "human_readable_source": " \n#ifndef __INCLUDE_LINUX_OOM_H\n#define __INCLUDE_LINUX_OOM_H\n\n\n#include <linux/sched/signal.h>\n#include <linux/types.h>\n#include <linux/nodemask.h>\n#include <uapi/linux/oom.h>\n#include <linux/sched/coredump.h>  \n#include <linux/mm.h>  \n\nstruct zonelist;\nstruct notifier_block;\nstruct mem_cgroup;\nstruct task_struct;\n\nenum oom_constraint {\n\tCONSTRAINT_NONE,\n\tCONSTRAINT_CPUSET,\n\tCONSTRAINT_MEMORY_POLICY,\n\tCONSTRAINT_MEMCG,\n};\n\n \nstruct oom_control {\n\t \n\tstruct zonelist *zonelist;\n\n\t \n\tnodemask_t *nodemask;\n\n\t \n\tstruct mem_cgroup *memcg;\n\n\t \n\tconst gfp_t gfp_mask;\n\n\t \n\tconst int order;\n\n\t \n\tunsigned long totalpages;\n\tstruct task_struct *chosen;\n\tlong chosen_points;\n\n\t \n\tenum oom_constraint constraint;\n};\n\nextern struct mutex oom_lock;\nextern struct mutex oom_adj_mutex;\n\nstatic inline void set_current_oom_origin(void)\n{\n\tcurrent->signal->oom_flag_origin = true;\n}\n\nstatic inline void clear_current_oom_origin(void)\n{\n\tcurrent->signal->oom_flag_origin = false;\n}\n\nstatic inline bool oom_task_origin(const struct task_struct *p)\n{\n\treturn p->signal->oom_flag_origin;\n}\n\nstatic inline bool tsk_is_oom_victim(struct task_struct * tsk)\n{\n\treturn tsk->signal->oom_mm;\n}\n\n \nstatic inline vm_fault_t check_stable_address_space(struct mm_struct *mm)\n{\n\tif (unlikely(test_bit(MMF_UNSTABLE, &mm->flags)))\n\t\treturn VM_FAULT_SIGBUS;\n\treturn 0;\n}\n\nlong oom_badness(struct task_struct *p,\n\t\tunsigned long totalpages);\n\nextern bool out_of_memory(struct oom_control *oc);\n\nextern void exit_oom_victim(void);\n\nextern int register_oom_notifier(struct notifier_block *nb);\nextern int unregister_oom_notifier(struct notifier_block *nb);\n\nextern bool oom_killer_disable(signed long timeout);\nextern void oom_killer_enable(void);\n\nextern struct task_struct *find_lock_task_mm(struct task_struct *p);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}