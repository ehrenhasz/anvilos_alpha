{
  "module_name": "crash_core.h",
  "hash_id": "f2e338cedf6f48b76d4009bafdd8da66392143cdbf4cb209531e5739b38e6273",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/crash_core.h",
  "human_readable_source": " \n#ifndef LINUX_CRASH_CORE_H\n#define LINUX_CRASH_CORE_H\n\n#include <linux/linkage.h>\n#include <linux/elfcore.h>\n#include <linux/elf.h>\n\n#define CRASH_CORE_NOTE_NAME\t   \"CORE\"\n#define CRASH_CORE_NOTE_HEAD_BYTES ALIGN(sizeof(struct elf_note), 4)\n#define CRASH_CORE_NOTE_NAME_BYTES ALIGN(sizeof(CRASH_CORE_NOTE_NAME), 4)\n#define CRASH_CORE_NOTE_DESC_BYTES ALIGN(sizeof(struct elf_prstatus), 4)\n\n \n#define CRASH_CORE_NOTE_BYTES\t   ((CRASH_CORE_NOTE_HEAD_BYTES * 2) +\t\\\n\t\t\t\t     CRASH_CORE_NOTE_NAME_BYTES +\t\\\n\t\t\t\t     CRASH_CORE_NOTE_DESC_BYTES)\n\n#define VMCOREINFO_BYTES\t   PAGE_SIZE\n#define VMCOREINFO_NOTE_NAME\t   \"VMCOREINFO\"\n#define VMCOREINFO_NOTE_NAME_BYTES ALIGN(sizeof(VMCOREINFO_NOTE_NAME), 4)\n#define VMCOREINFO_NOTE_SIZE\t   ((CRASH_CORE_NOTE_HEAD_BYTES * 2) +\t\\\n\t\t\t\t     VMCOREINFO_NOTE_NAME_BYTES +\t\\\n\t\t\t\t     VMCOREINFO_BYTES)\n\ntypedef u32 note_buf_t[CRASH_CORE_NOTE_BYTES/4];\n \nextern note_buf_t __percpu *crash_notes;\n\nvoid crash_update_vmcoreinfo_safecopy(void *ptr);\nvoid crash_save_vmcoreinfo(void);\nvoid arch_crash_save_vmcoreinfo(void);\n__printf(1, 2)\nvoid vmcoreinfo_append_str(const char *fmt, ...);\nphys_addr_t paddr_vmcoreinfo_note(void);\n\n#define VMCOREINFO_OSRELEASE(value) \\\n\tvmcoreinfo_append_str(\"OSRELEASE=%s\\n\", value)\n#define VMCOREINFO_BUILD_ID()\t\t\t\t\t\t\\\n\t({\t\t\t\t\t\t\t\t\\\n\t\tstatic_assert(sizeof(vmlinux_build_id) == 20);\t\t\\\n\t\tvmcoreinfo_append_str(\"BUILD-ID=%20phN\\n\", vmlinux_build_id); \\\n\t})\n\n#define VMCOREINFO_PAGESIZE(value) \\\n\tvmcoreinfo_append_str(\"PAGESIZE=%ld\\n\", value)\n#define VMCOREINFO_SYMBOL(name) \\\n\tvmcoreinfo_append_str(\"SYMBOL(%s)=%lx\\n\", #name, (unsigned long)&name)\n#define VMCOREINFO_SYMBOL_ARRAY(name) \\\n\tvmcoreinfo_append_str(\"SYMBOL(%s)=%lx\\n\", #name, (unsigned long)name)\n#define VMCOREINFO_SIZE(name) \\\n\tvmcoreinfo_append_str(\"SIZE(%s)=%lu\\n\", #name, \\\n\t\t\t      (unsigned long)sizeof(name))\n#define VMCOREINFO_STRUCT_SIZE(name) \\\n\tvmcoreinfo_append_str(\"SIZE(%s)=%lu\\n\", #name, \\\n\t\t\t      (unsigned long)sizeof(struct name))\n#define VMCOREINFO_OFFSET(name, field) \\\n\tvmcoreinfo_append_str(\"OFFSET(%s.%s)=%lu\\n\", #name, #field, \\\n\t\t\t      (unsigned long)offsetof(struct name, field))\n#define VMCOREINFO_TYPE_OFFSET(name, field) \\\n\tvmcoreinfo_append_str(\"OFFSET(%s.%s)=%lu\\n\", #name, #field, \\\n\t\t\t      (unsigned long)offsetof(name, field))\n#define VMCOREINFO_LENGTH(name, value) \\\n\tvmcoreinfo_append_str(\"LENGTH(%s)=%lu\\n\", #name, (unsigned long)value)\n#define VMCOREINFO_NUMBER(name) \\\n\tvmcoreinfo_append_str(\"NUMBER(%s)=%ld\\n\", #name, (long)name)\n#define VMCOREINFO_CONFIG(name) \\\n\tvmcoreinfo_append_str(\"CONFIG_%s=y\\n\", #name)\n\nextern unsigned char *vmcoreinfo_data;\nextern size_t vmcoreinfo_size;\nextern u32 *vmcoreinfo_note;\n\nElf_Word *append_elf_note(Elf_Word *buf, char *name, unsigned int type,\n\t\t\t  void *data, size_t data_len);\nvoid final_note(Elf_Word *buf);\n\nint __init parse_crashkernel(char *cmdline, unsigned long long system_ram,\n\t\tunsigned long long *crash_size, unsigned long long *crash_base);\nint parse_crashkernel_high(char *cmdline, unsigned long long system_ram,\n\t\tunsigned long long *crash_size, unsigned long long *crash_base);\nint parse_crashkernel_low(char *cmdline, unsigned long long system_ram,\n\t\tunsigned long long *crash_size, unsigned long long *crash_base);\n\n \n#define ELF_CORE_HEADER_ALIGN   4096\n\nstruct crash_mem {\n\tunsigned int max_nr_ranges;\n\tunsigned int nr_ranges;\n\tstruct range ranges[];\n};\n\nextern int crash_exclude_mem_range(struct crash_mem *mem,\n\t\t\t\t   unsigned long long mstart,\n\t\t\t\t   unsigned long long mend);\nextern int crash_prepare_elf64_headers(struct crash_mem *mem, int need_kernel_map,\n\t\t\t\t       void **addr, unsigned long *sz);\n\nstruct kimage;\nstruct kexec_segment;\n\n#define KEXEC_CRASH_HP_NONE\t\t\t0\n#define KEXEC_CRASH_HP_ADD_CPU\t\t\t1\n#define KEXEC_CRASH_HP_REMOVE_CPU\t\t2\n#define KEXEC_CRASH_HP_ADD_MEMORY\t\t3\n#define KEXEC_CRASH_HP_REMOVE_MEMORY\t\t4\n#define KEXEC_CRASH_HP_INVALID_CPU\t\t-1U\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}