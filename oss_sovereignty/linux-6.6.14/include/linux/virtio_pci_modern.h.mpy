{
  "module_name": "virtio_pci_modern.h",
  "hash_id": "f5f68f87188e7aec35b2d33e39d433f754d0690f6f4e1d2cf268122fd67827c4",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/virtio_pci_modern.h",
  "human_readable_source": " \n#ifndef _LINUX_VIRTIO_PCI_MODERN_H\n#define _LINUX_VIRTIO_PCI_MODERN_H\n\n#include <linux/pci.h>\n#include <linux/virtio_pci.h>\n\nstruct virtio_pci_modern_common_cfg {\n\tstruct virtio_pci_common_cfg cfg;\n\n\t__le16 queue_notify_data;\t \n\t__le16 queue_reset;\t\t \n};\n\nstruct virtio_pci_modern_device {\n\tstruct pci_dev *pci_dev;\n\n\tstruct virtio_pci_common_cfg __iomem *common;\n\t \n\tvoid __iomem *device;\n\t \n\tvoid __iomem *notify_base;\n\t \n\tresource_size_t notify_pa;\n\t \n\tu8 __iomem *isr;\n\n\t \n\tsize_t notify_len;\n\tsize_t device_len;\n\n\t \n\tint notify_map_cap;\n\n\t \n\tu32 notify_offset_multiplier;\n\n\tint modern_bars;\n\n\tstruct virtio_device_id id;\n\n\t \n\tint (*device_id_check)(struct pci_dev *pdev);\n\n\t \n\tu64 dma_mask;\n};\n\n \nstatic inline u8 vp_ioread8(const u8 __iomem *addr)\n{\n\treturn ioread8(addr);\n}\nstatic inline u16 vp_ioread16 (const __le16 __iomem *addr)\n{\n\treturn ioread16(addr);\n}\n\nstatic inline u32 vp_ioread32(const __le32 __iomem *addr)\n{\n\treturn ioread32(addr);\n}\n\nstatic inline void vp_iowrite8(u8 value, u8 __iomem *addr)\n{\n\tiowrite8(value, addr);\n}\n\nstatic inline void vp_iowrite16(u16 value, __le16 __iomem *addr)\n{\n\tiowrite16(value, addr);\n}\n\nstatic inline void vp_iowrite32(u32 value, __le32 __iomem *addr)\n{\n\tiowrite32(value, addr);\n}\n\nstatic inline void vp_iowrite64_twopart(u64 val,\n\t\t\t\t\t__le32 __iomem *lo,\n\t\t\t\t\t__le32 __iomem *hi)\n{\n\tvp_iowrite32((u32)val, lo);\n\tvp_iowrite32(val >> 32, hi);\n}\n\nu64 vp_modern_get_features(struct virtio_pci_modern_device *mdev);\nu64 vp_modern_get_driver_features(struct virtio_pci_modern_device *mdev);\nvoid vp_modern_set_features(struct virtio_pci_modern_device *mdev,\n\t\t     u64 features);\nu32 vp_modern_generation(struct virtio_pci_modern_device *mdev);\nu8 vp_modern_get_status(struct virtio_pci_modern_device *mdev);\nvoid vp_modern_set_status(struct virtio_pci_modern_device *mdev,\n\t\t   u8 status);\nu16 vp_modern_queue_vector(struct virtio_pci_modern_device *mdev,\n\t\t\t   u16 idx, u16 vector);\nu16 vp_modern_config_vector(struct virtio_pci_modern_device *mdev,\n\t\t     u16 vector);\nvoid vp_modern_queue_address(struct virtio_pci_modern_device *mdev,\n\t\t\t     u16 index, u64 desc_addr, u64 driver_addr,\n\t\t\t     u64 device_addr);\nvoid vp_modern_set_queue_enable(struct virtio_pci_modern_device *mdev,\n\t\t\t\tu16 idx, bool enable);\nbool vp_modern_get_queue_enable(struct virtio_pci_modern_device *mdev,\n\t\t\t\tu16 idx);\nvoid vp_modern_set_queue_size(struct virtio_pci_modern_device *mdev,\n\t\t\t      u16 idx, u16 size);\nu16 vp_modern_get_queue_size(struct virtio_pci_modern_device *mdev,\n\t\t\t     u16 idx);\nu16 vp_modern_get_num_queues(struct virtio_pci_modern_device *mdev);\nvoid __iomem * vp_modern_map_vq_notify(struct virtio_pci_modern_device *mdev,\n\t\t\t\t       u16 index, resource_size_t *pa);\nint vp_modern_probe(struct virtio_pci_modern_device *mdev);\nvoid vp_modern_remove(struct virtio_pci_modern_device *mdev);\nint vp_modern_get_queue_reset(struct virtio_pci_modern_device *mdev, u16 index);\nvoid vp_modern_set_queue_reset(struct virtio_pci_modern_device *mdev, u16 index);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}