{
  "module_name": "enclosure.h",
  "hash_id": "3e5824d1a1a6204906cce67c2b729da1ce45a6589e8ab613e82e52ba5a599d7c",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/enclosure.h",
  "human_readable_source": " \n \n#ifndef _LINUX_ENCLOSURE_H_\n#define _LINUX_ENCLOSURE_H_\n\n#include <linux/device.h>\n#include <linux/list.h>\n\n \nenum enclosure_component_type {\n\tENCLOSURE_COMPONENT_DEVICE = 0x01,\n\tENCLOSURE_COMPONENT_CONTROLLER_ELECTRONICS = 0x07,\n\tENCLOSURE_COMPONENT_SCSI_TARGET_PORT = 0x14,\n\tENCLOSURE_COMPONENT_SCSI_INITIATOR_PORT = 0x15,\n\tENCLOSURE_COMPONENT_ARRAY_DEVICE = 0x17,\n\tENCLOSURE_COMPONENT_SAS_EXPANDER = 0x18,\n};\n\n \nenum enclosure_status {\n\tENCLOSURE_STATUS_UNSUPPORTED = 0,\n\tENCLOSURE_STATUS_OK,\n\tENCLOSURE_STATUS_CRITICAL,\n\tENCLOSURE_STATUS_NON_CRITICAL,\n\tENCLOSURE_STATUS_UNRECOVERABLE,\n\tENCLOSURE_STATUS_NOT_INSTALLED,\n\tENCLOSURE_STATUS_UNKNOWN,\n\tENCLOSURE_STATUS_UNAVAILABLE,\n\t \n\tENCLOSURE_STATUS_MAX\n};\n\n \nenum enclosure_component_setting {\n\tENCLOSURE_SETTING_DISABLED = 0,\n\tENCLOSURE_SETTING_ENABLED = 1,\n\tENCLOSURE_SETTING_BLINK_A_ON_OFF = 2,\n\tENCLOSURE_SETTING_BLINK_A_OFF_ON = 3,\n\tENCLOSURE_SETTING_BLINK_B_ON_OFF = 6,\n\tENCLOSURE_SETTING_BLINK_B_OFF_ON = 7,\n};\n\nstruct enclosure_device;\nstruct enclosure_component;\nstruct enclosure_component_callbacks {\n\tvoid (*get_status)(struct enclosure_device *,\n\t\t\t     struct enclosure_component *);\n\tint (*set_status)(struct enclosure_device *,\n\t\t\t  struct enclosure_component *,\n\t\t\t  enum enclosure_status);\n\tvoid (*get_fault)(struct enclosure_device *,\n\t\t\t  struct enclosure_component *);\n\tint (*set_fault)(struct enclosure_device *,\n\t\t\t struct enclosure_component *,\n\t\t\t enum enclosure_component_setting);\n\tvoid (*get_active)(struct enclosure_device *,\n\t\t\t   struct enclosure_component *);\n\tint (*set_active)(struct enclosure_device *,\n\t\t\t  struct enclosure_component *,\n\t\t\t  enum enclosure_component_setting);\n\tvoid (*get_locate)(struct enclosure_device *,\n\t\t\t   struct enclosure_component *);\n\tint (*set_locate)(struct enclosure_device *,\n\t\t\t  struct enclosure_component *,\n\t\t\t  enum enclosure_component_setting);\n\tvoid (*get_power_status)(struct enclosure_device *,\n\t\t\t\t struct enclosure_component *);\n\tint (*set_power_status)(struct enclosure_device *,\n\t\t\t\tstruct enclosure_component *,\n\t\t\t\tint);\n\tint (*show_id)(struct enclosure_device *, char *buf);\n};\n\n\nstruct enclosure_component {\n\tvoid *scratch;\n\tstruct device cdev;\n\tstruct device *dev;\n\tenum enclosure_component_type type;\n\tint number;\n\tint fault;\n\tint active;\n\tint locate;\n\tint slot;\n\tenum enclosure_status status;\n\tint power_status;\n};\n\nstruct enclosure_device {\n\tvoid *scratch;\n\tstruct list_head node;\n\tstruct device edev;\n\tstruct enclosure_component_callbacks *cb;\n\tint components;\n\tstruct enclosure_component component[];\n};\n\nstatic inline struct enclosure_device *\nto_enclosure_device(struct device *dev)\n{\n\treturn container_of(dev, struct enclosure_device, edev);\n}\n\nstatic inline struct enclosure_component *\nto_enclosure_component(struct device *dev)\n{\n\treturn container_of(dev, struct enclosure_component, cdev);\n}\n\nstruct enclosure_device *\nenclosure_register(struct device *, const char *, int,\n\t\t   struct enclosure_component_callbacks *);\nvoid enclosure_unregister(struct enclosure_device *);\nstruct enclosure_component *\nenclosure_component_alloc(struct enclosure_device *, unsigned int,\n\t\t\t  enum enclosure_component_type, const char *);\nint enclosure_component_register(struct enclosure_component *);\nint enclosure_add_device(struct enclosure_device *enclosure, int component,\n\t\t\t struct device *dev);\nint enclosure_remove_device(struct enclosure_device *, struct device *);\nstruct enclosure_device *enclosure_find(struct device *dev,\n\t\t\t\t\tstruct enclosure_device *start);\nint enclosure_for_each_device(int (*fn)(struct enclosure_device *, void *),\n\t\t\t      void *data);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}