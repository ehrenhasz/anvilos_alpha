{
  "module_name": "pxa2xx_ssp.h",
  "hash_id": "90730aa0fd862b192a2c003da94da1b532f38fd247fc8ea7de28f4d42d8604b7",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/pxa2xx_ssp.h",
  "human_readable_source": " \n \n\n#ifndef __LINUX_PXA2XX_SSP_H\n#define __LINUX_PXA2XX_SSP_H\n\n#include <linux/bits.h>\n#include <linux/compiler_types.h>\n#include <linux/io.h>\n#include <linux/kconfig.h>\n#include <linux/list.h>\n#include <linux/types.h>\n\nstruct clk;\nstruct device;\nstruct device_node;\n\n \n\n#define SSCR0\t\t(0x00)   \n#define SSCR1\t\t(0x04)   \n#define SSSR\t\t(0x08)   \n#define SSITR\t\t(0x0C)   \n#define SSDR\t\t(0x10)   \n\n#define SSTO\t\t(0x28)   \n#define SSPSP\t\t(0x2C)   \n#define SSTSA\t\t(0x30)   \n#define SSRSA\t\t(0x34)   \n#define SSTSS\t\t(0x38)   \n#define SSACD\t\t(0x3C)   \n#define SSACDD\t\t(0x40)\t \n\n \n#define SSCR0_DSS\tGENMASK(3, 0)\t \n#define SSCR0_DataSize(x)  ((x) - 1)\t \n#define SSCR0_FRF\tGENMASK(5, 4)\t \n#define SSCR0_Motorola\t(0x0 << 4)\t \n#define SSCR0_TI\t(0x1 << 4)\t \n#define SSCR0_National\t(0x2 << 4)\t \n#define SSCR0_ECS\tBIT(6)\t\t \n#define SSCR0_SSE\tBIT(7)\t\t \n#define SSCR0_SCR(x)\t((x) << 8)\t \n\n \n#define SSCR0_EDSS\tBIT(20)\t\t \n#define SSCR0_NCS\tBIT(21)\t\t \n#define SSCR0_RIM\tBIT(22)\t\t \n#define SSCR0_TUM\tBIT(23)\t\t \n#define SSCR0_FRDC\tGENMASK(26, 24)\t \n#define SSCR0_SlotsPerFrm(x) (((x) - 1) << 24)\t \n#define SSCR0_FPCKE\tBIT(29)\t\t \n#define SSCR0_ACS\tBIT(30)\t\t \n#define SSCR0_MOD\tBIT(31)\t\t \n\n#define SSCR1_RIE\tBIT(0)\t\t \n#define SSCR1_TIE\tBIT(1)\t\t \n#define SSCR1_LBM\tBIT(2)\t\t \n#define SSCR1_SPO\tBIT(3)\t\t \n#define SSCR1_SPH\tBIT(4)\t\t \n#define SSCR1_MWDS\tBIT(5)\t\t \n\n#define SSSR_ALT_FRM_MASK\tGENMASK(1, 0)\t \n#define SSSR_TNF\t\tBIT(2)\t\t \n#define SSSR_RNE\t\tBIT(3)\t\t \n#define SSSR_BSY\t\tBIT(4)\t\t \n#define SSSR_TFS\t\tBIT(5)\t\t \n#define SSSR_RFS\t\tBIT(6)\t\t \n#define SSSR_ROR\t\tBIT(7)\t\t \n\n#define RX_THRESH_DFLT\t8\n#define TX_THRESH_DFLT\t8\n\n#define SSSR_TFL_MASK\tGENMASK(11, 8)\t \n#define SSSR_RFL_MASK\tGENMASK(15, 12)\t \n\n#define SSCR1_TFT\tGENMASK(9, 6)\t \n#define SSCR1_TxTresh(x) (((x) - 1) << 6)\t \n#define SSCR1_RFT\tGENMASK(13, 10)\t \n#define SSCR1_RxTresh(x) (((x) - 1) << 10)\t \n\n#define RX_THRESH_CE4100_DFLT\t2\n#define TX_THRESH_CE4100_DFLT\t2\n\n#define CE4100_SSSR_TFL_MASK\tGENMASK(9, 8)\t \n#define CE4100_SSSR_RFL_MASK\tGENMASK(13, 12)\t \n\n#define CE4100_SSCR1_TFT\tGENMASK(7, 6)\t \n#define CE4100_SSCR1_TxTresh(x) (((x) - 1) << 6)\t \n#define CE4100_SSCR1_RFT\tGENMASK(11, 10)\t \n#define CE4100_SSCR1_RxTresh(x) (((x) - 1) << 10)\t \n\n \n#define DDS_RATE\t\t0x28\t\t  \n\n \n#define QUARK_X1000_SSCR0_DSS\t\tGENMASK(4, 0)\t \n#define QUARK_X1000_SSCR0_DataSize(x)\t((x) - 1)\t \n#define QUARK_X1000_SSCR0_FRF\t\tGENMASK(6, 5)\t \n#define QUARK_X1000_SSCR0_Motorola\t(0x0 << 5)\t \n\n#define RX_THRESH_QUARK_X1000_DFLT\t1\n#define TX_THRESH_QUARK_X1000_DFLT\t16\n\n#define QUARK_X1000_SSSR_TFL_MASK\tGENMASK(12, 8)\t \n#define QUARK_X1000_SSSR_RFL_MASK\tGENMASK(17, 13)\t \n\n#define QUARK_X1000_SSCR1_TFT\tGENMASK(10, 6)\t \n#define QUARK_X1000_SSCR1_TxTresh(x) (((x) - 1) << 6)\t \n#define QUARK_X1000_SSCR1_RFT\tGENMASK(15, 11)\t \n#define QUARK_X1000_SSCR1_RxTresh(x) (((x) - 1) << 11)\t \n#define QUARK_X1000_SSCR1_EFWR\tBIT(16)\t\t \n#define QUARK_X1000_SSCR1_STRF\tBIT(17)\t\t \n\n \n#define SSCR0_TISSP\t\t(1 << 4)\t \n#define SSCR0_PSP\t\t(3 << 4)\t \n\n#define SSCR1_EFWR\t\tBIT(14)\t\t \n#define SSCR1_STRF\t\tBIT(15)\t\t \n#define SSCR1_IFS\t\tBIT(16)\t\t \n#define SSCR1_PINTE\t\tBIT(18)\t\t \n#define SSCR1_TINTE\t\tBIT(19)\t\t \n#define SSCR1_RSRE\t\tBIT(20)\t\t \n#define SSCR1_TSRE\t\tBIT(21)\t\t \n#define SSCR1_TRAIL\t\tBIT(22)\t\t \n#define SSCR1_RWOT\t\tBIT(23)\t\t \n#define SSCR1_SFRMDIR\t\tBIT(24)\t\t \n#define SSCR1_SCLKDIR\t\tBIT(25)\t\t \n#define SSCR1_ECRB\t\tBIT(26)\t\t \n#define SSCR1_ECRA\t\tBIT(27)\t\t \n#define SSCR1_SCFR\t\tBIT(28)\t\t \n#define SSCR1_EBCEI\t\tBIT(29)\t\t \n#define SSCR1_TTE\t\tBIT(30)\t\t \n#define SSCR1_TTELP\t\tBIT(31)\t\t \n\n#define SSSR_PINT\t\tBIT(18)\t\t \n#define SSSR_TINT\t\tBIT(19)\t\t \n#define SSSR_EOC\t\tBIT(20)\t\t \n#define SSSR_TUR\t\tBIT(21)\t\t \n#define SSSR_CSS\t\tBIT(22)\t\t \n#define SSSR_BCE\t\tBIT(23)\t\t \n\n#define SSPSP_SCMODE(x)\t\t((x) << 0)\t \n#define SSPSP_SFRMP\t\tBIT(2)\t\t \n#define SSPSP_ETDS\t\tBIT(3)\t\t \n#define SSPSP_STRTDLY(x)\t((x) << 4)\t \n#define SSPSP_DMYSTRT(x)\t((x) << 7)\t \n#define SSPSP_SFRMDLY(x)\t((x) << 9)\t \n#define SSPSP_SFRMWDTH(x)\t((x) << 16)\t \n#define SSPSP_DMYSTOP(x)\t((x) << 23)\t \n#define SSPSP_FSRT\t\tBIT(25)\t\t \n\n \n#define SSPSP_EDMYSTRT(x)\t((x) << 26)      \n#define SSPSP_EDMYSTOP(x)\t((x) << 28)      \n#define SSPSP_TIMING_MASK\t(0x7f8001f0)\n\n#define SSACD_ACDS(x)\t\t((x) << 0)\t \n#define SSACD_ACDS_1\t\t(0)\n#define SSACD_ACDS_2\t\t(1)\n#define SSACD_ACDS_4\t\t(2)\n#define SSACD_ACDS_8\t\t(3)\n#define SSACD_ACDS_16\t\t(4)\n#define SSACD_ACDS_32\t\t(5)\n#define SSACD_SCDB\t\tBIT(3)\t\t \n#define SSACD_SCDB_4X\t\t(0)\n#define SSACD_SCDB_1X\t\t(1)\n#define SSACD_ACPS(x)\t\t((x) << 4)\t \n#define SSACD_SCDX8\t\tBIT(7)\t\t \n\n \n#define SFIFOL\t\t\t0x68\t\t \n#define SFIFOTT\t\t\t0x6c\t\t \n\n#define RX_THRESH_MRFLD_DFLT\t16\n#define TX_THRESH_MRFLD_DFLT\t16\n\n#define SFIFOL_TFL_MASK\t\tGENMASK(15, 0)\t \n#define SFIFOL_RFL_MASK\t\tGENMASK(31, 16)\t \n\n#define SFIFOTT_TFT\t\tGENMASK(15, 0)\t \n#define SFIFOTT_TxThresh(x)\t(((x) - 1) << 0)\t \n#define SFIFOTT_RFT\t\tGENMASK(31, 16)\t \n#define SFIFOTT_RxThresh(x)\t(((x) - 1) << 16)\t \n\n \n#define SSITF\t\t\t0x44\t\t \n#define SSITF_TxHiThresh(x)\t(((x) - 1) << 0)\n#define SSITF_TxLoThresh(x)\t(((x) - 1) << 8)\n\n#define SSIRF\t\t\t0x48\t\t \n#define SSIRF_RxThresh(x)\t((x) - 1)\n\n \n#define SSCR2\t\t(0x40)\t \n#define SSPSP2\t\t(0x44)\t \n\nenum pxa_ssp_type {\n\tSSP_UNDEFINED = 0,\n\tPXA25x_SSP,   \n\tPXA25x_NSSP,  \n\tPXA27x_SSP,\n\tPXA3xx_SSP,\n\tPXA168_SSP,\n\tMMP2_SSP,\n\tPXA910_SSP,\n\tCE4100_SSP,\n\tMRFLD_SSP,\n\tQUARK_X1000_SSP,\n\t \n\tLPSS_LPT_SSP,\n\tLPSS_BYT_SSP,\n\tLPSS_BSW_SSP,\n\tLPSS_SPT_SSP,\n\tLPSS_BXT_SSP,\n\tLPSS_CNL_SSP,\n\tSSP_MAX\n};\n\nstruct ssp_device {\n\tstruct device\t*dev;\n\tstruct list_head\tnode;\n\n\tstruct clk\t*clk;\n\tvoid __iomem\t*mmio_base;\n\tunsigned long\tphys_base;\n\n\tconst char\t*label;\n\tint\t\tport_id;\n\tenum pxa_ssp_type type;\n\tint\t\tuse_count;\n\tint\t\tirq;\n\n\tstruct device_node\t*of_node;\n};\n\n \nstatic inline void pxa_ssp_write_reg(struct ssp_device *dev, u32 reg, u32 val)\n{\n\t__raw_writel(val, dev->mmio_base + reg);\n}\n\n \nstatic inline u32 pxa_ssp_read_reg(struct ssp_device *dev, u32 reg)\n{\n\treturn __raw_readl(dev->mmio_base + reg);\n}\n\nstatic inline void pxa_ssp_enable(struct ssp_device *ssp)\n{\n\tu32 sscr0;\n\n\tsscr0 = pxa_ssp_read_reg(ssp, SSCR0) | SSCR0_SSE;\n\tpxa_ssp_write_reg(ssp, SSCR0, sscr0);\n}\n\nstatic inline void pxa_ssp_disable(struct ssp_device *ssp)\n{\n\tu32 sscr0;\n\n\tsscr0 = pxa_ssp_read_reg(ssp, SSCR0) & ~SSCR0_SSE;\n\tpxa_ssp_write_reg(ssp, SSCR0, sscr0);\n}\n\n#if IS_ENABLED(CONFIG_PXA_SSP)\nstruct ssp_device *pxa_ssp_request(int port, const char *label);\nvoid pxa_ssp_free(struct ssp_device *);\nstruct ssp_device *pxa_ssp_request_of(const struct device_node *of_node,\n\t\t\t\t      const char *label);\n#else\nstatic inline struct ssp_device *pxa_ssp_request(int port, const char *label)\n{\n\treturn NULL;\n}\nstatic inline struct ssp_device *pxa_ssp_request_of(const struct device_node *n,\n\t\t\t\t\t\t    const char *name)\n{\n\treturn NULL;\n}\nstatic inline void pxa_ssp_free(struct ssp_device *ssp) {}\n#endif\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}