{
  "module_name": "mmdebug.h",
  "hash_id": "547a1895a6cef6c72f785d8d4da6921f386926d4a508713ef6e1d7818dd7e501",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/mmdebug.h",
  "human_readable_source": " \n#ifndef LINUX_MM_DEBUG_H\n#define LINUX_MM_DEBUG_H 1\n\n#include <linux/bug.h>\n#include <linux/stringify.h>\n\nstruct page;\nstruct vm_area_struct;\nstruct mm_struct;\nstruct vma_iterator;\n\nvoid dump_page(struct page *page, const char *reason);\nvoid dump_vma(const struct vm_area_struct *vma);\nvoid dump_mm(const struct mm_struct *mm);\nvoid vma_iter_dump_tree(const struct vma_iterator *vmi);\n\n#ifdef CONFIG_DEBUG_VM\n#define VM_BUG_ON(cond) BUG_ON(cond)\n#define VM_BUG_ON_PAGE(cond, page)\t\t\t\t\t\\\n\tdo {\t\t\t\t\t\t\t\t\\\n\t\tif (unlikely(cond)) {\t\t\t\t\t\\\n\t\t\tdump_page(page, \"VM_BUG_ON_PAGE(\" __stringify(cond)\")\");\\\n\t\t\tBUG();\t\t\t\t\t\t\\\n\t\t}\t\t\t\t\t\t\t\\\n\t} while (0)\n#define VM_BUG_ON_FOLIO(cond, folio)\t\t\t\t\t\\\n\tdo {\t\t\t\t\t\t\t\t\\\n\t\tif (unlikely(cond)) {\t\t\t\t\t\\\n\t\t\tdump_page(&folio->page, \"VM_BUG_ON_FOLIO(\" __stringify(cond)\")\");\\\n\t\t\tBUG();\t\t\t\t\t\t\\\n\t\t}\t\t\t\t\t\t\t\\\n\t} while (0)\n#define VM_BUG_ON_VMA(cond, vma)\t\t\t\t\t\\\n\tdo {\t\t\t\t\t\t\t\t\\\n\t\tif (unlikely(cond)) {\t\t\t\t\t\\\n\t\t\tdump_vma(vma);\t\t\t\t\t\\\n\t\t\tBUG();\t\t\t\t\t\t\\\n\t\t}\t\t\t\t\t\t\t\\\n\t} while (0)\n#define VM_BUG_ON_MM(cond, mm)\t\t\t\t\t\t\\\n\tdo {\t\t\t\t\t\t\t\t\\\n\t\tif (unlikely(cond)) {\t\t\t\t\t\\\n\t\t\tdump_mm(mm);\t\t\t\t\t\\\n\t\t\tBUG();\t\t\t\t\t\t\\\n\t\t}\t\t\t\t\t\t\t\\\n\t} while (0)\n#define VM_WARN_ON_ONCE_PAGE(cond, page)\t({\t\t\t\\\n\tstatic bool __section(\".data.once\") __warned;\t\t\t\\\n\tint __ret_warn_once = !!(cond);\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\tif (unlikely(__ret_warn_once && !__warned)) {\t\t\t\\\n\t\tdump_page(page, \"VM_WARN_ON_ONCE_PAGE(\" __stringify(cond)\")\");\\\n\t\t__warned = true;\t\t\t\t\t\\\n\t\tWARN_ON(1);\t\t\t\t\t\t\\\n\t}\t\t\t\t\t\t\t\t\\\n\tunlikely(__ret_warn_once);\t\t\t\t\t\\\n})\n#define VM_WARN_ON_FOLIO(cond, folio)\t\t({\t\t\t\\\n\tint __ret_warn = !!(cond);\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\tif (unlikely(__ret_warn)) {\t\t\t\t\t\\\n\t\tdump_page(&folio->page, \"VM_WARN_ON_FOLIO(\" __stringify(cond)\")\");\\\n\t\tWARN_ON(1);\t\t\t\t\t\t\\\n\t}\t\t\t\t\t\t\t\t\\\n\tunlikely(__ret_warn);\t\t\t\t\t\t\\\n})\n#define VM_WARN_ON_ONCE_FOLIO(cond, folio)\t({\t\t\t\\\n\tstatic bool __section(\".data.once\") __warned;\t\t\t\\\n\tint __ret_warn_once = !!(cond);\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\tif (unlikely(__ret_warn_once && !__warned)) {\t\t\t\\\n\t\tdump_page(&folio->page, \"VM_WARN_ON_ONCE_FOLIO(\" __stringify(cond)\")\");\\\n\t\t__warned = true;\t\t\t\t\t\\\n\t\tWARN_ON(1);\t\t\t\t\t\t\\\n\t}\t\t\t\t\t\t\t\t\\\n\tunlikely(__ret_warn_once);\t\t\t\t\t\\\n})\n#define VM_WARN_ON_ONCE_MM(cond, mm)\t\t({\t\t\t\\\n\tstatic bool __section(\".data.once\") __warned;\t\t\t\\\n\tint __ret_warn_once = !!(cond);\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\tif (unlikely(__ret_warn_once && !__warned)) {\t\t\t\\\n\t\tdump_mm(mm);\t\t\t\t\t\t\\\n\t\t__warned = true;\t\t\t\t\t\\\n\t\tWARN_ON(1);\t\t\t\t\t\t\\\n\t}\t\t\t\t\t\t\t\t\\\n\tunlikely(__ret_warn_once);\t\t\t\t\t\\\n})\n\n#define VM_WARN_ON(cond) (void)WARN_ON(cond)\n#define VM_WARN_ON_ONCE(cond) (void)WARN_ON_ONCE(cond)\n#define VM_WARN_ONCE(cond, format...) (void)WARN_ONCE(cond, format)\n#define VM_WARN(cond, format...) (void)WARN(cond, format)\n#else\n#define VM_BUG_ON(cond) BUILD_BUG_ON_INVALID(cond)\n#define VM_BUG_ON_PAGE(cond, page) VM_BUG_ON(cond)\n#define VM_BUG_ON_FOLIO(cond, folio) VM_BUG_ON(cond)\n#define VM_BUG_ON_VMA(cond, vma) VM_BUG_ON(cond)\n#define VM_BUG_ON_MM(cond, mm) VM_BUG_ON(cond)\n#define VM_WARN_ON(cond) BUILD_BUG_ON_INVALID(cond)\n#define VM_WARN_ON_ONCE(cond) BUILD_BUG_ON_INVALID(cond)\n#define VM_WARN_ON_ONCE_PAGE(cond, page)  BUILD_BUG_ON_INVALID(cond)\n#define VM_WARN_ON_FOLIO(cond, folio)  BUILD_BUG_ON_INVALID(cond)\n#define VM_WARN_ON_ONCE_FOLIO(cond, folio)  BUILD_BUG_ON_INVALID(cond)\n#define VM_WARN_ON_ONCE_MM(cond, mm)  BUILD_BUG_ON_INVALID(cond)\n#define VM_WARN_ONCE(cond, format...) BUILD_BUG_ON_INVALID(cond)\n#define VM_WARN(cond, format...) BUILD_BUG_ON_INVALID(cond)\n#endif\n\n#ifdef CONFIG_DEBUG_VM_IRQSOFF\n#define VM_WARN_ON_IRQS_ENABLED() WARN_ON_ONCE(!irqs_disabled())\n#else\n#define VM_WARN_ON_IRQS_ENABLED() do { } while (0)\n#endif\n\n#ifdef CONFIG_DEBUG_VIRTUAL\n#define VIRTUAL_BUG_ON(cond) BUG_ON(cond)\n#else\n#define VIRTUAL_BUG_ON(cond) do { } while (0)\n#endif\n\n#ifdef CONFIG_DEBUG_VM_PGFLAGS\n#define VM_BUG_ON_PGFLAGS(cond, page) VM_BUG_ON_PAGE(cond, page)\n#else\n#define VM_BUG_ON_PGFLAGS(cond, page) BUILD_BUG_ON_INVALID(cond)\n#endif\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}