{
  "module_name": "mxs-spi.h",
  "hash_id": "ac511ed35da91f26e4eb064d2282d8c9f98e2a167ae04759f909d65f3a9c62c5",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/spi/mxs-spi.h",
  "human_readable_source": " \n \n\n#ifndef __LINUX_SPI_MXS_SPI_H__\n#define __LINUX_SPI_MXS_SPI_H__\n\n#include <linux/dmaengine.h>\n\n#define ssp_is_old(host)\t((host)->devid == IMX23_SSP)\n\n \n#define HW_SSP_CTRL0\t\t\t\t0x000\n#define  BM_SSP_CTRL0_RUN\t\t\t(1 << 29)\n#define  BM_SSP_CTRL0_SDIO_IRQ_CHECK\t\t(1 << 28)\n#define  BM_SSP_CTRL0_LOCK_CS\t\t\t(1 << 27)\n#define  BM_SSP_CTRL0_IGNORE_CRC\t\t(1 << 26)\n#define  BM_SSP_CTRL0_READ\t\t\t(1 << 25)\n#define  BM_SSP_CTRL0_DATA_XFER\t\t\t(1 << 24)\n#define  BP_SSP_CTRL0_BUS_WIDTH\t\t\t22\n#define  BM_SSP_CTRL0_BUS_WIDTH\t\t\t(0x3 << 22)\n#define  BM_SSP_CTRL0_WAIT_FOR_IRQ\t\t(1 << 21)\n#define  BM_SSP_CTRL0_WAIT_FOR_CMD\t\t(1 << 20)\n#define  BM_SSP_CTRL0_LONG_RESP\t\t\t(1 << 19)\n#define  BM_SSP_CTRL0_GET_RESP\t\t\t(1 << 17)\n#define  BM_SSP_CTRL0_ENABLE\t\t\t(1 << 16)\n#define  BP_SSP_CTRL0_XFER_COUNT\t\t0\n#define  BM_SSP_CTRL0_XFER_COUNT\t\t0xffff\n#define HW_SSP_CMD0\t\t\t\t0x010\n#define  BM_SSP_CMD0_DBL_DATA_RATE_EN\t\t(1 << 25)\n#define  BM_SSP_CMD0_SLOW_CLKING_EN\t\t(1 << 22)\n#define  BM_SSP_CMD0_CONT_CLKING_EN\t\t(1 << 21)\n#define  BM_SSP_CMD0_APPEND_8CYC\t\t(1 << 20)\n#define  BP_SSP_CMD0_BLOCK_SIZE\t\t\t16\n#define  BM_SSP_CMD0_BLOCK_SIZE\t\t\t(0xf << 16)\n#define  BP_SSP_CMD0_BLOCK_COUNT\t\t8\n#define  BM_SSP_CMD0_BLOCK_COUNT\t\t(0xff << 8)\n#define  BP_SSP_CMD0_CMD\t\t\t0\n#define  BM_SSP_CMD0_CMD\t\t\t0xff\n#define HW_SSP_CMD1\t\t\t\t0x020\n#define HW_SSP_XFER_SIZE\t\t\t0x030\n#define HW_SSP_BLOCK_SIZE\t\t\t0x040\n#define  BP_SSP_BLOCK_SIZE_BLOCK_COUNT\t\t4\n#define  BM_SSP_BLOCK_SIZE_BLOCK_COUNT\t\t(0xffffff << 4)\n#define  BP_SSP_BLOCK_SIZE_BLOCK_SIZE\t\t0\n#define  BM_SSP_BLOCK_SIZE_BLOCK_SIZE\t\t0xf\n#define HW_SSP_TIMING(h)\t\t\t(ssp_is_old(h) ? 0x050 : 0x070)\n#define  BP_SSP_TIMING_TIMEOUT\t\t\t16\n#define  BM_SSP_TIMING_TIMEOUT\t\t\t(0xffff << 16)\n#define  BP_SSP_TIMING_CLOCK_DIVIDE\t\t8\n#define  BM_SSP_TIMING_CLOCK_DIVIDE\t\t(0xff << 8)\n#define  BF_SSP_TIMING_CLOCK_DIVIDE(v)\t\t\\\n\t\t\t(((v) << 8) & BM_SSP_TIMING_CLOCK_DIVIDE)\n#define  BP_SSP_TIMING_CLOCK_RATE\t\t0\n#define  BM_SSP_TIMING_CLOCK_RATE\t\t0xff\n#define BF_SSP_TIMING_CLOCK_RATE(v)\t\t\\\n\t\t\t(((v) << 0) & BM_SSP_TIMING_CLOCK_RATE)\n#define HW_SSP_CTRL1(h)\t\t\t\t(ssp_is_old(h) ? 0x060 : 0x080)\n#define  BM_SSP_CTRL1_SDIO_IRQ\t\t\t(1 << 31)\n#define  BM_SSP_CTRL1_SDIO_IRQ_EN\t\t(1 << 30)\n#define  BM_SSP_CTRL1_RESP_ERR_IRQ\t\t(1 << 29)\n#define  BM_SSP_CTRL1_RESP_ERR_IRQ_EN\t\t(1 << 28)\n#define  BM_SSP_CTRL1_RESP_TIMEOUT_IRQ\t\t(1 << 27)\n#define  BM_SSP_CTRL1_RESP_TIMEOUT_IRQ_EN\t(1 << 26)\n#define  BM_SSP_CTRL1_DATA_TIMEOUT_IRQ\t\t(1 << 25)\n#define  BM_SSP_CTRL1_DATA_TIMEOUT_IRQ_EN\t(1 << 24)\n#define  BM_SSP_CTRL1_DATA_CRC_IRQ\t\t(1 << 23)\n#define  BM_SSP_CTRL1_DATA_CRC_IRQ_EN\t\t(1 << 22)\n#define  BM_SSP_CTRL1_FIFO_UNDERRUN_IRQ\t\t(1 << 21)\n#define  BM_SSP_CTRL1_FIFO_UNDERRUN_IRQ_EN\t(1 << 20)\n#define  BM_SSP_CTRL1_RECV_TIMEOUT_IRQ\t\t(1 << 17)\n#define  BM_SSP_CTRL1_RECV_TIMEOUT_IRQ_EN\t(1 << 16)\n#define  BM_SSP_CTRL1_FIFO_OVERRUN_IRQ\t\t(1 << 15)\n#define  BM_SSP_CTRL1_FIFO_OVERRUN_IRQ_EN\t(1 << 14)\n#define  BM_SSP_CTRL1_DMA_ENABLE\t\t(1 << 13)\n#define  BM_SSP_CTRL1_PHASE\t\t\t(1 << 10)\n#define  BM_SSP_CTRL1_POLARITY\t\t\t(1 << 9)\n#define  BP_SSP_CTRL1_WORD_LENGTH\t\t4\n#define  BM_SSP_CTRL1_WORD_LENGTH\t\t(0xf << 4)\n#define  BF_SSP_CTRL1_WORD_LENGTH(v)\t\t\\\n\t\t\t(((v) << 4) & BM_SSP_CTRL1_WORD_LENGTH)\n#define  BV_SSP_CTRL1_WORD_LENGTH__FOUR_BITS\t0x3\n#define  BV_SSP_CTRL1_WORD_LENGTH__EIGHT_BITS\t0x7\n#define  BV_SSP_CTRL1_WORD_LENGTH__SIXTEEN_BITS\t0xF\n#define  BP_SSP_CTRL1_SSP_MODE\t\t\t0\n#define  BM_SSP_CTRL1_SSP_MODE\t\t\t0xf\n#define  BF_SSP_CTRL1_SSP_MODE(v)\t\t\\\n\t\t\t(((v) << 0) & BM_SSP_CTRL1_SSP_MODE)\n#define  BV_SSP_CTRL1_SSP_MODE__SPI\t\t0x0\n#define  BV_SSP_CTRL1_SSP_MODE__SSI\t\t0x1\n#define  BV_SSP_CTRL1_SSP_MODE__SD_MMC\t\t0x3\n#define  BV_SSP_CTRL1_SSP_MODE__MS\t\t0x4\n\n#define HW_SSP_DATA(h)\t\t\t\t(ssp_is_old(h) ? 0x070 : 0x090)\n\n#define HW_SSP_SDRESP0(h)\t\t\t(ssp_is_old(h) ? 0x080 : 0x0a0)\n#define HW_SSP_SDRESP1(h)\t\t\t(ssp_is_old(h) ? 0x090 : 0x0b0)\n#define HW_SSP_SDRESP2(h)\t\t\t(ssp_is_old(h) ? 0x0a0 : 0x0c0)\n#define HW_SSP_SDRESP3(h)\t\t\t(ssp_is_old(h) ? 0x0b0 : 0x0d0)\n#define HW_SSP_STATUS(h)\t\t\t(ssp_is_old(h) ? 0x0c0 : 0x100)\n#define  BM_SSP_STATUS_CARD_DETECT\t\t(1 << 28)\n#define  BM_SSP_STATUS_SDIO_IRQ\t\t\t(1 << 17)\n#define  BM_SSP_STATUS_FIFO_EMPTY\t\t(1 << 5)\n\n#define BF_SSP(value, field)\t(((value) << BP_SSP_##field) & BM_SSP_##field)\n\n#define SSP_PIO_NUM\t3\n\nenum mxs_ssp_id {\n\tIMX23_SSP,\n\tIMX28_SSP,\n};\n\nstruct mxs_ssp {\n\tstruct device\t\t\t*dev;\n\tvoid __iomem\t\t\t*base;\n\tstruct clk\t\t\t*clk;\n\tunsigned int\t\t\tclk_rate;\n\tenum mxs_ssp_id\t\t\tdevid;\n\n\tstruct dma_chan\t\t\t*dmach;\n\tunsigned int\t\t\tdma_dir;\n\tenum dma_transfer_direction\tslave_dirn;\n\tu32\t\t\t\tssp_pio_words[SSP_PIO_NUM];\n};\n\nvoid mxs_ssp_set_clk_rate(struct mxs_ssp *ssp, unsigned int rate);\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}