{
  "module_name": "spmi.h",
  "hash_id": "5598a06857aa6bc9a891d14362e85c1f02469b7c3ec899670f10f954f8c15310",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/spmi.h",
  "human_readable_source": " \n \n#ifndef _LINUX_SPMI_H\n#define _LINUX_SPMI_H\n\n#include <linux/types.h>\n#include <linux/device.h>\n#include <linux/mod_devicetable.h>\n\n \n#define SPMI_MAX_SLAVE_ID\t\t16\n\n \n#define SPMI_CMD_EXT_WRITE\t\t0x00\n#define SPMI_CMD_RESET\t\t\t0x10\n#define SPMI_CMD_SLEEP\t\t\t0x11\n#define SPMI_CMD_SHUTDOWN\t\t0x12\n#define SPMI_CMD_WAKEUP\t\t\t0x13\n#define SPMI_CMD_AUTHENTICATE\t\t0x14\n#define SPMI_CMD_MSTR_READ\t\t0x15\n#define SPMI_CMD_MSTR_WRITE\t\t0x16\n#define SPMI_CMD_TRANSFER_BUS_OWNERSHIP\t0x1A\n#define SPMI_CMD_DDB_MASTER_READ\t0x1B\n#define SPMI_CMD_DDB_SLAVE_READ\t\t0x1C\n#define SPMI_CMD_EXT_READ\t\t0x20\n#define SPMI_CMD_EXT_WRITEL\t\t0x30\n#define SPMI_CMD_EXT_READL\t\t0x38\n#define SPMI_CMD_WRITE\t\t\t0x40\n#define SPMI_CMD_READ\t\t\t0x60\n#define SPMI_CMD_ZERO_WRITE\t\t0x80\n\n \nstruct spmi_device {\n\tstruct device\t\tdev;\n\tstruct spmi_controller\t*ctrl;\n\tu8\t\t\tusid;\n};\n\nstatic inline struct spmi_device *to_spmi_device(struct device *d)\n{\n\treturn container_of(d, struct spmi_device, dev);\n}\n\nstatic inline void *spmi_device_get_drvdata(const struct spmi_device *sdev)\n{\n\treturn dev_get_drvdata(&sdev->dev);\n}\n\nstatic inline void spmi_device_set_drvdata(struct spmi_device *sdev, void *data)\n{\n\tdev_set_drvdata(&sdev->dev, data);\n}\n\nstruct spmi_device *spmi_device_alloc(struct spmi_controller *ctrl);\n\nstatic inline void spmi_device_put(struct spmi_device *sdev)\n{\n\tif (sdev)\n\t\tput_device(&sdev->dev);\n}\n\nint spmi_device_add(struct spmi_device *sdev);\n\nvoid spmi_device_remove(struct spmi_device *sdev);\n\n \nstruct spmi_controller {\n\tstruct device\t\tdev;\n\tunsigned int\t\tnr;\n\tint\t(*cmd)(struct spmi_controller *ctrl, u8 opcode, u8 sid);\n\tint\t(*read_cmd)(struct spmi_controller *ctrl, u8 opcode,\n\t\t\t    u8 sid, u16 addr, u8 *buf, size_t len);\n\tint\t(*write_cmd)(struct spmi_controller *ctrl, u8 opcode,\n\t\t\t     u8 sid, u16 addr, const u8 *buf, size_t len);\n};\n\nstatic inline struct spmi_controller *to_spmi_controller(struct device *d)\n{\n\treturn container_of(d, struct spmi_controller, dev);\n}\n\nstatic inline\nvoid *spmi_controller_get_drvdata(const struct spmi_controller *ctrl)\n{\n\treturn dev_get_drvdata(&ctrl->dev);\n}\n\nstatic inline void spmi_controller_set_drvdata(struct spmi_controller *ctrl,\n\t\t\t\t\t       void *data)\n{\n\tdev_set_drvdata(&ctrl->dev, data);\n}\n\nstruct spmi_controller *spmi_controller_alloc(struct device *parent,\n\t\t\t\t\t      size_t size);\n\n \nstatic inline void spmi_controller_put(struct spmi_controller *ctrl)\n{\n\tif (ctrl)\n\t\tput_device(&ctrl->dev);\n}\n\nint spmi_controller_add(struct spmi_controller *ctrl);\nvoid spmi_controller_remove(struct spmi_controller *ctrl);\n\n \nstruct spmi_driver {\n\tstruct device_driver driver;\n\tint\t(*probe)(struct spmi_device *sdev);\n\tvoid\t(*remove)(struct spmi_device *sdev);\n\tvoid\t(*shutdown)(struct spmi_device *sdev);\n};\n\nstatic inline struct spmi_driver *to_spmi_driver(struct device_driver *d)\n{\n\treturn container_of(d, struct spmi_driver, driver);\n}\n\n#define spmi_driver_register(sdrv) \\\n\t__spmi_driver_register(sdrv, THIS_MODULE)\nint __spmi_driver_register(struct spmi_driver *sdrv, struct module *owner);\n\n \nstatic inline void spmi_driver_unregister(struct spmi_driver *sdrv)\n{\n\tif (sdrv)\n\t\tdriver_unregister(&sdrv->driver);\n}\n\n#define module_spmi_driver(__spmi_driver) \\\n\tmodule_driver(__spmi_driver, spmi_driver_register, \\\n\t\t\tspmi_driver_unregister)\n\nstruct device_node;\n\nstruct spmi_device *spmi_device_from_of(struct device_node *np);\nint spmi_register_read(struct spmi_device *sdev, u8 addr, u8 *buf);\nint spmi_ext_register_read(struct spmi_device *sdev, u8 addr, u8 *buf,\n\t\t\t   size_t len);\nint spmi_ext_register_readl(struct spmi_device *sdev, u16 addr, u8 *buf,\n\t\t\t    size_t len);\nint spmi_register_write(struct spmi_device *sdev, u8 addr, u8 data);\nint spmi_register_zero_write(struct spmi_device *sdev, u8 data);\nint spmi_ext_register_write(struct spmi_device *sdev, u8 addr,\n\t\t\t    const u8 *buf, size_t len);\nint spmi_ext_register_writel(struct spmi_device *sdev, u16 addr,\n\t\t\t     const u8 *buf, size_t len);\nint spmi_command_reset(struct spmi_device *sdev);\nint spmi_command_sleep(struct spmi_device *sdev);\nint spmi_command_wakeup(struct spmi_device *sdev);\nint spmi_command_shutdown(struct spmi_device *sdev);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}