{
  "module_name": "futex.h",
  "hash_id": "c4ec1f30170025d8767a993388a65f0534d5f982768dbde8f4d9f7635083873d",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/futex.h",
  "human_readable_source": " \n#ifndef _LINUX_FUTEX_H\n#define _LINUX_FUTEX_H\n\n#include <linux/sched.h>\n#include <linux/ktime.h>\n\n#include <uapi/linux/futex.h>\n\nstruct inode;\nstruct mm_struct;\nstruct task_struct;\n\n \n\n#define FUT_OFF_INODE    1  \n#define FUT_OFF_MMSHARED 2  \n\nunion futex_key {\n\tstruct {\n\t\tu64 i_seq;\n\t\tunsigned long pgoff;\n\t\tunsigned int offset;\n\t} shared;\n\tstruct {\n\t\tunion {\n\t\t\tstruct mm_struct *mm;\n\t\t\tu64 __tmp;\n\t\t};\n\t\tunsigned long address;\n\t\tunsigned int offset;\n\t} private;\n\tstruct {\n\t\tu64 ptr;\n\t\tunsigned long word;\n\t\tunsigned int offset;\n\t} both;\n};\n\n#define FUTEX_KEY_INIT (union futex_key) { .both = { .ptr = 0ULL } }\n\n#ifdef CONFIG_FUTEX\nenum {\n\tFUTEX_STATE_OK,\n\tFUTEX_STATE_EXITING,\n\tFUTEX_STATE_DEAD,\n};\n\nstatic inline void futex_init_task(struct task_struct *tsk)\n{\n\ttsk->robust_list = NULL;\n#ifdef CONFIG_COMPAT\n\ttsk->compat_robust_list = NULL;\n#endif\n\tINIT_LIST_HEAD(&tsk->pi_state_list);\n\ttsk->pi_state_cache = NULL;\n\ttsk->futex_state = FUTEX_STATE_OK;\n\tmutex_init(&tsk->futex_exit_mutex);\n}\n\nvoid futex_exit_recursive(struct task_struct *tsk);\nvoid futex_exit_release(struct task_struct *tsk);\nvoid futex_exec_release(struct task_struct *tsk);\n\nlong do_futex(u32 __user *uaddr, int op, u32 val, ktime_t *timeout,\n\t      u32 __user *uaddr2, u32 val2, u32 val3);\n#else\nstatic inline void futex_init_task(struct task_struct *tsk) { }\nstatic inline void futex_exit_recursive(struct task_struct *tsk) { }\nstatic inline void futex_exit_release(struct task_struct *tsk) { }\nstatic inline void futex_exec_release(struct task_struct *tsk) { }\nstatic inline long do_futex(u32 __user *uaddr, int op, u32 val,\n\t\t\t    ktime_t *timeout, u32 __user *uaddr2,\n\t\t\t    u32 val2, u32 val3)\n{\n\treturn -EINVAL;\n}\n#endif\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}