{
  "module_name": "posix_acl_xattr.h",
  "hash_id": "e517bc67b52f9e174533d8f591b68d89d1ef1ddd71edd5832da0f49d0e71afbf",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/posix_acl_xattr.h",
  "human_readable_source": " \n \n#ifndef _POSIX_ACL_XATTR_H\n#define _POSIX_ACL_XATTR_H\n\n#include <uapi/linux/xattr.h>\n#include <uapi/linux/posix_acl_xattr.h>\n#include <linux/posix_acl.h>\n\nstatic inline size_t\nposix_acl_xattr_size(int count)\n{\n\treturn (sizeof(struct posix_acl_xattr_header) +\n\t\t(count * sizeof(struct posix_acl_xattr_entry)));\n}\n\nstatic inline int\nposix_acl_xattr_count(size_t size)\n{\n\tif (size < sizeof(struct posix_acl_xattr_header))\n\t\treturn -1;\n\tsize -= sizeof(struct posix_acl_xattr_header);\n\tif (size % sizeof(struct posix_acl_xattr_entry))\n\t\treturn -1;\n\treturn size / sizeof(struct posix_acl_xattr_entry);\n}\n\n#ifdef CONFIG_FS_POSIX_ACL\nstruct posix_acl *posix_acl_from_xattr(struct user_namespace *user_ns,\n\t\t\t\t       const void *value, size_t size);\n#else\nstatic inline struct posix_acl *\nposix_acl_from_xattr(struct user_namespace *user_ns, const void *value,\n\t\t     size_t size)\n{\n\treturn ERR_PTR(-EOPNOTSUPP);\n}\n#endif\n\nint posix_acl_to_xattr(struct user_namespace *user_ns,\n\t\t       const struct posix_acl *acl, void *buffer, size_t size);\nstatic inline const char *posix_acl_xattr_name(int type)\n{\n\tswitch (type) {\n\tcase ACL_TYPE_ACCESS:\n\t\treturn XATTR_NAME_POSIX_ACL_ACCESS;\n\tcase ACL_TYPE_DEFAULT:\n\t\treturn XATTR_NAME_POSIX_ACL_DEFAULT;\n\t}\n\n\treturn \"\";\n}\n\nstatic inline int posix_acl_type(const char *name)\n{\n\tif (strcmp(name, XATTR_NAME_POSIX_ACL_ACCESS) == 0)\n\t\treturn ACL_TYPE_ACCESS;\n\telse if (strcmp(name, XATTR_NAME_POSIX_ACL_DEFAULT) == 0)\n\t\treturn ACL_TYPE_DEFAULT;\n\n\treturn -1;\n}\n\n \nextern const struct xattr_handler nop_posix_acl_access;\nextern const struct xattr_handler nop_posix_acl_default;\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}