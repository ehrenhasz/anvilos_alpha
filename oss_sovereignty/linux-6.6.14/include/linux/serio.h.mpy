{
  "module_name": "serio.h",
  "hash_id": "88477895a9128768f63edfe5024af961bfce34c4cff8d5b19c1daf8896ef6705",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/serio.h",
  "human_readable_source": " \n \n#ifndef _SERIO_H\n#define _SERIO_H\n\n\n#include <linux/types.h>\n#include <linux/interrupt.h>\n#include <linux/list.h>\n#include <linux/spinlock.h>\n#include <linux/mutex.h>\n#include <linux/device.h>\n#include <linux/mod_devicetable.h>\n#include <uapi/linux/serio.h>\n\nextern struct bus_type serio_bus;\n\nstruct serio {\n\tvoid *port_data;\n\n\tchar name[32];\n\tchar phys[32];\n\tchar firmware_id[128];\n\n\tbool manual_bind;\n\n\tstruct serio_device_id id;\n\n\t \n\tspinlock_t lock;\n\n\tint (*write)(struct serio *, unsigned char);\n\tint (*open)(struct serio *);\n\tvoid (*close)(struct serio *);\n\tint (*start)(struct serio *);\n\tvoid (*stop)(struct serio *);\n\n\tstruct serio *parent;\n\t \n\tstruct list_head child_node;\n\tstruct list_head children;\n\t \n\tunsigned int depth;\n\n\t \n\tstruct serio_driver *drv;\n\t \n\tstruct mutex drv_mutex;\n\n\tstruct device dev;\n\n\tstruct list_head node;\n\n\t \n\tstruct mutex *ps2_cmd_mutex;\n};\n#define to_serio_port(d)\tcontainer_of(d, struct serio, dev)\n\nstruct serio_driver {\n\tconst char *description;\n\n\tconst struct serio_device_id *id_table;\n\tbool manual_bind;\n\n\tvoid (*write_wakeup)(struct serio *);\n\tirqreturn_t (*interrupt)(struct serio *, unsigned char, unsigned int);\n\tint  (*connect)(struct serio *, struct serio_driver *drv);\n\tint  (*reconnect)(struct serio *);\n\tint  (*fast_reconnect)(struct serio *);\n\tvoid (*disconnect)(struct serio *);\n\tvoid (*cleanup)(struct serio *);\n\n\tstruct device_driver driver;\n};\n#define to_serio_driver(d)\tcontainer_of(d, struct serio_driver, driver)\n\nint serio_open(struct serio *serio, struct serio_driver *drv);\nvoid serio_close(struct serio *serio);\nvoid serio_rescan(struct serio *serio);\nvoid serio_reconnect(struct serio *serio);\nirqreturn_t serio_interrupt(struct serio *serio, unsigned char data, unsigned int flags);\n\nvoid __serio_register_port(struct serio *serio, struct module *owner);\n\n \n#define serio_register_port(serio) \\\n\t__serio_register_port(serio, THIS_MODULE)\n\nvoid serio_unregister_port(struct serio *serio);\nvoid serio_unregister_child_port(struct serio *serio);\n\nint __must_check __serio_register_driver(struct serio_driver *drv,\n\t\t\t\tstruct module *owner, const char *mod_name);\n\n \n#define serio_register_driver(drv) \\\n\t__serio_register_driver(drv, THIS_MODULE, KBUILD_MODNAME)\n\nvoid serio_unregister_driver(struct serio_driver *drv);\n\n \n#define module_serio_driver(__serio_driver) \\\n\tmodule_driver(__serio_driver, serio_register_driver, \\\n\t\t       serio_unregister_driver)\n\nstatic inline int serio_write(struct serio *serio, unsigned char data)\n{\n\tif (serio->write)\n\t\treturn serio->write(serio, data);\n\telse\n\t\treturn -1;\n}\n\nstatic inline void serio_drv_write_wakeup(struct serio *serio)\n{\n\tif (serio->drv && serio->drv->write_wakeup)\n\t\tserio->drv->write_wakeup(serio);\n}\n\n \nstatic inline void *serio_get_drvdata(struct serio *serio)\n{\n\treturn dev_get_drvdata(&serio->dev);\n}\n\nstatic inline void serio_set_drvdata(struct serio *serio, void *data)\n{\n\tdev_set_drvdata(&serio->dev, data);\n}\n\n \nstatic inline void serio_pause_rx(struct serio *serio)\n{\n\tspin_lock_irq(&serio->lock);\n}\n\nstatic inline void serio_continue_rx(struct serio *serio)\n{\n\tspin_unlock_irq(&serio->lock);\n}\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}