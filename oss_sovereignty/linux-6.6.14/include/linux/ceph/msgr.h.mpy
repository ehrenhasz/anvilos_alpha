{
  "module_name": "msgr.h",
  "hash_id": "4a70f46d50dadc8cbf3dbe683d200713558d5c91ddf83dd7c3b55adf59efda0e",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/ceph/msgr.h",
  "human_readable_source": " \n#ifndef CEPH_MSGR_H\n#define CEPH_MSGR_H\n\n \n\n#define CEPH_MON_PORT    6789   \n\n \n#define CEPH_BANNER \"ceph v027\"\n#define CEPH_BANNER_LEN 9\n#define CEPH_BANNER_MAX_LEN 30\n\n\n \n#define CEPH_BANNER_V2 \"ceph v2\\n\"\n#define CEPH_BANNER_V2_LEN 8\n#define CEPH_BANNER_V2_PREFIX_LEN (CEPH_BANNER_V2_LEN + sizeof(__le16))\n\n \n#define CEPH_MSGR2_INCARNATION_1 (0ull)\n\n#define DEFINE_MSGR2_FEATURE(bit, incarnation, name)               \\\n\tstatic const uint64_t __maybe_unused CEPH_MSGR2_FEATURE_##name = (1ULL << bit); \\\n\tstatic const uint64_t __maybe_unused CEPH_MSGR2_FEATUREMASK_##name =            \\\n\t\t\t(1ULL << bit | CEPH_MSGR2_INCARNATION_##incarnation);\n\n#define HAVE_MSGR2_FEATURE(x, name) \\\n\t(((x) & (CEPH_MSGR2_FEATUREMASK_##name)) == (CEPH_MSGR2_FEATUREMASK_##name))\n\nDEFINE_MSGR2_FEATURE( 0, 1, REVISION_1)   \n\n#define CEPH_MSGR2_SUPPORTED_FEATURES (CEPH_MSGR2_FEATURE_REVISION_1)\n\n#define CEPH_MSGR2_REQUIRED_FEATURES  (CEPH_MSGR2_FEATURE_REVISION_1)\n\n\n \ntypedef __u32 ceph_seq_t;\n\nstatic inline __s32 ceph_seq_cmp(__u32 a, __u32 b)\n{\n       return (__s32)a - (__s32)b;\n}\n\n\n \nstruct ceph_entity_name {\n\t__u8 type;       \n\t__le64 num;\n} __attribute__ ((packed));\n\n#define CEPH_ENTITY_TYPE_MON    0x01\n#define CEPH_ENTITY_TYPE_MDS    0x02\n#define CEPH_ENTITY_TYPE_OSD    0x04\n#define CEPH_ENTITY_TYPE_CLIENT 0x08\n#define CEPH_ENTITY_TYPE_AUTH   0x20\n\n#define CEPH_ENTITY_TYPE_ANY    0xFF\n\nextern const char *ceph_entity_type_name(int type);\n\n \nstruct ceph_entity_addr {\n\t__le32 type;   \n\t__le32 nonce;   \n\tstruct sockaddr_storage in_addr;\n} __attribute__ ((packed));\n\nstatic inline bool ceph_addr_equal_no_type(const struct ceph_entity_addr *lhs,\n\t\t\t\t\t   const struct ceph_entity_addr *rhs)\n{\n\treturn !memcmp(&lhs->in_addr, &rhs->in_addr, sizeof(lhs->in_addr)) &&\n\t       lhs->nonce == rhs->nonce;\n}\n\nstruct ceph_entity_inst {\n\tstruct ceph_entity_name name;\n\tstruct ceph_entity_addr addr;\n} __attribute__ ((packed));\n\n\n \n#define CEPH_MSGR_TAG_READY         1   \n#define CEPH_MSGR_TAG_RESETSESSION  2   \n#define CEPH_MSGR_TAG_WAIT          3   \n#define CEPH_MSGR_TAG_RETRY_SESSION 4   \n#define CEPH_MSGR_TAG_RETRY_GLOBAL  5   \n#define CEPH_MSGR_TAG_CLOSE         6   \n#define CEPH_MSGR_TAG_MSG           7   \n#define CEPH_MSGR_TAG_ACK           8   \n#define CEPH_MSGR_TAG_KEEPALIVE     9   \n#define CEPH_MSGR_TAG_BADPROTOVER   10  \n#define CEPH_MSGR_TAG_BADAUTHORIZER 11  \n#define CEPH_MSGR_TAG_FEATURES      12  \n#define CEPH_MSGR_TAG_SEQ           13  \n#define CEPH_MSGR_TAG_KEEPALIVE2    14  \n#define CEPH_MSGR_TAG_KEEPALIVE2_ACK 15  \n#define CEPH_MSGR_TAG_CHALLENGE_AUTHORIZER 16   \n\n \nstruct ceph_msg_connect {\n\t__le64 features;      \n\t__le32 host_type;     \n\t__le32 global_seq;    \n\t__le32 connect_seq;   \n\t__le32 protocol_version;\n\t__le32 authorizer_protocol;\n\t__le32 authorizer_len;\n\t__u8  flags;          \n} __attribute__ ((packed));\n\nstruct ceph_msg_connect_reply {\n\t__u8 tag;\n\t__le64 features;      \n\t__le32 global_seq;\n\t__le32 connect_seq;\n\t__le32 protocol_version;\n\t__le32 authorizer_len;\n\t__u8 flags;\n} __attribute__ ((packed));\n\n#define CEPH_MSG_CONNECT_LOSSY  1   \n\n\n \nstruct ceph_msg_header_old {\n\t__le64 seq;        \n\t__le64 tid;        \n\t__le16 type;       \n\t__le16 priority;   \n\t__le16 version;    \n\n\t__le32 front_len;  \n\t__le32 middle_len; \n\t__le32 data_len;   \n\t__le16 data_off;   \n\n\tstruct ceph_entity_inst src, orig_src;\n\t__le32 reserved;\n\t__le32 crc;        \n} __attribute__ ((packed));\n\nstruct ceph_msg_header {\n\t__le64 seq;        \n\t__le64 tid;        \n\t__le16 type;       \n\t__le16 priority;   \n\t__le16 version;    \n\n\t__le32 front_len;  \n\t__le32 middle_len; \n\t__le32 data_len;   \n\t__le16 data_off;   \n\n\tstruct ceph_entity_name src;\n\t__le16 compat_version;\n\t__le16 reserved;\n\t__le32 crc;        \n} __attribute__ ((packed));\n\nstruct ceph_msg_header2 {\n\t__le64 seq;        \n\t__le64 tid;        \n\t__le16 type;       \n\t__le16 priority;   \n\t__le16 version;    \n\n\t__le32 data_pre_padding_len;\n\t__le16 data_off;   \n\n\t__le64 ack_seq;\n\t__u8 flags;\n\t \n\t__le16 compat_version;\n\t__le16 reserved;\n} __attribute__ ((packed));\n\n#define CEPH_MSG_PRIO_LOW     64\n#define CEPH_MSG_PRIO_DEFAULT 127\n#define CEPH_MSG_PRIO_HIGH    196\n#define CEPH_MSG_PRIO_HIGHEST 255\n\n \nstruct ceph_msg_footer_old {\n\t__le32 front_crc, middle_crc, data_crc;\n\t__u8 flags;\n} __attribute__ ((packed));\n\nstruct ceph_msg_footer {\n\t__le32 front_crc, middle_crc, data_crc;\n\t\n\t__le64  sig;\n\t__u8 flags;\n} __attribute__ ((packed));\n\n#define CEPH_MSG_FOOTER_COMPLETE  (1<<0)    \n#define CEPH_MSG_FOOTER_NOCRC     (1<<1)    \n#define CEPH_MSG_FOOTER_SIGNED\t  (1<<2)    \n\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}