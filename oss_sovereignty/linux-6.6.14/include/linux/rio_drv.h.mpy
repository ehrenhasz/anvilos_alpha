{
  "module_name": "rio_drv.h",
  "hash_id": "f8ca60fd6f8ad434f4f8c4c3b5fb0ded3e5fed511244b29efdeaeab4afe362f9",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/rio_drv.h",
  "human_readable_source": " \n \n\n#ifndef LINUX_RIO_DRV_H\n#define LINUX_RIO_DRV_H\n\n#include <linux/types.h>\n#include <linux/ioport.h>\n#include <linux/list.h>\n#include <linux/errno.h>\n#include <linux/string.h>\n#include <linux/rio.h>\n\nextern int __rio_local_read_config_32(struct rio_mport *port, u32 offset,\n\t\t\t\t      u32 * data);\nextern int __rio_local_write_config_32(struct rio_mport *port, u32 offset,\n\t\t\t\t       u32 data);\nextern int __rio_local_read_config_16(struct rio_mport *port, u32 offset,\n\t\t\t\t      u16 * data);\nextern int __rio_local_write_config_16(struct rio_mport *port, u32 offset,\n\t\t\t\t       u16 data);\nextern int __rio_local_read_config_8(struct rio_mport *port, u32 offset,\n\t\t\t\t     u8 * data);\nextern int __rio_local_write_config_8(struct rio_mport *port, u32 offset,\n\t\t\t\t      u8 data);\n\nextern int rio_mport_read_config_32(struct rio_mport *port, u16 destid,\n\t\t\t\t    u8 hopcount, u32 offset, u32 * data);\nextern int rio_mport_write_config_32(struct rio_mport *port, u16 destid,\n\t\t\t\t     u8 hopcount, u32 offset, u32 data);\nextern int rio_mport_read_config_16(struct rio_mport *port, u16 destid,\n\t\t\t\t    u8 hopcount, u32 offset, u16 * data);\nextern int rio_mport_write_config_16(struct rio_mport *port, u16 destid,\n\t\t\t\t     u8 hopcount, u32 offset, u16 data);\nextern int rio_mport_read_config_8(struct rio_mport *port, u16 destid,\n\t\t\t\t   u8 hopcount, u32 offset, u8 * data);\nextern int rio_mport_write_config_8(struct rio_mport *port, u16 destid,\n\t\t\t\t    u8 hopcount, u32 offset, u8 data);\n\n \nstatic inline int rio_local_read_config_32(struct rio_mport *port, u32 offset,\n\t\t\t\t\t   u32 * data)\n{\n\treturn __rio_local_read_config_32(port, offset, data);\n}\n\n \nstatic inline int rio_local_write_config_32(struct rio_mport *port, u32 offset,\n\t\t\t\t\t    u32 data)\n{\n\treturn __rio_local_write_config_32(port, offset, data);\n}\n\n \nstatic inline int rio_local_read_config_16(struct rio_mport *port, u32 offset,\n\t\t\t\t\t   u16 * data)\n{\n\treturn __rio_local_read_config_16(port, offset, data);\n}\n\n \n\nstatic inline int rio_local_write_config_16(struct rio_mport *port, u32 offset,\n\t\t\t\t\t    u16 data)\n{\n\treturn __rio_local_write_config_16(port, offset, data);\n}\n\n \nstatic inline int rio_local_read_config_8(struct rio_mport *port, u32 offset,\n\t\t\t\t\t  u8 * data)\n{\n\treturn __rio_local_read_config_8(port, offset, data);\n}\n\n \nstatic inline int rio_local_write_config_8(struct rio_mport *port, u32 offset,\n\t\t\t\t\t   u8 data)\n{\n\treturn __rio_local_write_config_8(port, offset, data);\n}\n\n \nstatic inline int rio_read_config_32(struct rio_dev *rdev, u32 offset,\n\t\t\t\t     u32 * data)\n{\n\treturn rio_mport_read_config_32(rdev->net->hport, rdev->destid,\n\t\t\t\t\trdev->hopcount, offset, data);\n};\n\n \nstatic inline int rio_write_config_32(struct rio_dev *rdev, u32 offset,\n\t\t\t\t      u32 data)\n{\n\treturn rio_mport_write_config_32(rdev->net->hport, rdev->destid,\n\t\t\t\t\t rdev->hopcount, offset, data);\n};\n\n \nstatic inline int rio_read_config_16(struct rio_dev *rdev, u32 offset,\n\t\t\t\t     u16 * data)\n{\n\treturn rio_mport_read_config_16(rdev->net->hport, rdev->destid,\n\t\t\t\t\trdev->hopcount, offset, data);\n};\n\n \nstatic inline int rio_write_config_16(struct rio_dev *rdev, u32 offset,\n\t\t\t\t      u16 data)\n{\n\treturn rio_mport_write_config_16(rdev->net->hport, rdev->destid,\n\t\t\t\t\t rdev->hopcount, offset, data);\n};\n\n \nstatic inline int rio_read_config_8(struct rio_dev *rdev, u32 offset, u8 * data)\n{\n\treturn rio_mport_read_config_8(rdev->net->hport, rdev->destid,\n\t\t\t\t       rdev->hopcount, offset, data);\n};\n\n \nstatic inline int rio_write_config_8(struct rio_dev *rdev, u32 offset, u8 data)\n{\n\treturn rio_mport_write_config_8(rdev->net->hport, rdev->destid,\n\t\t\t\t\trdev->hopcount, offset, data);\n};\n\nextern int rio_mport_send_doorbell(struct rio_mport *mport, u16 destid,\n\t\t\t\t   u16 data);\n\n \nstatic inline int rio_send_doorbell(struct rio_dev *rdev, u16 data)\n{\n\treturn rio_mport_send_doorbell(rdev->net->hport, rdev->destid, data);\n};\n\n \nstatic inline void rio_init_mbox_res(struct resource *res, int start, int end)\n{\n\tmemset(res, 0, sizeof(struct resource));\n\tres->start = start;\n\tres->end = end;\n\tres->flags = RIO_RESOURCE_MAILBOX;\n}\n\n \nstatic inline void rio_init_dbell_res(struct resource *res, u16 start, u16 end)\n{\n\tmemset(res, 0, sizeof(struct resource));\n\tres->start = start;\n\tres->end = end;\n\tres->flags = RIO_RESOURCE_DOORBELL;\n}\n\n \n#define RIO_DEVICE(dev,ven) \\\n\t.did = (dev), .vid = (ven), \\\n\t.asm_did = RIO_ANY_ID, .asm_vid = RIO_ANY_ID\n\n \nextern int rio_request_outb_mbox(struct rio_mport *, void *, int, int,\n\t\t\t\t void (*)(struct rio_mport *, void *,int, int));\nextern int rio_release_outb_mbox(struct rio_mport *, int);\n\n \nstatic inline int rio_add_outb_message(struct rio_mport *mport,\n\t\t\t\t       struct rio_dev *rdev, int mbox,\n\t\t\t\t       void *buffer, size_t len)\n{\n\treturn mport->ops->add_outb_message(mport, rdev, mbox,\n\t\t\t\t\t\t   buffer, len);\n}\n\nextern int rio_request_inb_mbox(struct rio_mport *, void *, int, int,\n\t\t\t\tvoid (*)(struct rio_mport *, void *, int, int));\nextern int rio_release_inb_mbox(struct rio_mport *, int);\n\n \nstatic inline int rio_add_inb_buffer(struct rio_mport *mport, int mbox,\n\t\t\t\t     void *buffer)\n{\n\treturn mport->ops->add_inb_buffer(mport, mbox, buffer);\n}\n\n \nstatic inline void *rio_get_inb_message(struct rio_mport *mport, int mbox)\n{\n\treturn mport->ops->get_inb_message(mport, mbox);\n}\n\n \nextern int rio_request_inb_dbell(struct rio_mport *, void *, u16, u16,\n\t\t\t\t void (*)(struct rio_mport *, void *, u16, u16, u16));\nextern int rio_release_inb_dbell(struct rio_mport *, u16, u16);\nextern struct resource *rio_request_outb_dbell(struct rio_dev *, u16, u16);\nextern int rio_release_outb_dbell(struct rio_dev *, struct resource *);\n\n \nint rio_claim_resource(struct rio_dev *, int);\nint rio_request_regions(struct rio_dev *, char *);\nvoid rio_release_regions(struct rio_dev *);\nint rio_request_region(struct rio_dev *, int, char *);\nvoid rio_release_region(struct rio_dev *, int);\n\n \nextern int rio_map_inb_region(struct rio_mport *mport, dma_addr_t local,\n\t\t\tu64 rbase, u32 size, u32 rflags);\nextern void rio_unmap_inb_region(struct rio_mport *mport, dma_addr_t lstart);\nextern int rio_map_outb_region(struct rio_mport *mport, u16 destid, u64 rbase,\n\t\t\tu32 size, u32 rflags, dma_addr_t *local);\nextern void rio_unmap_outb_region(struct rio_mport *mport,\n\t\t\t\t  u16 destid, u64 rstart);\n\n \nextern int rio_request_inb_pwrite(struct rio_dev *,\n\t\t\tint (*)(struct rio_dev *, union rio_pw_msg*, int));\nextern int rio_release_inb_pwrite(struct rio_dev *);\nextern int rio_add_mport_pw_handler(struct rio_mport *mport, void *dev_id,\n\t\t\tint (*pwcback)(struct rio_mport *mport, void *dev_id,\n\t\t\tunion rio_pw_msg *msg, int step));\nextern int rio_del_mport_pw_handler(struct rio_mport *mport, void *dev_id,\n\t\t\tint (*pwcback)(struct rio_mport *mport, void *dev_id,\n\t\t\tunion rio_pw_msg *msg, int step));\nextern int rio_inb_pwrite_handler(struct rio_mport *mport,\n\t\t\t\t  union rio_pw_msg *pw_msg);\nextern void rio_pw_enable(struct rio_mport *mport, int enable);\n\n \nint rio_register_driver(struct rio_driver *);\nvoid rio_unregister_driver(struct rio_driver *);\nstruct rio_dev *rio_dev_get(struct rio_dev *);\nvoid rio_dev_put(struct rio_dev *);\n\n#ifdef CONFIG_RAPIDIO_DMA_ENGINE\nextern struct dma_chan *rio_request_dma(struct rio_dev *rdev);\nextern struct dma_chan *rio_request_mport_dma(struct rio_mport *mport);\nextern void rio_release_dma(struct dma_chan *dchan);\nextern struct dma_async_tx_descriptor *rio_dma_prep_slave_sg(\n\t\tstruct rio_dev *rdev, struct dma_chan *dchan,\n\t\tstruct rio_dma_data *data,\n\t\tenum dma_transfer_direction direction, unsigned long flags);\nextern struct dma_async_tx_descriptor *rio_dma_prep_xfer(\n\t\tstruct dma_chan *dchan,\tu16 destid,\n\t\tstruct rio_dma_data *data,\n\t\tenum dma_transfer_direction direction, unsigned long flags);\n#endif\n\n \nstatic inline const char *rio_name(struct rio_dev *rdev)\n{\n\treturn dev_name(&rdev->dev);\n}\n\n \nstatic inline void *rio_get_drvdata(struct rio_dev *rdev)\n{\n\treturn dev_get_drvdata(&rdev->dev);\n}\n\n \nstatic inline void rio_set_drvdata(struct rio_dev *rdev, void *data)\n{\n\tdev_set_drvdata(&rdev->dev, data);\n}\n\n \nextern u16 rio_local_get_device_id(struct rio_mport *port);\nextern void rio_local_set_device_id(struct rio_mport *port, u16 did);\nextern int rio_init_mports(void);\n\n#endif\t\t\t\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}