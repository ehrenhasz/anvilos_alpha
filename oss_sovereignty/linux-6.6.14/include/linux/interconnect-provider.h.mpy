{
  "module_name": "interconnect-provider.h",
  "hash_id": "1654d7c673f22ce7e884ab4535c3505dfd7e0e75d3f50741622076e800566d9a",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/interconnect-provider.h",
  "human_readable_source": " \n \n\n#ifndef __LINUX_INTERCONNECT_PROVIDER_H\n#define __LINUX_INTERCONNECT_PROVIDER_H\n\n#include <linux/interconnect.h>\n\n#define icc_units_to_bps(bw)  ((bw) * 1000ULL)\n\nstruct icc_node;\nstruct of_phandle_args;\n\n \nstruct icc_node_data {\n\tstruct icc_node *node;\n\tu32 tag;\n};\n\n \nstruct icc_onecell_data {\n\tunsigned int num_nodes;\n\tstruct icc_node *nodes[] __counted_by(num_nodes);\n};\n\nstruct icc_node *of_icc_xlate_onecell(struct of_phandle_args *spec,\n\t\t\t\t      void *data);\n\n \nstruct icc_provider {\n\tstruct list_head\tprovider_list;\n\tstruct list_head\tnodes;\n\tint (*set)(struct icc_node *src, struct icc_node *dst);\n\tint (*aggregate)(struct icc_node *node, u32 tag, u32 avg_bw,\n\t\t\t u32 peak_bw, u32 *agg_avg, u32 *agg_peak);\n\tvoid (*pre_aggregate)(struct icc_node *node);\n\tint (*get_bw)(struct icc_node *node, u32 *avg, u32 *peak);\n\tstruct icc_node* (*xlate)(struct of_phandle_args *spec, void *data);\n\tstruct icc_node_data* (*xlate_extended)(struct of_phandle_args *spec, void *data);\n\tstruct device\t\t*dev;\n\tint\t\t\tusers;\n\tbool\t\t\tinter_set;\n\tvoid\t\t\t*data;\n};\n\n \nstruct icc_node {\n\tint\t\t\tid;\n\tconst char              *name;\n\tstruct icc_node\t\t**links;\n\tsize_t\t\t\tnum_links;\n\n\tstruct icc_provider\t*provider;\n\tstruct list_head\tnode_list;\n\tstruct list_head\tsearch_list;\n\tstruct icc_node\t\t*reverse;\n\tu8\t\t\tis_traversed:1;\n\tstruct hlist_head\treq_list;\n\tu32\t\t\tavg_bw;\n\tu32\t\t\tpeak_bw;\n\tu32\t\t\tinit_avg;\n\tu32\t\t\tinit_peak;\n\tvoid\t\t\t*data;\n};\n\n#if IS_ENABLED(CONFIG_INTERCONNECT)\n\nint icc_std_aggregate(struct icc_node *node, u32 tag, u32 avg_bw,\n\t\t      u32 peak_bw, u32 *agg_avg, u32 *agg_peak);\nstruct icc_node *icc_node_create(int id);\nvoid icc_node_destroy(int id);\nint icc_link_create(struct icc_node *node, const int dst_id);\nvoid icc_node_add(struct icc_node *node, struct icc_provider *provider);\nvoid icc_node_del(struct icc_node *node);\nint icc_nodes_remove(struct icc_provider *provider);\nvoid icc_provider_init(struct icc_provider *provider);\nint icc_provider_register(struct icc_provider *provider);\nvoid icc_provider_deregister(struct icc_provider *provider);\nstruct icc_node_data *of_icc_get_from_provider(struct of_phandle_args *spec);\nvoid icc_sync_state(struct device *dev);\n\n#else\n\nstatic inline int icc_std_aggregate(struct icc_node *node, u32 tag, u32 avg_bw,\n\t\t\t\t    u32 peak_bw, u32 *agg_avg, u32 *agg_peak)\n{\n\treturn -ENOTSUPP;\n}\n\nstatic inline struct icc_node *icc_node_create(int id)\n{\n\treturn ERR_PTR(-ENOTSUPP);\n}\n\nstatic inline void icc_node_destroy(int id)\n{\n}\n\nstatic inline int icc_link_create(struct icc_node *node, const int dst_id)\n{\n\treturn -ENOTSUPP;\n}\n\nstatic inline void icc_node_add(struct icc_node *node, struct icc_provider *provider)\n{\n}\n\nstatic inline void icc_node_del(struct icc_node *node)\n{\n}\n\nstatic inline int icc_nodes_remove(struct icc_provider *provider)\n{\n\treturn -ENOTSUPP;\n}\n\nstatic inline void icc_provider_init(struct icc_provider *provider) { }\n\nstatic inline int icc_provider_register(struct icc_provider *provider)\n{\n\treturn -ENOTSUPP;\n}\n\nstatic inline void icc_provider_deregister(struct icc_provider *provider) { }\n\nstatic inline struct icc_node_data *of_icc_get_from_provider(struct of_phandle_args *spec)\n{\n\treturn ERR_PTR(-ENOTSUPP);\n}\n\n#endif  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}