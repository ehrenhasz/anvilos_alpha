{
  "module_name": "svc_rdma_pcl.h",
  "hash_id": "04081b34b87a6b311e758073312d0dd20a53f56b93d7eb88f6bebf61a1908426",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/sunrpc/svc_rdma_pcl.h",
  "human_readable_source": " \n \n\n#ifndef SVC_RDMA_PCL_H\n#define SVC_RDMA_PCL_H\n\n#include <linux/list.h>\n\nstruct svc_rdma_segment {\n\tu32\t\t\trs_handle;\n\tu32\t\t\trs_length;\n\tu64\t\t\trs_offset;\n};\n\nstruct svc_rdma_chunk {\n\tstruct list_head\tch_list;\n\n\tu32\t\t\tch_position;\n\tu32\t\t\tch_length;\n\tu32\t\t\tch_payload_length;\n\n\tu32\t\t\tch_segcount;\n\tstruct svc_rdma_segment\tch_segments[];\n};\n\nstruct svc_rdma_pcl {\n\tunsigned int\t\tcl_count;\n\tstruct list_head\tcl_chunks;\n};\n\n \nstatic inline void pcl_init(struct svc_rdma_pcl *pcl)\n{\n\tINIT_LIST_HEAD(&pcl->cl_chunks);\n}\n\n \nstatic inline bool pcl_is_empty(const struct svc_rdma_pcl *pcl)\n{\n\treturn list_empty(&pcl->cl_chunks);\n}\n\n \nstatic inline struct svc_rdma_chunk *\npcl_first_chunk(const struct svc_rdma_pcl *pcl)\n{\n\tif (pcl_is_empty(pcl))\n\t\treturn NULL;\n\treturn list_first_entry(&pcl->cl_chunks, struct svc_rdma_chunk,\n\t\t\t\tch_list);\n}\n\n \nstatic inline struct svc_rdma_chunk *\npcl_next_chunk(const struct svc_rdma_pcl *pcl, struct svc_rdma_chunk *chunk)\n{\n\tif (list_is_last(&chunk->ch_list, &pcl->cl_chunks))\n\t\treturn NULL;\n\treturn list_next_entry(chunk, ch_list);\n}\n\n \n#define pcl_for_each_chunk(pos, pcl) \\\n\tfor (pos = list_first_entry(&(pcl)->cl_chunks, struct svc_rdma_chunk, ch_list); \\\n\t     &pos->ch_list != &(pcl)->cl_chunks; \\\n\t     pos = list_next_entry(pos, ch_list))\n\n \n#define pcl_for_each_segment(pos, chunk) \\\n\tfor (pos = &(chunk)->ch_segments[0]; \\\n\t     pos <= &(chunk)->ch_segments[(chunk)->ch_segcount - 1]; \\\n\t     pos++)\n\n \nstatic inline unsigned int\npcl_chunk_end_offset(const struct svc_rdma_chunk *chunk)\n{\n\treturn xdr_align_size(chunk->ch_position + chunk->ch_payload_length);\n}\n\nstruct svc_rdma_recv_ctxt;\n\nextern void pcl_free(struct svc_rdma_pcl *pcl);\nextern bool pcl_alloc_call(struct svc_rdma_recv_ctxt *rctxt, __be32 *p);\nextern bool pcl_alloc_read(struct svc_rdma_recv_ctxt *rctxt, __be32 *p);\nextern bool pcl_alloc_write(struct svc_rdma_recv_ctxt *rctxt,\n\t\t\t    struct svc_rdma_pcl *pcl, __be32 *p);\nextern int pcl_process_nonpayloads(const struct svc_rdma_pcl *pcl,\n\t\t\t\t   const struct xdr_buf *xdr,\n\t\t\t\t   int (*actor)(const struct xdr_buf *,\n\t\t\t\t\t\tvoid *),\n\t\t\t\t   void *data);\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}