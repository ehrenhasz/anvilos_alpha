{
  "module_name": "rculist_nulls.h",
  "hash_id": "2215f26469ab8d1305a6535a0e08ab8d693207ca3450f8298a260f9c3c9c2a2f",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/rculist_nulls.h",
  "human_readable_source": " \n#ifndef _LINUX_RCULIST_NULLS_H\n#define _LINUX_RCULIST_NULLS_H\n\n#ifdef __KERNEL__\n\n \n#include <linux/list_nulls.h>\n#include <linux/rcupdate.h>\n\n \nstatic inline void hlist_nulls_del_init_rcu(struct hlist_nulls_node *n)\n{\n\tif (!hlist_nulls_unhashed(n)) {\n\t\t__hlist_nulls_del(n);\n\t\tWRITE_ONCE(n->pprev, NULL);\n\t}\n}\n\n \n#define hlist_nulls_first_rcu(head) \\\n\t(*((struct hlist_nulls_node __rcu __force **)&(head)->first))\n\n \n#define hlist_nulls_next_rcu(node) \\\n\t(*((struct hlist_nulls_node __rcu __force **)&(node)->next))\n\n \nstatic inline void hlist_nulls_del_rcu(struct hlist_nulls_node *n)\n{\n\t__hlist_nulls_del(n);\n\tWRITE_ONCE(n->pprev, LIST_POISON2);\n}\n\n \nstatic inline void hlist_nulls_add_head_rcu(struct hlist_nulls_node *n,\n\t\t\t\t\tstruct hlist_nulls_head *h)\n{\n\tstruct hlist_nulls_node *first = h->first;\n\n\tWRITE_ONCE(n->next, first);\n\tWRITE_ONCE(n->pprev, &h->first);\n\trcu_assign_pointer(hlist_nulls_first_rcu(h), n);\n\tif (!is_a_nulls(first))\n\t\tWRITE_ONCE(first->pprev, &n->next);\n}\n\n \nstatic inline void hlist_nulls_add_tail_rcu(struct hlist_nulls_node *n,\n\t\t\t\t\t    struct hlist_nulls_head *h)\n{\n\tstruct hlist_nulls_node *i, *last = NULL;\n\n\t \n\tfor (i = h->first; !is_a_nulls(i); i = i->next)\n\t\tlast = i;\n\n\tif (last) {\n\t\tWRITE_ONCE(n->next, last->next);\n\t\tn->pprev = &last->next;\n\t\trcu_assign_pointer(hlist_nulls_next_rcu(last), n);\n\t} else {\n\t\thlist_nulls_add_head_rcu(n, h);\n\t}\n}\n\n \nstatic inline void hlist_nulls_add_fake(struct hlist_nulls_node *n)\n{\n\tn->pprev = &n->next;\n\tn->next = (struct hlist_nulls_node *)NULLS_MARKER(NULL);\n}\n\n \n#define hlist_nulls_for_each_entry_rcu(tpos, pos, head, member)\t\t\t\\\n\tfor (({barrier();}),\t\t\t\t\t\t\t\\\n\t     pos = rcu_dereference_raw(hlist_nulls_first_rcu(head));\t\t\\\n\t\t(!is_a_nulls(pos)) &&\t\t\t\t\t\t\\\n\t\t({ tpos = hlist_nulls_entry(pos, typeof(*tpos), member); 1; }); \\\n\t\tpos = rcu_dereference_raw(hlist_nulls_next_rcu(pos)))\n\n \n#define hlist_nulls_for_each_entry_safe(tpos, pos, head, member)\t\t\\\n\tfor (({barrier();}),\t\t\t\t\t\t\t\\\n\t     pos = rcu_dereference_raw(hlist_nulls_first_rcu(head));\t\t\\\n\t\t(!is_a_nulls(pos)) &&\t\t\t\t\t\t\\\n\t\t({ tpos = hlist_nulls_entry(pos, typeof(*tpos), member);\t\\\n\t\t   pos = rcu_dereference_raw(hlist_nulls_next_rcu(pos)); 1; });)\n#endif\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}