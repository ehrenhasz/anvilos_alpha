{
  "module_name": "mmiotrace.h",
  "hash_id": "d4fe309f6699c622aa0e0c63f25b09fb6dc0bed83e1a5fd94d524acd37c5947a",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/mmiotrace.h",
  "human_readable_source": " \n#ifndef _LINUX_MMIOTRACE_H\n#define _LINUX_MMIOTRACE_H\n\n#include <linux/types.h>\n#include <linux/list.h>\n\nstruct kmmio_probe;\nstruct pt_regs;\n\ntypedef void (*kmmio_pre_handler_t)(struct kmmio_probe *,\n\t\t\t\tstruct pt_regs *, unsigned long addr);\ntypedef void (*kmmio_post_handler_t)(struct kmmio_probe *,\n\t\t\t\tunsigned long condition, struct pt_regs *);\n\nstruct kmmio_probe {\n\t \n\tstruct list_head\tlist;\n\t \n\tunsigned long\t\taddr;\n\t \n\tunsigned long\t\tlen;\n\t \n\tkmmio_pre_handler_t\tpre_handler;\n\t \n\tkmmio_post_handler_t\tpost_handler;\n\tvoid\t\t\t*private;\n};\n\nextern unsigned int kmmio_count;\n\nextern int register_kmmio_probe(struct kmmio_probe *p);\nextern void unregister_kmmio_probe(struct kmmio_probe *p);\nextern int kmmio_init(void);\nextern void kmmio_cleanup(void);\n\n#ifdef CONFIG_MMIOTRACE\n \nstatic inline int is_kmmio_active(void)\n{\n\treturn kmmio_count;\n}\n\n \nextern int kmmio_handler(struct pt_regs *regs, unsigned long addr);\n\n \nextern void mmiotrace_ioremap(resource_size_t offset, unsigned long size,\n\t\t\t\t\t\t\tvoid __iomem *addr);\nextern void mmiotrace_iounmap(volatile void __iomem *addr);\n\n \nextern __printf(1, 2) int mmiotrace_printk(const char *fmt, ...);\n#else  \nstatic inline int is_kmmio_active(void)\n{\n\treturn 0;\n}\n\nstatic inline int kmmio_handler(struct pt_regs *regs, unsigned long addr)\n{\n\treturn 0;\n}\n\nstatic inline void mmiotrace_ioremap(resource_size_t offset,\n\t\t\t\t\tunsigned long size, void __iomem *addr)\n{\n}\n\nstatic inline void mmiotrace_iounmap(volatile void __iomem *addr)\n{\n}\n\nstatic inline __printf(1, 2) int mmiotrace_printk(const char *fmt, ...)\n{\n\treturn 0;\n}\n#endif  \n\nenum mm_io_opcode {\n\tMMIO_READ\t= 0x1,\t \n\tMMIO_WRITE\t= 0x2,\t \n\tMMIO_PROBE\t= 0x3,\t \n\tMMIO_UNPROBE\t= 0x4,\t \n\tMMIO_UNKNOWN_OP = 0x5,\t \n};\n\nstruct mmiotrace_rw {\n\tresource_size_t\tphys;\t \n\tunsigned long\tvalue;\n\tunsigned long\tpc;\t \n\tint\t\tmap_id;\n\tunsigned char\topcode;\t \n\tunsigned char\twidth;\t \n};\n\nstruct mmiotrace_map {\n\tresource_size_t\tphys;\t \n\tunsigned long\tvirt;\t \n\tunsigned long\tlen;\t \n\tint\t\tmap_id;\n\tunsigned char\topcode;\t \n};\n\n \nextern void enable_mmiotrace(void);\nextern void disable_mmiotrace(void);\nextern void mmio_trace_rw(struct mmiotrace_rw *rw);\nextern void mmio_trace_mapping(struct mmiotrace_map *map);\nextern __printf(1, 0) int mmio_trace_printk(const char *fmt, va_list args);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}