{
  "module_name": "w1.h",
  "hash_id": "c92998f44bbbeda869aa65ac259c8bf8b487cd32dc92e070b810a9e0b3d586e2",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/w1.h",
  "human_readable_source": " \n \n\n#ifndef __LINUX_W1_H\n#define __LINUX_W1_H\n\n#include <linux/device.h>\n\n \nstruct w1_reg_num {\n#if defined(__LITTLE_ENDIAN_BITFIELD)\n\t__u64\tfamily:8,\n\t\tid:48,\n\t\tcrc:8;\n#elif defined(__BIG_ENDIAN_BITFIELD)\n\t__u64\tcrc:8,\n\t\tid:48,\n\t\tfamily:8;\n#else\n#error \"Please fix <asm/byteorder.h>\"\n#endif\n};\n\n#ifdef __KERNEL__\n\n#define W1_MAXNAMELEN\t\t32\n\n#define W1_SEARCH\t\t0xF0\n#define W1_ALARM_SEARCH\t\t0xEC\n#define W1_CONVERT_TEMP\t\t0x44\n#define W1_SKIP_ROM\t\t0xCC\n#define W1_COPY_SCRATCHPAD\t0x48\n#define W1_WRITE_SCRATCHPAD\t0x4E\n#define W1_READ_SCRATCHPAD\t0xBE\n#define W1_READ_ROM\t\t0x33\n#define W1_READ_PSUPPLY\t\t0xB4\n#define W1_MATCH_ROM\t\t0x55\n#define W1_RESUME_CMD\t\t0xA5\n\n \nstruct w1_slave {\n\tstruct module\t\t*owner;\n\tunsigned char\t\tname[W1_MAXNAMELEN];\n\tstruct list_head\tw1_slave_entry;\n\tstruct w1_reg_num\treg_num;\n\tatomic_t\t\trefcnt;\n\tint\t\t\tttl;\n\tunsigned long\t\tflags;\n\n\tstruct w1_master\t*master;\n\tstruct w1_family\t*family;\n\tvoid\t\t\t*family_data;\n\tstruct device\t\tdev;\n\tstruct device\t\t*hwmon;\n};\n\ntypedef void (*w1_slave_found_callback)(struct w1_master *, u64);\n\n \nstruct w1_bus_master {\n\tvoid\t\t*data;\n\n\tu8\t\t(*read_bit)(void *);\n\n\tvoid\t\t(*write_bit)(void *, u8);\n\n\tu8\t\t(*touch_bit)(void *, u8);\n\n\tu8\t\t(*read_byte)(void *);\n\n\tvoid\t\t(*write_byte)(void *, u8);\n\n\tu8\t\t(*read_block)(void *, u8 *, int);\n\n\tvoid\t\t(*write_block)(void *, const u8 *, int);\n\n\tu8\t\t(*triplet)(void *, u8);\n\n\tu8\t\t(*reset_bus)(void *);\n\n\tu8\t\t(*set_pullup)(void *, int);\n\n\tvoid\t\t(*search)(void *, struct w1_master *,\n\t\tu8, w1_slave_found_callback);\n\n\tchar\t\t*dev_id;\n};\n\n \nenum w1_master_flags {\n\tW1_ABORT_SEARCH = 0,\n\tW1_WARN_MAX_COUNT = 1,\n};\n\n \nstruct w1_master {\n\tstruct list_head\tw1_master_entry;\n\tstruct module\t\t*owner;\n\tunsigned char\t\tname[W1_MAXNAMELEN];\n\t \n\tstruct mutex\t\tlist_mutex;\n\tstruct list_head\tslist;\n\tstruct list_head\tasync_list;\n\tint\t\t\tmax_slave_count, slave_count;\n\tunsigned long\t\tattempts;\n\tint\t\t\tslave_ttl;\n\tint\t\t\tinitialized;\n\tu32\t\t\tid;\n\tint\t\t\tsearch_count;\n\t \n\tu64\t\t\tsearch_id;\n\n\tatomic_t\t\trefcnt;\n\n\tvoid\t\t\t*priv;\n\n\t \n\tint\t\t\tenable_pullup;\n\t \n\tint\t\t\tpullup_duration;\n\n\tlong\t\t\tflags;\n\n\tstruct task_struct\t*thread;\n\tstruct mutex\t\tmutex;\n\tstruct mutex\t\tbus_mutex;\n\n\tstruct device_driver\t*driver;\n\tstruct device\t\tdev;\n\n\tstruct w1_bus_master\t*bus_master;\n\n\tu32\t\t\tseq;\n};\n\nint w1_add_master_device(struct w1_bus_master *master);\nvoid w1_remove_master_device(struct w1_bus_master *master);\n\n \nstruct w1_family_ops {\n\tint  (*add_slave)(struct w1_slave *sl);\n\tvoid (*remove_slave)(struct w1_slave *sl);\n\tconst struct attribute_group **groups;\n\tconst struct hwmon_chip_info *chip_info;\n};\n\n \nstruct w1_family {\n\tstruct list_head\tfamily_entry;\n\tu8\t\t\tfid;\n\n\tconst struct w1_family_ops *fops;\n\n\tconst struct of_device_id *of_match_table;\n\n\tatomic_t\t\trefcnt;\n};\n\nint w1_register_family(struct w1_family *family);\nvoid w1_unregister_family(struct w1_family *family);\n\n \n#define module_w1_family(__w1_family) \\\n\tmodule_driver(__w1_family, w1_register_family, \\\n\t\t\tw1_unregister_family)\n\nu8 w1_triplet(struct w1_master *dev, int bdir);\nu8 w1_touch_bit(struct w1_master *dev, int bit);\nvoid w1_write_8(struct w1_master *, u8);\nu8 w1_read_8(struct w1_master *);\nint w1_reset_bus(struct w1_master *);\nu8 w1_calc_crc8(u8 *, int);\nvoid w1_write_block(struct w1_master *, const u8 *, int);\nvoid w1_touch_block(struct w1_master *, u8 *, int);\nu8 w1_read_block(struct w1_master *, u8 *, int);\nint w1_reset_select_slave(struct w1_slave *sl);\nint w1_reset_resume_command(struct w1_master *);\nvoid w1_next_pullup(struct w1_master *, int);\n\nstatic inline struct w1_slave* dev_to_w1_slave(struct device *dev)\n{\n\treturn container_of(dev, struct w1_slave, dev);\n}\n\nstatic inline struct w1_slave* kobj_to_w1_slave(struct kobject *kobj)\n{\n\treturn dev_to_w1_slave(container_of(kobj, struct device, kobj));\n}\n\nstatic inline struct w1_master* dev_to_w1_master(struct device *dev)\n{\n\treturn container_of(dev, struct w1_master, dev);\n}\n\n#endif  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}