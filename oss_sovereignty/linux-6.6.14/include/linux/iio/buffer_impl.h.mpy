{
  "module_name": "buffer_impl.h",
  "hash_id": "47ecc6da20c5131c61bddca716893106f4d7f6299ec28c310806621705916971",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/iio/buffer_impl.h",
  "human_readable_source": " \n#ifndef _IIO_BUFFER_GENERIC_IMPL_H_\n#define _IIO_BUFFER_GENERIC_IMPL_H_\n#include <linux/sysfs.h>\n#include <linux/kref.h>\n\n#ifdef CONFIG_IIO_BUFFER\n\n#include <uapi/linux/iio/buffer.h>\n#include <linux/iio/buffer.h>\n\nstruct iio_dev;\nstruct iio_buffer;\n\n \n#define INDIO_BUFFER_FLAG_FIXED_WATERMARK BIT(0)\n\n \nstruct iio_buffer_access_funcs {\n\tint (*store_to)(struct iio_buffer *buffer, const void *data);\n\tint (*read)(struct iio_buffer *buffer, size_t n, char __user *buf);\n\tsize_t (*data_available)(struct iio_buffer *buffer);\n\tint (*remove_from)(struct iio_buffer *buffer, void *data);\n\tint (*write)(struct iio_buffer *buffer, size_t n, const char __user *buf);\n\tsize_t (*space_available)(struct iio_buffer *buffer);\n\n\tint (*request_update)(struct iio_buffer *buffer);\n\n\tint (*set_bytes_per_datum)(struct iio_buffer *buffer, size_t bpd);\n\tint (*set_length)(struct iio_buffer *buffer, unsigned int length);\n\n\tint (*enable)(struct iio_buffer *buffer, struct iio_dev *indio_dev);\n\tint (*disable)(struct iio_buffer *buffer, struct iio_dev *indio_dev);\n\n\tvoid (*release)(struct iio_buffer *buffer);\n\n\tunsigned int modes;\n\tunsigned int flags;\n};\n\n \nstruct iio_buffer {\n\t \n\tunsigned int length;\n\n\t \n\tunsigned long flags;\n\n\t \n\tsize_t bytes_per_datum;\n\n\t \n\tenum iio_buffer_direction direction;\n\n\t \n\tconst struct iio_buffer_access_funcs *access;\n\n\t \n\tlong *scan_mask;\n\n\t \n\tstruct list_head demux_list;\n\n\t \n\twait_queue_head_t pollq;\n\n\t \n\tunsigned int watermark;\n\n\t \n\t \n\tbool scan_timestamp;\n\n\t \n\tstruct list_head buffer_attr_list;\n\n\t \n\tstruct attribute_group buffer_group;\n\n\t \n\tconst struct iio_dev_attr **attrs;\n\n\t \n\tvoid *demux_bounce;\n\n\t \n\tstruct list_head attached_entry;\n\n\t \n\tstruct list_head buffer_list;\n\n\t \n\tstruct kref ref;\n};\n\n \nint iio_update_buffers(struct iio_dev *indio_dev,\n\t\t       struct iio_buffer *insert_buffer,\n\t\t       struct iio_buffer *remove_buffer);\n\n \nvoid iio_buffer_init(struct iio_buffer *buffer);\n\nstruct iio_buffer *iio_buffer_get(struct iio_buffer *buffer);\nvoid iio_buffer_put(struct iio_buffer *buffer);\n\n#else  \n\nstatic inline void iio_buffer_get(struct iio_buffer *buffer) {}\nstatic inline void iio_buffer_put(struct iio_buffer *buffer) {}\n\n#endif  \n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}