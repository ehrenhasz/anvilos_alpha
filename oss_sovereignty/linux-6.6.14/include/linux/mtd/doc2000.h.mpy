{
  "module_name": "doc2000.h",
  "hash_id": "7525160991769e4393c351faf38e25ea626b78ebbaa9ab1e8cb47430c70952c9",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/mtd/doc2000.h",
  "human_readable_source": " \n \n\n#ifndef __MTD_DOC2000_H__\n#define __MTD_DOC2000_H__\n\n#include <linux/mtd/mtd.h>\n#include <linux/mutex.h>\n\n#define DoC_Sig1 0\n#define DoC_Sig2 1\n\n#define DoC_ChipID\t\t0x1000\n#define DoC_DOCStatus\t\t0x1001\n#define DoC_DOCControl\t\t0x1002\n#define DoC_FloorSelect\t\t0x1003\n#define DoC_CDSNControl\t\t0x1004\n#define DoC_CDSNDeviceSelect \t0x1005\n#define DoC_ECCConf \t\t0x1006\n#define DoC_2k_ECCStatus\t0x1007\n\n#define DoC_CDSNSlowIO\t\t0x100d\n#define DoC_ECCSyndrome0\t0x1010\n#define DoC_ECCSyndrome1\t0x1011\n#define DoC_ECCSyndrome2\t0x1012\n#define DoC_ECCSyndrome3\t0x1013\n#define DoC_ECCSyndrome4\t0x1014\n#define DoC_ECCSyndrome5\t0x1015\n#define DoC_AliasResolution \t0x101b\n#define DoC_ConfigInput\t\t0x101c\n#define DoC_ReadPipeInit \t0x101d\n#define DoC_WritePipeTerm \t0x101e\n#define DoC_LastDataRead \t0x101f\n#define DoC_NOP \t\t0x1020\n\n#define DoC_Mil_CDSN_IO \t0x0800\n#define DoC_2k_CDSN_IO \t\t0x1800\n\n#define DoC_Mplus_NOP\t\t\t0x1002\n#define DoC_Mplus_AliasResolution\t0x1004\n#define DoC_Mplus_DOCControl\t\t0x1006\n#define DoC_Mplus_AccessStatus\t\t0x1008\n#define DoC_Mplus_DeviceSelect\t\t0x1008\n#define DoC_Mplus_Configuration\t\t0x100a\n#define DoC_Mplus_OutputControl\t\t0x100c\n#define DoC_Mplus_FlashControl\t\t0x1020\n#define DoC_Mplus_FlashSelect \t\t0x1022\n#define DoC_Mplus_FlashCmd\t\t0x1024\n#define DoC_Mplus_FlashAddress\t\t0x1026\n#define DoC_Mplus_FlashData0\t\t0x1028\n#define DoC_Mplus_FlashData1\t\t0x1029\n#define DoC_Mplus_ReadPipeInit\t\t0x102a\n#define DoC_Mplus_LastDataRead\t\t0x102c\n#define DoC_Mplus_LastDataRead1\t\t0x102d\n#define DoC_Mplus_WritePipeTerm \t0x102e\n#define DoC_Mplus_ECCSyndrome0\t\t0x1040\n#define DoC_Mplus_ECCSyndrome1\t\t0x1041\n#define DoC_Mplus_ECCSyndrome2\t\t0x1042\n#define DoC_Mplus_ECCSyndrome3\t\t0x1043\n#define DoC_Mplus_ECCSyndrome4\t\t0x1044\n#define DoC_Mplus_ECCSyndrome5\t\t0x1045\n#define DoC_Mplus_ECCConf \t\t0x1046\n#define DoC_Mplus_Toggle\t\t0x1046\n#define DoC_Mplus_DownloadStatus\t0x1074\n#define DoC_Mplus_CtrlConfirm\t\t0x1076\n#define DoC_Mplus_Power\t\t\t0x1fff\n\n \n#if defined(__arm__)\nstatic inline u8 ReadDOC_(u32 __iomem *addr, unsigned long reg)\n{\n\treturn __raw_readl(addr + reg);\n}\nstatic inline void WriteDOC_(u8 data, u32 __iomem *addr, unsigned long reg)\n{\n\t__raw_writel(data, addr + reg);\n\twmb();\n}\n#define DOC_IOREMAP_LEN 0x8000\n#elif defined(__ppc__)\nstatic inline u8 ReadDOC_(u16 __iomem *addr, unsigned long reg)\n{\n\treturn __raw_readw(addr + reg);\n}\nstatic inline void WriteDOC_(u8 data, u16 __iomem *addr, unsigned long reg)\n{\n\t__raw_writew(data, addr + reg);\n\twmb();\n}\n#define DOC_IOREMAP_LEN 0x4000\n#else\n#define ReadDOC_(adr, reg)      readb((void __iomem *)(adr) + (reg))\n#define WriteDOC_(d, adr, reg)  writeb(d, (void __iomem *)(adr) + (reg))\n#define DOC_IOREMAP_LEN 0x2000\n\n#endif\n\n#if defined(__i386__) || defined(__x86_64__)\n#define USE_MEMCPY\n#endif\n\n \n#define ReadDOC(adr, reg)      ReadDOC_(adr,DoC_##reg)\n#define WriteDOC(d, adr, reg)  WriteDOC_(d,adr,DoC_##reg)\n\n#define DOC_MODE_RESET \t\t0\n#define DOC_MODE_NORMAL \t1\n#define DOC_MODE_RESERVED1 \t2\n#define DOC_MODE_RESERVED2 \t3\n\n#define DOC_MODE_CLR_ERR \t0x80\n#define\tDOC_MODE_RST_LAT\t0x10\n#define\tDOC_MODE_BDECT\t\t0x08\n#define DOC_MODE_MDWREN \t0x04\n\n#define DOC_ChipID_Doc2k \t0x20\n#define DOC_ChipID_Doc2kTSOP \t0x21\t \n#define DOC_ChipID_DocMil \t0x30\n#define DOC_ChipID_DocMilPlus32\t0x40\n#define DOC_ChipID_DocMilPlus16\t0x41\n\n#define CDSN_CTRL_FR_B \t\t0x80\n#define CDSN_CTRL_FR_B0\t\t0x40\n#define CDSN_CTRL_FR_B1\t\t0x80\n\n#define CDSN_CTRL_ECC_IO \t0x20\n#define CDSN_CTRL_FLASH_IO \t0x10\n#define CDSN_CTRL_WP \t\t0x08\n#define CDSN_CTRL_ALE \t\t0x04\n#define CDSN_CTRL_CLE \t\t0x02\n#define CDSN_CTRL_CE \t\t0x01\n\n#define DOC_ECC_RESET \t\t0\n#define DOC_ECC_ERROR \t\t0x80\n#define DOC_ECC_RW \t\t0x20\n#define DOC_ECC__EN \t\t0x08\n#define DOC_TOGGLE_BIT \t\t0x04\n#define DOC_ECC_RESV \t\t0x02\n#define DOC_ECC_IGNORE\t\t0x01\n\n#define DOC_FLASH_CE\t\t0x80\n#define DOC_FLASH_WP\t\t0x40\n#define DOC_FLASH_BANK\t\t0x02\n\n \n#define DOC_ECC_EN (DOC_ECC__EN | DOC_ECC_RESV)\n#define DOC_ECC_DIS (DOC_ECC_RESV)\n\nstruct Nand {\n\tchar floor, chip;\n\tunsigned long curadr;\n\tunsigned char curmode;\n\t \n};\n\n#define MAX_FLOORS 4\n#define MAX_CHIPS 4\n\n#define MAX_FLOORS_MIL 1\n#define MAX_CHIPS_MIL 1\n\n#define MAX_FLOORS_MPLUS 2\n#define MAX_CHIPS_MPLUS 1\n\n#define ADDR_COLUMN 1\n#define ADDR_PAGE 2\n#define ADDR_COLUMN_PAGE 3\n\nstruct DiskOnChip {\n\tunsigned long physadr;\n\tvoid __iomem *virtadr;\n\tunsigned long totlen;\n\tunsigned char ChipID;  \n\tint ioreg;\n\n\tunsigned long mfr;  \n\tunsigned long id;\n\tint chipshift;\n\tchar page256;\n\tchar pageadrlen;\n\tchar interleave;  \n\tunsigned long erasesize;\n\n\tint curfloor;\n\tint curchip;\n\n\tint numchips;\n\tstruct Nand *chips;\n\tstruct mtd_info *nextdoc;\n\tstruct mutex lock;\n};\n\nint doc_decode_ecc(unsigned char sector[512], unsigned char ecc1[6]);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}