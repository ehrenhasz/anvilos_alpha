{
  "module_name": "pfow.h",
  "hash_id": "0a28d7343145105b0cc0138392d2daf90e3148816f49b2cb794c35c521bc08a6",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/mtd/pfow.h",
  "human_readable_source": " \n \n#ifndef __LINUX_MTD_PFOW_H\n#define __LINUX_MTD_PFOW_H\n\n#include <linux/mtd/qinfo.h>\n\n \n \n#define PFOW_QUERY_STRING_P\t\t\t0x0000\n \n#define PFOW_QUERY_STRING_F\t\t\t0x0002\n \n#define PFOW_QUERY_STRING_O\t\t\t0x0004\n \n#define PFOW_QUERY_STRING_W\t\t\t0x0006\n \n#define PFOW_MANUFACTURER_ID\t\t\t0x0020\n#define PFOW_DEVICE_ID\t\t\t\t0x0022\n \n#define PFOW_PROGRAM_BUFFER_OFFSET\t\t0x0040\n \n#define PFOW_PROGRAM_BUFFER_SIZE\t\t0x0042\n \n#define PFOW_COMMAND_CODE\t\t\t0x0080\n \n#define PFOW_COMMAND_DATA\t\t\t0x0084\n \n#define PFOW_COMMAND_ADDRESS_L\t\t\t0x0088\n \n#define PFOW_COMMAND_ADDRESS_H\t\t\t0x008a\n \n#define PFOW_DATA_COUNT_L\t\t\t0x0090\n \n#define PFOW_DATA_COUNT_H\t\t\t0x0092\n \n#define PFOW_COMMAND_EXECUTE\t\t\t0x00c0\n \n#define PFOW_CLEAR_PROGRAM_BUFFER\t\t0x00c4\n \n#define PFOW_PROGRAM_ERASE_SUSPEND\t\t0x00c8\n \n#define PFOW_DSR\t\t\t\t0x00cc\n\n \n \n#define LPDDR_WORD_PROGRAM\t\t0x0041\n#define LPDDR_BUFF_PROGRAM\t\t0x00E9\n#define LPDDR_BLOCK_ERASE\t\t0x0020\n#define LPDDR_LOCK_BLOCK\t\t0x0061\n#define LPDDR_UNLOCK_BLOCK\t\t0x0062\n#define LPDDR_READ_BLOCK_LOCK_STATUS\t0x0065\n#define LPDDR_INFO_QUERY\t\t0x0098\n#define LPDDR_READ_OTP\t\t\t0x0097\n#define LPDDR_PROG_OTP\t\t\t0x00C0\n#define LPDDR_RESUME\t\t\t0x00D0\n\n \n#define LPDDR_START_EXECUTION\t\t\t0x0001\n\n \n#define LPDDR_SUSPEND\t\t\t\t0x0001\n\n \n \n#define DSR_DPS\t\t\t(1<<1)  \n#define DSR_PSS\t\t\t(1<<2)  \n#define DSR_VPPS\t\t(1<<3)  \n#define DSR_PROGRAM_STATUS\t(1<<4)  \n#define DSR_ERASE_STATUS\t(1<<5)  \n#define DSR_ESS\t\t\t(1<<6)  \n#define DSR_READY_STATUS\t(1<<7)  \n#define DSR_RPS\t\t\t(0x3<<8)  \n#define DSR_AOS\t\t\t(1<<12)  \n#define DSR_AVAILABLE\t\t(1<<15)  \n\n \n#define DSR_ERR\t\t\t0x133A\n\nstatic inline void send_pfow_command(struct map_info *map,\n\t\t\t\tunsigned long cmd_code, unsigned long adr,\n\t\t\t\tunsigned long len, map_word *datum)\n{\n\tint bits_per_chip = map_bankwidth(map) * 8;\n\n\tmap_write(map, CMD(cmd_code), map->pfow_base + PFOW_COMMAND_CODE);\n\tmap_write(map, CMD(adr & ((1<<bits_per_chip) - 1)),\n\t\t\t\tmap->pfow_base + PFOW_COMMAND_ADDRESS_L);\n\tmap_write(map, CMD(adr>>bits_per_chip),\n\t\t\t\tmap->pfow_base + PFOW_COMMAND_ADDRESS_H);\n\tif (len) {\n\t\tmap_write(map, CMD(len & ((1<<bits_per_chip) - 1)),\n\t\t\t\t\tmap->pfow_base + PFOW_DATA_COUNT_L);\n\t\tmap_write(map, CMD(len>>bits_per_chip),\n\t\t\t\t\tmap->pfow_base + PFOW_DATA_COUNT_H);\n\t}\n\tif (datum)\n\t\tmap_write(map, *datum, map->pfow_base + PFOW_COMMAND_DATA);\n\n\t \n\tmap_write(map, CMD(LPDDR_START_EXECUTION),\n\t\t\tmap->pfow_base + PFOW_COMMAND_EXECUTE);\n}\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}