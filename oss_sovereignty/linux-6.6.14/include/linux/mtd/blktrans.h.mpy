{
  "module_name": "blktrans.h",
  "hash_id": "67268e452d288009268f16aa7889bd4421d9b1a905af0904ee765971bcb761b7",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/mtd/blktrans.h",
  "human_readable_source": " \n \n\n#ifndef __MTD_TRANS_H__\n#define __MTD_TRANS_H__\n\n#include <linux/mutex.h>\n#include <linux/kref.h>\n#include <linux/sysfs.h>\n\nstruct hd_geometry;\nstruct mtd_info;\nstruct mtd_blktrans_ops;\nstruct file;\nstruct inode;\n\nstruct mtd_blktrans_dev {\n\tstruct mtd_blktrans_ops *tr;\n\tstruct list_head list;\n\tstruct mtd_info *mtd;\n\tstruct mutex lock;\n\tint devnum;\n\tbool bg_stop;\n\tunsigned long size;\n\tint readonly;\n\tint open;\n\tstruct kref ref;\n\tstruct gendisk *disk;\n\tstruct attribute_group *disk_attributes;\n\tstruct request_queue *rq;\n\tstruct list_head rq_list;\n\tstruct blk_mq_tag_set *tag_set;\n\tspinlock_t queue_lock;\n\tvoid *priv;\n\tbool writable;\n};\n\nstruct mtd_blktrans_ops {\n\tchar *name;\n\tint major;\n\tint part_bits;\n\tint blksize;\n\tint blkshift;\n\n\t \n\tint (*readsect)(struct mtd_blktrans_dev *dev,\n\t\t    unsigned long block, char *buffer);\n\tint (*writesect)(struct mtd_blktrans_dev *dev,\n\t\t     unsigned long block, char *buffer);\n\tint (*discard)(struct mtd_blktrans_dev *dev,\n\t\t       unsigned long block, unsigned nr_blocks);\n\tvoid (*background)(struct mtd_blktrans_dev *dev);\n\n\t \n\tint (*getgeo)(struct mtd_blktrans_dev *dev, struct hd_geometry *geo);\n\tint (*flush)(struct mtd_blktrans_dev *dev);\n\n\t \n\tint (*open)(struct mtd_blktrans_dev *dev);\n\tvoid (*release)(struct mtd_blktrans_dev *dev);\n\n\t \n\tvoid (*add_mtd)(struct mtd_blktrans_ops *tr, struct mtd_info *mtd);\n\tvoid (*remove_dev)(struct mtd_blktrans_dev *dev);\n\n\tstruct list_head devs;\n\tstruct list_head list;\n\tstruct module *owner;\n};\n\nextern int register_mtd_blktrans(struct mtd_blktrans_ops *tr);\nextern int deregister_mtd_blktrans(struct mtd_blktrans_ops *tr);\nextern int add_mtd_blktrans_dev(struct mtd_blktrans_dev *dev);\nextern int del_mtd_blktrans_dev(struct mtd_blktrans_dev *dev);\nextern int mtd_blktrans_cease_background(struct mtd_blktrans_dev *dev);\n\n \n#define module_mtd_blktrans(__mtd_blktrans) \\\n\tmodule_driver(__mtd_blktrans, register_mtd_blktrans, \\\n\t\t\t\t\tderegister_mtd_blktrans)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}