{
  "module_name": "ubi.h",
  "hash_id": "74d05d881f631ead0ab8b5b9387be19df02c89b1f42f61febc36e4b8ed1b0fbb",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/mtd/ubi.h",
  "human_readable_source": " \n \n\n#ifndef __LINUX_UBI_H__\n#define __LINUX_UBI_H__\n\n#include <linux/ioctl.h>\n#include <linux/types.h>\n#include <linux/scatterlist.h>\n#include <mtd/ubi-user.h>\n\n \n#define UBI_ALL -1\n\n \n#define UBI_MAX_SG_COUNT 64\n\n \nenum {\n\tUBI_READONLY = 1,\n\tUBI_READWRITE,\n\tUBI_EXCLUSIVE,\n\tUBI_METAONLY\n};\n\n \nstruct ubi_volume_info {\n\tint ubi_num;\n\tint vol_id;\n\tint size;\n\tlong long used_bytes;\n\tint used_ebs;\n\tint vol_type;\n\tint corrupted;\n\tint upd_marker;\n\tint alignment;\n\tint usable_leb_size;\n\tint name_len;\n\tconst char *name;\n\tdev_t cdev;\n\tstruct device *dev;\n};\n\n \nstruct ubi_sgl {\n\tint list_pos;\n\tint page_pos;\n\tstruct scatterlist sg[UBI_MAX_SG_COUNT];\n};\n\n \nstatic inline void ubi_sgl_init(struct ubi_sgl *usgl)\n{\n\tusgl->list_pos = 0;\n\tusgl->page_pos = 0;\n}\n\n \nstruct ubi_device_info {\n\tint ubi_num;\n\tint leb_size;\n\tint leb_start;\n\tint min_io_size;\n\tint max_write_size;\n\tint ro_mode;\n\tdev_t cdev;\n};\n\n \nenum {\n\tUBI_VOLUME_ADDED,\n\tUBI_VOLUME_REMOVED,\n\tUBI_VOLUME_RESIZED,\n\tUBI_VOLUME_RENAMED,\n\tUBI_VOLUME_UPDATED,\n};\n\n \nstruct ubi_notification {\n\tstruct ubi_device_info di;\n\tstruct ubi_volume_info vi;\n};\n\n \nstruct ubi_volume_desc;\n\nint ubi_get_device_info(int ubi_num, struct ubi_device_info *di);\nvoid ubi_get_volume_info(struct ubi_volume_desc *desc,\n\t\t\t struct ubi_volume_info *vi);\nstruct ubi_volume_desc *ubi_open_volume(int ubi_num, int vol_id, int mode);\nstruct ubi_volume_desc *ubi_open_volume_nm(int ubi_num, const char *name,\n\t\t\t\t\t   int mode);\nstruct ubi_volume_desc *ubi_open_volume_path(const char *pathname, int mode);\n\nint ubi_register_volume_notifier(struct notifier_block *nb,\n\t\t\t\t int ignore_existing);\nint ubi_unregister_volume_notifier(struct notifier_block *nb);\n\nvoid ubi_close_volume(struct ubi_volume_desc *desc);\nint ubi_leb_read(struct ubi_volume_desc *desc, int lnum, char *buf, int offset,\n\t\t int len, int check);\nint ubi_leb_read_sg(struct ubi_volume_desc *desc, int lnum, struct ubi_sgl *sgl,\n\t\t   int offset, int len, int check);\nint ubi_leb_write(struct ubi_volume_desc *desc, int lnum, const void *buf,\n\t\t  int offset, int len);\nint ubi_leb_change(struct ubi_volume_desc *desc, int lnum, const void *buf,\n\t\t   int len);\nint ubi_leb_erase(struct ubi_volume_desc *desc, int lnum);\nint ubi_leb_unmap(struct ubi_volume_desc *desc, int lnum);\nint ubi_leb_map(struct ubi_volume_desc *desc, int lnum);\nint ubi_is_mapped(struct ubi_volume_desc *desc, int lnum);\nint ubi_sync(int ubi_num);\nint ubi_flush(int ubi_num, int vol_id, int lnum);\n\n \nstatic inline int ubi_read(struct ubi_volume_desc *desc, int lnum, char *buf,\n\t\t\t   int offset, int len)\n{\n\treturn ubi_leb_read(desc, lnum, buf, offset, len, 0);\n}\n\n \nstatic inline int ubi_read_sg(struct ubi_volume_desc *desc, int lnum,\n\t\t\t      struct ubi_sgl *sgl, int offset, int len)\n{\n\treturn ubi_leb_read_sg(desc, lnum, sgl, offset, len, 0);\n}\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}