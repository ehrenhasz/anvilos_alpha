{
  "module_name": "onfi.h",
  "hash_id": "bffcc27cd5639832a29af8d8f8d2a4dce9730b455fd7fa1c7b35bdf4968e474d",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/mtd/onfi.h",
  "human_readable_source": " \n \n\n#ifndef __LINUX_MTD_ONFI_H\n#define __LINUX_MTD_ONFI_H\n\n#include <linux/types.h>\n#include <linux/bitfield.h>\n\n \n#define ONFI_VERSION_1_0\t\tBIT(1)\n#define ONFI_VERSION_2_0\t\tBIT(2)\n#define ONFI_VERSION_2_1\t\tBIT(3)\n#define ONFI_VERSION_2_2\t\tBIT(4)\n#define ONFI_VERSION_2_3\t\tBIT(5)\n#define ONFI_VERSION_3_0\t\tBIT(6)\n#define ONFI_VERSION_3_1\t\tBIT(7)\n#define ONFI_VERSION_3_2\t\tBIT(8)\n#define ONFI_VERSION_4_0\t\tBIT(9)\n\n \n#define ONFI_FEATURE_16_BIT_BUS\t\tBIT(0)\n#define ONFI_FEATURE_NV_DDR\t\tBIT(5)\n#define ONFI_FEATURE_EXT_PARAM_PAGE\tBIT(7)\n\n \n#define ONFI_DATA_INTERFACE_SDR\t\t0\n#define ONFI_DATA_INTERFACE_NVDDR\tBIT(4)\n#define ONFI_DATA_INTERFACE_NVDDR2\tBIT(5)\n#define ONFI_TIMING_MODE_0\t\tBIT(0)\n#define ONFI_TIMING_MODE_1\t\tBIT(1)\n#define ONFI_TIMING_MODE_2\t\tBIT(2)\n#define ONFI_TIMING_MODE_3\t\tBIT(3)\n#define ONFI_TIMING_MODE_4\t\tBIT(4)\n#define ONFI_TIMING_MODE_5\t\tBIT(5)\n#define ONFI_TIMING_MODE_UNKNOWN\tBIT(6)\n#define ONFI_TIMING_MODE_PARAM(x)\tFIELD_GET(GENMASK(3, 0), (x))\n\n \n#define ONFI_FEATURE_NUMBER\t\t256\n#define ONFI_FEATURE_ADDR_TIMING_MODE\t0x1\n\n \n#define ONFI_FEATURE_ADDR_READ_RETRY\t0x89\n#define ONFI_FEATURE_ON_DIE_ECC\t\t0x90\n#define   ONFI_FEATURE_ON_DIE_ECC_EN\tBIT(3)\n\n \n#define ONFI_SUBFEATURE_PARAM_LEN\t4\n\n \n#define ONFI_OPT_CMD_READ_CACHE\t\tBIT(1)\n#define ONFI_OPT_CMD_SET_GET_FEATURES\tBIT(2)\n\nstruct nand_onfi_params {\n\t \n\t \n\tu8 sig[4];\n\t__le16 revision;\n\t__le16 features;\n\t__le16 opt_cmd;\n\tu8 reserved0[2];\n\t__le16 ext_param_page_length;  \n\tu8 num_of_param_pages;         \n\tu8 reserved1[17];\n\n\t \n\tchar manufacturer[12];\n\tchar model[20];\n\tu8 jedec_id;\n\t__le16 date_code;\n\tu8 reserved2[13];\n\n\t \n\t__le32 byte_per_page;\n\t__le16 spare_bytes_per_page;\n\t__le32 data_bytes_per_ppage;\n\t__le16 spare_bytes_per_ppage;\n\t__le32 pages_per_block;\n\t__le32 blocks_per_lun;\n\tu8 lun_count;\n\tu8 addr_cycles;\n\tu8 bits_per_cell;\n\t__le16 bb_per_lun;\n\t__le16 block_endurance;\n\tu8 guaranteed_good_blocks;\n\t__le16 guaranteed_block_endurance;\n\tu8 programs_per_page;\n\tu8 ppage_attr;\n\tu8 ecc_bits;\n\tu8 interleaved_bits;\n\tu8 interleaved_ops;\n\tu8 reserved3[13];\n\n\t \n\tu8 io_pin_capacitance_max;\n\t__le16 sdr_timing_modes;\n\t__le16 program_cache_timing_mode;\n\t__le16 t_prog;\n\t__le16 t_bers;\n\t__le16 t_r;\n\t__le16 t_ccs;\n\tu8 nvddr_timing_modes;\n\tu8 nvddr2_timing_modes;\n\tu8 nvddr_nvddr2_features;\n\t__le16 clk_pin_capacitance_typ;\n\t__le16 io_pin_capacitance_typ;\n\t__le16 input_pin_capacitance_typ;\n\tu8 input_pin_capacitance_max;\n\tu8 driver_strength_support;\n\t__le16 t_int_r;\n\t__le16 t_adl;\n\tu8 reserved4[8];\n\n\t \n\t__le16 vendor_revision;\n\tu8 vendor[88];\n\n\t__le16 crc;\n} __packed;\n\n#define ONFI_CRC_BASE\t0x4F4E\n\n \nstruct onfi_ext_ecc_info {\n\tu8 ecc_bits;\n\tu8 codeword_size;\n\t__le16 bb_per_lun;\n\t__le16 block_endurance;\n\tu8 reserved[2];\n} __packed;\n\n#define ONFI_SECTION_TYPE_0\t0\t \n#define ONFI_SECTION_TYPE_1\t1\t \n#define ONFI_SECTION_TYPE_2\t2\t \nstruct onfi_ext_section {\n\tu8 type;\n\tu8 length;\n} __packed;\n\n#define ONFI_EXT_SECTION_MAX 8\n\n \nstruct onfi_ext_param_page {\n\t__le16 crc;\n\tu8 sig[4];              \n\tu8 reserved0[10];\n\tstruct onfi_ext_section sections[ONFI_EXT_SECTION_MAX];\n\n\t \n} __packed;\n\n \nstruct onfi_params {\n\tint version;\n\tu16 tPROG;\n\tu16 tBERS;\n\tu16 tR;\n\tu16 tCCS;\n\tbool fast_tCAD;\n\tu16 sdr_timing_modes;\n\tu16 nvddr_timing_modes;\n\tu16 vendor_revision;\n\tu8 vendor[88];\n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}