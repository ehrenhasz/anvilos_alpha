{
  "module_name": "mxs-lradc.h",
  "hash_id": "4c826f9b6f08ad122899a723b2aa6ec79573e2c6c4cf2c218e4c5d5e74e0cc75",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/mfd/mxs-lradc.h",
  "human_readable_source": " \n \n\n#ifndef __MFD_MXS_LRADC_H\n#define __MFD_MXS_LRADC_H\n\n#include <linux/bitops.h>\n#include <linux/io.h>\n#include <linux/stmp_device.h>\n\n#define LRADC_MAX_DELAY_CHANS\t4\n#define LRADC_MAX_MAPPED_CHANS\t8\n#define LRADC_MAX_TOTAL_CHANS\t16\n\n#define LRADC_DELAY_TIMER_HZ\t2000\n\n#define LRADC_CTRL0\t\t\t\t0x00\n# define LRADC_CTRL0_MX28_TOUCH_DETECT_ENABLE\tBIT(23)\n# define LRADC_CTRL0_MX28_TOUCH_SCREEN_TYPE\tBIT(22)\n# define LRADC_CTRL0_MX28_YNNSW  \tBIT(21)\n# define LRADC_CTRL0_MX28_YPNSW  \tBIT(20)\n# define LRADC_CTRL0_MX28_YPPSW  \tBIT(19)\n# define LRADC_CTRL0_MX28_XNNSW  \tBIT(18)\n# define LRADC_CTRL0_MX28_XNPSW  \tBIT(17)\n# define LRADC_CTRL0_MX28_XPPSW  \tBIT(16)\n\n# define LRADC_CTRL0_MX23_TOUCH_DETECT_ENABLE\tBIT(20)\n# define LRADC_CTRL0_MX23_YM\t\t\tBIT(19)\n# define LRADC_CTRL0_MX23_XM\t\t\tBIT(18)\n# define LRADC_CTRL0_MX23_YP\t\t\tBIT(17)\n# define LRADC_CTRL0_MX23_XP\t\t\tBIT(16)\n\n# define LRADC_CTRL0_MX28_PLATE_MASK \\\n\t\t(LRADC_CTRL0_MX28_TOUCH_DETECT_ENABLE | \\\n\t\tLRADC_CTRL0_MX28_YNNSW | LRADC_CTRL0_MX28_YPNSW | \\\n\t\tLRADC_CTRL0_MX28_YPPSW | LRADC_CTRL0_MX28_XNNSW | \\\n\t\tLRADC_CTRL0_MX28_XNPSW | LRADC_CTRL0_MX28_XPPSW)\n\n# define LRADC_CTRL0_MX23_PLATE_MASK \\\n\t\t(LRADC_CTRL0_MX23_TOUCH_DETECT_ENABLE | \\\n\t\tLRADC_CTRL0_MX23_YM | LRADC_CTRL0_MX23_XM | \\\n\t\tLRADC_CTRL0_MX23_YP | LRADC_CTRL0_MX23_XP)\n\n#define LRADC_CTRL1\t\t\t\t0x10\n#define LRADC_CTRL1_TOUCH_DETECT_IRQ_EN\t\tBIT(24)\n#define LRADC_CTRL1_LRADC_IRQ_EN(n)\t\t(1 << ((n) + 16))\n#define LRADC_CTRL1_MX28_LRADC_IRQ_EN_MASK\t(0x1fff << 16)\n#define LRADC_CTRL1_MX23_LRADC_IRQ_EN_MASK\t(0x01ff << 16)\n#define LRADC_CTRL1_LRADC_IRQ_EN_OFFSET\t\t16\n#define LRADC_CTRL1_TOUCH_DETECT_IRQ\t\tBIT(8)\n#define LRADC_CTRL1_LRADC_IRQ(n)\t\tBIT(n)\n#define LRADC_CTRL1_MX28_LRADC_IRQ_MASK\t\t0x1fff\n#define LRADC_CTRL1_MX23_LRADC_IRQ_MASK\t\t0x01ff\n#define LRADC_CTRL1_LRADC_IRQ_OFFSET\t\t0\n\n#define LRADC_CTRL2\t\t\t\t0x20\n#define LRADC_CTRL2_DIVIDE_BY_TWO_OFFSET\t24\n#define LRADC_CTRL2_TEMPSENSE_PWD\t\tBIT(15)\n\n#define LRADC_STATUS\t\t\t\t0x40\n#define LRADC_STATUS_TOUCH_DETECT_RAW\t\tBIT(0)\n\n#define LRADC_CH(n)\t\t\t\t(0x50 + (0x10 * (n)))\n#define LRADC_CH_ACCUMULATE\t\t\tBIT(29)\n#define LRADC_CH_NUM_SAMPLES_MASK\t\t(0x1f << 24)\n#define LRADC_CH_NUM_SAMPLES_OFFSET\t\t24\n#define LRADC_CH_NUM_SAMPLES(x) \\\n\t\t\t\t((x) << LRADC_CH_NUM_SAMPLES_OFFSET)\n#define LRADC_CH_VALUE_MASK\t\t\t0x3ffff\n#define LRADC_CH_VALUE_OFFSET\t\t\t0\n\n#define LRADC_DELAY(n)\t\t\t\t(0xd0 + (0x10 * (n)))\n#define LRADC_DELAY_TRIGGER_LRADCS_MASK\t\t(0xffUL << 24)\n#define LRADC_DELAY_TRIGGER_LRADCS_OFFSET\t24\n#define LRADC_DELAY_TRIGGER(x) \\\n\t\t\t\t(((x) << LRADC_DELAY_TRIGGER_LRADCS_OFFSET) & \\\n\t\t\t\tLRADC_DELAY_TRIGGER_LRADCS_MASK)\n#define LRADC_DELAY_KICK\t\t\tBIT(20)\n#define LRADC_DELAY_TRIGGER_DELAYS_MASK\t\t(0xf << 16)\n#define LRADC_DELAY_TRIGGER_DELAYS_OFFSET\t16\n#define LRADC_DELAY_TRIGGER_DELAYS(x) \\\n\t\t\t\t(((x) << LRADC_DELAY_TRIGGER_DELAYS_OFFSET) & \\\n\t\t\t\tLRADC_DELAY_TRIGGER_DELAYS_MASK)\n#define LRADC_DELAY_LOOP_COUNT_MASK\t\t(0x1f << 11)\n#define LRADC_DELAY_LOOP_COUNT_OFFSET\t\t11\n#define LRADC_DELAY_LOOP(x) \\\n\t\t\t\t(((x) << LRADC_DELAY_LOOP_COUNT_OFFSET) & \\\n\t\t\t\tLRADC_DELAY_LOOP_COUNT_MASK)\n#define LRADC_DELAY_DELAY_MASK\t\t\t0x7ff\n#define LRADC_DELAY_DELAY_OFFSET\t\t0\n#define LRADC_DELAY_DELAY(x) \\\n\t\t\t\t(((x) << LRADC_DELAY_DELAY_OFFSET) & \\\n\t\t\t\tLRADC_DELAY_DELAY_MASK)\n\n#define LRADC_CTRL4\t\t\t\t0x140\n#define LRADC_CTRL4_LRADCSELECT_MASK(n)\t\t(0xf << ((n) * 4))\n#define LRADC_CTRL4_LRADCSELECT_OFFSET(n)\t((n) * 4)\n#define LRADC_CTRL4_LRADCSELECT(n, x) \\\n\t\t\t\t(((x) << LRADC_CTRL4_LRADCSELECT_OFFSET(n)) & \\\n\t\t\t\tLRADC_CTRL4_LRADCSELECT_MASK(n))\n\n#define LRADC_RESOLUTION\t\t\t12\n#define LRADC_SINGLE_SAMPLE_MASK\t\t((1 << LRADC_RESOLUTION) - 1)\n\n#define BUFFER_VCHANS_LIMITED\t\t0x3f\n#define BUFFER_VCHANS_ALL\t\t0xff\n\n\t \n#define CHAN_MASK_TOUCHBUTTON\t\t(BIT(1) | BIT(0))\n#define CHAN_MASK_TOUCHSCREEN_4WIRE\t(0xf << 2)\n#define CHAN_MASK_TOUCHSCREEN_5WIRE\t(0x1f << 2)\n\nenum mxs_lradc_id {\n\tIMX23_LRADC,\n\tIMX28_LRADC,\n};\n\nenum mxs_lradc_ts_wires {\n\tMXS_LRADC_TOUCHSCREEN_NONE = 0,\n\tMXS_LRADC_TOUCHSCREEN_4WIRE,\n\tMXS_LRADC_TOUCHSCREEN_5WIRE,\n};\n\n \nstruct mxs_lradc {\n\tenum mxs_lradc_id\tsoc;\n\tstruct clk\t\t*clk;\n\tu8\t\t\tbuffer_vchans;\n\n\tenum mxs_lradc_ts_wires\ttouchscreen_wire;\n\tbool\t\t\tuse_touchbutton;\n};\n\nstatic inline u32 mxs_lradc_irq_mask(struct mxs_lradc *lradc)\n{\n\tswitch (lradc->soc) {\n\tcase IMX23_LRADC:\n\t\treturn LRADC_CTRL1_MX23_LRADC_IRQ_MASK;\n\tcase IMX28_LRADC:\n\t\treturn LRADC_CTRL1_MX28_LRADC_IRQ_MASK;\n\tdefault:\n\t\treturn 0;\n\t}\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}