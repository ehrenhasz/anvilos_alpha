{
  "module_name": "twl6040.h",
  "hash_id": "838af00fa229ae67cb9fe3ff44b318ea080c00287c132e6bdc055e997ae1d298",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/mfd/twl6040.h",
  "human_readable_source": " \n \n\n#ifndef __TWL6040_CODEC_H__\n#define __TWL6040_CODEC_H__\n\n#include <linux/interrupt.h>\n#include <linux/mfd/core.h>\n#include <linux/regulator/consumer.h>\n#include <linux/clk.h>\n\n#define TWL6040_REG_ASICID\t\t0x01\n#define TWL6040_REG_ASICREV\t\t0x02\n#define TWL6040_REG_INTID\t\t0x03\n#define TWL6040_REG_INTMR\t\t0x04\n#define TWL6040_REG_NCPCTL\t\t0x05\n#define TWL6040_REG_LDOCTL\t\t0x06\n#define TWL6040_REG_HPPLLCTL\t\t0x07\n#define TWL6040_REG_LPPLLCTL\t\t0x08\n#define TWL6040_REG_LPPLLDIV\t\t0x09\n#define TWL6040_REG_AMICBCTL\t\t0x0A\n#define TWL6040_REG_DMICBCTL\t\t0x0B\n#define TWL6040_REG_MICLCTL\t\t0x0C\n#define TWL6040_REG_MICRCTL\t\t0x0D\n#define TWL6040_REG_MICGAIN\t\t0x0E\n#define TWL6040_REG_LINEGAIN\t\t0x0F\n#define TWL6040_REG_HSLCTL\t\t0x10\n#define TWL6040_REG_HSRCTL\t\t0x11\n#define TWL6040_REG_HSGAIN\t\t0x12\n#define TWL6040_REG_EARCTL\t\t0x13\n#define TWL6040_REG_HFLCTL\t\t0x14\n#define TWL6040_REG_HFLGAIN\t\t0x15\n#define TWL6040_REG_HFRCTL\t\t0x16\n#define TWL6040_REG_HFRGAIN\t\t0x17\n#define TWL6040_REG_VIBCTLL\t\t0x18\n#define TWL6040_REG_VIBDATL\t\t0x19\n#define TWL6040_REG_VIBCTLR\t\t0x1A\n#define TWL6040_REG_VIBDATR\t\t0x1B\n#define TWL6040_REG_HKCTL1\t\t0x1C\n#define TWL6040_REG_HKCTL2\t\t0x1D\n#define TWL6040_REG_GPOCTL\t\t0x1E\n#define TWL6040_REG_ALB\t\t\t0x1F\n#define TWL6040_REG_DLB\t\t\t0x20\n#define TWL6040_REG_TRIM1\t\t0x28\n#define TWL6040_REG_TRIM2\t\t0x29\n#define TWL6040_REG_TRIM3\t\t0x2A\n#define TWL6040_REG_HSOTRIM\t\t0x2B\n#define TWL6040_REG_HFOTRIM\t\t0x2C\n#define TWL6040_REG_ACCCTL\t\t0x2D\n#define TWL6040_REG_STATUS\t\t0x2E\n\n \n\n#define TWL6040_THINT\t\t\t0x01\n#define TWL6040_PLUGINT\t\t\t0x02\n#define TWL6040_UNPLUGINT\t\t0x04\n#define TWL6040_HOOKINT\t\t\t0x08\n#define TWL6040_HFINT\t\t\t0x10\n#define TWL6040_VIBINT\t\t\t0x20\n#define TWL6040_READYINT\t\t0x40\n\n \n\n#define TWL6040_THMSK\t\t\t0x01\n#define TWL6040_PLUGMSK\t\t\t0x02\n#define TWL6040_HOOKMSK\t\t\t0x08\n#define TWL6040_HFMSK\t\t\t0x10\n#define TWL6040_VIBMSK\t\t\t0x20\n#define TWL6040_READYMSK\t\t0x40\n#define TWL6040_ALLINT_MSK\t\t0x7B\n\n \n\n#define TWL6040_NCPENA\t\t\t0x01\n#define TWL6040_NCPOPEN\t\t\t0x40\n\n \n\n#define TWL6040_LSLDOENA\t\t0x01\n#define TWL6040_HSLDOENA\t\t0x04\n#define TWL6040_REFENA\t\t\t0x40\n#define TWL6040_OSCENA\t\t\t0x80\n\n \n\n#define TWL6040_HPLLENA\t\t\t0x01\n#define TWL6040_HPLLRST\t\t\t0x02\n#define TWL6040_HPLLBP\t\t\t0x04\n#define TWL6040_HPLLSQRENA\t\t0x08\n#define TWL6040_MCLK_12000KHZ\t\t(0 << 5)\n#define TWL6040_MCLK_19200KHZ\t\t(1 << 5)\n#define TWL6040_MCLK_26000KHZ\t\t(2 << 5)\n#define TWL6040_MCLK_38400KHZ\t\t(3 << 5)\n#define TWL6040_MCLK_MSK\t\t0x60\n\n \n\n#define TWL6040_LPLLENA\t\t\t0x01\n#define TWL6040_LPLLRST\t\t\t0x02\n#define TWL6040_LPLLSEL\t\t\t0x04\n#define TWL6040_LPLLFIN\t\t\t0x08\n#define TWL6040_HPLLSEL\t\t\t0x10\n\n \n\n#define TWL6040_HSDACENA\t\t(1 << 0)\n#define TWL6040_HSDACMODE\t\t(1 << 1)\n#define TWL6040_HSDRVENA\t\t(1 << 2)\n#define TWL6040_HSDRVMODE\t\t(1 << 3)\n\n \n\n#define TWL6040_HFDACENA\t\t(1 << 0)\n#define TWL6040_HFPGAENA\t\t(1 << 1)\n#define TWL6040_HFDRVENA\t\t(1 << 4)\n#define TWL6040_HFSWENA\t\t\t(1 << 6)\n\n \n\n#define TWL6040_VIBENA\t\t\t(1 << 0)\n#define TWL6040_VIBSEL\t\t\t(1 << 1)\n#define TWL6040_VIBCTRL\t\t\t(1 << 2)\n#define TWL6040_VIBCTRL_P\t\t(1 << 3)\n#define TWL6040_VIBCTRL_N\t\t(1 << 4)\n\n \n\n#define TWL6040_VIBDAT_MAX\t\t0x64\n\n \n\n#define TWL6040_GPO1\t\t\t0x01\n#define TWL6040_GPO2\t\t\t0x02\n#define TWL6040_GPO3\t\t\t0x04\n\n \n\n#define TWL6040_I2CSEL\t\t\t0x01\n#define TWL6040_RESETSPLIT\t\t0x04\n#define TWL6040_INTCLRMODE\t\t0x08\n#define TWL6040_I2CMODE(x)\t\t((x & 0x3) << 4)\n\n \n\n#define TWL6040_PLUGCOMP\t\t0x02\n#define TWL6040_VIBLOCDET\t\t0x10\n#define TWL6040_VIBROCDET\t\t0x20\n#define TWL6040_TSHUTDET                0x40\n\n#define TWL6040_CELLS\t\t\t4\n\n#define TWL6040_REV_ES1_0\t\t0x00\n#define TWL6040_REV_ES1_1\t\t0x01  \n#define TWL6040_REV_ES1_3\t\t0x02\n#define TWL6041_REV_ES2_0\t\t0x10\n\n#define TWL6040_IRQ_TH\t\t\t0\n#define TWL6040_IRQ_PLUG\t\t1\n#define TWL6040_IRQ_HOOK\t\t2\n#define TWL6040_IRQ_HF\t\t\t3\n#define TWL6040_IRQ_VIB\t\t\t4\n#define TWL6040_IRQ_READY\t\t5\n\n \n#define TWL6040_SYSCLK_SEL_LPPLL\t0\n#define TWL6040_SYSCLK_SEL_HPPLL\t1\n\n#define TWL6040_GPO_MAX\t3\n\nstruct gpio_desc;\nstruct regmap;\nstruct regmap_irq_chips_data;\n\nstruct twl6040 {\n\tstruct device *dev;\n\tstruct regmap *regmap;\n\tstruct regmap_irq_chip_data *irq_data;\n\tstruct regulator_bulk_data supplies[2];  \n\tstruct clk *clk32k;\n\tstruct clk *mclk;\n\tstruct mutex mutex;\n\tstruct mutex irq_mutex;\n\tstruct mfd_cell cells[TWL6040_CELLS];\n\tstruct completion ready;\n\n\tstruct gpio_desc *audpwron;\n\tint power_count;\n\tint rev;\n\n\t \n\tint pll;\n\tunsigned int sysclk_rate;\n\tunsigned int mclk_rate;\n\n\tunsigned int irq;\n\tunsigned int irq_ready;\n\tunsigned int irq_th;\n};\n\nint twl6040_reg_read(struct twl6040 *twl6040, unsigned int reg);\nint twl6040_reg_write(struct twl6040 *twl6040, unsigned int reg,\n\t\t      u8 val);\nint twl6040_set_bits(struct twl6040 *twl6040, unsigned int reg,\n\t\t     u8 mask);\nint twl6040_clear_bits(struct twl6040 *twl6040, unsigned int reg,\n\t\t       u8 mask);\nint twl6040_power(struct twl6040 *twl6040, int on);\nint twl6040_set_pll(struct twl6040 *twl6040, int pll_id,\n\t\t    unsigned int freq_in, unsigned int freq_out);\nint twl6040_get_pll(struct twl6040 *twl6040);\nunsigned int twl6040_get_sysclk(struct twl6040 *twl6040);\n\n \nint twl6040_get_vibralr_status(struct twl6040 *twl6040);\n\nstatic inline int twl6040_get_revid(struct twl6040 *twl6040)\n{\n\treturn twl6040->rev;\n}\n\n\n#endif   \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}