{
  "module_name": "core.h",
  "hash_id": "18baf14e8e6e09438c415c1f804932fc04e0a2ca19ffaa2fbb57d6aadb215586",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/mfd/wm8994/core.h",
  "human_readable_source": " \n \n\n#ifndef __MFD_WM8994_CORE_H__\n#define __MFD_WM8994_CORE_H__\n\n#include <linux/mutex.h>\n#include <linux/interrupt.h>\n#include <linux/regmap.h>\n\n#include <linux/mfd/wm8994/pdata.h>\n\nenum wm8994_type {\n\tWM8994 = 0,\n\tWM8958 = 1,\n\tWM1811 = 2,\n};\n\nstruct regulator_dev;\nstruct regulator_bulk_data;\nstruct irq_domain;\n\n#define WM8994_NUM_GPIO_REGS 11\n#define WM8994_NUM_LDO_REGS   2\n#define WM8994_NUM_IRQ_REGS   2\n\n#define WM8994_IRQ_TEMP_SHUT\t\t0\n#define WM8994_IRQ_MIC1_DET\t\t1\n#define WM8994_IRQ_MIC1_SHRT\t\t2\n#define WM8994_IRQ_MIC2_DET\t\t3\n#define WM8994_IRQ_MIC2_SHRT\t\t4\n#define WM8994_IRQ_FLL1_LOCK\t\t5\n#define WM8994_IRQ_FLL2_LOCK\t\t6\n#define WM8994_IRQ_SRC1_LOCK\t\t7\n#define WM8994_IRQ_SRC2_LOCK\t\t8\n#define WM8994_IRQ_AIF1DRC1_SIG_DET\t9\n#define WM8994_IRQ_AIF1DRC2_SIG_DET\t10\n#define WM8994_IRQ_AIF2DRC_SIG_DET\t11\n#define WM8994_IRQ_FIFOS_ERR\t\t12\n#define WM8994_IRQ_WSEQ_DONE\t\t13\n#define WM8994_IRQ_DCS_DONE\t\t14\n#define WM8994_IRQ_TEMP_WARN\t\t15\n\n \n#define WM8994_IRQ_GPIO(x) (x + WM8994_IRQ_TEMP_WARN)\n\nstruct wm8994 {\n\tstruct wm8994_pdata pdata;\n\n\tenum wm8994_type type;\n\tint revision;\n\tint cust_id;\n\n\tstruct device *dev;\n\tstruct regmap *regmap;\n\n\tbool ldo_ena_always_driven;\n\n\tint gpio_base;\n\tint irq_base;\n\n\tint irq;\n\tstruct regmap_irq_chip_data *irq_data;\n\tstruct irq_domain *edge_irq;\n\n\t \n\tbool suspended;\n\n\tstruct regulator_dev *dbvdd;\n\tint num_supplies;\n\tstruct regulator_bulk_data *supplies;\n};\n\n \n\nstatic inline int wm8994_reg_read(struct wm8994 *wm8994, unsigned short reg)\n{\n\tunsigned int val;\n\tint ret;\n\n\tret = regmap_read(wm8994->regmap, reg, &val);\n\n\tif (ret < 0)\n\t\treturn ret;\n\telse\n\t\treturn val;\n}\n\nstatic inline int wm8994_reg_write(struct wm8994 *wm8994, unsigned short reg,\n\t\t\t\t   unsigned short val)\n{\n\treturn regmap_write(wm8994->regmap, reg, val);\n}\n\nstatic inline int wm8994_bulk_read(struct wm8994 *wm8994, unsigned short reg,\n\t\t\t\t   int count, u16 *buf)\n{\n\treturn regmap_bulk_read(wm8994->regmap, reg, buf, count);\n}\n\nstatic inline int wm8994_bulk_write(struct wm8994 *wm8994, unsigned short reg,\n\t\t\t\t    int count, const u16 *buf)\n{\n\treturn regmap_raw_write(wm8994->regmap, reg, buf, count * sizeof(u16));\n}\n\nstatic inline int wm8994_set_bits(struct wm8994 *wm8994, unsigned short reg,\n\t\t    unsigned short mask, unsigned short val)\n{\n\treturn regmap_update_bits(wm8994->regmap, reg, mask, val);\n}\n\n \nstatic inline int wm8994_request_irq(struct wm8994 *wm8994, int irq,\n\t\t\t\t     irq_handler_t handler, const char *name,\n\t\t\t\t     void *data)\n{\n\tif (!wm8994->irq_data)\n\t\treturn -EINVAL;\n\treturn request_threaded_irq(regmap_irq_get_virq(wm8994->irq_data, irq),\n\t\t\t\t    NULL, handler, IRQF_TRIGGER_RISING, name,\n\t\t\t\t    data);\n}\nstatic inline void wm8994_free_irq(struct wm8994 *wm8994, int irq, void *data)\n{\n\tif (!wm8994->irq_data)\n\t\treturn;\n\tfree_irq(regmap_irq_get_virq(wm8994->irq_data, irq), data);\n}\n\nint wm8994_irq_init(struct wm8994 *wm8994);\nvoid wm8994_irq_exit(struct wm8994 *wm8994);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}