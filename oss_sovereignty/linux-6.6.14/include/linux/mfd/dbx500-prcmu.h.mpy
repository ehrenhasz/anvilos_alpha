{
  "module_name": "dbx500-prcmu.h",
  "hash_id": "41528b56d493bb527ec3ee235d95e6aec52286f9a78b716dd711c42010025943",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/mfd/dbx500-prcmu.h",
  "human_readable_source": " \n \n#ifndef __MACH_PRCMU_H\n#define __MACH_PRCMU_H\n\n#include <linux/interrupt.h>\n#include <linux/notifier.h>\n#include <linux/err.h>\n\n#include <dt-bindings/mfd/dbx500-prcmu.h>  \n\n \n#define DB8500_PRCMU_FW_VERSION_OFFSET 0xA4\n#define DBX540_PRCMU_FW_VERSION_OFFSET 0xA8\n\n \nenum prcmu_wakeup_index {\n\tPRCMU_WAKEUP_INDEX_RTC,\n\tPRCMU_WAKEUP_INDEX_RTT0,\n\tPRCMU_WAKEUP_INDEX_RTT1,\n\tPRCMU_WAKEUP_INDEX_HSI0,\n\tPRCMU_WAKEUP_INDEX_HSI1,\n\tPRCMU_WAKEUP_INDEX_USB,\n\tPRCMU_WAKEUP_INDEX_ABB,\n\tPRCMU_WAKEUP_INDEX_ABB_FIFO,\n\tPRCMU_WAKEUP_INDEX_ARM,\n\tPRCMU_WAKEUP_INDEX_CD_IRQ,\n\tNUM_PRCMU_WAKEUP_INDICES\n};\n#define PRCMU_WAKEUP(_name) (BIT(PRCMU_WAKEUP_INDEX_##_name))\n\n \n\n \n#define EPOD_ID_SVAMMDSP\t0\n#define EPOD_ID_SVAPIPE\t\t1\n#define EPOD_ID_SIAMMDSP\t2\n#define EPOD_ID_SIAPIPE\t\t3\n#define EPOD_ID_SGA\t\t4\n#define EPOD_ID_B2R2_MCDE\t5\n#define EPOD_ID_ESRAM12\t\t6\n#define EPOD_ID_ESRAM34\t\t7\n#define NUM_EPOD_ID\t\t8\n\n \n#define EPOD_STATE_NO_CHANGE\t0x00\n#define EPOD_STATE_OFF\t\t0x01\n#define EPOD_STATE_RAMRET\t0x02\n#define EPOD_STATE_ON_CLK_OFF\t0x03\n#define EPOD_STATE_ON\t\t0x04\n\n \n#define PRCMU_CLKSRC_CLK38M\t\t0x00\n#define PRCMU_CLKSRC_ACLK\t\t0x01\n#define PRCMU_CLKSRC_SYSCLK\t\t0x02\n#define PRCMU_CLKSRC_LCDCLK\t\t0x03\n#define PRCMU_CLKSRC_SDMMCCLK\t\t0x04\n#define PRCMU_CLKSRC_TVCLK\t\t0x05\n#define PRCMU_CLKSRC_TIMCLK\t\t0x06\n#define PRCMU_CLKSRC_CLK009\t\t0x07\n \n#define PRCMU_CLKSRC_SIAMMDSPCLK\t0x40\n#define PRCMU_CLKSRC_I2CCLK\t\t0x41\n#define PRCMU_CLKSRC_MSP02CLK\t\t0x42\n#define PRCMU_CLKSRC_ARMPLL_OBSCLK\t0x43\n#define PRCMU_CLKSRC_HSIRXCLK\t\t0x44\n#define PRCMU_CLKSRC_HSITXCLK\t\t0x45\n#define PRCMU_CLKSRC_ARMCLKFIX\t\t0x46\n#define PRCMU_CLKSRC_HDMICLK\t\t0x47\n\n \nenum prcmu_wdog_id {\n\tPRCMU_WDOG_ALL = 0x00,\n\tPRCMU_WDOG_CPU1 = 0x01,\n\tPRCMU_WDOG_CPU2 = 0x02,\n};\n\n \nenum ape_opp {\n\tAPE_OPP_INIT = 0x00,\n\tAPE_NO_CHANGE = 0x01,\n\tAPE_100_OPP = 0x02,\n\tAPE_50_OPP = 0x03,\n\tAPE_50_PARTLY_25_OPP = 0xFF,\n};\n\n \nenum arm_opp {\n\tARM_OPP_INIT = 0x00,\n\tARM_NO_CHANGE = 0x01,\n\tARM_100_OPP = 0x02,\n\tARM_50_OPP = 0x03,\n\tARM_MAX_OPP = 0x04,\n\tARM_MAX_FREQ100OPP = 0x05,\n\tARM_EXTCLK = 0x07\n};\n\n \nenum ddr_opp {\n\tDDR_100_OPP = 0x00,\n\tDDR_50_OPP = 0x01,\n\tDDR_25_OPP = 0x02,\n};\n\n \n#define ESRAM0_DEEP_SLEEP_STATE_OFF 1\n#define ESRAM0_DEEP_SLEEP_STATE_RET 2\n\n \nenum ddr_pwrst {\n\tDDR_PWR_STATE_UNCHANGED     = 0x00,\n\tDDR_PWR_STATE_ON            = 0x01,\n\tDDR_PWR_STATE_OFFLOWLAT     = 0x02,\n\tDDR_PWR_STATE_OFFHIGHLAT    = 0x03\n};\n\n#define DB8500_PRCMU_LEGACY_OFFSET\t\t0xDD4\n\n#define PRCMU_FW_PROJECT_U8500\t\t2\n#define PRCMU_FW_PROJECT_U8400\t\t3\n#define PRCMU_FW_PROJECT_U9500\t\t4  \n#define PRCMU_FW_PROJECT_U8500_MBB\t5\n#define PRCMU_FW_PROJECT_U8500_C1\t6\n#define PRCMU_FW_PROJECT_U8500_C2\t7\n#define PRCMU_FW_PROJECT_U8500_C3\t8\n#define PRCMU_FW_PROJECT_U8500_C4\t9\n#define PRCMU_FW_PROJECT_U9500_MBL\t10\n#define PRCMU_FW_PROJECT_U8500_SSG1\t11  \n#define PRCMU_FW_PROJECT_U8500_MBL2\t12  \n#define PRCMU_FW_PROJECT_U8520\t\t13\n#define PRCMU_FW_PROJECT_U8420\t\t14\n#define PRCMU_FW_PROJECT_U8500_SSG2\t15  \n#define PRCMU_FW_PROJECT_U8420_SYSCLK\t17\n#define PRCMU_FW_PROJECT_A9420\t\t20\n \n#define PRCMU_FW_PROJECT_U9540\t\t32\n \n#define PRCMU_FW_PROJECT_L8540\t\t64\n \n#define PRCMU_FW_PROJECT_L8580\t\t96\n\n#define PRCMU_FW_PROJECT_NAME_LEN\t20\nstruct prcmu_fw_version {\n\tu32 project;  \n\tu8 api_version;\n\tu8 func_version;\n\tu8 errata;\n\tchar project_name[PRCMU_FW_PROJECT_NAME_LEN];\n};\n\n#include <linux/mfd/db8500-prcmu.h>\n\n#if defined(CONFIG_UX500_SOC_DB8500)\n\nstatic inline void prcmu_early_init(void)\n{\n\treturn db8500_prcmu_early_init();\n}\n\nstatic inline int prcmu_set_power_state(u8 state, bool keep_ulp_clk,\n\t\tbool keep_ap_pll)\n{\n\treturn db8500_prcmu_set_power_state(state, keep_ulp_clk,\n\t\tkeep_ap_pll);\n}\n\nstatic inline u8 prcmu_get_power_state_result(void)\n{\n\treturn db8500_prcmu_get_power_state_result();\n}\n\nstatic inline int prcmu_set_epod(u16 epod_id, u8 epod_state)\n{\n\treturn db8500_prcmu_set_epod(epod_id, epod_state);\n}\n\nstatic inline void prcmu_enable_wakeups(u32 wakeups)\n{\n\tdb8500_prcmu_enable_wakeups(wakeups);\n}\n\nstatic inline void prcmu_disable_wakeups(void)\n{\n\tprcmu_enable_wakeups(0);\n}\n\nstatic inline void prcmu_config_abb_event_readout(u32 abb_events)\n{\n\tdb8500_prcmu_config_abb_event_readout(abb_events);\n}\n\nstatic inline void prcmu_get_abb_event_buffer(void __iomem **buf)\n{\n\tdb8500_prcmu_get_abb_event_buffer(buf);\n}\n\nint prcmu_abb_read(u8 slave, u8 reg, u8 *value, u8 size);\nint prcmu_abb_write(u8 slave, u8 reg, u8 *value, u8 size);\nint prcmu_abb_write_masked(u8 slave, u8 reg, u8 *value, u8 *mask, u8 size);\n\nint prcmu_config_clkout(u8 clkout, u8 source, u8 div);\n\nstatic inline int prcmu_request_clock(u8 clock, bool enable)\n{\n\treturn db8500_prcmu_request_clock(clock, enable);\n}\n\nunsigned long prcmu_clock_rate(u8 clock);\nlong prcmu_round_clock_rate(u8 clock, unsigned long rate);\nint prcmu_set_clock_rate(u8 clock, unsigned long rate);\n\nstatic inline int prcmu_get_ddr_opp(void)\n{\n\treturn db8500_prcmu_get_ddr_opp();\n}\n\nstatic inline int prcmu_set_arm_opp(u8 opp)\n{\n\treturn db8500_prcmu_set_arm_opp(opp);\n}\n\nstatic inline int prcmu_get_arm_opp(void)\n{\n\treturn db8500_prcmu_get_arm_opp();\n}\n\nstatic inline int prcmu_set_ape_opp(u8 opp)\n{\n\treturn db8500_prcmu_set_ape_opp(opp);\n}\n\nstatic inline int prcmu_get_ape_opp(void)\n{\n\treturn db8500_prcmu_get_ape_opp();\n}\n\nstatic inline int prcmu_request_ape_opp_100_voltage(bool enable)\n{\n\treturn db8500_prcmu_request_ape_opp_100_voltage(enable);\n}\n\nstatic inline void prcmu_system_reset(u16 reset_code)\n{\n\treturn db8500_prcmu_system_reset(reset_code);\n}\n\nstatic inline u16 prcmu_get_reset_code(void)\n{\n\treturn db8500_prcmu_get_reset_code();\n}\n\nint prcmu_ac_wake_req(void);\nvoid prcmu_ac_sleep_req(void);\nstatic inline void prcmu_modem_reset(void)\n{\n\treturn db8500_prcmu_modem_reset();\n}\n\nstatic inline bool prcmu_is_ac_wake_requested(void)\n{\n\treturn db8500_prcmu_is_ac_wake_requested();\n}\n\nstatic inline int prcmu_config_esram0_deep_sleep(u8 state)\n{\n\treturn db8500_prcmu_config_esram0_deep_sleep(state);\n}\n\nstatic inline int prcmu_config_hotdog(u8 threshold)\n{\n\treturn db8500_prcmu_config_hotdog(threshold);\n}\n\nstatic inline int prcmu_config_hotmon(u8 low, u8 high)\n{\n\treturn db8500_prcmu_config_hotmon(low, high);\n}\n\nstatic inline int prcmu_start_temp_sense(u16 cycles32k)\n{\n\treturn  db8500_prcmu_start_temp_sense(cycles32k);\n}\n\nstatic inline int prcmu_stop_temp_sense(void)\n{\n\treturn  db8500_prcmu_stop_temp_sense();\n}\n\nstatic inline u32 prcmu_read(unsigned int reg)\n{\n\treturn db8500_prcmu_read(reg);\n}\n\nstatic inline void prcmu_write(unsigned int reg, u32 value)\n{\n\tdb8500_prcmu_write(reg, value);\n}\n\nstatic inline void prcmu_write_masked(unsigned int reg, u32 mask, u32 value)\n{\n\tdb8500_prcmu_write_masked(reg, mask, value);\n}\n\nstatic inline int prcmu_enable_a9wdog(u8 id)\n{\n\treturn db8500_prcmu_enable_a9wdog(id);\n}\n\nstatic inline int prcmu_disable_a9wdog(u8 id)\n{\n\treturn db8500_prcmu_disable_a9wdog(id);\n}\n\nstatic inline int prcmu_kick_a9wdog(u8 id)\n{\n\treturn db8500_prcmu_kick_a9wdog(id);\n}\n\nstatic inline int prcmu_load_a9wdog(u8 id, u32 timeout)\n{\n\treturn db8500_prcmu_load_a9wdog(id, timeout);\n}\n\nstatic inline int prcmu_config_a9wdog(u8 num, bool sleep_auto_off)\n{\n\treturn db8500_prcmu_config_a9wdog(num, sleep_auto_off);\n}\n#else\n\nstatic inline void prcmu_early_init(void) {}\n\nstatic inline int prcmu_set_power_state(u8 state, bool keep_ulp_clk,\n\tbool keep_ap_pll)\n{\n\treturn 0;\n}\n\nstatic inline int prcmu_set_epod(u16 epod_id, u8 epod_state)\n{\n\treturn 0;\n}\n\nstatic inline void prcmu_enable_wakeups(u32 wakeups) {}\n\nstatic inline void prcmu_disable_wakeups(void) {}\n\nstatic inline int prcmu_abb_read(u8 slave, u8 reg, u8 *value, u8 size)\n{\n\treturn -ENOSYS;\n}\n\nstatic inline int prcmu_abb_write(u8 slave, u8 reg, u8 *value, u8 size)\n{\n\treturn -ENOSYS;\n}\n\nstatic inline int prcmu_abb_write_masked(u8 slave, u8 reg, u8 *value, u8 *mask,\n\tu8 size)\n{\n\treturn -ENOSYS;\n}\n\nstatic inline int prcmu_config_clkout(u8 clkout, u8 source, u8 div)\n{\n\treturn 0;\n}\n\nstatic inline int prcmu_request_clock(u8 clock, bool enable)\n{\n\treturn 0;\n}\n\nstatic inline long prcmu_round_clock_rate(u8 clock, unsigned long rate)\n{\n\treturn 0;\n}\n\nstatic inline int prcmu_set_clock_rate(u8 clock, unsigned long rate)\n{\n\treturn 0;\n}\n\nstatic inline unsigned long prcmu_clock_rate(u8 clock)\n{\n\treturn 0;\n}\n\nstatic inline int prcmu_set_ape_opp(u8 opp)\n{\n\treturn 0;\n}\n\nstatic inline int prcmu_get_ape_opp(void)\n{\n\treturn APE_100_OPP;\n}\n\nstatic inline int prcmu_request_ape_opp_100_voltage(bool enable)\n{\n\treturn 0;\n}\n\nstatic inline int prcmu_set_arm_opp(u8 opp)\n{\n\treturn 0;\n}\n\nstatic inline int prcmu_get_arm_opp(void)\n{\n\treturn ARM_100_OPP;\n}\n\nstatic inline int prcmu_get_ddr_opp(void)\n{\n\treturn DDR_100_OPP;\n}\n\nstatic inline void prcmu_system_reset(u16 reset_code) {}\n\nstatic inline u16 prcmu_get_reset_code(void)\n{\n\treturn 0;\n}\n\nstatic inline int prcmu_ac_wake_req(void)\n{\n\treturn 0;\n}\n\nstatic inline void prcmu_ac_sleep_req(void) {}\n\nstatic inline void prcmu_modem_reset(void) {}\n\nstatic inline bool prcmu_is_ac_wake_requested(void)\n{\n\treturn false;\n}\n\nstatic inline int prcmu_config_esram0_deep_sleep(u8 state)\n{\n\treturn 0;\n}\n\nstatic inline void prcmu_config_abb_event_readout(u32 abb_events) {}\n\nstatic inline void prcmu_get_abb_event_buffer(void __iomem **buf)\n{\n\t*buf = NULL;\n}\n\nstatic inline int prcmu_config_hotdog(u8 threshold)\n{\n\treturn 0;\n}\n\nstatic inline int prcmu_config_hotmon(u8 low, u8 high)\n{\n\treturn 0;\n}\n\nstatic inline int prcmu_start_temp_sense(u16 cycles32k)\n{\n\treturn 0;\n}\n\nstatic inline int prcmu_stop_temp_sense(void)\n{\n\treturn 0;\n}\n\nstatic inline u32 prcmu_read(unsigned int reg)\n{\n\treturn 0;\n}\n\nstatic inline void prcmu_write(unsigned int reg, u32 value) {}\n\nstatic inline void prcmu_write_masked(unsigned int reg, u32 mask, u32 value) {}\n\n#endif\n\nstatic inline void prcmu_set(unsigned int reg, u32 bits)\n{\n\tprcmu_write_masked(reg, bits, bits);\n}\n\nstatic inline void prcmu_clear(unsigned int reg, u32 bits)\n{\n\tprcmu_write_masked(reg, bits, 0);\n}\n\n \n#define PRCMU_QOS_APE_OPP 1\n#define PRCMU_QOS_DDR_OPP 2\n#define PRCMU_QOS_ARM_OPP 3\n#define PRCMU_QOS_DEFAULT_VALUE -1\n\nstatic inline int prcmu_qos_add_requirement(int prcmu_qos_class,\n\t\t\t\t\t    char *name, s32 value)\n{\n\treturn 0;\n}\n\nstatic inline int prcmu_qos_update_requirement(int prcmu_qos_class,\n\t\t\t\t\t       char *name, s32 new_value)\n{\n\treturn 0;\n}\n\nstatic inline void prcmu_qos_remove_requirement(int prcmu_qos_class, char *name)\n{\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}