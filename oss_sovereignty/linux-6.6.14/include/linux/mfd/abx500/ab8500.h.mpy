{
  "module_name": "ab8500.h",
  "hash_id": "cf4096b906f5bed1d459bbdb0084fc33edd1c620d983982aed18cf04203a4886",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/mfd/abx500/ab8500.h",
  "human_readable_source": " \n \n#ifndef MFD_AB8500_H\n#define MFD_AB8500_H\n\n#include <linux/atomic.h>\n#include <linux/mutex.h>\n#include <linux/irqdomain.h>\n\nstruct device;\n\n \nenum ab8500_version {\n\tAB8500_VERSION_AB8500 = 0x0,\n\tAB8500_VERSION_AB8505 = 0x1,\n\tAB8500_VERSION_AB9540 = 0x2,\n\tAB8500_VERSION_AB8540 = 0x4,\n\tAB8500_VERSION_UNDEFINED,\n};\n\n \n#define AB8500_CUTEARLY\t0x00\n#define AB8500_CUT1P0\t0x10\n#define AB8500_CUT1P1\t0x11\n#define AB8500_CUT1P2\t0x12  \n#define AB8500_CUT2P0\t0x20\n#define AB8500_CUT3P0\t0x30\n#define AB8500_CUT3P3\t0x33\n\n \n#define AB8500_M_FSM_RANK\t0x0\n#define AB8500_SYS_CTRL1_BLOCK\t0x1\n#define AB8500_SYS_CTRL2_BLOCK\t0x2\n#define AB8500_REGU_CTRL1\t0x3\n#define AB8500_REGU_CTRL2\t0x4\n#define AB8500_USB\t\t0x5\n#define AB8500_TVOUT\t\t0x6\n#define AB8500_DBI\t\t0x7\n#define AB8500_ECI_AV_ACC\t0x8\n#define AB8500_RESERVED\t\t0x9\n#define AB8500_GPADC\t\t0xA\n#define AB8500_CHARGER\t\t0xB\n#define AB8500_GAS_GAUGE\t0xC\n#define AB8500_AUDIO\t\t0xD\n#define AB8500_INTERRUPT\t0xE\n#define AB8500_RTC\t\t0xF\n#define AB8500_MISC\t\t0x10\n#define AB8500_DEVELOPMENT\t0x11\n#define AB8500_DEBUG\t\t0x12\n#define AB8500_PROD_TEST\t0x13\n#define AB8500_STE_TEST\t\t0x14\n#define AB8500_OTP_EMUL\t\t0x15\n\n#define AB8500_DEBUG_FIELD_LAST\t0x16\n\n \n \n \n#define AB8500_INT_MAIN_EXT_CH_NOT_OK\t0  \n#define AB8500_INT_UN_PLUG_TV_DET\t1  \n#define AB8500_INT_PLUG_TV_DET\t\t2  \n#define AB8500_INT_TEMP_WARM\t\t3\n#define AB8500_INT_PON_KEY2DB_F\t\t4\n#define AB8500_INT_PON_KEY2DB_R\t\t5\n#define AB8500_INT_PON_KEY1DB_F\t\t6\n#define AB8500_INT_PON_KEY1DB_R\t\t7\n \n#define AB8500_INT_BATT_OVV\t\t8\n#define AB8500_INT_MAIN_CH_UNPLUG_DET\t10  \n#define AB8500_INT_MAIN_CH_PLUG_DET\t11  \n#define AB8500_INT_VBUS_DET_F\t\t14\n#define AB8500_INT_VBUS_DET_R\t\t15\n \n#define AB8500_INT_VBUS_CH_DROP_END\t16\n#define AB8500_INT_RTC_60S\t\t17\n#define AB8500_INT_RTC_ALARM\t\t18\n#define AB8540_INT_BIF_INT\t\t19\n#define AB8500_INT_BAT_CTRL_INDB\t20\n#define AB8500_INT_CH_WD_EXP\t\t21\n#define AB8500_INT_VBUS_OVV\t\t22\n#define AB8500_INT_MAIN_CH_DROP_END\t23  \n \n#define AB8500_INT_CCN_CONV_ACC\t\t24\n#define AB8500_INT_INT_AUD\t\t25\n#define AB8500_INT_CCEOC\t\t26\n#define AB8500_INT_CC_INT_CALIB\t\t27\n#define AB8500_INT_LOW_BAT_F\t\t28\n#define AB8500_INT_LOW_BAT_R\t\t29\n#define AB8500_INT_BUP_CHG_NOT_OK\t30\n#define AB8500_INT_BUP_CHG_OK\t\t31\n \n#define AB8500_INT_GP_HW_ADC_CONV_END\t32  \n#define AB8500_INT_ACC_DETECT_1DB_F\t33\n#define AB8500_INT_ACC_DETECT_1DB_R\t34\n#define AB8500_INT_ACC_DETECT_22DB_F\t35\n#define AB8500_INT_ACC_DETECT_22DB_R\t36\n#define AB8500_INT_ACC_DETECT_21DB_F\t37\n#define AB8500_INT_ACC_DETECT_21DB_R\t38\n#define AB8500_INT_GP_SW_ADC_CONV_END\t39\n \n#define AB8500_INT_GPIO6R\t\t40  \n#define AB8500_INT_GPIO7R\t\t41  \n#define AB8500_INT_GPIO8R\t\t42  \n#define AB8500_INT_GPIO9R\t\t43  \n#define AB8500_INT_GPIO10R\t\t44  \n#define AB8500_INT_GPIO11R\t\t45  \n#define AB8500_INT_GPIO12R\t\t46  \n#define AB8500_INT_GPIO13R\t\t47  \n \n#define AB8500_INT_GPIO24R\t\t48  \n#define AB8500_INT_GPIO25R\t\t49  \n#define AB8500_INT_GPIO36R\t\t50  \n#define AB8500_INT_GPIO37R\t\t51  \n#define AB8500_INT_GPIO38R\t\t52  \n#define AB8500_INT_GPIO39R\t\t53  \n#define AB8500_INT_GPIO40R\t\t54  \n#define AB8500_INT_GPIO41R\t\t55  \n \n#define AB8500_INT_GPIO6F\t\t56  \n#define AB8500_INT_GPIO7F\t\t57  \n#define AB8500_INT_GPIO8F\t\t58  \n#define AB8500_INT_GPIO9F\t\t59  \n#define AB8500_INT_GPIO10F\t\t60\n#define AB8500_INT_GPIO11F\t\t61\n#define AB8500_INT_GPIO12F\t\t62  \n#define AB8500_INT_GPIO13F\t\t63\n \n#define AB8500_INT_GPIO24F\t\t64  \n#define AB8500_INT_GPIO25F\t\t65  \n#define AB8500_INT_GPIO36F\t\t66  \n#define AB8500_INT_GPIO37F\t\t67  \n#define AB8500_INT_GPIO38F\t\t68  \n#define AB8500_INT_GPIO39F\t\t69  \n#define AB8500_INT_GPIO40F\t\t70  \n#define AB8500_INT_GPIO41F\t\t71  \n \n#define AB8500_INT_ADP_SOURCE_ERROR\t72\n#define AB8500_INT_ADP_SINK_ERROR\t73\n#define AB8500_INT_ADP_PROBE_PLUG\t74\n#define AB8500_INT_ADP_PROBE_UNPLUG\t75\n#define AB8500_INT_ADP_SENSE_OFF\t76\n#define AB8500_INT_USB_PHY_POWER_ERR\t78\n#define AB8500_INT_USB_LINK_STATUS\t79\n \n#define AB8500_INT_BTEMP_LOW\t\t80\n#define AB8500_INT_BTEMP_LOW_MEDIUM\t81\n#define AB8500_INT_BTEMP_MEDIUM_HIGH\t82\n#define AB8500_INT_BTEMP_HIGH\t\t83\n \n#define AB8500_INT_SRP_DETECT\t\t88\n#define AB8500_INT_USB_CHARGER_NOT_OKR\t89\n#define AB8500_INT_ID_WAKEUP_R\t\t90\n#define AB8500_INT_ID_DET_PLUGR         91  \n#define AB8500_INT_ID_DET_R1R\t\t92\n#define AB8500_INT_ID_DET_R2R\t\t93\n#define AB8500_INT_ID_DET_R3R\t\t94\n#define AB8500_INT_ID_DET_R4R\t\t95\n \n#define AB8500_INT_ID_WAKEUP_F\t\t96  \n#define AB8500_INT_ID_DET_PLUGF\t\t97  \n#define AB8500_INT_ID_DET_R1F\t\t98  \n#define AB8500_INT_ID_DET_R2F\t\t99  \n#define AB8500_INT_ID_DET_R3F\t\t100  \n#define AB8500_INT_ID_DET_R4F\t\t101  \n#define AB8500_INT_CHAUTORESTARTAFTSEC\t102  \n#define AB8500_INT_CHSTOPBYSEC\t\t103\n \n#define AB8500_INT_USB_CH_TH_PROT_F\t104\n#define AB8500_INT_USB_CH_TH_PROT_R\t105\n#define AB8500_INT_MAIN_CH_TH_PROT_F\t106  \n#define AB8500_INT_MAIN_CH_TH_PROT_R\t107  \n#define AB8500_INT_CHCURLIMNOHSCHIRP\t109\n#define AB8500_INT_CHCURLIMHSCHIRP\t110\n#define AB8500_INT_XTAL32K_KO\t\t111\n\n \n \n#define AB9540_INT_GPIO50R\t\t113  \n#define AB9540_INT_GPIO51R\t\t114  \n#define AB9540_INT_GPIO52R\t\t115  \n#define AB9540_INT_GPIO53R\t\t116  \n#define AB9540_INT_GPIO54R\t\t117  \n#define AB9540_INT_IEXT_CH_RF_BFN_R\t118\n \n#define AB9540_INT_GPIO50F\t\t121  \n#define AB9540_INT_GPIO51F\t\t122  \n#define AB9540_INT_GPIO52F\t\t123  \n#define AB9540_INT_GPIO53F\t\t124  \n#define AB9540_INT_GPIO54F\t\t125  \n#define AB9540_INT_IEXT_CH_RF_BFN_F\t126\n \n#define AB8505_INT_KEYSTUCK\t\t128\n#define AB8505_INT_IKR\t\t\t129\n#define AB8505_INT_IKP\t\t\t130\n#define AB8505_INT_KP\t\t\t131\n#define AB8505_INT_KEYDEGLITCH\t\t132\n#define AB8505_INT_MODPWRSTATUSF\t134\n#define AB8505_INT_MODPWRSTATUSR\t135\n \n#define AB8500_INT_HOOK_DET_NEG_F\t138\n#define AB8500_INT_HOOK_DET_NEG_R\t139\n#define AB8500_INT_HOOK_DET_POS_F\t140\n#define AB8500_INT_HOOK_DET_POS_R\t141\n#define AB8500_INT_PLUG_DET_COMP_F\t142\n#define AB8500_INT_PLUG_DET_COMP_R\t143\n \n#define AB8505_INT_COLL\t\t\t144\n#define AB8505_INT_RESERR\t\t145\n#define AB8505_INT_FRAERR\t\t146\n#define AB8505_INT_COMERR\t\t147\n#define AB8505_INT_SPDSET\t\t148\n#define AB8505_INT_DSENT\t\t149\n#define AB8505_INT_DREC\t\t\t150\n#define AB8505_INT_ACC_INT\t\t151\n \n#define AB8505_INT_NOPINT\t\t152\n \n#define AB8540_INT_IDPLUGDETCOMPF\t160\n#define AB8540_INT_IDPLUGDETCOMPR\t161\n#define AB8540_INT_FMDETCOMPLOF\t\t162\n#define AB8540_INT_FMDETCOMPLOR\t\t163\n#define AB8540_INT_FMDETCOMPHIF\t\t164\n#define AB8540_INT_FMDETCOMPHIR\t\t165\n#define AB8540_INT_ID5VDETCOMPF\t\t166\n#define AB8540_INT_ID5VDETCOMPR\t\t167\n \n#define AB8540_INT_GPIO43F\t\t168\n#define AB8540_INT_GPIO43R\t\t169\n#define AB8540_INT_GPIO44F\t\t170\n#define AB8540_INT_GPIO44R\t\t171\n#define AB8540_INT_KEYPOSDETCOMPF\t172\n#define AB8540_INT_KEYPOSDETCOMPR\t173\n#define AB8540_INT_KEYNEGDETCOMPF\t174\n#define AB8540_INT_KEYNEGDETCOMPR\t175\n \n#define AB8540_INT_GPIO1VBATF\t\t176\n#define AB8540_INT_GPIO1VBATR\t\t177\n#define AB8540_INT_GPIO2VBATF\t\t178\n#define AB8540_INT_GPIO2VBATR\t\t179\n#define AB8540_INT_GPIO3VBATF\t\t180\n#define AB8540_INT_GPIO3VBATR\t\t181\n#define AB8540_INT_GPIO4VBATF\t\t182\n#define AB8540_INT_GPIO4VBATR\t\t183\n \n#define AB8540_INT_SYSCLKREQ2F\t\t184\n#define AB8540_INT_SYSCLKREQ2R\t\t185\n#define AB8540_INT_SYSCLKREQ3F\t\t186\n#define AB8540_INT_SYSCLKREQ3R\t\t187\n#define AB8540_INT_SYSCLKREQ4F\t\t188\n#define AB8540_INT_SYSCLKREQ4R\t\t189\n#define AB8540_INT_SYSCLKREQ5F\t\t190\n#define AB8540_INT_SYSCLKREQ5R\t\t191\n \n#define AB8540_INT_PWMOUT1F\t\t192\n#define AB8540_INT_PWMOUT1R\t\t193\n#define AB8540_INT_PWMCTRL0F\t\t194\n#define AB8540_INT_PWMCTRL0R\t\t195\n#define AB8540_INT_PWMCTRL1F\t\t196\n#define AB8540_INT_PWMCTRL1R\t\t197\n#define AB8540_INT_SYSCLKREQ6F\t\t198\n#define AB8540_INT_SYSCLKREQ6R\t\t199\n \n#define AB8540_INT_PWMEXTVIBRA1F\t200\n#define AB8540_INT_PWMEXTVIBRA1R\t201\n#define AB8540_INT_PWMEXTVIBRA2F\t202\n#define AB8540_INT_PWMEXTVIBRA2R\t203\n#define AB8540_INT_PWMOUT2F\t\t204\n#define AB8540_INT_PWMOUT2R\t\t205\n#define AB8540_INT_PWMOUT3F\t\t206\n#define AB8540_INT_PWMOUT3R\t\t207\n \n#define AB8540_INT_ADDATA2F\t\t208\n#define AB8540_INT_ADDATA2R\t\t209\n#define AB8540_INT_DADATA2F\t\t210\n#define AB8540_INT_DADATA2R\t\t211\n#define AB8540_INT_FSYNC2F\t\t212\n#define AB8540_INT_FSYNC2R\t\t213\n#define AB8540_INT_BITCLK2F\t\t214\n#define AB8540_INT_BITCLK2R\t\t215\n \n#define AB8540_INT_RTC_1S\t\t216\n\n \n#define AB8500_NR_IRQS\t\t\t112\n#define AB8505_NR_IRQS\t\t\t153\n#define AB9540_NR_IRQS\t\t\t153\n#define AB8540_NR_IRQS\t\t\t216\n \n#define AB8500_MAX_NR_IRQS\t\tAB8540_NR_IRQS\n\n#define AB8500_NUM_IRQ_REGS\t\t14\n#define AB9540_NUM_IRQ_REGS\t\t20\n#define AB8540_NUM_IRQ_REGS\t\t27\n\n \n#define AB8500_POR_ON_VBAT\t\t0x01\n#define AB8500_POW_KEY_1_ON\t\t0x02\n#define AB8500_POW_KEY_2_ON\t\t0x04\n#define AB8500_RTC_ALARM\t\t0x08\n#define AB8500_MAIN_CH_DET\t\t0x10\n#define AB8500_VBUS_DET\t\t\t0x20\n#define AB8500_USB_ID_DET\t\t0x40\n\n \nstruct ab8500 {\n\tstruct device\t*dev;\n\tstruct mutex\tlock;\n\tstruct mutex\tirq_lock;\n\tatomic_t\ttransfer_ongoing;\n\tint\t\tirq;\n\tstruct irq_domain  *domain;\n\tenum ab8500_version version;\n\tu8\t\tchip_id;\n\n\tint (*write)(struct ab8500 *ab8500, u16 addr, u8 data);\n\tint (*write_masked)(struct ab8500 *ab8500, u16 addr, u8 mask, u8 data);\n\tint (*read)(struct ab8500 *ab8500, u16 addr);\n\n\tunsigned long\ttx_buf[4];\n\tunsigned long\trx_buf[4];\n\n\tu8 *mask;\n\tu8 *oldmask;\n\tint mask_size;\n\tconst int *irq_reg_offset;\n\tint it_latchhier_num;\n};\n\nstruct ab8500_codec_platform_data;\nstruct ab8500_sysctrl_platform_data;\n\n \nstruct ab8500_platform_data {\n\tvoid (*init) (struct ab8500 *);\n\tstruct ab8500_codec_platform_data *codec;\n\tstruct ab8500_sysctrl_platform_data *sysctrl;\n};\n\nextern int ab8500_suspend(struct ab8500 *ab8500);\n\nstatic inline int is_ab8500(struct ab8500 *ab)\n{\n\treturn ab->version == AB8500_VERSION_AB8500;\n}\n\nstatic inline int is_ab8505(struct ab8500 *ab)\n{\n\treturn ab->version == AB8500_VERSION_AB8505;\n}\n\nstatic inline int is_ab9540(struct ab8500 *ab)\n{\n\treturn ab->version == AB8500_VERSION_AB9540;\n}\n\nstatic inline int is_ab8540(struct ab8500 *ab)\n{\n\treturn ab->version == AB8500_VERSION_AB8540;\n}\n\n \nstatic inline int is_ab8500_1p0_or_earlier(struct ab8500 *ab)\n{\n\treturn (is_ab8500(ab) && (ab->chip_id <= AB8500_CUT1P0));\n}\n\n \nstatic inline int is_ab8500_1p1_or_earlier(struct ab8500 *ab)\n{\n\treturn (is_ab8500(ab) && (ab->chip_id <= AB8500_CUT1P1));\n}\n\n \nstatic inline int is_ab8500_2p0_or_earlier(struct ab8500 *ab)\n{\n\treturn (is_ab8500(ab) && (ab->chip_id <= AB8500_CUT2P0));\n}\n\nstatic inline int is_ab8500_3p3_or_earlier(struct ab8500 *ab)\n{\n\treturn (is_ab8500(ab) && (ab->chip_id <= AB8500_CUT3P3));\n}\n\n \nstatic inline int is_ab8500_2p0(struct ab8500 *ab)\n{\n\treturn (is_ab8500(ab) && (ab->chip_id == AB8500_CUT2P0));\n}\n\nstatic inline int is_ab8505_1p0_or_earlier(struct ab8500 *ab)\n{\n\treturn (is_ab8505(ab) && (ab->chip_id <= AB8500_CUT1P0));\n}\n\nstatic inline int is_ab8505_2p0(struct ab8500 *ab)\n{\n\treturn (is_ab8505(ab) && (ab->chip_id == AB8500_CUT2P0));\n}\n\nstatic inline int is_ab9540_1p0_or_earlier(struct ab8500 *ab)\n{\n\treturn (is_ab9540(ab) && (ab->chip_id <= AB8500_CUT1P0));\n}\n\nstatic inline int is_ab9540_2p0(struct ab8500 *ab)\n{\n\treturn (is_ab9540(ab) && (ab->chip_id == AB8500_CUT2P0));\n}\n\n \nstatic inline int is_ab9540_3p0(struct ab8500 *ab)\n{\n\treturn (is_ab9540(ab) && (ab->chip_id == AB8500_CUT3P0));\n}\n\nstatic inline int is_ab8540_1p0_or_earlier(struct ab8500 *ab)\n{\n\treturn is_ab8540(ab) && (ab->chip_id <= AB8500_CUT1P0);\n}\n\nstatic inline int is_ab8540_1p1_or_earlier(struct ab8500 *ab)\n{\n\treturn is_ab8540(ab) && (ab->chip_id <= AB8500_CUT1P1);\n}\n\nstatic inline int is_ab8540_1p2_or_earlier(struct ab8500 *ab)\n{\n\treturn is_ab8540(ab) && (ab->chip_id <= AB8500_CUT1P2);\n}\n\nstatic inline int is_ab8540_2p0_or_earlier(struct ab8500 *ab)\n{\n\treturn is_ab8540(ab) && (ab->chip_id <= AB8500_CUT2P0);\n}\n\nstatic inline int is_ab8540_2p0(struct ab8500 *ab)\n{\n\treturn is_ab8540(ab) && (ab->chip_id == AB8500_CUT2P0);\n}\n\nstatic inline int is_ab8505_2p0_earlier(struct ab8500 *ab)\n{\n\treturn (is_ab8505(ab) && (ab->chip_id < AB8500_CUT2P0));\n}\n\nstatic inline int is_ab9540_2p0_or_earlier(struct ab8500 *ab)\n{\n\treturn (is_ab9540(ab) && (ab->chip_id < AB8500_CUT2P0));\n}\n\nvoid ab8500_override_turn_on_stat(u8 mask, u8 set);\n\n#ifdef CONFIG_AB8500_DEBUG\nextern int prcmu_abb_read(u8 slave, u8 reg, u8 *value, u8 size);\nvoid ab8500_dump_all_banks(struct device *dev);\nvoid ab8500_debug_register_interrupt(int line);\n#else\nstatic inline void ab8500_dump_all_banks(struct device *dev) {}\nstatic inline void ab8500_debug_register_interrupt(int line) {}\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}