{
  "module_name": "stmfx.h",
  "hash_id": "1090a5aa455607e17d81e7a855aede752c345f52a0ef5d44d1dcbcbac45f590b",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/mfd/stmfx.h",
  "human_readable_source": " \n \n\n#ifndef MFD_STMFX_H\n#define MFD_STMFX_H\n\n#include <linux/regmap.h>\n\n \n#define STMFX_REG_CHIP_ID\t\t0x00  \n#define STMFX_REG_FW_VERSION_MSB\t0x01  \n#define STMFX_REG_FW_VERSION_LSB\t0x02  \n#define STMFX_REG_SYS_CTRL\t\t0x40  \n \n#define STMFX_REG_IRQ_OUT_PIN\t\t0x41  \n#define STMFX_REG_IRQ_SRC_EN\t\t0x42  \n#define STMFX_REG_IRQ_PENDING\t\t0x08  \n#define STMFX_REG_IRQ_ACK\t\t0x44  \n \n#define STMFX_REG_IRQ_GPI_PENDING1\t0x0C  \n#define STMFX_REG_IRQ_GPI_PENDING2\t0x0D  \n#define STMFX_REG_IRQ_GPI_PENDING3\t0x0E  \n#define STMFX_REG_GPIO_STATE1\t\t0x10  \n#define STMFX_REG_GPIO_STATE2\t\t0x11  \n#define STMFX_REG_GPIO_STATE3\t\t0x12  \n#define STMFX_REG_IRQ_GPI_SRC1\t\t0x48  \n#define STMFX_REG_IRQ_GPI_SRC2\t\t0x49  \n#define STMFX_REG_IRQ_GPI_SRC3\t\t0x4A  \n#define STMFX_REG_IRQ_GPI_EVT1\t\t0x4C  \n#define STMFX_REG_IRQ_GPI_EVT2\t\t0x4D  \n#define STMFX_REG_IRQ_GPI_EVT3\t\t0x4E  \n#define STMFX_REG_IRQ_GPI_TYPE1\t\t0x50  \n#define STMFX_REG_IRQ_GPI_TYPE2\t\t0x51  \n#define STMFX_REG_IRQ_GPI_TYPE3\t\t0x52  \n#define STMFX_REG_IRQ_GPI_ACK1\t\t0x54  \n#define STMFX_REG_IRQ_GPI_ACK2\t\t0x55  \n#define STMFX_REG_IRQ_GPI_ACK3\t\t0x56  \n#define STMFX_REG_GPIO_DIR1\t\t0x60  \n#define STMFX_REG_GPIO_DIR2\t\t0x61  \n#define STMFX_REG_GPIO_DIR3\t\t0x62  \n#define STMFX_REG_GPIO_TYPE1\t\t0x64  \n#define STMFX_REG_GPIO_TYPE2\t\t0x65  \n#define STMFX_REG_GPIO_TYPE3\t\t0x66  \n#define STMFX_REG_GPIO_PUPD1\t\t0x68  \n#define STMFX_REG_GPIO_PUPD2\t\t0x69  \n#define STMFX_REG_GPIO_PUPD3\t\t0x6A  \n#define STMFX_REG_GPO_SET1\t\t0x6C  \n#define STMFX_REG_GPO_SET2\t\t0x6D  \n#define STMFX_REG_GPO_SET3\t\t0x6E  \n#define STMFX_REG_GPO_CLR1\t\t0x70  \n#define STMFX_REG_GPO_CLR2\t\t0x71  \n#define STMFX_REG_GPO_CLR3\t\t0x72  \n\n#define STMFX_REG_MAX\t\t\t0xB0\n\n \n#define STMFX_BOOT_TIME_MS 10\n\n \n#define STMFX_REG_CHIP_ID_MASK\t\tGENMASK(7, 0)\n\n \n#define STMFX_REG_SYS_CTRL_GPIO_EN\tBIT(0)\n#define STMFX_REG_SYS_CTRL_TS_EN\tBIT(1)\n#define STMFX_REG_SYS_CTRL_IDD_EN\tBIT(2)\n#define STMFX_REG_SYS_CTRL_ALTGPIO_EN\tBIT(3)\n#define STMFX_REG_SYS_CTRL_SWRST\tBIT(7)\n\n \n#define STMFX_REG_IRQ_OUT_PIN_TYPE\tBIT(0)  \n#define STMFX_REG_IRQ_OUT_PIN_POL\tBIT(1)  \n\n \nenum stmfx_irqs {\n\tSTMFX_REG_IRQ_SRC_EN_GPIO = 0,\n\tSTMFX_REG_IRQ_SRC_EN_IDD,\n\tSTMFX_REG_IRQ_SRC_EN_ERROR,\n\tSTMFX_REG_IRQ_SRC_EN_TS_DET,\n\tSTMFX_REG_IRQ_SRC_EN_TS_NE,\n\tSTMFX_REG_IRQ_SRC_EN_TS_TH,\n\tSTMFX_REG_IRQ_SRC_EN_TS_FULL,\n\tSTMFX_REG_IRQ_SRC_EN_TS_OVF,\n\tSTMFX_REG_IRQ_SRC_MAX,\n};\n\nenum stmfx_functions {\n\tSTMFX_FUNC_GPIO\t\t= BIT(0),  \n\tSTMFX_FUNC_ALTGPIO_LOW\t= BIT(1),  \n\tSTMFX_FUNC_ALTGPIO_HIGH = BIT(2),  \n\tSTMFX_FUNC_TS\t\t= BIT(3),\n\tSTMFX_FUNC_IDD\t\t= BIT(4),\n};\n\n \nstruct stmfx {\n\tstruct device *dev;\n\tstruct regmap *map;\n\tstruct regulator *vdd;\n\tint irq;\n\tstruct irq_domain *irq_domain;\n\tstruct mutex lock;  \n\tu8 irq_src;\n\tu8 bkp_sysctrl;\n\tu8 bkp_irqoutpin;\n};\n\nint stmfx_function_enable(struct stmfx *stmfx, u32 func);\nint stmfx_function_disable(struct stmfx *stmfx, u32 func);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}