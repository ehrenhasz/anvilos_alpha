{
  "module_name": "atmel-smc.h",
  "hash_id": "8d866c26ff12fad49a42ca3b989798aab98580134ac813f70b25dc92aaf0d87d",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/mfd/syscon/atmel-smc.h",
  "human_readable_source": " \n \n\n#ifndef _LINUX_MFD_SYSCON_ATMEL_SMC_H_\n#define _LINUX_MFD_SYSCON_ATMEL_SMC_H_\n\n#include <linux/kernel.h>\n#include <linux/of.h>\n#include <linux/regmap.h>\n\n#define ATMEL_SMC_SETUP(cs)\t\t\t(((cs) * 0x10))\n#define ATMEL_HSMC_SETUP(layout, cs)\t\t\\\n\t((layout)->timing_regs_offset + ((cs) * 0x14))\n#define ATMEL_SMC_PULSE(cs)\t\t\t(((cs) * 0x10) + 0x4)\n#define ATMEL_HSMC_PULSE(layout, cs)\t\t\\\n\t((layout)->timing_regs_offset + ((cs) * 0x14) + 0x4)\n#define ATMEL_SMC_CYCLE(cs)\t\t\t(((cs) * 0x10) + 0x8)\n#define ATMEL_HSMC_CYCLE(layout, cs)\t\t\t\\\n\t((layout)->timing_regs_offset + ((cs) * 0x14) + 0x8)\n#define ATMEL_SMC_NWE_SHIFT\t\t\t0\n#define ATMEL_SMC_NCS_WR_SHIFT\t\t\t8\n#define ATMEL_SMC_NRD_SHIFT\t\t\t16\n#define ATMEL_SMC_NCS_RD_SHIFT\t\t\t24\n\n#define ATMEL_SMC_MODE(cs)\t\t\t(((cs) * 0x10) + 0xc)\n#define ATMEL_HSMC_MODE(layout, cs)\t\t\t\\\n\t((layout)->timing_regs_offset + ((cs) * 0x14) + 0x10)\n#define ATMEL_SMC_MODE_READMODE_MASK\t\tBIT(0)\n#define ATMEL_SMC_MODE_READMODE_NCS\t\t(0 << 0)\n#define ATMEL_SMC_MODE_READMODE_NRD\t\t(1 << 0)\n#define ATMEL_SMC_MODE_WRITEMODE_MASK\t\tBIT(1)\n#define ATMEL_SMC_MODE_WRITEMODE_NCS\t\t(0 << 1)\n#define ATMEL_SMC_MODE_WRITEMODE_NWE\t\t(1 << 1)\n#define ATMEL_SMC_MODE_EXNWMODE_MASK\t\tGENMASK(5, 4)\n#define ATMEL_SMC_MODE_EXNWMODE_DISABLE\t\t(0 << 4)\n#define ATMEL_SMC_MODE_EXNWMODE_FROZEN\t\t(2 << 4)\n#define ATMEL_SMC_MODE_EXNWMODE_READY\t\t(3 << 4)\n#define ATMEL_SMC_MODE_BAT_MASK\t\t\tBIT(8)\n#define ATMEL_SMC_MODE_BAT_SELECT\t\t(0 << 8)\n#define ATMEL_SMC_MODE_BAT_WRITE\t\t(1 << 8)\n#define ATMEL_SMC_MODE_DBW_MASK\t\t\tGENMASK(13, 12)\n#define ATMEL_SMC_MODE_DBW_8\t\t\t(0 << 12)\n#define ATMEL_SMC_MODE_DBW_16\t\t\t(1 << 12)\n#define ATMEL_SMC_MODE_DBW_32\t\t\t(2 << 12)\n#define ATMEL_SMC_MODE_TDF_MASK\t\t\tGENMASK(19, 16)\n#define ATMEL_SMC_MODE_TDF(x)\t\t\t(((x) - 1) << 16)\n#define ATMEL_SMC_MODE_TDF_MAX\t\t\t16\n#define ATMEL_SMC_MODE_TDF_MIN\t\t\t1\n#define ATMEL_SMC_MODE_TDFMODE_OPTIMIZED\tBIT(20)\n#define ATMEL_SMC_MODE_PMEN\t\t\tBIT(24)\n#define ATMEL_SMC_MODE_PS_MASK\t\t\tGENMASK(29, 28)\n#define ATMEL_SMC_MODE_PS_4\t\t\t(0 << 28)\n#define ATMEL_SMC_MODE_PS_8\t\t\t(1 << 28)\n#define ATMEL_SMC_MODE_PS_16\t\t\t(2 << 28)\n#define ATMEL_SMC_MODE_PS_32\t\t\t(3 << 28)\n\n#define ATMEL_HSMC_TIMINGS(layout, cs)\t\t\t\\\n\t((layout)->timing_regs_offset + ((cs) * 0x14) + 0xc)\n#define ATMEL_HSMC_TIMINGS_OCMS\t\t\tBIT(12)\n#define ATMEL_HSMC_TIMINGS_RBNSEL(x)\t\t((x) << 28)\n#define ATMEL_HSMC_TIMINGS_NFSEL\t\tBIT(31)\n#define ATMEL_HSMC_TIMINGS_TCLR_SHIFT\t\t0\n#define ATMEL_HSMC_TIMINGS_TADL_SHIFT\t\t4\n#define ATMEL_HSMC_TIMINGS_TAR_SHIFT\t\t8\n#define ATMEL_HSMC_TIMINGS_TRR_SHIFT\t\t16\n#define ATMEL_HSMC_TIMINGS_TWB_SHIFT\t\t24\n\nstruct atmel_hsmc_reg_layout {\n\tunsigned int timing_regs_offset;\n};\n\n \nstruct atmel_smc_cs_conf {\n\tu32 setup;\n\tu32 pulse;\n\tu32 cycle;\n\tu32 timings;\n\tu32 mode;\n};\n\nvoid atmel_smc_cs_conf_init(struct atmel_smc_cs_conf *conf);\nint atmel_smc_cs_conf_set_timing(struct atmel_smc_cs_conf *conf,\n\t\t\t\t unsigned int shift,\n\t\t\t\t unsigned int ncycles);\nint atmel_smc_cs_conf_set_setup(struct atmel_smc_cs_conf *conf,\n\t\t\t\tunsigned int shift, unsigned int ncycles);\nint atmel_smc_cs_conf_set_pulse(struct atmel_smc_cs_conf *conf,\n\t\t\t\tunsigned int shift, unsigned int ncycles);\nint atmel_smc_cs_conf_set_cycle(struct atmel_smc_cs_conf *conf,\n\t\t\t\tunsigned int shift, unsigned int ncycles);\nvoid atmel_smc_cs_conf_apply(struct regmap *regmap, int cs,\n\t\t\t     const struct atmel_smc_cs_conf *conf);\nvoid atmel_hsmc_cs_conf_apply(struct regmap *regmap,\n\t\t\t      const struct atmel_hsmc_reg_layout *reglayout,\n\t\t\t      int cs, const struct atmel_smc_cs_conf *conf);\nvoid atmel_smc_cs_conf_get(struct regmap *regmap, int cs,\n\t\t\t   struct atmel_smc_cs_conf *conf);\nvoid atmel_hsmc_cs_conf_get(struct regmap *regmap,\n\t\t\t    const struct atmel_hsmc_reg_layout *reglayout,\n\t\t\t    int cs, struct atmel_smc_cs_conf *conf);\nconst struct atmel_hsmc_reg_layout *\natmel_hsmc_get_reg_layout(struct device_node *np);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}