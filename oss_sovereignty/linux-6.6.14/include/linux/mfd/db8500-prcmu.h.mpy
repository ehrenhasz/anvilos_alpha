{
  "module_name": "db8500-prcmu.h",
  "hash_id": "3c7da85b0bf659fb7b28a53434e8246425101bd70ba8c4fcc0b53b1cff97933c",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/mfd/db8500-prcmu.h",
  "human_readable_source": " \n \n#ifndef __MFD_DB8500_PRCMU_H\n#define __MFD_DB8500_PRCMU_H\n\n#include <linux/interrupt.h>\n#include <linux/bitops.h>\n\n \n#define DB8500_PRCM_LINE_VALUE 0x170\n#define DB8500_PRCM_LINE_VALUE_HSI_CAWAKE0\tBIT(3)\n\n#define DB8500_PRCM_DSI_SW_RESET 0x324\n#define DB8500_PRCM_DSI_SW_RESET_DSI0_SW_RESETN BIT(0)\n#define DB8500_PRCM_DSI_SW_RESET_DSI1_SW_RESETN BIT(1)\n#define DB8500_PRCM_DSI_SW_RESET_DSI2_SW_RESETN BIT(2)\n\n \n\n \nenum state {\n\tOFF = 0x0,\n\tON  = 0x1,\n};\n\n \nenum ret_state {\n\tOFFST = 0,\n\tONST  = 1,\n\tRETST = 2\n};\n\n \nenum clk_arm {\n\tA9_OFF,\n\tA9_BOOT,\n\tA9_OPPT1,\n\tA9_OPPT2,\n\tA9_EXTCLK\n};\n\n \nenum clk_gen {\n\tGEN_OFF,\n\tGEN_BOOT,\n\tGEN_OPPT1,\n};\n\n \n\n \nenum romcode_write {\n\tRDY_2_DS = 0x09,\n\tRDY_2_XP70_RST = 0x10\n};\n\n \nenum romcode_read {\n\tINIT = 0x00,\n\tFS_2_DS = 0x0A,\n\tEND_DS = 0x0B,\n\tDS_TO_FS = 0x0C,\n\tEND_FS = 0x0D,\n\tSWR = 0x0E,\n\tEND_SWR = 0x0F\n};\n\n \nenum ap_pwrst {\n\tNO_PWRST = 0x00,\n\tAP_BOOT = 0x01,\n\tAP_EXECUTE = 0x02,\n\tAP_DEEP_SLEEP = 0x03,\n\tAP_SLEEP = 0x04,\n\tAP_IDLE = 0x05,\n\tAP_RESET = 0x06\n};\n\n \nenum ap_pwrst_trans {\n\tPRCMU_AP_NO_CHANGE\t\t= 0x00,\n\tAPEXECUTE_TO_APSLEEP\t\t= 0x01,\n\tAPIDLE_TO_APSLEEP\t\t= 0x02,  \n\tPRCMU_AP_SLEEP\t\t\t= 0x01,\n\tAPBOOT_TO_APEXECUTE\t\t= 0x03,\n\tAPEXECUTE_TO_APDEEPSLEEP\t= 0x04,  \n\tPRCMU_AP_DEEP_SLEEP\t\t= 0x04,\n\tAPEXECUTE_TO_APIDLE\t\t= 0x05,  \n\tPRCMU_AP_IDLE\t\t\t= 0x05,\n\tPRCMU_AP_DEEP_IDLE\t\t= 0x07,\n};\n\n \nenum hw_acc_state {\n\tHW_NO_CHANGE = 0x00,\n\tHW_OFF = 0x01,\n\tHW_OFF_RAMRET = 0x02,\n\tHW_ON = 0x04\n};\n\n \nenum ap_pwrsttr_status {\n\tBOOT_TO_EXECUTEOK = 0xFF,\n\tDEEPSLEEPOK = 0xFE,\n\tSLEEPOK = 0xFD,\n\tIDLEOK = 0xFC,\n\tSOFTRESETOK = 0xFB,\n\tSOFTRESETGO = 0xFA,\n\tBOOT_TO_EXECUTE = 0xF9,\n\tEXECUTE_TO_DEEPSLEEP = 0xF8,\n\tDEEPSLEEP_TO_EXECUTE = 0xF7,\n\tDEEPSLEEP_TO_EXECUTEOK = 0xF6,\n\tEXECUTE_TO_SLEEP = 0xF5,\n\tSLEEP_TO_EXECUTE = 0xF4,\n\tSLEEP_TO_EXECUTEOK = 0xF3,\n\tEXECUTE_TO_IDLE = 0xF2,\n\tIDLE_TO_EXECUTE = 0xF1,\n\tIDLE_TO_EXECUTEOK = 0xF0,\n\tRDYTODS_RETURNTOEXE    = 0xEF,\n\tNORDYTODS_RETURNTOEXE  = 0xEE,\n\tEXETOSLEEP_RETURNTOEXE = 0xED,\n\tEXETOIDLE_RETURNTOEXE  = 0xEC,\n\tINIT_STATUS = 0xEB,\n\n\t \n\tINITERROR                     = 0x00,\n\tPLLARMLOCKP_ER                = 0x01,\n\tPLLDDRLOCKP_ER                = 0x02,\n\tPLLSOCLOCKP_ER                = 0x03,\n\tPLLSOCK1LOCKP_ER              = 0x04,\n\tARMWFI_ER                     = 0x05,\n\tSYSCLKOK_ER                   = 0x06,\n\tI2C_NACK_DATA_ER              = 0x07,\n\tBOOT_ER                       = 0x08,\n\tI2C_STATUS_ALWAYS_1           = 0x0A,\n\tI2C_NACK_REG_ADDR_ER          = 0x0B,\n\tI2C_NACK_DATA0123_ER          = 0x1B,\n\tI2C_NACK_ADDR_ER              = 0x1F,\n\tCURAPPWRSTISNOT_BOOT          = 0x20,\n\tCURAPPWRSTISNOT_EXECUTE       = 0x21,\n\tCURAPPWRSTISNOT_SLEEPMODE     = 0x22,\n\tCURAPPWRSTISNOT_CORRECTFORIT10 = 0x23,\n\tFIFO4500WUISNOT_WUPEVENT      = 0x24,\n\tPLL32KLOCKP_ER                = 0x29,\n\tDDRDEEPSLEEPOK_ER             = 0x2A,\n\tROMCODEREADY_ER               = 0x50,\n\tWUPBEFOREDS                   = 0x51,\n\tDDRCONFIG_ER                  = 0x52,\n\tWUPBEFORESLEEP                = 0x53,\n\tWUPBEFOREIDLE                 = 0x54\n};   \n\n \nenum dvfs_stat {\n\tDVFS_GO = 0xFF,\n\tDVFS_ARM100OPPOK = 0xFE,\n\tDVFS_ARM50OPPOK = 0xFD,\n\tDVFS_ARMEXTCLKOK = 0xFC,\n\tDVFS_NOCHGTCLKOK = 0xFB,\n\tDVFS_INITSTATUS = 0x00\n};\n\n \nenum sva_mmdsp_stat {\n\tSVA_MMDSP_GO = 0xFF,\n\tSVA_MMDSP_INIT = 0x00\n};\n\n \nenum sia_mmdsp_stat {\n\tSIA_MMDSP_GO = 0xFF,\n\tSIA_MMDSP_INIT = 0x00\n};\n\n \nenum mbox_to_arm_err {\n\tINIT_ERR = 0x00,\n\tPLLARMLOCKP_ERR = 0x01,\n\tPLLDDRLOCKP_ERR = 0x02,\n\tPLLSOC0LOCKP_ERR = 0x03,\n\tPLLSOC1LOCKP_ERR = 0x04,\n\tARMWFI_ERR = 0x05,\n\tSYSCLKOK_ERR = 0x06,\n\tBOOT_ERR = 0x07,\n\tROMCODESAVECONTEXT = 0x08,\n\tVARMHIGHSPEEDVALTO_ERR = 0x10,\n\tVARMHIGHSPEEDACCESS_ERR = 0x11,\n\tVARMLOWSPEEDVALTO_ERR = 0x12,\n\tVARMLOWSPEEDACCESS_ERR = 0x13,\n\tVARMRETENTIONVALTO_ERR = 0x14,\n\tVARMRETENTIONACCESS_ERR = 0x15,\n\tVAPEHIGHSPEEDVALTO_ERR = 0x16,\n\tVSAFEHPVALTO_ERR = 0x17,\n\tVMODSEL1VALTO_ERR = 0x18,\n\tVMODSEL2VALTO_ERR = 0x19,\n\tVARMOFFACCESS_ERR = 0x1A,\n\tVAPEOFFACCESS_ERR = 0x1B,\n\tVARMRETACCES_ERR = 0x1C,\n\tCURAPPWRSTISNOTBOOT = 0x20,\n\tCURAPPWRSTISNOTEXECUTE = 0x21,\n\tCURAPPWRSTISNOTSLEEPMODE = 0x22,\n\tCURAPPWRSTISNOTCORRECTDBG = 0x23,\n\tARMREGU1VALTO_ERR = 0x24,\n\tARMREGU2VALTO_ERR = 0x25,\n\tVAPEREGUVALTO_ERR = 0x26,\n\tVSMPS3REGUVALTO_ERR = 0x27,\n\tVMODREGUVALTO_ERR = 0x28\n};\n\nenum hw_acc {\n\tSVAMMDSP = 0,\n\tSVAPIPE = 1,\n\tSIAMMDSP = 2,\n\tSIAPIPE = 3,\n\tSGA = 4,\n\tB2R2MCDE = 5,\n\tESRAM12 = 6,\n\tESRAM34 = 7,\n};\n\nenum cs_pwrmgt {\n\tPWRDNCS0  = 0,\n\tWKUPCS0   = 1,\n\tPWRDNCS1  = 2,\n\tWKUPCS1   = 3\n};\n\n \n\n \nenum sia_sva_pwr_policy {\n\tNO_CHGT\t\t\t= 0x0,\n\tDSPOFF_HWPOFF\t\t= 0x1,\n\tDSPOFFRAMRET_HWPOFF\t= 0x2,\n\tDSPCLKOFF_HWPOFF\t= 0x3,\n\tDSPCLKOFF_HWPCLKOFF\t= 0x4,\n};\n\n \nenum auto_enable {\n\tAUTO_OFF\t= 0x0,\n\tAUTO_ON\t\t= 0x1,\n};\n\n \n\n \nenum prcmu_power_status {\n\tPRCMU_SLEEP_OK\t\t\t= 0xf3,\n\tPRCMU_DEEP_SLEEP_OK\t\t= 0xf6,\n\tPRCMU_IDLE_OK\t\t\t= 0xf0,\n\tPRCMU_DEEPIDLE_OK\t\t= 0xe3,\n\tPRCMU_PRCMU2ARMPENDINGIT_ER\t= 0x91,\n\tPRCMU_ARMPENDINGIT_ER\t\t= 0x93,\n};\n\n \n\n#define PRCMU_AUTO_PM_OFF 0\n#define PRCMU_AUTO_PM_ON 1\n\n#define PRCMU_AUTO_PM_POWER_ON_HSEM BIT(0)\n#define PRCMU_AUTO_PM_POWER_ON_ABB_FIFO_IT BIT(1)\n\nenum prcmu_auto_pm_policy {\n\tPRCMU_AUTO_PM_POLICY_NO_CHANGE,\n\tPRCMU_AUTO_PM_POLICY_DSP_OFF_HWP_OFF,\n\tPRCMU_AUTO_PM_POLICY_DSP_OFF_RAMRET_HWP_OFF,\n\tPRCMU_AUTO_PM_POLICY_DSP_CLK_OFF_HWP_OFF,\n\tPRCMU_AUTO_PM_POLICY_DSP_CLK_OFF_HWP_CLK_OFF,\n};\n\n \nstruct prcmu_auto_pm_config {\n\tu8 sia_auto_pm_enable;\n\tu8 sia_power_on;\n\tu8 sia_policy;\n\tu8 sva_auto_pm_enable;\n\tu8 sva_power_on;\n\tu8 sva_policy;\n};\n\n#ifdef CONFIG_MFD_DB8500_PRCMU\n\nvoid db8500_prcmu_early_init(void);\nint prcmu_set_rc_a2p(enum romcode_write);\nenum romcode_read prcmu_get_rc_p2a(void);\nenum ap_pwrst prcmu_get_xp70_current_state(void);\nbool prcmu_has_arm_maxopp(void);\nstruct prcmu_fw_version *prcmu_get_fw_version(void);\nint prcmu_release_usb_wakeup_state(void);\nvoid prcmu_configure_auto_pm(struct prcmu_auto_pm_config *sleep,\n\tstruct prcmu_auto_pm_config *idle);\nbool prcmu_is_auto_pm_enabled(void);\n\nint prcmu_config_clkout(u8 clkout, u8 source, u8 div);\nint prcmu_set_clock_divider(u8 clock, u8 divider);\nint db8500_prcmu_config_hotdog(u8 threshold);\nint db8500_prcmu_config_hotmon(u8 low, u8 high);\nint db8500_prcmu_start_temp_sense(u16 cycles32k);\nint db8500_prcmu_stop_temp_sense(void);\nint prcmu_abb_read(u8 slave, u8 reg, u8 *value, u8 size);\nint prcmu_abb_write(u8 slave, u8 reg, u8 *value, u8 size);\n\nint prcmu_ac_wake_req(void);\nvoid prcmu_ac_sleep_req(void);\nvoid db8500_prcmu_modem_reset(void);\n\nint db8500_prcmu_config_a9wdog(u8 num, bool sleep_auto_off);\nint db8500_prcmu_enable_a9wdog(u8 id);\nint db8500_prcmu_disable_a9wdog(u8 id);\nint db8500_prcmu_kick_a9wdog(u8 id);\nint db8500_prcmu_load_a9wdog(u8 id, u32 val);\n\nvoid db8500_prcmu_system_reset(u16 reset_code);\nint db8500_prcmu_set_power_state(u8 state, bool keep_ulp_clk, bool keep_ap_pll);\nu8 db8500_prcmu_get_power_state_result(void);\nvoid db8500_prcmu_enable_wakeups(u32 wakeups);\nint db8500_prcmu_set_epod(u16 epod_id, u8 epod_state);\nint db8500_prcmu_request_clock(u8 clock, bool enable);\nvoid db8500_prcmu_config_abb_event_readout(u32 abb_events);\nvoid db8500_prcmu_get_abb_event_buffer(void __iomem **buf);\nint db8500_prcmu_config_esram0_deep_sleep(u8 state);\nu16 db8500_prcmu_get_reset_code(void);\nbool db8500_prcmu_is_ac_wake_requested(void);\nint db8500_prcmu_set_arm_opp(u8 opp);\nint db8500_prcmu_get_arm_opp(void);\nint db8500_prcmu_set_ape_opp(u8 opp);\nint db8500_prcmu_get_ape_opp(void);\nint db8500_prcmu_request_ape_opp_100_voltage(bool enable);\nint db8500_prcmu_get_ddr_opp(void);\n\nu32 db8500_prcmu_read(unsigned int reg);\nvoid db8500_prcmu_write(unsigned int reg, u32 value);\nvoid db8500_prcmu_write_masked(unsigned int reg, u32 mask, u32 value);\n\n#else  \n\nstatic inline void db8500_prcmu_early_init(void) {}\n\nstatic inline int prcmu_set_rc_a2p(enum romcode_write code)\n{\n\treturn 0;\n}\n\nstatic inline enum romcode_read prcmu_get_rc_p2a(void)\n{\n\treturn INIT;\n}\n\nstatic inline enum ap_pwrst prcmu_get_xp70_current_state(void)\n{\n\treturn AP_EXECUTE;\n}\n\nstatic inline bool prcmu_has_arm_maxopp(void)\n{\n\treturn false;\n}\n\nstatic inline struct prcmu_fw_version *prcmu_get_fw_version(void)\n{\n\treturn NULL;\n}\n\nstatic inline int db8500_prcmu_set_ape_opp(u8 opp)\n{\n\treturn 0;\n}\n\nstatic inline int db8500_prcmu_get_ape_opp(void)\n{\n\treturn APE_100_OPP;\n}\n\nstatic inline int db8500_prcmu_request_ape_opp_100_voltage(bool enable)\n{\n\treturn 0;\n}\n\nstatic inline int prcmu_release_usb_wakeup_state(void)\n{\n\treturn 0;\n}\n\nstatic inline int db8500_prcmu_get_ddr_opp(void)\n{\n\treturn DDR_100_OPP;\n}\n\nstatic inline void prcmu_configure_auto_pm(struct prcmu_auto_pm_config *sleep,\n\tstruct prcmu_auto_pm_config *idle)\n{\n}\n\nstatic inline bool prcmu_is_auto_pm_enabled(void)\n{\n\treturn false;\n}\n\nstatic inline int prcmu_config_clkout(u8 clkout, u8 source, u8 div)\n{\n\treturn 0;\n}\n\nstatic inline int prcmu_set_clock_divider(u8 clock, u8 divider)\n{\n\treturn 0;\n}\n\nstatic inline int db8500_prcmu_config_hotdog(u8 threshold)\n{\n\treturn 0;\n}\n\nstatic inline int db8500_prcmu_config_hotmon(u8 low, u8 high)\n{\n\treturn 0;\n}\n\nstatic inline int db8500_prcmu_start_temp_sense(u16 cycles32k)\n{\n\treturn 0;\n}\n\nstatic inline int db8500_prcmu_stop_temp_sense(void)\n{\n\treturn 0;\n}\n\nstatic inline int prcmu_abb_read(u8 slave, u8 reg, u8 *value, u8 size)\n{\n\treturn -ENOSYS;\n}\n\nstatic inline int prcmu_abb_write(u8 slave, u8 reg, u8 *value, u8 size)\n{\n\treturn -ENOSYS;\n}\n\nstatic inline int prcmu_ac_wake_req(void)\n{\n\treturn 0;\n}\n\nstatic inline void prcmu_ac_sleep_req(void) {}\n\nstatic inline void db8500_prcmu_modem_reset(void) {}\n\nstatic inline void db8500_prcmu_system_reset(u16 reset_code) {}\n\nstatic inline int db8500_prcmu_set_power_state(u8 state, bool keep_ulp_clk,\n\tbool keep_ap_pll)\n{\n\treturn 0;\n}\n\nstatic inline u8 db8500_prcmu_get_power_state_result(void)\n{\n\treturn 0;\n}\n\nstatic inline void db8500_prcmu_enable_wakeups(u32 wakeups) {}\n\nstatic inline int db8500_prcmu_set_epod(u16 epod_id, u8 epod_state)\n{\n\treturn 0;\n}\n\nstatic inline int db8500_prcmu_request_clock(u8 clock, bool enable)\n{\n\treturn 0;\n}\n\nstatic inline int db8500_prcmu_config_esram0_deep_sleep(u8 state)\n{\n\treturn 0;\n}\n\nstatic inline void db8500_prcmu_config_abb_event_readout(u32 abb_events) {}\n\nstatic inline void db8500_prcmu_get_abb_event_buffer(void __iomem **buf) {}\n\nstatic inline u16 db8500_prcmu_get_reset_code(void)\n{\n\treturn 0;\n}\n\nstatic inline int db8500_prcmu_config_a9wdog(u8 num, bool sleep_auto_off)\n{\n\treturn 0;\n}\n\nstatic inline int db8500_prcmu_enable_a9wdog(u8 id)\n{\n\treturn 0;\n}\n\nstatic inline int db8500_prcmu_disable_a9wdog(u8 id)\n{\n\treturn 0;\n}\n\nstatic inline int db8500_prcmu_kick_a9wdog(u8 id)\n{\n\treturn 0;\n}\n\nstatic inline int db8500_prcmu_load_a9wdog(u8 id, u32 val)\n{\n\treturn 0;\n}\n\nstatic inline bool db8500_prcmu_is_ac_wake_requested(void)\n{\n\treturn false;\n}\n\nstatic inline int db8500_prcmu_set_arm_opp(u8 opp)\n{\n\treturn 0;\n}\n\nstatic inline int db8500_prcmu_get_arm_opp(void)\n{\n\treturn 0;\n}\n\nstatic inline u32 db8500_prcmu_read(unsigned int reg)\n{\n\treturn 0;\n}\n\nstatic inline void db8500_prcmu_write(unsigned int reg, u32 value) {}\n\nstatic inline void db8500_prcmu_write_masked(unsigned int reg, u32 mask,\n\tu32 value) {}\n\n#endif  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}