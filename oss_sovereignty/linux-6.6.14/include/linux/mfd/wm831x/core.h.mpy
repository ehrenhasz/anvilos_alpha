{
  "module_name": "core.h",
  "hash_id": "0940001cfb7b8ea0f3e1ae972f572fa08e0a8ea0f12d1656402b8bf78635b9b3",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/mfd/wm831x/core.h",
  "human_readable_source": " \n \n\n#ifndef __MFD_WM831X_CORE_H__\n#define __MFD_WM831X_CORE_H__\n\n#include <linux/completion.h>\n#include <linux/interrupt.h>\n#include <linux/irqdomain.h>\n#include <linux/list.h>\n#include <linux/regmap.h>\n#include <linux/mfd/wm831x/auxadc.h>\n#include <linux/mfd/wm831x/pdata.h>\n#include <linux/of.h>\n\n \n#define WM831X_RESET_ID                         0x00\n#define WM831X_REVISION                         0x01\n#define WM831X_PARENT_ID                        0x4000\n#define WM831X_SYSVDD_CONTROL                   0x4001\n#define WM831X_THERMAL_MONITORING               0x4002\n#define WM831X_POWER_STATE                      0x4003\n#define WM831X_WATCHDOG                         0x4004\n#define WM831X_ON_PIN_CONTROL                   0x4005\n#define WM831X_RESET_CONTROL                    0x4006\n#define WM831X_CONTROL_INTERFACE                0x4007\n#define WM831X_SECURITY_KEY                     0x4008\n#define WM831X_SOFTWARE_SCRATCH                 0x4009\n#define WM831X_OTP_CONTROL                      0x400A\n#define WM831X_GPIO_LEVEL                       0x400C\n#define WM831X_SYSTEM_STATUS                    0x400D\n#define WM831X_ON_SOURCE                        0x400E\n#define WM831X_OFF_SOURCE                       0x400F\n#define WM831X_SYSTEM_INTERRUPTS                0x4010\n#define WM831X_INTERRUPT_STATUS_1               0x4011\n#define WM831X_INTERRUPT_STATUS_2               0x4012\n#define WM831X_INTERRUPT_STATUS_3               0x4013\n#define WM831X_INTERRUPT_STATUS_4               0x4014\n#define WM831X_INTERRUPT_STATUS_5               0x4015\n#define WM831X_IRQ_CONFIG                       0x4017\n#define WM831X_SYSTEM_INTERRUPTS_MASK           0x4018\n#define WM831X_INTERRUPT_STATUS_1_MASK          0x4019\n#define WM831X_INTERRUPT_STATUS_2_MASK          0x401A\n#define WM831X_INTERRUPT_STATUS_3_MASK          0x401B\n#define WM831X_INTERRUPT_STATUS_4_MASK          0x401C\n#define WM831X_INTERRUPT_STATUS_5_MASK          0x401D\n#define WM831X_RTC_WRITE_COUNTER                0x4020\n#define WM831X_RTC_TIME_1                       0x4021\n#define WM831X_RTC_TIME_2                       0x4022\n#define WM831X_RTC_ALARM_1                      0x4023\n#define WM831X_RTC_ALARM_2                      0x4024\n#define WM831X_RTC_CONTROL                      0x4025\n#define WM831X_RTC_TRIM                         0x4026\n#define WM831X_TOUCH_CONTROL_1                  0x4028\n#define WM831X_TOUCH_CONTROL_2                  0x4029\n#define WM831X_TOUCH_DATA_X                     0x402A\n#define WM831X_TOUCH_DATA_Y                     0x402B\n#define WM831X_TOUCH_DATA_Z                     0x402C\n#define WM831X_AUXADC_DATA                      0x402D\n#define WM831X_AUXADC_CONTROL                   0x402E\n#define WM831X_AUXADC_SOURCE                    0x402F\n#define WM831X_COMPARATOR_CONTROL               0x4030\n#define WM831X_COMPARATOR_1                     0x4031\n#define WM831X_COMPARATOR_2                     0x4032\n#define WM831X_COMPARATOR_3                     0x4033\n#define WM831X_COMPARATOR_4                     0x4034\n#define WM831X_GPIO1_CONTROL                    0x4038\n#define WM831X_GPIO2_CONTROL                    0x4039\n#define WM831X_GPIO3_CONTROL                    0x403A\n#define WM831X_GPIO4_CONTROL                    0x403B\n#define WM831X_GPIO5_CONTROL                    0x403C\n#define WM831X_GPIO6_CONTROL                    0x403D\n#define WM831X_GPIO7_CONTROL                    0x403E\n#define WM831X_GPIO8_CONTROL                    0x403F\n#define WM831X_GPIO9_CONTROL                    0x4040\n#define WM831X_GPIO10_CONTROL                   0x4041\n#define WM831X_GPIO11_CONTROL                   0x4042\n#define WM831X_GPIO12_CONTROL                   0x4043\n#define WM831X_GPIO13_CONTROL                   0x4044\n#define WM831X_GPIO14_CONTROL                   0x4045\n#define WM831X_GPIO15_CONTROL                   0x4046\n#define WM831X_GPIO16_CONTROL                   0x4047\n#define WM831X_CHARGER_CONTROL_1                0x4048\n#define WM831X_CHARGER_CONTROL_2                0x4049\n#define WM831X_CHARGER_STATUS                   0x404A\n#define WM831X_BACKUP_CHARGER_CONTROL           0x404B\n#define WM831X_STATUS_LED_1                     0x404C\n#define WM831X_STATUS_LED_2                     0x404D\n#define WM831X_CURRENT_SINK_1                   0x404E\n#define WM831X_CURRENT_SINK_2                   0x404F\n#define WM831X_DCDC_ENABLE                      0x4050\n#define WM831X_LDO_ENABLE                       0x4051\n#define WM831X_DCDC_STATUS                      0x4052\n#define WM831X_LDO_STATUS                       0x4053\n#define WM831X_DCDC_UV_STATUS                   0x4054\n#define WM831X_LDO_UV_STATUS                    0x4055\n#define WM831X_DC1_CONTROL_1                    0x4056\n#define WM831X_DC1_CONTROL_2                    0x4057\n#define WM831X_DC1_ON_CONFIG                    0x4058\n#define WM831X_DC1_SLEEP_CONTROL                0x4059\n#define WM831X_DC1_DVS_CONTROL                  0x405A\n#define WM831X_DC2_CONTROL_1                    0x405B\n#define WM831X_DC2_CONTROL_2                    0x405C\n#define WM831X_DC2_ON_CONFIG                    0x405D\n#define WM831X_DC2_SLEEP_CONTROL                0x405E\n#define WM831X_DC2_DVS_CONTROL                  0x405F\n#define WM831X_DC3_CONTROL_1                    0x4060\n#define WM831X_DC3_CONTROL_2                    0x4061\n#define WM831X_DC3_ON_CONFIG                    0x4062\n#define WM831X_DC3_SLEEP_CONTROL                0x4063\n#define WM831X_DC4_CONTROL                      0x4064\n#define WM831X_DC4_SLEEP_CONTROL                0x4065\n#define WM832X_DC4_SLEEP_CONTROL                0x4067\n#define WM831X_EPE1_CONTROL                     0x4066\n#define WM831X_EPE2_CONTROL                     0x4067\n#define WM831X_LDO1_CONTROL                     0x4068\n#define WM831X_LDO1_ON_CONTROL                  0x4069\n#define WM831X_LDO1_SLEEP_CONTROL               0x406A\n#define WM831X_LDO2_CONTROL                     0x406B\n#define WM831X_LDO2_ON_CONTROL                  0x406C\n#define WM831X_LDO2_SLEEP_CONTROL               0x406D\n#define WM831X_LDO3_CONTROL                     0x406E\n#define WM831X_LDO3_ON_CONTROL                  0x406F\n#define WM831X_LDO3_SLEEP_CONTROL               0x4070\n#define WM831X_LDO4_CONTROL                     0x4071\n#define WM831X_LDO4_ON_CONTROL                  0x4072\n#define WM831X_LDO4_SLEEP_CONTROL               0x4073\n#define WM831X_LDO5_CONTROL                     0x4074\n#define WM831X_LDO5_ON_CONTROL                  0x4075\n#define WM831X_LDO5_SLEEP_CONTROL               0x4076\n#define WM831X_LDO6_CONTROL                     0x4077\n#define WM831X_LDO6_ON_CONTROL                  0x4078\n#define WM831X_LDO6_SLEEP_CONTROL               0x4079\n#define WM831X_LDO7_CONTROL                     0x407A\n#define WM831X_LDO7_ON_CONTROL                  0x407B\n#define WM831X_LDO7_SLEEP_CONTROL               0x407C\n#define WM831X_LDO8_CONTROL                     0x407D\n#define WM831X_LDO8_ON_CONTROL                  0x407E\n#define WM831X_LDO8_SLEEP_CONTROL               0x407F\n#define WM831X_LDO9_CONTROL                     0x4080\n#define WM831X_LDO9_ON_CONTROL                  0x4081\n#define WM831X_LDO9_SLEEP_CONTROL               0x4082\n#define WM831X_LDO10_CONTROL                    0x4083\n#define WM831X_LDO10_ON_CONTROL                 0x4084\n#define WM831X_LDO10_SLEEP_CONTROL              0x4085\n#define WM831X_LDO11_ON_CONTROL                 0x4087\n#define WM831X_LDO11_SLEEP_CONTROL              0x4088\n#define WM831X_POWER_GOOD_SOURCE_1              0x408E\n#define WM831X_POWER_GOOD_SOURCE_2              0x408F\n#define WM831X_CLOCK_CONTROL_1                  0x4090\n#define WM831X_CLOCK_CONTROL_2                  0x4091\n#define WM831X_FLL_CONTROL_1                    0x4092\n#define WM831X_FLL_CONTROL_2                    0x4093\n#define WM831X_FLL_CONTROL_3                    0x4094\n#define WM831X_FLL_CONTROL_4                    0x4095\n#define WM831X_FLL_CONTROL_5                    0x4096\n#define WM831X_UNIQUE_ID_1                      0x7800\n#define WM831X_UNIQUE_ID_2                      0x7801\n#define WM831X_UNIQUE_ID_3                      0x7802\n#define WM831X_UNIQUE_ID_4                      0x7803\n#define WM831X_UNIQUE_ID_5                      0x7804\n#define WM831X_UNIQUE_ID_6                      0x7805\n#define WM831X_UNIQUE_ID_7                      0x7806\n#define WM831X_UNIQUE_ID_8                      0x7807\n#define WM831X_FACTORY_OTP_ID                   0x7808\n#define WM831X_FACTORY_OTP_1                    0x7809\n#define WM831X_FACTORY_OTP_2                    0x780A\n#define WM831X_FACTORY_OTP_3                    0x780B\n#define WM831X_FACTORY_OTP_4                    0x780C\n#define WM831X_FACTORY_OTP_5                    0x780D\n#define WM831X_CUSTOMER_OTP_ID                  0x7810\n#define WM831X_DC1_OTP_CONTROL                  0x7811\n#define WM831X_DC2_OTP_CONTROL                  0x7812\n#define WM831X_DC3_OTP_CONTROL                  0x7813\n#define WM831X_LDO1_2_OTP_CONTROL               0x7814\n#define WM831X_LDO3_4_OTP_CONTROL               0x7815\n#define WM831X_LDO5_6_OTP_CONTROL               0x7816\n#define WM831X_LDO7_8_OTP_CONTROL               0x7817\n#define WM831X_LDO9_10_OTP_CONTROL              0x7818\n#define WM831X_LDO11_EPE_CONTROL                0x7819\n#define WM831X_GPIO1_OTP_CONTROL                0x781A\n#define WM831X_GPIO2_OTP_CONTROL                0x781B\n#define WM831X_GPIO3_OTP_CONTROL                0x781C\n#define WM831X_GPIO4_OTP_CONTROL                0x781D\n#define WM831X_GPIO5_OTP_CONTROL                0x781E\n#define WM831X_GPIO6_OTP_CONTROL                0x781F\n#define WM831X_DBE_CHECK_DATA                   0x7827\n\n \n#define WM831X_CHIP_ID_MASK                     0xFFFF   \n#define WM831X_CHIP_ID_SHIFT                         0   \n#define WM831X_CHIP_ID_WIDTH                        16   \n\n \n#define WM831X_PARENT_REV_MASK                  0xFF00   \n#define WM831X_PARENT_REV_SHIFT                      8   \n#define WM831X_PARENT_REV_WIDTH                      8   \n#define WM831X_CHILD_REV_MASK                   0x00FF   \n#define WM831X_CHILD_REV_SHIFT                       0   \n#define WM831X_CHILD_REV_WIDTH                       8   \n\n \n#define WM831X_PARENT_ID_MASK                   0xFFFF   \n#define WM831X_PARENT_ID_SHIFT                       0   \n#define WM831X_PARENT_ID_WIDTH                      16   \n\n \n#define WM831X_ON_PIN_SECACT_MASK               0x0300   \n#define WM831X_ON_PIN_SECACT_SHIFT                   8   \n#define WM831X_ON_PIN_SECACT_WIDTH                   2   \n#define WM831X_ON_PIN_PRIMACT_MASK              0x0030   \n#define WM831X_ON_PIN_PRIMACT_SHIFT                  4   \n#define WM831X_ON_PIN_PRIMACT_WIDTH                  2   \n#define WM831X_ON_PIN_STS                       0x0008   \n#define WM831X_ON_PIN_STS_MASK                  0x0008   \n#define WM831X_ON_PIN_STS_SHIFT                      3   \n#define WM831X_ON_PIN_STS_WIDTH                      1   \n#define WM831X_ON_PIN_TO_MASK                   0x0003   \n#define WM831X_ON_PIN_TO_SHIFT                       0   \n#define WM831X_ON_PIN_TO_WIDTH                       2   \n\n \n#define WM831X_CLKOUT_ENA                       0x8000   \n#define WM831X_CLKOUT_ENA_MASK                  0x8000   \n#define WM831X_CLKOUT_ENA_SHIFT                     15   \n#define WM831X_CLKOUT_ENA_WIDTH                      1   \n#define WM831X_CLKOUT_OD                        0x2000   \n#define WM831X_CLKOUT_OD_MASK                   0x2000   \n#define WM831X_CLKOUT_OD_SHIFT                      13   \n#define WM831X_CLKOUT_OD_WIDTH                       1   \n#define WM831X_CLKOUT_SLOT_MASK                 0x0700   \n#define WM831X_CLKOUT_SLOT_SHIFT                     8   \n#define WM831X_CLKOUT_SLOT_WIDTH                     3   \n#define WM831X_CLKOUT_SLPSLOT_MASK              0x0070   \n#define WM831X_CLKOUT_SLPSLOT_SHIFT                  4   \n#define WM831X_CLKOUT_SLPSLOT_WIDTH                  3   \n#define WM831X_CLKOUT_SRC                       0x0001   \n#define WM831X_CLKOUT_SRC_MASK                  0x0001   \n#define WM831X_CLKOUT_SRC_SHIFT                      0   \n#define WM831X_CLKOUT_SRC_WIDTH                      1   \n\n \n#define WM831X_XTAL_INH                         0x8000   \n#define WM831X_XTAL_INH_MASK                    0x8000   \n#define WM831X_XTAL_INH_SHIFT                       15   \n#define WM831X_XTAL_INH_WIDTH                        1   \n#define WM831X_XTAL_ENA                         0x2000   \n#define WM831X_XTAL_ENA_MASK                    0x2000   \n#define WM831X_XTAL_ENA_SHIFT                       13   \n#define WM831X_XTAL_ENA_WIDTH                        1   \n#define WM831X_XTAL_BKUPENA                     0x1000   \n#define WM831X_XTAL_BKUPENA_MASK                0x1000   \n#define WM831X_XTAL_BKUPENA_SHIFT                   12   \n#define WM831X_XTAL_BKUPENA_WIDTH                    1   \n#define WM831X_FLL_AUTO                         0x0080   \n#define WM831X_FLL_AUTO_MASK                    0x0080   \n#define WM831X_FLL_AUTO_SHIFT                        7   \n#define WM831X_FLL_AUTO_WIDTH                        1   \n#define WM831X_FLL_AUTO_FREQ_MASK               0x0007   \n#define WM831X_FLL_AUTO_FREQ_SHIFT                   0   \n#define WM831X_FLL_AUTO_FREQ_WIDTH                   3   \n\n \n#define WM831X_FLL_FRAC                         0x0004   \n#define WM831X_FLL_FRAC_MASK                    0x0004   \n#define WM831X_FLL_FRAC_SHIFT                        2   \n#define WM831X_FLL_FRAC_WIDTH                        1   \n#define WM831X_FLL_OSC_ENA                      0x0002   \n#define WM831X_FLL_OSC_ENA_MASK                 0x0002   \n#define WM831X_FLL_OSC_ENA_SHIFT                     1   \n#define WM831X_FLL_OSC_ENA_WIDTH                     1   \n#define WM831X_FLL_ENA                          0x0001   \n#define WM831X_FLL_ENA_MASK                     0x0001   \n#define WM831X_FLL_ENA_SHIFT                         0   \n#define WM831X_FLL_ENA_WIDTH                         1   \n\n \n#define WM831X_FLL_OUTDIV_MASK                  0x3F00   \n#define WM831X_FLL_OUTDIV_SHIFT                      8   \n#define WM831X_FLL_OUTDIV_WIDTH                      6   \n#define WM831X_FLL_CTRL_RATE_MASK               0x0070   \n#define WM831X_FLL_CTRL_RATE_SHIFT                   4   \n#define WM831X_FLL_CTRL_RATE_WIDTH                   3   \n#define WM831X_FLL_FRATIO_MASK                  0x0007   \n#define WM831X_FLL_FRATIO_SHIFT                      0   \n#define WM831X_FLL_FRATIO_WIDTH                      3   \n\n \n#define WM831X_FLL_K_MASK                       0xFFFF   \n#define WM831X_FLL_K_SHIFT                           0   \n#define WM831X_FLL_K_WIDTH                          16   \n\n \n#define WM831X_FLL_N_MASK                       0x7FE0   \n#define WM831X_FLL_N_SHIFT                           5   \n#define WM831X_FLL_N_WIDTH                          10   \n#define WM831X_FLL_GAIN_MASK                    0x000F   \n#define WM831X_FLL_GAIN_SHIFT                        0   \n#define WM831X_FLL_GAIN_WIDTH                        4   \n\n \n#define WM831X_FLL_CLK_REF_DIV_MASK             0x0018   \n#define WM831X_FLL_CLK_REF_DIV_SHIFT                 3   \n#define WM831X_FLL_CLK_REF_DIV_WIDTH                 2   \n#define WM831X_FLL_CLK_SRC_MASK                 0x0003   \n#define WM831X_FLL_CLK_SRC_SHIFT                     0   \n#define WM831X_FLL_CLK_SRC_WIDTH                     2   \n\nstruct regulator_dev;\nstruct irq_domain;\n\n#define WM831X_NUM_IRQ_REGS 5\n#define WM831X_NUM_GPIO_REGS 16\n\nenum wm831x_parent {\n\tWM8310 = 0x8310,\n\tWM8311 = 0x8311,\n\tWM8312 = 0x8312,\n\tWM8320 = 0x8320,\n\tWM8321 = 0x8321,\n\tWM8325 = 0x8325,\n\tWM8326 = 0x8326,\n};\n\nstruct wm831x;\n\ntypedef int (*wm831x_auxadc_read_fn)(struct wm831x *wm831x,\n\t\t\t\t     enum wm831x_auxadc input);\n\nstruct wm831x {\n\tstruct mutex io_lock;\n\n\tstruct device *dev;\n\n\tstruct regmap *regmap;\n\n\tstruct wm831x_pdata pdata;\n\tenum wm831x_parent type;\n\n\tint irq;   \n\tstruct mutex irq_lock;\n\tstruct irq_domain *irq_domain;\n\tint irq_masks_cur[WM831X_NUM_IRQ_REGS];    \n\tint irq_masks_cache[WM831X_NUM_IRQ_REGS];  \n\n\tbool soft_shutdown;\n\n\t \n\tunsigned has_gpio_ena:1;          \n\tunsigned has_cs_sts:1;            \n\tunsigned charger_irq_wake:1;      \n\n\tint num_gpio;\n\n\t \n\tint gpio_update[WM831X_NUM_GPIO_REGS];\n\tbool gpio_level_high[WM831X_NUM_GPIO_REGS];\n\tbool gpio_level_low[WM831X_NUM_GPIO_REGS];\n\n\tstruct mutex auxadc_lock;\n\tstruct list_head auxadc_pending;\n\tu16 auxadc_active;\n\twm831x_auxadc_read_fn auxadc_read;\n\n\t \n\tstruct mutex key_lock;\n\tunsigned int locked:1;\n};\n\n \nint wm831x_reg_read(struct wm831x *wm831x, unsigned short reg);\nint wm831x_reg_write(struct wm831x *wm831x, unsigned short reg,\n\t\t unsigned short val);\nvoid wm831x_reg_lock(struct wm831x *wm831x);\nint wm831x_reg_unlock(struct wm831x *wm831x);\nint wm831x_set_bits(struct wm831x *wm831x, unsigned short reg,\n\t\t    unsigned short mask, unsigned short val);\nint wm831x_bulk_read(struct wm831x *wm831x, unsigned short reg,\n\t\t     int count, u16 *buf);\n\nint wm831x_device_init(struct wm831x *wm831x, int irq);\nint wm831x_device_suspend(struct wm831x *wm831x);\nvoid wm831x_device_shutdown(struct wm831x *wm831x);\nint wm831x_irq_init(struct wm831x *wm831x, int irq);\nvoid wm831x_irq_exit(struct wm831x *wm831x);\nvoid wm831x_auxadc_init(struct wm831x *wm831x);\n\nstatic inline int wm831x_irq(struct wm831x *wm831x, int irq)\n{\n\treturn irq_create_mapping(wm831x->irq_domain, irq);\n}\n\nextern struct regmap_config wm831x_regmap_config;\n\nextern const struct of_device_id wm831x_of_match[];\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}