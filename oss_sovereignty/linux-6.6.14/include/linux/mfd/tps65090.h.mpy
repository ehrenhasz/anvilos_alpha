{
  "module_name": "tps65090.h",
  "hash_id": "3f57dc9a7b0bbc3b8c7d8c7e14484dfc3384b95bc7a0b04119523329b738e02a",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/mfd/tps65090.h",
  "human_readable_source": " \n \n\n#ifndef __LINUX_MFD_TPS65090_H\n#define __LINUX_MFD_TPS65090_H\n\n#include <linux/irq.h>\n#include <linux/regmap.h>\n\n \nenum {\n\tTPS65090_IRQ_INTERRUPT,\n\tTPS65090_IRQ_VAC_STATUS_CHANGE,\n\tTPS65090_IRQ_VSYS_STATUS_CHANGE,\n\tTPS65090_IRQ_BAT_STATUS_CHANGE,\n\tTPS65090_IRQ_CHARGING_STATUS_CHANGE,\n\tTPS65090_IRQ_CHARGING_COMPLETE,\n\tTPS65090_IRQ_OVERLOAD_DCDC1,\n\tTPS65090_IRQ_OVERLOAD_DCDC2,\n\tTPS65090_IRQ_OVERLOAD_DCDC3,\n\tTPS65090_IRQ_OVERLOAD_FET1,\n\tTPS65090_IRQ_OVERLOAD_FET2,\n\tTPS65090_IRQ_OVERLOAD_FET3,\n\tTPS65090_IRQ_OVERLOAD_FET4,\n\tTPS65090_IRQ_OVERLOAD_FET5,\n\tTPS65090_IRQ_OVERLOAD_FET6,\n\tTPS65090_IRQ_OVERLOAD_FET7,\n};\n\n \nenum {\n\tTPS65090_REGULATOR_DCDC1,\n\tTPS65090_REGULATOR_DCDC2,\n\tTPS65090_REGULATOR_DCDC3,\n\tTPS65090_REGULATOR_FET1,\n\tTPS65090_REGULATOR_FET2,\n\tTPS65090_REGULATOR_FET3,\n\tTPS65090_REGULATOR_FET4,\n\tTPS65090_REGULATOR_FET5,\n\tTPS65090_REGULATOR_FET6,\n\tTPS65090_REGULATOR_FET7,\n\tTPS65090_REGULATOR_LDO1,\n\tTPS65090_REGULATOR_LDO2,\n\n\t \n\tTPS65090_REGULATOR_MAX,\n};\n\n \n#define TPS65090_REG_INTR_STS\t0x00\n#define TPS65090_REG_INTR_STS2\t0x01\n#define TPS65090_REG_INTR_MASK\t0x02\n#define TPS65090_REG_INTR_MASK2\t0x03\n#define TPS65090_REG_CG_CTRL0\t0x04\n#define TPS65090_REG_CG_CTRL1\t0x05\n#define TPS65090_REG_CG_CTRL2\t0x06\n#define TPS65090_REG_CG_CTRL3\t0x07\n#define TPS65090_REG_CG_CTRL4\t0x08\n#define TPS65090_REG_CG_CTRL5\t0x09\n#define TPS65090_REG_CG_STATUS1\t0x0a\n#define TPS65090_REG_CG_STATUS2\t0x0b\n#define TPS65090_REG_AD_OUT1\t0x17\n#define TPS65090_REG_AD_OUT2\t0x18\n\n#define TPS65090_MAX_REG\tTPS65090_REG_AD_OUT2\n#define TPS65090_NUM_REGS\t(TPS65090_MAX_REG + 1)\n\nstruct gpio_desc;\n\nstruct tps65090 {\n\tstruct device\t\t*dev;\n\tstruct regmap\t\t*rmap;\n\tstruct regmap_irq_chip_data *irq_data;\n};\n\n \nstruct tps65090_regulator_plat_data {\n\tstruct regulator_init_data *reg_init_data;\n\tbool enable_ext_control;\n\tstruct gpio_desc *gpiod;\n\tbool overcurrent_wait_valid;\n\tint overcurrent_wait;\n};\n\nstruct tps65090_platform_data {\n\tint irq_base;\n\n\tchar **supplied_to;\n\tsize_t num_supplicants;\n\tint enable_low_current_chrg;\n\n\tstruct tps65090_regulator_plat_data *reg_pdata[TPS65090_REGULATOR_MAX];\n};\n\n \nstatic inline int tps65090_write(struct device *dev, int reg, uint8_t val)\n{\n\tstruct tps65090 *tps = dev_get_drvdata(dev);\n\n\treturn regmap_write(tps->rmap, reg, val);\n}\n\nstatic inline int tps65090_read(struct device *dev, int reg, uint8_t *val)\n{\n\tstruct tps65090 *tps = dev_get_drvdata(dev);\n\tunsigned int temp_val;\n\tint ret;\n\n\tret = regmap_read(tps->rmap, reg, &temp_val);\n\tif (!ret)\n\t\t*val = temp_val;\n\treturn ret;\n}\n\nstatic inline int tps65090_set_bits(struct device *dev, int reg,\n\t\tuint8_t bit_num)\n{\n\tstruct tps65090 *tps = dev_get_drvdata(dev);\n\n\treturn regmap_update_bits(tps->rmap, reg, BIT(bit_num), ~0u);\n}\n\nstatic inline int tps65090_clr_bits(struct device *dev, int reg,\n\t\tuint8_t bit_num)\n{\n\tstruct tps65090 *tps = dev_get_drvdata(dev);\n\n\treturn regmap_update_bits(tps->rmap, reg, BIT(bit_num), 0u);\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}