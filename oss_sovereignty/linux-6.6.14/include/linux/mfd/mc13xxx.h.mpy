{
  "module_name": "mc13xxx.h",
  "hash_id": "9a00b59e2571a966e8c354e96fe60fe2923ac1de9e60e798774c96bb28a31b43",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/mfd/mc13xxx.h",
  "human_readable_source": " \n \n#ifndef __LINUX_MFD_MC13XXX_H\n#define __LINUX_MFD_MC13XXX_H\n\n#include <linux/interrupt.h>\n\nstruct mc13xxx;\n\nvoid mc13xxx_lock(struct mc13xxx *mc13xxx);\nvoid mc13xxx_unlock(struct mc13xxx *mc13xxx);\n\nint mc13xxx_reg_read(struct mc13xxx *mc13xxx, unsigned int offset, u32 *val);\nint mc13xxx_reg_write(struct mc13xxx *mc13xxx, unsigned int offset, u32 val);\nint mc13xxx_reg_rmw(struct mc13xxx *mc13xxx, unsigned int offset,\n\t\tu32 mask, u32 val);\n\nint mc13xxx_irq_request(struct mc13xxx *mc13xxx, int irq,\n\t\tirq_handler_t handler, const char *name, void *dev);\nint mc13xxx_irq_free(struct mc13xxx *mc13xxx, int irq, void *dev);\n\nint mc13xxx_irq_status(struct mc13xxx *mc13xxx, int irq,\n\t\tint *enabled, int *pending);\n\nint mc13xxx_get_flags(struct mc13xxx *mc13xxx);\n\nint mc13xxx_adc_do_conversion(struct mc13xxx *mc13xxx,\n\t\tunsigned int mode, unsigned int channel,\n\t\tu8 ato, bool atox, unsigned int *sample);\n\n \nstatic inline int mc13xxx_irq_ack(struct mc13xxx *mc13xxx, int irq)\n{\n\treturn 0;\n}\n\nstatic inline int mc13xxx_irq_request_nounmask(struct mc13xxx *mc13xxx, int irq,\n\t\t\t\t\t       irq_handler_t handler,\n\t\t\t\t\t       const char *name, void *dev)\n{\n\treturn mc13xxx_irq_request(mc13xxx, irq, handler, name, dev);\n}\n\nint mc13xxx_irq_mask(struct mc13xxx *mc13xxx, int irq);\nint mc13xxx_irq_unmask(struct mc13xxx *mc13xxx, int irq);\n\n#define MC13783_AUDIO_RX0\t36\n#define MC13783_AUDIO_RX1\t37\n#define MC13783_AUDIO_TX\t38\n#define MC13783_SSI_NETWORK\t39\n#define MC13783_AUDIO_CODEC\t40\n#define MC13783_AUDIO_DAC\t41\n\n#define MC13XXX_IRQ_ADCDONE\t0\n#define MC13XXX_IRQ_ADCBISDONE\t1\n#define MC13XXX_IRQ_TS\t\t2\n#define MC13XXX_IRQ_CHGDET\t6\n#define MC13XXX_IRQ_CHGREV\t8\n#define MC13XXX_IRQ_CHGSHORT\t9\n#define MC13XXX_IRQ_CCCV\t10\n#define MC13XXX_IRQ_CHGCURR\t11\n#define MC13XXX_IRQ_BPON\t12\n#define MC13XXX_IRQ_LOBATL\t13\n#define MC13XXX_IRQ_LOBATH\t14\n#define MC13XXX_IRQ_1HZ\t\t24\n#define MC13XXX_IRQ_TODA\t25\n#define MC13XXX_IRQ_SYSRST\t30\n#define MC13XXX_IRQ_RTCRST\t31\n#define MC13XXX_IRQ_PC\t\t32\n#define MC13XXX_IRQ_WARM\t33\n#define MC13XXX_IRQ_MEMHLD\t34\n#define MC13XXX_IRQ_THWARNL\t36\n#define MC13XXX_IRQ_THWARNH\t37\n#define MC13XXX_IRQ_CLK\t\t38\n\nstruct regulator_init_data;\n\nstruct mc13xxx_regulator_init_data {\n\tint id;\n\tstruct regulator_init_data *init_data;\n\tstruct device_node *node;\n};\n\nstruct mc13xxx_regulator_platform_data {\n\tint num_regulators;\n\tstruct mc13xxx_regulator_init_data *regulators;\n};\n\nenum {\n\t \n\tMC13783_LED_MD,\n\tMC13783_LED_AD,\n\tMC13783_LED_KP,\n\tMC13783_LED_R1,\n\tMC13783_LED_G1,\n\tMC13783_LED_B1,\n\tMC13783_LED_R2,\n\tMC13783_LED_G2,\n\tMC13783_LED_B2,\n\tMC13783_LED_R3,\n\tMC13783_LED_G3,\n\tMC13783_LED_B3,\n\t \n\tMC13892_LED_MD,\n\tMC13892_LED_AD,\n\tMC13892_LED_KP,\n\tMC13892_LED_R,\n\tMC13892_LED_G,\n\tMC13892_LED_B,\n\t \n\tMC34708_LED_R,\n\tMC34708_LED_G,\n};\n\nstruct mc13xxx_led_platform_data {\n\tint id;\n\tconst char *name;\n\tconst char *default_trigger;\n};\n\n#define MAX_LED_CONTROL_REGS\t6\n\n \n#define MC13783_LED_C0_ENABLE\t\t(1 << 0)\n#define MC13783_LED_C0_TRIODE_MD\t(1 << 7)\n#define MC13783_LED_C0_TRIODE_AD\t(1 << 8)\n#define MC13783_LED_C0_TRIODE_KP\t(1 << 9)\n#define MC13783_LED_C0_BOOST\t\t(1 << 10)\n#define MC13783_LED_C0_ABMODE(x)\t(((x) & 0x7) << 11)\n#define MC13783_LED_C0_ABREF(x)\t\t(((x) & 0x3) << 14)\n \n#define MC13783_LED_C1_TC1HALF\t\t(1 << 18)\n#define MC13783_LED_C1_SLEWLIM\t\t(1 << 23)\n \n#define MC13783_LED_C2_CURRENT_MD(x)\t(((x) & 0x7) << 0)\n#define MC13783_LED_C2_CURRENT_AD(x)\t(((x) & 0x7) << 3)\n#define MC13783_LED_C2_CURRENT_KP(x)\t(((x) & 0x7) << 6)\n#define MC13783_LED_C2_PERIOD(x)\t(((x) & 0x3) << 21)\n#define MC13783_LED_C2_SLEWLIM\t\t(1 << 23)\n \n#define MC13783_LED_C3_CURRENT_R1(x)\t(((x) & 0x3) << 0)\n#define MC13783_LED_C3_CURRENT_G1(x)\t(((x) & 0x3) << 2)\n#define MC13783_LED_C3_CURRENT_B1(x)\t(((x) & 0x3) << 4)\n#define MC13783_LED_C3_PERIOD(x)\t(((x) & 0x3) << 21)\n#define MC13783_LED_C3_TRIODE_TC1\t(1 << 23)\n \n#define MC13783_LED_C4_CURRENT_R2(x)\t(((x) & 0x3) << 0)\n#define MC13783_LED_C4_CURRENT_G2(x)\t(((x) & 0x3) << 2)\n#define MC13783_LED_C4_CURRENT_B2(x)\t(((x) & 0x3) << 4)\n#define MC13783_LED_C4_PERIOD(x)\t(((x) & 0x3) << 21)\n#define MC13783_LED_C4_TRIODE_TC2\t(1 << 23)\n \n#define MC13783_LED_C5_CURRENT_R3(x)\t(((x) & 0x3) << 0)\n#define MC13783_LED_C5_CURRENT_G3(x)\t(((x) & 0x3) << 2)\n#define MC13783_LED_C5_CURRENT_B3(x)\t(((x) & 0x3) << 4)\n#define MC13783_LED_C5_PERIOD(x)\t(((x) & 0x3) << 21)\n#define MC13783_LED_C5_TRIODE_TC3\t(1 << 23)\n \n#define MC13892_LED_C0_CURRENT_MD(x)\t(((x) & 0x7) << 9)\n#define MC13892_LED_C0_CURRENT_AD(x)\t(((x) & 0x7) << 21)\n \n#define MC13892_LED_C1_CURRENT_KP(x)\t(((x) & 0x7) << 9)\n \n#define MC13892_LED_C2_CURRENT_R(x)\t(((x) & 0x7) << 9)\n#define MC13892_LED_C2_CURRENT_G(x)\t(((x) & 0x7) << 21)\n \n#define MC13892_LED_C3_CURRENT_B(x)\t(((x) & 0x7) << 9)\n \n#define MC34708_LED_C0_CURRENT_R(x)\t(((x) & 0x3) << 9)\n#define MC34708_LED_C0_CURRENT_G(x)\t(((x) & 0x3) << 21)\n\nstruct mc13xxx_leds_platform_data {\n\tstruct mc13xxx_led_platform_data *led;\n\tint num_leds;\n\tu32 led_control[MAX_LED_CONTROL_REGS];\n};\n\n#define MC13783_BUTTON_DBNC_0MS\t\t0\n#define MC13783_BUTTON_DBNC_30MS\t1\n#define MC13783_BUTTON_DBNC_150MS\t2\n#define MC13783_BUTTON_DBNC_750MS\t3\n#define MC13783_BUTTON_ENABLE\t\t(1 << 2)\n#define MC13783_BUTTON_POL_INVERT\t(1 << 3)\n#define MC13783_BUTTON_RESET_EN\t\t(1 << 4)\n\nstruct mc13xxx_buttons_platform_data {\n\tint b1on_flags;\n\tunsigned short b1on_key;\n\tint b2on_flags;\n\tunsigned short b2on_key;\n\tint b3on_flags;\n\tunsigned short b3on_key;\n};\n\n#define MC13783_TS_ATO_FIRST\tfalse\n#define MC13783_TS_ATO_EACH\ttrue\n\nstruct mc13xxx_ts_platform_data {\n\t \n\tu8 ato;\n\t \n\tbool atox;\n};\n\nenum mc13783_ssi_port {\n\tMC13783_SSI1_PORT,\n\tMC13783_SSI2_PORT,\n};\n\nstruct mc13xxx_codec_platform_data {\n\tenum mc13783_ssi_port adc_ssi_port;\n\tenum mc13783_ssi_port dac_ssi_port;\n};\n\n#define MC13XXX_USE_TOUCHSCREEN\t(1 << 0)\n#define MC13XXX_USE_CODEC\t(1 << 1)\n#define MC13XXX_USE_ADC\t\t(1 << 2)\n#define MC13XXX_USE_RTC\t\t(1 << 3)\n\nstruct mc13xxx_platform_data {\n\tunsigned int flags;\n\n\tstruct mc13xxx_regulator_platform_data regulators;\n\tstruct mc13xxx_leds_platform_data *leds;\n\tstruct mc13xxx_buttons_platform_data *buttons;\n\tstruct mc13xxx_ts_platform_data touch;\n\tstruct mc13xxx_codec_platform_data *codec;\n};\n\n#define MC13XXX_ADC_MODE_TS\t\t1\n#define MC13XXX_ADC_MODE_SINGLE_CHAN\t2\n#define MC13XXX_ADC_MODE_MULT_CHAN\t3\n\n#define MC13XXX_ADC0\t\t43\n#define MC13XXX_ADC0_LICELLCON\t\t(1 << 0)\n#define MC13XXX_ADC0_CHRGICON\t\t(1 << 1)\n#define MC13XXX_ADC0_BATICON\t\t(1 << 2)\n#define MC13XXX_ADC0_ADIN7SEL_DIE\t(1 << 4)\n#define MC13XXX_ADC0_ADIN7SEL_UID\t(2 << 4)\n#define MC13XXX_ADC0_ADREFEN\t\t(1 << 10)\n#define MC13XXX_ADC0_TSMOD0\t\t(1 << 12)\n#define MC13XXX_ADC0_TSMOD1\t\t(1 << 13)\n#define MC13XXX_ADC0_TSMOD2\t\t(1 << 14)\n#define MC13XXX_ADC0_CHRGRAWDIV\t\t(1 << 15)\n#define MC13XXX_ADC0_ADINC1\t\t(1 << 16)\n#define MC13XXX_ADC0_ADINC2\t\t(1 << 17)\n\n#define MC13XXX_ADC0_TSMOD_MASK\t\t(MC13XXX_ADC0_TSMOD0 | \\\n\t\t\t\t\tMC13XXX_ADC0_TSMOD1 | \\\n\t\t\t\t\tMC13XXX_ADC0_TSMOD2)\n\n#define MC13XXX_ADC0_CONFIG_MASK\t(MC13XXX_ADC0_TSMOD_MASK | \\\n\t\t\t\t\tMC13XXX_ADC0_LICELLCON | \\\n\t\t\t\t\tMC13XXX_ADC0_CHRGICON | \\\n\t\t\t\t\tMC13XXX_ADC0_BATICON)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}