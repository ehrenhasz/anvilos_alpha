{
  "module_name": "da9052.h",
  "hash_id": "837979a6df931ae0f655200444b19af49bbfdf399db04db50bcc699a4ff27f68",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/mfd/da9052/da9052.h",
  "human_readable_source": " \n \n\n#ifndef __MFD_DA9052_DA9052_H\n#define __MFD_DA9052_DA9052_H\n\n#include <linux/interrupt.h>\n#include <linux/regmap.h>\n#include <linux/slab.h>\n#include <linux/completion.h>\n#include <linux/list.h>\n#include <linux/mfd/core.h>\n\n#include <linux/mfd/da9052/reg.h>\n\n \n#define DA9052_ADC_VDDOUT\t0\n#define DA9052_ADC_ICH\t\t1\n#define DA9052_ADC_TBAT\t2\n#define DA9052_ADC_VBAT\t3\n#define DA9052_ADC_IN4\t\t4\n#define DA9052_ADC_IN5\t\t5\n#define DA9052_ADC_IN6\t\t6\n#define DA9052_ADC_TSI\t\t7\n#define DA9052_ADC_TJUNC\t8\n#define DA9052_ADC_VBBAT\t9\n\n \n#define DA9052_ADC_TSI_XP\t70\n#define DA9052_ADC_TSI_XN\t71\n#define DA9052_ADC_TSI_YP\t72\n#define DA9052_ADC_TSI_YN\t73\n\n#define DA9052_IRQ_DCIN\t0\n#define DA9052_IRQ_VBUS\t1\n#define DA9052_IRQ_DCINREM\t2\n#define DA9052_IRQ_VBUSREM\t3\n#define DA9052_IRQ_VDDLOW\t4\n#define DA9052_IRQ_ALARM\t5\n#define DA9052_IRQ_SEQRDY\t6\n#define DA9052_IRQ_COMP1V2\t7\n#define DA9052_IRQ_NONKEY\t8\n#define DA9052_IRQ_IDFLOAT\t9\n#define DA9052_IRQ_IDGND\t10\n#define DA9052_IRQ_CHGEND\t11\n#define DA9052_IRQ_TBAT\t12\n#define DA9052_IRQ_ADC_EOM\t13\n#define DA9052_IRQ_PENDOWN\t14\n#define DA9052_IRQ_TSIREADY\t15\n#define DA9052_IRQ_GPI0\t16\n#define DA9052_IRQ_GPI1\t17\n#define DA9052_IRQ_GPI2\t18\n#define DA9052_IRQ_GPI3\t19\n#define DA9052_IRQ_GPI4\t20\n#define DA9052_IRQ_GPI5\t21\n#define DA9052_IRQ_GPI6\t22\n#define DA9052_IRQ_GPI7\t23\n#define DA9052_IRQ_GPI8\t24\n#define DA9052_IRQ_GPI9\t25\n#define DA9052_IRQ_GPI10\t26\n#define DA9052_IRQ_GPI11\t27\n#define DA9052_IRQ_GPI12\t28\n#define DA9052_IRQ_GPI13\t29\n#define DA9052_IRQ_GPI14\t30\n#define DA9052_IRQ_GPI15\t31\n\nenum da9052_chip_id {\n\tDA9052,\n\tDA9053_AA,\n\tDA9053_BA,\n\tDA9053_BB,\n\tDA9053_BC,\n};\n\nstruct da9052_pdata;\n\nstruct da9052 {\n\tstruct device *dev;\n\tstruct regmap *regmap;\n\n\tstruct mutex auxadc_lock;\n\tstruct completion done;\n\n\tint irq_base;\n\tstruct regmap_irq_chip_data *irq_data;\n\tu8 chip_id;\n\n\tint chip_irq;\n\n\t \n\tint (*fix_io) (struct da9052 *da9052, unsigned char reg);\n};\n\n \nint da9052_adc_manual_read(struct da9052 *da9052, unsigned char channel);\nint da9052_adc_read_temp(struct da9052 *da9052);\n\n \nstatic inline int da9052_reg_read(struct da9052 *da9052, unsigned char reg)\n{\n\tint val, ret;\n\n\tret = regmap_read(da9052->regmap, reg, &val);\n\tif (ret < 0)\n\t\treturn ret;\n\n\tif (da9052->fix_io) {\n\t\tret = da9052->fix_io(da9052, reg);\n\t\tif (ret < 0)\n\t\t\treturn ret;\n\t}\n\n\treturn val;\n}\n\nstatic inline int da9052_reg_write(struct da9052 *da9052, unsigned char reg,\n\t\t\t\t    unsigned char val)\n{\n\tint ret;\n\n\tret = regmap_write(da9052->regmap, reg, val);\n\tif (ret < 0)\n\t\treturn ret;\n\n\tif (da9052->fix_io) {\n\t\tret = da9052->fix_io(da9052, reg);\n\t\tif (ret < 0)\n\t\t\treturn ret;\n\t}\n\n\treturn ret;\n}\n\nstatic inline int da9052_group_read(struct da9052 *da9052, unsigned char reg,\n\t\t\t\t     unsigned reg_cnt, unsigned char *val)\n{\n\tint ret;\n\tunsigned int tmp;\n\tint i;\n\n\tfor (i = 0; i < reg_cnt; i++) {\n\t\tret = regmap_read(da9052->regmap, reg + i, &tmp);\n\t\tval[i] = (unsigned char)tmp;\n\t\tif (ret < 0)\n\t\t\treturn ret;\n\t}\n\n\tif (da9052->fix_io) {\n\t\tret = da9052->fix_io(da9052, reg);\n\t\tif (ret < 0)\n\t\t\treturn ret;\n\t}\n\n\treturn ret;\n}\n\nstatic inline int da9052_group_write(struct da9052 *da9052, unsigned char reg,\n\t\t\t\t      unsigned reg_cnt, unsigned char *val)\n{\n\tint ret = 0;\n\tint i;\n\n\tfor (i = 0; i < reg_cnt; i++) {\n\t\tret = regmap_write(da9052->regmap, reg + i, val[i]);\n\t\tif (ret < 0)\n\t\t\treturn ret;\n\t}\n\n\tif (da9052->fix_io) {\n\t\tret = da9052->fix_io(da9052, reg);\n\t\tif (ret < 0)\n\t\t\treturn ret;\n\t}\n\n\treturn ret;\n}\n\nstatic inline int da9052_reg_update(struct da9052 *da9052, unsigned char reg,\n\t\t\t\t     unsigned char bit_mask,\n\t\t\t\t     unsigned char reg_val)\n{\n\tint ret;\n\n\tret = regmap_update_bits(da9052->regmap, reg, bit_mask, reg_val);\n\tif (ret < 0)\n\t\treturn ret;\n\n\tif (da9052->fix_io) {\n\t\tret = da9052->fix_io(da9052, reg);\n\t\tif (ret < 0)\n\t\t\treturn ret;\n\t}\n\n\treturn ret;\n}\n\nint da9052_device_init(struct da9052 *da9052, u8 chip_id);\nvoid da9052_device_exit(struct da9052 *da9052);\n\nextern const struct regmap_config da9052_regmap_config;\n\nint da9052_irq_init(struct da9052 *da9052);\nint da9052_irq_exit(struct da9052 *da9052);\nint da9052_request_irq(struct da9052 *da9052, int irq, char *name,\n\t\t\t   irq_handler_t handler, void *data);\nvoid da9052_free_irq(struct da9052 *da9052, int irq, void *data);\n\nint da9052_enable_irq(struct da9052 *da9052, int irq);\nint da9052_disable_irq(struct da9052 *da9052, int irq);\nint da9052_disable_irq_nosync(struct da9052 *da9052, int irq);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}