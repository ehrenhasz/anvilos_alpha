{
  "module_name": "kdev_t.h",
  "hash_id": "c54783c68e00ec37af33f463842f92c892c7d75f3ce86d847904dd9c29d8998b",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/kdev_t.h",
  "human_readable_source": " \n#ifndef _LINUX_KDEV_T_H\n#define _LINUX_KDEV_T_H\n\n#include <uapi/linux/kdev_t.h>\n\n#define MINORBITS\t20\n#define MINORMASK\t((1U << MINORBITS) - 1)\n\n#define MAJOR(dev)\t((unsigned int) ((dev) >> MINORBITS))\n#define MINOR(dev)\t((unsigned int) ((dev) & MINORMASK))\n#define MKDEV(ma,mi)\t(((ma) << MINORBITS) | (mi))\n\n#define print_dev_t(buffer, dev)\t\t\t\t\t\\\n\tsprintf((buffer), \"%u:%u\\n\", MAJOR(dev), MINOR(dev))\n\n#define format_dev_t(buffer, dev)\t\t\t\t\t\\\n\t({\t\t\t\t\t\t\t\t\\\n\t\tsprintf(buffer, \"%u:%u\", MAJOR(dev), MINOR(dev));\t\\\n\t\tbuffer;\t\t\t\t\t\t\t\\\n\t})\n\n \nstatic __always_inline bool old_valid_dev(dev_t dev)\n{\n\treturn MAJOR(dev) < 256 && MINOR(dev) < 256;\n}\n\nstatic __always_inline u16 old_encode_dev(dev_t dev)\n{\n\treturn (MAJOR(dev) << 8) | MINOR(dev);\n}\n\nstatic __always_inline dev_t old_decode_dev(u16 val)\n{\n\treturn MKDEV((val >> 8) & 255, val & 255);\n}\n\nstatic __always_inline u32 new_encode_dev(dev_t dev)\n{\n\tunsigned major = MAJOR(dev);\n\tunsigned minor = MINOR(dev);\n\treturn (minor & 0xff) | (major << 8) | ((minor & ~0xff) << 12);\n}\n\nstatic __always_inline dev_t new_decode_dev(u32 dev)\n{\n\tunsigned major = (dev & 0xfff00) >> 8;\n\tunsigned minor = (dev & 0xff) | ((dev >> 12) & 0xfff00);\n\treturn MKDEV(major, minor);\n}\n\nstatic __always_inline u64 huge_encode_dev(dev_t dev)\n{\n\treturn new_encode_dev(dev);\n}\n\nstatic __always_inline dev_t huge_decode_dev(u64 dev)\n{\n\treturn new_decode_dev(dev);\n}\n\nstatic __always_inline int sysv_valid_dev(dev_t dev)\n{\n\treturn MAJOR(dev) < (1<<14) && MINOR(dev) < (1<<18);\n}\n\nstatic __always_inline u32 sysv_encode_dev(dev_t dev)\n{\n\treturn MINOR(dev) | (MAJOR(dev) << 18);\n}\n\nstatic __always_inline unsigned sysv_major(u32 dev)\n{\n\treturn (dev >> 18) & 0x3fff;\n}\n\nstatic __always_inline unsigned sysv_minor(u32 dev)\n{\n\treturn dev & 0x3ffff;\n}\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}