{
  "module_name": "devfreq.h",
  "hash_id": "dfdb5384b2eb6d5920e20e0812c11358c469a783ef5c698658fed66d7ce1662c",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/devfreq.h",
  "human_readable_source": " \n \n\n#ifndef __LINUX_DEVFREQ_H__\n#define __LINUX_DEVFREQ_H__\n\n#include <linux/device.h>\n#include <linux/notifier.h>\n#include <linux/pm_opp.h>\n#include <linux/pm_qos.h>\n\n \n#define DEVFREQ_GOV_SIMPLE_ONDEMAND\t\"simple_ondemand\"\n#define DEVFREQ_GOV_PERFORMANCE\t\t\"performance\"\n#define DEVFREQ_GOV_POWERSAVE\t\t\"powersave\"\n#define DEVFREQ_GOV_USERSPACE\t\t\"userspace\"\n#define DEVFREQ_GOV_PASSIVE\t\t\"passive\"\n\n \n#define DEVFREQ_TRANSITION_NOTIFIER\t(0)\n\n \n#define\tDEVFREQ_PRECHANGE\t\t(0)\n#define DEVFREQ_POSTCHANGE\t\t(1)\n\n \nenum devfreq_timer {\n\tDEVFREQ_TIMER_DEFERRABLE = 0,\n\tDEVFREQ_TIMER_DELAYED,\n\tDEVFREQ_TIMER_NUM,\n};\n\nstruct devfreq;\nstruct devfreq_governor;\nstruct devfreq_cpu_data;\nstruct thermal_cooling_device;\n\n \nstruct devfreq_dev_status {\n\t \n\tunsigned long total_time;\n\tunsigned long busy_time;\n\tunsigned long current_frequency;\n\tvoid *private_data;\n};\n\n \n#define DEVFREQ_FLAG_LEAST_UPPER_BOUND\t\t0x1\n\n \nstruct devfreq_dev_profile {\n\tunsigned long initial_freq;\n\tunsigned int polling_ms;\n\tenum devfreq_timer timer;\n\n\tint (*target)(struct device *dev, unsigned long *freq, u32 flags);\n\tint (*get_dev_status)(struct device *dev,\n\t\t\t      struct devfreq_dev_status *stat);\n\tint (*get_cur_freq)(struct device *dev, unsigned long *freq);\n\tvoid (*exit)(struct device *dev);\n\n\tunsigned long *freq_table;\n\tunsigned int max_state;\n\n\tbool is_cooling_device;\n};\n\n \nstruct devfreq_stats {\n\tunsigned int total_trans;\n\tunsigned int *trans_table;\n\tu64 *time_in_state;\n\tu64 last_update;\n};\n\n \nstruct devfreq {\n\tstruct list_head node;\n\n\tstruct mutex lock;\n\tstruct device dev;\n\tstruct devfreq_dev_profile *profile;\n\tconst struct devfreq_governor *governor;\n\tstruct opp_table *opp_table;\n\tstruct notifier_block nb;\n\tstruct delayed_work work;\n\n\tunsigned long *freq_table;\n\tunsigned int max_state;\n\n\tunsigned long previous_freq;\n\tstruct devfreq_dev_status last_status;\n\n\tvoid *data;\n\tvoid *governor_data;\n\n\tstruct dev_pm_qos_request user_min_freq_req;\n\tstruct dev_pm_qos_request user_max_freq_req;\n\tunsigned long scaling_min_freq;\n\tunsigned long scaling_max_freq;\n\tbool stop_polling;\n\n\tunsigned long suspend_freq;\n\tunsigned long resume_freq;\n\tatomic_t suspend_count;\n\n\t \n\tstruct devfreq_stats stats;\n\n\tstruct srcu_notifier_head transition_notifier_list;\n\n\t \n\tstruct thermal_cooling_device *cdev;\n\n\tstruct notifier_block nb_min;\n\tstruct notifier_block nb_max;\n};\n\nstruct devfreq_freqs {\n\tunsigned long old;\n\tunsigned long new;\n};\n\n#if defined(CONFIG_PM_DEVFREQ)\nstruct devfreq *devfreq_add_device(struct device *dev,\n\t\t\t\tstruct devfreq_dev_profile *profile,\n\t\t\t\tconst char *governor_name,\n\t\t\t\tvoid *data);\nint devfreq_remove_device(struct devfreq *devfreq);\nstruct devfreq *devm_devfreq_add_device(struct device *dev,\n\t\t\t\tstruct devfreq_dev_profile *profile,\n\t\t\t\tconst char *governor_name,\n\t\t\t\tvoid *data);\nvoid devm_devfreq_remove_device(struct device *dev, struct devfreq *devfreq);\n\n \nint devfreq_suspend_device(struct devfreq *devfreq);\nint devfreq_resume_device(struct devfreq *devfreq);\n\nvoid devfreq_suspend(void);\nvoid devfreq_resume(void);\n\n \nint update_devfreq(struct devfreq *devfreq);\n\n \nstruct dev_pm_opp *devfreq_recommended_opp(struct device *dev,\n\t\t\t\tunsigned long *freq, u32 flags);\nint devfreq_register_opp_notifier(struct device *dev,\n\t\t\t\tstruct devfreq *devfreq);\nint devfreq_unregister_opp_notifier(struct device *dev,\n\t\t\t\tstruct devfreq *devfreq);\nint devm_devfreq_register_opp_notifier(struct device *dev,\n\t\t\t\tstruct devfreq *devfreq);\nvoid devm_devfreq_unregister_opp_notifier(struct device *dev,\n\t\t\t\tstruct devfreq *devfreq);\nint devfreq_register_notifier(struct devfreq *devfreq,\n\t\t\t\tstruct notifier_block *nb,\n\t\t\t\tunsigned int list);\nint devfreq_unregister_notifier(struct devfreq *devfreq,\n\t\t\t\tstruct notifier_block *nb,\n\t\t\t\tunsigned int list);\nint devm_devfreq_register_notifier(struct device *dev,\n\t\t\t\tstruct devfreq *devfreq,\n\t\t\t\tstruct notifier_block *nb,\n\t\t\t\tunsigned int list);\nvoid devm_devfreq_unregister_notifier(struct device *dev,\n\t\t\t\tstruct devfreq *devfreq,\n\t\t\t\tstruct notifier_block *nb,\n\t\t\t\tunsigned int list);\nstruct devfreq *devfreq_get_devfreq_by_node(struct device_node *node);\nstruct devfreq *devfreq_get_devfreq_by_phandle(struct device *dev,\n\t\t\t\tconst char *phandle_name, int index);\n#endif  \n\n \nstruct devfreq_simple_ondemand_data {\n\tunsigned int upthreshold;\n\tunsigned int downdifferential;\n};\n\nenum devfreq_parent_dev_type {\n\tDEVFREQ_PARENT_DEV,\n\tCPUFREQ_PARENT_DEV,\n};\n\n \nstruct devfreq_passive_data {\n\t \n\tstruct devfreq *parent;\n\n\t \n\tint (*get_target_freq)(struct devfreq *this, unsigned long *freq);\n\n\t \n\tenum devfreq_parent_dev_type parent_type;\n\n\t \n\tstruct devfreq *this;\n\tstruct notifier_block nb;\n\tstruct list_head cpu_data_list;\n};\n\n#if !defined(CONFIG_PM_DEVFREQ)\nstatic inline struct devfreq *devfreq_add_device(struct device *dev,\n\t\t\t\t\tstruct devfreq_dev_profile *profile,\n\t\t\t\t\tconst char *governor_name,\n\t\t\t\t\tvoid *data)\n{\n\treturn ERR_PTR(-ENOSYS);\n}\n\nstatic inline int devfreq_remove_device(struct devfreq *devfreq)\n{\n\treturn 0;\n}\n\nstatic inline struct devfreq *devm_devfreq_add_device(struct device *dev,\n\t\t\t\t\tstruct devfreq_dev_profile *profile,\n\t\t\t\t\tconst char *governor_name,\n\t\t\t\t\tvoid *data)\n{\n\treturn ERR_PTR(-ENOSYS);\n}\n\nstatic inline void devm_devfreq_remove_device(struct device *dev,\n\t\t\t\t\tstruct devfreq *devfreq)\n{\n}\n\nstatic inline int devfreq_suspend_device(struct devfreq *devfreq)\n{\n\treturn 0;\n}\n\nstatic inline int devfreq_resume_device(struct devfreq *devfreq)\n{\n\treturn 0;\n}\n\nstatic inline void devfreq_suspend(void) {}\nstatic inline void devfreq_resume(void) {}\n\nstatic inline struct dev_pm_opp *devfreq_recommended_opp(struct device *dev,\n\t\t\t\t\tunsigned long *freq, u32 flags)\n{\n\treturn ERR_PTR(-EINVAL);\n}\n\nstatic inline int devfreq_register_opp_notifier(struct device *dev,\n\t\t\t\t\tstruct devfreq *devfreq)\n{\n\treturn -EINVAL;\n}\n\nstatic inline int devfreq_unregister_opp_notifier(struct device *dev,\n\t\t\t\t\tstruct devfreq *devfreq)\n{\n\treturn -EINVAL;\n}\n\nstatic inline int devm_devfreq_register_opp_notifier(struct device *dev,\n\t\t\t\t\tstruct devfreq *devfreq)\n{\n\treturn -EINVAL;\n}\n\nstatic inline void devm_devfreq_unregister_opp_notifier(struct device *dev,\n\t\t\t\t\tstruct devfreq *devfreq)\n{\n}\n\nstatic inline int devfreq_register_notifier(struct devfreq *devfreq,\n\t\t\t\t\tstruct notifier_block *nb,\n\t\t\t\t\tunsigned int list)\n{\n\treturn 0;\n}\n\nstatic inline int devfreq_unregister_notifier(struct devfreq *devfreq,\n\t\t\t\t\tstruct notifier_block *nb,\n\t\t\t\t\tunsigned int list)\n{\n\treturn 0;\n}\n\nstatic inline int devm_devfreq_register_notifier(struct device *dev,\n\t\t\t\t\tstruct devfreq *devfreq,\n\t\t\t\t\tstruct notifier_block *nb,\n\t\t\t\t\tunsigned int list)\n{\n\treturn 0;\n}\n\nstatic inline void devm_devfreq_unregister_notifier(struct device *dev,\n\t\t\t\t\tstruct devfreq *devfreq,\n\t\t\t\t\tstruct notifier_block *nb,\n\t\t\t\t\tunsigned int list)\n{\n}\n\nstatic inline struct devfreq *devfreq_get_devfreq_by_node(struct device_node *node)\n{\n\treturn ERR_PTR(-ENODEV);\n}\n\nstatic inline struct devfreq *devfreq_get_devfreq_by_phandle(struct device *dev,\n\t\t\t\t\tconst char *phandle_name, int index)\n{\n\treturn ERR_PTR(-ENODEV);\n}\n\nstatic inline int devfreq_update_stats(struct devfreq *df)\n{\n\treturn -EINVAL;\n}\n#endif  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}