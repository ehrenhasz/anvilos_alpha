{
  "module_name": "minmax.h",
  "hash_id": "77f5f194c489bb568228a7932636ea366f42e0b4d502b52f101fcd4d6b4028d9",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/minmax.h",
  "human_readable_source": " \n#ifndef _LINUX_MINMAX_H\n#define _LINUX_MINMAX_H\n\n#include <linux/const.h>\n#include <linux/types.h>\n\n \n#define __typecheck(x, y) \\\n\t(!!(sizeof((typeof(x) *)1 == (typeof(y) *)1)))\n\n#define __no_side_effects(x, y) \\\n\t\t(__is_constexpr(x) && __is_constexpr(y))\n\n#define __safe_cmp(x, y) \\\n\t\t(__typecheck(x, y) && __no_side_effects(x, y))\n\n#define __cmp(x, y, op)\t((x) op (y) ? (x) : (y))\n\n#define __cmp_once(x, y, unique_x, unique_y, op) ({\t\\\n\t\ttypeof(x) unique_x = (x);\t\t\\\n\t\ttypeof(y) unique_y = (y);\t\t\\\n\t\t__cmp(unique_x, unique_y, op); })\n\n#define __careful_cmp(x, y, op) \\\n\t__builtin_choose_expr(__safe_cmp(x, y), \\\n\t\t__cmp(x, y, op), \\\n\t\t__cmp_once(x, y, __UNIQUE_ID(__x), __UNIQUE_ID(__y), op))\n\n#define __clamp(val, lo, hi)\t\\\n\t((val) >= (hi) ? (hi) : ((val) <= (lo) ? (lo) : (val)))\n\n#define __clamp_once(val, lo, hi, unique_val, unique_lo, unique_hi) ({\t\\\n\t\ttypeof(val) unique_val = (val);\t\t\t\t\\\n\t\ttypeof(lo) unique_lo = (lo);\t\t\t\t\\\n\t\ttypeof(hi) unique_hi = (hi);\t\t\t\t\\\n\t\t__clamp(unique_val, unique_lo, unique_hi); })\n\n#define __clamp_input_check(lo, hi)\t\t\t\t\t\\\n        (BUILD_BUG_ON_ZERO(__builtin_choose_expr(\t\t\t\\\n                __is_constexpr((lo) > (hi)), (lo) > (hi), false)))\n\n#define __careful_clamp(val, lo, hi) ({\t\t\t\t\t\\\n\t__clamp_input_check(lo, hi) +\t\t\t\t\t\\\n\t__builtin_choose_expr(__typecheck(val, lo) && __typecheck(val, hi) && \\\n\t\t\t      __typecheck(hi, lo) && __is_constexpr(val) && \\\n\t\t\t      __is_constexpr(lo) && __is_constexpr(hi),\t\\\n\t\t__clamp(val, lo, hi),\t\t\t\t\t\\\n\t\t__clamp_once(val, lo, hi, __UNIQUE_ID(__val),\t\t\\\n\t\t\t     __UNIQUE_ID(__lo), __UNIQUE_ID(__hi))); })\n\n \n#define min(x, y)\t__careful_cmp(x, y, <)\n\n \n#define max(x, y)\t__careful_cmp(x, y, >)\n\n \n#define min3(x, y, z) min((typeof(x))min(x, y), z)\n\n \n#define max3(x, y, z) max((typeof(x))max(x, y), z)\n\n \n#define min_not_zero(x, y) ({\t\t\t\\\n\ttypeof(x) __x = (x);\t\t\t\\\n\ttypeof(y) __y = (y);\t\t\t\\\n\t__x == 0 ? __y : ((__y == 0) ? __x : min(__x, __y)); })\n\n \n#define clamp(val, lo, hi) __careful_clamp(val, lo, hi)\n\n \n\n \n#define min_t(type, x, y)\t__careful_cmp((type)(x), (type)(y), <)\n\n \n#define max_t(type, x, y)\t__careful_cmp((type)(x), (type)(y), >)\n\n \n#define __unconst_integer_type_cases(type)\t\\\n\tunsigned type:  (unsigned type)0,\t\\\n\tsigned type:    (signed type)0\n\n#define __unconst_integer_typeof(x) typeof(\t\t\t\\\n\t_Generic((x),\t\t\t\t\t\t\\\n\t\tchar: (char)0,\t\t\t\t\t\\\n\t\t__unconst_integer_type_cases(char),\t\t\\\n\t\t__unconst_integer_type_cases(short),\t\t\\\n\t\t__unconst_integer_type_cases(int),\t\t\\\n\t\t__unconst_integer_type_cases(long),\t\t\\\n\t\t__unconst_integer_type_cases(long long),\t\\\n\t\tdefault: (x)))\n\n \n#define __minmax_array(op, array, len) ({\t\t\t\t\\\n\ttypeof(&(array)[0]) __array = (array);\t\t\t\t\\\n\ttypeof(len) __len = (len);\t\t\t\t\t\\\n\t__unconst_integer_typeof(__array[0]) __element = __array[--__len]; \\\n\twhile (__len--)\t\t\t\t\t\t\t\\\n\t\t__element = op(__element, __array[__len]);\t\t\\\n\t__element; })\n\n \n#define min_array(array, len) __minmax_array(min, array, len)\n\n \n#define max_array(array, len) __minmax_array(max, array, len)\n\n \n#define clamp_t(type, val, lo, hi) __careful_clamp((type)(val), (type)(lo), (type)(hi))\n\n \n#define clamp_val(val, lo, hi) clamp_t(typeof(val), val, lo, hi)\n\nstatic inline bool in_range64(u64 val, u64 start, u64 len)\n{\n\treturn (val - start) < len;\n}\n\nstatic inline bool in_range32(u32 val, u32 start, u32 len)\n{\n\treturn (val - start) < len;\n}\n\n \n#define in_range(val, start, len)\t\t\t\t\t\\\n\t((sizeof(start) | sizeof(len) | sizeof(val)) <= sizeof(u32) ?\t\\\n\t\tin_range32(val, start, len) : in_range64(val, start, len))\n\n \n#define swap(a, b) \\\n\tdo { typeof(a) __tmp = (a); (a) = (b); (b) = __tmp; } while (0)\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}