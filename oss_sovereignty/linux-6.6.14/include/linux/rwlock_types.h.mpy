{
  "module_name": "rwlock_types.h",
  "hash_id": "4268536c09a24170cdac9c0e4e90a0443d4dc4ddee9d60c31a3e38fae79b1d9e",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/rwlock_types.h",
  "human_readable_source": "#ifndef __LINUX_RWLOCK_TYPES_H\n#define __LINUX_RWLOCK_TYPES_H\n\n#if !defined(__LINUX_SPINLOCK_TYPES_H)\n# error \"Do not include directly, include spinlock_types.h\"\n#endif\n\n#ifdef CONFIG_DEBUG_LOCK_ALLOC\n# define RW_DEP_MAP_INIT(lockname)\t\t\t\t\t\\\n\t.dep_map = {\t\t\t\t\t\t\t\\\n\t\t.name = #lockname,\t\t\t\t\t\\\n\t\t.wait_type_inner = LD_WAIT_CONFIG,\t\t\t\\\n\t}\n#else\n# define RW_DEP_MAP_INIT(lockname)\n#endif\n\n#ifndef CONFIG_PREEMPT_RT\n \ntypedef struct {\n\tarch_rwlock_t raw_lock;\n#ifdef CONFIG_DEBUG_SPINLOCK\n\tunsigned int magic, owner_cpu;\n\tvoid *owner;\n#endif\n#ifdef CONFIG_DEBUG_LOCK_ALLOC\n\tstruct lockdep_map dep_map;\n#endif\n} rwlock_t;\n\n#define RWLOCK_MAGIC\t\t0xdeaf1eed\n\n#ifdef CONFIG_DEBUG_SPINLOCK\n#define __RW_LOCK_UNLOCKED(lockname)\t\t\t\t\t\\\n\t(rwlock_t)\t{\t.raw_lock = __ARCH_RW_LOCK_UNLOCKED,\t\\\n\t\t\t\t.magic = RWLOCK_MAGIC,\t\t\t\\\n\t\t\t\t.owner = SPINLOCK_OWNER_INIT,\t\t\\\n\t\t\t\t.owner_cpu = -1,\t\t\t\\\n\t\t\t\tRW_DEP_MAP_INIT(lockname) }\n#else\n#define __RW_LOCK_UNLOCKED(lockname) \\\n\t(rwlock_t)\t{\t.raw_lock = __ARCH_RW_LOCK_UNLOCKED,\t\\\n\t\t\t\tRW_DEP_MAP_INIT(lockname) }\n#endif\n\n#define DEFINE_RWLOCK(x)\trwlock_t x = __RW_LOCK_UNLOCKED(x)\n\n#else  \n\n#include <linux/rwbase_rt.h>\n\ntypedef struct {\n\tstruct rwbase_rt\trwbase;\n\tatomic_t\t\treaders;\n#ifdef CONFIG_DEBUG_LOCK_ALLOC\n\tstruct lockdep_map\tdep_map;\n#endif\n} rwlock_t;\n\n#define __RWLOCK_RT_INITIALIZER(name)\t\t\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\\\n\t.rwbase = __RWBASE_INITIALIZER(name),\t\t\t\t\\\n\tRW_DEP_MAP_INIT(name)\t\t\t\t\t\t\\\n}\n\n#define __RW_LOCK_UNLOCKED(name) __RWLOCK_RT_INITIALIZER(name)\n\n#define DEFINE_RWLOCK(name)\t\t\t\t\t\t\\\n\trwlock_t name = __RW_LOCK_UNLOCKED(name)\n\n#endif  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}