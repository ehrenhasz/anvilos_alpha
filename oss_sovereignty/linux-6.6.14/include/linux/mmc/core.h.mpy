{
  "module_name": "core.h",
  "hash_id": "1060f85daa01fd03cca956738ad749e2611d916cb7c898c7712a659f7fd52484",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/mmc/core.h",
  "human_readable_source": " \n \n#ifndef LINUX_MMC_CORE_H\n#define LINUX_MMC_CORE_H\n\n#include <linux/completion.h>\n#include <linux/types.h>\n\nstruct mmc_data;\nstruct mmc_request;\n\nenum mmc_blk_status {\n\tMMC_BLK_SUCCESS = 0,\n\tMMC_BLK_PARTIAL,\n\tMMC_BLK_CMD_ERR,\n\tMMC_BLK_RETRY,\n\tMMC_BLK_ABORT,\n\tMMC_BLK_DATA_ERR,\n\tMMC_BLK_ECC_ERR,\n\tMMC_BLK_NOMEDIUM,\n\tMMC_BLK_NEW_REQUEST,\n};\n\nstruct mmc_command {\n\tu32\t\t\topcode;\n\tu32\t\t\targ;\n#define MMC_CMD23_ARG_REL_WR\t(1 << 31)\n#define MMC_CMD23_ARG_PACKED\t((0 << 31) | (1 << 30))\n#define MMC_CMD23_ARG_TAG_REQ\t(1 << 29)\n\tu32\t\t\tresp[4];\n\tunsigned int\t\tflags;\t\t \n#define MMC_RSP_PRESENT\t(1 << 0)\n#define MMC_RSP_136\t(1 << 1)\t\t \n#define MMC_RSP_CRC\t(1 << 2)\t\t \n#define MMC_RSP_BUSY\t(1 << 3)\t\t \n#define MMC_RSP_OPCODE\t(1 << 4)\t\t \n\n#define MMC_CMD_MASK\t(3 << 5)\t\t \n#define MMC_CMD_AC\t(0 << 5)\n#define MMC_CMD_ADTC\t(1 << 5)\n#define MMC_CMD_BC\t(2 << 5)\n#define MMC_CMD_BCR\t(3 << 5)\n\n#define MMC_RSP_SPI_S1\t(1 << 7)\t\t \n#define MMC_RSP_SPI_S2\t(1 << 8)\t\t \n#define MMC_RSP_SPI_B4\t(1 << 9)\t\t \n#define MMC_RSP_SPI_BUSY (1 << 10)\t\t \n\n \n#define MMC_RSP_NONE\t(0)\n#define MMC_RSP_R1\t(MMC_RSP_PRESENT|MMC_RSP_CRC|MMC_RSP_OPCODE)\n#define MMC_RSP_R1B\t(MMC_RSP_PRESENT|MMC_RSP_CRC|MMC_RSP_OPCODE|MMC_RSP_BUSY)\n#define MMC_RSP_R2\t(MMC_RSP_PRESENT|MMC_RSP_136|MMC_RSP_CRC)\n#define MMC_RSP_R3\t(MMC_RSP_PRESENT)\n#define MMC_RSP_R4\t(MMC_RSP_PRESENT)\n#define MMC_RSP_R5\t(MMC_RSP_PRESENT|MMC_RSP_CRC|MMC_RSP_OPCODE)\n#define MMC_RSP_R6\t(MMC_RSP_PRESENT|MMC_RSP_CRC|MMC_RSP_OPCODE)\n#define MMC_RSP_R7\t(MMC_RSP_PRESENT|MMC_RSP_CRC|MMC_RSP_OPCODE)\n\n \n#define MMC_RSP_R1_NO_CRC\t(MMC_RSP_PRESENT|MMC_RSP_OPCODE)\n\n#define mmc_resp_type(cmd)\t((cmd)->flags & (MMC_RSP_PRESENT|MMC_RSP_136|MMC_RSP_CRC|MMC_RSP_BUSY|MMC_RSP_OPCODE))\n\n \n#define MMC_RSP_SPI_R1\t(MMC_RSP_SPI_S1)\n#define MMC_RSP_SPI_R1B\t(MMC_RSP_SPI_S1|MMC_RSP_SPI_BUSY)\n#define MMC_RSP_SPI_R2\t(MMC_RSP_SPI_S1|MMC_RSP_SPI_S2)\n#define MMC_RSP_SPI_R3\t(MMC_RSP_SPI_S1|MMC_RSP_SPI_B4)\n#define MMC_RSP_SPI_R4\t(MMC_RSP_SPI_S1|MMC_RSP_SPI_B4)\n#define MMC_RSP_SPI_R5\t(MMC_RSP_SPI_S1|MMC_RSP_SPI_S2)\n#define MMC_RSP_SPI_R7\t(MMC_RSP_SPI_S1|MMC_RSP_SPI_B4)\n\n#define mmc_spi_resp_type(cmd)\t((cmd)->flags & \\\n\t\t(MMC_RSP_SPI_S1|MMC_RSP_SPI_BUSY|MMC_RSP_SPI_S2|MMC_RSP_SPI_B4))\n\n \n#define mmc_cmd_type(cmd)\t((cmd)->flags & MMC_CMD_MASK)\n\n\tunsigned int\t\tretries;\t \n\tint\t\t\terror;\t\t \n\n \n\n\tunsigned int\t\tbusy_timeout;\t \n\tstruct mmc_data\t\t*data;\t\t \n\tstruct mmc_request\t*mrq;\t\t \n};\n\nstruct mmc_data {\n\tunsigned int\t\ttimeout_ns;\t \n\tunsigned int\t\ttimeout_clks;\t \n\tunsigned int\t\tblksz;\t\t \n\tunsigned int\t\tblocks;\t\t \n\tunsigned int\t\tblk_addr;\t \n\tint\t\t\terror;\t\t \n\tunsigned int\t\tflags;\n\n#define MMC_DATA_WRITE\t\tBIT(8)\n#define MMC_DATA_READ\t\tBIT(9)\n \n#define MMC_DATA_QBR\t\tBIT(10)\t\t \n#define MMC_DATA_PRIO\t\tBIT(11)\t\t \n#define MMC_DATA_REL_WR\t\tBIT(12)\t\t \n#define MMC_DATA_DAT_TAG\tBIT(13)\t\t \n#define MMC_DATA_FORCED_PRG\tBIT(14)\t\t \n\n\tunsigned int\t\tbytes_xfered;\n\n\tstruct mmc_command\t*stop;\t\t \n\tstruct mmc_request\t*mrq;\t\t \n\n\tunsigned int\t\tsg_len;\t\t \n\tint\t\t\tsg_count;\t \n\tstruct scatterlist\t*sg;\t\t \n\ts32\t\t\thost_cookie;\t \n};\n\nstruct mmc_host;\nstruct mmc_request {\n\tstruct mmc_command\t*sbc;\t\t \n\tstruct mmc_command\t*cmd;\n\tstruct mmc_data\t\t*data;\n\tstruct mmc_command\t*stop;\n\n\tstruct completion\tcompletion;\n\tstruct completion\tcmd_completion;\n\tvoid\t\t\t(*done)(struct mmc_request *); \n\t \n\tvoid\t\t\t(*recovery_notifier)(struct mmc_request *);\n\tstruct mmc_host\t\t*host;\n\n\t \n\tbool\t\t\tcap_cmd_during_tfr;\n\n\tint\t\t\ttag;\n\n#ifdef CONFIG_MMC_CRYPTO\n\tconst struct bio_crypt_ctx *crypto_ctx;\n\tint\t\t\tcrypto_key_slot;\n#endif\n};\n\nstruct mmc_card;\n\nvoid mmc_wait_for_req(struct mmc_host *host, struct mmc_request *mrq);\nint mmc_wait_for_cmd(struct mmc_host *host, struct mmc_command *cmd,\n\t\tint retries);\n\nint mmc_hw_reset(struct mmc_card *card);\nint mmc_sw_reset(struct mmc_card *card);\nvoid mmc_set_data_timeout(struct mmc_data *data, const struct mmc_card *card);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}