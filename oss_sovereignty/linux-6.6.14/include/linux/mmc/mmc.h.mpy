{
  "module_name": "mmc.h",
  "hash_id": "5a796af53c717bfea6e254512cd61d2c9bdb5ab3898bf3cddff5f5e38fa5feab",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/mmc/mmc.h",
  "human_readable_source": " \n\n#ifndef LINUX_MMC_MMC_H\n#define LINUX_MMC_MMC_H\n\n#include <linux/types.h>\n\n \n    \n#define MMC_GO_IDLE_STATE         0    \n#define MMC_SEND_OP_COND          1    \n#define MMC_ALL_SEND_CID          2    \n#define MMC_SET_RELATIVE_ADDR     3    \n#define MMC_SET_DSR               4    \n#define MMC_SLEEP_AWAKE\t\t  5    \n#define MMC_SWITCH                6    \n#define MMC_SELECT_CARD           7    \n#define MMC_SEND_EXT_CSD          8    \n#define MMC_SEND_CSD              9    \n#define MMC_SEND_CID             10    \n#define MMC_READ_DAT_UNTIL_STOP  11    \n#define MMC_STOP_TRANSMISSION    12    \n#define MMC_SEND_STATUS          13    \n#define MMC_BUS_TEST_R           14    \n#define MMC_GO_INACTIVE_STATE    15    \n#define MMC_BUS_TEST_W           19    \n#define MMC_SPI_READ_OCR         58    \n#define MMC_SPI_CRC_ON_OFF       59    \n\n   \n#define MMC_SET_BLOCKLEN         16    \n#define MMC_READ_SINGLE_BLOCK    17    \n#define MMC_READ_MULTIPLE_BLOCK  18    \n#define MMC_SEND_TUNING_BLOCK    19    \n#define MMC_SEND_TUNING_BLOCK_HS200\t21\t \n\n   \n#define MMC_WRITE_DAT_UNTIL_STOP 20    \n\n   \n#define MMC_SET_BLOCK_COUNT      23    \n#define MMC_WRITE_BLOCK          24    \n#define MMC_WRITE_MULTIPLE_BLOCK 25    \n#define MMC_PROGRAM_CID          26    \n#define MMC_PROGRAM_CSD          27    \n\n   \n#define MMC_SET_WRITE_PROT       28    \n#define MMC_CLR_WRITE_PROT       29    \n#define MMC_SEND_WRITE_PROT      30    \n\n   \n#define MMC_ERASE_GROUP_START    35    \n#define MMC_ERASE_GROUP_END      36    \n#define MMC_ERASE                38    \n\n   \n#define MMC_FAST_IO              39    \n#define MMC_GO_IRQ_STATE         40    \n\n   \n#define MMC_LOCK_UNLOCK          42    \n\n   \n#define MMC_APP_CMD              55    \n#define MMC_GEN_CMD              56    \n\n   \n#define MMC_QUE_TASK_PARAMS      44    \n#define MMC_QUE_TASK_ADDR        45    \n#define MMC_EXECUTE_READ_TASK    46    \n#define MMC_EXECUTE_WRITE_TASK   47    \n#define MMC_CMDQ_TASK_MGMT       48    \n\nstatic inline bool mmc_op_multi(u32 opcode)\n{\n\treturn opcode == MMC_WRITE_MULTIPLE_BLOCK ||\n\t       opcode == MMC_READ_MULTIPLE_BLOCK;\n}\n\nstatic inline bool mmc_op_tuning(u32 opcode)\n{\n\treturn opcode == MMC_SEND_TUNING_BLOCK ||\n\t\t\topcode == MMC_SEND_TUNING_BLOCK_HS200;\n}\n\n \n\n \n\n#define R1_OUT_OF_RANGE\t\t(1 << 31)\t \n#define R1_ADDRESS_ERROR\t(1 << 30)\t \n#define R1_BLOCK_LEN_ERROR\t(1 << 29)\t \n#define R1_ERASE_SEQ_ERROR      (1 << 28)\t \n#define R1_ERASE_PARAM\t\t(1 << 27)\t \n#define R1_WP_VIOLATION\t\t(1 << 26)\t \n#define R1_CARD_IS_LOCKED\t(1 << 25)\t \n#define R1_LOCK_UNLOCK_FAILED\t(1 << 24)\t \n#define R1_COM_CRC_ERROR\t(1 << 23)\t \n#define R1_ILLEGAL_COMMAND\t(1 << 22)\t \n#define R1_CARD_ECC_FAILED\t(1 << 21)\t \n#define R1_CC_ERROR\t\t(1 << 20)\t \n#define R1_ERROR\t\t(1 << 19)\t \n#define R1_UNDERRUN\t\t(1 << 18)\t \n#define R1_OVERRUN\t\t(1 << 17)\t \n#define R1_CID_CSD_OVERWRITE\t(1 << 16)\t \n#define R1_WP_ERASE_SKIP\t(1 << 15)\t \n#define R1_CARD_ECC_DISABLED\t(1 << 14)\t \n#define R1_ERASE_RESET\t\t(1 << 13)\t \n#define R1_STATUS(x)            (x & 0xFFF9A000)\n#define R1_CURRENT_STATE(x)\t((x & 0x00001E00) >> 9)\t \n#define R1_READY_FOR_DATA\t(1 << 8)\t \n#define R1_SWITCH_ERROR\t\t(1 << 7)\t \n#define R1_EXCEPTION_EVENT\t(1 << 6)\t \n#define R1_APP_CMD\t\t(1 << 5)\t \n\n#define R1_STATE_IDLE\t0\n#define R1_STATE_READY\t1\n#define R1_STATE_IDENT\t2\n#define R1_STATE_STBY\t3\n#define R1_STATE_TRAN\t4\n#define R1_STATE_DATA\t5\n#define R1_STATE_RCV\t6\n#define R1_STATE_PRG\t7\n#define R1_STATE_DIS\t8\n\nstatic inline bool mmc_ready_for_data(u32 status)\n{\n\t \n\treturn status & R1_READY_FOR_DATA &&\n\t       R1_CURRENT_STATE(status) == R1_STATE_TRAN;\n}\n\n \n#define R1_SPI_IDLE\t\t(1 << 0)\n#define R1_SPI_ERASE_RESET\t(1 << 1)\n#define R1_SPI_ILLEGAL_COMMAND\t(1 << 2)\n#define R1_SPI_COM_CRC\t\t(1 << 3)\n#define R1_SPI_ERASE_SEQ\t(1 << 4)\n#define R1_SPI_ADDRESS\t\t(1 << 5)\n#define R1_SPI_PARAMETER\t(1 << 6)\n \n#define R2_SPI_CARD_LOCKED\t(1 << 8)\n#define R2_SPI_WP_ERASE_SKIP\t(1 << 9)\t \n#define R2_SPI_LOCK_UNLOCK_FAIL\tR2_SPI_WP_ERASE_SKIP\n#define R2_SPI_ERROR\t\t(1 << 10)\n#define R2_SPI_CC_ERROR\t\t(1 << 11)\n#define R2_SPI_CARD_ECC_ERROR\t(1 << 12)\n#define R2_SPI_WP_VIOLATION\t(1 << 13)\n#define R2_SPI_ERASE_PARAM\t(1 << 14)\n#define R2_SPI_OUT_OF_RANGE\t(1 << 15)\t \n#define R2_SPI_CSD_OVERWRITE\tR2_SPI_OUT_OF_RANGE\n\n \n#define MMC_CARD_BUSY\t0x80000000\t \n\n \n#define CCC_BASIC\t\t(1<<0)\t \n\t\t\t\t\t \n\t\t\t\t\t \n#define CCC_STREAM_READ\t\t(1<<1)\t \n\t\t\t\t\t \n#define CCC_BLOCK_READ\t\t(1<<2)\t \n\t\t\t\t\t \n#define CCC_STREAM_WRITE\t(1<<3)\t \n\t\t\t\t\t \n#define CCC_BLOCK_WRITE\t\t(1<<4)\t \n\t\t\t\t\t \n#define CCC_ERASE\t\t(1<<5)\t \n\t\t\t\t\t \n#define CCC_WRITE_PROT\t\t(1<<6)\t \n\t\t\t\t\t \n#define CCC_LOCK_CARD\t\t(1<<7)\t \n\t\t\t\t\t \n#define CCC_APP_SPEC\t\t(1<<8)\t \n\t\t\t\t\t \n#define CCC_IO_MODE\t\t(1<<9)\t \n\t\t\t\t\t \n#define CCC_SWITCH\t\t(1<<10)\t \n\t\t\t\t\t \n\t\t\t\t\t \n\t\t\t\t\t \n\n \n\n#define CSD_STRUCT_VER_1_0  0            \n#define CSD_STRUCT_VER_1_1  1            \n#define CSD_STRUCT_VER_1_2  2            \n#define CSD_STRUCT_EXT_CSD  3            \n\n#define CSD_SPEC_VER_0      0            \n#define CSD_SPEC_VER_1      1            \n#define CSD_SPEC_VER_2      2            \n#define CSD_SPEC_VER_3      3            \n#define CSD_SPEC_VER_4      4            \n\n \n\n#define EXT_CSD_CMDQ_MODE_EN\t\t15\t \n#define EXT_CSD_FLUSH_CACHE\t\t32       \n#define EXT_CSD_CACHE_CTRL\t\t33       \n#define EXT_CSD_POWER_OFF_NOTIFICATION\t34\t \n#define EXT_CSD_PACKED_FAILURE_INDEX\t35\t \n#define EXT_CSD_PACKED_CMD_STATUS\t36\t \n#define EXT_CSD_EXP_EVENTS_STATUS\t54\t \n#define EXT_CSD_EXP_EVENTS_CTRL\t\t56\t \n#define EXT_CSD_DATA_SECTOR_SIZE\t61\t \n#define EXT_CSD_GP_SIZE_MULT\t\t143\t \n#define EXT_CSD_PARTITION_SETTING_COMPLETED 155\t \n#define EXT_CSD_PARTITION_ATTRIBUTE\t156\t \n#define EXT_CSD_PARTITION_SUPPORT\t160\t \n#define EXT_CSD_HPI_MGMT\t\t161\t \n#define EXT_CSD_RST_N_FUNCTION\t\t162\t \n#define EXT_CSD_BKOPS_EN\t\t163\t \n#define EXT_CSD_BKOPS_START\t\t164\t \n#define EXT_CSD_SANITIZE_START\t\t165      \n#define EXT_CSD_WR_REL_PARAM\t\t166\t \n#define EXT_CSD_RPMB_MULT\t\t168\t \n#define EXT_CSD_FW_CONFIG\t\t169\t \n#define EXT_CSD_BOOT_WP\t\t\t173\t \n#define EXT_CSD_ERASE_GROUP_DEF\t\t175\t \n#define EXT_CSD_PART_CONFIG\t\t179\t \n#define EXT_CSD_ERASED_MEM_CONT\t\t181\t \n#define EXT_CSD_BUS_WIDTH\t\t183\t \n#define EXT_CSD_STROBE_SUPPORT\t\t184\t \n#define EXT_CSD_HS_TIMING\t\t185\t \n#define EXT_CSD_POWER_CLASS\t\t187\t \n#define EXT_CSD_REV\t\t\t192\t \n#define EXT_CSD_STRUCTURE\t\t194\t \n#define EXT_CSD_CARD_TYPE\t\t196\t \n#define EXT_CSD_DRIVER_STRENGTH\t\t197\t \n#define EXT_CSD_OUT_OF_INTERRUPT_TIME\t198\t \n#define EXT_CSD_PART_SWITCH_TIME        199      \n#define EXT_CSD_PWR_CL_52_195\t\t200\t \n#define EXT_CSD_PWR_CL_26_195\t\t201\t \n#define EXT_CSD_PWR_CL_52_360\t\t202\t \n#define EXT_CSD_PWR_CL_26_360\t\t203\t \n#define EXT_CSD_SEC_CNT\t\t\t212\t \n#define EXT_CSD_S_A_TIMEOUT\t\t217\t \n#define EXT_CSD_REL_WR_SEC_C\t\t222\t \n#define EXT_CSD_HC_WP_GRP_SIZE\t\t221\t \n#define EXT_CSD_ERASE_TIMEOUT_MULT\t223\t \n#define EXT_CSD_HC_ERASE_GRP_SIZE\t224\t \n#define EXT_CSD_BOOT_MULT\t\t226\t \n#define EXT_CSD_SEC_TRIM_MULT\t\t229\t \n#define EXT_CSD_SEC_ERASE_MULT\t\t230\t \n#define EXT_CSD_SEC_FEATURE_SUPPORT\t231\t \n#define EXT_CSD_TRIM_MULT\t\t232\t \n#define EXT_CSD_PWR_CL_200_195\t\t236\t \n#define EXT_CSD_PWR_CL_200_360\t\t237\t \n#define EXT_CSD_PWR_CL_DDR_52_195\t238\t \n#define EXT_CSD_PWR_CL_DDR_52_360\t239\t \n#define EXT_CSD_BKOPS_STATUS\t\t246\t \n#define EXT_CSD_POWER_OFF_LONG_TIME\t247\t \n#define EXT_CSD_GENERIC_CMD6_TIME\t248\t \n#define EXT_CSD_CACHE_SIZE\t\t249\t \n#define EXT_CSD_PWR_CL_DDR_200_360\t253\t \n#define EXT_CSD_FIRMWARE_VERSION\t254\t \n#define EXT_CSD_PRE_EOL_INFO\t\t267\t \n#define EXT_CSD_DEVICE_LIFE_TIME_EST_TYP_A\t268\t \n#define EXT_CSD_DEVICE_LIFE_TIME_EST_TYP_B\t269\t \n#define EXT_CSD_CMDQ_DEPTH\t\t307\t \n#define EXT_CSD_CMDQ_SUPPORT\t\t308\t \n#define EXT_CSD_SUPPORTED_MODE\t\t493\t \n#define EXT_CSD_TAG_UNIT_SIZE\t\t498\t \n#define EXT_CSD_DATA_TAG_SUPPORT\t499\t \n#define EXT_CSD_MAX_PACKED_WRITES\t500\t \n#define EXT_CSD_MAX_PACKED_READS\t501\t \n#define EXT_CSD_BKOPS_SUPPORT\t\t502\t \n#define EXT_CSD_HPI_FEATURES\t\t503\t \n\n \n\n#define EXT_CSD_WR_REL_PARAM_EN\t\t(1<<2)\n#define EXT_CSD_WR_REL_PARAM_EN_RPMB_REL_WR\t(1<<4)\n\n#define EXT_CSD_BOOT_WP_B_PWR_WP_DIS\t(0x40)\n#define EXT_CSD_BOOT_WP_B_PERM_WP_DIS\t(0x10)\n#define EXT_CSD_BOOT_WP_B_PERM_WP_EN\t(0x04)\n#define EXT_CSD_BOOT_WP_B_PWR_WP_EN\t(0x01)\n\n#define EXT_CSD_PART_CONFIG_ACC_MASK\t(0x7)\n#define EXT_CSD_PART_CONFIG_ACC_BOOT0\t(0x1)\n#define EXT_CSD_PART_CONFIG_ACC_RPMB\t(0x3)\n#define EXT_CSD_PART_CONFIG_ACC_GP0\t(0x4)\n\n#define EXT_CSD_PART_SETTING_COMPLETED\t(0x1)\n#define EXT_CSD_PART_SUPPORT_PART_EN\t(0x1)\n\n#define EXT_CSD_CMD_SET_NORMAL\t\t(1<<0)\n#define EXT_CSD_CMD_SET_SECURE\t\t(1<<1)\n#define EXT_CSD_CMD_SET_CPSECURE\t(1<<2)\n\n#define EXT_CSD_CARD_TYPE_HS_26\t(1<<0)\t \n#define EXT_CSD_CARD_TYPE_HS_52\t(1<<1)\t \n#define EXT_CSD_CARD_TYPE_HS\t(EXT_CSD_CARD_TYPE_HS_26 | \\\n\t\t\t\t EXT_CSD_CARD_TYPE_HS_52)\n#define EXT_CSD_CARD_TYPE_DDR_1_8V  (1<<2)    \n\t\t\t\t\t      \n#define EXT_CSD_CARD_TYPE_DDR_1_2V  (1<<3)    \n\t\t\t\t\t      \n#define EXT_CSD_CARD_TYPE_DDR_52       (EXT_CSD_CARD_TYPE_DDR_1_8V  \\\n\t\t\t\t\t| EXT_CSD_CARD_TYPE_DDR_1_2V)\n#define EXT_CSD_CARD_TYPE_HS200_1_8V\t(1<<4)\t \n#define EXT_CSD_CARD_TYPE_HS200_1_2V\t(1<<5)\t \n\t\t\t\t\t\t \n#define EXT_CSD_CARD_TYPE_HS200\t\t(EXT_CSD_CARD_TYPE_HS200_1_8V | \\\n\t\t\t\t\t EXT_CSD_CARD_TYPE_HS200_1_2V)\n#define EXT_CSD_CARD_TYPE_HS400_1_8V\t(1<<6)\t \n#define EXT_CSD_CARD_TYPE_HS400_1_2V\t(1<<7)\t \n#define EXT_CSD_CARD_TYPE_HS400\t\t(EXT_CSD_CARD_TYPE_HS400_1_8V | \\\n\t\t\t\t\t EXT_CSD_CARD_TYPE_HS400_1_2V)\n#define EXT_CSD_CARD_TYPE_HS400ES\t(1<<8)\t \n\n#define EXT_CSD_BUS_WIDTH_1\t0\t \n#define EXT_CSD_BUS_WIDTH_4\t1\t \n#define EXT_CSD_BUS_WIDTH_8\t2\t \n#define EXT_CSD_DDR_BUS_WIDTH_4\t5\t \n#define EXT_CSD_DDR_BUS_WIDTH_8\t6\t \n#define EXT_CSD_BUS_WIDTH_STROBE BIT(7)\t \n\n#define EXT_CSD_TIMING_BC\t0\t \n#define EXT_CSD_TIMING_HS\t1\t \n#define EXT_CSD_TIMING_HS200\t2\t \n#define EXT_CSD_TIMING_HS400\t3\t \n#define EXT_CSD_DRV_STR_SHIFT\t4\t \n\n#define EXT_CSD_SEC_ER_EN\tBIT(0)\n#define EXT_CSD_SEC_BD_BLK_EN\tBIT(2)\n#define EXT_CSD_SEC_GB_CL_EN\tBIT(4)\n#define EXT_CSD_SEC_SANITIZE\tBIT(6)   \n\n#define EXT_CSD_RST_N_EN_MASK\t0x3\n#define EXT_CSD_RST_N_ENABLED\t1\t \n\n#define EXT_CSD_NO_POWER_NOTIFICATION\t0\n#define EXT_CSD_POWER_ON\t\t1\n#define EXT_CSD_POWER_OFF_SHORT\t\t2\n#define EXT_CSD_POWER_OFF_LONG\t\t3\n\n#define EXT_CSD_PWR_CL_8BIT_MASK\t0xF0\t \n#define EXT_CSD_PWR_CL_4BIT_MASK\t0x0F\t \n#define EXT_CSD_PWR_CL_8BIT_SHIFT\t4\n#define EXT_CSD_PWR_CL_4BIT_SHIFT\t0\n\n#define EXT_CSD_PACKED_EVENT_EN\tBIT(3)\n\n \n#define EXT_CSD_URGENT_BKOPS\t\tBIT(0)\n#define EXT_CSD_DYNCAP_NEEDED\t\tBIT(1)\n#define EXT_CSD_SYSPOOL_EXHAUSTED\tBIT(2)\n#define EXT_CSD_PACKED_FAILURE\t\tBIT(3)\n\n#define EXT_CSD_PACKED_GENERIC_ERROR\tBIT(0)\n#define EXT_CSD_PACKED_INDEXED_ERROR\tBIT(1)\n\n \n#define EXT_CSD_BKOPS_LEVEL_2\t\t0x2\n\n \n#define EXT_CSD_MANUAL_BKOPS_MASK\t0x01\n#define EXT_CSD_AUTO_BKOPS_MASK\t\t0x02\n\n \n#define EXT_CSD_CMDQ_MODE_ENABLED\tBIT(0)\n#define EXT_CSD_CMDQ_DEPTH_MASK\t\tGENMASK(4, 0)\n#define EXT_CSD_CMDQ_SUPPORTED\t\tBIT(0)\n\n \n#define MMC_SWITCH_MODE_CMD_SET\t\t0x00\t \n#define MMC_SWITCH_MODE_SET_BITS\t0x01\t \n#define MMC_SWITCH_MODE_CLEAR_BITS\t0x02\t \n#define MMC_SWITCH_MODE_WRITE_BYTE\t0x03\t \n\n \n#define MMC_ERASE_ARG\t\t\t0x00000000\n#define MMC_SECURE_ERASE_ARG\t\t0x80000000\n#define MMC_TRIM_ARG\t\t\t0x00000001\n#define MMC_DISCARD_ARG\t\t\t0x00000003\n#define MMC_SECURE_TRIM1_ARG\t\t0x80000001\n#define MMC_SECURE_TRIM2_ARG\t\t0x80008000\n#define MMC_SECURE_ARGS\t\t\t0x80000000\n#define MMC_TRIM_OR_DISCARD_ARGS\t0x00008003\n\n#define mmc_driver_type_mask(n)\t\t(1 << (n))\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}