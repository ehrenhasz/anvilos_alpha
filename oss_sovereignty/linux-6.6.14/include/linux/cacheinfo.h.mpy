{
  "module_name": "cacheinfo.h",
  "hash_id": "0214c0f2044576b6b72d2fc4875185cca9732a2cddde8a0ce765575ec7751ac8",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/cacheinfo.h",
  "human_readable_source": " \n#ifndef _LINUX_CACHEINFO_H\n#define _LINUX_CACHEINFO_H\n\n#include <linux/bitops.h>\n#include <linux/cpumask.h>\n#include <linux/smp.h>\n\nstruct device_node;\nstruct attribute;\n\nenum cache_type {\n\tCACHE_TYPE_NOCACHE = 0,\n\tCACHE_TYPE_INST = BIT(0),\n\tCACHE_TYPE_DATA = BIT(1),\n\tCACHE_TYPE_SEPARATE = CACHE_TYPE_INST | CACHE_TYPE_DATA,\n\tCACHE_TYPE_UNIFIED = BIT(2),\n};\n\nextern unsigned int coherency_max_size;\n\n \nstruct cacheinfo {\n\tunsigned int id;\n\tenum cache_type type;\n\tunsigned int level;\n\tunsigned int coherency_line_size;\n\tunsigned int number_of_sets;\n\tunsigned int ways_of_associativity;\n\tunsigned int physical_line_partition;\n\tunsigned int size;\n\tcpumask_t shared_cpu_map;\n\tunsigned int attributes;\n#define CACHE_WRITE_THROUGH\tBIT(0)\n#define CACHE_WRITE_BACK\tBIT(1)\n#define CACHE_WRITE_POLICY_MASK\t\t\\\n\t(CACHE_WRITE_THROUGH | CACHE_WRITE_BACK)\n#define CACHE_READ_ALLOCATE\tBIT(2)\n#define CACHE_WRITE_ALLOCATE\tBIT(3)\n#define CACHE_ALLOCATE_POLICY_MASK\t\\\n\t(CACHE_READ_ALLOCATE | CACHE_WRITE_ALLOCATE)\n#define CACHE_ID\t\tBIT(4)\n\tvoid *fw_token;\n\tbool disable_sysfs;\n\tvoid *priv;\n};\n\nstruct cpu_cacheinfo {\n\tstruct cacheinfo *info_list;\n\tunsigned int num_levels;\n\tunsigned int num_leaves;\n\tbool cpu_map_populated;\n\tbool early_ci_levels;\n};\n\nstruct cpu_cacheinfo *get_cpu_cacheinfo(unsigned int cpu);\nint early_cache_level(unsigned int cpu);\nint init_cache_level(unsigned int cpu);\nint init_of_cache_level(unsigned int cpu);\nint populate_cache_leaves(unsigned int cpu);\nint cache_setup_acpi(unsigned int cpu);\nbool last_level_cache_is_valid(unsigned int cpu);\nbool last_level_cache_is_shared(unsigned int cpu_x, unsigned int cpu_y);\nint fetch_cache_info(unsigned int cpu);\nint detect_cache_attributes(unsigned int cpu);\n#ifndef CONFIG_ACPI_PPTT\n \nstatic inline\nint acpi_get_cache_info(unsigned int cpu,\n\t\t\tunsigned int *levels, unsigned int *split_levels)\n{\n\treturn -ENOENT;\n}\n#else\nint acpi_get_cache_info(unsigned int cpu,\n\t\t\tunsigned int *levels, unsigned int *split_levels);\n#endif\n\nconst struct attribute_group *cache_get_priv_group(struct cacheinfo *this_leaf);\n\n \nstatic inline int get_cpu_cacheinfo_id(int cpu, int level)\n{\n\tstruct cpu_cacheinfo *ci = get_cpu_cacheinfo(cpu);\n\tint i;\n\n\tfor (i = 0; i < ci->num_leaves; i++) {\n\t\tif (ci->info_list[i].level == level) {\n\t\t\tif (ci->info_list[i].attributes & CACHE_ID)\n\t\t\t\treturn ci->info_list[i].id;\n\t\t\treturn -1;\n\t\t}\n\t}\n\n\treturn -1;\n}\n\n#ifdef CONFIG_ARM64\n#define use_arch_cache_info()\t(true)\n#else\n#define use_arch_cache_info()\t(false)\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}