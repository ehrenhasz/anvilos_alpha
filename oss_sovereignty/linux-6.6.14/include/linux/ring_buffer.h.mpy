{
  "module_name": "ring_buffer.h",
  "hash_id": "c768e8ad9cbe26aa67424142e7f57ee1a7565a0f820946f2db7e3ce8fc77993e",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/ring_buffer.h",
  "human_readable_source": " \n#ifndef _LINUX_RING_BUFFER_H\n#define _LINUX_RING_BUFFER_H\n\n#include <linux/mm.h>\n#include <linux/seq_file.h>\n#include <linux/poll.h>\n\nstruct trace_buffer;\nstruct ring_buffer_iter;\n\n \nstruct ring_buffer_event {\n\tu32\t\ttype_len:5, time_delta:27;\n\n\tu32\t\tarray[];\n};\n\n \nenum ring_buffer_type {\n\tRINGBUF_TYPE_DATA_TYPE_LEN_MAX = 28,\n\tRINGBUF_TYPE_PADDING,\n\tRINGBUF_TYPE_TIME_EXTEND,\n\tRINGBUF_TYPE_TIME_STAMP,\n};\n\nunsigned ring_buffer_event_length(struct ring_buffer_event *event);\nvoid *ring_buffer_event_data(struct ring_buffer_event *event);\nu64 ring_buffer_event_time_stamp(struct trace_buffer *buffer,\n\t\t\t\t struct ring_buffer_event *event);\n\n \nvoid ring_buffer_discard_commit(struct trace_buffer *buffer,\n\t\t\t\tstruct ring_buffer_event *event);\n\n \nstruct trace_buffer *\n__ring_buffer_alloc(unsigned long size, unsigned flags, struct lock_class_key *key);\n\n \n#define ring_buffer_alloc(size, flags)\t\t\t\\\n({\t\t\t\t\t\t\t\\\n\tstatic struct lock_class_key __key;\t\t\\\n\t__ring_buffer_alloc((size), (flags), &__key);\t\\\n})\n\nint ring_buffer_wait(struct trace_buffer *buffer, int cpu, int full);\n__poll_t ring_buffer_poll_wait(struct trace_buffer *buffer, int cpu,\n\t\t\t  struct file *filp, poll_table *poll_table, int full);\nvoid ring_buffer_wake_waiters(struct trace_buffer *buffer, int cpu);\n\n#define RING_BUFFER_ALL_CPUS -1\n\nvoid ring_buffer_free(struct trace_buffer *buffer);\n\nint ring_buffer_resize(struct trace_buffer *buffer, unsigned long size, int cpu);\n\nvoid ring_buffer_change_overwrite(struct trace_buffer *buffer, int val);\n\nstruct ring_buffer_event *ring_buffer_lock_reserve(struct trace_buffer *buffer,\n\t\t\t\t\t\t   unsigned long length);\nint ring_buffer_unlock_commit(struct trace_buffer *buffer);\nint ring_buffer_write(struct trace_buffer *buffer,\n\t\t      unsigned long length, void *data);\n\nvoid ring_buffer_nest_start(struct trace_buffer *buffer);\nvoid ring_buffer_nest_end(struct trace_buffer *buffer);\n\nstruct ring_buffer_event *\nring_buffer_peek(struct trace_buffer *buffer, int cpu, u64 *ts,\n\t\t unsigned long *lost_events);\nstruct ring_buffer_event *\nring_buffer_consume(struct trace_buffer *buffer, int cpu, u64 *ts,\n\t\t    unsigned long *lost_events);\n\nstruct ring_buffer_iter *\nring_buffer_read_prepare(struct trace_buffer *buffer, int cpu, gfp_t flags);\nvoid ring_buffer_read_prepare_sync(void);\nvoid ring_buffer_read_start(struct ring_buffer_iter *iter);\nvoid ring_buffer_read_finish(struct ring_buffer_iter *iter);\n\nstruct ring_buffer_event *\nring_buffer_iter_peek(struct ring_buffer_iter *iter, u64 *ts);\nvoid ring_buffer_iter_advance(struct ring_buffer_iter *iter);\nvoid ring_buffer_iter_reset(struct ring_buffer_iter *iter);\nint ring_buffer_iter_empty(struct ring_buffer_iter *iter);\nbool ring_buffer_iter_dropped(struct ring_buffer_iter *iter);\n\nunsigned long ring_buffer_size(struct trace_buffer *buffer, int cpu);\n\nvoid ring_buffer_reset_cpu(struct trace_buffer *buffer, int cpu);\nvoid ring_buffer_reset_online_cpus(struct trace_buffer *buffer);\nvoid ring_buffer_reset(struct trace_buffer *buffer);\n\n#ifdef CONFIG_RING_BUFFER_ALLOW_SWAP\nint ring_buffer_swap_cpu(struct trace_buffer *buffer_a,\n\t\t\t struct trace_buffer *buffer_b, int cpu);\n#else\nstatic inline int\nring_buffer_swap_cpu(struct trace_buffer *buffer_a,\n\t\t     struct trace_buffer *buffer_b, int cpu)\n{\n\treturn -ENODEV;\n}\n#endif\n\nbool ring_buffer_empty(struct trace_buffer *buffer);\nbool ring_buffer_empty_cpu(struct trace_buffer *buffer, int cpu);\n\nvoid ring_buffer_record_disable(struct trace_buffer *buffer);\nvoid ring_buffer_record_enable(struct trace_buffer *buffer);\nvoid ring_buffer_record_off(struct trace_buffer *buffer);\nvoid ring_buffer_record_on(struct trace_buffer *buffer);\nbool ring_buffer_record_is_on(struct trace_buffer *buffer);\nbool ring_buffer_record_is_set_on(struct trace_buffer *buffer);\nvoid ring_buffer_record_disable_cpu(struct trace_buffer *buffer, int cpu);\nvoid ring_buffer_record_enable_cpu(struct trace_buffer *buffer, int cpu);\n\nu64 ring_buffer_oldest_event_ts(struct trace_buffer *buffer, int cpu);\nunsigned long ring_buffer_bytes_cpu(struct trace_buffer *buffer, int cpu);\nunsigned long ring_buffer_entries(struct trace_buffer *buffer);\nunsigned long ring_buffer_overruns(struct trace_buffer *buffer);\nunsigned long ring_buffer_entries_cpu(struct trace_buffer *buffer, int cpu);\nunsigned long ring_buffer_overrun_cpu(struct trace_buffer *buffer, int cpu);\nunsigned long ring_buffer_commit_overrun_cpu(struct trace_buffer *buffer, int cpu);\nunsigned long ring_buffer_dropped_events_cpu(struct trace_buffer *buffer, int cpu);\nunsigned long ring_buffer_read_events_cpu(struct trace_buffer *buffer, int cpu);\n\nu64 ring_buffer_time_stamp(struct trace_buffer *buffer);\nvoid ring_buffer_normalize_time_stamp(struct trace_buffer *buffer,\n\t\t\t\t      int cpu, u64 *ts);\nvoid ring_buffer_set_clock(struct trace_buffer *buffer,\n\t\t\t   u64 (*clock)(void));\nvoid ring_buffer_set_time_stamp_abs(struct trace_buffer *buffer, bool abs);\nbool ring_buffer_time_stamp_abs(struct trace_buffer *buffer);\n\nsize_t ring_buffer_nr_pages(struct trace_buffer *buffer, int cpu);\nsize_t ring_buffer_nr_dirty_pages(struct trace_buffer *buffer, int cpu);\n\nvoid *ring_buffer_alloc_read_page(struct trace_buffer *buffer, int cpu);\nvoid ring_buffer_free_read_page(struct trace_buffer *buffer, int cpu, void *data);\nint ring_buffer_read_page(struct trace_buffer *buffer, void **data_page,\n\t\t\t  size_t len, int cpu, int full);\n\nstruct trace_seq;\n\nint ring_buffer_print_entry_header(struct trace_seq *s);\nint ring_buffer_print_page_header(struct trace_seq *s);\n\nenum ring_buffer_flags {\n\tRB_FL_OVERWRITE\t\t= 1 << 0,\n};\n\n#ifdef CONFIG_RING_BUFFER\nint trace_rb_cpu_prepare(unsigned int cpu, struct hlist_node *node);\n#else\n#define trace_rb_cpu_prepare\tNULL\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}