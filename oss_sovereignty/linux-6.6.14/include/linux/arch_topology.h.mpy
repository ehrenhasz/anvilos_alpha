{
  "module_name": "arch_topology.h",
  "hash_id": "78838f2cddea762787c49efe0621381cc1ed0e476ad7ac4559bfd8f090e39f82",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/arch_topology.h",
  "human_readable_source": " \n \n#ifndef _LINUX_ARCH_TOPOLOGY_H_\n#define _LINUX_ARCH_TOPOLOGY_H_\n\n#include <linux/types.h>\n#include <linux/percpu.h>\n\nvoid topology_normalize_cpu_scale(void);\nint topology_update_cpu_topology(void);\n\n#ifdef CONFIG_ACPI_CPPC_LIB\nvoid topology_init_cpu_capacity_cppc(void);\n#endif\n\nstruct device_node;\nbool topology_parse_cpu_capacity(struct device_node *cpu_node, int cpu);\n\nDECLARE_PER_CPU(unsigned long, cpu_scale);\n\nstatic inline unsigned long topology_get_cpu_scale(int cpu)\n{\n\treturn per_cpu(cpu_scale, cpu);\n}\n\nvoid topology_set_cpu_scale(unsigned int cpu, unsigned long capacity);\n\nDECLARE_PER_CPU(unsigned long, arch_freq_scale);\n\nstatic inline unsigned long topology_get_freq_scale(int cpu)\n{\n\treturn per_cpu(arch_freq_scale, cpu);\n}\n\nvoid topology_set_freq_scale(const struct cpumask *cpus, unsigned long cur_freq,\n\t\t\t     unsigned long max_freq);\nbool topology_scale_freq_invariant(void);\n\nenum scale_freq_source {\n\tSCALE_FREQ_SOURCE_CPUFREQ = 0,\n\tSCALE_FREQ_SOURCE_ARCH,\n\tSCALE_FREQ_SOURCE_CPPC,\n};\n\nstruct scale_freq_data {\n\tenum scale_freq_source source;\n\tvoid (*set_freq_scale)(void);\n};\n\nvoid topology_scale_freq_tick(void);\nvoid topology_set_scale_freq_source(struct scale_freq_data *data, const struct cpumask *cpus);\nvoid topology_clear_scale_freq_source(enum scale_freq_source source, const struct cpumask *cpus);\n\nDECLARE_PER_CPU(unsigned long, thermal_pressure);\n\nstatic inline unsigned long topology_get_thermal_pressure(int cpu)\n{\n\treturn per_cpu(thermal_pressure, cpu);\n}\n\nvoid topology_update_thermal_pressure(const struct cpumask *cpus,\n\t\t\t\t      unsigned long capped_freq);\n\nstruct cpu_topology {\n\tint thread_id;\n\tint core_id;\n\tint cluster_id;\n\tint package_id;\n\tcpumask_t thread_sibling;\n\tcpumask_t core_sibling;\n\tcpumask_t cluster_sibling;\n\tcpumask_t llc_sibling;\n};\n\n#ifdef CONFIG_GENERIC_ARCH_TOPOLOGY\nextern struct cpu_topology cpu_topology[NR_CPUS];\n\n#define topology_physical_package_id(cpu)\t(cpu_topology[cpu].package_id)\n#define topology_cluster_id(cpu)\t(cpu_topology[cpu].cluster_id)\n#define topology_core_id(cpu)\t\t(cpu_topology[cpu].core_id)\n#define topology_core_cpumask(cpu)\t(&cpu_topology[cpu].core_sibling)\n#define topology_sibling_cpumask(cpu)\t(&cpu_topology[cpu].thread_sibling)\n#define topology_cluster_cpumask(cpu)\t(&cpu_topology[cpu].cluster_sibling)\n#define topology_llc_cpumask(cpu)\t(&cpu_topology[cpu].llc_sibling)\nvoid init_cpu_topology(void);\nvoid store_cpu_topology(unsigned int cpuid);\nconst struct cpumask *cpu_coregroup_mask(int cpu);\nconst struct cpumask *cpu_clustergroup_mask(int cpu);\nvoid update_siblings_masks(unsigned int cpu);\nvoid remove_cpu_topology(unsigned int cpuid);\nvoid reset_cpu_topology(void);\nint parse_acpi_topology(void);\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}