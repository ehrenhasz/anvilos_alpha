{
  "module_name": "dma-fence-chain.h",
  "hash_id": "41c36b01bc06cf664606a847f1f571da582d2bcb4680d3ebb9e02804a3a2ef23",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/dma-fence-chain.h",
  "human_readable_source": " \n \n\n#ifndef __LINUX_DMA_FENCE_CHAIN_H\n#define __LINUX_DMA_FENCE_CHAIN_H\n\n#include <linux/dma-fence.h>\n#include <linux/irq_work.h>\n#include <linux/slab.h>\n\n \nstruct dma_fence_chain {\n\tstruct dma_fence base;\n\tstruct dma_fence __rcu *prev;\n\tu64 prev_seqno;\n\tstruct dma_fence *fence;\n\tunion {\n\t\t \n\t\tstruct dma_fence_cb cb;\n\n\t\t \n\t\tstruct irq_work work;\n\t};\n\tspinlock_t lock;\n};\n\n\n \nstatic inline struct dma_fence_chain *\nto_dma_fence_chain(struct dma_fence *fence)\n{\n\tif (!fence || !dma_fence_is_chain(fence))\n\t\treturn NULL;\n\n\treturn container_of(fence, struct dma_fence_chain, base);\n}\n\n \nstatic inline struct dma_fence *\ndma_fence_chain_contained(struct dma_fence *fence)\n{\n\tstruct dma_fence_chain *chain = to_dma_fence_chain(fence);\n\n\treturn chain ? chain->fence : fence;\n}\n\n \nstatic inline struct dma_fence_chain *dma_fence_chain_alloc(void)\n{\n\treturn kmalloc(sizeof(struct dma_fence_chain), GFP_KERNEL);\n};\n\n \nstatic inline void dma_fence_chain_free(struct dma_fence_chain *chain)\n{\n\tkfree(chain);\n};\n\n \n#define dma_fence_chain_for_each(iter, head)\t\\\n\tfor (iter = dma_fence_get(head); iter; \\\n\t     iter = dma_fence_chain_walk(iter))\n\nstruct dma_fence *dma_fence_chain_walk(struct dma_fence *fence);\nint dma_fence_chain_find_seqno(struct dma_fence **pfence, uint64_t seqno);\nvoid dma_fence_chain_init(struct dma_fence_chain *chain,\n\t\t\t  struct dma_fence *prev,\n\t\t\t  struct dma_fence *fence,\n\t\t\t  uint64_t seqno);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}