{
  "module_name": "most.h",
  "hash_id": "5a31c32c8358396465d040795b81fe9e8f4b054a99391aa5ff9a776cdf4cf9ad",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/most.h",
  "human_readable_source": " \n \n\n#ifndef __MOST_CORE_H__\n#define __MOST_CORE_H__\n\n#include <linux/types.h>\n#include <linux/device.h>\n\nstruct module;\nstruct interface_private;\n\n \nenum most_interface_type {\n\tITYPE_LOOPBACK = 1,\n\tITYPE_I2C,\n\tITYPE_I2S,\n\tITYPE_TSI,\n\tITYPE_HBI,\n\tITYPE_MEDIALB_DIM,\n\tITYPE_MEDIALB_DIM2,\n\tITYPE_USB,\n\tITYPE_PCIE\n};\n\n \nenum most_channel_direction {\n\tMOST_CH_RX = 1 << 0,\n\tMOST_CH_TX = 1 << 1,\n};\n\n \nenum most_channel_data_type {\n\tMOST_CH_CONTROL = 1 << 0,\n\tMOST_CH_ASYNC = 1 << 1,\n\tMOST_CH_ISOC = 1 << 2,\n\tMOST_CH_SYNC = 1 << 5,\n};\n\nenum most_status_flags {\n\t \n\tMBO_SUCCESS = 0,\n\t \n\tMBO_E_INVAL,\n\t \n\tMBO_E_CLOSE,\n};\n\n \nstruct most_channel_capability {\n\tu16 direction;\n\tu16 data_type;\n\tu16 num_buffers_packet;\n\tu16 buffer_size_packet;\n\tu16 num_buffers_streaming;\n\tu16 buffer_size_streaming;\n\tconst char *name_suffix;\n};\n\n \nstruct most_channel_config {\n\tenum most_channel_direction direction;\n\tenum most_channel_data_type data_type;\n\tu16 num_buffers;\n\tu16 buffer_size;\n\tu16 extra_len;\n\tu16 subbuffer_size;\n\tu16 packets_per_xact;\n\tu16 dbr_size;\n};\n\n \nstruct mbo {\n\tvoid *context;\n\tvoid *priv;\n\tstruct list_head list;\n\tstruct most_interface *ifp;\n\tint *num_buffers_ptr;\n\tu16 hdm_channel_id;\n\tvoid *virt_address;\n\tdma_addr_t bus_address;\n\tu16 buffer_length;\n\tu16 processed_length;\n\tenum most_status_flags status;\n\tvoid (*complete)(struct mbo *mbo);\n};\n\n \nstruct most_interface {\n\tstruct device *dev;\n\tstruct device *driver_dev;\n\tstruct module *mod;\n\tenum most_interface_type interface;\n\tconst char *description;\n\tunsigned int num_channels;\n\tstruct most_channel_capability *channel_vector;\n\tvoid *(*dma_alloc)(struct mbo *mbo, u32 size);\n\tvoid (*dma_free)(struct mbo *mbo, u32 size);\n\tint (*configure)(struct most_interface *iface, int channel_idx,\n\t\t\t struct most_channel_config *channel_config);\n\tint (*enqueue)(struct most_interface *iface, int channel_idx,\n\t\t       struct mbo *mbo);\n\tint (*poison_channel)(struct most_interface *iface, int channel_idx);\n\tvoid (*request_netinfo)(struct most_interface *iface, int channel_idx,\n\t\t\t\tvoid (*on_netinfo)(struct most_interface *iface,\n\t\t\t\t\t\t   unsigned char link_stat,\n\t\t\t\t\t\t   unsigned char *mac_addr));\n\tvoid *priv;\n\tstruct interface_private *p;\n};\n\n \nstruct most_component {\n\tstruct list_head list;\n\tconst char *name;\n\tstruct module *mod;\n\tint (*probe_channel)(struct most_interface *iface, int channel_idx,\n\t\t\t     struct most_channel_config *cfg, char *name,\n\t\t\t     char *param);\n\tint (*disconnect_channel)(struct most_interface *iface,\n\t\t\t\t  int channel_idx);\n\tint (*rx_completion)(struct mbo *mbo);\n\tint (*tx_completion)(struct most_interface *iface, int channel_idx);\n\tint (*cfg_complete)(void);\n};\n\n \nint most_register_interface(struct most_interface *iface);\n\n \nvoid most_deregister_interface(struct most_interface *iface);\nvoid most_submit_mbo(struct mbo *mbo);\n\n \nvoid most_stop_enqueue(struct most_interface *iface, int channel_idx);\n\n \nvoid most_resume_enqueue(struct most_interface *iface, int channel_idx);\nint most_register_component(struct most_component *comp);\nint most_deregister_component(struct most_component *comp);\nstruct mbo *most_get_mbo(struct most_interface *iface, int channel_idx,\n\t\t\t struct most_component *comp);\nvoid most_put_mbo(struct mbo *mbo);\nint channel_has_mbo(struct most_interface *iface, int channel_idx,\n\t\t    struct most_component *comp);\nint most_start_channel(struct most_interface *iface, int channel_idx,\n\t\t       struct most_component *comp);\nint most_stop_channel(struct most_interface *iface, int channel_idx,\n\t\t      struct most_component *comp);\nint __init configfs_init(void);\nint most_register_configfs_subsys(struct most_component *comp);\nvoid most_deregister_configfs_subsys(struct most_component *comp);\nint most_add_link(char *mdev, char *mdev_ch, char *comp_name, char *link_name,\n\t\t  char *comp_param);\nint most_remove_link(char *mdev, char *mdev_ch, char *comp_name);\nint most_set_cfg_buffer_size(char *mdev, char *mdev_ch, u16 val);\nint most_set_cfg_subbuffer_size(char *mdev, char *mdev_ch, u16 val);\nint most_set_cfg_dbr_size(char *mdev, char *mdev_ch, u16 val);\nint most_set_cfg_num_buffers(char *mdev, char *mdev_ch, u16 val);\nint most_set_cfg_datatype(char *mdev, char *mdev_ch, char *buf);\nint most_set_cfg_direction(char *mdev, char *mdev_ch, char *buf);\nint most_set_cfg_packets_xact(char *mdev, char *mdev_ch, u16 val);\nint most_cfg_complete(char *comp_name);\nvoid most_interface_register_notify(const char *mdev_name);\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}