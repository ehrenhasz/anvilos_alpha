{
  "module_name": "fb.h",
  "hash_id": "a049e819bd99ab5469247e05fe9429e73e9d9573817919f1bd2550406bcc15f8",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/fb.h",
  "human_readable_source": " \n#ifndef _LINUX_FB_H\n#define _LINUX_FB_H\n\n#include <linux/refcount.h>\n#include <linux/kgdb.h>\n#include <uapi/linux/fb.h>\n\n#define FBIO_CURSOR            _IOWR('F', 0x08, struct fb_cursor_user)\n\n#include <linux/fs.h>\n#include <linux/init.h>\n#include <linux/workqueue.h>\n#include <linux/notifier.h>\n#include <linux/list.h>\n#include <linux/backlight.h>\n#include <linux/slab.h>\n\n#include <asm/fb.h>\n\nstruct vm_area_struct;\nstruct fb_info;\nstruct device;\nstruct file;\nstruct videomode;\nstruct device_node;\n\n \n#define FB_DPMS_ACTIVE_OFF\t1\n#define FB_DPMS_SUSPEND\t\t2\n#define FB_DPMS_STANDBY\t\t4\n\n#define FB_DISP_DDI\t\t1\n#define FB_DISP_ANA_700_300\t2\n#define FB_DISP_ANA_714_286\t4\n#define FB_DISP_ANA_1000_400\t8\n#define FB_DISP_ANA_700_000\t16\n\n#define FB_DISP_MONO\t\t32\n#define FB_DISP_RGB\t\t64\n#define FB_DISP_MULTI\t\t128\n#define FB_DISP_UNKNOWN\t\t256\n\n#define FB_SIGNAL_NONE\t\t0\n#define FB_SIGNAL_BLANK_BLANK\t1\n#define FB_SIGNAL_SEPARATE\t2\n#define FB_SIGNAL_COMPOSITE\t4\n#define FB_SIGNAL_SYNC_ON_GREEN\t8\n#define FB_SIGNAL_SERRATION_ON\t16\n\n#define FB_MISC_PRIM_COLOR\t1\n#define FB_MISC_1ST_DETAIL\t2\t \n#define FB_MISC_HDMI\t\t4\nstruct fb_chroma {\n\t__u32 redx;\t \n\t__u32 greenx;\n\t__u32 bluex;\n\t__u32 whitex;\n\t__u32 redy;\n\t__u32 greeny;\n\t__u32 bluey;\n\t__u32 whitey;\n};\n\nstruct fb_monspecs {\n\tstruct fb_chroma chroma;\n\tstruct fb_videomode *modedb;\t \n\t__u8  manufacturer[4];\t\t \n\t__u8  monitor[14];\t\t \n\t__u8  serial_no[14];\t\t \n\t__u8  ascii[14];\t\t \n\t__u32 modedb_len;\t\t \n\t__u32 model;\t\t\t \n\t__u32 serial;\t\t\t \n\t__u32 year;\t\t\t \n\t__u32 week;\t\t\t \n\t__u32 hfmin;\t\t\t \n\t__u32 hfmax;\t\t\t \n\t__u32 dclkmin;\t\t\t \n\t__u32 dclkmax;\t\t\t \n\t__u16 input;\t\t\t \n\t__u16 dpms;\t\t\t \n\t__u16 signal;\t\t\t \n\t__u16 vfmin;\t\t\t \n\t__u16 vfmax;\t\t\t \n\t__u16 gamma;\t\t\t \n\t__u16 gtf\t: 1;\t\t \n\t__u16 misc;\t\t\t \n\t__u8  version;\t\t\t \n\t__u8  revision;\t\t\t \n\t__u8  max_x;\t\t\t \n\t__u8  max_y;\t\t\t \n};\n\nstruct fb_cmap_user {\n\t__u32 start;\t\t\t \n\t__u32 len;\t\t\t \n\t__u16 __user *red;\t\t \n\t__u16 __user *green;\n\t__u16 __user *blue;\n\t__u16 __user *transp;\t\t \n};\n\nstruct fb_image_user {\n\t__u32 dx;\t\t\t \n\t__u32 dy;\n\t__u32 width;\t\t\t \n\t__u32 height;\n\t__u32 fg_color;\t\t\t \n\t__u32 bg_color;\n\t__u8  depth;\t\t\t \n\tconst char __user *data;\t \n\tstruct fb_cmap_user cmap;\t \n};\n\nstruct fb_cursor_user {\n\t__u16 set;\t\t\t \n\t__u16 enable;\t\t\t \n\t__u16 rop;\t\t\t \n\tconst char __user *mask;\t \n\tstruct fbcurpos hot;\t\t \n\tstruct fb_image_user image;\t \n};\n\n \n\n \n#define FB_EVENT_MODE_CHANGE\t\t0x01\n\n#ifdef CONFIG_GUMSTIX_AM200EPD\n \n#define FB_EVENT_FB_REGISTERED          0x05\n#define FB_EVENT_FB_UNREGISTERED        0x06\n#endif\n\n \n#define FB_EVENT_BLANK                  0x09\n\nstruct fb_event {\n\tstruct fb_info *info;\n\tvoid *data;\n};\n\nstruct fb_blit_caps {\n\tu32 x;\n\tu32 y;\n\tu32 len;\n\tu32 flags;\n};\n\n#ifdef CONFIG_FB_NOTIFY\nextern int fb_register_client(struct notifier_block *nb);\nextern int fb_unregister_client(struct notifier_block *nb);\nextern int fb_notifier_call_chain(unsigned long val, void *v);\n#else\nstatic inline int fb_register_client(struct notifier_block *nb)\n{\n\treturn 0;\n};\n\nstatic inline int fb_unregister_client(struct notifier_block *nb)\n{\n\treturn 0;\n};\n\nstatic inline int fb_notifier_call_chain(unsigned long val, void *v)\n{\n\treturn 0;\n};\n#endif\n\n \n\n#define FB_PIXMAP_DEFAULT 1      \n#define FB_PIXMAP_SYSTEM  2      \n#define FB_PIXMAP_IO      4      \n#define FB_PIXMAP_SYNC    256    \n\nstruct fb_pixmap {\n\tu8  *addr;\t\t \n\tu32 size;\t\t \n\tu32 offset;\t\t \n\tu32 buf_align;\t\t \n\tu32 scan_align;\t\t \n\tu32 access_align;\t \n\tu32 flags;\t\t \n\tu32 blit_x;              \n\tu32 blit_y;              \n\t                         \n\t                         \n\t \n\tvoid (*writeio)(struct fb_info *info, void __iomem *dst, void *src, unsigned int size);\n\tvoid (*readio) (struct fb_info *info, void *dst, void __iomem *src, unsigned int size);\n};\n\n#ifdef CONFIG_FB_DEFERRED_IO\nstruct fb_deferred_io_pageref {\n\tstruct page *page;\n\tunsigned long offset;\n\t \n\tstruct list_head list;\n};\n\nstruct fb_deferred_io {\n\t \n\tunsigned long delay;\n\tbool sort_pagereflist;  \n\tint open_count;  \n\tstruct mutex lock;  \n\tstruct list_head pagereflist;  \n\t \n\tvoid (*deferred_io)(struct fb_info *info, struct list_head *pagelist);\n};\n#endif\n\n \n\nstruct fb_ops {\n\t \n\tstruct module *owner;\n\tint (*fb_open)(struct fb_info *info, int user);\n\tint (*fb_release)(struct fb_info *info, int user);\n\n\t \n\tssize_t (*fb_read)(struct fb_info *info, char __user *buf,\n\t\t\t   size_t count, loff_t *ppos);\n\tssize_t (*fb_write)(struct fb_info *info, const char __user *buf,\n\t\t\t    size_t count, loff_t *ppos);\n\n\t \n\tint (*fb_check_var)(struct fb_var_screeninfo *var, struct fb_info *info);\n\n\t \n\tint (*fb_set_par)(struct fb_info *info);\n\n\t \n\tint (*fb_setcolreg)(unsigned regno, unsigned red, unsigned green,\n\t\t\t    unsigned blue, unsigned transp, struct fb_info *info);\n\n\t \n\tint (*fb_setcmap)(struct fb_cmap *cmap, struct fb_info *info);\n\n\t \n\tint (*fb_blank)(int blank, struct fb_info *info);\n\n\t \n\tint (*fb_pan_display)(struct fb_var_screeninfo *var, struct fb_info *info);\n\n\t \n\tvoid (*fb_fillrect) (struct fb_info *info, const struct fb_fillrect *rect);\n\t \n\tvoid (*fb_copyarea) (struct fb_info *info, const struct fb_copyarea *region);\n\t \n\tvoid (*fb_imageblit) (struct fb_info *info, const struct fb_image *image);\n\n\t \n\tint (*fb_cursor) (struct fb_info *info, struct fb_cursor *cursor);\n\n\t \n\tint (*fb_sync)(struct fb_info *info);\n\n\t \n\tint (*fb_ioctl)(struct fb_info *info, unsigned int cmd,\n\t\t\tunsigned long arg);\n\n\t \n\tint (*fb_compat_ioctl)(struct fb_info *info, unsigned cmd,\n\t\t\tunsigned long arg);\n\n\t \n\tint (*fb_mmap)(struct fb_info *info, struct vm_area_struct *vma);\n\n\t \n\tvoid (*fb_get_caps)(struct fb_info *info, struct fb_blit_caps *caps,\n\t\t\t    struct fb_var_screeninfo *var);\n\n\t \n\tvoid (*fb_destroy)(struct fb_info *info);\n\n\t \n\tint (*fb_debug_enter)(struct fb_info *info);\n\tint (*fb_debug_leave)(struct fb_info *info);\n};\n\n#ifdef CONFIG_FB_TILEBLITTING\n#define FB_TILE_CURSOR_NONE        0\n#define FB_TILE_CURSOR_UNDERLINE   1\n#define FB_TILE_CURSOR_LOWER_THIRD 2\n#define FB_TILE_CURSOR_LOWER_HALF  3\n#define FB_TILE_CURSOR_TWO_THIRDS  4\n#define FB_TILE_CURSOR_BLOCK       5\n\nstruct fb_tilemap {\n\t__u32 width;                 \n\t__u32 height;                \n\t__u32 depth;                 \n\t__u32 length;                \n\tconst __u8 *data;            \n};\n\nstruct fb_tilerect {\n\t__u32 sx;                    \n\t__u32 sy;                    \n\t__u32 width;                 \n\t__u32 height;                \n\t__u32 index;                 \n\t__u32 fg;                    \n\t__u32 bg;                    \n\t__u32 rop;                   \n};\n\nstruct fb_tilearea {\n\t__u32 sx;                    \n\t__u32 sy;                    \n\t__u32 dx;                    \n\t__u32 dy;                    \n\t__u32 width;                 \n\t__u32 height;                \n};\n\nstruct fb_tileblit {\n\t__u32 sx;                    \n\t__u32 sy;                    \n\t__u32 width;                 \n\t__u32 height;                \n\t__u32 fg;                    \n\t__u32 bg;                    \n\t__u32 length;                \n\t__u32 *indices;              \n};\n\nstruct fb_tilecursor {\n\t__u32 sx;                    \n\t__u32 sy;                    \n\t__u32 mode;                  \n\t__u32 shape;                 \n\t__u32 fg;                    \n\t__u32 bg;                    \n};\n\nstruct fb_tile_ops {\n\t \n\tvoid (*fb_settile)(struct fb_info *info, struct fb_tilemap *map);\n\n\t \n\n\t \n\tvoid (*fb_tilecopy)(struct fb_info *info, struct fb_tilearea *area);\n\t \n\tvoid (*fb_tilefill)(struct fb_info *info, struct fb_tilerect *rect);\n\t \n\tvoid (*fb_tileblit)(struct fb_info *info, struct fb_tileblit *blit);\n\t \n\tvoid (*fb_tilecursor)(struct fb_info *info,\n\t\t\t      struct fb_tilecursor *cursor);\n\t \n\tint (*fb_get_tilemax)(struct fb_info *info);\n};\n#endif  \n\n \n#define FBINFO_HWACCEL_DISABLED\t0x0002\n\t \n\n \n#define FBINFO_VIRTFB\t\t0x0004  \n#define FBINFO_PARTIAL_PAN_OK\t0x0040  \n#define FBINFO_READS_FAST\t0x0080  \n\n \n \n#define FBINFO_HWACCEL_NONE\t\t0x0000\n#define FBINFO_HWACCEL_COPYAREA\t\t0x0100  \n#define FBINFO_HWACCEL_FILLRECT\t\t0x0200  \n#define FBINFO_HWACCEL_IMAGEBLIT\t0x0400  \n#define FBINFO_HWACCEL_ROTATE\t\t0x0800  \n#define FBINFO_HWACCEL_XPAN\t\t0x1000  \n#define FBINFO_HWACCEL_YPAN\t\t0x2000  \n#define FBINFO_HWACCEL_YWRAP\t\t0x4000  \n\n#define FBINFO_MISC_TILEBLITTING       0x20000  \n\n \n#define FBINFO_MISC_ALWAYS_SETPAR   0x40000\n\n \n#define FBINFO_FOREIGN_ENDIAN\t0x100000\n \n#define FBINFO_BE_MATH  0x100000\n \n#define FBINFO_HIDE_SMEM_START  0x200000\n\n\nstruct fb_info {\n\trefcount_t count;\n\tint node;\n\tint flags;\n\t \n\tint fbcon_rotate_hint;\n\tstruct mutex lock;\t\t \n\tstruct mutex mm_lock;\t\t \n\tstruct fb_var_screeninfo var;\t \n\tstruct fb_fix_screeninfo fix;\t \n\tstruct fb_monspecs monspecs;\t \n\tstruct fb_pixmap pixmap;\t \n\tstruct fb_pixmap sprite;\t \n\tstruct fb_cmap cmap;\t\t \n\tstruct list_head modelist;       \n\tstruct fb_videomode *mode;\t \n\n#if IS_ENABLED(CONFIG_FB_BACKLIGHT)\n\t \n\t \n\tstruct backlight_device *bl_dev;\n\n\t \n\tstruct mutex bl_curve_mutex;\n\tu8 bl_curve[FB_BACKLIGHT_LEVELS];\n#endif\n#ifdef CONFIG_FB_DEFERRED_IO\n\tstruct delayed_work deferred_work;\n\tunsigned long npagerefs;\n\tstruct fb_deferred_io_pageref *pagerefs;\n\tstruct fb_deferred_io *fbdefio;\n#endif\n\n\tconst struct fb_ops *fbops;\n\tstruct device *device;\t\t \n#if defined(CONFIG_FB_DEVICE)\n\tstruct device *dev;\t\t \n#endif\n\tint class_flag;                     \n#ifdef CONFIG_FB_TILEBLITTING\n\tstruct fb_tile_ops *tileops;     \n#endif\n\tunion {\n\t\tchar __iomem *screen_base;\t \n\t\tchar *screen_buffer;\n\t};\n\tunsigned long screen_size;\t \n\tvoid *pseudo_palette;\t\t \n#define FBINFO_STATE_RUNNING\t0\n#define FBINFO_STATE_SUSPENDED\t1\n\tu32 state;\t\t\t \n\tvoid *fbcon_par;                 \n\t \n\tvoid *par;\n\n\tbool skip_vt_switch;  \n};\n\n \n#define STUPID_ACCELF_TEXT_SHIT\n\n#define FB_LEFT_POS(p, bpp)          (fb_be_math(p) ? (32 - (bpp)) : 0)\n#define FB_SHIFT_HIGH(p, val, bits)  (fb_be_math(p) ? (val) >> (bits) : \\\n\t\t\t\t\t\t      (val) << (bits))\n#define FB_SHIFT_LOW(p, val, bits)   (fb_be_math(p) ? (val) << (bits) : \\\n\t\t\t\t\t\t      (val) >> (bits))\n\n     \n\nextern int fb_set_var(struct fb_info *info, struct fb_var_screeninfo *var);\nextern int fb_pan_display(struct fb_info *info, struct fb_var_screeninfo *var);\nextern int fb_blank(struct fb_info *info, int blank);\n\n \n\nextern void cfb_fillrect(struct fb_info *info, const struct fb_fillrect *rect);\nextern void cfb_copyarea(struct fb_info *info, const struct fb_copyarea *area);\nextern void cfb_imageblit(struct fb_info *info, const struct fb_image *image);\nextern ssize_t fb_io_read(struct fb_info *info, char __user *buf,\n\t\t\t  size_t count, loff_t *ppos);\nextern ssize_t fb_io_write(struct fb_info *info, const char __user *buf,\n\t\t\t   size_t count, loff_t *ppos);\n\n#define __FB_DEFAULT_IOMEM_OPS_RDWR \\\n\t.fb_read\t= fb_io_read, \\\n\t.fb_write\t= fb_io_write\n\n#define __FB_DEFAULT_IOMEM_OPS_DRAW \\\n\t.fb_fillrect\t= cfb_fillrect, \\\n\t.fb_copyarea\t= cfb_copyarea, \\\n\t.fb_imageblit\t= cfb_imageblit\n\n#define __FB_DEFAULT_IOMEM_OPS_MMAP \\\n\t.fb_mmap\t= NULL  \n\n#define FB_DEFAULT_IOMEM_OPS \\\n\t__FB_DEFAULT_IOMEM_OPS_RDWR, \\\n\t__FB_DEFAULT_IOMEM_OPS_DRAW, \\\n\t__FB_DEFAULT_IOMEM_OPS_MMAP\n\n \n\nextern void sys_fillrect(struct fb_info *info, const struct fb_fillrect *rect);\nextern void sys_copyarea(struct fb_info *info, const struct fb_copyarea *area);\nextern void sys_imageblit(struct fb_info *info, const struct fb_image *image);\nextern ssize_t fb_sys_read(struct fb_info *info, char __user *buf,\n\t\t\t   size_t count, loff_t *ppos);\nextern ssize_t fb_sys_write(struct fb_info *info, const char __user *buf,\n\t\t\t    size_t count, loff_t *ppos);\n\n#define __FB_DEFAULT_SYSMEM_OPS_RDWR \\\n\t.fb_read\t= fb_sys_read, \\\n\t.fb_write\t= fb_sys_write\n\n#define __FB_DEFAULT_SYSMEM_OPS_DRAW \\\n\t.fb_fillrect\t= sys_fillrect, \\\n\t.fb_copyarea\t= sys_copyarea, \\\n\t.fb_imageblit\t= sys_imageblit\n\n \n\n#define __FB_DEFAULT_DMAMEM_OPS_RDWR \\\n\t.fb_read\t= fb_sys_read, \\\n\t.fb_write\t= fb_sys_write\n\n#define __FB_DEFAULT_DMAMEM_OPS_DRAW \\\n\t.fb_fillrect\t= sys_fillrect, \\\n\t.fb_copyarea\t= sys_copyarea, \\\n\t.fb_imageblit\t= sys_imageblit\n\n \nextern int register_framebuffer(struct fb_info *fb_info);\nextern void unregister_framebuffer(struct fb_info *fb_info);\nextern int fb_prepare_logo(struct fb_info *fb_info, int rotate);\nextern int fb_show_logo(struct fb_info *fb_info, int rotate);\nextern char* fb_get_buffer_offset(struct fb_info *info, struct fb_pixmap *buf, u32 size);\nextern void fb_pad_unaligned_buffer(u8 *dst, u32 d_pitch, u8 *src, u32 idx,\n\t\t\t\tu32 height, u32 shift_high, u32 shift_low, u32 mod);\nextern void fb_pad_aligned_buffer(u8 *dst, u32 d_pitch, u8 *src, u32 s_pitch, u32 height);\nextern void fb_set_suspend(struct fb_info *info, int state);\nextern int fb_get_color_depth(struct fb_var_screeninfo *var,\n\t\t\t      struct fb_fix_screeninfo *fix);\nextern int fb_get_options(const char *name, char **option);\nextern int fb_new_modelist(struct fb_info *info);\n\nextern bool fb_center_logo;\nextern int fb_logo_count;\n\nstatic inline void lock_fb_info(struct fb_info *info)\n{\n\tmutex_lock(&info->lock);\n}\n\nstatic inline void unlock_fb_info(struct fb_info *info)\n{\n\tmutex_unlock(&info->lock);\n}\n\nstatic inline void __fb_pad_aligned_buffer(u8 *dst, u32 d_pitch,\n\t\t\t\t\t   u8 *src, u32 s_pitch, u32 height)\n{\n\tu32 i, j;\n\n\td_pitch -= s_pitch;\n\n\tfor (i = height; i--; ) {\n\t\t \n\t\tfor (j = 0; j < s_pitch; j++)\n\t\t\t*dst++ = *src++;\n\t\tdst += d_pitch;\n\t}\n}\n\n \nint fb_deferred_io_mmap(struct fb_info *info, struct vm_area_struct *vma);\nextern int  fb_deferred_io_init(struct fb_info *info);\nextern void fb_deferred_io_open(struct fb_info *info,\n\t\t\t\tstruct inode *inode,\n\t\t\t\tstruct file *file);\nextern void fb_deferred_io_release(struct fb_info *info);\nextern void fb_deferred_io_cleanup(struct fb_info *info);\nextern int fb_deferred_io_fsync(struct file *file, loff_t start,\n\t\t\t\tloff_t end, int datasync);\n\n \n\n#define __FB_GEN_DEFAULT_DEFERRED_OPS_RDWR(__prefix, __damage_range, __mode) \\\n\tstatic ssize_t __prefix ## _defio_read(struct fb_info *info, char __user *buf, \\\n\t\t\t\t\t       size_t count, loff_t *ppos) \\\n\t{ \\\n\t\treturn fb_ ## __mode ## _read(info, buf, count, ppos); \\\n\t} \\\n\tstatic ssize_t __prefix ## _defio_write(struct fb_info *info, const char __user *buf, \\\n\t\t\t\t\t\tsize_t count, loff_t *ppos) \\\n\t{ \\\n\t\tunsigned long offset = *ppos; \\\n\t\tssize_t ret = fb_ ## __mode ## _write(info, buf, count, ppos); \\\n\t\tif (ret > 0) \\\n\t\t\t__damage_range(info, offset, ret); \\\n\t\treturn ret; \\\n\t}\n\n#define __FB_GEN_DEFAULT_DEFERRED_OPS_DRAW(__prefix, __damage_area, __mode) \\\n\tstatic void __prefix ## _defio_fillrect(struct fb_info *info, \\\n\t\t\t\t\t\tconst struct fb_fillrect *rect) \\\n\t{ \\\n\t\t__mode ## _fillrect(info, rect); \\\n\t\t__damage_area(info, rect->dx, rect->dy, rect->width, rect->height); \\\n\t} \\\n\tstatic void __prefix ## _defio_copyarea(struct fb_info *info, \\\n\t\t\t\t\t\tconst struct fb_copyarea *area) \\\n\t{ \\\n\t\t__mode ## _copyarea(info, area); \\\n\t\t__damage_area(info, area->dx, area->dy, area->width, area->height); \\\n\t} \\\n\tstatic void __prefix ## _defio_imageblit(struct fb_info *info, \\\n\t\t\t\t\t\t const struct fb_image *image) \\\n\t{ \\\n\t\t__mode ## _imageblit(info, image); \\\n\t\t__damage_area(info, image->dx, image->dy, image->width, image->height); \\\n\t}\n\n#define FB_GEN_DEFAULT_DEFERRED_IOMEM_OPS(__prefix, __damage_range, __damage_area) \\\n\t__FB_GEN_DEFAULT_DEFERRED_OPS_RDWR(__prefix, __damage_range, io) \\\n\t__FB_GEN_DEFAULT_DEFERRED_OPS_DRAW(__prefix, __damage_area, cfb)\n\n#define FB_GEN_DEFAULT_DEFERRED_SYSMEM_OPS(__prefix, __damage_range, __damage_area) \\\n\t__FB_GEN_DEFAULT_DEFERRED_OPS_RDWR(__prefix, __damage_range, sys) \\\n\t__FB_GEN_DEFAULT_DEFERRED_OPS_DRAW(__prefix, __damage_area, sys)\n\n \n\n#define __FB_DEFAULT_DEFERRED_OPS_RDWR(__prefix) \\\n\t.fb_read\t= __prefix ## _defio_read, \\\n\t.fb_write\t= __prefix ## _defio_write\n\n#define __FB_DEFAULT_DEFERRED_OPS_DRAW(__prefix) \\\n\t.fb_fillrect\t= __prefix ## _defio_fillrect, \\\n\t.fb_copyarea\t= __prefix ## _defio_copyarea, \\\n\t.fb_imageblit\t= __prefix ## _defio_imageblit\n\n#define __FB_DEFAULT_DEFERRED_OPS_MMAP(__prefix) \\\n\t.fb_mmap\t= fb_deferred_io_mmap\n\n#define FB_DEFAULT_DEFERRED_OPS(__prefix) \\\n\t__FB_DEFAULT_DEFERRED_OPS_RDWR(__prefix), \\\n\t__FB_DEFAULT_DEFERRED_OPS_DRAW(__prefix), \\\n\t__FB_DEFAULT_DEFERRED_OPS_MMAP(__prefix)\n\nstatic inline bool fb_be_math(struct fb_info *info)\n{\n#ifdef CONFIG_FB_FOREIGN_ENDIAN\n#if defined(CONFIG_FB_BOTH_ENDIAN)\n\treturn info->flags & FBINFO_BE_MATH;\n#elif defined(CONFIG_FB_BIG_ENDIAN)\n\treturn true;\n#elif defined(CONFIG_FB_LITTLE_ENDIAN)\n\treturn false;\n#endif  \n#else\n#ifdef __BIG_ENDIAN\n\treturn true;\n#else\n\treturn false;\n#endif  \n#endif  \n}\n\nextern struct fb_info *framebuffer_alloc(size_t size, struct device *dev);\nextern void framebuffer_release(struct fb_info *info);\nextern void fb_bl_default_curve(struct fb_info *fb_info, u8 off, u8 min, u8 max);\n\n \n#define FB_MAXTIMINGS\t\t0\n#define FB_VSYNCTIMINGS\t\t1\n#define FB_HSYNCTIMINGS\t\t2\n#define FB_DCLKTIMINGS\t\t3\n#define FB_IGNOREMON\t\t0x100\n\n#define FB_MODE_IS_UNKNOWN\t0\n#define FB_MODE_IS_DETAILED\t1\n#define FB_MODE_IS_STANDARD\t2\n#define FB_MODE_IS_VESA\t\t4\n#define FB_MODE_IS_CALCULATED\t8\n#define FB_MODE_IS_FIRST\t16\n#define FB_MODE_IS_FROM_VAR     32\n\nextern int fbmon_dpms(const struct fb_info *fb_info);\nextern int fb_get_mode(int flags, u32 val, struct fb_var_screeninfo *var,\n\t\t       struct fb_info *info);\nextern int fb_validate_mode(const struct fb_var_screeninfo *var,\n\t\t\t    struct fb_info *info);\nextern int fb_parse_edid(unsigned char *edid, struct fb_var_screeninfo *var);\nextern const unsigned char *fb_firmware_edid(struct device *device);\nextern void fb_edid_to_monspecs(unsigned char *edid,\n\t\t\t\tstruct fb_monspecs *specs);\nextern void fb_destroy_modedb(struct fb_videomode *modedb);\nextern int fb_find_mode_cvt(struct fb_videomode *mode, int margins, int rb);\nextern unsigned char *fb_ddc_read(struct i2c_adapter *adapter);\n\nextern int of_get_fb_videomode(struct device_node *np,\n\t\t\t       struct fb_videomode *fb,\n\t\t\t       int index);\nextern int fb_videomode_from_videomode(const struct videomode *vm,\n\t\t\t\t       struct fb_videomode *fbmode);\n\n \n#define VESA_MODEDB_SIZE 43\n#define DMT_SIZE 0x50\n\nextern void fb_var_to_videomode(struct fb_videomode *mode,\n\t\t\t\tconst struct fb_var_screeninfo *var);\nextern void fb_videomode_to_var(struct fb_var_screeninfo *var,\n\t\t\t\tconst struct fb_videomode *mode);\nextern int fb_mode_is_equal(const struct fb_videomode *mode1,\n\t\t\t    const struct fb_videomode *mode2);\nextern int fb_add_videomode(const struct fb_videomode *mode,\n\t\t\t    struct list_head *head);\nextern void fb_delete_videomode(const struct fb_videomode *mode,\n\t\t\t\tstruct list_head *head);\nextern const struct fb_videomode *fb_match_mode(const struct fb_var_screeninfo *var,\n\t\t\t\t\t\tstruct list_head *head);\nextern const struct fb_videomode *fb_find_best_mode(const struct fb_var_screeninfo *var,\n\t\t\t\t\t\t    struct list_head *head);\nextern const struct fb_videomode *fb_find_nearest_mode(const struct fb_videomode *mode,\n\t\t\t\t\t\t       struct list_head *head);\nextern void fb_destroy_modelist(struct list_head *head);\nextern void fb_videomode_to_modelist(const struct fb_videomode *modedb, int num,\n\t\t\t\t     struct list_head *head);\nextern const struct fb_videomode *fb_find_best_display(const struct fb_monspecs *specs,\n\t\t\t\t\t\t       struct list_head *head);\n\n \nextern int fb_alloc_cmap(struct fb_cmap *cmap, int len, int transp);\nextern int fb_alloc_cmap_gfp(struct fb_cmap *cmap, int len, int transp, gfp_t flags);\nextern void fb_dealloc_cmap(struct fb_cmap *cmap);\nextern int fb_copy_cmap(const struct fb_cmap *from, struct fb_cmap *to);\nextern int fb_cmap_to_user(const struct fb_cmap *from, struct fb_cmap_user *to);\nextern int fb_set_cmap(struct fb_cmap *cmap, struct fb_info *fb_info);\nextern int fb_set_user_cmap(struct fb_cmap_user *cmap, struct fb_info *fb_info);\nextern const struct fb_cmap *fb_default_cmap(int len);\nextern void fb_invert_cmaps(void);\n\nstruct fb_videomode {\n\tconst char *name;\t \n\tu32 refresh;\t\t \n\tu32 xres;\n\tu32 yres;\n\tu32 pixclock;\n\tu32 left_margin;\n\tu32 right_margin;\n\tu32 upper_margin;\n\tu32 lower_margin;\n\tu32 hsync_len;\n\tu32 vsync_len;\n\tu32 sync;\n\tu32 vmode;\n\tu32 flag;\n};\n\nstruct dmt_videomode {\n\tu32 dmt_id;\n\tu32 std_2byte_code;\n\tu32 cvt_3byte_code;\n\tconst struct fb_videomode *mode;\n};\n\nextern const struct fb_videomode vesa_modes[];\nextern const struct dmt_videomode dmt_modes[];\n\nstruct fb_modelist {\n\tstruct list_head list;\n\tstruct fb_videomode mode;\n};\n\nextern int fb_find_mode(struct fb_var_screeninfo *var,\n\t\t\tstruct fb_info *info, const char *mode_option,\n\t\t\tconst struct fb_videomode *db,\n\t\t\tunsigned int dbsize,\n\t\t\tconst struct fb_videomode *default_mode,\n\t\t\tunsigned int default_bpp);\n\n#if defined(CONFIG_VIDEO_NOMODESET)\nbool fb_modesetting_disabled(const char *drvname);\n#else\nstatic inline bool fb_modesetting_disabled(const char *drvname)\n{\n\treturn false;\n}\n#endif\n\n \n#define fb_err(fb_info, fmt, ...)\t\t\t\t\t\\\n\tpr_err(\"fb%d: \" fmt, (fb_info)->node, ##__VA_ARGS__)\n#define fb_notice(info, fmt, ...)\t\t\t\t\t\\\n\tpr_notice(\"fb%d: \" fmt, (fb_info)->node, ##__VA_ARGS__)\n#define fb_warn(fb_info, fmt, ...)\t\t\t\t\t\\\n\tpr_warn(\"fb%d: \" fmt, (fb_info)->node, ##__VA_ARGS__)\n#define fb_info(fb_info, fmt, ...)\t\t\t\t\t\\\n\tpr_info(\"fb%d: \" fmt, (fb_info)->node, ##__VA_ARGS__)\n#define fb_dbg(fb_info, fmt, ...)\t\t\t\t\t\\\n\tpr_debug(\"fb%d: \" fmt, (fb_info)->node, ##__VA_ARGS__)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}