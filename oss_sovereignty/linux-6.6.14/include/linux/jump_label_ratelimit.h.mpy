{
  "module_name": "jump_label_ratelimit.h",
  "hash_id": "74a79c5527f623dd97fcd4ff1928392501d47ac31f7fe3d16775f0b214e05256",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/jump_label_ratelimit.h",
  "human_readable_source": " \n#ifndef _LINUX_JUMP_LABEL_RATELIMIT_H\n#define _LINUX_JUMP_LABEL_RATELIMIT_H\n\n#include <linux/jump_label.h>\n#include <linux/workqueue.h>\n\n#if defined(CONFIG_JUMP_LABEL)\nstruct static_key_deferred {\n\tstruct static_key key;\n\tunsigned long timeout;\n\tstruct delayed_work work;\n};\n\nstruct static_key_true_deferred {\n\tstruct static_key_true key;\n\tunsigned long timeout;\n\tstruct delayed_work work;\n};\n\nstruct static_key_false_deferred {\n\tstruct static_key_false key;\n\tunsigned long timeout;\n\tstruct delayed_work work;\n};\n\n#define static_key_slow_dec_deferred(x)\t\t\t\t\t\\\n\t__static_key_slow_dec_deferred(&(x)->key, &(x)->work, (x)->timeout)\n#define static_branch_slow_dec_deferred(x)\t\t\t\t\\\n\t__static_key_slow_dec_deferred(&(x)->key.key, &(x)->work, (x)->timeout)\n\n#define static_key_deferred_flush(x)\t\t\t\t\t\\\n\t__static_key_deferred_flush((x), &(x)->work)\n\nextern void\n__static_key_slow_dec_deferred(struct static_key *key,\n\t\t\t       struct delayed_work *work,\n\t\t\t       unsigned long timeout);\nextern void __static_key_deferred_flush(void *key, struct delayed_work *work);\nextern void\njump_label_rate_limit(struct static_key_deferred *key, unsigned long rl);\n\nextern void jump_label_update_timeout(struct work_struct *work);\n\n#define DEFINE_STATIC_KEY_DEFERRED_TRUE(name, rl)\t\t\t\\\n\tstruct static_key_true_deferred name = {\t\t\t\\\n\t\t.key =\t\t{ STATIC_KEY_INIT_TRUE },\t\t\\\n\t\t.timeout =\t(rl),\t\t\t\t\t\\\n\t\t.work =\t__DELAYED_WORK_INITIALIZER((name).work,\t\t\\\n\t\t\t\t\t\t   jump_label_update_timeout, \\\n\t\t\t\t\t\t   0),\t\t\t\\\n\t}\n\n#define DEFINE_STATIC_KEY_DEFERRED_FALSE(name, rl)\t\t\t\\\n\tstruct static_key_false_deferred name = {\t\t\t\\\n\t\t.key =\t\t{ STATIC_KEY_INIT_FALSE },\t\t\\\n\t\t.timeout =\t(rl),\t\t\t\t\t\\\n\t\t.work =\t__DELAYED_WORK_INITIALIZER((name).work,\t\t\\\n\t\t\t\t\t\t   jump_label_update_timeout, \\\n\t\t\t\t\t\t   0),\t\t\t\\\n\t}\n\n#else\t \nstruct static_key_deferred {\n\tstruct static_key  key;\n};\nstruct static_key_true_deferred {\n\tstruct static_key_true key;\n};\nstruct static_key_false_deferred {\n\tstruct static_key_false key;\n};\n#define DEFINE_STATIC_KEY_DEFERRED_TRUE(name, rl)\t\\\n\tstruct static_key_true_deferred name = { STATIC_KEY_TRUE_INIT }\n#define DEFINE_STATIC_KEY_DEFERRED_FALSE(name, rl)\t\\\n\tstruct static_key_false_deferred name = { STATIC_KEY_FALSE_INIT }\n\n#define static_branch_slow_dec_deferred(x)\tstatic_branch_dec(&(x)->key)\n\nstatic inline void static_key_slow_dec_deferred(struct static_key_deferred *key)\n{\n\tSTATIC_KEY_CHECK_USE(key);\n\tstatic_key_slow_dec(&key->key);\n}\nstatic inline void static_key_deferred_flush(void *key)\n{\n\tSTATIC_KEY_CHECK_USE(key);\n}\nstatic inline void\njump_label_rate_limit(struct static_key_deferred *key,\n\t\tunsigned long rl)\n{\n\tSTATIC_KEY_CHECK_USE(key);\n}\n#endif\t \n\n#define static_branch_deferred_inc(x)\tstatic_branch_inc(&(x)->key)\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}