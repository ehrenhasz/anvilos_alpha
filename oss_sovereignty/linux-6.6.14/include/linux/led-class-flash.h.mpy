{
  "module_name": "led-class-flash.h",
  "hash_id": "a9122b0a3f5e59b916cdac4e174d1e55a8ec9b6c8eb246d2245ee86372fab0d2",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/led-class-flash.h",
  "human_readable_source": " \n \n#ifndef __LINUX_FLASH_LEDS_H_INCLUDED\n#define __LINUX_FLASH_LEDS_H_INCLUDED\n\n#include <linux/leds.h>\n\nstruct device_node;\nstruct led_classdev_flash;\n\n \n#define LED_FAULT_OVER_VOLTAGE\t\t(1 << 0)\n#define LED_FAULT_TIMEOUT\t\t(1 << 1)\n#define LED_FAULT_OVER_TEMPERATURE\t(1 << 2)\n#define LED_FAULT_SHORT_CIRCUIT\t\t(1 << 3)\n#define LED_FAULT_OVER_CURRENT\t\t(1 << 4)\n#define LED_FAULT_INDICATOR\t\t(1 << 5)\n#define LED_FAULT_UNDER_VOLTAGE\t\t(1 << 6)\n#define LED_FAULT_INPUT_VOLTAGE\t\t(1 << 7)\n#define LED_FAULT_LED_OVER_TEMPERATURE\t(1 << 8)\n#define LED_NUM_FLASH_FAULTS\t\t9\n\n#define LED_FLASH_SYSFS_GROUPS_SIZE\t5\n\nstruct led_flash_ops {\n\t \n\tint (*flash_brightness_set)(struct led_classdev_flash *fled_cdev,\n\t\t\t\t\tu32 brightness);\n\t \n\tint (*flash_brightness_get)(struct led_classdev_flash *fled_cdev,\n\t\t\t\t\tu32 *brightness);\n\t \n\tint (*strobe_set)(struct led_classdev_flash *fled_cdev, bool state);\n\t \n\tint (*strobe_get)(struct led_classdev_flash *fled_cdev, bool *state);\n\t \n\tint (*timeout_set)(struct led_classdev_flash *fled_cdev, u32 timeout);\n\t \n\tint (*fault_get)(struct led_classdev_flash *fled_cdev, u32 *fault);\n};\n\n \nstruct led_flash_setting {\n\t \n\tu32 min;\n\t \n\tu32 max;\n\t \n\tu32 step;\n\t \n\tu32 val;\n};\n\nstruct led_classdev_flash {\n\t \n\tstruct led_classdev led_cdev;\n\n\t \n\tconst struct led_flash_ops *ops;\n\n\t \n\tstruct led_flash_setting brightness;\n\n\t \n\tstruct led_flash_setting timeout;\n\n\t \n\tconst struct attribute_group *sysfs_groups[LED_FLASH_SYSFS_GROUPS_SIZE];\n};\n\nstatic inline struct led_classdev_flash *lcdev_to_flcdev(\n\t\t\t\t\t\tstruct led_classdev *lcdev)\n{\n\treturn container_of(lcdev, struct led_classdev_flash, led_cdev);\n}\n\n#if IS_ENABLED(CONFIG_LEDS_CLASS_FLASH)\n \nint led_classdev_flash_register_ext(struct device *parent,\n\t\t\t\t    struct led_classdev_flash *fled_cdev,\n\t\t\t\t    struct led_init_data *init_data);\n\n \nvoid led_classdev_flash_unregister(struct led_classdev_flash *fled_cdev);\n\nint devm_led_classdev_flash_register_ext(struct device *parent,\n\t\t\t\t     struct led_classdev_flash *fled_cdev,\n\t\t\t\t     struct led_init_data *init_data);\n\n\nvoid devm_led_classdev_flash_unregister(struct device *parent,\n\t\t\t\t\tstruct led_classdev_flash *fled_cdev);\n\n#else\n\nstatic inline int led_classdev_flash_register_ext(struct device *parent,\n\t\t\t\t    struct led_classdev_flash *fled_cdev,\n\t\t\t\t    struct led_init_data *init_data)\n{\n\treturn 0;\n}\n\nstatic inline void led_classdev_flash_unregister(struct led_classdev_flash *fled_cdev) {};\nstatic inline int devm_led_classdev_flash_register_ext(struct device *parent,\n\t\t\t\t     struct led_classdev_flash *fled_cdev,\n\t\t\t\t     struct led_init_data *init_data)\n{\n\treturn 0;\n}\n\nstatic inline void devm_led_classdev_flash_unregister(struct device *parent,\n\t\t\t\t\tstruct led_classdev_flash *fled_cdev)\n{};\n\n#endif   \n\nstatic inline int led_classdev_flash_register(struct device *parent,\n\t\t\t\t\t   struct led_classdev_flash *fled_cdev)\n{\n\treturn led_classdev_flash_register_ext(parent, fled_cdev, NULL);\n}\n\nstatic inline int devm_led_classdev_flash_register(struct device *parent,\n\t\t\t\t     struct led_classdev_flash *fled_cdev)\n{\n\treturn devm_led_classdev_flash_register_ext(parent, fled_cdev, NULL);\n}\n\n \nstatic inline int led_set_flash_strobe(struct led_classdev_flash *fled_cdev,\n\t\t\t\t\tbool state)\n{\n\tif (!fled_cdev)\n\t\treturn -EINVAL;\n\treturn fled_cdev->ops->strobe_set(fled_cdev, state);\n}\n\n \nstatic inline int led_get_flash_strobe(struct led_classdev_flash *fled_cdev,\n\t\t\t\t\tbool *state)\n{\n\tif (!fled_cdev)\n\t\treturn -EINVAL;\n\tif (fled_cdev->ops->strobe_get)\n\t\treturn fled_cdev->ops->strobe_get(fled_cdev, state);\n\n\treturn -EINVAL;\n}\n\n \nint led_set_flash_brightness(struct led_classdev_flash *fled_cdev,\n\t\t\t     u32 brightness);\n\n \nint led_update_flash_brightness(struct led_classdev_flash *fled_cdev);\n\n \nint led_set_flash_timeout(struct led_classdev_flash *fled_cdev, u32 timeout);\n\n \nint led_get_flash_fault(struct led_classdev_flash *fled_cdev, u32 *fault);\n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}