{
  "module_name": "pci-p2pdma.h",
  "hash_id": "d57c3205dd936b996f42cfd0ae3e9be5c2688cc84a2452807aa8ed6d359278bd",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/pci-p2pdma.h",
  "human_readable_source": " \n \n\n#ifndef _LINUX_PCI_P2PDMA_H\n#define _LINUX_PCI_P2PDMA_H\n\n#include <linux/pci.h>\n\nstruct block_device;\nstruct scatterlist;\n\n#ifdef CONFIG_PCI_P2PDMA\nint pci_p2pdma_add_resource(struct pci_dev *pdev, int bar, size_t size,\n\t\tu64 offset);\nint pci_p2pdma_distance_many(struct pci_dev *provider, struct device **clients,\n\t\t\t     int num_clients, bool verbose);\nbool pci_has_p2pmem(struct pci_dev *pdev);\nstruct pci_dev *pci_p2pmem_find_many(struct device **clients, int num_clients);\nvoid *pci_alloc_p2pmem(struct pci_dev *pdev, size_t size);\nvoid pci_free_p2pmem(struct pci_dev *pdev, void *addr, size_t size);\npci_bus_addr_t pci_p2pmem_virt_to_bus(struct pci_dev *pdev, void *addr);\nstruct scatterlist *pci_p2pmem_alloc_sgl(struct pci_dev *pdev,\n\t\t\t\t\t unsigned int *nents, u32 length);\nvoid pci_p2pmem_free_sgl(struct pci_dev *pdev, struct scatterlist *sgl);\nvoid pci_p2pmem_publish(struct pci_dev *pdev, bool publish);\nint pci_p2pdma_enable_store(const char *page, struct pci_dev **p2p_dev,\n\t\t\t    bool *use_p2pdma);\nssize_t pci_p2pdma_enable_show(char *page, struct pci_dev *p2p_dev,\n\t\t\t       bool use_p2pdma);\n#else  \nstatic inline int pci_p2pdma_add_resource(struct pci_dev *pdev, int bar,\n\t\tsize_t size, u64 offset)\n{\n\treturn -EOPNOTSUPP;\n}\nstatic inline int pci_p2pdma_distance_many(struct pci_dev *provider,\n\tstruct device **clients, int num_clients, bool verbose)\n{\n\treturn -1;\n}\nstatic inline bool pci_has_p2pmem(struct pci_dev *pdev)\n{\n\treturn false;\n}\nstatic inline struct pci_dev *pci_p2pmem_find_many(struct device **clients,\n\t\t\t\t\t\t   int num_clients)\n{\n\treturn NULL;\n}\nstatic inline void *pci_alloc_p2pmem(struct pci_dev *pdev, size_t size)\n{\n\treturn NULL;\n}\nstatic inline void pci_free_p2pmem(struct pci_dev *pdev, void *addr,\n\t\tsize_t size)\n{\n}\nstatic inline pci_bus_addr_t pci_p2pmem_virt_to_bus(struct pci_dev *pdev,\n\t\t\t\t\t\t    void *addr)\n{\n\treturn 0;\n}\nstatic inline struct scatterlist *pci_p2pmem_alloc_sgl(struct pci_dev *pdev,\n\t\tunsigned int *nents, u32 length)\n{\n\treturn NULL;\n}\nstatic inline void pci_p2pmem_free_sgl(struct pci_dev *pdev,\n\t\tstruct scatterlist *sgl)\n{\n}\nstatic inline void pci_p2pmem_publish(struct pci_dev *pdev, bool publish)\n{\n}\nstatic inline int pci_p2pdma_enable_store(const char *page,\n\t\tstruct pci_dev **p2p_dev, bool *use_p2pdma)\n{\n\t*use_p2pdma = false;\n\treturn 0;\n}\nstatic inline ssize_t pci_p2pdma_enable_show(char *page,\n\t\tstruct pci_dev *p2p_dev, bool use_p2pdma)\n{\n\treturn sprintf(page, \"none\\n\");\n}\n#endif  \n\n\nstatic inline int pci_p2pdma_distance(struct pci_dev *provider,\n\tstruct device *client, bool verbose)\n{\n\treturn pci_p2pdma_distance_many(provider, &client, 1, verbose);\n}\n\nstatic inline struct pci_dev *pci_p2pmem_find(struct device *client)\n{\n\treturn pci_p2pmem_find_many(&client, 1);\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}