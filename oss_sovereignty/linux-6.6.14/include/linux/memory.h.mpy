{
  "module_name": "memory.h",
  "hash_id": "3f68a5dc57777da7929510074907b04114c748c4616d4abdcf88a139eedbd9b5",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/memory.h",
  "human_readable_source": " \n \n#ifndef _LINUX_MEMORY_H_\n#define _LINUX_MEMORY_H_\n\n#include <linux/node.h>\n#include <linux/compiler.h>\n#include <linux/mutex.h>\n\n#define MIN_MEMORY_BLOCK_SIZE     (1UL << SECTION_SIZE_BITS)\n\n \nstruct memory_group {\n\tint nid;\n\tstruct list_head memory_blocks;\n\tunsigned long present_kernel_pages;\n\tunsigned long present_movable_pages;\n\tbool is_dynamic;\n\tunion {\n\t\tstruct {\n\t\t\tunsigned long max_pages;\n\t\t} s;\n\t\tstruct {\n\t\t\tunsigned long unit_pages;\n\t\t} d;\n\t};\n};\n\nstruct memory_block {\n\tunsigned long start_section_nr;\n\tunsigned long state;\t\t \n\tint online_type;\t\t \n\tint nid;\t\t\t \n\t \n\tstruct zone *zone;\n\tstruct device dev;\n\tstruct vmem_altmap *altmap;\n\tstruct memory_group *group;\t \n\tstruct list_head group_next;\t \n#if defined(CONFIG_MEMORY_FAILURE) && defined(CONFIG_MEMORY_HOTPLUG)\n\tatomic_long_t nr_hwpoison;\n#endif\n};\n\nint arch_get_memory_phys_device(unsigned long start_pfn);\nunsigned long memory_block_size_bytes(void);\nint set_memory_block_size_order(unsigned int order);\n\n \n#define\tMEM_ONLINE\t\t(1<<0)  \n#define\tMEM_GOING_OFFLINE\t(1<<1)  \n#define\tMEM_OFFLINE\t\t(1<<2)  \n#define\tMEM_GOING_ONLINE\t(1<<3)\n#define\tMEM_CANCEL_ONLINE\t(1<<4)\n#define\tMEM_CANCEL_OFFLINE\t(1<<5)\n\nstruct memory_notify {\n\tunsigned long start_pfn;\n\tunsigned long nr_pages;\n\tint status_change_nid_normal;\n\tint status_change_nid;\n};\n\nstruct notifier_block;\nstruct mem_section;\n\n \n#define DEFAULT_CALLBACK_PRI\t0\n#define SLAB_CALLBACK_PRI\t1\n#define HMAT_CALLBACK_PRI\t2\n#define MM_COMPUTE_BATCH_PRI\t10\n#define CPUSET_CALLBACK_PRI\t10\n#define MEMTIER_HOTPLUG_PRI\t100\n#define KSM_CALLBACK_PRI\t100\n\n#ifndef CONFIG_MEMORY_HOTPLUG\nstatic inline void memory_dev_init(void)\n{\n\treturn;\n}\nstatic inline int register_memory_notifier(struct notifier_block *nb)\n{\n\treturn 0;\n}\nstatic inline void unregister_memory_notifier(struct notifier_block *nb)\n{\n}\nstatic inline int memory_notify(unsigned long val, void *v)\n{\n\treturn 0;\n}\nstatic inline int hotplug_memory_notifier(notifier_fn_t fn, int pri)\n{\n\treturn 0;\n}\n#else  \nextern int register_memory_notifier(struct notifier_block *nb);\nextern void unregister_memory_notifier(struct notifier_block *nb);\nint create_memory_block_devices(unsigned long start, unsigned long size,\n\t\t\t\tstruct vmem_altmap *altmap,\n\t\t\t\tstruct memory_group *group);\nvoid remove_memory_block_devices(unsigned long start, unsigned long size);\nextern void memory_dev_init(void);\nextern int memory_notify(unsigned long val, void *v);\nextern struct memory_block *find_memory_block(unsigned long section_nr);\ntypedef int (*walk_memory_blocks_func_t)(struct memory_block *, void *);\nextern int walk_memory_blocks(unsigned long start, unsigned long size,\n\t\t\t      void *arg, walk_memory_blocks_func_t func);\nextern int for_each_memory_block(void *arg, walk_memory_blocks_func_t func);\n\nextern int memory_group_register_static(int nid, unsigned long max_pages);\nextern int memory_group_register_dynamic(int nid, unsigned long unit_pages);\nextern int memory_group_unregister(int mgid);\nstruct memory_group *memory_group_find_by_id(int mgid);\ntypedef int (*walk_memory_groups_func_t)(struct memory_group *, void *);\nint walk_dynamic_memory_groups(int nid, walk_memory_groups_func_t func,\n\t\t\t       struct memory_group *excluded, void *arg);\n#define hotplug_memory_notifier(fn, pri) ({\t\t\\\n\tstatic __meminitdata struct notifier_block fn##_mem_nb =\\\n\t\t{ .notifier_call = fn, .priority = pri };\\\n\tregister_memory_notifier(&fn##_mem_nb);\t\t\t\\\n})\n\n#ifdef CONFIG_NUMA\nvoid memory_block_add_nid(struct memory_block *mem, int nid,\n\t\t\t  enum meminit_context context);\n#endif  \n#endif\t \n\n \nextern struct mutex text_mutex;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}