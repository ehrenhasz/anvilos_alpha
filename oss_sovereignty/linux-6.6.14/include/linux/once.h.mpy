{
  "module_name": "once.h",
  "hash_id": "21d80d261dae4f803d14e12d928989c376f77d460ebd715e7f9e970fbac9131d",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/once.h",
  "human_readable_source": " \n#ifndef _LINUX_ONCE_H\n#define _LINUX_ONCE_H\n\n#include <linux/types.h>\n#include <linux/jump_label.h>\n\n \nbool __do_once_start(bool *done, unsigned long *flags);\nvoid __do_once_done(bool *done, struct static_key_true *once_key,\n\t\t    unsigned long *flags, struct module *mod);\n\n \nbool __do_once_sleepable_start(bool *done);\nvoid __do_once_sleepable_done(bool *done, struct static_key_true *once_key,\n\t\t\t      struct module *mod);\n\n \n#define DO_ONCE(func, ...)\t\t\t\t\t\t     \\\n\t({\t\t\t\t\t\t\t\t     \\\n\t\tbool ___ret = false;\t\t\t\t\t     \\\n\t\tstatic bool __section(\".data.once\") ___done = false;\t     \\\n\t\tstatic DEFINE_STATIC_KEY_TRUE(___once_key);\t\t     \\\n\t\tif (static_branch_unlikely(&___once_key)) {\t\t     \\\n\t\t\tunsigned long ___flags;\t\t\t\t     \\\n\t\t\t___ret = __do_once_start(&___done, &___flags);\t     \\\n\t\t\tif (unlikely(___ret)) {\t\t\t\t     \\\n\t\t\t\tfunc(__VA_ARGS__);\t\t\t     \\\n\t\t\t\t__do_once_done(&___done, &___once_key,\t     \\\n\t\t\t\t\t       &___flags, THIS_MODULE);\t     \\\n\t\t\t}\t\t\t\t\t\t     \\\n\t\t}\t\t\t\t\t\t\t     \\\n\t\t___ret;\t\t\t\t\t\t\t     \\\n\t})\n\n \n#define DO_ONCE_SLEEPABLE(func, ...)\t\t\t\t\t\t\\\n\t({\t\t\t\t\t\t\t\t\t\\\n\t\tbool ___ret = false;\t\t\t\t\t\t\\\n\t\tstatic bool __section(\".data.once\") ___done = false;\t\t\\\n\t\tstatic DEFINE_STATIC_KEY_TRUE(___once_key);\t\t\t\\\n\t\tif (static_branch_unlikely(&___once_key)) {\t\t\t\\\n\t\t\t___ret = __do_once_sleepable_start(&___done);\t\t\\\n\t\t\tif (unlikely(___ret)) {\t\t\t\t\t\\\n\t\t\t\tfunc(__VA_ARGS__);\t\t\t\t\\\n\t\t\t\t__do_once_sleepable_done(&___done, &___once_key,\\\n\t\t\t\t\t\t    THIS_MODULE);\t\t\\\n\t\t\t}\t\t\t\t\t\t\t\\\n\t\t}\t\t\t\t\t\t\t\t\\\n\t\t___ret;\t\t\t\t\t\t\t\t\\\n\t})\n\n#define get_random_once(buf, nbytes)\t\t\t\t\t     \\\n\tDO_ONCE(get_random_bytes, (buf), (nbytes))\n\n#define get_random_sleepable_once(buf, nbytes)\t\t\t\t     \\\n\tDO_ONCE_SLEEPABLE(get_random_bytes, (buf), (nbytes))\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}