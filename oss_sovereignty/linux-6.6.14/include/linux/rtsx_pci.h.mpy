{
  "module_name": "rtsx_pci.h",
  "hash_id": "199a8c53491f13c22dd39ef0b947a4eee6e7a4999312dc2c3677039a0d3879f7",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/rtsx_pci.h",
  "human_readable_source": " \n \n\n#ifndef __RTSX_PCI_H\n#define __RTSX_PCI_H\n\n#include <linux/sched.h>\n#include <linux/pci.h>\n#include <linux/rtsx_common.h>\n\n#define MAX_RW_REG_CNT\t\t\t1024\n\n#define RTSX_HCBAR\t\t\t0x00\n#define RTSX_HCBCTLR\t\t\t0x04\n#define   STOP_CMD\t\t\t(0x01 << 28)\n#define   READ_REG_CMD\t\t\t0\n#define   WRITE_REG_CMD\t\t\t1\n#define   CHECK_REG_CMD\t\t\t2\n\n#define RTSX_HDBAR\t\t\t0x08\n#define   RTSX_SG_INT\t\t\t0x04\n#define   RTSX_SG_END\t\t\t0x02\n#define   RTSX_SG_VALID\t\t\t0x01\n#define   RTSX_SG_NO_OP\t\t\t0x00\n#define   RTSX_SG_TRANS_DATA\t\t(0x02 << 4)\n#define   RTSX_SG_LINK_DESC\t\t(0x03 << 4)\n#define RTSX_HDBCTLR\t\t\t0x0C\n#define   SDMA_MODE\t\t\t0x00\n#define   ADMA_MODE\t\t\t(0x02 << 26)\n#define   STOP_DMA\t\t\t(0x01 << 28)\n#define   TRIG_DMA\t\t\t(0x01 << 31)\n\n#define RTSX_HAIMR\t\t\t0x10\n#define   HAIMR_TRANS_START\t\t(0x01 << 31)\n#define   HAIMR_READ\t\t\t0x00\n#define   HAIMR_WRITE\t\t\t(0x01 << 30)\n#define   HAIMR_READ_START\t\t(HAIMR_TRANS_START | HAIMR_READ)\n#define   HAIMR_WRITE_START\t\t(HAIMR_TRANS_START | HAIMR_WRITE)\n#define   HAIMR_TRANS_END\t\t\t(HAIMR_TRANS_START)\n\n#define RTSX_BIPR\t\t\t0x14\n#define   CMD_DONE_INT\t\t\t(1 << 31)\n#define   DATA_DONE_INT\t\t\t(1 << 30)\n#define   TRANS_OK_INT\t\t\t(1 << 29)\n#define   TRANS_FAIL_INT\t\t(1 << 28)\n#define   XD_INT\t\t\t(1 << 27)\n#define   MS_INT\t\t\t(1 << 26)\n#define   SD_INT\t\t\t(1 << 25)\n#define   GPIO0_INT\t\t\t(1 << 24)\n#define   OC_INT\t\t\t(1 << 23)\n#define   SD_WRITE_PROTECT\t\t(1 << 19)\n#define   XD_EXIST\t\t\t(1 << 18)\n#define   MS_EXIST\t\t\t(1 << 17)\n#define   SD_EXIST\t\t\t(1 << 16)\n#define   DELINK_INT\t\t\tGPIO0_INT\n#define   MS_OC_INT\t\t\t(1 << 23)\n#define   SD_OC_INT\t\t\t(1 << 22)\n\n#define CARD_INT\t\t(XD_INT | MS_INT | SD_INT)\n#define NEED_COMPLETE_INT\t(DATA_DONE_INT | TRANS_OK_INT | TRANS_FAIL_INT)\n#define RTSX_INT\t\t(CMD_DONE_INT | NEED_COMPLETE_INT | \\\n\t\t\t\t\tCARD_INT | GPIO0_INT | OC_INT)\n#define CARD_EXIST\t\t(XD_EXIST | MS_EXIST | SD_EXIST)\n\n#define RTSX_BIER\t\t\t0x18\n#define   CMD_DONE_INT_EN\t\t(1 << 31)\n#define   DATA_DONE_INT_EN\t\t(1 << 30)\n#define   TRANS_OK_INT_EN\t\t(1 << 29)\n#define   TRANS_FAIL_INT_EN\t\t(1 << 28)\n#define   XD_INT_EN\t\t\t(1 << 27)\n#define   MS_INT_EN\t\t\t(1 << 26)\n#define   SD_INT_EN\t\t\t(1 << 25)\n#define   GPIO0_INT_EN\t\t\t(1 << 24)\n#define   OC_INT_EN\t\t\t(1 << 23)\n#define   DELINK_INT_EN\t\t\tGPIO0_INT_EN\n#define   MS_OC_INT_EN\t\t\t(1 << 23)\n#define   SD_OC_INT_EN\t\t\t(1 << 22)\n\n#define RTSX_DUM_REG\t\t\t0x1C\n\n \n#define rtsx_pci_writel(pcr, reg, value) \\\n\tiowrite32(value, (pcr)->remap_addr + reg)\n#define rtsx_pci_readl(pcr, reg) \\\n\tioread32((pcr)->remap_addr + reg)\n#define rtsx_pci_writew(pcr, reg, value) \\\n\tiowrite16(value, (pcr)->remap_addr + reg)\n#define rtsx_pci_readw(pcr, reg) \\\n\tioread16((pcr)->remap_addr + reg)\n#define rtsx_pci_writeb(pcr, reg, value) \\\n\tiowrite8(value, (pcr)->remap_addr + reg)\n#define rtsx_pci_readb(pcr, reg) \\\n\tioread8((pcr)->remap_addr + reg)\n\n#define STATE_TRANS_NONE\t\t0\n#define STATE_TRANS_CMD\t\t\t1\n#define STATE_TRANS_BUF\t\t\t2\n#define STATE_TRANS_SG\t\t\t3\n\n#define TRANS_NOT_READY\t\t\t0\n#define TRANS_RESULT_OK\t\t\t1\n#define TRANS_RESULT_FAIL\t\t2\n#define TRANS_NO_DEVICE\t\t\t3\n\n#define RTSX_RESV_BUF_LEN\t\t4096\n#define HOST_CMDS_BUF_LEN\t\t1024\n#define HOST_SG_TBL_BUF_LEN\t\t(RTSX_RESV_BUF_LEN - HOST_CMDS_BUF_LEN)\n#define HOST_SG_TBL_ITEMS\t\t(HOST_SG_TBL_BUF_LEN / 8)\n#define MAX_SG_ITEM_LEN\t\t\t0x80000\n#define HOST_TO_DEVICE\t\t\t0\n#define DEVICE_TO_HOST\t\t\t1\n\n#define OUTPUT_3V3\t\t\t0\n#define OUTPUT_1V8\t\t\t1\n\n#define RTSX_PHASE_MAX\t\t\t32\n#define RX_TUNING_CNT\t\t\t3\n\n#define MS_CFG\t\t\t\t0xFD40\n#define   SAMPLE_TIME_RISING\t\t0x00\n#define   SAMPLE_TIME_FALLING\t\t0x80\n#define   PUSH_TIME_DEFAULT\t\t0x00\n#define   PUSH_TIME_ODD\t\t\t0x40\n#define   NO_EXTEND_TOGGLE\t\t0x00\n#define   EXTEND_TOGGLE_CHK\t\t0x20\n#define   MS_BUS_WIDTH_1\t\t0x00\n#define   MS_BUS_WIDTH_4\t\t0x10\n#define   MS_BUS_WIDTH_8\t\t0x18\n#define   MS_2K_SECTOR_MODE\t\t0x04\n#define   MS_512_SECTOR_MODE\t\t0x00\n#define   MS_TOGGLE_TIMEOUT_EN\t\t0x00\n#define   MS_TOGGLE_TIMEOUT_DISEN\t0x01\n#define MS_NO_CHECK_INT\t\t\t0x02\n#define MS_TPC\t\t\t\t0xFD41\n#define MS_TRANS_CFG\t\t\t0xFD42\n#define   WAIT_INT\t\t\t0x80\n#define   NO_WAIT_INT\t\t\t0x00\n#define   NO_AUTO_READ_INT_REG\t\t0x00\n#define   AUTO_READ_INT_REG\t\t0x40\n#define   MS_CRC16_ERR\t\t\t0x20\n#define   MS_RDY_TIMEOUT\t\t0x10\n#define   MS_INT_CMDNK\t\t\t0x08\n#define   MS_INT_BREQ\t\t\t0x04\n#define   MS_INT_ERR\t\t\t0x02\n#define   MS_INT_CED\t\t\t0x01\n#define MS_TRANSFER\t\t\t0xFD43\n#define   MS_TRANSFER_START\t\t0x80\n#define   MS_TRANSFER_END\t\t0x40\n#define   MS_TRANSFER_ERR\t\t0x20\n#define   MS_BS_STATE\t\t\t0x10\n#define   MS_TM_READ_BYTES\t\t0x00\n#define   MS_TM_NORMAL_READ\t\t0x01\n#define   MS_TM_WRITE_BYTES\t\t0x04\n#define   MS_TM_NORMAL_WRITE\t\t0x05\n#define   MS_TM_AUTO_READ\t\t0x08\n#define   MS_TM_AUTO_WRITE\t\t0x0C\n#define MS_INT_REG\t\t\t0xFD44\n#define MS_BYTE_CNT\t\t\t0xFD45\n#define MS_SECTOR_CNT_L\t\t\t0xFD46\n#define MS_SECTOR_CNT_H\t\t\t0xFD47\n#define MS_DBUS_H\t\t\t0xFD48\n\n#define SD_CFG1\t\t\t\t0xFDA0\n#define   SD_CLK_DIVIDE_0\t\t0x00\n#define   SD_CLK_DIVIDE_256\t\t0xC0\n#define   SD_CLK_DIVIDE_128\t\t0x80\n#define   SD_BUS_WIDTH_1BIT\t\t0x00\n#define   SD_BUS_WIDTH_4BIT\t\t0x01\n#define   SD_BUS_WIDTH_8BIT\t\t0x02\n#define   SD_ASYNC_FIFO_NOT_RST\t\t0x10\n#define   SD_20_MODE\t\t\t0x00\n#define   SD_DDR_MODE\t\t\t0x04\n#define   SD_30_MODE\t\t\t0x08\n#define   SD_CLK_DIVIDE_MASK\t\t0xC0\n#define   SD_MODE_SELECT_MASK\t\t0x0C\n#define SD_CFG2\t\t\t\t0xFDA1\n#define   SD_CALCULATE_CRC7\t\t0x00\n#define   SD_NO_CALCULATE_CRC7\t\t0x80\n#define   SD_CHECK_CRC16\t\t0x00\n#define   SD_NO_CHECK_CRC16\t\t0x40\n#define   SD_NO_CHECK_WAIT_CRC_TO\t0x20\n#define   SD_WAIT_BUSY_END\t\t0x08\n#define   SD_NO_WAIT_BUSY_END\t\t0x00\n#define   SD_CHECK_CRC7\t\t\t0x00\n#define   SD_NO_CHECK_CRC7\t\t0x04\n#define   SD_RSP_LEN_0\t\t\t0x00\n#define   SD_RSP_LEN_6\t\t\t0x01\n#define   SD_RSP_LEN_17\t\t\t0x02\n#define   SD_RSP_TYPE_R0\t\t0x04\n#define   SD_RSP_TYPE_R1\t\t0x01\n#define   SD_RSP_TYPE_R1b\t\t0x09\n#define   SD_RSP_TYPE_R2\t\t0x02\n#define   SD_RSP_TYPE_R3\t\t0x05\n#define   SD_RSP_TYPE_R4\t\t0x05\n#define   SD_RSP_TYPE_R5\t\t0x01\n#define   SD_RSP_TYPE_R6\t\t0x01\n#define   SD_RSP_TYPE_R7\t\t0x01\n#define SD_CFG3\t\t\t\t0xFDA2\n#define   SD30_CLK_END_EN\t\t0x10\n#define   SD_RSP_80CLK_TIMEOUT_EN\t0x01\n\n#define SD_STAT1\t\t\t0xFDA3\n#define   SD_CRC7_ERR\t\t\t0x80\n#define   SD_CRC16_ERR\t\t\t0x40\n#define   SD_CRC_WRITE_ERR\t\t0x20\n#define   SD_CRC_WRITE_ERR_MASK\t\t0x1C\n#define   GET_CRC_TIME_OUT\t\t0x02\n#define   SD_TUNING_COMPARE_ERR\t\t0x01\n#define SD_STAT2\t\t\t0xFDA4\n#define   SD_RSP_80CLK_TIMEOUT\t\t0x01\n\n#define SD_BUS_STAT\t\t\t0xFDA5\n#define   SD_CLK_TOGGLE_EN\t\t0x80\n#define   SD_CLK_FORCE_STOP\t\t0x40\n#define   SD_DAT3_STATUS\t\t0x10\n#define   SD_DAT2_STATUS\t\t0x08\n#define   SD_DAT1_STATUS\t\t0x04\n#define   SD_DAT0_STATUS\t\t0x02\n#define   SD_CMD_STATUS\t\t\t0x01\n#define SD_PAD_CTL\t\t\t0xFDA6\n#define   SD_IO_USING_1V8\t\t0x80\n#define   SD_IO_USING_3V3\t\t0x7F\n#define   TYPE_A_DRIVING\t\t0x00\n#define   TYPE_B_DRIVING\t\t0x01\n#define   TYPE_C_DRIVING\t\t0x02\n#define   TYPE_D_DRIVING\t\t0x03\n#define SD_SAMPLE_POINT_CTL\t\t0xFDA7\n#define   DDR_FIX_RX_DAT\t\t0x00\n#define   DDR_VAR_RX_DAT\t\t0x80\n#define   DDR_FIX_RX_DAT_EDGE\t\t0x00\n#define   DDR_FIX_RX_DAT_14_DELAY\t0x40\n#define   DDR_FIX_RX_CMD\t\t0x00\n#define   DDR_VAR_RX_CMD\t\t0x20\n#define   DDR_FIX_RX_CMD_POS_EDGE\t0x00\n#define   DDR_FIX_RX_CMD_14_DELAY\t0x10\n#define   SD20_RX_POS_EDGE\t\t0x00\n#define   SD20_RX_14_DELAY\t\t0x08\n#define SD20_RX_SEL_MASK\t\t0x08\n#define SD_PUSH_POINT_CTL\t\t0xFDA8\n#define   DDR_FIX_TX_CMD_DAT\t\t0x00\n#define   DDR_VAR_TX_CMD_DAT\t\t0x80\n#define   DDR_FIX_TX_DAT_14_TSU\t\t0x00\n#define   DDR_FIX_TX_DAT_12_TSU\t\t0x40\n#define   DDR_FIX_TX_CMD_NEG_EDGE\t0x00\n#define   DDR_FIX_TX_CMD_14_AHEAD\t0x20\n#define   SD20_TX_NEG_EDGE\t\t0x00\n#define   SD20_TX_14_AHEAD\t\t0x10\n#define   SD20_TX_SEL_MASK\t\t0x10\n#define   DDR_VAR_SDCLK_POL_SWAP\t0x01\n#define SD_CMD0\t\t\t\t0xFDA9\n#define   SD_CMD_START\t\t\t0x40\n#define SD_CMD1\t\t\t\t0xFDAA\n#define SD_CMD2\t\t\t\t0xFDAB\n#define SD_CMD3\t\t\t\t0xFDAC\n#define SD_CMD4\t\t\t\t0xFDAD\n#define SD_CMD5\t\t\t\t0xFDAE\n#define SD_BYTE_CNT_L\t\t\t0xFDAF\n#define SD_BYTE_CNT_H\t\t\t0xFDB0\n#define SD_BLOCK_CNT_L\t\t\t0xFDB1\n#define SD_BLOCK_CNT_H\t\t\t0xFDB2\n#define SD_TRANSFER\t\t\t0xFDB3\n#define   SD_TRANSFER_START\t\t0x80\n#define   SD_TRANSFER_END\t\t0x40\n#define   SD_STAT_IDLE\t\t\t0x20\n#define   SD_TRANSFER_ERR\t\t0x10\n#define   SD_TM_NORMAL_WRITE\t\t0x00\n#define   SD_TM_AUTO_WRITE_3\t\t0x01\n#define   SD_TM_AUTO_WRITE_4\t\t0x02\n#define   SD_TM_AUTO_READ_3\t\t0x05\n#define   SD_TM_AUTO_READ_4\t\t0x06\n#define   SD_TM_CMD_RSP\t\t\t0x08\n#define   SD_TM_AUTO_WRITE_1\t\t0x09\n#define   SD_TM_AUTO_WRITE_2\t\t0x0A\n#define   SD_TM_NORMAL_READ\t\t0x0C\n#define   SD_TM_AUTO_READ_1\t\t0x0D\n#define   SD_TM_AUTO_READ_2\t\t0x0E\n#define   SD_TM_AUTO_TUNING\t\t0x0F\n#define SD_CMD_STATE\t\t\t0xFDB5\n#define   SD_CMD_IDLE\t\t\t0x80\n\n#define SD_DATA_STATE\t\t\t0xFDB6\n#define   SD_DATA_IDLE\t\t\t0x80\n#define REG_SD_STOP_SDCLK_CFG\t\t0xFDB8\n#define   SD30_CLK_STOP_CFG_EN\t\t0x04\n#define   SD30_CLK_STOP_CFG1\t\t0x02\n#define   SD30_CLK_STOP_CFG0\t\t0x01\n#define REG_PRE_RW_MODE\t\t\t0xFD70\n#define EN_INFINITE_MODE\t\t0x01\n#define REG_CRC_DUMMY_0\t\t0xFD71\n#define CFG_SD_POW_AUTO_PD\t\t(1<<0)\n\n#define SRCTL\t\t\t\t0xFC13\n\n#define DCM_DRP_CTL\t\t\t0xFC23\n#define   DCM_RESET\t\t\t0x08\n#define   DCM_LOCKED\t\t\t0x04\n#define   DCM_208M\t\t\t0x00\n#define   DCM_TX\t\t\t0x01\n#define   DCM_RX\t\t\t0x02\n#define DCM_DRP_TRIG\t\t\t0xFC24\n#define   DRP_START\t\t\t0x80\n#define   DRP_DONE\t\t\t0x40\n#define DCM_DRP_CFG\t\t\t0xFC25\n#define   DRP_WRITE\t\t\t0x80\n#define   DRP_READ\t\t\t0x00\n#define   DCM_WRITE_ADDRESS_50\t\t0x50\n#define   DCM_WRITE_ADDRESS_51\t\t0x51\n#define   DCM_READ_ADDRESS_00\t\t0x00\n#define   DCM_READ_ADDRESS_51\t\t0x51\n#define DCM_DRP_WR_DATA_L\t\t0xFC26\n#define DCM_DRP_WR_DATA_H\t\t0xFC27\n#define DCM_DRP_RD_DATA_L\t\t0xFC28\n#define DCM_DRP_RD_DATA_H\t\t0xFC29\n#define SD_VPCLK0_CTL\t\t\t0xFC2A\n#define SD_VPCLK1_CTL\t\t\t0xFC2B\n#define   PHASE_SELECT_MASK\t\t0x1F\n#define SD_DCMPS0_CTL\t\t\t0xFC2C\n#define SD_DCMPS1_CTL\t\t\t0xFC2D\n#define SD_VPTX_CTL\t\t\tSD_VPCLK0_CTL\n#define SD_VPRX_CTL\t\t\tSD_VPCLK1_CTL\n#define   PHASE_CHANGE\t\t\t0x80\n#define   PHASE_NOT_RESET\t\t0x40\n#define SD_DCMPS_TX_CTL\t\t\tSD_DCMPS0_CTL\n#define SD_DCMPS_RX_CTL\t\t\tSD_DCMPS1_CTL\n#define   DCMPS_CHANGE\t\t\t0x80\n#define   DCMPS_CHANGE_DONE\t\t0x40\n#define   DCMPS_ERROR\t\t\t0x20\n#define   DCMPS_CURRENT_PHASE\t\t0x1F\n#define CARD_CLK_SOURCE\t\t\t0xFC2E\n#define   CRC_FIX_CLK\t\t\t(0x00 << 0)\n#define   CRC_VAR_CLK0\t\t\t(0x01 << 0)\n#define   CRC_VAR_CLK1\t\t\t(0x02 << 0)\n#define   SD30_FIX_CLK\t\t\t(0x00 << 2)\n#define   SD30_VAR_CLK0\t\t\t(0x01 << 2)\n#define   SD30_VAR_CLK1\t\t\t(0x02 << 2)\n#define   SAMPLE_FIX_CLK\t\t(0x00 << 4)\n#define   SAMPLE_VAR_CLK0\t\t(0x01 << 4)\n#define   SAMPLE_VAR_CLK1\t\t(0x02 << 4)\n#define CARD_PWR_CTL\t\t\t0xFD50\n#define   PMOS_STRG_MASK\t\t0x10\n#define   PMOS_STRG_800mA\t\t0x10\n#define   PMOS_STRG_400mA\t\t0x00\n#define   SD_POWER_OFF\t\t\t0x03\n#define   SD_PARTIAL_POWER_ON\t\t0x01\n#define   SD_POWER_ON\t\t\t0x00\n#define   SD_POWER_MASK\t\t\t0x03\n#define   MS_POWER_OFF\t\t\t0x0C\n#define   MS_PARTIAL_POWER_ON\t\t0x04\n#define   MS_POWER_ON\t\t\t0x00\n#define   MS_POWER_MASK\t\t\t0x0C\n#define   BPP_POWER_OFF\t\t\t0x0F\n#define   BPP_POWER_5_PERCENT_ON\t0x0E\n#define   BPP_POWER_10_PERCENT_ON\t0x0C\n#define   BPP_POWER_15_PERCENT_ON\t0x08\n#define   BPP_POWER_ON\t\t\t0x00\n#define   BPP_POWER_MASK\t\t0x0F\n#define   SD_VCC_PARTIAL_POWER_ON\t0x02\n#define   SD_VCC_POWER_ON\t\t0x00\n#define CARD_CLK_SWITCH\t\t\t0xFD51\n#define RTL8411B_PACKAGE_MODE\t\t0xFD51\n#define CARD_SHARE_MODE\t\t\t0xFD52\n#define   CARD_SHARE_MASK\t\t0x0F\n#define   CARD_SHARE_MULTI_LUN\t\t0x00\n#define   CARD_SHARE_NORMAL\t\t0x00\n#define   CARD_SHARE_48_SD\t\t0x04\n#define   CARD_SHARE_48_MS\t\t0x08\n#define   CARD_SHARE_BAROSSA_SD\t\t0x01\n#define   CARD_SHARE_BAROSSA_MS\t\t0x02\n#define CARD_DRIVE_SEL\t\t\t0xFD53\n#define   MS_DRIVE_8mA\t\t\t(0x01 << 6)\n#define   MMC_DRIVE_8mA\t\t\t(0x01 << 4)\n#define   XD_DRIVE_8mA\t\t\t(0x01 << 2)\n#define   GPIO_DRIVE_8mA\t\t0x01\n#define RTS5209_CARD_DRIVE_DEFAULT\t(MS_DRIVE_8mA | MMC_DRIVE_8mA |\\\n\t\t\t\t\tXD_DRIVE_8mA | GPIO_DRIVE_8mA)\n#define RTL8411_CARD_DRIVE_DEFAULT\t(MS_DRIVE_8mA | MMC_DRIVE_8mA |\\\n\t\t\t\t\tXD_DRIVE_8mA)\n#define RTSX_CARD_DRIVE_DEFAULT\t\t(MS_DRIVE_8mA | GPIO_DRIVE_8mA)\n\n#define CARD_STOP\t\t\t0xFD54\n#define   SPI_STOP\t\t\t0x01\n#define   XD_STOP\t\t\t0x02\n#define   SD_STOP\t\t\t0x04\n#define   MS_STOP\t\t\t0x08\n#define   SPI_CLR_ERR\t\t\t0x10\n#define   XD_CLR_ERR\t\t\t0x20\n#define   SD_CLR_ERR\t\t\t0x40\n#define   MS_CLR_ERR\t\t\t0x80\n#define CARD_OE\t\t\t\t0xFD55\n#define   SD_OUTPUT_EN\t\t\t0x04\n#define   MS_OUTPUT_EN\t\t\t0x08\n#define CARD_AUTO_BLINK\t\t\t0xFD56\n#define CARD_GPIO_DIR\t\t\t0xFD57\n#define CARD_GPIO\t\t\t0xFD58\n#define CARD_DATA_SOURCE\t\t0xFD5B\n#define   PINGPONG_BUFFER\t\t0x01\n#define   RING_BUFFER\t\t\t0x00\n#define SD30_CLK_DRIVE_SEL\t\t0xFD5A\n#define   DRIVER_TYPE_A\t\t\t0x05\n#define   DRIVER_TYPE_B\t\t\t0x03\n#define   DRIVER_TYPE_C\t\t\t0x02\n#define   DRIVER_TYPE_D\t\t\t0x01\n#define CARD_SELECT\t\t\t0xFD5C\n#define   SD_MOD_SEL\t\t\t2\n#define   MS_MOD_SEL\t\t\t3\n#define SD30_DRIVE_SEL\t\t\t0xFD5E\n#define   CFG_DRIVER_TYPE_A\t\t0x02\n#define   CFG_DRIVER_TYPE_B\t\t0x03\n#define   CFG_DRIVER_TYPE_C\t\t0x01\n#define   CFG_DRIVER_TYPE_D\t\t0x00\n#define SD30_CMD_DRIVE_SEL\t\t0xFD5E\n#define SD30_DAT_DRIVE_SEL\t\t0xFD5F\n#define CARD_CLK_EN\t\t\t0xFD69\n#define   SD_CLK_EN\t\t\t0x04\n#define   MS_CLK_EN\t\t\t0x08\n#define   SD40_CLK_EN\t\t0x10\n#define SDIO_CTRL\t\t\t0xFD6B\n#define CD_PAD_CTL\t\t\t0xFD73\n#define   CD_DISABLE_MASK\t\t0x07\n#define   MS_CD_DISABLE\t\t\t0x04\n#define   SD_CD_DISABLE\t\t\t0x02\n#define   XD_CD_DISABLE\t\t\t0x01\n#define   CD_DISABLE\t\t\t0x07\n#define   CD_ENABLE\t\t\t0x00\n#define   MS_CD_EN_ONLY\t\t\t0x03\n#define   SD_CD_EN_ONLY\t\t\t0x05\n#define   XD_CD_EN_ONLY\t\t\t0x06\n#define   FORCE_CD_LOW_MASK\t\t0x38\n#define   FORCE_CD_XD_LOW\t\t0x08\n#define   FORCE_CD_SD_LOW\t\t0x10\n#define   FORCE_CD_MS_LOW\t\t0x20\n#define   CD_AUTO_DISABLE\t\t0x40\n#define FPDCTL\t\t\t\t0xFC00\n#define   SSC_POWER_DOWN\t\t0x01\n#define   SD_OC_POWER_DOWN\t\t0x02\n#define   ALL_POWER_DOWN\t\t0x03\n#define   OC_POWER_DOWN\t\t\t0x02\n#define PDINFO\t\t\t\t0xFC01\n\n#define CLK_CTL\t\t\t\t0xFC02\n#define   CHANGE_CLK\t\t\t0x01\n#define   CLK_LOW_FREQ\t\t\t0x01\n\n#define CLK_DIV\t\t\t\t0xFC03\n#define   CLK_DIV_1\t\t\t0x01\n#define   CLK_DIV_2\t\t\t0x02\n#define   CLK_DIV_4\t\t\t0x03\n#define   CLK_DIV_8\t\t\t0x04\n#define CLK_SEL\t\t\t\t0xFC04\n\n#define SSC_DIV_N_0\t\t\t0xFC0F\n#define SSC_DIV_N_1\t\t\t0xFC10\n#define SSC_CTL1\t\t\t0xFC11\n#define    SSC_RSTB\t\t\t0x80\n#define    SSC_8X_EN\t\t\t0x40\n#define    SSC_FIX_FRAC\t\t\t0x20\n#define    SSC_SEL_1M\t\t\t0x00\n#define    SSC_SEL_2M\t\t\t0x08\n#define    SSC_SEL_4M\t\t\t0x10\n#define    SSC_SEL_8M\t\t\t0x18\n#define SSC_CTL2\t\t\t0xFC12\n#define    SSC_DEPTH_MASK\t\t0x07\n#define    SSC_DEPTH_DISALBE\t\t0x00\n#define    SSC_DEPTH_4M\t\t\t0x01\n#define    SSC_DEPTH_2M\t\t\t0x02\n#define    SSC_DEPTH_1M\t\t\t0x03\n#define    SSC_DEPTH_500K\t\t0x04\n#define    SSC_DEPTH_250K\t\t0x05\n#define RCCTL\t\t\t\t0xFC14\n\n#define FPGA_PULL_CTL\t\t\t0xFC1D\n#define OLT_LED_CTL\t\t\t0xFC1E\n#define   LED_SHINE_MASK\t\t0x08\n#define   LED_SHINE_EN\t\t\t0x08\n#define   LED_SHINE_DISABLE\t\t0x00\n#define GPIO_CTL\t\t\t0xFC1F\n\n#define LDO_CTL\t\t\t\t0xFC1E\n#define   BPP_ASIC_1V7\t\t\t0x00\n#define   BPP_ASIC_1V8\t\t\t0x01\n#define   BPP_ASIC_1V9\t\t\t0x02\n#define   BPP_ASIC_2V0\t\t\t0x03\n#define   BPP_ASIC_2V7\t\t\t0x04\n#define   BPP_ASIC_2V8\t\t\t0x05\n#define   BPP_ASIC_3V2\t\t\t0x06\n#define   BPP_ASIC_3V3\t\t\t0x07\n#define   BPP_REG_TUNED18\t\t0x07\n#define   BPP_TUNED18_SHIFT_8402\t5\n#define   BPP_TUNED18_SHIFT_8411\t4\n#define   BPP_PAD_MASK\t\t\t0x04\n#define   BPP_PAD_3V3\t\t\t0x04\n#define   BPP_PAD_1V8\t\t\t0x00\n#define   BPP_LDO_POWB\t\t\t0x03\n#define   BPP_LDO_ON\t\t\t0x00\n#define   BPP_LDO_SUSPEND\t\t0x02\n#define   BPP_LDO_OFF\t\t\t0x03\n#define EFUSE_CTL\t\t\t0xFC30\n#define EFUSE_ADD\t\t\t0xFC31\n#define SYS_VER\t\t\t\t0xFC32\n#define EFUSE_DATAL\t\t\t0xFC34\n#define EFUSE_DATAH\t\t\t0xFC35\n\n#define CARD_PULL_CTL1\t\t\t0xFD60\n#define CARD_PULL_CTL2\t\t\t0xFD61\n#define CARD_PULL_CTL3\t\t\t0xFD62\n#define CARD_PULL_CTL4\t\t\t0xFD63\n#define CARD_PULL_CTL5\t\t\t0xFD64\n#define CARD_PULL_CTL6\t\t\t0xFD65\n\n \n#define IRQEN0\t\t\t\t0xFE20\n#define IRQSTAT0\t\t\t0xFE21\n#define    DMA_DONE_INT\t\t\t0x80\n#define    SUSPEND_INT\t\t\t0x40\n#define    LINK_RDY_INT\t\t\t0x20\n#define    LINK_DOWN_INT\t\t0x10\n#define IRQEN1\t\t\t\t0xFE22\n#define IRQSTAT1\t\t\t0xFE23\n#define TLPRIEN\t\t\t\t0xFE24\n#define TLPRISTAT\t\t\t0xFE25\n#define TLPTIEN\t\t\t\t0xFE26\n#define TLPTISTAT\t\t\t0xFE27\n#define DMATC0\t\t\t\t0xFE28\n#define DMATC1\t\t\t\t0xFE29\n#define DMATC2\t\t\t\t0xFE2A\n#define DMATC3\t\t\t\t0xFE2B\n#define DMACTL\t\t\t\t0xFE2C\n#define   DMA_RST\t\t\t0x80\n#define   DMA_BUSY\t\t\t0x04\n#define   DMA_DIR_TO_CARD\t\t0x00\n#define   DMA_DIR_FROM_CARD\t\t0x02\n#define   DMA_EN\t\t\t0x01\n#define   DMA_128\t\t\t(0 << 4)\n#define   DMA_256\t\t\t(1 << 4)\n#define   DMA_512\t\t\t(2 << 4)\n#define   DMA_1024\t\t\t(3 << 4)\n#define   DMA_PACK_SIZE_MASK\t\t0x30\n#define BCTL\t\t\t\t0xFE2D\n#define RBBC0\t\t\t\t0xFE2E\n#define RBBC1\t\t\t\t0xFE2F\n#define RBDAT\t\t\t\t0xFE30\n#define RBCTL\t\t\t\t0xFE34\n#define   U_AUTO_DMA_EN_MASK\t\t0x20\n#define   U_AUTO_DMA_DISABLE\t\t0x00\n#define   RB_FLUSH\t\t\t0x80\n#define CFGADDR0\t\t\t0xFE35\n#define CFGADDR1\t\t\t0xFE36\n#define CFGDATA0\t\t\t0xFE37\n#define CFGDATA1\t\t\t0xFE38\n#define CFGDATA2\t\t\t0xFE39\n#define CFGDATA3\t\t\t0xFE3A\n#define CFGRWCTL\t\t\t0xFE3B\n#define PHYRWCTL\t\t\t0xFE3C\n#define PHYDATA0\t\t\t0xFE3D\n#define PHYDATA1\t\t\t0xFE3E\n#define PHYADDR\t\t\t\t0xFE3F\n#define MSGRXDATA0\t\t\t0xFE40\n#define MSGRXDATA1\t\t\t0xFE41\n#define MSGRXDATA2\t\t\t0xFE42\n#define MSGRXDATA3\t\t\t0xFE43\n#define MSGTXDATA0\t\t\t0xFE44\n#define MSGTXDATA1\t\t\t0xFE45\n#define MSGTXDATA2\t\t\t0xFE46\n#define MSGTXDATA3\t\t\t0xFE47\n#define MSGTXCTL\t\t\t0xFE48\n#define LTR_CTL\t\t\t\t0xFE4A\n#define LTR_TX_EN_MASK\t\tBIT(7)\n#define LTR_TX_EN_1\t\t\tBIT(7)\n#define LTR_TX_EN_0\t\t\t0\n#define LTR_LATENCY_MODE_MASK\t\tBIT(6)\n#define LTR_LATENCY_MODE_HW\t\t0\n#define LTR_LATENCY_MODE_SW\t\tBIT(6)\n#define OBFF_CFG\t\t\t0xFE4C\n#define   OBFF_EN_MASK\t\t\t0x03\n#define   OBFF_DISABLE\t\t\t0x00\n\n#define CDRESUMECTL\t\t\t0xFE52\n#define WAKE_SEL_CTL\t\t\t0xFE54\n#define PCLK_CTL\t\t\t0xFE55\n#define   PCLK_MODE_SEL\t\t\t0x20\n#define PME_FORCE_CTL\t\t\t0xFE56\n\n#define ASPM_FORCE_CTL\t\t\t0xFE57\n#define   FORCE_ASPM_CTL0\t\t0x10\n#define   FORCE_ASPM_CTL1\t\t0x20\n#define   FORCE_ASPM_VAL_MASK\t\t0x03\n#define   FORCE_ASPM_L1_EN\t\t0x02\n#define   FORCE_ASPM_L0_EN\t\t0x01\n#define   FORCE_ASPM_NO_ASPM\t\t0x00\n#define PM_CLK_FORCE_CTL\t\t0xFE58\n#define   CLK_PM_EN\t\t\t0x01\n#define FUNC_FORCE_CTL\t\t\t0xFE59\n#define   FUNC_FORCE_UPME_XMT_DBG\t0x02\n#define PERST_GLITCH_WIDTH\t\t0xFE5C\n#define CHANGE_LINK_STATE\t\t0xFE5B\n#define RESET_LOAD_REG\t\t\t0xFE5E\n#define EFUSE_CONTENT\t\t\t0xFE5F\n#define HOST_SLEEP_STATE\t\t0xFE60\n#define   HOST_ENTER_S1\t\t\t1\n#define   HOST_ENTER_S3\t\t\t2\n\n#define SDIO_CFG\t\t\t0xFE70\n#define PM_EVENT_DEBUG\t\t\t0xFE71\n#define   PME_DEBUG_0\t\t\t0x08\n#define NFTS_TX_CTRL\t\t\t0xFE72\n\n#define PWR_GATE_CTRL\t\t\t0xFE75\n#define   PWR_GATE_EN\t\t\t0x01\n#define   LDO3318_PWR_MASK\t\t0x06\n#define   LDO_ON\t\t\t0x00\n#define   LDO_SUSPEND\t\t\t0x04\n#define   LDO_OFF\t\t\t0x06\n#define PWD_SUSPEND_EN\t\t\t0xFE76\n#define LDO_PWR_SEL\t\t\t0xFE78\n\n#define L1SUB_CONFIG1\t\t\t0xFE8D\n#define   AUX_CLK_ACTIVE_SEL_MASK\t0x01\n#define   MAC_CKSW_DONE\t\t\t0x00\n#define L1SUB_CONFIG2\t\t\t0xFE8E\n#define   L1SUB_AUTO_CFG\t\t0x02\n#define L1SUB_CONFIG3\t\t\t0xFE8F\n#define   L1OFF_MBIAS2_EN_5250\t\tBIT(7)\n\n#define DUMMY_REG_RESET_0\t\t0xFE90\n#define   IC_VERSION_MASK\t\t0x0F\n\n#define REG_VREF\t\t\t0xFE97\n#define   PWD_SUSPND_EN\t\t\t0x10\n#define RTS5260_DMA_RST_CTL_0\t\t0xFEBF\n#define   RTS5260_DMA_RST\t\t0x80\n#define   RTS5260_ADMA3_RST\t\t0x40\n#define AUTOLOAD_CFG_BASE\t\t0xFF00\n#define RELINK_TIME_MASK\t\t0x01\n#define PETXCFG\t\t\t\t0xFF03\n#define FORCE_CLKREQ_DELINK_MASK\tBIT(7)\n#define FORCE_CLKREQ_LOW\t0x80\n#define FORCE_CLKREQ_HIGH\t0x00\n\n#define PM_CTRL1\t\t\t0xFF44\n#define   CD_RESUME_EN_MASK\t\t0xF0\n\n#define PM_CTRL2\t\t\t0xFF45\n#define PM_CTRL3\t\t\t0xFF46\n#define   SDIO_SEND_PME_EN\t\t0x80\n#define   FORCE_RC_MODE_ON\t\t0x40\n#define   FORCE_RX50_LINK_ON\t\t0x20\n#define   D3_DELINK_MODE_EN\t\t0x10\n#define   USE_PESRTB_CTL_DELINK\t\t0x08\n#define   DELAY_PIN_WAKE\t\t0x04\n#define   RESET_PIN_WAKE\t\t0x02\n#define   PM_WAKE_EN\t\t\t0x01\n#define PM_CTRL4\t\t\t0xFF47\n\n \n#define RTS5261_FW_CFG_INFO0\t\t0xFF50\n#define   RTS5261_FW_EXPRESS_TEST_MASK\t(0x01 << 0)\n#define   RTS5261_FW_EA_MODE_MASK\t(0x01 << 5)\n#define RTS5261_FW_CFG0\t\t\t0xFF54\n#define   RTS5261_FW_ENTER_EXPRESS\t(0x01 << 0)\n\n#define RTS5261_FW_CFG1\t\t\t0xFF55\n#define   RTS5261_SYS_CLK_SEL_MCU_CLK\t(0x01 << 7)\n#define   RTS5261_CRC_CLK_SEL_MCU_CLK\t(0x01 << 6)\n#define   RTS5261_FAKE_MCU_CLOCK_GATING\t(0x01 << 5)\n#define   RTS5261_MCU_BUS_SEL_MASK\t(0x01 << 4)\n#define   RTS5261_MCU_CLOCK_SEL_MASK\t(0x03 << 2)\n#define   RTS5261_MCU_CLOCK_SEL_16M\t(0x01 << 2)\n#define   RTS5261_MCU_CLOCK_GATING\t(0x01 << 1)\n#define   RTS5261_DRIVER_ENABLE_FW\t(0x01 << 0)\n\n#define REG_CFG_OOBS_OFF_TIMER 0xFEA6\n#define REG_CFG_OOBS_ON_TIMER 0xFEA7\n#define REG_CFG_VCM_ON_TIMER 0xFEA8\n#define REG_CFG_OOBS_POLLING 0xFEA9\n\n \n#define SRAM_BASE\t\t\t0xE600\n#define RBUF_BASE\t\t\t0xF400\n#define PPBUF_BASE1\t\t\t0xF800\n#define PPBUF_BASE2\t\t\t0xFA00\n#define IMAGE_FLAG_ADDR0\t\t0xCE80\n#define IMAGE_FLAG_ADDR1\t\t0xCE81\n\n#define RREF_CFG\t\t\t0xFF6C\n#define   RREF_VBGSEL_MASK\t\t0x38\n#define   RREF_VBGSEL_1V25\t\t0x28\n\n#define OOBS_CONFIG\t\t\t0xFF6E\n#define   OOBS_AUTOK_DIS\t\t0x80\n#define   OOBS_VAL_MASK\t\t\t0x1F\n\n#define LDO_DV18_CFG\t\t\t0xFF70\n#define   LDO_DV18_SR_MASK\t\t0xC0\n#define   LDO_DV18_SR_DF\t\t0x40\n#define   DV331812_MASK\t\t\t0x70\n#define   DV331812_33\t\t\t0x70\n#define   DV331812_17\t\t\t0x30\n\n#define LDO_CONFIG2\t\t\t0xFF71\n#define   LDO_D3318_MASK\t\t0x07\n#define   LDO_D3318_33V\t\t\t0x07\n#define   LDO_D3318_18V\t\t\t0x02\n#define   DV331812_VDD1\t\t\t0x04\n#define   DV331812_POWERON\t\t0x08\n#define   DV331812_POWEROFF\t\t0x00\n\n#define LDO_VCC_CFG0\t\t\t0xFF72\n#define   LDO_VCC_LMTVTH_MASK\t\t0x30\n#define   LDO_VCC_LMTVTH_2A\t\t0x10\n \n#define   RTS5260_DVCC_TUNE_MASK\t0x70\n#define   RTS5260_DVCC_33\t\t0x70\n\n \n#define RTS5261_LDO1_CFG0\t\t0xFF72\n#define   RTS5261_LDO1_OCP_THD_MASK\t(0x07 << 5)\n#define   RTS5261_LDO1_OCP_EN\t\t(0x01 << 4)\n#define   RTS5261_LDO1_OCP_LMT_THD_MASK\t(0x03 << 2)\n#define   RTS5261_LDO1_OCP_LMT_EN\t(0x01 << 1)\n\n#define LDO_VCC_CFG1\t\t\t0xFF73\n#define   LDO_VCC_REF_TUNE_MASK\t\t0x30\n#define   LDO_VCC_REF_1V2\t\t0x20\n#define   LDO_VCC_TUNE_MASK\t\t0x07\n#define   LDO_VCC_1V8\t\t\t0x04\n#define   LDO_VCC_3V3\t\t\t0x07\n#define   LDO_VCC_LMT_EN\t\t0x08\n \n#define\t  LDO_POW_SDVDD1_MASK\t\t0x08\n#define\t  LDO_POW_SDVDD1_ON\t\t0x08\n#define\t  LDO_POW_SDVDD1_OFF\t\t0x00\n\n#define LDO_VIO_CFG\t\t\t0xFF75\n#define   LDO_VIO_SR_MASK\t\t0xC0\n#define   LDO_VIO_SR_DF\t\t\t0x40\n#define   LDO_VIO_REF_TUNE_MASK\t\t0x30\n#define   LDO_VIO_REF_1V2\t\t0x20\n#define   LDO_VIO_TUNE_MASK\t\t0x07\n#define   LDO_VIO_1V7\t\t\t0x03\n#define   LDO_VIO_1V8\t\t\t0x04\n#define   LDO_VIO_3V3\t\t\t0x07\n\n#define LDO_DV12S_CFG\t\t\t0xFF76\n#define   LDO_REF12_TUNE_MASK\t\t0x18\n#define   LDO_REF12_TUNE_DF\t\t0x10\n#define   LDO_D12_TUNE_MASK\t\t0x07\n#define   LDO_D12_TUNE_DF\t\t0x04\n\n#define LDO_AV12S_CFG\t\t\t0xFF77\n#define   LDO_AV12S_TUNE_MASK\t\t0x07\n#define   LDO_AV12S_TUNE_DF\t\t0x04\n\n#define SD40_LDO_CTL1\t\t\t0xFE7D\n#define   SD40_VIO_TUNE_MASK\t\t0x70\n#define   SD40_VIO_TUNE_1V7\t\t0x30\n#define   SD_VIO_LDO_1V8\t\t0x40\n#define   SD_VIO_LDO_3V3\t\t0x70\n\n#define RTS5260_AUTOLOAD_CFG4\t\t0xFF7F\n#define   RTS5260_MIMO_DISABLE\t\t0x8A\n \n#define   RTS5261_AUX_CLK_16M_EN\t\t(1 << 5)\n\n#define RTS5260_REG_GPIO_CTL0\t\t0xFC1A\n#define   RTS5260_REG_GPIO_MASK\t\t0x01\n#define   RTS5260_REG_GPIO_ON\t\t0x01\n#define   RTS5260_REG_GPIO_OFF\t\t0x00\n\n#define PWR_GLOBAL_CTRL\t\t\t0xF200\n#define PCIE_L1_2_EN\t\t\t0x0C\n#define PCIE_L1_1_EN\t\t\t0x0A\n#define PCIE_L1_0_EN\t\t\t0x09\n#define PWR_FE_CTL\t\t\t0xF201\n#define PCIE_L1_2_PD_FE_EN\t\t0x0C\n#define PCIE_L1_1_PD_FE_EN\t\t0x0A\n#define PCIE_L1_0_PD_FE_EN\t\t0x09\n#define CFG_PCIE_APHY_OFF_0\t\t0xF204\n#define CFG_PCIE_APHY_OFF_0_DEFAULT\t0xBF\n#define CFG_PCIE_APHY_OFF_1\t\t0xF205\n#define CFG_PCIE_APHY_OFF_1_DEFAULT\t0xFF\n#define CFG_PCIE_APHY_OFF_2\t\t0xF206\n#define CFG_PCIE_APHY_OFF_2_DEFAULT\t0x01\n#define CFG_PCIE_APHY_OFF_3\t\t0xF207\n#define CFG_PCIE_APHY_OFF_3_DEFAULT\t0x00\n#define CFG_L1_0_PCIE_MAC_RET_VALUE\t0xF20C\n#define CFG_L1_0_PCIE_DPHY_RET_VALUE\t0xF20E\n#define CFG_L1_0_SYS_RET_VALUE\t\t0xF210\n#define CFG_L1_0_CRC_MISC_RET_VALUE\t0xF212\n#define CFG_L1_0_CRC_SD30_RET_VALUE\t0xF214\n#define CFG_L1_0_CRC_SD40_RET_VALUE\t0xF216\n#define CFG_LP_FPWM_VALUE\t\t0xF219\n#define CFG_LP_FPWM_VALUE_DEFAULT\t0x18\n#define PWC_CDR\t\t\t\t0xF253\n#define PWC_CDR_DEFAULT\t\t\t0x03\n#define CFG_L1_0_RET_VALUE_DEFAULT\t0x1B\n#define CFG_L1_0_CRC_MISC_RET_VALUE_DEFAULT\t0x0C\n\n \n#define SD_DETECT_EN\t\t\t0x08\n#define SD_OCP_INT_EN\t\t\t0x04\n#define SD_OCP_INT_CLR\t\t\t0x02\n#define SD_OC_CLR\t\t\t0x01\n\n#define SDVIO_DETECT_EN\t\t\t(1 << 7)\n#define SDVIO_OCP_INT_EN\t\t(1 << 6)\n#define SDVIO_OCP_INT_CLR\t\t(1 << 5)\n#define SDVIO_OC_CLR\t\t\t(1 << 4)\n\n \n#define SD_OCP_DETECT\t\t\t0x08\n#define SD_OC_NOW\t\t\t0x04\n#define SD_OC_EVER\t\t\t0x02\n\n#define SDVIO_OC_NOW\t\t\t(1 << 6)\n#define SDVIO_OC_EVER\t\t\t(1 << 5)\n\n#define REG_OCPCTL\t\t\t0xFD6A\n#define REG_OCPSTAT\t\t\t0xFD6E\n#define REG_OCPGLITCH\t\t\t0xFD6C\n#define REG_OCPPARA1\t\t\t0xFD6B\n#define REG_OCPPARA2\t\t\t0xFD6D\n\n \n#define REG_DV3318_OCPCTL\t\t0xFD89\n#define DV3318_OCP_TIME_MASK\t0xF0\n#define DV3318_DETECT_EN\t\t0x08\n#define DV3318_OCP_INT_EN\t\t0x04\n#define DV3318_OCP_INT_CLR\t\t0x02\n#define DV3318_OCP_CLR\t\t\t0x01\n\n#define REG_DV3318_OCPSTAT\t\t0xFD8A\n#define DV3318_OCP_GlITCH_TIME_MASK\t0xF0\n#define DV3318_OCP_DETECT\t\t0x08\n#define DV3318_OCP_NOW\t\t\t0x04\n#define DV3318_OCP_EVER\t\t\t0x02\n\n#define SD_OCP_GLITCH_MASK\t\t0x0F\n\n \n#define SDVIO_OCP_TIME_60\t\t0x00\n#define SDVIO_OCP_TIME_100\t\t0x10\n#define SDVIO_OCP_TIME_200\t\t0x20\n#define SDVIO_OCP_TIME_400\t\t0x30\n#define SDVIO_OCP_TIME_600\t\t0x40\n#define SDVIO_OCP_TIME_800\t\t0x50\n#define SDVIO_OCP_TIME_1100\t\t0x60\n#define SDVIO_OCP_TIME_MASK\t\t0x70\n\n#define SD_OCP_TIME_60\t\t\t0x00\n#define SD_OCP_TIME_100\t\t\t0x01\n#define SD_OCP_TIME_200\t\t\t0x02\n#define SD_OCP_TIME_400\t\t\t0x03\n#define SD_OCP_TIME_600\t\t\t0x04\n#define SD_OCP_TIME_800\t\t\t0x05\n#define SD_OCP_TIME_1100\t\t0x06\n#define SD_OCP_TIME_MASK\t\t0x07\n\n \n#define SDVIO_OCP_THD_190\t\t0x00\n#define SDVIO_OCP_THD_250\t\t0x10\n#define SDVIO_OCP_THD_320\t\t0x20\n#define SDVIO_OCP_THD_380\t\t0x30\n#define SDVIO_OCP_THD_440\t\t0x40\n#define SDVIO_OCP_THD_500\t\t0x50\n#define SDVIO_OCP_THD_570\t\t0x60\n#define SDVIO_OCP_THD_630\t\t0x70\n#define SDVIO_OCP_THD_MASK\t\t0x70\n\n#define SD_OCP_THD_450\t\t\t0x00\n#define SD_OCP_THD_550\t\t\t0x01\n#define SD_OCP_THD_650\t\t\t0x02\n#define SD_OCP_THD_750\t\t\t0x03\n#define SD_OCP_THD_850\t\t\t0x04\n#define SD_OCP_THD_950\t\t\t0x05\n#define SD_OCP_THD_1050\t\t\t0x06\n#define SD_OCP_THD_1150\t\t\t0x07\n#define SD_OCP_THD_MASK\t\t\t0x07\n\n#define SDVIO_OCP_GLITCH_MASK\t\t0xF0\n#define SDVIO_OCP_GLITCH_NONE\t\t0x00\n#define SDVIO_OCP_GLITCH_50U\t\t0x10\n#define SDVIO_OCP_GLITCH_100U\t\t0x20\n#define SDVIO_OCP_GLITCH_200U\t\t0x30\n#define SDVIO_OCP_GLITCH_600U\t\t0x40\n#define SDVIO_OCP_GLITCH_800U\t\t0x50\n#define SDVIO_OCP_GLITCH_1M\t\t0x60\n#define SDVIO_OCP_GLITCH_2M\t\t0x70\n#define SDVIO_OCP_GLITCH_3M\t\t0x80\n#define SDVIO_OCP_GLITCH_4M\t\t0x90\n#define SDVIO_OCP_GLIVCH_5M\t\t0xA0\n#define SDVIO_OCP_GLITCH_6M\t\t0xB0\n#define SDVIO_OCP_GLITCH_7M\t\t0xC0\n#define SDVIO_OCP_GLITCH_8M\t\t0xD0\n#define SDVIO_OCP_GLITCH_9M\t\t0xE0\n#define SDVIO_OCP_GLITCH_10M\t\t0xF0\n\n#define SD_OCP_GLITCH_MASK\t\t0x0F\n#define SD_OCP_GLITCH_NONE\t\t0x00\n#define SD_OCP_GLITCH_50U\t\t0x01\n#define SD_OCP_GLITCH_100U\t\t0x02\n#define SD_OCP_GLITCH_200U\t\t0x03\n#define SD_OCP_GLITCH_600U\t\t0x04\n#define SD_OCP_GLITCH_800U\t\t0x05\n#define SD_OCP_GLITCH_1M\t\t0x06\n#define SD_OCP_GLITCH_2M\t\t0x07\n#define SD_OCP_GLITCH_3M\t\t0x08\n#define SD_OCP_GLITCH_4M\t\t0x09\n#define SD_OCP_GLIVCH_5M\t\t0x0A\n#define SD_OCP_GLITCH_6M\t\t0x0B\n#define SD_OCP_GLITCH_7M\t\t0x0C\n#define SD_OCP_GLITCH_8M\t\t0x0D\n#define SD_OCP_GLITCH_9M\t\t0x0E\n#define SD_OCP_GLITCH_10M\t\t0x0F\n\n \n#define PHY_PCR\t\t\t\t0x00\n#define   PHY_PCR_FORCE_CODE\t\t0xB000\n#define   PHY_PCR_OOBS_CALI_50\t\t0x0800\n#define   PHY_PCR_OOBS_VCM_08\t\t0x0200\n#define   PHY_PCR_OOBS_SEN_90\t\t0x0040\n#define   PHY_PCR_RSSI_EN\t\t0x0002\n#define   PHY_PCR_RX10K\t\t\t0x0001\n\n#define PHY_RCR0\t\t\t0x01\n#define PHY_RCR1\t\t\t0x02\n#define   PHY_RCR1_ADP_TIME_4\t\t0x0400\n#define   PHY_RCR1_VCO_COARSE\t\t0x001F\n#define   PHY_RCR1_INIT_27S\t\t0x0A1F\n#define PHY_SSCCR2\t\t\t0x02\n#define   PHY_SSCCR2_PLL_NCODE\t\t0x0A00\n#define   PHY_SSCCR2_TIME0\t\t0x001C\n#define   PHY_SSCCR2_TIME2_WIDTH\t0x0003\n\n#define PHY_RCR2\t\t\t0x03\n#define   PHY_RCR2_EMPHASE_EN\t\t0x8000\n#define   PHY_RCR2_NADJR\t\t0x4000\n#define   PHY_RCR2_CDR_SR_2\t\t0x0100\n#define   PHY_RCR2_FREQSEL_12\t\t0x0040\n#define   PHY_RCR2_CDR_SC_12P\t\t0x0010\n#define   PHY_RCR2_CALIB_LATE\t\t0x0002\n#define   PHY_RCR2_INIT_27S\t\t0xC152\n#define PHY_SSCCR3\t\t\t0x03\n#define   PHY_SSCCR3_STEP_IN\t\t0x2740\n#define   PHY_SSCCR3_CHECK_DELAY\t0x0008\n#define _PHY_ANA03\t\t\t0x03\n#define   _PHY_ANA03_TIMER_MAX\t\t0x2700\n#define   _PHY_ANA03_OOBS_DEB_EN\t0x0040\n#define   _PHY_CMU_DEBUG_EN\t\t0x0008\n\n#define PHY_RTCR\t\t\t0x04\n#define PHY_RDR\t\t\t\t0x05\n#define   PHY_RDR_RXDSEL_1_9\t\t0x4000\n#define   PHY_SSC_AUTO_PWD\t\t0x0600\n#define PHY_TCR0\t\t\t0x06\n#define PHY_TCR1\t\t\t0x07\n#define PHY_TUNE\t\t\t0x08\n#define   PHY_TUNE_TUNEREF_1_0\t\t0x4000\n#define   PHY_TUNE_VBGSEL_1252\t\t0x0C00\n#define   PHY_TUNE_SDBUS_33\t\t0x0200\n#define   PHY_TUNE_TUNED18\t\t0x01C0\n#define   PHY_TUNE_TUNED12\t\t0X0020\n#define   PHY_TUNE_TUNEA12\t\t0x0004\n#define   PHY_TUNE_VOLTAGE_MASK\t\t0xFC3F\n#define   PHY_TUNE_VOLTAGE_3V3\t\t0x03C0\n#define   PHY_TUNE_D18_1V8\t\t0x0100\n#define   PHY_TUNE_D18_1V7\t\t0x0080\n#define PHY_ANA08\t\t\t0x08\n#define   PHY_ANA08_RX_EQ_DCGAIN\t0x5000\n#define   PHY_ANA08_SEL_RX_EN\t\t0x0400\n#define   PHY_ANA08_RX_EQ_VAL\t\t0x03C0\n#define   PHY_ANA08_SCP\t\t\t0x0020\n#define   PHY_ANA08_SEL_IPI\t\t0x0004\n\n#define PHY_IMR\t\t\t\t0x09\n#define PHY_BPCR\t\t\t0x0A\n#define   PHY_BPCR_IBRXSEL\t\t0x0400\n#define   PHY_BPCR_IBTXSEL\t\t0x0100\n#define   PHY_BPCR_IB_FILTER\t\t0x0080\n#define   PHY_BPCR_CMIRROR_EN\t\t0x0040\n\n#define PHY_BIST\t\t\t0x0B\n#define PHY_RAW_L\t\t\t0x0C\n#define PHY_RAW_H\t\t\t0x0D\n#define PHY_RAW_DATA\t\t\t0x0E\n#define PHY_HOST_CLK_CTRL\t\t0x0F\n#define PHY_DMR\t\t\t\t0x10\n#define PHY_BACR\t\t\t0x11\n#define   PHY_BACR_BASIC_MASK\t\t0xFFF3\n#define PHY_IER\t\t\t\t0x12\n#define PHY_BCSR\t\t\t0x13\n#define PHY_BPR\t\t\t\t0x14\n#define PHY_BPNR2\t\t\t0x15\n#define PHY_BPNR\t\t\t0x16\n#define PHY_BRNR2\t\t\t0x17\n#define PHY_BENR\t\t\t0x18\n#define PHY_REV\t\t\t\t0x19\n#define   PHY_REV_RESV\t\t\t0xE000\n#define   PHY_REV_RXIDLE_LATCHED\t0x1000\n#define   PHY_REV_P1_EN\t\t\t0x0800\n#define   PHY_REV_RXIDLE_EN\t\t0x0400\n#define   PHY_REV_CLKREQ_TX_EN\t\t0x0200\n#define   PHY_REV_CLKREQ_RX_EN\t\t0x0100\n#define   PHY_REV_CLKREQ_DT_1_0\t\t0x0040\n#define   PHY_REV_STOP_CLKRD\t\t0x0020\n#define   PHY_REV_RX_PWST\t\t0x0008\n#define   PHY_REV_STOP_CLKWR\t\t0x0004\n#define _PHY_REV0\t\t\t0x19\n#define   _PHY_REV0_FILTER_OUT\t\t0x3800\n#define   _PHY_REV0_CDR_BYPASS_PFD\t0x0100\n#define   _PHY_REV0_CDR_RX_IDLE_BYPASS\t0x0002\n\n#define PHY_FLD0\t\t\t0x1A\n#define PHY_ANA1A\t\t\t0x1A\n#define   PHY_ANA1A_TXR_LOOPBACK\t0x2000\n#define   PHY_ANA1A_RXT_BIST\t\t0x0500\n#define   PHY_ANA1A_TXR_BIST\t\t0x0040\n#define   PHY_ANA1A_REV\t\t\t0x0006\n#define   PHY_FLD0_INIT_27S\t\t0x2546\n#define PHY_FLD1\t\t\t0x1B\n#define PHY_FLD2\t\t\t0x1C\n#define PHY_FLD3\t\t\t0x1D\n#define   PHY_FLD3_TIMER_4\t\t0x0800\n#define   PHY_FLD3_TIMER_6\t\t0x0020\n#define   PHY_FLD3_RXDELINK\t\t0x0004\n#define   PHY_FLD3_INIT_27S\t\t0x0004\n#define PHY_ANA1D\t\t\t0x1D\n#define   PHY_ANA1D_DEBUG_ADDR\t\t0x0004\n#define _PHY_FLD0\t\t\t0x1D\n#define   _PHY_FLD0_CLK_REQ_20C\t\t0x8000\n#define   _PHY_FLD0_RX_IDLE_EN\t\t0x1000\n#define   _PHY_FLD0_BIT_ERR_RSTN\t0x0800\n#define   _PHY_FLD0_BER_COUNT\t\t0x01E0\n#define   _PHY_FLD0_BER_TIMER\t\t0x001E\n#define   _PHY_FLD0_CHECK_EN\t\t0x0001\n\n#define PHY_FLD4\t\t\t0x1E\n#define   PHY_FLD4_FLDEN_SEL\t\t0x4000\n#define   PHY_FLD4_REQ_REF\t\t0x2000\n#define   PHY_FLD4_RXAMP_OFF\t\t0x1000\n#define   PHY_FLD4_REQ_ADDA\t\t0x0800\n#define   PHY_FLD4_BER_COUNT\t\t0x00E0\n#define   PHY_FLD4_BER_TIMER\t\t0x000A\n#define   PHY_FLD4_BER_CHK_EN\t\t0x0001\n#define   PHY_FLD4_INIT_27S\t\t0x5C7F\n#define PHY_DIG1E\t\t\t0x1E\n#define   PHY_DIG1E_REV\t\t\t0x4000\n#define   PHY_DIG1E_D0_X_D1\t\t0x1000\n#define   PHY_DIG1E_RX_ON_HOST\t\t0x0800\n#define   PHY_DIG1E_RCLK_REF_HOST\t0x0400\n#define   PHY_DIG1E_RCLK_TX_EN_KEEP\t0x0040\n#define   PHY_DIG1E_RCLK_TX_TERM_KEEP\t0x0020\n#define   PHY_DIG1E_RCLK_RX_EIDLE_ON\t0x0010\n#define   PHY_DIG1E_TX_TERM_KEEP\t0x0008\n#define   PHY_DIG1E_RX_TERM_KEEP\t0x0004\n#define   PHY_DIG1E_TX_EN_KEEP\t\t0x0002\n#define   PHY_DIG1E_RX_EN_KEEP\t\t0x0001\n#define PHY_DUM_REG\t\t\t0x1F\n\n#define PCR_SETTING_REG1\t\t0x724\n#define PCR_SETTING_REG2\t\t0x814\n#define PCR_SETTING_REG3\t\t0x747\n#define PCR_SETTING_REG4\t\t0x818\n#define PCR_SETTING_REG5\t\t0x81C\n\n\n#define rtsx_pci_init_cmd(pcr)\t\t((pcr)->ci = 0)\n\n#define RTS5227_DEVICE_ID\t\t0x5227\n#define RTS_MAX_TIMES_FREQ_REDUCTION\t8\n\nstruct rtsx_pcr;\n\nstruct pcr_handle {\n\tstruct rtsx_pcr\t\t\t*pcr;\n};\n\nstruct pcr_ops {\n\tint (*write_phy)(struct rtsx_pcr *pcr, u8 addr, u16 val);\n\tint (*read_phy)(struct rtsx_pcr *pcr, u8 addr, u16 *val);\n\tint\t\t(*extra_init_hw)(struct rtsx_pcr *pcr);\n\tint\t\t(*optimize_phy)(struct rtsx_pcr *pcr);\n\tint\t\t(*turn_on_led)(struct rtsx_pcr *pcr);\n\tint\t\t(*turn_off_led)(struct rtsx_pcr *pcr);\n\tint\t\t(*enable_auto_blink)(struct rtsx_pcr *pcr);\n\tint\t\t(*disable_auto_blink)(struct rtsx_pcr *pcr);\n\tint\t\t(*card_power_on)(struct rtsx_pcr *pcr, int card);\n\tint\t\t(*card_power_off)(struct rtsx_pcr *pcr, int card);\n\tint\t\t(*switch_output_voltage)(struct rtsx_pcr *pcr,\n\t\t\t\t\t\tu8 voltage);\n\tunsigned int\t(*cd_deglitch)(struct rtsx_pcr *pcr);\n\tint\t\t(*conv_clk_and_div_n)(int clk, int dir);\n\tvoid\t\t(*fetch_vendor_settings)(struct rtsx_pcr *pcr);\n\tvoid\t\t(*force_power_down)(struct rtsx_pcr *pcr, u8 pm_state, bool runtime);\n\tvoid\t\t(*stop_cmd)(struct rtsx_pcr *pcr);\n\n\tvoid (*set_aspm)(struct rtsx_pcr *pcr, bool enable);\n\tvoid (*set_l1off_cfg_sub_d0)(struct rtsx_pcr *pcr, int active);\n\tvoid (*enable_ocp)(struct rtsx_pcr *pcr);\n\tvoid (*disable_ocp)(struct rtsx_pcr *pcr);\n\tvoid (*init_ocp)(struct rtsx_pcr *pcr);\n\tvoid (*process_ocp)(struct rtsx_pcr *pcr);\n\tint (*get_ocpstat)(struct rtsx_pcr *pcr, u8 *val);\n\tvoid (*clear_ocpstat)(struct rtsx_pcr *pcr);\n};\n\nenum PDEV_STAT  {PDEV_STAT_IDLE, PDEV_STAT_RUN};\nenum ASPM_MODE  {ASPM_MODE_CFG, ASPM_MODE_REG};\n\n#define ASPM_L1_1_EN\t\t\tBIT(0)\n#define ASPM_L1_2_EN\t\t\tBIT(1)\n#define PM_L1_1_EN\t\t\t\tBIT(2)\n#define PM_L1_2_EN\t\t\t\tBIT(3)\n#define LTR_L1SS_PWR_GATE_EN\tBIT(4)\n#define L1_SNOOZE_TEST_EN\t\tBIT(5)\n#define LTR_L1SS_PWR_GATE_CHECK_CARD_EN\tBIT(6)\n\n \nstruct rtsx_cr_option {\n\tu32 dev_flags;\n\tbool force_clkreq_0;\n\tbool ltr_en;\n\tbool ltr_enabled;\n\tbool ltr_active;\n\tu32 ltr_active_latency;\n\tu32 ltr_idle_latency;\n\tu32 ltr_l1off_latency;\n\tu32 l1_snooze_delay;\n\tu8 ltr_l1off_sspwrgate;\n\tu8 ltr_l1off_snooze_sspwrgate;\n\tbool ocp_en;\n\tu8 sd_400mA_ocp_thd;\n\tu8 sd_800mA_ocp_thd;\n};\n\n \nstruct rtsx_hw_param {\n\tu32 interrupt_en;\n\tu8 ocp_glitch;\n};\n\n#define rtsx_set_dev_flag(cr, flag) \\\n\t((cr)->option.dev_flags |= (flag))\n#define rtsx_clear_dev_flag(cr, flag) \\\n\t((cr)->option.dev_flags &= ~(flag))\n#define rtsx_check_dev_flag(cr, flag) \\\n\t((cr)->option.dev_flags & (flag))\n\nstruct rtsx_pcr {\n\tstruct pci_dev\t\t\t*pci;\n\tunsigned int\t\t\tid;\n\tstruct rtsx_cr_option\toption;\n\tstruct rtsx_hw_param hw_param;\n\n\t \n\tunsigned long\t\t\taddr;\n\tvoid __iomem\t\t\t*remap_addr;\n\tint\t\t\t\tirq;\n\n\t \n\tvoid\t\t\t\t*rtsx_resv_buf;\n\tdma_addr_t\t\t\trtsx_resv_buf_addr;\n\n\tvoid\t\t\t\t*host_cmds_ptr;\n\tdma_addr_t\t\t\thost_cmds_addr;\n\tint\t\t\t\tci;\n\n\tvoid\t\t\t\t*host_sg_tbl_ptr;\n\tdma_addr_t\t\t\thost_sg_tbl_addr;\n\tint\t\t\t\tsgi;\n\n\tu32\t\t\t\tbier;\n\tchar\t\t\t\ttrans_result;\n\n\tunsigned int\t\t\tcard_inserted;\n\tunsigned int\t\t\tcard_removed;\n\tunsigned int\t\t\tcard_exist;\n\n\tstruct delayed_work\t\tcarddet_work;\n\n\tspinlock_t\t\t\tlock;\n\tstruct mutex\t\t\tpcr_mutex;\n\tstruct completion\t\t*done;\n\tstruct completion\t\t*finish_me;\n\n\tunsigned int\t\t\tcur_clock;\n\tbool\t\t\t\tremove_pci;\n\tbool\t\t\t\tmsi_en;\n\n#define EXTRA_CAPS_SD_SDR50\t\t(1 << 0)\n#define EXTRA_CAPS_SD_SDR104\t\t(1 << 1)\n#define EXTRA_CAPS_SD_DDR50\t\t(1 << 2)\n#define EXTRA_CAPS_MMC_HSDDR\t\t(1 << 3)\n#define EXTRA_CAPS_MMC_HS200\t\t(1 << 4)\n#define EXTRA_CAPS_MMC_8BIT\t\t(1 << 5)\n#define EXTRA_CAPS_NO_MMC\t\t(1 << 7)\n#define EXTRA_CAPS_SD_EXPRESS\t\t(1 << 8)\n\tu32\t\t\t\textra_caps;\n\n#define IC_VER_A\t\t\t0\n#define IC_VER_B\t\t\t1\n#define IC_VER_C\t\t\t2\n#define IC_VER_D\t\t\t3\n\tu8\t\t\t\tic_version;\n\n\tu8\t\t\t\tsd30_drive_sel_1v8;\n\tu8\t\t\t\tsd30_drive_sel_3v3;\n\tu8\t\t\t\tcard_drive_sel;\n#define ASPM_L1_EN\t\t\t0x02\n\tu8\t\t\t\taspm_en;\n\tenum ASPM_MODE\t\t\taspm_mode;\n\tbool\t\t\t\taspm_enabled;\n\n#define PCR_MS_PMOS\t\t\t(1 << 0)\n#define PCR_REVERSE_SOCKET\t\t(1 << 1)\n\tu32\t\t\t\tflags;\n\n\tu32\t\t\t\ttx_initial_phase;\n\tu32\t\t\t\trx_initial_phase;\n\n\tconst u32\t\t\t*sd_pull_ctl_enable_tbl;\n\tconst u32\t\t\t*sd_pull_ctl_disable_tbl;\n\tconst u32\t\t\t*ms_pull_ctl_enable_tbl;\n\tconst u32\t\t\t*ms_pull_ctl_disable_tbl;\n\n\tconst struct pcr_ops\t\t*ops;\n\tenum PDEV_STAT\t\t\tstate;\n\n\tu16\t\t\t\treg_pm_ctrl3;\n\n\tint\t\t\t\tnum_slots;\n\tstruct rtsx_slot\t\t*slots;\n\n\tu8\t\t\t\tdma_error_count;\n\tu8\t\t\tocp_stat;\n\tu8\t\t\tocp_stat2;\n\tu8\t\t\trtd3_en;\n};\n\n#define PID_524A\t0x524A\n#define PID_5249\t0x5249\n#define PID_5250\t0x5250\n#define PID_525A\t0x525A\n#define PID_5260\t0x5260\n#define PID_5261\t0x5261\n#define PID_5228\t0x5228\n\n#define CHK_PCI_PID(pcr, pid)\t\t((pcr)->pci->device == (pid))\n#define PCI_VID(pcr)\t\t\t((pcr)->pci->vendor)\n#define PCI_PID(pcr)\t\t\t((pcr)->pci->device)\n#define is_version(pcr, pid, ver)\t\t\t\t\\\n\t(CHK_PCI_PID(pcr, pid) && (pcr)->ic_version == (ver))\n#define is_version_higher_than(pcr, pid, ver)\t\t\t\\\n\t(CHK_PCI_PID(pcr, pid) && (pcr)->ic_version > (ver))\n#define pcr_dbg(pcr, fmt, arg...)\t\t\t\t\\\n\tdev_dbg(&(pcr)->pci->dev, fmt, ##arg)\n\n#define SDR104_PHASE(val)\t\t((val) & 0xFF)\n#define SDR50_PHASE(val)\t\t(((val) >> 8) & 0xFF)\n#define DDR50_PHASE(val)\t\t(((val) >> 16) & 0xFF)\n#define SDR104_TX_PHASE(pcr)\t\tSDR104_PHASE((pcr)->tx_initial_phase)\n#define SDR50_TX_PHASE(pcr)\t\tSDR50_PHASE((pcr)->tx_initial_phase)\n#define DDR50_TX_PHASE(pcr)\t\tDDR50_PHASE((pcr)->tx_initial_phase)\n#define SDR104_RX_PHASE(pcr)\t\tSDR104_PHASE((pcr)->rx_initial_phase)\n#define SDR50_RX_PHASE(pcr)\t\tSDR50_PHASE((pcr)->rx_initial_phase)\n#define DDR50_RX_PHASE(pcr)\t\tDDR50_PHASE((pcr)->rx_initial_phase)\n#define SET_CLOCK_PHASE(sdr104, sdr50, ddr50)\t\\\n\t\t\t\t(((ddr50) << 16) | ((sdr50) << 8) | (sdr104))\n\nvoid rtsx_pci_start_run(struct rtsx_pcr *pcr);\nint rtsx_pci_write_register(struct rtsx_pcr *pcr, u16 addr, u8 mask, u8 data);\nint rtsx_pci_read_register(struct rtsx_pcr *pcr, u16 addr, u8 *data);\nint rtsx_pci_write_phy_register(struct rtsx_pcr *pcr, u8 addr, u16 val);\nint rtsx_pci_read_phy_register(struct rtsx_pcr *pcr, u8 addr, u16 *val);\nvoid rtsx_pci_stop_cmd(struct rtsx_pcr *pcr);\nvoid rtsx_pci_add_cmd(struct rtsx_pcr *pcr,\n\t\tu8 cmd_type, u16 reg_addr, u8 mask, u8 data);\nvoid rtsx_pci_send_cmd_no_wait(struct rtsx_pcr *pcr);\nint rtsx_pci_send_cmd(struct rtsx_pcr *pcr, int timeout);\nint rtsx_pci_transfer_data(struct rtsx_pcr *pcr, struct scatterlist *sglist,\n\t\tint num_sg, bool read, int timeout);\nint rtsx_pci_dma_map_sg(struct rtsx_pcr *pcr, struct scatterlist *sglist,\n\t\tint num_sg, bool read);\nvoid rtsx_pci_dma_unmap_sg(struct rtsx_pcr *pcr, struct scatterlist *sglist,\n\t\tint num_sg, bool read);\nint rtsx_pci_dma_transfer(struct rtsx_pcr *pcr, struct scatterlist *sglist,\n\t\tint count, bool read, int timeout);\nint rtsx_pci_read_ppbuf(struct rtsx_pcr *pcr, u8 *buf, int buf_len);\nint rtsx_pci_write_ppbuf(struct rtsx_pcr *pcr, u8 *buf, int buf_len);\nint rtsx_pci_card_pull_ctl_enable(struct rtsx_pcr *pcr, int card);\nint rtsx_pci_card_pull_ctl_disable(struct rtsx_pcr *pcr, int card);\nint rtsx_pci_switch_clock(struct rtsx_pcr *pcr, unsigned int card_clock,\n\t\tu8 ssc_depth, bool initial_mode, bool double_clk, bool vpclk);\nint rtsx_pci_card_power_on(struct rtsx_pcr *pcr, int card);\nint rtsx_pci_card_power_off(struct rtsx_pcr *pcr, int card);\nint rtsx_pci_card_exclusive_check(struct rtsx_pcr *pcr, int card);\nint rtsx_pci_switch_output_voltage(struct rtsx_pcr *pcr, u8 voltage);\nunsigned int rtsx_pci_card_exist(struct rtsx_pcr *pcr);\nvoid rtsx_pci_complete_unfinished_transfer(struct rtsx_pcr *pcr);\n\nstatic inline u8 *rtsx_pci_get_cmd_data(struct rtsx_pcr *pcr)\n{\n\treturn (u8 *)(pcr->host_cmds_ptr);\n}\n\nstatic inline void rtsx_pci_write_be32(struct rtsx_pcr *pcr, u16 reg, u32 val)\n{\n\trtsx_pci_add_cmd(pcr, WRITE_REG_CMD, reg,     0xFF, val >> 24);\n\trtsx_pci_add_cmd(pcr, WRITE_REG_CMD, reg + 1, 0xFF, val >> 16);\n\trtsx_pci_add_cmd(pcr, WRITE_REG_CMD, reg + 2, 0xFF, val >> 8);\n\trtsx_pci_add_cmd(pcr, WRITE_REG_CMD, reg + 3, 0xFF, val);\n}\n\nstatic inline int rtsx_pci_update_phy(struct rtsx_pcr *pcr, u8 addr,\n\tu16 mask, u16 append)\n{\n\tint err;\n\tu16 val;\n\n\terr = rtsx_pci_read_phy_register(pcr, addr, &val);\n\tif (err < 0)\n\t\treturn err;\n\n\treturn rtsx_pci_write_phy_register(pcr, addr, (val & mask) | append);\n}\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}