{
  "module_name": "alcor_pci.h",
  "hash_id": "6916d4470495f440fbc689986a2f76ce56425afdfb852f9772e3800e0241d223",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/alcor_pci.h",
  "human_readable_source": " \n \n\n#ifndef __ALCOR_PCI_H\n#define __ALCOR_PCI_H\n\n#define ALCOR_SD_CARD 0\n#define ALCOR_MS_CARD 1\n\n#define DRV_NAME_ALCOR_PCI_SDMMC\t\t\"alcor_sdmmc\"\n#define DRV_NAME_ALCOR_PCI_MS\t\t\t\"alcor_ms\"\n\n#define PCI_ID_ALCOR_MICRO\t\t\t0x1AEA\n#define PCI_ID_AU6601\t\t\t\t0x6601\n#define PCI_ID_AU6621\t\t\t\t0x6621\n#define PCI_ID_AU6625\t\t\t\t0x6625\n\n#define MHZ_TO_HZ(freq)\t\t\t\t((freq) * 1000 * 1000)\n\n#define AU6601_BASE_CLOCK\t\t\t31000000\n#define AU6601_MIN_CLOCK\t\t\t150000\n#define AU6601_MAX_CLOCK\t\t\t208000000\n#define AU6601_MAX_DMA_SEGMENTS\t\t\t64\n#define AU6601_MAX_PIO_SEGMENTS\t\t\t1\n#define AU6601_MAX_DMA_BLOCK_SIZE\t\t0x1000\n#define AU6601_MAX_PIO_BLOCK_SIZE\t\t0x200\n#define AU6601_MAX_DMA_BLOCKS\t\t\t1\n#define AU6601_DMA_LOCAL_SEGMENTS\t\t1\n\n \n\n \n#define AU6601_REG_SDMA_ADDR\t\t\t0x00\n#define AU6601_SDMA_MASK\t\t\t0xffffffff\n\n#define AU6601_DMA_BOUNDARY\t\t\t0x05\n#define AU6621_DMA_PAGE_CNT\t\t\t0x05\n \n#define AU6601_REG_BUFFER\t\t\t0x08\n \n#define AU6621_DMA_CTRL\t\t\t\t0x0c\n#define AU6621_DMA_ENABLE\t\t\tBIT(0)\n \n#define AU6601_REG_CMD_OPCODE\t\t\t0x23\n \n#define AU6601_REG_CMD_ARG\t\t\t0x24\n \n#define AU6601_REG_CMD_RSP0\t\t\t0x30\n#define AU6601_REG_CMD_RSP1\t\t\t0x34\n#define AU6601_REG_CMD_RSP2\t\t\t0x38\n#define AU6601_REG_CMD_RSP3\t\t\t0x3C\n \n#define AU6601_TIME_OUT_CTRL\t\t\t0x69\n \n#define AU6601_REG_BLOCK_SIZE\t\t\t0x6c\n \n#define AU6601_POWER_CONTROL\t\t\t0x70\n\n \n#define AU6601_CLK_SELECT\t\t\t0x72\n#define\tAU6601_CLK_OVER_CLK\t\t\t0x80\n#define\tAU6601_CLK_384_MHZ\t\t\t0x30\n#define\tAU6601_CLK_125_MHZ\t\t\t0x20\n#define\tAU6601_CLK_48_MHZ\t\t\t0x10\n#define\tAU6601_CLK_EXT_PLL\t\t\t0x04\n#define AU6601_CLK_X2_MODE\t\t\t0x02\n#define AU6601_CLK_ENABLE\t\t\t0x01\n#define AU6601_CLK_31_25_MHZ\t\t\t0x00\n\n#define AU6601_CLK_DIVIDER\t\t\t0x73\n\n#define AU6601_INTERFACE_MODE_CTRL\t\t0x74\n#define AU6601_DLINK_MODE\t\t\t0x80\n#define\tAU6601_INTERRUPT_DELAY_TIME\t\t0x40\n#define\tAU6601_SIGNAL_REQ_CTRL\t\t\t0x30\n#define AU6601_MS_CARD_WP\t\t\tBIT(3)\n#define AU6601_SD_CARD_WP\t\t\tBIT(0)\n\n \n#define AU6601_ACTIVE_CTRL\t\t\t0x75\n#define AU6601_XD_CARD\t\t\t\tBIT(4)\n \n#define AU6601_MS_CARD\t\t\t\tBIT(3)\n#define AU6601_SD_CARD\t\t\t\tBIT(0)\n\n \n#define AU6601_DETECT_STATUS\t\t\t0x76\n#define AU6601_DETECT_EN\t\t\tBIT(7)\n#define AU6601_MS_DETECTED\t\t\tBIT(3)\n#define AU6601_SD_DETECTED\t\t\tBIT(0)\n#define AU6601_DETECT_STATUS_M\t\t\t0xf\n\n#define AU6601_REG_SW_RESET\t\t\t0x79\n#define AU6601_BUF_CTRL_RESET\t\t\tBIT(7)\n#define AU6601_RESET_DATA\t\t\tBIT(3)\n#define AU6601_RESET_CMD\t\t\tBIT(0)\n\n#define AU6601_OUTPUT_ENABLE\t\t\t0x7a\n\n#define AU6601_PAD_DRIVE0\t\t\t0x7b\n#define AU6601_PAD_DRIVE1\t\t\t0x7c\n#define AU6601_PAD_DRIVE2\t\t\t0x7d\n \n#define AU6601_FUNCTION\t\t\t\t0x7f\n\n#define AU6601_CMD_XFER_CTRL\t\t\t0x81\n#define\tAU6601_CMD_17_BYTE_CRC\t\t\t0xc0\n#define\tAU6601_CMD_6_BYTE_WO_CRC\t\t0x80\n#define\tAU6601_CMD_6_BYTE_CRC\t\t\t0x40\n#define\tAU6601_CMD_START_XFER\t\t\t0x20\n#define\tAU6601_CMD_STOP_WAIT_RDY\t\t0x10\n#define\tAU6601_CMD_NO_RESP\t\t\t0x00\n\n#define AU6601_REG_BUS_CTRL\t\t\t0x82\n#define AU6601_BUS_WIDTH_4BIT\t\t\t0x20\n#define AU6601_BUS_WIDTH_8BIT\t\t\t0x10\n#define AU6601_BUS_WIDTH_1BIT\t\t\t0x00\n\n#define AU6601_DATA_XFER_CTRL\t\t\t0x83\n#define AU6601_DATA_WRITE\t\t\tBIT(7)\n#define AU6601_DATA_DMA_MODE\t\t\tBIT(6)\n#define AU6601_DATA_START_XFER\t\t\tBIT(0)\n\n#define AU6601_DATA_PIN_STATE\t\t\t0x84\n#define AU6601_BUS_STAT_CMD\t\t\tBIT(15)\n \n#define AU6601_BUS_STAT_DAT3\t\t\tBIT(3)\n#define AU6601_BUS_STAT_DAT2\t\t\tBIT(2)\n#define AU6601_BUS_STAT_DAT1\t\t\tBIT(1)\n#define AU6601_BUS_STAT_DAT0\t\t\tBIT(0)\n#define AU6601_BUS_STAT_DAT_MASK\t\t0xf\n\n#define AU6601_OPT\t\t\t\t0x85\n#define\tAU6601_OPT_CMD_LINE_LEVEL\t\t0x80\n#define\tAU6601_OPT_NCRC_16_CLK\t\t\tBIT(4)\n#define\tAU6601_OPT_CMD_NWT\t\t\tBIT(3)\n#define\tAU6601_OPT_STOP_CLK\t\t\tBIT(2)\n#define\tAU6601_OPT_DDR_MODE\t\t\tBIT(1)\n#define\tAU6601_OPT_SD_18V\t\t\tBIT(0)\n\n#define AU6601_CLK_DELAY\t\t\t0x86\n#define\tAU6601_CLK_DATA_POSITIVE_EDGE\t\t0x80\n#define\tAU6601_CLK_CMD_POSITIVE_EDGE\t\t0x40\n#define\tAU6601_CLK_POSITIVE_EDGE_ALL\t\t(AU6601_CLK_CMD_POSITIVE_EDGE \\\n\t\t\t\t\t\t| AU6601_CLK_DATA_POSITIVE_EDGE)\n\n\n#define AU6601_REG_INT_STATUS\t\t\t0x90\n#define AU6601_REG_INT_ENABLE\t\t\t0x94\n#define AU6601_INT_DATA_END_BIT_ERR\t\tBIT(22)\n#define AU6601_INT_DATA_CRC_ERR\t\t\tBIT(21)\n#define AU6601_INT_DATA_TIMEOUT_ERR\t\tBIT(20)\n#define AU6601_INT_CMD_INDEX_ERR\t\tBIT(19)\n#define AU6601_INT_CMD_END_BIT_ERR\t\tBIT(18)\n#define AU6601_INT_CMD_CRC_ERR\t\t\tBIT(17)\n#define AU6601_INT_CMD_TIMEOUT_ERR\t\tBIT(16)\n#define AU6601_INT_ERROR\t\t\tBIT(15)\n#define AU6601_INT_OVER_CURRENT_ERR\t\tBIT(8)\n#define AU6601_INT_CARD_INSERT\t\t\tBIT(7)\n#define AU6601_INT_CARD_REMOVE\t\t\tBIT(6)\n#define AU6601_INT_READ_BUF_RDY\t\t\tBIT(5)\n#define AU6601_INT_WRITE_BUF_RDY\t\tBIT(4)\n#define AU6601_INT_DMA_END\t\t\tBIT(3)\n#define AU6601_INT_DATA_END\t\t\tBIT(1)\n#define AU6601_INT_CMD_END\t\t\tBIT(0)\n\n#define AU6601_INT_NORMAL_MASK\t\t\t0x00007FFF\n#define AU6601_INT_ERROR_MASK\t\t\t0xFFFF8000\n\n#define AU6601_INT_CMD_MASK\t(AU6601_INT_CMD_END | \\\n\t\tAU6601_INT_CMD_TIMEOUT_ERR | AU6601_INT_CMD_CRC_ERR | \\\n\t\tAU6601_INT_CMD_END_BIT_ERR | AU6601_INT_CMD_INDEX_ERR)\n#define AU6601_INT_DATA_MASK\t(AU6601_INT_DATA_END | AU6601_INT_DMA_END | \\\n\t\tAU6601_INT_READ_BUF_RDY | AU6601_INT_WRITE_BUF_RDY | \\\n\t\tAU6601_INT_DATA_TIMEOUT_ERR | AU6601_INT_DATA_CRC_ERR | \\\n\t\tAU6601_INT_DATA_END_BIT_ERR)\n#define AU6601_INT_ALL_MASK\t\t\t((u32)-1)\n\n \n\n#define AU6601_MS_STATUS\t\t\t0xa0\n\n#define AU6601_MS_BUS_MODE_CTRL\t\t\t0xa1\n#define AU6601_MS_BUS_8BIT_MODE\t\t\t0x03\n#define AU6601_MS_BUS_4BIT_MODE\t\t\t0x01\n#define AU6601_MS_BUS_1BIT_MODE\t\t\t0x00\n\n#define AU6601_MS_TPC_CMD\t\t\t0xa2\n#define AU6601_MS_TPC_READ_PAGE_DATA\t\t0x02\n#define AU6601_MS_TPC_READ_REG\t\t\t0x04\n#define AU6601_MS_TPC_GET_INT\t\t\t0x07\n#define AU6601_MS_TPC_WRITE_PAGE_DATA\t\t0x0D\n#define AU6601_MS_TPC_WRITE_REG\t\t\t0x0B\n#define AU6601_MS_TPC_SET_RW_REG_ADRS\t\t0x08\n#define AU6601_MS_TPC_SET_CMD\t\t\t0x0E\n#define AU6601_MS_TPC_EX_SET_CMD\t\t0x09\n#define AU6601_MS_TPC_READ_SHORT_DATA\t\t0x03\n#define AU6601_MS_TPC_WRITE_SHORT_DATA\t\t0x0C\n\n#define AU6601_MS_TRANSFER_MODE\t\t\t0xa3\n#define\tAU6601_MS_XFER_INT_TIMEOUT_CHK\t\tBIT(2)\n#define\tAU6601_MS_XFER_DMA_ENABLE\t\tBIT(1)\n#define\tAU6601_MS_XFER_START\t\t\tBIT(0)\n\n#define AU6601_MS_DATA_PIN_STATE\t\t0xa4\n\n#define AU6601_MS_INT_STATUS\t\t\t0xb0\n#define AU6601_MS_INT_ENABLE\t\t\t0xb4\n#define AU6601_MS_INT_OVER_CURRENT_ERROR\tBIT(23)\n#define AU6601_MS_INT_DATA_CRC_ERROR\t\tBIT(21)\n#define AU6601_MS_INT_INT_TIMEOUT\t\tBIT(20)\n#define AU6601_MS_INT_INT_RESP_ERROR\t\tBIT(19)\n#define AU6601_MS_INT_CED_ERROR\t\t\tBIT(18)\n#define AU6601_MS_INT_TPC_TIMEOUT\t\tBIT(16)\n#define AU6601_MS_INT_ERROR\t\t\tBIT(15)\n#define AU6601_MS_INT_CARD_INSERT\t\tBIT(7)\n#define AU6601_MS_INT_CARD_REMOVE\t\tBIT(6)\n#define AU6601_MS_INT_BUF_READ_RDY\t\tBIT(5)\n#define AU6601_MS_INT_BUF_WRITE_RDY\t\tBIT(4)\n#define AU6601_MS_INT_DMA_END\t\t\tBIT(3)\n#define AU6601_MS_INT_TPC_END\t\t\tBIT(1)\n\n#define AU6601_MS_INT_DATA_MASK\t\t\t0x00000038\n#define AU6601_MS_INT_TPC_MASK\t\t\t0x003d8002\n#define AU6601_MS_INT_TPC_ERROR\t\t\t0x003d0000\n\n#define ALCOR_PCIE_LINK_CTRL_OFFSET\t\t0x10\n#define ALCOR_PCIE_LINK_CAP_OFFSET\t\t0x0c\n#define ALCOR_CAP_START_OFFSET\t\t\t0x34\n\nstruct alcor_dev_cfg {\n\tu8\tdma;\n};\n\nstruct alcor_pci_priv {\n\tstruct pci_dev *pdev;\n\tstruct pci_dev *parent_pdev;\n\tstruct  device *dev;\n\tvoid __iomem *iobase;\n\tunsigned int irq;\n\n\tunsigned long id;  \n\n\tstruct alcor_dev_cfg\t*cfg;\n};\n\nvoid alcor_write8(struct alcor_pci_priv *priv, u8 val, unsigned int addr);\nvoid alcor_write16(struct alcor_pci_priv *priv, u16 val, unsigned int addr);\nvoid alcor_write32(struct alcor_pci_priv *priv, u32 val, unsigned int addr);\nvoid alcor_write32be(struct alcor_pci_priv *priv, u32 val, unsigned int addr);\nu8 alcor_read8(struct alcor_pci_priv *priv, unsigned int addr);\nu32 alcor_read32(struct alcor_pci_priv *priv, unsigned int addr);\nu32 alcor_read32be(struct alcor_pci_priv *priv, unsigned int addr);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}