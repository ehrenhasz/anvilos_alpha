{
  "module_name": "scx200_gpio.h",
  "hash_id": "b6bba00d4dd126a873d063c99e830e76f1ca9e2fd5cc798881b62d07572f1494",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/scx200_gpio.h",
  "human_readable_source": " \nu32 scx200_gpio_configure(unsigned index, u32 set, u32 clear);\n\nextern unsigned scx200_gpio_base;\nextern unsigned long scx200_gpio_shadow[2];\nextern struct nsc_gpio_ops scx200_gpio_ops;\n\n#define scx200_gpio_present() (scx200_gpio_base!=0)\n\n \n#define __SCx200_GPIO_BANK unsigned bank = index>>5\n#define __SCx200_GPIO_IOADDR unsigned short ioaddr = scx200_gpio_base+0x10*bank\n#define __SCx200_GPIO_SHADOW unsigned long *shadow = scx200_gpio_shadow+bank\n#define __SCx200_GPIO_INDEX index &= 31\n\n#define __SCx200_GPIO_OUT __asm__ __volatile__(\"outsl\":\"=mS\" (shadow):\"d\" (ioaddr), \"0\" (shadow))\n\n \n\nstatic inline int scx200_gpio_get(unsigned index) {\n\t__SCx200_GPIO_BANK;\n\t__SCx200_GPIO_IOADDR + 0x04;\n\t__SCx200_GPIO_INDEX;\n\t\t\n\treturn (inl(ioaddr) & (1<<index)) ? 1 : 0;\n}\n\n \n\nstatic inline int scx200_gpio_current(unsigned index) {\n        __SCx200_GPIO_BANK;\n\t__SCx200_GPIO_INDEX;\n\t\t\n\treturn (scx200_gpio_shadow[bank] & (1<<index)) ? 1 : 0;\n}\n\n \n\nstatic inline void scx200_gpio_set_high(unsigned index) {\n\t__SCx200_GPIO_BANK;\n\t__SCx200_GPIO_IOADDR;\n\t__SCx200_GPIO_SHADOW;\n\t__SCx200_GPIO_INDEX;\n\tset_bit(index, shadow);\t \n\t__SCx200_GPIO_OUT;\n}\n\n \n\nstatic inline void scx200_gpio_set_low(unsigned index) {\n\t__SCx200_GPIO_BANK;\n\t__SCx200_GPIO_IOADDR;\n\t__SCx200_GPIO_SHADOW;\n\t__SCx200_GPIO_INDEX;\n\tclear_bit(index, shadow);  \n\t__SCx200_GPIO_OUT;\n}\n\n \n\nstatic inline void scx200_gpio_set(unsigned index, int state) {\n\t__SCx200_GPIO_BANK;\n\t__SCx200_GPIO_IOADDR;\n\t__SCx200_GPIO_SHADOW;\n\t__SCx200_GPIO_INDEX;\n\tif (state)\n\t\tset_bit(index, shadow);\n\telse\n\t\tclear_bit(index, shadow);\n\t__SCx200_GPIO_OUT;\n}\n\n \nstatic inline void scx200_gpio_change(unsigned index) {\n\t__SCx200_GPIO_BANK;\n\t__SCx200_GPIO_IOADDR;\n\t__SCx200_GPIO_SHADOW;\n\t__SCx200_GPIO_INDEX;\n\tchange_bit(index, shadow);\n\t__SCx200_GPIO_OUT;\n}\n\n#undef __SCx200_GPIO_BANK\n#undef __SCx200_GPIO_IOADDR\n#undef __SCx200_GPIO_SHADOW\n#undef __SCx200_GPIO_INDEX\n#undef __SCx200_GPIO_OUT\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}