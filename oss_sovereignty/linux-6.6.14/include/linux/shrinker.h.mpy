{
  "module_name": "shrinker.h",
  "hash_id": "cb0c73bdc68f1897d20219af79a0f5d0c4d15229ced5dd9fb84099297f2f06fe",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/shrinker.h",
  "human_readable_source": " \n#ifndef _LINUX_SHRINKER_H\n#define _LINUX_SHRINKER_H\n\n#include <linux/atomic.h>\n#include <linux/types.h>\n\n \nstruct shrink_control {\n\tgfp_t gfp_mask;\n\n\t \n\tint nid;\n\n\t \n\tunsigned long nr_to_scan;\n\n\t \n\tunsigned long nr_scanned;\n\n\t \n\tstruct mem_cgroup *memcg;\n};\n\n#define SHRINK_STOP (~0UL)\n#define SHRINK_EMPTY (~0UL - 1)\n \nstruct shrinker {\n\tunsigned long (*count_objects)(struct shrinker *,\n\t\t\t\t       struct shrink_control *sc);\n\tunsigned long (*scan_objects)(struct shrinker *,\n\t\t\t\t      struct shrink_control *sc);\n\n\tlong batch;\t \n\tint seeks;\t \n\tunsigned flags;\n\n\t \n\tstruct list_head list;\n#ifdef CONFIG_MEMCG\n\t \n\tint id;\n#endif\n#ifdef CONFIG_SHRINKER_DEBUG\n\tint debugfs_id;\n\tconst char *name;\n\tstruct dentry *debugfs_entry;\n#endif\n\t \n\tatomic_long_t *nr_deferred;\n};\n#define DEFAULT_SEEKS 2  \n\n \n#define SHRINKER_REGISTERED\t(1 << 0)\n#define SHRINKER_NUMA_AWARE\t(1 << 1)\n#define SHRINKER_MEMCG_AWARE\t(1 << 2)\n \n#define SHRINKER_NONSLAB\t(1 << 3)\n\nextern int __printf(2, 3) prealloc_shrinker(struct shrinker *shrinker,\n\t\t\t\t\t    const char *fmt, ...);\nextern void register_shrinker_prepared(struct shrinker *shrinker);\nextern int __printf(2, 3) register_shrinker(struct shrinker *shrinker,\n\t\t\t\t\t    const char *fmt, ...);\nextern void unregister_shrinker(struct shrinker *shrinker);\nextern void free_prealloced_shrinker(struct shrinker *shrinker);\nextern void synchronize_shrinkers(void);\n\n#ifdef CONFIG_SHRINKER_DEBUG\nextern int shrinker_debugfs_add(struct shrinker *shrinker);\nextern struct dentry *shrinker_debugfs_detach(struct shrinker *shrinker,\n\t\t\t\t\t      int *debugfs_id);\nextern void shrinker_debugfs_remove(struct dentry *debugfs_entry,\n\t\t\t\t    int debugfs_id);\nextern int __printf(2, 3) shrinker_debugfs_rename(struct shrinker *shrinker,\n\t\t\t\t\t\t  const char *fmt, ...);\n#else  \nstatic inline int shrinker_debugfs_add(struct shrinker *shrinker)\n{\n\treturn 0;\n}\nstatic inline struct dentry *shrinker_debugfs_detach(struct shrinker *shrinker,\n\t\t\t\t\t\t     int *debugfs_id)\n{\n\t*debugfs_id = -1;\n\treturn NULL;\n}\nstatic inline void shrinker_debugfs_remove(struct dentry *debugfs_entry,\n\t\t\t\t\t   int debugfs_id)\n{\n}\nstatic inline __printf(2, 3)\nint shrinker_debugfs_rename(struct shrinker *shrinker, const char *fmt, ...)\n{\n\treturn 0;\n}\n#endif  \n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}