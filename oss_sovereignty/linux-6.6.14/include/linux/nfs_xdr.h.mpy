{
  "module_name": "nfs_xdr.h",
  "hash_id": "b697826211776545331882ba8f6b03785d8be1cebc586bf951fc751b99debd5d",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/nfs_xdr.h",
  "human_readable_source": " \n#ifndef _LINUX_NFS_XDR_H\n#define _LINUX_NFS_XDR_H\n\n#include <linux/nfsacl.h>\n#include <linux/sunrpc/gss_api.h>\n\n \n#define NFS_MAX_FILE_IO_SIZE\t(1048576U)\n#define NFS_DEF_FILE_IO_SIZE\t(4096U)\n#define NFS_MIN_FILE_IO_SIZE\t(1024U)\n\n#define NFS_BITMASK_SZ\t\t3\n\nstruct nfs4_string {\n\tunsigned int len;\n\tchar *data;\n};\n\nstruct nfs_fsid {\n\tuint64_t\t\tmajor;\n\tuint64_t\t\tminor;\n};\n\n \nstatic inline int nfs_fsid_equal(const struct nfs_fsid *a, const struct nfs_fsid *b)\n{\n\treturn a->major == b->major && a->minor == b->minor;\n}\n\nstruct nfs4_threshold {\n\t__u32\tbm;\n\t__u32\tl_type;\n\t__u64\trd_sz;\n\t__u64\twr_sz;\n\t__u64\trd_io_sz;\n\t__u64\twr_io_sz;\n};\n\nstruct nfs_fattr {\n\tunsigned int\t\tvalid;\t\t \n\tumode_t\t\t\tmode;\n\t__u32\t\t\tnlink;\n\tkuid_t\t\t\tuid;\n\tkgid_t\t\t\tgid;\n\tdev_t\t\t\trdev;\n\t__u64\t\t\tsize;\n\tunion {\n\t\tstruct {\n\t\t\t__u32\tblocksize;\n\t\t\t__u32\tblocks;\n\t\t} nfs2;\n\t\tstruct {\n\t\t\t__u64\tused;\n\t\t} nfs3;\n\t} du;\n\tstruct nfs_fsid\t\tfsid;\n\t__u64\t\t\tfileid;\n\t__u64\t\t\tmounted_on_fileid;\n\tstruct timespec64\tatime;\n\tstruct timespec64\tmtime;\n\tstruct timespec64\tctime;\n\t__u64\t\t\tchange_attr;\t \n\t__u64\t\t\tpre_change_attr; \n\t__u64\t\t\tpre_size;\t \n\tstruct timespec64\tpre_mtime;\t \n\tstruct timespec64\tpre_ctime;\t \n\tunsigned long\t\ttime_start;\n\tunsigned long\t\tgencount;\n\tstruct nfs4_string\t*owner_name;\n\tstruct nfs4_string\t*group_name;\n\tstruct nfs4_threshold\t*mdsthreshold;\t \n\tstruct nfs4_label\t*label;\n};\n\n#define NFS_ATTR_FATTR_TYPE\t\t(1U << 0)\n#define NFS_ATTR_FATTR_MODE\t\t(1U << 1)\n#define NFS_ATTR_FATTR_NLINK\t\t(1U << 2)\n#define NFS_ATTR_FATTR_OWNER\t\t(1U << 3)\n#define NFS_ATTR_FATTR_GROUP\t\t(1U << 4)\n#define NFS_ATTR_FATTR_RDEV\t\t(1U << 5)\n#define NFS_ATTR_FATTR_SIZE\t\t(1U << 6)\n#define NFS_ATTR_FATTR_PRESIZE\t\t(1U << 7)\n#define NFS_ATTR_FATTR_BLOCKS_USED\t(1U << 8)\n#define NFS_ATTR_FATTR_SPACE_USED\t(1U << 9)\n#define NFS_ATTR_FATTR_FSID\t\t(1U << 10)\n#define NFS_ATTR_FATTR_FILEID\t\t(1U << 11)\n#define NFS_ATTR_FATTR_ATIME\t\t(1U << 12)\n#define NFS_ATTR_FATTR_MTIME\t\t(1U << 13)\n#define NFS_ATTR_FATTR_CTIME\t\t(1U << 14)\n#define NFS_ATTR_FATTR_PREMTIME\t\t(1U << 15)\n#define NFS_ATTR_FATTR_PRECTIME\t\t(1U << 16)\n#define NFS_ATTR_FATTR_CHANGE\t\t(1U << 17)\n#define NFS_ATTR_FATTR_PRECHANGE\t(1U << 18)\n#define NFS_ATTR_FATTR_V4_LOCATIONS\t(1U << 19)\n#define NFS_ATTR_FATTR_V4_REFERRAL\t(1U << 20)\n#define NFS_ATTR_FATTR_MOUNTPOINT\t(1U << 21)\n#define NFS_ATTR_FATTR_MOUNTED_ON_FILEID (1U << 22)\n#define NFS_ATTR_FATTR_OWNER_NAME\t(1U << 23)\n#define NFS_ATTR_FATTR_GROUP_NAME\t(1U << 24)\n#define NFS_ATTR_FATTR_V4_SECURITY_LABEL (1U << 25)\n\n#define NFS_ATTR_FATTR (NFS_ATTR_FATTR_TYPE \\\n\t\t| NFS_ATTR_FATTR_MODE \\\n\t\t| NFS_ATTR_FATTR_NLINK \\\n\t\t| NFS_ATTR_FATTR_OWNER \\\n\t\t| NFS_ATTR_FATTR_GROUP \\\n\t\t| NFS_ATTR_FATTR_RDEV \\\n\t\t| NFS_ATTR_FATTR_SIZE \\\n\t\t| NFS_ATTR_FATTR_FSID \\\n\t\t| NFS_ATTR_FATTR_FILEID \\\n\t\t| NFS_ATTR_FATTR_ATIME \\\n\t\t| NFS_ATTR_FATTR_MTIME \\\n\t\t| NFS_ATTR_FATTR_CTIME \\\n\t\t| NFS_ATTR_FATTR_CHANGE)\n#define NFS_ATTR_FATTR_V2 (NFS_ATTR_FATTR \\\n\t\t| NFS_ATTR_FATTR_BLOCKS_USED)\n#define NFS_ATTR_FATTR_V3 (NFS_ATTR_FATTR \\\n\t\t| NFS_ATTR_FATTR_SPACE_USED)\n#define NFS_ATTR_FATTR_V4 (NFS_ATTR_FATTR \\\n\t\t| NFS_ATTR_FATTR_SPACE_USED \\\n\t\t| NFS_ATTR_FATTR_V4_SECURITY_LABEL)\n\n \n#define NFS_MAX_LAYOUT_TYPES 8\n\n \nstruct nfs_fsinfo {\n\tstruct nfs_fattr\t*fattr;  \n\t__u32\t\t\trtmax;\t \n\t__u32\t\t\trtpref;\t \n\t__u32\t\t\trtmult;\t \n\t__u32\t\t\twtmax;\t \n\t__u32\t\t\twtpref;\t \n\t__u32\t\t\twtmult;\t \n\t__u32\t\t\tdtpref;\t \n\t__u64\t\t\tmaxfilesize;\n\tstruct timespec64\ttime_delta;  \n\t__u32\t\t\tlease_time;  \n\t__u32\t\t\tnlayouttypes;  \n\t__u32\t\t\tlayouttype[NFS_MAX_LAYOUT_TYPES];  \n\t__u32\t\t\tblksize;  \n\t__u32\t\t\tclone_blksize;  \n\tenum nfs4_change_attr_type\n\t\t\t\tchange_attr_type;  \n\t__u32\t\t\txattr_support;  \n};\n\nstruct nfs_fsstat {\n\tstruct nfs_fattr\t*fattr;  \n\t__u64\t\t\ttbytes;\t \n\t__u64\t\t\tfbytes;\t \n\t__u64\t\t\tabytes;\t \n\t__u64\t\t\ttfiles;\t \n\t__u64\t\t\tffiles;\t \n\t__u64\t\t\tafiles;\t \n};\n\nstruct nfs2_fsstat {\n\t__u32\t\t\ttsize;   \n\t__u32\t\t\tbsize;   \n\t__u32\t\t\tblocks;  \n\t__u32\t\t\tbfree;   \n\t__u32\t\t\tbavail;  \n};\n\nstruct nfs_pathconf {\n\tstruct nfs_fattr\t*fattr;  \n\t__u32\t\t\tmax_link;  \n\t__u32\t\t\tmax_namelen;  \n};\n\nstruct nfs4_change_info {\n\tu32\t\t\tatomic;\n\tu64\t\t\tbefore;\n\tu64\t\t\tafter;\n};\n\nstruct nfs_seqid;\n\n \nstruct nfs4_channel_attrs {\n\tu32\t\t\tmax_rqst_sz;\n\tu32\t\t\tmax_resp_sz;\n\tu32\t\t\tmax_resp_sz_cached;\n\tu32\t\t\tmax_ops;\n\tu32\t\t\tmax_reqs;\n};\n\nstruct nfs4_slot;\nstruct nfs4_sequence_args {\n\tstruct nfs4_slot\t*sa_slot;\n\tu8\t\t\tsa_cache_this : 1,\n\t\t\t\tsa_privileged : 1;\n};\n\nstruct nfs4_sequence_res {\n\tstruct nfs4_slot\t*sr_slot;\t \n\tunsigned long\t\tsr_timestamp;\n\tint\t\t\tsr_status;\t \n\tu32\t\t\tsr_status_flags;\n\tu32\t\t\tsr_highest_slotid;\n\tu32\t\t\tsr_target_highest_slotid;\n};\n\nstruct nfs4_get_lease_time_args {\n\tstruct nfs4_sequence_args\tla_seq_args;\n};\n\nstruct nfs4_get_lease_time_res {\n\tstruct nfs4_sequence_res\tlr_seq_res;\n\tstruct nfs_fsinfo\t       *lr_fsinfo;\n};\n\nstruct xdr_stream;\nstruct nfs4_xdr_opaque_data;\n\nstruct nfs4_xdr_opaque_ops {\n\tvoid (*encode)(struct xdr_stream *, const void *args,\n\t\t\tconst struct nfs4_xdr_opaque_data *);\n\tvoid (*free)(struct nfs4_xdr_opaque_data *);\n};\n\nstruct nfs4_xdr_opaque_data {\n\tconst struct nfs4_xdr_opaque_ops *ops;\n\tvoid *data;\n};\n\n#define PNFS_LAYOUT_MAXSIZE 4096\n\nstruct nfs4_layoutdriver_data {\n\tstruct page **pages;\n\t__u32 pglen;\n\t__u32 len;\n};\n\nstruct pnfs_layout_range {\n\tu32 iomode;\n\tu64 offset;\n\tu64 length;\n};\n\nstruct nfs4_layoutget_args {\n\tstruct nfs4_sequence_args seq_args;\n\t__u32 type;\n\tstruct pnfs_layout_range range;\n\t__u64 minlength;\n\t__u32 maxcount;\n\tstruct inode *inode;\n\tstruct nfs_open_context *ctx;\n\tnfs4_stateid stateid;\n\tstruct nfs4_layoutdriver_data layout;\n};\n\nstruct nfs4_layoutget_res {\n\tstruct nfs4_sequence_res seq_res;\n\tint status;\n\t__u32 return_on_close;\n\tstruct pnfs_layout_range range;\n\t__u32 type;\n\tnfs4_stateid stateid;\n\tstruct nfs4_layoutdriver_data *layoutp;\n};\n\nstruct nfs4_layoutget {\n\tstruct nfs4_layoutget_args args;\n\tstruct nfs4_layoutget_res res;\n\tconst struct cred *cred;\n\tstruct pnfs_layout_hdr *lo;\n\tgfp_t gfp_flags;\n};\n\nstruct nfs4_getdeviceinfo_args {\n\tstruct nfs4_sequence_args seq_args;\n\tstruct pnfs_device *pdev;\n\t__u32 notify_types;\n};\n\nstruct nfs4_getdeviceinfo_res {\n\tstruct nfs4_sequence_res seq_res;\n\tstruct pnfs_device *pdev;\n\t__u32 notification;\n};\n\nstruct nfs4_layoutcommit_args {\n\tstruct nfs4_sequence_args seq_args;\n\tnfs4_stateid stateid;\n\t__u64 lastbytewritten;\n\tstruct inode *inode;\n\tconst u32 *bitmask;\n\tsize_t layoutupdate_len;\n\tstruct page *layoutupdate_page;\n\tstruct page **layoutupdate_pages;\n\t__be32 *start_p;\n};\n\nstruct nfs4_layoutcommit_res {\n\tstruct nfs4_sequence_res seq_res;\n\tstruct nfs_fattr *fattr;\n\tconst struct nfs_server *server;\n\tint status;\n};\n\nstruct nfs4_layoutcommit_data {\n\tstruct rpc_task task;\n\tstruct nfs_fattr fattr;\n\tstruct list_head lseg_list;\n\tconst struct cred *cred;\n\tstruct inode *inode;\n\tstruct nfs4_layoutcommit_args args;\n\tstruct nfs4_layoutcommit_res res;\n};\n\nstruct nfs4_layoutreturn_args {\n\tstruct nfs4_sequence_args seq_args;\n\tstruct pnfs_layout_hdr *layout;\n\tstruct inode *inode;\n\tstruct pnfs_layout_range range;\n\tnfs4_stateid stateid;\n\t__u32   layout_type;\n\tstruct nfs4_xdr_opaque_data *ld_private;\n};\n\nstruct nfs4_layoutreturn_res {\n\tstruct nfs4_sequence_res seq_res;\n\tu32 lrs_present;\n\tnfs4_stateid stateid;\n};\n\nstruct nfs4_layoutreturn {\n\tstruct nfs4_layoutreturn_args args;\n\tstruct nfs4_layoutreturn_res res;\n\tconst struct cred *cred;\n\tstruct nfs_client *clp;\n\tstruct inode *inode;\n\tint rpc_status;\n\tstruct nfs4_xdr_opaque_data ld_private;\n};\n\n#define PNFS_LAYOUTSTATS_MAXSIZE 256\n\nstruct nfs42_layoutstat_args;\nstruct nfs42_layoutstat_devinfo;\ntypedef\tvoid (*layoutstats_encode_t)(struct xdr_stream *,\n\t\tstruct nfs42_layoutstat_args *,\n\t\tstruct nfs42_layoutstat_devinfo *);\n\n \nstruct nfs42_layoutstat_devinfo {\n\tstruct nfs4_deviceid dev_id;\n\t__u64 offset;\n\t__u64 length;\n\t__u64 read_count;\n\t__u64 read_bytes;\n\t__u64 write_count;\n\t__u64 write_bytes;\n\t__u32 layout_type;\n\tstruct nfs4_xdr_opaque_data ld_private;\n};\n\nstruct nfs42_layoutstat_args {\n\tstruct nfs4_sequence_args seq_args;\n\tstruct nfs_fh *fh;\n\tstruct inode *inode;\n\tnfs4_stateid stateid;\n\tint num_dev;\n\tstruct nfs42_layoutstat_devinfo *devinfo;\n};\n\nstruct nfs42_layoutstat_res {\n\tstruct nfs4_sequence_res seq_res;\n\tint num_dev;\n\tint rpc_status;\n};\n\nstruct nfs42_layoutstat_data {\n\tstruct inode *inode;\n\tstruct nfs42_layoutstat_args args;\n\tstruct nfs42_layoutstat_res res;\n};\n\nstruct nfs42_device_error {\n\tstruct nfs4_deviceid dev_id;\n\tint status;\n\tenum nfs_opnum4 opnum;\n};\n\nstruct nfs42_layout_error {\n\t__u64 offset;\n\t__u64 length;\n\tnfs4_stateid stateid;\n\tstruct nfs42_device_error errors[1];\n};\n\n#define NFS42_LAYOUTERROR_MAX 5\n\nstruct nfs42_layouterror_args {\n\tstruct nfs4_sequence_args seq_args;\n\tstruct inode *inode;\n\tunsigned int num_errors;\n\tstruct nfs42_layout_error errors[NFS42_LAYOUTERROR_MAX];\n};\n\nstruct nfs42_layouterror_res {\n\tstruct nfs4_sequence_res seq_res;\n\tunsigned int num_errors;\n\tint rpc_status;\n};\n\nstruct nfs42_layouterror_data {\n\tstruct nfs42_layouterror_args args;\n\tstruct nfs42_layouterror_res res;\n\tstruct inode *inode;\n\tstruct pnfs_layout_segment *lseg;\n};\n\nstruct nfs42_clone_args {\n\tstruct nfs4_sequence_args\tseq_args;\n\tstruct nfs_fh\t\t\t*src_fh;\n\tstruct nfs_fh\t\t\t*dst_fh;\n\tnfs4_stateid\t\t\tsrc_stateid;\n\tnfs4_stateid\t\t\tdst_stateid;\n\t__u64\t\t\t\tsrc_offset;\n\t__u64\t\t\t\tdst_offset;\n\t__u64\t\t\t\tcount;\n\tconst u32\t\t\t*dst_bitmask;\n};\n\nstruct nfs42_clone_res {\n\tstruct nfs4_sequence_res\tseq_res;\n\tunsigned int\t\t\trpc_status;\n\tstruct nfs_fattr\t\t*dst_fattr;\n\tconst struct nfs_server\t\t*server;\n};\n\nstruct stateowner_id {\n\t__u64\tcreate_time;\n\t__u32\tuniquifier;\n};\n\n \nstruct nfs_openargs {\n\tstruct nfs4_sequence_args\tseq_args;\n\tconst struct nfs_fh *\tfh;\n\tstruct nfs_seqid *\tseqid;\n\tint\t\t\topen_flags;\n\tfmode_t\t\t\tfmode;\n\tu32\t\t\tshare_access;\n\tu32\t\t\taccess;\n\t__u64                   clientid;\n\tstruct stateowner_id\tid;\n\tunion {\n\t\tstruct {\n\t\t\tstruct iattr *  attrs;     \n\t\t\tnfs4_verifier   verifier;  \n\t\t};\n\t\tnfs4_stateid\tdelegation;\t\t \n\t\tfmode_t\t\tdelegation_type;\t \n\t} u;\n\tconst struct qstr *\tname;\n\tconst struct nfs_server *server;\t  \n\tconst u32 *\t\tbitmask;\n\tconst u32 *\t\topen_bitmap;\n\tenum open_claim_type4\tclaim;\n\tenum createmode4\tcreatemode;\n\tconst struct nfs4_label *label;\n\tumode_t\t\t\tumask;\n\tstruct nfs4_layoutget_args *lg_args;\n};\n\nstruct nfs_openres {\n\tstruct nfs4_sequence_res\tseq_res;\n\tnfs4_stateid            stateid;\n\tstruct nfs_fh           fh;\n\tstruct nfs4_change_info\tcinfo;\n\t__u32                   rflags;\n\tstruct nfs_fattr *      f_attr;\n\tstruct nfs_seqid *\tseqid;\n\tconst struct nfs_server *server;\n\tfmode_t\t\t\tdelegation_type;\n\tnfs4_stateid\t\tdelegation;\n\tunsigned long\t\tpagemod_limit;\n\t__u32\t\t\tdo_recall;\n\t__u32\t\t\tattrset[NFS4_BITMAP_SIZE];\n\tstruct nfs4_string\t*owner;\n\tstruct nfs4_string\t*group_owner;\n\t__u32\t\t\taccess_request;\n\t__u32\t\t\taccess_supported;\n\t__u32\t\t\taccess_result;\n\tstruct nfs4_layoutget_res *lg_res;\n};\n\n \nstruct nfs_open_confirmargs {\n\tstruct nfs4_sequence_args\tseq_args;\n\tconst struct nfs_fh *\tfh;\n\tnfs4_stateid *\t\tstateid;\n\tstruct nfs_seqid *\tseqid;\n};\n\nstruct nfs_open_confirmres {\n\tstruct nfs4_sequence_res\tseq_res;\n\tnfs4_stateid            stateid;\n\tstruct nfs_seqid *\tseqid;\n};\n\n \nstruct nfs_closeargs {\n\tstruct nfs4_sequence_args\tseq_args;\n\tstruct nfs_fh *         fh;\n\tnfs4_stateid \t\tstateid;\n\tstruct nfs_seqid *\tseqid;\n\tfmode_t\t\t\tfmode;\n\tu32\t\t\tshare_access;\n\tconst u32 *\t\tbitmask;\n\tu32\t\t\tbitmask_store[NFS_BITMASK_SZ];\n\tstruct nfs4_layoutreturn_args *lr_args;\n};\n\nstruct nfs_closeres {\n\tstruct nfs4_sequence_res\tseq_res;\n\tnfs4_stateid            stateid;\n\tstruct nfs_fattr *\tfattr;\n\tstruct nfs_seqid *\tseqid;\n\tconst struct nfs_server *server;\n\tstruct nfs4_layoutreturn_res *lr_res;\n\tint lr_ret;\n};\n \nstruct nfs_lowner {\n\t__u64\t\t\tclientid;\n\t__u64\t\t\tid;\n\tdev_t\t\t\ts_dev;\n};\n\nstruct nfs_lock_args {\n\tstruct nfs4_sequence_args\tseq_args;\n\tstruct nfs_fh *\t\tfh;\n\tstruct file_lock *\tfl;\n\tstruct nfs_seqid *\tlock_seqid;\n\tnfs4_stateid\t\tlock_stateid;\n\tstruct nfs_seqid *\topen_seqid;\n\tnfs4_stateid\t\topen_stateid;\n\tstruct nfs_lowner\tlock_owner;\n\tunsigned char\t\tblock : 1;\n\tunsigned char\t\treclaim : 1;\n\tunsigned char\t\tnew_lock : 1;\n\tunsigned char\t\tnew_lock_owner : 1;\n};\n\nstruct nfs_lock_res {\n\tstruct nfs4_sequence_res\tseq_res;\n\tnfs4_stateid\t\tstateid;\n\tstruct nfs_seqid *\tlock_seqid;\n\tstruct nfs_seqid *\topen_seqid;\n};\n\nstruct nfs_locku_args {\n\tstruct nfs4_sequence_args\tseq_args;\n\tstruct nfs_fh *\t\tfh;\n\tstruct file_lock *\tfl;\n\tstruct nfs_seqid *\tseqid;\n\tnfs4_stateid \t\tstateid;\n};\n\nstruct nfs_locku_res {\n\tstruct nfs4_sequence_res\tseq_res;\n\tnfs4_stateid\t\tstateid;\n\tstruct nfs_seqid *\tseqid;\n};\n\nstruct nfs_lockt_args {\n\tstruct nfs4_sequence_args\tseq_args;\n\tstruct nfs_fh *\t\tfh;\n\tstruct file_lock *\tfl;\n\tstruct nfs_lowner\tlock_owner;\n};\n\nstruct nfs_lockt_res {\n\tstruct nfs4_sequence_res\tseq_res;\n\tstruct file_lock *\tdenied;  \n};\n\nstruct nfs_release_lockowner_args {\n\tstruct nfs4_sequence_args\tseq_args;\n\tstruct nfs_lowner\tlock_owner;\n};\n\nstruct nfs_release_lockowner_res {\n\tstruct nfs4_sequence_res\tseq_res;\n};\n\nstruct nfs4_delegreturnargs {\n\tstruct nfs4_sequence_args\tseq_args;\n\tconst struct nfs_fh *fhandle;\n\tconst nfs4_stateid *stateid;\n\tconst u32 *bitmask;\n\tu32 bitmask_store[NFS_BITMASK_SZ];\n\tstruct nfs4_layoutreturn_args *lr_args;\n};\n\nstruct nfs4_delegreturnres {\n\tstruct nfs4_sequence_res\tseq_res;\n\tstruct nfs_fattr * fattr;\n\tstruct nfs_server *server;\n\tstruct nfs4_layoutreturn_res *lr_res;\n\tint lr_ret;\n};\n\n \nstruct nfs_write_verifier {\n\tchar\t\t\tdata[8];\n};\n\nstruct nfs_writeverf {\n\tstruct nfs_write_verifier verifier;\n\tenum nfs3_stable_how\tcommitted;\n};\n\n \nstruct nfs_pgio_args {\n\tstruct nfs4_sequence_args\tseq_args;\n\tstruct nfs_fh *\t\tfh;\n\tstruct nfs_open_context *context;\n\tstruct nfs_lock_context *lock_context;\n\tnfs4_stateid\t\tstateid;\n\t__u64\t\t\toffset;\n\t__u32\t\t\tcount;\n\tunsigned int\t\tpgbase;\n\tstruct page **\t\tpages;\n\tunion {\n\t\tunsigned int\t\treplen;\t\t\t \n\t\tstruct {\n\t\t\tconst u32 *\t\tbitmask;\t \n\t\t\tu32 bitmask_store[NFS_BITMASK_SZ];\t \n\t\t\tenum nfs3_stable_how\tstable;\t\t \n\t\t};\n\t};\n};\n\nstruct nfs_pgio_res {\n\tstruct nfs4_sequence_res\tseq_res;\n\tstruct nfs_fattr *\tfattr;\n\t__u64\t\t\tcount;\n\t__u32\t\t\top_status;\n\tunion {\n\t\tstruct {\n\t\t\tunsigned int\t\treplen;\t\t \n\t\t\tint\t\t\teof;\t\t \n\t\t\tvoid *\t\t\tscratch;\t \n\t\t};\n\t\tstruct {\n\t\t\tstruct nfs_writeverf *\tverf;\t\t \n\t\t\tconst struct nfs_server *server;\t \n\t\t};\n\t};\n};\n\n \nstruct nfs_commitargs {\n\tstruct nfs4_sequence_args\tseq_args;\n\tstruct nfs_fh\t\t*fh;\n\t__u64\t\t\toffset;\n\t__u32\t\t\tcount;\n\tconst u32\t\t*bitmask;\n};\n\nstruct nfs_commitres {\n\tstruct nfs4_sequence_res\tseq_res;\n\t__u32\t\t\top_status;\n\tstruct nfs_fattr\t*fattr;\n\tstruct nfs_writeverf\t*verf;\n\tconst struct nfs_server *server;\n};\n\n \nstruct nfs_removeargs {\n\tstruct nfs4_sequence_args\tseq_args;\n\tconst struct nfs_fh\t*fh;\n\tstruct qstr\t\tname;\n};\n\nstruct nfs_removeres {\n\tstruct nfs4_sequence_res \tseq_res;\n\tstruct nfs_server *server;\n\tstruct nfs_fattr\t*dir_attr;\n\tstruct nfs4_change_info\tcinfo;\n};\n\n \nstruct nfs_renameargs {\n\tstruct nfs4_sequence_args\tseq_args;\n\tconst struct nfs_fh\t\t*old_dir;\n\tconst struct nfs_fh\t\t*new_dir;\n\tconst struct qstr\t\t*old_name;\n\tconst struct qstr\t\t*new_name;\n};\n\nstruct nfs_renameres {\n\tstruct nfs4_sequence_res\tseq_res;\n\tstruct nfs_server\t\t*server;\n\tstruct nfs4_change_info\t\told_cinfo;\n\tstruct nfs_fattr\t\t*old_fattr;\n\tstruct nfs4_change_info\t\tnew_cinfo;\n\tstruct nfs_fattr\t\t*new_fattr;\n};\n\n \n#define NFS_AUTH_INFO_MAX_FLAVORS 12  \nstruct nfs_auth_info {\n\tunsigned int            flavor_len;\n\trpc_authflavor_t        flavors[NFS_AUTH_INFO_MAX_FLAVORS];\n};\n\n \nstruct nfs_entry {\n\t__u64\t\t\tino;\n\t__u64\t\t\tcookie;\n\tconst char *\t\tname;\n\tunsigned int\t\tlen;\n\tint\t\t\teof;\n\tstruct nfs_fh *\t\tfh;\n\tstruct nfs_fattr *\tfattr;\n\tunsigned char\t\td_type;\n\tstruct nfs_server *\tserver;\n};\n\nstruct nfs_readdir_arg {\n\tstruct dentry\t\t*dentry;\n\tconst struct cred\t*cred;\n\t__be32\t\t\t*verf;\n\tu64\t\t\tcookie;\n\tstruct page\t\t**pages;\n\tunsigned int\t\tpage_len;\n\tbool\t\t\tplus;\n};\n\nstruct nfs_readdir_res {\n\t__be32\t\t\t*verf;\n};\n\n \nstruct nfs_sattrargs {\n\tstruct nfs_fh *\t\tfh;\n\tstruct iattr *\t\tsattr;\n};\n\nstruct nfs_diropargs {\n\tstruct nfs_fh *\t\tfh;\n\tconst char *\t\tname;\n\tunsigned int\t\tlen;\n};\n\nstruct nfs_createargs {\n\tstruct nfs_fh *\t\tfh;\n\tconst char *\t\tname;\n\tunsigned int\t\tlen;\n\tstruct iattr *\t\tsattr;\n};\n\nstruct nfs_setattrargs {\n\tstruct nfs4_sequence_args \tseq_args;\n\tstruct nfs_fh *                 fh;\n\tnfs4_stateid                    stateid;\n\tstruct iattr *                  iap;\n\tconst struct nfs_server *\tserver;  \n\tconst u32 *\t\t\tbitmask;\n\tconst struct nfs4_label\t\t*label;\n};\n\nenum nfs4_acl_type {\n\tNFS4ACL_NONE = 0,\n\tNFS4ACL_ACL,\n\tNFS4ACL_DACL,\n\tNFS4ACL_SACL,\n};\n\nstruct nfs_setaclargs {\n\tstruct nfs4_sequence_args\tseq_args;\n\tstruct nfs_fh *\t\t\tfh;\n\tenum nfs4_acl_type\t\tacl_type;\n\tsize_t\t\t\t\tacl_len;\n\tstruct page **\t\t\tacl_pages;\n};\n\nstruct nfs_setaclres {\n\tstruct nfs4_sequence_res\tseq_res;\n};\n\nstruct nfs_getaclargs {\n\tstruct nfs4_sequence_args \tseq_args;\n\tstruct nfs_fh *\t\t\tfh;\n\tenum nfs4_acl_type\t\tacl_type;\n\tsize_t\t\t\t\tacl_len;\n\tstruct page **\t\t\tacl_pages;\n};\n\n \n#define NFS4_ACL_TRUNC\t\t0x0001\t \nstruct nfs_getaclres {\n\tstruct nfs4_sequence_res\tseq_res;\n\tenum nfs4_acl_type\t\tacl_type;\n\tsize_t\t\t\t\tacl_len;\n\tsize_t\t\t\t\tacl_data_offset;\n\tint\t\t\t\tacl_flags;\n\tstruct page *\t\t\tacl_scratch;\n};\n\nstruct nfs_setattrres {\n\tstruct nfs4_sequence_res\tseq_res;\n\tstruct nfs_fattr *              fattr;\n\tconst struct nfs_server *\tserver;\n};\n\nstruct nfs_linkargs {\n\tstruct nfs_fh *\t\tfromfh;\n\tstruct nfs_fh *\t\ttofh;\n\tconst char *\t\ttoname;\n\tunsigned int\t\ttolen;\n};\n\nstruct nfs_symlinkargs {\n\tstruct nfs_fh *\t\tfromfh;\n\tconst char *\t\tfromname;\n\tunsigned int\t\tfromlen;\n\tstruct page **\t\tpages;\n\tunsigned int\t\tpathlen;\n\tstruct iattr *\t\tsattr;\n};\n\nstruct nfs_readdirargs {\n\tstruct nfs_fh *\t\tfh;\n\t__u32\t\t\tcookie;\n\tunsigned int\t\tcount;\n\tstruct page **\t\tpages;\n};\n\nstruct nfs3_getaclargs {\n\tstruct nfs_fh *\t\tfh;\n\tint\t\t\tmask;\n\tstruct page **\t\tpages;\n};\n\nstruct nfs3_setaclargs {\n\tstruct inode *\t\tinode;\n\tint\t\t\tmask;\n\tstruct posix_acl *\tacl_access;\n\tstruct posix_acl *\tacl_default;\n\tsize_t\t\t\tlen;\n\tunsigned int\t\tnpages;\n\tstruct page **\t\tpages;\n};\n\nstruct nfs_diropok {\n\tstruct nfs_fh *\t\tfh;\n\tstruct nfs_fattr *\tfattr;\n};\n\nstruct nfs_readlinkargs {\n\tstruct nfs_fh *\t\tfh;\n\tunsigned int\t\tpgbase;\n\tunsigned int\t\tpglen;\n\tstruct page **\t\tpages;\n};\n\nstruct nfs3_sattrargs {\n\tstruct nfs_fh *\t\tfh;\n\tstruct iattr *\t\tsattr;\n\tunsigned int\t\tguard;\n\tstruct timespec64\tguardtime;\n};\n\nstruct nfs3_diropargs {\n\tstruct nfs_fh *\t\tfh;\n\tconst char *\t\tname;\n\tunsigned int\t\tlen;\n};\n\nstruct nfs3_accessargs {\n\tstruct nfs_fh *\t\tfh;\n\t__u32\t\t\taccess;\n};\n\nstruct nfs3_createargs {\n\tstruct nfs_fh *\t\tfh;\n\tconst char *\t\tname;\n\tunsigned int\t\tlen;\n\tstruct iattr *\t\tsattr;\n\tenum nfs3_createmode\tcreatemode;\n\t__be32\t\t\tverifier[2];\n};\n\nstruct nfs3_mkdirargs {\n\tstruct nfs_fh *\t\tfh;\n\tconst char *\t\tname;\n\tunsigned int\t\tlen;\n\tstruct iattr *\t\tsattr;\n};\n\nstruct nfs3_symlinkargs {\n\tstruct nfs_fh *\t\tfromfh;\n\tconst char *\t\tfromname;\n\tunsigned int\t\tfromlen;\n\tstruct page **\t\tpages;\n\tunsigned int\t\tpathlen;\n\tstruct iattr *\t\tsattr;\n};\n\nstruct nfs3_mknodargs {\n\tstruct nfs_fh *\t\tfh;\n\tconst char *\t\tname;\n\tunsigned int\t\tlen;\n\tenum nfs3_ftype\t\ttype;\n\tstruct iattr *\t\tsattr;\n\tdev_t\t\t\trdev;\n};\n\nstruct nfs3_linkargs {\n\tstruct nfs_fh *\t\tfromfh;\n\tstruct nfs_fh *\t\ttofh;\n\tconst char *\t\ttoname;\n\tunsigned int\t\ttolen;\n};\n\nstruct nfs3_readdirargs {\n\tstruct nfs_fh *\t\tfh;\n\t__u64\t\t\tcookie;\n\t__be32\t\t\tverf[2];\n\tbool\t\t\tplus;\n\tunsigned int            count;\n\tstruct page **\t\tpages;\n};\n\nstruct nfs3_diropres {\n\tstruct nfs_fattr *\tdir_attr;\n\tstruct nfs_fh *\t\tfh;\n\tstruct nfs_fattr *\tfattr;\n};\n\nstruct nfs3_accessres {\n\tstruct nfs_fattr *\tfattr;\n\t__u32\t\t\taccess;\n};\n\nstruct nfs3_readlinkargs {\n\tstruct nfs_fh *\t\tfh;\n\tunsigned int\t\tpgbase;\n\tunsigned int\t\tpglen;\n\tstruct page **\t\tpages;\n};\n\nstruct nfs3_linkres {\n\tstruct nfs_fattr *\tdir_attr;\n\tstruct nfs_fattr *\tfattr;\n};\n\nstruct nfs3_readdirres {\n\tstruct nfs_fattr *\tdir_attr;\n\t__be32 *\t\tverf;\n\tbool\t\t\tplus;\n};\n\nstruct nfs3_getaclres {\n\tstruct nfs_fattr *\tfattr;\n\tint\t\t\tmask;\n\tunsigned int\t\tacl_access_count;\n\tunsigned int\t\tacl_default_count;\n\tstruct posix_acl *\tacl_access;\n\tstruct posix_acl *\tacl_default;\n};\n\n#if IS_ENABLED(CONFIG_NFS_V4)\n\ntypedef u64 clientid4;\n\nstruct nfs4_accessargs {\n\tstruct nfs4_sequence_args\tseq_args;\n\tconst struct nfs_fh *\t\tfh;\n\tconst u32 *\t\t\tbitmask;\n\tu32\t\t\t\taccess;\n};\n\nstruct nfs4_accessres {\n\tstruct nfs4_sequence_res\tseq_res;\n\tconst struct nfs_server *\tserver;\n\tstruct nfs_fattr *\t\tfattr;\n\tu32\t\t\t\tsupported;\n\tu32\t\t\t\taccess;\n};\n\nstruct nfs4_create_arg {\n\tstruct nfs4_sequence_args \tseq_args;\n\tu32\t\t\t\tftype;\n\tunion {\n\t\tstruct {\n\t\t\tstruct page **\tpages;\n\t\t\tunsigned int\tlen;\n\t\t} symlink;    \n\t\tstruct {\n\t\t\tu32\t\tspecdata1;\n\t\t\tu32\t\tspecdata2;\n\t\t} device;     \n\t} u;\n\tconst struct qstr *\t\tname;\n\tconst struct nfs_server *\tserver;\n\tconst struct iattr *\t\tattrs;\n\tconst struct nfs_fh *\t\tdir_fh;\n\tconst u32 *\t\t\tbitmask;\n\tconst struct nfs4_label\t\t*label;\n\tumode_t\t\t\t\tumask;\n};\n\nstruct nfs4_create_res {\n\tstruct nfs4_sequence_res\tseq_res;\n\tconst struct nfs_server *\tserver;\n\tstruct nfs_fh *\t\t\tfh;\n\tstruct nfs_fattr *\t\tfattr;\n\tstruct nfs4_change_info\t\tdir_cinfo;\n};\n\nstruct nfs4_fsinfo_arg {\n\tstruct nfs4_sequence_args\tseq_args;\n\tconst struct nfs_fh *\t\tfh;\n\tconst u32 *\t\t\tbitmask;\n};\n\nstruct nfs4_fsinfo_res {\n\tstruct nfs4_sequence_res\tseq_res;\n\tstruct nfs_fsinfo\t       *fsinfo;\n};\n\nstruct nfs4_getattr_arg {\n\tstruct nfs4_sequence_args\tseq_args;\n\tconst struct nfs_fh *\t\tfh;\n\tconst u32 *\t\t\tbitmask;\n};\n\nstruct nfs4_getattr_res {\n\tstruct nfs4_sequence_res\tseq_res;\n\tconst struct nfs_server *\tserver;\n\tstruct nfs_fattr *\t\tfattr;\n};\n\nstruct nfs4_link_arg {\n\tstruct nfs4_sequence_args \tseq_args;\n\tconst struct nfs_fh *\t\tfh;\n\tconst struct nfs_fh *\t\tdir_fh;\n\tconst struct qstr *\t\tname;\n\tconst u32 *\t\t\tbitmask;\n};\n\nstruct nfs4_link_res {\n\tstruct nfs4_sequence_res\tseq_res;\n\tconst struct nfs_server *\tserver;\n\tstruct nfs_fattr *\t\tfattr;\n\tstruct nfs4_change_info\t\tcinfo;\n\tstruct nfs_fattr *\t\tdir_attr;\n};\n\nstruct nfs4_lookup_arg {\n\tstruct nfs4_sequence_args\tseq_args;\n\tconst struct nfs_fh *\t\tdir_fh;\n\tconst struct qstr *\t\tname;\n\tconst u32 *\t\t\tbitmask;\n};\n\nstruct nfs4_lookup_res {\n\tstruct nfs4_sequence_res\tseq_res;\n\tconst struct nfs_server *\tserver;\n\tstruct nfs_fattr *\t\tfattr;\n\tstruct nfs_fh *\t\t\tfh;\n};\n\nstruct nfs4_lookupp_arg {\n\tstruct nfs4_sequence_args\tseq_args;\n\tconst struct nfs_fh\t\t*fh;\n\tconst u32\t\t\t*bitmask;\n};\n\nstruct nfs4_lookupp_res {\n\tstruct nfs4_sequence_res\tseq_res;\n\tconst struct nfs_server\t\t*server;\n\tstruct nfs_fattr\t\t*fattr;\n\tstruct nfs_fh\t\t\t*fh;\n};\n\nstruct nfs4_lookup_root_arg {\n\tstruct nfs4_sequence_args\tseq_args;\n\tconst u32 *\t\t\tbitmask;\n};\n\nstruct nfs4_pathconf_arg {\n\tstruct nfs4_sequence_args\tseq_args;\n\tconst struct nfs_fh *\t\tfh;\n\tconst u32 *\t\t\tbitmask;\n};\n\nstruct nfs4_pathconf_res {\n\tstruct nfs4_sequence_res\tseq_res;\n\tstruct nfs_pathconf\t       *pathconf;\n};\n\nstruct nfs4_readdir_arg {\n\tstruct nfs4_sequence_args\tseq_args;\n\tconst struct nfs_fh *\t\tfh;\n\tu64\t\t\t\tcookie;\n\tnfs4_verifier\t\t\tverifier;\n\tu32\t\t\t\tcount;\n\tstruct page **\t\t\tpages;\t \n\tunsigned int\t\t\tpgbase;\t \n\tconst u32 *\t\t\tbitmask;\n\tbool\t\t\t\tplus;\n};\n\nstruct nfs4_readdir_res {\n\tstruct nfs4_sequence_res\tseq_res;\n\tnfs4_verifier\t\t\tverifier;\n\tunsigned int\t\t\tpgbase;\n};\n\nstruct nfs4_readlink {\n\tstruct nfs4_sequence_args\tseq_args;\n\tconst struct nfs_fh *\t\tfh;\n\tunsigned int\t\t\tpgbase;\n\tunsigned int\t\t\tpglen;    \n\tstruct page **\t\t\tpages;    \n};\n\nstruct nfs4_readlink_res {\n\tstruct nfs4_sequence_res\tseq_res;\n};\n\nstruct nfs4_setclientid {\n\tconst nfs4_verifier *\t\tsc_verifier;\n\tu32\t\t\t\tsc_prog;\n\tunsigned int\t\t\tsc_netid_len;\n\tchar\t\t\t\tsc_netid[RPCBIND_MAXNETIDLEN + 1];\n\tunsigned int\t\t\tsc_uaddr_len;\n\tchar\t\t\t\tsc_uaddr[RPCBIND_MAXUADDRLEN + 1];\n\tstruct nfs_client\t\t*sc_clnt;\n\tstruct rpc_cred\t\t\t*sc_cred;\n};\n\nstruct nfs4_setclientid_res {\n\tu64\t\t\t\tclientid;\n\tnfs4_verifier\t\t\tconfirm;\n};\n\nstruct nfs4_statfs_arg {\n\tstruct nfs4_sequence_args\tseq_args;\n\tconst struct nfs_fh *\t\tfh;\n\tconst u32 *\t\t\tbitmask;\n};\n\nstruct nfs4_statfs_res {\n\tstruct nfs4_sequence_res\tseq_res;\n\tstruct nfs_fsstat\t       *fsstat;\n};\n\nstruct nfs4_server_caps_arg {\n\tstruct nfs4_sequence_args\tseq_args;\n\tstruct nfs_fh\t\t       *fhandle;\n\tconst u32 *\t\t\tbitmask;\n};\n\nstruct nfs4_server_caps_res {\n\tstruct nfs4_sequence_res\tseq_res;\n\tu32\t\t\t\tattr_bitmask[3];\n\tu32\t\t\t\texclcreat_bitmask[3];\n\tu32\t\t\t\tacl_bitmask;\n\tu32\t\t\t\thas_links;\n\tu32\t\t\t\thas_symlinks;\n\tu32\t\t\t\tfh_expire_type;\n\tu32\t\t\t\tcase_insensitive;\n\tu32\t\t\t\tcase_preserving;\n};\n\n#define NFS4_PATHNAME_MAXCOMPONENTS 512\nstruct nfs4_pathname {\n\tunsigned int ncomponents;\n\tstruct nfs4_string components[NFS4_PATHNAME_MAXCOMPONENTS];\n};\n\n#define NFS4_FS_LOCATION_MAXSERVERS 10\nstruct nfs4_fs_location {\n\tunsigned int nservers;\n\tstruct nfs4_string servers[NFS4_FS_LOCATION_MAXSERVERS];\n\tstruct nfs4_pathname rootpath;\n};\n\n#define NFS4_FS_LOCATIONS_MAXENTRIES 10\nstruct nfs4_fs_locations {\n\tstruct nfs_fattr *fattr;\n\tconst struct nfs_server *server;\n\tstruct nfs4_pathname fs_path;\n\tint nlocations;\n\tstruct nfs4_fs_location locations[NFS4_FS_LOCATIONS_MAXENTRIES];\n};\n\nstruct nfs4_fs_locations_arg {\n\tstruct nfs4_sequence_args\tseq_args;\n\tconst struct nfs_fh *dir_fh;\n\tconst struct nfs_fh *fh;\n\tconst struct qstr *name;\n\tstruct page *page;\n\tconst u32 *bitmask;\n\tclientid4 clientid;\n\tunsigned char migration:1, renew:1;\n};\n\nstruct nfs4_fs_locations_res {\n\tstruct nfs4_sequence_res\tseq_res;\n\tstruct nfs4_fs_locations       *fs_locations;\n\tunsigned char\t\t\tmigration:1, renew:1;\n};\n\nstruct nfs4_secinfo4 {\n\tu32\t\t\tflavor;\n\tstruct rpcsec_gss_info\tflavor_info;\n};\n\nstruct nfs4_secinfo_flavors {\n\tunsigned int\t\tnum_flavors;\n\tstruct nfs4_secinfo4\tflavors[];\n};\n\nstruct nfs4_secinfo_arg {\n\tstruct nfs4_sequence_args\tseq_args;\n\tconst struct nfs_fh\t\t*dir_fh;\n\tconst struct qstr\t\t*name;\n};\n\nstruct nfs4_secinfo_res {\n\tstruct nfs4_sequence_res\tseq_res;\n\tstruct nfs4_secinfo_flavors\t*flavors;\n};\n\nstruct nfs4_fsid_present_arg {\n\tstruct nfs4_sequence_args\tseq_args;\n\tconst struct nfs_fh\t\t*fh;\n\tclientid4\t\t\tclientid;\n\tunsigned char\t\t\trenew:1;\n};\n\nstruct nfs4_fsid_present_res {\n\tstruct nfs4_sequence_res\tseq_res;\n\tstruct nfs_fh\t\t\t*fh;\n\tunsigned char\t\t\trenew:1;\n};\n\n#endif  \n\nstruct nfstime4 {\n\tu64\tseconds;\n\tu32\tnseconds;\n};\n\n#ifdef CONFIG_NFS_V4_1\n\nstruct pnfs_commit_bucket {\n\tstruct list_head written;\n\tstruct list_head committing;\n\tstruct pnfs_layout_segment *lseg;\n\tstruct nfs_writeverf direct_verf;\n};\n\nstruct pnfs_commit_array {\n\tstruct list_head cinfo_list;\n\tstruct list_head lseg_list;\n\tstruct pnfs_layout_segment *lseg;\n\tstruct rcu_head rcu;\n\trefcount_t refcount;\n\tunsigned int nbuckets;\n\tstruct pnfs_commit_bucket buckets[];\n};\n\nstruct pnfs_ds_commit_info {\n\tstruct list_head commits;\n\tunsigned int nwritten;\n\tunsigned int ncommitting;\n\tconst struct pnfs_commit_ops *ops;\n};\n\nstruct nfs41_state_protection {\n\tu32 how;\n\tstruct nfs4_op_map enforce;\n\tstruct nfs4_op_map allow;\n};\n\nstruct nfs41_exchange_id_args {\n\tstruct nfs_client\t\t*client;\n\tnfs4_verifier\t\t\tverifier;\n\tu32\t\t\t\tflags;\n\tstruct nfs41_state_protection\tstate_protect;\n};\n\nstruct nfs41_server_owner {\n\tuint64_t\t\t\tminor_id;\n\tuint32_t\t\t\tmajor_id_sz;\n\tchar\t\t\t\tmajor_id[NFS4_OPAQUE_LIMIT];\n};\n\nstruct nfs41_server_scope {\n\tuint32_t\t\t\tserver_scope_sz;\n\tchar \t\t\t\tserver_scope[NFS4_OPAQUE_LIMIT];\n};\n\nstruct nfs41_impl_id {\n\tchar\t\t\t\tdomain[NFS4_OPAQUE_LIMIT + 1];\n\tchar\t\t\t\tname[NFS4_OPAQUE_LIMIT + 1];\n\tstruct nfstime4\t\t\tdate;\n};\n\n#define MAX_BIND_CONN_TO_SESSION_RETRIES 3\nstruct nfs41_bind_conn_to_session_args {\n\tstruct nfs_client\t\t*client;\n\tstruct nfs4_sessionid\t\tsessionid;\n\tu32\t\t\t\tdir;\n\tbool\t\t\t\tuse_conn_in_rdma_mode;\n\tint\t\t\t\tretries;\n};\n\nstruct nfs41_bind_conn_to_session_res {\n\tstruct nfs4_sessionid\t\tsessionid;\n\tu32\t\t\t\tdir;\n\tbool\t\t\t\tuse_conn_in_rdma_mode;\n};\n\nstruct nfs41_exchange_id_res {\n\tu64\t\t\t\tclientid;\n\tu32\t\t\t\tseqid;\n\tu32\t\t\t\tflags;\n\tstruct nfs41_server_owner\t*server_owner;\n\tstruct nfs41_server_scope\t*server_scope;\n\tstruct nfs41_impl_id\t\t*impl_id;\n\tstruct nfs41_state_protection\tstate_protect;\n};\n\nstruct nfs41_create_session_args {\n\tstruct nfs_client\t       *client;\n\tu64\t\t\t\tclientid;\n\tuint32_t\t\t\tseqid;\n\tuint32_t\t\t\tflags;\n\tuint32_t\t\t\tcb_program;\n\tstruct nfs4_channel_attrs\tfc_attrs;\t \n\tstruct nfs4_channel_attrs\tbc_attrs;\t \n};\n\nstruct nfs41_create_session_res {\n\tstruct nfs4_sessionid\t\tsessionid;\n\tuint32_t\t\t\tseqid;\n\tuint32_t\t\t\tflags;\n\tstruct nfs4_channel_attrs\tfc_attrs;\t \n\tstruct nfs4_channel_attrs\tbc_attrs;\t \n};\n\nstruct nfs41_reclaim_complete_args {\n\tstruct nfs4_sequence_args\tseq_args;\n\t \n\tunsigned char\t\t\tone_fs:1;\n};\n\nstruct nfs41_reclaim_complete_res {\n\tstruct nfs4_sequence_res\tseq_res;\n};\n\n#define SECINFO_STYLE_CURRENT_FH 0\n#define SECINFO_STYLE_PARENT 1\nstruct nfs41_secinfo_no_name_args {\n\tstruct nfs4_sequence_args\tseq_args;\n\tint\t\t\t\tstyle;\n};\n\nstruct nfs41_test_stateid_args {\n\tstruct nfs4_sequence_args\tseq_args;\n\tnfs4_stateid\t\t\t*stateid;\n};\n\nstruct nfs41_test_stateid_res {\n\tstruct nfs4_sequence_res\tseq_res;\n\tunsigned int\t\t\tstatus;\n};\n\nstruct nfs41_free_stateid_args {\n\tstruct nfs4_sequence_args\tseq_args;\n\tnfs4_stateid\t\t\tstateid;\n};\n\nstruct nfs41_free_stateid_res {\n\tstruct nfs4_sequence_res\tseq_res;\n\tunsigned int\t\t\tstatus;\n};\n\n#else\n\nstruct pnfs_ds_commit_info {\n};\n\n#endif  \n\n#ifdef CONFIG_NFS_V4_2\nstruct nfs42_falloc_args {\n\tstruct nfs4_sequence_args\tseq_args;\n\n\tstruct nfs_fh\t\t\t*falloc_fh;\n\tnfs4_stateid\t\t\t falloc_stateid;\n\tu64\t\t\t\t falloc_offset;\n\tu64\t\t\t\t falloc_length;\n\tconst u32\t\t\t*falloc_bitmask;\n};\n\nstruct nfs42_falloc_res {\n\tstruct nfs4_sequence_res\tseq_res;\n\tunsigned int\t\t\tstatus;\n\n\tstruct nfs_fattr\t\t*falloc_fattr;\n\tconst struct nfs_server\t\t*falloc_server;\n};\n\nstruct nfs42_copy_args {\n\tstruct nfs4_sequence_args\tseq_args;\n\n\tstruct nfs_fh\t\t\t*src_fh;\n\tnfs4_stateid\t\t\tsrc_stateid;\n\tu64\t\t\t\tsrc_pos;\n\n\tstruct nfs_fh\t\t\t*dst_fh;\n\tnfs4_stateid\t\t\tdst_stateid;\n\tu64\t\t\t\tdst_pos;\n\n\tu64\t\t\t\tcount;\n\tbool\t\t\t\tsync;\n\tstruct nl4_server\t\t*cp_src;\n};\n\nstruct nfs42_write_res {\n\tnfs4_stateid\t\tstateid;\n\tu64\t\t\tcount;\n\tstruct nfs_writeverf\tverifier;\n};\n\nstruct nfs42_copy_res {\n\tstruct nfs4_sequence_res\tseq_res;\n\tstruct nfs42_write_res\t\twrite_res;\n\tbool\t\t\t\tconsecutive;\n\tbool\t\t\t\tsynchronous;\n\tstruct nfs_commitres\t\tcommit_res;\n};\n\nstruct nfs42_offload_status_args {\n\tstruct nfs4_sequence_args\tosa_seq_args;\n\tstruct nfs_fh\t\t\t*osa_src_fh;\n\tnfs4_stateid\t\t\tosa_stateid;\n};\n\nstruct nfs42_offload_status_res {\n\tstruct nfs4_sequence_res\tosr_seq_res;\n\tuint64_t\t\t\tosr_count;\n\tint\t\t\t\tosr_status;\n};\n\nstruct nfs42_copy_notify_args {\n\tstruct nfs4_sequence_args\tcna_seq_args;\n\n\tstruct nfs_fh\t\t*cna_src_fh;\n\tnfs4_stateid\t\tcna_src_stateid;\n\tstruct nl4_server\tcna_dst;\n};\n\nstruct nfs42_copy_notify_res {\n\tstruct nfs4_sequence_res\tcnr_seq_res;\n\n\tstruct nfstime4\t\tcnr_lease_time;\n\tnfs4_stateid\t\tcnr_stateid;\n\tstruct nl4_server\tcnr_src;\n};\n\nstruct nfs42_seek_args {\n\tstruct nfs4_sequence_args\tseq_args;\n\n\tstruct nfs_fh\t\t\t*sa_fh;\n\tnfs4_stateid\t\t\tsa_stateid;\n\tu64\t\t\t\tsa_offset;\n\tu32\t\t\t\tsa_what;\n};\n\nstruct nfs42_seek_res {\n\tstruct nfs4_sequence_res\tseq_res;\n\tunsigned int\t\t\tstatus;\n\n\tu32\tsr_eof;\n\tu64\tsr_offset;\n};\n\nstruct nfs42_setxattrargs {\n\tstruct nfs4_sequence_args\tseq_args;\n\tstruct nfs_fh\t\t\t*fh;\n\tconst u32\t\t\t*bitmask;\n\tconst char\t\t\t*xattr_name;\n\tu32\t\t\t\txattr_flags;\n\tsize_t\t\t\t\txattr_len;\n\tstruct page\t\t\t**xattr_pages;\n};\n\nstruct nfs42_setxattrres {\n\tstruct nfs4_sequence_res\tseq_res;\n\tstruct nfs4_change_info\t\tcinfo;\n\tstruct nfs_fattr\t\t*fattr;\n\tconst struct nfs_server\t\t*server;\n};\n\nstruct nfs42_getxattrargs {\n\tstruct nfs4_sequence_args\tseq_args;\n\tstruct nfs_fh\t\t\t*fh;\n\tconst char\t\t\t*xattr_name;\n\tsize_t\t\t\t\txattr_len;\n\tstruct page\t\t\t**xattr_pages;\n};\n\nstruct nfs42_getxattrres {\n\tstruct nfs4_sequence_res\tseq_res;\n\tsize_t\t\t\t\txattr_len;\n};\n\nstruct nfs42_listxattrsargs {\n\tstruct nfs4_sequence_args\tseq_args;\n\tstruct nfs_fh\t\t\t*fh;\n\tu32\t\t\t\tcount;\n\tu64\t\t\t\tcookie;\n\tstruct page\t\t\t**xattr_pages;\n};\n\nstruct nfs42_listxattrsres {\n\tstruct nfs4_sequence_res\tseq_res;\n\tstruct page\t\t\t*scratch;\n\tvoid\t\t\t\t*xattr_buf;\n\tsize_t\t\t\t\txattr_len;\n\tu64\t\t\t\tcookie;\n\tbool\t\t\t\teof;\n\tsize_t\t\t\t\tcopied;\n};\n\nstruct nfs42_removexattrargs {\n\tstruct nfs4_sequence_args\tseq_args;\n\tstruct nfs_fh\t\t\t*fh;\n\tconst char\t\t\t*xattr_name;\n};\n\nstruct nfs42_removexattrres {\n\tstruct nfs4_sequence_res\tseq_res;\n\tstruct nfs4_change_info\t\tcinfo;\n};\n\n#endif  \n\nstruct nfs_page;\n\n#define NFS_PAGEVEC_SIZE\t(8U)\n\nstruct nfs_page_array {\n\tstruct page\t\t**pagevec;\n\tunsigned int\t\tnpages;\t\t \n\tstruct page\t\t*page_array[NFS_PAGEVEC_SIZE];\n};\n\n \nenum {\n\tNFS_IOHDR_ERROR = 0,\n\tNFS_IOHDR_EOF,\n\tNFS_IOHDR_REDO,\n\tNFS_IOHDR_STAT,\n\tNFS_IOHDR_RESEND_PNFS,\n\tNFS_IOHDR_RESEND_MDS,\n\tNFS_IOHDR_UNSTABLE_WRITES,\n};\n\nstruct nfs_io_completion;\nstruct nfs_pgio_header {\n\tstruct inode\t\t*inode;\n\tconst struct cred\t\t*cred;\n\tstruct list_head\tpages;\n\tstruct nfs_page\t\t*req;\n\tstruct nfs_writeverf\tverf;\t\t \n\tfmode_t\t\t\trw_mode;\n\tstruct pnfs_layout_segment *lseg;\n\tloff_t\t\t\tio_start;\n\tconst struct rpc_call_ops *mds_ops;\n\tvoid (*release) (struct nfs_pgio_header *hdr);\n\tconst struct nfs_pgio_completion_ops *completion_ops;\n\tconst struct nfs_rw_ops\t*rw_ops;\n\tstruct nfs_io_completion *io_completion;\n\tstruct nfs_direct_req\t*dreq;\n#ifdef CONFIG_NFS_FSCACHE\n\tvoid\t\t\t*netfs;\n#endif\n\n\tint\t\t\tpnfs_error;\n\tint\t\t\terror;\t\t \n\tunsigned int\t\tgood_bytes;\t \n\tunsigned long\t\tflags;\n\n\t \n\tstruct rpc_task\t\ttask;\n\tstruct nfs_fattr\tfattr;\n\tstruct nfs_pgio_args\targs;\t\t \n\tstruct nfs_pgio_res\tres;\t\t \n\tunsigned long\t\ttimestamp;\t \n\tint (*pgio_done_cb)(struct rpc_task *, struct nfs_pgio_header *);\n\t__u64\t\t\tmds_offset;\t \n\tstruct nfs_page_array\tpage_array;\n\tstruct nfs_client\t*ds_clp;\t \n\tu32\t\t\tds_commit_idx;\t \n\tu32\t\t\tpgio_mirror_idx; \n};\n\nstruct nfs_mds_commit_info {\n\tatomic_t rpcs_out;\n\tatomic_long_t\t\tncommit;\n\tstruct list_head\tlist;\n};\n\nstruct nfs_commit_info;\nstruct nfs_commit_data;\nstruct nfs_inode;\nstruct nfs_commit_completion_ops {\n\tvoid (*completion) (struct nfs_commit_data *data);\n\tvoid (*resched_write) (struct nfs_commit_info *, struct nfs_page *);\n};\n\nstruct nfs_commit_info {\n\tstruct inode \t\t\t*inode;\t \n\tstruct nfs_mds_commit_info\t*mds;\n\tstruct pnfs_ds_commit_info\t*ds;\n\tstruct nfs_direct_req\t\t*dreq;\t \n\tconst struct nfs_commit_completion_ops *completion_ops;\n};\n\nstruct nfs_commit_data {\n\tstruct rpc_task\t\ttask;\n\tstruct inode\t\t*inode;\n\tconst struct cred\t\t*cred;\n\tstruct nfs_fattr\tfattr;\n\tstruct nfs_writeverf\tverf;\n\tstruct list_head\tpages;\t\t \n\tstruct list_head\tlist;\t\t \n\tstruct nfs_direct_req\t*dreq;\t\t \n\tstruct nfs_commitargs\targs;\t\t \n\tstruct nfs_commitres\tres;\t\t \n\tstruct nfs_open_context *context;\n\tstruct pnfs_layout_segment *lseg;\n\tstruct nfs_client\t*ds_clp;\t \n\tint\t\t\tds_commit_index;\n\tloff_t\t\t\tlwb;\n\tconst struct rpc_call_ops *mds_ops;\n\tconst struct nfs_commit_completion_ops *completion_ops;\n\tint (*commit_done_cb) (struct rpc_task *task, struct nfs_commit_data *data);\n\tunsigned long\t\tflags;\n};\n\nstruct nfs_pgio_completion_ops {\n\tvoid\t(*error_cleanup)(struct list_head *head, int);\n\tvoid\t(*init_hdr)(struct nfs_pgio_header *hdr);\n\tvoid\t(*completion)(struct nfs_pgio_header *hdr);\n\tvoid\t(*reschedule_io)(struct nfs_pgio_header *hdr);\n};\n\nstruct nfs_unlinkdata {\n\tstruct nfs_removeargs args;\n\tstruct nfs_removeres res;\n\tstruct dentry *dentry;\n\twait_queue_head_t wq;\n\tconst struct cred *cred;\n\tstruct nfs_fattr dir_attr;\n\tlong timeout;\n};\n\nstruct nfs_renamedata {\n\tstruct nfs_renameargs\targs;\n\tstruct nfs_renameres\tres;\n\tstruct rpc_task\t\ttask;\n\tconst struct cred\t*cred;\n\tstruct inode\t\t*old_dir;\n\tstruct dentry\t\t*old_dentry;\n\tstruct nfs_fattr\told_fattr;\n\tstruct inode\t\t*new_dir;\n\tstruct dentry\t\t*new_dentry;\n\tstruct nfs_fattr\tnew_fattr;\n\tvoid (*complete)(struct rpc_task *, struct nfs_renamedata *);\n\tlong timeout;\n\tbool cancelled;\n};\n\nstruct nfs_access_entry;\nstruct nfs_client;\nstruct rpc_timeout;\nstruct nfs_subversion;\nstruct nfs_mount_info;\nstruct nfs_client_initdata;\nstruct nfs_pageio_descriptor;\nstruct fs_context;\n\n \nstruct nfs_rpc_ops {\n\tu32\tversion;\t\t \n\tconst struct dentry_operations *dentry_ops;\n\tconst struct inode_operations *dir_inode_ops;\n\tconst struct inode_operations *file_inode_ops;\n\tconst struct file_operations *file_ops;\n\tconst struct nlmclnt_operations *nlmclnt_ops;\n\n\tint\t(*getroot) (struct nfs_server *, struct nfs_fh *,\n\t\t\t    struct nfs_fsinfo *);\n\tint\t(*submount) (struct fs_context *, struct nfs_server *);\n\tint\t(*try_get_tree) (struct fs_context *);\n\tint\t(*getattr) (struct nfs_server *, struct nfs_fh *,\n\t\t\t    struct nfs_fattr *, struct inode *);\n\tint\t(*setattr) (struct dentry *, struct nfs_fattr *,\n\t\t\t    struct iattr *);\n\tint\t(*lookup)  (struct inode *, struct dentry *,\n\t\t\t    struct nfs_fh *, struct nfs_fattr *);\n\tint\t(*lookupp) (struct inode *, struct nfs_fh *,\n\t\t\t    struct nfs_fattr *);\n\tint\t(*access)  (struct inode *, struct nfs_access_entry *, const struct cred *);\n\tint\t(*readlink)(struct inode *, struct page *, unsigned int,\n\t\t\t    unsigned int);\n\tint\t(*create)  (struct inode *, struct dentry *,\n\t\t\t    struct iattr *, int);\n\tint\t(*remove)  (struct inode *, struct dentry *);\n\tvoid\t(*unlink_setup)  (struct rpc_message *, struct dentry *, struct inode *);\n\tvoid\t(*unlink_rpc_prepare) (struct rpc_task *, struct nfs_unlinkdata *);\n\tint\t(*unlink_done) (struct rpc_task *, struct inode *);\n\tvoid\t(*rename_setup)  (struct rpc_message *msg,\n\t\t\tstruct dentry *old_dentry,\n\t\t\tstruct dentry *new_dentry);\n\tvoid\t(*rename_rpc_prepare)(struct rpc_task *task, struct nfs_renamedata *);\n\tint\t(*rename_done) (struct rpc_task *task, struct inode *old_dir, struct inode *new_dir);\n\tint\t(*link)    (struct inode *, struct inode *, const struct qstr *);\n\tint\t(*symlink) (struct inode *, struct dentry *, struct page *,\n\t\t\t    unsigned int, struct iattr *);\n\tint\t(*mkdir)   (struct inode *, struct dentry *, struct iattr *);\n\tint\t(*rmdir)   (struct inode *, const struct qstr *);\n\tint\t(*readdir) (struct nfs_readdir_arg *, struct nfs_readdir_res *);\n\tint\t(*mknod)   (struct inode *, struct dentry *, struct iattr *,\n\t\t\t    dev_t);\n\tint\t(*statfs)  (struct nfs_server *, struct nfs_fh *,\n\t\t\t    struct nfs_fsstat *);\n\tint\t(*fsinfo)  (struct nfs_server *, struct nfs_fh *,\n\t\t\t    struct nfs_fsinfo *);\n\tint\t(*pathconf) (struct nfs_server *, struct nfs_fh *,\n\t\t\t     struct nfs_pathconf *);\n\tint\t(*set_capabilities)(struct nfs_server *, struct nfs_fh *);\n\tint\t(*decode_dirent)(struct xdr_stream *, struct nfs_entry *, bool);\n\tint\t(*pgio_rpc_prepare)(struct rpc_task *,\n\t\t\t\t    struct nfs_pgio_header *);\n\tvoid\t(*read_setup)(struct nfs_pgio_header *, struct rpc_message *);\n\tint\t(*read_done)(struct rpc_task *, struct nfs_pgio_header *);\n\tvoid\t(*write_setup)(struct nfs_pgio_header *, struct rpc_message *,\n\t\t\t\tstruct rpc_clnt **);\n\tint\t(*write_done)(struct rpc_task *, struct nfs_pgio_header *);\n\tvoid\t(*commit_setup) (struct nfs_commit_data *, struct rpc_message *,\n\t\t\t\tstruct rpc_clnt **);\n\tvoid\t(*commit_rpc_prepare)(struct rpc_task *, struct nfs_commit_data *);\n\tint\t(*commit_done) (struct rpc_task *, struct nfs_commit_data *);\n\tint\t(*lock)(struct file *, int, struct file_lock *);\n\tint\t(*lock_check_bounds)(const struct file_lock *);\n\tvoid\t(*clear_acl_cache)(struct inode *);\n\tvoid\t(*close_context)(struct nfs_open_context *ctx, int);\n\tstruct inode * (*open_context) (struct inode *dir,\n\t\t\t\tstruct nfs_open_context *ctx,\n\t\t\t\tint open_flags,\n\t\t\t\tstruct iattr *iattr,\n\t\t\t\tint *);\n\tint (*have_delegation)(struct inode *, fmode_t);\n\tstruct nfs_client *(*alloc_client) (const struct nfs_client_initdata *);\n\tstruct nfs_client *(*init_client) (struct nfs_client *,\n\t\t\t\tconst struct nfs_client_initdata *);\n\tvoid\t(*free_client) (struct nfs_client *);\n\tstruct nfs_server *(*create_server)(struct fs_context *);\n\tstruct nfs_server *(*clone_server)(struct nfs_server *, struct nfs_fh *,\n\t\t\t\t\t   struct nfs_fattr *, rpc_authflavor_t);\n\tint\t(*discover_trunking)(struct nfs_server *, struct nfs_fh *);\n\tvoid\t(*enable_swap)(struct inode *inode);\n\tvoid\t(*disable_swap)(struct inode *inode);\n};\n\n \n#define NFS_CALL(op, inode, args)\tNFS_PROTO(inode)->op args\n\n \nextern const struct nfs_rpc_ops\tnfs_v2_clientops;\nextern const struct nfs_rpc_ops\tnfs_v3_clientops;\nextern const struct nfs_rpc_ops\tnfs_v4_clientops;\nextern const struct rpc_version nfs_version2;\nextern const struct rpc_version nfs_version3;\nextern const struct rpc_version nfs_version4;\n\nextern const struct rpc_version nfsacl_version3;\nextern const struct rpc_program nfsacl_program;\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}