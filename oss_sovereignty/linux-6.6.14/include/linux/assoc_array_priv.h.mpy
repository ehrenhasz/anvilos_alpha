{
  "module_name": "assoc_array_priv.h",
  "hash_id": "2f27a49995dbe957abb31fb85f06f22a4720ff5a10bbdc76b0badaee5c445629",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/assoc_array_priv.h",
  "human_readable_source": " \n \n\n#ifndef _LINUX_ASSOC_ARRAY_PRIV_H\n#define _LINUX_ASSOC_ARRAY_PRIV_H\n\n#ifdef CONFIG_ASSOCIATIVE_ARRAY\n\n#include <linux/assoc_array.h>\n\n#define ASSOC_ARRAY_FAN_OUT\t\t16\t \n#define ASSOC_ARRAY_FAN_MASK\t\t(ASSOC_ARRAY_FAN_OUT - 1)\n#define ASSOC_ARRAY_LEVEL_STEP\t\t(ilog2(ASSOC_ARRAY_FAN_OUT))\n#define ASSOC_ARRAY_LEVEL_STEP_MASK\t(ASSOC_ARRAY_LEVEL_STEP - 1)\n#define ASSOC_ARRAY_KEY_CHUNK_MASK\t(ASSOC_ARRAY_KEY_CHUNK_SIZE - 1)\n#define ASSOC_ARRAY_KEY_CHUNK_SHIFT\t(ilog2(BITS_PER_LONG))\n\n \nstruct assoc_array_ptr;\n\n \nstruct assoc_array_node {\n\tstruct assoc_array_ptr\t*back_pointer;\n\tu8\t\t\tparent_slot;\n\tstruct assoc_array_ptr\t*slots[ASSOC_ARRAY_FAN_OUT];\n\tunsigned long\t\tnr_leaves_on_branch;\n};\n\n \nstruct assoc_array_shortcut {\n\tstruct assoc_array_ptr\t*back_pointer;\n\tint\t\t\tparent_slot;\n\tint\t\t\tskip_to_level;\n\tstruct assoc_array_ptr\t*next_node;\n\tunsigned long\t\tindex_key[];\n};\n\n \nstruct assoc_array_edit {\n\tstruct rcu_head\t\t\trcu;\n\tstruct assoc_array\t\t*array;\n\tconst struct assoc_array_ops\t*ops;\n\tconst struct assoc_array_ops\t*ops_for_excised_subtree;\n\tstruct assoc_array_ptr\t\t*leaf;\n\tstruct assoc_array_ptr\t\t**leaf_p;\n\tstruct assoc_array_ptr\t\t*dead_leaf;\n\tstruct assoc_array_ptr\t\t*new_meta[3];\n\tstruct assoc_array_ptr\t\t*excised_meta[1];\n\tstruct assoc_array_ptr\t\t*excised_subtree;\n\tstruct assoc_array_ptr\t\t**set_backpointers[ASSOC_ARRAY_FAN_OUT];\n\tstruct assoc_array_ptr\t\t*set_backpointers_to;\n\tstruct assoc_array_node\t\t*adjust_count_on;\n\tlong\t\t\t\tadjust_count_by;\n\tstruct {\n\t\tstruct assoc_array_ptr\t**ptr;\n\t\tstruct assoc_array_ptr\t*to;\n\t} set[2];\n\tstruct {\n\t\tu8\t\t\t*p;\n\t\tu8\t\t\tto;\n\t} set_parent_slot[1];\n\tu8\t\t\t\tsegment_cache[ASSOC_ARRAY_FAN_OUT + 1];\n};\n\n \n#define ASSOC_ARRAY_PTR_TYPE_MASK 0x1UL\n#define ASSOC_ARRAY_PTR_LEAF_TYPE 0x0UL\t \n#define ASSOC_ARRAY_PTR_META_TYPE 0x1UL\t \n#define ASSOC_ARRAY_PTR_SUBTYPE_MASK\t0x2UL\n#define ASSOC_ARRAY_PTR_NODE_SUBTYPE\t0x0UL\n#define ASSOC_ARRAY_PTR_SHORTCUT_SUBTYPE 0x2UL\n\nstatic inline bool assoc_array_ptr_is_meta(const struct assoc_array_ptr *x)\n{\n\treturn (unsigned long)x & ASSOC_ARRAY_PTR_TYPE_MASK;\n}\nstatic inline bool assoc_array_ptr_is_leaf(const struct assoc_array_ptr *x)\n{\n\treturn !assoc_array_ptr_is_meta(x);\n}\nstatic inline bool assoc_array_ptr_is_shortcut(const struct assoc_array_ptr *x)\n{\n\treturn (unsigned long)x & ASSOC_ARRAY_PTR_SUBTYPE_MASK;\n}\nstatic inline bool assoc_array_ptr_is_node(const struct assoc_array_ptr *x)\n{\n\treturn !assoc_array_ptr_is_shortcut(x);\n}\n\nstatic inline void *assoc_array_ptr_to_leaf(const struct assoc_array_ptr *x)\n{\n\treturn (void *)((unsigned long)x & ~ASSOC_ARRAY_PTR_TYPE_MASK);\n}\n\nstatic inline\nunsigned long __assoc_array_ptr_to_meta(const struct assoc_array_ptr *x)\n{\n\treturn (unsigned long)x &\n\t\t~(ASSOC_ARRAY_PTR_SUBTYPE_MASK | ASSOC_ARRAY_PTR_TYPE_MASK);\n}\nstatic inline\nstruct assoc_array_node *assoc_array_ptr_to_node(const struct assoc_array_ptr *x)\n{\n\treturn (struct assoc_array_node *)__assoc_array_ptr_to_meta(x);\n}\nstatic inline\nstruct assoc_array_shortcut *assoc_array_ptr_to_shortcut(const struct assoc_array_ptr *x)\n{\n\treturn (struct assoc_array_shortcut *)__assoc_array_ptr_to_meta(x);\n}\n\nstatic inline\nstruct assoc_array_ptr *__assoc_array_x_to_ptr(const void *p, unsigned long t)\n{\n\treturn (struct assoc_array_ptr *)((unsigned long)p | t);\n}\nstatic inline\nstruct assoc_array_ptr *assoc_array_leaf_to_ptr(const void *p)\n{\n\treturn __assoc_array_x_to_ptr(p, ASSOC_ARRAY_PTR_LEAF_TYPE);\n}\nstatic inline\nstruct assoc_array_ptr *assoc_array_node_to_ptr(const struct assoc_array_node *p)\n{\n\treturn __assoc_array_x_to_ptr(\n\t\tp, ASSOC_ARRAY_PTR_META_TYPE | ASSOC_ARRAY_PTR_NODE_SUBTYPE);\n}\nstatic inline\nstruct assoc_array_ptr *assoc_array_shortcut_to_ptr(const struct assoc_array_shortcut *p)\n{\n\treturn __assoc_array_x_to_ptr(\n\t\tp, ASSOC_ARRAY_PTR_META_TYPE | ASSOC_ARRAY_PTR_SHORTCUT_SUBTYPE);\n}\n\n#endif  \n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}