{
  "module_name": "ipmi.h",
  "hash_id": "be28b5b1853e85c83029cf7e8c6712afe664a932bd7f31a824ee7867fea0067e",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/ipmi.h",
  "human_readable_source": " \n \n#ifndef __LINUX_IPMI_H\n#define __LINUX_IPMI_H\n\n#include <uapi/linux/ipmi.h>\n\n#include <linux/list.h>\n#include <linux/proc_fs.h>\n#include <linux/acpi.h>  \n\nstruct module;\nstruct device;\n\n \nstruct ipmi_user;\n\n \nstruct ipmi_recv_msg {\n\tstruct list_head link;\n\n\t \n\tint              recv_type;\n\n\tstruct ipmi_user *user;\n\tstruct ipmi_addr addr;\n\tlong             msgid;\n\tstruct kernel_ipmi_msg  msg;\n\n\t \n\tvoid             *user_msg_data;\n\n\t \n\tvoid (*done)(struct ipmi_recv_msg *msg);\n\n\t \n\tunsigned char   msg_data[IPMI_MAX_MSG_LENGTH];\n};\n\n#define INIT_IPMI_RECV_MSG(done_handler) \\\n{\t\t\t\t\t\\\n\t.done = done_handler\t\t\\\n}\n\n \nvoid ipmi_free_recv_msg(struct ipmi_recv_msg *msg);\n\nstruct ipmi_user_hndl {\n\t \n\tvoid (*ipmi_recv_hndl)(struct ipmi_recv_msg *msg,\n\t\t\t       void                 *user_msg_data);\n\n\t \n\tvoid (*ipmi_watchdog_pretimeout)(void *handler_data);\n\n\t \n\tvoid (*ipmi_panic_handler)(void *handler_data);\n\n\t \n\tvoid (*shutdown)(void *handler_data);\n};\n\n \nint ipmi_create_user(unsigned int          if_num,\n\t\t     const struct ipmi_user_hndl *handler,\n\t\t     void                  *handler_data,\n\t\t     struct ipmi_user      **user);\n\n \nint ipmi_destroy_user(struct ipmi_user *user);\n\n \nint ipmi_get_version(struct ipmi_user *user,\n\t\t     unsigned char *major,\n\t\t     unsigned char *minor);\n\n \nint ipmi_set_my_address(struct ipmi_user *user,\n\t\t\tunsigned int  channel,\n\t\t\tunsigned char address);\nint ipmi_get_my_address(struct ipmi_user *user,\n\t\t\tunsigned int  channel,\n\t\t\tunsigned char *address);\nint ipmi_set_my_LUN(struct ipmi_user *user,\n\t\t    unsigned int  channel,\n\t\t    unsigned char LUN);\nint ipmi_get_my_LUN(struct ipmi_user *user,\n\t\t    unsigned int  channel,\n\t\t    unsigned char *LUN);\n\n \nint ipmi_request_settime(struct ipmi_user *user,\n\t\t\t struct ipmi_addr *addr,\n\t\t\t long             msgid,\n\t\t\t struct kernel_ipmi_msg  *msg,\n\t\t\t void             *user_msg_data,\n\t\t\t int              priority,\n\t\t\t int              max_retries,\n\t\t\t unsigned int     retry_time_ms);\n\n \nint ipmi_request_supply_msgs(struct ipmi_user     *user,\n\t\t\t     struct ipmi_addr     *addr,\n\t\t\t     long                 msgid,\n\t\t\t     struct kernel_ipmi_msg *msg,\n\t\t\t     void                 *user_msg_data,\n\t\t\t     void                 *supplied_smi,\n\t\t\t     struct ipmi_recv_msg *supplied_recv,\n\t\t\t     int                  priority);\n\n \nvoid ipmi_poll_interface(struct ipmi_user *user);\n\n \nint ipmi_register_for_cmd(struct ipmi_user *user,\n\t\t\t  unsigned char netfn,\n\t\t\t  unsigned char cmd,\n\t\t\t  unsigned int  chans);\nint ipmi_unregister_for_cmd(struct ipmi_user *user,\n\t\t\t    unsigned char netfn,\n\t\t\t    unsigned char cmd,\n\t\t\t    unsigned int  chans);\n\n \nint ipmi_get_maintenance_mode(struct ipmi_user *user);\nint ipmi_set_maintenance_mode(struct ipmi_user *user, int mode);\n\n \nint ipmi_set_gets_events(struct ipmi_user *user, bool val);\n\n \nstruct ipmi_smi_watcher {\n\tstruct list_head link;\n\n\t \n\tstruct module *owner;\n\n\t \n\tvoid (*new_smi)(int if_num, struct device *dev);\n\tvoid (*smi_gone)(int if_num);\n};\n\nint ipmi_smi_watcher_register(struct ipmi_smi_watcher *watcher);\nint ipmi_smi_watcher_unregister(struct ipmi_smi_watcher *watcher);\n\n \n\n \nunsigned int ipmi_addr_length(int addr_type);\n\n \nint ipmi_validate_addr(struct ipmi_addr *addr, int len);\n\n \nenum ipmi_addr_src {\n\tSI_INVALID = 0, SI_HOTMOD, SI_HARDCODED, SI_SPMI, SI_ACPI, SI_SMBIOS,\n\tSI_PCI,\tSI_DEVICETREE, SI_PLATFORM, SI_LAST\n};\nconst char *ipmi_addr_src_to_str(enum ipmi_addr_src src);\n\nunion ipmi_smi_info_union {\n#ifdef CONFIG_ACPI\n\t \n\tstruct {\n\t\tacpi_handle acpi_handle;\n\t} acpi_info;\n#endif\n};\n\nstruct ipmi_smi_info {\n\tenum ipmi_addr_src addr_src;\n\n\t \n\tstruct device *dev;\n\n\t \n\tunion ipmi_smi_info_union addr_info;\n};\n\n \nextern int ipmi_get_smi_info(int if_num, struct ipmi_smi_info *data);\n\n#define GET_DEVICE_ID_MAX_RETRY\t\t5\n\n \nunsigned char ipmb_checksum(unsigned char *data, int size);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}