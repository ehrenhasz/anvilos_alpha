{
  "module_name": "pruss_driver.h",
  "hash_id": "1a4b6e0bed702f70adee9f51c2cbcabc4c78283e7acaf26aea85882a55c7be0f",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/pruss_driver.h",
  "human_readable_source": " \n \n\n#ifndef _PRUSS_DRIVER_H_\n#define _PRUSS_DRIVER_H_\n\n#include <linux/mutex.h>\n#include <linux/remoteproc/pruss.h>\n#include <linux/types.h>\n#include <linux/err.h>\n\n \nenum pruss_gp_mux_sel {\n\tPRUSS_GP_MUX_SEL_GP,\n\tPRUSS_GP_MUX_SEL_ENDAT,\n\tPRUSS_GP_MUX_SEL_RESERVED,\n\tPRUSS_GP_MUX_SEL_SD,\n\tPRUSS_GP_MUX_SEL_MII2,\n\tPRUSS_GP_MUX_SEL_MAX,\n};\n\n \nenum pruss_gpi_mode {\n\tPRUSS_GPI_MODE_DIRECT,\n\tPRUSS_GPI_MODE_PARALLEL,\n\tPRUSS_GPI_MODE_28BIT_SHIFT,\n\tPRUSS_GPI_MODE_MII,\n\tPRUSS_GPI_MODE_MAX,\n};\n\n \nenum pru_type {\n\tPRU_TYPE_PRU,\n\tPRU_TYPE_RTU,\n\tPRU_TYPE_TX_PRU,\n\tPRU_TYPE_MAX,\n};\n\n \nenum pruss_mem {\n\tPRUSS_MEM_DRAM0 = 0,\n\tPRUSS_MEM_DRAM1,\n\tPRUSS_MEM_SHRD_RAM2,\n\tPRUSS_MEM_MAX,\n};\n\n \nstruct pruss_mem_region {\n\tvoid __iomem *va;\n\tphys_addr_t pa;\n\tsize_t size;\n};\n\n \nstruct pruss {\n\tstruct device *dev;\n\tvoid __iomem *cfg_base;\n\tstruct regmap *cfg_regmap;\n\tstruct pruss_mem_region mem_regions[PRUSS_MEM_MAX];\n\tstruct pruss_mem_region *mem_in_use[PRUSS_MEM_MAX];\n\tstruct mutex lock;  \n\tstruct clk *core_clk_mux;\n\tstruct clk *iep_clk_mux;\n};\n\n#if IS_ENABLED(CONFIG_TI_PRUSS)\n\nstruct pruss *pruss_get(struct rproc *rproc);\nvoid pruss_put(struct pruss *pruss);\nint pruss_request_mem_region(struct pruss *pruss, enum pruss_mem mem_id,\n\t\t\t     struct pruss_mem_region *region);\nint pruss_release_mem_region(struct pruss *pruss,\n\t\t\t     struct pruss_mem_region *region);\nint pruss_cfg_get_gpmux(struct pruss *pruss, enum pruss_pru_id pru_id, u8 *mux);\nint pruss_cfg_set_gpmux(struct pruss *pruss, enum pruss_pru_id pru_id, u8 mux);\nint pruss_cfg_gpimode(struct pruss *pruss, enum pruss_pru_id pru_id,\n\t\t      enum pruss_gpi_mode mode);\nint pruss_cfg_miirt_enable(struct pruss *pruss, bool enable);\nint pruss_cfg_xfr_enable(struct pruss *pruss, enum pru_type pru_type,\n\t\t\t bool enable);\n\n#else\n\nstatic inline struct pruss *pruss_get(struct rproc *rproc)\n{\n\treturn ERR_PTR(-EOPNOTSUPP);\n}\n\nstatic inline void pruss_put(struct pruss *pruss) { }\n\nstatic inline int pruss_request_mem_region(struct pruss *pruss,\n\t\t\t\t\t   enum pruss_mem mem_id,\n\t\t\t\t\t   struct pruss_mem_region *region)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline int pruss_release_mem_region(struct pruss *pruss,\n\t\t\t\t\t   struct pruss_mem_region *region)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline int pruss_cfg_get_gpmux(struct pruss *pruss,\n\t\t\t\t      enum pruss_pru_id pru_id, u8 *mux)\n{\n\treturn ERR_PTR(-EOPNOTSUPP);\n}\n\nstatic inline int pruss_cfg_set_gpmux(struct pruss *pruss,\n\t\t\t\t      enum pruss_pru_id pru_id, u8 mux)\n{\n\treturn ERR_PTR(-EOPNOTSUPP);\n}\n\nstatic inline int pruss_cfg_gpimode(struct pruss *pruss,\n\t\t\t\t    enum pruss_pru_id pru_id,\n\t\t\t\t    enum pruss_gpi_mode mode)\n{\n\treturn ERR_PTR(-EOPNOTSUPP);\n}\n\nstatic inline int pruss_cfg_miirt_enable(struct pruss *pruss, bool enable)\n{\n\treturn ERR_PTR(-EOPNOTSUPP);\n}\n\nstatic inline int pruss_cfg_xfr_enable(struct pruss *pruss,\n\t\t\t\t       enum pru_type pru_type,\n\t\t\t\t       bool enable);\n{\n\treturn ERR_PTR(-EOPNOTSUPP);\n}\n\n#endif  \n\n#endif\t \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}