{
  "module_name": "trusted_foundations.h",
  "hash_id": "3e1bb85d6dfdf9324021ed2bd074db7132442be42500a224ea471c40e7c61290",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/firmware/trusted_foundations.h",
  "human_readable_source": " \n \n\n \n\n#ifndef __FIRMWARE_TRUSTED_FOUNDATIONS_H\n#define __FIRMWARE_TRUSTED_FOUNDATIONS_H\n\n#include <linux/printk.h>\n#include <linux/bug.h>\n#include <linux/of.h>\n#include <linux/cpu.h>\n#include <linux/smp.h>\n#include <linux/types.h>\n\n#include <asm/hardware/cache-l2x0.h>\n#include <asm/outercache.h>\n\n#define TF_PM_MODE_LP0\t\t\t0\n#define TF_PM_MODE_LP1\t\t\t1\n#define TF_PM_MODE_LP1_NO_MC_CLK\t2\n#define TF_PM_MODE_LP2\t\t\t3\n#define TF_PM_MODE_LP2_NOFLUSH_L2\t4\n#define TF_PM_MODE_NONE\t\t\t5\n\nstruct trusted_foundations_platform_data {\n\tunsigned int version_major;\n\tunsigned int version_minor;\n};\n\n#if IS_ENABLED(CONFIG_TRUSTED_FOUNDATIONS)\n\nvoid register_trusted_foundations(struct trusted_foundations_platform_data *pd);\nvoid of_register_trusted_foundations(void);\nbool trusted_foundations_registered(void);\n\n#else  \nstatic inline void tf_dummy_write_sec(unsigned long val, unsigned int reg)\n{\n}\n\nstatic inline void register_trusted_foundations(\n\t\t\t\t   struct trusted_foundations_platform_data *pd)\n{\n\t \n\tpr_err(\"No support for Trusted Foundations, continuing in degraded mode.\\n\");\n\tpr_err(\"Secondary processors as well as CPU PM will be disabled.\\n\");\n#if IS_ENABLED(CONFIG_CACHE_L2X0)\n\tpr_err(\"L2X0 cache will be kept disabled.\\n\");\n\touter_cache.write_sec = tf_dummy_write_sec;\n#endif\n#if IS_ENABLED(CONFIG_SMP)\n\tsetup_max_cpus = 0;\n#endif\n\tcpu_idle_poll_ctrl(true);\n}\n\nstatic inline void of_register_trusted_foundations(void)\n{\n\tstruct device_node *np = of_find_compatible_node(NULL, NULL, \"tlm,trusted-foundations\");\n\n\tif (!np)\n\t\treturn;\n\tof_node_put(np);\n\t \n\tregister_trusted_foundations(NULL);\n}\n\nstatic inline bool trusted_foundations_registered(void)\n{\n\treturn false;\n}\n#endif  \n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}