{
  "module_name": "sh_intc.h",
  "hash_id": "f47997b1ed5d1361ab5751c2c334e31cb6f32dab3a8cdc2b5c6b3b9639920e42",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/sh_intc.h",
  "human_readable_source": " \n#ifndef __SH_INTC_H\n#define __SH_INTC_H\n\n#include <linux/ioport.h>\n\n#ifdef CONFIG_SUPERH\n#define INTC_NR_IRQS\t512\n#else\n#define INTC_NR_IRQS\t1024\n#endif\n\n \n#ifdef CONFIG_CPU_HAS_INTEVT\t \n#define evt2irq(evt)\t\t((evt) >> 5)\n#define irq2evt(irq)\t\t((irq) << 5)\n#else\n#define evt2irq(evt)\t\t(evt)\n#define irq2evt(irq)\t\t(irq)\n#endif\n\ntypedef unsigned char intc_enum;\n\nstruct intc_vect {\n\tintc_enum enum_id;\n\tunsigned short vect;\n};\n\n#define INTC_VECT(enum_id, vect) { enum_id, vect }\n#define INTC_IRQ(enum_id, irq) INTC_VECT(enum_id, irq2evt(irq))\n\nstruct intc_group {\n\tintc_enum enum_id;\n\tintc_enum enum_ids[32];\n};\n\n#define INTC_GROUP(enum_id, ids...) { enum_id, { ids } }\n\nstruct intc_subgroup {\n\tunsigned long reg, reg_width;\n\tintc_enum parent_id;\n\tintc_enum enum_ids[32];\n};\n\nstruct intc_mask_reg {\n\tunsigned long set_reg, clr_reg, reg_width;\n\tintc_enum enum_ids[32];\n#ifdef CONFIG_INTC_BALANCING\n\tunsigned long dist_reg;\n#endif\n#ifdef CONFIG_SMP\n\tunsigned long smp;\n#endif\n};\n\nstruct intc_prio_reg {\n\tunsigned long set_reg, clr_reg, reg_width, field_width;\n\tintc_enum enum_ids[16];\n#ifdef CONFIG_SMP\n\tunsigned long smp;\n#endif\n};\n\nstruct intc_sense_reg {\n\tunsigned long reg, reg_width, field_width;\n\tintc_enum enum_ids[16];\n};\n\n#ifdef CONFIG_INTC_BALANCING\n#define INTC_SMP_BALANCING(reg)\t.dist_reg = (reg)\n#else\n#define INTC_SMP_BALANCING(reg)\n#endif\n\n#ifdef CONFIG_SMP\n#define INTC_SMP(stride, nr)\t.smp = (stride) | ((nr) << 8)\n#else\n#define INTC_SMP(stride, nr)\n#endif\n\nstruct intc_hw_desc {\n\tstruct intc_vect *vectors;\n\tunsigned int nr_vectors;\n\tstruct intc_group *groups;\n\tunsigned int nr_groups;\n\tstruct intc_mask_reg *mask_regs;\n\tunsigned int nr_mask_regs;\n\tstruct intc_prio_reg *prio_regs;\n\tunsigned int nr_prio_regs;\n\tstruct intc_sense_reg *sense_regs;\n\tunsigned int nr_sense_regs;\n\tstruct intc_mask_reg *ack_regs;\n\tunsigned int nr_ack_regs;\n\tstruct intc_subgroup *subgroups;\n\tunsigned int nr_subgroups;\n};\n\n#define _INTC_SIZEOF_OR_ZERO(a) (_Generic(a,                 \\\n                                 typeof(NULL):  0,           \\\n                                 default:       sizeof(a)))\n#define _INTC_ARRAY(a) a, _INTC_SIZEOF_OR_ZERO(a)/sizeof(*a)\n\n#define INTC_HW_DESC(vectors, groups, mask_regs,\t\\\n\t\t     prio_regs,\tsense_regs, ack_regs)\t\\\n{\t\t\t\t\t\t\t\\\n\t_INTC_ARRAY(vectors), _INTC_ARRAY(groups),\t\\\n\t_INTC_ARRAY(mask_regs), _INTC_ARRAY(prio_regs),\t\\\n\t_INTC_ARRAY(sense_regs), _INTC_ARRAY(ack_regs),\t\\\n}\n\nstruct intc_desc {\n\tchar *name;\n\tstruct resource *resource;\n\tunsigned int num_resources;\n\tintc_enum force_enable;\n\tintc_enum force_disable;\n\tbool skip_syscore_suspend;\n\tstruct intc_hw_desc hw;\n};\n\n#define DECLARE_INTC_DESC(symbol, chipname, vectors, groups,\t\t\\\n\tmask_regs, prio_regs, sense_regs)\t\t\t\t\\\nstruct intc_desc symbol __initdata = {\t\t\t\t\t\\\n\t.name = chipname,\t\t\t\t\t\t\\\n\t.hw = INTC_HW_DESC(vectors, groups, mask_regs,\t\t\t\\\n\t\t\t   prio_regs, sense_regs, NULL),\t\t\\\n}\n\n#define DECLARE_INTC_DESC_ACK(symbol, chipname, vectors, groups,\t\\\n\tmask_regs, prio_regs, sense_regs, ack_regs)\t\t\t\\\nstruct intc_desc symbol __initdata = {\t\t\t\t\t\\\n\t.name = chipname,\t\t\t\t\t\t\\\n\t.hw = INTC_HW_DESC(vectors, groups, mask_regs,\t\t\t\\\n\t\t\t   prio_regs, sense_regs, ack_regs),\t\t\\\n}\n\nint register_intc_controller(struct intc_desc *desc);\nint intc_set_priority(unsigned int irq, unsigned int prio);\nint intc_irq_lookup(const char *chipname, intc_enum enum_id);\nvoid intc_finalize(void);\n\n#ifdef CONFIG_INTC_USERIMASK\nint register_intc_userimask(unsigned long addr);\n#else\nstatic inline int register_intc_userimask(unsigned long addr)\n{\n\treturn 0;\n}\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}