{
  "module_name": "seq_buf.h",
  "hash_id": "877aca3db904f2799df5c4ac4bb1b82c1a80831d1bdb34ed8081926c51b5cb1b",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/seq_buf.h",
  "human_readable_source": " \n#ifndef _LINUX_SEQ_BUF_H\n#define _LINUX_SEQ_BUF_H\n\n#include <linux/fs.h>\n\n \n\n \nstruct seq_buf {\n\tchar\t\t\t*buffer;\n\tsize_t\t\t\tsize;\n\tsize_t\t\t\tlen;\n\tloff_t\t\t\treadpos;\n};\n\nstatic inline void seq_buf_clear(struct seq_buf *s)\n{\n\ts->len = 0;\n\ts->readpos = 0;\n}\n\nstatic inline void\nseq_buf_init(struct seq_buf *s, char *buf, unsigned int size)\n{\n\ts->buffer = buf;\n\ts->size = size;\n\tseq_buf_clear(s);\n}\n\n \nstatic inline bool\nseq_buf_has_overflowed(struct seq_buf *s)\n{\n\treturn s->len > s->size;\n}\n\nstatic inline void\nseq_buf_set_overflow(struct seq_buf *s)\n{\n\ts->len = s->size + 1;\n}\n\n \nstatic inline unsigned int\nseq_buf_buffer_left(struct seq_buf *s)\n{\n\tif (seq_buf_has_overflowed(s))\n\t\treturn 0;\n\n\treturn s->size - s->len;\n}\n\n \nstatic inline unsigned int seq_buf_used(struct seq_buf *s)\n{\n\treturn min(s->len, s->size);\n}\n\n \nstatic inline void seq_buf_terminate(struct seq_buf *s)\n{\n\tif (WARN_ON(s->size == 0))\n\t\treturn;\n\n\tif (seq_buf_buffer_left(s))\n\t\ts->buffer[s->len] = 0;\n\telse\n\t\ts->buffer[s->size - 1] = 0;\n}\n\n \nstatic inline size_t seq_buf_get_buf(struct seq_buf *s, char **bufp)\n{\n\tWARN_ON(s->len > s->size + 1);\n\n\tif (s->len < s->size) {\n\t\t*bufp = s->buffer + s->len;\n\t\treturn s->size - s->len;\n\t}\n\n\t*bufp = NULL;\n\treturn 0;\n}\n\n \nstatic inline void seq_buf_commit(struct seq_buf *s, int num)\n{\n\tif (num < 0) {\n\t\tseq_buf_set_overflow(s);\n\t} else {\n\t\t \n\t\tBUG_ON(s->len + num > s->size);\n\t\ts->len += num;\n\t}\n}\n\nextern __printf(2, 3)\nint seq_buf_printf(struct seq_buf *s, const char *fmt, ...);\nextern __printf(2, 0)\nint seq_buf_vprintf(struct seq_buf *s, const char *fmt, va_list args);\nextern int seq_buf_print_seq(struct seq_file *m, struct seq_buf *s);\nextern int seq_buf_to_user(struct seq_buf *s, char __user *ubuf,\n\t\t\t   int cnt);\nextern int seq_buf_puts(struct seq_buf *s, const char *str);\nextern int seq_buf_putc(struct seq_buf *s, unsigned char c);\nextern int seq_buf_putmem(struct seq_buf *s, const void *mem, unsigned int len);\nextern int seq_buf_putmem_hex(struct seq_buf *s, const void *mem,\n\t\t\t      unsigned int len);\nextern int seq_buf_path(struct seq_buf *s, const struct path *path, const char *esc);\nextern int seq_buf_hex_dump(struct seq_buf *s, const char *prefix_str,\n\t\t\t    int prefix_type, int rowsize, int groupsize,\n\t\t\t    const void *buf, size_t len, bool ascii);\n\n#ifdef CONFIG_BINARY_PRINTF\nextern int\nseq_buf_bprintf(struct seq_buf *s, const char *fmt, const u32 *binary);\n#endif\n\nvoid seq_buf_do_printk(struct seq_buf *s, const char *lvl);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}