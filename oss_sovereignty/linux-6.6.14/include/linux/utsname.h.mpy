{
  "module_name": "utsname.h",
  "hash_id": "1da04806beae9e5af0a6ef4ce6a9ff6e4651d172c20632bcc4d40a5adaffd199",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/utsname.h",
  "human_readable_source": " \n#ifndef _LINUX_UTSNAME_H\n#define _LINUX_UTSNAME_H\n\n\n#include <linux/sched.h>\n#include <linux/nsproxy.h>\n#include <linux/ns_common.h>\n#include <linux/err.h>\n#include <uapi/linux/utsname.h>\n\nenum uts_proc {\n\tUTS_PROC_ARCH,\n\tUTS_PROC_OSTYPE,\n\tUTS_PROC_OSRELEASE,\n\tUTS_PROC_VERSION,\n\tUTS_PROC_HOSTNAME,\n\tUTS_PROC_DOMAINNAME,\n};\n\nstruct user_namespace;\nextern struct user_namespace init_user_ns;\n\nstruct uts_namespace {\n\tstruct new_utsname name;\n\tstruct user_namespace *user_ns;\n\tstruct ucounts *ucounts;\n\tstruct ns_common ns;\n} __randomize_layout;\nextern struct uts_namespace init_uts_ns;\n\n#ifdef CONFIG_UTS_NS\nstatic inline void get_uts_ns(struct uts_namespace *ns)\n{\n\trefcount_inc(&ns->ns.count);\n}\n\nextern struct uts_namespace *copy_utsname(unsigned long flags,\n\tstruct user_namespace *user_ns, struct uts_namespace *old_ns);\nextern void free_uts_ns(struct uts_namespace *ns);\n\nstatic inline void put_uts_ns(struct uts_namespace *ns)\n{\n\tif (refcount_dec_and_test(&ns->ns.count))\n\t\tfree_uts_ns(ns);\n}\n\nvoid uts_ns_init(void);\n#else\nstatic inline void get_uts_ns(struct uts_namespace *ns)\n{\n}\n\nstatic inline void put_uts_ns(struct uts_namespace *ns)\n{\n}\n\nstatic inline struct uts_namespace *copy_utsname(unsigned long flags,\n\tstruct user_namespace *user_ns, struct uts_namespace *old_ns)\n{\n\tif (flags & CLONE_NEWUTS)\n\t\treturn ERR_PTR(-EINVAL);\n\n\treturn old_ns;\n}\n\nstatic inline void uts_ns_init(void)\n{\n}\n#endif\n\n#ifdef CONFIG_PROC_SYSCTL\nextern void uts_proc_notify(enum uts_proc proc);\n#else\nstatic inline void uts_proc_notify(enum uts_proc proc)\n{\n}\n#endif\n\nstatic inline struct new_utsname *utsname(void)\n{\n\treturn &current->nsproxy->uts_ns->name;\n}\n\nstatic inline struct new_utsname *init_utsname(void)\n{\n\treturn &init_uts_ns.name;\n}\n\nextern struct rw_semaphore uts_sem;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}