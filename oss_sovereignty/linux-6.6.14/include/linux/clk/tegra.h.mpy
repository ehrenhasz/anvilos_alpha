{
  "module_name": "tegra.h",
  "hash_id": "606164c15b8ea287856dfe72a60069d26defdd73b803315db30046e4499987ed",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/clk/tegra.h",
  "human_readable_source": " \n \n\n#ifndef __LINUX_CLK_TEGRA_H_\n#define __LINUX_CLK_TEGRA_H_\n\n#include <linux/types.h>\n#include <linux/bug.h>\n\n \nstruct tegra_cpu_car_ops {\n\tvoid (*wait_for_reset)(u32 cpu);\n\tvoid (*put_in_reset)(u32 cpu);\n\tvoid (*out_of_reset)(u32 cpu);\n\tvoid (*enable_clock)(u32 cpu);\n\tvoid (*disable_clock)(u32 cpu);\n#ifdef CONFIG_PM_SLEEP\n\tbool (*rail_off_ready)(void);\n\tvoid (*suspend)(void);\n\tvoid (*resume)(void);\n#endif\n};\n\n#ifdef CONFIG_ARCH_TEGRA\nextern struct tegra_cpu_car_ops *tegra_cpu_car_ops;\n\nstatic inline void tegra_wait_cpu_in_reset(u32 cpu)\n{\n\tif (WARN_ON(!tegra_cpu_car_ops->wait_for_reset))\n\t\treturn;\n\n\ttegra_cpu_car_ops->wait_for_reset(cpu);\n}\n\nstatic inline void tegra_put_cpu_in_reset(u32 cpu)\n{\n\tif (WARN_ON(!tegra_cpu_car_ops->put_in_reset))\n\t\treturn;\n\n\ttegra_cpu_car_ops->put_in_reset(cpu);\n}\n\nstatic inline void tegra_cpu_out_of_reset(u32 cpu)\n{\n\tif (WARN_ON(!tegra_cpu_car_ops->out_of_reset))\n\t\treturn;\n\n\ttegra_cpu_car_ops->out_of_reset(cpu);\n}\n\nstatic inline void tegra_enable_cpu_clock(u32 cpu)\n{\n\tif (WARN_ON(!tegra_cpu_car_ops->enable_clock))\n\t\treturn;\n\n\ttegra_cpu_car_ops->enable_clock(cpu);\n}\n\nstatic inline void tegra_disable_cpu_clock(u32 cpu)\n{\n\tif (WARN_ON(!tegra_cpu_car_ops->disable_clock))\n\t\treturn;\n\n\ttegra_cpu_car_ops->disable_clock(cpu);\n}\n#else\nstatic inline void tegra_wait_cpu_in_reset(u32 cpu)\n{\n}\n\nstatic inline void tegra_put_cpu_in_reset(u32 cpu)\n{\n}\n\nstatic inline void tegra_cpu_out_of_reset(u32 cpu)\n{\n}\n\nstatic inline void tegra_enable_cpu_clock(u32 cpu)\n{\n}\n\nstatic inline void tegra_disable_cpu_clock(u32 cpu)\n{\n}\n#endif\n\n#if defined(CONFIG_ARCH_TEGRA) && defined(CONFIG_PM_SLEEP)\nstatic inline bool tegra_cpu_rail_off_ready(void)\n{\n\tif (WARN_ON(!tegra_cpu_car_ops->rail_off_ready))\n\t\treturn false;\n\n\treturn tegra_cpu_car_ops->rail_off_ready();\n}\n\nstatic inline void tegra_cpu_clock_suspend(void)\n{\n\tif (WARN_ON(!tegra_cpu_car_ops->suspend))\n\t\treturn;\n\n\ttegra_cpu_car_ops->suspend();\n}\n\nstatic inline void tegra_cpu_clock_resume(void)\n{\n\tif (WARN_ON(!tegra_cpu_car_ops->resume))\n\t\treturn;\n\n\ttegra_cpu_car_ops->resume();\n}\n#else\nstatic inline bool tegra_cpu_rail_off_ready(void)\n{\n\treturn false;\n}\n\nstatic inline void tegra_cpu_clock_suspend(void)\n{\n}\n\nstatic inline void tegra_cpu_clock_resume(void)\n{\n}\n#endif\n\nstruct clk;\nstruct tegra_emc;\n\ntypedef long (tegra20_clk_emc_round_cb)(unsigned long rate,\n\t\t\t\t\tunsigned long min_rate,\n\t\t\t\t\tunsigned long max_rate,\n\t\t\t\t\tvoid *arg);\ntypedef int (tegra124_emc_prepare_timing_change_cb)(struct tegra_emc *emc,\n\t\t\t\t\t\t    unsigned long rate);\ntypedef void (tegra124_emc_complete_timing_change_cb)(struct tegra_emc *emc,\n\t\t\t\t\t\t      unsigned long rate);\n\nstruct tegra210_clk_emc_config {\n\tunsigned long rate;\n\tbool same_freq;\n\tu32 value;\n\n\tunsigned long parent_rate;\n\tu8 parent;\n};\n\nstruct tegra210_clk_emc_provider {\n\tstruct module *owner;\n\tstruct device *dev;\n\n\tstruct tegra210_clk_emc_config *configs;\n\tunsigned int num_configs;\n\n\tint (*set_rate)(struct device *dev,\n\t\t\tconst struct tegra210_clk_emc_config *config);\n};\n\n#if defined(CONFIG_ARCH_TEGRA_2x_SOC) || defined(CONFIG_ARCH_TEGRA_3x_SOC)\nvoid tegra20_clk_set_emc_round_callback(tegra20_clk_emc_round_cb *round_cb,\n\t\t\t\t\tvoid *cb_arg);\nint tegra20_clk_prepare_emc_mc_same_freq(struct clk *emc_clk, bool same);\n#else\nstatic inline void\ntegra20_clk_set_emc_round_callback(tegra20_clk_emc_round_cb *round_cb,\n\t\t\t\t   void *cb_arg)\n{\n}\n\nstatic inline int\ntegra20_clk_prepare_emc_mc_same_freq(struct clk *emc_clk, bool same)\n{\n\treturn 0;\n}\n#endif\n\n#ifdef CONFIG_TEGRA124_CLK_EMC\nvoid tegra124_clk_set_emc_callbacks(tegra124_emc_prepare_timing_change_cb *prep_cb,\n\t\t\t\t    tegra124_emc_complete_timing_change_cb *complete_cb);\n#else\nstatic inline void\ntegra124_clk_set_emc_callbacks(tegra124_emc_prepare_timing_change_cb *prep_cb,\n\t\t\t       tegra124_emc_complete_timing_change_cb *complete_cb)\n{\n}\n#endif\n\n#ifdef CONFIG_ARCH_TEGRA_210_SOC\nint tegra210_plle_hw_sequence_start(void);\nbool tegra210_plle_hw_sequence_is_enabled(void);\nvoid tegra210_xusb_pll_hw_control_enable(void);\nvoid tegra210_xusb_pll_hw_sequence_start(void);\nvoid tegra210_sata_pll_hw_control_enable(void);\nvoid tegra210_sata_pll_hw_sequence_start(void);\nvoid tegra210_set_sata_pll_seq_sw(bool state);\nvoid tegra210_put_utmipll_in_iddq(void);\nvoid tegra210_put_utmipll_out_iddq(void);\nint tegra210_clk_handle_mbist_war(unsigned int id);\nvoid tegra210_clk_emc_dll_enable(bool flag);\nvoid tegra210_clk_emc_dll_update_setting(u32 emc_dll_src_value);\nvoid tegra210_clk_emc_update_setting(u32 emc_src_value);\n\nint tegra210_clk_emc_attach(struct clk *clk,\n\t\t\t    struct tegra210_clk_emc_provider *provider);\nvoid tegra210_clk_emc_detach(struct clk *clk);\n#else\nstatic inline int tegra210_plle_hw_sequence_start(void)\n{\n\treturn 0;\n}\n\nstatic inline bool tegra210_plle_hw_sequence_is_enabled(void)\n{\n\treturn false;\n}\n\nstatic inline int tegra210_clk_handle_mbist_war(unsigned int id)\n{\n\treturn 0;\n}\n\nstatic inline int\ntegra210_clk_emc_attach(struct clk *clk,\n\t\t\tstruct tegra210_clk_emc_provider *provider)\n{\n\treturn 0;\n}\n\nstatic inline void tegra210_xusb_pll_hw_control_enable(void) {}\nstatic inline void tegra210_xusb_pll_hw_sequence_start(void) {}\nstatic inline void tegra210_sata_pll_hw_control_enable(void) {}\nstatic inline void tegra210_sata_pll_hw_sequence_start(void) {}\nstatic inline void tegra210_set_sata_pll_seq_sw(bool state) {}\nstatic inline void tegra210_put_utmipll_in_iddq(void) {}\nstatic inline void tegra210_put_utmipll_out_iddq(void) {}\nstatic inline void tegra210_clk_emc_dll_enable(bool flag) {}\nstatic inline void tegra210_clk_emc_dll_update_setting(u32 emc_dll_src_value) {}\nstatic inline void tegra210_clk_emc_update_setting(u32 emc_src_value) {}\nstatic inline void tegra210_clk_emc_detach(struct clk *clk) {}\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}