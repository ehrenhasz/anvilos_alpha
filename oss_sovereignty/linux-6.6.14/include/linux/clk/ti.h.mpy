{
  "module_name": "ti.h",
  "hash_id": "2aee5963b3a48d5020002dd20deb105026023562ce8cd1709e2c7581b9ad1be0",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/clk/ti.h",
  "human_readable_source": " \n \n#ifndef __LINUX_CLK_TI_H__\n#define __LINUX_CLK_TI_H__\n\n#include <linux/clk-provider.h>\n#include <linux/clkdev.h>\n\n \nstruct clk_omap_reg {\n\tvoid __iomem *ptr;\n\tu16 offset;\n\tu8 index;\n\tu8 flags;\n};\n\n \nstruct dpll_data {\n\tstruct clk_omap_reg\tmult_div1_reg;\n\tu32\t\t\tmult_mask;\n\tu32\t\t\tdiv1_mask;\n\tstruct clk_hw\t\t*clk_bypass;\n\tstruct clk_hw\t\t*clk_ref;\n\tstruct clk_omap_reg\tcontrol_reg;\n\tu32\t\t\tenable_mask;\n\tunsigned long\t\tlast_rounded_rate;\n\tu16\t\t\tlast_rounded_m;\n\tu8\t\t\tlast_rounded_m4xen;\n\tu8\t\t\tlast_rounded_lpmode;\n\tu16\t\t\tmax_multiplier;\n\tu8\t\t\tlast_rounded_n;\n\tu8\t\t\tmin_divider;\n\tu16\t\t\tmax_divider;\n\tunsigned long\t\tmax_rate;\n\tu8\t\t\tmodes;\n\tstruct clk_omap_reg\tautoidle_reg;\n\tstruct clk_omap_reg\tidlest_reg;\n\tu32\t\t\tautoidle_mask;\n\tu32\t\t\tfreqsel_mask;\n\tu32\t\t\tidlest_mask;\n\tu32\t\t\tdco_mask;\n\tu32\t\t\tsddiv_mask;\n\tu32\t\t\tdcc_mask;\n\tunsigned long\t\tdcc_rate;\n\tu32\t\t\tlpmode_mask;\n\tu32\t\t\tm4xen_mask;\n\tu8\t\t\tauto_recal_bit;\n\tu8\t\t\trecal_en_bit;\n\tu8\t\t\trecal_st_bit;\n\tstruct clk_omap_reg\tssc_deltam_reg;\n\tstruct clk_omap_reg\tssc_modfreq_reg;\n\tu32\t\t\tssc_deltam_int_mask;\n\tu32\t\t\tssc_deltam_frac_mask;\n\tu32\t\t\tssc_modfreq_mant_mask;\n\tu32\t\t\tssc_modfreq_exp_mask;\n\tu32                     ssc_enable_mask;\n\tu32                     ssc_downspread_mask;\n\tu32                     ssc_modfreq;\n\tu32                     ssc_deltam;\n\tbool                    ssc_downspread;\n\tu8\t\t\tflags;\n};\n\nstruct clk_hw_omap;\n\n \nstruct clk_hw_omap_ops {\n\tvoid\t(*find_idlest)(struct clk_hw_omap *oclk,\n\t\t\t       struct clk_omap_reg *idlest_reg,\n\t\t\t       u8 *idlest_bit, u8 *idlest_val);\n\tvoid\t(*find_companion)(struct clk_hw_omap *oclk,\n\t\t\t\t  struct clk_omap_reg *other_reg,\n\t\t\t\t  u8 *other_bit);\n\tvoid\t(*allow_idle)(struct clk_hw_omap *oclk);\n\tvoid\t(*deny_idle)(struct clk_hw_omap *oclk);\n};\n\n \nstruct clk_hw_omap {\n\tstruct clk_hw\t\thw;\n\tstruct list_head\tnode;\n\tunsigned long\t\tfixed_rate;\n\tu8\t\t\tfixed_div;\n\tstruct clk_omap_reg\tenable_reg;\n\tu8\t\t\tenable_bit;\n\tunsigned long\t\tflags;\n\tstruct clk_omap_reg\tclksel_reg;\n\tstruct dpll_data\t*dpll_data;\n\tconst char\t\t*clkdm_name;\n\tstruct clockdomain\t*clkdm;\n\tconst struct clk_hw_omap_ops\t*ops;\n\tu32\t\t\tcontext;\n\tint\t\t\tautoidle_count;\n};\n\n \n#define ENABLE_REG_32BIT\t(1 << 0)\t \n#define CLOCK_IDLE_CONTROL\t(1 << 1)\n#define CLOCK_NO_IDLE_PARENT\t(1 << 2)\n#define ENABLE_ON_INIT\t\t(1 << 3)\t \n#define INVERT_ENABLE\t\t(1 << 4)\t \n#define CLOCK_CLKOUTX2\t\t(1 << 5)\n\n \n#define DPLL_LOW_POWER_STOP\t0x1\n#define DPLL_LOW_POWER_BYPASS\t0x5\n#define DPLL_LOCKED\t\t0x7\n\n \n#define DPLL_J_TYPE\t\t0x1\n\n \nenum {\n\tTI_CLKM_CM = 0,\n\tTI_CLKM_CM2,\n\tTI_CLKM_PRM,\n\tTI_CLKM_SCRM,\n\tTI_CLKM_CTRL,\n\tTI_CLKM_CTRL_AUX,\n\tTI_CLKM_PLLSS,\n\tCLK_MAX_MEMMAPS\n};\n\n \nstruct ti_clk_ll_ops {\n\tu32\t(*clk_readl)(const struct clk_omap_reg *reg);\n\tvoid\t(*clk_writel)(u32 val, const struct clk_omap_reg *reg);\n\tvoid\t(*clk_rmw)(u32 val, u32 mask, const struct clk_omap_reg *reg);\n\tint\t(*clkdm_clk_enable)(struct clockdomain *clkdm, struct clk *clk);\n\tint\t(*clkdm_clk_disable)(struct clockdomain *clkdm,\n\t\t\t\t     struct clk *clk);\n\tstruct clockdomain * (*clkdm_lookup)(const char *name);\n\tint\t(*cm_wait_module_ready)(u8 part, s16 prcm_mod, u16 idlest_reg,\n\t\t\t\t\tu8 idlest_shift);\n\tint\t(*cm_split_idlest_reg)(struct clk_omap_reg *idlest_reg,\n\t\t\t\t       s16 *prcm_inst, u8 *idlest_reg_id);\n};\n\n#define to_clk_hw_omap(_hw) container_of(_hw, struct clk_hw_omap, hw)\n\nbool omap2_clk_is_hw_omap(struct clk_hw *hw);\nint omap2_clk_disable_autoidle_all(void);\nint omap2_clk_enable_autoidle_all(void);\nint omap2_clk_allow_idle(struct clk *clk);\nint omap2_clk_deny_idle(struct clk *clk);\nunsigned long omap2_dpllcore_recalc(struct clk_hw *hw,\n\t\t\t\t    unsigned long parent_rate);\nint omap2_reprogram_dpllcore(struct clk_hw *clk, unsigned long rate,\n\t\t\t     unsigned long parent_rate);\nvoid omap2xxx_clkt_dpllcore_init(struct clk_hw *hw);\nvoid omap2xxx_clkt_vps_init(void);\nunsigned long omap2_get_dpll_rate(struct clk_hw_omap *clk);\n\nvoid ti_dt_clk_init_retry_clks(void);\nvoid ti_dt_clockdomains_setup(void);\nint ti_clk_setup_ll_ops(struct ti_clk_ll_ops *ops);\n\nstruct regmap;\n\nint omap2_clk_provider_init(struct device_node *parent, int index,\n\t\t\t    struct regmap *syscon, void __iomem *mem);\nvoid omap2_clk_legacy_provider_init(int index, void __iomem *mem);\n\nint omap3430_dt_clk_init(void);\nint omap3630_dt_clk_init(void);\nint am35xx_dt_clk_init(void);\nint dm814x_dt_clk_init(void);\nint dm816x_dt_clk_init(void);\nint omap4xxx_dt_clk_init(void);\nint omap5xxx_dt_clk_init(void);\nint dra7xx_dt_clk_init(void);\nint am33xx_dt_clk_init(void);\nint am43xx_dt_clk_init(void);\nint omap2420_dt_clk_init(void);\nint omap2430_dt_clk_init(void);\n\nstruct ti_clk_features {\n\tu32 flags;\n\tlong fint_min;\n\tlong fint_max;\n\tlong fint_band1_max;\n\tlong fint_band2_min;\n\tu8 dpll_bypass_vals;\n\tu8 cm_idlest_val;\n};\n\n#define TI_CLK_DPLL_HAS_FREQSEL\t\t\tBIT(0)\n#define TI_CLK_DPLL4_DENY_REPROGRAM\t\tBIT(1)\n#define TI_CLK_DISABLE_CLKDM_CONTROL\t\tBIT(2)\n#define TI_CLK_ERRATA_I810\t\t\tBIT(3)\n#define TI_CLK_CLKCTRL_COMPAT\t\t\tBIT(4)\n#define TI_CLK_DEVICE_TYPE_GP\t\t\tBIT(5)\n\nvoid ti_clk_setup_features(struct ti_clk_features *features);\nconst struct ti_clk_features *ti_clk_get_features(void);\nbool ti_clk_is_in_standby(struct clk *clk);\nint omap3_noncore_dpll_save_context(struct clk_hw *hw);\nvoid omap3_noncore_dpll_restore_context(struct clk_hw *hw);\n\nint omap3_core_dpll_save_context(struct clk_hw *hw);\nvoid omap3_core_dpll_restore_context(struct clk_hw *hw);\n\nextern const struct clk_hw_omap_ops clkhwops_omap2xxx_dpll;\n\n#ifdef CONFIG_ATAGS\nint omap3430_clk_legacy_init(void);\nint omap3430es1_clk_legacy_init(void);\nint omap36xx_clk_legacy_init(void);\nint am35xx_clk_legacy_init(void);\n#else\nstatic inline int omap3430_clk_legacy_init(void) { return -ENXIO; }\nstatic inline int omap3430es1_clk_legacy_init(void) { return -ENXIO; }\nstatic inline int omap36xx_clk_legacy_init(void) { return -ENXIO; }\nstatic inline int am35xx_clk_legacy_init(void) { return -ENXIO; }\n#endif\n\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}