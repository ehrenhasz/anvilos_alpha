{
  "module_name": "arm-gic-v3.h",
  "hash_id": "1bcbd52ab9ad67eed24f0fe22c2b9bf6fed2c4b375aa1b363a58ca1ad89fe151",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/irqchip/arm-gic-v3.h",
  "human_readable_source": " \n \n#ifndef __LINUX_IRQCHIP_ARM_GIC_V3_H\n#define __LINUX_IRQCHIP_ARM_GIC_V3_H\n\n \n#define GICD_CTLR\t\t\t0x0000\n#define GICD_TYPER\t\t\t0x0004\n#define GICD_IIDR\t\t\t0x0008\n#define GICD_TYPER2\t\t\t0x000C\n#define GICD_STATUSR\t\t\t0x0010\n#define GICD_SETSPI_NSR\t\t\t0x0040\n#define GICD_CLRSPI_NSR\t\t\t0x0048\n#define GICD_SETSPI_SR\t\t\t0x0050\n#define GICD_CLRSPI_SR\t\t\t0x0058\n#define GICD_IGROUPR\t\t\t0x0080\n#define GICD_ISENABLER\t\t\t0x0100\n#define GICD_ICENABLER\t\t\t0x0180\n#define GICD_ISPENDR\t\t\t0x0200\n#define GICD_ICPENDR\t\t\t0x0280\n#define GICD_ISACTIVER\t\t\t0x0300\n#define GICD_ICACTIVER\t\t\t0x0380\n#define GICD_IPRIORITYR\t\t\t0x0400\n#define GICD_ICFGR\t\t\t0x0C00\n#define GICD_IGRPMODR\t\t\t0x0D00\n#define GICD_NSACR\t\t\t0x0E00\n#define GICD_IGROUPRnE\t\t\t0x1000\n#define GICD_ISENABLERnE\t\t0x1200\n#define GICD_ICENABLERnE\t\t0x1400\n#define GICD_ISPENDRnE\t\t\t0x1600\n#define GICD_ICPENDRnE\t\t\t0x1800\n#define GICD_ISACTIVERnE\t\t0x1A00\n#define GICD_ICACTIVERnE\t\t0x1C00\n#define GICD_IPRIORITYRnE\t\t0x2000\n#define GICD_ICFGRnE\t\t\t0x3000\n#define GICD_IROUTER\t\t\t0x6000\n#define GICD_IROUTERnE\t\t\t0x8000\n#define GICD_IDREGS\t\t\t0xFFD0\n#define GICD_PIDR2\t\t\t0xFFE8\n\n#define ESPI_BASE_INTID\t\t\t4096\n\n \n#define GICD_ITARGETSR\t\t\t0x0800\n#define GICD_SGIR\t\t\t0x0F00\n#define GICD_CPENDSGIR\t\t\t0x0F10\n#define GICD_SPENDSGIR\t\t\t0x0F20\n\n#define GICD_CTLR_RWP\t\t\t(1U << 31)\n#define GICD_CTLR_nASSGIreq\t\t(1U << 8)\n#define GICD_CTLR_DS\t\t\t(1U << 6)\n#define GICD_CTLR_ARE_NS\t\t(1U << 4)\n#define GICD_CTLR_ENABLE_G1A\t\t(1U << 1)\n#define GICD_CTLR_ENABLE_G1\t\t(1U << 0)\n\n#define GICD_IIDR_IMPLEMENTER_SHIFT\t0\n#define GICD_IIDR_IMPLEMENTER_MASK\t(0xfff << GICD_IIDR_IMPLEMENTER_SHIFT)\n#define GICD_IIDR_REVISION_SHIFT\t12\n#define GICD_IIDR_REVISION_MASK\t\t(0xf << GICD_IIDR_REVISION_SHIFT)\n#define GICD_IIDR_VARIANT_SHIFT\t\t16\n#define GICD_IIDR_VARIANT_MASK\t\t(0xf << GICD_IIDR_VARIANT_SHIFT)\n#define GICD_IIDR_PRODUCT_ID_SHIFT\t24\n#define GICD_IIDR_PRODUCT_ID_MASK\t(0xff << GICD_IIDR_PRODUCT_ID_SHIFT)\n\n\n \n#define GICD_CTLR_ENABLE_SS_G1\t\t(1U << 1)\n#define GICD_CTLR_ENABLE_SS_G0\t\t(1U << 0)\n\n#define GICD_TYPER_RSS\t\t\t(1U << 26)\n#define GICD_TYPER_LPIS\t\t\t(1U << 17)\n#define GICD_TYPER_MBIS\t\t\t(1U << 16)\n#define GICD_TYPER_ESPI\t\t\t(1U << 8)\n\n#define GICD_TYPER_ID_BITS(typer)\t((((typer) >> 19) & 0x1f) + 1)\n#define GICD_TYPER_NUM_LPIS(typer)\t((((typer) >> 11) & 0x1f) + 1)\n#define GICD_TYPER_SPIS(typer)\t\t((((typer) & 0x1f) + 1) * 32)\n#define GICD_TYPER_ESPIS(typer)\t\t\t\t\t\t\\\n\t(((typer) & GICD_TYPER_ESPI) ? GICD_TYPER_SPIS((typer) >> 27) : 0)\n\n#define GICD_TYPER2_nASSGIcap\t\t(1U << 8)\n#define GICD_TYPER2_VIL\t\t\t(1U << 7)\n#define GICD_TYPER2_VID\t\t\tGENMASK(4, 0)\n\n#define GICD_IROUTER_SPI_MODE_ONE\t(0U << 31)\n#define GICD_IROUTER_SPI_MODE_ANY\t(1U << 31)\n\n#define GIC_PIDR2_ARCH_MASK\t\t0xf0\n#define GIC_PIDR2_ARCH_GICv3\t\t0x30\n#define GIC_PIDR2_ARCH_GICv4\t\t0x40\n\n#define GIC_V3_DIST_SIZE\t\t0x10000\n\n#define GIC_PAGE_SIZE_4K\t\t0ULL\n#define GIC_PAGE_SIZE_16K\t\t1ULL\n#define GIC_PAGE_SIZE_64K\t\t2ULL\n#define GIC_PAGE_SIZE_MASK\t\t3ULL\n\n \n#define GICR_CTLR\t\t\tGICD_CTLR\n#define GICR_IIDR\t\t\t0x0004\n#define GICR_TYPER\t\t\t0x0008\n#define GICR_STATUSR\t\t\tGICD_STATUSR\n#define GICR_WAKER\t\t\t0x0014\n#define GICR_SETLPIR\t\t\t0x0040\n#define GICR_CLRLPIR\t\t\t0x0048\n#define GICR_PROPBASER\t\t\t0x0070\n#define GICR_PENDBASER\t\t\t0x0078\n#define GICR_INVLPIR\t\t\t0x00A0\n#define GICR_INVALLR\t\t\t0x00B0\n#define GICR_SYNCR\t\t\t0x00C0\n#define GICR_IDREGS\t\t\tGICD_IDREGS\n#define GICR_PIDR2\t\t\tGICD_PIDR2\n\n#define GICR_CTLR_ENABLE_LPIS\t\t(1UL << 0)\n#define GICR_CTLR_CES\t\t\t(1UL << 1)\n#define GICR_CTLR_IR\t\t\t(1UL << 2)\n#define GICR_CTLR_RWP\t\t\t(1UL << 3)\n\n#define GICR_TYPER_CPU_NUMBER(r)\t(((r) >> 8) & 0xffff)\n\n#define EPPI_BASE_INTID\t\t\t1056\n\n#define GICR_TYPER_NR_PPIS(r)\t\t\t\t\t\t\\\n\t({\t\t\t\t\t\t\t\t\\\n\t\tunsigned int __ppinum = ((r) >> 27) & 0x1f;\t\t\\\n\t\tunsigned int __nr_ppis = 16;\t\t\t\t\\\n\t\tif (__ppinum == 1 || __ppinum == 2)\t\t\t\\\n\t\t\t__nr_ppis +=  __ppinum * 32;\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n\t\t__nr_ppis;\t\t\t\t\t\t\\\n\t })\n\n#define GICR_WAKER_ProcessorSleep\t(1U << 1)\n#define GICR_WAKER_ChildrenAsleep\t(1U << 2)\n\n#define GIC_BASER_CACHE_nCnB\t\t0ULL\n#define GIC_BASER_CACHE_SameAsInner\t0ULL\n#define GIC_BASER_CACHE_nC\t\t1ULL\n#define GIC_BASER_CACHE_RaWt\t\t2ULL\n#define GIC_BASER_CACHE_RaWb\t\t3ULL\n#define GIC_BASER_CACHE_WaWt\t\t4ULL\n#define GIC_BASER_CACHE_WaWb\t\t5ULL\n#define GIC_BASER_CACHE_RaWaWt\t\t6ULL\n#define GIC_BASER_CACHE_RaWaWb\t\t7ULL\n#define GIC_BASER_CACHE_MASK\t\t7ULL\n#define GIC_BASER_NonShareable\t\t0ULL\n#define GIC_BASER_InnerShareable\t1ULL\n#define GIC_BASER_OuterShareable\t2ULL\n#define GIC_BASER_SHAREABILITY_MASK\t3ULL\n\n#define GIC_BASER_CACHEABILITY(reg, inner_outer, type)\t\t\t\\\n\t(GIC_BASER_CACHE_##type << reg##_##inner_outer##_CACHEABILITY_SHIFT)\n\n#define GIC_BASER_SHAREABILITY(reg, type)\t\t\t\t\\\n\t(GIC_BASER_##type << reg##_SHAREABILITY_SHIFT)\n\n \n#define GIC_ENCODE_SZ(n, w) (((unsigned long)(n) - 1) & GENMASK_ULL(((w) - 1), 0))\n\n#define GICR_PROPBASER_SHAREABILITY_SHIFT\t\t(10)\n#define GICR_PROPBASER_INNER_CACHEABILITY_SHIFT\t\t(7)\n#define GICR_PROPBASER_OUTER_CACHEABILITY_SHIFT\t\t(56)\n#define GICR_PROPBASER_SHAREABILITY_MASK\t\t\t\t\\\n\tGIC_BASER_SHAREABILITY(GICR_PROPBASER, SHAREABILITY_MASK)\n#define GICR_PROPBASER_INNER_CACHEABILITY_MASK\t\t\t\t\\\n\tGIC_BASER_CACHEABILITY(GICR_PROPBASER, INNER, MASK)\n#define GICR_PROPBASER_OUTER_CACHEABILITY_MASK\t\t\t\t\\\n\tGIC_BASER_CACHEABILITY(GICR_PROPBASER, OUTER, MASK)\n#define GICR_PROPBASER_CACHEABILITY_MASK GICR_PROPBASER_INNER_CACHEABILITY_MASK\n\n#define GICR_PROPBASER_InnerShareable\t\t\t\t\t\\\n\tGIC_BASER_SHAREABILITY(GICR_PROPBASER, InnerShareable)\n\n#define GICR_PROPBASER_nCnB\tGIC_BASER_CACHEABILITY(GICR_PROPBASER, INNER, nCnB)\n#define GICR_PROPBASER_nC \tGIC_BASER_CACHEABILITY(GICR_PROPBASER, INNER, nC)\n#define GICR_PROPBASER_RaWt\tGIC_BASER_CACHEABILITY(GICR_PROPBASER, INNER, RaWt)\n#define GICR_PROPBASER_RaWb\tGIC_BASER_CACHEABILITY(GICR_PROPBASER, INNER, RaWb)\n#define GICR_PROPBASER_WaWt\tGIC_BASER_CACHEABILITY(GICR_PROPBASER, INNER, WaWt)\n#define GICR_PROPBASER_WaWb\tGIC_BASER_CACHEABILITY(GICR_PROPBASER, INNER, WaWb)\n#define GICR_PROPBASER_RaWaWt\tGIC_BASER_CACHEABILITY(GICR_PROPBASER, INNER, RaWaWt)\n#define GICR_PROPBASER_RaWaWb\tGIC_BASER_CACHEABILITY(GICR_PROPBASER, INNER, RaWaWb)\n\n#define GICR_PROPBASER_IDBITS_MASK\t\t\t(0x1f)\n#define GICR_PROPBASER_ADDRESS(x)\t((x) & GENMASK_ULL(51, 12))\n#define GICR_PENDBASER_ADDRESS(x)\t((x) & GENMASK_ULL(51, 16))\n\n#define GICR_PENDBASER_SHAREABILITY_SHIFT\t\t(10)\n#define GICR_PENDBASER_INNER_CACHEABILITY_SHIFT\t\t(7)\n#define GICR_PENDBASER_OUTER_CACHEABILITY_SHIFT\t\t(56)\n#define GICR_PENDBASER_SHAREABILITY_MASK\t\t\t\t\\\n\tGIC_BASER_SHAREABILITY(GICR_PENDBASER, SHAREABILITY_MASK)\n#define GICR_PENDBASER_INNER_CACHEABILITY_MASK\t\t\t\t\\\n\tGIC_BASER_CACHEABILITY(GICR_PENDBASER, INNER, MASK)\n#define GICR_PENDBASER_OUTER_CACHEABILITY_MASK\t\t\t\t\\\n\tGIC_BASER_CACHEABILITY(GICR_PENDBASER, OUTER, MASK)\n#define GICR_PENDBASER_CACHEABILITY_MASK GICR_PENDBASER_INNER_CACHEABILITY_MASK\n\n#define GICR_PENDBASER_InnerShareable\t\t\t\t\t\\\n\tGIC_BASER_SHAREABILITY(GICR_PENDBASER, InnerShareable)\n\n#define GICR_PENDBASER_nCnB\tGIC_BASER_CACHEABILITY(GICR_PENDBASER, INNER, nCnB)\n#define GICR_PENDBASER_nC \tGIC_BASER_CACHEABILITY(GICR_PENDBASER, INNER, nC)\n#define GICR_PENDBASER_RaWt\tGIC_BASER_CACHEABILITY(GICR_PENDBASER, INNER, RaWt)\n#define GICR_PENDBASER_RaWb\tGIC_BASER_CACHEABILITY(GICR_PENDBASER, INNER, RaWb)\n#define GICR_PENDBASER_WaWt\tGIC_BASER_CACHEABILITY(GICR_PENDBASER, INNER, WaWt)\n#define GICR_PENDBASER_WaWb\tGIC_BASER_CACHEABILITY(GICR_PENDBASER, INNER, WaWb)\n#define GICR_PENDBASER_RaWaWt\tGIC_BASER_CACHEABILITY(GICR_PENDBASER, INNER, RaWaWt)\n#define GICR_PENDBASER_RaWaWb\tGIC_BASER_CACHEABILITY(GICR_PENDBASER, INNER, RaWaWb)\n\n#define GICR_PENDBASER_PTZ\t\t\t\tBIT_ULL(62)\n\n \n#define GICR_IGROUPR0\t\t\tGICD_IGROUPR\n#define GICR_ISENABLER0\t\t\tGICD_ISENABLER\n#define GICR_ICENABLER0\t\t\tGICD_ICENABLER\n#define GICR_ISPENDR0\t\t\tGICD_ISPENDR\n#define GICR_ICPENDR0\t\t\tGICD_ICPENDR\n#define GICR_ISACTIVER0\t\t\tGICD_ISACTIVER\n#define GICR_ICACTIVER0\t\t\tGICD_ICACTIVER\n#define GICR_IPRIORITYR0\t\tGICD_IPRIORITYR\n#define GICR_ICFGR0\t\t\tGICD_ICFGR\n#define GICR_IGRPMODR0\t\t\tGICD_IGRPMODR\n#define GICR_NSACR\t\t\tGICD_NSACR\n\n#define GICR_TYPER_PLPIS\t\t(1U << 0)\n#define GICR_TYPER_VLPIS\t\t(1U << 1)\n#define GICR_TYPER_DIRTY\t\t(1U << 2)\n#define GICR_TYPER_DirectLPIS\t\t(1U << 3)\n#define GICR_TYPER_LAST\t\t\t(1U << 4)\n#define GICR_TYPER_RVPEID\t\t(1U << 7)\n#define GICR_TYPER_COMMON_LPI_AFF\tGENMASK_ULL(25, 24)\n#define GICR_TYPER_AFFINITY\t\tGENMASK_ULL(63, 32)\n\n#define GICR_INVLPIR_INTID\t\tGENMASK_ULL(31, 0)\n#define GICR_INVLPIR_VPEID\t\tGENMASK_ULL(47, 32)\n#define GICR_INVLPIR_V\t\t\tGENMASK_ULL(63, 63)\n\n#define GICR_INVALLR_VPEID\t\tGICR_INVLPIR_VPEID\n#define GICR_INVALLR_V\t\t\tGICR_INVLPIR_V\n\n#define GIC_V3_REDIST_SIZE\t\t0x20000\n\n#define LPI_PROP_GROUP1\t\t\t(1 << 1)\n#define LPI_PROP_ENABLED\t\t(1 << 0)\n\n \n#define GICR_VPROPBASER\t\t\t0x0070\n\n#define GICR_VPROPBASER_IDBITS_MASK\t0x1f\n\n#define GICR_VPROPBASER_SHAREABILITY_SHIFT\t\t(10)\n#define GICR_VPROPBASER_INNER_CACHEABILITY_SHIFT\t(7)\n#define GICR_VPROPBASER_OUTER_CACHEABILITY_SHIFT\t(56)\n\n#define GICR_VPROPBASER_SHAREABILITY_MASK\t\t\t\t\\\n\tGIC_BASER_SHAREABILITY(GICR_VPROPBASER, SHAREABILITY_MASK)\n#define GICR_VPROPBASER_INNER_CACHEABILITY_MASK\t\t\t\t\\\n\tGIC_BASER_CACHEABILITY(GICR_VPROPBASER, INNER, MASK)\n#define GICR_VPROPBASER_OUTER_CACHEABILITY_MASK\t\t\t\t\\\n\tGIC_BASER_CACHEABILITY(GICR_VPROPBASER, OUTER, MASK)\n#define GICR_VPROPBASER_CACHEABILITY_MASK\t\t\t\t\\\n\tGICR_VPROPBASER_INNER_CACHEABILITY_MASK\n\n#define GICR_VPROPBASER_InnerShareable\t\t\t\t\t\\\n\tGIC_BASER_SHAREABILITY(GICR_VPROPBASER, InnerShareable)\n\n#define GICR_VPROPBASER_nCnB\tGIC_BASER_CACHEABILITY(GICR_VPROPBASER, INNER, nCnB)\n#define GICR_VPROPBASER_nC \tGIC_BASER_CACHEABILITY(GICR_VPROPBASER, INNER, nC)\n#define GICR_VPROPBASER_RaWt\tGIC_BASER_CACHEABILITY(GICR_VPROPBASER, INNER, RaWt)\n#define GICR_VPROPBASER_RaWb\tGIC_BASER_CACHEABILITY(GICR_VPROPBASER, INNER, RaWb)\n#define GICR_VPROPBASER_WaWt\tGIC_BASER_CACHEABILITY(GICR_VPROPBASER, INNER, WaWt)\n#define GICR_VPROPBASER_WaWb\tGIC_BASER_CACHEABILITY(GICR_VPROPBASER, INNER, WaWb)\n#define GICR_VPROPBASER_RaWaWt\tGIC_BASER_CACHEABILITY(GICR_VPROPBASER, INNER, RaWaWt)\n#define GICR_VPROPBASER_RaWaWb\tGIC_BASER_CACHEABILITY(GICR_VPROPBASER, INNER, RaWaWb)\n\n \n#define GICR_VPROPBASER_4_1_VALID\t(1ULL << 63)\n#define GICR_VPROPBASER_4_1_ENTRY_SIZE\tGENMASK_ULL(61, 59)\n#define GICR_VPROPBASER_4_1_INDIRECT\t(1ULL << 55)\n#define GICR_VPROPBASER_4_1_PAGE_SIZE\tGENMASK_ULL(54, 53)\n#define GICR_VPROPBASER_4_1_Z\t\t(1ULL << 52)\n#define GICR_VPROPBASER_4_1_ADDR\tGENMASK_ULL(51, 12)\n#define GICR_VPROPBASER_4_1_SIZE\tGENMASK_ULL(6, 0)\n\n#define GICR_VPENDBASER\t\t\t0x0078\n\n#define GICR_VPENDBASER_SHAREABILITY_SHIFT\t\t(10)\n#define GICR_VPENDBASER_INNER_CACHEABILITY_SHIFT\t(7)\n#define GICR_VPENDBASER_OUTER_CACHEABILITY_SHIFT\t(56)\n#define GICR_VPENDBASER_SHAREABILITY_MASK\t\t\t\t\\\n\tGIC_BASER_SHAREABILITY(GICR_VPENDBASER, SHAREABILITY_MASK)\n#define GICR_VPENDBASER_INNER_CACHEABILITY_MASK\t\t\t\t\\\n\tGIC_BASER_CACHEABILITY(GICR_VPENDBASER, INNER, MASK)\n#define GICR_VPENDBASER_OUTER_CACHEABILITY_MASK\t\t\t\t\\\n\tGIC_BASER_CACHEABILITY(GICR_VPENDBASER, OUTER, MASK)\n#define GICR_VPENDBASER_CACHEABILITY_MASK\t\t\t\t\\\n\tGICR_VPENDBASER_INNER_CACHEABILITY_MASK\n\n#define GICR_VPENDBASER_NonShareable\t\t\t\t\t\\\n\tGIC_BASER_SHAREABILITY(GICR_VPENDBASER, NonShareable)\n\n#define GICR_VPENDBASER_InnerShareable\t\t\t\t\t\\\n\tGIC_BASER_SHAREABILITY(GICR_VPENDBASER, InnerShareable)\n\n#define GICR_VPENDBASER_nCnB\tGIC_BASER_CACHEABILITY(GICR_VPENDBASER, INNER, nCnB)\n#define GICR_VPENDBASER_nC \tGIC_BASER_CACHEABILITY(GICR_VPENDBASER, INNER, nC)\n#define GICR_VPENDBASER_RaWt\tGIC_BASER_CACHEABILITY(GICR_VPENDBASER, INNER, RaWt)\n#define GICR_VPENDBASER_RaWb\tGIC_BASER_CACHEABILITY(GICR_VPENDBASER, INNER, RaWb)\n#define GICR_VPENDBASER_WaWt\tGIC_BASER_CACHEABILITY(GICR_VPENDBASER, INNER, WaWt)\n#define GICR_VPENDBASER_WaWb\tGIC_BASER_CACHEABILITY(GICR_VPENDBASER, INNER, WaWb)\n#define GICR_VPENDBASER_RaWaWt\tGIC_BASER_CACHEABILITY(GICR_VPENDBASER, INNER, RaWaWt)\n#define GICR_VPENDBASER_RaWaWb\tGIC_BASER_CACHEABILITY(GICR_VPENDBASER, INNER, RaWaWb)\n\n#define GICR_VPENDBASER_Dirty\t\t(1ULL << 60)\n#define GICR_VPENDBASER_PendingLast\t(1ULL << 61)\n#define GICR_VPENDBASER_IDAI\t\t(1ULL << 62)\n#define GICR_VPENDBASER_Valid\t\t(1ULL << 63)\n\n \n#define GICR_VPENDBASER_4_1_DB\t\t(1ULL << 62)\n#define GICR_VPENDBASER_4_1_VGRP0EN\t(1ULL << 59)\n#define GICR_VPENDBASER_4_1_VGRP1EN\t(1ULL << 58)\n#define GICR_VPENDBASER_4_1_VPEID\tGENMASK_ULL(15, 0)\n\n#define GICR_VSGIR\t\t\t0x0080\n\n#define GICR_VSGIR_VPEID\t\tGENMASK(15, 0)\n\n#define GICR_VSGIPENDR\t\t\t0x0088\n\n#define GICR_VSGIPENDR_BUSY\t\t(1U << 31)\n#define GICR_VSGIPENDR_PENDING\t\tGENMASK(15, 0)\n\n \n#define GITS_CTLR\t\t\t0x0000\n#define GITS_IIDR\t\t\t0x0004\n#define GITS_TYPER\t\t\t0x0008\n#define GITS_MPIDR\t\t\t0x0018\n#define GITS_CBASER\t\t\t0x0080\n#define GITS_CWRITER\t\t\t0x0088\n#define GITS_CREADR\t\t\t0x0090\n#define GITS_BASER\t\t\t0x0100\n#define GITS_IDREGS_BASE\t\t0xffd0\n#define GITS_PIDR0\t\t\t0xffe0\n#define GITS_PIDR1\t\t\t0xffe4\n#define GITS_PIDR2\t\t\tGICR_PIDR2\n#define GITS_PIDR4\t\t\t0xffd0\n#define GITS_CIDR0\t\t\t0xfff0\n#define GITS_CIDR1\t\t\t0xfff4\n#define GITS_CIDR2\t\t\t0xfff8\n#define GITS_CIDR3\t\t\t0xfffc\n\n#define GITS_TRANSLATER\t\t\t0x10040\n\n#define GITS_SGIR\t\t\t0x20020\n\n#define GITS_SGIR_VPEID\t\t\tGENMASK_ULL(47, 32)\n#define GITS_SGIR_VINTID\t\tGENMASK_ULL(3, 0)\n\n#define GITS_CTLR_ENABLE\t\t(1U << 0)\n#define GITS_CTLR_ImDe\t\t\t(1U << 1)\n#define\tGITS_CTLR_ITS_NUMBER_SHIFT\t4\n#define\tGITS_CTLR_ITS_NUMBER\t\t(0xFU << GITS_CTLR_ITS_NUMBER_SHIFT)\n#define GITS_CTLR_QUIESCENT\t\t(1U << 31)\n\n#define GITS_TYPER_PLPIS\t\t(1UL << 0)\n#define GITS_TYPER_VLPIS\t\t(1UL << 1)\n#define GITS_TYPER_ITT_ENTRY_SIZE_SHIFT\t4\n#define GITS_TYPER_ITT_ENTRY_SIZE\tGENMASK_ULL(7, 4)\n#define GITS_TYPER_IDBITS_SHIFT\t\t8\n#define GITS_TYPER_DEVBITS_SHIFT\t13\n#define GITS_TYPER_DEVBITS\t\tGENMASK_ULL(17, 13)\n#define GITS_TYPER_PTA\t\t\t(1UL << 19)\n#define GITS_TYPER_HCC_SHIFT\t\t24\n#define GITS_TYPER_HCC(r)\t\t(((r) >> GITS_TYPER_HCC_SHIFT) & 0xff)\n#define GITS_TYPER_VMOVP\t\t(1ULL << 37)\n#define GITS_TYPER_VMAPP\t\t(1ULL << 40)\n#define GITS_TYPER_SVPET\t\tGENMASK_ULL(42, 41)\n\n#define GITS_IIDR_REV_SHIFT\t\t12\n#define GITS_IIDR_REV_MASK\t\t(0xf << GITS_IIDR_REV_SHIFT)\n#define GITS_IIDR_REV(r)\t\t(((r) >> GITS_IIDR_REV_SHIFT) & 0xf)\n#define GITS_IIDR_PRODUCTID_SHIFT\t24\n\n#define GITS_CBASER_VALID\t\t\t(1ULL << 63)\n#define GITS_CBASER_SHAREABILITY_SHIFT\t\t(10)\n#define GITS_CBASER_INNER_CACHEABILITY_SHIFT\t(59)\n#define GITS_CBASER_OUTER_CACHEABILITY_SHIFT\t(53)\n#define GITS_CBASER_SHAREABILITY_MASK\t\t\t\t\t\\\n\tGIC_BASER_SHAREABILITY(GITS_CBASER, SHAREABILITY_MASK)\n#define GITS_CBASER_INNER_CACHEABILITY_MASK\t\t\t\t\\\n\tGIC_BASER_CACHEABILITY(GITS_CBASER, INNER, MASK)\n#define GITS_CBASER_OUTER_CACHEABILITY_MASK\t\t\t\t\\\n\tGIC_BASER_CACHEABILITY(GITS_CBASER, OUTER, MASK)\n#define GITS_CBASER_CACHEABILITY_MASK GITS_CBASER_INNER_CACHEABILITY_MASK\n\n#define GITS_CBASER_InnerShareable\t\t\t\t\t\\\n\tGIC_BASER_SHAREABILITY(GITS_CBASER, InnerShareable)\n\n#define GITS_CBASER_nCnB\tGIC_BASER_CACHEABILITY(GITS_CBASER, INNER, nCnB)\n#define GITS_CBASER_nC\t\tGIC_BASER_CACHEABILITY(GITS_CBASER, INNER, nC)\n#define GITS_CBASER_RaWt\tGIC_BASER_CACHEABILITY(GITS_CBASER, INNER, RaWt)\n#define GITS_CBASER_RaWb\tGIC_BASER_CACHEABILITY(GITS_CBASER, INNER, RaWb)\n#define GITS_CBASER_WaWt\tGIC_BASER_CACHEABILITY(GITS_CBASER, INNER, WaWt)\n#define GITS_CBASER_WaWb\tGIC_BASER_CACHEABILITY(GITS_CBASER, INNER, WaWb)\n#define GITS_CBASER_RaWaWt\tGIC_BASER_CACHEABILITY(GITS_CBASER, INNER, RaWaWt)\n#define GITS_CBASER_RaWaWb\tGIC_BASER_CACHEABILITY(GITS_CBASER, INNER, RaWaWb)\n\n#define GITS_CBASER_ADDRESS(cbaser)\t((cbaser) & GENMASK_ULL(51, 12))\n\n#define GITS_BASER_NR_REGS\t\t8\n\n#define GITS_BASER_VALID\t\t\t(1ULL << 63)\n#define GITS_BASER_INDIRECT\t\t\t(1ULL << 62)\n\n#define GITS_BASER_INNER_CACHEABILITY_SHIFT\t(59)\n#define GITS_BASER_OUTER_CACHEABILITY_SHIFT\t(53)\n#define GITS_BASER_INNER_CACHEABILITY_MASK\t\t\t\t\\\n\tGIC_BASER_CACHEABILITY(GITS_BASER, INNER, MASK)\n#define GITS_BASER_CACHEABILITY_MASK\t\tGITS_BASER_INNER_CACHEABILITY_MASK\n#define GITS_BASER_OUTER_CACHEABILITY_MASK\t\t\t\t\\\n\tGIC_BASER_CACHEABILITY(GITS_BASER, OUTER, MASK)\n#define GITS_BASER_SHAREABILITY_MASK\t\t\t\t\t\\\n\tGIC_BASER_SHAREABILITY(GITS_BASER, SHAREABILITY_MASK)\n\n#define GITS_BASER_nCnB\t\tGIC_BASER_CACHEABILITY(GITS_BASER, INNER, nCnB)\n#define GITS_BASER_nC\t\tGIC_BASER_CACHEABILITY(GITS_BASER, INNER, nC)\n#define GITS_BASER_RaWt\t\tGIC_BASER_CACHEABILITY(GITS_BASER, INNER, RaWt)\n#define GITS_BASER_RaWb\t\tGIC_BASER_CACHEABILITY(GITS_BASER, INNER, RaWb)\n#define GITS_BASER_WaWt\t\tGIC_BASER_CACHEABILITY(GITS_BASER, INNER, WaWt)\n#define GITS_BASER_WaWb\t\tGIC_BASER_CACHEABILITY(GITS_BASER, INNER, WaWb)\n#define GITS_BASER_RaWaWt\tGIC_BASER_CACHEABILITY(GITS_BASER, INNER, RaWaWt)\n#define GITS_BASER_RaWaWb\tGIC_BASER_CACHEABILITY(GITS_BASER, INNER, RaWaWb)\n\n#define GITS_BASER_TYPE_SHIFT\t\t\t(56)\n#define GITS_BASER_TYPE(r)\t\t(((r) >> GITS_BASER_TYPE_SHIFT) & 7)\n#define GITS_BASER_ENTRY_SIZE_SHIFT\t\t(48)\n#define GITS_BASER_ENTRY_SIZE(r)\t((((r) >> GITS_BASER_ENTRY_SIZE_SHIFT) & 0x1f) + 1)\n#define GITS_BASER_ENTRY_SIZE_MASK\tGENMASK_ULL(52, 48)\n#define GITS_BASER_PHYS_52_to_48(phys)\t\t\t\t\t\\\n\t(((phys) & GENMASK_ULL(47, 16)) | (((phys) >> 48) & 0xf) << 12)\n#define GITS_BASER_ADDR_48_to_52(baser)\t\t\t\t\t\\\n\t(((baser) & GENMASK_ULL(47, 16)) | (((baser) >> 12) & 0xf) << 48)\n\n#define GITS_BASER_SHAREABILITY_SHIFT\t(10)\n#define GITS_BASER_InnerShareable\t\t\t\t\t\\\n\tGIC_BASER_SHAREABILITY(GITS_BASER, InnerShareable)\n#define GITS_BASER_PAGE_SIZE_SHIFT\t(8)\n#define __GITS_BASER_PSZ(sz)\t\t(GIC_PAGE_SIZE_ ## sz << GITS_BASER_PAGE_SIZE_SHIFT)\n#define GITS_BASER_PAGE_SIZE_4K\t\t__GITS_BASER_PSZ(4K)\n#define GITS_BASER_PAGE_SIZE_16K\t__GITS_BASER_PSZ(16K)\n#define GITS_BASER_PAGE_SIZE_64K\t__GITS_BASER_PSZ(64K)\n#define GITS_BASER_PAGE_SIZE_MASK\t__GITS_BASER_PSZ(MASK)\n#define GITS_BASER_PAGES_MAX\t\t256\n#define GITS_BASER_PAGES_SHIFT\t\t(0)\n#define GITS_BASER_NR_PAGES(r)\t\t(((r) & 0xff) + 1)\n\n#define GITS_BASER_TYPE_NONE\t\t0\n#define GITS_BASER_TYPE_DEVICE\t\t1\n#define GITS_BASER_TYPE_VCPU\t\t2\n#define GITS_BASER_TYPE_RESERVED3\t3\n#define GITS_BASER_TYPE_COLLECTION\t4\n#define GITS_BASER_TYPE_RESERVED5\t5\n#define GITS_BASER_TYPE_RESERVED6\t6\n#define GITS_BASER_TYPE_RESERVED7\t7\n\n#define GITS_LVL1_ENTRY_SIZE           (8UL)\n\n \n#define GITS_CMD_MAPD\t\t\t0x08\n#define GITS_CMD_MAPC\t\t\t0x09\n#define GITS_CMD_MAPTI\t\t\t0x0a\n#define GITS_CMD_MAPI\t\t\t0x0b\n#define GITS_CMD_MOVI\t\t\t0x01\n#define GITS_CMD_DISCARD\t\t0x0f\n#define GITS_CMD_INV\t\t\t0x0c\n#define GITS_CMD_MOVALL\t\t\t0x0e\n#define GITS_CMD_INVALL\t\t\t0x0d\n#define GITS_CMD_INT\t\t\t0x03\n#define GITS_CMD_CLEAR\t\t\t0x04\n#define GITS_CMD_SYNC\t\t\t0x05\n\n \n#define GITS_CMD_GICv4(x)\t\t((x) | 0x20)\n#define GITS_CMD_VINVALL\t\tGITS_CMD_GICv4(GITS_CMD_INVALL)\n#define GITS_CMD_VMAPP\t\t\tGITS_CMD_GICv4(GITS_CMD_MAPC)\n#define GITS_CMD_VMAPTI\t\t\tGITS_CMD_GICv4(GITS_CMD_MAPTI)\n#define GITS_CMD_VMOVI\t\t\tGITS_CMD_GICv4(GITS_CMD_MOVI)\n#define GITS_CMD_VSYNC\t\t\tGITS_CMD_GICv4(GITS_CMD_SYNC)\n \n#define GITS_CMD_VMOVP\t\t\tGITS_CMD_GICv4(2)\n#define GITS_CMD_VSGI\t\t\tGITS_CMD_GICv4(3)\n#define GITS_CMD_INVDB\t\t\tGITS_CMD_GICv4(0xe)\n\n \n#define E_ITS_MOVI_UNMAPPED_INTERRUPT\t\t0x010107\n#define E_ITS_MOVI_UNMAPPED_COLLECTION\t\t0x010109\n#define E_ITS_INT_UNMAPPED_INTERRUPT\t\t0x010307\n#define E_ITS_CLEAR_UNMAPPED_INTERRUPT\t\t0x010507\n#define E_ITS_MAPD_DEVICE_OOR\t\t\t0x010801\n#define E_ITS_MAPD_ITTSIZE_OOR\t\t\t0x010802\n#define E_ITS_MAPC_PROCNUM_OOR\t\t\t0x010902\n#define E_ITS_MAPC_COLLECTION_OOR\t\t0x010903\n#define E_ITS_MAPTI_UNMAPPED_DEVICE\t\t0x010a04\n#define E_ITS_MAPTI_ID_OOR\t\t\t0x010a05\n#define E_ITS_MAPTI_PHYSICALID_OOR\t\t0x010a06\n#define E_ITS_INV_UNMAPPED_INTERRUPT\t\t0x010c07\n#define E_ITS_INVALL_UNMAPPED_COLLECTION\t0x010d09\n#define E_ITS_MOVALL_PROCNUM_OOR\t\t0x010e01\n#define E_ITS_DISCARD_UNMAPPED_INTERRUPT\t0x010f07\n\n \n#define ICC_CTLR_EL1_EOImode_SHIFT\t(1)\n#define ICC_CTLR_EL1_EOImode_drop_dir\t(0U << ICC_CTLR_EL1_EOImode_SHIFT)\n#define ICC_CTLR_EL1_EOImode_drop\t(1U << ICC_CTLR_EL1_EOImode_SHIFT)\n#define ICC_CTLR_EL1_EOImode_MASK\t(1 << ICC_CTLR_EL1_EOImode_SHIFT)\n#define ICC_CTLR_EL1_CBPR_SHIFT\t\t0\n#define ICC_CTLR_EL1_CBPR_MASK\t\t(1 << ICC_CTLR_EL1_CBPR_SHIFT)\n#define ICC_CTLR_EL1_PMHE_SHIFT\t\t6\n#define ICC_CTLR_EL1_PMHE_MASK\t\t(1 << ICC_CTLR_EL1_PMHE_SHIFT)\n#define ICC_CTLR_EL1_PRI_BITS_SHIFT\t8\n#define ICC_CTLR_EL1_PRI_BITS_MASK\t(0x7 << ICC_CTLR_EL1_PRI_BITS_SHIFT)\n#define ICC_CTLR_EL1_ID_BITS_SHIFT\t11\n#define ICC_CTLR_EL1_ID_BITS_MASK\t(0x7 << ICC_CTLR_EL1_ID_BITS_SHIFT)\n#define ICC_CTLR_EL1_SEIS_SHIFT\t\t14\n#define ICC_CTLR_EL1_SEIS_MASK\t\t(0x1 << ICC_CTLR_EL1_SEIS_SHIFT)\n#define ICC_CTLR_EL1_A3V_SHIFT\t\t15\n#define ICC_CTLR_EL1_A3V_MASK\t\t(0x1 << ICC_CTLR_EL1_A3V_SHIFT)\n#define ICC_CTLR_EL1_RSS\t\t(0x1 << 18)\n#define ICC_CTLR_EL1_ExtRange\t\t(0x1 << 19)\n#define ICC_PMR_EL1_SHIFT\t\t0\n#define ICC_PMR_EL1_MASK\t\t(0xff << ICC_PMR_EL1_SHIFT)\n#define ICC_BPR0_EL1_SHIFT\t\t0\n#define ICC_BPR0_EL1_MASK\t\t(0x7 << ICC_BPR0_EL1_SHIFT)\n#define ICC_BPR1_EL1_SHIFT\t\t0\n#define ICC_BPR1_EL1_MASK\t\t(0x7 << ICC_BPR1_EL1_SHIFT)\n#define ICC_IGRPEN0_EL1_SHIFT\t\t0\n#define ICC_IGRPEN0_EL1_MASK\t\t(1 << ICC_IGRPEN0_EL1_SHIFT)\n#define ICC_IGRPEN1_EL1_SHIFT\t\t0\n#define ICC_IGRPEN1_EL1_MASK\t\t(1 << ICC_IGRPEN1_EL1_SHIFT)\n#define ICC_SRE_EL1_DIB\t\t\t(1U << 2)\n#define ICC_SRE_EL1_DFB\t\t\t(1U << 1)\n#define ICC_SRE_EL1_SRE\t\t\t(1U << 0)\n\n \n#define GICH_LR_VIRTUALID\t\t(0x3ffUL << 0)\n#define GICH_LR_PHYSID_CPUID_SHIFT\t(10)\n#define GICH_LR_PHYSID_CPUID\t\t(7UL << GICH_LR_PHYSID_CPUID_SHIFT)\n\n#define ICC_IAR1_EL1_SPURIOUS\t\t0x3ff\n\n#define ICC_SRE_EL2_SRE\t\t\t(1 << 0)\n#define ICC_SRE_EL2_ENABLE\t\t(1 << 3)\n\n#define ICC_SGI1R_TARGET_LIST_SHIFT\t0\n#define ICC_SGI1R_TARGET_LIST_MASK\t(0xffff << ICC_SGI1R_TARGET_LIST_SHIFT)\n#define ICC_SGI1R_AFFINITY_1_SHIFT\t16\n#define ICC_SGI1R_AFFINITY_1_MASK\t(0xff << ICC_SGI1R_AFFINITY_1_SHIFT)\n#define ICC_SGI1R_SGI_ID_SHIFT\t\t24\n#define ICC_SGI1R_SGI_ID_MASK\t\t(0xfULL << ICC_SGI1R_SGI_ID_SHIFT)\n#define ICC_SGI1R_AFFINITY_2_SHIFT\t32\n#define ICC_SGI1R_AFFINITY_2_MASK\t(0xffULL << ICC_SGI1R_AFFINITY_2_SHIFT)\n#define ICC_SGI1R_IRQ_ROUTING_MODE_BIT\t40\n#define ICC_SGI1R_RS_SHIFT\t\t44\n#define ICC_SGI1R_RS_MASK\t\t(0xfULL << ICC_SGI1R_RS_SHIFT)\n#define ICC_SGI1R_AFFINITY_3_SHIFT\t48\n#define ICC_SGI1R_AFFINITY_3_MASK\t(0xffULL << ICC_SGI1R_AFFINITY_3_SHIFT)\n\n#include <asm/arch_gicv3.h>\n\n#ifndef __ASSEMBLY__\n\n \n#define GIC_IRQ_TYPE_LPI\t\t0xa110c8ed\n\nstruct rdists {\n\tstruct {\n\t\traw_spinlock_t\trd_lock;\n\t\tvoid __iomem\t*rd_base;\n\t\tstruct page\t*pend_page;\n\t\tphys_addr_t\tphys_base;\n\t\tu64             flags;\n\t\tcpumask_t\t*vpe_table_mask;\n\t\tvoid\t\t*vpe_l1_base;\n\t} __percpu\t\t*rdist;\n\tphys_addr_t\t\tprop_table_pa;\n\tvoid\t\t\t*prop_table_va;\n\tu64\t\t\tflags;\n\tu32\t\t\tgicd_typer;\n\tu32\t\t\tgicd_typer2;\n\tint                     cpuhp_memreserve_state;\n\tbool\t\t\thas_vlpis;\n\tbool\t\t\thas_rvpeid;\n\tbool\t\t\thas_direct_lpi;\n\tbool\t\t\thas_vpend_valid_dirty;\n};\n\nstruct irq_domain;\nstruct fwnode_handle;\nint __init its_lpi_memreserve_init(void);\nint its_cpu_init(void);\nint its_init(struct fwnode_handle *handle, struct rdists *rdists,\n\t     struct irq_domain *domain);\nint mbi_init(struct fwnode_handle *fwnode, struct irq_domain *parent);\n\nstatic inline bool gic_enable_sre(void)\n{\n\tu32 val;\n\n\tval = gic_read_sre();\n\tif (val & ICC_SRE_EL1_SRE)\n\t\treturn true;\n\n\tval |= ICC_SRE_EL1_SRE;\n\tgic_write_sre(val);\n\tval = gic_read_sre();\n\n\treturn !!(val & ICC_SRE_EL1_SRE);\n}\n\n#endif\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}