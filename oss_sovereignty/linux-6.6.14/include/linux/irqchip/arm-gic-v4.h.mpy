{
  "module_name": "arm-gic-v4.h",
  "hash_id": "646df99b0e39919865d4fa100864c019d0c86bee97f519d52d13dd4e5aded626",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/irqchip/arm-gic-v4.h",
  "human_readable_source": " \n \n\n#ifndef __LINUX_IRQCHIP_ARM_GIC_V4_H\n#define __LINUX_IRQCHIP_ARM_GIC_V4_H\n\nstruct its_vpe;\n\n \n#define GICv4_ITS_LIST_MAX\t\t16\n\n \nstruct its_vm {\n\tstruct fwnode_handle\t*fwnode;\n\tstruct irq_domain\t*domain;\n\tstruct page\t\t*vprop_page;\n\tstruct its_vpe\t\t**vpes;\n\tint\t\t\tnr_vpes;\n\tirq_hw_number_t\t\tdb_lpi_base;\n\tunsigned long\t\t*db_bitmap;\n\tint\t\t\tnr_db_lpis;\n\tu32\t\t\tvlpi_count[GICv4_ITS_LIST_MAX];\n};\n\n \nstruct its_vpe {\n\tstruct page \t\t*vpt_page;\n\tstruct its_vm\t\t*its_vm;\n\t \n\tatomic_t\t\tvlpi_count;\n\t \n\tint\t\t\tirq;\n\tirq_hw_number_t\t\tvpe_db_lpi;\n\t \n\tbool\t\t\tresident;\n\t \n\tbool\t\t\tready;\n\tunion {\n\t\t \n\t\tstruct {\n\t\t\t \n\t\t\tint\tvpe_proxy_event;\n\t\t\t \n\t\t\tbool\tidai;\n\t\t};\n\t\t \n\t\tstruct {\n\t\t\tstruct fwnode_handle\t*fwnode;\n\t\t\tstruct irq_domain\t*sgi_domain;\n\t\t\tstruct {\n\t\t\t\tu8\tpriority;\n\t\t\t\tbool\tenabled;\n\t\t\t\tbool\tgroup;\n\t\t\t}\t\t\tsgi_config[16];\n\t\t\tatomic_t vmapp_count;\n\t\t};\n\t};\n\n\t \n\traw_spinlock_t\t\tvpe_lock;\n\t \n\tu16\t\t\tcol_idx;\n\t \n\tu16\t\t\tvpe_id;\n\t \n\tbool\t\t\tpending_last;\n};\n\n \nstruct its_vlpi_map {\n\tstruct its_vm\t\t*vm;\n\tstruct its_vpe\t\t*vpe;\n\tu32\t\t\tvintid;\n\tu8\t\t\tproperties;\n\tbool\t\t\tdb_enabled;\n};\n\nenum its_vcpu_info_cmd_type {\n\tMAP_VLPI,\n\tGET_VLPI,\n\tPROP_UPDATE_VLPI,\n\tPROP_UPDATE_AND_INV_VLPI,\n\tSCHEDULE_VPE,\n\tDESCHEDULE_VPE,\n\tCOMMIT_VPE,\n\tINVALL_VPE,\n\tPROP_UPDATE_VSGI,\n};\n\nstruct its_cmd_info {\n\tenum its_vcpu_info_cmd_type\tcmd_type;\n\tunion {\n\t\tstruct its_vlpi_map\t*map;\n\t\tu8\t\t\tconfig;\n\t\tbool\t\t\treq_db;\n\t\tstruct {\n\t\t\tbool\t\tg0en;\n\t\t\tbool\t\tg1en;\n\t\t};\n\t\tstruct {\n\t\t\tu8\t\tpriority;\n\t\t\tbool\t\tgroup;\n\t\t};\n\t};\n};\n\nint its_alloc_vcpu_irqs(struct its_vm *vm);\nvoid its_free_vcpu_irqs(struct its_vm *vm);\nint its_make_vpe_resident(struct its_vpe *vpe, bool g0en, bool g1en);\nint its_make_vpe_non_resident(struct its_vpe *vpe, bool db);\nint its_commit_vpe(struct its_vpe *vpe);\nint its_invall_vpe(struct its_vpe *vpe);\nint its_map_vlpi(int irq, struct its_vlpi_map *map);\nint its_get_vlpi(int irq, struct its_vlpi_map *map);\nint its_unmap_vlpi(int irq);\nint its_prop_update_vlpi(int irq, u8 config, bool inv);\nint its_prop_update_vsgi(int irq, u8 priority, bool group);\n\nstruct irq_domain_ops;\nint its_init_v4(struct irq_domain *domain,\n\t\tconst struct irq_domain_ops *vpe_ops,\n\t\tconst struct irq_domain_ops *sgi_ops);\n\nbool gic_cpuif_has_vsgi(void);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}