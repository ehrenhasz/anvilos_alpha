{
  "module_name": "qed_iscsi_if.h",
  "hash_id": "bf719fda73ba40c999e00c284d13434b4a2d6d63dfa9fce3d35e985d0386acb3",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/qed/qed_iscsi_if.h",
  "human_readable_source": " \n \n\n#ifndef _QED_ISCSI_IF_H\n#define _QED_ISCSI_IF_H\n#include <linux/types.h>\n#include <linux/qed/qed_if.h>\n\ntypedef int (*iscsi_event_cb_t) (void *context,\n\t\t\t\t u8 fw_event_code, void *fw_handle);\nstruct qed_iscsi_stats {\n\tu64 iscsi_rx_bytes_cnt;\n\tu64 iscsi_rx_packet_cnt;\n\tu64 iscsi_rx_new_ooo_isle_events_cnt;\n\tu32 iscsi_cmdq_threshold_cnt;\n\tu32 iscsi_rq_threshold_cnt;\n\tu32 iscsi_immq_threshold_cnt;\n\n\tu64 iscsi_rx_dropped_pdus_task_not_valid;\n\n\tu64 iscsi_rx_data_pdu_cnt;\n\tu64 iscsi_rx_r2t_pdu_cnt;\n\tu64 iscsi_rx_total_pdu_cnt;\n\n\tu64 iscsi_tx_go_to_slow_start_event_cnt;\n\tu64 iscsi_tx_fast_retransmit_event_cnt;\n\n\tu64 iscsi_tx_data_pdu_cnt;\n\tu64 iscsi_tx_r2t_pdu_cnt;\n\tu64 iscsi_tx_total_pdu_cnt;\n\n\tu64 iscsi_tx_bytes_cnt;\n\tu64 iscsi_tx_packet_cnt;\n};\n\nstruct qed_dev_iscsi_info {\n\tstruct qed_dev_info common;\n\n\tvoid __iomem *primary_dbq_rq_addr;\n\tvoid __iomem *secondary_bdq_rq_addr;\n\n\tu8 num_cqs;\n};\n\nstruct qed_iscsi_id_params {\n\tu8 mac[ETH_ALEN];\n\tu32 ip[4];\n\tu16 port;\n};\n\nstruct qed_iscsi_params_offload {\n\tu8 layer_code;\n\tdma_addr_t sq_pbl_addr;\n\tu32 initial_ack;\n\n\tstruct qed_iscsi_id_params src;\n\tstruct qed_iscsi_id_params dst;\n\tu16 vlan_id;\n\tu8 tcp_flags;\n\tu8 ip_version;\n\tu8 default_cq;\n\n\tu8 ka_max_probe_cnt;\n\tu8 dup_ack_theshold;\n\tu32 rcv_next;\n\tu32 snd_una;\n\tu32 snd_next;\n\tu32 snd_max;\n\tu32 snd_wnd;\n\tu32 rcv_wnd;\n\tu32 snd_wl1;\n\tu32 cwnd;\n\tu32 ss_thresh;\n\tu16 srtt;\n\tu16 rtt_var;\n\tu32 ts_recent;\n\tu32 ts_recent_age;\n\tu32 total_rt;\n\tu32 ka_timeout_delta;\n\tu32 rt_timeout_delta;\n\tu8 dup_ack_cnt;\n\tu8 snd_wnd_probe_cnt;\n\tu8 ka_probe_cnt;\n\tu8 rt_cnt;\n\tu32 flow_label;\n\tu32 ka_timeout;\n\tu32 ka_interval;\n\tu32 max_rt_time;\n\tu32 initial_rcv_wnd;\n\tu8 ttl;\n\tu8 tos_or_tc;\n\tu16 remote_port;\n\tu16 local_port;\n\tu16 mss;\n\tu8 snd_wnd_scale;\n\tu8 rcv_wnd_scale;\n\tu16 da_timeout_value;\n\tu8 ack_frequency;\n};\n\nstruct qed_iscsi_params_update {\n\tu8 update_flag;\n#define QED_ISCSI_CONN_HD_EN            BIT(0)\n#define QED_ISCSI_CONN_DD_EN            BIT(1)\n#define QED_ISCSI_CONN_INITIAL_R2T      BIT(2)\n#define QED_ISCSI_CONN_IMMEDIATE_DATA   BIT(3)\n\n\tu32 max_seq_size;\n\tu32 max_recv_pdu_length;\n\tu32 max_send_pdu_length;\n\tu32 first_seq_length;\n\tu32 exp_stat_sn;\n};\n\n#define MAX_TID_BLOCKS_ISCSI (512)\nstruct qed_iscsi_tid {\n\tu32 size;\t\t \n\tu32 num_tids_per_block;\n\tu8 *blocks[MAX_TID_BLOCKS_ISCSI];\n};\n\nstruct qed_iscsi_cb_ops {\n\tstruct qed_common_cb_ops common;\n};\n\n \nstruct qed_iscsi_ops {\n\tconst struct qed_common_ops *common;\n\n\tconst struct qed_ll2_ops *ll2;\n\n\tint (*fill_dev_info)(struct qed_dev *cdev,\n\t\t\t     struct qed_dev_iscsi_info *info);\n\n\tvoid (*register_ops)(struct qed_dev *cdev,\n\t\t\t     struct qed_iscsi_cb_ops *ops, void *cookie);\n\n\tint (*start)(struct qed_dev *cdev,\n\t\t     struct qed_iscsi_tid *tasks,\n\t\t     void *event_context, iscsi_event_cb_t async_event_cb);\n\n\tint (*stop)(struct qed_dev *cdev);\n\n\tint (*acquire_conn)(struct qed_dev *cdev,\n\t\t\t    u32 *handle,\n\t\t\t    u32 *fw_cid, void __iomem **p_doorbell);\n\n\tint (*release_conn)(struct qed_dev *cdev, u32 handle);\n\n\tint (*offload_conn)(struct qed_dev *cdev,\n\t\t\t    u32 handle,\n\t\t\t    struct qed_iscsi_params_offload *conn_info);\n\n\tint (*update_conn)(struct qed_dev *cdev,\n\t\t\t   u32 handle,\n\t\t\t   struct qed_iscsi_params_update *conn_info);\n\n\tint (*destroy_conn)(struct qed_dev *cdev, u32 handle, u8 abrt_conn);\n\n\tint (*clear_sq)(struct qed_dev *cdev, u32 handle);\n\n\tint (*get_stats)(struct qed_dev *cdev,\n\t\t\t struct qed_iscsi_stats *stats);\n\n\tint (*change_mac)(struct qed_dev *cdev, u32 handle, const u8 *mac);\n};\n\nconst struct qed_iscsi_ops *qed_get_iscsi_ops(void);\nvoid qed_put_iscsi_ops(void);\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}