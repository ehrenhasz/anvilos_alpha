{
  "module_name": "irqdesc.h",
  "hash_id": "7a77f71244a966a7c9377ddaa6581d852e34466de28ea71e4f7e53bfb576ce42",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/irqdesc.h",
  "human_readable_source": " \n#ifndef _LINUX_IRQDESC_H\n#define _LINUX_IRQDESC_H\n\n#include <linux/rcupdate.h>\n#include <linux/kobject.h>\n#include <linux/mutex.h>\n\n \n\nstruct irq_affinity_notify;\nstruct proc_dir_entry;\nstruct module;\nstruct irq_desc;\nstruct irq_domain;\nstruct pt_regs;\n\n \nstruct irq_desc {\n\tstruct irq_common_data\tirq_common_data;\n\tstruct irq_data\t\tirq_data;\n\tunsigned int __percpu\t*kstat_irqs;\n\tirq_flow_handler_t\thandle_irq;\n\tstruct irqaction\t*action;\t \n\tunsigned int\t\tstatus_use_accessors;\n\tunsigned int\t\tcore_internal_state__do_not_mess_with_it;\n\tunsigned int\t\tdepth;\t\t \n\tunsigned int\t\twake_depth;\t \n\tunsigned int\t\ttot_count;\n\tunsigned int\t\tirq_count;\t \n\tunsigned long\t\tlast_unhandled;\t \n\tunsigned int\t\tirqs_unhandled;\n\tatomic_t\t\tthreads_handled;\n\tint\t\t\tthreads_handled_last;\n\traw_spinlock_t\t\tlock;\n\tstruct cpumask\t\t*percpu_enabled;\n\tconst struct cpumask\t*percpu_affinity;\n#ifdef CONFIG_SMP\n\tconst struct cpumask\t*affinity_hint;\n\tstruct irq_affinity_notify *affinity_notify;\n#ifdef CONFIG_GENERIC_PENDING_IRQ\n\tcpumask_var_t\t\tpending_mask;\n#endif\n#endif\n\tunsigned long\t\tthreads_oneshot;\n\tatomic_t\t\tthreads_active;\n\twait_queue_head_t       wait_for_threads;\n#ifdef CONFIG_PM_SLEEP\n\tunsigned int\t\tnr_actions;\n\tunsigned int\t\tno_suspend_depth;\n\tunsigned int\t\tcond_suspend_depth;\n\tunsigned int\t\tforce_resume_depth;\n#endif\n#ifdef CONFIG_PROC_FS\n\tstruct proc_dir_entry\t*dir;\n#endif\n#ifdef CONFIG_GENERIC_IRQ_DEBUGFS\n\tstruct dentry\t\t*debugfs_file;\n\tconst char\t\t*dev_name;\n#endif\n#ifdef CONFIG_SPARSE_IRQ\n\tstruct rcu_head\t\trcu;\n\tstruct kobject\t\tkobj;\n#endif\n\tstruct mutex\t\trequest_mutex;\n\tint\t\t\tparent_irq;\n\tstruct module\t\t*owner;\n\tconst char\t\t*name;\n#ifdef CONFIG_HARDIRQS_SW_RESEND\n\tstruct hlist_node\tresend_node;\n#endif\n} ____cacheline_internodealigned_in_smp;\n\n#ifdef CONFIG_SPARSE_IRQ\nextern void irq_lock_sparse(void);\nextern void irq_unlock_sparse(void);\n#else\nstatic inline void irq_lock_sparse(void) { }\nstatic inline void irq_unlock_sparse(void) { }\nextern struct irq_desc irq_desc[NR_IRQS];\n#endif\n\nstatic inline unsigned int irq_desc_kstat_cpu(struct irq_desc *desc,\n\t\t\t\t\t      unsigned int cpu)\n{\n\treturn desc->kstat_irqs ? *per_cpu_ptr(desc->kstat_irqs, cpu) : 0;\n}\n\nstatic inline struct irq_desc *irq_data_to_desc(struct irq_data *data)\n{\n\treturn container_of(data->common, struct irq_desc, irq_common_data);\n}\n\nstatic inline unsigned int irq_desc_get_irq(struct irq_desc *desc)\n{\n\treturn desc->irq_data.irq;\n}\n\nstatic inline struct irq_data *irq_desc_get_irq_data(struct irq_desc *desc)\n{\n\treturn &desc->irq_data;\n}\n\nstatic inline struct irq_chip *irq_desc_get_chip(struct irq_desc *desc)\n{\n\treturn desc->irq_data.chip;\n}\n\nstatic inline void *irq_desc_get_chip_data(struct irq_desc *desc)\n{\n\treturn desc->irq_data.chip_data;\n}\n\nstatic inline void *irq_desc_get_handler_data(struct irq_desc *desc)\n{\n\treturn desc->irq_common_data.handler_data;\n}\n\n \nstatic inline void generic_handle_irq_desc(struct irq_desc *desc)\n{\n\tdesc->handle_irq(desc);\n}\n\nint handle_irq_desc(struct irq_desc *desc);\nint generic_handle_irq(unsigned int irq);\nint generic_handle_irq_safe(unsigned int irq);\n\n#ifdef CONFIG_IRQ_DOMAIN\n \nint generic_handle_domain_irq(struct irq_domain *domain, unsigned int hwirq);\nint generic_handle_domain_irq_safe(struct irq_domain *domain, unsigned int hwirq);\nint generic_handle_domain_nmi(struct irq_domain *domain, unsigned int hwirq);\n#endif\n\n \nstatic inline int irq_desc_has_action(struct irq_desc *desc)\n{\n\treturn desc && desc->action != NULL;\n}\n\n \nstatic inline void irq_set_handler_locked(struct irq_data *data,\n\t\t\t\t\t  irq_flow_handler_t handler)\n{\n\tstruct irq_desc *desc = irq_data_to_desc(data);\n\n\tdesc->handle_irq = handler;\n}\n\n \nstatic inline void\nirq_set_chip_handler_name_locked(struct irq_data *data,\n\t\t\t\t const struct irq_chip *chip,\n\t\t\t\t irq_flow_handler_t handler, const char *name)\n{\n\tstruct irq_desc *desc = irq_data_to_desc(data);\n\n\tdesc->handle_irq = handler;\n\tdesc->name = name;\n\tdata->chip = (struct irq_chip *)chip;\n}\n\nbool irq_check_status_bit(unsigned int irq, unsigned int bitmask);\n\nstatic inline bool irq_balancing_disabled(unsigned int irq)\n{\n\treturn irq_check_status_bit(irq, IRQ_NO_BALANCING_MASK);\n}\n\nstatic inline bool irq_is_percpu(unsigned int irq)\n{\n\treturn irq_check_status_bit(irq, IRQ_PER_CPU);\n}\n\nstatic inline bool irq_is_percpu_devid(unsigned int irq)\n{\n\treturn irq_check_status_bit(irq, IRQ_PER_CPU_DEVID);\n}\n\nvoid __irq_set_lockdep_class(unsigned int irq, struct lock_class_key *lock_class,\n\t\t\t     struct lock_class_key *request_class);\nstatic inline void\nirq_set_lockdep_class(unsigned int irq, struct lock_class_key *lock_class,\n\t\t      struct lock_class_key *request_class)\n{\n\tif (IS_ENABLED(CONFIG_LOCKDEP))\n\t\t__irq_set_lockdep_class(irq, lock_class, request_class);\n}\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}