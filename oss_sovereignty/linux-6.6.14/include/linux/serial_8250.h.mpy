{
  "module_name": "serial_8250.h",
  "hash_id": "fb4afa2e351e5a9c0a195d3e0135734db33dce361a840577990616f65e1dc824",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/serial_8250.h",
  "human_readable_source": " \n \n#ifndef _LINUX_SERIAL_8250_H\n#define _LINUX_SERIAL_8250_H\n\n#include <linux/errno.h>\n#include <linux/serial_core.h>\n#include <linux/serial_reg.h>\n#include <linux/platform_device.h>\n\nstruct uart_8250_port;\n\n \nstruct plat_serial8250_port {\n\tunsigned long\tiobase;\t\t \n\tvoid __iomem\t*membase;\t \n\tresource_size_t\tmapbase;\t \n\tresource_size_t\tmapsize;\n\tunsigned int\tuartclk;\t \n\tunsigned int\tirq;\t\t \n\tunsigned long\tirqflags;\t \n\tvoid            *private_data;\n\tunsigned char\tregshift;\t \n\tunsigned char\tiotype;\t\t \n\tunsigned char\thub6;\n\tunsigned char\thas_sysrq;\t \n\tunsigned int\ttype;\t\t \n\tupf_t\t\tflags;\t\t \n\tu16\t\tbugs;\t\t \n\tunsigned int\t(*serial_in)(struct uart_port *, int);\n\tvoid\t\t(*serial_out)(struct uart_port *, int, int);\n\tu32\t\t(*dl_read)(struct uart_8250_port *up);\n\tvoid\t\t(*dl_write)(struct uart_8250_port *up, u32 value);\n\tvoid\t\t(*set_termios)(struct uart_port *,\n\t\t\t               struct ktermios *new,\n\t\t\t               const struct ktermios *old);\n\tvoid\t\t(*set_ldisc)(struct uart_port *,\n\t\t\t\t     struct ktermios *);\n\tunsigned int\t(*get_mctrl)(struct uart_port *);\n\tint\t\t(*handle_irq)(struct uart_port *);\n\tvoid\t\t(*pm)(struct uart_port *, unsigned int state,\n\t\t\t      unsigned old);\n\tvoid\t\t(*handle_break)(struct uart_port *);\n};\n\n \nenum {\n\tPLAT8250_DEV_LEGACY = -1,\n\tPLAT8250_DEV_PLATFORM,\n\tPLAT8250_DEV_PLATFORM1,\n\tPLAT8250_DEV_PLATFORM2,\n\tPLAT8250_DEV_FOURPORT,\n\tPLAT8250_DEV_ACCENT,\n\tPLAT8250_DEV_BOCA,\n\tPLAT8250_DEV_EXAR_ST16C554,\n\tPLAT8250_DEV_HUB6,\n\tPLAT8250_DEV_AU1X00,\n\tPLAT8250_DEV_SM501,\n};\n\nstruct uart_8250_dma;\nstruct uart_8250_port;\n\n \nstruct uart_8250_ops {\n\tint\t\t(*setup_irq)(struct uart_8250_port *);\n\tvoid\t\t(*release_irq)(struct uart_8250_port *);\n\tvoid\t\t(*setup_timer)(struct uart_8250_port *);\n};\n\nstruct uart_8250_em485 {\n\tstruct hrtimer\t\tstart_tx_timer;  \n\tstruct hrtimer\t\tstop_tx_timer;   \n\tstruct hrtimer\t\t*active_timer;   \n\tstruct uart_8250_port\t*port;           \n\tunsigned int\t\ttx_stopped:1;\t \n};\n\n \nstruct uart_8250_port {\n\tstruct uart_port\tport;\n\tstruct timer_list\ttimer;\t\t \n\tstruct list_head\tlist;\t\t \n\tu32\t\t\tcapabilities;\t \n\tu16\t\t\tbugs;\t\t \n\tunsigned int\t\ttx_loadsz;\t \n\tunsigned char\t\tacr;\n\tunsigned char\t\tfcr;\n\tunsigned char\t\tier;\n\tunsigned char\t\tlcr;\n\tunsigned char\t\tmcr;\n\tunsigned char\t\tcur_iotype;\t \n\tunsigned int\t\trpm_tx_active;\n\tunsigned char\t\tcanary;\t\t \n\tunsigned char\t\tprobe;\n\tstruct mctrl_gpios\t*gpios;\n#define UART_PROBE_RSA\t(1 << 0)\n\n\t \n#define LSR_SAVE_FLAGS UART_LSR_BRK_ERROR_BITS\n\tu16\t\t\tlsr_saved_flags;\n\tu16\t\t\tlsr_save_mask;\n#define MSR_SAVE_FLAGS UART_MSR_ANY_DELTA\n\tunsigned char\t\tmsr_saved_flags;\n\n\tstruct uart_8250_dma\t*dma;\n\tconst struct uart_8250_ops *ops;\n\n\t \n\tu32\t\t\t(*dl_read)(struct uart_8250_port *up);\n\tvoid\t\t\t(*dl_write)(struct uart_8250_port *up, u32 value);\n\n\tstruct uart_8250_em485 *em485;\n\tvoid\t\t\t(*rs485_start_tx)(struct uart_8250_port *);\n\tvoid\t\t\t(*rs485_stop_tx)(struct uart_8250_port *);\n\n\t \n\tstruct delayed_work overrun_backoff;\n\tu32 overrun_backoff_time_ms;\n};\n\nstatic inline struct uart_8250_port *up_to_u8250p(struct uart_port *up)\n{\n\treturn container_of(up, struct uart_8250_port, port);\n}\n\nint serial8250_register_8250_port(const struct uart_8250_port *);\nvoid serial8250_unregister_port(int line);\nvoid serial8250_suspend_port(int line);\nvoid serial8250_resume_port(int line);\n\nint early_serial_setup(struct uart_port *port);\nint early_serial8250_setup(struct earlycon_device *device, const char *options);\n\nvoid serial8250_update_uartclk(struct uart_port *port, unsigned int uartclk);\nvoid serial8250_do_set_termios(struct uart_port *port, struct ktermios *termios,\n\t\t\t       const struct ktermios *old);\nvoid serial8250_do_set_ldisc(struct uart_port *port, struct ktermios *termios);\nunsigned int serial8250_do_get_mctrl(struct uart_port *port);\nint serial8250_do_startup(struct uart_port *port);\nvoid serial8250_do_shutdown(struct uart_port *port);\nvoid serial8250_do_pm(struct uart_port *port, unsigned int state,\n\t\t      unsigned int oldstate);\nvoid serial8250_do_set_mctrl(struct uart_port *port, unsigned int mctrl);\nvoid serial8250_do_set_divisor(struct uart_port *port, unsigned int baud,\n\t\t\t       unsigned int quot, unsigned int quot_frac);\nint fsl8250_handle_irq(struct uart_port *port);\nint serial8250_handle_irq(struct uart_port *port, unsigned int iir);\nu16 serial8250_rx_chars(struct uart_8250_port *up, u16 lsr);\nvoid serial8250_read_char(struct uart_8250_port *up, u16 lsr);\nvoid serial8250_tx_chars(struct uart_8250_port *up);\nunsigned int serial8250_modem_status(struct uart_8250_port *up);\nvoid serial8250_init_port(struct uart_8250_port *up);\nvoid serial8250_set_defaults(struct uart_8250_port *up);\nvoid serial8250_console_write(struct uart_8250_port *up, const char *s,\n\t\t\t      unsigned int count);\nint serial8250_console_setup(struct uart_port *port, char *options, bool probe);\nint serial8250_console_exit(struct uart_port *port);\n\nvoid serial8250_set_isa_configurator(void (*v)(int port, struct uart_port *up,\n\t\t\t\t\t       u32 *capabilities));\n\n#ifdef CONFIG_SERIAL_8250_RT288X\nint rt288x_setup(struct uart_port *p);\nint au_platform_setup(struct plat_serial8250_port *p);\n#else\nstatic inline int rt288x_setup(struct uart_port *p) { return -ENODEV; }\nstatic inline int au_platform_setup(struct plat_serial8250_port *p) { return -ENODEV; }\n#endif\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}