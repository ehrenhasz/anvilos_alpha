{
  "module_name": "ds1685.h",
  "hash_id": "e775cab0a6b4bdb635f48812a9adabb036b7909069a97e64fa9b606ed459ecf2",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/rtc/ds1685.h",
  "human_readable_source": " \n \n\n#ifndef _LINUX_RTC_DS1685_H_\n#define _LINUX_RTC_DS1685_H_\n\n#include <linux/rtc.h>\n#include <linux/platform_device.h>\n#include <linux/workqueue.h>\n\n \nstruct ds1685_priv {\n\tstruct rtc_device *dev;\n\tvoid __iomem *regs;\n\tvoid __iomem *data;\n\tu32 regstep;\n\tint irq_num;\n\tbool bcd_mode;\n\tu8 (*read)(struct ds1685_priv *, int);\n\tvoid (*write)(struct ds1685_priv *, int, u8);\n\tvoid (*prepare_poweroff)(void);\n\tvoid (*wake_alarm)(void);\n\tvoid (*post_ram_clear)(void);\n};\n\n\n \nstruct ds1685_rtc_platform_data {\n\tconst u32 regstep;\n\tconst bool bcd_mode;\n\tconst bool no_irq;\n\tconst bool uie_unsupported;\n\tvoid (*plat_prepare_poweroff)(void);\n\tvoid (*plat_wake_alarm)(void);\n\tvoid (*plat_post_ram_clear)(void);\n\tenum {\n\t\tds1685_reg_direct,\n\t\tds1685_reg_indirect\n\t} access_type;\n};\n\n\n \n#define RTC_SECS\t\t0x00\t \n#define RTC_SECS_ALARM\t\t0x01\t \n#define RTC_MINS\t\t0x02\t \n#define RTC_MINS_ALARM\t\t0x03\t \n#define RTC_HRS\t\t\t0x04\t \n#define RTC_HRS_ALARM\t\t0x05\t \n#define RTC_WDAY\t\t0x06\t \n#define RTC_MDAY\t\t0x07\t \n#define RTC_MONTH\t\t0x08\t \n#define RTC_YEAR\t\t0x09\t \n#define RTC_CENTURY\t\t0x48\t \n#define RTC_MDAY_ALARM\t\t0x49\t \n\n\n \n#define RTC_SECS_BCD_MASK\t0x7f\t \n#define RTC_MINS_BCD_MASK\t0x7f\t \n#define RTC_HRS_12_BCD_MASK\t0x1f\t \n#define RTC_HRS_24_BCD_MASK\t0x3f\t \n#define RTC_MDAY_BCD_MASK\t0x3f\t \n#define RTC_MONTH_BCD_MASK\t0x1f\t \n#define RTC_YEAR_BCD_MASK\t0xff\t \n\n \n#define RTC_SECS_BIN_MASK\t0x3f\t \n#define RTC_MINS_BIN_MASK\t0x3f\t \n#define RTC_HRS_12_BIN_MASK\t0x0f\t \n#define RTC_HRS_24_BIN_MASK\t0x1f\t \n#define RTC_MDAY_BIN_MASK\t0x1f\t \n#define RTC_MONTH_BIN_MASK\t0x0f\t \n#define RTC_YEAR_BIN_MASK\t0x7f\t \n\n \n#define RTC_WDAY_MASK\t\t0x07\t \n#define RTC_CENTURY_MASK\t0xff\t \n#define RTC_MDAY_ALARM_MASK\t0xff\t \n#define RTC_HRS_AMPM_MASK\tBIT(7)\t \n\n\n\n \n#define RTC_CTRL_A\t\t0x0a\t \n#define RTC_CTRL_B\t\t0x0b\t \n#define RTC_CTRL_C\t\t0x0c\t \n#define RTC_CTRL_D\t\t0x0d\t \n#define RTC_EXT_CTRL_4A\t\t0x4a\t \n#define RTC_EXT_CTRL_4B\t\t0x4b\t \n\n\n \n#define RTC_CTRL_A_UIP\t\tBIT(7)\t \n#define RTC_CTRL_A_DV2\t\tBIT(6)\t \n#define RTC_CTRL_A_DV1\t\tBIT(5)\t \n#define RTC_CTRL_A_DV0\t\tBIT(4)\t \n#define RTC_CTRL_A_RS2\t\tBIT(2)\t \n#define RTC_CTRL_A_RS3\t\tBIT(3)\t \n#define RTC_CTRL_A_RS1\t\tBIT(1)\t \n#define RTC_CTRL_A_RS0\t\tBIT(0)\t \n#define RTC_CTRL_A_RS_MASK\t0x0f\t \n\n \n#define RTC_CTRL_B_SET\t\tBIT(7)\t \n#define RTC_CTRL_B_PIE\t\tBIT(6)\t \n#define RTC_CTRL_B_AIE\t\tBIT(5)\t \n#define RTC_CTRL_B_UIE\t\tBIT(4)\t \n#define RTC_CTRL_B_SQWE\t\tBIT(3)\t \n#define RTC_CTRL_B_DM\t\tBIT(2)\t \n#define RTC_CTRL_B_2412\t\tBIT(1)\t \n#define RTC_CTRL_B_DSE\t\tBIT(0)\t \n#define RTC_CTRL_B_PAU_MASK\t0x70\t \n\n\n \n#define RTC_CTRL_C_IRQF\t\tBIT(7)\t \n#define RTC_CTRL_C_PF\t\tBIT(6)\t \n#define RTC_CTRL_C_AF\t\tBIT(5)\t \n#define RTC_CTRL_C_UF\t\tBIT(4)\t \n#define RTC_CTRL_C_PAU_MASK\t0x70\t \n\n\n \n#define RTC_CTRL_D_VRT\t\tBIT(7)\t \n\n\n \n#define RTC_CTRL_4A_VRT2\tBIT(7)\t \n#define RTC_CTRL_4A_INCR\tBIT(6)\t \n#define RTC_CTRL_4A_PAB\t\tBIT(3)\t \n#define RTC_CTRL_4A_RF\t\tBIT(2)\t \n#define RTC_CTRL_4A_WF\t\tBIT(1)\t \n#define RTC_CTRL_4A_KF\t\tBIT(0)\t \n#if !defined(CONFIG_RTC_DRV_DS1685) && !defined(CONFIG_RTC_DRV_DS1689)\n#define RTC_CTRL_4A_BME\t\tBIT(5)\t \n#endif\n#define RTC_CTRL_4A_RWK_MASK\t0x07\t \n\n\n \n#define RTC_CTRL_4B_ABE\t\tBIT(7)\t \n#define RTC_CTRL_4B_E32K\tBIT(6)\t \n#define RTC_CTRL_4B_CS\t\tBIT(5)\t \n#define RTC_CTRL_4B_RCE\t\tBIT(4)\t \n#define RTC_CTRL_4B_PRS\t\tBIT(3)\t \n#define RTC_CTRL_4B_RIE\t\tBIT(2)\t \n#define RTC_CTRL_4B_WIE\t\tBIT(1)\t \n#define RTC_CTRL_4B_KSE\t\tBIT(0)\t \n#define RTC_CTRL_4B_RWK_MASK\t0x07\t \n\n\n \n#define RTC_BANK1_SSN_MODEL\t0x40\t \n#define RTC_BANK1_SSN_BYTE_1\t0x41\t \n#define RTC_BANK1_SSN_BYTE_2\t0x42\t \n#define RTC_BANK1_SSN_BYTE_3\t0x43\t \n#define RTC_BANK1_SSN_BYTE_4\t0x44\t \n#define RTC_BANK1_SSN_BYTE_5\t0x45\t \n#define RTC_BANK1_SSN_BYTE_6\t0x46\t \n#define RTC_BANK1_SSN_CRC\t0x47\t \n#define RTC_BANK1_RAM_DATA_PORT\t0x53\t \n\n\n \n#if defined(CONFIG_RTC_DRV_DS1685)\n#define RTC_BANK1_RAM_ADDR\t0x50\t \n#elif defined(CONFIG_RTC_DRV_DS1689)\n#define RTC_BANK1_VCC_CTR_LSB\t0x54\t \n#define RTC_BANK1_VCC_CTR_MSB\t0x57\t \n#define RTC_BANK1_VBAT_CTR_LSB\t0x58\t \n#define RTC_BANK1_VBAT_CTR_MSB\t0x5b\t \n#define RTC_BANK1_PWR_CTR_LSB\t0x5c\t \n#define RTC_BANK1_PWR_CTR_MSB\t0x5d\t \n#define RTC_BANK1_UNIQ_SN\t0x60\t \n#else  \n#define RTC_BANK1_RAM_ADDR_LSB\t0x50\t \n#define RTC_BANK1_RAM_ADDR_MSB\t0x51\t \n#define RTC_BANK1_WRITE_CTR\t0x5e\t \n#endif\n\n\n \n#define RTC_MODEL_DS1685\t0x71\t \n#define RTC_MODEL_DS17285\t0x72\t \n#define RTC_MODEL_DS1689\t0x73\t \n#define RTC_MODEL_DS17485\t0x74\t \n#define RTC_MODEL_DS17885\t0x78\t \n\n\n \n\t\t\t\t\t \n#define RTC_SQW_8192HZ\t\t0x03\t \n#define RTC_SQW_4096HZ\t\t0x04\t \n#define RTC_SQW_2048HZ\t\t0x05\t \n#define RTC_SQW_1024HZ\t\t0x06\t \n#define RTC_SQW_512HZ\t\t0x07\t \n#define RTC_SQW_256HZ\t\t0x08\t \n#define RTC_SQW_128HZ\t\t0x09\t \n#define RTC_SQW_64HZ\t\t0x0a\t \n#define RTC_SQW_32HZ\t\t0x0b\t \n#define RTC_SQW_16HZ\t\t0x0c\t \n#define RTC_SQW_8HZ\t\t0x0d\t \n#define RTC_SQW_4HZ\t\t0x0e\t \n#define RTC_SQW_2HZ\t\t0x0f\t \n#define RTC_SQW_0HZ\t\t0x00\t \n#define RTC_SQW_32768HZ\t\t32768\t \n#define RTC_MAX_USER_FREQ\t8192\n\n\n \n#define NVRAM_TIME_BASE\t\t0x0e\t \n#define NVRAM_BANK0_BASE\t0x40\t \n#define NVRAM_SZ_TIME\t\t50\n#define NVRAM_SZ_BANK0\t\t64\n#if defined(CONFIG_RTC_DRV_DS1685)\n#  define NVRAM_SZ_EXTND\t128\n#elif defined(CONFIG_RTC_DRV_DS1689)\n#  define NVRAM_SZ_EXTND\t0\n#elif defined(CONFIG_RTC_DRV_DS17285)\n#  define NVRAM_SZ_EXTND\t2048\n#elif defined(CONFIG_RTC_DRV_DS17485)\n#  define NVRAM_SZ_EXTND\t4096\n#elif defined(CONFIG_RTC_DRV_DS17885)\n#  define NVRAM_SZ_EXTND\t8192\n#endif\n#define NVRAM_TOTAL_SZ_BANK0\t(NVRAM_SZ_TIME + NVRAM_SZ_BANK0)\n#define NVRAM_TOTAL_SZ\t\t(NVRAM_TOTAL_SZ_BANK0 + NVRAM_SZ_EXTND)\n\n\n \nextern void __noreturn\nds1685_rtc_poweroff(struct platform_device *pdev);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}