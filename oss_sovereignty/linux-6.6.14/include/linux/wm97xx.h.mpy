{
  "module_name": "wm97xx.h",
  "hash_id": "55f104cd360da42a375bf4bbe11d064a5308f61eaa70ebf5a78d0f48175c577b",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/wm97xx.h",
  "human_readable_source": " \n\n \n\n#ifndef _LINUX_WM97XX_H\n#define _LINUX_WM97XX_H\n\n#include <sound/core.h>\n#include <sound/pcm.h>\n#include <sound/ac97_codec.h>\n#include <sound/initval.h>\n#include <linux/types.h>\n#include <linux/list.h>\n#include <linux/input.h>\t \n#include <linux/platform_device.h>\n\n \n#define\tWM97xx_GENERIC\t\t\t0x0000\n#define\tWM97xx_WM1613\t\t\t0x1613\n\n \n#define AC97_WM97XX_DIGITISER1\t\t0x76\n#define AC97_WM97XX_DIGITISER2\t\t0x78\n#define AC97_WM97XX_DIGITISER_RD \t0x7a\n#define AC97_WM9713_DIG1\t\t0x74\n#define AC97_WM9713_DIG2\t\tAC97_WM97XX_DIGITISER1\n#define AC97_WM9713_DIG3\t\tAC97_WM97XX_DIGITISER2\n\n \n#define WM97XX_POLL\t\t0x8000\t \n#define WM97XX_ADCSEL_X\t\t0x1000\t \n#define WM97XX_ADCSEL_Y\t\t0x2000\t \n#define WM97XX_ADCSEL_PRES\t0x3000\t \n#define WM97XX_AUX_ID1\t\t0x4000\n#define WM97XX_AUX_ID2\t\t0x5000\n#define WM97XX_AUX_ID3\t\t0x6000\n#define WM97XX_AUX_ID4\t\t0x7000\n#define WM97XX_ADCSEL_MASK\t0x7000\t \n#define WM97XX_COO\t\t0x0800\t \n#define WM97XX_CTC\t\t0x0400\t \n#define WM97XX_CM_RATE_93\t0x0000\t \n#define WM97XX_CM_RATE_187\t0x0100\t \n#define WM97XX_CM_RATE_375\t0x0200\t \n#define WM97XX_CM_RATE_750\t0x0300\t \n#define WM97XX_CM_RATE_8K\t0x00f0\t \n#define WM97XX_CM_RATE_12K\t0x01f0\t \n#define WM97XX_CM_RATE_24K\t0x02f0\t \n#define WM97XX_CM_RATE_48K\t0x03f0\t \n#define WM97XX_CM_RATE_MASK\t0x03f0\n#define WM97XX_RATE(i)\t\t(((i & 3) << 8) | ((i & 4) ? 0xf0 : 0))\n#define WM97XX_DELAY(i)\t\t((i << 4) & 0x00f0)\t \n#define WM97XX_DELAY_MASK\t0x00f0\n#define WM97XX_SLEN\t\t0x0008\t \n#define WM97XX_SLT(i)\t\t((i - 5) & 0x7)\t \n#define WM97XX_SLT_MASK\t\t0x0007\n#define WM97XX_PRP_DETW\t\t0x4000\t \n#define WM97XX_PRP_DET\t\t0x8000\t \n#define WM97XX_PRP_DET_DIG\t0xc000\t \n#define WM97XX_RPR\t\t0x2000\t \n#define WM97XX_PEN_DOWN\t\t0x8000\t \n\n \n#define WM9712_45W\t\t0x1000\t \n#define WM9712_PDEN\t\t0x0800\t \n#define WM9712_WAIT\t\t0x0200\t \n#define WM9712_PIL\t\t0x0100\t \n#define WM9712_MASK_HI\t\t0x0040\t \n#define WM9712_MASK_EDGE\t0x0080\t \n#define\tWM9712_MASK_SYNC\t0x00c0\t \n#define WM9712_RPU(i)\t\t(i&0x3f)\t \n#define WM9712_PD(i)\t\t(0x1 << i)\t \n\n \n#define AC97_WM9712_POWER\t0x24\n#define AC97_WM9712_REV\t\t0x58\n\n \n#define WM9705_PDEN\t\t0x1000\t \n#define WM9705_PINV\t\t0x0800\t \n#define WM9705_BSEN\t\t0x0400\t \n#define WM9705_BINV\t\t0x0200\t \n#define WM9705_WAIT\t\t0x0100\t \n#define WM9705_PIL\t\t0x0080\t \n#define WM9705_PHIZ\t\t0x0040\t \n#define WM9705_MASK_HI\t\t0x0010\t \n#define WM9705_MASK_EDGE\t0x0020\t \n#define\tWM9705_MASK_SYNC\t0x0030\t \n#define WM9705_PDD(i)\t\t(i & 0x000f)\t \n\n\n \n#define WM9713_PDPOL\t\t0x0400\t \n#define WM9713_POLL\t\t0x0200\t \n#define WM9713_CTC\t\t0x0100\t \n#define WM9713_ADCSEL_X\t\t0x0002\t \n#define WM9713_ADCSEL_Y\t\t0x0004\t \n#define WM9713_ADCSEL_PRES\t0x0008\t \n#define WM9713_COO\t\t0x0001\t \n#define WM9713_45W\t\t0x1000   \n#define WM9713_PDEN\t\t0x0800\t \n#define WM9713_ADCSEL_MASK\t0x00fe\t \n#define WM9713_WAIT\t\t0x0200\t \n\n \n#define TS_COMP1\t\t0x0\n#define TS_COMP2\t\t0x1\n#define TS_BMON\t\t\t0x2\n#define TS_WIPER\t\t0x3\n\n \n#define WM97XX_ID1\t\t0x574d\n#define WM9712_ID2\t\t0x4c12\n#define WM9705_ID2\t\t0x4c05\n#define WM9713_ID2\t\t0x4c13\n\n \n#define WM97XX_MAX_GPIO\t\t16\n#define WM97XX_GPIO_1\t\t(1 << 1)\n#define WM97XX_GPIO_2\t\t(1 << 2)\n#define WM97XX_GPIO_3\t\t(1 << 3)\n#define WM97XX_GPIO_4\t\t(1 << 4)\n#define WM97XX_GPIO_5\t\t(1 << 5)\n#define WM97XX_GPIO_6\t\t(1 << 6)\n#define WM97XX_GPIO_7\t\t(1 << 7)\n#define WM97XX_GPIO_8\t\t(1 << 8)\n#define WM97XX_GPIO_9\t\t(1 << 9)\n#define WM97XX_GPIO_10\t\t(1 << 10)\n#define WM97XX_GPIO_11\t\t(1 << 11)\n#define WM97XX_GPIO_12\t\t(1 << 12)\n#define WM97XX_GPIO_13\t\t(1 << 13)\n#define WM97XX_GPIO_14\t\t(1 << 14)\n#define WM97XX_GPIO_15\t\t(1 << 15)\n\n\n#define AC97_LINK_FRAME\t\t21\t \n\n\n \n\n \n#define RC_AGAIN\t\t\t0x00000001\n \n#define RC_VALID\t\t\t0x00000002\n \n#define RC_PENUP\t\t\t0x00000004\n \n#define RC_PENDOWN\t\t\t0x00000008\n\n \n\n \nstruct wm97xx_data {\n    int x;\n    int y;\n    int p;\n};\n\n \nenum wm97xx_gpio_status {\n    WM97XX_GPIO_HIGH,\n    WM97XX_GPIO_LOW\n};\n\n \nenum wm97xx_gpio_dir {\n    WM97XX_GPIO_IN,\n    WM97XX_GPIO_OUT\n};\n\n \nenum wm97xx_gpio_pol {\n    WM97XX_GPIO_POL_HIGH,\n    WM97XX_GPIO_POL_LOW\n};\n\n \nenum wm97xx_gpio_sticky {\n    WM97XX_GPIO_STICKY,\n    WM97XX_GPIO_NOTSTICKY\n};\n\n \nenum wm97xx_gpio_wake {\n    WM97XX_GPIO_WAKE,\n    WM97XX_GPIO_NOWAKE\n};\n\n \n#define WM97XX_DIG_START\t0x1\n#define WM97XX_DIG_STOP\t\t0x2\n#define WM97XX_PHY_INIT\t\t0x3\n#define WM97XX_AUX_PREPARE\t0x4\n#define WM97XX_DIG_RESTORE\t0x5\n\nstruct wm97xx;\n\nextern struct wm97xx_codec_drv wm9705_codec;\nextern struct wm97xx_codec_drv wm9712_codec;\nextern struct wm97xx_codec_drv wm9713_codec;\n\n \nstruct wm97xx_codec_drv {\n\tu16 id;\n\tchar *name;\n\n\t \n\tint (*poll_sample) (struct wm97xx *, int adcsel, int *sample);\n\n\t \n\tint (*poll_touch) (struct wm97xx *, struct wm97xx_data *);\n\n\tint (*acc_enable) (struct wm97xx *, int enable);\n\tvoid (*phy_init) (struct wm97xx *);\n\tvoid (*dig_enable) (struct wm97xx *, int enable);\n\tvoid (*dig_restore) (struct wm97xx *);\n\tvoid (*aux_prepare) (struct wm97xx *);\n};\n\n\n \nstruct wm97xx_mach_ops {\n\n\t \n\tint acc_enabled;\n\tvoid (*acc_pen_up) (struct wm97xx *);\n\tint (*acc_pen_down) (struct wm97xx *);\n\tint (*acc_startup) (struct wm97xx *);\n\tvoid (*acc_shutdown) (struct wm97xx *);\n\n\t \n\tint irq_gpio;\n\n\t \n\tvoid (*pre_sample) (int);   \n\tvoid (*post_sample) (int);   \n};\n\nstruct wm97xx {\n\tu16 dig[3], id, gpio[6], misc;\t \n\tu16 dig_save[3];\t\t \n\tstruct wm97xx_codec_drv *codec;\t \n\tstruct input_dev *input_dev;\t \n\tstruct snd_ac97 *ac97;\t\t \n\tstruct device *dev;\t\t \n\tstruct platform_device *battery_dev;\n\tstruct platform_device *touch_dev;\n\tstruct wm97xx_mach_ops *mach_ops;\n\tstruct mutex codec_mutex;\n\tstruct delayed_work ts_reader;   \n\tunsigned long ts_reader_interval;  \n\tunsigned long ts_reader_min_interval;  \n\tunsigned int pen_irq;\t\t \n\tstruct workqueue_struct *ts_workq;\n\tu16 acc_slot;\t\t\t \n\tu16 acc_rate;\t\t\t \n\tunsigned pen_is_down:1;\t\t \n\tunsigned aux_waiting:1;\t\t \n\tunsigned pen_probably_down:1;\t \n\tu16 variant;\t\t\t \n\tu16 suspend_mode;                \n};\n\nstruct wm97xx_batt_pdata {\n\tint\tbatt_aux;\n\tint\ttemp_aux;\n\tint\tmin_voltage;\n\tint\tmax_voltage;\n\tint\tbatt_div;\n\tint\tbatt_mult;\n\tint\ttemp_div;\n\tint\ttemp_mult;\n\tint\tbatt_tech;\n\tchar\t*batt_name;\n};\n\nstruct wm97xx_pdata {\n\tstruct wm97xx_batt_pdata\t*batt_pdata;\t \n};\n\n \nenum wm97xx_gpio_status wm97xx_get_gpio(struct wm97xx *wm, u32 gpio);\nvoid wm97xx_set_gpio(struct wm97xx *wm, u32 gpio,\n\t\t\t  enum wm97xx_gpio_status status);\nvoid wm97xx_config_gpio(struct wm97xx *wm, u32 gpio,\n\t\t\t\t     enum wm97xx_gpio_dir dir,\n\t\t\t\t     enum wm97xx_gpio_pol pol,\n\t\t\t\t     enum wm97xx_gpio_sticky sticky,\n\t\t\t\t     enum wm97xx_gpio_wake wake);\n\nvoid wm97xx_set_suspend_mode(struct wm97xx *wm, u16 mode);\n\n \nint wm97xx_reg_read(struct wm97xx *wm, u16 reg);\nvoid wm97xx_reg_write(struct wm97xx *wm, u16 reg, u16 val);\n\n \nint wm97xx_read_aux_adc(struct wm97xx *wm, u16 adcsel);\n\n \nint wm97xx_register_mach_ops(struct wm97xx *, struct wm97xx_mach_ops *);\nvoid wm97xx_unregister_mach_ops(struct wm97xx *);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}