{
  "module_name": "cdx_bus.h",
  "hash_id": "7d85f530b2464ee46d592499a39d233b5d96ba7458f6dd156ade9d289c752d81",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/cdx/cdx_bus.h",
  "human_readable_source": " \n\n#ifndef _CDX_BUS_H_\n#define _CDX_BUS_H_\n\n#include <linux/device.h>\n#include <linux/list.h>\n#include <linux/mod_devicetable.h>\n\n#define MAX_CDX_DEV_RESOURCES\t4\n#define CDX_CONTROLLER_ID_SHIFT 4\n#define CDX_BUS_NUM_MASK 0xF\n\n \nstruct cdx_controller;\n\nenum {\n\tCDX_DEV_RESET_CONF,\n};\n\nstruct cdx_device_config {\n\tu8 type;\n};\n\ntypedef int (*cdx_scan_cb)(struct cdx_controller *cdx);\n\ntypedef int (*cdx_dev_configure_cb)(struct cdx_controller *cdx,\n\t\t\t\t    u8 bus_num, u8 dev_num,\n\t\t\t\t    struct cdx_device_config *dev_config);\n\n \n#define CDX_DEVICE_DRIVER_OVERRIDE(vend, dev, driver_override) \\\n\t.vendor = (vend), .device = (dev), .override_only = (driver_override)\n\n \nstruct cdx_ops {\n\tcdx_scan_cb scan;\n\tcdx_dev_configure_cb dev_configure;\n};\n\n \nstruct cdx_controller {\n\tstruct device *dev;\n\tvoid *priv;\n\tu32 id;\n\tstruct cdx_ops *ops;\n};\n\n \nstruct cdx_device {\n\tstruct device dev;\n\tstruct cdx_controller *cdx;\n\tu16 vendor;\n\tu16 device;\n\tu8 bus_num;\n\tu8 dev_num;\n\tstruct resource res[MAX_CDX_DEV_RESOURCES];\n\tu8 res_count;\n\tu64 dma_mask;\n\tu16 flags;\n\tu32 req_id;\n\tconst char *driver_override;\n};\n\n#define to_cdx_device(_dev) \\\n\tcontainer_of(_dev, struct cdx_device, dev)\n\n \nstruct cdx_driver {\n\tstruct device_driver driver;\n\tconst struct cdx_device_id *match_id_table;\n\tint (*probe)(struct cdx_device *dev);\n\tint (*remove)(struct cdx_device *dev);\n\tvoid (*shutdown)(struct cdx_device *dev);\n\tvoid (*reset_prepare)(struct cdx_device *dev);\n\tvoid (*reset_done)(struct cdx_device *dev);\n\tbool driver_managed_dma;\n};\n\n#define to_cdx_driver(_drv) \\\n\tcontainer_of(_drv, struct cdx_driver, driver)\n\n \n#define cdx_driver_register(drv) \\\n\t__cdx_driver_register(drv, THIS_MODULE)\n\n \nint __must_check __cdx_driver_register(struct cdx_driver *cdx_driver,\n\t\t\t\t       struct module *owner);\n\n \nvoid cdx_driver_unregister(struct cdx_driver *cdx_driver);\n\nextern struct bus_type cdx_bus_type;\n\n \nint cdx_dev_reset(struct device *dev);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}