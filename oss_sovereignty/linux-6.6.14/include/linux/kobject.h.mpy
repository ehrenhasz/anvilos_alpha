{
  "module_name": "kobject.h",
  "hash_id": "79b3f98423042af674c675d68c0606b595f464db055ce498151dbe1fa496607a",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/kobject.h",
  "human_readable_source": "\n \n\n#ifndef _KOBJECT_H_\n#define _KOBJECT_H_\n\n#include <linux/types.h>\n#include <linux/list.h>\n#include <linux/sysfs.h>\n#include <linux/compiler.h>\n#include <linux/container_of.h>\n#include <linux/spinlock.h>\n#include <linux/kref.h>\n#include <linux/kobject_ns.h>\n#include <linux/wait.h>\n#include <linux/atomic.h>\n#include <linux/workqueue.h>\n#include <linux/uidgid.h>\n\n#define UEVENT_HELPER_PATH_LEN\t\t256\n#define UEVENT_NUM_ENVP\t\t\t64\t \n#define UEVENT_BUFFER_SIZE\t\t2048\t \n\n#ifdef CONFIG_UEVENT_HELPER\n \nextern char uevent_helper[];\n#endif\n\n \nextern u64 uevent_seqnum;\n\n \nenum kobject_action {\n\tKOBJ_ADD,\n\tKOBJ_REMOVE,\n\tKOBJ_CHANGE,\n\tKOBJ_MOVE,\n\tKOBJ_ONLINE,\n\tKOBJ_OFFLINE,\n\tKOBJ_BIND,\n\tKOBJ_UNBIND,\n};\n\nstruct kobject {\n\tconst char\t\t*name;\n\tstruct list_head\tentry;\n\tstruct kobject\t\t*parent;\n\tstruct kset\t\t*kset;\n\tconst struct kobj_type\t*ktype;\n\tstruct kernfs_node\t*sd;  \n\tstruct kref\t\tkref;\n\n\tunsigned int state_initialized:1;\n\tunsigned int state_in_sysfs:1;\n\tunsigned int state_add_uevent_sent:1;\n\tunsigned int state_remove_uevent_sent:1;\n\tunsigned int uevent_suppress:1;\n\n#ifdef CONFIG_DEBUG_KOBJECT_RELEASE\n\tstruct delayed_work\trelease;\n#endif\n};\n\n__printf(2, 3) int kobject_set_name(struct kobject *kobj, const char *name, ...);\n__printf(2, 0) int kobject_set_name_vargs(struct kobject *kobj, const char *fmt, va_list vargs);\n\nstatic inline const char *kobject_name(const struct kobject *kobj)\n{\n\treturn kobj->name;\n}\n\nvoid kobject_init(struct kobject *kobj, const struct kobj_type *ktype);\n__printf(3, 4) __must_check int kobject_add(struct kobject *kobj,\n\t\t\t\t\t    struct kobject *parent,\n\t\t\t\t\t    const char *fmt, ...);\n__printf(4, 5) __must_check int kobject_init_and_add(struct kobject *kobj,\n\t\t\t\t\t\t     const struct kobj_type *ktype,\n\t\t\t\t\t\t     struct kobject *parent,\n\t\t\t\t\t\t     const char *fmt, ...);\n\nvoid kobject_del(struct kobject *kobj);\n\nstruct kobject * __must_check kobject_create_and_add(const char *name, struct kobject *parent);\n\nint __must_check kobject_rename(struct kobject *, const char *new_name);\nint __must_check kobject_move(struct kobject *, struct kobject *);\n\nstruct kobject *kobject_get(struct kobject *kobj);\nstruct kobject * __must_check kobject_get_unless_zero(struct kobject *kobj);\nvoid kobject_put(struct kobject *kobj);\n\nconst void *kobject_namespace(const struct kobject *kobj);\nvoid kobject_get_ownership(const struct kobject *kobj, kuid_t *uid, kgid_t *gid);\nchar *kobject_get_path(const struct kobject *kobj, gfp_t flag);\n\nstruct kobj_type {\n\tvoid (*release)(struct kobject *kobj);\n\tconst struct sysfs_ops *sysfs_ops;\n\tconst struct attribute_group **default_groups;\n\tconst struct kobj_ns_type_operations *(*child_ns_type)(const struct kobject *kobj);\n\tconst void *(*namespace)(const struct kobject *kobj);\n\tvoid (*get_ownership)(const struct kobject *kobj, kuid_t *uid, kgid_t *gid);\n};\n\nstruct kobj_uevent_env {\n\tchar *argv[3];\n\tchar *envp[UEVENT_NUM_ENVP];\n\tint envp_idx;\n\tchar buf[UEVENT_BUFFER_SIZE];\n\tint buflen;\n};\n\nstruct kset_uevent_ops {\n\tint (* const filter)(const struct kobject *kobj);\n\tconst char *(* const name)(const struct kobject *kobj);\n\tint (* const uevent)(const struct kobject *kobj, struct kobj_uevent_env *env);\n};\n\nstruct kobj_attribute {\n\tstruct attribute attr;\n\tssize_t (*show)(struct kobject *kobj, struct kobj_attribute *attr,\n\t\t\tchar *buf);\n\tssize_t (*store)(struct kobject *kobj, struct kobj_attribute *attr,\n\t\t\t const char *buf, size_t count);\n};\n\nextern const struct sysfs_ops kobj_sysfs_ops;\n\nstruct sock;\n\n \nstruct kset {\n\tstruct list_head list;\n\tspinlock_t list_lock;\n\tstruct kobject kobj;\n\tconst struct kset_uevent_ops *uevent_ops;\n} __randomize_layout;\n\nvoid kset_init(struct kset *kset);\nint __must_check kset_register(struct kset *kset);\nvoid kset_unregister(struct kset *kset);\nstruct kset * __must_check kset_create_and_add(const char *name, const struct kset_uevent_ops *u,\n\t\t\t\t\t       struct kobject *parent_kobj);\n\nstatic inline struct kset *to_kset(struct kobject *kobj)\n{\n\treturn kobj ? container_of(kobj, struct kset, kobj) : NULL;\n}\n\nstatic inline struct kset *kset_get(struct kset *k)\n{\n\treturn k ? to_kset(kobject_get(&k->kobj)) : NULL;\n}\n\nstatic inline void kset_put(struct kset *k)\n{\n\tkobject_put(&k->kobj);\n}\n\nstatic inline const struct kobj_type *get_ktype(const struct kobject *kobj)\n{\n\treturn kobj->ktype;\n}\n\nstruct kobject *kset_find_obj(struct kset *, const char *);\n\n \nextern struct kobject *kernel_kobj;\n \nextern struct kobject *mm_kobj;\n \nextern struct kobject *hypervisor_kobj;\n \nextern struct kobject *power_kobj;\n \nextern struct kobject *firmware_kobj;\n\nint kobject_uevent(struct kobject *kobj, enum kobject_action action);\nint kobject_uevent_env(struct kobject *kobj, enum kobject_action action,\n\t\t\tchar *envp[]);\nint kobject_synth_uevent(struct kobject *kobj, const char *buf, size_t count);\n\n__printf(2, 3)\nint add_uevent_var(struct kobj_uevent_env *env, const char *format, ...);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}