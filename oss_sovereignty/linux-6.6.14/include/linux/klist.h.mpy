{
  "module_name": "klist.h",
  "hash_id": "1e8895e71bec056be03ae649cc0bc2aecce7dfe5e006466fd5e05e4dcc42edcc",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/klist.h",
  "human_readable_source": " \n \n\n#ifndef _LINUX_KLIST_H\n#define _LINUX_KLIST_H\n\n#include <linux/spinlock.h>\n#include <linux/kref.h>\n#include <linux/list.h>\n\nstruct klist_node;\nstruct klist {\n\tspinlock_t\t\tk_lock;\n\tstruct list_head\tk_list;\n\tvoid\t\t\t(*get)(struct klist_node *);\n\tvoid\t\t\t(*put)(struct klist_node *);\n} __attribute__ ((aligned (sizeof(void *))));\n\n#define KLIST_INIT(_name, _get, _put)\t\t\t\t\t\\\n\t{ .k_lock\t= __SPIN_LOCK_UNLOCKED(_name.k_lock),\t\t\\\n\t  .k_list\t= LIST_HEAD_INIT(_name.k_list),\t\t\t\\\n\t  .get\t\t= _get,\t\t\t\t\t\t\\\n\t  .put\t\t= _put, }\n\n#define DEFINE_KLIST(_name, _get, _put)\t\t\t\t\t\\\n\tstruct klist _name = KLIST_INIT(_name, _get, _put)\n\nextern void klist_init(struct klist *k, void (*get)(struct klist_node *),\n\t\t       void (*put)(struct klist_node *));\n\nstruct klist_node {\n\tvoid\t\t\t*n_klist;\t \n\tstruct list_head\tn_node;\n\tstruct kref\t\tn_ref;\n};\n\nextern void klist_add_tail(struct klist_node *n, struct klist *k);\nextern void klist_add_head(struct klist_node *n, struct klist *k);\nextern void klist_add_behind(struct klist_node *n, struct klist_node *pos);\nextern void klist_add_before(struct klist_node *n, struct klist_node *pos);\n\nextern void klist_del(struct klist_node *n);\nextern void klist_remove(struct klist_node *n);\n\nextern int klist_node_attached(struct klist_node *n);\n\n\nstruct klist_iter {\n\tstruct klist\t\t*i_klist;\n\tstruct klist_node\t*i_cur;\n};\n\n\nextern void klist_iter_init(struct klist *k, struct klist_iter *i);\nextern void klist_iter_init_node(struct klist *k, struct klist_iter *i,\n\t\t\t\t struct klist_node *n);\nextern void klist_iter_exit(struct klist_iter *i);\nextern struct klist_node *klist_prev(struct klist_iter *i);\nextern struct klist_node *klist_next(struct klist_iter *i);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}