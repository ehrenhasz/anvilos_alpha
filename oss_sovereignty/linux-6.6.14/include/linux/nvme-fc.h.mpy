{
  "module_name": "nvme-fc.h",
  "hash_id": "58ff4be654ce5d169f7f697bf5c96c4b2c1188a653ee84609738e8f00ef699c6",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/nvme-fc.h",
  "human_readable_source": " \n \n\n \n\n#ifndef _NVME_FC_H\n#define _NVME_FC_H 1\n\n#include <uapi/scsi/fc/fc_fs.h>\n\n#define NVME_CMD_FORMAT_ID\t\t0xFD\n#define NVME_CMD_FC_ID\t\t\tFC_TYPE_NVME\n\n \nenum {\n\tFCNVME_CMD_FLAGS_DIRMASK\t= 0x03,\n\tFCNVME_CMD_FLAGS_WRITE\t\t= (1 << 0),\n\tFCNVME_CMD_FLAGS_READ\t\t= (1 << 1),\n\n\tFCNVME_CMD_FLAGS_PICWP\t\t= (1 << 2),\n};\n\nenum {\n\tFCNVME_CMD_CAT_MASK\t\t= 0x0F,\n\tFCNVME_CMD_CAT_ADMINQ\t\t= 0x01,\n\tFCNVME_CMD_CAT_CSSMASK\t\t= 0x07,\n\tFCNVME_CMD_CAT_CSSFLAG\t\t= 0x08,\n};\n\nstatic inline __u8 fccmnd_set_cat_admin(__u8 rsv_cat)\n{\n\treturn (rsv_cat & ~FCNVME_CMD_CAT_MASK) | FCNVME_CMD_CAT_ADMINQ;\n}\n\nstatic inline __u8 fccmnd_set_cat_css(__u8 rsv_cat, __u8 css)\n{\n\treturn (rsv_cat & ~FCNVME_CMD_CAT_MASK) | FCNVME_CMD_CAT_CSSFLAG |\n\t\t(css & FCNVME_CMD_CAT_CSSMASK);\n}\n\nstruct nvme_fc_cmd_iu {\n\t__u8\t\t\tformat_id;\n\t__u8\t\t\tfc_id;\n\t__be16\t\t\tiu_len;\n\t__u8\t\t\trsvd4[2];\n\t__u8\t\t\trsv_cat;\n\t__u8\t\t\tflags;\n\t__be64\t\t\tconnection_id;\n\t__be32\t\t\tcsn;\n\t__be32\t\t\tdata_len;\n\tstruct nvme_command\tsqe;\n\t__u8\t\t\tdps;\n\t__u8\t\t\tlbads;\n\t__be16\t\t\tms;\n\t__be32\t\t\trsvd92;\n};\n\n#define NVME_FC_SIZEOF_ZEROS_RSP\t12\n\nenum {\n\tFCNVME_SC_SUCCESS\t\t= 0,\n\tFCNVME_SC_INVALID_FIELD\t\t= 1,\n\t \n\tFCNVME_SC_ILL_CONN_PARAMS\t= 3,\n};\n\nstruct nvme_fc_ersp_iu {\n\t__u8\t\t\tersp_result;\n\t__u8\t\t\trsvd1;\n\t__be16\t\t\tiu_len;\n\t__be32\t\t\trsn;\n\t__be32\t\t\txfrd_len;\n\t__be32\t\t\trsvd12;\n\tstruct nvme_completion\tcqe;\n\t \n};\n\n\n#define FCNVME_NVME_SR_OPCODE\t\t0x01\n#define FCNVME_NVME_SR_RSP_OPCODE\t0x02\n\nstruct nvme_fc_nvme_sr_iu {\n\t__u8\t\t\tfc_id;\n\t__u8\t\t\topcode;\n\t__u8\t\t\trsvd2;\n\t__u8\t\t\tretry_rctl;\n\t__be32\t\t\trsvd4;\n};\n\n\nenum {\n\tFCNVME_SRSTAT_ACC\t\t= 0x0,\n\t \n\t \n\tFCNVME_SRSTAT_LOGICAL_ERR\t= 0x3,\n\tFCNVME_SRSTAT_INV_QUALIF\t= 0x4,\n\tFCNVME_SRSTAT_UNABL2PERFORM\t= 0x9,\n};\n\nstruct nvme_fc_nvme_sr_rsp_iu {\n\t__u8\t\t\tfc_id;\n\t__u8\t\t\topcode;\n\t__u8\t\t\trsvd2;\n\t__u8\t\t\tstatus;\n\t__be32\t\t\trsvd4;\n};\n\n\n \nenum {\n\tFCNVME_LS_RSVD\t\t\t= 0,\n\tFCNVME_LS_RJT\t\t\t= 1,\n\tFCNVME_LS_ACC\t\t\t= 2,\n\tFCNVME_LS_CREATE_ASSOCIATION\t= 3,\t \n\tFCNVME_LS_CREATE_CONNECTION\t= 4,\t \n\tFCNVME_LS_DISCONNECT_ASSOC\t= 5,\t \n\tFCNVME_LS_DISCONNECT_CONN\t= 6,\t \n};\n\n \nenum {\n\tFCNVME_LSDESC_RSVD\t\t= 0x0,\n\tFCNVME_LSDESC_RQST\t\t= 0x1,\n\tFCNVME_LSDESC_RJT\t\t= 0x2,\n\tFCNVME_LSDESC_CREATE_ASSOC_CMD\t= 0x3,\n\tFCNVME_LSDESC_CREATE_CONN_CMD\t= 0x4,\n\tFCNVME_LSDESC_DISCONN_CMD\t= 0x5,\n\tFCNVME_LSDESC_CONN_ID\t\t= 0x6,\n\tFCNVME_LSDESC_ASSOC_ID\t\t= 0x7,\n};\n\n\n \n\n\n \nstatic inline __be32 fcnvme_lsdesc_len(size_t sz)\n{\n\treturn cpu_to_be32(sz - (2 * sizeof(u32)));\n}\n\nstruct fcnvme_ls_rqst_w0 {\n\tu8\tls_cmd;\t\t\t \n\tu8\tzeros[3];\n};\n\n \nstruct fcnvme_lsdesc_rqst {\n\t__be32\tdesc_tag;\t\t \n\t__be32\tdesc_len;\n\tstruct fcnvme_ls_rqst_w0\tw0;\n\t__be32\trsvd12;\n};\n\n \nenum fcnvme_ls_rjt_reason {\n\tFCNVME_RJT_RC_NONE\t\t= 0,\n\t \n\n\tFCNVME_RJT_RC_INVAL\t\t= 0x01,\n\t \n\n\tFCNVME_RJT_RC_LOGIC\t\t= 0x03,\n\t \n\n\tFCNVME_RJT_RC_UNAB\t\t= 0x09,\n\t \n\n\tFCNVME_RJT_RC_UNSUP\t\t= 0x0b,\n\t \n\n\tFCNVME_RJT_RC_INV_ASSOC\t\t= 0x40,\n\t \n\n\tFCNVME_RJT_RC_INV_CONN\t\t= 0x41,\n\t \n\n\tFCNVME_RJT_RC_INV_PARAM\t\t= 0x42,\n\t \n\n\tFCNVME_RJT_RC_INSUF_RES\t\t= 0x43,\n\t \n\n\tFCNVME_RJT_RC_VENDOR\t\t= 0xff,\n\t \n};\n\n \nenum fcnvme_ls_rjt_explan {\n\tFCNVME_RJT_EXP_NONE\t\t= 0x00,\n\t \n\n\tFCNVME_RJT_EXP_OXID_RXID\t= 0x17,\n\t \n\n\tFCNVME_RJT_EXP_UNAB_DATA\t= 0x2a,\n\t \n\n\tFCNVME_RJT_EXP_INV_LEN\t\t= 0x2d,\n\t \n\n\tFCNVME_RJT_EXP_INV_ERSP_RAT\t= 0x40,\n\t \n\n\tFCNVME_RJT_EXP_INV_CTLR_ID\t= 0x41,\n\t \n\n\tFCNVME_RJT_EXP_INV_QUEUE_ID\t= 0x42,\n\t \n\n\tFCNVME_RJT_EXP_INV_SQSIZE\t= 0x43,\n\t \n\n\tFCNVME_RJT_EXP_INV_HOSTID\t= 0x44,\n\t \n\n\tFCNVME_RJT_EXP_INV_HOSTNQN\t= 0x45,\n\t \n\n\tFCNVME_RJT_EXP_INV_SUBNQN\t= 0x46,\n\t \n};\n\n \nstruct fcnvme_lsdesc_rjt {\n\t__be32\tdesc_tag;\t\t \n\t__be32\tdesc_len;\n\tu8\trsvd8;\n\n\t \n\tu8\treason_code;\t\t \n\tu8\treason_explanation;\t \n\n\tu8\tvendor;\n\t__be32\trsvd12;\n};\n\n\n#define FCNVME_ASSOC_HOSTNQN_LEN\t256\n#define FCNVME_ASSOC_SUBNQN_LEN\t\t256\n\n \nstruct fcnvme_lsdesc_cr_assoc_cmd {\n\t__be32\tdesc_tag;\t\t \n\t__be32\tdesc_len;\n\t__be16\tersp_ratio;\n\t__be16\trsvd10;\n\t__be32\trsvd12[9];\n\t__be16\tcntlid;\n\t__be16\tsqsize;\n\t__be32\trsvd52;\n\tuuid_t\thostid;\n\tu8\thostnqn[FCNVME_ASSOC_HOSTNQN_LEN];\n\tu8\tsubnqn[FCNVME_ASSOC_SUBNQN_LEN];\n\t__be32\trsvd584[108];\t\t \n};\n\n#define FCNVME_LSDESC_CRA_CMD_DESC_MINLEN\t\\\n\t\toffsetof(struct fcnvme_lsdesc_cr_assoc_cmd, rsvd584)\n\n#define FCNVME_LSDESC_CRA_CMD_DESC_MIN_DESCLEN\t\\\n\t\t(FCNVME_LSDESC_CRA_CMD_DESC_MINLEN - \\\n\t\t offsetof(struct fcnvme_lsdesc_cr_assoc_cmd, ersp_ratio))\n\n\n\n \nstruct fcnvme_lsdesc_cr_conn_cmd {\n\t__be32\tdesc_tag;\t\t \n\t__be32\tdesc_len;\n\t__be16\tersp_ratio;\n\t__be16\trsvd10;\n\t__be32\trsvd12[9];\n\t__be16\tqid;\n\t__be16\tsqsize;\n\t__be32  rsvd52;\n};\n\n \nstruct fcnvme_lsdesc_disconn_cmd {\n\t__be32\tdesc_tag;\t\t \n\t__be32\tdesc_len;\n\t__be32\trsvd8[4];\n};\n\n \nstruct fcnvme_lsdesc_conn_id {\n\t__be32\tdesc_tag;\t\t \n\t__be32\tdesc_len;\n\t__be64\tconnection_id;\n};\n\n \nstruct fcnvme_lsdesc_assoc_id {\n\t__be32\tdesc_tag;\t\t \n\t__be32\tdesc_len;\n\t__be64\tassociation_id;\n};\n\n \nenum {\n\tFCNVME_RS_RCTL_CMND\t\t= 0x6,\n\tFCNVME_RS_RCTL_DATA\t\t= 0x1,\n\tFCNVME_RS_RCTL_CONF\t\t= 0x3,\n\tFCNVME_RS_RCTL_SR\t\t= 0x9,\n\tFCNVME_RS_RCTL_XFER_RDY\t\t= 0x5,\n\tFCNVME_RS_RCTL_RSP\t\t= 0x7,\n\tFCNVME_RS_RCTL_ERSP\t\t= 0x8,\n\tFCNVME_RS_RCTL_SR_RSP\t\t= 0xA,\n};\n\n\n \n\n\n \nstruct fcnvme_ls_rjt {\n\tstruct fcnvme_ls_rqst_w0\t\tw0;\n\t__be32\t\t\t\t\tdesc_list_len;\n\tstruct fcnvme_lsdesc_rqst\t\trqst;\n\tstruct fcnvme_lsdesc_rjt\t\trjt;\n};\n\n \nstruct fcnvme_ls_acc_hdr {\n\tstruct fcnvme_ls_rqst_w0\t\tw0;\n\t__be32\t\t\t\t\tdesc_list_len;\n\tstruct fcnvme_lsdesc_rqst\t\trqst;\n\t \n};\n\n \nstruct fcnvme_ls_cr_assoc_rqst {\n\tstruct fcnvme_ls_rqst_w0\t\tw0;\n\t__be32\t\t\t\t\tdesc_list_len;\n\tstruct fcnvme_lsdesc_cr_assoc_cmd\tassoc_cmd;\n};\n\n#define FCNVME_LSDESC_CRA_RQST_MINLEN\t\\\n\t\t(offsetof(struct fcnvme_ls_cr_assoc_rqst, assoc_cmd) + \\\n\t\t\tFCNVME_LSDESC_CRA_CMD_DESC_MINLEN)\n\n#define FCNVME_LSDESC_CRA_RQST_MIN_LISTLEN\t\\\n\t\tFCNVME_LSDESC_CRA_CMD_DESC_MINLEN\n\n\nstruct fcnvme_ls_cr_assoc_acc {\n\tstruct fcnvme_ls_acc_hdr\t\thdr;\n\tstruct fcnvme_lsdesc_assoc_id\t\tassocid;\n\tstruct fcnvme_lsdesc_conn_id\t\tconnectid;\n};\n\n\n \nstruct fcnvme_ls_cr_conn_rqst {\n\tstruct fcnvme_ls_rqst_w0\t\tw0;\n\t__be32\t\t\t\t\tdesc_list_len;\n\tstruct fcnvme_lsdesc_assoc_id\t\tassocid;\n\tstruct fcnvme_lsdesc_cr_conn_cmd\tconnect_cmd;\n};\n\nstruct fcnvme_ls_cr_conn_acc {\n\tstruct fcnvme_ls_acc_hdr\t\thdr;\n\tstruct fcnvme_lsdesc_conn_id\t\tconnectid;\n};\n\n \nstruct fcnvme_ls_disconnect_assoc_rqst {\n\tstruct fcnvme_ls_rqst_w0\t\tw0;\n\t__be32\t\t\t\t\tdesc_list_len;\n\tstruct fcnvme_lsdesc_assoc_id\t\tassocid;\n\tstruct fcnvme_lsdesc_disconn_cmd\tdiscon_cmd;\n};\n\nstruct fcnvme_ls_disconnect_assoc_acc {\n\tstruct fcnvme_ls_acc_hdr\t\thdr;\n};\n\n\n \nstruct fcnvme_ls_disconnect_conn_rqst {\n\tstruct fcnvme_ls_rqst_w0\t\tw0;\n\t__be32\t\t\t\t\tdesc_list_len;\n\tstruct fcnvme_lsdesc_assoc_id\t\tassocid;\n\tstruct fcnvme_lsdesc_conn_id\t\tconnectid;\n};\n\nstruct fcnvme_ls_disconnect_conn_acc {\n\tstruct fcnvme_ls_acc_hdr\t\thdr;\n};\n\n\n \n#define FC_TWO_TIMES_R_A_TOV\t\t(2 * (FC_DEF_R_A_TOV / 1000))\n#define NVME_FC_LS_TIMEOUT_SEC\t\tFC_TWO_TIMES_R_A_TOV\n#define NVME_FC_TGTOP_TIMEOUT_SEC\tFC_TWO_TIMES_R_A_TOV\n\n \n#define NVME_FC_TRADDR_NNLEN\t\t3\t \n#define NVME_FC_TRADDR_OXNNLEN\t\t5\t \n#define NVME_FC_TRADDR_HEXNAMELEN\t16\n#define NVME_FC_TRADDR_MINLENGTH\t\\\n\t\t(2 * (NVME_FC_TRADDR_NNLEN + NVME_FC_TRADDR_HEXNAMELEN) + 1)\n#define NVME_FC_TRADDR_MAXLENGTH\t\\\n\t\t(2 * (NVME_FC_TRADDR_OXNNLEN + NVME_FC_TRADDR_HEXNAMELEN) + 1)\n#define NVME_FC_TRADDR_MIN_PN_OFFSET\t\\\n\t\t(NVME_FC_TRADDR_NNLEN + NVME_FC_TRADDR_HEXNAMELEN + 1)\n#define NVME_FC_TRADDR_MAX_PN_OFFSET\t\\\n\t\t(NVME_FC_TRADDR_OXNNLEN + NVME_FC_TRADDR_HEXNAMELEN + 1)\n\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}