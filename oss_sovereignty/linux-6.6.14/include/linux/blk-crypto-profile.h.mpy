{
  "module_name": "blk-crypto-profile.h",
  "hash_id": "b24bc9705125d4040b0c9869cc2349fc9d0a3bc214c9fd2fa354ed2ff3dc4a86",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/blk-crypto-profile.h",
  "human_readable_source": " \n \n\n#ifndef __LINUX_BLK_CRYPTO_PROFILE_H\n#define __LINUX_BLK_CRYPTO_PROFILE_H\n\n#include <linux/bio.h>\n#include <linux/blk-crypto.h>\n\nstruct blk_crypto_profile;\n\n \nstruct blk_crypto_ll_ops {\n\n\t \n\tint (*keyslot_program)(struct blk_crypto_profile *profile,\n\t\t\t       const struct blk_crypto_key *key,\n\t\t\t       unsigned int slot);\n\n\t \n\tint (*keyslot_evict)(struct blk_crypto_profile *profile,\n\t\t\t     const struct blk_crypto_key *key,\n\t\t\t     unsigned int slot);\n};\n\n \nstruct blk_crypto_profile {\n\n\t \n\n\t \n\tstruct blk_crypto_ll_ops ll_ops;\n\n\t \n\tunsigned int max_dun_bytes_supported;\n\n\t \n\tunsigned int modes_supported[BLK_ENCRYPTION_MODE_MAX];\n\n\t \n\tstruct device *dev;\n\n\t \n\n\t \n\tunsigned int num_slots;\n\n\t \n\tstruct rw_semaphore lock;\n\tstruct lock_class_key lockdep_key;\n\n\t \n\twait_queue_head_t idle_slots_wait_queue;\n\tstruct list_head idle_slots;\n\tspinlock_t idle_slots_lock;\n\n\t \n\tstruct hlist_head *slot_hashtable;\n\tunsigned int log_slot_ht_size;\n\n\t \n\tstruct blk_crypto_keyslot *slots;\n};\n\nint blk_crypto_profile_init(struct blk_crypto_profile *profile,\n\t\t\t    unsigned int num_slots);\n\nint devm_blk_crypto_profile_init(struct device *dev,\n\t\t\t\t struct blk_crypto_profile *profile,\n\t\t\t\t unsigned int num_slots);\n\nunsigned int blk_crypto_keyslot_index(struct blk_crypto_keyslot *slot);\n\nvoid blk_crypto_reprogram_all_keys(struct blk_crypto_profile *profile);\n\nvoid blk_crypto_profile_destroy(struct blk_crypto_profile *profile);\n\nvoid blk_crypto_intersect_capabilities(struct blk_crypto_profile *parent,\n\t\t\t\t       const struct blk_crypto_profile *child);\n\nbool blk_crypto_has_capabilities(const struct blk_crypto_profile *target,\n\t\t\t\t const struct blk_crypto_profile *reference);\n\nvoid blk_crypto_update_capabilities(struct blk_crypto_profile *dst,\n\t\t\t\t    const struct blk_crypto_profile *src);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}