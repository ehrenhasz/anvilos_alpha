{
  "module_name": "matrix_keypad.h",
  "hash_id": "2dc3e18dc58a3d23d0a533b21d96a7242da3d20c556df38c37c6681c30898050",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/input/matrix_keypad.h",
  "human_readable_source": " \n#ifndef _MATRIX_KEYPAD_H\n#define _MATRIX_KEYPAD_H\n\n#include <linux/types.h>\n\nstruct device;\nstruct input_dev;\n\n#define MATRIX_MAX_ROWS\t\t32\n#define MATRIX_MAX_COLS\t\t32\n\n#define KEY(row, col, val)\t((((row) & (MATRIX_MAX_ROWS - 1)) << 24) |\\\n\t\t\t\t (((col) & (MATRIX_MAX_COLS - 1)) << 16) |\\\n\t\t\t\t ((val) & 0xffff))\n\n#define KEY_ROW(k)\t\t(((k) >> 24) & 0xff)\n#define KEY_COL(k)\t\t(((k) >> 16) & 0xff)\n#define KEY_VAL(k)\t\t((k) & 0xffff)\n\n#define MATRIX_SCAN_CODE(row, col, row_shift)\t(((row) << (row_shift)) + (col))\n\n \nstruct matrix_keymap_data {\n\tconst uint32_t *keymap;\n\tunsigned int\tkeymap_size;\n};\n\n \nstruct matrix_keypad_platform_data {\n\tconst struct matrix_keymap_data *keymap_data;\n\n\tconst unsigned int *row_gpios;\n\tconst unsigned int *col_gpios;\n\n\tunsigned int\tnum_row_gpios;\n\tunsigned int\tnum_col_gpios;\n\n\tunsigned int\tcol_scan_delay_us;\n\n\t \n\tunsigned int\tdebounce_ms;\n\n\tunsigned int\tclustered_irq;\n\tunsigned int\tclustered_irq_flags;\n\n\tbool\t\tactive_low;\n\tbool\t\twakeup;\n\tbool\t\tno_autorepeat;\n\tbool\t\tdrive_inactive_cols;\n};\n\nint matrix_keypad_build_keymap(const struct matrix_keymap_data *keymap_data,\n\t\t\t       const char *keymap_name,\n\t\t\t       unsigned int rows, unsigned int cols,\n\t\t\t       unsigned short *keymap,\n\t\t\t       struct input_dev *input_dev);\nint matrix_keypad_parse_properties(struct device *dev,\n\t\t\t\t   unsigned int *rows, unsigned int *cols);\n\n#define matrix_keypad_parse_of_params matrix_keypad_parse_properties\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}