{
  "module_name": "port.h",
  "hash_id": "bd77231338cf90d0271db4866bfadf01b287e11ac827fc3bb3fba7d71948102d",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/mlx5/port.h",
  "human_readable_source": " \n\n#ifndef __MLX5_PORT_H__\n#define __MLX5_PORT_H__\n\n#include <linux/mlx5/driver.h>\n\nenum mlx5_beacon_duration {\n\tMLX5_BEACON_DURATION_OFF = 0x0,\n\tMLX5_BEACON_DURATION_INF = 0xffff,\n};\n\nenum mlx5_module_id {\n\tMLX5_MODULE_ID_SFP              = 0x3,\n\tMLX5_MODULE_ID_QSFP             = 0xC,\n\tMLX5_MODULE_ID_QSFP_PLUS        = 0xD,\n\tMLX5_MODULE_ID_QSFP28           = 0x11,\n\tMLX5_MODULE_ID_DSFP\t\t= 0x1B,\n};\n\nenum mlx5_an_status {\n\tMLX5_AN_UNAVAILABLE = 0,\n\tMLX5_AN_COMPLETE    = 1,\n\tMLX5_AN_FAILED      = 2,\n\tMLX5_AN_LINK_UP     = 3,\n\tMLX5_AN_LINK_DOWN   = 4,\n};\n\n#define MLX5_I2C_ADDR_LOW\t\t0x50\n#define MLX5_I2C_ADDR_HIGH\t\t0x51\n#define MLX5_EEPROM_PAGE_LENGTH\t\t256\n#define MLX5_EEPROM_HIGH_PAGE_LENGTH\t128\n\nstruct mlx5_module_eeprom_query_params {\n\tu16 size;\n\tu16 offset;\n\tu16 i2c_address;\n\tu32 page;\n\tu32 bank;\n\tu32 module_number;\n};\n\nenum mlx5e_link_mode {\n\tMLX5E_1000BASE_CX_SGMII\t = 0,\n\tMLX5E_1000BASE_KX\t = 1,\n\tMLX5E_10GBASE_CX4\t = 2,\n\tMLX5E_10GBASE_KX4\t = 3,\n\tMLX5E_10GBASE_KR\t = 4,\n\tMLX5E_20GBASE_KR2\t = 5,\n\tMLX5E_40GBASE_CR4\t = 6,\n\tMLX5E_40GBASE_KR4\t = 7,\n\tMLX5E_56GBASE_R4\t = 8,\n\tMLX5E_10GBASE_CR\t = 12,\n\tMLX5E_10GBASE_SR\t = 13,\n\tMLX5E_10GBASE_ER\t = 14,\n\tMLX5E_40GBASE_SR4\t = 15,\n\tMLX5E_40GBASE_LR4\t = 16,\n\tMLX5E_50GBASE_SR2\t = 18,\n\tMLX5E_100GBASE_CR4\t = 20,\n\tMLX5E_100GBASE_SR4\t = 21,\n\tMLX5E_100GBASE_KR4\t = 22,\n\tMLX5E_100GBASE_LR4\t = 23,\n\tMLX5E_100BASE_TX\t = 24,\n\tMLX5E_1000BASE_T\t = 25,\n\tMLX5E_10GBASE_T\t\t = 26,\n\tMLX5E_25GBASE_CR\t = 27,\n\tMLX5E_25GBASE_KR\t = 28,\n\tMLX5E_25GBASE_SR\t = 29,\n\tMLX5E_50GBASE_CR2\t = 30,\n\tMLX5E_50GBASE_KR2\t = 31,\n\tMLX5E_LINK_MODES_NUMBER,\n};\n\nenum mlx5e_ext_link_mode {\n\tMLX5E_SGMII_100M\t\t\t= 0,\n\tMLX5E_1000BASE_X_SGMII\t\t\t= 1,\n\tMLX5E_5GBASE_R\t\t\t\t= 3,\n\tMLX5E_10GBASE_XFI_XAUI_1\t\t= 4,\n\tMLX5E_40GBASE_XLAUI_4_XLPPI_4\t\t= 5,\n\tMLX5E_25GAUI_1_25GBASE_CR_KR\t\t= 6,\n\tMLX5E_50GAUI_2_LAUI_2_50GBASE_CR2_KR2\t= 7,\n\tMLX5E_50GAUI_1_LAUI_1_50GBASE_CR_KR\t= 8,\n\tMLX5E_CAUI_4_100GBASE_CR4_KR4\t\t= 9,\n\tMLX5E_100GAUI_2_100GBASE_CR2_KR2\t= 10,\n\tMLX5E_100GAUI_1_100GBASE_CR_KR\t\t= 11,\n\tMLX5E_200GAUI_4_200GBASE_CR4_KR4\t= 12,\n\tMLX5E_200GAUI_2_200GBASE_CR2_KR2\t= 13,\n\tMLX5E_400GAUI_8\t\t\t\t= 15,\n\tMLX5E_400GAUI_4_400GBASE_CR4_KR4\t= 16,\n\tMLX5E_EXT_LINK_MODES_NUMBER,\n};\n\nenum mlx5e_connector_type {\n\tMLX5E_PORT_UNKNOWN\t= 0,\n\tMLX5E_PORT_NONE\t\t\t= 1,\n\tMLX5E_PORT_TP\t\t\t= 2,\n\tMLX5E_PORT_AUI\t\t\t= 3,\n\tMLX5E_PORT_BNC\t\t\t= 4,\n\tMLX5E_PORT_MII\t\t\t= 5,\n\tMLX5E_PORT_FIBRE\t\t= 6,\n\tMLX5E_PORT_DA\t\t\t= 7,\n\tMLX5E_PORT_OTHER\t\t= 8,\n\tMLX5E_CONNECTOR_TYPE_NUMBER,\n};\n\nenum mlx5_ptys_width {\n\tMLX5_PTYS_WIDTH_1X\t= 1 << 0,\n\tMLX5_PTYS_WIDTH_2X\t= 1 << 1,\n\tMLX5_PTYS_WIDTH_4X\t= 1 << 2,\n\tMLX5_PTYS_WIDTH_8X\t= 1 << 3,\n\tMLX5_PTYS_WIDTH_12X\t= 1 << 4,\n};\n\nstruct mlx5_port_eth_proto {\n\tu32 cap;\n\tu32 admin;\n\tu32 oper;\n};\n\n#define MLX5E_PROT_MASK(link_mode) (1U << link_mode)\n#define MLX5_GET_ETH_PROTO(reg, out, ext, field)\t\\\n\t(ext ? MLX5_GET(reg, out, ext_##field) :\t\\\n\tMLX5_GET(reg, out, field))\n\nint mlx5_set_port_caps(struct mlx5_core_dev *dev, u8 port_num, u32 caps);\nint mlx5_query_port_ptys(struct mlx5_core_dev *dev, u32 *ptys,\n\t\t\t int ptys_size, int proto_mask, u8 local_port);\n\nint mlx5_query_ib_port_oper(struct mlx5_core_dev *dev, u16 *link_width_oper,\n\t\t\t    u16 *proto_oper, u8 local_port);\nvoid mlx5_toggle_port_link(struct mlx5_core_dev *dev);\nint mlx5_set_port_admin_status(struct mlx5_core_dev *dev,\n\t\t\t       enum mlx5_port_status status);\nint mlx5_query_port_admin_status(struct mlx5_core_dev *dev,\n\t\t\t\t enum mlx5_port_status *status);\nint mlx5_set_port_beacon(struct mlx5_core_dev *dev, u16 beacon_duration);\n\nint mlx5_set_port_mtu(struct mlx5_core_dev *dev, u16 mtu, u8 port);\nvoid mlx5_query_port_max_mtu(struct mlx5_core_dev *dev, u16 *max_mtu, u8 port);\nvoid mlx5_query_port_oper_mtu(struct mlx5_core_dev *dev, u16 *oper_mtu,\n\t\t\t      u8 port);\n\nint mlx5_query_port_vl_hw_cap(struct mlx5_core_dev *dev,\n\t\t\t      u8 *vl_hw_cap, u8 local_port);\n\nint mlx5_set_port_pause(struct mlx5_core_dev *dev, u32 rx_pause, u32 tx_pause);\nint mlx5_query_port_pause(struct mlx5_core_dev *dev,\n\t\t\t  u32 *rx_pause, u32 *tx_pause);\n\nint mlx5_set_port_pfc(struct mlx5_core_dev *dev, u8 pfc_en_tx, u8 pfc_en_rx);\nint mlx5_query_port_pfc(struct mlx5_core_dev *dev, u8 *pfc_en_tx,\n\t\t\tu8 *pfc_en_rx);\n\nint mlx5_set_port_stall_watermark(struct mlx5_core_dev *dev,\n\t\t\t\t  u16 stall_critical_watermark,\n\t\t\t\t  u16 stall_minor_watermark);\nint mlx5_query_port_stall_watermark(struct mlx5_core_dev *dev,\n\t\t\t\t    u16 *stall_critical_watermark, u16 *stall_minor_watermark);\n\nint mlx5_max_tc(struct mlx5_core_dev *mdev);\n\nint mlx5_set_port_prio_tc(struct mlx5_core_dev *mdev, u8 *prio_tc);\nint mlx5_query_port_prio_tc(struct mlx5_core_dev *mdev,\n\t\t\t    u8 prio, u8 *tc);\nint mlx5_set_port_tc_group(struct mlx5_core_dev *mdev, u8 *tc_group);\nint mlx5_query_port_tc_group(struct mlx5_core_dev *mdev,\n\t\t\t     u8 tc, u8 *tc_group);\nint mlx5_set_port_tc_bw_alloc(struct mlx5_core_dev *mdev, u8 *tc_bw);\nint mlx5_query_port_tc_bw_alloc(struct mlx5_core_dev *mdev,\n\t\t\t\tu8 tc, u8 *bw_pct);\nint mlx5_modify_port_ets_rate_limit(struct mlx5_core_dev *mdev,\n\t\t\t\t    u8 *max_bw_value,\n\t\t\t\t    u8 *max_bw_unit);\nint mlx5_query_port_ets_rate_limit(struct mlx5_core_dev *mdev,\n\t\t\t\t   u8 *max_bw_value,\n\t\t\t\t   u8 *max_bw_unit);\nint mlx5_set_port_wol(struct mlx5_core_dev *mdev, u8 wol_mode);\nint mlx5_query_port_wol(struct mlx5_core_dev *mdev, u8 *wol_mode);\n\nint mlx5_query_ports_check(struct mlx5_core_dev *mdev, u32 *out, int outlen);\nint mlx5_set_ports_check(struct mlx5_core_dev *mdev, u32 *in, int inlen);\nint mlx5_set_port_fcs(struct mlx5_core_dev *mdev, u8 enable);\nvoid mlx5_query_port_fcs(struct mlx5_core_dev *mdev, bool *supported,\n\t\t\t bool *enabled);\nint mlx5_query_module_eeprom(struct mlx5_core_dev *dev,\n\t\t\t     u16 offset, u16 size, u8 *data);\nint mlx5_query_module_eeprom_by_page(struct mlx5_core_dev *dev,\n\t\t\t\t     struct mlx5_module_eeprom_query_params *params, u8 *data);\n\nint mlx5_query_port_dcbx_param(struct mlx5_core_dev *mdev, u32 *out);\nint mlx5_set_port_dcbx_param(struct mlx5_core_dev *mdev, u32 *in);\n\nint mlx5_set_trust_state(struct mlx5_core_dev *mdev, u8 trust_state);\nint mlx5_query_trust_state(struct mlx5_core_dev *mdev, u8 *trust_state);\nint mlx5_set_dscp2prio(struct mlx5_core_dev *mdev, u8 dscp, u8 prio);\nint mlx5_query_dscp2prio(struct mlx5_core_dev *mdev, u8 *dscp2prio);\n\nint mlx5_port_query_eth_proto(struct mlx5_core_dev *dev, u8 port, bool ext,\n\t\t\t      struct mlx5_port_eth_proto *eproto);\nbool mlx5_ptys_ext_supported(struct mlx5_core_dev *mdev);\nu32 mlx5_port_ptys2speed(struct mlx5_core_dev *mdev, u32 eth_proto_oper,\n\t\t\t bool force_legacy);\nu32 mlx5_port_speed2linkmodes(struct mlx5_core_dev *mdev, u32 speed,\n\t\t\t      bool force_legacy);\nint mlx5_port_max_linkspeed(struct mlx5_core_dev *mdev, u32 *speed);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}