{
  "module_name": "cdc_ncm.h",
  "hash_id": "dfbc74a77420adce738347695b93bc0175b4a94989e7b37a2adbff3594270c05",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/usb/cdc_ncm.h",
  "human_readable_source": "\n \n\n#ifndef __LINUX_USB_CDC_NCM_H\n#define __LINUX_USB_CDC_NCM_H\n\n#define CDC_NCM_COMM_ALTSETTING_NCM\t\t0\n#define CDC_NCM_COMM_ALTSETTING_MBIM\t\t1\n\n#define CDC_NCM_DATA_ALTSETTING_NCM\t\t1\n#define CDC_NCM_DATA_ALTSETTING_MBIM\t\t2\n\n \n#define USB_CDC_NCM_NDP16_LENGTH_MIN\t\t0x10\n\n \n#define USB_CDC_NCM_NDP32_LENGTH_MIN\t\t0x20\n\n \n#define\tCDC_NCM_NTB_MAX_SIZE_TX\t\t\t65536\t \n#define\tCDC_NCM_NTB_MAX_SIZE_RX\t\t\t65536\t \n\n \n#define\tCDC_NCM_NTB_DEF_SIZE_TX\t\t\t16384\t \n#define\tCDC_NCM_NTB_DEF_SIZE_RX\t\t\t16384\t \n\n \n#define\tCDC_NCM_MIN_DATAGRAM_SIZE\t\t1514\t \n\n \n#define CDC_MBIM_MIN_DATAGRAM_SIZE\t\t2048\t \n\n#define\tCDC_NCM_MIN_TX_PKT\t\t\t512\t \n\n \n#define\tCDC_NCM_MAX_DATAGRAM_SIZE\t\t8192\t \n\n \n#define\tCDC_NCM_DPT_DATAGRAMS_MAX\t\t40\n\n \n#define\tCDC_NCM_RESTART_TIMER_DATAGRAM_CNT\t3\n#define\tCDC_NCM_TIMER_PENDING_CNT\t\t2\n#define CDC_NCM_TIMER_INTERVAL_USEC\t\t400UL\n#define CDC_NCM_TIMER_INTERVAL_MIN\t\t5UL\n#define CDC_NCM_TIMER_INTERVAL_MAX\t\t(U32_MAX / NSEC_PER_USEC)\n\n \n#define CDC_NCM_FLAG_NDP_TO_END\t\t\t0x02\t \n#define CDC_MBIM_FLAG_AVOID_ALTSETTING_TOGGLE\t0x04\t \n#define CDC_NCM_FLAG_PREFER_NTB32 0x08\t \n\n#define cdc_ncm_comm_intf_is_mbim(x)  ((x)->desc.bInterfaceSubClass == USB_CDC_SUBCLASS_MBIM && \\\n\t\t\t\t       (x)->desc.bInterfaceProtocol == USB_CDC_PROTO_NONE)\n#define cdc_ncm_data_intf_is_mbim(x)  ((x)->desc.bInterfaceProtocol == USB_CDC_MBIM_PROTO_NTB)\n\nstruct cdc_ncm_ctx {\n\tstruct usb_cdc_ncm_ntb_parameters ncm_parm;\n\tstruct hrtimer tx_timer;\n\tstruct tasklet_struct bh;\n\n\tstruct usbnet *dev;\n\n\tconst struct usb_cdc_ncm_desc *func_desc;\n\tconst struct usb_cdc_mbim_desc *mbim_desc;\n\tconst struct usb_cdc_mbim_extended_desc *mbim_extended_desc;\n\tconst struct usb_cdc_ether_desc *ether_desc;\n\n\tstruct usb_interface *control;\n\tstruct usb_interface *data;\n\n\tstruct sk_buff *tx_curr_skb;\n\tstruct sk_buff *tx_rem_skb;\n\t__le32 tx_rem_sign;\n\n\tspinlock_t mtx;\n\tatomic_t stop;\n\tint drvflags;\n\n\tu32 timer_interval;\n\tu32 max_ndp_size;\n\tu8 is_ndp16;\n\tunion {\n\t\tstruct usb_cdc_ncm_ndp16 *delayed_ndp16;\n\t\tstruct usb_cdc_ncm_ndp32 *delayed_ndp32;\n\t};\n\n\tu32 tx_timer_pending;\n\tu32 tx_curr_frame_num;\n\tu32 rx_max;\n\tu32 tx_max;\n\tu32 tx_curr_size;\n\tu32 tx_low_mem_max_cnt;\n\tu32 tx_low_mem_val;\n\tu32 max_datagram_size;\n\tu16 tx_max_datagrams;\n\tu16 tx_remainder;\n\tu16 tx_modulus;\n\tu16 tx_ndp_modulus;\n\tu16 tx_seq;\n\tu16 rx_seq;\n\tu16 min_tx_pkt;\n\n\t \n\tu32 tx_curr_frame_payload;\n\tu32 tx_reason_ntb_full;\n\tu32 tx_reason_ndp_full;\n\tu32 tx_reason_timeout;\n\tu32 tx_reason_max_datagram;\n\tu64 tx_overhead;\n\tu64 tx_ntbs;\n\tu64 rx_overhead;\n\tu64 rx_ntbs;\n};\n\nu8 cdc_ncm_select_altsetting(struct usb_interface *intf);\nint cdc_ncm_change_mtu(struct net_device *net, int new_mtu);\nint cdc_ncm_bind_common(struct usbnet *dev, struct usb_interface *intf, u8 data_altsetting, int drvflags);\nvoid cdc_ncm_unbind(struct usbnet *dev, struct usb_interface *intf);\nstruct sk_buff *cdc_ncm_fill_tx_frame(struct usbnet *dev, struct sk_buff *skb, __le32 sign);\nint cdc_ncm_rx_verify_nth16(struct cdc_ncm_ctx *ctx, struct sk_buff *skb_in);\nint cdc_ncm_rx_verify_ndp16(struct sk_buff *skb_in, int ndpoffset);\nint cdc_ncm_rx_verify_nth32(struct cdc_ncm_ctx *ctx, struct sk_buff *skb_in);\nint cdc_ncm_rx_verify_ndp32(struct sk_buff *skb_in, int ndpoffset);\nstruct sk_buff *\ncdc_ncm_tx_fixup(struct usbnet *dev, struct sk_buff *skb, gfp_t flags);\nint cdc_ncm_rx_fixup(struct usbnet *dev, struct sk_buff *skb_in);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}