{
  "module_name": "otg.h",
  "hash_id": "8d5aaa4d81473bceddb33c91818537bdbadf185e7aa308958865a96233f0f5a7",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/usb/otg.h",
  "human_readable_source": " \n \n \n\n#ifndef __LINUX_USB_OTG_H\n#define __LINUX_USB_OTG_H\n\n#include <linux/phy/phy.h>\n#include <linux/usb/phy.h>\n\nstruct usb_otg {\n\tu8\t\t\tdefault_a;\n\n\tstruct phy\t\t*phy;\n\t \n\tstruct usb_phy\t\t*usb_phy;\n\tstruct usb_bus\t\t*host;\n\tstruct usb_gadget\t*gadget;\n\n\tenum usb_otg_state\tstate;\n\n\t \n\tint\t(*set_host)(struct usb_otg *otg, struct usb_bus *host);\n\n\t \n\tint\t(*set_peripheral)(struct usb_otg *otg,\n\t\t\t\t\tstruct usb_gadget *gadget);\n\n\t \n\tint\t(*set_vbus)(struct usb_otg *otg, bool enabled);\n\n\t \n\tint\t(*start_srp)(struct usb_otg *otg);\n\n\t \n\tint\t(*start_hnp)(struct usb_otg *otg);\n\n};\n\n \nstruct usb_otg_caps {\n\tu16 otg_rev;\n\tbool hnp_support;\n\tbool srp_support;\n\tbool adp_support;\n};\n\nextern const char *usb_otg_state_string(enum usb_otg_state state);\n\n \nstatic inline int\notg_start_hnp(struct usb_otg *otg)\n{\n\tif (otg && otg->start_hnp)\n\t\treturn otg->start_hnp(otg);\n\n\treturn -ENOTSUPP;\n}\n\n \nstatic inline int\notg_set_vbus(struct usb_otg *otg, bool enabled)\n{\n\tif (otg && otg->set_vbus)\n\t\treturn otg->set_vbus(otg, enabled);\n\n\treturn -ENOTSUPP;\n}\n\n \nstatic inline int\notg_set_host(struct usb_otg *otg, struct usb_bus *host)\n{\n\tif (otg && otg->set_host)\n\t\treturn otg->set_host(otg, host);\n\n\treturn -ENOTSUPP;\n}\n\n \n\n \nstatic inline int\notg_set_peripheral(struct usb_otg *otg, struct usb_gadget *periph)\n{\n\tif (otg && otg->set_peripheral)\n\t\treturn otg->set_peripheral(otg, periph);\n\n\treturn -ENOTSUPP;\n}\n\nstatic inline int\notg_start_srp(struct usb_otg *otg)\n{\n\tif (otg && otg->start_srp)\n\t\treturn otg->start_srp(otg);\n\n\treturn -ENOTSUPP;\n}\n\n \nextern int usb_bus_start_enum(struct usb_bus *bus, unsigned port_num);\n\nenum usb_dr_mode {\n\tUSB_DR_MODE_UNKNOWN,\n\tUSB_DR_MODE_HOST,\n\tUSB_DR_MODE_PERIPHERAL,\n\tUSB_DR_MODE_OTG,\n};\n\n \nextern enum usb_dr_mode usb_get_dr_mode(struct device *dev);\nextern enum usb_dr_mode usb_get_role_switch_default_mode(struct device *dev);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}