{
  "module_name": "usbnet.h",
  "hash_id": "91dd2839194a3365526c270b8d826fa7ac01a55b779c7e55bd51d2e2d84a127f",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/usb/usbnet.h",
  "human_readable_source": "\n \n\n#ifndef\t__LINUX_USB_USBNET_H\n#define\t__LINUX_USB_USBNET_H\n\n#include <linux/mii.h>\n#include <linux/netdevice.h>\n#include <linux/skbuff.h>\n#include <linux/types.h>\n#include <linux/usb.h>\n\n \nstruct usbnet {\n\t \n\tstruct usb_device\t*udev;\n\tstruct usb_interface\t*intf;\n\tconst struct driver_info *driver_info;\n\tconst char\t\t*driver_name;\n\tvoid\t\t\t*driver_priv;\n\twait_queue_head_t\twait;\n\tstruct mutex\t\tphy_mutex;\n\tunsigned char\t\tsuspend_count;\n\tunsigned char\t\tpkt_cnt, pkt_err;\n\tunsigned short\t\trx_qlen, tx_qlen;\n\tunsigned\t\tcan_dma_sg:1;\n\n\t \n\tunsigned\t\tin, out;\n\tstruct usb_host_endpoint *status;\n\tunsigned\t\tmaxpacket;\n\tstruct timer_list\tdelay;\n\tconst char\t\t*padding_pkt;\n\n\t \n\tstruct net_device\t*net;\n\tint\t\t\tmsg_enable;\n\tunsigned long\t\tdata[5];\n\tu32\t\t\txid;\n\tu32\t\t\thard_mtu;\t \n\tsize_t\t\t\trx_urb_size;\t \n\tstruct mii_if_info\tmii;\n\tlong\t\t\trx_speed;\t \n\tlong\t\t\ttx_speed;\t \n#\t\tdefine SPEED_UNSET\t-1\n\n\t \n\tstruct sk_buff_head\trxq;\n\tstruct sk_buff_head\ttxq;\n\tstruct sk_buff_head\tdone;\n\tstruct sk_buff_head\trxq_pause;\n\tstruct urb\t\t*interrupt;\n\tunsigned\t\tinterrupt_count;\n\tstruct mutex\t\tinterrupt_mutex;\n\tstruct usb_anchor\tdeferred;\n\tstruct tasklet_struct\tbh;\n\n\tstruct work_struct\tkevent;\n\tunsigned long\t\tflags;\n#\t\tdefine EVENT_TX_HALT\t0\n#\t\tdefine EVENT_RX_HALT\t1\n#\t\tdefine EVENT_RX_MEMORY\t2\n#\t\tdefine EVENT_STS_SPLIT\t3\n#\t\tdefine EVENT_LINK_RESET\t4\n#\t\tdefine EVENT_RX_PAUSED\t5\n#\t\tdefine EVENT_DEV_ASLEEP 6\n#\t\tdefine EVENT_DEV_OPEN\t7\n#\t\tdefine EVENT_DEVICE_REPORT_IDLE\t8\n#\t\tdefine EVENT_NO_RUNTIME_PM\t9\n#\t\tdefine EVENT_RX_KILL\t10\n#\t\tdefine EVENT_LINK_CHANGE\t11\n#\t\tdefine EVENT_SET_RX_MODE\t12\n#\t\tdefine EVENT_NO_IP_ALIGN\t13\n};\n\nstatic inline struct usb_driver *driver_of(struct usb_interface *intf)\n{\n\treturn to_usb_driver(intf->dev.driver);\n}\n\n \nstruct driver_info {\n\tchar\t\t*description;\n\n\tint\t\tflags;\n \n#define FLAG_FRAMING_NC\t0x0001\t\t \n#define FLAG_FRAMING_GL\t0x0002\t\t \n#define FLAG_FRAMING_Z\t0x0004\t\t \n#define FLAG_FRAMING_RN\t0x0008\t\t \n\n#define FLAG_NO_SETINT\t0x0010\t\t \n#define FLAG_ETHER\t0x0020\t\t \n\n#define FLAG_FRAMING_AX 0x0040\t\t \n#define FLAG_WLAN\t0x0080\t\t \n#define FLAG_AVOID_UNLINK_URBS 0x0100\t \n#define FLAG_SEND_ZLP\t0x0200\t\t \n#define FLAG_WWAN\t0x0400\t\t \n\n#define FLAG_LINK_INTR\t0x0800\t\t \n\n#define FLAG_POINTTOPOINT 0x1000\t \n\n \n#define FLAG_MULTI_PACKET\t0x2000\n#define FLAG_RX_ASSEMBLE\t0x4000\t \n#define FLAG_NOARP\t\t0x8000\t \n\n\t \n\tint\t(*bind)(struct usbnet *, struct usb_interface *);\n\n\t \n\tvoid\t(*unbind)(struct usbnet *, struct usb_interface *);\n\n\t \n\tint\t(*reset)(struct usbnet *);\n\n\t \n\tint\t(*stop)(struct usbnet *);\n\n\t \n\tint\t(*check_connect)(struct usbnet *);\n\n\t \n\tint\t(*manage_power)(struct usbnet *, int);\n\n\t \n\tvoid\t(*status)(struct usbnet *, struct urb *);\n\n\t \n\tint\t(*link_reset)(struct usbnet *);\n\n\t \n\tint\t(*rx_fixup)(struct usbnet *dev, struct sk_buff *skb);\n\n\t \n\tstruct sk_buff\t*(*tx_fixup)(struct usbnet *dev,\n\t\t\t\tstruct sk_buff *skb, gfp_t flags);\n\n\t \n\tvoid\t(*recover)(struct usbnet *dev);\n\n\t \n\tint\t(*early_init)(struct usbnet *dev);\n\n\t \n\tvoid\t(*indication)(struct usbnet *dev, void *ind, int indlen);\n\n\t \n\tvoid\t(*set_rx_mode)(struct usbnet *dev);\n\n\t \n\tint\t\tin;\t\t \n\tint\t\tout;\t\t \n\n\tunsigned long\tdata;\t\t \n};\n\n \nextern int usbnet_probe(struct usb_interface *, const struct usb_device_id *);\nextern int usbnet_suspend(struct usb_interface *, pm_message_t);\nextern int usbnet_resume(struct usb_interface *);\nextern void usbnet_disconnect(struct usb_interface *);\nextern void usbnet_device_suggests_idle(struct usbnet *dev);\n\nextern int usbnet_read_cmd(struct usbnet *dev, u8 cmd, u8 reqtype,\n\t\t    u16 value, u16 index, void *data, u16 size);\nextern int usbnet_write_cmd(struct usbnet *dev, u8 cmd, u8 reqtype,\n\t\t    u16 value, u16 index, const void *data, u16 size);\nextern int usbnet_read_cmd_nopm(struct usbnet *dev, u8 cmd, u8 reqtype,\n\t\t    u16 value, u16 index, void *data, u16 size);\nextern int usbnet_write_cmd_nopm(struct usbnet *dev, u8 cmd, u8 reqtype,\n\t\t    u16 value, u16 index, const void *data, u16 size);\nextern int usbnet_write_cmd_async(struct usbnet *dev, u8 cmd, u8 reqtype,\n\t\t    u16 value, u16 index, const void *data, u16 size);\n\n \nstruct cdc_state {\n\tstruct usb_cdc_header_desc\t*header;\n\tstruct usb_cdc_union_desc\t*u;\n\tstruct usb_cdc_ether_desc\t*ether;\n\tstruct usb_interface\t\t*control;\n\tstruct usb_interface\t\t*data;\n};\n\nextern void usbnet_cdc_update_filter(struct usbnet *dev);\nextern int usbnet_generic_cdc_bind(struct usbnet *, struct usb_interface *);\nextern int usbnet_ether_cdc_bind(struct usbnet *dev, struct usb_interface *intf);\nextern int usbnet_cdc_bind(struct usbnet *, struct usb_interface *);\nextern void usbnet_cdc_unbind(struct usbnet *, struct usb_interface *);\nextern void usbnet_cdc_status(struct usbnet *, struct urb *);\nextern int usbnet_cdc_zte_rx_fixup(struct usbnet *dev, struct sk_buff *skb);\n\n \n#define\tDEFAULT_FILTER\t(USB_CDC_PACKET_TYPE_BROADCAST \\\n\t\t\t|USB_CDC_PACKET_TYPE_ALL_MULTICAST \\\n\t\t\t|USB_CDC_PACKET_TYPE_PROMISCUOUS \\\n\t\t\t|USB_CDC_PACKET_TYPE_DIRECTED)\n\n\n \nenum skb_state {\n\tillegal = 0,\n\ttx_start, tx_done,\n\trx_start, rx_done, rx_cleanup,\n\tunlink_start\n};\n\nstruct skb_data {\t \n\tstruct urb\t\t*urb;\n\tstruct usbnet\t\t*dev;\n\tenum skb_state\t\tstate;\n\tlong\t\t\tlength;\n\tunsigned long\t\tpackets;\n};\n\n \nstatic inline void\nusbnet_set_skb_tx_stats(struct sk_buff *skb,\n\t\t\tunsigned long packets, long bytes_delta)\n{\n\tstruct skb_data *entry = (struct skb_data *) skb->cb;\n\n\tentry->packets = packets;\n\tentry->length = bytes_delta;\n}\n\nextern int usbnet_open(struct net_device *net);\nextern int usbnet_stop(struct net_device *net);\nextern netdev_tx_t usbnet_start_xmit(struct sk_buff *skb,\n\t\t\t\t     struct net_device *net);\nextern void usbnet_tx_timeout(struct net_device *net, unsigned int txqueue);\nextern int usbnet_change_mtu(struct net_device *net, int new_mtu);\n\nextern int usbnet_get_endpoints(struct usbnet *, struct usb_interface *);\nextern int usbnet_get_ethernet_addr(struct usbnet *, int);\nextern void usbnet_defer_kevent(struct usbnet *, int);\nextern void usbnet_skb_return(struct usbnet *, struct sk_buff *);\nextern void usbnet_unlink_rx_urbs(struct usbnet *);\n\nextern void usbnet_pause_rx(struct usbnet *);\nextern void usbnet_resume_rx(struct usbnet *);\nextern void usbnet_purge_paused_rxq(struct usbnet *);\n\nextern int usbnet_get_link_ksettings_mii(struct net_device *net,\n\t\t\t\t     struct ethtool_link_ksettings *cmd);\nextern int usbnet_set_link_ksettings_mii(struct net_device *net,\n\t\t\t\t     const struct ethtool_link_ksettings *cmd);\nextern int usbnet_get_link_ksettings_internal(struct net_device *net,\n\t\t\t\t     struct ethtool_link_ksettings *cmd);\nextern u32 usbnet_get_link(struct net_device *net);\nextern u32 usbnet_get_msglevel(struct net_device *);\nextern void usbnet_set_msglevel(struct net_device *, u32);\nextern void usbnet_set_rx_mode(struct net_device *net);\nextern void usbnet_get_drvinfo(struct net_device *, struct ethtool_drvinfo *);\nextern int usbnet_nway_reset(struct net_device *net);\n\nextern int usbnet_manage_power(struct usbnet *, int);\nextern void usbnet_link_change(struct usbnet *, bool, bool);\n\nextern int usbnet_status_start(struct usbnet *dev, gfp_t mem_flags);\nextern void usbnet_status_stop(struct usbnet *dev);\n\nextern void usbnet_update_max_qlen(struct usbnet *dev);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}