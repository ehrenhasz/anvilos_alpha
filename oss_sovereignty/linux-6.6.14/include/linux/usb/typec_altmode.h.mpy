{
  "module_name": "typec_altmode.h",
  "hash_id": "bb80e99b5aa4e8908e18e4744480314103f0a876024594b7283f3e922c524a79",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/usb/typec_altmode.h",
  "human_readable_source": " \n\n#ifndef __USB_TYPEC_ALTMODE_H\n#define __USB_TYPEC_ALTMODE_H\n\n#include <linux/mod_devicetable.h>\n#include <linux/usb/typec.h>\n#include <linux/device.h>\n\n#define MODE_DISCOVERY_MAX\t6\n\nstruct typec_altmode_ops;\n\n \nstruct typec_altmode {\n\tstruct device\t\t\tdev;\n\tu16\t\t\t\tsvid;\n\tint\t\t\t\tmode;\n\tu32\t\t\t\tvdo;\n\tunsigned int\t\t\tactive:1;\n\n\tchar\t\t\t\t*desc;\n\tconst struct typec_altmode_ops\t*ops;\n};\n\n#define to_typec_altmode(d) container_of(d, struct typec_altmode, dev)\n\nstatic inline void typec_altmode_set_drvdata(struct typec_altmode *altmode,\n\t\t\t\t\t     void *data)\n{\n\tdev_set_drvdata(&altmode->dev, data);\n}\n\nstatic inline void *typec_altmode_get_drvdata(struct typec_altmode *altmode)\n{\n\treturn dev_get_drvdata(&altmode->dev);\n}\n\n \nstruct typec_altmode_ops {\n\tint (*enter)(struct typec_altmode *altmode, u32 *vdo);\n\tint (*exit)(struct typec_altmode *altmode);\n\tvoid (*attention)(struct typec_altmode *altmode, u32 vdo);\n\tint (*vdm)(struct typec_altmode *altmode, const u32 hdr,\n\t\t   const u32 *vdo, int cnt);\n\tint (*notify)(struct typec_altmode *altmode, unsigned long conf,\n\t\t      void *data);\n\tint (*activate)(struct typec_altmode *altmode, int activate);\n};\n\nint typec_altmode_enter(struct typec_altmode *altmode, u32 *vdo);\nint typec_altmode_exit(struct typec_altmode *altmode);\nint typec_altmode_attention(struct typec_altmode *altmode, u32 vdo);\nint typec_altmode_vdm(struct typec_altmode *altmode,\n\t\t      const u32 header, const u32 *vdo, int count);\nint typec_altmode_notify(struct typec_altmode *altmode, unsigned long conf,\n\t\t\t void *data);\nconst struct typec_altmode *\ntypec_altmode_get_partner(struct typec_altmode *altmode);\n\n \nenum {\n\tTYPEC_STATE_SAFE,\t \n\tTYPEC_STATE_USB,\t \n\tTYPEC_STATE_MODAL,\t \n};\n\n \nenum {\n\tTYPEC_MODE_USB2 = TYPEC_STATE_MODAL,\t \n\tTYPEC_MODE_USB3,\t\t\t \n\tTYPEC_MODE_USB4,\t\t\t \n\tTYPEC_MODE_AUDIO,\t\t\t \n\tTYPEC_MODE_DEBUG,\t\t\t \n};\n\n#define TYPEC_MODAL_STATE(_state_)\t((_state_) + TYPEC_STATE_MODAL)\n\nstruct typec_altmode *typec_altmode_get_plug(struct typec_altmode *altmode,\n\t\t\t\t\t     enum typec_plug_index index);\nvoid typec_altmode_put_plug(struct typec_altmode *plug);\n\nstruct typec_altmode *typec_match_altmode(struct typec_altmode **altmodes,\n\t\t\t\t\t  size_t n, u16 svid, u8 mode);\n\n \nstatic inline enum typec_orientation\ntypec_altmode_get_orientation(struct typec_altmode *altmode)\n{\n\treturn typec_get_orientation(typec_altmode2port(altmode));\n}\n\n \nstatic inline int\ntypec_altmode_get_svdm_version(struct typec_altmode *altmode)\n{\n\treturn typec_get_negotiated_svdm_version(typec_altmode2port(altmode));\n}\n\n \nstruct typec_altmode_driver {\n\tconst struct typec_device_id *id_table;\n\tint (*probe)(struct typec_altmode *altmode);\n\tvoid (*remove)(struct typec_altmode *altmode);\n\tstruct device_driver driver;\n};\n\n#define to_altmode_driver(d) container_of(d, struct typec_altmode_driver, \\\n\t\t\t\t\t  driver)\n\n \n#define typec_altmode_register_driver(drv) \\\n\t\t__typec_altmode_register_driver(drv, THIS_MODULE)\nint __typec_altmode_register_driver(struct typec_altmode_driver *drv,\n\t\t\t\t    struct module *module);\n \nvoid typec_altmode_unregister_driver(struct typec_altmode_driver *drv);\n\n#define module_typec_altmode_driver(__typec_altmode_driver) \\\n\tmodule_driver(__typec_altmode_driver, typec_altmode_register_driver, \\\n\t\t      typec_altmode_unregister_driver)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}