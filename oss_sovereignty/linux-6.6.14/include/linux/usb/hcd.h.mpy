{
  "module_name": "hcd.h",
  "hash_id": "f2a550221265e7c445d43ee11c33e3eccefc959ec974a766f78ef486b07d812a",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/usb/hcd.h",
  "human_readable_source": "\n \n\n#ifndef __USB_CORE_HCD_H\n#define __USB_CORE_HCD_H\n\n#ifdef __KERNEL__\n\n#include <linux/rwsem.h>\n#include <linux/interrupt.h>\n#include <linux/idr.h>\n\n#define MAX_TOPO_LEVEL\t\t6\n\n \n\n \n#define USB_PID_EXT\t\t\t0xf0\t \n#define USB_PID_OUT\t\t\t0xe1\n#define USB_PID_ACK\t\t\t0xd2\n#define USB_PID_DATA0\t\t\t0xc3\n#define USB_PID_PING\t\t\t0xb4\t \n#define USB_PID_SOF\t\t\t0xa5\n#define USB_PID_NYET\t\t\t0x96\t \n#define USB_PID_DATA2\t\t\t0x87\t \n#define USB_PID_SPLIT\t\t\t0x78\t \n#define USB_PID_IN\t\t\t0x69\n#define USB_PID_NAK\t\t\t0x5a\n#define USB_PID_DATA1\t\t\t0x4b\n#define USB_PID_PREAMBLE\t\t0x3c\t \n#define USB_PID_ERR\t\t\t0x3c\t \n#define USB_PID_SETUP\t\t\t0x2d\n#define USB_PID_STALL\t\t\t0x1e\n#define USB_PID_MDATA\t\t\t0x0f\t \n\n \n\n \n\n \n\nstruct giveback_urb_bh {\n\tbool running;\n\tbool high_prio;\n\tspinlock_t lock;\n\tstruct list_head  head;\n\tstruct tasklet_struct bh;\n\tstruct usb_host_endpoint *completing_ep;\n};\n\nenum usb_dev_authorize_policy {\n\tUSB_DEVICE_AUTHORIZE_NONE\t= 0,\n\tUSB_DEVICE_AUTHORIZE_ALL\t= 1,\n\tUSB_DEVICE_AUTHORIZE_INTERNAL\t= 2,\n};\n\nstruct usb_hcd {\n\n\t \n\tstruct usb_bus\t\tself;\t\t \n\tstruct kref\t\tkref;\t\t \n\n\tconst char\t\t*product_desc;\t \n\tint\t\t\tspeed;\t\t \n\tchar\t\t\tirq_descr[24];\t \n\n\tstruct timer_list\trh_timer;\t \n\tstruct urb\t\t*status_urb;\t \n#ifdef CONFIG_PM\n\tstruct work_struct\twakeup_work;\t \n#endif\n\tstruct work_struct\tdied_work;\t \n\n\t \n\tconst struct hc_driver\t*driver;\t \n\n\t \n\tstruct usb_phy\t\t*usb_phy;\n\tstruct usb_phy_roothub\t*phy_roothub;\n\n\t \n\tunsigned long\t\tflags;\n#define HCD_FLAG_HW_ACCESSIBLE\t\t0\t \n#define HCD_FLAG_POLL_RH\t\t2\t \n#define HCD_FLAG_POLL_PENDING\t\t3\t \n#define HCD_FLAG_WAKEUP_PENDING\t\t4\t \n#define HCD_FLAG_RH_RUNNING\t\t5\t \n#define HCD_FLAG_DEAD\t\t\t6\t \n#define HCD_FLAG_INTF_AUTHORIZED\t7\t \n#define HCD_FLAG_DEFER_RH_REGISTER\t8\t \n\n\t \n#define HCD_HW_ACCESSIBLE(hcd)\t((hcd)->flags & (1U << HCD_FLAG_HW_ACCESSIBLE))\n#define HCD_POLL_RH(hcd)\t((hcd)->flags & (1U << HCD_FLAG_POLL_RH))\n#define HCD_POLL_PENDING(hcd)\t((hcd)->flags & (1U << HCD_FLAG_POLL_PENDING))\n#define HCD_WAKEUP_PENDING(hcd)\t((hcd)->flags & (1U << HCD_FLAG_WAKEUP_PENDING))\n#define HCD_RH_RUNNING(hcd)\t((hcd)->flags & (1U << HCD_FLAG_RH_RUNNING))\n#define HCD_DEAD(hcd)\t\t((hcd)->flags & (1U << HCD_FLAG_DEAD))\n#define HCD_DEFER_RH_REGISTER(hcd) ((hcd)->flags & (1U << HCD_FLAG_DEFER_RH_REGISTER))\n\n\t \n#define HCD_INTF_AUTHORIZED(hcd) \\\n\t((hcd)->flags & (1U << HCD_FLAG_INTF_AUTHORIZED))\n\n\t \n\tenum usb_dev_authorize_policy dev_policy;\n\n\t \n\tunsigned\t\trh_registered:1; \n\tunsigned\t\trh_pollable:1;\t \n\tunsigned\t\tmsix_enabled:1;\t \n\tunsigned\t\tmsi_enabled:1;\t \n\t \n\tunsigned\t\tskip_phy_initialization:1;\n\n\t \n\tunsigned\t\tuses_new_polling:1;\n\tunsigned\t\thas_tt:1;\t \n\tunsigned\t\tamd_resume_bug:1;  \n\tunsigned\t\tcan_do_streams:1;  \n\tunsigned\t\ttpl_support:1;  \n\tunsigned\t\tcant_recv_wakeups:1;\n\t\t\t \n\n\tunsigned int\t\tirq;\t\t \n\tvoid __iomem\t\t*regs;\t\t \n\tresource_size_t\t\trsrc_start;\t \n\tresource_size_t\t\trsrc_len;\t \n\tunsigned\t\tpower_budget;\t \n\n\tstruct giveback_urb_bh  high_prio_bh;\n\tstruct giveback_urb_bh  low_prio_bh;\n\n\t \n\tstruct mutex\t\t*address0_mutex;\n\tstruct mutex\t\t*bandwidth_mutex;\n\tstruct usb_hcd\t\t*shared_hcd;\n\tstruct usb_hcd\t\t*primary_hcd;\n\n\n#define HCD_BUFFER_POOLS\t4\n\tstruct dma_pool\t\t*pool[HCD_BUFFER_POOLS];\n\n\tint\t\t\tstate;\n#\tdefine\t__ACTIVE\t\t0x01\n#\tdefine\t__SUSPEND\t\t0x04\n#\tdefine\t__TRANSIENT\t\t0x80\n\n#\tdefine\tHC_STATE_HALT\t\t0\n#\tdefine\tHC_STATE_RUNNING\t(__ACTIVE)\n#\tdefine\tHC_STATE_QUIESCING\t(__SUSPEND|__TRANSIENT|__ACTIVE)\n#\tdefine\tHC_STATE_RESUMING\t(__SUSPEND|__TRANSIENT)\n#\tdefine\tHC_STATE_SUSPENDED\t(__SUSPEND)\n\n#define\tHC_IS_RUNNING(state) ((state) & __ACTIVE)\n#define\tHC_IS_SUSPENDED(state) ((state) & __SUSPEND)\n\n\t \n\tstruct gen_pool         *localmem_pool;\n\n\t \n\n\t \n\tunsigned long hcd_priv[]\n\t\t\t__attribute__ ((aligned(sizeof(s64))));\n};\n\n \nstatic inline struct usb_bus *hcd_to_bus(struct usb_hcd *hcd)\n{\n\treturn &hcd->self;\n}\n\nstatic inline struct usb_hcd *bus_to_hcd(struct usb_bus *bus)\n{\n\treturn container_of(bus, struct usb_hcd, self);\n}\n\n \n\n\nstruct hc_driver {\n\tconst char\t*description;\t \n\tconst char\t*product_desc;\t \n\tsize_t\t\thcd_priv_size;\t \n\n\t \n\tirqreturn_t\t(*irq) (struct usb_hcd *hcd);\n\n\tint\tflags;\n#define\tHCD_MEMORY\t0x0001\t\t \n#define\tHCD_DMA\t\t0x0002\t\t \n#define\tHCD_SHARED\t0x0004\t\t \n#define\tHCD_USB11\t0x0010\t\t \n#define\tHCD_USB2\t0x0020\t\t \n#define\tHCD_USB3\t0x0040\t\t \n#define\tHCD_USB31\t0x0050\t\t \n#define\tHCD_USB32\t0x0060\t\t \n#define\tHCD_MASK\t0x0070\n#define\tHCD_BH\t\t0x0100\t\t \n\n\t \n\tint\t(*reset) (struct usb_hcd *hcd);\n\tint\t(*start) (struct usb_hcd *hcd);\n\n\t \n\t \n\tint\t(*pci_suspend)(struct usb_hcd *hcd, bool do_wakeup);\n\n\t \n\tint\t(*pci_resume)(struct usb_hcd *hcd, pm_message_t state);\n\n\t \n\tint\t(*pci_poweroff_late)(struct usb_hcd *hcd, bool do_wakeup);\n\n\t \n\tvoid\t(*stop) (struct usb_hcd *hcd);\n\n\t \n\tvoid\t(*shutdown) (struct usb_hcd *hcd);\n\n\t \n\tint\t(*get_frame_number) (struct usb_hcd *hcd);\n\n\t \n\tint\t(*urb_enqueue)(struct usb_hcd *hcd,\n\t\t\t\tstruct urb *urb, gfp_t mem_flags);\n\tint\t(*urb_dequeue)(struct usb_hcd *hcd,\n\t\t\t\tstruct urb *urb, int status);\n\n\t \n\tint\t(*map_urb_for_dma)(struct usb_hcd *hcd, struct urb *urb,\n\t\t\t\t   gfp_t mem_flags);\n\tvoid    (*unmap_urb_for_dma)(struct usb_hcd *hcd, struct urb *urb);\n\n\t \n\tvoid\t(*endpoint_disable)(struct usb_hcd *hcd,\n\t\t\tstruct usb_host_endpoint *ep);\n\n\t \n\tvoid\t(*endpoint_reset)(struct usb_hcd *hcd,\n\t\t\tstruct usb_host_endpoint *ep);\n\n\t \n\tint\t(*hub_status_data) (struct usb_hcd *hcd, char *buf);\n\tint\t(*hub_control) (struct usb_hcd *hcd,\n\t\t\t\tu16 typeReq, u16 wValue, u16 wIndex,\n\t\t\t\tchar *buf, u16 wLength);\n\tint\t(*bus_suspend)(struct usb_hcd *);\n\tint\t(*bus_resume)(struct usb_hcd *);\n\tint\t(*start_port_reset)(struct usb_hcd *, unsigned port_num);\n\tunsigned long\t(*get_resuming_ports)(struct usb_hcd *);\n\n\t\t \n\tvoid\t(*relinquish_port)(struct usb_hcd *, int);\n\t\t \n\tint\t(*port_handed_over)(struct usb_hcd *, int);\n\n\t\t \n\tvoid\t(*clear_tt_buffer_complete)(struct usb_hcd *,\n\t\t\t\tstruct usb_host_endpoint *);\n\n\t \n\t\t \n\tint\t(*alloc_dev)(struct usb_hcd *, struct usb_device *);\n\t\t \n\tvoid\t(*free_dev)(struct usb_hcd *, struct usb_device *);\n\t \n\tint\t(*alloc_streams)(struct usb_hcd *hcd, struct usb_device *udev,\n\t\tstruct usb_host_endpoint **eps, unsigned int num_eps,\n\t\tunsigned int num_streams, gfp_t mem_flags);\n\t \n\tint\t(*free_streams)(struct usb_hcd *hcd, struct usb_device *udev,\n\t\tstruct usb_host_endpoint **eps, unsigned int num_eps,\n\t\tgfp_t mem_flags);\n\n\t \n\t \n\t\t \n\tint\t(*add_endpoint)(struct usb_hcd *, struct usb_device *,\n\t\t\t\tstruct usb_host_endpoint *);\n\t\t \n\tint\t(*drop_endpoint)(struct usb_hcd *, struct usb_device *,\n\t\t\t\t struct usb_host_endpoint *);\n\t\t \n\tint\t(*check_bandwidth)(struct usb_hcd *, struct usb_device *);\n\t\t \n\tvoid\t(*reset_bandwidth)(struct usb_hcd *, struct usb_device *);\n\t\t \n\tint\t(*address_device)(struct usb_hcd *, struct usb_device *udev);\n\t\t \n\tint\t(*enable_device)(struct usb_hcd *, struct usb_device *udev);\n\t\t \n\tint\t(*update_hub_device)(struct usb_hcd *, struct usb_device *hdev,\n\t\t\tstruct usb_tt *tt, gfp_t mem_flags);\n\tint\t(*reset_device)(struct usb_hcd *, struct usb_device *);\n\t\t \n\tint\t(*update_device)(struct usb_hcd *, struct usb_device *);\n\tint\t(*set_usb2_hw_lpm)(struct usb_hcd *, struct usb_device *, int);\n\t \n\t\t \n\tint\t(*enable_usb3_lpm_timeout)(struct usb_hcd *,\n\t\t\tstruct usb_device *, enum usb3_link_state state);\n\t\t \n\tint\t(*disable_usb3_lpm_timeout)(struct usb_hcd *,\n\t\t\tstruct usb_device *, enum usb3_link_state state);\n\tint\t(*find_raw_port_number)(struct usb_hcd *, int);\n\t \n\tint\t(*port_power)(struct usb_hcd *hcd, int portnum, bool enable);\n\t \n#define EHSET_TEST_SINGLE_STEP_SET_FEATURE 0x06\n\tint\t(*submit_single_step_set_feature)(struct usb_hcd *,\n\t\t\tstruct urb *, int);\n};\n\nstatic inline int hcd_giveback_urb_in_bh(struct usb_hcd *hcd)\n{\n\treturn hcd->driver->flags & HCD_BH;\n}\n\nstatic inline bool hcd_periodic_completion_in_progress(struct usb_hcd *hcd,\n\t\tstruct usb_host_endpoint *ep)\n{\n\treturn hcd->high_prio_bh.completing_ep == ep;\n}\n\nstatic inline bool hcd_uses_dma(struct usb_hcd *hcd)\n{\n\treturn IS_ENABLED(CONFIG_HAS_DMA) && (hcd->driver->flags & HCD_DMA);\n}\n\nextern int usb_hcd_link_urb_to_ep(struct usb_hcd *hcd, struct urb *urb);\nextern int usb_hcd_check_unlink_urb(struct usb_hcd *hcd, struct urb *urb,\n\t\tint status);\nextern void usb_hcd_unlink_urb_from_ep(struct usb_hcd *hcd, struct urb *urb);\n\nextern int usb_hcd_submit_urb(struct urb *urb, gfp_t mem_flags);\nextern int usb_hcd_unlink_urb(struct urb *urb, int status);\nextern void usb_hcd_giveback_urb(struct usb_hcd *hcd, struct urb *urb,\n\t\tint status);\nextern int usb_hcd_map_urb_for_dma(struct usb_hcd *hcd, struct urb *urb,\n\t\tgfp_t mem_flags);\nextern void usb_hcd_unmap_urb_setup_for_dma(struct usb_hcd *, struct urb *);\nextern void usb_hcd_unmap_urb_for_dma(struct usb_hcd *, struct urb *);\nextern void usb_hcd_flush_endpoint(struct usb_device *udev,\n\t\tstruct usb_host_endpoint *ep);\nextern void usb_hcd_disable_endpoint(struct usb_device *udev,\n\t\tstruct usb_host_endpoint *ep);\nextern void usb_hcd_reset_endpoint(struct usb_device *udev,\n\t\tstruct usb_host_endpoint *ep);\nextern void usb_hcd_synchronize_unlinks(struct usb_device *udev);\nextern int usb_hcd_alloc_bandwidth(struct usb_device *udev,\n\t\tstruct usb_host_config *new_config,\n\t\tstruct usb_host_interface *old_alt,\n\t\tstruct usb_host_interface *new_alt);\nextern int usb_hcd_get_frame_number(struct usb_device *udev);\n\nstruct usb_hcd *__usb_create_hcd(const struct hc_driver *driver,\n\t\tstruct device *sysdev, struct device *dev, const char *bus_name,\n\t\tstruct usb_hcd *primary_hcd);\nextern struct usb_hcd *usb_create_hcd(const struct hc_driver *driver,\n\t\tstruct device *dev, const char *bus_name);\nextern struct usb_hcd *usb_create_shared_hcd(const struct hc_driver *driver,\n\t\tstruct device *dev, const char *bus_name,\n\t\tstruct usb_hcd *shared_hcd);\nextern struct usb_hcd *usb_get_hcd(struct usb_hcd *hcd);\nextern void usb_put_hcd(struct usb_hcd *hcd);\nextern int usb_hcd_is_primary_hcd(struct usb_hcd *hcd);\nextern int usb_add_hcd(struct usb_hcd *hcd,\n\t\tunsigned int irqnum, unsigned long irqflags);\nextern void usb_remove_hcd(struct usb_hcd *hcd);\nextern int usb_hcd_find_raw_port_number(struct usb_hcd *hcd, int port1);\nint usb_hcd_setup_local_mem(struct usb_hcd *hcd, phys_addr_t phys_addr,\n\t\t\t    dma_addr_t dma, size_t size);\n\nstruct platform_device;\nextern void usb_hcd_platform_shutdown(struct platform_device *dev);\n#ifdef CONFIG_USB_HCD_TEST_MODE\nextern int ehset_single_step_set_feature(struct usb_hcd *hcd, int port);\n#else\nstatic inline int ehset_single_step_set_feature(struct usb_hcd *hcd, int port)\n{\n\treturn 0;\n}\n#endif  \n\n#ifdef CONFIG_USB_PCI\nstruct pci_dev;\nstruct pci_device_id;\nextern int usb_hcd_pci_probe(struct pci_dev *dev,\n\t\t\t     const struct hc_driver *driver);\nextern void usb_hcd_pci_remove(struct pci_dev *dev);\nextern void usb_hcd_pci_shutdown(struct pci_dev *dev);\n\nextern int usb_hcd_amd_remote_wakeup_quirk(struct pci_dev *dev);\n\nextern const struct dev_pm_ops usb_hcd_pci_pm_ops;\n#endif  \n\n \nvoid usb_init_pool_max(void);\nint hcd_buffer_create(struct usb_hcd *hcd);\nvoid hcd_buffer_destroy(struct usb_hcd *hcd);\n\nvoid *hcd_buffer_alloc(struct usb_bus *bus, size_t size,\n\tgfp_t mem_flags, dma_addr_t *dma);\nvoid hcd_buffer_free(struct usb_bus *bus, size_t size,\n\tvoid *addr, dma_addr_t dma);\n\nvoid *hcd_buffer_alloc_pages(struct usb_hcd *hcd,\n\t\tsize_t size, gfp_t mem_flags, dma_addr_t *dma);\nvoid hcd_buffer_free_pages(struct usb_hcd *hcd,\n\t\tsize_t size, void *addr, dma_addr_t dma);\n\n \nextern irqreturn_t usb_hcd_irq(int irq, void *__hcd);\n\nextern void usb_hc_died(struct usb_hcd *hcd);\nextern void usb_hcd_poll_rh_status(struct usb_hcd *hcd);\nextern void usb_wakeup_notification(struct usb_device *hdev,\n\t\tunsigned int portnum);\n\nextern void usb_hcd_start_port_resume(struct usb_bus *bus, int portnum);\nextern void usb_hcd_end_port_resume(struct usb_bus *bus, int portnum);\n\n \n#define usb_gettoggle(dev, ep, out) (((dev)->toggle[out] >> (ep)) & 1)\n#define\tusb_dotoggle(dev, ep, out)  ((dev)->toggle[out] ^= (1 << (ep)))\n#define usb_settoggle(dev, ep, out, bit) \\\n\t\t((dev)->toggle[out] = ((dev)->toggle[out] & ~(1 << (ep))) | \\\n\t\t ((bit) << (ep)))\n\n \n\n \nextern struct usb_device *usb_alloc_dev(struct usb_device *parent,\n\t\t\t\t\tstruct usb_bus *, unsigned port);\nextern int usb_new_device(struct usb_device *dev);\nextern void usb_disconnect(struct usb_device **);\n\nextern int usb_get_configuration(struct usb_device *dev);\nextern void usb_destroy_configuration(struct usb_device *dev);\n\n \n\n \n\n#include <linux/usb/ch11.h>\n\n \n\nstruct usb_device;\n\nstruct usb_tt {\n\tstruct usb_device\t*hub;\t \n\tint\t\t\tmulti;\t \n\tunsigned\t\tthink_time;\t \n\tvoid\t\t\t*hcpriv;\t \n\n\t \n\tspinlock_t\t\tlock;\n\tstruct list_head\tclear_list;\t \n\tstruct work_struct\tclear_work;\n};\n\nstruct usb_tt_clear {\n\tstruct list_head\tclear_list;\n\tunsigned\t\ttt;\n\tu16\t\t\tdevinfo;\n\tstruct usb_hcd\t\t*hcd;\n\tstruct usb_host_endpoint\t*ep;\n};\n\nextern int usb_hub_clear_tt_buffer(struct urb *urb);\nextern void usb_ep0_reinit(struct usb_device *);\n\n \n#define DeviceRequest \\\n\t((USB_DIR_IN|USB_TYPE_STANDARD|USB_RECIP_DEVICE)<<8)\n#define DeviceOutRequest \\\n\t((USB_DIR_OUT|USB_TYPE_STANDARD|USB_RECIP_DEVICE)<<8)\n\n#define InterfaceRequest \\\n\t((USB_DIR_IN|USB_TYPE_STANDARD|USB_RECIP_INTERFACE)<<8)\n\n#define EndpointRequest \\\n\t((USB_DIR_IN|USB_TYPE_STANDARD|USB_RECIP_ENDPOINT)<<8)\n#define EndpointOutRequest \\\n\t((USB_DIR_OUT|USB_TYPE_STANDARD|USB_RECIP_ENDPOINT)<<8)\n\n \n#define HUB_CLASS_REQ(dir, type, request) ((((dir) | (type)) << 8) | (request))\n \n#define ClearHubFeature\t\tHUB_CLASS_REQ(USB_DIR_OUT, USB_RT_HUB, USB_REQ_CLEAR_FEATURE)\n#define ClearPortFeature\tHUB_CLASS_REQ(USB_DIR_OUT, USB_RT_PORT, USB_REQ_CLEAR_FEATURE)\n#define GetHubDescriptor\tHUB_CLASS_REQ(USB_DIR_IN, USB_RT_HUB, USB_REQ_GET_DESCRIPTOR)\n#define GetHubStatus\t\tHUB_CLASS_REQ(USB_DIR_IN, USB_RT_HUB, USB_REQ_GET_STATUS)\n#define GetPortStatus\t\tHUB_CLASS_REQ(USB_DIR_IN, USB_RT_PORT, USB_REQ_GET_STATUS)\n#define SetHubFeature\t\tHUB_CLASS_REQ(USB_DIR_OUT, USB_RT_HUB, USB_REQ_SET_FEATURE)\n#define SetPortFeature\t\tHUB_CLASS_REQ(USB_DIR_OUT, USB_RT_PORT, USB_REQ_SET_FEATURE)\n#define ClearTTBuffer\t\tHUB_CLASS_REQ(USB_DIR_OUT, USB_RT_PORT, HUB_CLEAR_TT_BUFFER)\n#define ResetTT\t\t\tHUB_CLASS_REQ(USB_DIR_OUT, USB_RT_PORT, HUB_RESET_TT)\n#define GetTTState\t\tHUB_CLASS_REQ(USB_DIR_IN, USB_RT_PORT, HUB_GET_TT_STATE)\n#define StopTT\t\t\tHUB_CLASS_REQ(USB_DIR_OUT, USB_RT_PORT, HUB_STOP_TT)\n\n\n \n\n \n#define SetHubDepth\t\tHUB_CLASS_REQ(USB_DIR_OUT, USB_RT_HUB, HUB_SET_DEPTH)\n#define GetPortErrorCount\tHUB_CLASS_REQ(USB_DIR_IN, USB_RT_PORT, HUB_GET_PORT_ERR_COUNT)\n\n \n#define FRAME_TIME_USECS\t1000L\n#define BitTime(bytecount) (7 * 8 * bytecount / 6)  \n\t\t \n\t\t \n\n#define NS_TO_US(ns)\tDIV_ROUND_UP(ns, 1000L)\n\t\t\t \n\n \n#define BW_HOST_DELAY\t1000L\t\t \n#define BW_HUB_LS_SETUP\t333L\t\t \n\t\t\t \n\n#define FRAME_TIME_BITS\t\t\t12000L\t \n#define FRAME_TIME_MAX_BITS_ALLOC\t(90L * FRAME_TIME_BITS / 100L)\n#define FRAME_TIME_MAX_USECS_ALLOC\t(90L * FRAME_TIME_USECS / 100L)\n\n \n#define USB2_HOST_DELAY\t5\t \n#define HS_NSECS(bytes) (((55 * 8 * 2083) \\\n\t+ (2083UL * (3 + BitTime(bytes))))/1000 \\\n\t+ USB2_HOST_DELAY)\n#define HS_NSECS_ISO(bytes) (((38 * 8 * 2083) \\\n\t+ (2083UL * (3 + BitTime(bytes))))/1000 \\\n\t+ USB2_HOST_DELAY)\n#define HS_USECS(bytes)\t\tNS_TO_US(HS_NSECS(bytes))\n#define HS_USECS_ISO(bytes)\tNS_TO_US(HS_NSECS_ISO(bytes))\n\nextern long usb_calc_bus_time(int speed, int is_input,\n\t\t\tint isoc, int bytecount);\n\n \n\nextern void usb_set_device_state(struct usb_device *udev,\n\t\tenum usb_device_state new_state);\n\n \n\n \n\nextern struct idr usb_bus_idr;\nextern struct mutex usb_bus_idr_lock;\nextern wait_queue_head_t usb_kill_urb_queue;\n\n\n#define usb_endpoint_out(ep_dir)\t(!((ep_dir) & USB_DIR_IN))\n\n#ifdef CONFIG_PM\nextern unsigned usb_wakeup_enabled_descendants(struct usb_device *udev);\nextern void usb_root_hub_lost_power(struct usb_device *rhdev);\nextern int hcd_bus_suspend(struct usb_device *rhdev, pm_message_t msg);\nextern int hcd_bus_resume(struct usb_device *rhdev, pm_message_t msg);\nextern void usb_hcd_resume_root_hub(struct usb_hcd *hcd);\n#else\nstatic inline unsigned usb_wakeup_enabled_descendants(struct usb_device *udev)\n{\n\treturn 0;\n}\nstatic inline void usb_hcd_resume_root_hub(struct usb_hcd *hcd)\n{\n\treturn;\n}\n#endif  \n\n \n\n#if defined(CONFIG_USB_MON) || defined(CONFIG_USB_MON_MODULE)\n\nstruct usb_mon_operations {\n\tvoid (*urb_submit)(struct usb_bus *bus, struct urb *urb);\n\tvoid (*urb_submit_error)(struct usb_bus *bus, struct urb *urb, int err);\n\tvoid (*urb_complete)(struct usb_bus *bus, struct urb *urb, int status);\n\t \n};\n\nextern const struct usb_mon_operations *mon_ops;\n\nstatic inline void usbmon_urb_submit(struct usb_bus *bus, struct urb *urb)\n{\n\tif (bus->monitored)\n\t\t(*mon_ops->urb_submit)(bus, urb);\n}\n\nstatic inline void usbmon_urb_submit_error(struct usb_bus *bus, struct urb *urb,\n    int error)\n{\n\tif (bus->monitored)\n\t\t(*mon_ops->urb_submit_error)(bus, urb, error);\n}\n\nstatic inline void usbmon_urb_complete(struct usb_bus *bus, struct urb *urb,\n\t\tint status)\n{\n\tif (bus->monitored)\n\t\t(*mon_ops->urb_complete)(bus, urb, status);\n}\n\nint usb_mon_register(const struct usb_mon_operations *ops);\nvoid usb_mon_deregister(void);\n\n#else\n\nstatic inline void usbmon_urb_submit(struct usb_bus *bus, struct urb *urb) {}\nstatic inline void usbmon_urb_submit_error(struct usb_bus *bus, struct urb *urb,\n    int error) {}\nstatic inline void usbmon_urb_complete(struct usb_bus *bus, struct urb *urb,\n\t\tint status) {}\n\n#endif  \n\n \n\n \n\n \nextern struct rw_semaphore ehci_cf_port_reset_rwsem;\n\n \n#define USB_UHCI_LOADED\t\t0\n#define USB_OHCI_LOADED\t\t1\n#define USB_EHCI_LOADED\t\t2\nextern unsigned long usb_hcds_loaded;\n\n#endif  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}