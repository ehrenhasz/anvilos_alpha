{
  "module_name": "typec_mux.h",
  "hash_id": "cd80858962a5b5cb8823441333979c13862ce8cd8c89e22799b2abe117c795b4",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/usb/typec_mux.h",
  "human_readable_source": "\n\n#ifndef __USB_TYPEC_MUX\n#define __USB_TYPEC_MUX\n\n#include <linux/property.h>\n#include <linux/usb/typec.h>\n\nstruct device;\nstruct typec_mux;\nstruct typec_mux_dev;\nstruct typec_switch;\nstruct typec_switch_dev;\nstruct typec_altmode;\nstruct fwnode_handle;\n\ntypedef int (*typec_switch_set_fn_t)(struct typec_switch_dev *sw,\n\t\t\t\t     enum typec_orientation orientation);\n\nstruct typec_switch_desc {\n\tstruct fwnode_handle *fwnode;\n\ttypec_switch_set_fn_t set;\n\tconst char *name;\n\tvoid *drvdata;\n};\n\nstruct typec_switch *fwnode_typec_switch_get(struct fwnode_handle *fwnode);\nvoid typec_switch_put(struct typec_switch *sw);\nint typec_switch_set(struct typec_switch *sw,\n\t\t     enum typec_orientation orientation);\n\nstatic inline struct typec_switch *typec_switch_get(struct device *dev)\n{\n\treturn fwnode_typec_switch_get(dev_fwnode(dev));\n}\n\nstruct typec_switch_dev *\ntypec_switch_register(struct device *parent,\n\t\t      const struct typec_switch_desc *desc);\nvoid typec_switch_unregister(struct typec_switch_dev *sw);\n\nvoid typec_switch_set_drvdata(struct typec_switch_dev *sw, void *data);\nvoid *typec_switch_get_drvdata(struct typec_switch_dev *sw);\n\nstruct typec_mux_state {\n\tstruct typec_altmode *alt;\n\tunsigned long mode;\n\tvoid *data;\n};\n\ntypedef int (*typec_mux_set_fn_t)(struct typec_mux_dev *mux,\n\t\t\t\t  struct typec_mux_state *state);\n\nstruct typec_mux_desc {\n\tstruct fwnode_handle *fwnode;\n\ttypec_mux_set_fn_t set;\n\tconst char *name;\n\tvoid *drvdata;\n};\n\n#if IS_ENABLED(CONFIG_TYPEC)\n\nstruct typec_mux *fwnode_typec_mux_get(struct fwnode_handle *fwnode);\nvoid typec_mux_put(struct typec_mux *mux);\nint typec_mux_set(struct typec_mux *mux, struct typec_mux_state *state);\n\nstruct typec_mux_dev *\ntypec_mux_register(struct device *parent, const struct typec_mux_desc *desc);\nvoid typec_mux_unregister(struct typec_mux_dev *mux);\n\nvoid typec_mux_set_drvdata(struct typec_mux_dev *mux, void *data);\nvoid *typec_mux_get_drvdata(struct typec_mux_dev *mux);\n\n#else\n\nstatic inline struct typec_mux *fwnode_typec_mux_get(struct fwnode_handle *fwnode)\n{\n\treturn NULL;\n}\n\nstatic inline void typec_mux_put(struct typec_mux *mux) {}\n\nstatic inline int typec_mux_set(struct typec_mux *mux, struct typec_mux_state *state)\n{\n\treturn 0;\n}\n\nstatic inline struct typec_mux_dev *\ntypec_mux_register(struct device *parent, const struct typec_mux_desc *desc)\n{\n\treturn ERR_PTR(-EOPNOTSUPP);\n}\nstatic inline void typec_mux_unregister(struct typec_mux_dev *mux) {}\n\nstatic inline void typec_mux_set_drvdata(struct typec_mux_dev *mux, void *data) {}\nstatic inline void *typec_mux_get_drvdata(struct typec_mux_dev *mux)\n{\n\treturn ERR_PTR(-EOPNOTSUPP);\n}\n\n#endif  \n\nstatic inline struct typec_mux *typec_mux_get(struct device *dev)\n{\n\treturn fwnode_typec_mux_get(dev_fwnode(dev));\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}