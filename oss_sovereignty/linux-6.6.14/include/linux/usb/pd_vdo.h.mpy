{
  "module_name": "pd_vdo.h",
  "hash_id": "d89d2fe5de460ec37f9a30131539f1504a16ff6804a72d556dd270f7630f7f51",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/usb/pd_vdo.h",
  "human_readable_source": " \n \n\n#ifndef __LINUX_USB_PD_VDO_H\n#define __LINUX_USB_PD_VDO_H\n\n#include \"pd.h\"\n\n \n\n#define VDO_MAX_OBJECTS\t\t6\n#define VDO_MAX_SIZE\t\t(VDO_MAX_OBJECTS + 1)\n\n \n#define VDO(vid, type, ver, custom)\t\t\t\\\n\t(((vid) << 16) |\t\t\t\t\\\n\t ((type) << 15) |\t\t\t\t\\\n\t ((ver) << 13) |\t\t\t\t\\\n\t ((custom) & 0x7FFF))\n\n#define VDO_SVDM_TYPE\t\t(1 << 15)\n#define VDO_SVDM_VERS(x)\t((x) << 13)\n#define VDO_OPOS(x)\t\t((x) << 8)\n#define VDO_CMDT(x)\t\t((x) << 6)\n#define VDO_SVDM_VERS_MASK\tVDO_SVDM_VERS(0x3)\n#define VDO_OPOS_MASK\t\tVDO_OPOS(0x7)\n#define VDO_CMDT_MASK\t\tVDO_CMDT(0x3)\n\n#define CMDT_INIT\t\t0\n#define CMDT_RSP_ACK\t\t1\n#define CMDT_RSP_NAK\t\t2\n#define CMDT_RSP_BUSY\t\t3\n\n \n#define VDO_SRC_INITIATOR\t(0 << 5)\n#define VDO_SRC_RESPONDER\t(1 << 5)\n\n#define CMD_DISCOVER_IDENT\t1\n#define CMD_DISCOVER_SVID\t2\n#define CMD_DISCOVER_MODES\t3\n#define CMD_ENTER_MODE\t\t4\n#define CMD_EXIT_MODE\t\t5\n#define CMD_ATTENTION\t\t6\n\n#define VDO_CMD_VENDOR(x)    (((0x10 + (x)) & 0x1f))\n\n \n#define VDO_CMD_VERSION\t\tVDO_CMD_VENDOR(0)\n#define VDO_CMD_SEND_INFO\tVDO_CMD_VENDOR(1)\n#define VDO_CMD_READ_INFO\tVDO_CMD_VENDOR(2)\n#define VDO_CMD_REBOOT\t\tVDO_CMD_VENDOR(5)\n#define VDO_CMD_FLASH_ERASE\tVDO_CMD_VENDOR(6)\n#define VDO_CMD_FLASH_WRITE\tVDO_CMD_VENDOR(7)\n#define VDO_CMD_ERASE_SIG\tVDO_CMD_VENDOR(8)\n#define VDO_CMD_PING_ENABLE\tVDO_CMD_VENDOR(10)\n#define VDO_CMD_CURRENT\t\tVDO_CMD_VENDOR(11)\n#define VDO_CMD_FLIP\t\tVDO_CMD_VENDOR(12)\n#define VDO_CMD_GET_LOG\t\tVDO_CMD_VENDOR(13)\n#define VDO_CMD_CCD_EN\t\tVDO_CMD_VENDOR(14)\n\n#define PD_VDO_VID(vdo)\t\t((vdo) >> 16)\n#define PD_VDO_SVDM(vdo)\t(((vdo) >> 15) & 1)\n#define PD_VDO_SVDM_VER(vdo)\t(((vdo) >> 13) & 0x3)\n#define PD_VDO_OPOS(vdo)\t(((vdo) >> 8) & 0x7)\n#define PD_VDO_CMD(vdo)\t\t((vdo) & 0x1f)\n#define PD_VDO_CMDT(vdo)\t(((vdo) >> 6) & 0x3)\n\n \n#define VDO_INDEX_HDR\t\t0\n#define VDO_INDEX_IDH\t\t1\n#define VDO_INDEX_CSTAT\t\t2\n#define VDO_INDEX_CABLE\t\t3\n#define VDO_INDEX_PRODUCT\t3\n#define VDO_INDEX_AMA\t\t4\n\n \n\n \n#define IDH_PTYPE_UNDEF\t\t0\n\n \n#define IDH_PTYPE_NOT_UFP\t0\n#define IDH_PTYPE_HUB\t\t1\n#define IDH_PTYPE_PERIPH\t2\n#define IDH_PTYPE_PSD\t\t3\n#define IDH_PTYPE_AMA\t\t5\n\n \n#define IDH_PTYPE_NOT_CABLE\t0\n#define IDH_PTYPE_PCABLE\t3\n#define IDH_PTYPE_ACABLE\t4\n#define IDH_PTYPE_VPD\t\t6\n\n \n#define IDH_PTYPE_NOT_DFP\t0\n#define IDH_PTYPE_DFP_HUB\t1\n#define IDH_PTYPE_DFP_HOST\t2\n#define IDH_PTYPE_DFP_PB\t3\n\n \n#define IDH_DFP_MASK\t\tGENMASK(25, 23)\n#define IDH_CONN_MASK\t\tGENMASK(22, 21)\n\n#define VDO_IDH(usbh, usbd, ufp_cable, is_modal, dfp, conn, vid)\t\t\\\n\t((usbh) << 31 | (usbd) << 30 | ((ufp_cable) & 0x7) << 27\t\t\\\n\t | (is_modal) << 26 | ((dfp) & 0x7) << 23 | ((conn) & 0x3) << 21\t\\\n\t | ((vid) & 0xffff))\n\n#define PD_IDH_PTYPE(vdo)\t(((vdo) >> 27) & 0x7)\n#define PD_IDH_VID(vdo)\t\t((vdo) & 0xffff)\n#define PD_IDH_MODAL_SUPP(vdo)\t((vdo) & (1 << 26))\n#define PD_IDH_DFP_PTYPE(vdo)\t(((vdo) >> 23) & 0x7)\n#define PD_IDH_CONN_TYPE(vdo)\t(((vdo) >> 21) & 0x3)\n\n \n#define PD_CSTAT_XID(vdo)\t(vdo)\n#define VDO_CERT(xid)\t\t((xid) & 0xffffffff)\n\n \n#define VDO_PRODUCT(pid, bcd)\t(((pid) & 0xffff) << 16 | ((bcd) & 0xffff))\n#define PD_PRODUCT_PID(vdo)\t(((vdo) >> 16) & 0xffff)\n\n \n#define PD_VDO_UFP_DEVCAP(vdo)\t(((vdo) & GENMASK(27, 24)) >> 24)\n\n \n#define UFP_VDO_VER1_2\t\t2\n\n \n#define DEV_USB2_CAPABLE\tBIT(0)\n#define DEV_USB2_BILLBOARD\tBIT(1)\n#define DEV_USB3_CAPABLE\tBIT(2)\n#define DEV_USB4_CAPABLE\tBIT(3)\n\n \n#define UFP_RECEPTACLE\t\t2\n#define UFP_CAPTIVE\t\t3\n\n \n#define AMA_VCONN_PWR_1W\t0\n#define AMA_VCONN_PWR_1W5\t1\n#define AMA_VCONN_PWR_2W\t2\n#define AMA_VCONN_PWR_3W\t3\n#define AMA_VCONN_PWR_4W\t4\n#define AMA_VCONN_PWR_5W\t5\n#define AMA_VCONN_PWR_6W\t6\n\n \n#define AMA_VCONN_NOT_REQ\t0\n#define AMA_VCONN_REQ\t\t1\n\n \n#define AMA_VBUS_REQ\t\t0\n#define AMA_VBUS_NOT_REQ\t1\n\n \n#define UFP_ALTMODE_NOT_SUPP\t0\n#define UFP_ALTMODE_TBT3\tBIT(0)\n#define UFP_ALTMODE_RECFG\tBIT(1)\n#define UFP_ALTMODE_NO_RECFG\tBIT(2)\n\n \n#define UFP_USB2_ONLY\t\t0\n#define UFP_USB32_GEN1\t\t1\n#define UFP_USB32_4_GEN2\t2\n#define UFP_USB4_GEN3\t\t3\n\n#define VDO_UFP(ver, cap, conn, vcpwr, vcr, vbr, alt, spd)\t\t\t\\\n\t(((ver) & 0x7) << 29 | ((cap) & 0xf) << 24 | ((conn) & 0x3) << 22\t\\\n\t | ((vcpwr) & 0x7) << 8 | (vcr) << 7 | (vbr) << 6 | ((alt) & 0x7) << 3\t\\\n\t | ((spd) & 0x7))\n\n \n#define PD_VDO_DFP_HOSTCAP(vdo)\t(((vdo) & GENMASK(26, 24)) >> 24)\n\n#define DFP_VDO_VER1_1\t\t1\n#define HOST_USB2_CAPABLE\tBIT(0)\n#define HOST_USB3_CAPABLE\tBIT(1)\n#define HOST_USB4_CAPABLE\tBIT(2)\n#define DFP_RECEPTACLE\t\t2\n#define DFP_CAPTIVE\t\t3\n\n#define VDO_DFP(ver, cap, conn, pnum)\t\t\t\t\t\t\\\n\t(((ver) & 0x7) << 29 | ((cap) & 0x7) << 24 | ((conn) & 0x3) << 22\t\\\n\t | ((pnum) & 0x1f))\n\n \n \n#define CABLE_VDO_VER1_0\t0\n#define CABLE_VDO_VER1_3\t3\n\n \n#define CABLE_ATYPE\t\t0\n#define CABLE_BTYPE\t\t1\n#define CABLE_CTYPE\t\t2\n#define CABLE_CAPTIVE\t\t3\n\n \n#define CABLE_LATENCY_1M\t1\n#define CABLE_LATENCY_2M\t2\n#define CABLE_LATENCY_3M\t3\n#define CABLE_LATENCY_4M\t4\n#define CABLE_LATENCY_5M\t5\n#define CABLE_LATENCY_6M\t6\n#define CABLE_LATENCY_7M\t7\n#define CABLE_LATENCY_7M_PLUS\t8\n\n \n#define PCABLE_VCONN_NOT_REQ\t0\n#define PCABLE_VCONN_REQ\t1\n#define ACABLE_ONE_END\t\t2\n#define ACABLE_BOTH_END\t\t3\n\n \n#define CABLE_MAX_VBUS_20V\t0\n#define CABLE_MAX_VBUS_30V\t1\n#define CABLE_MAX_VBUS_40V\t2\n#define CABLE_MAX_VBUS_50V\t3\n\n \n#define ACABLE_SBU_SUPP\t\t0\n#define ACABLE_SBU_NOT_SUPP\t1\n#define ACABLE_SBU_PASSIVE\t0\n#define ACABLE_SBU_ACTIVE\t1\n\n \n#define CABLE_CURR_DEF\t\t0\n#define CABLE_CURR_3A\t\t1\n#define CABLE_CURR_5A\t\t2\n\n \n#define CABLE_USBSS_U2_ONLY\t0\n#define CABLE_USBSS_U31_GEN1\t1\n#define CABLE_USBSS_U31_GEN2\t2\n\n \n#define CABLE_USB2_ONLY\t\t0\n#define CABLE_USB32_GEN1\t1\n#define CABLE_USB32_4_GEN2\t2\n#define CABLE_USB4_GEN3\t\t3\n\n#define VDO_CABLE(hw, fw, cbl, lat, term, tx1d, tx2d, rx1d, rx2d, cur, vps, sopp, usbss) \\\n\t(((hw) & 0x7) << 28 | ((fw) & 0x7) << 24 | ((cbl) & 0x3) << 18\t\t\\\n\t | ((lat) & 0x7) << 13 | ((term) & 0x3) << 11 | (tx1d) << 10\t\t\\\n\t | (tx2d) << 9 | (rx1d) << 8 | (rx2d) << 7 | ((cur) & 0x3) << 5\t\t\\\n\t | (vps) << 4 | (sopp) << 3 | ((usbss) & 0x7))\n#define VDO_PCABLE(hw, fw, ver, conn, lat, term, vbm, cur, spd)\t\t\t\\\n\t(((hw) & 0xf) << 28 | ((fw) & 0xf) << 24 | ((ver) & 0x7) << 21\t\t\\\n\t | ((conn) & 0x3) << 18 | ((lat) & 0xf) << 13 | ((term) & 0x3) << 11\t\\\n\t | ((vbm) & 0x3) << 9 | ((cur) & 0x3) << 5 | ((spd) & 0x7))\n#define VDO_ACABLE1(hw, fw, ver, conn, lat, term, vbm, sbu, sbut, cur, vbt, sopp, spd) \\\n\t(((hw) & 0xf) << 28 | ((fw) & 0xf) << 24 | ((ver) & 0x7) << 21\t\t\\\n\t | ((conn) & 0x3) << 18\t| ((lat) & 0xf) << 13 | ((term) & 0x3) << 11\t\\\n\t | ((vbm) & 0x3) << 9 | (sbu) << 8 | (sbut) << 7 | ((cur) & 0x3) << 5\t\\\n\t | (vbt) << 4 | (sopp) << 3 | ((spd) & 0x7))\n\n#define VDO_TYPEC_CABLE_TYPE(vdo)\t(((vdo) >> 18) & 0x3)\n\n \n \n#define ACAB2_U3_CLD_10MW_PLUS\t0\n#define ACAB2_U3_CLD_10MW\t1\n#define ACAB2_U3_CLD_5MW\t2\n#define ACAB2_U3_CLD_1MW\t3\n#define ACAB2_U3_CLD_500UW\t4\n#define ACAB2_U3_CLD_200UW\t5\n#define ACAB2_U3_CLD_50UW\t6\n\n \n#define ACAB2_U3U0_DIRECT\t0\n#define ACAB2_U3U0_U3S\t\t1\n#define ACAB2_PHY_COPPER\t0\n#define ACAB2_PHY_OPTICAL\t1\n#define ACAB2_REDRIVER\t\t0\n#define ACAB2_RETIMER\t\t1\n#define ACAB2_USB4_SUPP\t\t0\n#define ACAB2_USB4_NOT_SUPP\t1\n#define ACAB2_USB2_SUPP\t\t0\n#define ACAB2_USB2_NOT_SUPP\t1\n#define ACAB2_USB32_SUPP\t0\n#define ACAB2_USB32_NOT_SUPP\t1\n#define ACAB2_LANES_ONE\t\t0\n#define ACAB2_LANES_TWO\t\t1\n#define ACAB2_OPT_ISO_NO\t0\n#define ACAB2_OPT_ISO_YES\t1\n#define ACAB2_GEN_1\t\t0\n#define ACAB2_GEN_2_PLUS\t1\n\n#define VDO_ACABLE2(mtemp, stemp, u3p, trans, phy, ele, u4, hops, u2, u32, lane, iso, gen)\t\\\n\t(((mtemp) & 0xff) << 24 | ((stemp) & 0xff) << 16 | ((u3p) & 0x7) << 12\t\\\n\t | (trans) << 11 | (phy) << 10 | (ele) << 9 | (u4) << 8\t\t\t\\\n\t | ((hops) & 0x3) << 6 | (u2) << 5 | (u32) << 4 | (lane) << 3\t\t\\\n\t | (iso) << 2 | (gen))\n\n \n#define VDO_AMA(hw, fw, tx1d, tx2d, rx1d, rx2d, vcpwr, vcr, vbr, usbss) \\\n\t(((hw) & 0x7) << 28 | ((fw) & 0x7) << 24\t\t\t\\\n\t | (tx1d) << 11 | (tx2d) << 10 | (rx1d) << 9 | (rx2d) << 8\t\\\n\t | ((vcpwr) & 0x7) << 5 | (vcr) << 4 | (vbr) << 3\t\t\\\n\t | ((usbss) & 0x7))\n\n#define PD_VDO_AMA_VCONN_REQ(vdo)\t(((vdo) >> 4) & 1)\n#define PD_VDO_AMA_VBUS_REQ(vdo)\t(((vdo) >> 3) & 1)\n\n#define AMA_USBSS_U2_ONLY\t0\n#define AMA_USBSS_U31_GEN1\t1\n#define AMA_USBSS_U31_GEN2\t2\n#define AMA_USBSS_BBONLY\t3\n\n \n#define VPD_VDO_VER1_0\t\t0\n#define VPD_MAX_VBUS_20V\t0\n#define VPD_MAX_VBUS_30V\t1\n#define VPD_MAX_VBUS_40V\t2\n#define VPD_MAX_VBUS_50V\t3\n#define VPDCT_CURR_3A\t\t0\n#define VPDCT_CURR_5A\t\t1\n#define VPDCT_NOT_SUPP\t\t0\n#define VPDCT_SUPP\t\t1\n\n#define VDO_VPD(hw, fw, ver, vbm, curr, vbi, gi, ct)\t\t\t\\\n\t(((hw) & 0xf) << 28 | ((fw) & 0xf) << 24 | ((ver) & 0x7) << 21\t\\\n\t | ((vbm) & 0x3) << 15 | (curr) << 14 | ((vbi) & 0x3f) << 7\t\\\n\t | ((gi) & 0x3f) << 1 | (ct))\n\n \n#define VDO_SVID(svid0, svid1)\t(((svid0) & 0xffff) << 16 | ((svid1) & 0xffff))\n#define PD_VDO_SVID_SVID0(vdo)\t((vdo) >> 16)\n#define PD_VDO_SVID_SVID1(vdo)\t((vdo) & 0xffff)\n\n \n#define USB_SID_PD\t\t0xff00  \n#define USB_SID_DISPLAYPORT\t0xff01\n#define USB_SID_MHL\t\t0xff02\t \n\n \n\n#define PD_T_VDM_UNSTRUCTURED\t500\n#define PD_T_VDM_BUSY\t\t100\n#define PD_T_VDM_WAIT_MODE_E\t100\n#define PD_T_VDM_SNDR_RSP\t30\n#define PD_T_VDM_E_MODE\t\t25\n#define PD_T_VDM_RCVR_RSP\t15\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}