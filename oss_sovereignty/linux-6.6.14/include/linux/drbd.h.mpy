{
  "module_name": "drbd.h",
  "hash_id": "f3114a681e98f50753160aac26d64a723b813d20f97d1e896390cf83635ba40c",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/drbd.h",
  "human_readable_source": " \n \n#ifndef DRBD_H\n#define DRBD_H\n#include <asm/types.h>\n\n#ifdef __KERNEL__\n#include <linux/types.h>\n#include <asm/byteorder.h>\n#else\n#include <sys/types.h>\n#include <sys/wait.h>\n#include <limits.h>\n\n \n\n#if __BYTE_ORDER == __LITTLE_ENDIAN\n#define __LITTLE_ENDIAN_BITFIELD\n#elif __BYTE_ORDER == __BIG_ENDIAN\n#define __BIG_ENDIAN_BITFIELD\n#else\n# error \"sorry, weird endianness on this box\"\n#endif\n\n#endif\n\nenum drbd_io_error_p {\n\tEP_PASS_ON,  \n\tEP_CALL_HELPER,\n\tEP_DETACH\n};\n\nenum drbd_fencing_p {\n\tFP_NOT_AVAIL = -1,  \n\tFP_DONT_CARE = 0,\n\tFP_RESOURCE,\n\tFP_STONITH\n};\n\nenum drbd_disconnect_p {\n\tDP_RECONNECT,\n\tDP_DROP_NET_CONF,\n\tDP_FREEZE_IO\n};\n\nenum drbd_after_sb_p {\n\tASB_DISCONNECT,\n\tASB_DISCARD_YOUNGER_PRI,\n\tASB_DISCARD_OLDER_PRI,\n\tASB_DISCARD_ZERO_CHG,\n\tASB_DISCARD_LEAST_CHG,\n\tASB_DISCARD_LOCAL,\n\tASB_DISCARD_REMOTE,\n\tASB_CONSENSUS,\n\tASB_DISCARD_SECONDARY,\n\tASB_CALL_HELPER,\n\tASB_VIOLENTLY\n};\n\nenum drbd_on_no_data {\n\tOND_IO_ERROR,\n\tOND_SUSPEND_IO\n};\n\nenum drbd_on_congestion {\n\tOC_BLOCK,\n\tOC_PULL_AHEAD,\n\tOC_DISCONNECT,\n};\n\nenum drbd_read_balancing {\n\tRB_PREFER_LOCAL,\n\tRB_PREFER_REMOTE,\n\tRB_ROUND_ROBIN,\n\tRB_LEAST_PENDING,\n\tRB_CONGESTED_REMOTE,\n\tRB_32K_STRIPING,\n\tRB_64K_STRIPING,\n\tRB_128K_STRIPING,\n\tRB_256K_STRIPING,\n\tRB_512K_STRIPING,\n\tRB_1M_STRIPING,\n};\n\n \nenum drbd_ret_code {\n\tERR_CODE_BASE\t\t= 100,\n\tNO_ERROR\t\t= 101,\n\tERR_LOCAL_ADDR\t\t= 102,\n\tERR_PEER_ADDR\t\t= 103,\n\tERR_OPEN_DISK\t\t= 104,\n\tERR_OPEN_MD_DISK\t= 105,\n\tERR_DISK_NOT_BDEV\t= 107,\n\tERR_MD_NOT_BDEV\t\t= 108,\n\tERR_DISK_TOO_SMALL\t= 111,\n\tERR_MD_DISK_TOO_SMALL\t= 112,\n\tERR_BDCLAIM_DISK\t= 114,\n\tERR_BDCLAIM_MD_DISK\t= 115,\n\tERR_MD_IDX_INVALID\t= 116,\n\tERR_IO_MD_DISK\t\t= 118,\n\tERR_MD_INVALID          = 119,\n\tERR_AUTH_ALG\t\t= 120,\n\tERR_AUTH_ALG_ND\t\t= 121,\n\tERR_NOMEM\t\t= 122,\n\tERR_DISCARD_IMPOSSIBLE\t= 123,\n\tERR_DISK_CONFIGURED\t= 124,\n\tERR_NET_CONFIGURED\t= 125,\n\tERR_MANDATORY_TAG\t= 126,\n\tERR_MINOR_INVALID\t= 127,\n\tERR_INTR\t\t= 129,  \n\tERR_RESIZE_RESYNC\t= 130,\n\tERR_NO_PRIMARY\t\t= 131,\n\tERR_RESYNC_AFTER\t= 132,\n\tERR_RESYNC_AFTER_CYCLE\t= 133,\n\tERR_PAUSE_IS_SET\t= 134,\n\tERR_PAUSE_IS_CLEAR\t= 135,\n\tERR_PACKET_NR\t\t= 137,\n\tERR_NO_DISK\t\t= 138,\n\tERR_NOT_PROTO_C\t\t= 139,\n\tERR_NOMEM_BITMAP\t= 140,\n\tERR_INTEGRITY_ALG\t= 141,  \n\tERR_INTEGRITY_ALG_ND\t= 142,  \n\tERR_CPU_MASK_PARSE\t= 143,  \n\tERR_CSUMS_ALG\t\t= 144,  \n\tERR_CSUMS_ALG_ND\t= 145,  \n\tERR_VERIFY_ALG\t\t= 146,  \n\tERR_VERIFY_ALG_ND\t= 147,  \n\tERR_CSUMS_RESYNC_RUNNING= 148,  \n\tERR_VERIFY_RUNNING\t= 149,  \n\tERR_DATA_NOT_CURRENT\t= 150,\n\tERR_CONNECTED\t\t= 151,  \n\tERR_PERM\t\t= 152,\n\tERR_NEED_APV_93\t\t= 153,\n\tERR_STONITH_AND_PROT_A  = 154,\n\tERR_CONG_NOT_PROTO_A\t= 155,\n\tERR_PIC_AFTER_DEP\t= 156,\n\tERR_PIC_PEER_DEP\t= 157,\n\tERR_RES_NOT_KNOWN\t= 158,\n\tERR_RES_IN_USE\t\t= 159,\n\tERR_MINOR_CONFIGURED    = 160,\n\tERR_MINOR_OR_VOLUME_EXISTS = 161,\n\tERR_INVALID_REQUEST\t= 162,\n\tERR_NEED_APV_100\t= 163,\n\tERR_NEED_ALLOW_TWO_PRI  = 164,\n\tERR_MD_UNCLEAN          = 165,\n\tERR_MD_LAYOUT_CONNECTED = 166,\n\tERR_MD_LAYOUT_TOO_BIG   = 167,\n\tERR_MD_LAYOUT_TOO_SMALL = 168,\n\tERR_MD_LAYOUT_NO_FIT    = 169,\n\tERR_IMPLICIT_SHRINK     = 170,\n\t \n\tAFTER_LAST_ERR_CODE\n};\n\n#define DRBD_PROT_A   1\n#define DRBD_PROT_B   2\n#define DRBD_PROT_C   3\n\nenum drbd_role {\n\tR_UNKNOWN = 0,\n\tR_PRIMARY = 1,      \n\tR_SECONDARY = 2,    \n\tR_MASK = 3,\n};\n\n \nenum drbd_conns {\n\tC_STANDALONE,\n\tC_DISCONNECTING,   \n\tC_UNCONNECTED,     \n\n\t \n\tC_TIMEOUT,\n\tC_BROKEN_PIPE,\n\tC_NETWORK_FAILURE,\n\tC_PROTOCOL_ERROR,\n\tC_TEAR_DOWN,\n\n\tC_WF_CONNECTION,\n\tC_WF_REPORT_PARAMS,  \n\tC_CONNECTED,       \n\tC_STARTING_SYNC_S,   \n\tC_STARTING_SYNC_T,   \n\tC_WF_BITMAP_S,\n\tC_WF_BITMAP_T,\n\tC_WF_SYNC_UUID,\n\n\t \n\tC_SYNC_SOURCE,\n\tC_SYNC_TARGET,\n\tC_VERIFY_S,\n\tC_VERIFY_T,\n\tC_PAUSED_SYNC_S,\n\tC_PAUSED_SYNC_T,\n\n\tC_AHEAD,\n\tC_BEHIND,\n\n\tC_MASK = 31\n};\n\nenum drbd_disk_state {\n\tD_DISKLESS,\n\tD_ATTACHING,       \n\tD_FAILED,          \n\t\t\t   \n\tD_NEGOTIATING,     \n\tD_INCONSISTENT,\n\tD_OUTDATED,\n\tD_UNKNOWN,        \n\tD_CONSISTENT,      \n\tD_UP_TO_DATE,        \n\tD_MASK = 15\n};\n\nunion drbd_state {\n \n\tstruct {\n#if defined(__LITTLE_ENDIAN_BITFIELD)\n\t\tunsigned role:2 ;    \n\t\tunsigned peer:2 ;    \n\t\tunsigned conn:5 ;    \n\t\tunsigned disk:4 ;    \n\t\tunsigned pdsk:4 ;    \n\t\tunsigned susp:1 ;    \n\t\tunsigned aftr_isp:1 ;  \n\t\tunsigned peer_isp:1 ;\n\t\tunsigned user_isp:1 ;\n\t\tunsigned susp_nod:1 ;  \n\t\tunsigned susp_fen:1 ;  \n\t\tunsigned _pad:9;    \n#elif defined(__BIG_ENDIAN_BITFIELD)\n\t\tunsigned _pad:9;\n\t\tunsigned susp_fen:1 ;\n\t\tunsigned susp_nod:1 ;\n\t\tunsigned user_isp:1 ;\n\t\tunsigned peer_isp:1 ;\n\t\tunsigned aftr_isp:1 ;  \n\t\tunsigned susp:1 ;    \n\t\tunsigned pdsk:4 ;    \n\t\tunsigned disk:4 ;    \n\t\tunsigned conn:5 ;    \n\t\tunsigned peer:2 ;    \n\t\tunsigned role:2 ;    \n#else\n# error \"this endianness is not supported\"\n#endif\n\t};\n\tunsigned int i;\n};\n\nenum drbd_state_rv {\n\tSS_CW_NO_NEED = 4,\n\tSS_CW_SUCCESS = 3,\n\tSS_NOTHING_TO_DO = 2,\n\tSS_SUCCESS = 1,\n\tSS_UNKNOWN_ERROR = 0,  \n\tSS_TWO_PRIMARIES = -1,\n\tSS_NO_UP_TO_DATE_DISK = -2,\n\tSS_NO_LOCAL_DISK = -4,\n\tSS_NO_REMOTE_DISK = -5,\n\tSS_CONNECTED_OUTDATES = -6,\n\tSS_PRIMARY_NOP = -7,\n\tSS_RESYNC_RUNNING = -8,\n\tSS_ALREADY_STANDALONE = -9,\n\tSS_CW_FAILED_BY_PEER = -10,\n\tSS_IS_DISKLESS = -11,\n\tSS_DEVICE_IN_USE = -12,\n\tSS_NO_NET_CONFIG = -13,\n\tSS_NO_VERIFY_ALG = -14,        \n\tSS_NEED_CONNECTION = -15,     \n\tSS_LOWER_THAN_OUTDATED = -16,\n\tSS_NOT_SUPPORTED = -17,       \n\tSS_IN_TRANSIENT_STATE = -18,   \n\tSS_CONCURRENT_ST_CHG = -19,    \n\tSS_O_VOL_PEER_PRI = -20,\n\tSS_OUTDATE_WO_CONN = -21,\n\tSS_AFTER_LAST_ERROR = -22,     \n};\n\n#define SHARED_SECRET_MAX 64\n\n#define MDF_CONSISTENT\t\t(1 << 0)\n#define MDF_PRIMARY_IND\t\t(1 << 1)\n#define MDF_CONNECTED_IND\t(1 << 2)\n#define MDF_FULL_SYNC\t\t(1 << 3)\n#define MDF_WAS_UP_TO_DATE\t(1 << 4)\n#define MDF_PEER_OUT_DATED\t(1 << 5)\n#define MDF_CRASHED_PRIMARY\t(1 << 6)\n#define MDF_AL_CLEAN\t\t(1 << 7)\n#define MDF_AL_DISABLED\t\t(1 << 8)\n\n#define MAX_PEERS 32\n\nenum drbd_uuid_index {\n\tUI_CURRENT,\n\tUI_BITMAP,\n\tUI_HISTORY_START,\n\tUI_HISTORY_END,\n\tUI_SIZE,       \n\tUI_FLAGS,      \n\tUI_EXTENDED_SIZE    \n};\n\n#define HISTORY_UUIDS MAX_PEERS\n\nenum drbd_timeout_flag {\n\tUT_DEFAULT      = 0,\n\tUT_DEGRADED     = 1,\n\tUT_PEER_OUTDATED = 2,\n};\n\nenum drbd_notification_type {\n\tNOTIFY_EXISTS,\n\tNOTIFY_CREATE,\n\tNOTIFY_CHANGE,\n\tNOTIFY_DESTROY,\n\tNOTIFY_CALL,\n\tNOTIFY_RESPONSE,\n\n\tNOTIFY_CONTINUES = 0x8000,\n\tNOTIFY_FLAGS = NOTIFY_CONTINUES,\n};\n\nenum drbd_peer_state {\n\tP_INCONSISTENT = 3,\n\tP_OUTDATED = 4,\n\tP_DOWN = 5,\n\tP_PRIMARY = 6,\n\tP_FENCING = 7,\n};\n\n#define UUID_JUST_CREATED ((__u64)4)\n\nenum write_ordering_e {\n\tWO_NONE,\n\tWO_DRAIN_IO,\n\tWO_BDEV_FLUSH,\n\tWO_BIO_BARRIER\n};\n\n \n#define DRBD_MAGIC 0x83740267\n#define DRBD_MAGIC_BIG 0x835a\n#define DRBD_MAGIC_100 0x8620ec20\n\n#define DRBD_MD_MAGIC_07   (DRBD_MAGIC+3)\n#define DRBD_MD_MAGIC_08   (DRBD_MAGIC+4)\n#define DRBD_MD_MAGIC_84_UNCLEAN\t(DRBD_MAGIC+5)\n\n\n \n#define DRBD_AL_MAGIC 0x69cb65a2\n\n \n#define DRBD_MD_INDEX_INTERNAL -1\n#define DRBD_MD_INDEX_FLEX_EXT -2\n#define DRBD_MD_INDEX_FLEX_INT -3\n\n#define DRBD_CPU_MASK_SIZE 32\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}