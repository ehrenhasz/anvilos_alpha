{
  "module_name": "vga_switcheroo.h",
  "hash_id": "59dcdf17e7ced9d97fe4e6a68d0c9e85ceab1ff3542f30a1778013cffba030a2",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/vga_switcheroo.h",
  "human_readable_source": " \n\n#ifndef _LINUX_VGA_SWITCHEROO_H_\n#define _LINUX_VGA_SWITCHEROO_H_\n\n#include <linux/fb.h>\n\nstruct pci_dev;\n\n \nenum vga_switcheroo_handler_flags_t {\n\tVGA_SWITCHEROO_CAN_SWITCH_DDC\t= (1 << 0),\n\tVGA_SWITCHEROO_NEEDS_EDP_CONFIG\t= (1 << 1),\n};\n\n \nenum vga_switcheroo_state {\n\tVGA_SWITCHEROO_OFF,\n\tVGA_SWITCHEROO_ON,\n\t \n\tVGA_SWITCHEROO_NOT_FOUND,\n};\n\n \nenum vga_switcheroo_client_id {\n\tVGA_SWITCHEROO_UNKNOWN_ID = 0x1000,\n\tVGA_SWITCHEROO_IGD = 0,\n\tVGA_SWITCHEROO_DIS,\n\tVGA_SWITCHEROO_MAX_CLIENTS,\n};\n\n \nstruct vga_switcheroo_handler {\n\tint (*init)(void);\n\tint (*switchto)(enum vga_switcheroo_client_id id);\n\tint (*switch_ddc)(enum vga_switcheroo_client_id id);\n\tint (*power_state)(enum vga_switcheroo_client_id id,\n\t\t\t   enum vga_switcheroo_state state);\n\tenum vga_switcheroo_client_id (*get_client_id)(struct pci_dev *pdev);\n};\n\n \nstruct vga_switcheroo_client_ops {\n\tvoid (*set_gpu_state)(struct pci_dev *dev, enum vga_switcheroo_state);\n\tvoid (*reprobe)(struct pci_dev *dev);\n\tbool (*can_switch)(struct pci_dev *dev);\n\tvoid (*gpu_bound)(struct pci_dev *dev, enum vga_switcheroo_client_id);\n};\n\n#if defined(CONFIG_VGA_SWITCHEROO)\nvoid vga_switcheroo_unregister_client(struct pci_dev *dev);\nint vga_switcheroo_register_client(struct pci_dev *dev,\n\t\t\t\t   const struct vga_switcheroo_client_ops *ops,\n\t\t\t\t   bool driver_power_control);\nint vga_switcheroo_register_audio_client(struct pci_dev *pdev,\n\t\t\t\t\t const struct vga_switcheroo_client_ops *ops,\n\t\t\t\t\t struct pci_dev *vga_dev);\n\nvoid vga_switcheroo_client_fb_set(struct pci_dev *dev,\n\t\t\t\t  struct fb_info *info);\n\nint vga_switcheroo_register_handler(const struct vga_switcheroo_handler *handler,\n\t\t\t\t    enum vga_switcheroo_handler_flags_t handler_flags);\nvoid vga_switcheroo_unregister_handler(void);\nenum vga_switcheroo_handler_flags_t vga_switcheroo_handler_flags(void);\nint vga_switcheroo_lock_ddc(struct pci_dev *pdev);\nint vga_switcheroo_unlock_ddc(struct pci_dev *pdev);\n\nint vga_switcheroo_process_delayed_switch(void);\n\nbool vga_switcheroo_client_probe_defer(struct pci_dev *pdev);\nenum vga_switcheroo_state vga_switcheroo_get_client_state(struct pci_dev *dev);\n\nint vga_switcheroo_init_domain_pm_ops(struct device *dev, struct dev_pm_domain *domain);\nvoid vga_switcheroo_fini_domain_pm_ops(struct device *dev);\n#else\n\nstatic inline void vga_switcheroo_unregister_client(struct pci_dev *dev) {}\nstatic inline int vga_switcheroo_register_client(struct pci_dev *dev,\n\t\tconst struct vga_switcheroo_client_ops *ops, bool driver_power_control) { return 0; }\nstatic inline void vga_switcheroo_client_fb_set(struct pci_dev *dev, struct fb_info *info) {}\nstatic inline int vga_switcheroo_register_handler(const struct vga_switcheroo_handler *handler,\n\t\tenum vga_switcheroo_handler_flags_t handler_flags) { return 0; }\nstatic inline int vga_switcheroo_register_audio_client(struct pci_dev *pdev,\n\tconst struct vga_switcheroo_client_ops *ops,\n\tstruct pci_dev *vga_dev) { return 0; }\nstatic inline void vga_switcheroo_unregister_handler(void) {}\nstatic inline enum vga_switcheroo_handler_flags_t vga_switcheroo_handler_flags(void) { return 0; }\nstatic inline int vga_switcheroo_lock_ddc(struct pci_dev *pdev) { return -ENODEV; }\nstatic inline int vga_switcheroo_unlock_ddc(struct pci_dev *pdev) { return -ENODEV; }\nstatic inline int vga_switcheroo_process_delayed_switch(void) { return 0; }\nstatic inline bool vga_switcheroo_client_probe_defer(struct pci_dev *pdev) { return false; }\nstatic inline enum vga_switcheroo_state vga_switcheroo_get_client_state(struct pci_dev *dev) { return VGA_SWITCHEROO_ON; }\n\nstatic inline int vga_switcheroo_init_domain_pm_ops(struct device *dev, struct dev_pm_domain *domain) { return -EINVAL; }\nstatic inline void vga_switcheroo_fini_domain_pm_ops(struct device *dev) {}\n\n#endif\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}