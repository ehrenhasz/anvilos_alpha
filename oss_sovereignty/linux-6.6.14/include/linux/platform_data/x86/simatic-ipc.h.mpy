{
  "module_name": "simatic-ipc.h",
  "hash_id": "7c2be9112a5e64f00e9b9b1be7301d95fe472be6d556ba124c6e8e2669a6008a",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/platform_data/x86/simatic-ipc.h",
  "human_readable_source": " \n \n\n#ifndef __PLATFORM_DATA_X86_SIMATIC_IPC_H\n#define __PLATFORM_DATA_X86_SIMATIC_IPC_H\n\n#include <linux/dmi.h>\n#include <linux/platform_data/x86/simatic-ipc-base.h>\n\n#define SIMATIC_IPC_DMI_ENTRY_OEM\t129\n \n#define SIMATIC_IPC_DMI_TYPE\t\t0xff\n#define SIMATIC_IPC_DMI_GROUP\t\t0x05\n#define SIMATIC_IPC_DMI_ENTRY\t\t0x02\n#define SIMATIC_IPC_DMI_TID\t\t0x02\n\nenum simatic_ipc_station_ids {\n\tSIMATIC_IPC_INVALID_STATION_ID = 0,\n\tSIMATIC_IPC_IPC227D = 0x00000501,\n\tSIMATIC_IPC_IPC427D = 0x00000701,\n\tSIMATIC_IPC_IPC227E = 0x00000901,\n\tSIMATIC_IPC_IPC277E = 0x00000902,\n\tSIMATIC_IPC_IPC427E = 0x00000A01,\n\tSIMATIC_IPC_IPC477E = 0x00000A02,\n\tSIMATIC_IPC_IPC127E = 0x00000D01,\n\tSIMATIC_IPC_IPC227G = 0x00000F01,\n\tSIMATIC_IPC_IPC277G = 0x00000F02,\n\tSIMATIC_IPC_IPCBX_39A = 0x00001001,\n\tSIMATIC_IPC_IPCPX_39A = 0x00001002,\n\tSIMATIC_IPC_IPCBX_21A = 0x00001101,\n\tSIMATIC_IPC_IPCBX_56A = 0x00001201,\n\tSIMATIC_IPC_IPCBX_59A = 0x00001202,\n};\n\nstatic inline u32 simatic_ipc_get_station_id(u8 *data, int max_len)\n{\n\tstruct {\n\t\tu8\ttype;\t\t \n\t\tu8\tlen;\t\t \n\t\tu8\tgroup;\n\t\tu8\tentry;\n\t\tu8\ttid;\n\t\t__le32\tstation_id;\t \n\t} __packed * data_entry = (void *)data + sizeof(struct dmi_header);\n\n\twhile ((u8 *)data_entry < data + max_len) {\n\t\tif (data_entry->type == SIMATIC_IPC_DMI_TYPE &&\n\t\t    data_entry->len == sizeof(*data_entry) &&\n\t\t    data_entry->group == SIMATIC_IPC_DMI_GROUP &&\n\t\t    data_entry->entry == SIMATIC_IPC_DMI_ENTRY &&\n\t\t    data_entry->tid == SIMATIC_IPC_DMI_TID) {\n\t\t\treturn le32_to_cpu(data_entry->station_id);\n\t\t}\n\t\tdata_entry = (void *)((u8 *)(data_entry) + data_entry->len);\n\t}\n\n\treturn SIMATIC_IPC_INVALID_STATION_ID;\n}\n\nstatic inline void\nsimatic_ipc_find_dmi_entry_helper(const struct dmi_header *dh, void *_data)\n{\n\tu32 *id = _data;\n\n\tif (dh->type != SIMATIC_IPC_DMI_ENTRY_OEM)\n\t\treturn;\n\n\t*id = simatic_ipc_get_station_id((u8 *)dh, dh->length);\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}