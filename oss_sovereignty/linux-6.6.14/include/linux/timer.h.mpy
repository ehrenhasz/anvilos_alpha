{
  "module_name": "timer.h",
  "hash_id": "b5e2075502e728e7144e2e64cdd188b556e00da4bf3c02ac7703c3f9866d2601",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/timer.h",
  "human_readable_source": " \n#ifndef _LINUX_TIMER_H\n#define _LINUX_TIMER_H\n\n#include <linux/list.h>\n#include <linux/ktime.h>\n#include <linux/stddef.h>\n#include <linux/debugobjects.h>\n#include <linux/stringify.h>\n\nstruct timer_list {\n\t \n\tstruct hlist_node\tentry;\n\tunsigned long\t\texpires;\n\tvoid\t\t\t(*function)(struct timer_list *);\n\tu32\t\t\tflags;\n\n#ifdef CONFIG_LOCKDEP\n\tstruct lockdep_map\tlockdep_map;\n#endif\n};\n\n#ifdef CONFIG_LOCKDEP\n \n#define __TIMER_LOCKDEP_MAP_INITIALIZER(_kn)\t\t\t\t\\\n\t.lockdep_map = STATIC_LOCKDEP_MAP_INIT(_kn, &_kn),\n#else\n#define __TIMER_LOCKDEP_MAP_INITIALIZER(_kn)\n#endif\n\n \n#define TIMER_CPUMASK\t\t0x0003FFFF\n#define TIMER_MIGRATING\t\t0x00040000\n#define TIMER_BASEMASK\t\t(TIMER_CPUMASK | TIMER_MIGRATING)\n#define TIMER_DEFERRABLE\t0x00080000\n#define TIMER_PINNED\t\t0x00100000\n#define TIMER_IRQSAFE\t\t0x00200000\n#define TIMER_INIT_FLAGS\t(TIMER_DEFERRABLE | TIMER_PINNED | TIMER_IRQSAFE)\n#define TIMER_ARRAYSHIFT\t22\n#define TIMER_ARRAYMASK\t\t0xFFC00000\n\n#define TIMER_TRACE_FLAGMASK\t(TIMER_MIGRATING | TIMER_DEFERRABLE | TIMER_PINNED | TIMER_IRQSAFE)\n\n#define __TIMER_INITIALIZER(_function, _flags) {\t\t\\\n\t\t.entry = { .next = TIMER_ENTRY_STATIC },\t\\\n\t\t.function = (_function),\t\t\t\\\n\t\t.flags = (_flags),\t\t\t\t\\\n\t\t__TIMER_LOCKDEP_MAP_INITIALIZER(\t\t\\\n\t\t\t__FILE__ \":\" __stringify(__LINE__))\t\\\n\t}\n\n#define DEFINE_TIMER(_name, _function)\t\t\t\t\\\n\tstruct timer_list _name =\t\t\t\t\\\n\t\t__TIMER_INITIALIZER(_function, 0)\n\n \nvoid init_timer_key(struct timer_list *timer,\n\t\t    void (*func)(struct timer_list *), unsigned int flags,\n\t\t    const char *name, struct lock_class_key *key);\n\n#ifdef CONFIG_DEBUG_OBJECTS_TIMERS\nextern void init_timer_on_stack_key(struct timer_list *timer,\n\t\t\t\t    void (*func)(struct timer_list *),\n\t\t\t\t    unsigned int flags, const char *name,\n\t\t\t\t    struct lock_class_key *key);\n#else\nstatic inline void init_timer_on_stack_key(struct timer_list *timer,\n\t\t\t\t\t   void (*func)(struct timer_list *),\n\t\t\t\t\t   unsigned int flags,\n\t\t\t\t\t   const char *name,\n\t\t\t\t\t   struct lock_class_key *key)\n{\n\tinit_timer_key(timer, func, flags, name, key);\n}\n#endif\n\n#ifdef CONFIG_LOCKDEP\n#define __init_timer(_timer, _fn, _flags)\t\t\t\t\\\n\tdo {\t\t\t\t\t\t\t\t\\\n\t\tstatic struct lock_class_key __key;\t\t\t\\\n\t\tinit_timer_key((_timer), (_fn), (_flags), #_timer, &__key);\\\n\t} while (0)\n\n#define __init_timer_on_stack(_timer, _fn, _flags)\t\t\t\\\n\tdo {\t\t\t\t\t\t\t\t\\\n\t\tstatic struct lock_class_key __key;\t\t\t\\\n\t\tinit_timer_on_stack_key((_timer), (_fn), (_flags),\t\\\n\t\t\t\t\t#_timer, &__key);\t\t \\\n\t} while (0)\n#else\n#define __init_timer(_timer, _fn, _flags)\t\t\t\t\\\n\tinit_timer_key((_timer), (_fn), (_flags), NULL, NULL)\n#define __init_timer_on_stack(_timer, _fn, _flags)\t\t\t\\\n\tinit_timer_on_stack_key((_timer), (_fn), (_flags), NULL, NULL)\n#endif\n\n \n#define timer_setup(timer, callback, flags)\t\t\t\\\n\t__init_timer((timer), (callback), (flags))\n\n#define timer_setup_on_stack(timer, callback, flags)\t\t\\\n\t__init_timer_on_stack((timer), (callback), (flags))\n\n#ifdef CONFIG_DEBUG_OBJECTS_TIMERS\nextern void destroy_timer_on_stack(struct timer_list *timer);\n#else\nstatic inline void destroy_timer_on_stack(struct timer_list *timer) { }\n#endif\n\n#define from_timer(var, callback_timer, timer_fieldname) \\\n\tcontainer_of(callback_timer, typeof(*var), timer_fieldname)\n\n \nstatic inline int timer_pending(const struct timer_list * timer)\n{\n\treturn !hlist_unhashed_lockless(&timer->entry);\n}\n\nextern void add_timer_on(struct timer_list *timer, int cpu);\nextern int mod_timer(struct timer_list *timer, unsigned long expires);\nextern int mod_timer_pending(struct timer_list *timer, unsigned long expires);\nextern int timer_reduce(struct timer_list *timer, unsigned long expires);\n\n \n#define NEXT_TIMER_MAX_DELTA\t((1UL << 30) - 1)\n\nextern void add_timer(struct timer_list *timer);\n\nextern int try_to_del_timer_sync(struct timer_list *timer);\nextern int timer_delete_sync(struct timer_list *timer);\nextern int timer_delete(struct timer_list *timer);\nextern int timer_shutdown_sync(struct timer_list *timer);\nextern int timer_shutdown(struct timer_list *timer);\n\n \nstatic inline int del_timer_sync(struct timer_list *timer)\n{\n\treturn timer_delete_sync(timer);\n}\n\n \nstatic inline int del_timer(struct timer_list *timer)\n{\n\treturn timer_delete(timer);\n}\n\nextern void init_timers(void);\nstruct hrtimer;\nextern enum hrtimer_restart it_real_fn(struct hrtimer *);\n\nunsigned long __round_jiffies(unsigned long j, int cpu);\nunsigned long __round_jiffies_relative(unsigned long j, int cpu);\nunsigned long round_jiffies(unsigned long j);\nunsigned long round_jiffies_relative(unsigned long j);\n\nunsigned long __round_jiffies_up(unsigned long j, int cpu);\nunsigned long __round_jiffies_up_relative(unsigned long j, int cpu);\nunsigned long round_jiffies_up(unsigned long j);\nunsigned long round_jiffies_up_relative(unsigned long j);\n\n#ifdef CONFIG_HOTPLUG_CPU\nint timers_prepare_cpu(unsigned int cpu);\nint timers_dead_cpu(unsigned int cpu);\n#else\n#define timers_prepare_cpu\tNULL\n#define timers_dead_cpu\t\tNULL\n#endif\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}