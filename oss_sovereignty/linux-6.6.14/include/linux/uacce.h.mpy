{
  "module_name": "uacce.h",
  "hash_id": "3eae0e268d7577aea35210eae5fd7e48da52f796831750bf69ce88b93041812c",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/uacce.h",
  "human_readable_source": " \n#ifndef _LINUX_UACCE_H\n#define _LINUX_UACCE_H\n\n#include <linux/cdev.h>\n#include <uapi/misc/uacce/uacce.h>\n\n#define UACCE_NAME\t\t\"uacce\"\n#define UACCE_MAX_REGION\t2\n#define UACCE_MAX_NAME_SIZE\t64\n#define UACCE_MAX_ERR_THRESHOLD\t65535\n\nstruct uacce_queue;\nstruct uacce_device;\n\n \nstruct uacce_qfile_region {\n\tenum uacce_qfrt type;\n};\n\n \nstruct uacce_ops {\n\tint (*get_available_instances)(struct uacce_device *uacce);\n\tint (*get_queue)(struct uacce_device *uacce, unsigned long arg,\n\t\t\t struct uacce_queue *q);\n\tvoid (*put_queue)(struct uacce_queue *q);\n\tint (*start_queue)(struct uacce_queue *q);\n\tvoid (*stop_queue)(struct uacce_queue *q);\n\tint (*is_q_updated)(struct uacce_queue *q);\n\tint (*mmap)(struct uacce_queue *q, struct vm_area_struct *vma,\n\t\t    struct uacce_qfile_region *qfr);\n\tlong (*ioctl)(struct uacce_queue *q, unsigned int cmd,\n\t\t      unsigned long arg);\n\tenum uacce_dev_state (*get_isolate_state)(struct uacce_device *uacce);\n\tint (*isolate_err_threshold_write)(struct uacce_device *uacce, u32 num);\n\tu32 (*isolate_err_threshold_read)(struct uacce_device *uacce);\n};\n\n \nstruct uacce_interface {\n\tchar name[UACCE_MAX_NAME_SIZE];\n\tunsigned int flags;\n\tconst struct uacce_ops *ops;\n};\n\nenum uacce_dev_state {\n\tUACCE_DEV_NORMAL,\n\tUACCE_DEV_ISOLATE,\n};\n\nenum uacce_q_state {\n\tUACCE_Q_ZOMBIE = 0,\n\tUACCE_Q_INIT,\n\tUACCE_Q_STARTED,\n};\n\n \nstruct uacce_queue {\n\tstruct uacce_device *uacce;\n\tvoid *priv;\n\twait_queue_head_t wait;\n\tstruct list_head list;\n\tstruct uacce_qfile_region *qfrs[UACCE_MAX_REGION];\n\tstruct mutex mutex;\n\tenum uacce_q_state state;\n\tu32 pasid;\n\tstruct iommu_sva *handle;\n\tstruct address_space *mapping;\n};\n\n \nstruct uacce_device {\n\tconst char *algs;\n\tconst char *api_ver;\n\tconst struct uacce_ops *ops;\n\tunsigned long qf_pg_num[UACCE_MAX_REGION];\n\tstruct device *parent;\n\tbool is_vf;\n\tu32 flags;\n\tu32 dev_id;\n\tstruct cdev *cdev;\n\tstruct device dev;\n\tstruct mutex mutex;\n\tvoid *priv;\n\tstruct list_head queues;\n};\n\n#if IS_ENABLED(CONFIG_UACCE)\n\nstruct uacce_device *uacce_alloc(struct device *parent,\n\t\t\t\t struct uacce_interface *interface);\nint uacce_register(struct uacce_device *uacce);\nvoid uacce_remove(struct uacce_device *uacce);\n\n#else  \n\nstatic inline\nstruct uacce_device *uacce_alloc(struct device *parent,\n\t\t\t\t struct uacce_interface *interface)\n{\n\treturn ERR_PTR(-ENODEV);\n}\n\nstatic inline int uacce_register(struct uacce_device *uacce)\n{\n\treturn -EINVAL;\n}\n\nstatic inline void uacce_remove(struct uacce_device *uacce) {}\n\n#endif  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}