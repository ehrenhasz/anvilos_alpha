{
  "module_name": "file.h",
  "hash_id": "14e8aef37aaf0df4dd842e992ea66e7bfb62ef07c59a08f2d36e754db41edede",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/file.h",
  "human_readable_source": " \n \n\n#ifndef __LINUX_FILE_H\n#define __LINUX_FILE_H\n\n#include <linux/compiler.h>\n#include <linux/types.h>\n#include <linux/posix_types.h>\n#include <linux/errno.h>\n#include <linux/cleanup.h>\n\nstruct file;\n\nextern void fput(struct file *);\n\nstruct file_operations;\nstruct task_struct;\nstruct vfsmount;\nstruct dentry;\nstruct inode;\nstruct path;\nextern struct file *alloc_file_pseudo(struct inode *, struct vfsmount *,\n\tconst char *, int flags, const struct file_operations *);\nextern struct file *alloc_file_clone(struct file *, int flags,\n\tconst struct file_operations *);\n\nstatic inline void fput_light(struct file *file, int fput_needed)\n{\n\tif (fput_needed)\n\t\tfput(file);\n}\n\nstruct fd {\n\tstruct file *file;\n\tunsigned int flags;\n};\n#define FDPUT_FPUT       1\n#define FDPUT_POS_UNLOCK 2\n\nstatic inline void fdput(struct fd fd)\n{\n\tif (fd.flags & FDPUT_FPUT)\n\t\tfput(fd.file);\n}\n\nextern struct file *fget(unsigned int fd);\nextern struct file *fget_raw(unsigned int fd);\nextern struct file *fget_task(struct task_struct *task, unsigned int fd);\nextern unsigned long __fdget(unsigned int fd);\nextern unsigned long __fdget_raw(unsigned int fd);\nextern unsigned long __fdget_pos(unsigned int fd);\nextern void __f_unlock_pos(struct file *);\n\nstatic inline struct fd __to_fd(unsigned long v)\n{\n\treturn (struct fd){(struct file *)(v & ~3),v & 3};\n}\n\nstatic inline struct fd fdget(unsigned int fd)\n{\n\treturn __to_fd(__fdget(fd));\n}\n\nstatic inline struct fd fdget_raw(unsigned int fd)\n{\n\treturn __to_fd(__fdget_raw(fd));\n}\n\nstatic inline struct fd fdget_pos(int fd)\n{\n\treturn __to_fd(__fdget_pos(fd));\n}\n\nstatic inline void fdput_pos(struct fd f)\n{\n\tif (f.flags & FDPUT_POS_UNLOCK)\n\t\t__f_unlock_pos(f.file);\n\tfdput(f);\n}\n\nDEFINE_CLASS(fd, struct fd, fdput(_T), fdget(fd), int fd)\n\nextern int f_dupfd(unsigned int from, struct file *file, unsigned flags);\nextern int replace_fd(unsigned fd, struct file *file, unsigned flags);\nextern void set_close_on_exec(unsigned int fd, int flag);\nextern bool get_close_on_exec(unsigned int fd);\nextern int __get_unused_fd_flags(unsigned flags, unsigned long nofile);\nextern int get_unused_fd_flags(unsigned flags);\nextern void put_unused_fd(unsigned int fd);\n\nDEFINE_CLASS(get_unused_fd, int, if (_T >= 0) put_unused_fd(_T),\n\t     get_unused_fd_flags(flags), unsigned flags)\n\nextern void fd_install(unsigned int fd, struct file *file);\n\nextern int __receive_fd(struct file *file, int __user *ufd,\n\t\t\tunsigned int o_flags);\n\nextern int receive_fd(struct file *file, unsigned int o_flags);\n\nstatic inline int receive_fd_user(struct file *file, int __user *ufd,\n\t\t\t\t  unsigned int o_flags)\n{\n\tif (ufd == NULL)\n\t\treturn -EFAULT;\n\treturn __receive_fd(file, ufd, o_flags);\n}\nint receive_fd_replace(int new_fd, struct file *file, unsigned int o_flags);\n\nextern void flush_delayed_fput(void);\nextern void __fput_sync(struct file *);\n\nextern unsigned int sysctl_nr_open_min, sysctl_nr_open_max;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}