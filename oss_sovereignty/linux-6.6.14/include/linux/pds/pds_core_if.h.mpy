{
  "module_name": "pds_core_if.h",
  "hash_id": "8427ae62d0f785d2d5058c0b9cc059f716bced87fb971226147cf710edd61811",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/pds/pds_core_if.h",
  "human_readable_source": " \n \n\n#ifndef _PDS_CORE_IF_H_\n#define _PDS_CORE_IF_H_\n\n#define PCI_VENDOR_ID_PENSANDO\t\t\t0x1dd8\n#define PCI_DEVICE_ID_PENSANDO_CORE_PF\t\t0x100c\n#define PCI_DEVICE_ID_VIRTIO_NET_TRANS\t\t0x1000\n#define PCI_DEVICE_ID_PENSANDO_IONIC_ETH_VF\t0x1003\n#define PCI_DEVICE_ID_PENSANDO_VDPA_VF\t\t0x100b\n#define PDS_CORE_BARS_MAX\t\t\t4\n#define PDS_CORE_PCI_BAR_DBELL\t\t\t1\n\n \n#define PDS_CORE_DEV_INFO_SIGNATURE\t\t0x44455649  \n#define PDS_CORE_BAR0_SIZE\t\t\t0x8000\n#define PDS_CORE_BAR0_DEV_INFO_REGS_OFFSET\t0x0000\n#define PDS_CORE_BAR0_DEV_CMD_REGS_OFFSET\t0x0800\n#define PDS_CORE_BAR0_DEV_CMD_DATA_REGS_OFFSET\t0x0c00\n#define PDS_CORE_BAR0_INTR_STATUS_OFFSET\t0x1000\n#define PDS_CORE_BAR0_INTR_CTRL_OFFSET\t\t0x2000\n#define PDS_CORE_DEV_CMD_DONE\t\t\t0x00000001\n\n#define PDS_CORE_DEVCMD_TIMEOUT\t\t\t5\n\n#define PDS_CORE_CLIENT_ID\t\t\t0\n#define PDS_CORE_ASIC_TYPE_CAPRI\t\t0\n\n \nenum pds_core_cmd_opcode {\n\t \n\tPDS_CORE_CMD_NOP\t\t= 0,\n\tPDS_CORE_CMD_IDENTIFY\t\t= 1,\n\tPDS_CORE_CMD_RESET\t\t= 2,\n\tPDS_CORE_CMD_INIT\t\t= 3,\n\n\tPDS_CORE_CMD_FW_DOWNLOAD\t= 4,\n\tPDS_CORE_CMD_FW_CONTROL\t\t= 5,\n\n\t \n\tPDS_CORE_CMD_VF_GETATTR\t\t= 60,\n\tPDS_CORE_CMD_VF_SETATTR\t\t= 61,\n\tPDS_CORE_CMD_VF_CTRL\t\t= 62,\n\n\t \n\tPDS_CORE_CMD_MAX,\n\tPDS_CORE_CMD_COUNT\n};\n\n \nenum pds_core_status_code {\n\tPDS_RC_SUCCESS\t= 0,\t \n\tPDS_RC_EVERSION\t= 1,\t \n\tPDS_RC_EOPCODE\t= 2,\t \n\tPDS_RC_EIO\t= 3,\t \n\tPDS_RC_EPERM\t= 4,\t \n\tPDS_RC_EQID\t= 5,\t \n\tPDS_RC_EQTYPE\t= 6,\t \n\tPDS_RC_ENOENT\t= 7,\t \n\tPDS_RC_EINTR\t= 8,\t \n\tPDS_RC_EAGAIN\t= 9,\t \n\tPDS_RC_ENOMEM\t= 10,\t \n\tPDS_RC_EFAULT\t= 11,\t \n\tPDS_RC_EBUSY\t= 12,\t \n\tPDS_RC_EEXIST\t= 13,\t \n\tPDS_RC_EINVAL\t= 14,\t \n\tPDS_RC_ENOSPC\t= 15,\t \n\tPDS_RC_ERANGE\t= 16,\t \n\tPDS_RC_BAD_ADDR\t= 17,\t \n\tPDS_RC_DEV_CMD\t= 18,\t \n\tPDS_RC_ENOSUPP\t= 19,\t \n\tPDS_RC_ERROR\t= 29,\t \n\tPDS_RC_ERDMA\t= 30,\t \n\tPDS_RC_EVFID\t= 31,\t \n\tPDS_RC_BAD_FW\t= 32,\t \n\tPDS_RC_ECLIENT\t= 33,    \n};\n\n \nstruct pds_core_drv_identity {\n\t__le32 drv_type;\n\t__le32 os_dist;\n\tchar   os_dist_str[128];\n\t__le32 kernel_ver;\n\tchar   kernel_ver_str[32];\n\tchar   driver_ver_str[32];\n};\n\n#define PDS_DEV_TYPE_MAX\t16\n \nstruct pds_core_dev_identity {\n\tu8     version;\n\tu8     type;\n\tu8     state;\n\tu8     rsvd;\n\t__le32 nlifs;\n\t__le32 nintrs;\n\t__le32 ndbpgs_per_lif;\n\t__le32 intr_coal_mult;\n\t__le32 intr_coal_div;\n\t__le16 vif_types[PDS_DEV_TYPE_MAX];\n};\n\n#define PDS_CORE_IDENTITY_VERSION_1\t1\n\n \nstruct pds_core_dev_identify_cmd {\n\tu8 opcode;\n\tu8 ver;\n};\n\n \nstruct pds_core_dev_identify_comp {\n\tu8 status;\n\tu8 ver;\n};\n\n \nstruct pds_core_dev_reset_cmd {\n\tu8 opcode;\n};\n\n \nstruct pds_core_dev_reset_comp {\n\tu8 status;\n};\n\n \nstruct pds_core_dev_init_data_in {\n\t__le64 adminq_q_base;\n\t__le64 adminq_cq_base;\n\t__le64 notifyq_cq_base;\n\t__le32 flags;\n\t__le16 intr_index;\n\tu8     adminq_ring_size;\n\tu8     notifyq_ring_size;\n};\n\nstruct pds_core_dev_init_data_out {\n\t__le32 core_hw_index;\n\t__le32 adminq_hw_index;\n\t__le32 notifyq_hw_index;\n\tu8     adminq_hw_type;\n\tu8     notifyq_hw_type;\n};\n\n \nstruct pds_core_dev_init_cmd {\n\tu8     opcode;\n};\n\n \nstruct pds_core_dev_init_comp {\n\tu8     status;\n};\n\n \nstruct pds_core_fw_download_cmd {\n\tu8     opcode;\n\tu8     rsvd[3];\n\t__le32 offset;\n\t__le64 addr;\n\t__le32 length;\n};\n\n \nstruct pds_core_fw_download_comp {\n\tu8     status;\n};\n\n \nenum pds_core_fw_control_oper {\n\tPDS_CORE_FW_INSTALL_ASYNC          = 0,\n\tPDS_CORE_FW_INSTALL_STATUS         = 1,\n\tPDS_CORE_FW_ACTIVATE_ASYNC         = 2,\n\tPDS_CORE_FW_ACTIVATE_STATUS        = 3,\n\tPDS_CORE_FW_UPDATE_CLEANUP         = 4,\n\tPDS_CORE_FW_GET_BOOT               = 5,\n\tPDS_CORE_FW_SET_BOOT               = 6,\n\tPDS_CORE_FW_GET_LIST               = 7,\n};\n\nenum pds_core_fw_slot {\n\tPDS_CORE_FW_SLOT_INVALID    = 0,\n\tPDS_CORE_FW_SLOT_A\t    = 1,\n\tPDS_CORE_FW_SLOT_B          = 2,\n\tPDS_CORE_FW_SLOT_GOLD       = 3,\n};\n\n \nstruct pds_core_fw_control_cmd {\n\tu8  opcode;\n\tu8  rsvd[3];\n\tu8  oper;\n\tu8  slot;\n};\n\n \nstruct pds_core_fw_control_comp {\n\tu8     status;\n\tu8     rsvd[3];\n\tu8     slot;\n\tu8     rsvd1[10];\n\tu8     color;\n};\n\nstruct pds_core_fw_name_info {\n#define PDS_CORE_FWSLOT_BUFLEN\t\t8\n#define PDS_CORE_FWVERS_BUFLEN\t\t32\n\tchar   slotname[PDS_CORE_FWSLOT_BUFLEN];\n\tchar   fw_version[PDS_CORE_FWVERS_BUFLEN];\n};\n\nstruct pds_core_fw_list_info {\n#define PDS_CORE_FWVERS_LIST_LEN\t16\n\tu8 num_fw_slots;\n\tstruct pds_core_fw_name_info fw_names[PDS_CORE_FWVERS_LIST_LEN];\n} __packed;\n\nenum pds_core_vf_attr {\n\tPDS_CORE_VF_ATTR_SPOOFCHK\t= 1,\n\tPDS_CORE_VF_ATTR_TRUST\t\t= 2,\n\tPDS_CORE_VF_ATTR_MAC\t\t= 3,\n\tPDS_CORE_VF_ATTR_LINKSTATE\t= 4,\n\tPDS_CORE_VF_ATTR_VLAN\t\t= 5,\n\tPDS_CORE_VF_ATTR_RATE\t\t= 6,\n\tPDS_CORE_VF_ATTR_STATSADDR\t= 7,\n};\n\n \nenum pds_core_vf_link_status {\n\tPDS_CORE_VF_LINK_STATUS_AUTO = 0,\n\tPDS_CORE_VF_LINK_STATUS_UP   = 1,\n\tPDS_CORE_VF_LINK_STATUS_DOWN = 2,\n};\n\n \nstruct pds_core_vf_setattr_cmd {\n\tu8     opcode;\n\tu8     attr;\n\t__le16 vf_index;\n\tunion {\n\t\tu8     macaddr[6];\n\t\t__le16 vlanid;\n\t\t__le32 maxrate;\n\t\tu8     spoofchk;\n\t\tu8     trust;\n\t\tu8     linkstate;\n\t\tstruct {\n\t\t\t__le64 pa;\n\t\t\t__le32 len;\n\t\t} stats;\n\t\tu8     pad[60];\n\t} __packed;\n};\n\nstruct pds_core_vf_setattr_comp {\n\tu8     status;\n\tu8     attr;\n\t__le16 vf_index;\n\t__le16 comp_index;\n\tu8     rsvd[9];\n\tu8     color;\n};\n\n \nstruct pds_core_vf_getattr_cmd {\n\tu8     opcode;\n\tu8     attr;\n\t__le16 vf_index;\n};\n\nstruct pds_core_vf_getattr_comp {\n\tu8     status;\n\tu8     attr;\n\t__le16 vf_index;\n\tunion {\n\t\tu8     macaddr[6];\n\t\t__le16 vlanid;\n\t\t__le32 maxrate;\n\t\tu8     spoofchk;\n\t\tu8     trust;\n\t\tu8     linkstate;\n\t\t__le64 stats_pa;\n\t\tu8     pad[11];\n\t} __packed;\n\tu8     color;\n};\n\nenum pds_core_vf_ctrl_opcode {\n\tPDS_CORE_VF_CTRL_START_ALL\t= 0,\n\tPDS_CORE_VF_CTRL_START\t\t= 1,\n};\n\n \n\nstruct pds_core_vf_ctrl_cmd {\n\tu8\topcode;\n\tu8\tctrl_opcode;\n\t__le16\tvf_index;\n};\n\n \nstruct pds_core_vf_ctrl_comp {\n\tu8\tstatus;\n};\n\n \nunion pds_core_dev_cmd {\n\tu8     opcode;\n\tu32    words[16];\n\n\tstruct pds_core_dev_identify_cmd identify;\n\tstruct pds_core_dev_init_cmd     init;\n\tstruct pds_core_dev_reset_cmd    reset;\n\tstruct pds_core_fw_download_cmd  fw_download;\n\tstruct pds_core_fw_control_cmd   fw_control;\n\n\tstruct pds_core_vf_setattr_cmd   vf_setattr;\n\tstruct pds_core_vf_getattr_cmd   vf_getattr;\n\tstruct pds_core_vf_ctrl_cmd      vf_ctrl;\n};\n\n \nunion pds_core_dev_comp {\n\tu8                                status;\n\tu8                                bytes[16];\n\n\tstruct pds_core_dev_identify_comp identify;\n\tstruct pds_core_dev_reset_comp    reset;\n\tstruct pds_core_dev_init_comp     init;\n\tstruct pds_core_fw_download_comp  fw_download;\n\tstruct pds_core_fw_control_comp   fw_control;\n\n\tstruct pds_core_vf_setattr_comp   vf_setattr;\n\tstruct pds_core_vf_getattr_comp   vf_getattr;\n\tstruct pds_core_vf_ctrl_comp      vf_ctrl;\n};\n\n \nstruct pds_core_dev_hwstamp_regs {\n\tu32    tick_low;\n\tu32    tick_high;\n};\n\n \nstruct pds_core_dev_info_regs {\n#define PDS_CORE_DEVINFO_FWVERS_BUFLEN 32\n#define PDS_CORE_DEVINFO_SERIAL_BUFLEN 32\n\tu32    signature;\n\tu8     version;\n\tu8     asic_type;\n\tu8     asic_rev;\n#define PDS_CORE_FW_STS_F_STOPPED\t0x00\n#define PDS_CORE_FW_STS_F_RUNNING\t0x01\n#define PDS_CORE_FW_STS_F_GENERATION\t0xF0\n\tu8     fw_status;\n\t__le32 fw_heartbeat;\n\tchar   fw_version[PDS_CORE_DEVINFO_FWVERS_BUFLEN];\n\tchar   serial_num[PDS_CORE_DEVINFO_SERIAL_BUFLEN];\n\tu8     oprom_regs[32];      \n\tu8     rsvd_pad1024[916];\n\tstruct pds_core_dev_hwstamp_regs hwstamp;    \n\tu8     rsvd_pad2048[1016];\n} __packed;\n\n \nstruct pds_core_dev_cmd_regs {\n\tu32                     doorbell;\n\tu32                     done;\n\tunion pds_core_dev_cmd  cmd;\n\tunion pds_core_dev_comp comp;\n\tu8                      rsvd[48];\n\tu32                     data[478];\n} __packed;\n\n \nstruct pds_core_dev_regs {\n\tstruct pds_core_dev_info_regs info;\n\tstruct pds_core_dev_cmd_regs  devcmd;\n} __packed;\n\n#ifndef __CHECKER__\nstatic_assert(sizeof(struct pds_core_drv_identity) <= 1912);\nstatic_assert(sizeof(struct pds_core_dev_identity) <= 1912);\nstatic_assert(sizeof(union pds_core_dev_cmd) == 64);\nstatic_assert(sizeof(union pds_core_dev_comp) == 16);\nstatic_assert(sizeof(struct pds_core_dev_info_regs) == 2048);\nstatic_assert(sizeof(struct pds_core_dev_cmd_regs) == 2048);\nstatic_assert(sizeof(struct pds_core_dev_regs) == 4096);\n#endif  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}