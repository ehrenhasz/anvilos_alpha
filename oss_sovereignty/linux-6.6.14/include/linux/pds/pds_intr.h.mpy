{
  "module_name": "pds_intr.h",
  "hash_id": "120814d8dfae6b632fb3e52c4a5d3c5a8eadba4d608a02eb4e59319b6a4e0bbc",
  "original_prompt": "Ingested from linux-6.6.14/include/linux/pds/pds_intr.h",
  "human_readable_source": " \n \n\n#ifndef _PDS_INTR_H_\n#define _PDS_INTR_H_\n\n \nstruct pds_core_intr {\n\tu32 coal_init;\n\tu32 mask;\n\tu16 credits;\n\tu16 flags;\n#define PDS_CORE_INTR_F_UNMASK\t\t0x0001\n#define PDS_CORE_INTR_F_TIMER_RESET\t0x0002\n\tu32 mask_on_assert;\n\tu32 coalescing_curr;\n\tu32 rsvd6[3];\n};\n\n#ifndef __CHECKER__\nstatic_assert(sizeof(struct pds_core_intr) == 32);\n#endif  \n\n#define PDS_CORE_INTR_CTRL_REGS_MAX\t\t2048\n#define PDS_CORE_INTR_CTRL_COAL_MAX\t\t0x3F\n#define PDS_CORE_INTR_INDEX_NOT_ASSIGNED\t-1\n\nstruct pds_core_intr_status {\n\tu32 status[2];\n};\n\n \nenum pds_core_intr_mask_vals {\n\tPDS_CORE_INTR_MASK_CLEAR\t= 0,\n\tPDS_CORE_INTR_MASK_SET\t\t= 1,\n};\n\n \nenum pds_core_intr_credits_bits {\n\tPDS_CORE_INTR_CRED_COUNT\t\t= 0x7fffu,\n\tPDS_CORE_INTR_CRED_COUNT_SIGNED\t\t= 0xffffu,\n\tPDS_CORE_INTR_CRED_UNMASK\t\t= 0x10000u,\n\tPDS_CORE_INTR_CRED_RESET_COALESCE\t= 0x20000u,\n\tPDS_CORE_INTR_CRED_REARM\t\t= (PDS_CORE_INTR_CRED_UNMASK |\n\t\t\t\t\t   PDS_CORE_INTR_CRED_RESET_COALESCE),\n};\n\nstatic inline void\npds_core_intr_coal_init(struct pds_core_intr __iomem *intr_ctrl, u32 coal)\n{\n\tiowrite32(coal, &intr_ctrl->coal_init);\n}\n\nstatic inline void\npds_core_intr_mask(struct pds_core_intr __iomem *intr_ctrl, u32 mask)\n{\n\tiowrite32(mask, &intr_ctrl->mask);\n}\n\nstatic inline void\npds_core_intr_credits(struct pds_core_intr __iomem *intr_ctrl,\n\t\t      u32 cred, u32 flags)\n{\n\tif (WARN_ON_ONCE(cred > PDS_CORE_INTR_CRED_COUNT)) {\n\t\tcred = ioread32(&intr_ctrl->credits);\n\t\tcred &= PDS_CORE_INTR_CRED_COUNT_SIGNED;\n\t}\n\n\tiowrite32(cred | flags, &intr_ctrl->credits);\n}\n\nstatic inline void\npds_core_intr_clean_flags(struct pds_core_intr __iomem *intr_ctrl, u32 flags)\n{\n\tu32 cred;\n\n\tcred = ioread32(&intr_ctrl->credits);\n\tcred &= PDS_CORE_INTR_CRED_COUNT_SIGNED;\n\tcred |= flags;\n\tiowrite32(cred, &intr_ctrl->credits);\n}\n\nstatic inline void\npds_core_intr_clean(struct pds_core_intr __iomem *intr_ctrl)\n{\n\tpds_core_intr_clean_flags(intr_ctrl, PDS_CORE_INTR_CRED_RESET_COALESCE);\n}\n\nstatic inline void\npds_core_intr_mask_assert(struct pds_core_intr __iomem *intr_ctrl, u32 mask)\n{\n\tiowrite32(mask, &intr_ctrl->mask_on_assert);\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}