{
  "module_name": "bond_alb.h",
  "hash_id": "6e0c4ff054b3f84b93b3d884cf1f8f740392afa05af5b2cbdd770a8261147c8e",
  "original_prompt": "Ingested from linux-6.6.14/include/net/bond_alb.h",
  "human_readable_source": " \n \n\n#ifndef _NET_BOND_ALB_H\n#define _NET_BOND_ALB_H\n\n#include <linux/if_ether.h>\n\nstruct bonding;\nstruct slave;\n\n#define BOND_ALB_INFO(bond)   ((bond)->alb_info)\n#define SLAVE_TLB_INFO(slave) ((slave)->tlb_info)\n\n#define ALB_TIMER_TICKS_PER_SEC\t    10\t \n#define BOND_TLB_REBALANCE_INTERVAL 10\t \n#define BOND_ALB_DEFAULT_LP_INTERVAL 1\n#define BOND_ALB_LP_INTERVAL(bond) (bond->params.lp_interval)\t \n\n#define BOND_TLB_REBALANCE_TICKS (BOND_TLB_REBALANCE_INTERVAL \\\n\t\t\t\t  * ALB_TIMER_TICKS_PER_SEC)\n\n#define BOND_ALB_LP_TICKS(bond) (BOND_ALB_LP_INTERVAL(bond) \\\n\t\t\t   * ALB_TIMER_TICKS_PER_SEC)\n\n#define TLB_HASH_TABLE_SIZE 256\t \n\n\n#define TLB_NULL_INDEX\t\t0xffffffff\n\n \n#define RLB_HASH_TABLE_SIZE\t256\n#define RLB_NULL_INDEX\t\t0xffffffff\n#define RLB_UPDATE_DELAY\t(2*ALB_TIMER_TICKS_PER_SEC)  \n#define RLB_ARP_BURST_SIZE\t2\n#define RLB_UPDATE_RETRY\t3  \n \n#define RLB_PROMISC_TIMEOUT\t(10*ALB_TIMER_TICKS_PER_SEC)\n\n\nstruct tlb_client_info {\n\tstruct slave *tx_slave;\t \n\tu32 tx_bytes;\t\t \n\tu32 load_history;\t \n\tu32 next;\t\t \n\tu32 prev;\t\t \n};\n\n \nstruct rlb_client_info {\n\t__be32 ip_src;\t\t \n\t__be32 ip_dst;\t\t \n\tu8  mac_src[ETH_ALEN];\t \n\tu8  mac_dst[ETH_ALEN];\t \n\n\t \n\tu32 used_next;\n\tu32 used_prev;\n\n\t \n\tu32 src_next;\t \n\tu32 src_prev;\t \n\tu32 src_first;\t \n\n\tu8  assigned;\t\t \n\tu8  ntt;\t\t \n\tstruct slave *slave;\t \n\tunsigned short vlan_id;\t \n};\n\nstruct tlb_slave_info {\n\tu32 head;\t \n\tu32 load;\t \n};\n\nstruct alb_bond_info {\n\tstruct tlb_client_info\t*tx_hashtbl;  \n\tu32\t\t\tunbalanced_load;\n\tatomic_t\t\ttx_rebalance_counter;\n\tint\t\t\tlp_counter;\n\t \n\tint rlb_enabled;\n\tstruct rlb_client_info\t*rx_hashtbl;\t \n\tu32\t\t\trx_hashtbl_used_head;\n\tu8\t\t\trx_ntt;\t \n\tstruct slave\t\t*rx_slave; \n\tu8\t\t\tprimary_is_promisc;\t    \n\tu32\t\t\trlb_promisc_timeout_counter; \n\tu32\t\t\trlb_update_delay_counter;\n\tu32\t\t\trlb_update_retry_counter; \n\tu8\t\t\trlb_rebalance;\t \n};\n\nint bond_alb_initialize(struct bonding *bond, int rlb_enabled);\nvoid bond_alb_deinitialize(struct bonding *bond);\nint bond_alb_init_slave(struct bonding *bond, struct slave *slave);\nvoid bond_alb_deinit_slave(struct bonding *bond, struct slave *slave);\nvoid bond_alb_handle_link_change(struct bonding *bond, struct slave *slave, char link);\nvoid bond_alb_handle_active_change(struct bonding *bond, struct slave *new_slave);\nnetdev_tx_t bond_alb_xmit(struct sk_buff *skb, struct net_device *bond_dev);\nnetdev_tx_t bond_tlb_xmit(struct sk_buff *skb, struct net_device *bond_dev);\nstruct slave *bond_xmit_alb_slave_get(struct bonding *bond,\n\t\t\t\t      struct sk_buff *skb);\nstruct slave *bond_xmit_tlb_slave_get(struct bonding *bond,\n\t\t\t\t      struct sk_buff *skb);\nvoid bond_alb_monitor(struct work_struct *);\nint bond_alb_set_mac_address(struct net_device *bond_dev, void *addr);\nvoid bond_alb_clear_vlan(struct bonding *bond, unsigned short vlan_id);\n#endif  \n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}