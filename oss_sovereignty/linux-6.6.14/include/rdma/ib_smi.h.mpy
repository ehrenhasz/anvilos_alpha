{
  "module_name": "ib_smi.h",
  "hash_id": "43242a33a63e14c80ddc0e991cdbb58a9cff8f78b865cdec16f495b500acf72d",
  "original_prompt": "Ingested from linux-6.6.14/include/rdma/ib_smi.h",
  "human_readable_source": " \n \n\n#ifndef IB_SMI_H\n#define IB_SMI_H\n\n#include <rdma/ib_mad.h>\n\n#define IB_SMP_DATA_SIZE\t\t\t64\n#define IB_SMP_MAX_PATH_HOPS\t\t\t64\n\nstruct ib_smp {\n\tu8\tbase_version;\n\tu8\tmgmt_class;\n\tu8\tclass_version;\n\tu8\tmethod;\n\t__be16\tstatus;\n\tu8\thop_ptr;\n\tu8\thop_cnt;\n\t__be64\ttid;\n\t__be16\tattr_id;\n\t__be16\tresv;\n\t__be32\tattr_mod;\n\t__be64\tmkey;\n\t__be16\tdr_slid;\n\t__be16\tdr_dlid;\n\tu8\treserved[28];\n\tu8\tdata[IB_SMP_DATA_SIZE];\n\tu8\tinitial_path[IB_SMP_MAX_PATH_HOPS];\n\tu8\treturn_path[IB_SMP_MAX_PATH_HOPS];\n} __packed;\n\n#define IB_SMP_DIRECTION\t\t\tcpu_to_be16(0x8000)\n\n \n#define IB_SMP_ATTR_NOTICE\t\t\tcpu_to_be16(0x0002)\n#define IB_SMP_ATTR_NODE_DESC\t\t\tcpu_to_be16(0x0010)\n#define IB_SMP_ATTR_NODE_INFO\t\t\tcpu_to_be16(0x0011)\n#define IB_SMP_ATTR_SWITCH_INFO\t\t\tcpu_to_be16(0x0012)\n#define IB_SMP_ATTR_GUID_INFO\t\t\tcpu_to_be16(0x0014)\n#define IB_SMP_ATTR_PORT_INFO\t\t\tcpu_to_be16(0x0015)\n#define IB_SMP_ATTR_PKEY_TABLE\t\t\tcpu_to_be16(0x0016)\n#define IB_SMP_ATTR_SL_TO_VL_TABLE\t\tcpu_to_be16(0x0017)\n#define IB_SMP_ATTR_VL_ARB_TABLE\t\tcpu_to_be16(0x0018)\n#define IB_SMP_ATTR_LINEAR_FORWARD_TABLE\tcpu_to_be16(0x0019)\n#define IB_SMP_ATTR_RANDOM_FORWARD_TABLE\tcpu_to_be16(0x001A)\n#define IB_SMP_ATTR_MCAST_FORWARD_TABLE\t\tcpu_to_be16(0x001B)\n#define IB_SMP_ATTR_SM_INFO\t\t\tcpu_to_be16(0x0020)\n#define IB_SMP_ATTR_VENDOR_DIAG\t\t\tcpu_to_be16(0x0030)\n#define IB_SMP_ATTR_LED_INFO\t\t\tcpu_to_be16(0x0031)\n#define IB_SMP_ATTR_VENDOR_MASK\t\t\tcpu_to_be16(0xFF00)\n\nstruct ib_port_info {\n\t__be64 mkey;\n\t__be64 gid_prefix;\n\t__be16 lid;\n\t__be16 sm_lid;\n\t__be32 cap_mask;\n\t__be16 diag_code;\n\t__be16 mkey_lease_period;\n\tu8 local_port_num;\n\tu8 link_width_enabled;\n\tu8 link_width_supported;\n\tu8 link_width_active;\n\tu8 linkspeed_portstate;\t\t\t \n\tu8 portphysstate_linkdown;\t\t \n\tu8 mkeyprot_resv_lmc;\t\t\t \n\tu8 linkspeedactive_enabled;\t\t \n\tu8 neighbormtu_mastersmsl;\t\t \n\tu8 vlcap_inittype;\t\t\t \n\tu8 vl_high_limit;\n\tu8 vl_arb_high_cap;\n\tu8 vl_arb_low_cap;\n\tu8 inittypereply_mtucap;\t\t \n\tu8 vlstallcnt_hoqlife;\t\t\t \n\tu8 operationalvl_pei_peo_fpi_fpo;\t \n\t__be16 mkey_violations;\n\t__be16 pkey_violations;\n\t__be16 qkey_violations;\n\tu8 guid_cap;\n\tu8 clientrereg_resv_subnetto;\t\t \n\tu8 resv_resptimevalue;\t\t\t \n\tu8 localphyerrors_overrunerrors;\t \n\t__be16 max_credit_hint;\n\tu8 resv;\n\tu8 link_roundtrip_latency[3];\n};\n\nstruct ib_node_info {\n\tu8 base_version;\n\tu8 class_version;\n\tu8 node_type;\n\tu8 num_ports;\n\t__be64 sys_guid;\n\t__be64 node_guid;\n\t__be64 port_guid;\n\t__be16 partition_cap;\n\t__be16 device_id;\n\t__be32 revision;\n\tu8 local_port_num;\n\tu8 vendor_id[3];\n} __packed;\n\nstruct ib_vl_weight_elem {\n\tu8      vl;      \n                         \n\tu8      weight;\n};\n\nstatic inline u8\nib_get_smp_direction(struct ib_smp *smp)\n{\n\treturn ((smp->status & IB_SMP_DIRECTION) == IB_SMP_DIRECTION);\n}\n\n \n#define IB_NOTICE_TRAP_LLI_THRESH\tcpu_to_be16(129)\n#define IB_NOTICE_TRAP_EBO_THRESH\tcpu_to_be16(130)\n#define IB_NOTICE_TRAP_FLOW_UPDATE\tcpu_to_be16(131)\n#define IB_NOTICE_TRAP_CAP_MASK_CHG\tcpu_to_be16(144)\n#define IB_NOTICE_TRAP_SYS_GUID_CHG\tcpu_to_be16(145)\n#define IB_NOTICE_TRAP_BAD_MKEY\t\tcpu_to_be16(256)\n#define IB_NOTICE_TRAP_BAD_PKEY\t\tcpu_to_be16(257)\n#define IB_NOTICE_TRAP_BAD_QKEY\t\tcpu_to_be16(258)\n\n \n#define IB_NOTICE_TRAP_LSE_CHG\t\t0x04\t \n#define IB_NOTICE_TRAP_LWE_CHG\t\t0x02\t \n#define IB_NOTICE_TRAP_NODE_DESC_CHG\t0x01\n\n \n#define IB_NOTICE_TRAP_DR_NOTICE\t0x80\n#define IB_NOTICE_TRAP_DR_TRUNC\t\t0x40\n\n \nstatic inline void ib_init_query_mad(struct ib_smp *mad)\n{\n\tmad->base_version = IB_MGMT_BASE_VERSION;\n\tmad->mgmt_class = IB_MGMT_CLASS_SUBN_LID_ROUTED;\n\tmad->class_version = 1;\n\tmad->method = IB_MGMT_METHOD_GET;\n}\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}