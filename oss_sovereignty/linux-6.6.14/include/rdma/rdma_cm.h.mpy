{
  "module_name": "rdma_cm.h",
  "hash_id": "9f44a29221d9890b4872233b724a00c62ad74470e4856b26bb78915c095555e1",
  "original_prompt": "Ingested from linux-6.6.14/include/rdma/rdma_cm.h",
  "human_readable_source": " \n \n\n#ifndef RDMA_CM_H\n#define RDMA_CM_H\n\n#include <linux/socket.h>\n#include <linux/in6.h>\n#include <rdma/ib_addr.h>\n#include <rdma/ib_sa.h>\n#include <uapi/rdma/rdma_user_cm.h>\n\n \nenum rdma_cm_event_type {\n\tRDMA_CM_EVENT_ADDR_RESOLVED,\n\tRDMA_CM_EVENT_ADDR_ERROR,\n\tRDMA_CM_EVENT_ROUTE_RESOLVED,\n\tRDMA_CM_EVENT_ROUTE_ERROR,\n\tRDMA_CM_EVENT_CONNECT_REQUEST,\n\tRDMA_CM_EVENT_CONNECT_RESPONSE,\n\tRDMA_CM_EVENT_CONNECT_ERROR,\n\tRDMA_CM_EVENT_UNREACHABLE,\n\tRDMA_CM_EVENT_REJECTED,\n\tRDMA_CM_EVENT_ESTABLISHED,\n\tRDMA_CM_EVENT_DISCONNECTED,\n\tRDMA_CM_EVENT_DEVICE_REMOVAL,\n\tRDMA_CM_EVENT_MULTICAST_JOIN,\n\tRDMA_CM_EVENT_MULTICAST_ERROR,\n\tRDMA_CM_EVENT_ADDR_CHANGE,\n\tRDMA_CM_EVENT_TIMEWAIT_EXIT\n};\n\nconst char *__attribute_const__ rdma_event_msg(enum rdma_cm_event_type event);\n\n#define RDMA_IB_IP_PS_MASK   0xFFFFFFFFFFFF0000ULL\n#define RDMA_IB_IP_PS_TCP    0x0000000001060000ULL\n#define RDMA_IB_IP_PS_UDP    0x0000000001110000ULL\n#define RDMA_IB_IP_PS_IB     0x00000000013F0000ULL\n\nstruct rdma_addr {\n\tstruct sockaddr_storage src_addr;\n\tstruct sockaddr_storage dst_addr;\n\tstruct rdma_dev_addr dev_addr;\n};\n\nstruct rdma_route {\n\tstruct rdma_addr addr;\n\tstruct sa_path_rec *path_rec;\n\n\t \n\tstruct sa_path_rec *path_rec_inbound;\n\tstruct sa_path_rec *path_rec_outbound;\n\n\t \n\tint num_pri_alt_paths;\n};\n\nstruct rdma_conn_param {\n\tconst void *private_data;\n\tu8 private_data_len;\n\tu8 responder_resources;\n\tu8 initiator_depth;\n\tu8 flow_control;\n\tu8 retry_count;\t\t \n\tu8 rnr_retry_count;\n\t \n\tu8 srq;\n\tu32 qp_num;\n\tu32 qkey;\n};\n\nstruct rdma_ud_param {\n\tconst void *private_data;\n\tu8 private_data_len;\n\tstruct rdma_ah_attr ah_attr;\n\tu32 qp_num;\n\tu32 qkey;\n};\n\nstruct rdma_cm_event {\n\tenum rdma_cm_event_type\t event;\n\tint\t\t\t status;\n\tunion {\n\t\tstruct rdma_conn_param\tconn;\n\t\tstruct rdma_ud_param\tud;\n\t} param;\n\tstruct rdma_ucm_ece ece;\n};\n\nstruct rdma_cm_id;\n\n \ntypedef int (*rdma_cm_event_handler)(struct rdma_cm_id *id,\n\t\t\t\t     struct rdma_cm_event *event);\n\nstruct rdma_cm_id {\n\tstruct ib_device\t*device;\n\tvoid\t\t\t*context;\n\tstruct ib_qp\t\t*qp;\n\trdma_cm_event_handler\t event_handler;\n\tstruct rdma_route\t route;\n\tenum rdma_ucm_port_space ps;\n\tenum ib_qp_type\t\t qp_type;\n\tu32\t\t\t port_num;\n\tstruct work_struct net_work;\n};\n\nstruct rdma_cm_id *\n__rdma_create_kernel_id(struct net *net, rdma_cm_event_handler event_handler,\n\t\t\tvoid *context, enum rdma_ucm_port_space ps,\n\t\t\tenum ib_qp_type qp_type, const char *caller);\nstruct rdma_cm_id *rdma_create_user_id(rdma_cm_event_handler event_handler,\n\t\t\t\t       void *context,\n\t\t\t\t       enum rdma_ucm_port_space ps,\n\t\t\t\t       enum ib_qp_type qp_type);\n\n \n#define rdma_create_id(net, event_handler, context, ps, qp_type)               \\\n\t__rdma_create_kernel_id(net, event_handler, context, ps, qp_type,      \\\n\t\t\t\tKBUILD_MODNAME)\n\n \nvoid rdma_destroy_id(struct rdma_cm_id *id);\n\n \nint rdma_bind_addr(struct rdma_cm_id *id, struct sockaddr *addr);\n\n \nint rdma_resolve_addr(struct rdma_cm_id *id, struct sockaddr *src_addr,\n\t\t      const struct sockaddr *dst_addr,\n\t\t      unsigned long timeout_ms);\n\n \nint rdma_resolve_route(struct rdma_cm_id *id, unsigned long timeout_ms);\n\n \nint rdma_create_qp(struct rdma_cm_id *id, struct ib_pd *pd,\n\t\t   struct ib_qp_init_attr *qp_init_attr);\n\n \nvoid rdma_destroy_qp(struct rdma_cm_id *id);\n\n \nint rdma_init_qp_attr(struct rdma_cm_id *id, struct ib_qp_attr *qp_attr,\n\t\t       int *qp_attr_mask);\n\nint rdma_connect(struct rdma_cm_id *id, struct rdma_conn_param *conn_param);\nint rdma_connect_locked(struct rdma_cm_id *id,\n\t\t\tstruct rdma_conn_param *conn_param);\n\nint rdma_connect_ece(struct rdma_cm_id *id, struct rdma_conn_param *conn_param,\n\t\t     struct rdma_ucm_ece *ece);\n\n \nint rdma_listen(struct rdma_cm_id *id, int backlog);\n\nint rdma_accept(struct rdma_cm_id *id, struct rdma_conn_param *conn_param);\n\nvoid rdma_lock_handler(struct rdma_cm_id *id);\nvoid rdma_unlock_handler(struct rdma_cm_id *id);\nint rdma_accept_ece(struct rdma_cm_id *id, struct rdma_conn_param *conn_param,\n\t\t    struct rdma_ucm_ece *ece);\n\n \nint rdma_notify(struct rdma_cm_id *id, enum ib_event_type event);\n\n \nint rdma_reject(struct rdma_cm_id *id, const void *private_data,\n\t\tu8 private_data_len, u8 reason);\n\n \nint rdma_disconnect(struct rdma_cm_id *id);\n\n \nint rdma_join_multicast(struct rdma_cm_id *id, struct sockaddr *addr,\n\t\t\tu8 join_state, void *context);\n\n \nvoid rdma_leave_multicast(struct rdma_cm_id *id, struct sockaddr *addr);\n\n \nvoid rdma_set_service_type(struct rdma_cm_id *id, int tos);\n\n \nint rdma_set_reuseaddr(struct rdma_cm_id *id, int reuse);\n\n \nint rdma_set_afonly(struct rdma_cm_id *id, int afonly);\n\nint rdma_set_ack_timeout(struct rdma_cm_id *id, u8 timeout);\n\nint rdma_set_min_rnr_timer(struct rdma_cm_id *id, u8 min_rnr_timer);\n  \n__be64 rdma_get_service_id(struct rdma_cm_id *id, struct sockaddr *addr);\n\n \nconst char *__attribute_const__ rdma_reject_msg(struct rdma_cm_id *id,\n\t\t\t\t\t\tint reason);\n \nconst void *rdma_consumer_reject_data(struct rdma_cm_id *id,\n\t\t\t\t      struct rdma_cm_event *ev, u8 *data_len);\n\n \n\nvoid rdma_read_gids(struct rdma_cm_id *cm_id, union ib_gid *sgid,\n\t\t    union ib_gid *dgid);\n\nstruct iw_cm_id *rdma_iw_cm_id(struct rdma_cm_id *cm_id);\nstruct rdma_cm_id *rdma_res_to_id(struct rdma_restrack_entry *res);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}