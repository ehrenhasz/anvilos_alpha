{
  "module_name": "opa_port_info.h",
  "hash_id": "75c17472182b45f64f86e64da08b63071f8dd20a1669a63032fd83b49af7b820",
  "original_prompt": "Ingested from linux-6.6.14/include/rdma/opa_port_info.h",
  "human_readable_source": " \n \n\n#ifndef OPA_PORT_INFO_H\n#define OPA_PORT_INFO_H\n\n#include <rdma/opa_smi.h>\n\n#define OPA_PORT_LINK_MODE_NOP\t0\t\t \n#define OPA_PORT_LINK_MODE_OPA\t4\t\t \n\n#define OPA_PORT_PACKET_FORMAT_NOP\t0\t\t \n#define OPA_PORT_PACKET_FORMAT_8B\t1\t\t \n#define OPA_PORT_PACKET_FORMAT_9B\t2\t\t \n#define OPA_PORT_PACKET_FORMAT_10B\t4\t\t \n#define OPA_PORT_PACKET_FORMAT_16B\t8\t\t \n\n#define OPA_PORT_LTP_CRC_MODE_NONE\t0\t \n#define OPA_PORT_LTP_CRC_MODE_14\t1\t \n#define OPA_PORT_LTP_CRC_MODE_16\t2\t \n#define OPA_PORT_LTP_CRC_MODE_48\t4\t \n#define OPA_PORT_LTP_CRC_MODE_PER_LANE  8\t \n\n \n#define OPA_LINKDOWN_REASON_NONE\t\t\t\t0\t \n#define OPA_LINKDOWN_REASON_RCV_ERROR_0\t\t\t\t1\n#define OPA_LINKDOWN_REASON_BAD_PKT_LEN\t\t\t\t2\n#define OPA_LINKDOWN_REASON_PKT_TOO_LONG\t\t\t3\n#define OPA_LINKDOWN_REASON_PKT_TOO_SHORT\t\t\t4\n#define OPA_LINKDOWN_REASON_BAD_SLID\t\t\t\t5\n#define OPA_LINKDOWN_REASON_BAD_DLID\t\t\t\t6\n#define OPA_LINKDOWN_REASON_BAD_L2\t\t\t\t7\n#define OPA_LINKDOWN_REASON_BAD_SC\t\t\t\t8\n#define OPA_LINKDOWN_REASON_RCV_ERROR_8\t\t\t\t9\n#define OPA_LINKDOWN_REASON_BAD_MID_TAIL\t\t\t10\n#define OPA_LINKDOWN_REASON_RCV_ERROR_10\t\t\t11\n#define OPA_LINKDOWN_REASON_PREEMPT_ERROR\t\t\t12\n#define OPA_LINKDOWN_REASON_PREEMPT_VL15\t\t\t13\n#define OPA_LINKDOWN_REASON_BAD_VL_MARKER\t\t\t14\n#define OPA_LINKDOWN_REASON_RCV_ERROR_14\t\t\t15\n#define OPA_LINKDOWN_REASON_RCV_ERROR_15\t\t\t16\n#define OPA_LINKDOWN_REASON_BAD_HEAD_DIST\t\t\t17\n#define OPA_LINKDOWN_REASON_BAD_TAIL_DIST\t\t\t18\n#define OPA_LINKDOWN_REASON_BAD_CTRL_DIST\t\t\t19\n#define OPA_LINKDOWN_REASON_BAD_CREDIT_ACK\t\t\t20\n#define OPA_LINKDOWN_REASON_UNSUPPORTED_VL_MARKER\t\t21\n#define OPA_LINKDOWN_REASON_BAD_PREEMPT\t\t\t\t22\n#define OPA_LINKDOWN_REASON_BAD_CONTROL_FLIT\t\t\t23\n#define OPA_LINKDOWN_REASON_EXCEED_MULTICAST_LIMIT\t\t24\n#define OPA_LINKDOWN_REASON_RCV_ERROR_24\t\t\t25\n#define OPA_LINKDOWN_REASON_RCV_ERROR_25\t\t\t26\n#define OPA_LINKDOWN_REASON_RCV_ERROR_26\t\t\t27\n#define OPA_LINKDOWN_REASON_RCV_ERROR_27\t\t\t28\n#define OPA_LINKDOWN_REASON_RCV_ERROR_28\t\t\t29\n#define OPA_LINKDOWN_REASON_RCV_ERROR_29\t\t\t30\n#define OPA_LINKDOWN_REASON_RCV_ERROR_30\t\t\t31\n#define OPA_LINKDOWN_REASON_EXCESSIVE_BUFFER_OVERRUN\t\t32\n#define OPA_LINKDOWN_REASON_UNKNOWN\t\t\t\t33\n \n#define OPA_LINKDOWN_REASON_REBOOT\t\t\t\t35\n#define OPA_LINKDOWN_REASON_NEIGHBOR_UNKNOWN\t\t\t36\n \n#define OPA_LINKDOWN_REASON_FM_BOUNCE\t\t\t\t39\n#define OPA_LINKDOWN_REASON_SPEED_POLICY\t\t\t40\n#define OPA_LINKDOWN_REASON_WIDTH_POLICY\t\t\t41\n \n#define OPA_LINKDOWN_REASON_DISCONNECTED\t\t\t49\n#define OPA_LINKDOWN_REASON_LOCAL_MEDIA_NOT_INSTALLED\t\t50\n#define OPA_LINKDOWN_REASON_NOT_INSTALLED\t\t\t51\n#define OPA_LINKDOWN_REASON_CHASSIS_CONFIG\t\t\t52\n \n#define OPA_LINKDOWN_REASON_END_TO_END_NOT_INSTALLED\t\t54\n \n#define OPA_LINKDOWN_REASON_POWER_POLICY\t\t\t56\n#define OPA_LINKDOWN_REASON_LINKSPEED_POLICY\t\t\t57\n#define OPA_LINKDOWN_REASON_LINKWIDTH_POLICY\t\t\t58\n \n#define OPA_LINKDOWN_REASON_SWITCH_MGMT\t\t\t\t60\n#define OPA_LINKDOWN_REASON_SMA_DISABLED\t\t\t61\n \n#define OPA_LINKDOWN_REASON_TRANSIENT\t\t\t\t63\n \n\n \n \n#define OPA_LINKINIT_REASON_NOP                 0\n#define OPA_LINKINIT_REASON_LINKUP              (1 << 4)\n#define OPA_LINKINIT_REASON_FLAPPING            (2 << 4)\n#define OPA_LINKINIT_REASON_CLEAR               (8 << 4)\n#define OPA_LINKINIT_OUTSIDE_POLICY             (8 << 4)\n#define OPA_LINKINIT_QUARANTINED                (9 << 4)\n#define OPA_LINKINIT_INSUFIC_CAPABILITY         (10 << 4)\n\n#define OPA_LINK_SPEED_NOP              0x0000   \n#define OPA_LINK_SPEED_12_5G            0x0001   \n#define OPA_LINK_SPEED_25G              0x0002   \n\n#define OPA_LINK_WIDTH_1X            0x0001\n#define OPA_LINK_WIDTH_2X            0x0002\n#define OPA_LINK_WIDTH_3X            0x0004\n#define OPA_LINK_WIDTH_4X            0x0008\n\n#define OPA_CAP_MASK3_IsEthOnFabricSupported      (1 << 13)\n#define OPA_CAP_MASK3_IsSnoopSupported            (1 << 7)\n#define OPA_CAP_MASK3_IsAsyncSC2VLSupported       (1 << 6)\n#define OPA_CAP_MASK3_IsAddrRangeConfigSupported  (1 << 5)\n#define OPA_CAP_MASK3_IsPassThroughSupported      (1 << 4)\n#define OPA_CAP_MASK3_IsSharedSpaceSupported      (1 << 3)\n \n#define OPA_CAP_MASK3_IsVLMarkerSupported         (1 << 1)\n#define OPA_CAP_MASK3_IsVLrSupported              (1 << 0)\n\nenum {\n\tOPA_PORT_PHYS_CONF_DISCONNECTED = 0,\n\tOPA_PORT_PHYS_CONF_STANDARD     = 1,\n\tOPA_PORT_PHYS_CONF_FIXED        = 2,\n\tOPA_PORT_PHYS_CONF_VARIABLE     = 3,\n\tOPA_PORT_PHYS_CONF_SI_PHOTO     = 4\n};\n\nenum port_info_field_masks {\n\t \n\tOPA_PI_MASK_VL_CAP                        = 0x1F,\n\t \n\tOPA_PI_MASK_OFFLINE_REASON                = 0x0F,\n\tOPA_PI_MASK_LED_ENABLE                    = 0x40,\n\t \n\tOPA_PI_MASK_UNSLEEP_STATE                 = 0xF0,\n\tOPA_PI_MASK_DOWNDEF_STATE                 = 0x0F,\n\t \n\tOPA_PI_MASK_PORT_PHYSICAL_STATE           = 0xF0,\n\tOPA_PI_MASK_PORT_STATE                    = 0x0F,\n\t \n\tOPA_PI_MASK_PORT_PHYSICAL_CONF            = 0x0F,\n\t \n\tOPA_PI_MASK_COLLECT_MASK                  = 0x38,\n\tOPA_PI_MASK_MULTICAST_MASK                = 0x07,\n\t \n\tOPA_PI_MASK_MKEY_PROT_BIT                 = 0xC0,\n\tOPA_PI_MASK_LMC                           = 0x0F,\n\t \n\tOPA_PI_MASK_SMSL                          = 0x1F,\n\t \n\t \n\tOPA_PI_MASK_LINKINIT_REASON               = 0xF0,\n\tOPA_PI_MASK_PARTITION_ENFORCE_IN          = 0x08,\n\tOPA_PI_MASK_PARTITION_ENFORCE_OUT         = 0x04,\n\t \n\tOPA_PI_MASK_OPERATIONAL_VL                = 0x1F,\n\t \n\tOPA_PI_MASK_SA_QP                         = 0x00FFFFFF,\n\t \n\tOPA_PI_MASK_SM_TRAP_QP                    = 0x00FFFFFF,\n\t \n\tOPA_PI_MASK_LOCAL_PHY_ERRORS              = 0xF0,\n\tOPA_PI_MASK_OVERRUN_ERRORS                = 0x0F,\n\t \n\tOPA_PI_MASK_CLIENT_REREGISTER             = 0x80,\n\tOPA_PI_MASK_SUBNET_TIMEOUT                = 0x1F,\n\t \n\tOPA_PI_MASK_PORT_LINK_SUPPORTED           = (0x001F << 10),\n\tOPA_PI_MASK_PORT_LINK_ENABLED             = (0x001F <<  5),\n\tOPA_PI_MASK_PORT_LINK_ACTIVE              = (0x001F <<  0),\n\t \n\tOPA_PI_MASK_PORT_LINK_CRC_SUPPORTED       = 0x0F00,\n\tOPA_PI_MASK_PORT_LINK_CRC_ENABLED         = 0x00F0,\n\tOPA_PI_MASK_PORT_LINK_CRC_ACTIVE          = 0x000F,\n\t \n\tOPA_PI_MASK_PORT_MODE_SECURITY_CHECK      = 0x0001,\n\tOPA_PI_MASK_PORT_MODE_16B_TRAP_QUERY      = 0x0002,\n\tOPA_PI_MASK_PORT_MODE_PKEY_CONVERT        = 0x0004,\n\tOPA_PI_MASK_PORT_MODE_SC2SC_MAPPING       = 0x0008,\n\tOPA_PI_MASK_PORT_MODE_VL_MARKER           = 0x0010,\n\tOPA_PI_MASK_PORT_PASS_THROUGH             = 0x0020,\n\tOPA_PI_MASK_PORT_ACTIVE_OPTOMIZE          = 0x0040,\n\t \n\tOPA_PI_MASK_INTERLEAVE_DIST_SUP           = (0x0003 << 12),\n\tOPA_PI_MASK_INTERLEAVE_DIST_ENABLE        = (0x0003 << 10),\n\tOPA_PI_MASK_INTERLEAVE_MAX_NEST_TX        = (0x001F <<  5),\n\tOPA_PI_MASK_INTERLEAVE_MAX_NEST_RX        = (0x001F <<  0),\n\n\t \n\tOPA_PI_MASK_EX_BUFFER_OVERRUN                  = 0x80000000,\n\t\t \n\tOPA_PI_MASK_FM_CFG_ERR_EXCEED_MULTICAST_LIMIT  = 0x00800000,\n\tOPA_PI_MASK_FM_CFG_BAD_CONTROL_FLIT            = 0x00400000,\n\tOPA_PI_MASK_FM_CFG_BAD_PREEMPT                 = 0x00200000,\n\tOPA_PI_MASK_FM_CFG_UNSUPPORTED_VL_MARKER       = 0x00100000,\n\tOPA_PI_MASK_FM_CFG_BAD_CRDT_ACK                = 0x00080000,\n\tOPA_PI_MASK_FM_CFG_BAD_CTRL_DIST               = 0x00040000,\n\tOPA_PI_MASK_FM_CFG_BAD_TAIL_DIST               = 0x00020000,\n\tOPA_PI_MASK_FM_CFG_BAD_HEAD_DIST               = 0x00010000,\n\t\t \n\tOPA_PI_MASK_PORT_RCV_BAD_VL_MARKER             = 0x00002000,\n\tOPA_PI_MASK_PORT_RCV_PREEMPT_VL15              = 0x00001000,\n\tOPA_PI_MASK_PORT_RCV_PREEMPT_ERROR             = 0x00000800,\n\t\t \n\tOPA_PI_MASK_PORT_RCV_BAD_MidTail               = 0x00000200,\n\t\t \n\tOPA_PI_MASK_PORT_RCV_BAD_SC                    = 0x00000080,\n\tOPA_PI_MASK_PORT_RCV_BAD_L2                    = 0x00000040,\n\tOPA_PI_MASK_PORT_RCV_BAD_DLID                  = 0x00000020,\n\tOPA_PI_MASK_PORT_RCV_BAD_SLID                  = 0x00000010,\n\tOPA_PI_MASK_PORT_RCV_PKTLEN_TOOSHORT           = 0x00000008,\n\tOPA_PI_MASK_PORT_RCV_PKTLEN_TOOLONG            = 0x00000004,\n\tOPA_PI_MASK_PORT_RCV_BAD_PKTLEN                = 0x00000002,\n\tOPA_PI_MASK_PORT_RCV_BAD_LT                    = 0x00000001,\n\n\t \n\tOPA_PI_MASK_PASS_THROUGH_DR_CONTROL       = 0x01,\n\n\t \n\tOPA_PI_MASK_BUF_UNIT_VL15_INIT            = (0x00000FFF  << 11),\n\tOPA_PI_MASK_BUF_UNIT_VL15_CREDIT_RATE     = (0x0000001F  <<  6),\n\tOPA_PI_MASK_BUF_UNIT_CREDIT_ACK           = (0x00000003  <<  3),\n\tOPA_PI_MASK_BUF_UNIT_BUF_ALLOC            = (0x00000003  <<  0),\n\n\t \n\tOPA_PI_MASK_NEIGH_MTU_PVL0                = 0xF0,\n\tOPA_PI_MASK_NEIGH_MTU_PVL1                = 0x0F,\n\n\t \n\tOPA_PI_MASK_VL_STALL                      = (0x03 << 5),\n\tOPA_PI_MASK_HOQ_LIFE                      = (0x1F << 0),\n\n\t \n\tOPA_PI_MASK_NEIGH_MGMT_ALLOWED            = (0x01 << 3),\n\tOPA_PI_MASK_NEIGH_FW_AUTH_BYPASS          = (0x01 << 2),\n\tOPA_PI_MASK_NEIGH_NODE_TYPE               = (0x03 << 0),\n\n\t \n\tOPA_PI_MASK_RESPONSE_TIME_VALUE           = 0x1F,\n\n\t \n\tOPA_PI_MASK_MTU_CAP                       = 0x0F,\n};\n\nstruct opa_port_states {\n\tu8     reserved;\n\tu8     ledenable_offlinereason;    \n\tu8     reserved2;\n\tu8     portphysstate_portstate;    \n};\n\nstruct opa_port_state_info {\n\tstruct opa_port_states port_states;\n\t__be16 link_width_downgrade_tx_active;\n\t__be16 link_width_downgrade_rx_active;\n};\n\nstruct opa_port_info {\n\t__be32 lid;\n\t__be32 flow_control_mask;\n\n\tstruct {\n\t\tu8     res;                        \n\t\tu8     cap;                        \n\t\t__be16 high_limit;\n\t\t__be16 preempt_limit;\n\t\tu8     arb_high_cap;\n\t\tu8     arb_low_cap;\n\t} vl;\n\n\tstruct opa_port_states  port_states;\n\tu8     port_phys_conf;                     \n\tu8     collectivemask_multicastmask;       \n\tu8     mkeyprotect_lmc;                    \n\tu8     smsl;                               \n\n\tu8     partenforce_filterraw;              \n\tu8     operational_vls;                     \n\t__be16 pkey_8b;\n\t__be16 pkey_10b;\n\t__be16 mkey_violations;\n\n\t__be16 pkey_violations;\n\t__be16 qkey_violations;\n\t__be32 sm_trap_qp;                         \n\n\t__be32 sa_qp;                              \n\tu8     neigh_port_num;\n\tu8     link_down_reason;\n\tu8     neigh_link_down_reason;\n\tu8     clientrereg_subnettimeout;\t   \n\n\tstruct {\n\t\t__be16 supported;\n\t\t__be16 enabled;\n\t\t__be16 active;\n\t} link_speed;\n\tstruct {\n\t\t__be16 supported;\n\t\t__be16 enabled;\n\t\t__be16 active;\n\t} link_width;\n\tstruct {\n\t\t__be16 supported;\n\t\t__be16 enabled;\n\t\t__be16 tx_active;\n\t\t__be16 rx_active;\n\t} link_width_downgrade;\n\t__be16 port_link_mode;                   \n\t__be16 port_ltp_crc_mode;                \n\n\t__be16 port_mode;                        \n\tstruct {\n\t\t__be16 supported;\n\t\t__be16 enabled;\n\t} port_packet_format;\n\tstruct {\n\t\t__be16 interleave;   \n\t\tstruct {\n\t\t\t__be16 min_initial;\n\t\t\t__be16 min_tail;\n\t\t\tu8     large_pkt_limit;\n\t\t\tu8     small_pkt_limit;\n\t\t\tu8     max_small_pkt_limit;\n\t\t\tu8     preemption_limit;\n\t\t} preemption;\n\t} flit_control;\n\n\t__be32 reserved4;\n\t__be32 port_error_action;  \n\n\tstruct {\n\t\tu8 egress_port;\n\t\tu8 res_drctl;                     \n\t} pass_through;\n\t__be16 mkey_lease_period;\n\t__be32 buffer_units;                      \n\n\t__be32 reserved5;\n\t__be32 sm_lid;\n\n\t__be64 mkey;\n\n\t__be64 subnet_prefix;\n\n\tstruct {\n\t\tu8 pvlx_to_mtu[OPA_MAX_VLS/2];  \n\t} neigh_mtu;\n\n\tstruct {\n\t\tu8 vlstall_hoqlife;              \n\t} xmit_q[OPA_MAX_VLS];\n\n\tstruct {\n\t\tu8 addr[16];\n\t} ipaddr_ipv6;\n\n\tstruct {\n\t\tu8 addr[4];\n\t} ipaddr_ipv4;\n\n\tu32    reserved6;\n\tu32    reserved7;\n\tu32    reserved8;\n\n\t__be64 neigh_node_guid;\n\n\t__be32 ib_cap_mask;\n\t__be16 reserved9;                     \n\t__be16 opa_cap_mask;\n\n\t__be32 reserved10;                    \n\t__be16 overall_buffer_space;\n\t__be16 reserved11;                    \n\n\t__be16 diag_code;\n\tstruct {\n\t\tu8 buffer;\n\t\tu8 wire;\n\t} replay_depth;\n\tu8     port_neigh_mode;\n\tu8     mtucap;                           \n\n\tu8     resptimevalue;\t\t         \n\tu8     local_port_num;\n\tu8     reserved12;\n\tu8     reserved13;                        \n} __packed;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}