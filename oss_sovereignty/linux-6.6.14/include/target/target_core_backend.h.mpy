{
  "module_name": "target_core_backend.h",
  "hash_id": "81665a0a310facf3da4ba166d027e7f89e7b4b933dcb6445aec59e126ed37835",
  "original_prompt": "Ingested from linux-6.6.14/include/target/target_core_backend.h",
  "human_readable_source": " \n#ifndef TARGET_CORE_BACKEND_H\n#define TARGET_CORE_BACKEND_H\n\n#include <linux/types.h>\n#include <asm/unaligned.h>\n#include <target/target_core_base.h>\n\n#define TRANSPORT_FLAG_PASSTHROUGH\t\t0x1\n \n#define TRANSPORT_FLAG_PASSTHROUGH_ALUA\t\t0x2\n#define TRANSPORT_FLAG_PASSTHROUGH_PGR          0x4\n\nstruct block_device;\nstruct scatterlist;\n\nstruct target_backend_ops {\n\tchar name[16];\n\tchar inquiry_prod[16];\n\tchar inquiry_rev[4];\n\tstruct module *owner;\n\n\tu8 transport_flags_default;\n\tu8 transport_flags_changeable;\n\n\tint (*attach_hba)(struct se_hba *, u32);\n\tvoid (*detach_hba)(struct se_hba *);\n\tint (*pmode_enable_hba)(struct se_hba *, unsigned long);\n\n\tstruct se_device *(*alloc_device)(struct se_hba *, const char *);\n\tint (*configure_device)(struct se_device *);\n\tvoid (*destroy_device)(struct se_device *);\n\tvoid (*free_device)(struct se_device *device);\n\tstruct se_dev_plug *(*plug_device)(struct se_device *se_dev);\n\tvoid (*unplug_device)(struct se_dev_plug *se_plug);\n\n\tbool (*configure_unmap)(struct se_device *se_dev);\n\tssize_t (*set_configfs_dev_params)(struct se_device *,\n\t\t\t\t\t   const char *, ssize_t);\n\tssize_t (*show_configfs_dev_params)(struct se_device *, char *);\n\n\tsense_reason_t (*parse_cdb)(struct se_cmd *cmd);\n\tvoid (*tmr_notify)(struct se_device *se_dev, enum tcm_tmreq_table,\n\t\t\t   struct list_head *aborted_cmds);\n\tu32 (*get_device_type)(struct se_device *);\n\tsector_t (*get_blocks)(struct se_device *);\n\tsector_t (*get_alignment_offset_lbas)(struct se_device *);\n\t \n\tunsigned int (*get_lbppbe)(struct se_device *);\n\tunsigned int (*get_io_min)(struct se_device *);\n\tunsigned int (*get_io_opt)(struct se_device *);\n\tunsigned char *(*get_sense_buffer)(struct se_cmd *);\n\tbool (*get_write_cache)(struct se_device *);\n\tint (*init_prot)(struct se_device *);\n\tint (*format_prot)(struct se_device *);\n\tvoid (*free_prot)(struct se_device *);\n\n\tstruct configfs_attribute **tb_dev_attrib_attrs;\n\tstruct configfs_attribute **tb_dev_action_attrs;\n};\n\nstruct exec_cmd_ops {\n\tsense_reason_t (*execute_rw)(struct se_cmd *cmd, struct scatterlist *,\n\t\t\t\t     u32, enum dma_data_direction);\n\tsense_reason_t (*execute_sync_cache)(struct se_cmd *cmd);\n\tsense_reason_t (*execute_write_same)(struct se_cmd *cmd);\n\tsense_reason_t (*execute_unmap)(struct se_cmd *cmd,\n\t\t\t\tsector_t lba, sector_t nolb);\n\tsense_reason_t (*execute_pr_out)(struct se_cmd *cmd, u8 sa, u64 key,\n\t\t\t\t\t u64 sa_key, u8 type, bool aptpl);\n\tsense_reason_t (*execute_pr_in)(struct se_cmd *cmd, u8 sa,\n\t\t\t\t\tunsigned char *param_data);\n};\n\nint\ttransport_backend_register(const struct target_backend_ops *);\nvoid\ttarget_backend_unregister(const struct target_backend_ops *);\n\nvoid\ttarget_complete_cmd(struct se_cmd *, u8);\nvoid\ttarget_set_cmd_data_length(struct se_cmd *, int);\nvoid\ttarget_complete_cmd_with_sense(struct se_cmd *, u8, sense_reason_t);\nvoid\ttarget_complete_cmd_with_length(struct se_cmd *, u8, int);\n\nvoid\ttransport_copy_sense_to_cmd(struct se_cmd *, unsigned char *);\n\nsense_reason_t\tspc_parse_cdb(struct se_cmd *cmd, unsigned int *size);\nsense_reason_t\tspc_emulate_report_luns(struct se_cmd *cmd);\nsense_reason_t\tspc_emulate_inquiry_std(struct se_cmd *, unsigned char *);\nsense_reason_t\tspc_emulate_evpd_83(struct se_cmd *, unsigned char *);\n\nsense_reason_t\tsbc_parse_cdb(struct se_cmd *cmd, struct exec_cmd_ops *ops);\nu32\tsbc_get_device_rev(struct se_device *dev);\nu32\tsbc_get_device_type(struct se_device *dev);\nsector_t\tsbc_get_write_same_sectors(struct se_cmd *cmd);\nvoid\tsbc_dif_generate(struct se_cmd *);\nsense_reason_t\tsbc_dif_verify(struct se_cmd *, sector_t, unsigned int,\n\t\t\t\t     unsigned int, struct scatterlist *, int);\nvoid sbc_dif_copy_prot(struct se_cmd *, unsigned int, bool,\n\t\t       struct scatterlist *, int);\nvoid\ttransport_set_vpd_proto_id(struct t10_vpd *, unsigned char *);\nint\ttransport_set_vpd_assoc(struct t10_vpd *, unsigned char *);\nint\ttransport_set_vpd_ident_type(struct t10_vpd *, unsigned char *);\nint\ttransport_set_vpd_ident(struct t10_vpd *, unsigned char *);\n\nextern struct configfs_attribute *sbc_attrib_attrs[];\nextern struct configfs_attribute *passthrough_attrib_attrs[];\nextern struct configfs_attribute *passthrough_pr_attrib_attrs[];\n\n \nvoid\t*transport_kmap_data_sg(struct se_cmd *);\nvoid\ttransport_kunmap_data_sg(struct se_cmd *);\n \nsense_reason_t\ttransport_generic_map_mem_to_cmd(struct se_cmd *,\n\t\tstruct scatterlist *, u32, struct scatterlist *, u32);\n\nbool\ttarget_lun_is_rdonly(struct se_cmd *);\nsense_reason_t passthrough_parse_cdb(struct se_cmd *cmd,\n\tsense_reason_t (*exec_cmd)(struct se_cmd *cmd));\n\nbool target_sense_desc_format(struct se_device *dev);\nsector_t target_to_linux_sector(struct se_device *dev, sector_t lb);\nbool target_configure_unmap_from_queue(struct se_dev_attrib *attrib,\n\t\t\t\t       struct block_device *bdev);\n\nstatic inline bool target_dev_configured(struct se_device *se_dev)\n{\n\treturn !!(se_dev->dev_flags & DF_CONFIGURED);\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}