{
  "module_name": "iscsi_transport.h",
  "hash_id": "3e25ba0ea75952edf4bfe7a74567ef5d9ee3f532e6ab005a29fd4338cd16ab67",
  "original_prompt": "Ingested from linux-6.6.14/include/target/iscsi/iscsi_transport.h",
  "human_readable_source": " \n#include \"iscsi_target_core.h\"  \n\nstruct sockaddr_storage;\n\nstruct iscsit_transport {\n#define ISCSIT_TRANSPORT_NAME\t16\n\tchar name[ISCSIT_TRANSPORT_NAME];\n\tint transport_type;\n\tbool rdma_shutdown;\n\tint priv_size;\n\tstruct module *owner;\n\tstruct list_head t_node;\n\tint (*iscsit_setup_np)(struct iscsi_np *, struct sockaddr_storage *);\n\tint (*iscsit_accept_np)(struct iscsi_np *, struct iscsit_conn *);\n\tvoid (*iscsit_free_np)(struct iscsi_np *);\n\tvoid (*iscsit_wait_conn)(struct iscsit_conn *);\n\tvoid (*iscsit_free_conn)(struct iscsit_conn *);\n\tint (*iscsit_get_login_rx)(struct iscsit_conn *, struct iscsi_login *);\n\tint (*iscsit_put_login_tx)(struct iscsit_conn *, struct iscsi_login *, u32);\n\tint (*iscsit_immediate_queue)(struct iscsit_conn *, struct iscsit_cmd *, int);\n\tint (*iscsit_response_queue)(struct iscsit_conn *, struct iscsit_cmd *, int);\n\tint (*iscsit_get_dataout)(struct iscsit_conn *, struct iscsit_cmd *, bool);\n\tint (*iscsit_queue_data_in)(struct iscsit_conn *, struct iscsit_cmd *);\n\tint (*iscsit_queue_status)(struct iscsit_conn *, struct iscsit_cmd *);\n\tvoid (*iscsit_aborted_task)(struct iscsit_conn *, struct iscsit_cmd *);\n\tint (*iscsit_xmit_pdu)(struct iscsit_conn *, struct iscsit_cmd *,\n\t\t\t       struct iscsi_datain_req *, const void *, u32);\n\tvoid (*iscsit_unmap_cmd)(struct iscsit_conn *, struct iscsit_cmd *);\n\tvoid (*iscsit_get_rx_pdu)(struct iscsit_conn *);\n\tint (*iscsit_validate_params)(struct iscsit_conn *);\n\tvoid (*iscsit_get_r2t_ttt)(struct iscsit_conn *, struct iscsit_cmd *,\n\t\t\t\t   struct iscsi_r2t *);\n\tenum target_prot_op (*iscsit_get_sup_prot_ops)(struct iscsit_conn *);\n};\n\nstatic inline void *iscsit_priv_cmd(struct iscsit_cmd *cmd)\n{\n\treturn (void *)(cmd + 1);\n}\n\n \n\nextern void iscsit_register_transport(struct iscsit_transport *);\nextern void iscsit_unregister_transport(struct iscsit_transport *);\nextern struct iscsit_transport *iscsit_get_transport(int);\nextern void iscsit_put_transport(struct iscsit_transport *);\n\n \nextern int iscsit_setup_scsi_cmd(struct iscsit_conn *, struct iscsit_cmd *,\n\t\t\t\tunsigned char *);\nextern void iscsit_set_unsolicited_dataout(struct iscsit_cmd *);\nextern int iscsit_process_scsi_cmd(struct iscsit_conn *, struct iscsit_cmd *,\n\t\t\t\tstruct iscsi_scsi_req *);\nextern int\n__iscsit_check_dataout_hdr(struct iscsit_conn *, void *,\n\t\t\t   struct iscsit_cmd *, u32, bool *);\nextern int\niscsit_check_dataout_hdr(struct iscsit_conn *conn, void *buf,\n\t\t\t struct iscsit_cmd **out_cmd);\nextern int iscsit_check_dataout_payload(struct iscsit_cmd *, struct iscsi_data *,\n\t\t\t\tbool);\nextern int iscsit_setup_nop_out(struct iscsit_conn *, struct iscsit_cmd *,\n\t\t\t\tstruct iscsi_nopout *);\nextern int iscsit_process_nop_out(struct iscsit_conn *, struct iscsit_cmd *,\n\t\t\t\tstruct iscsi_nopout *);\nextern int iscsit_handle_logout_cmd(struct iscsit_conn *, struct iscsit_cmd *,\n\t\t\t\tunsigned char *);\nextern int iscsit_handle_task_mgt_cmd(struct iscsit_conn *, struct iscsit_cmd *,\n\t\t\t\tunsigned char *);\nextern int iscsit_setup_text_cmd(struct iscsit_conn *, struct iscsit_cmd *,\n\t\t\t\t struct iscsi_text *);\nextern int iscsit_process_text_cmd(struct iscsit_conn *, struct iscsit_cmd *,\n\t\t\t\t   struct iscsi_text *);\nextern void iscsit_build_rsp_pdu(struct iscsit_cmd *, struct iscsit_conn *,\n\t\t\t\tbool, struct iscsi_scsi_rsp *);\nextern void iscsit_build_nopin_rsp(struct iscsit_cmd *, struct iscsit_conn *,\n\t\t\t\tstruct iscsi_nopin *, bool);\nextern void iscsit_build_task_mgt_rsp(struct iscsit_cmd *, struct iscsit_conn *,\n\t\t\t\tstruct iscsi_tm_rsp *);\nextern int iscsit_build_text_rsp(struct iscsit_cmd *, struct iscsit_conn *,\n\t\t\t\tstruct iscsi_text_rsp *,\n\t\t\t\tenum iscsit_transport_type);\nextern void iscsit_build_reject(struct iscsit_cmd *, struct iscsit_conn *,\n\t\t\t\tstruct iscsi_reject *);\nextern int iscsit_build_logout_rsp(struct iscsit_cmd *, struct iscsit_conn *,\n\t\t\t\tstruct iscsi_logout_rsp *);\nextern int iscsit_logout_post_handler(struct iscsit_cmd *, struct iscsit_conn *);\nextern int iscsit_queue_rsp(struct iscsit_conn *, struct iscsit_cmd *);\nextern void iscsit_aborted_task(struct iscsit_conn *, struct iscsit_cmd *);\nextern int iscsit_add_reject(struct iscsit_conn *, u8, unsigned char *);\nextern int iscsit_reject_cmd(struct iscsit_cmd *, u8, unsigned char *);\nextern int iscsit_handle_snack(struct iscsit_conn *, unsigned char *);\nextern void iscsit_build_datain_pdu(struct iscsit_cmd *, struct iscsit_conn *,\n\t\t\t\t    struct iscsi_datain *,\n\t\t\t\t    struct iscsi_data_rsp *, bool);\nextern int iscsit_build_r2ts_for_cmd(struct iscsit_conn *, struct iscsit_cmd *,\n\t\t\t\t     bool);\nextern int iscsit_immediate_queue(struct iscsit_conn *, struct iscsit_cmd *, int);\nextern int iscsit_response_queue(struct iscsit_conn *, struct iscsit_cmd *, int);\n \nextern void iscsit_increment_maxcmdsn(struct iscsit_cmd *, struct iscsit_session *);\n \nextern void iscsit_cause_connection_reinstatement(struct iscsit_conn *, int);\n \nextern void iscsit_stop_dataout_timer(struct iscsit_cmd *);\n\n \nextern int iscsit_tmr_post_handler(struct iscsit_cmd *, struct iscsit_conn *);\n\n \nextern struct iscsit_cmd *iscsit_allocate_cmd(struct iscsit_conn *, int);\nextern int iscsit_sequence_cmd(struct iscsit_conn *, struct iscsit_cmd *,\n\t\t\t       unsigned char *, __be32);\nextern void iscsit_release_cmd(struct iscsit_cmd *);\nextern void iscsit_free_cmd(struct iscsit_cmd *, bool);\nextern void iscsit_add_cmd_to_immediate_queue(struct iscsit_cmd *,\n\t\t\t\t\t      struct iscsit_conn *, u8);\nextern struct iscsit_cmd *\niscsit_find_cmd_from_itt_or_dump(struct iscsit_conn *conn,\n\t\t\t\t itt_t init_task_tag, u32 length);\n\n \nextern int iscsi_target_check_login_request(struct iscsit_conn *,\n\t\t\t\t\t    struct iscsi_login *);\n\n \nextern __printf(2, 3) int iscsi_change_param_sprintf(\n\tstruct iscsit_conn *, const char *, ...);\n\n \nextern struct iscsi_param *iscsi_find_param_from_key(\n\tchar *, struct iscsi_param_list *);\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}