{
  "module_name": "rdma_core.h",
  "hash_id": "f246b10c4ae917263d89d8a9dfc2635009159cf2664c6e0daba8a4df8a71cfb5",
  "original_prompt": "Ingested from linux-6.6.14/include/trace/events/rdma_core.h",
  "human_readable_source": " \n \n\n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM rdma_core\n\n#if !defined(_TRACE_RDMA_CORE_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _TRACE_RDMA_CORE_H\n\n#include <linux/tracepoint.h>\n#include <rdma/ib_verbs.h>\n\n \n#define IB_POLL_CTX_LIST\t\t\t\\\n\tib_poll_ctx(DIRECT)\t\t\t\\\n\tib_poll_ctx(SOFTIRQ)\t\t\t\\\n\tib_poll_ctx(WORKQUEUE)\t\t\t\\\n\tib_poll_ctx_end(UNBOUND_WORKQUEUE)\n\n#undef ib_poll_ctx\n#undef ib_poll_ctx_end\n\n#define ib_poll_ctx(x)\t\tTRACE_DEFINE_ENUM(IB_POLL_##x);\n#define ib_poll_ctx_end(x)\tTRACE_DEFINE_ENUM(IB_POLL_##x);\n\nIB_POLL_CTX_LIST\n\n#undef ib_poll_ctx\n#undef ib_poll_ctx_end\n\n#define ib_poll_ctx(x)\t\t{ IB_POLL_##x, #x },\n#define ib_poll_ctx_end(x)\t{ IB_POLL_##x, #x }\n\n#define rdma_show_ib_poll_ctx(x) \\\n\t\t__print_symbolic(x, IB_POLL_CTX_LIST)\n\n \n\nTRACE_EVENT(cq_schedule,\n\tTP_PROTO(\n\t\tstruct ib_cq *cq\n\t),\n\n\tTP_ARGS(cq),\n\n\tTP_STRUCT__entry(\n\t\t__field(u32, cq_id)\n\t),\n\n\tTP_fast_assign(\n\t\tcq->timestamp = ktime_get();\n\t\tcq->interrupt = true;\n\n\t\t__entry->cq_id = cq->res.id;\n\t),\n\n\tTP_printk(\"cq.id=%u\", __entry->cq_id)\n);\n\nTRACE_EVENT(cq_reschedule,\n\tTP_PROTO(\n\t\tstruct ib_cq *cq\n\t),\n\n\tTP_ARGS(cq),\n\n\tTP_STRUCT__entry(\n\t\t__field(u32, cq_id)\n\t),\n\n\tTP_fast_assign(\n\t\tcq->timestamp = ktime_get();\n\t\tcq->interrupt = false;\n\n\t\t__entry->cq_id = cq->res.id;\n\t),\n\n\tTP_printk(\"cq.id=%u\", __entry->cq_id)\n);\n\nTRACE_EVENT(cq_process,\n\tTP_PROTO(\n\t\tconst struct ib_cq *cq\n\t),\n\n\tTP_ARGS(cq),\n\n\tTP_STRUCT__entry(\n\t\t__field(u32, cq_id)\n\t\t__field(bool, interrupt)\n\t\t__field(s64, latency)\n\t),\n\n\tTP_fast_assign(\n\t\tktime_t latency = ktime_sub(ktime_get(), cq->timestamp);\n\n\t\t__entry->cq_id = cq->res.id;\n\t\t__entry->latency = ktime_to_us(latency);\n\t\t__entry->interrupt = cq->interrupt;\n\t),\n\n\tTP_printk(\"cq.id=%u wake-up took %lld [us] from %s\",\n\t\t__entry->cq_id, __entry->latency,\n\t\t__entry->interrupt ? \"interrupt\" : \"reschedule\"\n\t)\n);\n\nTRACE_EVENT(cq_poll,\n\tTP_PROTO(\n\t\tconst struct ib_cq *cq,\n\t\tint requested,\n\t\tint rc\n\t),\n\n\tTP_ARGS(cq, requested, rc),\n\n\tTP_STRUCT__entry(\n\t\t__field(u32, cq_id)\n\t\t__field(int, requested)\n\t\t__field(int, rc)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->cq_id = cq->res.id;\n\t\t__entry->requested = requested;\n\t\t__entry->rc = rc;\n\t),\n\n\tTP_printk(\"cq.id=%u requested %d, returned %d\",\n\t\t__entry->cq_id, __entry->requested, __entry->rc\n\t)\n);\n\nTRACE_EVENT(cq_drain_complete,\n\tTP_PROTO(\n\t\tconst struct ib_cq *cq\n\t),\n\n\tTP_ARGS(cq),\n\n\tTP_STRUCT__entry(\n\t\t__field(u32, cq_id)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->cq_id = cq->res.id;\n\t),\n\n\tTP_printk(\"cq.id=%u\",\n\t\t__entry->cq_id\n\t)\n);\n\n\nTRACE_EVENT(cq_modify,\n\tTP_PROTO(\n\t\tconst struct ib_cq *cq,\n\t\tu16 comps,\n\t\tu16 usec\n\t),\n\n\tTP_ARGS(cq, comps, usec),\n\n\tTP_STRUCT__entry(\n\t\t__field(u32, cq_id)\n\t\t__field(unsigned int, comps)\n\t\t__field(unsigned int, usec)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->cq_id = cq->res.id;\n\t\t__entry->comps = comps;\n\t\t__entry->usec = usec;\n\t),\n\n\tTP_printk(\"cq.id=%u comps=%u usec=%u\",\n\t\t__entry->cq_id, __entry->comps, __entry->usec\n\t)\n);\n\nTRACE_EVENT(cq_alloc,\n\tTP_PROTO(\n\t\tconst struct ib_cq *cq,\n\t\tint nr_cqe,\n\t\tint comp_vector,\n\t\tenum ib_poll_context poll_ctx\n\t),\n\n\tTP_ARGS(cq, nr_cqe, comp_vector, poll_ctx),\n\n\tTP_STRUCT__entry(\n\t\t__field(u32, cq_id)\n\t\t__field(int, nr_cqe)\n\t\t__field(int, comp_vector)\n\t\t__field(unsigned long, poll_ctx)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->cq_id = cq->res.id;\n\t\t__entry->nr_cqe = nr_cqe;\n\t\t__entry->comp_vector = comp_vector;\n\t\t__entry->poll_ctx = poll_ctx;\n\t),\n\n\tTP_printk(\"cq.id=%u nr_cqe=%d comp_vector=%d poll_ctx=%s\",\n\t\t__entry->cq_id, __entry->nr_cqe, __entry->comp_vector,\n\t\trdma_show_ib_poll_ctx(__entry->poll_ctx)\n\t)\n);\n\nTRACE_EVENT(cq_alloc_error,\n\tTP_PROTO(\n\t\tint nr_cqe,\n\t\tint comp_vector,\n\t\tenum ib_poll_context poll_ctx,\n\t\tint rc\n\t),\n\n\tTP_ARGS(nr_cqe, comp_vector, poll_ctx, rc),\n\n\tTP_STRUCT__entry(\n\t\t__field(int, rc)\n\t\t__field(int, nr_cqe)\n\t\t__field(int, comp_vector)\n\t\t__field(unsigned long, poll_ctx)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->rc = rc;\n\t\t__entry->nr_cqe = nr_cqe;\n\t\t__entry->comp_vector = comp_vector;\n\t\t__entry->poll_ctx = poll_ctx;\n\t),\n\n\tTP_printk(\"nr_cqe=%d comp_vector=%d poll_ctx=%s rc=%d\",\n\t\t__entry->nr_cqe, __entry->comp_vector,\n\t\trdma_show_ib_poll_ctx(__entry->poll_ctx), __entry->rc\n\t)\n);\n\nTRACE_EVENT(cq_free,\n\tTP_PROTO(\n\t\tconst struct ib_cq *cq\n\t),\n\n\tTP_ARGS(cq),\n\n\tTP_STRUCT__entry(\n\t\t__field(u32, cq_id)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->cq_id = cq->res.id;\n\t),\n\n\tTP_printk(\"cq.id=%u\", __entry->cq_id)\n);\n\n \n\n \n#define IB_MR_TYPE_LIST\t\t\t\t\\\n\tib_mr_type_item(MEM_REG)\t\t\\\n\tib_mr_type_item(SG_GAPS)\t\t\\\n\tib_mr_type_item(DM)\t\t\t\\\n\tib_mr_type_item(USER)\t\t\t\\\n\tib_mr_type_item(DMA)\t\t\t\\\n\tib_mr_type_end(INTEGRITY)\n\n#undef ib_mr_type_item\n#undef ib_mr_type_end\n\n#define ib_mr_type_item(x)\tTRACE_DEFINE_ENUM(IB_MR_TYPE_##x);\n#define ib_mr_type_end(x)\tTRACE_DEFINE_ENUM(IB_MR_TYPE_##x);\n\nIB_MR_TYPE_LIST\n\n#undef ib_mr_type_item\n#undef ib_mr_type_end\n\n#define ib_mr_type_item(x)\t{ IB_MR_TYPE_##x, #x },\n#define ib_mr_type_end(x)\t{ IB_MR_TYPE_##x, #x }\n\n#define rdma_show_ib_mr_type(x) \\\n\t\t__print_symbolic(x, IB_MR_TYPE_LIST)\n\nTRACE_EVENT(mr_alloc,\n\tTP_PROTO(\n\t\tconst struct ib_pd *pd,\n\t\tenum ib_mr_type mr_type,\n\t\tu32 max_num_sg,\n\t\tconst struct ib_mr *mr\n\t),\n\n\tTP_ARGS(pd, mr_type, max_num_sg, mr),\n\n\tTP_STRUCT__entry(\n\t\t__field(u32, pd_id)\n\t\t__field(u32, mr_id)\n\t\t__field(u32, max_num_sg)\n\t\t__field(int, rc)\n\t\t__field(unsigned long, mr_type)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->pd_id = pd->res.id;\n\t\tif (IS_ERR(mr)) {\n\t\t\t__entry->mr_id = 0;\n\t\t\t__entry->rc = PTR_ERR(mr);\n\t\t} else {\n\t\t\t__entry->mr_id = mr->res.id;\n\t\t\t__entry->rc = 0;\n\t\t}\n\t\t__entry->max_num_sg = max_num_sg;\n\t\t__entry->mr_type = mr_type;\n\t),\n\n\tTP_printk(\"pd.id=%u mr.id=%u type=%s max_num_sg=%u rc=%d\",\n\t\t__entry->pd_id, __entry->mr_id,\n\t\trdma_show_ib_mr_type(__entry->mr_type),\n\t\t__entry->max_num_sg, __entry->rc)\n);\n\nTRACE_EVENT(mr_integ_alloc,\n\tTP_PROTO(\n\t\tconst struct ib_pd *pd,\n\t\tu32 max_num_data_sg,\n\t\tu32 max_num_meta_sg,\n\t\tconst struct ib_mr *mr\n\t),\n\n\tTP_ARGS(pd, max_num_data_sg, max_num_meta_sg, mr),\n\n\tTP_STRUCT__entry(\n\t\t__field(u32, pd_id)\n\t\t__field(u32, mr_id)\n\t\t__field(u32, max_num_data_sg)\n\t\t__field(u32, max_num_meta_sg)\n\t\t__field(int, rc)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->pd_id = pd->res.id;\n\t\tif (IS_ERR(mr)) {\n\t\t\t__entry->mr_id = 0;\n\t\t\t__entry->rc = PTR_ERR(mr);\n\t\t} else {\n\t\t\t__entry->mr_id = mr->res.id;\n\t\t\t__entry->rc = 0;\n\t\t}\n\t\t__entry->max_num_data_sg = max_num_data_sg;\n\t\t__entry->max_num_meta_sg = max_num_meta_sg;\n\t),\n\n\tTP_printk(\"pd.id=%u mr.id=%u max_num_data_sg=%u max_num_meta_sg=%u rc=%d\",\n\t\t__entry->pd_id, __entry->mr_id, __entry->max_num_data_sg,\n\t\t__entry->max_num_meta_sg, __entry->rc)\n);\n\nTRACE_EVENT(mr_dereg,\n\tTP_PROTO(\n\t\tconst struct ib_mr *mr\n\t),\n\n\tTP_ARGS(mr),\n\n\tTP_STRUCT__entry(\n\t\t__field(u32, id)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->id = mr->res.id;\n\t),\n\n\tTP_printk(\"mr.id=%u\", __entry->id)\n);\n\n#endif  \n\n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}