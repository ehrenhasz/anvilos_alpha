{
  "module_name": "filemap.h",
  "hash_id": "b432e1ec9ed454081671f5848a2f28eda0ea6ee35b8ff7868192a7825a82d44a",
  "original_prompt": "Ingested from linux-6.6.14/include/trace/events/filemap.h",
  "human_readable_source": " \n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM filemap\n\n#if !defined(_TRACE_FILEMAP_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _TRACE_FILEMAP_H\n\n#include <linux/types.h>\n#include <linux/tracepoint.h>\n#include <linux/mm.h>\n#include <linux/memcontrol.h>\n#include <linux/device.h>\n#include <linux/kdev_t.h>\n#include <linux/errseq.h>\n\nDECLARE_EVENT_CLASS(mm_filemap_op_page_cache,\n\n\tTP_PROTO(struct folio *folio),\n\n\tTP_ARGS(folio),\n\n\tTP_STRUCT__entry(\n\t\t__field(unsigned long, pfn)\n\t\t__field(unsigned long, i_ino)\n\t\t__field(unsigned long, index)\n\t\t__field(dev_t, s_dev)\n\t\t__field(unsigned char, order)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->pfn = folio_pfn(folio);\n\t\t__entry->i_ino = folio->mapping->host->i_ino;\n\t\t__entry->index = folio->index;\n\t\tif (folio->mapping->host->i_sb)\n\t\t\t__entry->s_dev = folio->mapping->host->i_sb->s_dev;\n\t\telse\n\t\t\t__entry->s_dev = folio->mapping->host->i_rdev;\n\t\t__entry->order = folio_order(folio);\n\t),\n\n\tTP_printk(\"dev %d:%d ino %lx pfn=0x%lx ofs=%lu order=%u\",\n\t\tMAJOR(__entry->s_dev), MINOR(__entry->s_dev),\n\t\t__entry->i_ino,\n\t\t__entry->pfn,\n\t\t__entry->index << PAGE_SHIFT,\n\t\t__entry->order)\n);\n\nDEFINE_EVENT(mm_filemap_op_page_cache, mm_filemap_delete_from_page_cache,\n\tTP_PROTO(struct folio *folio),\n\tTP_ARGS(folio)\n\t);\n\nDEFINE_EVENT(mm_filemap_op_page_cache, mm_filemap_add_to_page_cache,\n\tTP_PROTO(struct folio *folio),\n\tTP_ARGS(folio)\n\t);\n\nTRACE_EVENT(filemap_set_wb_err,\n\t\tTP_PROTO(struct address_space *mapping, errseq_t eseq),\n\n\t\tTP_ARGS(mapping, eseq),\n\n\t\tTP_STRUCT__entry(\n\t\t\t__field(unsigned long, i_ino)\n\t\t\t__field(dev_t, s_dev)\n\t\t\t__field(errseq_t, errseq)\n\t\t),\n\n\t\tTP_fast_assign(\n\t\t\t__entry->i_ino = mapping->host->i_ino;\n\t\t\t__entry->errseq = eseq;\n\t\t\tif (mapping->host->i_sb)\n\t\t\t\t__entry->s_dev = mapping->host->i_sb->s_dev;\n\t\t\telse\n\t\t\t\t__entry->s_dev = mapping->host->i_rdev;\n\t\t),\n\n\t\tTP_printk(\"dev=%d:%d ino=0x%lx errseq=0x%x\",\n\t\t\tMAJOR(__entry->s_dev), MINOR(__entry->s_dev),\n\t\t\t__entry->i_ino, __entry->errseq)\n);\n\nTRACE_EVENT(file_check_and_advance_wb_err,\n\t\tTP_PROTO(struct file *file, errseq_t old),\n\n\t\tTP_ARGS(file, old),\n\n\t\tTP_STRUCT__entry(\n\t\t\t__field(struct file *, file)\n\t\t\t__field(unsigned long, i_ino)\n\t\t\t__field(dev_t, s_dev)\n\t\t\t__field(errseq_t, old)\n\t\t\t__field(errseq_t, new)\n\t\t),\n\n\t\tTP_fast_assign(\n\t\t\t__entry->file = file;\n\t\t\t__entry->i_ino = file->f_mapping->host->i_ino;\n\t\t\tif (file->f_mapping->host->i_sb)\n\t\t\t\t__entry->s_dev =\n\t\t\t\t\tfile->f_mapping->host->i_sb->s_dev;\n\t\t\telse\n\t\t\t\t__entry->s_dev =\n\t\t\t\t\tfile->f_mapping->host->i_rdev;\n\t\t\t__entry->old = old;\n\t\t\t__entry->new = file->f_wb_err;\n\t\t),\n\n\t\tTP_printk(\"file=%p dev=%d:%d ino=0x%lx old=0x%x new=0x%x\",\n\t\t\t__entry->file, MAJOR(__entry->s_dev),\n\t\t\tMINOR(__entry->s_dev), __entry->i_ino, __entry->old,\n\t\t\t__entry->new)\n);\n#endif  \n\n \n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}