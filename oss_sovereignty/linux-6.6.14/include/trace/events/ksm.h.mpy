{
  "module_name": "ksm.h",
  "hash_id": "70b17db9894a2f5fd3ade7c8340ca8ffd56145fc146634dac5b73f4337cb92b4",
  "original_prompt": "Ingested from linux-6.6.14/include/trace/events/ksm.h",
  "human_readable_source": " \n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM ksm\n\n#if !defined(_TRACE_KSM_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _TRACE_KSM_H\n\n#include <linux/tracepoint.h>\n\n \nDECLARE_EVENT_CLASS(ksm_scan_template,\n\n\tTP_PROTO(int seq, u32 rmap_entries),\n\n\tTP_ARGS(seq, rmap_entries),\n\n\tTP_STRUCT__entry(\n\t\t__field(int,\tseq)\n\t\t__field(u32,\trmap_entries)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->seq\t\t= seq;\n\t\t__entry->rmap_entries\t= rmap_entries;\n\t),\n\n\tTP_printk(\"seq %d rmap size %d\",\n\t\t\t__entry->seq, __entry->rmap_entries)\n);\n\n \nDEFINE_EVENT(ksm_scan_template, ksm_start_scan,\n\n\tTP_PROTO(int seq, u32 rmap_entries),\n\n\tTP_ARGS(seq, rmap_entries)\n);\n\n \nDEFINE_EVENT(ksm_scan_template, ksm_stop_scan,\n\n\tTP_PROTO(int seq, u32 rmap_entries),\n\n\tTP_ARGS(seq, rmap_entries)\n);\n\n \nDECLARE_EVENT_CLASS(ksm_enter_exit_template,\n\n\tTP_PROTO(void *mm),\n\n\tTP_ARGS(mm),\n\n\tTP_STRUCT__entry(\n\t\t__field(void *,\t\tmm)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->mm\t= mm;\n\t),\n\n\tTP_printk(\"mm %p\", __entry->mm)\n);\n\n \nDEFINE_EVENT(ksm_enter_exit_template, ksm_enter,\n\n\tTP_PROTO(void *mm),\n\n\tTP_ARGS(mm)\n);\n\n \nDEFINE_EVENT(ksm_enter_exit_template, ksm_exit,\n\n\tTP_PROTO(void *mm),\n\n\tTP_ARGS(mm)\n);\n\n \nTRACE_EVENT(ksm_merge_one_page,\n\n\tTP_PROTO(unsigned long pfn, void *rmap_item, void *mm, int err),\n\n\tTP_ARGS(pfn, rmap_item, mm, err),\n\n\tTP_STRUCT__entry(\n\t\t__field(unsigned long,\tpfn)\n\t\t__field(void *,\t\trmap_item)\n\t\t__field(void *,\t\tmm)\n\t\t__field(int,\t\terr)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->pfn\t\t= pfn;\n\t\t__entry->rmap_item\t= rmap_item;\n\t\t__entry->mm\t\t= mm;\n\t\t__entry->err\t\t= err;\n\t),\n\n\tTP_printk(\"ksm pfn %lu rmap_item %p mm %p error %d\",\n\t\t\t__entry->pfn, __entry->rmap_item, __entry->mm, __entry->err)\n);\n\n \nTRACE_EVENT(ksm_merge_with_ksm_page,\n\n\tTP_PROTO(void *ksm_page, unsigned long pfn, void *rmap_item, void *mm, int err),\n\n\tTP_ARGS(ksm_page, pfn, rmap_item, mm, err),\n\n\tTP_STRUCT__entry(\n\t\t__field(void *,\t\tksm_page)\n\t\t__field(unsigned long,\tpfn)\n\t\t__field(void *,\t\trmap_item)\n\t\t__field(void *,\t\tmm)\n\t\t__field(int,\t\terr)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->ksm_page\t= ksm_page;\n\t\t__entry->pfn\t\t= pfn;\n\t\t__entry->rmap_item\t= rmap_item;\n\t\t__entry->mm\t\t= mm;\n\t\t__entry->err\t\t= err;\n\t),\n\n\tTP_printk(\"%spfn %lu rmap_item %p mm %p error %d\",\n\t\t  (__entry->ksm_page ? \"ksm \" : \"\"),\n\t\t  __entry->pfn, __entry->rmap_item, __entry->mm, __entry->err)\n);\n\n \nTRACE_EVENT(ksm_remove_ksm_page,\n\n\tTP_PROTO(unsigned long pfn),\n\n\tTP_ARGS(pfn),\n\n\tTP_STRUCT__entry(\n\t\t__field(unsigned long, pfn)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->pfn = pfn;\n\t),\n\n\tTP_printk(\"pfn %lu\", __entry->pfn)\n);\n\n \nTRACE_EVENT(ksm_remove_rmap_item,\n\n\tTP_PROTO(unsigned long pfn, void *rmap_item, void *mm),\n\n\tTP_ARGS(pfn, rmap_item, mm),\n\n\tTP_STRUCT__entry(\n\t\t__field(unsigned long,\tpfn)\n\t\t__field(void *,\t\trmap_item)\n\t\t__field(void *,\t\tmm)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->pfn\t\t= pfn;\n\t\t__entry->rmap_item\t= rmap_item;\n\t\t__entry->mm\t\t= mm;\n\t),\n\n\tTP_printk(\"pfn %lu rmap_item %p mm %p\",\n\t\t\t__entry->pfn, __entry->rmap_item, __entry->mm)\n);\n\n#endif  \n\n \n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}