{
  "module_name": "migrate.h",
  "hash_id": "d563d172820b8b803fe5f807c14a99466cd2171ed6e4a710b07444d58c81b722",
  "original_prompt": "Ingested from linux-6.6.14/include/trace/events/migrate.h",
  "human_readable_source": " \n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM migrate\n\n#if !defined(_TRACE_MIGRATE_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _TRACE_MIGRATE_H\n\n#include <linux/tracepoint.h>\n\n#define MIGRATE_MODE\t\t\t\t\t\t\\\n\tEM( MIGRATE_ASYNC,\t\"MIGRATE_ASYNC\")\t\t\\\n\tEM( MIGRATE_SYNC_LIGHT,\t\"MIGRATE_SYNC_LIGHT\")\t\t\\\n\tEMe(MIGRATE_SYNC,\t\"MIGRATE_SYNC\")\n\n\n#define MIGRATE_REASON\t\t\t\t\t\t\\\n\tEM( MR_COMPACTION,\t\"compaction\")\t\t\t\\\n\tEM( MR_MEMORY_FAILURE,\t\"memory_failure\")\t\t\\\n\tEM( MR_MEMORY_HOTPLUG,\t\"memory_hotplug\")\t\t\\\n\tEM( MR_SYSCALL,\t\t\"syscall_or_cpuset\")\t\t\\\n\tEM( MR_MEMPOLICY_MBIND,\t\"mempolicy_mbind\")\t\t\\\n\tEM( MR_NUMA_MISPLACED,\t\"numa_misplaced\")\t\t\\\n\tEM( MR_CONTIG_RANGE,\t\"contig_range\")\t\t\t\\\n\tEM( MR_LONGTERM_PIN,\t\"longterm_pin\")\t\t\t\\\n\tEMe(MR_DEMOTION,\t\"demotion\")\n\n \n#undef EM\n#undef EMe\n#define EM(a, b)\tTRACE_DEFINE_ENUM(a);\n#define EMe(a, b)\tTRACE_DEFINE_ENUM(a);\n\nMIGRATE_MODE\nMIGRATE_REASON\n\n \n#undef EM\n#undef EMe\n#define EM(a, b)\t{a, b},\n#define EMe(a, b)\t{a, b}\n\nTRACE_EVENT(mm_migrate_pages,\n\n\tTP_PROTO(unsigned long succeeded, unsigned long failed,\n\t\t unsigned long thp_succeeded, unsigned long thp_failed,\n\t\t unsigned long thp_split, enum migrate_mode mode, int reason),\n\n\tTP_ARGS(succeeded, failed, thp_succeeded, thp_failed,\n\t\tthp_split, mode, reason),\n\n\tTP_STRUCT__entry(\n\t\t__field(\tunsigned long,\t\tsucceeded)\n\t\t__field(\tunsigned long,\t\tfailed)\n\t\t__field(\tunsigned long,\t\tthp_succeeded)\n\t\t__field(\tunsigned long,\t\tthp_failed)\n\t\t__field(\tunsigned long,\t\tthp_split)\n\t\t__field(\tenum migrate_mode,\tmode)\n\t\t__field(\tint,\t\t\treason)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->succeeded\t= succeeded;\n\t\t__entry->failed\t\t= failed;\n\t\t__entry->thp_succeeded\t= thp_succeeded;\n\t\t__entry->thp_failed\t= thp_failed;\n\t\t__entry->thp_split\t= thp_split;\n\t\t__entry->mode\t\t= mode;\n\t\t__entry->reason\t\t= reason;\n\t),\n\n\tTP_printk(\"nr_succeeded=%lu nr_failed=%lu nr_thp_succeeded=%lu nr_thp_failed=%lu nr_thp_split=%lu mode=%s reason=%s\",\n\t\t__entry->succeeded,\n\t\t__entry->failed,\n\t\t__entry->thp_succeeded,\n\t\t__entry->thp_failed,\n\t\t__entry->thp_split,\n\t\t__print_symbolic(__entry->mode, MIGRATE_MODE),\n\t\t__print_symbolic(__entry->reason, MIGRATE_REASON))\n);\n\nTRACE_EVENT(mm_migrate_pages_start,\n\n\tTP_PROTO(enum migrate_mode mode, int reason),\n\n\tTP_ARGS(mode, reason),\n\n\tTP_STRUCT__entry(\n\t\t__field(enum migrate_mode, mode)\n\t\t__field(int, reason)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->mode\t= mode;\n\t\t__entry->reason\t= reason;\n\t),\n\n\tTP_printk(\"mode=%s reason=%s\",\n\t\t  __print_symbolic(__entry->mode, MIGRATE_MODE),\n\t\t  __print_symbolic(__entry->reason, MIGRATE_REASON))\n);\n\nDECLARE_EVENT_CLASS(migration_pte,\n\n\t\tTP_PROTO(unsigned long addr, unsigned long pte, int order),\n\n\t\tTP_ARGS(addr, pte, order),\n\n\t\tTP_STRUCT__entry(\n\t\t\t__field(unsigned long, addr)\n\t\t\t__field(unsigned long, pte)\n\t\t\t__field(int, order)\n\t\t),\n\n\t\tTP_fast_assign(\n\t\t\t__entry->addr = addr;\n\t\t\t__entry->pte = pte;\n\t\t\t__entry->order = order;\n\t\t),\n\n\t\tTP_printk(\"addr=%lx, pte=%lx order=%d\", __entry->addr, __entry->pte, __entry->order)\n);\n\nDEFINE_EVENT(migration_pte, set_migration_pte,\n\tTP_PROTO(unsigned long addr, unsigned long pte, int order),\n\tTP_ARGS(addr, pte, order)\n);\n\nDEFINE_EVENT(migration_pte, remove_migration_pte,\n\tTP_PROTO(unsigned long addr, unsigned long pte, int order),\n\tTP_ARGS(addr, pte, order)\n);\n\n#endif  \n\n \n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}