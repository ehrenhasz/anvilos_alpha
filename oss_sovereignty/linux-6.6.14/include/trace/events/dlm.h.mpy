{
  "module_name": "dlm.h",
  "hash_id": "ddabdb3b2c44ae1e7b96cef720b5ccfe4c9919c47d2ad26fc398dc16c58608e6",
  "original_prompt": "Ingested from linux-6.6.14/include/trace/events/dlm.h",
  "human_readable_source": " \n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM dlm\n\n#if !defined(_TRACE_DLM_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _TRACE_DLM_H\n\n#include <linux/dlm.h>\n#include <linux/dlmconstants.h>\n#include <uapi/linux/dlm_plock.h>\n#include <linux/tracepoint.h>\n\n#include \"../../../fs/dlm/dlm_internal.h\"\n\n#define show_lock_flags(flags) __print_flags(flags, \"|\",\t\\\n\t{ DLM_LKF_NOQUEUE,\t\"NOQUEUE\" },\t\t\t\\\n\t{ DLM_LKF_CANCEL,\t\"CANCEL\" },\t\t\t\\\n\t{ DLM_LKF_CONVERT,\t\"CONVERT\" },\t\t\t\\\n\t{ DLM_LKF_VALBLK,\t\"VALBLK\" },\t\t\t\\\n\t{ DLM_LKF_QUECVT,\t\"QUECVT\" },\t\t\t\\\n\t{ DLM_LKF_IVVALBLK,\t\"IVVALBLK\" },\t\t\t\\\n\t{ DLM_LKF_CONVDEADLK,\t\"CONVDEADLK\" },\t\t\t\\\n\t{ DLM_LKF_PERSISTENT,\t\"PERSISTENT\" },\t\t\t\\\n\t{ DLM_LKF_NODLCKWT,\t\"NODLCKWT\" },\t\t\t\\\n\t{ DLM_LKF_NODLCKBLK,\t\"NODLCKBLK\" },\t\t\t\\\n\t{ DLM_LKF_EXPEDITE,\t\"EXPEDITE\" },\t\t\t\\\n\t{ DLM_LKF_NOQUEUEBAST,\t\"NOQUEUEBAST\" },\t\t\\\n\t{ DLM_LKF_HEADQUE,\t\"HEADQUE\" },\t\t\t\\\n\t{ DLM_LKF_NOORDER,\t\"NOORDER\" },\t\t\t\\\n\t{ DLM_LKF_ORPHAN,\t\"ORPHAN\" },\t\t\t\\\n\t{ DLM_LKF_ALTPR,\t\"ALTPR\" },\t\t\t\\\n\t{ DLM_LKF_ALTCW,\t\"ALTCW\" },\t\t\t\\\n\t{ DLM_LKF_FORCEUNLOCK,\t\"FORCEUNLOCK\" },\t\t\\\n\t{ DLM_LKF_TIMEOUT,\t\"TIMEOUT\" })\n\n#define show_lock_mode(mode) __print_symbolic(mode,\t\t\\\n\t{ DLM_LOCK_IV,\t\t\"IV\"},\t\t\t\t\\\n\t{ DLM_LOCK_NL,\t\t\"NL\"},\t\t\t\t\\\n\t{ DLM_LOCK_CR,\t\t\"CR\"},\t\t\t\t\\\n\t{ DLM_LOCK_CW,\t\t\"CW\"},\t\t\t\t\\\n\t{ DLM_LOCK_PR,\t\t\"PR\"},\t\t\t\t\\\n\t{ DLM_LOCK_PW,\t\t\"PW\"},\t\t\t\t\\\n\t{ DLM_LOCK_EX,\t\t\"EX\"})\n\n#define show_dlm_sb_flags(flags) __print_flags(flags, \"|\",\t\\\n\t{ DLM_SBF_DEMOTED,\t\"DEMOTED\" },\t\t\t\\\n\t{ DLM_SBF_VALNOTVALID,\t\"VALNOTVALID\" },\t\t\\\n\t{ DLM_SBF_ALTMODE,\t\"ALTMODE\" })\n\n#define show_lkb_flags(flags) __print_flags(flags, \"|\",\t\t\\\n\t{ BIT(DLM_DFL_USER_BIT), \"USER\" },\t\t\t\\\n\t{ BIT(DLM_DFL_ORPHAN_BIT), \"ORPHAN\" })\n\n#define show_header_cmd(cmd) __print_symbolic(cmd,\t\t\\\n\t{ DLM_MSG,\t\t\"MSG\"},\t\t\t\t\\\n\t{ DLM_RCOM,\t\t\"RCOM\"},\t\t\t\\\n\t{ DLM_OPTS,\t\t\"OPTS\"},\t\t\t\\\n\t{ DLM_ACK,\t\t\"ACK\"},\t\t\t\t\\\n\t{ DLM_FIN,\t\t\"FIN\"})\n\n#define show_message_version(version) __print_symbolic(version,\t\\\n\t{ DLM_VERSION_3_1,\t\"3.1\"},\t\t\t\t\\\n\t{ DLM_VERSION_3_2,\t\"3.2\"})\n\n#define show_message_type(type) __print_symbolic(type,\t\t\\\n\t{ DLM_MSG_REQUEST,\t\"REQUEST\"},\t\t\t\\\n\t{ DLM_MSG_CONVERT,\t\"CONVERT\"},\t\t\t\\\n\t{ DLM_MSG_UNLOCK,\t\"UNLOCK\"},\t\t\t\\\n\t{ DLM_MSG_CANCEL,\t\"CANCEL\"},\t\t\t\\\n\t{ DLM_MSG_REQUEST_REPLY, \"REQUEST_REPLY\"},\t\t\\\n\t{ DLM_MSG_CONVERT_REPLY, \"CONVERT_REPLY\"},\t\t\\\n\t{ DLM_MSG_UNLOCK_REPLY,\t\"UNLOCK_REPLY\"},\t\t\\\n\t{ DLM_MSG_CANCEL_REPLY,\t\"CANCEL_REPLY\"},\t\t\\\n\t{ DLM_MSG_GRANT,\t\"GRANT\"},\t\t\t\\\n\t{ DLM_MSG_BAST,\t\t\"BAST\"},\t\t\t\\\n\t{ DLM_MSG_LOOKUP,\t\"LOOKUP\"},\t\t\t\\\n\t{ DLM_MSG_REMOVE,\t\"REMOVE\"},\t\t\t\\\n\t{ DLM_MSG_LOOKUP_REPLY,\t\"LOOKUP_REPLY\"},\t\t\\\n\t{ DLM_MSG_PURGE,\t\"PURGE\"})\n\n#define show_rcom_type(type) __print_symbolic(type,            \\\n\t{ DLM_RCOM_STATUS,              \"STATUS\"},              \\\n\t{ DLM_RCOM_NAMES,               \"NAMES\"},               \\\n\t{ DLM_RCOM_LOOKUP,              \"LOOKUP\"},              \\\n\t{ DLM_RCOM_LOCK,                \"LOCK\"},                \\\n\t{ DLM_RCOM_STATUS_REPLY,        \"STATUS_REPLY\"},        \\\n\t{ DLM_RCOM_NAMES_REPLY,         \"NAMES_REPLY\"},         \\\n\t{ DLM_RCOM_LOOKUP_REPLY,        \"LOOKUP_REPLY\"},        \\\n\t{ DLM_RCOM_LOCK_REPLY,          \"LOCK_REPLY\"})\n\n\n \nTRACE_EVENT(dlm_lock_start,\n\n\tTP_PROTO(struct dlm_ls *ls, struct dlm_lkb *lkb, const void *name,\n\t\t unsigned int namelen, int mode, __u32 flags),\n\n\tTP_ARGS(ls, lkb, name, namelen, mode, flags),\n\n\tTP_STRUCT__entry(\n\t\t__field(__u32, ls_id)\n\t\t__field(__u32, lkb_id)\n\t\t__field(int, mode)\n\t\t__field(__u32, flags)\n\t\t__dynamic_array(unsigned char, res_name,\n\t\t\t\tlkb->lkb_resource ? lkb->lkb_resource->res_length : namelen)\n\t),\n\n\tTP_fast_assign(\n\t\tstruct dlm_rsb *r;\n\n\t\t__entry->ls_id = ls->ls_global_id;\n\t\t__entry->lkb_id = lkb->lkb_id;\n\t\t__entry->mode = mode;\n\t\t__entry->flags = flags;\n\n\t\tr = lkb->lkb_resource;\n\t\tif (r)\n\t\t\tmemcpy(__get_dynamic_array(res_name), r->res_name,\n\t\t\t       __get_dynamic_array_len(res_name));\n\t\telse if (name)\n\t\t\tmemcpy(__get_dynamic_array(res_name), name,\n\t\t\t       __get_dynamic_array_len(res_name));\n\t),\n\n\tTP_printk(\"ls_id=%u lkb_id=%x mode=%s flags=%s res_name=%s\",\n\t\t  __entry->ls_id, __entry->lkb_id,\n\t\t  show_lock_mode(__entry->mode),\n\t\t  show_lock_flags(__entry->flags),\n\t\t  __print_hex_str(__get_dynamic_array(res_name),\n\t\t\t\t  __get_dynamic_array_len(res_name)))\n\n);\n\nTRACE_EVENT(dlm_lock_end,\n\n\tTP_PROTO(struct dlm_ls *ls, struct dlm_lkb *lkb, const void *name,\n\t\t unsigned int namelen, int mode, __u32 flags, int error,\n\t\t bool kernel_lock),\n\n\tTP_ARGS(ls, lkb, name, namelen, mode, flags, error, kernel_lock),\n\n\tTP_STRUCT__entry(\n\t\t__field(__u32, ls_id)\n\t\t__field(__u32, lkb_id)\n\t\t__field(int, mode)\n\t\t__field(__u32, flags)\n\t\t__field(int, error)\n\t\t__dynamic_array(unsigned char, res_name,\n\t\t\t\tlkb->lkb_resource ? lkb->lkb_resource->res_length : namelen)\n\t),\n\n\tTP_fast_assign(\n\t\tstruct dlm_rsb *r;\n\n\t\t__entry->ls_id = ls->ls_global_id;\n\t\t__entry->lkb_id = lkb->lkb_id;\n\t\t__entry->mode = mode;\n\t\t__entry->flags = flags;\n\t\t__entry->error = error;\n\n\t\tr = lkb->lkb_resource;\n\t\tif (r)\n\t\t\tmemcpy(__get_dynamic_array(res_name), r->res_name,\n\t\t\t       __get_dynamic_array_len(res_name));\n\t\telse if (name)\n\t\t\tmemcpy(__get_dynamic_array(res_name), name,\n\t\t\t       __get_dynamic_array_len(res_name));\n\n\t\tif (kernel_lock) {\n\t\t\t \n\t\t\tif (error == -EAGAIN || error == -EDEADLK)\n\t\t\t\t__entry->error = 0;\n\t\t}\n\n\t),\n\n\tTP_printk(\"ls_id=%u lkb_id=%x mode=%s flags=%s error=%d res_name=%s\",\n\t\t  __entry->ls_id, __entry->lkb_id,\n\t\t  show_lock_mode(__entry->mode),\n\t\t  show_lock_flags(__entry->flags), __entry->error,\n\t\t  __print_hex_str(__get_dynamic_array(res_name),\n\t\t\t\t  __get_dynamic_array_len(res_name)))\n\n);\n\nTRACE_EVENT(dlm_bast,\n\n\tTP_PROTO(struct dlm_ls *ls, struct dlm_lkb *lkb, int mode),\n\n\tTP_ARGS(ls, lkb, mode),\n\n\tTP_STRUCT__entry(\n\t\t__field(__u32, ls_id)\n\t\t__field(__u32, lkb_id)\n\t\t__field(int, mode)\n\t\t__dynamic_array(unsigned char, res_name,\n\t\t\t\tlkb->lkb_resource ? lkb->lkb_resource->res_length : 0)\n\t),\n\n\tTP_fast_assign(\n\t\tstruct dlm_rsb *r;\n\n\t\t__entry->ls_id = ls->ls_global_id;\n\t\t__entry->lkb_id = lkb->lkb_id;\n\t\t__entry->mode = mode;\n\n\t\tr = lkb->lkb_resource;\n\t\tif (r)\n\t\t\tmemcpy(__get_dynamic_array(res_name), r->res_name,\n\t\t\t       __get_dynamic_array_len(res_name));\n\t),\n\n\tTP_printk(\"ls_id=%u lkb_id=%x mode=%s res_name=%s\",\n\t\t  __entry->ls_id, __entry->lkb_id,\n\t\t  show_lock_mode(__entry->mode),\n\t\t  __print_hex_str(__get_dynamic_array(res_name),\n\t\t\t\t  __get_dynamic_array_len(res_name)))\n\n);\n\nTRACE_EVENT(dlm_ast,\n\n\tTP_PROTO(struct dlm_ls *ls, struct dlm_lkb *lkb),\n\n\tTP_ARGS(ls, lkb),\n\n\tTP_STRUCT__entry(\n\t\t__field(__u32, ls_id)\n\t\t__field(__u32, lkb_id)\n\t\t__field(u8, sb_flags)\n\t\t__field(int, sb_status)\n\t\t__dynamic_array(unsigned char, res_name,\n\t\t\t\tlkb->lkb_resource ? lkb->lkb_resource->res_length : 0)\n\t),\n\n\tTP_fast_assign(\n\t\tstruct dlm_rsb *r;\n\n\t\t__entry->ls_id = ls->ls_global_id;\n\t\t__entry->lkb_id = lkb->lkb_id;\n\t\t__entry->sb_flags = lkb->lkb_lksb->sb_flags;\n\t\t__entry->sb_status = lkb->lkb_lksb->sb_status;\n\n\t\tr = lkb->lkb_resource;\n\t\tif (r)\n\t\t\tmemcpy(__get_dynamic_array(res_name), r->res_name,\n\t\t\t       __get_dynamic_array_len(res_name));\n\t),\n\n\tTP_printk(\"ls_id=%u lkb_id=%x sb_flags=%s sb_status=%d res_name=%s\",\n\t\t  __entry->ls_id, __entry->lkb_id,\n\t\t  show_dlm_sb_flags(__entry->sb_flags), __entry->sb_status,\n\t\t  __print_hex_str(__get_dynamic_array(res_name),\n\t\t\t\t  __get_dynamic_array_len(res_name)))\n\n);\n\n \nTRACE_EVENT(dlm_unlock_start,\n\n\tTP_PROTO(struct dlm_ls *ls, struct dlm_lkb *lkb, __u32 flags),\n\n\tTP_ARGS(ls, lkb, flags),\n\n\tTP_STRUCT__entry(\n\t\t__field(__u32, ls_id)\n\t\t__field(__u32, lkb_id)\n\t\t__field(__u32, flags)\n\t\t__dynamic_array(unsigned char, res_name,\n\t\t\t\tlkb->lkb_resource ? lkb->lkb_resource->res_length : 0)\n\t),\n\n\tTP_fast_assign(\n\t\tstruct dlm_rsb *r;\n\n\t\t__entry->ls_id = ls->ls_global_id;\n\t\t__entry->lkb_id = lkb->lkb_id;\n\t\t__entry->flags = flags;\n\n\t\tr = lkb->lkb_resource;\n\t\tif (r)\n\t\t\tmemcpy(__get_dynamic_array(res_name), r->res_name,\n\t\t\t       __get_dynamic_array_len(res_name));\n\t),\n\n\tTP_printk(\"ls_id=%u lkb_id=%x flags=%s res_name=%s\",\n\t\t  __entry->ls_id, __entry->lkb_id,\n\t\t  show_lock_flags(__entry->flags),\n\t\t  __print_hex_str(__get_dynamic_array(res_name),\n\t\t\t\t  __get_dynamic_array_len(res_name)))\n\n);\n\nTRACE_EVENT(dlm_unlock_end,\n\n\tTP_PROTO(struct dlm_ls *ls, struct dlm_lkb *lkb, __u32 flags,\n\t\t int error),\n\n\tTP_ARGS(ls, lkb, flags, error),\n\n\tTP_STRUCT__entry(\n\t\t__field(__u32, ls_id)\n\t\t__field(__u32, lkb_id)\n\t\t__field(__u32, flags)\n\t\t__field(int, error)\n\t\t__dynamic_array(unsigned char, res_name,\n\t\t\t\tlkb->lkb_resource ? lkb->lkb_resource->res_length : 0)\n\t),\n\n\tTP_fast_assign(\n\t\tstruct dlm_rsb *r;\n\n\t\t__entry->ls_id = ls->ls_global_id;\n\t\t__entry->lkb_id = lkb->lkb_id;\n\t\t__entry->flags = flags;\n\t\t__entry->error = error;\n\n\t\tr = lkb->lkb_resource;\n\t\tif (r)\n\t\t\tmemcpy(__get_dynamic_array(res_name), r->res_name,\n\t\t\t       __get_dynamic_array_len(res_name));\n\t),\n\n\tTP_printk(\"ls_id=%u lkb_id=%x flags=%s error=%d res_name=%s\",\n\t\t  __entry->ls_id, __entry->lkb_id,\n\t\t  show_lock_flags(__entry->flags), __entry->error,\n\t\t  __print_hex_str(__get_dynamic_array(res_name),\n\t\t\t\t  __get_dynamic_array_len(res_name)))\n\n);\n\nDECLARE_EVENT_CLASS(dlm_rcom_template,\n\n\tTP_PROTO(uint32_t dst, uint32_t h_seq, const struct dlm_rcom *rc),\n\n\tTP_ARGS(dst, h_seq, rc),\n\n\tTP_STRUCT__entry(\n\t\t__field(uint32_t, dst)\n\t\t__field(uint32_t, h_seq)\n\t\t__field(uint32_t, h_version)\n\t\t__field(uint32_t, h_lockspace)\n\t\t__field(uint32_t, h_nodeid)\n\t\t__field(uint16_t, h_length)\n\t\t__field(uint8_t, h_cmd)\n\t\t__field(uint32_t, rc_type)\n\t\t__field(int32_t, rc_result)\n\t\t__field(uint64_t, rc_id)\n\t\t__field(uint64_t, rc_seq)\n\t\t__field(uint64_t, rc_seq_reply)\n\t\t__dynamic_array(unsigned char, rc_buf,\n\t\t\t\tle16_to_cpu(rc->rc_header.h_length) - sizeof(*rc))\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->dst = dst;\n\t\t__entry->h_seq = h_seq;\n\t\t__entry->h_version = le32_to_cpu(rc->rc_header.h_version);\n\t\t__entry->h_lockspace = le32_to_cpu(rc->rc_header.u.h_lockspace);\n\t\t__entry->h_nodeid = le32_to_cpu(rc->rc_header.h_nodeid);\n\t\t__entry->h_length = le16_to_cpu(rc->rc_header.h_length);\n\t\t__entry->h_cmd = rc->rc_header.h_cmd;\n\t\t__entry->rc_type = le32_to_cpu(rc->rc_type);\n\t\t__entry->rc_result = le32_to_cpu(rc->rc_result);\n\t\t__entry->rc_id = le64_to_cpu(rc->rc_id);\n\t\t__entry->rc_seq = le64_to_cpu(rc->rc_seq);\n\t\t__entry->rc_seq_reply = le64_to_cpu(rc->rc_seq_reply);\n\t\tmemcpy(__get_dynamic_array(rc_buf), rc->rc_buf,\n\t\t       __get_dynamic_array_len(rc_buf));\n\t),\n\n\tTP_printk(\"dst=%u h_seq=%u h_version=%s h_lockspace=%u h_nodeid=%u \"\n\t\t  \"h_length=%u h_cmd=%s rc_type=%s rc_result=%d \"\n\t\t  \"rc_id=%llu rc_seq=%llu rc_seq_reply=%llu \"\n\t\t  \"rc_buf=0x%s\", __entry->dst, __entry->h_seq,\n\t\t  show_message_version(__entry->h_version),\n\t\t  __entry->h_lockspace, __entry->h_nodeid, __entry->h_length,\n\t\t  show_header_cmd(__entry->h_cmd),\n\t\t  show_rcom_type(__entry->rc_type),\n\t\t  __entry->rc_result, __entry->rc_id, __entry->rc_seq,\n\t\t  __entry->rc_seq_reply,\n\t\t  __print_hex_str(__get_dynamic_array(rc_buf),\n\t\t\t\t  __get_dynamic_array_len(rc_buf)))\n\n);\n\nDEFINE_EVENT(dlm_rcom_template, dlm_send_rcom,\n\t     TP_PROTO(uint32_t dst, uint32_t h_seq, const struct dlm_rcom *rc),\n\t     TP_ARGS(dst, h_seq, rc));\n\nDEFINE_EVENT(dlm_rcom_template, dlm_recv_rcom,\n\t     TP_PROTO(uint32_t dst, uint32_t h_seq, const struct dlm_rcom *rc),\n\t     TP_ARGS(dst, h_seq, rc));\n\nTRACE_EVENT(dlm_send_message,\n\n\tTP_PROTO(uint32_t dst, uint32_t h_seq, const struct dlm_message *ms,\n\t\t const void *name, int namelen),\n\n\tTP_ARGS(dst, h_seq, ms, name, namelen),\n\n\tTP_STRUCT__entry(\n\t\t__field(uint32_t, dst)\n\t\t__field(uint32_t, h_seq)\n\t\t__field(uint32_t, h_version)\n\t\t__field(uint32_t, h_lockspace)\n\t\t__field(uint32_t, h_nodeid)\n\t\t__field(uint16_t, h_length)\n\t\t__field(uint8_t, h_cmd)\n\t\t__field(uint32_t, m_type)\n\t\t__field(uint32_t, m_nodeid)\n\t\t__field(uint32_t, m_pid)\n\t\t__field(uint32_t, m_lkid)\n\t\t__field(uint32_t, m_remid)\n\t\t__field(uint32_t, m_parent_lkid)\n\t\t__field(uint32_t, m_parent_remid)\n\t\t__field(uint32_t, m_exflags)\n\t\t__field(uint32_t, m_sbflags)\n\t\t__field(uint32_t, m_flags)\n\t\t__field(uint32_t, m_lvbseq)\n\t\t__field(uint32_t, m_hash)\n\t\t__field(int32_t, m_status)\n\t\t__field(int32_t, m_grmode)\n\t\t__field(int32_t, m_rqmode)\n\t\t__field(int32_t, m_bastmode)\n\t\t__field(int32_t, m_asts)\n\t\t__field(int32_t, m_result)\n\t\t__dynamic_array(unsigned char, m_extra,\n\t\t\t\tle16_to_cpu(ms->m_header.h_length) - sizeof(*ms))\n\t\t__dynamic_array(unsigned char, res_name, namelen)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->dst = dst;\n\t\t__entry->h_seq = h_seq;\n\t\t__entry->h_version = le32_to_cpu(ms->m_header.h_version);\n\t\t__entry->h_lockspace = le32_to_cpu(ms->m_header.u.h_lockspace);\n\t\t__entry->h_nodeid = le32_to_cpu(ms->m_header.h_nodeid);\n\t\t__entry->h_length = le16_to_cpu(ms->m_header.h_length);\n\t\t__entry->h_cmd = ms->m_header.h_cmd;\n\t\t__entry->m_type = le32_to_cpu(ms->m_type);\n\t\t__entry->m_nodeid = le32_to_cpu(ms->m_nodeid);\n\t\t__entry->m_pid = le32_to_cpu(ms->m_pid);\n\t\t__entry->m_lkid = le32_to_cpu(ms->m_lkid);\n\t\t__entry->m_remid = le32_to_cpu(ms->m_remid);\n\t\t__entry->m_parent_lkid = le32_to_cpu(ms->m_parent_lkid);\n\t\t__entry->m_parent_remid = le32_to_cpu(ms->m_parent_remid);\n\t\t__entry->m_exflags = le32_to_cpu(ms->m_exflags);\n\t\t__entry->m_sbflags = le32_to_cpu(ms->m_sbflags);\n\t\t__entry->m_flags = le32_to_cpu(ms->m_flags);\n\t\t__entry->m_lvbseq = le32_to_cpu(ms->m_lvbseq);\n\t\t__entry->m_hash = le32_to_cpu(ms->m_hash);\n\t\t__entry->m_status = le32_to_cpu(ms->m_status);\n\t\t__entry->m_grmode = le32_to_cpu(ms->m_grmode);\n\t\t__entry->m_rqmode = le32_to_cpu(ms->m_rqmode);\n\t\t__entry->m_bastmode = le32_to_cpu(ms->m_bastmode);\n\t\t__entry->m_asts = le32_to_cpu(ms->m_asts);\n\t\t__entry->m_result = le32_to_cpu(ms->m_result);\n\t\tmemcpy(__get_dynamic_array(m_extra), ms->m_extra,\n\t\t       __get_dynamic_array_len(m_extra));\n\t\tmemcpy(__get_dynamic_array(res_name), name,\n\t\t       __get_dynamic_array_len(res_name));\n\t),\n\n\tTP_printk(\"dst=%u h_seq=%u h_version=%s h_lockspace=%u h_nodeid=%u \"\n\t\t  \"h_length=%u h_cmd=%s m_type=%s m_nodeid=%u \"\n\t\t  \"m_pid=%u m_lkid=%u m_remid=%u m_parent_lkid=%u \"\n\t\t  \"m_parent_remid=%u m_exflags=%s m_sbflags=%s m_flags=%s \"\n\t\t  \"m_lvbseq=%u m_hash=%u m_status=%d m_grmode=%s \"\n\t\t  \"m_rqmode=%s m_bastmode=%s m_asts=%d m_result=%d \"\n\t\t  \"m_extra=0x%s res_name=0x%s\", __entry->dst,\n\t\t  __entry->h_seq, show_message_version(__entry->h_version),\n\t\t  __entry->h_lockspace, __entry->h_nodeid, __entry->h_length,\n\t\t  show_header_cmd(__entry->h_cmd),\n\t\t  show_message_type(__entry->m_type),\n\t\t  __entry->m_nodeid, __entry->m_pid, __entry->m_lkid,\n\t\t  __entry->m_remid, __entry->m_parent_lkid,\n\t\t  __entry->m_parent_remid, show_lock_flags(__entry->m_exflags),\n\t\t  show_dlm_sb_flags(__entry->m_sbflags),\n\t\t  show_lkb_flags(__entry->m_flags), __entry->m_lvbseq,\n\t\t  __entry->m_hash, __entry->m_status,\n\t\t  show_lock_mode(__entry->m_grmode),\n\t\t  show_lock_mode(__entry->m_rqmode),\n\t\t  show_lock_mode(__entry->m_bastmode),\n\t\t  __entry->m_asts, __entry->m_result,\n\t\t  __print_hex_str(__get_dynamic_array(m_extra),\n\t\t\t\t  __get_dynamic_array_len(m_extra)),\n\t\t  __print_hex_str(__get_dynamic_array(res_name),\n\t\t\t\t  __get_dynamic_array_len(res_name)))\n\n);\n\nTRACE_EVENT(dlm_recv_message,\n\n\tTP_PROTO(uint32_t dst, uint32_t h_seq, const struct dlm_message *ms),\n\n\tTP_ARGS(dst, h_seq, ms),\n\n\tTP_STRUCT__entry(\n\t\t__field(uint32_t, dst)\n\t\t__field(uint32_t, h_seq)\n\t\t__field(uint32_t, h_version)\n\t\t__field(uint32_t, h_lockspace)\n\t\t__field(uint32_t, h_nodeid)\n\t\t__field(uint16_t, h_length)\n\t\t__field(uint8_t, h_cmd)\n\t\t__field(uint32_t, m_type)\n\t\t__field(uint32_t, m_nodeid)\n\t\t__field(uint32_t, m_pid)\n\t\t__field(uint32_t, m_lkid)\n\t\t__field(uint32_t, m_remid)\n\t\t__field(uint32_t, m_parent_lkid)\n\t\t__field(uint32_t, m_parent_remid)\n\t\t__field(uint32_t, m_exflags)\n\t\t__field(uint32_t, m_sbflags)\n\t\t__field(uint32_t, m_flags)\n\t\t__field(uint32_t, m_lvbseq)\n\t\t__field(uint32_t, m_hash)\n\t\t__field(int32_t, m_status)\n\t\t__field(int32_t, m_grmode)\n\t\t__field(int32_t, m_rqmode)\n\t\t__field(int32_t, m_bastmode)\n\t\t__field(int32_t, m_asts)\n\t\t__field(int32_t, m_result)\n\t\t__dynamic_array(unsigned char, m_extra,\n\t\t\t\tle16_to_cpu(ms->m_header.h_length) - sizeof(*ms))\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->dst = dst;\n\t\t__entry->h_seq = h_seq;\n\t\t__entry->h_version = le32_to_cpu(ms->m_header.h_version);\n\t\t__entry->h_lockspace = le32_to_cpu(ms->m_header.u.h_lockspace);\n\t\t__entry->h_nodeid = le32_to_cpu(ms->m_header.h_nodeid);\n\t\t__entry->h_length = le16_to_cpu(ms->m_header.h_length);\n\t\t__entry->h_cmd = ms->m_header.h_cmd;\n\t\t__entry->m_type = le32_to_cpu(ms->m_type);\n\t\t__entry->m_nodeid = le32_to_cpu(ms->m_nodeid);\n\t\t__entry->m_pid = le32_to_cpu(ms->m_pid);\n\t\t__entry->m_lkid = le32_to_cpu(ms->m_lkid);\n\t\t__entry->m_remid = le32_to_cpu(ms->m_remid);\n\t\t__entry->m_parent_lkid = le32_to_cpu(ms->m_parent_lkid);\n\t\t__entry->m_parent_remid = le32_to_cpu(ms->m_parent_remid);\n\t\t__entry->m_exflags = le32_to_cpu(ms->m_exflags);\n\t\t__entry->m_sbflags = le32_to_cpu(ms->m_sbflags);\n\t\t__entry->m_flags = le32_to_cpu(ms->m_flags);\n\t\t__entry->m_lvbseq = le32_to_cpu(ms->m_lvbseq);\n\t\t__entry->m_hash = le32_to_cpu(ms->m_hash);\n\t\t__entry->m_status = le32_to_cpu(ms->m_status);\n\t\t__entry->m_grmode = le32_to_cpu(ms->m_grmode);\n\t\t__entry->m_rqmode = le32_to_cpu(ms->m_rqmode);\n\t\t__entry->m_bastmode = le32_to_cpu(ms->m_bastmode);\n\t\t__entry->m_asts = le32_to_cpu(ms->m_asts);\n\t\t__entry->m_result = le32_to_cpu(ms->m_result);\n\t\tmemcpy(__get_dynamic_array(m_extra), ms->m_extra,\n\t\t       __get_dynamic_array_len(m_extra));\n\t),\n\n\tTP_printk(\"dst=%u h_seq=%u h_version=%s h_lockspace=%u h_nodeid=%u \"\n\t\t  \"h_length=%u h_cmd=%s m_type=%s m_nodeid=%u \"\n\t\t  \"m_pid=%u m_lkid=%u m_remid=%u m_parent_lkid=%u \"\n\t\t  \"m_parent_remid=%u m_exflags=%s m_sbflags=%s m_flags=%s \"\n\t\t  \"m_lvbseq=%u m_hash=%u m_status=%d m_grmode=%s \"\n\t\t  \"m_rqmode=%s m_bastmode=%s m_asts=%d m_result=%d \"\n\t\t  \"m_extra=0x%s\", __entry->dst,\n\t\t  __entry->h_seq, show_message_version(__entry->h_version),\n\t\t  __entry->h_lockspace, __entry->h_nodeid, __entry->h_length,\n\t\t  show_header_cmd(__entry->h_cmd),\n\t\t  show_message_type(__entry->m_type),\n\t\t  __entry->m_nodeid, __entry->m_pid, __entry->m_lkid,\n\t\t  __entry->m_remid, __entry->m_parent_lkid,\n\t\t  __entry->m_parent_remid, show_lock_flags(__entry->m_exflags),\n\t\t  show_dlm_sb_flags(__entry->m_sbflags),\n\t\t  show_lkb_flags(__entry->m_flags), __entry->m_lvbseq,\n\t\t  __entry->m_hash, __entry->m_status,\n\t\t  show_lock_mode(__entry->m_grmode),\n\t\t  show_lock_mode(__entry->m_rqmode),\n\t\t  show_lock_mode(__entry->m_bastmode),\n\t\t  __entry->m_asts, __entry->m_result,\n\t\t  __print_hex_str(__get_dynamic_array(m_extra),\n\t\t\t\t  __get_dynamic_array_len(m_extra)))\n\n);\n\nDECLARE_EVENT_CLASS(dlm_plock_template,\n\n\tTP_PROTO(const struct dlm_plock_info *info),\n\n\tTP_ARGS(info),\n\n\tTP_STRUCT__entry(\n\t\t__field(uint8_t, optype)\n\t\t__field(uint8_t, ex)\n\t\t__field(uint8_t, wait)\n\t\t__field(uint8_t, flags)\n\t\t__field(uint32_t, pid)\n\t\t__field(int32_t, nodeid)\n\t\t__field(int32_t, rv)\n\t\t__field(uint32_t, fsid)\n\t\t__field(uint64_t, number)\n\t\t__field(uint64_t, start)\n\t\t__field(uint64_t, end)\n\t\t__field(uint64_t, owner)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->optype = info->optype;\n\t\t__entry->ex = info->ex;\n\t\t__entry->wait = info->wait;\n\t\t__entry->flags = info->flags;\n\t\t__entry->pid = info->pid;\n\t\t__entry->nodeid = info->nodeid;\n\t\t__entry->rv = info->rv;\n\t\t__entry->fsid = info->fsid;\n\t\t__entry->number = info->number;\n\t\t__entry->start = info->start;\n\t\t__entry->end = info->end;\n\t\t__entry->owner = info->owner;\n\t),\n\n\tTP_printk(\"fsid=%u number=%llx owner=%llx optype=%d ex=%d wait=%d flags=%x pid=%u nodeid=%d rv=%d start=%llx end=%llx\",\n\t\t  __entry->fsid, __entry->number, __entry->owner,\n\t\t  __entry->optype, __entry->ex, __entry->wait,\n\t\t  __entry->flags, __entry->pid, __entry->nodeid,\n\t\t  __entry->rv, __entry->start, __entry->end)\n\n);\n\nDEFINE_EVENT(dlm_plock_template, dlm_plock_read,\n\t     TP_PROTO(const struct dlm_plock_info *info), TP_ARGS(info));\n\nDEFINE_EVENT(dlm_plock_template, dlm_plock_write,\n\t     TP_PROTO(const struct dlm_plock_info *info), TP_ARGS(info));\n\nTRACE_EVENT(dlm_send,\n\n\tTP_PROTO(int nodeid, int ret),\n\n\tTP_ARGS(nodeid, ret),\n\n\tTP_STRUCT__entry(\n\t\t__field(int, nodeid)\n\t\t__field(int, ret)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->nodeid = nodeid;\n\t\t__entry->ret = ret;\n\t),\n\n\tTP_printk(\"nodeid=%d ret=%d\", __entry->nodeid, __entry->ret)\n\n);\n\nTRACE_EVENT(dlm_recv,\n\n\tTP_PROTO(int nodeid, int ret),\n\n\tTP_ARGS(nodeid, ret),\n\n\tTP_STRUCT__entry(\n\t\t__field(int, nodeid)\n\t\t__field(int, ret)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->nodeid = nodeid;\n\t\t__entry->ret = ret;\n\t),\n\n\tTP_printk(\"nodeid=%d ret=%d\", __entry->nodeid, __entry->ret)\n\n);\n\n#endif  \n\n \n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}