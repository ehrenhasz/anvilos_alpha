{
  "module_name": "qdisc.h",
  "hash_id": "9fcb7a4714c375664438d57b47f762e4e7f812a5db2b6b5cf5b40d778ab8472e",
  "original_prompt": "Ingested from linux-6.6.14/include/trace/events/qdisc.h",
  "human_readable_source": "#undef TRACE_SYSTEM\n#define TRACE_SYSTEM qdisc\n\n#if !defined(_TRACE_QDISC_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _TRACE_QDISC_H\n\n#include <linux/skbuff.h>\n#include <linux/netdevice.h>\n#include <linux/tracepoint.h>\n#include <linux/ftrace.h>\n#include <linux/pkt_sched.h>\n#include <net/sch_generic.h>\n\nTRACE_EVENT(qdisc_dequeue,\n\n\tTP_PROTO(struct Qdisc *qdisc, const struct netdev_queue *txq,\n\t\t int packets, struct sk_buff *skb),\n\n\tTP_ARGS(qdisc, txq, packets, skb),\n\n\tTP_STRUCT__entry(\n\t\t__field(\tstruct Qdisc *,\t\tqdisc\t)\n\t\t__field(const\tstruct netdev_queue *,\ttxq\t)\n\t\t__field(\tint,\t\t\tpackets\t)\n\t\t__field(\tvoid *,\t\t\tskbaddr\t)\n\t\t__field(\tint,\t\t\tifindex\t)\n\t\t__field(\tu32,\t\t\thandle\t)\n\t\t__field(\tu32,\t\t\tparent\t)\n\t\t__field(\tunsigned long,\t\ttxq_state)\n\t),\n\n\t \n\tTP_fast_assign(\n\t\t__entry->qdisc\t\t= qdisc;\n\t\t__entry->txq\t\t= txq;\n\t\t__entry->packets\t= skb ? packets : 0;\n\t\t__entry->skbaddr\t= skb;\n\t\t__entry->ifindex\t= txq->dev ? txq->dev->ifindex : 0;\n\t\t__entry->handle\t\t= qdisc->handle;\n\t\t__entry->parent\t\t= qdisc->parent;\n\t\t__entry->txq_state\t= txq->state;\n\t),\n\n\tTP_printk(\"dequeue ifindex=%d qdisc handle=0x%X parent=0x%X txq_state=0x%lX packets=%d skbaddr=%p\",\n\t\t  __entry->ifindex, __entry->handle, __entry->parent,\n\t\t  __entry->txq_state, __entry->packets, __entry->skbaddr )\n);\n\nTRACE_EVENT(qdisc_enqueue,\n\n\tTP_PROTO(struct Qdisc *qdisc, const struct netdev_queue *txq, struct sk_buff *skb),\n\n\tTP_ARGS(qdisc, txq, skb),\n\n\tTP_STRUCT__entry(\n\t\t__field(struct Qdisc *, qdisc)\n\t\t__field(const struct netdev_queue *, txq)\n\t\t__field(void *,\tskbaddr)\n\t\t__field(int, ifindex)\n\t\t__field(u32, handle)\n\t\t__field(u32, parent)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->qdisc = qdisc;\n\t\t__entry->txq\t = txq;\n\t\t__entry->skbaddr = skb;\n\t\t__entry->ifindex = txq->dev ? txq->dev->ifindex : 0;\n\t\t__entry->handle\t = qdisc->handle;\n\t\t__entry->parent\t = qdisc->parent;\n\t),\n\n\tTP_printk(\"enqueue ifindex=%d qdisc handle=0x%X parent=0x%X skbaddr=%p\",\n\t\t  __entry->ifindex, __entry->handle, __entry->parent, __entry->skbaddr)\n);\n\nTRACE_EVENT(qdisc_reset,\n\n\tTP_PROTO(struct Qdisc *q),\n\n\tTP_ARGS(q),\n\n\tTP_STRUCT__entry(\n\t\t__string(\tdev,\t\tqdisc_dev(q)\t)\n\t\t__string(\tkind,\t\tq->ops->id\t)\n\t\t__field(\tu32,\t\tparent\t\t)\n\t\t__field(\tu32,\t\thandle\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(dev, qdisc_dev(q));\n\t\t__assign_str(kind, q->ops->id);\n\t\t__entry->parent = q->parent;\n\t\t__entry->handle = q->handle;\n\t),\n\n\tTP_printk(\"dev=%s kind=%s parent=%x:%x handle=%x:%x\", __get_str(dev),\n\t\t  __get_str(kind), TC_H_MAJ(__entry->parent) >> 16, TC_H_MIN(__entry->parent),\n\t\t  TC_H_MAJ(__entry->handle) >> 16, TC_H_MIN(__entry->handle))\n);\n\nTRACE_EVENT(qdisc_destroy,\n\n\tTP_PROTO(struct Qdisc *q),\n\n\tTP_ARGS(q),\n\n\tTP_STRUCT__entry(\n\t\t__string(\tdev,\t\tqdisc_dev(q)\t)\n\t\t__string(\tkind,\t\tq->ops->id\t)\n\t\t__field(\tu32,\t\tparent\t\t)\n\t\t__field(\tu32,\t\thandle\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(dev, qdisc_dev(q));\n\t\t__assign_str(kind, q->ops->id);\n\t\t__entry->parent = q->parent;\n\t\t__entry->handle = q->handle;\n\t),\n\n\tTP_printk(\"dev=%s kind=%s parent=%x:%x handle=%x:%x\", __get_str(dev),\n\t\t  __get_str(kind), TC_H_MAJ(__entry->parent) >> 16, TC_H_MIN(__entry->parent),\n\t\t  TC_H_MAJ(__entry->handle) >> 16, TC_H_MIN(__entry->handle))\n);\n\nTRACE_EVENT(qdisc_create,\n\n\tTP_PROTO(const struct Qdisc_ops *ops, struct net_device *dev, u32 parent),\n\n\tTP_ARGS(ops, dev, parent),\n\n\tTP_STRUCT__entry(\n\t\t__string(\tdev,\t\tdev->name\t)\n\t\t__string(\tkind,\t\tops->id\t\t)\n\t\t__field(\tu32,\t\tparent\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(dev, dev->name);\n\t\t__assign_str(kind, ops->id);\n\t\t__entry->parent = parent;\n\t),\n\n\tTP_printk(\"dev=%s kind=%s parent=%x:%x\",\n\t\t  __get_str(dev), __get_str(kind),\n\t\t  TC_H_MAJ(__entry->parent) >> 16, TC_H_MIN(__entry->parent))\n);\n\n#endif  \n\n \n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}