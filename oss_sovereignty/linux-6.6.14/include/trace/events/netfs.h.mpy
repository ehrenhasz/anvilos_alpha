{
  "module_name": "netfs.h",
  "hash_id": "fd81a5979dff9c721a9cee0c00d6e28f100921d97a2393e0b1a5c933dd44f4cd",
  "original_prompt": "Ingested from linux-6.6.14/include/trace/events/netfs.h",
  "human_readable_source": " \n \n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM netfs\n\n#if !defined(_TRACE_NETFS_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _TRACE_NETFS_H\n\n#include <linux/tracepoint.h>\n\n \n#define netfs_read_traces\t\t\t\t\t\\\n\tEM(netfs_read_trace_expanded,\t\t\"EXPANDED \")\t\\\n\tEM(netfs_read_trace_readahead,\t\t\"READAHEAD\")\t\\\n\tEM(netfs_read_trace_readpage,\t\t\"READPAGE \")\t\\\n\tE_(netfs_read_trace_write_begin,\t\"WRITEBEGN\")\n\n#define netfs_rreq_origins\t\t\t\t\t\\\n\tEM(NETFS_READAHEAD,\t\t\t\"RA\")\t\t\\\n\tEM(NETFS_READPAGE,\t\t\t\"RP\")\t\t\\\n\tE_(NETFS_READ_FOR_WRITE,\t\t\"RW\")\n\n#define netfs_rreq_traces\t\t\t\t\t\\\n\tEM(netfs_rreq_trace_assess,\t\t\"ASSESS \")\t\\\n\tEM(netfs_rreq_trace_copy,\t\t\"COPY   \")\t\\\n\tEM(netfs_rreq_trace_done,\t\t\"DONE   \")\t\\\n\tEM(netfs_rreq_trace_free,\t\t\"FREE   \")\t\\\n\tEM(netfs_rreq_trace_resubmit,\t\t\"RESUBMT\")\t\\\n\tEM(netfs_rreq_trace_unlock,\t\t\"UNLOCK \")\t\\\n\tE_(netfs_rreq_trace_unmark,\t\t\"UNMARK \")\n\n#define netfs_sreq_sources\t\t\t\t\t\\\n\tEM(NETFS_FILL_WITH_ZEROES,\t\t\"ZERO\")\t\t\\\n\tEM(NETFS_DOWNLOAD_FROM_SERVER,\t\t\"DOWN\")\t\t\\\n\tEM(NETFS_READ_FROM_CACHE,\t\t\"READ\")\t\t\\\n\tE_(NETFS_INVALID_READ,\t\t\t\"INVL\")\t\t\\\n\n#define netfs_sreq_traces\t\t\t\t\t\\\n\tEM(netfs_sreq_trace_download_instead,\t\"RDOWN\")\t\\\n\tEM(netfs_sreq_trace_free,\t\t\"FREE \")\t\\\n\tEM(netfs_sreq_trace_prepare,\t\t\"PREP \")\t\\\n\tEM(netfs_sreq_trace_resubmit_short,\t\"SHORT\")\t\\\n\tEM(netfs_sreq_trace_submit,\t\t\"SUBMT\")\t\\\n\tEM(netfs_sreq_trace_terminated,\t\t\"TERM \")\t\\\n\tEM(netfs_sreq_trace_write,\t\t\"WRITE\")\t\\\n\tEM(netfs_sreq_trace_write_skip,\t\t\"SKIP \")\t\\\n\tE_(netfs_sreq_trace_write_term,\t\t\"WTERM\")\n\n#define netfs_failures\t\t\t\t\t\t\t\\\n\tEM(netfs_fail_check_write_begin,\t\"check-write-begin\")\t\\\n\tEM(netfs_fail_copy_to_cache,\t\t\"copy-to-cache\")\t\\\n\tEM(netfs_fail_read,\t\t\t\"read\")\t\t\t\\\n\tEM(netfs_fail_short_read,\t\t\"short-read\")\t\t\\\n\tE_(netfs_fail_prepare_write,\t\t\"prep-write\")\n\n#define netfs_rreq_ref_traces\t\t\t\t\t\\\n\tEM(netfs_rreq_trace_get_hold,\t\t\"GET HOLD   \")\t\\\n\tEM(netfs_rreq_trace_get_subreq,\t\t\"GET SUBREQ \")\t\\\n\tEM(netfs_rreq_trace_put_complete,\t\"PUT COMPLT \")\t\\\n\tEM(netfs_rreq_trace_put_discard,\t\"PUT DISCARD\")\t\\\n\tEM(netfs_rreq_trace_put_failed,\t\t\"PUT FAILED \")\t\\\n\tEM(netfs_rreq_trace_put_hold,\t\t\"PUT HOLD   \")\t\\\n\tEM(netfs_rreq_trace_put_subreq,\t\t\"PUT SUBREQ \")\t\\\n\tEM(netfs_rreq_trace_put_zero_len,\t\"PUT ZEROLEN\")\t\\\n\tE_(netfs_rreq_trace_new,\t\t\"NEW        \")\n\n#define netfs_sreq_ref_traces\t\t\t\t\t\\\n\tEM(netfs_sreq_trace_get_copy_to_cache,\t\"GET COPY2C \")\t\\\n\tEM(netfs_sreq_trace_get_resubmit,\t\"GET RESUBMIT\")\t\\\n\tEM(netfs_sreq_trace_get_short_read,\t\"GET SHORTRD\")\t\\\n\tEM(netfs_sreq_trace_new,\t\t\"NEW        \")\t\\\n\tEM(netfs_sreq_trace_put_clear,\t\t\"PUT CLEAR  \")\t\\\n\tEM(netfs_sreq_trace_put_failed,\t\t\"PUT FAILED \")\t\\\n\tEM(netfs_sreq_trace_put_merged,\t\t\"PUT MERGED \")\t\\\n\tEM(netfs_sreq_trace_put_no_copy,\t\"PUT NO COPY\")\t\\\n\tE_(netfs_sreq_trace_put_terminated,\t\"PUT TERM   \")\n\n#ifndef __NETFS_DECLARE_TRACE_ENUMS_ONCE_ONLY\n#define __NETFS_DECLARE_TRACE_ENUMS_ONCE_ONLY\n\n#undef EM\n#undef E_\n#define EM(a, b) a,\n#define E_(a, b) a\n\nenum netfs_read_trace { netfs_read_traces } __mode(byte);\nenum netfs_rreq_trace { netfs_rreq_traces } __mode(byte);\nenum netfs_sreq_trace { netfs_sreq_traces } __mode(byte);\nenum netfs_failure { netfs_failures } __mode(byte);\nenum netfs_rreq_ref_trace { netfs_rreq_ref_traces } __mode(byte);\nenum netfs_sreq_ref_trace { netfs_sreq_ref_traces } __mode(byte);\n\n#endif\n\n \n#undef EM\n#undef E_\n#define EM(a, b) TRACE_DEFINE_ENUM(a);\n#define E_(a, b) TRACE_DEFINE_ENUM(a);\n\nnetfs_read_traces;\nnetfs_rreq_origins;\nnetfs_rreq_traces;\nnetfs_sreq_sources;\nnetfs_sreq_traces;\nnetfs_failures;\nnetfs_rreq_ref_traces;\nnetfs_sreq_ref_traces;\n\n \n#undef EM\n#undef E_\n#define EM(a, b)\t{ a, b },\n#define E_(a, b)\t{ a, b }\n\nTRACE_EVENT(netfs_read,\n\t    TP_PROTO(struct netfs_io_request *rreq,\n\t\t     loff_t start, size_t len,\n\t\t     enum netfs_read_trace what),\n\n\t    TP_ARGS(rreq, start, len, what),\n\n\t    TP_STRUCT__entry(\n\t\t    __field(unsigned int,\t\trreq\t\t)\n\t\t    __field(unsigned int,\t\tcookie\t\t)\n\t\t    __field(loff_t,\t\t\tstart\t\t)\n\t\t    __field(size_t,\t\t\tlen\t\t)\n\t\t    __field(enum netfs_read_trace,\twhat\t\t)\n\t\t    __field(unsigned int,\t\tnetfs_inode\t)\n\t\t\t     ),\n\n\t    TP_fast_assign(\n\t\t    __entry->rreq\t= rreq->debug_id;\n\t\t    __entry->cookie\t= rreq->cache_resources.debug_id;\n\t\t    __entry->start\t= start;\n\t\t    __entry->len\t= len;\n\t\t    __entry->what\t= what;\n\t\t    __entry->netfs_inode = rreq->inode->i_ino;\n\t\t\t   ),\n\n\t    TP_printk(\"R=%08x %s c=%08x ni=%x s=%llx %zx\",\n\t\t      __entry->rreq,\n\t\t      __print_symbolic(__entry->what, netfs_read_traces),\n\t\t      __entry->cookie,\n\t\t      __entry->netfs_inode,\n\t\t      __entry->start, __entry->len)\n\t    );\n\nTRACE_EVENT(netfs_rreq,\n\t    TP_PROTO(struct netfs_io_request *rreq,\n\t\t     enum netfs_rreq_trace what),\n\n\t    TP_ARGS(rreq, what),\n\n\t    TP_STRUCT__entry(\n\t\t    __field(unsigned int,\t\trreq\t\t)\n\t\t    __field(unsigned int,\t\tflags\t\t)\n\t\t    __field(enum netfs_io_origin,\torigin\t\t)\n\t\t    __field(enum netfs_rreq_trace,\twhat\t\t)\n\t\t\t     ),\n\n\t    TP_fast_assign(\n\t\t    __entry->rreq\t= rreq->debug_id;\n\t\t    __entry->flags\t= rreq->flags;\n\t\t    __entry->origin\t= rreq->origin;\n\t\t    __entry->what\t= what;\n\t\t\t   ),\n\n\t    TP_printk(\"R=%08x %s %s f=%02x\",\n\t\t      __entry->rreq,\n\t\t      __print_symbolic(__entry->origin, netfs_rreq_origins),\n\t\t      __print_symbolic(__entry->what, netfs_rreq_traces),\n\t\t      __entry->flags)\n\t    );\n\nTRACE_EVENT(netfs_sreq,\n\t    TP_PROTO(struct netfs_io_subrequest *sreq,\n\t\t     enum netfs_sreq_trace what),\n\n\t    TP_ARGS(sreq, what),\n\n\t    TP_STRUCT__entry(\n\t\t    __field(unsigned int,\t\trreq\t\t)\n\t\t    __field(unsigned short,\t\tindex\t\t)\n\t\t    __field(short,\t\t\terror\t\t)\n\t\t    __field(unsigned short,\t\tflags\t\t)\n\t\t    __field(enum netfs_io_source,\tsource\t\t)\n\t\t    __field(enum netfs_sreq_trace,\twhat\t\t)\n\t\t    __field(size_t,\t\t\tlen\t\t)\n\t\t    __field(size_t,\t\t\ttransferred\t)\n\t\t    __field(loff_t,\t\t\tstart\t\t)\n\t\t\t     ),\n\n\t    TP_fast_assign(\n\t\t    __entry->rreq\t= sreq->rreq->debug_id;\n\t\t    __entry->index\t= sreq->debug_index;\n\t\t    __entry->error\t= sreq->error;\n\t\t    __entry->flags\t= sreq->flags;\n\t\t    __entry->source\t= sreq->source;\n\t\t    __entry->what\t= what;\n\t\t    __entry->len\t= sreq->len;\n\t\t    __entry->transferred = sreq->transferred;\n\t\t    __entry->start\t= sreq->start;\n\t\t\t   ),\n\n\t    TP_printk(\"R=%08x[%u] %s %s f=%02x s=%llx %zx/%zx e=%d\",\n\t\t      __entry->rreq, __entry->index,\n\t\t      __print_symbolic(__entry->source, netfs_sreq_sources),\n\t\t      __print_symbolic(__entry->what, netfs_sreq_traces),\n\t\t      __entry->flags,\n\t\t      __entry->start, __entry->transferred, __entry->len,\n\t\t      __entry->error)\n\t    );\n\nTRACE_EVENT(netfs_failure,\n\t    TP_PROTO(struct netfs_io_request *rreq,\n\t\t     struct netfs_io_subrequest *sreq,\n\t\t     int error, enum netfs_failure what),\n\n\t    TP_ARGS(rreq, sreq, error, what),\n\n\t    TP_STRUCT__entry(\n\t\t    __field(unsigned int,\t\trreq\t\t)\n\t\t    __field(short,\t\t\tindex\t\t)\n\t\t    __field(short,\t\t\terror\t\t)\n\t\t    __field(unsigned short,\t\tflags\t\t)\n\t\t    __field(enum netfs_io_source,\tsource\t\t)\n\t\t    __field(enum netfs_failure,\t\twhat\t\t)\n\t\t    __field(size_t,\t\t\tlen\t\t)\n\t\t    __field(size_t,\t\t\ttransferred\t)\n\t\t    __field(loff_t,\t\t\tstart\t\t)\n\t\t\t     ),\n\n\t    TP_fast_assign(\n\t\t    __entry->rreq\t= rreq->debug_id;\n\t\t    __entry->index\t= sreq ? sreq->debug_index : -1;\n\t\t    __entry->error\t= error;\n\t\t    __entry->flags\t= sreq ? sreq->flags : 0;\n\t\t    __entry->source\t= sreq ? sreq->source : NETFS_INVALID_READ;\n\t\t    __entry->what\t= what;\n\t\t    __entry->len\t= sreq ? sreq->len : rreq->len;\n\t\t    __entry->transferred = sreq ? sreq->transferred : 0;\n\t\t    __entry->start\t= sreq ? sreq->start : 0;\n\t\t\t   ),\n\n\t    TP_printk(\"R=%08x[%d] %s f=%02x s=%llx %zx/%zx %s e=%d\",\n\t\t      __entry->rreq, __entry->index,\n\t\t      __print_symbolic(__entry->source, netfs_sreq_sources),\n\t\t      __entry->flags,\n\t\t      __entry->start, __entry->transferred, __entry->len,\n\t\t      __print_symbolic(__entry->what, netfs_failures),\n\t\t      __entry->error)\n\t    );\n\nTRACE_EVENT(netfs_rreq_ref,\n\t    TP_PROTO(unsigned int rreq_debug_id, int ref,\n\t\t     enum netfs_rreq_ref_trace what),\n\n\t    TP_ARGS(rreq_debug_id, ref, what),\n\n\t    TP_STRUCT__entry(\n\t\t    __field(unsigned int,\t\trreq\t\t)\n\t\t    __field(int,\t\t\tref\t\t)\n\t\t    __field(enum netfs_rreq_ref_trace,\twhat\t\t)\n\t\t\t     ),\n\n\t    TP_fast_assign(\n\t\t    __entry->rreq\t= rreq_debug_id;\n\t\t    __entry->ref\t= ref;\n\t\t    __entry->what\t= what;\n\t\t\t   ),\n\n\t    TP_printk(\"R=%08x %s r=%u\",\n\t\t      __entry->rreq,\n\t\t      __print_symbolic(__entry->what, netfs_rreq_ref_traces),\n\t\t      __entry->ref)\n\t    );\n\nTRACE_EVENT(netfs_sreq_ref,\n\t    TP_PROTO(unsigned int rreq_debug_id, unsigned int subreq_debug_index,\n\t\t     int ref, enum netfs_sreq_ref_trace what),\n\n\t    TP_ARGS(rreq_debug_id, subreq_debug_index, ref, what),\n\n\t    TP_STRUCT__entry(\n\t\t    __field(unsigned int,\t\trreq\t\t)\n\t\t    __field(unsigned int,\t\tsubreq\t\t)\n\t\t    __field(int,\t\t\tref\t\t)\n\t\t    __field(enum netfs_sreq_ref_trace,\twhat\t\t)\n\t\t\t     ),\n\n\t    TP_fast_assign(\n\t\t    __entry->rreq\t= rreq_debug_id;\n\t\t    __entry->subreq\t= subreq_debug_index;\n\t\t    __entry->ref\t= ref;\n\t\t    __entry->what\t= what;\n\t\t\t   ),\n\n\t    TP_printk(\"R=%08x[%x] %s r=%u\",\n\t\t      __entry->rreq,\n\t\t      __entry->subreq,\n\t\t      __print_symbolic(__entry->what, netfs_sreq_ref_traces),\n\t\t      __entry->ref)\n\t    );\n\n#undef EM\n#undef E_\n#endif  \n\n \n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}