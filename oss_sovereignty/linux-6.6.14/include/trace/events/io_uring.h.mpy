{
  "module_name": "io_uring.h",
  "hash_id": "4d76a590015aa6dea8ef65074b22c6cb1acce8a329f93ac24fa83f576bb551f7",
  "original_prompt": "Ingested from linux-6.6.14/include/trace/events/io_uring.h",
  "human_readable_source": " \n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM io_uring\n\n#if !defined(_TRACE_IO_URING_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _TRACE_IO_URING_H\n\n#include <linux/tracepoint.h>\n#include <uapi/linux/io_uring.h>\n#include <linux/io_uring_types.h>\n#include <linux/io_uring.h>\n\nstruct io_wq_work;\n\n \nTRACE_EVENT(io_uring_create,\n\n\tTP_PROTO(int fd, void *ctx, u32 sq_entries, u32 cq_entries, u32 flags),\n\n\tTP_ARGS(fd, ctx, sq_entries, cq_entries, flags),\n\n\tTP_STRUCT__entry (\n\t\t__field(  int,\t\tfd\t\t)\n\t\t__field(  void *,\tctx\t\t)\n\t\t__field(  u32,\t\tsq_entries\t)\n\t\t__field(  u32,\t\tcq_entries\t)\n\t\t__field(  u32,\t\tflags\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->fd\t\t= fd;\n\t\t__entry->ctx\t\t= ctx;\n\t\t__entry->sq_entries\t= sq_entries;\n\t\t__entry->cq_entries\t= cq_entries;\n\t\t__entry->flags\t\t= flags;\n\t),\n\n\tTP_printk(\"ring %p, fd %d sq size %d, cq size %d, flags 0x%x\",\n\t\t\t  __entry->ctx, __entry->fd, __entry->sq_entries,\n\t\t\t  __entry->cq_entries, __entry->flags)\n);\n\n \nTRACE_EVENT(io_uring_register,\n\n\tTP_PROTO(void *ctx, unsigned opcode, unsigned nr_files,\n\t\t\t unsigned nr_bufs, long ret),\n\n\tTP_ARGS(ctx, opcode, nr_files, nr_bufs, ret),\n\n\tTP_STRUCT__entry (\n\t\t__field(  void *,\tctx\t)\n\t\t__field(  unsigned,\topcode\t)\n\t\t__field(  unsigned,\tnr_files)\n\t\t__field(  unsigned,\tnr_bufs\t)\n\t\t__field(  long,\t\tret\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->ctx\t\t= ctx;\n\t\t__entry->opcode\t\t= opcode;\n\t\t__entry->nr_files\t= nr_files;\n\t\t__entry->nr_bufs\t= nr_bufs;\n\t\t__entry->ret\t\t= ret;\n\t),\n\n\tTP_printk(\"ring %p, opcode %d, nr_user_files %d, nr_user_bufs %d, \"\n\t\t\t  \"ret %ld\",\n\t\t\t  __entry->ctx, __entry->opcode, __entry->nr_files,\n\t\t\t  __entry->nr_bufs, __entry->ret)\n);\n\n \nTRACE_EVENT(io_uring_file_get,\n\n\tTP_PROTO(struct io_kiocb *req, int fd),\n\n\tTP_ARGS(req, fd),\n\n\tTP_STRUCT__entry (\n\t\t__field(  void *,\tctx\t\t)\n\t\t__field(  void *,\treq\t\t)\n\t\t__field(  u64,\t\tuser_data\t)\n\t\t__field(  int,\t\tfd\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->ctx\t\t= req->ctx;\n\t\t__entry->req\t\t= req;\n\t\t__entry->user_data\t= req->cqe.user_data;\n\t\t__entry->fd\t\t= fd;\n\t),\n\n\tTP_printk(\"ring %p, req %p, user_data 0x%llx, fd %d\",\n\t\t__entry->ctx, __entry->req, __entry->user_data, __entry->fd)\n);\n\n \nTRACE_EVENT(io_uring_queue_async_work,\n\n\tTP_PROTO(struct io_kiocb *req, int rw),\n\n\tTP_ARGS(req, rw),\n\n\tTP_STRUCT__entry (\n\t\t__field(  void *,\t\t\tctx\t\t)\n\t\t__field(  void *,\t\t\treq\t\t)\n\t\t__field(  u64,\t\t\t\tuser_data\t)\n\t\t__field(  u8,\t\t\t\topcode\t\t)\n\t\t__field(  unsigned int,\t\t\tflags\t\t)\n\t\t__field(  struct io_wq_work *,\t\twork\t\t)\n\t\t__field(  int,\t\t\t\trw\t\t)\n\n\t\t__string( op_str, io_uring_get_opcode(req->opcode)\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->ctx\t\t= req->ctx;\n\t\t__entry->req\t\t= req;\n\t\t__entry->user_data\t= req->cqe.user_data;\n\t\t__entry->flags\t\t= req->flags;\n\t\t__entry->opcode\t\t= req->opcode;\n\t\t__entry->work\t\t= &req->work;\n\t\t__entry->rw\t\t= rw;\n\n\t\t__assign_str(op_str, io_uring_get_opcode(req->opcode));\n\t),\n\n\tTP_printk(\"ring %p, request %p, user_data 0x%llx, opcode %s, flags 0x%x, %s queue, work %p\",\n\t\t__entry->ctx, __entry->req, __entry->user_data,\n\t\t__get_str(op_str),\n\t\t__entry->flags, __entry->rw ? \"hashed\" : \"normal\", __entry->work)\n);\n\n \nTRACE_EVENT(io_uring_defer,\n\n\tTP_PROTO(struct io_kiocb *req),\n\n\tTP_ARGS(req),\n\n\tTP_STRUCT__entry (\n\t\t__field(  void *,\t\tctx\t)\n\t\t__field(  void *,\t\treq\t)\n\t\t__field(  unsigned long long,\tdata\t)\n\t\t__field(  u8,\t\t\topcode\t)\n\n\t\t__string( op_str, io_uring_get_opcode(req->opcode) )\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->ctx\t= req->ctx;\n\t\t__entry->req\t= req;\n\t\t__entry->data\t= req->cqe.user_data;\n\t\t__entry->opcode\t= req->opcode;\n\n\t\t__assign_str(op_str, io_uring_get_opcode(req->opcode));\n\t),\n\n\tTP_printk(\"ring %p, request %p, user_data 0x%llx, opcode %s\",\n\t\t__entry->ctx, __entry->req, __entry->data,\n\t\t__get_str(op_str))\n);\n\n \nTRACE_EVENT(io_uring_link,\n\n\tTP_PROTO(struct io_kiocb *req, struct io_kiocb *target_req),\n\n\tTP_ARGS(req, target_req),\n\n\tTP_STRUCT__entry (\n\t\t__field(  void *,\tctx\t\t)\n\t\t__field(  void *,\treq\t\t)\n\t\t__field(  void *,\ttarget_req\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->ctx\t\t= req->ctx;\n\t\t__entry->req\t\t= req;\n\t\t__entry->target_req\t= target_req;\n\t),\n\n\tTP_printk(\"ring %p, request %p linked after %p\",\n\t\t\t  __entry->ctx, __entry->req, __entry->target_req)\n);\n\n \nTRACE_EVENT(io_uring_cqring_wait,\n\n\tTP_PROTO(void *ctx, int min_events),\n\n\tTP_ARGS(ctx, min_events),\n\n\tTP_STRUCT__entry (\n\t\t__field(  void *,\tctx\t\t)\n\t\t__field(  int,\t\tmin_events\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->ctx\t\t= ctx;\n\t\t__entry->min_events\t= min_events;\n\t),\n\n\tTP_printk(\"ring %p, min_events %d\", __entry->ctx, __entry->min_events)\n);\n\n \nTRACE_EVENT(io_uring_fail_link,\n\n\tTP_PROTO(struct io_kiocb *req, struct io_kiocb *link),\n\n\tTP_ARGS(req, link),\n\n\tTP_STRUCT__entry (\n\t\t__field(  void *,\t\tctx\t\t)\n\t\t__field(  void *,\t\treq\t\t)\n\t\t__field(  unsigned long long,\tuser_data\t)\n\t\t__field(  u8,\t\t\topcode\t\t)\n\t\t__field(  void *,\t\tlink\t\t)\n\n\t\t__string( op_str, io_uring_get_opcode(req->opcode) )\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->ctx\t\t= req->ctx;\n\t\t__entry->req\t\t= req;\n\t\t__entry->user_data\t= req->cqe.user_data;\n\t\t__entry->opcode\t\t= req->opcode;\n\t\t__entry->link\t\t= link;\n\n\t\t__assign_str(op_str, io_uring_get_opcode(req->opcode));\n\t),\n\n\tTP_printk(\"ring %p, request %p, user_data 0x%llx, opcode %s, link %p\",\n\t\t__entry->ctx, __entry->req, __entry->user_data,\n\t\t__get_str(op_str), __entry->link)\n);\n\n \nTRACE_EVENT(io_uring_complete,\n\n\tTP_PROTO(void *ctx, void *req, u64 user_data, int res, unsigned cflags,\n\t\t u64 extra1, u64 extra2),\n\n\tTP_ARGS(ctx, req, user_data, res, cflags, extra1, extra2),\n\n\tTP_STRUCT__entry (\n\t\t__field(  void *,\tctx\t\t)\n\t\t__field(  void *,\treq\t\t)\n\t\t__field(  u64,\t\tuser_data\t)\n\t\t__field(  int,\t\tres\t\t)\n\t\t__field(  unsigned,\tcflags\t\t)\n\t\t__field(  u64,\t\textra1\t\t)\n\t\t__field(  u64,\t\textra2\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->ctx\t\t= ctx;\n\t\t__entry->req\t\t= req;\n\t\t__entry->user_data\t= user_data;\n\t\t__entry->res\t\t= res;\n\t\t__entry->cflags\t\t= cflags;\n\t\t__entry->extra1\t\t= extra1;\n\t\t__entry->extra2\t\t= extra2;\n\t),\n\n\tTP_printk(\"ring %p, req %p, user_data 0x%llx, result %d, cflags 0x%x \"\n\t\t  \"extra1 %llu extra2 %llu \",\n\t\t__entry->ctx, __entry->req,\n\t\t__entry->user_data,\n\t\t__entry->res, __entry->cflags,\n\t\t(unsigned long long) __entry->extra1,\n\t\t(unsigned long long) __entry->extra2)\n);\n\n \nTRACE_EVENT(io_uring_submit_req,\n\n\tTP_PROTO(struct io_kiocb *req),\n\n\tTP_ARGS(req),\n\n\tTP_STRUCT__entry (\n\t\t__field(  void *,\t\tctx\t\t)\n\t\t__field(  void *,\t\treq\t\t)\n\t\t__field(  unsigned long long,\tuser_data\t)\n\t\t__field(  u8,\t\t\topcode\t\t)\n\t\t__field(  u32,\t\t\tflags\t\t)\n\t\t__field(  bool,\t\t\tsq_thread\t)\n\n\t\t__string( op_str, io_uring_get_opcode(req->opcode) )\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->ctx\t\t= req->ctx;\n\t\t__entry->req\t\t= req;\n\t\t__entry->user_data\t= req->cqe.user_data;\n\t\t__entry->opcode\t\t= req->opcode;\n\t\t__entry->flags\t\t= req->flags;\n\t\t__entry->sq_thread\t= req->ctx->flags & IORING_SETUP_SQPOLL;\n\n\t\t__assign_str(op_str, io_uring_get_opcode(req->opcode));\n\t),\n\n\tTP_printk(\"ring %p, req %p, user_data 0x%llx, opcode %s, flags 0x%x, \"\n\t\t  \"sq_thread %d\", __entry->ctx, __entry->req,\n\t\t  __entry->user_data, __get_str(op_str),\n\t\t  __entry->flags, __entry->sq_thread)\n);\n\n \nTRACE_EVENT(io_uring_poll_arm,\n\n\tTP_PROTO(struct io_kiocb *req, int mask, int events),\n\n\tTP_ARGS(req, mask, events),\n\n\tTP_STRUCT__entry (\n\t\t__field(  void *,\t\tctx\t\t)\n\t\t__field(  void *,\t\treq\t\t)\n\t\t__field(  unsigned long long,\tuser_data\t)\n\t\t__field(  u8,\t\t\topcode\t\t)\n\t\t__field(  int,\t\t\tmask\t\t)\n\t\t__field(  int,\t\t\tevents\t\t)\n\n\t\t__string( op_str, io_uring_get_opcode(req->opcode) )\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->ctx\t\t= req->ctx;\n\t\t__entry->req\t\t= req;\n\t\t__entry->user_data\t= req->cqe.user_data;\n\t\t__entry->opcode\t\t= req->opcode;\n\t\t__entry->mask\t\t= mask;\n\t\t__entry->events\t\t= events;\n\n\t\t__assign_str(op_str, io_uring_get_opcode(req->opcode));\n\t),\n\n\tTP_printk(\"ring %p, req %p, user_data 0x%llx, opcode %s, mask 0x%x, events 0x%x\",\n\t\t  __entry->ctx, __entry->req, __entry->user_data,\n\t\t  __get_str(op_str),\n\t\t  __entry->mask, __entry->events)\n);\n\n \nTRACE_EVENT(io_uring_task_add,\n\n\tTP_PROTO(struct io_kiocb *req, int mask),\n\n\tTP_ARGS(req, mask),\n\n\tTP_STRUCT__entry (\n\t\t__field(  void *,\t\tctx\t\t)\n\t\t__field(  void *,\t\treq\t\t)\n\t\t__field(  unsigned long long,\tuser_data\t)\n\t\t__field(  u8,\t\t\topcode\t\t)\n\t\t__field(  int,\t\t\tmask\t\t)\n\n\t\t__string( op_str, io_uring_get_opcode(req->opcode) )\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->ctx\t\t= req->ctx;\n\t\t__entry->req\t\t= req;\n\t\t__entry->user_data\t= req->cqe.user_data;\n\t\t__entry->opcode\t\t= req->opcode;\n\t\t__entry->mask\t\t= mask;\n\n\t\t__assign_str(op_str, io_uring_get_opcode(req->opcode));\n\t),\n\n\tTP_printk(\"ring %p, req %p, user_data 0x%llx, opcode %s, mask %x\",\n\t\t__entry->ctx, __entry->req, __entry->user_data,\n\t\t__get_str(op_str),\n\t\t__entry->mask)\n);\n\n \nTRACE_EVENT(io_uring_req_failed,\n\n\tTP_PROTO(const struct io_uring_sqe *sqe, struct io_kiocb *req, int error),\n\n\tTP_ARGS(sqe, req, error),\n\n\tTP_STRUCT__entry (\n\t\t__field(  void *,\t\tctx\t\t)\n\t\t__field(  void *,\t\treq\t\t)\n\t\t__field(  unsigned long long,\tuser_data\t)\n\t\t__field(  u8,\t\t\topcode\t\t)\n\t\t__field(  u8,\t\t\tflags\t\t)\n\t\t__field(  u8,\t\t\tioprio\t\t)\n\t\t__field( u64,\t\t\toff\t\t)\n\t\t__field( u64,\t\t\taddr\t\t)\n\t\t__field( u32,\t\t\tlen\t\t)\n\t\t__field( u32,\t\t\top_flags\t)\n\t\t__field( u16,\t\t\tbuf_index\t)\n\t\t__field( u16,\t\t\tpersonality\t)\n\t\t__field( u32,\t\t\tfile_index\t)\n\t\t__field( u64,\t\t\tpad1\t\t)\n\t\t__field( u64,\t\t\taddr3\t\t)\n\t\t__field( int,\t\t\terror\t\t)\n\n\t\t__string( op_str, io_uring_get_opcode(sqe->opcode) )\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->ctx\t\t= req->ctx;\n\t\t__entry->req\t\t= req;\n\t\t__entry->user_data\t= sqe->user_data;\n\t\t__entry->opcode\t\t= sqe->opcode;\n\t\t__entry->flags\t\t= sqe->flags;\n\t\t__entry->ioprio\t\t= sqe->ioprio;\n\t\t__entry->off\t\t= sqe->off;\n\t\t__entry->addr\t\t= sqe->addr;\n\t\t__entry->len\t\t= sqe->len;\n\t\t__entry->op_flags\t= sqe->poll32_events;\n\t\t__entry->buf_index\t= sqe->buf_index;\n\t\t__entry->personality\t= sqe->personality;\n\t\t__entry->file_index\t= sqe->file_index;\n\t\t__entry->pad1\t\t= sqe->__pad2[0];\n\t\t__entry->addr3\t\t= sqe->addr3;\n\t\t__entry->error\t\t= error;\n\n\t\t__assign_str(op_str, io_uring_get_opcode(sqe->opcode));\n\t),\n\n\tTP_printk(\"ring %p, req %p, user_data 0x%llx, \"\n\t\t  \"opcode %s, flags 0x%x, prio=%d, off=%llu, addr=%llu, \"\n\t\t  \"len=%u, rw_flags=0x%x, buf_index=%d, \"\n\t\t  \"personality=%d, file_index=%d, pad=0x%llx, addr3=%llx, \"\n\t\t  \"error=%d\",\n\t\t  __entry->ctx, __entry->req, __entry->user_data,\n\t\t  __get_str(op_str),\n\t\t  __entry->flags, __entry->ioprio,\n\t\t  (unsigned long long)__entry->off,\n\t\t  (unsigned long long) __entry->addr, __entry->len,\n\t\t  __entry->op_flags,\n\t\t  __entry->buf_index, __entry->personality, __entry->file_index,\n\t\t  (unsigned long long) __entry->pad1,\n\t\t  (unsigned long long) __entry->addr3, __entry->error)\n);\n\n\n \nTRACE_EVENT(io_uring_cqe_overflow,\n\n\tTP_PROTO(void *ctx, unsigned long long user_data, s32 res, u32 cflags,\n\t\t void *ocqe),\n\n\tTP_ARGS(ctx, user_data, res, cflags, ocqe),\n\n\tTP_STRUCT__entry (\n\t\t__field(  void *,\t\tctx\t\t)\n\t\t__field(  unsigned long long,\tuser_data\t)\n\t\t__field(  s32,\t\t\tres\t\t)\n\t\t__field(  u32,\t\t\tcflags\t\t)\n\t\t__field(  void *,\t\tocqe\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->ctx\t\t= ctx;\n\t\t__entry->user_data\t= user_data;\n\t\t__entry->res\t\t= res;\n\t\t__entry->cflags\t\t= cflags;\n\t\t__entry->ocqe\t\t= ocqe;\n\t),\n\n\tTP_printk(\"ring %p, user_data 0x%llx, res %d, cflags 0x%x, \"\n\t\t  \"overflow_cqe %p\",\n\t\t  __entry->ctx, __entry->user_data, __entry->res,\n\t\t  __entry->cflags, __entry->ocqe)\n);\n\n \nTRACE_EVENT(io_uring_task_work_run,\n\n\tTP_PROTO(void *tctx, unsigned int count, unsigned int loops),\n\n\tTP_ARGS(tctx, count, loops),\n\n\tTP_STRUCT__entry (\n\t\t__field(  void *,\t\ttctx\t\t)\n\t\t__field(  unsigned int,\t\tcount\t\t)\n\t\t__field(  unsigned int,\t\tloops\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->tctx\t\t= tctx;\n\t\t__entry->count\t\t= count;\n\t\t__entry->loops\t\t= loops;\n\t),\n\n\tTP_printk(\"tctx %p, count %u, loops %u\",\n\t\t __entry->tctx, __entry->count, __entry->loops)\n);\n\nTRACE_EVENT(io_uring_short_write,\n\n\tTP_PROTO(void *ctx, u64 fpos, u64 wanted, u64 got),\n\n\tTP_ARGS(ctx, fpos, wanted, got),\n\n\tTP_STRUCT__entry(\n\t\t__field(void *,\tctx)\n\t\t__field(u64,\tfpos)\n\t\t__field(u64,\twanted)\n\t\t__field(u64,\tgot)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->ctx\t= ctx;\n\t\t__entry->fpos\t= fpos;\n\t\t__entry->wanted\t= wanted;\n\t\t__entry->got\t= got;\n\t),\n\n\tTP_printk(\"ring %p, fpos %lld, wanted %lld, got %lld\",\n\t\t\t  __entry->ctx, __entry->fpos,\n\t\t\t  __entry->wanted, __entry->got)\n);\n\n \nTRACE_EVENT(io_uring_local_work_run,\n\n\tTP_PROTO(void *ctx, int count, unsigned int loops),\n\n\tTP_ARGS(ctx, count, loops),\n\n\tTP_STRUCT__entry (\n\t\t__field(void *,\t\tctx\t)\n\t\t__field(int,\t\tcount\t)\n\t\t__field(unsigned int,\tloops\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->ctx\t\t= ctx;\n\t\t__entry->count\t\t= count;\n\t\t__entry->loops\t\t= loops;\n\t),\n\n\tTP_printk(\"ring %p, count %d, loops %u\", __entry->ctx, __entry->count, __entry->loops)\n);\n\n#endif  \n\n \n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}