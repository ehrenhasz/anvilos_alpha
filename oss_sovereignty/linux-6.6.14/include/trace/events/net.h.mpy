{
  "module_name": "net.h",
  "hash_id": "306c4d679192d66b5b4f674fbf2c7af5750b28f48327bc92ebad2f5a74e55073",
  "original_prompt": "Ingested from linux-6.6.14/include/trace/events/net.h",
  "human_readable_source": " \n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM net\n\n#if !defined(_TRACE_NET_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _TRACE_NET_H\n\n#include <linux/skbuff.h>\n#include <linux/netdevice.h>\n#include <linux/if_vlan.h>\n#include <linux/ip.h>\n#include <linux/tracepoint.h>\n\nTRACE_EVENT(net_dev_start_xmit,\n\n\tTP_PROTO(const struct sk_buff *skb, const struct net_device *dev),\n\n\tTP_ARGS(skb, dev),\n\n\tTP_STRUCT__entry(\n\t\t__string(\tname,\t\t\tdev->name\t)\n\t\t__field(\tu16,\t\t\tqueue_mapping\t)\n\t\t__field(\tconst void *,\t\tskbaddr\t\t)\n\t\t__field(\tbool,\t\t\tvlan_tagged\t)\n\t\t__field(\tu16,\t\t\tvlan_proto\t)\n\t\t__field(\tu16,\t\t\tvlan_tci\t)\n\t\t__field(\tu16,\t\t\tprotocol\t)\n\t\t__field(\tu8,\t\t\tip_summed\t)\n\t\t__field(\tunsigned int,\t\tlen\t\t)\n\t\t__field(\tunsigned int,\t\tdata_len\t)\n\t\t__field(\tint,\t\t\tnetwork_offset\t)\n\t\t__field(\tbool,\t\t\ttransport_offset_valid)\n\t\t__field(\tint,\t\t\ttransport_offset)\n\t\t__field(\tu8,\t\t\ttx_flags\t)\n\t\t__field(\tu16,\t\t\tgso_size\t)\n\t\t__field(\tu16,\t\t\tgso_segs\t)\n\t\t__field(\tu16,\t\t\tgso_type\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(name, dev->name);\n\t\t__entry->queue_mapping = skb->queue_mapping;\n\t\t__entry->skbaddr = skb;\n\t\t__entry->vlan_tagged = skb_vlan_tag_present(skb);\n\t\t__entry->vlan_proto = ntohs(skb->vlan_proto);\n\t\t__entry->vlan_tci = skb_vlan_tag_get(skb);\n\t\t__entry->protocol = ntohs(skb->protocol);\n\t\t__entry->ip_summed = skb->ip_summed;\n\t\t__entry->len = skb->len;\n\t\t__entry->data_len = skb->data_len;\n\t\t__entry->network_offset = skb_network_offset(skb);\n\t\t__entry->transport_offset_valid =\n\t\t\tskb_transport_header_was_set(skb);\n\t\t__entry->transport_offset = skb_transport_header_was_set(skb) ?\n\t\t\tskb_transport_offset(skb) : 0;\n\t\t__entry->tx_flags = skb_shinfo(skb)->tx_flags;\n\t\t__entry->gso_size = skb_shinfo(skb)->gso_size;\n\t\t__entry->gso_segs = skb_shinfo(skb)->gso_segs;\n\t\t__entry->gso_type = skb_shinfo(skb)->gso_type;\n\t),\n\n\tTP_printk(\"dev=%s queue_mapping=%u skbaddr=%p vlan_tagged=%d vlan_proto=0x%04x vlan_tci=0x%04x protocol=0x%04x ip_summed=%d len=%u data_len=%u network_offset=%d transport_offset_valid=%d transport_offset=%d tx_flags=%d gso_size=%d gso_segs=%d gso_type=%#x\",\n\t\t  __get_str(name), __entry->queue_mapping, __entry->skbaddr,\n\t\t  __entry->vlan_tagged, __entry->vlan_proto, __entry->vlan_tci,\n\t\t  __entry->protocol, __entry->ip_summed, __entry->len,\n\t\t  __entry->data_len,\n\t\t  __entry->network_offset, __entry->transport_offset_valid,\n\t\t  __entry->transport_offset, __entry->tx_flags,\n\t\t  __entry->gso_size, __entry->gso_segs, __entry->gso_type)\n);\n\nTRACE_EVENT(net_dev_xmit,\n\n\tTP_PROTO(struct sk_buff *skb,\n\t\t int rc,\n\t\t struct net_device *dev,\n\t\t unsigned int skb_len),\n\n\tTP_ARGS(skb, rc, dev, skb_len),\n\n\tTP_STRUCT__entry(\n\t\t__field(\tvoid *,\t\tskbaddr\t\t)\n\t\t__field(\tunsigned int,\tlen\t\t)\n\t\t__field(\tint,\t\trc\t\t)\n\t\t__string(\tname,\t\tdev->name\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->skbaddr = skb;\n\t\t__entry->len = skb_len;\n\t\t__entry->rc = rc;\n\t\t__assign_str(name, dev->name);\n\t),\n\n\tTP_printk(\"dev=%s skbaddr=%p len=%u rc=%d\",\n\t\t__get_str(name), __entry->skbaddr, __entry->len, __entry->rc)\n);\n\nTRACE_EVENT(net_dev_xmit_timeout,\n\n\tTP_PROTO(struct net_device *dev,\n\t\t int queue_index),\n\n\tTP_ARGS(dev, queue_index),\n\n\tTP_STRUCT__entry(\n\t\t__string(\tname,\t\tdev->name\t)\n\t\t__string(\tdriver,\t\tnetdev_drivername(dev))\n\t\t__field(\tint,\t\tqueue_index\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(name, dev->name);\n\t\t__assign_str(driver, netdev_drivername(dev));\n\t\t__entry->queue_index = queue_index;\n\t),\n\n\tTP_printk(\"dev=%s driver=%s queue=%d\",\n\t\t__get_str(name), __get_str(driver), __entry->queue_index)\n);\n\nDECLARE_EVENT_CLASS(net_dev_template,\n\n\tTP_PROTO(struct sk_buff *skb),\n\n\tTP_ARGS(skb),\n\n\tTP_STRUCT__entry(\n\t\t__field(\tvoid *,\t\tskbaddr\t\t)\n\t\t__field(\tunsigned int,\tlen\t\t)\n\t\t__string(\tname,\t\tskb->dev->name\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->skbaddr = skb;\n\t\t__entry->len = skb->len;\n\t\t__assign_str(name, skb->dev->name);\n\t),\n\n\tTP_printk(\"dev=%s skbaddr=%p len=%u\",\n\t\t__get_str(name), __entry->skbaddr, __entry->len)\n)\n\nDEFINE_EVENT(net_dev_template, net_dev_queue,\n\n\tTP_PROTO(struct sk_buff *skb),\n\n\tTP_ARGS(skb)\n);\n\nDEFINE_EVENT(net_dev_template, netif_receive_skb,\n\n\tTP_PROTO(struct sk_buff *skb),\n\n\tTP_ARGS(skb)\n);\n\nDEFINE_EVENT(net_dev_template, netif_rx,\n\n\tTP_PROTO(struct sk_buff *skb),\n\n\tTP_ARGS(skb)\n);\n\nDECLARE_EVENT_CLASS(net_dev_rx_verbose_template,\n\n\tTP_PROTO(const struct sk_buff *skb),\n\n\tTP_ARGS(skb),\n\n\tTP_STRUCT__entry(\n\t\t__string(\tname,\t\t\tskb->dev->name\t)\n\t\t__field(\tunsigned int,\t\tnapi_id\t\t)\n\t\t__field(\tu16,\t\t\tqueue_mapping\t)\n\t\t__field(\tconst void *,\t\tskbaddr\t\t)\n\t\t__field(\tbool,\t\t\tvlan_tagged\t)\n\t\t__field(\tu16,\t\t\tvlan_proto\t)\n\t\t__field(\tu16,\t\t\tvlan_tci\t)\n\t\t__field(\tu16,\t\t\tprotocol\t)\n\t\t__field(\tu8,\t\t\tip_summed\t)\n\t\t__field(\tu32,\t\t\thash\t\t)\n\t\t__field(\tbool,\t\t\tl4_hash\t\t)\n\t\t__field(\tunsigned int,\t\tlen\t\t)\n\t\t__field(\tunsigned int,\t\tdata_len\t)\n\t\t__field(\tunsigned int,\t\ttruesize\t)\n\t\t__field(\tbool,\t\t\tmac_header_valid)\n\t\t__field(\tint,\t\t\tmac_header\t)\n\t\t__field(\tunsigned char,\t\tnr_frags\t)\n\t\t__field(\tu16,\t\t\tgso_size\t)\n\t\t__field(\tu16,\t\t\tgso_type\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(name, skb->dev->name);\n#ifdef CONFIG_NET_RX_BUSY_POLL\n\t\t__entry->napi_id = skb->napi_id;\n#else\n\t\t__entry->napi_id = 0;\n#endif\n\t\t__entry->queue_mapping = skb->queue_mapping;\n\t\t__entry->skbaddr = skb;\n\t\t__entry->vlan_tagged = skb_vlan_tag_present(skb);\n\t\t__entry->vlan_proto = ntohs(skb->vlan_proto);\n\t\t__entry->vlan_tci = skb_vlan_tag_get(skb);\n\t\t__entry->protocol = ntohs(skb->protocol);\n\t\t__entry->ip_summed = skb->ip_summed;\n\t\t__entry->hash = skb->hash;\n\t\t__entry->l4_hash = skb->l4_hash;\n\t\t__entry->len = skb->len;\n\t\t__entry->data_len = skb->data_len;\n\t\t__entry->truesize = skb->truesize;\n\t\t__entry->mac_header_valid = skb_mac_header_was_set(skb);\n\t\t__entry->mac_header = skb_mac_header(skb) - skb->data;\n\t\t__entry->nr_frags = skb_shinfo(skb)->nr_frags;\n\t\t__entry->gso_size = skb_shinfo(skb)->gso_size;\n\t\t__entry->gso_type = skb_shinfo(skb)->gso_type;\n\t),\n\n\tTP_printk(\"dev=%s napi_id=%#x queue_mapping=%u skbaddr=%p vlan_tagged=%d vlan_proto=0x%04x vlan_tci=0x%04x protocol=0x%04x ip_summed=%d hash=0x%08x l4_hash=%d len=%u data_len=%u truesize=%u mac_header_valid=%d mac_header=%d nr_frags=%d gso_size=%d gso_type=%#x\",\n\t\t  __get_str(name), __entry->napi_id, __entry->queue_mapping,\n\t\t  __entry->skbaddr, __entry->vlan_tagged, __entry->vlan_proto,\n\t\t  __entry->vlan_tci, __entry->protocol, __entry->ip_summed,\n\t\t  __entry->hash, __entry->l4_hash, __entry->len,\n\t\t  __entry->data_len, __entry->truesize,\n\t\t  __entry->mac_header_valid, __entry->mac_header,\n\t\t  __entry->nr_frags, __entry->gso_size, __entry->gso_type)\n);\n\nDEFINE_EVENT(net_dev_rx_verbose_template, napi_gro_frags_entry,\n\n\tTP_PROTO(const struct sk_buff *skb),\n\n\tTP_ARGS(skb)\n);\n\nDEFINE_EVENT(net_dev_rx_verbose_template, napi_gro_receive_entry,\n\n\tTP_PROTO(const struct sk_buff *skb),\n\n\tTP_ARGS(skb)\n);\n\nDEFINE_EVENT(net_dev_rx_verbose_template, netif_receive_skb_entry,\n\n\tTP_PROTO(const struct sk_buff *skb),\n\n\tTP_ARGS(skb)\n);\n\nDEFINE_EVENT(net_dev_rx_verbose_template, netif_receive_skb_list_entry,\n\n\tTP_PROTO(const struct sk_buff *skb),\n\n\tTP_ARGS(skb)\n);\n\nDEFINE_EVENT(net_dev_rx_verbose_template, netif_rx_entry,\n\n\tTP_PROTO(const struct sk_buff *skb),\n\n\tTP_ARGS(skb)\n);\n\nDECLARE_EVENT_CLASS(net_dev_rx_exit_template,\n\n\tTP_PROTO(int ret),\n\n\tTP_ARGS(ret),\n\n\tTP_STRUCT__entry(\n\t\t__field(int,\tret)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->ret = ret;\n\t),\n\n\tTP_printk(\"ret=%d\", __entry->ret)\n);\n\nDEFINE_EVENT(net_dev_rx_exit_template, napi_gro_frags_exit,\n\n\tTP_PROTO(int ret),\n\n\tTP_ARGS(ret)\n);\n\nDEFINE_EVENT(net_dev_rx_exit_template, napi_gro_receive_exit,\n\n\tTP_PROTO(int ret),\n\n\tTP_ARGS(ret)\n);\n\nDEFINE_EVENT(net_dev_rx_exit_template, netif_receive_skb_exit,\n\n\tTP_PROTO(int ret),\n\n\tTP_ARGS(ret)\n);\n\nDEFINE_EVENT(net_dev_rx_exit_template, netif_rx_exit,\n\n\tTP_PROTO(int ret),\n\n\tTP_ARGS(ret)\n);\n\nDEFINE_EVENT(net_dev_rx_exit_template, netif_receive_skb_list_exit,\n\n\tTP_PROTO(int ret),\n\n\tTP_ARGS(ret)\n);\n\n#endif  \n\n \n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}