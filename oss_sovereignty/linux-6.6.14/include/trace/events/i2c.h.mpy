{
  "module_name": "i2c.h",
  "hash_id": "b0d4f1eced3e9b89997bc50eacf4d1c5d56fc4e9856cb7c90a643dd3b274eb43",
  "original_prompt": "Ingested from linux-6.6.14/include/trace/events/i2c.h",
  "human_readable_source": " \n \n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM i2c\n\n#if !defined(_TRACE_I2C_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _TRACE_I2C_H\n\n#include <linux/i2c.h>\n#include <linux/tracepoint.h>\n\n \nextern int i2c_transfer_trace_reg(void);\nextern void i2c_transfer_trace_unreg(void);\n\n \nTRACE_EVENT_FN(i2c_write,\n\t       TP_PROTO(const struct i2c_adapter *adap, const struct i2c_msg *msg,\n\t\t\tint num),\n\t       TP_ARGS(adap, msg, num),\n\t       TP_STRUCT__entry(\n\t\t       __field(int,\tadapter_nr\t\t)\n\t\t       __field(__u16,\tmsg_nr\t\t\t)\n\t\t       __field(__u16,\taddr\t\t\t)\n\t\t       __field(__u16,\tflags\t\t\t)\n\t\t       __field(__u16,\tlen\t\t\t)\n\t\t       __dynamic_array(__u8, buf, msg->len)\t),\n\t       TP_fast_assign(\n\t\t       __entry->adapter_nr = adap->nr;\n\t\t       __entry->msg_nr = num;\n\t\t       __entry->addr = msg->addr;\n\t\t       __entry->flags = msg->flags;\n\t\t       __entry->len = msg->len;\n\t\t       memcpy(__get_dynamic_array(buf), msg->buf, msg->len);\n\t\t\t      ),\n\t       TP_printk(\"i2c-%d #%u a=%03x f=%04x l=%u [%*phD]\",\n\t\t\t __entry->adapter_nr,\n\t\t\t __entry->msg_nr,\n\t\t\t __entry->addr,\n\t\t\t __entry->flags,\n\t\t\t __entry->len,\n\t\t\t __entry->len, __get_dynamic_array(buf)\n\t\t\t ),\n\t       i2c_transfer_trace_reg,\n\t       i2c_transfer_trace_unreg);\n\n \nTRACE_EVENT_FN(i2c_read,\n\t       TP_PROTO(const struct i2c_adapter *adap, const struct i2c_msg *msg,\n\t\t\tint num),\n\t       TP_ARGS(adap, msg, num),\n\t       TP_STRUCT__entry(\n\t\t       __field(int,\tadapter_nr\t\t)\n\t\t       __field(__u16,\tmsg_nr\t\t\t)\n\t\t       __field(__u16,\taddr\t\t\t)\n\t\t       __field(__u16,\tflags\t\t\t)\n\t\t       __field(__u16,\tlen\t\t\t)\n\t\t\t\t),\n\t       TP_fast_assign(\n\t\t       __entry->adapter_nr = adap->nr;\n\t\t       __entry->msg_nr = num;\n\t\t       __entry->addr = msg->addr;\n\t\t       __entry->flags = msg->flags;\n\t\t       __entry->len = msg->len;\n\t\t\t      ),\n\t       TP_printk(\"i2c-%d #%u a=%03x f=%04x l=%u\",\n\t\t\t __entry->adapter_nr,\n\t\t\t __entry->msg_nr,\n\t\t\t __entry->addr,\n\t\t\t __entry->flags,\n\t\t\t __entry->len\n\t\t\t ),\n\t       i2c_transfer_trace_reg,\n\t\t       i2c_transfer_trace_unreg);\n\n \nTRACE_EVENT_FN(i2c_reply,\n\t       TP_PROTO(const struct i2c_adapter *adap, const struct i2c_msg *msg,\n\t\t\tint num),\n\t       TP_ARGS(adap, msg, num),\n\t       TP_STRUCT__entry(\n\t\t       __field(int,\tadapter_nr\t\t)\n\t\t       __field(__u16,\tmsg_nr\t\t\t)\n\t\t       __field(__u16,\taddr\t\t\t)\n\t\t       __field(__u16,\tflags\t\t\t)\n\t\t       __field(__u16,\tlen\t\t\t)\n\t\t       __dynamic_array(__u8, buf, msg->len)\t),\n\t       TP_fast_assign(\n\t\t       __entry->adapter_nr = adap->nr;\n\t\t       __entry->msg_nr = num;\n\t\t       __entry->addr = msg->addr;\n\t\t       __entry->flags = msg->flags;\n\t\t       __entry->len = msg->len;\n\t\t       memcpy(__get_dynamic_array(buf), msg->buf, msg->len);\n\t\t\t      ),\n\t       TP_printk(\"i2c-%d #%u a=%03x f=%04x l=%u [%*phD]\",\n\t\t\t __entry->adapter_nr,\n\t\t\t __entry->msg_nr,\n\t\t\t __entry->addr,\n\t\t\t __entry->flags,\n\t\t\t __entry->len,\n\t\t\t __entry->len, __get_dynamic_array(buf)\n\t\t\t ),\n\t       i2c_transfer_trace_reg,\n\t       i2c_transfer_trace_unreg);\n\n \nTRACE_EVENT_FN(i2c_result,\n\t       TP_PROTO(const struct i2c_adapter *adap, int num, int ret),\n\t       TP_ARGS(adap, num, ret),\n\t       TP_STRUCT__entry(\n\t\t       __field(int,\tadapter_nr\t\t)\n\t\t       __field(__u16,\tnr_msgs\t\t\t)\n\t\t       __field(__s16,\tret\t\t\t)\n\t\t\t\t),\n\t       TP_fast_assign(\n\t\t       __entry->adapter_nr = adap->nr;\n\t\t       __entry->nr_msgs = num;\n\t\t       __entry->ret = ret;\n\t\t\t      ),\n\t       TP_printk(\"i2c-%d n=%u ret=%d\",\n\t\t\t __entry->adapter_nr,\n\t\t\t __entry->nr_msgs,\n\t\t\t __entry->ret\n\t\t\t ),\n\t       i2c_transfer_trace_reg,\n\t       i2c_transfer_trace_unreg);\n\n#endif  \n\n \n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}