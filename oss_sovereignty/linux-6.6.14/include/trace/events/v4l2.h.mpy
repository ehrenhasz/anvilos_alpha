{
  "module_name": "v4l2.h",
  "hash_id": "d74ab1befc8b13a69e2ae4f5b273d7872ece37b44f60ac2cf74f4bc8ae7c4301",
  "original_prompt": "Ingested from linux-6.6.14/include/trace/events/v4l2.h",
  "human_readable_source": " \n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM v4l2\n\n#if !defined(_TRACE_V4L2_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _TRACE_V4L2_H\n\n#include <linux/tracepoint.h>\n#include <media/videobuf2-v4l2.h>\n\n \n#undef EM\n#undef EMe\n#define EM(a, b)\tTRACE_DEFINE_ENUM(a);\n#define EMe(a, b)\tTRACE_DEFINE_ENUM(a);\n\n#define show_type(type)\t\t\t\t\t\t\t\\\n\t__print_symbolic(type, SHOW_TYPE)\n\n#define SHOW_TYPE\t\t\t\t\t\t\t\\\n\tEM( V4L2_BUF_TYPE_VIDEO_CAPTURE,\t\"VIDEO_CAPTURE\" )\t\\\n\tEM( V4L2_BUF_TYPE_VIDEO_OUTPUT,\t\t\"VIDEO_OUTPUT\" )\t\\\n\tEM( V4L2_BUF_TYPE_VIDEO_OVERLAY,\t\"VIDEO_OVERLAY\" )\t\\\n\tEM( V4L2_BUF_TYPE_VBI_CAPTURE,\t\t\"VBI_CAPTURE\" )\t\t\\\n\tEM( V4L2_BUF_TYPE_VBI_OUTPUT,\t\t\"VBI_OUTPUT\" )\t\t\\\n\tEM( V4L2_BUF_TYPE_SLICED_VBI_CAPTURE,   \"SLICED_VBI_CAPTURE\" )\t\\\n\tEM( V4L2_BUF_TYPE_SLICED_VBI_OUTPUT,    \"SLICED_VBI_OUTPUT\" )\t\\\n\tEM( V4L2_BUF_TYPE_VIDEO_OUTPUT_OVERLAY, \"VIDEO_OUTPUT_OVERLAY\" ) \\\n\tEM( V4L2_BUF_TYPE_VIDEO_CAPTURE_MPLANE, \"VIDEO_CAPTURE_MPLANE\" ) \\\n\tEM( V4L2_BUF_TYPE_VIDEO_OUTPUT_MPLANE,  \"VIDEO_OUTPUT_MPLANE\" )\t\\\n\tEM( V4L2_BUF_TYPE_SDR_CAPTURE,          \"SDR_CAPTURE\" )\t\t\\\n\tEM( V4L2_BUF_TYPE_SDR_OUTPUT,           \"SDR_OUTPUT\" )\t\t\\\n\tEM( V4L2_BUF_TYPE_META_CAPTURE,\t\t\"META_CAPTURE\" )\t\\\n\tEMe(V4L2_BUF_TYPE_PRIVATE,\t\t\"PRIVATE\" )\n\nSHOW_TYPE\n\n#define show_field(field)\t\t\t\t\t\t\\\n\t__print_symbolic(field, SHOW_FIELD)\n\n#define SHOW_FIELD\t\t\t\t\t\t\t\\\n\tEM( V4L2_FIELD_ANY,\t\t\"ANY\" )\t\t\t\t\\\n\tEM( V4L2_FIELD_NONE,\t\t\"NONE\" )\t\t\t\\\n\tEM( V4L2_FIELD_TOP,\t\t\"TOP\" )\t\t\t\t\\\n\tEM( V4L2_FIELD_BOTTOM,\t\t\"BOTTOM\" )\t\t\t\\\n\tEM( V4L2_FIELD_INTERLACED,\t\"INTERLACED\" )\t\t\t\\\n\tEM( V4L2_FIELD_SEQ_TB,\t\t\"SEQ_TB\" )\t\t\t\\\n\tEM( V4L2_FIELD_SEQ_BT,\t\t\"SEQ_BT\" )\t\t\t\\\n\tEM( V4L2_FIELD_ALTERNATE,\t\"ALTERNATE\" )\t\t\t\\\n\tEM( V4L2_FIELD_INTERLACED_TB,\t\"INTERLACED_TB\" )\t\t\\\n\tEMe( V4L2_FIELD_INTERLACED_BT,\t\"INTERLACED_BT\" )\n\nSHOW_FIELD\n\n \n#undef EM\n#undef EMe\n#define EM(a, b)\t{a, b},\n#define EMe(a, b)\t{a, b}\n\n \n\n#define show_timecode_type(type)\t\t\t\t\t\\\n\t__print_symbolic(type,\t\t\t\t\t\t\\\n\t\t{ V4L2_TC_TYPE_24FPS,\t\t\"24FPS\" },\t\t\\\n\t\t{ V4L2_TC_TYPE_25FPS,\t\t\"25FPS\" },\t\t\\\n\t\t{ V4L2_TC_TYPE_30FPS,\t\t\"30FPS\" },\t\t\\\n\t\t{ V4L2_TC_TYPE_50FPS,\t\t\"50FPS\" },\t\t\\\n\t\t{ V4L2_TC_TYPE_60FPS,\t\t\"60FPS\" })\n\n#define show_flags(flags)\t\t\t\t\t\t      \\\n\t__print_flags(flags, \"|\",\t\t\t\t\t      \\\n\t\t{ V4L2_BUF_FLAG_MAPPED,\t\t     \"MAPPED\" },\t      \\\n\t\t{ V4L2_BUF_FLAG_QUEUED,\t\t     \"QUEUED\" },\t      \\\n\t\t{ V4L2_BUF_FLAG_DONE,\t\t     \"DONE\" },\t\t      \\\n\t\t{ V4L2_BUF_FLAG_KEYFRAME,\t     \"KEYFRAME\" },\t      \\\n\t\t{ V4L2_BUF_FLAG_PFRAME,\t\t     \"PFRAME\" },\t      \\\n\t\t{ V4L2_BUF_FLAG_BFRAME,\t\t     \"BFRAME\" },\t      \\\n\t\t{ V4L2_BUF_FLAG_ERROR,\t\t     \"ERROR\" },\t\t      \\\n\t\t{ V4L2_BUF_FLAG_TIMECODE,\t     \"TIMECODE\" },\t      \\\n\t\t{ V4L2_BUF_FLAG_PREPARED,\t     \"PREPARED\" },\t      \\\n\t\t{ V4L2_BUF_FLAG_NO_CACHE_INVALIDATE, \"NO_CACHE_INVALIDATE\" }, \\\n\t\t{ V4L2_BUF_FLAG_NO_CACHE_CLEAN,\t     \"NO_CACHE_CLEAN\" },      \\\n\t\t{ V4L2_BUF_FLAG_TIMESTAMP_MASK,\t     \"TIMESTAMP_MASK\" },      \\\n\t\t{ V4L2_BUF_FLAG_TIMESTAMP_UNKNOWN,   \"TIMESTAMP_UNKNOWN\" },   \\\n\t\t{ V4L2_BUF_FLAG_TIMESTAMP_MONOTONIC, \"TIMESTAMP_MONOTONIC\" }, \\\n\t\t{ V4L2_BUF_FLAG_TIMESTAMP_COPY,\t     \"TIMESTAMP_COPY\" },      \\\n\t\t{ V4L2_BUF_FLAG_LAST,                \"LAST\" })\n\n#define show_timecode_flags(flags)\t\t\t\t\t  \\\n\t__print_flags(flags, \"|\",\t\t\t\t\t  \\\n\t\t{ V4L2_TC_FLAG_DROPFRAME,       \"DROPFRAME\" },\t\t  \\\n\t\t{ V4L2_TC_FLAG_COLORFRAME,      \"COLORFRAME\" },\t\t  \\\n\t\t{ V4L2_TC_USERBITS_USERDEFINED,\t\"USERBITS_USERDEFINED\" }, \\\n\t\t{ V4L2_TC_USERBITS_8BITCHARS,\t\"USERBITS_8BITCHARS\" })\n\nDECLARE_EVENT_CLASS(v4l2_event_class,\n\tTP_PROTO(int minor, struct v4l2_buffer *buf),\n\n\tTP_ARGS(minor, buf),\n\n\tTP_STRUCT__entry(\n\t\t__field(int, minor)\n\t\t__field(u32, index)\n\t\t__field(u32, type)\n\t\t__field(u32, bytesused)\n\t\t__field(u32, flags)\n\t\t__field(u32, field)\n\t\t__field(s64, timestamp)\n\t\t__field(u32, timecode_type)\n\t\t__field(u32, timecode_flags)\n\t\t__field(u8, timecode_frames)\n\t\t__field(u8, timecode_seconds)\n\t\t__field(u8, timecode_minutes)\n\t\t__field(u8, timecode_hours)\n\t\t__field(u8, timecode_userbits0)\n\t\t__field(u8, timecode_userbits1)\n\t\t__field(u8, timecode_userbits2)\n\t\t__field(u8, timecode_userbits3)\n\t\t__field(u32, sequence)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->minor = minor;\n\t\t__entry->index = buf->index;\n\t\t__entry->type = buf->type;\n\t\t__entry->bytesused = buf->bytesused;\n\t\t__entry->flags = buf->flags;\n\t\t__entry->field = buf->field;\n\t\t__entry->timestamp = v4l2_buffer_get_timestamp(buf);\n\t\t__entry->timecode_type = buf->timecode.type;\n\t\t__entry->timecode_flags = buf->timecode.flags;\n\t\t__entry->timecode_frames = buf->timecode.frames;\n\t\t__entry->timecode_seconds = buf->timecode.seconds;\n\t\t__entry->timecode_minutes = buf->timecode.minutes;\n\t\t__entry->timecode_hours = buf->timecode.hours;\n\t\t__entry->timecode_userbits0 = buf->timecode.userbits[0];\n\t\t__entry->timecode_userbits1 = buf->timecode.userbits[1];\n\t\t__entry->timecode_userbits2 = buf->timecode.userbits[2];\n\t\t__entry->timecode_userbits3 = buf->timecode.userbits[3];\n\t\t__entry->sequence = buf->sequence;\n\t),\n\n\tTP_printk(\"minor = %d, index = %u, type = %s, bytesused = %u, \"\n\t\t  \"flags = %s, field = %s, timestamp = %llu, \"\n\t\t  \"timecode = { type = %s, flags = %s, frames = %u, \"\n\t\t  \"seconds = %u, minutes = %u, hours = %u, \"\n\t\t  \"userbits = { %u %u %u %u } }, sequence = %u\", __entry->minor,\n\t\t  __entry->index, show_type(__entry->type),\n\t\t  __entry->bytesused,\n\t\t  show_flags(__entry->flags),\n\t\t  show_field(__entry->field),\n\t\t  __entry->timestamp,\n\t\t  show_timecode_type(__entry->timecode_type),\n\t\t  show_timecode_flags(__entry->timecode_flags),\n\t\t  __entry->timecode_frames,\n\t\t  __entry->timecode_seconds,\n\t\t  __entry->timecode_minutes,\n\t\t  __entry->timecode_hours,\n\t\t  __entry->timecode_userbits0,\n\t\t  __entry->timecode_userbits1,\n\t\t  __entry->timecode_userbits2,\n\t\t  __entry->timecode_userbits3,\n\t\t  __entry->sequence\n\t)\n)\n\nDEFINE_EVENT(v4l2_event_class, v4l2_dqbuf,\n\tTP_PROTO(int minor, struct v4l2_buffer *buf),\n\tTP_ARGS(minor, buf)\n);\n\nDEFINE_EVENT(v4l2_event_class, v4l2_qbuf,\n\tTP_PROTO(int minor, struct v4l2_buffer *buf),\n\tTP_ARGS(minor, buf)\n);\n\nDECLARE_EVENT_CLASS(vb2_v4l2_event_class,\n\tTP_PROTO(struct vb2_queue *q, struct vb2_buffer *vb),\n\tTP_ARGS(q, vb),\n\n\tTP_STRUCT__entry(\n\t\t__field(int, minor)\n\t\t__field(u32, flags)\n\t\t__field(u32, field)\n\t\t__field(u64, timestamp)\n\t\t__field(u32, timecode_type)\n\t\t__field(u32, timecode_flags)\n\t\t__field(u8, timecode_frames)\n\t\t__field(u8, timecode_seconds)\n\t\t__field(u8, timecode_minutes)\n\t\t__field(u8, timecode_hours)\n\t\t__field(u8, timecode_userbits0)\n\t\t__field(u8, timecode_userbits1)\n\t\t__field(u8, timecode_userbits2)\n\t\t__field(u8, timecode_userbits3)\n\t\t__field(u32, sequence)\n\t),\n\n\tTP_fast_assign(\n\t\tstruct vb2_v4l2_buffer *vbuf = to_vb2_v4l2_buffer(vb);\n\t\tstruct v4l2_fh *owner = q->owner;\n\n\t\t__entry->minor = owner ? owner->vdev->minor : -1;\n\t\t__entry->flags = vbuf->flags;\n\t\t__entry->field = vbuf->field;\n\t\t__entry->timestamp = vb->timestamp;\n\t\t__entry->timecode_type = vbuf->timecode.type;\n\t\t__entry->timecode_flags = vbuf->timecode.flags;\n\t\t__entry->timecode_frames = vbuf->timecode.frames;\n\t\t__entry->timecode_seconds = vbuf->timecode.seconds;\n\t\t__entry->timecode_minutes = vbuf->timecode.minutes;\n\t\t__entry->timecode_hours = vbuf->timecode.hours;\n\t\t__entry->timecode_userbits0 = vbuf->timecode.userbits[0];\n\t\t__entry->timecode_userbits1 = vbuf->timecode.userbits[1];\n\t\t__entry->timecode_userbits2 = vbuf->timecode.userbits[2];\n\t\t__entry->timecode_userbits3 = vbuf->timecode.userbits[3];\n\t\t__entry->sequence = vbuf->sequence;\n\t),\n\n\tTP_printk(\"minor=%d flags = %s, field = %s, \"\n\t\t  \"timestamp = %llu, timecode = { type = %s, flags = %s, \"\n\t\t  \"frames = %u, seconds = %u, minutes = %u, hours = %u, \"\n\t\t  \"userbits = { %u %u %u %u } }, sequence = %u\", __entry->minor,\n\t\t  show_flags(__entry->flags),\n\t\t  show_field(__entry->field),\n\t\t  __entry->timestamp,\n\t\t  show_timecode_type(__entry->timecode_type),\n\t\t  show_timecode_flags(__entry->timecode_flags),\n\t\t  __entry->timecode_frames,\n\t\t  __entry->timecode_seconds,\n\t\t  __entry->timecode_minutes,\n\t\t  __entry->timecode_hours,\n\t\t  __entry->timecode_userbits0,\n\t\t  __entry->timecode_userbits1,\n\t\t  __entry->timecode_userbits2,\n\t\t  __entry->timecode_userbits3,\n\t\t  __entry->sequence\n\t)\n)\n\nDEFINE_EVENT(vb2_v4l2_event_class, vb2_v4l2_buf_done,\n\tTP_PROTO(struct vb2_queue *q, struct vb2_buffer *vb),\n\tTP_ARGS(q, vb)\n);\n\nDEFINE_EVENT(vb2_v4l2_event_class, vb2_v4l2_buf_queue,\n\tTP_PROTO(struct vb2_queue *q, struct vb2_buffer *vb),\n\tTP_ARGS(q, vb)\n);\n\nDEFINE_EVENT(vb2_v4l2_event_class, vb2_v4l2_dqbuf,\n\tTP_PROTO(struct vb2_queue *q, struct vb2_buffer *vb),\n\tTP_ARGS(q, vb)\n);\n\nDEFINE_EVENT(vb2_v4l2_event_class, vb2_v4l2_qbuf,\n\tTP_PROTO(struct vb2_queue *q, struct vb2_buffer *vb),\n\tTP_ARGS(q, vb)\n);\n\n#endif  \n\n \n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}