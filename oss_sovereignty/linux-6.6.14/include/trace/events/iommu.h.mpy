{
  "module_name": "iommu.h",
  "hash_id": "8d431b8450ade3cd41040ceb37a75b2044d78e1ff36a7493496c496c5ebd510a",
  "original_prompt": "Ingested from linux-6.6.14/include/trace/events/iommu.h",
  "human_readable_source": " \n \n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM iommu\n\n#if !defined(_TRACE_IOMMU_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _TRACE_IOMMU_H\n\n#include <linux/tracepoint.h>\n\nstruct device;\n\nDECLARE_EVENT_CLASS(iommu_group_event,\n\n\tTP_PROTO(int group_id, struct device *dev),\n\n\tTP_ARGS(group_id, dev),\n\n\tTP_STRUCT__entry(\n\t\t__field(int, gid)\n\t\t__string(device, dev_name(dev))\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->gid = group_id;\n\t\t__assign_str(device, dev_name(dev));\n\t),\n\n\tTP_printk(\"IOMMU: groupID=%d device=%s\",\n\t\t\t__entry->gid, __get_str(device)\n\t)\n);\n\nDEFINE_EVENT(iommu_group_event, add_device_to_group,\n\n\tTP_PROTO(int group_id, struct device *dev),\n\n\tTP_ARGS(group_id, dev)\n\n);\n\nDEFINE_EVENT(iommu_group_event, remove_device_from_group,\n\n\tTP_PROTO(int group_id, struct device *dev),\n\n\tTP_ARGS(group_id, dev)\n);\n\nDECLARE_EVENT_CLASS(iommu_device_event,\n\n\tTP_PROTO(struct device *dev),\n\n\tTP_ARGS(dev),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(dev))\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(dev));\n\t),\n\n\tTP_printk(\"IOMMU: device=%s\", __get_str(device)\n\t)\n);\n\nDEFINE_EVENT(iommu_device_event, attach_device_to_domain,\n\n\tTP_PROTO(struct device *dev),\n\n\tTP_ARGS(dev)\n);\n\nTRACE_EVENT(map,\n\n\tTP_PROTO(unsigned long iova, phys_addr_t paddr, size_t size),\n\n\tTP_ARGS(iova, paddr, size),\n\n\tTP_STRUCT__entry(\n\t\t__field(u64, iova)\n\t\t__field(u64, paddr)\n\t\t__field(size_t, size)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->iova = iova;\n\t\t__entry->paddr = paddr;\n\t\t__entry->size = size;\n\t),\n\n\tTP_printk(\"IOMMU: iova=0x%016llx - 0x%016llx paddr=0x%016llx size=%zu\",\n\t\t  __entry->iova, __entry->iova + __entry->size, __entry->paddr,\n\t\t  __entry->size\n\t)\n);\n\nTRACE_EVENT(unmap,\n\n\tTP_PROTO(unsigned long iova, size_t size, size_t unmapped_size),\n\n\tTP_ARGS(iova, size, unmapped_size),\n\n\tTP_STRUCT__entry(\n\t\t__field(u64, iova)\n\t\t__field(size_t, size)\n\t\t__field(size_t, unmapped_size)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->iova = iova;\n\t\t__entry->size = size;\n\t\t__entry->unmapped_size = unmapped_size;\n\t),\n\n\tTP_printk(\"IOMMU: iova=0x%016llx - 0x%016llx size=%zu unmapped_size=%zu\",\n\t\t  __entry->iova, __entry->iova + __entry->size,\n\t\t  __entry->size, __entry->unmapped_size\n\t)\n);\n\nDECLARE_EVENT_CLASS(iommu_error,\n\n\tTP_PROTO(struct device *dev, unsigned long iova, int flags),\n\n\tTP_ARGS(dev, iova, flags),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(dev))\n\t\t__string(driver, dev_driver_string(dev))\n\t\t__field(u64, iova)\n\t\t__field(int, flags)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(dev));\n\t\t__assign_str(driver, dev_driver_string(dev));\n\t\t__entry->iova = iova;\n\t\t__entry->flags = flags;\n\t),\n\n\tTP_printk(\"IOMMU:%s %s iova=0x%016llx flags=0x%04x\",\n\t\t\t__get_str(driver), __get_str(device),\n\t\t\t__entry->iova, __entry->flags\n\t)\n);\n\nDEFINE_EVENT(iommu_error, io_page_fault,\n\n\tTP_PROTO(struct device *dev, unsigned long iova, int flags),\n\n\tTP_ARGS(dev, iova, flags)\n);\n#endif  \n\n \n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}