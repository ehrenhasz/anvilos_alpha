{
  "module_name": "power.h",
  "hash_id": "8d47f251afdeb436e5d583e991d44676c7603440e7d93e57bd926351535c32aa",
  "original_prompt": "Ingested from linux-6.6.14/include/trace/events/power.h",
  "human_readable_source": " \n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM power\n\n#if !defined(_TRACE_POWER_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _TRACE_POWER_H\n\n#include <linux/cpufreq.h>\n#include <linux/ktime.h>\n#include <linux/pm_qos.h>\n#include <linux/tracepoint.h>\n#include <linux/trace_events.h>\n\n#define TPS(x)  tracepoint_string(x)\n\nDECLARE_EVENT_CLASS(cpu,\n\n\tTP_PROTO(unsigned int state, unsigned int cpu_id),\n\n\tTP_ARGS(state, cpu_id),\n\n\tTP_STRUCT__entry(\n\t\t__field(\tu32,\t\tstate\t\t)\n\t\t__field(\tu32,\t\tcpu_id\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->state = state;\n\t\t__entry->cpu_id = cpu_id;\n\t),\n\n\tTP_printk(\"state=%lu cpu_id=%lu\", (unsigned long)__entry->state,\n\t\t  (unsigned long)__entry->cpu_id)\n);\n\nDEFINE_EVENT(cpu, cpu_idle,\n\n\tTP_PROTO(unsigned int state, unsigned int cpu_id),\n\n\tTP_ARGS(state, cpu_id)\n);\n\nTRACE_EVENT(cpu_idle_miss,\n\n\tTP_PROTO(unsigned int cpu_id, unsigned int state, bool below),\n\n\tTP_ARGS(cpu_id, state, below),\n\n\tTP_STRUCT__entry(\n\t\t__field(u32,\t\tcpu_id)\n\t\t__field(u32,\t\tstate)\n\t\t__field(bool,\t\tbelow)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->cpu_id = cpu_id;\n\t\t__entry->state = state;\n\t\t__entry->below = below;\n\t),\n\n\tTP_printk(\"cpu_id=%lu state=%lu type=%s\", (unsigned long)__entry->cpu_id,\n\t\t(unsigned long)__entry->state, (__entry->below)?\"below\":\"above\")\n);\n\nTRACE_EVENT(powernv_throttle,\n\n\tTP_PROTO(int chip_id, const char *reason, int pmax),\n\n\tTP_ARGS(chip_id, reason, pmax),\n\n\tTP_STRUCT__entry(\n\t\t__field(int, chip_id)\n\t\t__string(reason, reason)\n\t\t__field(int, pmax)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->chip_id = chip_id;\n\t\t__assign_str(reason, reason);\n\t\t__entry->pmax = pmax;\n\t),\n\n\tTP_printk(\"Chip %d Pmax %d %s\", __entry->chip_id,\n\t\t  __entry->pmax, __get_str(reason))\n);\n\nTRACE_EVENT(pstate_sample,\n\n\tTP_PROTO(u32 core_busy,\n\t\tu32 scaled_busy,\n\t\tu32 from,\n\t\tu32 to,\n\t\tu64 mperf,\n\t\tu64 aperf,\n\t\tu64 tsc,\n\t\tu32 freq,\n\t\tu32 io_boost\n\t\t),\n\n\tTP_ARGS(core_busy,\n\t\tscaled_busy,\n\t\tfrom,\n\t\tto,\n\t\tmperf,\n\t\taperf,\n\t\ttsc,\n\t\tfreq,\n\t\tio_boost\n\t\t),\n\n\tTP_STRUCT__entry(\n\t\t__field(u32, core_busy)\n\t\t__field(u32, scaled_busy)\n\t\t__field(u32, from)\n\t\t__field(u32, to)\n\t\t__field(u64, mperf)\n\t\t__field(u64, aperf)\n\t\t__field(u64, tsc)\n\t\t__field(u32, freq)\n\t\t__field(u32, io_boost)\n\t\t),\n\n\tTP_fast_assign(\n\t\t__entry->core_busy = core_busy;\n\t\t__entry->scaled_busy = scaled_busy;\n\t\t__entry->from = from;\n\t\t__entry->to = to;\n\t\t__entry->mperf = mperf;\n\t\t__entry->aperf = aperf;\n\t\t__entry->tsc = tsc;\n\t\t__entry->freq = freq;\n\t\t__entry->io_boost = io_boost;\n\t\t),\n\n\tTP_printk(\"core_busy=%lu scaled=%lu from=%lu to=%lu mperf=%llu aperf=%llu tsc=%llu freq=%lu io_boost=%lu\",\n\t\t(unsigned long)__entry->core_busy,\n\t\t(unsigned long)__entry->scaled_busy,\n\t\t(unsigned long)__entry->from,\n\t\t(unsigned long)__entry->to,\n\t\t(unsigned long long)__entry->mperf,\n\t\t(unsigned long long)__entry->aperf,\n\t\t(unsigned long long)__entry->tsc,\n\t\t(unsigned long)__entry->freq,\n\t\t(unsigned long)__entry->io_boost\n\t\t)\n\n);\n\n \n#ifndef _PWR_EVENT_AVOID_DOUBLE_DEFINING\n#define _PWR_EVENT_AVOID_DOUBLE_DEFINING\n\n#define PWR_EVENT_EXIT -1\n#endif\n\n#define pm_verb_symbolic(event) \\\n\t__print_symbolic(event, \\\n\t\t{ PM_EVENT_SUSPEND, \"suspend\" }, \\\n\t\t{ PM_EVENT_RESUME, \"resume\" }, \\\n\t\t{ PM_EVENT_FREEZE, \"freeze\" }, \\\n\t\t{ PM_EVENT_QUIESCE, \"quiesce\" }, \\\n\t\t{ PM_EVENT_HIBERNATE, \"hibernate\" }, \\\n\t\t{ PM_EVENT_THAW, \"thaw\" }, \\\n\t\t{ PM_EVENT_RESTORE, \"restore\" }, \\\n\t\t{ PM_EVENT_RECOVER, \"recover\" })\n\nDEFINE_EVENT(cpu, cpu_frequency,\n\n\tTP_PROTO(unsigned int frequency, unsigned int cpu_id),\n\n\tTP_ARGS(frequency, cpu_id)\n);\n\nTRACE_EVENT(cpu_frequency_limits,\n\n\tTP_PROTO(struct cpufreq_policy *policy),\n\n\tTP_ARGS(policy),\n\n\tTP_STRUCT__entry(\n\t\t__field(u32, min_freq)\n\t\t__field(u32, max_freq)\n\t\t__field(u32, cpu_id)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->min_freq = policy->min;\n\t\t__entry->max_freq = policy->max;\n\t\t__entry->cpu_id = policy->cpu;\n\t),\n\n\tTP_printk(\"min=%lu max=%lu cpu_id=%lu\",\n\t\t  (unsigned long)__entry->min_freq,\n\t\t  (unsigned long)__entry->max_freq,\n\t\t  (unsigned long)__entry->cpu_id)\n);\n\nTRACE_EVENT(device_pm_callback_start,\n\n\tTP_PROTO(struct device *dev, const char *pm_ops, int event),\n\n\tTP_ARGS(dev, pm_ops, event),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(dev))\n\t\t__string(driver, dev_driver_string(dev))\n\t\t__string(parent, dev->parent ? dev_name(dev->parent) : \"none\")\n\t\t__string(pm_ops, pm_ops ? pm_ops : \"none \")\n\t\t__field(int, event)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(dev));\n\t\t__assign_str(driver, dev_driver_string(dev));\n\t\t__assign_str(parent,\n\t\t\tdev->parent ? dev_name(dev->parent) : \"none\");\n\t\t__assign_str(pm_ops, pm_ops ? pm_ops : \"none \");\n\t\t__entry->event = event;\n\t),\n\n\tTP_printk(\"%s %s, parent: %s, %s[%s]\", __get_str(driver),\n\t\t__get_str(device), __get_str(parent), __get_str(pm_ops),\n\t\tpm_verb_symbolic(__entry->event))\n);\n\nTRACE_EVENT(device_pm_callback_end,\n\n\tTP_PROTO(struct device *dev, int error),\n\n\tTP_ARGS(dev, error),\n\n\tTP_STRUCT__entry(\n\t\t__string(device, dev_name(dev))\n\t\t__string(driver, dev_driver_string(dev))\n\t\t__field(int, error)\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(device, dev_name(dev));\n\t\t__assign_str(driver, dev_driver_string(dev));\n\t\t__entry->error = error;\n\t),\n\n\tTP_printk(\"%s %s, err=%d\",\n\t\t__get_str(driver), __get_str(device), __entry->error)\n);\n\nTRACE_EVENT(suspend_resume,\n\n\tTP_PROTO(const char *action, int val, bool start),\n\n\tTP_ARGS(action, val, start),\n\n\tTP_STRUCT__entry(\n\t\t__field(const char *, action)\n\t\t__field(int, val)\n\t\t__field(bool, start)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->action = action;\n\t\t__entry->val = val;\n\t\t__entry->start = start;\n\t),\n\n\tTP_printk(\"%s[%u] %s\", __entry->action, (unsigned int)__entry->val,\n\t\t(__entry->start)?\"begin\":\"end\")\n);\n\nDECLARE_EVENT_CLASS(wakeup_source,\n\n\tTP_PROTO(const char *name, unsigned int state),\n\n\tTP_ARGS(name, state),\n\n\tTP_STRUCT__entry(\n\t\t__string(       name,           name            )\n\t\t__field(        u64,            state           )\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(name, name);\n\t\t__entry->state = state;\n\t),\n\n\tTP_printk(\"%s state=0x%lx\", __get_str(name),\n\t\t(unsigned long)__entry->state)\n);\n\nDEFINE_EVENT(wakeup_source, wakeup_source_activate,\n\n\tTP_PROTO(const char *name, unsigned int state),\n\n\tTP_ARGS(name, state)\n);\n\nDEFINE_EVENT(wakeup_source, wakeup_source_deactivate,\n\n\tTP_PROTO(const char *name, unsigned int state),\n\n\tTP_ARGS(name, state)\n);\n\n \nDECLARE_EVENT_CLASS(clock,\n\n\tTP_PROTO(const char *name, unsigned int state, unsigned int cpu_id),\n\n\tTP_ARGS(name, state, cpu_id),\n\n\tTP_STRUCT__entry(\n\t\t__string(       name,           name            )\n\t\t__field(        u64,            state           )\n\t\t__field(        u64,            cpu_id          )\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(name, name);\n\t\t__entry->state = state;\n\t\t__entry->cpu_id = cpu_id;\n\t),\n\n\tTP_printk(\"%s state=%lu cpu_id=%lu\", __get_str(name),\n\t\t(unsigned long)__entry->state, (unsigned long)__entry->cpu_id)\n);\n\nDEFINE_EVENT(clock, clock_enable,\n\n\tTP_PROTO(const char *name, unsigned int state, unsigned int cpu_id),\n\n\tTP_ARGS(name, state, cpu_id)\n);\n\nDEFINE_EVENT(clock, clock_disable,\n\n\tTP_PROTO(const char *name, unsigned int state, unsigned int cpu_id),\n\n\tTP_ARGS(name, state, cpu_id)\n);\n\nDEFINE_EVENT(clock, clock_set_rate,\n\n\tTP_PROTO(const char *name, unsigned int state, unsigned int cpu_id),\n\n\tTP_ARGS(name, state, cpu_id)\n);\n\n \nDECLARE_EVENT_CLASS(power_domain,\n\n\tTP_PROTO(const char *name, unsigned int state, unsigned int cpu_id),\n\n\tTP_ARGS(name, state, cpu_id),\n\n\tTP_STRUCT__entry(\n\t\t__string(       name,           name            )\n\t\t__field(        u64,            state           )\n\t\t__field(        u64,            cpu_id          )\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(name, name);\n\t\t__entry->state = state;\n\t\t__entry->cpu_id = cpu_id;\n),\n\n\tTP_printk(\"%s state=%lu cpu_id=%lu\", __get_str(name),\n\t\t(unsigned long)__entry->state, (unsigned long)__entry->cpu_id)\n);\n\nDEFINE_EVENT(power_domain, power_domain_target,\n\n\tTP_PROTO(const char *name, unsigned int state, unsigned int cpu_id),\n\n\tTP_ARGS(name, state, cpu_id)\n);\n\n \nDECLARE_EVENT_CLASS(cpu_latency_qos_request,\n\n\tTP_PROTO(s32 value),\n\n\tTP_ARGS(value),\n\n\tTP_STRUCT__entry(\n\t\t__field( s32,                    value          )\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->value = value;\n\t),\n\n\tTP_printk(\"CPU_DMA_LATENCY value=%d\",\n\t\t  __entry->value)\n);\n\nDEFINE_EVENT(cpu_latency_qos_request, pm_qos_add_request,\n\n\tTP_PROTO(s32 value),\n\n\tTP_ARGS(value)\n);\n\nDEFINE_EVENT(cpu_latency_qos_request, pm_qos_update_request,\n\n\tTP_PROTO(s32 value),\n\n\tTP_ARGS(value)\n);\n\nDEFINE_EVENT(cpu_latency_qos_request, pm_qos_remove_request,\n\n\tTP_PROTO(s32 value),\n\n\tTP_ARGS(value)\n);\n\n \nDECLARE_EVENT_CLASS(pm_qos_update,\n\n\tTP_PROTO(enum pm_qos_req_action action, int prev_value, int curr_value),\n\n\tTP_ARGS(action, prev_value, curr_value),\n\n\tTP_STRUCT__entry(\n\t\t__field( enum pm_qos_req_action, action         )\n\t\t__field( int,                    prev_value     )\n\t\t__field( int,                    curr_value     )\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->action = action;\n\t\t__entry->prev_value = prev_value;\n\t\t__entry->curr_value = curr_value;\n\t),\n\n\tTP_printk(\"action=%s prev_value=%d curr_value=%d\",\n\t\t  __print_symbolic(__entry->action,\n\t\t\t{ PM_QOS_ADD_REQ,\t\"ADD_REQ\" },\n\t\t\t{ PM_QOS_UPDATE_REQ,\t\"UPDATE_REQ\" },\n\t\t\t{ PM_QOS_REMOVE_REQ,\t\"REMOVE_REQ\" }),\n\t\t  __entry->prev_value, __entry->curr_value)\n);\n\nDEFINE_EVENT(pm_qos_update, pm_qos_update_target,\n\n\tTP_PROTO(enum pm_qos_req_action action, int prev_value, int curr_value),\n\n\tTP_ARGS(action, prev_value, curr_value)\n);\n\nDEFINE_EVENT_PRINT(pm_qos_update, pm_qos_update_flags,\n\n\tTP_PROTO(enum pm_qos_req_action action, int prev_value, int curr_value),\n\n\tTP_ARGS(action, prev_value, curr_value),\n\n\tTP_printk(\"action=%s prev_value=0x%x curr_value=0x%x\",\n\t\t  __print_symbolic(__entry->action,\n\t\t\t{ PM_QOS_ADD_REQ,\t\"ADD_REQ\" },\n\t\t\t{ PM_QOS_UPDATE_REQ,\t\"UPDATE_REQ\" },\n\t\t\t{ PM_QOS_REMOVE_REQ,\t\"REMOVE_REQ\" }),\n\t\t  __entry->prev_value, __entry->curr_value)\n);\n\nDECLARE_EVENT_CLASS(dev_pm_qos_request,\n\n\tTP_PROTO(const char *name, enum dev_pm_qos_req_type type,\n\t\t s32 new_value),\n\n\tTP_ARGS(name, type, new_value),\n\n\tTP_STRUCT__entry(\n\t\t__string( name,                    name         )\n\t\t__field( enum dev_pm_qos_req_type, type         )\n\t\t__field( s32,                      new_value    )\n\t),\n\n\tTP_fast_assign(\n\t\t__assign_str(name, name);\n\t\t__entry->type = type;\n\t\t__entry->new_value = new_value;\n\t),\n\n\tTP_printk(\"device=%s type=%s new_value=%d\",\n\t\t  __get_str(name),\n\t\t  __print_symbolic(__entry->type,\n\t\t\t{ DEV_PM_QOS_RESUME_LATENCY, \"DEV_PM_QOS_RESUME_LATENCY\" },\n\t\t\t{ DEV_PM_QOS_FLAGS, \"DEV_PM_QOS_FLAGS\" }),\n\t\t  __entry->new_value)\n);\n\nDEFINE_EVENT(dev_pm_qos_request, dev_pm_qos_add_request,\n\n\tTP_PROTO(const char *name, enum dev_pm_qos_req_type type,\n\t\t s32 new_value),\n\n\tTP_ARGS(name, type, new_value)\n);\n\nDEFINE_EVENT(dev_pm_qos_request, dev_pm_qos_update_request,\n\n\tTP_PROTO(const char *name, enum dev_pm_qos_req_type type,\n\t\t s32 new_value),\n\n\tTP_ARGS(name, type, new_value)\n);\n\nDEFINE_EVENT(dev_pm_qos_request, dev_pm_qos_remove_request,\n\n\tTP_PROTO(const char *name, enum dev_pm_qos_req_type type,\n\t\t s32 new_value),\n\n\tTP_ARGS(name, type, new_value)\n);\n\nTRACE_EVENT(guest_halt_poll_ns,\n\n\tTP_PROTO(bool grow, unsigned int new, unsigned int old),\n\n\tTP_ARGS(grow, new, old),\n\n\tTP_STRUCT__entry(\n\t\t__field(bool, grow)\n\t\t__field(unsigned int, new)\n\t\t__field(unsigned int, old)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->grow   = grow;\n\t\t__entry->new    = new;\n\t\t__entry->old    = old;\n\t),\n\n\tTP_printk(\"halt_poll_ns %u (%s %u)\",\n\t\t__entry->new,\n\t\t__entry->grow ? \"grow\" : \"shrink\",\n\t\t__entry->old)\n);\n\n#define trace_guest_halt_poll_ns_grow(new, old) \\\n\ttrace_guest_halt_poll_ns(true, new, old)\n#define trace_guest_halt_poll_ns_shrink(new, old) \\\n\ttrace_guest_halt_poll_ns(false, new, old)\n#endif  \n\n \n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}