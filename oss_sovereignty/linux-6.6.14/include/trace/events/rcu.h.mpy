{
  "module_name": "rcu.h",
  "hash_id": "bcde2b170f89d488d8d6fe1f36f351ceb8a6a701a766bfae92da77be58af6644",
  "original_prompt": "Ingested from linux-6.6.14/include/trace/events/rcu.h",
  "human_readable_source": " \n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM rcu\n\n#if !defined(_TRACE_RCU_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _TRACE_RCU_H\n\n#include <linux/tracepoint.h>\n\n#ifdef CONFIG_RCU_TRACE\n#define TRACE_EVENT_RCU TRACE_EVENT\n#else\n#define TRACE_EVENT_RCU TRACE_EVENT_NOP\n#endif\n\n \nTRACE_EVENT(rcu_utilization,\n\n\tTP_PROTO(const char *s),\n\n\tTP_ARGS(s),\n\n\tTP_STRUCT__entry(\n\t\t__field(const char *, s)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->s = s;\n\t),\n\n\tTP_printk(\"%s\", __entry->s)\n);\n\n#if defined(CONFIG_TREE_RCU)\n\n \nTRACE_EVENT_RCU(rcu_grace_period,\n\n\tTP_PROTO(const char *rcuname, unsigned long gp_seq, const char *gpevent),\n\n\tTP_ARGS(rcuname, gp_seq, gpevent),\n\n\tTP_STRUCT__entry(\n\t\t__field(const char *, rcuname)\n\t\t__field(long, gp_seq)\n\t\t__field(const char *, gpevent)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->rcuname = rcuname;\n\t\t__entry->gp_seq = (long)gp_seq;\n\t\t__entry->gpevent = gpevent;\n\t),\n\n\tTP_printk(\"%s %ld %s\",\n\t\t  __entry->rcuname, __entry->gp_seq, __entry->gpevent)\n);\n\n \nTRACE_EVENT_RCU(rcu_future_grace_period,\n\n\tTP_PROTO(const char *rcuname, unsigned long gp_seq,\n\t\t unsigned long gp_seq_req, u8 level, int grplo, int grphi,\n\t\t const char *gpevent),\n\n\tTP_ARGS(rcuname, gp_seq, gp_seq_req, level, grplo, grphi, gpevent),\n\n\tTP_STRUCT__entry(\n\t\t__field(const char *, rcuname)\n\t\t__field(long, gp_seq)\n\t\t__field(long, gp_seq_req)\n\t\t__field(u8, level)\n\t\t__field(int, grplo)\n\t\t__field(int, grphi)\n\t\t__field(const char *, gpevent)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->rcuname = rcuname;\n\t\t__entry->gp_seq = (long)gp_seq;\n\t\t__entry->gp_seq_req = (long)gp_seq_req;\n\t\t__entry->level = level;\n\t\t__entry->grplo = grplo;\n\t\t__entry->grphi = grphi;\n\t\t__entry->gpevent = gpevent;\n\t),\n\n\tTP_printk(\"%s %ld %ld %u %d %d %s\",\n\t\t  __entry->rcuname, (long)__entry->gp_seq, (long)__entry->gp_seq_req, __entry->level,\n\t\t  __entry->grplo, __entry->grphi, __entry->gpevent)\n);\n\n \nTRACE_EVENT_RCU(rcu_grace_period_init,\n\n\tTP_PROTO(const char *rcuname, unsigned long gp_seq, u8 level,\n\t\t int grplo, int grphi, unsigned long qsmask),\n\n\tTP_ARGS(rcuname, gp_seq, level, grplo, grphi, qsmask),\n\n\tTP_STRUCT__entry(\n\t\t__field(const char *, rcuname)\n\t\t__field(long, gp_seq)\n\t\t__field(u8, level)\n\t\t__field(int, grplo)\n\t\t__field(int, grphi)\n\t\t__field(unsigned long, qsmask)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->rcuname = rcuname;\n\t\t__entry->gp_seq = (long)gp_seq;\n\t\t__entry->level = level;\n\t\t__entry->grplo = grplo;\n\t\t__entry->grphi = grphi;\n\t\t__entry->qsmask = qsmask;\n\t),\n\n\tTP_printk(\"%s %ld %u %d %d %lx\",\n\t\t  __entry->rcuname, __entry->gp_seq, __entry->level,\n\t\t  __entry->grplo, __entry->grphi, __entry->qsmask)\n);\n\n \nTRACE_EVENT_RCU(rcu_exp_grace_period,\n\n\tTP_PROTO(const char *rcuname, unsigned long gpseq, const char *gpevent),\n\n\tTP_ARGS(rcuname, gpseq, gpevent),\n\n\tTP_STRUCT__entry(\n\t\t__field(const char *, rcuname)\n\t\t__field(long, gpseq)\n\t\t__field(const char *, gpevent)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->rcuname = rcuname;\n\t\t__entry->gpseq = (long)gpseq;\n\t\t__entry->gpevent = gpevent;\n\t),\n\n\tTP_printk(\"%s %ld %s\",\n\t\t  __entry->rcuname, __entry->gpseq, __entry->gpevent)\n);\n\n \nTRACE_EVENT_RCU(rcu_exp_funnel_lock,\n\n\tTP_PROTO(const char *rcuname, u8 level, int grplo, int grphi,\n\t\t const char *gpevent),\n\n\tTP_ARGS(rcuname, level, grplo, grphi, gpevent),\n\n\tTP_STRUCT__entry(\n\t\t__field(const char *, rcuname)\n\t\t__field(u8, level)\n\t\t__field(int, grplo)\n\t\t__field(int, grphi)\n\t\t__field(const char *, gpevent)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->rcuname = rcuname;\n\t\t__entry->level = level;\n\t\t__entry->grplo = grplo;\n\t\t__entry->grphi = grphi;\n\t\t__entry->gpevent = gpevent;\n\t),\n\n\tTP_printk(\"%s %d %d %d %s\",\n\t\t  __entry->rcuname, __entry->level, __entry->grplo,\n\t\t  __entry->grphi, __entry->gpevent)\n);\n\n#ifdef CONFIG_RCU_NOCB_CPU\n \nTRACE_EVENT_RCU(rcu_nocb_wake,\n\n\tTP_PROTO(const char *rcuname, int cpu, const char *reason),\n\n\tTP_ARGS(rcuname, cpu, reason),\n\n\tTP_STRUCT__entry(\n\t\t__field(const char *, rcuname)\n\t\t__field(int, cpu)\n\t\t__field(const char *, reason)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->rcuname = rcuname;\n\t\t__entry->cpu = cpu;\n\t\t__entry->reason = reason;\n\t),\n\n\tTP_printk(\"%s %d %s\", __entry->rcuname, __entry->cpu, __entry->reason)\n);\n#endif\n\n \nTRACE_EVENT_RCU(rcu_preempt_task,\n\n\tTP_PROTO(const char *rcuname, int pid, unsigned long gp_seq),\n\n\tTP_ARGS(rcuname, pid, gp_seq),\n\n\tTP_STRUCT__entry(\n\t\t__field(const char *, rcuname)\n\t\t__field(long, gp_seq)\n\t\t__field(int, pid)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->rcuname = rcuname;\n\t\t__entry->gp_seq = (long)gp_seq;\n\t\t__entry->pid = pid;\n\t),\n\n\tTP_printk(\"%s %ld %d\",\n\t\t  __entry->rcuname, __entry->gp_seq, __entry->pid)\n);\n\n \nTRACE_EVENT_RCU(rcu_unlock_preempted_task,\n\n\tTP_PROTO(const char *rcuname, unsigned long gp_seq, int pid),\n\n\tTP_ARGS(rcuname, gp_seq, pid),\n\n\tTP_STRUCT__entry(\n\t\t__field(const char *, rcuname)\n\t\t__field(long, gp_seq)\n\t\t__field(int, pid)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->rcuname = rcuname;\n\t\t__entry->gp_seq = (long)gp_seq;\n\t\t__entry->pid = pid;\n\t),\n\n\tTP_printk(\"%s %ld %d\", __entry->rcuname, __entry->gp_seq, __entry->pid)\n);\n\n \nTRACE_EVENT_RCU(rcu_quiescent_state_report,\n\n\tTP_PROTO(const char *rcuname, unsigned long gp_seq,\n\t\t unsigned long mask, unsigned long qsmask,\n\t\t u8 level, int grplo, int grphi, int gp_tasks),\n\n\tTP_ARGS(rcuname, gp_seq, mask, qsmask, level, grplo, grphi, gp_tasks),\n\n\tTP_STRUCT__entry(\n\t\t__field(const char *, rcuname)\n\t\t__field(long, gp_seq)\n\t\t__field(unsigned long, mask)\n\t\t__field(unsigned long, qsmask)\n\t\t__field(u8, level)\n\t\t__field(int, grplo)\n\t\t__field(int, grphi)\n\t\t__field(u8, gp_tasks)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->rcuname = rcuname;\n\t\t__entry->gp_seq = (long)gp_seq;\n\t\t__entry->mask = mask;\n\t\t__entry->qsmask = qsmask;\n\t\t__entry->level = level;\n\t\t__entry->grplo = grplo;\n\t\t__entry->grphi = grphi;\n\t\t__entry->gp_tasks = gp_tasks;\n\t),\n\n\tTP_printk(\"%s %ld %lx>%lx %u %d %d %u\",\n\t\t  __entry->rcuname, __entry->gp_seq,\n\t\t  __entry->mask, __entry->qsmask, __entry->level,\n\t\t  __entry->grplo, __entry->grphi, __entry->gp_tasks)\n);\n\n \nTRACE_EVENT_RCU(rcu_fqs,\n\n\tTP_PROTO(const char *rcuname, unsigned long gp_seq, int cpu, const char *qsevent),\n\n\tTP_ARGS(rcuname, gp_seq, cpu, qsevent),\n\n\tTP_STRUCT__entry(\n\t\t__field(const char *, rcuname)\n\t\t__field(long, gp_seq)\n\t\t__field(int, cpu)\n\t\t__field(const char *, qsevent)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->rcuname = rcuname;\n\t\t__entry->gp_seq = (long)gp_seq;\n\t\t__entry->cpu = cpu;\n\t\t__entry->qsevent = qsevent;\n\t),\n\n\tTP_printk(\"%s %ld %d %s\",\n\t\t  __entry->rcuname, __entry->gp_seq,\n\t\t  __entry->cpu, __entry->qsevent)\n);\n\n \nTRACE_EVENT(rcu_stall_warning,\n\n\tTP_PROTO(const char *rcuname, const char *msg),\n\n\tTP_ARGS(rcuname, msg),\n\n\tTP_STRUCT__entry(\n\t\t__field(const char *, rcuname)\n\t\t__field(const char *, msg)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->rcuname = rcuname;\n\t\t__entry->msg = msg;\n\t),\n\n\tTP_printk(\"%s %s\",\n\t\t  __entry->rcuname, __entry->msg)\n);\n\n#endif  \n\n \nTRACE_EVENT_RCU(rcu_dyntick,\n\n\tTP_PROTO(const char *polarity, long oldnesting, long newnesting, int dynticks),\n\n\tTP_ARGS(polarity, oldnesting, newnesting, dynticks),\n\n\tTP_STRUCT__entry(\n\t\t__field(const char *, polarity)\n\t\t__field(long, oldnesting)\n\t\t__field(long, newnesting)\n\t\t__field(int, dynticks)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->polarity = polarity;\n\t\t__entry->oldnesting = oldnesting;\n\t\t__entry->newnesting = newnesting;\n\t\t__entry->dynticks = dynticks;\n\t),\n\n\tTP_printk(\"%s %lx %lx %#3x\", __entry->polarity,\n\t\t  __entry->oldnesting, __entry->newnesting,\n\t\t  __entry->dynticks & 0xfff)\n);\n\n \nTRACE_EVENT_RCU(rcu_callback,\n\n\tTP_PROTO(const char *rcuname, struct rcu_head *rhp, long qlen),\n\n\tTP_ARGS(rcuname, rhp, qlen),\n\n\tTP_STRUCT__entry(\n\t\t__field(const char *, rcuname)\n\t\t__field(void *, rhp)\n\t\t__field(void *, func)\n\t\t__field(long, qlen)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->rcuname = rcuname;\n\t\t__entry->rhp = rhp;\n\t\t__entry->func = rhp->func;\n\t\t__entry->qlen = qlen;\n\t),\n\n\tTP_printk(\"%s rhp=%p func=%ps %ld\",\n\t\t  __entry->rcuname, __entry->rhp, __entry->func,\n\t\t  __entry->qlen)\n);\n\nTRACE_EVENT_RCU(rcu_segcb_stats,\n\n\t\tTP_PROTO(struct rcu_segcblist *rs, const char *ctx),\n\n\t\tTP_ARGS(rs, ctx),\n\n\t\tTP_STRUCT__entry(\n\t\t\t__field(const char *, ctx)\n\t\t\t__array(unsigned long, gp_seq, RCU_CBLIST_NSEGS)\n\t\t\t__array(long, seglen, RCU_CBLIST_NSEGS)\n\t\t),\n\n\t\tTP_fast_assign(\n\t\t\t__entry->ctx = ctx;\n\t\t\tmemcpy(__entry->seglen, rs->seglen, RCU_CBLIST_NSEGS * sizeof(long));\n\t\t\tmemcpy(__entry->gp_seq, rs->gp_seq, RCU_CBLIST_NSEGS * sizeof(unsigned long));\n\n\t\t),\n\n\t\tTP_printk(\"%s seglen: (DONE=%ld, WAIT=%ld, NEXT_READY=%ld, NEXT=%ld) \"\n\t\t\t  \"gp_seq: (DONE=%lu, WAIT=%lu, NEXT_READY=%lu, NEXT=%lu)\", __entry->ctx,\n\t\t\t  __entry->seglen[0], __entry->seglen[1], __entry->seglen[2], __entry->seglen[3],\n\t\t\t  __entry->gp_seq[0], __entry->gp_seq[1], __entry->gp_seq[2], __entry->gp_seq[3])\n\n);\n\n \nTRACE_EVENT_RCU(rcu_kvfree_callback,\n\n\tTP_PROTO(const char *rcuname, struct rcu_head *rhp, unsigned long offset,\n\t\t long qlen),\n\n\tTP_ARGS(rcuname, rhp, offset, qlen),\n\n\tTP_STRUCT__entry(\n\t\t__field(const char *, rcuname)\n\t\t__field(void *, rhp)\n\t\t__field(unsigned long, offset)\n\t\t__field(long, qlen)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->rcuname = rcuname;\n\t\t__entry->rhp = rhp;\n\t\t__entry->offset = offset;\n\t\t__entry->qlen = qlen;\n\t),\n\n\tTP_printk(\"%s rhp=%p func=%ld %ld\",\n\t\t  __entry->rcuname, __entry->rhp, __entry->offset,\n\t\t  __entry->qlen)\n);\n\n \nTRACE_EVENT_RCU(rcu_batch_start,\n\n\tTP_PROTO(const char *rcuname, long qlen, long blimit),\n\n\tTP_ARGS(rcuname, qlen, blimit),\n\n\tTP_STRUCT__entry(\n\t\t__field(const char *, rcuname)\n\t\t__field(long, qlen)\n\t\t__field(long, blimit)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->rcuname = rcuname;\n\t\t__entry->qlen = qlen;\n\t\t__entry->blimit = blimit;\n\t),\n\n\tTP_printk(\"%s CBs=%ld bl=%ld\",\n\t\t  __entry->rcuname, __entry->qlen, __entry->blimit)\n);\n\n \nTRACE_EVENT_RCU(rcu_invoke_callback,\n\n\tTP_PROTO(const char *rcuname, struct rcu_head *rhp),\n\n\tTP_ARGS(rcuname, rhp),\n\n\tTP_STRUCT__entry(\n\t\t__field(const char *, rcuname)\n\t\t__field(void *, rhp)\n\t\t__field(void *, func)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->rcuname = rcuname;\n\t\t__entry->rhp = rhp;\n\t\t__entry->func = rhp->func;\n\t),\n\n\tTP_printk(\"%s rhp=%p func=%ps\",\n\t\t  __entry->rcuname, __entry->rhp, __entry->func)\n);\n\n \nTRACE_EVENT_RCU(rcu_invoke_kvfree_callback,\n\n\tTP_PROTO(const char *rcuname, struct rcu_head *rhp, unsigned long offset),\n\n\tTP_ARGS(rcuname, rhp, offset),\n\n\tTP_STRUCT__entry(\n\t\t__field(const char *, rcuname)\n\t\t__field(void *, rhp)\n\t\t__field(unsigned long, offset)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->rcuname = rcuname;\n\t\t__entry->rhp = rhp;\n\t\t__entry->offset\t= offset;\n\t),\n\n\tTP_printk(\"%s rhp=%p func=%ld\",\n\t\t  __entry->rcuname, __entry->rhp, __entry->offset)\n);\n\n \nTRACE_EVENT_RCU(rcu_invoke_kfree_bulk_callback,\n\n\tTP_PROTO(const char *rcuname, unsigned long nr_records, void **p),\n\n\tTP_ARGS(rcuname, nr_records, p),\n\n\tTP_STRUCT__entry(\n\t\t__field(const char *, rcuname)\n\t\t__field(unsigned long, nr_records)\n\t\t__field(void **, p)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->rcuname = rcuname;\n\t\t__entry->nr_records = nr_records;\n\t\t__entry->p = p;\n\t),\n\n\tTP_printk(\"%s bulk=0x%p nr_records=%lu\",\n\t\t__entry->rcuname, __entry->p, __entry->nr_records)\n);\n\n \nTRACE_EVENT_RCU(rcu_batch_end,\n\n\tTP_PROTO(const char *rcuname, int callbacks_invoked,\n\t\t char cb, char nr, char iit, char risk),\n\n\tTP_ARGS(rcuname, callbacks_invoked, cb, nr, iit, risk),\n\n\tTP_STRUCT__entry(\n\t\t__field(const char *, rcuname)\n\t\t__field(int, callbacks_invoked)\n\t\t__field(char, cb)\n\t\t__field(char, nr)\n\t\t__field(char, iit)\n\t\t__field(char, risk)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->rcuname = rcuname;\n\t\t__entry->callbacks_invoked = callbacks_invoked;\n\t\t__entry->cb = cb;\n\t\t__entry->nr = nr;\n\t\t__entry->iit = iit;\n\t\t__entry->risk = risk;\n\t),\n\n\tTP_printk(\"%s CBs-invoked=%d idle=%c%c%c%c\",\n\t\t  __entry->rcuname, __entry->callbacks_invoked,\n\t\t  __entry->cb ? 'C' : '.',\n\t\t  __entry->nr ? 'S' : '.',\n\t\t  __entry->iit ? 'I' : '.',\n\t\t  __entry->risk ? 'R' : '.')\n);\n\n \n#define RCUTORTURENAME_LEN 8\nTRACE_EVENT_RCU(rcu_torture_read,\n\n\tTP_PROTO(const char *rcutorturename, struct rcu_head *rhp,\n\t\t unsigned long secs, unsigned long c_old, unsigned long c),\n\n\tTP_ARGS(rcutorturename, rhp, secs, c_old, c),\n\n\tTP_STRUCT__entry(\n\t\t__array(char, rcutorturename, RCUTORTURENAME_LEN)\n\t\t__field(struct rcu_head *, rhp)\n\t\t__field(unsigned long, secs)\n\t\t__field(unsigned long, c_old)\n\t\t__field(unsigned long, c)\n\t),\n\n\tTP_fast_assign(\n\t\tstrscpy(__entry->rcutorturename, rcutorturename, RCUTORTURENAME_LEN);\n\t\t__entry->rhp = rhp;\n\t\t__entry->secs = secs;\n\t\t__entry->c_old = c_old;\n\t\t__entry->c = c;\n\t),\n\n\tTP_printk(\"%s torture read %p %luus c: %lu %lu\",\n\t\t  __entry->rcutorturename, __entry->rhp,\n\t\t  __entry->secs, __entry->c_old, __entry->c)\n);\n\n \nTRACE_EVENT_RCU(rcu_barrier,\n\n\tTP_PROTO(const char *rcuname, const char *s, int cpu, int cnt, unsigned long done),\n\n\tTP_ARGS(rcuname, s, cpu, cnt, done),\n\n\tTP_STRUCT__entry(\n\t\t__field(const char *, rcuname)\n\t\t__field(const char *, s)\n\t\t__field(int, cpu)\n\t\t__field(int, cnt)\n\t\t__field(unsigned long, done)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->rcuname = rcuname;\n\t\t__entry->s = s;\n\t\t__entry->cpu = cpu;\n\t\t__entry->cnt = cnt;\n\t\t__entry->done = done;\n\t),\n\n\tTP_printk(\"%s %s cpu %d remaining %d # %lu\",\n\t\t  __entry->rcuname, __entry->s, __entry->cpu, __entry->cnt,\n\t\t  __entry->done)\n);\n\n#endif  \n\n \n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}