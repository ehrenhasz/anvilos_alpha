{
  "module_name": "physdev.h",
  "hash_id": "88220e1e462fa21f721ae9a9c27f1efa06e368dc3ba88fc664473d054ee8298f",
  "original_prompt": "Ingested from linux-6.6.14/include/xen/interface/physdev.h",
  "human_readable_source": " \n\n#ifndef __XEN_PUBLIC_PHYSDEV_H__\n#define __XEN_PUBLIC_PHYSDEV_H__\n\n \n\n \n#define PHYSDEVOP_eoi\t\t\t12\nstruct physdev_eoi {\n\t \n\tuint32_t irq;\n};\n\n \n#define PHYSDEVOP_pirq_eoi_gmfn_v1       17\n \n#define PHYSDEVOP_pirq_eoi_gmfn_v2       28\nstruct physdev_pirq_eoi_gmfn {\n     \n    xen_ulong_t gmfn;\n};\n\n \n#define PHYSDEVOP_irq_status_query\t 5\nstruct physdev_irq_status_query {\n\t \n\tuint32_t irq;\n\t \n\tuint32_t flags;  \n};\n\n \n#define _XENIRQSTAT_needs_eoi\t(0)\n#define\t XENIRQSTAT_needs_eoi\t(1U<<_XENIRQSTAT_needs_eoi)\n\n \n#define _XENIRQSTAT_shared\t(1)\n#define\t XENIRQSTAT_shared\t(1U<<_XENIRQSTAT_shared)\n\n \n#define PHYSDEVOP_set_iopl\t\t 6\nstruct physdev_set_iopl {\n\t \n\tuint32_t iopl;\n};\n\n \n#define PHYSDEVOP_set_iobitmap\t\t 7\nstruct physdev_set_iobitmap {\n\t \n\tuint8_t * bitmap;\n\tuint32_t nr_ports;\n};\n\n \n#define PHYSDEVOP_apic_read\t\t 8\n#define PHYSDEVOP_apic_write\t\t 9\nstruct physdev_apic {\n\t \n\tunsigned long apic_physbase;\n\tuint32_t reg;\n\t \n\tuint32_t value;\n};\n\n \n#define PHYSDEVOP_alloc_irq_vector\t10\n#define PHYSDEVOP_free_irq_vector\t11\nstruct physdev_irq {\n\t \n\tuint32_t irq;\n\t \n\tuint32_t vector;\n};\n\n#define MAP_PIRQ_TYPE_MSI\t\t0x0\n#define MAP_PIRQ_TYPE_GSI\t\t0x1\n#define MAP_PIRQ_TYPE_UNKNOWN\t\t0x2\n#define MAP_PIRQ_TYPE_MSI_SEG\t\t0x3\n#define MAP_PIRQ_TYPE_MULTI_MSI\t\t0x4\n\n#define PHYSDEVOP_map_pirq\t\t13\nstruct physdev_map_pirq {\n    domid_t domid;\n     \n    int type;\n     \n    int index;\n     \n    int pirq;\n     \n    int bus;\n     \n    int devfn;\n     \n    int entry_nr;\n     \n    uint64_t table_base;\n};\n\n#define PHYSDEVOP_unmap_pirq\t\t14\nstruct physdev_unmap_pirq {\n    domid_t domid;\n     \n    int pirq;\n};\n\n#define PHYSDEVOP_manage_pci_add\t15\n#define PHYSDEVOP_manage_pci_remove\t16\nstruct physdev_manage_pci {\n\t \n\tuint8_t bus;\n\tuint8_t devfn;\n};\n\n#define PHYSDEVOP_restore_msi            19\nstruct physdev_restore_msi {\n\t \n\tuint8_t bus;\n\tuint8_t devfn;\n};\n\n#define PHYSDEVOP_manage_pci_add_ext\t20\nstruct physdev_manage_pci_ext {\n\t \n\tuint8_t bus;\n\tuint8_t devfn;\n\tunsigned is_extfn;\n\tunsigned is_virtfn;\n\tstruct {\n\t\tuint8_t bus;\n\t\tuint8_t devfn;\n\t} physfn;\n};\n\n \nstruct physdev_op {\n\tuint32_t cmd;\n\tunion {\n\t\tstruct physdev_irq_status_query\t     irq_status_query;\n\t\tstruct physdev_set_iopl\t\t     set_iopl;\n\t\tstruct physdev_set_iobitmap\t     set_iobitmap;\n\t\tstruct physdev_apic\t\t     apic_op;\n\t\tstruct physdev_irq\t\t     irq_op;\n\t} u;\n};\n\n#define PHYSDEVOP_setup_gsi    21\nstruct physdev_setup_gsi {\n    int gsi;\n     \n    uint8_t triggering;\n     \n    uint8_t polarity;\n     \n};\n\n#define PHYSDEVOP_get_nr_pirqs    22\nstruct physdev_nr_pirqs {\n     \n    uint32_t nr_pirqs;\n};\n\n \n#define PHYSDEVOP_get_free_pirq    23\nstruct physdev_get_free_pirq {\n      \n    int type;\n     \n    uint32_t pirq;\n};\n\n#define XEN_PCI_DEV_EXTFN              0x1\n#define XEN_PCI_DEV_VIRTFN             0x2\n#define XEN_PCI_DEV_PXM                0x4\n\n#define XEN_PCI_MMCFG_RESERVED         0x1\n\n#define PHYSDEVOP_pci_mmcfg_reserved    24\nstruct physdev_pci_mmcfg_reserved {\n    uint64_t address;\n    uint16_t segment;\n    uint8_t start_bus;\n    uint8_t end_bus;\n    uint32_t flags;\n};\n\n#define PHYSDEVOP_pci_device_add        25\nstruct physdev_pci_device_add {\n     \n    uint16_t seg;\n    uint8_t bus;\n    uint8_t devfn;\n    uint32_t flags;\n    struct {\n        uint8_t bus;\n        uint8_t devfn;\n    } physfn;\n#if defined(__STDC_VERSION__) && __STDC_VERSION__ >= 199901L\n    uint32_t optarr[];\n#elif defined(__GNUC__)\n    uint32_t optarr[0];\n#endif\n};\n\n#define PHYSDEVOP_pci_device_remove     26\n#define PHYSDEVOP_restore_msi_ext       27\n \n#define PHYSDEVOP_prepare_msix          30\n#define PHYSDEVOP_release_msix          31\nstruct physdev_pci_device {\n     \n    uint16_t seg;\n    uint8_t bus;\n    uint8_t devfn;\n};\n\n#define PHYSDEVOP_DBGP_RESET_PREPARE    1\n#define PHYSDEVOP_DBGP_RESET_DONE       2\n\n#define PHYSDEVOP_DBGP_BUS_UNKNOWN      0\n#define PHYSDEVOP_DBGP_BUS_PCI          1\n\n#define PHYSDEVOP_dbgp_op               29\nstruct physdev_dbgp_op {\n     \n    uint8_t op;\n    uint8_t bus;\n    union {\n        struct physdev_pci_device pci;\n    } u;\n};\n\n \n#define PHYSDEVOP_IRQ_UNMASK_NOTIFY\t 4\n\n \n#define PHYSDEVOP_IRQ_STATUS_QUERY\t PHYSDEVOP_irq_status_query\n#define PHYSDEVOP_SET_IOPL\t\t PHYSDEVOP_set_iopl\n#define PHYSDEVOP_SET_IOBITMAP\t\t PHYSDEVOP_set_iobitmap\n#define PHYSDEVOP_APIC_READ\t\t PHYSDEVOP_apic_read\n#define PHYSDEVOP_APIC_WRITE\t\t PHYSDEVOP_apic_write\n#define PHYSDEVOP_ASSIGN_VECTOR\t\t PHYSDEVOP_alloc_irq_vector\n#define PHYSDEVOP_FREE_VECTOR\t\t PHYSDEVOP_free_irq_vector\n#define PHYSDEVOP_IRQ_NEEDS_UNMASK_NOTIFY XENIRQSTAT_needs_eoi\n#define PHYSDEVOP_IRQ_SHARED\t\t XENIRQSTAT_shared\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}