{
  "module_name": "netif.h",
  "hash_id": "849297b1d4604732a964a1f5032f5595eef054f18b83c76af03dc4632784bdf9",
  "original_prompt": "Ingested from linux-6.6.14/include/xen/interface/io/netif.h",
  "human_readable_source": " \n \n\n#ifndef __XEN_PUBLIC_IO_XEN_NETIF_H__\n#define __XEN_PUBLIC_IO_XEN_NETIF_H__\n\n#include \"ring.h\"\n#include \"../grant_table.h\"\n\n \n#define XEN_NETIF_NR_SLOTS_MIN 18\n\n \n\n \n\n \n\n \n\n \n\n \n\n \n#define XEN_NETIF_MAX_XDP_HEADROOM 0x7FFF\n\n \n\n \n\n \n#define _XEN_NETIF_CTRL_HASH_TYPE_IPV4 0\n#define XEN_NETIF_CTRL_HASH_TYPE_IPV4 \\\n\t(1 << _XEN_NETIF_CTRL_HASH_TYPE_IPV4)\n\n \n#define _XEN_NETIF_CTRL_HASH_TYPE_IPV4_TCP 1\n#define XEN_NETIF_CTRL_HASH_TYPE_IPV4_TCP \\\n\t(1 << _XEN_NETIF_CTRL_HASH_TYPE_IPV4_TCP)\n\n \n#define _XEN_NETIF_CTRL_HASH_TYPE_IPV6 2\n#define XEN_NETIF_CTRL_HASH_TYPE_IPV6 \\\n\t(1 << _XEN_NETIF_CTRL_HASH_TYPE_IPV6)\n\n \n#define _XEN_NETIF_CTRL_HASH_TYPE_IPV6_TCP 3\n#define XEN_NETIF_CTRL_HASH_TYPE_IPV6_TCP \\\n\t(1 << _XEN_NETIF_CTRL_HASH_TYPE_IPV6_TCP)\n\n \n\n#define XEN_NETIF_CTRL_HASH_ALGORITHM_NONE 0\n\n \n\n#define XEN_NETIF_CTRL_HASH_ALGORITHM_TOEPLITZ 1\n\n \n#ifdef XEN_NETIF_DEFINE_TOEPLITZ\nstatic uint32_t xen_netif_toeplitz_hash(const uint8_t *key,\n\t\t\t\t\tunsigned int keylen,\n\t\t\t\t\tconst uint8_t *buf, unsigned int buflen)\n{\n\tunsigned int keyi, bufi;\n\tuint64_t prefix = 0;\n\tuint64_t hash = 0;\n\n\t \n\tfor (keyi = 0; keyi < 8; keyi++) {\n\t\tprefix <<= 8;\n\t\tprefix |= (keyi < keylen) ? key[keyi] : 0;\n\t}\n\n\tfor (bufi = 0; bufi < buflen; bufi++) {\n\t\tuint8_t byte = buf[bufi];\n\t\tunsigned int bit;\n\n\t\tfor (bit = 0; bit < 8; bit++) {\n\t\t\tif (byte & 0x80)\n\t\t\t\thash ^= prefix;\n\t\t\tprefix <<= 1;\n\t\t\tbyte <<= 1;\n\t\t}\n\n\t\t \n\t\tprefix |= (keyi < keylen) ? key[keyi] : 0;\n\t\tkeyi++;\n\t}\n\n\t \n\treturn hash >> 32;\n}\n#endif\t\t\t\t \n\n \n\nstruct xen_netif_ctrl_request {\n\tuint16_t id;\n\tuint16_t type;\n\n#define XEN_NETIF_CTRL_TYPE_INVALID               0\n#define XEN_NETIF_CTRL_TYPE_GET_HASH_FLAGS        1\n#define XEN_NETIF_CTRL_TYPE_SET_HASH_FLAGS        2\n#define XEN_NETIF_CTRL_TYPE_SET_HASH_KEY          3\n#define XEN_NETIF_CTRL_TYPE_GET_HASH_MAPPING_SIZE 4\n#define XEN_NETIF_CTRL_TYPE_SET_HASH_MAPPING_SIZE 5\n#define XEN_NETIF_CTRL_TYPE_SET_HASH_MAPPING      6\n#define XEN_NETIF_CTRL_TYPE_SET_HASH_ALGORITHM    7\n\n\tuint32_t data[3];\n};\n\n \n\nstruct xen_netif_ctrl_response {\n\tuint16_t id;\n\tuint16_t type;\n\tuint32_t status;\n\n#define XEN_NETIF_CTRL_STATUS_SUCCESS           0\n#define XEN_NETIF_CTRL_STATUS_NOT_SUPPORTED     1\n#define XEN_NETIF_CTRL_STATUS_INVALID_PARAMETER 2\n#define XEN_NETIF_CTRL_STATUS_BUFFER_OVERFLOW   3\n\n\tuint32_t data;\n};\n\n \n\nDEFINE_RING_TYPES(xen_netif_ctrl,\n\t\t  struct xen_netif_ctrl_request,\n\t\t  struct xen_netif_ctrl_response);\n\n \n\n \n#define _XEN_NETTXF_csum_blank     (0)\n#define  XEN_NETTXF_csum_blank     (1U<<_XEN_NETTXF_csum_blank)\n\n \n#define _XEN_NETTXF_data_validated (1)\n#define  XEN_NETTXF_data_validated (1U<<_XEN_NETTXF_data_validated)\n\n \n#define _XEN_NETTXF_more_data      (2)\n#define  XEN_NETTXF_more_data      (1U<<_XEN_NETTXF_more_data)\n\n \n#define _XEN_NETTXF_extra_info     (3)\n#define  XEN_NETTXF_extra_info     (1U<<_XEN_NETTXF_extra_info)\n\n#define XEN_NETIF_MAX_TX_SIZE 0xFFFF\nstruct xen_netif_tx_request {\n\tgrant_ref_t gref;\n\tuint16_t offset;\n\tuint16_t flags;\n\tuint16_t id;\n\tuint16_t size;\n};\n\n \n#define XEN_NETIF_EXTRA_TYPE_NONE      (0)\t \n#define XEN_NETIF_EXTRA_TYPE_GSO       (1)\t \n#define XEN_NETIF_EXTRA_TYPE_MCAST_ADD (2)\t \n#define XEN_NETIF_EXTRA_TYPE_MCAST_DEL (3)\t \n#define XEN_NETIF_EXTRA_TYPE_HASH      (4)\t \n#define XEN_NETIF_EXTRA_TYPE_XDP       (5)\t \n#define XEN_NETIF_EXTRA_TYPE_MAX       (6)\n\n \n#define _XEN_NETIF_EXTRA_FLAG_MORE (0)\n#define XEN_NETIF_EXTRA_FLAG_MORE  (1U<<_XEN_NETIF_EXTRA_FLAG_MORE)\n\n \n#define XEN_NETIF_GSO_TYPE_NONE         (0)\n#define XEN_NETIF_GSO_TYPE_TCPV4        (1)\n#define XEN_NETIF_GSO_TYPE_TCPV6        (2)\n\n \nstruct xen_netif_extra_info {\n\tuint8_t type;\n\tuint8_t flags;\n\tunion {\n\t\tstruct {\n\t\t\tuint16_t size;\n\t\t\tuint8_t type;\n\t\t\tuint8_t pad;\n\t\t\tuint16_t features;\n\t\t} gso;\n\t\tstruct {\n\t\t\tuint8_t addr[6];\n\t\t} mcast;\n\t\tstruct {\n\t\t\tuint8_t type;\n\t\t\tuint8_t algorithm;\n\t\t\tuint8_t value[4];\n\t\t} hash;\n\t\tstruct {\n\t\t\tuint16_t headroom;\n\t\t\tuint16_t pad[2];\n\t\t} xdp;\n\t\tuint16_t pad[3];\n\t} u;\n};\n\nstruct xen_netif_tx_response {\n\tuint16_t id;\n\tint16_t status;\n};\n\nstruct xen_netif_rx_request {\n\tuint16_t id;\t\t \n\tuint16_t pad;\n\tgrant_ref_t gref;\n};\n\n \n#define _XEN_NETRXF_data_validated (0)\n#define  XEN_NETRXF_data_validated (1U<<_XEN_NETRXF_data_validated)\n\n \n#define _XEN_NETRXF_csum_blank     (1)\n#define  XEN_NETRXF_csum_blank     (1U<<_XEN_NETRXF_csum_blank)\n\n \n#define _XEN_NETRXF_more_data      (2)\n#define  XEN_NETRXF_more_data      (1U<<_XEN_NETRXF_more_data)\n\n \n#define _XEN_NETRXF_extra_info     (3)\n#define  XEN_NETRXF_extra_info     (1U<<_XEN_NETRXF_extra_info)\n\n \n#define _XEN_NETRXF_gso_prefix     (4)\n#define  XEN_NETRXF_gso_prefix     (1U<<_XEN_NETRXF_gso_prefix)\n\nstruct xen_netif_rx_response {\n\tuint16_t id;\n\tuint16_t offset;\n\tuint16_t flags;\n\tint16_t status;\n};\n\n \n\nDEFINE_RING_TYPES(xen_netif_tx, struct xen_netif_tx_request,\n\t\t  struct xen_netif_tx_response);\nDEFINE_RING_TYPES(xen_netif_rx, struct xen_netif_rx_request,\n\t\t  struct xen_netif_rx_response);\n\n#define XEN_NETIF_RSP_DROPPED         -2\n#define XEN_NETIF_RSP_ERROR           -1\n#define XEN_NETIF_RSP_OKAY             0\n \n#define XEN_NETIF_RSP_NULL             1\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}