{
  "module_name": "memalloc.h",
  "hash_id": "5c950e1aea456af3d5ad5763a875bc501a1276415209dc33891af729150bb05c",
  "original_prompt": "Ingested from linux-6.6.14/include/sound/memalloc.h",
  "human_readable_source": " \n \n\n#ifndef __SOUND_MEMALLOC_H\n#define __SOUND_MEMALLOC_H\n\n#include <linux/dma-direction.h>\n#include <asm/page.h>\n\nstruct device;\nstruct vm_area_struct;\nstruct sg_table;\n\n \nstruct snd_dma_device {\n\tint type;\t\t\t \n\tenum dma_data_direction dir;\t \n\tbool need_sync;\t\t\t \n\tstruct device *dev;\t\t \n};\n\n \n#define SNDRV_DMA_TYPE_UNKNOWN\t\t0\t \n#define SNDRV_DMA_TYPE_CONTINUOUS\t1\t \n#define SNDRV_DMA_TYPE_DEV\t\t2\t \n#define SNDRV_DMA_TYPE_DEV_WC\t\t5\t \n#ifdef CONFIG_GENERIC_ALLOCATOR\n#define SNDRV_DMA_TYPE_DEV_IRAM\t\t4\t \n#else\n#define SNDRV_DMA_TYPE_DEV_IRAM\tSNDRV_DMA_TYPE_DEV\n#endif\n#define SNDRV_DMA_TYPE_VMALLOC\t\t7\t \n#define SNDRV_DMA_TYPE_NONCONTIG\t8\t \n#define SNDRV_DMA_TYPE_NONCOHERENT\t9\t \n#ifdef CONFIG_SND_DMA_SGBUF\n#define SNDRV_DMA_TYPE_DEV_SG\t\tSNDRV_DMA_TYPE_NONCONTIG\n#define SNDRV_DMA_TYPE_DEV_WC_SG\t6\t \n#else\n#define SNDRV_DMA_TYPE_DEV_SG\tSNDRV_DMA_TYPE_DEV  \n#define SNDRV_DMA_TYPE_DEV_WC_SG\tSNDRV_DMA_TYPE_DEV_WC\n#endif\n \n#ifdef CONFIG_SND_DMA_SGBUF\n#define SNDRV_DMA_TYPE_DEV_SG_FALLBACK\t\t10\n#define SNDRV_DMA_TYPE_DEV_WC_SG_FALLBACK\t11\n#endif\n\n \nstruct snd_dma_buffer {\n\tstruct snd_dma_device dev;\t \n\tunsigned char *area;\t \n\tdma_addr_t addr;\t \n\tsize_t bytes;\t\t \n\tvoid *private_data;\t \n};\n\n \nstatic inline unsigned int snd_sgbuf_aligned_pages(size_t size)\n{\n\treturn (size + PAGE_SIZE - 1) >> PAGE_SHIFT;\n}\n\n \nint snd_dma_alloc_dir_pages(int type, struct device *dev,\n\t\t\t    enum dma_data_direction dir, size_t size,\n\t\t\t    struct snd_dma_buffer *dmab);\n\nstatic inline int snd_dma_alloc_pages(int type, struct device *dev,\n\t\t\t\t      size_t size, struct snd_dma_buffer *dmab)\n{\n\treturn snd_dma_alloc_dir_pages(type, dev, DMA_BIDIRECTIONAL, size, dmab);\n}\n\nint snd_dma_alloc_pages_fallback(int type, struct device *dev, size_t size,\n                                 struct snd_dma_buffer *dmab);\nvoid snd_dma_free_pages(struct snd_dma_buffer *dmab);\nint snd_dma_buffer_mmap(struct snd_dma_buffer *dmab,\n\t\t\tstruct vm_area_struct *area);\n\nenum snd_dma_sync_mode { SNDRV_DMA_SYNC_CPU, SNDRV_DMA_SYNC_DEVICE };\n#ifdef CONFIG_HAS_DMA\nvoid snd_dma_buffer_sync(struct snd_dma_buffer *dmab,\n\t\t\t enum snd_dma_sync_mode mode);\n#else\nstatic inline void snd_dma_buffer_sync(struct snd_dma_buffer *dmab,\n\t\t\t\t       enum snd_dma_sync_mode mode) {}\n#endif\n\ndma_addr_t snd_sgbuf_get_addr(struct snd_dma_buffer *dmab, size_t offset);\nstruct page *snd_sgbuf_get_page(struct snd_dma_buffer *dmab, size_t offset);\nunsigned int snd_sgbuf_get_chunk_size(struct snd_dma_buffer *dmab,\n\t\t\t\t      unsigned int ofs, unsigned int size);\n\n \nstruct snd_dma_buffer *snd_devm_alloc_dir_pages(struct device *dev, int type,\n\t\t\t\t\t\tenum dma_data_direction dir,\n\t\t\t\t\t\tsize_t size);\n\nstatic inline struct snd_dma_buffer *\nsnd_devm_alloc_pages(struct device *dev, int type, size_t size)\n{\n\treturn snd_devm_alloc_dir_pages(dev, type, DMA_BIDIRECTIONAL, size);\n}\n\nstatic inline struct sg_table *\nsnd_dma_noncontig_sg_table(struct snd_dma_buffer *dmab)\n{\n\treturn dmab->private_data;\n}\n\n#endif  \n\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}