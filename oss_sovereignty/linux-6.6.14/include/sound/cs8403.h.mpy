{
  "module_name": "cs8403.h",
  "hash_id": "3f0142a0a674103261abc838cd29b7796350ba0ecdb9ba42327611687dabc554",
  "original_prompt": "Ingested from linux-6.6.14/include/sound/cs8403.h",
  "human_readable_source": " \n#ifndef __SOUND_CS8403_H\n#define __SOUND_CS8403_H\n\n \n\n#ifdef SND_CS8403\n\n#ifndef SND_CS8403_DECL\n#define SND_CS8403_DECL static\n#endif\n#ifndef SND_CS8403_DECODE\n#define SND_CS8403_DECODE snd_cs8403_decode_spdif_bits\n#endif\n#ifndef SND_CS8403_ENCODE\n#define SND_CS8403_ENCODE snd_cs8403_encode_spdif_bits\n#endif\n\n\nSND_CS8403_DECL void SND_CS8403_DECODE(struct snd_aes_iec958 *diga, unsigned char bits)\n{\n\tif (bits & 0x01) {\t \n\t\tif (!(bits & 0x02))\n\t\t\tdiga->status[0] |= IEC958_AES0_NONAUDIO;\n\t\tif (!(bits & 0x08))\n\t\t\tdiga->status[0] |= IEC958_AES0_CON_NOT_COPYRIGHT;\n\t\tswitch (bits & 0x10) {\n\t\tcase 0x10: diga->status[0] |= IEC958_AES0_CON_EMPHASIS_NONE; break;\n\t\tcase 0x00: diga->status[0] |= IEC958_AES0_CON_EMPHASIS_5015; break;\n\t\t}\n\t\tif (!(bits & 0x80))\n\t\t\tdiga->status[1] |= IEC958_AES1_CON_ORIGINAL;\n\t\tswitch (bits & 0x60) {\n\t\tcase 0x00: diga->status[1] |= IEC958_AES1_CON_MAGNETIC_ID; break;\n\t\tcase 0x20: diga->status[1] |= IEC958_AES1_CON_DIGDIGCONV_ID; break;\n\t\tcase 0x40: diga->status[1] |= IEC958_AES1_CON_LASEROPT_ID; break;\n\t\tcase 0x60: diga->status[1] |= IEC958_AES1_CON_GENERAL; break;\n\t\t}\n\t\tswitch (bits & 0x06) {\n\t\tcase 0x00: diga->status[3] |= IEC958_AES3_CON_FS_44100; break;\n\t\tcase 0x02: diga->status[3] |= IEC958_AES3_CON_FS_48000; break;\n\t\tcase 0x04: diga->status[3] |= IEC958_AES3_CON_FS_32000; break;\n\t\t}\n\t} else {\n\t\tdiga->status[0] = IEC958_AES0_PROFESSIONAL;\n\t\tswitch (bits & 0x18) {\n\t\tcase 0x00: diga->status[0] |= IEC958_AES0_PRO_FS_32000; break;\n\t\tcase 0x10: diga->status[0] |= IEC958_AES0_PRO_FS_44100; break;\n\t\tcase 0x08: diga->status[0] |= IEC958_AES0_PRO_FS_48000; break;\n\t\tcase 0x18: diga->status[0] |= IEC958_AES0_PRO_FS_NOTID; break;\n\t\t}\n\t\tswitch (bits & 0x60) {\n\t\tcase 0x20: diga->status[0] |= IEC958_AES0_PRO_EMPHASIS_NONE; break;\n\t\tcase 0x40: diga->status[0] |= IEC958_AES0_PRO_EMPHASIS_5015; break;\n\t\tcase 0x00: diga->status[0] |= IEC958_AES0_PRO_EMPHASIS_CCITT; break;\n\t\tcase 0x60: diga->status[0] |= IEC958_AES0_PRO_EMPHASIS_NOTID; break;\n\t\t}\n\t\tif (bits & 0x80)\n\t\t\tdiga->status[1] |= IEC958_AES1_PRO_MODE_STEREOPHONIC;\n\t}\n}\n\nSND_CS8403_DECL unsigned char SND_CS8403_ENCODE(struct snd_aes_iec958 *diga)\n{\n\tunsigned char bits;\n\n\tif (!(diga->status[0] & IEC958_AES0_PROFESSIONAL)) {\n\t\tbits = 0x01;\t \n\t\tif (diga->status[0] & IEC958_AES0_NONAUDIO)\n\t\t\tbits &= ~0x02;\n\t\telse\n\t\t\tbits |= 0x02;\n\t\tif (diga->status[0] & IEC958_AES0_CON_NOT_COPYRIGHT)\n\t\t\tbits &= ~0x08;\n\t\telse\n\t\t\tbits |= 0x08;\n\t\tswitch (diga->status[0] & IEC958_AES0_CON_EMPHASIS) {\n\t\tdefault:\n\t\tcase IEC958_AES0_CON_EMPHASIS_NONE: bits |= 0x10; break;\n\t\tcase IEC958_AES0_CON_EMPHASIS_5015: bits |= 0x00; break;\n\t\t}\n\t\tif (diga->status[1] & IEC958_AES1_CON_ORIGINAL)\n\t\t\tbits &= ~0x80;\n\t\telse\n\t\t\tbits |= 0x80;\n\t\tif ((diga->status[1] & IEC958_AES1_CON_CATEGORY) == IEC958_AES1_CON_GENERAL)\n\t\t\tbits |= 0x60;\n\t\telse {\n\t\t\tswitch(diga->status[1] & IEC958_AES1_CON_MAGNETIC_MASK) {\n\t\t\tcase IEC958_AES1_CON_MAGNETIC_ID:\n\t\t\t\tbits |= 0x00; break;\n\t\t\tcase IEC958_AES1_CON_DIGDIGCONV_ID:\n\t\t\t\tbits |= 0x20; break;\n\t\t\tdefault:\n\t\t\tcase IEC958_AES1_CON_LASEROPT_ID:\n\t\t\t\tbits |= 0x40; break;\n\t\t\t}\n\t\t}\n\t\tswitch (diga->status[3] & IEC958_AES3_CON_FS) {\n\t\tdefault:\n\t\tcase IEC958_AES3_CON_FS_44100: bits |= 0x00; break;\n\t\tcase IEC958_AES3_CON_FS_48000: bits |= 0x02; break;\n\t\tcase IEC958_AES3_CON_FS_32000: bits |= 0x04; break;\n\t\t}\n\t} else {\n\t\tbits = 0x00;\t \n\t\tif (diga->status[0] & IEC958_AES0_NONAUDIO)\n\t\t\tbits &= ~0x02;\n\t\telse\n\t\t\tbits |= 0x02;\n\t\t \n\t\tswitch (diga->status[0] & IEC958_AES0_PRO_FS) {\n\t\tcase IEC958_AES0_PRO_FS_32000:\tbits |= 0x00; break;\n\t\tcase IEC958_AES0_PRO_FS_44100:\tbits |= 0x10; break;\t \n\t\tcase IEC958_AES0_PRO_FS_48000:\tbits |= 0x08; break;\t \n\t\tdefault:\n\t\tcase IEC958_AES0_PRO_FS_NOTID: bits |= 0x18; break;\n\t\t}\n\t\tswitch (diga->status[0] & IEC958_AES0_PRO_EMPHASIS) {\n\t\tcase IEC958_AES0_PRO_EMPHASIS_NONE: bits |= 0x20; break;\n\t\tcase IEC958_AES0_PRO_EMPHASIS_5015: bits |= 0x40; break;\n\t\tcase IEC958_AES0_PRO_EMPHASIS_CCITT: bits |= 0x00; break;\n\t\tdefault:\n\t\tcase IEC958_AES0_PRO_EMPHASIS_NOTID: bits |= 0x60; break;\n\t\t}\n\t\tswitch (diga->status[1] & IEC958_AES1_PRO_MODE) {\n\t\tcase IEC958_AES1_PRO_MODE_TWO:\n\t\tcase IEC958_AES1_PRO_MODE_STEREOPHONIC: bits |= 0x00; break;\n\t\tdefault: bits |= 0x80; break;\n\t\t}\n\t}\n\treturn bits;\n}\n\n#endif  \n\n#ifdef SND_CS8404\n\n#ifndef SND_CS8404_DECL\n#define SND_CS8404_DECL static\n#endif\n#ifndef SND_CS8404_DECODE\n#define SND_CS8404_DECODE snd_cs8404_decode_spdif_bits\n#endif\n#ifndef SND_CS8404_ENCODE\n#define SND_CS8404_ENCODE snd_cs8404_encode_spdif_bits\n#endif\n\n\nSND_CS8404_DECL void SND_CS8404_DECODE(struct snd_aes_iec958 *diga, unsigned char bits)\n{\n\tif (bits & 0x10) {\t \n\t\tif (!(bits & 0x20))\n\t\t\tdiga->status[0] |= IEC958_AES0_CON_NOT_COPYRIGHT;\n\t\tif (!(bits & 0x40))\n\t\t\tdiga->status[0] |= IEC958_AES0_CON_EMPHASIS_5015;\n\t\tif (!(bits & 0x80))\n\t\t\tdiga->status[1] |= IEC958_AES1_CON_ORIGINAL;\n\t\tswitch (bits & 0x03) {\n\t\tcase 0x00: diga->status[1] |= IEC958_AES1_CON_DAT; break;\n\t\tcase 0x03: diga->status[1] |= IEC958_AES1_CON_GENERAL; break;\n\t\t}\n\t\tswitch (bits & 0x06) {\n\t\tcase 0x02: diga->status[3] |= IEC958_AES3_CON_FS_32000; break;\n\t\tcase 0x04: diga->status[3] |= IEC958_AES3_CON_FS_48000; break;\n\t\tcase 0x06: diga->status[3] |= IEC958_AES3_CON_FS_44100; break;\n\t\t}\n\t} else {\n\t\tdiga->status[0] = IEC958_AES0_PROFESSIONAL;\n\t\tif (!(bits & 0x04))\n\t\t\tdiga->status[0] |= IEC958_AES0_NONAUDIO;\n\t\tswitch (bits & 0x60) {\n\t\tcase 0x00: diga->status[0] |= IEC958_AES0_PRO_FS_32000; break;\n\t\tcase 0x40: diga->status[0] |= IEC958_AES0_PRO_FS_44100; break;\n\t\tcase 0x20: diga->status[0] |= IEC958_AES0_PRO_FS_48000; break;\n\t\tcase 0x60: diga->status[0] |= IEC958_AES0_PRO_FS_NOTID; break;\n\t\t}\n\t\tswitch (bits & 0x03) {\n\t\tcase 0x02: diga->status[0] |= IEC958_AES0_PRO_EMPHASIS_NONE; break;\n\t\tcase 0x01: diga->status[0] |= IEC958_AES0_PRO_EMPHASIS_5015; break;\n\t\tcase 0x00: diga->status[0] |= IEC958_AES0_PRO_EMPHASIS_CCITT; break;\n\t\tcase 0x03: diga->status[0] |= IEC958_AES0_PRO_EMPHASIS_NOTID; break;\n\t\t}\n\t\tif (!(bits & 0x80))\n\t\t\tdiga->status[1] |= IEC958_AES1_PRO_MODE_STEREOPHONIC;\n\t}\n}\n\nSND_CS8404_DECL unsigned char SND_CS8404_ENCODE(struct snd_aes_iec958 *diga)\n{\n\tunsigned char bits;\n\n\tif (!(diga->status[0] & IEC958_AES0_PROFESSIONAL)) {\n\t\tbits = 0x10;\t \n\t\tif (!(diga->status[0] & IEC958_AES0_CON_NOT_COPYRIGHT))\n\t\t\tbits |= 0x20;\n\t\tif ((diga->status[0] & IEC958_AES0_CON_EMPHASIS) == IEC958_AES0_CON_EMPHASIS_NONE)\n\t\t\tbits |= 0x40;\n\t\tif (!(diga->status[1] & IEC958_AES1_CON_ORIGINAL))\n\t\t\tbits |= 0x80;\n\t\tif ((diga->status[1] & IEC958_AES1_CON_CATEGORY) == IEC958_AES1_CON_GENERAL)\n\t\t\tbits |= 0x03;\n\t\tswitch (diga->status[3] & IEC958_AES3_CON_FS) {\n\t\tdefault:\n\t\tcase IEC958_AES3_CON_FS_44100: bits |= 0x06; break;\n\t\tcase IEC958_AES3_CON_FS_48000: bits |= 0x04; break;\n\t\tcase IEC958_AES3_CON_FS_32000: bits |= 0x02; break;\n\t\t}\n\t} else {\n\t\tbits = 0x00;\t \n\t\tif (!(diga->status[0] & IEC958_AES0_NONAUDIO))\n\t\t\tbits |= 0x04;\n\t\tswitch (diga->status[0] & IEC958_AES0_PRO_FS) {\n\t\tcase IEC958_AES0_PRO_FS_32000:\tbits |= 0x00; break;\n\t\tcase IEC958_AES0_PRO_FS_44100:\tbits |= 0x40; break;\t \n\t\tcase IEC958_AES0_PRO_FS_48000:\tbits |= 0x20; break;\t \n\t\tdefault:\n\t\tcase IEC958_AES0_PRO_FS_NOTID:\tbits |= 0x00; break;\n\t\t}\n\t\tswitch (diga->status[0] & IEC958_AES0_PRO_EMPHASIS) {\n\t\tcase IEC958_AES0_PRO_EMPHASIS_NONE: bits |= 0x02; break;\n\t\tcase IEC958_AES0_PRO_EMPHASIS_5015: bits |= 0x01; break;\n\t\tcase IEC958_AES0_PRO_EMPHASIS_CCITT: bits |= 0x00; break;\n\t\tdefault:\n\t\tcase IEC958_AES0_PRO_EMPHASIS_NOTID: bits |= 0x03; break;\n\t\t}\n\t\tswitch (diga->status[1] & IEC958_AES1_PRO_MODE) {\n\t\tcase IEC958_AES1_PRO_MODE_TWO:\n\t\tcase IEC958_AES1_PRO_MODE_STEREOPHONIC: bits |= 0x00; break;\n\t\tdefault: bits |= 0x80; break;\n\t\t}\n\t}\n\treturn bits;\n}\n\n#endif  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}