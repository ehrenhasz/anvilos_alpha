{
  "module_name": "snd_wavefront.h",
  "hash_id": "d81e3f7c8488ae8530037c5482b61e91c264c2cee411206d234e904a1d341462",
  "original_prompt": "Ingested from linux-6.6.14/include/sound/snd_wavefront.h",
  "human_readable_source": " \n#ifndef __SOUND_SND_WAVEFRONT_H__\n#define __SOUND_SND_WAVEFRONT_H__\n\n#include <sound/mpu401.h>\n#include <sound/hwdep.h>\n#include <sound/rawmidi.h>\n#include <sound/wavefront.h>   \n\n \n\nstruct _snd_wavefront_midi;\nstruct _snd_wavefront_card;\nstruct _snd_wavefront;\n\ntypedef struct _snd_wavefront_midi snd_wavefront_midi_t;\ntypedef struct _snd_wavefront_card snd_wavefront_card_t;\ntypedef struct _snd_wavefront snd_wavefront_t;\n\ntypedef enum { internal_mpu = 0, external_mpu = 1 } snd_wavefront_mpu_id;\n\nstruct _snd_wavefront_midi {\n        unsigned long            base;         \n\tchar                     isvirtual;    \n\tchar\t\t\t istimer;      \n        snd_wavefront_mpu_id     output_mpu;   \n        snd_wavefront_mpu_id     input_mpu;    \n        unsigned int             mode[2];      \n\tstruct snd_rawmidi_substream\t *substream_output[2];\n\tstruct snd_rawmidi_substream\t *substream_input[2];\n\tstruct timer_list\t timer;\n\tsnd_wavefront_card_t\t *timer_card;\n        spinlock_t               open;\n        spinlock_t               virtual;      \n};\n\n#define\tOUTPUT_READY\t0x40\n#define\tINPUT_AVAIL\t0x80\n#define\tMPU_ACK\t\t0xFE\n#define\tUART_MODE_ON\t0x3F\n\nextern const struct snd_rawmidi_ops snd_wavefront_midi_output;\nextern const struct snd_rawmidi_ops snd_wavefront_midi_input;\n\nextern void   snd_wavefront_midi_enable_virtual (snd_wavefront_card_t *);\nextern void   snd_wavefront_midi_disable_virtual (snd_wavefront_card_t *);\nextern void   snd_wavefront_midi_interrupt (snd_wavefront_card_t *);\nextern int    snd_wavefront_midi_start (snd_wavefront_card_t *);\n\nstruct _snd_wavefront {\n\tunsigned long    irq;    \n\tunsigned long    base;   \n\tstruct resource\t *res_base;  \n\n#define mpu_data_port    base \n#define mpu_command_port base + 1  \n#define mpu_status_port  base + 1  \n#define data_port        base + 2 \n#define status_port      base + 3  \n#define control_port     base + 3  \n#define block_port       base + 4  \n#define last_block_port  base + 6  \n\n\t \n\n#define fx_status       base + 8 \n#define fx_op           base + 8 \n#define fx_lcr          base + 9 \n#define fx_dsp_addr     base + 0xa\n#define fx_dsp_page     base + 0xb \n#define fx_dsp_lsb      base + 0xc \n#define fx_dsp_msb      base + 0xd \n#define fx_mod_addr     base + 0xe\n#define fx_mod_data     base + 0xf \n\n\tvolatile int irq_ok;                \n        volatile int irq_cnt;               \n\tchar debug;                         \n\tint freemem;                         \n\n\tchar fw_version[2];                 \n\tchar hw_version[2];                 \n\tchar israw;                         \n\tchar has_fx;                        \n\tchar fx_initialized;                \n\tchar prog_status[WF_MAX_PROGRAM];   \n\tchar patch_status[WF_MAX_PATCH];    \n\tchar sample_status[WF_MAX_SAMPLE];  \n\tint samples_used;                   \n\tchar interrupts_are_midi;           \n\tchar rom_samples_rdonly;            \n\tspinlock_t irq_lock;\n\twait_queue_head_t interrupt_sleeper; \n\tsnd_wavefront_midi_t midi;          \n\tstruct snd_card *card;\n};\n\nstruct _snd_wavefront_card {\n\tsnd_wavefront_t wavefront;\n#ifdef CONFIG_PNP\n\tstruct pnp_dev *wss;\n\tstruct pnp_dev *ctrl;\n\tstruct pnp_dev *mpu;\n\tstruct pnp_dev *synth;\n#endif  \n};\n\nextern void snd_wavefront_internal_interrupt (snd_wavefront_card_t *card);\nextern int  snd_wavefront_detect_irq (snd_wavefront_t *dev) ;\nextern int  snd_wavefront_check_irq (snd_wavefront_t *dev, int irq);\nextern int  snd_wavefront_restart (snd_wavefront_t *dev);\nextern int  snd_wavefront_start (snd_wavefront_t *dev);\nextern int  snd_wavefront_detect (snd_wavefront_card_t *card);\nextern int  snd_wavefront_config_midi (snd_wavefront_t *dev) ;\nextern int  snd_wavefront_cmd (snd_wavefront_t *, int, unsigned char *,\n\t\t\t       unsigned char *);\n\nextern int snd_wavefront_synth_ioctl   (struct snd_hwdep *, \n\t\t\t\t\tstruct file *,\n\t\t\t\t\tunsigned int cmd, \n\t\t\t\t\tunsigned long arg);\nextern int  snd_wavefront_synth_open    (struct snd_hwdep *, struct file *);\nextern int  snd_wavefront_synth_release (struct snd_hwdep *, struct file *);\n\n \n\nextern int  snd_wavefront_fx_start  (snd_wavefront_t *);\nextern int  snd_wavefront_fx_detect (snd_wavefront_t *);\nextern int  snd_wavefront_fx_ioctl  (struct snd_hwdep *, \n\t\t\t\t     struct file *,\n\t\t\t\t     unsigned int cmd, \n\t\t\t\t     unsigned long arg);\nextern int snd_wavefront_fx_open    (struct snd_hwdep *, struct file *);\nextern int snd_wavefront_fx_release (struct snd_hwdep *, struct file *);\n\n \n\n#define LOGNAME \"WaveFront: \"\n\n#endif   \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}