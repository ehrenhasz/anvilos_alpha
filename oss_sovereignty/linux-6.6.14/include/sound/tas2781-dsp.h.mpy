{
  "module_name": "tas2781-dsp.h",
  "hash_id": "5309e87f4c87153957424e1888566aada202a37fb4c255e9bee2ce86fce75199",
  "original_prompt": "Ingested from linux-6.6.14/include/sound/tas2781-dsp.h",
  "human_readable_source": " \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#ifndef __TASDEVICE_DSP_H__\n#define __TASDEVICE_DSP_H__\n\n#define MAIN_ALL_DEVICES\t\t\t0x0d\n#define MAIN_DEVICE_A\t\t\t\t0x01\n#define MAIN_DEVICE_B\t\t\t\t0x08\n#define MAIN_DEVICE_C\t\t\t\t0x10\n#define MAIN_DEVICE_D\t\t\t\t0x14\n#define COEFF_DEVICE_A\t\t\t\t0x03\n#define COEFF_DEVICE_B\t\t\t\t0x0a\n#define COEFF_DEVICE_C\t\t\t\t0x11\n#define COEFF_DEVICE_D\t\t\t\t0x15\n#define PRE_DEVICE_A\t\t\t\t0x04\n#define PRE_DEVICE_B\t\t\t\t0x0b\n#define PRE_DEVICE_C\t\t\t\t0x12\n#define PRE_DEVICE_D\t\t\t\t0x16\n\n#define PPC3_VERSION\t\t\t\t0x4100\n#define PPC3_VERSION_TAS2781\t\t\t0x14600\n#define TASDEVICE_DEVICE_SUM\t\t\t8\n#define TASDEVICE_CONFIG_SUM\t\t\t64\n\n#define TASDEVICE_MAX_CHANNELS\t\t\t8\n\nenum tasdevice_dsp_dev_idx {\n\tTASDEVICE_DSP_TAS_2555 = 0,\n\tTASDEVICE_DSP_TAS_2555_STEREO,\n\tTASDEVICE_DSP_TAS_2557_MONO,\n\tTASDEVICE_DSP_TAS_2557_DUAL_MONO,\n\tTASDEVICE_DSP_TAS_2559,\n\tTASDEVICE_DSP_TAS_2563,\n\tTASDEVICE_DSP_TAS_2563_DUAL_MONO = 7,\n\tTASDEVICE_DSP_TAS_2563_QUAD,\n\tTASDEVICE_DSP_TAS_2563_21,\n\tTASDEVICE_DSP_TAS_2781,\n\tTASDEVICE_DSP_TAS_2781_DUAL_MONO,\n\tTASDEVICE_DSP_TAS_2781_21,\n\tTASDEVICE_DSP_TAS_2781_QUAD,\n\tTASDEVICE_DSP_TAS_MAX_DEVICE\n};\n\nstruct tasdevice_fw_fixed_hdr {\n\tunsigned int fwsize;\n\tunsigned int ppcver;\n\tunsigned int drv_ver;\n};\n\nstruct tasdevice_dspfw_hdr {\n\tstruct tasdevice_fw_fixed_hdr fixed_hdr;\n\tunsigned short device_family;\n\tunsigned short device;\n\tunsigned char ndev;\n};\n\nstruct tasdev_blk {\n\tint nr_retry;\n\tunsigned int type;\n\tunsigned char is_pchksum_present;\n\tunsigned char pchksum;\n\tunsigned char is_ychksum_present;\n\tunsigned char ychksum;\n\tunsigned int nr_cmds;\n\tunsigned int blk_size;\n\tunsigned int nr_subblocks;\n\tunsigned char *data;\n};\n\nstruct tasdevice_data {\n\tchar name[64];\n\tunsigned int nr_blk;\n\tstruct tasdev_blk *dev_blks;\n};\n\nstruct tasdevice_prog {\n\tunsigned int prog_size;\n\tstruct tasdevice_data dev_data;\n};\n\nstruct tasdevice_config {\n\tunsigned int cfg_size;\n\tchar name[64];\n\tstruct tasdevice_data dev_data;\n};\n\nstruct tasdevice_calibration {\n\tstruct tasdevice_data dev_data;\n};\n\nstruct tasdevice_fw {\n\tstruct tasdevice_dspfw_hdr fw_hdr;\n\tunsigned short nr_programs;\n\tstruct tasdevice_prog *programs;\n\tunsigned short nr_configurations;\n\tstruct tasdevice_config *configs;\n\tunsigned short nr_calibrations;\n\tstruct tasdevice_calibration *calibrations;\n\tstruct device *dev;\n};\n\nenum tasdevice_dsp_fw_state {\n\tTASDEVICE_DSP_FW_NONE = 0,\n\tTASDEVICE_DSP_FW_PENDING,\n\tTASDEVICE_DSP_FW_FAIL,\n\tTASDEVICE_DSP_FW_ALL_OK,\n};\n\nenum tasdevice_bin_blk_type {\n\tTASDEVICE_BIN_BLK_COEFF = 1,\n\tTASDEVICE_BIN_BLK_POST_POWER_UP,\n\tTASDEVICE_BIN_BLK_PRE_SHUTDOWN,\n\tTASDEVICE_BIN_BLK_PRE_POWER_UP,\n\tTASDEVICE_BIN_BLK_POST_SHUTDOWN\n};\n\nstruct tasdevice_rca_hdr {\n\tunsigned int img_sz;\n\tunsigned int checksum;\n\tunsigned int binary_version_num;\n\tunsigned int drv_fw_version;\n\tunsigned char plat_type;\n\tunsigned char dev_family;\n\tunsigned char reserve;\n\tunsigned char ndev;\n\tunsigned char devs[TASDEVICE_DEVICE_SUM];\n\tunsigned int nconfig;\n\tunsigned int config_size[TASDEVICE_CONFIG_SUM];\n};\n\nstruct tasdev_blk_data {\n\tunsigned char dev_idx;\n\tunsigned char block_type;\n\tunsigned short yram_checksum;\n\tunsigned int block_size;\n\tunsigned int n_subblks;\n\tunsigned char *regdata;\n};\n\nstruct tasdevice_config_info {\n\tunsigned int nblocks;\n\tunsigned int real_nblocks;\n\tunsigned char active_dev;\n\tstruct tasdev_blk_data **blk_data;\n};\n\nstruct tasdevice_rca {\n\tstruct tasdevice_rca_hdr fw_hdr;\n\tint ncfgs;\n\tstruct tasdevice_config_info **cfg_info;\n\tint profile_cfg_id;\n};\n\nvoid tasdevice_select_cfg_blk(void *context, int conf_no,\n\tunsigned char block_type);\nvoid tasdevice_config_info_remove(void *context);\nvoid tasdevice_dsp_remove(void *context);\nint tasdevice_dsp_parser(void *context);\nint tasdevice_rca_parser(void *context, const struct firmware *fmw);\nvoid tasdevice_dsp_remove(void *context);\nvoid tasdevice_calbin_remove(void *context);\nint tasdevice_select_tuningprm_cfg(void *context, int prm,\n\tint cfg_no, int rca_conf_no);\nint tasdevice_prmg_load(void *context, int prm_no);\nint tasdevice_prmg_calibdata_load(void *context, int prm_no);\nvoid tasdevice_tuning_switch(void *context, int state);\nint tas2781_load_calibration(void *context, char *file_name,\n\tunsigned short i);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}