{
  "module_name": "soc-dpcm.h",
  "hash_id": "b16369e6373adaf51e3c69a54889fa6553166dea2b3be9e73eaac7a9b6512f8c",
  "original_prompt": "Ingested from linux-6.6.14/include/sound/soc-dpcm.h",
  "human_readable_source": " \n\n#ifndef __LINUX_SND_SOC_DPCM_H\n#define __LINUX_SND_SOC_DPCM_H\n\n#include <linux/slab.h>\n#include <linux/list.h>\n#include <sound/pcm.h>\n\nstruct snd_soc_pcm_runtime;\n\n \nenum snd_soc_dpcm_update {\n\tSND_SOC_DPCM_UPDATE_NO\t= 0,\n\tSND_SOC_DPCM_UPDATE_BE,\n\tSND_SOC_DPCM_UPDATE_FE,\n};\n\n \nenum snd_soc_dpcm_link_state {\n\tSND_SOC_DPCM_LINK_STATE_NEW\t= 0,\t \n\tSND_SOC_DPCM_LINK_STATE_FREE,\t\t \n};\n\n \nenum snd_soc_dpcm_state {\n\tSND_SOC_DPCM_STATE_NEW\t= 0,\n\tSND_SOC_DPCM_STATE_OPEN,\n\tSND_SOC_DPCM_STATE_HW_PARAMS,\n\tSND_SOC_DPCM_STATE_PREPARE,\n\tSND_SOC_DPCM_STATE_START,\n\tSND_SOC_DPCM_STATE_STOP,\n\tSND_SOC_DPCM_STATE_PAUSED,\n\tSND_SOC_DPCM_STATE_SUSPEND,\n\tSND_SOC_DPCM_STATE_HW_FREE,\n\tSND_SOC_DPCM_STATE_CLOSE,\n};\n\n \nenum snd_soc_dpcm_trigger {\n\tSND_SOC_DPCM_TRIGGER_PRE\t\t= 0,\n\tSND_SOC_DPCM_TRIGGER_POST,\n\tSND_SOC_DPCM_TRIGGER_BESPOKE,\n};\n\n \nstruct snd_soc_dpcm {\n\t \n\tstruct snd_soc_pcm_runtime *be;\n\tstruct snd_soc_pcm_runtime *fe;\n\n\t \n\tenum snd_soc_dpcm_link_state state;\n\n\t \n\tstruct list_head list_be;\n\tstruct list_head list_fe;\n\n#ifdef CONFIG_DEBUG_FS\n\tstruct dentry *debugfs_state;\n#endif\n};\n\n \nstruct snd_soc_dpcm_runtime {\n\tstruct list_head be_clients;\n\tstruct list_head fe_clients;\n\n\tint users;\n\tstruct snd_pcm_hw_params hw_params;\n\n\t \n\tenum snd_soc_dpcm_update runtime_update;\n\tenum snd_soc_dpcm_state state;\n\n\tint trigger_pending;  \n\n\tint be_start;  \n\tint be_pause;  \n\tbool fe_pause;  \n};\n\n#define for_each_dpcm_fe(be, stream, _dpcm)\t\t\t\t\\\n\tlist_for_each_entry(_dpcm, &(be)->dpcm[stream].fe_clients, list_fe)\n\n#define for_each_dpcm_be(fe, stream, _dpcm)\t\t\t\t\\\n\tlist_for_each_entry(_dpcm, &(fe)->dpcm[stream].be_clients, list_be)\n#define for_each_dpcm_be_safe(fe, stream, _dpcm, __dpcm)\t\t\t\\\n\tlist_for_each_entry_safe(_dpcm, __dpcm, &(fe)->dpcm[stream].be_clients, list_be)\n#define for_each_dpcm_be_rollback(fe, stream, _dpcm)\t\t\t\\\n\tlist_for_each_entry_continue_reverse(_dpcm, &(fe)->dpcm[stream].be_clients, list_be)\n\n \nint snd_soc_dpcm_can_be_free_stop(struct snd_soc_pcm_runtime *fe,\n\t\tstruct snd_soc_pcm_runtime *be, int stream);\n\n \nint snd_soc_dpcm_can_be_params(struct snd_soc_pcm_runtime *fe,\n\t\tstruct snd_soc_pcm_runtime *be, int stream);\n\n \nint snd_soc_dpcm_can_be_prepared(struct snd_soc_pcm_runtime *fe,\n\t\t\t\t struct snd_soc_pcm_runtime *be, int stream);\n\n \nint snd_soc_dpcm_fe_can_update(struct snd_soc_pcm_runtime *fe, int stream);\n\n \nint snd_soc_dpcm_be_can_update(struct snd_soc_pcm_runtime *fe,\n\t\tstruct snd_soc_pcm_runtime *be, int stream);\n\n \nstruct snd_pcm_substream *\n\tsnd_soc_dpcm_get_substream(struct snd_soc_pcm_runtime *be, int stream);\n\n \nint snd_soc_dpcm_runtime_update(struct snd_soc_card *card);\n\n#ifdef CONFIG_DEBUG_FS\nvoid soc_dpcm_debugfs_add(struct snd_soc_pcm_runtime *rtd);\n#else\nstatic inline void soc_dpcm_debugfs_add(struct snd_soc_pcm_runtime *rtd)\n{\n}\n#endif\n\nint dpcm_path_get(struct snd_soc_pcm_runtime *fe,\n\tint stream, struct snd_soc_dapm_widget_list **list_);\nvoid dpcm_path_put(struct snd_soc_dapm_widget_list **list);\nint dpcm_process_paths(struct snd_soc_pcm_runtime *fe,\n\tint stream, struct snd_soc_dapm_widget_list **list, int new);\nint dpcm_be_dai_startup(struct snd_soc_pcm_runtime *fe, int stream);\nvoid dpcm_be_dai_stop(struct snd_soc_pcm_runtime *fe, int stream,\n\t\t      int do_hw_free, struct snd_soc_dpcm *last);\nvoid dpcm_be_disconnect(struct snd_soc_pcm_runtime *fe, int stream);\nvoid dpcm_clear_pending_state(struct snd_soc_pcm_runtime *fe, int stream);\nvoid dpcm_be_dai_hw_free(struct snd_soc_pcm_runtime *fe, int stream);\nint dpcm_be_dai_hw_params(struct snd_soc_pcm_runtime *fe, int tream);\nint dpcm_be_dai_trigger(struct snd_soc_pcm_runtime *fe, int stream, int cmd);\nint dpcm_be_dai_prepare(struct snd_soc_pcm_runtime *fe, int stream);\nint dpcm_dapm_stream_event(struct snd_soc_pcm_runtime *fe, int dir,\n\tint event);\nbool dpcm_end_walk_at_be(struct snd_soc_dapm_widget *widget, enum snd_soc_dapm_direction dir);\nint widget_in_list(struct snd_soc_dapm_widget_list *list,\n\t\t   struct snd_soc_dapm_widget *widget);\n\n#define dpcm_be_dai_startup_rollback(fe, stream, last)\t\\\n\t\t\t\t\t\tdpcm_be_dai_stop(fe, stream, 0, last)\n#define dpcm_be_dai_startup_unwind(fe, stream)\tdpcm_be_dai_stop(fe, stream, 0, NULL)\n#define dpcm_be_dai_shutdown(fe, stream)\tdpcm_be_dai_stop(fe, stream, 1, NULL)\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}