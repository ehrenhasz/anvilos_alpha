{
  "module_name": "wavefront.h",
  "hash_id": "6871966921189846fb40dea3198382a055f68cd4a652ad73f0f17925a767b075",
  "original_prompt": "Ingested from linux-6.6.14/include/sound/wavefront.h",
  "human_readable_source": " \n#ifndef __SOUND_WAVEFRONT_H__\n#define __SOUND_WAVEFRONT_H__\n\n \n\n#if (!defined(__GNUC__) && !defined(__GNUG__))\n\n     You will not be able to compile this file correctly without gcc, because\n     it is necessary to pack the \"wavefront_alias\" structure to a size\n     of 22 bytes, corresponding to 16-bit alignment (as would have been\n     the case on the original platform, MS-DOS). If this is not done,\n     then WavePatch-format files cannot be read/written correctly.\n     The method used to do this here (\"__attribute__((packed)\") is\n     completely compiler dependent.\n     \n     All other wavefront_* types end up aligned to 32 bit values and\n     still have the same (correct) size.\n\n#else\n\n      \n\n#endif  \n\n \n\n#ifndef NUM_MIDIKEYS \n#define NUM_MIDIKEYS 128\n#endif   \n\n#ifndef NUM_MIDICHANNELS\n#define NUM_MIDICHANNELS 16\n#endif   \n\n    \n\n#ifndef __KERNEL__\n \ntypedef short s16;\ntypedef unsigned short u16;\ntypedef int s32;\ntypedef unsigned int u32;\ntypedef char s8;\ntypedef unsigned char u8;\ntypedef s16 INT16;\ntypedef u16 UINT16;\ntypedef s32 INT32;\ntypedef u32 UINT32;\ntypedef s8 CHAR8;\ntypedef u8 UCHAR8;\n#endif\n\n \n\n#define WFC_DEBUG_DRIVER                0\n#define WFC_FX_IOCTL                    1\n#define WFC_PATCH_STATUS                2\n#define WFC_PROGRAM_STATUS              3\n#define WFC_SAMPLE_STATUS               4\n#define WFC_DISABLE_INTERRUPTS          5\n#define WFC_ENABLE_INTERRUPTS           6\n#define WFC_INTERRUPT_STATUS            7\n#define WFC_ROMSAMPLES_RDONLY           8\n#define WFC_IDENTIFY_SLOT_TYPE          9\n\n \n\n#define WFC_DOWNLOAD_SAMPLE\t\t0x80\n#define WFC_DOWNLOAD_BLOCK\t\t0x81\n#define WFC_DOWNLOAD_MULTISAMPLE\t0x82\n#define WFC_DOWNLOAD_SAMPLE_ALIAS\t0x83\n#define WFC_DELETE_SAMPLE\t\t0x84\n#define WFC_REPORT_FREE_MEMORY\t\t0x85\n#define WFC_DOWNLOAD_PATCH\t\t0x86\n#define WFC_DOWNLOAD_PROGRAM\t\t0x87\n#define WFC_SET_SYNTHVOL\t\t0x89\n#define WFC_SET_NVOICES\t\t\t0x8B\n#define WFC_DOWNLOAD_DRUM\t\t0x90\n#define WFC_GET_SYNTHVOL\t\t0x92\n#define WFC_GET_NVOICES\t\t\t0x94\n#define WFC_DISABLE_CHANNEL\t\t0x9A\n#define WFC_ENABLE_CHANNEL\t\t0x9B\n#define WFC_MISYNTH_OFF\t\t\t0x9D\n#define WFC_MISYNTH_ON\t\t\t0x9E\n#define WFC_FIRMWARE_VERSION\t\t0x9F\n#define WFC_GET_NSAMPLES\t\t0xA0\n#define WFC_DISABLE_DRUM_PROGRAM\t0xA2\n#define WFC_UPLOAD_PATCH\t\t0xA3\n#define WFC_UPLOAD_PROGRAM\t\t0xA4\n#define WFC_SET_TUNING\t\t\t0xA6\n#define WFC_GET_TUNING\t\t\t0xA7\n#define WFC_VMIDI_ON\t\t\t0xA8\n#define WFC_VMIDI_OFF\t\t\t0xA9\n#define WFC_MIDI_STATUS\t\t\t0xAA\n#define WFC_GET_CHANNEL_STATUS\t\t0xAB\n#define WFC_DOWNLOAD_SAMPLE_HEADER\t0xAC\n#define WFC_UPLOAD_SAMPLE_HEADER\t0xAD\n#define WFC_UPLOAD_MULTISAMPLE\t\t0xAE\n#define WFC_UPLOAD_SAMPLE_ALIAS\t\t0xAF\n#define WFC_IDENTIFY_SAMPLE_TYPE\t0xB0\n#define WFC_DOWNLOAD_EDRUM_PROGRAM\t0xB1\n#define WFC_UPLOAD_EDRUM_PROGRAM\t0xB2\n#define WFC_SET_EDRUM_CHANNEL\t\t0xB3\n#define WFC_INSTOUT_LEVELS\t\t0xB4\n#define WFC_PEAKOUT_LEVELS\t\t0xB5\n#define WFC_REPORT_CHANNEL_PROGRAMS\t0xB6\n#define WFC_HARDWARE_VERSION\t\t0xCF\n#define WFC_UPLOAD_SAMPLE_PARAMS\t0xD7\n#define WFC_DOWNLOAD_OS\t\t\t0xF1\n#define WFC_NOOP                        0xFF\n\n#define WF_MAX_SAMPLE   512\n#define WF_MAX_PATCH    256\n#define WF_MAX_PROGRAM  128\n\n#define WF_SECTION_MAX  44    \n\n \n\n#define WF_PROGRAM_BYTES 32\n#define WF_PATCH_BYTES 132\n#define WF_SAMPLE_BYTES 27\n#define WF_SAMPLE_HDR_BYTES 25\n#define WF_ALIAS_BYTES 25\n#define WF_DRUM_BYTES 9\n#define WF_MSAMPLE_BYTES 259  \n\n#define WF_ACK     0x80\n#define WF_DMA_ACK 0x81\n\n \n\n#define WF_MIDI_VIRTUAL_ENABLED 0x1\n#define WF_MIDI_VIRTUAL_IS_EXTERNAL 0x2\n#define WF_MIDI_IN_TO_SYNTH_DISABLED 0x4\n\n \n\n#define WF_SYNTH_SLOT         0\n#define WF_INTERNAL_MIDI_SLOT 1\n#define WF_EXTERNAL_MIDI_SLOT 2\n\n \n\n#define WF_EXTERNAL_SWITCH  0xFD\n#define WF_INTERNAL_SWITCH  0xF9\n\n \n\n#define WF_DEBUG_CMD 0x1\n#define WF_DEBUG_DATA 0x2\n#define WF_DEBUG_LOAD_PATCH 0x4\n#define WF_DEBUG_IO 0x8\n\n \n\n#define WF_WAVEPATCH_VERSION     120;   \n#define WF_MAX_COMMENT           64     \n#define WF_NUM_LAYERS            4\n#define WF_NAME_LENGTH           32\n#define WF_SOURCE_LENGTH         260\n\n#define BankFileID     \"Bank\"\n#define DrumkitFileID  \"DrumKit\"\n#define ProgramFileID  \"Program\"\n\nstruct wf_envelope\n{\n    u8 attack_time:7;\n    u8 Unused1:1;\n\n    u8 decay1_time:7;\n    u8 Unused2:1;\n\n    u8 decay2_time:7;\n    u8 Unused3:1;\n\n    u8 sustain_time:7;\n    u8 Unused4:1;\n\n    u8 release_time:7;\n    u8 Unused5:1;\n\n    u8 release2_time:7;\n    u8 Unused6:1;\n\n    s8 attack_level;\n    s8 decay1_level;\n    s8 decay2_level;\n    s8 sustain_level;\n    s8 release_level;\n\n    u8 attack_velocity:7;\n    u8 Unused7:1;\n\n    u8 volume_velocity:7;\n    u8 Unused8:1;\n\n    u8 keyboard_scaling:7;\n    u8 Unused9:1;\n};\ntypedef struct wf_envelope wavefront_envelope;\n\nstruct wf_lfo\n{\n    u8 sample_number;\n\n    u8 frequency:7;\n    u8 Unused1:1;\n\n    u8 am_src:4;\n    u8 fm_src:4;\n\n    s8 fm_amount;\n    s8 am_amount;\n    s8 start_level;\n    s8 end_level;\n\n    u8 ramp_delay:7;\n    u8 wave_restart:1;  \n\n    u8 ramp_time:7;\n    u8 Unused2:1;\n};\ntypedef struct wf_lfo wavefront_lfo;\n\nstruct wf_patch\n{\n    s16  frequency_bias;          \n\n    u8 amplitude_bias:7;\n    u8 Unused1:1;\n\n    u8 portamento:7;\n    u8 Unused2:1;\n\n    u8 sample_number;\n\n    u8 pitch_bend:4;\n    u8 sample_msb:1;\n    u8 Unused3:3;\n\n    u8 mono:1;\n    u8 retrigger:1;\n    u8 nohold:1;\n    u8 restart:1;\n    u8 filterconfig:2;  \n    u8 reuse:1;\n    u8 reset_lfo:1;    \n\n    u8 fm_src2:4;\n    u8 fm_src1:4;   \n\n    s8 fm_amount1;\n    s8 fm_amount2;\n\n    u8 am_src:4;\n    u8 Unused4:4;\n\n    s8 am_amount;\n\n    u8 fc1_mode:4;\n    u8 fc2_mode:4;\n\n    s8 fc1_mod_amount;\n    s8 fc1_keyboard_scaling;\n    s8 fc1_bias;\n    s8 fc2_mod_amount;\n    s8 fc2_keyboard_scaling;\n    s8 fc2_bias;\n\n    u8 randomizer:7;\n    u8 Unused5:1;\n\n    struct wf_envelope envelope1;\n    struct wf_envelope envelope2;\n    struct wf_lfo lfo1;\n    struct wf_lfo lfo2;\n};\ntypedef struct wf_patch wavefront_patch;\n\nstruct wf_layer\n{\n    u8 patch_number;\n\n    u8 mix_level:7;\n    u8 mute:1;\n\n    u8 split_point:7;\n    u8 play_below:1;\n\n    u8 pan_mod_src:2;\n    u8 pan_or_mod:1;\n    u8 pan:4;\n    u8 split_type:1;\n};\ntypedef struct wf_layer wavefront_layer;\n\nstruct wf_program\n{\n    struct wf_layer layer[WF_NUM_LAYERS];\n};\ntypedef struct wf_program wavefront_program;\n\nstruct wf_sample_offset\n{\n    s32 Fraction:4;\n    s32 Integer:20;\n    s32 Unused:8;\n};\ntypedef struct wf_sample_offset wavefront_sample_offset;          \n     \n \n\n#define WF_ST_SAMPLE      0\n#define WF_ST_MULTISAMPLE 1\n#define WF_ST_ALIAS       2\n#define WF_ST_EMPTY       3\n\n \n\n#define WF_ST_DRUM        4\n#define WF_ST_PROGRAM     5\n#define WF_ST_PATCH       6\n#define WF_ST_SAMPLEHDR   7\n\n#define WF_ST_MASK        0xf\n\n \n\n#define WF_SLOT_USED      0x80    \n#define WF_SLOT_FILLED    0x40\n#define WF_SLOT_ROM       0x20\n\n#define WF_SLOT_MASK      0xf0\n\n \n\n#define WF_CH_MONO  0\n#define WF_CH_LEFT  1\n#define WF_CH_RIGHT 2\n\n \n\n#define LINEAR_16BIT 0\n#define WHITE_NOISE  1\n#define LINEAR_8BIT  2\n#define MULAW_8BIT   3\n\n#define WF_SAMPLE_IS_8BIT(smpl) ((smpl)->SampleResolution&2)\n\n\n \n\n#define WF_SET_CHANNEL(samp,chn) \\\n (samp)->Unused1 = chn & 0x1; \\\n (samp)->Unused2 = chn & 0x2; \\\n (samp)->Unused3 = chn & 0x4 \n  \n#define WF_GET_CHANNEL(samp) \\\n  (((samp)->Unused3 << 2)|((samp)->Unused2<<1)|(samp)->Unused1)\n  \ntypedef struct wf_sample {\n    struct wf_sample_offset sampleStartOffset;\n    struct wf_sample_offset loopStartOffset;\n    struct wf_sample_offset loopEndOffset;\n    struct wf_sample_offset sampleEndOffset;\n    s16 FrequencyBias;\n    u8 SampleResolution:2;   \n    u8 Unused1:1;\n    u8 Loop:1;\n    u8 Bidirectional:1;\n    u8 Unused2:1;\n    u8 Reverse:1;\n    u8 Unused3:1;\n} wavefront_sample;\n\ntypedef struct wf_multisample {\n    s16 NumberOfSamples;    \n    s16 SampleNumber[NUM_MIDIKEYS];\n} wavefront_multisample;\n\ntypedef struct wf_alias {\n    s16 OriginalSample;\n\n    struct wf_sample_offset sampleStartOffset;\n    struct wf_sample_offset loopStartOffset;\n    struct wf_sample_offset sampleEndOffset;\n    struct wf_sample_offset loopEndOffset;\n\n    s16  FrequencyBias;\n\n    u8 SampleResolution:2;\n    u8 Unused1:1;\n    u8 Loop:1;\n    u8 Bidirectional:1;\n    u8 Unused2:1;\n    u8 Reverse:1;\n    u8 Unused3:1;\n    \n     \n\n    u8 sixteen_bit_padding;\n} __attribute__((packed)) wavefront_alias;\n\ntypedef struct wf_drum {\n    u8 PatchNumber;\n    u8 MixLevel:7;\n    u8 Unmute:1;\n    u8 Group:4;\n    u8 Unused1:4;\n    u8 PanModSource:2;\n    u8 PanModulated:1;\n    u8 PanAmount:4;\n    u8 Unused2:1;\n} wavefront_drum;\n\ntypedef struct wf_drumkit {\n    struct wf_drum drum[NUM_MIDIKEYS];\n} wavefront_drumkit;\n\ntypedef struct wf_channel_programs {\n    u8 Program[NUM_MIDICHANNELS];\n} wavefront_channel_programs;\n\n \n\n#define WF_CHANNEL_STATUS(ch,wcp) (wcp)[(ch/7)] & (1<<((ch)%7))\n\ntypedef union wf_any {\n    wavefront_sample s;\n    wavefront_multisample ms;\n    wavefront_alias a;\n    wavefront_program pr;\n    wavefront_patch p;\n    wavefront_drum d;\n} wavefront_any;\n\n \n\ntypedef struct wf_patch_info {\n    \n     \n\n    s16   key;                \n    u16  devno;              \n    u8  subkey;             \n\n#define WAVEFRONT_FIND_FREE_SAMPLE_SLOT 999\n\n    u16  number;             \n\n    u32  size;               \n    wavefront_any __user *hdrptr;       \n    u16 __user *dataptr;             \n\n    wavefront_any hdr;                    \n} wavefront_patch_info;\n\n \n\n#define WF_MAX_READ sizeof(wavefront_multisample)\n#define WF_MAX_WRITE sizeof(wavefront_multisample)\n\n \n\ntypedef struct wavefront_control {\n    int cmd;                            \n    char status;                        \n    unsigned char rbuf[WF_MAX_READ];    \n    unsigned char wbuf[WF_MAX_WRITE];   \n} wavefront_control;\n\n#define WFCTL_WFCMD    0x1\n#define WFCTL_LOAD_SPP 0x2\n\n \n\n#define WF_MOD_LFO1      0\n#define WF_MOD_LFO2      1\n#define WF_MOD_ENV1      2\n#define WF_MOD_ENV2      3\n#define WF_MOD_KEYBOARD  4\n#define WF_MOD_LOGKEY    5\n#define WF_MOD_VELOCITY  6\n#define WF_MOD_LOGVEL    7\n#define WF_MOD_RANDOM    8\n#define WF_MOD_PRESSURE  9\n#define WF_MOD_MOD_WHEEL 10\n#define WF_MOD_1         WF_MOD_MOD_WHEEL \n#define WF_MOD_BREATH    11\n#define WF_MOD_2         WF_MOD_BREATH\n#define WF_MOD_FOOT      12\n#define WF_MOD_4         WF_MOD_FOOT\n#define WF_MOD_VOLUME    13\n#define WF_MOD_7         WF_MOD_VOLUME\n#define WF_MOD_PAN       14\n#define WF_MOD_10        WF_MOD_PAN\n#define WF_MOD_EXPR      15\n#define WF_MOD_11        WF_MOD_EXPR\n\n \n\ntypedef struct wf_fx_info {\n    int request;              \n    long data[4];              \n} wavefront_fx_info;\n\n \n\n#define WFFX_SETOUTGAIN\t\t        0\n#define WFFX_SETSTEREOOUTGAIN\t\t1\n#define WFFX_SETREVERBIN1GAIN\t\t2\n#define WFFX_SETREVERBIN2GAIN\t\t3\n#define WFFX_SETREVERBIN3GAIN\t\t4\n#define WFFX_SETCHORUSINPORT\t\t5\n#define WFFX_SETREVERBIN1PORT\t\t6\n#define WFFX_SETREVERBIN2PORT\t\t7\n#define WFFX_SETREVERBIN3PORT\t\t8\n#define WFFX_SETEFFECTPORT\t\t9\n#define WFFX_SETAUXPORT\t\t        10\n#define WFFX_SETREVERBTYPE\t\t11\n#define WFFX_SETREVERBDELAY\t\t12\n#define WFFX_SETCHORUSLFO\t\t13\n#define WFFX_SETCHORUSPMD\t\t14\n#define WFFX_SETCHORUSAMD\t\t15\n#define WFFX_SETEFFECT\t\t        16\n#define WFFX_SETBASEALL\t\t        17\n#define WFFX_SETREVERBALL\t\t18\n#define WFFX_SETCHORUSALL\t\t20\n#define WFFX_SETREVERBDEF\t\t22\n#define WFFX_SETCHORUSDEF\t\t23\n#define WFFX_DELAYSETINGAIN\t\t24\n#define WFFX_DELAYSETFBGAIN\t        25\n#define WFFX_DELAYSETFBLPF\t\t26\n#define WFFX_DELAYSETGAIN\t\t27\n#define WFFX_DELAYSETTIME\t\t28\n#define WFFX_DELAYSETFBTIME\t\t29\n#define WFFX_DELAYSETALL\t\t30\n#define WFFX_DELAYSETDEF\t\t32\n#define WFFX_SDELAYSETINGAIN\t\t33\n#define WFFX_SDELAYSETFBGAIN\t\t34\n#define WFFX_SDELAYSETFBLPF\t\t35\n#define WFFX_SDELAYSETGAIN\t\t36\n#define WFFX_SDELAYSETTIME\t\t37\n#define WFFX_SDELAYSETFBTIME\t\t38\n#define WFFX_SDELAYSETALL\t\t39\n#define WFFX_SDELAYSETDEF\t\t41\n#define WFFX_DEQSETINGAIN\t\t42\n#define WFFX_DEQSETFILTER\t\t43\n#define WFFX_DEQSETALL\t\t        44\n#define WFFX_DEQSETDEF\t\t        46\n#define WFFX_MUTE\t\t        47\n#define WFFX_FLANGESETBALANCE\t        48\t\n#define WFFX_FLANGESETDELAY\t\t49\n#define WFFX_FLANGESETDWFFX_TH\t\t50\n#define WFFX_FLANGESETFBGAIN\t\t51\n#define WFFX_FLANGESETINGAIN\t\t52\n#define WFFX_FLANGESETLFO\t\t53\n#define WFFX_FLANGESETALL\t\t54\n#define WFFX_FLANGESETDEF\t\t56\n#define WFFX_PITCHSETSHIFT\t\t57\n#define WFFX_PITCHSETBALANCE\t\t58\n#define WFFX_PITCHSETALL\t\t59\n#define WFFX_PITCHSETDEF\t\t61\n#define WFFX_SRSSETINGAIN\t\t62\n#define WFFX_SRSSETSPACE\t\t63\n#define WFFX_SRSSETCENTER\t\t64\n#define WFFX_SRSSETGAIN\t\t        65\n#define WFFX_SRSSETMODE\t        \t66\n#define WFFX_SRSSETDEF\t\t        68\n\n \n\n#define WFFX_MEMSET              69\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}