{
  "module_name": "hda_regmap.h",
  "hash_id": "f2f119e6661186e294adef8373d2acc851cd9dec3fd3556c0f1db4d53f32a84f",
  "original_prompt": "Ingested from linux-6.6.14/include/sound/hda_regmap.h",
  "human_readable_source": " \n \n\n#ifndef __SOUND_HDA_REGMAP_H\n#define __SOUND_HDA_REGMAP_H\n\n#include <linux/regmap.h>\n#include <sound/core.h>\n#include <sound/hdaudio.h>\n\n#define AC_AMP_FAKE_MUTE\t0x10\t \n\nint snd_hdac_regmap_init(struct hdac_device *codec);\nvoid snd_hdac_regmap_exit(struct hdac_device *codec);\nint snd_hdac_regmap_add_vendor_verb(struct hdac_device *codec,\n\t\t\t\t    unsigned int verb);\nint snd_hdac_regmap_read_raw(struct hdac_device *codec, unsigned int reg,\n\t\t\t     unsigned int *val);\nint snd_hdac_regmap_read_raw_uncached(struct hdac_device *codec,\n\t\t\t\t      unsigned int reg, unsigned int *val);\nint snd_hdac_regmap_write_raw(struct hdac_device *codec, unsigned int reg,\n\t\t\t      unsigned int val);\nint snd_hdac_regmap_update_raw(struct hdac_device *codec, unsigned int reg,\n\t\t\t       unsigned int mask, unsigned int val);\nint snd_hdac_regmap_update_raw_once(struct hdac_device *codec, unsigned int reg,\n\t\t\t\t    unsigned int mask, unsigned int val);\nvoid snd_hdac_regmap_sync(struct hdac_device *codec);\n\n \n#define snd_hdac_regmap_encode_verb(nid, verb)\t\t\\\n\t(((verb) << 8) | 0x80000 | ((unsigned int)(nid) << 20))\n\n \n#define snd_hdac_regmap_encode_amp(nid, ch, dir, idx)\t\t\t\\\n\t(snd_hdac_regmap_encode_verb(nid, AC_VERB_GET_AMP_GAIN_MUTE) |\t\\\n\t ((ch) ? AC_AMP_GET_RIGHT : AC_AMP_GET_LEFT) |\t\t\t\\\n\t ((dir) == HDA_OUTPUT ? AC_AMP_GET_OUTPUT : AC_AMP_GET_INPUT) | \\\n\t (idx))\n\n \n#define snd_hdac_regmap_encode_amp_stereo(nid, dir, idx)\t\t\\\n\t(snd_hdac_regmap_encode_verb(nid, AC_VERB_GET_AMP_GAIN_MUTE) |\t\\\n\t AC_AMP_SET_LEFT | AC_AMP_SET_RIGHT |  \t\\\n\t ((dir) == HDA_OUTPUT ? AC_AMP_GET_OUTPUT : AC_AMP_GET_INPUT) | \\\n\t (idx))\n\n \nstatic inline int\nsnd_hdac_regmap_write(struct hdac_device *codec, hda_nid_t nid,\n\t\t      unsigned int verb, unsigned int val)\n{\n\tunsigned int cmd = snd_hdac_regmap_encode_verb(nid, verb);\n\n\treturn snd_hdac_regmap_write_raw(codec, cmd, val);\n}\n\n \nstatic inline int\nsnd_hdac_regmap_update(struct hdac_device *codec, hda_nid_t nid,\n\t\t       unsigned int verb, unsigned int mask,\n\t\t       unsigned int val)\n{\n\tunsigned int cmd = snd_hdac_regmap_encode_verb(nid, verb);\n\n\treturn snd_hdac_regmap_update_raw(codec, cmd, mask, val);\n}\n\n \nstatic inline int\nsnd_hdac_regmap_read(struct hdac_device *codec, hda_nid_t nid,\n\t\t     unsigned int verb, unsigned int *val)\n{\n\tunsigned int cmd = snd_hdac_regmap_encode_verb(nid, verb);\n\n\treturn snd_hdac_regmap_read_raw(codec, cmd, val);\n}\n\n \nstatic inline int\nsnd_hdac_regmap_get_amp(struct hdac_device *codec, hda_nid_t nid,\n\t\t\tint ch, int dir, int idx)\n{\n\tunsigned int cmd = snd_hdac_regmap_encode_amp(nid, ch, dir, idx);\n\tint err, val;\n\n\terr = snd_hdac_regmap_read_raw(codec, cmd, &val);\n\treturn err < 0 ? err : val;\n}\n\n \nstatic inline int\nsnd_hdac_regmap_update_amp(struct hdac_device *codec, hda_nid_t nid,\n\t\t\t   int ch, int dir, int idx, int mask, int val)\n{\n\tunsigned int cmd = snd_hdac_regmap_encode_amp(nid, ch, dir, idx);\n\n\treturn snd_hdac_regmap_update_raw(codec, cmd, mask, val);\n}\n\n \nstatic inline int\nsnd_hdac_regmap_get_amp_stereo(struct hdac_device *codec, hda_nid_t nid,\n\t\t\t       int dir, int idx)\n{\n\tunsigned int cmd = snd_hdac_regmap_encode_amp_stereo(nid, dir, idx);\n\tint err, val;\n\n\terr = snd_hdac_regmap_read_raw(codec, cmd, &val);\n\treturn err < 0 ? err : val;\n}\n\n \nstatic inline int\nsnd_hdac_regmap_update_amp_stereo(struct hdac_device *codec, hda_nid_t nid,\n\t\t\t\t  int dir, int idx, int mask, int val)\n{\n\tunsigned int cmd = snd_hdac_regmap_encode_amp_stereo(nid, dir, idx);\n\n\treturn snd_hdac_regmap_update_raw(codec, cmd, mask, val);\n}\n\n \nstatic inline void\nsnd_hdac_regmap_sync_node(struct hdac_device *codec, hda_nid_t nid)\n{\n\tregcache_mark_dirty(codec->regmap);\n\tregcache_sync_region(codec->regmap, nid << 20, ((nid + 1) << 20) - 1);\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}