{
  "module_name": "nouveau_drm.h",
  "hash_id": "4d190f68f296feca26558f70006cb6d3d1859f82d9c4b67344d01d4314591bfc",
  "original_prompt": "Ingested from linux-6.6.14/include/uapi/drm/nouveau_drm.h",
  "human_readable_source": " \n\n#ifndef __NOUVEAU_DRM_H__\n#define __NOUVEAU_DRM_H__\n\n#define DRM_NOUVEAU_EVENT_NVIF                                       0x80000000\n\n#include \"drm.h\"\n\n#if defined(__cplusplus)\nextern \"C\" {\n#endif\n\n#define NOUVEAU_GETPARAM_PCI_VENDOR      3\n#define NOUVEAU_GETPARAM_PCI_DEVICE      4\n#define NOUVEAU_GETPARAM_BUS_TYPE        5\n#define NOUVEAU_GETPARAM_FB_SIZE         8\n#define NOUVEAU_GETPARAM_AGP_SIZE        9\n#define NOUVEAU_GETPARAM_CHIPSET_ID      11\n#define NOUVEAU_GETPARAM_VM_VRAM_BASE    12\n#define NOUVEAU_GETPARAM_GRAPH_UNITS     13\n#define NOUVEAU_GETPARAM_PTIMER_TIME     14\n#define NOUVEAU_GETPARAM_HAS_BO_USAGE    15\n#define NOUVEAU_GETPARAM_HAS_PAGEFLIP    16\n\n \n#define NOUVEAU_GETPARAM_EXEC_PUSH_MAX   17\n\nstruct drm_nouveau_getparam {\n\t__u64 param;\n\t__u64 value;\n};\n\nstruct drm_nouveau_channel_alloc {\n\t__u32     fb_ctxdma_handle;\n\t__u32     tt_ctxdma_handle;\n\n\t__s32     channel;\n\t__u32     pushbuf_domains;\n\n\t \n\t__u32     notifier_handle;\n\n\t \n\tstruct {\n\t\t__u32 handle;\n\t\t__u32 grclass;\n\t} subchan[8];\n\t__u32 nr_subchan;\n};\n\nstruct drm_nouveau_channel_free {\n\t__s32 channel;\n};\n\n#define NOUVEAU_GEM_DOMAIN_CPU       (1 << 0)\n#define NOUVEAU_GEM_DOMAIN_VRAM      (1 << 1)\n#define NOUVEAU_GEM_DOMAIN_GART      (1 << 2)\n#define NOUVEAU_GEM_DOMAIN_MAPPABLE  (1 << 3)\n#define NOUVEAU_GEM_DOMAIN_COHERENT  (1 << 4)\n \n#define NOUVEAU_GEM_DOMAIN_NO_SHARE  (1 << 5)\n\n#define NOUVEAU_GEM_TILE_COMP        0x00030000  \n#define NOUVEAU_GEM_TILE_LAYOUT_MASK 0x0000ff00\n#define NOUVEAU_GEM_TILE_16BPP       0x00000001\n#define NOUVEAU_GEM_TILE_32BPP       0x00000002\n#define NOUVEAU_GEM_TILE_ZETA        0x00000004\n#define NOUVEAU_GEM_TILE_NONCONTIG   0x00000008\n\nstruct drm_nouveau_gem_info {\n\t__u32 handle;\n\t__u32 domain;\n\t__u64 size;\n\t__u64 offset;\n\t__u64 map_handle;\n\t__u32 tile_mode;\n\t__u32 tile_flags;\n};\n\nstruct drm_nouveau_gem_new {\n\tstruct drm_nouveau_gem_info info;\n\t__u32 channel_hint;\n\t__u32 align;\n};\n\n#define NOUVEAU_GEM_MAX_BUFFERS 1024\nstruct drm_nouveau_gem_pushbuf_bo_presumed {\n\t__u32 valid;\n\t__u32 domain;\n\t__u64 offset;\n};\n\nstruct drm_nouveau_gem_pushbuf_bo {\n\t__u64 user_priv;\n\t__u32 handle;\n\t__u32 read_domains;\n\t__u32 write_domains;\n\t__u32 valid_domains;\n\tstruct drm_nouveau_gem_pushbuf_bo_presumed presumed;\n};\n\n#define NOUVEAU_GEM_RELOC_LOW  (1 << 0)\n#define NOUVEAU_GEM_RELOC_HIGH (1 << 1)\n#define NOUVEAU_GEM_RELOC_OR   (1 << 2)\n#define NOUVEAU_GEM_MAX_RELOCS 1024\nstruct drm_nouveau_gem_pushbuf_reloc {\n\t__u32 reloc_bo_index;\n\t__u32 reloc_bo_offset;\n\t__u32 bo_index;\n\t__u32 flags;\n\t__u32 data;\n\t__u32 vor;\n\t__u32 tor;\n};\n\n#define NOUVEAU_GEM_MAX_PUSH 512\nstruct drm_nouveau_gem_pushbuf_push {\n\t__u32 bo_index;\n\t__u32 pad;\n\t__u64 offset;\n\t__u64 length;\n#define NOUVEAU_GEM_PUSHBUF_NO_PREFETCH (1 << 23)\n};\n\nstruct drm_nouveau_gem_pushbuf {\n\t__u32 channel;\n\t__u32 nr_buffers;\n\t__u64 buffers;\n\t__u32 nr_relocs;\n\t__u32 nr_push;\n\t__u64 relocs;\n\t__u64 push;\n\t__u32 suffix0;\n\t__u32 suffix1;\n#define NOUVEAU_GEM_PUSHBUF_SYNC                                    (1ULL << 0)\n\t__u64 vram_available;\n\t__u64 gart_available;\n};\n\n#define NOUVEAU_GEM_CPU_PREP_NOWAIT                                  0x00000001\n#define NOUVEAU_GEM_CPU_PREP_WRITE                                   0x00000004\nstruct drm_nouveau_gem_cpu_prep {\n\t__u32 handle;\n\t__u32 flags;\n};\n\nstruct drm_nouveau_gem_cpu_fini {\n\t__u32 handle;\n};\n\n \nstruct drm_nouveau_sync {\n\t \n\t__u32 flags;\n#define DRM_NOUVEAU_SYNC_SYNCOBJ 0x0\n#define DRM_NOUVEAU_SYNC_TIMELINE_SYNCOBJ 0x1\n#define DRM_NOUVEAU_SYNC_TYPE_MASK 0xf\n\t \n\t__u32 handle;\n\t \n\t__u64 timeline_value;\n};\n\n \nstruct drm_nouveau_vm_init {\n\t \n\t__u64 kernel_managed_addr;\n\t \n\t__u64 kernel_managed_size;\n};\n\n \nstruct drm_nouveau_vm_bind_op {\n\t \n\t__u32 op;\n \n#define DRM_NOUVEAU_VM_BIND_OP_MAP 0x0\n \n#define DRM_NOUVEAU_VM_BIND_OP_UNMAP 0x1\n\t \n\t__u32 flags;\n \n#define DRM_NOUVEAU_VM_BIND_SPARSE (1 << 8)\n\t \n\t__u32 handle;\n\t \n\t__u32 pad;\n\t \n\t__u64 addr;\n\t \n\t__u64 bo_offset;\n\t \n\t__u64 range;\n};\n\n \nstruct drm_nouveau_vm_bind {\n\t \n\t__u32 op_count;\n\t \n\t__u32 flags;\n \n#define DRM_NOUVEAU_VM_BIND_RUN_ASYNC 0x1\n\t \n\t__u32 wait_count;\n\t \n\t__u32 sig_count;\n\t \n\t__u64 wait_ptr;\n\t \n\t__u64 sig_ptr;\n\t \n\t__u64 op_ptr;\n};\n\n \nstruct drm_nouveau_exec_push {\n\t \n\t__u64 va;\n\t \n\t__u32 va_len;\n\t \n\t__u32 flags;\n#define DRM_NOUVEAU_EXEC_PUSH_NO_PREFETCH 0x1\n};\n\n \nstruct drm_nouveau_exec {\n\t \n\t__u32 channel;\n\t \n\t__u32 push_count;\n\t \n\t__u32 wait_count;\n\t \n\t__u32 sig_count;\n\t \n\t__u64 wait_ptr;\n\t \n\t__u64 sig_ptr;\n\t \n\t__u64 push_ptr;\n};\n\n#define DRM_NOUVEAU_GETPARAM           0x00\n#define DRM_NOUVEAU_SETPARAM           0x01  \n#define DRM_NOUVEAU_CHANNEL_ALLOC      0x02\n#define DRM_NOUVEAU_CHANNEL_FREE       0x03\n#define DRM_NOUVEAU_GROBJ_ALLOC        0x04  \n#define DRM_NOUVEAU_NOTIFIEROBJ_ALLOC  0x05  \n#define DRM_NOUVEAU_GPUOBJ_FREE        0x06  \n#define DRM_NOUVEAU_NVIF               0x07\n#define DRM_NOUVEAU_SVM_INIT           0x08\n#define DRM_NOUVEAU_SVM_BIND           0x09\n#define DRM_NOUVEAU_VM_INIT            0x10\n#define DRM_NOUVEAU_VM_BIND            0x11\n#define DRM_NOUVEAU_EXEC               0x12\n#define DRM_NOUVEAU_GEM_NEW            0x40\n#define DRM_NOUVEAU_GEM_PUSHBUF        0x41\n#define DRM_NOUVEAU_GEM_CPU_PREP       0x42\n#define DRM_NOUVEAU_GEM_CPU_FINI       0x43\n#define DRM_NOUVEAU_GEM_INFO           0x44\n\nstruct drm_nouveau_svm_init {\n\t__u64 unmanaged_addr;\n\t__u64 unmanaged_size;\n};\n\nstruct drm_nouveau_svm_bind {\n\t__u64 header;\n\t__u64 va_start;\n\t__u64 va_end;\n\t__u64 npages;\n\t__u64 stride;\n\t__u64 result;\n\t__u64 reserved0;\n\t__u64 reserved1;\n};\n\n#define NOUVEAU_SVM_BIND_COMMAND_SHIFT          0\n#define NOUVEAU_SVM_BIND_COMMAND_BITS           8\n#define NOUVEAU_SVM_BIND_COMMAND_MASK           ((1 << 8) - 1)\n#define NOUVEAU_SVM_BIND_PRIORITY_SHIFT         8\n#define NOUVEAU_SVM_BIND_PRIORITY_BITS          8\n#define NOUVEAU_SVM_BIND_PRIORITY_MASK          ((1 << 8) - 1)\n#define NOUVEAU_SVM_BIND_TARGET_SHIFT           16\n#define NOUVEAU_SVM_BIND_TARGET_BITS            32\n#define NOUVEAU_SVM_BIND_TARGET_MASK            0xffffffff\n\n \n#define NOUVEAU_SVM_BIND_VALID_BITS     48\n#define NOUVEAU_SVM_BIND_VALID_MASK     ((1ULL << NOUVEAU_SVM_BIND_VALID_BITS) - 1)\n\n\n \n#define NOUVEAU_SVM_BIND_COMMAND__MIGRATE               0\n\n \n#define NOUVEAU_SVM_BIND_TARGET__GPU_VRAM               (1UL << 31)\n\n\n#define DRM_IOCTL_NOUVEAU_GETPARAM           DRM_IOWR(DRM_COMMAND_BASE + DRM_NOUVEAU_GETPARAM, struct drm_nouveau_getparam)\n#define DRM_IOCTL_NOUVEAU_CHANNEL_ALLOC      DRM_IOWR(DRM_COMMAND_BASE + DRM_NOUVEAU_CHANNEL_ALLOC, struct drm_nouveau_channel_alloc)\n#define DRM_IOCTL_NOUVEAU_CHANNEL_FREE       DRM_IOW (DRM_COMMAND_BASE + DRM_NOUVEAU_CHANNEL_FREE, struct drm_nouveau_channel_free)\n\n#define DRM_IOCTL_NOUVEAU_SVM_INIT           DRM_IOWR(DRM_COMMAND_BASE + DRM_NOUVEAU_SVM_INIT, struct drm_nouveau_svm_init)\n#define DRM_IOCTL_NOUVEAU_SVM_BIND           DRM_IOWR(DRM_COMMAND_BASE + DRM_NOUVEAU_SVM_BIND, struct drm_nouveau_svm_bind)\n\n#define DRM_IOCTL_NOUVEAU_GEM_NEW            DRM_IOWR(DRM_COMMAND_BASE + DRM_NOUVEAU_GEM_NEW, struct drm_nouveau_gem_new)\n#define DRM_IOCTL_NOUVEAU_GEM_PUSHBUF        DRM_IOWR(DRM_COMMAND_BASE + DRM_NOUVEAU_GEM_PUSHBUF, struct drm_nouveau_gem_pushbuf)\n#define DRM_IOCTL_NOUVEAU_GEM_CPU_PREP       DRM_IOW (DRM_COMMAND_BASE + DRM_NOUVEAU_GEM_CPU_PREP, struct drm_nouveau_gem_cpu_prep)\n#define DRM_IOCTL_NOUVEAU_GEM_CPU_FINI       DRM_IOW (DRM_COMMAND_BASE + DRM_NOUVEAU_GEM_CPU_FINI, struct drm_nouveau_gem_cpu_fini)\n#define DRM_IOCTL_NOUVEAU_GEM_INFO           DRM_IOWR(DRM_COMMAND_BASE + DRM_NOUVEAU_GEM_INFO, struct drm_nouveau_gem_info)\n\n#define DRM_IOCTL_NOUVEAU_VM_INIT            DRM_IOWR(DRM_COMMAND_BASE + DRM_NOUVEAU_VM_INIT, struct drm_nouveau_vm_init)\n#define DRM_IOCTL_NOUVEAU_VM_BIND            DRM_IOWR(DRM_COMMAND_BASE + DRM_NOUVEAU_VM_BIND, struct drm_nouveau_vm_bind)\n#define DRM_IOCTL_NOUVEAU_EXEC               DRM_IOWR(DRM_COMMAND_BASE + DRM_NOUVEAU_EXEC, struct drm_nouveau_exec)\n#if defined(__cplusplus)\n}\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}