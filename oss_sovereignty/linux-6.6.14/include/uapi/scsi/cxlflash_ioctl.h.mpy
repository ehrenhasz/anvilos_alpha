{
  "module_name": "cxlflash_ioctl.h",
  "hash_id": "4f6ddf88de4a3c14bd59724390f5c06362d5d44d4c80416bef2033a243f70588",
  "original_prompt": "Ingested from linux-6.6.14/include/uapi/scsi/cxlflash_ioctl.h",
  "human_readable_source": " \n \n\n#ifndef _CXLFLASH_IOCTL_H\n#define _CXLFLASH_IOCTL_H\n\n#include <linux/types.h>\n\n \n#define CXLFLASH_WWID_LEN\t\t16\n\n \n\n#define DK_CXLFLASH_VERSION_0\t0\n\nstruct dk_cxlflash_hdr {\n\t__u16 version;\t\t\t \n\t__u16 rsvd[3];\t\t\t \n\t__u64 flags;\t\t\t \n\t__u64 return_flags;\t\t \n};\n\n \n#define DK_CXLFLASH_ALL_PORTS_ACTIVE\t0x0000000000000001ULL\n#define DK_CXLFLASH_APP_CLOSE_ADAP_FD\t0x0000000000000002ULL\n#define DK_CXLFLASH_CONTEXT_SQ_CMD_MODE\t0x0000000000000004ULL\n\n \n\n \n#define DK_CXLFLASH_ATTACH_REUSE_CONTEXT\t0x8000000000000000ULL\n\nstruct dk_cxlflash_attach {\n\tstruct dk_cxlflash_hdr hdr;\t \n\t__u64 num_interrupts;\t\t \n\t__u64 context_id;\t\t \n\t__u64 mmio_size;\t\t \n\t__u64 block_size;\t\t \n\t__u64 adap_fd;\t\t\t \n\t__u64 last_lba;\t\t\t \n\t__u64 max_xfer;\t\t\t \n\t__u64 reserved[8];\t\t \n};\n\nstruct dk_cxlflash_detach {\n\tstruct dk_cxlflash_hdr hdr;\t \n\t__u64 context_id;\t\t \n\t__u64 reserved[8];\t\t \n};\n\nstruct dk_cxlflash_udirect {\n\tstruct dk_cxlflash_hdr hdr;\t \n\t__u64 context_id;\t\t \n\t__u64 rsrc_handle;\t\t \n\t__u64 last_lba;\t\t\t \n\t__u64 reserved[8];\t\t \n};\n\n#define DK_CXLFLASH_UVIRTUAL_NEED_WRITE_SAME\t0x8000000000000000ULL\n\nstruct dk_cxlflash_uvirtual {\n\tstruct dk_cxlflash_hdr hdr;\t \n\t__u64 context_id;\t\t \n\t__u64 lun_size;\t\t\t \n\t__u64 rsrc_handle;\t\t \n\t__u64 last_lba;\t\t\t \n\t__u64 reserved[8];\t\t \n};\n\nstruct dk_cxlflash_release {\n\tstruct dk_cxlflash_hdr hdr;\t \n\t__u64 context_id;\t\t \n\t__u64 rsrc_handle;\t\t \n\t__u64 reserved[8];\t\t \n};\n\nstruct dk_cxlflash_resize {\n\tstruct dk_cxlflash_hdr hdr;\t \n\t__u64 context_id;\t\t \n\t__u64 rsrc_handle;\t\t \n\t__u64 req_size;\t\t\t \n\t__u64 last_lba;\t\t\t \n\t__u64 reserved[8];\t\t \n};\n\nstruct dk_cxlflash_clone {\n\tstruct dk_cxlflash_hdr hdr;\t \n\t__u64 context_id_src;\t\t \n\t__u64 context_id_dst;\t\t \n\t__u64 adap_fd_src;\t\t \n\t__u64 reserved[8];\t\t \n};\n\n#define DK_CXLFLASH_VERIFY_SENSE_LEN\t18\n#define DK_CXLFLASH_VERIFY_HINT_SENSE\t0x8000000000000000ULL\n\nstruct dk_cxlflash_verify {\n\tstruct dk_cxlflash_hdr hdr;\t \n\t__u64 context_id;\t\t \n\t__u64 rsrc_handle;\t\t \n\t__u64 hint;\t\t\t \n\t__u64 last_lba;\t\t\t \n\t__u8 sense_data[DK_CXLFLASH_VERIFY_SENSE_LEN];  \n\t__u8 pad[6];\t\t\t \n\t__u64 reserved[8];\t\t \n};\n\n#define DK_CXLFLASH_RECOVER_AFU_CONTEXT_RESET\t0x8000000000000000ULL\n\nstruct dk_cxlflash_recover_afu {\n\tstruct dk_cxlflash_hdr hdr;\t \n\t__u64 reason;\t\t\t \n\t__u64 context_id;\t\t \n\t__u64 mmio_size;\t\t \n\t__u64 adap_fd;\t\t\t \n\t__u64 reserved[8];\t\t \n};\n\n#define DK_CXLFLASH_MANAGE_LUN_WWID_LEN\t\t\tCXLFLASH_WWID_LEN\n#define DK_CXLFLASH_MANAGE_LUN_ENABLE_SUPERPIPE\t\t0x8000000000000000ULL\n#define DK_CXLFLASH_MANAGE_LUN_DISABLE_SUPERPIPE\t0x4000000000000000ULL\n#define DK_CXLFLASH_MANAGE_LUN_ALL_PORTS_ACCESSIBLE\t0x2000000000000000ULL\n\nstruct dk_cxlflash_manage_lun {\n\tstruct dk_cxlflash_hdr hdr;\t\t\t \n\t__u8 wwid[DK_CXLFLASH_MANAGE_LUN_WWID_LEN];\t \n\t__u64 reserved[8];\t\t\t\t \n};\n\nunion cxlflash_ioctls {\n\tstruct dk_cxlflash_attach attach;\n\tstruct dk_cxlflash_detach detach;\n\tstruct dk_cxlflash_udirect udirect;\n\tstruct dk_cxlflash_uvirtual uvirtual;\n\tstruct dk_cxlflash_release release;\n\tstruct dk_cxlflash_resize resize;\n\tstruct dk_cxlflash_clone clone;\n\tstruct dk_cxlflash_verify verify;\n\tstruct dk_cxlflash_recover_afu recover_afu;\n\tstruct dk_cxlflash_manage_lun manage_lun;\n};\n\n#define MAX_CXLFLASH_IOCTL_SZ\t(sizeof(union cxlflash_ioctls))\n\n#define CXL_MAGIC 0xCA\n#define CXL_IOWR(_n, _s)\t_IOWR(CXL_MAGIC, _n, struct _s)\n\n \n#define DK_CXLFLASH_ATTACH\t\tCXL_IOWR(0x80, dk_cxlflash_attach)\n#define DK_CXLFLASH_USER_DIRECT\t\tCXL_IOWR(0x81, dk_cxlflash_udirect)\n#define DK_CXLFLASH_RELEASE\t\tCXL_IOWR(0x82, dk_cxlflash_release)\n#define DK_CXLFLASH_DETACH\t\tCXL_IOWR(0x83, dk_cxlflash_detach)\n#define DK_CXLFLASH_VERIFY\t\tCXL_IOWR(0x84, dk_cxlflash_verify)\n#define DK_CXLFLASH_RECOVER_AFU\t\tCXL_IOWR(0x85, dk_cxlflash_recover_afu)\n#define DK_CXLFLASH_MANAGE_LUN\t\tCXL_IOWR(0x86, dk_cxlflash_manage_lun)\n#define DK_CXLFLASH_USER_VIRTUAL\tCXL_IOWR(0x87, dk_cxlflash_uvirtual)\n#define DK_CXLFLASH_VLUN_RESIZE\t\tCXL_IOWR(0x88, dk_cxlflash_resize)\n#define DK_CXLFLASH_VLUN_CLONE\t\tCXL_IOWR(0x89, dk_cxlflash_clone)\n\n \n\n#define HT_CXLFLASH_VERSION_0  0\n\nstruct ht_cxlflash_hdr {\n\t__u16 version;\t\t \n\t__u16 subcmd;\t\t \n\t__u16 rsvd[2];\t\t \n\t__u64 flags;\t\t \n\t__u64 return_flags;\t \n};\n\n \n#define HT_CXLFLASH_HOST_READ\t\t\t\t0x0000000000000000ULL\n#define HT_CXLFLASH_HOST_WRITE\t\t\t\t0x0000000000000001ULL\n\n#define HT_CXLFLASH_LUN_PROVISION_SUBCMD_CREATE_LUN\t0x0001\n#define HT_CXLFLASH_LUN_PROVISION_SUBCMD_DELETE_LUN\t0x0002\n#define HT_CXLFLASH_LUN_PROVISION_SUBCMD_QUERY_PORT\t0x0003\n\nstruct ht_cxlflash_lun_provision {\n\tstruct ht_cxlflash_hdr hdr;  \n\t__u16 port;\t\t     \n\t__u16 reserved16[3];\t     \n\t__u64 size;\t\t     \n\t__u64 lun_id;\t\t     \n\t__u8 wwid[CXLFLASH_WWID_LEN]; \n\t__u64 max_num_luns;\t     \n\t__u64 cur_num_luns;\t     \n\t__u64 max_cap_port;\t     \n\t__u64 cur_cap_port;\t     \n\t__u64 reserved[8];\t     \n};\n\n#define\tHT_CXLFLASH_AFU_DEBUG_MAX_DATA_LEN\t\t262144\t \n#define HT_CXLFLASH_AFU_DEBUG_SUBCMD_LEN\t\t12\nstruct ht_cxlflash_afu_debug {\n\tstruct ht_cxlflash_hdr hdr;  \n\t__u8 reserved8[4];\t     \n\t__u8 afu_subcmd[HT_CXLFLASH_AFU_DEBUG_SUBCMD_LEN];  \n\t__u64 data_ea;\t\t     \n\t__u32 data_len;\t\t     \n\t__u32 reserved32;\t     \n\t__u64 reserved[8];\t     \n};\n\nunion cxlflash_ht_ioctls {\n\tstruct ht_cxlflash_lun_provision lun_provision;\n\tstruct ht_cxlflash_afu_debug afu_debug;\n};\n\n#define MAX_HT_CXLFLASH_IOCTL_SZ\t(sizeof(union cxlflash_ht_ioctls))\n\n \n#define HT_CXLFLASH_LUN_PROVISION CXL_IOWR(0xBF, ht_cxlflash_lun_provision)\n#define HT_CXLFLASH_AFU_DEBUG\t  CXL_IOWR(0xBE, ht_cxlflash_afu_debug)\n\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}