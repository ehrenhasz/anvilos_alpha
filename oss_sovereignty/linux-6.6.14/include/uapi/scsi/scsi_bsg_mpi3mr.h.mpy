{
  "module_name": "scsi_bsg_mpi3mr.h",
  "hash_id": "e7edbc4f206430e3e9e12d7478c9abc88296512ff1701739eafab0c6ce81e599",
  "original_prompt": "Ingested from linux-6.6.14/include/uapi/scsi/scsi_bsg_mpi3mr.h",
  "human_readable_source": " \n \n\n#ifndef SCSI_BSG_MPI3MR_H_INCLUDED\n#define SCSI_BSG_MPI3MR_H_INCLUDED\n\n#include <linux/types.h>\n\n \n#define MPI3MR_IOCTL_VERSION\t\t\t0x06\n\n#define MPI3MR_APP_DEFAULT_TIMEOUT\t\t(60)  \n\n#define MPI3MR_BSG_ADPTYPE_UNKNOWN\t\t0\n#define MPI3MR_BSG_ADPTYPE_AVGFAMILY\t\t1\n\n#define MPI3MR_BSG_ADPSTATE_UNKNOWN\t\t0\n#define MPI3MR_BSG_ADPSTATE_OPERATIONAL\t\t1\n#define MPI3MR_BSG_ADPSTATE_FAULT\t\t2\n#define MPI3MR_BSG_ADPSTATE_IN_RESET\t\t3\n#define MPI3MR_BSG_ADPSTATE_UNRECOVERABLE\t4\n\n#define MPI3MR_BSG_ADPRESET_UNKNOWN\t\t0\n#define MPI3MR_BSG_ADPRESET_SOFT\t\t1\n#define MPI3MR_BSG_ADPRESET_DIAG_FAULT\t\t2\n\n#define MPI3MR_BSG_LOGDATA_MAX_ENTRIES\t\t400\n#define MPI3MR_BSG_LOGDATA_ENTRY_HEADER_SZ\t4\n\n#define MPI3MR_DRVBSG_OPCODE_UNKNOWN\t\t0\n#define MPI3MR_DRVBSG_OPCODE_ADPINFO\t\t1\n#define MPI3MR_DRVBSG_OPCODE_ADPRESET\t\t2\n#define MPI3MR_DRVBSG_OPCODE_ALLTGTDEVINFO\t4\n#define MPI3MR_DRVBSG_OPCODE_GETCHGCNT\t\t5\n#define MPI3MR_DRVBSG_OPCODE_LOGDATAENABLE\t6\n#define MPI3MR_DRVBSG_OPCODE_PELENABLE\t\t7\n#define MPI3MR_DRVBSG_OPCODE_GETLOGDATA\t\t8\n#define MPI3MR_DRVBSG_OPCODE_QUERY_HDB\t\t9\n#define MPI3MR_DRVBSG_OPCODE_REPOST_HDB\t\t10\n#define MPI3MR_DRVBSG_OPCODE_UPLOAD_HDB\t\t11\n#define MPI3MR_DRVBSG_OPCODE_REFRESH_HDB_TRIGGERS\t12\n\n\n#define MPI3MR_BSG_BUFTYPE_UNKNOWN\t\t0\n#define MPI3MR_BSG_BUFTYPE_RAIDMGMT_CMD\t\t1\n#define MPI3MR_BSG_BUFTYPE_RAIDMGMT_RESP\t2\n#define MPI3MR_BSG_BUFTYPE_DATA_IN\t\t3\n#define MPI3MR_BSG_BUFTYPE_DATA_OUT\t\t4\n#define MPI3MR_BSG_BUFTYPE_MPI_REPLY\t\t5\n#define MPI3MR_BSG_BUFTYPE_ERR_RESPONSE\t\t6\n#define MPI3MR_BSG_BUFTYPE_MPI_REQUEST\t\t0xFE\n\n#define MPI3MR_BSG_MPI_REPLY_BUFTYPE_UNKNOWN\t0\n#define MPI3MR_BSG_MPI_REPLY_BUFTYPE_STATUS\t1\n#define MPI3MR_BSG_MPI_REPLY_BUFTYPE_ADDRESS\t2\n\n#define MPI3MR_HDB_BUFTYPE_UNKNOWN\t\t0\n#define MPI3MR_HDB_BUFTYPE_TRACE\t\t1\n#define MPI3MR_HDB_BUFTYPE_FIRMWARE\t\t2\n#define MPI3MR_HDB_BUFTYPE_RESERVED\t\t3\n\n#define MPI3MR_HDB_BUFSTATUS_UNKNOWN\t\t0\n#define MPI3MR_HDB_BUFSTATUS_NOT_ALLOCATED\t1\n#define MPI3MR_HDB_BUFSTATUS_POSTED_UNPAUSED\t2\n#define MPI3MR_HDB_BUFSTATUS_POSTED_PAUSED\t3\n#define MPI3MR_HDB_BUFSTATUS_RELEASED\t\t4\n\n#define MPI3MR_HDB_TRIGGER_TYPE_UNKNOWN\t\t0\n#define MPI3MR_HDB_TRIGGER_TYPE_DIAGFAULT\t1\n#define MPI3MR_HDB_TRIGGER_TYPE_ELEMENT\t\t2\n#define MPI3MR_HDB_TRIGGER_TYPE_MASTER\t\t3\n\n\n \nenum command {\n\tMPI3MR_DRV_CMD = 1,\n\tMPI3MR_MPT_CMD = 2,\n};\n\n \nstruct mpi3_driver_info_layout {\n\t__le32\tinformation_length;\n\t__u8\tdriver_signature[12];\n\t__u8\tos_name[16];\n\t__u8\tos_version[12];\n\t__u8\tdriver_name[20];\n\t__u8\tdriver_version[32];\n\t__u8\tdriver_release_date[20];\n\t__le32\tdriver_capabilities;\n};\n\n \nstruct mpi3mr_bsg_in_adpinfo {\n\t__u32\tadp_type;\n\t__u32\trsvd1;\n\t__u32\tpci_dev_id;\n\t__u32\tpci_dev_hw_rev;\n\t__u32\tpci_subsys_dev_id;\n\t__u32\tpci_subsys_ven_id;\n\t__u32\tpci_dev:5;\n\t__u32\tpci_func:3;\n\t__u32\tpci_bus:8;\n\t__u16\trsvd2;\n\t__u32\tpci_seg_id;\n\t__u32\tapp_intfc_ver;\n\t__u8\tadp_state;\n\t__u8\trsvd3;\n\t__u16\trsvd4;\n\t__u32\trsvd5[2];\n\tstruct mpi3_driver_info_layout driver_info;\n};\n\n \nstruct mpi3mr_bsg_adp_reset {\n\t__u8\treset_type;\n\t__u8\trsvd1;\n\t__u16\trsvd2;\n};\n\n \nstruct mpi3mr_change_count {\n\t__u16\tchange_count;\n\t__u16\trsvd;\n};\n\n \nstruct mpi3mr_device_map_info {\n\t__u16\thandle;\n\t__u16\tperst_id;\n\t__u32\ttarget_id;\n\t__u8\tbus_id;\n\t__u8\trsvd1;\n\t__u16\trsvd2;\n};\n\n \nstruct mpi3mr_all_tgt_info {\n\t__u16\tnum_devices;\n\t__u16\trsvd1;\n\t__u32\trsvd2;\n\tstruct mpi3mr_device_map_info dmi[1];\n};\n\n \nstruct mpi3mr_logdata_enable {\n\t__u16\tmax_entries;\n\t__u16\trsvd;\n};\n\n \nstruct mpi3mr_bsg_out_pel_enable {\n\t__u16\tpel_locale;\n\t__u8\tpel_class;\n\t__u8\trsvd;\n};\n\n \nstruct mpi3mr_logdata_entry {\n\t__u8\tvalid_entry;\n\t__u8\trsvd1;\n\t__u16\trsvd2;\n\t__u8\tdata[1];  \n};\n\n \nstruct mpi3mr_bsg_in_log_data {\n\tstruct mpi3mr_logdata_entry entry[1];\n};\n\n \nstruct mpi3mr_hdb_entry {\n\t__u8\tbuf_type;\n\t__u8\tstatus;\n\t__u8\ttrigger_type;\n\t__u8\trsvd1;\n\t__u16\tsize;\n\t__u16\trsvd2;\n\t__u64\ttrigger_data;\n\t__u32\trsvd3;\n\t__u32\trsvd4;\n};\n\n\n \nstruct mpi3mr_bsg_in_hdb_status {\n\t__u8\tnum_hdb_types;\n\t__u8\trsvd1;\n\t__u16\trsvd2;\n\t__u32\trsvd3;\n\tstruct mpi3mr_hdb_entry entry[1];\n};\n\n \nstruct mpi3mr_bsg_out_repost_hdb {\n\t__u8\tbuf_type;\n\t__u8\trsvd1;\n\t__u16\trsvd2;\n};\n\n \nstruct mpi3mr_bsg_out_upload_hdb {\n\t__u8\tbuf_type;\n\t__u8\trsvd1;\n\t__u16\trsvd2;\n\t__u32\tstart_offset;\n\t__u32\tlength;\n};\n\n \nstruct mpi3mr_bsg_out_refresh_hdb_triggers {\n\t__u8\tpage_type;\n\t__u8\trsvd1;\n\t__u16\trsvd2;\n};\n \nstruct mpi3mr_bsg_drv_cmd {\n\t__u8\tmrioc_id;\n\t__u8\topcode;\n\t__u16\trsvd1;\n\t__u32\trsvd2[4];\n};\n \nstruct mpi3mr_bsg_in_reply_buf {\n\t__u8\tmpi_reply_type;\n\t__u8\trsvd1;\n\t__u16\trsvd2;\n\t__u8\treply_buf[1];\n};\n\n \nstruct mpi3mr_buf_entry {\n\t__u8\tbuf_type;\n\t__u8\trsvd1;\n\t__u16\trsvd2;\n\t__u32\tbuf_len;\n};\n \nstruct mpi3mr_buf_entry_list {\n\t__u8\tnum_of_entries;\n\t__u8\trsvd1;\n\t__u16\trsvd2;\n\t__u32\trsvd3;\n\tstruct mpi3mr_buf_entry buf_entry[1];\n};\n \nstruct mpi3mr_bsg_mptcmd {\n\t__u8\tmrioc_id;\n\t__u8\trsvd1;\n\t__u16\ttimeout;\n\t__u32\trsvd2;\n\tstruct mpi3mr_buf_entry_list buf_entry_list;\n};\n\n \nstruct mpi3mr_bsg_packet {\n\t__u8\tcmd_type;\n\t__u8\trsvd1;\n\t__u16\trsvd2;\n\t__u32\trsvd3;\n\tunion {\n\t\tstruct mpi3mr_bsg_drv_cmd drvrcmd;\n\t\tstruct mpi3mr_bsg_mptcmd mptcmd;\n\t} cmd;\n};\n\nstruct mpi3_nvme_encapsulated_request {\n\t__le16\thost_tag;\n\t__u8\tioc_use_only02;\n\t__u8\tfunction;\n\t__le16\tioc_use_only04;\n\t__u8\tioc_use_only06;\n\t__u8\tmsg_flags;\n\t__le16\tchange_count;\n\t__le16\tdev_handle;\n\t__le16\tencapsulated_command_length;\n\t__le16\tflags;\n\t__le32\tdata_length;\n\t__le32  reserved14[3];\n\t__le32\tcommand[];\n};\n\nstruct mpi3_nvme_encapsulated_error_reply {\n\t__le16\thost_tag;\n\t__u8\tioc_use_only02;\n\t__u8\tfunction;\n\t__le16\tioc_use_only04;\n\t__u8\tioc_use_only06;\n\t__u8\tmsg_flags;\n\t__le16\tioc_use_only08;\n\t__le16\tioc_status;\n\t__le32\tioc_log_info;\n\t__le32\tnvme_completion_entry[4];\n};\n\n#define\tMPI3MR_NVME_PRP_SIZE\t\t8  \n#define\tMPI3MR_NVME_CMD_PRP1_OFFSET\t24  \n#define\tMPI3MR_NVME_CMD_PRP2_OFFSET\t32  \n#define\tMPI3MR_NVME_CMD_SGL_OFFSET\t24  \n#define MPI3MR_NVME_DATA_FORMAT_PRP\t0\n#define MPI3MR_NVME_DATA_FORMAT_SGL1\t1\n#define MPI3MR_NVME_DATA_FORMAT_SGL2\t2\n\n \nstruct mpi3_scsi_task_mgmt_request {\n\t__le16\thost_tag;\n\t__u8\tioc_use_only02;\n\t__u8\tfunction;\n\t__le16\tioc_use_only04;\n\t__u8\tioc_use_only06;\n\t__u8    msg_flags;\n\t__le16\tchange_count;\n\t__le16\tdev_handle;\n\t__le16\ttask_host_tag;\n\t__u8\ttask_type;\n\t__u8\treserved0f;\n\t__le16\ttask_request_queue_id;\n\t__le16\treserved12;\n\t__le32\treserved14;\n\t__u8\tlun[8];\n};\n\n#define MPI3_SCSITASKMGMT_MSGFLAGS_DO_NOT_SEND_TASK_IU      (0x08)\n#define MPI3_SCSITASKMGMT_TASKTYPE_ABORT_TASK               (0x01)\n#define MPI3_SCSITASKMGMT_TASKTYPE_ABORT_TASK_SET           (0x02)\n#define MPI3_SCSITASKMGMT_TASKTYPE_TARGET_RESET             (0x03)\n#define MPI3_SCSITASKMGMT_TASKTYPE_LOGICAL_UNIT_RESET       (0x05)\n#define MPI3_SCSITASKMGMT_TASKTYPE_CLEAR_TASK_SET           (0x06)\n#define MPI3_SCSITASKMGMT_TASKTYPE_QUERY_TASK               (0x07)\n#define MPI3_SCSITASKMGMT_TASKTYPE_CLEAR_ACA                (0x08)\n#define MPI3_SCSITASKMGMT_TASKTYPE_QUERY_TASK_SET           (0x09)\n#define MPI3_SCSITASKMGMT_TASKTYPE_QUERY_ASYNC_EVENT        (0x0a)\n#define MPI3_SCSITASKMGMT_TASKTYPE_I_T_NEXUS_RESET          (0x0b)\nstruct mpi3_scsi_task_mgmt_reply {\n\t__le16\thost_tag;\n\t__u8\tioc_use_only02;\n\t__u8\tfunction;\n\t__le16  ioc_use_only04;\n\t__u8\tioc_use_only06;\n\t__u8\tmsg_flags;\n\t__le16\tioc_use_only08;\n\t__le16\tioc_status;\n\t__le32\tioc_log_info;\n\t__le32\ttermination_count;\n\t__le32\tresponse_data;\n\t__le32\treserved18;\n};\n\n#define MPI3_SCSITASKMGMT_RSPCODE_TM_COMPLETE                (0x00)\n#define MPI3_SCSITASKMGMT_RSPCODE_INVALID_FRAME              (0x02)\n#define MPI3_SCSITASKMGMT_RSPCODE_TM_FUNCTION_NOT_SUPPORTED  (0x04)\n#define MPI3_SCSITASKMGMT_RSPCODE_TM_FAILED                  (0x05)\n#define MPI3_SCSITASKMGMT_RSPCODE_TM_SUCCEEDED               (0x08)\n#define MPI3_SCSITASKMGMT_RSPCODE_TM_INVALID_LUN             (0x09)\n#define MPI3_SCSITASKMGMT_RSPCODE_TM_OVERLAPPED_TAG          (0x0a)\n#define MPI3_SCSITASKMGMT_RSPCODE_IO_QUEUED_ON_IOC           (0x80)\n#define MPI3_SCSITASKMGMT_RSPCODE_TM_NVME_DENIED             (0x81)\n\n \n#define MPI3_PEL_LOCALE_FLAGS_NON_BLOCKING_BOOT_EVENT   (0x0200)\n#define MPI3_PEL_LOCALE_FLAGS_BLOCKING_BOOT_EVENT       (0x0100)\n#define MPI3_PEL_LOCALE_FLAGS_PCIE                      (0x0080)\n#define MPI3_PEL_LOCALE_FLAGS_CONFIGURATION             (0x0040)\n#define MPI3_PEL_LOCALE_FLAGS_CONTROLER                 (0x0020)\n#define MPI3_PEL_LOCALE_FLAGS_SAS                       (0x0010)\n#define MPI3_PEL_LOCALE_FLAGS_EPACK                     (0x0008)\n#define MPI3_PEL_LOCALE_FLAGS_ENCLOSURE                 (0x0004)\n#define MPI3_PEL_LOCALE_FLAGS_PD                        (0x0002)\n#define MPI3_PEL_LOCALE_FLAGS_VD                        (0x0001)\n#define MPI3_PEL_CLASS_DEBUG                            (0x00)\n#define MPI3_PEL_CLASS_PROGRESS                         (0x01)\n#define MPI3_PEL_CLASS_INFORMATIONAL                    (0x02)\n#define MPI3_PEL_CLASS_WARNING                          (0x03)\n#define MPI3_PEL_CLASS_CRITICAL                         (0x04)\n#define MPI3_PEL_CLASS_FATAL                            (0x05)\n#define MPI3_PEL_CLASS_FAULT                            (0x06)\n\n \n#define MPI3_BSG_FUNCTION_MGMT_PASSTHROUGH              (0x0a)\n#define MPI3_BSG_FUNCTION_SCSI_IO                       (0x20)\n#define MPI3_BSG_FUNCTION_SCSI_TASK_MGMT                (0x21)\n#define MPI3_BSG_FUNCTION_SMP_PASSTHROUGH               (0x22)\n#define MPI3_BSG_FUNCTION_NVME_ENCAPSULATED             (0x24)\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}