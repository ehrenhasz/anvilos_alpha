{
  "module_name": "virtio_gpu.h",
  "hash_id": "31570befa84ff17db78c74456201806f8e4665a5ef231eaeb43eadf422ab5dcf",
  "original_prompt": "Ingested from linux-6.6.14/include/uapi/linux/virtio_gpu.h",
  "human_readable_source": " \n\n#ifndef VIRTIO_GPU_HW_H\n#define VIRTIO_GPU_HW_H\n\n#include <linux/types.h>\n\n \n#define VIRTIO_GPU_F_VIRGL               0\n\n \n#define VIRTIO_GPU_F_EDID                1\n \n#define VIRTIO_GPU_F_RESOURCE_UUID       2\n\n \n#define VIRTIO_GPU_F_RESOURCE_BLOB       3\n \n#define VIRTIO_GPU_F_CONTEXT_INIT        4\n\nenum virtio_gpu_ctrl_type {\n\tVIRTIO_GPU_UNDEFINED = 0,\n\n\t \n\tVIRTIO_GPU_CMD_GET_DISPLAY_INFO = 0x0100,\n\tVIRTIO_GPU_CMD_RESOURCE_CREATE_2D,\n\tVIRTIO_GPU_CMD_RESOURCE_UNREF,\n\tVIRTIO_GPU_CMD_SET_SCANOUT,\n\tVIRTIO_GPU_CMD_RESOURCE_FLUSH,\n\tVIRTIO_GPU_CMD_TRANSFER_TO_HOST_2D,\n\tVIRTIO_GPU_CMD_RESOURCE_ATTACH_BACKING,\n\tVIRTIO_GPU_CMD_RESOURCE_DETACH_BACKING,\n\tVIRTIO_GPU_CMD_GET_CAPSET_INFO,\n\tVIRTIO_GPU_CMD_GET_CAPSET,\n\tVIRTIO_GPU_CMD_GET_EDID,\n\tVIRTIO_GPU_CMD_RESOURCE_ASSIGN_UUID,\n\tVIRTIO_GPU_CMD_RESOURCE_CREATE_BLOB,\n\tVIRTIO_GPU_CMD_SET_SCANOUT_BLOB,\n\n\t \n\tVIRTIO_GPU_CMD_CTX_CREATE = 0x0200,\n\tVIRTIO_GPU_CMD_CTX_DESTROY,\n\tVIRTIO_GPU_CMD_CTX_ATTACH_RESOURCE,\n\tVIRTIO_GPU_CMD_CTX_DETACH_RESOURCE,\n\tVIRTIO_GPU_CMD_RESOURCE_CREATE_3D,\n\tVIRTIO_GPU_CMD_TRANSFER_TO_HOST_3D,\n\tVIRTIO_GPU_CMD_TRANSFER_FROM_HOST_3D,\n\tVIRTIO_GPU_CMD_SUBMIT_3D,\n\tVIRTIO_GPU_CMD_RESOURCE_MAP_BLOB,\n\tVIRTIO_GPU_CMD_RESOURCE_UNMAP_BLOB,\n\n\t \n\tVIRTIO_GPU_CMD_UPDATE_CURSOR = 0x0300,\n\tVIRTIO_GPU_CMD_MOVE_CURSOR,\n\n\t \n\tVIRTIO_GPU_RESP_OK_NODATA = 0x1100,\n\tVIRTIO_GPU_RESP_OK_DISPLAY_INFO,\n\tVIRTIO_GPU_RESP_OK_CAPSET_INFO,\n\tVIRTIO_GPU_RESP_OK_CAPSET,\n\tVIRTIO_GPU_RESP_OK_EDID,\n\tVIRTIO_GPU_RESP_OK_RESOURCE_UUID,\n\tVIRTIO_GPU_RESP_OK_MAP_INFO,\n\n\t \n\tVIRTIO_GPU_RESP_ERR_UNSPEC = 0x1200,\n\tVIRTIO_GPU_RESP_ERR_OUT_OF_MEMORY,\n\tVIRTIO_GPU_RESP_ERR_INVALID_SCANOUT_ID,\n\tVIRTIO_GPU_RESP_ERR_INVALID_RESOURCE_ID,\n\tVIRTIO_GPU_RESP_ERR_INVALID_CONTEXT_ID,\n\tVIRTIO_GPU_RESP_ERR_INVALID_PARAMETER,\n};\n\nenum virtio_gpu_shm_id {\n\tVIRTIO_GPU_SHM_ID_UNDEFINED = 0,\n\t \n\tVIRTIO_GPU_SHM_ID_HOST_VISIBLE = 1\n};\n\n#define VIRTIO_GPU_FLAG_FENCE         (1 << 0)\n \n#define VIRTIO_GPU_FLAG_INFO_RING_IDX (1 << 1)\n\nstruct virtio_gpu_ctrl_hdr {\n\t__le32 type;\n\t__le32 flags;\n\t__le64 fence_id;\n\t__le32 ctx_id;\n\t__u8 ring_idx;\n\t__u8 padding[3];\n};\n\n \n\nstruct virtio_gpu_cursor_pos {\n\t__le32 scanout_id;\n\t__le32 x;\n\t__le32 y;\n\t__le32 padding;\n};\n\n \nstruct virtio_gpu_update_cursor {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\tstruct virtio_gpu_cursor_pos pos;   \n\t__le32 resource_id;            \n\t__le32 hot_x;                  \n\t__le32 hot_y;                  \n\t__le32 padding;\n};\n\n \n\nstruct virtio_gpu_rect {\n\t__le32 x;\n\t__le32 y;\n\t__le32 width;\n\t__le32 height;\n};\n\n \nstruct virtio_gpu_resource_unref {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\t__le32 resource_id;\n\t__le32 padding;\n};\n\n \nstruct virtio_gpu_resource_create_2d {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\t__le32 resource_id;\n\t__le32 format;\n\t__le32 width;\n\t__le32 height;\n};\n\n \nstruct virtio_gpu_set_scanout {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\tstruct virtio_gpu_rect r;\n\t__le32 scanout_id;\n\t__le32 resource_id;\n};\n\n \nstruct virtio_gpu_resource_flush {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\tstruct virtio_gpu_rect r;\n\t__le32 resource_id;\n\t__le32 padding;\n};\n\n \nstruct virtio_gpu_transfer_to_host_2d {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\tstruct virtio_gpu_rect r;\n\t__le64 offset;\n\t__le32 resource_id;\n\t__le32 padding;\n};\n\nstruct virtio_gpu_mem_entry {\n\t__le64 addr;\n\t__le32 length;\n\t__le32 padding;\n};\n\n \nstruct virtio_gpu_resource_attach_backing {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\t__le32 resource_id;\n\t__le32 nr_entries;\n};\n\n \nstruct virtio_gpu_resource_detach_backing {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\t__le32 resource_id;\n\t__le32 padding;\n};\n\n \n#define VIRTIO_GPU_MAX_SCANOUTS 16\nstruct virtio_gpu_resp_display_info {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\tstruct virtio_gpu_display_one {\n\t\tstruct virtio_gpu_rect r;\n\t\t__le32 enabled;\n\t\t__le32 flags;\n\t} pmodes[VIRTIO_GPU_MAX_SCANOUTS];\n};\n\n \n\nstruct virtio_gpu_box {\n\t__le32 x, y, z;\n\t__le32 w, h, d;\n};\n\n \nstruct virtio_gpu_transfer_host_3d {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\tstruct virtio_gpu_box box;\n\t__le64 offset;\n\t__le32 resource_id;\n\t__le32 level;\n\t__le32 stride;\n\t__le32 layer_stride;\n};\n\n \n#define VIRTIO_GPU_RESOURCE_FLAG_Y_0_TOP (1 << 0)\nstruct virtio_gpu_resource_create_3d {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\t__le32 resource_id;\n\t__le32 target;\n\t__le32 format;\n\t__le32 bind;\n\t__le32 width;\n\t__le32 height;\n\t__le32 depth;\n\t__le32 array_size;\n\t__le32 last_level;\n\t__le32 nr_samples;\n\t__le32 flags;\n\t__le32 padding;\n};\n\n \n#define VIRTIO_GPU_CONTEXT_INIT_CAPSET_ID_MASK 0x000000ff\nstruct virtio_gpu_ctx_create {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\t__le32 nlen;\n\t__le32 context_init;\n\tchar debug_name[64];\n};\n\n \nstruct virtio_gpu_ctx_destroy {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n};\n\n \nstruct virtio_gpu_ctx_resource {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\t__le32 resource_id;\n\t__le32 padding;\n};\n\n \nstruct virtio_gpu_cmd_submit {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\t__le32 size;\n\t__le32 padding;\n};\n\n#define VIRTIO_GPU_CAPSET_VIRGL 1\n#define VIRTIO_GPU_CAPSET_VIRGL2 2\n\n \nstruct virtio_gpu_get_capset_info {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\t__le32 capset_index;\n\t__le32 padding;\n};\n\n \nstruct virtio_gpu_resp_capset_info {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\t__le32 capset_id;\n\t__le32 capset_max_version;\n\t__le32 capset_max_size;\n\t__le32 padding;\n};\n\n \nstruct virtio_gpu_get_capset {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\t__le32 capset_id;\n\t__le32 capset_version;\n};\n\n \nstruct virtio_gpu_resp_capset {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\t__u8 capset_data[];\n};\n\n \nstruct virtio_gpu_cmd_get_edid {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\t__le32 scanout;\n\t__le32 padding;\n};\n\n \nstruct virtio_gpu_resp_edid {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\t__le32 size;\n\t__le32 padding;\n\t__u8 edid[1024];\n};\n\n#define VIRTIO_GPU_EVENT_DISPLAY (1 << 0)\n\nstruct virtio_gpu_config {\n\t__le32 events_read;\n\t__le32 events_clear;\n\t__le32 num_scanouts;\n\t__le32 num_capsets;\n};\n\n \nenum virtio_gpu_formats {\n\tVIRTIO_GPU_FORMAT_B8G8R8A8_UNORM  = 1,\n\tVIRTIO_GPU_FORMAT_B8G8R8X8_UNORM  = 2,\n\tVIRTIO_GPU_FORMAT_A8R8G8B8_UNORM  = 3,\n\tVIRTIO_GPU_FORMAT_X8R8G8B8_UNORM  = 4,\n\n\tVIRTIO_GPU_FORMAT_R8G8B8A8_UNORM  = 67,\n\tVIRTIO_GPU_FORMAT_X8B8G8R8_UNORM  = 68,\n\n\tVIRTIO_GPU_FORMAT_A8B8G8R8_UNORM  = 121,\n\tVIRTIO_GPU_FORMAT_R8G8B8X8_UNORM  = 134,\n};\n\n \nstruct virtio_gpu_resource_assign_uuid {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\t__le32 resource_id;\n\t__le32 padding;\n};\n\n \nstruct virtio_gpu_resp_resource_uuid {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\t__u8 uuid[16];\n};\n\n \nstruct virtio_gpu_resource_create_blob {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\t__le32 resource_id;\n#define VIRTIO_GPU_BLOB_MEM_GUEST             0x0001\n#define VIRTIO_GPU_BLOB_MEM_HOST3D            0x0002\n#define VIRTIO_GPU_BLOB_MEM_HOST3D_GUEST      0x0003\n\n#define VIRTIO_GPU_BLOB_FLAG_USE_MAPPABLE     0x0001\n#define VIRTIO_GPU_BLOB_FLAG_USE_SHAREABLE    0x0002\n#define VIRTIO_GPU_BLOB_FLAG_USE_CROSS_DEVICE 0x0004\n\t \n\t__le32 blob_mem;\n\t__le32 blob_flags;\n\t__le32 nr_entries;\n\t__le64 blob_id;\n\t__le64 size;\n\t \n};\n\n \nstruct virtio_gpu_set_scanout_blob {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\tstruct virtio_gpu_rect r;\n\t__le32 scanout_id;\n\t__le32 resource_id;\n\t__le32 width;\n\t__le32 height;\n\t__le32 format;\n\t__le32 padding;\n\t__le32 strides[4];\n\t__le32 offsets[4];\n};\n\n \nstruct virtio_gpu_resource_map_blob {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\t__le32 resource_id;\n\t__le32 padding;\n\t__le64 offset;\n};\n\n \n#define VIRTIO_GPU_MAP_CACHE_MASK     0x0f\n#define VIRTIO_GPU_MAP_CACHE_NONE     0x00\n#define VIRTIO_GPU_MAP_CACHE_CACHED   0x01\n#define VIRTIO_GPU_MAP_CACHE_UNCACHED 0x02\n#define VIRTIO_GPU_MAP_CACHE_WC       0x03\nstruct virtio_gpu_resp_map_info {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\t__u32 map_info;\n\t__u32 padding;\n};\n\n \nstruct virtio_gpu_resource_unmap_blob {\n\tstruct virtio_gpu_ctrl_hdr hdr;\n\t__le32 resource_id;\n\t__le32 padding;\n};\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}