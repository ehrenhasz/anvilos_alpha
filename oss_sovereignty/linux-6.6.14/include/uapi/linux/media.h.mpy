{
  "module_name": "media.h",
  "hash_id": "a55a4866e68d7680f4ab8fd377079e714a528bd88afe6c532b8a4dce00a78044",
  "original_prompt": "Ingested from linux-6.6.14/include/uapi/linux/media.h",
  "human_readable_source": " \n \n\n#ifndef __LINUX_MEDIA_H\n#define __LINUX_MEDIA_H\n\n#include <linux/ioctl.h>\n#include <linux/types.h>\n\nstruct media_device_info {\n\tchar driver[16];\n\tchar model[32];\n\tchar serial[40];\n\tchar bus_info[32];\n\t__u32 media_version;\n\t__u32 hw_revision;\n\t__u32 driver_version;\n\t__u32 reserved[31];\n};\n\n \n#define MEDIA_ENT_F_BASE\t\t\t0x00000000\n#define MEDIA_ENT_F_OLD_BASE\t\t\t0x00010000\n#define MEDIA_ENT_F_OLD_SUBDEV_BASE\t\t0x00020000\n\n \n#define MEDIA_ENT_F_UNKNOWN\t\t\tMEDIA_ENT_F_BASE\n\n \n#define MEDIA_ENT_F_V4L2_SUBDEV_UNKNOWN\t\tMEDIA_ENT_F_OLD_SUBDEV_BASE\n\n \n#define MEDIA_ENT_F_DTV_DEMOD\t\t\t(MEDIA_ENT_F_BASE + 0x00001)\n#define MEDIA_ENT_F_TS_DEMUX\t\t\t(MEDIA_ENT_F_BASE + 0x00002)\n#define MEDIA_ENT_F_DTV_CA\t\t\t(MEDIA_ENT_F_BASE + 0x00003)\n#define MEDIA_ENT_F_DTV_NET_DECAP\t\t(MEDIA_ENT_F_BASE + 0x00004)\n\n \n#define MEDIA_ENT_F_IO_V4L\t\t\t(MEDIA_ENT_F_OLD_BASE + 1)\n#define MEDIA_ENT_F_IO_DTV\t\t\t(MEDIA_ENT_F_BASE + 0x01001)\n#define MEDIA_ENT_F_IO_VBI\t\t\t(MEDIA_ENT_F_BASE + 0x01002)\n#define MEDIA_ENT_F_IO_SWRADIO\t\t\t(MEDIA_ENT_F_BASE + 0x01003)\n\n \n#define MEDIA_ENT_F_CAM_SENSOR\t\t\t(MEDIA_ENT_F_OLD_SUBDEV_BASE + 1)\n#define MEDIA_ENT_F_FLASH\t\t\t(MEDIA_ENT_F_OLD_SUBDEV_BASE + 2)\n#define MEDIA_ENT_F_LENS\t\t\t(MEDIA_ENT_F_OLD_SUBDEV_BASE + 3)\n\n \n#define MEDIA_ENT_F_TUNER\t\t\t(MEDIA_ENT_F_OLD_SUBDEV_BASE + 5)\n\n \n#define MEDIA_ENT_F_IF_VID_DECODER\t\t(MEDIA_ENT_F_BASE + 0x02001)\n#define MEDIA_ENT_F_IF_AUD_DECODER\t\t(MEDIA_ENT_F_BASE + 0x02002)\n\n \n#define MEDIA_ENT_F_AUDIO_CAPTURE\t\t(MEDIA_ENT_F_BASE + 0x03001)\n#define MEDIA_ENT_F_AUDIO_PLAYBACK\t\t(MEDIA_ENT_F_BASE + 0x03002)\n#define MEDIA_ENT_F_AUDIO_MIXER\t\t\t(MEDIA_ENT_F_BASE + 0x03003)\n\n \n#define MEDIA_ENT_F_PROC_VIDEO_COMPOSER\t\t(MEDIA_ENT_F_BASE + 0x4001)\n#define MEDIA_ENT_F_PROC_VIDEO_PIXEL_FORMATTER\t(MEDIA_ENT_F_BASE + 0x4002)\n#define MEDIA_ENT_F_PROC_VIDEO_PIXEL_ENC_CONV\t(MEDIA_ENT_F_BASE + 0x4003)\n#define MEDIA_ENT_F_PROC_VIDEO_LUT\t\t(MEDIA_ENT_F_BASE + 0x4004)\n#define MEDIA_ENT_F_PROC_VIDEO_SCALER\t\t(MEDIA_ENT_F_BASE + 0x4005)\n#define MEDIA_ENT_F_PROC_VIDEO_STATISTICS\t(MEDIA_ENT_F_BASE + 0x4006)\n#define MEDIA_ENT_F_PROC_VIDEO_ENCODER\t\t(MEDIA_ENT_F_BASE + 0x4007)\n#define MEDIA_ENT_F_PROC_VIDEO_DECODER\t\t(MEDIA_ENT_F_BASE + 0x4008)\n#define MEDIA_ENT_F_PROC_VIDEO_ISP\t\t(MEDIA_ENT_F_BASE + 0x4009)\n\n \n#define MEDIA_ENT_F_VID_MUX\t\t\t(MEDIA_ENT_F_BASE + 0x5001)\n#define MEDIA_ENT_F_VID_IF_BRIDGE\t\t(MEDIA_ENT_F_BASE + 0x5002)\n\n \n#define MEDIA_ENT_F_ATV_DECODER\t\t\t(MEDIA_ENT_F_OLD_SUBDEV_BASE + 4)\n#define MEDIA_ENT_F_DV_DECODER\t\t\t(MEDIA_ENT_F_BASE + 0x6001)\n#define MEDIA_ENT_F_DV_ENCODER\t\t\t(MEDIA_ENT_F_BASE + 0x6002)\n\n \n#define MEDIA_ENT_FL_DEFAULT\t\t\t(1U << 0)\n#define MEDIA_ENT_FL_CONNECTOR\t\t\t(1U << 1)\n\n \n#define MEDIA_ENT_ID_FLAG_NEXT\t\t\t(1U << 31)\n\nstruct media_entity_desc {\n\t__u32 id;\n\tchar name[32];\n\t__u32 type;\n\t__u32 revision;\n\t__u32 flags;\n\t__u32 group_id;\n\t__u16 pads;\n\t__u16 links;\n\n\t__u32 reserved[4];\n\n\tunion {\n\t\t \n\t\tstruct {\n\t\t\t__u32 major;\n\t\t\t__u32 minor;\n\t\t} dev;\n\n#if !defined(__KERNEL__)\n\t\t \n\t\tstruct {\n\t\t\t__u32 card;\n\t\t\t__u32 device;\n\t\t\t__u32 subdevice;\n\t\t} alsa;\n\n\t\t \n\t\tstruct {\n\t\t\t__u32 major;\n\t\t\t__u32 minor;\n\t\t} v4l;\n\t\tstruct {\n\t\t\t__u32 major;\n\t\t\t__u32 minor;\n\t\t} fb;\n\t\tint dvb;\n#endif\n\n\t\t \n\t\t \n\t\t__u8 raw[184];\n\t};\n};\n\n#define MEDIA_PAD_FL_SINK\t\t\t(1U << 0)\n#define MEDIA_PAD_FL_SOURCE\t\t\t(1U << 1)\n#define MEDIA_PAD_FL_MUST_CONNECT\t\t(1U << 2)\n\nstruct media_pad_desc {\n\t__u32 entity;\t\t \n\t__u16 index;\t\t \n\t__u32 flags;\t\t \n\t__u32 reserved[2];\n};\n\n#define MEDIA_LNK_FL_ENABLED\t\t\t(1U << 0)\n#define MEDIA_LNK_FL_IMMUTABLE\t\t\t(1U << 1)\n#define MEDIA_LNK_FL_DYNAMIC\t\t\t(1U << 2)\n\n#define MEDIA_LNK_FL_LINK_TYPE\t\t\t(0xf << 28)\n#  define MEDIA_LNK_FL_DATA_LINK\t\t(0U << 28)\n#  define MEDIA_LNK_FL_INTERFACE_LINK\t\t(1U << 28)\n#  define MEDIA_LNK_FL_ANCILLARY_LINK\t\t(2U << 28)\n\nstruct media_link_desc {\n\tstruct media_pad_desc source;\n\tstruct media_pad_desc sink;\n\t__u32 flags;\n\t__u32 reserved[2];\n};\n\nstruct media_links_enum {\n\t__u32 entity;\n\t \n\tstruct media_pad_desc __user *pads;\n\t \n\tstruct media_link_desc __user *links;\n\t__u32 reserved[4];\n};\n\n \n\n#define MEDIA_INTF_T_DVB_BASE\t\t\t0x00000100\n#define MEDIA_INTF_T_V4L_BASE\t\t\t0x00000200\n\n \n\n#define MEDIA_INTF_T_DVB_FE\t\t\t(MEDIA_INTF_T_DVB_BASE)\n#define MEDIA_INTF_T_DVB_DEMUX\t\t\t(MEDIA_INTF_T_DVB_BASE + 1)\n#define MEDIA_INTF_T_DVB_DVR\t\t\t(MEDIA_INTF_T_DVB_BASE + 2)\n#define MEDIA_INTF_T_DVB_CA\t\t\t(MEDIA_INTF_T_DVB_BASE + 3)\n#define MEDIA_INTF_T_DVB_NET\t\t\t(MEDIA_INTF_T_DVB_BASE + 4)\n\n#define MEDIA_INTF_T_V4L_VIDEO\t\t\t(MEDIA_INTF_T_V4L_BASE)\n#define MEDIA_INTF_T_V4L_VBI\t\t\t(MEDIA_INTF_T_V4L_BASE + 1)\n#define MEDIA_INTF_T_V4L_RADIO\t\t\t(MEDIA_INTF_T_V4L_BASE + 2)\n#define MEDIA_INTF_T_V4L_SUBDEV\t\t\t(MEDIA_INTF_T_V4L_BASE + 3)\n#define MEDIA_INTF_T_V4L_SWRADIO\t\t(MEDIA_INTF_T_V4L_BASE + 4)\n#define MEDIA_INTF_T_V4L_TOUCH\t\t\t(MEDIA_INTF_T_V4L_BASE + 5)\n\n#define MEDIA_INTF_T_ALSA_BASE\t\t\t0x00000300\n#define MEDIA_INTF_T_ALSA_PCM_CAPTURE\t\t(MEDIA_INTF_T_ALSA_BASE)\n#define MEDIA_INTF_T_ALSA_PCM_PLAYBACK\t\t(MEDIA_INTF_T_ALSA_BASE + 1)\n#define MEDIA_INTF_T_ALSA_CONTROL\t\t(MEDIA_INTF_T_ALSA_BASE + 2)\n\n#if defined(__KERNEL__)\n\n \n#define MEDIA_ENT_F_CONN_RF\t\t\t(MEDIA_ENT_F_BASE + 0x30001)\n#define MEDIA_ENT_F_CONN_SVIDEO\t\t\t(MEDIA_ENT_F_BASE + 0x30002)\n#define MEDIA_ENT_F_CONN_COMPOSITE\t\t(MEDIA_ENT_F_BASE + 0x30003)\n\n#endif\n\n \n\n \n#define MEDIA_V2_ENTITY_HAS_FLAGS(media_version) \\\n\t((media_version) >= ((4U << 16) | (19U << 8) | 0U))\n\nstruct media_v2_entity {\n\t__u32 id;\n\tchar name[64];\n\t__u32 function;\t\t \n\t__u32 flags;\n\t__u32 reserved[5];\n} __attribute__ ((packed));\n\n \nstruct media_v2_intf_devnode {\n\t__u32 major;\n\t__u32 minor;\n} __attribute__ ((packed));\n\nstruct media_v2_interface {\n\t__u32 id;\n\t__u32 intf_type;\n\t__u32 flags;\n\t__u32 reserved[9];\n\n\tunion {\n\t\tstruct media_v2_intf_devnode devnode;\n\t\t__u32 raw[16];\n\t};\n} __attribute__ ((packed));\n\n \n#define MEDIA_V2_PAD_HAS_INDEX(media_version) \\\n\t((media_version) >= ((4U << 16) | (19U << 8) | 0U))\n\nstruct media_v2_pad {\n\t__u32 id;\n\t__u32 entity_id;\n\t__u32 flags;\n\t__u32 index;\n\t__u32 reserved[4];\n} __attribute__ ((packed));\n\nstruct media_v2_link {\n\t__u32 id;\n\t__u32 source_id;\n\t__u32 sink_id;\n\t__u32 flags;\n\t__u32 reserved[6];\n} __attribute__ ((packed));\n\nstruct media_v2_topology {\n\t__u64 topology_version;\n\n\t__u32 num_entities;\n\t__u32 reserved1;\n\t__u64 ptr_entities;\n\n\t__u32 num_interfaces;\n\t__u32 reserved2;\n\t__u64 ptr_interfaces;\n\n\t__u32 num_pads;\n\t__u32 reserved3;\n\t__u64 ptr_pads;\n\n\t__u32 num_links;\n\t__u32 reserved4;\n\t__u64 ptr_links;\n} __attribute__ ((packed));\n\n \n\n#define MEDIA_IOC_DEVICE_INFO\t_IOWR('|', 0x00, struct media_device_info)\n#define MEDIA_IOC_ENUM_ENTITIES\t_IOWR('|', 0x01, struct media_entity_desc)\n#define MEDIA_IOC_ENUM_LINKS\t_IOWR('|', 0x02, struct media_links_enum)\n#define MEDIA_IOC_SETUP_LINK\t_IOWR('|', 0x03, struct media_link_desc)\n#define MEDIA_IOC_G_TOPOLOGY\t_IOWR('|', 0x04, struct media_v2_topology)\n#define MEDIA_IOC_REQUEST_ALLOC\t_IOR ('|', 0x05, int)\n\n \n#define MEDIA_REQUEST_IOC_QUEUE\t\t_IO('|',  0x80)\n#define MEDIA_REQUEST_IOC_REINIT\t_IO('|',  0x81)\n\n#ifndef __KERNEL__\n\n \n#define MEDIA_ENT_TYPE_SHIFT\t\t\t16\n#define MEDIA_ENT_TYPE_MASK\t\t\t0x00ff0000\n#define MEDIA_ENT_SUBTYPE_MASK\t\t\t0x0000ffff\n\n#define MEDIA_ENT_T_DEVNODE_UNKNOWN\t\t(MEDIA_ENT_F_OLD_BASE | \\\n\t\t\t\t\t\t MEDIA_ENT_SUBTYPE_MASK)\n\n#define MEDIA_ENT_T_DEVNODE\t\t\tMEDIA_ENT_F_OLD_BASE\n#define MEDIA_ENT_T_DEVNODE_V4L\t\t\tMEDIA_ENT_F_IO_V4L\n#define MEDIA_ENT_T_DEVNODE_FB\t\t\t(MEDIA_ENT_F_OLD_BASE + 2)\n#define MEDIA_ENT_T_DEVNODE_ALSA\t\t(MEDIA_ENT_F_OLD_BASE + 3)\n#define MEDIA_ENT_T_DEVNODE_DVB\t\t\t(MEDIA_ENT_F_OLD_BASE + 4)\n\n#define MEDIA_ENT_T_UNKNOWN\t\t\tMEDIA_ENT_F_UNKNOWN\n#define MEDIA_ENT_T_V4L2_VIDEO\t\t\tMEDIA_ENT_F_IO_V4L\n#define MEDIA_ENT_T_V4L2_SUBDEV\t\t\tMEDIA_ENT_F_V4L2_SUBDEV_UNKNOWN\n#define MEDIA_ENT_T_V4L2_SUBDEV_SENSOR\t\tMEDIA_ENT_F_CAM_SENSOR\n#define MEDIA_ENT_T_V4L2_SUBDEV_FLASH\t\tMEDIA_ENT_F_FLASH\n#define MEDIA_ENT_T_V4L2_SUBDEV_LENS\t\tMEDIA_ENT_F_LENS\n#define MEDIA_ENT_T_V4L2_SUBDEV_DECODER\t\tMEDIA_ENT_F_ATV_DECODER\n#define MEDIA_ENT_T_V4L2_SUBDEV_TUNER\t\tMEDIA_ENT_F_TUNER\n\n#define MEDIA_ENT_F_DTV_DECODER\t\t\tMEDIA_ENT_F_DV_DECODER\n\n \n#define MEDIA_INTF_T_ALSA_COMPRESS             (MEDIA_INTF_T_ALSA_BASE + 3)\n#define MEDIA_INTF_T_ALSA_RAWMIDI              (MEDIA_INTF_T_ALSA_BASE + 4)\n#define MEDIA_INTF_T_ALSA_HWDEP                (MEDIA_INTF_T_ALSA_BASE + 5)\n#define MEDIA_INTF_T_ALSA_SEQUENCER            (MEDIA_INTF_T_ALSA_BASE + 6)\n#define MEDIA_INTF_T_ALSA_TIMER                (MEDIA_INTF_T_ALSA_BASE + 7)\n\n \n#define MEDIA_API_VERSION\t\t\t((0U << 16) | (1U << 8) | 0U)\n\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}