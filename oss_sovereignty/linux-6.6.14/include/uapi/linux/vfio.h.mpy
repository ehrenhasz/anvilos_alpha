{
  "module_name": "vfio.h",
  "hash_id": "8d2774b491ea3be12be96b1b703f500f71da490050270bdd66367efcd26c4834",
  "original_prompt": "Ingested from linux-6.6.14/include/uapi/linux/vfio.h",
  "human_readable_source": " \n \n#ifndef _UAPIVFIO_H\n#define _UAPIVFIO_H\n\n#include <linux/types.h>\n#include <linux/ioctl.h>\n\n#define VFIO_API_VERSION\t0\n\n\n \n\n \n\n#define VFIO_TYPE1_IOMMU\t\t1\n#define VFIO_SPAPR_TCE_IOMMU\t\t2\n#define VFIO_TYPE1v2_IOMMU\t\t3\n \n#define VFIO_DMA_CC_IOMMU\t\t4\n\n \n#define VFIO_EEH\t\t\t5\n\n \n#define VFIO_TYPE1_NESTING_IOMMU\t6\t \n\n#define VFIO_SPAPR_TCE_v2_IOMMU\t\t7\n\n \n#define VFIO_NOIOMMU_IOMMU\t\t8\n\n \n#define VFIO_UNMAP_ALL\t\t\t9\n\n \n#define VFIO_UPDATE_VADDR\t\t10\n\n \n\n#define VFIO_TYPE\t(';')\n#define VFIO_BASE\t100\n\n \nstruct vfio_info_cap_header {\n\t__u16\tid;\t\t \n\t__u16\tversion;\t \n\t__u32\tnext;\t\t \n};\n\n \n\n \n\n \n#define VFIO_GET_API_VERSION\t\t_IO(VFIO_TYPE, VFIO_BASE + 0)\n\n \n#define VFIO_CHECK_EXTENSION\t\t_IO(VFIO_TYPE, VFIO_BASE + 1)\n\n \n#define VFIO_SET_IOMMU\t\t\t_IO(VFIO_TYPE, VFIO_BASE + 2)\n\n \n\n \nstruct vfio_group_status {\n\t__u32\targsz;\n\t__u32\tflags;\n#define VFIO_GROUP_FLAGS_VIABLE\t\t(1 << 0)\n#define VFIO_GROUP_FLAGS_CONTAINER_SET\t(1 << 1)\n};\n#define VFIO_GROUP_GET_STATUS\t\t_IO(VFIO_TYPE, VFIO_BASE + 3)\n\n \n#define VFIO_GROUP_SET_CONTAINER\t_IO(VFIO_TYPE, VFIO_BASE + 4)\n\n \n#define VFIO_GROUP_UNSET_CONTAINER\t_IO(VFIO_TYPE, VFIO_BASE + 5)\n\n \n#define VFIO_GROUP_GET_DEVICE_FD\t_IO(VFIO_TYPE, VFIO_BASE + 6)\n\n \n\n \nstruct vfio_device_info {\n\t__u32\targsz;\n\t__u32\tflags;\n#define VFIO_DEVICE_FLAGS_RESET\t(1 << 0)\t \n#define VFIO_DEVICE_FLAGS_PCI\t(1 << 1)\t \n#define VFIO_DEVICE_FLAGS_PLATFORM (1 << 2)\t \n#define VFIO_DEVICE_FLAGS_AMBA  (1 << 3)\t \n#define VFIO_DEVICE_FLAGS_CCW\t(1 << 4)\t \n#define VFIO_DEVICE_FLAGS_AP\t(1 << 5)\t \n#define VFIO_DEVICE_FLAGS_FSL_MC (1 << 6)\t \n#define VFIO_DEVICE_FLAGS_CAPS\t(1 << 7)\t \n#define VFIO_DEVICE_FLAGS_CDX\t(1 << 8)\t \n\t__u32\tnum_regions;\t \n\t__u32\tnum_irqs;\t \n\t__u32   cap_offset;\t \n\t__u32   pad;\n};\n#define VFIO_DEVICE_GET_INFO\t\t_IO(VFIO_TYPE, VFIO_BASE + 7)\n\n \n\n#define VFIO_DEVICE_API_PCI_STRING\t\t\"vfio-pci\"\n#define VFIO_DEVICE_API_PLATFORM_STRING\t\t\"vfio-platform\"\n#define VFIO_DEVICE_API_AMBA_STRING\t\t\"vfio-amba\"\n#define VFIO_DEVICE_API_CCW_STRING\t\t\"vfio-ccw\"\n#define VFIO_DEVICE_API_AP_STRING\t\t\"vfio-ap\"\n\n \n#define VFIO_DEVICE_INFO_CAP_ZPCI_BASE\t\t1\n#define VFIO_DEVICE_INFO_CAP_ZPCI_GROUP\t\t2\n#define VFIO_DEVICE_INFO_CAP_ZPCI_UTIL\t\t3\n#define VFIO_DEVICE_INFO_CAP_ZPCI_PFIP\t\t4\n\n \n#define VFIO_DEVICE_INFO_CAP_PCI_ATOMIC_COMP\t5\nstruct vfio_device_info_cap_pci_atomic_comp {\n\tstruct vfio_info_cap_header header;\n\t__u32 flags;\n#define VFIO_PCI_ATOMIC_COMP32\t(1 << 0)\n#define VFIO_PCI_ATOMIC_COMP64\t(1 << 1)\n#define VFIO_PCI_ATOMIC_COMP128\t(1 << 2)\n\t__u32 reserved;\n};\n\n \nstruct vfio_region_info {\n\t__u32\targsz;\n\t__u32\tflags;\n#define VFIO_REGION_INFO_FLAG_READ\t(1 << 0)  \n#define VFIO_REGION_INFO_FLAG_WRITE\t(1 << 1)  \n#define VFIO_REGION_INFO_FLAG_MMAP\t(1 << 2)  \n#define VFIO_REGION_INFO_FLAG_CAPS\t(1 << 3)  \n\t__u32\tindex;\t\t \n\t__u32\tcap_offset;\t \n\t__u64\tsize;\t\t \n\t__u64\toffset;\t\t \n};\n#define VFIO_DEVICE_GET_REGION_INFO\t_IO(VFIO_TYPE, VFIO_BASE + 8)\n\n \n#define VFIO_REGION_INFO_CAP_SPARSE_MMAP\t1\n\nstruct vfio_region_sparse_mmap_area {\n\t__u64\toffset;\t \n\t__u64\tsize;\t \n};\n\nstruct vfio_region_info_cap_sparse_mmap {\n\tstruct vfio_info_cap_header header;\n\t__u32\tnr_areas;\n\t__u32\treserved;\n\tstruct vfio_region_sparse_mmap_area areas[];\n};\n\n \n#define VFIO_REGION_INFO_CAP_TYPE\t2\n\nstruct vfio_region_info_cap_type {\n\tstruct vfio_info_cap_header header;\n\t__u32 type;\t \n\t__u32 subtype;\t \n};\n\n \n\n \n#define VFIO_REGION_TYPE_PCI_VENDOR_TYPE\t(1 << 31)\n#define VFIO_REGION_TYPE_PCI_VENDOR_MASK\t(0xffff)\n#define VFIO_REGION_TYPE_GFX                    (1)\n#define VFIO_REGION_TYPE_CCW\t\t\t(2)\n#define VFIO_REGION_TYPE_MIGRATION_DEPRECATED   (3)\n\n \n\n \n#define VFIO_REGION_SUBTYPE_INTEL_IGD_OPREGION\t(1)\n#define VFIO_REGION_SUBTYPE_INTEL_IGD_HOST_CFG\t(2)\n#define VFIO_REGION_SUBTYPE_INTEL_IGD_LPC_CFG\t(3)\n\n \n \n#define VFIO_REGION_SUBTYPE_NVIDIA_NVLINK2_RAM\t(1)\n\n \n \n#define VFIO_REGION_SUBTYPE_IBM_NVLINK2_ATSD\t(1)\n\n \n#define VFIO_REGION_SUBTYPE_GFX_EDID            (1)\n\n \nstruct vfio_region_gfx_edid {\n\t__u32 edid_offset;\n\t__u32 edid_max_size;\n\t__u32 edid_size;\n\t__u32 max_xres;\n\t__u32 max_yres;\n\t__u32 link_state;\n#define VFIO_DEVICE_GFX_LINK_STATE_UP    1\n#define VFIO_DEVICE_GFX_LINK_STATE_DOWN  2\n};\n\n \n#define VFIO_REGION_SUBTYPE_CCW_ASYNC_CMD\t(1)\n#define VFIO_REGION_SUBTYPE_CCW_SCHIB\t\t(2)\n#define VFIO_REGION_SUBTYPE_CCW_CRW\t\t(3)\n\n \n#define VFIO_REGION_SUBTYPE_MIGRATION_DEPRECATED (1)\n\nstruct vfio_device_migration_info {\n\t__u32 device_state;          \n#define VFIO_DEVICE_STATE_V1_STOP      (0)\n#define VFIO_DEVICE_STATE_V1_RUNNING   (1 << 0)\n#define VFIO_DEVICE_STATE_V1_SAVING    (1 << 1)\n#define VFIO_DEVICE_STATE_V1_RESUMING  (1 << 2)\n#define VFIO_DEVICE_STATE_MASK      (VFIO_DEVICE_STATE_V1_RUNNING | \\\n\t\t\t\t     VFIO_DEVICE_STATE_V1_SAVING |  \\\n\t\t\t\t     VFIO_DEVICE_STATE_V1_RESUMING)\n\n#define VFIO_DEVICE_STATE_VALID(state) \\\n\t(state & VFIO_DEVICE_STATE_V1_RESUMING ? \\\n\t(state & VFIO_DEVICE_STATE_MASK) == VFIO_DEVICE_STATE_V1_RESUMING : 1)\n\n#define VFIO_DEVICE_STATE_IS_ERROR(state) \\\n\t((state & VFIO_DEVICE_STATE_MASK) == (VFIO_DEVICE_STATE_V1_SAVING | \\\n\t\t\t\t\t      VFIO_DEVICE_STATE_V1_RESUMING))\n\n#define VFIO_DEVICE_STATE_SET_ERROR(state) \\\n\t((state & ~VFIO_DEVICE_STATE_MASK) | VFIO_DEVICE_STATE_V1_SAVING | \\\n\t\t\t\t\t     VFIO_DEVICE_STATE_V1_RESUMING)\n\n\t__u32 reserved;\n\t__u64 pending_bytes;\n\t__u64 data_offset;\n\t__u64 data_size;\n};\n\n \n#define VFIO_REGION_INFO_CAP_MSIX_MAPPABLE\t3\n\n \n#define VFIO_REGION_INFO_CAP_NVLINK2_SSATGT\t4\n\nstruct vfio_region_info_cap_nvlink2_ssatgt {\n\tstruct vfio_info_cap_header header;\n\t__u64 tgt;\n};\n\n \n#define VFIO_REGION_INFO_CAP_NVLINK2_LNKSPD\t5\n\nstruct vfio_region_info_cap_nvlink2_lnkspd {\n\tstruct vfio_info_cap_header header;\n\t__u32 link_speed;\n\t__u32 __pad;\n};\n\n \nstruct vfio_irq_info {\n\t__u32\targsz;\n\t__u32\tflags;\n#define VFIO_IRQ_INFO_EVENTFD\t\t(1 << 0)\n#define VFIO_IRQ_INFO_MASKABLE\t\t(1 << 1)\n#define VFIO_IRQ_INFO_AUTOMASKED\t(1 << 2)\n#define VFIO_IRQ_INFO_NORESIZE\t\t(1 << 3)\n\t__u32\tindex;\t\t \n\t__u32\tcount;\t\t \n};\n#define VFIO_DEVICE_GET_IRQ_INFO\t_IO(VFIO_TYPE, VFIO_BASE + 9)\n\n \nstruct vfio_irq_set {\n\t__u32\targsz;\n\t__u32\tflags;\n#define VFIO_IRQ_SET_DATA_NONE\t\t(1 << 0)  \n#define VFIO_IRQ_SET_DATA_BOOL\t\t(1 << 1)  \n#define VFIO_IRQ_SET_DATA_EVENTFD\t(1 << 2)  \n#define VFIO_IRQ_SET_ACTION_MASK\t(1 << 3)  \n#define VFIO_IRQ_SET_ACTION_UNMASK\t(1 << 4)  \n#define VFIO_IRQ_SET_ACTION_TRIGGER\t(1 << 5)  \n\t__u32\tindex;\n\t__u32\tstart;\n\t__u32\tcount;\n\t__u8\tdata[];\n};\n#define VFIO_DEVICE_SET_IRQS\t\t_IO(VFIO_TYPE, VFIO_BASE + 10)\n\n#define VFIO_IRQ_SET_DATA_TYPE_MASK\t(VFIO_IRQ_SET_DATA_NONE | \\\n\t\t\t\t\t VFIO_IRQ_SET_DATA_BOOL | \\\n\t\t\t\t\t VFIO_IRQ_SET_DATA_EVENTFD)\n#define VFIO_IRQ_SET_ACTION_TYPE_MASK\t(VFIO_IRQ_SET_ACTION_MASK | \\\n\t\t\t\t\t VFIO_IRQ_SET_ACTION_UNMASK | \\\n\t\t\t\t\t VFIO_IRQ_SET_ACTION_TRIGGER)\n \n#define VFIO_DEVICE_RESET\t\t_IO(VFIO_TYPE, VFIO_BASE + 11)\n\n \n\nenum {\n\tVFIO_PCI_BAR0_REGION_INDEX,\n\tVFIO_PCI_BAR1_REGION_INDEX,\n\tVFIO_PCI_BAR2_REGION_INDEX,\n\tVFIO_PCI_BAR3_REGION_INDEX,\n\tVFIO_PCI_BAR4_REGION_INDEX,\n\tVFIO_PCI_BAR5_REGION_INDEX,\n\tVFIO_PCI_ROM_REGION_INDEX,\n\tVFIO_PCI_CONFIG_REGION_INDEX,\n\t \n\tVFIO_PCI_VGA_REGION_INDEX,\n\tVFIO_PCI_NUM_REGIONS = 9  \n\t\t\t\t  \n};\n\nenum {\n\tVFIO_PCI_INTX_IRQ_INDEX,\n\tVFIO_PCI_MSI_IRQ_INDEX,\n\tVFIO_PCI_MSIX_IRQ_INDEX,\n\tVFIO_PCI_ERR_IRQ_INDEX,\n\tVFIO_PCI_REQ_IRQ_INDEX,\n\tVFIO_PCI_NUM_IRQS\n};\n\n \n\nenum {\n\tVFIO_CCW_CONFIG_REGION_INDEX,\n\tVFIO_CCW_NUM_REGIONS\n};\n\nenum {\n\tVFIO_CCW_IO_IRQ_INDEX,\n\tVFIO_CCW_CRW_IRQ_INDEX,\n\tVFIO_CCW_REQ_IRQ_INDEX,\n\tVFIO_CCW_NUM_IRQS\n};\n\n \nenum {\n\tVFIO_AP_REQ_IRQ_INDEX,\n\tVFIO_AP_NUM_IRQS\n};\n\n \nstruct vfio_pci_dependent_device {\n\tunion {\n\t\t__u32   group_id;\n\t\t__u32\tdevid;\n#define VFIO_PCI_DEVID_OWNED\t\t0\n#define VFIO_PCI_DEVID_NOT_OWNED\t-1\n\t};\n\t__u16\tsegment;\n\t__u8\tbus;\n\t__u8\tdevfn;  \n};\n\nstruct vfio_pci_hot_reset_info {\n\t__u32\targsz;\n\t__u32\tflags;\n#define VFIO_PCI_HOT_RESET_FLAG_DEV_ID\t\t(1 << 0)\n#define VFIO_PCI_HOT_RESET_FLAG_DEV_ID_OWNED\t(1 << 1)\n\t__u32\tcount;\n\tstruct vfio_pci_dependent_device\tdevices[];\n};\n\n#define VFIO_DEVICE_GET_PCI_HOT_RESET_INFO\t_IO(VFIO_TYPE, VFIO_BASE + 12)\n\n \nstruct vfio_pci_hot_reset {\n\t__u32\targsz;\n\t__u32\tflags;\n\t__u32\tcount;\n\t__s32\tgroup_fds[];\n};\n\n#define VFIO_DEVICE_PCI_HOT_RESET\t_IO(VFIO_TYPE, VFIO_BASE + 13)\n\n \nstruct vfio_device_gfx_plane_info {\n\t__u32 argsz;\n\t__u32 flags;\n#define VFIO_GFX_PLANE_TYPE_PROBE (1 << 0)\n#define VFIO_GFX_PLANE_TYPE_DMABUF (1 << 1)\n#define VFIO_GFX_PLANE_TYPE_REGION (1 << 2)\n\t \n\t__u32 drm_plane_type;\t \n\t \n\t__u32 drm_format;\t \n\t__u64 drm_format_mod;    \n\t__u32 width;\t \n\t__u32 height;\t \n\t__u32 stride;\t \n\t__u32 size;\t \n\t__u32 x_pos;\t \n\t__u32 y_pos;\t \n\t__u32 x_hot;     \n\t__u32 y_hot;     \n\tunion {\n\t\t__u32 region_index;\t \n\t\t__u32 dmabuf_id;\t \n\t};\n};\n\n#define VFIO_DEVICE_QUERY_GFX_PLANE _IO(VFIO_TYPE, VFIO_BASE + 14)\n\n \n\n#define VFIO_DEVICE_GET_GFX_DMABUF _IO(VFIO_TYPE, VFIO_BASE + 15)\n\n \nstruct vfio_device_ioeventfd {\n\t__u32\targsz;\n\t__u32\tflags;\n#define VFIO_DEVICE_IOEVENTFD_8\t\t(1 << 0)  \n#define VFIO_DEVICE_IOEVENTFD_16\t(1 << 1)  \n#define VFIO_DEVICE_IOEVENTFD_32\t(1 << 2)  \n#define VFIO_DEVICE_IOEVENTFD_64\t(1 << 3)  \n#define VFIO_DEVICE_IOEVENTFD_SIZE_MASK\t(0xf)\n\t__u64\toffset;\t\t\t \n\t__u64\tdata;\t\t\t \n\t__s32\tfd;\t\t\t \n};\n\n#define VFIO_DEVICE_IOEVENTFD\t\t_IO(VFIO_TYPE, VFIO_BASE + 16)\n\n \nstruct vfio_device_feature {\n\t__u32\targsz;\n\t__u32\tflags;\n#define VFIO_DEVICE_FEATURE_MASK\t(0xffff)  \n#define VFIO_DEVICE_FEATURE_GET\t\t(1 << 16)  \n#define VFIO_DEVICE_FEATURE_SET\t\t(1 << 17)  \n#define VFIO_DEVICE_FEATURE_PROBE\t(1 << 18)  \n\t__u8\tdata[];\n};\n\n#define VFIO_DEVICE_FEATURE\t\t_IO(VFIO_TYPE, VFIO_BASE + 17)\n\n \nstruct vfio_device_bind_iommufd {\n\t__u32\t\targsz;\n\t__u32\t\tflags;\n\t__s32\t\tiommufd;\n\t__u32\t\tout_devid;\n};\n\n#define VFIO_DEVICE_BIND_IOMMUFD\t_IO(VFIO_TYPE, VFIO_BASE + 18)\n\n \nstruct vfio_device_attach_iommufd_pt {\n\t__u32\targsz;\n\t__u32\tflags;\n\t__u32\tpt_id;\n};\n\n#define VFIO_DEVICE_ATTACH_IOMMUFD_PT\t\t_IO(VFIO_TYPE, VFIO_BASE + 19)\n\n \nstruct vfio_device_detach_iommufd_pt {\n\t__u32\targsz;\n\t__u32\tflags;\n};\n\n#define VFIO_DEVICE_DETACH_IOMMUFD_PT\t\t_IO(VFIO_TYPE, VFIO_BASE + 20)\n\n \n#define VFIO_DEVICE_FEATURE_PCI_VF_TOKEN\t(0)\n\n \nstruct vfio_device_feature_migration {\n\t__aligned_u64 flags;\n#define VFIO_MIGRATION_STOP_COPY\t(1 << 0)\n#define VFIO_MIGRATION_P2P\t\t(1 << 1)\n#define VFIO_MIGRATION_PRE_COPY\t\t(1 << 2)\n};\n#define VFIO_DEVICE_FEATURE_MIGRATION 1\n\n \nstruct vfio_device_feature_mig_state {\n\t__u32 device_state;  \n\t__s32 data_fd;\n};\n#define VFIO_DEVICE_FEATURE_MIG_DEVICE_STATE 2\n\n \nenum vfio_device_mig_state {\n\tVFIO_DEVICE_STATE_ERROR = 0,\n\tVFIO_DEVICE_STATE_STOP = 1,\n\tVFIO_DEVICE_STATE_RUNNING = 2,\n\tVFIO_DEVICE_STATE_STOP_COPY = 3,\n\tVFIO_DEVICE_STATE_RESUMING = 4,\n\tVFIO_DEVICE_STATE_RUNNING_P2P = 5,\n\tVFIO_DEVICE_STATE_PRE_COPY = 6,\n\tVFIO_DEVICE_STATE_PRE_COPY_P2P = 7,\n};\n\n \nstruct vfio_precopy_info {\n\t__u32 argsz;\n\t__u32 flags;\n\t__aligned_u64 initial_bytes;\n\t__aligned_u64 dirty_bytes;\n};\n\n#define VFIO_MIG_GET_PRECOPY_INFO _IO(VFIO_TYPE, VFIO_BASE + 21)\n\n \n#define VFIO_DEVICE_FEATURE_LOW_POWER_ENTRY 3\n\n \nstruct vfio_device_low_power_entry_with_wakeup {\n\t__s32 wakeup_eventfd;\n\t__u32 reserved;\n};\n\n#define VFIO_DEVICE_FEATURE_LOW_POWER_ENTRY_WITH_WAKEUP 4\n\n \n#define VFIO_DEVICE_FEATURE_LOW_POWER_EXIT 5\n\n \nstruct vfio_device_feature_dma_logging_control {\n\t__aligned_u64 page_size;\n\t__u32 num_ranges;\n\t__u32 __reserved;\n\t__aligned_u64 ranges;\n};\n\nstruct vfio_device_feature_dma_logging_range {\n\t__aligned_u64 iova;\n\t__aligned_u64 length;\n};\n\n#define VFIO_DEVICE_FEATURE_DMA_LOGGING_START 6\n\n \n#define VFIO_DEVICE_FEATURE_DMA_LOGGING_STOP 7\n\n \nstruct vfio_device_feature_dma_logging_report {\n\t__aligned_u64 iova;\n\t__aligned_u64 length;\n\t__aligned_u64 page_size;\n\t__aligned_u64 bitmap;\n};\n\n#define VFIO_DEVICE_FEATURE_DMA_LOGGING_REPORT 8\n\n \n\nstruct vfio_device_feature_mig_data_size {\n\t__aligned_u64 stop_copy_length;\n};\n\n#define VFIO_DEVICE_FEATURE_MIG_DATA_SIZE 9\n\n \n\n \nstruct vfio_iommu_type1_info {\n\t__u32\targsz;\n\t__u32\tflags;\n#define VFIO_IOMMU_INFO_PGSIZES (1 << 0)\t \n#define VFIO_IOMMU_INFO_CAPS\t(1 << 1)\t \n\t__u64\tiova_pgsizes;\t \n\t__u32   cap_offset;\t \n\t__u32   pad;\n};\n\n \n#define VFIO_IOMMU_TYPE1_INFO_CAP_IOVA_RANGE  1\n\nstruct vfio_iova_range {\n\t__u64\tstart;\n\t__u64\tend;\n};\n\nstruct vfio_iommu_type1_info_cap_iova_range {\n\tstruct\tvfio_info_cap_header header;\n\t__u32\tnr_iovas;\n\t__u32\treserved;\n\tstruct\tvfio_iova_range iova_ranges[];\n};\n\n \n#define VFIO_IOMMU_TYPE1_INFO_CAP_MIGRATION  2\n\nstruct vfio_iommu_type1_info_cap_migration {\n\tstruct\tvfio_info_cap_header header;\n\t__u32\tflags;\n\t__u64\tpgsize_bitmap;\n\t__u64\tmax_dirty_bitmap_size;\t\t \n};\n\n \n#define VFIO_IOMMU_TYPE1_INFO_DMA_AVAIL 3\n\nstruct vfio_iommu_type1_info_dma_avail {\n\tstruct\tvfio_info_cap_header header;\n\t__u32\tavail;\n};\n\n#define VFIO_IOMMU_GET_INFO _IO(VFIO_TYPE, VFIO_BASE + 12)\n\n \nstruct vfio_iommu_type1_dma_map {\n\t__u32\targsz;\n\t__u32\tflags;\n#define VFIO_DMA_MAP_FLAG_READ (1 << 0)\t\t \n#define VFIO_DMA_MAP_FLAG_WRITE (1 << 1)\t \n#define VFIO_DMA_MAP_FLAG_VADDR (1 << 2)\n\t__u64\tvaddr;\t\t\t\t \n\t__u64\tiova;\t\t\t\t \n\t__u64\tsize;\t\t\t\t \n};\n\n#define VFIO_IOMMU_MAP_DMA _IO(VFIO_TYPE, VFIO_BASE + 13)\n\nstruct vfio_bitmap {\n\t__u64        pgsize;\t \n\t__u64        size;\t \n\t__u64 __user *data;\t \n};\n\n \nstruct vfio_iommu_type1_dma_unmap {\n\t__u32\targsz;\n\t__u32\tflags;\n#define VFIO_DMA_UNMAP_FLAG_GET_DIRTY_BITMAP (1 << 0)\n#define VFIO_DMA_UNMAP_FLAG_ALL\t\t     (1 << 1)\n#define VFIO_DMA_UNMAP_FLAG_VADDR\t     (1 << 2)\n\t__u64\tiova;\t\t\t\t \n\t__u64\tsize;\t\t\t\t \n\t__u8    data[];\n};\n\n#define VFIO_IOMMU_UNMAP_DMA _IO(VFIO_TYPE, VFIO_BASE + 14)\n\n \n#define VFIO_IOMMU_ENABLE\t_IO(VFIO_TYPE, VFIO_BASE + 15)\n#define VFIO_IOMMU_DISABLE\t_IO(VFIO_TYPE, VFIO_BASE + 16)\n\n \nstruct vfio_iommu_type1_dirty_bitmap {\n\t__u32        argsz;\n\t__u32        flags;\n#define VFIO_IOMMU_DIRTY_PAGES_FLAG_START\t(1 << 0)\n#define VFIO_IOMMU_DIRTY_PAGES_FLAG_STOP\t(1 << 1)\n#define VFIO_IOMMU_DIRTY_PAGES_FLAG_GET_BITMAP\t(1 << 2)\n\t__u8         data[];\n};\n\nstruct vfio_iommu_type1_dirty_bitmap_get {\n\t__u64              iova;\t \n\t__u64              size;\t \n\tstruct vfio_bitmap bitmap;\n};\n\n#define VFIO_IOMMU_DIRTY_PAGES             _IO(VFIO_TYPE, VFIO_BASE + 17)\n\n \n\n \nstruct vfio_iommu_spapr_tce_ddw_info {\n\t__u64 pgsizes;\t\t\t \n\t__u32 max_dynamic_windows_supported;\n\t__u32 levels;\n};\n\n \nstruct vfio_iommu_spapr_tce_info {\n\t__u32 argsz;\n\t__u32 flags;\n#define VFIO_IOMMU_SPAPR_INFO_DDW\t(1 << 0)\t \n\t__u32 dma32_window_start;\t \n\t__u32 dma32_window_size;\t \n\tstruct vfio_iommu_spapr_tce_ddw_info ddw;\n};\n\n#define VFIO_IOMMU_SPAPR_TCE_GET_INFO\t_IO(VFIO_TYPE, VFIO_BASE + 12)\n\n \nstruct vfio_eeh_pe_err {\n\t__u32 type;\n\t__u32 func;\n\t__u64 addr;\n\t__u64 mask;\n};\n\nstruct vfio_eeh_pe_op {\n\t__u32 argsz;\n\t__u32 flags;\n\t__u32 op;\n\tunion {\n\t\tstruct vfio_eeh_pe_err err;\n\t};\n};\n\n#define VFIO_EEH_PE_DISABLE\t\t0\t \n#define VFIO_EEH_PE_ENABLE\t\t1\t \n#define VFIO_EEH_PE_UNFREEZE_IO\t\t2\t \n#define VFIO_EEH_PE_UNFREEZE_DMA\t3\t \n#define VFIO_EEH_PE_GET_STATE\t\t4\t \n#define  VFIO_EEH_PE_STATE_NORMAL\t0\t \n#define  VFIO_EEH_PE_STATE_RESET\t1\t \n#define  VFIO_EEH_PE_STATE_STOPPED\t2\t \n#define  VFIO_EEH_PE_STATE_STOPPED_DMA\t4\t \n#define  VFIO_EEH_PE_STATE_UNAVAIL\t5\t \n#define VFIO_EEH_PE_RESET_DEACTIVATE\t5\t \n#define VFIO_EEH_PE_RESET_HOT\t\t6\t \n#define VFIO_EEH_PE_RESET_FUNDAMENTAL\t7\t \n#define VFIO_EEH_PE_CONFIGURE\t\t8\t \n#define VFIO_EEH_PE_INJECT_ERR\t\t9\t \n\n#define VFIO_EEH_PE_OP\t\t\t_IO(VFIO_TYPE, VFIO_BASE + 21)\n\n \nstruct vfio_iommu_spapr_register_memory {\n\t__u32\targsz;\n\t__u32\tflags;\n\t__u64\tvaddr;\t\t\t\t \n\t__u64\tsize;\t\t\t\t \n};\n#define VFIO_IOMMU_SPAPR_REGISTER_MEMORY\t_IO(VFIO_TYPE, VFIO_BASE + 17)\n\n \n#define VFIO_IOMMU_SPAPR_UNREGISTER_MEMORY\t_IO(VFIO_TYPE, VFIO_BASE + 18)\n\n \nstruct vfio_iommu_spapr_tce_create {\n\t__u32 argsz;\n\t__u32 flags;\n\t \n\t__u32 page_shift;\n\t__u32 __resv1;\n\t__u64 window_size;\n\t__u32 levels;\n\t__u32 __resv2;\n\t \n\t__u64 start_addr;\n};\n#define VFIO_IOMMU_SPAPR_TCE_CREATE\t_IO(VFIO_TYPE, VFIO_BASE + 19)\n\n \nstruct vfio_iommu_spapr_tce_remove {\n\t__u32 argsz;\n\t__u32 flags;\n\t \n\t__u64 start_addr;\n};\n#define VFIO_IOMMU_SPAPR_TCE_REMOVE\t_IO(VFIO_TYPE, VFIO_BASE + 20)\n\n \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}