{
  "module_name": "idxd.h",
  "hash_id": "062c7ef75a1ea69e79aaf1fc7af8a85eb9a63792f65a1717ff94184a7a1f7f84",
  "original_prompt": "Ingested from linux-6.6.14/include/uapi/linux/idxd.h",
  "human_readable_source": " \n \n#ifndef _USR_IDXD_H_\n#define _USR_IDXD_H_\n\n#ifdef __KERNEL__\n#include <linux/types.h>\n#else\n#include <stdint.h>\n#endif\n\n \nenum idxd_scmd_stat {\n\tIDXD_SCMD_DEV_ENABLED = 0x80000010,\n\tIDXD_SCMD_DEV_NOT_ENABLED = 0x80000020,\n\tIDXD_SCMD_WQ_ENABLED = 0x80000021,\n\tIDXD_SCMD_DEV_DMA_ERR = 0x80020000,\n\tIDXD_SCMD_WQ_NO_GRP = 0x80030000,\n\tIDXD_SCMD_WQ_NO_NAME = 0x80040000,\n\tIDXD_SCMD_WQ_NO_SVM = 0x80050000,\n\tIDXD_SCMD_WQ_NO_THRESH = 0x80060000,\n\tIDXD_SCMD_WQ_PORTAL_ERR = 0x80070000,\n\tIDXD_SCMD_WQ_RES_ALLOC_ERR = 0x80080000,\n\tIDXD_SCMD_PERCPU_ERR = 0x80090000,\n\tIDXD_SCMD_DMA_CHAN_ERR = 0x800a0000,\n\tIDXD_SCMD_CDEV_ERR = 0x800b0000,\n\tIDXD_SCMD_WQ_NO_SWQ_SUPPORT = 0x800c0000,\n\tIDXD_SCMD_WQ_NONE_CONFIGURED = 0x800d0000,\n\tIDXD_SCMD_WQ_NO_SIZE = 0x800e0000,\n\tIDXD_SCMD_WQ_NO_PRIV = 0x800f0000,\n\tIDXD_SCMD_WQ_IRQ_ERR = 0x80100000,\n\tIDXD_SCMD_WQ_USER_NO_IOMMU = 0x80110000,\n\tIDXD_SCMD_DEV_EVL_ERR = 0x80120000,\n};\n\n#define IDXD_SCMD_SOFTERR_MASK\t0x80000000\n#define IDXD_SCMD_SOFTERR_SHIFT\t16\n\n \n#define IDXD_OP_FLAG_FENCE\t0x0001\n#define IDXD_OP_FLAG_BOF\t0x0002\n#define IDXD_OP_FLAG_CRAV\t0x0004\n#define IDXD_OP_FLAG_RCR\t0x0008\n#define IDXD_OP_FLAG_RCI\t0x0010\n#define IDXD_OP_FLAG_CRSTS\t0x0020\n#define IDXD_OP_FLAG_CR\t\t0x0080\n#define IDXD_OP_FLAG_CC\t\t0x0100\n#define IDXD_OP_FLAG_ADDR1_TCS\t0x0200\n#define IDXD_OP_FLAG_ADDR2_TCS\t0x0400\n#define IDXD_OP_FLAG_ADDR3_TCS\t0x0800\n#define IDXD_OP_FLAG_CR_TCS\t0x1000\n#define IDXD_OP_FLAG_STORD\t0x2000\n#define IDXD_OP_FLAG_DRDBK\t0x4000\n#define IDXD_OP_FLAG_DSTS\t0x8000\n\n \n#define IDXD_OP_FLAG_RD_SRC2_AECS\t0x010000\n#define IDXD_OP_FLAG_RD_SRC2_2ND\t0x020000\n#define IDXD_OP_FLAG_WR_SRC2_AECS_COMP\t0x040000\n#define IDXD_OP_FLAG_WR_SRC2_AECS_OVFL\t0x080000\n#define IDXD_OP_FLAG_SRC2_STS\t\t0x100000\n#define IDXD_OP_FLAG_CRC_RFC3720\t0x200000\n\n \nenum dsa_opcode {\n\tDSA_OPCODE_NOOP = 0,\n\tDSA_OPCODE_BATCH,\n\tDSA_OPCODE_DRAIN,\n\tDSA_OPCODE_MEMMOVE,\n\tDSA_OPCODE_MEMFILL,\n\tDSA_OPCODE_COMPARE,\n\tDSA_OPCODE_COMPVAL,\n\tDSA_OPCODE_CR_DELTA,\n\tDSA_OPCODE_AP_DELTA,\n\tDSA_OPCODE_DUALCAST,\n\tDSA_OPCODE_TRANSL_FETCH,\n\tDSA_OPCODE_CRCGEN = 0x10,\n\tDSA_OPCODE_COPY_CRC,\n\tDSA_OPCODE_DIF_CHECK,\n\tDSA_OPCODE_DIF_INS,\n\tDSA_OPCODE_DIF_STRP,\n\tDSA_OPCODE_DIF_UPDT,\n\tDSA_OPCODE_DIX_GEN = 0x17,\n\tDSA_OPCODE_CFLUSH = 0x20,\n};\n\nenum iax_opcode {\n\tIAX_OPCODE_NOOP = 0,\n\tIAX_OPCODE_DRAIN = 2,\n\tIAX_OPCODE_MEMMOVE,\n\tIAX_OPCODE_DECOMPRESS = 0x42,\n\tIAX_OPCODE_COMPRESS,\n\tIAX_OPCODE_CRC64,\n\tIAX_OPCODE_ZERO_DECOMP_32 = 0x48,\n\tIAX_OPCODE_ZERO_DECOMP_16,\n\tIAX_OPCODE_ZERO_COMP_32 = 0x4c,\n\tIAX_OPCODE_ZERO_COMP_16,\n\tIAX_OPCODE_SCAN = 0x50,\n\tIAX_OPCODE_SET_MEMBER,\n\tIAX_OPCODE_EXTRACT,\n\tIAX_OPCODE_SELECT,\n\tIAX_OPCODE_RLE_BURST,\n\tIAX_OPCODE_FIND_UNIQUE,\n\tIAX_OPCODE_EXPAND,\n};\n\n \nenum dsa_completion_status {\n\tDSA_COMP_NONE = 0,\n\tDSA_COMP_SUCCESS,\n\tDSA_COMP_SUCCESS_PRED,\n\tDSA_COMP_PAGE_FAULT_NOBOF,\n\tDSA_COMP_PAGE_FAULT_IR,\n\tDSA_COMP_BATCH_FAIL,\n\tDSA_COMP_BATCH_PAGE_FAULT,\n\tDSA_COMP_DR_OFFSET_NOINC,\n\tDSA_COMP_DR_OFFSET_ERANGE,\n\tDSA_COMP_DIF_ERR,\n\tDSA_COMP_BAD_OPCODE = 0x10,\n\tDSA_COMP_INVALID_FLAGS,\n\tDSA_COMP_NOZERO_RESERVE,\n\tDSA_COMP_XFER_ERANGE,\n\tDSA_COMP_DESC_CNT_ERANGE,\n\tDSA_COMP_DR_ERANGE,\n\tDSA_COMP_OVERLAP_BUFFERS,\n\tDSA_COMP_DCAST_ERR,\n\tDSA_COMP_DESCLIST_ALIGN,\n\tDSA_COMP_INT_HANDLE_INVAL,\n\tDSA_COMP_CRA_XLAT,\n\tDSA_COMP_CRA_ALIGN,\n\tDSA_COMP_ADDR_ALIGN,\n\tDSA_COMP_PRIV_BAD,\n\tDSA_COMP_TRAFFIC_CLASS_CONF,\n\tDSA_COMP_PFAULT_RDBA,\n\tDSA_COMP_HW_ERR1,\n\tDSA_COMP_HW_ERR_DRB,\n\tDSA_COMP_TRANSLATION_FAIL,\n\tDSA_COMP_DRAIN_EVL = 0x26,\n\tDSA_COMP_BATCH_EVL_ERR,\n};\n\nenum iax_completion_status {\n\tIAX_COMP_NONE = 0,\n\tIAX_COMP_SUCCESS,\n\tIAX_COMP_PAGE_FAULT_IR = 0x04,\n\tIAX_COMP_ANALYTICS_ERROR = 0x0a,\n\tIAX_COMP_OUTBUF_OVERFLOW,\n\tIAX_COMP_BAD_OPCODE = 0x10,\n\tIAX_COMP_INVALID_FLAGS,\n\tIAX_COMP_NOZERO_RESERVE,\n\tIAX_COMP_INVALID_SIZE,\n\tIAX_COMP_OVERLAP_BUFFERS = 0x16,\n\tIAX_COMP_INT_HANDLE_INVAL = 0x19,\n\tIAX_COMP_CRA_XLAT,\n\tIAX_COMP_CRA_ALIGN,\n\tIAX_COMP_ADDR_ALIGN,\n\tIAX_COMP_PRIV_BAD,\n\tIAX_COMP_TRAFFIC_CLASS_CONF,\n\tIAX_COMP_PFAULT_RDBA,\n\tIAX_COMP_HW_ERR1,\n\tIAX_COMP_HW_ERR_DRB,\n\tIAX_COMP_TRANSLATION_FAIL,\n\tIAX_COMP_PRS_TIMEOUT,\n\tIAX_COMP_WATCHDOG,\n\tIAX_COMP_INVALID_COMP_FLAG = 0x30,\n\tIAX_COMP_INVALID_FILTER_FLAG,\n\tIAX_COMP_INVALID_INPUT_SIZE,\n\tIAX_COMP_INVALID_NUM_ELEMS,\n\tIAX_COMP_INVALID_SRC1_WIDTH,\n\tIAX_COMP_INVALID_INVERT_OUT,\n};\n\n#define DSA_COMP_STATUS_MASK\t\t0x7f\n#define DSA_COMP_STATUS_WRITE\t\t0x80\n#define DSA_COMP_STATUS(status)\t\t((status) & DSA_COMP_STATUS_MASK)\n\nstruct dsa_hw_desc {\n\tuint32_t\tpasid:20;\n\tuint32_t\trsvd:11;\n\tuint32_t\tpriv:1;\n\tuint32_t\tflags:24;\n\tuint32_t\topcode:8;\n\tuint64_t\tcompletion_addr;\n\tunion {\n\t\tuint64_t\tsrc_addr;\n\t\tuint64_t\trdback_addr;\n\t\tuint64_t\tpattern;\n\t\tuint64_t\tdesc_list_addr;\n\t\tuint64_t\tpattern_lower;\n\t\tuint64_t\ttransl_fetch_addr;\n\t};\n\tunion {\n\t\tuint64_t\tdst_addr;\n\t\tuint64_t\trdback_addr2;\n\t\tuint64_t\tsrc2_addr;\n\t\tuint64_t\tcomp_pattern;\n\t};\n\tunion {\n\t\tuint32_t\txfer_size;\n\t\tuint32_t\tdesc_count;\n\t\tuint32_t\tregion_size;\n\t};\n\tuint16_t\tint_handle;\n\tuint16_t\trsvd1;\n\tunion {\n\t\tuint8_t\t\texpected_res;\n\t\t \n\t\tstruct {\n\t\t\tuint64_t\tdelta_addr;\n\t\t\tuint32_t\tmax_delta_size;\n\t\t\tuint32_t \tdelt_rsvd;\n\t\t\tuint8_t \texpected_res_mask;\n\t\t};\n\t\tuint32_t\tdelta_rec_size;\n\t\tuint64_t\tdest2;\n\t\t \n\t\tstruct {\n\t\t\tuint32_t\tcrc_seed;\n\t\t\tuint32_t\tcrc_rsvd;\n\t\t\tuint64_t\tseed_addr;\n\t\t};\n\t\t \n\t\tstruct {\n\t\t\tuint8_t\t\tsrc_dif_flags;\n\t\t\tuint8_t\t\tdif_chk_res;\n\t\t\tuint8_t\t\tdif_chk_flags;\n\t\t\tuint8_t\t\tdif_chk_res2[5];\n\t\t\tuint32_t\tchk_ref_tag_seed;\n\t\t\tuint16_t\tchk_app_tag_mask;\n\t\t\tuint16_t\tchk_app_tag_seed;\n\t\t};\n\t\t \n\t\tstruct {\n\t\t\tuint8_t\t\tdif_ins_res;\n\t\t\tuint8_t\t\tdest_dif_flag;\n\t\t\tuint8_t\t\tdif_ins_flags;\n\t\t\tuint8_t\t\tdif_ins_res2[13];\n\t\t\tuint32_t\tins_ref_tag_seed;\n\t\t\tuint16_t\tins_app_tag_mask;\n\t\t\tuint16_t\tins_app_tag_seed;\n\t\t};\n\t\t \n\t\tstruct {\n\t\t\tuint8_t\t\tsrc_upd_flags;\n\t\t\tuint8_t\t\tupd_dest_flags;\n\t\t\tuint8_t\t\tdif_upd_flags;\n\t\t\tuint8_t\t\tdif_upd_res[5];\n\t\t\tuint32_t\tsrc_ref_tag_seed;\n\t\t\tuint16_t\tsrc_app_tag_mask;\n\t\t\tuint16_t\tsrc_app_tag_seed;\n\t\t\tuint32_t\tdest_ref_tag_seed;\n\t\t\tuint16_t\tdest_app_tag_mask;\n\t\t\tuint16_t\tdest_app_tag_seed;\n\t\t};\n\n\t\t \n\t\tuint64_t\tpattern_upper;\n\n\t\t \n\t\tstruct {\n\t\t\tuint64_t\ttransl_fetch_res;\n\t\t\tuint32_t\tregion_stride;\n\t\t};\n\n\t\t \n\t\tstruct {\n\t\t\tuint8_t\t\tdix_gen_res;\n\t\t\tuint8_t\t\tdest_dif_flags;\n\t\t\tuint8_t\t\tdif_flags;\n\t\t\tuint8_t\t\tdix_gen_res2[13];\n\t\t\tuint32_t\tref_tag_seed;\n\t\t\tuint16_t\tapp_tag_mask;\n\t\t\tuint16_t\tapp_tag_seed;\n\t\t};\n\n\t\tuint8_t\t\top_specific[24];\n\t};\n} __attribute__((packed));\n\nstruct iax_hw_desc {\n\tuint32_t        pasid:20;\n\tuint32_t        rsvd:11;\n\tuint32_t        priv:1;\n\tuint32_t        flags:24;\n\tuint32_t        opcode:8;\n\tuint64_t        completion_addr;\n\tuint64_t        src1_addr;\n\tuint64_t        dst_addr;\n\tuint32_t        src1_size;\n\tuint16_t        int_handle;\n\tunion {\n\t\tuint16_t        compr_flags;\n\t\tuint16_t        decompr_flags;\n\t};\n\tuint64_t        src2_addr;\n\tuint32_t        max_dst_size;\n\tuint32_t        src2_size;\n\tuint32_t\tfilter_flags;\n\tuint32_t\tnum_inputs;\n} __attribute__((packed));\n\nstruct dsa_raw_desc {\n\tuint64_t\tfield[8];\n} __attribute__((packed));\n\n \nstruct dsa_completion_record {\n\tvolatile uint8_t\tstatus;\n\tunion {\n\t\tuint8_t\t\tresult;\n\t\tuint8_t\t\tdif_status;\n\t};\n\tuint8_t\t\t\tfault_info;\n\tuint8_t\t\t\trsvd;\n\tunion {\n\t\tuint32_t\t\tbytes_completed;\n\t\tuint32_t\t\tdescs_completed;\n\t};\n\tuint64_t\t\tfault_addr;\n\tunion {\n\t\t \n\t\tstruct {\n\t\t\tuint32_t\tinvalid_flags:24;\n\t\t\tuint32_t\trsvd2:8;\n\t\t};\n\n\t\tuint32_t\tdelta_rec_size;\n\t\tuint64_t\tcrc_val;\n\n\t\t \n\t\tstruct {\n\t\t\tuint32_t\tdif_chk_ref_tag;\n\t\t\tuint16_t\tdif_chk_app_tag_mask;\n\t\t\tuint16_t\tdif_chk_app_tag;\n\t\t};\n\n\t\t \n\t\tstruct {\n\t\t\tuint64_t\tdif_ins_res;\n\t\t\tuint32_t\tdif_ins_ref_tag;\n\t\t\tuint16_t\tdif_ins_app_tag_mask;\n\t\t\tuint16_t\tdif_ins_app_tag;\n\t\t};\n\n\t\t \n\t\tstruct {\n\t\t\tuint32_t\tdif_upd_src_ref_tag;\n\t\t\tuint16_t\tdif_upd_src_app_tag_mask;\n\t\t\tuint16_t\tdif_upd_src_app_tag;\n\t\t\tuint32_t\tdif_upd_dest_ref_tag;\n\t\t\tuint16_t\tdif_upd_dest_app_tag_mask;\n\t\t\tuint16_t\tdif_upd_dest_app_tag;\n\t\t};\n\n\t\t \n\t\tstruct {\n\t\t\tuint64_t\tdix_gen_res;\n\t\t\tuint32_t\tdix_ref_tag;\n\t\t\tuint16_t\tdix_app_tag_mask;\n\t\t\tuint16_t\tdix_app_tag;\n\t\t};\n\n\t\tuint8_t\t\top_specific[16];\n\t};\n} __attribute__((packed));\n\nstruct dsa_raw_completion_record {\n\tuint64_t\tfield[4];\n} __attribute__((packed));\n\nstruct iax_completion_record {\n\tvolatile uint8_t        status;\n\tuint8_t                 error_code;\n\tuint8_t\t\t\tfault_info;\n\tuint8_t\t\t\trsvd;\n\tuint32_t                bytes_completed;\n\tuint64_t                fault_addr;\n\tuint32_t                invalid_flags;\n\tuint32_t                rsvd2;\n\tuint32_t                output_size;\n\tuint8_t                 output_bits;\n\tuint8_t                 rsvd3;\n\tuint16_t                xor_csum;\n\tuint32_t                crc;\n\tuint32_t                min;\n\tuint32_t                max;\n\tuint32_t                sum;\n\tuint64_t                rsvd4[2];\n} __attribute__((packed));\n\nstruct iax_raw_completion_record {\n\tuint64_t\tfield[8];\n} __attribute__((packed));\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}