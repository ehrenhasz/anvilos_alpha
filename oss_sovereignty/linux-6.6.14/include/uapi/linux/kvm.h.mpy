{
  "module_name": "kvm.h",
  "hash_id": "2c9cfb4e202e00d24613cd973ef8236c0a452eaac187eadc04efd4dbaff5ed2a",
  "original_prompt": "Ingested from linux-6.6.14/include/uapi/linux/kvm.h",
  "human_readable_source": " \n#ifndef __LINUX_KVM_H\n#define __LINUX_KVM_H\n\n \n\n#include <linux/const.h>\n#include <linux/types.h>\n#include <linux/compiler.h>\n#include <linux/ioctl.h>\n#include <asm/kvm.h>\n\n#define KVM_API_VERSION 12\n\n \n\n#define KVM_TRC_SHIFT           16\n\n#define KVM_TRC_ENTRYEXIT       (1 << KVM_TRC_SHIFT)\n#define KVM_TRC_HANDLER         (1 << (KVM_TRC_SHIFT + 1))\n\n#define KVM_TRC_VMENTRY         (KVM_TRC_ENTRYEXIT + 0x01)\n#define KVM_TRC_VMEXIT          (KVM_TRC_ENTRYEXIT + 0x02)\n#define KVM_TRC_PAGE_FAULT      (KVM_TRC_HANDLER + 0x01)\n\n#define KVM_TRC_HEAD_SIZE       12\n#define KVM_TRC_CYCLE_SIZE      8\n#define KVM_TRC_EXTRA_MAX       7\n\n#define KVM_TRC_INJ_VIRQ         (KVM_TRC_HANDLER + 0x02)\n#define KVM_TRC_REDELIVER_EVT    (KVM_TRC_HANDLER + 0x03)\n#define KVM_TRC_PEND_INTR        (KVM_TRC_HANDLER + 0x04)\n#define KVM_TRC_IO_READ          (KVM_TRC_HANDLER + 0x05)\n#define KVM_TRC_IO_WRITE         (KVM_TRC_HANDLER + 0x06)\n#define KVM_TRC_CR_READ          (KVM_TRC_HANDLER + 0x07)\n#define KVM_TRC_CR_WRITE         (KVM_TRC_HANDLER + 0x08)\n#define KVM_TRC_DR_READ          (KVM_TRC_HANDLER + 0x09)\n#define KVM_TRC_DR_WRITE         (KVM_TRC_HANDLER + 0x0A)\n#define KVM_TRC_MSR_READ         (KVM_TRC_HANDLER + 0x0B)\n#define KVM_TRC_MSR_WRITE        (KVM_TRC_HANDLER + 0x0C)\n#define KVM_TRC_CPUID            (KVM_TRC_HANDLER + 0x0D)\n#define KVM_TRC_INTR             (KVM_TRC_HANDLER + 0x0E)\n#define KVM_TRC_NMI              (KVM_TRC_HANDLER + 0x0F)\n#define KVM_TRC_VMMCALL          (KVM_TRC_HANDLER + 0x10)\n#define KVM_TRC_HLT              (KVM_TRC_HANDLER + 0x11)\n#define KVM_TRC_CLTS             (KVM_TRC_HANDLER + 0x12)\n#define KVM_TRC_LMSW             (KVM_TRC_HANDLER + 0x13)\n#define KVM_TRC_APIC_ACCESS      (KVM_TRC_HANDLER + 0x14)\n#define KVM_TRC_TDP_FAULT        (KVM_TRC_HANDLER + 0x15)\n#define KVM_TRC_GTLB_WRITE       (KVM_TRC_HANDLER + 0x16)\n#define KVM_TRC_STLB_WRITE       (KVM_TRC_HANDLER + 0x17)\n#define KVM_TRC_STLB_INVAL       (KVM_TRC_HANDLER + 0x18)\n#define KVM_TRC_PPC_INSTR        (KVM_TRC_HANDLER + 0x19)\n\nstruct kvm_user_trace_setup {\n\t__u32 buf_size;\n\t__u32 buf_nr;\n};\n\n#define __KVM_DEPRECATED_MAIN_W_0x06 \\\n\t_IOW(KVMIO, 0x06, struct kvm_user_trace_setup)\n#define __KVM_DEPRECATED_MAIN_0x07 _IO(KVMIO, 0x07)\n#define __KVM_DEPRECATED_MAIN_0x08 _IO(KVMIO, 0x08)\n\n#define __KVM_DEPRECATED_VM_R_0x70 _IOR(KVMIO, 0x70, struct kvm_assigned_irq)\n\nstruct kvm_breakpoint {\n\t__u32 enabled;\n\t__u32 padding;\n\t__u64 address;\n};\n\nstruct kvm_debug_guest {\n\t__u32 enabled;\n\t__u32 pad;\n\tstruct kvm_breakpoint breakpoints[4];\n\t__u32 singlestep;\n};\n\n#define __KVM_DEPRECATED_VCPU_W_0x87 _IOW(KVMIO, 0x87, struct kvm_debug_guest)\n\n \n\n\n \nstruct kvm_userspace_memory_region {\n\t__u32 slot;\n\t__u32 flags;\n\t__u64 guest_phys_addr;\n\t__u64 memory_size;  \n\t__u64 userspace_addr;  \n};\n\n \n#define KVM_MEM_LOG_DIRTY_PAGES\t(1UL << 0)\n#define KVM_MEM_READONLY\t(1UL << 1)\n\n \nstruct kvm_irq_level {\n\t \n\tunion {\n\t\t__u32 irq;\n\t\t__s32 status;\n\t};\n\t__u32 level;\n};\n\n\nstruct kvm_irqchip {\n\t__u32 chip_id;\n\t__u32 pad;\n        union {\n\t\tchar dummy[512];   \n#ifdef __KVM_HAVE_PIT\n\t\tstruct kvm_pic_state pic;\n#endif\n#ifdef __KVM_HAVE_IOAPIC\n\t\tstruct kvm_ioapic_state ioapic;\n#endif\n\t} chip;\n};\n\n \nstruct kvm_pit_config {\n\t__u32 flags;\n\t__u32 pad[15];\n};\n\n#define KVM_PIT_SPEAKER_DUMMY     1\n\nstruct kvm_s390_skeys {\n\t__u64 start_gfn;\n\t__u64 count;\n\t__u64 skeydata_addr;\n\t__u32 flags;\n\t__u32 reserved[9];\n};\n\n#define KVM_S390_CMMA_PEEK (1 << 0)\n\n \nstruct kvm_s390_cmma_log {\n\t__u64 start_gfn;\n\t__u32 count;\n\t__u32 flags;\n\tunion {\n\t\t__u64 remaining;\n\t\t__u64 mask;\n\t};\n\t__u64 values;\n};\n\nstruct kvm_hyperv_exit {\n#define KVM_EXIT_HYPERV_SYNIC          1\n#define KVM_EXIT_HYPERV_HCALL          2\n#define KVM_EXIT_HYPERV_SYNDBG         3\n\t__u32 type;\n\t__u32 pad1;\n\tunion {\n\t\tstruct {\n\t\t\t__u32 msr;\n\t\t\t__u32 pad2;\n\t\t\t__u64 control;\n\t\t\t__u64 evt_page;\n\t\t\t__u64 msg_page;\n\t\t} synic;\n\t\tstruct {\n\t\t\t__u64 input;\n\t\t\t__u64 result;\n\t\t\t__u64 params[2];\n\t\t} hcall;\n\t\tstruct {\n\t\t\t__u32 msr;\n\t\t\t__u32 pad2;\n\t\t\t__u64 control;\n\t\t\t__u64 status;\n\t\t\t__u64 send_page;\n\t\t\t__u64 recv_page;\n\t\t\t__u64 pending_page;\n\t\t} syndbg;\n\t} u;\n};\n\nstruct kvm_xen_exit {\n#define KVM_EXIT_XEN_HCALL          1\n\t__u32 type;\n\tunion {\n\t\tstruct {\n\t\t\t__u32 longmode;\n\t\t\t__u32 cpl;\n\t\t\t__u64 input;\n\t\t\t__u64 result;\n\t\t\t__u64 params[6];\n\t\t} hcall;\n\t} u;\n};\n\n#define KVM_S390_GET_SKEYS_NONE   1\n#define KVM_S390_SKEYS_MAX        1048576\n\n#define KVM_EXIT_UNKNOWN          0\n#define KVM_EXIT_EXCEPTION        1\n#define KVM_EXIT_IO               2\n#define KVM_EXIT_HYPERCALL        3\n#define KVM_EXIT_DEBUG            4\n#define KVM_EXIT_HLT              5\n#define KVM_EXIT_MMIO             6\n#define KVM_EXIT_IRQ_WINDOW_OPEN  7\n#define KVM_EXIT_SHUTDOWN         8\n#define KVM_EXIT_FAIL_ENTRY       9\n#define KVM_EXIT_INTR             10\n#define KVM_EXIT_SET_TPR          11\n#define KVM_EXIT_TPR_ACCESS       12\n#define KVM_EXIT_S390_SIEIC       13\n#define KVM_EXIT_S390_RESET       14\n#define KVM_EXIT_DCR              15  \n#define KVM_EXIT_NMI              16\n#define KVM_EXIT_INTERNAL_ERROR   17\n#define KVM_EXIT_OSI              18\n#define KVM_EXIT_PAPR_HCALL\t  19\n#define KVM_EXIT_S390_UCONTROL\t  20\n#define KVM_EXIT_WATCHDOG         21\n#define KVM_EXIT_S390_TSCH        22\n#define KVM_EXIT_EPR              23\n#define KVM_EXIT_SYSTEM_EVENT     24\n#define KVM_EXIT_S390_STSI        25\n#define KVM_EXIT_IOAPIC_EOI       26\n#define KVM_EXIT_HYPERV           27\n#define KVM_EXIT_ARM_NISV         28\n#define KVM_EXIT_X86_RDMSR        29\n#define KVM_EXIT_X86_WRMSR        30\n#define KVM_EXIT_DIRTY_RING_FULL  31\n#define KVM_EXIT_AP_RESET_HOLD    32\n#define KVM_EXIT_X86_BUS_LOCK     33\n#define KVM_EXIT_XEN              34\n#define KVM_EXIT_RISCV_SBI        35\n#define KVM_EXIT_RISCV_CSR        36\n#define KVM_EXIT_NOTIFY           37\n\n \n \n#define KVM_INTERNAL_ERROR_EMULATION\t1\n \n#define KVM_INTERNAL_ERROR_SIMUL_EX\t2\n \n#define KVM_INTERNAL_ERROR_DELIVERY_EV\t3\n \n#define KVM_INTERNAL_ERROR_UNEXPECTED_EXIT_REASON\t4\n\n \n#define KVM_INTERNAL_ERROR_EMULATION_FLAG_INSTRUCTION_BYTES (1ULL << 0)\n\n \nstruct kvm_run {\n\t \n\t__u8 request_interrupt_window;\n\t__u8 immediate_exit;\n\t__u8 padding1[6];\n\n\t \n\t__u32 exit_reason;\n\t__u8 ready_for_interrupt_injection;\n\t__u8 if_flag;\n\t__u16 flags;\n\n\t \n\t__u64 cr8;\n\t__u64 apic_base;\n\n#ifdef __KVM_S390\n\t \n\t__u64 psw_mask;  \n\t__u64 psw_addr;  \n#endif\n\tunion {\n\t\t \n\t\tstruct {\n\t\t\t__u64 hardware_exit_reason;\n\t\t} hw;\n\t\t \n\t\tstruct {\n\t\t\t__u64 hardware_entry_failure_reason;\n\t\t\t__u32 cpu;\n\t\t} fail_entry;\n\t\t \n\t\tstruct {\n\t\t\t__u32 exception;\n\t\t\t__u32 error_code;\n\t\t} ex;\n\t\t \n\t\tstruct {\n#define KVM_EXIT_IO_IN  0\n#define KVM_EXIT_IO_OUT 1\n\t\t\t__u8 direction;\n\t\t\t__u8 size;  \n\t\t\t__u16 port;\n\t\t\t__u32 count;\n\t\t\t__u64 data_offset;  \n\t\t} io;\n\t\t \n\t\tstruct {\n\t\t\tstruct kvm_debug_exit_arch arch;\n\t\t} debug;\n\t\t \n\t\tstruct {\n\t\t\t__u64 phys_addr;\n\t\t\t__u8  data[8];\n\t\t\t__u32 len;\n\t\t\t__u8  is_write;\n\t\t} mmio;\n\t\t \n\t\tstruct {\n\t\t\t__u64 nr;\n\t\t\t__u64 args[6];\n\t\t\t__u64 ret;\n\n\t\t\tunion {\n#ifndef __KERNEL__\n\t\t\t\t__u32 longmode;\n#endif\n\t\t\t\t__u64 flags;\n\t\t\t};\n\t\t} hypercall;\n\t\t \n\t\tstruct {\n\t\t\t__u64 rip;\n\t\t\t__u32 is_write;\n\t\t\t__u32 pad;\n\t\t} tpr_access;\n\t\t \n\t\tstruct {\n\t\t\t__u8 icptcode;\n\t\t\t__u16 ipa;\n\t\t\t__u32 ipb;\n\t\t} s390_sieic;\n\t\t \n#define KVM_S390_RESET_POR       1\n#define KVM_S390_RESET_CLEAR     2\n#define KVM_S390_RESET_SUBSYSTEM 4\n#define KVM_S390_RESET_CPU_INIT  8\n#define KVM_S390_RESET_IPL       16\n\t\t__u64 s390_reset_flags;\n\t\t \n\t\tstruct {\n\t\t\t__u64 trans_exc_code;\n\t\t\t__u32 pgm_code;\n\t\t} s390_ucontrol;\n\t\t \n\t\tstruct {\n\t\t\t__u32 dcrn;\n\t\t\t__u32 data;\n\t\t\t__u8  is_write;\n\t\t} dcr;\n\t\t \n\t\tstruct {\n\t\t\t__u32 suberror;\n\t\t\t \n\t\t\t__u32 ndata;\n\t\t\t__u64 data[16];\n\t\t} internal;\n\t\t \n\t\tstruct {\n\t\t\t__u32 suberror;\n\t\t\t__u32 ndata;\n\t\t\t__u64 flags;\n\t\t\tunion {\n\t\t\t\tstruct {\n\t\t\t\t\t__u8  insn_size;\n\t\t\t\t\t__u8  insn_bytes[15];\n\t\t\t\t};\n\t\t\t};\n\t\t\t \n\t\t} emulation_failure;\n\t\t \n\t\tstruct {\n\t\t\t__u64 gprs[32];\n\t\t} osi;\n\t\t \n\t\tstruct {\n\t\t\t__u64 nr;\n\t\t\t__u64 ret;\n\t\t\t__u64 args[9];\n\t\t} papr_hcall;\n\t\t \n\t\tstruct {\n\t\t\t__u16 subchannel_id;\n\t\t\t__u16 subchannel_nr;\n\t\t\t__u32 io_int_parm;\n\t\t\t__u32 io_int_word;\n\t\t\t__u32 ipb;\n\t\t\t__u8 dequeued;\n\t\t} s390_tsch;\n\t\t \n\t\tstruct {\n\t\t\t__u32 epr;\n\t\t} epr;\n\t\t \n\t\tstruct {\n#define KVM_SYSTEM_EVENT_SHUTDOWN       1\n#define KVM_SYSTEM_EVENT_RESET          2\n#define KVM_SYSTEM_EVENT_CRASH          3\n#define KVM_SYSTEM_EVENT_WAKEUP         4\n#define KVM_SYSTEM_EVENT_SUSPEND        5\n#define KVM_SYSTEM_EVENT_SEV_TERM       6\n\t\t\t__u32 type;\n\t\t\t__u32 ndata;\n\t\t\tunion {\n#ifndef __KERNEL__\n\t\t\t\t__u64 flags;\n#endif\n\t\t\t\t__u64 data[16];\n\t\t\t};\n\t\t} system_event;\n\t\t \n\t\tstruct {\n\t\t\t__u64 addr;\n\t\t\t__u8 ar;\n\t\t\t__u8 reserved;\n\t\t\t__u8 fc;\n\t\t\t__u8 sel1;\n\t\t\t__u16 sel2;\n\t\t} s390_stsi;\n\t\t \n\t\tstruct {\n\t\t\t__u8 vector;\n\t\t} eoi;\n\t\t \n\t\tstruct kvm_hyperv_exit hyperv;\n\t\t \n\t\tstruct {\n\t\t\t__u64 esr_iss;\n\t\t\t__u64 fault_ipa;\n\t\t} arm_nisv;\n\t\t \n\t\tstruct {\n\t\t\t__u8 error;  \n\t\t\t__u8 pad[7];\n#define KVM_MSR_EXIT_REASON_INVAL\t(1 << 0)\n#define KVM_MSR_EXIT_REASON_UNKNOWN\t(1 << 1)\n#define KVM_MSR_EXIT_REASON_FILTER\t(1 << 2)\n#define KVM_MSR_EXIT_REASON_VALID_MASK\t(KVM_MSR_EXIT_REASON_INVAL   |\t\\\n\t\t\t\t\t KVM_MSR_EXIT_REASON_UNKNOWN |\t\\\n\t\t\t\t\t KVM_MSR_EXIT_REASON_FILTER)\n\t\t\t__u32 reason;  \n\t\t\t__u32 index;  \n\t\t\t__u64 data;  \n\t\t} msr;\n\t\t \n\t\tstruct kvm_xen_exit xen;\n\t\t \n\t\tstruct {\n\t\t\tunsigned long extension_id;\n\t\t\tunsigned long function_id;\n\t\t\tunsigned long args[6];\n\t\t\tunsigned long ret[2];\n\t\t} riscv_sbi;\n\t\t \n\t\tstruct {\n\t\t\tunsigned long csr_num;\n\t\t\tunsigned long new_value;\n\t\t\tunsigned long write_mask;\n\t\t\tunsigned long ret_value;\n\t\t} riscv_csr;\n\t\t \n\t\tstruct {\n#define KVM_NOTIFY_CONTEXT_INVALID\t(1 << 0)\n\t\t\t__u32 flags;\n\t\t} notify;\n\t\t \n\t\tchar padding[256];\n\t};\n\n\t \n\t#define SYNC_REGS_SIZE_BYTES 2048\n\t \n\t__u64 kvm_valid_regs;\n\t__u64 kvm_dirty_regs;\n\tunion {\n\t\tstruct kvm_sync_regs regs;\n\t\tchar padding[SYNC_REGS_SIZE_BYTES];\n\t} s;\n};\n\n \n\nstruct kvm_coalesced_mmio_zone {\n\t__u64 addr;\n\t__u32 size;\n\tunion {\n\t\t__u32 pad;\n\t\t__u32 pio;\n\t};\n};\n\nstruct kvm_coalesced_mmio {\n\t__u64 phys_addr;\n\t__u32 len;\n\tunion {\n\t\t__u32 pad;\n\t\t__u32 pio;\n\t};\n\t__u8  data[8];\n};\n\nstruct kvm_coalesced_mmio_ring {\n\t__u32 first, last;\n\tstruct kvm_coalesced_mmio coalesced_mmio[];\n};\n\n#define KVM_COALESCED_MMIO_MAX \\\n\t((PAGE_SIZE - sizeof(struct kvm_coalesced_mmio_ring)) / \\\n\t sizeof(struct kvm_coalesced_mmio))\n\n \nstruct kvm_translation {\n\t \n\t__u64 linear_address;\n\n\t \n\t__u64 physical_address;\n\t__u8  valid;\n\t__u8  writeable;\n\t__u8  usermode;\n\t__u8  pad[5];\n};\n\n \nstruct kvm_s390_mem_op {\n\t \n\t__u64 gaddr;\t\t \n\t__u64 flags;\t\t \n\t__u32 size;\t\t \n\t__u32 op;\t\t \n\t__u64 buf;\t\t \n\tunion {\n\t\tstruct {\n\t\t\t__u8 ar;\t \n\t\t\t__u8 key;\t \n\t\t\t__u8 pad1[6];\t \n\t\t\t__u64 old_addr;\t \n\t\t};\n\t\t__u32 sida_offset;  \n\t\t__u8 reserved[32];  \n\t};\n};\n \n#define KVM_S390_MEMOP_LOGICAL_READ\t0\n#define KVM_S390_MEMOP_LOGICAL_WRITE\t1\n#define KVM_S390_MEMOP_SIDA_READ\t2\n#define KVM_S390_MEMOP_SIDA_WRITE\t3\n#define KVM_S390_MEMOP_ABSOLUTE_READ\t4\n#define KVM_S390_MEMOP_ABSOLUTE_WRITE\t5\n#define KVM_S390_MEMOP_ABSOLUTE_CMPXCHG\t6\n\n \n#define KVM_S390_MEMOP_F_CHECK_ONLY\t\t(1ULL << 0)\n#define KVM_S390_MEMOP_F_INJECT_EXCEPTION\t(1ULL << 1)\n#define KVM_S390_MEMOP_F_SKEY_PROTECTION\t(1ULL << 2)\n\n \n#define KVM_S390_MEMOP_EXTENSION_CAP_BASE\t(1 << 0)\n#define KVM_S390_MEMOP_EXTENSION_CAP_CMPXCHG\t(1 << 1)\n\n \nstruct kvm_interrupt {\n\t \n\t__u32 irq;\n};\n\n \nstruct kvm_dirty_log {\n\t__u32 slot;\n\t__u32 padding1;\n\tunion {\n\t\tvoid __user *dirty_bitmap;  \n\t\t__u64 padding2;\n\t};\n};\n\n \nstruct kvm_clear_dirty_log {\n\t__u32 slot;\n\t__u32 num_pages;\n\t__u64 first_page;\n\tunion {\n\t\tvoid __user *dirty_bitmap;  \n\t\t__u64 padding2;\n\t};\n};\n\n \nstruct kvm_signal_mask {\n\t__u32 len;\n\t__u8  sigset[];\n};\n\n \nstruct kvm_tpr_access_ctl {\n\t__u32 enabled;\n\t__u32 flags;\n\t__u32 reserved[8];\n};\n\n \nstruct kvm_vapic_addr {\n\t__u64 vapic_addr;\n};\n\n \n\n \n#define KVM_MP_STATE_RUNNABLE          0\n#define KVM_MP_STATE_UNINITIALIZED     1\n#define KVM_MP_STATE_INIT_RECEIVED     2\n#define KVM_MP_STATE_HALTED            3\n#define KVM_MP_STATE_SIPI_RECEIVED     4\n#define KVM_MP_STATE_STOPPED           5\n#define KVM_MP_STATE_CHECK_STOP        6\n#define KVM_MP_STATE_OPERATING         7\n#define KVM_MP_STATE_LOAD              8\n#define KVM_MP_STATE_AP_RESET_HOLD     9\n#define KVM_MP_STATE_SUSPENDED         10\n\nstruct kvm_mp_state {\n\t__u32 mp_state;\n};\n\nstruct kvm_s390_psw {\n\t__u64 mask;\n\t__u64 addr;\n};\n\n \n#define KVM_S390_SIGP_STOP\t\t0xfffe0000u\n#define KVM_S390_PROGRAM_INT\t\t0xfffe0001u\n#define KVM_S390_SIGP_SET_PREFIX\t0xfffe0002u\n#define KVM_S390_RESTART\t\t0xfffe0003u\n#define KVM_S390_INT_PFAULT_INIT\t0xfffe0004u\n#define KVM_S390_INT_PFAULT_DONE\t0xfffe0005u\n#define KVM_S390_MCHK\t\t\t0xfffe1000u\n#define KVM_S390_INT_CLOCK_COMP\t\t0xffff1004u\n#define KVM_S390_INT_CPU_TIMER\t\t0xffff1005u\n#define KVM_S390_INT_VIRTIO\t\t0xffff2603u\n#define KVM_S390_INT_SERVICE\t\t0xffff2401u\n#define KVM_S390_INT_EMERGENCY\t\t0xffff1201u\n#define KVM_S390_INT_EXTERNAL_CALL\t0xffff1202u\n \n#define KVM_S390_INT_IO(ai,cssid,ssid,schid)   \\\n\t(((schid)) |\t\t\t       \\\n\t ((ssid) << 16) |\t\t       \\\n\t ((cssid) << 18) |\t\t       \\\n\t ((ai) << 26))\n#define KVM_S390_INT_IO_MIN\t\t0x00000000u\n#define KVM_S390_INT_IO_MAX\t\t0xfffdffffu\n#define KVM_S390_INT_IO_AI_MASK\t\t0x04000000u\n\n\nstruct kvm_s390_interrupt {\n\t__u32 type;\n\t__u32 parm;\n\t__u64 parm64;\n};\n\nstruct kvm_s390_io_info {\n\t__u16 subchannel_id;\n\t__u16 subchannel_nr;\n\t__u32 io_int_parm;\n\t__u32 io_int_word;\n};\n\nstruct kvm_s390_ext_info {\n\t__u32 ext_params;\n\t__u32 pad;\n\t__u64 ext_params2;\n};\n\nstruct kvm_s390_pgm_info {\n\t__u64 trans_exc_code;\n\t__u64 mon_code;\n\t__u64 per_address;\n\t__u32 data_exc_code;\n\t__u16 code;\n\t__u16 mon_class_nr;\n\t__u8 per_code;\n\t__u8 per_atmid;\n\t__u8 exc_access_id;\n\t__u8 per_access_id;\n\t__u8 op_access_id;\n#define KVM_S390_PGM_FLAGS_ILC_VALID\t0x01\n#define KVM_S390_PGM_FLAGS_ILC_0\t0x02\n#define KVM_S390_PGM_FLAGS_ILC_1\t0x04\n#define KVM_S390_PGM_FLAGS_ILC_MASK\t0x06\n#define KVM_S390_PGM_FLAGS_NO_REWIND\t0x08\n\t__u8 flags;\n\t__u8 pad[2];\n};\n\nstruct kvm_s390_prefix_info {\n\t__u32 address;\n};\n\nstruct kvm_s390_extcall_info {\n\t__u16 code;\n};\n\nstruct kvm_s390_emerg_info {\n\t__u16 code;\n};\n\n#define KVM_S390_STOP_FLAG_STORE_STATUS\t0x01\nstruct kvm_s390_stop_info {\n\t__u32 flags;\n};\n\nstruct kvm_s390_mchk_info {\n\t__u64 cr14;\n\t__u64 mcic;\n\t__u64 failing_storage_address;\n\t__u32 ext_damage_code;\n\t__u32 pad;\n\t__u8 fixed_logout[16];\n};\n\nstruct kvm_s390_irq {\n\t__u64 type;\n\tunion {\n\t\tstruct kvm_s390_io_info io;\n\t\tstruct kvm_s390_ext_info ext;\n\t\tstruct kvm_s390_pgm_info pgm;\n\t\tstruct kvm_s390_emerg_info emerg;\n\t\tstruct kvm_s390_extcall_info extcall;\n\t\tstruct kvm_s390_prefix_info prefix;\n\t\tstruct kvm_s390_stop_info stop;\n\t\tstruct kvm_s390_mchk_info mchk;\n\t\tchar reserved[64];\n\t} u;\n};\n\nstruct kvm_s390_irq_state {\n\t__u64 buf;\n\t__u32 flags;         \n\t__u32 len;\n\t__u32 reserved[4];   \n};\n\n \n\n#define KVM_GUESTDBG_ENABLE\t\t0x00000001\n#define KVM_GUESTDBG_SINGLESTEP\t\t0x00000002\n\nstruct kvm_guest_debug {\n\t__u32 control;\n\t__u32 pad;\n\tstruct kvm_guest_debug_arch arch;\n};\n\nenum {\n\tkvm_ioeventfd_flag_nr_datamatch,\n\tkvm_ioeventfd_flag_nr_pio,\n\tkvm_ioeventfd_flag_nr_deassign,\n\tkvm_ioeventfd_flag_nr_virtio_ccw_notify,\n\tkvm_ioeventfd_flag_nr_fast_mmio,\n\tkvm_ioeventfd_flag_nr_max,\n};\n\n#define KVM_IOEVENTFD_FLAG_DATAMATCH (1 << kvm_ioeventfd_flag_nr_datamatch)\n#define KVM_IOEVENTFD_FLAG_PIO       (1 << kvm_ioeventfd_flag_nr_pio)\n#define KVM_IOEVENTFD_FLAG_DEASSIGN  (1 << kvm_ioeventfd_flag_nr_deassign)\n#define KVM_IOEVENTFD_FLAG_VIRTIO_CCW_NOTIFY \\\n\t(1 << kvm_ioeventfd_flag_nr_virtio_ccw_notify)\n\n#define KVM_IOEVENTFD_VALID_FLAG_MASK  ((1 << kvm_ioeventfd_flag_nr_max) - 1)\n\nstruct kvm_ioeventfd {\n\t__u64 datamatch;\n\t__u64 addr;         \n\t__u32 len;          \n\t__s32 fd;\n\t__u32 flags;\n\t__u8  pad[36];\n};\n\n#define KVM_X86_DISABLE_EXITS_MWAIT          (1 << 0)\n#define KVM_X86_DISABLE_EXITS_HLT            (1 << 1)\n#define KVM_X86_DISABLE_EXITS_PAUSE          (1 << 2)\n#define KVM_X86_DISABLE_EXITS_CSTATE         (1 << 3)\n#define KVM_X86_DISABLE_VALID_EXITS          (KVM_X86_DISABLE_EXITS_MWAIT | \\\n                                              KVM_X86_DISABLE_EXITS_HLT | \\\n                                              KVM_X86_DISABLE_EXITS_PAUSE | \\\n                                              KVM_X86_DISABLE_EXITS_CSTATE)\n\n \nstruct kvm_enable_cap {\n\t \n\t__u32 cap;\n\t__u32 flags;\n\t__u64 args[4];\n\t__u8  pad[64];\n};\n\n \n\n#define KVM_PPC_PVINFO_FLAGS_EV_IDLE   (1<<0)\n\nstruct kvm_ppc_pvinfo {\n\t \n\t__u32 flags;\n\t__u32 hcall[4];\n\t__u8  pad[108];\n};\n\n \n#define KVM_PPC_PAGE_SIZES_MAX_SZ\t8\n\nstruct kvm_ppc_one_page_size {\n\t__u32 page_shift;\t \n\t__u32 pte_enc;\t\t \n};\n\nstruct kvm_ppc_one_seg_page_size {\n\t__u32 page_shift;\t \n\t__u32 slb_enc;\t\t \n\tstruct kvm_ppc_one_page_size enc[KVM_PPC_PAGE_SIZES_MAX_SZ];\n};\n\n#define KVM_PPC_PAGE_SIZES_REAL\t\t0x00000001\n#define KVM_PPC_1T_SEGMENTS\t\t0x00000002\n#define KVM_PPC_NO_HASH\t\t\t0x00000004\n\nstruct kvm_ppc_smmu_info {\n\t__u64 flags;\n\t__u32 slb_size;\n\t__u16 data_keys;\t \n\t__u16 instr_keys;\t \n\tstruct kvm_ppc_one_seg_page_size sps[KVM_PPC_PAGE_SIZES_MAX_SZ];\n};\n\n \nstruct kvm_ppc_resize_hpt {\n\t__u64 flags;\n\t__u32 shift;\n\t__u32 pad;\n};\n\n#define KVMIO 0xAE\n\n \n#define KVM_VM_S390_UCONTROL\t1\n\n \n#define KVM_VM_PPC_HV 1\n#define KVM_VM_PPC_PR 2\n\n \n#define KVM_VM_MIPS_AUTO\t0\n#define KVM_VM_MIPS_VZ\t\t1\n#define KVM_VM_MIPS_TE\t\t2\n\n#define KVM_S390_SIE_PAGE_OFFSET 1\n\n \n#define KVM_VM_TYPE_ARM_IPA_SIZE_MASK\t0xffULL\n#define KVM_VM_TYPE_ARM_IPA_SIZE(x)\t\t\\\n\t((x) & KVM_VM_TYPE_ARM_IPA_SIZE_MASK)\n \n#define KVM_GET_API_VERSION       _IO(KVMIO,   0x00)\n#define KVM_CREATE_VM             _IO(KVMIO,   0x01)  \n#define KVM_GET_MSR_INDEX_LIST    _IOWR(KVMIO, 0x02, struct kvm_msr_list)\n\n#define KVM_S390_ENABLE_SIE       _IO(KVMIO,   0x06)\n \n#define KVM_CHECK_EXTENSION       _IO(KVMIO,   0x03)\n \n#define KVM_GET_VCPU_MMAP_SIZE    _IO(KVMIO,   0x04)  \n#define KVM_GET_SUPPORTED_CPUID   _IOWR(KVMIO, 0x05, struct kvm_cpuid2)\n#define KVM_TRACE_ENABLE          __KVM_DEPRECATED_MAIN_W_0x06\n#define KVM_TRACE_PAUSE           __KVM_DEPRECATED_MAIN_0x07\n#define KVM_TRACE_DISABLE         __KVM_DEPRECATED_MAIN_0x08\n#define KVM_GET_EMULATED_CPUID\t  _IOWR(KVMIO, 0x09, struct kvm_cpuid2)\n#define KVM_GET_MSR_FEATURE_INDEX_LIST    _IOWR(KVMIO, 0x0a, struct kvm_msr_list)\n\n \n#define KVM_CAP_IRQCHIP\t  0\n#define KVM_CAP_HLT\t  1\n#define KVM_CAP_MMU_SHADOW_CACHE_CONTROL 2\n#define KVM_CAP_USER_MEMORY 3\n#define KVM_CAP_SET_TSS_ADDR 4\n#define KVM_CAP_VAPIC 6\n#define KVM_CAP_EXT_CPUID 7\n#define KVM_CAP_CLOCKSOURCE 8\n#define KVM_CAP_NR_VCPUS 9        \n#define KVM_CAP_NR_MEMSLOTS 10    \n#define KVM_CAP_PIT 11\n#define KVM_CAP_NOP_IO_DELAY 12\n#define KVM_CAP_PV_MMU 13\n#define KVM_CAP_MP_STATE 14\n#define KVM_CAP_COALESCED_MMIO 15\n#define KVM_CAP_SYNC_MMU 16   \n#define KVM_CAP_IOMMU 18\n \n#define KVM_CAP_DESTROY_MEMORY_REGION_WORKS 21\n#define KVM_CAP_USER_NMI 22\n#ifdef __KVM_HAVE_GUEST_DEBUG\n#define KVM_CAP_SET_GUEST_DEBUG 23\n#endif\n#ifdef __KVM_HAVE_PIT\n#define KVM_CAP_REINJECT_CONTROL 24\n#endif\n#define KVM_CAP_IRQ_ROUTING 25\n#define KVM_CAP_IRQ_INJECT_STATUS 26\n#define KVM_CAP_ASSIGN_DEV_IRQ 29\n \n#define KVM_CAP_JOIN_MEMORY_REGIONS_WORKS 30\n#ifdef __KVM_HAVE_MCE\n#define KVM_CAP_MCE 31\n#endif\n#define KVM_CAP_IRQFD 32\n#ifdef __KVM_HAVE_PIT\n#define KVM_CAP_PIT2 33\n#endif\n#define KVM_CAP_SET_BOOT_CPU_ID 34\n#ifdef __KVM_HAVE_PIT_STATE2\n#define KVM_CAP_PIT_STATE2 35\n#endif\n#define KVM_CAP_IOEVENTFD 36\n#define KVM_CAP_SET_IDENTITY_MAP_ADDR 37\n#ifdef __KVM_HAVE_XEN_HVM\n#define KVM_CAP_XEN_HVM 38\n#endif\n#define KVM_CAP_ADJUST_CLOCK 39\n#define KVM_CAP_INTERNAL_ERROR_DATA 40\n#ifdef __KVM_HAVE_VCPU_EVENTS\n#define KVM_CAP_VCPU_EVENTS 41\n#endif\n#define KVM_CAP_S390_PSW 42\n#define KVM_CAP_PPC_SEGSTATE 43\n#define KVM_CAP_HYPERV 44\n#define KVM_CAP_HYPERV_VAPIC 45\n#define KVM_CAP_HYPERV_SPIN 46\n#define KVM_CAP_PCI_SEGMENT 47\n#define KVM_CAP_PPC_PAIRED_SINGLES 48\n#define KVM_CAP_INTR_SHADOW 49\n#ifdef __KVM_HAVE_DEBUGREGS\n#define KVM_CAP_DEBUGREGS 50\n#endif\n#define KVM_CAP_X86_ROBUST_SINGLESTEP 51\n#define KVM_CAP_PPC_OSI 52\n#define KVM_CAP_PPC_UNSET_IRQ 53\n#define KVM_CAP_ENABLE_CAP 54\n#ifdef __KVM_HAVE_XSAVE\n#define KVM_CAP_XSAVE 55\n#endif\n#ifdef __KVM_HAVE_XCRS\n#define KVM_CAP_XCRS 56\n#endif\n#define KVM_CAP_PPC_GET_PVINFO 57\n#define KVM_CAP_PPC_IRQ_LEVEL 58\n#define KVM_CAP_ASYNC_PF 59\n#define KVM_CAP_TSC_CONTROL 60\n#define KVM_CAP_GET_TSC_KHZ 61\n#define KVM_CAP_PPC_BOOKE_SREGS 62\n#define KVM_CAP_SPAPR_TCE 63\n#define KVM_CAP_PPC_SMT 64\n#define KVM_CAP_PPC_RMA\t65\n#define KVM_CAP_MAX_VCPUS 66        \n#define KVM_CAP_PPC_HIOR 67\n#define KVM_CAP_PPC_PAPR 68\n#define KVM_CAP_SW_TLB 69\n#define KVM_CAP_ONE_REG 70\n#define KVM_CAP_S390_GMAP 71\n#define KVM_CAP_TSC_DEADLINE_TIMER 72\n#define KVM_CAP_S390_UCONTROL 73\n#define KVM_CAP_SYNC_REGS 74\n#define KVM_CAP_PCI_2_3 75\n#define KVM_CAP_KVMCLOCK_CTRL 76\n#define KVM_CAP_SIGNAL_MSI 77\n#define KVM_CAP_PPC_GET_SMMU_INFO 78\n#define KVM_CAP_S390_COW 79\n#define KVM_CAP_PPC_ALLOC_HTAB 80\n#define KVM_CAP_READONLY_MEM 81\n#define KVM_CAP_IRQFD_RESAMPLE 82\n#define KVM_CAP_PPC_BOOKE_WATCHDOG 83\n#define KVM_CAP_PPC_HTAB_FD 84\n#define KVM_CAP_S390_CSS_SUPPORT 85\n#define KVM_CAP_PPC_EPR 86\n#define KVM_CAP_ARM_PSCI 87\n#define KVM_CAP_ARM_SET_DEVICE_ADDR 88\n#define KVM_CAP_DEVICE_CTRL 89\n#define KVM_CAP_IRQ_MPIC 90\n#define KVM_CAP_PPC_RTAS 91\n#define KVM_CAP_IRQ_XICS 92\n#define KVM_CAP_ARM_EL1_32BIT 93\n#define KVM_CAP_SPAPR_MULTITCE 94\n#define KVM_CAP_EXT_EMUL_CPUID 95\n#define KVM_CAP_HYPERV_TIME 96\n#define KVM_CAP_IOAPIC_POLARITY_IGNORED 97\n#define KVM_CAP_ENABLE_CAP_VM 98\n#define KVM_CAP_S390_IRQCHIP 99\n#define KVM_CAP_IOEVENTFD_NO_LENGTH 100\n#define KVM_CAP_VM_ATTRIBUTES 101\n#define KVM_CAP_ARM_PSCI_0_2 102\n#define KVM_CAP_PPC_FIXUP_HCALL 103\n#define KVM_CAP_PPC_ENABLE_HCALL 104\n#define KVM_CAP_CHECK_EXTENSION_VM 105\n#define KVM_CAP_S390_USER_SIGP 106\n#define KVM_CAP_S390_VECTOR_REGISTERS 107\n#define KVM_CAP_S390_MEM_OP 108\n#define KVM_CAP_S390_USER_STSI 109\n#define KVM_CAP_S390_SKEYS 110\n#define KVM_CAP_MIPS_FPU 111\n#define KVM_CAP_MIPS_MSA 112\n#define KVM_CAP_S390_INJECT_IRQ 113\n#define KVM_CAP_S390_IRQ_STATE 114\n#define KVM_CAP_PPC_HWRNG 115\n#define KVM_CAP_DISABLE_QUIRKS 116\n#define KVM_CAP_X86_SMM 117\n#define KVM_CAP_MULTI_ADDRESS_SPACE 118\n#define KVM_CAP_GUEST_DEBUG_HW_BPS 119\n#define KVM_CAP_GUEST_DEBUG_HW_WPS 120\n#define KVM_CAP_SPLIT_IRQCHIP 121\n#define KVM_CAP_IOEVENTFD_ANY_LENGTH 122\n#define KVM_CAP_HYPERV_SYNIC 123\n#define KVM_CAP_S390_RI 124\n#define KVM_CAP_SPAPR_TCE_64 125\n#define KVM_CAP_ARM_PMU_V3 126\n#define KVM_CAP_VCPU_ATTRIBUTES 127\n#define KVM_CAP_MAX_VCPU_ID 128\n#define KVM_CAP_X2APIC_API 129\n#define KVM_CAP_S390_USER_INSTR0 130\n#define KVM_CAP_MSI_DEVID 131\n#define KVM_CAP_PPC_HTM 132\n#define KVM_CAP_SPAPR_RESIZE_HPT 133\n#define KVM_CAP_PPC_MMU_RADIX 134\n#define KVM_CAP_PPC_MMU_HASH_V3 135\n#define KVM_CAP_IMMEDIATE_EXIT 136\n#define KVM_CAP_MIPS_VZ 137\n#define KVM_CAP_MIPS_TE 138\n#define KVM_CAP_MIPS_64BIT 139\n#define KVM_CAP_S390_GS 140\n#define KVM_CAP_S390_AIS 141\n#define KVM_CAP_SPAPR_TCE_VFIO 142\n#define KVM_CAP_X86_DISABLE_EXITS 143\n#define KVM_CAP_ARM_USER_IRQ 144\n#define KVM_CAP_S390_CMMA_MIGRATION 145\n#define KVM_CAP_PPC_FWNMI 146\n#define KVM_CAP_PPC_SMT_POSSIBLE 147\n#define KVM_CAP_HYPERV_SYNIC2 148\n#define KVM_CAP_HYPERV_VP_INDEX 149\n#define KVM_CAP_S390_AIS_MIGRATION 150\n#define KVM_CAP_PPC_GET_CPU_CHAR 151\n#define KVM_CAP_S390_BPB 152\n#define KVM_CAP_GET_MSR_FEATURES 153\n#define KVM_CAP_HYPERV_EVENTFD 154\n#define KVM_CAP_HYPERV_TLBFLUSH 155\n#define KVM_CAP_S390_HPAGE_1M 156\n#define KVM_CAP_NESTED_STATE 157\n#define KVM_CAP_ARM_INJECT_SERROR_ESR 158\n#define KVM_CAP_MSR_PLATFORM_INFO 159\n#define KVM_CAP_PPC_NESTED_HV 160\n#define KVM_CAP_HYPERV_SEND_IPI 161\n#define KVM_CAP_COALESCED_PIO 162\n#define KVM_CAP_HYPERV_ENLIGHTENED_VMCS 163\n#define KVM_CAP_EXCEPTION_PAYLOAD 164\n#define KVM_CAP_ARM_VM_IPA_SIZE 165\n#define KVM_CAP_MANUAL_DIRTY_LOG_PROTECT 166  \n#define KVM_CAP_HYPERV_CPUID 167\n#define KVM_CAP_MANUAL_DIRTY_LOG_PROTECT2 168\n#define KVM_CAP_PPC_IRQ_XIVE 169\n#define KVM_CAP_ARM_SVE 170\n#define KVM_CAP_ARM_PTRAUTH_ADDRESS 171\n#define KVM_CAP_ARM_PTRAUTH_GENERIC 172\n#define KVM_CAP_PMU_EVENT_FILTER 173\n#define KVM_CAP_ARM_IRQ_LINE_LAYOUT_2 174\n#define KVM_CAP_HYPERV_DIRECT_TLBFLUSH 175\n#define KVM_CAP_PPC_GUEST_DEBUG_SSTEP 176\n#define KVM_CAP_ARM_NISV_TO_USER 177\n#define KVM_CAP_ARM_INJECT_EXT_DABT 178\n#define KVM_CAP_S390_VCPU_RESETS 179\n#define KVM_CAP_S390_PROTECTED 180\n#define KVM_CAP_PPC_SECURE_GUEST 181\n#define KVM_CAP_HALT_POLL 182\n#define KVM_CAP_ASYNC_PF_INT 183\n#define KVM_CAP_LAST_CPU 184\n#define KVM_CAP_SMALLER_MAXPHYADDR 185\n#define KVM_CAP_S390_DIAG318 186\n#define KVM_CAP_STEAL_TIME 187\n#define KVM_CAP_X86_USER_SPACE_MSR 188\n#define KVM_CAP_X86_MSR_FILTER 189\n#define KVM_CAP_ENFORCE_PV_FEATURE_CPUID 190\n#define KVM_CAP_SYS_HYPERV_CPUID 191\n#define KVM_CAP_DIRTY_LOG_RING 192\n#define KVM_CAP_X86_BUS_LOCK_EXIT 193\n#define KVM_CAP_PPC_DAWR1 194\n#define KVM_CAP_SET_GUEST_DEBUG2 195\n#define KVM_CAP_SGX_ATTRIBUTE 196\n#define KVM_CAP_VM_COPY_ENC_CONTEXT_FROM 197\n#define KVM_CAP_PTP_KVM 198\n#define KVM_CAP_HYPERV_ENFORCE_CPUID 199\n#define KVM_CAP_SREGS2 200\n#define KVM_CAP_EXIT_HYPERCALL 201\n#define KVM_CAP_PPC_RPT_INVALIDATE 202\n#define KVM_CAP_BINARY_STATS_FD 203\n#define KVM_CAP_EXIT_ON_EMULATION_FAILURE 204\n#define KVM_CAP_ARM_MTE 205\n#define KVM_CAP_VM_MOVE_ENC_CONTEXT_FROM 206\n#define KVM_CAP_VM_GPA_BITS 207\n#define KVM_CAP_XSAVE2 208\n#define KVM_CAP_SYS_ATTRIBUTES 209\n#define KVM_CAP_PPC_AIL_MODE_3 210\n#define KVM_CAP_S390_MEM_OP_EXTENSION 211\n#define KVM_CAP_PMU_CAPABILITY 212\n#define KVM_CAP_DISABLE_QUIRKS2 213\n#define KVM_CAP_VM_TSC_CONTROL 214\n#define KVM_CAP_SYSTEM_EVENT_DATA 215\n#define KVM_CAP_ARM_SYSTEM_SUSPEND 216\n#define KVM_CAP_S390_PROTECTED_DUMP 217\n#define KVM_CAP_X86_TRIPLE_FAULT_EVENT 218\n#define KVM_CAP_X86_NOTIFY_VMEXIT 219\n#define KVM_CAP_VM_DISABLE_NX_HUGE_PAGES 220\n#define KVM_CAP_S390_ZPCI_OP 221\n#define KVM_CAP_S390_CPU_TOPOLOGY 222\n#define KVM_CAP_DIRTY_LOG_RING_ACQ_REL 223\n#define KVM_CAP_S390_PROTECTED_ASYNC_DISABLE 224\n#define KVM_CAP_DIRTY_LOG_RING_WITH_BITMAP 225\n#define KVM_CAP_PMU_EVENT_MASKED_EVENTS 226\n#define KVM_CAP_COUNTER_OFFSET 227\n#define KVM_CAP_ARM_EAGER_SPLIT_CHUNK_SIZE 228\n#define KVM_CAP_ARM_SUPPORTED_BLOCK_SIZES 229\n\n#ifdef KVM_CAP_IRQ_ROUTING\n\nstruct kvm_irq_routing_irqchip {\n\t__u32 irqchip;\n\t__u32 pin;\n};\n\nstruct kvm_irq_routing_msi {\n\t__u32 address_lo;\n\t__u32 address_hi;\n\t__u32 data;\n\tunion {\n\t\t__u32 pad;\n\t\t__u32 devid;\n\t};\n};\n\nstruct kvm_irq_routing_s390_adapter {\n\t__u64 ind_addr;\n\t__u64 summary_addr;\n\t__u64 ind_offset;\n\t__u32 summary_offset;\n\t__u32 adapter_id;\n};\n\nstruct kvm_irq_routing_hv_sint {\n\t__u32 vcpu;\n\t__u32 sint;\n};\n\nstruct kvm_irq_routing_xen_evtchn {\n\t__u32 port;\n\t__u32 vcpu;\n\t__u32 priority;\n};\n\n#define KVM_IRQ_ROUTING_XEN_EVTCHN_PRIO_2LEVEL ((__u32)(-1))\n\n \n#define KVM_IRQ_ROUTING_IRQCHIP 1\n#define KVM_IRQ_ROUTING_MSI 2\n#define KVM_IRQ_ROUTING_S390_ADAPTER 3\n#define KVM_IRQ_ROUTING_HV_SINT 4\n#define KVM_IRQ_ROUTING_XEN_EVTCHN 5\n\nstruct kvm_irq_routing_entry {\n\t__u32 gsi;\n\t__u32 type;\n\t__u32 flags;\n\t__u32 pad;\n\tunion {\n\t\tstruct kvm_irq_routing_irqchip irqchip;\n\t\tstruct kvm_irq_routing_msi msi;\n\t\tstruct kvm_irq_routing_s390_adapter adapter;\n\t\tstruct kvm_irq_routing_hv_sint hv_sint;\n\t\tstruct kvm_irq_routing_xen_evtchn xen_evtchn;\n\t\t__u32 pad[8];\n\t} u;\n};\n\nstruct kvm_irq_routing {\n\t__u32 nr;\n\t__u32 flags;\n\tstruct kvm_irq_routing_entry entries[];\n};\n\n#endif\n\n#ifdef KVM_CAP_MCE\n \nstruct kvm_x86_mce {\n\t__u64 status;\n\t__u64 addr;\n\t__u64 misc;\n\t__u64 mcg_status;\n\t__u8 bank;\n\t__u8 pad1[7];\n\t__u64 pad2[3];\n};\n#endif\n\n#ifdef KVM_CAP_XEN_HVM\n#define KVM_XEN_HVM_CONFIG_HYPERCALL_MSR\t(1 << 0)\n#define KVM_XEN_HVM_CONFIG_INTERCEPT_HCALL\t(1 << 1)\n#define KVM_XEN_HVM_CONFIG_SHARED_INFO\t\t(1 << 2)\n#define KVM_XEN_HVM_CONFIG_RUNSTATE\t\t(1 << 3)\n#define KVM_XEN_HVM_CONFIG_EVTCHN_2LEVEL\t(1 << 4)\n#define KVM_XEN_HVM_CONFIG_EVTCHN_SEND\t\t(1 << 5)\n#define KVM_XEN_HVM_CONFIG_RUNSTATE_UPDATE_FLAG\t(1 << 6)\n\nstruct kvm_xen_hvm_config {\n\t__u32 flags;\n\t__u32 msr;\n\t__u64 blob_addr_32;\n\t__u64 blob_addr_64;\n\t__u8 blob_size_32;\n\t__u8 blob_size_64;\n\t__u8 pad2[30];\n};\n#endif\n\n#define KVM_IRQFD_FLAG_DEASSIGN (1 << 0)\n \n#define KVM_IRQFD_FLAG_RESAMPLE (1 << 1)\n\nstruct kvm_irqfd {\n\t__u32 fd;\n\t__u32 gsi;\n\t__u32 flags;\n\t__u32 resamplefd;\n\t__u8  pad[16];\n};\n\n \n\n \n#define KVM_CLOCK_TSC_STABLE\t\t2\n#define KVM_CLOCK_REALTIME\t\t(1 << 2)\n#define KVM_CLOCK_HOST_TSC\t\t(1 << 3)\n\nstruct kvm_clock_data {\n\t__u64 clock;\n\t__u32 flags;\n\t__u32 pad0;\n\t__u64 realtime;\n\t__u64 host_tsc;\n\t__u32 pad[4];\n};\n\n \n\n#define KVM_MMU_FSL_BOOKE_NOHV\t\t0\n#define KVM_MMU_FSL_BOOKE_HV\t\t1\n\nstruct kvm_config_tlb {\n\t__u64 params;\n\t__u64 array;\n\t__u32 mmu_type;\n\t__u32 array_len;\n};\n\nstruct kvm_dirty_tlb {\n\t__u64 bitmap;\n\t__u32 num_dirty;\n};\n\n \n\n#define KVM_REG_ARCH_MASK\t0xff00000000000000ULL\n#define KVM_REG_GENERIC\t\t0x0000000000000000ULL\n\n \n#define KVM_REG_PPC\t\t0x1000000000000000ULL\n#define KVM_REG_X86\t\t0x2000000000000000ULL\n#define KVM_REG_IA64\t\t0x3000000000000000ULL\n#define KVM_REG_ARM\t\t0x4000000000000000ULL\n#define KVM_REG_S390\t\t0x5000000000000000ULL\n#define KVM_REG_ARM64\t\t0x6000000000000000ULL\n#define KVM_REG_MIPS\t\t0x7000000000000000ULL\n#define KVM_REG_RISCV\t\t0x8000000000000000ULL\n\n#define KVM_REG_SIZE_SHIFT\t52\n#define KVM_REG_SIZE_MASK\t0x00f0000000000000ULL\n#define KVM_REG_SIZE_U8\t\t0x0000000000000000ULL\n#define KVM_REG_SIZE_U16\t0x0010000000000000ULL\n#define KVM_REG_SIZE_U32\t0x0020000000000000ULL\n#define KVM_REG_SIZE_U64\t0x0030000000000000ULL\n#define KVM_REG_SIZE_U128\t0x0040000000000000ULL\n#define KVM_REG_SIZE_U256\t0x0050000000000000ULL\n#define KVM_REG_SIZE_U512\t0x0060000000000000ULL\n#define KVM_REG_SIZE_U1024\t0x0070000000000000ULL\n#define KVM_REG_SIZE_U2048\t0x0080000000000000ULL\n\nstruct kvm_reg_list {\n\t__u64 n;  \n\t__u64 reg[];\n};\n\nstruct kvm_one_reg {\n\t__u64 id;\n\t__u64 addr;\n};\n\n#define KVM_MSI_VALID_DEVID\t(1U << 0)\nstruct kvm_msi {\n\t__u32 address_lo;\n\t__u32 address_hi;\n\t__u32 data;\n\t__u32 flags;\n\t__u32 devid;\n\t__u8  pad[12];\n};\n\nstruct kvm_arm_device_addr {\n\t__u64 id;\n\t__u64 addr;\n};\n\n \n#define KVM_CREATE_DEVICE_TEST\t\t1\n\nstruct kvm_create_device {\n\t__u32\ttype;\t \n\t__u32\tfd;\t \n\t__u32\tflags;\t \n};\n\nstruct kvm_device_attr {\n\t__u32\tflags;\t\t \n\t__u32\tgroup;\t\t \n\t__u64\tattr;\t\t \n\t__u64\taddr;\t\t \n};\n\n#define  KVM_DEV_VFIO_FILE\t\t\t1\n\n#define   KVM_DEV_VFIO_FILE_ADD\t\t\t1\n#define   KVM_DEV_VFIO_FILE_DEL\t\t\t2\n\n \n#define  KVM_DEV_VFIO_GROUP\tKVM_DEV_VFIO_FILE\n\n#define   KVM_DEV_VFIO_GROUP_ADD\tKVM_DEV_VFIO_FILE_ADD\n#define   KVM_DEV_VFIO_GROUP_DEL\tKVM_DEV_VFIO_FILE_DEL\n#define   KVM_DEV_VFIO_GROUP_SET_SPAPR_TCE\t\t3\n\nenum kvm_device_type {\n\tKVM_DEV_TYPE_FSL_MPIC_20\t= 1,\n#define KVM_DEV_TYPE_FSL_MPIC_20\tKVM_DEV_TYPE_FSL_MPIC_20\n\tKVM_DEV_TYPE_FSL_MPIC_42,\n#define KVM_DEV_TYPE_FSL_MPIC_42\tKVM_DEV_TYPE_FSL_MPIC_42\n\tKVM_DEV_TYPE_XICS,\n#define KVM_DEV_TYPE_XICS\t\tKVM_DEV_TYPE_XICS\n\tKVM_DEV_TYPE_VFIO,\n#define KVM_DEV_TYPE_VFIO\t\tKVM_DEV_TYPE_VFIO\n\tKVM_DEV_TYPE_ARM_VGIC_V2,\n#define KVM_DEV_TYPE_ARM_VGIC_V2\tKVM_DEV_TYPE_ARM_VGIC_V2\n\tKVM_DEV_TYPE_FLIC,\n#define KVM_DEV_TYPE_FLIC\t\tKVM_DEV_TYPE_FLIC\n\tKVM_DEV_TYPE_ARM_VGIC_V3,\n#define KVM_DEV_TYPE_ARM_VGIC_V3\tKVM_DEV_TYPE_ARM_VGIC_V3\n\tKVM_DEV_TYPE_ARM_VGIC_ITS,\n#define KVM_DEV_TYPE_ARM_VGIC_ITS\tKVM_DEV_TYPE_ARM_VGIC_ITS\n\tKVM_DEV_TYPE_XIVE,\n#define KVM_DEV_TYPE_XIVE\t\tKVM_DEV_TYPE_XIVE\n\tKVM_DEV_TYPE_ARM_PV_TIME,\n#define KVM_DEV_TYPE_ARM_PV_TIME\tKVM_DEV_TYPE_ARM_PV_TIME\n\tKVM_DEV_TYPE_RISCV_AIA,\n#define KVM_DEV_TYPE_RISCV_AIA\t\tKVM_DEV_TYPE_RISCV_AIA\n\tKVM_DEV_TYPE_MAX,\n};\n\nstruct kvm_vfio_spapr_tce {\n\t__s32\tgroupfd;\n\t__s32\ttablefd;\n};\n\n \n#define KVM_CREATE_VCPU           _IO(KVMIO,   0x41)\n#define KVM_GET_DIRTY_LOG         _IOW(KVMIO,  0x42, struct kvm_dirty_log)\n#define KVM_SET_NR_MMU_PAGES      _IO(KVMIO,   0x44)\n#define KVM_GET_NR_MMU_PAGES      _IO(KVMIO,   0x45)   \n#define KVM_SET_USER_MEMORY_REGION _IOW(KVMIO, 0x46, \\\n\t\t\t\t\tstruct kvm_userspace_memory_region)\n#define KVM_SET_TSS_ADDR          _IO(KVMIO,   0x47)\n#define KVM_SET_IDENTITY_MAP_ADDR _IOW(KVMIO,  0x48, __u64)\n\n \nstruct kvm_s390_ucas_mapping {\n\t__u64 user_addr;\n\t__u64 vcpu_addr;\n\t__u64 length;\n};\n#define KVM_S390_UCAS_MAP        _IOW(KVMIO, 0x50, struct kvm_s390_ucas_mapping)\n#define KVM_S390_UCAS_UNMAP      _IOW(KVMIO, 0x51, struct kvm_s390_ucas_mapping)\n#define KVM_S390_VCPU_FAULT\t _IOW(KVMIO, 0x52, unsigned long)\n\n \n#define KVM_CREATE_IRQCHIP        _IO(KVMIO,   0x60)\n#define KVM_IRQ_LINE              _IOW(KVMIO,  0x61, struct kvm_irq_level)\n#define KVM_GET_IRQCHIP           _IOWR(KVMIO, 0x62, struct kvm_irqchip)\n#define KVM_SET_IRQCHIP           _IOR(KVMIO,  0x63, struct kvm_irqchip)\n#define KVM_CREATE_PIT            _IO(KVMIO,   0x64)\n#define KVM_GET_PIT               _IOWR(KVMIO, 0x65, struct kvm_pit_state)\n#define KVM_SET_PIT               _IOR(KVMIO,  0x66, struct kvm_pit_state)\n#define KVM_IRQ_LINE_STATUS       _IOWR(KVMIO, 0x67, struct kvm_irq_level)\n#define KVM_REGISTER_COALESCED_MMIO \\\n\t\t\t_IOW(KVMIO,  0x67, struct kvm_coalesced_mmio_zone)\n#define KVM_UNREGISTER_COALESCED_MMIO \\\n\t\t\t_IOW(KVMIO,  0x68, struct kvm_coalesced_mmio_zone)\n#define KVM_ASSIGN_PCI_DEVICE     _IOR(KVMIO,  0x69, \\\n\t\t\t\t       struct kvm_assigned_pci_dev)\n#define KVM_SET_GSI_ROUTING       _IOW(KVMIO,  0x6a, struct kvm_irq_routing)\n \n#define KVM_ASSIGN_IRQ            __KVM_DEPRECATED_VM_R_0x70\n#define KVM_ASSIGN_DEV_IRQ        _IOW(KVMIO,  0x70, struct kvm_assigned_irq)\n#define KVM_REINJECT_CONTROL      _IO(KVMIO,   0x71)\n#define KVM_DEASSIGN_PCI_DEVICE   _IOW(KVMIO,  0x72, \\\n\t\t\t\t       struct kvm_assigned_pci_dev)\n#define KVM_ASSIGN_SET_MSIX_NR    _IOW(KVMIO,  0x73, \\\n\t\t\t\t       struct kvm_assigned_msix_nr)\n#define KVM_ASSIGN_SET_MSIX_ENTRY _IOW(KVMIO,  0x74, \\\n\t\t\t\t       struct kvm_assigned_msix_entry)\n#define KVM_DEASSIGN_DEV_IRQ      _IOW(KVMIO,  0x75, struct kvm_assigned_irq)\n#define KVM_IRQFD                 _IOW(KVMIO,  0x76, struct kvm_irqfd)\n#define KVM_CREATE_PIT2\t\t  _IOW(KVMIO,  0x77, struct kvm_pit_config)\n#define KVM_SET_BOOT_CPU_ID       _IO(KVMIO,   0x78)\n#define KVM_IOEVENTFD             _IOW(KVMIO,  0x79, struct kvm_ioeventfd)\n#define KVM_XEN_HVM_CONFIG        _IOW(KVMIO,  0x7a, struct kvm_xen_hvm_config)\n#define KVM_SET_CLOCK             _IOW(KVMIO,  0x7b, struct kvm_clock_data)\n#define KVM_GET_CLOCK             _IOR(KVMIO,  0x7c, struct kvm_clock_data)\n \n#define KVM_GET_PIT2              _IOR(KVMIO,  0x9f, struct kvm_pit_state2)\n#define KVM_SET_PIT2              _IOW(KVMIO,  0xa0, struct kvm_pit_state2)\n \n#define KVM_PPC_GET_PVINFO\t  _IOW(KVMIO,  0xa1, struct kvm_ppc_pvinfo)\n \n#define KVM_SET_TSC_KHZ           _IO(KVMIO,  0xa2)\n#define KVM_GET_TSC_KHZ           _IO(KVMIO,  0xa3)\n \n#define KVM_ASSIGN_SET_INTX_MASK  _IOW(KVMIO,  0xa4, \\\n\t\t\t\t       struct kvm_assigned_pci_dev)\n \n#define KVM_SIGNAL_MSI            _IOW(KVMIO,  0xa5, struct kvm_msi)\n \n#define KVM_PPC_GET_SMMU_INFO\t  _IOR(KVMIO,  0xa6, struct kvm_ppc_smmu_info)\n \n#define KVM_PPC_ALLOCATE_HTAB\t  _IOWR(KVMIO, 0xa7, __u32)\n#define KVM_CREATE_SPAPR_TCE\t  _IOW(KVMIO,  0xa8, struct kvm_create_spapr_tce)\n#define KVM_CREATE_SPAPR_TCE_64\t  _IOW(KVMIO,  0xa8, \\\n\t\t\t\t       struct kvm_create_spapr_tce_64)\n \n#define KVM_ALLOCATE_RMA\t  _IOR(KVMIO,  0xa9, struct kvm_allocate_rma)\n \n#define KVM_PPC_GET_HTAB_FD\t  _IOW(KVMIO,  0xaa, struct kvm_get_htab_fd)\n \n#define KVM_ARM_SET_DEVICE_ADDR\t  _IOW(KVMIO,  0xab, struct kvm_arm_device_addr)\n \n#define KVM_PPC_RTAS_DEFINE_TOKEN _IOW(KVMIO,  0xac, struct kvm_rtas_token_args)\n \n#define KVM_PPC_RESIZE_HPT_PREPARE _IOR(KVMIO, 0xad, struct kvm_ppc_resize_hpt)\n#define KVM_PPC_RESIZE_HPT_COMMIT  _IOR(KVMIO, 0xae, struct kvm_ppc_resize_hpt)\n \n#define KVM_PPC_CONFIGURE_V3_MMU  _IOW(KVMIO,  0xaf, struct kvm_ppc_mmuv3_cfg)\n \n#define KVM_PPC_GET_RMMU_INFO\t  _IOW(KVMIO,  0xb0, struct kvm_ppc_rmmu_info)\n \n#define KVM_PPC_GET_CPU_CHAR\t  _IOR(KVMIO,  0xb1, struct kvm_ppc_cpu_char)\n \n#define KVM_SET_PMU_EVENT_FILTER  _IOW(KVMIO,  0xb2, struct kvm_pmu_event_filter)\n#define KVM_PPC_SVM_OFF\t\t  _IO(KVMIO,  0xb3)\n#define KVM_ARM_MTE_COPY_TAGS\t  _IOR(KVMIO,  0xb4, struct kvm_arm_copy_mte_tags)\n \n#define KVM_ARM_SET_COUNTER_OFFSET _IOW(KVMIO,  0xb5, struct kvm_arm_counter_offset)\n\n \n#define KVM_CREATE_DEVICE\t  _IOWR(KVMIO,  0xe0, struct kvm_create_device)\n\n \n#define KVM_SET_DEVICE_ATTR\t  _IOW(KVMIO,  0xe1, struct kvm_device_attr)\n#define KVM_GET_DEVICE_ATTR\t  _IOW(KVMIO,  0xe2, struct kvm_device_attr)\n#define KVM_HAS_DEVICE_ATTR\t  _IOW(KVMIO,  0xe3, struct kvm_device_attr)\n\n \n#define KVM_RUN                   _IO(KVMIO,   0x80)\n#define KVM_GET_REGS              _IOR(KVMIO,  0x81, struct kvm_regs)\n#define KVM_SET_REGS              _IOW(KVMIO,  0x82, struct kvm_regs)\n#define KVM_GET_SREGS             _IOR(KVMIO,  0x83, struct kvm_sregs)\n#define KVM_SET_SREGS             _IOW(KVMIO,  0x84, struct kvm_sregs)\n#define KVM_TRANSLATE             _IOWR(KVMIO, 0x85, struct kvm_translation)\n#define KVM_INTERRUPT             _IOW(KVMIO,  0x86, struct kvm_interrupt)\n \n#define KVM_DEBUG_GUEST           __KVM_DEPRECATED_VCPU_W_0x87\n#define KVM_GET_MSRS              _IOWR(KVMIO, 0x88, struct kvm_msrs)\n#define KVM_SET_MSRS              _IOW(KVMIO,  0x89, struct kvm_msrs)\n#define KVM_SET_CPUID             _IOW(KVMIO,  0x8a, struct kvm_cpuid)\n#define KVM_SET_SIGNAL_MASK       _IOW(KVMIO,  0x8b, struct kvm_signal_mask)\n#define KVM_GET_FPU               _IOR(KVMIO,  0x8c, struct kvm_fpu)\n#define KVM_SET_FPU               _IOW(KVMIO,  0x8d, struct kvm_fpu)\n#define KVM_GET_LAPIC             _IOR(KVMIO,  0x8e, struct kvm_lapic_state)\n#define KVM_SET_LAPIC             _IOW(KVMIO,  0x8f, struct kvm_lapic_state)\n#define KVM_SET_CPUID2            _IOW(KVMIO,  0x90, struct kvm_cpuid2)\n#define KVM_GET_CPUID2            _IOWR(KVMIO, 0x91, struct kvm_cpuid2)\n \n#define KVM_TPR_ACCESS_REPORTING  _IOWR(KVMIO, 0x92, struct kvm_tpr_access_ctl)\n \n#define KVM_SET_VAPIC_ADDR        _IOW(KVMIO,  0x93, struct kvm_vapic_addr)\n \n#define KVM_S390_INTERRUPT        _IOW(KVMIO,  0x94, struct kvm_s390_interrupt)\n \n#define KVM_S390_STORE_STATUS_NOADDR    (-1ul)\n#define KVM_S390_STORE_STATUS_PREFIXED  (-2ul)\n#define KVM_S390_STORE_STATUS\t  _IOW(KVMIO,  0x95, unsigned long)\n \n#define KVM_S390_SET_INITIAL_PSW  _IOW(KVMIO,  0x96, struct kvm_s390_psw)\n \n#define KVM_S390_INITIAL_RESET    _IO(KVMIO,   0x97)\n#define KVM_GET_MP_STATE          _IOR(KVMIO,  0x98, struct kvm_mp_state)\n#define KVM_SET_MP_STATE          _IOW(KVMIO,  0x99, struct kvm_mp_state)\n \n#define KVM_NMI                   _IO(KVMIO,   0x9a)\n \n#define KVM_SET_GUEST_DEBUG       _IOW(KVMIO,  0x9b, struct kvm_guest_debug)\n \n#define KVM_X86_SETUP_MCE         _IOW(KVMIO,  0x9c, __u64)\n#define KVM_X86_GET_MCE_CAP_SUPPORTED _IOR(KVMIO,  0x9d, __u64)\n#define KVM_X86_SET_MCE           _IOW(KVMIO,  0x9e, struct kvm_x86_mce)\n \n#define KVM_GET_VCPU_EVENTS       _IOR(KVMIO,  0x9f, struct kvm_vcpu_events)\n#define KVM_SET_VCPU_EVENTS       _IOW(KVMIO,  0xa0, struct kvm_vcpu_events)\n \n#define KVM_GET_DEBUGREGS         _IOR(KVMIO,  0xa1, struct kvm_debugregs)\n#define KVM_SET_DEBUGREGS         _IOW(KVMIO,  0xa2, struct kvm_debugregs)\n \n#define KVM_ENABLE_CAP            _IOW(KVMIO,  0xa3, struct kvm_enable_cap)\n \n#define KVM_GET_XSAVE\t\t  _IOR(KVMIO,  0xa4, struct kvm_xsave)\n#define KVM_SET_XSAVE\t\t  _IOW(KVMIO,  0xa5, struct kvm_xsave)\n \n#define KVM_GET_XCRS\t\t  _IOR(KVMIO,  0xa6, struct kvm_xcrs)\n#define KVM_SET_XCRS\t\t  _IOW(KVMIO,  0xa7, struct kvm_xcrs)\n \n#define KVM_DIRTY_TLB\t\t  _IOW(KVMIO,  0xaa, struct kvm_dirty_tlb)\n \n#define KVM_GET_ONE_REG\t\t  _IOW(KVMIO,  0xab, struct kvm_one_reg)\n#define KVM_SET_ONE_REG\t\t  _IOW(KVMIO,  0xac, struct kvm_one_reg)\n \n#define KVM_KVMCLOCK_CTRL\t  _IO(KVMIO,   0xad)\n#define KVM_ARM_VCPU_INIT\t  _IOW(KVMIO,  0xae, struct kvm_vcpu_init)\n#define KVM_ARM_PREFERRED_TARGET  _IOR(KVMIO,  0xaf, struct kvm_vcpu_init)\n#define KVM_GET_REG_LIST\t  _IOWR(KVMIO, 0xb0, struct kvm_reg_list)\n \n#define KVM_S390_MEM_OP\t\t  _IOW(KVMIO,  0xb1, struct kvm_s390_mem_op)\n \n#define KVM_S390_GET_SKEYS      _IOW(KVMIO, 0xb2, struct kvm_s390_skeys)\n#define KVM_S390_SET_SKEYS      _IOW(KVMIO, 0xb3, struct kvm_s390_skeys)\n \n#define KVM_S390_IRQ              _IOW(KVMIO,  0xb4, struct kvm_s390_irq)\n \n#define KVM_S390_SET_IRQ_STATE\t  _IOW(KVMIO, 0xb5, struct kvm_s390_irq_state)\n#define KVM_S390_GET_IRQ_STATE\t  _IOW(KVMIO, 0xb6, struct kvm_s390_irq_state)\n \n#define KVM_SMI                   _IO(KVMIO,   0xb7)\n \n#define KVM_S390_GET_CMMA_BITS      _IOWR(KVMIO, 0xb8, struct kvm_s390_cmma_log)\n#define KVM_S390_SET_CMMA_BITS      _IOW(KVMIO, 0xb9, struct kvm_s390_cmma_log)\n \n#define KVM_MEMORY_ENCRYPT_OP      _IOWR(KVMIO, 0xba, unsigned long)\n\nstruct kvm_enc_region {\n\t__u64 addr;\n\t__u64 size;\n};\n\n#define KVM_MEMORY_ENCRYPT_REG_REGION    _IOR(KVMIO, 0xbb, struct kvm_enc_region)\n#define KVM_MEMORY_ENCRYPT_UNREG_REGION  _IOR(KVMIO, 0xbc, struct kvm_enc_region)\n\n \n#define KVM_HYPERV_EVENTFD        _IOW(KVMIO,  0xbd, struct kvm_hyperv_eventfd)\n\n \n#define KVM_GET_NESTED_STATE         _IOWR(KVMIO, 0xbe, struct kvm_nested_state)\n#define KVM_SET_NESTED_STATE         _IOW(KVMIO,  0xbf, struct kvm_nested_state)\n\n \n#define KVM_CLEAR_DIRTY_LOG          _IOWR(KVMIO, 0xc0, struct kvm_clear_dirty_log)\n\n \n#define KVM_GET_SUPPORTED_HV_CPUID _IOWR(KVMIO, 0xc1, struct kvm_cpuid2)\n\n \n#define KVM_ARM_VCPU_FINALIZE\t  _IOW(KVMIO,  0xc2, int)\n\n \n#define KVM_S390_NORMAL_RESET\t_IO(KVMIO,   0xc3)\n#define KVM_S390_CLEAR_RESET\t_IO(KVMIO,   0xc4)\n\nstruct kvm_s390_pv_sec_parm {\n\t__u64 origin;\n\t__u64 length;\n};\n\nstruct kvm_s390_pv_unp {\n\t__u64 addr;\n\t__u64 size;\n\t__u64 tweak;\n};\n\nenum pv_cmd_dmp_id {\n\tKVM_PV_DUMP_INIT,\n\tKVM_PV_DUMP_CONFIG_STOR_STATE,\n\tKVM_PV_DUMP_COMPLETE,\n\tKVM_PV_DUMP_CPU,\n};\n\nstruct kvm_s390_pv_dmp {\n\t__u64 subcmd;\n\t__u64 buff_addr;\n\t__u64 buff_len;\n\t__u64 gaddr;\t\t \n\t__u64 reserved[4];\n};\n\nenum pv_cmd_info_id {\n\tKVM_PV_INFO_VM,\n\tKVM_PV_INFO_DUMP,\n};\n\nstruct kvm_s390_pv_info_dump {\n\t__u64 dump_cpu_buffer_len;\n\t__u64 dump_config_mem_buffer_per_1m;\n\t__u64 dump_config_finalize_len;\n};\n\nstruct kvm_s390_pv_info_vm {\n\t__u64 inst_calls_list[4];\n\t__u64 max_cpus;\n\t__u64 max_guests;\n\t__u64 max_guest_addr;\n\t__u64 feature_indication;\n};\n\nstruct kvm_s390_pv_info_header {\n\t__u32 id;\n\t__u32 len_max;\n\t__u32 len_written;\n\t__u32 reserved;\n};\n\nstruct kvm_s390_pv_info {\n\tstruct kvm_s390_pv_info_header header;\n\tunion {\n\t\tstruct kvm_s390_pv_info_dump dump;\n\t\tstruct kvm_s390_pv_info_vm vm;\n\t};\n};\n\nenum pv_cmd_id {\n\tKVM_PV_ENABLE,\n\tKVM_PV_DISABLE,\n\tKVM_PV_SET_SEC_PARMS,\n\tKVM_PV_UNPACK,\n\tKVM_PV_VERIFY,\n\tKVM_PV_PREP_RESET,\n\tKVM_PV_UNSHARE_ALL,\n\tKVM_PV_INFO,\n\tKVM_PV_DUMP,\n\tKVM_PV_ASYNC_CLEANUP_PREPARE,\n\tKVM_PV_ASYNC_CLEANUP_PERFORM,\n};\n\nstruct kvm_pv_cmd {\n\t__u32 cmd;\t \n\t__u16 rc;\t \n\t__u16 rrc;\t \n\t__u64 data;\t \n\t__u32 flags;     \n\t__u32 reserved[3];\n};\n\n \n#define KVM_S390_PV_COMMAND\t\t_IOWR(KVMIO, 0xc5, struct kvm_pv_cmd)\n\n \n#define KVM_X86_SET_MSR_FILTER\t_IOW(KVMIO,  0xc6, struct kvm_msr_filter)\n\n \n#define KVM_RESET_DIRTY_RINGS\t\t_IO(KVMIO, 0xc7)\n\n \n#define KVM_XEN_HVM_GET_ATTR\t_IOWR(KVMIO, 0xc8, struct kvm_xen_hvm_attr)\n#define KVM_XEN_HVM_SET_ATTR\t_IOW(KVMIO,  0xc9, struct kvm_xen_hvm_attr)\n\nstruct kvm_xen_hvm_attr {\n\t__u16 type;\n\t__u16 pad[3];\n\tunion {\n\t\t__u8 long_mode;\n\t\t__u8 vector;\n\t\t__u8 runstate_update_flag;\n\t\tstruct {\n\t\t\t__u64 gfn;\n#define KVM_XEN_INVALID_GFN ((__u64)-1)\n\t\t} shared_info;\n\t\tstruct {\n\t\t\t__u32 send_port;\n\t\t\t__u32 type;  \n\t\t\t__u32 flags;\n#define KVM_XEN_EVTCHN_DEASSIGN\t\t(1 << 0)\n#define KVM_XEN_EVTCHN_UPDATE\t\t(1 << 1)\n#define KVM_XEN_EVTCHN_RESET\t\t(1 << 2)\n\t\t\t \n\t\t\tunion {\n\t\t\t\tstruct {\n\t\t\t\t\t__u32 port;\n\t\t\t\t\t__u32 vcpu;\n\t\t\t\t\t__u32 priority;\n\t\t\t\t} port;\n\t\t\t\tstruct {\n\t\t\t\t\t__u32 port;  \n\t\t\t\t\t__s32 fd;\n\t\t\t\t} eventfd;\n\t\t\t\t__u32 padding[4];\n\t\t\t} deliver;\n\t\t} evtchn;\n\t\t__u32 xen_version;\n\t\t__u64 pad[8];\n\t} u;\n};\n\n\n \n#define KVM_XEN_ATTR_TYPE_LONG_MODE\t\t0x0\n#define KVM_XEN_ATTR_TYPE_SHARED_INFO\t\t0x1\n#define KVM_XEN_ATTR_TYPE_UPCALL_VECTOR\t\t0x2\n \n#define KVM_XEN_ATTR_TYPE_EVTCHN\t\t0x3\n#define KVM_XEN_ATTR_TYPE_XEN_VERSION\t\t0x4\n \n#define KVM_XEN_ATTR_TYPE_RUNSTATE_UPDATE_FLAG\t0x5\n\n \n#define KVM_XEN_VCPU_GET_ATTR\t_IOWR(KVMIO, 0xca, struct kvm_xen_vcpu_attr)\n#define KVM_XEN_VCPU_SET_ATTR\t_IOW(KVMIO,  0xcb, struct kvm_xen_vcpu_attr)\n\n \n#define KVM_XEN_HVM_EVTCHN_SEND\t_IOW(KVMIO,  0xd0, struct kvm_irq_routing_xen_evtchn)\n\n#define KVM_GET_SREGS2             _IOR(KVMIO,  0xcc, struct kvm_sregs2)\n#define KVM_SET_SREGS2             _IOW(KVMIO,  0xcd, struct kvm_sregs2)\n\nstruct kvm_xen_vcpu_attr {\n\t__u16 type;\n\t__u16 pad[3];\n\tunion {\n\t\t__u64 gpa;\n#define KVM_XEN_INVALID_GPA ((__u64)-1)\n\t\t__u64 pad[8];\n\t\tstruct {\n\t\t\t__u64 state;\n\t\t\t__u64 state_entry_time;\n\t\t\t__u64 time_running;\n\t\t\t__u64 time_runnable;\n\t\t\t__u64 time_blocked;\n\t\t\t__u64 time_offline;\n\t\t} runstate;\n\t\t__u32 vcpu_id;\n\t\tstruct {\n\t\t\t__u32 port;\n\t\t\t__u32 priority;\n\t\t\t__u64 expires_ns;\n\t\t} timer;\n\t\t__u8 vector;\n\t} u;\n};\n\n \n#define KVM_XEN_VCPU_ATTR_TYPE_VCPU_INFO\t0x0\n#define KVM_XEN_VCPU_ATTR_TYPE_VCPU_TIME_INFO\t0x1\n#define KVM_XEN_VCPU_ATTR_TYPE_RUNSTATE_ADDR\t0x2\n#define KVM_XEN_VCPU_ATTR_TYPE_RUNSTATE_CURRENT\t0x3\n#define KVM_XEN_VCPU_ATTR_TYPE_RUNSTATE_DATA\t0x4\n#define KVM_XEN_VCPU_ATTR_TYPE_RUNSTATE_ADJUST\t0x5\n \n#define KVM_XEN_VCPU_ATTR_TYPE_VCPU_ID\t\t0x6\n#define KVM_XEN_VCPU_ATTR_TYPE_TIMER\t\t0x7\n#define KVM_XEN_VCPU_ATTR_TYPE_UPCALL_VECTOR\t0x8\n\n \nenum sev_cmd_id {\n\t \n\tKVM_SEV_INIT = 0,\n\tKVM_SEV_ES_INIT,\n\t \n\tKVM_SEV_LAUNCH_START,\n\tKVM_SEV_LAUNCH_UPDATE_DATA,\n\tKVM_SEV_LAUNCH_UPDATE_VMSA,\n\tKVM_SEV_LAUNCH_SECRET,\n\tKVM_SEV_LAUNCH_MEASURE,\n\tKVM_SEV_LAUNCH_FINISH,\n\t \n\tKVM_SEV_SEND_START,\n\tKVM_SEV_SEND_UPDATE_DATA,\n\tKVM_SEV_SEND_UPDATE_VMSA,\n\tKVM_SEV_SEND_FINISH,\n\t \n\tKVM_SEV_RECEIVE_START,\n\tKVM_SEV_RECEIVE_UPDATE_DATA,\n\tKVM_SEV_RECEIVE_UPDATE_VMSA,\n\tKVM_SEV_RECEIVE_FINISH,\n\t \n\tKVM_SEV_GUEST_STATUS,\n\tKVM_SEV_DBG_DECRYPT,\n\tKVM_SEV_DBG_ENCRYPT,\n\t \n\tKVM_SEV_CERT_EXPORT,\n\t \n\tKVM_SEV_GET_ATTESTATION_REPORT,\n\t \n\tKVM_SEV_SEND_CANCEL,\n\n\tKVM_SEV_NR_MAX,\n};\n\nstruct kvm_sev_cmd {\n\t__u32 id;\n\t__u64 data;\n\t__u32 error;\n\t__u32 sev_fd;\n};\n\nstruct kvm_sev_launch_start {\n\t__u32 handle;\n\t__u32 policy;\n\t__u64 dh_uaddr;\n\t__u32 dh_len;\n\t__u64 session_uaddr;\n\t__u32 session_len;\n};\n\nstruct kvm_sev_launch_update_data {\n\t__u64 uaddr;\n\t__u32 len;\n};\n\n\nstruct kvm_sev_launch_secret {\n\t__u64 hdr_uaddr;\n\t__u32 hdr_len;\n\t__u64 guest_uaddr;\n\t__u32 guest_len;\n\t__u64 trans_uaddr;\n\t__u32 trans_len;\n};\n\nstruct kvm_sev_launch_measure {\n\t__u64 uaddr;\n\t__u32 len;\n};\n\nstruct kvm_sev_guest_status {\n\t__u32 handle;\n\t__u32 policy;\n\t__u32 state;\n};\n\nstruct kvm_sev_dbg {\n\t__u64 src_uaddr;\n\t__u64 dst_uaddr;\n\t__u32 len;\n};\n\nstruct kvm_sev_attestation_report {\n\t__u8 mnonce[16];\n\t__u64 uaddr;\n\t__u32 len;\n};\n\nstruct kvm_sev_send_start {\n\t__u32 policy;\n\t__u64 pdh_cert_uaddr;\n\t__u32 pdh_cert_len;\n\t__u64 plat_certs_uaddr;\n\t__u32 plat_certs_len;\n\t__u64 amd_certs_uaddr;\n\t__u32 amd_certs_len;\n\t__u64 session_uaddr;\n\t__u32 session_len;\n};\n\nstruct kvm_sev_send_update_data {\n\t__u64 hdr_uaddr;\n\t__u32 hdr_len;\n\t__u64 guest_uaddr;\n\t__u32 guest_len;\n\t__u64 trans_uaddr;\n\t__u32 trans_len;\n};\n\nstruct kvm_sev_receive_start {\n\t__u32 handle;\n\t__u32 policy;\n\t__u64 pdh_uaddr;\n\t__u32 pdh_len;\n\t__u64 session_uaddr;\n\t__u32 session_len;\n};\n\nstruct kvm_sev_receive_update_data {\n\t__u64 hdr_uaddr;\n\t__u32 hdr_len;\n\t__u64 guest_uaddr;\n\t__u32 guest_len;\n\t__u64 trans_uaddr;\n\t__u32 trans_len;\n};\n\n#define KVM_DEV_ASSIGN_ENABLE_IOMMU\t(1 << 0)\n#define KVM_DEV_ASSIGN_PCI_2_3\t\t(1 << 1)\n#define KVM_DEV_ASSIGN_MASK_INTX\t(1 << 2)\n\nstruct kvm_assigned_pci_dev {\n\t__u32 assigned_dev_id;\n\t__u32 busnr;\n\t__u32 devfn;\n\t__u32 flags;\n\t__u32 segnr;\n\tunion {\n\t\t__u32 reserved[11];\n\t};\n};\n\n#define KVM_DEV_IRQ_HOST_INTX    (1 << 0)\n#define KVM_DEV_IRQ_HOST_MSI     (1 << 1)\n#define KVM_DEV_IRQ_HOST_MSIX    (1 << 2)\n\n#define KVM_DEV_IRQ_GUEST_INTX   (1 << 8)\n#define KVM_DEV_IRQ_GUEST_MSI    (1 << 9)\n#define KVM_DEV_IRQ_GUEST_MSIX   (1 << 10)\n\n#define KVM_DEV_IRQ_HOST_MASK\t 0x00ff\n#define KVM_DEV_IRQ_GUEST_MASK   0xff00\n\nstruct kvm_assigned_irq {\n\t__u32 assigned_dev_id;\n\t__u32 host_irq;  \n\t__u32 guest_irq;\n\t__u32 flags;\n\tunion {\n\t\t__u32 reserved[12];\n\t};\n};\n\nstruct kvm_assigned_msix_nr {\n\t__u32 assigned_dev_id;\n\t__u16 entry_nr;\n\t__u16 padding;\n};\n\n#define KVM_MAX_MSIX_PER_DEV\t\t256\nstruct kvm_assigned_msix_entry {\n\t__u32 assigned_dev_id;\n\t__u32 gsi;\n\t__u16 entry;  \n\t__u16 padding[3];\n};\n\n#define KVM_X2APIC_API_USE_32BIT_IDS            (1ULL << 0)\n#define KVM_X2APIC_API_DISABLE_BROADCAST_QUIRK  (1ULL << 1)\n\n \n\n \n#define KVM_ARM_DEV_EL1_VTIMER\t\t(1 << 0)\n#define KVM_ARM_DEV_EL1_PTIMER\t\t(1 << 1)\n#define KVM_ARM_DEV_PMU\t\t\t(1 << 2)\n\nstruct kvm_hyperv_eventfd {\n\t__u32 conn_id;\n\t__s32 fd;\n\t__u32 flags;\n\t__u32 padding[3];\n};\n\n#define KVM_HYPERV_CONN_ID_MASK\t\t0x00ffffff\n#define KVM_HYPERV_EVENTFD_DEASSIGN\t(1 << 0)\n\n#define KVM_DIRTY_LOG_MANUAL_PROTECT_ENABLE    (1 << 0)\n#define KVM_DIRTY_LOG_INITIALLY_SET            (1 << 1)\n\n \n#ifndef KVM_DIRTY_LOG_PAGE_OFFSET\n#define KVM_DIRTY_LOG_PAGE_OFFSET 0\n#endif\n\n \n#define KVM_DIRTY_GFN_F_DIRTY           _BITUL(0)\n#define KVM_DIRTY_GFN_F_RESET           _BITUL(1)\n#define KVM_DIRTY_GFN_F_MASK            0x3\n\n \nstruct kvm_dirty_gfn {\n\t__u32 flags;\n\t__u32 slot;\n\t__u64 offset;\n};\n\n#define KVM_BUS_LOCK_DETECTION_OFF             (1 << 0)\n#define KVM_BUS_LOCK_DETECTION_EXIT            (1 << 1)\n\n#define KVM_PMU_CAP_DISABLE                    (1 << 0)\n\n \nstruct kvm_stats_header {\n\t__u32 flags;\n\t__u32 name_size;\n\t__u32 num_desc;\n\t__u32 id_offset;\n\t__u32 desc_offset;\n\t__u32 data_offset;\n};\n\n#define KVM_STATS_TYPE_SHIFT\t\t0\n#define KVM_STATS_TYPE_MASK\t\t(0xF << KVM_STATS_TYPE_SHIFT)\n#define KVM_STATS_TYPE_CUMULATIVE\t(0x0 << KVM_STATS_TYPE_SHIFT)\n#define KVM_STATS_TYPE_INSTANT\t\t(0x1 << KVM_STATS_TYPE_SHIFT)\n#define KVM_STATS_TYPE_PEAK\t\t(0x2 << KVM_STATS_TYPE_SHIFT)\n#define KVM_STATS_TYPE_LINEAR_HIST\t(0x3 << KVM_STATS_TYPE_SHIFT)\n#define KVM_STATS_TYPE_LOG_HIST\t\t(0x4 << KVM_STATS_TYPE_SHIFT)\n#define KVM_STATS_TYPE_MAX\t\tKVM_STATS_TYPE_LOG_HIST\n\n#define KVM_STATS_UNIT_SHIFT\t\t4\n#define KVM_STATS_UNIT_MASK\t\t(0xF << KVM_STATS_UNIT_SHIFT)\n#define KVM_STATS_UNIT_NONE\t\t(0x0 << KVM_STATS_UNIT_SHIFT)\n#define KVM_STATS_UNIT_BYTES\t\t(0x1 << KVM_STATS_UNIT_SHIFT)\n#define KVM_STATS_UNIT_SECONDS\t\t(0x2 << KVM_STATS_UNIT_SHIFT)\n#define KVM_STATS_UNIT_CYCLES\t\t(0x3 << KVM_STATS_UNIT_SHIFT)\n#define KVM_STATS_UNIT_BOOLEAN\t\t(0x4 << KVM_STATS_UNIT_SHIFT)\n#define KVM_STATS_UNIT_MAX\t\tKVM_STATS_UNIT_BOOLEAN\n\n#define KVM_STATS_BASE_SHIFT\t\t8\n#define KVM_STATS_BASE_MASK\t\t(0xF << KVM_STATS_BASE_SHIFT)\n#define KVM_STATS_BASE_POW10\t\t(0x0 << KVM_STATS_BASE_SHIFT)\n#define KVM_STATS_BASE_POW2\t\t(0x1 << KVM_STATS_BASE_SHIFT)\n#define KVM_STATS_BASE_MAX\t\tKVM_STATS_BASE_POW2\n\n \nstruct kvm_stats_desc {\n\t__u32 flags;\n\t__s16 exponent;\n\t__u16 size;\n\t__u32 offset;\n\t__u32 bucket_size;\n\tchar name[];\n};\n\n#define KVM_GET_STATS_FD  _IO(KVMIO,  0xce)\n\n \n#define KVM_GET_XSAVE2\t\t  _IOR(KVMIO,  0xcf, struct kvm_xsave)\n\n \n#define KVM_S390_PV_CPU_COMMAND\t_IOWR(KVMIO, 0xd0, struct kvm_pv_cmd)\n\n \n#define KVM_X86_NOTIFY_VMEXIT_ENABLED\t\t(1ULL << 0)\n#define KVM_X86_NOTIFY_VMEXIT_USER\t\t(1ULL << 1)\n\n \n#define KVM_S390_ZPCI_OP         _IOW(KVMIO,  0xd1, struct kvm_s390_zpci_op)\n\nstruct kvm_s390_zpci_op {\n\t \n\t__u32 fh;                \n\t__u8  op;                \n\t__u8  pad[3];\n\tunion {\n\t\t \n\t\tstruct {\n\t\t\t__u64 ibv;       \n\t\t\t__u64 sb;        \n\t\t\t__u32 flags;\n\t\t\t__u32 noi;       \n\t\t\t__u8 isc;        \n\t\t\t__u8 sbo;        \n\t\t\t__u16 pad;\n\t\t} reg_aen;\n\t\t__u64 reserved[8];\n\t} u;\n};\n\n \n#define KVM_S390_ZPCIOP_REG_AEN                0\n#define KVM_S390_ZPCIOP_DEREG_AEN      1\n\n \n#define KVM_S390_ZPCIOP_REGAEN_HOST    (1 << 0)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}