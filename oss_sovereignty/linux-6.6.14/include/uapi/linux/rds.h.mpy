{
  "module_name": "rds.h",
  "hash_id": "dd7f328108df0068a9da3b57d18d0c894acbc098ca84f942cbf74067d38f457e",
  "original_prompt": "Ingested from linux-6.6.14/include/uapi/linux/rds.h",
  "human_readable_source": " \n \n\n#ifndef _LINUX_RDS_H\n#define _LINUX_RDS_H\n\n#include <linux/types.h>\n#include <linux/socket.h>\t\t \n#include <linux/in6.h>\t\t\t \n\n#define RDS_IB_ABI_VERSION\t\t0x301\n\n#define\tSOL_RDS\t\t276\n\n \n#define RDS_CANCEL_SENT_TO      \t1\n#define RDS_GET_MR\t\t\t2\n#define RDS_FREE_MR\t\t\t3\n \n#define RDS_RECVERR\t\t\t5\n#define RDS_CONG_MONITOR\t\t6\n#define RDS_GET_MR_FOR_DEST\t\t7\n#define SO_RDS_TRANSPORT\t\t8\n\n \n#define SO_RDS_MSG_RXPATH_LATENCY\t10\n\n\n \n#define\tRDS_TRANS_IB\t0\n#define\tRDS_TRANS_GAP\t1\n#define\tRDS_TRANS_TCP\t2\n#define RDS_TRANS_COUNT\t3\n#define\tRDS_TRANS_NONE\t(~0)\n \n#define RDS_TRANS_IWARP RDS_TRANS_GAP\n\n \n#define SIOCRDSSETTOS\t\t(SIOCPROTOPRIVATE)\n#define SIOCRDSGETTOS\t\t(SIOCPROTOPRIVATE + 1)\n\ntypedef __u8\trds_tos_t;\n\n \n#define RDS_CMSG_RDMA_ARGS\t\t1\n#define RDS_CMSG_RDMA_DEST\t\t2\n#define RDS_CMSG_RDMA_MAP\t\t3\n#define RDS_CMSG_RDMA_STATUS\t\t4\n#define RDS_CMSG_CONG_UPDATE\t\t5\n#define RDS_CMSG_ATOMIC_FADD\t\t6\n#define RDS_CMSG_ATOMIC_CSWP\t\t7\n#define RDS_CMSG_MASKED_ATOMIC_FADD\t8\n#define RDS_CMSG_MASKED_ATOMIC_CSWP\t9\n#define RDS_CMSG_RXPATH_LATENCY\t\t11\n#define\tRDS_CMSG_ZCOPY_COOKIE\t\t12\n#define\tRDS_CMSG_ZCOPY_COMPLETION\t13\n\n#define RDS_INFO_FIRST\t\t\t10000\n#define RDS_INFO_COUNTERS\t\t10000\n#define RDS_INFO_CONNECTIONS\t\t10001\n \n#define RDS_INFO_SEND_MESSAGES\t\t10003\n#define RDS_INFO_RETRANS_MESSAGES       10004\n#define RDS_INFO_RECV_MESSAGES          10005\n#define RDS_INFO_SOCKETS                10006\n#define RDS_INFO_TCP_SOCKETS            10007\n#define RDS_INFO_IB_CONNECTIONS\t\t10008\n#define RDS_INFO_CONNECTION_STATS\t10009\n#define RDS_INFO_IWARP_CONNECTIONS\t10010\n\n \n#define RDS6_INFO_CONNECTIONS\t\t10011\n#define RDS6_INFO_SEND_MESSAGES\t\t10012\n#define RDS6_INFO_RETRANS_MESSAGES\t10013\n#define RDS6_INFO_RECV_MESSAGES\t\t10014\n#define RDS6_INFO_SOCKETS\t\t10015\n#define RDS6_INFO_TCP_SOCKETS\t\t10016\n#define RDS6_INFO_IB_CONNECTIONS\t10017\n\n#define RDS_INFO_LAST\t\t\t10017\n\nstruct rds_info_counter {\n\t__u8\tname[32];\n\t__u64\tvalue;\n} __attribute__((packed));\n\n#define RDS_INFO_CONNECTION_FLAG_SENDING\t0x01\n#define RDS_INFO_CONNECTION_FLAG_CONNECTING\t0x02\n#define RDS_INFO_CONNECTION_FLAG_CONNECTED\t0x04\n\n#define TRANSNAMSIZ\t16\n\nstruct rds_info_connection {\n\t__u64\t\tnext_tx_seq;\n\t__u64\t\tnext_rx_seq;\n\t__be32\t\tladdr;\n\t__be32\t\tfaddr;\n\t__u8\t\ttransport[TRANSNAMSIZ];\t\t \n\t__u8\t\tflags;\n\t__u8\t\ttos;\n} __attribute__((packed));\n\nstruct rds6_info_connection {\n\t__u64\t\tnext_tx_seq;\n\t__u64\t\tnext_rx_seq;\n\tstruct in6_addr\tladdr;\n\tstruct in6_addr\tfaddr;\n\t__u8\t\ttransport[TRANSNAMSIZ];\t\t \n\t__u8\t\tflags;\n} __attribute__((packed));\n\n#define RDS_INFO_MESSAGE_FLAG_ACK               0x01\n#define RDS_INFO_MESSAGE_FLAG_FAST_ACK          0x02\n\nstruct rds_info_message {\n\t__u64\t\tseq;\n\t__u32\t\tlen;\n\t__be32\t\tladdr;\n\t__be32\t\tfaddr;\n\t__be16\t\tlport;\n\t__be16\t\tfport;\n\t__u8\t\tflags;\n\t__u8\t\ttos;\n} __attribute__((packed));\n\nstruct rds6_info_message {\n\t__u64\tseq;\n\t__u32\tlen;\n\tstruct in6_addr\tladdr;\n\tstruct in6_addr\tfaddr;\n\t__be16\t\tlport;\n\t__be16\t\tfport;\n\t__u8\t\tflags;\n\t__u8\t\ttos;\n} __attribute__((packed));\n\nstruct rds_info_socket {\n\t__u32\t\tsndbuf;\n\t__be32\t\tbound_addr;\n\t__be32\t\tconnected_addr;\n\t__be16\t\tbound_port;\n\t__be16\t\tconnected_port;\n\t__u32\t\trcvbuf;\n\t__u64\t\tinum;\n} __attribute__((packed));\n\nstruct rds6_info_socket {\n\t__u32\t\tsndbuf;\n\tstruct in6_addr\tbound_addr;\n\tstruct in6_addr\tconnected_addr;\n\t__be16\t\tbound_port;\n\t__be16\t\tconnected_port;\n\t__u32\t\trcvbuf;\n\t__u64\t\tinum;\n} __attribute__((packed));\n\nstruct rds_info_tcp_socket {\n\t__be32          local_addr;\n\t__be16          local_port;\n\t__be32          peer_addr;\n\t__be16          peer_port;\n\t__u64           hdr_rem;\n\t__u64           data_rem;\n\t__u32           last_sent_nxt;\n\t__u32           last_expected_una;\n\t__u32           last_seen_una;\n\t__u8\t\ttos;\n} __attribute__((packed));\n\nstruct rds6_info_tcp_socket {\n\tstruct in6_addr\tlocal_addr;\n\t__be16\t\tlocal_port;\n\tstruct in6_addr\tpeer_addr;\n\t__be16\t\tpeer_port;\n\t__u64\t\thdr_rem;\n\t__u64\t\tdata_rem;\n\t__u32\t\tlast_sent_nxt;\n\t__u32\t\tlast_expected_una;\n\t__u32\t\tlast_seen_una;\n} __attribute__((packed));\n\n#define RDS_IB_GID_LEN\t16\nstruct rds_info_rdma_connection {\n\t__be32\t\tsrc_addr;\n\t__be32\t\tdst_addr;\n\t__u8\t\tsrc_gid[RDS_IB_GID_LEN];\n\t__u8\t\tdst_gid[RDS_IB_GID_LEN];\n\n\t__u32\t\tmax_send_wr;\n\t__u32\t\tmax_recv_wr;\n\t__u32\t\tmax_send_sge;\n\t__u32\t\trdma_mr_max;\n\t__u32\t\trdma_mr_size;\n\t__u8\t\ttos;\n\t__u8\t\tsl;\n\t__u32\t\tcache_allocs;\n};\n\nstruct rds6_info_rdma_connection {\n\tstruct in6_addr\tsrc_addr;\n\tstruct in6_addr\tdst_addr;\n\t__u8\t\tsrc_gid[RDS_IB_GID_LEN];\n\t__u8\t\tdst_gid[RDS_IB_GID_LEN];\n\n\t__u32\t\tmax_send_wr;\n\t__u32\t\tmax_recv_wr;\n\t__u32\t\tmax_send_sge;\n\t__u32\t\trdma_mr_max;\n\t__u32\t\trdma_mr_size;\n\t__u8\t\ttos;\n\t__u8\t\tsl;\n\t__u32\t\tcache_allocs;\n};\n\n \nenum rds_message_rxpath_latency {\n\tRDS_MSG_RX_HDR_TO_DGRAM_START = 0,\n\tRDS_MSG_RX_DGRAM_REASSEMBLE,\n\tRDS_MSG_RX_DGRAM_DELIVERED,\n\tRDS_MSG_RX_DGRAM_TRACE_MAX\n};\n\nstruct rds_rx_trace_so {\n\t__u8 rx_traces;\n\t__u8 rx_trace_pos[RDS_MSG_RX_DGRAM_TRACE_MAX];\n};\n\nstruct rds_cmsg_rx_trace {\n\t__u8 rx_traces;\n\t__u8 rx_trace_pos[RDS_MSG_RX_DGRAM_TRACE_MAX];\n\t__u64 rx_trace[RDS_MSG_RX_DGRAM_TRACE_MAX];\n};\n\n \n#define RDS_CONG_MONITOR_SIZE\t64\n#define RDS_CONG_MONITOR_BIT(port)  (((unsigned int) port) % RDS_CONG_MONITOR_SIZE)\n#define RDS_CONG_MONITOR_MASK(port) (1ULL << RDS_CONG_MONITOR_BIT(port))\n\n \n\n \ntypedef __u64\t\trds_rdma_cookie_t;\n\nstruct rds_iovec {\n\t__u64\t\taddr;\n\t__u64\t\tbytes;\n};\n\nstruct rds_get_mr_args {\n\tstruct rds_iovec vec;\n\t__u64\t\tcookie_addr;\n\t__u64\t\tflags;\n};\n\nstruct rds_get_mr_for_dest_args {\n\tstruct __kernel_sockaddr_storage dest_addr;\n\tstruct rds_iovec \tvec;\n\t__u64\t\t\tcookie_addr;\n\t__u64\t\t\tflags;\n};\n\nstruct rds_free_mr_args {\n\trds_rdma_cookie_t cookie;\n\t__u64\t\tflags;\n};\n\nstruct rds_rdma_args {\n\trds_rdma_cookie_t cookie;\n\tstruct rds_iovec remote_vec;\n\t__u64\t\tlocal_vec_addr;\n\t__u64\t\tnr_local;\n\t__u64\t\tflags;\n\t__u64\t\tuser_token;\n};\n\nstruct rds_atomic_args {\n\trds_rdma_cookie_t cookie;\n\t__u64\t\tlocal_addr;\n\t__u64\t\tremote_addr;\n\tunion {\n\t\tstruct {\n\t\t\t__u64\t\tcompare;\n\t\t\t__u64\t\tswap;\n\t\t} cswp;\n\t\tstruct {\n\t\t\t__u64\t\tadd;\n\t\t} fadd;\n\t\tstruct {\n\t\t\t__u64\t\tcompare;\n\t\t\t__u64\t\tswap;\n\t\t\t__u64\t\tcompare_mask;\n\t\t\t__u64\t\tswap_mask;\n\t\t} m_cswp;\n\t\tstruct {\n\t\t\t__u64\t\tadd;\n\t\t\t__u64\t\tnocarry_mask;\n\t\t} m_fadd;\n\t};\n\t__u64\t\tflags;\n\t__u64\t\tuser_token;\n};\n\nstruct rds_rdma_notify {\n\t__u64\t\tuser_token;\n\t__s32\t\tstatus;\n};\n\n#define RDS_RDMA_SUCCESS\t0\n#define RDS_RDMA_REMOTE_ERROR\t1\n#define RDS_RDMA_CANCELED\t2\n#define RDS_RDMA_DROPPED\t3\n#define RDS_RDMA_OTHER_ERROR\t4\n\n#define\tRDS_MAX_ZCOOKIES\t8\nstruct rds_zcopy_cookies {\n\t__u32 num;\n\t__u32 cookies[RDS_MAX_ZCOOKIES];\n};\n\n \n#define RDS_RDMA_READWRITE\t0x0001\n#define RDS_RDMA_FENCE\t\t0x0002\t \n#define RDS_RDMA_INVALIDATE\t0x0004\t \n#define RDS_RDMA_USE_ONCE\t0x0008\t \n#define RDS_RDMA_DONTWAIT\t0x0010\t \n#define RDS_RDMA_NOTIFY_ME\t0x0020\t \n#define RDS_RDMA_SILENT\t\t0x0040\t \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}