{
  "module_name": "iommufd.h",
  "hash_id": "c14666b8ab2883344f462d978b75a0fed5e6711cf8515c5724d80a8df5c9052d",
  "original_prompt": "Ingested from linux-6.6.14/include/uapi/linux/iommufd.h",
  "human_readable_source": " \n \n#ifndef _UAPI_IOMMUFD_H\n#define _UAPI_IOMMUFD_H\n\n#include <linux/types.h>\n#include <linux/ioctl.h>\n\n#define IOMMUFD_TYPE (';')\n\n \nenum {\n\tIOMMUFD_CMD_BASE = 0x80,\n\tIOMMUFD_CMD_DESTROY = IOMMUFD_CMD_BASE,\n\tIOMMUFD_CMD_IOAS_ALLOC,\n\tIOMMUFD_CMD_IOAS_ALLOW_IOVAS,\n\tIOMMUFD_CMD_IOAS_COPY,\n\tIOMMUFD_CMD_IOAS_IOVA_RANGES,\n\tIOMMUFD_CMD_IOAS_MAP,\n\tIOMMUFD_CMD_IOAS_UNMAP,\n\tIOMMUFD_CMD_OPTION,\n\tIOMMUFD_CMD_VFIO_IOAS,\n\tIOMMUFD_CMD_HWPT_ALLOC,\n\tIOMMUFD_CMD_GET_HW_INFO,\n};\n\n \nstruct iommu_destroy {\n\t__u32 size;\n\t__u32 id;\n};\n#define IOMMU_DESTROY _IO(IOMMUFD_TYPE, IOMMUFD_CMD_DESTROY)\n\n \nstruct iommu_ioas_alloc {\n\t__u32 size;\n\t__u32 flags;\n\t__u32 out_ioas_id;\n};\n#define IOMMU_IOAS_ALLOC _IO(IOMMUFD_TYPE, IOMMUFD_CMD_IOAS_ALLOC)\n\n \nstruct iommu_iova_range {\n\t__aligned_u64 start;\n\t__aligned_u64 last;\n};\n\n \nstruct iommu_ioas_iova_ranges {\n\t__u32 size;\n\t__u32 ioas_id;\n\t__u32 num_iovas;\n\t__u32 __reserved;\n\t__aligned_u64 allowed_iovas;\n\t__aligned_u64 out_iova_alignment;\n};\n#define IOMMU_IOAS_IOVA_RANGES _IO(IOMMUFD_TYPE, IOMMUFD_CMD_IOAS_IOVA_RANGES)\n\n \nstruct iommu_ioas_allow_iovas {\n\t__u32 size;\n\t__u32 ioas_id;\n\t__u32 num_iovas;\n\t__u32 __reserved;\n\t__aligned_u64 allowed_iovas;\n};\n#define IOMMU_IOAS_ALLOW_IOVAS _IO(IOMMUFD_TYPE, IOMMUFD_CMD_IOAS_ALLOW_IOVAS)\n\n \nenum iommufd_ioas_map_flags {\n\tIOMMU_IOAS_MAP_FIXED_IOVA = 1 << 0,\n\tIOMMU_IOAS_MAP_WRITEABLE = 1 << 1,\n\tIOMMU_IOAS_MAP_READABLE = 1 << 2,\n};\n\n \nstruct iommu_ioas_map {\n\t__u32 size;\n\t__u32 flags;\n\t__u32 ioas_id;\n\t__u32 __reserved;\n\t__aligned_u64 user_va;\n\t__aligned_u64 length;\n\t__aligned_u64 iova;\n};\n#define IOMMU_IOAS_MAP _IO(IOMMUFD_TYPE, IOMMUFD_CMD_IOAS_MAP)\n\n \nstruct iommu_ioas_copy {\n\t__u32 size;\n\t__u32 flags;\n\t__u32 dst_ioas_id;\n\t__u32 src_ioas_id;\n\t__aligned_u64 length;\n\t__aligned_u64 dst_iova;\n\t__aligned_u64 src_iova;\n};\n#define IOMMU_IOAS_COPY _IO(IOMMUFD_TYPE, IOMMUFD_CMD_IOAS_COPY)\n\n \nstruct iommu_ioas_unmap {\n\t__u32 size;\n\t__u32 ioas_id;\n\t__aligned_u64 iova;\n\t__aligned_u64 length;\n};\n#define IOMMU_IOAS_UNMAP _IO(IOMMUFD_TYPE, IOMMUFD_CMD_IOAS_UNMAP)\n\n \nenum iommufd_option {\n\tIOMMU_OPTION_RLIMIT_MODE = 0,\n\tIOMMU_OPTION_HUGE_PAGES = 1,\n};\n\n \nenum iommufd_option_ops {\n\tIOMMU_OPTION_OP_SET = 0,\n\tIOMMU_OPTION_OP_GET = 1,\n};\n\n \nstruct iommu_option {\n\t__u32 size;\n\t__u32 option_id;\n\t__u16 op;\n\t__u16 __reserved;\n\t__u32 object_id;\n\t__aligned_u64 val64;\n};\n#define IOMMU_OPTION _IO(IOMMUFD_TYPE, IOMMUFD_CMD_OPTION)\n\n \nenum iommufd_vfio_ioas_op {\n\tIOMMU_VFIO_IOAS_GET = 0,\n\tIOMMU_VFIO_IOAS_SET = 1,\n\tIOMMU_VFIO_IOAS_CLEAR = 2,\n};\n\n \nstruct iommu_vfio_ioas {\n\t__u32 size;\n\t__u32 ioas_id;\n\t__u16 op;\n\t__u16 __reserved;\n};\n#define IOMMU_VFIO_IOAS _IO(IOMMUFD_TYPE, IOMMUFD_CMD_VFIO_IOAS)\n\n \nstruct iommu_hwpt_alloc {\n\t__u32 size;\n\t__u32 flags;\n\t__u32 dev_id;\n\t__u32 pt_id;\n\t__u32 out_hwpt_id;\n\t__u32 __reserved;\n};\n#define IOMMU_HWPT_ALLOC _IO(IOMMUFD_TYPE, IOMMUFD_CMD_HWPT_ALLOC)\n\n \nstruct iommu_hw_info_vtd {\n\t__u32 flags;\n\t__u32 __reserved;\n\t__aligned_u64 cap_reg;\n\t__aligned_u64 ecap_reg;\n};\n\n \nenum iommu_hw_info_type {\n\tIOMMU_HW_INFO_TYPE_NONE,\n\tIOMMU_HW_INFO_TYPE_INTEL_VTD,\n};\n\n \nstruct iommu_hw_info {\n\t__u32 size;\n\t__u32 flags;\n\t__u32 dev_id;\n\t__u32 data_len;\n\t__aligned_u64 data_uptr;\n\t__u32 out_data_type;\n\t__u32 __reserved;\n};\n#define IOMMU_GET_HW_INFO _IO(IOMMUFD_TYPE, IOMMUFD_CMD_GET_HW_INFO)\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}