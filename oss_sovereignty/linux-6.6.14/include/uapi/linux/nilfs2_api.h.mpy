{
  "module_name": "nilfs2_api.h",
  "hash_id": "1a8fe7715f5d33c38a81075d2e16465c798f6cfd5f6833bbc375e5edcac8191b",
  "original_prompt": "Ingested from linux-6.6.14/include/uapi/linux/nilfs2_api.h",
  "human_readable_source": " \n \n\n#ifndef _LINUX_NILFS2_API_H\n#define _LINUX_NILFS2_API_H\n\n#include <linux/types.h>\n#include <linux/ioctl.h>\n\n \nstruct nilfs_cpinfo {\n\t__u32 ci_flags;\n\t__u32 ci_pad;\n\t__u64 ci_cno;\n\t__u64 ci_create;\n\t__u64 ci_nblk_inc;\n\t__u64 ci_inodes_count;\n\t__u64 ci_blocks_count;\n\t__u64 ci_next;\n};\n\n \nenum {\n\tNILFS_CPINFO_SNAPSHOT,\n\tNILFS_CPINFO_INVALID,\n\tNILFS_CPINFO_SKETCH,\n\tNILFS_CPINFO_MINOR,\n};\n\n#define NILFS_CPINFO_FNS(flag, name)\t\t\t\t\t\\\nstatic inline int\t\t\t\t\t\t\t\\\nnilfs_cpinfo_##name(const struct nilfs_cpinfo *cpinfo)\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\\\n\treturn !!(cpinfo->ci_flags & (1UL << NILFS_CPINFO_##flag));\t\\\n}\n\nNILFS_CPINFO_FNS(SNAPSHOT, snapshot)\nNILFS_CPINFO_FNS(INVALID, invalid)\nNILFS_CPINFO_FNS(MINOR, minor)\n\n \nstruct nilfs_suinfo {\n\t__u64 sui_lastmod;\n\t__u32 sui_nblocks;\n\t__u32 sui_flags;\n};\n\n \nenum {\n\tNILFS_SUINFO_ACTIVE,\n\tNILFS_SUINFO_DIRTY,\n\tNILFS_SUINFO_ERROR,\n};\n\n#define NILFS_SUINFO_FNS(flag, name)\t\t\t\t\t\\\nstatic inline int\t\t\t\t\t\t\t\\\nnilfs_suinfo_##name(const struct nilfs_suinfo *si)\t\t\t\\\n{\t\t\t\t\t\t\t\t\t\\\n\treturn si->sui_flags & (1UL << NILFS_SUINFO_##flag);\t\t\\\n}\n\nNILFS_SUINFO_FNS(ACTIVE, active)\nNILFS_SUINFO_FNS(DIRTY, dirty)\nNILFS_SUINFO_FNS(ERROR, error)\n\nstatic inline int nilfs_suinfo_clean(const struct nilfs_suinfo *si)\n{\n\treturn !si->sui_flags;\n}\n\n \nstruct nilfs_suinfo_update {\n\t__u64 sup_segnum;\n\t__u32 sup_flags;\n\t__u32 sup_reserved;\n\tstruct nilfs_suinfo sup_sui;\n};\n\nenum {\n\tNILFS_SUINFO_UPDATE_LASTMOD,\n\tNILFS_SUINFO_UPDATE_NBLOCKS,\n\tNILFS_SUINFO_UPDATE_FLAGS,\n\t__NR_NILFS_SUINFO_UPDATE_FIELDS,\n};\n\n#define NILFS_SUINFO_UPDATE_FNS(flag, name)\t\t\t\t\\\nstatic inline void\t\t\t\t\t\t\t\\\nnilfs_suinfo_update_set_##name(struct nilfs_suinfo_update *sup)\t\t\\\n{\t\t\t\t\t\t\t\t\t\\\n\tsup->sup_flags |= 1UL << NILFS_SUINFO_UPDATE_##flag;\t\t\\\n}\t\t\t\t\t\t\t\t\t\\\nstatic inline void\t\t\t\t\t\t\t\\\nnilfs_suinfo_update_clear_##name(struct nilfs_suinfo_update *sup)\t\\\n{\t\t\t\t\t\t\t\t\t\\\n\tsup->sup_flags &= ~(1UL << NILFS_SUINFO_UPDATE_##flag);\t\t\\\n}\t\t\t\t\t\t\t\t\t\\\nstatic inline int\t\t\t\t\t\t\t\\\nnilfs_suinfo_update_##name(const struct nilfs_suinfo_update *sup)\t\\\n{\t\t\t\t\t\t\t\t\t\\\n\treturn !!(sup->sup_flags & (1UL << NILFS_SUINFO_UPDATE_##flag));\\\n}\n\nNILFS_SUINFO_UPDATE_FNS(LASTMOD, lastmod)\nNILFS_SUINFO_UPDATE_FNS(NBLOCKS, nblocks)\nNILFS_SUINFO_UPDATE_FNS(FLAGS, flags)\n\nenum {\n\tNILFS_CHECKPOINT,\n\tNILFS_SNAPSHOT,\n};\n\n \nstruct nilfs_cpmode {\n\t__u64 cm_cno;\n\t__u32 cm_mode;\n\t__u32 cm_pad;\n};\n\n \nstruct nilfs_argv {\n\t__u64 v_base;\n\t__u32 v_nmembs;\t \n\t__u16 v_size;\t \n\t__u16 v_flags;\n\t__u64 v_index;\n};\n\n \nstruct nilfs_period {\n\t__u64 p_start;\n\t__u64 p_end;\n};\n\n \nstruct nilfs_cpstat {\n\t__u64 cs_cno;\n\t__u64 cs_ncps;\n\t__u64 cs_nsss;\n};\n\n \nstruct nilfs_sustat {\n\t__u64 ss_nsegs;\n\t__u64 ss_ncleansegs;\n\t__u64 ss_ndirtysegs;\n\t__u64 ss_ctime;\n\t__u64 ss_nongc_ctime;\n\t__u64 ss_prot_seq;\n};\n\n \nstruct nilfs_vinfo {\n\t__u64 vi_vblocknr;\n\t__u64 vi_start;\n\t__u64 vi_end;\n\t__u64 vi_blocknr;\n};\n\n \nstruct nilfs_vdesc {\n\t__u64 vd_ino;\n\t__u64 vd_cno;\n\t__u64 vd_vblocknr;\n\tstruct nilfs_period vd_period;\n\t__u64 vd_blocknr;\n\t__u64 vd_offset;\n\t__u32 vd_flags;\n\t__u32 vd_pad;\n};\n\n \nstruct nilfs_bdesc {\n\t__u64 bd_ino;\n\t__u64 bd_oblocknr;\n\t__u64 bd_blocknr;\n\t__u64 bd_offset;\n\t__u32 bd_level;\n\t__u32 bd_pad;\n};\n\n#define NILFS_IOCTL_IDENT\t'n'\n\n#define NILFS_IOCTL_CHANGE_CPMODE\t\t\t\t\t\\\n\t_IOW(NILFS_IOCTL_IDENT, 0x80, struct nilfs_cpmode)\n#define NILFS_IOCTL_DELETE_CHECKPOINT\t\t\t\t\t\\\n\t_IOW(NILFS_IOCTL_IDENT, 0x81, __u64)\n#define NILFS_IOCTL_GET_CPINFO\t\t\t\t\t\t\\\n\t_IOR(NILFS_IOCTL_IDENT, 0x82, struct nilfs_argv)\n#define NILFS_IOCTL_GET_CPSTAT\t\t\t\t\t\t\\\n\t_IOR(NILFS_IOCTL_IDENT, 0x83, struct nilfs_cpstat)\n#define NILFS_IOCTL_GET_SUINFO\t\t\t\t\t\t\\\n\t_IOR(NILFS_IOCTL_IDENT, 0x84, struct nilfs_argv)\n#define NILFS_IOCTL_GET_SUSTAT\t\t\t\t\t\t\\\n\t_IOR(NILFS_IOCTL_IDENT, 0x85, struct nilfs_sustat)\n#define NILFS_IOCTL_GET_VINFO\t\t\t\t\t\t\\\n\t_IOWR(NILFS_IOCTL_IDENT, 0x86, struct nilfs_argv)\n#define NILFS_IOCTL_GET_BDESCS\t\t\t\t\t\t\\\n\t_IOWR(NILFS_IOCTL_IDENT, 0x87, struct nilfs_argv)\n#define NILFS_IOCTL_CLEAN_SEGMENTS\t\t\t\t\t\\\n\t_IOW(NILFS_IOCTL_IDENT, 0x88, struct nilfs_argv[5])\n#define NILFS_IOCTL_SYNC\t\t\t\t\t\t\\\n\t_IOR(NILFS_IOCTL_IDENT, 0x8A, __u64)\n#define NILFS_IOCTL_RESIZE\t\t\t\t\t\t\\\n\t_IOW(NILFS_IOCTL_IDENT, 0x8B, __u64)\n#define NILFS_IOCTL_SET_ALLOC_RANGE\t\t\t\t\t\\\n\t_IOW(NILFS_IOCTL_IDENT, 0x8C, __u64[2])\n#define NILFS_IOCTL_SET_SUINFO\t\t\t\t\t\t\\\n\t_IOW(NILFS_IOCTL_IDENT, 0x8D, struct nilfs_argv)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}