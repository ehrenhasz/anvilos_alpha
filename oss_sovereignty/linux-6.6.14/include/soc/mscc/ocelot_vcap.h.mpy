{
  "module_name": "ocelot_vcap.h",
  "hash_id": "77eefed0f0e7f6ac643ccaacd3075e028d41e5bf70bd438066bf91e8bcf17c37",
  "original_prompt": "Ingested from linux-6.6.14/include/soc/mscc/ocelot_vcap.h",
  "human_readable_source": " \n\n#ifndef _OCELOT_VCAP_H_\n#define _OCELOT_VCAP_H_\n\n#include <soc/mscc/ocelot.h>\n\n \n#define OCELOT_VCAP_ES0_TAG_8021Q_RXVLAN(ocelot, port, upstream) ((upstream) << 16 | (port))\n#define OCELOT_VCAP_IS1_TAG_8021Q_TXVLAN(ocelot, port)\t\t(port)\n#define OCELOT_VCAP_IS2_TAG_8021Q_TXVLAN(ocelot, port)\t\t(port)\n#define OCELOT_VCAP_IS2_MRP_REDIRECT(ocelot, port)\t\t((ocelot)->num_phys_ports + (port))\n#define OCELOT_VCAP_IS2_MRP_TRAP(ocelot)\t\t\t((ocelot)->num_phys_ports * 2)\n#define OCELOT_VCAP_IS2_L2_PTP_TRAP(ocelot)\t\t\t((ocelot)->num_phys_ports * 2 + 1)\n#define OCELOT_VCAP_IS2_IPV4_GEN_PTP_TRAP(ocelot)\t\t((ocelot)->num_phys_ports * 2 + 2)\n#define OCELOT_VCAP_IS2_IPV4_EV_PTP_TRAP(ocelot)\t\t((ocelot)->num_phys_ports * 2 + 3)\n#define OCELOT_VCAP_IS2_IPV6_GEN_PTP_TRAP(ocelot)\t\t((ocelot)->num_phys_ports * 2 + 4)\n#define OCELOT_VCAP_IS2_IPV6_EV_PTP_TRAP(ocelot)\t\t((ocelot)->num_phys_ports * 2 + 5)\n\n \n\nenum {\n\tVCAP_ES0,\n\tVCAP_IS1,\n\tVCAP_IS2,\n\t__VCAP_COUNT,\n};\n\n#define OCELOT_NUM_VCAP_BLOCKS\t\t__VCAP_COUNT\n\nstruct vcap_props {\n\tu16 tg_width;  \n\tu16 sw_count;  \n\tu16 entry_count;  \n\tu16 entry_words;  \n\tu16 entry_width;  \n\tu16 action_count;  \n\tu16 action_words;  \n\tu16 action_width;  \n\tu16 action_type_width;  \n\tstruct {\n\t\tu16 width;  \n\t\tu16 count;  \n\t} action_table[2];\n\tu16 counter_words;  \n\tu16 counter_width;  \n\n\tenum ocelot_target\t\ttarget;\n\n\tconst struct vcap_field\t\t*keys;\n\tconst struct vcap_field\t\t*actions;\n};\n\n \n#define VCAP_TG_NONE 0  \n#define VCAP_TG_FULL 1  \n#define VCAP_TG_HALF 2  \n#define VCAP_TG_QUARTER 3  \n\n#define VCAP_CORE_UPDATE_CTRL_UPDATE_CMD(x)      (((x) << 22) & GENMASK(24, 22))\n#define VCAP_CORE_UPDATE_CTRL_UPDATE_CMD_M       GENMASK(24, 22)\n#define VCAP_CORE_UPDATE_CTRL_UPDATE_CMD_X(x)    (((x) & GENMASK(24, 22)) >> 22)\n#define VCAP_CORE_UPDATE_CTRL_UPDATE_ENTRY_DIS   BIT(21)\n#define VCAP_CORE_UPDATE_CTRL_UPDATE_ACTION_DIS  BIT(20)\n#define VCAP_CORE_UPDATE_CTRL_UPDATE_CNT_DIS     BIT(19)\n#define VCAP_CORE_UPDATE_CTRL_UPDATE_ADDR(x)     (((x) << 3) & GENMASK(18, 3))\n#define VCAP_CORE_UPDATE_CTRL_UPDATE_ADDR_M      GENMASK(18, 3)\n#define VCAP_CORE_UPDATE_CTRL_UPDATE_ADDR_X(x)   (((x) & GENMASK(18, 3)) >> 3)\n#define VCAP_CORE_UPDATE_CTRL_UPDATE_SHOT        BIT(2)\n#define VCAP_CORE_UPDATE_CTRL_CLEAR_CACHE        BIT(1)\n#define VCAP_CORE_UPDATE_CTRL_MV_TRAFFIC_IGN     BIT(0)\n\n#define VCAP_CORE_MV_CFG_MV_NUM_POS(x)           (((x) << 16) & GENMASK(31, 16))\n#define VCAP_CORE_MV_CFG_MV_NUM_POS_M            GENMASK(31, 16)\n#define VCAP_CORE_MV_CFG_MV_NUM_POS_X(x)         (((x) & GENMASK(31, 16)) >> 16)\n#define VCAP_CORE_MV_CFG_MV_SIZE(x)              ((x) & GENMASK(15, 0))\n#define VCAP_CORE_MV_CFG_MV_SIZE_M               GENMASK(15, 0)\n\n#define VCAP_CACHE_ENTRY_DAT_RSZ                 0x4\n\n#define VCAP_CACHE_MASK_DAT_RSZ                  0x4\n\n#define VCAP_CACHE_ACTION_DAT_RSZ                0x4\n\n#define VCAP_CACHE_CNT_DAT_RSZ                   0x4\n\n#define VCAP_STICKY_VCAP_ROW_DELETED_STICKY      BIT(0)\n\n#define TCAM_BIST_CTRL_TCAM_BIST                 BIT(1)\n#define TCAM_BIST_CTRL_TCAM_INIT                 BIT(0)\n\n#define TCAM_BIST_CFG_TCAM_BIST_SOE_ENA          BIT(8)\n#define TCAM_BIST_CFG_TCAM_HCG_DIS               BIT(7)\n#define TCAM_BIST_CFG_TCAM_CG_DIS                BIT(6)\n#define TCAM_BIST_CFG_TCAM_BIAS(x)               ((x) & GENMASK(5, 0))\n#define TCAM_BIST_CFG_TCAM_BIAS_M                GENMASK(5, 0)\n\n#define TCAM_BIST_STAT_BIST_RT_ERR               BIT(15)\n#define TCAM_BIST_STAT_BIST_PENC_ERR             BIT(14)\n#define TCAM_BIST_STAT_BIST_COMP_ERR             BIT(13)\n#define TCAM_BIST_STAT_BIST_ADDR_ERR             BIT(12)\n#define TCAM_BIST_STAT_BIST_BL1E_ERR             BIT(11)\n#define TCAM_BIST_STAT_BIST_BL1_ERR              BIT(10)\n#define TCAM_BIST_STAT_BIST_BL0E_ERR             BIT(9)\n#define TCAM_BIST_STAT_BIST_BL0_ERR              BIT(8)\n#define TCAM_BIST_STAT_BIST_PH1_ERR              BIT(7)\n#define TCAM_BIST_STAT_BIST_PH0_ERR              BIT(6)\n#define TCAM_BIST_STAT_BIST_PV1_ERR              BIT(5)\n#define TCAM_BIST_STAT_BIST_PV0_ERR              BIT(4)\n#define TCAM_BIST_STAT_BIST_RUN                  BIT(3)\n#define TCAM_BIST_STAT_BIST_ERR                  BIT(2)\n#define TCAM_BIST_STAT_BIST_BUSY                 BIT(1)\n#define TCAM_BIST_STAT_TCAM_RDY                  BIT(0)\n\n \n\n \n#define IS2_TYPE_ETYPE 0\n#define IS2_TYPE_LLC 1\n#define IS2_TYPE_SNAP 2\n#define IS2_TYPE_ARP 3\n#define IS2_TYPE_IP_UDP_TCP 4\n#define IS2_TYPE_IP_OTHER 5\n#define IS2_TYPE_IPV6 6\n#define IS2_TYPE_OAM 7\n#define IS2_TYPE_SMAC_SIP6 8\n#define IS2_TYPE_ANY 100  \n\n \n#define IS2_TYPE_MASK_IP_ANY 0xe\n\nenum {\n\tIS2_ACTION_TYPE_NORMAL,\n\tIS2_ACTION_TYPE_SMAC_SIP,\n\tIS2_ACTION_TYPE_MAX,\n};\n\n \n#define IS2_ACT_MASK_MODE_NONE 0\n#define IS2_ACT_MASK_MODE_FILTER 1\n#define IS2_ACT_MASK_MODE_POLICY 2\n#define IS2_ACT_MASK_MODE_REDIR 3\n\n \n#define IS2_ACT_REW_OP_NONE 0\n#define IS2_ACT_REW_OP_PTP_ONE 2\n#define IS2_ACT_REW_OP_PTP_TWO 3\n#define IS2_ACT_REW_OP_SPECIAL 8\n#define IS2_ACT_REW_OP_PTP_ORG 9\n#define IS2_ACT_REW_OP_PTP_ONE_SUB_DELAY_1 (IS2_ACT_REW_OP_PTP_ONE | (1 << 3))\n#define IS2_ACT_REW_OP_PTP_ONE_SUB_DELAY_2 (IS2_ACT_REW_OP_PTP_ONE | (2 << 3))\n#define IS2_ACT_REW_OP_PTP_ONE_ADD_DELAY (IS2_ACT_REW_OP_PTP_ONE | (1 << 5))\n#define IS2_ACT_REW_OP_PTP_ONE_ADD_SUB BIT(7)\n\n#define VCAP_PORT_WIDTH 4\n\n \n#define IS2_QKO_IGR_PORT 0\n#define IS2_QKL_IGR_PORT VCAP_PORT_WIDTH\n#define IS2_QKO_L2_SMAC (IS2_QKO_IGR_PORT + IS2_QKL_IGR_PORT)\n#define IS2_QKL_L2_SMAC 48\n#define IS2_QKO_L3_IP4_SIP (IS2_QKO_L2_SMAC + IS2_QKL_L2_SMAC)\n#define IS2_QKL_L3_IP4_SIP 32\n\nenum vcap_is2_half_key_field {\n\t \n\tVCAP_IS2_TYPE,\n\tVCAP_IS2_HK_FIRST,\n\tVCAP_IS2_HK_PAG,\n\tVCAP_IS2_HK_RSV1,\n\tVCAP_IS2_HK_IGR_PORT_MASK,\n\tVCAP_IS2_HK_RSV2,\n\tVCAP_IS2_HK_HOST_MATCH,\n\tVCAP_IS2_HK_L2_MC,\n\tVCAP_IS2_HK_L2_BC,\n\tVCAP_IS2_HK_VLAN_TAGGED,\n\tVCAP_IS2_HK_VID,\n\tVCAP_IS2_HK_DEI,\n\tVCAP_IS2_HK_PCP,\n\t \n\tVCAP_IS2_HK_L2_DMAC,\n\tVCAP_IS2_HK_L2_SMAC,\n\t \n\tVCAP_IS2_HK_MAC_ETYPE_ETYPE,\n\tVCAP_IS2_HK_MAC_ETYPE_L2_PAYLOAD0,\n\tVCAP_IS2_HK_MAC_ETYPE_L2_PAYLOAD1,\n\tVCAP_IS2_HK_MAC_ETYPE_L2_PAYLOAD2,\n\t \n\tVCAP_IS2_HK_MAC_LLC_DMAC,\n\tVCAP_IS2_HK_MAC_LLC_SMAC,\n\tVCAP_IS2_HK_MAC_LLC_L2_LLC,\n\t \n\tVCAP_IS2_HK_MAC_SNAP_SMAC,\n\tVCAP_IS2_HK_MAC_SNAP_DMAC,\n\tVCAP_IS2_HK_MAC_SNAP_L2_SNAP,\n\t \n\tVCAP_IS2_HK_MAC_ARP_SMAC,\n\tVCAP_IS2_HK_MAC_ARP_ADDR_SPACE_OK,\n\tVCAP_IS2_HK_MAC_ARP_PROTO_SPACE_OK,\n\tVCAP_IS2_HK_MAC_ARP_LEN_OK,\n\tVCAP_IS2_HK_MAC_ARP_TARGET_MATCH,\n\tVCAP_IS2_HK_MAC_ARP_SENDER_MATCH,\n\tVCAP_IS2_HK_MAC_ARP_OPCODE_UNKNOWN,\n\tVCAP_IS2_HK_MAC_ARP_OPCODE,\n\tVCAP_IS2_HK_MAC_ARP_L3_IP4_DIP,\n\tVCAP_IS2_HK_MAC_ARP_L3_IP4_SIP,\n\tVCAP_IS2_HK_MAC_ARP_DIP_EQ_SIP,\n\t \n\tVCAP_IS2_HK_IP4,\n\tVCAP_IS2_HK_L3_FRAGMENT,\n\tVCAP_IS2_HK_L3_FRAG_OFS_GT0,\n\tVCAP_IS2_HK_L3_OPTIONS,\n\tVCAP_IS2_HK_IP4_L3_TTL_GT0,\n\tVCAP_IS2_HK_L3_TOS,\n\tVCAP_IS2_HK_L3_IP4_DIP,\n\tVCAP_IS2_HK_L3_IP4_SIP,\n\tVCAP_IS2_HK_DIP_EQ_SIP,\n\t \n\tVCAP_IS2_HK_TCP,\n\tVCAP_IS2_HK_L4_SPORT,\n\tVCAP_IS2_HK_L4_DPORT,\n\tVCAP_IS2_HK_L4_RNG,\n\tVCAP_IS2_HK_L4_SPORT_EQ_DPORT,\n\tVCAP_IS2_HK_L4_SEQUENCE_EQ0,\n\tVCAP_IS2_HK_L4_URG,\n\tVCAP_IS2_HK_L4_ACK,\n\tVCAP_IS2_HK_L4_PSH,\n\tVCAP_IS2_HK_L4_RST,\n\tVCAP_IS2_HK_L4_SYN,\n\tVCAP_IS2_HK_L4_FIN,\n\tVCAP_IS2_HK_L4_1588_DOM,\n\tVCAP_IS2_HK_L4_1588_VER,\n\t \n\tVCAP_IS2_HK_IP4_L3_PROTO,\n\tVCAP_IS2_HK_L3_PAYLOAD,\n\t \n\tVCAP_IS2_HK_IP6_L3_TTL_GT0,\n\tVCAP_IS2_HK_IP6_L3_PROTO,\n\tVCAP_IS2_HK_L3_IP6_SIP,\n\t \n\tVCAP_IS2_HK_OAM_MEL_FLAGS,\n\tVCAP_IS2_HK_OAM_VER,\n\tVCAP_IS2_HK_OAM_OPCODE,\n\tVCAP_IS2_HK_OAM_FLAGS,\n\tVCAP_IS2_HK_OAM_MEPID,\n\tVCAP_IS2_HK_OAM_CCM_CNTS_EQ0,\n\tVCAP_IS2_HK_OAM_IS_Y1731,\n};\n\nstruct vcap_field {\n\tint offset;\n\tint length;\n};\n\nenum vcap_is2_action_field {\n\tVCAP_IS2_ACT_HIT_ME_ONCE,\n\tVCAP_IS2_ACT_CPU_COPY_ENA,\n\tVCAP_IS2_ACT_CPU_QU_NUM,\n\tVCAP_IS2_ACT_MASK_MODE,\n\tVCAP_IS2_ACT_MIRROR_ENA,\n\tVCAP_IS2_ACT_LRN_DIS,\n\tVCAP_IS2_ACT_POLICE_ENA,\n\tVCAP_IS2_ACT_POLICE_IDX,\n\tVCAP_IS2_ACT_POLICE_VCAP_ONLY,\n\tVCAP_IS2_ACT_PORT_MASK,\n\tVCAP_IS2_ACT_REW_OP,\n\tVCAP_IS2_ACT_SMAC_REPLACE_ENA,\n\tVCAP_IS2_ACT_RSV,\n\tVCAP_IS2_ACT_ACL_ID,\n\tVCAP_IS2_ACT_HIT_CNT,\n};\n\n \n\n \n#define IS1_TYPE_S1_NORMAL 0\n#define IS1_TYPE_S1_5TUPLE_IP4 1\n\n \n#define IS1_TYPE_S1_NORMAL_IP6 0\n#define IS1_TYPE_S1_7TUPLE 1\n#define IS2_TYPE_S1_5TUPLE_IP6 2\n\nenum {\n\tIS1_ACTION_TYPE_NORMAL,\n\tIS1_ACTION_TYPE_MAX,\n};\n\nenum vcap_is1_half_key_field {\n\tVCAP_IS1_HK_TYPE,\n\tVCAP_IS1_HK_LOOKUP,\n\tVCAP_IS1_HK_IGR_PORT_MASK,\n\tVCAP_IS1_HK_RSV,\n\tVCAP_IS1_HK_OAM_Y1731,\n\tVCAP_IS1_HK_L2_MC,\n\tVCAP_IS1_HK_L2_BC,\n\tVCAP_IS1_HK_IP_MC,\n\tVCAP_IS1_HK_VLAN_TAGGED,\n\tVCAP_IS1_HK_VLAN_DBL_TAGGED,\n\tVCAP_IS1_HK_TPID,\n\tVCAP_IS1_HK_VID,\n\tVCAP_IS1_HK_DEI,\n\tVCAP_IS1_HK_PCP,\n\t \n\tVCAP_IS1_HK_L2_SMAC,\n\tVCAP_IS1_HK_ETYPE_LEN,\n\tVCAP_IS1_HK_ETYPE,\n\tVCAP_IS1_HK_IP_SNAP,\n\tVCAP_IS1_HK_IP4,\n\tVCAP_IS1_HK_L3_FRAGMENT,\n\tVCAP_IS1_HK_L3_FRAG_OFS_GT0,\n\tVCAP_IS1_HK_L3_OPTIONS,\n\tVCAP_IS1_HK_L3_DSCP,\n\tVCAP_IS1_HK_L3_IP4_SIP,\n\tVCAP_IS1_HK_TCP_UDP,\n\tVCAP_IS1_HK_TCP,\n\tVCAP_IS1_HK_L4_SPORT,\n\tVCAP_IS1_HK_L4_RNG,\n\t \n\tVCAP_IS1_HK_IP4_INNER_TPID,\n\tVCAP_IS1_HK_IP4_INNER_VID,\n\tVCAP_IS1_HK_IP4_INNER_DEI,\n\tVCAP_IS1_HK_IP4_INNER_PCP,\n\tVCAP_IS1_HK_IP4_IP4,\n\tVCAP_IS1_HK_IP4_L3_FRAGMENT,\n\tVCAP_IS1_HK_IP4_L3_FRAG_OFS_GT0,\n\tVCAP_IS1_HK_IP4_L3_OPTIONS,\n\tVCAP_IS1_HK_IP4_L3_DSCP,\n\tVCAP_IS1_HK_IP4_L3_IP4_DIP,\n\tVCAP_IS1_HK_IP4_L3_IP4_SIP,\n\tVCAP_IS1_HK_IP4_L3_PROTO,\n\tVCAP_IS1_HK_IP4_TCP_UDP,\n\tVCAP_IS1_HK_IP4_TCP,\n\tVCAP_IS1_HK_IP4_L4_RNG,\n\tVCAP_IS1_HK_IP4_IP_PAYLOAD_S1_5TUPLE,\n};\n\nenum vcap_is1_action_field {\n\tVCAP_IS1_ACT_DSCP_ENA,\n\tVCAP_IS1_ACT_DSCP_VAL,\n\tVCAP_IS1_ACT_QOS_ENA,\n\tVCAP_IS1_ACT_QOS_VAL,\n\tVCAP_IS1_ACT_DP_ENA,\n\tVCAP_IS1_ACT_DP_VAL,\n\tVCAP_IS1_ACT_PAG_OVERRIDE_MASK,\n\tVCAP_IS1_ACT_PAG_VAL,\n\tVCAP_IS1_ACT_RSV,\n\tVCAP_IS1_ACT_VID_REPLACE_ENA,\n\tVCAP_IS1_ACT_VID_ADD_VAL,\n\tVCAP_IS1_ACT_FID_SEL,\n\tVCAP_IS1_ACT_FID_VAL,\n\tVCAP_IS1_ACT_PCP_DEI_ENA,\n\tVCAP_IS1_ACT_PCP_VAL,\n\tVCAP_IS1_ACT_DEI_VAL,\n\tVCAP_IS1_ACT_VLAN_POP_CNT_ENA,\n\tVCAP_IS1_ACT_VLAN_POP_CNT,\n\tVCAP_IS1_ACT_CUSTOM_ACE_TYPE_ENA,\n\tVCAP_IS1_ACT_HIT_STICKY,\n};\n\n \n\nenum {\n\tES0_ACTION_TYPE_NORMAL,\n\tES0_ACTION_TYPE_MAX,\n};\n\nenum vcap_es0_key_field {\n\tVCAP_ES0_EGR_PORT,\n\tVCAP_ES0_IGR_PORT,\n\tVCAP_ES0_RSV,\n\tVCAP_ES0_L2_MC,\n\tVCAP_ES0_L2_BC,\n\tVCAP_ES0_VID,\n\tVCAP_ES0_DP,\n\tVCAP_ES0_PCP,\n};\n\nenum vcap_es0_action_field {\n\tVCAP_ES0_ACT_PUSH_OUTER_TAG,\n\tVCAP_ES0_ACT_PUSH_INNER_TAG,\n\tVCAP_ES0_ACT_TAG_A_TPID_SEL,\n\tVCAP_ES0_ACT_TAG_A_VID_SEL,\n\tVCAP_ES0_ACT_TAG_A_PCP_SEL,\n\tVCAP_ES0_ACT_TAG_A_DEI_SEL,\n\tVCAP_ES0_ACT_TAG_B_TPID_SEL,\n\tVCAP_ES0_ACT_TAG_B_VID_SEL,\n\tVCAP_ES0_ACT_TAG_B_PCP_SEL,\n\tVCAP_ES0_ACT_TAG_B_DEI_SEL,\n\tVCAP_ES0_ACT_VID_A_VAL,\n\tVCAP_ES0_ACT_PCP_A_VAL,\n\tVCAP_ES0_ACT_DEI_A_VAL,\n\tVCAP_ES0_ACT_VID_B_VAL,\n\tVCAP_ES0_ACT_PCP_B_VAL,\n\tVCAP_ES0_ACT_DEI_B_VAL,\n\tVCAP_ES0_ACT_RSV,\n\tVCAP_ES0_ACT_HIT_STICKY,\n};\n\nstruct ocelot_ipv4 {\n\tu8 addr[4];\n};\n\nenum ocelot_vcap_bit {\n\tOCELOT_VCAP_BIT_ANY,\n\tOCELOT_VCAP_BIT_0,\n\tOCELOT_VCAP_BIT_1\n};\n\nstruct ocelot_vcap_u8 {\n\tu8 value[1];\n\tu8 mask[1];\n};\n\nstruct ocelot_vcap_u16 {\n\tu8 value[2];\n\tu8 mask[2];\n};\n\nstruct ocelot_vcap_u24 {\n\tu8 value[3];\n\tu8 mask[3];\n};\n\nstruct ocelot_vcap_u32 {\n\tu8 value[4];\n\tu8 mask[4];\n};\n\nstruct ocelot_vcap_u40 {\n\tu8 value[5];\n\tu8 mask[5];\n};\n\nstruct ocelot_vcap_u48 {\n\tu8 value[6];\n\tu8 mask[6];\n};\n\nstruct ocelot_vcap_u64 {\n\tu8 value[8];\n\tu8 mask[8];\n};\n\nstruct ocelot_vcap_u128 {\n\tu8 value[16];\n\tu8 mask[16];\n};\n\nstruct ocelot_vcap_vid {\n\tu16 value;\n\tu16 mask;\n};\n\nstruct ocelot_vcap_ipv4 {\n\tstruct ocelot_ipv4 value;\n\tstruct ocelot_ipv4 mask;\n};\n\nstruct ocelot_vcap_udp_tcp {\n\tu16 value;\n\tu16 mask;\n};\n\nstruct ocelot_vcap_port {\n\tu8 value;\n\tu8 mask;\n};\n\nenum ocelot_vcap_key_type {\n\tOCELOT_VCAP_KEY_ANY,\n\tOCELOT_VCAP_KEY_ETYPE,\n\tOCELOT_VCAP_KEY_LLC,\n\tOCELOT_VCAP_KEY_SNAP,\n\tOCELOT_VCAP_KEY_ARP,\n\tOCELOT_VCAP_KEY_IPV4,\n\tOCELOT_VCAP_KEY_IPV6\n};\n\nstruct ocelot_vcap_key_vlan {\n\tstruct ocelot_vcap_vid vid;     \n\tstruct ocelot_vcap_u8  pcp;     \n\tenum ocelot_vcap_bit dei;     \n\tenum ocelot_vcap_bit tagged;  \n};\n\nstruct ocelot_vcap_key_etype {\n\tstruct ocelot_vcap_u48 dmac;\n\tstruct ocelot_vcap_u48 smac;\n\tstruct ocelot_vcap_u16 etype;\n\tstruct ocelot_vcap_u16 data;  \n};\n\nstruct ocelot_vcap_key_llc {\n\tstruct ocelot_vcap_u48 dmac;\n\tstruct ocelot_vcap_u48 smac;\n\n\t \n\tstruct ocelot_vcap_u32 llc;\n};\n\nstruct ocelot_vcap_key_snap {\n\tstruct ocelot_vcap_u48 dmac;\n\tstruct ocelot_vcap_u48 smac;\n\n\t \n\tstruct ocelot_vcap_u40 snap;\n};\n\nstruct ocelot_vcap_key_arp {\n\tstruct ocelot_vcap_u48 smac;\n\tenum ocelot_vcap_bit arp;\t \n\tenum ocelot_vcap_bit req;\t \n\tenum ocelot_vcap_bit unknown;     \n\tenum ocelot_vcap_bit smac_match;  \n\tenum ocelot_vcap_bit dmac_match;  \n\n\t \n\tenum ocelot_vcap_bit length;\n\n\tenum ocelot_vcap_bit ip;        \n\tenum  ocelot_vcap_bit ethernet;  \n\tstruct ocelot_vcap_ipv4 sip;      \n\tstruct ocelot_vcap_ipv4 dip;      \n};\n\nstruct ocelot_vcap_key_ipv4 {\n\tenum ocelot_vcap_bit ttl;       \n\tenum ocelot_vcap_bit fragment;  \n\tenum ocelot_vcap_bit options;   \n\tstruct ocelot_vcap_u8 ds;\n\tstruct ocelot_vcap_u8 proto;       \n\tstruct ocelot_vcap_ipv4 sip;       \n\tstruct ocelot_vcap_ipv4 dip;       \n\tstruct ocelot_vcap_u48 data;       \n\tstruct ocelot_vcap_udp_tcp sport;  \n\tstruct ocelot_vcap_udp_tcp dport;  \n\tenum ocelot_vcap_bit tcp_fin;\n\tenum ocelot_vcap_bit tcp_syn;\n\tenum ocelot_vcap_bit tcp_rst;\n\tenum ocelot_vcap_bit tcp_psh;\n\tenum ocelot_vcap_bit tcp_ack;\n\tenum ocelot_vcap_bit tcp_urg;\n\tenum ocelot_vcap_bit sip_eq_dip;      \n\tenum ocelot_vcap_bit sport_eq_dport;  \n\tenum ocelot_vcap_bit seq_zero;        \n};\n\nstruct ocelot_vcap_key_ipv6 {\n\tstruct ocelot_vcap_u8 proto;  \n\tstruct ocelot_vcap_u128 sip;  \n\tstruct ocelot_vcap_u128 dip;  \n\tenum ocelot_vcap_bit ttl;   \n\tstruct ocelot_vcap_u8 ds;\n\tstruct ocelot_vcap_u48 data;  \n\tstruct ocelot_vcap_udp_tcp sport;\n\tstruct ocelot_vcap_udp_tcp dport;\n\tenum ocelot_vcap_bit tcp_fin;\n\tenum ocelot_vcap_bit tcp_syn;\n\tenum ocelot_vcap_bit tcp_rst;\n\tenum ocelot_vcap_bit tcp_psh;\n\tenum ocelot_vcap_bit tcp_ack;\n\tenum ocelot_vcap_bit tcp_urg;\n\tenum ocelot_vcap_bit sip_eq_dip;      \n\tenum ocelot_vcap_bit sport_eq_dport;  \n\tenum ocelot_vcap_bit seq_zero;        \n};\n\nenum ocelot_mask_mode {\n\tOCELOT_MASK_MODE_NONE,\n\tOCELOT_MASK_MODE_PERMIT_DENY,\n\tOCELOT_MASK_MODE_POLICY,\n\tOCELOT_MASK_MODE_REDIRECT,\n};\n\nenum ocelot_es0_vid_sel {\n\tOCELOT_ES0_VID_PLUS_CLASSIFIED_VID = 0,\n\tOCELOT_ES0_VID = 1,\n};\n\nenum ocelot_es0_pcp_sel {\n\tOCELOT_CLASSIFIED_PCP = 0,\n\tOCELOT_ES0_PCP = 1,\n};\n\nenum ocelot_es0_tag {\n\tOCELOT_NO_ES0_TAG,\n\tOCELOT_ES0_TAG,\n\tOCELOT_FORCE_PORT_TAG,\n\tOCELOT_FORCE_UNTAG,\n};\n\nenum ocelot_tag_tpid_sel {\n\tOCELOT_TAG_TPID_SEL_8021Q,\n\tOCELOT_TAG_TPID_SEL_8021AD,\n};\n\nstruct ocelot_vcap_action {\n\tunion {\n\t\t \n\t\tstruct {\n\t\t\tenum ocelot_es0_tag push_outer_tag;\n\t\t\tenum ocelot_es0_tag push_inner_tag;\n\t\t\tenum ocelot_tag_tpid_sel tag_a_tpid_sel;\n\t\t\tint tag_a_vid_sel;\n\t\t\tint tag_a_pcp_sel;\n\t\t\tu16 vid_a_val;\n\t\t\tu8 pcp_a_val;\n\t\t\tu8 dei_a_val;\n\t\t\tenum ocelot_tag_tpid_sel tag_b_tpid_sel;\n\t\t\tint tag_b_vid_sel;\n\t\t\tint tag_b_pcp_sel;\n\t\t\tu16 vid_b_val;\n\t\t\tu8 pcp_b_val;\n\t\t\tu8 dei_b_val;\n\t\t};\n\n\t\t \n\t\tstruct {\n\t\t\tbool vid_replace_ena;\n\t\t\tu16 vid;\n\t\t\tbool vlan_pop_cnt_ena;\n\t\t\tint vlan_pop_cnt;\n\t\t\tbool pcp_dei_ena;\n\t\t\tu8 pcp;\n\t\t\tu8 dei;\n\t\t\tbool qos_ena;\n\t\t\tu8 qos_val;\n\t\t\tu8 pag_override_mask;\n\t\t\tu8 pag_val;\n\t\t};\n\n\t\t \n\t\tstruct {\n\t\t\tbool cpu_copy_ena;\n\t\t\tu8 cpu_qu_num;\n\t\t\tenum ocelot_mask_mode mask_mode;\n\t\t\tunsigned long port_mask;\n\t\t\tbool police_ena;\n\t\t\tbool mirror_ena;\n\t\t\tstruct ocelot_policer pol;\n\t\t\tu32 pol_ix;\n\t\t};\n\t};\n};\n\nstruct ocelot_vcap_stats {\n\tu64 bytes;\n\tu64 pkts;\n\tu64 used;\n};\n\nenum ocelot_vcap_filter_type {\n\tOCELOT_VCAP_FILTER_DUMMY,\n\tOCELOT_VCAP_FILTER_PAG,\n\tOCELOT_VCAP_FILTER_OFFLOAD,\n\tOCELOT_PSFP_FILTER_OFFLOAD,\n};\n\nstruct ocelot_vcap_id {\n\tunsigned long cookie;\n\tbool tc_offload;\n};\n\nstruct ocelot_vcap_filter {\n\tstruct list_head list;\n\n\tenum ocelot_vcap_filter_type type;\n\tint block_id;\n\tint goto_target;\n\tint lookup;\n\tu8 pag;\n\tu16 prio;\n\tstruct ocelot_vcap_id id;\n\n\tstruct ocelot_vcap_action action;\n\tstruct ocelot_vcap_stats stats;\n\t \n\tbool take_ts;\n\tbool is_trap;\n\tunsigned long ingress_port_mask;\n\t \n\tstruct ocelot_vcap_port ingress_port;\n\t \n\tstruct ocelot_vcap_port egress_port;\n\n\tenum ocelot_vcap_bit dmac_mc;\n\tenum ocelot_vcap_bit dmac_bc;\n\tstruct ocelot_vcap_key_vlan vlan;\n\n\tenum ocelot_vcap_key_type key_type;\n\tunion {\n\t\t \n\t\tstruct ocelot_vcap_key_etype etype;\n\t\tstruct ocelot_vcap_key_llc llc;\n\t\tstruct ocelot_vcap_key_snap snap;\n\t\tstruct ocelot_vcap_key_arp arp;\n\t\tstruct ocelot_vcap_key_ipv4 ipv4;\n\t\tstruct ocelot_vcap_key_ipv6 ipv6;\n\t} key;\n};\n\nint ocelot_vcap_filter_add(struct ocelot *ocelot,\n\t\t\t   struct ocelot_vcap_filter *rule,\n\t\t\t   struct netlink_ext_ack *extack);\nint ocelot_vcap_filter_del(struct ocelot *ocelot,\n\t\t\t   struct ocelot_vcap_filter *rule);\nint ocelot_vcap_filter_replace(struct ocelot *ocelot,\n\t\t\t       struct ocelot_vcap_filter *filter);\nstruct ocelot_vcap_filter *\nocelot_vcap_block_find_filter_by_id(struct ocelot_vcap_block *block,\n\t\t\t\t    unsigned long cookie, bool tc_offload);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}