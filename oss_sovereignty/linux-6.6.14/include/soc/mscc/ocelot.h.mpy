{
  "module_name": "ocelot.h",
  "hash_id": "5ff48fdc3897637d40ead3169fa5969bc0e42e75726d79cbc87f3c46c7268f28",
  "original_prompt": "Ingested from linux-6.6.14/include/soc/mscc/ocelot.h",
  "human_readable_source": " \n \n\n#ifndef _SOC_MSCC_OCELOT_H\n#define _SOC_MSCC_OCELOT_H\n\n#include <linux/ptp_clock_kernel.h>\n#include <linux/net_tstamp.h>\n#include <linux/if_vlan.h>\n#include <linux/regmap.h>\n#include <net/dsa.h>\n\nstruct tc_mqprio_qopt_offload;\n\n \n\n \n#define PGID_BLACKHOLE\t\t\t57\n#define PGID_CPU\t\t\t58\n#define PGID_UC\t\t\t\t59\n#define PGID_MC\t\t\t\t60\n#define PGID_MCIPV4\t\t\t61\n#define PGID_MCIPV6\t\t\t62\n#define PGID_BC\t\t\t\t63\n\n#define for_each_unicast_dest_pgid(ocelot, pgid)\t\t\\\n\tfor ((pgid) = 0;\t\t\t\t\t\\\n\t     (pgid) < (ocelot)->num_phys_ports;\t\t\t\\\n\t     (pgid)++)\n\n#define for_each_nonreserved_multicast_dest_pgid(ocelot, pgid)\t\\\n\tfor ((pgid) = (ocelot)->num_phys_ports + 1;\t\t\\\n\t     (pgid) < PGID_BLACKHOLE;\t\t\t\t\\\n\t     (pgid)++)\n\n#define for_each_aggr_pgid(ocelot, pgid)\t\t\t\\\n\tfor ((pgid) = PGID_AGGR;\t\t\t\t\\\n\t     (pgid) < PGID_SRC;\t\t\t\t\t\\\n\t     (pgid)++)\n\n \n#define PGID_AGGR\t\t\t64\n\n \n#define PGID_SRC\t\t\t80\n\n#define OCELOT_NUM_TC\t\t\t8\n\n#define OCELOT_SPEED_2500\t\t0\n#define OCELOT_SPEED_1000\t\t1\n#define OCELOT_SPEED_100\t\t2\n#define OCELOT_SPEED_10\t\t\t3\n\n#define OCELOT_PTP_PINS_NUM\t\t4\n\n#define TARGET_OFFSET\t\t\t24\n#define REG_MASK\t\t\tGENMASK(TARGET_OFFSET - 1, 0)\n#define REG(reg, offset)\t\t[reg & REG_MASK] = offset\n\n#define REG_RESERVED_ADDR\t\t0xffffffff\n#define REG_RESERVED(reg)\t\tREG(reg, REG_RESERVED_ADDR)\n\nenum ocelot_target {\n\tANA = 1,\n\tQS,\n\tQSYS,\n\tREW,\n\tSYS,\n\tS0,\n\tS1,\n\tS2,\n\tHSIO,\n\tPTP,\n\tFDMA,\n\tGCB,\n\tDEV_GMII,\n\tTARGET_MAX,\n};\n\nenum ocelot_reg {\n\tANA_ADVLEARN = ANA << TARGET_OFFSET,\n\tANA_VLANMASK,\n\tANA_PORT_B_DOMAIN,\n\tANA_ANAGEFIL,\n\tANA_ANEVENTS,\n\tANA_STORMLIMIT_BURST,\n\tANA_STORMLIMIT_CFG,\n\tANA_ISOLATED_PORTS,\n\tANA_COMMUNITY_PORTS,\n\tANA_AUTOAGE,\n\tANA_MACTOPTIONS,\n\tANA_LEARNDISC,\n\tANA_AGENCTRL,\n\tANA_MIRRORPORTS,\n\tANA_EMIRRORPORTS,\n\tANA_FLOODING,\n\tANA_FLOODING_IPMC,\n\tANA_SFLOW_CFG,\n\tANA_PORT_MODE,\n\tANA_CUT_THRU_CFG,\n\tANA_PGID_PGID,\n\tANA_TABLES_ANMOVED,\n\tANA_TABLES_MACHDATA,\n\tANA_TABLES_MACLDATA,\n\tANA_TABLES_STREAMDATA,\n\tANA_TABLES_MACACCESS,\n\tANA_TABLES_MACTINDX,\n\tANA_TABLES_VLANACCESS,\n\tANA_TABLES_VLANTIDX,\n\tANA_TABLES_ISDXACCESS,\n\tANA_TABLES_ISDXTIDX,\n\tANA_TABLES_ENTRYLIM,\n\tANA_TABLES_PTP_ID_HIGH,\n\tANA_TABLES_PTP_ID_LOW,\n\tANA_TABLES_STREAMACCESS,\n\tANA_TABLES_STREAMTIDX,\n\tANA_TABLES_SEQ_HISTORY,\n\tANA_TABLES_SEQ_MASK,\n\tANA_TABLES_SFID_MASK,\n\tANA_TABLES_SFIDACCESS,\n\tANA_TABLES_SFIDTIDX,\n\tANA_MSTI_STATE,\n\tANA_OAM_UPM_LM_CNT,\n\tANA_SG_ACCESS_CTRL,\n\tANA_SG_CONFIG_REG_1,\n\tANA_SG_CONFIG_REG_2,\n\tANA_SG_CONFIG_REG_3,\n\tANA_SG_CONFIG_REG_4,\n\tANA_SG_CONFIG_REG_5,\n\tANA_SG_GCL_GS_CONFIG,\n\tANA_SG_GCL_TI_CONFIG,\n\tANA_SG_STATUS_REG_1,\n\tANA_SG_STATUS_REG_2,\n\tANA_SG_STATUS_REG_3,\n\tANA_PORT_VLAN_CFG,\n\tANA_PORT_DROP_CFG,\n\tANA_PORT_QOS_CFG,\n\tANA_PORT_VCAP_CFG,\n\tANA_PORT_VCAP_S1_KEY_CFG,\n\tANA_PORT_VCAP_S2_CFG,\n\tANA_PORT_PCP_DEI_MAP,\n\tANA_PORT_CPU_FWD_CFG,\n\tANA_PORT_CPU_FWD_BPDU_CFG,\n\tANA_PORT_CPU_FWD_GARP_CFG,\n\tANA_PORT_CPU_FWD_CCM_CFG,\n\tANA_PORT_PORT_CFG,\n\tANA_PORT_POL_CFG,\n\tANA_PORT_PTP_CFG,\n\tANA_PORT_PTP_DLY1_CFG,\n\tANA_PORT_PTP_DLY2_CFG,\n\tANA_PORT_SFID_CFG,\n\tANA_PFC_PFC_CFG,\n\tANA_PFC_PFC_TIMER,\n\tANA_IPT_OAM_MEP_CFG,\n\tANA_IPT_IPT,\n\tANA_PPT_PPT,\n\tANA_FID_MAP_FID_MAP,\n\tANA_AGGR_CFG,\n\tANA_CPUQ_CFG,\n\tANA_CPUQ_CFG2,\n\tANA_CPUQ_8021_CFG,\n\tANA_DSCP_CFG,\n\tANA_DSCP_REWR_CFG,\n\tANA_VCAP_RNG_TYPE_CFG,\n\tANA_VCAP_RNG_VAL_CFG,\n\tANA_VRAP_CFG,\n\tANA_VRAP_HDR_DATA,\n\tANA_VRAP_HDR_MASK,\n\tANA_DISCARD_CFG,\n\tANA_FID_CFG,\n\tANA_POL_PIR_CFG,\n\tANA_POL_CIR_CFG,\n\tANA_POL_MODE_CFG,\n\tANA_POL_PIR_STATE,\n\tANA_POL_CIR_STATE,\n\tANA_POL_STATE,\n\tANA_POL_FLOWC,\n\tANA_POL_HYST,\n\tANA_POL_MISC_CFG,\n\tQS_XTR_GRP_CFG = QS << TARGET_OFFSET,\n\tQS_XTR_RD,\n\tQS_XTR_FRM_PRUNING,\n\tQS_XTR_FLUSH,\n\tQS_XTR_DATA_PRESENT,\n\tQS_XTR_CFG,\n\tQS_INJ_GRP_CFG,\n\tQS_INJ_WR,\n\tQS_INJ_CTRL,\n\tQS_INJ_STATUS,\n\tQS_INJ_ERR,\n\tQS_INH_DBG,\n\tQSYS_PORT_MODE = QSYS << TARGET_OFFSET,\n\tQSYS_SWITCH_PORT_MODE,\n\tQSYS_STAT_CNT_CFG,\n\tQSYS_EEE_CFG,\n\tQSYS_EEE_THRES,\n\tQSYS_IGR_NO_SHARING,\n\tQSYS_EGR_NO_SHARING,\n\tQSYS_SW_STATUS,\n\tQSYS_EXT_CPU_CFG,\n\tQSYS_PAD_CFG,\n\tQSYS_CPU_GROUP_MAP,\n\tQSYS_QMAP,\n\tQSYS_ISDX_SGRP,\n\tQSYS_TIMED_FRAME_ENTRY,\n\tQSYS_TFRM_MISC,\n\tQSYS_TFRM_PORT_DLY,\n\tQSYS_TFRM_TIMER_CFG_1,\n\tQSYS_TFRM_TIMER_CFG_2,\n\tQSYS_TFRM_TIMER_CFG_3,\n\tQSYS_TFRM_TIMER_CFG_4,\n\tQSYS_TFRM_TIMER_CFG_5,\n\tQSYS_TFRM_TIMER_CFG_6,\n\tQSYS_TFRM_TIMER_CFG_7,\n\tQSYS_TFRM_TIMER_CFG_8,\n\tQSYS_RED_PROFILE,\n\tQSYS_RES_QOS_MODE,\n\tQSYS_RES_CFG,\n\tQSYS_RES_STAT,\n\tQSYS_EGR_DROP_MODE,\n\tQSYS_EQ_CTRL,\n\tQSYS_EVENTS_CORE,\n\tQSYS_QMAXSDU_CFG_0,\n\tQSYS_QMAXSDU_CFG_1,\n\tQSYS_QMAXSDU_CFG_2,\n\tQSYS_QMAXSDU_CFG_3,\n\tQSYS_QMAXSDU_CFG_4,\n\tQSYS_QMAXSDU_CFG_5,\n\tQSYS_QMAXSDU_CFG_6,\n\tQSYS_QMAXSDU_CFG_7,\n\tQSYS_PREEMPTION_CFG,\n\tQSYS_CIR_CFG,\n\tQSYS_EIR_CFG,\n\tQSYS_SE_CFG,\n\tQSYS_SE_DWRR_CFG,\n\tQSYS_SE_CONNECT,\n\tQSYS_SE_DLB_SENSE,\n\tQSYS_CIR_STATE,\n\tQSYS_EIR_STATE,\n\tQSYS_SE_STATE,\n\tQSYS_HSCH_MISC_CFG,\n\tQSYS_TAG_CONFIG,\n\tQSYS_TAS_PARAM_CFG_CTRL,\n\tQSYS_PORT_MAX_SDU,\n\tQSYS_PARAM_CFG_REG_1,\n\tQSYS_PARAM_CFG_REG_2,\n\tQSYS_PARAM_CFG_REG_3,\n\tQSYS_PARAM_CFG_REG_4,\n\tQSYS_PARAM_CFG_REG_5,\n\tQSYS_GCL_CFG_REG_1,\n\tQSYS_GCL_CFG_REG_2,\n\tQSYS_PARAM_STATUS_REG_1,\n\tQSYS_PARAM_STATUS_REG_2,\n\tQSYS_PARAM_STATUS_REG_3,\n\tQSYS_PARAM_STATUS_REG_4,\n\tQSYS_PARAM_STATUS_REG_5,\n\tQSYS_PARAM_STATUS_REG_6,\n\tQSYS_PARAM_STATUS_REG_7,\n\tQSYS_PARAM_STATUS_REG_8,\n\tQSYS_PARAM_STATUS_REG_9,\n\tQSYS_GCL_STATUS_REG_1,\n\tQSYS_GCL_STATUS_REG_2,\n\tREW_PORT_VLAN_CFG = REW << TARGET_OFFSET,\n\tREW_TAG_CFG,\n\tREW_PORT_CFG,\n\tREW_DSCP_CFG,\n\tREW_PCP_DEI_QOS_MAP_CFG,\n\tREW_PTP_CFG,\n\tREW_PTP_DLY1_CFG,\n\tREW_RED_TAG_CFG,\n\tREW_DSCP_REMAP_DP1_CFG,\n\tREW_DSCP_REMAP_CFG,\n\tREW_STAT_CFG,\n\tREW_REW_STICKY,\n\tREW_PPT,\n\tSYS_COUNT_RX_OCTETS = SYS << TARGET_OFFSET,\n\tSYS_COUNT_RX_UNICAST,\n\tSYS_COUNT_RX_MULTICAST,\n\tSYS_COUNT_RX_BROADCAST,\n\tSYS_COUNT_RX_SHORTS,\n\tSYS_COUNT_RX_FRAGMENTS,\n\tSYS_COUNT_RX_JABBERS,\n\tSYS_COUNT_RX_CRC_ALIGN_ERRS,\n\tSYS_COUNT_RX_SYM_ERRS,\n\tSYS_COUNT_RX_64,\n\tSYS_COUNT_RX_65_127,\n\tSYS_COUNT_RX_128_255,\n\tSYS_COUNT_RX_256_511,\n\tSYS_COUNT_RX_512_1023,\n\tSYS_COUNT_RX_1024_1526,\n\tSYS_COUNT_RX_1527_MAX,\n\tSYS_COUNT_RX_PAUSE,\n\tSYS_COUNT_RX_CONTROL,\n\tSYS_COUNT_RX_LONGS,\n\tSYS_COUNT_RX_CLASSIFIED_DROPS,\n\tSYS_COUNT_RX_RED_PRIO_0,\n\tSYS_COUNT_RX_RED_PRIO_1,\n\tSYS_COUNT_RX_RED_PRIO_2,\n\tSYS_COUNT_RX_RED_PRIO_3,\n\tSYS_COUNT_RX_RED_PRIO_4,\n\tSYS_COUNT_RX_RED_PRIO_5,\n\tSYS_COUNT_RX_RED_PRIO_6,\n\tSYS_COUNT_RX_RED_PRIO_7,\n\tSYS_COUNT_RX_YELLOW_PRIO_0,\n\tSYS_COUNT_RX_YELLOW_PRIO_1,\n\tSYS_COUNT_RX_YELLOW_PRIO_2,\n\tSYS_COUNT_RX_YELLOW_PRIO_3,\n\tSYS_COUNT_RX_YELLOW_PRIO_4,\n\tSYS_COUNT_RX_YELLOW_PRIO_5,\n\tSYS_COUNT_RX_YELLOW_PRIO_6,\n\tSYS_COUNT_RX_YELLOW_PRIO_7,\n\tSYS_COUNT_RX_GREEN_PRIO_0,\n\tSYS_COUNT_RX_GREEN_PRIO_1,\n\tSYS_COUNT_RX_GREEN_PRIO_2,\n\tSYS_COUNT_RX_GREEN_PRIO_3,\n\tSYS_COUNT_RX_GREEN_PRIO_4,\n\tSYS_COUNT_RX_GREEN_PRIO_5,\n\tSYS_COUNT_RX_GREEN_PRIO_6,\n\tSYS_COUNT_RX_GREEN_PRIO_7,\n\tSYS_COUNT_RX_ASSEMBLY_ERRS,\n\tSYS_COUNT_RX_SMD_ERRS,\n\tSYS_COUNT_RX_ASSEMBLY_OK,\n\tSYS_COUNT_RX_MERGE_FRAGMENTS,\n\tSYS_COUNT_RX_PMAC_OCTETS,\n\tSYS_COUNT_RX_PMAC_UNICAST,\n\tSYS_COUNT_RX_PMAC_MULTICAST,\n\tSYS_COUNT_RX_PMAC_BROADCAST,\n\tSYS_COUNT_RX_PMAC_SHORTS,\n\tSYS_COUNT_RX_PMAC_FRAGMENTS,\n\tSYS_COUNT_RX_PMAC_JABBERS,\n\tSYS_COUNT_RX_PMAC_CRC_ALIGN_ERRS,\n\tSYS_COUNT_RX_PMAC_SYM_ERRS,\n\tSYS_COUNT_RX_PMAC_64,\n\tSYS_COUNT_RX_PMAC_65_127,\n\tSYS_COUNT_RX_PMAC_128_255,\n\tSYS_COUNT_RX_PMAC_256_511,\n\tSYS_COUNT_RX_PMAC_512_1023,\n\tSYS_COUNT_RX_PMAC_1024_1526,\n\tSYS_COUNT_RX_PMAC_1527_MAX,\n\tSYS_COUNT_RX_PMAC_PAUSE,\n\tSYS_COUNT_RX_PMAC_CONTROL,\n\tSYS_COUNT_RX_PMAC_LONGS,\n\tSYS_COUNT_TX_OCTETS,\n\tSYS_COUNT_TX_UNICAST,\n\tSYS_COUNT_TX_MULTICAST,\n\tSYS_COUNT_TX_BROADCAST,\n\tSYS_COUNT_TX_COLLISION,\n\tSYS_COUNT_TX_DROPS,\n\tSYS_COUNT_TX_PAUSE,\n\tSYS_COUNT_TX_64,\n\tSYS_COUNT_TX_65_127,\n\tSYS_COUNT_TX_128_255,\n\tSYS_COUNT_TX_256_511,\n\tSYS_COUNT_TX_512_1023,\n\tSYS_COUNT_TX_1024_1526,\n\tSYS_COUNT_TX_1527_MAX,\n\tSYS_COUNT_TX_YELLOW_PRIO_0,\n\tSYS_COUNT_TX_YELLOW_PRIO_1,\n\tSYS_COUNT_TX_YELLOW_PRIO_2,\n\tSYS_COUNT_TX_YELLOW_PRIO_3,\n\tSYS_COUNT_TX_YELLOW_PRIO_4,\n\tSYS_COUNT_TX_YELLOW_PRIO_5,\n\tSYS_COUNT_TX_YELLOW_PRIO_6,\n\tSYS_COUNT_TX_YELLOW_PRIO_7,\n\tSYS_COUNT_TX_GREEN_PRIO_0,\n\tSYS_COUNT_TX_GREEN_PRIO_1,\n\tSYS_COUNT_TX_GREEN_PRIO_2,\n\tSYS_COUNT_TX_GREEN_PRIO_3,\n\tSYS_COUNT_TX_GREEN_PRIO_4,\n\tSYS_COUNT_TX_GREEN_PRIO_5,\n\tSYS_COUNT_TX_GREEN_PRIO_6,\n\tSYS_COUNT_TX_GREEN_PRIO_7,\n\tSYS_COUNT_TX_AGED,\n\tSYS_COUNT_TX_MM_HOLD,\n\tSYS_COUNT_TX_MERGE_FRAGMENTS,\n\tSYS_COUNT_TX_PMAC_OCTETS,\n\tSYS_COUNT_TX_PMAC_UNICAST,\n\tSYS_COUNT_TX_PMAC_MULTICAST,\n\tSYS_COUNT_TX_PMAC_BROADCAST,\n\tSYS_COUNT_TX_PMAC_PAUSE,\n\tSYS_COUNT_TX_PMAC_64,\n\tSYS_COUNT_TX_PMAC_65_127,\n\tSYS_COUNT_TX_PMAC_128_255,\n\tSYS_COUNT_TX_PMAC_256_511,\n\tSYS_COUNT_TX_PMAC_512_1023,\n\tSYS_COUNT_TX_PMAC_1024_1526,\n\tSYS_COUNT_TX_PMAC_1527_MAX,\n\tSYS_COUNT_DROP_LOCAL,\n\tSYS_COUNT_DROP_TAIL,\n\tSYS_COUNT_DROP_YELLOW_PRIO_0,\n\tSYS_COUNT_DROP_YELLOW_PRIO_1,\n\tSYS_COUNT_DROP_YELLOW_PRIO_2,\n\tSYS_COUNT_DROP_YELLOW_PRIO_3,\n\tSYS_COUNT_DROP_YELLOW_PRIO_4,\n\tSYS_COUNT_DROP_YELLOW_PRIO_5,\n\tSYS_COUNT_DROP_YELLOW_PRIO_6,\n\tSYS_COUNT_DROP_YELLOW_PRIO_7,\n\tSYS_COUNT_DROP_GREEN_PRIO_0,\n\tSYS_COUNT_DROP_GREEN_PRIO_1,\n\tSYS_COUNT_DROP_GREEN_PRIO_2,\n\tSYS_COUNT_DROP_GREEN_PRIO_3,\n\tSYS_COUNT_DROP_GREEN_PRIO_4,\n\tSYS_COUNT_DROP_GREEN_PRIO_5,\n\tSYS_COUNT_DROP_GREEN_PRIO_6,\n\tSYS_COUNT_DROP_GREEN_PRIO_7,\n\tSYS_COUNT_SF_MATCHING_FRAMES,\n\tSYS_COUNT_SF_NOT_PASSING_FRAMES,\n\tSYS_COUNT_SF_NOT_PASSING_SDU,\n\tSYS_COUNT_SF_RED_FRAMES,\n\tSYS_RESET_CFG,\n\tSYS_SR_ETYPE_CFG,\n\tSYS_VLAN_ETYPE_CFG,\n\tSYS_PORT_MODE,\n\tSYS_FRONT_PORT_MODE,\n\tSYS_FRM_AGING,\n\tSYS_STAT_CFG,\n\tSYS_SW_STATUS,\n\tSYS_MISC_CFG,\n\tSYS_REW_MAC_HIGH_CFG,\n\tSYS_REW_MAC_LOW_CFG,\n\tSYS_TIMESTAMP_OFFSET,\n\tSYS_CMID,\n\tSYS_PAUSE_CFG,\n\tSYS_PAUSE_TOT_CFG,\n\tSYS_ATOP,\n\tSYS_ATOP_TOT_CFG,\n\tSYS_MAC_FC_CFG,\n\tSYS_MMGT,\n\tSYS_MMGT_FAST,\n\tSYS_EVENTS_DIF,\n\tSYS_EVENTS_CORE,\n\tSYS_PTP_STATUS,\n\tSYS_PTP_TXSTAMP,\n\tSYS_PTP_NXT,\n\tSYS_PTP_CFG,\n\tSYS_RAM_INIT,\n\tSYS_CM_ADDR,\n\tSYS_CM_DATA_WR,\n\tSYS_CM_DATA_RD,\n\tSYS_CM_OP,\n\tSYS_CM_DATA,\n\tPTP_PIN_CFG = PTP << TARGET_OFFSET,\n\tPTP_PIN_TOD_SEC_MSB,\n\tPTP_PIN_TOD_SEC_LSB,\n\tPTP_PIN_TOD_NSEC,\n\tPTP_PIN_WF_HIGH_PERIOD,\n\tPTP_PIN_WF_LOW_PERIOD,\n\tPTP_CFG_MISC,\n\tPTP_CLK_CFG_ADJ_CFG,\n\tPTP_CLK_CFG_ADJ_FREQ,\n\tGCB_SOFT_RST = GCB << TARGET_OFFSET,\n\tGCB_MIIM_MII_STATUS,\n\tGCB_MIIM_MII_CMD,\n\tGCB_MIIM_MII_DATA,\n\tDEV_CLOCK_CFG = DEV_GMII << TARGET_OFFSET,\n\tDEV_PORT_MISC,\n\tDEV_EVENTS,\n\tDEV_EEE_CFG,\n\tDEV_RX_PATH_DELAY,\n\tDEV_TX_PATH_DELAY,\n\tDEV_PTP_PREDICT_CFG,\n\tDEV_MAC_ENA_CFG,\n\tDEV_MAC_MODE_CFG,\n\tDEV_MAC_MAXLEN_CFG,\n\tDEV_MAC_TAGS_CFG,\n\tDEV_MAC_ADV_CHK_CFG,\n\tDEV_MAC_IFG_CFG,\n\tDEV_MAC_HDX_CFG,\n\tDEV_MAC_DBG_CFG,\n\tDEV_MAC_FC_MAC_LOW_CFG,\n\tDEV_MAC_FC_MAC_HIGH_CFG,\n\tDEV_MAC_STICKY,\n\tDEV_MM_ENABLE_CONFIG,\n\tDEV_MM_VERIF_CONFIG,\n\tDEV_MM_STATUS,\n\tPCS1G_CFG,\n\tPCS1G_MODE_CFG,\n\tPCS1G_SD_CFG,\n\tPCS1G_ANEG_CFG,\n\tPCS1G_ANEG_NP_CFG,\n\tPCS1G_LB_CFG,\n\tPCS1G_DBG_CFG,\n\tPCS1G_CDET_CFG,\n\tPCS1G_ANEG_STATUS,\n\tPCS1G_ANEG_NP_STATUS,\n\tPCS1G_LINK_STATUS,\n\tPCS1G_LINK_DOWN_CNT,\n\tPCS1G_STICKY,\n\tPCS1G_DEBUG_STATUS,\n\tPCS1G_LPI_CFG,\n\tPCS1G_LPI_WAKE_ERROR_CNT,\n\tPCS1G_LPI_STATUS,\n\tPCS1G_TSTPAT_MODE_CFG,\n\tPCS1G_TSTPAT_STATUS,\n\tDEV_PCS_FX100_CFG,\n\tDEV_PCS_FX100_STATUS,\n};\n\nenum ocelot_regfield {\n\tANA_ADVLEARN_VLAN_CHK,\n\tANA_ADVLEARN_LEARN_MIRROR,\n\tANA_ANEVENTS_FLOOD_DISCARD,\n\tANA_ANEVENTS_MSTI_DROP,\n\tANA_ANEVENTS_ACLKILL,\n\tANA_ANEVENTS_ACLUSED,\n\tANA_ANEVENTS_AUTOAGE,\n\tANA_ANEVENTS_VS2TTL1,\n\tANA_ANEVENTS_STORM_DROP,\n\tANA_ANEVENTS_LEARN_DROP,\n\tANA_ANEVENTS_AGED_ENTRY,\n\tANA_ANEVENTS_CPU_LEARN_FAILED,\n\tANA_ANEVENTS_AUTO_LEARN_FAILED,\n\tANA_ANEVENTS_LEARN_REMOVE,\n\tANA_ANEVENTS_AUTO_LEARNED,\n\tANA_ANEVENTS_AUTO_MOVED,\n\tANA_ANEVENTS_DROPPED,\n\tANA_ANEVENTS_CLASSIFIED_DROP,\n\tANA_ANEVENTS_CLASSIFIED_COPY,\n\tANA_ANEVENTS_VLAN_DISCARD,\n\tANA_ANEVENTS_FWD_DISCARD,\n\tANA_ANEVENTS_MULTICAST_FLOOD,\n\tANA_ANEVENTS_UNICAST_FLOOD,\n\tANA_ANEVENTS_DEST_KNOWN,\n\tANA_ANEVENTS_BUCKET3_MATCH,\n\tANA_ANEVENTS_BUCKET2_MATCH,\n\tANA_ANEVENTS_BUCKET1_MATCH,\n\tANA_ANEVENTS_BUCKET0_MATCH,\n\tANA_ANEVENTS_CPU_OPERATION,\n\tANA_ANEVENTS_DMAC_LOOKUP,\n\tANA_ANEVENTS_SMAC_LOOKUP,\n\tANA_ANEVENTS_SEQ_GEN_ERR_0,\n\tANA_ANEVENTS_SEQ_GEN_ERR_1,\n\tANA_TABLES_MACACCESS_B_DOM,\n\tANA_TABLES_MACTINDX_BUCKET,\n\tANA_TABLES_MACTINDX_M_INDEX,\n\tQSYS_SWITCH_PORT_MODE_PORT_ENA,\n\tQSYS_SWITCH_PORT_MODE_SCH_NEXT_CFG,\n\tQSYS_SWITCH_PORT_MODE_YEL_RSRVD,\n\tQSYS_SWITCH_PORT_MODE_INGRESS_DROP_MODE,\n\tQSYS_SWITCH_PORT_MODE_TX_PFC_ENA,\n\tQSYS_SWITCH_PORT_MODE_TX_PFC_MODE,\n\tQSYS_TIMED_FRAME_ENTRY_TFRM_VLD,\n\tQSYS_TIMED_FRAME_ENTRY_TFRM_FP,\n\tQSYS_TIMED_FRAME_ENTRY_TFRM_PORTNO,\n\tQSYS_TIMED_FRAME_ENTRY_TFRM_TM_SEL,\n\tQSYS_TIMED_FRAME_ENTRY_TFRM_TM_T,\n\tSYS_PORT_MODE_DATA_WO_TS,\n\tSYS_PORT_MODE_INCL_INJ_HDR,\n\tSYS_PORT_MODE_INCL_XTR_HDR,\n\tSYS_PORT_MODE_INCL_HDR_ERR,\n\tSYS_RESET_CFG_CORE_ENA,\n\tSYS_RESET_CFG_MEM_ENA,\n\tSYS_RESET_CFG_MEM_INIT,\n\tGCB_SOFT_RST_SWC_RST,\n\tGCB_MIIM_MII_STATUS_PENDING,\n\tGCB_MIIM_MII_STATUS_BUSY,\n\tSYS_PAUSE_CFG_PAUSE_START,\n\tSYS_PAUSE_CFG_PAUSE_STOP,\n\tSYS_PAUSE_CFG_PAUSE_ENA,\n\tREGFIELD_MAX\n};\n\nenum {\n\t \n\tVCAP_CORE_UPDATE_CTRL,\n\tVCAP_CORE_MV_CFG,\n\t \n\tVCAP_CACHE_ENTRY_DAT,\n\tVCAP_CACHE_MASK_DAT,\n\tVCAP_CACHE_ACTION_DAT,\n\tVCAP_CACHE_CNT_DAT,\n\tVCAP_CACHE_TG_DAT,\n\t \n\tVCAP_CONST_VCAP_VER,\n\tVCAP_CONST_ENTRY_WIDTH,\n\tVCAP_CONST_ENTRY_CNT,\n\tVCAP_CONST_ENTRY_SWCNT,\n\tVCAP_CONST_ENTRY_TG_WIDTH,\n\tVCAP_CONST_ACTION_DEF_CNT,\n\tVCAP_CONST_ACTION_WIDTH,\n\tVCAP_CONST_CNT_WIDTH,\n\tVCAP_CONST_CORE_CNT,\n\tVCAP_CONST_IF_CNT,\n};\n\nenum ocelot_ptp_pins {\n\tPTP_PIN_0,\n\tPTP_PIN_1,\n\tPTP_PIN_2,\n\tPTP_PIN_3,\n\tTOD_ACC_PIN\n};\n\nenum ocelot_tag_prefix {\n\tOCELOT_TAG_PREFIX_DISABLED\t= 0,\n\tOCELOT_TAG_PREFIX_NONE,\n\tOCELOT_TAG_PREFIX_SHORT,\n\tOCELOT_TAG_PREFIX_LONG,\n};\n\nstruct ocelot;\nstruct device_node;\n\nstruct ocelot_ops {\n\tstruct net_device *(*port_to_netdev)(struct ocelot *ocelot, int port);\n\tint (*netdev_to_port)(struct net_device *dev);\n\tint (*reset)(struct ocelot *ocelot);\n\tu16 (*wm_enc)(u16 value);\n\tu16 (*wm_dec)(u16 value);\n\tvoid (*wm_stat)(u32 val, u32 *inuse, u32 *maxuse);\n\tvoid (*psfp_init)(struct ocelot *ocelot);\n\tint (*psfp_filter_add)(struct ocelot *ocelot, int port,\n\t\t\t       struct flow_cls_offload *f);\n\tint (*psfp_filter_del)(struct ocelot *ocelot, struct flow_cls_offload *f);\n\tint (*psfp_stats_get)(struct ocelot *ocelot, struct flow_cls_offload *f,\n\t\t\t      struct flow_stats *stats);\n\tvoid (*cut_through_fwd)(struct ocelot *ocelot);\n\tvoid (*tas_clock_adjust)(struct ocelot *ocelot);\n\tvoid (*tas_guard_bands_update)(struct ocelot *ocelot, int port);\n\tvoid (*update_stats)(struct ocelot *ocelot);\n};\n\nstruct ocelot_vcap_policer {\n\tstruct list_head pol_list;\n\tu16 base;\n\tu16 max;\n\tu16 base2;\n\tu16 max2;\n};\n\nstruct ocelot_vcap_block {\n\tstruct list_head rules;\n\tint count;\n};\n\nstruct ocelot_bridge_vlan {\n\tu16 vid;\n\tunsigned long portmask;\n\tunsigned long untagged;\n\tstruct list_head list;\n};\n\nenum ocelot_port_tag_config {\n\t \n\tOCELOT_PORT_TAG_DISABLED = 0,\n\t \n\tOCELOT_PORT_TAG_NATIVE = 1,\n\t \n\tOCELOT_PORT_TAG_TRUNK_NO_VID0 = 2,\n\t \n\tOCELOT_PORT_TAG_TRUNK = 3,\n};\n\nstruct ocelot_psfp_list {\n\tstruct list_head stream_list;\n\tstruct list_head sfi_list;\n\tstruct list_head sgi_list;\n\t \n\tstruct mutex lock;\n};\n\nenum ocelot_sb {\n\tOCELOT_SB_BUF,\n\tOCELOT_SB_REF,\n\tOCELOT_SB_NUM,\n};\n\nenum ocelot_sb_pool {\n\tOCELOT_SB_POOL_ING,\n\tOCELOT_SB_POOL_EGR,\n\tOCELOT_SB_POOL_NUM,\n};\n\n \nenum macaccess_entry_type {\n\tENTRYTYPE_NORMAL = 0,\n\tENTRYTYPE_LOCKED,\n\tENTRYTYPE_MACv4,\n\tENTRYTYPE_MACv6,\n};\n\nenum ocelot_proto {\n\tOCELOT_PROTO_PTP_L2 = BIT(0),\n\tOCELOT_PROTO_PTP_L4 = BIT(1),\n};\n\n#define OCELOT_QUIRK_PCS_PERFORMS_RATE_ADAPTATION\tBIT(0)\n#define OCELOT_QUIRK_QSGMII_PORTS_MUST_BE_UP\t\tBIT(1)\n\nstruct ocelot_lag_fdb {\n\tunsigned char addr[ETH_ALEN];\n\tu16 vid;\n\tstruct net_device *bond;\n\tstruct list_head list;\n};\n\nstruct ocelot_mirror {\n\trefcount_t refcount;\n\tint to;\n};\n\nstruct ocelot_mm_state {\n\tenum ethtool_mm_verify_status verify_status;\n\tbool tx_enabled;\n\tbool tx_active;\n\tu8 preemptible_tcs;\n\tu8 active_preemptible_tcs;\n};\n\nstruct ocelot_port;\n\nstruct ocelot_port {\n\tstruct ocelot\t\t\t*ocelot;\n\n\tstruct regmap\t\t\t*target;\n\n\tstruct net_device\t\t*bond;\n\tstruct net_device\t\t*bridge;\n\n\tstruct ocelot_port\t\t*dsa_8021q_cpu;\n\n\t \n\tconst struct ocelot_bridge_vlan\t*pvid_vlan;\n\n\tstruct tc_taprio_qopt_offload\t*taprio;\n\n\tphy_interface_t\t\t\tphy_mode;\n\n\tunsigned int\t\t\tptp_skbs_in_flight;\n\tstruct sk_buff_head\t\ttx_skbs;\n\n\tunsigned int\t\t\ttrap_proto;\n\n\tu16\t\t\t\tmrp_ring_id;\n\n\tu8\t\t\t\tptp_cmd;\n\tu8\t\t\t\tts_id;\n\n\tu8\t\t\t\tindex;\n\n\tu8\t\t\t\tstp_state;\n\tbool\t\t\t\tvlan_aware;\n\tbool\t\t\t\tis_dsa_8021q_cpu;\n\tbool\t\t\t\tlearn_ena;\n\n\tbool\t\t\t\tlag_tx_active;\n\n\tint\t\t\t\tbridge_num;\n\n\tint\t\t\t\tspeed;\n};\n\nstruct ocelot {\n\tstruct device\t\t\t*dev;\n\tstruct devlink\t\t\t*devlink;\n\tstruct devlink_port\t\t*devlink_ports;\n\n\tconst struct ocelot_ops\t\t*ops;\n\tstruct regmap\t\t\t*targets[TARGET_MAX];\n\tstruct regmap_field\t\t*regfields[REGFIELD_MAX];\n\tconst u32 *const\t\t*map;\n\tstruct list_head\t\tstats_regions;\n\n\tu32\t\t\t\tpool_size[OCELOT_SB_NUM][OCELOT_SB_POOL_NUM];\n\tint\t\t\t\tpacket_buffer_size;\n\tint\t\t\t\tnum_frame_refs;\n\tint\t\t\t\tnum_mact_rows;\n\n\tstruct ocelot_port\t\t**ports;\n\n\tu8\t\t\t\tbase_mac[ETH_ALEN];\n\n\tstruct list_head\t\tvlans;\n\tstruct list_head\t\ttraps;\n\tstruct list_head\t\tlag_fdbs;\n\n\t \n\tint\t\t\t\tnum_flooding_pgids;\n\n\t \n\tu8\t\t\t\tnum_phys_ports;\n\n\tint\t\t\t\tnpi;\n\n\tenum ocelot_tag_prefix\t\tnpi_inj_prefix;\n\tenum ocelot_tag_prefix\t\tnpi_xtr_prefix;\n\n\tunsigned long\t\t\tbridges;\n\n\tstruct list_head\t\tmulticast;\n\tstruct list_head\t\tpgids;\n\n\tstruct list_head\t\tdummy_rules;\n\tstruct ocelot_vcap_block\tblock[3];\n\tstruct ocelot_vcap_policer\tvcap_pol;\n\tstruct vcap_props\t\t*vcap;\n\tstruct ocelot_mirror\t\t*mirror;\n\n\tstruct ocelot_psfp_list\t\tpsfp;\n\n\t \n\tstruct delayed_work\t\tstats_work;\n\tstruct workqueue_struct\t\t*stats_queue;\n\t \n\tspinlock_t\t\t\tstats_lock;\n\tu64\t\t\t\t*stats;\n\n\t \n\tstruct mutex\t\t\tstat_view_lock;\n\t \n\tstruct mutex\t\t\tmact_lock;\n\t \n\tstruct mutex\t\t\tfwd_domain_lock;\n\n\tstruct workqueue_struct\t\t*owq;\n\n\tu8\t\t\t\tptp:1;\n\tu8\t\t\t\tmm_supported:1;\n\tstruct ptp_clock\t\t*ptp_clock;\n\tstruct ptp_clock_info\t\tptp_info;\n\tunsigned int\t\t\tptp_skbs_in_flight;\n\t \n\tspinlock_t\t\t\tts_id_lock;\n\t \n\tspinlock_t\t\t\tptp_clock_lock;\n\tstruct ptp_pin_desc\t\tptp_pins[OCELOT_PTP_PINS_NUM];\n\n\tstruct ocelot_mm_state\t\t*mm;\n\n\tstruct ocelot_fdma\t\t*fdma;\n};\n\nstruct ocelot_policer {\n\tu32 rate;  \n\tu32 burst;  \n};\n\n#define ocelot_bulk_read(ocelot, reg, buf, count) \\\n\t__ocelot_bulk_read_ix(ocelot, reg, 0, buf, count)\n\n#define ocelot_read_ix(ocelot, reg, gi, ri) \\\n\t__ocelot_read_ix(ocelot, reg, reg##_GSZ * (gi) + reg##_RSZ * (ri))\n#define ocelot_read_gix(ocelot, reg, gi) \\\n\t__ocelot_read_ix(ocelot, reg, reg##_GSZ * (gi))\n#define ocelot_read_rix(ocelot, reg, ri) \\\n\t__ocelot_read_ix(ocelot, reg, reg##_RSZ * (ri))\n#define ocelot_read(ocelot, reg) \\\n\t__ocelot_read_ix(ocelot, reg, 0)\n\n#define ocelot_write_ix(ocelot, val, reg, gi, ri) \\\n\t__ocelot_write_ix(ocelot, val, reg, reg##_GSZ * (gi) + reg##_RSZ * (ri))\n#define ocelot_write_gix(ocelot, val, reg, gi) \\\n\t__ocelot_write_ix(ocelot, val, reg, reg##_GSZ * (gi))\n#define ocelot_write_rix(ocelot, val, reg, ri) \\\n\t__ocelot_write_ix(ocelot, val, reg, reg##_RSZ * (ri))\n#define ocelot_write(ocelot, val, reg) __ocelot_write_ix(ocelot, val, reg, 0)\n\n#define ocelot_rmw_ix(ocelot, val, m, reg, gi, ri) \\\n\t__ocelot_rmw_ix(ocelot, val, m, reg, reg##_GSZ * (gi) + reg##_RSZ * (ri))\n#define ocelot_rmw_gix(ocelot, val, m, reg, gi) \\\n\t__ocelot_rmw_ix(ocelot, val, m, reg, reg##_GSZ * (gi))\n#define ocelot_rmw_rix(ocelot, val, m, reg, ri) \\\n\t__ocelot_rmw_ix(ocelot, val, m, reg, reg##_RSZ * (ri))\n#define ocelot_rmw(ocelot, val, m, reg) __ocelot_rmw_ix(ocelot, val, m, reg, 0)\n\n#define ocelot_field_write(ocelot, reg, val) \\\n\tregmap_field_write((ocelot)->regfields[(reg)], (val))\n#define ocelot_field_read(ocelot, reg, val) \\\n\tregmap_field_read((ocelot)->regfields[(reg)], (val))\n#define ocelot_fields_write(ocelot, id, reg, val) \\\n\tregmap_fields_write((ocelot)->regfields[(reg)], (id), (val))\n#define ocelot_fields_read(ocelot, id, reg, val) \\\n\tregmap_fields_read((ocelot)->regfields[(reg)], (id), (val))\n\n#define ocelot_target_read_ix(ocelot, target, reg, gi, ri) \\\n\t__ocelot_target_read_ix(ocelot, target, reg, reg##_GSZ * (gi) + reg##_RSZ * (ri))\n#define ocelot_target_read_gix(ocelot, target, reg, gi) \\\n\t__ocelot_target_read_ix(ocelot, target, reg, reg##_GSZ * (gi))\n#define ocelot_target_read_rix(ocelot, target, reg, ri) \\\n\t__ocelot_target_read_ix(ocelot, target, reg, reg##_RSZ * (ri))\n#define ocelot_target_read(ocelot, target, reg) \\\n\t__ocelot_target_read_ix(ocelot, target, reg, 0)\n\n#define ocelot_target_write_ix(ocelot, target, val, reg, gi, ri) \\\n\t__ocelot_target_write_ix(ocelot, target, val, reg, reg##_GSZ * (gi) + reg##_RSZ * (ri))\n#define ocelot_target_write_gix(ocelot, target, val, reg, gi) \\\n\t__ocelot_target_write_ix(ocelot, target, val, reg, reg##_GSZ * (gi))\n#define ocelot_target_write_rix(ocelot, target, val, reg, ri) \\\n\t__ocelot_target_write_ix(ocelot, target, val, reg, reg##_RSZ * (ri))\n#define ocelot_target_write(ocelot, target, val, reg) \\\n\t__ocelot_target_write_ix(ocelot, target, val, reg, 0)\n\n \nu32 ocelot_port_readl(struct ocelot_port *port, enum ocelot_reg reg);\nvoid ocelot_port_writel(struct ocelot_port *port, u32 val, enum ocelot_reg reg);\nvoid ocelot_port_rmwl(struct ocelot_port *port, u32 val, u32 mask,\n\t\t      enum ocelot_reg reg);\nint __ocelot_bulk_read_ix(struct ocelot *ocelot, enum ocelot_reg reg,\n\t\t\t  u32 offset, void *buf, int count);\nu32 __ocelot_read_ix(struct ocelot *ocelot, enum ocelot_reg reg, u32 offset);\nvoid __ocelot_write_ix(struct ocelot *ocelot, u32 val, enum ocelot_reg reg,\n\t\t       u32 offset);\nvoid __ocelot_rmw_ix(struct ocelot *ocelot, u32 val, u32 mask,\n\t\t     enum ocelot_reg reg, u32 offset);\nu32 __ocelot_target_read_ix(struct ocelot *ocelot, enum ocelot_target target,\n\t\t\t    u32 reg, u32 offset);\nvoid __ocelot_target_write_ix(struct ocelot *ocelot, enum ocelot_target target,\n\t\t\t      u32 val, u32 reg, u32 offset);\n\n \nbool ocelot_can_inject(struct ocelot *ocelot, int grp);\nvoid ocelot_port_inject_frame(struct ocelot *ocelot, int port, int grp,\n\t\t\t      u32 rew_op, struct sk_buff *skb);\nvoid ocelot_ifh_port_set(void *ifh, int port, u32 rew_op, u32 vlan_tag);\nint ocelot_xtr_poll_frame(struct ocelot *ocelot, int grp, struct sk_buff **skb);\nvoid ocelot_drain_cpu_queue(struct ocelot *ocelot, int grp);\nvoid ocelot_ptp_rx_timestamp(struct ocelot *ocelot, struct sk_buff *skb,\n\t\t\t     u64 timestamp);\n\n \nint ocelot_regfields_init(struct ocelot *ocelot,\n\t\t\t  const struct reg_field *const regfields);\nstruct regmap *ocelot_regmap_init(struct ocelot *ocelot, struct resource *res);\nint ocelot_reset(struct ocelot *ocelot);\nint ocelot_init(struct ocelot *ocelot);\nvoid ocelot_deinit(struct ocelot *ocelot);\nvoid ocelot_init_port(struct ocelot *ocelot, int port);\nvoid ocelot_deinit_port(struct ocelot *ocelot, int port);\n\nvoid ocelot_port_setup_dsa_8021q_cpu(struct ocelot *ocelot, int cpu);\nvoid ocelot_port_teardown_dsa_8021q_cpu(struct ocelot *ocelot, int cpu);\nvoid ocelot_port_assign_dsa_8021q_cpu(struct ocelot *ocelot, int port, int cpu);\nvoid ocelot_port_unassign_dsa_8021q_cpu(struct ocelot *ocelot, int port);\nu32 ocelot_port_assigned_dsa_8021q_cpu_mask(struct ocelot *ocelot, int port);\n\n \nu16 ocelot_wm_enc(u16 value);\nu16 ocelot_wm_dec(u16 wm);\nvoid ocelot_wm_stat(u32 val, u32 *inuse, u32 *maxuse);\n\n \nvoid ocelot_get_strings(struct ocelot *ocelot, int port, u32 sset, u8 *data);\nvoid ocelot_get_ethtool_stats(struct ocelot *ocelot, int port, u64 *data);\nint ocelot_get_sset_count(struct ocelot *ocelot, int port, int sset);\nvoid ocelot_port_get_stats64(struct ocelot *ocelot, int port,\n\t\t\t     struct rtnl_link_stats64 *stats);\nvoid ocelot_port_get_pause_stats(struct ocelot *ocelot, int port,\n\t\t\t\t struct ethtool_pause_stats *pause_stats);\nvoid ocelot_port_get_mm_stats(struct ocelot *ocelot, int port,\n\t\t\t      struct ethtool_mm_stats *stats);\nvoid ocelot_port_get_rmon_stats(struct ocelot *ocelot, int port,\n\t\t\t\tstruct ethtool_rmon_stats *rmon_stats,\n\t\t\t\tconst struct ethtool_rmon_hist_range **ranges);\nvoid ocelot_port_get_eth_ctrl_stats(struct ocelot *ocelot, int port,\n\t\t\t\t    struct ethtool_eth_ctrl_stats *ctrl_stats);\nvoid ocelot_port_get_eth_mac_stats(struct ocelot *ocelot, int port,\n\t\t\t\t   struct ethtool_eth_mac_stats *mac_stats);\nvoid ocelot_port_get_eth_phy_stats(struct ocelot *ocelot, int port,\n\t\t\t\t   struct ethtool_eth_phy_stats *phy_stats);\nint ocelot_get_ts_info(struct ocelot *ocelot, int port,\n\t\t       struct ethtool_ts_info *info);\nvoid ocelot_set_ageing_time(struct ocelot *ocelot, unsigned int msecs);\nint ocelot_port_vlan_filtering(struct ocelot *ocelot, int port, bool enabled,\n\t\t\t       struct netlink_ext_ack *extack);\nvoid ocelot_bridge_stp_state_set(struct ocelot *ocelot, int port, u8 state);\nu32 ocelot_get_bridge_fwd_mask(struct ocelot *ocelot, int src_port);\nint ocelot_port_pre_bridge_flags(struct ocelot *ocelot, int port,\n\t\t\t\t struct switchdev_brport_flags val);\nvoid ocelot_port_bridge_flags(struct ocelot *ocelot, int port,\n\t\t\t      struct switchdev_brport_flags val);\nint ocelot_port_get_default_prio(struct ocelot *ocelot, int port);\nint ocelot_port_set_default_prio(struct ocelot *ocelot, int port, u8 prio);\nint ocelot_port_get_dscp_prio(struct ocelot *ocelot, int port, u8 dscp);\nint ocelot_port_add_dscp_prio(struct ocelot *ocelot, int port, u8 dscp, u8 prio);\nint ocelot_port_del_dscp_prio(struct ocelot *ocelot, int port, u8 dscp, u8 prio);\nint ocelot_port_bridge_join(struct ocelot *ocelot, int port,\n\t\t\t    struct net_device *bridge, int bridge_num,\n\t\t\t    struct netlink_ext_ack *extack);\nvoid ocelot_port_bridge_leave(struct ocelot *ocelot, int port,\n\t\t\t      struct net_device *bridge);\nint ocelot_mact_flush(struct ocelot *ocelot, int port);\nint ocelot_fdb_dump(struct ocelot *ocelot, int port,\n\t\t    dsa_fdb_dump_cb_t *cb, void *data);\nint ocelot_fdb_add(struct ocelot *ocelot, int port, const unsigned char *addr,\n\t\t   u16 vid, const struct net_device *bridge);\nint ocelot_fdb_del(struct ocelot *ocelot, int port, const unsigned char *addr,\n\t\t   u16 vid, const struct net_device *bridge);\nint ocelot_lag_fdb_add(struct ocelot *ocelot, struct net_device *bond,\n\t\t       const unsigned char *addr, u16 vid,\n\t\t       const struct net_device *bridge);\nint ocelot_lag_fdb_del(struct ocelot *ocelot, struct net_device *bond,\n\t\t       const unsigned char *addr, u16 vid,\n\t\t       const struct net_device *bridge);\nint ocelot_vlan_prepare(struct ocelot *ocelot, int port, u16 vid, bool pvid,\n\t\t\tbool untagged, struct netlink_ext_ack *extack);\nint ocelot_vlan_add(struct ocelot *ocelot, int port, u16 vid, bool pvid,\n\t\t    bool untagged);\nint ocelot_vlan_del(struct ocelot *ocelot, int port, u16 vid);\nint ocelot_hwstamp_get(struct ocelot *ocelot, int port, struct ifreq *ifr);\nint ocelot_hwstamp_set(struct ocelot *ocelot, int port, struct ifreq *ifr);\nint ocelot_port_txtstamp_request(struct ocelot *ocelot, int port,\n\t\t\t\t struct sk_buff *skb,\n\t\t\t\t struct sk_buff **clone);\nvoid ocelot_get_txtstamp(struct ocelot *ocelot);\nvoid ocelot_port_set_maxlen(struct ocelot *ocelot, int port, size_t sdu);\nint ocelot_get_max_mtu(struct ocelot *ocelot, int port);\nint ocelot_port_policer_add(struct ocelot *ocelot, int port,\n\t\t\t    struct ocelot_policer *pol);\nint ocelot_port_policer_del(struct ocelot *ocelot, int port);\nint ocelot_port_mirror_add(struct ocelot *ocelot, int from, int to,\n\t\t\t   bool ingress, struct netlink_ext_ack *extack);\nvoid ocelot_port_mirror_del(struct ocelot *ocelot, int from, bool ingress);\nint ocelot_cls_flower_replace(struct ocelot *ocelot, int port,\n\t\t\t      struct flow_cls_offload *f, bool ingress);\nint ocelot_cls_flower_destroy(struct ocelot *ocelot, int port,\n\t\t\t      struct flow_cls_offload *f, bool ingress);\nint ocelot_cls_flower_stats(struct ocelot *ocelot, int port,\n\t\t\t    struct flow_cls_offload *f, bool ingress);\nint ocelot_port_mdb_add(struct ocelot *ocelot, int port,\n\t\t\tconst struct switchdev_obj_port_mdb *mdb,\n\t\t\tconst struct net_device *bridge);\nint ocelot_port_mdb_del(struct ocelot *ocelot, int port,\n\t\t\tconst struct switchdev_obj_port_mdb *mdb,\n\t\t\tconst struct net_device *bridge);\nint ocelot_port_lag_join(struct ocelot *ocelot, int port,\n\t\t\t struct net_device *bond,\n\t\t\t struct netdev_lag_upper_info *info,\n\t\t\t struct netlink_ext_ack *extack);\nvoid ocelot_port_lag_leave(struct ocelot *ocelot, int port,\n\t\t\t   struct net_device *bond);\nvoid ocelot_port_lag_change(struct ocelot *ocelot, int port, bool lag_tx_active);\nint ocelot_bond_get_id(struct ocelot *ocelot, struct net_device *bond);\n\nint ocelot_devlink_sb_register(struct ocelot *ocelot);\nvoid ocelot_devlink_sb_unregister(struct ocelot *ocelot);\nint ocelot_sb_pool_get(struct ocelot *ocelot, unsigned int sb_index,\n\t\t       u16 pool_index,\n\t\t       struct devlink_sb_pool_info *pool_info);\nint ocelot_sb_pool_set(struct ocelot *ocelot, unsigned int sb_index,\n\t\t       u16 pool_index, u32 size,\n\t\t       enum devlink_sb_threshold_type threshold_type,\n\t\t       struct netlink_ext_ack *extack);\nint ocelot_sb_port_pool_get(struct ocelot *ocelot, int port,\n\t\t\t    unsigned int sb_index, u16 pool_index,\n\t\t\t    u32 *p_threshold);\nint ocelot_sb_port_pool_set(struct ocelot *ocelot, int port,\n\t\t\t    unsigned int sb_index, u16 pool_index,\n\t\t\t    u32 threshold, struct netlink_ext_ack *extack);\nint ocelot_sb_tc_pool_bind_get(struct ocelot *ocelot, int port,\n\t\t\t       unsigned int sb_index, u16 tc_index,\n\t\t\t       enum devlink_sb_pool_type pool_type,\n\t\t\t       u16 *p_pool_index, u32 *p_threshold);\nint ocelot_sb_tc_pool_bind_set(struct ocelot *ocelot, int port,\n\t\t\t       unsigned int sb_index, u16 tc_index,\n\t\t\t       enum devlink_sb_pool_type pool_type,\n\t\t\t       u16 pool_index, u32 threshold,\n\t\t\t       struct netlink_ext_ack *extack);\nint ocelot_sb_occ_snapshot(struct ocelot *ocelot, unsigned int sb_index);\nint ocelot_sb_occ_max_clear(struct ocelot *ocelot, unsigned int sb_index);\nint ocelot_sb_occ_port_pool_get(struct ocelot *ocelot, int port,\n\t\t\t\tunsigned int sb_index, u16 pool_index,\n\t\t\t\tu32 *p_cur, u32 *p_max);\nint ocelot_sb_occ_tc_port_bind_get(struct ocelot *ocelot, int port,\n\t\t\t\t   unsigned int sb_index, u16 tc_index,\n\t\t\t\t   enum devlink_sb_pool_type pool_type,\n\t\t\t\t   u32 *p_cur, u32 *p_max);\n\nint ocelot_port_configure_serdes(struct ocelot *ocelot, int port,\n\t\t\t\t struct device_node *portnp);\n\nvoid ocelot_phylink_mac_config(struct ocelot *ocelot, int port,\n\t\t\t       unsigned int link_an_mode,\n\t\t\t       const struct phylink_link_state *state);\nvoid ocelot_phylink_mac_link_down(struct ocelot *ocelot, int port,\n\t\t\t\t  unsigned int link_an_mode,\n\t\t\t\t  phy_interface_t interface,\n\t\t\t\t  unsigned long quirks);\nvoid ocelot_phylink_mac_link_up(struct ocelot *ocelot, int port,\n\t\t\t\tstruct phy_device *phydev,\n\t\t\t\tunsigned int link_an_mode,\n\t\t\t\tphy_interface_t interface,\n\t\t\t\tint speed, int duplex,\n\t\t\t\tbool tx_pause, bool rx_pause,\n\t\t\t\tunsigned long quirks);\n\nint ocelot_mact_lookup(struct ocelot *ocelot, int *dst_idx,\n\t\t       const unsigned char mac[ETH_ALEN],\n\t\t       unsigned int vid, enum macaccess_entry_type *type);\nint ocelot_mact_learn_streamdata(struct ocelot *ocelot, int dst_idx,\n\t\t\t\t const unsigned char mac[ETH_ALEN],\n\t\t\t\t unsigned int vid,\n\t\t\t\t enum macaccess_entry_type type,\n\t\t\t\t int sfid, int ssid);\n\nint ocelot_migrate_mdbs(struct ocelot *ocelot, unsigned long from_mask,\n\t\t\tunsigned long to_mask);\n\nint ocelot_vcap_policer_add(struct ocelot *ocelot, u32 pol_ix,\n\t\t\t    struct ocelot_policer *pol);\nint ocelot_vcap_policer_del(struct ocelot *ocelot, u32 pol_ix);\n\nvoid ocelot_mm_irq(struct ocelot *ocelot);\nint ocelot_port_set_mm(struct ocelot *ocelot, int port,\n\t\t       struct ethtool_mm_cfg *cfg,\n\t\t       struct netlink_ext_ack *extack);\nint ocelot_port_get_mm(struct ocelot *ocelot, int port,\n\t\t       struct ethtool_mm_state *state);\nint ocelot_port_mqprio(struct ocelot *ocelot, int port,\n\t\t       struct tc_mqprio_qopt_offload *mqprio);\n\n#if IS_ENABLED(CONFIG_BRIDGE_MRP)\nint ocelot_mrp_add(struct ocelot *ocelot, int port,\n\t\t   const struct switchdev_obj_mrp *mrp);\nint ocelot_mrp_del(struct ocelot *ocelot, int port,\n\t\t   const struct switchdev_obj_mrp *mrp);\nint ocelot_mrp_add_ring_role(struct ocelot *ocelot, int port,\n\t\t\t     const struct switchdev_obj_ring_role_mrp *mrp);\nint ocelot_mrp_del_ring_role(struct ocelot *ocelot, int port,\n\t\t\t     const struct switchdev_obj_ring_role_mrp *mrp);\n#else\nstatic inline int ocelot_mrp_add(struct ocelot *ocelot, int port,\n\t\t\t\t const struct switchdev_obj_mrp *mrp)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline int ocelot_mrp_del(struct ocelot *ocelot, int port,\n\t\t\t\t const struct switchdev_obj_mrp *mrp)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline int\nocelot_mrp_add_ring_role(struct ocelot *ocelot, int port,\n\t\t\t const struct switchdev_obj_ring_role_mrp *mrp)\n{\n\treturn -EOPNOTSUPP;\n}\n\nstatic inline int\nocelot_mrp_del_ring_role(struct ocelot *ocelot, int port,\n\t\t\t const struct switchdev_obj_ring_role_mrp *mrp)\n{\n\treturn -EOPNOTSUPP;\n}\n#endif\n\nvoid ocelot_pll5_init(struct ocelot *ocelot);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}