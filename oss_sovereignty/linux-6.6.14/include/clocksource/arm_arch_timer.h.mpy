{
  "module_name": "arm_arch_timer.h",
  "hash_id": "1f441ab4d6857cb608bf941a8ae72058a6af1e147331e3ad19ced1a0f2c5786b",
  "original_prompt": "Ingested from linux-6.6.14/include/clocksource/arm_arch_timer.h",
  "human_readable_source": " \n \n#ifndef __CLKSOURCE_ARM_ARCH_TIMER_H\n#define __CLKSOURCE_ARM_ARCH_TIMER_H\n\n#include <linux/bitops.h>\n#include <linux/timecounter.h>\n#include <linux/types.h>\n\n#define ARCH_TIMER_TYPE_CP15\t\tBIT(0)\n#define ARCH_TIMER_TYPE_MEM\t\tBIT(1)\n\n#define ARCH_TIMER_CTRL_ENABLE\t\t(1 << 0)\n#define ARCH_TIMER_CTRL_IT_MASK\t\t(1 << 1)\n#define ARCH_TIMER_CTRL_IT_STAT\t\t(1 << 2)\n\n#define CNTHCTL_EL1PCTEN\t\t(1 << 0)\n#define CNTHCTL_EL1PCEN\t\t\t(1 << 1)\n#define CNTHCTL_EVNTEN\t\t\t(1 << 2)\n#define CNTHCTL_EVNTDIR\t\t\t(1 << 3)\n#define CNTHCTL_EVNTI\t\t\t(0xF << 4)\n#define CNTHCTL_ECV\t\t\t(1 << 12)\n\nenum arch_timer_reg {\n\tARCH_TIMER_REG_CTRL,\n\tARCH_TIMER_REG_CVAL,\n};\n\nenum arch_timer_ppi_nr {\n\tARCH_TIMER_PHYS_SECURE_PPI,\n\tARCH_TIMER_PHYS_NONSECURE_PPI,\n\tARCH_TIMER_VIRT_PPI,\n\tARCH_TIMER_HYP_PPI,\n\tARCH_TIMER_HYP_VIRT_PPI,\n\tARCH_TIMER_MAX_TIMER_PPI\n};\n\nenum arch_timer_spi_nr {\n\tARCH_TIMER_PHYS_SPI,\n\tARCH_TIMER_VIRT_SPI,\n\tARCH_TIMER_MAX_TIMER_SPI\n};\n\n#define ARCH_TIMER_PHYS_ACCESS\t\t0\n#define ARCH_TIMER_VIRT_ACCESS\t\t1\n#define ARCH_TIMER_MEM_PHYS_ACCESS\t2\n#define ARCH_TIMER_MEM_VIRT_ACCESS\t3\n\n#define ARCH_TIMER_MEM_MAX_FRAMES\t8\n\n#define ARCH_TIMER_USR_PCT_ACCESS_EN\t(1 << 0)  \n#define ARCH_TIMER_USR_VCT_ACCESS_EN\t(1 << 1)  \n#define ARCH_TIMER_VIRT_EVT_EN\t\t(1 << 2)\n#define ARCH_TIMER_EVT_TRIGGER_SHIFT\t(4)\n#define ARCH_TIMER_EVT_TRIGGER_MASK\t(0xF << ARCH_TIMER_EVT_TRIGGER_SHIFT)\n#define ARCH_TIMER_USR_VT_ACCESS_EN\t(1 << 8)  \n#define ARCH_TIMER_USR_PT_ACCESS_EN\t(1 << 9)  \n#define ARCH_TIMER_EVT_INTERVAL_SCALE\t(1 << 17)  \n\n#define ARCH_TIMER_EVT_STREAM_PERIOD_US\t100\n#define ARCH_TIMER_EVT_STREAM_FREQ\t\t\t\t\\\n\t(USEC_PER_SEC / ARCH_TIMER_EVT_STREAM_PERIOD_US)\n\nstruct arch_timer_kvm_info {\n\tstruct timecounter timecounter;\n\tint virtual_irq;\n\tint physical_irq;\n};\n\nstruct arch_timer_mem_frame {\n\tbool valid;\n\tphys_addr_t cntbase;\n\tsize_t size;\n\tint phys_irq;\n\tint virt_irq;\n};\n\nstruct arch_timer_mem {\n\tphys_addr_t cntctlbase;\n\tsize_t size;\n\tstruct arch_timer_mem_frame frame[ARCH_TIMER_MEM_MAX_FRAMES];\n};\n\n#ifdef CONFIG_ARM_ARCH_TIMER\n\nextern u32 arch_timer_get_rate(void);\nextern u64 (*arch_timer_read_counter)(void);\nextern struct arch_timer_kvm_info *arch_timer_get_kvm_info(void);\nextern bool arch_timer_evtstrm_available(void);\n\n#else\n\nstatic inline u32 arch_timer_get_rate(void)\n{\n\treturn 0;\n}\n\nstatic inline u64 arch_timer_read_counter(void)\n{\n\treturn 0;\n}\n\nstatic inline bool arch_timer_evtstrm_available(void)\n{\n\treturn false;\n}\n\n#endif\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}