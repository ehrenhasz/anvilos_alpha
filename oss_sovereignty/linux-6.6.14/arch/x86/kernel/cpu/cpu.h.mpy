{
  "module_name": "cpu.h",
  "hash_id": "44763d8a837cbba2b6ceb164c6bf0297303892438b3a8db39cce090579e2d89e",
  "original_prompt": "Ingested from linux-6.6.14/arch/x86/kernel/cpu/cpu.h",
  "human_readable_source": " \n#ifndef ARCH_X86_CPU_H\n#define ARCH_X86_CPU_H\n\n \nstruct cpu_dev {\n\tconst char\t*c_vendor;\n\n\t \n\tconst char\t*c_ident[2];\n\n\tvoid            (*c_early_init)(struct cpuinfo_x86 *);\n\tvoid\t\t(*c_bsp_init)(struct cpuinfo_x86 *);\n\tvoid\t\t(*c_init)(struct cpuinfo_x86 *);\n\tvoid\t\t(*c_identify)(struct cpuinfo_x86 *);\n\tvoid\t\t(*c_detect_tlb)(struct cpuinfo_x86 *);\n\tint\t\tc_x86_vendor;\n#ifdef CONFIG_X86_32\n\t \n\tunsigned int\t(*legacy_cache_size)(struct cpuinfo_x86 *,\n\t\t\t\t\t     unsigned int);\n\n\t \n\tstruct legacy_cpu_model_info {\n\t\tint\t\tfamily;\n\t\tconst char\t*model_names[16];\n\t}\t\tlegacy_models[5];\n#endif\n};\n\nstruct _tlb_table {\n\tunsigned char descriptor;\n\tchar tlb_type;\n\tunsigned int entries;\n\t \n\tchar info[128];\n};\n\n#define cpu_dev_register(cpu_devX) \\\n\tstatic const struct cpu_dev *const __cpu_dev_##cpu_devX __used \\\n\t__section(\".x86_cpu_dev.init\") = \\\n\t&cpu_devX;\n\nextern const struct cpu_dev *const __x86_cpu_dev_start[],\n\t\t\t    *const __x86_cpu_dev_end[];\n\n#ifdef CONFIG_CPU_SUP_INTEL\nenum tsx_ctrl_states {\n\tTSX_CTRL_ENABLE,\n\tTSX_CTRL_DISABLE,\n\tTSX_CTRL_RTM_ALWAYS_ABORT,\n\tTSX_CTRL_NOT_SUPPORTED,\n};\n\nextern __ro_after_init enum tsx_ctrl_states tsx_ctrl_state;\n\nextern void __init tsx_init(void);\nvoid tsx_ap_init(void);\n#else\nstatic inline void tsx_init(void) { }\nstatic inline void tsx_ap_init(void) { }\n#endif  \n\nextern void init_spectral_chicken(struct cpuinfo_x86 *c);\n\nextern void get_cpu_cap(struct cpuinfo_x86 *c);\nextern void get_cpu_address_sizes(struct cpuinfo_x86 *c);\nextern void cpu_detect_cache_sizes(struct cpuinfo_x86 *c);\nextern void init_scattered_cpuid_features(struct cpuinfo_x86 *c);\nextern void init_intel_cacheinfo(struct cpuinfo_x86 *c);\nextern void init_amd_cacheinfo(struct cpuinfo_x86 *c);\nextern void init_hygon_cacheinfo(struct cpuinfo_x86 *c);\n\nextern void detect_num_cpu_cores(struct cpuinfo_x86 *c);\nextern int detect_extended_topology_early(struct cpuinfo_x86 *c);\nextern int detect_extended_topology(struct cpuinfo_x86 *c);\nextern int detect_ht_early(struct cpuinfo_x86 *c);\nextern void detect_ht(struct cpuinfo_x86 *c);\nextern void check_null_seg_clears_base(struct cpuinfo_x86 *c);\n\nunsigned int aperfmperf_get_khz(int cpu);\nvoid cpu_select_mitigations(void);\n\nextern void x86_spec_ctrl_setup_ap(void);\nextern void update_srbds_msr(void);\nextern void update_gds_msr(void);\n\nextern enum spectre_v2_mitigation spectre_v2_enabled;\n\nstatic inline bool spectre_v2_in_eibrs_mode(enum spectre_v2_mitigation mode)\n{\n\treturn mode == SPECTRE_V2_EIBRS ||\n\t       mode == SPECTRE_V2_EIBRS_RETPOLINE ||\n\t       mode == SPECTRE_V2_EIBRS_LFENCE;\n}\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}