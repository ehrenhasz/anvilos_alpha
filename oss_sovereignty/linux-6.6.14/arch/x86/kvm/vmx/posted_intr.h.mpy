{
  "module_name": "posted_intr.h",
  "hash_id": "5a9fc7481626f87fb4679d86225b7cded8e6b4f2b5fbdf771bc83f5eb14cfe66",
  "original_prompt": "Ingested from linux-6.6.14/arch/x86/kvm/vmx/posted_intr.h",
  "human_readable_source": " \n#ifndef __KVM_X86_VMX_POSTED_INTR_H\n#define __KVM_X86_VMX_POSTED_INTR_H\n\n#define POSTED_INTR_ON  0\n#define POSTED_INTR_SN  1\n\n#define PID_TABLE_ENTRY_VALID 1\n\n \nstruct pi_desc {\n\tu32 pir[8];      \n\tunion {\n\t\tstruct {\n\t\t\t\t \n\t\t\tu16\ton\t: 1,\n\t\t\t\t \n\t\t\t\tsn\t: 1,\n\t\t\t\t \n\t\t\t\trsvd_1\t: 14;\n\t\t\t\t \n\t\t\tu8\tnv;\n\t\t\t\t \n\t\t\tu8\trsvd_2;\n\t\t\t\t \n\t\t\tu32\tndst;\n\t\t};\n\t\tu64 control;\n\t};\n\tu32 rsvd[6];\n} __aligned(64);\n\nstatic inline bool pi_test_and_set_on(struct pi_desc *pi_desc)\n{\n\treturn test_and_set_bit(POSTED_INTR_ON,\n\t\t\t(unsigned long *)&pi_desc->control);\n}\n\nstatic inline bool pi_test_and_clear_on(struct pi_desc *pi_desc)\n{\n\treturn test_and_clear_bit(POSTED_INTR_ON,\n\t\t\t(unsigned long *)&pi_desc->control);\n}\n\nstatic inline bool pi_test_and_clear_sn(struct pi_desc *pi_desc)\n{\n\treturn test_and_clear_bit(POSTED_INTR_SN,\n\t\t\t(unsigned long *)&pi_desc->control);\n}\n\nstatic inline bool pi_test_and_set_pir(int vector, struct pi_desc *pi_desc)\n{\n\treturn test_and_set_bit(vector, (unsigned long *)pi_desc->pir);\n}\n\nstatic inline bool pi_is_pir_empty(struct pi_desc *pi_desc)\n{\n\treturn bitmap_empty((unsigned long *)pi_desc->pir, NR_VECTORS);\n}\n\nstatic inline void pi_set_sn(struct pi_desc *pi_desc)\n{\n\tset_bit(POSTED_INTR_SN,\n\t\t(unsigned long *)&pi_desc->control);\n}\n\nstatic inline void pi_set_on(struct pi_desc *pi_desc)\n{\n\tset_bit(POSTED_INTR_ON,\n\t\t(unsigned long *)&pi_desc->control);\n}\n\nstatic inline void pi_clear_on(struct pi_desc *pi_desc)\n{\n\tclear_bit(POSTED_INTR_ON,\n\t\t(unsigned long *)&pi_desc->control);\n}\n\nstatic inline void pi_clear_sn(struct pi_desc *pi_desc)\n{\n\tclear_bit(POSTED_INTR_SN,\n\t\t(unsigned long *)&pi_desc->control);\n}\n\nstatic inline bool pi_test_on(struct pi_desc *pi_desc)\n{\n\treturn test_bit(POSTED_INTR_ON,\n\t\t\t(unsigned long *)&pi_desc->control);\n}\n\nstatic inline bool pi_test_sn(struct pi_desc *pi_desc)\n{\n\treturn test_bit(POSTED_INTR_SN,\n\t\t\t(unsigned long *)&pi_desc->control);\n}\n\nvoid vmx_vcpu_pi_load(struct kvm_vcpu *vcpu, int cpu);\nvoid vmx_vcpu_pi_put(struct kvm_vcpu *vcpu);\nvoid pi_wakeup_handler(void);\nvoid __init pi_init_cpu(int cpu);\nbool pi_has_pending_interrupt(struct kvm_vcpu *vcpu);\nint vmx_pi_update_irte(struct kvm *kvm, unsigned int host_irq,\n\t\t       uint32_t guest_irq, bool set);\nvoid vmx_pi_start_assignment(struct kvm *kvm);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}