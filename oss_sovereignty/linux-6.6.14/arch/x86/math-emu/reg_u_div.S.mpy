{
  "module_name": "reg_u_div.S",
  "hash_id": "c0e685a2d29300583dfe5f96bed32856870d6a2e36aedb7c7da7020c336040b2",
  "original_prompt": "Ingested from linux-6.6.14/arch/x86/math-emu/reg_u_div.S",
  "human_readable_source": " \n\t.file\t\"reg_u_div.S\"\n \n\n \n\n#include \"exception.h\"\n#include \"fpu_emu.h\"\n#include \"control_w.h\"\n\n\n \n \n\n\n#ifndef NON_REENTRANT_FPU\n \n#define FPU_accum_3\t-4(%ebp)\n#define FPU_accum_2\t-8(%ebp)\n#define FPU_accum_1\t-12(%ebp)\n#define FPU_accum_0\t-16(%ebp)\n#define FPU_result_1\t-20(%ebp)\n#define FPU_result_2\t-24(%ebp)\n#define FPU_ovfl_flag\t-28(%ebp)\n\n#else\n.data\n \n\t.align 4,0\nFPU_accum_3:\n\t.long\t0\nFPU_accum_2:\n\t.long\t0\nFPU_accum_1:\n\t.long\t0\nFPU_accum_0:\n\t.long\t0\nFPU_result_1:\n\t.long\t0\nFPU_result_2:\n\t.long\t0\nFPU_ovfl_flag:\n\t.byte\t0\n#endif  \n\n#define REGA\tPARAM1\n#define REGB\tPARAM2\n#define DEST\tPARAM3\n\n.text\nSYM_FUNC_START(FPU_u_div)\n\tpushl\t%ebp\n\tmovl\t%esp,%ebp\n#ifndef NON_REENTRANT_FPU\n\tsubl\t$28,%esp\n#endif  \n\n\tpushl\t%esi\n\tpushl\t%edi\n\tpushl\t%ebx\n\n\tmovl\tREGA,%esi\n\tmovl\tREGB,%ebx\n\tmovl\tDEST,%edi\n\n\tmovswl\tEXP(%esi),%edx\n\tmovswl\tEXP(%ebx),%eax\n\tsubl\t%eax,%edx\n\taddl\tEXP_BIAS,%edx\n\n\t \n\tcmpl\tEXP_WAY_UNDER,%edx\n\tjg\txExp_not_underflow\n\n\t \n\tmovl\tEXP_WAY_UNDER,%edx\n\nxExp_not_underflow:\n\n\tmovw    %dx,EXP(%edi)\n\n#ifdef PARANOID\n \n \n\ttestl\t$0x80000000, SIGH(%ebx)\t \n\tje\tL_bugged\n#endif   \n\n \n\tcmpl\t$0,SIGL(%ebx)\n\tjnz\tL_Full_Division\t \n\n \n\tmovl\tSIGH(%ebx),%ecx\t \n\tmovl\tSIGH(%esi),%edx\t \n\tmovl\tSIGL(%esi),%eax\t \n\n\tcmpl\t%ecx,%edx\n\tsetaeb\tFPU_ovfl_flag\t \n\tjb\tL_no_adjust\n\n\tsubl\t%ecx,%edx\t \n\nL_no_adjust:\n\t \n\tdivl\t%ecx\n\tmovl\t%eax,FPU_result_2\n\n\t \n\txorl\t%eax,%eax\n\tdivl\t%ecx\n\tmovl\t%eax,FPU_result_1\n\n\t \n\txorl\t%eax,%eax\n\tdivl\t%ecx\n\n\ttestb\t$255,FPU_ovfl_flag\t \n\tje\tL_no_overflow\n\n\t \n\t \n\tincw\tEXP(%edi)\n\n\t \n\tstc\t\t\t \n\trcrl\tFPU_result_2\n\trcrl\tFPU_result_1\n\trcrl\t%eax\n\nL_no_overflow:\n\tjmp\tLRound_precision\t \n\n\n \n\n\nL_Full_Division:\n\t \n\tmovl\tSIGL(%esi),%eax\n\tmovl\t%eax,FPU_accum_2\n\tmovl\tSIGH(%esi),%eax\n\tmovl\t%eax,FPU_accum_3\n\txorl\t%eax,%eax\n\tmovl\t%eax,FPU_accum_1\t \n\tmovl\t%eax,FPU_accum_0\t \n\n\tmovl\tSIGL(%esi),%eax\t \n\tmovl\tSIGH(%esi),%edx\n\n \n \n\n\tmovb\t$0,FPU_ovfl_flag\n\tcmpl\tSIGH(%ebx),%edx\t \n\tjb\tLLess_than_1\n\tja\tLGreater_than_1\n\n\tcmpl\tSIGL(%ebx),%eax\n\tjb\tLLess_than_1\n\nLGreater_than_1:\n \n\tsetaeb\tFPU_ovfl_flag\t\t \n\n\tsubl\tSIGL(%ebx),%eax\n\tsbbl\tSIGH(%ebx),%edx\t \n\tmovl\t%eax,FPU_accum_2\n\tmovl\t%edx,FPU_accum_3\n\nLLess_than_1:\n \n\n\t \n\tmovl\tSIGH(%ebx),%ecx\n\taddl\t$1,%ecx\n\tjnc\tLFirst_div_not_1\n\n\t \n\tmov\t%edx,%eax\n\tjmp\tLFirst_div_done\n\nLFirst_div_not_1:\n\tdivl\t%ecx\t\t \n\nLFirst_div_done:\n\tmovl\t%eax,FPU_result_2\t \n\n\tmull\tSIGH(%ebx)\t \n\n\tsubl\t%eax,FPU_accum_2\t \n\tsbbl\t%edx,FPU_accum_3\n\n\tmovl\tFPU_result_2,%eax\t \n\tmull\tSIGL(%ebx)\t \n\n\tsubl\t%eax,FPU_accum_1\t \n\tsbbl\t%edx,FPU_accum_2\n\tsbbl\t$0,FPU_accum_3\n\tje\tLDo_2nd_32_bits\t\t \n\n#ifdef PARANOID\n\tjb\tL_bugged_1\n#endif   \n\n\t \n\tincl\tFPU_result_2\t \n\n\tmovl\tSIGL(%ebx),%eax\n\tmovl\tSIGH(%ebx),%edx\n\tsubl\t%eax,FPU_accum_1\t \n\tsbbl\t%edx,FPU_accum_2\n\n#ifdef PARANOID\n\tsbbl\t$0,FPU_accum_3\n\tjne\tL_bugged_1\t \n#endif   \n\n \n \nLDo_2nd_32_bits:\n\tmovl\tFPU_accum_2,%edx\t \n\tmovl\tFPU_accum_1,%eax\n\n\t \n\tcmpl\tSIGH(%ebx),%edx\n\tjb\tLDo_2nd_div\n\tja\tLPrevent_2nd_overflow\n\n\tcmpl\tSIGL(%ebx),%eax\n\tjb\tLDo_2nd_div\n\nLPrevent_2nd_overflow:\n \n\t \n\tsubl\tSIGL(%ebx),%eax\n\tsbbl\tSIGH(%ebx),%edx\n\tmovl\t%edx,FPU_accum_2\n\tmovl\t%eax,FPU_accum_1\n\n\tincl\tFPU_result_2\t \n\n#ifdef PARANOID\n\tje\tL_bugged_2\t \n#endif   \n\nLDo_2nd_div:\n\tcmpl\t$0,%ecx\t\t \n\tjnz\tLSecond_div_not_1\n\n\t \n\tmov\t%edx,%eax\n\tjmp\tLSecond_div_done\n\nLSecond_div_not_1:\n\tdivl\t%ecx\t\t \n\nLSecond_div_done:\n\tmovl\t%eax,FPU_result_1\t \n\n\tmull\tSIGH(%ebx)\t \n\n\tsubl\t%eax,FPU_accum_1\t \n\tsbbl\t%edx,FPU_accum_2\n\n#ifdef PARANOID\n\tjc\tL_bugged_2\n#endif   \n\n\tmovl\tFPU_result_1,%eax\t \n\tmull\tSIGL(%ebx)\t \n\n\tsubl\t%eax,FPU_accum_0\t \n\tsbbl\t%edx,FPU_accum_1\t \n\tsbbl\t$0,FPU_accum_2\n\n#ifdef PARANOID\n\tjc\tL_bugged_2\n#endif   \n\n\tjz\tLDo_3rd_32_bits\n\n#ifdef PARANOID\n\tcmpl\t$1,FPU_accum_2\n\tjne\tL_bugged_2\n#endif  \n\n\t \n\tmovl\tSIGL(%ebx),%eax\n\tmovl\tSIGH(%ebx),%edx\n\tsubl\t%eax,FPU_accum_0\t \n\tsbbl\t%edx,FPU_accum_1\n\tsbbl\t$0,FPU_accum_2\n\n#ifdef PARANOID\n\tjc\tL_bugged_2\n\tjne\tL_bugged_2\n#endif   \n\n\taddl\t$1,FPU_result_1\t \n\tadcl\t$0,FPU_result_2\n\n#ifdef PARANOID\n\tjc\tL_bugged_2\t \n#endif  \n\n \n \nLDo_3rd_32_bits:\n\tmovl\tFPU_accum_1,%edx\t\t \n\tmovl\tFPU_accum_0,%eax\n\n\t \n\tcmpl\tSIGH(%ebx),%edx\t \n\tjb\tLRound_prep\n\tja\tLPrevent_3rd_overflow\n\n\tcmpl\tSIGL(%ebx),%eax\t \n\tjb\tLRound_prep\n\nLPrevent_3rd_overflow:\n\t \n\tsubl\tSIGL(%ebx),%eax\n\tsbbl\tSIGH(%ebx),%edx\n\tmovl\t%edx,FPU_accum_1\n\tmovl\t%eax,FPU_accum_0\n\n\taddl\t$1,FPU_result_1\t \n\tadcl\t$0,FPU_result_2\n\tjne\tLRound_prep\n\tjnc\tLRound_prep\n\n\t \n\tmovb\t$255,FPU_ovfl_flag\t\t \n\nLRound_prep:\n \n\tmovl\tFPU_accum_0,%ecx\n\tmovl\tFPU_accum_1,%edx\n\tmovl\t%ecx,%eax\n\torl\t%edx,%eax\n\tjz\tLRound_ovfl\t\t \n\n\t \n\tclc\n\trcll\t$1,%ecx\n\trcll\t$1,%edx\n\tjc\tLRound_large\t\t \n\n\tsubl\tSIGL(%ebx),%ecx\n\tsbbl\tSIGH(%ebx),%edx\n\tjnc\tLRound_not_small\n\n\tmovl\t$0x70000000,%eax\t \n\tjmp\tLRound_ovfl\n\nLRound_not_small:\n\tjnz\tLRound_large\n\n\tmovl\t$0x80000000,%eax\t \n\tjmp\tLRound_ovfl\n\nLRound_large:\n\tmovl\t$0xff000000,%eax\t \n\nLRound_ovfl:\n \n\ttestb\t$255,FPU_ovfl_flag\t \n\tje\tLRound_precision\n\n\tincw\tEXP(%edi)\n\n\t \n\tstc\t\t\t \n\trcrl\tFPU_result_2\n\trcrl\tFPU_result_1\n\trcrl\t%eax\n\n \nLRound_precision:\n\tdecw\tEXP(%edi)\t \n\n\tmovl\t%eax,%edx\n\tmovl\tFPU_result_1,%ebx\n\tmovl\tFPU_result_2,%eax\n\tjmp\tfpu_reg_round\n\n\n#ifdef PARANOID\n \nL_bugged:\n\tpushl\tEX_INTERNAL|0x202\n\tcall\tEXCEPTION\n\tpop\t%ebx\n\tjmp\tL_exit\n\nL_bugged_1:\n\tpushl\tEX_INTERNAL|0x203\n\tcall\tEXCEPTION\n\tpop\t%ebx\n\tjmp\tL_exit\n\nL_bugged_2:\n\tpushl\tEX_INTERNAL|0x204\n\tcall\tEXCEPTION\n\tpop\t%ebx\n\tjmp\tL_exit\n\nL_exit:\n\tmovl\t$-1,%eax\n\tpopl\t%ebx\n\tpopl\t%edi\n\tpopl\t%esi\n\n\tleave\n\tRET\n#endif   \n\nSYM_FUNC_END(FPU_u_div)\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}