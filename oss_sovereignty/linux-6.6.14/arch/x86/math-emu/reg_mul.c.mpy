{
  "module_name": "reg_mul.c",
  "hash_id": "8b0c06140813cfb77ce48d56eafb319cbdd579d3f668a2bd8494459ecfc802ce",
  "original_prompt": "Ingested from linux-6.6.14/arch/x86/math-emu/reg_mul.c",
  "human_readable_source": "\n \n\n \n\n#include \"fpu_emu.h\"\n#include \"exception.h\"\n#include \"reg_constant.h\"\n#include \"fpu_system.h\"\n\n \n \nint FPU_mul(FPU_REG const *b, u_char tagb, int deststnr, int control_w)\n{\n\tFPU_REG *a = &st(deststnr);\n\tFPU_REG *dest = a;\n\tu_char taga = FPU_gettagi(deststnr);\n\tu_char saved_sign = getsign(dest);\n\tu_char sign = (getsign(a) ^ getsign(b));\n\tint tag;\n\n\tif (!(taga | tagb)) {\n\t\t \n\n\t\ttag =\n\t\t    FPU_u_mul(a, b, dest, control_w, sign,\n\t\t\t      exponent(a) + exponent(b));\n\t\tif (tag < 0) {\n\t\t\tsetsign(dest, saved_sign);\n\t\t\treturn tag;\n\t\t}\n\t\tFPU_settagi(deststnr, tag);\n\t\treturn tag;\n\t}\n\n\tif (taga == TAG_Special)\n\t\ttaga = FPU_Special(a);\n\tif (tagb == TAG_Special)\n\t\ttagb = FPU_Special(b);\n\n\tif (((taga == TAG_Valid) && (tagb == TW_Denormal))\n\t    || ((taga == TW_Denormal) && (tagb == TAG_Valid))\n\t    || ((taga == TW_Denormal) && (tagb == TW_Denormal))) {\n\t\tFPU_REG x, y;\n\t\tif (denormal_operand() < 0)\n\t\t\treturn FPU_Exception;\n\n\t\tFPU_to_exp16(a, &x);\n\t\tFPU_to_exp16(b, &y);\n\t\ttag = FPU_u_mul(&x, &y, dest, control_w, sign,\n\t\t\t\texponent16(&x) + exponent16(&y));\n\t\tif (tag < 0) {\n\t\t\tsetsign(dest, saved_sign);\n\t\t\treturn tag;\n\t\t}\n\t\tFPU_settagi(deststnr, tag);\n\t\treturn tag;\n\t} else if ((taga <= TW_Denormal) && (tagb <= TW_Denormal)) {\n\t\tif (((tagb == TW_Denormal) || (taga == TW_Denormal))\n\t\t    && (denormal_operand() < 0))\n\t\t\treturn FPU_Exception;\n\n\t\t \n\t\tFPU_copy_to_regi(&CONST_Z, TAG_Zero, deststnr);\n\t\t \n\t\tsetsign(dest, sign);\n\t\treturn TAG_Zero;\n\t}\n\t \n\telse if ((taga == TW_NaN) || (tagb == TW_NaN)) {\n\t\treturn real_2op_NaN(b, tagb, deststnr, &st(0));\n\t} else if (((taga == TW_Infinity) && (tagb == TAG_Zero))\n\t\t   || ((tagb == TW_Infinity) && (taga == TAG_Zero))) {\n\t\treturn arith_invalid(deststnr);\t \n\t} else if (((taga == TW_Denormal) || (tagb == TW_Denormal))\n\t\t   && (denormal_operand() < 0)) {\n\t\treturn FPU_Exception;\n\t} else if (taga == TW_Infinity) {\n\t\tFPU_copy_to_regi(a, TAG_Special, deststnr);\n\t\tsetsign(dest, sign);\n\t\treturn TAG_Special;\n\t} else if (tagb == TW_Infinity) {\n\t\tFPU_copy_to_regi(b, TAG_Special, deststnr);\n\t\tsetsign(dest, sign);\n\t\treturn TAG_Special;\n\t}\n#ifdef PARANOID\n\telse {\n\t\tEXCEPTION(EX_INTERNAL | 0x102);\n\t\treturn FPU_Exception;\n\t}\n#endif  \n\n\treturn 0;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}