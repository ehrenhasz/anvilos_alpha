{
  "module_name": "intel-mid.c",
  "hash_id": "0c8496dfbe493117012f4de74501acb2f259626bb57ffcf55b62efa10b7acdda",
  "original_prompt": "Ingested from linux-6.6.14/arch/x86/platform/intel-mid/intel-mid.c",
  "human_readable_source": "\n \n\n#define pr_fmt(fmt) \"intel_mid: \" fmt\n\n#include <linux/init.h>\n#include <linux/kernel.h>\n#include <linux/interrupt.h>\n#include <linux/regulator/machine.h>\n#include <linux/scatterlist.h>\n#include <linux/irq.h>\n#include <linux/export.h>\n#include <linux/notifier.h>\n\n#include <asm/setup.h>\n#include <asm/mpspec_def.h>\n#include <asm/hw_irq.h>\n#include <asm/apic.h>\n#include <asm/io_apic.h>\n#include <asm/intel-mid.h>\n#include <asm/io.h>\n#include <asm/i8259.h>\n#include <asm/intel_scu_ipc.h>\n#include <asm/reboot.h>\n\n#define IPCMSG_COLD_OFF\t\t0x80\t \n#define IPCMSG_COLD_RESET\t0xF1\n\nstatic void intel_mid_power_off(void)\n{\n\t \n\tintel_mid_pwr_power_off();\n\n\t \n\tintel_scu_ipc_dev_simple_command(NULL, IPCMSG_COLD_OFF, 1);\n};\n\nstatic void intel_mid_reboot(void)\n{\n\tintel_scu_ipc_dev_simple_command(NULL, IPCMSG_COLD_RESET, 0);\n}\n\nstatic void __init intel_mid_time_init(void)\n{\n\t \n\tx86_init.timers.setup_percpu_clockev = setup_boot_APIC_clock;\n\tx86_cpuinit.setup_percpu_clockev = setup_secondary_APIC_clock;\n}\n\nstatic void intel_mid_arch_setup(void)\n{\n\tswitch (boot_cpu_data.x86_model) {\n\tcase 0x3C:\n\tcase 0x4A:\n\t\tx86_platform.legacy.rtc = 1;\n\t\tbreak;\n\tdefault:\n\t\tbreak;\n\t}\n\n\t \n\tregulator_has_full_constraints();\n}\n\n \nstatic unsigned char intel_mid_get_nmi_reason(void)\n{\n\treturn 0;\n}\n\n \nvoid __init x86_intel_mid_early_setup(void)\n{\n\tx86_init.resources.probe_roms = x86_init_noop;\n\tx86_init.resources.reserve_resources = x86_init_noop;\n\n\tx86_init.timers.timer_init = intel_mid_time_init;\n\tx86_init.timers.setup_percpu_clockev = x86_init_noop;\n\n\tx86_init.irqs.pre_vector_init = x86_init_noop;\n\n\tx86_init.oem.arch_setup = intel_mid_arch_setup;\n\n\tx86_platform.get_nmi_reason = intel_mid_get_nmi_reason;\n\n\tx86_init.pci.arch_init = intel_mid_pci_init;\n\tx86_init.pci.fixup_irqs = x86_init_noop;\n\n\tlegacy_pic = &null_legacy_pic;\n\n\t \n\tx86_init.acpi.reduced_hw_early_init = x86_init_noop;\n\n\tpm_power_off = intel_mid_power_off;\n\tmachine_ops.emergency_restart  = intel_mid_reboot;\n\n\t \n\tx86_init.mpparse.find_smp_config = x86_init_noop;\n\tx86_init.mpparse.get_smp_config = x86_init_uint_noop;\n\tset_bit(MP_BUS_ISA, mp_bus_not_pci);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}