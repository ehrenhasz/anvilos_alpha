{
  "module_name": "atomic64_cx8_32.S",
  "hash_id": "9551c5526c367d17fedf432a68295c4bc5015cc6f937b866027e3d1a9b291157",
  "original_prompt": "Ingested from linux-6.6.14/arch/x86/lib/atomic64_cx8_32.S",
  "human_readable_source": " \n \n\n#include <linux/linkage.h>\n#include <asm/alternative.h>\n\n.macro read64 reg\n\tmovl %ebx, %eax\n\tmovl %ecx, %edx\n \n\tLOCK_PREFIX\n\tcmpxchg8b (\\reg)\n.endm\n\nSYM_FUNC_START(atomic64_read_cx8)\n\tread64 %ecx\n\tRET\nSYM_FUNC_END(atomic64_read_cx8)\n\nSYM_FUNC_START(atomic64_set_cx8)\n1:\n \n\tcmpxchg8b (%esi)\n\tjne 1b\n\n\tRET\nSYM_FUNC_END(atomic64_set_cx8)\n\nSYM_FUNC_START(atomic64_xchg_cx8)\n1:\n\tLOCK_PREFIX\n\tcmpxchg8b (%esi)\n\tjne 1b\n\n\tRET\nSYM_FUNC_END(atomic64_xchg_cx8)\n\n.macro addsub_return func ins insc\nSYM_FUNC_START(atomic64_\\func\\()_return_cx8)\n\tpushl %ebp\n\tpushl %ebx\n\tpushl %esi\n\tpushl %edi\n\n\tmovl %eax, %esi\n\tmovl %edx, %edi\n\tmovl %ecx, %ebp\n\n\tread64 %ecx\n1:\n\tmovl %eax, %ebx\n\tmovl %edx, %ecx\n\t\\ins\\()l %esi, %ebx\n\t\\insc\\()l %edi, %ecx\n\tLOCK_PREFIX\n\tcmpxchg8b (%ebp)\n\tjne 1b\n\n10:\n\tmovl %ebx, %eax\n\tmovl %ecx, %edx\n\tpopl %edi\n\tpopl %esi\n\tpopl %ebx\n\tpopl %ebp\n\tRET\nSYM_FUNC_END(atomic64_\\func\\()_return_cx8)\n.endm\n\naddsub_return add add adc\naddsub_return sub sub sbb\n\n.macro incdec_return func ins insc\nSYM_FUNC_START(atomic64_\\func\\()_return_cx8)\n\tpushl %ebx\n\n\tread64 %esi\n1:\n\tmovl %eax, %ebx\n\tmovl %edx, %ecx\n\t\\ins\\()l $1, %ebx\n\t\\insc\\()l $0, %ecx\n\tLOCK_PREFIX\n\tcmpxchg8b (%esi)\n\tjne 1b\n\n10:\n\tmovl %ebx, %eax\n\tmovl %ecx, %edx\n\tpopl %ebx\n\tRET\nSYM_FUNC_END(atomic64_\\func\\()_return_cx8)\n.endm\n\nincdec_return inc add adc\nincdec_return dec sub sbb\n\nSYM_FUNC_START(atomic64_dec_if_positive_cx8)\n\tpushl %ebx\n\n\tread64 %esi\n1:\n\tmovl %eax, %ebx\n\tmovl %edx, %ecx\n\tsubl $1, %ebx\n\tsbb $0, %ecx\n\tjs 2f\n\tLOCK_PREFIX\n\tcmpxchg8b (%esi)\n\tjne 1b\n\n2:\n\tmovl %ebx, %eax\n\tmovl %ecx, %edx\n\tpopl %ebx\n\tRET\nSYM_FUNC_END(atomic64_dec_if_positive_cx8)\n\nSYM_FUNC_START(atomic64_add_unless_cx8)\n\tpushl %ebp\n\tpushl %ebx\n \n\tpushl %edi\n\tpushl %ecx\n\n\tmovl %eax, %ebp\n\tmovl %edx, %edi\n\n\tread64 %esi\n1:\n\tcmpl %eax, 0(%esp)\n\tje 4f\n2:\n\tmovl %eax, %ebx\n\tmovl %edx, %ecx\n\taddl %ebp, %ebx\n\tadcl %edi, %ecx\n\tLOCK_PREFIX\n\tcmpxchg8b (%esi)\n\tjne 1b\n\n\tmovl $1, %eax\n3:\n\taddl $8, %esp\n\tpopl %ebx\n\tpopl %ebp\n\tRET\n4:\n\tcmpl %edx, 4(%esp)\n\tjne 2b\n\txorl %eax, %eax\n\tjmp 3b\nSYM_FUNC_END(atomic64_add_unless_cx8)\n\nSYM_FUNC_START(atomic64_inc_not_zero_cx8)\n\tpushl %ebx\n\n\tread64 %esi\n1:\n\tmovl %eax, %ecx\n\torl %edx, %ecx\n\tjz 3f\n\tmovl %eax, %ebx\n\txorl %ecx, %ecx\n\taddl $1, %ebx\n\tadcl %edx, %ecx\n\tLOCK_PREFIX\n\tcmpxchg8b (%esi)\n\tjne 1b\n\n\tmovl $1, %eax\n3:\n\tpopl %ebx\n\tRET\nSYM_FUNC_END(atomic64_inc_not_zero_cx8)\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}