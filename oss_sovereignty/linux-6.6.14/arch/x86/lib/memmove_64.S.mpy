{
  "module_name": "memmove_64.S",
  "hash_id": "03fa4f27b025fd041ac6e2fcc1157e5af30b229daaa2385db1781d49dcbef665",
  "original_prompt": "Ingested from linux-6.6.14/arch/x86/lib/memmove_64.S",
  "human_readable_source": " \n \n#include <linux/linkage.h>\n#include <asm/cpufeatures.h>\n#include <asm/alternative.h>\n#include <asm/export.h>\n\n#undef memmove\n\n.section .noinstr.text, \"ax\"\n\n \nSYM_FUNC_START(__memmove)\n\n\tmov %rdi, %rax\n\n\t \n\tcmp %rdi, %rsi\n\tjge .Lmemmove_begin_forward\n\tmov %rsi, %r8\n\tadd %rdx, %r8\n\tcmp %rdi, %r8\n\tjg 2f\n\n#define CHECK_LEN\tcmp $0x20, %rdx; jb 1f\n#define MEMMOVE_BYTES\tmovq %rdx, %rcx; rep movsb; RET\n.Lmemmove_begin_forward:\n\tALTERNATIVE_2 __stringify(CHECK_LEN), \\\n\t\t      __stringify(CHECK_LEN; MEMMOVE_BYTES), X86_FEATURE_ERMS, \\\n\t\t      __stringify(MEMMOVE_BYTES), X86_FEATURE_FSRM\n\n\t \n\tcmp  $680, %rdx\n\tjb\t3f\n\t \n\n\tcmpb %dil, %sil\n\tje 4f\n3:\n\tsub $0x20, %rdx\n\t \n5:\n\tsub $0x20, %rdx\n\tmovq 0*8(%rsi), %r11\n\tmovq 1*8(%rsi), %r10\n\tmovq 2*8(%rsi), %r9\n\tmovq 3*8(%rsi), %r8\n\tleaq 4*8(%rsi), %rsi\n\n\tmovq %r11, 0*8(%rdi)\n\tmovq %r10, 1*8(%rdi)\n\tmovq %r9, 2*8(%rdi)\n\tmovq %r8, 3*8(%rdi)\n\tleaq 4*8(%rdi), %rdi\n\tjae 5b\n\taddq $0x20, %rdx\n\tjmp 1f\n\t \n\t.p2align 4\n4:\n\tmovq %rdx, %rcx\n\tmovq -8(%rsi, %rdx), %r11\n\tlea -8(%rdi, %rdx), %r10\n\tshrq $3, %rcx\n\trep movsq\n\tmovq %r11, (%r10)\n\tjmp 13f\n.Lmemmove_end_forward:\n\n\t \n\t.p2align 4\n7:\n\tmovq %rdx, %rcx\n\tmovq (%rsi), %r11\n\tmovq %rdi, %r10\n\tleaq -8(%rsi, %rdx), %rsi\n\tleaq -8(%rdi, %rdx), %rdi\n\tshrq $3, %rcx\n\tstd\n\trep movsq\n\tcld\n\tmovq %r11, (%r10)\n\tjmp 13f\n\n\t \n\t.p2align 4\n2:\n\tcmp $0x20, %rdx\n\tjb 1f\n\tcmp $680, %rdx\n\tjb 6f\n\tcmp %dil, %sil\n\tje 7b\n6:\n\t \n\taddq %rdx, %rsi\n\taddq %rdx, %rdi\n\tsubq $0x20, %rdx\n\t \n8:\n\tsubq $0x20, %rdx\n\tmovq -1*8(%rsi), %r11\n\tmovq -2*8(%rsi), %r10\n\tmovq -3*8(%rsi), %r9\n\tmovq -4*8(%rsi), %r8\n\tleaq -4*8(%rsi), %rsi\n\n\tmovq %r11, -1*8(%rdi)\n\tmovq %r10, -2*8(%rdi)\n\tmovq %r9, -3*8(%rdi)\n\tmovq %r8, -4*8(%rdi)\n\tleaq -4*8(%rdi), %rdi\n\tjae 8b\n\t \n\taddq $0x20, %rdx\n\tsubq %rdx, %rsi\n\tsubq %rdx, %rdi\n1:\n\tcmpq $16, %rdx\n\tjb 9f\n\t \n\tmovq 0*8(%rsi), %r11\n\tmovq 1*8(%rsi), %r10\n\tmovq -2*8(%rsi, %rdx), %r9\n\tmovq -1*8(%rsi, %rdx), %r8\n\tmovq %r11, 0*8(%rdi)\n\tmovq %r10, 1*8(%rdi)\n\tmovq %r9, -2*8(%rdi, %rdx)\n\tmovq %r8, -1*8(%rdi, %rdx)\n\tjmp 13f\n\t.p2align 4\n9:\n\tcmpq $8, %rdx\n\tjb 10f\n\t \n\tmovq 0*8(%rsi), %r11\n\tmovq -1*8(%rsi, %rdx), %r10\n\tmovq %r11, 0*8(%rdi)\n\tmovq %r10, -1*8(%rdi, %rdx)\n\tjmp 13f\n10:\n\tcmpq $4, %rdx\n\tjb 11f\n\t \n\tmovl (%rsi), %r11d\n\tmovl -4(%rsi, %rdx), %r10d\n\tmovl %r11d, (%rdi)\n\tmovl %r10d, -4(%rdi, %rdx)\n\tjmp 13f\n11:\n\tcmp $2, %rdx\n\tjb 12f\n\t \n\tmovw (%rsi), %r11w\n\tmovw -2(%rsi, %rdx), %r10w\n\tmovw %r11w, (%rdi)\n\tmovw %r10w, -2(%rdi, %rdx)\n\tjmp 13f\n12:\n\tcmp $1, %rdx\n\tjb 13f\n\t \n\tmovb (%rsi), %r11b\n\tmovb %r11b, (%rdi)\n13:\n\tRET\nSYM_FUNC_END(__memmove)\nEXPORT_SYMBOL(__memmove)\n\nSYM_FUNC_ALIAS_MEMFUNC(memmove, __memmove)\nEXPORT_SYMBOL(memmove)\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}