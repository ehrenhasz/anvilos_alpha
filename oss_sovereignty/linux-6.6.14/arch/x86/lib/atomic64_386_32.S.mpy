{
  "module_name": "atomic64_386_32.S",
  "hash_id": "a271db4e250bc445a48bf15af261875152fe9047fd079f085e174cf2388907a7",
  "original_prompt": "Ingested from linux-6.6.14/arch/x86/lib/atomic64_386_32.S",
  "human_readable_source": " \n \n\n#include <linux/linkage.h>\n#include <asm/alternative.h>\n\n \n.macro IRQ_SAVE reg\n\tpushfl\n\tcli\n.endm\n\n.macro IRQ_RESTORE reg\n\tpopfl\n.endm\n\n#define BEGIN_IRQ_SAVE(op) \\\n.macro endp; \\\nSYM_FUNC_END(atomic64_##op##_386); \\\n.purgem endp; \\\n.endm; \\\nSYM_FUNC_START(atomic64_##op##_386); \\\n\tIRQ_SAVE v;\n\n#define ENDP endp\n\n#define RET_IRQ_RESTORE \\\n\tIRQ_RESTORE v; \\\n\tRET\n\n#define v %ecx\nBEGIN_IRQ_SAVE(read)\n\tmovl  (v), %eax\n\tmovl 4(v), %edx\n\tRET_IRQ_RESTORE\nENDP\n#undef v\n\n#define v %esi\nBEGIN_IRQ_SAVE(set)\n\tmovl %ebx,  (v)\n\tmovl %ecx, 4(v)\n\tRET_IRQ_RESTORE\nENDP\n#undef v\n\n#define v  %esi\nBEGIN_IRQ_SAVE(xchg)\n\tmovl  (v), %eax\n\tmovl 4(v), %edx\n\tmovl %ebx,  (v)\n\tmovl %ecx, 4(v)\n\tRET_IRQ_RESTORE\nENDP\n#undef v\n\n#define v %ecx\nBEGIN_IRQ_SAVE(add)\n\taddl %eax,  (v)\n\tadcl %edx, 4(v)\n\tRET_IRQ_RESTORE\nENDP\n#undef v\n\n#define v %ecx\nBEGIN_IRQ_SAVE(add_return)\n\taddl  (v), %eax\n\tadcl 4(v), %edx\n\tmovl %eax,  (v)\n\tmovl %edx, 4(v)\n\tRET_IRQ_RESTORE\nENDP\n#undef v\n\n#define v %ecx\nBEGIN_IRQ_SAVE(sub)\n\tsubl %eax,  (v)\n\tsbbl %edx, 4(v)\n\tRET_IRQ_RESTORE\nENDP\n#undef v\n\n#define v %ecx\nBEGIN_IRQ_SAVE(sub_return)\n\tnegl %edx\n\tnegl %eax\n\tsbbl $0, %edx\n\taddl  (v), %eax\n\tadcl 4(v), %edx\n\tmovl %eax,  (v)\n\tmovl %edx, 4(v)\n\tRET_IRQ_RESTORE\nENDP\n#undef v\n\n#define v %esi\nBEGIN_IRQ_SAVE(inc)\n\taddl $1,  (v)\n\tadcl $0, 4(v)\n\tRET_IRQ_RESTORE\nENDP\n#undef v\n\n#define v %esi\nBEGIN_IRQ_SAVE(inc_return)\n\tmovl  (v), %eax\n\tmovl 4(v), %edx\n\taddl $1, %eax\n\tadcl $0, %edx\n\tmovl %eax,  (v)\n\tmovl %edx, 4(v)\n\tRET_IRQ_RESTORE\nENDP\n#undef v\n\n#define v %esi\nBEGIN_IRQ_SAVE(dec)\n\tsubl $1,  (v)\n\tsbbl $0, 4(v)\n\tRET_IRQ_RESTORE\nENDP\n#undef v\n\n#define v %esi\nBEGIN_IRQ_SAVE(dec_return)\n\tmovl  (v), %eax\n\tmovl 4(v), %edx\n\tsubl $1, %eax\n\tsbbl $0, %edx\n\tmovl %eax,  (v)\n\tmovl %edx, 4(v)\n\tRET_IRQ_RESTORE\nENDP\n#undef v\n\n#define v %esi\nBEGIN_IRQ_SAVE(add_unless)\n\taddl %eax, %ecx\n\tadcl %edx, %edi\n\taddl  (v), %eax\n\tadcl 4(v), %edx\n\tcmpl %eax, %ecx\n\tje 3f\n1:\n\tmovl %eax,  (v)\n\tmovl %edx, 4(v)\n\tmovl $1, %eax\n2:\n\tRET_IRQ_RESTORE\n3:\n\tcmpl %edx, %edi\n\tjne 1b\n\txorl %eax, %eax\n\tjmp 2b\nENDP\n#undef v\n\n#define v %esi\nBEGIN_IRQ_SAVE(inc_not_zero)\n\tmovl  (v), %eax\n\tmovl 4(v), %edx\n\ttestl %eax, %eax\n\tje 3f\n1:\n\taddl $1, %eax\n\tadcl $0, %edx\n\tmovl %eax,  (v)\n\tmovl %edx, 4(v)\n\tmovl $1, %eax\n2:\n\tRET_IRQ_RESTORE\n3:\n\ttestl %edx, %edx\n\tjne 1b\n\tjmp 2b\nENDP\n#undef v\n\n#define v %esi\nBEGIN_IRQ_SAVE(dec_if_positive)\n\tmovl  (v), %eax\n\tmovl 4(v), %edx\n\tsubl $1, %eax\n\tsbbl $0, %edx\n\tjs 1f\n\tmovl %eax,  (v)\n\tmovl %edx, 4(v)\n1:\n\tRET_IRQ_RESTORE\nENDP\n#undef v\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}