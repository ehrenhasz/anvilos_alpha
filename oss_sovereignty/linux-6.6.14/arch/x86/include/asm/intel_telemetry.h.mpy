{
  "module_name": "intel_telemetry.h",
  "hash_id": "62a3dd6bc39b43a2d5be248bb3886e1866395025a8c598ff09b99245805094e7",
  "original_prompt": "Ingested from linux-6.6.14/arch/x86/include/asm/intel_telemetry.h",
  "human_readable_source": " \n \n#ifndef INTEL_TELEMETRY_H\n#define INTEL_TELEMETRY_H\n\n#define TELEM_MAX_EVENTS_SRAM\t\t28\n#define TELEM_MAX_OS_ALLOCATED_EVENTS\t20\n\n#include <asm/intel_scu_ipc.h>\n\nenum telemetry_unit {\n\tTELEM_PSS = 0,\n\tTELEM_IOSS,\n\tTELEM_UNIT_NONE\n};\n\nstruct telemetry_evtlog {\n\tu32 telem_evtid;\n\tu64 telem_evtlog;\n};\n\nstruct telemetry_evtconfig {\n\t \n\tu32 *evtmap;\n\n\t \n\tu8 num_evts;\n\n\t \n\tu8 period;\n};\n\nstruct telemetry_evtmap {\n\tconst char *name;\n\tu32 evt_id;\n};\n\nstruct telemetry_unit_config {\n\tstruct telemetry_evtmap *telem_evts;\n\tvoid __iomem *regmap;\n\tu8 ssram_evts_used;\n\tu8 curr_period;\n\tu8 max_period;\n\tu8 min_period;\n};\n\nstruct telemetry_plt_config {\n\tstruct telemetry_unit_config pss_config;\n\tstruct telemetry_unit_config ioss_config;\n\tstruct mutex telem_trace_lock;\n\tstruct mutex telem_lock;\n\tstruct intel_pmc_dev *pmc;\n\tstruct intel_scu_ipc_dev *scu;\n\tbool telem_in_use;\n};\n\nstruct telemetry_core_ops {\n\tint (*get_sampling_period)(u8 *pss_min_period, u8 *pss_max_period,\n\t\t\t\t   u8 *ioss_min_period, u8 *ioss_max_period);\n\n\tint (*get_eventconfig)(struct telemetry_evtconfig *pss_evtconfig,\n\t\t\t       struct telemetry_evtconfig *ioss_evtconfig,\n\t\t\t       int pss_len, int ioss_len);\n\n\tint (*update_events)(struct telemetry_evtconfig pss_evtconfig,\n\t\t\t     struct telemetry_evtconfig ioss_evtconfig);\n\n\tint (*set_sampling_period)(u8 pss_period, u8 ioss_period);\n\n\tint (*get_trace_verbosity)(enum telemetry_unit telem_unit,\n\t\t\t\t   u32 *verbosity);\n\n\tint (*set_trace_verbosity)(enum telemetry_unit telem_unit,\n\t\t\t\t   u32 verbosity);\n\n\tint (*raw_read_eventlog)(enum telemetry_unit telem_unit,\n\t\t\t\t struct telemetry_evtlog *evtlog,\n\t\t\t\t int len, int log_all_evts);\n\n\tint (*read_eventlog)(enum telemetry_unit telem_unit,\n\t\t\t     struct telemetry_evtlog *evtlog,\n\t\t\t     int len, int log_all_evts);\n\n\tint (*add_events)(u8 num_pss_evts, u8 num_ioss_evts,\n\t\t\t  u32 *pss_evtmap, u32 *ioss_evtmap);\n\n\tint (*reset_events)(void);\n};\n\nint telemetry_set_pltdata(const struct telemetry_core_ops *ops,\n\t\t\t  struct telemetry_plt_config *pltconfig);\n\nint telemetry_clear_pltdata(void);\n\nstruct telemetry_plt_config *telemetry_get_pltdata(void);\n\nint telemetry_get_evtname(enum telemetry_unit telem_unit,\n\t\t\t  const char **name, int len);\n\nint telemetry_update_events(struct telemetry_evtconfig pss_evtconfig,\n\t\t\t    struct telemetry_evtconfig ioss_evtconfig);\n\nint telemetry_add_events(u8 num_pss_evts, u8 num_ioss_evts,\n\t\t\t u32 *pss_evtmap, u32 *ioss_evtmap);\n\nint telemetry_reset_events(void);\n\nint telemetry_get_eventconfig(struct telemetry_evtconfig *pss_config,\n\t\t\t      struct telemetry_evtconfig *ioss_config,\n\t\t\t      int pss_len, int ioss_len);\n\nint telemetry_read_events(enum telemetry_unit telem_unit,\n\t\t\t  struct telemetry_evtlog *evtlog, int len);\n\nint telemetry_raw_read_events(enum telemetry_unit telem_unit,\n\t\t\t      struct telemetry_evtlog *evtlog, int len);\n\nint telemetry_read_eventlog(enum telemetry_unit telem_unit,\n\t\t\t    struct telemetry_evtlog *evtlog, int len);\n\nint telemetry_raw_read_eventlog(enum telemetry_unit telem_unit,\n\t\t\t\tstruct telemetry_evtlog *evtlog, int len);\n\nint telemetry_get_sampling_period(u8 *pss_min_period, u8 *pss_max_period,\n\t\t\t\t  u8 *ioss_min_period, u8 *ioss_max_period);\n\nint telemetry_set_sampling_period(u8 pss_period, u8 ioss_period);\n\nint telemetry_set_trace_verbosity(enum telemetry_unit telem_unit,\n\t\t\t\t  u32 verbosity);\n\nint telemetry_get_trace_verbosity(enum telemetry_unit telem_unit,\n\t\t\t\t  u32 *verbosity);\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}