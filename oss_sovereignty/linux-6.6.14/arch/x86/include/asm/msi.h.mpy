{
  "module_name": "msi.h",
  "hash_id": "cd51fa38f75ce3806ab83e26062ccc6523118a190c8128a27ee40f688ad9611f",
  "original_prompt": "Ingested from linux-6.6.14/arch/x86/include/asm/msi.h",
  "human_readable_source": " \n#ifndef _ASM_X86_MSI_H\n#define _ASM_X86_MSI_H\n#include <asm/hw_irq.h>\n#include <asm/irqdomain.h>\n\ntypedef struct irq_alloc_info msi_alloc_info_t;\n\nint pci_msi_prepare(struct irq_domain *domain, struct device *dev, int nvec,\n\t\t    msi_alloc_info_t *arg);\n\n \n\ntypedef struct x86_msi_data {\n\tunion {\n\t\tstruct {\n\t\t\tu32\tvector\t\t\t:  8,\n\t\t\t\tdelivery_mode\t\t:  3,\n\t\t\t\tdest_mode_logical\t:  1,\n\t\t\t\treserved\t\t:  2,\n\t\t\t\tactive_low\t\t:  1,\n\t\t\t\tis_level\t\t:  1;\n\t\t};\n\t\tu32\tdmar_subhandle;\n\t};\n} __attribute__ ((packed)) arch_msi_msg_data_t;\n#define arch_msi_msg_data\tx86_msi_data\n\ntypedef struct x86_msi_addr_lo {\n\tunion {\n\t\tstruct {\n\t\t\tu32\treserved_0\t\t:  2,\n\t\t\t\tdest_mode_logical\t:  1,\n\t\t\t\tredirect_hint\t\t:  1,\n\t\t\t\treserved_1\t\t:  1,\n\t\t\t\tvirt_destid_8_14\t:  7,\n\t\t\t\tdestid_0_7\t\t:  8,\n\t\t\t\tbase_address\t\t: 12;\n\t\t};\n\t\tstruct {\n\t\t\tu32\tdmar_reserved_0\t\t:  2,\n\t\t\t\tdmar_index_15\t\t:  1,\n\t\t\t\tdmar_subhandle_valid\t:  1,\n\t\t\t\tdmar_format\t\t:  1,\n\t\t\t\tdmar_index_0_14\t\t: 15,\n\t\t\t\tdmar_base_address\t: 12;\n\t\t};\n\t};\n} __attribute__ ((packed)) arch_msi_msg_addr_lo_t;\n#define arch_msi_msg_addr_lo\tx86_msi_addr_lo\n\n#define X86_MSI_BASE_ADDRESS_LOW\t(0xfee00000 >> 20)\n\ntypedef struct x86_msi_addr_hi {\n\tu32\treserved\t\t:  8,\n\t\tdestid_8_31\t\t: 24;\n} __attribute__ ((packed)) arch_msi_msg_addr_hi_t;\n#define arch_msi_msg_addr_hi\tx86_msi_addr_hi\n\n#define X86_MSI_BASE_ADDRESS_HIGH\t(0)\n\nstruct msi_msg;\nu32 x86_msi_msg_get_destid(struct msi_msg *msg, bool extid);\n\n#define X86_VECTOR_MSI_FLAGS_SUPPORTED\t\t\t\t\t\\\n\t(MSI_GENERIC_FLAGS_MASK | MSI_FLAG_PCI_MSIX | MSI_FLAG_PCI_MSIX_ALLOC_DYN)\n\n#define X86_VECTOR_MSI_FLAGS_REQUIRED\t\t\t\t\t\\\n\t(MSI_FLAG_USE_DEF_DOM_OPS | MSI_FLAG_USE_DEF_CHIP_OPS)\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}