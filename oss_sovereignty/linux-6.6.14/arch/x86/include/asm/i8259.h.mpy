{
  "module_name": "i8259.h",
  "hash_id": "d2602114b5863e1d218f09a6c7e48fb500a5424d5524e96ef7fe5860886f6c80",
  "original_prompt": "Ingested from linux-6.6.14/arch/x86/include/asm/i8259.h",
  "human_readable_source": " \n#ifndef _ASM_X86_I8259_H\n#define _ASM_X86_I8259_H\n\n#include <linux/delay.h>\n#include <asm/io.h>\n\nextern unsigned int cached_irq_mask;\n\n#define __byte(x, y)\t\t(((unsigned char *)&(y))[x])\n#define cached_master_mask\t(__byte(0, cached_irq_mask))\n#define cached_slave_mask\t(__byte(1, cached_irq_mask))\n\n \n#define PIC_MASTER_CMD\t\t0x20\n#define PIC_MASTER_IMR\t\t0x21\n#define PIC_MASTER_ISR\t\tPIC_MASTER_CMD\n#define PIC_MASTER_POLL\t\tPIC_MASTER_ISR\n#define PIC_MASTER_OCW3\t\tPIC_MASTER_ISR\n#define PIC_SLAVE_CMD\t\t0xa0\n#define PIC_SLAVE_IMR\t\t0xa1\n#define PIC_ELCR1\t\t0x4d0\n#define PIC_ELCR2\t\t0x4d1\n\n \n#define PIC_CASCADE_IR\t\t2\n#define MASTER_ICW4_DEFAULT\t0x01\n#define SLAVE_ICW4_DEFAULT\t0x01\n#define PIC_ICW4_AEOI\t\t2\n\nextern raw_spinlock_t i8259A_lock;\n\n \nstatic inline unsigned char inb_pic(unsigned int port)\n{\n\tunsigned char value = inb(port);\n\n\t \n\tudelay(2);\n\n\treturn value;\n}\n\nstatic inline void outb_pic(unsigned char value, unsigned int port)\n{\n\toutb(value, port);\n\t \n\tudelay(2);\n}\n\nextern struct irq_chip i8259A_chip;\n\nstruct legacy_pic {\n\tint nr_legacy_irqs;\n\tstruct irq_chip *chip;\n\tvoid (*mask)(unsigned int irq);\n\tvoid (*unmask)(unsigned int irq);\n\tvoid (*mask_all)(void);\n\tvoid (*restore_mask)(void);\n\tvoid (*init)(int auto_eoi);\n\tint (*probe)(void);\n\tint (*irq_pending)(unsigned int irq);\n\tvoid (*make_irq)(unsigned int irq);\n};\n\nvoid legacy_pic_pcat_compat(void);\n\nextern struct legacy_pic *legacy_pic;\nextern struct legacy_pic null_legacy_pic;\n\nstatic inline bool has_legacy_pic(void)\n{\n\treturn legacy_pic != &null_legacy_pic;\n}\n\nstatic inline int nr_legacy_irqs(void)\n{\n\treturn legacy_pic->nr_legacy_irqs;\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}