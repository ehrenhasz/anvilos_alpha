{
  "module_name": "hypervisor.h",
  "hash_id": "36d0175d32781d5b8eebc417f74d09c8b1fb83215db4742adf33d0aa3a04e629",
  "original_prompt": "Ingested from linux-6.6.14/arch/x86/include/asm/xen/hypervisor.h",
  "human_readable_source": " \n\n#ifndef _ASM_X86_XEN_HYPERVISOR_H\n#define _ASM_X86_XEN_HYPERVISOR_H\n\nextern struct shared_info *HYPERVISOR_shared_info;\nextern struct start_info *xen_start_info;\n\n#include <asm/bug.h>\n#include <asm/processor.h>\n\n#define XEN_SIGNATURE \"XenVMMXenVMM\"\n\nstatic inline uint32_t xen_cpuid_base(void)\n{\n\treturn hypervisor_cpuid_base(XEN_SIGNATURE, 2);\n}\n\nstruct pci_dev;\n\n#ifdef CONFIG_XEN_PV_DOM0\nbool xen_initdom_restore_msi(struct pci_dev *dev);\n#else\nstatic inline bool xen_initdom_restore_msi(struct pci_dev *dev) { return true; }\n#endif\n\n#ifdef CONFIG_HOTPLUG_CPU\nvoid xen_arch_register_cpu(int num);\nvoid xen_arch_unregister_cpu(int num);\n#endif\n\n#ifdef CONFIG_PVH\nvoid __init xen_pvh_init(struct boot_params *boot_params);\nvoid __init mem_map_via_hcall(struct boot_params *boot_params_p);\n#endif\n\n \nenum xen_lazy_mode {\n\tXEN_LAZY_NONE,\n\tXEN_LAZY_MMU,\n\tXEN_LAZY_CPU,\n};\n\nDECLARE_PER_CPU(enum xen_lazy_mode, xen_lazy_mode);\nDECLARE_PER_CPU(unsigned int, xen_lazy_nesting);\n\nstatic inline void enter_lazy(enum xen_lazy_mode mode)\n{\n\tenum xen_lazy_mode old_mode = this_cpu_read(xen_lazy_mode);\n\n\tif (mode == old_mode) {\n\t\tthis_cpu_inc(xen_lazy_nesting);\n\t\treturn;\n\t}\n\n\tBUG_ON(old_mode != XEN_LAZY_NONE);\n\n\tthis_cpu_write(xen_lazy_mode, mode);\n}\n\nstatic inline void leave_lazy(enum xen_lazy_mode mode)\n{\n\tBUG_ON(this_cpu_read(xen_lazy_mode) != mode);\n\n\tif (this_cpu_read(xen_lazy_nesting) == 0)\n\t\tthis_cpu_write(xen_lazy_mode, XEN_LAZY_NONE);\n\telse\n\t\tthis_cpu_dec(xen_lazy_nesting);\n}\n\nenum xen_lazy_mode xen_get_lazy_mode(void);\n\n#if defined(CONFIG_XEN_DOM0) && defined(CONFIG_ACPI)\nvoid xen_sanitize_proc_cap_bits(uint32_t *buf);\n#else\nstatic inline void xen_sanitize_proc_cap_bits(uint32_t *buf)\n{\n\tBUG();\n}\n#endif\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}