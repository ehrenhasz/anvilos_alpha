{
  "module_name": "hyperv-tlfs.h",
  "hash_id": "3cd400d6d433cdda168d448fa936f524ee13b6404f14aa1284b8d56414eaab47",
  "original_prompt": "Ingested from linux-6.6.14/arch/x86/include/asm/hyperv-tlfs.h",
  "human_readable_source": " \n\n \n\n#ifndef _ASM_X86_HYPERV_TLFS_H\n#define _ASM_X86_HYPERV_TLFS_H\n\n#include <linux/types.h>\n#include <asm/page.h>\n \n#define HYPERV_CPUID_VENDOR_AND_MAX_FUNCTIONS\t0x40000000\n#define HYPERV_CPUID_INTERFACE\t\t\t0x40000001\n#define HYPERV_CPUID_VERSION\t\t\t0x40000002\n#define HYPERV_CPUID_FEATURES\t\t\t0x40000003\n#define HYPERV_CPUID_ENLIGHTMENT_INFO\t\t0x40000004\n#define HYPERV_CPUID_IMPLEMENT_LIMITS\t\t0x40000005\n#define HYPERV_CPUID_CPU_MANAGEMENT_FEATURES\t0x40000007\n#define HYPERV_CPUID_NESTED_FEATURES\t\t0x4000000A\n#define HYPERV_CPUID_ISOLATION_CONFIG\t\t0x4000000C\n\n#define HYPERV_CPUID_VIRT_STACK_INTERFACE\t0x40000081\n#define HYPERV_VS_INTERFACE_EAX_SIGNATURE\t0x31235356   \n\n#define HYPERV_CPUID_VIRT_STACK_PROPERTIES\t0x40000082\n \n#define HYPERV_VS_PROPERTIES_EAX_EXTENDED_IOAPIC_RTE\tBIT(2)\n\n#define HYPERV_HYPERVISOR_PRESENT_BIT\t\t0x80000000\n#define HYPERV_CPUID_MIN\t\t\t0x40000005\n#define HYPERV_CPUID_MAX\t\t\t0x4000ffff\n\n \n \n#define HV_X64_MWAIT_AVAILABLE\t\t\t\tBIT(0)\n \n#define HV_X64_GUEST_DEBUGGING_AVAILABLE\t\tBIT(1)\n \n#define HV_X64_PERF_MONITOR_AVAILABLE\t\t\tBIT(2)\n \n#define HV_X64_CPU_DYNAMIC_PARTITIONING_AVAILABLE\tBIT(3)\n \n#define HV_X64_HYPERCALL_XMM_INPUT_AVAILABLE\t\tBIT(4)\n \n#define HV_X64_GUEST_IDLE_STATE_AVAILABLE\t\tBIT(5)\n \n#define HV_FEATURE_FREQUENCY_MSRS_AVAILABLE\t\tBIT(8)\n \n#define HV_FEATURE_GUEST_CRASH_MSR_AVAILABLE\t\tBIT(10)\n \n#define HV_FEATURE_DEBUG_MSRS_AVAILABLE\t\t\tBIT(11)\n \n#define HV_FEATURE_EXT_GVA_RANGES_FLUSH\t\t\tBIT(14)\n \n#define HV_X64_HYPERCALL_XMM_OUTPUT_AVAILABLE\t\tBIT(15)\n \n#define HV_STIMER_DIRECT_MODE_AVAILABLE\t\t\tBIT(19)\n\n \n \n#define HV_X64_AS_SWITCH_RECOMMENDED\t\t\tBIT(0)\n \n#define HV_X64_LOCAL_TLB_FLUSH_RECOMMENDED\t\tBIT(1)\n \n#define HV_X64_REMOTE_TLB_FLUSH_RECOMMENDED\t\tBIT(2)\n \n#define HV_X64_APIC_ACCESS_RECOMMENDED\t\t\tBIT(3)\n \n#define HV_X64_SYSTEM_RESET_RECOMMENDED\t\t\tBIT(4)\n \n#define HV_X64_RELAXED_TIMING_RECOMMENDED\t\tBIT(5)\n\n \n#define HV_DEPRECATING_AEOI_RECOMMENDED\t\t\tBIT(9)\n\n \n#define HV_X64_CLUSTER_IPI_RECOMMENDED\t\t\tBIT(10)\n\n \n#define HV_X64_EX_PROCESSOR_MASKS_RECOMMENDED\t\tBIT(11)\n\n \n#define HV_X64_HYPERV_NESTED\t\t\t\tBIT(12)\n\n \n#define HV_X64_ENLIGHTENED_VMCS_RECOMMENDED\t\tBIT(14)\n\n \n#define HV_X64_USE_MMIO_HYPERCALLS\t\t\tBIT(21)\n\n \n#define HV_X64_START_LOGICAL_PROCESSOR\t\t\tBIT(0)\n#define HV_X64_CREATE_ROOT_VIRTUAL_PROCESSOR\t\tBIT(1)\n#define HV_X64_PERFORMANCE_COUNTER_SYNC\t\t\tBIT(2)\n#define HV_X64_RESERVED_IDENTITY_BIT\t\t\tBIT(31)\n\n \n#define HV_X64_NO_NONARCH_CORESHARING\t\t\tBIT(18)\n\n \n#define HV_X64_NESTED_DIRECT_FLUSH\t\t\tBIT(17)\n#define HV_X64_NESTED_GUEST_MAPPING_FLUSH\t\tBIT(18)\n#define HV_X64_NESTED_MSR_BITMAP\t\t\tBIT(19)\n\n \n#define HV_X64_NESTED_EVMCS1_PERF_GLOBAL_CTRL\t\tBIT(0)\n\n \n#define HV_X64_NESTED_ENLIGHTENED_TLB\t\t\tBIT(22)\n\n \n#define HV_PARAVISOR_PRESENT\t\t\t\tBIT(0)\n\n \n#define HV_ISOLATION_TYPE\t\t\t\tGENMASK(3, 0)\n#define HV_SHARED_GPA_BOUNDARY_ACTIVE\t\t\tBIT(5)\n#define HV_SHARED_GPA_BOUNDARY_BITS\t\t\tGENMASK(11, 6)\n\nenum hv_isolation_type {\n\tHV_ISOLATION_TYPE_NONE\t= 0,\n\tHV_ISOLATION_TYPE_VBS\t= 1,\n\tHV_ISOLATION_TYPE_SNP\t= 2,\n\tHV_ISOLATION_TYPE_TDX\t= 3\n};\n\n \n\n \n#define HV_X64_MSR_GUEST_OS_ID\t\t\t0x40000000\n\n \n#define HV_X64_MSR_HYPERCALL\t\t\t0x40000001\n\n \n#define HV_REGISTER_VP_INDEX\t\t\t0x40000002\n\n \n#define HV_X64_MSR_RESET\t\t\t0x40000003\n\n \n#define HV_X64_MSR_VP_RUNTIME\t\t\t0x40000010\n\n \n#define HV_REGISTER_TIME_REF_COUNT\t\t0x40000020\n\n \n#define HV_REGISTER_REFERENCE_TSC\t\t0x40000021\n\n \n#define HV_X64_MSR_TSC_FREQUENCY\t\t0x40000022\n\n \n#define HV_X64_MSR_APIC_FREQUENCY\t\t0x40000023\n\n \n#define HV_X64_MSR_EOI\t\t\t\t0x40000070\n#define HV_X64_MSR_ICR\t\t\t\t0x40000071\n#define HV_X64_MSR_TPR\t\t\t\t0x40000072\n#define HV_X64_MSR_VP_ASSIST_PAGE\t\t0x40000073\n\n \n#define HV_REGISTER_SCONTROL\t\t\t0x40000080\n#define HV_REGISTER_SVERSION\t\t\t0x40000081\n#define HV_REGISTER_SIEFP\t\t\t0x40000082\n#define HV_REGISTER_SIMP\t\t\t0x40000083\n#define HV_REGISTER_EOM\t\t\t\t0x40000084\n#define HV_REGISTER_SINT0\t\t\t0x40000090\n#define HV_REGISTER_SINT1\t\t\t0x40000091\n#define HV_REGISTER_SINT2\t\t\t0x40000092\n#define HV_REGISTER_SINT3\t\t\t0x40000093\n#define HV_REGISTER_SINT4\t\t\t0x40000094\n#define HV_REGISTER_SINT5\t\t\t0x40000095\n#define HV_REGISTER_SINT6\t\t\t0x40000096\n#define HV_REGISTER_SINT7\t\t\t0x40000097\n#define HV_REGISTER_SINT8\t\t\t0x40000098\n#define HV_REGISTER_SINT9\t\t\t0x40000099\n#define HV_REGISTER_SINT10\t\t\t0x4000009A\n#define HV_REGISTER_SINT11\t\t\t0x4000009B\n#define HV_REGISTER_SINT12\t\t\t0x4000009C\n#define HV_REGISTER_SINT13\t\t\t0x4000009D\n#define HV_REGISTER_SINT14\t\t\t0x4000009E\n#define HV_REGISTER_SINT15\t\t\t0x4000009F\n\n \n#define HV_REGISTER_NESTED_SCONTROL            0x40001080\n#define HV_REGISTER_NESTED_SVERSION            0x40001081\n#define HV_REGISTER_NESTED_SIEFP               0x40001082\n#define HV_REGISTER_NESTED_SIMP                0x40001083\n#define HV_REGISTER_NESTED_EOM                 0x40001084\n#define HV_REGISTER_NESTED_SINT0               0x40001090\n\n \n#define HV_REGISTER_STIMER0_CONFIG\t\t0x400000B0\n#define HV_REGISTER_STIMER0_COUNT\t\t0x400000B1\n#define HV_REGISTER_STIMER1_CONFIG\t\t0x400000B2\n#define HV_REGISTER_STIMER1_COUNT\t\t0x400000B3\n#define HV_REGISTER_STIMER2_CONFIG\t\t0x400000B4\n#define HV_REGISTER_STIMER2_COUNT\t\t0x400000B5\n#define HV_REGISTER_STIMER3_CONFIG\t\t0x400000B6\n#define HV_REGISTER_STIMER3_COUNT\t\t0x400000B7\n\n \n#define HV_X64_MSR_GUEST_IDLE\t\t\t0x400000F0\n\n \n#define HV_REGISTER_CRASH_P0\t\t\t0x40000100\n#define HV_REGISTER_CRASH_P1\t\t\t0x40000101\n#define HV_REGISTER_CRASH_P2\t\t\t0x40000102\n#define HV_REGISTER_CRASH_P3\t\t\t0x40000103\n#define HV_REGISTER_CRASH_P4\t\t\t0x40000104\n#define HV_REGISTER_CRASH_CTL\t\t\t0x40000105\n\n \n#define HV_X64_MSR_REENLIGHTENMENT_CONTROL\t0x40000106\n#define HV_X64_MSR_TSC_EMULATION_CONTROL\t0x40000107\n#define HV_X64_MSR_TSC_EMULATION_STATUS\t\t0x40000108\n\n \n#define HV_X64_MSR_TSC_INVARIANT_CONTROL\t0x40000118\n\n \n#define HV_EXPOSE_INVARIANT_TSC\t\tBIT_ULL(0)\n\n \n#define HV_X64_MSR_STIMER0_COUNT\tHV_REGISTER_STIMER0_COUNT\n#define HV_X64_MSR_STIMER0_CONFIG\tHV_REGISTER_STIMER0_CONFIG\n#define HV_X64_MSR_STIMER1_COUNT\tHV_REGISTER_STIMER1_COUNT\n#define HV_X64_MSR_STIMER1_CONFIG\tHV_REGISTER_STIMER1_CONFIG\n#define HV_X64_MSR_STIMER2_COUNT\tHV_REGISTER_STIMER2_COUNT\n#define HV_X64_MSR_STIMER2_CONFIG\tHV_REGISTER_STIMER2_CONFIG\n#define HV_X64_MSR_STIMER3_COUNT\tHV_REGISTER_STIMER3_COUNT\n#define HV_X64_MSR_STIMER3_CONFIG\tHV_REGISTER_STIMER3_CONFIG\n#define HV_X64_MSR_SCONTROL\t\tHV_REGISTER_SCONTROL\n#define HV_X64_MSR_SVERSION\t\tHV_REGISTER_SVERSION\n#define HV_X64_MSR_SIMP\t\t\tHV_REGISTER_SIMP\n#define HV_X64_MSR_SIEFP\t\tHV_REGISTER_SIEFP\n#define HV_X64_MSR_VP_INDEX\t\tHV_REGISTER_VP_INDEX\n#define HV_X64_MSR_EOM\t\t\tHV_REGISTER_EOM\n#define HV_X64_MSR_SINT0\t\tHV_REGISTER_SINT0\n#define HV_X64_MSR_SINT15\t\tHV_REGISTER_SINT15\n#define HV_X64_MSR_CRASH_P0\t\tHV_REGISTER_CRASH_P0\n#define HV_X64_MSR_CRASH_P1\t\tHV_REGISTER_CRASH_P1\n#define HV_X64_MSR_CRASH_P2\t\tHV_REGISTER_CRASH_P2\n#define HV_X64_MSR_CRASH_P3\t\tHV_REGISTER_CRASH_P3\n#define HV_X64_MSR_CRASH_P4\t\tHV_REGISTER_CRASH_P4\n#define HV_X64_MSR_CRASH_CTL\t\tHV_REGISTER_CRASH_CTL\n#define HV_X64_MSR_TIME_REF_COUNT\tHV_REGISTER_TIME_REF_COUNT\n#define HV_X64_MSR_REFERENCE_TSC\tHV_REGISTER_REFERENCE_TSC\n\n \n#define\tHV_X64_REGISTER_VSM_VP_STATUS\t0x000D0003\n#define\tHV_X64_VTL_MASK\t\t\tGENMASK(3, 0)\n\n \nenum hv_mem_host_visibility {\n\tVMBUS_PAGE_NOT_VISIBLE\t\t= 0,\n\tVMBUS_PAGE_VISIBLE_READ_ONLY\t= 1,\n\tVMBUS_PAGE_VISIBLE_READ_WRITE\t= 3\n};\n\n \n#define HV_MAX_MODIFY_GPA_REP_COUNT\t((PAGE_SIZE / sizeof(u64)) - 2)\nstruct hv_gpa_range_for_visibility {\n\tu64 partition_id;\n\tu32 host_visibility:2;\n\tu32 reserved0:30;\n\tu32 reserved1;\n\tu64 gpa_page_list[HV_MAX_MODIFY_GPA_REP_COUNT];\n} __packed;\n\n \nunion hv_x64_msr_hypercall_contents {\n\tu64 as_uint64;\n\tstruct {\n\t\tu64 enable:1;\n\t\tu64 reserved:11;\n\t\tu64 guest_physical_address:52;\n\t} __packed;\n};\n\nunion hv_vp_assist_msr_contents {\n\tu64 as_uint64;\n\tstruct {\n\t\tu64 enable:1;\n\t\tu64 reserved:11;\n\t\tu64 pfn:52;\n\t} __packed;\n};\n\nstruct hv_reenlightenment_control {\n\t__u64 vector:8;\n\t__u64 reserved1:8;\n\t__u64 enabled:1;\n\t__u64 reserved2:15;\n\t__u64 target_vp:32;\n}  __packed;\n\nstruct hv_tsc_emulation_control {\n\t__u64 enabled:1;\n\t__u64 reserved:63;\n} __packed;\n\nstruct hv_tsc_emulation_status {\n\t__u64 inprogress:1;\n\t__u64 reserved:63;\n} __packed;\n\n#define HV_X64_MSR_HYPERCALL_ENABLE\t\t0x00000001\n#define HV_X64_MSR_HYPERCALL_PAGE_ADDRESS_SHIFT\t12\n#define HV_X64_MSR_HYPERCALL_PAGE_ADDRESS_MASK\t\\\n\t\t(~((1ull << HV_X64_MSR_HYPERCALL_PAGE_ADDRESS_SHIFT) - 1))\n\n#define HV_X64_MSR_CRASH_PARAMS\t\t\\\n\t\t(1 + (HV_X64_MSR_CRASH_P4 - HV_X64_MSR_CRASH_P0))\n\n#define HV_IPI_LOW_VECTOR\t0x10\n#define HV_IPI_HIGH_VECTOR\t0xff\n\n#define HV_X64_MSR_VP_ASSIST_PAGE_ENABLE\t0x00000001\n#define HV_X64_MSR_VP_ASSIST_PAGE_ADDRESS_SHIFT\t12\n#define HV_X64_MSR_VP_ASSIST_PAGE_ADDRESS_MASK\t\\\n\t\t(~((1ull << HV_X64_MSR_VP_ASSIST_PAGE_ADDRESS_SHIFT) - 1))\n\n \n#define HV_X64_ENLIGHTENED_VMCS_VERSION\t\t0xff\n\n#define HV_X64_MSR_TSC_REFERENCE_ENABLE\t\t0x00000001\n#define HV_X64_MSR_TSC_REFERENCE_ADDRESS_SHIFT\t12\n\n \n#define HV_HYPERCALL_MAX_XMM_REGISTERS\t\t6\n\nstruct hv_nested_enlightenments_control {\n\tstruct {\n\t\t__u32 directhypercall:1;\n\t\t__u32 reserved:31;\n\t} features;\n\tstruct {\n\t\t__u32 inter_partition_comm:1;\n\t\t__u32 reserved:31;\n\t} hypercallControls;\n} __packed;\n\n \nstruct hv_vp_assist_page {\n\t__u32 apic_assist;\n\t__u32 reserved1;\n\t__u32 vtl_entry_reason;\n\t__u32 vtl_reserved;\n\t__u64 vtl_ret_x64rax;\n\t__u64 vtl_ret_x64rcx;\n\tstruct hv_nested_enlightenments_control nested_control;\n\t__u8 enlighten_vmentry;\n\t__u8 reserved2[7];\n\t__u64 current_nested_vmcs;\n\t__u8 synthetic_time_unhalted_timer_expired;\n\t__u8 reserved3[7];\n\t__u8 virtualization_fault_information[40];\n\t__u8 reserved4[8];\n\t__u8 intercept_message[256];\n\t__u8 vtl_ret_actions[256];\n} __packed;\n\nstruct hv_enlightened_vmcs {\n\tu32 revision_id;\n\tu32 abort;\n\n\tu16 host_es_selector;\n\tu16 host_cs_selector;\n\tu16 host_ss_selector;\n\tu16 host_ds_selector;\n\tu16 host_fs_selector;\n\tu16 host_gs_selector;\n\tu16 host_tr_selector;\n\n\tu16 padding16_1;\n\n\tu64 host_ia32_pat;\n\tu64 host_ia32_efer;\n\n\tu64 host_cr0;\n\tu64 host_cr3;\n\tu64 host_cr4;\n\n\tu64 host_ia32_sysenter_esp;\n\tu64 host_ia32_sysenter_eip;\n\tu64 host_rip;\n\tu32 host_ia32_sysenter_cs;\n\n\tu32 pin_based_vm_exec_control;\n\tu32 vm_exit_controls;\n\tu32 secondary_vm_exec_control;\n\n\tu64 io_bitmap_a;\n\tu64 io_bitmap_b;\n\tu64 msr_bitmap;\n\n\tu16 guest_es_selector;\n\tu16 guest_cs_selector;\n\tu16 guest_ss_selector;\n\tu16 guest_ds_selector;\n\tu16 guest_fs_selector;\n\tu16 guest_gs_selector;\n\tu16 guest_ldtr_selector;\n\tu16 guest_tr_selector;\n\n\tu32 guest_es_limit;\n\tu32 guest_cs_limit;\n\tu32 guest_ss_limit;\n\tu32 guest_ds_limit;\n\tu32 guest_fs_limit;\n\tu32 guest_gs_limit;\n\tu32 guest_ldtr_limit;\n\tu32 guest_tr_limit;\n\tu32 guest_gdtr_limit;\n\tu32 guest_idtr_limit;\n\n\tu32 guest_es_ar_bytes;\n\tu32 guest_cs_ar_bytes;\n\tu32 guest_ss_ar_bytes;\n\tu32 guest_ds_ar_bytes;\n\tu32 guest_fs_ar_bytes;\n\tu32 guest_gs_ar_bytes;\n\tu32 guest_ldtr_ar_bytes;\n\tu32 guest_tr_ar_bytes;\n\n\tu64 guest_es_base;\n\tu64 guest_cs_base;\n\tu64 guest_ss_base;\n\tu64 guest_ds_base;\n\tu64 guest_fs_base;\n\tu64 guest_gs_base;\n\tu64 guest_ldtr_base;\n\tu64 guest_tr_base;\n\tu64 guest_gdtr_base;\n\tu64 guest_idtr_base;\n\n\tu64 padding64_1[3];\n\n\tu64 vm_exit_msr_store_addr;\n\tu64 vm_exit_msr_load_addr;\n\tu64 vm_entry_msr_load_addr;\n\n\tu64 cr3_target_value0;\n\tu64 cr3_target_value1;\n\tu64 cr3_target_value2;\n\tu64 cr3_target_value3;\n\n\tu32 page_fault_error_code_mask;\n\tu32 page_fault_error_code_match;\n\n\tu32 cr3_target_count;\n\tu32 vm_exit_msr_store_count;\n\tu32 vm_exit_msr_load_count;\n\tu32 vm_entry_msr_load_count;\n\n\tu64 tsc_offset;\n\tu64 virtual_apic_page_addr;\n\tu64 vmcs_link_pointer;\n\n\tu64 guest_ia32_debugctl;\n\tu64 guest_ia32_pat;\n\tu64 guest_ia32_efer;\n\n\tu64 guest_pdptr0;\n\tu64 guest_pdptr1;\n\tu64 guest_pdptr2;\n\tu64 guest_pdptr3;\n\n\tu64 guest_pending_dbg_exceptions;\n\tu64 guest_sysenter_esp;\n\tu64 guest_sysenter_eip;\n\n\tu32 guest_activity_state;\n\tu32 guest_sysenter_cs;\n\n\tu64 cr0_guest_host_mask;\n\tu64 cr4_guest_host_mask;\n\tu64 cr0_read_shadow;\n\tu64 cr4_read_shadow;\n\tu64 guest_cr0;\n\tu64 guest_cr3;\n\tu64 guest_cr4;\n\tu64 guest_dr7;\n\n\tu64 host_fs_base;\n\tu64 host_gs_base;\n\tu64 host_tr_base;\n\tu64 host_gdtr_base;\n\tu64 host_idtr_base;\n\tu64 host_rsp;\n\n\tu64 ept_pointer;\n\n\tu16 virtual_processor_id;\n\tu16 padding16_2[3];\n\n\tu64 padding64_2[5];\n\tu64 guest_physical_address;\n\n\tu32 vm_instruction_error;\n\tu32 vm_exit_reason;\n\tu32 vm_exit_intr_info;\n\tu32 vm_exit_intr_error_code;\n\tu32 idt_vectoring_info_field;\n\tu32 idt_vectoring_error_code;\n\tu32 vm_exit_instruction_len;\n\tu32 vmx_instruction_info;\n\n\tu64 exit_qualification;\n\tu64 exit_io_instruction_ecx;\n\tu64 exit_io_instruction_esi;\n\tu64 exit_io_instruction_edi;\n\tu64 exit_io_instruction_eip;\n\n\tu64 guest_linear_address;\n\tu64 guest_rsp;\n\tu64 guest_rflags;\n\n\tu32 guest_interruptibility_info;\n\tu32 cpu_based_vm_exec_control;\n\tu32 exception_bitmap;\n\tu32 vm_entry_controls;\n\tu32 vm_entry_intr_info_field;\n\tu32 vm_entry_exception_error_code;\n\tu32 vm_entry_instruction_len;\n\tu32 tpr_threshold;\n\n\tu64 guest_rip;\n\n\tu32 hv_clean_fields;\n\tu32 padding32_1;\n\tu32 hv_synthetic_controls;\n\tstruct {\n\t\tu32 nested_flush_hypercall:1;\n\t\tu32 msr_bitmap:1;\n\t\tu32 reserved:30;\n\t}  __packed hv_enlightenments_control;\n\tu32 hv_vp_id;\n\tu32 padding32_2;\n\tu64 hv_vm_id;\n\tu64 partition_assist_page;\n\tu64 padding64_4[4];\n\tu64 guest_bndcfgs;\n\tu64 guest_ia32_perf_global_ctrl;\n\tu64 guest_ia32_s_cet;\n\tu64 guest_ssp;\n\tu64 guest_ia32_int_ssp_table_addr;\n\tu64 guest_ia32_lbr_ctl;\n\tu64 padding64_5[2];\n\tu64 xss_exit_bitmap;\n\tu64 encls_exiting_bitmap;\n\tu64 host_ia32_perf_global_ctrl;\n\tu64 tsc_multiplier;\n\tu64 host_ia32_s_cet;\n\tu64 host_ssp;\n\tu64 host_ia32_int_ssp_table_addr;\n\tu64 padding64_6;\n} __packed;\n\n#define HV_VMX_ENLIGHTENED_CLEAN_FIELD_NONE\t\t\t0\n#define HV_VMX_ENLIGHTENED_CLEAN_FIELD_IO_BITMAP\t\tBIT(0)\n#define HV_VMX_ENLIGHTENED_CLEAN_FIELD_MSR_BITMAP\t\tBIT(1)\n#define HV_VMX_ENLIGHTENED_CLEAN_FIELD_CONTROL_GRP2\t\tBIT(2)\n#define HV_VMX_ENLIGHTENED_CLEAN_FIELD_CONTROL_GRP1\t\tBIT(3)\n#define HV_VMX_ENLIGHTENED_CLEAN_FIELD_CONTROL_PROC\t\tBIT(4)\n#define HV_VMX_ENLIGHTENED_CLEAN_FIELD_CONTROL_EVENT\t\tBIT(5)\n#define HV_VMX_ENLIGHTENED_CLEAN_FIELD_CONTROL_ENTRY\t\tBIT(6)\n#define HV_VMX_ENLIGHTENED_CLEAN_FIELD_CONTROL_EXCPN\t\tBIT(7)\n#define HV_VMX_ENLIGHTENED_CLEAN_FIELD_CRDR\t\t\tBIT(8)\n#define HV_VMX_ENLIGHTENED_CLEAN_FIELD_CONTROL_XLAT\t\tBIT(9)\n#define HV_VMX_ENLIGHTENED_CLEAN_FIELD_GUEST_BASIC\t\tBIT(10)\n#define HV_VMX_ENLIGHTENED_CLEAN_FIELD_GUEST_GRP1\t\tBIT(11)\n#define HV_VMX_ENLIGHTENED_CLEAN_FIELD_GUEST_GRP2\t\tBIT(12)\n#define HV_VMX_ENLIGHTENED_CLEAN_FIELD_HOST_POINTER\t\tBIT(13)\n#define HV_VMX_ENLIGHTENED_CLEAN_FIELD_HOST_GRP1\t\tBIT(14)\n#define HV_VMX_ENLIGHTENED_CLEAN_FIELD_ENLIGHTENMENTSCONTROL\tBIT(15)\n\n#define HV_VMX_ENLIGHTENED_CLEAN_FIELD_ALL\t\t\t0xFFFF\n\n \n#define HV_VMX_SYNTHETIC_EXIT_REASON_TRAP_AFTER_FLUSH\t\t0x10000031\n\n \nstruct hv_vmcb_enlightenments {\n\tstruct __packed hv_enlightenments_control {\n\t\tu32 nested_flush_hypercall:1;\n\t\tu32 msr_bitmap:1;\n\t\tu32 enlightened_npt_tlb: 1;\n\t\tu32 reserved:29;\n\t} __packed hv_enlightenments_control;\n\tu32 hv_vp_id;\n\tu64 hv_vm_id;\n\tu64 partition_assist_page;\n\tu64 reserved;\n} __packed;\n\n \n#define HV_VMCB_NESTED_ENLIGHTENMENTS\t\t31\n\n \n#define HV_SVM_EXITCODE_ENL\t\t\t0xf0000000\n#define HV_SVM_ENL_EXITCODE_TRAP_AFTER_FLUSH\t(1)\n\nstruct hv_partition_assist_pg {\n\tu32 tlb_lock_count;\n};\n\nenum hv_interrupt_type {\n\tHV_X64_INTERRUPT_TYPE_FIXED             = 0x0000,\n\tHV_X64_INTERRUPT_TYPE_LOWESTPRIORITY    = 0x0001,\n\tHV_X64_INTERRUPT_TYPE_SMI               = 0x0002,\n\tHV_X64_INTERRUPT_TYPE_REMOTEREAD        = 0x0003,\n\tHV_X64_INTERRUPT_TYPE_NMI               = 0x0004,\n\tHV_X64_INTERRUPT_TYPE_INIT              = 0x0005,\n\tHV_X64_INTERRUPT_TYPE_SIPI              = 0x0006,\n\tHV_X64_INTERRUPT_TYPE_EXTINT            = 0x0007,\n\tHV_X64_INTERRUPT_TYPE_LOCALINT0         = 0x0008,\n\tHV_X64_INTERRUPT_TYPE_LOCALINT1         = 0x0009,\n\tHV_X64_INTERRUPT_TYPE_MAXIMUM           = 0x000A,\n};\n\nunion hv_msi_address_register {\n\tu32 as_uint32;\n\tstruct {\n\t\tu32 reserved1:2;\n\t\tu32 destination_mode:1;\n\t\tu32 redirection_hint:1;\n\t\tu32 reserved2:8;\n\t\tu32 destination_id:8;\n\t\tu32 msi_base:12;\n\t};\n} __packed;\n\nunion hv_msi_data_register {\n\tu32 as_uint32;\n\tstruct {\n\t\tu32 vector:8;\n\t\tu32 delivery_mode:3;\n\t\tu32 reserved1:3;\n\t\tu32 level_assert:1;\n\t\tu32 trigger_mode:1;\n\t\tu32 reserved2:16;\n\t};\n} __packed;\n\n \nunion hv_msi_entry {\n\tu64 as_uint64;\n\tstruct {\n\t\tunion hv_msi_address_register address;\n\t\tunion hv_msi_data_register data;\n\t} __packed;\n};\n\nstruct hv_x64_segment_register {\n\tu64 base;\n\tu32 limit;\n\tu16 selector;\n\tunion {\n\t\tstruct {\n\t\t\tu16 segment_type : 4;\n\t\t\tu16 non_system_segment : 1;\n\t\t\tu16 descriptor_privilege_level : 2;\n\t\t\tu16 present : 1;\n\t\t\tu16 reserved : 4;\n\t\t\tu16 available : 1;\n\t\t\tu16 _long : 1;\n\t\t\tu16 _default : 1;\n\t\t\tu16 granularity : 1;\n\t\t} __packed;\n\t\tu16 attributes;\n\t};\n} __packed;\n\nstruct hv_x64_table_register {\n\tu16 pad[3];\n\tu16 limit;\n\tu64 base;\n} __packed;\n\nstruct hv_init_vp_context {\n\tu64 rip;\n\tu64 rsp;\n\tu64 rflags;\n\n\tstruct hv_x64_segment_register cs;\n\tstruct hv_x64_segment_register ds;\n\tstruct hv_x64_segment_register es;\n\tstruct hv_x64_segment_register fs;\n\tstruct hv_x64_segment_register gs;\n\tstruct hv_x64_segment_register ss;\n\tstruct hv_x64_segment_register tr;\n\tstruct hv_x64_segment_register ldtr;\n\n\tstruct hv_x64_table_register idtr;\n\tstruct hv_x64_table_register gdtr;\n\n\tu64 efer;\n\tu64 cr0;\n\tu64 cr3;\n\tu64 cr4;\n\tu64 msr_cr_pat;\n} __packed;\n\nunion hv_input_vtl {\n\tu8 as_uint8;\n\tstruct {\n\t\tu8 target_vtl: 4;\n\t\tu8 use_target_vtl: 1;\n\t\tu8 reserved_z: 3;\n\t};\n} __packed;\n\nstruct hv_enable_vp_vtl {\n\tu64\t\t\t\tpartition_id;\n\tu32\t\t\t\tvp_index;\n\tunion hv_input_vtl\t\ttarget_vtl;\n\tu8\t\t\t\tmbz0;\n\tu16\t\t\t\tmbz1;\n\tstruct hv_init_vp_context\tvp_context;\n} __packed;\n\nstruct hv_get_vp_from_apic_id_in {\n\tu64 partition_id;\n\tunion hv_input_vtl target_vtl;\n\tu8 res[7];\n\tu32 apic_ids[];\n} __packed;\n\n#include <asm-generic/hyperv-tlfs.h>\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}