{
  "module_name": "bios.h",
  "hash_id": "94403d0307a819ad5e7f3b14d49e77a966cd267beb99a25e5bfeabef6b73ce4a",
  "original_prompt": "Ingested from linux-6.6.14/arch/x86/include/asm/uv/bios.h",
  "human_readable_source": " \n#ifndef _ASM_X86_UV_BIOS_H\n#define _ASM_X86_UV_BIOS_H\n\n \n\n#include <linux/efi.h>\n#include <linux/rtc.h>\n\n \nenum uv_bios_cmd {\n\tUV_BIOS_COMMON,\n\tUV_BIOS_GET_SN_INFO,\n\tUV_BIOS_FREQ_BASE,\n\tUV_BIOS_WATCHLIST_ALLOC,\n\tUV_BIOS_WATCHLIST_FREE,\n\tUV_BIOS_MEMPROTECT,\n\tUV_BIOS_GET_PARTITION_ADDR,\n\tUV_BIOS_SET_LEGACY_VGA_TARGET\n};\n\n#define UV_BIOS_EXTRA\t\t\t    0x10000\n#define UV_BIOS_GET_PCI_TOPOLOGY\t    0x10001\n#define UV_BIOS_GET_GEOINFO\t\t    0x10003\n\n#define UV_BIOS_EXTRA_OP_MEM_COPYIN\t    0x1000\n#define UV_BIOS_EXTRA_OP_MEM_COPYOUT\t    0x2000\n#define UV_BIOS_EXTRA_OP_MASK\t\t    0x0fff\n#define UV_BIOS_EXTRA_GET_HEAPSIZE\t    1\n#define UV_BIOS_EXTRA_INSTALL_HEAP\t    2\n#define UV_BIOS_EXTRA_MASTER_NASID\t    3\n#define UV_BIOS_EXTRA_OBJECT_COUNT\t    (10|UV_BIOS_EXTRA_OP_MEM_COPYOUT)\n#define UV_BIOS_EXTRA_ENUM_OBJECTS\t    (12|UV_BIOS_EXTRA_OP_MEM_COPYOUT)\n#define UV_BIOS_EXTRA_ENUM_PORTS\t    (13|UV_BIOS_EXTRA_OP_MEM_COPYOUT)\n\n \nenum {\n\tBIOS_STATUS_MORE_PASSES\t\t=  1,\n\tBIOS_STATUS_SUCCESS\t\t=  0,\n\tBIOS_STATUS_UNIMPLEMENTED\t= -ENOSYS,\n\tBIOS_STATUS_EINVAL\t\t= -EINVAL,\n\tBIOS_STATUS_UNAVAIL\t\t= -EBUSY,\n\tBIOS_STATUS_ABORT\t\t= -EINTR,\n};\n\n \nstruct uv_gam_parameters {\n\tu64\tmmr_base;\n\tu64\tgru_base;\n\tu8\tmmr_shift;\t \n\tu8\tgru_shift;\t \n\tu8\tgpa_shift;\t \n\tu8\tunused1;\n};\n\n \n#define UV_GAM_RANGE_TYPE_UNUSED\t0  \n#define UV_GAM_RANGE_TYPE_RAM\t\t1  \n#define UV_GAM_RANGE_TYPE_NVRAM\t\t2  \n#define UV_GAM_RANGE_TYPE_NV_WINDOW\t3  \n#define UV_GAM_RANGE_TYPE_NV_MAILBOX\t4  \n#define UV_GAM_RANGE_TYPE_HOLE\t\t5  \n#define UV_GAM_RANGE_TYPE_MAX\t\t6\n\n \n#define UV_GAM_RANGE_SHFT\t\t26\t\t \n\nstruct uv_gam_range_entry {\n\tchar\ttype;\t\t \n\tchar\tunused1;\n\tu16\tnasid;\t\t \n\tu16\tsockid;\t\t \n\tu16\tpnode;\t\t \n\tu32\tunused2;\n\tu32\tlimit;\t\t \n};\n\n#define\tUV_AT_SIZE\t8\t \nstruct uv_arch_type_entry {\n\tchar\tarchtype[UV_AT_SIZE];\n};\n\n#define\tUV_SYSTAB_SIG\t\t\t\"UVST\"\n#define\tUV_SYSTAB_VERSION_1\t\t1\t \n#define\tUV_SYSTAB_VERSION_UV4\t\t0x400\t \n#define\tUV_SYSTAB_VERSION_UV4_1\t\t0x401\t \n#define\tUV_SYSTAB_VERSION_UV4_2\t\t0x402\t \n#define\tUV_SYSTAB_VERSION_UV4_3\t\t0x403\t \n#define\tUV_SYSTAB_VERSION_UV4_LATEST\tUV_SYSTAB_VERSION_UV4_3\n\n#define\tUV_SYSTAB_VERSION_UV5\t\t0x500\t \n#define\tUV_SYSTAB_VERSION_UV5_LATEST\tUV_SYSTAB_VERSION_UV5\n\n#define\tUV_SYSTAB_TYPE_UNUSED\t\t0\t \n#define\tUV_SYSTAB_TYPE_GAM_PARAMS\t1\t \n#define\tUV_SYSTAB_TYPE_GAM_RNG_TBL\t2\t \n#define\tUV_SYSTAB_TYPE_ARCH_TYPE\t3\t \n#define\tUV_SYSTAB_TYPE_MAX\t\t4\n\n \nstruct uv_systab {\n\tchar signature[4];\t \n\tu32 revision;\t\t \n\tu64 (__efiapi *function)(enum uv_bios_cmd, ...);\n\t\t\t\t \n\tu32 size;\t\t \n\tstruct {\n\t\tu32 type:8;\t \n\t\tu32 offset:24;\t \n\t} entry[1];\t\t \n};\nextern struct uv_systab *uv_systab;\n\n#define UV_BIOS_MAXSTRING\t      128\nstruct uv_bios_hub_info {\n\tunsigned int id;\n\tunion {\n\t\tstruct {\n\t\t\tunsigned long long this_part:1;\n\t\t\tunsigned long long is_shared:1;\n\t\t\tunsigned long long is_disabled:1;\n\t\t} fields;\n\t\tstruct {\n\t\t\tunsigned long long flags;\n\t\t\tunsigned long long reserved;\n\t\t} b;\n\t} f;\n\tchar name[UV_BIOS_MAXSTRING];\n\tchar location[UV_BIOS_MAXSTRING];\n\tunsigned int ports;\n};\n\nstruct uv_bios_port_info {\n\tunsigned int port;\n\tunsigned int conn_id;\n\tunsigned int conn_port;\n};\n\n \n\nenum {\n\tBIOS_FREQ_BASE_PLATFORM = 0,\n\tBIOS_FREQ_BASE_INTERVAL_TIMER = 1,\n\tBIOS_FREQ_BASE_REALTIME_CLOCK = 2\n};\n\nunion partition_info_u {\n\tu64\tval;\n\tstruct {\n\t\tu64\thub_version\t:  8,\n\t\t\tpartition_id\t: 16,\n\t\t\tcoherence_id\t: 16,\n\t\t\tregion_size\t: 24;\n\t};\n};\n\nenum uv_memprotect {\n\tUV_MEMPROT_RESTRICT_ACCESS,\n\tUV_MEMPROT_ALLOW_AMO,\n\tUV_MEMPROT_ALLOW_RW\n};\n\nextern s64 uv_bios_get_sn_info(int, int *, long *, long *, long *, long *);\nextern s64 uv_bios_freq_base(u64, u64 *);\nextern int uv_bios_mq_watchlist_alloc(unsigned long, unsigned int,\n\t\t\t\t\tunsigned long *);\nextern int uv_bios_mq_watchlist_free(int, int);\nextern s64 uv_bios_change_memprotect(u64, u64, enum uv_memprotect);\nextern s64 uv_bios_reserved_page_pa(u64, u64 *, u64 *, u64 *);\nextern int uv_bios_set_legacy_vga_target(bool decode, int domain, int bus);\n\nextern s64 uv_bios_get_master_nasid(u64 sz, u64 *nasid);\nextern s64 uv_bios_get_heapsize(u64 nasid, u64 sz, u64 *heap_sz);\nextern s64 uv_bios_install_heap(u64 nasid, u64 sz, u64 *heap);\nextern s64 uv_bios_obj_count(u64 nasid, u64 sz, u64 *objcnt);\nextern s64 uv_bios_enum_objs(u64 nasid, u64 sz, u64 *objbuf);\nextern s64 uv_bios_enum_ports(u64 nasid, u64 obj_id, u64 sz, u64 *portbuf);\nextern s64 uv_bios_get_geoinfo(u64 nasid, u64 sz, u64 *geo);\nextern s64 uv_bios_get_pci_topology(u64 sz, u64 *buf);\n\nextern int uv_bios_init(void);\nextern unsigned long get_uv_systab_phys(bool msg);\n\nextern unsigned long sn_rtc_cycles_per_second;\nextern int uv_type;\nextern long sn_partition_id;\nextern long sn_coherency_id;\nextern long sn_region_size;\nextern long system_serial_number;\nextern ssize_t uv_get_archtype(char *buf, int len);\nextern int uv_get_hubless_system(void);\n\nextern struct kobject *sgi_uv_kobj;\t \n\n \nextern struct semaphore __efi_uv_runtime_lock;\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}