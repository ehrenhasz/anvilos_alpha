{
  "module_name": "compat.h",
  "hash_id": "ce4cf0972ad4f357a6c90a3d57ac6e36db82613844d5749dddb9589595a986b2",
  "original_prompt": "Ingested from linux-6.6.14/arch/x86/include/asm/compat.h",
  "human_readable_source": " \n#ifndef _ASM_X86_COMPAT_H\n#define _ASM_X86_COMPAT_H\n\n \n#include <linux/types.h>\n#include <linux/sched.h>\n#include <linux/sched/task_stack.h>\n#include <asm/processor.h>\n#include <asm/user32.h>\n#include <asm/unistd.h>\n\n#define compat_mode_t\tcompat_mode_t\ntypedef u16\t\tcompat_mode_t;\n\n#define __compat_uid_t\t__compat_uid_t\ntypedef u16\t\t__compat_uid_t;\ntypedef u16\t\t__compat_gid_t;\n\n#define compat_dev_t\tcompat_dev_t\ntypedef u16\t\tcompat_dev_t;\n\n#define compat_ipc_pid_t compat_ipc_pid_t\ntypedef u16\t\t compat_ipc_pid_t;\n\n#define compat_statfs\tcompat_statfs\n\n#include <asm-generic/compat.h>\n\n#define COMPAT_UTS_MACHINE\t\"i686\\0\\0\"\n\ntypedef u16\t\tcompat_nlink_t;\n\nstruct compat_stat {\n\tu32\t\tst_dev;\n\tcompat_ino_t\tst_ino;\n\tcompat_mode_t\tst_mode;\n\tcompat_nlink_t\tst_nlink;\n\t__compat_uid_t\tst_uid;\n\t__compat_gid_t\tst_gid;\n\tu32\t\tst_rdev;\n\tu32\t\tst_size;\n\tu32\t\tst_blksize;\n\tu32\t\tst_blocks;\n\tu32\t\tst_atime;\n\tu32\t\tst_atime_nsec;\n\tu32\t\tst_mtime;\n\tu32\t\tst_mtime_nsec;\n\tu32\t\tst_ctime;\n\tu32\t\tst_ctime_nsec;\n\tu32\t\t__unused4;\n\tu32\t\t__unused5;\n};\n\n \n#define __ARCH_NEED_COMPAT_FLOCK64_PACKED\n\nstruct compat_statfs {\n\tint\t\tf_type;\n\tint\t\tf_bsize;\n\tint\t\tf_blocks;\n\tint\t\tf_bfree;\n\tint\t\tf_bavail;\n\tint\t\tf_files;\n\tint\t\tf_ffree;\n\tcompat_fsid_t\tf_fsid;\n\tint\t\tf_namelen;\t \n\tint\t\tf_frsize;\n\tint\t\tf_flags;\n\tint\t\tf_spare[4];\n};\n\n#ifdef CONFIG_X86_X32_ABI\n#define COMPAT_USE_64BIT_TIME \\\n\t(!!(task_pt_regs(current)->orig_ax & __X32_SYSCALL_BIT))\n#endif\n\nstatic inline bool in_x32_syscall(void)\n{\n#ifdef CONFIG_X86_X32_ABI\n\tif (task_pt_regs(current)->orig_ax & __X32_SYSCALL_BIT)\n\t\treturn true;\n#endif\n\treturn false;\n}\n\nstatic inline bool in_32bit_syscall(void)\n{\n\treturn in_ia32_syscall() || in_x32_syscall();\n}\n\n#ifdef CONFIG_COMPAT\nstatic inline bool in_compat_syscall(void)\n{\n\treturn in_32bit_syscall();\n}\n#define in_compat_syscall in_compat_syscall\t \n#define compat_need_64bit_alignment_fixup in_ia32_syscall\n#endif\n\nstruct compat_siginfo;\n\n#ifdef CONFIG_X86_X32_ABI\nint copy_siginfo_to_user32(struct compat_siginfo __user *to,\n\t\tconst kernel_siginfo_t *from);\n#define copy_siginfo_to_user32 copy_siginfo_to_user32\n#endif  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}