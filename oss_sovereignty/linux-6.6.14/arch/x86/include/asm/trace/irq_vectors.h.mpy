{
  "module_name": "irq_vectors.h",
  "hash_id": "f42e82c52f13c1628d631a0c8ac9940dcb926adda7fdcd84cf51ba6004f53e5e",
  "original_prompt": "Ingested from linux-6.6.14/arch/x86/include/asm/trace/irq_vectors.h",
  "human_readable_source": " \n#undef TRACE_SYSTEM\n#define TRACE_SYSTEM irq_vectors\n\n#if !defined(_TRACE_IRQ_VECTORS_H) || defined(TRACE_HEADER_MULTI_READ)\n#define _TRACE_IRQ_VECTORS_H\n\n#include <linux/tracepoint.h>\n#include <asm/trace/common.h>\n\n#ifdef CONFIG_X86_LOCAL_APIC\n\nDECLARE_EVENT_CLASS(x86_irq_vector,\n\n\tTP_PROTO(int vector),\n\n\tTP_ARGS(vector),\n\n\tTP_STRUCT__entry(\n\t\t__field(\t\tint,\tvector\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->vector = vector;\n\t),\n\n\tTP_printk(\"vector=%d\", __entry->vector) );\n\n#define DEFINE_IRQ_VECTOR_EVENT(name)\t\t\\\nDEFINE_EVENT_FN(x86_irq_vector, name##_entry,\t\\\n\tTP_PROTO(int vector),\t\t\t\\\n\tTP_ARGS(vector), NULL, NULL);\t\t\\\nDEFINE_EVENT_FN(x86_irq_vector, name##_exit,\t\\\n\tTP_PROTO(int vector),\t\t\t\\\n\tTP_ARGS(vector), NULL, NULL);\n\n \nDEFINE_IRQ_VECTOR_EVENT(local_timer);\n\n \nDEFINE_IRQ_VECTOR_EVENT(spurious_apic);\n\n \nDEFINE_IRQ_VECTOR_EVENT(error_apic);\n\n \nDEFINE_IRQ_VECTOR_EVENT(x86_platform_ipi);\n\n#ifdef CONFIG_IRQ_WORK\n \nDEFINE_IRQ_VECTOR_EVENT(irq_work);\n\n \nTRACE_EVENT_PERF_PERM(irq_work_exit, is_sampling_event(p_event) ? -EPERM : 0);\n#endif\n\n \n#ifdef CONFIG_SMP\n \nDEFINE_IRQ_VECTOR_EVENT(reschedule);\n\n \nDEFINE_IRQ_VECTOR_EVENT(call_function);\n\n \nDEFINE_IRQ_VECTOR_EVENT(call_function_single);\n#endif\n\n#ifdef CONFIG_X86_MCE_THRESHOLD\n \nDEFINE_IRQ_VECTOR_EVENT(threshold_apic);\n#endif\n\n#ifdef CONFIG_X86_MCE_AMD\n \nDEFINE_IRQ_VECTOR_EVENT(deferred_error_apic);\n#endif\n\n#ifdef CONFIG_X86_THERMAL_VECTOR\n \nDEFINE_IRQ_VECTOR_EVENT(thermal_apic);\n#endif\n\nTRACE_EVENT(vector_config,\n\n\tTP_PROTO(unsigned int irq, unsigned int vector,\n\t\t unsigned int cpu, unsigned int apicdest),\n\n\tTP_ARGS(irq, vector, cpu, apicdest),\n\n\tTP_STRUCT__entry(\n\t\t__field(\tunsigned int,\tirq\t\t)\n\t\t__field(\tunsigned int,\tvector\t\t)\n\t\t__field(\tunsigned int,\tcpu\t\t)\n\t\t__field(\tunsigned int,\tapicdest\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->irq\t\t= irq;\n\t\t__entry->vector\t\t= vector;\n\t\t__entry->cpu\t\t= cpu;\n\t\t__entry->apicdest\t= apicdest;\n\t),\n\n\tTP_printk(\"irq=%u vector=%u cpu=%u apicdest=0x%08x\",\n\t\t  __entry->irq, __entry->vector, __entry->cpu,\n\t\t  __entry->apicdest)\n);\n\nDECLARE_EVENT_CLASS(vector_mod,\n\n\tTP_PROTO(unsigned int irq, unsigned int vector,\n\t\t unsigned int cpu, unsigned int prev_vector,\n\t\t unsigned int prev_cpu),\n\n\tTP_ARGS(irq, vector, cpu, prev_vector, prev_cpu),\n\n\tTP_STRUCT__entry(\n\t\t__field(\tunsigned int,\tirq\t\t)\n\t\t__field(\tunsigned int,\tvector\t\t)\n\t\t__field(\tunsigned int,\tcpu\t\t)\n\t\t__field(\tunsigned int,\tprev_vector\t)\n\t\t__field(\tunsigned int,\tprev_cpu\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->irq\t\t= irq;\n\t\t__entry->vector\t\t= vector;\n\t\t__entry->cpu\t\t= cpu;\n\t\t__entry->prev_vector\t= prev_vector;\n\t\t__entry->prev_cpu\t= prev_cpu;\n\n\t),\n\n\tTP_printk(\"irq=%u vector=%u cpu=%u prev_vector=%u prev_cpu=%u\",\n\t\t  __entry->irq, __entry->vector, __entry->cpu,\n\t\t  __entry->prev_vector, __entry->prev_cpu)\n);\n\n#define DEFINE_IRQ_VECTOR_MOD_EVENT(name)\t\t\t\t\\\nDEFINE_EVENT_FN(vector_mod, name,\t\t\t\t\t\\\n\tTP_PROTO(unsigned int irq, unsigned int vector,\t\t\t\\\n\t\t unsigned int cpu, unsigned int prev_vector,\t\t\\\n\t\t unsigned int prev_cpu),\t\t\t\t\\\n\tTP_ARGS(irq, vector, cpu, prev_vector, prev_cpu), NULL, NULL);\t\\\n\nDEFINE_IRQ_VECTOR_MOD_EVENT(vector_update);\nDEFINE_IRQ_VECTOR_MOD_EVENT(vector_clear);\n\nDECLARE_EVENT_CLASS(vector_reserve,\n\n\tTP_PROTO(unsigned int irq, int ret),\n\n\tTP_ARGS(irq, ret),\n\n\tTP_STRUCT__entry(\n\t\t__field(\tunsigned int,\tirq\t)\n\t\t__field(\tint,\t\tret\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->irq = irq;\n\t\t__entry->ret = ret;\n\t),\n\n\tTP_printk(\"irq=%u ret=%d\", __entry->irq, __entry->ret)\n);\n\n#define DEFINE_IRQ_VECTOR_RESERVE_EVENT(name)\t\\\nDEFINE_EVENT_FN(vector_reserve, name,\t\\\n\tTP_PROTO(unsigned int irq, int ret),\t\\\n\tTP_ARGS(irq, ret), NULL, NULL);\t\t\\\n\nDEFINE_IRQ_VECTOR_RESERVE_EVENT(vector_reserve_managed);\nDEFINE_IRQ_VECTOR_RESERVE_EVENT(vector_reserve);\n\nTRACE_EVENT(vector_alloc,\n\n\tTP_PROTO(unsigned int irq, unsigned int vector, bool reserved,\n\t\t int ret),\n\n\tTP_ARGS(irq, vector, reserved, ret),\n\n\tTP_STRUCT__entry(\n\t\t__field(\tunsigned int,\tirq\t\t)\n\t\t__field(\tunsigned int,\tvector\t\t)\n\t\t__field(\tbool,\t\treserved\t)\n\t\t__field(\tint,\t\tret\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->irq\t\t= irq;\n\t\t__entry->vector\t\t= ret < 0 ? 0 : vector;\n\t\t__entry->reserved\t= reserved;\n\t\t__entry->ret\t\t= ret > 0 ? 0 : ret;\n\t),\n\n\tTP_printk(\"irq=%u vector=%u reserved=%d ret=%d\",\n\t\t  __entry->irq, __entry->vector,\n\t\t  __entry->reserved, __entry->ret)\n);\n\nTRACE_EVENT(vector_alloc_managed,\n\n\tTP_PROTO(unsigned int irq, unsigned int vector,\n\t\t int ret),\n\n\tTP_ARGS(irq, vector, ret),\n\n\tTP_STRUCT__entry(\n\t\t__field(\tunsigned int,\tirq\t\t)\n\t\t__field(\tunsigned int,\tvector\t\t)\n\t\t__field(\tint,\t\tret\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->irq\t\t= irq;\n\t\t__entry->vector\t\t= ret < 0 ? 0 : vector;\n\t\t__entry->ret\t\t= ret > 0 ? 0 : ret;\n\t),\n\n\tTP_printk(\"irq=%u vector=%u ret=%d\",\n\t\t  __entry->irq, __entry->vector, __entry->ret)\n);\n\nDECLARE_EVENT_CLASS(vector_activate,\n\n\tTP_PROTO(unsigned int irq, bool is_managed, bool can_reserve,\n\t\t bool reserve),\n\n\tTP_ARGS(irq, is_managed, can_reserve, reserve),\n\n\tTP_STRUCT__entry(\n\t\t__field(\tunsigned int,\tirq\t\t)\n\t\t__field(\tbool,\t\tis_managed\t)\n\t\t__field(\tbool,\t\tcan_reserve\t)\n\t\t__field(\tbool,\t\treserve\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->irq\t\t= irq;\n\t\t__entry->is_managed\t= is_managed;\n\t\t__entry->can_reserve\t= can_reserve;\n\t\t__entry->reserve\t= reserve;\n\t),\n\n\tTP_printk(\"irq=%u is_managed=%d can_reserve=%d reserve=%d\",\n\t\t  __entry->irq, __entry->is_managed, __entry->can_reserve,\n\t\t  __entry->reserve)\n);\n\n#define DEFINE_IRQ_VECTOR_ACTIVATE_EVENT(name)\t\t\t\t\\\nDEFINE_EVENT_FN(vector_activate, name,\t\t\t\t\t\\\n\tTP_PROTO(unsigned int irq, bool is_managed,\t\t\t\\\n\t\t bool can_reserve, bool reserve),\t\t\t\\\n\tTP_ARGS(irq, is_managed, can_reserve, reserve), NULL, NULL);\t\\\n\nDEFINE_IRQ_VECTOR_ACTIVATE_EVENT(vector_activate);\nDEFINE_IRQ_VECTOR_ACTIVATE_EVENT(vector_deactivate);\n\nTRACE_EVENT(vector_teardown,\n\n\tTP_PROTO(unsigned int irq, bool is_managed, bool has_reserved),\n\n\tTP_ARGS(irq, is_managed, has_reserved),\n\n\tTP_STRUCT__entry(\n\t\t__field(\tunsigned int,\tirq\t\t)\n\t\t__field(\tbool,\t\tis_managed\t)\n\t\t__field(\tbool,\t\thas_reserved\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->irq\t\t= irq;\n\t\t__entry->is_managed\t= is_managed;\n\t\t__entry->has_reserved\t= has_reserved;\n\t),\n\n\tTP_printk(\"irq=%u is_managed=%d has_reserved=%d\",\n\t\t  __entry->irq, __entry->is_managed, __entry->has_reserved)\n);\n\nTRACE_EVENT(vector_setup,\n\n\tTP_PROTO(unsigned int irq, bool is_legacy, int ret),\n\n\tTP_ARGS(irq, is_legacy, ret),\n\n\tTP_STRUCT__entry(\n\t\t__field(\tunsigned int,\tirq\t\t)\n\t\t__field(\tbool,\t\tis_legacy\t)\n\t\t__field(\tint,\t\tret\t\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->irq\t\t= irq;\n\t\t__entry->is_legacy\t= is_legacy;\n\t\t__entry->ret\t\t= ret;\n\t),\n\n\tTP_printk(\"irq=%u is_legacy=%d ret=%d\",\n\t\t  __entry->irq, __entry->is_legacy, __entry->ret)\n);\n\nTRACE_EVENT(vector_free_moved,\n\n\tTP_PROTO(unsigned int irq, unsigned int cpu, unsigned int vector,\n\t\t bool is_managed),\n\n\tTP_ARGS(irq, cpu, vector, is_managed),\n\n\tTP_STRUCT__entry(\n\t\t__field(\tunsigned int,\tirq\t\t)\n\t\t__field(\tunsigned int,\tcpu\t\t)\n\t\t__field(\tunsigned int,\tvector\t\t)\n\t\t__field(\tbool,\t\tis_managed\t)\n\t),\n\n\tTP_fast_assign(\n\t\t__entry->irq\t\t= irq;\n\t\t__entry->cpu\t\t= cpu;\n\t\t__entry->vector\t\t= vector;\n\t\t__entry->is_managed\t= is_managed;\n\t),\n\n\tTP_printk(\"irq=%u cpu=%u vector=%u is_managed=%d\",\n\t\t  __entry->irq, __entry->cpu, __entry->vector,\n\t\t  __entry->is_managed)\n);\n\n\n#endif  \n\n#undef TRACE_INCLUDE_PATH\n#undef TRACE_INCLUDE_FILE\n#define TRACE_INCLUDE_PATH .\n#define TRACE_INCLUDE_FILE irq_vectors\n#endif  \n\n \n#include <trace/define_trace.h>\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}