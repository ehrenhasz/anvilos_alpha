{
  "module_name": "amd-ibs.h",
  "hash_id": "d86e6759c7cab747dca8c6767d53d50b13b73e06a5bc055aaebb3a9cd388694d",
  "original_prompt": "Ingested from linux-6.6.14/arch/x86/include/asm/amd-ibs.h",
  "human_readable_source": " \n \n\n#include <asm/msr-index.h>\n\n \n#define IBS_DATA_SRC_LOC_CACHE\t\t\t 2\n#define IBS_DATA_SRC_DRAM\t\t\t 3\n#define IBS_DATA_SRC_REM_CACHE\t\t\t 4\n#define IBS_DATA_SRC_IO\t\t\t\t 7\n\n \n#define IBS_DATA_SRC_EXT_LOC_CACHE\t\t 1\n#define IBS_DATA_SRC_EXT_NEAR_CCX_CACHE\t\t 2\n#define IBS_DATA_SRC_EXT_DRAM\t\t\t 3\n#define IBS_DATA_SRC_EXT_FAR_CCX_CACHE\t\t 5\n#define IBS_DATA_SRC_EXT_PMEM\t\t\t 6\n#define IBS_DATA_SRC_EXT_IO\t\t\t 7\n#define IBS_DATA_SRC_EXT_EXT_MEM\t\t 8\n#define IBS_DATA_SRC_EXT_PEER_AGENT_MEM\t\t12\n\n \n\n \nunion ibs_fetch_ctl {\n\t__u64 val;\n\tstruct {\n\t\t__u64\tfetch_maxcnt:16, \n\t\t\tfetch_cnt:16,\t \n\t\t\tfetch_lat:16,\t \n\t\t\tfetch_en:1,\t \n\t\t\tfetch_val:1,\t \n\t\t\tfetch_comp:1,\t \n\t\t\tic_miss:1,\t \n\t\t\tphy_addr_valid:1, \n\t\t\tl1tlb_pgsz:2,\t \n\t\t\tl1tlb_miss:1,\t \n\t\t\tl2tlb_miss:1,\t \n\t\t\trand_en:1,\t \n\t\t\tfetch_l2_miss:1, \n\t\t\tl3_miss_only:1,\t \n\t\t\tfetch_oc_miss:1, \n\t\t\tfetch_l3_miss:1, \n\t\t\treserved:2;\t \n\t};\n};\n\n \nunion ibs_op_ctl {\n\t__u64 val;\n\tstruct {\n\t\t__u64\topmaxcnt:16,\t \n\t\t\tl3_miss_only:1,\t \n\t\t\top_en:1,\t \n\t\t\top_val:1,\t \n\t\t\tcnt_ctl:1,\t \n\t\t\topmaxcnt_ext:7,\t \n\t\t\treserved0:5,\t \n\t\t\topcurcnt:27,\t \n\t\t\treserved1:5;\t \n\t};\n};\n\n \nunion ibs_op_data {\n\t__u64 val;\n\tstruct {\n\t\t__u64\tcomp_to_ret_ctr:16,\t \n\t\t\ttag_to_ret_ctr:16,\t \n\t\t\treserved1:2,\t\t \n\t\t\top_return:1,\t\t \n\t\t\top_brn_taken:1,\t\t \n\t\t\top_brn_misp:1,\t\t \n\t\t\top_brn_ret:1,\t\t \n\t\t\top_rip_invalid:1,\t \n\t\t\top_brn_fuse:1,\t\t \n\t\t\top_microcode:1,\t\t \n\t\t\treserved2:23;\t\t \n\t};\n};\n\n \nunion ibs_op_data2 {\n\t__u64 val;\n\tstruct {\n\t\t__u64\tdata_src_lo:3,\t \n\t\t\treserved0:1,\t \n\t\t\trmt_node:1,\t \n\t\t\tcache_hit_st:1,\t \n\t\t\tdata_src_hi:2,\t \n\t\t\treserved1:56;\t \n\t};\n};\n\n \nunion ibs_op_data3 {\n\t__u64 val;\n\tstruct {\n\t\t__u64\tld_op:1,\t\t\t \n\t\t\tst_op:1,\t\t\t \n\t\t\tdc_l1tlb_miss:1,\t\t \n\t\t\tdc_l2tlb_miss:1,\t\t \n\t\t\tdc_l1tlb_hit_2m:1,\t\t \n\t\t\tdc_l1tlb_hit_1g:1,\t\t \n\t\t\tdc_l2tlb_hit_2m:1,\t\t \n\t\t\tdc_miss:1,\t\t\t \n\t\t\tdc_mis_acc:1,\t\t\t \n\t\t\treserved:4,\t\t\t \n\t\t\tdc_wc_mem_acc:1,\t\t \n\t\t\tdc_uc_mem_acc:1,\t\t \n\t\t\tdc_locked_op:1,\t\t\t \n\t\t\tdc_miss_no_mab_alloc:1,\t\t \n\t\t\tdc_lin_addr_valid:1,\t\t \n\t\t\tdc_phy_addr_valid:1,\t\t \n\t\t\tdc_l2_tlb_hit_1g:1,\t\t \n\t\t\tl2_miss:1,\t\t\t \n\t\t\tsw_pf:1,\t\t\t \n\t\t\top_mem_width:4,\t\t\t \n\t\t\top_dc_miss_open_mem_reqs:6,\t \n\t\t\tdc_miss_lat:16,\t\t\t \n\t\t\ttlb_refill_lat:16;\t\t \n\t};\n};\n\n \nunion ic_ibs_extd_ctl {\n\t__u64 val;\n\tstruct {\n\t\t__u64\titlb_refill_lat:16,\t \n\t\t\treserved:48;\t\t \n\t};\n};\n\n \n\nstruct perf_ibs_data {\n\tu32\t\tsize;\n\tunion {\n\t\tu32\tdata[0];\t \n\t\tu32\tcaps;\n\t};\n\tu64\t\tregs[MSR_AMD64_IBS_REG_COUNT_MAX];\n};\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}