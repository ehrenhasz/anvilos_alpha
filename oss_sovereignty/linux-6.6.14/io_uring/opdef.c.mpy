{
  "module_name": "opdef.c",
  "hash_id": "941ebbc77b6e4ac4df791b3df784f93d4dbdbc59ef18836dd5750cb0c131d652",
  "original_prompt": "Ingested from linux-6.6.14/io_uring/opdef.c",
  "human_readable_source": "\n \n#include <linux/kernel.h>\n#include <linux/errno.h>\n#include <linux/fs.h>\n#include <linux/file.h>\n#include <linux/io_uring.h>\n\n#include \"io_uring.h\"\n#include \"opdef.h\"\n#include \"refs.h\"\n#include \"tctx.h\"\n#include \"sqpoll.h\"\n#include \"fdinfo.h\"\n#include \"kbuf.h\"\n#include \"rsrc.h\"\n\n#include \"xattr.h\"\n#include \"nop.h\"\n#include \"fs.h\"\n#include \"splice.h\"\n#include \"sync.h\"\n#include \"advise.h\"\n#include \"openclose.h\"\n#include \"uring_cmd.h\"\n#include \"epoll.h\"\n#include \"statx.h\"\n#include \"net.h\"\n#include \"msg_ring.h\"\n#include \"timeout.h\"\n#include \"poll.h\"\n#include \"cancel.h\"\n#include \"rw.h\"\n\nstatic int io_no_issue(struct io_kiocb *req, unsigned int issue_flags)\n{\n\tWARN_ON_ONCE(1);\n\treturn -ECANCELED;\n}\n\nstatic __maybe_unused int io_eopnotsupp_prep(struct io_kiocb *kiocb,\n\t\t\t\t\t     const struct io_uring_sqe *sqe)\n{\n\treturn -EOPNOTSUPP;\n}\n\nconst struct io_issue_def io_issue_defs[] = {\n\t[IORING_OP_NOP] = {\n\t\t.audit_skip\t\t= 1,\n\t\t.iopoll\t\t\t= 1,\n\t\t.prep\t\t\t= io_nop_prep,\n\t\t.issue\t\t\t= io_nop,\n\t},\n\t[IORING_OP_READV] = {\n\t\t.needs_file\t\t= 1,\n\t\t.unbound_nonreg_file\t= 1,\n\t\t.pollin\t\t\t= 1,\n\t\t.buffer_select\t\t= 1,\n\t\t.plug\t\t\t= 1,\n\t\t.audit_skip\t\t= 1,\n\t\t.ioprio\t\t\t= 1,\n\t\t.iopoll\t\t\t= 1,\n\t\t.iopoll_queue\t\t= 1,\n\t\t.prep\t\t\t= io_prep_rw,\n\t\t.issue\t\t\t= io_read,\n\t},\n\t[IORING_OP_WRITEV] = {\n\t\t.needs_file\t\t= 1,\n\t\t.hash_reg_file\t\t= 1,\n\t\t.unbound_nonreg_file\t= 1,\n\t\t.pollout\t\t= 1,\n\t\t.plug\t\t\t= 1,\n\t\t.audit_skip\t\t= 1,\n\t\t.ioprio\t\t\t= 1,\n\t\t.iopoll\t\t\t= 1,\n\t\t.iopoll_queue\t\t= 1,\n\t\t.prep\t\t\t= io_prep_rw,\n\t\t.issue\t\t\t= io_write,\n\t},\n\t[IORING_OP_FSYNC] = {\n\t\t.needs_file\t\t= 1,\n\t\t.audit_skip\t\t= 1,\n\t\t.prep\t\t\t= io_fsync_prep,\n\t\t.issue\t\t\t= io_fsync,\n\t},\n\t[IORING_OP_READ_FIXED] = {\n\t\t.needs_file\t\t= 1,\n\t\t.unbound_nonreg_file\t= 1,\n\t\t.pollin\t\t\t= 1,\n\t\t.plug\t\t\t= 1,\n\t\t.audit_skip\t\t= 1,\n\t\t.ioprio\t\t\t= 1,\n\t\t.iopoll\t\t\t= 1,\n\t\t.iopoll_queue\t\t= 1,\n\t\t.prep\t\t\t= io_prep_rw,\n\t\t.issue\t\t\t= io_read,\n\t},\n\t[IORING_OP_WRITE_FIXED] = {\n\t\t.needs_file\t\t= 1,\n\t\t.hash_reg_file\t\t= 1,\n\t\t.unbound_nonreg_file\t= 1,\n\t\t.pollout\t\t= 1,\n\t\t.plug\t\t\t= 1,\n\t\t.audit_skip\t\t= 1,\n\t\t.ioprio\t\t\t= 1,\n\t\t.iopoll\t\t\t= 1,\n\t\t.iopoll_queue\t\t= 1,\n\t\t.prep\t\t\t= io_prep_rw,\n\t\t.issue\t\t\t= io_write,\n\t},\n\t[IORING_OP_POLL_ADD] = {\n\t\t.needs_file\t\t= 1,\n\t\t.unbound_nonreg_file\t= 1,\n\t\t.audit_skip\t\t= 1,\n\t\t.prep\t\t\t= io_poll_add_prep,\n\t\t.issue\t\t\t= io_poll_add,\n\t},\n\t[IORING_OP_POLL_REMOVE] = {\n\t\t.audit_skip\t\t= 1,\n\t\t.prep\t\t\t= io_poll_remove_prep,\n\t\t.issue\t\t\t= io_poll_remove,\n\t},\n\t[IORING_OP_SYNC_FILE_RANGE] = {\n\t\t.needs_file\t\t= 1,\n\t\t.audit_skip\t\t= 1,\n\t\t.prep\t\t\t= io_sfr_prep,\n\t\t.issue\t\t\t= io_sync_file_range,\n\t},\n\t[IORING_OP_SENDMSG] = {\n\t\t.needs_file\t\t= 1,\n\t\t.unbound_nonreg_file\t= 1,\n\t\t.pollout\t\t= 1,\n\t\t.ioprio\t\t\t= 1,\n\t\t.manual_alloc\t\t= 1,\n#if defined(CONFIG_NET)\n\t\t.prep\t\t\t= io_sendmsg_prep,\n\t\t.issue\t\t\t= io_sendmsg,\n#else\n\t\t.prep\t\t\t= io_eopnotsupp_prep,\n#endif\n\t},\n\t[IORING_OP_RECVMSG] = {\n\t\t.needs_file\t\t= 1,\n\t\t.unbound_nonreg_file\t= 1,\n\t\t.pollin\t\t\t= 1,\n\t\t.buffer_select\t\t= 1,\n\t\t.ioprio\t\t\t= 1,\n\t\t.manual_alloc\t\t= 1,\n#if defined(CONFIG_NET)\n\t\t.prep\t\t\t= io_recvmsg_prep,\n\t\t.issue\t\t\t= io_recvmsg,\n#else\n\t\t.prep\t\t\t= io_eopnotsupp_prep,\n#endif\n\t},\n\t[IORING_OP_TIMEOUT] = {\n\t\t.audit_skip\t\t= 1,\n\t\t.prep\t\t\t= io_timeout_prep,\n\t\t.issue\t\t\t= io_timeout,\n\t},\n\t[IORING_OP_TIMEOUT_REMOVE] = {\n\t\t \n\t\t.audit_skip\t\t= 1,\n\t\t.prep\t\t\t= io_timeout_remove_prep,\n\t\t.issue\t\t\t= io_timeout_remove,\n\t},\n\t[IORING_OP_ACCEPT] = {\n\t\t.needs_file\t\t= 1,\n\t\t.unbound_nonreg_file\t= 1,\n\t\t.pollin\t\t\t= 1,\n\t\t.poll_exclusive\t\t= 1,\n\t\t.ioprio\t\t\t= 1,\t \n#if defined(CONFIG_NET)\n\t\t.prep\t\t\t= io_accept_prep,\n\t\t.issue\t\t\t= io_accept,\n#else\n\t\t.prep\t\t\t= io_eopnotsupp_prep,\n#endif\n\t},\n\t[IORING_OP_ASYNC_CANCEL] = {\n\t\t.audit_skip\t\t= 1,\n\t\t.prep\t\t\t= io_async_cancel_prep,\n\t\t.issue\t\t\t= io_async_cancel,\n\t},\n\t[IORING_OP_LINK_TIMEOUT] = {\n\t\t.audit_skip\t\t= 1,\n\t\t.prep\t\t\t= io_link_timeout_prep,\n\t\t.issue\t\t\t= io_no_issue,\n\t},\n\t[IORING_OP_CONNECT] = {\n\t\t.needs_file\t\t= 1,\n\t\t.unbound_nonreg_file\t= 1,\n\t\t.pollout\t\t= 1,\n#if defined(CONFIG_NET)\n\t\t.prep\t\t\t= io_connect_prep,\n\t\t.issue\t\t\t= io_connect,\n#else\n\t\t.prep\t\t\t= io_eopnotsupp_prep,\n#endif\n\t},\n\t[IORING_OP_FALLOCATE] = {\n\t\t.needs_file\t\t= 1,\n\t\t.prep\t\t\t= io_fallocate_prep,\n\t\t.issue\t\t\t= io_fallocate,\n\t},\n\t[IORING_OP_OPENAT] = {\n\t\t.prep\t\t\t= io_openat_prep,\n\t\t.issue\t\t\t= io_openat,\n\t},\n\t[IORING_OP_CLOSE] = {\n\t\t.prep\t\t\t= io_close_prep,\n\t\t.issue\t\t\t= io_close,\n\t},\n\t[IORING_OP_FILES_UPDATE] = {\n\t\t.audit_skip\t\t= 1,\n\t\t.iopoll\t\t\t= 1,\n\t\t.prep\t\t\t= io_files_update_prep,\n\t\t.issue\t\t\t= io_files_update,\n\t},\n\t[IORING_OP_STATX] = {\n\t\t.audit_skip\t\t= 1,\n\t\t.prep\t\t\t= io_statx_prep,\n\t\t.issue\t\t\t= io_statx,\n\t},\n\t[IORING_OP_READ] = {\n\t\t.needs_file\t\t= 1,\n\t\t.unbound_nonreg_file\t= 1,\n\t\t.pollin\t\t\t= 1,\n\t\t.buffer_select\t\t= 1,\n\t\t.plug\t\t\t= 1,\n\t\t.audit_skip\t\t= 1,\n\t\t.ioprio\t\t\t= 1,\n\t\t.iopoll\t\t\t= 1,\n\t\t.iopoll_queue\t\t= 1,\n\t\t.prep\t\t\t= io_prep_rw,\n\t\t.issue\t\t\t= io_read,\n\t},\n\t[IORING_OP_WRITE] = {\n\t\t.needs_file\t\t= 1,\n\t\t.hash_reg_file\t\t= 1,\n\t\t.unbound_nonreg_file\t= 1,\n\t\t.pollout\t\t= 1,\n\t\t.plug\t\t\t= 1,\n\t\t.audit_skip\t\t= 1,\n\t\t.ioprio\t\t\t= 1,\n\t\t.iopoll\t\t\t= 1,\n\t\t.iopoll_queue\t\t= 1,\n\t\t.prep\t\t\t= io_prep_rw,\n\t\t.issue\t\t\t= io_write,\n\t},\n\t[IORING_OP_FADVISE] = {\n\t\t.needs_file\t\t= 1,\n\t\t.audit_skip\t\t= 1,\n\t\t.prep\t\t\t= io_fadvise_prep,\n\t\t.issue\t\t\t= io_fadvise,\n\t},\n\t[IORING_OP_MADVISE] = {\n\t\t.audit_skip\t\t= 1,\n\t\t.prep\t\t\t= io_madvise_prep,\n\t\t.issue\t\t\t= io_madvise,\n\t},\n\t[IORING_OP_SEND] = {\n\t\t.needs_file\t\t= 1,\n\t\t.unbound_nonreg_file\t= 1,\n\t\t.pollout\t\t= 1,\n\t\t.audit_skip\t\t= 1,\n\t\t.ioprio\t\t\t= 1,\n\t\t.manual_alloc\t\t= 1,\n#if defined(CONFIG_NET)\n\t\t.prep\t\t\t= io_sendmsg_prep,\n\t\t.issue\t\t\t= io_send,\n#else\n\t\t.prep\t\t\t= io_eopnotsupp_prep,\n#endif\n\t},\n\t[IORING_OP_RECV] = {\n\t\t.needs_file\t\t= 1,\n\t\t.unbound_nonreg_file\t= 1,\n\t\t.pollin\t\t\t= 1,\n\t\t.buffer_select\t\t= 1,\n\t\t.audit_skip\t\t= 1,\n\t\t.ioprio\t\t\t= 1,\n#if defined(CONFIG_NET)\n\t\t.prep\t\t\t= io_recvmsg_prep,\n\t\t.issue\t\t\t= io_recv,\n#else\n\t\t.prep\t\t\t= io_eopnotsupp_prep,\n#endif\n\t},\n\t[IORING_OP_OPENAT2] = {\n\t\t.prep\t\t\t= io_openat2_prep,\n\t\t.issue\t\t\t= io_openat2,\n\t},\n\t[IORING_OP_EPOLL_CTL] = {\n\t\t.unbound_nonreg_file\t= 1,\n\t\t.audit_skip\t\t= 1,\n#if defined(CONFIG_EPOLL)\n\t\t.prep\t\t\t= io_epoll_ctl_prep,\n\t\t.issue\t\t\t= io_epoll_ctl,\n#else\n\t\t.prep\t\t\t= io_eopnotsupp_prep,\n#endif\n\t},\n\t[IORING_OP_SPLICE] = {\n\t\t.needs_file\t\t= 1,\n\t\t.hash_reg_file\t\t= 1,\n\t\t.unbound_nonreg_file\t= 1,\n\t\t.audit_skip\t\t= 1,\n\t\t.prep\t\t\t= io_splice_prep,\n\t\t.issue\t\t\t= io_splice,\n\t},\n\t[IORING_OP_PROVIDE_BUFFERS] = {\n\t\t.audit_skip\t\t= 1,\n\t\t.iopoll\t\t\t= 1,\n\t\t.prep\t\t\t= io_provide_buffers_prep,\n\t\t.issue\t\t\t= io_provide_buffers,\n\t},\n\t[IORING_OP_REMOVE_BUFFERS] = {\n\t\t.audit_skip\t\t= 1,\n\t\t.iopoll\t\t\t= 1,\n\t\t.prep\t\t\t= io_remove_buffers_prep,\n\t\t.issue\t\t\t= io_remove_buffers,\n\t},\n\t[IORING_OP_TEE] = {\n\t\t.needs_file\t\t= 1,\n\t\t.hash_reg_file\t\t= 1,\n\t\t.unbound_nonreg_file\t= 1,\n\t\t.audit_skip\t\t= 1,\n\t\t.prep\t\t\t= io_tee_prep,\n\t\t.issue\t\t\t= io_tee,\n\t},\n\t[IORING_OP_SHUTDOWN] = {\n\t\t.needs_file\t\t= 1,\n#if defined(CONFIG_NET)\n\t\t.prep\t\t\t= io_shutdown_prep,\n\t\t.issue\t\t\t= io_shutdown,\n#else\n\t\t.prep\t\t\t= io_eopnotsupp_prep,\n#endif\n\t},\n\t[IORING_OP_RENAMEAT] = {\n\t\t.prep\t\t\t= io_renameat_prep,\n\t\t.issue\t\t\t= io_renameat,\n\t},\n\t[IORING_OP_UNLINKAT] = {\n\t\t.prep\t\t\t= io_unlinkat_prep,\n\t\t.issue\t\t\t= io_unlinkat,\n\t},\n\t[IORING_OP_MKDIRAT] = {\n\t\t.prep\t\t\t= io_mkdirat_prep,\n\t\t.issue\t\t\t= io_mkdirat,\n\t},\n\t[IORING_OP_SYMLINKAT] = {\n\t\t.prep\t\t\t= io_symlinkat_prep,\n\t\t.issue\t\t\t= io_symlinkat,\n\t},\n\t[IORING_OP_LINKAT] = {\n\t\t.prep\t\t\t= io_linkat_prep,\n\t\t.issue\t\t\t= io_linkat,\n\t},\n\t[IORING_OP_MSG_RING] = {\n\t\t.needs_file\t\t= 1,\n\t\t.iopoll\t\t\t= 1,\n\t\t.prep\t\t\t= io_msg_ring_prep,\n\t\t.issue\t\t\t= io_msg_ring,\n\t},\n\t[IORING_OP_FSETXATTR] = {\n\t\t.needs_file = 1,\n\t\t.prep\t\t\t= io_fsetxattr_prep,\n\t\t.issue\t\t\t= io_fsetxattr,\n\t},\n\t[IORING_OP_SETXATTR] = {\n\t\t.prep\t\t\t= io_setxattr_prep,\n\t\t.issue\t\t\t= io_setxattr,\n\t},\n\t[IORING_OP_FGETXATTR] = {\n\t\t.needs_file = 1,\n\t\t.prep\t\t\t= io_fgetxattr_prep,\n\t\t.issue\t\t\t= io_fgetxattr,\n\t},\n\t[IORING_OP_GETXATTR] = {\n\t\t.prep\t\t\t= io_getxattr_prep,\n\t\t.issue\t\t\t= io_getxattr,\n\t},\n\t[IORING_OP_SOCKET] = {\n\t\t.audit_skip\t\t= 1,\n#if defined(CONFIG_NET)\n\t\t.prep\t\t\t= io_socket_prep,\n\t\t.issue\t\t\t= io_socket,\n#else\n\t\t.prep\t\t\t= io_eopnotsupp_prep,\n#endif\n\t},\n\t[IORING_OP_URING_CMD] = {\n\t\t.needs_file\t\t= 1,\n\t\t.plug\t\t\t= 1,\n\t\t.iopoll\t\t\t= 1,\n\t\t.iopoll_queue\t\t= 1,\n\t\t.prep\t\t\t= io_uring_cmd_prep,\n\t\t.issue\t\t\t= io_uring_cmd,\n\t},\n\t[IORING_OP_SEND_ZC] = {\n\t\t.needs_file\t\t= 1,\n\t\t.unbound_nonreg_file\t= 1,\n\t\t.pollout\t\t= 1,\n\t\t.audit_skip\t\t= 1,\n\t\t.ioprio\t\t\t= 1,\n\t\t.manual_alloc\t\t= 1,\n#if defined(CONFIG_NET)\n\t\t.prep\t\t\t= io_send_zc_prep,\n\t\t.issue\t\t\t= io_send_zc,\n#else\n\t\t.prep\t\t\t= io_eopnotsupp_prep,\n#endif\n\t},\n\t[IORING_OP_SENDMSG_ZC] = {\n\t\t.needs_file\t\t= 1,\n\t\t.unbound_nonreg_file\t= 1,\n\t\t.pollout\t\t= 1,\n\t\t.ioprio\t\t\t= 1,\n\t\t.manual_alloc\t\t= 1,\n#if defined(CONFIG_NET)\n\t\t.prep\t\t\t= io_send_zc_prep,\n\t\t.issue\t\t\t= io_sendmsg_zc,\n#else\n\t\t.prep\t\t\t= io_eopnotsupp_prep,\n#endif\n\t},\n};\n\n\nconst struct io_cold_def io_cold_defs[] = {\n\t[IORING_OP_NOP] = {\n\t\t.name\t\t\t= \"NOP\",\n\t},\n\t[IORING_OP_READV] = {\n\t\t.async_size\t\t= sizeof(struct io_async_rw),\n\t\t.name\t\t\t= \"READV\",\n\t\t.prep_async\t\t= io_readv_prep_async,\n\t\t.cleanup\t\t= io_readv_writev_cleanup,\n\t\t.fail\t\t\t= io_rw_fail,\n\t},\n\t[IORING_OP_WRITEV] = {\n\t\t.async_size\t\t= sizeof(struct io_async_rw),\n\t\t.name\t\t\t= \"WRITEV\",\n\t\t.prep_async\t\t= io_writev_prep_async,\n\t\t.cleanup\t\t= io_readv_writev_cleanup,\n\t\t.fail\t\t\t= io_rw_fail,\n\t},\n\t[IORING_OP_FSYNC] = {\n\t\t.name\t\t\t= \"FSYNC\",\n\t},\n\t[IORING_OP_READ_FIXED] = {\n\t\t.async_size\t\t= sizeof(struct io_async_rw),\n\t\t.name\t\t\t= \"READ_FIXED\",\n\t\t.fail\t\t\t= io_rw_fail,\n\t},\n\t[IORING_OP_WRITE_FIXED] = {\n\t\t.async_size\t\t= sizeof(struct io_async_rw),\n\t\t.name\t\t\t= \"WRITE_FIXED\",\n\t\t.fail\t\t\t= io_rw_fail,\n\t},\n\t[IORING_OP_POLL_ADD] = {\n\t\t.name\t\t\t= \"POLL_ADD\",\n\t},\n\t[IORING_OP_POLL_REMOVE] = {\n\t\t.name\t\t\t= \"POLL_REMOVE\",\n\t},\n\t[IORING_OP_SYNC_FILE_RANGE] = {\n\t\t.name\t\t\t= \"SYNC_FILE_RANGE\",\n\t},\n\t[IORING_OP_SENDMSG] = {\n\t\t.name\t\t\t= \"SENDMSG\",\n#if defined(CONFIG_NET)\n\t\t.async_size\t\t= sizeof(struct io_async_msghdr),\n\t\t.prep_async\t\t= io_sendmsg_prep_async,\n\t\t.cleanup\t\t= io_sendmsg_recvmsg_cleanup,\n\t\t.fail\t\t\t= io_sendrecv_fail,\n#endif\n\t},\n\t[IORING_OP_RECVMSG] = {\n\t\t.name\t\t\t= \"RECVMSG\",\n#if defined(CONFIG_NET)\n\t\t.async_size\t\t= sizeof(struct io_async_msghdr),\n\t\t.prep_async\t\t= io_recvmsg_prep_async,\n\t\t.cleanup\t\t= io_sendmsg_recvmsg_cleanup,\n\t\t.fail\t\t\t= io_sendrecv_fail,\n#endif\n\t},\n\t[IORING_OP_TIMEOUT] = {\n\t\t.async_size\t\t= sizeof(struct io_timeout_data),\n\t\t.name\t\t\t= \"TIMEOUT\",\n\t},\n\t[IORING_OP_TIMEOUT_REMOVE] = {\n\t\t.name\t\t\t= \"TIMEOUT_REMOVE\",\n\t},\n\t[IORING_OP_ACCEPT] = {\n\t\t.name\t\t\t= \"ACCEPT\",\n\t},\n\t[IORING_OP_ASYNC_CANCEL] = {\n\t\t.name\t\t\t= \"ASYNC_CANCEL\",\n\t},\n\t[IORING_OP_LINK_TIMEOUT] = {\n\t\t.async_size\t\t= sizeof(struct io_timeout_data),\n\t\t.name\t\t\t= \"LINK_TIMEOUT\",\n\t},\n\t[IORING_OP_CONNECT] = {\n\t\t.name\t\t\t= \"CONNECT\",\n#if defined(CONFIG_NET)\n\t\t.async_size\t\t= sizeof(struct io_async_connect),\n\t\t.prep_async\t\t= io_connect_prep_async,\n#endif\n\t},\n\t[IORING_OP_FALLOCATE] = {\n\t\t.name\t\t\t= \"FALLOCATE\",\n\t},\n\t[IORING_OP_OPENAT] = {\n\t\t.name\t\t\t= \"OPENAT\",\n\t\t.cleanup\t\t= io_open_cleanup,\n\t},\n\t[IORING_OP_CLOSE] = {\n\t\t.name\t\t\t= \"CLOSE\",\n\t},\n\t[IORING_OP_FILES_UPDATE] = {\n\t\t.name\t\t\t= \"FILES_UPDATE\",\n\t},\n\t[IORING_OP_STATX] = {\n\t\t.name\t\t\t= \"STATX\",\n\t\t.cleanup\t\t= io_statx_cleanup,\n\t},\n\t[IORING_OP_READ] = {\n\t\t.async_size\t\t= sizeof(struct io_async_rw),\n\t\t.name\t\t\t= \"READ\",\n\t\t.fail\t\t\t= io_rw_fail,\n\t},\n\t[IORING_OP_WRITE] = {\n\t\t.async_size\t\t= sizeof(struct io_async_rw),\n\t\t.name\t\t\t= \"WRITE\",\n\t\t.fail\t\t\t= io_rw_fail,\n\t},\n\t[IORING_OP_FADVISE] = {\n\t\t.name\t\t\t= \"FADVISE\",\n\t},\n\t[IORING_OP_MADVISE] = {\n\t\t.name\t\t\t= \"MADVISE\",\n\t},\n\t[IORING_OP_SEND] = {\n\t\t.name\t\t\t= \"SEND\",\n#if defined(CONFIG_NET)\n\t\t.async_size\t\t= sizeof(struct io_async_msghdr),\n\t\t.fail\t\t\t= io_sendrecv_fail,\n\t\t.prep_async\t\t= io_send_prep_async,\n#endif\n\t},\n\t[IORING_OP_RECV] = {\n\t\t.name\t\t\t= \"RECV\",\n#if defined(CONFIG_NET)\n\t\t.fail\t\t\t= io_sendrecv_fail,\n#endif\n\t},\n\t[IORING_OP_OPENAT2] = {\n\t\t.name\t\t\t= \"OPENAT2\",\n\t\t.cleanup\t\t= io_open_cleanup,\n\t},\n\t[IORING_OP_EPOLL_CTL] = {\n\t\t.name\t\t\t= \"EPOLL\",\n\t},\n\t[IORING_OP_SPLICE] = {\n\t\t.name\t\t\t= \"SPLICE\",\n\t},\n\t[IORING_OP_PROVIDE_BUFFERS] = {\n\t\t.name\t\t\t= \"PROVIDE_BUFFERS\",\n\t},\n\t[IORING_OP_REMOVE_BUFFERS] = {\n\t\t.name\t\t\t= \"REMOVE_BUFFERS\",\n\t},\n\t[IORING_OP_TEE] = {\n\t\t.name\t\t\t= \"TEE\",\n\t},\n\t[IORING_OP_SHUTDOWN] = {\n\t\t.name\t\t\t= \"SHUTDOWN\",\n\t},\n\t[IORING_OP_RENAMEAT] = {\n\t\t.name\t\t\t= \"RENAMEAT\",\n\t\t.cleanup\t\t= io_renameat_cleanup,\n\t},\n\t[IORING_OP_UNLINKAT] = {\n\t\t.name\t\t\t= \"UNLINKAT\",\n\t\t.cleanup\t\t= io_unlinkat_cleanup,\n\t},\n\t[IORING_OP_MKDIRAT] = {\n\t\t.name\t\t\t= \"MKDIRAT\",\n\t\t.cleanup\t\t= io_mkdirat_cleanup,\n\t},\n\t[IORING_OP_SYMLINKAT] = {\n\t\t.name\t\t\t= \"SYMLINKAT\",\n\t\t.cleanup\t\t= io_link_cleanup,\n\t},\n\t[IORING_OP_LINKAT] = {\n\t\t.name\t\t\t= \"LINKAT\",\n\t\t.cleanup\t\t= io_link_cleanup,\n\t},\n\t[IORING_OP_MSG_RING] = {\n\t\t.name\t\t\t= \"MSG_RING\",\n\t\t.cleanup\t\t= io_msg_ring_cleanup,\n\t},\n\t[IORING_OP_FSETXATTR] = {\n\t\t.name\t\t\t= \"FSETXATTR\",\n\t\t.cleanup\t\t= io_xattr_cleanup,\n\t},\n\t[IORING_OP_SETXATTR] = {\n\t\t.name\t\t\t= \"SETXATTR\",\n\t\t.cleanup\t\t= io_xattr_cleanup,\n\t},\n\t[IORING_OP_FGETXATTR] = {\n\t\t.name\t\t\t= \"FGETXATTR\",\n\t\t.cleanup\t\t= io_xattr_cleanup,\n\t},\n\t[IORING_OP_GETXATTR] = {\n\t\t.name\t\t\t= \"GETXATTR\",\n\t\t.cleanup\t\t= io_xattr_cleanup,\n\t},\n\t[IORING_OP_SOCKET] = {\n\t\t.name\t\t\t= \"SOCKET\",\n\t},\n\t[IORING_OP_URING_CMD] = {\n\t\t.name\t\t\t= \"URING_CMD\",\n\t\t.async_size\t\t= 2 * sizeof(struct io_uring_sqe),\n\t\t.prep_async\t\t= io_uring_cmd_prep_async,\n\t},\n\t[IORING_OP_SEND_ZC] = {\n\t\t.name\t\t\t= \"SEND_ZC\",\n#if defined(CONFIG_NET)\n\t\t.async_size\t\t= sizeof(struct io_async_msghdr),\n\t\t.prep_async\t\t= io_send_prep_async,\n\t\t.cleanup\t\t= io_send_zc_cleanup,\n\t\t.fail\t\t\t= io_sendrecv_fail,\n#endif\n\t},\n\t[IORING_OP_SENDMSG_ZC] = {\n\t\t.name\t\t\t= \"SENDMSG_ZC\",\n#if defined(CONFIG_NET)\n\t\t.async_size\t\t= sizeof(struct io_async_msghdr),\n\t\t.prep_async\t\t= io_sendmsg_prep_async,\n\t\t.cleanup\t\t= io_send_zc_cleanup,\n\t\t.fail\t\t\t= io_sendrecv_fail,\n#endif\n\t},\n};\n\nconst char *io_uring_get_opcode(u8 opcode)\n{\n\tif (opcode < IORING_OP_LAST)\n\t\treturn io_cold_defs[opcode].name;\n\treturn \"INVALID\";\n}\n\nvoid __init io_uring_optable_init(void)\n{\n\tint i;\n\n\tBUILD_BUG_ON(ARRAY_SIZE(io_cold_defs) != IORING_OP_LAST);\n\tBUILD_BUG_ON(ARRAY_SIZE(io_issue_defs) != IORING_OP_LAST);\n\n\tfor (i = 0; i < ARRAY_SIZE(io_issue_defs); i++) {\n\t\tBUG_ON(!io_issue_defs[i].prep);\n\t\tif (io_issue_defs[i].prep != io_eopnotsupp_prep)\n\t\t\tBUG_ON(!io_issue_defs[i].issue);\n\t\tWARN_ON_ONCE(!io_cold_defs[i].name);\n\t}\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}