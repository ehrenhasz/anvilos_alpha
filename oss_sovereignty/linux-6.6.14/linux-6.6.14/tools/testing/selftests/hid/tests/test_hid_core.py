from . import base
import logging
logger = logging.getLogger("hidtools.test.hid")
class TestCollectionOverflow(base.BaseTestCase.TestUhid):
    """
    Test class to test re-allocation of the HID collection stack in
    hid-core.c.
    """
    def create_device(self):
        report_descriptor = [
            0x05, 0x01,         
            0x09, 0x02,         
            0xa1, 0x01,         
            0x09, 0x02,         
            0xa1, 0x02,         
            0x09, 0x01,         
            0xa1, 0x00,         
            0x05, 0x09,         
            0x19, 0x01,         
            0x29, 0x03,         
            0x15, 0x00,         
            0x25, 0x01,         
            0x75, 0x01,         
            0x95, 0x03,         
            0x81, 0x02,         
            0x75, 0x05,         
            0x95, 0x01,         
            0x81, 0x03,         
            0xa1, 0x02,         
            0x09, 0x01,         
            0xa1, 0x02,         
            0x09, 0x01,         
            0xa1, 0x02,         
            0x09, 0x01,         
            0xa1, 0x02,         
            0x09, 0x01,         
            0xa1, 0x02,         
            0x09, 0x01,         
            0xa1, 0x02,         
            0x09, 0x01,         
            0xa1, 0x02,         
            0x09, 0x01,         
            0xa1, 0x02,         
            0x09, 0x01,         
            0xa1, 0x02,         
            0x09, 0x01,         
            0xa1, 0x02,         
            0x09, 0x01,         
            0xa1, 0x02,         
            0x09, 0x01,         
            0xa1, 0x02,         
            0x09, 0x01,         
            0xa1, 0x02,         
            0x09, 0x01,         
            0xa1, 0x02,         
            0x09, 0x01,         
            0xa1, 0x02,         
            0x09, 0x01,         
            0xa1, 0x02,         
            0x09, 0x01,         
            0xa1, 0x02,         
            0x09, 0x01,         
            0x05, 0x01,         
            0x09, 0x30,         
            0x09, 0x31,         
            0x15, 0x81,         
            0x25, 0x7f,         
            0x75, 0x08,         
            0x95, 0x02,         
            0x81, 0x06,         
            0xa1, 0x02,         
            0x85, 0x12,         
            0x09, 0x48,         
            0x95, 0x01,         
            0x75, 0x02,         
            0x15, 0x00,         
            0x25, 0x01,         
            0x35, 0x01,         
            0x45, 0x0c,         
            0xb1, 0x02,         
            0x85, 0x1a,         
            0x09, 0x38,         
            0x35, 0x00,         
            0x45, 0x00,         
            0x95, 0x01,         
            0x75, 0x10,         
            0x16, 0x01, 0x80,   
            0x26, 0xff, 0x7f,   
            0x81, 0x06,         
            0xc0,               
            0xc0,               
            0xc0,               
            0xc0,               
            0xc0,               
            0xc0,               
            0xc0,               
            0xc0,               
            0xc0,               
            0xc0,               
            0xc0,               
            0xc0,               
            0xc0,               
            0xc0,               
            0xc0,               
            0xc0,               
            0xc0,               
            0xc0,               
            0xc0,               
            0xc0,               
            0xc0,               
        ]
        return base.UHIDTestDevice(
            name=None, rdesc=report_descriptor, application="Mouse"
        )
    def test_rdesc(self):
        """
        This test can only check for negatives. If the kernel crashes, you
        know why. If this test passes, either the bug isn't present or just
        didn't get triggered. No way to know.
        For an explanation, see kernel patch
            HID: core: replace the collection tree pointers with indices
        """
        pass
