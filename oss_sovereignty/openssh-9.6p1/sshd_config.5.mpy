{
  "module_name": "sshd_config.5",
  "hash_id": "d904fec9e2afc780fd17f78598c6f9381125938f2ff5e7211228600f7f310edb",
  "original_prompt": "Ingested from openssh-9.6p1/sshd_config.5",
  "human_readable_source": ".\\\"\n.\\\" Author: Tatu Ylonen <ylo@cs.hut.fi>\n.\\\" Copyright (c) 1995 Tatu Ylonen <ylo@cs.hut.fi>, Espoo, Finland\n.\\\"                    All rights reserved\n.\\\"\n.\\\" As far as I am concerned, the code I have written for this software\n.\\\" can be used freely for any purpose.  Any derived versions of this\n.\\\" software must be clearly marked as such, and if the derived work is\n.\\\" incompatible with the protocol description in the RFC file, it must be\n.\\\" called by a name other than \"ssh\" or \"Secure Shell\".\n.\\\"\n.\\\" Copyright (c) 1999,2000 Markus Friedl.  All rights reserved.\n.\\\" Copyright (c) 1999 Aaron Campbell.  All rights reserved.\n.\\\" Copyright (c) 1999 Theo de Raadt.  All rights reserved.\n.\\\"\n.\\\" Redistribution and use in source and binary forms, with or without\n.\\\" modification, are permitted provided that the following conditions\n.\\\" are met:\n.\\\" 1. Redistributions of source code must retain the above copyright\n.\\\"    notice, this list of conditions and the following disclaimer.\n.\\\" 2. Redistributions in binary form must reproduce the above copyright\n.\\\"    notice, this list of conditions and the following disclaimer in the\n.\\\"    documentation and/or other materials provided with the distribution.\n.\\\"\n.\\\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR\n.\\\" IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n.\\\" OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n.\\\" IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,\n.\\\" INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n.\\\" NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n.\\\" DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n.\\\" THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n.\\\" (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n.\\\" THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n.\\\"\n.\\\" $OpenBSD: sshd_config.5,v 1.350 2023/07/28 05:42:36 jmc Exp $\n.Dd $Mdocdate: July 28 2023 $\n.Dt SSHD_CONFIG 5\n.Os\n.Sh NAME\n.Nm sshd_config\n.Nd OpenSSH daemon configuration file\n.Sh DESCRIPTION\n.Xr sshd 8\nreads configuration data from\n.Pa /etc/ssh/sshd_config\n(or the file specified with\n.Fl f\non the command line).\nThe file contains keyword-argument pairs, one per line.\nUnless noted otherwise, for each keyword, the first obtained value will be used.\nLines starting with\n.Ql #\nand empty lines are interpreted as comments.\nArguments may optionally be enclosed in double quotes\n.Pq \\&\"\nin order to represent arguments containing spaces.\n.Pp\nThe possible\nkeywords and their meanings are as follows (note that\nkeywords are case-insensitive and arguments are case-sensitive):\n.Bl -tag -width Ds\n.It Cm AcceptEnv\nSpecifies what environment variables sent by the client will be copied into\nthe session's\n.Xr environ 7 .\nSee\n.Cm SendEnv\nand\n.Cm SetEnv\nin\n.Xr ssh_config 5\nfor how to configure the client.\nThe\n.Ev TERM\nenvironment variable is always accepted whenever the client\nrequests a pseudo-terminal as it is required by the protocol.\nVariables are specified by name, which may contain the wildcard characters\n.Ql *\nand\n.Ql \\&? .\nMultiple environment variables may be separated by whitespace or spread\nacross multiple\n.Cm AcceptEnv\ndirectives.\nBe warned that some environment variables could be used to bypass restricted\nuser environments.\nFor this reason, care should be taken in the use of this directive.\nThe default is not to accept any environment variables.\n.It Cm AddressFamily\nSpecifies which address family should be used by\n.Xr sshd 8 .\nValid arguments are\n.Cm any\n(the default),\n.Cm inet\n(use IPv4 only), or\n.Cm inet6\n(use IPv6 only).\n.It Cm AllowAgentForwarding\nSpecifies whether\n.Xr ssh-agent 1\nforwarding is permitted.\nThe default is\n.Cm yes .\nNote that disabling agent forwarding does not improve security\nunless users are also denied shell access, as they can always install\ntheir own forwarders.\n.It Cm AllowGroups\nThis keyword can be followed by a list of group name patterns, separated\nby spaces.\nIf specified, login is allowed only for users whose primary\ngroup or supplementary group list matches one of the patterns.\nOnly group names are valid; a numerical group ID is not recognized.\nBy default, login is allowed for all groups.\nThe allow/deny groups directives are processed in the following order:\n.Cm DenyGroups ,\n.Cm AllowGroups .\n.Pp\nSee PATTERNS in\n.Xr ssh_config 5\nfor more information on patterns.\nThis keyword may appear multiple times in\n.Nm\nwith each instance appending to the list.\n.It Cm AllowStreamLocalForwarding\nSpecifies whether StreamLocal (Unix-domain socket) forwarding is permitted.\nThe available options are\n.Cm yes\n(the default)\nor\n.Cm all\nto allow StreamLocal forwarding,\n.Cm no\nto prevent all StreamLocal forwarding,\n.Cm local\nto allow local (from the perspective of\n.Xr ssh 1 )\nforwarding only or\n.Cm remote\nto allow remote forwarding only.\nNote that disabling StreamLocal forwarding does not improve security unless\nusers are also denied shell access, as they can always install their\nown forwarders.\n.It Cm AllowTcpForwarding\nSpecifies whether TCP forwarding is permitted.\nThe available options are\n.Cm yes\n(the default)\nor\n.Cm all\nto allow TCP forwarding,\n.Cm no\nto prevent all TCP forwarding,\n.Cm local\nto allow local (from the perspective of\n.Xr ssh 1 )\nforwarding only or\n.Cm remote\nto allow remote forwarding only.\nNote that disabling TCP forwarding does not improve security unless\nusers are also denied shell access, as they can always install their\nown forwarders.\n.It Cm AllowUsers\nThis keyword can be followed by a list of user name patterns, separated\nby spaces.\nIf specified, login is allowed only for user names that\nmatch one of the patterns.\nOnly user names are valid; a numerical user ID is not recognized.\nBy default, login is allowed for all users.\nIf the pattern takes the form USER@HOST then USER and HOST\nare separately checked, restricting logins to particular\nusers from particular hosts.\nHOST criteria may additionally contain addresses to match in CIDR\naddress/masklen format.\nThe allow/deny users directives are processed in the following order:\n.Cm DenyUsers ,\n.Cm AllowUsers .\n.Pp\nSee PATTERNS in\n.Xr ssh_config 5\nfor more information on patterns.\nThis keyword may appear multiple times in\n.Nm\nwith each instance appending to the list.\n.It Cm AuthenticationMethods\nSpecifies the authentication methods that must be successfully completed\nfor a user to be granted access.\nThis option must be followed by one or more lists of comma-separated\nauthentication method names, or by the single string\n.Cm any\nto indicate the default behaviour of accepting any single authentication\nmethod.\nIf the default is overridden, then successful authentication requires\ncompletion of every method in at least one of these lists.\n.Pp\nFor example,\n.Qq publickey,password publickey,keyboard-interactive\nwould require the user to complete public key authentication, followed by\neither password or keyboard interactive authentication.\nOnly methods that are next in one or more lists are offered at each stage,\nso for this example it would not be possible to attempt password or\nkeyboard-interactive authentication before public key.\n.Pp\nFor keyboard interactive authentication it is also possible to\nrestrict authentication to a specific device by appending a\ncolon followed by the device identifier\n.Cm bsdauth\nor\n.Cm pam .\ndepending on the server configuration.\nFor example,\n.Qq keyboard-interactive:bsdauth\nwould restrict keyboard interactive authentication to the\n.Cm bsdauth\ndevice.\n.Pp\nIf the publickey method is listed more than once,\n.Xr sshd 8\nverifies that keys that have been used successfully are not reused for\nsubsequent authentications.\nFor example,\n.Qq publickey,publickey\nrequires successful authentication using two different public keys.\n.Pp\nNote that each authentication method listed should also be explicitly enabled\nin the configuration.\n.Pp\nThe available authentication methods are:\n.Qq gssapi-with-mic ,\n.Qq hostbased ,\n.Qq keyboard-interactive ,\n.Qq none\n(used for access to password-less accounts when\n.Cm PermitEmptyPasswords\nis enabled),\n.Qq password\nand\n.Qq publickey .\n.It Cm AuthorizedKeysCommand\nSpecifies a program to be used to look up the user's public keys.\nThe program must be owned by root, not writable by group or others and\nspecified by an absolute path.\nArguments to\n.Cm AuthorizedKeysCommand\naccept the tokens described in the\n.Sx TOKENS\nsection.\nIf no arguments are specified then the username of the target user is used.\n.Pp\nThe program should produce on standard output zero or\nmore lines of authorized_keys output (see\n.Sx AUTHORIZED_KEYS\nin\n.Xr sshd 8 ) .\n.Cm AuthorizedKeysCommand\nis tried after the usual\n.Cm AuthorizedKeysFile\nfiles and will not be executed if a matching key is found there.\nBy default, no\n.Cm AuthorizedKeysCommand\nis run.\n.It Cm AuthorizedKeysCommandUser\nSpecifies the user under whose account the\n.Cm AuthorizedKeysCommand\nis run.\nIt is recommended to use a dedicated user that has no other role on the host\nthan running authorized keys commands.\nIf\n.Cm AuthorizedKeysCommand\nis specified but\n.Cm AuthorizedKeysCommandUser\nis not, then\n.Xr sshd 8\nwill refuse to start.\n.It Cm AuthorizedKeysFile\nSpecifies the file that contains the public keys used for user authentication.\nThe format is described in the AUTHORIZED_KEYS FILE FORMAT section of\n.Xr sshd 8 .\nArguments to\n.Cm AuthorizedKeysFile\naccept the tokens described in the\n.Sx TOKENS\nsection.\nAfter expansion,\n.Cm AuthorizedKeysFile\nis taken to be an absolute path or one relative to the user's home\ndirectory.\nMultiple files may be listed, separated by whitespace.\nAlternately this option may be set to\n.Cm none\nto skip checking for user keys in files.\nThe default is\n.Qq .ssh/authorized_keys .ssh/authorized_keys2 .\n.It Cm AuthorizedPrincipalsCommand\nSpecifies a program to be used to generate the list of allowed\ncertificate principals as per\n.Cm AuthorizedPrincipalsFile .\nThe program must be owned by root, not writable by group or others and\nspecified by an absolute path.\nArguments to\n.Cm AuthorizedPrincipalsCommand\naccept the tokens described in the\n.Sx TOKENS\nsection.\nIf no arguments are specified then the username of the target user is used.\n.Pp\nThe program should produce on standard output zero or\nmore lines of\n.Cm AuthorizedPrincipalsFile\noutput.\nIf either\n.Cm AuthorizedPrincipalsCommand\nor\n.Cm AuthorizedPrincipalsFile\nis specified, then certificates offered by the client for authentication\nmust contain a principal that is listed.\nBy default, no\n.Cm AuthorizedPrincipalsCommand\nis run.\n.It Cm AuthorizedPrincipalsCommandUser\nSpecifies the user under whose account the\n.Cm AuthorizedPrincipalsCommand\nis run.\nIt is recommended to use a dedicated user that has no other role on the host\nthan running authorized principals commands.\nIf\n.Cm AuthorizedPrincipalsCommand\nis specified but\n.Cm AuthorizedPrincipalsCommandUser\nis not, then\n.Xr sshd 8\nwill refuse to start.\n.It Cm AuthorizedPrincipalsFile\nSpecifies a file that lists principal names that are accepted for\ncertificate authentication.\nWhen using certificates signed by a key listed in\n.Cm TrustedUserCAKeys ,\nthis file lists names, one of which must appear in the certificate for it\nto be accepted for authentication.\nNames are listed one per line preceded by key options (as described in\n.Sx AUTHORIZED_KEYS FILE FORMAT\nin\n.Xr sshd 8 ) .\nEmpty lines and comments starting with\n.Ql #\nare ignored.\n.Pp\nArguments to\n.Cm AuthorizedPrincipalsFile\naccept the tokens described in the\n.Sx TOKENS\nsection.\nAfter expansion,\n.Cm AuthorizedPrincipalsFile\nis taken to be an absolute path or one relative to the user's home directory.\nThe default is\n.Cm none ,\ni.e. not to use a principals file \\(en in this case, the username\nof the user must appear in a certificate's principals list for it to be\naccepted.\n.Pp\nNote that\n.Cm AuthorizedPrincipalsFile\nis only used when authentication proceeds using a CA listed in\n.Cm TrustedUserCAKeys\nand is not consulted for certification authorities trusted via\n.Pa ~/.ssh/authorized_keys ,\nthough the\n.Cm principals=\nkey option offers a similar facility (see\n.Xr sshd 8\nfor details).\n.It Cm Banner\nThe contents of the specified file are sent to the remote user before\nauthentication is allowed.\nIf the argument is\n.Cm none\nthen no banner is displayed.\nBy default, no banner is displayed.\n.It Cm CASignatureAlgorithms\nSpecifies which algorithms are allowed for signing of certificates\nby certificate authorities (CAs).\nThe default is:\n.Bd -literal -offset indent\nssh-ed25519,ecdsa-sha2-nistp256,\necdsa-sha2-nistp384,ecdsa-sha2-nistp521,\nsk-ssh-ed25519@openssh.com,\nsk-ecdsa-sha2-nistp256@openssh.com,\nrsa-sha2-512,rsa-sha2-256\n.Ed\n.Pp\nIf the specified list begins with a\n.Sq +\ncharacter, then the specified algorithms will be appended to the default set\ninstead of replacing them.\nIf the specified list begins with a\n.Sq -\ncharacter, then the specified algorithms (including wildcards) will be removed\nfrom the default set instead of replacing them.\n.Pp\nCertificates signed using other algorithms will not be accepted for\npublic key or host-based authentication.\n.It Cm ChannelTimeout\nSpecifies whether and how quickly\n.Xr sshd 8\nshould close inactive channels.\nTimeouts are specified as one or more\n.Dq type=interval\npairs separated by whitespace, where the\n.Dq type\nmust be a channel type name (as described in the table below), optionally\ncontaining wildcard characters.\n.Pp\nThe timeout value\n.Dq interval\nis specified in seconds or may use any of the units documented in the\n.Sx TIME FORMATS\nsection.\nFor example,\n.Dq session:*=5m\nwould cause all sessions to terminate after five minutes of inactivity.\nSpecifying a zero value disables the inactivity timeout.\n.Pp\nThe available channel types include:\n.Bl -tag -width Ds\n.It Cm agent-connection\nOpen connections to\n.Xr ssh-agent 1 .\n.It Cm direct-tcpip , Cm direct-streamlocal@openssh.com\nOpen TCP or Unix socket (respectively) connections that have\nbeen established from a\n.Xr ssh 1\nlocal forwarding, i.e.\\&\n.Cm LocalForward\nor\n.Cm DynamicForward .\n.It Cm forwarded-tcpip , Cm forwarded-streamlocal@openssh.com\nOpen TCP or Unix socket (respectively) connections that have been\nestablished to a\n.Xr sshd 8\nlistening on behalf of a\n.Xr ssh 1\nremote forwarding, i.e.\\&\n.Cm RemoteForward .\n.It Cm session:command\nCommand execution sessions.\n.It Cm session:shell\nInteractive shell sessions.\n.It Cm session:subsystem:...\nSubsystem sessions, e.g. for\n.Xr sftp 1 ,\nwhich could be identified as\n.Cm session:subsystem:sftp .\n.It Cm x11-connection\nOpen X11 forwarding sessions.\n.El\n.Pp\nNote that in all the above cases, terminating an inactive session does not\nguarantee to remove all resources associated with the session, e.g. shell\nprocesses or X11 clients relating to the session may continue to execute.\n.Pp\nMoreover, terminating an inactive channel or session does not necessarily\nclose the SSH connection, nor does it prevent a client from\nrequesting another channel of the same type.\nIn particular, expiring an inactive forwarding session does not prevent\nanother identical forwarding from being subsequently created.\nSee also\n.Cm UnusedConnectionTimeout ,\nwhich may be used in conjunction with this option.\n.Pp\nThe default is not to expire channels of any type for inactivity.\n.It Cm ChrootDirectory\nSpecifies the pathname of a directory to\n.Xr chroot 2\nto after authentication.\nAt session startup\n.Xr sshd 8\nchecks that all components of the pathname are root-owned directories\nwhich are not writable by any other user or group.\nAfter the chroot,\n.Xr sshd 8\nchanges the working directory to the user's home directory.\nArguments to\n.Cm ChrootDirectory\naccept the tokens described in the\n.Sx TOKENS\nsection.\n.Pp\nThe\n.Cm ChrootDirectory\nmust contain the necessary files and directories to support the\nuser's session.\nFor an interactive session this requires at least a shell, typically\n.Xr sh 1 ,\nand basic\n.Pa /dev\nnodes such as\n.Xr null 4 ,\n.Xr zero 4 ,\n.Xr stdin 4 ,\n.Xr stdout 4 ,\n.Xr stderr 4 ,\nand\n.Xr tty 4\ndevices.\nFor file transfer sessions using SFTP\nno additional configuration of the environment is necessary if the in-process\nsftp-server is used,\nthough sessions which use logging may require\n.Pa /dev/log\ninside the chroot directory on some operating systems (see\n.Xr sftp-server 8\nfor details).\n.Pp\nFor safety, it is very important that the directory hierarchy be\nprevented from modification by other processes on the system (especially\nthose outside the jail).\nMisconfiguration can lead to unsafe environments which\n.Xr sshd 8\ncannot detect.\n.Pp\nThe default is\n.Cm none ,\nindicating not to\n.Xr chroot 2 .\n.It Cm Ciphers\nSpecifies the ciphers allowed.\nMultiple ciphers must be comma-separated.\nIf the specified list begins with a\n.Sq +\ncharacter, then the specified ciphers will be appended to the default set\ninstead of replacing them.\nIf the specified list begins with a\n.Sq -\ncharacter, then the specified ciphers (including wildcards) will be removed\nfrom the default set instead of replacing them.\nIf the specified list begins with a\n.Sq ^\ncharacter, then the specified ciphers will be placed at the head of the\ndefault set.\n.Pp\nThe supported ciphers are:\n.Pp\n.Bl -item -compact -offset indent\n.It\n3des-cbc\n.It\naes128-cbc\n.It\naes192-cbc\n.It\naes256-cbc\n.It\naes128-ctr\n.It\naes192-ctr\n.It\naes256-ctr\n.It\naes128-gcm@openssh.com\n.It\naes256-gcm@openssh.com\n.It\nchacha20-poly1305@openssh.com\n.El\n.Pp\nThe default is:\n.Bd -literal -offset indent\nchacha20-poly1305@openssh.com,\naes128-ctr,aes192-ctr,aes256-ctr,\naes128-gcm@openssh.com,aes256-gcm@openssh.com\n.Ed\n.Pp\nThe list of available ciphers may also be obtained using\n.Qq ssh -Q cipher .\n.It Cm ClientAliveCountMax\nSets the number of client alive messages which may be sent without\n.Xr sshd 8\nreceiving any messages back from the client.\nIf this threshold is reached while client alive messages are being sent,\nsshd will disconnect the client, terminating the session.\nIt is important to note that the use of client alive messages is very\ndifferent from\n.Cm TCPKeepAlive .\nThe client alive messages are sent through the encrypted channel\nand therefore will not be spoofable.\nThe TCP keepalive option enabled by\n.Cm TCPKeepAlive\nis spoofable.\nThe client alive mechanism is valuable when the client or\nserver depend on knowing when a connection has become unresponsive.\n.Pp\nThe default value is 3.\nIf\n.Cm ClientAliveInterval\nis set to 15, and\n.Cm ClientAliveCountMax\nis left at the default, unresponsive SSH clients\nwill be disconnected after approximately 45 seconds.\nSetting a zero\n.Cm ClientAliveCountMax\ndisables connection termination.\n.It Cm ClientAliveInterval\nSets a timeout interval in seconds after which if no data has been received\nfrom the client,\n.Xr sshd 8\nwill send a message through the encrypted\nchannel to request a response from the client.\nThe default\nis 0, indicating that these messages will not be sent to the client.\n.It Cm Compression\nSpecifies whether compression is enabled after\nthe user has authenticated successfully.\nThe argument must be\n.Cm yes ,\n.Cm delayed\n(a legacy synonym for\n.Cm yes )\nor\n.Cm no .\nThe default is\n.Cm yes .\n.It Cm DenyGroups\nThis keyword can be followed by a list of group name patterns, separated\nby spaces.\nLogin is disallowed for users whose primary group or supplementary\ngroup list matches one of the patterns.\nOnly group names are valid; a numerical group ID is not recognized.\nBy default, login is allowed for all groups.\nThe allow/deny groups directives are processed in the following order:\n.Cm DenyGroups ,\n.Cm AllowGroups .\n.Pp\nSee PATTERNS in\n.Xr ssh_config 5\nfor more information on patterns.\nThis keyword may appear multiple times in\n.Nm\nwith each instance appending to the list.\n.It Cm DenyUsers\nThis keyword can be followed by a list of user name patterns, separated\nby spaces.\nLogin is disallowed for user names that match one of the patterns.\nOnly user names are valid; a numerical user ID is not recognized.\nBy default, login is allowed for all users.\nIf the pattern takes the form USER@HOST then USER and HOST\nare separately checked, restricting logins to particular\nusers from particular hosts.\nHOST criteria may additionally contain addresses to match in CIDR\naddress/masklen format.\nThe allow/deny users directives are processed in the following order:\n.Cm DenyUsers ,\n.Cm AllowUsers .\n.Pp\nSee PATTERNS in\n.Xr ssh_config 5\nfor more information on patterns.\nThis keyword may appear multiple times in\n.Nm\nwith each instance appending to the list.\n.It Cm DisableForwarding\nDisables all forwarding features, including X11,\n.Xr ssh-agent 1 ,\nTCP and StreamLocal.\nThis option overrides all other forwarding-related options and may\nsimplify restricted configurations.\n.It Cm ExposeAuthInfo\nWrites a temporary file containing a list of authentication methods and\npublic credentials (e.g. keys) used to authenticate the user.\nThe location of the file is exposed to the user session through the\n.Ev SSH_USER_AUTH\nenvironment variable.\nThe default is\n.Cm no .\n.It Cm FingerprintHash\nSpecifies the hash algorithm used when logging key fingerprints.\nValid options are:\n.Cm md5\nand\n.Cm sha256 .\nThe default is\n.Cm sha256 .\n.It Cm ForceCommand\nForces the execution of the command specified by\n.Cm ForceCommand ,\nignoring any command supplied by the client and\n.Pa ~/.ssh/rc\nif present.\nThe command is invoked by using the user's login shell with the -c option.\nThis applies to shell, command, or subsystem execution.\nIt is most useful inside a\n.Cm Match\nblock.\nThe command originally supplied by the client is available in the\n.Ev SSH_ORIGINAL_COMMAND\nenvironment variable.\nSpecifying a command of\n.Cm internal-sftp\nwill force the use of an in-process SFTP server that requires no support\nfiles when used with\n.Cm ChrootDirectory .\nThe default is\n.Cm none .\n.It Cm GatewayPorts\nSpecifies whether remote hosts are allowed to connect to ports\nforwarded for the client.\nBy default,\n.Xr sshd 8\nbinds remote port forwardings to the loopback address.\nThis prevents other remote hosts from connecting to forwarded ports.\n.Cm GatewayPorts\ncan be used to specify that sshd\nshould allow remote port forwardings to bind to non-loopback addresses, thus\nallowing other hosts to connect.\nThe argument may be\n.Cm no\nto force remote port forwardings to be available to the local host only,\n.Cm yes\nto force remote port forwardings to bind to the wildcard address, or\n.Cm clientspecified\nto allow the client to select the address to which the forwarding is bound.\nThe default is\n.Cm no .\n.It Cm GSSAPIAuthentication\nSpecifies whether user authentication based on GSSAPI is allowed.\nThe default is\n.Cm no .\n.It Cm GSSAPICleanupCredentials\nSpecifies whether to automatically destroy the user's credentials cache\non logout.\nThe default is\n.Cm yes .\n.It Cm GSSAPIStrictAcceptorCheck\nDetermines whether to be strict about the identity of the GSSAPI acceptor\na client authenticates against.\nIf set to\n.Cm yes\nthen the client must authenticate against the host\nservice on the current hostname.\nIf set to\n.Cm no\nthen the client may authenticate against any service key stored in the\nmachine's default store.\nThis facility is provided to assist with operation on multi homed machines.\nThe default is\n.Cm yes .\n.It Cm HostbasedAcceptedAlgorithms\nSpecifies the signature algorithms that will be accepted for hostbased\nauthentication as a list of comma-separated patterns.\nAlternately if the specified list begins with a\n.Sq +\ncharacter, then the specified signature algorithms will be appended to\nthe default set instead of replacing them.\nIf the specified list begins with a\n.Sq -\ncharacter, then the specified signature algorithms (including wildcards)\nwill be removed from the default set instead of replacing them.\nIf the specified list begins with a\n.Sq ^\ncharacter, then the specified signature algorithms will be placed at\nthe head of the default set.\nThe default for this option is:\n.Bd -literal -offset 3n\nssh-ed25519-cert-v01@openssh.com,\necdsa-sha2-nistp256-cert-v01@openssh.com,\necdsa-sha2-nistp384-cert-v01@openssh.com,\necdsa-sha2-nistp521-cert-v01@openssh.com,\nsk-ssh-ed25519-cert-v01@openssh.com,\nsk-ecdsa-sha2-nistp256-cert-v01@openssh.com,\nrsa-sha2-512-cert-v01@openssh.com,\nrsa-sha2-256-cert-v01@openssh.com,\nssh-ed25519,\necdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,\nsk-ssh-ed25519@openssh.com,\nsk-ecdsa-sha2-nistp256@openssh.com,\nrsa-sha2-512,rsa-sha2-256\n.Ed\n.Pp\nThe list of available signature algorithms may also be obtained using\n.Qq ssh -Q HostbasedAcceptedAlgorithms .\nThis was formerly named HostbasedAcceptedKeyTypes.\n.It Cm HostbasedAuthentication\nSpecifies whether rhosts or /etc/hosts.equiv authentication together\nwith successful public key client host authentication is allowed\n(host-based authentication).\nThe default is\n.Cm no .\n.It Cm HostbasedUsesNameFromPacketOnly\nSpecifies whether or not the server will attempt to perform a reverse\nname lookup when matching the name in the\n.Pa ~/.shosts ,\n.Pa ~/.rhosts ,\nand\n.Pa /etc/hosts.equiv\nfiles during\n.Cm HostbasedAuthentication .\nA setting of\n.Cm yes\nmeans that\n.Xr sshd 8\nuses the name supplied by the client rather than\nattempting to resolve the name from the TCP connection itself.\nThe default is\n.Cm no .\n.It Cm HostCertificate\nSpecifies a file containing a public host certificate.\nThe certificate's public key must match a private host key already specified\nby\n.Cm HostKey .\nThe default behaviour of\n.Xr sshd 8\nis not to load any certificates.\n.It Cm HostKey\nSpecifies a file containing a private host key\nused by SSH.\nThe defaults are\n.Pa /etc/ssh/ssh_host_ecdsa_key ,\n.Pa /etc/ssh/ssh_host_ed25519_key\nand\n.Pa /etc/ssh/ssh_host_rsa_key .\n.Pp\nNote that\n.Xr sshd 8\nwill refuse to use a file if it is group/world-accessible\nand that the\n.Cm HostKeyAlgorithms\noption restricts which of the keys are actually used by\n.Xr sshd 8 .\n.Pp\nIt is possible to have multiple host key files.\nIt is also possible to specify public host key files instead.\nIn this case operations on the private key will be delegated\nto an\n.Xr ssh-agent 1 .\n.It Cm HostKeyAgent\nIdentifies the UNIX-domain socket used to communicate\nwith an agent that has access to the private host keys.\nIf the string\n.Qq SSH_AUTH_SOCK\nis specified, the location of the socket will be read from the\n.Ev SSH_AUTH_SOCK\nenvironment variable.\n.It Cm HostKeyAlgorithms\nSpecifies the host key signature algorithms\nthat the server offers.\nThe default for this option is:\n.Bd -literal -offset 3n\nssh-ed25519-cert-v01@openssh.com,\necdsa-sha2-nistp256-cert-v01@openssh.com,\necdsa-sha2-nistp384-cert-v01@openssh.com,\necdsa-sha2-nistp521-cert-v01@openssh.com,\nsk-ssh-ed25519-cert-v01@openssh.com,\nsk-ecdsa-sha2-nistp256-cert-v01@openssh.com,\nrsa-sha2-512-cert-v01@openssh.com,\nrsa-sha2-256-cert-v01@openssh.com,\nssh-ed25519,\necdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,\nsk-ssh-ed25519@openssh.com,\nsk-ecdsa-sha2-nistp256@openssh.com,\nrsa-sha2-512,rsa-sha2-256\n.Ed\n.Pp\nThe list of available signature algorithms may also be obtained using\n.Qq ssh -Q HostKeyAlgorithms .\n.It Cm IgnoreRhosts\nSpecifies whether to ignore per-user\n.Pa .rhosts\nand\n.Pa .shosts\nfiles during\n.Cm HostbasedAuthentication .\nThe system-wide\n.Pa /etc/hosts.equiv\nand\n.Pa /etc/shosts.equiv\nare still used regardless of this setting.\n.Pp\nAccepted values are\n.Cm yes\n(the default) to ignore all per-user files,\n.Cm shosts-only\nto allow the use of\n.Pa .shosts\nbut to ignore\n.Pa .rhosts\nor\n.Cm no\nto allow both\n.Pa .shosts\nand\n.Pa rhosts .\n.It Cm IgnoreUserKnownHosts\nSpecifies whether\n.Xr sshd 8\nshould ignore the user's\n.Pa ~/.ssh/known_hosts\nduring\n.Cm HostbasedAuthentication\nand use only the system-wide known hosts file\n.Pa /etc/ssh/ssh_known_hosts .\nThe default is\n.Dq no .\n.It Cm Include\nInclude the specified configuration file(s).\nMultiple pathnames may be specified and each pathname may contain\n.Xr glob 7\nwildcards that will be expanded and processed in lexical order.\nFiles without absolute paths are assumed to be in\n.Pa /etc/ssh .\nAn\n.Cm Include\ndirective may appear inside a\n.Cm Match\nblock\nto perform conditional inclusion.\n.It Cm IPQoS\nSpecifies the IPv4 type-of-service or DSCP class for the connection.\nAccepted values are\n.Cm af11 ,\n.Cm af12 ,\n.Cm af13 ,\n.Cm af21 ,\n.Cm af22 ,\n.Cm af23 ,\n.Cm af31 ,\n.Cm af32 ,\n.Cm af33 ,\n.Cm af41 ,\n.Cm af42 ,\n.Cm af43 ,\n.Cm cs0 ,\n.Cm cs1 ,\n.Cm cs2 ,\n.Cm cs3 ,\n.Cm cs4 ,\n.Cm cs5 ,\n.Cm cs6 ,\n.Cm cs7 ,\n.Cm ef ,\n.Cm le ,\n.Cm lowdelay ,\n.Cm throughput ,\n.Cm reliability ,\na numeric value, or\n.Cm none\nto use the operating system default.\nThis option may take one or two arguments, separated by whitespace.\nIf one argument is specified, it is used as the packet class unconditionally.\nIf two values are specified, the first is automatically selected for\ninteractive sessions and the second for non-interactive sessions.\nThe default is\n.Cm af21\n(Low-Latency Data)\nfor interactive sessions and\n.Cm cs1\n(Lower Effort)\nfor non-interactive sessions.\n.It Cm KbdInteractiveAuthentication\nSpecifies whether to allow keyboard-interactive authentication.\nAll authentication styles from\n.Xr login.conf 5\nare supported.\nThe default is\n.Cm yes .\nThe argument to this keyword must be\n.Cm yes\nor\n.Cm no .\n.Cm ChallengeResponseAuthentication\nis a deprecated alias for this.\n.It Cm KerberosAuthentication\nSpecifies whether the password provided by the user for\n.Cm PasswordAuthentication\nwill be validated through the Kerberos KDC.\nTo use this option, the server needs a\nKerberos servtab which allows the verification of the KDC's identity.\nThe default is\n.Cm no .\n.It Cm KerberosGetAFSToken\nIf AFS is active and the user has a Kerberos 5 TGT, attempt to acquire\nan AFS token before accessing the user's home directory.\nThe default is\n.Cm no .\n.It Cm KerberosOrLocalPasswd\nIf password authentication through Kerberos fails then\nthe password will be validated via any additional local mechanism\nsuch as\n.Pa /etc/passwd .\nThe default is\n.Cm yes .\n.It Cm KerberosTicketCleanup\nSpecifies whether to automatically destroy the user's ticket cache\nfile on logout.\nThe default is\n.Cm yes .\n.It Cm KexAlgorithms\nSpecifies the available KEX (Key Exchange) algorithms.\nMultiple algorithms must be comma-separated.\nAlternately if the specified list begins with a\n.Sq +\ncharacter, then the specified algorithms will be appended to the default set\ninstead of replacing them.\nIf the specified list begins with a\n.Sq -\ncharacter, then the specified algorithms (including wildcards) will be removed\nfrom the default set instead of replacing them.\nIf the specified list begins with a\n.Sq ^\ncharacter, then the specified algorithms will be placed at the head of the\ndefault set.\nThe supported algorithms are:\n.Pp\n.Bl -item -compact -offset indent\n.It\ncurve25519-sha256\n.It\ncurve25519-sha256@libssh.org\n.It\ndiffie-hellman-group1-sha1\n.It\ndiffie-hellman-group14-sha1\n.It\ndiffie-hellman-group14-sha256\n.It\ndiffie-hellman-group16-sha512\n.It\ndiffie-hellman-group18-sha512\n.It\ndiffie-hellman-group-exchange-sha1\n.It\ndiffie-hellman-group-exchange-sha256\n.It\necdh-sha2-nistp256\n.It\necdh-sha2-nistp384\n.It\necdh-sha2-nistp521\n.It\nsntrup761x25519-sha512@openssh.com\n.El\n.Pp\nThe default is:\n.Bd -literal -offset indent\nsntrup761x25519-sha512@openssh.com,\ncurve25519-sha256,curve25519-sha256@libssh.org,\necdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,\ndiffie-hellman-group-exchange-sha256,\ndiffie-hellman-group16-sha512,diffie-hellman-group18-sha512,\ndiffie-hellman-group14-sha256\n.Ed\n.Pp\nThe list of available key exchange algorithms may also be obtained using\n.Qq ssh -Q KexAlgorithms .\n.It Cm ListenAddress\nSpecifies the local addresses\n.Xr sshd 8\nshould listen on.\nThe following forms may be used:\n.Pp\n.Bl -item -offset indent -compact\n.It\n.Cm ListenAddress\n.Sm off\n.Ar hostname | address\n.Sm on\n.Op Cm rdomain Ar domain\n.It\n.Cm ListenAddress\n.Sm off\n.Ar hostname : port\n.Sm on\n.Op Cm rdomain Ar domain\n.It\n.Cm ListenAddress\n.Sm off\n.Ar IPv4_address : port\n.Sm on\n.Op Cm rdomain Ar domain\n.It\n.Cm ListenAddress\n.Sm off\n.Oo Ar hostname | address Oc : Ar port\n.Sm on\n.Op Cm rdomain Ar domain\n.El\n.Pp\nThe optional\n.Cm rdomain\nqualifier requests\n.Xr sshd 8\nlisten in an explicit routing domain.\nIf\n.Ar port\nis not specified,\nsshd will listen on the address and all\n.Cm Port\noptions specified.\nThe default is to listen on all local addresses on the current default\nrouting domain.\nMultiple\n.Cm ListenAddress\noptions are permitted.\nFor more information on routing domains, see\n.Xr rdomain 4 .\n.It Cm LoginGraceTime\nThe server disconnects after this time if the user has not\nsuccessfully logged in.\nIf the value is 0, there is no time limit.\nThe default is 120 seconds.\n.It Cm LogLevel\nGives the verbosity level that is used when logging messages from\n.Xr sshd 8 .\nThe possible values are:\nQUIET, FATAL, ERROR, INFO, VERBOSE, DEBUG, DEBUG1, DEBUG2, and DEBUG3.\nThe default is INFO.\nDEBUG and DEBUG1 are equivalent.\nDEBUG2 and DEBUG3 each specify higher levels of debugging output.\nLogging with a DEBUG level violates the privacy of users and is not recommended.\n.It Cm LogVerbose\nSpecify one or more overrides to LogLevel.\nAn override consists of a pattern lists that matches the source file, function\nand line number to force detailed logging for.\nFor example, an override pattern of:\n.Bd -literal -offset indent\nkex.c:*:1000,*:kex_exchange_identification():*,packet.c:*\n.Ed\n.Pp\nwould enable detailed logging for line 1000 of\n.Pa kex.c ,\neverything in the\n.Fn kex_exchange_identification\nfunction, and all code in the\n.Pa packet.c\nfile.\nThis option is intended for debugging and no overrides are enabled by default.\n.It Cm MACs\nSpecifies the available MAC (message authentication code) algorithms.\nThe MAC algorithm is used for data integrity protection.\nMultiple algorithms must be comma-separated.\nIf the specified list begins with a\n.Sq +\ncharacter, then the specified algorithms will be appended to the default set\ninstead of replacing them.\nIf the specified list begins with a\n.Sq -\ncharacter, then the specified algorithms (including wildcards) will be removed\nfrom the default set instead of replacing them.\nIf the specified list begins with a\n.Sq ^\ncharacter, then the specified algorithms will be placed at the head of the\ndefault set.\n.Pp\nThe algorithms that contain\n.Qq -etm\ncalculate the MAC after encryption (encrypt-then-mac).\nThese are considered safer and their use recommended.\nThe supported MACs are:\n.Pp\n.Bl -item -compact -offset indent\n.It\nhmac-md5\n.It\nhmac-md5-96\n.It\nhmac-sha1\n.It\nhmac-sha1-96\n.It\nhmac-sha2-256\n.It\nhmac-sha2-512\n.It\numac-64@openssh.com\n.It\numac-128@openssh.com\n.It\nhmac-md5-etm@openssh.com\n.It\nhmac-md5-96-etm@openssh.com\n.It\nhmac-sha1-etm@openssh.com\n.It\nhmac-sha1-96-etm@openssh.com\n.It\nhmac-sha2-256-etm@openssh.com\n.It\nhmac-sha2-512-etm@openssh.com\n.It\numac-64-etm@openssh.com\n.It\numac-128-etm@openssh.com\n.El\n.Pp\nThe default is:\n.Bd -literal -offset indent\numac-64-etm@openssh.com,umac-128-etm@openssh.com,\nhmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,\nhmac-sha1-etm@openssh.com,\numac-64@openssh.com,umac-128@openssh.com,\nhmac-sha2-256,hmac-sha2-512,hmac-sha1\n.Ed\n.Pp\nThe list of available MAC algorithms may also be obtained using\n.Qq ssh -Q mac .\n.It Cm Match\nIntroduces a conditional block.\nIf all of the criteria on the\n.Cm Match\nline are satisfied, the keywords on the following lines override those\nset in the global section of the config file, until either another\n.Cm Match\nline or the end of the file.\nIf a keyword appears in multiple\n.Cm Match\nblocks that are satisfied, only the first instance of the keyword is\napplied.\n.Pp\nThe arguments to\n.Cm Match\nare one or more criteria-pattern pairs or the single token\n.Cm All\nwhich matches all criteria.\nThe available criteria are\n.Cm User ,\n.Cm Group ,\n.Cm Host ,\n.Cm LocalAddress ,\n.Cm LocalPort ,\n.Cm RDomain ,\nand\n.Cm Address\n(with\n.Cm RDomain\nrepresenting the\n.Xr rdomain 4\non which the connection was received).\n.Pp\nThe match patterns may consist of single entries or comma-separated\nlists and may use the wildcard and negation operators described in the\n.Sx PATTERNS\nsection of\n.Xr ssh_config 5 .\n.Pp\nThe patterns in an\n.Cm Address\ncriteria may additionally contain addresses to match in CIDR\naddress/masklen format,\nsuch as 192.0.2.0/24 or 2001:db8::/32.\nNote that the mask length provided must be consistent with the address -\nit is an error to specify a mask length that is too long for the address\nor one with bits set in this host portion of the address.\nFor example, 192.0.2.0/33 and 192.0.2.0/8, respectively.\n.Pp\nOnly a subset of keywords may be used on the lines following a\n.Cm Match\nkeyword.\nAvailable keywords are\n.Cm AcceptEnv ,\n.Cm AllowAgentForwarding ,\n.Cm AllowGroups ,\n.Cm AllowStreamLocalForwarding ,\n.Cm AllowTcpForwarding ,\n.Cm AllowUsers ,\n.Cm AuthenticationMethods ,\n.Cm AuthorizedKeysCommand ,\n.Cm AuthorizedKeysCommandUser ,\n.Cm AuthorizedKeysFile ,\n.Cm AuthorizedPrincipalsCommand ,\n.Cm AuthorizedPrincipalsCommandUser ,\n.Cm AuthorizedPrincipalsFile ,\n.Cm Banner ,\n.Cm CASignatureAlgorithms ,\n.Cm ChannelTimeout ,\n.Cm ChrootDirectory ,\n.Cm ClientAliveCountMax ,\n.Cm ClientAliveInterval ,\n.Cm DenyGroups ,\n.Cm DenyUsers ,\n.Cm DisableForwarding ,\n.Cm ExposeAuthInfo ,\n.Cm ForceCommand ,\n.Cm GatewayPorts ,\n.Cm GSSAPIAuthentication ,\n.Cm HostbasedAcceptedAlgorithms ,\n.Cm HostbasedAuthentication ,\n.Cm HostbasedUsesNameFromPacketOnly ,\n.Cm IgnoreRhosts ,\n.Cm Include ,\n.Cm IPQoS ,\n.Cm KbdInteractiveAuthentication ,\n.Cm KerberosAuthentication ,\n.Cm LogLevel ,\n.Cm MaxAuthTries ,\n.Cm MaxSessions ,\n.Cm PasswordAuthentication ,\n.Cm PermitEmptyPasswords ,\n.Cm PermitListen ,\n.Cm PermitOpen ,\n.Cm PermitRootLogin ,\n.Cm PermitTTY ,\n.Cm PermitTunnel ,\n.Cm PermitUserRC ,\n.Cm PubkeyAcceptedAlgorithms ,\n.Cm PubkeyAuthentication ,\n.Cm PubkeyAuthOptions ,\n.Cm RekeyLimit ,\n.Cm RevokedKeys ,\n.Cm RDomain ,\n.Cm SetEnv ,\n.Cm StreamLocalBindMask ,\n.Cm StreamLocalBindUnlink ,\n.Cm TrustedUserCAKeys ,\n.Cm UnusedConnectionTimeout ,\n.Cm X11DisplayOffset ,\n.Cm X11Forwarding\nand\n.Cm X11UseLocalhost .\n.It Cm MaxAuthTries\nSpecifies the maximum number of authentication attempts permitted per\nconnection.\nOnce the number of failures reaches half this value,\nadditional failures are logged.\nThe default is 6.\n.It Cm MaxSessions\nSpecifies the maximum number of open shell, login or subsystem (e.g. sftp)\nsessions permitted per network connection.\nMultiple sessions may be established by clients that support connection\nmultiplexing.\nSetting\n.Cm MaxSessions\nto 1 will effectively disable session multiplexing, whereas setting it to 0\nwill prevent all shell, login and subsystem sessions while still permitting\nforwarding.\nThe default is 10.\n.It Cm MaxStartups\nSpecifies the maximum number of concurrent unauthenticated connections to the\nSSH daemon.\nAdditional connections will be dropped until authentication succeeds or the\n.Cm LoginGraceTime\nexpires for a connection.\nThe default is 10:30:100.\n.Pp\nAlternatively, random early drop can be enabled by specifying\nthe three colon separated values\nstart:rate:full (e.g. \"10:30:60\").\n.Xr sshd 8\nwill refuse connection attempts with a probability of rate/100 (30%)\nif there are currently start (10) unauthenticated connections.\nThe probability increases linearly and all connection attempts\nare refused if the number of unauthenticated connections reaches full (60).\n.It Cm ModuliFile\nSpecifies the\n.Xr moduli 5\nfile that contains the Diffie-Hellman groups used for the\n.Dq diffie-hellman-group-exchange-sha1\nand\n.Dq diffie-hellman-group-exchange-sha256\nkey exchange methods.\nThe default is\n.Pa /etc/moduli .\n.It Cm PasswordAuthentication\nSpecifies whether password authentication is allowed.\nThe default is\n.Cm yes .\n.It Cm PermitEmptyPasswords\nWhen password authentication is allowed, it specifies whether the\nserver allows login to accounts with empty password strings.\nThe default is\n.Cm no .\n.It Cm PermitListen\nSpecifies the addresses/ports on which a remote TCP port forwarding may listen.\nThe listen specification must be one of the following forms:\n.Pp\n.Bl -item -offset indent -compact\n.It\n.Cm PermitListen\n.Sm off\n.Ar port\n.Sm on\n.It\n.Cm PermitListen\n.Sm off\n.Ar host : port\n.Sm on\n.El\n.Pp\nMultiple permissions may be specified by separating them with whitespace.\nAn argument of\n.Cm any\ncan be used to remove all restrictions and permit any listen requests.\nAn argument of\n.Cm none\ncan be used to prohibit all listen requests.\nThe host name may contain wildcards as described in the PATTERNS section in\n.Xr ssh_config 5 .\nThe wildcard\n.Sq *\ncan also be used in place of a port number to allow all ports.\nBy default all port forwarding listen requests are permitted.\nNote that the\n.Cm GatewayPorts\noption may further restrict which addresses may be listened on.\nNote also that\n.Xr ssh 1\nwill request a listen host of\n.Dq localhost\nif no listen host was specifically requested, and this name is\ntreated differently to explicit localhost addresses of\n.Dq 127.0.0.1\nand\n.Dq ::1 .\n.It Cm PermitOpen\nSpecifies the destinations to which TCP port forwarding is permitted.\nThe forwarding specification must be one of the following forms:\n.Pp\n.Bl -item -offset indent -compact\n.It\n.Cm PermitOpen\n.Sm off\n.Ar host : port\n.Sm on\n.It\n.Cm PermitOpen\n.Sm off\n.Ar IPv4_addr : port\n.Sm on\n.It\n.Cm PermitOpen\n.Sm off\n.Ar \\&[ IPv6_addr \\&] : port\n.Sm on\n.El\n.Pp\nMultiple forwards may be specified by separating them with whitespace.\nAn argument of\n.Cm any\ncan be used to remove all restrictions and permit any forwarding requests.\nAn argument of\n.Cm none\ncan be used to prohibit all forwarding requests.\nThe wildcard\n.Sq *\ncan be used for host or port to allow all hosts or ports respectively.\nOtherwise, no pattern matching or address lookups are performed on supplied\nnames.\nBy default all port forwarding requests are permitted.\n.It Cm PermitRootLogin\nSpecifies whether root can log in using\n.Xr ssh 1 .\nThe argument must be\n.Cm yes ,\n.Cm prohibit-password ,\n.Cm forced-commands-only ,\nor\n.Cm no .\nThe default is\n.Cm prohibit-password .\n.Pp\nIf this option is set to\n.Cm prohibit-password\n(or its deprecated alias,\n.Cm without-password ) ,\npassword and keyboard-interactive authentication are disabled for root.\n.Pp\nIf this option is set to\n.Cm forced-commands-only ,\nroot login with public key authentication will be allowed,\nbut only if the\n.Ar command\noption has been specified\n(which may be useful for taking remote backups even if root login is\nnormally not allowed).\nAll other authentication methods are disabled for root.\n.Pp\nIf this option is set to\n.Cm no ,\nroot is not allowed to log in.\n.It Cm PermitTTY\nSpecifies whether\n.Xr pty 4\nallocation is permitted.\nThe default is\n.Cm yes .\n.It Cm PermitTunnel\nSpecifies whether\n.Xr tun 4\ndevice forwarding is allowed.\nThe argument must be\n.Cm yes ,\n.Cm point-to-point\n(layer 3),\n.Cm ethernet\n(layer 2), or\n.Cm no .\nSpecifying\n.Cm yes\npermits both\n.Cm point-to-point\nand\n.Cm ethernet .\nThe default is\n.Cm no .\n.Pp\nIndependent of this setting, the permissions of the selected\n.Xr tun 4\ndevice must allow access to the user.\n.It Cm PermitUserEnvironment\nSpecifies whether\n.Pa ~/.ssh/environment\nand\n.Cm environment=\noptions in\n.Pa ~/.ssh/authorized_keys\nare processed by\n.Xr sshd 8 .\nValid options are\n.Cm yes ,\n.Cm no\nor a pattern-list specifying which environment variable names to accept\n(for example\n.Qq LANG,LC_* ) .\nThe default is\n.Cm no .\nEnabling environment processing may enable users to bypass access\nrestrictions in some configurations using mechanisms such as\n.Ev LD_PRELOAD .\n.It Cm PermitUserRC\nSpecifies whether any\n.Pa ~/.ssh/rc\nfile is executed.\nThe default is\n.Cm yes .\n.It Cm PerSourceMaxStartups\nSpecifies the number of unauthenticated connections allowed from a\ngiven source address, or\n.Dq none\nif there is no limit.\nThis limit is applied in addition to\n.Cm MaxStartups ,\nwhichever is lower.\nThe default is\n.Cm none .\n.It Cm PerSourceNetBlockSize\nSpecifies the number of bits of source address that are grouped together\nfor the purposes of applying PerSourceMaxStartups limits.\nValues for IPv4 and optionally IPv6 may be specified, separated by a colon.\nThe default is\n.Cm 32:128 ,\nwhich means each address is considered individually.\n.It Cm PidFile\nSpecifies the file that contains the process ID of the\nSSH daemon, or\n.Cm none\nto not write one.\nThe default is\n.Pa /var/run/sshd.pid .\n.It Cm Port\nSpecifies the port number that\n.Xr sshd 8\nlistens on.\nThe default is 22.\nMultiple options of this type are permitted.\nSee also\n.Cm ListenAddress .\n.It Cm PrintLastLog\nSpecifies whether\n.Xr sshd 8\nshould print the date and time of the last user login when a user logs\nin interactively.\nThe default is\n.Cm yes .\n.It Cm PrintMotd\nSpecifies whether\n.Xr sshd 8\nshould print\n.Pa /etc/motd\nwhen a user logs in interactively.\n(On some systems it is also printed by the shell,\n.Pa /etc/profile ,\nor equivalent.)\nThe default is\n.Cm yes .\n.It Cm PubkeyAcceptedAlgorithms\nSpecifies the signature algorithms that will be accepted for public key\nauthentication as a list of comma-separated patterns.\nAlternately if the specified list begins with a\n.Sq +\ncharacter, then the specified algorithms will be appended to the default set\ninstead of replacing them.\nIf the specified list begins with a\n.Sq -\ncharacter, then the specified algorithms (including wildcards) will be removed\nfrom the default set instead of replacing them.\nIf the specified list begins with a\n.Sq ^\ncharacter, then the specified algorithms will be placed at the head of the\ndefault set.\nThe default for this option is:\n.Bd -literal -offset 3n\nssh-ed25519-cert-v01@openssh.com,\necdsa-sha2-nistp256-cert-v01@openssh.com,\necdsa-sha2-nistp384-cert-v01@openssh.com,\necdsa-sha2-nistp521-cert-v01@openssh.com,\nsk-ssh-ed25519-cert-v01@openssh.com,\nsk-ecdsa-sha2-nistp256-cert-v01@openssh.com,\nrsa-sha2-512-cert-v01@openssh.com,\nrsa-sha2-256-cert-v01@openssh.com,\nssh-ed25519,\necdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,\nsk-ssh-ed25519@openssh.com,\nsk-ecdsa-sha2-nistp256@openssh.com,\nrsa-sha2-512,rsa-sha2-256\n.Ed\n.Pp\nThe list of available signature algorithms may also be obtained using\n.Qq ssh -Q PubkeyAcceptedAlgorithms .\n.It Cm PubkeyAuthOptions\nSets one or more public key authentication options.\nThe supported keywords are:\n.Cm none\n(the default; indicating no additional options are enabled),\n.Cm touch-required\nand\n.Cm verify-required .\n.Pp\nThe\n.Cm touch-required\noption causes public key authentication using a FIDO authenticator algorithm\n(i.e.\\&\n.Cm ecdsa-sk\nor\n.Cm ed25519-sk )\nto always require the signature to attest that a physically present user\nexplicitly confirmed the authentication (usually by touching the authenticator).\nBy default,\n.Xr sshd 8\nrequires user presence unless overridden with an authorized_keys option.\nThe\n.Cm touch-required\nflag disables this override.\n.Pp\nThe\n.Cm verify-required\noption requires a FIDO key signature attest that the user was verified,\ne.g. via a PIN.\n.Pp\nNeither the\n.Cm touch-required\nor\n.Cm verify-required\noptions have any effect for other, non-FIDO, public key types.\n.It Cm PubkeyAuthentication\nSpecifies whether public key authentication is allowed.\nThe default is\n.Cm yes .\n.It Cm RekeyLimit\nSpecifies the maximum amount of data that may be transmitted or received\nbefore the session key is renegotiated, optionally followed by a maximum\namount of time that may pass before the session key is renegotiated.\nThe first argument is specified in bytes and may have a suffix of\n.Sq K ,\n.Sq M ,\nor\n.Sq G\nto indicate Kilobytes, Megabytes, or Gigabytes, respectively.\nThe default is between\n.Sq 1G\nand\n.Sq 4G ,\ndepending on the cipher.\nThe optional second value is specified in seconds and may use any of the\nunits documented in the\n.Sx TIME FORMATS\nsection.\nThe default value for\n.Cm RekeyLimit\nis\n.Cm default none ,\nwhich means that rekeying is performed after the cipher's default amount\nof data has been sent or received and no time based rekeying is done.\n.It Cm RequiredRSASize\nSpecifies the minimum RSA key size (in bits) that\n.Xr sshd 8\nwill accept.\nUser and host-based authentication keys smaller than this limit will be\nrefused.\nThe default is\n.Cm 1024\nbits.\nNote that this limit may only be raised from the default.\n.It Cm RevokedKeys\nSpecifies revoked public keys file, or\n.Cm none\nto not use one.\nKeys listed in this file will be refused for public key authentication.\nNote that if this file is not readable, then public key authentication will\nbe refused for all users.\nKeys may be specified as a text file, listing one public key per line, or as\nan OpenSSH Key Revocation List (KRL) as generated by\n.Xr ssh-keygen 1 .\nFor more information on KRLs, see the KEY REVOCATION LISTS section in\n.Xr ssh-keygen 1 .\n.It Cm RDomain\nSpecifies an explicit routing domain that is applied after authentication\nhas completed.\nThe user session, as well as any forwarded or listening IP sockets,\nwill be bound to this\n.Xr rdomain 4 .\nIf the routing domain is set to\n.Cm \\&%D ,\nthen the domain in which the incoming connection was received will be applied.\n.It Cm SecurityKeyProvider\nSpecifies a path to a library that will be used when loading\nFIDO authenticator-hosted keys, overriding the default of using\nthe built-in USB HID support.\n.It Cm SetEnv\nSpecifies one or more environment variables to set in child sessions started\nby\n.Xr sshd 8\nas\n.Dq NAME=VALUE .\nThe environment value may be quoted (e.g. if it contains whitespace\ncharacters).\nEnvironment variables set by\n.Cm SetEnv\noverride the default environment and any variables specified by the user\nvia\n.Cm AcceptEnv\nor\n.Cm PermitUserEnvironment .\n.It Cm StreamLocalBindMask\nSets the octal file creation mode mask\n.Pq umask\nused when creating a Unix-domain socket file for local or remote\nport forwarding.\nThis option is only used for port forwarding to a Unix-domain socket file.\n.Pp\nThe default value is 0177, which creates a Unix-domain socket file that is\nreadable and writable only by the owner.\nNote that not all operating systems honor the file mode on Unix-domain\nsocket files.\n.It Cm StreamLocalBindUnlink\nSpecifies whether to remove an existing Unix-domain socket file for local\nor remote port forwarding before creating a new one.\nIf the socket file already exists and\n.Cm StreamLocalBindUnlink\nis not enabled,\n.Nm sshd\nwill be unable to forward the port to the Unix-domain socket file.\nThis option is only used for port forwarding to a Unix-domain socket file.\n.Pp\nThe argument must be\n.Cm yes\nor\n.Cm no .\nThe default is\n.Cm no .\n.It Cm StrictModes\nSpecifies whether\n.Xr sshd 8\nshould check file modes and ownership of the\nuser's files and home directory before accepting login.\nThis is normally desirable because novices sometimes accidentally leave their\ndirectory or files world-writable.\nThe default is\n.Cm yes .\nNote that this does not apply to\n.Cm ChrootDirectory ,\nwhose permissions and ownership are checked unconditionally.\n.It Cm Subsystem\nConfigures an external subsystem (e.g. file transfer daemon).\nArguments should be a subsystem name and a command (with optional arguments)\nto execute upon subsystem request.\n.Pp\nThe command\n.Cm sftp-server\nimplements the SFTP file transfer subsystem.\n.Pp\nAlternately the name\n.Cm internal-sftp\nimplements an in-process SFTP server.\nThis may simplify configurations using\n.Cm ChrootDirectory\nto force a different filesystem root on clients.\n.Pp\nBy default no subsystems are defined.\n.It Cm SyslogFacility\nGives the facility code that is used when logging messages from\n.Xr sshd 8 .\nThe possible values are: DAEMON, USER, AUTH, LOCAL0, LOCAL1, LOCAL2,\nLOCAL3, LOCAL4, LOCAL5, LOCAL6, LOCAL7.\nThe default is AUTH.\n.It Cm TCPKeepAlive\nSpecifies whether the system should send TCP keepalive messages to the\nother side.\nIf they are sent, death of the connection or crash of one\nof the machines will be properly noticed.\nHowever, this means that\nconnections will die if the route is down temporarily, and some people\nfind it annoying.\nOn the other hand, if TCP keepalives are not sent,\nsessions may hang indefinitely on the server, leaving\n.Qq ghost\nusers and consuming server resources.\n.Pp\nThe default is\n.Cm yes\n(to send TCP keepalive messages), and the server will notice\nif the network goes down or the client host crashes.\nThis avoids infinitely hanging sessions.\n.Pp\nTo disable TCP keepalive messages, the value should be set to\n.Cm no .\n.It Cm TrustedUserCAKeys\nSpecifies a file containing public keys of certificate authorities that are\ntrusted to sign user certificates for authentication, or\n.Cm none\nto not use one.\nKeys are listed one per line; empty lines and comments starting with\n.Ql #\nare allowed.\nIf a certificate is presented for authentication and has its signing CA key\nlisted in this file, then it may be used for authentication for any user\nlisted in the certificate's principals list.\nNote that certificates that lack a list of principals will not be permitted\nfor authentication using\n.Cm TrustedUserCAKeys .\nFor more details on certificates, see the CERTIFICATES section in\n.Xr ssh-keygen 1 .\n.It Cm UnusedConnectionTimeout\nSpecifies whether and how quickly\n.Xr sshd 8\nshould close client connections with no open channels.\nOpen channels include active shell, command execution or subsystem\nsessions, connected network, socket, agent or X11 forwardings.\nForwarding listeners, such as those from the\n.Xr ssh 1\n.Fl R\nflag, are not considered as open channels and do not prevent the timeout.\nThe timeout value\nis specified in seconds or may use any of the units documented in the\n.Sx TIME FORMATS\nsection.\n.Pp\nNote that this timeout starts when the client connection completes\nuser authentication but before the client has an opportunity to open any\nchannels.\nCaution should be used when using short timeout values, as they may not\nprovide sufficient time for the client to request and open its channels\nbefore terminating the connection.\n.Pp\nThe default\n.Cm none\nis to never expire connections for having no open channels.\nThis option may be useful in conjunction with\n.Cm ChannelTimeout .\n.It Cm UseDNS\nSpecifies whether\n.Xr sshd 8\nshould look up the remote host name, and to check that\nthe resolved host name for the remote IP address maps back to the\nvery same IP address.\n.Pp\nIf this option is set to\n.Cm no\n(the default) then only addresses and not host names may be used in\n.Pa ~/.ssh/authorized_keys\n.Cm from\nand\n.Nm\n.Cm Match\n.Cm Host\ndirectives.\n.It Cm UsePAM\nEnables the Pluggable Authentication Module interface.\nIf set to\n.Cm yes\nthis will enable PAM authentication using\n.Cm KbdInteractiveAuthentication\nand\n.Cm PasswordAuthentication\nin addition to PAM account and session module processing for all\nauthentication types.\n.Pp\nBecause PAM keyboard-interactive authentication usually serves an equivalent\nrole to password authentication, you should disable either\n.Cm PasswordAuthentication\nor\n.Cm KbdInteractiveAuthentication .\n.Pp\nIf\n.Cm UsePAM\nis enabled, you will not be able to run\n.Xr sshd 8\nas a non-root user.\nThe default is\n.Cm no .\n.It Cm VersionAddendum\nOptionally specifies additional text to append to the SSH protocol banner\nsent by the server upon connection.\nThe default is\n.Cm none .\n.It Cm X11DisplayOffset\nSpecifies the first display number available for\n.Xr sshd 8 Ns 's\nX11 forwarding.\nThis prevents sshd from interfering with real X11 servers.\nThe default is 10.\n.It Cm X11Forwarding\nSpecifies whether X11 forwarding is permitted.\nThe argument must be\n.Cm yes\nor\n.Cm no .\nThe default is\n.Cm no .\n.Pp\nWhen X11 forwarding is enabled, there may be additional exposure to\nthe server and to client displays if the\n.Xr sshd 8\nproxy display is configured to listen on the wildcard address (see\n.Cm X11UseLocalhost ) ,\nthough this is not the default.\nAdditionally, the authentication spoofing and authentication data\nverification and substitution occur on the client side.\nThe security risk of using X11 forwarding is that the client's X11\ndisplay server may be exposed to attack when the SSH client requests\nforwarding (see the warnings for\n.Cm ForwardX11\nin\n.Xr ssh_config 5 ) .\nA system administrator may have a stance in which they want to\nprotect clients that may expose themselves to attack by unwittingly\nrequesting X11 forwarding, which can warrant a\n.Cm no\nsetting.\n.Pp\nNote that disabling X11 forwarding does not prevent users from\nforwarding X11 traffic, as users can always install their own forwarders.\n.It Cm X11UseLocalhost\nSpecifies whether\n.Xr sshd 8\nshould bind the X11 forwarding server to the loopback address or to\nthe wildcard address.\nBy default,\nsshd binds the forwarding server to the loopback address and sets the\nhostname part of the\n.Ev DISPLAY\nenvironment variable to\n.Cm localhost .\nThis prevents remote hosts from connecting to the proxy display.\nHowever, some older X11 clients may not function with this\nconfiguration.\n.Cm X11UseLocalhost\nmay be set to\n.Cm no\nto specify that the forwarding server should be bound to the wildcard\naddress.\nThe argument must be\n.Cm yes\nor\n.Cm no .\nThe default is\n.Cm yes .\n.It Cm XAuthLocation\nSpecifies the full pathname of the\n.Xr xauth 1\nprogram, or\n.Cm none\nto not use one.\nThe default is\n.Pa /usr/X11R6/bin/xauth .\n.El\n.Sh TIME FORMATS\n.Xr sshd 8\ncommand-line arguments and configuration file options that specify time\nmay be expressed using a sequence of the form:\n.Sm off\n.Ar time Op Ar qualifier ,\n.Sm on\nwhere\n.Ar time\nis a positive integer value and\n.Ar qualifier\nis one of the following:\n.Pp\n.Bl -tag -width Ds -compact -offset indent\n.It Aq Cm none\nseconds\n.It Cm s | Cm S\nseconds\n.It Cm m | Cm M\nminutes\n.It Cm h | Cm H\nhours\n.It Cm d | Cm D\ndays\n.It Cm w | Cm W\nweeks\n.El\n.Pp\nEach member of the sequence is added together to calculate\nthe total time value.\n.Pp\nTime format examples:\n.Pp\n.Bl -tag -width Ds -compact -offset indent\n.It 600\n600 seconds (10 minutes)\n.It 10m\n10 minutes\n.It 1h30m\n1 hour 30 minutes (90 minutes)\n.El\n.Sh TOKENS\nArguments to some keywords can make use of tokens,\nwhich are expanded at runtime:\n.Pp\n.Bl -tag -width XXXX -offset indent -compact\n.It %%\nA literal\n.Sq % .\n.It \\&%C\nIdentifies the connection endpoints, containing\nfour space-separated values: client address, client port number,\nserver address, and server port number.\n.It \\&%D\nThe routing domain in which the incoming connection was received.\n.It %F\nThe fingerprint of the CA key.\n.It %f\nThe fingerprint of the key or certificate.\n.It %h\nThe home directory of the user.\n.It %i\nThe key ID in the certificate.\n.It %K\nThe base64-encoded CA key.\n.It %k\nThe base64-encoded key or certificate for authentication.\n.It %s\nThe serial number of the certificate.\n.It \\&%T\nThe type of the CA key.\n.It %t\nThe key or certificate type.\n.It \\&%U\nThe numeric user ID of the target user.\n.It %u\nThe username.\n.El\n.Pp\n.Cm AuthorizedKeysCommand\naccepts the tokens %%, %C, %D, %f, %h, %k, %t, %U, and %u.\n.Pp\n.Cm AuthorizedKeysFile\naccepts the tokens %%, %h, %U, and %u.\n.Pp\n.Cm AuthorizedPrincipalsCommand\naccepts the tokens %%, %C, %D, %F, %f, %h, %i, %K, %k, %s, %T, %t, %U, and %u.\n.Pp\n.Cm AuthorizedPrincipalsFile\naccepts the tokens %%, %h, %U, and %u.\n.Pp\n.Cm ChrootDirectory\naccepts the tokens %%, %h, %U, and %u.\n.Pp\n.Cm RoutingDomain\naccepts the token %D.\n.Sh FILES\n.Bl -tag -width Ds\n.It Pa /etc/ssh/sshd_config\nContains configuration data for\n.Xr sshd 8 .\nThis file should be writable by root only, but it is recommended\n(though not necessary) that it be world-readable.\n.El\n.Sh SEE ALSO\n.Xr sftp-server 8 ,\n.Xr sshd 8\n.Sh AUTHORS\n.An -nosplit\nOpenSSH is a derivative of the original and free\nssh 1.2.12 release by\n.An Tatu Ylonen .\n.An Aaron Campbell , Bob Beck , Markus Friedl , Niels Provos ,\n.An Theo de Raadt\nand\n.An Dug Song\nremoved many bugs, re-added newer features and\ncreated OpenSSH.\n.An Markus Friedl\ncontributed the support for SSH protocol versions 1.5 and 2.0.\n.An Niels Provos\nand\n.An Markus Friedl\ncontributed support for privilege separation.\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}