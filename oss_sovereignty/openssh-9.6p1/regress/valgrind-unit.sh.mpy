{
  "module_name": "valgrind-unit.sh",
  "hash_id": "4d84975380370e30ef3e2338d4b532878d63161dbc4c2ffe106c53c6c5d59359",
  "original_prompt": "Ingested from openssh-9.6p1/regress/valgrind-unit.sh",
  "human_readable_source": "#!/bin/sh\n\nUNIT_BINARY=\"$1\"\nshift\nUNIT_ARGS=\"$@\"\n\ntest \"x$OBJ\" = \"x\" && OBJ=$PWD\n\n# This mostly replicates the logic in test-exec.sh for running the\n# regress tests under valgrind, except that we unconditionally enable\n# leak checking because the unit tests should be clean.\nVG_LEAK=\"--leak-check=full\"\nVG_TEST=`basename $UNIT_BINARY`\nVG_LOG=\"$OBJ/valgrind-out/${VG_TEST}.%p\"\nVG_OPTS=\"--track-origins=yes $VG_LEAK --log-file=${VG_LOG}\"\nVG_OPTS=\"$VG_OPTS --trace-children=yes\"\nVG_PATH=\"valgrind\"\nif [ \"x$VALGRIND_PATH\" != \"x\" ]; then\n\tVG_PATH=\"$VALGRIND_PATH\"\nfi\n\nmkdir -p \"$OBJ/valgrind-out\"\n\nexec $VG_PATH $VG_OPTS $UNIT_BINARY $UNIT_ARGS\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}