{
  "module_name": "ssh-agent.1",
  "hash_id": "f7966137c7b82dfdbddccef680ee0a4bf60dd5609f4a1a13b3df6e6f728de5a6",
  "original_prompt": "Ingested from openssh-9.6p1/ssh-agent.1",
  "human_readable_source": ".\\\" $OpenBSD: ssh-agent.1,v 1.79 2023/08/10 14:37:32 naddy Exp $\n.\\\"\n.\\\" Author: Tatu Ylonen <ylo@cs.hut.fi>\n.\\\" Copyright (c) 1995 Tatu Ylonen <ylo@cs.hut.fi>, Espoo, Finland\n.\\\"                    All rights reserved\n.\\\"\n.\\\" As far as I am concerned, the code I have written for this software\n.\\\" can be used freely for any purpose.  Any derived versions of this\n.\\\" software must be clearly marked as such, and if the derived work is\n.\\\" incompatible with the protocol description in the RFC file, it must be\n.\\\" called by a name other than \"ssh\" or \"Secure Shell\".\n.\\\"\n.\\\" Copyright (c) 1999,2000 Markus Friedl.  All rights reserved.\n.\\\" Copyright (c) 1999 Aaron Campbell.  All rights reserved.\n.\\\" Copyright (c) 1999 Theo de Raadt.  All rights reserved.\n.\\\"\n.\\\" Redistribution and use in source and binary forms, with or without\n.\\\" modification, are permitted provided that the following conditions\n.\\\" are met:\n.\\\" 1. Redistributions of source code must retain the above copyright\n.\\\"    notice, this list of conditions and the following disclaimer.\n.\\\" 2. Redistributions in binary form must reproduce the above copyright\n.\\\"    notice, this list of conditions and the following disclaimer in the\n.\\\"    documentation and/or other materials provided with the distribution.\n.\\\"\n.\\\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR\n.\\\" IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n.\\\" OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n.\\\" IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,\n.\\\" INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n.\\\" NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n.\\\" DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n.\\\" THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n.\\\" (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n.\\\" THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n.\\\"\n.Dd $Mdocdate: August 10 2023 $\n.Dt SSH-AGENT 1\n.Os\n.Sh NAME\n.Nm ssh-agent\n.Nd OpenSSH authentication agent\n.Sh SYNOPSIS\n.Nm ssh-agent\n.Op Fl c | s\n.Op Fl \\&Dd\n.Op Fl a Ar bind_address\n.Op Fl E Ar fingerprint_hash\n.Op Fl O Ar option\n.Op Fl P Ar allowed_providers\n.Op Fl t Ar life\n.Nm ssh-agent\n.Op Fl a Ar bind_address\n.Op Fl E Ar fingerprint_hash\n.Op Fl O Ar option\n.Op Fl P Ar allowed_providers\n.Op Fl t Ar life\n.Ar command Op Ar arg ...\n.Nm ssh-agent\n.Op Fl c | s\n.Fl k\n.Sh DESCRIPTION\n.Nm\nis a program to hold private keys used for public key authentication.\nThrough use of environment variables the agent can be located\nand automatically used for authentication when logging in to other\nmachines using\n.Xr ssh 1 .\n.Pp\nThe options are as follows:\n.Bl -tag -width Ds\n.It Fl a Ar bind_address\nBind the agent to the\n.Ux Ns -domain\nsocket\n.Ar bind_address .\nThe default is\n.Pa $TMPDIR/ssh-XXXXXXXXXX/agent.\\*(Ltppid\\*(Gt .\n.It Fl c\nGenerate C-shell commands on\n.Dv stdout .\nThis is the default if\n.Ev SHELL\nlooks like it's a csh style of shell.\n.It Fl D\nForeground mode.\nWhen this option is specified,\n.Nm\nwill not fork.\n.It Fl d\nDebug mode.\nWhen this option is specified,\n.Nm\nwill not fork and will write debug information to standard error.\n.It Fl E Ar fingerprint_hash\nSpecifies the hash algorithm used when displaying key fingerprints.\nValid options are:\n.Dq md5\nand\n.Dq sha256 .\nThe default is\n.Dq sha256 .\n.It Fl k\nKill the current agent (given by the\n.Ev SSH_AGENT_PID\nenvironment variable).\n.It Fl O Ar option\nSpecify an option when starting\n.Nm .\nCurrently two options are supported:\n.Cm allow-remote-pkcs11\nand\n.Cm no-restrict-websafe .\n.Pp\nThe\n.Cm allow-remote-pkcs11\noption allows clients of a forwarded\n.Nm\nto load PKCS#11 or FIDO provider libraries.\nBy default only local clients may perform this operation.\nNote that signalling that an\n.Nm\nclient is remote is performed by\n.Xr ssh 1 ,\nand use of other tools to forward access to the agent socket may circumvent\nthis restriction.\n.Pp\nThe\n.Cm no-restrict-websafe\noption instructs\n.Nm\nto permit signatures using FIDO keys that might be web authentication\nrequests.\nBy default,\n.Nm\nrefuses signature requests for FIDO keys where the key application string\ndoes not start with\n.Dq ssh:\nand when the data to be signed does not appear to be a\n.Xr ssh 1\nuser authentication request or a\n.Xr ssh-keygen 1\nsignature.\nThe default behaviour prevents forwarded access to a FIDO key from also\nimplicitly forwarding the ability to authenticate to websites.\n.It Fl P Ar allowed_providers\nSpecify a pattern-list of acceptable paths for PKCS#11 provider and FIDO\nauthenticator middleware shared libraries that may be used with the\n.Fl S\nor\n.Fl s\noptions to\n.Xr ssh-add 1 .\nLibraries that do not match the pattern list will be refused.\nSee PATTERNS in\n.Xr ssh_config 5\nfor a description of pattern-list syntax.\nThe default list is\n.Dq usr/lib*/*,/usr/local/lib*/* .\n.It Fl s\nGenerate Bourne shell commands on\n.Dv stdout .\nThis is the default if\n.Ev SHELL\ndoes not look like it's a csh style of shell.\n.It Fl t Ar life\nSet a default value for the maximum lifetime of identities added to the agent.\nThe lifetime may be specified in seconds or in a time format specified in\n.Xr sshd_config 5 .\nA lifetime specified for an identity with\n.Xr ssh-add 1\noverrides this value.\nWithout this option the default maximum lifetime is forever.\n.It Ar command Op Ar arg ...\nIf a command (and optional arguments) is given,\nthis is executed as a subprocess of the agent.\nThe agent exits automatically when the command given on the command\nline terminates.\n.El\n.Pp\nThere are two main ways to get an agent set up.\nThe first is at the start of an X session,\nwhere all other windows or programs are started as children of the\n.Nm\nprogram.\nThe agent starts a command under which its environment\nvariables are exported, for example\n.Cm ssh-agent xterm & .\nWhen the command terminates, so does the agent.\n.Pp\nThe second method is used for a login session.\nWhen\n.Nm\nis started,\nit prints the shell commands required to set its environment variables,\nwhich in turn can be evaluated in the calling shell, for example\n.Cm eval `ssh-agent -s` .\n.Pp\nIn both cases,\n.Xr ssh 1\nlooks at these environment variables\nand uses them to establish a connection to the agent.\n.Pp\nThe agent initially does not have any private keys.\nKeys are added using\n.Xr ssh-add 1\nor by\n.Xr ssh 1\nwhen\n.Cm AddKeysToAgent\nis set in\n.Xr ssh_config 5 .\nMultiple identities may be stored in\n.Nm\nconcurrently and\n.Xr ssh 1\nwill automatically use them if present.\n.Xr ssh-add 1\nis also used to remove keys from\n.Nm\nand to query the keys that are held in one.\n.Pp\nConnections to\n.Nm\nmay be forwarded from further remote hosts using the\n.Fl A\noption to\n.Xr ssh 1\n(but see the caveats documented therein),\navoiding the need for authentication data to be stored on other machines.\nAuthentication passphrases and private keys never go over the network:\nthe connection to the agent is forwarded over SSH remote connections\nand the result is returned to the requester,\nallowing the user access to their identities anywhere in the network\nin a secure fashion.\n.Sh ENVIRONMENT\n.Bl -tag -width \"SSH_AGENT_PID\"\n.It Ev SSH_AGENT_PID\nWhen\n.Nm\nstarts, it stores the name of the agent's process ID (PID) in this variable.\n.It Ev SSH_AUTH_SOCK\nWhen\n.Nm\nstarts, it creates a\n.Ux Ns -domain\nsocket and stores its pathname in this variable.\nIt is accessible only to the current user,\nbut is easily abused by root or another instance of the same user.\n.El\n.Sh FILES\n.Bl -tag -width Ds\n.It Pa $TMPDIR/ssh-XXXXXXXXXX/agent.<ppid>\n.Ux Ns -domain\nsockets used to contain the connection to the authentication agent.\nThese sockets should only be readable by the owner.\nThe sockets should get automatically removed when the agent exits.\n.El\n.Sh SEE ALSO\n.Xr ssh 1 ,\n.Xr ssh-add 1 ,\n.Xr ssh-keygen 1 ,\n.Xr ssh_config 5 ,\n.Xr sshd 8\n.Sh AUTHORS\n.An -nosplit\nOpenSSH is a derivative of the original and free ssh 1.2.12 release by\n.An Tatu Ylonen .\n.An Aaron Campbell , Bob Beck , Markus Friedl , Niels Provos , Theo de Raadt\nand\n.An Dug Song\nremoved many bugs, re-added newer features and created OpenSSH.\n.An Markus Friedl\ncontributed the support for SSH protocol versions 1.5 and 2.0.\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}