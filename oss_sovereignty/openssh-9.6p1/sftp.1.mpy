{
  "module_name": "sftp.1",
  "hash_id": "136f1d5438686e09dd25bc599ee3f035a7d5e9958ab4ae25b59fc17705132a96",
  "original_prompt": "Ingested from openssh-9.6p1/sftp.1",
  "human_readable_source": ".\\\" $OpenBSD: sftp.1,v 1.143 2022/12/16 03:40:03 djm Exp $\n.\\\"\n.\\\" Copyright (c) 2001 Damien Miller.  All rights reserved.\n.\\\"\n.\\\" Redistribution and use in source and binary forms, with or without\n.\\\" modification, are permitted provided that the following conditions\n.\\\" are met:\n.\\\" 1. Redistributions of source code must retain the above copyright\n.\\\"    notice, this list of conditions and the following disclaimer.\n.\\\" 2. Redistributions in binary form must reproduce the above copyright\n.\\\"    notice, this list of conditions and the following disclaimer in the\n.\\\"    documentation and/or other materials provided with the distribution.\n.\\\"\n.\\\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR\n.\\\" IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n.\\\" OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n.\\\" IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,\n.\\\" INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n.\\\" NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n.\\\" DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n.\\\" THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n.\\\" (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n.\\\" THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n.\\\"\n.Dd $Mdocdate: December 16 2022 $\n.Dt SFTP 1\n.Os\n.Sh NAME\n.Nm sftp\n.Nd OpenSSH secure file transfer\n.Sh SYNOPSIS\n.Nm sftp\n.Op Fl 46AaCfNpqrv\n.Op Fl B Ar buffer_size\n.Op Fl b Ar batchfile\n.Op Fl c Ar cipher\n.Op Fl D Ar sftp_server_command\n.Op Fl F Ar ssh_config\n.Op Fl i Ar identity_file\n.Op Fl J Ar destination\n.Op Fl l Ar limit\n.Op Fl o Ar ssh_option\n.Op Fl P Ar port\n.Op Fl R Ar num_requests\n.Op Fl S Ar program\n.Op Fl s Ar subsystem | sftp_server\n.Op Fl X Ar sftp_option\n.Ar destination\n.Sh DESCRIPTION\n.Nm\nis a file transfer program, similar to\n.Xr ftp 1 ,\nwhich performs all operations over an encrypted\n.Xr ssh 1\ntransport.\nIt may also use many features of ssh, such as public key authentication and\ncompression.\n.Pp\nThe\n.Ar destination\nmay be specified either as\n.Sm off\n.Oo user @ Oc host Op : path\n.Sm on\nor as a URI in the form\n.Sm off\n.No sftp:// Oo user @ Oc host Oo : port Oc Op / path .\n.Sm on\n.Pp\nIf the\n.Ar destination\nincludes a\n.Ar path\nand it is not a directory,\n.Nm\nwill retrieve files automatically if a non-interactive\nauthentication method is used; otherwise it will do so after\nsuccessful interactive authentication.\n.Pp\nIf no\n.Ar path\nis specified, or if the\n.Ar path\nis a directory,\n.Nm\nwill log in to the specified\n.Ar host\nand enter interactive command mode, changing to the remote directory\nif one was specified.\nAn optional trailing slash can be used to force the\n.Ar path\nto be interpreted as a directory.\n.Pp\nSince the destination formats use colon characters to delimit host\nnames from path names or port numbers, IPv6 addresses must be\nenclosed in square brackets to avoid ambiguity.\n.Pp\nThe options are as follows:\n.Bl -tag -width Ds\n.It Fl 4\nForces\n.Nm\nto use IPv4 addresses only.\n.It Fl 6\nForces\n.Nm\nto use IPv6 addresses only.\n.It Fl A\nAllows forwarding of\n.Xr ssh-agent 1\nto the remote system.\nThe default is not to forward an authentication agent.\n.It Fl a\nAttempt to continue interrupted transfers rather than overwriting\nexisting partial or complete copies of files.\nIf the partial contents differ from those being transferred,\nthen the resultant file is likely to be corrupt.\n.It Fl B Ar buffer_size\nSpecify the size of the buffer that\n.Nm\nuses when transferring files.\nLarger buffers require fewer round trips at the cost of higher\nmemory consumption.\nThe default is 32768 bytes.\n.It Fl b Ar batchfile\nBatch mode reads a series of commands from an input\n.Ar batchfile\ninstead of\n.Em stdin .\nSince it lacks user interaction, it should be used in conjunction with\nnon-interactive authentication to obviate the need to enter a password\nat connection time (see\n.Xr sshd 8\nand\n.Xr ssh-keygen 1\nfor details).\n.Pp\nA\n.Ar batchfile\nof\n.Sq \\-\nmay be used to indicate standard input.\n.Nm\nwill abort if any of the following\ncommands fail:\n.Ic get , put , reget , reput , rename , ln ,\n.Ic rm , mkdir , chdir , ls ,\n.Ic lchdir , copy , cp , chmod , chown ,\n.Ic chgrp , lpwd , df , symlink ,\nand\n.Ic lmkdir .\n.Pp\nTermination on error can be suppressed on a command by command basis by\nprefixing the command with a\n.Sq \\-\ncharacter (for example,\n.Ic -rm /tmp/blah* ) .\nEcho of the command may be suppressed by prefixing the command with a\n.Sq @\ncharacter.\nThese two prefixes may be combined in any order, for example\n.Ic -@ls /bsd .\n.It Fl C\nEnables compression (via ssh's\n.Fl C\nflag).\n.It Fl c Ar cipher\nSelects the cipher to use for encrypting the data transfers.\nThis option is directly passed to\n.Xr ssh 1 .\n.It Fl D Ar sftp_server_command\nConnect directly to a local sftp server\n(rather than via\n.Xr ssh 1 ) .\nA command and arguments may be specified, for example\n.Qq /path/sftp-server -el debug3 .\nThis option may be useful in debugging the client and server.\n.It Fl F Ar ssh_config\nSpecifies an alternative\nper-user configuration file for\n.Xr ssh 1 .\nThis option is directly passed to\n.Xr ssh 1 .\n.It Fl f\nRequests that files be flushed to disk immediately after transfer.\nWhen uploading files, this feature is only enabled if the server\nimplements the \"fsync@openssh.com\" extension.\n.It Fl i Ar identity_file\nSelects the file from which the identity (private key) for public key\nauthentication is read.\nThis option is directly passed to\n.Xr ssh 1 .\n.It Fl J Ar destination\nConnect to the target host by first making an\n.Nm\nconnection to the jump host described by\n.Ar destination\nand then establishing a TCP forwarding to the ultimate destination from\nthere.\nMultiple jump hops may be specified separated by comma characters.\nThis is a shortcut to specify a\n.Cm ProxyJump\nconfiguration directive.\nThis option is directly passed to\n.Xr ssh 1 .\n.It Fl l Ar limit\nLimits the used bandwidth, specified in Kbit/s.\n.It Fl N\nDisables quiet mode, e.g. to override the implicit quiet mode set by the\n.Fl b\nflag.\n.It Fl o Ar ssh_option\nCan be used to pass options to\n.Nm ssh\nin the format used in\n.Xr ssh_config 5 .\nThis is useful for specifying options\nfor which there is no separate\n.Nm sftp\ncommand-line flag.\nFor example, to specify an alternate port use:\n.Ic sftp -oPort=24 .\nFor full details of the options listed below, and their possible values, see\n.Xr ssh_config 5 .\n.Pp\n.Bl -tag -width Ds -offset indent -compact\n.It AddressFamily\n.It BatchMode\n.It BindAddress\n.It BindInterface\n.It CanonicalDomains\n.It CanonicalizeFallbackLocal\n.It CanonicalizeHostname\n.It CanonicalizeMaxDots\n.It CanonicalizePermittedCNAMEs\n.It CASignatureAlgorithms\n.It CertificateFile\n.It CheckHostIP\n.It Ciphers\n.It Compression\n.It ConnectionAttempts\n.It ConnectTimeout\n.It ControlMaster\n.It ControlPath\n.It ControlPersist\n.It GlobalKnownHostsFile\n.It GSSAPIAuthentication\n.It GSSAPIDelegateCredentials\n.It HashKnownHosts\n.It Host\n.It HostbasedAcceptedAlgorithms\n.It HostbasedAuthentication\n.It HostKeyAlgorithms\n.It HostKeyAlias\n.It Hostname\n.It IdentitiesOnly\n.It IdentityAgent\n.It IdentityFile\n.It IPQoS\n.It KbdInteractiveAuthentication\n.It KbdInteractiveDevices\n.It KexAlgorithms\n.It KnownHostsCommand\n.It LogLevel\n.It MACs\n.It NoHostAuthenticationForLocalhost\n.It NumberOfPasswordPrompts\n.It PasswordAuthentication\n.It PKCS11Provider\n.It Port\n.It PreferredAuthentications\n.It ProxyCommand\n.It ProxyJump\n.It PubkeyAcceptedAlgorithms\n.It PubkeyAuthentication\n.It RekeyLimit\n.It RequiredRSASize\n.It SendEnv\n.It ServerAliveInterval\n.It ServerAliveCountMax\n.It SetEnv\n.It StrictHostKeyChecking\n.It TCPKeepAlive\n.It UpdateHostKeys\n.It User\n.It UserKnownHostsFile\n.It VerifyHostKeyDNS\n.El\n.It Fl P Ar port\nSpecifies the port to connect to on the remote host.\n.It Fl p\nPreserves modification times, access times, and modes from the\noriginal files transferred.\n.It Fl q\nQuiet mode: disables the progress meter as well as warning and\ndiagnostic messages from\n.Xr ssh 1 .\n.It Fl R Ar num_requests\nSpecify how many requests may be outstanding at any one time.\nIncreasing this may slightly improve file transfer speed\nbut will increase memory usage.\nThe default is 64 outstanding requests.\n.It Fl r\nRecursively copy entire directories when uploading and downloading.\nNote that\n.Nm\ndoes not follow symbolic links encountered in the tree traversal.\n.It Fl S Ar program\nName of the\n.Ar program\nto use for the encrypted connection.\nThe program must understand\n.Xr ssh 1\noptions.\n.It Fl s Ar subsystem | sftp_server\nSpecifies the SSH2 subsystem or the path for an sftp server\non the remote host.\nA path is useful when the remote\n.Xr sshd 8\ndoes not have an sftp subsystem configured.\n.It Fl v\nRaise logging level.\nThis option is also passed to ssh.\n.It Fl X Ar sftp_option\nSpecify an option that controls aspects of SFTP protocol behaviour.\nThe valid options are:\n.Bl -tag -width Ds\n.It Cm nrequests Ns = Ns Ar value\nControls how many concurrent SFTP read or write requests may be in progress\nat any point in time during a download or upload.\nBy default 64 requests may be active concurrently.\n.It Cm buffer Ns = Ns Ar value\nControls the maximum buffer size for a single SFTP read/write operation used\nduring download or upload.\nBy default a 32KB buffer is used.\n.El\n.El\n.Sh INTERACTIVE COMMANDS\nOnce in interactive mode,\n.Nm\nunderstands a set of commands similar to those of\n.Xr ftp 1 .\nCommands are case insensitive.\nPathnames that contain spaces must be enclosed in quotes.\nAny special characters contained within pathnames that are recognized by\n.Xr glob 3\nmust be escaped with backslashes\n.Pq Sq \\e .\n.Bl -tag -width Ds\n.It Ic bye\nQuit\n.Nm sftp .\n.It Ic cd Op Ar path\nChange remote directory to\n.Ar path .\nIf\n.Ar path\nis not specified, then change directory to the one the session started in.\n.It Xo Ic chgrp\n.Op Fl h\n.Ar grp\n.Ar path\n.Xc\nChange group of file\n.Ar path\nto\n.Ar grp .\n.Ar path\nmay contain\n.Xr glob 7\ncharacters and may match multiple files.\n.Ar grp\nmust be a numeric GID.\n.Pp\nIf the\n.Fl h\nflag is specified, then symlinks will not be followed.\nNote that this is only supported by servers that implement\nthe \"lsetstat@openssh.com\" extension.\n.It Xo Ic chmod\n.Op Fl h\n.Ar mode\n.Ar path\n.Xc\nChange permissions of file\n.Ar path\nto\n.Ar mode .\n.Ar path\nmay contain\n.Xr glob 7\ncharacters and may match multiple files.\n.Pp\nIf the\n.Fl h\nflag is specified, then symlinks will not be followed.\nNote that this is only supported by servers that implement\nthe \"lsetstat@openssh.com\" extension.\n.It Xo Ic chown\n.Op Fl h\n.Ar own\n.Ar path\n.Xc\nChange owner of file\n.Ar path\nto\n.Ar own .\n.Ar path\nmay contain\n.Xr glob 7\ncharacters and may match multiple files.\n.Ar own\nmust be a numeric UID.\n.Pp\nIf the\n.Fl h\nflag is specified, then symlinks will not be followed.\nNote that this is only supported by servers that implement\nthe \"lsetstat@openssh.com\" extension.\n.It Ic copy Ar oldpath Ar newpath\nCopy remote file from\n.Ar oldpath\nto\n.Ar newpath .\n.Pp\nNote that this is only supported by servers that implement the \"copy-data\"\nextension.\n.It Ic cp Ar oldpath Ar newpath\nAlias to\n.Ic copy\ncommand.\n.It Xo Ic df\n.Op Fl hi\n.Op Ar path\n.Xc\nDisplay usage information for the filesystem holding the current directory\n(or\n.Ar path\nif specified).\nIf the\n.Fl h\nflag is specified, the capacity information will be displayed using\n\"human-readable\" suffixes.\nThe\n.Fl i\nflag requests display of inode information in addition to capacity information.\nThis command is only supported on servers that implement the\n.Dq statvfs@openssh.com\nextension.\n.It Ic exit\nQuit\n.Nm sftp .\n.It Xo Ic get\n.Op Fl afpR\n.Ar remote-path\n.Op Ar local-path\n.Xc\nRetrieve the\n.Ar remote-path\nand store it on the local machine.\nIf the local\npath name is not specified, it is given the same name it has on the\nremote machine.\n.Ar remote-path\nmay contain\n.Xr glob 7\ncharacters and may match multiple files.\nIf it does and\n.Ar local-path\nis specified, then\n.Ar local-path\nmust specify a directory.\n.Pp\nIf the\n.Fl a\nflag is specified, then attempt to resume partial transfers of existing files.\nNote that resumption assumes that any partial copy of the local file matches\nthe remote copy.\nIf the remote file contents differ from the partial local copy then the\nresultant file is likely to be corrupt.\n.Pp\nIf the\n.Fl f\nflag is specified, then\n.Xr fsync 2\nwill be called after the file transfer has completed to flush the file\nto disk.\n.Pp\nIf the\n.Fl p\n.\\\" undocumented redundant alias\n.\\\" or\n.\\\" .Fl P\nflag is specified, then full file permissions and access times are\ncopied too.\n.Pp\nIf the\n.Fl R\n.\\\" undocumented redundant alias\n.\\\" or\n.\\\" .Fl r\nflag is specified then directories will be copied recursively.\nNote that\n.Nm\ndoes not follow symbolic links when performing recursive transfers.\n.It Ic help\nDisplay help text.\n.It Ic lcd Op Ar path\nChange local directory to\n.Ar path .\nIf\n.Ar path\nis not specified, then change directory to the local user's home directory.\n.It Ic lls Op Ar ls-options Op Ar path\nDisplay local directory listing of either\n.Ar path\nor current directory if\n.Ar path\nis not specified.\n.Ar ls-options\nmay contain any flags supported by the local system's\n.Xr ls 1\ncommand.\n.Ar path\nmay contain\n.Xr glob 7\ncharacters and may match multiple files.\n.It Ic lmkdir Ar path\nCreate local directory specified by\n.Ar path .\n.It Xo Ic ln\n.Op Fl s\n.Ar oldpath\n.Ar newpath\n.Xc\nCreate a link from\n.Ar oldpath\nto\n.Ar newpath .\nIf the\n.Fl s\nflag is specified the created link is a symbolic link, otherwise it is\na hard link.\n.It Ic lpwd\nPrint local working directory.\n.It Xo Ic ls\n.Op Fl 1afhlnrSt\n.Op Ar path\n.Xc\nDisplay a remote directory listing of either\n.Ar path\nor the current directory if\n.Ar path\nis not specified.\n.Ar path\nmay contain\n.Xr glob 7\ncharacters and may match multiple files.\n.Pp\nThe following flags are recognized and alter the behaviour of\n.Ic ls\naccordingly:\n.Bl -tag -width Ds\n.It Fl 1\nProduce single columnar output.\n.It Fl a\nList files beginning with a dot\n.Pq Sq \\&. .\n.It Fl f\nDo not sort the listing.\nThe default sort order is lexicographical.\n.It Fl h\nWhen used with a long format option, use unit suffixes: Byte, Kilobyte,\nMegabyte, Gigabyte, Terabyte, Petabyte, and Exabyte in order to reduce\nthe number of digits to four or fewer using powers of 2 for sizes (K=1024,\nM=1048576, etc.).\n.It Fl l\nDisplay additional details including permissions\nand ownership information.\n.It Fl n\nProduce a long listing with user and group information presented\nnumerically.\n.It Fl r\nReverse the sort order of the listing.\n.It Fl S\nSort the listing by file size.\n.It Fl t\nSort the listing by last modification time.\n.El\n.It Ic lumask Ar umask\nSet local umask to\n.Ar umask .\n.It Ic mkdir Ar path\nCreate remote directory specified by\n.Ar path .\n.It Ic progress\nToggle display of progress meter.\n.It Xo Ic put\n.Op Fl afpR\n.Ar local-path\n.Op Ar remote-path\n.Xc\nUpload\n.Ar local-path\nand store it on the remote machine.\nIf the remote path name is not specified, it is given the same name it has\non the local machine.\n.Ar local-path\nmay contain\n.Xr glob 7\ncharacters and may match multiple files.\nIf it does and\n.Ar remote-path\nis specified, then\n.Ar remote-path\nmust specify a directory.\n.Pp\nIf the\n.Fl a\nflag is specified, then attempt to resume partial\ntransfers of existing files.\nNote that resumption assumes that any partial copy of the remote file\nmatches the local copy.\nIf the local file contents differ from the remote local copy then\nthe resultant file is likely to be corrupt.\n.Pp\nIf the\n.Fl f\nflag is specified, then a request will be sent to the server to call\n.Xr fsync 2\nafter the file has been transferred.\nNote that this is only supported by servers that implement\nthe \"fsync@openssh.com\" extension.\n.Pp\nIf the\n.Fl p\n.\\\" undocumented redundant alias\n.\\\" or\n.\\\" .Fl P\nflag is specified, then full file permissions and access times are\ncopied too.\n.Pp\nIf the\n.Fl R\n.\\\" undocumented redundant alias\n.\\\" or\n.\\\" .Fl r\nflag is specified then directories will be copied recursively.\nNote that\n.Nm\ndoes not follow symbolic links when performing recursive transfers.\n.It Ic pwd\nDisplay remote working directory.\n.It Ic quit\nQuit\n.Nm sftp .\n.It Xo Ic reget\n.Op Fl fpR\n.Ar remote-path\n.Op Ar local-path\n.Xc\nResume download of\n.Ar remote-path .\nEquivalent to\n.Ic get\nwith the\n.Fl a\nflag set.\n.It Xo Ic reput\n.Op Fl fpR\n.Ar local-path\n.Op Ar remote-path\n.Xc\nResume upload of\n.Ar local-path .\nEquivalent to\n.Ic put\nwith the\n.Fl a\nflag set.\n.It Ic rename Ar oldpath newpath\nRename remote file from\n.Ar oldpath\nto\n.Ar newpath .\n.It Ic rm Ar path\nDelete remote file specified by\n.Ar path .\n.It Ic rmdir Ar path\nRemove remote directory specified by\n.Ar path .\n.It Ic symlink Ar oldpath newpath\nCreate a symbolic link from\n.Ar oldpath\nto\n.Ar newpath .\n.It Ic version\nDisplay the\n.Nm\nprotocol version.\n.It Ic \\&! Ns Ar command\nExecute\n.Ar command\nin local shell.\n.It Ic \\&!\nEscape to local shell.\n.It Ic \\&?\nSynonym for help.\n.El\n.Sh SEE ALSO\n.Xr ftp 1 ,\n.Xr ls 1 ,\n.Xr scp 1 ,\n.Xr ssh 1 ,\n.Xr ssh-add 1 ,\n.Xr ssh-keygen 1 ,\n.Xr ssh_config 5 ,\n.Xr glob 7 ,\n.Xr sftp-server 8 ,\n.Xr sshd 8\n.Rs\n.%A T. Ylonen\n.%A S. Lehtinen\n.%T \"SSH File Transfer Protocol\"\n.%N draft-ietf-secsh-filexfer-00.txt\n.%D January 2001\n.%O work in progress material\n.Re\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}