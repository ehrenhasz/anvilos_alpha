{
  "module_name": "bashversion.c",
  "hash_id": "bd9f94ca10f7e857ea89874b437a54644850faa7a43a2b920d2794e404583245",
  "original_prompt": "Ingested from bash-5.2.21/support/bashversion.c",
  "human_readable_source": " \n\n \n\n#include \"config.h\"\n\n#include \"stdc.h\"\n\n#include <stdio.h>\n\n#if defined (HAVE_UNISTD_H)\n#  include <unistd.h>\n#endif\n\n#include \"bashansi.h\"\n\n#include \"version.h\"\n#include \"conftypes.h\"\n\n#define RFLAG\t0x0001\n#define VFLAG\t0x0002\n#define MFLAG\t0x0004\n#define PFLAG\t0x0008\n#define SFLAG\t0x0010\n#define LFLAG\t0x0020\n#define XFLAG\t0x0040\n\nextern int optind;\nextern char *optarg;\n\nextern char *dist_version;\nextern int patch_level;\n\nextern char *shell_version_string PARAMS((void));\nextern void show_shell_version PARAMS((int));\n\nchar *shell_name = \"bash\";\nchar *progname;\n\nstatic void\nusage()\n{\n  fprintf(stderr, \"%s: usage: %s [-hrvpmlsx]\\n\", progname, progname);\n}\n\nint\nmain (argc, argv)\n     int argc;\n     char **argv;\n{\n  int opt, oflags;\n  char dv[128], *rv;\n\n  if (progname = strrchr (argv[0], '/'))\n    progname++;\n  else\n    progname = argv[0];\n\n  oflags = 0;\n  while ((opt = getopt(argc, argv, \"hrvmpslx\")) != EOF)\n    {\n      switch (opt)\n\t{\n\tcase 'h':\n\t  usage ();\n\t  exit (0);\n\tcase 'r':\n\t  oflags |= RFLAG;\t \n\t  break;\n\tcase 'v':\n\t  oflags |= VFLAG;\t \n\t  break;\n\tcase 'm':\n\t  oflags |= MFLAG;\t \n\t  break;\n\tcase 'p':\n\t  oflags |= PFLAG;\t \n\t  break;\n\tcase 's':\t\t \n\t  oflags |= SFLAG;\n\t  break;\n\tcase 'l':\t\t \n\t  oflags |= LFLAG;\n\t  break;\n\tcase 'x':\t\t \n\t  oflags |= XFLAG;\n\t  break;\n\tdefault:\n\t  usage ();\n\t  exit (2);\n\t}\n    }\n\n  argc -= optind;\n  argv += optind;\n\n  if (argc > 0)\n    {\n      usage ();\n      exit (2);\n    }\n\n     \n  if (oflags == 0)\n    oflags = SFLAG;\n\n  if (oflags & (RFLAG|VFLAG))\n    {\n      strcpy (dv, dist_version);\n      rv = strchr (dv, '.');\n      if (rv)\n        *rv++ = '\\0';\n      else\n        rv = \"00\";\n    }\n  if (oflags & RFLAG)\n    printf (\"%s\\n\", dv);\n  else if (oflags & VFLAG)\n    printf (\"%s\\n\", rv);\n  else if (oflags & MFLAG)\n    printf (\"%s\\n\", MACHTYPE);\n  else if (oflags & PFLAG)\n    printf (\"%d\\n\", patch_level);\n  else if (oflags & SFLAG)\n    printf (\"%s\\n\", shell_version_string ());\n  else if (oflags & LFLAG)\n    show_shell_version (0);\n  else if (oflags & XFLAG)\n    show_shell_version (1);\n\n  exit (0);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}