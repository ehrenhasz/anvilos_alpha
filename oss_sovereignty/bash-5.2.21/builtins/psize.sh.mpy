{
  "module_name": "psize.sh",
  "hash_id": "01d3e145e083777e5a94baf4e1cacb239509877de6709500014c468461b600ab",
  "original_prompt": "Ingested from bash-5.2.21/builtins/psize.sh",
  "human_readable_source": "#! /bin/sh\n#\n# psize.sh -- determine this system's pipe size, and write a define to\n#             pipesize.h so ulimit.c can use it.\n\n: ${TMPDIR:=/tmp}\n# try to use mktemp(1) if the system supports it\n{ TMPFILE=\"`mktemp $TMPDIR/pipsize.XXXXXX 2>/dev/null`\"; } 2>/dev/null\nused_mktemp=true\n\nif [ -z \"$TMPFILE\" ]; then\n\tTMPNAME=pipsize.$$\n\tTMPFILE=$TMPDIR/$TMPNAME\n\tused_mktemp=false\nfi\n\ntrap 'rm -f \"$TMPFILE\" ; exit 1' 1 2 3 6 15\ntrap 'rm -f \"$TMPFILE\"' 0\n\necho \"/*\"\necho \" * pipesize.h\"\necho \" *\"\necho \" * This file is automatically generated by psize.sh\"\necho \" * Do not edit!\"\necho \" */\"\necho \"\"\n\n#\n# Try to avoid tempfile races.  We can't really check for the file's\n# existence before we run psize.aux, because `test -e' is not portable,\n# `test -h' (test for symlinks) is not portable, and `test -f' only\n# checks for regular files.  If we used mktemp(1), we're ahead of the\n# game.\n#\n$used_mktemp || rm -f \"$TMPFILE\"\n\n./psize.aux 2>\"$TMPFILE\" | sleep 3\n\nif [ -s \"$TMPFILE\" ]; then\n\techo \"#define PIPESIZE `cat \"$TMPFILE\"`\"\nelse\n\techo \"#define PIPESIZE 512\"\nfi\n\nexit 0\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}