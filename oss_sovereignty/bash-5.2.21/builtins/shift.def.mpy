{
  "module_name": "shift.def",
  "hash_id": "43ed72db0027532b9a110138a526b6af0af70a431abf787cbe2a9d187b8cf5fe",
  "original_prompt": "Ingested from bash-5.2.21/builtins/shift.def",
  "human_readable_source": "This file is shift.def, from which is created shift.c.\nIt implements the builtin \"shift\" in Bash.\n\nCopyright (C) 1987-2020 Free Software Foundation, Inc.\n\nThis file is part of GNU Bash, the Bourne Again SHell.\n\nBash is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nBash is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with Bash.  If not, see <http://www.gnu.org/licenses/>.\n\n$PRODUCES shift.c\n\n#include <config.h>\n\n#if defined (HAVE_UNISTD_H)\n#  ifdef _MINIX\n#    include <sys/types.h>\n#  endif\n#  include <unistd.h>\n#endif\n\n#include \"../bashansi.h\"\n#include \"../bashintl.h\"\n\n#include \"../shell.h\"\n#include \"common.h\"\n\n$BUILTIN shift\n$FUNCTION shift_builtin\n$SHORT_DOC shift [n]\nShift positional parameters.\n\nRename the positional parameters $N+1,$N+2 ... to $1,$2 ...  If N is\nnot given, it is assumed to be 1.\n\nExit Status:\nReturns success unless N is negative or greater than $#.\n$END\n\nint print_shift_error;\n\n/* Shift the arguments ``left''.  Shift DOLLAR_VARS down then take one\n   off of REST_OF_ARGS and place it into DOLLAR_VARS[9].  If LIST has\n   anything in it, it is a number which says where to start the\n   shifting.  Return > 0 if `times' > $#, otherwise 0. */\nint\nshift_builtin (list)\n     WORD_LIST *list;\n{\n  intmax_t times;\n  int itimes, nargs;\n\n  CHECK_HELPOPT (list);\n\n  if (get_numeric_arg (list, 0, &times) == 0)\n    return (EXECUTION_FAILURE);\n\n  if (times == 0)\n    return (EXECUTION_SUCCESS);\n  else if (times < 0)\n    {\n      sh_erange (list ? list->word->word : NULL, _(\"shift count\"));\n      return (EXECUTION_FAILURE);\n    }\n  nargs = number_of_args ();\n  if (times > nargs)\n    {\n      if (print_shift_error)\n\tsh_erange (list ? list->word->word : NULL, _(\"shift count\"));\n      return (EXECUTION_FAILURE);\n    }\n  else if (times == nargs)\n    clear_dollar_vars ();\n  else\n    shift_args (itimes = times);\n\n  invalidate_cached_quoted_dollar_at ();\n\n  return (EXECUTION_SUCCESS);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}