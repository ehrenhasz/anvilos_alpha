{
  "module_name": "configure.ac",
  "hash_id": "9e81caa7903713fce1d357ecce9bc8076a2953ec88befd0ab7fb9680901b98ad",
  "original_prompt": "Ingested from bash-5.2.21/configure.ac",
  "human_readable_source": "dnl\ndnl Configure script for bash-5.2\ndnl\ndnl report bugs to chet@po.cwru.edu\ndnl\ndnl Process this file with autoconf to produce a configure script.\n\n# Copyright (C) 1987-2022 Free Software Foundation, Inc.\n\n#\n#   This program is free software: you can redistribute it and/or modify\n#   it under the terms of the GNU General Public License as published by\n#   the Free Software Foundation, either version 3 of the License, or\n#   (at your option) any later version.\n#\n#   This program is distributed in the hope that it will be useful,\n#   but WITHOUT ANY WARRANTY; without even the implied warranty of\n#   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n#   GNU General Public License for more details.\n#\n#   You should have received a copy of the GNU General Public License\n#   along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nAC_REVISION([for Bash 5.2, version 5.046])dnl\n\ndefine(bashvers, 5.2)\ndefine(relstatus, release)\n\nAC_INIT([bash], bashvers-relstatus, [bug-bash@gnu.org])\n\ndnl make sure we are using a recent autoconf version\nAC_PREREQ(2.69)\n\nAC_CONFIG_SRCDIR(shell.h)\ndnl where to find install.sh, config.sub, and config.guess\nAC_CONFIG_AUX_DIR(./support)\nAC_CONFIG_HEADERS(config.h)\n\ndnl checks for version info\nBASHVERS=bashvers\nRELSTATUS=relstatus\n\ndnl defaults for debug settings\ncase \"$RELSTATUS\" in\nalp*|bet*|dev*|rc*|releng*|maint*)\tDEBUG='-DDEBUG' MALLOC_DEBUG='-DMALLOC_DEBUG' ;;\n*)\tDEBUG= MALLOC_DEBUG= ;;\nesac\n\ndnl canonicalize the host and os so we can do some tricky things before\ndnl parsing options\nAC_CANONICAL_HOST\nAC_CANONICAL_BUILD\n\ndnl configure defaults\nopt_bash_malloc=yes\nopt_afs=no\nopt_curses=no\nopt_with_installed_readline=no\n\n#htmldir=\n\ndnl some systems should be configured without the bash malloc by default\ndnl and some need a special compiler or loader\ndnl look in the NOTES file for more\ncase \"${host_cpu}-${host_os}\" in\n# mostly obsolete platforms\nalpha*-*)\topt_bash_malloc=no ;;\t# alpha running osf/1 or linux\n*[[Cc]]ray*-*)\topt_bash_malloc=no ;;\t# Crays\n*-osf1*)\topt_bash_malloc=no ;;\t# other osf/1 machines\n*-dgux*)\topt_bash_malloc=no ;;\t# DG/UX machines\nsparc-svr4*)\topt_bash_malloc=no ;;\t# sparc SVR4, SVR4.2\nm68k-sysv)\topt_bash_malloc=no ;;\t# fixes file descriptor leak in closedir\n*-bsdi2.1|*-bsdi3.?)\topt_bash_malloc=no ; : ${CC:=shlicc2} ;; # for loadable builtins\n*-opennt*|*-interix*)\topt_bash_malloc=no ;;\t# Interix, now owned by Microsoft\n*-beos*)\topt_bash_malloc=no ;;\t# they say it's suitable\n# These need additional investigation\nsparc-linux*)\topt_bash_malloc=no ;;\t# sparc running linux; requires ELF\n*-aix*)\t\topt_bash_malloc=no ;;\t# AIX machines\n*-cygwin*)\topt_bash_malloc=no ;;\t# Cygnus's CYGWIN environment\n# These lack a working sbrk(2)\naarch64-freebsd*)\topt_bash_malloc=no ;;\nriscv*-freebsd*)\topt_bash_malloc=no ;;\n# Mach-derived systems have a ton of extra malloc functions and lack sbrk(2)\n*-nextstep*)\topt_bash_malloc=no ;;\t# NeXT machines running NeXTstep\n*-openstep*)\topt_bash_malloc=no ;;\t# i386/Sparc/HP machines running Openstep\n*-macos*)\topt_bash_malloc=no ;;\t# Apple MacOS X\n*-rhapsody*)\topt_bash_malloc=no ;;\t# Apple Rhapsody (MacOS X)\n*-darwin*)\topt_bash_malloc=no ;;\t# Apple Darwin (MacOS X)\n*-machten4)\topt_bash_malloc=no ;;\t# MachTen 4.x\n# Niche or non-mainstream-shell-user systems\n*-qnx*)\t\topt_bash_malloc=no ;;\t# QNX 4.2, QNX [67].x\n*-nsk*)\t\topt_bash_malloc=no ;;\t# HP NonStop\n*-haiku*)\topt_bash_malloc=no ;;\t# Haiku OS\n*-genode*)\topt_bash_malloc=no ;;\t# Genode has no sbrk\nesac\n\n# memory scrambling on free()\ncase \"${host_os}\" in\nsco3.2v5*|sco3.2v4*)\topt_memscramble=no ;;\n*)\t\t\topt_memscramble=yes ;;\nesac\n\ndnl\ndnl macros for the bash debugger\ndnl\ndnl AM_PATH_LISPDIR\nAC_ARG_VAR(DEBUGGER_START_FILE, [location of bash debugger initialization file])\n\ndnl arguments to configure\ndnl packages\nAC_ARG_WITH(afs, AS_HELP_STRING([--with-afs], [if you are running AFS]), opt_afs=$withval)\nAC_ARG_WITH(bash-malloc, AS_HELP_STRING([--with-bash-malloc], [use the Bash version of malloc]), opt_bash_malloc=$withval)\nAC_ARG_WITH(curses, AS_HELP_STRING([--with-curses], [use the curses library instead of the termcap library]), opt_curses=$withval)\nAC_ARG_WITH(gnu-malloc, AS_HELP_STRING([--with-gnu-malloc], [synonym for --with-bash-malloc]), opt_bash_malloc=$withval)\nAC_ARG_WITH(installed-readline, AS_HELP_STRING([--with-installed-readline], [use a version of the readline library that is already installed]), opt_with_installed_readline=$withval)\n\nif test \"$opt_bash_malloc\" = yes; then\n\tMALLOC_TARGET=malloc\n\tMALLOC_SRC=malloc.c\n\n\tMALLOC_LIB='-lmalloc'\n\tMALLOC_LIBRARY='$(ALLOC_LIBDIR)/libmalloc.a'\n\tMALLOC_LDFLAGS='-L$(ALLOC_LIBDIR)'\n\tMALLOC_DEP='$(MALLOC_LIBRARY)'\n\n\tAC_DEFINE(USING_BASH_MALLOC)\nelse\n\tMALLOC_LIB=\n\tMALLOC_LIBRARY=\n\tMALLOC_LDFLAGS=\n\tMALLOC_DEP=\t\nfi\n\nif test \"$opt_afs\" = yes; then\n\tAC_DEFINE(AFS)\nfi\n\nif test \"$opt_curses\" = yes; then\n\tprefer_curses=yes\nfi\n\nif test -z \"${DEBUGGER_START_FILE}\"; then\n\tDEBUGGER_START_FILE='${datadir}/bashdb/bashdb-main.inc'\nfi\n\ndnl optional shell features in config.h.in\nopt_minimal_config=no\n\nopt_job_control=yes\nopt_alias=yes\nopt_readline=yes\nopt_history=yes\nopt_bang_history=yes\nopt_dirstack=yes\nopt_restricted=yes\nopt_process_subst=yes\nopt_prompt_decoding=yes\nopt_select=yes\nopt_help=yes\nopt_array_variables=yes\nopt_dparen_arith=yes\nopt_extended_glob=yes\nopt_brace_expansion=yes\nopt_disabled_builtins=no\nopt_command_timing=yes\nopt_xpg_echo=no\nopt_strict_posix=no\nopt_cond_command=yes\nopt_cond_regexp=yes\nopt_coproc=yes\nopt_arith_for_command=yes\nopt_net_redirs=yes\nopt_progcomp=yes\nopt_separate_help=no\nopt_multibyte=yes\nopt_debugger=yes\nopt_single_longdoc_strings=yes\nopt_casemod_attrs=yes\nopt_casemod_expansions=yes\nopt_extglob_default=no\nopt_dircomplete_expand_default=no\nopt_globascii_default=yes\nopt_function_import=yes\nopt_dev_fd_stat_broken=no\nopt_alt_array_impl=no\nopt_translatable_strings=yes\n\ndnl modified by alternate array implementation option\nARRAY_O=array.o\n\ndnl options that affect how bash is compiled and linked\nopt_static_link=no\nopt_profiling=no\n\ndnl argument parsing for optional features\nAC_ARG_ENABLE(minimal-config, AS_HELP_STRING([--enable-minimal-config], [a minimal sh-like configuration]), opt_minimal_config=$enableval)\n\ndnl a minimal configuration turns everything off, but features can be\ndnl added individually\nif test $opt_minimal_config = yes; then\n\topt_job_control=no opt_alias=no opt_readline=no\n\topt_history=no opt_bang_history=no opt_dirstack=no\n\topt_restricted=no opt_process_subst=no opt_prompt_decoding=no\n\topt_select=no opt_help=no opt_array_variables=no opt_dparen_arith=no\n\topt_brace_expansion=no opt_disabled_builtins=no opt_command_timing=no\n\topt_extended_glob=no opt_cond_command=no opt_arith_for_command=no\n\topt_net_redirs=no opt_progcomp=no opt_separate_help=no\n\topt_multibyte=yes opt_cond_regexp=no opt_coproc=no\n\topt_casemod_attrs=no opt_casemod_expansions=no opt_extglob_default=no\n\topt_translatable_strings=no\n\topt_globascii_default=yes\nfi\n\nAC_ARG_ENABLE(alias, AS_HELP_STRING([--enable-alias], [enable shell aliases]), opt_alias=$enableval)\nAC_ARG_ENABLE(alt-array-implementation, AS_HELP_STRING([--enable-alt-array-implementation], [enable an alternate array implementation that optimizes speed at the cost of space]), opt_alt_array_impl=$enableval)\nAC_ARG_ENABLE(arith-for-command, AS_HELP_STRING([--enable-arith-for-command], [enable arithmetic for command]), opt_arith_for_command=$enableval)\nAC_ARG_ENABLE(array-variables, AS_HELP_STRING([--enable-array-variables], [include shell array variables]), opt_array_variables=$enableval)\nAC_ARG_ENABLE(bang-history, AS_HELP_STRING([--enable-bang-history], [turn on csh-style history substitution]), opt_bang_history=$enableval)\nAC_ARG_ENABLE(brace-expansion, AS_HELP_STRING([--enable-brace-expansion], [include brace expansion]), opt_brace_expansion=$enableval)\nAC_ARG_ENABLE(casemod-attributes, AS_HELP_STRING([--enable-casemod-attributes], [include case-modifying variable attributes]), opt_casemod_attrs=$enableval)\nAC_ARG_ENABLE(casemod-expansions, AS_HELP_STRING([--enable-casemod-expansions], [include case-modifying word expansions]), opt_casemod_expansions=$enableval)\nAC_ARG_ENABLE(command-timing, AS_HELP_STRING([--enable-command-timing], [enable the time reserved word and command timing]), opt_command_timing=$enableval)\nAC_ARG_ENABLE(cond-command, AS_HELP_STRING([--enable-cond-command], [enable the conditional command]), opt_cond_command=$enableval)\nAC_ARG_ENABLE(cond-regexp, AS_HELP_STRING([--enable-cond-regexp], [enable extended regular expression matching in conditional commands]), opt_cond_regexp=$enableval)\nAC_ARG_ENABLE(coprocesses, AS_HELP_STRING([--enable-coprocesses], [enable coprocess support and the coproc reserved word]), opt_coproc=$enableval)\nAC_ARG_ENABLE(debugger, AS_HELP_STRING([--enable-debugger], [enable support for bash debugger]), opt_debugger=$enableval)\nAC_ARG_ENABLE(dev-fd-stat-broken, AS_HELP_STRING([--enable-dev-fd-stat-broken], [enable this option if stat on /dev/fd/N and fstat on file descriptor N don't return the same results]), opt_dev_fd_stat_broken=$enableval)\nAC_ARG_ENABLE(direxpand-default, AS_HELP_STRING([--enable-direxpand-default], [enable the direxpand shell option by default]), opt_dircomplete_expand_default=$enableval)\nAC_ARG_ENABLE(directory-stack, AS_HELP_STRING([--enable-directory-stack], [enable builtins pushd/popd/dirs]), opt_dirstack=$enableval)\nAC_ARG_ENABLE(disabled-builtins, AS_HELP_STRING([--enable-disabled-builtins], [allow disabled builtins to still be invoked]), opt_disabled_builtins=$enableval)\nAC_ARG_ENABLE(dparen-arithmetic, AS_HELP_STRING([--enable-dparen-arithmetic], [include ((...)) command]), opt_dparen_arith=$enableval)\nAC_ARG_ENABLE(extended-glob, AS_HELP_STRING([--enable-extended-glob], [include ksh-style extended pattern matching]), opt_extended_glob=$enableval)\nAC_ARG_ENABLE(extended-glob-default, AS_HELP_STRING([--enable-extended-glob-default], [force extended pattern matching to be enabled by default]), opt_extglob_default=$enableval)\nAC_ARG_ENABLE(function-import, AS_HELP_STRING([--enable-function-import], [allow bash to import exported function definitions by default]), opt_function_import=$enableval)\nAC_ARG_ENABLE(glob-asciiranges-default, AS_HELP_STRING([--enable-glob-asciiranges-default], [force bracket range expressions in pattern matching to use the C locale by default]), opt_globascii_default=$enableval)\nAC_ARG_ENABLE(help-builtin, AS_HELP_STRING([--enable-help-builtin], [include the help builtin]), opt_help=$enableval)\nAC_ARG_ENABLE(history, AS_HELP_STRING([--enable-history], [turn on command history]), opt_history=$enableval)\nAC_ARG_ENABLE(job-control, AS_HELP_STRING([--enable-job-control], [enable job control features]), opt_job_control=$enableval)\nAC_ARG_ENABLE(multibyte, AS_HELP_STRING([--enable-multibyte], [enable multibyte characters if OS supports them]), opt_multibyte=$enableval)\nAC_ARG_ENABLE(net-redirections, AS_HELP_STRING([--enable-net-redirections], [enable /dev/tcp/host/port redirection]), opt_net_redirs=$enableval)\nAC_ARG_ENABLE(process-substitution, AS_HELP_STRING([--enable-process-substitution], [enable process substitution]), opt_process_subst=$enableval)\nAC_ARG_ENABLE(progcomp, AS_HELP_STRING([--enable-progcomp], [enable programmable completion and the complete builtin]), opt_progcomp=$enableval)\nAC_ARG_ENABLE(prompt-string-decoding, AS_HELP_STRING([--enable-prompt-string-decoding], [turn on escape character decoding in prompts]), opt_prompt_decoding=$enableval)\nAC_ARG_ENABLE(readline, AS_HELP_STRING([--enable-readline], [turn on command line editing]), opt_readline=$enableval)\nAC_ARG_ENABLE(restricted, AS_HELP_STRING([--enable-restricted], [enable a restricted shell]), opt_restricted=$enableval)\nAC_ARG_ENABLE(select, AS_HELP_STRING([--enable-select], [include select command]), opt_select=$enableval)\nAC_ARG_ENABLE(separate-helpfiles, AS_HELP_STRING([--enable-separate-helpfiles], [use external files for help builtin documentation]), opt_separate_help=$enableval)\nAC_ARG_ENABLE(single-help-strings, AS_HELP_STRING([--enable-single-help-strings], [store help documentation as a single string to ease translation]), opt_single_longdoc_strings=$enableval)\nAC_ARG_ENABLE(strict-posix-default, AS_HELP_STRING([--enable-strict-posix-default], [configure bash to be posix-conformant by default]), opt_strict_posix=$enableval)\nAC_ARG_ENABLE(translatable-strings, AS_HELP_STRING([--enable-translatable-strings], [include support for $\"...\" translatable strings]), opt_translatable_strings=$enableval)\nAC_ARG_ENABLE(usg-echo-default, AS_HELP_STRING([--enable-usg-echo-default], [a synonym for --enable-xpg-echo-default]), opt_xpg_echo=$enableval)\nAC_ARG_ENABLE(xpg-echo-default, AS_HELP_STRING([--enable-xpg-echo-default], [make the echo builtin expand escape sequences by default]), opt_xpg_echo=$enableval)\n\ndnl options that alter how bash is compiled and linked\nAC_ARG_ENABLE(mem-scramble, AS_HELP_STRING([--enable-mem-scramble], [scramble memory on calls to malloc and free]), opt_memscramble=$enableval)\nAC_ARG_ENABLE(profiling, AS_HELP_STRING([--enable-profiling], [allow profiling with gprof]), opt_profiling=$enableval)\nAC_ARG_ENABLE(static-link, AS_HELP_STRING([--enable-static-link], [link bash statically, for use as a root shell]), opt_static_link=$enableval)\n\ndnl So-called `precious' variables\nAC_ARG_VAR([CC_FOR_BUILD], [C compiler used when compiling binaries used only at build time])\nAC_ARG_VAR([CFLAGS_FOR_BUILD], [Compilation options (CFLAGS) used when compiling binaries used only at build time])\nAC_ARG_VAR([LDFLAGS_FOR_BUILD], [Linker options (LDFLAGS) used when compiling binaries used only at build time])\nAC_ARG_VAR([CPPFLAGS_FOR_BUILD], [C preprocessor options (CPPFLAGS) used when compiling binaries used only at build time])\n\ndnl opt_job_control is handled later, after BASH_JOB_CONTROL_MISSING runs\n\ndnl opt_readline and opt_history are handled later, because AC_PROG_CC needs\ndnl to be run before we can check the version of an already-installed readline\ndnl library\n\nif test $opt_alias = yes; then\nAC_DEFINE(ALIAS)\nfi\nif test $opt_dirstack = yes; then\nAC_DEFINE(PUSHD_AND_POPD)\nfi\nif test $opt_restricted = yes; then\nAC_DEFINE(RESTRICTED_SHELL)\nfi\nif test $opt_process_subst = yes; then\nAC_DEFINE(PROCESS_SUBSTITUTION)\nfi\nif test $opt_prompt_decoding = yes; then\nAC_DEFINE(PROMPT_STRING_DECODE)\nfi\nif test $opt_select = yes; then\nAC_DEFINE(SELECT_COMMAND)\nfi\nif test $opt_help = yes; then\nAC_DEFINE(HELP_BUILTIN)\nfi\nif test $opt_array_variables = yes; then\nAC_DEFINE(ARRAY_VARS)\nfi\nif test $opt_dparen_arith = yes; then\nAC_DEFINE(DPAREN_ARITHMETIC)\nfi\nif test $opt_brace_expansion = yes; then\nAC_DEFINE(BRACE_EXPANSION)\nfi\nif test $opt_disabled_builtins = yes; then\nAC_DEFINE(DISABLED_BUILTINS)\nfi\nif test $opt_command_timing = yes; then\nAC_DEFINE(COMMAND_TIMING)\nfi\nif test $opt_xpg_echo = yes ; then\nAC_DEFINE(DEFAULT_ECHO_TO_XPG)\nfi\nif test $opt_strict_posix = yes; then\nAC_DEFINE(STRICT_POSIX)\nfi\nif test $opt_extended_glob = yes ; then\nAC_DEFINE(EXTENDED_GLOB)\nfi\nif test $opt_extglob_default = yes; then\nAC_DEFINE(EXTGLOB_DEFAULT, 1)\nelse\nAC_DEFINE(EXTGLOB_DEFAULT, 0)\nfi\nif test $opt_cond_command = yes ; then\nAC_DEFINE(COND_COMMAND)\nfi\nif test $opt_cond_regexp = yes ; then\nAC_DEFINE(COND_REGEXP)\nfi\nif test $opt_coproc = yes; then\nAC_DEFINE(COPROCESS_SUPPORT)\nfi\nif test $opt_arith_for_command = yes; then\nAC_DEFINE(ARITH_FOR_COMMAND)\nfi\nif test $opt_net_redirs = yes; then\nAC_DEFINE(NETWORK_REDIRECTIONS)\nfi\nif test $opt_progcomp = yes; then\nAC_DEFINE(PROGRAMMABLE_COMPLETION)\nfi\nif test $opt_multibyte = no; then\nAC_DEFINE(NO_MULTIBYTE_SUPPORT)\nfi\nif test $opt_debugger = yes; then\nAC_DEFINE(DEBUGGER)\nfi\nif test $opt_casemod_attrs = yes; then\nAC_DEFINE(CASEMOD_ATTRS)\nfi\nif test $opt_casemod_expansions = yes; then\nAC_DEFINE(CASEMOD_EXPANSIONS)\nfi\nif test $opt_dircomplete_expand_default = yes; then\nAC_DEFINE(DIRCOMPLETE_EXPAND_DEFAULT)\nfi\nif test $opt_globascii_default = yes; then\nAC_DEFINE(GLOBASCII_DEFAULT, 1)\nelse\nAC_DEFINE(GLOBASCII_DEFAULT, 0)\nfi\nif test $opt_function_import = yes; then\nAC_DEFINE(FUNCTION_IMPORT)\nfi\nif test $opt_dev_fd_stat_broken = yes; then\nAC_DEFINE(DEV_FD_STAT_BROKEN)\nfi\nif test $opt_alt_array_impl = yes; then\nAC_DEFINE(ALT_ARRAY_IMPLEMENTATION)\nARRAY_O=array2.o\nfi\nif test $opt_translatable_strings = yes; then\nAC_DEFINE(TRANSLATABLE_STRINGS)\nfi\n\nif test $opt_memscramble = yes; then\nAC_DEFINE(MEMSCRAMBLE)\nfi\n\nif test \"$opt_minimal_config\" = yes; then\n\tTESTSCRIPT=run-minimal\nelse\n\tTESTSCRIPT=run-all\nfi\n\nHELPDIR= HELPDIRDEFINE= HELPINSTALL= HELPFILES_TARGET=\nif test \"$opt_separate_help\" != no; then\n\tif test \"$opt_separate_help\" = \"yes\" ; then\n\t\tHELPDIR='${datadir}/bash/helpfiles'\n\telse\n\t\tHELPDIR=$opt_separate_help\n\tfi\n\tHELPDIRDEFINE='-H ${HELPDIR}'\n\tHELPINSTALL='install-help'\n\tHELPFILES_TARGET='helpdoc'\nfi\nHELPSTRINGS=\nif test \"$opt_single_longdoc_strings\" != \"yes\"; then\n\tHELPSTRINGS='-S'\nfi\n\ndnl now substitute in the values generated by arguments\nAC_SUBST(TESTSCRIPT)\nAC_SUBST(MALLOC_TARGET)\nAC_SUBST(MALLOC_SRC)\n\nAC_SUBST(MALLOC_LIB)\nAC_SUBST(MALLOC_LIBRARY)\nAC_SUBST(MALLOC_LDFLAGS)\nAC_SUBST(MALLOC_DEP)\n\nAC_SUBST(ARRAY_O)\n\nAC_SUBST(htmldir)\n\nAC_SUBST(HELPDIR)\nAC_SUBST(HELPDIRDEFINE)\nAC_SUBST(HELPINSTALL)\nAC_SUBST(HELPFILES_TARGET)\nAC_SUBST(HELPSTRINGS)\n\ndnl We want these before the checks, so the checks can modify their values.\nif test -z \"$CFLAGS\"; then\n\twant_auto_cflags=1\nfi\n\necho \"\"\necho \"Beginning configuration for bash-$BASHVERS-$RELSTATUS for ${host_cpu}-${host_vendor}-${host_os}\"\necho \"\"\n\ndnl compilation checks\ndnl AC_PROG_CC sets $cross_compiling to `yes' if cross-compiling for a\ndnl different environment\nAC_PROG_CC\n\nif test -n \"$want_auto_cflags\"; then\n\tAUTO_CFLAGS=\"-g ${GCC:+-O2}\"\n\tAUTO_LDFLAGS=\"-g ${GCC:+-O2}\"\n#\tSTYLE_CFLAGS=\"${GCC:+-Wno-parentheses} ${GCC:+-Wno-format-security} ${GCC:+-Wno-tautological-constant-out-of-range-compare}\"\n\tSTYLE_CFLAGS=\"${GCC:+-Wno-parentheses} ${GCC:+-Wno-format-security}\"\nelse\n\tAUTO_CFLAGS= AUTO_LDFLAGS= STYLE_CFLAGS=\nfi\n\ndnl test for Unix variants\nAC_USE_SYSTEM_EXTENSIONS\nAC_SYS_LARGEFILE\n\ndnl BEGIN changes for cross-building (currently cygwin, minGW, and\ndnl (obsolete) BeOS)\n\nSIGNAMES_O=\nSIGNAMES_H=lsignames.h\n\ndnl load up the cross-building cache file -- add more cases and cache\ndnl files as necessary\n\ndnl Note that host and target machine are the same, and different than the\ndnl build machine.\ndnl Set SIGNAMES_H based on whether or not we're cross-compiling.\n\nCROSS_COMPILE=\nif test \"x$cross_compiling\" = \"xyes\"; then\n    case \"${host}\" in\n    *-cygwin*)\n\tcross_cache=${srcdir}/cross-build/cygwin32.cache\n\t;;\n    *-mingw*)\n\tcross_cache=${srcdir}/cross-build/cygwin32.cache\n\t;;\n    i[[3456]]86-*-beos*)\n\tcross_cache=${srcdir}/cross-build/x86-beos.cache\n\t;;\n    *-qnx*)\n\tcross_cache=${srcdir}/cross-build/qnx.cache\n\t;;\n    *)\techo \"configure: cross-compiling for $host is not supported\" >&2\n\t;;\n    esac\n    if test -n \"${cross_cache}\" && test -r \"${cross_cache}\"; then\n\techo \"loading cross-build cache file ${cross_cache}\"\n\t. ${cross_cache}\n    fi\n    unset cross_cache\n    SIGNAMES_O='signames.o'\n    CROSS_COMPILE='-DCROSS_COMPILING'\n    AC_SUBST(CROSS_COMPILE)\nfi\nAC_SUBST(SIGNAMES_H)\nAC_SUBST(SIGNAMES_O)\n\ndnl END changes for cross-building\n\ndnl default values\nCFLAGS=${CFLAGS-\"$AUTO_CFLAGS\"}\n# LDFLAGS=${LDFLAGS=\"$AUTO_LDFLAGS\"}\t# XXX\n\ndnl handle options that alter how bash is compiled and linked\ndnl these must come after the test for cc/gcc\nif test \"$opt_profiling\" = \"yes\"; then\n\tPROFILE_FLAGS=-pg\n\tcase \"$host_os\" in\n\tsolaris2*|linux*|darwin*)\t;;\n\t*)\t\topt_static_link=yes ;;\n\tesac\n\tDEBUG= MALLOC_DEBUG=\nfi\n\nprefer_shared=yes\nprefer_static=no\n\nif test \"$opt_static_link\" = yes; then\n\tprefer_static=yes\n\tprefer_shared=no\n\t# if we're using gcc, add `-static' to LDFLAGS, except on Solaris >= 2\n\tif test \"$GCC\" = \"yes\"; then\n\t\tSTATIC_LD=\"-static\" \n\t\tcase \"$host_os\" in\n\t\tsolaris2*|linux*)\t;;\n\t\t*)\t\tLDFLAGS=\"$LDFLAGS -static\" ;;\t# XXX experimental\n\t\tesac\n\tfi\nfi\n\n# set the appropriate make variables for building the \"build tools\"\n# modify defaults based on whether or not we are cross compiling, since the\n# options for the target host may not be appropriate for the build host\nif test \"X$cross_compiling\" = \"Xno\"; then\n\tCC_FOR_BUILD=${CC_FOR_BUILD-'$(CC)'}\n\tCPPFLAGS_FOR_BUILD=${CPPFLAGS_FOR_BUILD-\"$CPPFLAGS\"}\t# XXX - should it be '$(CPPFLAGS)'\n\tif test X\"$opt_profiling\" = Xyes; then\n\t\tLDFLAGS_FOR_BUILD=${LDFLAGS_FOR_BUILD-'$(BASE_LDFLAGS)'}\n\telse\n\t\tLDFLAGS_FOR_BUILD=${LDFLAGS_FOR_BUILD-'$(LDFLAGS)'}\n\tfi\n\t# CFLAGS set above to default value if not passed in environment\n\tif test -n \"$want_auto_cflags\" ; then\n\t\tCFLAGS_FOR_BUILD=\"${CFLAGS}\"\n\t\tBASE_CFLAGS_FOR_BUILD=\"${CFLAGS}\"\n\telse\n\t\t# passed in environment\n\t\tCFLAGS_FOR_BUILD=${CFLAGS-'$(CFLAGS)'}\n\t\tBASE_CFLAGS_FOR_BUILD=${CFLAGS-'$(CFLAGS)'}\n\tfi\n\tLIBS_FOR_BUILD=${LIBS_FOR_BUILD-'$(LIBS)'}\nelse\n\tCC_FOR_BUILD=${CC_FOR_BUILD-\"gcc\"}\n\tCPPFLAGS_FOR_BUILD=${CPPFLAGS_FOR_BUILD-\"\"}\n\tLDFLAGS_FOR_BUILD=${LDFLAGS_FOR_BUILD-\"\"}\n\tCFLAGS_FOR_BUILD=${CFLAGS_FOR_BUILD=\"-g\"}\n\tBASE_CFLAGS_FOR_BUILD=${BASE_CFLAGS_FOR_BUILD=\"-g\"}\n\tLIBS_FOR_BUILD=${LIBS_FOR_BUILD-\"\"}\nfi\n\nAC_SUBST(CFLAGS)\nAC_SUBST(CPPFLAGS)\nAC_SUBST(LDFLAGS)\nAC_SUBST(STATIC_LD)\n\nAC_SUBST(CC_FOR_BUILD)\nAC_SUBST(CFLAGS_FOR_BUILD)\nAC_SUBST(BASE_CFLAGS_FOR_BUILD)\nAC_SUBST(STYLE_CFLAGS)\nAC_SUBST(CPPFLAGS_FOR_BUILD)\nAC_SUBST(LDFLAGS_FOR_BUILD)\nAC_SUBST(LIBS_FOR_BUILD)\n\nAC_PROG_GCC_TRADITIONAL\n\ndnl BEGIN READLINE and HISTORY LIBRARY SECTION\ndnl prepare to allow bash to be linked against an already-installed readline\n\ndnl first test that the readline version is new enough to link bash against\nif test \"$opt_readline\" = yes && test \"$opt_with_installed_readline\" != \"no\"\nthen\n\t# If the user specified --with-installed-readline=PREFIX and PREFIX\n\t# is not `yes', set ac_cv_rl_prefix to PREFIX\n\ttest $opt_with_installed_readline != \"yes\" && ac_cv_rl_prefix=$opt_with_installed_readline\n\n\tRL_LIB_READLINE_VERSION\n\n\tcase \"$ac_cv_rl_version\" in\n\t8*|9*)\t;;\n\t*)\topt_with_installed_readline=no \n\t\tAC_MSG_WARN([installed readline library is too old to be linked with bash])\n\t\tAC_MSG_WARN([using private bash version])\n\t\t;;\n\tesac\nfi\n\nTILDE_LIB=-ltilde\nif test $opt_readline = yes; then\n\tAC_DEFINE(READLINE)\n\tif test \"$opt_with_installed_readline\" != \"no\" ; then\n\t\tcase \"$opt_with_installed_readline\" in\n\t\tyes)\tRL_INCLUDE= ;;\n\t\t*)\tcase \"$RL_INCLUDEDIR\" in\n\t\t\t/usr/include)\t;;\n\t\t\t*)\t\tRL_INCLUDE='-I${RL_INCLUDEDIR}' ;;\n\t\t\tesac\n\t\t\t;;\n\t\tesac\n\t\tREADLINE_DEP=\n\t\tREADLINE_LIB=-lreadline\n\t\t# section for OS versions that don't allow unresolved symbols\n\t\t# to be compiled into dynamic libraries.\n\t\tcase \"$host_os\" in\n\t\tcygwin*)\tTILDE_LIB= ;;\n\t\tesac\n\telse\n\t\tRL_LIBDIR='$(dot)/$(LIBSUBDIR)/readline'\n\t\tREADLINE_DEP='$(READLINE_LIBRARY)'\n\t\t# section for OS versions that ship an older/broken version of\n\t\t# readline as a standard dynamic library and don't allow a\n\t\t# static version specified as -llibname to override the\n\t\t# dynamic version\n\t\tcase \"${host_os}\" in\n\t\tdarwin[[89]]*|darwin10*) READLINE_LIB='${READLINE_LIBRARY}' ;;\n\t\t*)\t\tREADLINE_LIB=-lreadline ;;\n\t\tesac\n\tfi\nelse\n\tRL_LIBDIR='$(dot)/$(LIBSUBDIR)/readline'\n\tREADLINE_LIB= READLINE_DEP=\nfi\nif test $opt_history = yes || test $opt_bang_history = yes; then\n\tif test $opt_history = yes; then\n\t\tAC_DEFINE(HISTORY)\n\tfi\n\tif test $opt_bang_history = yes; then\n\t\tAC_DEFINE(BANG_HISTORY)\n\tfi\n \tif test \"$opt_with_installed_readline\" != \"no\"; then\n\t\tHIST_LIBDIR=$RL_LIBDIR\n\t\tHISTORY_DEP=\n\t\tHISTORY_LIB=-lhistory\n\t\tcase \"$opt_with_installed_readline\" in\n\t\tyes)\tRL_INCLUDE= ;;\n\t\t*)\tcase \"$RL_INCLUDEDIR\" in\n\t\t\t/usr/include)\t;;\n\t\t\t*)\t\tRL_INCLUDE='-I${RL_INCLUDEDIR}' ;;\n\t\t\tesac\n\t\t\t;;\n\t\tesac\n\telse\n\t\tHIST_LIBDIR='$(dot)/$(LIBSUBDIR)/readline'\n\t\tHISTORY_DEP='$(HISTORY_LIBRARY)'\n\t\t# section for OS versions that ship an older version of\n\t\t# readline as a standard dynamic library and don't allow a\n\t\t# static version specified as -llibname to override the\n\t\t# dynamic version\n\t\tcase \"${host_os}\" in\n\t\tdarwin[[89]]*|darwin10*) HISTORY_LIB='${HISTORY_LIBRARY}' ;;\n\t\t*)\t\tHISTORY_LIB=-lhistory ;;\n\t\tesac\n\tfi\nelse\n\tHIST_LIBDIR='$(dot)/$(LIBSUBDIR)/readline'\n\tHISTORY_LIB= HISTORY_DEP=\nfi\nAC_SUBST(READLINE_LIB)\nAC_SUBST(READLINE_DEP)\nAC_SUBST(RL_LIBDIR)\nAC_SUBST(RL_INCLUDEDIR)\nAC_SUBST(RL_INCLUDE)\nAC_SUBST(HISTORY_LIB)\nAC_SUBST(HISTORY_DEP)\nAC_SUBST(HIST_LIBDIR)\nAC_SUBST(TILDE_LIB)\n\ndnl END READLINE and HISTORY LIBRARY SECTION\n\ndnl programs needed by the build and install process\nAC_PROG_INSTALL\nAC_CHECK_TOOL(AR, ar)\ndnl Set default for ARFLAGS, since autoconf does not have a macro for it.\ndnl This allows people to set it when running configure or make\ntest -n \"$ARFLAGS\" || ARFLAGS=\"cr\"\nAC_PROG_RANLIB\nAC_PROG_YACC\nAC_PROG_MAKE_SET\n\ncase \"$ac_cv_prog_YACC\" in\n*bison*)\t;;\n*)\tAC_MSG_WARN([bison not available; needed to process parse.y]) ;;\nesac\n\ncase \"$host_os\" in\nopennt*|interix*)\tMAKE_SHELL=\"$INTERIX_ROOT/bin/sh\" ;;\n*)\t\t\tMAKE_SHELL=/bin/sh ;;\nesac\nAC_SUBST(MAKE_SHELL)\n\ndnl this is similar to the expanded AC_PROG_RANLIB\nif test x$SIZE = x; then\n\tif test x$ac_tool_prefix = x; then\n\t\tSIZE=size\n\telse\n\t\tSIZE=${ac_tool_prefix}size\n\t\tsave_IFS=$IFS ; IFS=:\n\t\tsize_found=0\n\t\tfor dir in $PATH; do\n\t\t\tif test -x $dir/$SIZE ; then\n\t\t\t\tsize_found=1\n\t\t\t\tbreak\n\t\t\tfi\n\t\tdone\n\t\tif test $size_found -eq 0; then\n\t\t\tSIZE=:\n\t\tfi\n\t\tIFS=$save_IFS\n\tfi\nfi\nAC_SUBST(SIZE)\n\nm4_include([m4/stat-time.m4])\nm4_include([m4/timespec.m4])\n\nm4_include([m4/strtoimax.m4])\n\ndnl include files for gettext\n\nm4_include([m4/codeset.m4])\nm4_include([m4/extern-inline.m4])\nm4_include([m4/fcntl-o.m4])\nm4_include([m4/gettext.m4])\nm4_include([m4/glibc2.m4])\nm4_include([m4/glibc21.m4])\nm4_include([m4/host-cpu-c-abi.m4])\nm4_include([m4/iconv.m4])\nm4_include([m4/intdiv0.m4])\nm4_include([m4/intl.m4])\nm4_include([m4/intlmacosx.m4])\nm4_include([m4/intl-thread-locale.m4])\nm4_include([m4/intmax.m4])\nm4_include([m4/inttypes-pri.m4])\nm4_include([m4/inttypes.m4])\nm4_include([m4/inttypes_h.m4])\nm4_include([m4/lcmessage.m4])\nm4_include([m4/lib-ld.m4])\nm4_include([m4/lib-link.m4])\nm4_include([m4/lib-prefix.m4])\nm4_include([m4/lock.m4])\nm4_include([m4/nls.m4])\nm4_include([m4/po.m4])\nm4_include([m4/printf-posix.m4])\nm4_include([m4/progtest.m4])\nm4_include([m4/pthread_rwlock_rdlock.m4])\nm4_include([m4/size_max.m4])\nm4_include([m4/stdint_h.m4])\nm4_include([m4/threadlib.m4])\nm4_include([m4/uintmax_t.m4])\nm4_include([m4/ulonglong.m4])\nm4_include([m4/visibility.m4])\nm4_include([m4/wchar_t.m4])\nm4_include([m4/wint_t.m4])\nm4_include([m4/xsize.m4])\n\ndnl C compiler characteristics\nAC_C_CONST\nAC_C_INLINE\nAC_C_BIGENDIAN\nAC_C_STRINGIZE\nAC_TYPE_LONG_DOUBLE\nAC_C_PROTOTYPES\nAC_C_CHAR_UNSIGNED\nAC_C_VOLATILE\nAC_C_RESTRICT\n\ndnl initialize GNU gettext\nBASH_GNU_GETTEXT([no-libtool], [need-ngettext], [lib/intl])\n\ndnl header files\nAC_HEADER_DIRENT\nAC_HEADER_MAJOR\n\nBASH_HEADER_INTTYPES\n\nAC_CHECK_HEADERS(unistd.h stdlib.h stdarg.h varargs.h limits.h string.h \\\n\t\t memory.h locale.h termcap.h termio.h termios.h dlfcn.h \\\n\t\t stdbool.h stddef.h stdint.h netdb.h pwd.h grp.h strings.h \\\n\t\t regex.h syslog.h ulimit.h)\nAC_CHECK_HEADERS(sys/pte.h sys/stream.h sys/select.h sys/file.h sys/ioctl.h \\\n\t\t sys/mman.h sys/param.h sys/random.h sys/socket.h sys/stat.h \\\n\t\t sys/time.h sys/times.h sys/types.h sys/wait.h)\nAC_CHECK_HEADERS(netinet/in.h arpa/inet.h)\n\ndnl sys/ptem.h requires definitions from sys/stream.h on systems where it\ndnl exists\nAC_CHECK_HEADER(sys/ptem.h, , ,[[\n#if HAVE_SYS_STREAM_H\n#  include <sys/stream.h>\n#endif\n]])\n\ndnl SunOS 4 needs to include <sys/time.h> before <sys/resource.h> to compile\ndnl autoconf complains about presence but inability to compile\nAC_CHECK_HEADER(sys/resource.h, AC_DEFINE(HAVE_SYS_RESOURCE_H), [], [[\n#if HAVE_SYS_TIME_H\n#  include <sys/time.h>\n#endif\n]])\n\ndnl special checks for libc functions\nAC_FUNC_ALLOCA\nAC_FUNC_CHOWN\nAC_FUNC_GETPGRP\nAC_FUNC_VPRINTF\nAC_FUNC_STRCOLL\n\ndnl if we're not using the bash malloc but require the C alloca, set things\ndnl up to build a libmalloc.a containing only alloca.o\n\nif test \"$ac_cv_func_alloca_works\" = \"no\" && test \"$opt_bash_malloc\" = \"no\"; then\n\tMALLOC_TARGET=alloca\n\tMALLOC_SRC=alloca.c\n\n\tMALLOC_LIB='-lmalloc'\n\tMALLOC_LIBRARY='$(ALLOC_LIBDIR)/libmalloc.a'\n\tMALLOC_LDFLAGS='-L$(ALLOC_LIBDIR)'\n\tMALLOC_DEP='$(MALLOC_LIBRARY)'\nfi\n\ndnl if vprintf is not in libc, see if it's defined in stdio.h\nif test \"$ac_cv_func_vprintf\" = no; then\n    AC_MSG_CHECKING(for declaration of vprintf in stdio.h)\n    AC_EGREP_HEADER([[int[ \t]*vprintf[^a-zA-Z0-9]]],stdio.h,ac_cv_func_vprintf=yes)\n    AC_MSG_RESULT($ac_cv_func_vprintf)\n    if test $ac_cv_func_vprintf = yes; then\n\tAC_DEFINE(HAVE_VPRINTF)\n    fi\nfi\n\nif test \"$ac_cv_func_vprintf\" = no && test \"$ac_cv_func__doprnt\" = \"yes\"; then\n  AC_LIBOBJ(vprint)\nfi\n\ndnl checks for certain version-specific system calls and libc functions\nAC_CHECK_FUNC(__setostype, AC_DEFINE(HAVE_SETOSTYPE))\nAC_CHECK_FUNC(wait3, AC_DEFINE(HAVE_WAIT3))\n\ndnl checks for missing libc functions\nAC_CHECK_FUNC(mkfifo, AC_DEFINE(HAVE_MKFIFO), AC_DEFINE(MKFIFO_MISSING))\n\ndnl checks for system calls\nAC_CHECK_FUNCS(dup2 eaccess fcntl getdtablesize getentropy getgroups \\\n\t\tgethostname getpagesize getpeername getrandom getrlimit \\\n\t\tgetrusage gettimeofday kill killpg lstat pselect readlink \\\n\t\tselect setdtablesize setitimer tcgetpgrp uname ulimit waitpid)\nAC_REPLACE_FUNCS(rename)\n\ndnl checks for c library functions\nAC_CHECK_FUNCS(bcopy bzero confstr faccessat fnmatch \\\n\t\tgetaddrinfo gethostbyname getservbyname getservent inet_aton \\\n\t\timaxdiv memmove pathconf putenv raise random regcomp regexec \\\n\t\tsetenv setlinebuf setlocale setvbuf siginterrupt strchr \\\n\t\tsysconf syslog tcgetattr times ttyname tzset unsetenv)\n\nAC_CHECK_FUNCS(vasprintf asprintf)\nAC_CHECK_FUNCS(isascii isblank isgraph isprint isspace isxdigit)\nAC_CHECK_FUNCS(getpwent getpwnam getpwuid)\nAC_CHECK_FUNCS(mkstemp mkdtemp)\nAC_CHECK_FUNCS(arc4random)\n\nAC_REPLACE_FUNCS(getcwd memset)\nAC_REPLACE_FUNCS(strcasecmp strcasestr strerror strftime strnlen strpbrk strstr)\nAC_REPLACE_FUNCS(strtod strtol strtoul strtoll strtoull strtoumax)\nAC_REPLACE_FUNCS(dprintf)\nAC_REPLACE_FUNCS(strchrnul)\nAC_REPLACE_FUNCS(strdup)\n\nAC_CHECK_HEADERS(libaudit.h)\nAC_CHECK_DECLS([AUDIT_USER_TTY],,, [[#include <linux/audit.h>]])\n\nAC_CHECK_DECLS([confstr])\nAC_CHECK_DECLS([printf])\nAC_CHECK_DECLS([sbrk])\nAC_CHECK_DECLS([setregid])\nAC_CHECK_DECLS([strcpy])\nAC_CHECK_DECLS([strsignal])\n\nAC_CHECK_FUNCS(setresuid setresgid)\n\ndnl Extra test to detect the horribly broken HP/UX 11.00 strtold(3)\nAC_CHECK_DECLS([strtold], [\n    AC_MSG_CHECKING([for broken strtold])\n    AC_CACHE_VAL(bash_cv_strtold_broken,\n\t[AC_COMPILE_IFELSE(\n\t\t[AC_LANG_PROGRAM(\n\t\t[[#include <stdlib.h>]],\n\t\t[[long double r; char *foo, bar; r = strtold(foo, &bar);]]\n\t)],\n\t[bash_cv_strtold_broken=no],[bash_cv_strtold_broken=yes])\n        ]\n    )\n    AC_MSG_RESULT($bash_cv_strtold_broken)\n    if test \"$bash_cv_strtold_broken\" = \"yes\" ; then\n\tAC_DEFINE(STRTOLD_BROKEN)\n    fi\n])\n\nAC_CHECK_DECLS(strtol)\nAC_CHECK_DECLS(strtoll)\nAC_CHECK_DECLS(strtoul)\nAC_CHECK_DECLS(strtoull)\nAC_CHECK_DECLS(strtoumax)\n\nAC_FUNC_MKTIME\n\ndnl\ndnl Checks for lib/intl and related code (uses some of the output from\ndnl BASH_GNU_GETTEXT)\ndnl\n\nAC_CHECK_HEADERS([argz.h errno.h fcntl.h malloc.h stdio_ext.h])\n\ndnl AC_FUNC_MALLOC\nAC_FUNC_MMAP\nAC_CHECK_FUNCS([__argz_count __argz_next __argz_stringify dcgettext mempcpy \\\n\t\tmunmap mremap stpcpy strcspn])\n\nINTL_DEP= INTL_INC= LIBINTL_H=\nif test \"x$USE_INCLUDED_LIBINTL\" = \"xyes\"; then\n\tINTL_DEP='${INTL_LIBDIR}/libintl.a'\n\tINTL_INC='-I${INTL_LIBSRC} -I${INTL_BUILDDIR}'\n\tLIBINTL_H='${INTL_BUILDDIR}/libintl.h'\nfi\nAC_SUBST(INTL_DEP)\nAC_SUBST(INTL_INC)\nAC_SUBST(LIBINTL_H)\n\ndnl\ndnl End of checks needed by files in lib/intl\ndnl\n\nBASH_CHECK_MULTIBYTE\n\ndnl checks for the dynamic loading library functions in libc and libdl\nif test \"$opt_static_link\" != yes; then\nAC_CHECK_LIB(dl, dlopen)\nAC_CHECK_FUNCS(dlopen dlclose dlsym)\nfi\n\ndnl network functions -- check for inet_aton again\nif test \"$ac_cv_func_inet_aton\" != 'yes'; then\nBASH_FUNC_INET_ATON\nfi\n\ndnl libraries\ndnl this is reportedly no longer necessary for irix[56].?\ncase \"$host_os\" in\nirix4*)\tAC_CHECK_LIB(sun, getpwent) ;;\nesac\n\ndnl check for getpeername in the socket library only if it's not in libc\nif test \"$ac_cv_func_getpeername\" = no; then\n\tBASH_CHECK_LIB_SOCKET\nfi\ndnl check for gethostbyname in socket libraries if it's not in libc\nif test \"$ac_cv_func_gethostbyname\" = no; then\n\tBASH_FUNC_GETHOSTBYNAME\nfi\n\ndnl system types\nAC_TYPE_GETGROUPS\nAC_TYPE_OFF_T\nAC_TYPE_MODE_T\nAC_TYPE_UID_T\nAC_TYPE_PID_T\nAC_TYPE_SIZE_T\nAC_TYPE_UINTPTR_T\n\nAC_CHECK_TYPE(ssize_t, int)\nAC_CHECK_TYPE(time_t, long)\n\nAC_TYPE_LONG_LONG_INT\nAC_TYPE_UNSIGNED_LONG_LONG_INT\n\nBASH_TYPE_SIG_ATOMIC_T\n\nAC_CHECK_SIZEOF(char, 1)\nAC_CHECK_SIZEOF(short, 2)\nAC_CHECK_SIZEOF(int, 4)\nAC_CHECK_SIZEOF(long, 4)\nAC_CHECK_SIZEOF(char *, 4)\nAC_CHECK_SIZEOF(size_t, 4)\nAC_CHECK_SIZEOF(double, 8)\nAC_CHECK_SIZEOF([long long], 8)\n\nAC_CHECK_TYPE(u_int, [unsigned int])\nAC_CHECK_TYPE(u_long, [unsigned long])\n\nBASH_TYPE_BITS16_T\nBASH_TYPE_U_BITS16_T\nBASH_TYPE_BITS32_T\nBASH_TYPE_U_BITS32_T\nBASH_TYPE_BITS64_T\n\nBASH_TYPE_PTRDIFF_T\n\ndnl structures\nAC_HEADER_STAT\n\ndnl system services\nAC_SYS_INTERPRETER\nif test $ac_cv_sys_interpreter = yes; then\nAC_DEFINE(HAVE_HASH_BANG_EXEC)\nfi\n\ndnl Miscellaneous Bash tests\nif test \"$ac_cv_func_lstat\" = \"no\"; then\nBASH_FUNC_LSTAT\nfi\n\ndnl behavior of system calls and library functions\nBASH_FUNC_DUP2_CLOEXEC_CHECK\nBASH_SYS_PGRP_SYNC\nBASH_SYS_SIGNAL_VINTAGE\n\ndnl checking for the presence of certain library symbols\nBASH_SYS_ERRLIST\nBASH_SYS_SIGLIST\nBASH_UNDER_SYS_SIGLIST\n\ndnl various system types\nBASH_CHECK_TYPE(clock_t, [#include <sys/times.h>], long)\nBASH_CHECK_TYPE(sigset_t, [#include <signal.h>], int)\nif test \"$ac_cv_header_sys_socket_h\" = \"yes\"; then\nBASH_CHECK_TYPE(socklen_t, [#include <sys/socket.h>], [unsigned int], HAVE_SOCKLEN_T)\nfi\n\nAC_CHECK_TYPE(quad_t, AC_DEFINE([HAVE_QUAD_T], [1]), [], )\nBASH_TYPE_RLIMIT\n\nAC_TYPE_INTMAX_T\nAC_TYPE_UINTMAX_T\n\nAC_CHECK_SIZEOF(intmax_t, 8)\n\ndnl presence and contents of structures used by system calls\nBASH_STRUCT_TERMIOS_LDISC\nBASH_STRUCT_TERMIO_LDISC\nBASH_STRUCT_DIRENT_D_INO\nBASH_STRUCT_DIRENT_D_FILENO\nBASH_STRUCT_DIRENT_D_NAMLEN\nBASH_STRUCT_WINSIZE\nBASH_STRUCT_TIMEVAL\nAC_CHECK_MEMBERS([struct stat.st_blocks])\nAC_STRUCT_TM\nAC_STRUCT_TIMEZONE\nBASH_STRUCT_TIMEZONE\n\nBASH_STRUCT_WEXITSTATUS_OFFSET\n\nBASH_CHECK_TYPE_STRUCT_TIMESPEC\nBASH_STAT_TIME\n\ndnl checks for system calls\nBASH_FUNC_SBRK\n\ndnl presence and behavior of C library functions\nBASH_FUNC_STRSIGNAL\nBASH_FUNC_OPENDIR_CHECK\nBASH_FUNC_ULIMIT_MAXFDS\nBASH_FUNC_FPURGE\nBASH_FUNC_GETENV\nif test \"$ac_cv_func_getcwd\" = \"yes\"; then\nBASH_FUNC_GETCWD\nfi\nBASH_FUNC_POSIX_SETJMP\nBASH_FUNC_STRCOLL\nBASH_FUNC_SNPRINTF\nBASH_FUNC_VSNPRINTF\n\nBASH_FUNC_STRTOIMAX\n\ndnl If putenv or unsetenv is not present, set the right define so the\ndnl prototype and declaration in lib/sh/getenv.c will be standard-conformant\n\nif test \"$ac_cv_func_putenv\" = \"yes\"; then\nBASH_FUNC_STD_PUTENV\nelse\nAC_DEFINE(HAVE_STD_PUTENV)\nfi\nif test \"$ac_cv_func_unsetenv\" = \"yes\"; then\nBASH_FUNC_STD_UNSETENV\nelse\nAC_DEFINE(HAVE_STD_UNSETENV)\nfi\n\nBASH_FUNC_PRINTF_A_FORMAT\n\nBASH_FUNC_FNMATCH_EQUIV_FALLBACK\n\ndnl presence and behavior of OS functions\nBASH_SYS_REINSTALL_SIGHANDLERS\nBASH_SYS_JOB_CONTROL_MISSING\nBASH_SYS_NAMED_PIPES\n\ndnl presence of certain CPP defines\nAC_HEADER_TIOCGWINSZ\nBASH_HAVE_TIOCSTAT\nBASH_HAVE_FIONREAD\n\nBASH_CHECK_WCONTINUED\n\ndnl miscellaneous\nBASH_CHECK_SPEED_T\nBASH_CHECK_GETPW_FUNCS\nBASH_CHECK_RTSIGS\nBASH_CHECK_SYS_SIGLIST\n\ndnl special checks\ncase \"$host_os\" in\nhpux*)\tBASH_CHECK_KERNEL_RLIMIT ;;\nesac\n\nif test \"$opt_readline\" = yes; then\ndnl yuck\ncase \"$host_os\" in\naix*)\tprefer_curses=yes ;;\nesac\nBASH_CHECK_LIB_TERMCAP\nfi\nAC_SUBST(TERMCAP_LIB)\nAC_SUBST(TERMCAP_DEP)\n\nBASH_CHECK_DEV_FD\nBASH_CHECK_DEV_STDIN\nBASH_SYS_DEFAULT_MAIL_DIR\n\nif test \"$bash_cv_job_control_missing\" = missing; then\n\topt_job_control=no\nfi\n\nif test \"$opt_job_control\" = yes; then\nAC_DEFINE(JOB_CONTROL)\nJOBS_O=jobs.o\nelse\nJOBS_O=nojobs.o\nfi\n\nAC_SUBST(JOBS_O)\n\ndnl Defines that we want to propagate to the Makefiles in subdirectories,\ndnl like glob and readline\n\nLOCAL_DEFS=-DSHELL\n\ndnl use this section to possibly define more cpp variables, specify local\ndnl libraries, and specify any additional local cc or ld flags\ndnl\ndnl most of these are really old; this should really go away someday\n\ncase \"${host_os}\" in\nsysv4.2*)\tAC_DEFINE(SVR4_2)\n\t\tAC_DEFINE(SVR4) ;;\nsysv4*)\t\tAC_DEFINE(SVR4) ;;\nsysv5*)\t\tAC_DEFINE(SVR5) ;;\nhpux9*)\t\tLOCAL_CFLAGS=\"-DHPUX9 -DHPUX -DTGETENT_BROKEN -DTGETFLAG_BROKEN\" ;;\nhpux*)\t\tLOCAL_CFLAGS=\"-DHPUX -DTGETENT_BROKEN -DTGETFLAG_BROKEN\" ;;\ndgux*)\t\tLOCAL_CFLAGS=-D_DGUX_SOURCE; LOCAL_LIBS=-ldgc ;;\nisc*)\t\tLOCAL_CFLAGS=-Disc386 ;;\nrhapsody*)\tLOCAL_CFLAGS=-DRHAPSODY ;;\ndarwin*)\tLOCAL_CFLAGS=-DMACOSX ;;\nsco3.2v5*)\tLOCAL_CFLAGS=\"-b elf -DWAITPID_BROKEN -DPATH_MAX=1024\" ;;\nsco3.2v4*)\tLOCAL_CFLAGS=\"-DMUST_UNBLOCK_CHLD -DPATH_MAX=1024\" ;;\nsco3.2*)\tLOCAL_CFLAGS=-DMUST_UNBLOCK_CHLD ;;\nsunos4*)\tLOCAL_CFLAGS=-DSunOS4 ;;\nsolaris2.5*)\tLOCAL_CFLAGS=\"-DSunOS5 -DSOLARIS\" ;;\nsolaris2.8*)\tLOCAL_CFLAGS=-DSOLARIS  ;;\nsolaris2.9*)\tLOCAL_CFLAGS=-DSOLARIS  ;;\nsolaris2.10*)\tLOCAL_CFLAGS=-DSOLARIS  ;;\nsolaris2*)\tLOCAL_CFLAGS=-DSOLARIS ;;\nlynxos*)\tLOCAL_CFLAGS=-DRECYCLES_PIDS ;;\nlinux*)\t\tLOCAL_LDFLAGS=-rdynamic\t\t # allow dynamic loading\n\t\tcase \"`uname -r`\" in\n\t\t1.*|2.[[0123]]*)\t: ;;\n\t\t*)\tAC_DEFINE(PGRP_PIPE) ;;\n\t\tesac ;;\nnetbsd*|openbsd*)\tLOCAL_CFLAGS=\"-DDEV_FD_STAT_BROKEN\" ;;\nfreebsd*|midnightbsd*)\tLOCAL_CFLAGS='-DHEREDOC_PIPESIZE=4096' ;;\n*qnx[[67]]*)\tLOCAL_LIBS=\"-lncurses\" ;;\n*qnx*)\t\tLOCAL_CFLAGS=\"-Dqnx -F -3s\" LOCAL_LDFLAGS=\"-3s\" LOCAL_LIBS=\"-lunix -lncurses\" ;;\npowerux*)\tLOCAL_LIBS=\"-lgen\" ;;\ncygwin*)\tLOCAL_CFLAGS=-DRECYCLES_PIDS ;;\nopennt*|interix*) LOCAL_CFLAGS=\"-DNO_MAIN_ENV_ARG -DBROKEN_DIRENT_D_INO -D_POSIX_SOURCE -D_ALL_SOURCE -DRECYCLES_PIDS\" ;;\n*openstep*)\tLOCAL_CFLAGS=\"-D__APPLE_CC__\" ;;\nesac\n\ndnl Stanza for OS/compiler pair-specific flags\ncase \"${host_os}-${CC}\" in\naix4.2*-*gcc*)\tLOCAL_LDFLAGS=\"-Xlinker -bexpall -Xlinker -brtl\" ;;\naix4.2*)\tLOCAL_LDFLAGS=\"-bexpall -brtl\" ;;\nbsdi4*-*gcc*)\tLOCAL_LDFLAGS=\"-rdynamic\" ;;\t# allow dynamic loading, like Linux\nbsdi5*-*gcc*)\tLOCAL_LDFLAGS=\"-rdynamic\" ;;\t# allow dynamic loading, like Linux\nhpux11*-gcc*)\tLOCAL_LDFLAGS=\"-Wl,-E\" ;;\t# allow dynamic loading\nesac\n\ndnl FreeBSD-3.x can have either a.out or ELF\ncase \"${host_os}\" in\nfreebsd[[3-9]]*)\n\t\tif test -x /usr/bin/objformat && test \"`/usr/bin/objformat`\" = \"elf\" ; then\n\t\t\tLOCAL_LDFLAGS=-rdynamic # allow dynamic loading\n\t\tfi ;;\nfreebsdelf*)\tLOCAL_LDFLAGS=-rdynamic ;;\t# allow dynamic loading\ndragonfly*)\tLOCAL_LDFLAGS=-rdynamic ;;\t# allow dynamic loading\nmidnightbsd*)\tLOCAL_LDFLAGS=-rdynamic ;;\t# allow dynamic loading\nesac\n\ncase \"$host_cpu\" in\n*cray*)\t\tLOCAL_CFLAGS=\"-DCRAY\" ;; # shell var so config.h can use it\nesac\n\ncase \"$host_cpu-$host_os\" in\nibmrt-*bsd4*)\tLOCAL_CFLAGS=\"-ma -U__STDC__\" ;;\nesac\n\ncase \"$host_cpu-$host_vendor-$host_os\" in\nm88k-motorola-sysv3)\tLOCAL_CFLAGS=-DWAITPID_BROKEN ;;\nmips-pyramid-sysv4)\tLOCAL_CFLAGS=-Xa ;;\nesac\n\n# turn off paren warnings in gcc\n#CFLAGS=\"$CFLAGS ${STYLE_CFLAGS}\"\n\n#\n# Shared object configuration section.  These values are generated by\n# ${srcdir}/support/shobj-conf\n#\nif test \"$ac_cv_func_dlopen\" = \"yes\" && test -f ${srcdir}/support/shobj-conf\nthen\n\tAC_MSG_CHECKING(shared object configuration for loadable builtins)\n\teval `${CONFIG_SHELL-/bin/sh} ${srcdir}/support/shobj-conf -C \"${CC}\" -c \"${host_cpu}\" -o \"${host_os}\" -v \"${host_vendor}\"`\n\tAC_SUBST(SHOBJ_CC)\n\tAC_SUBST(SHOBJ_CFLAGS)\n\tAC_SUBST(SHOBJ_LD)\n\tAC_SUBST(SHOBJ_LDFLAGS)\n\tAC_SUBST(SHOBJ_XLDFLAGS)\n\tAC_SUBST(SHOBJ_LIBS)\n\tAC_SUBST(SHOBJ_STATUS)\n\tAC_MSG_RESULT($SHOBJ_STATUS)\nelse\n\tSHOBJ_STATUS=unsupported\n\tAC_SUBST(SHOBJ_STATUS)\nfi\n\n# try to create a directory tree if the source is elsewhere\n# this should be packaged into a script accessible via ${srcdir}/support\ncase \"$srcdir\" in\n.)\t;;\n*)\tfor d in doc tests support lib examples; do\t# dirs\n\t\ttest -d $d || mkdir $d\n\tdone\n\tfor ld in readline glob tilde malloc sh termcap; do\t# libdirs\n\t\ttest -d lib/$ld || mkdir lib/$ld\n\tdone\n\ttest -d examples/loadables || mkdir examples/loadables\t# loadable builtins\n\ttest -d examples/loadables/perl || mkdir examples/loadables/perl\n\t;;\nesac\n\nBUILD_DIR=`pwd`\ncase \"$BUILD_DIR\" in\n*\\ *)\tBUILD_DIR=`echo \"$BUILD_DIR\" | sed 's: :\\\\\\\\ :g'` ;;\n*)\t;;\nesac\n\nif test -z \"$localedir\"; then\n\tlocaledir='${datarootdir}/locale'\nfi\nif test -z \"$datarootdir\"; then\n\tdatarootdir='${prefix}/share'\nfi\n\nAC_SUBST(PROFILE_FLAGS)\n\nAC_SUBST(incdir)\nAC_SUBST(BUILD_DIR)\n\n# Some versions of autoconf don't substitute these automatically\nAC_SUBST(datarootdir)\nAC_SUBST(localedir)\n\n# directory where we install dynamically loadable builtins\nif test -z \"$loadablesdir\"; then\n\tloadablesdir='${libdir}/bash'\nfi\nAC_SUBST(loadablesdir)\nif test -z \"$headersdir\"; then\n\theadersdir='$(includedir)/$(PACKAGE_NAME)'\nfi\nAC_SUBST(headersdir)\n\nAC_SUBST(YACC)\nAC_SUBST(AR)\nAC_SUBST(ARFLAGS)\n\nAC_SUBST(BASHVERS)\nAC_SUBST(RELSTATUS)\nAC_SUBST(DEBUG)\nAC_SUBST(MALLOC_DEBUG)\n\nAC_SUBST(host_cpu)\nAC_SUBST(host_vendor)\nAC_SUBST(host_os)\n\nAC_SUBST(LOCAL_LIBS)\nAC_SUBST(LOCAL_CFLAGS)\nAC_SUBST(LOCAL_LDFLAGS)\nAC_SUBST(LOCAL_DEFS)\n\n#AC_SUBST(ALLOCA_SOURCE)\n#AC_SUBST(ALLOCA_OBJECT)\n\nAC_CONFIG_FILES([Makefile builtins/Makefile lib/readline/Makefile \\\n\t\t lib/glob/Makefile lib/intl/Makefile \\\n\t\t lib/malloc/Makefile lib/sh/Makefile lib/termcap/Makefile \\\n\t\t lib/tilde/Makefile doc/Makefile support/Makefile \\\n\t\t po/Makefile.in examples/loadables/Makefile \\\n\t\t examples/loadables/Makefile.inc \\\n\t\t examples/loadables/Makefile.sample \\\n\t\t examples/loadables/perl/Makefile \\\n\t\t support/bash.pc support/bashbug.sh])\n\ndnl Makefile uses this timestamp file to record whether config.h is up to date.\nAC_CONFIG_COMMANDS([stamp-h], [echo timestamp > stamp-h])\n\nAC_OUTPUT\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}