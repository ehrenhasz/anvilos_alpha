{
  "module_name": "log.c",
  "hash_id": "9fd7fba17c67ecee92fb82de2be67b1d11c691ea3d3764ae2080d3cab9ea5458",
  "original_prompt": "Ingested from bash-5.2.21/lib/intl/log.c",
  "human_readable_source": " \n\n \n\n \n\n#ifdef HAVE_CONFIG_H\n# include <config.h>\n#endif\n\n#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\n \nstatic void\nprint_escaped (stream, str)\n     FILE *stream;\n     const char *str;\n{\n  putc ('\"', stream);\n  for (; *str != '\\0'; str++)\n    if (*str == '\\n')\n      {\n\tfputs (\"\\\\n\\\"\", stream);\n\tif (str[1] == '\\0')\n\t  return;\n\tfputs (\"\\n\\\"\", stream);\n      }\n    else\n      {\n\tif (*str == '\"' || *str == '\\\\')\n\t  putc ('\\\\', stream);\n\tputc (*str, stream);\n      }\n  putc ('\"', stream);\n}\n\n \nvoid\n_nl_log_untranslated (logfilename, domainname, msgid1, msgid2, plural)\n     const char *logfilename;\n     const char *domainname;\n     const char *msgid1;\n     const char *msgid2;\n     int plural;\n{\n  static char *last_logfilename = NULL;\n  static FILE *last_logfile = NULL;\n  FILE *logfile;\n\n   \n  if (last_logfilename == NULL || strcmp (logfilename, last_logfilename) != 0)\n    {\n       \n      if (last_logfilename != NULL)\n\t{\n\t  if (last_logfile != NULL)\n\t    {\n\t      fclose (last_logfile);\n\t      last_logfile = NULL;\n\t    }\n\t  free (last_logfilename);\n\t  last_logfilename = NULL;\n\t}\n       \n      last_logfilename = (char *) malloc (strlen (logfilename) + 1);\n      if (last_logfilename == NULL)\n\treturn;\n      strcpy (last_logfilename, logfilename);\n      last_logfile = fopen (logfilename, \"a\");\n      if (last_logfile == NULL)\n\treturn;\n    }\n  logfile = last_logfile;\n\n  fprintf (logfile, \"domain \");\n  print_escaped (logfile, domainname);\n  fprintf (logfile, \"\\nmsgid \");\n  print_escaped (logfile, msgid1);\n  if (plural)\n    {\n      fprintf (logfile, \"\\nmsgid_plural \");\n      print_escaped (logfile, msgid2);\n      fprintf (logfile, \"\\nmsgstr[0] \\\"\\\"\\n\");\n    }\n  else\n    fprintf (logfile, \"\\nmsgstr \\\"\\\"\\n\");\n  putc ('\\n', logfile);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}