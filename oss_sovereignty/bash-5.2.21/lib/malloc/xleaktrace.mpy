{
  "module_name": "xleaktrace",
  "hash_id": "8171f3c2dd11f819d5fed36516394c76df4e1c1ad21886ec09d7b3008e351be0",
  "original_prompt": "Ingested from bash-5.2.21/lib/malloc/xleaktrace",
  "human_readable_source": "#! /usr/bin/awk -f\n#\n# xleaktrace - print unfreed memory using input generated by compact malloc\n#\t       tracing (malloc_set_trace(1))\n#\n# NOTE: we ignore `realloc' tags because they're just extra information\n#\n# Copyright (c) 2001 Chester Ramey\n# Permission is hereby granted to deal in this Software without restriction.\n# THIS SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND.\n#\n# Chet Ramey\n# chet@po.cwru.edu\n#\nBEGIN {\n\tFS=\":\";\n}\n\n$1 == \"alloc\"\t{\n\t\t\talloc[$2] = 1;\n\n\t\t\tsize[$2] = $3;\n\t\t\tfile[$2] = $4;\n\t\t\tline[$2] = $5;\n\n#\t\t\tprintf \"allocated: %s %d %d %s %d\\n\", $2, alloc[$2], size[$2], file[$2], line[$2];\n\t\t}\n\n$1 == \"free\"\t{\n\t\t\tif ($2 in alloc) {\n\t\t\t\talloc[$2] = 0;\n#\t\t\t\tprintf \"freed: %s %d\\n\", $2, alloc[$2];\n\t\t\t} else\n\t\t\t\tprintf \"freeing unallocated pointer: %s\\n\", $2;\n\t\t\t\t\n\t\t}\n\nEND {\n\tprintf \"unfreed memory\\n\";\n\tfor (ptr in alloc) {\n\t\tif (alloc[ptr] == 1) {\n\t\t\tprintf \"%s (%d) from %s:%d\\n\", ptr, size[ptr], file[ptr], line[ptr];\n\t\t}\n\t}\n}\n\t\n\t\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}