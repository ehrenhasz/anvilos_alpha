{
  "module_name": "imalloc.h",
  "hash_id": "a3aba1436e58e0c0fb506fc73eb712abd5ed0910a63ce03b0ef14e2abde00aff",
  "original_prompt": "Ingested from bash-5.2.21/lib/malloc/imalloc.h",
  "human_readable_source": " \n\n \n\n \n\n#ifndef _IMALLOC_H\n#define _IMALLOC_H\n\n#ifdef MALLOC_DEBUG\n#define MALLOC_STATS\n#define MALLOC_TRACE\n#define MALLOC_REGISTER\n#define MALLOC_WATCH\n#endif\n\n#define MALLOC_WRAPFUNCS\n\n \n#define USE_LESSCORE\n\n \n#ifndef PTR_T\n#  if defined (__STDC__)\n#    define PTR_T void *\n#  else\n#    define PTR_T char *\n#  endif\n#endif\n\n#if !defined (NULL)\n#  define NULL 0\n#endif\n\n#if !defined (CPP_STRING)\n#  if defined (HAVE_STRINGIZE)\n#    define CPP_STRING(x) #x\n#  else\n#    define CPP_STRING(x) \"x\"\n#  endif  \n#endif  \n\n#if __GNUC__ > 1\n#  define FASTCOPY(s, d, n)  __builtin_memcpy (d, s, n)\n#else  \n#  if !defined (HAVE_BCOPY)\n#    if !defined (HAVE_MEMMOVE)\n#      define FASTCOPY(s, d, n)  memcpy (d, s, n)\n#    else\n#      define FASTCOPY(s, d, n)  memmove (d, s, n)\n#    endif  \n#  else  \n#    define FASTCOPY(s, d, n)  bcopy (s, d, n)\n#  endif  \n#endif  \n\n#if !defined (PARAMS)\n#  if defined (__STDC__) || defined (__GNUC__) || defined (__cplusplus) || defined (PROTOTYPES)\n#    define PARAMS(protos) protos\n#  else \n#    define PARAMS(protos) ()\n#  endif\n#endif\n\n \n\n#define MALLOC_BZERO(charp, nbytes)\t\t\t\t\t\\\ndo {\t\t\t\t\t\t\t\t\t\\\n  if ((nbytes) <= 32) {\t\t\t\t\t\t\t\\\n    size_t * mzp = (size_t *)(charp);\t\t\t\t\t\\\n    unsigned long mctmp = (nbytes)/sizeof(size_t);\t\t\t\\\n    long mcn;\t\t\t\t\t\t\t\t\\\n    if (mctmp < 8) mcn = 0; else { mcn = (mctmp-1)/8; mctmp &= 7; }\t\\\n    switch (mctmp) {\t\t\t\t\t\t\t\\\n      case 0: for(;;) { *mzp++ = 0;\t\t\t\t\t\\\n      case 7:\t   *mzp++ = 0;\t\t\t\t\t\t\\\n      case 6:\t   *mzp++ = 0;\t\t\t\t\t\t\\\n      case 5:\t   *mzp++ = 0;\t\t\t\t\t\t\\\n      case 4:\t   *mzp++ = 0;\t\t\t\t\t\t\\\n      case 3:\t   *mzp++ = 0;\t\t\t\t\t\t\\\n      case 2:\t   *mzp++ = 0;\t\t\t\t\t\t\\\n      case 1:\t   *mzp++ = 0; if(mcn <= 0) break; mcn--; }\t\t\\\n    }\t\t\t\t\t\t\t\t\t\\\n  else\t\t\t\t\t\t\t\t\t\\\n    memset ((charp), 0, (nbytes));\t\t\t\t\t\\\n} while(0)\n\n#define MALLOC_ZERO(charp, nbytes) \\\ndo { \t\t\t\t\t\t\t\t\\\n  size_t mzsz = (nbytes);\t\t\t\t\t\\\n  if (mzsz <= 9 * sizeof(mzsz) {\t\t\t\t\\\n    size_t *mz = (size_t *)(charp);\t\t\t\t\\\n    if(mzsz >= 5*sizeof(mzsz)) {\t*mz++ = 0;\t\t\\\n\t\t\t\t\t*mz++ = 0;\t\t\\\n      if(mzsz >= 7*sizeof(mzsz)) {\t*mz++ = 0;\t\t\\\n\t\t\t\t\t*mz++ = 0;\t\t\\\n\tif(mzsz >= 9*sizeof(mzsz)) {\t*mz++ = 0;\t\t\\\n\t\t\t\t\t*mz++ = 0; }}}\t\t\\\n\t\t\t\t\t*mz++ = 0;\t\t\\\n\t\t\t\t\t*mz++ = 0;\t\t\\\n\t\t\t\t\t*mz = 0;\t\t\\\n  } else\t\t\t\t\t\t\t\\\n    memset ((charp), 0, mzsz);\t\t\t\t\t\\\n} while (0)\n\n#define MALLOC_MEMSET(charp, xch, nbytes)\t\t\t\t\\\ndo {\t\t\t\t\t\t\t\t\t\\\n  if ((nbytes) <= 32) {\t\t\t\t\t\t\t\\\n    register char * mzp = (charp);\t\t\t\t\t\\\n    unsigned long mctmp = (nbytes);\t\t\t\t\t\\\n    register long mcn;\t\t\t\t\t\t\t\\\n    if (mctmp < 8) mcn = 0; else { mcn = (mctmp-1)/8; mctmp &= 7; }\t\\\n    switch (mctmp) {\t\t\t\t\t\t\t\\\n      case 0: for(;;) { *mzp++ = xch;\t\t\t\t\t\\\n      case 7:\t   *mzp++ = xch;\t\t\t\t\t\\\n      case 6:\t   *mzp++ = xch;\t\t\t\t\t\\\n      case 5:\t   *mzp++ = xch;\t\t\t\t\t\\\n      case 4:\t   *mzp++ = xch;\t\t\t\t\t\\\n      case 3:\t   *mzp++ = xch;\t\t\t\t\t\\\n      case 2:\t   *mzp++ = xch;\t\t\t\t\t\\\n      case 1:\t   *mzp++ = xch; if(mcn <= 0) break; mcn--; }\t\t\\\n    }\t\t\t\t\t\t\t\t\t\\\n  } else\t\t\t\t\t\t\t\t\\\n    memset ((charp), (xch), (nbytes));\t\t\t\t\t\\\n} while(0)\n\n#define MALLOC_MEMCPY(dest,src,nbytes)\t\t\t\t\t\\\ndo {\t\t\t\t\t\t\t\t\t\\\n  if ((nbytes) <= 32) {\t\t\t\t\t\t\t\\\n    size_t* mcsrc = (size_t*) src;\t\t\t\t\t\\\n    size_t* mcdst = (size_t*) dest;\t\t\t\t\t\\\n    unsigned long mctmp = (nbytes)/sizeof(size_t);\t\t\t\\\n    long mcn;\t\t\t\t\t\t\t\t\\\n    if (mctmp < 8) mcn = 0; else { mcn = (mctmp-1)/8; mctmp &= 7; }\t\\\n    switch (mctmp) {\t\t\t\t\t\t\t\\\n      case 0: for(;;) { *mcdst++ = *mcsrc++;\t\t\t\t\\\n      case 7:\t   *mcdst++ = *mcsrc++;\t\t\t\t\t\\\n      case 6:\t   *mcdst++ = *mcsrc++;\t\t\t\t\t\\\n      case 5:\t   *mcdst++ = *mcsrc++;\t\t\t\t\t\\\n      case 4:\t   *mcdst++ = *mcsrc++;\t\t\t\t\t\\\n      case 3:\t   *mcdst++ = *mcsrc++;\t\t\t\t\t\\\n      case 2:\t   *mcdst++ = *mcsrc++;\t\t\t\t\t\\\n      case 1:\t   *mcdst++ = *mcsrc++; if(mcn <= 0) break; mcn--; }\t\\\n  } else\t\t\t\t\t\t\t\t\\\n    memcpy ((dest), (src), (nbytes))\t\t\t\t\t\\\n} while(0)\n\n#if defined (SHELL)\n#  include \"bashintl.h\"\n#else\n#  define _(x)\tx\n#endif\n\n#include <signal.h>\n\nextern void _malloc_block_signals PARAMS((sigset_t *, sigset_t *));\nextern void _malloc_unblock_signals PARAMS((sigset_t *, sigset_t *));\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}