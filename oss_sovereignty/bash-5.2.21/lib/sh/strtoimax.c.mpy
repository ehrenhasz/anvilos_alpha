{
  "module_name": "strtoimax.c",
  "hash_id": "373136dd5e93f7a81efe3543b1cbb047fedc0629a18b8a22359340d019e03801",
  "original_prompt": "Ingested from bash-5.2.21/lib/sh/strtoimax.c",
  "human_readable_source": " \n\n \n\n \n\n#if HAVE_CONFIG_H\n#  include <config.h>\n#endif\n\n#if HAVE_INTTYPES_H\n#  include <inttypes.h>\n#endif\n\n#if HAVE_STDINT_H\n#  include <stdint.h>\n#endif\n\n#if HAVE_STDLIB_H\n#  include <stdlib.h>\n#endif\n\n#include <stdc.h>\n\n \n#define verify(name, assertion) struct name { char a[(assertion) ? 1 : -1]; }\n\n#ifndef HAVE_DECL_STRTOL\n\"this configure-time declaration test was not run\"\n#endif\n#if !HAVE_DECL_STRTOL\nextern long strtol PARAMS((const char *, char **, int));\n#endif\n\n#ifndef HAVE_DECL_STRTOLL\n\"this configure-time declaration test was not run\"\n#endif\n#if !HAVE_DECL_STRTOLL && HAVE_LONG_LONG_INT\nextern long long strtoll PARAMS((const char *, char **, int));\n#endif\n\n#ifdef strtoimax\n#undef strtoimax\n#endif\n\nintmax_t\nstrtoimax (ptr, endptr, base)\n     const char *ptr;\n     char **endptr;\n     int base;\n{\n#if HAVE_LONG_LONG_INT\n  verify(size_is_that_of_long_or_long_long,\n\t (sizeof (intmax_t) == sizeof (long) ||\n\t  sizeof (intmax_t) == sizeof (long long)));\n\n  if (sizeof (intmax_t) != sizeof (long))\n    return (strtoll (ptr, endptr, base));\n#else\n  verify (size_is_that_of_long, sizeof (intmax_t) == sizeof (long));\n#endif\n\n  return (strtol (ptr, endptr, base));\n}\n\n#ifdef TESTING\n# include <stdio.h>\nint\nmain ()\n{\n  char *p, *endptr;\n  intmax_t x;\n#if HAVE_LONG_LONG_INT\n  long long y;\n#endif\n  long z;\n  \n  printf (\"sizeof intmax_t: %d\\n\", sizeof (intmax_t));\n\n#if HAVE_LONG_LONG_INT\n  printf (\"sizeof long long: %d\\n\", sizeof (long long));\n#endif\n  printf (\"sizeof long: %d\\n\", sizeof (long));\n\n  x = strtoimax(\"42\", &endptr, 10);\n#if HAVE_LONG_LONG_INT\n  y = strtoll(\"42\", &endptr, 10);\n#else\n  y = -1;\n#endif\n  z = strtol(\"42\", &endptr, 10);\n\n  printf (\"%lld %lld %ld\\n\", x, y, z);\n\n  exit (0);\n}\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}