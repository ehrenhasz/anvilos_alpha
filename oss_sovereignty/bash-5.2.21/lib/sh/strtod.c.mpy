{
  "module_name": "strtod.c",
  "hash_id": "76a721851bc3c0dd9827b29b286e33f6db642c5ec31c4b29706fe648088ebbb8",
  "original_prompt": "Ingested from bash-5.2.21/lib/sh/strtod.c",
  "human_readable_source": " \n\n \n\n#if HAVE_CONFIG_H\n# include <config.h>\n#endif\n\n#ifndef HAVE_STRTOD\n\n#include <errno.h>\n#ifndef errno\nextern int errno;\n#endif\n\n#include <chartypes.h>\n#include <math.h>\n\n#if HAVE_FLOAT_H\n# include <float.h>\n#else\n# define DBL_MAX 1.7976931348623159e+308\n# define DBL_MIN 2.2250738585072010e-308\n#endif\n\n#include <bashansi.h>\n\n#ifndef NULL\n#  define NULL 0\n#endif\n\n#ifndef HUGE_VAL\n#  define HUGE_VAL HUGE\n#endif\n\n#ifndef locale_decpoint\nextern int locale_decpoint PARAMS((void));\n#endif\n\n \ndouble\nstrtod (nptr, endptr)\n     const char *nptr;\n     char **endptr;\n{\n  register const char *s;\n  short sign;\n\n   \n  double num;\n\n  int radixchar;\n  int got_dot;\t\t\t \n  int got_digit;\t\t \n\n   \n  long int exponent;\n\n  if (nptr == NULL)\n    {\n      errno = EINVAL;\n      goto noconv;\n    }\n\n  s = nptr;\n\n   \n  while (ISSPACE ((unsigned char)*s))\n    ++s;\n\n   \n  sign = *s == '-' ? -1 : 1;\n  if (*s == '-' || *s == '+')\n    ++s;\n\n  radixchar = locale_decpoint ();\n  num = 0.0;\n  got_dot = 0;\n  got_digit = 0;\n  exponent = 0;\n  for (;; ++s)\n    {\n      if (DIGIT (*s))\n\t{\n\t  got_digit = 1;\n\n\t   \n\t  if (num > DBL_MAX * 0.1)\n\t     \n\t    ++exponent;\n\t  else\n\t    num = (num * 10.0) + (*s - '0');\n\n\t   \n\t  if (got_dot)\n\t    --exponent;\n\t}\n      else if (!got_dot && *s == radixchar)\n\t \n\tgot_dot = 1;\n      else\n\t \n\tbreak;\n    }\n\n  if (!got_digit)\n    goto noconv;\n\n  if (TOLOWER ((unsigned char)*s) == 'e')\n    {\n       \n      int save = errno;\n      char *end;\n      long int exp;\n\n      errno = 0;\n      ++s;\n      exp = strtol (s, &end, 10);\n      if (errno == ERANGE)\n\t{\n\t   \n\t  if (endptr != NULL)\n\t    *endptr = end;\n\t  if (exp < 0)\n\t    goto underflow;\n\t  else\n\t    goto overflow;\n\t}\n      else if (end == s)\n\t \n\tend = (char *) s - 1;\n      errno = save;\n      s = end;\n      exponent += exp;\n    }\n\n  if (endptr != NULL)\n    *endptr = (char *) s;\n\n  if (num == 0.0)\n    return 0.0;\n\n   \n\n  if (exponent < 0)\n    {\n      if (num < DBL_MIN * pow (10.0, (double) -exponent))\n\tgoto underflow;\n    }\n  else if (exponent > 0)\n    {\n      if (num > DBL_MAX * pow (10.0, (double) -exponent))\n\tgoto overflow;\n    }\n\n  num *= pow (10.0, (double) exponent);\n\n  return num * sign;\n\noverflow:\n   \n  errno = ERANGE;\n  return HUGE_VAL * sign;\n\nunderflow:\n   \n  if (endptr != NULL)\n    *endptr = (char *) nptr;\n  errno = ERANGE;\n  return 0.0;\n\nnoconv:\n   \n  if (endptr != NULL)\n    *endptr = (char *) nptr;\n  return 0.0;\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}