{
  "module_name": "intl.m4",
  "hash_id": "242cc00b8ffdf4fbf07271a3b9a9b48dea35de31e089afd354b62f91fe46de77",
  "original_prompt": "Ingested from bash-5.2.21/m4/intl.m4",
  "human_readable_source": "# intl.m4 serial 34 (gettext-0.19.9)\ndnl Copyright (C) 1995-2014, 2016-2019 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\ndnl\ndnl This file can be used in projects which are not available under\ndnl the GNU General Public License or the GNU Library General Public\ndnl License but which still want to provide support for the GNU gettext\ndnl functionality.\ndnl Please note that the actual code of the GNU gettext library is covered\ndnl by the GNU Library General Public License, and the rest of the GNU\ndnl gettext package is covered by the GNU General Public License.\ndnl They are *not* in the public domain.\n\ndnl Authors:\ndnl   Ulrich Drepper <drepper@cygnus.com>, 1995-2000.\ndnl   Bruno Haible <haible@clisp.cons.org>, 2000-2009.\n\nAC_PREREQ([2.60])\n\ndnl Checks for all prerequisites of the intl subdirectory,\ndnl except for INTL_LIBTOOL_SUFFIX_PREFIX (and possibly LIBTOOL), INTLOBJS,\ndnl            USE_INCLUDED_LIBINTL, BUILD_INCLUDED_LIBINTL.\nAC_DEFUN([AM_INTL_SUBDIR],\n[\n  AC_REQUIRE([AC_PROG_INSTALL])dnl\n  AC_REQUIRE([AC_PROG_MKDIR_P])dnl\n  AC_REQUIRE([AC_PROG_CC])dnl\n  AC_REQUIRE([AC_CANONICAL_HOST])dnl\n  AC_REQUIRE([gt_GLIBC2])dnl\n  AC_REQUIRE([gl_VISIBILITY])dnl\n  AC_REQUIRE([gt_INTL_SUBDIR_CORE])dnl\n  AC_REQUIRE([AC_TYPE_LONG_LONG_INT])dnl\n  AC_REQUIRE([gt_TYPE_WCHAR_T])dnl\n  AC_REQUIRE([gt_TYPE_WINT_T])dnl\n  AC_REQUIRE([gl_AC_HEADER_INTTYPES_H])\n  AC_REQUIRE([gt_TYPE_INTMAX_T])\n  AC_REQUIRE([gt_PRINTF_POSIX])\n  AC_REQUIRE([gl_GLIBC21])dnl\n  AC_REQUIRE([gl_XSIZE])dnl\n  AC_REQUIRE([gl_FCNTL_O_FLAGS])dnl\n  AC_REQUIRE([gt_INTL_THREAD_LOCALE_NAME])\n  AC_REQUIRE([gt_INTL_MACOSX])dnl\n  AC_REQUIRE([gl_EXTERN_INLINE])dnl\n  AC_REQUIRE([gt_GL_ATTRIBUTE])dnl\n  AC_REQUIRE([AC_C_FLEXIBLE_ARRAY_MEMBER])dnl\n\n  dnl In projects that use gnulib, use gl_PROG_AR_RANLIB.\n  dnl The '][' hides this use from 'aclocal'.\n  m4_ifdef([g][l_PROG_AR_RANLIB],\n    [AC_REQUIRE([g][l_PROG_AR_RANLIB])],\n    [AC_REQUIRE([AC_PROG_RANLIB])\n     dnl Use Automake-documented default values for AR and ARFLAGS, but prefer\n     dnl ${host}-ar over ar (useful for cross-compiling).\n     AC_CHECK_TOOL([AR], [ar], [ar])\n     if test -z \"$ARFLAGS\"; then\n       ARFLAGS='cr'\n     fi\n     AC_SUBST([AR])\n     AC_SUBST([ARFLAGS])\n    ])\n\n  dnl Support for automake's --enable-silent-rules.\n  case \"$enable_silent_rules\" in\n    yes) INTL_DEFAULT_VERBOSITY=0;;\n    no)  INTL_DEFAULT_VERBOSITY=1;;\n    *)   INTL_DEFAULT_VERBOSITY=1;;\n  esac\n  AC_SUBST([INTL_DEFAULT_VERBOSITY])\n\n  AC_CHECK_TYPE([ptrdiff_t], ,\n    [AC_DEFINE([ptrdiff_t], [long],\n       [Define as the type of the result of subtracting two pointers, if the system doesn't define it.])\n    ])\n  AC_CHECK_HEADERS([features.h stddef.h stdlib.h string.h])\n  AC_CHECK_FUNCS([asprintf fwprintf newlocale putenv setenv setlocale \\\n    snprintf strnlen uselocale wcslen wcsnlen mbrtowc wcrtomb])\n\n  dnl Use the _snprintf function only if it is declared (because on NetBSD it\n  dnl is defined as a weak alias of snprintf; we prefer to use the latter).\n  AC_CHECK_DECLS([_snprintf, _snwprintf], , , [#include <stdio.h>])\n\n  dnl Use the *_unlocked functions only if they are declared.\n  dnl (because some of them were defined without being declared in Solaris\n  dnl 2.5.1 but were removed in Solaris 2.6, whereas we want binaries built\n  dnl on Solaris 2.5.1 to run on Solaris 2.6).\n  AC_CHECK_DECLS([getc_unlocked], , , [#include <stdio.h>])\n\n  case $gt_cv_func_printf_posix in\n    *yes) HAVE_POSIX_PRINTF=1 ;;\n    *) HAVE_POSIX_PRINTF=0 ;;\n  esac\n  AC_SUBST([HAVE_POSIX_PRINTF])\n  if test \"$ac_cv_func_asprintf\" = yes; then\n    HAVE_ASPRINTF=1\n  else\n    HAVE_ASPRINTF=0\n  fi\n  AC_SUBST([HAVE_ASPRINTF])\n  if test \"$ac_cv_func_snprintf\" = yes; then\n    HAVE_SNPRINTF=1\n  else\n    HAVE_SNPRINTF=0\n  fi\n  AC_SUBST([HAVE_SNPRINTF])\n  if test \"$ac_cv_func_newlocale\" = yes; then\n    HAVE_NEWLOCALE=1\n  else\n    HAVE_NEWLOCALE=0\n  fi\n  AC_SUBST([HAVE_NEWLOCALE])\n  if test \"$ac_cv_func_wprintf\" = yes; then\n    HAVE_WPRINTF=1\n  else\n    HAVE_WPRINTF=0\n  fi\n  AC_SUBST([HAVE_WPRINTF])\n\n  AM_LANGINFO_CODESET\n  gt_LC_MESSAGES\n\n  if test $gt_nameless_locales = yes; then\n    HAVE_NAMELESS_LOCALES=1\n  else\n    HAVE_NAMELESS_LOCALES=0\n  fi\n  AC_SUBST([HAVE_NAMELESS_LOCALES])\n\n  dnl Compilation on mingw and Cygwin needs special Makefile rules, because\n  dnl 1. when we install a shared library, we must arrange to export\n  dnl    auxiliary pointer variables for every exported variable,\n  dnl 2. when we install a shared library and a static library simultaneously,\n  dnl    the include file specifies __declspec(dllimport) and therefore we\n  dnl    must arrange to define the auxiliary pointer variables for the\n  dnl    exported variables _also_ in the static library.\n  if test \"$enable_shared\" = yes; then\n    case \"$host_os\" in\n      mingw* | cygwin*) is_woe32dll=yes ;;\n      *) is_woe32dll=no ;;\n    esac\n  else\n    is_woe32dll=no\n  fi\n  WOE32DLL=$is_woe32dll\n  AC_SUBST([WOE32DLL])\n\n  dnl On mingw and Cygwin, we can activate special Makefile rules which add\n  dnl version information to the shared libraries and executables.\n  case \"$host_os\" in\n    mingw* | cygwin*) is_woe32=yes ;;\n    *) is_woe32=no ;;\n  esac\n  WOE32=$is_woe32\n  AC_SUBST([WOE32])\n  if test $WOE32 = yes; then\n    dnl Check for a program that compiles Windows resource files.\n    AC_CHECK_TOOL([WINDRES], [windres])\n  fi\n\n  dnl Rename some macros and functions used for locking.\n  AH_BOTTOM([\n#define __libc_lock_t                   gl_lock_t\n#define __libc_lock_define              gl_lock_define\n#define __libc_lock_define_initialized  gl_lock_define_initialized\n#define __libc_lock_init                gl_lock_init\n#define __libc_lock_lock                gl_lock_lock\n#define __libc_lock_unlock              gl_lock_unlock\n#define __libc_lock_recursive_t                   gl_recursive_lock_t\n#define __libc_lock_define_recursive              gl_recursive_lock_define\n#define __libc_lock_define_initialized_recursive  gl_recursive_lock_define_initialized\n#define __libc_lock_init_recursive                gl_recursive_lock_init\n#define __libc_lock_lock_recursive                gl_recursive_lock_lock\n#define __libc_lock_unlock_recursive              gl_recursive_lock_unlock\n#define glthread_in_use  libintl_thread_in_use\n#define glthread_lock_init_func     libintl_lock_init_func\n#define glthread_lock_lock_func     libintl_lock_lock_func\n#define glthread_lock_unlock_func   libintl_lock_unlock_func\n#define glthread_lock_destroy_func  libintl_lock_destroy_func\n#define glthread_rwlock_init_multithreaded     libintl_rwlock_init_multithreaded\n#define glthread_rwlock_init_func              libintl_rwlock_init_func\n#define glthread_rwlock_rdlock_multithreaded   libintl_rwlock_rdlock_multithreaded\n#define glthread_rwlock_rdlock_func            libintl_rwlock_rdlock_func\n#define glthread_rwlock_wrlock_multithreaded   libintl_rwlock_wrlock_multithreaded\n#define glthread_rwlock_wrlock_func            libintl_rwlock_wrlock_func\n#define glthread_rwlock_unlock_multithreaded   libintl_rwlock_unlock_multithreaded\n#define glthread_rwlock_unlock_func            libintl_rwlock_unlock_func\n#define glthread_rwlock_destroy_multithreaded  libintl_rwlock_destroy_multithreaded\n#define glthread_rwlock_destroy_func           libintl_rwlock_destroy_func\n#define glthread_recursive_lock_init_multithreaded     libintl_recursive_lock_init_multithreaded\n#define glthread_recursive_lock_init_func              libintl_recursive_lock_init_func\n#define glthread_recursive_lock_lock_multithreaded     libintl_recursive_lock_lock_multithreaded\n#define glthread_recursive_lock_lock_func              libintl_recursive_lock_lock_func\n#define glthread_recursive_lock_unlock_multithreaded   libintl_recursive_lock_unlock_multithreaded\n#define glthread_recursive_lock_unlock_func            libintl_recursive_lock_unlock_func\n#define glthread_recursive_lock_destroy_multithreaded  libintl_recursive_lock_destroy_multithreaded\n#define glthread_recursive_lock_destroy_func           libintl_recursive_lock_destroy_func\n#define glthread_once_func            libintl_once_func\n#define glthread_once_singlethreaded  libintl_once_singlethreaded\n#define glthread_once_multithreaded   libintl_once_multithreaded\n])\n])\n\n\ndnl Checks for the core files of the intl subdirectory:\ndnl   dcigettext.c\ndnl   eval-plural.h\ndnl   explodename.c\ndnl   finddomain.c\ndnl   gettextP.h\ndnl   gmo.h\ndnl   hash-string.h hash-string.c\ndnl   l10nflist.c\ndnl   libgnuintl.h.in (except the *printf stuff)\ndnl   loadinfo.h\ndnl   loadmsgcat.c\ndnl   localealias.c\ndnl   log.c\ndnl   plural-exp.h plural-exp.c\ndnl   plural.y\ndnl Used by libglocale.\nAC_DEFUN([gt_INTL_SUBDIR_CORE],\n[\n  AC_REQUIRE([AC_C_INLINE])dnl\n  AC_REQUIRE([AC_TYPE_SIZE_T])dnl\n  AC_REQUIRE([gl_AC_HEADER_STDINT_H])\n  AC_REQUIRE([AC_FUNC_ALLOCA])dnl\n  AC_REQUIRE([AC_FUNC_MMAP])dnl\n  AC_REQUIRE([gt_INTDIV0])dnl\n  AC_REQUIRE([gl_AC_TYPE_UINTMAX_T])dnl\n  AC_REQUIRE([gt_INTTYPES_PRI])dnl\n  AC_REQUIRE([gl_LOCK])dnl\n\n  AC_LINK_IFELSE(\n    [AC_LANG_PROGRAM(\n       [[int foo (int a) { a = __builtin_expect (a, 10); return a == 10 ? 0 : 1; }]],\n       [[]])],\n    [AC_DEFINE([HAVE_BUILTIN_EXPECT], [1],\n       [Define to 1 if the compiler understands __builtin_expect.])])\n\n  AC_CHECK_HEADERS([argz.h inttypes.h limits.h unistd.h sys/param.h])\n  AC_CHECK_FUNCS([getcwd getegid geteuid getgid getuid mempcpy munmap \\\n    stpcpy strcasecmp strdup strtoul tsearch argz_count argz_stringify \\\n    argz_next __fsetlocking])\n\n  dnl ADDED FOR BASH\n  AC_CHECK_FUNCS([localeconv])\n\n  dnl Use the *_unlocked functions only if they are declared.\n  dnl (because some of them were defined without being declared in Solaris\n  dnl 2.5.1 but were removed in Solaris 2.6, whereas we want binaries built\n  dnl on Solaris 2.5.1 to run on Solaris 2.6).\n  AC_CHECK_DECLS([feof_unlocked, fgets_unlocked], , , [#include <stdio.h>])\n\n  AM_ICONV\n\n  dnl intl/plural.c is generated from intl/plural.y. It requires bison,\n  dnl because plural.y uses bison specific features. It requires at least\n  dnl bison-2.7 for %define api.pure.\n  dnl bison is only needed for the maintainer (who touches plural.y). But in\n  dnl order to avoid separate Makefiles or --enable-maintainer-mode, we put\n  dnl the rule in general Makefile. Now, some people carelessly touch the\n  dnl files or have a broken \"make\" program, hence the plural.c rule will\n  dnl sometimes fire. To avoid an error, defines BISON to \":\" if it is not\n  dnl present or too old.\n  AC_CHECK_PROGS([INTLBISON], [bison])\n  if test -z \"$INTLBISON\"; then\n    ac_verc_fail=yes\n  else\n    dnl Found it, now check the version.\n    AC_MSG_CHECKING([version of bison])\nchangequote(<<,>>)dnl\n    ac_prog_version=`$INTLBISON --version 2>&1 | sed -n 's/^.*GNU Bison.* \\([0-9]*\\.[0-9.]*\\).*$/\\1/p'`\n    case $ac_prog_version in\n      '') ac_prog_version=\"v. ?.??, bad\"; ac_verc_fail=yes;;\n      2.[7-9]* | [3-9].*)\nchangequote([,])dnl\n         ac_prog_version=\"$ac_prog_version, ok\"; ac_verc_fail=no;;\n      *) ac_prog_version=\"$ac_prog_version, bad\"; ac_verc_fail=yes;;\n    esac\n    AC_MSG_RESULT([$ac_prog_version])\n  fi\n  if test $ac_verc_fail = yes; then\n    INTLBISON=:\n  fi\n])\n\ndnl Copies _GL_UNUSED and _GL_ATTRIBUTE_PURE definitions from\ndnl gnulib-common.m4 as a fallback, if the project isn't using Gnulib.\nAC_DEFUN([gt_GL_ATTRIBUTE], [\n  m4_ifndef([gl_[]COMMON],\n    AH_VERBATIM([gt_gl_attribute],\n[/* Define as a marker that can be attached to declarations that might not\n    be used.  This helps to reduce warnings, such as from\n    GCC -Wunused-parameter.  */\n#ifndef _GL_UNUSED\n# if __GNUC__ >= 3 || (__GNUC__ == 2 && __GNUC_MINOR__ >= 7)\n#  define _GL_UNUSED __attribute__ ((__unused__))\n# else\n#  define _GL_UNUSED\n# endif\n#endif\n\n/* The __pure__ attribute was added in gcc 2.96.  */\n#ifndef _GL_ATTRIBUTE_PURE\n# if __GNUC__ > 2 || (__GNUC__ == 2 && __GNUC_MINOR__ >= 96)\n#  define _GL_ATTRIBUTE_PURE __attribute__ ((__pure__))\n# else\n#  define _GL_ATTRIBUTE_PURE /* empty */\n# endif\n#endif\n]))])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}