{
  "module_name": "inttypes.m4",
  "hash_id": "754f58cbae4799392e7b4c3c8a7a9a9a01b26b7543a22da3fb581ca24dd4e6de",
  "original_prompt": "Ingested from bash-5.2.21/m4/inttypes.m4",
  "human_readable_source": "# inttypes.m4 serial 27\ndnl Copyright (C) 2006-2019 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\ndnl From Derek Price, Bruno Haible.\ndnl Test whether <inttypes.h> is supported or must be substituted.\n\nAC_DEFUN([gl_INTTYPES_H],\n[\n  AC_REQUIRE([gl_INTTYPES_INCOMPLETE])\n  gl_INTTYPES_PRI_SCN\n])\n\nAC_DEFUN_ONCE([gl_INTTYPES_INCOMPLETE],\n[\n  AC_REQUIRE([gl_STDINT_H])\n  AC_CHECK_HEADERS_ONCE([inttypes.h])\n\n  dnl Override <inttypes.h> always, so that the portability warnings work.\n  AC_REQUIRE([gl_INTTYPES_H_DEFAULTS])\n  gl_CHECK_NEXT_HEADERS([inttypes.h])\n\n  AC_REQUIRE([gl_MULTIARCH])\n\n  dnl Check for declarations of anything we want to poison if the\n  dnl corresponding gnulib module is not in use.\n  gl_WARN_ON_USE_PREPARE([[#include <inttypes.h>\n    ]], [imaxabs imaxdiv strtoimax strtoumax])\n])\n\n# Ensure that the PRI* and SCN* macros are defined appropriately.\nAC_DEFUN([gl_INTTYPES_PRI_SCN],\n[\n  AC_REQUIRE([gt_INTTYPES_PRI])\n\n  PRIPTR_PREFIX=\n  if test -n \"$STDINT_H\"; then\n    dnl Using the gnulib <stdint.h>. It always defines intptr_t to 'long'.\n    PRIPTR_PREFIX='\"l\"'\n  else\n    dnl Using the system's <stdint.h>.\n    for glpfx in '' l ll I64; do\n      case $glpfx in\n        '')  gltype1='int';;\n        l)   gltype1='long int';;\n        ll)  gltype1='long long int';;\n        I64) gltype1='__int64';;\n      esac\n      AC_COMPILE_IFELSE(\n        [AC_LANG_PROGRAM([[#include <stdint.h>\n           extern intptr_t foo;\n           extern $gltype1 foo;]])],\n        [PRIPTR_PREFIX='\"'$glpfx'\"'])\n      test -n \"$PRIPTR_PREFIX\" && break\n    done\n  fi\n  AC_SUBST([PRIPTR_PREFIX])\n\n  gl_INTTYPES_CHECK_LONG_LONG_INT_CONDITION(\n    [INT32_MAX_LT_INTMAX_MAX],\n    [defined INT32_MAX && defined INTMAX_MAX],\n    [INT32_MAX < INTMAX_MAX],\n    [sizeof (int) < sizeof (long long int)])\n  if test $APPLE_UNIVERSAL_BUILD = 0; then\n    gl_INTTYPES_CHECK_LONG_LONG_INT_CONDITION(\n      [INT64_MAX_EQ_LONG_MAX],\n      [defined INT64_MAX],\n      [INT64_MAX == LONG_MAX],\n      [sizeof (long long int) == sizeof (long int)])\n  else\n    INT64_MAX_EQ_LONG_MAX=-1\n  fi\n  gl_INTTYPES_CHECK_LONG_LONG_INT_CONDITION(\n    [UINT32_MAX_LT_UINTMAX_MAX],\n    [defined UINT32_MAX && defined UINTMAX_MAX],\n    [UINT32_MAX < UINTMAX_MAX],\n    [sizeof (unsigned int) < sizeof (unsigned long long int)])\n  if test $APPLE_UNIVERSAL_BUILD = 0; then\n    gl_INTTYPES_CHECK_LONG_LONG_INT_CONDITION(\n      [UINT64_MAX_EQ_ULONG_MAX],\n      [defined UINT64_MAX],\n      [UINT64_MAX == ULONG_MAX],\n      [sizeof (unsigned long long int) == sizeof (unsigned long int)])\n  else\n    UINT64_MAX_EQ_ULONG_MAX=-1\n  fi\n])\n\n# Define the symbol $1 to be 1 if the condition is true, 0 otherwise.\n# If $2 is true, the condition is $3; otherwise if long long int is supported\n# approximate the condition with $4; otherwise, assume the condition is false.\n# The condition should work on all C99 platforms; the approximations should be\n# good enough to work on all practical pre-C99 platforms.\n# $2 is evaluated by the C preprocessor, $3 and $4 as compile-time constants.\nAC_DEFUN([gl_INTTYPES_CHECK_LONG_LONG_INT_CONDITION],\n[\n  AC_CACHE_CHECK([whether $3],\n    [gl_cv_test_$1],\n    [AC_COMPILE_IFELSE(\n       [AC_LANG_PROGRAM(\n          [[/* Work also in C++ mode.  */\n            #define __STDC_LIMIT_MACROS 1\n\n            /* Work if build is not clean.  */\n            #define _GL_JUST_INCLUDE_SYSTEM_STDINT_H\n\n            #include <limits.h>\n            #if HAVE_STDINT_H\n             #include <stdint.h>\n            #endif\n\n            #if $2\n             #define CONDITION ($3)\n            #elif HAVE_LONG_LONG_INT\n             #define CONDITION ($4)\n            #else\n             #define CONDITION 0\n            #endif\n            int test[CONDITION ? 1 : -1];]])],\n       [gl_cv_test_$1=yes],\n       [gl_cv_test_$1=no])])\n  if test $gl_cv_test_$1 = yes; then\n    $1=1;\n  else\n    $1=0;\n  fi\n  AC_SUBST([$1])\n])\n\nAC_DEFUN([gl_INTTYPES_MODULE_INDICATOR],\n[\n  dnl Use AC_REQUIRE here, so that the default settings are expanded once only.\n  AC_REQUIRE([gl_INTTYPES_H_DEFAULTS])\n  gl_MODULE_INDICATOR_SET_VARIABLE([$1])\n])\n\nAC_DEFUN([gl_INTTYPES_H_DEFAULTS],\n[\n  GNULIB_IMAXABS=0;      AC_SUBST([GNULIB_IMAXABS])\n  GNULIB_IMAXDIV=0;      AC_SUBST([GNULIB_IMAXDIV])\n  GNULIB_STRTOIMAX=0;    AC_SUBST([GNULIB_STRTOIMAX])\n  GNULIB_STRTOUMAX=0;    AC_SUBST([GNULIB_STRTOUMAX])\n  dnl Assume proper GNU behavior unless another module says otherwise.\n  HAVE_DECL_IMAXABS=1;   AC_SUBST([HAVE_DECL_IMAXABS])\n  HAVE_DECL_IMAXDIV=1;   AC_SUBST([HAVE_DECL_IMAXDIV])\n  HAVE_DECL_STRTOIMAX=1; AC_SUBST([HAVE_DECL_STRTOIMAX])\n  HAVE_DECL_STRTOUMAX=1; AC_SUBST([HAVE_DECL_STRTOUMAX])\n  HAVE_IMAXDIV_T=1;      AC_SUBST([HAVE_IMAXDIV_T])\n  REPLACE_STRTOIMAX=0;   AC_SUBST([REPLACE_STRTOIMAX])\n  REPLACE_STRTOUMAX=0;   AC_SUBST([REPLACE_STRTOUMAX])\n  INT32_MAX_LT_INTMAX_MAX=1;  AC_SUBST([INT32_MAX_LT_INTMAX_MAX])\n  INT64_MAX_EQ_LONG_MAX='defined _LP64';  AC_SUBST([INT64_MAX_EQ_LONG_MAX])\n  PRI_MACROS_BROKEN=0;   AC_SUBST([PRI_MACROS_BROKEN])\n  PRIPTR_PREFIX=__PRIPTR_PREFIX;  AC_SUBST([PRIPTR_PREFIX])\n  UINT32_MAX_LT_UINTMAX_MAX=1;  AC_SUBST([UINT32_MAX_LT_UINTMAX_MAX])\n  UINT64_MAX_EQ_ULONG_MAX='defined _LP64';  AC_SUBST([UINT64_MAX_EQ_ULONG_MAX])\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}