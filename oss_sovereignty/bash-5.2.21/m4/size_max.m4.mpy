{
  "module_name": "size_max.m4",
  "hash_id": "90fda0a4de0d532dc5b09534814b9aece3cf961844b99ca50154296a3f0b57cd",
  "original_prompt": "Ingested from bash-5.2.21/m4/size_max.m4",
  "human_readable_source": "# size_max.m4 serial 11\ndnl Copyright (C) 2003, 2005-2006, 2008-2019 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\ndnl From Bruno Haible.\n\nAC_PREREQ([2.61])\n\nAC_DEFUN([gl_SIZE_MAX],\n[\n  AC_CHECK_HEADERS([stdint.h])\n  dnl First test whether the system already has SIZE_MAX.\n  AC_CACHE_CHECK([for SIZE_MAX], [gl_cv_size_max], [\n    gl_cv_size_max=\n    AC_EGREP_CPP([Found it], [\n#include <limits.h>\n#if HAVE_STDINT_H\n#include <stdint.h>\n#endif\n#ifdef SIZE_MAX\nFound it\n#endif\n], [gl_cv_size_max=yes])\n    if test -z \"$gl_cv_size_max\"; then\n      dnl Define it ourselves. Here we assume that the type 'size_t' is not wider\n      dnl than the type 'unsigned long'. Try hard to find a definition that can\n      dnl be used in a preprocessor #if, i.e. doesn't contain a cast.\n      AC_COMPUTE_INT([size_t_bits_minus_1], [sizeof (size_t) * CHAR_BIT - 1],\n        [#include <stddef.h>\n#include <limits.h>], [size_t_bits_minus_1=])\n      AC_COMPUTE_INT([fits_in_uint], [sizeof (size_t) <= sizeof (unsigned int)],\n        [#include <stddef.h>], [fits_in_uint=])\n      if test -n \"$size_t_bits_minus_1\" && test -n \"$fits_in_uint\"; then\n        if test $fits_in_uint = 1; then\n          dnl Even though SIZE_MAX fits in an unsigned int, it must be of type\n          dnl 'unsigned long' if the type 'size_t' is the same as 'unsigned long'.\n          AC_COMPILE_IFELSE(\n            [AC_LANG_PROGRAM(\n               [[#include <stddef.h>\n                 extern size_t foo;\n                 extern unsigned long foo;\n               ]],\n               [[]])],\n            [fits_in_uint=0])\n        fi\n        dnl We cannot use 'expr' to simplify this expression, because 'expr'\n        dnl works only with 'long' integers in the host environment, while we\n        dnl might be cross-compiling from a 32-bit platform to a 64-bit platform.\n        if test $fits_in_uint = 1; then\n          gl_cv_size_max=\"(((1U << $size_t_bits_minus_1) - 1) * 2 + 1)\"\n        else\n          gl_cv_size_max=\"(((1UL << $size_t_bits_minus_1) - 1) * 2 + 1)\"\n        fi\n      else\n        dnl Shouldn't happen, but who knows...\n        gl_cv_size_max='((size_t)~(size_t)0)'\n      fi\n    fi\n  ])\n  if test \"$gl_cv_size_max\" != yes; then\n    AC_DEFINE_UNQUOTED([SIZE_MAX], [$gl_cv_size_max],\n      [Define as the maximum value of type 'size_t', if the system doesn't define it.])\n  fi\n  dnl Don't redefine SIZE_MAX in config.h if config.h is re-included after\n  dnl <stdint.h>. Remember that the #undef in AH_VERBATIM gets replaced with\n  dnl #define by AC_DEFINE_UNQUOTED.\n  AH_VERBATIM([SIZE_MAX],\n[/* Define as the maximum value of type 'size_t', if the system doesn't define\n   it. */\n#ifndef SIZE_MAX\n# undef SIZE_MAX\n#endif])\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}