{
  "module_name": "dist.mk",
  "hash_id": "52a2e2dd2f3adfa4481a47e50a13b1f9394b39a8ae342e449f2c20944cc0c100",
  "original_prompt": "Ingested from ncurses-6.4/dist.mk",
  "human_readable_source": "##############################################################################\n# Copyright 2018-2021,2022 Thomas E. Dickey                                  #\n# Copyright 1998-2017,2018 Free Software Foundation, Inc.                    #\n#                                                                            #\n# Permission is hereby granted, free of charge, to any person obtaining a    #\n# copy of this software and associated documentation files (the \"Software\"), #\n# to deal in the Software without restriction, including without limitation  #\n# the rights to use, copy, modify, merge, publish, distribute, distribute    #\n# with modifications, sublicense, and/or sell copies of the Software, and to #\n# permit persons to whom the Software is furnished to do so, subject to the  #\n# following conditions:                                                      #\n#                                                                            #\n# The above copyright notice and this permission notice shall be included in #\n# all copies or substantial portions of the Software.                        #\n#                                                                            #\n# THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR #\n# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,   #\n# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL    #\n# THE ABOVE COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER      #\n# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING    #\n# FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER        #\n# DEALINGS IN THE SOFTWARE.                                                  #\n#                                                                            #\n# Except as contained in this notice, the name(s) of the above copyright     #\n# holders shall not be used in advertising or otherwise to promote the sale, #\n# use or other dealings in this Software without prior written               #\n# authorization.                                                             #\n##############################################################################\n# $Id: dist.mk,v 1.1519 2022/12/31 20:43:21 tom Exp $\n# Makefile for creating ncurses distributions.\n#\n# This only needs to be used directly as a makefile by developers, but\n# configure mines the current version number out of here.  To move\n# to a new version number, just edit this file and run configure.\n#\nSHELL = /bin/sh\n\n# These define the major/minor/patch versions of ncurses.\nNCURSES_MAJOR = 6\nNCURSES_MINOR = 4\nNCURSES_PATCH = 20221231\n\n# We don't append the patch to the version, since this only applies to releases\nVERSION = $(NCURSES_MAJOR).$(NCURSES_MINOR)\n\nWEBSITE = https://invisible-island.net\nHOMEPAGE = $(WEBSITE)/ncurses\n\n# The most recent html files were generated with lynx 2.8.6 (or later), using\n# ncurses configured with\n#\t--without-manpage-renames\n# on Debian/testing.  The -scrollbar and -width options are used to make lynx\n# use 79 columns as it did in 2.8.5 and before.\nDUMP\t= lynx -dump -scrollbar=0 -width=79 -display_charset=US-ASCII\nDUMP2\t= $(DUMP) -nolist\n\n# gcc's file is \"gnathtml.pl\"\nGNATHTML= gnathtml\n\n# man2html is a Perl script which assumes that pages are fixed size.\n# Not all man programs agree with this assumption; some use half-spacing, which\n# has the effect of lengthening the text portion of the page -- so man2html\n# would remove some text.  The man program on Redhat 6.1 appears to work with\n# man2html if we set the top/bottom margins to 6 (the default is 7).  Newer\n# versions of 'man' leave no margin (and make it harder to sync with pages).\nMAN2HTML= man2html -botm=0 -topm=0 -cgiurl '$$title.$$section$$subsection.html' -index\n\nALL\t= ANNOUNCE doc/html/announce.html doc/ncurses-intro.doc doc/hackguide.doc manhtml adahtml\n\nall :\t$(ALL)\n\ndist:\t$(ALL)\n\t(cd ..;  tar cvf ncurses-$(VERSION).tar `sed <ncurses-$(VERSION)/MANIFEST 's/^./ncurses-$(VERSION)/'`;  gzip ncurses-$(VERSION).tar)\n\ndistclean:\n\trm -f $(ALL) subst.tmp subst.sed\n\n# Don't mess with announce.html.in unless you have lynx available!\ndoc/html/announce.html: announce.html.in\n\tsed \\\n\t\t-e 's,@VERSION@,$(VERSION),g' \\\n\t\t-e 's,@WEBSITE@,$(WEBSITE),g' \\\n\t\t-e 's,@HOMEPAGE@,$(HOMEPAGE),g' <announce.html.in > $@\n\nANNOUNCE : doc/html/announce.html\n\t$(DUMP2) doc/html/announce.html > $@\n\ndoc/ncurses-intro.doc: doc/html/ncurses-intro.html\n\t$(DUMP2) doc/html/ncurses-intro.html > $@\ndoc/hackguide.doc: doc/html/hackguide.html\n\t$(DUMP2) doc/html/hackguide.html > $@\n\n# The distributed html files are formatted using\n#\tconfigure --without-manpage-renames\n#\n# The edit_man.sed script is built as a side-effect of installing the manpages.\n# If that conflicts with the --without-manpage-renames, you can install those\n# in a different location using the --with-install-prefix option of the\n# configure script.\nMANPROG\t= tbl | nroff -mandoc -rHY=0 -rLL=78n -rLT=78n -Tascii\n\nmanhtml:\n\t@for f in doc/html/man/*.html; do \\\n\t   test -f $$f || continue; \\\n\t   case $$f in \\\n\t   */index.html) ;; \\\n\t   *) rm -f $$f ;; \\\n\t   esac; \\\n\tdone\n\t@mkdir -p doc/html/man\n\t@rm -f subst.tmp ;\n\t@for f in man/*.[0-9]*; do \\\n\t   m=`basename $$f` ;\\\n\t   x=`echo $$m | awk -F. '{print $$2;}'` ;\\\n\t   xu=`echo $$x | dd conv=ucase 2>/dev/null` ;\\\n\t   if [ \"$${x}\" != \"$${xu}\" ]; then \\\n\t     echo \"s/$${xu}/$${x}/g\" >> subst.tmp ;\\\n\t   fi ;\\\n\tdone\n\t# change some things to make weblint happy:\n\t@cat man_alias.sed           >> subst.tmp\n\t@echo 's/<B>/<STRONG>/g'     >> subst.tmp\n\t@echo 's/<\\/B>/<\\/STRONG>/g' >> subst.tmp\n\t@echo 's/<I>/<EM>/g'         >> subst.tmp\n\t@echo 's/<\\/I>/<\\/EM>/g'     >> subst.tmp\n\t@misc/csort < subst.tmp | uniq > subst.sed\n\t@echo '/<\\/TITLE>/a\\' >> subst.sed\n\t@echo '<link rel=\"author\" href=\"mailto:bug-ncurses@gnu.org\">\\' >> subst.sed\n\t@rm -f subst.tmp\n\t@for f in man/*.[0-9]* ; do \\\n\t   m=`basename $$f` ;\\\n\t   T=`$${EGREP-grep -E} '^.TH' $$f|sed -e 's/^.TH //' -e s'/\"//g' -e 's/[ \t]\\+$$//'` ; \\\n\t   g=$${m}.html ;\\\n\t   if [ -f doc/html/$$g ]; then chmod +w doc/html/$$g; fi;\\\n\t   echo \"Converting $$m to HTML\" ;\\\n\t   echo '<!--' > doc/html/man/$$g ;\\\n\t   $${EGREP-grep -E} '^.\\\\\"[^#]' $$f | \\\n\t   \tsed\t-e 's/\\$$/@/g' \\\n\t\t\t-e 's/^.../  */' \\\n\t\t\t-e 's/</\\&lt;/g' \\\n\t\t\t-e 's/>/\\&gt;/g' \\\n\t   >> doc/html/man/$$g ;\\\n\t   echo '-->' >> doc/html/man/$$g ;\\\n\t   ./edit_man.sh normal editing /usr/man man $$f | \\\n\t\t   $(MANPROG) | \\\n\t\t   tr '\\255' '-' | \\\n\t\t   $(MAN2HTML) \\\n\t\t   \t-title \"$$T\" \\\n\t\t\t-aliases man/manhtml.aliases \\\n\t\t\t-externs man/manhtml.externs | \\\n\t\t   sed -f subst.sed |\\\n\t\t   sed -e 's/\"curses.3x.html\"/\"ncurses.3x.html\"/g' \\\n\t   >> doc/html/man/$$g ;\\\n\tdone\n\t@rm -f subst.sed\n\n#\n# Please note that this target can only be properly built if the build of the\n# Ada95 subdir has been done.  The reason is, that the gnathtml tool uses the\n# .ali files generated by the Ada95 compiler during the build process.  These\n# .ali files contain cross referencing information required by gnathtml.\nadahtml:\n\tif [ ! -z \"$(GNATHTML)\" ]; then \\\n\t  (cd ./Ada95/gen ; make html GNATHTML=$(GNATHTML) ) ;\\\n\tfi\n\n# This only works on a clean source tree, of course.\nMANIFEST:\n\t-rm -f $@\n\ttouch $@\n\tfind . -type f -print |misc/csort | fgrep -v .lsm |fgrep -v .spec >$@\n\nTAGS:\n\tetags */*.[ch]\n\n# Makefile ends here\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}