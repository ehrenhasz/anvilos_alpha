{
  "module_name": "curses.tail",
  "hash_id": "a4c379bd19d93627738f752921683bbe75a8a1f092b917002ecd571b4c25ca0b",
  "original_prompt": "Ingested from ncurses-6.4/include/curses.tail",
  "human_readable_source": "/* $Id: curses.tail,v 1.26 2021/03/20 15:49:25 tom Exp $ */\n/*\n * vile:cmode:\n * This file is part of ncurses, designed to be appended after curses.h.in\n * (see that file for the relevant copyright).\n */\n\n/* mouse interface */\n\n#if NCURSES_MOUSE_VERSION > 1\n#define NCURSES_MOUSE_MASK(b,m) ((m) << (((b) - 1) * 5))\n#else\n#define NCURSES_MOUSE_MASK(b,m) ((m) << (((b) - 1) * 6))\n#endif\n\n#define\tNCURSES_BUTTON_RELEASED\t001L\n#define\tNCURSES_BUTTON_PRESSED\t002L\n#define\tNCURSES_BUTTON_CLICKED\t004L\n#define\tNCURSES_DOUBLE_CLICKED\t010L\n#define\tNCURSES_TRIPLE_CLICKED\t020L\n#define\tNCURSES_RESERVED_EVENT\t040L\n\n/* event masks */\n#define\tBUTTON1_RELEASED\tNCURSES_MOUSE_MASK(1, NCURSES_BUTTON_RELEASED)\n#define\tBUTTON1_PRESSED\t\tNCURSES_MOUSE_MASK(1, NCURSES_BUTTON_PRESSED)\n#define\tBUTTON1_CLICKED\t\tNCURSES_MOUSE_MASK(1, NCURSES_BUTTON_CLICKED)\n#define\tBUTTON1_DOUBLE_CLICKED\tNCURSES_MOUSE_MASK(1, NCURSES_DOUBLE_CLICKED)\n#define\tBUTTON1_TRIPLE_CLICKED\tNCURSES_MOUSE_MASK(1, NCURSES_TRIPLE_CLICKED)\n\n#define\tBUTTON2_RELEASED\tNCURSES_MOUSE_MASK(2, NCURSES_BUTTON_RELEASED)\n#define\tBUTTON2_PRESSED\t\tNCURSES_MOUSE_MASK(2, NCURSES_BUTTON_PRESSED)\n#define\tBUTTON2_CLICKED\t\tNCURSES_MOUSE_MASK(2, NCURSES_BUTTON_CLICKED)\n#define\tBUTTON2_DOUBLE_CLICKED\tNCURSES_MOUSE_MASK(2, NCURSES_DOUBLE_CLICKED)\n#define\tBUTTON2_TRIPLE_CLICKED\tNCURSES_MOUSE_MASK(2, NCURSES_TRIPLE_CLICKED)\n\n#define\tBUTTON3_RELEASED\tNCURSES_MOUSE_MASK(3, NCURSES_BUTTON_RELEASED)\n#define\tBUTTON3_PRESSED\t\tNCURSES_MOUSE_MASK(3, NCURSES_BUTTON_PRESSED)\n#define\tBUTTON3_CLICKED\t\tNCURSES_MOUSE_MASK(3, NCURSES_BUTTON_CLICKED)\n#define\tBUTTON3_DOUBLE_CLICKED\tNCURSES_MOUSE_MASK(3, NCURSES_DOUBLE_CLICKED)\n#define\tBUTTON3_TRIPLE_CLICKED\tNCURSES_MOUSE_MASK(3, NCURSES_TRIPLE_CLICKED)\n\n#define\tBUTTON4_RELEASED\tNCURSES_MOUSE_MASK(4, NCURSES_BUTTON_RELEASED)\n#define\tBUTTON4_PRESSED\t\tNCURSES_MOUSE_MASK(4, NCURSES_BUTTON_PRESSED)\n#define\tBUTTON4_CLICKED\t\tNCURSES_MOUSE_MASK(4, NCURSES_BUTTON_CLICKED)\n#define\tBUTTON4_DOUBLE_CLICKED\tNCURSES_MOUSE_MASK(4, NCURSES_DOUBLE_CLICKED)\n#define\tBUTTON4_TRIPLE_CLICKED\tNCURSES_MOUSE_MASK(4, NCURSES_TRIPLE_CLICKED)\n\n/*\n * In 32 bits the version-1 scheme does not provide enough space for a 5th\n * button, unless we choose to change the ABI by omitting the reserved-events.\n */\n#if NCURSES_MOUSE_VERSION > 1\n\n#define\tBUTTON5_RELEASED\tNCURSES_MOUSE_MASK(5, NCURSES_BUTTON_RELEASED)\n#define\tBUTTON5_PRESSED\t\tNCURSES_MOUSE_MASK(5, NCURSES_BUTTON_PRESSED)\n#define\tBUTTON5_CLICKED\t\tNCURSES_MOUSE_MASK(5, NCURSES_BUTTON_CLICKED)\n#define\tBUTTON5_DOUBLE_CLICKED\tNCURSES_MOUSE_MASK(5, NCURSES_DOUBLE_CLICKED)\n#define\tBUTTON5_TRIPLE_CLICKED\tNCURSES_MOUSE_MASK(5, NCURSES_TRIPLE_CLICKED)\n\n#define\tBUTTON_CTRL\t\tNCURSES_MOUSE_MASK(6, 0001L)\n#define\tBUTTON_SHIFT\t\tNCURSES_MOUSE_MASK(6, 0002L)\n#define\tBUTTON_ALT\t\tNCURSES_MOUSE_MASK(6, 0004L)\n#define\tREPORT_MOUSE_POSITION\tNCURSES_MOUSE_MASK(6, 0010L)\n\n#else\n\n#define\tBUTTON1_RESERVED_EVENT\tNCURSES_MOUSE_MASK(1, NCURSES_RESERVED_EVENT)\n#define\tBUTTON2_RESERVED_EVENT\tNCURSES_MOUSE_MASK(2, NCURSES_RESERVED_EVENT)\n#define\tBUTTON3_RESERVED_EVENT\tNCURSES_MOUSE_MASK(3, NCURSES_RESERVED_EVENT)\n#define\tBUTTON4_RESERVED_EVENT\tNCURSES_MOUSE_MASK(4, NCURSES_RESERVED_EVENT)\n\n#define\tBUTTON_CTRL\t\tNCURSES_MOUSE_MASK(5, 0001L)\n#define\tBUTTON_SHIFT\t\tNCURSES_MOUSE_MASK(5, 0002L)\n#define\tBUTTON_ALT\t\tNCURSES_MOUSE_MASK(5, 0004L)\n#define\tREPORT_MOUSE_POSITION\tNCURSES_MOUSE_MASK(5, 0010L)\n\n#endif\n\n#define\tALL_MOUSE_EVENTS\t(REPORT_MOUSE_POSITION - 1)\n\n/* macros to extract single event-bits from masks */\n#define\tBUTTON_RELEASE(e, x)\t\t((e) & NCURSES_MOUSE_MASK(x, 001))\n#define\tBUTTON_PRESS(e, x)\t\t((e) & NCURSES_MOUSE_MASK(x, 002))\n#define\tBUTTON_CLICK(e, x)\t\t((e) & NCURSES_MOUSE_MASK(x, 004))\n#define\tBUTTON_DOUBLE_CLICK(e, x)\t((e) & NCURSES_MOUSE_MASK(x, 010))\n#define\tBUTTON_TRIPLE_CLICK(e, x)\t((e) & NCURSES_MOUSE_MASK(x, 020))\n#define\tBUTTON_RESERVED_EVENT(e, x)\t((e) & NCURSES_MOUSE_MASK(x, 040))\n\ntypedef struct\n{\n    short id;\t\t/* ID to distinguish multiple devices */\n    int x, y, z;\t/* event coordinates (character-cell) */\n    mmask_t bstate;\t/* button state bits */\n}\nMEVENT;\n\nextern NCURSES_EXPORT(bool)    has_mouse(void);\nextern NCURSES_EXPORT(int)     getmouse (MEVENT *);\nextern NCURSES_EXPORT(int)     ungetmouse (MEVENT *);\nextern NCURSES_EXPORT(mmask_t) mousemask (mmask_t, mmask_t *);\nextern NCURSES_EXPORT(bool)    wenclose (const WINDOW *, int, int);\nextern NCURSES_EXPORT(int)     mouseinterval (int);\nextern NCURSES_EXPORT(bool)    wmouse_trafo (const WINDOW*, int*, int*, bool);\nextern NCURSES_EXPORT(bool)    mouse_trafo (int*, int*, bool);              /* generated */\n\n#if NCURSES_SP_FUNCS\nextern NCURSES_EXPORT(bool)    NCURSES_SP_NAME(has_mouse) (SCREEN*);\nextern NCURSES_EXPORT(int)     NCURSES_SP_NAME(getmouse) (SCREEN*, MEVENT *);\nextern NCURSES_EXPORT(int)     NCURSES_SP_NAME(ungetmouse) (SCREEN*,MEVENT *);\nextern NCURSES_EXPORT(mmask_t) NCURSES_SP_NAME(mousemask) (SCREEN*, mmask_t, mmask_t *);\nextern NCURSES_EXPORT(int)     NCURSES_SP_NAME(mouseinterval) (SCREEN*, int);\n#endif\n\n#ifndef NCURSES_NOMACROS\n#define mouse_trafo(y,x,to_screen) wmouse_trafo(stdscr,y,x,to_screen)\n#endif\n\n/* other non-XSI functions */\n\nextern NCURSES_EXPORT(int) mcprint (char *, int);\t/* direct data to printer */\nextern NCURSES_EXPORT(int) has_key (int);\t\t/* do we have given key? */\n\n#if NCURSES_SP_FUNCS\nextern NCURSES_EXPORT(int) NCURSES_SP_NAME(has_key) (SCREEN*, int);    /* do we have given key? */\nextern NCURSES_EXPORT(int) NCURSES_SP_NAME(mcprint) (SCREEN*, char *, int);\t/* direct data to printer */\n#endif\n\n/* Debugging : use with libncurses_g.a */\n\nextern NCURSES_EXPORT(void) _tracef (const char *, ...) GCC_PRINTFLIKE(1,2);\nextern NCURSES_EXPORT(char *) _traceattr (attr_t);\nextern NCURSES_EXPORT(char *) _traceattr2 (int, chtype);\nextern NCURSES_EXPORT(char *) _tracechar (int);\nextern NCURSES_EXPORT(char *) _tracechtype (chtype);\nextern NCURSES_EXPORT(char *) _tracechtype2 (int, chtype);\n#if NCURSES_WIDECHAR\n#define _tracech_t\t\t_tracecchar_t\nextern NCURSES_EXPORT(char *) _tracecchar_t (const cchar_t *);\n#define _tracech_t2\t\t_tracecchar_t2\nextern NCURSES_EXPORT(char *) _tracecchar_t2 (int, const cchar_t *);\n#else\n#define _tracech_t\t\t_tracechtype\n#define _tracech_t2\t\t_tracechtype2\n#endif\nextern NCURSES_EXPORT(void) trace (const unsigned) GCC_DEPRECATED(\"use curses_trace\");\nextern NCURSES_EXPORT(unsigned) curses_trace (const unsigned);\n\n/* trace masks */\n#define TRACE_DISABLE\t0x0000\t/* turn off tracing */\n#define TRACE_TIMES\t0x0001\t/* trace user and system times of updates */\n#define TRACE_TPUTS\t0x0002\t/* trace tputs calls */\n#define TRACE_UPDATE\t0x0004\t/* trace update actions, old & new screens */\n#define TRACE_MOVE\t0x0008\t/* trace cursor moves and scrolls */\n#define TRACE_CHARPUT\t0x0010\t/* trace all character outputs */\n#define TRACE_ORDINARY\t0x001F\t/* trace all update actions */\n#define TRACE_CALLS\t0x0020\t/* trace all curses calls */\n#define TRACE_VIRTPUT\t0x0040\t/* trace virtual character puts */\n#define TRACE_IEVENT\t0x0080\t/* trace low-level input processing */\n#define TRACE_BITS\t0x0100\t/* trace state of TTY control bits */\n#define TRACE_ICALLS\t0x0200\t/* trace internal/nested calls */\n#define TRACE_CCALLS\t0x0400\t/* trace per-character calls */\n#define TRACE_DATABASE\t0x0800\t/* trace read/write of terminfo/termcap data */\n#define TRACE_ATTRS\t0x1000\t/* trace attribute updates */\n\n#define TRACE_SHIFT\t13\t/* number of bits in the trace masks */\n#define TRACE_MAXIMUM\t((1 << TRACE_SHIFT) - 1) /* maximum trace level */\n\n#if defined(TRACE) || defined(NCURSES_TEST)\nextern NCURSES_EXPORT_VAR(int) _nc_optimize_enable;\t\t/* enable optimizations */\nextern NCURSES_EXPORT(const char *) _nc_visbuf (const char *);\n#define OPTIMIZE_MVCUR\t\t0x01\t/* cursor movement optimization */\n#define OPTIMIZE_HASHMAP\t0x02\t/* diff hashing to detect scrolls */\n#define OPTIMIZE_SCROLL\t\t0x04\t/* scroll optimization */\n#define OPTIMIZE_ALL\t\t0xff\t/* enable all optimizations (dflt) */\n#endif\n\nextern GCC_NORETURN NCURSES_EXPORT(void) exit_curses (int);\n\n#include <unctrl.h>\n\n#ifdef __cplusplus\n\n#ifndef NCURSES_NOMACROS\n\n/* these names conflict with STL */\n#undef box\n#undef clear\n#undef erase\n#undef move\n#undef refresh\n\n#endif /* NCURSES_NOMACROS */\n\n}\n#endif\n\n#endif /* __NCURSES_H */\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}