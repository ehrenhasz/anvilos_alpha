{
  "module_name": "nc_win32.h",
  "hash_id": "724d0ed0ba9f8af7476210cccfeeffcbd732163beee440d471902a8c1c984f35",
  "original_prompt": "Ingested from ncurses-6.4/include/nc_win32.h",
  "human_readable_source": " \n\n \n\n \n\n#ifndef NC_WIN32_H\n#define NC_WIN32_H 1\n\n#if defined(_WIN32) || defined(_WIN64)\n\n#ifndef _NC_WINDOWS\n#define _NC_WINDOWS\n#endif\n\n#ifdef TERMIOS\n#error TERMIOS must not be defined on Windows\n#endif\n\n \n#ifdef WINVER\n#  if WINVER < 0x0600\n#    error WINVER must at least be 0x0600\n#  endif\n#else\n#  define WINVER 0x0600\n#endif\n\n#undef _NC_CHECK_MINTTY\n#if WINVER >= 0x0600\n#define _NC_CHECK_MINTTY\n#endif\n\n#include <windows.h>\n\n#if HAVE_SYS_TIME_H\n#include <sys/time.h>\t\t \n#endif\n\n#ifdef _NC_MSC\n#include <winsock2.h>\t\t \n#endif\n\n#ifdef __cplusplus\nextern \"C\" {\n#endif\n\n#include <ncurses_dll.h>\n\n#undef HAVE_GETTIMEOFDAY\n#define HAVE_GETTIMEOFDAY 1\nextern NCURSES_EXPORT(int) _nc_gettimeofday(struct timeval *, void *);\n\n#undef wcwidth\n#define wcwidth(ucs)  _nc_wcwidth((wchar_t)(ucs))\nextern NCURSES_EXPORT(int)    _nc_wcwidth(wchar_t);\n\n#ifdef EVENTLIST_2nd  \n\nextern NCURSES_EXPORT(void)   _nc_console_size(int* Lines, int* Cols);\nextern NCURSES_EXPORT(HANDLE) _nc_console_handle(int fd);\nextern NCURSES_EXPORT(int)    _nc_console_isatty(int fd);\nextern NCURSES_EXPORT(int)    _nc_console_test(int fd);\nextern NCURSES_EXPORT(int)    _nc_console_read(SCREEN *sp,HANDLE hdl,int *buf);\nextern NCURSES_EXPORT(int)    _nc_console_twait(SCREEN *, HANDLE,int,int,int * EVENTLIST_2nd(_nc_eventlist * evl));\nextern NCURSES_EXPORT(WORD)   _nc_console_MapColor(bool fore, int color);\nextern NCURSES_EXPORT(void)   _nc_console_selectActiveHandle(void);\nextern NCURSES_EXPORT(bool)   _nc_console_get_SBI(void);\nextern NCURSES_EXPORT(void)   _nc_console_set_scrollback(bool normal, CONSOLE_SCREEN_BUFFER_INFO * info);\nextern NCURSES_EXPORT(int)    _nc_console_testmouse(SCREEN *,HANDLE,int EVENTLIST_2nd(_nc_eventlist*));\nextern NCURSES_EXPORT(int)    _nc_console_keyok(int keycode,int flag);\nextern NCURSES_EXPORT(bool)   _nc_console_keyExist(int keycode);\nextern NCURSES_EXPORT(bool)   _nc_console_checkinit(bool initFlag, bool assumeTermInfo);\nextern NCURSES_EXPORT(int)    _nc_console_vt_supported(void);\n\n#ifdef _NC_CHECK_MINTTY\nextern NCURSES_EXPORT(int)    _nc_console_checkmintty(int fd, LPHANDLE pMinTTY);\n#endif\n\n#undef VALID_TERM_ENV\n#define MS_TERMINAL \"ms-terminal\"\n#define VALID_TERM_ENV(term_env, no_terminal) \\\n\t(term_env = (NonEmpty(term_env) \\\n\t\t      ? term_env \\\n\t\t      : (_nc_console_vt_supported() \\\n\t\t         ? MS_TERMINAL \\\n\t\t         : no_terminal)), \\\n\t NonEmpty(term_env))\n\n   \n\n   \n#define VT_FLAG_OUT ENABLE_VIRTUAL_TERMINAL_PROCESSING\n#define VT_FLAG_IN  ENABLE_VIRTUAL_TERMINAL_INPUT\n\n   \n#define CONMODE_IN_DEFAULT (ENABLE_LINE_INPUT | ENABLE_PROCESSED_INPUT | ENABLE_WINDOW_INPUT | ENABLE_MOUSE_INPUT)\n#define CONMODE_OUT_DEFAULT (ENABLE_PROCESSED_OUTPUT | DISABLE_NEWLINE_AUTO_RETURN | ENABLE_LVB_GRID_WORLDWIDE)\n\n   \n#define CONMODE_NORAW    (ENABLE_PROCESSED_INPUT|ENABLE_LINE_INPUT)\n#define CONMODE_NOCBREAK (ENABLE_LINE_INPUT)\n\n\n#if defined(USE_TERM_DRIVER) && defined(USE_WIN32CON_DRIVER)\nextern NCURSES_EXPORT_VAR(TERM_DRIVER) _nc_WIN_DRIVER;\n#endif\n\n#define CON_NUMPAIRS 64\ntypedef struct {\n    BOOL initialized;\n    BOOL buffered;\n    BOOL window_only;\n    BOOL progMode;\n    BOOL isMinTTY;\n    BOOL isTermInfoConsole;\n    HANDLE out;\n    HANDLE inp;\n    HANDLE hdl;\n    HANDLE lastOut;\n    int numButtons;\n    LPDWORD ansi_map;\n    LPDWORD map;\n    LPDWORD rmap;\n    WORD pairs[CON_NUMPAIRS];\n    COORD origin;\n    CHAR_INFO *save_screen;\n    COORD save_size;\n    SMALL_RECT save_region;\n    CONSOLE_SCREEN_BUFFER_INFO SBI;\n    CONSOLE_SCREEN_BUFFER_INFO save_SBI;\n    CONSOLE_CURSOR_INFO save_CI;\n    TTY originalMode;\n} ConsoleInfo;\n\nextern NCURSES_EXPORT_VAR(ConsoleInfo) _nc_CONSOLE;\n#define WINCONSOLE _nc_CONSOLE\n\n#define TypeAlloca(type,count)(type*) _alloca(sizeof(type)*(size_t)(count))\n\n#endif  \n\n#ifdef __cplusplus\n}\n#endif\n\n#endif  \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}