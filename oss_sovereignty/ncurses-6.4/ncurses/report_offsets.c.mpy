{
  "module_name": "report_offsets.c",
  "hash_id": "0f259f1e8572055d0854e91d5d86fd119c9b17168b8eabf62f255f4fc1f25dbd",
  "original_prompt": "Ingested from ncurses-6.4/ncurses/report_offsets.c",
  "human_readable_source": " \n\n \n\n#include <curses.priv.h>\n\nMODULE_ID(\"$Id: report_offsets.c,v 1.22 2021/08/19 19:51:33 tom Exp $\")\n\n#define show_size(type) \\\n\tflag = 0; \\\n\tlast = 0; \\\n\tprintf(\"%5lu   \" #type \"\\n\", (unsigned long)sizeof(type))\n#define show_offset(type,member) \\\n\tnext = (unsigned long)offsetof(type,member); \\\n\tif (last > next) \\\n\t\tprintf(\"?? incorrect order for \" #type \".\" #member \"\\n\"); \\\n\tprintf(\"%5lu %c \" #type \".\" #member \"\\n\", next, flag ? *flag : ' '); \\\n\tlast = next; \\\n\tflag = 0\n\n#if NCURSES_WIDECHAR && NCURSES_EXT_COLORS\n#define show_COLORS(type,member) { flag = \"c\"; show_offset(type,member); }\n#else\n#define show_COLORS(type,member)\t \n#endif\n\n#ifdef USE_TERM_DRIVER\n#define show_DRIVER(type,member) { flag = \"d\"; show_offset(type,member); }\n#else\n#define show_DRIVER(type,member)\t \n#endif\n\n#if NO_LEAKS\n#define show_MLEAKS(type,member) { flag = \"L\"; show_offset(type,member); }\n#else\n#define show_MLEAKS(type,member)\t \n#endif\n\n#ifdef USE_TERM_DRIVER\n#define show_NORMAL(type,member)\t \n#else\n#define show_NORMAL(type,member) { flag = \"n\"; show_offset(type,member); }\n#endif\n\n#define show_OPTION(type,member) { flag = \"+\"; show_offset(type,member); }\n\n#if USE_REENTRANT\n#define show_REENTR(type,member) { flag = \"r\"; show_offset(type,member); }\n#else\n#define show_REENTR(type,member)\t \n#endif\n\n#if NCURSES_SP_FUNCS\n#define show_SPFUNC(type,member) { flag = \"s\"; show_offset(type,member); }\n#else\n#define show_SPFUNC(type,member)\t \n#endif\n\n#ifdef USE_PTHREADS\n#define show_THREAD(type,member) { flag = \"t\"; show_offset(type,member); }\n#else\n#define show_THREAD(type,member)\t \n#endif\n\n#ifdef TRACE\n#define show_TRACES(type,member) { flag = \"T\"; show_offset(type,member); }\n#else\n#define show_TRACES(type,member)\t \n#endif\n\n#if USE_WIDEC_SUPPORT\n#define show_WIDECH(type,member) { flag = \"w\"; show_offset(type,member); }\n#else\n#define show_WIDECH(type,member)\t \n#endif\n\nint\nmain(void)\n{\n    const char *flag = 0;\n    unsigned long last, next;\n\n    printf(\"Size/offsets of data structures:\\n\");\n\n    show_size(attr_t);\n    show_size(chtype);\n#if USE_WIDEC_SUPPORT\n    show_size(cchar_t);\n#endif\n    show_size(mmask_t);\n    show_size(MEVENT);\n    show_size(NCURSES_BOOL);\n\n    printf(\"\\n\");\n    show_size(SCREEN);\n    show_offset(SCREEN, _ifd);\n    show_offset(SCREEN, _fifo);\n    show_offset(SCREEN, _fifohead);\n    show_offset(SCREEN, _direct_color);\n    show_offset(SCREEN, _panelHook);\n    show_offset(SCREEN, jump);\n    show_offset(SCREEN, rsp);\n#if NCURSES_NO_PADDING\n    show_OPTION(SCREEN, _no_padding);\n#endif\n#if USE_HARD_TABS\n    show_OPTION(SCREEN, _ht_cost);\n#endif\n#if USE_ITALIC\n    show_OPTION(SCREEN, _use_ritm);\n#endif\n#if USE_KLIBC_KBD\n    show_OPTION(SCREEN, _extended_key);\n#endif\n#if NCURSES_EXT_FUNCS\n    show_OPTION(SCREEN, _assumed_color);\n#endif\n#if USE_GPM_SUPPORT\n    show_OPTION(SCREEN, _mouse_gpm_loaded);\n#ifdef HAVE_LIBDL\n    show_OPTION(SCREEN, _dlopen_gpm);\n#endif\n#endif\n#if USE_EMX_MOUSE\n    show_OPTION(SCREEN, _emxmouse_wfd);\n#endif\n#if USE_SYSMOUSE\n    show_OPTION(SCREEN, _sysmouse_fifo);\n#endif\n    show_DRIVER(SCREEN, _drv_mouse_fifo);\n#if USE_SIZECHANGE\n    show_OPTION(SCREEN, _resize);\n#endif\n    show_DRIVER(SCREEN, _windowlist);\n    show_REENTR(SCREEN, _ttytype);\n    show_SPFUNC(SCREEN, use_tioctl);\n    show_WIDECH(SCREEN, _screen_acs_fix);\n    show_COLORS(SCREEN, _ordered_pairs);\n    show_TRACES(SCREEN, tracechr_buf);\n\n    printf(\"\\n\");\n    show_size(TERMINAL);\n    show_offset(TERMINAL, type);\n    show_offset(TERMINAL, Filedes);\n    show_offset(TERMINAL, Ottyb);\n    show_offset(TERMINAL, Nttyb);\n    show_offset(TERMINAL, _baudrate);\n    show_offset(TERMINAL, _termname);\n    show_offset(TERMINAL, tparm_state);\n#if HAVE_INIT_EXTENDED_COLOR\n    show_COLORS(TERMINAL, type2);\n#endif\n\n    printf(\"\\n\");\n    show_size(TERMTYPE);\n#if NCURSES_XNAMES\n    show_OPTION(TERMTYPE, ext_str_table);\n    show_OPTION(TERMTYPE, ext_Strings);\n#endif\n\n    printf(\"\\n\");\n    show_size(TPARM_STATE);\n    show_offset(TPARM_STATE, stack);\n    show_offset(TPARM_STATE, stack_ptr);\n    show_offset(TPARM_STATE, out_buff);\n    show_offset(TPARM_STATE, fmt_buff);\n    show_offset(TPARM_STATE, static_vars);\n    show_TRACES(TPARM_STATE, tname);\n\n    printf(\"\\n\");\n    show_size(WINDOW);\n    show_WIDECH(WINDOW, _bkgrnd);\n    show_COLORS(WINDOW, _color);\n\n    printf(\"\\n\");\n    show_size(NCURSES_GLOBALS);\n    show_offset(NCURSES_GLOBALS, init_signals);\n    show_offset(NCURSES_GLOBALS, tgetent_cache);\n    show_offset(NCURSES_GLOBALS, dbd_vars);\n#if HAVE_TSEARCH\n    show_offset(NCURSES_GLOBALS, cached_tparm);\n#endif\n    show_DRIVER(NCURSES_GLOBALS, term_driver);\n    show_NORMAL(NCURSES_GLOBALS, _nc_windowlist);\n#if USE_HOME_TERMINFO\n    show_OPTION(NCURSES_GLOBALS, home_terminfo);\n#endif\n#if !USE_SAFE_SPRINTF\n    show_OPTION(NCURSES_GLOBALS, safeprint_rows);\n#endif\n    show_THREAD(NCURSES_GLOBALS, mutex_curses);\n#if USE_PTHREADS_EINTR\n    show_THREAD(NCURSES_GLOBALS, read_thread);\n#endif\n    show_WIDECH(NCURSES_GLOBALS, key_name);\n    show_TRACES(NCURSES_GLOBALS, trace_opened);\n    show_MLEAKS(NCURSES_GLOBALS, leak_checking);\n\n    printf(\"\\n\");\n    show_size(NCURSES_PRESCREEN);\n    show_offset(NCURSES_PRESCREEN, tparm_state);\n    show_offset(NCURSES_PRESCREEN, saved_tty);\n    show_offset(NCURSES_PRESCREEN, use_tioctl);\n    show_offset(NCURSES_PRESCREEN, _outch);\n#ifndef USE_SP_RIPOFF\n    show_NORMAL(NCURSES_PRESCREEN, rippedoff);\n#endif\n#if NCURSES_NO_PADDING\n    show_OPTION(NCURSES_PRESCREEN, _no_padding);\n#endif\n#if BROKEN_LINKER\n    show_offset(NCURSES_PRESCREEN, real_acs_map);\n#else\n    show_REENTR(NCURSES_PRESCREEN, real_acs_map);\n#endif\n#if BROKEN_LINKER || USE_REENTRANT\n    show_TRACES(NCURSES_PRESCREEN, _outchars);\n#endif\n\n    return EXIT_SUCCESS;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}