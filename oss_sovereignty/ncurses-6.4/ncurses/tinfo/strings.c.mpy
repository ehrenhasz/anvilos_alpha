{
  "module_name": "strings.c",
  "hash_id": "3afb8ffdd461b304d37c7ce78c48f94553858d661b31dd0ade8c36b101f23f04",
  "original_prompt": "Ingested from ncurses-6.4/ncurses/tinfo/strings.c",
  "human_readable_source": " \n\n \n\n \n\n#include <curses.priv.h>\n#include <tic.h>\n\nMODULE_ID(\"$Id: strings.c,v 1.10 2020/02/02 23:34:34 tom Exp $\")\n\n \n\n#if !HAVE_STRSTR\nNCURSES_EXPORT(char *)\n_nc_strstr(const char *haystack, const char *needle)\n{\n    size_t len1 = strlen(haystack);\n    size_t len2 = strlen(needle);\n    char *result = 0;\n\n    while ((len1 != 0) && (len1-- >= len2)) {\n\tif (!strncmp(haystack, needle, len2)) {\n\t    result = (char *) haystack;\n\t    break;\n\t}\n\thaystack++;\n    }\n    return result;\n}\n#endif\n\n \nNCURSES_EXPORT(string_desc *)\n_nc_str_init(string_desc * dst, char *src, size_t len)\n{\n    if (dst != 0) {\n\tdst->s_head = src;\n\tdst->s_tail = src;\n\tdst->s_size = len - 1;\n\tdst->s_init = dst->s_size;\n\tif (src != 0)\n\t    *src = 0;\n    }\n    return dst;\n}\n\n \nNCURSES_EXPORT(string_desc *)\n_nc_str_null(string_desc * dst, size_t len)\n{\n    return _nc_str_init(dst, 0, len);\n}\n\n \nNCURSES_EXPORT(string_desc *)\n_nc_str_copy(string_desc * dst, string_desc * src)\n{\n    *dst = *src;\n    return dst;\n}\n\n \nNCURSES_EXPORT(bool)\n_nc_safe_strcat(string_desc * dst, const char *src)\n{\n    if (PRESENT(src)) {\n\tsize_t len = strlen(src);\n\n\tif (len < dst->s_size) {\n\t    if (dst->s_tail != 0) {\n\t\t_nc_STRCPY(dst->s_tail, src, dst->s_size);\n\t\tdst->s_tail += len;\n\t    }\n\t    dst->s_size -= len;\n\t    return TRUE;\n\t}\n    }\n    return FALSE;\n}\n\n \nNCURSES_EXPORT(bool)\n_nc_safe_strcpy(string_desc * dst, const char *src)\n{\n    if (PRESENT(src)) {\n\tsize_t len = strlen(src);\n\n\tif (len < dst->s_size) {\n\t    if (dst->s_head != 0) {\n\t\t_nc_STRCPY(dst->s_head, src, dst->s_size);\n\t\tdst->s_tail = dst->s_head + len;\n\t    }\n\t    dst->s_size = dst->s_init - len;\n\t    return TRUE;\n\t}\n    }\n    return FALSE;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}