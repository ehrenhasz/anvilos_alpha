{
  "module_name": "lib_kernel.c",
  "hash_id": "5b151ab05af003c3ac76e9f95ec55a37f739da4326fe97a2963c4042a593a1bb",
  "original_prompt": "Ingested from ncurses-6.4/ncurses/tinfo/lib_kernel.c",
  "human_readable_source": " \n\n \n\n \n\n#include <curses.priv.h>\n\nMODULE_ID(\"$Id: lib_kernel.c,v 1.35 2022/07/28 20:14:51 tom Exp $\")\n\n#ifdef TERMIOS\nstatic int\n_nc_vdisable(void)\n{\n    int value = -1;\n#if defined(_POSIX_VDISABLE) && HAVE_UNISTD_H\n    value = _POSIX_VDISABLE;\n#endif\n#if defined(_PC_VDISABLE) && HAVE_FPATHCONF\n    if (value == -1) {\n\tvalue = (int) fpathconf(0, _PC_VDISABLE);\n\tif (value == -1) {\n\t    value = 0377;\n\t}\n    }\n#elif defined(VDISABLE)\n    if (value == -1)\n\tvalue = VDISABLE;\n#endif\n    return value;\n}\n#endif  \n\n \n\nNCURSES_EXPORT(char)\nNCURSES_SP_NAME(erasechar) (NCURSES_SP_DCL0)\n{\n    int result = ERR;\n    TERMINAL *termp = TerminalOf(SP_PARM);\n\n    T((T_CALLED(\"erasechar(%p)\"), (void *) SP_PARM));\n\n    if (termp != 0) {\n#ifdef TERMIOS\n\tresult = termp->Ottyb.c_cc[VERASE];\n\tif (result == _nc_vdisable())\n\t    result = ERR;\n#elif defined(EXP_WIN32_DRIVER)\n\tresult = ERR;\n#else\n\tresult = termp->Ottyb.sg_erase;\n#endif\n    }\n    returnChar((char) result);\n}\n\n#if NCURSES_SP_FUNCS\nNCURSES_EXPORT(char)\nerasechar(void)\n{\n    return NCURSES_SP_NAME(erasechar) (CURRENT_SCREEN);\n}\n#endif\n\n \n\nNCURSES_EXPORT(char)\nNCURSES_SP_NAME(killchar) (NCURSES_SP_DCL0)\n{\n    int result = ERR;\n    TERMINAL *termp = TerminalOf(SP_PARM);\n\n    T((T_CALLED(\"killchar(%p)\"), (void *) SP_PARM));\n\n    if (termp != 0) {\n#ifdef TERMIOS\n\tresult = termp->Ottyb.c_cc[VKILL];\n\tif (result == _nc_vdisable())\n\t    result = ERR;\n#elif defined(EXP_WIN32_DRIVER)\n\tresult = ERR;\n#else\n\tresult = termp->Ottyb.sg_kill;\n#endif\n    }\n    returnChar((char) result);\n}\n\n#if NCURSES_SP_FUNCS\nNCURSES_EXPORT(char)\nkillchar(void)\n{\n    return NCURSES_SP_NAME(killchar) (CURRENT_SCREEN);\n}\n#endif\n\n \n\nNCURSES_EXPORT(int)\nNCURSES_SP_NAME(flushinp) (NCURSES_SP_DCL0)\n{\n    TERMINAL *termp = TerminalOf(SP_PARM);\n\n    T((T_CALLED(\"flushinp(%p)\"), (void *) SP_PARM));\n\n    if (termp != 0) {\n#ifdef TERMIOS\n\ttcflush(termp->Filedes, TCIFLUSH);\n#else\n\terrno = 0;\n\tdo {\n#if defined(EXP_WIN32_DRIVER)\n\t    _nc_console_flush(_nc_console_fd2handle(termp->Filedes));\n#else\n\t    ioctl(termp->Filedes, TIOCFLUSH, 0);\n#endif\n\t} while\n\t    (errno == EINTR);\n#endif\n\tif (SP_PARM) {\n\t    SP_PARM->_fifohead = -1;\n\t    SP_PARM->_fifotail = 0;\n\t    SP_PARM->_fifopeek = 0;\n\t}\n\treturnCode(OK);\n    }\n    returnCode(ERR);\n}\n\n#if NCURSES_SP_FUNCS\nNCURSES_EXPORT(int)\nflushinp(void)\n{\n    return NCURSES_SP_NAME(flushinp) (CURRENT_SCREEN);\n}\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}