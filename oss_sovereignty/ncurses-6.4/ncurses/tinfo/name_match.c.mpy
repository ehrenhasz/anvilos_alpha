{
  "module_name": "name_match.c",
  "hash_id": "1e8d6fde37a14b6478cc1108f66901dd034e97a2700d2a33ce7e1680fdbc0976",
  "original_prompt": "Ingested from ncurses-6.4/ncurses/tinfo/name_match.c",
  "human_readable_source": " \n\n \n\n#include <curses.priv.h>\n#include <tic.h>\n\nMODULE_ID(\"$Id: name_match.c,v 1.25 2020/02/02 23:34:34 tom Exp $\")\n\n#define FirstName _nc_globals.first_name\n\n#if NCURSES_USE_TERMCAP && NCURSES_XNAMES\nstatic const char *\nskip_index(const char *name)\n{\n    if ((_nc_syntax == SYN_TERMCAP) && _nc_user_definable) {\n\tconst char *bar = strchr(name, '|');\n\tif (bar != 0 && (bar - name) == 2)\n\t    name = bar + 1;\n    }\n    return name;\n}\n#endif\n\n \nNCURSES_EXPORT(char *)\n_nc_first_name(const char *const sp)\n{\n#if NO_LEAKS\n    if (sp == 0) {\n\tif (FirstName != 0) {\n\t    FreeAndNull(FirstName);\n\t}\n    } else\n#endif\n    {\n\tif (FirstName == 0)\n\t    FirstName = typeMalloc(char, MAX_NAME_SIZE + 1);\n\n\tif (FirstName != 0) {\n\t    unsigned n;\n\t    const char *src = sp;\n#if NCURSES_USE_TERMCAP && NCURSES_XNAMES\n\t    src = skip_index(sp);\n#endif\n\t    for (n = 0; n < MAX_NAME_SIZE; n++) {\n\t\tif ((FirstName[n] = src[n]) == '\\0'\n\t\t    || (FirstName[n] == '|'))\n\t\t    break;\n\t    }\n\t    FirstName[n] = '\\0';\n\t}\n    }\n    return (FirstName);\n}\n\n \nNCURSES_EXPORT(int)\n_nc_name_match(const char *const namelst, const char *const name, const char *const delim)\n{\n    const char *s;\n\n    if ((s = namelst) != 0) {\n\twhile (*s != '\\0') {\n\t    const char *d, *t;\n\t    int code, found;\n\n\t    for (d = name; *d != '\\0'; d++) {\n\t\tif (*s != *d)\n\t\t    break;\n\t\ts++;\n\t    }\n\t    found = FALSE;\n\t    for (code = TRUE; *s != '\\0'; code = FALSE, s++) {\n\t\tfor (t = delim; *t != '\\0'; t++) {\n\t\t    if (*s == *t) {\n\t\t\tfound = TRUE;\n\t\t\tbreak;\n\t\t    }\n\t\t}\n\t\tif (found)\n\t\t    break;\n\t    }\n\t    if (code && *d == '\\0')\n\t\treturn code;\n\t    if (*s++ == 0)\n\t\tbreak;\n\t}\n    }\n    return FALSE;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}