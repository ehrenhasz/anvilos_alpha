{
  "module_name": "lib_wacs.c",
  "hash_id": "c7bfc9ae43d819086050e8f67dc788c407fc514a90017db8a2fcad1c429923a1",
  "original_prompt": "Ingested from ncurses-6.4/ncurses/widechar/lib_wacs.c",
  "human_readable_source": " \n\n \n\n#include <curses.priv.h>\n\nMODULE_ID(\"$Id: lib_wacs.c,v 1.20 2020/02/02 23:34:34 tom Exp $\")\n\nNCURSES_EXPORT_VAR(cchar_t) * _nc_wacs = 0;\n\nNCURSES_EXPORT(void)\n_nc_init_wacs(void)\n{\n     \n    static const struct {\n\tunsigned map;\n\tint\tvalue[2];\n    } table[] = {\n\t \n\t{ 'l',\t{ '+',\t0x250c }},\t \n\t{ 'm',\t{ '+',\t0x2514 }},\t \n\t{ 'k',\t{ '+',\t0x2510 }},\t \n\t{ 'j',\t{ '+',\t0x2518 }},\t \n\t{ 't',\t{ '+',\t0x251c }},\t \n\t{ 'u',\t{ '+',\t0x2524 }},\t \n\t{ 'v',\t{ '+',\t0x2534 }},\t \n\t{ 'w',\t{ '+',\t0x252c }},\t \n\t{ 'q',\t{ '-',\t0x2500 }},\t \n\t{ 'x',\t{ '|',\t0x2502 }},\t \n\t{ 'n',\t{ '+',\t0x253c }},\t \n\t{ 'o',\t{ '~',\t0x23ba }},\t \n\t{ 's',\t{ '_',\t0x23bd }},\t \n\t{ '`',\t{ '+',\t0x25c6 }},\t \n\t{ 'a',\t{ ':',\t0x2592 }},\t \n\t{ 'f',\t{ '\\'',\t0x00b0 }},\t \n\t{ 'g',\t{ '#',\t0x00b1 }},\t \n\t{ '~',\t{ 'o',\t0x00b7 }},\t \n\t \n\t{ ',',\t{ '<',\t0x2190 }},\t \n\t{ '+',\t{ '>',\t0x2192 }},\t \n\t{ '.',\t{ 'v',\t0x2193 }},\t \n\t{ '-',\t{ '^',\t0x2191 }},\t \n\t{ 'h',\t{ '#',\t0x2592 }},\t \n\t{ 'i',\t{ '#',\t0x2603 }},\t \n\t{ '0',\t{ '#',\t0x25ae }},\t \n\t \n\t{ 'p',\t{ '-',\t0x23bb }},\t \n\t{ 'r',\t{ '-',\t0x23bc }},\t \n\t{ 'y',\t{ '<',\t0x2264 }},\t \n\t{ 'z',\t{ '>',\t0x2265 }},\t \n\t{ '{',\t{ '*',\t0x03c0 }},\t \n\t{ '|',\t{ '!',\t0x2260 }},\t \n\t{ '}',\t{ 'f',\t0x00a3 }},\t \n\t \n\t{ 'L',\t{ '+',\t0x250f }},\t \n\t{ 'M',\t{ '+',\t0x2517 }},\t \n\t{ 'K',\t{ '+',\t0x2513 }},\t \n\t{ 'J',\t{ '+',\t0x251b }},\t \n\t{ 'T',\t{ '+',\t0x2523 }},\t \n\t{ 'U',\t{ '+',\t0x252b }},\t \n\t{ 'V',\t{ '+',\t0x253b }},\t \n\t{ 'W',\t{ '+',\t0x2533 }},\t \n\t{ 'Q',\t{ '-',\t0x2501 }},\t \n\t{ 'X',\t{ '|',\t0x2503 }},\t \n\t{ 'N',\t{ '+',\t0x254b }},\t \n\t \n\t{ 'C',\t{ '+',\t0x2554 }},\t \n\t{ 'D',\t{ '+',\t0x255a }},\t \n\t{ 'B',\t{ '+',\t0x2557 }},\t \n\t{ 'A',\t{ '+',\t0x255d }},\t \n\t{ 'G',\t{ '+',\t0x2563 }},\t \n\t{ 'F',\t{ '+',\t0x2560 }},\t \n\t{ 'H',\t{ '+',\t0x2569 }},\t \n\t{ 'I',\t{ '+',\t0x2566 }},\t \n\t{ 'R',\t{ '-',\t0x2550 }},\t \n\t{ 'Y',\t{ '|',\t0x2551 }},\t \n\t{ 'E',\t{ '+',\t0x256c }},\t \n    };\n     \n\n    int active = _nc_unicode_locale();\n\n     \n    T((\"initializing WIDE-ACS map (Unicode is%s active)\",\n       active ? \"\" : \" not\"));\n\n    if ((_nc_wacs = typeCalloc(cchar_t, ACS_LEN)) != 0) {\n\tunsigned n;\n\n\tfor (n = 0; n < SIZEOF(table); ++n) {\n\t    unsigned m;\n#if NCURSES_WCWIDTH_GRAPHICS\n\t    int wide = wcwidth((wchar_t) table[n].value[active]);\n#else\n\t    int wide = 1;\n#endif\n\n\t    m = table[n].map;\n\t    if (active && (wide == 1)) {\n\t\tSetChar(_nc_wacs[m], table[n].value[1], A_NORMAL);\n\t    } else if (acs_map[m] & A_ALTCHARSET) {\n\t\tSetChar(_nc_wacs[m], m, A_ALTCHARSET);\n\t    } else {\n\t\tSetChar(_nc_wacs[m], table[n].value[0], A_NORMAL);\n\t    }\n\n\t    T((\"#%d, width:%d SetChar(%c, %s) = %s\",\n\t       n, wide, m,\n\t       _tracechar(table[n].value[active]),\n\t       _tracecchar_t(&_nc_wacs[m])));\n\t}\n    }\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}