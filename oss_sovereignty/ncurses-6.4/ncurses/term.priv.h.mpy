{
  "module_name": "term.priv.h",
  "hash_id": "d898c501c803dcd2fb952f3582562de7b2520f9892862a8ab4c8a227fe5eeb4c",
  "original_prompt": "Ingested from ncurses-6.4/ncurses/term.priv.h",
  "human_readable_source": " \n\n \n\n#ifndef _TERM_PRIV_H\n#define _TERM_PRIV_H 1\n \n\n#ifdef __cplusplus\nextern \"C\" {\n#endif\n\n#include <ncurses_cfg.h>\n\n#undef NCURSES_OPAQUE\n#define NCURSES_INTERNALS 1\n#define NCURSES_OPAQUE 0\n\n#include <limits.h>\t\t \n#include <signal.h>\t\t \n#include <time.h>\t\t \n#include <term.h>\t\t \n\n#ifdef USE_PTHREADS\n#if USE_REENTRANT\n#include <pthread.h>\n#endif\n#endif\n\n \n#define STACKSIZE 20\n\ntypedef struct {\n\tunion {\n\t\tint\tnum;\n\t\tchar *\tstr;\n\t} data;\n\tbool num_type;\n} STACK_FRAME;\n\n#define NUM_VARS 26\n\ntypedef struct {\n\tconst char *\ttparam_base;\n\n\tSTACK_FRAME\tstack[STACKSIZE];\n\tint\t\tstack_ptr;\n\n\tchar *\t\tout_buff;\n\tsize_t\t\tout_size;\n\tsize_t\t\tout_used;\n\n\tchar *\t\tfmt_buff;\n\tsize_t\t\tfmt_size;\n\n\tint\t\tstatic_vars[NUM_VARS];\n#ifdef TRACE\n\tconst char *\ttname;\n#endif\n} TPARM_STATE;\n\ntypedef struct {\n\tchar *\t\ttext;\n\tsize_t\t\tsize;\n} TRACEBUF;\n\ntypedef struct {\n\tconst char *\tname;\n\tchar *\t\tvalue;\n} ITERATOR_VARS;\n\n \ntypedef struct term {\t\t\t \n\tTERMTYPE\ttype;\t\t \n\tshort\t\tFiledes;\t \n\tTTY\t\tOttyb;\t\t \n\tTTY\t\tNttyb;\t\t \n\tint\t\t_baudrate;\t \n\tchar *\t\t_termname;\t \n\tTPARM_STATE\ttparm_state;\n#if NCURSES_EXT_COLORS\n\tTERMTYPE2\ttype2;\t\t \n#endif\n#undef TERMINAL\n} TERMINAL;\n\n \ntypedef\tstruct {\n\tWINDOW *\twin;\t\t \n\tint\t\tline;\t\t \n\tint\t\t(*hook)(WINDOW *, int);  \n} ripoff_t;\n\n \ntypedef struct {\n\tlong\t\tsequence;\n\tbool\t\tlast_used;\n\tchar *\t\tfix_sgr0;\t \n\tchar *\t\tlast_bufp;\t \n\tTERMINAL *\tlast_term;\n} TGETENT_CACHE;\n\n#define TGETENT_MAX 4\n\n#include <term_entry.h>\t\t \n\n#ifdef USE_TERM_DRIVER\nstruct DriverTCB;  \n#endif\n\n \ntypedef struct {\n\tSIG_ATOMIC_T\thave_sigtstp;\n\tSIG_ATOMIC_T\thave_sigwinch;\n\tSIG_ATOMIC_T\tcleanup_nested;\n\n\tbool\t\tinit_signals;\n\tbool\t\tinit_screen;\n\n\tchar *\t\tcomp_sourcename;\n\tchar *\t\tcomp_termtype;\n\n\tbool\t\thave_tic_directory;\n\tbool\t\tkeep_tic_directory;\n\tconst char *\ttic_directory;\n\n\tchar *\t\tdbi_list;\n\tint\t\tdbi_size;\n\n\tchar *\t\tfirst_name;\n\tchar **\t\tkeyname_table;\n\tint\t\tinit_keyname;\n\n\tint\t\tslk_format;\n\n\tint\t\tgetstr_limit;\t \n\n\tchar *\t\tsafeprint_buf;\n\tsize_t\t\tsafeprint_used;\n\n\tTGETENT_CACHE\ttgetent_cache[TGETENT_MAX];\n\tint\t\ttgetent_index;\n\tlong\t\ttgetent_sequence;\n\tint\t\tterminal_count;\n\n\tchar *\t\tdbd_blob;\t \n\tchar **\t\tdbd_list;\t \n\tint\t\tdbd_size;\t \n\ttime_t\t\tdbd_time;\t \n\tITERATOR_VARS\tdbd_vars[dbdLAST];\n\n#if HAVE_TSEARCH\n\tvoid *\t\tcached_tparm;\n\tint\t\tcount_tparm;\n#endif  \n\n#ifdef USE_TERM_DRIVER\n\tint\t\t(*term_driver)(struct DriverTCB*, const char*, int*);\n#endif\n\n#define WINDOWLIST struct _win_list\n\n#ifndef USE_SP_WINDOWLIST\n\tWINDOWLIST *\t_nc_windowlist;\n#define WindowList(sp)\t_nc_globals._nc_windowlist\n#endif\n\n#if USE_HOME_TERMINFO\n\tchar *\t\thome_terminfo;\n#endif\n\n#if !USE_SAFE_SPRINTF\n\tint\t\tsafeprint_cols;\n\tint\t\tsafeprint_rows;\n#endif\n\n#ifdef USE_PTHREADS\n\tpthread_mutex_t\tmutex_curses;\n\tpthread_mutex_t\tmutex_prescreen;\n\tpthread_mutex_t\tmutex_screen;\n\tpthread_mutex_t\tmutex_update;\n\tpthread_mutex_t\tmutex_tst_tracef;\n\tpthread_mutex_t\tmutex_tracef;\n\tint\t\tnested_tracef;\n\tint\t\tuse_pthreads;\n#define _nc_use_pthreads\t_nc_globals.use_pthreads\n#if USE_PTHREADS_EINTR\n\tpthread_t\tread_thread;\t \n#endif\n#endif\n#if USE_WIDEC_SUPPORT\n\tchar\t\tkey_name[MB_LEN_MAX + 1];\n#endif\n\n#ifdef TRACE\n\tbool\t\ttrace_opened;\n\tchar\t\ttrace_fname[PATH_MAX];\n\tint\t\ttrace_level;\n\tFILE *\t\ttrace_fp;\n\tint\t\ttrace_fd;\n\n\tchar *\t\ttracearg_buf;\n\tsize_t\t\ttracearg_used;\n\n\tTRACEBUF *\ttracebuf_ptr;\n\tsize_t\t\ttracebuf_used;\n\n\tchar\t\ttracechr_buf[40];\n\n\tchar *\t\ttracedmp_buf;\n\tsize_t\t\ttracedmp_used;\n\n\tunsigned char *\ttracetry_buf;\n\tsize_t\t\ttracetry_used;\n\n\tchar\t\ttraceatr_color_buf[2][80];\n\tint\t\ttraceatr_color_sel;\n\tint\t\ttraceatr_color_last;\n#if !defined(USE_PTHREADS) && USE_REENTRANT\n\tint\t\tnested_tracef;\n#endif\n#endif\t \n\n#if NO_LEAKS\n\tbool\t\tleak_checking;\n#endif\n} NCURSES_GLOBALS;\n\nextern NCURSES_EXPORT_VAR(NCURSES_GLOBALS) _nc_globals;\n\n#define N_RIPS 5\n\n#ifdef USE_PTHREADS\ntypedef struct _prescreen_list {\n\tstruct _prescreen_list *next;\n\tpthread_t\tid;\n\tstruct screen *\tsp;\n} PRESCREEN_LIST;\n#endif\n\n \ntypedef struct {\n#ifdef USE_PTHREADS\n\tPRESCREEN_LIST *allocated;\n#else\n\tstruct screen * allocated;\n#endif\n\tbool\t\tuse_env;\n\tbool\t\tfilter_mode;\n\tattr_t\t\tprevious_attr;\n\tTPARM_STATE\ttparm_state;\n\tTTY *\t\tsaved_tty;\t \n\tbool\t\tuse_tioctl;\n\tNCURSES_SP_OUTC\t_outch;\t\t \n#ifndef USE_SP_RIPOFF\n\tripoff_t\trippedoff[N_RIPS];\n\tripoff_t *\trsp;\n#endif\n#if NCURSES_NO_PADDING\n\tbool\t\t_no_padding;\t \n#endif\n#if BROKEN_LINKER || USE_REENTRANT\n\tchtype *\treal_acs_map;\n\tint\t\t_LINES;\n\tint\t\t_COLS;\n\tint\t\t_TABSIZE;\n\tint\t\t_ESCDELAY;\n\tTERMINAL *\t_cur_term;\n#endif\n#ifdef TRACE\n#if BROKEN_LINKER || USE_REENTRANT\n\tlong\t\t_outchars;\n\tconst char *\t_tputs_trace;\n#endif\n#endif\n} NCURSES_PRESCREEN;\n\nextern NCURSES_EXPORT_VAR(NCURSES_PRESCREEN) _nc_prescreen;\n\nextern NCURSES_EXPORT(void) _nc_free_tparm(TERMINAL*);\n\n#ifdef __cplusplus\n}\n#endif\n\n \n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}