{
  "module_name": "lib_box.c",
  "hash_id": "db082b3181bf21327f65a24cf691eea0647b0e67b2908729bb33c99d2c5b8e71",
  "original_prompt": "Ingested from ncurses-6.4/ncurses/base/lib_box.c",
  "human_readable_source": " \n\n \n\n \n\n#include <curses.priv.h>\n\nMODULE_ID(\"$Id: lib_box.c,v 1.26 2020/02/02 23:34:34 tom Exp $\")\n\n#if USE_WIDEC_SUPPORT\nstatic NCURSES_INLINE chtype\n_my_render(WINDOW *win, chtype ch)\n{\n    NCURSES_CH_T wch;\n    SetChar2(wch, ch);\n    wch = _nc_render(win, wch);\n    return ((attr_t) CharOf(wch)) | AttrOf(wch);\n}\n\n#define RENDER_WITH_DEFAULT(ch,def) w ## ch = _my_render(win, (ch == 0) ? def : ch)\n#else\n#define RENDER_WITH_DEFAULT(ch,def) w ## ch = _nc_render(win, (ch == 0) ? def : ch)\n#endif\n\nNCURSES_EXPORT(int)\nwborder(WINDOW *win,\n\tchtype ls, chtype rs,\n\tchtype ts, chtype bs,\n\tchtype tl, chtype tr,\n\tchtype bl, chtype br)\n{\n    NCURSES_SIZE_T i;\n    NCURSES_SIZE_T endx, endy;\n    chtype wls, wrs, wts, wbs, wtl, wtr, wbl, wbr;\n\n    T((T_CALLED(\"wborder(%p,%s,%s,%s,%s,%s,%s,%s,%s)\"),\n       (void *) win,\n       _tracechtype2(1, ls),\n       _tracechtype2(2, rs),\n       _tracechtype2(3, ts),\n       _tracechtype2(4, bs),\n       _tracechtype2(5, tl),\n       _tracechtype2(6, tr),\n       _tracechtype2(7, bl),\n       _tracechtype2(8, br)));\n\n    if (!win)\n\treturnCode(ERR);\n\n    RENDER_WITH_DEFAULT(ls, ACS_VLINE);\n    RENDER_WITH_DEFAULT(rs, ACS_VLINE);\n    RENDER_WITH_DEFAULT(ts, ACS_HLINE);\n    RENDER_WITH_DEFAULT(bs, ACS_HLINE);\n    RENDER_WITH_DEFAULT(tl, ACS_ULCORNER);\n    RENDER_WITH_DEFAULT(tr, ACS_URCORNER);\n    RENDER_WITH_DEFAULT(bl, ACS_LLCORNER);\n    RENDER_WITH_DEFAULT(br, ACS_LRCORNER);\n\n    T((\"using %s, %s, %s, %s, %s, %s, %s, %s\",\n       _tracechtype2(1, wls),\n       _tracechtype2(2, wrs),\n       _tracechtype2(3, wts),\n       _tracechtype2(4, wbs),\n       _tracechtype2(5, wtl),\n       _tracechtype2(6, wtr),\n       _tracechtype2(7, wbl),\n       _tracechtype2(8, wbr)));\n\n    endx = win->_maxx;\n    endy = win->_maxy;\n\n    for (i = 0; i <= endx; i++) {\n\tSetChar2(win->_line[0].text[i], wts);\n\tSetChar2(win->_line[endy].text[i], wbs);\n    }\n    win->_line[endy].firstchar = win->_line[0].firstchar = 0;\n    win->_line[endy].lastchar = win->_line[0].lastchar = endx;\n\n    for (i = 0; i <= endy; i++) {\n#if USE_WIDEC_SUPPORT\n\tif (endx > 0 && isWidecExt(win->_line[i].text[endx])) {\n\t    SetChar2(win->_line[i].text[endx - 1], ' ');\n\t}\n#endif\n\tSetChar2(win->_line[i].text[0], wls);\n\tSetChar2(win->_line[i].text[endx], wrs);\n\twin->_line[i].firstchar = 0;\n\twin->_line[i].lastchar = endx;\n#if USE_WIDEC_SUPPORT\n\tif (isWidecExt(win->_line[i].text[1])) {\n\t    SetChar2(win->_line[i].text[1], ' ');\n\t}\n#endif\n    }\n    SetChar2(win->_line[0].text[0], wtl);\n    SetChar2(win->_line[0].text[endx], wtr);\n    SetChar2(win->_line[endy].text[0], wbl);\n    SetChar2(win->_line[endy].text[endx], wbr);\n\n    _nc_synchook(win);\n    returnCode(OK);\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}