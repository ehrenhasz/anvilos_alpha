{
  "module_name": "form_fieldtype.3x",
  "hash_id": "51ed70930b4a94a8a11a14838f69408afe3d36ecf3c1a5af2e676ba3ed655fe0",
  "original_prompt": "Ingested from ncurses-6.4/man/form_fieldtype.3x",
  "human_readable_source": "'\\\" t\n.\\\"***************************************************************************\n.\\\" Copyright 2018-2021,2022 Thomas E. Dickey                                *\n.\\\" Copyright 1998-2006,2010 Free Software Foundation, Inc.                  *\n.\\\"                                                                          *\n.\\\" Permission is hereby granted, free of charge, to any person obtaining a  *\n.\\\" copy of this software and associated documentation files (the            *\n.\\\" \"Software\"), to deal in the Software without restriction, including      *\n.\\\" without limitation the rights to use, copy, modify, merge, publish,      *\n.\\\" distribute, distribute with modifications, sublicense, and/or sell       *\n.\\\" copies of the Software, and to permit persons to whom the Software is    *\n.\\\" furnished to do so, subject to the following conditions:                 *\n.\\\"                                                                          *\n.\\\" The above copyright notice and this permission notice shall be included  *\n.\\\" in all copies or substantial portions of the Software.                   *\n.\\\"                                                                          *\n.\\\" THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS  *\n.\\\" OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF               *\n.\\\" MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.   *\n.\\\" IN NO EVENT SHALL THE ABOVE COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,   *\n.\\\" DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR    *\n.\\\" OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR    *\n.\\\" THE USE OR OTHER DEALINGS IN THE SOFTWARE.                               *\n.\\\"                                                                          *\n.\\\" Except as contained in this notice, the name(s) of the above copyright   *\n.\\\" holders shall not be used in advertising or otherwise to promote the     *\n.\\\" sale, use or other dealings in this Software without prior written       *\n.\\\" authorization.                                                           *\n.\\\"***************************************************************************\n.\\\"\n.\\\" $Id: form_fieldtype.3x,v 1.31 2022/02/12 20:03:40 tom Exp $\n.de bP\n.ie n  .IP \\(bu 4\n.el    .IP \\(bu 2\n..\n.TH form_fieldtype 3X \"\"\n.SH NAME\n\\fBform_fieldtype\\fP \\- define validation-field types\n.SH SYNOPSIS\n\\fB#include <form.h>\\fP\n.sp\n\\fBFIELDTYPE *new_fieldtype(\\fP\n    \\fBbool (* const \\fIfield_check\\fB)(FIELD *, const void *),\\fR\n    \\fBbool (* const \\fIchar_check\\fB)(int, const void *));\\fR\n.br\n\\fBint free_fieldtype(FIELDTYPE *\\fIfieldtype\\fB);\\fR\n.sp\n\\fBint set_fieldtype_arg(\\fP\n    \\fBFIELDTYPE *\\fIfieldtype\\fB,\\fR\n    \\fBvoid *(* const \\fImake_arg\\fB)(va_list *),\\fR\n    \\fBvoid *(* const \\fIcopy_arg\\fB)(const void *),\\fR\n    \\fBvoid  (* const \\fIfree_arg\\fB)(void *));\\fR\n.br\n\\fBint set_fieldtype_choice(\\fP\n    \\fBFIELDTYPE *\\fIfieldtype\\fB,\\fR\n    \\fBbool (* const \\fInext_choice\\fB)(FIELD *, const void *),\\fR\n    \\fBbool (* const \\fIprev_choice\\fB)(FIELD *, const void *));\\fR\n.sp\n\\fBFIELDTYPE *link_fieldtype(FIELDTYPE *\\fItype1\\fB,\\fR\n                          \\fBFIELDTYPE *\\fItype2\\fB);\\fR\n.SH DESCRIPTION\n.SS new_fieldtype\nThe function \\fBnew_fieldtype\\fP creates a new field type usable for data\nvalidation.\nIts parameters are function pointers:\n.TP 5\n\\fIfield_check\\fP\nThis function checks the\nvalidity of an entered data string whenever the user attempts to leave a field.\nIt has two arguments:\n.RS\n.bP\nThe (FIELD *) argument is passed in so the validation predicate can see the\nfield's buffer, sizes and other attributes.\n.bP\nThe second argument is an\nargument-block structure, about which more below.\n.RE\n.TP 5\n\\fIchar_check\\fP\nThis function validates input characters as they are entered.\nThe form library passes it the character to be checked\nand a pointer to an argument-block structure.\n.SS free_fieldtype\n.PP\nThe \\fBfree_fieldtype\\fP function\nfrees the space allocated for a given validation type by \\fBnew_fieldtype\\fP.\n.SS set_fieldtype_arg\n.PP\nThe function \\fBset_fieldtype_arg\\fP associates\nthree storage-management functions with a field type:\n.TP 5\n\\fImake_arg\\fP\nThis function is automatically applied to the\nlist of arguments you give \\fBset_field_type\\fP when attaching validation\nto a field.\nIt stores the arguments in an allocated argument-block\nobject which is used when validating input.\n.TP 5\n\\fIcopy_arg\\fP\nThis function may be used by applications to copy argument-blocks.\n.TP 5\n\\fIfree_arg\\fP\nFrees an argument-block structure.\n.PP\nYou must supply the \\fImake_arg\\fP function.\nThe other two are optional: you may supply NULL for them.\nIn this case, the form library assumes\nthat \\fImake_arg\\fP does not allocate memory but simply loads the\nargument into a single scalar value.\n.SS set_fieldtype_choice\n.PP\nThe form driver requests \\fBREQ_NEXT_CHOICE\\fP and \\fBREQ_PREV_CHOICE\\fP assume\nthat the possible values of a field form an ordered set, and provide the forms\nuser with a way to move through the set.\n.PP\nThe \\fBset_fieldtype_choice\\fP\nfunction allows forms programmers to define successor and predecessor functions\nfor the field type.\nThese functions take the field pointer and an\nargument-block structure as arguments.\n.SS link_fieldtype\n.PP\nThe function \\fBlink_fieldtype\\fP creates\na new field type from the two given types.\nThey are connected by an logical 'OR'.\n.SH RETURN VALUE\nThe pointer-valued routines return NULL on error.\nThey set \\fBerrno\\fP according to their success:\n.TP 5\n.B E_OK\nThe routine succeeded.\n.TP 5\n.B E_BAD_ARGUMENT\nRoutine detected an incorrect or out-of-range argument.\n.TP 5\n.B E_SYSTEM_ERROR\nSystem error occurred, e.g., malloc failure.\n.PP\nThe integer-valued routines return one of the following codes on\nerror:\n.TP 5\n.B E_OK\nThe routine succeeded.\n.TP 5\n.B E_BAD_ARGUMENT\nRoutine detected an incorrect or out-of-range argument.\n.TP 5\n.B E_CONNECTED\nThe field is already connected to a form.\n.TP 5\n.B E_CURRENT\nThe field is the current field.\n.TP 5\n.B E_SYSTEM_ERROR\nSystem error occurred (see \\fBerrno\\fP(3)).\n.SH SEE ALSO\n\\fBcurses\\fP(3X),\n\\fBform\\fP(3X),\n\\fBform_field_validation\\fP(3X).\n.SH NOTES\nThe header file \\fB<form.h>\\fP automatically includes the header file\n\\fB<curses.h>\\fP.\n.SH PORTABILITY\nThese routines emulate the System V forms library.\nThey were not supported on\nVersion 7 or BSD versions.\n.SH AUTHORS\nJuergen Pfeifer.\nManual pages and adaptation for new curses by Eric S. Raymond.\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}