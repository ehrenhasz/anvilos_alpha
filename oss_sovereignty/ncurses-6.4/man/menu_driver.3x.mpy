{
  "module_name": "menu_driver.3x",
  "hash_id": "e58dc5d90cef63dbc68c676b4ebcf1e1fe222885b6451f4ee0bbda4f6d25e762",
  "original_prompt": "Ingested from ncurses-6.4/man/menu_driver.3x",
  "human_readable_source": ".\\\"***************************************************************************\n.\\\" Copyright 2018-2021,2022 Thomas E. Dickey                                *\n.\\\" Copyright 1998-2010,2017 Free Software Foundation, Inc.                  *\n.\\\"                                                                          *\n.\\\" Permission is hereby granted, free of charge, to any person obtaining a  *\n.\\\" copy of this software and associated documentation files (the            *\n.\\\" \"Software\"), to deal in the Software without restriction, including      *\n.\\\" without limitation the rights to use, copy, modify, merge, publish,      *\n.\\\" distribute, distribute with modifications, sublicense, and/or sell       *\n.\\\" copies of the Software, and to permit persons to whom the Software is    *\n.\\\" furnished to do so, subject to the following conditions:                 *\n.\\\"                                                                          *\n.\\\" The above copyright notice and this permission notice shall be included  *\n.\\\" in all copies or substantial portions of the Software.                   *\n.\\\"                                                                          *\n.\\\" THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS  *\n.\\\" OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF               *\n.\\\" MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.   *\n.\\\" IN NO EVENT SHALL THE ABOVE COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,   *\n.\\\" DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR    *\n.\\\" OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR    *\n.\\\" THE USE OR OTHER DEALINGS IN THE SOFTWARE.                               *\n.\\\"                                                                          *\n.\\\" Except as contained in this notice, the name(s) of the above copyright   *\n.\\\" holders shall not be used in advertising or otherwise to promote the     *\n.\\\" sale, use or other dealings in this Software without prior written       *\n.\\\" authorization.                                                           *\n.\\\"***************************************************************************\n.\\\"\n.\\\" $Id: menu_driver.3x,v 1.31 2022/02/12 20:05:11 tom Exp $\n.TH menu_driver 3X \"\"\n.de bP\n.ie n  .IP \\(bu 4\n.el    .IP \\(bu 2\n..\n.SH NAME\n\\fBmenu_driver\\fP \\- command-processing loop of the menu system\n.SH SYNOPSIS\n\\fB#include <menu.h>\\fP\n.sp\n\\fBint menu_driver(MENU *\\fImenu\\fB, int \\fIc\\fB);\\fR\n.br\n.SH DESCRIPTION\nOnce a menu has been posted (displayed), you should funnel input events to it\nthrough \\fBmenu_driver\\fP.  This routine has three major input cases:\n.bP\nThe input is a form navigation request.\nNavigation request codes are constants defined in \\fB<form.h>\\fP,\nwhich are distinct from the key- and character codes\nreturned by \\fBwgetch\\fP(3X).\n.bP\nThe input is a printable character.\nPrintable characters (which must be positive, less than 256) are\nchecked according to the program's locale settings.\n.bP\nThe input is the KEY_MOUSE special key associated with an mouse event.\n.PP\nThe menu driver requests are as follows:\n.TP 5\nREQ_LEFT_ITEM\nMove left to an item.\n.TP 5\nREQ_RIGHT_ITEM\nMove right to an item.\n.TP 5\nREQ_UP_ITEM\nMove up to an item.\n.TP 5\nREQ_DOWN_ITEM\nMove down to an item.\n.TP 5\nREQ_SCR_ULINE\nScroll up a line.\n.TP 5\nREQ_SCR_DLINE\nScroll down a line.\n.TP 5\nREQ_SCR_DPAGE\nScroll down a page.\n.TP 5\nREQ_SCR_UPAGE\nScroll up a page.\n.TP 5\nREQ_FIRST_ITEM\nMove to the first item.\n.TP 5\nREQ_LAST_ITEM\nMove to the last item.\n.TP 5\nREQ_NEXT_ITEM\nMove to the next item.\n.TP 5\nREQ_PREV_ITEM\nMove to the previous item.\n.TP 5\nREQ_TOGGLE_ITEM\nSelect/deselect an item.\n.TP 5\nREQ_CLEAR_PATTERN\nClear the menu pattern buffer.\n.TP 5\nREQ_BACK_PATTERN\nDelete the previous character from the pattern buffer.\n.TP 5\nREQ_NEXT_MATCH\nMove to the next item matching the pattern match.\n.TP 5\nREQ_PREV_MATCH\nMove to the previous item matching the pattern match.\n.PP\nIf the second argument is a printable character, the code appends\nit to the pattern buffer and attempts to move to the next item matching\nthe new pattern.\nIf there is no such match, \\fBmenu_driver\\fP returns\n\\fBE_NO_MATCH\\fP and deletes the appended character from the buffer.\n.PP\nIf the second argument is one of the above pre-defined requests, the\ncorresponding action is performed.\n.SS MOUSE HANDLING\n.PP\nIf the second argument is the KEY_MOUSE special key, the associated\nmouse event is translated into one of the above pre-defined requests.\nCurrently only clicks in the user window (e.g., inside the menu display\narea or the decoration window) are handled.\n.PP\nIf you click above the display region of the menu:\n.bP\na REQ_SCR_ULINE is generated for a single click,\n.bP\na REQ_SCR_UPAGE is generated for a double-click and\n.bP\na REQ_FIRST_ITEM is generated for a triple-click.\n.PP\nIf you click below the display region of the menu:\n.bP\na REQ_SCR_DLINE is generated for a single click,\n.bP\na REQ_SCR_DPAGE is generated for a double-click and\n.bP\na REQ_LAST_ITEM is generated for a triple-click.\n.PP\nIf you click at an item inside the display area of the menu:\n.bP\nthe menu cursor is positioned to that item.\n.bP\nIf you double-click an item a REQ_TOGGLE_ITEM\nis generated and \\fBE_UNKNOWN_COMMAND\\fP is returned.\nThis return value makes sense,\nbecause a double click usually means that an item-specific action should\nbe returned.\nIt is exactly the purpose of this return value to signal that an\napplication specific command should be executed.\n.bP\nIf a translation\ninto a request was done, \\fBmenu_driver\\fP returns the result of this request.\n.PP\nIf you clicked outside the user window\nor the mouse event could not be translated\ninto a menu request an \\fBE_REQUEST_DENIED\\fP is returned.\n.SS APPLICATION-DEFINED COMMANDS\n.PP\nIf the second argument is neither printable nor one of the above\npre-defined menu requests or KEY_MOUSE,\nthe drive assumes it is an application-specific\ncommand and returns \\fBE_UNKNOWN_COMMAND\\fP.  Application-defined commands\nshould be defined relative to \\fBMAX_COMMAND\\fP, the maximum value of these\npre-defined requests.\n.SH RETURN VALUE\n\\fBmenu_driver\\fP return one of the following error codes:\n.TP 5\n.B E_OK\nThe routine succeeded.\n.TP 5\n.B E_SYSTEM_ERROR\nSystem error occurred (see \\fBerrno\\fP(3)).\n.TP 5\n.B E_BAD_ARGUMENT\nRoutine detected an incorrect or out-of-range argument.\n.TP 5\n.B E_BAD_STATE\nRoutine was called from an initialization or termination function.\n.TP 5\n.B E_NOT_POSTED\nThe menu has not been posted.\n.TP 5\n.B E_UNKNOWN_COMMAND\nThe menu driver code saw an unknown request code.\n.TP 5\n.B E_NO_MATCH\nCharacter failed to match.\n.TP 5\n.B E_REQUEST_DENIED\nThe menu driver could not process the request.\n.SH SEE ALSO\n\\fBcurses\\fP(3X),\n\\fBgetch\\fP(3X),\n\\fBmenu\\fP(3X).\n.SH NOTES\nThe header file \\fB<menu.h>\\fP automatically includes the header files\n\\fB<curses.h>\\fP.\n.SH PORTABILITY\nThese routines emulate the System V menu library.\nThey were not supported on\nVersion 7 or BSD versions.\nThe support for mouse events is ncurses specific.\n.SH AUTHORS\nJuergen Pfeifer.\nManual pages and adaptation for new curses by Eric S. Raymond.\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}