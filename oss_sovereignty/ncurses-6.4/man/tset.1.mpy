{
  "module_name": "tset.1",
  "hash_id": "50fe247fca96f1ed38ad222b9a49e4b0c56491d3cd205243b04a85c5aa229aa4",
  "original_prompt": "Ingested from ncurses-6.4/man/tset.1",
  "human_readable_source": ".\\\"***************************************************************************\n.\\\" Copyright 2018-2021,2022 Thomas E. Dickey                                *\n.\\\" Copyright 1998-2016,2017 Free Software Foundation, Inc.                  *\n.\\\"                                                                          *\n.\\\" Permission is hereby granted, free of charge, to any person obtaining a  *\n.\\\" copy of this software and associated documentation files (the            *\n.\\\" \"Software\"), to deal in the Software without restriction, including      *\n.\\\" without limitation the rights to use, copy, modify, merge, publish,      *\n.\\\" distribute, distribute with modifications, sublicense, and/or sell       *\n.\\\" copies of the Software, and to permit persons to whom the Software is    *\n.\\\" furnished to do so, subject to the following conditions:                 *\n.\\\"                                                                          *\n.\\\" The above copyright notice and this permission notice shall be included  *\n.\\\" in all copies or substantial portions of the Software.                   *\n.\\\"                                                                          *\n.\\\" THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS  *\n.\\\" OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF               *\n.\\\" MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.   *\n.\\\" IN NO EVENT SHALL THE ABOVE COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,   *\n.\\\" DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR    *\n.\\\" OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR    *\n.\\\" THE USE OR OTHER DEALINGS IN THE SOFTWARE.                               *\n.\\\"                                                                          *\n.\\\" Except as contained in this notice, the name(s) of the above copyright   *\n.\\\" holders shall not be used in advertising or otherwise to promote the     *\n.\\\" sale, use or other dealings in this Software without prior written       *\n.\\\" authorization.                                                           *\n.\\\"***************************************************************************\n.\\\"\n.\\\" $Id: tset.1,v 1.62 2022/02/12 20:02:20 tom Exp $\n.TH @TSET@ 1 \"\"\n.ie \\n(.g .ds `` \\(lq\n.el       .ds `` ``\n.ie \\n(.g .ds '' \\(rq\n.el       .ds '' ''\n.de bP\n.ie n  .IP \\(bu 4\n.el    .IP \\(bu 2\n..\n.SH NAME\n\\fB@TSET@\\fP, \\fB@RESET@\\fP \\- terminal initialization\n.SH SYNOPSIS\n\\fB@TSET@\\fP [\\fB\\-IQVcqrsw\\fP] [\\fB\\-\\fP] [\\fB\\-e\\fP \\fIch\\fP] [\\fB\\-i\\fP \\fIch\\fP] [\\fB\\-k\\fP \\fIch\\fP] [\\fB\\-m\\fP \\fImapping\\fP] [\\fIterminal\\fP]\n.br\n\\fB@RESET@\\fP [\\fB\\-IQVcqrsw\\fP] [\\fB\\-\\fP] [\\fB\\-e\\fP \\fIch\\fP] [\\fB\\-i\\fP \\fIch\\fP] [\\fB\\-k\\fP \\fIch\\fP] [\\fB\\-m\\fP \\fImapping\\fP] [\\fIterminal\\fP]\n.SH DESCRIPTION\n.SS tset - initialization\nThis program initializes terminals.\n.PP\nFirst, \\fB@TSET@\\fP retrieves the current terminal mode settings\nfor your terminal.\nIt does this by successively testing\n.bP\nthe standard error,\n.bP\nstandard output,\n.bP\nstandard input and\n.bP\nultimately \\*(``/dev/tty\\*(''\n.PP\nto obtain terminal settings.\nHaving retrieved these settings, \\fB@TSET@\\fP remembers which\nfile descriptor to use when updating settings.\n.PP\nNext, \\fB@TSET@\\fP determines the type of terminal that you are using.\nThis determination is done as follows, using the first terminal type found.\n.PP\n1. The \\fBterminal\\fP argument specified on the command line.\n.PP\n2. The value of the \\fBTERM\\fP environmental variable.\n.PP\n3. (BSD systems only.) The terminal type associated with the standard\nerror output device in the \\fI/etc/ttys\\fP file.\n(On System\\-V-like UNIXes and systems using that convention,\n\\fBgetty\\fP(1) does this job by setting\n\\fBTERM\\fP according to the type passed to it by \\fI/etc/inittab\\fP.)\n.PP\n4. The default terminal type, \\*(``unknown\\*(''.\n.PP\nIf the terminal type was not specified on the command-line, the \\fB\\-m\\fP\noption mappings are then applied (see the section\n.B TERMINAL TYPE MAPPING\nfor more information).\nThen, if the terminal type begins with a question mark (\\*(``?\\*(''), the\nuser is prompted for confirmation of the terminal type.\nAn empty\nresponse confirms the type, or, another type can be entered to specify\na new type.\nOnce the terminal type has been determined,\nthe terminal description for the terminal is retrieved.\nIf no terminal description is found\nfor the type, the user is prompted for another terminal type.\n.PP\nOnce the terminal description is retrieved,\n.bP\nif the \\*(``\\fB\\-w\\fP\\*('' option is enabled, \\fB@TSET@\\fP may update\nthe terminal's window size.\n.IP\nIf the window size cannot be obtained from the operating system,\nbut the terminal description (or environment, e.g., \\fBLINES\\fP\nand \\fBCOLUMNS\\fP variables specify this),\nuse this to set the operating system's notion of the window size.\n.bP\nif the \\*(``\\fB\\-c\\fP\\*('' option is enabled,\nthe backspace, interrupt and line kill characters\n(among many other things) are set\n.bP\nunless the \\*(``\\fB\\-I\\fP\\*('' option is enabled,\nthe terminal\nand tab \\fIinitialization\\fP strings are sent to the standard error output,\nand \\fB@TSET@\\fP waits one second (in case a hardware reset was issued).\n.bP\nFinally, if the erase, interrupt and line kill characters have changed,\nor are not set to their default values, their values are displayed to the\nstandard error output.\n.SS reset - reinitialization\n.PP\nWhen invoked as \\fB@RESET@\\fP, \\fB@TSET@\\fP sets the terminal\nmodes to \\*(``sane\\*('' values:\n.bP\nsets cooked and echo modes,\n.bP\nturns off cbreak and raw modes,\n.bP\nturns on newline translation and\n.bP\nresets any unset special characters to their default values\n.PP\nbefore\ndoing the terminal initialization described above.\nAlso, rather than using the terminal \\fIinitialization\\fP strings,\nit uses the terminal \\fIreset\\fP strings.\n.PP\nThe \\fB@RESET@\\fP command is useful\nafter a program dies leaving a terminal in an abnormal state:\n.bP\nyou may have to type\n.sp\n    \\fI<LF>\\fB@RESET@\\fI<LF>\\fR\n.sp\n(the line-feed character is normally control-J) to get the terminal\nto work, as carriage-return may no longer work in the abnormal state.\n.bP\nAlso, the terminal will often not echo the command.\n.SH OPTIONS\n.PP\nThe options are as follows:\n.TP 5\n.B \\-c\nSet control characters and modes.\n.TP 5\n.BI \\-e\\  ch\nSet the erase character to \\fIch\\fP.\n.TP\n.B \\-I\nDo not send the terminal or tab initialization strings to the terminal.\n.TP\n.BI \\-i\\  ch\nSet the interrupt character to \\fIch\\fP.\n.TP\n.BI \\-k\\  ch\nSet the line kill character to \\fIch\\fP.\n.TP\n.BI \\-m\\  mapping\nSpecify a mapping from a port type to a terminal.\nSee the section\n.B TERMINAL TYPE MAPPING\nfor more information.\n.TP\n.B \\-Q\nDo not display any values for the erase, interrupt and line kill characters.\nNormally \\fB@TSET@\\fP displays the values for control characters which\ndiffer from the system's default values.\n.TP\n.B \\-q\nThe terminal type is displayed to the standard output, and the terminal is\nnot initialized in any way.\nThe option \\*(``\\-\\*('' by itself is equivalent but archaic.\n.TP\n.B \\-r\nPrint the terminal type to the standard error output.\n.TP\n.B \\-s\nPrint the sequence of shell commands to initialize the environment variable\n\\fBTERM\\fP to the standard output.\nSee the section\n.B SETTING THE ENVIRONMENT\nfor details.\n.TP\n.B \\-V\nreports the version of ncurses which was used in this program, and exits.\n.TP\n.B \\-w\nResize the window to match the size deduced via \\fBsetupterm\\fP(3X).\nNormally this has no effect,\nunless \\fBsetupterm\\fP is not able to detect the window size.\n.PP\nThe arguments for the \\fB\\-e\\fP, \\fB\\-i\\fP, and \\fB\\-k\\fP\noptions may either be entered as actual characters\nor by using the \\*(``hat\\*(''\nnotation, i.e., control-h may be specified as \\*(``^H\\*('' or \\*(``^h\\*(''.\n.PP\nIf neither \\fB\\-c\\fP or \\fB\\-w\\fP is given, both options are assumed.\n.\n.SH SETTING THE ENVIRONMENT\nIt is often desirable to enter the terminal type and information about\nthe terminal's capabilities into the shell's environment.\nThis is done using the \\fB\\-s\\fP option.\n.PP\nWhen the \\fB\\-s\\fP option is specified, the commands to enter the information\ninto the shell's environment are written to the standard output.\nIf\nthe \\fBSHELL\\fP environmental variable ends in \\*(``csh\\*('', the commands\nare for \\fBcsh\\fP, otherwise, they are for \\fBsh\\fP(1).\nNote, the \\fBcsh\\fP commands set and unset the shell variable\n\\fBnoglob\\fP, leaving it unset.\nThe following line in the \\fB.login\\fP\nor \\fB.profile\\fP files will initialize the environment correctly:\n.sp\n    eval \\`@TSET@ \\-s options ... \\`\n.\n.SH TERMINAL TYPE MAPPING\nWhen the terminal is not hardwired into the system (or the current\nsystem information is incorrect) the terminal type derived from the\n\\fI/etc/ttys\\fP file or the \\fBTERM\\fP environmental variable is often\nsomething generic like \\fBnetwork\\fP, \\fBdialup\\fP, or \\fBunknown\\fP.\nWhen \\fB@TSET@\\fP is used in a startup script it is often desirable to\nprovide information about the type of terminal used on such ports.\n.PP\nThe \\fB\\-m\\fP options maps\nfrom some set of conditions to a terminal type, that is, to\ntell \\fB@TSET@\\fP\n\\*(``If I'm on this port at a particular speed,\nguess that I'm on that kind of terminal\\*(''.\n.PP\nThe argument to the \\fB\\-m\\fP option consists of an optional port type, an\noptional operator, an optional baud rate specification, an optional\ncolon (\\*(``:\\*('') character and a terminal type.\nThe port type is a\nstring (delimited by either the operator or the colon character).\nThe operator may be any combination of\n\\*(``>\\*('',\n\\*(``<\\*('',\n\\*(``@\\*('',\nand \\*(``!\\*('';\n\\*(``>\\*('' means greater than,\n\\*(``<\\*('' means less than,\n\\*(``@\\*('' means equal to and\n\\*(``!\\*('' inverts the sense of the test.\nThe baud rate is specified as a number and is compared with the speed\nof the standard error output (which should be the control terminal).\nThe terminal type is a string.\n.PP\nIf the terminal type is not specified on the command line, the \\fB\\-m\\fP\nmappings are applied to the terminal type.\nIf the port type and baud\nrate match the mapping, the terminal type specified in the mapping\nreplaces the current type.\nIf more than one mapping is specified, the\nfirst applicable mapping is used.\n.PP\nFor example, consider the following mapping: \\fBdialup>9600:vt100\\fP.\nThe port type is dialup , the operator is >, the baud rate\nspecification is 9600, and the terminal type is vt100.\nThe result of\nthis mapping is to specify that if the terminal type is \\fBdialup\\fP,\nand the baud rate is greater than 9600 baud, a terminal type of\n\\fBvt100\\fP will be used.\n.PP\nIf no baud rate is specified, the terminal type will match any baud rate.\nIf no port type is specified, the terminal type will match any port type.\nFor example, \\fB\\-m dialup:vt100 \\-m :?xterm\\fP\nwill cause any dialup port, regardless of baud rate, to match the terminal\ntype vt100, and any non-dialup port type to match the terminal type ?xterm.\nNote, because of the leading question mark, the user will be\nqueried on a default port as to whether they are actually using an xterm\nterminal.\n.PP\nNo whitespace characters are permitted in the \\fB\\-m\\fP option argument.\nAlso, to avoid problems with meta-characters, it is suggested that the\nentire \\fB\\-m\\fP option argument be placed within single quote characters,\nand that \\fBcsh\\fP users insert a backslash character (\\*(``\\e\\*('') before\nany exclamation marks (\\*(``!\\*('').\n.SH HISTORY\n.PP\nA \\fBreset\\fP command appeared in 1BSD (March 1978), written by Kurt Shoens.\nThis program set the \\fIerase\\fP and \\fIkill\\fP characters\nto \\fB^H\\fP (backspace) and \\fB@\\fP respectively.\nMark Horton improved that in 3BSD (October 1979), adding\n\\fIintr\\fP, \\fIquit\\fP, \\fIstart\\fP/\\fIstop\\fP and \\fIeof\\fP characters\nas well as changing the program to avoid modifying any user settings.\nThat version of \\fBreset\\fP did not use the termcap database.\n.PP\nA separate \\fBtset\\fP command was provided in 1BSD by Eric Allman,\nusing the termcap database.\nAllman's comments in the source code indicate\nthat he began work in October 1977,\ncontinuing development over the next few years.\n.PP\nAccording to comments in the source code,\nthe \\fBtset\\fP program was modified in September 1980,\nto use logic copied from the 3BSD \\*(``reset\\*(''\nwhen it was invoked as \\fBreset\\fP.\nThis version appeared in 4.1cBSD, late in 1982.\n.PP\nOther developers (e.g., Keith Bostic and Jim Bloom)\ncontinued to modify \\fBtset\\fP until 4.4BSD was released in 1993.\n.PP\nThe \\fBncurses\\fP implementation\nwas lightly adapted from the 4.4BSD sources for a terminfo environment by Eric\nS. Raymond <esr@snark.thyrsus.com>.\n.SH COMPATIBILITY\n.PP\nNeither IEEE Std 1003.1/The Open Group Base Specifications Issue 7\n(POSIX.1-2008) nor\nX/Open Curses Issue 7 documents \\fB@TSET@\\fP or \\fB@RESET@\\fP.\n.PP\nThe AT&T \\fBtput\\fP utility (AIX, HPUX, Solaris)\nincorporated the terminal-mode manipulation as well as termcap-based features\nsuch as resetting tabstops from \\fBtset\\fP in BSD (4.1c),\npresumably with the intention of making \\fBtset\\fP obsolete.\nHowever, each of those systems still provides \\fBtset\\fP.\nIn fact, the commonly-used \\fBreset\\fP utility\nis always an alias for \\fBtset\\fP.\n.PP\nThe \\fB@TSET@\\fP utility provides for backward-compatibility with BSD\nenvironments (under most modern UNIXes, \\fB/etc/inittab\\fP and \\fBgetty\\fP(1)\ncan set \\fBTERM\\fP appropriately for each dial-up line; this obviates what was\n\\fB@TSET@\\fP's most important use).\nThis implementation behaves like 4.4BSD\n\\fBtset\\fP, with a few exceptions specified here.\n.PP\nA few options are different\nbecause the \\fBTERMCAP\\fP variable\nis no longer supported under terminfo-based \\fBncurses\\fP:\n.bP\nThe \\fB\\-S\\fP option of BSD \\fBtset\\fP no longer works;\nit prints an error message to the standard error and dies.\n.bP\nThe \\fB\\-s\\fP option only sets \\fBTERM\\fP, not \\fBTERMCAP\\fP.\n.PP\nThere was an undocumented 4.4BSD feature\nthat invoking \\fBtset\\fP via a link named\n\\*(``TSET\\*('' (or via any other name beginning with an upper-case letter)\nset the terminal to use upper-case only.\nThis feature has been omitted.\n.PP\nThe \\fB\\-A\\fP, \\fB\\-E\\fP, \\fB\\-h\\fP, \\fB\\-u\\fP and \\fB\\-v\\fP\noptions were deleted from the \\fB@TSET@\\fP\nutility in 4.4BSD.\nNone of them were documented in 4.3BSD and all are\nof limited utility at best.\nThe \\fB\\-a\\fP, \\fB\\-d\\fP, and \\fB\\-p\\fP options are similarly\nnot documented or useful, but were retained as they appear to be in\nwidespread use.\nIt is strongly recommended that any usage of these\nthree options be changed to use the \\fB\\-m\\fP option instead.\nThe \\fB\\-a\\fP, \\fB\\-d\\fP, and \\fB\\-p\\fP options\nare therefore omitted from the usage summary above.\n.PP\nVery old systems, e.g., 3BSD, used a different terminal driver which\nwas replaced in 4BSD in the early 1980s.\nTo accommodate these older systems, the 4BSD \\fB@TSET@\\fP provided a\n\\fB\\-n\\fP option to specify that the new terminal driver should be used.\nThis implementation does not provide that choice.\n.PP\nIt is still permissible to specify the \\fB\\-e\\fP, \\fB\\-i\\fP,\nand \\fB\\-k\\fP options without arguments,\nalthough it is strongly recommended that such usage be fixed to\nexplicitly specify the character.\n.PP\nAs of 4.4BSD,\nexecuting \\fB@TSET@\\fP as \\fB@RESET@\\fP no longer implies the \\fB\\-Q\\fP option.\nAlso, the interaction between the \\- option and the \\fIterminal\\fP\nargument in some historic implementations of \\fB@TSET@\\fP has been removed.\n.PP\nThe \\fB\\-c\\fP and \\fB\\-w\\fP options are not found in earlier implementations.\nHowever, a different window size-change feature was provided in 4.4BSD.\n.bP\nIn 4.4BSD, \\fBtset\\fP uses the window size from the termcap description\nto set the window size if \\fBtset\\fP is not able to obtain the window\nsize from the operating system.\n.bP\nIn ncurses, \\fB@TSET@\\fP obtains the window size using\n\\fBsetupterm\\fP, which may be from\nthe operating system,\nthe \\fBLINES\\fP and \\fBCOLUMNS\\fP environment variables or\nthe terminal description.\n.PP\nObtaining the window size from the terminal description is common to\nboth implementations, but considered obsolescent.\nIts only practical use is for hardware terminals.\nGenerally speaking, a window size would be unset only if there were\nsome problem obtaining the value from the operating system\n(and \\fBsetupterm\\fP would still fail).\nFor that reason, the \\fBLINES\\fP and \\fBCOLUMNS\\fP environment variables\nmay be useful for working around window-size problems.\nThose have the drawback that if the window is resized,\nthose variables must be recomputed and reassigned.\nTo do this more easily, use the \\fBresize\\fP(1) program.\n.SH ENVIRONMENT\nThe \\fB@TSET@\\fP command uses these environment variables:\n.TP 5\nSHELL\ntells \\fB@TSET@\\fP whether to initialize \\fBTERM\\fP using \\fBsh\\fP(1) or\n\\fBcsh\\fP(1) syntax.\n.TP 5\nTERM\nDenotes your terminal type.\nEach terminal type is distinct, though many are similar.\n.TP 5\nTERMCAP\nmay denote the location of a termcap database.\nIf it is not an absolute pathname, e.g., begins with a \\*(``/\\*('',\n\\fB@TSET@\\fP removes the variable from the environment before looking\nfor the terminal description.\n.SH FILES\n.TP 5\n/etc/ttys\nsystem port name to terminal type mapping database (BSD versions only).\n.TP\n@TERMINFO@\nterminal capability database\n.SH SEE ALSO\n.hy 0\n\\fBcsh\\fP(1),\n\\fBsh\\fP(1),\n\\fBstty\\fP(1),\n\\fBcurs_terminfo\\fP(3X),\n\\fBtty\\fP(4),\n\\fBterminfo\\fP(5),\n\\fBttys\\fP(5),\n\\fBenviron\\fP(7)\n.hy\n.PP\nThis describes \\fBncurses\\fP\nversion @NCURSES_MAJOR@.@NCURSES_MINOR@ (patch @NCURSES_PATCH@).\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}