{
  "module_name": "curs_trace.3x",
  "hash_id": "4d7a17a0a4329990edce55ca5e9a396435a96447232c151397605709b8d221c4",
  "original_prompt": "Ingested from ncurses-6.4/man/curs_trace.3x",
  "human_readable_source": ".\\\"***************************************************************************\n.\\\" Copyright 2019-2021,2022 Thomas E. Dickey                                *\n.\\\" Copyright 2000-2016,2017 Free Software Foundation, Inc.                  *\n.\\\"                                                                          *\n.\\\" Permission is hereby granted, free of charge, to any person obtaining a  *\n.\\\" copy of this software and associated documentation files (the            *\n.\\\" \"Software\"), to deal in the Software without restriction, including      *\n.\\\" without limitation the rights to use, copy, modify, merge, publish,      *\n.\\\" distribute, distribute with modifications, sublicense, and/or sell       *\n.\\\" copies of the Software, and to permit persons to whom the Software is    *\n.\\\" furnished to do so, subject to the following conditions:                 *\n.\\\"                                                                          *\n.\\\" The above copyright notice and this permission notice shall be included  *\n.\\\" in all copies or substantial portions of the Software.                   *\n.\\\"                                                                          *\n.\\\" THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS  *\n.\\\" OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF               *\n.\\\" MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.   *\n.\\\" IN NO EVENT SHALL THE ABOVE COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,   *\n.\\\" DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR    *\n.\\\" OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR    *\n.\\\" THE USE OR OTHER DEALINGS IN THE SOFTWARE.                               *\n.\\\"                                                                          *\n.\\\" Except as contained in this notice, the name(s) of the above copyright   *\n.\\\" holders shall not be used in advertising or otherwise to promote the     *\n.\\\" sale, use or other dealings in this Software without prior written       *\n.\\\" authorization.                                                           *\n.\\\"***************************************************************************\n.\\\"\n.\\\" $Id: curs_trace.3x,v 1.25 2022/02/12 20:06:41 tom Exp $\n.ie \\n(.g .ds `` \\(lq\n.el       .ds `` ``\n.ie \\n(.g .ds '' \\(rq\n.el       .ds '' ''\n.de bP\n.ie n  .IP \\(bu 4\n.el    .IP \\(bu 2\n..\n.TH curs_trace 3X \"\"\n.na\n.hy 0\n.SH NAME\n\\fBcurses_trace\\fP,\n\\fBtrace\\fP,\n\\fB_tracef\\fP,\n\\fB_traceattr\\fP,\n\\fB_traceattr2\\fP,\n\\fB_tracecchar_t\\fP,\n\\fB_tracecchar_t2\\fP,\n\\fB_tracechar\\fP,\n\\fB_tracechtype\\fP,\n\\fB_tracechtype2\\fP,\n\\fB_nc_tracebits\\fP,\n\\fB_tracedump\\fP,\n\\fB_tracemouse\\fP \\- \\fBcurses\\fP debugging routines\n.ad\n.hy\n.SH SYNOPSIS\n\\fB#include <curses.h>\\fP\n.sp\n\\fBunsigned curses_trace(const unsigned \\fIparam\\fB);\\fR\n.sp\n\\fBvoid _tracef(const char *\\fIformat\\fB, ...);\\fR\n.sp\n\\fBchar *_traceattr(attr_t \\fIattr\\fB);\\fR\n.br\n\\fBchar *_traceattr2(int \\fIbuffer\\fB, chtype \\fIch\\fB);\\fR\n.br\n\\fBchar *_tracecchar_t(const cchar_t *\\fIstring\\fB);\\fR\n.br\n\\fBchar *_tracecchar_t2(int \\fIbuffer\\fB, const cchar_t *\\fIstring\\fB);\\fR\n.br\n\\fBchar *_tracechar(int \\fIch\\fB);\\fR\n.br\n\\fBchar *_tracechtype(chtype \\fIch\\fB);\\fR\n.br\n\\fBchar *_tracechtype2(int \\fIbuffer\\fB, chtype \\fIch\\fB);\\fR\n.sp\n\\fBvoid _tracedump(const char *\\fIlabel\\fB, WINDOW *\\fIwin\\fB);\\fR\n.br\n\\fBchar *_nc_tracebits(void);\\fP\n.br\n\\fBchar *_tracemouse(const MEVENT *\\fIevent\\fB);\\fR\n.sp\n/* deprecated */\n.br\n\\fBvoid trace(const unsigned int \\fIparam\\fB);\\fR\n.SH DESCRIPTION\nThe \\fIcurses trace\\fP routines are used for debugging the ncurses libraries,\nas well as applications which use the ncurses libraries.\nSome limitations apply:\n.bP\nAside from \\fBcurses_trace\\fP,\nthe other functions are normally available only with the debugging library\ne.g., \\fBlibncurses_g.a\\fP.\n.IP\nAll of the trace functions may be compiled into any model (shared, static,\nprofile) by defining the symbol \\fBTRACE\\fP.\n.bP\nAdditionally, the functions which use \\fBcchar_t\\fP\nare only available with the wide-character configuration of the libraries.\n.SS Functions\nThe principal parts of this interface are\n.bP\n\\fBcurses_trace\\fP, which selectively enables different tracing features, and\n.bP\n\\fB_tracef\\fP, which writes formatted data to the \\fItrace\\fP file.\n.IP\nThe other functions either return a pointer to a string-area\n(allocated by the corresponding function), or return no value\n(such as \\fB_tracedump\\fP,\nwhich implements the screen dump for \\fBTRACE_UPDATE\\fP).\nThe caller should not free these strings,\nsince the allocation is reused on successive calls.\nTo work around the problem of a single string-area per function,\nsome use a buffer-number parameter, telling the library to allocate\nadditional string-areas.\n.PP\nThe \\fBcurses_trace\\fP function is always available,\nwhether or not the other trace functions are available:\n.bP\nIf tracing is available,\ncalling \\fBcurses_trace\\fP with a nonzero parameter\nupdates the trace mask,\nand returns the previous trace mask.\n.IP\nWhen the trace mask is nonzero,\nncurses creates the file \\*(``trace\\*('' in the current directory for output.\nIf the file already exists, no tracing is done.\n.bP\nIf tracing is not available, \\fBcurses_trace\\fP returns zero (0).\n.SS Trace Parameter\nThe trace parameter is formed by OR'ing\nvalues from the list of \\fBTRACE_\\fIxxx\\fR definitions in \\fB<curses.h>\\fR.\nThese include:\n.TP 5\n.B TRACE_DISABLE\nturn off tracing by passing a zero parameter.\n.IP\nThe library flushes the output file,\nbut retains an open file-descriptor to the trace file\nso that it can resume tracing later if a nonzero parameter is passed\nto the \\fBcurses_trace\\fP function.\n.TP 5\n.B TRACE_TIMES\ntrace user and system times of updates.\n.TP 5\n.B TRACE_TPUTS\ntrace \\fBtputs\\fP(3X) calls.\n.TP 5\n.B TRACE_UPDATE\ntrace update actions, old & new screens.\n.TP 5\n.B TRACE_MOVE\ntrace cursor movement and scrolling.\n.TP 5\n.B TRACE_CHARPUT\ntrace all character outputs.\n.TP 5\n.B TRACE_ORDINARY\ntrace all update actions.\nThe old and new screen contents are written to the trace file\nfor each refresh.\n.TP 5\n.B TRACE_CALLS\ntrace all curses calls.\nThe parameters for each call are traced, as well as return values.\n.TP 5\n.B TRACE_VIRTPUT\ntrace virtual character puts, i.e., calls to \\fBaddch\\fP.\n.TP 5\n.B TRACE_IEVENT\ntrace low-level input processing, including timeouts.\n.TP 5\n.B TRACE_BITS\ntrace state of TTY control bits.\n.TP 5\n.B TRACE_ICALLS\ntrace internal/nested calls.\n.TP 5\n.B TRACE_CCALLS\ntrace per-character calls.\n.TP 5\n.B TRACE_DATABASE\ntrace read/write of terminfo/termcap data.\n.TP 5\n.B TRACE_ATTRS\ntrace changes to video attributes and colors.\n.TP 5\n.B TRACE_MAXIMUM\nmaximum trace level, enables all of the separate trace features.\n.PP\nSome tracing features are enabled whenever the \\fBcurses_trace\\fP parameter\nis nonzero.\nSome features overlap.\nThe specific names are used as a guideline.\n.SS Initialization\nThese functions check the \\fBNCURSES_TRACE\\fP environment variable,\nto set the tracing feature as if \\fBcurses_trace\\fP was called:\n.RS 4\n.PP\n.na\n.hy 0\nfilter,\ninitscr,\nnew_prescr,\nnewterm,\nnofilter,\nrestartterm,\nripoffline,\nsetupterm,\nslk_init,\ntgetent,\nuse_env,\nuse_extended_names,\nuse_tioctl\n.hy\n.ad\n.RE\n.SS Command-line Utilities\n.PP\nThe command-line utilities such as \\fBtic\\fP(1) provide a verbose option\nwhich extends the set of messages written using the \\fBcurses_trace\\fP function.\nBoth of these (\\fB\\-v\\fP and \\fBcurses_trace\\fP)\nuse the same variable (\\fB_nc_tracing\\fP),\nwhich determines the messages which are written.\n.PP\nBecause the command-line utilities may call initialization functions\nsuch as \\fBsetupterm\\fP, \\fBtgetent\\fP or \\fBuse_extended_names\\fP,\nsome of their debugging output may be directed to the \\fItrace\\fP file\nif the \\fBNCURSES_TRACE\\fP environment variable is set:\n.bP\nmessages produced in the utility are written to the standard error.\n.bP\nmessages produced by the underlying library are written to \\fItrace\\fP.\n.PP\nIf ncurses is built without tracing, none of the latter are produced,\nand fewer diagnostics are provided by the command-line utilities.\n.SH RETURN VALUE\nRoutines which return a value are designed to be used as parameters\nto the \\fB_tracef\\fP routine.\n.SH PORTABILITY\nThese functions are not part of the XSI interface.\nSome other curses implementations are known to\nhave similar features,\nbut they are not compatible with ncurses:\n.bP\nSVr4 provided \\fBtraceon\\fP and \\fBtraceoff\\fP,\nto control whether debugging information was written\nto the \\*(``trace\\*('' file.\nWhile the functions were always available,\nthis feature was only enabled\nif \\fBDEBUG\\fP was defined when building the library.\n.IP\nThe SVr4 tracing feature is undocumented.\n.bP\nPDCurses provides \\fBtraceon\\fP and \\fBtraceoff\\fP,\nwhich (like SVr4) are always available,\nand enable tracing\nto the \\*(``trace\\*('' file\nonly when a debug-library is built.\n.IP\nPDCurses has a short description of these functions,\nwith a note that they are not present in X/Open Curses,\nncurses or NetBSD.\nIt does not mention SVr4,\nbut the functions' inclusion in a header file section\nlabeled \\*(``Quasi-standard\\*('' hints at the origin.\n.bP\nNetBSD does not provide functions for enabling/disabling traces.\nIt uses environment variables\n\\fBCURSES_TRACE_MASK\\fP and\n\\fBCURSES_TRACE_FILE\\fP to determine what is traced,\nand where the results are written.\nThis is available only when a debug-library is built.\n.IP\nThe NetBSD tracing feature is undocumented.\n.PP\nA few ncurses functions are not provided when symbol versioning is used:\n.RS 4\n.PP\n_nc_tracebits,\n_tracedump,\n_tracemouse\n.RE\n.PP\nThe original \\fBtrace\\fP routine was deprecated because\nit often conflicted with application names.\n.SH SEE ALSO\n\\fBcurses\\fP(3X).\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}