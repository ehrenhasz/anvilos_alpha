{
  "module_name": "form_driver.3x",
  "hash_id": "e0c6451740b1f106193456ca259b28ad1291bd29bf45c24d786e00e47be22a49",
  "original_prompt": "Ingested from ncurses-6.4/man/form_driver.3x",
  "human_readable_source": ".\\\"***************************************************************************\n.\\\" Copyright 2018-2021,2022 Thomas E. Dickey                                *\n.\\\" Copyright 1998-2016,2017 Free Software Foundation, Inc.                  *\n.\\\"                                                                          *\n.\\\" Permission is hereby granted, free of charge, to any person obtaining a  *\n.\\\" copy of this software and associated documentation files (the            *\n.\\\" \"Software\"), to deal in the Software without restriction, including      *\n.\\\" without limitation the rights to use, copy, modify, merge, publish,      *\n.\\\" distribute, distribute with modifications, sublicense, and/or sell       *\n.\\\" copies of the Software, and to permit persons to whom the Software is    *\n.\\\" furnished to do so, subject to the following conditions:                 *\n.\\\"                                                                          *\n.\\\" The above copyright notice and this permission notice shall be included  *\n.\\\" in all copies or substantial portions of the Software.                   *\n.\\\"                                                                          *\n.\\\" THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS  *\n.\\\" OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF               *\n.\\\" MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.   *\n.\\\" IN NO EVENT SHALL THE ABOVE COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,   *\n.\\\" DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR    *\n.\\\" OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR    *\n.\\\" THE USE OR OTHER DEALINGS IN THE SOFTWARE.                               *\n.\\\"                                                                          *\n.\\\" Except as contained in this notice, the name(s) of the above copyright   *\n.\\\" holders shall not be used in advertising or otherwise to promote the     *\n.\\\" sale, use or other dealings in this Software without prior written       *\n.\\\" authorization.                                                           *\n.\\\"***************************************************************************\n.\\\"\n.\\\" $Id: form_driver.3x,v 1.39 2022/02/12 20:03:40 tom Exp $\n.TH form_driver 3X \"\"\n.de bP\n.ie n  .IP \\(bu 4\n.el    .IP \\(bu 2\n..\n.SH NAME\n\\fBform_driver\\fP,\n\\fBform_driver_w\\fP \\- command-processing loop of the form system\n.SH SYNOPSIS\n\\fB#include <form.h>\\fP\n.sp\n\\fBint form_driver(FORM *\\fIform\\fB, int \\fIc\\fB);\\fR\n.br\n\\fBint form_driver_w(FORM *\\fIform\\fB, int \\fIc\\fB, wchar_t \\fIwch\\fB);\\fR\n.br\n.SH DESCRIPTION\n.SS form_driver\nOnce a form has been posted (displayed), you should funnel input events to it\nthrough \\fBform_driver\\fP.  This routine has three major input cases:\n.bP\nThe input is a form navigation request.\nNavigation request codes are constants defined in \\fB<form.h>\\fP,\nwhich are distinct from the key- and character codes returned\nby \\fBwgetch\\fP(3X).\n.bP\nThe input is a printable character.\nPrintable characters (which must be positive, less than 256) are\nchecked according to the program's locale settings.\n.bP\nThe input is the KEY_MOUSE special key associated with an mouse event.\n.SS form_driver_w\n.PP\nThis extension simplifies the use of the forms library using wide characters.\nThe input is either a key code (a request) or a wide character\nreturned by \\fBget_wch\\fP(3X).\nThe type must be passed as well,\nto enable the library to determine whether the parameter\nis a wide character or a request.\n.SS Form-driver requests\n.PP\nThe form driver requests are as follows:\n.TS\nl l\n_ _\nl l.\n\\fBName\\fP\t\\fBDescription\\fP\nREQ_BEG_FIELD\tMove to the beginning of the field.\nREQ_BEG_LINE\tMove to the beginning of the line.\nREQ_CLR_EOF\tClear to end of field from cursor.\nREQ_CLR_EOL\tClear to end of line from cursor.\nREQ_CLR_FIELD\tClear the entire field.\nREQ_DEL_CHAR\tDelete character at the cursor.\nREQ_DEL_LINE\tDelete line at the cursor.\nREQ_DEL_PREV\tDelete character before the cursor.\nREQ_DEL_WORD\tDelete blank-delimited word at the cursor.\nREQ_DOWN_CHAR\tMove down in the field.\nREQ_DOWN_FIELD\tMove down to a field.\nREQ_END_FIELD\tMove to the end of the field.\nREQ_END_LINE\tMove to the end of the line.\nREQ_FIRST_FIELD\tMove to the first field.\nREQ_FIRST_PAGE\tMove to the first page.\nREQ_INS_CHAR\tInsert a blank at the cursor.\nREQ_INS_LINE\tInsert a blank line at the cursor.\nREQ_INS_MODE\tEnter insert mode.\nREQ_LAST_FIELD\tMove to the last field.\nREQ_LAST_PAGE\tMove to the last field.\nREQ_LEFT_CHAR\tMove left in the field.\nREQ_LEFT_FIELD\tMove left to a field.\nREQ_NEW_LINE\tInsert or overlay a new line.\nREQ_NEXT_CHAR\tMove to the next char.\nREQ_NEXT_CHOICE\tDisplay next field choice.\nREQ_NEXT_FIELD\tMove to the next field.\nREQ_NEXT_LINE\tMove to the next line.\nREQ_NEXT_PAGE\tMove to the next page.\nREQ_NEXT_PAGE\tMove to the next page.\nREQ_NEXT_WORD\tMove to the next word.\nREQ_OVL_MODE\tEnter overlay mode.\nREQ_PREV_CHAR\tMove to the previous char.\nREQ_PREV_CHOICE\tDisplay previous field choice.\nREQ_PREV_FIELD\tMove to the previous field.\nREQ_PREV_LINE\tMove to the previous line.\nREQ_PREV_PAGE\tMove to the previous page.\nREQ_PREV_WORD\tMove to the previous word.\nREQ_RIGHT_CHAR\tMove right in the field.\nREQ_RIGHT_FIELD\tMove right to a field.\nREQ_SCR_BCHAR\tScroll the field backward a character.\nREQ_SCR_BHPAGE\tScroll the field backward half a page.\nREQ_SCR_BLINE\tScroll the field backward a line.\nREQ_SCR_BPAGE\tScroll the field backward a page.\nREQ_SCR_FCHAR\tScroll the field forward a character.\nREQ_SCR_FHPAGE\tScroll the field forward half a page.\nREQ_SCR_FLINE\tScroll the field forward a line.\nREQ_SCR_FPAGE\tScroll the field forward a page.\nREQ_SCR_HBHALF\tHorizontal scroll the field backward half a line.\nREQ_SCR_HBLINE\tHorizontal scroll the field backward a line.\nREQ_SCR_HFHALF\tHorizontal scroll the field forward half a line.\nREQ_SCR_HFLINE\tHorizontal scroll the field forward a line.\nREQ_SFIRST_FIELD\tMove to the sorted first field.\nREQ_SLAST_FIELD\tMove to the sorted last field.\nREQ_SNEXT_FIELD\tMove to the sorted next field.\nREQ_SPREV_FIELD\tMove to the sorted previous field.\nREQ_UP_CHAR\tMove up in the field.\nREQ_UP_FIELD\tMove up to a field.\nREQ_VALIDATION\tValidate field.\n.TE\n.PP\nIf the second argument is a printable character, the driver places it\nin the current position in the current field.\nIf it is one of the forms\nrequests listed above, that request is executed.\n.SS Field validation\nThe form library makes updates to the window associated\nwith form fields rather than directly to the field buffers.\n.PP\nThe form driver provides low-level control over updates to the form fields.\nThe form driver also provides for validating modified fields\nto ensure that the contents\nmeet whatever constraints an application may attach using \\fBset_field_type\\fP.\n.PP\n.PP\nYou can validate a field without making any changes to it using\n\\fBREQ_VALIDATION\\fP.\nThe form driver also validates a field in these cases:\n.bP\na call to \\fBset_current_field\\fP attempts to move to a different field.\n.bP\na call to \\fBset_current_page\\fP attempts to move\nto a different page of the form.\n.bP\na request attempts to move to a different field.\n.bP\na request attempts to move to a different page of the form.\n.PP\nIn each case, the move fails if the field is invalid.\n.PP\nIf the modified field is valid, the form driver copies the modified\ndata from the window associated with the field\nto the field buffer.\n.SS Mouse handling\n.PP\nIf the second argument is the KEY_MOUSE special key, the associated\nmouse event is translated into one of the above pre-defined requests.\nCurrently only clicks in the user window (e.g., inside the form display\narea or the decoration window) are handled.\n.PP\nIf you click above the display region of the form:\n.RS 3\n.TP\na REQ_PREV_FIELD is generated for a single click,\n.TP\na REQ_PREV_PAGE is generated for a double-click and\n.TP\na REQ_FIRST_FIELD is generated for a triple-click.\n.RE\n.PP\nIf you click below the display region of the form:\n.RS 3\n.TP\na REQ_NEXT_FIELD is generated for a single click,\n.TP\na REQ_NEXT_PAGE is generated for a double-click and\n.TP\na REQ_LAST_FIELD is generated for a triple-click.\n.RE\n.PP\nIf you click at an field inside the display area of the form:\n.RS 3\n.bP\nthe form cursor is positioned to that field.\n.bP\nIf you double-click a field,\nthe form cursor is positioned to that field\nand \\fBE_UNKNOWN_COMMAND\\fP is returned.\nThis return value makes sense,\nbecause a double click usually means that an field-specific action should\nbe returned.\nIt is exactly the purpose of this return value to signal that an\napplication specific command should be executed.\n.bP\nIf a translation\ninto a request was done, \\fBform_driver\\fP returns the result of this request.\n.RE\n.PP\nIf you clicked outside the user window\nor the mouse event could not be translated\ninto a form request an \\fBE_REQUEST_DENIED\\fP is returned.\n.SS Application-defined commands\n.PP\nIf the second argument is neither printable nor one of the above\npre-defined form requests, the driver assumes it is an application-specific\ncommand and returns \\fBE_UNKNOWN_COMMAND\\fP.  Application-defined commands\nshould be defined relative to \\fBMAX_COMMAND\\fP, the maximum value of these\npre-defined requests.\n.SH RETURN VALUE\n\\fBform_driver\\fP returns one of the following error codes:\n.TP 5\n.B E_OK\nThe routine succeeded.\n.TP 5\n.B E_BAD_ARGUMENT\nRoutine detected an incorrect or out-of-range argument.\n.TP 5\n.B E_BAD_STATE\nRoutine was called from an initialization or termination function.\n.TP 5\n.B E_NOT_POSTED\nThe form has not been posted.\n.TP 5\n.B E_INVALID_FIELD\nContents of field is invalid.\n.TP 5\n.B E_NOT_CONNECTED\nNo fields are connected to the form.\n.TP 5\n.B E_REQUEST_DENIED\nThe form driver could not process the request.\n.TP 5\n.B E_SYSTEM_ERROR\nSystem error occurred (see \\fBerrno\\fP(3)).\n.TP 5\n.B E_UNKNOWN_COMMAND\nThe form driver code saw an unknown request code.\n.\n.SH SEE ALSO\n\\fBcurses\\fP(3X),\n\\fBform\\fP(3X),\n\\fBform_fieldtype\\fP(3X),\n\\fBform_field_buffer\\fP(3X),\n\\fBform_field_validation\\fP(3X),\n\\fBform_variables\\fP(3X),\n\\fBgetch\\fP(3X).\n.SH NOTES\nThe header file \\fB<form.h>\\fP automatically includes the header files\n\\fB<curses.h>\\fP.\n.SH PORTABILITY\nThese routines emulate the System V forms library.\nThey were not supported on\nVersion 7 or BSD versions.\n.SH AUTHORS\nJuergen Pfeifer.\nManual pages and adaptation for new curses by Eric S. Raymond.\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}