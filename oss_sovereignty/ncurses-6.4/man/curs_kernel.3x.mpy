{
  "module_name": "curs_kernel.3x",
  "hash_id": "67f7b0db1510e5a95dfa4260a0e4967650991443b95ee9b1c4db30ea52d9d556",
  "original_prompt": "Ingested from ncurses-6.4/man/curs_kernel.3x",
  "human_readable_source": ".\\\"***************************************************************************\n.\\\" Copyright 2018-2021,2022 Thomas E. Dickey                                *\n.\\\" Copyright 1998-2016,2017 Free Software Foundation, Inc.                  *\n.\\\"                                                                          *\n.\\\" Permission is hereby granted, free of charge, to any person obtaining a  *\n.\\\" copy of this software and associated documentation files (the            *\n.\\\" \"Software\"), to deal in the Software without restriction, including      *\n.\\\" without limitation the rights to use, copy, modify, merge, publish,      *\n.\\\" distribute, distribute with modifications, sublicense, and/or sell       *\n.\\\" copies of the Software, and to permit persons to whom the Software is    *\n.\\\" furnished to do so, subject to the following conditions:                 *\n.\\\"                                                                          *\n.\\\" The above copyright notice and this permission notice shall be included  *\n.\\\" in all copies or substantial portions of the Software.                   *\n.\\\"                                                                          *\n.\\\" THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS  *\n.\\\" OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF               *\n.\\\" MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.   *\n.\\\" IN NO EVENT SHALL THE ABOVE COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,   *\n.\\\" DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR    *\n.\\\" OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR    *\n.\\\" THE USE OR OTHER DEALINGS IN THE SOFTWARE.                               *\n.\\\"                                                                          *\n.\\\" Except as contained in this notice, the name(s) of the above copyright   *\n.\\\" holders shall not be used in advertising or otherwise to promote the     *\n.\\\" sale, use or other dealings in this Software without prior written       *\n.\\\" authorization.                                                           *\n.\\\"***************************************************************************\n.\\\"\n.\\\" $Id: curs_kernel.3x,v 1.32 2022/02/12 20:05:11 tom Exp $\n.ie \\n(.g .ds `` \\(lq\n.el       .ds `` ``\n.ie \\n(.g .ds '' \\(rq\n.el       .ds '' ''\n.de bP\n.ie n  .IP \\(bu 4\n.el    .IP \\(bu 2\n..\n.TH curs_kernel 3X \"\"\n.na\n.hy 0\n.SH NAME\n\\fBdef_prog_mode\\fP,\n\\fBdef_shell_mode\\fP,\n\\fBreset_prog_mode\\fP,\n\\fBreset_shell_mode\\fP,\n\\fBresetty\\fP,\n\\fBsavetty\\fP,\n\\fBgetsyx\\fP,\n\\fBsetsyx\\fP,\n\\fBripoffline\\fP,\n\\fBcurs_set\\fP,\n\\fBnapms\\fP \\- low-level \\fBcurses\\fP routines\n.ad\n.hy\n.SH SYNOPSIS\n\\fB#include <curses.h>\\fP\n.sp\n\\fBint def_prog_mode(void);\\fP\n.br\n\\fBint def_shell_mode(void);\\fP\n.sp\n\\fBint reset_prog_mode(void);\\fP\n.br\n\\fBint reset_shell_mode(void);\\fP\n.sp\n\\fBint resetty(void);\\fP\n.br\n\\fBint savetty(void);\\fP\n.sp\n\\fBvoid getsyx(int \\fIy\\fB, int \\fIx\\fB);\\fR\n.br\n\\fBvoid setsyx(int \\fIy\\fB, int \\fIx\\fB);\\fR\n.sp\n\\fBint ripoffline(int \\fIline\\fB, int (*\\fIinit\\fB)(WINDOW *, int));\\fR\n.br\n\\fBint curs_set(int \\fIvisibility\\fB);\\fR\n.br\n\\fBint napms(int \\fIms\\fB);\\fR\n.br\n.SH DESCRIPTION\nThe following routines give low-level access\nto various \\fBcurses\\fP capabilities.\nThese routines typically are used inside library routines.\n.SS def_prog_mode, def_shell_mode\n.PP\nThe \\fBdef_prog_mode\\fP and \\fBdef_shell_mode\\fP routines save the\ncurrent terminal modes as the \\*(``program\\*('' (in \\fBcurses\\fP) or \\*(``shell\\*(''\n(not in \\fBcurses\\fP) state for use by the \\fBreset_prog_mode\\fP and\n\\fBreset_shell_mode\\fP routines.\nThis is done automatically by \\fBinitscr\\fP.\nThere is one such save area for each screen context\nallocated by \\fBnewterm\\fP.\n.SS reset_prog_mode, reset_shell_mode\n.PP\nThe \\fBreset_prog_mode\\fP and \\fBreset_shell_mode\\fP routines restore\nthe terminal to \\*(``program\\*('' (in \\fBcurses\\fP) or \\*(``shell\\*('' (out of\n\\fBcurses\\fP) state.\nThese are done automatically by \\fBendwin\\fP(3X) and,\nafter an \\fBendwin\\fP, by \\fBdoupdate\\fP,\nso they normally are not called.\n.SS resetty, savetty\n.PP\nThe \\fBresetty\\fP and \\fBsavetty\\fP routines save and restore the\nstate of the terminal modes.\n\\fBsavetty\\fP saves the current state in\na buffer and \\fBresetty\\fP restores the state to what it was at the\nlast call to \\fBsavetty\\fP.\n.SS getsyx\n.PP\nThe \\fBgetsyx\\fP routine returns the current coordinates\nof the \\fIvirtual screen\\fP cursor in \\fIy\\fP and \\fIx\\fP.\nIf \\fBleaveok\\fP is currently \\fBTRUE\\fP, then\n\\fB\\-1\\fP,\\fB\\-1\\fP is returned.\nIf lines have been removed from the top of the\nscreen, using \\fBripoffline\\fP, \\fIy\\fP and \\fIx\\fP include these lines;\ntherefore, \\fIy\\fP and \\fIx\\fP should be used only as arguments for\n\\fBsetsyx\\fP.\n.PP\nFew applications will use this feature,\nmost use \\fBgetyx\\fP instead.\n.SS setsyx\n.PP\nThe \\fBsetsyx\\fP routine sets\nthe \\fIvirtual screen\\fP cursor to \\fIy\\fP, \\fIx\\fP.\nIf \\fIy\\fP and \\fIx\\fP are both \\fB\\-1\\fP, then\n\\fBleaveok\\fP is set.\nThe two routines \\fBgetsyx\\fP and \\fBsetsyx\\fP\nare designed to be used by a library routine, which manipulates\n\\fBcurses\\fP windows but does not want to change the current position\nof the program's cursor.\nThe library routine would call \\fBgetsyx\\fP\nat the beginning, do its manipulation of its own windows, do a\n\\fBwnoutrefresh\\fP on its windows, call \\fBsetsyx\\fP, and then call\n\\fBdoupdate\\fP.\n.PP\nFew applications will use this feature,\nmost use \\fBwmove\\fP instead.\n.SS ripoffline\n.PP\nThe \\fBripoffline\\fP routine provides access to the same facility that\n\\fBslk_init\\fP [see \\fBcurs_slk\\fP(3X)] uses to reduce the size of the\nscreen.\n\\fBripoffline\\fP must be called before \\fBinitscr\\fP or\n\\fBnewterm\\fP is called, to prepare these initial actions:\n.bP\nIf \\fIline\\fP is positive, a line is removed from the top of \\fBstdscr\\fP.\n.bP\nif \\fIline\\fP is negative, a line is removed from the bottom.\n.PP\nWhen the resulting initialization is done inside \\fBinitscr\\fP, the\nroutine \\fBinit\\fP (supplied by the user) is called with two\narguments:\n.bP\na window pointer to the one-line window that has been\nallocated and\n.bP\nan integer with the number of columns in the window.\n.PP\nInside this initialization routine, the integer variables \\fBLINES\\fP\nand \\fBCOLS\\fP (defined in \\fB<curses.h>\\fP) are not guaranteed to be\naccurate and \\fBwrefresh\\fP or \\fBdoupdate\\fP must not be called.\nIt is allowable to call \\fBwnoutrefresh\\fP during the initialization routine.\n.PP\n\\fBripoffline\\fP can be called up to five times before calling \\fBinitscr\\fP or\n\\fBnewterm\\fP.\n.SS curs_set\n.PP\nThe \\fBcurs_set\\fP routine sets the cursor state to invisible,\nnormal, or very visible for \\fBvisibility\\fP equal to \\fB0\\fP,\n\\fB1\\fP, or \\fB2\\fP respectively.\nIf the terminal supports the \\fIvisibility\\fP requested,\nthe previous \\fIcursor\\fP state is returned;\notherwise, \\fBERR\\fP is returned.\n.SS napms\n.PP\nThe \\fBnapms\\fP routine is used to sleep for \\fIms\\fP milliseconds.\n.SH RETURN VALUE\nExcept for \\fBcurs_set\\fP, these routines always return \\fBOK\\fP.\n.PP\n\\fBcurs_set\\fP\nreturns the previous cursor state, or \\fBERR\\fP if the\nrequested \\fIvisibility\\fP is not supported.\n.PP\nX/Open defines no error conditions.\nIn this implementation\n.TP 5\n.na\n.hy 0\n\\fBdef_prog_mode\\fP, \\fBdef_shell_mode\\fP, \\fBreset_prog_mode\\fP, \\fBreset_shell_mode\\fP\n.hy\n.ad\nreturn an error\nif the terminal was not initialized, or\nif the I/O call to obtain the terminal settings fails.\n.TP 5\n\\fBripoffline\\fP\nreturns an error if the maximum number of ripped-off lines\nexceeds the maximum (NRIPS = 5).\n.SH NOTES\nNote that \\fBgetsyx\\fP is a macro, so \\fB&\\fP is not necessary before\nthe variables \\fIy\\fP and \\fIx\\fP.\n.PP\nOlder SVr4 man pages warn that the return value\nof \\fBcurs_set\\fP \\*(``is currently incorrect\\*(''.\nThis implementation gets it right, but it may be unwise to count\non the correctness of the return value anywhere else.\n.PP\nBoth ncurses and SVr4 will call \\fBcurs_set\\fP in \\fBendwin\\fP\nif \\fBcurs_set\\fP\nhas been called to make the cursor other than normal, i.e., either\ninvisible or very visible.\nThere is no way for ncurses to determine the initial cursor state to\nrestore that.\n.SH PORTABILITY\nThe \\fIvirtual screen\\fP functions \\fBsetsyx\\fP and \\fBgetsyx\\fP\nare not described in the XSI Curses standard, Issue 4.\nAll other functions are as described in XSI Curses.\n.PP\nThe SVr4 documentation describes \\fBsetsyx\\fP and \\fBgetsyx\\fP\nas having return type int.\nThis is misleading, as they are macros with no documented semantics\nfor the return value.\n.SH SEE ALSO\n\\fBcurses\\fP(3X),\n\\fBcurs_initscr\\fP(3X),\n\\fBcurs_outopts\\fP(3X),\n\\fBcurs_refresh\\fP(3X),\n\\fBcurs_scr_dump\\fP(3X),\n\\fBcurs_slk\\fP(3X),\n\\fBcurs_variables\\fP(3X).\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}