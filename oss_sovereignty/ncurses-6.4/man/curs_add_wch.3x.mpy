{
  "module_name": "curs_add_wch.3x",
  "hash_id": "6f9b258a24dba3a7344aac94179608f4fb0b715deef7dd4ffd9732ff9e477b4a",
  "original_prompt": "Ingested from ncurses-6.4/man/curs_add_wch.3x",
  "human_readable_source": ".\\\"***************************************************************************\n.\\\" Copyright 2019-2020,2021 Thomas E. Dickey                                *\n.\\\" Copyright 2001-2015,2017 Free Software Foundation, Inc.                  *\n.\\\"                                                                          *\n.\\\" Permission is hereby granted, free of charge, to any person obtaining a  *\n.\\\" copy of this software and associated documentation files (the            *\n.\\\" \"Software\"), to deal in the Software without restriction, including      *\n.\\\" without limitation the rights to use, copy, modify, merge, publish,      *\n.\\\" distribute, distribute with modifications, sublicense, and/or sell       *\n.\\\" copies of the Software, and to permit persons to whom the Software is    *\n.\\\" furnished to do so, subject to the following conditions:                 *\n.\\\"                                                                          *\n.\\\" The above copyright notice and this permission notice shall be included  *\n.\\\" in all copies or substantial portions of the Software.                   *\n.\\\"                                                                          *\n.\\\" THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS  *\n.\\\" OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF               *\n.\\\" MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.   *\n.\\\" IN NO EVENT SHALL THE ABOVE COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,   *\n.\\\" DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR    *\n.\\\" OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR    *\n.\\\" THE USE OR OTHER DEALINGS IN THE SOFTWARE.                               *\n.\\\"                                                                          *\n.\\\" Except as contained in this notice, the name(s) of the above copyright   *\n.\\\" holders shall not be used in advertising or otherwise to promote the     *\n.\\\" sale, use or other dealings in this Software without prior written       *\n.\\\" authorization.                                                           *\n.\\\"***************************************************************************\n.\\\"\n.\\\" $Id: curs_add_wch.3x,v 1.31 2021/12/25 21:37:49 tom Exp $\n.TH curs_add_wch 3X \"\"\n.ie \\n(.g .ds `` \\(lq\n.el       .ds `` ``\n.ie \\n(.g .ds '' \\(rq\n.el       .ds '' ''\n.de bP\n.ie n  .IP \\(bu 4\n.el    .IP \\(bu 2\n..\n.SH NAME\n\\fBadd_wch\\fP,\n\\fBwadd_wch\\fP,\n\\fBmvadd_wch\\fP,\n\\fBmvwadd_wch\\fP,\n\\fBecho_wchar\\fP,\n\\fBwecho_wchar\\fP \\- add a complex character and rendition to a \\fBcurses\\fP window, then advance the cursor\n.SH SYNOPSIS\n.PP\n\\fB#include <curses.h>\\fP\n.sp\n.B \"int add_wch( const cchar_t *\\fIwch\\fB );\"\n.br\n.B \"int wadd_wch( WINDOW *\\fIwin\\fP, const cchar_t *\\fIwch\\fB );\"\n.br\n.B \"int mvadd_wch( int \\fIy\\fP, int \\fIx\\fP, const cchar_t *\\fIwch\\fB );\"\n.br\n.B \"int mvwadd_wch( WINDOW *\\fIwin\\fP, int \\fIy\\fP, int \\fIx\\fP, const cchar_t *\\fIwch\\fB );\"\n.sp\n.B \"int echo_wchar( const cchar_t *\\fIwch\\fB );\"\n.br\n.B \"int wecho_wchar( WINDOW *\\fIwin\\fP, const cchar_t *\\fIwch\\fB );\"\n.br\n.SH DESCRIPTION\n.SS add_wch\n.PP\nThe\n\\fBadd_wch\\fP,\n\\fBwadd_wch\\fP,\n\\fBmvadd_wch\\fP, and\n\\fBmvwadd_wch\\fP\nfunctions put the complex character \\fIwch\\fP into the given\nwindow at its current position,\nwhich is then advanced.\nThese functions perform\nwrapping and special-character processing as follows:\n.bP\nIf \\fIwch\\fP refers to a spacing character,\nthen any previous character at that location is removed.\nA new character specified by \\fIwch\\fP is\nplaced at that location with rendition specified by \\fIwch\\fP.\nThe cursor then advances to\nthe next spacing character on the screen.\n.bP\nIf \\fIwch\\fP refers to a non-spacing character,\nall previous characters at that location are preserved.\nThe non-spacing characters of \\fIwch\\fP\nare added to the spacing complex character,\nand the rendition specified by \\fIwch\\fP is ignored.\n.bP\nIf the character part of \\fIwch\\fP is\na tab, newline, backspace or other control character,\nthe window is updated and the cursor moves as if \\fBaddch\\fP were called.\n.SS echo_wchar\n.PP\nThe \\fBecho_wchar\\fP\nfunction is functionally equivalent to a call to\n\\fBadd_wch\\fP\nfollowed by a call to\n\\fBrefresh\\fP(3X).\nSimilarly, the\n\\fBwecho_wchar\\fP\nis functionally equivalent to a call to\n\\fBwadd_wch\\fP\nfollowed by a call to\n\\fBwrefresh\\fP.\nThe knowledge\nthat only a single character is being output is taken into consideration and,\nfor non-control characters, a considerable performance gain might be seen\nby using the *\\fBecho\\fP* functions instead of their equivalents.\n.SS Line Graphics\nLike \\fBaddch\\fP(3X),\n\\fBaddch_wch\\fP accepts symbols which make it simple to draw lines and other\nfrequently used special characters.\nThese symbols correspond to the same VT100 line-drawing set as\n\\fBaddch\\fP(3X).\n.PP\n.TS\nl l l l l\nl l l l l\n_ _ _ _ _\nlw(1.5i) lw5 lw5 lw5 lw20.\n\\fBACS\\fP\t\\fBUnicode\\fP\t\\fBASCII\\fP\t\\fBacsc\\fP\t\\fBGlyph\\fP\n\\fBName\\fP\t\\fBDefault\\fP\t\\fBDefault\\fP\t\\fBchar\\fP\t\\fBName\\fP\nWACS_BLOCK\t0x25ae \t#\t0\tsolid square block\nWACS_BOARD\t0x2592 \t#\th\tboard of squares\nWACS_BTEE\t0x2534 \t+\tv\tbottom tee\nWACS_BULLET\t0x00b7 \to\t~\tbullet\nWACS_CKBOARD\t0x2592 \t:\ta\tchecker board (stipple)\nWACS_DARROW\t0x2193 \tv\t.\tarrow pointing down\nWACS_DEGREE\t0x00b0 \t'\tf\tdegree symbol\nWACS_DIAMOND\t0x25c6 \t+\t`\tdiamond\nWACS_GEQUAL\t0x2265 \t>\t>\tgreater-than-or-equal-to\nWACS_HLINE\t0x2500 \t\\-\tq\thorizontal line\nWACS_LANTERN\t0x2603 \t#\ti\tlantern symbol\nWACS_LARROW\t0x2190 \t<\t,\tarrow pointing left\nWACS_LEQUAL\t0x2264 \t<\ty\tless-than-or-equal-to\nWACS_LLCORNER\t0x2514 \t+\tm\tlower left-hand corner\nWACS_LRCORNER\t0x2518 \t+\tj\tlower right-hand corner\nWACS_LTEE\t0x2524 \t+\tt\tleft tee\nWACS_NEQUAL\t0x2260 \t!\t|\tnot-equal\nWACS_PI\t0x03c0 \t*\t{\tgreek pi\nWACS_PLMINUS\t0x00b1 \t#\tg\tplus/minus\nWACS_PLUS\t0x253c \t+\tn\tplus\nWACS_RARROW\t0x2192 \t>\t+\tarrow pointing right\nWACS_RTEE\t0x251c \t+\tu\tright tee\nWACS_S1\t0x23ba \t\\-\to\tscan line 1\nWACS_S3\t0x23bb \t\\-\tp\tscan line 3\nWACS_S7\t0x23bc \t\\-\tr\tscan line 7\nWACS_S9\t0x23bd \t\\&_\ts\tscan line 9\nWACS_STERLING\t0x00a3 \tf\t}\tpound-sterling symbol\nWACS_TTEE\t0x252c \t+\tw\ttop tee\nWACS_UARROW\t0x2191  \t^\t\\-\tarrow pointing up\nWACS_ULCORNER\t0x250c \t+\tl\tupper left-hand corner\nWACS_URCORNER\t0x2510 \t+\tk\tupper right-hand corner\nWACS_VLINE\t0x2502 \t|\tx\tvertical line\n.TE\n.PP\nThe wide-character configuration of ncurses also defines symbols\nfor thick lines (\\fBacsc\\fP \\*(``J\\*('' to \\*(``V\\*(''):\n.TS\nl l l l l\nl l l l l\n_ _ _ _ _\nlw(1.5i) lw5 lw5 lw5 lw20.\n\\fBACS\\fP\t\\fBUnicode\\fP\t\\fBASCII\\fP\t\\fBacsc\\fP\t\\fBGlyph\\fP\n\\fBName\\fP\t\\fBDefault\\fP\t\\fBDefault\\fP\t\\fBchar\\fP\t\\fBName\\fP\nWACS_T_BTEE\t0x253b\t+\tV\tthick tee pointing up\nWACS_T_HLINE\t0x2501\t-\tQ\tthick horizontal line\nWACS_T_LLCORNER\t0x2517\t+\tM\tthick lower left corner\nWACS_T_LRCORNER\t0x251b\t+\tJ\tthick lower right corner\nWACS_T_LTEE\t0x252b\t+\tT\tthick tee pointing right\nWACS_T_PLUS\t0x254b\t+\tN\tthick large plus\nWACS_T_RTEE\t0x2523\t+\tU\tthick tee pointing left\nWACS_T_TTEE\t0x2533\t+\tW\tthick tee pointing down\nWACS_T_ULCORNER\t0x250f\t+\tL\tthick upper left corner\nWACS_T_URCORNER\t0x2513\t+\tK\tthick upper right corner\nWACS_T_VLINE\t0x2503\t|\tX\tthick vertical line\n.TE\n.PP\nand for double-lines (\\fBacsc\\fP \\*(``A\\*('' to \\*(``I\\*(''):\n.PP\n.TS\nl l l l l\nl l l l l\n_ _ _ _ _\nlw(1.5i) lw5 lw5 lw5 lw20.\n\\fBACS\\fP\t\\fBUnicode\\fP\t\\fBASCII\\fP\t\\fBacsc\\fP\t\\fBGlyph\\fP\n\\fBName\\fP\t\\fBDefault\\fP\t\\fBDefault\\fP\t\\fBchar\\fP\t\\fBName\\fP\nWACS_D_BTEE\t0x2569\t+\tH\tdouble tee pointing up\nWACS_D_HLINE\t0x2550\t-\tR\tdouble horizontal line\nWACS_D_LLCORNER\t0x255a\t+\tD\tdouble lower left corner\nWACS_D_LRCORNER\t0x255d\t+\tA\tdouble lower right corner\nWACS_D_LTEE\t0x2560\t+\tF\tdouble tee pointing right\nWACS_D_PLUS\t0x256c\t+\tE\tdouble large plus\nWACS_D_RTEE\t0x2563\t+\tG\tdouble tee pointing left\nWACS_D_TTEE\t0x2566\t+\tI\tdouble tee pointing down\nWACS_D_ULCORNER\t0x2554\t+\tC\tdouble upper left corner\nWACS_D_URCORNER\t0x2557\t+\tB\tdouble upper right corner\nWACS_D_VLINE\t0x2551\t|\tY\tdouble vertical line\n.TE\n.PP\nUnicode's descriptions for these characters differs slightly from ncurses,\nby introducing the term \\*(``light\\*('' (along with less important details).\nHere are its descriptions for the normal, thick, and double horizontal lines:\n.bP\nU+2500 BOX DRAWINGS LIGHT HORIZONTAL\n.bP\nU+2501 BOX DRAWINGS HEAVY HORIZONTAL\n.bP\nU+2550 BOX DRAWINGS DOUBLE HORIZONTAL\n.SH RETURN VALUE\n.PP\nAll routines return the integer \\fBERR\\fP upon failure and \\fBOK\\fP on success.\n.PP\nX/Open does not define any error conditions.\nThis implementation returns an error\n.bP\nif the window pointer is null or\n.bP\nif it is not possible to add a complete character in the window.\n.PP\nThe latter may be due to different causes:\n.bP\nIf \\fBscrollok\\fP is not enabled,\nwriting a character at the lower right margin succeeds.\nHowever, an error is returned because\nit is not possible to wrap to a new line\n.bP\nIf an error is detected when converting a multibyte character to a sequence\nof bytes,\nor if it is not possible to add all of the resulting bytes in the window,\nan error is returned.\n.PP\nFunctions with a \\*(``mv\\*('' prefix first perform a cursor movement using\n\\fBwmove\\fP, and return an error if the position is outside the window,\nor if the window pointer is null.\n.SH NOTES\n.PP\nNote that\n\\fBadd_wch\\fP,\n\\fBmvadd_wch\\fP,\n\\fBmvwadd_wch\\fP, and\n\\fBecho_wchar\\fP\nmay be macros.\n.SH PORTABILITY\n.PP\nAll of these functions are described in the XSI Curses standard, Issue 4.\nThe defaults specified for line-drawing characters apply in the POSIX locale.\n.PP\nX/Open Curses makes it clear that the WACS_ symbols should be defined as\na pointer to \\fBcchar_t\\fP data, e.g., in the discussion of \\fBborder_set\\fP.\nA few implementations are problematic:\n.bP\nNetBSD curses defines the symbols as a \\fBwchar_t\\fP within a \\fBcchar_t\\fP.\n.bP\nHPUX curses equates some of the \\fBACS_\\fP symbols\nto the analogous \\fBWACS_\\fP symbols as if the \\fBACS_\\fP symbols were\nwide characters.\nThe misdefined symbols are the arrows\nand other symbols which are not used for line-drawing.\n.PP\nX/Open Curses does not define symbols for thick- or double-lines.\nSVr4 curses implementations defined their line-drawing symbols in\nterms of intermediate symbols.\nThis implementation extends those symbols, providing new definitions\nwhich are not in the SVr4 implementations.\n.PP\nNot all Unicode-capable terminals provide support for VT100-style\nalternate character sets (i.e., the \\fBacsc\\fP capability),\nwith their corresponding line-drawing characters.\nX/Open Curses did not address the aspect of integrating Unicode with\nline-drawing characters.\nExisting implementations of Unix curses (AIX, HPUX, Solaris)\nuse only the \\fBacsc\\fP character-mapping to provide this feature.\nAs a result, those implementations can only use single-byte line-drawing\ncharacters.\nNcurses 5.3 (2002) provided a table of Unicode values to solve these problems.\nNetBSD curses incorporated that table in 2010.\n.PP\nIn this implementation, the Unicode values are used instead of the\nterminal description's \\fBacsc\\fP mapping as discussed in ncurses(3X)\nfor the environment variable \\fBNCURSES_NO_UTF8_ACS\\fP.\nIn contrast, for the same cases, the line-drawing characters\ndescribed in \\fBcurs_addch\\fP(3X) will use only the ASCII default values.\n.PP\nHaving Unicode available does not solve all of the problems with\nline-drawing for curses:\n.bP\nThe closest Unicode equivalents to the\nVT100 graphics \\fIS1\\fP, \\fIS3\\fP, \\fIS7\\fP and \\fIS9\\fP\nfrequently are not displayed at\nthe regular intervals which the terminal used.\n.bP\nThe \\fIlantern\\fP is a special case.\nIt originated with the AT&T 4410 terminal in the early 1980s.\nThere is no accessible documentation depicting the lantern symbol\non the AT&T terminal.\n.IP\nLacking documentation, most readers assume that a \\fIstorm lantern\\fP\nwas intended.\nBut there are several possibilities, all with problems.\n.IP\nUnicode 6.0 (2010) does provide two lantern symbols: U+1F383 and U+1F3EE.\nThose were not available in 2002, and are irrelevant since\nthey lie outside the BMP and as a result are not generally available\nin terminals.\nThey are not storm lanterns, in any case.\n.IP\nMost \\fIstorm lanterns\\fP have a tapering glass chimney\n(to guard against tipping);\nsome have a wire grid protecting the chimney.\n.IP\nFor the tapering appearance, \\[u2603] U+2603 was adequate.\nIn use on a terminal, no one can tell what the image represents.\nUnicode calls it a snowman.\n.IP\nOthers have suggested these alternatives:\n\\[sc] U+00A7 (section mark),\n\\[u0398] U+0398 (theta),\n\\[u03A6] U+03A6 (phi),\n\\[u03B4] U+03B4 (delta),\n\\[u2327] U+2327 (x in a rectangle),\n\\[u256C] U+256C (forms double vertical and horizontal), and\n\\[u2612] U+2612 (ballot box with x).\n.SH SEE ALSO\n.na\n.PP\n\\fBcurses\\fP(3X),\n\\fBcurs_addch\\fP(3X),\n\\fBcurs_attr\\fP(3X),\n\\fBcurs_clear\\fP(3X),\n\\fBcurs_outopts\\fP(3X),\n\\fBcurs_refresh\\fP(3X),\n\\fBputwc\\fP(3)\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}