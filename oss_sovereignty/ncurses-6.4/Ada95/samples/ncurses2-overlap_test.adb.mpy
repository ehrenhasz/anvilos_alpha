{
  "module_name": "ncurses2-overlap_test.adb",
  "hash_id": "97d7ef0e7f9e2bf7bbc683a8c99b5afc2779bbde5b246eccdbbe3e75d1379ed7",
  "original_prompt": "Ingested from ncurses-6.4/Ada95/samples/ncurses2-overlap_test.adb",
  "human_readable_source": "------------------------------------------------------------------------------\n--                                                                          --\n--                       GNAT ncurses Binding Samples                       --\n--                                                                          --\n--                                 ncurses                                  --\n--                                                                          --\n--                                 B O D Y                                  --\n--                                                                          --\n------------------------------------------------------------------------------\n-- Copyright 2020,2021 Thomas E. Dickey                                     --\n-- Copyright 2000-2014,2015 Free Software Foundation, Inc.                  --\n--                                                                          --\n-- Permission is hereby granted, free of charge, to any person obtaining a  --\n-- copy of this software and associated documentation files (the            --\n-- \"Software\"), to deal in the Software without restriction, including      --\n-- without limitation the rights to use, copy, modify, merge, publish,      --\n-- distribute, distribute with modifications, sublicense, and/or sell       --\n-- copies of the Software, and to permit persons to whom the Software is    --\n-- furnished to do so, subject to the following conditions:                 --\n--                                                                          --\n-- The above copyright notice and this permission notice shall be included  --\n-- in all copies or substantial portions of the Software.                   --\n--                                                                          --\n-- THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS  --\n-- OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF               --\n-- MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.   --\n-- IN NO EVENT SHALL THE ABOVE COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,   --\n-- DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR    --\n-- OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR    --\n-- THE USE OR OTHER DEALINGS IN THE SOFTWARE.                               --\n--                                                                          --\n-- Except as contained in this notice, the name(s) of the above copyright   --\n-- holders shall not be used in advertising or otherwise to promote the     --\n-- sale, use or other dealings in this Software without prior written       --\n-- authorization.                                                           --\n------------------------------------------------------------------------------\n--  Author: Eugene V. Melaragno <aldomel@ix.netcom.com> 2000\n--  Version Control\n--  $Revision: 1.9 $\n--  $Date: 2021/09/04 10:52:55 $\n--  Binding Version 01.00\n------------------------------------------------------------------------------\nwith ncurses2.util; use ncurses2.util;\nwith Terminal_Interface.Curses; use Terminal_Interface.Curses;\n\n--  test effects of overlapping windows\n\nprocedure ncurses2.overlap_test is\n\n   procedure fillwin (win : Window; ch : Character);\n   procedure crosswin (win : Window; ch : Character);\n\n   procedure fillwin (win : Window; ch : Character) is\n      y1 : Line_Position;\n      x1 : Column_Position;\n   begin\n      Get_Size (win, y1, x1);\n      for y in 0 .. y1 - 1 loop\n         Move_Cursor (win, y, 0);\n         for x in 0 .. x1 - 1 loop\n            Add (win, Ch => ch);\n         end loop;\n      end loop;\n   exception\n      when Curses_Exception => null;\n         --  write to lower right corner\n   end fillwin;\n\n   procedure crosswin (win : Window; ch : Character) is\n      y1 : Line_Position;\n      x1 : Column_Position;\n   begin\n      Get_Size (win, y1, x1);\n      for y in 0 .. y1 - 1 loop\n         for x in 0 .. x1 - 1 loop\n            if ((x > (x1 - 1) / 3) and (x <= (2 * (x1 - 1)) / 3)) or\n               (((y > (y1 - 1) / 3) and (y <= (2 * (y1 - 1)) / 3)))\n            then\n               Move_Cursor (win, y, x);\n               Add (win, Ch => ch);\n            end if;\n         end loop;\n      end loop;\n   end crosswin;\n\n   --  In a 24x80 screen like some xterms are, the instructions will\n   --  be overwritten.\n   ch : Character;\n   win1 : Window := New_Window (9, 20, 3, 3);\n   win2 : Window := New_Window (9, 20, 9, 16);\nbegin\n   Set_Raw_Mode (SwitchOn => True);\n   Refresh;\n   Move_Cursor (Line => 0, Column => 0);\n   Add (Str => \"This test shows the behavior of wnoutrefresh() with \" &\n        \"respect to\");\n   Add (Ch => newl);\n   Add (Str => \"the shared region of two overlapping windows A and B. \" &\n        \"The cross\");\n   Add (Ch => newl);\n   Add (Str => \"pattern in each window does not overlap the other.\");\n   Add (Ch => newl);\n\n   Move_Cursor (Line => 18, Column => 0);\n   Add (Str => \"a = refresh A, then B, then doupdate. b = refresh B, \" &\n        \"then A, then doupdate\");\n   Add (Ch => newl);\n   Add (Str => \"c = fill window A with letter A.      d = fill window B \" &\n        \"with letter B.\");\n   Add (Ch => newl);\n   Add (Str => \"e = cross pattern in window A.        f = cross pattern \" &\n        \"in window B.\");\n   Add (Ch => newl);\n   Add (Str => \"g = clear window A.                   h = clear window B.\");\n   Add (Ch => newl);\n   Add (Str => \"i = overwrite A onto B.               j = overwrite \" &\n        \"B onto A.\");\n   Add (Ch => newl);\n   Add (Str => \"^Q/ESC = terminate test.\");\n\n   loop\n      ch := Code_To_Char (Getchar);\n      exit when ch = CTRL ('Q') or ch = CTRL ('['); --  QUIT or ESCAPE\n      case ch is\n         when 'a' => --  refresh window A first, then B\n            Refresh_Without_Update (win1);\n            Refresh_Without_Update (win2);\n            Update_Screen;\n         when 'b' => --  refresh window B first, then A\n            Refresh_Without_Update (win2);\n            Refresh_Without_Update (win1);\n            Update_Screen;\n         when 'c' => --  fill window A so it is visible\n            fillwin (win1, 'A');\n         when 'd' => --  fill window B so it is visible\n            fillwin (win2, 'B');\n         when 'e' => --  cross test pattern in window A\n            crosswin (win1, 'A');\n         when 'f' => --  cross test pattern in window B\n            crosswin (win2, 'B');\n         when 'g' => --  clear window A\n            Clear (win1);\n            Move_Cursor (win1, 0, 0);\n         when 'h' => --  clear window B\n            Clear (win2);\n            Move_Cursor (win2, 0, 0);\n         when 'i' => --  overwrite A onto B\n            Overwrite (win1, win2);\n         when 'j' => --  overwrite B onto A\n            Overwrite (win2, win1);\n         when others => null;\n      end case;\n   end loop;\n\n   Delete (win2);\n   Delete (win1);\n   Erase;\n   End_Windows;\nend ncurses2.overlap_test;\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}