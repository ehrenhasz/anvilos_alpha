{
  "module_name": "aclocal.m4",
  "hash_id": "eab27fd2a88ad27eaa65968b6920b77234e9deef55e546f404687d28f98ae25e",
  "original_prompt": "Ingested from ncurses-6.4/Ada95/aclocal.m4",
  "human_readable_source": "dnl***************************************************************************\ndnl Copyright 2018-2021,2022 Thomas E. Dickey                                *\ndnl Copyright 2010-2017,2018 Free Software Foundation, Inc.                  *\ndnl                                                                          *\ndnl Permission is hereby granted, free of charge, to any person obtaining a  *\ndnl copy of this software and associated documentation files (the            *\ndnl \"Software\"), to deal in the Software without restriction, including      *\ndnl without limitation the rights to use, copy, modify, merge, publish,      *\ndnl distribute, distribute with modifications, sublicense, and/or sell       *\ndnl copies of the Software, and to permit persons to whom the Software is    *\ndnl furnished to do so, subject to the following conditions:                 *\ndnl                                                                          *\ndnl The above copyright notice and this permission notice shall be included  *\ndnl in all copies or substantial portions of the Software.                   *\ndnl                                                                          *\ndnl THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS  *\ndnl OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF               *\ndnl MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.   *\ndnl IN NO EVENT SHALL THE ABOVE COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,   *\ndnl DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR    *\ndnl OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR    *\ndnl THE USE OR OTHER DEALINGS IN THE SOFTWARE.                               *\ndnl                                                                          *\ndnl Except as contained in this notice, the name(s) of the above copyright   *\ndnl holders shall not be used in advertising or otherwise to promote the     *\ndnl sale, use or other dealings in this Software without prior written       *\ndnl authorization.                                                           *\ndnl***************************************************************************\ndnl\ndnl Author: Thomas E. Dickey\ndnl\ndnl $Id: aclocal.m4,v 1.196 2022/10/02 23:55:56 tom Exp $\ndnl Macros used in NCURSES Ada95 auto-configuration script.\ndnl\ndnl These macros are maintained separately from NCURSES.  The copyright on\ndnl this file applies to the aggregation of macros and does not affect use of\ndnl these macros in other applications.\ndnl\ndnl See these pages for additional information:\ndnl\t\thttps://invisible-island.net/autoconf/\ndnl\t\thttps://invisible-island.net/autoconf/my-autoconf.html\ndnl\ndnl ---------------------------------------------------------------------------\ndnl ---------------------------------------------------------------------------\ndnl CF_ACVERSION_CHECK version: 5 updated: 2014/06/04 19:11:49\ndnl ------------------\ndnl Conditionally generate script according to whether we're using a given autoconf.\ndnl\ndnl $1 = version to compare against\ndnl $2 = code to use if AC_ACVERSION is at least as high as $1.\ndnl $3 = code to use if AC_ACVERSION is older than $1.\ndefine([CF_ACVERSION_CHECK],\n[\nifdef([AC_ACVERSION], ,[ifdef([AC_AUTOCONF_VERSION],[m4_copy([AC_AUTOCONF_VERSION],[AC_ACVERSION])],[m4_copy([m4_PACKAGE_VERSION],[AC_ACVERSION])])])dnl\nifdef([m4_version_compare],\n[m4_if(m4_version_compare(m4_defn([AC_ACVERSION]), [$1]), -1, [$3], [$2])],\n[CF_ACVERSION_COMPARE(\nAC_PREREQ_CANON(AC_PREREQ_SPLIT([$1])),\nAC_PREREQ_CANON(AC_PREREQ_SPLIT(AC_ACVERSION)), AC_ACVERSION, [$2], [$3])])])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_ACVERSION_COMPARE version: 3 updated: 2012/10/03 18:39:53\ndnl --------------------\ndnl CF_ACVERSION_COMPARE(MAJOR1, MINOR1, TERNARY1,\ndnl                      MAJOR2, MINOR2, TERNARY2,\ndnl                      PRINTABLE2, not FOUND, FOUND)\ndefine([CF_ACVERSION_COMPARE],\n[ifelse(builtin([eval], [$2 < $5]), 1,\n[ifelse([$8], , ,[$8])],\n[ifelse([$9], , ,[$9])])])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_ADA_INCLUDE_DIRS version: 8 updated: 2013/10/14 04:24:07\ndnl -------------------\ndnl Construct the list of include-options for the C programs in the Ada95\ndnl binding.\nAC_DEFUN([CF_ADA_INCLUDE_DIRS],\n[\nACPPFLAGS=\"-I. -I../include -I../../include $ACPPFLAGS\"\nif test \"$srcdir\" != \".\"; then\n\tACPPFLAGS=\"-I\\${srcdir}/../../include $ACPPFLAGS\"\nfi\nif test \"$GCC\" != yes; then\n\tACPPFLAGS=\"$ACPPFLAGS -I\\${includedir}\"\nelif test \"$includedir\" != \"/usr/include\"; then\n\tif test \"$includedir\" = '${prefix}/include' ; then\n\t\tif test x$prefix != x/usr ; then\n\t\t\tACPPFLAGS=\"$ACPPFLAGS -I\\${includedir}\"\n\t\tfi\n\telse\n\t\tACPPFLAGS=\"$ACPPFLAGS -I\\${includedir}\"\n\tfi\nfi\nAC_SUBST(ACPPFLAGS)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_ADD_ADAFLAGS version: 1 updated: 2010/06/19 15:22:18\ndnl ---------------\ndnl Add to $ADAFLAGS, which is substituted into makefile and scripts.\nAC_DEFUN([CF_ADD_ADAFLAGS],[\n \tADAFLAGS=\"$ADAFLAGS $1\"\n\tAC_SUBST(ADAFLAGS)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_ADD_CFLAGS version: 15 updated: 2020/12/31 10:54:15\ndnl -------------\ndnl Copy non-preprocessor flags to $CFLAGS, preprocessor flags to $CPPFLAGS\ndnl $1 = flags to add\ndnl $2 = if given makes this macro verbose.\ndnl\ndnl Put any preprocessor definitions that use quoted strings in $EXTRA_CPPFLAGS,\ndnl to simplify use of $CPPFLAGS in compiler checks, etc., that are easily\ndnl confused by the quotes (which require backslashes to keep them usable).\nAC_DEFUN([CF_ADD_CFLAGS],\n[\ncf_fix_cppflags=no\ncf_new_cflags=\ncf_new_cppflags=\ncf_new_extra_cppflags=\n\nfor cf_add_cflags in $1\ndo\ncase \"$cf_fix_cppflags\" in\n(no)\n\tcase \"$cf_add_cflags\" in\n\t(-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C)\n\t\tcase \"$cf_add_cflags\" in\n\t\t(-D*)\n\t\t\tcf_tst_cflags=`echo \"${cf_add_cflags}\" |sed -e 's/^-D[[^=]]*='\\''\\\"[[^\"]]*//'`\n\n\t\t\ttest \"x${cf_add_cflags}\" != \"x${cf_tst_cflags}\" \\\n\t\t\t\t&& test -z \"${cf_tst_cflags}\" \\\n\t\t\t\t&& cf_fix_cppflags=yes\n\n\t\t\tif test \"$cf_fix_cppflags\" = yes ; then\n\t\t\t\tCF_APPEND_TEXT(cf_new_extra_cppflags,$cf_add_cflags)\n\t\t\t\tcontinue\n\t\t\telif test \"${cf_tst_cflags}\" = \"\\\"'\" ; then\n\t\t\t\tCF_APPEND_TEXT(cf_new_extra_cppflags,$cf_add_cflags)\n\t\t\t\tcontinue\n\t\t\tfi\n\t\t\t;;\n\t\tesac\n\t\tcase \"$CPPFLAGS\" in\n\t\t(*$cf_add_cflags)\n\t\t\t;;\n\t\t(*)\n\t\t\tcase \"$cf_add_cflags\" in\n\t\t\t(-D*)\n\t\t\t\tcf_tst_cppflags=`echo \"x$cf_add_cflags\" | sed -e 's/^...//' -e 's/=.*//'`\n\t\t\t\tCF_REMOVE_DEFINE(CPPFLAGS,$CPPFLAGS,$cf_tst_cppflags)\n\t\t\t\t;;\n\t\t\tesac\n\t\t\tCF_APPEND_TEXT(cf_new_cppflags,$cf_add_cflags)\n\t\t\t;;\n\t\tesac\n\t\t;;\n\t(*)\n\t\tCF_APPEND_TEXT(cf_new_cflags,$cf_add_cflags)\n\t\t;;\n\tesac\n\t;;\n(yes)\n\tCF_APPEND_TEXT(cf_new_extra_cppflags,$cf_add_cflags)\n\n\tcf_tst_cflags=`echo \"${cf_add_cflags}\" |sed -e 's/^[[^\"]]*\"'\\''//'`\n\n\ttest \"x${cf_add_cflags}\" != \"x${cf_tst_cflags}\" \\\n\t\t&& test -z \"${cf_tst_cflags}\" \\\n\t\t&& cf_fix_cppflags=no\n\t;;\nesac\ndone\n\nif test -n \"$cf_new_cflags\" ; then\n\tifelse([$2],,,[CF_VERBOSE(add to \\$CFLAGS $cf_new_cflags)])\n\tCF_APPEND_TEXT(CFLAGS,$cf_new_cflags)\nfi\n\nif test -n \"$cf_new_cppflags\" ; then\n\tifelse([$2],,,[CF_VERBOSE(add to \\$CPPFLAGS $cf_new_cppflags)])\n\tCF_APPEND_TEXT(CPPFLAGS,$cf_new_cppflags)\nfi\n\nif test -n \"$cf_new_extra_cppflags\" ; then\n\tifelse([$2],,,[CF_VERBOSE(add to \\$EXTRA_CPPFLAGS $cf_new_extra_cppflags)])\n\tCF_APPEND_TEXT(EXTRA_CPPFLAGS,$cf_new_extra_cppflags)\nfi\n\nAC_SUBST(EXTRA_CPPFLAGS)\n\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_ADD_INCDIR version: 17 updated: 2021/09/04 06:35:04\ndnl -------------\ndnl Add an include-directory to $CPPFLAGS.  Don't add /usr/include, since it is\ndnl redundant.  We don't normally need to add -I/usr/local/include for gcc,\ndnl but old versions (and some misinstalled ones) need that.  To make things\ndnl worse, gcc 3.x may give error messages if -I/usr/local/include is added to\ndnl the include-path).\nAC_DEFUN([CF_ADD_INCDIR],\n[\nif test -n \"$1\" ; then\n  for cf_add_incdir in $1\n  do\n\twhile test \"$cf_add_incdir\" != /usr/include\n\tdo\n\t  if test -d \"$cf_add_incdir\"\n\t  then\n\t\tcf_have_incdir=no\n\t\tif test -n \"$CFLAGS$CPPFLAGS\" ; then\n\t\t  # a loop is needed to ensure we can add subdirs of existing dirs\n\t\t  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do\n\t\t\tif test \".$cf_test_incdir\" = \".-I$cf_add_incdir\" ; then\n\t\t\t  cf_have_incdir=yes; break\n\t\t\tfi\n\t\t  done\n\t\tfi\n\n\t\tif test \"$cf_have_incdir\" = no ; then\n\t\t  if test \"$cf_add_incdir\" = /usr/local/include ; then\n\t\t\tif test \"$GCC\" = yes\n\t\t\tthen\n\t\t\t  cf_save_CPPFLAGS=$CPPFLAGS\n\t\t\t  CF_APPEND_TEXT(CPPFLAGS,-I$cf_add_incdir)\n\t\t\t  AC_TRY_COMPILE([#include <stdio.h>],\n\t\t\t\t  [printf(\"Hello\")],\n\t\t\t\t  [],\n\t\t\t\t  [cf_have_incdir=yes])\n\t\t\t  CPPFLAGS=$cf_save_CPPFLAGS\n\t\t\tfi\n\t\t  fi\n\t\tfi\n\n\t\tif test \"$cf_have_incdir\" = no ; then\n\t\t  CF_VERBOSE(adding $cf_add_incdir to include-path)\n\t\t  ifelse([$2],,CPPFLAGS,[$2])=\"$ifelse([$2],,CPPFLAGS,[$2]) -I$cf_add_incdir\"\n\n\t\t  cf_top_incdir=`echo \"$cf_add_incdir\" | sed -e 's%/include/.*$%/include%'`\n\t\t  test \"$cf_top_incdir\" = \"$cf_add_incdir\" && break\n\t\t  cf_add_incdir=\"$cf_top_incdir\"\n\t\telse\n\t\t  break\n\t\tfi\n\t  else\n\t\tbreak\n\t  fi\n\tdone\n  done\nfi\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_ADD_LIB version: 2 updated: 2010/06/02 05:03:05\ndnl ----------\ndnl Add a library, used to enforce consistency.\ndnl\ndnl $1 = library to add, without the \"-l\"\ndnl $2 = variable to update (default $LIBS)\nAC_DEFUN([CF_ADD_LIB],[CF_ADD_LIBS(-l$1,ifelse($2,,LIBS,[$2]))])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_ADD_LIBDIR version: 11 updated: 2020/12/31 20:19:42\ndnl -------------\ndnl\tAdds to the library-path\ndnl\ndnl\tSome machines have trouble with multiple -L options.\ndnl\ndnl $1 is the (list of) directory(s) to add\ndnl $2 is the optional name of the variable to update (default LDFLAGS)\ndnl\nAC_DEFUN([CF_ADD_LIBDIR],\n[\nif test -n \"$1\" ; then\n\tfor cf_add_libdir in $1\n\tdo\n\t\tif test \"$cf_add_libdir\" = /usr/lib ; then\n\t\t\t:\n\t\telif test -d \"$cf_add_libdir\"\n\t\tthen\n\t\t\tcf_have_libdir=no\n\t\t\tif test -n \"$LDFLAGS$LIBS\" ; then\n\t\t\t\t# a loop is needed to ensure we can add subdirs of existing dirs\n\t\t\t\tfor cf_test_libdir in $LDFLAGS $LIBS ; do\n\t\t\t\t\tif test \".$cf_test_libdir\" = \".-L$cf_add_libdir\" ; then\n\t\t\t\t\t\tcf_have_libdir=yes; break\n\t\t\t\t\tfi\n\t\t\t\tdone\n\t\t\tfi\n\t\t\tif test \"$cf_have_libdir\" = no ; then\n\t\t\t\tCF_VERBOSE(adding $cf_add_libdir to library-path)\n\t\t\t\tifelse([$2],,LDFLAGS,[$2])=\"-L$cf_add_libdir $ifelse([$2],,LDFLAGS,[$2])\"\n\t\t\tfi\n\t\tfi\n\tdone\nfi\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_ADD_LIBS version: 3 updated: 2019/11/02 16:47:33\ndnl -----------\ndnl Add one or more libraries, used to enforce consistency.  Libraries are\ndnl prepended to an existing list, since their dependencies are assumed to\ndnl already exist in the list.\ndnl\ndnl $1 = libraries to add, with the \"-l\", etc.\ndnl $2 = variable to update (default $LIBS)\nAC_DEFUN([CF_ADD_LIBS],[\ncf_add_libs=\"[$]ifelse($2,,LIBS,[$2])\"\n# reverse order\ncf_add_0lib=\nfor cf_add_1lib in $1; do cf_add_0lib=\"$cf_add_1lib $cf_add_0lib\"; done\n# filter duplicates\nfor cf_add_1lib in $cf_add_0lib; do\n\tfor cf_add_2lib in $cf_add_libs; do\n\t\tif test \"x$cf_add_1lib\" = \"x$cf_add_2lib\"; then\n\t\t\tcf_add_1lib=\n\t\t\tbreak\n\t\tfi\n\tdone\n\ttest -n \"$cf_add_1lib\" && cf_add_libs=\"$cf_add_1lib $cf_add_libs\"\ndone\nifelse($2,,LIBS,[$2])=\"$cf_add_libs\"\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_ADD_SUBDIR_PATH version: 5 updated: 2020/12/31 20:19:42\ndnl ------------------\ndnl Append to a search-list for a nonstandard header/lib-file\ndnl\t$1 = the variable to return as result\ndnl\t$2 = the package name\ndnl\t$3 = the subdirectory, e.g., bin, include or lib\ndnl $4 = the directory under which we will test for subdirectories\ndnl $5 = a directory that we do not want $4 to match\nAC_DEFUN([CF_ADD_SUBDIR_PATH],\n[\ntest \"x$4\" != \"x$5\" && \\\ntest -d \"$4\" && \\\nifelse([$5],NONE,,[{ test -z \"$5\" || test \"x$5\" = xNONE || test \"x$4\" != \"x$5\"; } &&]) {\n\ttest -n \"$verbose\" && echo \"\t... testing for $3-directories under $4\"\n\ttest -d \"$4/$3\" &&          $1=\"[$]$1 $4/$3\"\n\ttest -d \"$4/$3/$2\" &&       $1=\"[$]$1 $4/$3/$2\"\n\ttest -d \"$4/$3/$2/$3\" &&    $1=\"[$]$1 $4/$3/$2/$3\"\n\ttest -d \"$4/$2/$3\" &&       $1=\"[$]$1 $4/$2/$3\"\n\ttest -d \"$4/$2/$3/$2\" &&    $1=\"[$]$1 $4/$2/$3/$2\"\n}\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_APPEND_CFLAGS version: 3 updated: 2021/09/05 17:25:40\ndnl ----------------\ndnl Use CF_ADD_CFLAGS after first checking for potential redefinitions.\ndnl $1 = flags to add\ndnl $2 = if given makes this macro verbose.\ndefine([CF_APPEND_CFLAGS],\n[\nfor cf_add_cflags in $1\ndo\n\tcase \"x$cf_add_cflags\" in\n\t(x-[[DU]]*)\n\t\tCF_REMOVE_CFLAGS($cf_add_cflags,CFLAGS,[$2])\n\t\tCF_REMOVE_CFLAGS($cf_add_cflags,CPPFLAGS,[$2])\n\t\t;;\n\tesac\n\tCF_ADD_CFLAGS([$cf_add_cflags],[$2])\ndone\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_APPEND_TEXT version: 1 updated: 2017/02/25 18:58:55\ndnl --------------\ndnl use this macro for appending text without introducing an extra blank at\ndnl the beginning\ndefine([CF_APPEND_TEXT],\n[\n\ttest -n \"[$]$1\" && $1=\"[$]$1 \"\n\t$1=\"[$]{$1}$2\"\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_ARG_DISABLE version: 3 updated: 1999/03/30 17:24:31\ndnl --------------\ndnl Allow user to disable a normally-on option.\nAC_DEFUN([CF_ARG_DISABLE],\n[CF_ARG_OPTION($1,[$2],[$3],[$4],yes)])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_ARG_ENABLE version: 3 updated: 1999/03/30 17:24:31\ndnl -------------\ndnl Allow user to enable a normally-off option.\nAC_DEFUN([CF_ARG_ENABLE],\n[CF_ARG_OPTION($1,[$2],[$3],[$4],no)])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_ARG_OPTION version: 5 updated: 2015/05/10 19:52:14\ndnl -------------\ndnl Restricted form of AC_ARG_ENABLE that ensures user doesn't give bogus\ndnl values.\ndnl\ndnl Parameters:\ndnl $1 = option name\ndnl $2 = help-string\ndnl $3 = action to perform if option is not default\ndnl $4 = action if perform if option is default\ndnl $5 = default option value (either 'yes' or 'no')\nAC_DEFUN([CF_ARG_OPTION],\n[AC_ARG_ENABLE([$1],[$2],[test \"$enableval\" != ifelse([$5],no,yes,no) && enableval=ifelse([$5],no,no,yes)\n\tif test \"$enableval\" != \"$5\" ; then\nifelse([$3],,[    :]dnl\n,[    $3]) ifelse([$4],,,[\n\telse\n\t\t$4])\n\tfi],[enableval=$5 ifelse([$4],,,[\n\t$4\n])dnl\n])])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_AR_FLAGS version: 9 updated: 2021/01/01 13:31:04\ndnl -----------\ndnl Check for suitable \"ar\" (archiver) options for updating an archive.\ndnl\ndnl In particular, handle some obsolete cases where the \"-\" might be omitted,\ndnl as well as a workaround for breakage of make's archive rules by the GNU\ndnl binutils \"ar\" program.\nAC_DEFUN([CF_AR_FLAGS],[\nAC_REQUIRE([CF_PROG_AR])\n\nAC_CACHE_CHECK(for options to update archives, cf_cv_ar_flags,[\n\tcase \"$cf_cv_system_name\" in\n\t(*-msvc*)\n\t\tcf_cv_ar_flags=''\n\t\tcat >mk_static_lib.sh <<-EOF\n\t\t#!$SHELL\n\t\tMSVC_BIN=\"[$]AR\"\n\t\tout=\"\\[$]1\"\n\t\tshift\n\t\texec \\[$]MSVC_BIN -out:\"\\[$]out\" \\[$]@\n\t\tEOF\n\t\tchmod +x mk_static_lib.sh\n\t\tAR=`pwd`/mk_static_lib.sh\n\t\t;;\n\t(*)\n\t\tcf_cv_ar_flags=unknown\n\t\tfor cf_ar_flags in -curvU -curv curv -crv crv -cqv cqv -rv rv\n\t\tdo\n\n\t\t\t# check if $ARFLAGS already contains this choice\n\t\t\tif test \"x$ARFLAGS\" != \"x\" ; then\n\t\t\t\tcf_check_ar_flags=`echo \"x$ARFLAGS\" | sed -e \"s/$cf_ar_flags\\$//\" -e \"s/$cf_ar_flags / /\"`\n\t\t\t\tif test \"x$ARFLAGS\" != \"$cf_check_ar_flags\" ; then\n\t\t\t\t\tcf_cv_ar_flags=\n\t\t\t\t\tbreak\n\t\t\t\tfi\n\t\t\tfi\n\n\t\t\trm -f \"conftest.$ac_cv_objext\"\n\t\t\trm -f conftest.a\n\n\t\t\tcat >\"conftest.$ac_ext\" <<EOF\n#line __oline__ \"configure\"\nint\ttestdata[[3]] = { 123, 456, 789 };\nEOF\n\t\t\tif AC_TRY_EVAL(ac_compile) ; then\n\t\t\t\techo \"$AR $ARFLAGS $cf_ar_flags conftest.a conftest.$ac_cv_objext\" >&AC_FD_CC\n\t\t\t\t$AR $ARFLAGS \"$cf_ar_flags\" conftest.a \"conftest.$ac_cv_objext\" 2>&AC_FD_CC 1>/dev/null\n\t\t\t\tif test -f conftest.a ; then\n\t\t\t\t\tcf_cv_ar_flags=\"$cf_ar_flags\"\n\t\t\t\t\tbreak\n\t\t\t\tfi\n\t\t\telse\n\t\t\t\tCF_VERBOSE(cannot compile test-program)\n\t\t\t\tbreak\n\t\t\tfi\n\t\tdone\n\t\trm -f conftest.a \"conftest.$ac_ext\" \"conftest.$ac_cv_objext\"\n\t\t;;\n\tesac\n])\n\nif test -n \"$ARFLAGS\" ; then\n\tif test -n \"$cf_cv_ar_flags\" ; then\n\t\tARFLAGS=\"$ARFLAGS $cf_cv_ar_flags\"\n\tfi\nelse\n\tARFLAGS=$cf_cv_ar_flags\nfi\n\nAC_SUBST(ARFLAGS)\n])\ndnl ---------------------------------------------------------------------------\ndnl CF_BUILD_CC version: 10 updated: 2022/09/24 16:36:41\ndnl -----------\ndnl If we're cross-compiling, allow the user to override the tools and their\ndnl options.  The configure script is oriented toward identifying the host\ndnl compiler, etc., but we need a build compiler to generate parts of the\ndnl source.\ndnl\ndnl $1 = default for $CPPFLAGS\ndnl $2 = default for $LIBS\nAC_DEFUN([CF_BUILD_CC],[\nCF_ACVERSION_CHECK(2.52,,\n\t[AC_REQUIRE([CF_PROG_EXT])])\nif test \"$cross_compiling\" = yes ; then\n\n\t# defaults that we might want to override\n\t: ${BUILD_CFLAGS:=''}\n\t: ${BUILD_CPPFLAGS:='ifelse([$1],,,[$1])'}\n\t: ${BUILD_LDFLAGS:=''}\n\t: ${BUILD_LIBS:='ifelse([$2],,,[$2])'}\n\t: ${BUILD_EXEEXT:='$x'}\n\t: ${BUILD_OBJEXT:='o'}\n\n\tAC_ARG_WITH(build-cc,\n\t\t[  --with-build-cc=XXX     the build C compiler ($BUILD_CC)],\n\t\t[BUILD_CC=\"$withval\"],\n\t\t[AC_CHECK_PROGS(BUILD_CC, [gcc clang c99 c89 cc cl],none)])\n\tAC_MSG_CHECKING(for native build C compiler)\n\tAC_MSG_RESULT($BUILD_CC)\n\n\tAC_MSG_CHECKING(for native build C preprocessor)\n\tAC_ARG_WITH(build-cpp,\n\t\t[  --with-build-cpp=XXX    the build C preprocessor ($BUILD_CPP)],\n\t\t[BUILD_CPP=\"$withval\"],\n\t\t[BUILD_CPP='${BUILD_CC} -E'])\n\tAC_MSG_RESULT($BUILD_CPP)\n\n\tAC_MSG_CHECKING(for native build C flags)\n\tAC_ARG_WITH(build-cflags,\n\t\t[  --with-build-cflags=XXX the build C compiler-flags ($BUILD_CFLAGS)],\n\t\t[BUILD_CFLAGS=\"$withval\"])\n\tAC_MSG_RESULT($BUILD_CFLAGS)\n\n\tAC_MSG_CHECKING(for native build C preprocessor-flags)\n\tAC_ARG_WITH(build-cppflags,\n\t\t[  --with-build-cppflags=XXX the build C preprocessor-flags ($BUILD_CPPFLAGS)],\n\t\t[BUILD_CPPFLAGS=\"$withval\"])\n\tAC_MSG_RESULT($BUILD_CPPFLAGS)\n\n\tAC_MSG_CHECKING(for native build linker-flags)\n\tAC_ARG_WITH(build-ldflags,\n\t\t[  --with-build-ldflags=XXX the build linker-flags ($BUILD_LDFLAGS)],\n\t\t[BUILD_LDFLAGS=\"$withval\"])\n\tAC_MSG_RESULT($BUILD_LDFLAGS)\n\n\tAC_MSG_CHECKING(for native build linker-libraries)\n\tAC_ARG_WITH(build-libs,\n\t\t[  --with-build-libs=XXX   the build libraries (${BUILD_LIBS})],\n\t\t[BUILD_LIBS=\"$withval\"])\n\tAC_MSG_RESULT($BUILD_LIBS)\n\n\t# this assumes we're on Unix.\n\tBUILD_EXEEXT=\n\tBUILD_OBJEXT=o\n\n\t: ${BUILD_CC:='${CC}'}\n\n\tAC_MSG_CHECKING(if the build-compiler \"$BUILD_CC\" works)\n\n\tcf_save_crossed=$cross_compiling\n\tcf_save_ac_link=$ac_link\n\tcross_compiling=no\n\tac_link='$BUILD_CC -o \"conftest$ac_exeext\" $BUILD_CFLAGS $BUILD_CPPFLAGS $BUILD_LDFLAGS \"conftest.$ac_ext\" $BUILD_LIBS >&AS_MESSAGE_LOG_FD'\n\n\tAC_TRY_RUN([#include <stdio.h>\n\t\tint main(int argc, char *argv[])\n\t\t{\n\t\t\t${cf_cv_main_return:-return}(argc < 0 || argv == 0 || argv[0] == 0);\n\t\t}\n\t],\n\t\tcf_ok_build_cc=yes,\n\t\tcf_ok_build_cc=no,\n\t\tcf_ok_build_cc=unknown)\n\n\tcross_compiling=$cf_save_crossed\n\tac_link=$cf_save_ac_link\n\n\tAC_MSG_RESULT($cf_ok_build_cc)\n\n\tif test \"$cf_ok_build_cc\" != yes\n\tthen\n\t\tAC_MSG_ERROR([Cross-build requires two compilers.\nUse --with-build-cc to specify the native compiler.])\n\tfi\n\nelse\n\t: ${BUILD_CC:='${CC}'}\n\t: ${BUILD_CPP:='${CPP}'}\n\t: ${BUILD_CFLAGS:='${CFLAGS}'}\n\t: ${BUILD_CPPFLAGS:='${CPPFLAGS}'}\n\t: ${BUILD_LDFLAGS:='${LDFLAGS}'}\n\t: ${BUILD_LIBS:='${LIBS}'}\n\t: ${BUILD_EXEEXT:='$x'}\n\t: ${BUILD_OBJEXT:='o'}\nfi\n\nAC_SUBST(BUILD_CC)\nAC_SUBST(BUILD_CPP)\nAC_SUBST(BUILD_CFLAGS)\nAC_SUBST(BUILD_CPPFLAGS)\nAC_SUBST(BUILD_LDFLAGS)\nAC_SUBST(BUILD_LIBS)\nAC_SUBST(BUILD_EXEEXT)\nAC_SUBST(BUILD_OBJEXT)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_C11_NORETURN version: 3 updated: 2021/03/28 11:36:23\ndnl ---------------\nAC_DEFUN([CF_C11_NORETURN],\n[\nAC_MSG_CHECKING(if you want to use C11 _Noreturn feature)\nCF_ARG_ENABLE(stdnoreturn,\n\t[  --enable-stdnoreturn    enable C11 _Noreturn feature for diagnostics],\n\t[enable_stdnoreturn=yes],\n\t[enable_stdnoreturn=no])\nAC_MSG_RESULT($enable_stdnoreturn)\n\nif test $enable_stdnoreturn = yes; then\nAC_CACHE_CHECK([for C11 _Noreturn feature], cf_cv_c11_noreturn,\n\t[AC_TRY_COMPILE([\n#include <stdio.h>\n#include <stdlib.h>\n#include <stdnoreturn.h>\nstatic _Noreturn void giveup(void) { exit(0); }\n\t],\n\t[if (feof(stdin)) giveup()],\n\tcf_cv_c11_noreturn=yes,\n\tcf_cv_c11_noreturn=no)\n\t])\nelse\n\tcf_cv_c11_noreturn=no,\nfi\n\nif test \"$cf_cv_c11_noreturn\" = yes; then\n\tAC_DEFINE(HAVE_STDNORETURN_H, 1,[Define if <stdnoreturn.h> header is available and working])\n\tAC_DEFINE_UNQUOTED(STDC_NORETURN,_Noreturn,[Define if C11 _Noreturn keyword is supported])\n\tHAVE_STDNORETURN_H=1\nelse\n\tHAVE_STDNORETURN_H=0\nfi\n\nAC_SUBST(HAVE_STDNORETURN_H)\nAC_SUBST(STDC_NORETURN)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_CC_ENV_FLAGS version: 10 updated: 2020/12/31 18:40:20\ndnl ---------------\ndnl Check for user's environment-breakage by stuffing CFLAGS/CPPFLAGS content\ndnl into CC.  This will not help with broken scripts that wrap the compiler\ndnl with options, but eliminates a more common category of user confusion.\ndnl\ndnl In particular, it addresses the problem of being able to run the C\ndnl preprocessor in a consistent manner.\ndnl\ndnl Caveat: this also disallows blanks in the pathname for the compiler, but\ndnl the nuisance of having inconsistent settings for compiler and preprocessor\ndnl outweighs that limitation.\nAC_DEFUN([CF_CC_ENV_FLAGS],\n[\n# This should have been defined by AC_PROG_CC\n: \"${CC:=cc}\"\n\nAC_MSG_CHECKING(\\$CFLAGS variable)\ncase \"x$CFLAGS\" in\n(*-[[IUD]]*)\n\tAC_MSG_RESULT(broken)\n\tAC_MSG_WARN(your environment uses the CFLAGS variable to hold CPPFLAGS options)\n\tcf_flags=\"$CFLAGS\"\n\tCFLAGS=\n\tfor cf_arg in $cf_flags\n\tdo\n\t\tCF_ADD_CFLAGS($cf_arg)\n\tdone\n\t;;\n(*)\n\tAC_MSG_RESULT(ok)\n\t;;\nesac\n\nAC_MSG_CHECKING(\\$CC variable)\ncase \"$CC\" in\n(*[[\\ \\\t]]-*)\n\tAC_MSG_RESULT(broken)\n\tAC_MSG_WARN(your environment uses the CC variable to hold CFLAGS/CPPFLAGS options)\n\t# humor him...\n\tcf_prog=`echo \"$CC\" | sed -e 's/\t/ /g' -e 's/[[ ]]* / /g' -e 's/[[ ]]*[[ ]]-[[^ ]].*//'`\n\tcf_flags=`echo \"$CC\" | ${AWK:-awk} -v prog=\"$cf_prog\" '{ printf(\"%s\", [substr]([$]0,1+length(prog))); }'`\n\tCC=\"$cf_prog\"\n\tfor cf_arg in $cf_flags\n\tdo\n\t\tcase \"x$cf_arg\" in\n\t\t(x-[[IUDfgOW]]*)\n\t\t\tCF_ADD_CFLAGS($cf_arg)\n\t\t\t;;\n\t\t(*)\n\t\t\tCC=\"$CC $cf_arg\"\n\t\t\t;;\n\t\tesac\n\tdone\n\tCF_VERBOSE(resulting CC: '$CC')\n\tCF_VERBOSE(resulting CFLAGS: '$CFLAGS')\n\tCF_VERBOSE(resulting CPPFLAGS: '$CPPFLAGS')\n\t;;\n(*)\n\tAC_MSG_RESULT(ok)\n\t;;\nesac\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_CFG_DEFAULTS version: 16 updated: 2021/01/04 19:33:05\ndnl ---------------\ndnl Determine the default configuration into which we'll install ncurses.  This\ndnl can be overridden by the user's command-line options.  There's two items to\ndnl look for:\ndnl\t1. the prefix (e.g., /usr)\ndnl\t2. the header files (e.g., /usr/include/ncurses)\ndnl We'll look for a previous installation of ncurses and use the same defaults.\ndnl\ndnl We don't use AC_PREFIX_DEFAULT, because it gets evaluated too soon, and\ndnl we don't use AC_PREFIX_PROGRAM, because we cannot distinguish ncurses's\ndnl programs from a vendor's.\nAC_DEFUN([CF_CFG_DEFAULTS],\n[AC_REQUIRE([AC_PROG_FGREP])dnl\n\nAC_MSG_CHECKING(for prefix)\nif test \"x$prefix\" = \"xNONE\" ; then\n\tcase \"$cf_cv_system_name\" in\n\t\t# non-vendor systems don't have a conflict\n\t(openbsd*|freebsd*|mirbsd*|linux*|cygwin*|msys*|k*bsd*-gnu|mingw*)\n\t\tprefix=/usr\n\t\t;;\n\t(*)\tprefix=$ac_default_prefix\n\t\t;;\n\tesac\nfi\nAC_MSG_RESULT($prefix)\n\nif test \"x$prefix\" = \"xNONE\" ; then\nAC_MSG_CHECKING(for default include-directory)\ntest -n \"$verbose\" && echo 1>&AC_FD_MSG\nfor cf_symbol in \\\n\t\"$includedir\" \\\n\t\"$includedir/ncurses\" \\\n\t\"$prefix/include\" \\\n\t\"$prefix/include/ncurses\" \\\n\t/usr/local/include \\\n\t/usr/local/include/ncurses \\\n\t/usr/include \\\n\t/usr/include/ncurses\ndo\n\tcf_dir=`eval echo \"$cf_symbol\"`\n\tif test -f \"$cf_dir/curses.h\" ; then\n\tif ( ${FGREP-fgrep} NCURSES_VERSION \"$cf_dir/curses.h\" >/dev/null 2>&1 ) ; then\n\t\tincludedir=\"$cf_symbol\"\n\t\ttest -n \"$verbose\"  && echo $ECHO_N \"\tfound \" 1>&AC_FD_MSG\n\t\tbreak\n\tfi\n\tfi\n\ttest -n \"$verbose\"  && echo \"\ttested $cf_dir\" 1>&AC_FD_MSG\ndone\nAC_MSG_RESULT($includedir)\nfi\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_CHECK_CACHE version: 13 updated: 2020/12/31 10:54:15\ndnl --------------\ndnl Check if we're accidentally using a cache from a different machine.\ndnl Derive the system name, as a check for reusing the autoconf cache.\ndnl\ndnl If we've packaged config.guess and config.sub, run that (since it does a\ndnl better job than uname).  Normally we'll use AC_CANONICAL_HOST, but allow\ndnl an extra parameter that we may override, e.g., for AC_CANONICAL_SYSTEM\ndnl which is useful in cross-compiles.\ndnl\ndnl Note: we would use $ac_config_sub, but that is one of the places where\ndnl autoconf 2.5x broke compatibility with autoconf 2.13\nAC_DEFUN([CF_CHECK_CACHE],\n[\nif test -f \"$srcdir/config.guess\" || test -f \"$ac_aux_dir/config.guess\" ; then\n\tifelse([$1],,[AC_CANONICAL_HOST],[$1])\n\tsystem_name=\"$host_os\"\nelse\n\tsystem_name=\"`(uname -s -r) 2>/dev/null`\"\n\tif test -z \"$system_name\" ; then\n\t\tsystem_name=\"`(hostname) 2>/dev/null`\"\n\tfi\nfi\ntest -n \"$system_name\" && AC_DEFINE_UNQUOTED(SYSTEM_NAME,\"$system_name\",[Define to the system name.])\nAC_CACHE_VAL(cf_cv_system_name,[cf_cv_system_name=\"$system_name\"])\n\ntest -z \"$system_name\" && system_name=\"$cf_cv_system_name\"\ntest -n \"$cf_cv_system_name\" && AC_MSG_RESULT(Configuring for $cf_cv_system_name)\n\nif test \".$system_name\" != \".$cf_cv_system_name\" ; then\n\tAC_MSG_RESULT(Cached system name ($system_name) does not agree with actual ($cf_cv_system_name))\n\tAC_MSG_ERROR(\"Please remove config.cache and try again.\")\nfi\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_CHECK_GNAT_VERSION version: 4 updated: 2021/01/01 13:31:04\ndnl ---------------------\nAC_DEFUN([CF_CHECK_GNAT_VERSION],\n[\nAC_REQUIRE([CF_GNAT_VERSION])\ncase \"$cf_cv_gnat_version\" in\n(3.1[[1-9]]*|3.[[2-9]]*|[[4-9]].*|[[1-9]][[0-9]].[[0-9]]*|20[[0-9]][[0-9]])\n\tcf_cv_prog_gnat_correct=yes\n\t;;\n(*)\n\tAC_MSG_WARN(Unsupported GNAT version $cf_cv_gnat_version. We require 3.11 or better. Disabling Ada95 binding.)\n\tcf_cv_prog_gnat_correct=no\n\t;;\nesac\n])\ndnl ---------------------------------------------------------------------------\ndnl CF_CHECK_LIBSSP version: 1 updated: 2021/10/30 10:40:19\ndnl ---------------\ndnl Check if libssp is needed, e.g., to work around misconfigured libraries\ndnl used in cross-compiling to MinGW.\nAC_DEFUN([CF_CHECK_LIBSSP],[\nAC_CACHE_CHECK(if ssp library is needed,cf_cv_need_libssp,[\nAC_TRY_LINK([\n#include <sys/types.h>\n#include <dirent.h>\n],[\n       DIR *dp = opendir(\".\");\n],cf_cv_need_libssp=no,[\n\tcf_save_LIBS=\"$LIBS\"\n\tLIBS=\"$LIBS -lssp\"\n\tAC_TRY_LINK([\n#include <sys/types.h>\n#include <dirent.h>\n\t],[\n\t\t   DIR *dp = opendir(\".\");\n\t],cf_cv_need_libssp=yes,\n\t  cf_cv_need_libssp=maybe)\n\tLIBS=\"$cf_save_LIBS\"\n])dnl\n])\n\nif test \"x$cf_cv_need_libssp\" = xyes\nthen\n\tCF_ADD_LIB(ssp)\nfi\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_CLANG_COMPILER version: 8 updated: 2021/01/01 13:31:04\ndnl -----------------\ndnl Check if the given compiler is really clang.  clang's C driver defines\ndnl __GNUC__ (fooling the configure script into setting $GCC to yes) but does\ndnl not ignore some gcc options.\ndnl\ndnl This macro should be run \"soon\" after AC_PROG_CC or AC_PROG_CPLUSPLUS, to\ndnl ensure that it is not mistaken for gcc/g++.  It is normally invoked from\ndnl the wrappers for gcc and g++ warnings.\ndnl\ndnl $1 = GCC (default) or GXX\ndnl $2 = CLANG_COMPILER (default)\ndnl $3 = CFLAGS (default) or CXXFLAGS\nAC_DEFUN([CF_CLANG_COMPILER],[\nifelse([$2],,CLANG_COMPILER,[$2])=no\n\nif test \"$ifelse([$1],,[$1],GCC)\" = yes ; then\n\tAC_MSG_CHECKING(if this is really Clang ifelse([$1],GXX,C++,C) compiler)\n\tcf_save_CFLAGS=\"$ifelse([$3],,CFLAGS,[$3])\"\n\tAC_TRY_COMPILE([],[\n#ifdef __clang__\n#else\nmake an error\n#endif\n],[ifelse([$2],,CLANG_COMPILER,[$2])=yes\n],[])\n\tifelse([$3],,CFLAGS,[$3])=\"$cf_save_CFLAGS\"\n\tAC_MSG_RESULT($ifelse([$2],,CLANG_COMPILER,[$2]))\nfi\n\nCLANG_VERSION=none\n\nif test \"x$ifelse([$2],,CLANG_COMPILER,[$2])\" = \"xyes\" ; then\n\tcase \"$CC\" in\n\t(c[[1-9]][[0-9]]|*/c[[1-9]][[0-9]])\n\t\tAC_MSG_WARN(replacing broken compiler alias $CC)\n\t\tCFLAGS=\"$CFLAGS -std=`echo \"$CC\" | sed -e 's%.*/%%'`\"\n\t\tCC=clang\n\t\t;;\n\tesac\n\n\tAC_MSG_CHECKING(version of $CC)\n\tCLANG_VERSION=\"`$CC --version 2>/dev/null | sed -e '2,$d' -e 's/^.*(CLANG[[^)]]*) //' -e 's/^.*(Debian[[^)]]*) //' -e 's/^[[^0-9.]]*//' -e 's/[[^0-9.]].*//'`\"\n\ttest -z \"$CLANG_VERSION\" && CLANG_VERSION=unknown\n\tAC_MSG_RESULT($CLANG_VERSION)\n\n\tfor cf_clang_opt in \\\n\t\t-Qunused-arguments \\\n\t\t-Wno-error=implicit-function-declaration\n\tdo\n\t\tAC_MSG_CHECKING(if option $cf_clang_opt works)\n\t\tcf_save_CFLAGS=\"$CFLAGS\"\n\t\tCFLAGS=\"$CFLAGS $cf_clang_opt\"\n\t\tAC_TRY_LINK([\n\t\t\t#include <stdio.h>],[\n\t\t\tprintf(\"hello!\\\\n\");],[\n\t\t\tcf_clang_optok=yes],[\n\t\t\tcf_clang_optok=no])\n\t\tAC_MSG_RESULT($cf_clang_optok)\n\t\tCFLAGS=\"$cf_save_CFLAGS\"\n\t\tif test \"$cf_clang_optok\" = yes; then\n\t\t\tCF_VERBOSE(adding option $cf_clang_opt)\n\t\t\tCF_APPEND_TEXT(CFLAGS,$cf_clang_opt)\n\t\tfi\n\tdone\nfi\n])\ndnl ---------------------------------------------------------------------------\ndnl CF_CONST_X_STRING version: 7 updated: 2021/06/07 17:39:17\ndnl -----------------\ndnl The X11R4-X11R6 Xt specification uses an ambiguous String type for most\ndnl character-strings.\ndnl\ndnl It is ambiguous because the specification accommodated the pre-ANSI\ndnl compilers bundled by more than one vendor in lieu of providing a standard C\ndnl compiler other than by costly add-ons.  Because of this, the specification\ndnl did not take into account the use of const for telling the compiler that\ndnl string literals would be in readonly memory.\ndnl\ndnl As a workaround, one could (starting with X11R5) define XTSTRINGDEFINES, to\ndnl let the compiler decide how to represent Xt's strings which were #define'd.\ndnl That does not solve the problem of using the block of Xt's strings which\ndnl are compiled into the library (and is less efficient than one might want).\ndnl\ndnl Xt specification 7 introduces the _CONST_X_STRING symbol which is used both\ndnl when compiling the library and compiling using the library, to tell the\ndnl compiler that String is const.\nAC_DEFUN([CF_CONST_X_STRING],\n[\nAC_REQUIRE([AC_PATH_XTRA])\n\nCF_SAVE_XTRA_FLAGS([CF_CONST_X_STRING])\n\nAC_TRY_COMPILE(\n[\n#include <stdlib.h>\n#include <X11/Intrinsic.h>\n],\n[String foo = malloc(1); free((void*)foo)],[\n\nAC_CACHE_CHECK(for X11/Xt const-feature,cf_cv_const_x_string,[\n\tAC_TRY_COMPILE(\n\t\t[\n#define _CONST_X_STRING\t/* X11R7.8 (perhaps) */\n#undef  XTSTRINGDEFINES\t/* X11R5 and later */\n#include <stdlib.h>\n#include <X11/Intrinsic.h>\n\t\t],[String foo = malloc(1); *foo = 0],[\n\t\t\tcf_cv_const_x_string=no\n\t\t],[\n\t\t\tcf_cv_const_x_string=yes\n\t\t])\n])\n\nCF_RESTORE_XTRA_FLAGS([CF_CONST_X_STRING])\n\ncase \"$cf_cv_const_x_string\" in\n(no)\n\tCF_APPEND_TEXT(CPPFLAGS,-DXTSTRINGDEFINES)\n\t;;\n(*)\n\tCF_APPEND_TEXT(CPPFLAGS,-D_CONST_X_STRING)\n\t;;\nesac\n\n])\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_CONST_X_STRING version: 7 updated: 2021/06/07 17:39:17\ndnl -----------------\ndnl The X11R4-X11R6 Xt specification uses an ambiguous String type for most\ndnl character-strings.\ndnl\ndnl It is ambiguous because the specification accommodated the pre-ANSI\ndnl compilers bundled by more than one vendor in lieu of providing a standard C\ndnl compiler other than by costly add-ons.  Because of this, the specification\ndnl did not take into account the use of const for telling the compiler that\ndnl string literals would be in readonly memory.\ndnl\ndnl As a workaround, one could (starting with X11R5) define XTSTRINGDEFINES, to\ndnl let the compiler decide how to represent Xt's strings which were #define'd.\ndnl That does not solve the problem of using the block of Xt's strings which\ndnl are compiled into the library (and is less efficient than one might want).\ndnl\ndnl Xt specification 7 introduces the _CONST_X_STRING symbol which is used both\ndnl when compiling the library and compiling using the library, to tell the\ndnl compiler that String is const.\nAC_DEFUN([CF_CONST_X_STRING],\n[\nAC_REQUIRE([AC_PATH_XTRA])\n\nCF_SAVE_XTRA_FLAGS([CF_CONST_X_STRING])\n\nAC_TRY_COMPILE(\n[\n#include <stdlib.h>\n#include <X11/Intrinsic.h>\n],\n[String foo = malloc(1); free((void*)foo)],[\n\nAC_CACHE_CHECK(for X11/Xt const-feature,cf_cv_const_x_string,[\n\tAC_TRY_COMPILE(\n\t\t[\n#define _CONST_X_STRING\t/* X11R7.8 (perhaps) */\n#undef  XTSTRINGDEFINES\t/* X11R5 and later */\n#include <stdlib.h>\n#include <X11/Intrinsic.h>\n\t\t],[String foo = malloc(1); *foo = 0],[\n\t\t\tcf_cv_const_x_string=no\n\t\t],[\n\t\t\tcf_cv_const_x_string=yes\n\t\t])\n])\n\nCF_RESTORE_XTRA_FLAGS([CF_CONST_X_STRING])\n\ncase \"$cf_cv_const_x_string\" in\n(no)\n\tCF_APPEND_TEXT(CPPFLAGS,-DXTSTRINGDEFINES)\n\t;;\n(*)\n\tCF_APPEND_TEXT(CPPFLAGS,-D_CONST_X_STRING)\n\t;;\nesac\n\n])\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_CURSES_HEADER version: 5 updated: 2015/04/23 20:35:30\ndnl ----------------\ndnl Find a \"curses\" header file, e.g,. \"curses.h\", or one of the more common\ndnl variations of ncurses' installs.\ndnl\ndnl $1 = ncurses when looking for ncurses, or is empty\nAC_DEFUN([CF_CURSES_HEADER],[\nAC_CACHE_CHECK(if we have identified curses headers,cf_cv_ncurses_header,[\ncf_cv_ncurses_header=none\nfor cf_header in \\\n\tncurses.h ifelse($1,,,[$1/ncurses.h]) \\\n\tcurses.h ifelse($1,,,[$1/curses.h]) ifelse($1,,[ncurses/ncurses.h ncurses/curses.h])\ndo\nAC_TRY_COMPILE([#include <${cf_header}>],\n\t[initscr(); tgoto(\"?\", 0,0)],\n\t[cf_cv_ncurses_header=$cf_header; break],[])\ndone\n])\n\nif test \"$cf_cv_ncurses_header\" = none ; then\n\tAC_MSG_ERROR(No curses header-files found)\nfi\n\n# cheat, to get the right #define's for HAVE_NCURSES_H, etc.\nAC_CHECK_HEADERS($cf_cv_ncurses_header)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_DIRNAME version: 5 updated: 2020/12/31 20:19:42\ndnl ----------\ndnl \"dirname\" is not portable, so we fake it with a shell script.\nAC_DEFUN([CF_DIRNAME],[$1=`echo \"$2\" | sed -e 's%/[[^/]]*$%%'`])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_DISABLE_ECHO version: 14 updated: 2021/09/04 06:35:04\ndnl ---------------\ndnl You can always use \"make -n\" to see the actual options, but it is hard to\ndnl pick out/analyze warning messages when the compile-line is long.\ndnl\ndnl Sets:\ndnl\tECHO_LT - symbol to control if libtool is verbose\ndnl\tECHO_LD - symbol to prefix \"cc -o\" lines\ndnl\tRULE_CC - symbol to put before implicit \"cc -c\" lines (e.g., .c.o)\ndnl\tSHOW_CC - symbol to put before explicit \"cc -c\" lines\ndnl\tECHO_CC - symbol to put before any \"cc\" line\ndnl\nAC_DEFUN([CF_DISABLE_ECHO],[\nAC_MSG_CHECKING(if you want to see long compiling messages)\nCF_ARG_DISABLE(echo,\n\t[  --disable-echo          do not display \"compiling\" commands],\n\t[\n\tECHO_LT='--silent'\n\tECHO_LD='@echo linking [$]@;'\n\tRULE_CC='@echo compiling [$]<'\n\tSHOW_CC='@echo compiling [$]@'\n\tECHO_CC='@'\n],[\n\tECHO_LT=''\n\tECHO_LD=''\n\tRULE_CC=''\n\tSHOW_CC=''\n\tECHO_CC=''\n])\nAC_MSG_RESULT($enableval)\nAC_SUBST(ECHO_LT)\nAC_SUBST(ECHO_LD)\nAC_SUBST(RULE_CC)\nAC_SUBST(SHOW_CC)\nAC_SUBST(ECHO_CC)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_DISABLE_GNAT_PROJECTS version: 1 updated: 2014/06/01 11:34:00\ndnl ------------------------\nAC_DEFUN([CF_DISABLE_GNAT_PROJECTS],[\nAC_MSG_CHECKING(if we want to use GNAT projects)\nCF_ARG_DISABLE(gnat-projects,\n\t[  --disable-gnat-projects test: disable GNAT projects even if usable],\n\t[enable_gnat_projects=no],\n\t[enable_gnat_projects=yes])\nAC_MSG_RESULT($enable_gnat_projects)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_ENABLE_BROKEN_LINKER version: 2 updated: 2021/01/02 17:09:14\ndnl -----------------------\ndnl Some linkers cannot reference a data-only object.  Cygwin used to be one.\ndnl This usually follows CF_LINK_DATAONLY, but is not required in case we need\ndnl an unconditional feature.\nAC_DEFUN([CF_ENABLE_BROKEN_LINKER],[\n\nAC_MSG_CHECKING(if you want broken-linker support code)\nAC_ARG_ENABLE(broken_linker,\n\t[  --enable-broken_linker  compile with broken-linker support code],\n\t[with_broken_linker=$enableval],\n\t[with_broken_linker=no])\nAC_MSG_RESULT($with_broken_linker)\n\n: \"${BROKEN_LINKER:=0}\"\nif test \"x$with_broken_linker\" = xyes ; then\n\tAC_DEFINE(BROKEN_LINKER,1,[Define to 1 to work around linkers which cannot link data-only modules])\n\tBROKEN_LINKER=1\nfi\nAC_SUBST(BROKEN_LINKER)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_ENABLE_WARNINGS version: 9 updated: 2021/01/05 19:40:50\ndnl ------------------\ndnl Configure-option to enable gcc warnings\ndnl\ndnl $1 = extra options to add, if supported\ndnl $2 = option for checking attributes.  By default, this is done when\ndnl      warnings are enabled.  For other values:\ndnl      yes: always do this, e.g., to use in generated library-headers\ndnl      no: never do this\nAC_DEFUN([CF_ENABLE_WARNINGS],[\nif test \"$GCC\" = yes || test \"$GXX\" = yes\nthen\nCF_FIX_WARNINGS(CFLAGS)\nCF_FIX_WARNINGS(CPPFLAGS)\nCF_FIX_WARNINGS(LDFLAGS)\nAC_MSG_CHECKING(if you want to turn on gcc warnings)\nCF_ARG_ENABLE(warnings,\n\t[  --enable-warnings       test: turn on gcc compiler warnings],\n\t[enable_warnings=yes],\n\t[enable_warnings=no])\nAC_MSG_RESULT($enable_warnings)\nif test \"$enable_warnings\" = \"yes\"\nthen\n\tifelse($2,,[CF_GCC_ATTRIBUTES])\n\tCF_GCC_WARNINGS($1)\nfi\nifelse($2,yes,[CF_GCC_ATTRIBUTES])\nfi\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_FIND_LIBRARY version: 11 updated: 2021/01/02 09:31:20\ndnl ---------------\ndnl Look for a non-standard library, given parameters for AC_TRY_LINK.  We\ndnl prefer a standard location, and use -L options only if we do not find the\ndnl library in the standard library location(s).\ndnl\t$1 = library name\ndnl\t$2 = library class, usually the same as library name\ndnl\t$3 = includes\ndnl\t$4 = code fragment to compile/link\ndnl\t$5 = corresponding function-name\ndnl\t$6 = flag, nonnull if failure should not cause an error-exit\ndnl\ndnl Sets the variable \"$cf_libdir\" as a side-effect, so we can see if we had\ndnl to use a -L option.\nAC_DEFUN([CF_FIND_LIBRARY],\n[\n\teval 'cf_cv_have_lib_'\"$1\"'=no'\n\tcf_libdir=\"\"\n\tAC_CHECK_FUNC($5,\n\t\teval 'cf_cv_have_lib_'\"$1\"'=yes',[\n\t\tcf_save_LIBS=\"$LIBS\"\n\t\tAC_MSG_CHECKING(for $5 in -l$1)\n\t\tLIBS=\"-l$1 $LIBS\"\n\t\tAC_TRY_LINK([$3],[$4],\n\t\t\t[AC_MSG_RESULT(yes)\n\t\t\t eval 'cf_cv_have_lib_'\"$1\"'=yes'\n\t\t\t],\n\t\t\t[AC_MSG_RESULT(no)\n\t\t\tCF_LIBRARY_PATH(cf_search,$2)\n\t\t\tfor cf_libdir in $cf_search\n\t\t\tdo\n\t\t\t\tAC_MSG_CHECKING(for -l$1 in $cf_libdir)\n\t\t\t\tLIBS=\"-L$cf_libdir -l$1 $cf_save_LIBS\"\n\t\t\t\tAC_TRY_LINK([$3],[$4],\n\t\t\t\t\t[AC_MSG_RESULT(yes)\n\t\t\t \t\t eval 'cf_cv_have_lib_'\"$1\"'=yes'\n\t\t\t\t\t break],\n\t\t\t\t\t[AC_MSG_RESULT(no)\n\t\t\t\t\t LIBS=\"$cf_save_LIBS\"])\n\t\t\tdone\n\t\t\t])\n\t\t])\neval 'cf_found_library=\"[$]cf_cv_have_lib_'\"$1\"\\\"\nifelse($6,,[\nif test \"$cf_found_library\" = no ; then\n\tAC_MSG_ERROR(Cannot link $1 library)\nfi\n])\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_FIND_LINKAGE version: 22 updated: 2020/12/31 20:19:42\ndnl ---------------\ndnl Find a library (specifically the linkage used in the code fragment),\ndnl searching for it if it is not already in the library path.\ndnl See also CF_ADD_SEARCHPATH.\ndnl\ndnl Parameters (4-on are optional):\ndnl     $1 = headers for library entrypoint\ndnl     $2 = code fragment for library entrypoint\ndnl     $3 = the library name without the \"-l\" option or \".so\" suffix.\ndnl     $4 = action to perform if successful (default: update CPPFLAGS, etc)\ndnl     $5 = action to perform if not successful\ndnl     $6 = module name, if not the same as the library name\ndnl     $7 = extra libraries\ndnl\ndnl Sets these variables:\ndnl     $cf_cv_find_linkage_$3 - yes/no according to whether linkage is found\ndnl     $cf_cv_header_path_$3 - include-directory if needed\ndnl     $cf_cv_library_path_$3 - library-directory if needed\ndnl     $cf_cv_library_file_$3 - library-file if needed, e.g., -l$3\nAC_DEFUN([CF_FIND_LINKAGE],[\n\n# If the linkage is not already in the $CPPFLAGS/$LDFLAGS configuration, these\n# will be set on completion of the AC_TRY_LINK below.\ncf_cv_header_path_$3=\ncf_cv_library_path_$3=\n\nCF_MSG_LOG([Starting [FIND_LINKAGE]($3,$6)])\n\ncf_save_LIBS=\"$LIBS\"\n\nAC_TRY_LINK([$1],[$2],[\n\tcf_cv_find_linkage_$3=yes\n\tcf_cv_header_path_$3=/usr/include\n\tcf_cv_library_path_$3=/usr/lib\n],[\n\nLIBS=\"-l$3 $7 $cf_save_LIBS\"\n\nAC_TRY_LINK([$1],[$2],[\n\tcf_cv_find_linkage_$3=yes\n\tcf_cv_header_path_$3=/usr/include\n\tcf_cv_library_path_$3=/usr/lib\n\tcf_cv_library_file_$3=\"-l$3\"\n],[\n\tcf_cv_find_linkage_$3=no\n\tLIBS=\"$cf_save_LIBS\"\n\n\tCF_VERBOSE(find linkage for $3 library)\n\tCF_MSG_LOG([Searching for headers in [FIND_LINKAGE]($3,$6)])\n\n\tcf_save_CPPFLAGS=\"$CPPFLAGS\"\n\tcf_test_CPPFLAGS=\"$CPPFLAGS\"\n\n\tCF_HEADER_PATH(cf_search,ifelse([$6],,[$3],[$6]))\n\tfor cf_cv_header_path_$3 in $cf_search\n\tdo\n\t\tif test -d \"$cf_cv_header_path_$3\" ; then\n\t\t\tCF_VERBOSE(... testing $cf_cv_header_path_$3)\n\t\t\tCPPFLAGS=\"$cf_save_CPPFLAGS\"\n\t\t\tCF_APPEND_TEXT(CPPFLAGS,-I$cf_cv_header_path_$3)\n\t\t\tAC_TRY_COMPILE([$1],[$2],[\n\t\t\t\tCF_VERBOSE(... found $3 headers in $cf_cv_header_path_$3)\n\t\t\t\tcf_cv_find_linkage_$3=maybe\n\t\t\t\tcf_test_CPPFLAGS=\"$CPPFLAGS\"\n\t\t\t\tbreak],[\n\t\t\t\tCPPFLAGS=\"$cf_save_CPPFLAGS\"\n\t\t\t\t])\n\t\tfi\n\tdone\n\n\tif test \"$cf_cv_find_linkage_$3\" = maybe ; then\n\n\t\tCF_MSG_LOG([Searching for $3 library in [FIND_LINKAGE]($3,$6)])\n\n\t\tcf_save_LIBS=\"$LIBS\"\n\t\tcf_save_LDFLAGS=\"$LDFLAGS\"\n\n\t\tifelse([$6],,,[\n\t\tCPPFLAGS=\"$cf_test_CPPFLAGS\"\n\t\tLIBS=\"-l$3 $7 $cf_save_LIBS\"\n\t\tAC_TRY_LINK([$1],[$2],[\n\t\t\tCF_VERBOSE(... found $3 library in system)\n\t\t\tcf_cv_find_linkage_$3=yes])\n\t\t\tCPPFLAGS=\"$cf_save_CPPFLAGS\"\n\t\t\tLIBS=\"$cf_save_LIBS\"\n\t\t\t])\n\n\t\tif test \"$cf_cv_find_linkage_$3\" != yes ; then\n\t\t\tCF_LIBRARY_PATH(cf_search,$3)\n\t\t\tfor cf_cv_library_path_$3 in $cf_search\n\t\t\tdo\n\t\t\t\tif test -d \"$cf_cv_library_path_$3\" ; then\n\t\t\t\t\tCF_VERBOSE(... testing $cf_cv_library_path_$3)\n\t\t\t\t\tCPPFLAGS=\"$cf_test_CPPFLAGS\"\n\t\t\t\t\tLIBS=\"-l$3 $7 $cf_save_LIBS\"\n\t\t\t\t\tLDFLAGS=\"$cf_save_LDFLAGS -L$cf_cv_library_path_$3\"\n\t\t\t\t\tAC_TRY_LINK([$1],[$2],[\n\t\t\t\t\tCF_VERBOSE(... found $3 library in $cf_cv_library_path_$3)\n\t\t\t\t\tcf_cv_find_linkage_$3=yes\n\t\t\t\t\tcf_cv_library_file_$3=\"-l$3\"\n\t\t\t\t\tbreak],[\n\t\t\t\t\tCPPFLAGS=\"$cf_save_CPPFLAGS\"\n\t\t\t\t\tLIBS=\"$cf_save_LIBS\"\n\t\t\t\t\tLDFLAGS=\"$cf_save_LDFLAGS\"\n\t\t\t\t\t])\n\t\t\t\tfi\n\t\t\tdone\n\t\t\tCPPFLAGS=\"$cf_save_CPPFLAGS\"\n\t\t\tLDFLAGS=\"$cf_save_LDFLAGS\"\n\t\tfi\n\n\telse\n\t\tcf_cv_find_linkage_$3=no\n\tfi\n\t],$7)\n])\n\nLIBS=\"$cf_save_LIBS\"\n\nif test \"$cf_cv_find_linkage_$3\" = yes ; then\nifelse([$4],,[\n\tCF_ADD_INCDIR($cf_cv_header_path_$3)\n\tCF_ADD_LIBDIR($cf_cv_library_path_$3)\n\tCF_ADD_LIB($3)\n],[$4])\nelse\nifelse([$5],,AC_MSG_WARN(Cannot find $3 library),[$5])\nfi\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_FIXUP_ADAFLAGS version: 2 updated: 2015/04/17 21:13:04\ndnl -----------------\ndnl make ADAFLAGS consistent with CFLAGS\nAC_DEFUN([CF_FIXUP_ADAFLAGS],[\n\tAC_MSG_CHECKING(optimization options for ADAFLAGS)\n\tcase \"$CFLAGS\" in\n\t(*-g*)\n\t\tCF_ADD_ADAFLAGS(-g)\n\t\t;;\n\tesac\n\tcase \"$CFLAGS\" in\n\t(*-O*)\n\t\tcf_O_flag=`echo \"$CFLAGS\" |sed -e 's/^.*-O/-O/' -e 's/[[ \t]].*//'`\n\t\tCF_ADD_ADAFLAGS($cf_O_flag)\n\t\t;;\n\tesac\n\tAC_MSG_RESULT($ADAFLAGS)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_FIX_WARNINGS version: 4 updated: 2021/12/16 18:22:31\ndnl ---------------\ndnl Warning flags do not belong in CFLAGS, CPPFLAGS, etc.  Any of gcc's\ndnl \"-Werror\" flags can interfere with configure-checks.  Those go into\ndnl EXTRA_CFLAGS.\ndnl\ndnl $1 = variable name to repair\ndefine([CF_FIX_WARNINGS],[\nif test \"$GCC\" = yes || test \"$GXX\" = yes\nthen\n\tcase [$]$1 in\n\t(*-Werror=*)\n\t\tcf_temp_flags=\n\t\tfor cf_temp_scan in [$]$1\n\t\tdo\n\t\t\tcase \"x$cf_temp_scan\" in\n\t\t\t(x-Werror=format*)\n\t\t\t\tCF_APPEND_TEXT(cf_temp_flags,$cf_temp_scan)\n\t\t\t\t;;\n\t\t\t(x-Werror=*)\n\t\t\t\tCF_APPEND_TEXT(EXTRA_CFLAGS,$cf_temp_scan)\n\t\t\t\t;;\n\t\t\t(*)\n\t\t\t\tCF_APPEND_TEXT(cf_temp_flags,$cf_temp_scan)\n\t\t\t\t;;\n\t\t\tesac\n\t\tdone\n\t\tif test \"x[$]$1\" != \"x$cf_temp_flags\"\n\t\tthen\n\t\t\tCF_VERBOSE(repairing $1: [$]$1)\n\t\t\t$1=\"$cf_temp_flags\"\n\t\t\tCF_VERBOSE(... fixed [$]$1)\n\t\t\tCF_VERBOSE(... extra $EXTRA_CFLAGS)\n\t\tfi\n\t\t;;\n\tesac\nfi\nAC_SUBST(EXTRA_CFLAGS)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_GCC_ATTRIBUTES version: 24 updated: 2021/03/20 12:00:25\ndnl -----------------\ndnl Test for availability of useful gcc __attribute__ directives to quiet\ndnl compiler warnings.  Though useful, not all are supported -- and contrary\ndnl to documentation, unrecognized directives cause older compilers to barf.\nAC_DEFUN([CF_GCC_ATTRIBUTES],\n[AC_REQUIRE([AC_PROG_FGREP])dnl\nAC_REQUIRE([CF_C11_NORETURN])dnl\n\nif test \"$GCC\" = yes || test \"$GXX\" = yes\nthen\ncat > conftest.i <<EOF\n#ifndef GCC_PRINTF\n#define GCC_PRINTF 0\n#endif\n#ifndef GCC_SCANF\n#define GCC_SCANF 0\n#endif\n#ifndef GCC_NORETURN\n#define GCC_NORETURN /* nothing */\n#endif\n#ifndef GCC_UNUSED\n#define GCC_UNUSED /* nothing */\n#endif\nEOF\nif test \"$GCC\" = yes\nthen\n\tAC_CHECKING([for $CC __attribute__ directives])\ncat > \"conftest.$ac_ext\" <<EOF\n#line __oline__ \"${as_me:-configure}\"\n#include \"confdefs.h\"\n#include \"conftest.h\"\n#include \"conftest.i\"\n#if\tGCC_PRINTF\n#define GCC_PRINTFLIKE(fmt,var) __attribute__((format(printf,fmt,var)))\n#else\n#define GCC_PRINTFLIKE(fmt,var) /*nothing*/\n#endif\n#if\tGCC_SCANF\n#define GCC_SCANFLIKE(fmt,var)  __attribute__((format(scanf,fmt,var)))\n#else\n#define GCC_SCANFLIKE(fmt,var)  /*nothing*/\n#endif\nextern void wow(char *,...) GCC_SCANFLIKE(1,2);\nextern GCC_NORETURN void oops(char *,...) GCC_PRINTFLIKE(1,2);\nextern GCC_NORETURN void foo(void);\nint main(int argc GCC_UNUSED, char *argv[[]] GCC_UNUSED) { (void)argc; (void)argv; return 0; }\nEOF\n\tcf_printf_attribute=no\n\tcf_scanf_attribute=no\n\tfor cf_attribute in scanf printf unused noreturn\n\tdo\n\t\tCF_UPPER(cf_ATTRIBUTE,$cf_attribute)\n\t\tcf_directive=\"__attribute__(($cf_attribute))\"\n\t\techo \"checking for $CC $cf_directive\" 1>&AC_FD_CC\n\n\t\tcase \"$cf_attribute\" in\n\t\t(printf)\n\t\t\tcf_printf_attribute=yes\n\t\t\tcat >conftest.h <<EOF\n#define GCC_$cf_ATTRIBUTE 1\nEOF\n\t\t\t;;\n\t\t(scanf)\n\t\t\tcf_scanf_attribute=yes\n\t\t\tcat >conftest.h <<EOF\n#define GCC_$cf_ATTRIBUTE 1\nEOF\n\t\t\t;;\n\t\t(*)\n\t\t\tcat >conftest.h <<EOF\n#define GCC_$cf_ATTRIBUTE $cf_directive\nEOF\n\t\t\t;;\n\t\tesac\n\n\t\tif AC_TRY_EVAL(ac_compile); then\n\t\t\ttest -n \"$verbose\" && AC_MSG_RESULT(... $cf_attribute)\n\t\t\tcat conftest.h >>confdefs.h\n\t\t\tcase \"$cf_attribute\" in\n\t\t\t(noreturn)\n\t\t\t\tAC_DEFINE_UNQUOTED(GCC_NORETURN,$cf_directive,[Define to noreturn-attribute for gcc])\n\t\t\t\t;;\n\t\t\t(printf)\n\t\t\t\tcf_value='/* nothing */'\n\t\t\t\tif test \"$cf_printf_attribute\" != no ; then\n\t\t\t\t\tcf_value='__attribute__((format(printf,fmt,var)))'\n\t\t\t\t\tAC_DEFINE(GCC_PRINTF,1,[Define to 1 if the compiler supports gcc-like printf attribute.])\n\t\t\t\tfi\n\t\t\t\tAC_DEFINE_UNQUOTED(GCC_PRINTFLIKE(fmt,var),$cf_value,[Define to printf-attribute for gcc])\n\t\t\t\t;;\n\t\t\t(scanf)\n\t\t\t\tcf_value='/* nothing */'\n\t\t\t\tif test \"$cf_scanf_attribute\" != no ; then\n\t\t\t\t\tcf_value='__attribute__((format(scanf,fmt,var)))'\n\t\t\t\t\tAC_DEFINE(GCC_SCANF,1,[Define to 1 if the compiler supports gcc-like scanf attribute.])\n\t\t\t\tfi\n\t\t\t\tAC_DEFINE_UNQUOTED(GCC_SCANFLIKE(fmt,var),$cf_value,[Define to sscanf-attribute for gcc])\n\t\t\t\t;;\n\t\t\t(unused)\n\t\t\t\tAC_DEFINE_UNQUOTED(GCC_UNUSED,$cf_directive,[Define to unused-attribute for gcc])\n\t\t\t\t;;\n\t\t\tesac\n\t\tfi\n\tdone\nelse\n\t${FGREP-fgrep} define conftest.i >>confdefs.h\nfi\nrm -rf ./conftest*\nfi\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_GCC_VERSION version: 8 updated: 2019/09/07 13:38:36\ndnl --------------\ndnl Find version of gcc, and (because icc/clang pretend to be gcc without being\ndnl compatible), attempt to determine if icc/clang is actually used.\nAC_DEFUN([CF_GCC_VERSION],[\nAC_REQUIRE([AC_PROG_CC])\nGCC_VERSION=none\nif test \"$GCC\" = yes ; then\n\tAC_MSG_CHECKING(version of $CC)\n\tGCC_VERSION=\"`${CC} --version 2>/dev/null | sed -e '2,$d' -e 's/^.*(GCC[[^)]]*) //' -e 's/^.*(Debian[[^)]]*) //' -e 's/^[[^0-9.]]*//' -e 's/[[^0-9.]].*//'`\"\n\ttest -z \"$GCC_VERSION\" && GCC_VERSION=unknown\n\tAC_MSG_RESULT($GCC_VERSION)\nfi\nCF_INTEL_COMPILER(GCC,INTEL_COMPILER,CFLAGS)\nCF_CLANG_COMPILER(GCC,CLANG_COMPILER,CFLAGS)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_GCC_WARNINGS version: 41 updated: 2021/01/01 16:53:59\ndnl ---------------\ndnl Check if the compiler supports useful warning options.  There's a few that\ndnl we don't use, simply because they're too noisy:\ndnl\ndnl\t-Wconversion (useful in older versions of gcc, but not in gcc 2.7.x)\ndnl\t-Winline (usually not worthwhile)\ndnl\t-Wredundant-decls (system headers make this too noisy)\ndnl\t-Wtraditional (combines too many unrelated messages, only a few useful)\ndnl\t-Wwrite-strings (too noisy, but should review occasionally).  This\ndnl\t\tis enabled for ncurses using \"--enable-const\".\ndnl\t-pedantic\ndnl\ndnl Parameter:\ndnl\t$1 is an optional list of gcc warning flags that a particular\ndnl\t\tapplication might want to use, e.g., \"no-unused\" for\ndnl\t\t-Wno-unused\ndnl Special:\ndnl\tIf $with_ext_const is \"yes\", add a check for -Wwrite-strings\ndnl\nAC_DEFUN([CF_GCC_WARNINGS],\n[\nAC_REQUIRE([CF_GCC_VERSION])\nif test \"x$have_x\" = xyes; then CF_CONST_X_STRING fi\ncat > \"conftest.$ac_ext\" <<EOF\n#line __oline__ \"${as_me:-configure}\"\nint main(int argc, char *argv[[]]) { return (argv[[argc-1]] == 0) ; }\nEOF\nif test \"$INTEL_COMPILER\" = yes\nthen\n# The \"-wdXXX\" options suppress warnings:\n# remark #1419: external declaration in primary source file\n# remark #1683: explicit conversion of a 64-bit integral type to a smaller integral type (potential portability problem)\n# remark #1684: conversion from pointer to same-sized integral type (potential portability problem)\n# remark #193: zero used for undefined preprocessing identifier\n# remark #593: variable \"curs_sb_left_arrow\" was set but never used\n# remark #810: conversion from \"int\" to \"Dimension={unsigned short}\" may lose significant bits\n# remark #869: parameter \"tw\" was never referenced\n# remark #981: operands are evaluated in unspecified order\n# warning #279: controlling expression is constant\n\n\tAC_CHECKING([for $CC warning options])\n\tcf_save_CFLAGS=\"$CFLAGS\"\n\tEXTRA_CFLAGS=\"$EXTRA_CFLAGS -Wall\"\n\tfor cf_opt in \\\n\t\twd1419 \\\n\t\twd1683 \\\n\t\twd1684 \\\n\t\twd193 \\\n\t\twd593 \\\n\t\twd279 \\\n\t\twd810 \\\n\t\twd869 \\\n\t\twd981\n\tdo\n\t\tCFLAGS=\"$cf_save_CFLAGS $EXTRA_CFLAGS -$cf_opt\"\n\t\tif AC_TRY_EVAL(ac_compile); then\n\t\t\ttest -n \"$verbose\" && AC_MSG_RESULT(... -$cf_opt)\n\t\t\tEXTRA_CFLAGS=\"$EXTRA_CFLAGS -$cf_opt\"\n\t\tfi\n\tdone\n\tCFLAGS=\"$cf_save_CFLAGS\"\nelif test \"$GCC\" = yes && test \"$GCC_VERSION\" != \"unknown\"\nthen\n\tAC_CHECKING([for $CC warning options])\n\tcf_save_CFLAGS=\"$CFLAGS\"\n\tcf_warn_CONST=\"\"\n\ttest \"$with_ext_const\" = yes && cf_warn_CONST=\"Wwrite-strings\"\n\tcf_gcc_warnings=\"Wignored-qualifiers Wlogical-op Wvarargs\"\n\ttest \"x$CLANG_COMPILER\" = xyes && cf_gcc_warnings=\n\tfor cf_opt in W Wall \\\n\t\tWbad-function-cast \\\n\t\tWcast-align \\\n\t\tWcast-qual \\\n\t\tWdeclaration-after-statement \\\n\t\tWextra \\\n\t\tWinline \\\n\t\tWmissing-declarations \\\n\t\tWmissing-prototypes \\\n\t\tWnested-externs \\\n\t\tWpointer-arith \\\n\t\tWshadow \\\n\t\tWstrict-prototypes \\\n\t\tWundef Wno-inline $cf_gcc_warnings $cf_warn_CONST $1\n\tdo\n\t\tCFLAGS=\"$cf_save_CFLAGS $EXTRA_CFLAGS -$cf_opt\"\n\t\tif AC_TRY_EVAL(ac_compile); then\n\t\t\ttest -n \"$verbose\" && AC_MSG_RESULT(... -$cf_opt)\n\t\t\tcase \"$cf_opt\" in\n\t\t\t(Winline)\n\t\t\t\tcase \"$GCC_VERSION\" in\n\t\t\t\t([[34]].*)\n\t\t\t\t\tCF_VERBOSE(feature is broken in gcc $GCC_VERSION)\n\t\t\t\t\tcontinue;;\n\t\t\t\tesac\n\t\t\t\t;;\n\t\t\t(Wpointer-arith)\n\t\t\t\tcase \"$GCC_VERSION\" in\n\t\t\t\t([[12]].*)\n\t\t\t\t\tCF_VERBOSE(feature is broken in gcc $GCC_VERSION)\n\t\t\t\t\tcontinue;;\n\t\t\t\tesac\n\t\t\t\t;;\n\t\t\tesac\n\t\t\tEXTRA_CFLAGS=\"$EXTRA_CFLAGS -$cf_opt\"\n\t\tfi\n\tdone\n\tCFLAGS=\"$cf_save_CFLAGS\"\nfi\nrm -rf ./conftest*\n\nAC_SUBST(EXTRA_CFLAGS)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_GNATPREP_OPT_T version: 1 updated: 2014/08/02 18:37:25\ndnl -----------------\nAC_DEFUN([CF_GNATPREP_OPT_T],[\nAC_CACHE_CHECK(if GNATPREP supports -T option,cf_cv_gnatprep_opt_t,[\ncf_cv_gnatprep_opt_t=no\ngnatprep -T 2>/dev/null >/dev/null && cf_cv_gnatprep_opt_t=yes\n])\ntest \"$cf_cv_gnatprep_opt_t\" = yes && GNATPREP_OPTS=\"-T $GNATPREP_OPTS\"\nAC_SUBST(GNATPREP_OPTS)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_GNAT_GENERICS version: 7 updated: 2021/01/01 13:31:04\ndnl ----------------\nAC_DEFUN([CF_GNAT_GENERICS],\n[\nAC_REQUIRE([CF_GNAT_VERSION])\n\nAC_MSG_CHECKING(if GNAT supports generics)\ncase \"$cf_cv_gnat_version\" in\n(3.1[[1-9]]*|3.[[2-9]]*|[[4-9]].*|[[1-9]][[0-9]].[[0-9]]*|20[[0-9]][[0-9]])\n\tcf_gnat_generics=yes\n\t;;\n(*)\n\tcf_gnat_generics=no\n\t;;\nesac\nAC_MSG_RESULT($cf_gnat_generics)\n\nif test \"$cf_gnat_generics\" = yes\nthen\n\tcf_compile_generics=generics\n\tcf_generic_objects=\"\\${GENOBJS}\"\nelse\n\tcf_compile_generics=\n\tcf_generic_objects=\nfi\n\nAC_SUBST(cf_compile_generics)\nAC_SUBST(cf_generic_objects)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_GNAT_PROJECTS version: 13 updated: 2021/01/02 17:09:14\ndnl ----------------\ndnl GNAT projects are configured with \".gpr\" project files.\ndnl GNAT libraries are a further development, using the project feature.\nAC_DEFUN([CF_GNAT_PROJECTS],\n[\nAC_REQUIRE([CF_GNAT_VERSION])\nAC_REQUIRE([CF_DISABLE_GNAT_PROJECTS])\n\ncf_gnat_libraries=no\ncf_gnat_projects=no\n\nif test \"$enable_gnat_projects\" != no ; then\nAC_MSG_CHECKING(if GNAT supports project files)\ncase \"$cf_cv_gnat_version\" in\n(3.[[0-9]]*)\n\t;;\n(*)\n\tcase \"$cf_cv_system_name\" in\n\t(cygwin*|msys*)\n\t\t;;\n\t(*)\n\t\trm -rf ./conftest* ./*~conftest*\n\t\tif mkdir conftest.src conftest.bin conftest.lib\n\t\tthen\n\t\t\tcd conftest.src\n\t\t\trm -rf ./conftest* ./*~conftest*\n\t\t\tcat >>library.gpr <<CF_EOF\nproject Library is\n  Kind := External (\"LIB_KIND\");\n  for Library_Name use \"ConfTest\";\n  for Object_Dir use \".\";\n  for Library_ALI_Dir use External(\"LIBRARY_DIR\");\n  for Library_Version use External (\"SONAME\");\n  for Library_Kind use Kind;\n  for Library_Dir use External(\"BUILD_DIR\");\n  Source_Dir := External (\"SOURCE_DIR\");\n  for Source_Dirs use (Source_Dir);\nend Library;\nCF_EOF\n\t\t\tcat >>confpackage.ads <<CF_EOF\npackage ConfPackage is\n   procedure conftest;\nend ConfPackage;\nCF_EOF\n\t\t\tcat >>confpackage.adb <<CF_EOF\nwith Text_IO;\npackage body ConfPackage is\n   procedure conftest is\n   begin\n      Text_IO.Put (\"Hello World\");\n      Text_IO.New_Line;\n   end conftest;\nend ConfPackage;\nCF_EOF\n\t\t\tif ( \"$cf_ada_make\" $ADAFLAGS \\\n\t\t\t\t\t-Plibrary.gpr \\\n\t\t\t\t\t-XBUILD_DIR=\"`cd ../conftest.bin;pwd`\" \\\n\t\t\t\t\t-XLIBRARY_DIR=\"`cd ../conftest.lib;pwd`\" \\\n\t\t\t\t\t-XSOURCE_DIR=\"`pwd`\" \\\n\t\t\t\t\t-XSONAME=libConfTest.so.1 \\\n\t\t\t\t\t-XLIB_KIND=static 1>&AC_FD_CC 2>&1 ) ; then\n\t\t\t\tcf_gnat_projects=yes\n\t\t\tfi\n\t\t\tcd ..\n\t\tfi\n\t\tif test -f conftest.lib/confpackage.ali\n\t\tthen\n\t\t\tcf_gnat_libraries=yes\n\t\tfi\n\t\trm -rf ./conftest* ./*~conftest*\n\t\t;;\n\tesac\n\t;;\nesac\nAC_MSG_RESULT($cf_gnat_projects)\nfi # enable_gnat_projects\n\nif test \"$cf_gnat_projects\" = yes\nthen\n\tAC_MSG_CHECKING(if GNAT supports libraries)\n\tAC_MSG_RESULT($cf_gnat_libraries)\nfi\n\nUSE_OLD_MAKERULES=\"\"\nUSE_GNAT_PROJECTS=\"#\"\nUSE_GNAT_MAKE_GPR=\"#\"\nUSE_GNAT_GPRBUILD=\"#\"\n\nif test \"$cf_gnat_projects\" = yes\nthen\n\tUSE_OLD_MAKERULES=\"#\"\n\tUSE_GNAT_PROJECTS=\"\"\n\tif test \"$cf_cv_VERSION_GPRBUILD\" != no\n\tthen\n\t\tUSE_GNAT_GPRBUILD=\"\"\n\telif test \"$cf_cv_VERSION_GNATMAKE\" != no\n\tthen\n\t\tUSE_GNAT_MAKE_GPR=\"\"\n\telse\n\t\tAC_MSG_WARN(use old makefile rules since tools are missing)\n\tfi\nfi\n\nif test \"$cf_gnat_libraries\" = yes\nthen\n\tUSE_GNAT_LIBRARIES=\"\"\nelse\n\tUSE_GNAT_LIBRARIES=\"#\"\nfi\n\nAC_SUBST(USE_OLD_MAKERULES)\nAC_SUBST(USE_GNAT_PROJECTS)\nAC_SUBST(USE_GNAT_LIBRARIES)\nAC_SUBST(USE_GNAT_MAKE_GPR)\nAC_SUBST(USE_GNAT_GPRBUILD)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_GNAT_SIGINT version: 2 updated: 2021/01/01 13:31:04\ndnl --------------\ndnl Check if gnat supports SIGINT, and presumably tasking.  For the latter, it\ndnl is noted that gnat may compile a tasking unit even for configurations which\ndnl fail at runtime.\nAC_DEFUN([CF_GNAT_SIGINT],[\nAC_CACHE_CHECK(if GNAT supports SIGINT,cf_cv_gnat_sigint,[\nCF_GNAT_TRY_LINK([with Ada.Interrupts.Names;\n\npackage ConfTest is\n\n   pragma Warnings (Off);  --  the next pragma exists since 3.11p\n   pragma Unreserve_All_Interrupts;\n   pragma Warnings (On);\n\n   protected Process is\n      procedure Stop;\n      function Continue return Boolean;\n      pragma Attach_Handler (Stop, Ada.Interrupts.Names.SIGINT);\n   private\n      Done : Boolean := False;\n   end Process;\n\nend ConfTest;],\n[package body ConfTest is\n   protected body Process is\n      procedure Stop is\n      begin\n         Done := True;\n      end Stop;\n      function Continue return Boolean is\n      begin\n         return not Done;\n      end Continue;\n   end Process;\nend ConfTest;],\n\t[cf_cv_gnat_sigint=yes],\n\t[cf_cv_gnat_sigint=no])])\n\nif test \"$cf_cv_gnat_sigint\" = yes ; then\n\tUSE_GNAT_SIGINT=\"\"\nelse\n\tUSE_GNAT_SIGINT=\"#\"\nfi\nAC_SUBST(USE_GNAT_SIGINT)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_GNAT_TRY_LINK version: 4 updated: 2021/01/01 13:31:04\ndnl ----------------\ndnl Verify that a test program compiles/links with GNAT.\ndnl $cf_ada_make is set to the program that compiles/links\ndnl $ADAFLAGS may be set to the GNAT flags.\ndnl\ndnl $1 is the text of the spec\ndnl $2 is the text of the body\ndnl $3 is the shell command to execute if successful\ndnl $4 is the shell command to execute if not successful\nAC_DEFUN([CF_GNAT_TRY_LINK],\n[\nrm -rf ./conftest* ./*~conftest*\ncat >>conftest.ads <<CF_EOF\n$1\nCF_EOF\ncat >>conftest.adb <<CF_EOF\n$2\nCF_EOF\nif ( \"$cf_ada_make\" $ADAFLAGS conftest 1>&AC_FD_CC 2>&1 ) ; then\nifelse($3,,      :,[      $3])\nifelse($4,,,[else\n   $4])\nfi\nrm -rf ./conftest* ./*~conftest*\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_GNAT_TRY_RUN version: 6 updated: 2021/01/01 13:31:04\ndnl ---------------\ndnl Verify that a test program compiles and runs with GNAT\ndnl $cf_ada_make is set to the program that compiles/links\ndnl $ADAFLAGS may be set to the GNAT flags.\ndnl\ndnl $1 is the text of the spec\ndnl $2 is the text of the body\ndnl $3 is the shell command to execute if successful\ndnl $4 is the shell command to execute if not successful\nAC_DEFUN([CF_GNAT_TRY_RUN],\n[\nrm -rf ./conftest* ./*~conftest*\ncat >>conftest.ads <<CF_EOF\n$1\nCF_EOF\ncat >>conftest.adb <<CF_EOF\n$2\nCF_EOF\nif ( \"$cf_ada_make\" $ADAFLAGS conftest 1>&AC_FD_CC 2>&1 ) ; then\n   if ( ./conftest 1>&AC_FD_CC 2>&1 ) ; then\nifelse($3,,      :,[      $3])\nifelse($4,,,[   else\n      $4])\n   fi\nifelse($4,,,[else\n   $4])\nfi\nrm -rf ./conftest* ./*~conftest*\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_GNAT_VERSION version: 22 updated: 2019/12/31 08:53:54\ndnl ---------------\ndnl $1 = cache variable to update\ndnl $2 = program name\ndnl Verify version of GNAT or related tool\nAC_DEFUN([CF_GNAT_VERSION],\n[\nAC_CACHE_CHECK(for ifelse($2,,gnat,$2) version, cf_cv_gnat_version,[\ncf_cv_gnat_version=`ifelse($2,,${cf_ada_make:-gnatmake},$2) --version 2>&1 | \\\n\tgrep '[[0-9]].[[0-9]][[0-9]]*' |\\\n\tsed -e '2,$d' -e 's/[[^0-9 \\.]]//g' -e 's/^[[ ]]*//' -e 's/ .*//'`\n])\ntest -z \"$cf_cv_gnat_version\" && cf_cv_gnat_version=no\nifelse($1,,,[eval $1=$cf_cv_gnat_version; unset cf_cv_gnat_version])\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_GNU_SOURCE version: 10 updated: 2018/12/10 20:09:41\ndnl -------------\ndnl Check if we must define _GNU_SOURCE to get a reasonable value for\ndnl _XOPEN_SOURCE, upon which many POSIX definitions depend.  This is a defect\ndnl (or misfeature) of glibc2, which breaks portability of many applications,\ndnl since it is interwoven with GNU extensions.\ndnl\ndnl Well, yes we could work around it...\ndnl\ndnl Parameters:\ndnl\t$1 is the nominal value for _XOPEN_SOURCE\nAC_DEFUN([CF_GNU_SOURCE],\n[\ncf_gnu_xopen_source=ifelse($1,,500,$1)\n\nAC_CACHE_CHECK(if this is the GNU C library,cf_cv_gnu_library,[\nAC_TRY_COMPILE([#include <sys/types.h>],[\n\t#if __GLIBC__ > 0 && __GLIBC_MINOR__ >= 0\n\t\treturn 0;\n\t#elif __NEWLIB__ > 0 && __NEWLIB_MINOR__ >= 0\n\t\treturn 0;\n\t#else\n\t#\terror not GNU C library\n\t#endif],\n\t[cf_cv_gnu_library=yes],\n\t[cf_cv_gnu_library=no])\n])\n\nif test x$cf_cv_gnu_library = xyes; then\n\n\t# With glibc 2.19 (13 years after this check was begun), _DEFAULT_SOURCE\n\t# was changed to help a little.  newlib incorporated the change about 4\n\t# years later.\n\tAC_CACHE_CHECK(if _DEFAULT_SOURCE can be used as a basis,cf_cv_gnu_library_219,[\n\t\tcf_save=\"$CPPFLAGS\"\n\t\tCF_APPEND_TEXT(CPPFLAGS,-D_DEFAULT_SOURCE)\n\t\tAC_TRY_COMPILE([#include <sys/types.h>],[\n\t\t\t#if (__GLIBC__ == 2 && __GLIBC_MINOR__ >= 19) || (__GLIBC__ > 2)\n\t\t\t\treturn 0;\n\t\t\t#elif (__NEWLIB__ == 2 && __NEWLIB_MINOR__ >= 4) || (__GLIBC__ > 3)\n\t\t\t\treturn 0;\n\t\t\t#else\n\t\t\t#\terror GNU C library __GLIBC__.__GLIBC_MINOR__ is too old\n\t\t\t#endif],\n\t\t\t[cf_cv_gnu_library_219=yes],\n\t\t\t[cf_cv_gnu_library_219=no])\n\t\tCPPFLAGS=\"$cf_save\"\n\t])\n\n\tif test \"x$cf_cv_gnu_library_219\" = xyes; then\n\t\tcf_save=\"$CPPFLAGS\"\n\t\tAC_CACHE_CHECK(if _XOPEN_SOURCE=$cf_gnu_xopen_source works with _DEFAULT_SOURCE,cf_cv_gnu_dftsrc_219,[\n\t\t\tCF_ADD_CFLAGS(-D_DEFAULT_SOURCE -D_XOPEN_SOURCE=$cf_gnu_xopen_source)\n\t\t\tAC_TRY_COMPILE([\n\t\t\t\t#include <limits.h>\n\t\t\t\t#include <sys/types.h>\n\t\t\t\t],[\n\t\t\t\t#if (_XOPEN_SOURCE >= $cf_gnu_xopen_source) && (MB_LEN_MAX > 1)\n\t\t\t\t\treturn 0;\n\t\t\t\t#else\n\t\t\t\t#\terror GNU C library is too old\n\t\t\t\t#endif],\n\t\t\t\t[cf_cv_gnu_dftsrc_219=yes],\n\t\t\t\t[cf_cv_gnu_dftsrc_219=no])\n\t\t\t])\n\t\ttest \"x$cf_cv_gnu_dftsrc_219\" = \"xyes\" || CPPFLAGS=\"$cf_save\"\n\telse\n\t\tcf_cv_gnu_dftsrc_219=maybe\n\tfi\n\n\tif test \"x$cf_cv_gnu_dftsrc_219\" != xyes; then\n\n\t\tAC_CACHE_CHECK(if we must define _GNU_SOURCE,cf_cv_gnu_source,[\n\t\tAC_TRY_COMPILE([#include <sys/types.h>],[\n\t\t\t#ifndef _XOPEN_SOURCE\n\t\t\t#error\texpected _XOPEN_SOURCE to be defined\n\t\t\t#endif],\n\t\t\t[cf_cv_gnu_source=no],\n\t\t\t[cf_save=\"$CPPFLAGS\"\n\t\t\t CF_ADD_CFLAGS(-D_GNU_SOURCE)\n\t\t\t AC_TRY_COMPILE([#include <sys/types.h>],[\n\t\t\t\t#ifdef _XOPEN_SOURCE\n\t\t\t\t#error\texpected _XOPEN_SOURCE to be undefined\n\t\t\t\t#endif],\n\t\t\t\t[cf_cv_gnu_source=no],\n\t\t\t\t[cf_cv_gnu_source=yes])\n\t\t\tCPPFLAGS=\"$cf_save\"\n\t\t\t])\n\t\t])\n\n\t\tif test \"$cf_cv_gnu_source\" = yes\n\t\tthen\n\t\tAC_CACHE_CHECK(if we should also define _DEFAULT_SOURCE,cf_cv_default_source,[\n\t\t\tCF_APPEND_TEXT(CPPFLAGS,-D_GNU_SOURCE)\n\t\t\tAC_TRY_COMPILE([#include <sys/types.h>],[\n\t\t\t\t#ifdef _DEFAULT_SOURCE\n\t\t\t\t#error\texpected _DEFAULT_SOURCE to be undefined\n\t\t\t\t#endif],\n\t\t\t\t[cf_cv_default_source=no],\n\t\t\t\t[cf_cv_default_source=yes])\n\t\t\t])\n\t\t\tif test \"$cf_cv_default_source\" = yes\n\t\t\tthen\n\t\t\t\tCF_APPEND_TEXT(CPPFLAGS,-D_DEFAULT_SOURCE)\n\t\t\tfi\n\t\tfi\n\tfi\n\nfi\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_HEADER_PATH version: 15 updated: 2021/01/01 13:31:04\ndnl --------------\ndnl Construct a search-list of directories for a nonstandard header-file\ndnl\ndnl Parameters\ndnl\t$1 = the variable to return as result\ndnl\t$2 = the package name\nAC_DEFUN([CF_HEADER_PATH],\n[\n$1=\n\n# collect the current set of include-directories from compiler flags\ncf_header_path_list=\"\"\nif test -n \"${CFLAGS}${CPPFLAGS}\" ; then\n\tfor cf_header_path in $CPPFLAGS $CFLAGS\n\tdo\n\t\tcase \"$cf_header_path\" in\n\t\t(-I*)\n\t\t\tcf_header_path=`echo \".$cf_header_path\" |sed -e 's/^...//' -e 's,/include$,,'`\n\t\t\tCF_ADD_SUBDIR_PATH($1,$2,include,$cf_header_path,NONE)\n\t\t\tcf_header_path_list=\"$cf_header_path_list [$]$1\"\n\t\t\t;;\n\t\tesac\n\tdone\nfi\n\n# add the variations for the package we are looking for\nCF_SUBDIR_PATH($1,$2,include)\n\ntest \"$includedir\" != NONE && \\\ntest \"$includedir\" != \"/usr/include\" && \\\ntest -d \"$includedir\" && {\n\ttest -d \"$includedir\" &&    $1=\"[$]$1 $includedir\"\n\ttest -d \"$includedir/$2\" && $1=\"[$]$1 $includedir/$2\"\n}\n\ntest \"$oldincludedir\" != NONE && \\\ntest \"$oldincludedir\" != \"/usr/include\" && \\\ntest -d \"$oldincludedir\" && {\n\ttest -d \"$oldincludedir\"    && $1=\"[$]$1 $oldincludedir\"\n\ttest -d \"$oldincludedir/$2\" && $1=\"[$]$1 $oldincludedir/$2\"\n}\n\n$1=\"[$]$1 $cf_header_path_list\"\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_HELP_MESSAGE version: 4 updated: 2019/12/31 08:53:54\ndnl ---------------\ndnl Insert text into the help-message, for readability, from AC_ARG_WITH.\nAC_DEFUN([CF_HELP_MESSAGE],\n[CF_ACVERSION_CHECK(2.53,[],[\nAC_DIVERT_HELP($1)])dnl\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_INCLUDE_DIRS version: 10 updated: 2014/09/19 20:58:42\ndnl ---------------\ndnl Construct the list of include-options according to whether we're building\ndnl in the source directory or using '--srcdir=DIR' option.\nAC_DEFUN([CF_INCLUDE_DIRS],\n[\nif test \"$srcdir\" != \".\"; then\n\tCPPFLAGS=\"-I\\${srcdir}/../include $CPPFLAGS\"\nfi\nCPPFLAGS=\"-I../include $CPPFLAGS\"\nif test \"$srcdir\" != \".\"; then\n\tCPPFLAGS=\"-I\\${srcdir} $CPPFLAGS\"\nfi\nCPPFLAGS=\"-I. $CPPFLAGS\"\nAC_SUBST(CPPFLAGS)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_INSTALL_OPTS version: 2 updated: 2018/08/18 12:19:21\ndnl ---------------\ndnl prompt for/fill-in useful install-program options\nAC_DEFUN([CF_INSTALL_OPTS],\n[\nCF_INSTALL_OPT_S\nCF_INSTALL_OPT_P\nCF_INSTALL_OPT_O\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_INSTALL_OPT_O version: 3 updated: 2020/12/31 20:19:42\ndnl ----------------\ndnl Almost all \"install\" programs default to the current user's ownership.\ndnl Almost - MINIX is an exception.\nAC_DEFUN([CF_INSTALL_OPT_O],\n[\nAC_MSG_CHECKING(if install needs to be told about ownership)\ncase `$ac_config_guess` in\n(*minix)\n\twith_install_o=yes\n\t;;\n(*)\n\twith_install_o=no\n\t;;\nesac\n\nAC_MSG_RESULT($with_install_o)\nif test \"x$with_install_o\" = xyes\nthen\n\tINSTALL_OPT_O=\"`id root|sed -e 's/uid=[[0-9]]*(/ -o /' -e 's/gid=[[0-9]]*(/ -g /' -e 's/ [[^=[:space:]]][[^=[:space:]]]*=.*/ /' -e 's/)//g'`\"\nelse\n\tINSTALL_OPT_O=\nfi\n\nAC_SUBST(INSTALL_OPT_O)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_INSTALL_OPT_P version: 3 updated: 2021/01/01 13:31:04\ndnl ----------------\ndnl Some install-programs accept a \"-p\" option to preserve file modification\ndnl timestamps.  That can be useful as an install option, as well as a way to\ndnl avoid the need for ranlib after copying a static archive.\nAC_DEFUN([CF_INSTALL_OPT_P],\n[\n: \"${INSTALL:=install}\"\nAC_CACHE_CHECK(if install accepts -p option, cf_cv_install_p,[\n\trm -rf ./conftest*\n\tdate >conftest.in\n\tmkdir conftest.out\n\tsleep 3\n\tif $INSTALL -p conftest.in conftest.out 2>/dev/null\n\tthen\n\t\tif test -f conftest.out/conftest.in\n\t\tthen\n\t\t\ttest conftest.in -nt conftest.out/conftest.in 2>conftest.err && \\\n\t\t\ttest conftest.out/conftest.in -nt conftest.in 2>conftest.err\n\t\t\tif test -s conftest.err\n\t\t\tthen\n\t\t\t\tcf_cv_install_p=no\n\t\t\telse\n\t\t\t\tcf_cv_install_p=yes\n\t\t\tfi\n\t\telse\n\t\t\tcf_cv_install_p=no\n\t\tfi\n\telse\n\t\tcf_cv_install_p=no\n\tfi\n\trm -rf ./conftest*\n])\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_INSTALL_OPT_S version: 3 updated: 2021/01/05 19:23:48\ndnl ----------------\ndnl By default, we should strip executables which are installed, but leave the\ndnl ability to suppress that for unit-testing.\nAC_DEFUN([CF_INSTALL_OPT_S],\n[\nAC_MSG_CHECKING(if you want to install stripped executables)\nCF_ARG_DISABLE(stripping,\n\t[  --disable-stripping     do not strip (debug info) installed executables],\n\t[enable_stripping=no],\n\t[enable_stripping=yes])\nAC_MSG_RESULT($enable_stripping)\n\nif test \"$enable_stripping\" = yes\nthen\n\tINSTALL_OPT_S=\"-s\"\nelse\n\tINSTALL_OPT_S=\nfi\nAC_SUBST(INSTALL_OPT_S)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_INTEL_COMPILER version: 8 updated: 2021/01/01 16:53:59\ndnl -----------------\ndnl Check if the given compiler is really the Intel compiler for Linux.  It\ndnl tries to imitate gcc, but does not return an error when it finds a mismatch\ndnl between prototypes, e.g., as exercised by CF_MISSING_CHECK.\ndnl\ndnl This macro should be run \"soon\" after AC_PROG_CC or AC_PROG_CPLUSPLUS, to\ndnl ensure that it is not mistaken for gcc/g++.  It is normally invoked from\ndnl the wrappers for gcc and g++ warnings.\ndnl\ndnl $1 = GCC (default) or GXX\ndnl $2 = INTEL_COMPILER (default) or INTEL_CPLUSPLUS\ndnl $3 = CFLAGS (default) or CXXFLAGS\nAC_DEFUN([CF_INTEL_COMPILER],[\nAC_REQUIRE([AC_CANONICAL_HOST])\nifelse([$2],,INTEL_COMPILER,[$2])=no\n\nif test \"$ifelse([$1],,[$1],GCC)\" = yes ; then\n\tcase \"$host_os\" in\n\t(linux*|gnu*)\n\t\tAC_MSG_CHECKING(if this is really Intel ifelse([$1],GXX,C++,C) compiler)\n\t\tcf_save_CFLAGS=\"$ifelse([$3],,CFLAGS,[$3])\"\n\t\tifelse([$3],,CFLAGS,[$3])=\"$ifelse([$3],,CFLAGS,[$3]) -no-gcc\"\n\t\tAC_TRY_COMPILE([],[\n#ifdef __INTEL_COMPILER\n#else\nmake an error\n#endif\n],[ifelse([$2],,INTEL_COMPILER,[$2])=yes\ncf_save_CFLAGS=\"$cf_save_CFLAGS -we147\"\n],[])\n\t\tifelse([$3],,CFLAGS,[$3])=\"$cf_save_CFLAGS\"\n\t\tAC_MSG_RESULT($ifelse([$2],,INTEL_COMPILER,[$2]))\n\t\t;;\n\tesac\nfi\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_LARGEFILE version: 12 updated: 2020/03/19 20:23:48\ndnl ------------\ndnl Add checks for large file support.\nAC_DEFUN([CF_LARGEFILE],[\nifdef([AC_FUNC_FSEEKO],[\n\tAC_SYS_LARGEFILE\n\tif test \"$enable_largefile\" != no ; then\n\tAC_FUNC_FSEEKO\n\n\t# Normally we would collect these definitions in the config.h,\n\t# but (like _XOPEN_SOURCE), some environments rely on having these\n\t# defined before any of the system headers are included.  Another\n\t# case comes up with C++, e.g., on AIX the compiler compiles the\n\t# header files by themselves before looking at the body files it is\n\t# told to compile.  For ncurses, those header files do not include\n\t# the config.h\n\tif test \"$ac_cv_sys_large_files\" != no\n\tthen\n\t\tCF_APPEND_TEXT(CPPFLAGS,-D_LARGE_FILES)\n\tfi\n\tif test \"$ac_cv_sys_largefile_source\" != no\n\tthen\n\t\tCF_APPEND_TEXT(CPPFLAGS,-D_LARGEFILE_SOURCE)\n\tfi\n\tif test \"$ac_cv_sys_file_offset_bits\" != no\n\tthen\n\t\tCF_APPEND_TEXT(CPPFLAGS,-D_FILE_OFFSET_BITS=$ac_cv_sys_file_offset_bits)\n\tfi\n\n\tAC_CACHE_CHECK(whether to use struct dirent64, cf_cv_struct_dirent64,[\n\t\tAC_TRY_COMPILE([\n#pragma GCC diagnostic error \"-Wincompatible-pointer-types\"\n#include <sys/types.h>\n#include <dirent.h>\n\t\t],[\n\t\t/* if transitional largefile support is setup, this is true */\n\t\textern struct dirent64 * readdir(DIR *);\n\t\tstruct dirent64 *x = readdir((DIR *)0);\n\t\tstruct dirent *y = readdir((DIR *)0);\n\t\tint z = x - y;\n\t\t(void)z;\n\t\t],\n\t\t[cf_cv_struct_dirent64=yes],\n\t\t[cf_cv_struct_dirent64=no])\n\t])\n\ttest \"$cf_cv_struct_dirent64\" = yes && AC_DEFINE(HAVE_STRUCT_DIRENT64,1,[Define to 1 if we have struct dirent64])\n\tfi\n])\n])\ndnl ---------------------------------------------------------------------------\ndnl CF_LD_RPATH_OPT version: 9 updated: 2021/01/01 13:31:04\ndnl ---------------\ndnl For the given system and compiler, find the compiler flags to pass to the\ndnl loader to use the \"rpath\" feature.\nAC_DEFUN([CF_LD_RPATH_OPT],\n[\nAC_REQUIRE([CF_CHECK_CACHE])\n\nLD_RPATH_OPT=\nif test \"x$cf_cv_enable_rpath\" != xno\nthen\n\tAC_MSG_CHECKING(for an rpath option)\n\tcase \"$cf_cv_system_name\" in\n\t(irix*)\n\t\tif test \"$GCC\" = yes; then\n\t\t\tLD_RPATH_OPT=\"-Wl,-rpath,\"\n\t\telse\n\t\t\tLD_RPATH_OPT=\"-rpath \"\n\t\tfi\n\t\t;;\n\t(linux*|gnu*|k*bsd*-gnu|freebsd*)\n\t\tLD_RPATH_OPT=\"-Wl,-rpath,\"\n\t\t;;\n\t(openbsd[[2-9]].*|mirbsd*)\n\t\tLD_RPATH_OPT=\"-Wl,-rpath,\"\n\t\t;;\n\t(dragonfly*)\n\t\tLD_RPATH_OPT=\"-rpath \"\n\t\t;;\n\t(netbsd*)\n\t\tLD_RPATH_OPT=\"-Wl,-rpath,\"\n\t\t;;\n\t(osf*|mls+*)\n\t\tLD_RPATH_OPT=\"-rpath \"\n\t\t;;\n\t(solaris2*)\n\t\tLD_RPATH_OPT=\"-R\"\n\t\t;;\n\t(*)\n\t\t;;\n\tesac\n\tAC_MSG_RESULT($LD_RPATH_OPT)\n\n\tcase \"x$LD_RPATH_OPT\" in\n\t(x-R*)\n\t\tAC_MSG_CHECKING(if we need a space after rpath option)\n\t\tcf_save_LIBS=\"$LIBS\"\n\t\tCF_ADD_LIBS(${LD_RPATH_OPT}$libdir)\n\t\tAC_TRY_LINK(, , cf_rpath_space=no, cf_rpath_space=yes)\n\t\tLIBS=\"$cf_save_LIBS\"\n\t\tAC_MSG_RESULT($cf_rpath_space)\n\t\ttest \"$cf_rpath_space\" = yes && LD_RPATH_OPT=\"$LD_RPATH_OPT \"\n\t\t;;\n\tesac\nfi\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_LIBRARY_PATH version: 11 updated: 2021/01/01 13:31:04\ndnl ---------------\ndnl Construct a search-list of directories for a nonstandard library-file\ndnl\ndnl Parameters\ndnl\t$1 = the variable to return as result\ndnl\t$2 = the package name\nAC_DEFUN([CF_LIBRARY_PATH],\n[\n$1=\ncf_library_path_list=\"\"\nif test -n \"${LDFLAGS}${LIBS}\" ; then\n\tfor cf_library_path in $LDFLAGS $LIBS\n\tdo\n\t\tcase \"$cf_library_path\" in\n\t\t(-L*)\n\t\t\tcf_library_path=`echo \".$cf_library_path\" |sed -e 's/^...//' -e 's,/lib$,,'`\n\t\t\tCF_ADD_SUBDIR_PATH($1,$2,lib,$cf_library_path,NONE)\n\t\t\tcf_library_path_list=\"$cf_library_path_list [$]$1\"\n\t\t\t;;\n\t\tesac\n\tdone\nfi\n\nCF_SUBDIR_PATH($1,$2,lib)\n\n$1=\"$cf_library_path_list [$]$1\"\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_LIB_PREFIX version: 14 updated: 2021/01/01 13:31:04\ndnl -------------\ndnl Compute the library-prefix for the given host system\ndnl $1 = variable to set\ndefine([CF_LIB_PREFIX],\n[\n\tcase \"$cf_cv_system_name\" in\n\t(OS/2*|os2*)\n\t\tif test \"$DFT_LWR_MODEL\" = libtool; then\n\t\t\tLIB_PREFIX='lib'\n\t\telse\n\t\t\tLIB_PREFIX=''\n\t\tfi\n\t\t;;\n\t(*-msvc*)\n\t\tLIB_PREFIX=''\n\t\t;;\n\t(*)\tLIB_PREFIX='lib'\n\t\t;;\n\tesac\nifelse($1,,,[$1=$LIB_PREFIX])\n\tAC_SUBST(LIB_PREFIX)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_LIB_SUFFIX version: 28 updated: 2021/01/01 16:53:59\ndnl -------------\ndnl Compute the library file-suffix from the given model name\ndnl $1 = model name\ndnl $2 = variable to set (the nominal library suffix)\ndnl $3 = dependency variable to set (actual filename)\ndnl The variable $LIB_SUFFIX, if set, prepends the variable to set.\nAC_DEFUN([CF_LIB_SUFFIX],\n[\n\tcase X$1 in\n\t(Xlibtool)\n\t\t$2='.la'\n\t\t$3=[$]$2\n\t\t;;\n\t(Xdebug)\n\t\tcase \"$cf_cv_system_name\" in\n\t\t(*-msvc*)\n\t\t\t$2='_g.lib'\n\t\t\t;;\n\t\t(*)\n\t\t\t$2='_g.a'\n\t\t\t;;\n\t\tesac\n\t\t$3=[$]$2\n\t\t;;\n\t(Xprofile)\n\t\tcase \"$cf_cv_system_name\" in\n\t\t(*-msvc*)\n\t\t\t$2='_p.lib'\n\t\t\t;;\n\t\t(*)\n\t\t\t$2='_p.a'\n\t\t\t;;\n\t\tesac\n\t\t$3=[$]$2\n\t\t;;\n\t(Xshared)\n\t\tcase \"$cf_cv_system_name\" in\n\t\t(aix[[5-7]]*)\n\t\t\t$2='.so'\n\t\t\t$3=[$]$2\n\t\t\t;;\n\t\t(*-msvc*)\n\t\t\t$2='.dll'\n\t\t\t$3='.dll.lib'\n\t\t\t;;\n\t\t(cygwin*|msys*|mingw*)\n\t\t\t$2='.dll'\n\t\t\t$3='.dll.a'\n\t\t\t;;\n\t\t(darwin*)\n\t\t\t$2='.dylib'\n\t\t\t$3=[$]$2\n\t\t\t;;\n\t\t(hpux*)\n\t\t\tcase \"$target\" in\n\t\t\t(ia64*)\n\t\t\t\t$2='.so'\n\t\t\t\t$3=[$]$2\n\t\t\t\t;;\n\t\t\t(*)\n\t\t\t\t$2='.sl'\n\t\t\t\t$3=[$]$2\n\t\t\t\t;;\n\t\t\tesac\n\t\t\t;;\n\t\t(*)\n\t\t\t$2='.so'\n\t\t\t$3=[$]$2\n\t\t\t;;\n\t\tesac\n\t\t;;\n\t(*)\n\t\tcase \"$target\" in\n\t\t(*-msvc*)\n\t\t\t$2='.lib'\n\t\t\t;;\n\t\t(*)\n\t\t\t$2='.a'\n\t\t\t;;\n\t\tesac\n\t\t$3=[$]$2\n\t\t;;\n\tesac\n\tif test -n \"${LIB_SUFFIX}${EXTRA_SUFFIX}\"\n\tthen\n\t\t$2=\"${LIB_SUFFIX}${EXTRA_SUFFIX}[$]{$2}\"\n\t\t$3=\"${LIB_SUFFIX}${EXTRA_SUFFIX}[$]{$3}\"\n\tfi\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_LIB_TYPE version: 5 updated: 2015/04/17 21:13:04\ndnl -----------\ndnl Compute the string to append to -library from the given model name\ndnl $1 = model name\ndnl $2 = variable to set\ndnl The variable $LIB_SUFFIX, if set, prepends the variable to set.\nAC_DEFUN([CF_LIB_TYPE],\n[\n\tcase $1 in\n\t(libtool) $2=''   ;;\n\t(normal)  $2=''   ;;\n\t(debug)   $2='_g' ;;\n\t(profile) $2='_p' ;;\n\t(shared)  $2=''   ;;\n\tesac\n\ttest -n \"$LIB_SUFFIX\" && $2=\"${LIB_SUFFIX}[$]{$2}\"\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_LINK_DATAONLY version: 13 updated: 2020/02/08 15:59:30\ndnl ----------------\ndnl Some systems have a non-ANSI linker that doesn't pull in modules that have\ndnl only data (i.e., no functions), for example NeXT.  On those systems we'll\ndnl have to provide wrappers for global tables to ensure they're linked\ndnl properly.\nAC_DEFUN([CF_LINK_DATAONLY],\n[\nAC_MSG_CHECKING([if data-only library module links])\nAC_CACHE_VAL(cf_cv_link_dataonly,[\n\trm -f conftest.a\n\tcat >conftest.$ac_ext <<EOF\n#line __oline__ \"configure\"\nint\ttestdata[[3]] = { 123, 456, 789 };\nEOF\n\tif AC_TRY_EVAL(ac_compile) ; then\n\t\tmv conftest.o data.o && \\\n\t\t( $AR $ARFLAGS conftest.a data.o ) 2>&AC_FD_CC 1>/dev/null\n\tfi\n\trm -f conftest.$ac_ext data.o\n\tcat >conftest.$ac_ext <<EOF\n#line __oline__ \"configure\"\nint\ttestfunc(void)\n{\n#if defined(NeXT)\n\t${cf_cv_main_return:-return}(1);\t/* I'm told this linker is broken */\n#else\n\textern int testdata[[3]];\n\treturn testdata[[0]] == 123\n\t   &&  testdata[[1]] == 456\n\t   &&  testdata[[2]] == 789;\n#endif\n}\nEOF\n\tif AC_TRY_EVAL(ac_compile); then\n\t\tmv conftest.o func.o && \\\n\t\t( $AR $ARFLAGS conftest.a func.o ) 2>&AC_FD_CC 1>/dev/null\n\tfi\n\trm -f conftest.$ac_ext func.o\n\t( eval $RANLIB conftest.a ) 2>&AC_FD_CC >/dev/null\n\tcf_saveLIBS=\"$LIBS\"\n\tLIBS=\"conftest.a $LIBS\"\n\tAC_TRY_RUN([\n\tint main(void)\n\t{\n\t\textern int testfunc();\n\t\t${cf_cv_main_return:-return} (!testfunc());\n\t}\n\t],\n\t[cf_cv_link_dataonly=yes],\n\t[cf_cv_link_dataonly=no],\n\t[cf_cv_link_dataonly=unknown])\n\tLIBS=\"$cf_saveLIBS\"\n\t])\nAC_MSG_RESULT($cf_cv_link_dataonly)\n\nif test \"$cf_cv_link_dataonly\" = no ; then\n\tAC_DEFINE(BROKEN_LINKER,1,[if data-only library module does not link])\n\tBROKEN_LINKER=1\nfi\nAC_SUBST(BROKEN_LINKER)\n\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_MAKEFLAGS version: 21 updated: 2021/09/04 06:47:34\ndnl ------------\ndnl Some 'make' programs support ${MAKEFLAGS}, some ${MFLAGS}, to pass 'make'\ndnl options to lower-levels.  It is very useful for \"make -n\" -- if we have it.\ndnl (GNU 'make' does both, something POSIX 'make', which happens to make the\ndnl ${MAKEFLAGS} variable incompatible because it adds the assignments :-)\nAC_DEFUN([CF_MAKEFLAGS],\n[AC_REQUIRE([AC_PROG_FGREP])dnl\n\nAC_CACHE_CHECK(for makeflags variable, cf_cv_makeflags,[\n\tcf_cv_makeflags=''\n\tfor cf_option in '-${MAKEFLAGS}' '${MFLAGS}'\n\tdo\n\t\tcat >cf_makeflags.tmp <<CF_EOF\nSHELL = $SHELL\nall :\n\t@ echo '.$cf_option'\nCF_EOF\n\t\tcf_result=`${MAKE:-make} -k -f cf_makeflags.tmp 2>/dev/null | ${FGREP-fgrep} -v \"ing directory\" | sed -e 's,[[ \t]]*$,,'`\n\t\tcase \"$cf_result\" in\n\t\t(.*k|.*kw)\n\t\t\tcf_result=\"`${MAKE:-make} -k -f cf_makeflags.tmp CC=cc 2>/dev/null`\"\n\t\t\tcase \"$cf_result\" in\n\t\t\t(.*CC=*)\tcf_cv_makeflags=\n\t\t\t\t;;\n\t\t\t(*)\tcf_cv_makeflags=$cf_option\n\t\t\t\t;;\n\t\t\tesac\n\t\t\tbreak\n\t\t\t;;\n\t\t(.-)\n\t\t\t;;\n\t\t(*)\n\t\t\tCF_MSG_LOG(given option \\\"$cf_option\\\", no match \\\"$cf_result\\\")\n\t\t\t;;\n\t\tesac\n\tdone\n\trm -f cf_makeflags.tmp\n])\n\nAC_SUBST(cf_cv_makeflags)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_MAKE_PHONY version: 3 updated: 2021/01/08 16:08:21\ndnl -------------\ndnl Check if the make-program handles a \".PHONY\" target, e.g,. a target which\ndnl acts as a placeholder.\ndnl\ndnl The \".PHONY\" feature was proposed in 2011 here\ndnl     https://www.austingroupbugs.net/view.php?id=523\ndnl and is scheduled for release in P1003.1 Issue 8 (late 2022).\ndnl\ndnl This is not supported by SVr4 make (or SunOS 4, 4.3SD, etc), but works with\ndnl a few others (i.e., GNU make and the non-POSIX \"BSD\" make):\ndnl\ndnl + This is a GNU make feature (since April 1988, but in turn from binutils,\ndnl   date unspecified).\ndnl\ndnl + It was adopted in NetBSD make in June 1995.\ndnl\ndnl + The other BSD make programs are derived from the NetBSD make (and for\ndnl   that reason are not actually different \"implementations\").\ndnl\ndnl + Some features of NetBSD make were actually adapted from pmake, which\ndnl   began as a modified GNU make starting in 1993.\ndnl\ndnl + Version 3.8 of the dmake program in January 1992 also implemented this\ndnl   GNU make extension, but is less well known than the BSD make.\nAC_DEFUN([CF_MAKE_PHONY],[\nAC_CACHE_CHECK(for \\\".PHONY\\\" make-support, cf_cv_make_PHONY,[\n\trm -rf conftest*\n\t(\n\t\tmkdir conftest || exit 1\n\t\tcd conftest\n\t\tcat >makefile <<'CF_EOF'\n.PHONY: always\nDATA=0\nalways:\talways.out\n\t@echo \"** making [$]@ [$](DATA)\"\nonce: once.out\n\t@echo \"** making [$]@ [$](DATA)\"\nalways.out:\n\t@echo \"** making [$]@ [$](DATA)\"\n\techo [$](DATA) > [$]@\nonce.out:\n\t@echo \"** making [$]@ [$](DATA)\"\n\techo [$](DATA) > [$]@\nCF_EOF\n\t\tfor cf_data in 1 2 3\n\t\tdo\n\t\t\t${MAKE:-make} always DATA=$cf_data\n\t\t\t${MAKE:-make} once   DATA=$cf_data\n\t\t\t${MAKE:-make} -t always once\n\t\t\tif test -f always ; then\n\t\t\t\techo \"no (case 1)\" > ../conftest.tmp\n\t\t\telif test ! -f always.out ; then\n\t\t\t\techo \"no (case 2)\" > ../conftest.tmp\n\t\t\telif test ! -f once.out ; then\n\t\t\t\techo \"no (case 3)\" > ../conftest.tmp\n\t\t\telif ! cmp -s always.out once.out ; then\n\t\t\t\techo \"no (case 4)\" > ../conftest.tmp\n\t\t\t\tdiff always.out once.out\n\t\t\telse\n\t\t\t\tcf_check=\"`cat always.out`\"\n\t\t\t\tif test \"x$cf_check\" != \"x$cf_data\" ; then\n\t\t\t\t\techo \"no (case 5)\" > ../conftest.tmp\n\t\t\t\telse\n\t\t\t\t\techo yes > ../conftest.tmp\n\t\t\t\t\trm -f ./*.out\n\t\t\t\t\tcontinue\n\t\t\t\tfi\n\t\t\tfi\n\t\t\tbreak\n\t\tdone\n\t) >&AC_FD_CC 2>&1\n\tcf_cv_make_PHONY=\"`cat conftest.tmp`\"\n\trm -rf conftest*\n])\nMAKE_NO_PHONY=\"#\"\nMAKE_PHONY=\"#\"\ntest \"x$cf_cv_make_PHONY\" = xyes && MAKE_PHONY=\ntest \"x$cf_cv_make_PHONY\" != xyes && MAKE_NO_PHONY=\nAC_SUBST(MAKE_NO_PHONY)\nAC_SUBST(MAKE_PHONY)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_MAKE_TAGS version: 6 updated: 2010/10/23 15:52:32\ndnl ------------\ndnl Generate tags/TAGS targets for makefiles.  Do not generate TAGS if we have\ndnl a monocase filesystem.\nAC_DEFUN([CF_MAKE_TAGS],[\nAC_REQUIRE([CF_MIXEDCASE_FILENAMES])\n\nAC_CHECK_PROGS(CTAGS, exctags ctags)\nAC_CHECK_PROGS(ETAGS, exetags etags)\n\nAC_CHECK_PROG(MAKE_LOWER_TAGS, ${CTAGS:-ctags}, yes, no)\n\nif test \"$cf_cv_mixedcase\" = yes ; then\n\tAC_CHECK_PROG(MAKE_UPPER_TAGS, ${ETAGS:-etags}, yes, no)\nelse\n\tMAKE_UPPER_TAGS=no\nfi\n\nif test \"$MAKE_UPPER_TAGS\" = yes ; then\n\tMAKE_UPPER_TAGS=\nelse\n\tMAKE_UPPER_TAGS=\"#\"\nfi\n\nif test \"$MAKE_LOWER_TAGS\" = yes ; then\n\tMAKE_LOWER_TAGS=\nelse\n\tMAKE_LOWER_TAGS=\"#\"\nfi\n\nAC_SUBST(CTAGS)\nAC_SUBST(ETAGS)\n\nAC_SUBST(MAKE_UPPER_TAGS)\nAC_SUBST(MAKE_LOWER_TAGS)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_MIXEDCASE_FILENAMES version: 9 updated: 2021/01/01 16:53:59\ndnl ----------------------\ndnl Check if the file-system supports mixed-case filenames.  If we're able to\ndnl create a lowercase name and see it as uppercase, it doesn't support that.\nAC_DEFUN([CF_MIXEDCASE_FILENAMES],\n[\nAC_CACHE_CHECK(if filesystem supports mixed-case filenames,cf_cv_mixedcase,[\nif test \"$cross_compiling\" = yes ; then\n\tcase \"$target_alias\" in\n\t(*-os2-emx*|*-msdosdjgpp*|*-cygwin*|*-msys*|*-mingw*|*-uwin*|darwin*)\n\t\tcf_cv_mixedcase=no\n\t\t;;\n\t(*)\n\t\tcf_cv_mixedcase=yes\n\t\t;;\n\tesac\nelse\n\trm -f conftest CONFTEST\n\techo test >conftest\n\tif test -f CONFTEST ; then\n\t\tcf_cv_mixedcase=no\n\telse\n\t\tcf_cv_mixedcase=yes\n\tfi\n\trm -f conftest CONFTEST\nfi\n])\ntest \"$cf_cv_mixedcase\" = yes && AC_DEFINE(MIXEDCASE_FILENAMES,1,[Define to 1 if filesystem supports mixed-case filenames.])\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_MKSTEMP version: 11 updated: 2021/01/01 13:31:04\ndnl ----------\ndnl Check for a working mkstemp.  This creates two files, checks that they are\ndnl successfully created and distinct (AmigaOS apparently fails on the last).\nAC_DEFUN([CF_MKSTEMP],[\nAC_CHECK_HEADERS( \\\nunistd.h \\\n)\nAC_CACHE_CHECK(for working mkstemp, cf_cv_func_mkstemp,[\nrm -rf ./conftest*\nAC_TRY_RUN([\n#include <sys/types.h>\n#ifdef HAVE_UNISTD_H\n#include <unistd.h>\n#endif\n#include <stdlib.h>\n#include <stdio.h>\n#include <string.h>\n#include <sys/stat.h>\nint main(void)\n{\n\tchar *tmpl = \"conftestXXXXXX\";\n\tchar name[2][80];\n\tint n;\n\tint result = 0;\n\tint fd;\n\tstruct stat sb;\n\n\tumask(077);\n\tfor (n = 0; n < 2; ++n) {\n\t\tstrcpy(name[n], tmpl);\n\t\tif ((fd = mkstemp(name[n])) >= 0) {\n\t\t\tif (!strcmp(name[n], tmpl)\n\t\t\t || stat(name[n], &sb) != 0\n\t\t\t || (sb.st_mode & S_IFMT) != S_IFREG\n\t\t\t || (sb.st_mode & 077) != 0) {\n\t\t\t\tresult = 1;\n\t\t\t}\n\t\t\tclose(fd);\n\t\t}\n\t}\n\tif (result == 0\n\t && !strcmp(name[0], name[1]))\n\t\tresult = 1;\n\t${cf_cv_main_return:-return}(result);\n}\n],[cf_cv_func_mkstemp=yes\n],[cf_cv_func_mkstemp=no\n],[cf_cv_func_mkstemp=maybe])\n])\nif test \"x$cf_cv_func_mkstemp\" = xmaybe ; then\n\tAC_CHECK_FUNC(mkstemp)\nfi\nif test \"x$cf_cv_func_mkstemp\" = xyes || test \"x$ac_cv_func_mkstemp\" = xyes ; then\n\tAC_DEFINE(HAVE_MKSTEMP,1,[Define to 1 if mkstemp() is available and working.])\nfi\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_MSG_LOG version: 5 updated: 2010/10/23 15:52:32\ndnl ----------\ndnl Write a debug message to config.log, along with the line number in the\ndnl configure script.\nAC_DEFUN([CF_MSG_LOG],[\necho \"${as_me:-configure}:__oline__: testing $* ...\" 1>&AC_FD_CC\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_NCURSES_ADDON version: 6 updated: 2021/01/04 19:33:05\ndnl ----------------\ndnl Configure an ncurses add-on, built outside the ncurses tree.\nAC_DEFUN([CF_NCURSES_ADDON],[\nAC_REQUIRE([CF_NCURSES_CONFIG])\n\nAC_PROVIDE([CF_SUBST_NCURSES_VERSION])\n\nAC_MSG_CHECKING(if you want wide-character code)\nAC_ARG_ENABLE(widec,\n\t[  --enable-widec          compile with wide-char/UTF-8 code],\n\t[with_widec=$enableval],\n\t[with_widec=no])\nAC_MSG_RESULT($with_widec)\nif test \"$with_widec\" = yes ; then\n\tCF_UTF8_LIB\n\tCF_NCURSES_CONFIG(ncursesw)\nelse\n\tCF_NCURSES_CONFIG(ncurses)\nfi\n\nif test \"$NCURSES_CONFIG_PKG\" != none ; then\n\tcf_version=`$PKG_CONFIG --modversion $NCURSES_CONFIG_PKG 2>/dev/null`\n\n\tNCURSES_MAJOR=`echo \"$cf_version\" | sed -e 's/\\..*//'`\n\tNCURSES_MINOR=`echo \"$cf_version\" | sed -e 's/^[[0-9]][[0-9]]*\\.//' -e 's/\\..*//'`\n\tNCURSES_PATCH=`echo \"$cf_version\" | sed -e 's/^[[0-9]][[0-9]]*\\.[[0-9]][[0-9]]*\\.//'`\n\n\tcf_cv_abi_version=`$PKG_CONFIG --variable=abi_version $NCURSES_CONFIG_PKG 2>/dev/null`\n\tif test -z \"$cf_cv_abi_version\"\n\tthen\n\t\tcf_cv_abi_version=`$PKG_CONFIG --variable=major_version $NCURSES_CONFIG_PKG 2>/dev/null`\n\tfi\n\nelif test \"$NCURSES_CONFIG\" != none ; then\n\n\tcf_version=`$NCURSES_CONFIG --version 2>/dev/null`\n\n\tNCURSES_MAJOR=`echo \"$cf_version\" | sed -e 's/\\..*//'`\n\tNCURSES_MINOR=`echo \"$cf_version\" | sed -e 's/^[[0-9]][[0-9]]*\\.//' -e 's/\\..*//'`\n\tNCURSES_PATCH=`echo \"$cf_version\" | sed -e 's/^[[0-9]][[0-9]]*\\.[[0-9]][[0-9]]*\\.//'`\n\n\t# ABI version is not available from headers\n\tcf_cv_abi_version=`$NCURSES_CONFIG --abi-version 2>/dev/null`\n\nelse\n\n\tfor cf_name in MAJOR MINOR PATCH\n\tdo\n\tcat >conftest.$ac_ext <<CF_EOF\n\t#include <${cf_cv_ncurses_header:-curses.h}>\n\tAUTOCONF_$cf_name NCURSES_VERSION_$cf_name\nCF_EOF\n\t\tcf_try=\"$ac_cpp conftest.$ac_ext 2>&5 | fgrep AUTOCONF_$cf_name >conftest.out\"\n\t\tAC_TRY_EVAL(cf_try)\n\t\tif test -f conftest.out ; then\n\t\t\tcf_result=`sed -e \"s/^.*AUTOCONF_${cf_name}[[ \t]][[ \t]]*//\" conftest.out`\n\t\t\teval NCURSES_$cf_name=\\\"$cf_result\\\"\n\t\t\t# cat conftest.$ac_ext\n\t\t\t# cat conftest.out\n\t\tfi\n\tdone\n\n\tcf_cv_abi_version=${NCURSES_MAJOR}\n\nfi\n\ncf_cv_rel_version=${NCURSES_MAJOR}.${NCURSES_MINOR}\n\ndnl Show the computed version, for logging\ncf_cv_timestamp=`date`\n\nAC_MSG_RESULT(Configuring NCURSES $cf_cv_rel_version ABI $cf_cv_abi_version ($cf_cv_timestamp))\n\ndnl We need these values in the generated headers\nAC_SUBST(NCURSES_MAJOR)\nAC_SUBST(NCURSES_MINOR)\nAC_SUBST(NCURSES_PATCH)\n\ndnl We need these values in the generated makefiles\nAC_SUBST(cf_cv_rel_version)\nAC_SUBST(cf_cv_abi_version)\n\ndnl FIXME - not needed for Ada95\nAC_SUBST(cf_cv_builtin_bool)\nAC_SUBST(cf_cv_header_stdbool_h)\nAC_SUBST(cf_cv_type_of_bool)dnl\n\n])\ndnl ---------------------------------------------------------------------------\ndnl CF_NCURSES_CC_CHECK version: 5 updated: 2020/12/31 20:19:42\ndnl -------------------\ndnl Check if we can compile with ncurses' header file\ndnl $1 is the cache variable to set\ndnl $2 is the header-file to include\ndnl $3 is the root name (ncurses or ncursesw)\nAC_DEFUN([CF_NCURSES_CC_CHECK],[\n\tAC_TRY_COMPILE([\n]ifelse($3,ncursesw,[\n#define _XOPEN_SOURCE_EXTENDED\n#undef  HAVE_LIBUTF8_H\t/* in case we used CF_UTF8_LIB */\n#define HAVE_LIBUTF8_H\t/* to force ncurses' header file to use cchar_t */\n])[\n#include <$2>],[\n#ifdef NCURSES_VERSION\n]ifelse($3,ncursesw,[\n#ifndef WACS_BSSB\n\tmake an error\n#endif\n])[\nprintf(\"%s\\\\n\", NCURSES_VERSION);\n#else\n#ifdef __NCURSES_H\nprintf(\"old\\\\n\");\n#else\n\tmake an error\n#endif\n#endif\n\t]\n\t,[$1=$2]\n\t,[$1=no])\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_NCURSES_CONFIG version: 28 updated: 2021/08/28 15:20:37\ndnl -----------------\ndnl Tie together the configure-script macros for ncurses, preferring these in\ndnl order:\ndnl a) \".pc\" files for pkg-config, using $NCURSES_CONFIG_PKG\ndnl b) the \"-config\" script from ncurses, using $NCURSES_CONFIG\ndnl c) just plain libraries\ndnl\ndnl $1 is the root library name (default: \"ncurses\")\nAC_DEFUN([CF_NCURSES_CONFIG],[\nAC_REQUIRE([CF_PKG_CONFIG])\ncf_ncuconfig_root=ifelse($1,,ncurses,$1)\ncf_have_ncuconfig=no\n\nif test \"x${PKG_CONFIG:=none}\" != xnone; then\n\tAC_MSG_CHECKING(pkg-config for $cf_ncuconfig_root)\n\tif \"$PKG_CONFIG\" --exists $cf_ncuconfig_root ; then\n\t\tAC_MSG_RESULT(yes)\n\n\t\tAC_MSG_CHECKING(if the $cf_ncuconfig_root package files work)\n\t\tcf_have_ncuconfig=unknown\n\n\t\tcf_save_CFLAGS=\"$CFLAGS\"\n\t\tcf_save_CPPFLAGS=\"$CPPFLAGS\"\n\t\tcf_save_LIBS=\"$LIBS\"\n\n\t\tcf_pkg_cflags=\"`$PKG_CONFIG --cflags $cf_ncuconfig_root`\"\n\t\tcf_pkg_libs=\"`$PKG_CONFIG --libs $cf_ncuconfig_root`\"\n\n\t\t# while -W for passing linker flags is prevalent, it is not \"standard\".\n\t\t# At least one wrapper for c89/c99 (in Apple's xcode) has its own\n\t\t# incompatible _and_ non-standard -W option which gives an error.  Work\n\t\t# around that pitfall.\n\t\tcase \"x${CC}@@${cf_pkg_libs}@${cf_pkg_cflags}\" in\n\t\t(x*c[[89]]9@@*-W*)\n\t\t\tCF_ADD_CFLAGS($cf_pkg_cflags)\n\t\t\tCF_ADD_LIBS($cf_pkg_libs)\n\n\t\t\tAC_TRY_LINK([#include <${cf_cv_ncurses_header:-curses.h}>],\n\t\t\t\t[initscr(); mousemask(0,0); tigetstr((char *)0);],\n\t\t\t\t[AC_TRY_RUN([#include <${cf_cv_ncurses_header:-curses.h}>\n\t\t\t\t\tint main(void)\n\t\t\t\t\t{ const char *xx = curses_version(); return (xx == 0); }],\n\t\t\t\t\t[cf_test_ncuconfig=yes],\n\t\t\t\t\t[cf_test_ncuconfig=no],\n\t\t\t\t\t[cf_test_ncuconfig=maybe])],\n\t\t\t\t[cf_test_ncuconfig=no])\n\n\t\t\tCFLAGS=\"$cf_save_CFLAGS\"\n\t\t\tCPPFLAGS=\"$cf_save_CPPFLAGS\"\n\t\t\tLIBS=\"$cf_save_LIBS\"\n\n\t\t\tif test \"x$cf_test_ncuconfig\" != xyes; then\n\t\t\t\tcf_temp=`echo \"x$cf_pkg_cflags\" | sed -e s/^x// -e 's/-W[[^ \t]]*//g'`\n\t\t\t\tcf_pkg_cflags=\"$cf_temp\"\n\t\t\t\tcf_temp=`echo \"x$cf_pkg_libs\" | sed -e s/^x// -e 's/-W[[^ \t]]*//g'`\n\t\t\t\tcf_pkg_libs=\"$cf_temp\"\n\t\t\tfi\n\t\t\t;;\n\t\tesac\n\n\t\tCF_APPEND_CFLAGS($cf_pkg_cflags)\n\t\tCF_ADD_LIBS($cf_pkg_libs)\n\n\t\tAC_TRY_LINK([#include <${cf_cv_ncurses_header:-curses.h}>],\n\t\t\t[initscr(); mousemask(0,0); tigetstr((char *)0);],\n\t\t\t[AC_TRY_RUN([#include <${cf_cv_ncurses_header:-curses.h}>\n\t\t\t\tint main(void)\n\t\t\t\t{ const char *xx = curses_version(); return (xx == 0); }],\n\t\t\t\t[cf_have_ncuconfig=yes],\n\t\t\t\t[cf_have_ncuconfig=no],\n\t\t\t\t[cf_have_ncuconfig=maybe])],\n\t\t\t[cf_have_ncuconfig=no])\n\t\tAC_MSG_RESULT($cf_have_ncuconfig)\n\t\ttest \"$cf_have_ncuconfig\" = maybe && cf_have_ncuconfig=yes\n\t\tif test \"$cf_have_ncuconfig\" != \"yes\"\n\t\tthen\n\t\t\tCPPFLAGS=\"$cf_save_CPPFLAGS\"\n\t\t\tLIBS=\"$cf_save_LIBS\"\n\t\t\tNCURSES_CONFIG_PKG=none\n\t\telse\n\t\t\tAC_DEFINE(NCURSES,1,[Define to 1 if we are using ncurses headers/libraries])\n\t\t\tNCURSES_CONFIG_PKG=$cf_ncuconfig_root\n\t\t\tCF_TERM_HEADER\n\t\tfi\n\n\telse\n\t\tAC_MSG_RESULT(no)\n\t\tNCURSES_CONFIG_PKG=none\n\tfi\nelse\n\tNCURSES_CONFIG_PKG=none\nfi\n\nif test \"x$cf_have_ncuconfig\" = \"xno\"; then\n\tcf_ncurses_config=\"${cf_ncuconfig_root}${NCURSES_CONFIG_SUFFIX}-config\"; echo \"Looking for ${cf_ncurses_config}\"\n\n\tCF_ACVERSION_CHECK(2.52,\n\t\t[AC_CHECK_TOOLS(NCURSES_CONFIG, ${cf_ncurses_config} ${cf_ncuconfig_root}6-config ${cf_ncuconfig_root}6-config ${cf_ncuconfig_root}5-config, none)],\n\t\t[AC_PATH_PROGS(NCURSES_CONFIG,  ${cf_ncurses_config} ${cf_ncuconfig_root}6-config ${cf_ncuconfig_root}6-config ${cf_ncuconfig_root}5-config, none)])\n\n\tif test \"$NCURSES_CONFIG\" != none ; then\n\n\t\tCF_APPEND_CFLAGS(`$NCURSES_CONFIG --cflags`)\n\t\tCF_ADD_LIBS(`$NCURSES_CONFIG --libs`)\n\n\t\t# even with config script, some packages use no-override for curses.h\n\t\tCF_CURSES_HEADER(ifelse($1,,ncurses,$1))\n\n\t\tdnl like CF_NCURSES_CPPFLAGS\n\t\tAC_DEFINE(NCURSES,1,[Define to 1 if we are using ncurses headers/libraries])\n\n\t\tdnl like CF_NCURSES_LIBS\n\t\tCF_UPPER(cf_nculib_ROOT,HAVE_LIB$cf_ncuconfig_root)\n\t\tAC_DEFINE_UNQUOTED($cf_nculib_ROOT)\n\n\t\tdnl like CF_NCURSES_VERSION\n\t\tcf_cv_ncurses_version=\"`$NCURSES_CONFIG --version`\"\n\n\telse\n\n\t\tCF_NCURSES_CPPFLAGS(ifelse($1,,ncurses,$1))\n\t\tCF_NCURSES_LIBS(ifelse($1,,ncurses,$1))\n\n\tfi\nelse\n\tNCURSES_CONFIG=none\nfi\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_NCURSES_CPPFLAGS version: 22 updated: 2021/01/02 09:31:20\ndnl -------------------\ndnl Look for the SVr4 curses clone 'ncurses' in the standard places, adjusting\ndnl the CPPFLAGS variable so we can include its header.\ndnl\ndnl The header files may be installed as either curses.h, or ncurses.h (would\ndnl be obsolete, except that some packagers prefer this name to distinguish it\ndnl from a \"native\" curses implementation).  If not installed for overwrite,\ndnl the curses.h file would be in an ncurses subdirectory (e.g.,\ndnl /usr/include/ncurses), but someone may have installed overwriting the\ndnl vendor's curses.  Only very old versions (pre-1.9.2d, the first autoconf'd\ndnl version) of ncurses don't define either __NCURSES_H or NCURSES_VERSION in\ndnl the header.\ndnl\ndnl If the installer has set $CFLAGS or $CPPFLAGS so that the ncurses header\ndnl is already in the include-path, don't even bother with this, since we cannot\ndnl easily determine which file it is.  In this case, it has to be <curses.h>.\ndnl\ndnl The optional parameter gives the root name of the library, in case it is\ndnl not installed as the default curses library.  That is how the\ndnl wide-character version of ncurses is installed.\nAC_DEFUN([CF_NCURSES_CPPFLAGS],\n[AC_REQUIRE([CF_WITH_CURSES_DIR])\n\nAC_PROVIDE([CF_CURSES_CPPFLAGS])dnl\ncf_ncuhdr_root=ifelse($1,,ncurses,$1)\n\ntest -n \"$cf_cv_curses_dir\" && \\\ntest \"$cf_cv_curses_dir\" != \"no\" && { \\\n  CF_ADD_INCDIR($cf_cv_curses_dir/include/$cf_ncuhdr_root)\n}\n\nAC_CACHE_CHECK(for $cf_ncuhdr_root header in include-path, cf_cv_ncurses_h,[\n\tcf_header_list=\"$cf_ncuhdr_root/curses.h $cf_ncuhdr_root/ncurses.h\"\n\t{ test \"$cf_ncuhdr_root\" = ncurses || test \"$cf_ncuhdr_root\" = ncursesw; } && cf_header_list=\"$cf_header_list curses.h ncurses.h\"\n\tfor cf_header in $cf_header_list\n\tdo\n\t\tCF_NCURSES_CC_CHECK(cf_cv_ncurses_h,$cf_header,$1)\n\t\ttest \"$cf_cv_ncurses_h\" != no && break\n\tdone\n])\n\nCF_NCURSES_HEADER\nCF_TERM_HEADER\n\n# some applications need this, but should check for NCURSES_VERSION\nAC_DEFINE(NCURSES,1,[Define to 1 if we are using ncurses headers/libraries])\n\nCF_NCURSES_VERSION\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_NCURSES_HEADER version: 7 updated: 2021/01/04 19:33:05\ndnl -----------------\ndnl Find a \"curses\" header file, e.g,. \"curses.h\", or one of the more common\ndnl variations of ncurses' installs.\ndnl\ndnl See also CF_CURSES_HEADER, which sets the same cache variable.\nAC_DEFUN([CF_NCURSES_HEADER],[\n\nif test \"$cf_cv_ncurses_h\" != no ; then\n\tcf_cv_ncurses_header=$cf_cv_ncurses_h\nelse\n\nAC_CACHE_CHECK(for $cf_ncuhdr_root include-path, cf_cv_ncurses_h2,[\n\ttest -n \"$verbose\" && echo\n\tCF_HEADER_PATH(cf_search,$cf_ncuhdr_root)\n\ttest -n \"$verbose\" && echo \"search path $cf_search\"\n\tcf_save2_CPPFLAGS=\"$CPPFLAGS\"\n\tfor cf_incdir in $cf_search\n\tdo\n\t\tCF_ADD_INCDIR($cf_incdir)\n\t\tfor cf_header in \\\n\t\t\tncurses.h \\\n\t\t\tcurses.h\n\t\tdo\n\t\t\tCF_NCURSES_CC_CHECK(cf_cv_ncurses_h2,$cf_header,$1)\n\t\t\tif test \"$cf_cv_ncurses_h2\" != no ; then\n\t\t\t\tcf_cv_ncurses_h2=$cf_incdir/$cf_header\n\t\t\t\ttest -n \"$verbose\" && echo $ECHO_N \"\t... found $ECHO_C\" 1>&AC_FD_MSG\n\t\t\t\tbreak\n\t\t\tfi\n\t\t\ttest -n \"$verbose\" && echo \"\t... tested $cf_incdir/$cf_header\" 1>&AC_FD_MSG\n\t\tdone\n\t\tCPPFLAGS=\"$cf_save2_CPPFLAGS\"\n\t\ttest \"$cf_cv_ncurses_h2\" != no && break\n\tdone\n\ttest \"$cf_cv_ncurses_h2\" = no && AC_MSG_ERROR(not found)\n\t])\n\n\tCF_DIRNAME(cf_1st_incdir,$cf_cv_ncurses_h2)\n\tcf_cv_ncurses_header=\"`basename \"$cf_cv_ncurses_h2\"`\"\n\tif test \"`basename \"$cf_1st_incdir\"`\" = \"$cf_ncuhdr_root\" ; then\n\t\tcf_cv_ncurses_header=\"$cf_ncuhdr_root/$cf_cv_ncurses_header\"\n\tfi\n\tCF_ADD_INCDIR($cf_1st_incdir)\n\nfi\n\n# Set definitions to allow ifdef'ing for ncurses.h\n\ncase \"$cf_cv_ncurses_header\" in\n(*ncurses.h)\n\tAC_DEFINE(HAVE_NCURSES_H,1,[Define to 1 if we have ncurses.h])\n\t;;\nesac\n\ncase \"$cf_cv_ncurses_header\" in\n(ncurses/curses.h|ncurses/ncurses.h)\n\tAC_DEFINE(HAVE_NCURSES_NCURSES_H,1,[Define to 1 if we have ncurses/ncurses.h])\n\t;;\n(ncursesw/curses.h|ncursesw/ncurses.h)\n\tAC_DEFINE(HAVE_NCURSESW_NCURSES_H,1,[Define to 1 if we have ncursesw/ncurses.h])\n\t;;\nesac\n\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_NCURSES_LIBS version: 21 updated: 2021/09/04 06:37:12\ndnl ---------------\ndnl Look for the ncurses library.  This is a little complicated on Linux,\ndnl because it may be linked with the gpm (general purpose mouse) library.\ndnl Some distributions have gpm linked with (bsd) curses, which makes it\ndnl unusable with ncurses.  However, we don't want to link with gpm unless\ndnl ncurses has a dependency, since gpm is normally set up as a shared library,\ndnl and the linker will record a dependency.\ndnl\ndnl The optional parameter gives the root name of the library, in case it is\ndnl not installed as the default curses library.  That is how the\ndnl wide-character version of ncurses is installed.\nAC_DEFUN([CF_NCURSES_LIBS],\n[AC_REQUIRE([CF_NCURSES_CPPFLAGS])\n\ncf_nculib_root=ifelse($1,,ncurses,$1)\n\t# This works, except for the special case where we find gpm, but\n\t# ncurses is in a nonstandard location via $LIBS, and we really want\n\t# to link gpm.\ncf_ncurses_LIBS=\"\"\ncf_ncurses_SAVE=\"$LIBS\"\nAC_CHECK_LIB(gpm,Gpm_Open,\n\t[AC_CHECK_LIB(gpm,initscr,\n\t\t[LIBS=\"$cf_ncurses_SAVE\"],\n\t\t[cf_ncurses_LIBS=\"-lgpm\"])])\n\ncase \"$host_os\" in\n(freebsd*)\n\t# This is only necessary if you are linking against an obsolete\n\t# version of ncurses (but it should do no harm, since it is static).\n\tif test \"$cf_nculib_root\" = ncurses ; then\n\t\tAC_CHECK_LIB(mytinfo,tgoto,[cf_ncurses_LIBS=\"-lmytinfo $cf_ncurses_LIBS\"])\n\tfi\n\t;;\nesac\n\nCF_ADD_LIBS($cf_ncurses_LIBS)\n\nif test -n \"$cf_cv_curses_dir\" && test \"$cf_cv_curses_dir\" != \"no\"\nthen\n\tCF_ADD_LIBS(-l$cf_nculib_root)\nelse\n\tCF_FIND_LIBRARY($cf_nculib_root,$cf_nculib_root,\n\t\t[#include <${cf_cv_ncurses_header:-curses.h}>],\n\t\t[initscr()],\n\t\tinitscr)\nfi\n\nif test -n \"$cf_ncurses_LIBS\" ; then\n\tAC_MSG_CHECKING(if we can link $cf_nculib_root without $cf_ncurses_LIBS)\n\tcf_ncurses_SAVE=\"$LIBS\"\n\tfor p in $cf_ncurses_LIBS ; do\n\t\tq=`echo \"$LIBS\" | sed -e \"s%$p %%\" -e \"s%$p$%%\"`\n\t\tif test \"$q\" != \"$LIBS\" ; then\n\t\t\tLIBS=\"$q\"\n\t\tfi\n\tdone\n\tAC_TRY_LINK([#include <${cf_cv_ncurses_header:-curses.h}>],\n\t\t[initscr(); mousemask(0,0); tigetstr((char *)0);],\n\t\t[AC_MSG_RESULT(yes)],\n\t\t[AC_MSG_RESULT(no)\n\t\t LIBS=\"$cf_ncurses_SAVE\"])\nfi\n\nCF_UPPER(cf_nculib_ROOT,HAVE_LIB$cf_nculib_root)\nAC_DEFINE_UNQUOTED($cf_nculib_ROOT)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_NCURSES_VERSION version: 16 updated: 2020/12/31 20:19:42\ndnl ------------------\ndnl Check for the version of ncurses, to aid in reporting bugs, etc.\ndnl Call CF_CURSES_CPPFLAGS first, or CF_NCURSES_CPPFLAGS.  We don't use\ndnl AC_REQUIRE since that does not work with the shell's if/then/else/fi.\nAC_DEFUN([CF_NCURSES_VERSION],\n[\nAC_REQUIRE([CF_CURSES_CPPFLAGS])dnl\nAC_CACHE_CHECK(for ncurses version, cf_cv_ncurses_version,[\n\tcf_cv_ncurses_version=no\n\tcf_tempfile=out$$\n\trm -f \"$cf_tempfile\"\n\tAC_TRY_RUN([\n#include <${cf_cv_ncurses_header:-curses.h}>\n#include <stdio.h>\nint main(void)\n{\n\tFILE *fp = fopen(\"$cf_tempfile\", \"w\");\n#ifdef NCURSES_VERSION\n# ifdef NCURSES_VERSION_PATCH\n\tfprintf(fp, \"%s.%d\\\\n\", NCURSES_VERSION, NCURSES_VERSION_PATCH);\n# else\n\tfprintf(fp, \"%s\\\\n\", NCURSES_VERSION);\n# endif\n#else\n# ifdef __NCURSES_H\n\tfprintf(fp, \"old\\\\n\");\n# else\n\tmake an error\n# endif\n#endif\n\t${cf_cv_main_return:-return}(0);\n}],[\n\tcf_cv_ncurses_version=`cat $cf_tempfile`],,[\n\n\t# This will not work if the preprocessor splits the line after the\n\t# Autoconf token.  The 'unproto' program does that.\n\tcat > \"conftest.$ac_ext\" <<EOF\n#include <${cf_cv_ncurses_header:-curses.h}>\n#undef Autoconf\n#ifdef NCURSES_VERSION\nAutoconf NCURSES_VERSION\n#else\n#ifdef __NCURSES_H\nAutoconf \"old\"\n#endif\n;\n#endif\nEOF\n\tcf_try=\"$ac_cpp conftest.$ac_ext 2>&AC_FD_CC | grep '^Autoconf ' >conftest.out\"\n\tAC_TRY_EVAL(cf_try)\n\tif test -f conftest.out ; then\n\t\tcf_out=`sed -e 's%^Autoconf %%' -e 's%^[[^\"]]*\"%%' -e 's%\".*%%' conftest.out`\n\t\ttest -n \"$cf_out\" && cf_cv_ncurses_version=\"$cf_out\"\n\t\trm -f conftest.out\n\tfi\n])\n\trm -f \"$cf_tempfile\"\n])\ntest \"$cf_cv_ncurses_version\" = no || AC_DEFINE(NCURSES,1,[Define to 1 if we are using ncurses headers/libraries])\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_OBJ_SUBDIR version: 8 updated: 2021/01/01 13:31:04\ndnl -------------\ndnl Compute the object-directory name from the given model name\nAC_DEFUN([CF_OBJ_SUBDIR],\n[\n\tcase $1 in\n\t(libtool) $2='obj_lo'  ;;\n\t(normal)  $2='objects' ;;\n\t(debug)   $2='obj_g' ;;\n\t(profile) $2='obj_p' ;;\n\t(shared)\n\t\tcase \"$cf_cv_system_name\" in\n\t\t(cygwin|msys)\n\t\t\t$2='objects' ;;\n\t\t(*)\n\t\t\t$2='obj_s' ;;\n\t\tesac\n\tesac\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_PATHSEP version: 8 updated: 2021/01/01 13:31:04\ndnl ----------\ndnl Provide a value for the $PATH and similar separator (or amend the value\ndnl as provided in autoconf 2.5x).\nAC_DEFUN([CF_PATHSEP],\n[\n\tAC_MSG_CHECKING(for PATH separator)\n\tcase \"$cf_cv_system_name\" in\n\t(os2*)\tPATH_SEPARATOR=';'  ;;\n\t(*)\t${PATH_SEPARATOR:=':'}  ;;\n\tesac\nifelse([$1],,,[$1=$PATH_SEPARATOR])\n\tAC_SUBST(PATH_SEPARATOR)\n\tAC_MSG_RESULT($PATH_SEPARATOR)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_PATH_SYNTAX version: 18 updated: 2020/12/31 18:40:20\ndnl --------------\ndnl Check the argument to see that it looks like a pathname.  Rewrite it if it\ndnl begins with one of the prefix/exec_prefix variables, and then again if the\ndnl result begins with 'NONE'.  This is necessary to work around autoconf's\ndnl delayed evaluation of those symbols.\nAC_DEFUN([CF_PATH_SYNTAX],[\nif test \"x$prefix\" != xNONE; then\n\tcf_path_syntax=\"$prefix\"\nelse\n\tcf_path_syntax=\"$ac_default_prefix\"\nfi\n\ncase \".[$]$1\" in\n(.\\[$]\\(*\\)*|.\\'*\\'*)\n\t;;\n(..|./*|.\\\\*)\n\t;;\n(.[[a-zA-Z]]:[[\\\\/]]*) # OS/2 EMX\n\t;;\n(.\\[$]\\{*prefix\\}*|.\\[$]\\{*dir\\}*)\n\teval $1=\"[$]$1\"\n\tcase \".[$]$1\" in\n\t(.NONE/*)\n\t\t$1=`echo \"[$]$1\" | sed -e s%NONE%$cf_path_syntax%`\n\t\t;;\n\tesac\n\t;;\n(.no|.NONE/*)\n\t$1=`echo \"[$]$1\" | sed -e s%NONE%$cf_path_syntax%`\n\t;;\n(*)\n\tifelse([$2],,[AC_MSG_ERROR([expected a pathname, not \\\"[$]$1\\\"])],$2)\n\t;;\nesac\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_PKG_CONFIG version: 12 updated: 2021/10/10 20:18:09\ndnl -------------\ndnl Check for the package-config program, unless disabled by command-line.\ndnl\ndnl Sets $PKG_CONFIG to the pathname of the pkg-config program.\nAC_DEFUN([CF_PKG_CONFIG],\n[\nAC_MSG_CHECKING(if you want to use pkg-config)\nAC_ARG_WITH(pkg-config,\n\t[  --with-pkg-config{=path} enable/disable use of pkg-config],\n\t[cf_pkg_config=$withval],\n\t[cf_pkg_config=yes])\nAC_MSG_RESULT($cf_pkg_config)\n\ncase \"$cf_pkg_config\" in\n(no)\n\tPKG_CONFIG=none\n\t;;\n(yes)\n\tCF_ACVERSION_CHECK(2.52,\n\t\t[AC_PATH_TOOL(PKG_CONFIG, pkg-config, none)],\n\t\t[AC_PATH_PROG(PKG_CONFIG, pkg-config, none)])\n\t;;\n(*)\n\tPKG_CONFIG=$withval\n\t;;\nesac\n\ntest -z \"$PKG_CONFIG\" && PKG_CONFIG=none\nif test \"$PKG_CONFIG\" != none ; then\n\tCF_PATH_SYNTAX(PKG_CONFIG)\nelif test \"x$cf_pkg_config\" != xno ; then\n\tAC_MSG_WARN(pkg-config is not installed)\nfi\n\nAC_SUBST(PKG_CONFIG)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_POSIX_C_SOURCE version: 11 updated: 2018/12/31 20:46:17\ndnl -----------------\ndnl Define _POSIX_C_SOURCE to the given level, and _POSIX_SOURCE if needed.\ndnl\ndnl\tPOSIX.1-1990\t\t\t\t_POSIX_SOURCE\ndnl\tPOSIX.1-1990 and\t\t\t_POSIX_SOURCE and\ndnl\t\tPOSIX.2-1992 C-Language\t\t\t_POSIX_C_SOURCE=2\ndnl\t\tBindings Option\ndnl\tPOSIX.1b-1993\t\t\t\t_POSIX_C_SOURCE=199309L\ndnl\tPOSIX.1c-1996\t\t\t\t_POSIX_C_SOURCE=199506L\ndnl\tX/Open 2000\t\t\t\t_POSIX_C_SOURCE=200112L\ndnl\ndnl Parameters:\ndnl\t$1 is the nominal value for _POSIX_C_SOURCE\nAC_DEFUN([CF_POSIX_C_SOURCE],\n[AC_REQUIRE([CF_POSIX_VISIBLE])dnl\n\nif test \"$cf_cv_posix_visible\" = no; then\n\ncf_POSIX_C_SOURCE=ifelse([$1],,199506L,[$1])\n\ncf_save_CFLAGS=\"$CFLAGS\"\ncf_save_CPPFLAGS=\"$CPPFLAGS\"\n\nCF_REMOVE_DEFINE(cf_trim_CFLAGS,$cf_save_CFLAGS,_POSIX_C_SOURCE)\nCF_REMOVE_DEFINE(cf_trim_CPPFLAGS,$cf_save_CPPFLAGS,_POSIX_C_SOURCE)\n\nAC_CACHE_CHECK(if we should define _POSIX_C_SOURCE,cf_cv_posix_c_source,[\n\tCF_MSG_LOG(if the symbol is already defined go no further)\n\tAC_TRY_COMPILE([#include <sys/types.h>],[\n#ifndef _POSIX_C_SOURCE\nmake an error\n#endif],\n\t[cf_cv_posix_c_source=no],\n\t[cf_want_posix_source=no\n\t case .$cf_POSIX_C_SOURCE in\n\t (.[[12]]??*)\n\t\tcf_cv_posix_c_source=\"-D_POSIX_C_SOURCE=$cf_POSIX_C_SOURCE\"\n\t\t;;\n\t (.2)\n\t\tcf_cv_posix_c_source=\"-D_POSIX_C_SOURCE=$cf_POSIX_C_SOURCE\"\n\t\tcf_want_posix_source=yes\n\t\t;;\n\t (.*)\n\t\tcf_want_posix_source=yes\n\t\t;;\n\t esac\n\t if test \"$cf_want_posix_source\" = yes ; then\n\t\tAC_TRY_COMPILE([#include <sys/types.h>],[\n#ifdef _POSIX_SOURCE\nmake an error\n#endif],[],\n\t\tcf_cv_posix_c_source=\"$cf_cv_posix_c_source -D_POSIX_SOURCE\")\n\t fi\n\t CF_MSG_LOG(ifdef from value $cf_POSIX_C_SOURCE)\n\t CFLAGS=\"$cf_trim_CFLAGS\"\n\t CPPFLAGS=\"$cf_trim_CPPFLAGS\"\n\t CF_APPEND_TEXT(CPPFLAGS,$cf_cv_posix_c_source)\n\t CF_MSG_LOG(if the second compile does not leave our definition intact error)\n\t AC_TRY_COMPILE([#include <sys/types.h>],[\n#ifndef _POSIX_C_SOURCE\nmake an error\n#endif],,\n\t [cf_cv_posix_c_source=no])\n\t CFLAGS=\"$cf_save_CFLAGS\"\n\t CPPFLAGS=\"$cf_save_CPPFLAGS\"\n\t])\n])\n\nif test \"$cf_cv_posix_c_source\" != no ; then\n\tCFLAGS=\"$cf_trim_CFLAGS\"\n\tCPPFLAGS=\"$cf_trim_CPPFLAGS\"\n\tCF_ADD_CFLAGS($cf_cv_posix_c_source)\nfi\n\nfi # cf_cv_posix_visible\n\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_POSIX_VISIBLE version: 1 updated: 2018/12/31 20:46:17\ndnl ----------------\ndnl POSIX documents test-macros which an application may set before any system\ndnl headers are included to make features available.\ndnl\ndnl Some BSD platforms (originally FreeBSD, but copied by a few others)\ndnl diverged from POSIX in 2002 by setting symbols which make all of the most\ndnl recent features visible in the system header files unless the application\ndnl overrides the corresponding test-macros.  Doing that introduces portability\ndnl problems.\ndnl\ndnl This macro makes a special check for the symbols used for this, to avoid a\ndnl conflicting definition.\nAC_DEFUN([CF_POSIX_VISIBLE],\n[\nAC_CACHE_CHECK(if the POSIX test-macros are already defined,cf_cv_posix_visible,[\nAC_TRY_COMPILE([#include <stdio.h>],[\n#if defined(__POSIX_VISIBLE) && ((__POSIX_VISIBLE - 0L) > 0) \\\n\t&& defined(__XSI_VISIBLE) && ((__XSI_VISIBLE - 0L) > 0) \\\n\t&& defined(__BSD_VISIBLE) && ((__BSD_VISIBLE - 0L) > 0) \\\n\t&& defined(__ISO_C_VISIBLE) && ((__ISO_C_VISIBLE - 0L) > 0)\n#error conflicting symbols found\n#endif\n],[cf_cv_posix_visible=no],[cf_cv_posix_visible=yes])\n])\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_PROG_AR version: 1 updated: 2009/01/01 20:15:22\ndnl ----------\ndnl Check for archiver \"ar\".\nAC_DEFUN([CF_PROG_AR],[\nAC_CHECK_TOOL(AR, ar, ar)\n])\ndnl ---------------------------------------------------------------------------\ndnl CF_PROG_AWK version: 1 updated: 2006/09/16 11:40:59\ndnl -----------\ndnl Check for awk, ensure that the check found something.\nAC_DEFUN([CF_PROG_AWK],\n[\nAC_PROG_AWK\ntest -z \"$AWK\" && AC_MSG_ERROR(No awk program found)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_PROG_CC version: 5 updated: 2019/12/31 08:53:54\ndnl ----------\ndnl standard check for CC, plus followup sanity checks\ndnl $1 = optional parameter to pass to AC_PROG_CC to specify compiler name\nAC_DEFUN([CF_PROG_CC],[\nCF_ACVERSION_CHECK(2.53,\n\t[AC_MSG_WARN(this will incorrectly handle gnatgcc choice)\n\t AC_REQUIRE([AC_PROG_CC])],\n\t[])\nifelse($1,,[AC_PROG_CC],[AC_PROG_CC($1)])\nCF_GCC_VERSION\nCF_ACVERSION_CHECK(2.52,\n\t[AC_PROG_CC_STDC],\n\t[CF_ANSI_CC_REQD])\nCF_CC_ENV_FLAGS\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_PROG_CC_C_O version: 6 updated: 2021/01/01 13:31:04\ndnl --------------\ndnl Analogous to AC_PROG_CC_C_O, but more useful: tests only $CC, ensures that\ndnl the output file can be renamed, and allows for a shell variable that can\ndnl be used later.  The parameter is either CC or CXX.  The result is the\ndnl cache variable:\ndnl\t$cf_cv_prog_CC_c_o\ndnl\t$cf_cv_prog_CXX_c_o\ndnl\ndnl $1 = compiler\ndnl $2 = compiler options, if any\nAC_DEFUN([CF_PROG_CC_C_O],\n[AC_REQUIRE([AC_PROG_CC])dnl\nAC_MSG_CHECKING([whether [$]$1 understands -c and -o together])\nAC_CACHE_VAL(cf_cv_prog_$1_c_o,\n[\ncat > conftest.$ac_ext <<CF_EOF\nint main(void)\n{\n\t${cf_cv_main_return:-return}(0);\n}\nCF_EOF\n# We do the test twice because some compilers refuse to overwrite an\n# existing .o file with -o, though they will create one.\nac_try='[$]$1 $2 -c conftest.$ac_ext -o conftest2.$ac_objext >&AC_FD_CC'\nif AC_TRY_EVAL(ac_try) &&\n  test -f conftest2.$ac_objext && AC_TRY_EVAL(ac_try);\nthen\n  eval cf_cv_prog_$1_c_o=yes\nelse\n  eval cf_cv_prog_$1_c_o=no\nfi\nrm -rf ./conftest*\n])dnl\nif test \"$cf_cv_prog_$1_c_o\" = yes; then\n  AC_MSG_RESULT([yes])\nelse\n  AC_MSG_RESULT([no])\nfi\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_PROG_EGREP version: 2 updated: 2015/04/18 08:56:57\ndnl -------------\ndnl AC_PROG_EGREP was introduced in autoconf 2.53.\ndnl This macro adds a check to ensure the script found something.\nAC_DEFUN([CF_PROG_EGREP],\n[AC_CACHE_CHECK([for egrep], [ac_cv_prog_egrep],\n\t[if echo a | (grep -E '(a|b)') >/dev/null 2>&1\n\t\tthen ac_cv_prog_egrep='grep -E'\n\t\telse ac_cv_prog_egrep='egrep'\n\tfi])\n\tEGREP=$ac_cv_prog_egrep\n\tAC_SUBST([EGREP])\n\ttest -z \"$EGREP\" && AC_MSG_ERROR(No egrep program found)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_PROG_EXT version: 15 updated: 2021/01/02 09:31:20\ndnl -----------\ndnl Compute $PROG_EXT, used for non-Unix ports, such as OS/2 EMX.\nAC_DEFUN([CF_PROG_EXT],\n[\nAC_REQUIRE([CF_CHECK_CACHE])\ncase \"$cf_cv_system_name\" in\n(os2*)\n\tCFLAGS=\"$CFLAGS -Zmt\"\n\tCF_APPEND_TEXT(CPPFLAGS,-D__ST_MT_ERRNO__)\n\tCXXFLAGS=\"$CXXFLAGS -Zmt\"\n\t# autoconf's macro sets -Zexe and suffix both, which conflict:w\n\tLDFLAGS=\"$LDFLAGS -Zmt -Zcrtdll\"\n\tac_cv_exeext=.exe\n\t;;\nesac\n\nAC_EXEEXT\nAC_OBJEXT\n\nPROG_EXT=\"$EXEEXT\"\nAC_SUBST(PROG_EXT)\ntest -n \"$PROG_EXT\" && AC_DEFINE_UNQUOTED(PROG_EXT,\"$PROG_EXT\",[Define to the program extension (normally blank)])\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_PROG_GNAT version: 12 updated: 2021/01/02 17:09:14\ndnl ------------\ndnl Check for gnat/gnatmake/etc, ensure that the toolset is complete.\nAC_DEFUN([CF_PROG_GNAT],[\nfor cf_prog_gnat in gnat gnatmake gprconfig gprbuild\ndo\n\tCF_UPPER(cf_upper_prog_gnat,${cf_prog_gnat})\n\n\tunset ac_cv_path_cf_TEMP_gnat\n\tunset cf_TEMP_gnat\n\tAC_PATH_PROG(cf_TEMP_gnat,$cf_prog_gnat,no)\n\teval \"cf_cv_PATH_$cf_upper_prog_gnat=[$]ac_cv_path_cf_TEMP_gnat\"\n\n\tif test \"x$cf_TEMP_gnat\" != xno; then\n\t\tunset cf_cv_gnat_version\n\t\tunset cf_TEMP_gnat\n\t\tCF_GNAT_VERSION(cf_TEMP_gnat,$cf_prog_gnat)\n\tfi\n\teval \"cf_cv_VERSION_$cf_upper_prog_gnat=[$]cf_TEMP_gnat\"\n\n\tunset cf_TEMP_gnat\n\tunset cf_cv_gnat_version\n\tunset ac_cv_path_cf_TEMP_gnat\ndone\n\nif test \"x$cf_cv_VERSION_GNATMAKE\" = \"xno\"; then\n\tcf_ada_make=\n\tcf_cv_prog_gnat_correct=no\nelse\n\tcf_ada_make=gnatmake\n\tif test \"x$cf_cv_VERSION_GPRCONFIG\" = \"xno\"; then\n\t\t# gprconfig is newer than gnatmake; we can continue...\n\t\tcf_ada_config=\"##\"\n\telse\n\t\trm -rf ./conftest* ./*~conftest*\n\t\tif mkdir conftest.src\n\t\tthen\n\t\t\tcf_ada_config=\"\"\n\t\t\tcd conftest.src\n\t\t\tfor cf_gprconfig in Ada C\n\t\t\tdo\n\t\t\t\tAC_MSG_CHECKING(for gprconfig name for $cf_gprconfig)\n\t\t\t\tif test \"$cf_gprconfig\" = C\n\t\t\t\tthen\n\t\t\t\t\tfor cf_gprconfig_param in \\\n\t\t\t\t\t\t\"$cf_gprconfig,,,,GNATGCC\" \\\n\t\t\t\t\t\t\"$cf_gprconfig,,,,GCC\" \\\n\t\t\t\t\t\t\"$cf_gprconfig\"\n\t\t\t\t\tdo\n\t\t\t\t\t\tcf_gprconfig_value=`echo s| gprconfig --config=$cf_gprconfig_param 2>&AC_FD_CC | ${AWK:-awk} '/^\\*/{print [$]3;}' | head -n 1`\n\t\t\t\t\t\ttest -n \"$cf_gprconfig_value\" && break\n\t\t\t\t\tdone\n\t\t\t\telse\n\t\t\t\t\tcf_gprconfig_param=$cf_gprconfig\n\t\t\t\t\tcf_gprconfig_value=`echo s| gprconfig --config=$cf_gprconfig_param 2>&AC_FD_CC | ${AWK:-awk} '/^\\*/{print [$]3;}' | head -n 1`\n\t\t\t\tfi\n\t\t\t\tif test -n \"$cf_gprconfig_value\"\n\t\t\t\tthen\n\t\t\t\t\teval \"cf_ada_config_[$]cf_gprconfig=[$]cf_gprconfig_value\"\n\t\t\t\t\tAC_MSG_RESULT($cf_gprconfig_value)\n\t\t\t\telse\n\t\t\t\t\tAC_MSG_RESULT(missing)\n\t\t\t\t\tcf_ada_config=\"#\"\n\t\t\t\t\tbreak\n\t\t\t\tfi\n\t\t\tdone\n\t\t\tcd ..\n\t\t\trm -rf ./conftest* ./*~conftest*\n\t\tfi\n\tfi\n\tif test \"x$cf_ada_config\" != \"x#\"\n\tthen\n\t\tCF_GNAT_VERSION\n\t\tCF_CHECK_GNAT_VERSION\n\t\tAC_CHECK_PROG(M4_exists, m4, yes, no)\n\t\tif test \"$ac_cv_prog_M4_exists\" = no; then\n\t\t\tcf_cv_prog_gnat_correct=no\n\t\t\tAC_MSG_WARN(Ada95 binding required program m4 not found. Ada95 binding disabled)\n\t\tfi\n\t\tif test \"$cf_cv_prog_gnat_correct\" = yes; then\n\t\t\tAC_MSG_CHECKING(if GNAT works)\n\t\t\tCF_GNAT_TRY_RUN([procedure conftest;],\n[with Text_IO;\nwith GNAT.OS_Lib;\nprocedure conftest is\nbegin\n   Text_IO.Put (\"Hello World\");\n   Text_IO.New_Line;\n   GNAT.OS_Lib.OS_Exit (0);\nend conftest;],\n[cf_cv_prog_gnat_correct=yes],\n[cf_cv_prog_gnat_correct=no])\n\t\t\tAC_MSG_RESULT($cf_cv_prog_gnat_correct)\n\t\tfi\n\telse\n\t\tcf_cv_prog_gnat_correct=no\n\tfi\nfi\n\nAC_SUBST(cf_ada_make)\nAC_SUBST(cf_ada_config)\nAC_SUBST(cf_ada_config_Ada)\nAC_SUBST(cf_ada_config_C)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_PROG_INSTALL version: 10 updated: 2021/01/04 19:33:05\ndnl ---------------\ndnl Force $INSTALL to be an absolute-path.  Otherwise, edit_man.sh and the\ndnl misc/tabset install won't work properly.  Usually this happens only when\ndnl using the fallback mkinstalldirs script\nAC_DEFUN([CF_PROG_INSTALL],\n[AC_PROG_INSTALL\ncase $INSTALL in\n(/*)\n\t;;\n(*)\n\tCF_DIRNAME(cf_dir,$INSTALL)\n\ttest -z \"$cf_dir\" && cf_dir=.\n\tINSTALL=\"`cd \\\"$cf_dir\\\" && pwd`\"/\"`echo \"$INSTALL\" | sed -e 's%^.*/%%'`\"\n\t;;\nesac\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_PROG_LN_S version: 2 updated: 2010/08/14 18:25:37\ndnl ------------\ndnl Combine checks for \"ln -s\" and \"ln -sf\", updating $LN_S to include \"-f\"\ndnl option if it is supported.\nAC_DEFUN([CF_PROG_LN_S],[\nAC_PROG_LN_S\nAC_MSG_CHECKING(if $LN_S -f options work)\n\nrm -f conf$$.src conf$$dst\necho >conf$$.dst\necho first >conf$$.src\nif $LN_S -f conf$$.src conf$$.dst 2>/dev/null; then\n\tcf_prog_ln_sf=yes\nelse\n\tcf_prog_ln_sf=no\nfi\nrm -f conf$$.dst conf$$src\nAC_MSG_RESULT($cf_prog_ln_sf)\n\ntest \"$cf_prog_ln_sf\" = yes && LN_S=\"$LN_S -f\"\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_REMOVE_CFLAGS version: 3 updated: 2021/09/05 17:25:40\ndnl ----------------\ndnl Remove a given option from CFLAGS/CPPFLAGS\ndnl $1 = option to remove\ndnl $2 = variable to update\ndnl $3 = nonempty to allow verbose message\ndefine([CF_REMOVE_CFLAGS],\n[\ncf_tmp_cflag=`echo \"x$1\" | sed -e 's/^.//' -e 's/=.*//'`\nwhile true\ndo\n\tcf_old_cflag=`echo \"x[$]$2\" | sed -e 's/^.//' -e 's/[[ \t]][[ \t]]*-/ -/g' -e \"s%$cf_tmp_cflag\\\\(=[[^ \t]][[^ \t]]*\\\\)\\?%%\" -e 's/^[[ \t]]*//' -e 's%[[ ]][[ ]]*-D% -D%g' -e 's%[[ ]][[ ]]*-I% -I%g'`\n\ttest \"[$]$2\" != \"$cf_old_cflag\" || break\n\tifelse([$3],,,[CF_VERBOSE(removing old option $1 from $2)])\n\t$2=\"$cf_old_cflag\"\ndone\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_REMOVE_DEFINE version: 3 updated: 2010/01/09 11:05:50\ndnl ----------------\ndnl Remove all -U and -D options that refer to the given symbol from a list\ndnl of C compiler options.  This works around the problem that not all\ndnl compilers process -U and -D options from left-to-right, so a -U option\ndnl cannot be used to cancel the effect of a preceding -D option.\ndnl\ndnl $1 = target (which could be the same as the source variable)\ndnl $2 = source (including '$')\ndnl $3 = symbol to remove\ndefine([CF_REMOVE_DEFINE],\n[\n$1=`echo \"$2\" | \\\n\tsed\t-e 's/-[[UD]]'\"$3\"'\\(=[[^ \t]]*\\)\\?[[ \t]]/ /g' \\\n\t\t-e 's/-[[UD]]'\"$3\"'\\(=[[^ \t]]*\\)\\?[$]//g'`\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_REMOVE_LIB version: 1 updated: 2007/02/17 14:11:52\ndnl -------------\ndnl Remove the given library from the symbol\ndnl\ndnl $1 = target (which could be the same as the source variable)\ndnl $2 = source (including '$')\ndnl $3 = library to remove\ndefine([CF_REMOVE_LIB],\n[\n# remove $3 library from $2\n$1=`echo \"$2\" | sed -e 's/-l$3[[ \t]]//g' -e 's/-l$3[$]//'`\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_RESTORE_XTRA_FLAGS version: 1 updated: 2020/01/11 16:47:45\ndnl ---------------------\ndnl Restore flags saved in CF_SAVE_XTRA_FLAGS\ndnl $1 = name of current macro\ndefine([CF_RESTORE_XTRA_FLAGS],\n[\nLIBS=\"$cf_save_LIBS_$1\"\nCFLAGS=\"$cf_save_CFLAGS_$1\"\nCPPFLAGS=\"$cf_save_CPPFLAGS_$1\"\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_SAVE_XTRA_FLAGS version: 1 updated: 2020/01/11 16:46:44\ndnl ------------------\ndnl Use this macro to save CFLAGS/CPPFLAGS/LIBS before checks against X headers\ndnl and libraries which do not update those variables.\ndnl\ndnl $1 = name of current macro\ndefine([CF_SAVE_XTRA_FLAGS],\n[\ncf_save_LIBS_$1=\"$LIBS\"\ncf_save_CFLAGS_$1=\"$CFLAGS\"\ncf_save_CPPFLAGS_$1=\"$CPPFLAGS\"\nLIBS=\"$LIBS ${X_PRE_LIBS} ${X_LIBS} ${X_EXTRA_LIBS}\"\nfor cf_X_CFLAGS in $X_CFLAGS\ndo\n\tcase \"x$cf_X_CFLAGS\" in\n\tx-[[IUD]]*)\n\t\tCPPFLAGS=\"$CPPFLAGS $cf_X_CFLAGS\"\n\t\t;;\n\t*)\n\t\tCFLAGS=\"$CFLAGS $cf_X_CFLAGS\"\n\t\t;;\n\tesac\ndone\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_SHARED_OPTS version: 107 updated: 2021/09/04 06:47:34\ndnl --------------\ndnl --------------\ndnl Attempt to determine the appropriate CC/LD options for creating a shared\ndnl library.\ndnl\ndnl Notes:\ndnl a) ${LOCAL_LDFLAGS} is used to link executables that will run within\ndnl the build-tree, i.e., by making use of the libraries that are compiled in\ndnl $rel_builddir/lib We avoid compiling-in a $rel_builddir/lib path for the\ndnl shared library since that can lead to unexpected results at runtime.\ndnl b) ${LOCAL_LDFLAGS2} has the same intention but assumes that the shared\ndnl libraries are compiled in ../../lib\ndnl\ndnl The variable 'cf_cv_do_symlinks' is used to control whether we configure\ndnl to install symbolic links to the rel/abi versions of shared libraries.\ndnl\ndnl The variable 'cf_cv_shlib_version' controls whether we use the rel or abi\ndnl version when making symbolic links.\ndnl\ndnl The variable 'cf_cv_shlib_version_infix' controls whether shared library\ndnl version numbers are infix (ex: libncurses.<ver>.dylib) or postfix\ndnl (ex: libncurses.so.<ver>).\ndnl\ndnl Some loaders leave 'so_locations' lying around.  It is nice to clean up.\nAC_DEFUN([CF_SHARED_OPTS],\n[\n\tAC_REQUIRE([CF_LD_RPATH_OPT])\n\n\tRM_SHARED_OPTS=\n\tLOCAL_LDFLAGS=\n\tLOCAL_LDFLAGS2=\n\tLD_SHARED_OPTS=\n\tINSTALL_LIB=\"-m 644\"\n\t: ${rel_builddir:=.}\n\n\tshlibdir=$libdir\n\tAC_SUBST(shlibdir)\n\n\tMAKE_DLLS=\"#\"\n\tAC_SUBST(MAKE_DLLS)\n\n\tcf_cv_do_symlinks=no\n\tcf_ld_rpath_opt=\n\ttest \"$cf_cv_enable_rpath\" = yes && cf_ld_rpath_opt=\"$LD_RPATH_OPT\"\n\n\tAC_MSG_CHECKING(if release/abi version should be used for shared libs)\n\tAC_ARG_WITH(shlib-version,\n\t[  --with-shlib-version=X  Specify rel or abi version for shared libs],\n\t[test -z \"$withval\" && withval=auto\n\tcase \"$withval\" in\n\t(yes)\n\t\tcf_cv_shlib_version=auto\n\t\t;;\n\t(rel|abi|auto)\n\t\tcf_cv_shlib_version=$withval\n\t\t;;\n\t(*)\n\t\tAC_MSG_RESULT($withval)\n\t\tAC_MSG_ERROR([option value must be one of: rel, abi, or auto])\n\t\t;;\n\tesac\n\t],[cf_cv_shlib_version=auto])\n\tAC_MSG_RESULT($cf_cv_shlib_version)\n\n\tcf_cv_rm_so_locs=no\n\tcf_try_cflags=\n\n\t# Some less-capable ports of gcc support only -fpic\n\tCC_SHARED_OPTS=\n\n\tcf_try_fPIC=no\n\tif test \"$GCC\" = yes\n\tthen\n\t\tcf_try_fPIC=yes\n\telse\n\t\tcase \"$cf_cv_system_name\" in\n\t\t(*linux*)\t# e.g., PGI compiler\n\t\t\tcf_try_fPIC=yes\n\t\t\t;;\n\t\tesac\n\tfi\n\n\tif test \"$cf_try_fPIC\" = yes\n\tthen\n\t\tAC_MSG_CHECKING(which $CC option to use)\n\t\tcf_save_CFLAGS=\"$CFLAGS\"\n\t\tfor CC_SHARED_OPTS in -fPIC -fpic ''\n\t\tdo\n\t\t\tCFLAGS=\"$cf_save_CFLAGS $CC_SHARED_OPTS\"\n\t\t\tAC_TRY_COMPILE([#include <stdio.h>],[int x = 1],[break],[])\n\t\tdone\n\t\tAC_MSG_RESULT($CC_SHARED_OPTS)\n\t\tCFLAGS=\"$cf_save_CFLAGS\"\n\tfi\n\n\tcf_cv_shlib_version_infix=no\n\n\tcase \"$cf_cv_system_name\" in\n\t(aix4.[3-9]*|aix[[5-7]]*)\n\t\tif test \"$GCC\" = yes; then\n\t\t\tCC_SHARED_OPTS='-Wl,-brtl'\n\t\t\tMK_SHARED_LIB='${CC} ${LDFLAGS} ${CFLAGS} -shared -Wl,-brtl -Wl,-blibpath:${RPATH_LIST}:/usr/lib -o [$]@'\n\t\telse\n\t\t\tCC_SHARED_OPTS='-brtl'\n\t\t\t# as well as '-qpic=large -G' or perhaps \"-bM:SRE -bnoentry -bexpall\"\n\t\t\tMK_SHARED_LIB='${CC} ${LDFLAGS} ${CFLAGS} -G -Wl,-brtl -Wl,-blibpath:${RPATH_LIST}:/usr/lib -o [$]@'\n\t\tfi\n\t\t;;\n\t(beos*)\n\t\tMK_SHARED_LIB='${CC} ${LDFLAGS} ${CFLAGS} -o $[@] -Xlinker -soname=`basename $[@]` -nostart -e 0'\n\t\t;;\n\t(cygwin*)\n\t\tCC_SHARED_OPTS=\n\t\tMK_SHARED_LIB=$SHELL' '$rel_builddir'/mk_shared_lib.sh [$]@ [$]{CC} [$]{CFLAGS}'\n\t\tRM_SHARED_OPTS=\"$RM_SHARED_OPTS $rel_builddir/mk_shared_lib.sh *.dll.a\"\n\t\tcf_cv_shlib_version=cygdll\n\t\tcf_cv_shlib_version_infix=cygdll\n\t\tshlibdir=$bindir\n\t\tMAKE_DLLS=\n\t\tcat >mk_shared_lib.sh <<-CF_EOF\n\t\t#!$SHELL\n\t\tSHARED_LIB=\\[$]1\n\t\tIMPORT_LIB=\\`echo \"\\[$]1\" | sed -e 's/cyg/lib/' -e 's/[[0-9]]*\\.dll[$]/.dll.a/'\\`\n\t\tshift\n\t\tcat <<-EOF\n\t\tLinking shared library\n\t\t** SHARED_LIB \\[$]SHARED_LIB\n\t\t** IMPORT_LIB \\[$]IMPORT_LIB\nEOF\n\t\texec \\[$]* ${LDFLAGS} -shared -Wl,--out-implib=\\[$]{IMPORT_LIB} -Wl,--export-all-symbols -o \\[$]{SHARED_LIB}\nCF_EOF\n\t\tchmod +x mk_shared_lib.sh\n\t\t;;\n\t(msys*)\n\t\tCC_SHARED_OPTS=\n\t\tMK_SHARED_LIB=$SHELL' '$rel_builddir'/mk_shared_lib.sh [$]@ [$]{CC} [$]{CFLAGS}'\n\t\tRM_SHARED_OPTS=\"$RM_SHARED_OPTS $rel_builddir/mk_shared_lib.sh *.dll.a\"\n\t\tcf_cv_shlib_version=msysdll\n\t\tcf_cv_shlib_version_infix=msysdll\n\t\tshlibdir=$bindir\n\t\tMAKE_DLLS=\n\t\tcat >mk_shared_lib.sh <<-CF_EOF\n\t\t#!$SHELL\n\t\tSHARED_LIB=\\[$]1\n\t\tIMPORT_LIB=\\`echo \"\\[$]1\" | sed -e 's/msys-/lib/' -e 's/[[0-9]]*\\.dll[$]/.dll.a/'\\`\n\t\tshift\n\t\tcat <<-EOF\n\t\tLinking shared library\n\t\t** SHARED_LIB \\[$]SHARED_LIB\n\t\t** IMPORT_LIB \\[$]IMPORT_LIB\nEOF\n\t\texec \\[$]* ${LDFLAGS} -shared -Wl,--out-implib=\\[$]{IMPORT_LIB} -Wl,--export-all-symbols -o \\[$]{SHARED_LIB}\nCF_EOF\n\t\tchmod +x mk_shared_lib.sh\n\t\t;;\n\t(darwin*)\n\t\tcf_try_cflags=\"no-cpp-precomp\"\n\t\tCC_SHARED_OPTS=\"-dynamic\"\n\t\tMK_SHARED_LIB='${CC} ${LDFLAGS} ${CFLAGS} -dynamiclib -install_name ${libdir}/`basename $[@]` -compatibility_version ${ABI_VERSION} -current_version ${ABI_VERSION} -o $[@]'\n\t\ttest \"$cf_cv_shlib_version\" = auto && cf_cv_shlib_version=abi\n\t\tcf_cv_shlib_version_infix=yes\n\t\tAC_CACHE_CHECK([if ld -search_paths_first works], cf_cv_ldflags_search_paths_first, [\n\t\t\tcf_save_LDFLAGS=$LDFLAGS\n\t\t\tLDFLAGS=\"$LDFLAGS -Wl,-search_paths_first\"\n\t\t\tAC_TRY_LINK(, [int i;], cf_cv_ldflags_search_paths_first=yes, cf_cv_ldflags_search_paths_first=no)\n\t\t\t\tLDFLAGS=$cf_save_LDFLAGS])\n\t\tif test \"$cf_cv_ldflags_search_paths_first\" = yes; then\n\t\t\tLDFLAGS=\"$LDFLAGS -Wl,-search_paths_first\"\n\t\tfi\n\t\t;;\n\t(haiku*)\n\t\tCF_SHARED_SONAME\n\t\tMK_SHARED_LIB='${CC} ${LDFLAGS} ${CFLAGS} -shared -Wl,-soname,'$cf_cv_shared_soname',-stats,-lc -o $[@]'\n\t\t;;\n\t(hpux[[7-8]]*)\n\t\t# HP-UX 8.07 ld lacks \"+b\" option used for libdir search-list\n\t\tif test \"$GCC\" != yes; then\n\t\t\tCC_SHARED_OPTS='+Z'\n\t\tfi\n\t\tMK_SHARED_LIB='${LD} ${LDFLAGS} -b -o $[@]'\n\t\tINSTALL_LIB=\"-m 555\"\n\t\t;;\n\t(hpux*)\n\t\t# (tested with gcc 2.7.2 -- I don't have c89)\n\t\tif test \"$GCC\" = yes; then\n\t\t\tLD_SHARED_OPTS='-Xlinker +b -Xlinker ${libdir}'\n\t\telse\n\t\t\tCC_SHARED_OPTS='+Z'\n\t\t\tLD_SHARED_OPTS='-Wl,+b,${libdir}'\n\t\tfi\n\t\tMK_SHARED_LIB='${LD} ${LDFLAGS} +b ${libdir} -b -o $[@]'\n\t\t# HP-UX shared libraries must be executable, and should be\n\t\t# readonly to exploit a quirk in the memory manager.\n\t\tINSTALL_LIB=\"-m 555\"\n\t\t;;\n\t(interix*)\n\t\ttest \"$cf_cv_shlib_version\" = auto && cf_cv_shlib_version=rel\n\t\tif test \"$cf_cv_shlib_version\" = rel; then\n\t\t\tcf_shared_soname='`basename $[@] .${REL_VERSION}`.${ABI_VERSION}'\n\t\telse\n\t\t\tcf_shared_soname='`basename $[@]`'\n\t\tfi\n\t\tCC_SHARED_OPTS=\n\t\tMK_SHARED_LIB='${CC} ${LDFLAGS} ${CFLAGS} -shared -Wl,-rpath,${RPATH_LIST} -Wl,-h,'$cf_shared_soname' -o $[@]'\n\t\t;;\n\t(irix*)\n\t\tif test \"$cf_cv_enable_rpath\" = yes ; then\n\t\t\tEXTRA_LDFLAGS=\"${cf_ld_rpath_opt}\\${RPATH_LIST} $EXTRA_LDFLAGS\"\n\t\tfi\n\t\t# tested with IRIX 5.2 and 'cc'.\n\t\tif test \"$GCC\" != yes; then\n\t\t\tCC_SHARED_OPTS='-KPIC'\n\t\t\tMK_SHARED_LIB='${CC} ${LDFLAGS} ${CFLAGS} -shared -rdata_shared -soname `basename $[@]` -o $[@]'\n\t\telse\n\t\t\tMK_SHARED_LIB='${CC} ${LDFLAGS} ${CFLAGS} -shared -Wl,-soname,`basename $[@]` -o $[@]'\n\t\tfi\n\t\tcf_cv_rm_so_locs=yes\n\t\t;;\n\t(linux*|gnu*|k*bsd*-gnu)\n\t\tif test \"$DFT_LWR_MODEL\" = \"shared\" && test -n \"$LD_RPATH_OPT\" ; then\n\t\t\tLOCAL_LDFLAGS=\"${LD_RPATH_OPT}\\$(LOCAL_LIBDIR)\"\n\t\t\tLOCAL_LDFLAGS2=\"$LOCAL_LDFLAGS\"\n\t\tfi\n\t\tif test \"$cf_cv_enable_rpath\" = yes ; then\n\t\t\tEXTRA_LDFLAGS=\"${cf_ld_rpath_opt}\\${RPATH_LIST} $EXTRA_LDFLAGS\"\n\t\tfi\n\t\tCF_SHARED_SONAME\n\t\tMK_SHARED_LIB='${CC} ${LDFLAGS} ${CFLAGS} -shared -Wl,-soname,'$cf_cv_shared_soname',-stats,-lc -o $[@]'\n\t\t;;\n\t(mingw*msvc*)\n\t\tcf_cv_shlib_version=msvcdll\n\t\tcf_cv_shlib_version_infix=msvcdll\n\t\tshlibdir=$bindir\n\t\tMAKE_DLLS=\n\t\tif test \"$DFT_LWR_MODEL\" = \"shared\" ; then\n\t\t\tLOCAL_LDFLAGS=\"-link -dll\"\n\t\t\tLOCAL_LDFLAGS2=\"$LOCAL_LDFLAGS\"\n\t\t\tEXTRA_LDFLAGS=\"-link -dll $EXTRA_LDFLAGS\"\n\t\tfi\n\t\tCC_SHARED_OPTS=\n\t\tMK_SHARED_LIB=$SHELL' '$rel_builddir'/mk_shared_lib.sh [$]@ ${LD} [$]{CFLAGS}'\n\t\tRM_SHARED_OPTS=\"$RM_SHARED_OPTS $rel_builddir/mk_shared_lib.sh *.dll.lib\"\n\t\tcat >mk_shared_lib.sh <<-CF_EOF\n\t\t#!$SHELL\n\t\tSHARED_LIB=\\[$]1\n\t\tIMPORT_LIB=\\`echo \"\\[$]1\" | sed -e 's/[[0-9]]*\\.dll[$]/.dll.lib/'\\`\n\t\tshift\n\t\tmy_ld=\\[$]1\n\t\tshift\n\t\tcat <<-EOF\n\t\tLinking shared library\n\t\t** SHARED LIB \\$SHARED_LIB\n\t\t** IMPORT_LIB \\$IMPORT_LIB\nEOF\n\t\targs=\\$(echo \\[$]* | sed -E \"s#-l(\\w*)#\\1.dll.lib#g\" | sed -E \"s#-L(\\w*)#-LIBPATH:\\1#g\")\n\t\texec \\$my_ld -DLL -IMPLIB:\"\\${IMPORT_LIB}\" -OUT:\"\\${SHARED_LIB}\" ${LDFLAGS} \\$args\n\t\tmv \"\\${IMPORT_LIB}\" \"\\${IMPORT_LIB}\"\nCF_EOF\n\t\tchmod +x mk_shared_lib.sh\n\t\tcat >mk_prog.sh <<-CF_EOF\n\t\t#!$SHELL\n\t\tshift\n\t\t# Ignore first argument (compiler) and use LD (link.exe) unconditionally\n\t\tLD=\"[$]LD\"\n\t\tclopts=()\n\t\tldopts=(\"/subsystem:console\")\n\t\tlibs=()\n\t\tisdll=0\n\t\twhile test \\[$]# -gt 0; do\n\t\t\tcase \"\\[$]1\" in\n\t\t\t\t-link)\n\t\t\t\t\t# ignore -link argument\n\t\t\t\t\t;;\n\t\t\t\t-M[[TD]] | -M[[TD]]d)\n\t\t\t\t\t# ignore runtime-library option\n\t\t\t\t\t;;\n\t\t\t\t-dll)\n\t\t\t\t\tisdll=1\n\t\t\t\t\t;;\n\t\t\t\t-W* | -w*)\n\t\t\t\t\t# ignore warnings\n\t\t\t\t\t;;\n\t\t\t\t-D*)\n\t\t\t\t\tclopts+=(\"\\[$]1\")\n\t\t\t\t\t;;\n\t\t\t\t-I*)\n\t\t\t\t\tclopts+=(\"\\[$]1\")\n\t\t\t\t\t;;\n\t\t\t\t-l*)\n\t\t\t\t\tlibs+=(\"\\`echo \\\"\\[$]1\\\" | sed \\\"s/^-l//\\\"\\`\")\n\t\t\t\t\t;;\n\t\t\t\t-L*)\n\t\t\t\t\tldopts+=(\"\\`echo \\\"\\[$]1\\\" | sed \\\"s/^-L/-LIBPATH:/\\\"\\`\")\n\t\t\t\t\t;;\n\t\t\t\t*.obj | *.o)\n\t\t\t\t\tldopts+=(\"\\[$]1\")\n\t\t\t\t\t;;\n\t\t\t\t-Wl,*)\n\t\t\t\t\tfor linkarg in \\`echo '\\[$]1' | sed -e 's/-Wl,//' -e 's/,/ /'\\`; do\n\t\t\t\t\t\tldopts+=(\"\\[$]{linkarg}\")\n\t\t\t\t\tdone\n\t\t\t\t\t;;\n\t\t\t\t*.lib)\n\t\t\t\t\tldopts+=(\"\\[$]1\")\n\t\t\t\t\t;;\n\t\t\t\t-o)\n\t\t\t\t\tshift\n\t\t\t\t\tldopts+=(\"-out:\\[$]1\")\n\t\t\t\t\t;;\n\t\t\t\t*)\n\t\t\t\t\tclopts+=(\"\\[$]1\")\n\t\t\t\t\tldopts+=(\"\\[$]1\")\n\t\t\t\t\t;;\n\t\t\tesac\n\t\t\tshift\n\t\tdone\n\t\tif [[ \"\\$isdll\" -ne 0 ]]; then\n\t\t\tfor lib in \\[$]{libs[[*]]}; do\n\t\t\t\tldopts+=(\"\\[$]lib.dll.lib\")\n\t\t\tdone\n\t\telse\n\t\t\tfor lib in \\[$]{libs[[*]]}; do\n\t\t\t\tldopts+=(\"\\[$]lib.lib\")\n\t\t\tdone\n\t\tfi\n\t\tcat <<-EOF\n\t\tCreating program\n\t\t** ld options:   \"\\[$]{ldopts[[@]]}\"\nEOF\n\t\texec \\[$]LD \\[$]{ldopts[[@]]}\nCF_EOF\n\t\tchmod +x mk_prog.sh\n\t\tLINK_PROGS=\"$SHELL ${rel_builddir}/mk_prog.sh\"\n\t\tLINK_TESTS=\"$SHELL ${rel_builddir}/mk_prog.sh\"\n\t\t;;\n\t(mingw*)\n\t\tcf_cv_shlib_version=mingw\n\t\tcf_cv_shlib_version_infix=mingw\n\t\tshlibdir=$bindir\n\t\tMAKE_DLLS=\n\t\tif test \"$DFT_LWR_MODEL\" = \"shared\" ; then\n\t\t\tLOCAL_LDFLAGS=\"-Wl,--enable-auto-import\"\n\t\t\tLOCAL_LDFLAGS2=\"$LOCAL_LDFLAGS\"\n\t\t\tEXTRA_LDFLAGS=\"-Wl,--enable-auto-import $EXTRA_LDFLAGS\"\n\t\tfi\n\t\tCC_SHARED_OPTS=\n\t\tMK_SHARED_LIB=$SHELL' '$rel_builddir'/mk_shared_lib.sh [$]@ [$]{CC} [$]{CFLAGS}'\n\t\tRM_SHARED_OPTS=\"$RM_SHARED_OPTS $rel_builddir/mk_shared_lib.sh *.dll.a\"\n\t\tcat >mk_shared_lib.sh <<-CF_EOF\n\t\t#!$SHELL\n\t\tSHARED_LIB=\\[$]1\n\t\tIMPORT_LIB=\\`echo \"\\[$]1\" | sed -e 's/[[0-9]]*\\.dll[$]/.dll.a/'\\`\n\t\tshift\n\t\tcat <<-EOF\n\t\tLinking shared library\n\t\t** SHARED_LIB \\[$]SHARED_LIB\n\t\t** IMPORT_LIB \\[$]IMPORT_LIB\nEOF\n\t\texec \\[$]* ${LDFLAGS} -shared -Wl,--enable-auto-import,--out-implib=\\[$]{IMPORT_LIB} -Wl,--export-all-symbols -o \\[$]{SHARED_LIB}\nCF_EOF\n\t\tchmod +x mk_shared_lib.sh\n\t\t;;\n\t(openbsd[[2-9]].*|mirbsd*)\n\t\tif test \"$DFT_LWR_MODEL\" = \"shared\" && test -n \"$LD_RPATH_OPT\" ; then\n\t\t\tLOCAL_LDFLAGS=\"${LD_RPATH_OPT}\\$(LOCAL_LIBDIR)\"\n\t\t\tLOCAL_LDFLAGS2=\"$LOCAL_LDFLAGS\"\n\t\tfi\n\t\tif test \"$cf_cv_enable_rpath\" = yes ; then\n\t\t\tEXTRA_LDFLAGS=\"${cf_ld_rpath_opt}\\${RPATH_LIST} $EXTRA_LDFLAGS\"\n\t\tfi\n\t\tCC_SHARED_OPTS=\"$CC_SHARED_OPTS -DPIC\"\n\t\tCF_SHARED_SONAME\n\t\tMK_SHARED_LIB='${CC} ${LDFLAGS} ${CFLAGS} -shared -Wl,-Bshareable,-soname,'$cf_cv_shared_soname',-stats,-lc -o $[@]'\n\t\t;;\n\t(nskJ*)\n\t\tCC_SHARED_OPTS=\n\t\tMK_SHARED_LIB='${LD} -Wshared -Weld=-export_all -o $[@]'\n\t\t;;\n\t(nskL*)\n\t\tCC_SHARED_OPTS=\n\t\tMK_SHARED_LIB='${LD} -Wshared -Wxld=-export_all -o $[@]'\n\t\t;;\n\t(nto-qnx*|openbsd*|freebsd[[12]].*)\n\t\tCC_SHARED_OPTS=\"$CC_SHARED_OPTS -DPIC\"\n\t\tMK_SHARED_LIB='${LD} ${LDFLAGS} -Bshareable -o $[@]'\n\t\ttest \"$cf_cv_shlib_version\" = auto && cf_cv_shlib_version=rel\n\t\t;;\n\t(dragonfly*|freebsd*)\n\t\tCC_SHARED_OPTS=\"$CC_SHARED_OPTS -DPIC\"\n\t\tif test \"$DFT_LWR_MODEL\" = \"shared\" && test \"$cf_cv_enable_rpath\" = yes ; then\n\t\t\tLOCAL_LDFLAGS=\"${cf_ld_rpath_opt}\\$(LOCAL_LIBDIR)\"\n\t\t\tLOCAL_LDFLAGS2=\"${cf_ld_rpath_opt}\\${RPATH_LIST} $LOCAL_LDFLAGS\"\n\t\t\tEXTRA_LDFLAGS=\"${cf_ld_rpath_opt}\\${RPATH_LIST} $EXTRA_LDFLAGS\"\n\t\tfi\n\t\tCF_SHARED_SONAME\n\t\tMK_SHARED_LIB='${CC} ${LDFLAGS} ${CFLAGS} -shared -Wl,-soname,'$cf_cv_shared_soname',-stats,-lc -o $[@]'\n\t\t;;\n\t(netbsd*)\n\t\tCC_SHARED_OPTS=\"$CC_SHARED_OPTS -DPIC\"\n\t\tif test \"$DFT_LWR_MODEL\" = \"shared\" && test \"$cf_cv_enable_rpath\" = yes ; then\n\t\t\tLOCAL_LDFLAGS=\"${cf_ld_rpath_opt}\\$(LOCAL_LIBDIR)\"\n\t\t\tLOCAL_LDFLAGS2=\"$LOCAL_LDFLAGS\"\n\t\t\tEXTRA_LDFLAGS=\"${cf_ld_rpath_opt}\\${RPATH_LIST} $EXTRA_LDFLAGS\"\n\t\t\tif test \"$cf_cv_shlib_version\" = auto; then\n\t\t\tif test -f /usr/libexec/ld.elf_so; then\n\t\t\t\tcf_cv_shlib_version=abi\n\t\t\telse\n\t\t\t\tcf_cv_shlib_version=rel\n\t\t\tfi\n\t\t\tfi\n\t\t\tCF_SHARED_SONAME\n\t\t\tMK_SHARED_LIB='${CC} ${LDFLAGS} ${CFLAGS} -shared -Wl,-soname,'$cf_cv_shared_soname' -o $[@]'\n\t\telse\n\t\t\tMK_SHARED_LIB='${CC} ${LDFLAGS} ${CFLAGS} -shared -o $[@]'\n\t\tfi\n\t\t;;\n\t(osf*|mls+*)\n\t\t# tested with OSF/1 V3.2 and 'cc'\n\t\t# tested with OSF/1 V3.2 and gcc 2.6.3 (but the c++ demo didn't\n\t\t# link with shared libs).\n\t\tMK_SHARED_LIB='${LD} ${LDFLAGS} -set_version ${REL_VERSION}:${ABI_VERSION} -expect_unresolved \"*\" -shared -soname `basename $[@]`'\n\t\tcase \"$host_os\" in\n\t\t(osf4*)\n\t\t\tMK_SHARED_LIB=\"${MK_SHARED_LIB} -msym\"\n\t\t\t;;\n\t\tesac\n\t\tMK_SHARED_LIB=\"${MK_SHARED_LIB}\"' -o $[@]'\n\t\tif test \"$DFT_LWR_MODEL\" = \"shared\" && test -n \"$LD_RPATH_OPT\" ; then\n\t\t\tLOCAL_LDFLAGS=\"${LD_RPATH_OPT}\\$(LOCAL_LIBDIR)\"\n\t\t\tLOCAL_LDFLAGS2=\"$LOCAL_LDFLAGS\"\n\t\tfi\n\t\tcf_cv_rm_so_locs=yes\n\t\t;;\n\t(sco3.2v5*)  # also uw2* and UW7: hops 13-Apr-98\n\t\t# tested with osr5.0.5\n\t\tif test \"$GCC\" != yes; then\n\t\t\tCC_SHARED_OPTS='-belf -KPIC'\n\t\tfi\n\t\tMK_SHARED_LIB='${LD} ${LDFLAGS} -dy -G -h `basename $[@] .${REL_VERSION}`.${ABI_VERSION} -o [$]@'\n\t\tif test \"$cf_cv_enable_rpath\" = yes ; then\n\t\t\t# only way is to set LD_RUN_PATH but no switch for it\n\t\t\tRUN_PATH=$libdir\n\t\tfi\n\t\ttest \"$cf_cv_shlib_version\" = auto && cf_cv_shlib_version=rel\n\t\tLINK_PROGS='LD_RUN_PATH=${libdir}'\n\t\tLINK_TESTS='Pwd=`pwd`;LD_RUN_PATH=`dirname $${Pwd}`/lib'\n\t\t;;\n\t(sunos4*)\n\t\t# tested with SunOS 4.1.1 and gcc 2.7.0\n\t\tif test \"$GCC\" != yes; then\n\t\t\tCC_SHARED_OPTS='-KPIC'\n\t\tfi\n\t\tMK_SHARED_LIB='${LD} ${LDFLAGS} -assert pure-text -o $[@]'\n\t\ttest \"$cf_cv_shlib_version\" = auto && cf_cv_shlib_version=rel\n\t\t;;\n\t(solaris2*)\n\t\t# tested with SunOS 5.5.1 (solaris 2.5.1) and gcc 2.7.2\n\t\t# tested with SunOS 5.10 (solaris 10) and gcc 3.4.3\n\t\tif test \"$DFT_LWR_MODEL\" = \"shared\" ; then\n\t\t\tLOCAL_LDFLAGS=\"-R \\$(LOCAL_LIBDIR):\\${libdir}\"\n\t\t\tLOCAL_LDFLAGS2=\"$LOCAL_LDFLAGS\"\n\t\tfi\n\t\tif test \"$cf_cv_enable_rpath\" = yes ; then\n\t\t\tEXTRA_LDFLAGS=\"-R \\${libdir} $EXTRA_LDFLAGS\"\n\t\tfi\n\t\tCF_SHARED_SONAME\n\t\tif test \"$GCC\" != yes; then\n\t\t\tcf_save_CFLAGS=\"$CFLAGS\"\n\t\t\tfor cf_shared_opts in -xcode=pic32 -xcode=pic13 -KPIC -Kpic -O\n\t\t\tdo\n\t\t\t\tCFLAGS=\"$cf_shared_opts $cf_save_CFLAGS\"\n\t\t\t\tAC_TRY_COMPILE([#include <stdio.h>],[printf(\"Hello\\\\n\");],[break])\n\t\t\tdone\n\t\t\tCFLAGS=\"$cf_save_CFLAGS\"\n\t\t\tCC_SHARED_OPTS=$cf_shared_opts\n\t\t\tMK_SHARED_LIB='${CC} ${LDFLAGS} ${CFLAGS} -dy -G -h '$cf_cv_shared_soname' -o $[@]'\n\t\telse\n\t\t\tMK_SHARED_LIB='${CC} ${LDFLAGS} ${CFLAGS} -shared -dy -G -h '$cf_cv_shared_soname' -o $[@]'\n\t\tfi\n\t\t;;\n\t(sysv5uw7*|unix_sv*)\n\t\t# tested with UnixWare 7.1.0 (gcc 2.95.2 and cc)\n\t\tif test \"$GCC\" != yes; then\n\t\t\tCC_SHARED_OPTS='-KPIC'\n\t\tfi\n\t\tMK_SHARED_LIB='${LD} ${LDFLAGS} -d y -G -o [$]@'\n\t\t;;\n\t(*)\n\t\tCC_SHARED_OPTS='unknown'\n\t\tMK_SHARED_LIB='echo unknown'\n\t\t;;\n\tesac\n\n\t# This works if the last tokens in $MK_SHARED_LIB are the -o target.\n\tcase \"$cf_cv_shlib_version\" in\n\t(rel|abi)\n\t\tcase \"$MK_SHARED_LIB\" in\n\t\t(*'-o $[@]')\n\t\t\ttest \"$cf_cv_do_symlinks\" = no && cf_cv_do_symlinks=yes\n\t\t\t;;\n\t\t(*)\n\t\t\tAC_MSG_WARN(ignored --with-shlib-version)\n\t\t\t;;\n\t\tesac\n\t\t;;\n\tesac\n\n\tif test -n \"$cf_try_cflags\"\n\tthen\ncat > conftest.$ac_ext <<EOF\n#line __oline__ \"${as_me:-configure}\"\n#include <stdio.h>\nint main(int argc, char *argv[[]])\n{\n\tprintf(\"hello\\\\n\");\n\treturn (argv[[argc-1]] == 0) ;\n}\nEOF\n\t\tcf_save_CFLAGS=\"$CFLAGS\"\n\t\tfor cf_opt in $cf_try_cflags\n\t\tdo\n\t\t\tCFLAGS=\"$cf_save_CFLAGS -$cf_opt\"\n\t\t\tAC_MSG_CHECKING(if CFLAGS option -$cf_opt works)\n\t\t\tif AC_TRY_EVAL(ac_compile); then\n\t\t\t\tAC_MSG_RESULT(yes)\n\t\t\t\tcf_save_CFLAGS=\"$CFLAGS\"\n\t\t\telse\n\t\t\t\tAC_MSG_RESULT(no)\n\t\t\tfi\n\t\tdone\n\t\tCFLAGS=\"$cf_save_CFLAGS\"\n\tfi\n\n\n\t# RPATH_LIST is a colon-separated list of directories\n\ttest -n \"$cf_ld_rpath_opt\" && MK_SHARED_LIB=\"$MK_SHARED_LIB $cf_ld_rpath_opt\\${RPATH_LIST}\"\n\ttest -z \"$RPATH_LIST\" && RPATH_LIST=\"\\${libdir}\"\n\n\ttest \"$cf_cv_rm_so_locs\" = yes && RM_SHARED_OPTS=\"$RM_SHARED_OPTS so_locations\"\n\n\tCF_VERBOSE(CC_SHARED_OPTS: $CC_SHARED_OPTS)\n\tCF_VERBOSE(MK_SHARED_LIB:  $MK_SHARED_LIB)\n\n\tAC_SUBST(CC_SHARED_OPTS)\n\tAC_SUBST(LD_RPATH_OPT)\n\tAC_SUBST(LD_SHARED_OPTS)\n\tAC_SUBST(MK_SHARED_LIB)\n\tAC_SUBST(RM_SHARED_OPTS)\n\n\tAC_SUBST(LINK_PROGS)\n\tAC_SUBST(LINK_TESTS)\n\n\tAC_SUBST(EXTRA_LDFLAGS)\n\tAC_SUBST(LOCAL_LDFLAGS)\n\tAC_SUBST(LOCAL_LDFLAGS2)\n\n\tAC_SUBST(INSTALL_LIB)\n\tAC_SUBST(RPATH_LIST)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_SHARED_SONAME version: 3 updated: 2008/09/08 18:34:43\ndnl ----------------\ndnl utility macro for CF_SHARED_OPTS, constructs \"$cf_cv_shared_soname\" for\ndnl substitution into MK_SHARED_LIB string for the \"-soname\" (or similar)\ndnl option.\ndnl\ndnl $1 is the default that should be used for \"$cf_cv_shlib_version\".\ndnl If missing, use \"rel\".\ndefine([CF_SHARED_SONAME],\n[\n\ttest \"$cf_cv_shlib_version\" = auto && cf_cv_shlib_version=ifelse($1,,rel,$1)\n\tif test \"$cf_cv_shlib_version\" = rel; then\n\t\tcf_cv_shared_soname='`basename $[@] .${REL_VERSION}`.${ABI_VERSION}'\n\telse\n\t\tcf_cv_shared_soname='`basename $[@]`'\n\tfi\n])\ndnl ---------------------------------------------------------------------------\ndnl CF_STRIP_G_OPT version: 4 updated: 2021/01/02 09:31:20\ndnl --------------\ndnl\tRemove \"-g\" option from the compiler options\nAC_DEFUN([CF_STRIP_G_OPT],\n[$1=`echo \"${$1}\" | CF__SED_TRIMBLANKS(-e 's%-g %%' -e 's%-g$%%')`])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_SUBDIR_PATH version: 7 updated: 2014/12/04 04:33:06\ndnl --------------\ndnl Construct a search-list for a nonstandard header/lib-file\ndnl\t$1 = the variable to return as result\ndnl\t$2 = the package name\ndnl\t$3 = the subdirectory, e.g., bin, include or lib\nAC_DEFUN([CF_SUBDIR_PATH],\n[\n$1=\n\nCF_ADD_SUBDIR_PATH($1,$2,$3,$prefix,NONE)\n\nfor cf_subdir_prefix in \\\n\t/usr \\\n\t/usr/local \\\n\t/usr/pkg \\\n\t/opt \\\n\t/opt/local \\\n\t[$]HOME\ndo\n\tCF_ADD_SUBDIR_PATH($1,$2,$3,$cf_subdir_prefix,$prefix)\ndone\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_TERM_HEADER version: 6 updated: 2021/01/02 09:31:20\ndnl --------------\ndnl Look for term.h, which is part of X/Open curses.  It defines the interface\ndnl to terminfo database.  Usually it is in the same include-path as curses.h,\ndnl but some packagers change this, breaking various applications.\nAC_DEFUN([CF_TERM_HEADER],[\nAC_CACHE_CHECK(for terminfo header, cf_cv_term_header,[\ncase \"${cf_cv_ncurses_header}\" in\n(*/ncurses.h|*/ncursesw.h)\n\tcf_term_header=`echo \"$cf_cv_ncurses_header\" | sed -e 's%ncurses[[^.]]*\\.h$%term.h%'`\n\t;;\n(*)\n\tcf_term_header=term.h\n\t;;\nesac\n\nfor cf_test in $cf_term_header \"ncurses/term.h\" \"ncursesw/term.h\"\ndo\nAC_TRY_COMPILE([#include <stdio.h>\n#include <${cf_cv_ncurses_header:-curses.h}>\n#include <$cf_test>\n],[int x = auto_left_margin; (void)x],[\n\tcf_cv_term_header=\"$cf_test\"],[\n\tcf_cv_term_header=unknown\n\t])\n\ttest \"$cf_cv_term_header\" != unknown && break\ndone\n])\n\n# Set definitions to allow ifdef'ing to accommodate subdirectories\n\ncase \"$cf_cv_term_header\" in\n(*term.h)\n\tAC_DEFINE(HAVE_TERM_H,1,[Define to 1 if we have term.h])\n\t;;\nesac\n\ncase \"$cf_cv_term_header\" in\n(ncurses/term.h)\n\tAC_DEFINE(HAVE_NCURSES_TERM_H,1,[Define to 1 if we have ncurses/term.h])\n\t;;\n(ncursesw/term.h)\n\tAC_DEFINE(HAVE_NCURSESW_TERM_H,1,[Define to 1 if we have ncursesw/term.h])\n\t;;\nesac\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_TOP_BUILDDIR version: 2 updated: 2013/07/27 17:38:32\ndnl ---------------\ndnl Define a top_builddir symbol, for applications that need an absolute path.\nAC_DEFUN([CF_TOP_BUILDDIR],\n[\ntop_builddir=ifelse($1,,`pwd`,$1)\nAC_SUBST(top_builddir)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_TRY_XOPEN_SOURCE version: 4 updated: 2022/09/10 15:16:16\ndnl -------------------\ndnl If _XOPEN_SOURCE is not defined in the compile environment, check if we\ndnl can define it successfully.\nAC_DEFUN([CF_TRY_XOPEN_SOURCE],[\nAC_CACHE_CHECK(if we should define _XOPEN_SOURCE,cf_cv_xopen_source,[\n\tAC_TRY_COMPILE(CF__XOPEN_SOURCE_HEAD,CF__XOPEN_SOURCE_BODY,\n\t[cf_cv_xopen_source=no],\n\t[cf_save=\"$CPPFLAGS\"\n\t CF_APPEND_TEXT(CPPFLAGS,-D_XOPEN_SOURCE=$cf_XOPEN_SOURCE)\n\t AC_TRY_COMPILE(CF__XOPEN_SOURCE_HEAD,CF__XOPEN_SOURCE_BODY,\n\t\t[cf_cv_xopen_source=no],\n\t\t[cf_cv_xopen_source=$cf_XOPEN_SOURCE])\n\t\tCPPFLAGS=\"$cf_save\"\n\t])\n])\n\nif test \"$cf_cv_xopen_source\" != no ; then\n\tCF_REMOVE_DEFINE(CFLAGS,$CFLAGS,_XOPEN_SOURCE)\n\tCF_REMOVE_DEFINE(CPPFLAGS,$CPPFLAGS,_XOPEN_SOURCE)\n\tcf_temp_xopen_source=\"-D_XOPEN_SOURCE=$cf_cv_xopen_source\"\n\tCF_APPEND_CFLAGS($cf_temp_xopen_source)\nfi\n])\ndnl ---------------------------------------------------------------------------\ndnl CF_UPPER version: 5 updated: 2001/01/29 23:40:59\ndnl --------\ndnl Make an uppercase version of a variable\ndnl $1=uppercase($2)\nAC_DEFUN([CF_UPPER],\n[\n$1=`echo \"$2\" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_UTF8_LIB version: 9 updated: 2021/05/19 19:35:25\ndnl -----------\ndnl Check for multibyte support, and if not found, utf8 compatibility library\nAC_DEFUN([CF_UTF8_LIB],\n[\nAC_HAVE_HEADERS(wchar.h)\nAC_CACHE_CHECK(for multibyte character support,cf_cv_utf8_lib,[\n\tcf_save_LIBS=\"$LIBS\"\n\tAC_TRY_LINK([\n#include <stdlib.h>\n#include <stdio.h>\n#ifdef HAVE_WCHAR_H\n#include <wchar.h>\n#endif\n],[putwc(0,0);],\n\t[cf_cv_utf8_lib=yes],\n\t[CF_FIND_LINKAGE([\n#include <libutf8.h>],[putwc(0,0);],utf8,\n\t\t[cf_cv_utf8_lib=add-on],\n\t\t[cf_cv_utf8_lib=no])\n])])\n\n# HAVE_LIBUTF8_H is used by ncurses if curses.h is shared between\n# ncurses/ncursesw:\nif test \"$cf_cv_utf8_lib\" = \"add-on\" ; then\n\tAC_DEFINE(HAVE_LIBUTF8_H,1,[Define to 1 if we should include libutf8.h])\n\tCF_ADD_INCDIR($cf_cv_header_path_utf8)\n\tCF_ADD_LIBDIR($cf_cv_library_path_utf8)\n\tCF_ADD_LIBS($cf_cv_library_file_utf8)\nfi\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_VERBOSE version: 3 updated: 2007/07/29 09:55:12\ndnl ----------\ndnl Use AC_VERBOSE w/o the warnings\nAC_DEFUN([CF_VERBOSE],\n[test -n \"$verbose\" && echo \"\t$1\" 1>&AC_FD_MSG\nCF_MSG_LOG([$1])\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_WEAK_SYMBOLS version: 1 updated: 2008/08/16 19:18:06\ndnl ---------------\ndnl Check for compiler-support for weak symbols.\ndnl This works with \"recent\" gcc.\nAC_DEFUN([CF_WEAK_SYMBOLS],[\nAC_CACHE_CHECK(if $CC supports weak symbols,cf_cv_weak_symbols,[\n\nAC_TRY_COMPILE([\n#include <stdio.h>],\n[\n#if defined(__GNUC__)\n#  if defined __USE_ISOC99\n#    define _cat_pragma(exp)\t_Pragma(#exp)\n#    define _weak_pragma(exp)\t_cat_pragma(weak name)\n#  else\n#    define _weak_pragma(exp)\n#  endif\n#  define _declare(name)\t__extension__ extern __typeof__(name) name\n#  define weak_symbol(name)\t_weak_pragma(name) _declare(name) __attribute__((weak))\n#endif\n\nweak_symbol(fopen);\n],[cf_cv_weak_symbols=yes],[cf_cv_weak_symbols=no])\n])\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_WITH_ADA_COMPILER version: 2 updated: 2010/06/26 17:35:58\ndnl --------------------\ndnl Command-line option to specify the Ada95 compiler.\nAC_DEFUN([CF_WITH_ADA_COMPILER],[\nAC_MSG_CHECKING(for ada-compiler)\nAC_ARG_WITH(ada-compiler,\n\t[  --with-ada-compiler=CMD specify Ada95 compiler command (default gnatmake)],\n\t[cf_ada_compiler=$withval],\n\t[cf_ada_compiler=gnatmake])\nAC_SUBST(cf_ada_compiler)\nAC_MSG_RESULT($cf_ada_compiler)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_WITH_ADA_INCLUDE version: 2 updated: 2010/06/26 17:35:58\ndnl -------------------\ndnl Command-line option to specify where Ada includes will install.\nAC_DEFUN([CF_WITH_ADA_INCLUDE],[\nAC_MSG_CHECKING(for ada-include)\nCF_WITH_PATH(ada-include,\n   [  --with-ada-include=DIR  Ada includes are in DIR],\n   ADA_INCLUDE,\n   PREFIX/share/ada/adainclude,\n   [$]prefix/share/ada/adainclude)\nAC_SUBST(ADA_INCLUDE)\nAC_MSG_RESULT($ADA_INCLUDE)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_WITH_ADA_LIBNAME version: 1 updated: 2019/09/07 18:59:41\ndnl -------------------\ndnl CF_WITH_ADA_LIBNAME\ndnl -------------------\ndnl Command-line option to specify how to name the resulting Ada library.\ndnl $1 = default value\nAC_DEFUN([CF_WITH_ADA_LIBNAME],[\nAC_MSG_CHECKING(for ada-libname)\nAC_ARG_WITH(ada-libname,\n   [  --with-ada-libname=XXX  override default Ada library-name],\n   ADA_LIBNAME=[$]withval,\n   ADA_LIBNAME=$1)\ncase \"x$ADA_LIBNAME\" in\n(x|xyes|xno)\n\tADA_LIBNAME=$1\n\t;;\nesac\nAC_SUBST(ADA_LIBNAME)\nAC_MSG_RESULT($ADA_LIBNAME)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_WITH_ADA_OBJECTS version: 2 updated: 2010/06/26 17:35:58\ndnl -------------------\ndnl Command-line option to specify where Ada objects will install.\nAC_DEFUN([CF_WITH_ADA_OBJECTS],[\nAC_MSG_CHECKING(for ada-objects)\nCF_WITH_PATH(ada-objects,\n   [  --with-ada-objects=DIR  Ada objects are in DIR],\n   ADA_OBJECTS,\n   PREFIX/lib/ada/adalib,\n   [$]prefix/lib/ada/adalib)\nAC_SUBST(ADA_OBJECTS)\nAC_MSG_RESULT($ADA_OBJECTS)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_WITH_ADA_SHAREDLIB version: 5 updated: 2018/07/21 19:10:35\ndnl ---------------------\ndnl Command-line option to specify if an Ada95 shared-library should be built,\ndnl and optionally what its soname should be.\nAC_DEFUN([CF_WITH_ADA_SHAREDLIB],[\nAC_REQUIRE([CF_GNAT_PROJECTS])\nAC_MSG_CHECKING(if an Ada95 shared-library should be built)\nAC_ARG_WITH(ada-sharedlib,\n\t[  --with-ada-sharedlib=soname build shared-library (requires GNAT projects)],\n\t[with_ada_sharedlib=$withval],\n\t[with_ada_sharedlib=no])\nAC_MSG_RESULT($with_ada_sharedlib)\n\nif test \"x$with_ada_sharedlib\" != xno\nthen\n\tif test \"x$cf_gnat_projects\" != xyes\n\tthen\n\t\tAC_MSG_WARN(disabling shared-library since GNAT projects are not supported)\n\t\twith_ada_sharedlib=no\n\tfi\nfi\n\nADA_SHAREDLIB='lib$(LIB_NAME).so.1'\nMAKE_ADA_SHAREDLIB=\"#\"\n\nif test \"x$with_ada_sharedlib\" != xno\nthen\n\tMAKE_ADA_SHAREDLIB=\n\tif test \"x$with_ada_sharedlib\" != xyes\n\tthen\n\t\tADA_SHAREDLIB=\"$with_ada_sharedlib\"\n\tfi\nfi\n\nAC_SUBST(ADA_SHAREDLIB)\nAC_SUBST(MAKE_ADA_SHAREDLIB)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_WITH_CURSES_DIR version: 4 updated: 2021/01/02 19:22:58\ndnl ------------------\ndnl Wrapper for AC_ARG_WITH to specify directory under which to look for curses\ndnl libraries.\nAC_DEFUN([CF_WITH_CURSES_DIR],[\n\nAC_MSG_CHECKING(for specific curses-directory)\nAC_ARG_WITH(curses-dir,\n\t[  --with-curses-dir=DIR   directory in which (n)curses is installed],\n\t[cf_cv_curses_dir=$withval],\n\t[cf_cv_curses_dir=no])\nAC_MSG_RESULT($cf_cv_curses_dir)\n\nif test -n \"$cf_cv_curses_dir\" && test \"$cf_cv_curses_dir\" != \"no\"\nthen\n\tCF_PATH_SYNTAX(withval)\n\tif test -d \"$cf_cv_curses_dir\"\n\tthen\n\t\tCF_ADD_INCDIR($cf_cv_curses_dir/include)\n\t\tCF_ADD_LIBDIR($cf_cv_curses_dir/lib)\n\tfi\nfi\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_WITH_LIB_PREFIX version: 2 updated: 2021/01/01 16:53:59\ndnl ------------------\ndnl Allow the library-prefix to be overridden.  OS/2 EMX originally had no\ndnl \"lib\" prefix, e.g., because it used the dll naming convention.\ndnl\ndnl $1 = variable to set\nAC_DEFUN([CF_WITH_LIB_PREFIX],\n[\nAC_MSG_CHECKING(if you want to have a library-prefix)\nAC_ARG_WITH(lib-prefix,\n\t[  --with-lib-prefix       override library-prefix],\n\t[with_lib_prefix=$withval],\n\t[with_lib_prefix=auto])\nAC_MSG_RESULT($with_lib_prefix)\n\nif test \"$with_lib_prefix\" = auto\nthen\n\tCF_LIB_PREFIX($1)\nelif test \"$with_lib_prefix\" = no\nthen\n\tLIB_PREFIX=\nelse\n\tLIB_PREFIX=$with_lib_prefix\nfi\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_WITH_PATH version: 12 updated: 2021/09/04 06:35:04\ndnl ------------\ndnl Wrapper for AC_ARG_WITH to ensure that user supplies a pathname, not just\ndnl defaulting to yes/no.\ndnl\ndnl $1 = option name\ndnl $2 = help-text\ndnl $3 = environment variable to set\ndnl $4 = default value, shown in the help-message, must be a constant\ndnl $5 = default value, if it is an expression & cannot be in the help-message\ndnl\nAC_DEFUN([CF_WITH_PATH],\n[AC_ARG_WITH($1,[$2 ](default: ifelse([$4],,empty,[$4])),,\nifelse([$4],,[withval=\"${$3}\"],[withval=\"${$3:-ifelse([$5],,[$4],[$5])}\"]))dnl\nif ifelse([$5],,true,[test -n \"$5\"]) ; then\nCF_PATH_SYNTAX(withval)\nfi\neval $3=\"$withval\"\nAC_SUBST($3)dnl\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_WITH_PKG_CONFIG_LIBDIR version: 20 updated: 2022/01/29 17:03:42\ndnl -------------------------\ndnl Allow the choice of the pkg-config library directory to be overridden.\ndnl\ndnl pkg-config uses a search-list built from these colon-separated lists of\ndnl directories:\ndnl a) $PKG_CONFIG_PATH (tested first, added if set)\ndnl b) $PKG_CONFIG_LIBDIR (tested second, added if set)\ndnl c) builtin-list (added if $PKG_CONFIG_LIBDIR is not set)\ndnl\ndnl pkgconf (used with some systems such as FreeBSD in place of pkg-config)\ndnl optionally ignores $PKG_CONFIG_LIBDIR.\nAC_DEFUN([CF_WITH_PKG_CONFIG_LIBDIR],[\n\ncase \"$PKG_CONFIG\" in\n(no|none|yes)\n\tAC_MSG_CHECKING(for pkg-config library directory)\n\t;;\n(*)\n\tAC_MSG_CHECKING(for $PKG_CONFIG library directory)\n\t;;\nesac\n\n# if $PKG_CONFIG_LIBDIR is set, try to use that\ncf_search_path=`echo \"$PKG_CONFIG_LIBDIR\" | sed -e 's/:/ /g' -e 's,^[[ \t]]*,,'`\n\n# if the option is used, let that override.  otherwise default to \"libdir\"\nAC_ARG_WITH(pkg-config-libdir,\n\t[  --with-pkg-config-libdir=XXX use given directory for installing pc-files],\n\t[cf_search_path=$withval],\n\t[test \"x$PKG_CONFIG\" != xnone && test -z \"$cf_search_path\" && cf_search_path=libdir])\n\ncase \"x$cf_search_path\" in\n(xlibdir)\n\tPKG_CONFIG_LIBDIR='${libdir}/pkgconfig'\n\tAC_MSG_RESULT($PKG_CONFIG_LIBDIR)\n\tcf_search_path=\n\t;;\n(x)\n\t;;\n(x/*\\ *)\n\tPKG_CONFIG_LIBDIR=\n\t;;\n(x/*)\n\tPKG_CONFIG_LIBDIR=\"$cf_search_path\"\n\tAC_MSG_RESULT($PKG_CONFIG_LIBDIR)\n\tcf_search_path=\n\t;;\n(xyes|xauto)\n\tAC_MSG_RESULT(auto)\n\tcf_search_path=\n\t# Look for the library directory using the same prefix as the executable\n\tAC_MSG_CHECKING(for search-list)\n\tif test \"x$PKG_CONFIG\" != xnone\n\tthen\n\t\t# works for pkg-config since version 0.24 (2009)\n\t\t# works for pkgconf since version 0.8.3 (2012)\n\t\tfor cf_pkg_program in \\\n\t\t\t`echo \"$PKG_CONFIG\" | sed -e 's,^.*/,,'` \\\n\t\t\tpkg-config \\\n\t\t\tpkgconf\n\t\tdo\n\t\t\tcf_search_path=`\"$PKG_CONFIG\" --variable=pc_path \"$cf_pkg_program\" 2>/dev/null | tr : ' '`\n\t\t\ttest -n \"$cf_search_path\" && break\n\t\tdone\n\n\t\t# works for pkg-config since import in 2005 of original 2001 HP code.\n\t\ttest -z \"$cf_search_path\" && \\\n\t\tcf_search_path=`\n\t\t\"$PKG_CONFIG\" --debug --exists no-such-package 2>&1 | $AWK \"\\\n/^Scanning directory (#[1-9][0-9]* )?'.*'$/{ \\\n\tsub(\\\"^[[^']]*'\\\",\\\"\\\"); \\\n\tsub(\\\"'.*\\\",\\\"\\\"); \\\n\tprintf \\\" %s\\\", \\\\[$]0; } \\\n{ next; } \\\n\"`\n\tfi\n\n\tAC_MSG_RESULT($cf_search_path)\n\t;;\n(*)\n\tAC_MSG_ERROR(Unexpected option value: $cf_search_path)\n\t;;\nesac\n\nif test -n \"$cf_search_path\"\nthen\n\tAC_MSG_CHECKING(for first directory)\n\tcf_pkg_config_path=none\n\tfor cf_config in $cf_search_path\n\tdo\n\t\tif test -d \"$cf_config\"\n\t\tthen\n\t\t\tcf_pkg_config_path=$cf_config\n\t\t\tbreak\n\t\tfi\n\tdone\n\tAC_MSG_RESULT($cf_pkg_config_path)\n\n\tif test \"x$cf_pkg_config_path\" != xnone ; then\n\t\t# limit this to the first directory found\n\t\tPKG_CONFIG_LIBDIR=\"$cf_pkg_config_path\"\n\tfi\n\n\tif test -z \"$PKG_CONFIG_LIBDIR\" && test -n \"$cf_search_path\"\n\tthen\n\t\tAC_MSG_CHECKING(for workaround)\n\t\tif test \"$prefix\" = \"NONE\" ; then\n\t\t\tcf_prefix=\"$ac_default_prefix\"\n\t\telse\n\t\t\tcf_prefix=\"$prefix\"\n\t\tfi\n\t\teval cf_libdir=$libdir\n\t\tcf_libdir=`echo \"$cf_libdir\" | sed -e \"s,^NONE,$cf_prefix,\"`\n\t\tcf_backup=\n\t\tfor cf_config in $cf_search_path\n\t\tdo\n\t\t\tcase $cf_config in\n\t\t\t$cf_libdir/pkgconfig)\n\t\t\t\tPKG_CONFIG_LIBDIR=$cf_libdir/pkgconfig\n\t\t\t\tbreak\n\t\t\t\t;;\n\t\t\t*)\n\t\t\t\ttest -z \"$cf_backup\" && cf_backup=$cf_config\n\t\t\t\t;;\n\t\t\tesac\n\t\tdone\n\t\ttest -z \"$PKG_CONFIG_LIBDIR\" && PKG_CONFIG_LIBDIR=$cf_backup\n\t\tAC_MSG_RESULT($PKG_CONFIG_LIBDIR)\n\tfi\nfi\n\nAC_SUBST(PKG_CONFIG_LIBDIR)\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_WITH_PTHREAD version: 7 updated: 2015/04/18 08:56:57\ndnl ---------------\ndnl Check for POSIX thread library.\nAC_DEFUN([CF_WITH_PTHREAD],\n[\nAC_MSG_CHECKING(if you want to link with the pthread library)\nAC_ARG_WITH(pthread,\n\t[  --with-pthread          use POSIX thread library],\n\t[with_pthread=$withval],\n\t[with_pthread=no])\nAC_MSG_RESULT($with_pthread)\n\nif test \"$with_pthread\" != no ; then\n\tAC_CHECK_HEADER(pthread.h,[\n\tAC_DEFINE(HAVE_PTHREADS_H,1,[Define to 1 if we have pthreads.h header])\n\n\tfor cf_lib_pthread in pthread c_r\n\tdo\n\t    AC_MSG_CHECKING(if we can link with the $cf_lib_pthread library)\n\t    cf_save_LIBS=\"$LIBS\"\n\t    CF_ADD_LIB($cf_lib_pthread)\n\t    AC_TRY_LINK([\n#include <pthread.h>\n],[\n\t\tint rc = pthread_create(0,0,0,0);\n\t\tint r2 = pthread_mutexattr_settype(0, 0);\n],[with_pthread=yes],[with_pthread=no])\n\t    LIBS=\"$cf_save_LIBS\"\n\t    AC_MSG_RESULT($with_pthread)\n\t    test \"$with_pthread\" = yes && break\n\tdone\n\n\tif test \"$with_pthread\" = yes ; then\n\t    CF_ADD_LIB($cf_lib_pthread)\n\t    AC_DEFINE(HAVE_LIBPTHREADS,1,[Define to 1 if we have pthreads library])\n\telse\n\t    AC_MSG_ERROR(Cannot link with pthread library)\n\tfi\n\t])\nfi\n])\ndnl ---------------------------------------------------------------------------\ndnl CF_WITH_SYSTYPE version: 1 updated: 2013/01/26 16:26:12\ndnl ---------------\ndnl For testing, override the derived host system-type which is used to decide\ndnl things such as the linker commands used to build shared libraries.  This is\ndnl normally chosen automatically based on the type of system which you are\ndnl building on.  We use it for testing the configure script.\ndnl\ndnl This is different from the --host option: it is used only for testing parts\ndnl of the configure script which would not be reachable with --host since that\ndnl relies on the build environment being real, rather than mocked up.\nAC_DEFUN([CF_WITH_SYSTYPE],[\nCF_CHECK_CACHE([AC_CANONICAL_SYSTEM])\nAC_ARG_WITH(system-type,\n\t[  --with-system-type=XXX  test: override derived host system-type],\n[AC_MSG_WARN(overriding system type to $withval)\n\tcf_cv_system_name=$withval\n\thost_os=$withval\n])\n])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF_XOPEN_SOURCE version: 62 updated: 2022/10/02 19:55:56\ndnl ---------------\ndnl Try to get _XOPEN_SOURCE defined properly that we can use POSIX functions,\ndnl or adapt to the vendor's definitions to get equivalent functionality,\ndnl without losing the common non-POSIX features.\ndnl\ndnl Parameters:\ndnl\t$1 is the nominal value for _XOPEN_SOURCE\ndnl\t$2 is the nominal value for _POSIX_C_SOURCE\nAC_DEFUN([CF_XOPEN_SOURCE],[\nAC_REQUIRE([AC_CANONICAL_HOST])\nAC_REQUIRE([CF_POSIX_VISIBLE])\n\nif test \"$cf_cv_posix_visible\" = no; then\n\ncf_XOPEN_SOURCE=ifelse([$1],,500,[$1])\ncf_POSIX_C_SOURCE=ifelse([$2],,199506L,[$2])\ncf_xopen_source=\n\ncase \"$host_os\" in\n(aix[[4-7]]*)\n\tcf_xopen_source=\"-D_ALL_SOURCE\"\n\t;;\n(msys)\n\tcf_XOPEN_SOURCE=600\n\t;;\n(darwin[[0-8]].*)\n\tcf_xopen_source=\"-D_APPLE_C_SOURCE\"\n\t;;\n(darwin*)\n\tcf_xopen_source=\"-D_DARWIN_C_SOURCE\"\n\tcf_XOPEN_SOURCE=\n\t;;\n(freebsd*|dragonfly*|midnightbsd*)\n\t# 5.x headers associate\n\t#\t_XOPEN_SOURCE=600 with _POSIX_C_SOURCE=200112L\n\t#\t_XOPEN_SOURCE=500 with _POSIX_C_SOURCE=199506L\n\tcf_POSIX_C_SOURCE=200112L\n\tcf_XOPEN_SOURCE=600\n\tcf_xopen_source=\"-D_BSD_TYPES -D__BSD_VISIBLE -D_POSIX_C_SOURCE=$cf_POSIX_C_SOURCE -D_XOPEN_SOURCE=$cf_XOPEN_SOURCE\"\n\t;;\n(hpux11*)\n\tcf_xopen_source=\"-D_HPUX_SOURCE -D_XOPEN_SOURCE=500\"\n\t;;\n(hpux*)\n\tcf_xopen_source=\"-D_HPUX_SOURCE\"\n\t;;\n(irix[[56]].*)\n\tcf_xopen_source=\"-D_SGI_SOURCE\"\n\tcf_XOPEN_SOURCE=\n\t;;\n(linux*gnu|linux*gnuabi64|linux*gnuabin32|linux*gnueabi|linux*gnueabihf|linux*gnux32|uclinux*|gnu*|mint*|k*bsd*-gnu|cygwin)\n\tCF_GNU_SOURCE($cf_XOPEN_SOURCE)\n\t;;\n(minix*)\n\tcf_xopen_source=\"-D_NETBSD_SOURCE\" # POSIX.1-2001 features are ifdef'd with this...\n\t;;\n(mirbsd*)\n\t# setting _XOPEN_SOURCE or _POSIX_SOURCE breaks <sys/select.h> and other headers which use u_int / u_short types\n\tcf_XOPEN_SOURCE=\n\tCF_POSIX_C_SOURCE($cf_POSIX_C_SOURCE)\n\t;;\n(netbsd*)\n\tcf_xopen_source=\"-D_NETBSD_SOURCE\" # setting _XOPEN_SOURCE breaks IPv6 for lynx on NetBSD 1.6, breaks xterm, is not needed for ncursesw\n\t;;\n(openbsd[[6-9]]*)\n\t# OpenBSD 6.x has broken locale support, both compile-time and runtime.\n\t# see https://www.mail-archive.com/bugs@openbsd.org/msg13200.html\n\t# Abusing the conformance level is a workaround.\n\tAC_MSG_WARN(this system does not provide usable locale support)\n\tcf_xopen_source=\"-D_BSD_SOURCE\"\n\tcf_XOPEN_SOURCE=700\n\t;;\n(openbsd[[4-5]]*)\n\t# setting _XOPEN_SOURCE lower than 500 breaks g++ compile with wchar.h, needed for ncursesw\n\tcf_xopen_source=\"-D_BSD_SOURCE\"\n\tcf_XOPEN_SOURCE=600\n\t;;\n(openbsd*)\n\t# setting _XOPEN_SOURCE breaks xterm on OpenBSD 2.8, is not needed for ncursesw\n\t;;\n(osf[[45]]*)\n\tcf_xopen_source=\"-D_OSF_SOURCE\"\n\t;;\n(nto-qnx*)\n\tcf_xopen_source=\"-D_QNX_SOURCE\"\n\t;;\n(sco*)\n\t# setting _XOPEN_SOURCE breaks Lynx on SCO Unix / OpenServer\n\t;;\n(solaris2.*)\n\tcf_xopen_source=\"-D__EXTENSIONS__\"\n\tcf_cv_xopen_source=broken\n\t;;\n(sysv4.2uw2.*) # Novell/SCO UnixWare 2.x (tested on 2.1.2)\n\tcf_XOPEN_SOURCE=\n\tcf_POSIX_C_SOURCE=\n\t;;\n(*)\n\tCF_TRY_XOPEN_SOURCE\n\tcf_save_xopen_cppflags=\"$CPPFLAGS\"\n\tCF_POSIX_C_SOURCE($cf_POSIX_C_SOURCE)\n\t# Some of these niche implementations use copy/paste, double-check...\n\tCF_VERBOSE(checking if _POSIX_C_SOURCE inteferes)\n\tAC_TRY_COMPILE(CF__XOPEN_SOURCE_HEAD,CF__XOPEN_SOURCE_BODY,,[\n\t\tAC_MSG_WARN(_POSIX_C_SOURCE definition is not usable)\n\t\tCPPFLAGS=\"$cf_save_xopen_cppflags\"])\n\t;;\nesac\n\nif test -n \"$cf_xopen_source\" ; then\n\tCF_APPEND_CFLAGS($cf_xopen_source,true)\nfi\n\ndnl In anything but the default case, we may have system-specific setting\ndnl which is still not guaranteed to provide all of the entrypoints that\ndnl _XOPEN_SOURCE would yield.\nif test -n \"$cf_XOPEN_SOURCE\" && test -z \"$cf_cv_xopen_source\" ; then\n\tAC_MSG_CHECKING(if _XOPEN_SOURCE really is set)\n\tAC_TRY_COMPILE([#include <stdlib.h>],[\n#ifndef _XOPEN_SOURCE\nmake an error\n#endif],\n\t[cf_XOPEN_SOURCE_set=yes],\n\t[cf_XOPEN_SOURCE_set=no])\n\tAC_MSG_RESULT($cf_XOPEN_SOURCE_set)\n\tif test \"$cf_XOPEN_SOURCE_set\" = yes\n\tthen\n\t\tAC_TRY_COMPILE([#include <stdlib.h>],[\n#if (_XOPEN_SOURCE - 0) < $cf_XOPEN_SOURCE\nmake an error\n#endif],\n\t\t[cf_XOPEN_SOURCE_set_ok=yes],\n\t\t[cf_XOPEN_SOURCE_set_ok=no])\n\t\tif test \"$cf_XOPEN_SOURCE_set_ok\" = no\n\t\tthen\n\t\t\tAC_MSG_WARN(_XOPEN_SOURCE is lower than requested)\n\t\tfi\n\telse\n\t\tCF_TRY_XOPEN_SOURCE\n\tfi\nfi\nfi # cf_cv_posix_visible\n])\ndnl ---------------------------------------------------------------------------\ndnl CF__SED_TRIMBLANKS version: 1 updated: 2021/01/02 09:31:20\ndnl ------------------\ndnl Trim something using sed, then trim extra whitespace\ndnl $1 = extra parameters, e.g., in CF_STRIP_G_OPT\ndefine([CF__SED_TRIMBLANKS],[sed ifelse($1,,,[$1] )-e 's%[[\t]]% %g' -e 's% [[ ]]*% %g' -e 's%^ %%' -e 's% [$]%%'])dnl\ndnl ---------------------------------------------------------------------------\ndnl CF__XOPEN_SOURCE_BODY version: 1 updated: 2022/09/10 15:17:35\ndnl ---------------------\ndnl body of test when test-compiling for _XOPEN_SOURCE check\ndefine([CF__XOPEN_SOURCE_BODY],\n[\n#ifndef _XOPEN_SOURCE\nmake an error\n#endif\n])\ndnl ---------------------------------------------------------------------------\ndnl CF__XOPEN_SOURCE_HEAD version: 1 updated: 2022/09/10 15:17:03\ndnl ---------------------\ndnl headers to include when test-compiling for _XOPEN_SOURCE check\ndefine([CF__XOPEN_SOURCE_HEAD],\n[\n#include <stdlib.h>\n#include <string.h>\n#include <sys/types.h>\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}