{
  "module_name": "terminal_interface-curses-text_io-aux.adb",
  "hash_id": "5b8e8b4390ffbc0bdbcd484aa61e992b99ba47bf60e2172057365206011a526f",
  "original_prompt": "Ingested from ncurses-6.4/Ada95/src/terminal_interface-curses-text_io-aux.adb",
  "human_readable_source": "------------------------------------------------------------------------------\n--                                                                          --\n--                           GNAT ncurses Binding                           --\n--                                                                          --\n--                   Terminal_Interface.Curses.Text_IO.Aux                  --\n--                                                                          --\n--                                 B O D Y                                  --\n--                                                                          --\n------------------------------------------------------------------------------\n-- Copyright 2020 Thomas E. Dickey                                          --\n-- Copyright 1999-2006,2009 Free Software Foundation, Inc.                  --\n--                                                                          --\n-- Permission is hereby granted, free of charge, to any person obtaining a  --\n-- copy of this software and associated documentation files (the            --\n-- \"Software\"), to deal in the Software without restriction, including      --\n-- without limitation the rights to use, copy, modify, merge, publish,      --\n-- distribute, distribute with modifications, sublicense, and/or sell       --\n-- copies of the Software, and to permit persons to whom the Software is    --\n-- furnished to do so, subject to the following conditions:                 --\n--                                                                          --\n-- The above copyright notice and this permission notice shall be included  --\n-- in all copies or substantial portions of the Software.                   --\n--                                                                          --\n-- THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS  --\n-- OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF               --\n-- MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.   --\n-- IN NO EVENT SHALL THE ABOVE COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,   --\n-- DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR    --\n-- OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR    --\n-- THE USE OR OTHER DEALINGS IN THE SOFTWARE.                               --\n--                                                                          --\n-- Except as contained in this notice, the name(s) of the above copyright   --\n-- holders shall not be used in advertising or otherwise to promote the     --\n-- sale, use or other dealings in this Software without prior written       --\n-- authorization.                                                           --\n------------------------------------------------------------------------------\n--  Author:  Juergen Pfeifer, 1996\n--  Version Control:\n--  $Revision: 1.14 $\n--  $Date: 2020/02/02 23:34:34 $\n--  Binding Version 01.00\n------------------------------------------------------------------------------\npackage body Terminal_Interface.Curses.Text_IO.Aux is\n\n   procedure Put_Buf\n     (Win    : Window;\n      Buf    : String;\n      Width  : Field;\n      Signal : Boolean := True;\n      Ljust  : Boolean := False)\n   is\n      L   : Field;\n      Len : Field;\n      W   : Field := Width;\n      LC  : Line_Count;\n      CC  : Column_Count;\n      Y   : Line_Position;\n      X   : Column_Position;\n\n      procedure Output (From, To : Field);\n\n      procedure Output (From, To : Field)\n      is\n      begin\n         if Len > 0 then\n            if W = 0 then\n               W := Len;\n            end if;\n            if Len > W then\n               --  LRM A10.6 (7) says this\n               W := Len;\n            end if;\n\n            pragma Assert (Len <= W);\n            Get_Size (Win, LC, CC);\n            if Column_Count (Len) > CC then\n               if Signal then\n                  raise Layout_Error;\n               else\n                  return;\n               end if;\n            else\n               if Len < W and then not Ljust then\n                  declare\n                     Filler : constant String (1 .. (W - Len))\n                       := (others => ' ');\n                  begin\n                     Put (Win, Filler);\n                  end;\n               end if;\n               Get_Cursor_Position (Win, Y, X);\n               if (X + Column_Position (Len)) > CC then\n                  New_Line (Win);\n               end if;\n               Put (Win, Buf (From .. To));\n               if Len < W and then Ljust then\n                  declare\n                     Filler : constant String (1 .. (W - Len))\n                       := (others => ' ');\n                  begin\n                     Put (Win, Filler);\n                  end;\n               end if;\n            end if;\n         end if;\n      end Output;\n\n   begin\n      pragma Assert (Win /= Null_Window);\n      if Ljust then\n         L := 1;\n         for I in 1 .. Buf'Length loop\n            exit when Buf (L) = ' ';\n            L := L + 1;\n         end loop;\n         Len := L - 1;\n         Output (1, Len);\n      else  -- input buffer is not left justified\n         L := Buf'Length;\n         for I in 1 .. Buf'Length loop\n            exit when Buf (L) = ' ';\n            L := L - 1;\n         end loop;\n         Len := Buf'Length - L;\n         Output (L + 1, Buf'Length);\n      end if;\n   end Put_Buf;\n\nend Terminal_Interface.Curses.Text_IO.Aux;\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}