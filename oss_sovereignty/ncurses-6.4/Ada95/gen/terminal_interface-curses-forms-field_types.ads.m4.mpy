{
  "module_name": "terminal_interface-curses-forms-field_types.ads.m4",
  "hash_id": "59d7b0bc0b1f615951d70354505d3f694df1f3a07655d83ca9a4c5b1f627b326",
  "original_prompt": "Ingested from ncurses-6.4/Ada95/gen/terminal_interface-curses-forms-field_types.ads.m4",
  "human_readable_source": "--  -*- ada -*-\ndefine(`HTMLNAME',`terminal_interface-curses-forms-field_user_data__ads.htm')dnl\ninclude(M4MACRO)dnl\n------------------------------------------------------------------------------\n--                                                                          --\n--                           GNAT ncurses Binding                           --\n--                                                                          --\n--                 Terminal_Interface.Curses.Forms.Field_Types              --\n--                                                                          --\n--                                 S P E C                                  --\n--                                                                          --\n------------------------------------------------------------------------------\n-- Copyright 2018,2020 Thomas E. Dickey                                     --\n-- Copyright 1998-2011,2014 Free Software Foundation, Inc.                  --\n--                                                                          --\n-- Permission is hereby granted, free of charge, to any person obtaining a  --\n-- copy of this software and associated documentation files (the            --\n-- \"Software\"), to deal in the Software without restriction, including      --\n-- without limitation the rights to use, copy, modify, merge, publish,      --\n-- distribute, distribute with modifications, sublicense, and/or sell       --\n-- copies of the Software, and to permit persons to whom the Software is    --\n-- furnished to do so, subject to the following conditions:                 --\n--                                                                          --\n-- The above copyright notice and this permission notice shall be included  --\n-- in all copies or substantial portions of the Software.                   --\n--                                                                          --\n-- THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS  --\n-- OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF               --\n-- MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.   --\n-- IN NO EVENT SHALL THE ABOVE COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,   --\n-- DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR    --\n-- OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR    --\n-- THE USE OR OTHER DEALINGS IN THE SOFTWARE.                               --\n--                                                                          --\n-- Except as contained in this notice, the name(s) of the above copyright   --\n-- holders shall not be used in advertising or otherwise to promote the     --\n-- sale, use or other dealings in this Software without prior written       --\n-- authorization.                                                           --\n------------------------------------------------------------------------------\n--  Author:  Juergen Pfeifer, 1996\n--  Version Control:\n--  $Revision: 1.21 $\n--  Binding Version 01.00\n------------------------------------------------------------------------------\nwith Interfaces.C;\nwith Terminal_Interface.Curses.Aux;\n\npackage Terminal_Interface.Curses.Forms.Field_Types is\n   pragma Preelaborate (Terminal_Interface.Curses.Forms.Field_Types);\n   subtype C_Int is Interfaces.C.int;\n\n   --  MANPAGE(`form_fieldtype.3x')\n\n   type Field_Type is abstract tagged null record;\n   --  Abstract base type for all field types. A concrete field type\n   --  is an extension that adds some data elements describing formats or\n   --  boundary values for the type and validation routines.\n   --  For the builtin low-level fieldtypes, the validation routines are\n   --  already defined by the low-level C library.\n   --  The builtin types like Alpha or AlphaNumeric etc. are defined in\n   --  child packages of this package. You may use one of them as example\n   --  how to create you own child packages for low-level field types that\n   --  you may have already written in C.\n\n   type Field_Type_Access is access all Field_Type'Class;\n\n   --  ANCHOR(`set_field_type()',`Set_Type')\n   procedure Set_Field_Type (Fld      : Field;\n                             Fld_Type : Field_Type) is abstract;\n   --  AKA\n   --  But: we hide the vararg mechanism of the C interface. You always\n   --       have to pass a single Field_Type parameter.\n\n   --  ---------------------------------------------------------------------\n\n   --  MANPAGE(`form_field_validation.3x')\n\n   --  ANCHOR(`field_type()',`Get_Type')\n   function Get_Type (Fld : Field) return Field_Type_Access;\n   --  AKA\n   --  ALIAS(`field_arg()')\n   --  In Ada95 we can combine these. If you try to retrieve the field type\n   --  that is not defined as extension of the abstract tagged type above,\n   --  you will raise a Form_Exception.\n   --  This is not inlined\n\n   --  +----------------------------------------------------------------------\n   --  | Private Part.\n   --  | Most of this is used by the implementations of the child packages.\n   --  |\nprivate\n   type Makearg_Function is access\n     function (Args : System.Address) return System.Address;\n   pragma Convention (C, Makearg_Function);\n\n   type Copyarg_Function is access\n     function (Usr : System.Address) return System.Address;\n   pragma Convention (C, Copyarg_Function);\n\n   type Freearg_Function is access\n     procedure (Usr : System.Address);\n   pragma Convention (C, Freearg_Function);\n\n   type Field_Check_Function is access\n     function (Fld : Field; Usr : System.Address) return Curses_Bool;\n   pragma Convention (C, Field_Check_Function);\n\n   type Char_Check_Function is access\n     function (Ch : C_Int; Usr : System.Address) return Curses_Bool;\n   pragma Convention (C, Char_Check_Function);\n\n   type Choice_Function is access\n     function (Fld : Field; Usr : System.Address) return Curses_Bool;\n   pragma Convention (C, Choice_Function);\n\n   --  +----------------------------------------------------------------------\n   --  | This must be in sync with the FIELDTYPE structure in form.h\n   --  |\n   type Low_Level_Field_Type is\n      record\n         Status :              Interfaces.C.unsigned_short;\n         Ref_Count :           Interfaces.C.long;\n         Left, Right :         System.Address;\n         Makearg :             Makearg_Function;\n         Copyarg :             Copyarg_Function;\n         Freearg :             Freearg_Function;\n         Fcheck :              Field_Check_Function;\n         Ccheck :              Char_Check_Function;\n         Next, Prev :          Choice_Function;\n      end record;\n   pragma Convention (C, Low_Level_Field_Type);\n   type C_Field_Type is access all Low_Level_Field_Type;\n\n   Null_Field_Type   : constant C_Field_Type := null;\n\n   --  +----------------------------------------------------------------------\n   --  | This four low-level fieldtypes are the ones associated with\n   --  | fieldtypes handled by this binding. Any other low-level fieldtype\n   --  | will result in a Form_Exception is function Get_Type.\n   --  |\n   M_Generic_Type   : C_Field_Type := null;\n   M_Generic_Choice : C_Field_Type := null;\n   M_Builtin_Router : C_Field_Type := null;\n   M_Choice_Router  : C_Field_Type := null;\n\n   --  Two wrapper functions to access those low-level fieldtypes defined\n   --  in this package.\n   function C_Builtin_Router return C_Field_Type;\n   function C_Choice_Router  return C_Field_Type;\n\n   procedure Wrap_Builtin (Fld : Field;\n                           Typ : Field_Type'Class;\n                           Cft : C_Field_Type := C_Builtin_Router);\n   --  This procedure has to be called by the Set_Field_Type implementation\n   --  for builtin low-level fieldtypes to replace it by an Ada95\n   --  conformant Field_Type object.\n   --  The parameter Cft must be C_Builtin_Router for regular low-level\n   --  fieldtypes (like TYP_ALPHA or TYP_ALNUM) and C_Choice_Router for\n   --  low-level fieldtypes witch choice functions (like TYP_ENUM).\n   --  Any other value will raise a Form_Exception.\n\n   function Make_Arg (Args : System.Address) return System.Address;\n   pragma Import (C, Make_Arg, \"void_star_make_arg\");\n   --  This is the Makearg_Function for the internal low-level types\n   --  introduced by this binding.\n\n   function Copy_Arg (Usr : System.Address) return System.Address;\n   pragma Convention (C, Copy_Arg);\n   --  This is the Copyarg_Function for the internal low-level types\n   --  introduced by this binding.\n\n   procedure Free_Arg (Usr : System.Address);\n   pragma Convention (C, Free_Arg);\n   --  This is the Freearg_Function for the internal low-level types\n   --  introduced by this binding.\n\n   function Field_Check_Router (Fld : Field;\n                                Usr : System.Address) return Curses_Bool;\n   pragma Convention (C, Field_Check_Router);\n   --  This is the Field_Check_Function for the internal low-level types\n   --  introduced to wrap the low-level types by a Field_Type derived\n   --  type. It routes the call to the corresponding low-level validation\n   --  function.\n\n   function Char_Check_Router (Ch : C_Int;\n                               Usr : System.Address) return Curses_Bool;\n   pragma Convention (C, Char_Check_Router);\n   --  This is the Char_Check_Function for the internal low-level types\n   --  introduced to wrap the low-level types by a Field_Type derived\n   --  type. It routes the call to the corresponding low-level validation\n   --  function.\n\n   function Next_Router (Fld : Field;\n                         Usr : System.Address) return Curses_Bool;\n   pragma Convention (C, Next_Router);\n   --  This is the Choice_Function for the internal low-level types\n   --  introduced to wrap the low-level types by a Field_Type derived\n   --  type. It routes the call to the corresponding low-level next_choice\n   --  function.\n\n   function Prev_Router (Fld : Field;\n                         Usr : System.Address) return Curses_Bool;\n   pragma Convention (C, Prev_Router);\n   --  This is the Choice_Function for the internal low-level types\n   --  introduced to wrap the low-level types by a Field_Type derived\n   --  type. It routes the call to the corresponding low-level prev_choice\n   --  function.\n\n   --  This is the Argument structure maintained by all low-level field types\n   --  introduced by this binding.\n   type Argument is record\n      Typ : Field_Type_Access;   --  the Field_Type creating this record\n      Usr : System.Address;      --  original arg for builtin low-level types\n      Cft : C_Field_Type;        --  the original low-level type\n   end record;\n   type Argument_Access is access all Argument;\n\n   --  +----------------------------------------------------------------------\n   --  |\n   --  | Some Imports of libform routines to deal with low-level fieldtypes.\n   --  |\n   function New_Fieldtype (Fcheck : Field_Check_Function;\n                           Ccheck : Char_Check_Function)\n     return C_Field_Type;\n   pragma Import (C, New_Fieldtype, \"new_fieldtype\");\n\n   function Set_Fieldtype_Arg (Cft : C_Field_Type;\n                               Mak : Makearg_Function := Make_Arg'Access;\n                               Cop : Copyarg_Function := Copy_Arg'Access;\n                               Fre : Freearg_Function := Free_Arg'Access)\n     return Aux.Eti_Error;\n   pragma Import (C, Set_Fieldtype_Arg, \"set_fieldtype_arg\");\n\n   function Set_Fieldtype_Choice (Cft : C_Field_Type;\n                                  Next, Prev : Choice_Function)\n     return Aux.Eti_Error;\n   pragma Import (C, Set_Fieldtype_Choice, \"set_fieldtype_choice\");\n\nend Terminal_Interface.Curses.Forms.Field_Types;\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}