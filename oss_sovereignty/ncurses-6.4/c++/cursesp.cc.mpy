{
  "module_name": "cursesp.cc",
  "hash_id": "e640f79321b166ec05992251da22798348791284bf1ef0bb079dbdc8bd8a51b9",
  "original_prompt": "Ingested from ncurses-6.4/c++/cursesp.cc",
  "human_readable_source": "\n \n\n \n\n#include \"internal.h\"\n#include \"cursesp.h\"\n\nMODULE_ID(\"$Id: cursesp.cc,v 1.27 2020/02/02 23:34:34 tom Exp $\")\n\nNCursesPanel* NCursesPanel::dummy = static_cast<NCursesPanel*>(0);\n\nvoid NCursesPanel::init()\n{\n  p = ::new_panel(w);\n  if (!p)\n    OnError(ERR);\n\n  UserHook* hook = new UserHook;\n  hook->m_user  = NULL;\n  hook->m_back  = this;\n  hook->m_owner = p;\n  ::set_panel_userptr(p, reinterpret_cast<void *>(hook));\n}\n\nNCursesPanel::~NCursesPanel() THROWS(NCursesException)\n{\n  UserHook* hook = UserPointer();\n  assert(hook != 0 && hook->m_back==this && hook->m_owner==p);\n  delete hook;\n  ::del_panel(p);\n  ::update_panels();\n}\n\nvoid\nNCursesPanel::redraw()\n{\n  PANEL *pan;\n\n  pan = ::panel_above(NULL);\n  while (pan) {\n    ::touchwin(panel_window(pan));\n    pan = ::panel_above(pan);\n  }\n  ::update_panels();\n  ::doupdate();\n}\n\nint\nNCursesPanel::refresh()\n{\n  ::update_panels();\n  return ::doupdate();\n}\n\nint\nNCursesPanel::noutrefresh()\n{\n  ::update_panels();\n  return OK;\n}\n\nvoid\nNCursesPanel::boldframe(const char *title, const char* btitle)\n{\n  standout();\n  frame(title, btitle);\n  standend();\n}\n\nvoid\nNCursesPanel::frame(const char *title,const char *btitle)\n{\n  int err = OK;\n  if (!title && !btitle) {\n    err = box();\n  }\n  else {\n    err = box();\n    if (err==OK)\n      label(title,btitle);\n  }\n  OnError(err);\n}\n\nvoid\nNCursesPanel::label(const char *tLabel, const char *bLabel)\n{\n  if (tLabel)\n    centertext(0,tLabel);\n  if (bLabel)\n    centertext(maxy(),bLabel);\n}\n\nvoid\nNCursesPanel::centertext(int row,const char *labelText)\n{\n  if (labelText) {\n    int x = (maxx() - ::strlen(labelText)) / 2;\n    if (x<0)\n      x=0;\n    OnError(addstr(row, x, labelText, width()));\n  }\n}\n\nint\nNCursesPanel::getKey(void)\n{\n  return getch();\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}