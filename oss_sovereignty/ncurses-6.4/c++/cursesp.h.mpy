{
  "module_name": "cursesp.h",
  "hash_id": "a55a7a602d8f35f70d78a55e0cb79ba0514ad133e706b339d09d10f7b851c4d1",
  "original_prompt": "Ingested from ncurses-6.4/c++/cursesp.h",
  "human_readable_source": "\n\n \n\n \n\n#ifndef NCURSES_CURSESP_H_incl\n#define NCURSES_CURSESP_H_incl 1\n\n\n\n#include <cursesw.h>\n\nextern \"C\" {\n#  include <panel.h>\n}\n\nclass NCURSES_CXX_IMPEXP NCursesPanel\n  : public NCursesWindow\n{\nprotected:\n  PANEL *p;\n  static NCursesPanel *dummy;\n\nprivate:\n  \n  \n  typedef struct {\n    void*               m_user;      \n    const NCursesPanel* m_back;      \n    const PANEL*        m_owner;     \n  } UserHook;\n\n  inline UserHook *UserPointer()\n  {\n    UserHook* uptr = reinterpret_cast<UserHook*>(\n                           const_cast<void *>(::panel_userptr (p)));\n    return uptr;\n  }\n\n  void init();                       \n\nprotected:\n  void set_user(void *user)\n  {\n    UserHook* uptr = UserPointer();\n    if (uptr != 0 && uptr->m_back==this && uptr->m_owner==p) {\n      uptr->m_user = user;\n    }\n  }\n  \n\n  void *get_user()\n  {\n    UserHook* uptr = UserPointer();\n    void *result = 0;\n    if (uptr != 0 && uptr->m_back==this && uptr->m_owner==p)\n      result = uptr->m_user;\n    return result;\n  }\n\n  void OnError (int err) const THROW2(NCursesException const, NCursesPanelException)\n  {\n    if (err==ERR)\n      THROW(new NCursesPanelException (this, err));\n  }\n  \n  \n\n  \n  virtual int getKey(void);\n\npublic:\n  NCursesPanel(int nlines,\n\t       int ncols,\n\t       int begin_y = 0,\n\t       int begin_x = 0)\n    : NCursesWindow(nlines,ncols,begin_y,begin_x), p(0)\n  {\n    init();\n  }\n  \n\n  NCursesPanel()\n    : NCursesWindow(::stdscr), p(0)\n  {\n    init();\n  }\n  \n  \n\n  NCursesPanel& operator=(const NCursesPanel& rhs)\n  {\n    if (this != &rhs) {\n      *this = rhs;\n      NCursesWindow::operator=(rhs);\n    }\n    return *this;\n  }\n\n  NCursesPanel(const NCursesPanel& rhs)\n    : NCursesWindow(rhs),\n      p(rhs.p)\n  {\n  }\n\n  virtual ~NCursesPanel() THROWS(NCursesException);\n\n  \n  inline void hide()\n  {\n    OnError (::hide_panel(p));\n  }\n  \n\n  inline void show()\n  {\n    OnError (::show_panel(p));\n  }\n  \n\n  inline void top()\n  {\n    OnError (::top_panel(p));\n  }\n  \n\n  inline void bottom()\n  {\n    OnError (::bottom_panel(p));\n  }\n  \n  \n  \n\n  virtual int mvwin(int y, int x) NCURSES_OVERRIDE\n  {\n    OnError(::move_panel(p, y, x));\n    return OK;\n  }\n\n  inline bool hidden() const\n  {\n    return (::panel_hidden (p) ? TRUE : FALSE);\n  }\n  \n\n \n  inline NCursesPanel& above() const\n  {\n    OnError(ERR);\n    return *dummy;\n  }\n\n  inline NCursesPanel& below() const\n  {\n    OnError(ERR);\n    return *dummy;\n  }\n\n  \n  \n  virtual int refresh() NCURSES_OVERRIDE;\n  \n  \n\n  virtual int noutrefresh() NCURSES_OVERRIDE;\n  \n\n  static void redraw();\n  \n\n  \n  virtual void frame(const char* title=NULL,\n\t\t     const char* btitle=NULL);\n  \n  \n\n  virtual void boldframe(const char* title=NULL,\n\t\t\t const char* btitle=NULL);\n  \n\n  virtual void label(const char* topLabel,\n\t\t     const char* bottomLabel);\n  \n\n  virtual void centertext(int row,const char* label);\n  \n};\n\n \ntemplate<class T> class NCursesUserPanel : public NCursesPanel\n{\npublic:\n  NCursesUserPanel (int nlines,\n\t\t    int ncols,\n\t\t    int begin_y = 0,\n\t\t    int begin_x = 0,\n\t\t    const T* p_UserData = STATIC_CAST(T*)(0))\n    : NCursesPanel (nlines, ncols, begin_y, begin_x)\n  {\n      if (p)\n\tset_user (const_cast<void *>(reinterpret_cast<const void*>\n\t\t\t\t     (p_UserData)));\n  };\n  \n  \n\n  explicit NCursesUserPanel(const T* p_UserData = STATIC_CAST(T*)(0)) : NCursesPanel()\n  {\n    if (p)\n      set_user(const_cast<void *>(reinterpret_cast<const void*>(p_UserData)));\n  };\n  \n  \n\n  virtual ~NCursesUserPanel() THROWS(NCursesException) {};\n\n  T* UserData (void)\n  {\n    return reinterpret_cast<T*>(get_user ());\n  };\n  \n\n  virtual void setUserData (const T* p_UserData)\n  {\n    if (p)\n      set_user (const_cast<void *>(reinterpret_cast<const void*>(p_UserData)));\n  }\n  \n};\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}