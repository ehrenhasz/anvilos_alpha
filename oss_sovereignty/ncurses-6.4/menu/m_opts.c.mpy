{
  "module_name": "m_opts.c",
  "hash_id": "20f88457232f09628c61204baa82fdaf7a02ea4a552aa2304c44d2c019012f73",
  "original_prompt": "Ingested from ncurses-6.4/menu/m_opts.c",
  "human_readable_source": " \n\n \n\n \n\n#include \"menu.priv.h\"\n\nMODULE_ID(\"$Id: m_opts.c,v 1.23 2020/12/12 00:38:08 tom Exp $\")\n\n \nMENU_EXPORT(int)\nset_menu_opts(MENU *menu, Menu_Options opts)\n{\n  T((T_CALLED(\"set_menu_opts(%p,%d)\"), (void *)menu, opts));\n\n  opts &= ALL_MENU_OPTS;\n\n  if (opts & ~ALL_MENU_OPTS)\n    RETURN(E_BAD_ARGUMENT);\n\n  if (menu)\n    {\n      if (menu->status & _POSTED)\n\tRETURN(E_POSTED);\n\n      if ((opts & O_ROWMAJOR) != (menu->opt & O_ROWMAJOR))\n\t{\n\t   \n\t  if (menu->items && menu->items[0])\n\t    {\n\t      menu->toprow = 0;\n\t      menu->curitem = menu->items[0];\n\t      assert(menu->curitem);\n\t      set_menu_format(menu, menu->frows, menu->fcols);\n\t    }\n\t}\n\n      menu->opt = opts;\n\n      if (opts & O_ONEVALUE)\n\t{\n\t  ITEM **item;\n\n\t  if (((item = menu->items) != (ITEM **)0))\n\t    for (; *item; item++)\n\t      (*item)->value = FALSE;\n\t}\n\n      if (opts & O_SHOWDESC)\t \n\t_nc_Calculate_Item_Length_and_Width(menu);\n    }\n  else\n    _nc_Default_Menu.opt = opts;\n\n  RETURN(E_OK);\n}\n\n \nMENU_EXPORT(int)\nmenu_opts_off(MENU *menu, Menu_Options opts)\n{\n  MENU *cmenu = menu;\t\t \n\n  T((T_CALLED(\"menu_opts_off(%p,%d)\"), (void *)menu, opts));\n\n  opts &= ALL_MENU_OPTS;\n  if (opts & ~ALL_MENU_OPTS)\n    RETURN(E_BAD_ARGUMENT);\n  else\n    {\n      Normalize_Menu(cmenu);\n      opts = cmenu->opt & ~opts;\n      returnCode(set_menu_opts(menu, opts));\n    }\n}\n\n \nMENU_EXPORT(int)\nmenu_opts_on(MENU *menu, Menu_Options opts)\n{\n  MENU *cmenu = menu;\t\t \n\n  T((T_CALLED(\"menu_opts_on(%p,%d)\"), (void *)menu, opts));\n\n  opts &= ALL_MENU_OPTS;\n  if (opts & ~ALL_MENU_OPTS)\n    RETURN(E_BAD_ARGUMENT);\n  else\n    {\n      Normalize_Menu(cmenu);\n      opts = cmenu->opt | opts;\n      returnCode(set_menu_opts(menu, opts));\n    }\n}\n\n \nMENU_EXPORT(Menu_Options)\nmenu_opts(const MENU *menu)\n{\n  T((T_CALLED(\"menu_opts(%p)\"), (const void *)menu));\n  returnMenuOpts(ALL_MENU_OPTS & Normalize_Menu(menu)->opt);\n}\n\n \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}