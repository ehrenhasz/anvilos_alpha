{
  "module_name": "bootstrap",
  "hash_id": "e41d728b0112627b6a68a213ad87eb9b627612ffde60cd13def549e114ef7447",
  "original_prompt": "Ingested from coreutils-9.4/bootstrap",
  "human_readable_source": "#! /bin/sh\n# DO NOT EDIT! GENERATED AUTOMATICALLY!\n\n# Bootstrap this package from checked-out sources.\n\nscriptversion=2023-07-01.18; # UTC\n\n# Copyright (C) 2003-2023 Free Software Foundation, Inc.\n#\n# This program is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 3 of the License, or\n# (at your option) any later version.\n#\n# This program is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n# GNU General Public License for more details.\n#\n# You should have received a copy of the GNU General Public License\n# along with this program.  If not, see <https://www.gnu.org/licenses/>.\n\n# Originally written by Paul Eggert.  The canonical version of this\n# script is maintained as top/bootstrap in gnulib. However, to be\n# useful to your package, you should place a copy of it under version\n# control in the top-level directory of your package.  The intent is\n# that all customization can be done with a bootstrap.conf file also\n# maintained in your version control; gnulib comes with a template\n# build-aux/bootstrap.conf to get you started.\n\n# Please report bugs or propose patches to bug-gnulib@gnu.org.\n\nme=\"$0\"\nmedir=`dirname \"$me\"`\n\n# Read the function library and the configuration.\n\n# A library of shell functions for autopull.sh, autogen.sh, and bootstrap.\n\nscriptlibversion=2023-07-01.17; # UTC\n\n# Copyright (C) 2003-2023 Free Software Foundation, Inc.\n#\n# This program is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 3 of the License, or\n# (at your option) any later version.\n#\n# This program is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n# GNU General Public License for more details.\n#\n# You should have received a copy of the GNU General Public License\n# along with this program.  If not, see <https://www.gnu.org/licenses/>.\n\n# Originally written by Paul Eggert.  The canonical version of this\n# script is maintained as top/bootstrap-funclib.sh in gnulib.  However,\n# to be useful to your package, you should place a copy of it under\n# version control in the top-level directory of your package.  The\n# intent is that all customization can be done with a bootstrap.conf\n# file also maintained in your version control; gnulib comes with a\n# template build-aux/bootstrap.conf to get you started.\n\nnl='\n'\n\n# Ensure file names are sorted consistently across platforms.\nLC_ALL=C\nexport LC_ALL\n\n# Honor $PERL, but work even if there is none.\nPERL=\"${PERL-perl}\"\n\ndefault_gnulib_url=https://git.savannah.gnu.org/git/gnulib.git\n\n# Copyright year, for the --version output.\ncopyright_year=`echo \"$scriptlibversion\" | sed -e 's/[^0-9].*//'`\ncopyright=\"Copyright (C) ${copyright_year} Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later <https://gnu.org/licenses/gpl.html>.\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\"\n\n# warnf_ FORMAT-STRING ARG1...\nwarnf_ ()\n{\n  warnf_format_=$1\n  shift\n  nl='\n'\n  case $* in\n    *$nl*) me_=$(printf \"$me\"|tr \"$nl|\" '??')\n       printf \"$warnf_format_\" \"$@\" | sed \"s|^|$me_: |\" ;;\n    *) printf \"$me: $warnf_format_\" \"$@\" ;;\n  esac >&2\n}\n\n# warn_ WORD1...\nwarn_ ()\n{\n  # If IFS does not start with ' ', set it and emit the warning in a subshell.\n  case $IFS in\n    ' '*) warnf_ '%s\\n' \"$*\";;\n    *)    (IFS=' '; warn_ \"$@\");;\n  esac\n}\n\n# die WORD1...\ndie() { warn_ \"$@\"; exit 1; }\n\n# ------------------------------ Configuration. ------------------------------\n\n# Directory that contains package-specific gnulib modules and/or overrides.\nlocal_gl_dir=gl\n\n# Name of the Makefile.am\n# XXX Not used.\ngnulib_mk=gnulib.mk\n\n# List of gnulib modules needed.\ngnulib_modules=\n\n# Any gnulib files needed that are not in modules.\ngnulib_files=\n\n# A function to be called for each unrecognized option.  Returns 0 if\n# the option in $1 has been processed by the function.  Returns 1 if\n# the option has not been processed by the function.  Override it via\n# your own definition in bootstrap.conf\nbootstrap_option_hook() { return 1; }\n\n# A function to be called in order to print the --help information\n# corresponding to user-defined command-line options.\nbootstrap_print_option_usage_hook() { :; }\n\n# A function to be called at the end of autopull.sh.\n# Override it via your own definition in bootstrap.conf.\nbootstrap_post_pull_hook() { :; }\n\n# A function to be called right after gnulib-tool is run.\n# Override it via your own definition in bootstrap.conf.\nbootstrap_post_import_hook() { :; }\n\n# A function to be called after everything else in this script.\n# Override it via your own definition in bootstrap.conf.\nbootstrap_epilogue() { :; }\n\n# The command to download all .po files for a specified domain into a\n# specified directory.  Fill in the first %s with the destination\n# directory and the second with the domain name.\npo_download_command_format=\\\n\"wget --mirror --level=1 -nd -nv -A.po -P '%s' \\\n https://translationproject.org/latest/%s/\"\n\n# Prefer a non-empty tarname (4th argument of AC_INIT if given), else\n# fall back to the package name (1st argument with munging).\nextract_package_name='\n  /^AC_INIT(\\[*/{\n     s///\n     /^[^,]*,[^,]*,[^,]*,[ []*\\([^][ ,)]\\)/{\n       s//\\1/\n       s/[],)].*//\n       p\n       q\n     }\n     s/[],)].*//\n     s/^GNU //\n     y/ABCDEFGHIJKLMNOPQRSTUVWXYZ/abcdefghijklmnopqrstuvwxyz/\n     s/[^abcdefghijklmnopqrstuvwxyz0123456789_]/-/g\n     p\n  }\n'\npackage=$(${AUTOCONF:-autoconf} --trace AC_INIT:\\$4 configure.ac 2>/dev/null)\nif test -z \"$package\"; then\n  package=$(sed -n \"$extract_package_name\" configure.ac) \\\n      || die 'cannot find package name in configure.ac'\nfi\ngnulib_name=lib$package\n\nbuild_aux=build-aux\nsource_base=lib\nm4_base=m4\ndoc_base=doc\ntests_base=tests\ngnulib_extra_files=\"\n        build-aux/install-sh\n        build-aux/mdate-sh\n        build-aux/texinfo.tex\n        build-aux/depcomp\n        build-aux/config.guess\n        build-aux/config.sub\n        doc/INSTALL\n\"\n\n# Additional gnulib-tool options to use.  Use \"\\newline\" to break lines.\ngnulib_tool_option_extras=\n\n# Other locale categories that need message catalogs.\nEXTRA_LOCALE_CATEGORIES=\n\n# Additional xgettext options to use.  Use \"\\\\\\newline\" to break lines.\nXGETTEXT_OPTIONS='\\\\\\\n --flag=_:1:pass-c-format\\\\\\\n --flag=N_:1:pass-c-format\\\\\\\n --flag=error:3:c-format --flag=error_at_line:5:c-format\\\\\\\n'\n\n# Package bug report address and copyright holder for gettext files\nCOPYRIGHT_HOLDER='Free Software Foundation, Inc.'\nMSGID_BUGS_ADDRESS=bug-$package@gnu.org\n\n# Files we don't want to import.\n# XXX Not used.\nexcluded_files=\n\n# File that should exist in the top directory of a checked out hierarchy,\n# but not in a distribution tarball.\ncheckout_only_file=README-hacking\n\n# Set this to '.cvsignore .gitignore' in bootstrap.conf if you want\n# those files to be generated in directories like lib/, m4/, and po/.\n# Or set it to 'auto' to make this script select which to use based\n# on which version control system (if any) is used in the source directory.\nvc_ignore=auto\n\n# Set this to true in bootstrap.conf to enable --bootstrap-sync by\n# default.\nbootstrap_sync=false\n\n# Override the default configuration, if necessary.\n# Make sure that bootstrap.conf is sourced from the current directory\n# if we were invoked as \"sh bootstrap\".\nconffile=`dirname \"$me\"`/bootstrap.conf\ntest -r \"$conffile\" && . \"$conffile\"\n\n# ------------------------- Build-time prerequisites -------------------------\n\ncheck_exists() {\n  if test \"$1\" = \"--verbose\"; then\n    ($2 --version </dev/null) >/dev/null 2>&1\n    if test $? -ge 126; then\n      # If not found, run with diagnostics as one may be\n      # presented with env variables to set to find the right version\n      ($2 --version </dev/null)\n    fi\n  else\n    ($1 --version </dev/null) >/dev/null 2>&1\n  fi\n\n  test $? -lt 126\n}\n\n# Note this deviates from the version comparison in automake\n# in that it treats 1.5 < 1.5.0, and treats 1.4.4a < 1.4-p3a\n# but this should suffice as we won't be specifying old\n# version formats or redundant trailing .0 in bootstrap.conf.\n# If we did want full compatibility then we should probably\n# use m4_version_compare from autoconf.\nsort_ver() { # sort -V is not generally available\n  ver1=\"$1\"\n  ver2=\"$2\"\n\n  # split on '.' and compare each component\n  i=1\n  while : ; do\n    p1=$(echo \"$ver1\" | cut -d. -f$i)\n    p2=$(echo \"$ver2\" | cut -d. -f$i)\n    if [ ! \"$p1\" ]; then\n      echo \"$1 $2\"\n      break\n    elif [ ! \"$p2\" ]; then\n      echo \"$2 $1\"\n      break\n    elif [ ! \"$p1\" = \"$p2\" ]; then\n      if [ \"$p1\" -gt \"$p2\" ] 2>/dev/null; then # numeric comparison\n        echo \"$2 $1\"\n      elif [ \"$p2\" -gt \"$p1\" ] 2>/dev/null; then # numeric comparison\n        echo \"$1 $2\"\n      else # numeric, then lexicographic comparison\n        lp=$(printf \"%s\\n%s\\n\" \"$p1\" \"$p2\" | LANG=C sort -n | tail -n1)\n        if [ \"$lp\" = \"$p2\" ]; then\n          echo \"$1 $2\"\n        else\n          echo \"$2 $1\"\n        fi\n      fi\n      break\n    fi\n    i=$(($i+1))\n  done\n}\n\nget_version_sed='\n# Move version to start of line.\ns/.*[v ]\\([0-9]\\)/\\1/\n\n# Skip lines that do not start with version.\n/^[0-9]/!d\n\n# Remove characters after the version.\ns/[^.a-z0-9-].*//\n\n# The first component must be digits only.\ns/^\\([0-9]*\\)[a-z-].*/\\1/\n\n#the following essentially does s/5.005/5.5/\ns/\\.0*\\([1-9]\\)/.\\1/g\np\nq'\n\nget_version() {\n  app=$1\n\n  $app --version >/dev/null 2>&1 || { $app --version; return 1; }\n\n  $app --version 2>&1 | sed -n \"$get_version_sed\"\n}\n\ncheck_versions() {\n  ret=0\n\n  while read app req_ver; do\n    # We only need libtoolize from the libtool package.\n    if test \"$app\" = libtool; then\n      app=libtoolize\n    fi\n    # Exempt git if git is not needed.\n    if test \"$app\" = git; then\n      $check_git || continue\n    fi\n    # Honor $APP variables ($TAR, $AUTOCONF, etc.)\n    appvar=$(echo $app | LC_ALL=C tr '[a-z]-' '[A-Z]_')\n    test \"$appvar\" = TAR && appvar=AMTAR\n    case $appvar in\n        GZIP) ;; # Do not use $GZIP:  it contains gzip options.\n        PERL::*) ;; # Keep perl modules as-is\n        *) eval \"app=\\${$appvar-$app}\" ;;\n    esac\n\n    # Handle the still-experimental Automake-NG programs specially.\n    # They remain named as the mainstream Automake programs (\"automake\",\n    # and \"aclocal\") to avoid gratuitous incompatibilities with\n    # preexisting usages (by, say, autoreconf, or custom autogen.sh\n    # scripts), but correctly identify themselves (as being part of\n    # \"GNU automake-ng\") when asked their version.\n    case $app in\n      automake-ng|aclocal-ng)\n        app=${app%-ng}\n        ($app --version | grep '(GNU automake-ng)') >/dev/null 2>&1 || {\n          warn_ \"Error: '$app' not found or not from Automake-NG\"\n          ret=1\n          continue\n        } ;;\n      # Another check is for perl modules.  These can be written as\n      # e.g. perl::XML::XPath in case of XML::XPath module, etc.\n      perl::*)\n        # Extract module name\n        app=\"${app#perl::}\"\n        if ! $PERL -m\"$app\" -e 'exit 0' >/dev/null 2>&1; then\n          warn_ \"Error: perl module '$app' not found\"\n          ret=1\n        fi\n        continue\n        ;;\n    esac\n    if [ \"$req_ver\" = \"-\" ]; then\n      # Merely require app to exist; not all prereq apps are well-behaved\n      # so we have to rely on $? rather than get_version.\n      if ! check_exists --verbose $app; then\n        warn_ \"Error: '$app' not found\"\n        ret=1\n      fi\n    else\n      # Require app to produce a new enough version string.\n      inst_ver=$(get_version $app)\n      if [ ! \"$inst_ver\" ]; then\n        warn_ \"Error: '$app' not found\"\n        ret=1\n      else\n        latest_ver=$(sort_ver $req_ver $inst_ver | cut -d' ' -f2)\n        if [ ! \"$latest_ver\" = \"$inst_ver\" ]; then\n          warnf_ '%s\\n'                                        \\\n              \"Error: '$app' version == $inst_ver is too old\"  \\\n              \"       '$app' version >= $req_ver is required\"\n          ret=1\n        fi\n      fi\n    fi\n  done\n\n  return $ret\n}\n\nprint_versions() {\n  echo \"Program    Min_version\"\n  echo \"----------------------\"\n  printf %s \"$buildreq\"\n  echo \"----------------------\"\n  # can't depend on column -t\n}\n\n# check_build_prerequisites check_git\ncheck_build_prerequisites()\n{\n  check_git=\"$1\"\n\n  # gnulib-tool requires at least automake and autoconf.\n  # If either is not listed, add it (with minimum version) as a prerequisite.\n  case $buildreq in\n    *automake*) ;;\n    *) buildreq=\"automake 1.9\n$buildreq\" ;;\n  esac\n  case $buildreq in\n    *autoconf*) ;;\n    *) buildreq=\"autoconf 2.59\n$buildreq\" ;;\n  esac\n\n  # When we can deduce that gnulib-tool will require patch,\n  # and when patch is not already listed as a prerequisite, add it, too.\n  if test -d \"$local_gl_dir\" \\\n     && ! find \"$local_gl_dir\" -name '*.diff' -exec false {} +; then\n    case $buildreq in\n      *patch*) ;;\n      *) buildreq=\"patch -\n$buildreq\" ;;\n    esac\n  fi\n\n  if ! printf '%s' \"$buildreq\" | check_versions; then\n    echo >&2\n    if test -f README-prereq; then\n      die \"See README-prereq for how to get the prerequisite programs\"\n    else\n      die \"Please install the prerequisite programs\"\n    fi\n  fi\n\n  # Warn the user if autom4te appears to be broken; this causes known\n  # issues with at least gettext 0.18.3.\n  probe=$(echo 'm4_quote([hi])' | autom4te -l M4sugar -t 'm4_quote:$%' -)\n  if test \"x$probe\" != xhi; then\n    warn_ \"WARNING: your autom4te wrapper eats stdin;\"\n    warn_ \"if bootstrap fails, consider upgrading your autotools\"\n  fi\n}\n\n# find_tool ENVVAR NAMES...\n# -------------------------\n# Search for a required program.  Use the value of ENVVAR, if set,\n# otherwise find the first of the NAMES that can be run.\n# If found, set ENVVAR to the program name, die otherwise.\n#\n# FIXME: code duplication, see also gnu-web-doc-update.\nfind_tool ()\n{\n  find_tool_envvar=$1\n  shift\n  find_tool_names=$@\n  eval \"find_tool_res=\\$$find_tool_envvar\"\n  if test x\"$find_tool_res\" = x; then\n    for i; do\n      if check_exists $i; then\n        find_tool_res=$i\n        break\n      fi\n    done\n  fi\n  if test x\"$find_tool_res\" = x; then\n    warn_ \"one of these is required: $find_tool_names;\"\n    die   \"alternatively set $find_tool_envvar to a compatible tool\"\n  fi\n  eval \"$find_tool_envvar=\\$find_tool_res\"\n  eval \"export $find_tool_envvar\"\n}\n\n# --------------------- Preparing GNULIB_SRCDIR for use. ---------------------\n# This is part of autopull.sh, but bootstrap needs it too, for self-upgrading.\n\ncleanup_gnulib() {\n  status=$?\n  # XXX It's a bad idea to erase the submodule directory if it contains local\n  #     modifications.\n  rm -fr \"$gnulib_path\"\n  exit $status\n}\n\ngit_modules_config () {\n  test -f .gitmodules && git config --file .gitmodules \"$@\"\n}\n\nprepare_GNULIB_SRCDIR ()\n{\n  if test -n \"$GNULIB_SRCDIR\"; then\n    # Use GNULIB_SRCDIR directly.\n    # We already checked that $GNULIB_SRCDIR references a directory.\n    # Verify that it contains a gnulib checkout.\n    test -f \"$GNULIB_SRCDIR/gnulib-tool\" \\\n      || die \"Error: --gnulib-srcdir or \\$GNULIB_SRCDIR is specified,\" \\\n             \"but does not contain gnulib-tool\"\n  elif $use_git; then\n    gnulib_path=$(git_modules_config submodule.gnulib.path)\n    test -z \"$gnulib_path\" && gnulib_path=gnulib\n\n    # Get gnulib files.  Populate $gnulib_path, possibly updating a\n    # submodule, for use in the rest of the script.\n\n    if test -n \"$GNULIB_REFDIR\" && test -d \"$GNULIB_REFDIR\"/.git \\\n       && git_modules_config submodule.gnulib.url >/dev/null; then\n      # Use GNULIB_REFDIR as a reference.\n      echo \"$0: getting gnulib files...\"\n      if git submodule -h|grep -- --reference > /dev/null; then\n        # Prefer the one-liner available in git 1.6.4 or newer.\n        git submodule update --init --reference \"$GNULIB_REFDIR\" \\\n          \"$gnulib_path\" || exit $?\n      else\n        # This fallback allows at least git 1.5.5.\n        if test -f \"$gnulib_path\"/gnulib-tool; then\n          # Since file already exists, assume submodule init already complete.\n          git submodule update -- \"$gnulib_path\" || exit $?\n        else\n          # Older git can't clone into an empty directory.\n          rmdir \"$gnulib_path\" 2>/dev/null\n          git clone --reference \"$GNULIB_REFDIR\" \\\n            \"$(git_modules_config submodule.gnulib.url)\" \"$gnulib_path\" \\\n            && git submodule init -- \"$gnulib_path\" \\\n            && git submodule update -- \"$gnulib_path\" \\\n            || exit $?\n        fi\n      fi\n    else\n      # GNULIB_REFDIR is not set or not usable. Ignore it.\n      if git_modules_config submodule.gnulib.url >/dev/null; then\n        echo \"$0: getting gnulib files...\"\n        git submodule init -- \"$gnulib_path\" || exit $?\n        git submodule update -- \"$gnulib_path\" || exit $?\n\n      elif [ ! -d \"$gnulib_path\" ]; then\n        echo \"$0: getting gnulib files...\"\n\n        trap cleanup_gnulib HUP INT PIPE TERM\n\n        shallow=\n        if test -z \"$GNULIB_REVISION\"; then\n          if git clone -h 2>&1 | grep -- --depth > /dev/null; then\n            shallow='--depth 2'\n          fi\n          git clone $shallow ${GNULIB_URL:-$default_gnulib_url} \"$gnulib_path\" \\\n            || cleanup_gnulib\n        else\n          if git fetch -h 2>&1 | grep -- --depth > /dev/null; then\n            shallow='--depth 2'\n          fi\n          mkdir -p \"$gnulib_path\"\n          # Only want a shallow checkout of $GNULIB_REVISION, but git does not\n          # support cloning by commit hash. So attempt a shallow fetch by commit\n          # hash to minimize the amount of data downloaded and changes needed to\n          # be processed, which can drastically reduce download and processing\n          # time for checkout. If the fetch by commit fails, a shallow fetch can\n          # not be performed because we do not know what the depth of the commit\n          # is without fetching all commits. So fall back to fetching all\n          # commits.\n          git -C \"$gnulib_path\" init\n          git -C \"$gnulib_path\" remote add origin \\\n              ${GNULIB_URL:-$default_gnulib_url}\n          git -C \"$gnulib_path\" fetch $shallow origin \"$GNULIB_REVISION\" \\\n            || git -C \"$gnulib_path\" fetch origin \\\n            || cleanup_gnulib\n          git -C \"$gnulib_path\" reset --hard FETCH_HEAD\n        fi\n\n        trap - HUP INT PIPE TERM\n      fi\n    fi\n    GNULIB_SRCDIR=$gnulib_path\n    # Verify that the submodule contains a gnulib checkout.\n    test -f \"$gnulib_path/gnulib-tool\" \\\n      || die \"Error: $gnulib_path is supposed to contain a gnulib checkout,\" \\\n             \"but does not contain gnulib-tool\"\n  fi\n\n  # XXX Should this be done if $use_git is false?\n  if test -d \"$GNULIB_SRCDIR\"/.git && test -n \"$GNULIB_REVISION\" \\\n     && ! git_modules_config submodule.gnulib.url >/dev/null; then\n    (cd \"$GNULIB_SRCDIR\" && git checkout \"$GNULIB_REVISION\") || cleanup_gnulib\n  fi\n\n  # $GNULIB_SRCDIR now points to the version of gnulib to use, and\n  # we no longer need to use git or $gnulib_path below here.\n}\n\n# -------- Upgrading bootstrap to the version found in GNULIB_SRCDIR. --------\n\nupgrade_bootstrap ()\n{\n  if test -f \"$medir\"/bootstrap-funclib.sh; then\n    update_lib=true\n    { cmp -s \"$medir\"/bootstrap \"$GNULIB_SRCDIR/top/bootstrap\" \\\n      && cmp -s \"$medir\"/bootstrap-funclib.sh \\\n                \"$GNULIB_SRCDIR/top/bootstrap-funclib.sh\" \\\n      && cmp -s \"$medir\"/autopull.sh \"$GNULIB_SRCDIR/top/autopull.sh\" \\\n      && cmp -s \"$medir\"/autogen.sh \"$GNULIB_SRCDIR/top/autogen.sh\"; \\\n    }\n  else\n    update_lib=false\n    cmp -s \"$medir\"/bootstrap \"$GNULIB_SRCDIR/build-aux/bootstrap\"\n  fi || {\n    if $update_lib; then\n      echo \"$0: updating bootstrap & companions and restarting...\"\n    else\n      echo \"$0: updating bootstrap and restarting...\"\n    fi\n    case $(sh -c 'echo \"$1\"' -- a) in\n      a) ignored=--;;\n      *) ignored=ignored;;\n    esac\n    u=$update_lib\n    exec sh -c \\\n      '{ if '$u' && test -f \"$1\"; then cp \"$1\" \"$3\"; else cp \"$2\" \"$3\"; fi; } &&\n       { if '$u' && test -f \"$4\"; then cp \"$4\" \"$5\"; else rm -f \"$5\"; fi; } &&\n       { if '$u' && test -f \"$6\"; then cp \"$6\" \"$7\"; else rm -f \"$7\"; fi; } &&\n       { if '$u' && test -f \"$8\"; then cp \"$8\" \"$9\"; else rm -f \"$9\"; fi; } &&\n       shift && shift && shift && shift && shift &&\n       shift && shift && shift && shift &&\n       exec \"${CONFIG_SHELL-/bin/sh}\" \"$@\"' \\\n      $ignored \\\n      \"$GNULIB_SRCDIR/top/bootstrap\" \"$GNULIB_SRCDIR/build-aux/bootstrap\" \\\n      \"$medir/bootstrap\" \\\n      \"$GNULIB_SRCDIR/top/bootstrap-funclib.sh\" \"$medir/bootstrap-funclib.sh\" \\\n      \"$GNULIB_SRCDIR/top/autopull.sh\" \"$medir/autopull.sh\" \\\n      \"$GNULIB_SRCDIR/top/autogen.sh\" \"$medir/autogen.sh\" \\\n      \"$0\" \"$@\" --no-bootstrap-sync\n  }\n}\n\n# ----------------------------------------------------------------------------\n\nif test x\"$gnulib_modules$gnulib_files$gnulib_extra_files\" = x; then\n  use_gnulib=false\nelse\n  use_gnulib=true\nfi\n\n# -------- Fetch auxiliary files from the network.  --------------------------\n\nautopull_usage() {\n  cat <<EOF\nUsage: $me [OPTION]...\nBootstrap this package from the checked-out sources.\n\nOptional environment variables:\n  GNULIB_SRCDIR            Specifies the local directory where gnulib\n                           sources reside.  Use this if you already\n                           have gnulib sources on your machine, and\n                           you want to use these sources.\n  GNULIB_REFDIR            Specifies the local directory where a gnulib\n                           repository (with a .git subdirectory) resides.\n                           Use this if you already have gnulib sources\n                           and history on your machine, and do not want\n                           to waste your bandwidth downloading them again.\n  GNULIB_URL               Cloneable URL of the gnulib repository.\n\nOptions:\n  --bootstrap-sync         if this bootstrap script is not identical to\n                           the version in the local gnulib sources,\n                           update this script, and then restart it with\n                           /bin/sh or the shell \\$CONFIG_SHELL\n  --no-bootstrap-sync      do not check whether bootstrap is out of sync\n  --force                  attempt to bootstrap even if the sources seem\n                           not to have been checked out\n  --no-git                 do not use git to update gnulib.  Requires that\n                           \\$GNULIB_SRCDIR or the --gnulib-srcdir option\n                           points to a gnulib repository with the correct\n                           revision\n  --skip-po                do not download po files\nEOF\n  bootstrap_print_option_usage_hook\n  cat <<EOF\nIf the file bootstrap.conf exists in the same directory as this script, its\ncontents are read as shell variables to configure the bootstrap.\n\nFor build prerequisites, environment variables like \\$AUTOCONF and \\$AMTAR\nare honored.\n\nGnulib sources can be fetched in various ways:\n\n * If the environment variable GNULIB_SRCDIR is set (either as an\n   environment variable or via the --gnulib-srcdir option), then sources\n   are fetched from that local directory.  If it is a git repository and\n   the configuration variable GNULIB_REVISION is set in bootstrap.conf,\n   then that revision is checked out.\n\n * Otherwise, if this package is in a git repository with a 'gnulib'\n   submodule configured, then that submodule is initialized and updated\n   and sources are fetched from there.  If GNULIB_REFDIR is set (either\n   as an environment variable or via the --gnulib-refdir option) and is\n   a git repository, then it is used as a reference.\n\n * Otherwise, if the 'gnulib' directory does not exist, Gnulib sources\n   are cloned into that directory using git from \\$GNULIB_URL, defaulting\n   to $default_gnulib_url.\n   If the configuration variable GNULIB_REVISION is set in bootstrap.conf,\n   then that revision is checked out.\n\n * Otherwise, the existing Gnulib sources in the 'gnulib' directory are\n   used.  If it is a git repository and the configuration variable\n   GNULIB_REVISION is set in bootstrap.conf, then that revision is\n   checked out.\n\nIf you maintain a package and want to pin a particular revision of the\nGnulib sources that has been tested with your package, then there are\ntwo possible approaches: either configure a 'gnulib' submodule with the\nappropriate revision, or set GNULIB_REVISION (and if necessary\nGNULIB_URL) in bootstrap.conf.\n\nRunning without arguments will suffice in most cases.\nEOF\n}\n\n# Fetch auxiliary files that are omitted from the version control\n# repository of this package.\nautopull()\n{\n  # Ensure that CDPATH is not set.  Otherwise, the output from cd\n  # would cause trouble in at least one use below.\n  (unset CDPATH) >/dev/null 2>&1 && unset CDPATH\n\n  # Parse options.\n\n  # Use git to update gnulib sources\n  use_git=true\n\n  for option\n  do\n    case $option in\n    --help)\n      autopull_usage\n      return;;\n    --version)\n      set -e\n      echo \"autopull.sh $scriptlibversion\"\n      echo \"$copyright\"\n      return 0\n      ;;\n    --skip-po)\n      SKIP_PO=t;;\n    --force)\n      checkout_only_file=;;\n    --bootstrap-sync)\n      bootstrap_sync=true;;\n    --no-bootstrap-sync)\n      bootstrap_sync=false;;\n    --no-git)\n      use_git=false;;\n    *)\n      bootstrap_option_hook $option || die \"$option: unknown option\";;\n    esac\n  done\n\n  $use_git || test -n \"$GNULIB_SRCDIR\" \\\n    || die \"Error: --no-git requires \\$GNULIB_SRCDIR environment variable\" \\\n           \"or --gnulib-srcdir option\"\n  test -z \"$GNULIB_SRCDIR\" || test -d \"$GNULIB_SRCDIR\" \\\n    || die \"Error: \\$GNULIB_SRCDIR environment variable\" \\\n           \"or --gnulib-srcdir option is specified,\" \\\n           \"but does not denote a directory\"\n\n  if test -n \"$checkout_only_file\" && test ! -r \"$checkout_only_file\"; then\n    die \"Running this script from a non-checked-out distribution is risky.\"\n  fi\n\n  check_build_prerequisites $use_git\n\n  if $use_gnulib || $bootstrap_sync; then\n    prepare_GNULIB_SRCDIR\n    if $bootstrap_sync; then\n      upgrade_bootstrap\n    fi\n  fi\n\n  # Find sha1sum, named gsha1sum on MacPorts, shasum on Mac OS X 10.6.\n  # Also find the compatible sha1 utility on the BSDs\n  if test x\"$SKIP_PO\" = x; then\n    find_tool SHA1SUM sha1sum gsha1sum shasum sha1\n  fi\n\n  # See if we can use gnulib's git-merge-changelog merge driver.\n  if $use_git && test -d .git && check_exists git; then\n    if git config merge.merge-changelog.driver >/dev/null ; then\n      :\n    elif check_exists git-merge-changelog; then\n      echo \"$0: initializing git-merge-changelog driver\"\n      git config merge.merge-changelog.name 'GNU-style ChangeLog merge driver'\n      git config merge.merge-changelog.driver 'git-merge-changelog %O %A %B'\n    else\n      echo \"$0: consider installing git-merge-changelog from gnulib\"\n    fi\n  fi\n\n  case $SKIP_PO in\n  '')\n    if test -d po; then\n      update_po_files po $package || return\n    fi\n\n    if test -d runtime-po; then\n      update_po_files runtime-po $package-runtime || return\n    fi;;\n  esac\n\n  # ---------------------------------------------------------------------------\n\n  bootstrap_post_pull_hook \\\n    || die \"bootstrap_post_pull_hook failed\"\n\n  # Don't proceed if there are uninitialized submodules.  In particular,\n  # autogen.sh will remove dangling links, which might be links into\n  # uninitialized submodules.\n  # But it's OK if the 'gnulib' submodule is uninitialized, as long as\n  # GNULIB_SRCDIR is set.\n  if $use_git; then\n    # Uninitialized submodules are listed with an initial dash.\n    uninitialized=`git submodule | grep '^-' | awk '{ print $2 }'`\n    if test -n \"$GNULIB_SRCDIR\"; then\n      uninitialized=`echo \"$uninitialized\" | grep -v '^gnulib$'`\n    fi\n    if test -n \"$uninitialized\"; then\n      uninit_comma=`echo \"$uninitialized\" | tr '\\n' ',' | sed -e 's|,$|.|'`\n      die \"Some git submodules are not initialized: \"$uninit_comma \\\n          \"Either use option '--no-git',\" \\\n          \"or run 'git submodule update --init' and bootstrap again.\"\n    fi\n  fi\n\n  if test -f \"$medir\"/autogen.sh; then\n    echo \"$0: done.  Now you can run '$medir/autogen.sh'.\"\n  fi\n}\n\n# ----------------------------- Get translations. -----------------------------\n\ndownload_po_files() {\n  subdir=$1\n  domain=$2\n  echo \"$me: getting translations into $subdir for $domain...\"\n  cmd=$(printf \"$po_download_command_format\" \"$subdir\" \"$domain\")\n  eval \"$cmd\"\n}\n\n# Mirror .po files to $po_dir/.reference and copy only the new\n# or modified ones into $po_dir.  Also update $po_dir/LINGUAS.\n# Note po files that exist locally only are left in $po_dir but will\n# not be included in LINGUAS and hence will not be distributed.\nupdate_po_files() {\n  # Directory containing primary .po files.\n  # Overwrite them only when we're sure a .po file is new.\n  po_dir=$1\n  domain=$2\n\n  # Mirror *.po files into this dir.\n  # Usually contains *.s1 checksum files.\n  ref_po_dir=\"$po_dir/.reference\"\n\n  test -d $ref_po_dir || mkdir $ref_po_dir || return\n  download_po_files $ref_po_dir $domain \\\n    && ls \"$ref_po_dir\"/*.po 2>/dev/null |\n      sed 's|.*/||; s|\\.po$||' > \"$po_dir/LINGUAS\" || return\n\n  langs=$(cd $ref_po_dir && echo *.po | sed 's/\\.po//g')\n  test \"$langs\" = '*' && langs=x\n  for po in $langs; do\n    case $po in x) continue;; esac\n    new_po=\"$ref_po_dir/$po.po\"\n    cksum_file=\"$ref_po_dir/$po.s1\"\n    if ! test -f \"$cksum_file\" ||\n        ! test -f \"$po_dir/$po.po\" ||\n        ! $SHA1SUM -c \"$cksum_file\" < \"$new_po\" > /dev/null 2>&1; then\n      echo \"$me: updated $po_dir/$po.po...\"\n      cp \"$new_po\" \"$po_dir/$po.po\" \\\n          && $SHA1SUM < \"$new_po\" > \"$cksum_file\" || return\n    fi\n  done\n}\n\n# -------- Generate files automatically from existing sources.  --------------\n\nautogen_usage() {\n  cat <<EOF\nUsage: $me [OPTION]...\nBootstrap this package from the checked-out sources.\n\nOptional environment variables:\n  GNULIB_SRCDIR            Specifies the local directory where gnulib\n                           sources reside.  Use this if you already\n                           have gnulib sources on your machine, and\n                           you want to use these sources.\n\nOptions:\n  --copy                   copy files instead of creating symbolic links\n  --force                  attempt to bootstrap even if the sources seem\n                           not to have been checked out\nEOF\n  bootstrap_print_option_usage_hook\n  cat <<EOF\nIf the file bootstrap.conf exists in the same directory as this script, its\ncontents are read as shell variables to configure the bootstrap.\n\nFor build prerequisites, environment variables like \\$AUTOCONF and \\$AMTAR\nare honored.\n\nGnulib sources are assumed to be present:\n  * in \\$GNULIB_SRCDIR, if that environment variable is set,\n  * otherwise, in the 'gnulib' submodule, if such a submodule is configured,\n  * otherwise, in the 'gnulib' subdirectory.\n\nRunning without arguments will suffice in most cases.\nEOF\n}\n\n\nversion_controlled_file() {\n  parent=$1\n  file=$2\n  if test -d .git; then\n    git rm -n \"$file\" > /dev/null 2>&1\n  elif test -d .svn; then\n    svn log -r HEAD \"$file\" > /dev/null 2>&1\n  elif test -d CVS; then\n    grep -F \"/${file##*/}/\" \"$parent/CVS/Entries\" 2>/dev/null |\n             grep '^/[^/]*/[0-9]' > /dev/null\n  else\n    warn_ \"no version control for $file?\"\n    false\n  fi\n}\n\n# Strip blank and comment lines to leave significant entries.\ngitignore_entries() {\n  sed '/^#/d; /^$/d' \"$@\"\n}\n\n# If $STR is not already on a line by itself in $FILE, insert it at the start.\n# Entries are inserted at the start of the ignore list to ensure existing\n# entries starting with ! are not overridden.  Such entries support\n# whitelisting exceptions after a more generic blacklist pattern.\ninsert_if_absent() {\n  file=$1\n  str=$2\n  test -f $file || touch $file\n  test -r $file || die \"Error: failed to read ignore file: $file\"\n  duplicate_entries=$(gitignore_entries $file | sort | uniq -d)\n  if [ \"$duplicate_entries\" ] ; then\n    die \"Error: Duplicate entries in $file: \" $duplicate_entries\n  fi\n  linesold=$(gitignore_entries $file | wc -l)\n  linesnew=$( { echo \"$str\"; cat $file; } | gitignore_entries | sort -u | wc -l)\n  if [ $linesold != $linesnew ] ; then\n    { echo \"$str\" | cat - $file > $file.bak && mv $file.bak $file; } \\\n      || die \"insert_if_absent $file $str: failed\"\n  fi\n}\n\n# Adjust $PATTERN for $VC_IGNORE_FILE and insert it with\n# insert_if_absent.\ninsert_vc_ignore() {\n  vc_ignore_file=\"$1\"\n  pattern=\"$2\"\n  case $vc_ignore_file in\n  *.gitignore)\n    # A .gitignore entry that does not start with '/' applies\n    # recursively to subdirectories, so prepend '/' to every\n    # .gitignore entry.\n    pattern=$(echo \"$pattern\" | sed s,^,/,);;\n  esac\n  insert_if_absent \"$vc_ignore_file\" \"$pattern\"\n}\n\nsymlink_to_dir()\n{\n  src=$1/$2\n  dst=${3-$2}\n\n  test -f \"$src\" && {\n\n    # If the destination directory doesn't exist, create it.\n    # This is required at least for \"lib/uniwidth/cjk.h\".\n    dst_dir=$(dirname \"$dst\")\n    if ! test -d \"$dst_dir\"; then\n      mkdir -p \"$dst_dir\"\n\n      # If we've just created a directory like lib/uniwidth,\n      # tell version control system(s) it's ignorable.\n      # FIXME: for now, this does only one level\n      parent=$(dirname \"$dst_dir\")\n      for dot_ig in x $vc_ignore; do\n        test $dot_ig = x && continue\n        ig=$parent/$dot_ig\n        insert_vc_ignore $ig \"${dst_dir##*/}/\"\n      done\n    fi\n\n    if $copy; then\n      {\n        test ! -h \"$dst\" || {\n          echo \"$me: rm -f $dst\" &&\n          rm -f \"$dst\"\n        }\n      } &&\n      test -f \"$dst\" &&\n      cmp -s \"$src\" \"$dst\" || {\n        echo \"$me: cp -fp $src $dst\" &&\n        cp -fp \"$src\" \"$dst\"\n      }\n    else\n      # Leave any existing symlink alone, if it already points to the source,\n      # so that broken build tools that care about symlink times\n      # aren't confused into doing unnecessary builds.  Conversely, if the\n      # existing symlink's timestamp is older than the source, make it afresh,\n      # so that broken tools aren't confused into skipping needed builds.  See\n      # <https://lists.gnu.org/r/bug-gnulib/2011-05/msg00326.html>.\n      test -h \"$dst\" &&\n      src_ls=$(ls -diL \"$src\" 2>/dev/null) && set $src_ls && src_i=$1 &&\n      dst_ls=$(ls -diL \"$dst\" 2>/dev/null) && set $dst_ls && dst_i=$1 &&\n      test \"$src_i\" = \"$dst_i\" &&\n      both_ls=$(ls -dt \"$src\" \"$dst\") &&\n      test \"X$both_ls\" = \"X$dst$nl$src\" || {\n        dot_dots=\n        case $src in\n        /*) ;;\n        *)\n          case /$dst/ in\n          *//* | */../* | */./* | /*/*/*/*/*/)\n             die \"invalid symlink calculation: $src -> $dst\";;\n          /*/*/*/*/)    dot_dots=../../../;;\n          /*/*/*/)      dot_dots=../../;;\n          /*/*/)        dot_dots=../;;\n          esac;;\n        esac\n\n        echo \"$me: ln -fs $dot_dots$src $dst\" &&\n        ln -fs \"$dot_dots$src\" \"$dst\"\n      }\n    fi\n  }\n}\n\n# Regenerate all autogeneratable files that are omitted from the\n# version control repository.  In particular, regenerate all\n# aclocal.m4, config.h.in, Makefile.in, configure files with new\n# versions of autoconf or automake.\nautogen()\n{\n  # Ensure that CDPATH is not set.  Otherwise, the output from cd\n  # would cause trouble in at least one use below.\n  (unset CDPATH) >/dev/null 2>&1 && unset CDPATH\n\n  # Environment variables that may be set by the user.\n  : \"${AUTOPOINT=autopoint}\"\n  : \"${AUTORECONF=autoreconf}\"\n\n  if test \"$vc_ignore\" = auto; then\n    vc_ignore=\n    test -d .git && vc_ignore=.gitignore\n    test -d CVS && vc_ignore=\"$vc_ignore .cvsignore\"\n  fi\n\n\n  # Parse options.\n\n  # Whether to use copies instead of symlinks.\n  copy=false\n\n  for option\n  do\n    case $option in\n    --help)\n      autogen_usage\n      return;;\n    --version)\n      set -e\n      echo \"autogen.sh $scriptlibversion\"\n      echo \"$copyright\"\n      return 0\n      ;;\n    --force)\n      checkout_only_file=;;\n    --copy)\n      copy=true;;\n    *)\n      bootstrap_option_hook $option || die \"$option: unknown option\";;\n    esac\n  done\n\n  test -z \"$GNULIB_SRCDIR\" || test -d \"$GNULIB_SRCDIR\" \\\n    || die \"Error: \\$GNULIB_SRCDIR environment variable or --gnulib-srcdir\" \\\n           \"option is specified, but does not denote a directory\"\n\n  if test -n \"$checkout_only_file\" && test ! -r \"$checkout_only_file\"; then\n    die \"Running this script from a non-checked-out distribution is risky.\"\n  fi\n\n  if $use_gnulib; then\n    if test -z \"$GNULIB_SRCDIR\"; then\n      gnulib_path=$(test -f .gitmodules &&\n                    git config --file .gitmodules submodule.gnulib.path)\n      test -z \"$gnulib_path\" && gnulib_path=gnulib\n      GNULIB_SRCDIR=$gnulib_path\n    fi\n  fi\n\n  # Die if there is no AC_CONFIG_AUX_DIR($build_aux) line in configure.ac.\n  found_aux_dir=no\n  grep '^[\t ]*AC_CONFIG_AUX_DIR(\\['\"$build_aux\"'])' configure.ac \\\n      >/dev/null && found_aux_dir=yes\n  grep '^[\t ]*AC_CONFIG_AUX_DIR('\"$build_aux\"')' configure.ac \\\n      >/dev/null && found_aux_dir=yes\n  test $found_aux_dir = yes \\\n    || die \"configure.ac lacks 'AC_CONFIG_AUX_DIR([$build_aux])'; add it\"\n\n  # If $build_aux doesn't exist, create it now, otherwise some bits\n  # below will malfunction.  If creating it, also mark it as ignored.\n  if test ! -d $build_aux; then\n    mkdir $build_aux\n    for dot_ig in x $vc_ignore; do\n      test $dot_ig = x && continue\n      insert_vc_ignore $dot_ig $build_aux/\n    done\n  fi\n\n  check_build_prerequisites false\n\n  use_libtool=0\n  # We'd like to use grep -E, to see if any of LT_INIT,\n  # AC_PROG_LIBTOOL, AM_PROG_LIBTOOL is used in configure.ac,\n  # but that's not portable enough (e.g., for Solaris).\n  grep '^[\t ]*A[CM]_PROG_LIBTOOL' configure.ac >/dev/null \\\n    && use_libtool=1\n  grep '^[\t ]*LT_INIT' configure.ac >/dev/null \\\n    && use_libtool=1\n  if test $use_libtool = 1; then\n    find_tool LIBTOOLIZE glibtoolize libtoolize\n  fi\n\n  if $use_gnulib; then\n    gnulib_tool=$GNULIB_SRCDIR/gnulib-tool\n    <$gnulib_tool || return\n  fi\n\n  # NOTE: we have to be careful to run both autopoint and libtoolize\n  # before gnulib-tool, since gnulib-tool is likely to provide newer\n  # versions of files \"installed\" by these two programs.\n  # Then, *after* gnulib-tool (see below), we have to be careful to\n  # run autoreconf in such a way that it does not run either of these\n  # two just-pre-run programs.\n\n  # Import from gettext.\n  with_gettext=yes\n  grep '^[\t ]*AM_GNU_GETTEXT_VERSION(' configure.ac >/dev/null || \\\n      with_gettext=no\n\n  if test $with_gettext = yes || test $use_libtool = 1; then\n\n    tempbase=.bootstrap$$\n    trap \"rm -f $tempbase.0 $tempbase.1\" HUP INT PIPE TERM\n\n    > $tempbase.0 > $tempbase.1 &&\n    find . ! -type d -print | sort > $tempbase.0 || return\n\n    if test $with_gettext = yes; then\n      # Released autopoint has the tendency to install macros that have been\n      # obsoleted in current gnulib, so run this before gnulib-tool.\n      echo \"$0: $AUTOPOINT --force\"\n      $AUTOPOINT --force || return\n    fi\n\n    # Autoreconf runs aclocal before libtoolize, which causes spurious\n    # warnings if the initial aclocal is confused by the libtoolized\n    # (or worse out-of-date) macro directory.\n    # libtoolize 1.9b added the --install option; but we support back\n    # to libtoolize 1.5.22, where the install action was default.\n    if test $use_libtool = 1; then\n      install=\n      case $($LIBTOOLIZE --help) in\n        *--install*) install=--install ;;\n      esac\n      echo \"running: $LIBTOOLIZE $install --copy\"\n      $LIBTOOLIZE $install --copy\n    fi\n\n    find . ! -type d -print | sort >$tempbase.1\n    old_IFS=$IFS\n    IFS=$nl\n    for file in $(comm -13 $tempbase.0 $tempbase.1); do\n      IFS=$old_IFS\n      parent=${file%/*}\n      version_controlled_file \"$parent\" \"$file\" || {\n        for dot_ig in x $vc_ignore; do\n          test $dot_ig = x && continue\n          ig=$parent/$dot_ig\n          insert_vc_ignore \"$ig\" \"${file##*/}\"\n        done\n      }\n    done\n    IFS=$old_IFS\n\n    rm -f $tempbase.0 $tempbase.1\n    trap - HUP INT PIPE TERM\n  fi\n\n  # Import from gnulib.\n\n  if $use_gnulib; then\n    gnulib_tool_options=\"\\\n     --no-changelog\\\n     --aux-dir=$build_aux\\\n     --doc-base=$doc_base\\\n     --lib=$gnulib_name\\\n     --m4-base=$m4_base/\\\n     --source-base=$source_base/\\\n     --tests-base=$tests_base\\\n     --local-dir=$local_gl_dir\\\n     $gnulib_tool_option_extras\\\n    \"\n    if test $use_libtool = 1; then\n      case \"$gnulib_tool_options \" in\n        *' --libtool '*) ;;\n        *) gnulib_tool_options=\"$gnulib_tool_options --libtool\" ;;\n      esac\n    fi\n    echo \"$0: $gnulib_tool $gnulib_tool_options --import ...\"\n    $gnulib_tool $gnulib_tool_options --import $gnulib_modules \\\n      || die \"gnulib-tool failed\"\n\n    for file in $gnulib_files; do\n      symlink_to_dir \"$GNULIB_SRCDIR\" $file \\\n        || die \"failed to symlink $file\"\n    done\n  fi\n\n  bootstrap_post_import_hook \\\n    || die \"bootstrap_post_import_hook failed\"\n\n  # Remove any dangling symlink matching \"*.m4\" or \"*.[ch]\" in some\n  # gnulib-populated directories.  Such .m4 files would cause aclocal to fail.\n  # The following requires GNU find 4.2.3 or newer.  Considering the usual\n  # portability constraints of this script, that may seem a very demanding\n  # requirement, but it should be ok.  Ignore any failure, which is fine,\n  # since this is only a convenience to help developers avoid the relatively\n  # unusual case in which a symlinked-to .m4 file is git-removed from gnulib\n  # between successive runs of this script.\n  find \"$m4_base\" \"$source_base\" \\\n    -depth \\( -name '*.m4' -o -name '*.[ch]' \\) \\\n    -type l -xtype l -delete > /dev/null 2>&1\n\n  # Invoke autoreconf with --force --install to ensure upgrades of tools\n  # such as ylwrap.\n  AUTORECONFFLAGS=\"--verbose --install --force -I $m4_base $ACLOCAL_FLAGS\"\n  AUTORECONFFLAGS=\"$AUTORECONFFLAGS --no-recursive\"\n\n  # Tell autoreconf not to invoke autopoint or libtoolize; they were run above.\n  echo \"running: AUTOPOINT=true LIBTOOLIZE=true $AUTORECONF $AUTORECONFFLAGS\"\n  AUTOPOINT=true LIBTOOLIZE=true $AUTORECONF $AUTORECONFFLAGS \\\n    || die \"autoreconf failed\"\n\n  # Get some extra files from gnulib, overriding existing files.\n  for file in $gnulib_extra_files; do\n    case $file in\n      */INSTALL) dst=INSTALL;;\n      build-aux/*) dst=$build_aux/${file#build-aux/};;\n      *) dst=$file;;\n    esac\n    symlink_to_dir \"$GNULIB_SRCDIR\" $file $dst \\\n      || die \"failed to symlink $file\"\n  done\n\n  if test $with_gettext = yes; then\n    # Create gettext configuration.\n    echo \"$0: Creating po/Makevars from po/Makevars.template ...\"\n    rm -f po/Makevars\n    sed '\n      /^EXTRA_LOCALE_CATEGORIES *=/s/=.*/= '\"$EXTRA_LOCALE_CATEGORIES\"'/\n      /^COPYRIGHT_HOLDER *=/s/=.*/= '\"$COPYRIGHT_HOLDER\"'/\n      /^MSGID_BUGS_ADDRESS *=/s|=.*|= '\"$MSGID_BUGS_ADDRESS\"'|\n      /^XGETTEXT_OPTIONS *=/{\n        s/$/ \\\\/\n        a\\\n            '\"$XGETTEXT_OPTIONS\"' $${end_of_xgettext_options+}\n      }\n    ' po/Makevars.template >po/Makevars \\\n      || die 'cannot generate po/Makevars'\n\n    # If the 'gettext' module is in use, grab the latest Makefile.in.in.\n    # If only the 'gettext-h' module is in use, assume autopoint already\n    # put the correct version of this file into place.\n    case $gnulib_modules in\n      *gettext-h*) ;;\n      *gettext*)\n        cp $GNULIB_SRCDIR/build-aux/po/Makefile.in.in po/Makefile.in.in \\\n          || die \"cannot create po/Makefile.in.in\"\n        ;;\n    esac\n\n    if test -d runtime-po; then\n      # Similarly for runtime-po/Makevars, but not quite the same.\n      rm -f runtime-po/Makevars\n      sed '\n        /^DOMAIN *=.*/s/=.*/= '\"$package\"'-runtime/\n        /^subdir *=.*/s/=.*/= runtime-po/\n        /^MSGID_BUGS_ADDRESS *=/s/=.*/= bug-'\"$package\"'@gnu.org/\n        /^XGETTEXT_OPTIONS *=/{\n          s/$/ \\\\/\n          a\\\n              '\"$XGETTEXT_OPTIONS_RUNTIME\"' $${end_of_xgettext_options+}\n        }\n      ' po/Makevars.template >runtime-po/Makevars \\\n      || die 'cannot generate runtime-po/Makevars'\n\n      # Copy identical files from po to runtime-po.\n      (cd po && cp -p Makefile.in.in *-quot *.header *.sed *.sin ../runtime-po)\n    fi\n  fi\n\n  bootstrap_epilogue\n\n  echo \"$0: done.  Now you can run './configure'.\"\n}\n\n# ----------------------------------------------------------------------------\n\n# Local Variables:\n# eval: (add-hook 'before-save-hook 'time-stamp)\n# time-stamp-start: \"scriptlibversion=\"\n# time-stamp-format: \"%:y-%02m-%02d.%02H\"\n# time-stamp-time-zone: \"UTC0\"\n# time-stamp-end: \"; # UTC\"\n# End:\n\nusage() {\n  cat <<EOF\nUsage: $me [OPTION]...\nBootstrap this package from the checked-out sources.\n\nOptional environment variables:\n  GNULIB_SRCDIR            Specifies the local directory where gnulib\n                           sources reside.  Use this if you already\n                           have gnulib sources on your machine, and\n                           do not want to waste your bandwidth downloading\n                           them again.\n  GNULIB_URL               Cloneable URL of the gnulib repository.\n\nOptions:\n\n  --pull                   Do phase 1: pull files from network\n  --gen                    Do phase 2: generate from local files.\n                           (The default is to do both phases.)\n\n  --gnulib-srcdir=DIRNAME  specify the local directory where gnulib\n                           sources reside.  Use this if you already\n                           have gnulib sources on your machine, and\n                           you want to use these sources.  Defaults\n                           to \\$GNULIB_SRCDIR\n  --gnulib-refdir=DIRNAME  specify the local directory where a gnulib\n                           repository (with a .git subdirectory) resides.\n                           Use this if you already have gnulib sources\n                           and history on your machine, and do not want\n                           to waste your bandwidth downloading them again.\n                           Defaults to \\$GNULIB_REFDIR\n\n  --bootstrap-sync         if this bootstrap script is not identical to\n                           the version in the local gnulib sources,\n                           update this script, and then restart it with\n                           /bin/sh or the shell \\$CONFIG_SHELL\n  --no-bootstrap-sync      do not check whether bootstrap is out of sync\n\n  --copy                   copy files instead of creating symbolic links\n  --force                  attempt to bootstrap even if the sources seem\n                           not to have been checked out\n  --no-git                 do not use git to update gnulib.  Requires that\n                           \\$GNULIB_SRCDIR or the --gnulib-srcdir option\n                           points to a gnulib repository with the correct\n                           revision\n  --skip-po                do not download po files\nEOF\n  bootstrap_print_option_usage_hook\n  cat <<EOF\nIf the file bootstrap.conf exists in the same directory as this script, its\ncontents are read as shell variables to configure the bootstrap.\n\nFor build prerequisites, environment variables like \\$AUTOCONF and \\$AMTAR\nare honored.\n\nGnulib sources can be fetched in various ways:\n\n * If the environment variable GNULIB_SRCDIR is set (either as an\n   environment variable or via the --gnulib-srcdir option), then sources\n   are fetched from that local directory.  If it is a git repository and\n   the configuration variable GNULIB_REVISION is set in bootstrap.conf,\n   then that revision is checked out.\n\n * Otherwise, if this package is in a git repository with a 'gnulib'\n   submodule configured, then that submodule is initialized and updated\n   and sources are fetched from there.  If GNULIB_REFDIR is set (either\n   as an environment variable or via the --gnulib-refdir option) and is\n   a git repository, then it is used as a reference.\n\n * Otherwise, if the 'gnulib' directory does not exist, Gnulib sources\n   are cloned into that directory using git from \\$GNULIB_URL, defaulting\n   to $default_gnulib_url.\n   If the configuration variable GNULIB_REVISION is set in bootstrap.conf,\n   then that revision is checked out.\n\n * Otherwise, the existing Gnulib sources in the 'gnulib' directory are\n   used.  If it is a git repository and the configuration variable\n   GNULIB_REVISION is set in bootstrap.conf, then that revision is\n   checked out.\n\nIf you maintain a package and want to pin a particular revision of the\nGnulib sources that has been tested with your package, then there are\ntwo possible approaches: either configure a 'gnulib' submodule with the\nappropriate revision, or set GNULIB_REVISION (and if necessary\nGNULIB_URL) in bootstrap.conf.\n\nRunning without arguments will suffice in most cases.\nEOF\n}\n\n# Parse options.\n\n# Whether to pull and generate.\npull=false\ngen=false\n\n# Whether to use copies instead of symlinks.\ncopy=false\n\n# Use git to update gnulib sources\nuse_git=true\n\nfor option\ndo\n  case $option in\n  --help)\n    usage\n    exit;;\n  --version)\n    set -e\n    echo \"bootstrap $scriptversion lib $scriptlibversion\"\n    echo \"$copyright\"\n    exit 0\n    ;;\n  --pull)\n    pull=true;;\n  --gen)\n    gen=true;;\n  --gnulib-srcdir=*)\n    GNULIB_SRCDIR=${option#--gnulib-srcdir=};;\n  --gnulib-refdir=*)\n    GNULIB_REFDIR=${option#--gnulib-refdir=};;\n  --skip-po)\n    SKIP_PO=t;;\n  --force)\n    checkout_only_file=;;\n  --copy)\n    copy=true;;\n  --bootstrap-sync)\n    bootstrap_sync=true;;\n  --no-bootstrap-sync)\n    bootstrap_sync=false;;\n  --no-git)\n    use_git=false;;\n  *)\n    bootstrap_option_hook $option || die \"$option: unknown option\";;\n  esac\ndone\n\n# Default is to do both.\n$pull || $gen || pull=true gen=true\n\n$use_git || test -n \"$GNULIB_SRCDIR\" \\\n  || die \"Error: --no-git requires \\$GNULIB_SRCDIR environment variable\" \\\n         \"or --gnulib-srcdir option\"\ntest -z \"$GNULIB_SRCDIR\" || test -d \"$GNULIB_SRCDIR\" \\\n  || die \"Error: \\$GNULIB_SRCDIR environment variable or --gnulib-srcdir\" \\\n         \"option is specified, but does not denote a directory\"\n\nif test -n \"$checkout_only_file\" && test ! -r \"$checkout_only_file\"; then\n  die \"Bootstrapping from a non-checked-out distribution is risky.\"\nfi\n\ncheck_build_prerequisites $use_git\n\nif $bootstrap_sync; then\n  prepare_GNULIB_SRCDIR\n  upgrade_bootstrap\n  # Since we have now upgraded if needed, no need to try it a second time below.\n  bootstrap_sync=false\nfi\n\necho \"$0: Bootstrapping from checked-out $package sources...\"\n\n# Pass GNULIB_SRCDIR and GNULIB_REFDIR to any subsidiary commands that care.\nexport GNULIB_SRCDIR\nexport GNULIB_REFDIR\n\nif $pull && { $use_git || test -z \"$SKIP_PO\"; }; then\n  autopull \\\n      `if $bootstrap_sync; then\n         echo ' --bootstrap-sync'\n       else\n         echo ' --no-bootstrap-sync'\n       fi` \\\n      `if test -z \"$checkout_only_file\"; then echo ' --force'; fi` \\\n      `if ! $use_git; then echo ' --no-git'; fi` \\\n      `if test -n \"$SKIP_PO\"; then echo ' --skip-po'; fi` \\\n    || die \"could not fetch auxiliary files\"\nfi\n\nif $gen; then\n autogen \\\n    `if $copy; then echo ' --copy'; fi` \\\n    `if test -z \"$checkout_only_file\"; then echo ' --force'; fi` \\\n  || die \"could not generate auxiliary files\"\nfi\n\n# ----------------------------------------------------------------------------\n\n# Local Variables:\n# eval: (add-hook 'before-save-hook 'time-stamp)\n# time-stamp-start: \"scriptversion=\"\n# time-stamp-format: \"%:y-%02m-%02d.%02H\"\n# time-stamp-time-zone: \"UTC0\"\n# time-stamp-end: \"; # UTC\"\n# End:\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}