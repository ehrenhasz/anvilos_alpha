{
  "module_name": "configure.ac",
  "hash_id": "155bb16b63e7fee4a0edbb4251a745fc68ff039b65621a5e267b717ce174e2ba",
  "original_prompt": "Ingested from coreutils-9.4/configure.ac",
  "human_readable_source": "# -*- autoconf -*-\n# Process this file with autoconf to produce a configure script.\n\n# Copyright (C) 1991-2023 Free Software Foundation, Inc.\n\n# This program is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 3 of the License, or\n# (at your option) any later version.\n\n# This program is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n# GNU General Public License for more details.\n\n# You should have received a copy of the GNU General Public License\n# along with this program.  If not, see <https://www.gnu.org/licenses/>.\n\ndnl Written by Jim Meyering.\n\nAC_PREREQ([2.69])\n\n# Make inter-release version strings look like, e.g., v6.9-219-g58ddd, which\n# indicates that it is built from the 219th delta (in _some_ repository)\n# following the v6.9 tag, and that 58ddd is a prefix of the commit SHA1.\n# The explicit URL can be removed when autoconf > 2.69 is released.\nAC_INIT([GNU coreutils],\n        m4_esyscmd([build-aux/git-version-gen .tarball-version]),\n        [bug-coreutils@gnu.org],\n        [coreutils],\n        [https://www.gnu.org/software/coreutils/])\n\nAC_CONFIG_SRCDIR([src/ls.c])\n\nAC_CONFIG_AUX_DIR([build-aux])\nAC_CONFIG_HEADERS([lib/config.h:lib/config.hin])\n\nAM_INIT_AUTOMAKE([1.11.2 dist-xz color-tests parallel-tests subdir-objects])\nAM_SILENT_RULES([yes]) # make --enable-silent-rules the default.\n\ndnl POSIXCHECK is worthwhile for maintainers, but adds several seconds\ndnl (more than 10% execution time) to ./configure, with no benefit for\ndnl most users.  Using it to look for bugs requires:\ndnl   GNULIB_POSIXCHECK=1 autoreconf -f\ndnl   ./configure\ndnl   make\ndnl   make -C src clean\ndnl   make CFLAGS=-DGNULIB_POSIXCHECK=1\ndnl FIXME: Once we figure out how to avoid false positives, we should\ndnl have 'make my-distcheck' in dist-check.mk exercise this.\nm4_syscmd([test \"${GNULIB_POSIXCHECK+set}\" = set])\nm4_if(m4_sysval, [0], [], [dnl\ngl_ASSERT_NO_GNULIB_POSIXCHECK])\n\nAC_PROG_CC\nAM_PROG_CC_C_O\nAC_PROG_CPP\nAC_PROG_GCC_TRADITIONAL\nAC_PROG_RANLIB\nAC_PROG_EGREP\nAC_PROG_LN_S\ngl_EARLY\ngl_SET_CRYPTO_CHECK_DEFAULT([auto-gpl-compat])\ngl_INIT\ncoreutils_MACROS\n\n# The test suite needs to know if we have a working perl.\nAM_CONDITIONAL([HAVE_PERL], [test \"$gl_cv_prog_perl\" != no])\n\n# gl_GCC_VERSION_IFELSE([major], [minor], [run-if-found], [run-if-not-found])\n# ------------------------------------------------\n# If $CPP is gcc-MAJOR.MINOR or newer, then run RUN-IF-FOUND.\n# Otherwise, run RUN-IF-NOT-FOUND.\nAC_DEFUN([gl_GCC_VERSION_IFELSE],\n  [AC_PREPROC_IFELSE(\n    [AC_LANG_PROGRAM(\n      [[\n#if ($1) < __GNUC__ || (($1) == __GNUC__ && ($2) <= __GNUC_MINOR__)\n/* ok */\n#else\n# error \"your version of gcc is older than $1.$2\"\n#endif\n      ]]),\n    ], [$3], [$4])\n  ]\n)\n\nAC_ARG_ENABLE([single-binary],\n  [AS_HELP_STRING([--enable-single-binary=[shebangs|symlinks]],\n     [Compile all the tools in a single binary, reducing the overall size.\n      When compiled this way, shebangs (default when enabled) or symlinks are\n      installed for each tool that points to the single binary.])],\n  [gl_single_binary=no ;\n   case $enableval in\n     yes) gl_single_binary=shebangs ;;\n     no|shebangs|symlinks) gl_single_binary=$enableval ;;\n     *)      AC_MSG_ERROR([bad value $enableval for single-binary option.\n                           Options are: symlinks, shebangs, no.]) ;;\n   esac],\n  [gl_single_binary=no]\n)\nAC_ARG_ENABLE([single-binary-exceptions],\n  [AS_HELP_STRING([--enable-single-binary-exceptions=PROG_LIST],\n     [When used with --enable-single-binary, exclude the PROG_LIST from\n      it, so these programs are compiled as separated files\n      (comma-separated, default none))])],\n  [gl_single_binary_exceptions=$enableval],\n  [gl_single_binary_exceptions=]\n)\nif test \"$gl_single_binary\" = 'symlinks'; then\n  if ! test \"`echo ls | sed \\\"$program_transform_name\\\"`\" = 'ls'; then\n    AC_MSG_ERROR([program name transformations are not currently supported\n                  with --enable-single-binary=symlinks.])\n  fi\nfi\nAM_CONDITIONAL([SINGLE_BINARY], [test \"$gl_single_binary\" != no])\n\nAC_ARG_ENABLE([bold-man-page-references],\n  [AS_HELP_STRING([--disable-bold-man-page-references],\n     [When generating man pages, do not apply bold style around any\n      references like name(1) etc.])],\n  [gl_bold_manpages=yes ;\n   case $enableval in\n     no|yes) gl_bold_manpages=$enableval ;;\n     *)      AC_MSG_ERROR([bad value $enableval for bold-man-page-references.\n                           Options are: yes, no.]) ;;\n   esac],\n  [gl_bold_manpages=yes]\n)\nAM_CONDITIONAL([BOLD_MAN_REFS], [test \"$gl_bold_manpages\" != no])\n\nAC_ARG_ENABLE([gcc-warnings],\n  [AS_HELP_STRING([--enable-gcc-warnings@<:@=TYPE@:>@],\n    [control generation of GCC warnings.  The TYPE 'no' disables\n     warnings (default for non-developer builds); 'yes' generates\n     cheap warnings if available (default for developer builds);\n     'expensive' in addition generates expensive-to-compute warnings\n     if available.])],\n  [case $enableval in\n     no|yes|expensive) ;;\n     *)      AC_MSG_ERROR([bad value $enableval for gcc-warnings option]) ;;\n   esac\n   gl_gcc_warnings=$enableval],\n  [\n   # GCC provides fine-grained control over diagnostics which\n   # is used in gnulib for example to suppress warnings from\n   # certain sections of code.  So if this is available and\n   # we're running from a git repo, then auto enable the warnings.\n   gl_gcc_warnings=no\n   gl_GCC_VERSION_IFELSE([4], [6],\n                         [test -d \"$srcdir\"/.git \\\n                          && ! test -f \"$srcdir\"/.tarball-version \\\n                          && gl_gcc_warnings=yes])]\n)\n\nif test $gl_gcc_warnings != no; then\n  gl_WARN_ADD([-Werror], [WERROR_CFLAGS])\n  AC_SUBST([WERROR_CFLAGS])\n\n  ew=\n  AS_IF([test $gl_gcc_warnings != expensive],\n    [# -fanalyzer and related options slow GCC considerably.\n     ew=\"$ew -fanalyzer -Wno-analyzer-malloc-leak\"])\n\n  # This, $nw, is the list of warnings we disable.\n  nw=$ew\n  nw=\"$nw -Wdeclaration-after-statement\" # too useful to forbid\n  nw=\"$nw -Waggregate-return\"       # anachronistic\n  nw=\"$nw -Wlong-long\"              # C90 is anachronistic (lib/gethrxtime.h)\n  nw=\"$nw -Wc++-compat\"             # We don't care about C++ compilers\n  nw=\"$nw -Wundef\"                  # Warns on '#if GNULIB_FOO' etc in gnulib\n  nw=\"$nw -Wtraditional\"            # Warns on #elif which we use often\n  nw=\"$nw -Wcast-qual\"              # Too many warnings for now\n  nw=\"$nw -Wconversion\"             # Too many warnings for now\n  nw=\"$nw -Wsystem-headers\"         # Don't let system headers trigger warnings\n  nw=\"$nw -Wsign-conversion\"        # Too many warnings for now\n  nw=\"$nw -Wtraditional-conversion\" # Too many warnings for now\n  nw=\"$nw -Wunreachable-code\"       # Too many warnings for now\n  nw=\"$nw -Wpadded\"                 # Our structs are not padded\n  nw=\"$nw -Wredundant-decls\"        # openat.h declares e.g., mkdirat\n  nw=\"$nw -Wformat-nonliteral\"      # who.c and pinky.c strftime uses\n  nw=\"$nw -Wnested-externs\"         # use of XARGMATCH/verify_function__\n  nw=\"$nw -Wswitch-enum\"            # Too many warnings for now\n  nw=\"$nw -Wswitch-default\"         # Too many warnings for now\n  nw=\"$nw -Wstack-protector\"        # not worth working around\n  nw=\"$nw -Wformat-overflow=2\"      # False alarms due to GCC bug 110333\n  nw=\"$nw -Wformat-truncation=2\"    # False alarm in ls.c, probably related\n  # things I might fix soon:\n  nw=\"$nw -Wfloat-equal\"            # sort.c, seq.c\n  nw=\"$nw -Wmissing-format-attribute\" # copy.c\n  nw=\"$nw -Wunsafe-loop-optimizations\" # a few src/*.c\n  nw=\"$nw -Winline\"                 # system.h's readdir_ignoring_dot_and_dotdot\n  nw=\"$nw -Wvector-operation-performance\" # warns about randperm.c\n\n  # Suppress noreturn warnings with single binaries; otherwise\n  # GCC complains about the renamed 'main' not being declared noreturn\n  # because 'main_exit' calls 'exit' when linting.\n  if test \"$gl_single_binary\" != no; then\n    nw=\"$nw -Wsuggest-attribute=noreturn\"\n  fi\n\n  # Using -Wstrict-overflow is a pain, but the alternative is worse.\n  # For an example, see the code that provoked this report:\n  # https://gcc.gnu.org/bugzilla/show_bug.cgi?id=33498\n  # Code like that still infloops with gcc-4.6.0 and -O2.  Scary indeed.\n\n  gl_MANYWARN_ALL_GCC([ws])\n  gl_MANYWARN_COMPLEMENT([ws], [$ws], [$nw])\n  for w in $ws; do\n    gl_WARN_ADD([$w])\n  done\n  gl_WARN_ADD([-Wno-sign-compare])     # Too many warnings for now\n  gl_WARN_ADD([-Wno-unused-parameter]) # Too many warnings for now\n  gl_WARN_ADD([-Wno-format-nonliteral])\n\n  # clang is unduly picky about some things.\n  AC_CACHE_CHECK([whether the compiler is clang], [utils_cv_clang],\n    [AC_COMPILE_IFELSE(\n       [AC_LANG_PROGRAM([[\n            #ifndef __clang__\n              #error \"not clang\"\n            #endif\n          ]])],\n       [utils_cv_clang=yes],\n       [utils_cv_clang=no])])\n  if test $utils_cv_clang = yes; then\n    gl_WARN_ADD([-Wno-format-extra-args])\n    gl_WARN_ADD([-Wno-tautological-constant-out-of-range-compare])\n  fi\n\n  gl_WARN_ADD([-fdiagnostics-show-option])\n  gl_WARN_ADD([-funit-at-a-time])\n\n  AC_SUBST([WARN_CFLAGS])\n\n  AC_DEFINE([lint], [1], [Define to 1 if the compiler is checking for lint.])\n  AH_VERBATIM([FORTIFY_SOURCE],\n  [/* Enable compile-time and run-time bounds-checking, and some warnings,\n      without upsetting glibc 2.15+. */\n   #if !defined _FORTIFY_SOURCE && defined __OPTIMIZE__ && __OPTIMIZE__\n   # define _FORTIFY_SOURCE 2\n   #endif\n  ])\n  AC_DEFINE([GNULIB_PORTCHECK], [1], [enable some gnulib portability checks])\n\n  # We use a slightly smaller set of warning options for lib/.\n  # Remove the following and save the result in GNULIB_WARN_CFLAGS.\n  nw=$ew\n  nw=\"$nw -Wduplicated-branches\"    # Too many false alarms\n  nw=\"$nw -Wformat-truncation=2\"\n  nw=\"$nw -Wstrict-overflow\"\n  nw=\"$nw -Wuninitialized\"\n  nw=\"$nw -Wunused-macros\"\n  nw=\"$nw -Wmissing-prototypes\"\n  nw=\"$nw -Wold-style-definition\"\n  # FIXME: it may be easy to remove this, since it affects only one file:\n  # the snprintf call at ftoastr.c:132.\n  nw=\"$nw -Wdouble-promotion\"\n\n  # FIXME: remove this line when gcc improves\n  # FP in careadlinkat.c w/gcc 10.0.1 20200205\n  gl_WARN_ADD([-Wno-return-local-addr])\n\n  # FIXME: remove this line when gcc improves\n  # https://gcc.gnu.org/bugzilla/show_bug.cgi?id=88443\n  gl_WARN_ADD([-Wno-stringop-overflow])\n\n  gl_MANYWARN_COMPLEMENT([GNULIB_WARN_CFLAGS], [$WARN_CFLAGS], [$nw])\n  AC_SUBST([GNULIB_WARN_CFLAGS])\n\n  # For gnulib-tests, the set is slightly smaller still.\n  nw=\n  nw=\"$nw -Wstrict-prototypes\"\n  # It's not worth being this picky about test programs.\n  nw=\"$nw -Wsuggest-attribute=const\"\n  nw=\"$nw -Wsuggest-attribute=format\"\n  nw=\"$nw -Wsuggest-attribute=pure\"\n  gl_MANYWARN_COMPLEMENT([GNULIB_TEST_WARN_CFLAGS],\n                         [$GNULIB_WARN_CFLAGS], [$nw])\n  AC_SUBST([GNULIB_TEST_WARN_CFLAGS])\nfi\n\nAC_FUNC_FORK\n\noptional_bin_progs=\nAC_CHECK_FUNCS([chroot],\n        gl_ADD_PROG([optional_bin_progs], [chroot]))\nAC_CHECK_FUNCS([gethostid],\n        gl_ADD_PROG([optional_bin_progs], [hostid]))\nAC_CHECK_FUNCS([sigsuspend],\n        gl_ADD_PROG([optional_bin_progs], [timeout]))\n\ngl_WINSIZE_IN_PTEM\n\nAC_MSG_CHECKING([whether localtime caches TZ])\nAC_CACHE_VAL([utils_cv_localtime_cache],\n[if test x$ac_cv_func_tzset = xyes; then\nAC_RUN_IFELSE([AC_LANG_SOURCE([[#include <time.h>\n#if STDC_HEADERS\n# include <stdlib.h>\n#endif\nextern char **environ;\nvoid unset_TZ (void)\n{\n  char **from, **to;\n  for (to = from = environ; (*to = *from); from++)\n    if (! (to[0][0] == 'T' && to[0][1] == 'Z' && to[0][2] == '='))\n      to++;\n}\nint\nmain ()\n{\n  time_t now = time ((time_t *) 0);\n  int hour_GMT0, hour_unset;\n  if (putenv (\"TZ=GMT0\") != 0)\n    return 1;\n  hour_GMT0 = localtime (&now)->tm_hour;\n  unset_TZ ();\n  hour_unset = localtime (&now)->tm_hour;\n  if (putenv (\"TZ=PST8\") != 0)\n    return 1;\n  if (localtime (&now)->tm_hour == hour_GMT0)\n    return 1;\n  unset_TZ ();\n  if (localtime (&now)->tm_hour != hour_unset)\n    return 1;\n  return 0;\n}]])],\n[utils_cv_localtime_cache=no],\n[utils_cv_localtime_cache=yes],\n[# If we have tzset, assume the worst when cross-compiling.\nutils_cv_localtime_cache=yes])\nelse\n        # If we lack tzset, report that localtime does not cache TZ,\n        # since we can't invalidate the cache if we don't have tzset.\n        utils_cv_localtime_cache=no\nfi])dnl\nAC_MSG_RESULT([$utils_cv_localtime_cache])\nif test $utils_cv_localtime_cache = yes; then\n  AC_DEFINE([LOCALTIME_CACHE], [1], [FIXME])\nfi\n\n# macOS >= 10.12\nAC_CHECK_FUNCS([fclonefileat])\n\n# Assume that if getattrat exists, it's compatible with Solaris 11.\nAC_CHECK_FUNCS([getattrat])\nif test $ac_cv_func_getattrat = yes; then\n  LIB_NVPAIR=-lnvpair\n  AC_SUBST([LIB_NVPAIR])\nfi\n\n# glibc >= 2.28 and linux kernel >= 4.11\nAC_CHECK_FUNCS([statx])\n\n# SCO-ODT-3.0 is reported to need -los to link programs using initgroups\nAC_CHECK_FUNCS([initgroups])\nif test $ac_cv_func_initgroups = no; then\n  AC_CHECK_LIB([os], [initgroups])\nfi\n\nAC_CHECK_FUNCS([syslog])\nif test $ac_cv_func_syslog = no; then\n  # syslog is not in the default libraries.  See if it's in some other.\n  for lib in bsd socket inet; do\n    AC_CHECK_LIB([$lib], [syslog], [AC_DEFINE([HAVE_SYSLOG], [1], [FIXME])\n      LIBS=\"$LIBS -l$lib\"; break])\n  done\nfi\n\nAC_CACHE_CHECK([for 3-argument setpriority function],\n  [utils_cv_func_setpriority],\n  [AC_LINK_IFELSE(\n    [AC_LANG_PROGRAM(\n       [[#include <sys/time.h>\n         #include <sys/resource.h>\n       ]],\n       [[setpriority (0, 0, 0);]])],\n    [utils_cv_func_setpriority=yes],\n    [utils_cv_func_setpriority=no])])\nif test $utils_cv_func_setpriority = no; then\n  AC_CHECK_FUNCS([nice])\nfi\ncase $utils_cv_func_setpriority,$ac_cv_func_nice in\n*yes*)\n  gl_ADD_PROG([optional_bin_progs], [nice])\nesac\n\nif test \"$cross_compiling\" = yes || test -c /dev/stdin <.; then\n  AC_DEFINE([DEV_FD_MIGHT_BE_CHR], [1],\n    [Define to 1 if /dev/std{in,out,err} and /dev/fd/N, if they exist, might be\n     character-special devices whose minor device number is the file\n     descriptor number, such as on Solaris.  Leave undefined if they are\n     definitely the actual files.  This determination should be done after any\n     symbolic links are followed.])\nfi\n\nAC_DEFUN([coreutils_DUMMY_1],\n[\n  AC_REQUIRE([gl_READUTMP])\n  if test $ac_cv_header_utmp_h = yes || test $ac_cv_header_utmpx_h = yes; then\n    gl_ADD_PROG([optional_bin_progs], [who])\n    gl_ADD_PROG([optional_bin_progs], [users])\n    gl_ADD_PROG([optional_bin_progs], [pinky])\n  fi\n])\ncoreutils_DUMMY_1\n\nAC_SYS_POSIX_TERMIOS()\ngl_HEADER_TIOCGWINSZ_NEEDS_SYS_IOCTL\n\nif test $ac_cv_sys_posix_termios = yes; then\n  gl_ADD_PROG([optional_bin_progs], [stty])\n\n  AC_MSG_CHECKING([whether termios.h needs _XOPEN_SOURCE])\n  AC_CACHE_VAL([su_cv_sys_termios_needs_xopen_source],\n  [AC_EGREP_CPP([yes], [#include <termios.h>\n#ifdef IUCLC\nyes\n#endif], su_cv_sys_termios_needs_xopen_source=no,\n   AC_EGREP_CPP([yes], [#define _XOPEN_SOURCE\n#include <termios.h>\n#ifdef IUCLC\nyes\n#endif], su_cv_sys_termios_needs_xopen_source=yes,\n   su_cv_sys_termios_needs_xopen_source=no))])\n  AC_MSG_RESULT([$su_cv_sys_termios_needs_xopen_source])\n  test $su_cv_sys_termios_needs_xopen_source = yes &&\n    AC_DEFINE([TERMIOS_NEEDS_XOPEN_SOURCE], [1], [FIXME])\n\n  AC_MSG_CHECKING([c_line in struct termios])\n  AC_CACHE_VAL([su_cv_sys_c_line_in_termios],\n  [AC_LINK_IFELSE([AC_LANG_PROGRAM([[#if TERMIOS_NEEDS_XOPEN_SOURCE\n                                      #define _XOPEN_SOURCE\n                                     #endif\n                                     #include <sys/types.h>\n                                     #include <termios.h>\n                                     struct termios t;\n                                     int s = sizeof t.c_line;]])],\n    [su_cv_sys_c_line_in_termios=yes],\n    [su_cv_sys_c_line_in_termios=no])])\n  AC_MSG_RESULT([$su_cv_sys_c_line_in_termios])\n  test $su_cv_sys_c_line_in_termios = yes \\\n    && AC_DEFINE([HAVE_C_LINE], [1], [FIXME])\nfi\n\n# FIXME: note that this macro appears above, too.\n# I'm leaving it here for now.  This whole thing needs to be modernized...\ngl_WINSIZE_IN_PTEM\n\ngl_HEADER_TIOCGWINSZ_IN_TERMIOS_H\n\nif test $gl_cv_sys_tiocgwinsz_needs_termios_h = no && \\\n   test $gl_cv_sys_tiocgwinsz_needs_sys_ioctl_h = no; then\n  AC_MSG_CHECKING([TIOCGWINSZ in sys/pty.h])\n  AC_CACHE_VAL([su_cv_sys_tiocgwinsz_in_sys_pty_h],\n  [AC_LINK_IFELSE([AC_LANG_PROGRAM([[#include <sys/types.h>\n#ifdef WINSIZE_IN_PTEM\n# include <sys/stream.h>\n# include <sys/ptem.h>\n#endif\n#include <sys/ioctl.h>\n#include <sys/tty.h>\n#include <sys/pty.h>]], [[int x = TIOCGWINSZ;]])],\n    [su_cv_sys_tiocgwinsz_in_sys_pty_h=yes],\n    [su_cv_sys_tiocgwinsz_in_sys_pty_h=no])])\n  AC_MSG_RESULT([$su_cv_sys_tiocgwinsz_in_sys_pty_h])\n\n  test $su_cv_sys_tiocgwinsz_in_sys_pty_h = yes \\\n      && AC_DEFINE([GWINSZ_IN_SYS_PTY], [1],\n                   [Define if your system defines TIOCGWINSZ in sys/pty.h.])\nfi\n\n# For src/kill.c.\nAC_CHECK_DECLS([strsignal, sys_siglist, _sys_siglist, __sys_siglist], , ,\n  [AC_INCLUDES_DEFAULT\n#include <signal.h>])\n\n# Build df only if there's a point to it.\nif test $gl_cv_list_mounted_fs = yes && test $gl_cv_fs_space = yes; then\n  gl_ADD_PROG([optional_bin_progs], [df])\nfi\n\n# Build stdbuf only if supported\nac_save_CFLAGS=$CFLAGS\nac_save_LDFLAGS=$LDFLAGS\ncu_save_c_werror_flag=$ac_c_werror_flag\nAC_LANG_WERROR\n# Detect warnings about ignored \"constructor\" attributes.\ngl_WARN_ADD([-Werror], [CFLAGS])\ngl_WARN_ADD([-errwarn], [CFLAGS])\n# Put this message here, after gl_WARN_ADD's chatter.\nAC_MSG_CHECKING([whether this system supports stdbuf])\nCFLAGS=\"-fPIC $CFLAGS\"\nLDFLAGS=\"-shared $LDFLAGS\"\nstdbuf_supported=no\n# Note we only LINK here rather than RUN to support cross compilation\nAC_LINK_IFELSE(\n  [AC_LANG_PROGRAM([[\n    static int stdbuf = 0;\n\n    void __attribute__ ((constructor))\n    stdbuf_init (void)\n    {\n      stdbuf = 1;\n    }]],[[\n    if (stdbuf != 1)\n      return 1;]])\n  ],\n  [stdbuf_supported=yes])\nAC_MSG_RESULT([$stdbuf_supported])\nif test \"$stdbuf_supported\" = \"yes\" && test -z \"$EXEEXT\"; then\n  gl_ADD_PROG([optional_bin_progs], [stdbuf])\nfi\nCFLAGS=$ac_save_CFLAGS\nLDFLAGS=$ac_save_LDFLAGS\nac_c_werror_flag=$cu_save_c_werror_flag\n\nac_save_CFLAGS=$CFLAGS\nCFLAGS=\"-mavx -mpclmul $CFLAGS\"\nAC_MSG_CHECKING([if pclmul intrinsic exists])\nAC_LINK_IFELSE(\n  [AC_LANG_SOURCE([[\n    #include <x86intrin.h>\n\n    int\n    main (void)\n    {\n      __m128i a, b;\n      a = _mm_clmulepi64_si128 (a, b, 0x00);\n      a = _mm_shuffle_epi8 (a, b);\n      return __builtin_cpu_supports (\"pclmul\");\n    }\n  ]])\n  ],[\n    pclmul_intrinsic_exists=yes\n  ],[\n    pclmul_intrinsic_exists=no\n  ])\nAC_MSG_RESULT([$pclmul_intrinsic_exists])\nif test $pclmul_intrinsic_exists = yes; then\n  AC_DEFINE([USE_PCLMUL_CRC32], [1],\n            [CRC32 calculation by pclmul hardware instruction enabled])\nfi\nAM_CONDITIONAL([USE_PCLMUL_CRC32],\n               [test $pclmul_intrinsic_exists = yes])\nCFLAGS=$ac_save_CFLAGS\n\nCFLAGS=\"-mavx2 $CFLAGS\"\nAC_MSG_CHECKING([for avx2 intrinsics])\nAC_LINK_IFELSE(\n  [AC_LANG_SOURCE([[\n    #include <x86intrin.h>\n\n    int\n    main (void)\n    {\n      __m256i a, b;\n      a = _mm256_sad_epu8 (a, b);\n      return __builtin_cpu_supports (\"avx2\");\n    }\n  ]])\n  ],[\n    avx2_intrinsic_exists=yes\n  ],[\n    avx2_intrinsic_exists=no\n  ])\nAC_MSG_RESULT([$avx2_intrinsic_exists])\nif test $avx2_intrinsic_exists = yes; then\n  AC_DEFINE([USE_AVX2_WC_LINECOUNT], [1], [Counting lines with AVX2 enabled])\nfi\nAM_CONDITIONAL([USE_AVX2_WC_LINECOUNT],\n               [test $avx2_intrinsic_exists = yes])\n\nCFLAGS=$ac_save_CFLAGS\n\n############################################################################\n\ndnl Autogenerated by the 'gen-lists-of-programs.sh' auxiliary script.\ndnl Issue proper calls to the macros gl_INCLUDE_EXCLUDE_PROG and\ndnl gl_ADD_PROG (updating $optional_bin_progs), and generate the list\ndnl of coreutils programs to be built only upon explicit user request,\ndnl saving that list in the $no_install_progs_default shell variable.\nm4_include([m4/cu-progs.m4])\n\n# Now that we know which programs will actually be built, determine\n# which optional helper progs should be compiled.\n# Note it adding to pkglibexec_PROGRAMS, $(transform) in src/local.mk\n# may need to be updated accordingly.\ncase \" $optional_bin_progs \" in\n  *' stdbuf '*) pkglibexec_PROGRAMS='src/libstdbuf.so';;\n  *) pkglibexec_PROGRAMS='';;\nesac\n\nman1_MANS=`\n  for p in $optional_bin_progs; do\n    # Change \"ginstall.1\" to \"install.1\".\n    test $p = ginstall && p=install\n    # Ignore the \"[\" program, since writing a portable make rule to\n    # generate its manpage is not practical.\n    dnl Use the autoconf-provided quadrigraph to represent \"[\",\n    dnl otherwise we will incur in dreadful quoting issues.\n    test x$p = x'@<:@' && continue\n    echo \"man/$p.1\"\n  done`\n\n# Not installed by \"make install\", but must be built when creating\n# a distribution tarball.\nEXTRA_MANS=`for p in $no_install_progs_default $gl_no_install_prog; do\n              echo man/$p.1\n            done`\n\n# Replace all the programs by the single binary and symlinks if specified.\nsingle_binary_progs=\nsingle_binary_libs=\nsingle_binary_deps=\nsingle_binary_install_type=\nif test \"$gl_single_binary\" != no; then\n  man1_MANS=\"$man1_MANS man/coreutils.1\"\n  # Convert the list to a space separated list\n  gl_single_binary_exceptions=`echo $gl_single_binary_exceptions | tr ',' ' '`\n\n  single_binary_progs=`echo $optional_bin_progs`\n  optional_bin_progs=\"coreutils\"\n  for prog in $gl_single_binary_exceptions; do\n    # Fail if requested to exclude a program than was not part of coreutils.\n    case \" $single_binary_progs \" in\n      *\" $prog \"*)\n        gl_REMOVE_PROG([single_binary_progs], [$prog]) ;\n        gl_ADD_PROG([optional_bin_progs], [$prog]) ;;\n      *) AC_MSG_ERROR(['$prog' is not being compiled.]) ;;\n    esac\n  done\n\n  # single_binary_libs holds the list of libs required by the selected\n  # programs, such as for example -lrt.\n  single_binary_libs=`\n    for p in $single_binary_progs; do\n      # Convert '[' to '_'\n      test x\"$p\" = x'@<:@' && p='_'\n      printf '$(src_libsinglebin_%s_a_ldadd) ' \"$p\"\n    done`\n  # single_binary_deps holds the list of libsinglebin_*.a files that have the\n  # compiled code of each selected program in a \"library\" format.\n  single_binary_deps=`\n    for p in $single_binary_progs; do\n      # Convert '[' to '_'\n      test x\"$p\" = x'@<:@' && p='_'\n      printf 'src/libsinglebin_%s.a ' \"$p\"\n    done`\n  single_binary_install_type=\"$gl_single_binary\"\nfi\nAC_SUBST([single_binary_progs], [$single_binary_progs])\nAC_SUBST([single_binary_libs], [$single_binary_libs])\nAC_SUBST([single_binary_deps], [$single_binary_deps])\nAC_SUBST([single_binary_install_type], [$single_binary_install_type])\n\n\n# The programs built and installed by \"make && make install\".\n# Since this is AC_SUBST'd, Automake won't be able to perform rewrite\n# with $(EXEEXT) appending on it, so we have to do it ourselves -- in\n# this case, only for $(bin_PROGRAMS).\nbin_PROGRAMS=`\n  for p in $optional_bin_progs; do echo src/\"$p\"'$(EXEEXT)'; done`\n\n# Normalize whitespace.\nman1_MANS=`echo $man1_MANS`\nEXTRA_MANS=`echo $EXTRA_MANS`\nbin_PROGRAMS=`echo $bin_PROGRAMS`\npkglibexec_PROGS=`echo $pkglibexec_PROGRAMS`\n\nAC_SUBST([bin_PROGRAMS])        AM_SUBST_NOTMAKE([bin_PROGRAMS])\nAC_SUBST([pkglibexec_PROGRAMS]) AM_SUBST_NOTMAKE([pkglibexec_PROGRAMS])\nAC_SUBST([man1_MANS])           AM_SUBST_NOTMAKE([man1_MANS])\nAC_SUBST([EXTRA_MANS])          AM_SUBST_NOTMAKE([EXTRA_MANS])\n\nAC_SUBST([built_programs], [$optional_bin_progs])\n\nAM_CONDITIONAL([CROSS_COMPILING], [test \"$cross_compiling\" = yes])\n\n############################################################################\n\n# As long as \"grep 'PRI[diouxX]' po/*.pot\" reports matches in\n# translatable strings, we must use need-formatstring-macros here.\nAM_GNU_GETTEXT([external], [need-formatstring-macros])\nAM_GNU_GETTEXT_VERSION([0.19.2])\n\n# For a test of uniq: it uses the $LOCALE_FR envvar.\ngt_LOCALE_FR\n\nAC_CONFIG_FILES(\n  Makefile\n  po/Makefile.in\n  gnulib-tests/Makefile\n  )\nAC_OUTPUT\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}