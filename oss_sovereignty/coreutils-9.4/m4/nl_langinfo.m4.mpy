{
  "module_name": "nl_langinfo.m4",
  "hash_id": "4534ad995cb279df8fb9f2a9442bb94eed2ea44ff1f127eba2ff5813b3763c0d",
  "original_prompt": "Ingested from coreutils-9.4/m4/nl_langinfo.m4",
  "human_readable_source": "# nl_langinfo.m4 serial 11\ndnl Copyright (C) 2009-2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\nAC_DEFUN([gl_FUNC_NL_LANGINFO],\n[\n  AC_REQUIRE([gl_LANGINFO_H_DEFAULTS])\n  AC_REQUIRE([gl_LANGINFO_H])\n  gl_CHECK_FUNCS_ANDROID([nl_langinfo], [[#include <langinfo.h>]])\n  AC_REQUIRE([AC_CANONICAL_HOST])\n  AC_REQUIRE([gl_FUNC_SETLOCALE_NULL])\n  AC_REQUIRE([gl_PTHREADLIB])\n  AC_CHECK_HEADERS_ONCE([threads.h])\n  if test $ac_cv_func_nl_langinfo = yes; then\n    # On Irix 6.5, YESEXPR is defined, but nl_langinfo(YESEXPR) is broken.\n    AC_CACHE_CHECK([whether YESEXPR works],\n      [gl_cv_func_nl_langinfo_yesexpr_works],\n      [AC_RUN_IFELSE(\n         [AC_LANG_PROGRAM([[#include <langinfo.h>\n]], [[return !*nl_langinfo(YESEXPR);\n]])],\n         [gl_cv_func_nl_langinfo_yesexpr_works=yes],\n         [gl_cv_func_nl_langinfo_yesexpr_works=no],\n         [\n         case \"$host_os\" in\n                   # Guess no on irix systems.\n           irix*)  gl_cv_func_nl_langinfo_yesexpr_works=\"guessing no\";;\n                   # Guess yes elsewhere.\n           *)      gl_cv_func_nl_langinfo_yesexpr_works=\"guessing yes\";;\n         esac\n         ])\n      ])\n    case $gl_cv_func_nl_langinfo_yesexpr_works in\n      *yes) FUNC_NL_LANGINFO_YESEXPR_WORKS=1 ;;\n      *)    FUNC_NL_LANGINFO_YESEXPR_WORKS=0 ;;\n    esac\n    AC_DEFINE_UNQUOTED([FUNC_NL_LANGINFO_YESEXPR_WORKS],\n      [$FUNC_NL_LANGINFO_YESEXPR_WORKS],\n      [Define to 1 if nl_langinfo (YESEXPR) returns a non-empty string.])\n    # On Solaris 10 and Solaris 11.3, nl_langinfo is not multithread-safe.\n    case \"$host_os\" in\n      solaris*) NL_LANGINFO_MTSAFE=0 ;;\n      *)        NL_LANGINFO_MTSAFE=1 ;;\n    esac\n    AC_DEFINE_UNQUOTED([NL_LANGINFO_MTSAFE], [$NL_LANGINFO_MTSAFE],\n      [Define to 1 if nl_langinfo is multithread-safe.])\n    if test $HAVE_LANGINFO_CODESET = 1 \\\n       && test $HAVE_LANGINFO_T_FMT_AMPM = 1 \\\n       && test $HAVE_LANGINFO_ALTMON = 1 \\\n       && test $HAVE_LANGINFO_ERA = 1 \\\n       && test $FUNC_NL_LANGINFO_YESEXPR_WORKS = 1 \\\n       && test $NL_LANGINFO_MTSAFE = 1; then\n      :\n    else\n      REPLACE_NL_LANGINFO=1\n      AC_DEFINE([REPLACE_NL_LANGINFO], [1],\n        [Define if nl_langinfo exists but is overridden by gnulib.])\n    fi\n  else\n    HAVE_NL_LANGINFO=0\n    case \"$gl_cv_onwards_func_nl_langinfo\" in\n      future*) REPLACE_NL_LANGINFO=1 ;;\n    esac\n  fi\n  if test $HAVE_NL_LANGINFO = 0 || test $HAVE_LANGINFO_CODESET = 0; then\n    LIB_NL_LANGINFO=\"$SETLOCALE_NULL_LIB\"\n  else\n    LIB_NL_LANGINFO=\n  fi\n  dnl LIB_NL_LANGINFO is expected to be empty everywhere.\n  AC_SUBST([LIB_NL_LANGINFO])\n])\n\n# Prerequisites of lib/nl_langinfo-lock.c.\nAC_DEFUN([gl_PREREQ_NL_LANGINFO_LOCK],\n[\n  gl_VISIBILITY\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}