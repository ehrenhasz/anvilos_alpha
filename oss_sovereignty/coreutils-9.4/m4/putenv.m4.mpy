{
  "module_name": "putenv.m4",
  "hash_id": "96b2760a9f8ca76b1e888fc014895133a4a56dc1dc97ff84b2401003431747f3",
  "original_prompt": "Ingested from coreutils-9.4/m4/putenv.m4",
  "human_readable_source": "# putenv.m4 serial 27\ndnl Copyright (C) 2002-2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\ndnl From Jim Meyering.\ndnl\ndnl Check whether putenv (\"FOO\") removes FOO from the environment.\ndnl The putenv in libc on at least SunOS 4.1.4 does *not* do that.\n\nAC_DEFUN([gl_FUNC_PUTENV],\n[\n  AC_REQUIRE([gl_STDLIB_H_DEFAULTS])\n  AC_REQUIRE([AC_CANONICAL_HOST]) dnl for cross-compiles\n  AC_CACHE_CHECK([for putenv compatible with GNU and SVID],\n    [gl_cv_func_svid_putenv],\n    [AC_RUN_IFELSE(\n       [AC_LANG_PROGRAM(\n          [AC_INCLUDES_DEFAULT\n           GL_MDA_DEFINES],\n          [[\n            /* Put it in env.  */\n            if (putenv (\"CONFTEST_putenv=val\"))\n              return 1;\n\n            /* Try to remove it.  */\n            if (putenv (\"CONFTEST_putenv\"))\n              return 2;\n\n            /* Make sure it was deleted.  */\n            if (getenv (\"CONFTEST_putenv\") != 0)\n              return 3;\n\n            return 0;\n          ]])],\n       [gl_cv_func_svid_putenv=yes],\n       [gl_cv_func_svid_putenv=no],\n       [dnl When crosscompiling, assume putenv is broken.\n        case \"$host_os\" in\n                              # Guess yes on glibc systems.\n          *-gnu* | gnu*)      gl_cv_func_svid_putenv=\"guessing yes\" ;;\n                              # Guess yes on musl systems.\n          *-musl* | midipix*) gl_cv_func_svid_putenv=\"guessing yes\" ;;\n                              # Guess no on native Windows.\n          mingw* | windows*)  gl_cv_func_svid_putenv=\"guessing no\" ;;\n                              # If we don't know, obey --enable-cross-guesses.\n          *)                  gl_cv_func_svid_putenv=\"$gl_cross_guess_normal\" ;;\n        esac\n       ])\n    ])\n  case \"$gl_cv_func_svid_putenv\" in\n    *yes) ;;\n    *)\n      REPLACE_PUTENV=1\n      ;;\n  esac\n])\n\n# Prerequisites of lib/putenv.c.\nAC_DEFUN([gl_PREREQ_PUTENV],\n[\n  AC_CHECK_DECLS([_putenv])\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}