{
  "module_name": "libgmp.m4",
  "hash_id": "ad9a1685d34f5c3472fa95f53274d9816cad553c54f9cd7266c66557b15207c2",
  "original_prompt": "Ingested from coreutils-9.4/m4/libgmp.m4",
  "human_readable_source": "# libgmp.m4 serial 8\n# Configure the GMP library or a replacement.\ndnl Copyright 2020-2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\ndnl gl_LIBGMP\ndnl Search for an installed libgmp.\ndnl If found, set and AC_SUBST HAVE_LIBGMP=yes and the LIBGMP and LTLIBGMP\ndnl variables, and augment the CPPFLAGS variable, and #define HAVE_LIBGMP to 1.\ndnl Otherwise, set and AC_SUBST HAVE_LIBGMP=no and LIBGMP and LTLIBGMP to\ndnl empty.\n\nAC_DEFUN([gl_LIBGMP],\n[\n  AC_ARG_WITH([libgmp],\n    [AS_HELP_STRING([[--without-libgmp]],\n       [do not use the GNU Multiple Precision (GMP) library;\n        this is the default on systems lacking libgmp.])])\n  HAVE_LIBGMP=no\n  LIBGMP=\n  LTLIBGMP=\n  AS_IF([test \"$with_libgmp\" != no],\n    [AC_CHECK_HEADERS([gmp.h gmp/gmp.h], [break])\n     dnl Prefer AC_LIB_HAVE_LINKFLAGS if the havelib module is also in use.\n     AS_IF([test \"$ac_cv_header_gmp_h\" = yes ||\n            test \"$ac_cv_header_gmp_gmp_h\" = yes],\n       [m4_ifdef([gl_HAVE_MODULE_HAVELIB],\n          [AC_LIB_HAVE_LINKFLAGS([gmp], [],\n             [#if HAVE_GMP_H\n              # include <gmp.h>\n              #else\n              # include <gmp/gmp.h>\n              #endif],\n             [static const mp_limb_t x[2] = { 0x73, 0x55 };\n              mpz_t tmp;\n              mpz_roinit_n (tmp, x, 2);\n             ],\n             [no])],\n          [gl_saved_LIBS=$LIBS\n           AC_SEARCH_LIBS([__gmpz_roinit_n], [gmp])\n           LIBS=$gl_saved_LIBS\n           case $ac_cv_search___gmpz_roinit_n in\n             'none needed')\n               HAVE_LIBGMP=yes;;\n             -*)\n               HAVE_LIBGMP=yes\n               LIBGMP=$ac_cv_search___gmpz_roinit_n\n               LTLIBGMP=$LIBGMP;;\n           esac\n           AC_SUBST([HAVE_LIBGMP])\n           AC_SUBST([LIBGMP])\n           AC_SUBST([LTLIBGMP])])])\n     if test \"$with_libgmp,$HAVE_LIBGMP\" = yes,no; then\n       AC_MSG_ERROR(\n         [GMP not found, although --with-libgmp was specified.m4_ifdef(\n            [AC_LIB_HAVE_LINKFLAGS],\n            [ Try specifying --with-libgmp-prefix=DIR.])])\n     fi])\n  if test $HAVE_LIBGMP = yes && test \"$ac_cv_header_gmp_h\" = yes; then\n    GL_GENERATE_GMP_H=false\n  else\n    GL_GENERATE_GMP_H=true\n  fi\n  gl_CONDITIONAL([GL_GENERATE_MINI_GMP_H],\n    [test $HAVE_LIBGMP != yes])\n  gl_CONDITIONAL([GL_GENERATE_GMP_GMP_H],\n    [test $HAVE_LIBGMP = yes && test \"$ac_cv_header_gmp_h\" != yes])\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}