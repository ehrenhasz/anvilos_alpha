{
  "module_name": "sockpfaf.m4",
  "hash_id": "20bb5b4e38da99b01fa7e0c687122d04ee037ce553d35eac476a4eed1d74066a",
  "original_prompt": "Ingested from coreutils-9.4/m4/sockpfaf.m4",
  "human_readable_source": "# sockpfaf.m4 serial 10\ndnl Copyright (C) 2004, 2006, 2009-2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\ndnl Test for some common socket protocol families (PF_INET, PF_INET6, ...)\ndnl and some common address families (AF_INET, AF_INET6, ...).\ndnl This test assumes that a system supports an address family if and only if\ndnl it supports the corresponding protocol family.\n\ndnl From Bruno Haible.\n\nAC_DEFUN([gl_SOCKET_FAMILIES],\n[\n  AC_REQUIRE([gl_SYS_SOCKET_H])\n  AC_CHECK_HEADERS_ONCE([netinet/in.h])\n\n  AC_CACHE_CHECK([for IPv4 sockets],\n    [gl_cv_socket_ipv4],\n    [AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <sys/types.h>\n#ifdef HAVE_SYS_SOCKET_H\n#include <sys/socket.h>\n#endif\n#ifdef HAVE_NETINET_IN_H\n#include <netinet/in.h>\n#endif\n#ifdef HAVE_WINSOCK2_H\n#include <winsock2.h>\n#endif]],\n[[int x = AF_INET; struct in_addr y; struct sockaddr_in z;\n if (&x && &y && &z) return 0;]])],\n       gl_cv_socket_ipv4=yes, gl_cv_socket_ipv4=no)])\n  if test $gl_cv_socket_ipv4 = yes; then\n    AC_DEFINE([HAVE_IPV4], [1], [Define to 1 if <sys/socket.h> defines AF_INET.])\n  fi\n\n  AC_CACHE_CHECK([for IPv6 sockets],\n    [gl_cv_socket_ipv6],\n    [AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <sys/types.h>\n#ifdef HAVE_SYS_SOCKET_H\n#include <sys/socket.h>\n#endif\n#ifdef HAVE_NETINET_IN_H\n#include <netinet/in.h>\n#endif\n#ifdef HAVE_WINSOCK2_H\n#include <winsock2.h>\n#endif\n#ifdef HAVE_WS2TCPIP_H\n#include <ws2tcpip.h>\n#endif]],\n[[int x = AF_INET6; struct in6_addr y; struct sockaddr_in6 z;\n if (&x && &y && &z) return 0;]])],\n       gl_cv_socket_ipv6=yes, gl_cv_socket_ipv6=no)])\n  if test $gl_cv_socket_ipv6 = yes; then\n    AC_DEFINE([HAVE_IPV6], [1], [Define to 1 if <sys/socket.h> defines AF_INET6.])\n  fi\n])\n\nAC_DEFUN([gl_SOCKET_FAMILY_UNIX],\n[\n  AC_REQUIRE([gl_SYS_SOCKET_H])\n  AC_CHECK_HEADERS_ONCE([sys/un.h])\n\n  AC_CACHE_CHECK([for UNIX domain sockets],\n    [gl_cv_socket_unix],\n    [AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <sys/types.h>\n#ifdef HAVE_SYS_SOCKET_H\n#include <sys/socket.h>\n#endif\n#ifdef HAVE_SYS_UN_H\n#include <sys/un.h>\n#endif\n#ifdef HAVE_WINSOCK2_H\n#include <winsock2.h>\n#endif]],\n[[int x = AF_UNIX; struct sockaddr_un y;\n if (&x && &y) return 0;]])],\n       gl_cv_socket_unix=yes, gl_cv_socket_unix=no)])\n  if test $gl_cv_socket_unix = yes; then\n    AC_DEFINE([HAVE_UNIXSOCKET], [1], [Define to 1 if <sys/socket.h> defines AF_UNIX.])\n  fi\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}