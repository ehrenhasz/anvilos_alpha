{
  "module_name": "euidaccess.m4",
  "hash_id": "ec9517e3d797f574dba6f17a25a08c0ef4498a4b514f66838a9df152026f0402",
  "original_prompt": "Ingested from coreutils-9.4/m4/euidaccess.m4",
  "human_readable_source": "# euidaccess.m4 serial 17\ndnl Copyright (C) 2002-2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\nAC_DEFUN([gl_FUNC_NONREENTRANT_EUIDACCESS],\n[\n  AC_REQUIRE([gl_FUNC_EUIDACCESS])\n  AC_CHECK_DECLS([setregid])\n  AC_DEFINE([PREFER_NONREENTRANT_EUIDACCESS], [1],\n    [Define this if you prefer euidaccess to return the correct result\n     even if this would make it nonreentrant.  Define this only if your\n     entire application is safe even if the uid or gid might temporarily\n     change.  If your application uses signal handlers or threads it\n     is probably not safe.])\n])\n\nAC_DEFUN([gl_FUNC_EUIDACCESS],\n[\n  AC_REQUIRE([gl_UNISTD_H_DEFAULTS])\n\n  dnl Persuade glibc <unistd.h> to declare euidaccess().\n  AC_REQUIRE([AC_USE_SYSTEM_EXTENSIONS])\n\n  AC_CHECK_FUNCS([euidaccess])\n  if test $ac_cv_func_euidaccess = no; then\n    HAVE_EUIDACCESS=0\n  fi\n])\n\n# Prerequisites of lib/euidaccess.c.\nAC_DEFUN([gl_PREREQ_EUIDACCESS], [\n  dnl Prefer POSIX faccessat over non-standard euidaccess.\n  gl_CHECK_FUNCS_ANDROID([faccessat], [[#include <unistd.h>]])\n  dnl Try various other non-standard fallbacks.\n  AC_CHECK_HEADERS([libgen.h])\n  AC_FUNC_GETGROUPS\n\n  # Solaris 9 and 10 need -lgen to get the eaccess function.\n  # Save and restore LIBS so -lgen isn't added to it.  Otherwise, *all*\n  # programs in the package would end up linked with that potentially-shared\n  # library, inducing unnecessary run-time overhead.\n  EUIDACCESS_LIBGEN=\n  AC_SUBST([EUIDACCESS_LIBGEN])\n  gl_saved_libs=$LIBS\n    AC_SEARCH_LIBS([eaccess], [gen],\n                   [test \"$ac_cv_search_eaccess\" = \"none required\" ||\n                    EUIDACCESS_LIBGEN=$ac_cv_search_eaccess])\n    AC_CHECK_FUNCS([eaccess])\n  LIBS=$gl_saved_libs\n  # For backward compatibility.\n  LIB_EACCESS=\"$EUIDACCESS_LIBGEN\"\n  AC_SUBST([LIB_EACCESS])\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}