{
  "module_name": "gettime.m4",
  "hash_id": "833bbb7d6bfb448a9d0edfffea44b73452557dd5f815ec05fa6aa52f6eb3f4c2",
  "original_prompt": "Ingested from coreutils-9.4/m4/gettime.m4",
  "human_readable_source": "# gettime.m4 serial 14\ndnl Copyright (C) 2002, 2004-2006, 2009-2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\nAC_DEFUN([gl_GETTIME],\n[\n  dnl Prerequisites of lib/gettime.c.\n  AC_REQUIRE([gl_CLOCK_TIME])\n  AC_REQUIRE([gl_TIMESPEC])\n\n  AC_REQUIRE([gl_CHECK_FUNC_TIMESPEC_GET])\n  if test $gl_cv_func_timespec_get = yes; then\n    AC_DEFINE([HAVE_TIMESPEC_GET], [1],\n      [Define if you have the timespec_get function.])\n  fi\n])\n\ndnl Tests whether the function timespec_get exists.\ndnl Sets gl_cv_func_timespec_get and gl_cv_onwards_func_timespec_get.\nAC_DEFUN([gl_CHECK_FUNC_TIMESPEC_GET],\n[\n  AC_REQUIRE([AC_CANONICAL_HOST])\n\n  dnl Persuade OpenBSD <time.h> to declare timespec_get().\n  AC_REQUIRE([gl_USE_SYSTEM_EXTENSIONS])\n\n  dnl We can't use AC_CHECK_FUNC here, because timespec_get() is defined as a\n  dnl static inline function in <time.h> on MSVC 14.\n  dnl But at the same time, we need to notice a missing declaration, like\n  dnl gl_CHECK_FUNCS_ANDROID does.\n  AC_CHECK_DECL([timespec_get], , , [[#include <time.h>]])\n  AC_CACHE_CHECK([for timespec_get], [gl_cv_onwards_func_timespec_get],\n    [if test $ac_cv_have_decl_timespec_get = yes; then\n       AC_LINK_IFELSE(\n         [AC_LANG_PROGRAM(\n            [[#include <time.h>\n              struct timespec ts;\n            ]],\n            [[return timespec_get (&ts, 0);]])\n         ],\n         [gl_cv_onwards_func_timespec_get=yes],\n         [gl_cv_onwards_func_timespec_get=no])\n     else\n       gl_cv_onwards_func_timespec_get=no\n     fi\n     case \"$host_os\" in\n       linux*-android*)\n         if test $gl_cv_onwards_func_timespec_get = no; then\n           gl_cv_onwards_func_timespec_get='future OS version'\n         fi\n         ;;\n     esac\n    ])\n  case \"$gl_cv_onwards_func_timespec_get\" in\n    future*) gl_cv_func_timespec_get=no ;;\n    *)       gl_cv_func_timespec_get=$gl_cv_onwards_func_timespec_get ;;\n  esac\n])\n\nAC_DEFUN([gl_GETTIME_RES],\n[\n  dnl Prerequisites of lib/gettime-res.c.\n  AC_REQUIRE([gl_CLOCK_TIME])\n  AC_REQUIRE([gl_TIMESPEC])\n  AC_CHECK_FUNCS_ONCE([timespec_getres])\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}