{
  "module_name": "timer_time.m4",
  "hash_id": "e943056c5c97174405d66bcd0c988f526ec6c1f7b3e1b2626a1f0addb70995d7",
  "original_prompt": "Ingested from coreutils-9.4/m4/timer_time.m4",
  "human_readable_source": "# timer_time.m4 serial 6\ndnl Copyright (C) 2011-2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\n# Check for timer_settime, and set TIMER_TIME_LIB.\n\nAC_DEFUN([gl_TIMER_TIME],\n[\n  dnl Based on clock_time.m4. See details there.\n\n  AC_REQUIRE([gl_USE_SYSTEM_EXTENSIONS])\n\n  dnl Test whether the gnulib module 'threadlib' is in use.\n  dnl Some packages like Emacs use --avoid=threadlib.\n  dnl Write the symbol in such a way that it does not cause 'aclocal' to pick\n  dnl the threadlib.m4 file that is installed in $PREFIX/share/aclocal/.\n  m4_ifdef([gl_][PTHREADLIB], [AC_REQUIRE([gl_][PTHREADLIB])])\n\n  AC_CHECK_DECL([timer_settime], [], [],\n                [[#include <time.h>\n                ]])\n  TIMER_TIME_LIB=\n  AC_SUBST([TIMER_TIME_LIB])\n  AS_IF([test \"$ac_cv_have_decl_timer_settime\" = yes], [\n    gl_saved_libs=$LIBS\n    AC_SEARCH_LIBS([timer_settime], [rt posix4],\n                   [test \"$ac_cv_search_timer_settime\" = \"none required\" ||\n                    TIMER_TIME_LIB=$ac_cv_search_timer_settime])\n    m4_ifdef([gl_][PTHREADLIB],\n      [dnl GLIBC uses threads to emulate posix timers when kernel support\n       dnl is not available (like Linux < 2.6 or when used with kFreeBSD)\n       dnl Now the pthread lib is linked automatically in the normal case,\n       dnl but when linking statically, it needs to be explicitly specified.\n       AC_EGREP_CPP([Thread],\n         [#include <features.h>\n          #ifdef __GNU_LIBRARY__\n           #if ((__GLIBC__ == 2 && __GLIBC_MINOR__ >= 2) || (__GLIBC__ > 2)) \\\n               && !(__UCLIBC__ && __HAS_NO_THREADS__)\n            Thread emulation available\n           #endif\n          #endif\n         ],\n         [TIMER_TIME_LIB=\"$TIMER_TIME_LIB $LIBPMULTITHREAD\"])])\n    AC_CHECK_FUNCS([timer_settime])\n    LIBS=$gl_saved_libs\n  ])\n  dnl For backward compatibility.\n  LIB_TIMER_TIME=\"$TIMER_TIME_LIB\"\n  AC_SUBST([LIB_TIMER_TIME])\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}