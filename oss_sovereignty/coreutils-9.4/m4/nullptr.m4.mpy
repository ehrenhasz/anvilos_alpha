{
  "module_name": "nullptr.m4",
  "hash_id": "8d90b18d402f01d0f5461f8fa1b84ddede12401bede875372db7c131bfa154c0",
  "original_prompt": "Ingested from coreutils-9.4/m4/nullptr.m4",
  "human_readable_source": "# Check for nullptr that conforms to C23 and C++11.\n\ndnl Copyright 2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\nAC_DEFUN([gl_NULLPTR],\n[\n  m4_provide_if([AC_PROG_CC],\n    [AC_LANG_PUSH([C])\n     AC_CACHE_CHECK([for C nullptr], [gl_cv_c_nullptr],\n       [AC_COMPILE_IFELSE(\n          [AC_LANG_SOURCE([[int *p = nullptr;]])],\n          [gl_cv_c_nullptr=yes],\n          [gl_cv_c_nullptr=no])])\n      gl_c_nullptr=$gl_cv_c_nullptr\n      AC_LANG_POP([C])],\n     [gl_c_nullptr=no])\n  if test \"$gl_c_nullptr\" = yes; then\n    AC_DEFINE([HAVE_C_NULLPTR], [1],\n      [Define to 1 if C nullptr is known to work.])\n  fi\n\n  m4_provide_if([AC_PROG_CXX],\n    [AC_LANG_PUSH([C++])\n     AC_CACHE_CHECK([for C++ nullptr], [gl_cv_cxx_nullptr],\n       [AC_COMPILE_IFELSE(\n          [AC_LANG_SOURCE([[int *p = nullptr;]])],\n          [gl_cv_cxx_nullptr=yes],\n          [AC_COMPILE_IFELSE(\n             [AC_LANG_SOURCE([[#include <stddef.h>\n                               int *p = nullptr;]])],\n             [gl_cv_cxx_nullptr=\"yes, but it is a <stddef.h> macro\"],\n             [gl_cv_cxx_nullptr=no])])])\n     AS_CASE([$gl_cv_cxx_nullptr],\n       [yes],  [gl_have_cxx_nullptr=1],\n       [yes*], [gl_have_cxx_nullptr=\"(-1)\"],\n               [gl_have_cxx_nullptr=0])\n     AC_DEFINE_UNQUOTED([HAVE_CXX_NULLPTR], [$gl_have_cxx_nullptr],\n                        [Define to 1 if C++ nullptr works, 0 if not,\n                         (-1) if it is a <stddef.h> macro.])\n     AC_LANG_POP([C++])])\n])\n\n  AH_VERBATIM([zznullptr],\n[#if defined __cplusplus && HAVE_CXX_NULLPTR < 0\n# include <stddef.h>\n# undef/**/nullptr\n#endif\n#ifndef nullptr\n# if !defined __cplusplus && !defined HAVE_C_NULLPTR\n#  define nullptr ((void *) 0)\n# elif defined __cplusplus && HAVE_CXX_NULLPTR <= 0\n#  if 3 <= __GNUG__\n#   define nullptr __null\n#  else\n#   define nullptr 0L\n#  endif\n# endif\n#endif])\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}