{
  "module_name": "hostent.m4",
  "hash_id": "e15ea8ddc6223dece59265bf5ad7ecb3f2cc8b8672da2489a0a1d723f9e35197",
  "original_prompt": "Ingested from coreutils-9.4/m4/hostent.m4",
  "human_readable_source": "# hostent.m4 serial 4\ndnl Copyright (C) 2008, 2010-2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\nAC_DEFUN([gl_HOSTENT],\n[\n  dnl Where are gethostent(), sethostent(), endhostent(), gethostbyname(),\n  dnl gethostbyaddr() defined?\n  dnl - On Solaris < 11.4, they are in libnsl. Ignore libxnet.\n  dnl - On Haiku, they are in libnetwork.\n  dnl - On BeOS, they are in libnet.\n  dnl - On native Windows, they are in ws2_32.dll.\n  dnl - Otherwise they are in libc.\n  AC_REQUIRE([gl_SYS_SOCKET_H])dnl for HAVE_SYS_SOCKET_H, HAVE_WINSOCK2_H\n  HOSTENT_LIB=\n  gl_saved_libs=\"$LIBS\"\n  AC_SEARCH_LIBS([gethostbyname], [nsl network net],\n    [if test \"$ac_cv_search_gethostbyname\" != \"none required\"; then\n       HOSTENT_LIB=\"$ac_cv_search_gethostbyname\"\n     fi])\n  LIBS=\"$gl_saved_libs\"\n  if test -z \"$HOSTENT_LIB\"; then\n    AC_CHECK_FUNCS([gethostbyname], , [\n      AC_CACHE_CHECK([for gethostbyname in winsock2.h and -lws2_32],\n        [gl_cv_w32_gethostbyname],\n        [gl_cv_w32_gethostbyname=no\n         gl_save_LIBS=\"$LIBS\"\n         LIBS=\"$LIBS -lws2_32\"\n         AC_LINK_IFELSE(\n           [AC_LANG_PROGRAM(\n              [[\n#ifdef HAVE_WINSOCK2_H\n#include <winsock2.h>\n#endif\n#include <stddef.h>\n              ]],\n              [[gethostbyname(NULL);]])],\n           [gl_cv_w32_gethostbyname=yes])\n         LIBS=\"$gl_save_LIBS\"\n        ])\n      if test \"$gl_cv_w32_gethostbyname\" = \"yes\"; then\n        HOSTENT_LIB=\"-lws2_32\"\n      fi\n    ])\n  fi\n  AC_SUBST([HOSTENT_LIB])\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}