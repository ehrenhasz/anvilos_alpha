{
  "module_name": "readlinkat.m4",
  "hash_id": "cfb8453616147ded035732dc8f53157d13bdd6069ff56dd712e41921bafe30c8",
  "original_prompt": "Ingested from coreutils-9.4/m4/readlinkat.m4",
  "human_readable_source": "# serial 8\n# See if we need to provide readlinkat replacement.\n\ndnl Copyright (C) 2009-2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\n# Written by Eric Blake.\n\nAC_DEFUN([gl_FUNC_READLINKAT],\n[\n  AC_REQUIRE([gl_UNISTD_H_DEFAULTS])\n  AC_REQUIRE([gl_USE_SYSTEM_EXTENSIONS])\n  gl_CHECK_FUNCS_ANDROID([readlinkat], [[#include <unistd.h>]])\n  AC_REQUIRE([gl_FUNC_READLINK])\n  if test $ac_cv_func_readlinkat = no; then\n    HAVE_READLINKAT=0\n    case \"$gl_cv_onwards_func_readlinkat\" in\n      future*) REPLACE_READLINKAT=1 ;;\n    esac\n  else\n    AC_CACHE_CHECK([whether readlinkat signature is correct],\n      [gl_cv_decl_readlinkat_works],\n      [AC_COMPILE_IFELSE(\n         [AC_LANG_PROGRAM(\n           [[#include <unistd.h>\n             /* Check whether original declaration has correct type.  */\n             ssize_t readlinkat (int, char const *, char *, size_t);]])],\n         [gl_cv_decl_readlinkat_works=yes],\n         [gl_cv_decl_readlinkat_works=no])])\n    # Assume readlinkat has the same bugs as readlink,\n    # as is the case on OS X 10.10 with trailing slashes.\n    case $gl_cv_decl_readlinkat_works,$gl_cv_func_readlink_trailing_slash,$gl_cv_func_readlink_truncate in\n      *yes,*yes,*yes)\n        ;;\n      *)\n        REPLACE_READLINKAT=1\n        ;;\n    esac\n  fi\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}