{
  "module_name": "stat.m4",
  "hash_id": "85ba86aed5d3c09cb4c6b5016ec8806f8d0f2b27f77f0e273353bc5ff486f580",
  "original_prompt": "Ingested from coreutils-9.4/m4/stat.m4",
  "human_readable_source": "# serial 20\n\n# Copyright (C) 2009-2023 Free Software Foundation, Inc.\n#\n# This file is free software; the Free Software Foundation\n# gives unlimited permission to copy and/or distribute it,\n# with or without modifications, as long as this notice is preserved.\n\nAC_DEFUN([gl_FUNC_STAT],\n[\n  AC_REQUIRE([AC_CANONICAL_HOST])\n  AC_REQUIRE([gl_SYS_STAT_H_DEFAULTS])\n  AC_CHECK_FUNCS_ONCE([lstat])\n  case \"$host_os\" in\n    mingw* | windows*)\n      dnl On this platform, the original stat() returns st_atime, st_mtime,\n      dnl st_ctime values that are affected by the time zone.\n      REPLACE_STAT=1\n      ;;\n    *)\n      dnl AIX 7.1, Solaris 9, mingw64 mistakenly succeed on stat(\"file/\").\n      dnl (For mingw, this is due to a broken stat() override in libmingwex.a.)\n      dnl FreeBSD 7.2 mistakenly succeeds on stat(\"link-to-file/\").\n      AC_CACHE_CHECK([whether stat handles trailing slashes on files],\n        [gl_cv_func_stat_file_slash],\n        [touch conftest.tmp\n         # Assume that if we have lstat, we can also check symlinks.\n         if test $ac_cv_func_lstat = yes; then\n           ln -s conftest.tmp conftest.lnk\n         fi\n         AC_RUN_IFELSE(\n           [AC_LANG_PROGRAM(\n             [[#include <sys/stat.h>\n]], [[int result = 0;\n               struct stat st;\n               if (!stat (\"conftest.tmp/\", &st))\n                 result |= 1;\n#if HAVE_LSTAT\n               if (!stat (\"conftest.lnk/\", &st))\n                 result |= 2;\n#endif\n               return result;\n             ]])],\n           [gl_cv_func_stat_file_slash=yes], [gl_cv_func_stat_file_slash=no],\n           [case \"$host_os\" in\n                               # Guess yes on Linux systems.\n              linux-* | linux) gl_cv_func_stat_file_slash=\"guessing yes\" ;;\n                               # Guess yes on systems that emulate the Linux system calls.\n              midipix*)        gl_cv_func_stat_file_slash=\"guessing yes\" ;;\n                               # Guess yes on glibc systems.\n              *-gnu* | gnu*)   gl_cv_func_stat_file_slash=\"guessing yes\" ;;\n                               # If we don't know, obey --enable-cross-guesses.\n              *)               gl_cv_func_stat_file_slash=\"$gl_cross_guess_normal\" ;;\n            esac\n           ])\n         rm -f conftest.tmp conftest.lnk])\n      case $gl_cv_func_stat_file_slash in\n        *no)\n          REPLACE_STAT=1\n          AC_DEFINE([REPLACE_FUNC_STAT_FILE], [1], [Define to 1 if stat needs\n            help when passed a file name with a trailing slash]);;\n      esac\n      case $host_os in\n        dnl Solaris stat can return a negative tv_nsec.\n        solaris*)\n          REPLACE_FSTAT=1 ;;\n      esac\n      ;;\n  esac\n])\n\n# Prerequisites of lib/stat.c and lib/stat-w32.c.\nAC_DEFUN([gl_PREREQ_STAT], [\n  AC_REQUIRE([gl_SYS_STAT_H])\n  AC_REQUIRE([gl_PREREQ_STAT_W32])\n  :\n])\n\n# Prerequisites of lib/stat-w32.c.\nAC_DEFUN([gl_PREREQ_STAT_W32], [\n  AC_REQUIRE([AC_CANONICAL_HOST])\n  case \"$host_os\" in\n    mingw* | windows*)\n      AC_CHECK_HEADERS([sdkddkver.h])\n      ;;\n  esac\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}