{
  "module_name": "sched_h.m4",
  "hash_id": "4bca999661110b68f4600d74c70f30578e6c18afe09d2bdcad22a5e528c989f8",
  "original_prompt": "Ingested from coreutils-9.4/m4/sched_h.m4",
  "human_readable_source": "# sched_h.m4 serial 15\ndnl Copyright (C) 2008-2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\ndnl Written by Bruno Haible.\n\nAC_DEFUN_ONCE([gl_SCHED_H],\n[\n  dnl Ensure to expand the default settings once only, before all statements\n  dnl that occur in other macros.\n  AC_REQUIRE([gl_SCHED_H_DEFAULTS])\n\n  AC_REQUIRE([AC_CANONICAL_HOST])\n\n  AC_CHECK_HEADERS_ONCE([sys/cdefs.h])\n  AC_CHECK_HEADERS([sched.h], [], [],\n    [[#if HAVE_SYS_CDEFS_H\n       #include <sys/cdefs.h>\n      #endif\n    ]])\n  gl_NEXT_HEADERS([sched.h])\n\n  if test \"$ac_cv_header_sched_h\" = yes; then\n    HAVE_SCHED_H=1\n  else\n    HAVE_SCHED_H=0\n  fi\n  AC_SUBST([HAVE_SCHED_H])\n\n  if test \"$HAVE_SCHED_H\" = 1; then\n    AC_CHECK_TYPE([struct sched_param],\n      [HAVE_STRUCT_SCHED_PARAM=1], [HAVE_STRUCT_SCHED_PARAM=0],\n      [[#if HAVE_SYS_CDEFS_H\n         #include <sys/cdefs.h>\n        #endif\n        #include <sched.h>\n      ]])\n  else\n    HAVE_STRUCT_SCHED_PARAM=0\n    case \"$host_os\" in\n      os2*)\n        dnl On OS/2 kLIBC, struct sched_param is in spawn.h.\n        AC_CHECK_TYPE([struct sched_param],\n          [HAVE_STRUCT_SCHED_PARAM=1], [],\n          [#include <spawn.h>])\n        ;;\n      vms)\n        dnl On OpenVMS 7.2 or newer, struct sched_param is in pthread.h.\n        AC_CHECK_TYPE([struct sched_param],\n          [HAVE_STRUCT_SCHED_PARAM=1], [],\n          [#include <pthread.h>])\n        ;;\n    esac\n  fi\n  AC_SUBST([HAVE_STRUCT_SCHED_PARAM])\n\n  if test \"$ac_cv_header_sys_cdefs_h\" = yes; then\n    HAVE_SYS_CDEFS_H=1\n  else\n    HAVE_SYS_CDEFS_H=0\n  fi\n  AC_SUBST([HAVE_SYS_CDEFS_H])\n\n  dnl Ensure the type pid_t gets defined.\n  AC_REQUIRE([AC_TYPE_PID_T])\n\n  dnl Check for declarations of anything we want to poison if the\n  dnl corresponding gnulib module is not in use, if it is not common\n  dnl enough to be declared everywhere.\n  gl_WARN_ON_USE_PREPARE([[#include <sched.h>\n    ]], [sched_yield])\n])\n\n# gl_SCHED_MODULE_INDICATOR([modulename])\n# sets the shell variable that indicates the presence of the given module\n# to a C preprocessor expression that will evaluate to 1.\n# This macro invocation must not occur in macros that are AC_REQUIREd.\nAC_DEFUN([gl_SCHED_MODULE_INDICATOR],\n[\n  dnl Ensure to expand the default settings once only.\n  gl_SCHED_H_REQUIRE_DEFAULTS\n  gl_MODULE_INDICATOR_SET_VARIABLE([$1])\n  dnl Define it also as a C macro, for the benefit of the unit tests.\n  gl_MODULE_INDICATOR_FOR_TESTS([$1])\n])\n\n# Initializes the default values for AC_SUBSTed shell variables.\n# This macro must not be AC_REQUIREd.  It must only be invoked, and only\n# outside of macros or in macros that are not AC_REQUIREd.\nAC_DEFUN([gl_SCHED_H_REQUIRE_DEFAULTS],\n[\n  m4_defun(GL_MODULE_INDICATOR_PREFIX[_SCHED_H_MODULE_INDICATOR_DEFAULTS], [\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_SCHED_YIELD])\n  ])\n  m4_require(GL_MODULE_INDICATOR_PREFIX[_SCHED_H_MODULE_INDICATOR_DEFAULTS])\n  AC_REQUIRE([gl_SCHED_H_DEFAULTS])\n])\n\nAC_DEFUN([gl_SCHED_H_DEFAULTS],\n[\n  dnl Assume proper GNU behavior unless another module says otherwise.\n  HAVE_SCHED_YIELD=1;    AC_SUBST([HAVE_SCHED_YIELD])\n  REPLACE_SCHED_YIELD=0; AC_SUBST([REPLACE_SCHED_YIELD])\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}