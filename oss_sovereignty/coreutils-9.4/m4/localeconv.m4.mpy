{
  "module_name": "localeconv.m4",
  "hash_id": "c8ddb6eaa22e726b9c6e79c1f2157aeb9b12e694a142d4a1fe285427e17b3f48",
  "original_prompt": "Ingested from coreutils-9.4/m4/localeconv.m4",
  "human_readable_source": "# localeconv.m4 serial 3\ndnl Copyright (C) 2012-2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\nAC_DEFUN([gl_FUNC_LOCALECONV],\n[\n  AC_REQUIRE([gl_LOCALE_H_DEFAULTS])\n  AC_REQUIRE([gl_LOCALE_H])\n  AC_REQUIRE([AC_CANONICAL_HOST]) dnl for cross-compiles\n\n  if test $REPLACE_STRUCT_LCONV = 1; then\n    REPLACE_LOCALECONV=1\n  fi\n  if test $REPLACE_LOCALECONV = 0; then\n    dnl Test whether fields of type 'char' are filled correctly.\n    dnl This test fails on mingw 5.0.3.\n    AC_CACHE_CHECK([whether localeconv works],\n      [gl_cv_func_localeconv_works],\n      [AC_RUN_IFELSE(\n         [AC_LANG_SOURCE([[\n            #include <locale.h>\n            #include <limits.h>\n            int main ()\n            {\n              struct lconv *l = localeconv ();\n              return l->frac_digits != CHAR_MAX && l->frac_digits < 0;\n            }\n         ]])],\n         [gl_cv_func_localeconv_works=yes],\n         [gl_cv_func_localeconv_works=no],\n         [case \"$host_os\" in\n                                # Guess yes on glibc systems.\n            *-gnu* | gnu*)      gl_cv_func_localeconv_works=\"guessing yes\" ;;\n                                # Guess yes on musl systems.\n            *-musl* | midipix*) gl_cv_func_localeconv_works=\"guessing yes\" ;;\n                                # Guess no on native Windows.\n            mingw* | windows*)  gl_cv_func_localeconv_works=\"guessing no\" ;;\n                                # If we don't know, obey --enable-cross-guesses.\n            *)                  gl_cv_func_localeconv_works=\"$gl_cross_guess_normal\" ;;\n          esac\n         ])\n      ])\n    case \"$gl_cv_func_localeconv_works\" in\n      *yes) ;;\n      *) REPLACE_LOCALECONV=1 ;;\n    esac\n  fi\n])\n\n# Prerequisites of lib/localeconv.c.\nAC_DEFUN([gl_PREREQ_LOCALECONV],\n[\n  AC_CHECK_MEMBERS([struct lconv.decimal_point], [], [],\n    [[#include <locale.h>]])\n  AC_CHECK_MEMBERS([struct lconv.int_p_cs_precedes], [], [],\n    [[#include <locale.h>]])\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}