{
  "module_name": "build-to-host.m4",
  "hash_id": "47cbb184c0ec813988d7c5a09c970f27d47c991774bc76cba3b0c753fc89f1f2",
  "original_prompt": "Ingested from coreutils-9.4/m4/build-to-host.m4",
  "human_readable_source": "# build-to-host.m4 serial 3\ndnl Copyright (C) 2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\ndnl Written by Bruno Haible.\n\ndnl When the build environment ($build_os) is different from the target runtime\ndnl environment ($host_os), file names may need to be converted from the build\ndnl environment syntax to the target runtime environment syntax. This is\ndnl because the Makefiles are executed (mostly) by build environment tools and\ndnl therefore expect file names in build environment syntax, whereas the runtime\ndnl expects file names in target runtime environment syntax.\ndnl\ndnl For example, if $build_os = cygwin and $host_os = mingw32, filenames need\ndnl be converted from Cygwin syntax to native Windows syntax:\ndnl   /cygdrive/c/foo/bar -> C:\\foo\\bar\ndnl   /usr/local/share    -> C:\\cygwin64\\usr\\local\\share\ndnl\ndnl gl_BUILD_TO_HOST([somedir])\ndnl This macro takes as input an AC_SUBSTed variable 'somedir', which must\ndnl already have its final value assigned, and produces two additional\ndnl AC_SUBSTed variables 'somedir_c' and 'somedir_c_make', that designate the\ndnl same file name value, just in different syntax:\ndnl   - somedir_c       is the file name in target runtime environment syntax,\ndnl                     as a C string (starting and ending with a double-quote,\ndnl                     and with escaped backslashes and double-quotes in\ndnl                     between).\ndnl   - somedir_c_make  is the same thing, escaped for use in a Makefile.\n\nAC_DEFUN([gl_BUILD_TO_HOST],\n[\n  AC_REQUIRE([AC_CANONICAL_BUILD])\n  AC_REQUIRE([AC_CANONICAL_HOST])\n  AC_REQUIRE([gl_BUILD_TO_HOST_INIT])\n\n  dnl Define somedir_c.\n  gl_final_[$1]=\"$[$1]\"\n  dnl Translate it from build syntax to host syntax.\n  case \"$build_os\" in\n    cygwin*)\n      case \"$host_os\" in\n        mingw* | windows*)\n          gl_final_[$1]=`cygpath -w \"$gl_final_[$1]\"` ;;\n      esac\n      ;;\n  esac\n  dnl Convert it to C string syntax.\n  [$1]_c=`printf '%s\\n' \"$gl_final_[$1]\" | sed -e \"$gl_sed_double_backslashes\" -e \"$gl_sed_escape_doublequotes\" | tr -d \"$gl_tr_cr\"`\n  [$1]_c='\"'\"$[$1]_c\"'\"'\n  AC_SUBST([$1_c])\n\n  dnl Define somedir_c_make.\n  [$1]_c_make=`printf '%s\\n' \"$[$1]_c\" | sed -e \"$gl_sed_escape_for_make_1\" -e \"$gl_sed_escape_for_make_2\" | tr -d \"$gl_tr_cr\"`\n  dnl Use the substituted somedir variable, when possible, so that the user\n  dnl may adjust somedir a posteriori when there are no special characters.\n  if test \"$[$1]_c_make\" = '\\\"'\"${gl_final_[$1]}\"'\\\"'; then\n    [$1]_c_make='\\\"$([$1])\\\"'\n  fi\n  AC_SUBST([$1_c_make])\n])\n\ndnl Some initializations for gl_BUILD_TO_HOST.\nAC_DEFUN([gl_BUILD_TO_HOST_INIT],\n[\n  gl_sed_double_backslashes='s/\\\\/\\\\\\\\/g'\n  gl_sed_escape_doublequotes='s/\"/\\\\\"/g'\nchangequote(,)dnl\n  gl_sed_escape_for_make_1=\"s,\\\\([ \\\"&'();<>\\\\\\\\\\`|]\\\\),\\\\\\\\\\\\1,g\"\nchangequote([,])dnl\n  gl_sed_escape_for_make_2='s,\\$,\\\\$$,g'\n  dnl Find out how to remove carriage returns from output. Solaris /usr/ucb/tr\n  dnl does not understand '\\r'.\n  case `echo r | tr -d '\\r'` in\n    '') gl_tr_cr='\\015' ;;\n    *)  gl_tr_cr='\\r' ;;\n  esac\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}