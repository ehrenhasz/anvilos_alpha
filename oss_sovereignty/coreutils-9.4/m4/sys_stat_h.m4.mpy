{
  "module_name": "sys_stat_h.m4",
  "hash_id": "c87208d303261ef0f592117f6d754401f0a8df719b4d5250f79975562d88c246",
  "original_prompt": "Ingested from coreutils-9.4/m4/sys_stat_h.m4",
  "human_readable_source": "# sys_stat_h.m4 serial 42   -*- Autoconf -*-\ndnl Copyright (C) 2006-2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\ndnl From Eric Blake.\ndnl Provide a GNU-like <sys/stat.h>.\n\nAC_DEFUN_ONCE([gl_SYS_STAT_H],\n[\n  AC_REQUIRE([gl_SYS_STAT_H_DEFAULTS])\n\n  dnl Check for broken stat macros.\n  AC_REQUIRE([AC_HEADER_STAT])\n\n  gl_CHECK_NEXT_HEADERS([sys/stat.h])\n\n  dnl Ensure the type mode_t gets defined.\n  AC_REQUIRE([AC_TYPE_MODE_T])\n\n  dnl Whether to enable precise timestamps in 'struct stat'.\n  m4_ifdef([gl_WINDOWS_STAT_TIMESPEC], [\n    AC_REQUIRE([gl_WINDOWS_STAT_TIMESPEC])\n  ], [\n    WINDOWS_STAT_TIMESPEC=0\n  ])\n  AC_SUBST([WINDOWS_STAT_TIMESPEC])\n\n  dnl Whether to ensure that struct stat.st_size is 64-bit wide.\n  m4_ifdef([gl_LARGEFILE], [\n    AC_REQUIRE([gl_LARGEFILE])\n  ], [\n    WINDOWS_64_BIT_ST_SIZE=0\n  ])\n  AC_SUBST([WINDOWS_64_BIT_ST_SIZE])\n\n  dnl Define types that are supposed to be defined in <sys/types.h> or\n  dnl <sys/stat.h>.\n  AC_CHECK_TYPE([nlink_t], [],\n    [AC_DEFINE([nlink_t], [int],\n       [Define to the type of st_nlink in struct stat, or a supertype.])],\n    [#include <sys/types.h>\n     #include <sys/stat.h>])\n\n  dnl Check for declarations of anything we want to poison if the\n  dnl corresponding gnulib module is not in use.\n  gl_WARN_ON_USE_PREPARE([[#include <sys/stat.h>\n    ]], [chmod fchmodat fstat fstatat futimens getumask lchmod lstat\n    mkdirat mkfifo mkfifoat mknod mknodat stat utimensat])\n\n  AC_REQUIRE([AC_C_RESTRICT])\n])\n\n# gl_SYS_STAT_MODULE_INDICATOR([modulename])\n# sets the shell variable that indicates the presence of the given module\n# to a C preprocessor expression that will evaluate to 1.\n# This macro invocation must not occur in macros that are AC_REQUIREd.\nAC_DEFUN([gl_SYS_STAT_MODULE_INDICATOR],\n[\n  dnl Ensure to expand the default settings once only.\n  gl_SYS_STAT_H_REQUIRE_DEFAULTS\n  gl_MODULE_INDICATOR_SET_VARIABLE([$1])\n  dnl Define it also as a C macro, for the benefit of the unit tests.\n  gl_MODULE_INDICATOR_FOR_TESTS([$1])\n])\n\n# Initializes the default values for AC_SUBSTed shell variables.\n# This macro must not be AC_REQUIREd.  It must only be invoked, and only\n# outside of macros or in macros that are not AC_REQUIREd.\nAC_DEFUN([gl_SYS_STAT_H_REQUIRE_DEFAULTS],\n[\n  m4_defun(GL_MODULE_INDICATOR_PREFIX[_SYS_STAT_H_MODULE_INDICATOR_DEFAULTS], [\n    gl_UNISTD_H_REQUIRE_DEFAULTS dnl for REPLACE_FCHDIR\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_CHMOD])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_FCHMODAT])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_FSTAT])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_FSTATAT])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_FUTIMENS])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_GETUMASK])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_LCHMOD])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_LSTAT])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_MKDIR])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_MKDIRAT])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_MKFIFO])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_MKFIFOAT])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_MKNOD])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_MKNODAT])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_STAT])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_UTIMENSAT])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_OVERRIDES_STRUCT_STAT])\n    dnl Support Microsoft deprecated alias function names by default.\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_MDA_CHMOD], [1])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_MDA_MKDIR], [1])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_MDA_UMASK], [1])\n  ])\n  m4_require(GL_MODULE_INDICATOR_PREFIX[_SYS_STAT_H_MODULE_INDICATOR_DEFAULTS])\n  AC_REQUIRE([gl_SYS_STAT_H_DEFAULTS])\n])\n\nAC_DEFUN([gl_SYS_STAT_H_DEFAULTS],\n[\n  dnl Assume proper GNU behavior unless another module says otherwise.\n  HAVE_FCHMODAT=1;      AC_SUBST([HAVE_FCHMODAT])\n  HAVE_FSTATAT=1;       AC_SUBST([HAVE_FSTATAT])\n  HAVE_FUTIMENS=1;      AC_SUBST([HAVE_FUTIMENS])\n  HAVE_GETUMASK=1;      AC_SUBST([HAVE_GETUMASK])\n  HAVE_LCHMOD=1;        AC_SUBST([HAVE_LCHMOD])\n  HAVE_LSTAT=1;         AC_SUBST([HAVE_LSTAT])\n  HAVE_MKDIRAT=1;       AC_SUBST([HAVE_MKDIRAT])\n  HAVE_MKFIFO=1;        AC_SUBST([HAVE_MKFIFO])\n  HAVE_MKFIFOAT=1;      AC_SUBST([HAVE_MKFIFOAT])\n  HAVE_MKNOD=1;         AC_SUBST([HAVE_MKNOD])\n  HAVE_MKNODAT=1;       AC_SUBST([HAVE_MKNODAT])\n  HAVE_UTIMENSAT=1;     AC_SUBST([HAVE_UTIMENSAT])\n  REPLACE_CHMOD=0;      AC_SUBST([REPLACE_CHMOD])\n  REPLACE_FCHMODAT=0;   AC_SUBST([REPLACE_FCHMODAT])\n  REPLACE_FSTAT=0;      AC_SUBST([REPLACE_FSTAT])\n  REPLACE_FSTATAT=0;    AC_SUBST([REPLACE_FSTATAT])\n  REPLACE_FUTIMENS=0;   AC_SUBST([REPLACE_FUTIMENS])\n  REPLACE_LSTAT=0;      AC_SUBST([REPLACE_LSTAT])\n  REPLACE_MKDIR=0;      AC_SUBST([REPLACE_MKDIR])\n  REPLACE_MKFIFO=0;     AC_SUBST([REPLACE_MKFIFO])\n  REPLACE_MKFIFOAT=0;   AC_SUBST([REPLACE_MKFIFOAT])\n  REPLACE_MKNOD=0;      AC_SUBST([REPLACE_MKNOD])\n  REPLACE_MKNODAT=0;    AC_SUBST([REPLACE_MKNODAT])\n  REPLACE_STAT=0;       AC_SUBST([REPLACE_STAT])\n  REPLACE_UTIMENSAT=0;  AC_SUBST([REPLACE_UTIMENSAT])\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}