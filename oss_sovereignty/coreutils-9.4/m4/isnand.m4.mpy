{
  "module_name": "isnand.m4",
  "hash_id": "037a55832ba60ea80bc55133a5680a4d690d0397a0e98161edce2732cbd66297",
  "original_prompt": "Ingested from coreutils-9.4/m4/isnand.m4",
  "human_readable_source": "# isnand.m4 serial 12\ndnl Copyright (C) 2007-2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\ndnl Check how to get or define isnand().\n\nAC_DEFUN([gl_FUNC_ISNAND],\n[\n  AC_REQUIRE([gl_MATH_H_DEFAULTS])\n  ISNAND_LIBM=\n  gl_HAVE_ISNAND_NO_LIBM\n  if test $gl_cv_func_isnand_no_libm = no; then\n    gl_HAVE_ISNAND_IN_LIBM\n    if test $gl_cv_func_isnand_in_libm = yes; then\n      ISNAND_LIBM=-lm\n    fi\n  fi\n  dnl The variable gl_func_isnand set here is used by isnan.m4.\n  if test $gl_cv_func_isnand_no_libm = yes \\\n     || test $gl_cv_func_isnand_in_libm = yes; then\n    gl_func_isnand=yes\n  else\n    gl_func_isnand=no\n    HAVE_ISNAND=0\n  fi\n  AC_SUBST([ISNAND_LIBM])\n])\n\ndnl Check how to get or define isnand() without linking with libm.\n\nAC_DEFUN([gl_FUNC_ISNAND_NO_LIBM],\n[\n  gl_HAVE_ISNAND_NO_LIBM\n  gl_func_isnand_no_libm=$gl_cv_func_isnand_no_libm\n  if test $gl_cv_func_isnand_no_libm = yes; then\n    AC_DEFINE([HAVE_ISNAND_IN_LIBC], [1],\n      [Define if the isnan(double) function is available in libc.])\n  fi\n])\n\ndnl Prerequisites of replacement isnand definition. It does not need -lm.\nAC_DEFUN([gl_PREREQ_ISNAND],\n[\n  AC_REQUIRE([gl_DOUBLE_EXPONENT_LOCATION])\n])\n\ndnl Test whether isnand() can be used with libm.\n\nAC_DEFUN([gl_HAVE_ISNAND_IN_LIBM],\n[\n  AC_CACHE_CHECK([whether isnan(double) can be used with libm],\n    [gl_cv_func_isnand_in_libm],\n    [\n      save_LIBS=\"$LIBS\"\n      LIBS=\"$LIBS -lm\"\n      AC_LINK_IFELSE(\n        [AC_LANG_PROGRAM(\n           [[#include <math.h>\n             #if (__GNUC__ >= 4) || (__clang_major__ >= 4)\n             # undef isnand\n             # define isnand(x) __builtin_isnan ((double)(x))\n             #elif defined isnan\n             # undef isnand\n             # define isnand(x) isnan ((double)(x))\n             #endif\n             double x;]],\n           [[return isnand (x);]])],\n        [gl_cv_func_isnand_in_libm=yes],\n        [gl_cv_func_isnand_in_libm=no])\n      LIBS=\"$save_LIBS\"\n    ])\n])\n\nAC_DEFUN([gl_HAVE_ISNAND_NO_LIBM],\n[\n  AC_CACHE_CHECK([whether isnan(double) can be used without linking with libm],\n    [gl_cv_func_isnand_no_libm],\n    [\n      AC_LINK_IFELSE(\n        [AC_LANG_PROGRAM(\n           [[#include <math.h>\n             #if (__GNUC__ >= 4) || (__clang_major__ >= 4)\n             # undef isnand\n             # define isnand(x) __builtin_isnan ((double)(x))\n             #else\n             # undef isnand\n             # define isnand(x) isnan ((double)(x))\n             #endif\n             double x;]],\n           [[return isnand (x);]])],\n        [gl_cv_func_isnand_no_libm=yes],\n        [gl_cv_func_isnand_no_libm=no])\n    ])\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}