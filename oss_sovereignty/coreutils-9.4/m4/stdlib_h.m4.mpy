{
  "module_name": "stdlib_h.m4",
  "hash_id": "766ff322702eeb16f255545d7a195c9b68c4b63d45e7a03317dab3bf2f39d979",
  "original_prompt": "Ingested from coreutils-9.4/m4/stdlib_h.m4",
  "human_readable_source": "# stdlib_h.m4 serial 75\ndnl Copyright (C) 2007-2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\nAC_DEFUN_ONCE([gl_STDLIB_H],\n[\n  AC_REQUIRE([gl_STDLIB_H_DEFAULTS])\n  gl_NEXT_HEADERS([stdlib.h])\n\n  dnl Check for declarations of anything we want to poison if the\n  dnl corresponding gnulib module is not in use, and which is not\n  dnl guaranteed by C89.\n  gl_WARN_ON_USE_PREPARE([[#include <stdlib.h>\n#if HAVE_SYS_LOADAVG_H\n/* OpenIndiana has a bug: <sys/time.h> must be included before\n   <sys/loadavg.h>.  */\n# include <sys/time.h>\n# include <sys/loadavg.h>\n#endif\n#if HAVE_RANDOM_H\n# include <random.h>\n#endif\n    ]], [_Exit aligned_alloc atoll canonicalize_file_name free\n    getloadavg getprogname getsubopt grantpt\n    initstate initstate_r mbstowcs mbtowc mkdtemp mkostemp mkostemps mkstemp\n    mkstemps posix_memalign posix_openpt ptsname ptsname_r qsort_r\n    random random_r reallocarray realpath rpmatch secure_getenv setenv\n    setstate setstate_r srandom srandom_r\n    strtod strtol strtold strtoll strtoul strtoull unlockpt unsetenv])\n\n  AC_REQUIRE([AC_C_RESTRICT])\n\n  dnl Test whether MB_CUR_MAX needs to be overridden.\n  dnl On Solaris 10, in UTF-8 locales, its value is 3 but needs to be 4.\n  dnl Fortunately, we can do this because on this platform MB_LEN_MAX is 5.\n  AC_REQUIRE([AC_CANONICAL_HOST])\n  AC_REQUIRE([gt_LOCALE_FR_UTF8])\n  AC_CACHE_CHECK([whether MB_CUR_MAX is correct],\n    [gl_cv_macro_MB_CUR_MAX_good],\n    [\n      dnl Initial guess, used when cross-compiling or when no suitable locale\n      dnl is present.\nchangequote(,)dnl\n      case \"$host_os\" in\n                  # Guess no on Solaris.\n        solaris*) gl_cv_macro_MB_CUR_MAX_good=\"guessing no\" ;;\n                  # Guess yes otherwise.\n        *)        gl_cv_macro_MB_CUR_MAX_good=\"guessing yes\" ;;\n      esac\nchangequote([,])dnl\n      if test $LOCALE_FR_UTF8 != none; then\n        AC_RUN_IFELSE(\n          [AC_LANG_SOURCE([[\n#include <locale.h>\n#include <stdlib.h>\nint main ()\n{\n  int result = 0;\n  if (setlocale (LC_ALL, \"$LOCALE_FR_UTF8\") != NULL)\n    {\n      if (MB_CUR_MAX < 4)\n        result |= 1;\n    }\n  return result;\n}]])],\n          [gl_cv_macro_MB_CUR_MAX_good=yes],\n          [gl_cv_macro_MB_CUR_MAX_good=no],\n          [:])\n      fi\n    ])\n  case \"$gl_cv_macro_MB_CUR_MAX_good\" in\n    *yes) ;;\n    *) REPLACE_MB_CUR_MAX=1 ;;\n  esac\n\n  AC_CHECK_DECLS_ONCE([ecvt])\n  if test $ac_cv_have_decl_ecvt = no; then\n    HAVE_DECL_ECVT=0\n  fi\n  AC_CHECK_DECLS_ONCE([fcvt])\n  if test $ac_cv_have_decl_fcvt = no; then\n    HAVE_DECL_FCVT=0\n  fi\n  AC_CHECK_DECLS_ONCE([gcvt])\n  if test $ac_cv_have_decl_gcvt = no; then\n    HAVE_DECL_GCVT=0\n  fi\n])\n\n# gl_STDLIB_MODULE_INDICATOR([modulename])\n# sets the shell variable that indicates the presence of the given module\n# to a C preprocessor expression that will evaluate to 1.\n# This macro invocation must not occur in macros that are AC_REQUIREd.\nAC_DEFUN([gl_STDLIB_MODULE_INDICATOR],\n[\n  dnl Ensure to expand the default settings once only.\n  gl_STDLIB_H_REQUIRE_DEFAULTS\n  gl_MODULE_INDICATOR_SET_VARIABLE([$1])\n  dnl Define it also as a C macro, for the benefit of the unit tests.\n  gl_MODULE_INDICATOR_FOR_TESTS([$1])\n])\n\n# Initializes the default values for AC_SUBSTed shell variables.\n# This macro must not be AC_REQUIREd.  It must only be invoked, and only\n# outside of macros or in macros that are not AC_REQUIREd.\nAC_DEFUN([gl_STDLIB_H_REQUIRE_DEFAULTS],\n[\n  m4_defun(GL_MODULE_INDICATOR_PREFIX[_STDLIB_H_MODULE_INDICATOR_DEFAULTS], [\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB__EXIT])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_ALIGNED_ALLOC])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_ATOLL])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_CALLOC_GNU])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_CALLOC_POSIX])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_CANONICALIZE_FILE_NAME])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_FREE_POSIX])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_GETLOADAVG])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_GETPROGNAME])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_GETSUBOPT])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_GRANTPT])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_MALLOC_GNU])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_MALLOC_POSIX])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_MBSTOWCS])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_MBTOWC])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_MKDTEMP])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_MKOSTEMP])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_MKOSTEMPS])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_MKSTEMP])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_MKSTEMPS])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_POSIX_MEMALIGN])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_POSIX_OPENPT])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_PTSNAME])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_PTSNAME_R])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_PUTENV])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_QSORT_R])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_RANDOM])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_RANDOM_R])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_REALLOCARRAY])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_REALLOC_GNU])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_REALLOC_POSIX])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_REALPATH])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_RPMATCH])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_SECURE_GETENV])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_SETENV])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_STRTOD])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_STRTOL])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_STRTOLD])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_STRTOLL])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_STRTOUL])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_STRTOULL])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_SYSTEM_POSIX])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_UNLOCKPT])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_UNSETENV])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_WCTOMB])\n    dnl Support Microsoft deprecated alias function names by default.\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_MDA_ECVT], [1])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_MDA_FCVT], [1])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_MDA_GCVT], [1])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_MDA_MKTEMP], [1])\n    gl_MODULE_INDICATOR_INIT_VARIABLE([GNULIB_MDA_PUTENV], [1])\n  ])\n  m4_require(GL_MODULE_INDICATOR_PREFIX[_STDLIB_H_MODULE_INDICATOR_DEFAULTS])\n  AC_REQUIRE([gl_STDLIB_H_DEFAULTS])\n])\n\nAC_DEFUN([gl_STDLIB_H_DEFAULTS],\n[\n  dnl Assume proper GNU behavior unless another module says otherwise.\n  HAVE__EXIT=1;              AC_SUBST([HAVE__EXIT])\n  HAVE_ALIGNED_ALLOC=1;      AC_SUBST([HAVE_ALIGNED_ALLOC])\n  HAVE_ATOLL=1;              AC_SUBST([HAVE_ATOLL])\n  HAVE_CANONICALIZE_FILE_NAME=1;  AC_SUBST([HAVE_CANONICALIZE_FILE_NAME])\n  HAVE_DECL_ECVT=1;          AC_SUBST([HAVE_DECL_ECVT])\n  HAVE_DECL_FCVT=1;          AC_SUBST([HAVE_DECL_FCVT])\n  HAVE_DECL_GCVT=1;          AC_SUBST([HAVE_DECL_GCVT])\n  HAVE_DECL_GETLOADAVG=1;    AC_SUBST([HAVE_DECL_GETLOADAVG])\n  HAVE_DECL_PROGRAM_INVOCATION_NAME=1; AC_SUBST([HAVE_DECL_PROGRAM_INVOCATION_NAME])\n  HAVE_GETPROGNAME=1;        AC_SUBST([HAVE_GETPROGNAME])\n  HAVE_GETSUBOPT=1;          AC_SUBST([HAVE_GETSUBOPT])\n  HAVE_GRANTPT=1;            AC_SUBST([HAVE_GRANTPT])\n  HAVE_INITSTATE=1;          AC_SUBST([HAVE_INITSTATE])\n  HAVE_DECL_INITSTATE=1;     AC_SUBST([HAVE_DECL_INITSTATE])\n  HAVE_MBTOWC=1;             AC_SUBST([HAVE_MBTOWC])\n  HAVE_MKDTEMP=1;            AC_SUBST([HAVE_MKDTEMP])\n  HAVE_MKOSTEMP=1;           AC_SUBST([HAVE_MKOSTEMP])\n  HAVE_MKOSTEMPS=1;          AC_SUBST([HAVE_MKOSTEMPS])\n  HAVE_MKSTEMP=1;            AC_SUBST([HAVE_MKSTEMP])\n  HAVE_MKSTEMPS=1;           AC_SUBST([HAVE_MKSTEMPS])\n  HAVE_POSIX_MEMALIGN=1;     AC_SUBST([HAVE_POSIX_MEMALIGN])\n  HAVE_POSIX_OPENPT=1;       AC_SUBST([HAVE_POSIX_OPENPT])\n  HAVE_PTSNAME=1;            AC_SUBST([HAVE_PTSNAME])\n  HAVE_PTSNAME_R=1;          AC_SUBST([HAVE_PTSNAME_R])\n  HAVE_QSORT_R=1;            AC_SUBST([HAVE_QSORT_R])\n  HAVE_RANDOM=1;             AC_SUBST([HAVE_RANDOM])\n  HAVE_RANDOM_H=1;           AC_SUBST([HAVE_RANDOM_H])\n  HAVE_RANDOM_R=1;           AC_SUBST([HAVE_RANDOM_R])\n  HAVE_REALLOCARRAY=1;       AC_SUBST([HAVE_REALLOCARRAY])\n  HAVE_REALPATH=1;           AC_SUBST([HAVE_REALPATH])\n  HAVE_RPMATCH=1;            AC_SUBST([HAVE_RPMATCH])\n  HAVE_SECURE_GETENV=1;      AC_SUBST([HAVE_SECURE_GETENV])\n  HAVE_SETENV=1;             AC_SUBST([HAVE_SETENV])\n  HAVE_DECL_SETENV=1;        AC_SUBST([HAVE_DECL_SETENV])\n  HAVE_SETSTATE=1;           AC_SUBST([HAVE_SETSTATE])\n  HAVE_DECL_SETSTATE=1;      AC_SUBST([HAVE_DECL_SETSTATE])\n  HAVE_STRTOD=1;             AC_SUBST([HAVE_STRTOD])\n  HAVE_STRTOL=1;             AC_SUBST([HAVE_STRTOL])\n  HAVE_STRTOLD=1;            AC_SUBST([HAVE_STRTOLD])\n  HAVE_STRTOLL=1;            AC_SUBST([HAVE_STRTOLL])\n  HAVE_STRTOUL=1;            AC_SUBST([HAVE_STRTOUL])\n  HAVE_STRTOULL=1;           AC_SUBST([HAVE_STRTOULL])\n  HAVE_STRUCT_RANDOM_DATA=1; AC_SUBST([HAVE_STRUCT_RANDOM_DATA])\n  HAVE_SYS_LOADAVG_H=0;      AC_SUBST([HAVE_SYS_LOADAVG_H])\n  HAVE_UNLOCKPT=1;           AC_SUBST([HAVE_UNLOCKPT])\n  HAVE_DECL_UNSETENV=1;      AC_SUBST([HAVE_DECL_UNSETENV])\n  REPLACE__EXIT=0;           AC_SUBST([REPLACE__EXIT])\n  REPLACE_ALIGNED_ALLOC=0;   AC_SUBST([REPLACE_ALIGNED_ALLOC])\n  REPLACE_CALLOC_FOR_CALLOC_GNU=0;    AC_SUBST([REPLACE_CALLOC_FOR_CALLOC_GNU])\n  REPLACE_CALLOC_FOR_CALLOC_POSIX=0;  AC_SUBST([REPLACE_CALLOC_FOR_CALLOC_POSIX])\n  REPLACE_CANONICALIZE_FILE_NAME=0;  AC_SUBST([REPLACE_CANONICALIZE_FILE_NAME])\n  REPLACE_FREE=0;            AC_SUBST([REPLACE_FREE])\n  REPLACE_GETLOADAVG=0;      AC_SUBST([REPLACE_GETLOADAVG])\n  REPLACE_GETPROGNAME=0;     AC_SUBST([REPLACE_GETPROGNAME])\n  REPLACE_GETSUBOPT=0;       AC_SUBST([REPLACE_GETSUBOPT])\n  REPLACE_INITSTATE=0;       AC_SUBST([REPLACE_INITSTATE])\n  REPLACE_MALLOC_FOR_MALLOC_GNU=0;    AC_SUBST([REPLACE_MALLOC_FOR_MALLOC_GNU])\n  REPLACE_MALLOC_FOR_MALLOC_POSIX=0;  AC_SUBST([REPLACE_MALLOC_FOR_MALLOC_POSIX])\n  REPLACE_MB_CUR_MAX=0;      AC_SUBST([REPLACE_MB_CUR_MAX])\n  REPLACE_MBSTOWCS=0;        AC_SUBST([REPLACE_MBSTOWCS])\n  REPLACE_MBTOWC=0;          AC_SUBST([REPLACE_MBTOWC])\n  REPLACE_MKOSTEMP=0;        AC_SUBST([REPLACE_MKOSTEMP])\n  REPLACE_MKOSTEMPS=0;       AC_SUBST([REPLACE_MKOSTEMPS])\n  REPLACE_MKSTEMP=0;         AC_SUBST([REPLACE_MKSTEMP])\n  REPLACE_POSIX_MEMALIGN=0;  AC_SUBST([REPLACE_POSIX_MEMALIGN])\n  REPLACE_POSIX_OPENPT=0;    AC_SUBST([REPLACE_POSIX_OPENPT])\n  REPLACE_PTSNAME=0;         AC_SUBST([REPLACE_PTSNAME])\n  REPLACE_PTSNAME_R=0;       AC_SUBST([REPLACE_PTSNAME_R])\n  REPLACE_PUTENV=0;          AC_SUBST([REPLACE_PUTENV])\n  REPLACE_QSORT_R=0;         AC_SUBST([REPLACE_QSORT_R])\n  REPLACE_RANDOM=0;          AC_SUBST([REPLACE_RANDOM])\n  REPLACE_RANDOM_R=0;        AC_SUBST([REPLACE_RANDOM_R])\n  REPLACE_REALLOC_FOR_REALLOC_GNU=0;    AC_SUBST([REPLACE_REALLOC_FOR_REALLOC_GNU])\n  REPLACE_REALLOC_FOR_REALLOC_POSIX=0;  AC_SUBST([REPLACE_REALLOC_FOR_REALLOC_POSIX])\n  REPLACE_REALLOCARRAY=0;    AC_SUBST([REPLACE_REALLOCARRAY])\n  REPLACE_REALPATH=0;        AC_SUBST([REPLACE_REALPATH])\n  REPLACE_SETENV=0;          AC_SUBST([REPLACE_SETENV])\n  REPLACE_SETSTATE=0;        AC_SUBST([REPLACE_SETSTATE])\n  REPLACE_STRTOD=0;          AC_SUBST([REPLACE_STRTOD])\n  REPLACE_STRTOL=0;          AC_SUBST([REPLACE_STRTOL])\n  REPLACE_STRTOLD=0;         AC_SUBST([REPLACE_STRTOLD])\n  REPLACE_STRTOLL=0;         AC_SUBST([REPLACE_STRTOLL])\n  REPLACE_STRTOUL=0;         AC_SUBST([REPLACE_STRTOUL])\n  REPLACE_STRTOULL=0;        AC_SUBST([REPLACE_STRTOULL])\n  REPLACE_UNSETENV=0;        AC_SUBST([REPLACE_UNSETENV])\n  REPLACE_WCTOMB=0;          AC_SUBST([REPLACE_WCTOMB])\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}