{
  "module_name": "pthread-mutex.m4",
  "hash_id": "24d3f583fd73afeead528f365f4d8c04c38fee9272abd07a1ebffebefe61ae40",
  "original_prompt": "Ingested from coreutils-9.4/m4/pthread-mutex.m4",
  "human_readable_source": "# pthread-mutex.m4 serial 4\ndnl Copyright (C) 2019-2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\nAC_DEFUN([gl_PTHREAD_MUTEX],\n[\n  AC_REQUIRE([gl_PTHREAD_H])\n  AC_REQUIRE([AC_CANONICAL_HOST])\n\n  if { case \"$host_os\" in mingw* | windows*) true;; *) false;; esac; } \\\n     && test $gl_threads_api = windows; then\n    dnl Choose function names that don't conflict with the mingw-w64 winpthreads\n    dnl library.\n    REPLACE_PTHREAD_MUTEX_INIT=1\n    REPLACE_PTHREAD_MUTEXATTR_INIT=1\n    REPLACE_PTHREAD_MUTEXATTR_GETTYPE=1\n    REPLACE_PTHREAD_MUTEXATTR_SETTYPE=1\n    REPLACE_PTHREAD_MUTEXATTR_GETROBUST=1\n    REPLACE_PTHREAD_MUTEXATTR_SETROBUST=1\n    REPLACE_PTHREAD_MUTEXATTR_DESTROY=1\n    REPLACE_PTHREAD_MUTEX_LOCK=1\n    REPLACE_PTHREAD_MUTEX_TRYLOCK=1\n    REPLACE_PTHREAD_MUTEX_TIMEDLOCK=1\n    REPLACE_PTHREAD_MUTEX_UNLOCK=1\n    REPLACE_PTHREAD_MUTEX_DESTROY=1\n  else\n    if test $HAVE_PTHREAD_H = 0; then\n      HAVE_PTHREAD_MUTEX_INIT=0\n      HAVE_PTHREAD_MUTEXATTR_INIT=0\n      HAVE_PTHREAD_MUTEXATTR_GETTYPE=0\n      HAVE_PTHREAD_MUTEXATTR_SETTYPE=0\n      HAVE_PTHREAD_MUTEXATTR_GETROBUST=0\n      HAVE_PTHREAD_MUTEXATTR_SETROBUST=0\n      HAVE_PTHREAD_MUTEXATTR_DESTROY=0\n      HAVE_PTHREAD_MUTEX_LOCK=0\n      HAVE_PTHREAD_MUTEX_TRYLOCK=0\n      dnl HAVE_PTHREAD_MUTEX_TIMEDLOCK is set in pthread_mutex_timedlock.m4.\n      HAVE_PTHREAD_MUTEX_UNLOCK=0\n      HAVE_PTHREAD_MUTEX_DESTROY=0\n    else\n      AC_CACHE_CHECK([for pthread_mutexattr_getrobust],\n        [gl_cv_func_pthread_mutexattr_getrobust],\n        [saved_LIBS=\"$LIBS\"\n         LIBS=\"$LIBS $LIBPMULTITHREAD\"\n         AC_LINK_IFELSE(\n           [AC_LANG_SOURCE(\n              [[extern\n                #ifdef __cplusplus\n                \"C\"\n                #endif\n                int pthread_mutexattr_getrobust (void);\n                int main ()\n                {\n                  return pthread_mutexattr_getrobust ();\n                }\n              ]])],\n           [gl_cv_func_pthread_mutexattr_getrobust=yes],\n           [gl_cv_func_pthread_mutexattr_getrobust=no])\n         LIBS=\"$saved_LIBS\"\n        ])\n      if test $gl_cv_func_pthread_mutexattr_getrobust = no; then\n        HAVE_PTHREAD_MUTEXATTR_GETROBUST=0\n        HAVE_PTHREAD_MUTEXATTR_SETROBUST=0\n        AC_DEFINE([PTHREAD_MUTEXATTR_ROBUST_UNIMPLEMENTED], [1],\n          [Define if the 'robust' attribute of pthread_mutex* doesn't exist.])\n      fi\n    fi\n  fi\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}