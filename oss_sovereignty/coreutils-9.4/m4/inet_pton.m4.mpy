{
  "module_name": "inet_pton.m4",
  "hash_id": "915eca08dc6aed17df2a60a2b1ca64dab8c1734167a4b586a5449fb4e7c82bbc",
  "original_prompt": "Ingested from coreutils-9.4/m4/inet_pton.m4",
  "human_readable_source": "# inet_pton.m4 serial 19\ndnl Copyright (C) 2006, 2008-2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\nAC_DEFUN([gl_FUNC_INET_PTON],\n[\n  AC_REQUIRE([gl_ARPA_INET_H_DEFAULTS])\n\n  dnl Persuade Solaris <arpa/inet.h> to declare inet_pton.\n  AC_REQUIRE([gl_USE_SYSTEM_EXTENSIONS])\n\n  AC_REQUIRE([AC_C_RESTRICT])\n\n  dnl Most platforms that provide inet_pton define it in libc.\n  dnl Solaris 8..10 provide inet_pton in libnsl instead.\n  dnl Solaris 2.6..7 provide inet_pton in libresolv instead.\n  dnl Haiku provides it in -lnetwork.\n  dnl Native Windows provides it in -lws2_32 instead, with a declaration in\n  dnl <ws2tcpip.h>, and it uses stdcall calling convention, not cdecl\n  dnl (hence we cannot use AC_CHECK_FUNCS, AC_SEARCH_LIBS to find it).\n  HAVE_INET_PTON=1\n  INET_PTON_LIB=\n  gl_PREREQ_SYS_H_WINSOCK2\n  if test $HAVE_WINSOCK2_H = 1; then\n    dnl It needs to be overridden, because the stdcall calling convention\n    dnl is not compliant with POSIX.  Set REPLACE_INET_PTON in order to avoid\n    dnl a name conflict at the linker level, even though the header file\n    dnl <ws2tcpip.h> declares inet_pton only if _WIN32_WINNT >= 0x0600.\n    REPLACE_INET_PTON=1\n    AC_CHECK_DECLS([inet_pton],,, [[#include <ws2tcpip.h>]])\n    if test $ac_cv_have_decl_inet_pton = yes; then\n      INET_PTON_LIB=\"-lws2_32\"\n    else\n      HAVE_DECL_INET_PTON=0\n    fi\n  else\n    gl_save_LIBS=$LIBS\n    AC_SEARCH_LIBS([inet_pton], [nsl resolv network], [],\n      [AC_CHECK_FUNCS([inet_pton])\n       if test $ac_cv_func_inet_pton = no; then\n         HAVE_INET_PTON=0\n       fi\n      ])\n    LIBS=$gl_save_LIBS\n\n    if test \"$ac_cv_search_inet_pton\" != \"no\" \\\n       && test \"$ac_cv_search_inet_pton\" != \"none required\"; then\n      INET_PTON_LIB=\"$ac_cv_search_inet_pton\"\n    fi\n\n    AC_CHECK_HEADERS_ONCE([netdb.h])\n    AC_CHECK_DECLS([inet_pton],,,\n      [[#include <arpa/inet.h>\n        #if HAVE_NETDB_H\n        # include <netdb.h>\n        #endif\n      ]])\n    if test $ac_cv_have_decl_inet_pton = no; then\n      HAVE_DECL_INET_PTON=0\n    fi\n  fi\n  AC_SUBST([INET_PTON_LIB])\n])\n\n# Prerequisites of lib/inet_pton.c.\nAC_DEFUN([gl_PREREQ_INET_PTON], [\n  AC_REQUIRE([gl_SOCKET_FAMILIES])\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}