{
  "module_name": "physmem.m4",
  "hash_id": "9ba8d93e40ee0d36b8597158192fc578ef1cf597cbf0c86a32ad5ce7a01fb345",
  "original_prompt": "Ingested from coreutils-9.4/m4/physmem.m4",
  "human_readable_source": "# physmem.m4 serial 12\ndnl Copyright (C) 2002-2003, 2005-2006, 2008-2023 Free Software Foundation,\ndnl Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\n# Check for the external symbol, _system_configuration,\n# a struct with member 'physmem'.\nAC_DEFUN([gl_SYS__SYSTEM_CONFIGURATION],\n  [AC_CACHE_CHECK([for external symbol _system_configuration],\n                  [gl_cv_var__system_configuration],\n    [AC_LINK_IFELSE([AC_LANG_PROGRAM(\n                      [[#include <sys/systemcfg.h>\n                      ]],\n                      [[double x = _system_configuration.physmem;\n                        if (x > 0.0) return 0;]])],\n      [gl_cv_var__system_configuration=yes],\n      [gl_cv_var__system_configuration=no])])\n\n    if test $gl_cv_var__system_configuration = yes; then\n      AC_DEFINE([HAVE__SYSTEM_CONFIGURATION], [1],\n                [Define to 1 if you have the external variable,\n                _system_configuration with a member named physmem.])\n    fi\n  ]\n)\n\nAC_DEFUN([gl_PHYSMEM],\n[\n  # Prerequisites of lib/physmem.c.\n  AC_CHECK_HEADERS([sys/pstat.h sys/sysmp.h sys/sysinfo.h \\\n    machine/hal_sysinfo.h sys/table.h sys/param.h sys/systemcfg.h],,,\n    [AC_INCLUDES_DEFAULT])\n  dnl <sys/sysctl.h> requires <sys/param.h> on OpenBSD 4.0.\n  AC_CHECK_HEADERS([sys/sysctl.h],,,\n    [AC_INCLUDES_DEFAULT\n     #if HAVE_SYS_PARAM_H\n     # include <sys/param.h>\n     #endif\n    ])\n\n  AC_CHECK_FUNCS([pstat_getstatic pstat_getdynamic sysmp getsysinfo sysctl table sysinfo])\n  AC_CHECK_MEMBERS([struct sysinfo.mem_unit],,, [[#include <sys/sysinfo.h>]])\n  AC_REQUIRE([gl_SYS__SYSTEM_CONFIGURATION])\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}