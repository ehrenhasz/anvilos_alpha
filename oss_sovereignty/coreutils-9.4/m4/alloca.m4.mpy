{
  "module_name": "alloca.m4",
  "hash_id": "90d17e485d5ebca9907e08d6f11c2e10f5e73752c1b552dbbdc22839a873740c",
  "original_prompt": "Ingested from coreutils-9.4/m4/alloca.m4",
  "human_readable_source": "# alloca.m4 serial 21\ndnl Copyright (C) 2002-2004, 2006-2007, 2009-2023 Free Software Foundation,\ndnl Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\nAC_DEFUN([gl_FUNC_ALLOCA],\n[\n  AC_REQUIRE([AC_FUNC_ALLOCA])\n  if test $ac_cv_func_alloca_works = no; then\n    gl_PREREQ_ALLOCA\n  fi\n\n  # Define an additional variable used in the Makefile substitution.\n  if test $ac_cv_working_alloca_h = yes; then\n    AC_CACHE_CHECK([for alloca as a compiler built-in], [gl_cv_rpl_alloca], [\n      AC_EGREP_CPP([Need own alloca], [\n#if defined __GNUC__ || defined _AIX || defined _MSC_VER\n        Need own alloca\n#endif\n        ], [gl_cv_rpl_alloca=yes], [gl_cv_rpl_alloca=no])\n    ])\n    if test $gl_cv_rpl_alloca = yes; then\n      dnl OK, alloca can be implemented through a compiler built-in.\n      AC_DEFINE([HAVE_ALLOCA], [1],\n        [Define to 1 if you have 'alloca' after including <alloca.h>,\n         a header that may be supplied by this distribution.])\n      GL_GENERATE_ALLOCA_H=true\n    else\n      dnl alloca exists as a library function, i.e. it is slow and probably\n      dnl a memory leak. Don't define HAVE_ALLOCA in this case.\n      GL_GENERATE_ALLOCA_H=false\n    fi\n  else\n    GL_GENERATE_ALLOCA_H=true\n  fi\n\n  if test $ac_cv_working_alloca_h = yes; then\n    HAVE_ALLOCA_H=1\n  else\n    HAVE_ALLOCA_H=0\n  fi\n  AC_SUBST([HAVE_ALLOCA_H])\n])\n\n# Prerequisites of lib/alloca.c.\n# STACK_DIRECTION is already handled by AC_FUNC_ALLOCA.\nAC_DEFUN([gl_PREREQ_ALLOCA], [:])\n\nm4_version_prereq([2.70], [], [\n\n# This works around a bug in autoconf <= 2.68 and has simplifications\n# from 2.70.  See:\n# https://lists.gnu.org/r/bug-gnulib/2011-06/msg00277.html\n# https://git.savannah.gnu.org/cgit/autoconf.git/commit/?id=6cd9f12520b0d6f76d3230d7565feba1ecf29497\n# https://git.savannah.gnu.org/cgit/autoconf.git/commit/?id=15edf7fd8094fd14a89d9891dd72a9624762597a\n\n# _AC_LIBOBJ_ALLOCA\n# -----------------\n# Set up the LIBOBJ replacement of 'alloca'.  Well, not exactly\n# AC_LIBOBJ since we actually set the output variable 'ALLOCA'.\n# Nevertheless, for Automake, AC_LIBSOURCES it.\nm4_define([_AC_LIBOBJ_ALLOCA],\n[# The SVR3 libPW and SVR4 libucb both contain incompatible functions\n# that cause trouble.  Some versions do not even contain alloca or\n# contain a buggy version.  If you still want to use their alloca,\n# use ar to extract alloca.o from them instead of compiling alloca.c.\nAC_LIBSOURCES(alloca.c)\nAC_SUBST([ALLOCA], [\\${LIBOBJDIR}alloca.$ac_objext])dnl\nAC_DEFINE(C_ALLOCA, 1, [Define to 1 if using 'alloca.c'.])\n\nAC_CACHE_CHECK([stack direction for C alloca],\n               [ac_cv_c_stack_direction],\n[AC_RUN_IFELSE([AC_LANG_SOURCE(\n[AC_INCLUDES_DEFAULT\nint\nfind_stack_direction (int *addr, int depth)\n{\n  int dir, dummy = 0;\n  if (! addr)\n    addr = &dummy;\n  *addr = addr < &dummy ? 1 : addr == &dummy ? 0 : -1;\n  dir = depth ? find_stack_direction (addr, depth - 1) : 0;\n  return dir + dummy;\n}\n\nint\nmain (int argc, char **argv)\n{\n  return find_stack_direction (0, argc + !argv + 20) < 0;\n}])],\n               [ac_cv_c_stack_direction=1],\n               [ac_cv_c_stack_direction=-1],\n               [ac_cv_c_stack_direction=0])])\nAH_VERBATIM([STACK_DIRECTION],\n[/* If using the C implementation of alloca, define if you know the\n   direction of stack growth for your system; otherwise it will be\n   automatically deduced at runtime.\n        STACK_DIRECTION > 0 => grows toward higher addresses\n        STACK_DIRECTION < 0 => grows toward lower addresses\n        STACK_DIRECTION = 0 => direction of growth unknown */\n#undef STACK_DIRECTION])dnl\nAC_DEFINE_UNQUOTED(STACK_DIRECTION, $ac_cv_c_stack_direction)\n])# _AC_LIBOBJ_ALLOCA\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}