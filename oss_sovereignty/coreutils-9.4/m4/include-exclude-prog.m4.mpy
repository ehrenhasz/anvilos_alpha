{
  "module_name": "include-exclude-prog.m4",
  "hash_id": "bbe2f708e51e65a2da84e765f4f621b5447f7f23666e3cb2d47668e6029f9eb8",
  "original_prompt": "Ingested from coreutils-9.4/m4/include-exclude-prog.m4",
  "human_readable_source": "#serial 2\ndnl Copyright (C) 2007-2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\ndnl From Jim Meyering.\n\n# Usage: gl_ADD_PROG([prog_list_var_name], [prog_name])\nAC_DEFUN([gl_ADD_PROG],\n[{\n  if test -z \"$$1\"; then\n    $1=$2\n  else\n    $1=\"$$1 $2\"\n  fi\n}])\n\n# Usage: gl_REMOVE_PROG([prog_list_var_name], [prog_name])\nAC_DEFUN([gl_REMOVE_PROG],\n[{\n  $1=`for gl_rem_i in $$1; do\n        test \"$gl_rem_i\" = \"$2\" || echo \"$gl_rem_i\"\n      done | tr '\\012' ' ' | sed 's/ $//'; echo`\n}])\n\n# Given the name of a variable containing a space-separated list of\n# install-by-default programs and the list of do-not-install-by-default\n# programs, modify the former variable to reflect \"no-install\" and\n# \"do-install\" requests.  The names in the latter list should be comma-\n# separated.\n#\n# Usage: gl_INCLUDE_EXCLUDE_PROG([prog_list_var_name], [no_inst_prog_list])\nAC_DEFUN([gl_INCLUDE_EXCLUDE_PROG],\n[{\n  gl_no_install_progs_default=`echo '$2'|sed 's/,/ /g'`\n  AC_ARG_ENABLE([install-program],\n    [AS_HELP_STRING([--enable-install-program=PROG_LIST],\n                    [install the programs in PROG_LIST (comma-separated,\n                    default: none)])],\n    [gl_do_install_prog=$enableval],\n    [gl_do_install_prog=]\n  )\n\n  # If you want to refrain from installing programs A and B,\n  # use --enable-no-install-program=A,B\n  AC_ARG_ENABLE([no-install-program],\n    [AS_HELP_STRING([--enable-no-install-program=PROG_LIST],\n                    [do NOT install the programs in PROG_LIST\n                    (comma-separated, default: $2)])],\n    [gl_no_install_prog=$enableval],\n    [gl_no_install_prog=]\n  )\n\n  # Convert to space separated lists.\n  gl_do_install_prog=`echo \"$gl_do_install_prog\"|tr -s , ' '`\n  gl_no_install_prog=`echo \"$gl_no_install_prog\"|tr -s , ' '`\n\n  # For each not-to-be-installed program name, ensure that it's a\n  # valid name, remove it from the list of programs to build/install,\n  # as well as from the list of man pages to install.\n  for gl_i in $gl_no_install_prog; do\n\n    # Fail upon a request to install and not-install the same program.\n    case \" $gl_do_install_prog \" in\n      *\" $gl_i \"*) AC_MSG_ERROR(['$gl_i' is both included and excluded]) ;;\n    esac\n\n    gl_msg=\n    # Warn about a request not to install a program that is not being\n    # built (which may be because the systems lacks a required interface).\n    case \" $$1 \" in\n      *\" $gl_i \"*) gl_REMOVE_PROG([$1], $gl_i) ;;\n      *) gl_msg=\"'$gl_i' is already not being installed\" ;;\n    esac\n\n    if test \"$gl_msg\" = ''; then\n      # Warn about a request not to install a program that is\n      # already on the default-no-install list.\n      case \" $gl_no_install_progs_default \" in\n        *\" $gl_i \"*) gl_msg=\"by default, '$gl_i' is not installed\" ;;\n      esac\n    fi\n\n    test \"$gl_msg\" != '' && AC_MSG_WARN([$gl_msg])\n  done\n\n  for gl_i in $gl_do_install_prog; do\n    case \" $gl_no_install_progs_default \" in\n      *\" $gl_i \"*) gl_ADD_PROG([$1], $gl_i) ;;\n      *) AC_MSG_WARN(['$gl_i' is not an optionally-installable program]) ;;\n    esac\n  done\n}])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}