{
  "module_name": "clock_time.m4",
  "hash_id": "177c285bbbfd34a174916615fa3913e7988282a468970fbc15771d1a3c56cb34",
  "original_prompt": "Ingested from coreutils-9.4/m4/clock_time.m4",
  "human_readable_source": "# clock_time.m4 serial 14\ndnl Copyright (C) 2002-2006, 2009-2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\n# Check for clock_getres, clock_gettime and clock_settime,\n# and set CLOCK_TIME_LIB.\n# For a program named, say foo, you should add a line like the following\n# in the corresponding Makefile.am file:\n# foo_LDADD = $(LDADD) $(CLOCK_TIME_LIB)\n\nAC_DEFUN([gl_CLOCK_TIME],\n[\n  AC_REQUIRE([AC_CANONICAL_HOST])\n\n  dnl Persuade glibc and Solaris <time.h> to declare these functions.\n  AC_REQUIRE([gl_USE_SYSTEM_EXTENSIONS])\n\n  # On mingw, these functions are defined in the libwinpthread library,\n  # which is better avoided.  In fact, the clock_gettime function is buggy\n  # in 32-bit mingw, when -D__MINGW_USE_VC2005_COMPAT is used (which Gnulib's\n  # year2038 module does): It leaves the upper 32 bits of the tv_sec field\n  # of the result uninitialized.\n\n  # Solaris 2.5.1 needs -lposix4 to get the clock_gettime function.\n  # Solaris 7 prefers the library name -lrt to the obsolescent name -lposix4.\n\n  # Save and restore LIBS so e.g., -lrt, isn't added to it.  Otherwise, *all*\n  # programs in the package would end up linked with that potentially-shared\n  # library, inducing unnecessary run-time overhead.\n  CLOCK_TIME_LIB=\n  AC_SUBST([CLOCK_TIME_LIB])\n  case \"$host_os\" in\n    mingw* | windows*)\n      ac_cv_func_clock_getres=no\n      ac_cv_func_clock_gettime=no\n      ac_cv_func_clock_settime=no\n      ;;\n    *)\n      gl_saved_libs=$LIBS\n        AC_SEARCH_LIBS([clock_gettime], [rt posix4],\n                       [test \"$ac_cv_search_clock_gettime\" = \"none required\" ||\n                        CLOCK_TIME_LIB=$ac_cv_search_clock_gettime])\n        AC_CHECK_FUNCS([clock_getres clock_gettime clock_settime])\n      LIBS=$gl_saved_libs\n      ;;\n  esac\n\n  # For backward compatibility.\n  LIB_CLOCK_GETTIME=\"$CLOCK_TIME_LIB\"\n  AC_SUBST([LIB_CLOCK_GETTIME])\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}