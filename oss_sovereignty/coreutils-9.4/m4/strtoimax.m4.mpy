{
  "module_name": "strtoimax.m4",
  "hash_id": "3140dbfd54c1abde00ca6855244fd6ab39cef63e0845ca118bfd77eb2e07ad38",
  "original_prompt": "Ingested from coreutils-9.4/m4/strtoimax.m4",
  "human_readable_source": "# strtoimax.m4 serial 17\ndnl Copyright (C) 2002-2004, 2006, 2009-2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\nAC_DEFUN([gl_FUNC_STRTOIMAX],\n[\n  AC_REQUIRE([gl_INTTYPES_H_DEFAULTS])\n\n  dnl On OSF/1 5.1 with cc, this function is declared but not defined.\n  AC_CHECK_FUNCS_ONCE([strtoimax])\n  AC_CHECK_DECLS_ONCE([strtoimax])\n  if test \"$ac_cv_have_decl_strtoimax\" != yes; then\n    HAVE_DECL_STRTOIMAX=0\n  fi\n\n  if test \"$ac_cv_func_strtoimax\" = yes; then\n    HAVE_STRTOIMAX=1\n    dnl On AIX 5.1, strtoimax() fails for values outside the 'int' range.\n    AC_REQUIRE([AC_CANONICAL_HOST]) dnl for cross-compiles\n    AC_CACHE_CHECK([whether strtoimax works], [gl_cv_func_strtoimax],\n      [AC_RUN_IFELSE(\n         [AC_LANG_SOURCE([[\n#include <errno.h>\n#include <string.h>\n#include <inttypes.h>\nint main ()\n{\n  if (sizeof (intmax_t) > sizeof (int))\n    {\n      const char *s = \"4294967295\";\n      char *p;\n      intmax_t res;\n      errno = 0;\n      res = strtoimax (s, &p, 10);\n      if (p != s + strlen (s))\n        return 1;\n      if (errno != 0)\n        return 2;\n      if (res != (intmax_t) 65535 * (intmax_t) 65537)\n        return 3;\n    }\n  else\n    {\n      const char *s = \"2147483647\";\n      char *p;\n      intmax_t res;\n      errno = 0;\n      res = strtoimax (s, &p, 10);\n      if (p != s + strlen (s))\n        return 1;\n      if (errno != 0)\n        return 2;\n      if (res != 2147483647)\n        return 3;\n    }\n  return 0;\n}\n]])],\n         [gl_cv_func_strtoimax=yes],\n         [gl_cv_func_strtoimax=no],\n         [case \"$host_os\" in\n                               # Guess no on AIX 5.\n            aix5*)             gl_cv_func_strtoimax=\"guessing no\" ;;\n                               # Guess yes on native Windows.\n            mingw* | windows*) gl_cv_func_strtoimax=\"guessing yes\" ;;\n                               # Guess yes otherwise.\n            *)                 gl_cv_func_strtoimax=\"guessing yes\" ;;\n          esac\n         ])\n      ])\n    case \"$gl_cv_func_strtoimax\" in\n      *no) REPLACE_STRTOIMAX=1 ;;\n    esac\n  else\n    if test \"$ac_cv_have_decl_strtoimax\" = yes; then\n      # HP-UX 11.11 has \"#define strtoimax(...) ...\" but no function.\n      REPLACE_STRTOIMAX=1\n    fi\n    HAVE_STRTOIMAX=0\n  fi\n])\n\n# Prerequisites of lib/strtoimax.c.\nAC_DEFUN([gl_PREREQ_STRTOIMAX], [\n  AC_CHECK_DECLS([strtoll])\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}