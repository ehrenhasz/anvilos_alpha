{
  "module_name": "rmdir.m4",
  "hash_id": "7531c68b9b507c532473b24185eaa0f9aebd4e8782cf0a5bdbe25bf492765209",
  "original_prompt": "Ingested from coreutils-9.4/m4/rmdir.m4",
  "human_readable_source": "# rmdir.m4 serial 19\ndnl Copyright (C) 2002, 2005, 2009-2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\nAC_DEFUN([gl_FUNC_RMDIR],\n[\n  AC_REQUIRE([gl_UNISTD_H_DEFAULTS])\n  AC_REQUIRE([AC_CANONICAL_HOST]) dnl for cross-compiles\n  dnl Detect cygwin 1.5.x bug.\n  AC_CHECK_HEADERS_ONCE([unistd.h])\n  AC_CACHE_CHECK([whether rmdir works], [gl_cv_func_rmdir_works],\n    [mkdir conftest.dir\n     touch conftest.file\n     AC_RUN_IFELSE(\n       [AC_LANG_PROGRAM(\n         [[#include <stdio.h>\n           #include <errno.h>\n           #if HAVE_UNISTD_H\n           # include <unistd.h>\n           #else /* on Windows with MSVC */\n           # include <direct.h>\n           #endif\n         ]GL_MDA_DEFINES],\n         [[int result = 0;\n           if (!rmdir (\"conftest.file/\"))\n             result |= 1;\n           else if (errno != ENOTDIR)\n             result |= 2;\n           if (!rmdir (\"conftest.dir/./\"))\n             result |= 4;\n           return result;\n         ]])],\n       [gl_cv_func_rmdir_works=yes], [gl_cv_func_rmdir_works=no],\n       [case \"$host_os\" in\n                             # Guess yes on Linux systems.\n          linux-* | linux)   gl_cv_func_rmdir_works=\"guessing yes\" ;;\n                             # Guess yes on systems that emulate the Linux system calls.\n          midipix*)          gl_cv_func_rmdir_works=\"guessing yes\" ;;\n                             # Guess yes on glibc systems.\n          *-gnu* | gnu*)     gl_cv_func_rmdir_works=\"guessing yes\" ;;\n                             # Guess no on native Windows.\n          mingw* | windows*) gl_cv_func_rmdir_works=\"guessing no\" ;;\n                             # If we don't know, obey --enable-cross-guesses.\n          *)                 gl_cv_func_rmdir_works=\"$gl_cross_guess_normal\" ;;\n        esac\n       ])\n     rm -rf conftest.dir conftest.file])\n  case \"$gl_cv_func_rmdir_works\" in\n    *yes) ;;\n    *)\n      REPLACE_RMDIR=1\n      ;;\n  esac\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}