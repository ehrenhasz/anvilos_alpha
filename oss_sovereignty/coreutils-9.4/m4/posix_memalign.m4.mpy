{
  "module_name": "posix_memalign.m4",
  "hash_id": "0fedff8dc249ffdadaa25a59fd795225f2afd04cb4ce5bc41b05c9e7dc54bf3a",
  "original_prompt": "Ingested from coreutils-9.4/m4/posix_memalign.m4",
  "human_readable_source": "# posix_memalign.m4 serial 3\ndnl Copyright (C) 2020-2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\nAC_DEFUN([gl_FUNC_POSIX_MEMALIGN],\n[\n  AC_REQUIRE([gl_STDLIB_H_DEFAULTS])\n  AC_REQUIRE([AC_CANONICAL_HOST]) dnl for cross-compiles\n\n  dnl Persuade glibc <stdlib.h> to declare posix_memalign().\n  AC_REQUIRE([AC_USE_SYSTEM_EXTENSIONS])\n\n  gl_CHECK_FUNCS_ANDROID([posix_memalign], [[#include <stdlib.h>]])\n  if test $ac_cv_func_posix_memalign = yes; then\n    dnl On OpenBSD 6.1, posix_memalign (&p, 32, 2406) returns a pointer\n    dnl that is not a multiple of 32.\n    AC_CACHE_CHECK([whether posix_memalign works for large alignments],\n      [gl_cv_func_posix_memalign_works],\n      [AC_RUN_IFELSE(\n         [AC_LANG_PROGRAM(\n            [[#include <stdlib.h>\n            ]],\n            [[void *p;\n              if (posix_memalign (&p, 32, 2406) == 0)\n                if (((unsigned long)p % 32) != 0)\n                  return 1;\n              return 0;\n            ]])\n         ],\n         [gl_cv_func_posix_memalign_works=yes],\n         [gl_cv_func_posix_memalign_works=no],\n         [case \"$host_os\" in\n                      # Guess no on OpenBSD.\n            openbsd*) gl_cv_func_posix_memalign_works=\"guessing no\" ;;\n                      # If we don't know, obey --enable-cross-guesses.\n            *)        gl_cv_func_posix_memalign_works=\"$gl_cross_guess_normal\" ;;\n          esac\n         ])\n      ])\n    case \"$gl_cv_func_posix_memalign_works\" in\n      *yes) ;;\n      *) REPLACE_POSIX_MEMALIGN=1 ;;\n    esac\n  else\n    dnl The system does not have posix_memalign.\n    HAVE_POSIX_MEMALIGN=0\n    case \"$gl_cv_onwards_func_posix_memalign\" in\n      future*) REPLACE_POSIX_MEMALIGN=1 ;;\n    esac\n  fi\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}