{
  "module_name": "inet_ntop.m4",
  "hash_id": "9ae3e56f6e9881facc48bf08eee58d26b809bb4f27b1a2fa143fa557a9d4758a",
  "original_prompt": "Ingested from coreutils-9.4/m4/inet_ntop.m4",
  "human_readable_source": "# inet_ntop.m4 serial 21\ndnl Copyright (C) 2005-2006, 2008-2023 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\nAC_DEFUN([gl_FUNC_INET_NTOP],\n[\n  AC_REQUIRE([gl_ARPA_INET_H_DEFAULTS])\n\n  dnl Persuade Solaris <arpa/inet.h> to declare inet_ntop.\n  AC_REQUIRE([gl_USE_SYSTEM_EXTENSIONS])\n\n  AC_REQUIRE([AC_C_RESTRICT])\n\n  dnl Most platforms that provide inet_ntop define it in libc.\n  dnl Solaris 8..10 provide inet_ntop in libnsl instead.\n  dnl Solaris 2.6..7 provide inet_ntop in libresolv instead.\n  dnl Haiku provides it in -lnetwork.\n  dnl Native Windows provides it in -lws2_32 instead, with a declaration in\n  dnl <ws2tcpip.h>, and it uses stdcall calling convention, not cdecl\n  dnl (hence we cannot use AC_CHECK_FUNCS, AC_SEARCH_LIBS to find it).\n  HAVE_INET_NTOP=1\n  INET_NTOP_LIB=\n  gl_PREREQ_SYS_H_WINSOCK2\n  if test $HAVE_WINSOCK2_H = 1; then\n    dnl It needs to be overridden, because the stdcall calling convention\n    dnl is not compliant with POSIX.  Set REPLACE_INET_NTOP in order to avoid\n    dnl a name conflict at the linker level, even though the header file\n    dnl <ws2tcpip.h> declares inet_ntop only if _WIN32_WINNT >= 0x0600.\n    REPLACE_INET_NTOP=1\n    AC_CHECK_DECLS([inet_ntop],,, [[#include <ws2tcpip.h>]])\n    if test $ac_cv_have_decl_inet_ntop = yes; then\n      INET_NTOP_LIB=\"-lws2_32\"\n    else\n      HAVE_DECL_INET_NTOP=0\n    fi\n  else\n    gl_save_LIBS=$LIBS\n    AC_SEARCH_LIBS([inet_ntop], [nsl resolv network], [],\n      [AC_CHECK_FUNCS([inet_ntop])\n       if test $ac_cv_func_inet_ntop = no; then\n         HAVE_INET_NTOP=0\n       fi\n      ])\n    LIBS=$gl_save_LIBS\n\n    if test \"$ac_cv_search_inet_ntop\" != \"no\" \\\n       && test \"$ac_cv_search_inet_ntop\" != \"none required\"; then\n      INET_NTOP_LIB=\"$ac_cv_search_inet_ntop\"\n    fi\n\n    AC_CHECK_HEADERS_ONCE([netdb.h])\n    AC_CHECK_DECLS([inet_ntop],,,\n      [[#include <arpa/inet.h>\n        #if HAVE_NETDB_H\n        # include <netdb.h>\n        #endif\n      ]])\n    if test $ac_cv_have_decl_inet_ntop = no; then\n      HAVE_DECL_INET_NTOP=0\n    fi\n  fi\n  AC_SUBST([INET_NTOP_LIB])\n])\n\n# Prerequisites of lib/inet_ntop.c.\nAC_DEFUN([gl_PREREQ_INET_NTOP], [\n  AC_REQUIRE([gl_SOCKET_FAMILIES])\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}