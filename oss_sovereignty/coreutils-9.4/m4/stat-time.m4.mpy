{
  "module_name": "stat-time.m4",
  "hash_id": "efa2b67d4f71aa049057ff0d387976fa88ab31ea64f06dd9dfc58bca883ffe51",
  "original_prompt": "Ingested from coreutils-9.4/m4/stat-time.m4",
  "human_readable_source": "# Checks for stat-related time functions.\n\n# Copyright (C) 1998-1999, 2001, 2003, 2005-2007, 2009-2023 Free Software\n# Foundation, Inc.\n\n# This file is free software; the Free Software Foundation\n# gives unlimited permission to copy and/or distribute it,\n# with or without modifications, as long as this notice is preserved.\n\ndnl From Paul Eggert.\n\n# st_atim.tv_nsec - Linux, Solaris, Cygwin\n# st_atimespec.tv_nsec - FreeBSD, NetBSD, if ! defined _POSIX_SOURCE\n# st_atimensec - FreeBSD, NetBSD, if defined _POSIX_SOURCE\n# st_atim.st__tim.tv_nsec - UnixWare (at least 2.1.2 through 7.1)\n\n# st_birthtimespec - FreeBSD, NetBSD (hidden on OpenBSD 3.9, anyway)\n# st_birthtim - Cygwin 1.7.0+\n\nAC_DEFUN([gl_STAT_TIME],\n[\n  AC_REQUIRE([gl_USE_SYSTEM_EXTENSIONS])\n  AC_CHECK_HEADERS_ONCE([sys/time.h])\n\n  AC_CHECK_MEMBERS([struct stat.st_atim.tv_nsec],\n    [AC_CACHE_CHECK([whether struct stat.st_atim is of type struct timespec],\n       [ac_cv_typeof_struct_stat_st_atim_is_struct_timespec],\n       [AC_COMPILE_IFELSE([AC_LANG_PROGRAM(\n          [[\n            #include <sys/types.h>\n            #include <sys/stat.h>\n            #if HAVE_SYS_TIME_H\n            # include <sys/time.h>\n            #endif\n            #include <time.h>\n            struct timespec ts;\n            struct stat st;\n          ]],\n          [[\n            st.st_atim = ts;\n          ]])],\n          [ac_cv_typeof_struct_stat_st_atim_is_struct_timespec=yes],\n          [ac_cv_typeof_struct_stat_st_atim_is_struct_timespec=no])])\n     if test $ac_cv_typeof_struct_stat_st_atim_is_struct_timespec = yes; then\n       AC_DEFINE([TYPEOF_STRUCT_STAT_ST_ATIM_IS_STRUCT_TIMESPEC], [1],\n         [Define to 1 if the type of the st_atim member of a struct stat is\n          struct timespec.])\n     fi],\n    [AC_CHECK_MEMBERS([struct stat.st_atimespec.tv_nsec], [],\n       [AC_CHECK_MEMBERS([struct stat.st_atimensec], [],\n          [AC_CHECK_MEMBERS([struct stat.st_atim.st__tim.tv_nsec], [], [],\n             [#include <sys/types.h>\n              #include <sys/stat.h>])],\n          [#include <sys/types.h>\n           #include <sys/stat.h>])],\n       [#include <sys/types.h>\n        #include <sys/stat.h>])],\n    [#include <sys/types.h>\n     #include <sys/stat.h>])\n])\n\n# Check for st_birthtime, a feature from UFS2 (FreeBSD, NetBSD, OpenBSD, etc.)\n# and NTFS (Cygwin).\n# There was a time when this field was named st_createtime (21 June\n# 2002 to 16 July 2002) But that window is very small and applied only\n# to development code, so systems still using that configuration are\n# not supported.  See revisions 1.10 and 1.11 of FreeBSD's\n# src/sys/ufs/ufs/dinode.h.\n#\nAC_DEFUN([gl_STAT_BIRTHTIME],\n[\n  AC_REQUIRE([gl_USE_SYSTEM_EXTENSIONS])\n  AC_CHECK_HEADERS_ONCE([sys/time.h])\n  AC_CHECK_MEMBERS([struct stat.st_birthtimespec.tv_nsec], [],\n    [AC_CHECK_MEMBERS([struct stat.st_birthtimensec], [],\n      [AC_CHECK_MEMBERS([struct stat.st_birthtim.tv_nsec], [], [],\n         [#include <sys/types.h>\n          #include <sys/stat.h>])],\n       [#include <sys/types.h>\n        #include <sys/stat.h>])],\n    [#include <sys/types.h>\n     #include <sys/stat.h>])\n])\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}