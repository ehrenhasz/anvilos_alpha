{
  "module_name": "test-vasprintf.c",
  "hash_id": "b30f5612a2825eb16bfd994a338391703b7e8f86fffb58aa4d3e10f756de8040",
  "original_prompt": "Ingested from coreutils-9.4/gnulib-tests/test-vasprintf.c",
  "human_readable_source": " \n\n#include <config.h>\n\n#include <stdio.h>\n\n#include \"signature.h\"\nSIGNATURE_CHECK (asprintf, int, (char **, char const *, ...));\nSIGNATURE_CHECK (vasprintf, int, (char **, char const *, va_list));\n\n#include <stdarg.h>\n#include <stdlib.h>\n#include <string.h>\n\n#include \"macros.h\"\n\nstatic int\nmy_asprintf (char **result, const char *format, ...)\n{\n  va_list args;\n  int ret;\n\n  va_start (args, format);\n  ret = vasprintf (result, format, args);\n  va_end (args);\n  return ret;\n}\n\nstatic void\ntest_vasprintf ()\n{\n  int repeat;\n\n  for (repeat = 0; repeat <= 8; repeat++)\n    {\n      char *result;\n      int retval = my_asprintf (&result, \"%d\", 12345);\n      ASSERT (retval == 5);\n      ASSERT (result != NULL);\n      ASSERT (strcmp (result, \"12345\") == 0);\n      free (result);\n    }\n\n  for (repeat = 0; repeat <= 8; repeat++)\n    {\n      char *result;\n      int retval = my_asprintf (&result, \"%08lx\", 12345UL);\n      ASSERT (retval == 8);\n      ASSERT (result != NULL);\n      ASSERT (strcmp (result, \"00003039\") == 0);\n      free (result);\n    }\n}\n\nstatic void\ntest_asprintf ()\n{\n  int repeat;\n\n  for (repeat = 0; repeat <= 8; repeat++)\n    {\n      char *result;\n      int retval = asprintf (&result, \"%d\", 12345);\n      ASSERT (retval == 5);\n      ASSERT (result != NULL);\n      ASSERT (strcmp (result, \"12345\") == 0);\n      free (result);\n    }\n\n  for (repeat = 0; repeat <= 8; repeat++)\n    {\n      char *result;\n      int retval = asprintf (&result, \"%08lx\", 12345UL);\n      ASSERT (retval == 8);\n      ASSERT (result != NULL);\n      ASSERT (strcmp (result, \"00003039\") == 0);\n      free (result);\n    }\n}\n\nint\nmain (int argc, char *argv[])\n{\n  test_vasprintf ();\n  test_asprintf ();\n  return 0;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}