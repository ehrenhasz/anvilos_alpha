{
  "module_name": "test-strncat.h",
  "hash_id": "d51d6baa58f13d8cb1dba5808d21c12db29e644906997b58d9402e4a5caa5f32",
  "original_prompt": "Ingested from coreutils-9.4/gnulib-tests/unistr/test-strncat.h",
  "human_readable_source": " \n\nstatic void\ncheck_single (const UNIT *input, size_t length, size_t n)\n{\n  static const UNIT base[] = { 'C', 'h', 'a', 'n', 'g', 'i', 'n', 'g', 0 };\n  size_t m;\n\n  for (m = 0; m < SIZEOF (base); m++)\n    {\n      UNIT *dest;\n      UNIT *result;\n      size_t i;\n\n      dest = (UNIT *) malloc ((1 + m + n + 2) * sizeof (UNIT));\n      ASSERT (dest != NULL);\n\n      dest[0] = MAGIC;\n      for (i = 0; i < m; i++)\n        dest[1 + i] = base[i];\n      dest[1 + m] = 0;\n      for (i = 1; i < n + 2; i++)\n        dest[1 + m + i] = MAGIC;\n\n      result = U_STRNCAT (dest + 1, input, n);\n      ASSERT (result == dest + 1);\n\n      ASSERT (dest[0] == MAGIC);\n      for (i = 0; i < m; i++)\n        ASSERT (dest[1 + i] == base[i]);\n      for (i = 0; i < (n <= length ? n : length); i++)\n        ASSERT (dest[1 + m + i] == input[i]);\n      ASSERT (dest[1 + m + i] == 0);\n      ASSERT (dest[1 + m + i + 1] == MAGIC);\n\n      free (dest);\n    }\n}\n\nstatic void\ncheck (const UNIT *input, size_t input_length)\n{\n  size_t length;\n  size_t n;\n\n  ASSERT (input_length > 0);\n  ASSERT (input[input_length - 1] == 0);\n  length = input_length - 1;  \n\n  for (n = 0; n <= 2 * length + 2; n++)\n    check_single (input, length, n);\n\n   \n  {\n    char *page_boundary = (char *) zerosize_ptr ();\n\n    if (page_boundary != NULL)\n      {\n        for (n = 0; n <= 2 * length + 2; n++)\n          {\n            size_t n_to_copy = (n <= length ? n : length + 1);\n            UNIT *copy;\n            size_t i;\n\n            copy = (UNIT *) page_boundary - n_to_copy;\n            for (i = 0; i < n_to_copy; i++)\n              copy[i] = input[i];\n\n            check_single (copy, length, n);\n          }\n      }\n  }\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}