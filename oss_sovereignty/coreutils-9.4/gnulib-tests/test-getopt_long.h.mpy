{
  "module_name": "test-getopt_long.h",
  "hash_id": "6c7831f74446e77c4143d6d49899153b468a0c4304a94e81d421ef2165adba0e",
  "original_prompt": "Ingested from coreutils-9.4/gnulib-tests/test-getopt_long.h",
  "human_readable_source": " \n\nstatic int a_seen;\nstatic int b_seen;\nstatic int q_seen;\n\nstatic const struct option long_options_required[] =\n  {\n    { \"alpha\",    no_argument,       NULL, 'a' },\n    { \"beta\",     no_argument,       &b_seen, 1 },\n    { \"prune\",    required_argument, NULL, 'p' },\n    { \"quetsche\", required_argument, &q_seen, 1 },\n    { \"xtremely-\",no_argument,       NULL, 1003 },\n    { \"xtra\",     no_argument,       NULL, 1001 },\n    { \"xtreme\",   no_argument,       NULL, 1002 },\n    { \"xtremely\", no_argument,       NULL, 1003 },\n    { NULL,       0,                 NULL, 0 }\n  };\n\nstatic const struct option long_options_optional[] =\n  {\n    { \"alpha\",    no_argument,       NULL, 'a' },\n    { \"beta\",     no_argument,       &b_seen, 1 },\n    { \"prune\",    optional_argument, NULL, 'p' },\n    { \"quetsche\", optional_argument, &q_seen, 1 },\n    { NULL,       0,                 NULL, 0 }\n  };\n\nstatic void\ngetopt_long_loop (int argc, const char **argv,\n                  const char *options, const struct option *long_options,\n                  const char **p_value, const char **q_value,\n                  int *non_options_count, const char **non_options,\n                  int *unrecognized)\n{\n  int option_index = -1;\n  int c;\n\n  opterr = 0;\n  q_seen = 0;\n  while ((c = getopt_long (argc, (char **) argv, options, long_options,\n                           &option_index))\n         != -1)\n    {\n      switch (c)\n        {\n        case 0:\n           \n          if (q_seen)\n            *q_value = optarg;\n          break;\n        case 'a':\n          a_seen++;\n          break;\n        case 'b':\n          b_seen = 1;\n          break;\n        case 'p':\n          *p_value = optarg;\n          break;\n        case 'q':\n          *q_value = optarg;\n          break;\n        case '\\1':\n           \n          ASSERT (options[0] == '-');\n          non_options[(*non_options_count)++] = optarg;\n          break;\n        case ':':\n           \n          ASSERT (options[0] == ':'\n                  || ((options[0] == '-' || options[0] == '+')\n                      && options[1] == ':'));\n          FALLTHROUGH;\n        case '?':\n          *unrecognized = optopt;\n          break;\n        default:\n          *unrecognized = c;\n          break;\n        }\n    }\n}\n\n \nstatic int\ndo_getopt_long (int argc, const char **argv, const char *shortopts,\n                const struct option *longopts, int *longind)\n{\n  return getopt_long (argc, (char **) argv, shortopts, longopts, longind);\n}\n\nstatic void\ntest_getopt_long (void)\n{\n  int start;\n\n   \n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"--x\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    c = do_getopt_long (argc, argv, \"ab\", long_options_required, &option_index);\n    ASSERT (c == '?');\n    ASSERT (optopt == 0);\n  }\n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"--xt\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    c = do_getopt_long (argc, argv, \"ab\", long_options_required, &option_index);\n    ASSERT (c == '?');\n    ASSERT (optopt == 0);\n  }\n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"--xtr\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    c = do_getopt_long (argc, argv, \"ab\", long_options_required, &option_index);\n    ASSERT (c == '?');\n    ASSERT (optopt == 0);\n  }\n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"--xtra\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    c = do_getopt_long (argc, argv, \"ab\", long_options_required, &option_index);\n    ASSERT (c == 1001);\n  }\n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"--xtre\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    c = do_getopt_long (argc, argv, \"ab\", long_options_required, &option_index);\n    ASSERT (c == '?');\n    ASSERT (optopt == 0);\n  }\n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"--xtrem\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    c = do_getopt_long (argc, argv, \"ab\", long_options_required, &option_index);\n    ASSERT (c == '?');\n    ASSERT (optopt == 0);\n  }\n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"--xtreme\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    c = do_getopt_long (argc, argv, \"ab\", long_options_required, &option_index);\n    ASSERT (c == 1002);\n  }\n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"--xtremel\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    c = do_getopt_long (argc, argv, \"ab\", long_options_required, &option_index);\n    ASSERT (c == 1003);\n  }\n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"--xtremely\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    c = do_getopt_long (argc, argv, \"ab\", long_options_required, &option_index);\n    ASSERT (c == 1003);\n  }\n\n   \n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"-W\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    c = do_getopt_long (argc, argv, \"W;\", long_options_required, &option_index);\n    ASSERT (c == '?');\n    ASSERT (optopt == 'W');\n  }\n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"-Wunknown\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    c = do_getopt_long (argc, argv, \"W;\", long_options_required, &option_index);\n     \n    if (c == '?')\n      {\n        ASSERT (optopt == 0);\n        ASSERT (optarg == NULL);\n      }\n    else\n      {\n        ASSERT (c == 'W');\n        ASSERT (strcmp (optarg, \"unknown\") == 0);\n      }\n  }\n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"-W\";\n    argv[argc++] = \"unknown\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    c = do_getopt_long (argc, argv, \"W;\", long_options_required, &option_index);\n     \n    if (c == '?')\n      {\n        ASSERT (optopt == 0);\n        ASSERT (optarg == NULL);\n      }\n    else\n      {\n        ASSERT (c == 'W');\n        ASSERT (strcmp (optarg, \"unknown\") == 0);\n      }\n  }\n\n   \n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"ab\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 2);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-b\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"ab\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 1);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 3);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-ba\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"ab\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 1);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 2);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-ab\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"ab\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 2);\n      ASSERT (b_seen == 1);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 3);\n    }\n\n   \n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"--alpha\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"ab\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 2);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"--beta\";\n      argv[argc++] = \"--alpha\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"ab\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 1);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 3);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"--alpha\";\n      argv[argc++] = \"--beta\";\n      argv[argc++] = \"--alpha\";\n      argv[argc++] = \"--beta\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"ab\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 2);\n      ASSERT (b_seen == 1);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 5);\n    }\n\n   \n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-Walpha\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"abW;\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 2);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-W\";\n      argv[argc++] = \"beta\";\n      argv[argc++] = \"-W\";\n      argv[argc++] = \"alpha\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"aW;b\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 1);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 5);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-Walpha\";\n      argv[argc++] = \"-Wbeta\";\n      argv[argc++] = \"-Walpha\";\n      argv[argc++] = \"-Wbeta\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"W;ab\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 2);\n      ASSERT (b_seen == 1);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 5);\n    }\n\n   \n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-pfoo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"p:q:\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 2);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"p:q:\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 3);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-ab\";\n      argv[argc++] = \"-q\";\n      argv[argc++] = \"baz\";\n      argv[argc++] = \"-pfoo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"abp:q:\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 1);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value != NULL && strcmp (q_value, \"baz\") == 0);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 5);\n    }\n\n   \n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"--p=foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"p:q:\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 2);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"--p\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"p:q:\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 3);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-ab\";\n      argv[argc++] = \"--q\";\n      argv[argc++] = \"baz\";\n      argv[argc++] = \"--p=foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"abp:q:\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 1);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value != NULL && strcmp (q_value, \"baz\") == 0);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 5);\n    }\n\n   \n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-Wp=foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"p:q:W;\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 2);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-W\";\n      argv[argc++] = \"p\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"p:W;q:\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 4);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-ab\";\n      argv[argc++] = \"-Wq\";\n      argv[argc++] = \"baz\";\n      argv[argc++] = \"-W\";\n      argv[argc++] = \"p=foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"W;abp:q:\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 1);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value != NULL && strcmp (q_value, \"baz\") == 0);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 6);\n    }\n\n   \n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-pfoo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"p::q::\", long_options_optional,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 2);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"p::q::\", long_options_optional,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 2);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"abp::q::\", long_options_optional,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 3);\n    }\n\n   \n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"--p=foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"p::q::\", long_options_optional,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 2);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"--p\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"p::q::\", long_options_optional,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 2);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"--p=\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"p::q::\", long_options_optional,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && *p_value == '\\0');\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 2);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"--p\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"abp::q::\", long_options_optional,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 3);\n    }\n\n   \n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-Wp=foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"p::q::W;\", long_options_optional,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 2);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-Wp\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"p::q::W;\", long_options_optional,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 2);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-Wp=\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"W;p::q::\", long_options_optional,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && *p_value == '\\0');\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 2);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-W\";\n      argv[argc++] = \"p=\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"W;p::q::\", long_options_optional,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && *p_value == '\\0');\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 3);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-W\";\n      argv[argc++] = \"p\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"W;abp::q::\", long_options_optional,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n       \n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 4);\n    }\n\n   \n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"-x\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"abp:q:\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 'x');\n      ASSERT (optind == 5);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"-:\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"abp:q:\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == ':');\n      ASSERT (optind == 5);\n    }\n\n   \n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"--a=\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"abp:q:\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 'a');\n      ASSERT (optind == 4);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"--b=\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"abp:q:\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n       \n      ASSERT (unrecognized == 1 || unrecognized == 0);\n      ASSERT (optind == 4);\n    }\n\n   \n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"donald\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"billy\";\n      argv[argc++] = \"duck\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"abp:q:\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (strcmp (argv[0], \"program\") == 0);\n      ASSERT (strcmp (argv[1], \"-p\") == 0);\n      ASSERT (strcmp (argv[2], \"billy\") == 0);\n      ASSERT (strcmp (argv[3], \"-a\") == 0);\n      ASSERT (strcmp (argv[4], \"donald\") == 0);\n      ASSERT (strcmp (argv[5], \"duck\") == 0);\n      ASSERT (strcmp (argv[6], \"bar\") == 0);\n      ASSERT (argv[7] == NULL);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"billy\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 4);\n    }\n\n   \n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[20];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"donald\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"billy\";\n      argv[argc++] = \"duck\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"--\";\n      argv[argc++] = \"-b\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"-q\";\n      argv[argc++] = \"johnny\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"abp:q:\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (strcmp (argv[0], \"program\") == 0);\n      ASSERT (strcmp (argv[1], \"-p\") == 0);\n      ASSERT (strcmp (argv[2], \"billy\") == 0);\n      ASSERT (strcmp (argv[3], \"-a\") == 0);\n      ASSERT (strcmp (argv[4], \"--\") == 0);\n      ASSERT (strcmp (argv[5], \"donald\") == 0);\n      ASSERT (strcmp (argv[6], \"duck\") == 0);\n      ASSERT (strcmp (argv[7], \"-b\") == 0);\n      ASSERT (strcmp (argv[8], \"foo\") == 0);\n      ASSERT (strcmp (argv[9], \"-q\") == 0);\n      ASSERT (strcmp (argv[10], \"johnny\") == 0);\n      ASSERT (strcmp (argv[11], \"bar\") == 0);\n      ASSERT (argv[12] == NULL);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"billy\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 5);\n    }\n\n   \n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"donald\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"billy\";\n      argv[argc++] = \"duck\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"-abp:q:\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (strcmp (argv[0], \"program\") == 0);\n      ASSERT (strcmp (argv[1], \"donald\") == 0);\n      ASSERT (strcmp (argv[2], \"-p\") == 0);\n      ASSERT (strcmp (argv[3], \"billy\") == 0);\n      ASSERT (strcmp (argv[4], \"duck\") == 0);\n      ASSERT (strcmp (argv[5], \"-a\") == 0);\n      ASSERT (strcmp (argv[6], \"bar\") == 0);\n      ASSERT (argv[7] == NULL);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"billy\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 3);\n      ASSERT (strcmp (non_options[0], \"donald\") == 0);\n      ASSERT (strcmp (non_options[1], \"duck\") == 0);\n      ASSERT (strcmp (non_options[2], \"bar\") == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 7);\n    }\n\n   \n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[20];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"donald\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"billy\";\n      argv[argc++] = \"duck\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"--\";\n      argv[argc++] = \"-b\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"-q\";\n      argv[argc++] = \"johnny\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"-abp:q:\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (strcmp (argv[0], \"program\") == 0);\n      ASSERT (strcmp (argv[1], \"donald\") == 0);\n      ASSERT (strcmp (argv[2], \"-p\") == 0);\n      ASSERT (strcmp (argv[3], \"billy\") == 0);\n      ASSERT (strcmp (argv[4], \"duck\") == 0);\n      ASSERT (strcmp (argv[5], \"-a\") == 0);\n      ASSERT (strcmp (argv[6], \"--\") == 0);\n      ASSERT (strcmp (argv[7], \"-b\") == 0);\n      ASSERT (strcmp (argv[8], \"foo\") == 0);\n      ASSERT (strcmp (argv[9], \"-q\") == 0);\n      ASSERT (strcmp (argv[10], \"johnny\") == 0);\n      ASSERT (strcmp (argv[11], \"bar\") == 0);\n      ASSERT (argv[12] == NULL);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"billy\") == 0);\n      ASSERT (q_value == NULL);\n      if (non_options_count == 2)\n      {\n         \n        ASSERT (non_options_count == 2);\n        ASSERT (strcmp (non_options[0], \"donald\") == 0);\n        ASSERT (strcmp (non_options[1], \"duck\") == 0);\n        ASSERT (unrecognized == 0);\n        ASSERT (optind == 7);\n      }\n      else\n      {\n         \n        ASSERT (non_options_count == 7);\n        ASSERT (strcmp (non_options[0], \"donald\") == 0);\n        ASSERT (strcmp (non_options[1], \"duck\") == 0);\n        ASSERT (strcmp (non_options[2], \"-b\") == 0);\n        ASSERT (strcmp (non_options[3], \"foo\") == 0);\n        ASSERT (strcmp (non_options[4], \"-q\") == 0);\n        ASSERT (strcmp (non_options[5], \"johnny\") == 0);\n        ASSERT (strcmp (non_options[6], \"bar\") == 0);\n        ASSERT (unrecognized == 0);\n        ASSERT (optind == 12);\n      }\n    }\n\n   \n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"donald\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"billy\";\n      argv[argc++] = \"duck\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"abp:q:-\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (strcmp (argv[0], \"program\") == 0);\n      ASSERT (strcmp (argv[1], \"-p\") == 0);\n      ASSERT (strcmp (argv[2], \"billy\") == 0);\n      ASSERT (strcmp (argv[3], \"-a\") == 0);\n      ASSERT (strcmp (argv[4], \"donald\") == 0);\n      ASSERT (strcmp (argv[5], \"duck\") == 0);\n      ASSERT (strcmp (argv[6], \"bar\") == 0);\n      ASSERT (argv[7] == NULL);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"billy\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 4);\n    }\n\n   \n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"donald\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"billy\";\n      argv[argc++] = \"duck\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"+abp:q:\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (strcmp (argv[0], \"program\") == 0);\n      ASSERT (strcmp (argv[1], \"donald\") == 0);\n      ASSERT (strcmp (argv[2], \"-p\") == 0);\n      ASSERT (strcmp (argv[3], \"billy\") == 0);\n      ASSERT (strcmp (argv[4], \"duck\") == 0);\n      ASSERT (strcmp (argv[5], \"-a\") == 0);\n      ASSERT (strcmp (argv[6], \"bar\") == 0);\n      ASSERT (argv[7] == NULL);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 1);\n    }\n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-+\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"+abp:q:\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == '+');\n      ASSERT (optind == 2);\n    }\n\n   \n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[20];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"donald\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"billy\";\n      argv[argc++] = \"duck\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"--\";\n      argv[argc++] = \"-b\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"-q\";\n      argv[argc++] = \"johnny\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"+abp:q:\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (strcmp (argv[0], \"program\") == 0);\n      ASSERT (strcmp (argv[1], \"donald\") == 0);\n      ASSERT (strcmp (argv[2], \"-p\") == 0);\n      ASSERT (strcmp (argv[3], \"billy\") == 0);\n      ASSERT (strcmp (argv[4], \"duck\") == 0);\n      ASSERT (strcmp (argv[5], \"-a\") == 0);\n      ASSERT (strcmp (argv[6], \"--\") == 0);\n      ASSERT (strcmp (argv[7], \"-b\") == 0);\n      ASSERT (strcmp (argv[8], \"foo\") == 0);\n      ASSERT (strcmp (argv[9], \"-q\") == 0);\n      ASSERT (strcmp (argv[10], \"johnny\") == 0);\n      ASSERT (strcmp (argv[11], \"bar\") == 0);\n      ASSERT (argv[12] == NULL);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 1);\n    }\n\n   \n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"donald\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"billy\";\n      argv[argc++] = \"duck\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"abp:q:+\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (strcmp (argv[0], \"program\") == 0);\n      ASSERT (strcmp (argv[1], \"-p\") == 0);\n      ASSERT (strcmp (argv[2], \"billy\") == 0);\n      ASSERT (strcmp (argv[3], \"-a\") == 0);\n      ASSERT (strcmp (argv[4], \"donald\") == 0);\n      ASSERT (strcmp (argv[5], \"duck\") == 0);\n      ASSERT (strcmp (argv[6], \"bar\") == 0);\n      ASSERT (argv[7] == NULL);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"billy\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 4);\n    }\n}\n\n \n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"donald\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"billy\";\n      argv[argc++] = \"duck\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"abp:q:\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (strcmp (argv[0], \"program\") == 0);\n      ASSERT (strcmp (argv[1], \"donald\") == 0);\n      ASSERT (strcmp (argv[2], \"-p\") == 0);\n      ASSERT (strcmp (argv[3], \"billy\") == 0);\n      ASSERT (strcmp (argv[4], \"duck\") == 0);\n      ASSERT (strcmp (argv[5], \"-a\") == 0);\n      ASSERT (strcmp (argv[6], \"bar\") == 0);\n      ASSERT (argv[7] == NULL);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 1);\n    }\n\n   \n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"billy\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"p::\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 2);\n    }\n\n   \n  for (start = 0; start <= 1; start++)\n    {\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      int argc = 0;\n      const char *argv[10];\n      a_seen = 0;\n      b_seen = 0;\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"billy\";\n      argv[argc++] = \"-b\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_long_loop (argc, argv, \"-ab\", long_options_required,\n                        &p_value, &q_value,\n                        &non_options_count, non_options, &unrecognized);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 1);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 1);\n      ASSERT (strcmp (non_options[0], \"billy\") == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 4);\n    }\n}\n\n \nstatic int\ndo_getopt_long_only (int argc, const char **argv, const char *shortopts,\n                     const struct option *longopts, int *longind)\n{\n  return getopt_long_only (argc, (char **) argv, shortopts, longopts, longind);\n}\n\nstatic void\ntest_getopt_long_only (void)\n{\n   \n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"-x\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    c = do_getopt_long_only (argc, argv, \"ab\", long_options_required,\n                             &option_index);\n    ASSERT (c == '?');\n    ASSERT (optopt == 0);\n  }\n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"-x\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    c = do_getopt_long_only (argc, argv, \"abx\", long_options_required,\n                             &option_index);\n    ASSERT (c == 'x');\n    ASSERT (optopt == 0);\n  }\n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"--x\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    c = do_getopt_long_only (argc, argv, \"abx\", long_options_required,\n                             &option_index);\n    ASSERT (c == '?');\n    ASSERT (optopt == 0);\n  }\n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"-b\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    b_seen = 0;\n    c = do_getopt_long_only (argc, argv, \"abx\", long_options_required,\n                             &option_index);\n    ASSERT (c == 'b');\n    ASSERT (b_seen == 0);\n  }\n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"--b\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    b_seen = 0;\n    c = do_getopt_long_only (argc, argv, \"abx\", long_options_required,\n                             &option_index);\n    ASSERT (c == 0);\n    ASSERT (b_seen == 1);\n  }\n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"-xt\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    c = do_getopt_long_only (argc, argv, \"ab\", long_options_required,\n                             &option_index);\n    ASSERT (c == '?');\n    ASSERT (optopt == 0);\n  }\n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"-xt\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    c = do_getopt_long_only (argc, argv, \"abx\", long_options_required,\n                             &option_index);\n    ASSERT (c == '?');\n    ASSERT (optopt == 0);\n  }\n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"-xtra\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    c = do_getopt_long_only (argc, argv, \"ab\", long_options_required,\n                             &option_index);\n    ASSERT (c == 1001);\n  }\n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"-xtreme\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    c = do_getopt_long_only (argc, argv, \"abx:\", long_options_required,\n                             &option_index);\n    ASSERT (c == 1002);\n  }\n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"-xtremel\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    c = do_getopt_long_only (argc, argv, \"ab\", long_options_required,\n                             &option_index);\n     \n    ASSERT (c == 1003 || c == '?');\n    ASSERT (optind == 2);\n  }\n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"-xtremel\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    c = do_getopt_long_only (argc, argv, \"abx::\", long_options_required,\n                             &option_index);\n     \n    ASSERT (c == 1003 || c == '?');\n    ASSERT (optind == 2);\n    ASSERT (optarg == NULL);\n  }\n  {\n    int argc = 0;\n    const char *argv[10];\n    int option_index;\n    int c;\n\n    argv[argc++] = \"program\";\n    argv[argc++] = \"-xtras\";\n    argv[argc] = NULL;\n    optind = 1;\n    opterr = 0;\n    c = do_getopt_long_only (argc, argv, \"abx::\", long_options_required,\n                             &option_index);\n    ASSERT (c == 'x');\n    ASSERT (strcmp (optarg, \"tras\") == 0);\n  }\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}