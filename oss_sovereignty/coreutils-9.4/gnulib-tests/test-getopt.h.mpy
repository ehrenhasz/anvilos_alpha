{
  "module_name": "test-getopt.h",
  "hash_id": "8d1748929c7f6696db7892bd6b6c43b346c620db53e74ff8cf6e61d76df7a4bf",
  "original_prompt": "Ingested from coreutils-9.4/gnulib-tests/test-getopt.h",
  "human_readable_source": " \n\n\n \n#if defined __GETOPT_PREFIX || (__GLIBC__ >= 2 && !defined __UCLIBC__)\n# define OPTIND_MIN 0\n#elif HAVE_DECL_OPTRESET\n# define OPTIND_MIN (optreset = 1)\n#else\n# define OPTIND_MIN 1\n#endif\n\nstatic void\ngetopt_loop (int argc, const char **argv,\n             const char *options,\n             int *a_seen, int *b_seen,\n             const char **p_value, const char **q_value,\n             int *non_options_count, const char **non_options,\n             int *unrecognized, bool *message_issued)\n{\n  int c;\n  int pos = ftell (stderr);\n\n  while ((c = getopt (argc, (char **) argv, options)) != -1)\n    {\n      switch (c)\n        {\n        case 'a':\n          (*a_seen)++;\n          break;\n        case 'b':\n          (*b_seen)++;\n          break;\n        case 'p':\n          *p_value = optarg;\n          break;\n        case 'q':\n          *q_value = optarg;\n          break;\n        case '\\1':\n           \n          ASSERT (options[0] == '-');\n          non_options[(*non_options_count)++] = optarg;\n          break;\n        case ':':\n           \n          ASSERT (options[0] == ':'\n                  || ((options[0] == '-' || options[0] == '+')\n                      && options[1] == ':'));\n          FALLTHROUGH;\n        case '?':\n          *unrecognized = optopt;\n          break;\n        default:\n          *unrecognized = c;\n          break;\n        }\n    }\n\n  *message_issued = pos < ftell (stderr);\n}\n\nstatic void\ntest_getopt (void)\n{\n  int start;\n  bool posixly = !!getenv (\"POSIXLY_CORRECT\");\n   \n#if defined __GETOPT_PREFIX || !(__GLIBC__ >= 2 || defined __MINGW32__)\n   \n  posixly = true;\n#endif\n\n   \n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 1;\n      getopt_loop (argc, argv, \"ab\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 2);\n      ASSERT (!output);\n    }\n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-b\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 1;\n      getopt_loop (argc, argv, \"ab\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 1);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 3);\n      ASSERT (!output);\n    }\n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-ba\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 1;\n      getopt_loop (argc, argv, \"ab\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 1);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 2);\n      ASSERT (!output);\n    }\n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-ab\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 1;\n      getopt_loop (argc, argv, \"ab\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (a_seen == 2);\n      ASSERT (b_seen == 1);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 3);\n      ASSERT (!output);\n    }\n\n   \n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-pfoo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 1;\n      getopt_loop (argc, argv, \"p:q:\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 2);\n      ASSERT (!output);\n    }\n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 1;\n      getopt_loop (argc, argv, \"p:q:\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 3);\n      ASSERT (!output);\n    }\n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-ab\";\n      argv[argc++] = \"-q\";\n      argv[argc++] = \"baz\";\n      argv[argc++] = \"-pfoo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 1;\n      getopt_loop (argc, argv, \"abp:q:\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 1);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value != NULL && strcmp (q_value, \"baz\") == 0);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 5);\n      ASSERT (!output);\n    }\n\n#if GNULIB_TEST_GETOPT_GNU\n   \n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-pfoo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 1;\n      getopt_loop (argc, argv, \"p::q::\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 2);\n      ASSERT (!output);\n    }\n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 1;\n      getopt_loop (argc, argv, \"p::q::\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 2);\n      ASSERT (!output);\n    }\n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 1;\n      getopt_loop (argc, argv, \"abp::q::\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 3);\n      ASSERT (!output);\n    }\n#endif  \n\n   \n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"-x\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 42;\n      getopt_loop (argc, argv, \"abp:q:\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 'x');\n      ASSERT (optind == 5);\n      ASSERT (output);\n    }\n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"-x\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 0;\n      getopt_loop (argc, argv, \"abp:q:\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 'x');\n      ASSERT (optind == 5);\n      ASSERT (!output);\n    }\n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"-x\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 1;\n      getopt_loop (argc, argv, \":abp:q:\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 'x');\n      ASSERT (optind == 5);\n      ASSERT (!output);\n    }\n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"-:\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 42;\n      getopt_loop (argc, argv, \"abp:q:\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == ':');\n      ASSERT (optind == 5);\n      ASSERT (output);\n    }\n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"-:\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 0;\n      getopt_loop (argc, argv, \"abp:q:\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == ':');\n      ASSERT (optind == 5);\n      ASSERT (!output);\n    }\n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"-:\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 1;\n      getopt_loop (argc, argv, \":abp:q:\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"foo\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == ':');\n      ASSERT (optind == 5);\n      ASSERT (!output);\n    }\n\n   \n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-ap\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 1;\n      getopt_loop (argc, argv, \"abp:q:\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 'p');\n      ASSERT (optind == 2);\n      ASSERT (output);\n    }\n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-ap\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 0;\n      getopt_loop (argc, argv, \"abp:q:\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 'p');\n      ASSERT (optind == 2);\n      ASSERT (!output);\n    }\n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-ap\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 1;\n      getopt_loop (argc, argv, \":abp:q:\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 'p');\n      ASSERT (optind == 2);\n      ASSERT (!output);\n    }\n\n   \n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"donald\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"billy\";\n      argv[argc++] = \"duck\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 1;\n      getopt_loop (argc, argv, \"abp:q:\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      if (posixly)\n        {\n          ASSERT (strcmp (argv[0], \"program\") == 0);\n          ASSERT (strcmp (argv[1], \"donald\") == 0);\n          ASSERT (strcmp (argv[2], \"-p\") == 0);\n          ASSERT (strcmp (argv[3], \"billy\") == 0);\n          ASSERT (strcmp (argv[4], \"duck\") == 0);\n          ASSERT (strcmp (argv[5], \"-a\") == 0);\n          ASSERT (strcmp (argv[6], \"bar\") == 0);\n          ASSERT (argv[7] == NULL);\n          ASSERT (a_seen == 0);\n          ASSERT (b_seen == 0);\n          ASSERT (p_value == NULL);\n          ASSERT (q_value == NULL);\n          ASSERT (non_options_count == 0);\n          ASSERT (unrecognized == 0);\n          ASSERT (optind == 1);\n          ASSERT (!output);\n        }\n      else\n        {\n          ASSERT (strcmp (argv[0], \"program\") == 0);\n          ASSERT (strcmp (argv[1], \"-p\") == 0);\n          ASSERT (strcmp (argv[2], \"billy\") == 0);\n          ASSERT (strcmp (argv[3], \"-a\") == 0);\n          ASSERT (strcmp (argv[4], \"donald\") == 0);\n          ASSERT (strcmp (argv[5], \"duck\") == 0);\n          ASSERT (strcmp (argv[6], \"bar\") == 0);\n          ASSERT (argv[7] == NULL);\n          ASSERT (a_seen == 1);\n          ASSERT (b_seen == 0);\n          ASSERT (p_value != NULL && strcmp (p_value, \"billy\") == 0);\n          ASSERT (q_value == NULL);\n          ASSERT (non_options_count == 0);\n          ASSERT (unrecognized == 0);\n          ASSERT (optind == 4);\n          ASSERT (!output);\n        }\n    }\n\n   \n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[20];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"donald\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"billy\";\n      argv[argc++] = \"duck\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"--\";\n      argv[argc++] = \"-b\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"-q\";\n      argv[argc++] = \"johnny\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 1;\n      getopt_loop (argc, argv, \"abp:q:\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      if (posixly)\n        {\n          ASSERT (strcmp (argv[0], \"program\") == 0);\n          ASSERT (strcmp (argv[1], \"donald\") == 0);\n          ASSERT (strcmp (argv[2], \"-p\") == 0);\n          ASSERT (strcmp (argv[3], \"billy\") == 0);\n          ASSERT (strcmp (argv[4], \"duck\") == 0);\n          ASSERT (strcmp (argv[5], \"-a\") == 0);\n          ASSERT (strcmp (argv[6], \"--\") == 0);\n          ASSERT (strcmp (argv[7], \"-b\") == 0);\n          ASSERT (strcmp (argv[8], \"foo\") == 0);\n          ASSERT (strcmp (argv[9], \"-q\") == 0);\n          ASSERT (strcmp (argv[10], \"johnny\") == 0);\n          ASSERT (strcmp (argv[11], \"bar\") == 0);\n          ASSERT (argv[12] == NULL);\n          ASSERT (a_seen == 0);\n          ASSERT (b_seen == 0);\n          ASSERT (p_value == NULL);\n          ASSERT (q_value == NULL);\n          ASSERT (non_options_count == 0);\n          ASSERT (unrecognized == 0);\n          ASSERT (optind == 1);\n          ASSERT (!output);\n        }\n      else\n        {\n          ASSERT (strcmp (argv[0], \"program\") == 0);\n          ASSERT (strcmp (argv[1], \"-p\") == 0);\n          ASSERT (strcmp (argv[2], \"billy\") == 0);\n          ASSERT (strcmp (argv[3], \"-a\") == 0);\n          ASSERT (strcmp (argv[4], \"--\") == 0);\n          ASSERT (strcmp (argv[5], \"donald\") == 0);\n          ASSERT (strcmp (argv[6], \"duck\") == 0);\n          ASSERT (strcmp (argv[7], \"-b\") == 0);\n          ASSERT (strcmp (argv[8], \"foo\") == 0);\n          ASSERT (strcmp (argv[9], \"-q\") == 0);\n          ASSERT (strcmp (argv[10], \"johnny\") == 0);\n          ASSERT (strcmp (argv[11], \"bar\") == 0);\n          ASSERT (argv[12] == NULL);\n          ASSERT (a_seen == 1);\n          ASSERT (b_seen == 0);\n          ASSERT (p_value != NULL && strcmp (p_value, \"billy\") == 0);\n          ASSERT (q_value == NULL);\n          ASSERT (non_options_count == 0);\n          ASSERT (unrecognized == 0);\n          ASSERT (optind == 5);\n          ASSERT (!output);\n        }\n    }\n\n#if GNULIB_TEST_GETOPT_GNU\n   \n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"donald\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"billy\";\n      argv[argc++] = \"duck\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 1;\n      getopt_loop (argc, argv, \"-abp:q:\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (strcmp (argv[0], \"program\") == 0);\n      ASSERT (strcmp (argv[1], \"donald\") == 0);\n      ASSERT (strcmp (argv[2], \"-p\") == 0);\n      ASSERT (strcmp (argv[3], \"billy\") == 0);\n      ASSERT (strcmp (argv[4], \"duck\") == 0);\n      ASSERT (strcmp (argv[5], \"-a\") == 0);\n      ASSERT (strcmp (argv[6], \"bar\") == 0);\n      ASSERT (argv[7] == NULL);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"billy\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 3);\n      ASSERT (strcmp (non_options[0], \"donald\") == 0);\n      ASSERT (strcmp (non_options[1], \"duck\") == 0);\n      ASSERT (strcmp (non_options[2], \"bar\") == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 7);\n      ASSERT (!output);\n    }\n\n   \n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[20];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"donald\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"billy\";\n      argv[argc++] = \"duck\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"--\";\n      argv[argc++] = \"-b\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"-q\";\n      argv[argc++] = \"johnny\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 1;\n      getopt_loop (argc, argv, \"-abp:q:\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (strcmp (argv[0], \"program\") == 0);\n      ASSERT (strcmp (argv[1], \"donald\") == 0);\n      ASSERT (strcmp (argv[2], \"-p\") == 0);\n      ASSERT (strcmp (argv[3], \"billy\") == 0);\n      ASSERT (strcmp (argv[4], \"duck\") == 0);\n      ASSERT (strcmp (argv[5], \"-a\") == 0);\n      ASSERT (strcmp (argv[6], \"--\") == 0);\n      ASSERT (strcmp (argv[7], \"-b\") == 0);\n      ASSERT (strcmp (argv[8], \"foo\") == 0);\n      ASSERT (strcmp (argv[9], \"-q\") == 0);\n      ASSERT (strcmp (argv[10], \"johnny\") == 0);\n      ASSERT (strcmp (argv[11], \"bar\") == 0);\n      ASSERT (argv[12] == NULL);\n      ASSERT (a_seen == 1);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value != NULL && strcmp (p_value, \"billy\") == 0);\n      ASSERT (q_value == NULL);\n      ASSERT (!output);\n      if (non_options_count == 2)\n        {\n           \n          ASSERT (non_options_count == 2);\n          ASSERT (strcmp (non_options[0], \"donald\") == 0);\n          ASSERT (strcmp (non_options[1], \"duck\") == 0);\n          ASSERT (unrecognized == 0);\n          ASSERT (optind == 7);\n        }\n      else\n        {\n           \n          ASSERT (non_options_count == 7);\n          ASSERT (strcmp (non_options[0], \"donald\") == 0);\n          ASSERT (strcmp (non_options[1], \"duck\") == 0);\n          ASSERT (strcmp (non_options[2], \"-b\") == 0);\n          ASSERT (strcmp (non_options[3], \"foo\") == 0);\n          ASSERT (strcmp (non_options[4], \"-q\") == 0);\n          ASSERT (strcmp (non_options[5], \"johnny\") == 0);\n          ASSERT (strcmp (non_options[6], \"bar\") == 0);\n          ASSERT (unrecognized == 0);\n          ASSERT (optind == 12);\n        }\n    }\n\n   \n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"donald\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"billy\";\n      argv[argc++] = \"duck\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 1;\n      getopt_loop (argc, argv, \"abp:q:-\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      if (posixly)\n        {\n          ASSERT (strcmp (argv[0], \"program\") == 0);\n          ASSERT (strcmp (argv[1], \"donald\") == 0);\n          ASSERT (strcmp (argv[2], \"-p\") == 0);\n          ASSERT (strcmp (argv[3], \"billy\") == 0);\n          ASSERT (strcmp (argv[4], \"duck\") == 0);\n          ASSERT (strcmp (argv[5], \"-a\") == 0);\n          ASSERT (strcmp (argv[6], \"bar\") == 0);\n          ASSERT (argv[7] == NULL);\n          ASSERT (a_seen == 0);\n          ASSERT (b_seen == 0);\n          ASSERT (p_value == NULL);\n          ASSERT (q_value == NULL);\n          ASSERT (non_options_count == 0);\n          ASSERT (unrecognized == 0);\n          ASSERT (optind == 1);\n          ASSERT (!output);\n        }\n      else\n        {\n          ASSERT (strcmp (argv[0], \"program\") == 0);\n          ASSERT (strcmp (argv[1], \"-p\") == 0);\n          ASSERT (strcmp (argv[2], \"billy\") == 0);\n          ASSERT (strcmp (argv[3], \"-a\") == 0);\n          ASSERT (strcmp (argv[4], \"donald\") == 0);\n          ASSERT (strcmp (argv[5], \"duck\") == 0);\n          ASSERT (strcmp (argv[6], \"bar\") == 0);\n          ASSERT (argv[7] == NULL);\n          ASSERT (a_seen == 1);\n          ASSERT (b_seen == 0);\n          ASSERT (p_value != NULL && strcmp (p_value, \"billy\") == 0);\n          ASSERT (q_value == NULL);\n          ASSERT (non_options_count == 0);\n          ASSERT (unrecognized == 0);\n          ASSERT (optind == 4);\n          ASSERT (!output);\n        }\n    }\n\n   \n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"donald\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"billy\";\n      argv[argc++] = \"duck\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 1;\n      getopt_loop (argc, argv, \"+abp:q:\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (strcmp (argv[0], \"program\") == 0);\n      ASSERT (strcmp (argv[1], \"donald\") == 0);\n      ASSERT (strcmp (argv[2], \"-p\") == 0);\n      ASSERT (strcmp (argv[3], \"billy\") == 0);\n      ASSERT (strcmp (argv[4], \"duck\") == 0);\n      ASSERT (strcmp (argv[5], \"-a\") == 0);\n      ASSERT (strcmp (argv[6], \"bar\") == 0);\n      ASSERT (argv[7] == NULL);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 1);\n      ASSERT (!output);\n    }\n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-+\";\n      argv[argc] = NULL;\n      optind = start;\n      getopt_loop (argc, argv, \"+abp:q:\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == '+');\n      ASSERT (optind == 2);\n      ASSERT (output);\n    }\n\n   \n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[20];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"donald\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"billy\";\n      argv[argc++] = \"duck\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"--\";\n      argv[argc++] = \"-b\";\n      argv[argc++] = \"foo\";\n      argv[argc++] = \"-q\";\n      argv[argc++] = \"johnny\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 1;\n      getopt_loop (argc, argv, \"+abp:q:\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      ASSERT (strcmp (argv[0], \"program\") == 0);\n      ASSERT (strcmp (argv[1], \"donald\") == 0);\n      ASSERT (strcmp (argv[2], \"-p\") == 0);\n      ASSERT (strcmp (argv[3], \"billy\") == 0);\n      ASSERT (strcmp (argv[4], \"duck\") == 0);\n      ASSERT (strcmp (argv[5], \"-a\") == 0);\n      ASSERT (strcmp (argv[6], \"--\") == 0);\n      ASSERT (strcmp (argv[7], \"-b\") == 0);\n      ASSERT (strcmp (argv[8], \"foo\") == 0);\n      ASSERT (strcmp (argv[9], \"-q\") == 0);\n      ASSERT (strcmp (argv[10], \"johnny\") == 0);\n      ASSERT (strcmp (argv[11], \"bar\") == 0);\n      ASSERT (argv[12] == NULL);\n      ASSERT (a_seen == 0);\n      ASSERT (b_seen == 0);\n      ASSERT (p_value == NULL);\n      ASSERT (q_value == NULL);\n      ASSERT (non_options_count == 0);\n      ASSERT (unrecognized == 0);\n      ASSERT (optind == 1);\n      ASSERT (!output);\n    }\n#endif  \n\n   \n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int a_seen = 0;\n      int b_seen = 0;\n      const char *p_value = NULL;\n      const char *q_value = NULL;\n      int non_options_count = 0;\n      const char *non_options[10];\n      int unrecognized = 0;\n      bool output;\n      int argc = 0;\n      const char *argv[10];\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"donald\";\n      argv[argc++] = \"-p\";\n      argv[argc++] = \"billy\";\n      argv[argc++] = \"duck\";\n      argv[argc++] = \"-a\";\n      argv[argc++] = \"bar\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 1;\n      getopt_loop (argc, argv, \"abp:q:+\",\n                   &a_seen, &b_seen, &p_value, &q_value,\n                   &non_options_count, non_options, &unrecognized, &output);\n      if (posixly)\n        {\n          ASSERT (strcmp (argv[0], \"program\") == 0);\n          ASSERT (strcmp (argv[1], \"donald\") == 0);\n          ASSERT (strcmp (argv[2], \"-p\") == 0);\n          ASSERT (strcmp (argv[3], \"billy\") == 0);\n          ASSERT (strcmp (argv[4], \"duck\") == 0);\n          ASSERT (strcmp (argv[5], \"-a\") == 0);\n          ASSERT (strcmp (argv[6], \"bar\") == 0);\n          ASSERT (argv[7] == NULL);\n          ASSERT (a_seen == 0);\n          ASSERT (b_seen == 0);\n          ASSERT (p_value == NULL);\n          ASSERT (q_value == NULL);\n          ASSERT (non_options_count == 0);\n          ASSERT (unrecognized == 0);\n          ASSERT (optind == 1);\n          ASSERT (!output);\n        }\n      else\n        {\n          ASSERT (strcmp (argv[0], \"program\") == 0);\n          ASSERT (strcmp (argv[1], \"-p\") == 0);\n          ASSERT (strcmp (argv[2], \"billy\") == 0);\n          ASSERT (strcmp (argv[3], \"-a\") == 0);\n          ASSERT (strcmp (argv[4], \"donald\") == 0);\n          ASSERT (strcmp (argv[5], \"duck\") == 0);\n          ASSERT (strcmp (argv[6], \"bar\") == 0);\n          ASSERT (argv[7] == NULL);\n          ASSERT (a_seen == 1);\n          ASSERT (b_seen == 0);\n          ASSERT (p_value != NULL && strcmp (p_value, \"billy\") == 0);\n          ASSERT (q_value == NULL);\n          ASSERT (non_options_count == 0);\n          ASSERT (unrecognized == 0);\n          ASSERT (optind == 4);\n          ASSERT (!output);\n        }\n    }\n\n#if GNULIB_TEST_GETOPT_GNU\n   \n  for (start = OPTIND_MIN; start <= 1; start++)\n    {\n      int argc = 0;\n      const char *argv[10];\n      int pos = ftell (stderr);\n\n      argv[argc++] = \"program\";\n      argv[argc++] = \"-W\";\n      argv[argc++] = \"dummy\";\n      argv[argc] = NULL;\n      optind = start;\n      opterr = 1;\n      ASSERT (getopt (argc, (char **) argv, \"W;\") == 'W');\n      ASSERT (ftell (stderr) == pos);\n      ASSERT (optind == 2);\n    }\n#endif  \n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}