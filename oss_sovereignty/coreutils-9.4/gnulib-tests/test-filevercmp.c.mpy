{
  "module_name": "test-filevercmp.c",
  "hash_id": "e4fc5b6f9c9ece5f3c2cc3d8af69312a46364957b00748fb8512bbac1a5c5f2e",
  "original_prompt": "Ingested from coreutils-9.4/gnulib-tests/test-filevercmp.c",
  "human_readable_source": " \nstatic const char *const examples[] =\n{\n  \"\",\n  \".\",\n  \"..\",\n  \".0\",\n  \".9\",\n  \".A\",\n  \".Z\",\n  \".a~\",\n  \".a\",\n  \".b~\",\n  \".b\",\n  \".z\",\n  \".zz~\",\n  \".zz\",\n  \".zz.~1~\",\n  \".zz.0\",\n  \".\\1\",\n  \".\\1.txt\",\n  \".\\1x\",\n  \".\\1x\\1\",\n  \".\\1.0\",\n  \"0\",\n  \"9\",\n  \"A\",\n  \"Z\",\n  \"a~\",\n  \"a\",\n  \"a.b~\",\n  \"a.b\",\n  \"a.bc~\",\n  \"a.bc\",\n  \"a+\",\n  \"a.\",\n  \"a..a\",\n  \"a.+\",\n  \"b~\",\n  \"b\",\n  \"gcc-c++-10.fc9.tar.gz\",\n  \"gcc-c++-10.fc9.tar.gz.~1~\",\n  \"gcc-c++-10.fc9.tar.gz.~2~\",\n  \"gcc-c++-10.8.12-0.7rc2.fc9.tar.bz2\",\n  \"gcc-c++-10.8.12-0.7rc2.fc9.tar.bz2.~1~\",\n  \"glibc-2-0.1.beta1.fc10.rpm\",\n  \"glibc-common-5-0.2.beta2.fc9.ebuild\",\n  \"glibc-common-5-0.2b.deb\",\n  \"glibc-common-11b.ebuild\",\n  \"glibc-common-11-0.6rc2.ebuild\",\n  \"libstdc++-0.5.8.11-0.7rc2.fc10.tar.gz\",\n  \"libstdc++-4a.fc8.tar.gz\",\n  \"libstdc++-4.10.4.20040204svn.rpm\",\n  \"libstdc++-devel-3.fc8.ebuild\",\n  \"libstdc++-devel-3a.fc9.tar.gz\",\n  \"libstdc++-devel-8.fc8.deb\",\n  \"libstdc++-devel-8.6.2-0.4b.fc8\",\n  \"nss_ldap-1-0.2b.fc9.tar.bz2\",\n  \"nss_ldap-1-0.6rc2.fc8.tar.gz\",\n  \"nss_ldap-1.0-0.1a.tar.gz\",\n  \"nss_ldap-10beta1.fc8.tar.gz\",\n  \"nss_ldap-10.11.8.6.20040204cvs.fc10.ebuild\",\n  \"z\",\n  \"zz~\",\n  \"zz\",\n  \"zz.~1~\",\n  \"zz.0\",\n  \"zz.0.txt\",\n  \"\\1\",\n  \"\\1.txt\",\n  \"\\1x\",\n  \"\\1x\\1\",\n  \"\\1.0\",\n  \"#\\1.b#\",\n  \"#.b#\",\n  NULL\n};\n\n \nstatic char const *const equals[] =\n  {\n    \"a\",\n    \"a0\",\n    \"a0000\",\n    NULL,\n    \"a\\1c-27.txt\",\n    \"a\\1c-027.txt\",\n    \"a\\1c-00000000000000000000000000000000000000000000000000000027.txt\",\n    NULL,\n    \".a\\1c-27.txt\",\n    \".a\\1c-027.txt\",\n    \".a\\1c-00000000000000000000000000000000000000000000000000000027.txt\",\n    NULL,\n    \"a\\1c-\",\n    \"a\\1c-0\",\n    \"a\\1c-00\",\n    NULL,\n    \".a\\1c-\",\n    \".a\\1c-0\",\n    \".a\\1c-00\",\n    NULL,\n    \"a\\1c-0.txt\",\n    \"a\\1c-00.txt\",\n    NULL,\n    \".a\\1c-1\\1.txt\",\n    \".a\\1c-001\\1.txt\",\n    NULL,\n  };\n\nstatic int\nsign (int i)\n{\n  return i < 0 ? -1 : 0 < i;\n}\n\n \nstatic int\ntest_filevercmp (char const *a, char const *b)\n{\n  int result = filevercmp (a, b);\n\n  char buffer[1000];\n\n  ptrdiff_t alen = strlen (a), blen = strlen (b);\n  ASSERT (alen + blen <= sizeof buffer);\n  memcpy (buffer, a, alen);\n  memcpy (buffer + alen, b, blen);\n  for (ptrdiff_t i = 0; i < alen + blen; i++)\n    if (buffer[i] == '\\1')\n      buffer[i] = '\\0';\n\n  int nresult = filenvercmp (buffer, alen, buffer + alen, blen);\n  ASSERT (sign (nresult) == sign (result));\n\n  return result;\n}\n\nint\nmain (void)\n{\n  const char *const *i;\n\n   \n  ASSERT (filevercmp (\"\", \"\") == 0);\n  ASSERT (filevercmp (\"a\", \"a\") == 0);\n  ASSERT (filevercmp (\"a\", \"b\") < 0);\n  ASSERT (filevercmp (\"b\", \"a\") > 0);\n  ASSERT (filevercmp (\"00\", \"01\") < 0);\n  ASSERT (filevercmp (\"01\", \"010\") < 0);\n  ASSERT (filevercmp (\"9\", \"10\") < 0);\n  ASSERT (filevercmp (\"0a\", \"0\") > 0);\n\n   \n  for (i = examples; *i; i++)\n    {\n      const char *const *j;\n      for (j = examples; *j; j++)\n        {\n          int result = test_filevercmp (*i, *j);\n          if (result < 0)\n            ASSERT (i < j);\n          else if (0 < result)\n            ASSERT (j < i);\n          else\n            ASSERT (i == j);\n        }\n    }\n\n  for (i = equals; i < equals + sizeof equals / sizeof *equals; i++)\n    for (; *i; i++)\n      for (char const *const *j = i; *j; j++)\n        {\n          ASSERT (test_filevercmp (*i, *j) == 0);\n          ASSERT (test_filevercmp (*j, *i) == 0);\n        }\n\n  return 0;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}