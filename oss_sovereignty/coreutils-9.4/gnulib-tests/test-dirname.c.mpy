{
  "module_name": "test-dirname.c",
  "hash_id": "81e89e751c34cd88e37d4b18c465eedc9533ebfb4a02c4df9cd7c57bc07ac249",
  "original_prompt": "Ingested from coreutils-9.4/gnulib-tests/test-dirname.c",
  "human_readable_source": " \n  const char *dir;       \n  const char *last;      \n  const char *base;      \n  const char *stripped;  \n  bool modified;         \n  bool absolute;         \n};\n\nstatic struct test tests[] = {\n  {\"d/f\",       \"d\",    \"f\",    \"f\",    \"d/f\",  false,  false},\n  {\"/d/f\",      \"/d\",   \"f\",    \"f\",    \"/d/f\", false,  true},\n  {\"d/f/\",      \"d\",    \"f/\",   \"f/\",   \"d/f\",  true,   false},\n  {\"d/f//\",     \"d\",    \"f//\",  \"f/\",   \"d/f\",  true,   false},\n  {\"f\",         \".\",    \"f\",    \"f\",    \"f\",    false,  false},\n  {\"/\",         \"/\",    \"\",     \"/\",    \"/\",    false,  true},\n#if DOUBLE_SLASH_IS_DISTINCT_ROOT\n  {\"//\",        \"//\",   \"\",     \"//\",   \"//\",   false,  true},\n  {\"//d\",       \"//\",   \"d\",    \"d\",    \"//d\",  false,  true},\n#else\n  {\"//\",        \"/\",    \"\",     \"/\",    \"/\",    true,   true},\n  {\"//d\",       \"/\",    \"d\",    \"d\",    \"//d\",  false,  true},\n#endif\n  {\"///\",       \"/\",    \"\",     \"/\",    \"/\",    true,   true},\n  {\"///a///\",   \"/\",    \"a///\", \"a/\",   \"///a\", true,   true},\n   \n  {\"\",          \".\",    \"\",     \"\",     \"\",     false,  false},\n  {\".\",         \".\",    \".\",    \".\",    \".\",    false,  false},\n  {\"..\",        \".\",    \"..\",   \"..\",   \"..\",   false,  false},\n#if ISSLASH ('\\\\')\n  {\"a\\\\\",       \".\",    \"a\\\\\",  \"a\\\\\",  \"a\",    true,   false},\n  {\"a\\\\b\",      \"a\",    \"b\",    \"b\",    \"a\\\\b\", false,  false},\n  {\"\\\\\",        \"\\\\\",   \"\",     \"\\\\\",   \"\\\\\",   false,  true},\n  {\"\\\\/\\\\\",     \"\\\\\",   \"\",     \"\\\\\",   \"\\\\\",   true,   true},\n  {\"\\\\\\\\/\",     \"\\\\\",   \"\",     \"\\\\\",   \"\\\\\",   true,   true},\n  {\"\\\\//\",      \"\\\\\",   \"\",     \"\\\\\",   \"\\\\\",   true,   true},\n  {\"//\\\\\",      \"/\",    \"\",     \"/\",    \"/\",    true,   true},\n#else\n  {\"a\\\\\",       \".\",    \"a\\\\\",  \"a\\\\\",  \"a\\\\\",  false,  false},\n  {\"a\\\\b\",      \".\",    \"a\\\\b\", \"a\\\\b\", \"a\\\\b\", false,  false},\n  {\"\\\\\",        \".\",    \"\\\\\",   \"\\\\\",   \"\\\\\",   false,  false},\n  {\"\\\\/\\\\\",     \"\\\\\",   \"\\\\\",   \"\\\\\",   \"\\\\/\\\\\",false,  false},\n  {\"\\\\\\\\/\",     \".\",    \"\\\\\\\\/\",\"\\\\\\\\/\",\"\\\\\\\\\", true,   false},\n  {\"\\\\//\",      \".\",    \"\\\\//\", \"\\\\/\",  \"\\\\\",   true,   false},\n# if DOUBLE_SLASH_IS_DISTINCT_ROOT\n  {\"//\\\\\",      \"//\",   \"\\\\\",   \"\\\\\",   \"//\\\\\", false,  true},\n# else\n  {\"//\\\\\",      \"/\",    \"\\\\\",   \"\\\\\",   \"//\\\\\", false,  true},\n# endif\n#endif\n#if ISSLASH ('\\\\')\n# if FILE_SYSTEM_DRIVE_PREFIX_CAN_BE_RELATIVE\n  {\"c:\",        \"c:\",   \"\",     \"c:\",   \"c:\",   false,  false},\n  {\"c:/\",       \"c:/\",  \"\",     \"c:/\",  \"c:/\",  false,  true},\n  {\"c://\",      \"c:/\",  \"\",     \"c:/\",  \"c:/\",  true,   true},\n  {\"c:/d\",      \"c:/\",  \"d\",    \"d\",    \"c:/d\", false,  true},\n  {\"c://d\",     \"c:/\",  \"d\",    \"d\",    \"c://d\",false,  true},\n  {\"c:/d/\",     \"c:/\",  \"d/\",   \"d/\",   \"c:/d\", true,   true},\n  {\"c:/d/f\",    \"c:/d\", \"f\",    \"f\",    \"c:/d/f\",false, true},\n  {\"c:d\",       \"c:.\",  \"d\",    \"d\",    \"c:d\",  false,  false},\n  {\"c:d/\",      \"c:.\",  \"d/\",   \"d/\",   \"c:d\",  true,   false},\n  {\"c:d/f\",     \"c:d\",  \"f\",    \"f\",    \"c:d/f\",false,  false},\n  {\"a:b:c\",     \"a:.\",  \"b:c\",  \"./b:c\",\"a:b:c\",false,  false},\n  {\"a/b:c\",     \"a\",    \"b:c\",  \"./b:c\",\"a/b:c\",false,  false},\n  {\"a/b:c/\",    \"a\",    \"b:c/\", \"./b:c/\",\"a/b:c\",true,  false},\n# else  \n  {\"c:\",        \"c:\",   \"\",     \"c:\",   \"c:\",   false,  true},\n  {\"c:/\",       \"c:\",   \"\",     \"c:\",   \"c:\",   true,   true},\n  {\"c://\",      \"c:\",   \"\",     \"c:\",   \"c:\",   true,   true},\n  {\"c:/d\",      \"c:\",   \"d\",    \"d\",    \"c:/d\", false,  true},\n  {\"c://d\",     \"c:\",   \"d\",    \"d\",    \"c://d\",false,  true},\n  {\"c:/d/\",     \"c:\",   \"d/\",   \"d/\",   \"c:/d\", true,   true},\n  {\"c:/d/f\",    \"c:/d\", \"f\",    \"f\",    \"c:/d/f\",false, true},\n  {\"c:d\",       \"c:\",   \"d\",    \"d\",    \"c:d\",  false,  true},\n  {\"c:d/\",      \"c:\",   \"d/\",   \"d/\",   \"c:d\",  true,   true},\n  {\"c:d/f\",     \"c:d\",  \"f\",    \"f\",    \"c:d/f\",false,  true},\n  {\"a:b:c\",     \"a:\",   \"b:c\",  \"./b:c\",\"a:b:c\",false,  true},\n  {\"a/b:c\",     \"a\",    \"b:c\",  \"./b:c\",\"a/b:c\",false,  false},\n  {\"a/b:c/\",    \"a\",    \"b:c/\", \"./b:c/\",\"a/b:c\",true,  false},\n# endif\n#else  \n  {\"c:\",        \".\",    \"c:\",   \"c:\",   \"c:\",   false,  false},\n  {\"c:/\",       \".\",    \"c:/\",  \"c:/\",  \"c:\",   true,   false},\n  {\"c://\",      \".\",    \"c://\", \"c:/\",  \"c:\",   true,   false},\n  {\"c:/d\",      \"c:\",   \"d\",    \"d\",    \"c:/d\", false,  false},\n  {\"c://d\",     \"c:\",   \"d\",    \"d\",    \"c://d\",false,  false},\n  {\"c:/d/\",     \"c:\",   \"d/\",   \"d/\",   \"c:/d\", true,   false},\n  {\"c:/d/f\",    \"c:/d\", \"f\",    \"f\",    \"c:/d/f\",false, false},\n  {\"c:d\",       \".\",    \"c:d\",  \"c:d\",  \"c:d\",  false,  false},\n  {\"c:d/\",      \".\",    \"c:d/\", \"c:d/\", \"c:d\",  true,   false},\n  {\"c:d/f\",     \"c:d\",  \"f\",    \"f\",    \"c:d/f\",false,  false},\n  {\"a:b:c\",     \".\",    \"a:b:c\",\"a:b:c\",\"a:b:c\",false,  false},\n  {\"a/b:c\",     \"a\",    \"b:c\",  \"b:c\",  \"a/b:c\",false,  false},\n  {\"a/b:c/\",    \"a\",    \"b:c/\", \"b:c/\", \"a/b:c\",true,   false},\n#endif\n  {\"1:\",        \".\",    \"1:\",   \"1:\",   \"1:\",   false,  false},\n  {\"1:/\",       \".\",    \"1:/\",  \"1:/\",  \"1:\",   true,   false},\n  {\"/:\",        \"/\",    \":\",    \":\",    \"/:\",   false,  true},\n  {\"/:/\",       \"/\",    \":/\",   \":/\",   \"/:\",   true,   true},\n   \n  {NULL,        NULL,   NULL,   NULL,   NULL,   false,  false}\n};\n\nint\nmain (void)\n{\n  struct test *t;\n  bool ok = true;\n\n  for (t = tests; t->name; t++)\n    {\n      char *dir = dir_name (t->name);\n      int dirlen = dir_len (t->name);\n      char *last = last_component (t->name);\n      char *base = base_name (t->name);\n      int baselen = base_len (base);\n      char *stripped = strdup (t->name);\n      bool modified = strip_trailing_slashes (stripped);\n      bool absolute = IS_ABSOLUTE_FILE_NAME (t->name);\n      if (! (strcmp (dir, t->dir) == 0\n             && (dirlen == strlen (dir)\n                 || (dirlen + 1 == strlen (dir) && dir[dirlen] == '.'))))\n        {\n          ok = false;\n          printf (\"dir_name '%s': got '%s' len %d,\"\n                  \" expected '%s' len %lu\\n\",\n                  t->name, dir, dirlen,\n                  t->dir, (unsigned long) strlen (t->dir));\n        }\n      if (strcmp (last, t->last))\n        {\n          ok = false;\n          printf (\"last_component '%s': got '%s', expected '%s'\\n\",\n                  t->name, last, t->last);\n        }\n      if (! (strcmp (base, t->base) == 0\n             && (baselen == strlen (base)\n                 || (baselen + 1 == strlen (base)\n                     && ISSLASH (base[baselen])))))\n        {\n          ok = false;\n          printf (\"base_name '%s': got '%s' len %d,\"\n                  \" expected '%s' len %lu\\n\",\n                  t->name, base, baselen,\n                  t->base, (unsigned long) strlen (t->base));\n        }\n      if (strcmp (stripped, t->stripped) || modified != t->modified)\n        {\n          ok = false;\n          printf (\"strip_trailing_slashes '%s': got %s %s, expected %s %s\\n\",\n                  t->name, stripped, modified ? \"changed\" : \"unchanged\",\n                  t->stripped, t->modified ? \"changed\" : \"unchanged\");\n        }\n      if (t->absolute != absolute)\n        {\n          ok = false;\n          printf (\"'%s': got %s, expected %s\\n\", t->name,\n                  absolute ? \"absolute\" : \"relative\",\n                  t->absolute ? \"absolute\" : \"relative\");\n        }\n      free (dir);\n      free (base);\n      free (stripped);\n    }\n  return ok ? 0 : 1;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}