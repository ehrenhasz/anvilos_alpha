{
  "module_name": "test-utime.c",
  "hash_id": "7020a46d7c4528e114d06b7d0484be76ff6259bc5d1d70afd644bf2eea4879ba",
  "original_prompt": "Ingested from coreutils-9.4/gnulib-tests/test-utime.c",
  "human_readable_source": " \nstatic int\ntest_utime (bool print)\n{\n  struct stat st1;\n  struct stat st2;\n\n  ASSERT (close (creat (BASE \"file\", 0600)) == 0);\n  ASSERT (stat (BASE \"file\", &st1) == 0);\n  nap ();\n  ASSERT (utime (BASE \"file\", NULL) == 0);\n  ASSERT (stat (BASE \"file\", &st2) == 0);\n  ASSERT (0 <= utimecmp (BASE \"file\", &st2, &st1, UTIMECMP_TRUNCATE_SOURCE));\n  if (check_ctime)\n    ASSERT (ctime_compare (&st1, &st2) < 0);\n  {\n     \n    struct utimbuf ts;\n    ts.actime = ts.modtime = time (NULL);\n    ASSERT (utime (BASE \"file\", &ts) == 0);\n    ASSERT (stat (BASE \"file\", &st1) == 0);\n    nap ();\n  }\n\n   \n  errno = 0;\n  ASSERT (utime (\"no_such\", NULL) == -1);\n  ASSERT (errno == ENOENT);\n  errno = 0;\n  ASSERT (utime (\"no_such/\", NULL) == -1);\n  ASSERT (errno == ENOENT || errno == ENOTDIR);\n  errno = 0;\n  ASSERT (utime (\"\", NULL) == -1);\n  ASSERT (errno == ENOENT);\n  {\n    struct utimbuf ts;\n    ts.actime = ts.modtime = Y2K;\n    errno = 0;\n    ASSERT (utime (BASE \"file/\", &ts) == -1);\n    ASSERT (errno == ENOTDIR || errno == EINVAL);\n  }\n  ASSERT (stat (BASE \"file\", &st2) == 0);\n  ASSERT (st1.st_atime == st2.st_atime);\n  ASSERT (get_stat_atime_ns (&st1) == get_stat_atime_ns (&st2));\n  ASSERT (utimecmp (BASE \"file\", &st1, &st2, 0) == 0);\n\n   \n  {\n    struct utimbuf ts;\n    ts.actime = ts.modtime = Y2K;\n    ASSERT (utime (BASE \"file\", &ts) == 0);\n    ASSERT (stat (BASE \"file\", &st2) == 0);\n    ASSERT (st2.st_atime == Y2K);\n    ASSERT (0 <= get_stat_atime_ns (&st2));\n    ASSERT (get_stat_atime_ns (&st2) < BILLION / 2);\n    ASSERT (st2.st_mtime == Y2K);\n    ASSERT (0 <= get_stat_mtime_ns (&st2));\n    ASSERT (get_stat_mtime_ns (&st2) < BILLION);\n    if (check_ctime)\n      ASSERT (ctime_compare (&st1, &st2) < 0);\n  }\n\n   \n  if (symlink (BASE \"file\", BASE \"link\"))\n    {\n      ASSERT (unlink (BASE \"file\") == 0);\n      if (print)\n        fputs (\"skipping test: symlinks not supported on this file system\\n\",\n               stderr);\n      return 77;\n    }\n  ASSERT (lstat (BASE \"link\", &st1) == 0);\n  ASSERT (st1.st_mtime != Y2K);\n  errno = 0;\n  ASSERT (utime (BASE \"link/\", NULL) == -1);\n  ASSERT (errno == ENOTDIR);\n  {\n    struct utimbuf ts;\n    ts.actime = ts.modtime = Y2K;\n    ASSERT (utime (BASE \"link\", &ts) == 0);\n    ASSERT (lstat (BASE \"link\", &st2) == 0);\n     \n    ASSERT (st1.st_mtime == st2.st_mtime);\n    ASSERT (stat (BASE \"link\", &st2) == 0);\n    ASSERT (st2.st_mtime == Y2K);\n    ASSERT (get_stat_mtime_ns (&st2) == 0);\n  }\n\n   \n  ASSERT (unlink (BASE \"link\") == 0);\n  ASSERT (unlink (BASE \"file\") == 0);\n  return 0;\n}\n\nint\nmain (void)\n{\n  int result1;  \n\n   \n  ignore_value (system (\"rm -rf \" BASE \"*\"));\n\n  result1 = test_utime (true);\n  return result1;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}