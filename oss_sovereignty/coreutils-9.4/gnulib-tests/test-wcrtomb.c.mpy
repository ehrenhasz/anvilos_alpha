{
  "module_name": "test-wcrtomb.c",
  "hash_id": "71770c8c0d0e4a3a22da3f4d78d70a4a71e3443183a20db3f11e1278dff99c5d",
  "original_prompt": "Ingested from coreutils-9.4/gnulib-tests/test-wcrtomb.c",
  "human_readable_source": " \n\n#include <config.h>\n\n#include <wchar.h>\n\n#include \"signature.h\"\nSIGNATURE_CHECK (wcrtomb, size_t, (char *, wchar_t, mbstate_t *));\n\n#include <locale.h>\n#include <stdlib.h>\n#include <string.h>\n\n#include \"macros.h\"\n\n \nstatic void\ncheck_character (const char *s, size_t n)\n{\n  wchar_t wc;\n  char buf[64];\n  int iret;\n  size_t ret;\n\n  wc = (wchar_t) 0xBADFACE;\n  iret = mbtowc (&wc, s, n);\n  ASSERT (iret == n);\n\n  ret = wcrtomb (buf, wc, NULL);\n  ASSERT (ret == n);\n  ASSERT (memcmp (buf, s, n) == 0);\n\n   \n  ret = wcrtomb (NULL, wc, NULL);\n  ASSERT (ret == 1);\n}\n\nint\nmain (int argc, char *argv[])\n{\n  char buf[64];\n  size_t ret;\n\n   \n  if (setlocale (LC_ALL, \"\") == NULL)\n    return 1;\n\n   \n  {\n    buf[0] = 'x';\n    ret = wcrtomb (buf, 0, NULL);\n    ASSERT (ret == 1);\n    ASSERT (buf[0] == '\\0');\n  }\n\n   \n  {\n    int c;\n\n    for (c = 0; c < 0x100; c++)\n      switch (c)\n        {\n        case '\\t': case '\\v': case '\\f':\n        case ' ': case '!': case '\"': case '#': case '%':\n        case '&': case '\\'': case '(': case ')': case '*':\n        case '+': case ',': case '-': case '.': case '/':\n        case '0': case '1': case '2': case '3': case '4':\n        case '5': case '6': case '7': case '8': case '9':\n        case ':': case ';': case '<': case '=': case '>':\n        case '?':\n        case 'A': case 'B': case 'C': case 'D': case 'E':\n        case 'F': case 'G': case 'H': case 'I': case 'J':\n        case 'K': case 'L': case 'M': case 'N': case 'O':\n        case 'P': case 'Q': case 'R': case 'S': case 'T':\n        case 'U': case 'V': case 'W': case 'X': case 'Y':\n        case 'Z':\n        case '[': case '\\\\': case ']': case '^': case '_':\n        case 'a': case 'b': case 'c': case 'd': case 'e':\n        case 'f': case 'g': case 'h': case 'i': case 'j':\n        case 'k': case 'l': case 'm': case 'n': case 'o':\n        case 'p': case 'q': case 'r': case 's': case 't':\n        case 'u': case 'v': case 'w': case 'x': case 'y':\n        case 'z': case '{': case '|': case '}': case '~':\n           \n          ret = wcrtomb (buf, btowc (c), NULL);\n          ASSERT (ret == 1);\n          ASSERT (buf[0] == (char) c);\n          break;\n        }\n  }\n\n   \n  {\n    ret = wcrtomb (NULL, '\\0', NULL);\n    ASSERT (ret == 1);\n    ret = wcrtomb (NULL, btowc ('x'), NULL);\n    ASSERT (ret == 1);\n  }\n\n  if (argc > 1)\n    switch (argv[1][0])\n      {\n      case '1':\n         \n        return 0;\n\n      case '2':\n         \n        {\n          const char input[] = \"B\\374\\337er\";  \n\n          check_character (input + 1, 1);\n          check_character (input + 2, 1);\n        }\n        return 0;\n\n      case '3':\n         \n        {\n          const char input[] = \"B\\303\\274\\303\\237er\";  \n\n          check_character (input + 1, 2);\n          check_character (input + 3, 2);\n        }\n        return 0;\n\n      case '4':\n         \n        {\n          const char input[] = \"<\\306\\374\\313\\334\\270\\354>\";  \n\n          check_character (input + 1, 2);\n          check_character (input + 3, 2);\n          check_character (input + 5, 2);\n        }\n        return 0;\n\n      case '5':\n         \n        {\n          const char input[] = \"B\\250\\271\\201\\060\\211\\070er\";  \n\n          check_character (input + 1, 2);\n          check_character (input + 3, 4);\n        }\n        return 0;\n      }\n\n  return 1;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}