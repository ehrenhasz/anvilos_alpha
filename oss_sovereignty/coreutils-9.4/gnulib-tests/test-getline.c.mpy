{
  "module_name": "test-getline.c",
  "hash_id": "9cf3804f88cb0f51c10834ffe254d1de55e0f35a32d55c4ef6facbe149bc112b",
  "original_prompt": "Ingested from coreutils-9.4/gnulib-tests/test-getline.c",
  "human_readable_source": " \n\n#include <config.h>\n\n#include <stdio.h>\n\n#include \"signature.h\"\nSIGNATURE_CHECK (getline, ssize_t, (char **, size_t *, FILE *));\n\n#include <stdlib.h>\n#include <string.h>\n\n#include \"macros.h\"\n\nint\nmain (void)\n{\n  FILE *f;\n  char *line;\n  size_t len;\n  ssize_t result;\n\n   \n  f = fopen (\"test-getline.txt\", \"wb\");\n  if (!f || fwrite (\"a\\nA\\nbc\\nd\\0f\", 1, 10, f) != 10 || fclose (f) != 0)\n    {\n      fputs (\"Failed to create sample file.\\n\", stderr);\n      remove (\"test-getline.txt\");\n      return 1;\n    }\n  f = fopen (\"test-getline.txt\", \"rb\");\n  if (!f)\n    {\n      fputs (\"Failed to reopen sample file.\\n\", stderr);\n      remove (\"test-getline.txt\");\n      return 1;\n    }\n\n   \n  line = NULL;\n  len = 0;\n  result = getline (&line, &len, f);\n  ASSERT (result == 2);\n  ASSERT (strcmp (line, \"a\\n\") == 0);\n  ASSERT (2 < len);\n  free (line);\n\n   \n  line = NULL;\n  len = (size_t)(~0) / 4;\n  result = getline (&line, &len, f);\n  ASSERT (result == 2);\n  ASSERT (strcmp (line, \"A\\n\") == 0);\n  ASSERT (2 < len);\n  free (line);\n\n   \n  len = 1;\n  line = malloc (len);\n  result = getline (&line, &len, f);\n  ASSERT (result == 3);\n  ASSERT (strcmp (line, \"bc\\n\") == 0);\n  ASSERT (3 < len);\n\n   \n  result = getline (&line, &len, f);\n  ASSERT (result == 3);\n  ASSERT (memcmp (line, \"d\\0f\", 4) == 0);\n  ASSERT (3 < len);\n\n  result = getline (&line, &len, f);\n  ASSERT (result == -1);\n\n  free (line);\n  fclose (f);\n  remove (\"test-getline.txt\");\n  return 0;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}