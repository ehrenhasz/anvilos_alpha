{
  "module_name": "localename.c",
  "hash_id": "b063a7f5f57a7ffff53b6c91ed59409618866347bbfb892c08fc1eae2ab0ecc0",
  "original_prompt": "Ingested from coreutils-9.4/gnulib-tests/localename.c",
  "human_readable_source": " \n \n \n\n \n#define _GL_ARG_NONNULL(params)\n\n#include <config.h>\n\n \n#include \"localename.h\"\n\n#include <limits.h>\n#include <stddef.h>\n#include <stdlib.h>\n#include <locale.h>\n#include <string.h>\n\n#include \"flexmember.h\"\n#include \"setlocale_null.h\"\n#include \"thread-optim.h\"\n\n#if HAVE_GOOD_USELOCALE\n \n# if defined __APPLE__ && defined __MACH__\n#  include <xlocale.h>\n# endif\n# if (__GLIBC__ >= 2 && !defined __UCLIBC__) || (defined __linux__ && HAVE_LANGINFO_H) || defined __CYGWIN__\n#  include <langinfo.h>\n# endif\n# include \"glthread/lock.h\"\n# if defined __sun\n#  if HAVE_GETLOCALENAME_L\n \nextern char * getlocalename_l(int, locale_t);\n#  elif HAVE_SOLARIS114_LOCALES\n#   include <sys/localedef.h>\n#  endif\n# endif\n# if HAVE_NAMELESS_LOCALES\n#  include \"localename-table.h\"\n# endif\n# if defined __HAIKU__\n#  include <dlfcn.h>\n# endif\n#endif\n\n#if HAVE_CFPREFERENCESCOPYAPPVALUE\n# include <CoreFoundation/CFString.h>\n# include <CoreFoundation/CFPreferences.h>\n#endif\n\n#if defined _WIN32 && !defined __CYGWIN__\n# define WINDOWS_NATIVE\n# include \"glthread/lock.h\"\n#endif\n\n#if defined WINDOWS_NATIVE || defined __CYGWIN__  \n# define WIN32_LEAN_AND_MEAN\n# include <windows.h>\n# include <winnls.h>\n \n \n# ifndef LANG_AFRIKAANS\n# define LANG_AFRIKAANS 0x36\n# endif\n# ifndef LANG_ALBANIAN\n# define LANG_ALBANIAN 0x1c\n# endif\n# ifndef LANG_ALSATIAN\n# define LANG_ALSATIAN 0x84\n# endif\n# ifndef LANG_AMHARIC\n# define LANG_AMHARIC 0x5e\n# endif\n# ifndef LANG_ARABIC\n# define LANG_ARABIC 0x01\n# endif\n# ifndef LANG_ARMENIAN\n# define LANG_ARMENIAN 0x2b\n# endif\n# ifndef LANG_ASSAMESE\n# define LANG_ASSAMESE 0x4d\n# endif\n# ifndef LANG_AZERI\n# define LANG_AZERI 0x2c\n# endif\n# ifndef LANG_BASHKIR\n# define LANG_BASHKIR 0x6d\n# endif\n# ifndef LANG_BASQUE\n# define LANG_BASQUE 0x2d\n# endif\n# ifndef LANG_BELARUSIAN\n# define LANG_BELARUSIAN 0x23\n# endif\n# ifndef LANG_BENGALI\n# define LANG_BENGALI 0x45\n# endif\n# ifndef LANG_BRETON\n# define LANG_BRETON 0x7e\n# endif\n# ifndef LANG_BURMESE\n# define LANG_BURMESE 0x55\n# endif\n# ifndef LANG_CAMBODIAN\n# define LANG_CAMBODIAN 0x53\n# endif\n# ifndef LANG_CATALAN\n# define LANG_CATALAN 0x03\n# endif\n# ifndef LANG_CHEROKEE\n# define LANG_CHEROKEE 0x5c\n# endif\n# ifndef LANG_CORSICAN\n# define LANG_CORSICAN 0x83\n# endif\n# ifndef LANG_DARI\n# define LANG_DARI 0x8c\n# endif\n# ifndef LANG_DIVEHI\n# define LANG_DIVEHI 0x65\n# endif\n# ifndef LANG_EDO\n# define LANG_EDO 0x66\n# endif\n# ifndef LANG_ESTONIAN\n# define LANG_ESTONIAN 0x25\n# endif\n# ifndef LANG_FAEROESE\n# define LANG_FAEROESE 0x38\n# endif\n# ifndef LANG_FARSI\n# define LANG_FARSI 0x29\n# endif\n# ifndef LANG_FRISIAN\n# define LANG_FRISIAN 0x62\n# endif\n# ifndef LANG_FULFULDE\n# define LANG_FULFULDE 0x67\n# endif\n# ifndef LANG_GAELIC\n# define LANG_GAELIC 0x3c\n# endif\n# ifndef LANG_GALICIAN\n# define LANG_GALICIAN 0x56\n# endif\n# ifndef LANG_GEORGIAN\n# define LANG_GEORGIAN 0x37\n# endif\n# ifndef LANG_GREENLANDIC\n# define LANG_GREENLANDIC 0x6f\n# endif\n# ifndef LANG_GUARANI\n# define LANG_GUARANI 0x74\n# endif\n# ifndef LANG_GUJARATI\n# define LANG_GUJARATI 0x47\n# endif\n# ifndef LANG_HAUSA\n# define LANG_HAUSA 0x68\n# endif\n# ifndef LANG_HAWAIIAN\n# define LANG_HAWAIIAN 0x75\n# endif\n# ifndef LANG_HEBREW\n# define LANG_HEBREW 0x0d\n# endif\n# ifndef LANG_HINDI\n# define LANG_HINDI 0x39\n# endif\n# ifndef LANG_IBIBIO\n# define LANG_IBIBIO 0x69\n# endif\n# ifndef LANG_IGBO\n# define LANG_IGBO 0x70\n# endif\n# ifndef LANG_INDONESIAN\n# define LANG_INDONESIAN 0x21\n# endif\n# ifndef LANG_INUKTITUT\n# define LANG_INUKTITUT 0x5d\n# endif\n# ifndef LANG_KANNADA\n# define LANG_KANNADA 0x4b\n# endif\n# ifndef LANG_KANURI\n# define LANG_KANURI 0x71\n# endif\n# ifndef LANG_KASHMIRI\n# define LANG_KASHMIRI 0x60\n# endif\n# ifndef LANG_KAZAK\n# define LANG_KAZAK 0x3f\n# endif\n# ifndef LANG_KICHE\n# define LANG_KICHE 0x86\n# endif\n# ifndef LANG_KINYARWANDA\n# define LANG_KINYARWANDA 0x87\n# endif\n# ifndef LANG_KONKANI\n# define LANG_KONKANI 0x57\n# endif\n# ifndef LANG_KYRGYZ\n# define LANG_KYRGYZ 0x40\n# endif\n# ifndef LANG_LAO\n# define LANG_LAO 0x54\n# endif\n# ifndef LANG_LATIN\n# define LANG_LATIN 0x76\n# endif\n# ifndef LANG_LATVIAN\n# define LANG_LATVIAN 0x26\n# endif\n# ifndef LANG_LITHUANIAN\n# define LANG_LITHUANIAN 0x27\n# endif\n# ifndef LANG_LUXEMBOURGISH\n# define LANG_LUXEMBOURGISH 0x6e\n# endif\n# ifndef LANG_MACEDONIAN\n# define LANG_MACEDONIAN 0x2f\n# endif\n# ifndef LANG_MALAY\n# define LANG_MALAY 0x3e\n# endif\n# ifndef LANG_MALAYALAM\n# define LANG_MALAYALAM 0x4c\n# endif\n# ifndef LANG_MALTESE\n# define LANG_MALTESE 0x3a\n# endif\n# ifndef LANG_MANIPURI\n# define LANG_MANIPURI 0x58\n# endif\n# ifndef LANG_MAORI\n# define LANG_MAORI 0x81\n# endif\n# ifndef LANG_MAPUDUNGUN\n# define LANG_MAPUDUNGUN 0x7a\n# endif\n# ifndef LANG_MARATHI\n# define LANG_MARATHI 0x4e\n# endif\n# ifndef LANG_MOHAWK\n# define LANG_MOHAWK 0x7c\n# endif\n# ifndef LANG_MONGOLIAN\n# define LANG_MONGOLIAN 0x50\n# endif\n# ifndef LANG_NEPALI\n# define LANG_NEPALI 0x61\n# endif\n# ifndef LANG_OCCITAN\n# define LANG_OCCITAN 0x82\n# endif\n# ifndef LANG_ORIYA\n# define LANG_ORIYA 0x48\n# endif\n# ifndef LANG_OROMO\n# define LANG_OROMO 0x72\n# endif\n# ifndef LANG_PAPIAMENTU\n# define LANG_PAPIAMENTU 0x79\n# endif\n# ifndef LANG_PASHTO\n# define LANG_PASHTO 0x63\n# endif\n# ifndef LANG_PUNJABI\n# define LANG_PUNJABI 0x46\n# endif\n# ifndef LANG_QUECHUA\n# define LANG_QUECHUA 0x6b\n# endif\n# ifndef LANG_ROMANSH\n# define LANG_ROMANSH 0x17\n# endif\n# ifndef LANG_SAMI\n# define LANG_SAMI 0x3b\n# endif\n# ifndef LANG_SANSKRIT\n# define LANG_SANSKRIT 0x4f\n# endif\n# ifndef LANG_SCOTTISH_GAELIC\n# define LANG_SCOTTISH_GAELIC 0x91\n# endif\n# ifndef LANG_SERBIAN\n# define LANG_SERBIAN 0x1a\n# endif\n# ifndef LANG_SINDHI\n# define LANG_SINDHI 0x59\n# endif\n# ifndef LANG_SINHALESE\n# define LANG_SINHALESE 0x5b\n# endif\n# ifndef LANG_SLOVAK\n# define LANG_SLOVAK 0x1b\n# endif\n# ifndef LANG_SOMALI\n# define LANG_SOMALI 0x77\n# endif\n# ifndef LANG_SORBIAN\n# define LANG_SORBIAN 0x2e\n# endif\n# ifndef LANG_SOTHO\n# define LANG_SOTHO 0x6c\n# endif\n# ifndef LANG_SUTU\n# define LANG_SUTU 0x30\n# endif\n# ifndef LANG_SWAHILI\n# define LANG_SWAHILI 0x41\n# endif\n# ifndef LANG_SYRIAC\n# define LANG_SYRIAC 0x5a\n# endif\n# ifndef LANG_TAGALOG\n# define LANG_TAGALOG 0x64\n# endif\n# ifndef LANG_TAJIK\n# define LANG_TAJIK 0x28\n# endif\n# ifndef LANG_TAMAZIGHT\n# define LANG_TAMAZIGHT 0x5f\n# endif\n# ifndef LANG_TAMIL\n# define LANG_TAMIL 0x49\n# endif\n# ifndef LANG_TATAR\n# define LANG_TATAR 0x44\n# endif\n# ifndef LANG_TELUGU\n# define LANG_TELUGU 0x4a\n# endif\n# ifndef LANG_THAI\n# define LANG_THAI 0x1e\n# endif\n# ifndef LANG_TIBETAN\n# define LANG_TIBETAN 0x51\n# endif\n# ifndef LANG_TIGRINYA\n# define LANG_TIGRINYA 0x73\n# endif\n# ifndef LANG_TSONGA\n# define LANG_TSONGA 0x31\n# endif\n# ifndef LANG_TSWANA\n# define LANG_TSWANA 0x32\n# endif\n# ifndef LANG_TURKMEN\n# define LANG_TURKMEN 0x42\n# endif\n# ifndef LANG_UIGHUR\n# define LANG_UIGHUR 0x80\n# endif\n# ifndef LANG_UKRAINIAN\n# define LANG_UKRAINIAN 0x22\n# endif\n# ifndef LANG_URDU\n# define LANG_URDU 0x20\n# endif\n# ifndef LANG_UZBEK\n# define LANG_UZBEK 0x43\n# endif\n# ifndef LANG_VENDA\n# define LANG_VENDA 0x33\n# endif\n# ifndef LANG_VIETNAMESE\n# define LANG_VIETNAMESE 0x2a\n# endif\n# ifndef LANG_WELSH\n# define LANG_WELSH 0x52\n# endif\n# ifndef LANG_WOLOF\n# define LANG_WOLOF 0x88\n# endif\n# ifndef LANG_XHOSA\n# define LANG_XHOSA 0x34\n# endif\n# ifndef LANG_YAKUT\n# define LANG_YAKUT 0x85\n# endif\n# ifndef LANG_YI\n# define LANG_YI 0x78\n# endif\n# ifndef LANG_YIDDISH\n# define LANG_YIDDISH 0x3d\n# endif\n# ifndef LANG_YORUBA\n# define LANG_YORUBA 0x6a\n# endif\n# ifndef LANG_ZULU\n# define LANG_ZULU 0x35\n# endif\n# ifndef SUBLANG_AFRIKAANS_SOUTH_AFRICA\n# define SUBLANG_AFRIKAANS_SOUTH_AFRICA 0x01\n# endif\n# ifndef SUBLANG_ALBANIAN_ALBANIA\n# define SUBLANG_ALBANIAN_ALBANIA 0x01\n# endif\n# ifndef SUBLANG_ALSATIAN_FRANCE\n# define SUBLANG_ALSATIAN_FRANCE 0x01\n# endif\n# ifndef SUBLANG_AMHARIC_ETHIOPIA\n# define SUBLANG_AMHARIC_ETHIOPIA 0x01\n# endif\n# ifndef SUBLANG_ARABIC_SAUDI_ARABIA\n# define SUBLANG_ARABIC_SAUDI_ARABIA 0x01\n# endif\n# ifndef SUBLANG_ARABIC_IRAQ\n# define SUBLANG_ARABIC_IRAQ 0x02\n# endif\n# ifndef SUBLANG_ARABIC_EGYPT\n# define SUBLANG_ARABIC_EGYPT 0x03\n# endif\n# ifndef SUBLANG_ARABIC_LIBYA\n# define SUBLANG_ARABIC_LIBYA 0x04\n# endif\n# ifndef SUBLANG_ARABIC_ALGERIA\n# define SUBLANG_ARABIC_ALGERIA 0x05\n# endif\n# ifndef SUBLANG_ARABIC_MOROCCO\n# define SUBLANG_ARABIC_MOROCCO 0x06\n# endif\n# ifndef SUBLANG_ARABIC_TUNISIA\n# define SUBLANG_ARABIC_TUNISIA 0x07\n# endif\n# ifndef SUBLANG_ARABIC_OMAN\n# define SUBLANG_ARABIC_OMAN 0x08\n# endif\n# ifndef SUBLANG_ARABIC_YEMEN\n# define SUBLANG_ARABIC_YEMEN 0x09\n# endif\n# ifndef SUBLANG_ARABIC_SYRIA\n# define SUBLANG_ARABIC_SYRIA 0x0a\n# endif\n# ifndef SUBLANG_ARABIC_JORDAN\n# define SUBLANG_ARABIC_JORDAN 0x0b\n# endif\n# ifndef SUBLANG_ARABIC_LEBANON\n# define SUBLANG_ARABIC_LEBANON 0x0c\n# endif\n# ifndef SUBLANG_ARABIC_KUWAIT\n# define SUBLANG_ARABIC_KUWAIT 0x0d\n# endif\n# ifndef SUBLANG_ARABIC_UAE\n# define SUBLANG_ARABIC_UAE 0x0e\n# endif\n# ifndef SUBLANG_ARABIC_BAHRAIN\n# define SUBLANG_ARABIC_BAHRAIN 0x0f\n# endif\n# ifndef SUBLANG_ARABIC_QATAR\n# define SUBLANG_ARABIC_QATAR 0x10\n# endif\n# ifndef SUBLANG_ARMENIAN_ARMENIA\n# define SUBLANG_ARMENIAN_ARMENIA 0x01\n# endif\n# ifndef SUBLANG_ASSAMESE_INDIA\n# define SUBLANG_ASSAMESE_INDIA 0x01\n# endif\n# ifndef SUBLANG_AZERI_LATIN\n# define SUBLANG_AZERI_LATIN 0x01\n# endif\n# ifndef SUBLANG_AZERI_CYRILLIC\n# define SUBLANG_AZERI_CYRILLIC 0x02\n# endif\n# ifndef SUBLANG_BASHKIR_RUSSIA\n# define SUBLANG_BASHKIR_RUSSIA 0x01\n# endif\n# ifndef SUBLANG_BASQUE_BASQUE\n# define SUBLANG_BASQUE_BASQUE 0x01\n# endif\n# ifndef SUBLANG_BELARUSIAN_BELARUS\n# define SUBLANG_BELARUSIAN_BELARUS 0x01\n# endif\n# ifndef SUBLANG_BENGALI_INDIA\n# define SUBLANG_BENGALI_INDIA 0x01\n# endif\n# ifndef SUBLANG_BENGALI_BANGLADESH\n# define SUBLANG_BENGALI_BANGLADESH 0x02\n# endif\n# ifndef SUBLANG_BOSNIAN_BOSNIA_HERZEGOVINA_LATIN\n# define SUBLANG_BOSNIAN_BOSNIA_HERZEGOVINA_LATIN 0x05\n# endif\n# ifndef SUBLANG_BOSNIAN_BOSNIA_HERZEGOVINA_CYRILLIC\n# define SUBLANG_BOSNIAN_BOSNIA_HERZEGOVINA_CYRILLIC 0x08\n# endif\n# ifndef SUBLANG_BRETON_FRANCE\n# define SUBLANG_BRETON_FRANCE 0x01\n# endif\n# ifndef SUBLANG_BULGARIAN_BULGARIA\n# define SUBLANG_BULGARIAN_BULGARIA 0x01\n# endif\n# ifndef SUBLANG_CAMBODIAN_CAMBODIA\n# define SUBLANG_CAMBODIAN_CAMBODIA 0x01\n# endif\n# ifndef SUBLANG_CATALAN_SPAIN\n# define SUBLANG_CATALAN_SPAIN 0x01\n# endif\n# ifndef SUBLANG_CORSICAN_FRANCE\n# define SUBLANG_CORSICAN_FRANCE 0x01\n# endif\n# ifndef SUBLANG_CROATIAN_CROATIA\n# define SUBLANG_CROATIAN_CROATIA 0x01\n# endif\n# ifndef SUBLANG_CROATIAN_BOSNIA_HERZEGOVINA_LATIN\n# define SUBLANG_CROATIAN_BOSNIA_HERZEGOVINA_LATIN 0x04\n# endif\n# ifndef SUBLANG_CHINESE_MACAU\n# define SUBLANG_CHINESE_MACAU 0x05\n# endif\n# ifndef SUBLANG_CZECH_CZECH_REPUBLIC\n# define SUBLANG_CZECH_CZECH_REPUBLIC 0x01\n# endif\n# ifndef SUBLANG_DANISH_DENMARK\n# define SUBLANG_DANISH_DENMARK 0x01\n# endif\n# ifndef SUBLANG_DARI_AFGHANISTAN\n# define SUBLANG_DARI_AFGHANISTAN 0x01\n# endif\n# ifndef SUBLANG_DIVEHI_MALDIVES\n# define SUBLANG_DIVEHI_MALDIVES 0x01\n# endif\n# ifndef SUBLANG_DUTCH_SURINAM\n# define SUBLANG_DUTCH_SURINAM 0x03\n# endif\n# ifndef SUBLANG_ENGLISH_SOUTH_AFRICA\n# define SUBLANG_ENGLISH_SOUTH_AFRICA 0x07\n# endif\n# ifndef SUBLANG_ENGLISH_JAMAICA\n# define SUBLANG_ENGLISH_JAMAICA 0x08\n# endif\n# ifndef SUBLANG_ENGLISH_CARIBBEAN\n# define SUBLANG_ENGLISH_CARIBBEAN 0x09\n# endif\n# ifndef SUBLANG_ENGLISH_BELIZE\n# define SUBLANG_ENGLISH_BELIZE 0x0a\n# endif\n# ifndef SUBLANG_ENGLISH_TRINIDAD\n# define SUBLANG_ENGLISH_TRINIDAD 0x0b\n# endif\n# ifndef SUBLANG_ENGLISH_ZIMBABWE\n# define SUBLANG_ENGLISH_ZIMBABWE 0x0c\n# endif\n# ifndef SUBLANG_ENGLISH_PHILIPPINES\n# define SUBLANG_ENGLISH_PHILIPPINES 0x0d\n# endif\n# ifndef SUBLANG_ENGLISH_INDONESIA\n# define SUBLANG_ENGLISH_INDONESIA 0x0e\n# endif\n# ifndef SUBLANG_ENGLISH_HONGKONG\n# define SUBLANG_ENGLISH_HONGKONG 0x0f\n# endif\n# ifndef SUBLANG_ENGLISH_INDIA\n# define SUBLANG_ENGLISH_INDIA 0x10\n# endif\n# ifndef SUBLANG_ENGLISH_MALAYSIA\n# define SUBLANG_ENGLISH_MALAYSIA 0x11\n# endif\n# ifndef SUBLANG_ENGLISH_SINGAPORE\n# define SUBLANG_ENGLISH_SINGAPORE 0x12\n# endif\n# ifndef SUBLANG_ESTONIAN_ESTONIA\n# define SUBLANG_ESTONIAN_ESTONIA 0x01\n# endif\n# ifndef SUBLANG_FAEROESE_FAROE_ISLANDS\n# define SUBLANG_FAEROESE_FAROE_ISLANDS 0x01\n# endif\n# ifndef SUBLANG_FARSI_IRAN\n# define SUBLANG_FARSI_IRAN 0x01\n# endif\n# ifndef SUBLANG_FINNISH_FINLAND\n# define SUBLANG_FINNISH_FINLAND 0x01\n# endif\n# ifndef SUBLANG_FRENCH_LUXEMBOURG\n# define SUBLANG_FRENCH_LUXEMBOURG 0x05\n# endif\n# ifndef SUBLANG_FRENCH_MONACO\n# define SUBLANG_FRENCH_MONACO 0x06\n# endif\n# ifndef SUBLANG_FRENCH_WESTINDIES\n# define SUBLANG_FRENCH_WESTINDIES 0x07\n# endif\n# ifndef SUBLANG_FRENCH_REUNION\n# define SUBLANG_FRENCH_REUNION 0x08\n# endif\n# ifndef SUBLANG_FRENCH_CONGO\n# define SUBLANG_FRENCH_CONGO 0x09\n# endif\n# ifndef SUBLANG_FRENCH_SENEGAL\n# define SUBLANG_FRENCH_SENEGAL 0x0a\n# endif\n# ifndef SUBLANG_FRENCH_CAMEROON\n# define SUBLANG_FRENCH_CAMEROON 0x0b\n# endif\n# ifndef SUBLANG_FRENCH_COTEDIVOIRE\n# define SUBLANG_FRENCH_COTEDIVOIRE 0x0c\n# endif\n# ifndef SUBLANG_FRENCH_MALI\n# define SUBLANG_FRENCH_MALI 0x0d\n# endif\n# ifndef SUBLANG_FRENCH_MOROCCO\n# define SUBLANG_FRENCH_MOROCCO 0x0e\n# endif\n# ifndef SUBLANG_FRENCH_HAITI\n# define SUBLANG_FRENCH_HAITI 0x0f\n# endif\n# ifndef SUBLANG_FRISIAN_NETHERLANDS\n# define SUBLANG_FRISIAN_NETHERLANDS 0x01\n# endif\n# ifndef SUBLANG_GALICIAN_SPAIN\n# define SUBLANG_GALICIAN_SPAIN 0x01\n# endif\n# ifndef SUBLANG_GEORGIAN_GEORGIA\n# define SUBLANG_GEORGIAN_GEORGIA 0x01\n# endif\n# ifndef SUBLANG_GERMAN_LUXEMBOURG\n# define SUBLANG_GERMAN_LUXEMBOURG 0x04\n# endif\n# ifndef SUBLANG_GERMAN_LIECHTENSTEIN\n# define SUBLANG_GERMAN_LIECHTENSTEIN 0x05\n# endif\n# ifndef SUBLANG_GREEK_GREECE\n# define SUBLANG_GREEK_GREECE 0x01\n# endif\n# ifndef SUBLANG_GREENLANDIC_GREENLAND\n# define SUBLANG_GREENLANDIC_GREENLAND 0x01\n# endif\n# ifndef SUBLANG_GUJARATI_INDIA\n# define SUBLANG_GUJARATI_INDIA 0x01\n# endif\n# ifndef SUBLANG_HAUSA_NIGERIA_LATIN\n# define SUBLANG_HAUSA_NIGERIA_LATIN 0x01\n# endif\n# ifndef SUBLANG_HEBREW_ISRAEL\n# define SUBLANG_HEBREW_ISRAEL 0x01\n# endif\n# ifndef SUBLANG_HINDI_INDIA\n# define SUBLANG_HINDI_INDIA 0x01\n# endif\n# ifndef SUBLANG_HUNGARIAN_HUNGARY\n# define SUBLANG_HUNGARIAN_HUNGARY 0x01\n# endif\n# ifndef SUBLANG_ICELANDIC_ICELAND\n# define SUBLANG_ICELANDIC_ICELAND 0x01\n# endif\n# ifndef SUBLANG_IGBO_NIGERIA\n# define SUBLANG_IGBO_NIGERIA 0x01\n# endif\n# ifndef SUBLANG_INDONESIAN_INDONESIA\n# define SUBLANG_INDONESIAN_INDONESIA 0x01\n# endif\n# ifndef SUBLANG_INUKTITUT_CANADA\n# define SUBLANG_INUKTITUT_CANADA 0x01\n# endif\n# undef SUBLANG_INUKTITUT_CANADA_LATIN\n# define SUBLANG_INUKTITUT_CANADA_LATIN 0x02\n# undef SUBLANG_IRISH_IRELAND\n# define SUBLANG_IRISH_IRELAND 0x02\n# ifndef SUBLANG_JAPANESE_JAPAN\n# define SUBLANG_JAPANESE_JAPAN 0x01\n# endif\n# ifndef SUBLANG_KANNADA_INDIA\n# define SUBLANG_KANNADA_INDIA 0x01\n# endif\n# ifndef SUBLANG_KASHMIRI_INDIA\n# define SUBLANG_KASHMIRI_INDIA 0x02\n# endif\n# ifndef SUBLANG_KAZAK_KAZAKHSTAN\n# define SUBLANG_KAZAK_KAZAKHSTAN 0x01\n# endif\n# ifndef SUBLANG_KICHE_GUATEMALA\n# define SUBLANG_KICHE_GUATEMALA 0x01\n# endif\n# ifndef SUBLANG_KINYARWANDA_RWANDA\n# define SUBLANG_KINYARWANDA_RWANDA 0x01\n# endif\n# ifndef SUBLANG_KONKANI_INDIA\n# define SUBLANG_KONKANI_INDIA 0x01\n# endif\n# ifndef SUBLANG_KYRGYZ_KYRGYZSTAN\n# define SUBLANG_KYRGYZ_KYRGYZSTAN 0x01\n# endif\n# ifndef SUBLANG_LAO_LAOS\n# define SUBLANG_LAO_LAOS 0x01\n# endif\n# ifndef SUBLANG_LATVIAN_LATVIA\n# define SUBLANG_LATVIAN_LATVIA 0x01\n# endif\n# ifndef SUBLANG_LITHUANIAN_LITHUANIA\n# define SUBLANG_LITHUANIAN_LITHUANIA 0x01\n# endif\n# undef SUBLANG_LOWER_SORBIAN_GERMANY\n# define SUBLANG_LOWER_SORBIAN_GERMANY 0x02\n# ifndef SUBLANG_LUXEMBOURGISH_LUXEMBOURG\n# define SUBLANG_LUXEMBOURGISH_LUXEMBOURG 0x01\n# endif\n# ifndef SUBLANG_MACEDONIAN_MACEDONIA\n# define SUBLANG_MACEDONIAN_MACEDONIA 0x01\n# endif\n# ifndef SUBLANG_MALAY_MALAYSIA\n# define SUBLANG_MALAY_MALAYSIA 0x01\n# endif\n# ifndef SUBLANG_MALAY_BRUNEI_DARUSSALAM\n# define SUBLANG_MALAY_BRUNEI_DARUSSALAM 0x02\n# endif\n# ifndef SUBLANG_MALAYALAM_INDIA\n# define SUBLANG_MALAYALAM_INDIA 0x01\n# endif\n# ifndef SUBLANG_MALTESE_MALTA\n# define SUBLANG_MALTESE_MALTA 0x01\n# endif\n# ifndef SUBLANG_MAORI_NEW_ZEALAND\n# define SUBLANG_MAORI_NEW_ZEALAND 0x01\n# endif\n# ifndef SUBLANG_MAPUDUNGUN_CHILE\n# define SUBLANG_MAPUDUNGUN_CHILE 0x01\n# endif\n# ifndef SUBLANG_MARATHI_INDIA\n# define SUBLANG_MARATHI_INDIA 0x01\n# endif\n# ifndef SUBLANG_MOHAWK_CANADA\n# define SUBLANG_MOHAWK_CANADA 0x01\n# endif\n# ifndef SUBLANG_MONGOLIAN_CYRILLIC_MONGOLIA\n# define SUBLANG_MONGOLIAN_CYRILLIC_MONGOLIA 0x01\n# endif\n# ifndef SUBLANG_MONGOLIAN_PRC\n# define SUBLANG_MONGOLIAN_PRC 0x02\n# endif\n# ifndef SUBLANG_NEPALI_NEPAL\n# define SUBLANG_NEPALI_NEPAL 0x01\n# endif\n# ifndef SUBLANG_NEPALI_INDIA\n# define SUBLANG_NEPALI_INDIA 0x02\n# endif\n# ifndef SUBLANG_OCCITAN_FRANCE\n# define SUBLANG_OCCITAN_FRANCE 0x01\n# endif\n# ifndef SUBLANG_ORIYA_INDIA\n# define SUBLANG_ORIYA_INDIA 0x01\n# endif\n# ifndef SUBLANG_PASHTO_AFGHANISTAN\n# define SUBLANG_PASHTO_AFGHANISTAN 0x01\n# endif\n# ifndef SUBLANG_POLISH_POLAND\n# define SUBLANG_POLISH_POLAND 0x01\n# endif\n# ifndef SUBLANG_PUNJABI_INDIA\n# define SUBLANG_PUNJABI_INDIA 0x01\n# endif\n# ifndef SUBLANG_PUNJABI_PAKISTAN\n# define SUBLANG_PUNJABI_PAKISTAN 0x02\n# endif\n# ifndef SUBLANG_QUECHUA_BOLIVIA\n# define SUBLANG_QUECHUA_BOLIVIA 0x01\n# endif\n# ifndef SUBLANG_QUECHUA_ECUADOR\n# define SUBLANG_QUECHUA_ECUADOR 0x02\n# endif\n# ifndef SUBLANG_QUECHUA_PERU\n# define SUBLANG_QUECHUA_PERU 0x03\n# endif\n# ifndef SUBLANG_ROMANIAN_ROMANIA\n# define SUBLANG_ROMANIAN_ROMANIA 0x01\n# endif\n# ifndef SUBLANG_ROMANIAN_MOLDOVA\n# define SUBLANG_ROMANIAN_MOLDOVA 0x02\n# endif\n# ifndef SUBLANG_ROMANSH_SWITZERLAND\n# define SUBLANG_ROMANSH_SWITZERLAND 0x01\n# endif\n# ifndef SUBLANG_RUSSIAN_RUSSIA\n# define SUBLANG_RUSSIAN_RUSSIA 0x01\n# endif\n# ifndef SUBLANG_RUSSIAN_MOLDAVIA\n# define SUBLANG_RUSSIAN_MOLDAVIA 0x02\n# endif\n# ifndef SUBLANG_SAMI_NORTHERN_NORWAY\n# define SUBLANG_SAMI_NORTHERN_NORWAY 0x01\n# endif\n# ifndef SUBLANG_SAMI_NORTHERN_SWEDEN\n# define SUBLANG_SAMI_NORTHERN_SWEDEN 0x02\n# endif\n# ifndef SUBLANG_SAMI_NORTHERN_FINLAND\n# define SUBLANG_SAMI_NORTHERN_FINLAND 0x03\n# endif\n# ifndef SUBLANG_SAMI_LULE_NORWAY\n# define SUBLANG_SAMI_LULE_NORWAY 0x04\n# endif\n# ifndef SUBLANG_SAMI_LULE_SWEDEN\n# define SUBLANG_SAMI_LULE_SWEDEN 0x05\n# endif\n# ifndef SUBLANG_SAMI_SOUTHERN_NORWAY\n# define SUBLANG_SAMI_SOUTHERN_NORWAY 0x06\n# endif\n# ifndef SUBLANG_SAMI_SOUTHERN_SWEDEN\n# define SUBLANG_SAMI_SOUTHERN_SWEDEN 0x07\n# endif\n# undef SUBLANG_SAMI_SKOLT_FINLAND\n# define SUBLANG_SAMI_SKOLT_FINLAND 0x08\n# undef SUBLANG_SAMI_INARI_FINLAND\n# define SUBLANG_SAMI_INARI_FINLAND 0x09\n# ifndef SUBLANG_SANSKRIT_INDIA\n# define SUBLANG_SANSKRIT_INDIA 0x01\n# endif\n# ifndef SUBLANG_SERBIAN_LATIN\n# define SUBLANG_SERBIAN_LATIN 0x02\n# endif\n# ifndef SUBLANG_SERBIAN_CYRILLIC\n# define SUBLANG_SERBIAN_CYRILLIC 0x03\n# endif\n# ifndef SUBLANG_SINDHI_INDIA\n# define SUBLANG_SINDHI_INDIA 0x01\n# endif\n# undef SUBLANG_SINDHI_PAKISTAN\n# define SUBLANG_SINDHI_PAKISTAN 0x02\n# ifndef SUBLANG_SINDHI_AFGHANISTAN\n# define SUBLANG_SINDHI_AFGHANISTAN 0x02\n# endif\n# ifndef SUBLANG_SINHALESE_SRI_LANKA\n# define SUBLANG_SINHALESE_SRI_LANKA 0x01\n# endif\n# ifndef SUBLANG_SLOVAK_SLOVAKIA\n# define SUBLANG_SLOVAK_SLOVAKIA 0x01\n# endif\n# ifndef SUBLANG_SLOVENIAN_SLOVENIA\n# define SUBLANG_SLOVENIAN_SLOVENIA 0x01\n# endif\n# ifndef SUBLANG_SOTHO_SOUTH_AFRICA\n# define SUBLANG_SOTHO_SOUTH_AFRICA 0x01\n# endif\n# ifndef SUBLANG_SPANISH_GUATEMALA\n# define SUBLANG_SPANISH_GUATEMALA 0x04\n# endif\n# ifndef SUBLANG_SPANISH_COSTA_RICA\n# define SUBLANG_SPANISH_COSTA_RICA 0x05\n# endif\n# ifndef SUBLANG_SPANISH_PANAMA\n# define SUBLANG_SPANISH_PANAMA 0x06\n# endif\n# ifndef SUBLANG_SPANISH_DOMINICAN_REPUBLIC\n# define SUBLANG_SPANISH_DOMINICAN_REPUBLIC 0x07\n# endif\n# ifndef SUBLANG_SPANISH_VENEZUELA\n# define SUBLANG_SPANISH_VENEZUELA 0x08\n# endif\n# ifndef SUBLANG_SPANISH_COLOMBIA\n# define SUBLANG_SPANISH_COLOMBIA 0x09\n# endif\n# ifndef SUBLANG_SPANISH_PERU\n# define SUBLANG_SPANISH_PERU 0x0a\n# endif\n# ifndef SUBLANG_SPANISH_ARGENTINA\n# define SUBLANG_SPANISH_ARGENTINA 0x0b\n# endif\n# ifndef SUBLANG_SPANISH_ECUADOR\n# define SUBLANG_SPANISH_ECUADOR 0x0c\n# endif\n# ifndef SUBLANG_SPANISH_CHILE\n# define SUBLANG_SPANISH_CHILE 0x0d\n# endif\n# ifndef SUBLANG_SPANISH_URUGUAY\n# define SUBLANG_SPANISH_URUGUAY 0x0e\n# endif\n# ifndef SUBLANG_SPANISH_PARAGUAY\n# define SUBLANG_SPANISH_PARAGUAY 0x0f\n# endif\n# ifndef SUBLANG_SPANISH_BOLIVIA\n# define SUBLANG_SPANISH_BOLIVIA 0x10\n# endif\n# ifndef SUBLANG_SPANISH_EL_SALVADOR\n# define SUBLANG_SPANISH_EL_SALVADOR 0x11\n# endif\n# ifndef SUBLANG_SPANISH_HONDURAS\n# define SUBLANG_SPANISH_HONDURAS 0x12\n# endif\n# ifndef SUBLANG_SPANISH_NICARAGUA\n# define SUBLANG_SPANISH_NICARAGUA 0x13\n# endif\n# ifndef SUBLANG_SPANISH_PUERTO_RICO\n# define SUBLANG_SPANISH_PUERTO_RICO 0x14\n# endif\n# ifndef SUBLANG_SPANISH_US\n# define SUBLANG_SPANISH_US 0x15\n# endif\n# ifndef SUBLANG_SWAHILI_KENYA\n# define SUBLANG_SWAHILI_KENYA 0x01\n# endif\n# ifndef SUBLANG_SWEDISH_SWEDEN\n# define SUBLANG_SWEDISH_SWEDEN 0x01\n# endif\n# ifndef SUBLANG_SWEDISH_FINLAND\n# define SUBLANG_SWEDISH_FINLAND 0x02\n# endif\n# ifndef SUBLANG_SYRIAC_SYRIA\n# define SUBLANG_SYRIAC_SYRIA 0x01\n# endif\n# ifndef SUBLANG_TAGALOG_PHILIPPINES\n# define SUBLANG_TAGALOG_PHILIPPINES 0x01\n# endif\n# ifndef SUBLANG_TAJIK_TAJIKISTAN\n# define SUBLANG_TAJIK_TAJIKISTAN 0x01\n# endif\n# ifndef SUBLANG_TAMAZIGHT_ARABIC\n# define SUBLANG_TAMAZIGHT_ARABIC 0x01\n# endif\n# ifndef SUBLANG_TAMAZIGHT_ALGERIA_LATIN\n# define SUBLANG_TAMAZIGHT_ALGERIA_LATIN 0x02\n# endif\n# ifndef SUBLANG_TAMIL_INDIA\n# define SUBLANG_TAMIL_INDIA 0x01\n# endif\n# ifndef SUBLANG_TATAR_RUSSIA\n# define SUBLANG_TATAR_RUSSIA 0x01\n# endif\n# ifndef SUBLANG_TELUGU_INDIA\n# define SUBLANG_TELUGU_INDIA 0x01\n# endif\n# ifndef SUBLANG_THAI_THAILAND\n# define SUBLANG_THAI_THAILAND 0x01\n# endif\n# ifndef SUBLANG_TIBETAN_PRC\n# define SUBLANG_TIBETAN_PRC 0x01\n# endif\n# undef SUBLANG_TIBETAN_BHUTAN\n# define SUBLANG_TIBETAN_BHUTAN 0x02\n# ifndef SUBLANG_TIGRINYA_ETHIOPIA\n# define SUBLANG_TIGRINYA_ETHIOPIA 0x01\n# endif\n# ifndef SUBLANG_TIGRINYA_ERITREA\n# define SUBLANG_TIGRINYA_ERITREA 0x02\n# endif\n# ifndef SUBLANG_TSWANA_SOUTH_AFRICA\n# define SUBLANG_TSWANA_SOUTH_AFRICA 0x01\n# endif\n# ifndef SUBLANG_TURKISH_TURKEY\n# define SUBLANG_TURKISH_TURKEY 0x01\n# endif\n# ifndef SUBLANG_TURKMEN_TURKMENISTAN\n# define SUBLANG_TURKMEN_TURKMENISTAN 0x01\n# endif\n# ifndef SUBLANG_UIGHUR_PRC\n# define SUBLANG_UIGHUR_PRC 0x01\n# endif\n# ifndef SUBLANG_UKRAINIAN_UKRAINE\n# define SUBLANG_UKRAINIAN_UKRAINE 0x01\n# endif\n# ifndef SUBLANG_UPPER_SORBIAN_GERMANY\n# define SUBLANG_UPPER_SORBIAN_GERMANY 0x01\n# endif\n# ifndef SUBLANG_URDU_PAKISTAN\n# define SUBLANG_URDU_PAKISTAN 0x01\n# endif\n# ifndef SUBLANG_URDU_INDIA\n# define SUBLANG_URDU_INDIA 0x02\n# endif\n# ifndef SUBLANG_UZBEK_LATIN\n# define SUBLANG_UZBEK_LATIN 0x01\n# endif\n# ifndef SUBLANG_UZBEK_CYRILLIC\n# define SUBLANG_UZBEK_CYRILLIC 0x02\n# endif\n# ifndef SUBLANG_VIETNAMESE_VIETNAM\n# define SUBLANG_VIETNAMESE_VIETNAM 0x01\n# endif\n# ifndef SUBLANG_WELSH_UNITED_KINGDOM\n# define SUBLANG_WELSH_UNITED_KINGDOM 0x01\n# endif\n# ifndef SUBLANG_WOLOF_SENEGAL\n# define SUBLANG_WOLOF_SENEGAL 0x01\n# endif\n# ifndef SUBLANG_XHOSA_SOUTH_AFRICA\n# define SUBLANG_XHOSA_SOUTH_AFRICA 0x01\n# endif\n# ifndef SUBLANG_YAKUT_RUSSIA\n# define SUBLANG_YAKUT_RUSSIA 0x01\n# endif\n# ifndef SUBLANG_YI_PRC\n# define SUBLANG_YI_PRC 0x01\n# endif\n# ifndef SUBLANG_YORUBA_NIGERIA\n# define SUBLANG_YORUBA_NIGERIA 0x01\n# endif\n# ifndef SUBLANG_ZULU_SOUTH_AFRICA\n# define SUBLANG_ZULU_SOUTH_AFRICA 0x01\n# endif\n \n# ifndef LOCALE_SNAME\n# define LOCALE_SNAME 0x5c\n# endif\n# ifndef LOCALE_NAME_MAX_LENGTH\n# define LOCALE_NAME_MAX_LENGTH 85\n# endif\n \n# undef GetLocaleInfo\n# define GetLocaleInfo GetLocaleInfoA\n# undef EnumSystemLocales\n# define EnumSystemLocales EnumSystemLocalesA\n#endif\n\n \n#undef setlocale\n\n\n#if HAVE_CFPREFERENCESCOPYAPPVALUE\n \n\n \n# if !defined IN_LIBINTL\nstatic\n# endif\nvoid\ngl_locale_name_canonicalize (char *name)\n{\n   \n  typedef struct { const char legacy[21+1]; const char unixy[5+1]; }\n          legacy_entry;\n  static const legacy_entry legacy_table[] = {\n    { \"Afrikaans\",             \"af\" },\n    { \"Albanian\",              \"sq\" },\n    { \"Amharic\",               \"am\" },\n    { \"Arabic\",                \"ar\" },\n    { \"Armenian\",              \"hy\" },\n    { \"Assamese\",              \"as\" },\n    { \"Aymara\",                \"ay\" },\n    { \"Azerbaijani\",           \"az\" },\n    { \"Basque\",                \"eu\" },\n    { \"Belarusian\",            \"be\" },\n    { \"Belorussian\",           \"be\" },\n    { \"Bengali\",               \"bn\" },\n    { \"Brazilian Portugese\",   \"pt_BR\" },\n    { \"Brazilian Portuguese\",  \"pt_BR\" },\n    { \"Breton\",                \"br\" },\n    { \"Bulgarian\",             \"bg\" },\n    { \"Burmese\",               \"my\" },\n    { \"Byelorussian\",          \"be\" },\n    { \"Catalan\",               \"ca\" },\n    { \"Chewa\",                 \"ny\" },\n    { \"Chichewa\",              \"ny\" },\n    { \"Chinese\",               \"zh\" },\n    { \"Chinese, Simplified\",   \"zh_CN\" },\n    { \"Chinese, Traditional\",  \"zh_TW\" },\n    { \"Chinese, Tradtional\",   \"zh_TW\" },\n    { \"Croatian\",              \"hr\" },\n    { \"Czech\",                 \"cs\" },\n    { \"Danish\",                \"da\" },\n    { \"Dutch\",                 \"nl\" },\n    { \"Dzongkha\",              \"dz\" },\n    { \"English\",               \"en\" },\n    { \"Esperanto\",             \"eo\" },\n    { \"Estonian\",              \"et\" },\n    { \"Faroese\",               \"fo\" },\n    { \"Farsi\",                 \"fa\" },\n    { \"Finnish\",               \"fi\" },\n    { \"Flemish\",               \"nl_BE\" },\n    { \"French\",                \"fr\" },\n    { \"Galician\",              \"gl\" },\n    { \"Gallegan\",              \"gl\" },\n    { \"Georgian\",              \"ka\" },\n    { \"German\",                \"de\" },\n    { \"Greek\",                 \"el\" },\n    { \"Greenlandic\",           \"kl\" },\n    { \"Guarani\",               \"gn\" },\n    { \"Gujarati\",              \"gu\" },\n    { \"Hawaiian\",              \"haw\" },  \n    { \"Hebrew\",                \"he\" },\n    { \"Hindi\",                 \"hi\" },\n    { \"Hungarian\",             \"hu\" },\n    { \"Icelandic\",             \"is\" },\n    { \"Indonesian\",            \"id\" },\n    { \"Inuktitut\",             \"iu\" },\n    { \"Irish\",                 \"ga\" },\n    { \"Italian\",               \"it\" },\n    { \"Japanese\",              \"ja\" },\n    { \"Javanese\",              \"jv\" },\n    { \"Kalaallisut\",           \"kl\" },\n    { \"Kannada\",               \"kn\" },\n    { \"Kashmiri\",              \"ks\" },\n    { \"Kazakh\",                \"kk\" },\n    { \"Khmer\",                 \"km\" },\n    { \"Kinyarwanda\",           \"rw\" },\n    { \"Kirghiz\",               \"ky\" },\n    { \"Korean\",                \"ko\" },\n    { \"Kurdish\",               \"ku\" },\n    { \"Latin\",                 \"la\" },\n    { \"Latvian\",               \"lv\" },\n    { \"Lithuanian\",            \"lt\" },\n    { \"Macedonian\",            \"mk\" },\n    { \"Malagasy\",              \"mg\" },\n    { \"Malay\",                 \"ms\" },\n    { \"Malayalam\",             \"ml\" },\n    { \"Maltese\",               \"mt\" },\n    { \"Manx\",                  \"gv\" },\n    { \"Marathi\",               \"mr\" },\n    { \"Moldavian\",             \"mo\" },\n    { \"Mongolian\",             \"mn\" },\n    { \"Nepali\",                \"ne\" },\n    { \"Norwegian\",             \"nb\" },  \n    { \"Nyanja\",                \"ny\" },\n    { \"Nynorsk\",               \"nn\" },\n    { \"Oriya\",                 \"or\" },\n    { \"Oromo\",                 \"om\" },\n    { \"Panjabi\",               \"pa\" },\n    { \"Pashto\",                \"ps\" },\n    { \"Persian\",               \"fa\" },\n    { \"Polish\",                \"pl\" },\n    { \"Portuguese\",            \"pt\" },\n    { \"Portuguese, Brazilian\", \"pt_BR\" },\n    { \"Punjabi\",               \"pa\" },\n    { \"Pushto\",                \"ps\" },\n    { \"Quechua\",               \"qu\" },\n    { \"Romanian\",              \"ro\" },\n    { \"Ruanda\",                \"rw\" },\n    { \"Rundi\",                 \"rn\" },\n    { \"Russian\",               \"ru\" },\n    { \"Sami\",                  \"se_NO\" },  \n    { \"Sanskrit\",              \"sa\" },\n    { \"Scottish\",              \"gd\" },\n    { \"Serbian\",               \"sr\" },\n    { \"Simplified Chinese\",    \"zh_CN\" },\n    { \"Sindhi\",                \"sd\" },\n    { \"Sinhalese\",             \"si\" },\n    { \"Slovak\",                \"sk\" },\n    { \"Slovenian\",             \"sl\" },\n    { \"Somali\",                \"so\" },\n    { \"Spanish\",               \"es\" },\n    { \"Sundanese\",             \"su\" },\n    { \"Swahili\",               \"sw\" },\n    { \"Swedish\",               \"sv\" },\n    { \"Tagalog\",               \"tl\" },\n    { \"Tajik\",                 \"tg\" },\n    { \"Tajiki\",                \"tg\" },\n    { \"Tamil\",                 \"ta\" },\n    { \"Tatar\",                 \"tt\" },\n    { \"Telugu\",                \"te\" },\n    { \"Thai\",                  \"th\" },\n    { \"Tibetan\",               \"bo\" },\n    { \"Tigrinya\",              \"ti\" },\n    { \"Tongan\",                \"to\" },\n    { \"Traditional Chinese\",   \"zh_TW\" },\n    { \"Turkish\",               \"tr\" },\n    { \"Turkmen\",               \"tk\" },\n    { \"Uighur\",                \"ug\" },\n    { \"Ukrainian\",             \"uk\" },\n    { \"Urdu\",                  \"ur\" },\n    { \"Uzbek\",                 \"uz\" },\n    { \"Vietnamese\",            \"vi\" },\n    { \"Welsh\",                 \"cy\" },\n    { \"Yiddish\",               \"yi\" }\n  };\n\n   \n  typedef struct { const char langtag[7+1]; const char unixy[12+1]; }\n          langtag_entry;\n  static const langtag_entry langtag_table[] = {\n     \n    { \"az-Latn\", \"az\" },\n     \n    { \"bs-Latn\", \"bs\" },\n     \n    { \"ga-dots\", \"ga\" },\n     \n    { \"kk-Cyrl\", \"kk\" },\n     \n    { \"mn-Cyrl\", \"mn\" },\n     \n    { \"ms-Latn\", \"ms\" },\n     \n    { \"pa-Arab\", \"pa_PK\" },\n    { \"pa-Guru\", \"pa_IN\" },\n     \n     \n    { \"sr-Cyrl\", \"sr\" },\n     \n    { \"tg-Cyrl\", \"tg\" },\n     \n    { \"tk-Cyrl\", \"tk\" },\n     \n    { \"tt-Cyrl\", \"tt\" },\n     \n    { \"uz-Latn\", \"uz\" },\n     \n     \n    { \"yue-Hans\", \"yue\" },\n     \n    { \"zh-Hans\", \"zh_CN\" },\n    { \"zh-Hant\", \"zh_TW\" }\n  };\n\n   \n  if (name[0] >= 'A' && name[0] <= 'Z')\n    {\n      unsigned int i1, i2;\n      i1 = 0;\n      i2 = sizeof (legacy_table) / sizeof (legacy_entry);\n      while (i2 - i1 > 1)\n        {\n           \n          unsigned int i = (i1 + i2) >> 1;\n          const legacy_entry *p = &legacy_table[i];\n          if (strcmp (name, p->legacy) < 0)\n            i2 = i;\n          else\n            i1 = i;\n        }\n      if (strcmp (name, legacy_table[i1].legacy) == 0)\n        {\n          strcpy (name, legacy_table[i1].unixy);\n          return;\n        }\n    }\n\n   \n  if (strlen (name) == 7 && name[2] == '-')\n    {\n      unsigned int i1, i2;\n      i1 = 0;\n      i2 = sizeof (langtag_table) / sizeof (langtag_entry);\n      while (i2 - i1 > 1)\n        {\n           \n          unsigned int i = (i1 + i2) >> 1;\n          const langtag_entry *p = &langtag_table[i];\n          if (strcmp (name, p->langtag) < 0)\n            i2 = i;\n          else\n            i1 = i;\n        }\n      if (strcmp (name, langtag_table[i1].langtag) == 0)\n        {\n          strcpy (name, langtag_table[i1].unixy);\n          return;\n        }\n\n      i1 = 0;\n      i2 = sizeof (script_table) / sizeof (script_entry);\n      while (i2 - i1 > 1)\n        {\n           \n          unsigned int i = (i1 + i2) >> 1;\n          const script_entry *p = &script_table[i];\n          if (strcmp (name + 3, p->script) < 0)\n            i2 = i;\n          else\n            i1 = i;\n        }\n      if (strcmp (name + 3, script_table[i1].script) == 0)\n        {\n          name[2] = '@';\n          strcpy (name + 3, script_table[i1].unixy);\n          return;\n        }\n    }\n\n   \n  {\n    char *p;\n    for (p = name; *p != '\\0'; p++)\n      if (*p == '-')\n        *p = '_';\n  }\n}\n\n#endif\n\n\n#if defined WINDOWS_NATIVE || defined __CYGWIN__  \n\n \n# if !defined IN_LIBINTL\nstatic\n# endif\nvoid\ngl_locale_name_canonicalize (char *name)\n{\n   \n  char *p;\n\n  for (p = name; *p != '\\0'; p++)\n    if (*p == '-')\n      {\n        *p = '_';\n        p++;\n        for (; *p != '\\0'; p++)\n          {\n            if (*p >= 'a' && *p <= 'z')\n              *p += 'A' - 'a';\n            if (*p == '-')\n              {\n                *p = '\\0';\n                return;\n              }\n          }\n        return;\n      }\n}\n\n# if !defined IN_LIBINTL\nstatic\n# endif\nconst char *\ngl_locale_name_from_win32_LANGID (LANGID langid)\n{\n   \n  if (getenv (\"GETTEXT_MUI\") != NULL)\n    {\n      static char namebuf[256];\n\n       \n      if (GetLocaleInfoA (MAKELCID (langid, SORT_DEFAULT), LOCALE_SNAME,\n                          namebuf, sizeof (namebuf) - 1))\n        {\n           \n          gl_locale_name_canonicalize (namebuf);\n          return namebuf;\n        }\n    }\n   \n   \n  {\n    int primary, sub;\n\n     \n    primary = PRIMARYLANGID (langid);\n    sub = SUBLANGID (langid);\n\n     \n          case 0x1e: return \"az@latin\";\n          case SUBLANG_AZERI_LATIN: return \"az_AZ@latin\";\n          case 0x1d: return \"az@cyrillic\";\n          case SUBLANG_AZERI_CYRILLIC: return \"az_AZ@cyrillic\";\n          }\n        return \"az\";\n      case LANG_BASHKIR:\n        switch (sub)\n          {\n          case SUBLANG_BASHKIR_RUSSIA: return \"ba_RU\";\n          }\n        return \"ba\";\n      case LANG_BASQUE:\n        switch (sub)\n          {\n          case SUBLANG_BASQUE_BASQUE: return \"eu_ES\";\n          }\n        return \"eu\";  \n      case LANG_BELARUSIAN:\n        switch (sub)\n          {\n          case SUBLANG_BELARUSIAN_BELARUS: return \"be_BY\";\n          }\n        return \"be\";\n      case LANG_BENGALI:\n        switch (sub)\n          {\n          case SUBLANG_BENGALI_INDIA: return \"bn_IN\";\n          case SUBLANG_BENGALI_BANGLADESH: return \"bn_BD\";\n          }\n        return \"bn\";\n      case LANG_BRETON:\n        switch (sub)\n          {\n          case SUBLANG_BRETON_FRANCE: return \"br_FR\";\n          }\n        return \"br\";\n      case LANG_BULGARIAN:\n        switch (sub)\n          {\n          case SUBLANG_BULGARIAN_BULGARIA: return \"bg_BG\";\n          }\n        return \"bg\";\n      case LANG_BURMESE:\n        switch (sub)\n          {\n          case SUBLANG_DEFAULT: return \"my_MM\";\n          }\n        return \"my\";\n      case LANG_CAMBODIAN:\n        switch (sub)\n          {\n          case SUBLANG_CAMBODIAN_CAMBODIA: return \"km_KH\";\n          }\n        return \"km\";\n      case LANG_CATALAN:\n        switch (sub)\n          {\n          case SUBLANG_CATALAN_SPAIN: return \"ca_ES\";\n          }\n        return \"ca\";\n      case LANG_CHEROKEE:\n        switch (sub)\n          {\n          case SUBLANG_DEFAULT: return \"chr_US\";\n          }\n        return \"chr\";\n      case LANG_CHINESE:\n        switch (sub)\n          {\n          case SUBLANG_CHINESE_TRADITIONAL: case 0x1f: return \"zh_TW\";\n          case SUBLANG_CHINESE_SIMPLIFIED: case 0x00: return \"zh_CN\";\n          case SUBLANG_CHINESE_HONGKONG: return \"zh_HK\";  \n          case SUBLANG_CHINESE_SINGAPORE: return \"zh_SG\";  \n          case SUBLANG_CHINESE_MACAU: return \"zh_MO\";  \n          }\n        return \"zh\";\n      case LANG_CORSICAN:\n        switch (sub)\n          {\n          case SUBLANG_CORSICAN_FRANCE: return \"co_FR\";\n          }\n        return \"co\";\n      case LANG_CROATIAN:       \n        switch (sub)\n          {\n           \n          case 0x00: return \"hr\";\n          case SUBLANG_CROATIAN_CROATIA: return \"hr_HR\";\n          case SUBLANG_CROATIAN_BOSNIA_HERZEGOVINA_LATIN: return \"hr_BA\";\n           \n          case 0x1f: return \"sr\";\n          case 0x1c: return \"sr\";  \n          case SUBLANG_SERBIAN_LATIN: return \"sr_CS\";  \n          case 0x09: return \"sr_RS\";  \n          case 0x0b: return \"sr_ME\";  \n          case 0x06: return \"sr_BA\";  \n          case 0x1b: return \"sr@cyrillic\";\n          case SUBLANG_SERBIAN_CYRILLIC: return \"sr_CS@cyrillic\";\n          case 0x0a: return \"sr_RS@cyrillic\";\n          case 0x0c: return \"sr_ME@cyrillic\";\n          case 0x07: return \"sr_BA@cyrillic\";\n           \n          case 0x1e: return \"bs\";\n          case 0x1a: return \"bs\";  \n          case SUBLANG_BOSNIAN_BOSNIA_HERZEGOVINA_LATIN: return \"bs_BA\";  \n          case 0x19: return \"bs@cyrillic\";\n          case SUBLANG_BOSNIAN_BOSNIA_HERZEGOVINA_CYRILLIC: return \"bs_BA@cyrillic\";\n          }\n        return \"hr\";\n      case LANG_CZECH:\n        switch (sub)\n          {\n          case SUBLANG_CZECH_CZECH_REPUBLIC: return \"cs_CZ\";\n          }\n        return \"cs\";\n      case LANG_DANISH:\n        switch (sub)\n          {\n          case SUBLANG_DANISH_DENMARK: return \"da_DK\";\n          }\n        return \"da\";\n      case LANG_DARI:\n         \n        switch (sub)\n          {\n          case SUBLANG_DARI_AFGHANISTAN: return \"prs_AF\";\n          }\n        return \"prs\";\n      case LANG_DIVEHI:\n        switch (sub)\n          {\n          case SUBLANG_DIVEHI_MALDIVES: return \"dv_MV\";\n          }\n        return \"dv\";\n      case LANG_DUTCH:\n        switch (sub)\n          {\n          case SUBLANG_DUTCH: return \"nl_NL\";\n          case SUBLANG_DUTCH_BELGIAN:   return \"nl_BE\";\n          case SUBLANG_DUTCH_SURINAM: return \"nl_SR\";\n          }\n        return \"nl\";\n      case LANG_EDO:\n        switch (sub)\n          {\n          case SUBLANG_DEFAULT: return \"bin_NG\";\n          }\n        return \"bin\";\n      case LANG_ENGLISH:\n        switch (sub)\n          {\n           \n          case SUBLANG_ENGLISH_US: return \"en_US\";\n          case SUBLANG_ENGLISH_UK: return \"en_GB\";\n          case SUBLANG_ENGLISH_AUS: return \"en_AU\";\n          case SUBLANG_ENGLISH_CAN: return \"en_CA\";\n          case SUBLANG_ENGLISH_NZ: return \"en_NZ\";\n          case SUBLANG_ENGLISH_EIRE: return \"en_IE\";\n          case SUBLANG_ENGLISH_SOUTH_AFRICA: return \"en_ZA\";\n          case SUBLANG_ENGLISH_JAMAICA: return \"en_JM\";\n          case SUBLANG_ENGLISH_CARIBBEAN: return \"en_GD\";  \n          case SUBLANG_ENGLISH_BELIZE: return \"en_BZ\";\n          case SUBLANG_ENGLISH_TRINIDAD: return \"en_TT\";\n          case SUBLANG_ENGLISH_ZIMBABWE: return \"en_ZW\";\n          case SUBLANG_ENGLISH_PHILIPPINES: return \"en_PH\";\n          case SUBLANG_ENGLISH_INDONESIA: return \"en_ID\";\n          case SUBLANG_ENGLISH_HONGKONG: return \"en_HK\";\n          case SUBLANG_ENGLISH_INDIA: return \"en_IN\";\n          case SUBLANG_ENGLISH_MALAYSIA: return \"en_MY\";\n          case SUBLANG_ENGLISH_SINGAPORE: return \"en_SG\";\n          }\n        return \"en\";\n      case LANG_ESTONIAN:\n        switch (sub)\n          {\n          case SUBLANG_ESTONIAN_ESTONIA: return \"et_EE\";\n          }\n        return \"et\";\n      case LANG_FAEROESE:\n        switch (sub)\n          {\n          case SUBLANG_FAEROESE_FAROE_ISLANDS: return \"fo_FO\";\n          }\n        return \"fo\";\n      case LANG_FARSI:\n        switch (sub)\n          {\n          case SUBLANG_FARSI_IRAN: return \"fa_IR\";\n          }\n        return \"fa\";\n      case LANG_FINNISH:\n        switch (sub)\n          {\n          case SUBLANG_FINNISH_FINLAND: return \"fi_FI\";\n          }\n        return \"fi\";\n      case LANG_FRENCH:\n        switch (sub)\n          {\n          case SUBLANG_FRENCH: return \"fr_FR\";\n          case SUBLANG_FRENCH_BELGIAN:   return \"fr_BE\";\n          case SUBLANG_FRENCH_CANADIAN: return \"fr_CA\";\n          case SUBLANG_FRENCH_SWISS: return \"fr_CH\";\n          case SUBLANG_FRENCH_LUXEMBOURG: return \"fr_LU\";\n          case SUBLANG_FRENCH_MONACO: return \"fr_MC\";\n          case SUBLANG_FRENCH_WESTINDIES: return \"fr\";  \n          case SUBLANG_FRENCH_REUNION: return \"fr_RE\";\n          case SUBLANG_FRENCH_CONGO: return \"fr_CG\";\n          case SUBLANG_FRENCH_SENEGAL: return \"fr_SN\";\n          case SUBLANG_FRENCH_CAMEROON: return \"fr_CM\";\n          case SUBLANG_FRENCH_COTEDIVOIRE: return \"fr_CI\";\n          case SUBLANG_FRENCH_MALI: return \"fr_ML\";\n          case SUBLANG_FRENCH_MOROCCO: return \"fr_MA\";\n          case SUBLANG_FRENCH_HAITI: return \"fr_HT\";\n          }\n        return \"fr\";\n      case LANG_FRISIAN:\n        switch (sub)\n          {\n          case SUBLANG_FRISIAN_NETHERLANDS: return \"fy_NL\";\n          }\n        return \"fy\";\n      case LANG_FULFULDE:\n         \n        switch (sub)\n          {\n          case SUBLANG_DEFAULT: return \"ff_NG\";\n          }\n        return \"ff\";\n      case LANG_GAELIC:\n        switch (sub)\n          {\n          case 0x01:  \n             \n            return \"gd_GB\";\n          case SUBLANG_IRISH_IRELAND: return \"ga_IE\";\n          }\n        return \"ga\";\n      case LANG_GALICIAN:\n        switch (sub)\n          {\n          case SUBLANG_GALICIAN_SPAIN: return \"gl_ES\";\n          }\n        return \"gl\";\n      case LANG_GEORGIAN:\n        switch (sub)\n          {\n          case SUBLANG_GEORGIAN_GEORGIA: return \"ka_GE\";\n          }\n        return \"ka\";\n      case LANG_GERMAN:\n        switch (sub)\n          {\n          case SUBLANG_GERMAN: return \"de_DE\";\n          case SUBLANG_GERMAN_SWISS: return \"de_CH\";\n          case SUBLANG_GERMAN_AUSTRIAN: return \"de_AT\";\n          case SUBLANG_GERMAN_LUXEMBOURG: return \"de_LU\";\n          case SUBLANG_GERMAN_LIECHTENSTEIN: return \"de_LI\";\n          }\n        return \"de\";\n      case LANG_GREEK:\n        switch (sub)\n          {\n          case SUBLANG_GREEK_GREECE: return \"el_GR\";\n          }\n        return \"el\";\n      case LANG_GREENLANDIC:\n        switch (sub)\n          {\n          case SUBLANG_GREENLANDIC_GREENLAND: return \"kl_GL\";\n          }\n        return \"kl\";\n      case LANG_GUARANI:\n        switch (sub)\n          {\n          case SUBLANG_DEFAULT: return \"gn_PY\";\n          }\n        return \"gn\";\n      case LANG_GUJARATI:\n        switch (sub)\n          {\n          case SUBLANG_GUJARATI_INDIA: return \"gu_IN\";\n          }\n        return \"gu\";\n      case LANG_HAUSA:\n        switch (sub)\n          {\n          case 0x1f: return \"ha\";\n          case SUBLANG_HAUSA_NIGERIA_LATIN: return \"ha_NG\";\n          }\n        return \"ha\";\n      case LANG_HAWAIIAN:\n         \n        switch (sub)\n          {\n          case SUBLANG_DEFAULT: return \"cpe_US\";\n          }\n        return \"cpe\";\n      case LANG_HEBREW:\n        switch (sub)\n          {\n          case SUBLANG_HEBREW_ISRAEL: return \"he_IL\";\n          }\n        return \"he\";\n      case LANG_HINDI:\n        switch (sub)\n          {\n          case SUBLANG_HINDI_INDIA: return \"hi_IN\";\n          }\n        return \"hi\";\n      case LANG_HUNGARIAN:\n        switch (sub)\n          {\n          case SUBLANG_HUNGARIAN_HUNGARY: return \"hu_HU\";\n          }\n        return \"hu\";\n      case LANG_IBIBIO:\n        switch (sub)\n          {\n          case SUBLANG_DEFAULT: return \"nic_NG\";\n          }\n        return \"nic\";\n      case LANG_ICELANDIC:\n        switch (sub)\n          {\n          case SUBLANG_ICELANDIC_ICELAND: return \"is_IS\";\n          }\n        return \"is\";\n      case LANG_IGBO:\n        switch (sub)\n          {\n          case SUBLANG_IGBO_NIGERIA: return \"ig_NG\";\n          }\n        return \"ig\";\n      case LANG_INDONESIAN:\n        switch (sub)\n          {\n          case SUBLANG_INDONESIAN_INDONESIA: return \"id_ID\";\n          }\n        return \"id\";\n      case LANG_INUKTITUT:\n        switch (sub)\n          {\n          case 0x1e: return \"iu\";  \n          case SUBLANG_INUKTITUT_CANADA: return \"iu_CA\";  \n          case 0x1f: return \"iu@latin\";\n          case SUBLANG_INUKTITUT_CANADA_LATIN: return \"iu_CA@latin\";\n          }\n        return \"iu\";\n      case LANG_ITALIAN:\n        switch (sub)\n          {\n          case SUBLANG_ITALIAN: return \"it_IT\";\n          case SUBLANG_ITALIAN_SWISS: return \"it_CH\";\n          }\n        return \"it\";\n      case LANG_JAPANESE:\n        switch (sub)\n          {\n          case SUBLANG_JAPANESE_JAPAN: return \"ja_JP\";\n          }\n        return \"ja\";\n      case LANG_KANNADA:\n        switch (sub)\n          {\n          case SUBLANG_KANNADA_INDIA: return \"kn_IN\";\n          }\n        return \"kn\";\n      case LANG_KANURI:\n        switch (sub)\n          {\n          case SUBLANG_DEFAULT: return \"kr_NG\";\n          }\n        return \"kr\";\n      case LANG_KASHMIRI:\n        switch (sub)\n          {\n          case SUBLANG_DEFAULT: return \"ks_PK\";\n          case SUBLANG_KASHMIRI_INDIA: return \"ks_IN\";\n          }\n        return \"ks\";\n      case LANG_KAZAK:\n        switch (sub)\n          {\n          case SUBLANG_KAZAK_KAZAKHSTAN: return \"kk_KZ\";\n          }\n        return \"kk\";\n      case LANG_KICHE:\n         \n        switch (sub)\n          {\n          case SUBLANG_KICHE_GUATEMALA: return \"qut_GT\";\n          }\n        return \"qut\";\n      case LANG_KINYARWANDA:\n        switch (sub)\n          {\n          case SUBLANG_KINYARWANDA_RWANDA: return \"rw_RW\";\n          }\n        return \"rw\";\n      case LANG_KONKANI:\n         \n        switch (sub)\n          {\n          case SUBLANG_KONKANI_INDIA: return \"kok_IN\";\n          }\n        return \"kok\";\n      case LANG_KOREAN:\n        switch (sub)\n          {\n          case SUBLANG_DEFAULT: return \"ko_KR\";\n          }\n        return \"ko\";\n      case LANG_KYRGYZ:\n        switch (sub)\n          {\n          case SUBLANG_KYRGYZ_KYRGYZSTAN: return \"ky_KG\";\n          }\n        return \"ky\";\n      case LANG_LAO:\n        switch (sub)\n          {\n          case SUBLANG_LAO_LAOS: return \"lo_LA\";\n          }\n        return \"lo\";\n      case LANG_LATIN:\n        switch (sub)\n          {\n          case SUBLANG_DEFAULT: return \"la_VA\";\n          }\n        return \"la\";\n      case LANG_LATVIAN:\n        switch (sub)\n          {\n          case SUBLANG_LATVIAN_LATVIA: return \"lv_LV\";\n          }\n        return \"lv\";\n      case LANG_LITHUANIAN:\n        switch (sub)\n          {\n          case SUBLANG_LITHUANIAN_LITHUANIA: return \"lt_LT\";\n          }\n        return \"lt\";\n      case LANG_LUXEMBOURGISH:\n        switch (sub)\n          {\n          case SUBLANG_LUXEMBOURGISH_LUXEMBOURG: return \"lb_LU\";\n          }\n        return \"lb\";\n      case LANG_MACEDONIAN:\n        switch (sub)\n          {\n          case SUBLANG_MACEDONIAN_MACEDONIA: return \"mk_MK\";\n          }\n        return \"mk\";\n      case LANG_MALAY:\n        switch (sub)\n          {\n          case SUBLANG_MALAY_MALAYSIA: return \"ms_MY\";\n          case SUBLANG_MALAY_BRUNEI_DARUSSALAM: return \"ms_BN\";\n          }\n        return \"ms\";\n      case LANG_MALAYALAM:\n        switch (sub)\n          {\n          case SUBLANG_MALAYALAM_INDIA: return \"ml_IN\";\n          }\n        return \"ml\";\n      case LANG_MALTESE:\n        switch (sub)\n          {\n          case SUBLANG_MALTESE_MALTA: return \"mt_MT\";\n          }\n        return \"mt\";\n      case LANG_MANIPURI:\n         \n        switch (sub)\n          {\n          case SUBLANG_DEFAULT: return \"mni_IN\";\n          }\n        return \"mni\";\n      case LANG_MAORI:\n        switch (sub)\n          {\n          case SUBLANG_MAORI_NEW_ZEALAND: return \"mi_NZ\";\n          }\n        return \"mi\";\n      case LANG_MAPUDUNGUN:\n        switch (sub)\n          {\n          case SUBLANG_MAPUDUNGUN_CHILE: return \"arn_CL\";\n          }\n        return \"arn\";\n      case LANG_MARATHI:\n        switch (sub)\n          {\n          case SUBLANG_MARATHI_INDIA: return \"mr_IN\";\n          }\n        return \"mr\";\n      case LANG_MOHAWK:\n        switch (sub)\n          {\n          case SUBLANG_MOHAWK_CANADA: return \"moh_CA\";\n          }\n        return \"moh\";\n      case LANG_MONGOLIAN:\n        switch (sub)\n          {\n          case SUBLANG_MONGOLIAN_CYRILLIC_MONGOLIA: case 0x1e: return \"mn_MN\";\n          case SUBLANG_MONGOLIAN_PRC: case 0x1f: return \"mn_CN\";\n          }\n        return \"mn\";  \n      case LANG_NEPALI:\n        switch (sub)\n          {\n          case SUBLANG_NEPALI_NEPAL: return \"ne_NP\";\n          case SUBLANG_NEPALI_INDIA: return \"ne_IN\";\n          }\n        return \"ne\";\n      case LANG_NORWEGIAN:\n        switch (sub)\n          {\n          case 0x1f: return \"nb\";\n          case SUBLANG_NORWEGIAN_BOKMAL: return \"nb_NO\";\n          case 0x1e: return \"nn\";\n          case SUBLANG_NORWEGIAN_NYNORSK: return \"nn_NO\";\n          }\n        return \"no\";\n      case LANG_OCCITAN:\n        switch (sub)\n          {\n          case SUBLANG_OCCITAN_FRANCE: return \"oc_FR\";\n          }\n        return \"oc\";\n      case LANG_ORIYA:\n        switch (sub)\n          {\n          case SUBLANG_ORIYA_INDIA: return \"or_IN\";\n          }\n        return \"or\";\n      case LANG_OROMO:\n        switch (sub)\n          {\n          case SUBLANG_DEFAULT: return \"om_ET\";\n          }\n        return \"om\";\n      case LANG_PAPIAMENTU:\n        switch (sub)\n          {\n          case SUBLANG_DEFAULT: return \"pap_AN\";\n          }\n        return \"pap\";\n      case LANG_PASHTO:\n        switch (sub)\n          {\n          case SUBLANG_PASHTO_AFGHANISTAN: return \"ps_AF\";\n          }\n        return \"ps\";  \n      case LANG_POLISH:\n        switch (sub)\n          {\n          case SUBLANG_POLISH_POLAND: return \"pl_PL\";\n          }\n        return \"pl\";\n      case LANG_PORTUGUESE:\n        switch (sub)\n          {\n           \n          case SUBLANG_PORTUGUESE_BRAZILIAN: return \"pt_BR\";\n          case SUBLANG_PORTUGUESE: return \"pt_PT\";\n          }\n        return \"pt\";\n      case LANG_PUNJABI:\n        switch (sub)\n          {\n          case SUBLANG_PUNJABI_INDIA: return \"pa_IN\";  \n          case SUBLANG_PUNJABI_PAKISTAN: return \"pa_PK\";  \n          }\n        return \"pa\";\n      case LANG_QUECHUA:\n         \n        switch (sub)\n          {\n          case SUBLANG_QUECHUA_BOLIVIA: return \"qu_BO\";\n          case SUBLANG_QUECHUA_ECUADOR: return \"qu_EC\";\n          case SUBLANG_QUECHUA_PERU: return \"qu_PE\";\n          }\n        return \"qu\";\n      case LANG_ROMANIAN:\n        switch (sub)\n          {\n          case SUBLANG_ROMANIAN_ROMANIA: return \"ro_RO\";\n          case SUBLANG_ROMANIAN_MOLDOVA: return \"ro_MD\";\n          }\n        return \"ro\";\n      case LANG_ROMANSH:\n        switch (sub)\n          {\n          case SUBLANG_ROMANSH_SWITZERLAND: return \"rm_CH\";\n          }\n        return \"rm\";\n      case LANG_RUSSIAN:\n        switch (sub)\n          {\n          case SUBLANG_RUSSIAN_RUSSIA: return \"ru_RU\";\n          case SUBLANG_RUSSIAN_MOLDAVIA: return \"ru_MD\";\n          }\n        return \"ru\";  \n      case LANG_SAMI:\n        switch (sub)\n          {\n           \n          case 0x00: return \"se\";\n          case SUBLANG_SAMI_NORTHERN_NORWAY: return \"se_NO\";\n          case SUBLANG_SAMI_NORTHERN_SWEDEN: return \"se_SE\";\n          case SUBLANG_SAMI_NORTHERN_FINLAND: return \"se_FI\";\n           \n          case 0x1f: return \"smj\";\n          case SUBLANG_SAMI_LULE_NORWAY: return \"smj_NO\";\n          case SUBLANG_SAMI_LULE_SWEDEN: return \"smj_SE\";\n           \n          case 0x1e: return \"sma\";\n          case SUBLANG_SAMI_SOUTHERN_NORWAY: return \"sma_NO\";\n          case SUBLANG_SAMI_SOUTHERN_SWEDEN: return \"sma_SE\";\n           \n          case 0x1d: return \"sms\";\n          case SUBLANG_SAMI_SKOLT_FINLAND: return \"sms_FI\";\n           \n          case 0x1c: return \"smn\";\n          case SUBLANG_SAMI_INARI_FINLAND: return \"smn_FI\";\n          }\n        return \"se\";  \n      case LANG_SANSKRIT:\n        switch (sub)\n          {\n          case SUBLANG_SANSKRIT_INDIA: return \"sa_IN\";\n          }\n        return \"sa\";\n      case LANG_SCOTTISH_GAELIC:\n        switch (sub)\n          {\n          case SUBLANG_DEFAULT: return \"gd_GB\";\n          }\n        return \"gd\";\n      case LANG_SINDHI:\n        switch (sub)\n          {\n          case SUBLANG_SINDHI_INDIA: return \"sd_IN\";\n          case SUBLANG_SINDHI_PAKISTAN: return \"sd_PK\";\n           \n          }\n        return \"sd\";\n      case LANG_SINHALESE:\n        switch (sub)\n          {\n          case SUBLANG_SINHALESE_SRI_LANKA: return \"si_LK\";\n          }\n        return \"si\";\n      case LANG_SLOVAK:\n        switch (sub)\n          {\n          case SUBLANG_SLOVAK_SLOVAKIA: return \"sk_SK\";\n          }\n        return \"sk\";\n      case LANG_SLOVENIAN:\n        switch (sub)\n          {\n          case SUBLANG_SLOVENIAN_SLOVENIA: return \"sl_SI\";\n          }\n        return \"sl\";\n      case LANG_SOMALI:\n        switch (sub)\n          {\n          case SUBLANG_DEFAULT: return \"so_SO\";\n          }\n        return \"so\";\n      case LANG_SORBIAN:\n         \n        switch (sub)\n          {\n           \n          case 0x00: return \"hsb\";\n          case SUBLANG_UPPER_SORBIAN_GERMANY: return \"hsb_DE\";\n           \n          case 0x1f: return \"dsb\";\n          case SUBLANG_LOWER_SORBIAN_GERMANY: return \"dsb_DE\";\n          }\n        return \"wen\";\n      case LANG_SOTHO:\n         \n        switch (sub)\n          {\n          case SUBLANG_SOTHO_SOUTH_AFRICA: return \"nso_ZA\";\n          }\n        return \"nso\";\n      case LANG_SPANISH:\n        switch (sub)\n          {\n          case SUBLANG_SPANISH: return \"es_ES\";\n          case SUBLANG_SPANISH_MEXICAN: return \"es_MX\";\n          case SUBLANG_SPANISH_MODERN:\n            return \"es_ES@modern\";       \n          case SUBLANG_SPANISH_GUATEMALA: return \"es_GT\";\n          case SUBLANG_SPANISH_COSTA_RICA: return \"es_CR\";\n          case SUBLANG_SPANISH_PANAMA: return \"es_PA\";\n          case SUBLANG_SPANISH_DOMINICAN_REPUBLIC: return \"es_DO\";\n          case SUBLANG_SPANISH_VENEZUELA: return \"es_VE\";\n          case SUBLANG_SPANISH_COLOMBIA: return \"es_CO\";\n          case SUBLANG_SPANISH_PERU: return \"es_PE\";\n          case SUBLANG_SPANISH_ARGENTINA: return \"es_AR\";\n          case SUBLANG_SPANISH_ECUADOR: return \"es_EC\";\n          case SUBLANG_SPANISH_CHILE: return \"es_CL\";\n          case SUBLANG_SPANISH_URUGUAY: return \"es_UY\";\n          case SUBLANG_SPANISH_PARAGUAY: return \"es_PY\";\n          case SUBLANG_SPANISH_BOLIVIA: return \"es_BO\";\n          case SUBLANG_SPANISH_EL_SALVADOR: return \"es_SV\";\n          case SUBLANG_SPANISH_HONDURAS: return \"es_HN\";\n          case SUBLANG_SPANISH_NICARAGUA: return \"es_NI\";\n          case SUBLANG_SPANISH_PUERTO_RICO: return \"es_PR\";\n          case SUBLANG_SPANISH_US: return \"es_US\";\n          }\n        return \"es\";\n      case LANG_SUTU:\n        switch (sub)\n          {\n          case SUBLANG_DEFAULT: return \"bnt_TZ\";  \n          }\n        return \"bnt\";\n      case LANG_SWAHILI:\n        switch (sub)\n          {\n          case SUBLANG_SWAHILI_KENYA: return \"sw_KE\";\n          }\n        return \"sw\";\n      case LANG_SWEDISH:\n        switch (sub)\n          {\n          case SUBLANG_SWEDISH_SWEDEN: return \"sv_SE\";\n          case SUBLANG_SWEDISH_FINLAND: return \"sv_FI\";\n          }\n        return \"sv\";\n      case LANG_SYRIAC:\n        switch (sub)\n          {\n          case SUBLANG_SYRIAC_SYRIA: return \"syr_SY\";  \n          }\n        return \"syr\";\n      case LANG_TAGALOG:\n        switch (sub)\n          {\n          case SUBLANG_TAGALOG_PHILIPPINES: return \"tl_PH\";  \n          }\n        return \"tl\";  \n      case LANG_TAJIK:\n        switch (sub)\n          {\n          case 0x1f: return \"tg\";\n          case SUBLANG_TAJIK_TAJIKISTAN: return \"tg_TJ\";\n          }\n        return \"tg\";\n      case LANG_TAMAZIGHT:\n         \n        switch (sub)\n          {\n           \n          case SUBLANG_TAMAZIGHT_ARABIC: return \"ber_MA@arabic\";\n          case 0x1f: return \"ber@latin\";\n          case SUBLANG_TAMAZIGHT_ALGERIA_LATIN: return \"ber_DZ@latin\";\n          }\n        return \"ber\";\n      case LANG_TAMIL:\n        switch (sub)\n          {\n          case SUBLANG_TAMIL_INDIA: return \"ta_IN\";\n          }\n        return \"ta\";  \n      case LANG_TATAR:\n        switch (sub)\n          {\n          case SUBLANG_TATAR_RUSSIA: return \"tt_RU\";\n          }\n        return \"tt\";\n      case LANG_TELUGU:\n        switch (sub)\n          {\n          case SUBLANG_TELUGU_INDIA: return \"te_IN\";\n          }\n        return \"te\";\n      case LANG_THAI:\n        switch (sub)\n          {\n          case SUBLANG_THAI_THAILAND: return \"th_TH\";\n          }\n        return \"th\";\n      case LANG_TIBETAN:\n        switch (sub)\n          {\n          case SUBLANG_TIBETAN_PRC:\n             \n            return \"bo\";\n          case SUBLANG_TIBETAN_BHUTAN: return \"bo_BT\";\n          }\n        return \"bo\";\n      case LANG_TIGRINYA:\n        switch (sub)\n          {\n          case SUBLANG_TIGRINYA_ETHIOPIA: return \"ti_ET\";\n          case SUBLANG_TIGRINYA_ERITREA: return \"ti_ER\";\n          }\n        return \"ti\";\n      case LANG_TSONGA:\n        switch (sub)\n          {\n          case SUBLANG_DEFAULT: return \"ts_ZA\";\n          }\n        return \"ts\";\n      case LANG_TSWANA:\n         \n        switch (sub)\n          {\n          case SUBLANG_TSWANA_SOUTH_AFRICA: return \"tn_ZA\";\n          }\n        return \"tn\";\n      case LANG_TURKISH:\n        switch (sub)\n          {\n          case SUBLANG_TURKISH_TURKEY: return \"tr_TR\";\n          }\n        return \"tr\";\n      case LANG_TURKMEN:\n        switch (sub)\n          {\n          case SUBLANG_TURKMEN_TURKMENISTAN: return \"tk_TM\";\n          }\n        return \"tk\";\n      case LANG_UIGHUR:\n        switch (sub)\n          {\n          case SUBLANG_UIGHUR_PRC: return \"ug_CN\";\n          }\n        return \"ug\";\n      case LANG_UKRAINIAN:\n        switch (sub)\n          {\n          case SUBLANG_UKRAINIAN_UKRAINE: return \"uk_UA\";\n          }\n        return \"uk\";\n      case LANG_URDU:\n        switch (sub)\n          {\n          case SUBLANG_URDU_PAKISTAN: return \"ur_PK\";\n          case SUBLANG_URDU_INDIA: return \"ur_IN\";\n          }\n        return \"ur\";\n      case LANG_UZBEK:\n        switch (sub)\n          {\n          case 0x1f: return \"uz\";\n          case SUBLANG_UZBEK_LATIN: return \"uz_UZ\";\n          case 0x1e: return \"uz@cyrillic\";\n          case SUBLANG_UZBEK_CYRILLIC: return \"uz_UZ@cyrillic\";\n          }\n        return \"uz\";\n      case LANG_VENDA:\n        switch (sub)\n          {\n          case SUBLANG_DEFAULT: return \"ve_ZA\";\n          }\n        return \"ve\";\n      case LANG_VIETNAMESE:\n        switch (sub)\n          {\n          case SUBLANG_VIETNAMESE_VIETNAM: return \"vi_VN\";\n          }\n        return \"vi\";\n      case LANG_WELSH:\n        switch (sub)\n          {\n          case SUBLANG_WELSH_UNITED_KINGDOM: return \"cy_GB\";\n          }\n        return \"cy\";\n      case LANG_WOLOF:\n        switch (sub)\n          {\n          case SUBLANG_WOLOF_SENEGAL: return \"wo_SN\";\n          }\n        return \"wo\";\n      case LANG_XHOSA:\n        switch (sub)\n          {\n          case SUBLANG_XHOSA_SOUTH_AFRICA: return \"xh_ZA\";\n          }\n        return \"xh\";\n      case LANG_YAKUT:\n        switch (sub)\n          {\n          case SUBLANG_YAKUT_RUSSIA: return \"sah_RU\";\n          }\n        return \"sah\";\n      case LANG_YI:\n        switch (sub)\n          {\n          case SUBLANG_YI_PRC: return \"ii_CN\";\n          }\n        return \"ii\";\n      case LANG_YIDDISH:\n        switch (sub)\n          {\n          case SUBLANG_DEFAULT: return \"yi_IL\";\n          }\n        return \"yi\";\n      case LANG_YORUBA:\n        switch (sub)\n          {\n          case SUBLANG_YORUBA_NIGERIA: return \"yo_NG\";\n          }\n        return \"yo\";\n      case LANG_ZULU:\n        switch (sub)\n          {\n          case SUBLANG_ZULU_SOUTH_AFRICA: return \"zu_ZA\";\n          }\n        return \"zu\";\n      default: return \"C\";\n      }\n  }\n}\n\n# if !defined IN_LIBINTL\nstatic\n# endif\nconst char *\ngl_locale_name_from_win32_LCID (LCID lcid)\n{\n  LANGID langid;\n\n   \n  langid = LANGIDFROMLCID (lcid);\n\n  return gl_locale_name_from_win32_LANGID (langid);\n}\n\n# ifdef WINDOWS_NATIVE\n\n \nstatic LCID found_lcid;\nstatic char lname[LC_MAX * (LOCALE_NAME_MAX_LENGTH + 1) + 1];\n\n \nstatic BOOL CALLBACK\nenum_locales_fn (LPSTR locale_num_str)\n{\n  char *endp;\n  char locval[2 * LOCALE_NAME_MAX_LENGTH + 1 + 1];\n  LCID try_lcid = strtoul (locale_num_str, &endp, 16);\n\n  if (GetLocaleInfo (try_lcid, LOCALE_SENGLANGUAGE,\n                    locval, LOCALE_NAME_MAX_LENGTH))\n    {\n      strcat (locval, \"_\");\n      if (GetLocaleInfo (try_lcid, LOCALE_SENGCOUNTRY,\n                        locval + strlen (locval), LOCALE_NAME_MAX_LENGTH))\n       {\n         size_t locval_len = strlen (locval);\n\n         if (strncmp (locval, lname, locval_len) == 0\n             && (lname[locval_len] == '.'\n                 || lname[locval_len] == '\\0'))\n           {\n             found_lcid = try_lcid;\n             return FALSE;\n           }\n       }\n    }\n  return TRUE;\n}\n\n \ngl_lock_define_initialized(static, get_lcid_lock)\n\n \nstatic LCID\nget_lcid (const char *locale_name)\n{\n   \n  static LCID last_lcid;\n  static char last_locale[1000];\n\n   \n  gl_lock_lock (get_lcid_lock);\n  if (last_lcid > 0 && strcmp (locale_name, last_locale) == 0)\n    {\n      gl_lock_unlock (get_lcid_lock);\n      return last_lcid;\n    }\n  strncpy (lname, locale_name, sizeof (lname) - 1);\n  lname[sizeof (lname) - 1] = '\\0';\n  found_lcid = 0;\n  EnumSystemLocales (enum_locales_fn, LCID_SUPPORTED);\n  if (found_lcid > 0)\n    {\n      last_lcid = found_lcid;\n      strcpy (last_locale, locale_name);\n    }\n  gl_lock_unlock (get_lcid_lock);\n  return found_lcid;\n}\n\n# endif\n#endif\n\n\n#if HAVE_GOOD_USELOCALE  \n\n \n\n# define SIZE_BITS (sizeof (size_t) * CHAR_BIT)\n\n \nstatic size_t _GL_ATTRIBUTE_PURE\nstring_hash (const void *x)\n{\n  const char *s = (const char *) x;\n  size_t h = 0;\n\n  for (; *s; s++)\n    h = *s + ((h << 9) | (h >> (SIZE_BITS - 9)));\n\n  return h;\n}\n\n \n\n \nstruct struniq_hash_node\n  {\n    struct struniq_hash_node * volatile next;\n    char contents[FLEXIBLE_ARRAY_MEMBER];\n  };\n\n# define STRUNIQ_HASH_TABLE_SIZE 257\nstatic struct struniq_hash_node * volatile struniq_hash_table[STRUNIQ_HASH_TABLE_SIZE]\n   ;\n\n \ngl_lock_define_initialized(static, struniq_lock)\n\n \nstatic const char *\nstruniq (const char *string)\n{\n  size_t hashcode = string_hash (string);\n  size_t slot = hashcode % STRUNIQ_HASH_TABLE_SIZE;\n  size_t size;\n  struct struniq_hash_node *new_node;\n  struct struniq_hash_node *p;\n  for (p = struniq_hash_table[slot]; p != NULL; p = p->next)\n    if (strcmp (p->contents, string) == 0)\n      return p->contents;\n  size = strlen (string) + 1;\n  new_node =\n    (struct struniq_hash_node *)\n    malloc (FLEXSIZEOF (struct struniq_hash_node, contents, size));\n  if (new_node == NULL)\n     \n    return \"C\";\n  memcpy (new_node->contents, string, size);\n  {\n    bool mt = gl_multithreaded ();\n     \n    if (mt) gl_lock_lock (struniq_lock);\n     \n    for (p = struniq_hash_table[slot]; p != NULL; p = p->next)\n      if (strcmp (p->contents, string) == 0)\n        {\n          free (new_node);\n          new_node = p;\n          goto done;\n        }\n     \n    new_node->next = struniq_hash_table[slot];\n    struniq_hash_table[slot] = new_node;\n   done:\n     \n    if (mt) gl_lock_unlock (struniq_lock);\n  }\n  return new_node->contents;\n}\n\n#endif\n\n\n#if LOCALENAME_ENHANCE_LOCALE_FUNCS\n\n \n\n \nstatic const char *\nget_locale_t_name (int category, locale_t locale)\n{\n  if (locale == LC_GLOBAL_LOCALE)\n    {\n       \n      const char *name = setlocale_null (category);\n      if (name != NULL)\n        return struniq (name);\n      else\n         \n        return \"\";\n    }\n  else\n    {\n       \n      size_t hashcode = locale_hash_function (locale);\n      size_t slot = hashcode % LOCALE_HASH_TABLE_SIZE;\n       \n      const char *name = \"\";\n      struct locale_hash_node *p;\n       \n      gl_rwlock_rdlock (locale_lock);\n      for (p = locale_hash_table[slot]; p != NULL; p = p->next)\n        if (p->locale == locale)\n          {\n            name = p->names.category_name[category];\n            break;\n          }\n      gl_rwlock_unlock (locale_lock);\n      return name;\n    }\n}\n\n# if !(defined newlocale && defined duplocale && defined freelocale)\n#  error \"newlocale, duplocale, freelocale not being replaced as expected!\"\n# endif\n\n \nlocale_t\nnewlocale (int category_mask, const char *name, locale_t base)\n#undef newlocale\n{\n  struct locale_categories_names names;\n  struct locale_hash_node *node;\n  locale_t result;\n\n   \n  if (((LC_CTYPE_MASK | LC_NUMERIC_MASK | LC_TIME_MASK | LC_COLLATE_MASK\n        | LC_MONETARY_MASK | LC_MESSAGES_MASK)\n       & category_mask) != 0)\n    name = struniq (name);\n\n   \n  if (((LC_CTYPE_MASK | LC_NUMERIC_MASK | LC_TIME_MASK | LC_COLLATE_MASK\n        | LC_MONETARY_MASK | LC_MESSAGES_MASK)\n       & ~category_mask) == 0)\n    {\n       \n      int category;\n\n      name = struniq (name);\n      for (category = 0; category < 6; category++)\n        names.category_name[category] = name;\n    }\n  else\n    {\n       \n      if (base == NULL)\n        {\n          int category;\n\n          for (category = 0; category < 6; category++)\n            {\n              int mask;\n\n              switch (category)\n                {\n                case LC_CTYPE:\n                  mask = LC_CTYPE_MASK;\n                  break;\n                case LC_NUMERIC:\n                  mask = LC_NUMERIC_MASK;\n                  break;\n                case LC_TIME:\n                  mask = LC_TIME_MASK;\n                  break;\n                case LC_COLLATE:\n                  mask = LC_COLLATE_MASK;\n                  break;\n                case LC_MONETARY:\n                  mask = LC_MONETARY_MASK;\n                  break;\n                case LC_MESSAGES:\n                  mask = LC_MESSAGES_MASK;\n                  break;\n                default:\n                  abort ();\n                }\n              names.category_name[category] =\n                ((mask & category_mask) != 0 ? name : \"C\");\n            }\n        }\n      else if (base == LC_GLOBAL_LOCALE)\n        {\n          int category;\n\n          for (category = 0; category < 6; category++)\n            {\n              int mask;\n\n              switch (category)\n                {\n                case LC_CTYPE:\n                  mask = LC_CTYPE_MASK;\n                  break;\n                case LC_NUMERIC:\n                  mask = LC_NUMERIC_MASK;\n                  break;\n                case LC_TIME:\n                  mask = LC_TIME_MASK;\n                  break;\n                case LC_COLLATE:\n                  mask = LC_COLLATE_MASK;\n                  break;\n                case LC_MONETARY:\n                  mask = LC_MONETARY_MASK;\n                  break;\n                case LC_MESSAGES:\n                  mask = LC_MESSAGES_MASK;\n                  break;\n                default:\n                  abort ();\n                }\n              names.category_name[category] =\n                ((mask & category_mask) != 0\n                 ? name\n                 : get_locale_t_name (category, LC_GLOBAL_LOCALE));\n            }\n        }\n      else\n        {\n           \n          struct locale_hash_node *p;\n          int category;\n\n           \n          gl_rwlock_rdlock (locale_lock);\n          for (p = locale_hash_table[locale_hash_function (base) % LOCALE_HASH_TABLE_SIZE];\n               p != NULL;\n               p = p->next)\n            if (p->locale == base)\n              break;\n\n          for (category = 0; category < 6; category++)\n            {\n              int mask;\n\n              switch (category)\n                {\n                case LC_CTYPE:\n                  mask = LC_CTYPE_MASK;\n                  break;\n                case LC_NUMERIC:\n                  mask = LC_NUMERIC_MASK;\n                  break;\n                case LC_TIME:\n                  mask = LC_TIME_MASK;\n                  break;\n                case LC_COLLATE:\n                  mask = LC_COLLATE_MASK;\n                  break;\n                case LC_MONETARY:\n                  mask = LC_MONETARY_MASK;\n                  break;\n                case LC_MESSAGES:\n                  mask = LC_MESSAGES_MASK;\n                  break;\n                default:\n                  abort ();\n                }\n              names.category_name[category] =\n                ((mask & category_mask) != 0\n                 ? name\n                 : (p != NULL ? p->names.category_name[category] : \"\"));\n            }\n\n          gl_rwlock_unlock (locale_lock);\n        }\n    }\n\n  node = (struct locale_hash_node *) malloc (sizeof (struct locale_hash_node));\n  if (node == NULL)\n     \n    return NULL;\n\n  result = newlocale (category_mask, name, base);\n  if (result == NULL)\n    {\n      free (node);\n      return NULL;\n    }\n\n   \n  node->locale = result;\n  node->names = names;\n\n   \n  {\n    size_t hashcode = locale_hash_function (result);\n    size_t slot = hashcode % LOCALE_HASH_TABLE_SIZE;\n    struct locale_hash_node *p;\n\n     \n    gl_rwlock_wrlock (locale_lock);\n    for (p = locale_hash_table[slot]; p != NULL; p = p->next)\n      if (p->locale == result)\n        {\n           \n          p->names = node->names;\n          break;\n        }\n    if (p == NULL)\n      {\n        node->next = locale_hash_table[slot];\n        locale_hash_table[slot] = node;\n      }\n\n    gl_rwlock_unlock (locale_lock);\n\n    if (p != NULL)\n      free (node);\n  }\n\n  return result;\n}\n\n \nlocale_t\nduplocale (locale_t locale)\n#undef duplocale\n{\n  struct locale_hash_node *node;\n  locale_t result;\n\n  if (locale == NULL)\n     \n    abort ();\n\n  node = (struct locale_hash_node *) malloc (sizeof (struct locale_hash_node));\n  if (node == NULL)\n     \n    return NULL;\n\n  result = duplocale (locale);\n  if (result == NULL)\n    {\n      free (node);\n      return NULL;\n    }\n\n   \n  node->locale = result;\n  if (locale == LC_GLOBAL_LOCALE)\n    {\n      int category;\n\n      for (category = 0; category < 6; category++)\n        node->names.category_name[category] =\n          get_locale_t_name (category, LC_GLOBAL_LOCALE);\n\n       \n      gl_rwlock_wrlock (locale_lock);\n    }\n  else\n    {\n      struct locale_hash_node *p;\n\n       \n      gl_rwlock_wrlock (locale_lock);\n\n      for (p = locale_hash_table[locale_hash_function (locale) % LOCALE_HASH_TABLE_SIZE];\n           p != NULL;\n           p = p->next)\n        if (p->locale == locale)\n          break;\n      if (p != NULL)\n        node->names = p->names;\n      else\n        {\n           \n          int category;\n\n          for (category = 0; category < 6; category++)\n            node->names.category_name[category] = \"\";\n        }\n    }\n\n   \n  {\n    size_t hashcode = locale_hash_function (result);\n    size_t slot = hashcode % LOCALE_HASH_TABLE_SIZE;\n    struct locale_hash_node *p;\n\n    for (p = locale_hash_table[slot]; p != NULL; p = p->next)\n      if (p->locale == result)\n        {\n           \n          p->names = node->names;\n          break;\n        }\n    if (p == NULL)\n      {\n        node->next = locale_hash_table[slot];\n        locale_hash_table[slot] = node;\n      }\n\n    gl_rwlock_unlock (locale_lock);\n\n    if (p != NULL)\n      free (node);\n  }\n\n  return result;\n}\n\n \nvoid\nfreelocale (locale_t locale)\n#undef freelocale\n{\n  if (locale == NULL || locale == LC_GLOBAL_LOCALE)\n     \n    abort ();\n\n  {\n    size_t hashcode = locale_hash_function (locale);\n    size_t slot = hashcode % LOCALE_HASH_TABLE_SIZE;\n    struct locale_hash_node *found;\n    struct locale_hash_node **p;\n\n    found = NULL;\n     \n    gl_rwlock_wrlock (locale_lock);\n    for (p = &locale_hash_table[slot]; *p != NULL; p = &(*p)->next)\n      if ((*p)->locale == locale)\n        {\n          found = *p;\n          *p = (*p)->next;\n          break;\n        }\n    gl_rwlock_unlock (locale_lock);\n    free (found);\n  }\n\n  freelocale (locale);\n}\n\n#endif\n\n\n#if defined IN_LIBINTL || HAVE_GOOD_USELOCALE\n\n \n# if !defined IN_LIBINTL\nstatic\n# endif\nconst char *\ngl_locale_name_thread_unsafe (int category, _GL_UNUSED const char *categoryname)\n{\n# if HAVE_GOOD_USELOCALE\n  {\n    locale_t thread_locale = uselocale (NULL);\n    if (thread_locale != LC_GLOBAL_LOCALE)\n      {\n#  if __GLIBC__ >= 2 && !defined __UCLIBC__\n         \n        const char *name =\n          nl_langinfo (_NL_ITEM ((category), _NL_ITEM_INDEX (-1)));\n        if (name[0] == '\\0')\n           \n          name = thread_locale->__names[category];\n        return name;\n#  elif defined __linux__ && HAVE_LANGINFO_H && defined NL_LOCALE_NAME\n         \n        return nl_langinfo_l (NL_LOCALE_NAME (category), thread_locale);\n#  elif (defined __FreeBSD__ || defined __DragonFly__) || (defined __APPLE__ && defined __MACH__)\n         \n        int mask;\n\n        switch (category)\n          {\n          case LC_CTYPE:\n            mask = LC_CTYPE_MASK;\n            break;\n          case LC_NUMERIC:\n            mask = LC_NUMERIC_MASK;\n            break;\n          case LC_TIME:\n            mask = LC_TIME_MASK;\n            break;\n          case LC_COLLATE:\n            mask = LC_COLLATE_MASK;\n            break;\n          case LC_MONETARY:\n            mask = LC_MONETARY_MASK;\n            break;\n          case LC_MESSAGES:\n            mask = LC_MESSAGES_MASK;\n            break;\n          default:  \n            return \"\";\n          }\n        return querylocale (mask, thread_locale);\n#  elif defined __sun\n#   if HAVE_GETLOCALENAME_L\n         \n        return getlocalename_l (category, thread_locale);\n#   elif HAVE_SOLARIS114_LOCALES\n         \n        void *lcp = (*thread_locale)->core.data->lcp;\n        if (lcp != NULL)\n          switch (category)\n            {\n            case LC_CTYPE:\n            case LC_NUMERIC:\n            case LC_TIME:\n            case LC_COLLATE:\n            case LC_MONETARY:\n            case LC_MESSAGES:\n              return ((const char * const *) lcp)[category];\n            default:  \n              return \"\";\n            }\n#   elif HAVE_NAMELESS_LOCALES\n        return get_locale_t_name (category, thread_locale);\n#   else\n         \n        switch (category)\n          {\n          case LC_CTYPE:\n          case LC_NUMERIC:\n          case LC_TIME:\n          case LC_COLLATE:\n          case LC_MONETARY:\n          case LC_MESSAGES:\n            return ((const char * const *) thread_locale)[category];\n          default:  \n            return \"\";\n          }\n#   endif\n#  elif defined _AIX && HAVE_NAMELESS_LOCALES\n        return get_locale_t_name (category, thread_locale);\n#  elif defined __CYGWIN__\n         \n#   ifdef NL_LOCALE_NAME\n        return nl_langinfo_l (NL_LOCALE_NAME (category), thread_locale);\n#   else\n         \n        struct __locale_t {\n          char categories[7][32];\n        };\n        return ((struct __locale_t *) thread_locale)->categories[category];\n#   endif\n#  elif defined __HAIKU__\n         \n        struct LocaleBackendData {\n          int magic;\n          void   *backend;\n          void   *databridge;\n        };\n        void *thread_locale_backend =\n          ((struct LocaleBackendData *) thread_locale)->backend;\n        if (thread_locale_backend != NULL)\n          {\n             \n            static void * volatile querylocale_method  ;\n            static int volatile querylocale_found  ;\n             \n            if (querylocale_found == 0)\n              {\n                void *handle =\n                  dlopen (\"/boot/system/lib/libroot-addon-icu.so\", 0);\n                if (handle != NULL)\n                  {\n                    void *sym =\n                      dlsym (handle, \"_ZN8BPrivate7Libroot16ICULocaleBackend12_QueryLocaleEi\");\n                    if (sym != NULL)\n                      {\n                        querylocale_method = sym;\n                        querylocale_found = 1;\n                      }\n                    else\n                       \n                      querylocale_found = -1;\n                  }\n                else\n                   \n                  querylocale_found = -1;\n              }\n            if (querylocale_found > 0)\n              {\n                 \n                const char * (*querylocale_func) (void *, int) =\n                  (const char * (*) (void *, int)) querylocale_method;\n                return querylocale_func (thread_locale_backend, category);\n              }\n          }\n        else\n           \n          return \"C\";\n#  elif defined __ANDROID__\n        return MB_CUR_MAX == 4 ? \"C.UTF-8\" : \"C\";\n#  endif\n      }\n  }\n# endif\n  return NULL;\n}\n\n#endif\n\nconst char *\ngl_locale_name_thread (int category, _GL_UNUSED const char *categoryname)\n{\n#if HAVE_GOOD_USELOCALE\n  const char *name = gl_locale_name_thread_unsafe (category, categoryname);\n  if (name != NULL)\n    return struniq (name);\n#endif\n   \n  return NULL;\n}\n\n \n#if defined _LIBC || ((defined __GLIBC__ && __GLIBC__ >= 2) && !defined __UCLIBC__)\n# define HAVE_LOCALE_NULL\n#endif\n\nconst char *\ngl_locale_name_posix (int category, _GL_UNUSED const char *categoryname)\n{\n#if defined WINDOWS_NATIVE\n  if (LC_MIN <= category && category <= LC_MAX)\n    {\n      const char *locname =\n         \n        setlocale (category, NULL);\n\n       \n      LCID lcid = get_lcid (locname);\n\n      if (lcid > 0)\n        return gl_locale_name_from_win32_LCID (lcid);\n    }\n#endif\n  {\n    const char *locname;\n\n     \n#if defined HAVE_LC_MESSAGES && defined HAVE_LOCALE_NULL\n    locname = setlocale_null (category);\n#else\n     \n     \n    locname = gl_locale_name_environ (category, categoryname);\n#endif\n     \n#if defined WINDOWS_NATIVE\n    if (locname != NULL)\n      {\n         \n        LCID lcid = get_lcid (locname);\n\n        if (lcid > 0)\n          return gl_locale_name_from_win32_LCID (lcid);\n      }\n#endif\n    return locname;\n  }\n}\n\nconst char *\ngl_locale_name_environ (_GL_UNUSED int category, const char *categoryname)\n{\n  const char *retval;\n\n   \n  retval = getenv (\"LC_ALL\");\n  if (retval != NULL && retval[0] != '\\0')\n    return retval;\n   \n  retval = getenv (categoryname);\n  if (retval != NULL && retval[0] != '\\0')\n    return retval;\n   \n  retval = getenv (\"LANG\");\n  if (retval != NULL && retval[0] != '\\0')\n    {\n#if HAVE_CFPREFERENCESCOPYAPPVALUE\n       \n      if (strcmp (retval, \"UTF-8\") != 0)\n#endif\n#if defined __CYGWIN__\n       \n      if (strcmp (retval, \"C.UTF-8\") != 0)\n#endif\n        return retval;\n    }\n\n  return NULL;\n}\n\nconst char *\ngl_locale_name_default (void)\n{\n   \n\n#if !(HAVE_CFPREFERENCESCOPYAPPVALUE || defined WINDOWS_NATIVE || defined __CYGWIN__)\n\n   \n  return \"C\";\n\n#else\n\n   \n\n# if HAVE_CFPREFERENCESCOPYAPPVALUE\n   \n   \n  {\n     \n    static const char *cached_localename;\n\n    if (cached_localename == NULL)\n      {\n        char namebuf[256];\n        CFTypeRef value =\n          CFPreferencesCopyAppValue (CFSTR (\"AppleLocale\"),\n                                     kCFPreferencesCurrentApplication);\n        if (value != NULL && CFGetTypeID (value) == CFStringGetTypeID ())\n          {\n            CFStringRef name = (CFStringRef)value;\n\n            if (CFStringGetCString (name, namebuf, sizeof (namebuf),\n                                    kCFStringEncodingASCII))\n              {\n                gl_locale_name_canonicalize (namebuf);\n                cached_localename = strdup (namebuf);\n              }\n          }\n        if (cached_localename == NULL)\n          cached_localename = \"C\";\n      }\n    return cached_localename;\n  }\n\n# endif\n\n# if defined WINDOWS_NATIVE || defined __CYGWIN__  \n  {\n    LCID lcid;\n\n     \n    lcid = GetThreadLocale ();\n\n    return gl_locale_name_from_win32_LCID (lcid);\n  }\n# endif\n#endif\n}\n\n \n\nconst char *\ngl_locale_name (int category, const char *categoryname)\n{\n  const char *retval;\n\n  retval = gl_locale_name_thread (category, categoryname);\n  if (retval != NULL)\n    return retval;\n\n  retval = gl_locale_name_posix (category, categoryname);\n  if (retval != NULL)\n    return retval;\n\n  return gl_locale_name_default ();\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}