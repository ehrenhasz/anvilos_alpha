{
  "module_name": "test-argmatch.c",
  "hash_id": "50807ad8eb2a49fc53fb1295f12615f6a33bc21bc84ee4d7fda9b8871a464937",
  "original_prompt": "Ingested from coreutils-9.4/gnulib-tests/test-argmatch.c",
  "human_readable_source": " \n\n#include <config.h>\n\n \n#if 10 <= __GNUC__\n# pragma GCC diagnostic ignored \"-Wanalyzer-null-argument\"\n#endif\n\n#include \"argmatch.h\"\n\n#include <stdlib.h>\n\n#include \"macros.h\"\n\n# define N_(Msgid) (Msgid)\n\n \n#ifdef ARGMATCH_DIE_DECL\n\n_Noreturn ARGMATCH_DIE_DECL;\nARGMATCH_DIE_DECL { exit (1); }\n\n#endif\n\nenum backup_type\n{\n  no_backups,\n  simple_backups,\n  numbered_existing_backups,\n  numbered_backups\n};\n\nstatic const char *const backup_args[] =\n{\n  \"no\", \"none\", \"off\",\n  \"simple\", \"never\", \"single\",\n  \"existing\", \"nil\", \"numbered-existing\",\n  \"numbered\", \"t\", \"newstyle\",\n  NULL\n};\n\nstatic const enum backup_type backup_vals[] =\n{\n  no_backups, no_backups, no_backups,\n  simple_backups, simple_backups, simple_backups,\n  numbered_existing_backups, numbered_existing_backups, numbered_existing_backups,\n  numbered_backups, numbered_backups, numbered_backups\n};\n\nARGMATCH_DEFINE_GROUP(backup, enum backup_type)\n\nstatic const argmatch_backup_doc argmatch_backup_docs[] =\n{\n  { \"no\",       N_(\"never make backups (even if --backup is given)\") },\n  { \"numbered\", N_(\"make numbered backups\") },\n  { \"existing\", N_(\"numbered if numbered backups exist, simple otherwise\") },\n  { \"simple\",   N_(\"always make simple backups\") },\n  { NULL, NULL }\n};\n\nstatic const argmatch_backup_arg argmatch_backup_args[] =\n{\n  { \"no\",                no_backups },\n  { \"none\",              no_backups },\n  { \"off\",               no_backups },\n  { \"simple\",            simple_backups },\n  { \"never\",             simple_backups },\n  { \"single\",            simple_backups },\n  { \"existing\",          numbered_existing_backups },\n  { \"nil\",               numbered_existing_backups },\n  { \"numbered-existing\", numbered_existing_backups },\n  { \"numbered\",          numbered_backups },\n  { \"t\",                 numbered_backups },\n  { \"newstyle\",          numbered_backups },\n  { NULL, no_backups }\n};\n\nconst argmatch_backup_group_type argmatch_backup_group =\n{\n  argmatch_backup_args,\n  argmatch_backup_docs,\n  N_(\"\\\nThe backup suffix is '~', unless set with --suffix or SIMPLE_BACKUP_SUFFIX.\\n\\\nThe version control method may be selected via the --backup option or through\\n\\\nthe VERSION_CONTROL environment variable.  Here are the values:\\n\"),\n  NULL\n};\n\nint\nmain (int argc, char *argv[])\n{\n#define CHECK(Input, Output)                                            \\\n  do {                                                                  \\\n    ASSERT (ARGMATCH (Input, backup_args, backup_vals) == Output);      \\\n    ASSERT (argmatch_backup_choice (Input) == Output);                  \\\n    if (0 <= Output)                                                    \\\n      {                                                                 \\\n        enum backup_type val                                            \\\n          = argmatch_backup_args[Output < 0 ? 0 : Output].val;          \\\n        ASSERT (*argmatch_backup_value (\"test\", Input) == val);         \\\n        ASSERT (*argmatch_backup_value (\"test\",                         \\\n                                        argmatch_backup_argument (&val)) \\\n                == val);                                                \\\n      }                                                                 \\\n  } while (0)\n\n#define CHECK_EXACT(Input, Output)                                      \\\n  do {                                                                  \\\n    ASSERT (ARGMATCH_EXACT (Input, backup_args) == Output);             \\\n  } while (0)\n\n   \n  CHECK (\"klingon\", -1);\n  CHECK_EXACT (\"klingon\", -1);\n\n   \n  CHECK (\"none\", 1);\n  CHECK_EXACT (\"none\", 1);\n  CHECK (\"nil\", 7);\n  CHECK_EXACT (\"nil\", 7);\n\n   \n  CHECK (\"nilpotent\", -1);\n  CHECK_EXACT (\"nilpotent\", -1);\n\n   \n  CHECK (\"simpl\", 3);\n  CHECK_EXACT (\"simpl\", -1);\n  CHECK (\"simp\", 3);\n  CHECK_EXACT (\"simp\", -1);\n  CHECK (\"sim\", 3);\n  CHECK_EXACT (\"sim\", -1);\n\n   \n  CHECK (\"numbered\", 9);\n  CHECK_EXACT (\"numbered\", 9);\n  CHECK (\"numbere\", -2);\n  CHECK_EXACT (\"numbere\", -1);\n  CHECK (\"number\", -2);\n  CHECK_EXACT (\"number\", -1);\n  CHECK (\"numbe\", -2);\n  CHECK_EXACT (\"numbe\", -1);\n  CHECK (\"numb\", -2);\n  CHECK_EXACT (\"numb\", -1);\n  CHECK (\"num\", -2);\n  CHECK_EXACT (\"num\", -1);\n  CHECK (\"nu\", -2);\n  CHECK_EXACT (\"nu\", -1);\n  CHECK (\"n\", -2);\n  CHECK_EXACT (\"n\", -1);\n\n   \n  CHECK (\"ne\", -2);\n  CHECK_EXACT (\"ne\", -1);\n\n   \n  CHECK (\"si\", 3);\n  CHECK_EXACT (\"si\", -1);\n  CHECK (\"s\", 3);\n  CHECK_EXACT (\"s\", -1);\n\n#undef CHECK\n#undef CHECK_EXACT\n\n  argmatch_backup_usage (stdout);\n\n  return 0;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}