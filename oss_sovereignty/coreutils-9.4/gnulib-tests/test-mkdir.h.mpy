{
  "module_name": "test-mkdir.h",
  "hash_id": "000adbf48cca0c630cdc3dd6287579ca08b59647373c54df99175f505d21559c",
  "original_prompt": "Ingested from coreutils-9.4/gnulib-tests/test-mkdir.h",
  "human_readable_source": " \n\nstatic int\ntest_mkdir (int (*func) (char const *, mode_t), bool print)\n{\n   \n  ASSERT (close (creat (BASE \"file\", 0600)) == 0);\n  errno = 0;\n  ASSERT (func (BASE \"file\", 0700) == -1);\n  ASSERT (errno == EEXIST);\n  errno = 0;\n  ASSERT (func (BASE \"file/\", 0700) == -1);\n  ASSERT (errno == ENOTDIR || errno == EEXIST);\n  errno = 0;\n  ASSERT (func (BASE \"file/dir\", 0700) == -1);\n  ASSERT (errno == ENOTDIR || errno == ENOENT || errno == EOPNOTSUPP);\n  ASSERT (unlink (BASE \"file\") == 0);\n  errno = 0;\n  ASSERT (func (\"\", 0700) == -1);\n  ASSERT (errno == ENOENT);\n  errno = 0;\n  ASSERT (func (BASE \"dir/sub\", 0700) == -1);\n  ASSERT (errno == ENOENT);\n  errno = 0;\n  ASSERT (func (BASE \"dir/.\", 0700) == -1);\n  ASSERT (errno == ENOENT);\n  errno = 0;\n  ASSERT (func (BASE \"dir/.//\", 0700) == -1);\n  ASSERT (errno == ENOENT);\n\n   \n  ASSERT (func (BASE \"dir\", 0700) == 0);\n  errno = 0;\n  ASSERT (func (BASE \"dir\", 0700) == -1);\n  ASSERT (errno == EEXIST);\n  ASSERT (rmdir (BASE \"dir\") == 0);\n  ASSERT (func (BASE \"dir/\", 0700) == 0);\n  errno = 0;\n  ASSERT (func (BASE \"dir/\", 0700) == -1);\n  ASSERT (errno == EEXIST);\n  ASSERT (rmdir (BASE \"dir\") == 0);\n\n   \n  if (symlink (BASE \"dir\", BASE \"link\"))\n    {\n      if (print)\n        fputs (\"skipping test: symlinks not supported on this file system\\n\",\n               stderr);\n      return 77;\n    }\n  errno = 0;\n  ASSERT (func (BASE \"link\", 0700) == -1);\n  ASSERT (errno == EEXIST);\n  {\n    int result;\n    errno = 0;\n    result = func (BASE \"link/\", 0700);\n    if (!result)\n      ASSERT (rmdir (BASE \"dir\") == 0);\n    else\n      {\n        ASSERT (result == -1);\n        ASSERT (errno == EEXIST);\n        errno = 0;\n        ASSERT (rmdir (BASE \"dir\") == -1);\n        ASSERT (errno == ENOENT);\n      }\n  }\n  errno = 0;\n  ASSERT (func (BASE \"link/.\", 0700) == -1);\n  ASSERT (errno == ENOENT);\n  ASSERT (unlink (BASE \"link\") == 0);\n\n  return 0;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}