{
  "module_name": "test-c-strcasestr.c",
  "hash_id": "a4f13f142947515067056c9ac22ea376d27b67b8a0df6bbfd6dc3ec72da02ac9",
  "original_prompt": "Ingested from coreutils-9.4/gnulib-tests/test-c-strcasestr.c",
  "human_readable_source": " \n\n#include <config.h>\n\n#include \"c-strcasestr.h\"\n\n#include <stdlib.h>\n#include <string.h>\n\n#include \"macros.h\"\n\nint\nmain ()\n{\n  {\n    const char input[] = \"foo\";\n    const char *result = c_strcasestr (input, \"\");\n    ASSERT (result == input);\n  }\n\n  {\n    const char input[] = \"foo\";\n    const char *result = c_strcasestr (input, \"O\");\n    ASSERT (result == input + 1);\n  }\n\n  {\n    const char input[] = \"ABC ABCDAB ABCDABCDABDE\";\n    const char *result = c_strcasestr (input, \"ABCDaBD\");\n    ASSERT (result == input + 15);\n  }\n\n  {\n    const char input[] = \"ABC ABCDAB ABCDABCDABDE\";\n    const char *result = c_strcasestr (input, \"ABCDaBE\");\n    ASSERT (result == NULL);\n  }\n\n  {\n    const char input[] = \"ABC ABCDAB ABCDABCDABDE\";\n    const char *result = c_strcasestr (input, \"ABCDaBCD\");\n    ASSERT (result == input + 11);\n  }\n\n   \n  {\n    const char input[] = \"F_BD_CE_BD_EF_BF_BD_EF_BF_BD_EF_BF_BD_EF_BF_BD\"\n                         \"_C3_88_20_EF_BF_BD_EF_BF_BD_EF_BF_BD\"\n                         \"_C3_A7_20_EF_BF_BD\";\n    const char need[] = \"_EF_BF_BD_EF_BF_BD_EF_BF_BD_EF_BF_BD_EF_BF_BD\";\n    const char *result = c_strcasestr (input, need);\n    ASSERT (result == NULL);\n  }\n  {\n    const char input[] = \"F_BD_CE_BD_EF_BF_BD_EF_BF_BD_EF_BF_BD_EF_BF_BD\"\n                         \"_C3_88_20_EF_BF_BD_EF_BF_BD_EF_BF_BD\"\n                         \"_C3_A7_20_EF_BF_BD_DA_B5_C2_A6_20\"\n                         \"_EF_BF_BD_EF_BF_BD_EF_BF_BD_EF_BF_BD_EF_BF_BD\";\n    const char need[] = \"_EF_BF_BD_EF_BF_BD_EF_BF_BD_EF_BF_BD_EF_BF_BD\";\n    const char *result = c_strcasestr (input, need);\n    ASSERT (result == input + 115);\n  }\n\n   \n  {\n    size_t repeat = 10000;\n    size_t m = 1000000;\n    const char *needle =\n      \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\"\n      \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaAaaaaaaAAAAaaaaaaa\"\n      \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\";\n    char *haystack = (char *) malloc (m + 1);\n    if (haystack != NULL)\n      {\n        memset (haystack, 'A', m);\n        haystack[0] = 'B';\n        haystack[m] = '\\0';\n\n        for (; repeat > 0; repeat--)\n          {\n            ASSERT (c_strcasestr (haystack, needle) == haystack + 1);\n          }\n\n        free (haystack);\n      }\n  }\n\n   \n  {\n    size_t repeat = 10000;\n    size_t m = 1000000;\n    const char *haystack =\n      \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\"\n      \"ABABABABABABABABABABABABABABABABABABABABABABABABABABABABABABABABABAB\";\n    char *needle = (char *) malloc (m + 1);\n    if (needle != NULL)\n      {\n        memset (needle, 'A', m);\n        needle[m] = '\\0';\n\n        for (; repeat > 0; repeat--)\n          {\n            ASSERT (c_strcasestr (haystack, needle) == NULL);\n          }\n\n        free (needle);\n      }\n  }\n\n   \n  {\n    size_t m = 1000000;\n    char *haystack = (char *) malloc (2 * m + 2);\n    char *needle = (char *) malloc (m + 2);\n    if (haystack != NULL && needle != NULL)\n      {\n        const char *result;\n\n        memset (haystack, 'A', 2 * m);\n        haystack[2 * m] = 'B';\n        haystack[2 * m + 1] = '\\0';\n\n        memset (needle, 'a', m);\n        needle[m] = 'B';\n        needle[m + 1] = '\\0';\n\n        result = c_strcasestr (haystack, needle);\n        ASSERT (result == haystack + m);\n      }\n    free (needle);\n    free (haystack);\n  }\n\n  {\n     \n    const char *haystack =\n      \"\\n\"\n      \"with_build_libsubdir\\n\"\n      \"with_local_prefix\\n\"\n      \"with_gxx_include_dir\\n\"\n      \"with_cpp_install_dir\\n\"\n      \"enable_generated_files_in_srcdir\\n\"\n      \"with_gnu_ld\\n\"\n      \"with_ld\\n\"\n      \"with_demangler_in_ld\\n\"\n      \"with_gnu_as\\n\"\n      \"with_as\\n\"\n      \"enable_largefile\\n\"\n      \"enable_werror_always\\n\"\n      \"enable_checking\\n\"\n      \"enable_coverage\\n\"\n      \"enable_gather_detailed_mem_stats\\n\"\n      \"enable_build_with_cxx\\n\"\n      \"with_stabs\\n\"\n      \"enable_multilib\\n\"\n      \"enable___cxa_atexit\\n\"\n      \"enable_decimal_float\\n\"\n      \"enable_fixed_point\\n\"\n      \"enable_threads\\n\"\n      \"enable_tls\\n\"\n      \"enable_objc_gc\\n\"\n      \"with_dwarf2\\n\"\n      \"enable_shared\\n\"\n      \"with_build_sysroot\\n\"\n      \"with_sysroot\\n\"\n      \"with_specs\\n\"\n      \"with_pkgversion\\n\"\n      \"with_bugurl\\n\"\n      \"enable_languages\\n\"\n      \"with_multilib_list\\n\";\n    const char *needle = \"\\n\"\n      \"with_GNU_ld\\n\";\n    const char* p = c_strcasestr (haystack, needle);\n    ASSERT (p - haystack == 114);\n  }\n\n  {\n     \n    const char *haystack = \"..wi.D.\";\n    const char *needle = \".d.\";\n    const char* p = c_strcasestr (haystack, needle);\n    ASSERT (p - haystack == 4);\n  }\n\n  {\n     \n    const char *needle = \"\\nwith_gnu_ld-extend-to-len-32-b\\n\";\n    const char *h =\n      \"\\n\"\n      \"with_build_libsubdir\\n\"\n      \"with_local_prefix\\n\"\n      \"with_gxx_include_dir\\n\"\n      \"with_cpp_install_dir\\n\"\n      \"with_e_\\n\"\n      \"..............................\\n\"\n      \"with_FGHIJKLMNOPQRSTUVWXYZ\\n\"\n      \"with_567890123456789\\n\"\n      \"with_multilib_list\\n\";\n    size_t h_len = strlen (h);\n    char *haystack = malloc (h_len + 1);\n    size_t i;\n    ASSERT (haystack);\n    for (i = 0; i < h_len - strlen (needle); i++)\n      {\n        const char *p;\n        memcpy (haystack, h, h_len + 1);\n        memcpy (haystack + i, needle, strlen (needle) + 1);\n        p = c_strcasestr (haystack, needle);\n        ASSERT (p);\n        ASSERT (p - haystack == i);\n      }\n    free (haystack);\n  }\n\n   \n  {\n    size_t m = 1024;\n    char *haystack = (char *) malloc (2 * m + 1);\n    char *needle = (char *) malloc (m + 1);\n    if (haystack != NULL && needle != NULL)\n      {\n        const char *p;\n        haystack[0] = 'x';\n        memset (haystack + 1, ' ', m - 1);\n        memset (haystack + m, 'x', m);\n        haystack[2 * m] = '\\0';\n        memset (needle, 'X', m);\n        needle[m] = '\\0';\n        p = c_strcasestr (haystack, needle);\n        ASSERT (p);\n        ASSERT (p - haystack == m);\n      }\n    free (needle);\n    free (haystack);\n  }\n\n  return 0;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}