{
  "module_name": "test-fnmatch-w32.c",
  "hash_id": "85476d2ac6bfd19e9d2af72df2798da50010afc4056e9509c0b9eff78f5523c7",
  "original_prompt": "Ingested from coreutils-9.4/gnulib-tests/test-fnmatch-w32.c",
  "human_readable_source": " \n  {\n    char name_with_codepage[1024];\n\n    sprintf (name_with_codepage, \"%s.%d\", name, codepage);\n\n     \n    if (setlocale (LC_ALL, name_with_codepage) == NULL)\n      return 77;\n  }\n# else\n   \n  {\n     \n    extern __declspec(dllimport) unsigned int __lc_codepage;\n\n     \n    if (setlocale (LC_ALL, name) == NULL)\n      return 77;\n\n     \n    __lc_codepage = codepage;\n    switch (codepage)\n      {\n      case 1252:\n      case 1256:\n        MB_CUR_MAX = 1;\n        break;\n      case 932:\n      case 950:\n      case 936:\n        MB_CUR_MAX = 2;\n        break;\n      case 54936:\n      case 65001:\n        MB_CUR_MAX = 4;\n        break;\n      }\n\n     \n    mbstate_t state;\n    wchar_t wc;\n    memset (&state, '\\0', sizeof (mbstate_t));\n    if (mbrtowc (&wc, \" \", 1, &state) == (size_t)(-1))\n      return 77;\n  }\n# endif\n\n  switch (codepage)\n    {\n    case 1252:\n       \n\n      ASSERT (fnmatch (\"x?y\", \"x\\374y\", 0) == 0);  \n      ASSERT (fnmatch (\"x?y\", \"x\\337y\", 0) == 0);  \n       \n      ASSERT (fnmatch (\"x[[:alnum:]]y\", \"x\\330y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:alpha:]]y\", \"x\\330y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:graph:]]y\", \"x\\270y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:lower:]]y\", \"x\\377y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:print:]]y\", \"x\\270y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:punct:]]y\", \"x\\277y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:upper:]]y\", \"x\\311y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:alnum:]]y\", \"x\\327y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:alpha:]]y\", \"x\\327y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:blank:]]y\", \"x\\330y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:cntrl:]]y\", \"x\\330y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:digit:]]y\", \"x\\330y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:lower:]]y\", \"x\\262y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:punct:]]y\", \"x\\330y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:space:]]y\", \"x\\330y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:upper:]]y\", \"x\\262y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:xdigit:]]y\", \"x\\330y\", 0) == FNM_NOMATCH);\n\n      #if GNULIB_FNMATCH_GNU && defined FNM_CASEFOLD\n       \n      ASSERT (fnmatch (\"H\\366hle\", \"H\\326hLe\", FNM_CASEFOLD) == 0);\n      ASSERT (fnmatch (\"H\\326hLe\", \"H\\366hle\", FNM_CASEFOLD) == 0);\n      ASSERT (fnmatch (\"H\\326hle\", \"H\\366hLe\", FNM_CASEFOLD) == 0);\n      ASSERT (fnmatch (\"H\\366hLe\", \"H\\326hle\", FNM_CASEFOLD) == 0);\n      #endif\n\n      return 0;\n\n    case 1256:\n       \n\n      ASSERT (fnmatch (\"x?y\", \"x\\302y\", 0) == 0);  \n      ASSERT (fnmatch (\"x?y\", \"x\\341y\", 0) == 0);  \n      ASSERT (fnmatch (\"x?y\", \"x\\346y\", 0) == 0);  \n\n      return 0;\n\n    case 65001:\n       \n      if (strcmp (locale_charset (), \"UTF-8\") != 0)\n        return 77;\n\n      ASSERT (fnmatch (\"x?y\", \"x\\303\\274y\", 0) == 0);  \n      ASSERT (fnmatch (\"x?y\", \"x\\303\\237y\", 0) == 0);  \n      ASSERT (fnmatch (\"x?y\", \"x\\360\\237\\230\\213y\", 0) == 0);  \n       \n      ASSERT (fnmatch (\"x[[:alnum:]]y\", \"x\\305\\201y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:alnum:]]y\", \"x\\360\\220\\214\\260y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:alpha:]]y\", \"x\\305\\201y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:alpha:]]y\", \"x\\360\\220\\214\\260y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:graph:]]y\", \"x\\302\\270y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:graph:]]y\", \"x\\360\\240\\200\\200y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:lower:]]y\", \"x\\303\\277y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:lower:]]y\", \"x\\360\\220\\221\\201y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:print:]]y\", \"x\\302\\270y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:print:]]y\", \"x\\360\\240\\200\\200y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:punct:]]y\", \"x\\302\\277y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:punct:]]y\", \"x\\360\\235\\204\\200y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:space:]]y\", \"x\\343\\200\\200y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:upper:]]y\", \"x\\320\\251y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:upper:]]y\", \"x\\360\\220\\220\\231y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:alnum:]]y\", \"x\\303\\227y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:alpha:]]y\", \"x\\303\\227y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:blank:]]y\", \"x\\305\\201y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:cntrl:]]y\", \"x\\305\\201y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:digit:]]y\", \"x\\305\\201y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:graph:]]y\", \"x\\342\\200\\202y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:lower:]]y\", \"x\\302\\262y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:punct:]]y\", \"x\\305\\201y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:space:]]y\", \"x\\305\\201y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:upper:]]y\", \"x\\302\\262y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:xdigit:]]y\", \"x\\305\\201y\", 0) == FNM_NOMATCH);\n\n      #if GNULIB_FNMATCH_GNU && defined FNM_CASEFOLD\n       \n      {\n         \n        mbstate_t state;\n        wchar_t wc;\n        memset (&state, 0, sizeof (mbstate_t));\n        if (mbrtowc (&wc, \"\\303\\274\", 2, &state) == 2\n            && towupper (wc) != wc)\n          {\n            ASSERT (fnmatch (\"\\303\\266zg\\303\\274r\", \"\\303\\226ZG\\303\\234R\", FNM_CASEFOLD) == 0);\n            ASSERT (fnmatch (\"\\303\\226ZG\\303\\234R\", \"\\303\\266zg\\303\\274r\", FNM_CASEFOLD) == 0);\n            ASSERT (fnmatch (\"\\303\\266Zg\\303\\234r\", \"\\303\\226zG\\303\\274R\", FNM_CASEFOLD) == 0);\n            ASSERT (fnmatch (\"\\303\\226zG\\303\\274R\", \"\\303\\266Zg\\303\\234r\", FNM_CASEFOLD) == 0);\n          }\n      }\n      #endif\n\n      return 0;\n\n    case 932:\n       \n\n      ASSERT (fnmatch (\"x?y\", \"x\\223\\372y\", 0) == 0);  \n      ASSERT (fnmatch (\"x?y\", \"x\\226\\173y\", 0) == 0);  \n      ASSERT (fnmatch (\"x?y\", \"x\\214\\352y\", 0) == 0);  \n\n      return 0;\n\n    case 950:\n       \n\n      ASSERT (fnmatch (\"x?y\", \"x\\244\\351y\", 0) == 0);  \n      ASSERT (fnmatch (\"x?y\", \"x\\245\\273y\", 0) == 0);  \n      ASSERT (fnmatch (\"x?y\", \"x\\273\\171y\", 0) == 0);  \n\n       \n      ASSERT (fnmatch (\"x[[:alnum:]]y\", \"x\\242\\365y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:alpha:]]y\", \"x\\242\\365y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:graph:]]y\", \"x\\241\\102y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:lower:]]y\", \"x\\242\\365y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:print:]]y\", \"x\\241\\102y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:punct:]]y\", \"x\\241\\321y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:space:]]y\", \"x\\241\\100y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:upper:]]y\", \"x\\242\\333y\", 0) == 0);\n\n      #if GNULIB_FNMATCH_GNU && defined FNM_CASEFOLD\n       \n      ASSERT (fnmatch (\"\\243\\134-\\243\\163\", \"\\243\\104-\\243\\133\", FNM_CASEFOLD) == 0);\n      ASSERT (fnmatch (\"\\243\\104-\\243\\133\", \"\\243\\134-\\243\\163\", FNM_CASEFOLD) == 0);\n      ASSERT (fnmatch (\"\\243\\134-\\243\\133\", \"\\243\\104-\\243\\163\", FNM_CASEFOLD) == 0);\n      ASSERT (fnmatch (\"\\243\\104-\\243\\163\", \"\\243\\134-\\243\\133\", FNM_CASEFOLD) == 0);\n      #endif\n\n      return 0;\n\n    case 936:\n       \n\n      ASSERT (fnmatch (\"x?y\", \"x\\310\\325y\", 0) == 0);  \n      ASSERT (fnmatch (\"x?y\", \"x\\261\\276y\", 0) == 0);  \n      ASSERT (fnmatch (\"x?y\", \"x\\325\\132y\", 0) == 0);  \n\n       \n      ASSERT (fnmatch (\"x[[:alnum:]]y\", \"x\\243\\355y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:alpha:]]y\", \"x\\243\\355y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:graph:]]y\", \"x\\241\\242y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:lower:]]y\", \"x\\243\\355y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:print:]]y\", \"x\\241\\242y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:punct:]]y\", \"x\\241\\301y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:space:]]y\", \"x\\241\\241y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:upper:]]y\", \"x\\243\\315y\", 0) == 0);\n\n      #if GNULIB_FNMATCH_GNU && defined FNM_CASEFOLD\n       \n      ASSERT (fnmatch (\"\\246\\301-\\246\\330\", \"\\246\\241-\\246\\270\", FNM_CASEFOLD) == 0);\n      ASSERT (fnmatch (\"\\246\\241-\\246\\270\", \"\\246\\301-\\246\\330\", FNM_CASEFOLD) == 0);\n      ASSERT (fnmatch (\"\\246\\301-\\246\\270\", \"\\246\\241-\\246\\330\", FNM_CASEFOLD) == 0);\n      ASSERT (fnmatch (\"\\246\\241-\\246\\330\", \"\\246\\301-\\246\\270\", FNM_CASEFOLD) == 0);\n      #endif\n\n      return 0;\n\n    case 54936:\n       \n      if (strcmp (locale_charset (), \"GB18030\") != 0)\n        return 77;\n\n      ASSERT (fnmatch (\"x?y\", \"x\\250\\271y\", 0) == 0);  \n      ASSERT (fnmatch (\"x?y\", \"x\\201\\060\\211\\070y\", 0) == 0);  \n      ASSERT (fnmatch (\"x?y\", \"x\\224\\071\\375\\067y\", 0) == 0);  \n       \n      ASSERT (fnmatch (\"x[[:alnum:]]y\", \"x\\201\\060\\221\\071y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:alpha:]]y\", \"x\\201\\060\\221\\071y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:graph:]]y\", \"x\\201\\060\\206\\060y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:graph:]]y\", \"x\\225\\062\\202\\066y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:lower:]]y\", \"x\\201\\060\\213\\067y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:lower:]]y\", \"x\\220\\060\\355\\071y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:print:]]y\", \"x\\201\\060\\206\\060y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:print:]]y\", \"x\\225\\062\\202\\066y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:punct:]]y\", \"x\\241\\301y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:punct:]]y\", \"x\\224\\062\\273\\064y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:space:]]y\", \"x\\241\\241y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:upper:]]y\", \"x\\247\\273y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:upper:]]y\", \"x\\220\\060\\351\\071y\", 0) == 0);\n       \n      ASSERT (fnmatch (\"x[[:alnum:]]y\", \"x\\241\\242y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:alpha:]]y\", \"x\\241\\242y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:blank:]]y\", \"x\\241\\242y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:cntrl:]]y\", \"x\\241\\242y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:digit:]]y\", \"x\\241\\242y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:graph:]]y\", \"x\\241\\241y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:lower:]]y\", \"x\\241\\242y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:punct:]]y\", \"x\\201\\060\\211\\061y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:space:]]y\", \"x\\241\\242y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:upper:]]y\", \"x\\241\\242y\", 0) == FNM_NOMATCH);\n       \n      ASSERT (fnmatch (\"x[[:xdigit:]]y\", \"x\\241\\242y\", 0) == FNM_NOMATCH);\n\n      #if GNULIB_FNMATCH_GNU && defined FNM_CASEFOLD\n       \n      ASSERT (fnmatch (\"\\201\\060\\213\\062zg\\250\\271r\", \"\\201\\060\\211\\060ZG\\201\\060\\211\\065R\", FNM_CASEFOLD) == 0);\n      ASSERT (fnmatch (\"\\201\\060\\211\\060ZG\\201\\060\\211\\065R\", \"\\201\\060\\213\\062zg\\250\\271r\", FNM_CASEFOLD) == 0);\n      ASSERT (fnmatch (\"\\201\\060\\213\\062Zg\\201\\060\\211\\065r\", \"\\201\\060\\211\\060zG\\250\\271R\", FNM_CASEFOLD) == 0);\n      ASSERT (fnmatch (\"\\201\\060\\211\\060zG\\250\\271R\", \"\\201\\060\\213\\062Zg\\201\\060\\211\\065r\", FNM_CASEFOLD) == 0);\n      #endif\n\n      return 0;\n\n    default:\n      return 1;\n    }\n}\n\nint\nmain (int argc, char *argv[])\n{\n  int codepage = atoi (argv[argc - 1]);\n  int result;\n  int i;\n\n  result = 77;\n  for (i = 1; i < argc - 1; i++)\n    {\n      int ret = test_one_locale (argv[i], codepage);\n\n      if (ret != 77)\n        result = ret;\n    }\n\n  if (result == 77)\n    {\n      fprintf (stderr, \"Skipping test: found no locale with codepage %d\\n\",\n               codepage);\n    }\n  return result;\n}\n\n#else\n\nint\nmain (int argc, char *argv[])\n{\n  fputs (\"Skipping test: not a native Windows system\\n\", stderr);\n  return 77;\n}\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}