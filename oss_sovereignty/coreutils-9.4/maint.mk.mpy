{
  "module_name": "maint.mk",
  "hash_id": "c256d39531fb7721f1baf21d68570c3e6a2b7cc5f41bac73040e117dc35e350e",
  "original_prompt": "Ingested from coreutils-9.4/maint.mk",
  "human_readable_source": "# -*-Makefile-*-\n# This Makefile fragment tries to be general-purpose enough to be\n# used by many projects via the gnulib maintainer-makefile module.\n\n## Copyright (C) 2001-2023 Free Software Foundation, Inc.\n##\n## This program is free software: you can redistribute it and/or modify\n## it under the terms of the GNU General Public License as published by\n## the Free Software Foundation, either version 3 of the License, or\n## (at your option) any later version.\n##\n## This program is distributed in the hope that it will be useful,\n## but WITHOUT ANY WARRANTY; without even the implied warranty of\n## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n## GNU General Public License for more details.\n##\n## You should have received a copy of the GNU General Public License\n## along with this program.  If not, see <https://www.gnu.org/licenses/>.\n\n# This is reported not to work with make-3.79.1\n# ME := $(word $(words $(MAKEFILE_LIST)),$(MAKEFILE_LIST))\nME := maint.mk\n\n# These variables ought to be defined through the configure.ac section\n# of the module description. But some packages import this file directly,\n# ignoring the module description.\nAWK ?= awk\nGREP ?= grep\nSED ?= sed\n\n# Helper variables.\n_empty =\n_sp = $(_empty) $(_empty)\n\n# _equal,S1,S2\n# ------------\n# If S1 == S2, return S1, otherwise the empty string.\n_equal = $(and $(findstring $(1),$(2)),$(findstring $(2),$(1)))\n\n# member-check,VARIABLE,VALID-VALUES\n# ----------------------------------\n# Check that $(VARIABLE) is in the space-separated list of VALID-VALUES, and\n# return it.  Die otherwise.\nmember-check =\t\t\t\t\t\t\t\t\\\n  $(strip\t\t\t\t\t\t\t\t\\\n    $(if $($(1)),\t\t\t\t\t\t\t\\\n      $(if $(findstring $(_sp),$($(1))),\t\t\t\t\\\n          $(error invalid $(1): '$($(1))', expected $(2)),\t\t\\\n          $(or $(findstring $(_sp)$($(1))$(_sp),$(_sp)$(2)$(_sp)),\t\\\n            $(error invalid $(1): '$($(1))', expected $(2)))),\t\t\\\n      $(error $(1) undefined)))\n\n# Do not save the original name or timestamp in the .tar.gz file.\n# Use --rsyncable if available.\ngzip_rsyncable := \\\n  $(shell gzip --help 2>/dev/null|$(GREP) rsyncable >/dev/null \\\n    && printf %s --rsyncable)\nGZIP_ENV = '--no-name --best $(gzip_rsyncable)'\n\nGIT = git\nVC = $(GIT)\n\nVC_LIST = $(srcdir)/$(_build-aux)/vc-list-files -C $(srcdir)\n\n# You can override this variable in cfg.mk if your gnulib submodule lives\n# in a different location.\ngnulib_dir ?= $(shell if test -n \"$(GNULIB_SRCDIR)\" && test -f \"$(GNULIB_SRCDIR)/gnulib-tool\"; then \\\n\t\t\techo \"$(GNULIB_SRCDIR)\"; \\\n\t\telse \\\n\t\t\techo $(srcdir)/gnulib; \\\n\t\tfi)\n\n# You can override this variable in cfg.mk to set your own regexp\n# matching files to ignore.\nVC_LIST_ALWAYS_EXCLUDE_REGEX ?= ^$$\n\n# This is to preprocess robustly the output of $(VC_LIST), so that even\n# when $(srcdir) is a pathological name like \"....\", the leading sed command\n# removes only the intended prefix.\n_dot_escaped_srcdir = $(subst .,\\.,$(srcdir))\n\n# Post-process $(VC_LIST) output, prepending $(srcdir)/, but only\n# when $(srcdir) is not \".\".\nifeq ($(srcdir),.)\n  _prepend_srcdir_prefix =\nelse\n  _prepend_srcdir_prefix = | $(SED) 's|^|$(srcdir)/|'\nendif\n\n# In order to be able to consistently filter \".\"-relative names,\n# (i.e., with no $(srcdir) prefix), this definition is careful to\n# remove any $(srcdir) prefix, and to restore what it removes.\n_sc_excl = \\\n  $(or $(exclude_file_name_regexp--$@),^$$)\nVC_LIST_EXCEPT = \\\n  $(VC_LIST) | $(SED) 's|^$(_dot_escaped_srcdir)/||' \\\n\t| if test -f $(srcdir)/.x-$@; then $(GREP) -vEf $(srcdir)/.x-$@; \\\n\t  else $(GREP) -Ev -e \"$${VC_LIST_EXCEPT_DEFAULT-ChangeLog}\"; fi \\\n\t| $(GREP) -Ev -e '($(VC_LIST_ALWAYS_EXCLUDE_REGEX)|$(_sc_excl))' \\\n\t$(_prepend_srcdir_prefix)\n\nifeq ($(origin prev_version_file), undefined)\n  prev_version_file = $(srcdir)/.prev-version\nendif\n\nPREV_VERSION := $(shell cat $(prev_version_file) 2>/dev/null)\nVERSION_REGEXP = $(subst .,\\.,$(VERSION))\nPREV_VERSION_REGEXP = $(subst .,\\.,$(PREV_VERSION))\n\nifeq ($(VC),$(GIT))\n  this-vc-tag = v$(VERSION)\n  this-vc-tag-regexp = v$(VERSION_REGEXP)\nelse\n  tag-package = $(shell echo \"$(PACKAGE)\" | tr '[:lower:]' '[:upper:]')\n  tag-this-version = $(subst .,_,$(VERSION))\n  this-vc-tag = $(tag-package)-$(tag-this-version)\n  this-vc-tag-regexp = $(this-vc-tag)\nendif\nmy_distdir = $(PACKAGE)-$(VERSION)\n\n# Old releases are stored here.\nrelease_archive_dir ?= ../release\n\n# If RELEASE_TYPE is undefined, but RELEASE is, use its second word.\n# But overwrite VERSION.\nifdef RELEASE\n  VERSION := $(word 1, $(RELEASE))\n  RELEASE_TYPE ?= $(word 2, $(RELEASE))\nendif\n\n# Validate and return $(RELEASE_TYPE), or die.\nRELEASE_TYPES = alpha beta stable\nrelease-type = $(call member-check,RELEASE_TYPE,$(RELEASE_TYPES))\n\n# Override gnu_rel_host and url_dir_list in cfg.mk if these are not right.\n# Use alpha.gnu.org for alpha and beta releases.\n# Use ftp.gnu.org for stable releases.\ngnu_ftp_host-alpha = alpha.gnu.org\ngnu_ftp_host-beta = alpha.gnu.org\ngnu_ftp_host-stable = ftp.gnu.org\ngnu_rel_host ?= $(gnu_ftp_host-$(release-type))\n\nurl_dir_list ?= $(if $(call _equal,$(gnu_rel_host),ftp.gnu.org),\t\\\n                     https://ftpmirror.gnu.org/$(PACKAGE),\t\t\\\n                     https://$(gnu_rel_host)/gnu/$(PACKAGE))\n\n# Override this in cfg.mk if you are using a different format in your\n# NEWS file.\ntoday = $(shell date +%Y-%m-%d)\n\n# Select which lines of NEWS are searched for $(news-check-regexp).\n# This is a sed line number spec.  The default says that we search\n# lines 1..10 of NEWS for $(news-check-regexp).\n# If you want to search only line 3 or only lines 20-22, use \"3\" or \"20,22\".\nnews-check-lines-spec ?= 1,10\nnews-check-regexp ?= '^\\*.* $(VERSION_REGEXP) \\($(today)\\)'\n\n# Prevent programs like 'sort' from considering distinct strings to be equal.\n# Doing it here saves us from having to set LC_ALL elsewhere in this file.\nexport LC_ALL = C\n\n## --------------- ##\n## Sanity checks.  ##\n## --------------- ##\n\nifneq ($(_gl-Makefile),)\n_cfg_mk := $(wildcard $(srcdir)/cfg.mk)\n\n# Collect the names of rules starting with 'sc_'.\nsyntax-check-rules := $(sort $(shell env LC_ALL=C $(SED) -n \\\n   's/^\\(sc_[a-zA-Z0-9_-]*\\):.*/\\1/p' $(srcdir)/$(ME) $(_cfg_mk)))\n.PHONY: $(syntax-check-rules)\n\nifeq ($(shell $(VC_LIST) >/dev/null 2>&1; echo $$?),0)\n  local-checks-available += $(syntax-check-rules)\nelse\n  local-checks-available += no-vc-detected\nno-vc-detected:\n\t@echo \"No version control files detected; skipping syntax check\"\nendif\n.PHONY: $(local-checks-available)\n\n# Arrange to prine the name of each syntax-checking rule just before running it.\n$(syntax-check-rules): %: %.m\nsc_m_rules_ = $(patsubst %, %.m, $(syntax-check-rules))\n.PHONY: $(sc_m_rules_)\n$(sc_m_rules_):\n\t@echo $(patsubst sc_%.m, %, $@)\n\t@date +%s.%N > .sc-start-$(basename $@)\n\n# Compute and print the elapsed time for each syntax-check rule.\nsc_z_rules_ = $(patsubst %, %.z, $(syntax-check-rules))\n.PHONY: $(sc_z_rules_)\n$(sc_z_rules_): %.z: %\n\t@end=$$(date +%s.%N);\t\t\t\t\t\t\\\n\tstart=$$(cat .sc-start-$*);\t\t\t\t\t\\\n\trm -f .sc-start-$*;\t\t\t\t\t\t\\\n\t$(AWK) -v s=$$start -v e=$$end\t\t\t\t\t\\\n\t  'END {printf \"%.2f $(patsubst sc_%,%,$*)\\n\", e - s}' < /dev/null\n\n# The patsubst here is to replace each sc_% rule with its sc_%.z wrapper\n# that computes and prints elapsed time.\nlocal-check :=\t\t\t\t\t\t\t\t\\\n  $(patsubst sc_%, sc_%.z,\t\t\t\t\t\t\\\n    $(filter-out $(local-checks-to-skip), $(local-checks-available)))\n\nsyntax-check: $(local-check)\nendif\n\n# _sc_search_regexp\n#\n# This macro searches for a given construct in the selected files and\n# then takes some action.\n#\n# Parameters (shell variables):\n#\n#  prohibit | require\n#\n#     Regular expression (ERE) denoting either a forbidden construct\n#     or a required construct.  Those arguments are exclusive.\n#\n#  exclude\n#\n#     Regular expression (ERE) denoting lines to ignore that matched\n#     a prohibit construct.  For example, this can be used to exclude\n#     comments that mention why the nearby code uses an alternative\n#     construct instead of the simpler prohibited construct.\n#\n#  in_vc_files | in_files\n#\n#     grep-E-style regexp selecting the files to check.  For in_vc_files,\n#     the regexp is used to select matching files from the list of all\n#     version-controlled files; for in_files, it's from the names printed\n#     by \"find $(srcdir)\".  When neither is specified, use all files that\n#     are under version control.\n#\n#  containing | non_containing\n#\n#     Select the files (non) containing strings matching this regexp.\n#     If both arguments are specified then CONTAINING takes\n#     precedence.\n#\n#  with_grep_options\n#\n#     Extra options for grep.\n#\n#  ignore_case\n#\n#     Ignore case.\n#\n#  halt\n#\n#     Message to display before to halting execution.\n#\n# Finally, you may exempt files based on an ERE matching file names.\n# For example, to exempt from the sc_space_tab check all files with the\n# .diff suffix, set this Make variable:\n#\n# exclude_file_name_regexp--sc_space_tab = \\.diff$\n#\n# Note that while this functionality is mostly inherited via VC_LIST_EXCEPT,\n# when filtering by name via in_files, we explicitly filter out matching\n# names here as well.\n\n# Initialize each, so that envvar settings cannot interfere.\nexport require =\nexport prohibit =\nexport exclude =\nexport in_vc_files =\nexport in_files =\nexport containing =\nexport non_containing =\nexport halt =\nexport with_grep_options =\n\n# By default, _sc_search_regexp does not ignore case.\nexport ignore_case =\n_ignore_case = $$(test -n \"$$ignore_case\" && printf %s -i || :)\n\ndefine _sc_say_and_exit\n   dummy=; : so we do not need a semicolon before each use;\t\t\\\n   { printf '%s\\n' \"$(ME): $$msg\" 1>&2; exit 1; };\nendef\n\ndefine _sc_search_regexp\n   dummy=; : so we do not need a semicolon before each use;\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n   : Check arguments;\t\t\t\t\t\t\t\\\n   test -n \"$$prohibit\" && test -n \"$$require\"\t\t\t\t\\\n     && { msg='Cannot specify both prohibit and require'\t\t\\\n          $(_sc_say_and_exit) } || :;\t\t\t\t\t\\\n   test -z \"$$prohibit\" && test -z \"$$require\"\t\t\t\t\\\n     && { msg='Should specify either prohibit or require'\t\t\\\n          $(_sc_say_and_exit) } || :;\t\t\t\t\t\\\n   test -z \"$$prohibit\" && test -n \"$$exclude\"\t\t\t\t\\\n     && { msg='Use of exclude requires a prohibit pattern'\t\t\\\n          $(_sc_say_and_exit) } || :;\t\t\t\t\t\\\n   test -n \"$$in_vc_files\" && test -n \"$$in_files\"\t\t\t\\\n     && { msg='Cannot specify both in_vc_files and in_files'\t\t\\\n          $(_sc_say_and_exit) } || :;\t\t\t\t\t\\\n   test \"x$$halt\" != x\t\t\t\t\t\t\t\\\n     || { msg='halt not defined' $(_sc_say_and_exit) };\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n   : Filter by file name;\t\t\t\t\t\t\\\n   if test -n \"$$in_files\"; then\t\t\t\t\t\\\n     files=$$(find $(srcdir) | $(GREP) -E \"$$in_files\"\t\t\t\\\n              | $(GREP) -Ev '$(_sc_excl)');\t\t\t\t\\\n   else\t\t\t\t\t\t\t\t\t\\\n     files=$$($(VC_LIST_EXCEPT));\t\t\t\t\t\\\n     if test -n \"$$in_vc_files\"; then\t\t\t\t\t\\\n       files=$$(echo \"$$files\" | $(GREP) -E \"$$in_vc_files\");\t\t\\\n     fi;\t\t\t\t\t\t\t\t\\\n   fi;\t\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n   : Filter by content;\t\t\t\t\t\t\t\\\n   test -n \"$$files\"\t\t\t\t\t\t\t\\\n     && test -n \"$$containing\"\t\t\t\t\t\t\\\n     && { files=$$(echo \"$$files\" | xargs $(GREP) -l \"$$containing\"); }\t\\\n     || :;\t\t\t\t\t\t\t\t\\\n   test -n \"$$files\"\t\t\t\t\t\t\t\\\n     && test -n \"$$non_containing\"\t\t\t\t\t\\\n     && { files=$$(echo \"$$files\" | xargs $(GREP) -vl \"$$non_containing\"); } \\\n     || :;\t\t\t\t\t\t\t\t\\\n\t\t\t\t\t\t\t\t\t\\\n   : Check for the construct;\t\t\t\t\t\t\\\n   if test -n \"$$files\"; then\t\t\t\t\t\t\\\n     if test -n \"$$prohibit\"; then\t\t\t\t\t\\\n       echo \"$$files\"\t\t\t\t\t\t\t\\\n         | xargs $(GREP) $$with_grep_options $(_ignore_case) -nE\t\\\n\t\t\"$$prohibit\" /dev/null\t\t\t\t\t\\\n         | $(GREP) -vE \"$${exclude:-^$$}\"\t\t\t\t\\\n         && { msg=\"$$halt\" $(_sc_say_and_exit) }\t\t\t\\\n         || :;\t\t\t\t\t\t\t\t\\\n     else\t\t\t\t\t\t\t\t\\\n       echo \"$$files\"\t\t\t\t\t\t\t\\\n         | xargs\t\t\t\t\t\t\t\\\n             $(GREP) $$with_grep_options $(_ignore_case) -LE \"$$require\" \\\n         | $(GREP) .\t\t\t\t\t\t\t\\\n         && { msg=\"$$halt\" $(_sc_say_and_exit) }\t\t\t\\\n         || :;\t\t\t\t\t\t\t\t\\\n     fi\t\t\t\t\t\t\t\t\t\\\n   else :;\t\t\t\t\t\t\t\t\\\n   fi || :;\nendef\n\nsc_avoid_if_before_free:\n\t@$(VC_LIST_EXCEPT)\t\t\t\t\t\t\\\n\t  | $(GREP) -v useless-if-before-free\t\t\t\t\\\n\t  | xargs\t\t\t\t\t\t\t\\\n\t      $(srcdir)/$(_build-aux)/useless-if-before-free\t\t\\\n\t      $(useless_free_options)\t\t\t\t\t\\\n\t  && { printf '$(ME): found useless \"if\"'\t\t\t\\\n\t\t      ' before \"free\" above\\n' 1>&2;\t\t\t\\\n\t       exit 1; }\t\t\t\t\t\t\\\n\t  || :\n\nsc_cast_of_argument_to_free:\n\t@prohibit='\\<free *\\( *\\(' halt=\"don't cast free argument\"\t\\\n\t  $(_sc_search_regexp)\n\nsc_cast_of_x_alloc_return_value:\n\t@prohibit='\\*\\) *x(m|c|re)alloc\\>'\t\t\t\t\\\n\thalt=\"don't cast x*alloc return value\"\t\t\t\t\\\n\t  $(_sc_search_regexp)\n\nsc_cast_of_alloca_return_value:\n\t@prohibit='\\*\\) *alloca\\>'\t\t\t\t\t\\\n\thalt=\"don't cast alloca return value\"\t\t\t\t\\\n\t  $(_sc_search_regexp)\n\nsc_space_tab:\n\t@prohibit='[ ]\t'\t\t\t\t\t\t\\\n\thalt='found SPACE-TAB sequence; remove the SPACE'\t\t\\\n\t  $(_sc_search_regexp)\n\n# Don't use *scanf or the old ato* functions in \"real\" code.\n# They provide no error checking mechanism.\n# Instead, use strto* functions.\nsc_prohibit_atoi_atof:\n\t@prohibit='\\<([fs]?scanf|ato([filq]|ll)) *\\('\t\t\t\t\\\n\thalt='do not use *scan''f, ato''f, ato''i, ato''l, ato''ll or ato''q'\t\\\n\t  $(_sc_search_regexp)\n\n# Use STREQ rather than comparing strcmp == 0, or != 0.\nsp_ = strcmp *\\(.+\\)\nsc_prohibit_strcmp:\n\t@prohibit='! *strcmp *\\(|\\<$(sp_) *[!=]=|[!=]= *$(sp_)'\t\t\\\n\texclude='# *define STRN?EQ\\('\t\t\t\t\t\\\n\thalt='replace strcmp calls above with STREQ/STRNEQ'\t\t\\\n\t  $(_sc_search_regexp)\n\n# Really.  You don't want to use this function.\n# It may fail to NUL-terminate the destination,\n# and always NUL-pads out to the specified length.\nsc_prohibit_strncpy:\n\t@prohibit='\\<strncpy *\\('\t\t\t\t\t\\\n\thalt='do not use strncpy, period'\t\t\t\t\\\n\t  $(_sc_search_regexp)\n\n# Pass EXIT_*, not number, to usage, exit, and error (when exiting)\n# Convert all uses automatically, via these two commands:\n# git grep -l '\\<exit *(1)' \\\n#  | grep -vEf .x-sc_prohibit_magic_number_exit \\\n#  | xargs --no-run-if-empty \\\n#      perl -pi -e 's/(^|[^.])\\b(exit ?)\\(1\\)/$1$2(EXIT_FAILURE)/'\n# git grep -l '\\<exit *(0)' \\\n#  | grep -vEf .x-sc_prohibit_magic_number_exit \\\n#  | xargs --no-run-if-empty \\\n#      perl -pi -e 's/(^|[^.])\\b(exit ?)\\(0\\)/$1$2(EXIT_SUCCESS)/'\nsc_prohibit_magic_number_exit:\n\t@prohibit='(^|[^.])\\<(usage|exit|error) ?\\(-?[0-9]+[,)]'\t\\\n\texclude='exit \\(77\\)|error ?\\(((0|77),|[^,]*)'\t\t\t\\\n\thalt='use EXIT_* values rather than magic number'\t\t\\\n\t  $(_sc_search_regexp)\n\n# Check that we don't use $< in non-implicit Makefile rules.\n#\n# To find the Makefiles, trace AC_CONFIG_FILES.  Using VC_LIST would\n# miss the Makefiles that are not under VC control (e.g., symlinks\n# installed for gettext).  \"Parsing\" (recursive) uses of SUBDIRS seems\n# too delicate.\n#\n# Use GNU Make's --print-data-base to normalize the rules into some\n# easy to parse format: they are separated by two \\n.  Look for the\n# \"section\" about non-pattern rules (marked with \"# Files\") inside\n# which there are still the POSIX Make like implicit rules (\".c.o\").\nsc_prohibit_gnu_make_extensions_awk_ =\t\t\t\t\t\\\n  BEGIN {\t\t\t\t\t\t\t\t\\\n      RS = \"\\n\\n\";\t\t\t\t\t\t\t\\\n      in_rules = 0;\t\t\t\t\t\t\t\\\n  }\t\t\t\t\t\t\t\t\t\\\n  /^\\# Files/ {\t\t\t\t\t\t\t\t\\\n      in_rules = 1;\t\t\t\t\t\t\t\\\n  }\t\t\t\t\t\t\t\t\t\\\n  /\\$$</ && in_rules && $$0 !~ /^(.*\\n)*\\.\\w+(\\.\\w+)?:/ {\t\t\\\n      print \"Error: \" file \": $$< in a non implicit rule\\n\" $$0;\t\\\n      status = 1;\t\t\t\t\t\t\t\\\n  }\t\t\t\t\t\t\t\t\t\\\n  END {\t\t\t\t\t\t\t\t\t\\\n     exit status;\t\t\t\t\t\t\t\\\n  }\nsc_prohibit_gnu_make_extensions:\n\t@if $(AWK) --version | grep GNU >/dev/null 2>&1; then\t\t\\\n\t  (cd $(srcdir) && autoconf --trace AC_CONFIG_FILES:'$$1') |\t\\\n\t    tr ' ' '\\n' |\t\t\t\t\t\t\\\n\t    $(SED) -ne '/Makefile/{s/\\.in$$//;p;}' |\t\t\t\\\n\t    while read m; do\t\t\t\t\t\t\\\n\t      $(MAKE) -qp -f $$m .DUMMY-TARGET 2>/dev/null |\t\t\\\n\t\t$(AWK) -v file=$$m -e '$($@_awk_)' || exit 1;\t\t\\\n\t    done;\t\t\t\t\t\t\t\\\n\tfi\n\n# Using EXIT_SUCCESS as the first argument to error is misleading,\n# since when that parameter is 0, error does not exit.  Use '0' instead.\nsc_error_exit_success:\n\t@prohibit='error *\\(EXIT_SUCCESS,'\t\t\t\t\\\n\tin_vc_files='\\.[chly]$$'\t\t\t\t\t\\\n\thalt='found error (EXIT_SUCCESS'\t\t\t\t\\\n\t $(_sc_search_regexp)\n\n# \"FATAL:\" should be fully upper-cased in error messages\n# \"WARNING:\" should be fully upper-cased, or fully lower-cased\nsc_error_message_warn_fatal:\n\t@$(VC_LIST_EXCEPT)\t\t\t\t\t\t\\\n\t  | xargs $(GREP) -nEA2 '[^rp]error *\\(' /dev/null\t\t\\\n\t  | $(GREP) -E '\"Warning|\"Fatal|\"fatal'\t\t\t\t\\\n\t  && { echo '$(ME): use FATAL, WARNING or warning' 1>&2;\t\\\n\t       exit 1; }\t\t\t\t\t\t\\\n\t  || :\n\n# Error messages should not start with a capital letter\nsc_error_message_uppercase:\n\t@$(VC_LIST_EXCEPT)\t\t\t\t\t\t\\\n\t  | xargs $(GREP) -nEA2 '[^rp]error *\\(' /dev/null\t\t\\\n\t  | $(GREP) -E '\"[A-Z]'\t\t\t\t\t\t\\\n\t  | $(GREP) -vE '\"FATAL|\"WARNING|\"Java|\"C#|\"PRI'\t\t\\\n\t  && { echo '$(ME): found capitalized error message' 1>&2;\t\\\n\t       exit 1; }\t\t\t\t\t\t\\\n\t  || :\n\n# Error messages should not end with a period\nsc_error_message_period:\n\t@$(VC_LIST_EXCEPT)\t\t\t\t\t\t\\\n\t  | xargs $(GREP) -nEA2 '[^rp]error *\\(' /dev/null\t\t\\\n\t  | $(GREP) -E '[^.\"]\\.\"'\t\t\t\t\t\\\n\t  && { echo '$(ME): found error message ending in period' 1>&2;\t\\\n\t       exit 1; }\t\t\t\t\t\t\\\n\t  || :\n\nsc_file_system:\n\t@prohibit=file''system\t\t\t\t\t\t\\\n\texclude='/proc/filesystems'\t\t\t\t\t\\\n\tignore_case=1\t\t\t\t\t\t\t\\\n\thalt='found use of \"file''system\"; spell it \"file system\"'\t\\\n\t  $(_sc_search_regexp)\n\n# Don't use cpp tests of this symbol.  All code assumes config.h is included.\nsc_prohibit_have_config_h:\n\t@prohibit='^# *if.*HAVE''_CONFIG_H'\t\t\t\t\\\n\thalt='found use of HAVE''_CONFIG_H; remove'\t\t\t\\\n\t  $(_sc_search_regexp)\n\n# Nearly all .c files must include <config.h>.  However, we also permit this\n# via inclusion of a package-specific header, if cfg.mk specified one.\n# config_h_header must be suitable for grep -E.\nconfig_h_header ?= <config\\.h>\nsc_require_config_h:\n\t@require='^# *include $(config_h_header)'\t\t\t\\\n\tin_vc_files='\\.c$$'\t\t\t\t\t\t\\\n\thalt='the above files do not include <config.h>'\t\t\\\n\t  $(_sc_search_regexp)\n\n# Print each file name for which the first #include does not match\n# $(config_h_header).  Like grep -m 1, this only looks at the first match.\nperl_config_h_first_ =\t\t\t\t\t\t\t\\\n  -e 'BEGIN {$$ret = 0}'\t\t\t\t\t\t\\\n  -e 'if (/^\\# *include\\b/) {'\t\t\t\t\t\t\\\n  -e '  if (not m{^\\# *include $(config_h_header)}) {'\t\t\t\\\n  -e '    print \"$$ARGV\\n\";'\t\t\t\t\t\t\\\n  -e '    $$ret = 1;'\t\t\t\t\t\t\t\\\n  -e '  }'\t\t\t\t\t\t\t\t\\\n  -e '  \\# Move on to next file after first include'\t\t\t\\\n  -e '  close ARGV;'\t\t\t\t\t\t\t\\\n  -e '}'\t\t\t\t\t\t\t\t\\\n  -e 'END {exit $$ret}'\n\n# You must include <config.h> before including any other header file.\n# This can possibly be via a package-specific header, if given by cfg.mk.\nsc_require_config_h_first:\n\t@if $(VC_LIST_EXCEPT) | $(GREP) '\\.c$$' > /dev/null; then\t\\\n\t  files=$$($(VC_LIST_EXCEPT) | $(GREP) '\\.c$$') &&\t\t\\\n\t  perl -n $(perl_config_h_first_) $$files ||\t\t\t\\\n\t    { echo '$(ME): the above files include some other header'\t\\\n\t\t'before <config.h>' 1>&2; exit 1; } || :;\t\t\\\n\telse :;\t\t\t\t\t\t\t\t\\\n\tfi\n\nsc_prohibit_HAVE_MBRTOWC:\n\t@prohibit='\\bHAVE_MBRTOWC\\b'\t\t\t\t\t\\\n\thalt=\"do not use $$prohibit; it is always defined\"\t\t\\\n\t  $(_sc_search_regexp)\n\n# To use this \"command\" macro, you must first define two shell variables:\n# h: the header name, with no enclosing <> or \"\"\n# re: a regular expression that matches IFF something provided by $h is used.\ndefine _sc_header_without_use\n  dummy=; : so we do not need a semicolon before each use;\t\t\\\n  h_esc=`echo '[<\"]'\"$$h\"'[\">]'|$(SED) 's/\\./\\\\\\\\./g'`;\t\t\t\\\n  if $(VC_LIST_EXCEPT) | $(GREP) '\\.c$$' > /dev/null; then\t\t\\\n    files=$$($(GREP) -l '^# *include '\"$$h_esc\"\t\t\t\t\\\n\t     $$($(VC_LIST_EXCEPT) | $(GREP) '\\.c$$')) &&\t\t\\\n    $(GREP) -LE \"$$re\" $$files | $(GREP) . &&\t\t\t\t\\\n      { echo \"$(ME): the above files include $$h but don't use it\"\t\\\n\t1>&2; exit 1; } || :;\t\t\t\t\t\t\\\n  else :;\t\t\t\t\t\t\t\t\\\n  fi\nendef\n\n# Prohibit the inclusion of assert.h without an actual use of assert.\nsc_prohibit_assert_without_use:\n\t@h='assert.h' re='\\<assert *\\(' $(_sc_header_without_use)\n\n# Prohibit the inclusion of close-stream.h without an actual use.\nsc_prohibit_close_stream_without_use:\n\t@h='close-stream.h' re='\\<close_stream *\\(' $(_sc_header_without_use)\n\n# Prohibit the inclusion of getopt.h without an actual use.\nsc_prohibit_getopt_without_use:\n\t@h='getopt.h' re='\\<getopt(_long)? *\\(' $(_sc_header_without_use)\n\n# Don't include quotearg.h unless you use one of its functions.\nsc_prohibit_quotearg_without_use:\n\t@h='quotearg.h' re='\\<quotearg(_[^ ]+)? *\\(' $(_sc_header_without_use)\n\n# Don't include quote.h unless you use one of its functions.\nsc_prohibit_quote_without_use:\n\t@h='quote.h' re='\\<quote((_n)? *\\(|_quoting_options\\>)' \\\n\t  $(_sc_header_without_use)\n\n# Don't include this header unless you use one of its functions.\nsc_prohibit_long_options_without_use:\n\t@h='long-options.h' re='\\<parse_(long_options|gnu_standard_options_only) *\\(' \\\n\t  $(_sc_header_without_use)\n\n# Don't include this header unless you use one of its functions.\nsc_prohibit_inttostr_without_use:\n\t@h='inttostr.h' re='\\<(off|[iu]max|uint)tostr *\\(' \\\n\t  $(_sc_header_without_use)\n\n# Don't include this header unless you use one of its functions.\nsc_prohibit_ignore_value_without_use:\n\t@h='ignore-value.h' re='\\<ignore_(value|ptr) *\\(' \\\n\t  $(_sc_header_without_use)\n\n# Don't include this header unless you use one of its functions.\nsc_prohibit_error_without_use:\n\t@h='error.h' \\\n\tre='\\<error(_at_line|_print_progname|_one_per_line|_message_count)? *\\('\\\n\t  $(_sc_header_without_use)\n\n# Don't include xalloc.h unless you use one of its symbols.\n# Consider these symbols:\n# perl -lne '/^# *define (\\w+)\\(/ and print $1' lib/xalloc.h|grep -v '^__';\n# perl -lne 'm{^(?:_Noreturn )?(?:void|char) \\*?(\\w+) *\\(} and print $1' lib/xalloc.h\n# Divide into two sets on case, and filter each through this:\n# | sort | perl -MRegexp::Assemble -le \\\n#  'print Regexp::Assemble->new(file => \"/dev/stdin\")->as_string'|sed 's/\\?://g'\n_xa1 = x(i(m(emdup0?|alloc)|realloc(array)?|([cz]|nm)alloc)|([pz]|c(har)?|2n?re|nm)alloc|realloc(array)?|m(alloc|emdup)|alloc_die|strdup)\n_xa2 = X([CZ]|N?M)ALLOC\nsc_prohibit_xalloc_without_use:\n\t@h='xalloc.h' \\\n\tre='\\<($(_xa1)|$(_xa2)) *\\('\\\n\t  $(_sc_header_without_use)\n\n# Extract function names:\n# perl -lne '/^(?:extern )?(?:void|char|Hash_table) \\*?(\\w+) *\\(/ and print $1' lib/hash.h\n_hash_re = \\\nhash_(re(set_tuning|move)|xin(itialize|sert)|in(itialize|sert)|get_(firs|nex)t|print_statistics|(delet|fre)e|lookup|clear)\n_hash_fn = \\<($(_hash_re)) *\\(\n_hash_struct = (struct )?\\<[Hh]ash_(table|tuning)\\>\nsc_prohibit_hash_without_use:\n\t@h='hash.h' \\\n\tre='$(_hash_fn)|$(_hash_struct)'\\\n\t  $(_sc_header_without_use)\n\nsc_prohibit_cloexec_without_use:\n\t@h='cloexec.h' re='\\<(set_cloexec_flag|dup_cloexec) *\\(' \\\n\t  $(_sc_header_without_use)\n\nsc_prohibit_posixver_without_use:\n\t@h='posixver.h' re='\\<posix2_version *\\(' $(_sc_header_without_use)\n\nsc_prohibit_same_without_use:\n\t@h='same.h' re='\\<same_name(at)? *\\(' $(_sc_header_without_use)\n\nsc_prohibit_hash_pjw_without_use:\n\t@h='hash-pjw.h' \\\n\tre='\\<hash_pjw\\>' \\\n\t  $(_sc_header_without_use)\n\nsc_prohibit_safe_read_without_use:\n\t@h='safe-read.h' re='(\\<SAFE_READ_ERROR\\>|\\<safe_read *\\()' \\\n\t  $(_sc_header_without_use)\n\nsc_prohibit_argmatch_without_use:\n\t@h='argmatch.h' \\\n\tre='(\\<(ARGMATCH_DEFINE_GROUP|ARRAY_CARDINALITY|X?ARGMATCH(|_TO_ARGUMENT|_VERIFY))\\>|\\<(invalid_arg|argmatch(_exit_fn|_(in)?valid)?) *\\()' \\\n\t  $(_sc_header_without_use)\n\nsc_prohibit_canonicalize_without_use:\n\t@h='canonicalize.h' \\\n\tre='CAN_(EXISTING|ALL_BUT_LAST|MISSING)|canonicalize_(mode_t|filename_mode|file_name)' \\\n\t  $(_sc_header_without_use)\n\nsc_prohibit_root_dev_ino_without_use:\n\t@h='root-dev-ino.h' \\\n\tre='(\\<ROOT_DEV_INO_(CHECK|WARN)\\>|\\<get_root_dev_ino *\\()' \\\n\t  $(_sc_header_without_use)\n\nsc_prohibit_openat_without_use:\n\t@h='openat.h' \\\n\tre='\\<(openat_(permissive|needs_fchdir|(save|restore)_fail)|l?(stat|ch(own|mod))at|(euid)?accessat|(FCHMOD|FCHOWN|STAT)AT_INLINE)\\>' \\\n\t  $(_sc_header_without_use)\n\n# Prohibit the inclusion of c-ctype.h without an actual use.\nctype_re = isalnum|isalpha|isascii|isblank|iscntrl|isdigit|isgraph|islower\\\n|isprint|ispunct|isspace|isupper|isxdigit|tolower|toupper\nsc_prohibit_c_ctype_without_use:\n\t@h='c-ctype.h' re='\\<c_($(ctype_re)) *\\(' \\\n\t  $(_sc_header_without_use)\n\n# The following list was generated by running:\n# man signal.h|col -b|perl -ne '/bsd_signal.*;/.../sigwaitinfo.*;/ and print' \\\n#   | perl -lne '/^\\s+(?:int|void).*?(\\w+).*/ and print $1' | fmt\n_sig_functions = \\\n  bsd_signal kill killpg pthread_kill pthread_sigmask raise sigaction \\\n  sigaddset sigaltstack sigdelset sigemptyset sigfillset sighold sigignore \\\n  siginterrupt sigismember signal sigpause sigpending sigprocmask sigqueue \\\n  sigrelse sigset sigsuspend sigtimedwait sigwait sigwaitinfo\n_sig_function_re = $(subst $(_sp),|,$(strip $(_sig_functions)))\n# The following were extracted from \"man signal.h\" manually.\n_sig_types_and_consts =\t\t\t\t\t\t\t\\\n  MINSIGSTKSZ SA_NOCLDSTOP SA_NOCLDWAIT SA_NODEFER SA_ONSTACK\t\t\\\n  SA_RESETHAND SA_RESTART SA_SIGINFO SIGEV_NONE SIGEV_SIGNAL\t\t\\\n  SIGEV_THREAD SIGSTKSZ SIG_BLOCK SIG_SETMASK SIG_UNBLOCK SS_DISABLE\t\\\n  SS_ONSTACK mcontext_t pid_t sig_atomic_t sigevent siginfo_t sigset_t\t\\\n  sigstack sigval stack_t ucontext_t\n# generated via this:\n# perl -lne '/^#ifdef (SIG\\w+)/ and print $1' lib/sig2str.c|sort -u|fmt -70\n_sig_names =\t\t\t\t\t\t\t\t\\\n  SIGABRT SIGALRM SIGALRM1 SIGBUS SIGCANCEL SIGCHLD SIGCLD SIGCONT\t\\\n  SIGDANGER SIGDIL SIGEMT SIGFPE SIGFREEZE SIGGRANT SIGHUP SIGILL\t\\\n  SIGINFO SIGINT SIGIO SIGIOT SIGKAP SIGKILL SIGKILLTHR SIGLOST SIGLWP\t\\\n  SIGMIGRATE SIGMSG SIGPHONE SIGPIPE SIGPOLL SIGPRE SIGPROF SIGPWR\t\\\n  SIGQUIT SIGRETRACT SIGSAK SIGSEGV SIGSOUND SIGSTKFLT SIGSTOP SIGSYS\t\\\n  SIGTERM SIGTHAW SIGTRAP SIGTSTP SIGTTIN SIGTTOU SIGURG SIGUSR1\t\\\n  SIGUSR2 SIGVIRT SIGVTALRM SIGWAITING SIGWINCH SIGWIND SIGWINDOW\t\\\n  SIGXCPU SIGXFSZ\n_sig_syms_re = $(subst $(_sp),|,$(strip $(_sig_names) $(_sig_types_and_consts)))\n\n# Prohibit the inclusion of signal.h without an actual use.\nsc_prohibit_signal_without_use:\n\t@h='signal.h'\t\t\t\t\t\t\t\\\n\tre='\\<($(_sig_function_re)) *\\(|\\<($(_sig_syms_re))\\>'\t\t\\\n\t  $(_sc_header_without_use)\n\n# Don't include stdio--.h unless you use one of its functions.\nsc_prohibit_stdio--_without_use:\n\t@h='stdio--.h' re='\\<((f(re)?|p)open|tmpfile) *\\('\t\t\\\n\t  $(_sc_header_without_use)\n\n# Don't include stdio-safer.h unless you use one of its functions.\nsc_prohibit_stdio-safer_without_use:\n\t@h='stdio-safer.h' re='\\<((f(re)?|p)open|tmpfile)_safer *\\('\t\\\n\t  $(_sc_header_without_use)\n\n# Prohibit the inclusion of strings.h without a sensible use.\n# Using the likes of bcmp, bcopy, bzero, index or rindex is not sensible.\nsc_prohibit_strings_without_use:\n\t@h='strings.h'\t\t\t\t\t\t\t\\\n\tre='\\<(strn?casecmp|ffs(ll)?)\\>'\t\t\t\t\\\n\t  $(_sc_header_without_use)\n\n# Extract the raw list of symbol names with this:\ngl_extract_define_simple = \\\n  /^\\# *define ([A-Z]\\w+)\\(/ and print $$1\n# Filter out duplicates and convert to a space-separated list:\n_intprops_names = \\\n  $(shell f=$(gnulib_dir)/lib/intprops.h;\t\t\t\t\\\n    perl -lne '$(gl_extract_define_simple)' $$f | sort -u | tr '\\n' ' ')\n# Remove trailing space and convert to a regular expression:\n_intprops_syms_re = $(subst $(_sp),|,$(strip $(_intprops_names)))\n# Prohibit the inclusion of intprops.h without an actual use.\nsc_prohibit_intprops_without_use:\n\t@h='intprops.h'\t\t\t\t\t\t\t\\\n\tre='\\<($(_intprops_syms_re)) *\\('\t\t\t\t\\\n\t  $(_sc_header_without_use)\n\n_stddef_syms_re = \\\n  NULL|max_align_t|nullptr_t|offsetof|ptrdiff_t|size_t|unreachable|wchar_t\n# Prohibit the inclusion of stddef.h without an actual use.\nsc_prohibit_stddef_without_use:\n\t@h='stddef.h'\t\t\t\t\t\t\t\\\n\tre='\\<($(_stddef_syms_re))\\>'\t\t\t\t\t\\\n\t  $(_sc_header_without_use)\n\n_de1 = dirfd|(close|(fd)?open|read|rewind|seek|tell)dir(64)?(_r)?\n_de2 = (versionsort|struct dirent|getdirentries|alphasort|scandir(at)?)(64)?\n_de3 = MAXNAMLEN|DIR|ino_t|d_ino|d_fileno|d_namlen\n_dirent_syms_re = $(_de1)|$(_de2)|$(_de3)\n# Prohibit the inclusion of dirent.h without an actual use.\nsc_prohibit_dirent_without_use:\n\t@h='dirent.h'\t\t\t\t\t\t\t\\\n\tre='\\<($(_dirent_syms_re))\\>'\t\t\t\t\t\\\n\t  $(_sc_header_without_use)\n\n# Prohibit the inclusion of verify.h without an actual use.\nsc_prohibit_verify_without_use:\n\t@h='verify.h'\t\t\t\t\t\t\t\\\n\tre='\\<(verify(_expr)?|assume) *\\('\t\t\t\t\\\n\t  $(_sc_header_without_use)\n\n# Don't include xfreopen.h unless you use one of its functions.\nsc_prohibit_xfreopen_without_use:\n\t@h='xfreopen.h' re='\\<xfreopen *\\(' $(_sc_header_without_use)\n\nsc_obsolete_symbols:\n\t@prohibit='\\<(HAVE''_FCNTL_H|O''_NDELAY)\\>'\t\t\t\\\n\thalt='do not use HAVE''_FCNTL_H or O'_NDELAY\t\t\t\\\n\t  $(_sc_search_regexp)\n\n# FIXME: warn about definitions of EXIT_FAILURE, EXIT_SUCCESS, STREQ\n\n# Each nonempty ChangeLog line must start with a year number, or a TAB.\nsc_changelog:\n\t@prohibit='^[^12\t]'\t\t\t\t\t\\\n\tin_vc_files='^ChangeLog$$'\t\t\t\t\t\\\n\thalt='found unexpected prefix in a ChangeLog'\t\t\t\\\n\t  $(_sc_search_regexp)\n\n# Ensure that each .c file containing a \"main\" function also\n# calls bindtextdomain.\nsc_bindtextdomain:\n\t@require='bindtextdomain *\\('\t\t\t\t\t\\\n\tin_vc_files='\\.c$$'\t\t\t\t\t\t\\\n\tcontaining='\\<main *('\t\t\t\t\t\t\\\n\thalt='the above files do not call bindtextdomain'\t\t\\\n\t  $(_sc_search_regexp)\n\n# Require that the final line of each test-lib.sh-using test be this one:\n# Exit $fail\n# Note: this test requires GNU grep's --label= option.\nExit_witness_file ?= tests/test-lib.sh\nExit_base := $(notdir $(Exit_witness_file))\nsc_require_test_exit_idiom:\n\t@if test -f $(srcdir)/$(Exit_witness_file); then\t\t\\\n\t  die=0;\t\t\t\t\t\t\t\\\n\t  for i in $$($(GREP) -l -F 'srcdir/$(Exit_base)'\t\t\\\n\t\t$$($(VC_LIST) tests)); do\t\t\t\t\\\n\t    tail -n1 $$i | $(GREP) '^Exit .' > /dev/null\t\t\\\n\t      && : || { die=1; echo $$i; }\t\t\t\t\\\n\t  done;\t\t\t\t\t\t\t\t\\\n\t  test $$die = 1 &&\t\t\t\t\t\t\\\n\t    { echo 1>&2 '$(ME): the final line in each of the above is not:'; \\\n\t      echo 1>&2 'Exit something';\t\t\t\t\\\n\t      exit 1; } || :;\t\t\t\t\t\t\\\n\tfi\n\nsc_trailing_blank:\n\t@prohibit='[\t ]$$'\t\t\t\t\t\t\\\n\thalt='found trailing blank(s)'\t\t\t\t\t\\\n\texclude='^Binary file .* matches$$'\t\t\t\t\\\n\t  $(_sc_search_regexp)\n\n# Match lines like the following, but where there is only one space\n# between the options and the description:\n#   -D, --all-repeated[=delimit-method]  print all duplicate lines\\n\nlongopt_re = --[a-z][0-9A-Za-z-]*(\\[?=[0-9A-Za-z-]*]?)?\nsc_two_space_separator_in_usage:\n\t@prohibit='^   *(-[A-Za-z],)? $(longopt_re) [^ ].*\\\\$$'\t\t\\\n\thalt='help2man requires at least two spaces between an option and its description'\\\n\t  $(_sc_search_regexp)\n\n# A regexp matching function names like \"error\" that may be used\n# to emit translatable messages.\n_gl_translatable_diag_func_re ?= error\n\n# Look for diagnostics that aren't marked for translation.\n# This won't find any for which error's format string is on a separate line.\nsc_unmarked_diagnostics:\n\t@prohibit='\\<$(_gl_translatable_diag_func_re) *\\([^\"]*\"[^\"]*[a-z]{3}' \\\n\texclude='(_|ngettext ?)\\('\t\t\t\t\t\\\n\thalt='found unmarked diagnostic(s)'\t\t\t\t\\\n\t  $(_sc_search_regexp)\n\n# Avoid useless parentheses like those in this example:\n# #if defined (SYMBOL) || defined (SYM2)\nsc_useless_cpp_parens:\n\t@prohibit='^# *if .*defined *\\('\t\t\t\t\\\n\thalt='found useless parentheses in cpp directive'\t\t\\\n\t  $(_sc_search_regexp)\n\n# List headers for which HAVE_HEADER_H is always true, assuming you are\n# using the appropriate gnulib module.  CAUTION: for each \"unnecessary\"\n# #if HAVE_HEADER_H that you remove, be sure that your project explicitly\n# requires the gnulib module that guarantees the usability of that header.\ngl_assured_headers_ = \\\n  cd $(gnulib_dir)/lib && echo *.in.h|$(SED) 's/\\.in\\.h//g'\n\n# Convert the list of names to upper case, and replace each space with \"|\".\naz_ = abcdefghijklmnopqrstuvwxyz\nAZ_ = ABCDEFGHIJKLMNOPQRSTUVWXYZ\ngl_header_upper_case_or_ =\t\t\t\t\t\t\\\n  $$($(gl_assured_headers_)\t\t\t\t\t\t\\\n    | tr $(az_)/.- $(AZ_)___\t\t\t\t\t\t\\\n    | tr -s ' ' '|'\t\t\t\t\t\t\t\\\n    )\nsc_prohibit_always_true_header_tests:\n\t@or=$(gl_header_upper_case_or_);\t\t\t\t\\\n\tre=\"HAVE_($$or)_H\";\t\t\t\t\t\t\\\n\tprohibit='\\<'\"$$re\"'\\>'\t\t\t\t\t\t\\\n\thalt=$$(printf '%s\\n'\t\t\t\t\t\t\\\n\t'do not test the above HAVE_<header>_H symbol(s);'\t\t\\\n\t'  with the corresponding gnulib module, they are always true')\t\\\n\t  $(_sc_search_regexp)\n\nsc_prohibit_defined_have_decl_tests:\n\t@prohibit='(#[\t ]*ifn?def|\\<defined)\\>[\t (]+HAVE_DECL_'\t\\\n\thalt='HAVE_DECL macros are always defined'\t\t\t\\\n\t  $(_sc_search_regexp)\n\n# ==================================================================\ngl_other_headers_ ?= \\\n  intprops.h\t\\\n  openat.h\t\\\n  stat-macros.h\n\n# Perl -lne code to extract \"significant\" cpp-defined symbols from a\n# gnulib header file, eliminating a few common false-positives.\n# The exempted names below are defined only conditionally in gnulib,\n# and hence sometimes must/may be defined in application code.\ngl_extract_significant_defines_ = \\\n  /^\\# *define ([^_ (][^ (]*)(\\s*\\(|\\s+\\w+)/\\\n    && $$2 !~ /(?:rpl_|_used_without_)/\\\n    && $$1 !~ /^(?:NSIG|ENODATA)$$/\\\n    && $$1 !~ /^(?:SA_RESETHAND|SA_RESTART)$$/\\\n    and print $$1\n\n# Create a list of regular expressions matching the names\n# of macros that are guaranteed to be defined by parts of gnulib.\ndefine def_sym_regex\n\tgen_h=$(gl_generated_headers_);\t\t\t\t\t\\\n\t(cd $(gnulib_dir)/lib;\t\t\t\t\t\t\\\n\t  for f in *.in.h $(gl_other_headers_); do\t\t\t\\\n\t    test -f $$f\t\t\t\t\t\t\t\\\n\t      && perl -lne '$(gl_extract_significant_defines_)' $$f;\t\\\n\t  done;\t\t\t\t\t\t\t\t\\\n\t) | sort -u\t\t\t\t\t\t\t\\\n\t  | $(SED) 's/^/^ *# *(define|undef)  */;s/$$/\\\\>/'\nendef\n\n# Don't define macros that we already get from gnulib header files.\nsc_prohibit_always-defined_macros:\n\t@if test -d $(gnulib_dir); then\t\t\t\t\t\\\n\t  case $$(echo all: | $(GREP) -l -f - Makefile) in Makefile);; *) \\\n\t    echo '$(ME): skipping $@: you lack GNU grep' 1>&2; exit 0;;\t\\\n\t  esac;\t\t\t\t\t\t\t\t\\\n\t  regex=$$($(def_sym_regex)); export regex;\t\t\t\\\n\t  $(VC_LIST_EXCEPT)\t\t\t\t\t\t\\\n\t    | xargs sh -c 'echo $$regex | $(GREP) -E -f - \"$$@\"'\t\\\n\t\tdummy /dev/null\t\t\t\t\t\t\\\n\t    && { printf '$(ME): define the above'\t\t\t\\\n\t\t\t' via some gnulib .h file\\n' 1>&2;\t\t\\\n\t\t exit 1; }\t\t\t\t\t\t\\\n\t    || :;\t\t\t\t\t\t\t\\\n\tfi\n# ==================================================================\n\n# Prohibit checked in backup files.\nsc_prohibit_backup_files:\n\t@$(VC_LIST) | $(GREP) '~$$' &&\t\t\t\t\t\\\n\t  { echo '$(ME): found version controlled backup file' 1>&2;\t\\\n\t    exit 1; } || :\n\n# Require the latest GPL.\nsc_GPL_version:\n\t@prohibit='either ''version [^3]'\t\t\t\t\\\n\thalt='GPL vN, N!=3'\t\t\t\t\t\t\\\n\t  $(_sc_search_regexp)\n\n# Require the latest GFDL.  Two regexp, since some .texi files end up\n# line wrapping between 'Free Documentation License,' and 'Version'.\n_GFDL_regexp = (Free ''Documentation.*Version 1\\.[^3]|Version 1\\.[^3] or any)\nsc_GFDL_version:\n\t@prohibit='$(_GFDL_regexp)'\t\t\t\t\t\\\n\thalt='GFDL vN, N!=3'\t\t\t\t\t\t\\\n\t  $(_sc_search_regexp)\n\n# Don't use Texinfo's @acronym{}.\n# https://lists.gnu.org/r/bug-gnulib/2010-03/msg00321.html\ntexinfo_suffix_re_ ?= \\.(txi|texi(nfo)?)$$\nsc_texinfo_acronym:\n\t@prohibit='@acronym\\{'\t\t\t\t\t\t\\\n\tin_vc_files='$(texinfo_suffix_re_)'\t\t\t\t\\\n\thalt='found use of Texinfo @acronym{}'\t\t\t\t\\\n\t  $(_sc_search_regexp)\n\ncvs_keywords = \\\n  Author|Date|Header|Id|Name|Locker|Log|RCSfile|Revision|Source|State\n\nsc_prohibit_cvs_keyword:\n\t@prohibit='\\$$($(cvs_keywords))\\$$'\t\t\t\t\\\n\thalt='do not use CVS keyword expansion'\t\t\t\t\\\n\t  $(_sc_search_regexp)\n\n# This Perl code is slightly obfuscated.  Not only is each \"$\" doubled\n# because it's in a Makefile, but the $$c's are comments;  we cannot\n# use \"#\" due to the way the script ends up concatenated onto one line.\n# It would be much more concise, and would produce better output (including\n# counts) if written as:\n#   perl -ln -0777 -e '/\\n(\\n+)$/ and print \"$ARGV: \".length $1' ...\n# but that would be far less efficient, reading the entire contents\n# of each file, rather than just the last two bytes of each.\n# In addition, while the code below detects both blank lines and a missing\n# newline at EOF, the above detects only the former.\n#\n# This is a perl script that is expected to be the single-quoted argument\n# to a command-line \"-le\".  The remaining arguments are file names.\n# Print the name of each file that does not end in exactly one newline byte.\n# I.e., warn if there are blank lines (2 or more newlines), or if the\n# last byte is not a newline.  However, currently we don't complain\n# about any file that contains exactly one byte.\n# Exit nonzero if at least one such file is found, otherwise, exit 0.\n# Warn about, but otherwise ignore open failure.  Ignore seek/read failure.\n#\n# Use this if you want to remove trailing empty lines from selected files:\n#   perl -pi -0777 -e 's/\\n\\n+$/\\n/' files...\n#\nrequire_exactly_one_NL_at_EOF_ =\t\t\t\t\t\\\n  foreach my $$f (@ARGV)\t\t\t\t\t\t\\\n    {\t\t\t\t\t\t\t\t\t\\\n      open F, \"<\", $$f or (warn \"failed to open $$f: $$!\\n\"), next;\t\\\n      my $$p = sysseek (F, -2, 2);\t\t\t\t\t\\\n      my $$c = \"seek failure probably means file has < 2 bytes; ignore\"; \\\n      my $$last_two_bytes;\t\t\t\t\t\t\\\n      defined $$p and $$p = sysread F, $$last_two_bytes, 2;\t\t\\\n      close F;\t\t\t\t\t\t\t\t\\\n      $$c = \"ignore read failure\";\t\t\t\t\t\\\n      $$p && ($$last_two_bytes eq \"\\n\\n\"\t\t\t\t\\\n              || substr ($$last_two_bytes,1) ne \"\\n\")\t\t\t\\\n          and (print $$f), $$fail=1;\t\t\t\t\t\\\n    }\t\t\t\t\t\t\t\t\t\\\n  END { exit defined $$fail }\nsc_prohibit_empty_lines_at_EOF:\n\t@$(VC_LIST_EXCEPT)\t\t\t\t\t\t\\\n\t  | xargs perl -le '$(require_exactly_one_NL_at_EOF_)'\t\t\\\n\t  || { echo '$(ME): empty line(s) or no newline at EOF' 1>&2;\t\\\n\t       exit 1; }\t\t\t\t\t\t\\\n\t  || :\n\n# Make sure we don't use st_blocks.  Use ST_NBLOCKS instead.\n# This is a bit of a kludge, since it prevents use of the string\n# even in comments, but for now it does the job with no false positives.\nsc_prohibit_stat_st_blocks:\n\t@prohibit='[.>]st_blocks'\t\t\t\t\t\\\n\thalt='do not use st_blocks; use ST_NBLOCKS'\t\t\t\\\n\t  $(_sc_search_regexp)\n\n# Make sure we don't define any S_IS* macros in src/*.c files.\n# They're already defined via gnulib's sys/stat.h replacement.\nsc_prohibit_S_IS_definition:\n\t@prohibit='^ *# *define  *S_IS'\t\t\t\t\t\\\n\thalt='do not define S_IS* macros; include <sys/stat.h>'\t\t\\\n\t  $(_sc_search_regexp)\n\n# Perl block to convert a match to FILE_NAME:LINENO:TEST,\n# that is shared by two definitions below.\nperl_filename_lineno_text_ =\t\t\t\t\t\t\\\n    -e '  {'\t\t\t\t\t\t\t\t\\\n    -e '    $$n = ($$` =~ tr/\\n/\\n/ + 1);'\t\t\t\t\\\n    -e '    ($$v = $$&) =~ s/\\n/\\\\n/g;'\t\t\t\t\t\\\n    -e '    print \"$$ARGV:$$n:$$v\\n\";'\t\t\t\t\t\\\n    -e '  }'\n\nprohibit_doubled_words_ = \\\n    the then in an on if is it but for or at and do to can\n# expand the regex before running the check to avoid using expensive captures\nprohibit_doubled_word_expanded_ = \\\n    $(join $(prohibit_doubled_words_),$(addprefix \\s+,$(prohibit_doubled_words_)))\nprohibit_doubled_word_RE_ ?= \\\n    /\\b(?:$(subst $(_sp),|,$(prohibit_doubled_word_expanded_)))\\b/gims\nprohibit_doubled_word_ =\t\t\t\t\t\t\\\n    -e 'while ($(prohibit_doubled_word_RE_))'\t\t\t\t\\\n    $(perl_filename_lineno_text_)\n\n# Define this to a regular expression that matches\n# any filename:dd:match lines you want to ignore.\n# The default is to ignore no matches.\nignore_doubled_word_match_RE_ ?= ^$$\n\nsc_prohibit_doubled_word:\n\t@$(VC_LIST_EXCEPT)\t\t\t\t\t\t\\\n\t  | xargs perl -n -0777 $(prohibit_doubled_word_)\t\t\\\n\t  | $(GREP) -vE '$(ignore_doubled_word_match_RE_)'\t\t\\\n\t  | $(GREP) .\t\t\t\t\t\t\t\\\n\t  && { echo '$(ME): doubled words' 1>&2; exit 1; }\t\t\\\n\t  || :\n\n# A regular expression matching undesirable combinations of words like\n# \"can not\"; this matches them even when the two words appear on different\n# lines, but not when there is an intervening delimiter like \"#\" or \"*\".\n# Similarly undesirable, \"See @xref{...}\", since an @xref should start\n# a sentence.  Explicitly prohibit any prefix of \"see\" or \"also\".\n# Also prohibit a prefix matching \"\\w+ +\".\n# @pxref gets the same see/also treatment and should be parenthesized;\n# presume it must *not* start a sentence.\n# POSIX spells it \"timestamp\" rather than \"time\\s+stamp\", so we do, too.\nbad_xref_re_ ?= (?:[\\w,:;] +|(?:see|also)\\s+)\\@xref\\{\nbad_pxref_re_ ?= (?:[.!?]|(?:see|also))\\s+\\@pxref\\{\nprohibit_undesirable_word_seq_RE_ ?=\t\t\t\t\t\\\n  /(?:\\bcan\\s+not\\b|\\btime\\s+stamps?\\b|$(bad_xref_re_)|$(bad_pxref_re_))/gims\nprohibit_undesirable_word_seq_ =\t\t\t\t\t\\\n    -e 'while ($(prohibit_undesirable_word_seq_RE_))'\t\t\t\\\n    $(perl_filename_lineno_text_)\n# Define this to a regular expression that matches\n# any filename:dd:match lines you want to ignore.\n# The default is to ignore no matches.\nignore_undesirable_word_sequence_RE_ ?= ^$$\n\nsc_prohibit_undesirable_word_seq:\n\t@$(VC_LIST_EXCEPT)\t\t\t\t\t\t\\\n\t  | xargs perl -n -0777 $(prohibit_undesirable_word_seq_)\t\\\n\t  | $(GREP) -vE '$(ignore_undesirable_word_sequence_RE_)'\t\\\n\t  | $(GREP) .\t\t\t\t\t\t\t\\\n\t  && { echo '$(ME): undesirable word sequence' >&2; exit 1; }   \\\n\t  || :\n\n# Except for shell files and for loops, double semicolon is probably a mistake\nsc_prohibit_double_semicolon:\n\t@prohibit='; *;[\t{} \\]*(/[/*]|$$)'\t\t\t\\\n\tin_vc_files='\\.[chly]$$'\t\t\t\t\t\\\n\texclude='\\bfor *\\(.*\\)'\t\t\t\t\t\t\\\n\thalt=\"Double semicolon detected\"\t\t\t\t\\\n\t  $(_sc_search_regexp)\n\n_ptm1 = use \"test C1 && test C2\", not \"test C1 -''a C2\"\n_ptm2 = use \"test C1 || test C2\", not \"test C1 -''o C2\"\n# Using test's -a and -o operators is not portable.\n# We prefer test over [, since the latter is spelled [[ in configure.ac.\nsc_prohibit_test_minus_ao:\n\t@prohibit='(\\<test| \\[+) .+ -[ao] '\t\t\t\t\\\n\thalt='$(_ptm1); $(_ptm2)'\t\t\t\t\t\\\n\t  $(_sc_search_regexp)\n\n# Avoid a test bashism.\nsc_prohibit_test_double_equal:\n\t@prohibit='(\\<test| \\[+) .+ == '\t\t\t\t\\\n\tcontaining='#! */bin/[a-z]*sh'\t\t\t\t\t\\\n\thalt='use \"test x = x\", not \"test x =''= x\"'\t\t\t\\\n\t  $(_sc_search_regexp)\n\n# Each program that uses proper_name_utf8 must link with one of the\n# ICONV libraries.  Otherwise, some ICONV library must appear in LDADD.\n# The perl -0777 invocation below extracts the possibly-multi-line\n# definition of LDADD from the appropriate Makefile.am and exits 0\n# when it contains \"ICONV\".\nsc_proper_name_utf8_requires_ICONV:\n\t@progs=$$($(VC_LIST_EXCEPT)\t\t\t\t\t\\\n\t\t    | xargs $(GREP) -l 'proper_name_utf8 ''(\"');\t\\\n\tif test \"x$$progs\" != x; then\t\t\t\t\t\\\n\t  fail=0;\t\t\t\t\t\t\t\\\n\t  for p in $$progs; do\t\t\t\t\t\t\\\n\t    dir=$$(dirname \"$$p\");\t\t\t\t\t\\\n\t    perl -0777\t\t\t\t\t\t\t\\\n\t      -ne 'exit !(/^LDADD =(.+?[^\\\\]\\n)/ms && $$1 =~ /ICONV/)'\t\\\n\t      $$dir/Makefile.am && continue;\t\t\t\t\\\n\t    base=$$(basename \"$$p\" .c);\t\t\t\t\t\\\n\t    $(GREP) \"$${base}_LDADD.*ICONV)\" $$dir/Makefile.am > /dev/null\t\\\n\t      || { fail=1; echo 1>&2 \"$(ME): $$p uses proper_name_utf8\"; }; \\\n\t  done;\t\t\t\t\t\t\t\t\\\n\t  test $$fail = 1 &&\t\t\t\t\t\t\\\n\t    { echo 1>&2 '$(ME): the above do not link with any ICONV library'; \\\n\t      exit 1; } || :;\t\t\t\t\t\t\\\n\tfi\n\n# Warn about \"c0nst struct Foo const foo[]\",\n# but not about \"char const *const foo\" or \"#define const const\".\nsc_redundant_const:\n\t@prohibit='\\bconst\\b[[:space:][:alnum:]]{2,}\\bconst\\b'\t\t\\\n\thalt='redundant \"const\" in declarations'\t\t\t\\\n\t  $(_sc_search_regexp)\n\nsc_const_long_option:\n\t@prohibit='^ *static.*struct option '\t\t\t\t\\\n\texclude='const struct option|struct option const'\t\t\\\n\thalt='add \"const\" to the above declarations'\t\t\t\\\n\t  $(_sc_search_regexp)\n\nNEWS_hash =\t\t\t\t\t\t\t\t\\\n  $$($(SED) -n '/^\\*.* $(PREV_VERSION_REGEXP) ([0-9-]*)/,$$p'\t\t\\\n       $(srcdir)/NEWS\t\t\t\t\t\t\t\\\n     | perl -0777 -pe\t\t\t\t\t\t\t\\\n\t's/^Copyright.+?Free\\sSoftware\\sFoundation,\\sInc\\.\\n//ms'\t\\\n     | md5sum -\t\t\t\t\t\t\t\t\\\n     | $(SED) 's/ .*//')\n\n# Ensure that we don't accidentally insert an entry into an old NEWS block.\nsc_immutable_NEWS:\n\t@if test -f $(srcdir)/NEWS; then\t\t\t\t\\\n\t  test \"$(NEWS_hash)\" = '$(old_NEWS_hash)' && : ||\t\t\\\n\t    { echo '$(ME): you have modified old NEWS' 1>&2; exit 1; };\t\\\n\tfi\n\n# Update the hash stored above.  Do this after each release and\n# for any corrections to old entries.\nupdate-NEWS-hash: NEWS\n\tperl -pi -e 's/^(old_NEWS_hash[ \\t]+:?=[ \\t]+).*/$${1}'\"$(NEWS_hash)/\" \\\n\t  $(srcdir)/cfg.mk\n\n# Ensure that we use only the standard $(VAR) notation,\n# not @...@ in Makefile.am, now that we can rely on automake\n# to emit a definition for each substituted variable.\n# However, there is still one case in which @VAR@ use is not just\n# legitimate, but actually required: when augmenting an automake-defined\n# variable with a prefix.  For example, gettext uses this:\n# MAKEINFO = env LANG= LC_MESSAGES= LC_ALL= LANGUAGE= @MAKEINFO@\n# otherwise, makeinfo would put German or French (current locale)\n# navigation hints in the otherwise-English documentation.\n#\n# Allow the package to add exceptions via a hook in cfg.mk;\n# for example, @PRAGMA_SYSTEM_HEADER@ can be permitted by\n# setting this to ' && !/PRAGMA_SYSTEM_HEADER/'.\n_makefile_at_at_check_exceptions ?=\nsc_makefile_at_at_check:\n\t@perl -ne '/\\@\\w+\\@/'\t\t\t\t\t\t\\\n          -e ' && !/(\\w+)\\s+=.*\\@\\1\\@$$/'\t\t\t\t\\\n          -e ''$(_makefile_at_at_check_exceptions)\t\t\t\\\n\t  -e 'and (print \"$$ARGV:$$.: $$_\"), $$m=1; END {exit !$$m}'\t\\\n\t    $$($(VC_LIST_EXCEPT) | $(GREP) -E '(^|/)(Makefile\\.am|[^/]+\\.mk)$$') \\\n\t  && { echo '$(ME): use $$(...), not @...@' 1>&2; exit 1; } || :\n\nnews-check: NEWS\n\t$(AM_V_GEN)if $(SED) -n $(news-check-lines-spec)p $<\t\t\\\n\t    | $(GREP) -E $(news-check-regexp) >/dev/null; then\t\t\\\n\t  :;\t\t\t\t\t\t\t\t\\\n\telse\t\t\t\t\t\t\t\t\\\n\t  echo 'NEWS: $$(news-check-regexp) failed to match' 1>&2;\t\\\n\t  exit 1;\t\t\t\t\t\t\t\\\n\tfi\n\nsc_makefile_TAB_only_indentation:\n\t@prohibit='^\t[ ]{8}'\t\t\t\t\t\t\\\n\tin_vc_files='akefile|\\.mk$$'\t\t\t\t\t\\\n\thalt='found TAB-8-space indentation'\t\t\t\t\\\n\t  $(_sc_search_regexp)\n\nsc_m4_quote_check:\n\t@prohibit='(AC_DEFINE(_UNQUOTED)?|AC_DEFUN)\\([^[]'\t\t\\\n\tin_vc_files='(^configure\\.ac|\\.m4)$$'\t\t\t\t\\\n\thalt='quote the first arg to AC_DEF*'\t\t\t\t\\\n\t  $(_sc_search_regexp)\n\nfix_po_file_diag = \\\n'you have changed the set of files with translatable diagnostics;\\n\\\napply the above patch\\n'\n\n# Generate a list of files in which to search for translatable strings.\nperl_translatable_files_list_ =\t\t\t\t\t\t\\\n  -e 'foreach $$file (@ARGV) {'\t\t\t\t\t\t\\\n  -e '\t\\# Consider only file extensions with one or two letters'\t\\\n  -e '\t$$file =~ /\\...?$$/ or next;'\t\t\t\t\t\\\n  -e '\t\\# Ignore m4 and mk files'\t\t\t\t\t\\\n  -e '\t$$file =~ /\\.m[4k]$$/ and next;'\t\t\t\t\\\n  -e '\t\\# Ignore a .c or .h file with a corresponding .l or .y file'\t\\\n  -e '\t$$file =~ /(.+)\\.[ch]$$/ && (-e \"$${1}.l\" || -e \"$${1}.y\")'\t\\\n  -e '\t  and next;'\t\t\t\t\t\t\t\\\n  -e '\t\\# Skip unreadable files'\t\t\t\t\t\\\n  -e '\t-r $$file or next;'\t\t\t\t\t\t\\\n  -e '\tprint \"$$file \";'\t\t\t\t\t\t\\\n  -e '}'\n\n# Verify that all source files using _() (more specifically, files that\n# match $(_gl_translatable_string_re)) are listed in po/POTFILES.in.\npo_file ?= $(srcdir)/po/POTFILES.in\ngenerated_files ?= $(srcdir)/lib/*.[ch]\n_gl_translatable_string_re ?= \\b(N?_|gettext *)\\([^)\"]*(\"|$$)\nsc_po_check:\n\t@if test -f $(po_file); then\t\t\t\t\t\\\n\t  $(GREP) -E -v '^(#|$$)' $(po_file)\t\t\t\t\\\n\t    | $(GREP) -v '^src/false\\.c$$' | sort > $@-1;\t\t\\\n\t  { $(VC_LIST_EXCEPT); echo $(generated_files); }\t\t\\\n\t    | xargs perl $(perl_translatable_files_list_)\t\t\\\n\t    | xargs $(GREP) -E -l '$(_gl_translatable_string_re)'\t\\\n\t    | $(SED) 's|^$(_dot_escaped_srcdir)/||'\t\t\t\\\n\t    | sort -u > $@-2;\t\t\t\t\t\t\\\n\t  diff -u -L $(po_file) -L $(po_file) $@-1 $@-2\t\t\t\\\n\t    || { printf '$(ME): '$(fix_po_file_diag) 1>&2; exit 1; };\t\\\n\t  rm -f $@-1 $@-2;\t\t\t\t\t\t\\\n\tfi\n\n# Sometimes it is useful to change the PATH environment variable\n# in Makefiles.  When doing so, it's better not to use the Unix-centric\n# path separator of ':', but rather the automake-provided '$(PATH_SEPARATOR)'.\nmsg = 'Do not use \":\" above; use $$(PATH_SEPARATOR) instead'\nsc_makefile_path_separator_check:\n\t@prohibit='PATH[=].*:'\t\t\t\t\t\t\\\n\tin_vc_files='akefile|\\.mk$$'\t\t\t\t\t\\\n\thalt=$(msg)\t\t\t\t\t\t\t\\\n\t  $(_sc_search_regexp)\n\nsc_makefile_DISTCHECK_CONFIGURE_FLAGS:\n\t@prohibit='^DISTCHECK_CONFIGURE_FLAGS'\t\t\t\t\\\n\tin_vc_files='akefile|\\.mk$$'\t\t\t\t\t\\\n\thalt=\"use AM_DISTCHECK_CONFIGURE_FLAGS\"\t\t\t\t\\\n\t  $(_sc_search_regexp)\n\n# Check that 'make alpha' will not fail at the end of the process,\n# i.e., when pkg-M.N.tar.xz already exists (either in \".\" or in ../release)\n# and is read-only.\nwritable-files:\n\t$(AM_V_GEN)if test -d $(release_archive_dir); then\t\t\\\n\t  for file in $(DIST_ARCHIVES); do\t\t\t\t\\\n\t    for p in ./ $(release_archive_dir)/; do\t\t\t\\\n\t      test -e $$p$$file || continue;\t\t\t\t\\\n\t      test -w $$p$$file\t\t\t\t\t\t\\\n\t\t|| { echo ERROR: $$p$$file is not writable; fail=1; };\t\\\n\t    done;\t\t\t\t\t\t\t\\\n\t  done;\t\t\t\t\t\t\t\t\\\n\t  test \"$$fail\" && exit 1 || : ;\t\t\t\t\\\n\telse :;\t\t\t\t\t\t\t\t\\\n\tfi\n\nv_etc_file = $(gnulib_dir)/lib/version-etc.c\nsample-test = tests/sample-test\ntexi = doc/$(PACKAGE).texi\n# Make sure that the copyright date in $(v_etc_file) is up to date.\n# Do the same for the $(sample-test) and the main doc/.texi file.\nsc_copyright_check:\n\t@require='enum { COPYRIGHT_YEAR = '$$(date +%Y)' };'\t\t\\\n\tin_files=$(v_etc_file)\t\t\t\t\t\t\\\n\thalt='out of date copyright in $(v_etc_file); update it'\t\\\n\t  $(_sc_search_regexp)\n\t@require='# Copyright \\(C\\) '$$(date +%Y)' Free'\t\t\\\n\tin_vc_files=$(sample-test)\t\t\t\t\t\\\n\thalt='out of date copyright in $(sample-test); update it'\t\\\n\t  $(_sc_search_regexp)\n\t@require='Copyright @copyright\\{} .*'$$(date +%Y)\t\t\\\n\tin_vc_files=$(texi)\t\t\t\t\t\t\\\n\thalt='out of date copyright in $(texi); update it'\t\t\\\n\t  $(_sc_search_regexp)\n\n# If tests/help-version exists and seems to be new enough, assume that its\n# use of init.sh and path_prepend_ is correct, and ensure that every other\n# use of init.sh is identical.\n# This is useful because help-version cross-checks prog --version\n# with $(VERSION), which verifies that its path_prepend_ invocation\n# sets PATH correctly.  This is an inexpensive way to ensure that\n# the other init.sh-using tests also get it right.\n_hv_file ?= $(srcdir)/tests/help-version\n_hv_regex_weak ?= ^ *\\. .*/init\\.sh\"\n# Fix syntax-highlighters \"\n_hv_regex_strong ?= ^ *\\. \"\\$${srcdir=\\.}/init\\.sh\"\nsc_cross_check_PATH_usage_in_tests:\n\t@if test -f $(_hv_file); then\t\t\t\t\t\\\n\t  $(GREP) -l 'VERSION mismatch' $(_hv_file) >/dev/null\t\t\\\n\t    || { echo \"$@: skipped: no such file: $(_hv_file)\" 1>&2;\t\\\n\t\t exit 0; };\t\t\t\t\t\t\\\n\t  $(GREP) -lE '$(_hv_regex_strong)' $(_hv_file) >/dev/null\t\\\n\t    || { echo \"$@: $(_hv_file) lacks conforming use of init.sh\" 1>&2; \\\n\t\t exit 1; };\t\t\t\t\t\t\\\n\t  good=$$($(GREP) -E '$(_hv_regex_strong)' $(_hv_file));\t\\\n\t  $(VC_LIST_EXCEPT)\t\t\t\t\t\t\\\n\t    | xargs $(GREP) -lE '$(_hv_regex_weak)'\t\t\t\\\n\t    | xargs $(GREP) -LFx \"$$good\"\t\t\t\t\\\n\t    | $(GREP) .\t\t\t\t\t\t\t\\\n\t    && { printf \"$(ME): the above files use\"\t\t\t\\\n\t\t\t\" path_prepend_ inconsistently\\n\" 1>&2;\t\t\\\n\t\t exit 1; }\t\t\t\t\t\t\\\n\t    || :;\t\t\t\t\t\t\t\\\n\tfi\n\n# BRE regex of file contents to identify a test script.\n_test_script_regex ?= \\<init\\.sh\\>\n\n# In tests, use \"compare expected actual\", not the reverse.\nsc_prohibit_reversed_compare_failure:\n\t@prohibit='\\<compare [^ ]+ ([^ ]*exp|/dev/null)'\t\t\\\n\tcontaining='$(_test_script_regex)'\t\t\t\t\\\n\thalt='reversed compare arguments'\t\t\t\t\\\n\t  $(_sc_search_regexp)\n\n# #if HAVE_... will evaluate to false for any non numeric string.\n# That would be flagged by using -Wundef, however gnulib currently\n# tests many undefined macros, and so we can't enable that option.\n# So at least preclude common boolean strings as macro values.\nsc_Wundef_boolean:\n\t@prohibit='^#define.*(yes|no|true|false)$$'\t\t\t\\\n\tin_files='$(CONFIG_INCLUDE)'\t\t\t\t\t\\\n\thalt='Use 0 or 1 for macro values'\t\t\t\t\\\n\t  $(_sc_search_regexp)\n\n# Even if you use pathmax.h to guarantee that PATH_MAX is defined, it might\n# not be constant, or might overflow a stack.  In general, use PATH_MAX as\n# a limit, not an array or alloca size.\nsc_prohibit_path_max_allocation:\n\t@prohibit='(\\balloca *\\([^)]*|\\[[^]]*)\\bPATH_MAX'\t\t\\\n\thalt='Avoid stack allocations of size PATH_MAX'\t\t\t\\\n\t  $(_sc_search_regexp)\n\nsc_vulnerable_makefile_CVE-2009-4029:\n\t@prohibit='perm -777 -exec chmod a\\+rwx|chmod 777 \\$$\\(distdir\\)' \\\n\tin_files='(^|/)Makefile\\.in$$'\t\t\t\t\t\\\n\thalt=$$(printf '%s\\n'\t\t\t\t\t\t\\\n\t  'the above files are vulnerable; beware of running'\t\t\\\n\t  '  \"make dist*\" rules, and upgrade to fixed automake'\t\t\\\n\t  '  see https://bugzilla.redhat.com/show_bug.cgi?id=542609 for details') \\\n\t  $(_sc_search_regexp)\n\nsc_vulnerable_makefile_CVE-2012-3386:\n\t@prohibit='chmod a\\+w \\$$\\(distdir\\)'\t\t\t\t\\\n\tin_files='(^|/)Makefile\\.in$$'\t\t\t\t\t\\\n\thalt=$$(printf '%s\\n'\t\t\t\t\t\t\\\n\t  'the above files are vulnerable; beware of running'\t\t\\\n\t  '  \"make distcheck\", and upgrade to fixed automake'\t\t\\\n\t  '  see https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2012-3386 for details') \\\n\t  $(_sc_search_regexp)\n\nsc_unportable_grep_q:\n\t@prohibit='grep -q' halt=\"unportable 'grep -q', use >/dev/null instead\" \\\n\t  $(_sc_search_regexp)\n\n# The GNU Coding standards say that README should refer to both\n# INSTALL and the file that contains the copying conditions.  This\n# shall be COPYING for GPL and COPYING.LESSER for LGPL.\n\nsc_readme_link_install:\n\t@require='INSTALL'\t\t\t\t\t\\\n\tin_vc_files='$(top_srcdir)/README$$'                    \\\n\thalt='The README file should refer to INSTALL'          \\\n\t  $(_sc_search_regexp)\n\nsc_readme_link_copying:\n\t@require='COPYING'\t\t\t\t\t\\\n\tin_vc_files='$(top_srcdir)/README$$'                    \\\n\thalt='The README file should refer to COPYING[.LESSER]' \\\n\t  $(_sc_search_regexp)\n\nvc-diff-check:\n\t$(AM_V_GEN)(unset CDPATH; cd $(srcdir) && $(VC) diff) > vc-diffs || :\n\t$(AM_V_at)if test -s vc-diffs; then\t\t\t\\\n\t  cat vc-diffs;\t\t\t\t\t\t\\\n\t  echo \"Some files are locally modified:\" 1>&2;\t\t\\\n\t  exit 1;\t\t\t\t\t\t\\\n\telse\t\t\t\t\t\t\t\\\n\t  rm vc-diffs;\t\t\t\t\t\t\\\n\tfi\n\nrel-files = $(DIST_ARCHIVES)\n\ngnulib-version = $$(cd $(gnulib_dir)\t\t\t\t\\\n                    && { git describe || git rev-parse --short=10 HEAD; } )\nbootstrap-tools ?= autoconf,automake,gnulib\n\ngpgv = $$(gpgv2 --version >/dev/null && echo gpgv2 || echo gpgv)\n# If it's not already specified, derive the GPG key ID from\n# the signed tag we've just applied to mark this release.\ngpg_key_ID ?=\t\t\t\t\t\t\t\t\\\n  $$(cd $(srcdir)\t\t\t\t\t\t\t\\\n     && git cat-file tag v$(VERSION)\t\t\t\t\t\\\n        | $(gpgv) --status-fd 1 --keyring /dev/null - - 2>/dev/null\t\\\n        | $(AWK) '/^\\[GNUPG:] ERRSIG / {print $$3; exit}')\ngpg_key_email ?=\t\t\t\t\t\t\t\\\n  $$(gpg --list-key --with-colons $(gpg_key_ID) 2>/dev/null\t\t\\\n\t| $(AWK) -F: '/^uid/ {print $$10; exit}'\t\t\t\\\n\t| $(SED) -n 's/.*<\\(.*\\)>/\\1/p')\ngpg_keyring_url ?= https://savannah.gnu.org/project/release-gpgkeys.php?group=$(PACKAGE)&download=1\n\ntranslation_project_ ?= coordinator@translationproject.org\n\n# Make info-gnu the default only for a stable release.\nannouncement_Cc_stable = $(translation_project_), $(PACKAGE_BUGREPORT)\nannouncement_mail_headers_stable =\t\t\\\n  To: info-gnu@gnu.org\t\t\t\t\\\n  Cc: $(announcement_Cc_)\t\t\t\\\n  Mail-Followup-To: $(PACKAGE_BUGREPORT)\n\nannouncement_Cc_alpha = $(translation_project_)\nannouncement_mail_headers_alpha =\t\t\\\n  To: $(PACKAGE_BUGREPORT)\t\t\t\\\n  Cc: $(announcement_Cc_)\n\nannouncement_mail_Cc_beta = $(announcement_mail_Cc_alpha)\nannouncement_mail_headers_beta = $(announcement_mail_headers_alpha)\n\nannouncement_Cc_ ?= $(announcement_Cc_$(release-type))\nannouncement_mail_headers_ ?= $(announcement_mail_headers_$(release-type))\nannouncement: NEWS ChangeLog $(rel-files)\n# Not $(AM_V_GEN) since the output of this command serves as\n# announcement message: it would start with \" GEN announcement\".\n\t$(AM_V_at)$(srcdir)/$(_build-aux)/announce-gen\t\t\t\\\n\t    --mail-headers='$(announcement_mail_headers_)'\t\t\\\n\t    --release-type=$(release-type)\t\t\t\t\\\n\t    --package=$(PACKAGE)\t\t\t\t\t\\\n\t    --prev=$(PREV_VERSION)\t\t\t\t\t\\\n\t    --curr=$(VERSION)\t\t\t\t\t\t\\\n\t    --gpg-key-id=$(gpg_key_ID)\t\t\t\t\t\\\n\t    $$(test -n \"$(gpg_key_email)\" &&\t\t\t\t\\\n\t       echo --gpg-key-email=\"$(gpg_key_email)\")\t\t\t\\\n\t    $$(test -n \"$(gpg_keyring_url)\" &&\t\t\t\t\\\n\t       echo --gpg-keyring-url=\"$(gpg_keyring_url)\")\t\t\\\n\t    --srcdir=$(srcdir)\t\t\t\t\t\t\\\n\t    --news=$(srcdir)/NEWS\t\t\t\t\t\\\n\t    --bootstrap-tools=$(bootstrap-tools)\t\t\t\\\n\t    $$(case ,$(bootstrap-tools), in (*,gnulib,*)\t\t\\\n\t       echo --gnulib-version=$(gnulib-version);; esac)\t\t\\\n\t    $(addprefix --url-dir=, $(url_dir_list))\n\n.PHONY: release-commit\nrelease-commit:\n\t$(AM_V_GEN)cd $(srcdir)\t\t\t\t\\\n\t  && $(_build-aux)/do-release-commit-and-tag\t\\\n\t       -C $(abs_builddir) $(RELEASE)\n\n## ---------------- ##\n## Updating files.  ##\n## ---------------- ##\n\nftp-gnu = https://ftp.gnu.org/gnu\nwww-gnu = https://www.gnu.org\n\nupload_dest_dir_ ?= $(PACKAGE)\nupload_command =\t\t\t\t\t\t\\\n  $(srcdir)/$(_build-aux)/gnupload $(GNUPLOADFLAGS)\t\t\\\n  --to $(gnu_rel_host):$(upload_dest_dir_)\t\t\t\\\n  $(rel-files)\nemit_upload_commands:\n\t@echo =====================================\n\t@echo =====================================\n\t@echo '$(upload_command)'\n\t@echo '# send the ~/announce-$(my_distdir) e-mail'\n\t@echo =====================================\n\t@echo =====================================\n\n.PHONY: upload\nupload:\n\t$(AM_V_GEN)$(upload_command)\n\ndefine emit-commit-log\n  printf '%s\\n' 'maint: post-release administrivia' ''\t\t\t\\\n    '* NEWS: Add header line for next release.'\t\t\t\t\\\n    '* .prev-version: Record previous version.'\t\t\t\t\\\n    '* cfg.mk (old_NEWS_hash): Auto-update.'\nendef\n\n.PHONY: no-submodule-changes\nno-submodule-changes:\n\t$(AM_V_GEN)if test -d $(srcdir)/.git\t\t\t\t\\\n\t\t&& git --version >/dev/null 2>&1; then\t\t\t\\\n\t  diff=$$(cd $(srcdir) && git submodule -q foreach\t\t\\\n\t\t  git diff-index --name-only HEAD)\t\t\t\\\n\t    || exit 1;\t\t\t\t\t\t\t\\\n\t  case $$diff in '') ;;\t\t\t\t\t\t\\\n\t    *) echo '$(ME): submodule files are locally modified:';\t\\\n\t\techo \"$$diff\"; exit 1;; esac;\t\t\t\t\\\n\telse\t\t\t\t\t\t\t\t\\\n\t  : ;\t\t\t\t\t\t\t\t\\\n\tfi\n\nsubmodule-checks ?= no-submodule-changes public-submodule-commit\n\n# Ensure that each sub-module commit we're using is public.\n# Without this, it is too easy to tag and release code that\n# cannot be built from a fresh clone.\n.PHONY: public-submodule-commit\npublic-submodule-commit:\n\t$(AM_V_GEN)if test -d $(srcdir)/.git\t\t\t\t\\\n\t\t&& git --version >/dev/null 2>&1; then\t\t\t\\\n\t  cd $(srcdir) &&\t\t\t\t\t\t\\\n\t  git submodule --quiet foreach\t\t\t\t\t\\\n\t      'test \"$$(git rev-parse \"$$sha1\")\"\t\t\t\\\n\t\t  = \"$$(git merge-base origin \"$$sha1\")\"'\t\t\\\n\t    || { echo '$(ME): found non-public submodule commit' >&2;\t\\\n\t\t exit 1; };\t\t\t\t\t\t\\\n\telse\t\t\t\t\t\t\t\t\\\n\t  : ;\t\t\t\t\t\t\t\t\\\n\tfi\n# This rule has a high enough utility/cost ratio that it should be a\n# dependent of \"check\" by default.  However, some of us do occasionally\n# commit a temporary change that deliberately points to a non-public\n# submodule commit, and want to be able to use rules like \"make check\".\n# In that case, run e.g., \"make check gl_public_submodule_commit=\"\n# to disable this test.\ngl_public_submodule_commit ?= public-submodule-commit\ncheck: $(gl_public_submodule_commit)\n\n.PHONY: alpha beta stable release\nALL_RECURSIVE_TARGETS += alpha beta stable\nalpha beta stable: $(local-check) writable-files $(submodule-checks)\n\t$(AM_V_GEN)test $@ = stable\t\t\t\t\t\\\n\t  && { echo $(VERSION) | $(GREP) -E '^[0-9]+(\\.[0-9]+)+$$'\t\\\n\t       || { echo \"invalid version string: $(VERSION)\" 1>&2; exit 1;};}\\\n\t  || :\n\t$(AM_V_at)$(MAKE) vc-diff-check\n\t$(AM_V_at)$(MAKE) news-check\n\t$(AM_V_at)$(MAKE) distcheck\n\t$(AM_V_at)$(MAKE) dist\n\t$(AM_V_at)$(MAKE) $(release-prep-hook) RELEASE_TYPE=$@\n\t$(AM_V_at)$(MAKE) -s emit_upload_commands RELEASE_TYPE=$@\n\nrelease:\n\t$(AM_V_GEN)$(MAKE) _version\n\t$(AM_V_at)$(MAKE) $(release-type)\n\n# Override this in cfg.mk if you follow different procedures.\nrelease-prep-hook ?= release-prep\n\ngl_noteworthy_news_ = * Noteworthy changes in release ?.? (????-??-??) [?]\n.PHONY: release-prep\nrelease-prep:\n\t$(AM_V_GEN)$(MAKE) --no-print-directory -s announcement \\\n\t  > ~/announce-$(my_distdir)\n\t$(AM_V_at)if test -d $(release_archive_dir); then\t\\\n\t  ln $(rel-files) $(release_archive_dir);\t\t\\\n\t  chmod a-w $(rel-files);\t\t\t\t\\\n\tfi\n\t$(AM_V_at)echo $(VERSION) > $(prev_version_file)\n\t$(AM_V_at)$(MAKE) update-NEWS-hash\n\t$(AM_V_at)perl -pi\t\t\t\t\t\t\\\n\t  -e '$$. == 3 and print \"$(gl_noteworthy_news_)\\n\\n\\n\"'\t\\\n\t  $(srcdir)/NEWS\n\t$(AM_V_at)msg=$$($(emit-commit-log)) || exit 1;\t\t\\\n\tcd $(srcdir) && $(VC) commit -m \"$$msg\" -a\n\n# Override this with e.g., -s $(srcdir)/some_other_name.texi\n# if the default $(PACKAGE)-derived name doesn't apply.\ngendocs_options_ ?=\n\n.PHONY: web-manual\nweb-manual:\n\t$(AM_V_GEN)test -z \"$(manual_title)\" \\\n\t  && { echo define manual_title in cfg.mk 1>&2; exit 1; } || :\n\t$(AM_V_at)cd '$(srcdir)/doc'; \\\n\t  $(SHELL) ../$(_build-aux)/gendocs.sh $(gendocs_options_) \\\n\t     -o '$(abs_builddir)/doc/manual' \\\n\t     --email $(PACKAGE_BUGREPORT) $(PACKAGE) \\\n\t    \"$(PACKAGE_NAME) - $(manual_title)\"\n\t$(AM_V_at)echo \" *** Upload the doc/manual directory to web-cvs.\"\n\n.PHONY: web-manual-update\nweb-manual-update:\n\t$(AM_V_GEN)cd $(srcdir) \\\n\t  && $(_build-aux)/gnu-web-doc-update -C $(abs_builddir)\n\n\n# Code Coverage\n\ninit-coverage:\n\t$(MAKE) $(AM_MAKEFLAGS) clean\n\tlcov --directory . --zerocounters\n\nCOVERAGE_CCOPTS ?= \"-g --coverage\"\nCOVERAGE_OUT ?= doc/coverage\n\nbuild-coverage:\n\t$(MAKE) $(AM_MAKEFLAGS) CFLAGS=$(COVERAGE_CCOPTS) CXXFLAGS=$(COVERAGE_CCOPTS)\n\t$(MAKE) $(AM_MAKEFLAGS) CFLAGS=$(COVERAGE_CCOPTS) CXXFLAGS=$(COVERAGE_CCOPTS) check\n\tmkdir -p $(COVERAGE_OUT)\n\tlcov --directory . --output-file $(COVERAGE_OUT)/$(PACKAGE).info \\\n\t\t--capture\n\ngen-coverage:\n\tgenhtml --output-directory $(COVERAGE_OUT) \\\n\t\t$(COVERAGE_OUT)/$(PACKAGE).info \\\n\t\t--highlight --frames --legend \\\n\t\t--title \"$(PACKAGE_NAME)\"\n\ncoverage:\n\t$(MAKE) init-coverage\n\t$(MAKE) build-coverage\n\t$(MAKE) gen-coverage\n\n# Some projects carry local adjustments for gnulib modules via patches in\n# a gnulib patch directory whose default name is gl/ (defined in bootstrap\n# via local_gl_dir=gl).  Those patches become stale as the originals evolve\n# in gnulib.  Use this rule to refresh any stale patches.  It applies each\n# patch to the original in $(gnulib_dir) and uses the temporary result to\n# generate a fuzz-free .diff file.  If you customize the name of your local\n# gnulib patch directory via bootstrap.conf, this rule detects that name.\n# Run this from a non-VPATH (i.e., srcdir) build directory.\n.PHONY: refresh-gnulib-patches\nrefresh-gnulib-patches:\n\tgl=gl;\t\t\t\t\t\t\t\t\\\n\tif test -f bootstrap.conf; then\t\t\t\t\t\\\n\t  t=$$(perl -lne '/^\\s*local_gl_dir=(\\S+)/ and $$d=$$1;'\t\\\n\t       -e 'END{defined $$d and print $$d}' bootstrap.conf);\t\\\n\t  test -n \"$$t\" && gl=$$t;\t\t\t\t\t\\\n\tfi;\t\t\t\t\t\t\t\t\\\n\tfor diff in $$(cd $$gl; git ls-files | $(GREP) '\\.diff$$'); do\t\\\n\t  b=$$(printf %s \"$$diff\"|$(SED) 's/\\.diff$$//');\t\t\\\n\t  VERSION_CONTROL=none\t\t\t\t\t\t\\\n\t    patch \"$(gnulib_dir)/$$b\" \"$$gl/$$diff\" || exit 1;\t\t\\\n\t  ( cd $(gnulib_dir) || exit 1;\t\t\t\t\t\\\n\t    git diff \"$$b\" > \"../$$gl/$$diff\";\t\t\t\t\\\n\t    git checkout $$b ) || exit 1;\t\t\t\t\\\n\tdone\n\n# Update gettext files.\nPACKAGE ?= $(shell basename $(PWD))\nPO_DOMAIN ?= $(PACKAGE)\nPOURL = https://translationproject.org/latest/$(PO_DOMAIN)/\nPODIR ?= po\nrefresh-po:\n\trm -f $(PODIR)/*.po && \\\n\techo \"$(ME): getting translations into po (please ignore the robots.txt ERROR 404)...\" && \\\n\twget --no-verbose --directory-prefix $(PODIR) --no-directories --recursive --level 1 --accept .po --accept .po.1 $(POURL) && \\\n\techo 'en@boldquot' > $(PODIR)/LINGUAS && \\\n\techo 'en@quot' >> $(PODIR)/LINGUAS && \\\n\tls $(PODIR)/*.po | $(SED) 's/\\.po//;s,$(PODIR)/,,' | \\\n\t  sort >> $(PODIR)/LINGUAS\n\n# Indentation\n\nindent_args ?= -ppi 1\nC_SOURCES ?= $$($(VC_LIST_EXCEPT) | grep '\\.[ch]\\(.in\\)\\?$$')\nINDENT_SOURCES ?= $(C_SOURCES)\nexclude_file_name_regexp--indent ?= $(exclude_file_name_regexp--sc_indent)\n\n.PHONY: indent\nindent: # Running indent once is not idempotent, but running it twice is.\n\t$(AM_V_GEN)indent $(indent_args) $(INDENT_SOURCES) && \\\n\tindent $(indent_args) $(INDENT_SOURCES)\n\nsc_indent:\n\t@if ! indent --version 2> /dev/null | grep 'GNU indent' > /dev/null; then \\\n\t    echo 1>&2 '$(ME): sc_indent: GNU indent is missing';\t\\\n\telse\t\t\t\t\t\t\t\t\\\n\t  fail=0; files=\"$(INDENT_SOURCES)\";\t\t\t\t\\\n\t  for f in $$files; do\t\t\t\t\t\t\\\n\t    indent $(indent_args) -st $$f\t\t\t\t\\\n\t\t| indent $(indent_args) -st -\t\t\t\t\\\n\t\t| diff -u $$f - || fail=1;\t\t\t\t\\\n\t  done;\t\t\t\t\t\t\t\t\\\n\t  test $$fail = 1 &&\t\t\t\t\t\t\\\n\t    { echo 1>&2 '$(ME): code format error, try \"make indent\"';\t\\\n\t      exit 1; } || :;\t\t\t\t\t\t\\\n\tfi\n\n# If you want to set UPDATE_COPYRIGHT_* environment variables,\n# put the assignments in this variable.\nupdate-copyright-env ?=\n\n# Run this rule once per year (usually early in January)\n# to update all FSF copyright year lists in your project.\n# If you have an additional project-specific rule,\n# add it in cfg.mk along with a line 'update-copyright: prereq'.\n# By default, exclude all variants of COPYING; you can also\n# add exemptions (such as ChangeLog..* for rotated change logs)\n# in the file .x-update-copyright.\n.PHONY: update-copyright\nupdate-copyright:\n\t$(AM_V_GEN)$(GREP) -l -w Copyright                               \\\n\t  $$(export VC_LIST_EXCEPT_DEFAULT=COPYING && $(VC_LIST_EXCEPT)) \\\n\t  | $(update-copyright-env) xargs $(srcdir)/$(_build-aux)/$@\n\n# This tight_scope test is skipped with a warning if $(_gl_TS_headers) is not\n# overridden and $(_gl_TS_dir)/Makefile.am does not mention noinst_HEADERS.\n\n# NOTE: to override any _gl_TS_* default value, you must\n# define the variable(s) using \"export\" in cfg.mk.\n_gl_TS_dir ?= src\n\nALL_RECURSIVE_TARGETS += sc_tight_scope\nsc_tight_scope: tight-scope.mk\n\t@fail=0;\t\t\t\t\t\t\t\\\n\tif ! $(GREP) '^ *export _gl_TS_headers *=' $(srcdir)/cfg.mk\t\\\n\t\t> /dev/null\t\t\t\t\t\t\\\n\t   && ! $(GREP) -w noinst_HEADERS $(srcdir)/$(_gl_TS_dir)/Makefile.am \\\n\t\t> /dev/null 2>&1; then\t\t\t\t\t\\\n\t    echo '$(ME): skipping $@';\t\t\t\t\t\\\n\telse\t\t\t\t\t\t\t\t\\\n\t    $(MAKE) -s -C $(_gl_TS_dir)\t\t\t\t\t\\\n\t\t-f Makefile\t\t\t\t\t\t\\\n\t\t-f $(abs_top_srcdir)/cfg.mk\t\t\t\t\\\n\t\t-f $(abs_top_builddir)/$<\t\t\t\t\\\n\t      _gl_tight_scope\t\t\t\t\t\t\\\n\t\t|| fail=1;\t\t\t\t\t\t\\\n\tfi;\t\t\t\t\t\t\t\t\\\n\trm -f $<;\t\t\t\t\t\t\t\\\n\texit $$fail\n\ntight-scope.mk: $(ME)\n\t@perl -ne '/^# TS-start/.../^# TS-end/ and print' $(srcdir)/$(ME) > $@-t\n\t@mv $@-t $@\n\nifeq (a,b)\n# TS-start\n\n# Most functions should have static scope.\n# Any that don't must be marked with 'extern', but 'main'\n# and 'usage' are exceptions: they're always extern, but\n# do not need to be marked.  Symbols matching '__.*' are\n# reserved by the compiler, so are automatically excluded below.\n_gl_TS_unmarked_extern_functions ?= main usage\n_gl_TS_function_match ?= /^(?:$(_gl_TS_extern)) +.*?(\\w+) *\\(/\n\n# If your project uses a macro like \"XTERN\", then put\n# the following in cfg.mk to override this default:\n# export _gl_TS_extern = extern|XTERN\n_gl_TS_extern ?= extern\n\n# The second nm|grep checks for file-scope variables with 'extern' scope.\n# Without gnulib's progname module, you might put program_name here.\n# Symbols matching '__.*' are reserved by the compiler,\n# so are automatically excluded below.\n_gl_TS_unmarked_extern_vars ?=\n\n# NOTE: the _match variables are perl expressions -- not mere regular\n# expressions -- so that you can extend them to match other patterns\n# and easily extract matched variable names.\n# For example, if your project declares some global variables via\n# a macro like this: GLOBAL(type, var_name, initializer), then you\n# can override this definition to automatically extract those names:\n# export _gl_TS_var_match = \\\n#   /^(?:$(_gl_TS_extern)) .*?\\**(\\w+)(\\[.*?])?;/ || /\\bGLOBAL\\(.*?,\\s*(.*?),/\n_gl_TS_var_match ?= /^(?:$(_gl_TS_extern)) .*?(\\w+)(\\[.*?])?;/\n\n# The names of object files in (or relative to) $(_gl_TS_dir).\n_gl_TS_obj_files ?= *.$(OBJEXT)\n\n# Files in which to search for the one-line style extern declarations.\n# $(_gl_TS_dir)-relative.\n_gl_TS_headers ?= $(noinst_HEADERS)\n_gl_TS_other_headers ?= *.h\n\n.PHONY: _gl_tight_scope\n_gl_tight_scope: $(bin_PROGRAMS)\n\tsed_wrap='s/^/^_?/;s/$$/$$/';\t\t\t\t\t\\\n\tt=exceptions-$$$$;\t\t\t\t\t\t\\\n\ttrap 's=$$?; rm -f $$t; exit $$s' 0;\t\t\t\t\\\n\tfor sig in 1 2 3 13 15; do\t\t\t\t\t\\\n\t  eval \"trap 'v=`expr $$sig + 128`; (exit $$v); exit $$v' $$sig\"; \\\n\tdone;\t\t\t\t\t\t\t\t\\\n\tsrc=`for f in $(SOURCES); do\t\t\t\t\t\\\n\t       test -f $$f && d= || d=$(srcdir)/; echo $$d$$f; done`;\t\\\n\thdr=`for f in $(_gl_TS_headers); do\t\t\t\t\\\n\t       test -f $$f && d= || d=$(srcdir)/; echo $$d$$f; done`;\t\\\n\t( printf '%s\\n' '__.*' $(_gl_TS_unmarked_extern_functions);\t\\\n\t  $(GREP) -h -A1 '^extern .*[^;]$$' $$src\t\t\t\\\n\t    | $(GREP) -vE '^(extern |--|#)' | $(SED) 's/ .*//; /^$$/d';\t\\\n\t  perl -lne\t\t\t\t\t\t\t\\\n\t     '$(_gl_TS_function_match) and print $$1' $$hdr;\t\t\\\n\t) | sort -u | $(SED) \"$$sed_wrap\" > $$t;\t\t\t\\\n\tnm -g $(_gl_TS_obj_files)|$(SED) -n 's/.* T //p'|$(GREP) -Ev -f $$t \\\n\t  && { echo the above functions should have static scope >&2;\t\\\n\t       exit 1; } || : ;\t\t\t\t\t\t\\\n\t( printf '%s\\n' '__.*' main $(_gl_TS_unmarked_extern_vars);\t\\\n\t  perl -lne '$(_gl_TS_var_match) and print $$1'\t\t\t\\\n\t\t$$hdr $(_gl_TS_other_headers)\t\t\t\t\\\n\t) | sort -u | $(SED) \"$$sed_wrap\" > $$t;\t\t\t\\\n\tnm -g $(_gl_TS_obj_files) | $(SED) -n 's/.* [BCDGRS] //p'\t\\\n            | sort -u | $(GREP) -Ev -f $$t\t\t\t\t\\\n\t  && { echo the above variables should have static scope >&2;\t\\\n\t       exit 1; } || :\n# TS-end\nendif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}