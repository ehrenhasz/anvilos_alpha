{
  "module_name": "vc-list-files",
  "hash_id": "eb0656350e58ef5afaee87279a9a33a028f262a954bcd0f5fa093c9d0aac3ca8",
  "original_prompt": "Ingested from coreutils-9.4/build-aux/vc-list-files",
  "human_readable_source": "#!/bin/sh\n# List version-controlled file names.\n\n# Print a version string.\nscriptversion=2018-03-07.03; # UTC\n\n# Copyright (C) 2006-2023 Free Software Foundation, Inc.\n\n# This program is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 3 of the License, or\n# (at your option) any later version.\n\n# This program is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n# GNU General Public License for more details.\n\n# You should have received a copy of the GNU General Public License\n# along with this program.  If not, see <https://www.gnu.org/licenses/>.\n\n\n# List the specified version-controlled files.\n# With no argument, list them all.  With a single DIRECTORY argument,\n# list the version-controlled files in that directory.\n\n# If there's an argument, it must be a single, \".\"-relative directory name.\n# cvsu is part of the cvsutils package: https://www.red-bean.com/cvsutils/\n\npostprocess=\ncase $1 in\n  --help) cat <<EOF\nUsage: $0 [-C SRCDIR] [DIR...]\n\nOutput a list of version-controlled files in DIR (default .), relative to\nSRCDIR (default .).  SRCDIR must be the top directory of a checkout.\n\nOptions:\n  --help     print this help, then exit\n  --version  print version number, then exit\n  -C SRCDIR  change directory to SRCDIR before generating list\n\nReport bugs and patches to <bug-gnulib@gnu.org>.\nEOF\n    exit ;;\n\n  --version)\n    year=`echo \"$scriptversion\" | sed 's/[^0-9].*//'`\n    cat <<EOF\nvc-list-files $scriptversion\nCopyright (C) $year Free Software Foundation, Inc,\nLicense GPLv3+: GNU GPL version 3 or later <https://gnu.org/licenses/gpl.html>\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\nEOF\n    exit ;;\n\n  -C)\n    test \"$2\" = . || postprocess=\"| sed 's|^|$2/|'\"\n    cd \"$2\" || exit 1\n    shift; shift ;;\nesac\n\ntest $# = 0 && set .\n\nfor dir\ndo\n  if test -d .git || test -f .git; then\n    test \"x$dir\" = x. \\\n      && dir= sed_esc= \\\n      || { dir=\"$dir/\"; sed_esc=`echo \"$dir\"|env sed 's,\\([\\\\/]\\),\\\\\\\\\\1,g'`; }\n    # Ignore git symlinks - either they point into the tree, in which case\n    # we don't need to visit the target twice, or they point somewhere\n    # else (often into a submodule), in which case the content does not\n    # belong to this package.\n    eval exec git ls-tree -r 'HEAD:\"$dir\"' \\\n      \\| sed -n '\"s/^100[^\t]*./$sed_esc/p\"' $postprocess\n  elif test -d .hg; then\n    eval exec hg locate '\"$dir/*\"' $postprocess\n  elif test -d .bzr; then\n    test \"$postprocess\" = '' && postprocess=\"| sed 's|^\\./||'\"\n    eval exec bzr ls -R --versioned '\"$dir\"' $postprocess\n  elif test -d CVS; then\n    test \"$postprocess\" = '' && postprocess=\"| sed 's|^\\./||'\"\n    if test -x build-aux/cvsu; then\n      eval build-aux/cvsu --find --types=AFGM '\"$dir\"' $postprocess\n    elif (cvsu --help) >/dev/null 2>&1; then\n      eval cvsu --find --types=AFGM '\"$dir\"' $postprocess\n    else\n      eval awk -F/ \\''{\t\t\t\\\n          if (!$1 && $3 !~ /^-/) {\t\\\n            f=FILENAME;\t\t\t\\\n            if (f ~ /CVS\\/Entries$/)\t\\\n              f = substr(f, 1, length(f)-11); \\\n            print f $2;\t\t\t\\\n          }}'\\''\t\t\t\t\\\n        `find \"$dir\" -name Entries -print` /dev/null' $postprocess\n    fi\n  elif test -d .svn; then\n    eval exec svn list -R '\"$dir\"' $postprocess\n  else\n    echo \"$0: Failed to determine type of version control used in `pwd`\" 1>&2\n    exit 1\n  fi\ndone\n\n# Local variables:\n# eval: (add-hook 'before-save-hook 'time-stamp)\n# time-stamp-start: \"scriptversion=\"\n# time-stamp-format: \"%:y-%02m-%02d.%02H\"\n# time-stamp-time-zone: \"UTC0\"\n# time-stamp-end: \"; # UTC\"\n# End:\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}