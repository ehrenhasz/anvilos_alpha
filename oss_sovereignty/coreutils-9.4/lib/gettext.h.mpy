{
  "module_name": "gettext.h",
  "hash_id": "f6e9c27c408c8dbed09ce8af862d1745cb0ff15f0867fc0a6270621f4650048e",
  "original_prompt": "Ingested from coreutils-9.4/lib/gettext.h",
  "human_readable_source": " \n#if defined ENABLE_NLS && ENABLE_NLS\n\n \n# include <libintl.h>\n\n \n# ifdef DEFAULT_TEXT_DOMAIN\n#  undef gettext\n#  define gettext(Msgid) \\\n     dgettext (DEFAULT_TEXT_DOMAIN, Msgid)\n#  undef ngettext\n#  define ngettext(Msgid1, Msgid2, N) \\\n     dngettext (DEFAULT_TEXT_DOMAIN, Msgid1, Msgid2, N)\n# endif\n\n#else\n\n \n#if defined(__sun)\n# include <locale.h>\n#endif\n\n \n#if defined(__cplusplus) && defined(__GNUG__) && (__GNUC__ >= 3)\n# include <cstdlib>\n# if (__GLIBC__ >= 2 && !defined __UCLIBC__) || _GLIBCXX_HAVE_LIBINTL_H\n#  include <libintl.h>\n# endif\n#endif\n\n \n# undef gettext\n# define gettext(Msgid) ((const char *) (Msgid))\n# undef dgettext\n# define dgettext(Domainname, Msgid) ((void) (Domainname), gettext (Msgid))\n# undef dcgettext\n# define dcgettext(Domainname, Msgid, Category) \\\n    ((void) (Category), dgettext (Domainname, Msgid))\n# undef ngettext\n# define ngettext(Msgid1, Msgid2, N) \\\n    ((N) == 1 \\\n     ? ((void) (Msgid2), (const char *) (Msgid1)) \\\n     : ((void) (Msgid1), (const char *) (Msgid2)))\n# undef dngettext\n# define dngettext(Domainname, Msgid1, Msgid2, N) \\\n    ((void) (Domainname), ngettext (Msgid1, Msgid2, N))\n# undef dcngettext\n# define dcngettext(Domainname, Msgid1, Msgid2, N, Category) \\\n    ((void) (Category), dngettext (Domainname, Msgid1, Msgid2, N))\n# undef textdomain\n# define textdomain(Domainname) ((const char *) (Domainname))\n# undef bindtextdomain\n# define bindtextdomain(Domainname, Dirname) \\\n    ((void) (Domainname), (const char *) (Dirname))\n# undef bind_textdomain_codeset\n# define bind_textdomain_codeset(Domainname, Codeset) \\\n    ((void) (Domainname), (const char *) (Codeset))\n\n#endif\n\n \n#ifdef GNULIB_defined_setlocale\n# undef setlocale\n# define setlocale rpl_setlocale\n#endif\n\n \n#define gettext_noop(String) String\n\n \n#define GETTEXT_CONTEXT_GLUE \"\\004\"\n\n \n#ifdef DEFAULT_TEXT_DOMAIN\n# define pgettext(Msgctxt, Msgid) \\\n   pgettext_aux (DEFAULT_TEXT_DOMAIN, Msgctxt GETTEXT_CONTEXT_GLUE Msgid, Msgid, LC_MESSAGES)\n#else\n# define pgettext(Msgctxt, Msgid) \\\n   pgettext_aux (NULL, Msgctxt GETTEXT_CONTEXT_GLUE Msgid, Msgid, LC_MESSAGES)\n#endif\n#define dpgettext(Domainname, Msgctxt, Msgid) \\\n  pgettext_aux (Domainname, Msgctxt GETTEXT_CONTEXT_GLUE Msgid, Msgid, LC_MESSAGES)\n#define dcpgettext(Domainname, Msgctxt, Msgid, Category) \\\n  pgettext_aux (Domainname, Msgctxt GETTEXT_CONTEXT_GLUE Msgid, Msgid, Category)\n#ifdef DEFAULT_TEXT_DOMAIN\n# define npgettext(Msgctxt, Msgid, MsgidPlural, N) \\\n   npgettext_aux (DEFAULT_TEXT_DOMAIN, Msgctxt GETTEXT_CONTEXT_GLUE Msgid, Msgid, MsgidPlural, N, LC_MESSAGES)\n#else\n# define npgettext(Msgctxt, Msgid, MsgidPlural, N) \\\n   npgettext_aux (NULL, Msgctxt GETTEXT_CONTEXT_GLUE Msgid, Msgid, MsgidPlural, N, LC_MESSAGES)\n#endif\n#define dnpgettext(Domainname, Msgctxt, Msgid, MsgidPlural, N) \\\n  npgettext_aux (Domainname, Msgctxt GETTEXT_CONTEXT_GLUE Msgid, Msgid, MsgidPlural, N, LC_MESSAGES)\n#define dcnpgettext(Domainname, Msgctxt, Msgid, MsgidPlural, N, Category) \\\n  npgettext_aux (Domainname, Msgctxt GETTEXT_CONTEXT_GLUE Msgid, Msgid, MsgidPlural, N, Category)\n\n#if defined __GNUC__ || defined __clang__\n__inline\n#else\n#ifdef __cplusplus\ninline\n#endif\n#endif\nstatic const char *\npgettext_aux (const char *domain,\n              const char *msg_ctxt_id, const char *msgid,\n              int category)\n{\n  const char *translation = dcgettext (domain, msg_ctxt_id, category);\n  if (translation == msg_ctxt_id)\n    return msgid;\n  else\n    return translation;\n}\n\n#if defined __GNUC__ || defined __clang__\n__inline\n#else\n#ifdef __cplusplus\ninline\n#endif\n#endif\nstatic const char *\nnpgettext_aux (const char *domain,\n               const char *msg_ctxt_id, const char *msgid,\n               const char *msgid_plural, unsigned long int n,\n               int category)\n{\n  const char *translation =\n    dcngettext (domain, msg_ctxt_id, msgid_plural, n, category);\n  if (translation == msg_ctxt_id || translation == msgid_plural)\n    return (n == 1 ? msgid : msgid_plural);\n  else\n    return translation;\n}\n\n \n\n#include <string.h>\n\n \n\n#if (!defined GNULIB_NO_VLA \\\n     && defined __STDC_VERSION__ && 199901L <= __STDC_VERSION__ \\\n     && !defined __STDC_NO_VLA__)\n# define _LIBGETTEXT_HAVE_VARIABLE_SIZE_ARRAYS 1\n#else\n# define _LIBGETTEXT_HAVE_VARIABLE_SIZE_ARRAYS 0\n#endif\n\n#if !_LIBGETTEXT_HAVE_VARIABLE_SIZE_ARRAYS\n#include <stdlib.h>\n#endif\n\n#define pgettext_expr(Msgctxt, Msgid) \\\n  dcpgettext_expr (NULL, Msgctxt, Msgid, LC_MESSAGES)\n#define dpgettext_expr(Domainname, Msgctxt, Msgid) \\\n  dcpgettext_expr (Domainname, Msgctxt, Msgid, LC_MESSAGES)\n\n#if defined __GNUC__ || defined __clang__\n__inline\n#else\n#ifdef __cplusplus\ninline\n#endif\n#endif\nstatic const char *\ndcpgettext_expr (const char *domain,\n                 const char *msgctxt, const char *msgid,\n                 int category)\n{\n  size_t msgctxt_len = strlen (msgctxt) + 1;\n  size_t msgid_len = strlen (msgid) + 1;\n  const char *translation;\n#if _LIBGETTEXT_HAVE_VARIABLE_SIZE_ARRAYS\n  char msg_ctxt_id[msgctxt_len + msgid_len];\n#else\n  char buf[1024];\n  char *msg_ctxt_id =\n    (msgctxt_len + msgid_len <= sizeof (buf)\n     ? buf\n     : (char *) malloc (msgctxt_len + msgid_len));\n  if (msg_ctxt_id != NULL)\n#endif\n    {\n      int found_translation;\n      memcpy (msg_ctxt_id, msgctxt, msgctxt_len - 1);\n      msg_ctxt_id[msgctxt_len - 1] = '\\004';\n      memcpy (msg_ctxt_id + msgctxt_len, msgid, msgid_len);\n      translation = dcgettext (domain, msg_ctxt_id, category);\n      found_translation = (translation != msg_ctxt_id);\n#if !_LIBGETTEXT_HAVE_VARIABLE_SIZE_ARRAYS\n      if (msg_ctxt_id != buf)\n        free (msg_ctxt_id);\n#endif\n      if (found_translation)\n        return translation;\n    }\n  return msgid;\n}\n\n#define npgettext_expr(Msgctxt, Msgid, MsgidPlural, N) \\\n  dcnpgettext_expr (NULL, Msgctxt, Msgid, MsgidPlural, N, LC_MESSAGES)\n#define dnpgettext_expr(Domainname, Msgctxt, Msgid, MsgidPlural, N) \\\n  dcnpgettext_expr (Domainname, Msgctxt, Msgid, MsgidPlural, N, LC_MESSAGES)\n\n#if defined __GNUC__ || defined __clang__\n__inline\n#else\n#ifdef __cplusplus\ninline\n#endif\n#endif\nstatic const char *\ndcnpgettext_expr (const char *domain,\n                  const char *msgctxt, const char *msgid,\n                  const char *msgid_plural, unsigned long int n,\n                  int category)\n{\n  size_t msgctxt_len = strlen (msgctxt) + 1;\n  size_t msgid_len = strlen (msgid) + 1;\n  const char *translation;\n#if _LIBGETTEXT_HAVE_VARIABLE_SIZE_ARRAYS\n  char msg_ctxt_id[msgctxt_len + msgid_len];\n#else\n  char buf[1024];\n  char *msg_ctxt_id =\n    (msgctxt_len + msgid_len <= sizeof (buf)\n     ? buf\n     : (char *) malloc (msgctxt_len + msgid_len));\n  if (msg_ctxt_id != NULL)\n#endif\n    {\n      int found_translation;\n      memcpy (msg_ctxt_id, msgctxt, msgctxt_len - 1);\n      msg_ctxt_id[msgctxt_len - 1] = '\\004';\n      memcpy (msg_ctxt_id + msgctxt_len, msgid, msgid_len);\n      translation = dcngettext (domain, msg_ctxt_id, msgid_plural, n, category);\n      found_translation = !(translation == msg_ctxt_id || translation == msgid_plural);\n#if !_LIBGETTEXT_HAVE_VARIABLE_SIZE_ARRAYS\n      if (msg_ctxt_id != buf)\n        free (msg_ctxt_id);\n#endif\n      if (found_translation)\n        return translation;\n    }\n  return (n == 1 ? msgid : msgid_plural);\n}\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}