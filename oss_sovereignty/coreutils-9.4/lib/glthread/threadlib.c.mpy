{
  "module_name": "threadlib.c",
  "hash_id": "39ffc7ff4fb2c5b9d69eee16db48bbfb253eff1281b90e2cd4541426cf8a6d88",
  "original_prompt": "Ingested from coreutils-9.4/lib/glthread/threadlib.c",
  "human_readable_source": " \n\n#include <config.h>\n\n \n\n#if USE_POSIX_THREADS || USE_ISOC_AND_POSIX_THREADS\n\n \n\n# include <errno.h>\n# include <pthread.h>\n# include <stdlib.h>\n\n# if PTHREAD_IN_USE_DETECTION_HARD\n\n#  if defined __FreeBSD__ || defined __DragonFly__                  \n\n \n\nint\nglthread_in_use (void)\n{\n  static int tested;\n  static int result;  \n\n  if (!tested)\n    {\n      pthread_key_t key;\n      int err = pthread_key_create (&key, NULL);\n\n      if (err == ENOSYS)\n        result = 0;\n      else\n        {\n          result = 1;\n          if (err == 0)\n            pthread_key_delete (key);\n        }\n      tested = 1;\n    }\n  return result;\n}\n\n#  else                                                      \n\n \n\n \nstatic void *\ndummy_thread_func (void *arg)\n{\n  return arg;\n}\n\nint\nglthread_in_use (void)\n{\n  static int tested;\n  static int result;  \n\n  if (!tested)\n    {\n      pthread_t thread;\n\n      if (pthread_create (&thread, NULL, dummy_thread_func, NULL) != 0)\n         \n        result = 0;\n      else\n        {\n           \n          void *retval;\n          if (pthread_join (thread, &retval) != 0)\n            abort ();\n          result = 1;\n        }\n      tested = 1;\n    }\n  return result;\n}\n\n#  endif\n\n# endif\n\n#endif\n\n \n\n \ntypedef int dummy;\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}