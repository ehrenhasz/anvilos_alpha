{
  "module_name": "mknodat.c",
  "hash_id": "f0ee8291071e9d397d160266e857e1152949bd280f2ed36e918b05dcd15d140a",
  "original_prompt": "Ingested from coreutils-9.4/lib/mknodat.c",
  "human_readable_source": " \n\n#include <config.h>\n\n \n#include <sys/stat.h>\n\n#include <stdlib.h>\n\n#if HAVE_MKNODAT\n\n# include <errno.h>\n# include <fcntl.h>\n# include <string.h>\n\nint\nrpl_mknodat (int fd, char const *file, mode_t mode, dev_t dev)\n#undef mknodat\n{\n   \n  size_t len = strlen (file);\n  if (len && file[len - 1] == '/')\n    {\n      struct stat st;\n\n      if (fstatat (fd, file, &st, AT_SYMLINK_NOFOLLOW) < 0)\n        {\n          if (errno == EOVERFLOW)\n             \n            errno = ENOTDIR;\n        }\n      else\n        {\n           \n          errno = EEXIST;\n        }\n      return -1;\n    }\n\n  return mknodat (fd, file, mode, dev);\n}\n\n#else\n\n# if !HAVE_MKNOD\n\n#  include <errno.h>\n\n \n\nint\nmknodat (_GL_UNUSED int fd, _GL_UNUSED char const *path,\n         _GL_UNUSED mode_t mode, _GL_UNUSED dev_t dev)\n{\n  errno = ENOSYS;\n  return -1;\n}\n\n# else\n\n \n\n#  define AT_FUNC_NAME mknodat\n#  define AT_FUNC_F1 mknod\n#  define AT_FUNC_POST_FILE_PARAM_DECLS , mode_t mode, dev_t dev\n#  define AT_FUNC_POST_FILE_ARGS        , mode, dev\n#  include \"at-func.c\"\n#  undef AT_FUNC_NAME\n#  undef AT_FUNC_F1\n#  undef AT_FUNC_POST_FILE_PARAM_DECLS\n#  undef AT_FUNC_POST_FILE_ARGS\n\n# endif\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}