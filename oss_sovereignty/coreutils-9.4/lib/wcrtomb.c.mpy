{
  "module_name": "wcrtomb.c",
  "hash_id": "53f5b937adedb84c5fba30374ed4766f75a8eb109d6353ccfa3c816e7489664f",
  "original_prompt": "Ingested from coreutils-9.4/lib/wcrtomb.c",
  "human_readable_source": " \n#include <wchar.h>\n\n#include <errno.h>\n#include <stdlib.h>\n\n\nsize_t\nwcrtomb (char *s, wchar_t wc, mbstate_t *ps)\n#undef wcrtomb\n{\n   \n  if (ps != NULL && !mbsinit (ps))\n    {\n      errno = EINVAL;\n      return (size_t)(-1);\n    }\n\n#if !HAVE_WCRTOMB                         \\\n    || WCRTOMB_RETVAL_BUG                 \\\n    || WCRTOMB_C_LOCALE_BUG              \n  if (s == NULL)\n     \n    return 1;\n  else\n#endif\n    {\n#if HAVE_WCRTOMB\n# if WCRTOMB_C_LOCALE_BUG                \n       \n      if (wc >= 0 && wc <= 0xff)\n        {\n          *s = (unsigned char) wc;\n          return 1;\n        }\n      else\n        {\n          errno = EILSEQ;\n          return (size_t)(-1);\n        }\n# else\n      return wcrtomb (s, wc, ps);\n# endif\n#else                                    \n       \n      int ret = wctomb (s, wc);\n\n      if (ret >= 0)\n        return ret;\n      else\n        {\n          errno = EILSEQ;\n          return (size_t)(-1);\n        }\n#endif\n    }\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}