{
  "module_name": "printf-frexp.c",
  "hash_id": "5f8bcb1960d94446f403f7acd86367f5810321e89eb71be4b443039c3f5236c1",
  "original_prompt": "Ingested from coreutils-9.4/lib/printf-frexp.c",
  "human_readable_source": " \n#ifdef USE_LONG_DOUBLE\n# include \"printf-frexpl.h\"\n#else\n# include \"printf-frexp.h\"\n#endif\n\n#include <float.h>\n#include <math.h>\n#ifdef USE_LONG_DOUBLE\n# include \"fpucw.h\"\n#endif\n\n \n\n#ifdef USE_LONG_DOUBLE\n# define FUNC printf_frexpl\n# define DOUBLE long double\n# define MIN_EXP LDBL_MIN_EXP\n# if HAVE_FREXPL_IN_LIBC && HAVE_LDEXPL_IN_LIBC\n#  define USE_FREXP_LDEXP\n#  define FREXP frexpl\n#  define LDEXP ldexpl\n# endif\n# define DECL_ROUNDING DECL_LONG_DOUBLE_ROUNDING\n# define BEGIN_ROUNDING() BEGIN_LONG_DOUBLE_ROUNDING ()\n# define END_ROUNDING() END_LONG_DOUBLE_ROUNDING ()\n# define L_(literal) literal##L\n#else\n# define FUNC printf_frexp\n# define DOUBLE double\n# define MIN_EXP DBL_MIN_EXP\n# if HAVE_FREXP_IN_LIBC && HAVE_LDEXP_IN_LIBC\n#  define USE_FREXP_LDEXP\n#  define FREXP frexp\n#  define LDEXP ldexp\n# endif\n# define DECL_ROUNDING\n# define BEGIN_ROUNDING()\n# define END_ROUNDING()\n# define L_(literal) literal\n#endif\n\nDOUBLE\nFUNC (DOUBLE x, int *expptr)\n{\n  int exponent;\n  DECL_ROUNDING\n\n  BEGIN_ROUNDING ();\n\n#ifdef USE_FREXP_LDEXP\n   \n  x = FREXP (x, &exponent);\n\n  x = x + x;\n  exponent -= 1;\n\n  if (exponent < MIN_EXP - 1)\n    {\n      x = LDEXP (x, exponent - (MIN_EXP - 1));\n      exponent = MIN_EXP - 1;\n    }\n#else\n  {\n     \n    DOUBLE pow2[64];  \n    DOUBLE powh[64];  \n    int i;\n\n    exponent = 0;\n    if (x >= L_(1.0))\n      {\n         \n        {\n          DOUBLE pow2_i;  \n          DOUBLE powh_i;  \n\n           \n          for (i = 0, pow2_i = L_(2.0), powh_i = L_(0.5);\n               ;\n               i++, pow2_i = pow2_i * pow2_i, powh_i = powh_i * powh_i)\n            {\n              if (x >= pow2_i)\n                {\n                  exponent += (1 << i);\n                  x *= powh_i;\n                }\n              else\n                break;\n\n              pow2[i] = pow2_i;\n              powh[i] = powh_i;\n            }\n        }\n         \n      }\n    else\n      {\n         \n        {\n          DOUBLE pow2_i;  \n          DOUBLE powh_i;  \n\n           \n          for (i = 0, pow2_i = L_(2.0), powh_i = L_(0.5);\n               ;\n               i++, pow2_i = pow2_i * pow2_i, powh_i = powh_i * powh_i)\n            {\n              if (exponent - (1 << i) < MIN_EXP - 1)\n                break;\n\n              exponent -= (1 << i);\n              x *= pow2_i;\n              if (x >= L_(1.0))\n                break;\n\n              pow2[i] = pow2_i;\n              powh[i] = powh_i;\n            }\n        }\n         \n\n        if (x < L_(1.0))\n           \n          while (i > 0)\n            {\n              i--;\n              if (exponent - (1 << i) >= MIN_EXP - 1)\n                {\n                  exponent -= (1 << i);\n                  x *= pow2[i];\n                  if (x >= L_(1.0))\n                    break;\n                }\n            }\n\n         \n      }\n\n     \n    while (i > 0)\n      {\n        i--;\n        if (x >= pow2[i])\n          {\n            exponent += (1 << i);\n            x *= powh[i];\n          }\n      }\n     \n  }\n#endif\n\n  END_ROUNDING ();\n\n  *expptr = exponent;\n  return x;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}