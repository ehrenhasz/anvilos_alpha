{
  "module_name": "long-options.c",
  "hash_id": "185be2d3221044c76adb1883b06a7a5e598312716d419ee34aa3eb9647ee6d34",
  "original_prompt": "Ingested from coreutils-9.4/lib/long-options.c",
  "human_readable_source": " \n\n#include <config.h>\n\n \n#include \"long-options.h\"\n\n#include <stdarg.h>\n#include <stdio.h>\n#include <stdlib.h>\n#include <getopt.h>\n\n#include \"version-etc.h\"\n#include \"exitfail.h\"\n\nstatic struct option const long_options[] =\n{\n  {\"help\", no_argument, NULL, 'h'},\n  {\"version\", no_argument, NULL, 'v'},\n  {NULL, 0, NULL, 0}\n};\n\n \n\nvoid\nparse_long_options (int argc,\n                    char **argv,\n                    const char *command_name,\n                    const char *package,\n                    const char *version,\n                    void (*usage_func) (int),\n                      ...)\n{\n  int c;\n  int saved_opterr;\n\n  saved_opterr = opterr;\n\n   \n  opterr = 0;\n\n  if (argc == 2\n      && (c = getopt_long (argc, argv, \"+\", long_options, NULL)) != -1)\n    {\n      switch (c)\n        {\n        case 'h':\n          (*usage_func) (EXIT_SUCCESS);\n          break;\n\n        case 'v':\n          {\n            va_list authors;\n            va_start (authors, usage_func);\n            version_etc_va (stdout, command_name, package, version, authors);\n            exit (EXIT_SUCCESS);\n          }\n\n        default:\n           \n          break;\n        }\n    }\n\n   \n  opterr = saved_opterr;\n\n   \n  optind = 0;\n}\n\n \nvoid\nparse_gnu_standard_options_only (int argc,\n                                 char **argv,\n                                 const char *command_name,\n                                 const char *package,\n                                 const char *version,\n                                 bool scan_all,\n                                 void (*usage_func) (int),\n                                   ...)\n{\n  int c;\n  int saved_opterr = opterr;\n\n   \n  opterr = 1;\n\n  const char *optstring = scan_all ? \"\" : \"+\";\n\n  if ((c = getopt_long (argc, argv, optstring, long_options, NULL)) != -1)\n    {\n      switch (c)\n        {\n        case 'h':\n          (*usage_func) (EXIT_SUCCESS);\n          break;\n\n        case 'v':\n          {\n            va_list authors;\n            va_start (authors, usage_func);\n            version_etc_va (stdout, command_name, package, version, authors);\n            exit (EXIT_SUCCESS);\n          }\n\n        default:\n          (*usage_func) (exit_failure);\n          break;\n        }\n    }\n\n   \n  opterr = saved_opterr;\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}