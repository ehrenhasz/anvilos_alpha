{
  "module_name": "alignalloc.h",
  "hash_id": "fca5ac14bad59735ecc754bd918a11e9783b3d968e78166744188bbe88a909f6",
  "original_prompt": "Ingested from coreutils-9.4/lib/alignalloc.h",
  "human_readable_source": " \n\n#ifndef ALIGNALLOC_H_\n#define ALIGNALLOC_H_\n\n \n#if !_GL_CONFIG_H_INCLUDED\n #error \"Please include config.h first.\"\n#endif\n\n#include <errno.h>\n#include <stdlib.h>\n#include \"idx.h\"\n\n_GL_INLINE_HEADER_BEGIN\n#ifndef ALIGNALLOC_INLINE\n# define ALIGNALLOC_INLINE _GL_INLINE\n#endif\n\n \n#if 2 < __GLIBC__ + (16 <= __GLIBC_MINOR__)\n# define ALIGNALLOC_VIA_ALIGNED_ALLOC 1\n#else\n# define ALIGNALLOC_VIA_ALIGNED_ALLOC 0\n#endif\n\n \n#ifdef __SANITIZE_ADDRESS__\n# undef ALIGNALLOC_VIA_ALIGNED_ALLOC\n# define ALIGNALLOC_VIA_ALIGNED_ALLOC 0\n#endif\n#ifdef __has_feature\n# if __has_feature (address_sanitizer)\n#  undef ALIGNALLOC_VIA_ALIGNED_ALLOC\n#  define ALIGNALLOC_VIA_ALIGNED_ALLOC 0\n# endif\n#endif\n\n#if ALIGNALLOC_VIA_ALIGNED_ALLOC || HAVE_POSIX_MEMALIGN\n\n \n\nALIGNALLOC_INLINE void\nalignfree (void *ptr)\n{\n  free (ptr);\n}\n\n \n\nALIGNALLOC_INLINE\n_GL_ATTRIBUTE_MALLOC _GL_ATTRIBUTE_ALLOC_SIZE ((2))\n \nvoid *\nalignalloc (idx_t alignment, idx_t size)\n{\n  if ((size_t) -1 < alignment)\n    alignment = (size_t) -1;\n  if ((size_t) -1 < size)\n    size = (size_t) -1;\n\n# if ALIGNALLOC_VIA_ALIGNED_ALLOC\n  return aligned_alloc (alignment, size);\n# else\n  void *ptr = NULL;\n  if (alignment < sizeof (void *))\n    alignment = sizeof (void *);\n  errno = posix_memalign (&ptr, alignment, size | !size);\n  return ptr;\n# endif\n}\n\n#else  \n\nvoid alignfree (void *);\nvoid *alignalloc (idx_t, idx_t)\n  _GL_ATTRIBUTE_MALLOC _GL_ATTRIBUTE_ALLOC_SIZE ((2))\n  _GL_ATTRIBUTE_DEALLOC (alignfree, 1);\n\n#endif\n\n \nvoid *xalignalloc (idx_t, idx_t)\n  _GL_ATTRIBUTE_MALLOC _GL_ATTRIBUTE_ALLOC_SIZE ((2))\n  _GL_ATTRIBUTE_RETURNS_NONNULL  ;\n\n_GL_INLINE_HEADER_END\n\n#endif  \n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}