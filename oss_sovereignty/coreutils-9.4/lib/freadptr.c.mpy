{
  "module_name": "freadptr.c",
  "hash_id": "21dc1bad49b6bdab3ae437a61a60211adec5a5f71312ff1c8c5d864abf78c96c",
  "original_prompt": "Ingested from coreutils-9.4/lib/freadptr.c",
  "human_readable_source": " \n#include \"freadptr.h\"\n\n#include <stdlib.h>\n\n#include \"stdio-impl.h\"\n\n \n\nconst char *\nfreadptr (FILE *fp, size_t *sizep)\n{\n  size_t size;\n\n   \n#if defined _IO_EOF_SEEN || defined _IO_ftrylockfile || __GNU_LIBRARY__ == 1\n   \n  if (fp->_IO_write_ptr > fp->_IO_write_base)\n    return NULL;\n  size = fp->_IO_read_end - fp->_IO_read_ptr;\n  if (size == 0)\n    return NULL;\n  *sizep = size;\n  return (const char *) fp->_IO_read_ptr;\n#elif defined __sferror || defined __DragonFly__ || defined __ANDROID__\n   \n  if ((fp_->_flags & __SWR) != 0 || fp_->_r < 0)\n    return NULL;\n  size = fp_->_r;\n  if (size == 0)\n    return NULL;\n  *sizep = size;\n  return (const char *) fp_->_p;\n#elif defined __EMX__                \n  if ((fp->_flags & _IOWRT) != 0)\n    return NULL;\n   \n  if (fp->_rcount <= 0)\n    return NULL;\n  if (!(fp->_ungetc_count == 0))\n    abort ();\n  *sizep = fp->_rcount;\n  return fp->_ptr;\n#elif defined __minix                \n  if ((fp_->_flags & _IOWRITING) != 0)\n    return NULL;\n  size = fp_->_count;\n  if (size == 0)\n    return NULL;\n  *sizep = size;\n  return (const char *) fp_->_ptr;\n#elif defined _IOERR                 \n  if ((fp_->_flag & _IOWRT) != 0)\n    return NULL;\n  size = fp_->_cnt;\n  if (size == 0)\n    return NULL;\n  *sizep = size;\n  return (const char *) fp_->_ptr;\n#elif defined __UCLIBC__             \n# ifdef __STDIO_BUFFERS\n  if (fp->__modeflags & __FLAG_WRITING)\n    return NULL;\n  if (fp->__modeflags & __FLAG_UNGOT)\n    return NULL;\n  size = fp->__bufread - fp->__bufpos;\n  if (size == 0)\n    return NULL;\n  *sizep = size;\n  return (const char *) fp->__bufpos;\n# else\n  return NULL;\n# endif\n#elif defined __QNX__                \n  if ((fp->_Mode & 0x2000  ) != 0)\n    return NULL;\n   \n  size = fp->_Rend - fp->_Next;\n  if (size == 0)\n    return NULL;\n  *sizep = size;\n  return (const char *) fp->_Next;\n#elif defined __MINT__               \n  if (!fp->__mode.__read)\n    return NULL;\n  size = fp->__get_limit - fp->__bufp;\n  if (size == 0)\n    return NULL;\n  *sizep = size;\n  return fp->__bufp;\n#elif defined EPLAN9                 \n  if (fp->state == 4  )\n    return NULL;\n  if (fp->rp >= fp->wp)\n    return NULL;\n  *sizep = fp->wp - fp->rp;\n  return fp->rp;\n#elif defined SLOW_BUT_NO_HACKS      \n   \n  return NULL;\n#else\n #error \"Please port gnulib freadptr.c to your platform! Look at the definition of fflush, fread, getc, getc_unlocked on your system, then report this to bug-gnulib.\"\n#endif\n}\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}