{
  "module_name": "Makefile.am",
  "hash_id": "09680f0a0b82b31df31a71263a5b873eaf70de4467dad7995e362cbbe37d9465",
  "original_prompt": "Ingested from coreutils-9.4/Makefile.am",
  "human_readable_source": "# Make coreutils.\t\t\t\t\t-*-Makefile-*-\n\n# Copyright (C) 1990-2023 Free Software Foundation, Inc.\n\n# This program is free software: you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation, either version 3 of the License, or\n# (at your option) any later version.\n\n# This program is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n# GNU General Public License for more details.\n\n# You should have received a copy of the GNU General Public License\n# along with this program.  If not, see <https://www.gnu.org/licenses/>.\n\nALL_RECURSIVE_TARGETS =\n\nSUBDIRS = po . gnulib-tests\n\nEXTRA_DIST =\t\t\t\t\\\n  .mailmap\t\t\t\t\\\n  .prev-version\t\t\t\t\\\n  .version\t\t\t\t\\\n  .vg-suppressions\t\t\t\\\n  README-install\t\t\t\\\n  THANKS.in\t\t\t\t\\\n  THANKS-to-translators\t\t\t\\\n  THANKStt.in\t\t\t\t\\\n  bootstrap\t\t\t\t\\\n  bootstrap.conf\t\t\t\\\n  build-aux/gen-lists-of-programs.sh\t\\\n  build-aux/gen-single-binary.sh\t\\\n  cfg.mk\t\t\t\t\\\n  dist-check.mk\t\t\t\t\\\n  maint.mk\t\t\t\t\\\n  tests/GNUmakefile\t\t\t\\\n  thanks-gen\n\ngen_progs_lists = $(top_srcdir)/build-aux/gen-lists-of-programs.sh\ngen_single_binary = $(top_srcdir)/build-aux/gen-single-binary.sh\n\n# Keep these in sync with bootstrap.conf:bootstrap_post_import_hook().\n# Use '$(top_srcdir)/m4' and '$(srcdir)/src' for the benefit of non-GNU\n# makes: it is with those directories that 'cu-progs.m4' and 'cu-progs.mk'\n# appear in our dependencies.\n$(top_srcdir)/m4/cu-progs.m4: $(gen_progs_lists)\n\t$(AM_V_GEN)rm -f $@ $@-t \\\n\t  && $(SHELL) $(gen_progs_lists) --autoconf >$@-t \\\n\t  && chmod a-w $@-t && mv -f $@-t $@\n$(srcdir)/src/cu-progs.mk: $(gen_progs_lists)\n\t$(AM_V_GEN)rm -f $@ $@-t \\\n\t  && $(SHELL) $(gen_progs_lists) --automake >$@-t \\\n\t  && chmod a-w $@-t && mv -f $@-t $@\n$(srcdir)/src/single-binary.mk: $(gen_single_binary) $(srcdir)/src/local.mk\n\t$(AM_V_GEN)rm -f $@ $@-t \\\n\t  && $(SHELL) $(gen_single_binary) $(srcdir)/src/local.mk >$@-t \\\n\t  && chmod a-w $@-t && mv -f $@-t $@\n\nACLOCAL_AMFLAGS = -I m4\n\n# Shortcut targets to make it easier to run (very) expensive tests.\ncheck-expensive:\n\t$(MAKE) check RUN_EXPENSIVE_TESTS=yes\ncheck-very-expensive:\n\t$(MAKE) check-expensive RUN_VERY_EXPENSIVE_TESTS=yes\n\n# Just prior to distribution, ...\n# transform the automake-generated rule that runs 'rm -f rm'.\n# On some systems, that command would fail with a diagnostic like\n# \"rm: cannot unlink 'rm': Text file busy\" when '.' appears so early\n# in the shell's search path that running 'rm' would run the 'rm'\n# executable in the current directory.\n# Similarly, adjust the clean-binPROGRAMS rule.\nrm_subst = \\\n  s!(rm -f (rm\\b|\\$$\\(bin_PROGRAMS\\)$$))!$$1 > /dev/null 2>&1 || /bin/$$1!\n\nBUILT_SOURCES = .version\n.version:\n\t$(AM_V_GEN)echo $(VERSION) > $@-t && mv $@-t $@\n\n# Have no read-only files in the tarball to allow easy removal.\n# Have .tarball-version based versions only in tarball builds.\n# Have .timestamp based dates only in tarball builds.\n# The perl substitution is to change some key uses of \"rm\" to \"/bin/rm\".\n# See the rm_subst comment for details.\n# The touch avoids a subtle, spurious \"make distcheck\" failure.\ndist-hook: gen-ChangeLog\n\t$(AM_V_GEN)chmod -R +rw $(distdir)\n\t$(AM_V_GEN)echo $(VERSION) > $(distdir)/.tarball-version\n\t$(AM_V_GEN)date +%s > $(distdir)/.timestamp\n\t$(AM_V_at)perl -pi -e '$(rm_subst)' $(distdir)/Makefile.in\n\t$(AM_V_at)touch $(distdir)/doc/constants.texi \\\n\t  $(distdir)/doc/coreutils.info\n\ngen_start_ver = 8.30\n.PHONY: gen-ChangeLog\ngen-ChangeLog:\n\t$(AM_V_GEN)if test -d .git; then\t\t\t\t\\\n\t  log_fix=\"$(srcdir)/build-aux/git-log-fix\";\t\t\t\\\n\t  test -e \"$$log_fix\"\t\t\t\t\t\t\\\n\t    && amend_git_log=\"--amend=$$log_fix\"\t\t\t\\\n\t    || amend_git_log=;\t\t\t\t\t\t\\\n\t  $(top_srcdir)/build-aux/gitlog-to-changelog $$amend_git_log\t\\\n\t    -- v$(gen_start_ver)~.. > $(distdir)/cl-t &&\t\t\\\n\t    { printf '\\n\\nSee the source repo for older entries\\n'\t\\\n\t      >> $(distdir)/cl-t &&\t\t\t\t\t\\\n\t      rm -f $(distdir)/ChangeLog &&\t\t\t\t\\\n\t      mv $(distdir)/cl-t $(distdir)/ChangeLog; }\t\t\\\n\tfi\n\nALL_RECURSIVE_TARGETS += distcheck-hook\ndistcheck-hook: check-ls-dircolors\n\t$(MAKE) my-distcheck\n\t$(MAKE) taint-distcheck\n\nDISTCLEANFILES = VERSION\nMAINTAINERCLEANFILES = THANKS-to-translators\nTHANKS-to-translators: po/LINGUAS THANKStt.in\n\t$(AM_V_GEN)(\t\t\t\t\t\t\t\\\n\t  cat $(srcdir)/THANKStt.in;\t\t\t\t\t\\\n\t  for lang in `cat $(srcdir)/po/LINGUAS`; do\t\t\t\\\n\t    echo https://translationproject.org/team/$$lang.html;\t\\\n\t  done;\t\t\t\t\t\t\t\t\\\n\t) > $@-tmp && mv $@-tmp $@\n\n# Ensure that the sets of two-letter codes in ls.c and dircolors.c\n# remain in sync.\n.PHONY: check-ls-dircolors\ncheck-ls-dircolors:\n\t$(AM_V_GEN)dc=$$(sed -n '/static.*ls_codes\\[/,/};'/p\t\\\n\t    $(srcdir)/src/dircolors.c\t\t\t\t\\\n\t  |sed -n '/^  *\"/p'|tr , '\\n'|sed 's/^  *//'\t\t\\\n\t  |sed -n 's/^\"\\(..\\)\"/\\1/p'|sort -u);\t\t\t\\\n\tls=$$(sed -n '/static.*indicator_name\\[/,/};'/\\p\t\\\n\t    $(srcdir)/src/ls.c\t\t\t\t\t\\\n\t  |sed -n '/^  *\"/p'|tr , '\\n'|sed 's/^  *//'\t\t\\\n\t  |sed -n 's/^\"\\(..\\)\"/\\1/p'|sort -u);\t\t\t\\\n\ttest \"$$dc\" = \"$$ls\"\n\n# Sort in traditional ASCII order, regardless of the current locale;\n# otherwise we may get into trouble with distinct strings that the\n# current locale considers to be equal.\nASSORT = LC_ALL=C sort\n\n# Extract all lines up to the first one starting with \"##\".\nprologue = perl -ne '/^\\#\\#/ and exit; print' $(srcdir)/THANKS.in\n\n# FIXME: avoid dependency to build our own 'sort' for 'make dist' ...\n# when common platforms have a functional case-folding implementation:\n#   $ test 'ab\u00e1cad' = \"$(printf '%s\\n' 'ab' '\u00e1c' 'ad' \\\n#                          | LC_ALL=en_US.UTF-8 sort -f \\\n#                          | tr -d '\\n')\" && echo GOOD || echo BAD\n# Note we don't enable case folding (-f) in the sort below, due to bugs\n# in the I18N patch used in many distros (as of 2015).  Also using our\n# own src/sort here would induce awkward dependencies for `make dist`.\nTHANKS: THANKS.in Makefile.am .mailmap thanks-gen .version\n\t$(AM_V_GEN)rm -f $@-t $@;\t\t\t\t\t\\\n\t{\t\t\t\t\t\t\t\t\\\n\t  $(prologue); echo;\t\t\t\t\t\t\\\n\t  { perl -ne '/^$$/.../^$$/ and !/^$$/ and s/  +/\\0/ and print'\t\\\n\t      $(srcdir)/THANKS.in;\t\t\t\t\t\\\n\t    git log --pretty=format:'%aN%x00%aE'\t\t\t\\\n\t      | $(ASSORT) -u;\t\t\t\t\t\t\\\n\t  } | $(srcdir)/thanks-gen\t\t\t\t\t\\\n\t    | LC_ALL=en_US.UTF-8 sort -k1,1;\t\t\t\t\\\n\t  echo;\t\t\t\t\t\t\t\t\\\n\t  printf ';; %s\\n' 'Local Variables:' 'coding: utf-8' End:;\t\\\n\t} > $@-t && chmod a-w $@-t && mv $@-t $@\n\n# Some of our git hook scripts are supposed to be identical to git's samples.\n# See if they are still in sync.\n.PHONY: check-git-hook-script-sync\ncheck-git-hook-script-sync:\n\t@fail=0;\t\t\t\t\t\t\t\\\n\tt=$$(mktemp -d)\t\t\t\t\t\t\t\\\n\t  && cd $$t && git init -q && cd .git/hooks\t\t\t\\\n\t  && for i in pre-commit pre-applypatch applypatch-msg; do\t\\\n\t       diff $(abs_top_srcdir)/scripts/git-hooks/$$i $$i.sample\t\\\n\t\t || fail=1;\t\t\t\t\t\t\\\n\t     done;\t\t\t\t\t\t\t\\\n\trm -rf $$t;\t\t\t\t\t\t\t\\\n\ttest $$fail = 0\n\n# If we are building a single-binary, create symlinks or shebangs for\n# the selected tools when installing.\ninstall-exec-hook:\n\t$(AM_V_at)ctrans=$$(printf coreutils | sed -e \"$(transform)\");\t\\\n\tfor p in x $(single_binary_progs); do\t\t\t\t\\\n\t  test $$p = x && continue;\t\t\t\t\t\\\n\t  ptrans=$$(printf '%s' \"$$p\" | sed -e \"$(transform)\");\t\t\\\n\t  rm -f $(DESTDIR)$(bindir)/$$ptrans$(EXEEXT) || exit $$?;\t\\\n\t  if test \"x$(single_binary_install_type)\" = xshebangs; then\t\\\n\t    printf '#!%s --coreutils-prog-shebang=%s\\n'\t\t\t\\\n\t      $(bindir)/$$ctrans$(EXEEXT) $$p\t\t\t\t\\\n\t      >$(DESTDIR)$(bindir)/$$ptrans$(EXEEXT) || exit $$?;\t\\\n\t    chmod a+x,a-w $(DESTDIR)$(bindir)/$$ptrans$(EXEEXT) || exit $$?;\\\n\t  else\t\t\t\t\t\t\t\t\\\n\t    $(LN_S) -s $$ctrans$(EXEEXT)\t\t\t\t\\\n\t      $(DESTDIR)$(bindir)/$$ptrans$(EXEEXT) || exit $$?;\t\\\n\t  fi\t\t\t\t\t\t\t\t\\\n\tdone\n\nnoinst_LIBRARIES =\nMOSTLYCLEANFILES =\nCLEANFILES =\nMOSTLYCLEANDIRS =\n\nAM_CPPFLAGS = -Ilib -I$(top_srcdir)/lib -Isrc -I$(top_srcdir)/src\n\ninclude $(top_srcdir)/lib/local.mk\ninclude $(top_srcdir)/src/local.mk\ninclude $(top_srcdir)/doc/local.mk\ninclude $(top_srcdir)/man/local.mk\ninclude $(top_srcdir)/tests/local.mk\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}