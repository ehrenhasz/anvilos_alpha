{
  "module_name": "lzio.h",
  "hash_id": "ee6c52d333ac05139c6e719633cec8712bbb165ea9c72cf63f90b4eb752b87e9",
  "original_prompt": "Ingested from zfs-2.2.2/module/lua/lzio.h",
  "human_readable_source": " \n\n\n#ifndef lzio_h\n#define lzio_h\n\n#include <sys/lua/lua.h>\n\n#include \"lmem.h\"\n\n\n#define EOZ\t(-1)\t\t\t \n\ntypedef struct Zio ZIO;\n\n#define zgetc(z)  (((z)->n--)>0 ?  cast_uchar(*(z)->p++) : luaZ_fill(z))\n\n\ntypedef struct Mbuffer {\n  char *buffer;\n  size_t n;\n  size_t buffsize;\n} Mbuffer;\n\n#define luaZ_initbuffer(L, buff) ((buff)->buffer = NULL, (buff)->buffsize = 0)\n\n#define luaZ_buffer(buff)\t((buff)->buffer)\n#define luaZ_sizebuffer(buff)\t((buff)->buffsize)\n#define luaZ_bufflen(buff)\t((buff)->n)\n\n#define luaZ_resetbuffer(buff) ((buff)->n = 0)\n\n\n#define luaZ_resizebuffer(L, buff, size) \\\n\t(luaM_reallocvector(L, (buff)->buffer, (buff)->buffsize, size, char), \\\n\t(buff)->buffsize = size)\n\n#define luaZ_freebuffer(L, buff)\tluaZ_resizebuffer(L, buff, 0)\n\n\nLUAI_FUNC char *luaZ_openspace (lua_State *L, Mbuffer *buff, size_t n);\nLUAI_FUNC void luaZ_init (lua_State *L, ZIO *z, lua_Reader reader,\n                                        void *data);\nLUAI_FUNC size_t luaZ_read (ZIO* z, void* b, size_t n);\t \n\n\n\n \n\nstruct Zio {\n  size_t n;\t\t\t \n  const char *p;\t\t \n  lua_Reader reader;\t\t \n  void* data;\t\t\t \n  lua_State *L;\t\t\t \n};\n\n\nLUAI_FUNC int luaZ_fill (ZIO *z);\n\n#endif\n",
  "logic_map": {},
  "failure_modes": [],
  "crash_correlation_map": {}
}